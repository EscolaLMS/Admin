"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4471],{88284:function(_e,S,e){var o=e(1413),g=e(67294),D=e(32857),m=e(84089),C=function(r,P){return g.createElement(m.Z,(0,o.Z)((0,o.Z)({},r),{},{ref:P,icon:D.Z}))},O=g.forwardRef(C);S.Z=O},28508:function(_e,S,e){var o=e(1413),g=e(67294),D=e(89503),m=e(84089),C=function(r,P){return g.createElement(m.Z,(0,o.Z)((0,o.Z)({},r),{},{ref:P,icon:D.Z}))},O=g.forwardRef(C);S.Z=O},69753:function(_e,S,e){var o=e(1413),g=e(67294),D=e(49495),m=e(84089),C=function(r,P){return g.createElement(m.Z,(0,o.Z)((0,o.Z)({},r),{},{ref:P,icon:D.Z}))},O=g.forwardRef(C);S.Z=O},47389:function(_e,S,e){var o=e(1413),g=e(67294),D=e(27363),m=e(84089),C=function(r,P){return g.createElement(m.Z,(0,o.Z)((0,o.Z)({},r),{},{ref:P,icon:D.Z}))},O=g.forwardRef(C);S.Z=O},55725:function(_e,S,e){var o=e(1413),g=e(67294),D=e(85118),m=e(84089),C=function(r,P){return g.createElement(m.Z,(0,o.Z)((0,o.Z)({},r),{},{ref:P,icon:D.Z}))},O=g.forwardRef(C);S.Z=O},56717:function(_e,S,e){var o=e(1413),g=e(67294),D=e(93696),m=e(84089),C=function(r,P){return g.createElement(m.Z,(0,o.Z)((0,o.Z)({},r),{},{ref:P,icon:D.Z}))},O=g.forwardRef(C);S.Z=O},51042:function(_e,S,e){var o=e(1413),g=e(67294),D=e(42110),m=e(84089),C=function(r,P){return g.createElement(m.Z,(0,o.Z)((0,o.Z)({},r),{},{ref:P,icon:D.Z}))},O=g.forwardRef(C);S.Z=O},63434:function(_e,S,e){var o=e(1413),g=e(45987),D=e(22270),m=e(84567),C=e(67294),O=e(90789),f=e(41550),r=e(85893),P=["options","fieldProps","proFieldProps","valueEnum"],T=C.forwardRef(function(b,A){var L=b.options,y=b.fieldProps,j=b.proFieldProps,t=b.valueEnum,E=(0,g.Z)(b,P);return(0,r.jsx)(f.Z,(0,o.Z)({ref:A,valueType:"checkbox",valueEnum:(0,D.h)(t,void 0),fieldProps:(0,o.Z)({options:L},y),lightProps:(0,o.Z)({labelFormatter:function(){return(0,r.jsx)(f.Z,(0,o.Z)({ref:A,valueType:"checkbox",mode:"read",valueEnum:(0,D.h)(t,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,o.Z)({options:L},y),proFieldProps:j},E))}},E.lightProps),proFieldProps:j},E))}),X=C.forwardRef(function(b,A){var L=b.fieldProps,y=b.children;return(0,r.jsx)(m.Z,(0,o.Z)((0,o.Z)({ref:A},L),{},{children:y}))}),h=(0,O.G)(X,{valuePropName:"checked"}),U=h;U.Group=T,S.Z=U},31199:function(_e,S,e){var o=e(1413),g=e(45987),D=e(67294),m=e(41550),C=e(85893),O=["fieldProps","min","proFieldProps","max"],f=function(T,X){var h=T.fieldProps,U=T.min,b=T.proFieldProps,A=T.max,L=(0,g.Z)(T,O);return(0,C.jsx)(m.Z,(0,o.Z)({valueType:"digit",fieldProps:(0,o.Z)({min:U,max:A},h),ref:X,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:b},L))},r=D.forwardRef(f);S.Z=r},86615:function(_e,S,e){var o=e(1413),g=e(45987),D=e(22270),m=e(55742),C=e(67294),O=e(90789),f=e(41550),r=e(85893),P=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],T=C.forwardRef(function(b,A){var L=b.fieldProps,y=b.options,j=b.radioType,t=b.layout,E=b.proFieldProps,Z=b.valueEnum,k=(0,g.Z)(b,P);return(0,r.jsx)(f.Z,(0,o.Z)((0,o.Z)({valueType:j==="button"?"radioButton":"radio",ref:A,valueEnum:(0,D.h)(Z,void 0)},k),{},{fieldProps:(0,o.Z)({options:y,layout:t},L),proFieldProps:E,filedConfig:{customLightMode:!0}}))}),X=C.forwardRef(function(b,A){var L=b.fieldProps,y=b.children;return(0,r.jsx)(m.ZP,(0,o.Z)((0,o.Z)({},L),{},{ref:A,children:y}))}),h=(0,O.G)(X,{valuePropName:"checked",ignoreWidth:!0}),U=h;U.Group=T,U.Button=m.ZP.Button,U.displayName="ProFormComponent",S.Z=U},90672:function(_e,S,e){var o=e(1413),g=e(45987),D=e(67294),m=e(41550),C=e(85893),O=["fieldProps","proFieldProps"],f=function(P,T){var X=P.fieldProps,h=P.proFieldProps,U=(0,g.Z)(P,O);return(0,C.jsx)(m.Z,(0,o.Z)({ref:T,valueType:"textarea",fieldProps:X,proFieldProps:h},U))};S.Z=D.forwardRef(f)},16894:function(_e,S,e){var o=e(48433);S.ZP=o.Z},20568:function(_e,S,e){e.d(S,{Z:function(){return oe}});var o=e(19632),g=e.n(o),D=e(97857),m=e.n(D),C=e(5574),O=e.n(C),f=e(67294),r=e(17578),P=e(78957),T=e(25043),X=e(55102),h=e(14726),U=e(2487),b=e(72252),A=e(82061),L=e(55725),y=e(69753),j=e(80854),t=e(29477),E=e(85893),Z=function(ee){var a=ee.directory,G=ee.onUploaded;return(0,E.jsxs)(P.Z,{align:"start",children:[(0,E.jsxs)(T.Z.Text,{children:[(0,E.jsx)(j.FormattedMessage,{id:"pages.files.filesBrowser"}),(0,E.jsx)(T.Z.Text,{code:!0,children:a})]}),(0,E.jsx)(t.Z,{url:"/api/admin/file/upload",name:"file[]",data:{target:a},onUpload:function(pe){pe.success&&G(a,pe.data)}})]})},k=function(ee){var a=ee.defaultDirectory,G=a===void 0?"/":a,ce=ee.onFile,pe=ee.hideDeleteBtn,se=pe===void 0?!1:pe,te=ee.forceLoading,s=te===void 0?!1:te,F=(0,j.useIntl)(),z=(0,f.useState)({loading:!1,name:"",directory:G,current_page:1,data:void 0,per_page:1,last_page:1,total:0}),n=O()(z,2),l=n[0],c=n[1],v=(0,f.useRef)(),i=(0,f.useCallback)(function(_){c(function(d){return m()(m()({},d),{},{loading:_})})},[]),u=(0,f.useCallback)(function(_,d){_.success&&c(function(K){return m()(m()(m()({},K),_.data),{},{data:[{url:d.split("/").slice(0,-1).join("/"),name:"..",created_at:"",mime:"directory"}].concat(g()(_.data.data.map(function(R){return m()(m()({},R),{},{url:R.mime==="directory"?"".concat(d,"/").concat(R.name):R.url})}))).filter(function(R){return d==="/"||d===G?R.name!=="..":!0}),directory:d,loading:!1})})},[i]),M=(0,f.useCallback)(function(_){var d,K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,R=function(){return v.current&&v.current.abort()};return R(),v.current=new AbortController,i(!0),(0,r.QZ)({directory:_,page:K},{signal:(d=v.current)===null||d===void 0?void 0:d.signal}).then(function(Q){Q.success&&u(Q,_)}).catch(function(){return i(!1)}),function(){R()}},[i]);(0,f.useEffect)(function(){return M(G)},[G,M]);var $=(0,f.useCallback)(function(_){i(!0),(0,r.Od)(_).then(function(){M(l.directory)}).catch(function(){i(!1)})},[M,i,l.directory]),W=(0,f.useCallback)(function(_,d){var K,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,Q=function(){return v.current&&v.current.abort()};return Q(),v.current=new AbortController,i(!0),(0,r.ht)({directory:_,name:d,page:R},{signal:(K=v.current)===null||K===void 0?void 0:K.signal}).then(function(J){J.success&&u(J,_)}).catch(function(){return i(!1)}),function(){Q()}},[i]);return(0,E.jsxs)("div",{className:"file-browser",children:[(0,E.jsxs)("div",{className:"file-browser__header",children:[(0,E.jsx)(X.Z,{placeholder:F.formatMessage({id:"search_file"}),className:"file-browser__input",onChange:function(d){return c(function(K){return m()(m()({},K),{},{name:d.target.value})})},value:l.name}),(0,E.jsxs)("div",{children:[(0,E.jsx)(h.ZP,{className:"file-browser__button",onClick:function(){return M(l.directory)},children:(0,E.jsx)(j.FormattedMessage,{id:"reset"})}),(0,E.jsx)(h.ZP,{className:"file-browser__button",type:"primary",onClick:function(){return W(l.directory,l.name)},children:(0,E.jsx)(j.FormattedMessage,{id:"query"})})]})]}),(0,E.jsx)(U.Z,{loading:l.loading||s,size:"small",itemLayout:"horizontal",dataSource:l.data,header:(0,E.jsx)(Z,{directory:l.directory,onUploaded:function(d,K){K&&(M(d),ce&&ce(K,d))}}),footer:(0,E.jsx)(Z,{directory:l.directory,onUploaded:function(d,K){M(d),K&&ce&&ce(K,d)}}),renderItem:function(d){return(0,E.jsx)(U.Z.Item,{actions:d.mime!=="directory"&&!se?[(0,E.jsx)(h.ZP,{type:"default",danger:!0,icon:(0,E.jsx)(A.Z,{}),size:"small",onClick:function(){return $(d.url)}},"dir")]:[],children:(0,E.jsx)(U.Z.Item.Meta,{avatar:d.mime==="directory"?(0,E.jsx)(h.ZP,{type:"primary",icon:(0,E.jsx)(L.Z,{}),size:"small",onClick:function(){return M(d.url)}}):(0,E.jsx)("a",{href:d.url,target:"_blank",rel:"noreferrer",children:(0,E.jsx)(h.ZP,{type:"default",icon:(0,E.jsx)(y.Z,{}),size:"small"})}),description:(0,E.jsx)(f.Fragment,{children:(0,E.jsx)(h.ZP,{type:"text",size:"small",onClick:function(){return d.mime==="directory"?M(d.url):ce&&ce(d,l.directory)},children:d.name})})})})}}),(0,E.jsx)(b.Z,{pageSizeOptions:[],current:l.current_page,total:l.total,pageSize:l.per_page,onChange:function(d){return M(l.directory,d)}})]})},oe=k},29477:function(_e,S,e){var o=e(97857),g=e.n(o),D=e(5574),m=e.n(D),C=e(55523),O=e(75842),f=e(21974),r=e(67294),P=e(80854),T=e(85893);function X(h){var U=h.onChange,b=h.onUpload,A=h.url,L=h.name,y=h.extra,j=h.accept,t=h.data,E=h.wrapInForm,Z=E===void 0?!0:E,k=h.title,oe=h.formProps,Y=h.maxFiles,ee=h.clearListAfterUpload,a=h.hideLabel,G=h.disabled,ce=h.showUploadList,pe=(0,r.useState)(),se=m()(pe,2),te=se[0],s=se[1],F=(0,P.useIntl)();return t&&t[L]&&delete t[L],(0,T.jsx)(f.Z,{condition:Z,wrap:function(n){return(0,T.jsx)(O.Z,g()(g()({},oe),{},{children:n}))},children:(0,T.jsx)(C.Z,{title:k||" ".concat(F.formatMessage({id:"upload_click_here"})),placeholder:F.formatMessage({id:"upload_click_here"}),label:!a&&(0,T.jsx)(P.FormattedMessage,{id:"upload"}),max:Y!=null?Y:2,fieldProps:{data:t,accept:j,name:L,showUploadList:ce,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))},onChange:function(n){s(n),U&&U(n),n.file.status==="done"&&(b&&b(n.file.response),ee&&s(void 0))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(A),extra:y,fileList:te==null?void 0:te.fileList,disabled:G})})}S.Z=X},19411:function(_e,S,e){e.d(S,{ZP:function(){return U}});var o=e(15009),g=e.n(o),D=e(99289),m=e.n(D),C=e(17578),O=e(2800),f=e.n(O),r=e(67294),P=e(80854),T=e(85893),X=function(A){var L=A.attrs,y=L.href,j=y.split("/").pop();return(0,T.jsx)("p",{children:(0,T.jsx)("a",{rel:"noreferrer",href:y,target:"_blank",children:j})})},h=function(A){var L=A.value,y=A.onChange,j=A.directory,t=j===void 0?"/wysiwyg":j,E=(0,P.useIntl)();return(0,T.jsx)("div",{className:"form-wysiwyg-markdown",children:(0,T.jsx)(f(),{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function(){return!0},component:X}],uploadImage:function(){var Z=m()(g()().mark(function k(oe){var Y,ee;return g()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,(0,C.ws)(oe,t);case 2:if(Y=G.sent,!Y.success){G.next=8;break}if(!oe.type.includes("image/")){G.next=7;break}return ee=Y.data[0].name.includes("/")?Y.data[0].name:"".concat(t).concat(Y.data[0].name),G.abrupt("return",(0,C.pV)(ee,1e3));case 7:return G.abrupt("return",Y.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return G.stop()}},k)}));return function(k){return Z.apply(this,arguments)}}(),defaultValue:L||"",onChange:function(k){return y&&y(k())},placeholder:E.formatMessage({id:"wysiwyg_placeholder"})})})},U=h},62343:function(_e,S,e){var o=e(52677),g=e.n(o),D=e(5574),m=e.n(D),C=e(952),O=e(37476),f=e(5966),r=e(52688),P=e(86615),T=e(90672),X=e(63434),h=e(31199),U=e(55102),b=e(14726),A=e(75842),L=e(49288),y=e(67294),j=e(43564),t=e(80854),E=e(20568),Z=e(19411),k=e(88284),oe=e(28508),Y=e(55171),ee=e.n(Y),a=e(85893),G=function(se){var te=se.value,s=se.onChange,F=se.type,z=F===void 0?"file":F,n=(0,y.useState)(!1),l=m()(n,2),c=l[0],v=l[1];return(0,a.jsxs)(y.Fragment,{children:[(0,a.jsxs)(C.ZP.Group,{children:[(0,a.jsx)(U.Z,{value:te,readOnly:!0}),(0,a.jsxs)(b.ZP,{size:"small",type:"primary",onClick:function(){return v(!c)},children:["toggle ",z," browser"]})]}),c&&(0,a.jsx)(E.Z,{onFile:function(u,M){return s&&s("".concat(M,"/").concat(u.name))}})]})},ce=function(se){var te=(0,t.useIntl)(),s=se.visible,F=se.onVisibleChange,z=se.onFinish,n=se.id,l=se.initialData,c=se.groups,v=A.Z.useForm(),i=m()(v,1),u=i[0],M=!n||n===-1,$=(0,y.useState)("text"),W=m()($,2),_=W[0],d=W[1],K=(0,y.useCallback)(function(){return!!(u.getFieldValue("group")==="global"||l)},[u,l]),R=(0,y.useState)(""),Q=m()(R,2),J=Q[0],Pe=Q[1];(0,y.useEffect)(function(){if(g()(n)==="object"){var V;u.setFieldsValue(n),d((V=n.type)!==null&&V!==void 0?V:"text")}else n&&n!==-1?(0,j.GF)(Number(n)).then(function(ue){ue.success&&(u.setFieldsValue(ue.data),d(ue.data.type),Pe(ue.data.group))}):(u.resetFields(),d("text"))},[n,u,l]);var Ce=(0,y.useCallback)(function(V){V.type&&V.type!==_&&d(V.type)},[_]);return(0,a.jsxs)(O.Y,{form:u,title:te.formatMessage({id:n?"editSetting":"newSetting",defaultMessage:n?"editSetting":"newSetting"}),width:"60vw",visible:!!s,onVisibleChange:F,onFinish:z,onValuesChange:Ce,children:[(0,a.jsxs)(C.ZP.Group,{children:[l?(0,a.jsx)(f.Z,{label:(0,a.jsx)(t.FormattedMessage,{id:"group",defaultMessage:"group"}),rules:[{required:!0}],width:"md",name:"group",disabled:K()}):(0,a.jsx)(C.ZP.Item,{label:(0,a.jsx)(t.FormattedMessage,{id:"group",defaultMessage:"group"}),name:"group",children:(0,a.jsx)(L.Z,{style:{width:"300px"},autoFocus:!0,value:J,onChange:function(ue){return Pe(ue)},filterOption:function(ue,xe){var ne;return(xe==null||(ne=xe.children)===null||ne===void 0?void 0:ne.toString().toLowerCase().indexOf(ue.toLowerCase()))!==-1},children:c.map(function(V){return(0,a.jsx)(L.Z.Option,{value:V,children:V},V)})})}),(0,a.jsx)(f.Z,{label:(0,a.jsx)(t.FormattedMessage,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key",disabled:K()})]}),(0,a.jsxs)(C.ZP.Group,{children:[(0,a.jsx)(r.Z,{name:"enumerable",disabled:K(),label:(0,a.jsx)(t.FormattedMessage,{id:"enumerable",defaultMessage:"enumerable"})}),(0,a.jsx)(r.Z,{name:"public",disabled:K(),label:(0,a.jsx)(t.FormattedMessage,{id:"public",defaultMessage:"public"})})]}),(0,a.jsx)(C.ZP.Group,{children:(0,a.jsx)(P.Z.Group,{disabled:!!(!M||l),name:"type",label:(0,a.jsx)(t.FormattedMessage,{id:"type"}),options:[{label:"text",value:"text"},{label:"markdown",value:"markdown"},{label:"json",value:"json"},{label:"file",value:"file"},{label:"image",value:"image"},{label:"boolean",value:"boolean"},{label:"number",value:"number"},{label:"array",value:"array"}]})}),(0,a.jsxs)("div",{children:[_==="text"&&(0,a.jsx)(f.Z,{width:"lg",name:"value",label:(0,a.jsx)(t.FormattedMessage,{id:"value"})}),_==="json"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.Z,{width:"lg",name:"value",label:(0,a.jsx)(t.FormattedMessage,{id:"value"}),tooltip:"".concat(te.formatMessage({id:"example_json"}),': {"name":"John", "age":30, "city":["New York","Warsaw"]}')}),(0,a.jsx)(C.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,a.jsx)(ee(),{src:JSON.parse(u.getFieldValue("value"))})}catch(ue){return(0,a.jsx)(ee(),{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]}),(_==="file"||_==="image")&&(0,a.jsx)(C.ZP.Item,{name:"value",label:"value",tooltip:"select file from current repository or upload new one",valuePropName:"value",children:(0,a.jsx)(G,{type:_})}),_==="markdown"&&(0,a.jsx)(C.ZP.Item,{name:"value",label:"value",tooltip:"The editor is WYSIWYG and includes formatting tools whilst retaining the ability to write markdown shortcuts inline and output plain Markdown.",valuePropName:"value",children:(0,a.jsx)(Z.ZP,{directory:"settings/wysiwyg"})}),_==="boolean"?(0,a.jsx)(r.Z,{name:"value",label:(0,a.jsx)(t.FormattedMessage,{id:"value"}),checkedChildren:(0,a.jsx)(k.Z,{}),unCheckedChildren:(0,a.jsx)(oe.Z,{})}):(0,a.jsx)(C.ZP.Item,{noStyle:!0,hidden:!0,children:(0,a.jsx)(X.Z,{name:"data",valuePropName:"data"})}),_==="number"&&(0,a.jsx)(h.Z,{name:"data",label:(0,a.jsx)(t.FormattedMessage,{id:"value"})}),_==="array"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(T.Z,{width:"lg",name:"value",label:(0,a.jsx)(t.FormattedMessage,{id:"value"}),tooltip:"".concat(te.formatMessage({id:"example_json"}),": ['tutor', 'student']")}),(0,a.jsx)(C.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,a.jsx)(ee(),{src:JSON.parse(u.getFieldValue("value"))})}catch(ue){return(0,a.jsx)(ee(),{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]})]})]})};S.ZP=ce},59234:function(_e,S,e){e.d(S,{Wg:function(){return z}});var o=e(5574),g=e.n(o),D=e(19632),m=e.n(D),C=e(15009),O=e.n(C),f=e(97857),r=e.n(f),P=e(99289),T=e.n(P),X=e(31472),h=e(51042),U=e(16894),b=e(2453),A=e(83062),L=e(14726),y=e(86738),j=e(67294),t=e(80854),E=e(43564),Z=e(56717),k=e(47389),oe=e(82061),Y=e(62343),ee=e(20188),a=e(85893),G=function(){var i=T()(O()().mark(function u(M,$,W){var _,d;return O()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return _=b.ZP.loading(M.formatMessage({id:"loading"})),R.prev=1,R.next=4,W&&W!==-1?(0,E.VP)(W,r()({},$)):(0,E.oh)(r()({},$));case 4:return d=R.sent,_(),b.ZP.success(M.formatMessage({id:"success"})),R.abrupt("return",{success:!0,updatedSettings:d});case 10:return R.prev=10,R.t0=R.catch(1),_(),b.ZP.error(M.formatMessage({id:"error"})),R.abrupt("return",{success:!1,updateSettings:null});case 15:case"end":return R.stop()}},u,null,[[1,10]])}));return function(M,$,W){return i.apply(this,arguments)}}(),ce=function(){var i=T()(O()().mark(function u(M,$){var W;return O()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return W=b.ZP.loading(M.formatMessage({id:"loading"})),d.prev=1,d.next=4,(0,E.Rb)($);case 4:return W(),b.ZP.success(M.formatMessage({id:"success"})),d.abrupt("return",!0);case 9:return d.prev=9,d.t0=d.catch(1),W(),b.ZP.error(M.formatMessage({id:"error"})),d.abrupt("return",!1);case 14:case"end":return d.stop()}},u,null,[[1,9]])}));return function(M,$){return i.apply(this,arguments)}}(),pe=function(u){return u.toLowerCase().replace(/(_\w)/g,function(M){return M.toUpperCase().substr(1)})},se=["statistics","user_submission","user_projects"],te=["public"],s=["email","sms"],F=function(u){return"hideInMenu-".concat(pe(u.split("/").join("_")))},z=function(u){return"disableTopicType-".concat(u)},n=[].concat(m()(Object.keys(X.oz).map(function(i){return{key:z(i),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),m()(["ECommerce","Certificates"].map(function(i){return{key:"disable-".concat(i),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),m()(te.map(function(i){return{key:"showInCourseAdditionalSettings-".concat(i),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),m()(se.map(function(i){return{key:"hideInCourseTabs-".concat(i),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),m()(s.map(function(i){return{key:"hideTemplateTab-".concat(i),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}}))).reduce(function(i,u,M){return i[u.key]=r()(r()({},u),{},{id:-100*M}),i},{}),l=r()({logo:{id:-1,key:"logo",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},frontURL:{id:-2,key:"frontURL",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},maxLessonsNestingInProgram:{id:-4,key:"maxLessonsNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},minTopicNestingInProgram:{id:-5,key:"minTopicNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},companyName:{id:-6,key:"companyName",group:"global",value:"Wellms",public:!0,enumerable:!0,sort:0,type:"text",data:"Wellms"},companyURL:{id:-7,key:"companyURL",group:"global",value:"https://www.wellms.io/",public:!0,enumerable:!0,sort:0,type:"text",data:"https://www.wellms.io/"},logoLogin:{id:-8,key:"logoLogin",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},logoFooter:{id:-9,key:"logoFooter",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},footerFontColor:{id:-10,key:"footerFontColor",group:"global",value:"#00000072",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},showLoginBackgroundImage:{id:-11,key:"showLoginBackgroundImage",group:"global",value:"true",public:!0,enumerable:!0,sort:0,type:"boolean",data:"EscolaLMS"},loginHeaderBackgroundColor:{id:-12,key:"loginHeaderBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},loginHeaderFontColor:{id:-13,key:"loginHeaderFontColor",group:"global",value:"#000000D8",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},loginFormBackgroundColor:{id:-14,key:"loginFormBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},contentBackgroundColor:{id:-15,key:"contentBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},technicalMaintenance:{id:-16,key:"technicalMaintenance",group:"global",value:"false",public:!0,enumerable:!0,sort:0,type:"boolean",data:"EscolaLMS"},technicalMaintenanceText:{id:-17,key:"technicalMaintenanceText",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"}},n),c=function(u){return typeof u.path=="string"},v=function(){var u=(0,j.useState)(!1),M=g()(u,2),$=M[0],W=M[1],_=(0,j.useRef)(),d=(0,t.useIntl)(),K=(0,j.useState)(l),R=g()(K,2),Q=R[0],J=R[1],Pe=(0,t.useModel)("@@initialState"),Ce=Pe.setInitialState,V=Pe.initialState;(0,j.useEffect)(function(){(0,ee.s)().then(function(ne){var me=Object.values(ne.routes).filter(c).filter(function(H){return H.path&&H.path!=="/"&&H.layout!==!1}).map(function(H){return{path:H.path,key:F(H.path),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}});J(function(H){return r()(r()({},H),me)})})},[]),(0,j.useEffect)(function(){_.current&&_.current.reload()},[Q]);var ue=[{title:(0,a.jsx)(t.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0,render:function(me,H){return(0,a.jsx)(j.Fragment,{children:(0,a.jsxs)(A.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"Settings.tooltip.".concat(H.key)}),children:[H.key," ",(0,a.jsx)(Z.Z,{})]})})}},{title:(0,a.jsx)(t.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:(0,a.jsx)(t.FormattedMessage,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(me,H){return H.value}},{hideInSearch:!0,title:(0,a.jsx)(t.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(me,H){return[H.id>0?(0,a.jsx)(A.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,a.jsx)(L.ZP,{type:"primary",icon:(0,a.jsx)(k.Z,{}),onClick:function(){return W(H.id)}})},"edit"):(0,a.jsx)(A.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"create",defaultMessage:"create"}),children:(0,a.jsx)(L.ZP,{type:"primary",icon:(0,a.jsx)(h.Z,{}),onClick:function(){W(Q[H.key]||-1)}})},"create"),(0,a.jsx)(y.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:T()(O()().mark(function ae(){var x;return O()().wrap(function(ge){for(;;)switch(ge.prev=ge.next){case 0:return ge.next=2,ce(d,H.id);case 2:x=ge.sent,x&&(W(!1),_.current&&_.current.reload());case 4:case"end":return ge.stop()}},ae)})),okText:(0,a.jsx)(t.FormattedMessage,{id:"yes",defaultMessage:"Yes"}),cancelText:(0,a.jsx)(t.FormattedMessage,{id:"no",defaultMessage:"No"}),children:H.id>0?(0,a.jsx)(A.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,a.jsx)(L.ZP,{type:"primary",icon:(0,a.jsx)(oe.Z,{}),danger:!0})}):null},"delete")]}}],xe=function(me){var H;if(me&&(!(V!=null&&(H=V.config)!==null&&H!==void 0&&H.length)&&me&&Ce(r()(r()({},V),{},{config:[me]})),!!(V!=null&&V.config))){var ae=V==null?void 0:V.config.map(function(x){return x.key===me.key?r()(r()({},x),me):x});Ce(r()(r()({},V),{},{config:ae}))}};return(0,a.jsxs)(j.Fragment,{children:[(0,a.jsx)(U.ZP,{headerTitle:d.formatMessage({id:"menu.settings"}),search:!1,toolBarRender:!1,actionRef:_,rowKey:"id",request:function(me){var H=me.pageSize,ae=me.current;return(0,E.Xd)({per_page:H,current:ae,group:"global"}).then(function(x){if(x.success){var le=[].concat(m()(Object.keys(Q).map(function(ge){return x.data.find(function(De){return De.key===ge})||Q[ge]})),m()(x.data.filter(function(ge){return!Object.keys(Q).includes(ge.key)})));return{data:le,total:le.length,success:!0}}return[]})},columns:ue}),(0,a.jsx)(Y.ZP,{groups:[],id:$,visible:$,initialData:Q,onVisibleChange:function(me){return!me&&W(!1)},onFinish:function(){var ne=T()(O()().mark(function me(H){var ae,x,le,ge;return O()().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return ae=H,ae.type==="number"&&(ae=r()(r()({},ae),{},{value:String(ae.data)})),ae.type==="boolean"&&(ae=r()(r()({},ae),{},{value:ae.data})),ae.type==="array"&&(ae=r()(r()({},ae),{},{value:JSON.parse(ae.value)})),Ie.next=6,G(d,ae,Number($));case 6:x=Ie.sent,le=x.success,ge=x.updatedSettings,le&&(ge!=null&&ge.success&&xe(ge.data),W(!1),_.current&&_.current.reload());case 10:case"end":return Ie.stop()}},me)}));return function(me){return ne.apply(this,arguments)}}()})]})};S.ZP=v},85228:function(_e,S,e){e.r(S),e.d(S,{default:function(){return Ie}});var o=e(5574),g=e.n(o),D=e(26271),m=e(74453),C=e(75081),O=e(38925),f=e(67294),r=e(80854),P=e(43564),T=e(59234),X=e(15009),h=e.n(X),U=e(99289),b=e.n(U),A=e(19632),L=e.n(A),y=e(52677),j=e.n(y),t=e(66419),E=e(47389),Z=e(16894),k=e(66309),oe=e(83062),Y=e(14726),ee=e(97857),a=e.n(ee),G=e(37476),ce=e(952),pe=e(52688),se=e(90672),te=e(25043),s=e(75842),F=e(43669),z=e(5966),n=e(85893),l=function(I){var p=I.field,B=I.name;return p!=null&&p.includes("boolean")?(0,n.jsx)(pe.Z,{name:B,checkedChildren:(0,n.jsx)(F._H,{id:"true"}),unCheckedChildren:(0,n.jsx)(F._H,{id:"false"})}):(0,n.jsx)(z.Z,{width:"lg",name:B})},c=l,v=e(55171),i=e.n(v),u=te.Z.Text,M=function(q){return q.Array="array",q.String="string",q}(M||{}),$=function(I,p){return p===M.Array?I&&Array.isArray(I)?JSON.stringify(I):"[]":I},W=function(){var I=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",p=arguments.length>1?arguments[1]:void 0;if(p===M.Array){var B=JSON.parse(I);return B&&Array.isArray(B)?B:[]}return I},_=function(I){var p=(0,F.YB)(),B=I.visible,N=I.onVisibleChange,he=I.onFinish,w=I.value,ve=s.Z.useForm(),fe=g()(ve,1),re=fe[0],Me=(0,f.useMemo)(function(){return(w.rules||[]).includes(M.Array)?M.Array:M.String},[w.rules]);return(0,f.useEffect)(function(){re.setFieldsValue(a()(a()({},w),{},{value:$(w.value,Me)}))},[Me,w,re]),(0,n.jsxs)(G.Y,{form:re,title:w.full_key,width:"60vw",visible:B,onVisibleChange:N,onFinish:b()(h()().mark(function ye(){var ie;return h()().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.next=2,(0,P.rF)({key:w.full_key,value:W(re.getFieldsValue().value,Me)});case 2:if(ie=de.sent,!ie.success){de.next=6;break}return he(ie.success===!0),de.abrupt("return",ie.success);case 6:return de.abrupt("return");case 7:case"end":return de.stop()}},ye)})),children:[(0,n.jsxs)(ce.ZP.Group,{children:[(0,n.jsx)(pe.Z,{disabled:!0,name:"public",label:(0,n.jsx)(r.FormattedMessage,{id:"public",defaultMessage:"public"})}),(0,n.jsx)(pe.Z,{disabled:!0,name:"readonly",label:(0,n.jsx)(r.FormattedMessage,{id:"readonly",defaultMessage:"readonly"})}),(0,n.jsx)(ce.ZP.Item,{shouldUpdate:!0,label:(0,n.jsx)(r.FormattedMessage,{id:"rules",defaultMessage:"rules"}),children:function(){return(0,n.jsx)(u,{code:!0,children:JSON.stringify(re.getFieldValue("rules"))})}})]}),Me===M.Array?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(se.Z,{width:"lg",name:"value",label:(0,n.jsx)(r.FormattedMessage,{id:"value"}),tooltip:"".concat(p.formatMessage({id:"example_json"}),': ["first_field_name", "second_field_name"]')}),(0,n.jsx)(ce.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,n.jsx)(i(),{src:JSON.parse(re.getFieldValue("value"))})}catch(ie){return(0,n.jsx)(i(),{src:JSON.parse('{ "error": "cannot parse this array" }')})}}})]}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(ce.ZP.Item,{shouldUpdate:!0,label:(0,n.jsx)(r.FormattedMessage,{id:"value"}),children:function(){return(0,n.jsx)(c,{field:re.getFieldValue("rules"),name:"value"})}})})]})},d=_,K=[{title:(0,n.jsx)(r.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!1,sorter:!0},{title:(0,n.jsx)(r.FormattedMessage,{id:"readonly",defaultMessage:"readonly"}),dataIndex:"readonly",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(I,p){return(0,n.jsx)(k.Z,{color:p.readonly?"success":"error",children:(0,n.jsx)(r.FormattedMessage,{id:p.readonly?"true":"false",defaultMessage:p.readonly?"true":"false"})})}},{title:(0,n.jsx)(r.FormattedMessage,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(I,p){return(0,n.jsx)(k.Z,{color:p.public?"success":"error",children:(0,n.jsx)(r.FormattedMessage,{id:p.public?"true":"false",defaultMessage:p.public?"true":"false"})})}},{title:(0,n.jsx)(r.FormattedMessage,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(I,p){return typeof p.value=="boolean"?(0,n.jsx)(k.Z,{color:p.value?"success":"error",children:(0,n.jsx)(r.FormattedMessage,{id:p.value?"true":"false",defaultMessage:p.value?"true":"false"})}):Array.isArray(p.value)?p.value.map(function(B){return j()(B)==="object"?f.Children.toArray((0,n.jsx)("p",{children:Object.keys(B).map(function(N){return"".concat(N,": ").concat(B[N])}).join(", ")})):B}):p.value}}],R=function q(I,p){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return!I||j()(I)!=="object"?!1:(Object.keys(I).forEach(function(N){var he=I[N];N===p?B.push(I):j()(he)==="object"&&q(he,p,B)}),B)},Q=function(I){var p=I.packageName,B=I.values,N=I.onValueUpdated,he=(0,r.useIntl)(),w=(0,f.useState)(),ve=g()(w,2),fe=ve[0],re=ve[1],Me=(0,f.useMemo)(function(){var ye=B[p];return R(ye,"rules")},[B,p]);return(0,n.jsxs)(f.Fragment,{children:[(0,n.jsx)(Z.ZP,{headerTitle:he.formatMessage({id:"menu.settings"}),rowKey:"key",search:{layout:"vertical"},columns:[].concat(K,[{hideInSearch:!0,title:(0,n.jsx)(r.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(ie,je){return[(0,n.jsx)(oe.Z,{title:(0,n.jsx)(r.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,n.jsx)(Y.ZP,{type:"primary",icon:(0,n.jsx)(E.Z,{}),onClick:function(){return re(je)}})},"edit")]}}]),request:function(ie,je){var de=ie.key,Ee=je&&Object.entries(je)[0];return new Promise(function(be){var Oe=Me?L()(Me):[];de&&(Oe=Oe.filter(function(Se){return Se.key.toLowerCase().includes(de.toLowerCase())})),Ee&&(Oe=(0,t.Pf)(Oe,Ee[0],Ee[1]!=="ascend")),be({data:Oe,success:!0,total:Oe.length})})}}),fe&&(0,n.jsx)(d,{value:fe,visible:fe!==void 0,onVisibleChange:function(ie){return ie===!1&&re(void 0)},onFinish:b()(h()().mark(function ye(){return h()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:N();case 1:case"end":return je.stop()}},ye)}))})]})},J=Q,Pe=e(9783),Ce=e.n(Pe),V=e(51042),ue=e(2453),xe=e(86738),ne=e(82061),me=e(62343),H=function(){var q=b()(h()().mark(function I(p,B,N){var he;return h()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return he=ue.ZP.loading(p.formatMessage({id:"loading"})),ve.prev=1,ve.next=4,N&&N!==-1?(0,P.VP)(N,a()({},B)):(0,P.oh)(a()({},B));case 4:return he(),ue.ZP.success(p.formatMessage({id:"success"})),ve.abrupt("return",!0);case 9:return ve.prev=9,ve.t0=ve.catch(1),he(),ue.ZP.error(p.formatMessage({id:"error"})),ve.abrupt("return",!1);case 14:case"end":return ve.stop()}},I,null,[[1,9]])}));return function(p,B,N){return q.apply(this,arguments)}}(),ae=function(){var q=b()(h()().mark(function I(p,B){var N;return h()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return N=ue.ZP.loading(p.formatMessage({id:"loading"})),w.prev=1,w.next=4,(0,P.Rb)(B);case 4:return N(),ue.ZP.success(p.formatMessage({id:"success"})),w.abrupt("return",!0);case 9:return w.prev=9,w.t0=w.catch(1),N(),ue.ZP.error(p.formatMessage({id:"error"})),w.abrupt("return",!1);case 14:case"end":return w.stop()}},I,null,[[1,9]])}));return function(p,B){return q.apply(this,arguments)}}(),x=function(){var I=(0,f.useState)(!1),p=g()(I,2),B=p[0],N=p[1],he=(0,f.useState)([]),w=g()(he,2),ve=w[0],fe=w[1],re=(0,f.useRef)(),Me=(0,r.useIntl)(),ye=(0,r.useModel)("@@initialState"),ie=ye.setInitialState;(0,f.useEffect)(function(){(0,P.FF)().then(function(de){de.success&&fe(de.data.filter(function(Ee){return Ee!=="global"}))})},[]);var je=[{title:(0,n.jsx)(r.FormattedMessage,{id:"group",defaultMessage:"group"}),dataIndex:"group",hideInSearch:!1,key:"group",valueType:"select",width:100,valueEnum:ve.sort().reduce(function(de,Ee){return a()(a()({},de),{},Ce()({},Ee,Ee))},{})},{title:(0,n.jsx)(r.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:(0,n.jsx)(r.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:(0,n.jsx)(r.FormattedMessage,{id:"enumerable",defaultMessage:"enumerable"}),dataIndex:"enumerable",hideInForm:!0,hideInSearch:!0,render:function(Ee,be){return(0,n.jsx)(k.Z,{color:be.enumerable?"success":"error",children:(0,n.jsx)(r.FormattedMessage,{id:be.enumerable?"true":"false",defaultMessage:be.enumerable?"true":"false"})})}},{title:(0,n.jsx)(r.FormattedMessage,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(Ee,be){return(0,n.jsx)(k.Z,{color:be.public?"success":"error",children:(0,n.jsx)(r.FormattedMessage,{id:be.public?"true":"false",defaultMessage:be.public?"true":"false"})})}},{hideInSearch:!0,title:(0,n.jsx)(r.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(Ee,be){return[(0,n.jsx)(oe.Z,{title:(0,n.jsx)(r.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,n.jsx)(Y.ZP,{type:"primary",icon:(0,n.jsx)(E.Z,{}),onClick:function(){return N(be.id)}})},"edit"),(0,n.jsx)(xe.Z,{title:(0,n.jsx)(r.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:b()(h()().mark(function Oe(){var Se;return h()().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Le.next=2,ae(Me,be.id);case 2:Se=Le.sent,Se&&(N(!1),re.current&&re.current.reload());case 4:case"end":return Le.stop()}},Oe)})),okText:(0,n.jsx)(r.FormattedMessage,{id:"yes",defaultMessage:"Yes"}),cancelText:(0,n.jsx)(r.FormattedMessage,{id:"no",defaultMessage:"No"}),children:(0,n.jsx)(oe.Z,{title:(0,n.jsx)(r.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,n.jsx)(Y.ZP,{type:"primary",icon:(0,n.jsx)(ne.Z,{}),danger:!0})})},"delete")]}}];return(0,n.jsxs)(f.Fragment,{children:[(0,n.jsx)(Z.ZP,{headerTitle:Me.formatMessage({id:"menu.settings"}),actionRef:re,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[(0,n.jsxs)(Y.ZP,{type:"primary",onClick:function(){N(-1)},children:[(0,n.jsx)(V.Z,{})," ",(0,n.jsx)(r.FormattedMessage,{id:"pages.searchTable.new"})]},"primary")]},request:function(Ee){var be=Ee.pageSize,Oe=Ee.current,Se=Ee.group;return(0,P.Xd)({per_page:be,current:Oe,group:Se}).then(function(Ae){return Ae.success?{data:Ae.data.filter(function(Le){return Le.group!=="global"}),total:Ae.meta.total,success:!0}:[]})},columns:je}),(0,n.jsx)(me.ZP,{groups:ve,id:B,visible:Number.isInteger(B),onVisibleChange:function(Ee){return!Ee&&N(!1)},onFinish:function(){var de=b()(h()().mark(function Ee(be){var Oe,Se,Ae;return h()().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Oe=be,Te.next=3,H(Me,Oe,Number(B));case 3:if(Se=Te.sent,!Se){Te.next=12;break}if(N(!1),re.current&&re.current.reload(),Oe.group!=="global"){Te.next=12;break}return Te.next=10,(0,P.Xd)({current:1,per_page:100,group:"global"});case 10:Ae=Te.sent,ie(function(Re){return a()(a()({},Re),{},{config:Ae.success?Ae.data:Re==null?void 0:Re.config})});case 12:case"end":return Te.stop()}},Ee)}));return function(Ee){return de.apply(this,arguments)}}()})]})},le=x;function ge(q){var I=q.replaceAll("escolalms",""),p=I.split("_"),B=p.map(function(N){return N.charAt(0).toUpperCase()+N.slice(1)});return B.join(" ")}function De(q,I){var p=["global_settings","user_settings"];return p.includes(q)?I.formatMessage({id:String(q)}):I.formatMessage({id:"Settings.package"},{package:ge(q)})}var Ie=function(){var q=(0,r.useParams)(),I=(0,r.useIntl)(),p=q.tab,B=p===void 0?"user_settings":p,N=(0,f.useState)(),he=g()(N,2),w=he[0],ve=he[1],fe=(0,f.useCallback)(function(){(0,P.rH)().then(function(ie){ie.success&&ve(ie.data)})},[]),re=(0,r.useModel)("@@initialState"),Me=re.initialState,ye=(0,f.useCallback)(function(){var ie;return(Me==null||(ie=Me.config)===null||ie===void 0?void 0:ie.length)!==0},[Me]);return(0,f.useEffect)(function(){fe()},[]),w?(0,n.jsxs)(m._z,{title:De(B,I),header:{breadcrumb:{routes:[{path:"settings",breadcrumbName:I.formatMessage({id:"menu.Configuration.settings"})},{path:String(B),breadcrumbName:De(B,I)}]}},children:[!ye()&&(0,n.jsx)(O.Z,{message:(0,n.jsx)(r.FormattedMessage,{id:"global_settings_alert_title",defaultMessage:"Add global settings"}),description:(0,n.jsx)(r.FormattedMessage,{id:"global_settings_alert_description",defaultMessage:"Global settings are used to configure the entire LMS. You can add global settings by clicking the button below."}),type:"warning",showIcon:!0,style:{marginBottom:"20px"}}),(0,n.jsxs)(D.ZP,{tabs:{type:"card",activeKey:B,onChange:function(je){return r.history.push("/configuration/settings/".concat(je))}},children:[(0,n.jsx)(D.ZP.TabPane,{tab:(0,n.jsx)(r.FormattedMessage,{id:"user.settings"}),children:(0,n.jsx)(le,{})},"user_settings"),(0,n.jsx)(D.ZP.TabPane,{tab:(0,n.jsx)(r.FormattedMessage,{id:"global_settings"}),children:(0,n.jsx)(T.ZP,{})},"global_settings"),Object.keys(w).map(function(ie){return(0,n.jsxs)(D.ZP.TabPane,{tab:(0,n.jsx)("span",{children:(0,n.jsx)(r.FormattedMessage,{id:"Settings.package",values:{package:ge(ie)}})}),children:[(0,n.jsx)(J,{values:w,packageName:ie,onValueUpdated:function(){return fe()}}),ie]},ie)})]})]}):(0,n.jsx)(C.Z,{})}},31472:function(_e,S,e){e.d(S,{Fh:function(){return X},UL:function(){return P},Yo:function(){return b},Zg:function(){return A},cX:function(){return r},ce:function(){return f},fS:function(){return U},fn:function(){return C},h5:function(){return L},hg:function(){return j},oz:function(){return o},rX:function(){return h},uT:function(){return m},wg:function(){return y},wl:function(){return T}});var o=function(t){return t.Unselected="",t.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",t.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",t.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",t.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",t.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",t.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",t.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",t.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",t.Project="EscolaLms\\TopicTypeProject\\Models\\Project",t.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz",t}({}),g=function(t){return t.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",t.UserLogged="EscolaLms\\Auth\\Events\\UserLogged",t}({}),D=function(t){return t.draft="draft",t.published="published",t.archived="archived",t}({}),m=function(t){return t.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",t.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",t.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel",t}({}),C=function(t){return t.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent",t}({}),O=function(t){return t.cart_fixed="cart_fixed",t.cart_percent="cart_percent",t.product_fixed="product_fixed",t.product_percent="product_percent",t}({}),f=function(t){return t.MULTIPLE_CHOICE="multiple_choice",t.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",t.TRUE_FALSE="true_false",t.SHORT_ANSWERS="short_answers",t.MATCHING="matching",t.NUMERICAL_QUESTION="numerical_question",t.ESSAY="essay",t.DESCRIPTION="description",t}({}),r=function(t){return t.PRESENT="present",t.PRESENT_NOT_EXERCISING="present_not_exercising",t.ABSENT="absent",t.EXCUSED_ABSENCE="excused_absence",t}({}),P=function(t){return t.Manual="manual",t.ManualPass="manual_pass",t.ManualGrades="manual_grades",t.TeamsForms="teams_forms",t.TeamsLecture="teams_lecture",t.TestPortal="test_portal",t}({}),T=function(t){return t.Passed="zal",t.Failed="nie zal",t}({}),X=function(t){return t.Simple="simple",t.Complex="complex",t}({}),h=function(t){return t.QuizSummary="EscolaLms\\Reports\\Stats\\Topic\\QuizSummaryForTopicTypeGIFT",t}({}),U=function(t){return t.Boolean="boolean",t.Number="number",t.Varchar="varchar",t.Text="text",t.Json="json",t}({}),b=function(t){return t.Rate="rate",t.Text="text",t.Review="review",t}({}),A=function(t){return t.Exercise="exercise",t.Course="course",t.Info="info",t}({}),L=function(t){return t.Group="EscolaLms\\PcgIntegration\\Models\\Group",t}({}),y=function(t){return t.PUSH="EscolaLms\\BulkNotifications\\Channels\\PushNotificationChannel",t}({}),j=function(t){return t.TITLE="title",t.BODY="body",t.IMAGE="image_url",t.REDIRECT_URL="redirect_url",t}({})},17578:function(_e,S,e){e.d(S,{Od:function(){return A},QZ:function(){return r},ht:function(){return T},pV:function(){return b},ws:function(){return h}});var o=e(15009),g=e.n(o),D=e(97857),m=e.n(D),C=e(99289),O=e.n(C),f=e(80854);function r(y,j){return P.apply(this,arguments)}function P(){return P=O()(g()().mark(function y(j,t){return g()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,f.request)("/api/admin/file/list",m()({method:"GET",params:j},t||{})));case 1:case"end":return Z.stop()}},y)})),P.apply(this,arguments)}function T(y,j){return X.apply(this,arguments)}function X(){return X=O()(g()().mark(function y(j,t){return g()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,f.request)("/api/admin/file/find",m()({method:"GET",params:j},t||{})));case 1:case"end":return Z.stop()}},y)})),X.apply(this,arguments)}function h(y,j,t){return U.apply(this,arguments)}function U(){return U=O()(g()().mark(function y(j,t,E){var Z;return g()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return Z=new FormData,Z.append("file[]",j),Z.append("target",t),oe.abrupt("return",(0,f.request)("/api/admin/file/upload",m()({method:"POST",data:Z},E||{})));case 4:case"end":return oe.stop()}},y)})),U.apply(this,arguments)}var b=function(j){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(j,"&w=").concat(t)};function A(y,j){return L.apply(this,arguments)}function L(){return L=O()(g()().mark(function y(j,t){return g()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,f.request)("/api/admin/file/delete",m()({method:"DELETE",data:{url:j}},t||{})));case 1:case"end":return Z.stop()}},y)})),L.apply(this,arguments)}},38925:function(_e,S,e){e.d(S,{Z:function(){return n}});var o=e(67294),g=e(76278),D=e(17012),m=e(62208),C=e(26702),O=e(1558),f=e(93967),r=e.n(f),P=e(82225),T=e(64217),X=e(96159),h=e(53124),U=e(6731),b=e(14747),A=e(91945);const L=(l,c,v,i,u)=>({background:l,border:`${(0,U.unit)(i.lineWidth)} ${i.lineType} ${c}`,[`${u}-icon`]:{color:v}}),y=l=>{const{componentCls:c,motionDurationSlow:v,marginXS:i,marginSM:u,fontSize:M,fontSizeLG:$,lineHeight:W,borderRadiusLG:_,motionEaseInOutCirc:d,withDescriptionIconSize:K,colorText:R,colorTextHeading:Q,withDescriptionPadding:J,defaultPadding:Pe}=l;return{[c]:Object.assign(Object.assign({},(0,b.Wf)(l)),{position:"relative",display:"flex",alignItems:"center",padding:Pe,wordWrap:"break-word",borderRadius:_,[`&${c}-rtl`]:{direction:"rtl"},[`${c}-content`]:{flex:1,minWidth:0},[`${c}-icon`]:{marginInlineEnd:i,lineHeight:0},["&-description"]:{display:"none",fontSize:M,lineHeight:W},"&-message":{color:Q},[`&${c}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${v} ${d}, opacity ${v} ${d},
        padding-top ${v} ${d}, padding-bottom ${v} ${d},
        margin-bottom ${v} ${d}`},[`&${c}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${c}-with-description`]:{alignItems:"flex-start",padding:J,[`${c}-icon`]:{marginInlineEnd:u,fontSize:K,lineHeight:0},[`${c}-message`]:{display:"block",marginBottom:i,color:Q,fontSize:$},[`${c}-description`]:{display:"block",color:R}},[`${c}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},j=l=>{const{componentCls:c,colorSuccess:v,colorSuccessBorder:i,colorSuccessBg:u,colorWarning:M,colorWarningBorder:$,colorWarningBg:W,colorError:_,colorErrorBorder:d,colorErrorBg:K,colorInfo:R,colorInfoBorder:Q,colorInfoBg:J}=l;return{[c]:{"&-success":L(u,i,v,l,c),"&-info":L(J,Q,R,l,c),"&-warning":L(W,$,M,l,c),"&-error":Object.assign(Object.assign({},L(K,d,_,l,c)),{[`${c}-description > pre`]:{margin:0,padding:0}})}}},t=l=>{const{componentCls:c,iconCls:v,motionDurationMid:i,marginXS:u,fontSizeIcon:M,colorIcon:$,colorIconHover:W}=l;return{[c]:{["&-action"]:{marginInlineStart:u},[`${c}-close-icon`]:{marginInlineStart:u,padding:0,overflow:"hidden",fontSize:M,lineHeight:(0,U.unit)(M),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${v}-close`]:{color:$,transition:`color ${i}`,"&:hover":{color:W}}},"&-close-text":{color:$,transition:`color ${i}`,"&:hover":{color:W}}}}},E=l=>({withDescriptionIconSize:l.fontSizeHeading3,defaultPadding:`${l.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${l.paddingMD}px ${l.paddingContentHorizontalLG}px`});var Z=(0,A.I$)("Alert",l=>[y(l),j(l),t(l)],E),k=function(l,c){var v={};for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&c.indexOf(i)<0&&(v[i]=l[i]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(l);u<i.length;u++)c.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(l,i[u])&&(v[i[u]]=l[i[u]]);return v};const oe={success:g.Z,info:O.Z,error:D.Z,warning:C.Z},Y=l=>{const{icon:c,prefixCls:v,type:i}=l,u=oe[i]||null;return c?(0,X.wm)(c,o.createElement("span",{className:`${v}-icon`},c),()=>({className:r()(`${v}-icon`,{[c.props.className]:c.props.className})})):o.createElement(u,{className:`${v}-icon`})},ee=l=>{const{isClosable:c,prefixCls:v,closeIcon:i,handleClose:u,ariaProps:M}=l,$=i===!0||i===void 0?o.createElement(m.Z,null):i;return c?o.createElement("button",Object.assign({type:"button",onClick:u,className:`${v}-close-icon`,tabIndex:0},M),$):null};var G=l=>{const{description:c,prefixCls:v,message:i,banner:u,className:M,rootClassName:$,style:W,onMouseEnter:_,onMouseLeave:d,onClick:K,afterClose:R,showIcon:Q,closable:J,closeText:Pe,closeIcon:Ce,action:V}=l,ue=k(l,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[xe,ne]=o.useState(!1),me=o.useRef(null),{getPrefixCls:H,direction:ae,alert:x}=o.useContext(h.E_),le=H("alert",v),[ge,De,Ie]=Z(le),q=fe=>{var re;ne(!0),(re=l.onClose)===null||re===void 0||re.call(l,fe)},I=o.useMemo(()=>l.type!==void 0?l.type:u?"warning":"info",[l.type,u]),p=o.useMemo(()=>typeof J=="object"&&J.closeIcon||Pe?!0:typeof J=="boolean"?J:Ce!==!1&&Ce!==null&&Ce!==void 0?!0:!!(x!=null&&x.closable),[Pe,Ce,J,x==null?void 0:x.closable]),B=u&&Q===void 0?!0:Q,N=r()(le,`${le}-${I}`,{[`${le}-with-description`]:!!c,[`${le}-no-icon`]:!B,[`${le}-banner`]:!!u,[`${le}-rtl`]:ae==="rtl"},x==null?void 0:x.className,M,$,Ie,De),he=(0,T.Z)(ue,{aria:!0,data:!0}),w=o.useMemo(()=>{var fe,re;return typeof J=="object"&&J.closeIcon?J.closeIcon:Pe||(Ce!==void 0?Ce:typeof(x==null?void 0:x.closable)=="object"&&(!((fe=x==null?void 0:x.closable)===null||fe===void 0)&&fe.closeIcon)?(re=x==null?void 0:x.closable)===null||re===void 0?void 0:re.closeIcon:x==null?void 0:x.closeIcon)},[Ce,J,Pe,x==null?void 0:x.closeIcon]),ve=o.useMemo(()=>{const fe=J!=null?J:x==null?void 0:x.closable;if(typeof fe=="object"){const{closeIcon:re}=fe;return k(fe,["closeIcon"])}return{}},[J,x==null?void 0:x.closable]);return ge(o.createElement(P.default,{visible:!xe,motionName:`${le}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:fe=>({maxHeight:fe.offsetHeight}),onLeaveEnd:R},fe=>{let{className:re,style:Me}=fe;return o.createElement("div",Object.assign({ref:me,"data-show":!xe,className:r()(N,re),style:Object.assign(Object.assign(Object.assign({},x==null?void 0:x.style),W),Me),onMouseEnter:_,onMouseLeave:d,onClick:K,role:"alert"},he),B?o.createElement(Y,{description:c,icon:l.icon,prefixCls:le,type:I}):null,o.createElement("div",{className:`${le}-content`},i?o.createElement("div",{className:`${le}-message`},i):null,c?o.createElement("div",{className:`${le}-description`},c):null),V?o.createElement("div",{className:`${le}-action`},V):null,o.createElement(ee,{isClosable:p,prefixCls:le,closeIcon:w,handleClose:q,ariaProps:ve}))}))},ce=e(15671),pe=e(43144),se=e(53640),te=e(32531),F=function(l){function c(){var v;return(0,ce.Z)(this,c),v=(0,se.Z)(this,c,arguments),v.state={error:void 0,info:{componentStack:""}},v}return(0,te.Z)(c,l),(0,pe.Z)(c,[{key:"componentDidCatch",value:function(i,u){this.setState({error:i,info:u})}},{key:"render",value:function(){const{message:i,description:u,children:M}=this.props,{error:$,info:W}=this.state,_=W&&W.componentStack?W.componentStack:null,d=typeof i=="undefined"?($||"").toString():i,K=typeof u=="undefined"?_:u;return $?o.createElement(G,{type:"error",message:d,description:o.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},K)}):M}}])}(o.Component);const z=G;z.ErrorBoundary=F;var n=z},49288:function(_e,S,e){var o=e(67294),g=e(93967),D=e.n(g),m=e(50344),C=e(98423),O=e(87263),f=e(8745),r=e(53124),P=e(83863);const{Option:T}=P.default;function X(A){return A&&A.type&&(A.type.isSelectOption||A.type.isSelectOptGroup)}const h=(A,L)=>{var y;const{prefixCls:j,className:t,popupClassName:E,dropdownClassName:Z,children:k,dataSource:oe}=A,Y=(0,m.Z)(k);let ee;Y.length===1&&o.isValidElement(Y[0])&&!X(Y[0])&&([ee]=Y);const a=ee?()=>ee:void 0;let G;Y.length&&X(Y[0])?G=k:G=oe?oe.map(te=>{if(o.isValidElement(te))return te;switch(typeof te){case"string":return o.createElement(T,{key:te,value:te},te);case"object":{const{value:s}=te;return o.createElement(T,{key:s,value:s},te.text)}default:return}}):[];const{getPrefixCls:ce}=o.useContext(r.E_),pe=ce("select",j),[se]=(0,O.Cn)("SelectLike",(y=A.dropdownStyle)===null||y===void 0?void 0:y.zIndex);return o.createElement(P.default,Object.assign({ref:L,suffixIcon:null},(0,C.Z)(A,["dataSource","dropdownClassName"]),{prefixCls:pe,popupClassName:E||Z,dropdownStyle:Object.assign(Object.assign({},A.dropdownStyle),{zIndex:se}),className:D()(`${pe}-auto-complete`,t),mode:P.default.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:a}),G)},U=o.forwardRef(h),b=(0,f.Z)(U);U.Option=T,U._InternalPanelDoNotUseOrYouWillBeFired=b,S.Z=U},66309:function(_e,S,e){e.d(S,{Z:function(){return te}});var o=e(67294),g=e(93967),D=e.n(g),m=e(98423),C=e(98787),O=e(69760),f=e(96159),r=e(45353),P=e(53124),T=e(6731),X=e(10274),h=e(14747),U=e(45503),b=e(91945);const A=s=>{const{paddingXXS:F,lineWidth:z,tagPaddingHorizontal:n,componentCls:l,calc:c}=s,v=c(n).sub(z).equal(),i=c(F).sub(z).equal();return{[l]:Object.assign(Object.assign({},(0,h.Wf)(s)),{display:"inline-block",height:"auto",marginInlineEnd:s.marginXS,paddingInline:v,fontSize:s.tagFontSize,lineHeight:s.tagLineHeight,whiteSpace:"nowrap",background:s.defaultBg,border:`${(0,T.unit)(s.lineWidth)} ${s.lineType} ${s.colorBorder}`,borderRadius:s.borderRadiusSM,opacity:1,transition:`all ${s.motionDurationMid}`,textAlign:"start",position:"relative",[`&${l}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:s.defaultColor},[`${l}-close-icon`]:{marginInlineStart:i,fontSize:s.tagIconSize,color:s.colorTextDescription,cursor:"pointer",transition:`all ${s.motionDurationMid}`,"&:hover":{color:s.colorTextHeading}},[`&${l}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${s.iconCls}-close, ${s.iconCls}-close:hover`]:{color:s.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${l}-checkable-checked):hover`]:{color:s.colorPrimary,backgroundColor:s.colorFillSecondary},"&:active, &-checked":{color:s.colorTextLightSolid},"&-checked":{backgroundColor:s.colorPrimary,"&:hover":{backgroundColor:s.colorPrimaryHover}},"&:active":{backgroundColor:s.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${s.iconCls} + span, > span + ${s.iconCls}`]:{marginInlineStart:v}}),[`${l}-borderless`]:{borderColor:"transparent",background:s.tagBorderlessBg}}},L=s=>{const{lineWidth:F,fontSizeIcon:z,calc:n}=s,l=s.fontSizeSM;return(0,U.TS)(s,{tagFontSize:l,tagLineHeight:(0,T.unit)(n(s.lineHeightSM).mul(l).equal()),tagIconSize:n(z).sub(n(F).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:s.defaultBg})},y=s=>({defaultBg:new X.C(s.colorFillQuaternary).onBackground(s.colorBgContainer).toHexString(),defaultColor:s.colorText});var j=(0,b.I$)("Tag",s=>{const F=L(s);return A(F)},y),t=function(s,F){var z={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&F.indexOf(n)<0&&(z[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(s);l<n.length;l++)F.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(s,n[l])&&(z[n[l]]=s[n[l]]);return z},Z=o.forwardRef((s,F)=>{const{prefixCls:z,style:n,className:l,checked:c,onChange:v,onClick:i}=s,u=t(s,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:M,tag:$}=o.useContext(P.E_),W=J=>{v==null||v(!c),i==null||i(J)},_=M("tag",z),[d,K,R]=j(_),Q=D()(_,`${_}-checkable`,{[`${_}-checkable-checked`]:c},$==null?void 0:$.className,l,K,R);return d(o.createElement("span",Object.assign({},u,{ref:F,style:Object.assign(Object.assign({},n),$==null?void 0:$.style),className:Q,onClick:W})))}),k=e(98719);const oe=s=>(0,k.Z)(s,(F,z)=>{let{textColor:n,lightBorderColor:l,lightColor:c,darkColor:v}=z;return{[`${s.componentCls}${s.componentCls}-${F}`]:{color:n,background:c,borderColor:l,"&-inverse":{color:s.colorTextLightSolid,background:v,borderColor:v},[`&${s.componentCls}-borderless`]:{borderColor:"transparent"}}}});var Y=(0,b.bk)(["Tag","preset"],s=>{const F=L(s);return oe(F)},y);function ee(s){return typeof s!="string"?s:s.charAt(0).toUpperCase()+s.slice(1)}const a=(s,F,z)=>{const n=ee(z);return{[`${s.componentCls}${s.componentCls}-${F}`]:{color:s[`color${z}`],background:s[`color${n}Bg`],borderColor:s[`color${n}Border`],[`&${s.componentCls}-borderless`]:{borderColor:"transparent"}}}};var G=(0,b.bk)(["Tag","status"],s=>{const F=L(s);return[a(F,"success","Success"),a(F,"processing","Info"),a(F,"error","Error"),a(F,"warning","Warning")]},y),ce=function(s,F){var z={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&F.indexOf(n)<0&&(z[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var l=0,n=Object.getOwnPropertySymbols(s);l<n.length;l++)F.indexOf(n[l])<0&&Object.prototype.propertyIsEnumerable.call(s,n[l])&&(z[n[l]]=s[n[l]]);return z};const se=o.forwardRef((s,F)=>{const{prefixCls:z,className:n,rootClassName:l,style:c,children:v,icon:i,color:u,onClose:M,bordered:$=!0,visible:W}=s,_=ce(s,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:d,direction:K,tag:R}=o.useContext(P.E_),[Q,J]=o.useState(!0),Pe=(0,m.Z)(_,["closeIcon","closable"]);o.useEffect(()=>{W!==void 0&&J(W)},[W]);const Ce=(0,C.o2)(u),V=(0,C.yT)(u),ue=Ce||V,xe=Object.assign(Object.assign({backgroundColor:u&&!ue?u:void 0},R==null?void 0:R.style),c),ne=d("tag",z),[me,H,ae]=j(ne),x=D()(ne,R==null?void 0:R.className,{[`${ne}-${u}`]:ue,[`${ne}-has-color`]:u&&!ue,[`${ne}-hidden`]:!Q,[`${ne}-rtl`]:K==="rtl",[`${ne}-borderless`]:!$},n,l,H,ae),le=p=>{p.stopPropagation(),M==null||M(p),!p.defaultPrevented&&J(!1)},[,ge]=(0,O.Z)((0,O.w)(s),(0,O.w)(R),{closable:!1,closeIconRender:p=>{const B=o.createElement("span",{className:`${ne}-close-icon`,onClick:le},p);return(0,f.wm)(p,B,N=>({onClick:he=>{var w;(w=N==null?void 0:N.onClick)===null||w===void 0||w.call(N,he),le(he)},className:D()(N==null?void 0:N.className,`${ne}-close-icon`)}))}}),De=typeof _.onClick=="function"||v&&v.type==="a",Ie=i||null,q=Ie?o.createElement(o.Fragment,null,Ie,v&&o.createElement("span",null,v)):v,I=o.createElement("span",Object.assign({},Pe,{ref:F,className:x,style:xe}),q,ge,Ce&&o.createElement(Y,{key:"preset",prefixCls:ne}),V&&o.createElement(G,{key:"status",prefixCls:ne}));return me(De?o.createElement(r.Z,{component:"Tag"},I):I)});se.CheckableTag=Z;var te=se}}]);
