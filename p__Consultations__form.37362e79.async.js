(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8047],{86615:function(q,I,e){"use strict";var i=e(1413),s=e(45987),O=e(22270),a=e(55742),W=e(67294),v=e(90789),T=e(41550),m=e(85893),M=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],_=W.forwardRef(function(h,z){var g=h.fieldProps,$=h.options,ae=h.radioType,t=h.layout,D=h.proFieldProps,re=h.valueEnum,x=(0,s.Z)(h,M);return(0,m.jsx)(T.Z,(0,i.Z)((0,i.Z)({valueType:ae==="button"?"radioButton":"radio",ref:z,valueEnum:(0,O.h)(re,void 0)},x),{},{fieldProps:(0,i.Z)({options:$,layout:t},g),proFieldProps:D,filedConfig:{customLightMode:!0}}))}),C=W.forwardRef(function(h,z){var g=h.fieldProps,$=h.children;return(0,m.jsx)(a.ZP,(0,i.Z)((0,i.Z)({},g),{},{ref:z,children:$}))}),K=(0,v.G)(C,{valuePropName:"checked",ignoreWidth:!0}),c=K;c.Group=_,c.Button=a.ZP.Button,c.displayName="ProFormComponent",I.Z=c},48959:function(q,I,e){"use strict";var i=e(28248),s=e(80854),O=e(85893),a=function(v){var T=v.open,m=v.onOk,M=v.onCancel,_=v.title,C=v.content,K=v.okText,c=v.loading;return(0,O.jsx)(i.Z,{width:"600px",title:_!=null?_:(0,O.jsx)(s.FormattedMessage,{id:"confirmModal.title"}),open:T,onOk:m,onCancel:M,okText:K!=null?K:(0,O.jsx)(s.FormattedMessage,{id:"save"}),cancelText:(0,O.jsx)(s.FormattedMessage,{id:"cancel"}),confirmLoading:c,children:C!=null?C:(0,O.jsx)("p",{children:(0,O.jsx)(s.FormattedMessage,{id:"confirmModal.content"})})})};I.Z=a},28225:function(q,I,e){"use strict";var i=e(28248),s=e(80854),O=e(85893),a=function(v){var T=v.visible,m=v.setManage;return(0,O.jsx)(i.Z,{width:"600px",title:(0,O.jsx)(s.FormattedMessage,{id:"course.validate_edit.header",defaultMessage:"course.validate_edit.header"}),visible:T,onOk:function(){return m({showModal:!1,disableEdit:!1,clicked:!0})},onCancel:function(){return m({showModal:!1,disableEdit:!0,clicked:!1})},okText:"OK",cancelText:"Cancel",children:(0,O.jsx)("p",{children:(0,O.jsx)(s.FormattedMessage,{id:"course.validate_edit.content",defaultMessage:"course.validate_edit.content"})})})};I.Z=a},23535:function(q,I,e){"use strict";var i=e(97857),s=e.n(i),O=e(9783),a=e.n(O),W=e(71230),v=e(15746),T=e(14726),m=e(95830),M=e(67294),_=e(82238),C=e(34994),K=e(80854),c=e(85893),h=function(g){var $=g.title,ae=g.action,t=g.form_name,D=g.src_name,re=g.getUploadedSrcField,x=g.setPath,A=g.wrapInForm,Z=A===void 0?!0:A,ee=g.folder,j=g.proFormGroupProps;return(0,c.jsx)(C.A.Group,s()(s()({title:(0,c.jsx)(K.FormattedMessage,{id:$})},j),{},{children:(0,c.jsxs)(W.Z,{children:[(0,c.jsx)(v.Z,{children:(0,c.jsx)(C.A.Item,{shouldUpdate:!0,children:function(ce){return(0,c.jsxs)(M.Fragment,{children:[(0,c.jsx)(_.Z,{folder:ee,wrapInForm:Z,accept:"image/*",name:t,url:ae,onChange:function(oe){if(oe.file.status==="done"){var ge;ce.setFieldsValue(a()({},D,re(oe))),(ge=oe.file.response)!==null&&ge!==void 0&&ge.success&&x(a()(a()({},"".concat(t,"_url"),oe.file.response.data["".concat(t,"_url")]),"".concat(t,"_path"),oe.file.response.data["".concat(t,"_path")]))}}}),(0,c.jsx)(T.ZP,{danger:!0,onClick:function(){return[x(a()(a()({},"".concat(t,"_url"),""),"".concat(t,"_path"),"")),ce.setFieldsValue(a()({},D,""))]},children:(0,c.jsx)(K.FormattedMessage,{id:"delete"})})]})}})}),(0,c.jsx)(v.Z,{span:24,children:(0,c.jsx)(C.A.Item,{shouldUpdate:!0,children:function(ce){return(0,c.jsx)(m.Z,{width:200,src:ce.getFieldValue(D)})}})})]})}))};I.Z=h},53957:function(q,I,e){"use strict";var i=e(5574),s=e.n(i),O=e(50082),a=e(67294),W=e(85893),v=function(m){var M=m.productable,_=m.type,C=_===void 0?"card":_,K=(0,a.useState)("attributes"),c=s()(K,2),h=c[0],z=c[1];return(0,W.jsx)(O.Z,{productable:M,tab:h,onTabChange:function($){return z($)},type:C})};I.C=v},67541:function(q,I,e){"use strict";var i=e(52677),s=e.n(i),O=e(5574),a=e.n(O),W=e(83863),v=e(75081),T=e(66309),m=e(67294),M=e(80854),_=e(44837),C=e(85893),K=function(g){return"".concat(g.productable_type,":").concat(g.productable_id,":").concat(g.name)},c=function(g){return"".concat(g.class,":").concat(g.id,":").concat(g.name)},h=function(g){var $=g.value,ae=g.onChange,t=g.multiple,D=t===void 0?!1:t,re=g.disabled,x=re===void 0?!1:re,A=(0,m.useState)([]),Z=a()(A,2),ee=Z[0],j=Z[1],X=(0,m.useState)(!1),ce=a()(X,2),xe=ce[0],oe=ce[1],ge=(0,m.useState)([]),me=a()(ge,2),n=me[0],Oe=me[1],be=(0,m.useRef)(),l=(0,m.useCallback)(function(){oe(!0),be.current&&be.current.abort(),be.current=new AbortController,(0,_.rc)({signal:be.current.signal}).then(function(r){r.success&&j(r.data),oe(!1)}).catch(function(){return oe(!1)})},[]);return(0,m.useEffect)(function(){l()},[]),(0,m.useEffect)(function(){var r=new AbortController;if($){var f=Array.isArray($)?$:[$],d=f.map(function(p){return s()(p)==="object"?c(p):String(p)});Oe(d)}return function(){r.abort()}},[$]),(0,C.jsx)(W.default,{disabled:x,allowClear:!0,style:{width:"100%",minWidth:"150px"},value:n,onChange:ae,mode:D?"multiple":void 0,showSearch:!0,placeholder:(0,C.jsx)(M.FormattedMessage,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(f,d){if(d&&d.children){var p;return(d==null||(p=d.children)===null||p===void 0?void 0:p.toString().toLowerCase().indexOf(f&&f.toLowerCase()||""))>=0}return!1},notFoundContent:xe?(0,C.jsx)(v.Z,{size:"small"}):null,children:ee.map(function(r){var f=K(r);return(0,C.jsxs)(W.default.Option,{value:f,children:[(0,C.jsx)(T.Z,{children:(0,C.jsx)(M.FormattedMessage,{id:r.productable_type.split("\\").pop(),defaultMessage:r.productable_type.split("\\").pop()})})," ",r.name," ",(0,C.jsxs)("small",{children:["id:",r.productable_id]})," "]},f)})})};I.Z=h},14408:function(q,I,e){"use strict";e.d(I,{Z:function(){return T}});var i=e(97857),s=e.n(i),O=e(5574),a=e.n(O),W=e(2254),v=e(67294);function T(){var m=(0,v.useState)({showModal:!1,disableEdit:!1,clicked:!1}),M=a()(m,2),_=M[0],C=M[1],K=function(h){(h==null?void 0:h.status)==="published"&&h!==null&&h!==void 0&&h.active_from&&(0,W.C)(new Date(h==null?void 0:h.active_from))&&!_.clicked?C(s()(s()({},_),{},{showModal:!1,disableEdit:!0,clicked:!1})):C(s()(s()({},_),{},{showModal:!1,disableEdit:!1,clicked:!1}))};return{manageCourseEdit:_,setManageCourseEdit:C,validateCourseEdit:K}}},23961:function(q,I,e){"use strict";e.r(I),e.d(I,{default:function(){return b}});var i=e(15009),s=e.n(i),O=e(97857),a=e.n(O),W=e(99289),v=e.n(W),T=e(5574),m=e.n(T),M=e(26271),_=e(952),C=e(5966),K=e(64317),c=e(50335),h=e(2453),z=e(75081),g=e(38925),$=e(14726),ae=e(71230),t=e(15746),D=e(67294),re=e(19411),x=e(74453),A=e(7418),Z=e(48959),ee=e(28225),j=e(19632),X=e.n(j),ce=e(66309),xe=e(83863),oe=e(41606),ge=e(27484),me=e.n(ge),n=e(85893),Oe=function(y){return y.local().valueOf()},be=function(y){var N=y.value,E=N===void 0?[]:N,Q=y.onChange,H=y.format,k=H===void 0?"DD-MM-YYYY HH:mm":H,le=y.selectProps,fe=le===void 0?{}:le,R=(0,D.useState)(!1),ne=m()(R,2),pe=ne[0],u=ne[1],S=(0,D.useCallback)(function(w){var G=Oe(w),F=E.indexOf(G),U=X()(E);F>-1?U.splice(F,1):U.push(G),Q(U)},[E]),L=(0,D.useCallback)(function(w){var G=E.indexOf(Oe(w))>-1;return(0,n.jsx)("div",{className:"ant-picker-cell-inner",style:G?{position:"relative",zIndex:2,display:"inlineBlock",width:"24px",height:"22px",lineHeight:"22px",backgroundColor:"#1890ff",color:"#fff",margin:"auto",borderRadius:"2px",transition:"background 0.3s, border 0.3s"}:{},children:w.date()})},[E]),Y=(0,D.useCallback)(function(w){var G=w.value,F=w.onClose,U=function(){F(),Q(E.filter(function(ue){return ue!==G}))};return(0,n.jsx)(ce.Z,{onClose:U,closable:!0,children:me()(G).format(k)})},[E]),de=function(){return{disabledMinutes:function(){return Array.from({length:59},function(F,U){return U+1})}}};return(0,n.jsx)(xe.default,a()(a()({},fe),{},{allowClear:!0,mode:"multiple",value:E,onClear:function(){return Q&&Q([])},tagRender:Y,open:pe,onFocus:function(){return u(!0)},onBlur:function(){return u(!1)},dropdownMatchSelectWidth:!1,dropdownClassName:"multipleDropdownClassName",dropdownStyle:{height:"310px",width:"335px",minWidth:"0"},dropdownRender:function(){return(0,n.jsx)(oe.default,{disabledDate:function(F){var U=new Date;return F.valueOf()<=U.setDate(U.getDate()-1)},showTime:{format:"HH"},disabledTime:de,onChange:function(F){return F&&S(F)},open:!0,dateRender:L,style:{visibility:"hidden"},getPopupContainer:function(F){var U=F.parentNode;return U},defaultValue:me()("00:00","HH")})}}))},l=be,r=e(23535),f=e(53957),d=e(44167),p=e(54434),se=function(P){return P.draft="draft",P.published="published",P.archived="archived",P}({}),te=e(14408),J=e(51490),ie=e(66419),o=e(80854),Ee=e(49677),De=e.n(Ee),he=e(40411),V=e(83062),Me=e(31156),Ce=e(16894),Ae=function(y){var N=y.data,E=y.onChange,Q=(0,D.useState)(!1),H=m()(Q,2),k=H[0],le=H[1],fe=(0,D.useState)(me()(N.date)),R=m()(fe,2),ne=R[0],pe=R[1],u=(0,D.useCallback)(function(S){pe(me()(S)),le(!0),(0,J.YG)(N.consultation_term_id,S).then(function(L){L.success?(h.ZP.success(L.message),E(ne)):h.ZP.error(L.message)}).catch(function(L){return h.ZP.error(L.toString())}).finally(function(){return le(!1)})},[ne]);return(0,n.jsx)(D.Fragment,{children:(0,n.jsx)(oe.default,{disabledDate:function(L){var Y=new Date;return L&&L.valueOf()<=Y.setDate(Y.getDate()-1)},disabled:k,value:ne,showTime:{format:"HH"},onChange:function(L){L&&u(L.toISOString())}})})},Ie={reported:"warning",reject:"error",approved:"success"},Te=[{title:(0,n.jsx)(o.FormattedMessage,{id:"ID",defaultMessage:"ID"}),dataIndex:"consultation_term_id",hideInSearch:!0,sorter:!0,width:"80px"},{title:(0,n.jsx)(o.FormattedMessage,{id:"user",defaultMessage:"user"}),dataIndex:"user",render:function(y,N){var E,Q,H;return"".concat((E=N.user)===null||E===void 0?void 0:E.first_name," ").concat((Q=N.user)===null||Q===void 0?void 0:Q.last_name," ").concat((H=N.user)===null||H===void 0?void 0:H.email)},sorter:!0},{title:(0,n.jsx)(o.FormattedMessage,{id:"date",defaultMessage:"date"}),dataIndex:"date",sorter:!0,render:function(y,N){return me()(N.date).format("yyyy-MM-DD HH:mm")}},{title:(0,n.jsx)(o.FormattedMessage,{id:"status",defaultMessage:"status"}),dataIndex:"status",sorter:!0,render:function(y,N){return(0,n.jsx)(he.Z,{status:Ie[N.status],text:(0,n.jsx)(o.FormattedMessage,{id:N.status})})}}],ye=function(y){var N=y.consultation,E=(0,D.useState)(!1),Q=m()(E,2),H=Q[0],k=Q[1],le=(0,D.useState)([]),fe=m()(le,2),R=fe[0],ne=fe[1],pe=(0,o.useIntl)(),u=(0,D.useCallback)(function(){k(!0),(0,J.MP)(N).then(function(L){L.success&&ne(L.data)}).catch(function(){h.ZP.error((0,n.jsx)(o.FormattedMessage,{id:"error",defaultMessage:"error"}))}).finally(function(){return k(!1)})},[N]);(0,D.useEffect)(function(){u()},[N]);var S=(0,D.useCallback)(function(L){return(0,n.jsx)("ul",{className:"events",children:R.map(function(Y){if(L.format("yyyy-MM-DD")===me()(Y.date).format("yyyy-MM-DD")){var de,w,G,F;return(0,n.jsx)("li",{children:(0,n.jsx)(he.Z,{status:Ie[Y.status],text:(0,n.jsx)(D.Fragment,{children:(0,n.jsxs)(V.Z,{title:"".concat((de=Y.user)===null||de===void 0?void 0:de.first_name," ").concat((w=Y.user)===null||w===void 0?void 0:w.last_name," ").concat((G=Y.user)===null||G===void 0?void 0:G.email),children:[(0,n.jsx)("small",{children:me()(Y.date).format("HH:mm")})," ",(F=Y.user)===null||F===void 0?void 0:F.email]})})})},Y.consultation_term_id)}return null})})},[R]);return(0,n.jsxs)(D.Fragment,{children:[H&&(0,n.jsx)(z.Z,{}),(0,n.jsx)(Me.Z,{dateCellRender:S}),H?(0,n.jsx)(z.Z,{}):(0,n.jsx)(Ce.ZP,{headerTitle:pe.formatMessage({id:"Consultations",defaultMessage:"Consultations"}),loading:H,rowKey:"consultation_term_id",search:!1,request:function(){var L=v()(s()().mark(function Y(de,w){var G,F;return s()().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return De()(de),G=w&&Object.entries(w)[0],F=R,G&&(F=(0,ie.Pf)(F,G[0],G[1]!=="ascend")),B.abrupt("return",{data:F,total:F.length,success:!0});case 5:case"end":return B.stop()}},Y)}));return function(Y,de){return L.apply(this,arguments)}}(),columns:[].concat(Te,[{title:(0,n.jsx)(o.FormattedMessage,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"20%",render:function(Y,de){return[(0,n.jsx)(Ae,{data:de,onChange:function(){return u()}},"change_date")]}}])})]})},Se=ye,_e=function(P){return P.ATTRIBUTES="attributes",P.PRODUCT="product",P.MEDIA="media",P.CATEGORIES="categories",P.BRANDING="branding",P.USER_SUBMISSION="user_submission",P.CALENDAR="calendar",P}(_e||{}),Re=function(){var y=(0,o.useIntl)(),N=(0,o.useParams)(),E=N.consultation,Q=N.tab,H=Q===void 0?"attributes":Q,k=E==="new",le=(0,D.useState)(),fe=m()(le,2),R=fe[0],ne=fe[1],pe=(0,te.Z)(),u=pe.manageCourseEdit,S=pe.setManageCourseEdit,L=pe.validateCourseEdit,Y=_.ZP.useForm(),de=m()(Y,1),w=de[0],G=(0,D.useCallback)(v()(s()().mark(function U(){var B,ue;return s()().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,(0,J.hW)(Number(E));case 2:B=Pe.sent,B.success&&(H==="attributes"&&L(B.data),ne(a()(a()({},B.data),{},{author_id:B.data.author&&B.data.author.id,categories:(ue=B.data.categories)===null||ue===void 0?void 0:ue.map(ie.i4)})));case 4:case"end":return Pe.stop()}},U)})),[E]);(0,D.useEffect)(function(){if(k){ne({name:"new"});return}G()},[E]);var F=(0,D.useMemo)(function(){return{onValuesChange:function(){S(a()(a()({},u),{},{valuesChanged:!0}))},onFinish:function(){var U=v()(s()().mark(function ue(Le){var Pe,je;return s()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(!u.disableEdit){ve.next=3;break}return S({showModal:!0,disableEdit:!0,clicked:!1}),ve.abrupt("return");case 3:if(Pe=a()(a()({},Le),{},{image_url:R&&R.image_url,image_path:R&&R.image_url&&(0,ie.Ox)(R.image_url),logotype_url:R&&R.logotype_url,logotype_path:R&&R.logotype_path&&(0,ie.Ox)(R.logotype_path)}),!k){ve.next=11;break}return ve.next=7,(0,J.YS)(Pe);case 7:je=ve.sent,je.success&&o.history.push("/other/consultations/".concat(je.data.id)),ve.next=15;break;case 11:return ve.next=13,(0,J.hR)(Number(E),Pe);case 13:je=ve.sent,je.success&&(L(je.data),o.history.push("/other/consultations/".concat(je.data.id,"/").concat(H)));case 15:h.ZP.success(je.message),S(a()(a()({},u),{},{showConfirmModal:!1,loading:!1,valuesChanged:!1}));case 17:case"end":return ve.stop()}},ue)}));function B(ue){return U.apply(this,arguments)}return B}(),initialValues:R}},[R,E,H,u]);return R?(0,n.jsxs)(x._z,{title:k?(0,n.jsx)(o.FormattedMessage,{id:"consultation"}):(0,n.jsx)(o.FormattedMessage,{id:"consultations.edit"}),header:{breadcrumb:{routes:[{path:"other/consultations",breadcrumbName:y.formatMessage({id:"menu.Other activities.Consultations"})},{path:String(E),breadcrumbName:y.formatMessage({id:"form"})},{path:"/",breadcrumbName:String(R.name)},{path:String(H),breadcrumbName:String(R.name)}]}},children:[(0,n.jsxs)(M.ZP,{tabs:{type:"card",activeKey:H,onChange:function(B){B!==_e.ATTRIBUTES&&u.valuesChanged?S(a()(a()({},u),{},{showConfirmModal:!0})):o.history.push("/other/consultations/".concat(E,"/").concat(B))}},children:[(0,n.jsxs)(M.ZP.TabPane,{tab:(0,n.jsx)(o.FormattedMessage,{id:"attributes"}),children:[u.disableEdit&&(0,n.jsx)(g.Z,{closable:!0,style:{marginBottom:"20px"},type:"warning",message:(0,n.jsx)(o.FormattedMessage,{id:"course_edit_warning_message",defaultMessage:"course_edit_warning_message"}),action:(0,n.jsx)($.ZP,{onClick:function(){return S({showModal:!0,disableEdit:!0,clicked:!0})},type:"primary",children:(0,n.jsx)(o.FormattedMessage,{id:"questionnaire.submit",defaultMessage:"questionnaire.submit"})})}),(0,n.jsx)(ee.Z,{visible:u.showModal,setManage:S}),(0,n.jsxs)(_.ZP,a()(a()({},F),{},{form:w,children:[(0,n.jsxs)(_.ZP.Group,{children:[(0,n.jsx)(C.Z,{width:"md",name:"name",label:(0,n.jsx)(o.FormattedMessage,{id:"name"}),tooltip:(0,n.jsx)(o.FormattedMessage,{id:"name"}),placeholder:y.formatMessage({id:"name",defaultMessage:"name"}),required:!0,disabled:u.disableEdit}),(0,n.jsx)(C.Z,{width:"sm",name:"duration",label:(0,n.jsx)(o.FormattedMessage,{id:"duration"}),tooltip:(0,n.jsx)(o.FormattedMessage,{id:"consultations.duration_tooltip"}),placeholder:y.formatMessage({id:"duration",defaultMessage:"duration"}),disabled:u.disableEdit}),(0,n.jsx)(K.Z,{name:"status",width:"sm",label:(0,n.jsx)(o.FormattedMessage,{id:"status"}),tooltip:(0,n.jsx)(o.FormattedMessage,{id:"status_consultation_tooltip"}),valueEnum:{draft:y.formatMessage({id:"draft",defaultMessage:"draft"}),published:y.formatMessage({id:"published",defaultMessage:"published"}),archived:y.formatMessage({id:"archived",defaultMessage:"archived"})},initialValue:se.draft,placeholder:y.formatMessage({id:"status"}),rules:[{required:!0,message:(0,n.jsx)(o.FormattedMessage,{id:"select"})}],disabled:u.disableEdit})]}),(0,n.jsxs)(_.ZP.Group,{children:[(0,n.jsx)(c.Z,{width:"sm",name:"active_from",label:(0,n.jsx)(o.FormattedMessage,{id:"active_from"}),tooltip:(0,n.jsx)(o.FormattedMessage,{id:"active_from"}),placeholder:y.formatMessage({id:"active_from",defaultMessage:"active_from"}),disabled:u.disableEdit}),(0,n.jsx)(c.Z,{width:"sm",name:"active_to",label:(0,n.jsx)(o.FormattedMessage,{id:"active_to"}),tooltip:(0,n.jsx)(o.FormattedMessage,{id:"active_to"}),placeholder:y.formatMessage({id:"active_to",defaultMessage:"active_to"}),disabled:u.disableEdit}),(0,n.jsx)(_.ZP.Item,{name:"author_id",label:(0,n.jsx)(o.FormattedMessage,{id:"tutor"}),tooltip:(0,n.jsx)(o.FormattedMessage,{id:"tutor_consultation_tooltip"}),valuePropName:"value",required:!0,children:(0,n.jsx)(d.Z,{})})]}),(0,n.jsx)(_.ZP.Group,{children:(0,n.jsx)(_.ZP.Item,{name:"description",label:(0,n.jsx)(o.FormattedMessage,{id:"description"}),tooltip:(0,n.jsx)(o.FormattedMessage,{id:"description_tooltip"}),valuePropName:"value",required:!0,children:(0,n.jsx)(re.ZP,{directory:"consultation/".concat(E,"/wysiwyg")})})}),(0,n.jsx)(_.ZP.Group,{children:(0,n.jsx)(_.ZP.Item,{valuePropName:"value",name:"proposed_terms",tooltip:(0,n.jsx)(o.FormattedMessage,{id:"proposed_terms_tooltip"}),label:(0,n.jsx)(o.FormattedMessage,{id:"consultations.proposed_terms"}),children:(0,n.jsx)(l,{})})})]}))]},_e.ATTRIBUTES),!k&&(0,n.jsx)(M.ZP.TabPane,{tab:(0,n.jsx)(o.FormattedMessage,{id:"product"}),disabled:u.disableEdit,children:E&&(0,n.jsx)(f.C,{type:"line",productable:{class_type:"App\\Models\\Consultation",class_id:E,name:String(R.name),quantity:1}})},_e.PRODUCT),!k&&(0,n.jsx)(M.ZP.TabPane,{tab:(0,n.jsx)(o.FormattedMessage,{id:"media"}),disabled:u.disableEdit,children:(0,n.jsx)(_.ZP,a()(a()({},F),{},{children:(0,n.jsx)(r.Z,{folder:"consultation/".concat(E),title:"image",action:"/api/admin/consultations/".concat(E),src_name:"image_url",form_name:"image",getUploadedSrcField:function(B){return B.file.response.data.image_url},setPath:function(B){return ne(function(ue){return a()(a()({},ue),B)})}})}))},_e.MEDIA),!k&&(0,n.jsx)(M.ZP.TabPane,{tab:(0,n.jsx)(o.FormattedMessage,{id:"categories"}),disabled:u.disableEdit,children:(0,n.jsx)(ae.Z,{children:(0,n.jsx)(t.Z,{span:12,children:(0,n.jsx)(_.ZP,a()(a()({},F),{},{children:(0,n.jsx)(_.ZP.Item,{label:(0,n.jsx)(o.FormattedMessage,{id:"categories"}),name:"categories",valuePropName:"value",children:(0,n.jsx)(A.Z,{})})}))})})},_e.CATEGORIES)," ",!k&&(0,n.jsx)(M.ZP.TabPane,{tab:(0,n.jsx)(o.FormattedMessage,{id:"branding"}),disabled:u.disableEdit,children:(0,n.jsx)(_.ZP,a()(a()({},F),{},{children:(0,n.jsx)(r.Z,{folder:"consultation/".concat(E),title:y.formatMessage({id:"logotype"}),action:"/api/admin/consultations/".concat(E),src_name:"logotype_url",form_name:"logotype",getUploadedSrcField:function(B){return B.file.response.data.logotype_url},setPath:function(B){return ne(function(ue){return a()(a()({},ue),B)})}})}))},_e.BRANDING)," ",!k&&(0,n.jsx)(M.ZP.TabPane,{tab:(0,n.jsx)(o.FormattedMessage,{id:"user_submission"}),disabled:u.disableEdit,children:(0,n.jsx)(ae.Z,{children:(0,n.jsx)(t.Z,{span:12,children:E&&(0,n.jsx)(p.ZP,{id:Number(E),type:"App\\Models\\Consultation"})})})},_e.USER_SUBMISSION),!k&&(0,n.jsx)(M.ZP.TabPane,{tab:(0,n.jsx)(o.FormattedMessage,{id:"consultations.calendar"}),children:(0,n.jsx)(Se,{consultation:Number(E)})},_e.CALENDAR)]}),(0,n.jsx)(Z.Z,{open:!!u.showConfirmModal,onOk:function(){S(a()(a()({},u),{},{loading:!0})),w.submit()},onCancel:function(){S(a()(a()({},u),{},{showConfirmModal:!1}))},loading:!!u.loading})]}):(0,n.jsx)(z.Z,{})},b=Re},51490:function(q,I,e){"use strict";e.d(I,{MP:function(){return ae},SQ:function(){return g},YG:function(){return D},YS:function(){return _},hR:function(){return h},hW:function(){return K},sL:function(){return m}});var i=e(15009),s=e.n(i),O=e(97857),a=e.n(O),W=e(99289),v=e.n(W),T=e(80854);function m(x,A){return M.apply(this,arguments)}function M(){return M=v()(s()().mark(function x(A,Z){return s()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",(0,T.request)("/api/admin/consultations",a()({method:"GET",useCache:!1,params:A},Z||{})));case 1:case"end":return j.stop()}},x)})),M.apply(this,arguments)}function _(x,A){return C.apply(this,arguments)}function C(){return C=v()(s()().mark(function x(A,Z){return s()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",(0,T.request)("/api/admin/consultations",a()({method:"POST",headers:{"Content-Type":"application/json"},data:A},Z||{})));case 1:case"end":return j.stop()}},x)})),C.apply(this,arguments)}function K(x,A){return c.apply(this,arguments)}function c(){return c=v()(s()().mark(function x(A,Z){return s()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",(0,T.request)("/api/admin/consultations/".concat(A),a()({method:"GET",useCache:!1},Z||{})));case 1:case"end":return j.stop()}},x)})),c.apply(this,arguments)}function h(x,A,Z){return z.apply(this,arguments)}function z(){return z=v()(s()().mark(function x(A,Z,ee){return s()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.abrupt("return",(0,T.request)("/api/admin/consultations/".concat(A),a()({method:"PUT",headers:{"Content-Type":"application/json"},data:Z},ee||{})));case 1:case"end":return X.stop()}},x)})),z.apply(this,arguments)}function g(x,A){return $.apply(this,arguments)}function $(){return $=v()(s()().mark(function x(A,Z){return s()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",(0,T.request)("/api/admin/consultations/".concat(A),a()({method:"DELETE",useCache:!1},Z||{})));case 1:case"end":return j.stop()}},x)})),$.apply(this,arguments)}function ae(x,A){return t.apply(this,arguments)}function t(){return t=v()(s()().mark(function x(A,Z){return s()().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",(0,T.request)("/api/admin/consultations/".concat(A,"/schedule"),a()({method:"GET",useCache:!1},Z||{})));case 1:case"end":return j.stop()}},x)})),t.apply(this,arguments)}function D(x,A,Z){return re.apply(this,arguments)}function re(){return re=v()(s()().mark(function x(A,Z,ee){return s()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.abrupt("return",(0,T.request)("/api/admin/consultations/change-term/".concat(A),a()({method:"POST",headers:{"Content-Type":"application/json"},data:{executed_at:Z}},ee||{})));case 1:case"end":return X.stop()}},x)})),re.apply(this,arguments)}},31472:function(q,I,e){"use strict";e.d(I,{Fh:function(){return C},UL:function(){return M},Yo:function(){return h},Zg:function(){return z},cX:function(){return m},ce:function(){return T},fS:function(){return c},fn:function(){return W},h5:function(){return g},hg:function(){return ae},oz:function(){return i},rX:function(){return K},uT:function(){return a},wg:function(){return $},wl:function(){return _}});var i=function(t){return t.Unselected="",t.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",t.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",t.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",t.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",t.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",t.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",t.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",t.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",t.Project="EscolaLms\\TopicTypeProject\\Models\\Project",t.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz",t}({}),s=function(t){return t.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",t.UserLogged="EscolaLms\\Auth\\Events\\UserLogged",t}({}),O=function(t){return t.draft="draft",t.published="published",t.archived="archived",t}({}),a=function(t){return t.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",t.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",t.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel",t}({}),W=function(t){return t.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent",t}({}),v=function(t){return t.cart_fixed="cart_fixed",t.cart_percent="cart_percent",t.product_fixed="product_fixed",t.product_percent="product_percent",t}({}),T=function(t){return t.MULTIPLE_CHOICE="multiple_choice",t.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",t.TRUE_FALSE="true_false",t.SHORT_ANSWERS="short_answers",t.MATCHING="matching",t.NUMERICAL_QUESTION="numerical_question",t.ESSAY="essay",t.DESCRIPTION="description",t}({}),m=function(t){return t.PRESENT="present",t.PRESENT_NOT_EXERCISING="present_not_exercising",t.ABSENT="absent",t.EXCUSED_ABSENCE="excused_absence",t}({}),M=function(t){return t.Manual="manual",t.ManualPass="manual_pass",t.ManualGrades="manual_grades",t.TeamsForms="teams_forms",t.TeamsLecture="teams_lecture",t.TestPortal="test_portal",t}({}),_=function(t){return t.Passed="zal",t.Failed="nie zal",t}({}),C=function(t){return t.Simple="simple",t.Complex="complex",t}({}),K=function(t){return t.QuizSummary="EscolaLms\\Reports\\Stats\\Topic\\QuizSummaryForTopicTypeGIFT",t}({}),c=function(t){return t.Boolean="boolean",t.Number="number",t.Varchar="varchar",t.Text="text",t.Json="json",t}({}),h=function(t){return t.Rate="rate",t.Text="text",t.Review="review",t}({}),z=function(t){return t.Exercise="exercise",t.Course="course",t.Info="info",t}({}),g=function(t){return t.Group="EscolaLms\\PcgIntegration\\Models\\Group",t}({}),$=function(t){return t.PUSH="EscolaLms\\BulkNotifications\\Channels\\PushNotificationChannel",t}({}),ae=function(t){return t.TITLE="title",t.BODY="body",t.IMAGE="image_url",t.REDIRECT_URL="redirect_url",t}({})},64532:function(q,I,e){"use strict";e.d(I,{a:function(){return m}});var i=e(15009),s=e.n(i),O=e(97857),a=e.n(O),W=e(99289),v=e.n(W),T=e(80854);function m(_){return M.apply(this,arguments)}function M(){return M=v()(s()().mark(function _(C){return s()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",(0,T.request)("/api/tags/unique",a()({method:"GET",useCache:!1},C||{})));case 1:case"end":return c.stop()}},_)})),M.apply(this,arguments)}},38925:function(q,I,e){"use strict";e.d(I,{Z:function(){return be}});var i=e(67294),s=e(76278),O=e(17012),a=e(62208),W=e(26702),v=e(1558),T=e(93967),m=e.n(T),M=e(82225),_=e(64217),C=e(96159),K=e(53124),c=e(6731),h=e(14747),z=e(91945);const g=(l,r,f,d,p)=>({background:l,border:`${(0,c.unit)(d.lineWidth)} ${d.lineType} ${r}`,[`${p}-icon`]:{color:f}}),$=l=>{const{componentCls:r,motionDurationSlow:f,marginXS:d,marginSM:p,fontSize:se,fontSizeLG:te,lineHeight:J,borderRadiusLG:ie,motionEaseInOutCirc:o,withDescriptionIconSize:Ee,colorText:De,colorTextHeading:he,withDescriptionPadding:V,defaultPadding:Me}=l;return{[r]:Object.assign(Object.assign({},(0,h.Wf)(l)),{position:"relative",display:"flex",alignItems:"center",padding:Me,wordWrap:"break-word",borderRadius:ie,[`&${r}-rtl`]:{direction:"rtl"},[`${r}-content`]:{flex:1,minWidth:0},[`${r}-icon`]:{marginInlineEnd:d,lineHeight:0},["&-description"]:{display:"none",fontSize:se,lineHeight:J},"&-message":{color:he},[`&${r}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${f} ${o}, opacity ${f} ${o},
        padding-top ${f} ${o}, padding-bottom ${f} ${o},
        margin-bottom ${f} ${o}`},[`&${r}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${r}-with-description`]:{alignItems:"flex-start",padding:V,[`${r}-icon`]:{marginInlineEnd:p,fontSize:Ee,lineHeight:0},[`${r}-message`]:{display:"block",marginBottom:d,color:he,fontSize:te},[`${r}-description`]:{display:"block",color:De}},[`${r}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},ae=l=>{const{componentCls:r,colorSuccess:f,colorSuccessBorder:d,colorSuccessBg:p,colorWarning:se,colorWarningBorder:te,colorWarningBg:J,colorError:ie,colorErrorBorder:o,colorErrorBg:Ee,colorInfo:De,colorInfoBorder:he,colorInfoBg:V}=l;return{[r]:{"&-success":g(p,d,f,l,r),"&-info":g(V,he,De,l,r),"&-warning":g(J,te,se,l,r),"&-error":Object.assign(Object.assign({},g(Ee,o,ie,l,r)),{[`${r}-description > pre`]:{margin:0,padding:0}})}}},t=l=>{const{componentCls:r,iconCls:f,motionDurationMid:d,marginXS:p,fontSizeIcon:se,colorIcon:te,colorIconHover:J}=l;return{[r]:{["&-action"]:{marginInlineStart:p},[`${r}-close-icon`]:{marginInlineStart:p,padding:0,overflow:"hidden",fontSize:se,lineHeight:(0,c.unit)(se),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${f}-close`]:{color:te,transition:`color ${d}`,"&:hover":{color:J}}},"&-close-text":{color:te,transition:`color ${d}`,"&:hover":{color:J}}}}},D=l=>({withDescriptionIconSize:l.fontSizeHeading3,defaultPadding:`${l.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${l.paddingMD}px ${l.paddingContentHorizontalLG}px`});var re=(0,z.I$)("Alert",l=>[$(l),ae(l),t(l)],D),x=function(l,r){var f={};for(var d in l)Object.prototype.hasOwnProperty.call(l,d)&&r.indexOf(d)<0&&(f[d]=l[d]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,d=Object.getOwnPropertySymbols(l);p<d.length;p++)r.indexOf(d[p])<0&&Object.prototype.propertyIsEnumerable.call(l,d[p])&&(f[d[p]]=l[d[p]]);return f};const A={success:s.Z,info:v.Z,error:O.Z,warning:W.Z},Z=l=>{const{icon:r,prefixCls:f,type:d}=l,p=A[d]||null;return r?(0,C.wm)(r,i.createElement("span",{className:`${f}-icon`},r),()=>({className:m()(`${f}-icon`,{[r.props.className]:r.props.className})})):i.createElement(p,{className:`${f}-icon`})},ee=l=>{const{isClosable:r,prefixCls:f,closeIcon:d,handleClose:p,ariaProps:se}=l,te=d===!0||d===void 0?i.createElement(a.Z,null):d;return r?i.createElement("button",Object.assign({type:"button",onClick:p,className:`${f}-close-icon`,tabIndex:0},se),te):null};var X=l=>{const{description:r,prefixCls:f,message:d,banner:p,className:se,rootClassName:te,style:J,onMouseEnter:ie,onMouseLeave:o,onClick:Ee,afterClose:De,showIcon:he,closable:V,closeText:Me,closeIcon:Ce,action:Ae}=l,Ie=x(l,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[Te,ye]=i.useState(!1),Se=i.useRef(null),{getPrefixCls:_e,direction:Re,alert:b}=i.useContext(K.E_),P=_e("alert",f),[y,N,E]=re(P),Q=u=>{var S;ye(!0),(S=l.onClose)===null||S===void 0||S.call(l,u)},H=i.useMemo(()=>l.type!==void 0?l.type:p?"warning":"info",[l.type,p]),k=i.useMemo(()=>typeof V=="object"&&V.closeIcon||Me?!0:typeof V=="boolean"?V:Ce!==!1&&Ce!==null&&Ce!==void 0?!0:!!(b!=null&&b.closable),[Me,Ce,V,b==null?void 0:b.closable]),le=p&&he===void 0?!0:he,fe=m()(P,`${P}-${H}`,{[`${P}-with-description`]:!!r,[`${P}-no-icon`]:!le,[`${P}-banner`]:!!p,[`${P}-rtl`]:Re==="rtl"},b==null?void 0:b.className,se,te,E,N),R=(0,_.Z)(Ie,{aria:!0,data:!0}),ne=i.useMemo(()=>{var u,S;return typeof V=="object"&&V.closeIcon?V.closeIcon:Me||(Ce!==void 0?Ce:typeof(b==null?void 0:b.closable)=="object"&&(!((u=b==null?void 0:b.closable)===null||u===void 0)&&u.closeIcon)?(S=b==null?void 0:b.closable)===null||S===void 0?void 0:S.closeIcon:b==null?void 0:b.closeIcon)},[Ce,V,Me,b==null?void 0:b.closeIcon]),pe=i.useMemo(()=>{const u=V!=null?V:b==null?void 0:b.closable;if(typeof u=="object"){const{closeIcon:S}=u;return x(u,["closeIcon"])}return{}},[V,b==null?void 0:b.closable]);return y(i.createElement(M.default,{visible:!Te,motionName:`${P}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:u=>({maxHeight:u.offsetHeight}),onLeaveEnd:De},u=>{let{className:S,style:L}=u;return i.createElement("div",Object.assign({ref:Se,"data-show":!Te,className:m()(fe,S),style:Object.assign(Object.assign(Object.assign({},b==null?void 0:b.style),J),L),onMouseEnter:ie,onMouseLeave:o,onClick:Ee,role:"alert"},R),le?i.createElement(Z,{description:r,icon:l.icon,prefixCls:P,type:H}):null,i.createElement("div",{className:`${P}-content`},d?i.createElement("div",{className:`${P}-message`},d):null,r?i.createElement("div",{className:`${P}-description`},r):null),Ae?i.createElement("div",{className:`${P}-action`},Ae):null,i.createElement(ee,{isClosable:k,prefixCls:P,closeIcon:ne,handleClose:Q,ariaProps:pe}))}))},ce=e(15671),xe=e(43144),oe=e(53640),ge=e(32531),n=function(l){(0,ge.Z)(r,l);function r(){var f;return(0,ce.Z)(this,r),f=(0,oe.Z)(this,r,arguments),f.state={error:void 0,info:{componentStack:""}},f}return(0,xe.Z)(r,[{key:"componentDidCatch",value:function(d,p){this.setState({error:d,info:p})}},{key:"render",value:function(){const{message:d,description:p,children:se}=this.props,{error:te,info:J}=this.state,ie=J&&J.componentStack?J.componentStack:null,o=typeof d=="undefined"?(te||"").toString():d,Ee=typeof p=="undefined"?ie:p;return te?i.createElement(X,{type:"error",message:o,description:i.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},Ee)}):se}}]),r}(i.Component);const Oe=X;Oe.ErrorBoundary=n;var be=Oe},49677:function(q){function I(e){if(e==null)throw new TypeError("Cannot destructure "+e)}q.exports=I,q.exports.__esModule=!0,q.exports.default=q.exports},2254:function(q,I,e){"use strict";e.d(I,{C:function(){return s}});var i=e(32841);function s(a){return+(0,i.Q)(a)<Date.now()}var O=null}}]);
