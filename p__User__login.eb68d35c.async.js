(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{MZhU:function(P,E,s){P.exports={container:"container___3DGcF",lang:"lang___18BEt",content:"content___24x6E",top:"top___Kmd6o",header:"header___1kD8J",logo:"logo___2Fmyt",title:"title___3pcso",desc:"desc___2QZoR",main:"main___3ipCw",icon:"icon___P3cg6",other:"other___3uIfA",register:"register___3Mz8E",prefixIcon:"prefixIcon___Tvd5H"}},Z1IU:function(P,E,s){"use strict";s.r(E);var Y=s("/zsF"),T=s("PArb"),H=s("miYZ"),b=s("tsqr"),j=s("k1fw"),M=s("9og8"),h=s("tJVT"),X=s("fOrg"),x=s("+KLJ"),B=s("WmNS"),l=s.n(B),K=s("cJ7L"),C=s("FY4R"),f=s("q1tI"),k=s.n(f),R=s("VMEa"),D=s("Qurx"),W=s("tneF"),t=s("9kvl"),S=s("55Ip"),y=s("CwrG"),N=s("Wznp"),F=s("MZhU"),n=s.n(F),e=s("nKUr"),q=s.n(e),w=function(m){var d=m.content;return Object(e.jsx)(x.a,{style:{marginBottom:24},message:d,type:"error",showIcon:!0})},z=function(){!t.d||setTimeout(function(){var m=t.d.location.query,d=m,v=d.redirect;t.d.push(v||"/")},10)},J=function(){var m=Object(f.useState)(!1),d=Object(h.a)(m,2),v=d[0],I=d[1],Z=Object(f.useState)(),A=Object(h.a)(Z,2),L=A[0],$=A[1],U=Object(t.j)("@@initialState"),O=U.initialState,G=U.setInitialState,g=Object(t.i)(),V=function(){var u=Object(M.a)(l.a.mark(function _(){var r,i;return l.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,O==null||(r=O.fetchUserInfo)===null||r===void 0?void 0:r.call(O);case 2:i=c.sent,i&&G(Object(j.a)(Object(j.a)({},O),{},{currentUser:i}));case 4:case"end":return c.stop()}},_)}));return function(){return u.apply(this,arguments)}}(),Q=function(){var u=Object(M.a)(l.a.mark(function _(r){var i,o;return l.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return I(!0),a.prev=1,a.next=4,Object(N.a)(Object(j.a)({},r));case 4:if(i=a.sent,!i.success){a.next=12;break}return localStorage.setItem("TOKEN",i.data.token),b.default.success("success"),a.next=10,V();case 10:return z(),a.abrupt("return");case 12:$(i),a.next=18;break;case 15:a.prev=15,a.t0=a.catch(1),b.default.error((a.t0===null||a.t0===void 0||(o=a.t0.data)===null||o===void 0?void 0:o.message)||"Error");case 18:I(!1);case 19:case"end":return a.stop()}},_,null,[[1,15]])}));return function(r){return u.apply(this,arguments)}}();return Object(e.jsxs)("div",{className:n.a.container,children:[Object(e.jsx)("div",{className:n.a.lang,children:t.b&&Object(e.jsx)(t.b,{})}),Object(e.jsxs)("div",{className:n.a.content,children:[Object(e.jsx)("div",{className:n.a.top,children:Object(e.jsx)("div",{className:n.a.header,children:Object(e.jsx)(S.a,{to:"/",children:Object(e.jsx)("img",{alt:"logo",className:n.a.logo,src:"/logo.svg"})})})}),Object(e.jsx)(T.a,{}),Object(e.jsx)("div",{className:n.a.main,children:Object(e.jsxs)(R.b,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:g.formatMessage({id:"pages.login.submit",defaultMessage:"submit"})},render:function(_,r){return r.pop()},submitButtonProps:{loading:v,size:"large",style:{width:"100%"}}},onFinish:function(){var u=Object(M.a)(l.a.mark(function _(r){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:Q(r);case 1:case"end":return o.stop()}},_)}));return function(_){return u.apply(this,arguments)}}(),children:[L&&!L.success&&Object(e.jsx)(w,{content:g.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\uFF08admin/ant.design)"})}),Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)("pre",{children:"email/password: admin@escola-lms.com/secret"}),Object(e.jsx)(D.a,{name:"email",fieldProps:{size:"large",prefix:Object(e.jsx)(K.a,{className:n.a.prefixIcon})},placeholder:g.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"admin or user"}),rules:[{required:!0,message:Object(e.jsx)(t.a,{id:"pages.login.username.required",defaultMessage:"required!"})}]}),Object(e.jsx)(D.a.Password,{name:"password",fieldProps:{size:"large",prefix:Object(e.jsx)(C.a,{className:n.a.prefixIcon})},placeholder:g.formatMessage({id:"pages.login.password.placeholder",defaultMessage:" ant.design"}),rules:[{required:!0,message:Object(e.jsx)(t.a,{id:"pages.login.password.required",defaultMessage:"required"})}]})]}),Object(e.jsxs)("div",{style:{marginBottom:24},children:[Object(e.jsx)(W.a,{noStyle:!0,name:"autoLogin",children:Object(e.jsx)(t.a,{id:"pages.login.rememberMe",defaultMessage:"rememberMe"})}),Object(e.jsx)("a",{style:{float:"right"},children:Object(e.jsx)(t.a,{id:"pages.login.forgotPassword",defaultMessage:"forgotPassword"})})]})]})})]}),Object(e.jsx)(y.a,{})]})};E.default=J}}]);
