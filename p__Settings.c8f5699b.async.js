(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"3fxf":function(de,S,e){"use strict";var F=e("DjyN"),Q=e("NUBc"),P=e("Mwp2"),m=e("VXEj"),H=e("+L6B"),D=e("2/Rp"),V=e("5NDa"),a=e("5rEg"),se=e("oBTY"),i=e("k1fw"),X=e("tJVT"),ie=e("DYRE"),k=e("zeV3"),p=e("tU7J"),g=e("wFql"),j=e("q1tI"),R=e.n(j),l=e("BAh9"),ee=e("/MfK"),v=e("mAF4"),L=e("dF/Y"),N=e("9kvl"),z=e("DBJ/"),_=e("lLVY"),Oe=e.n(_),u=e("nKUr"),te=e.n(u),fe=function(C){var ae=C.directory,Z=C.onUploaded;return Object(u.jsxs)(k.b,{align:"start",children:[Object(u.jsxs)(g.a.Text,{children:[Object(u.jsx)(N.a,{id:"pages.files.filesBrowser"}),Object(u.jsx)(g.a.Text,{code:!0,children:ae})]}),Object(u.jsx)(z.a,{url:"/api/admin/file/upload",name:"file[]",data:{target:ae},onUpload:function(ue){ue.success&&Z(ae,ue.data)}})]})},Pe=function(C){var ae=C.defaultDirectory,Z=ae===void 0?"/":ae,J=C.onFile,ue=C.hideDeleteBtn,ve=ue===void 0?!1:ue,ge=C.forceLoading,_e=ge===void 0?!1:ge,Ee=Object(N.j)(),je=Object(j.useState)({loading:!1,name:"",directory:Z,current_page:1,data:void 0,per_page:1,last_page:1,total:0}),t=Object(X.a)(je,2),I=t[0],be=t[1],q=Object(j.useRef)(),w=Object(j.useCallback)(function(y){be(function(c){return Object(i.a)(Object(i.a)({},c),{},{loading:y})})},[]),he=Object(j.useCallback)(function(y,c){y.success&&be(function(E){return Object(i.a)(Object(i.a)(Object(i.a)({},E),y.data),{},{data:[{url:c.split("/").slice(0,-1).join("/"),name:"..",created_at:"",mime:"directory"}].concat(Object(se.a)(y.data.data.map(function($){return Object(i.a)(Object(i.a)({},$),{},{url:$.mime==="directory"?"".concat(c,"/").concat($.name):$.url})}))).filter(function($){return c==="/"||c===Z?$.name!=="..":!0}),directory:c,loading:!1})})},[w]),G=Object(j.useCallback)(function(y){var c,E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,$=function(){return q.current&&q.current.abort()};return $(),q.current=new AbortController,w(!0),Object(l.a)({directory:y,page:E},{signal:(c=q.current)===null||c===void 0?void 0:c.signal}).then(function(le){le.success&&he(le,y)}).catch(function(){return w(!1)}),function(){$()}},[w]);Object(j.useEffect)(function(){return G(Z)},[Z,G]);var Me=Object(j.useCallback)(function(y){w(!0),Object(l.c)(y).then(function(){G(I.directory)}).catch(function(){w(!1)})},[G,w,I.directory]),xe=Object(j.useCallback)(function(y,c){var E,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,le=function(){return q.current&&q.current.abort()};return le(),q.current=new AbortController,w(!0),Object(l.b)({directory:y,name:c,page:$},{signal:(E=q.current)===null||E===void 0?void 0:E.signal}).then(function(Y){Y.success&&he(Y,y)}).catch(function(){return w(!1)}),function(){le()}},[w]);return Object(u.jsxs)("div",{className:"file-browser",children:[Object(u.jsxs)("div",{className:"file-browser__header",children:[Object(u.jsx)(a.a,{placeholder:Ee.formatMessage({id:"search_file"}),className:"file-browser__input",onChange:function(c){return be(function(E){return Object(i.a)(Object(i.a)({},E),{},{name:c.target.value})})},value:I.name}),Object(u.jsxs)("div",{children:[Object(u.jsx)(D.a,{className:"file-browser__button",onClick:function(){return G(I.directory)},children:Object(u.jsx)(N.a,{id:"reset"})}),Object(u.jsx)(D.a,{className:"file-browser__button",type:"primary",onClick:function(){return xe(I.directory,I.name)},children:Object(u.jsx)(N.a,{id:"query"})})]})]}),Object(u.jsx)(m.b,{loading:I.loading||_e,size:"small",itemLayout:"horizontal",dataSource:I.data,header:Object(u.jsx)(fe,{directory:I.directory,onUploaded:function(c,E){E&&(G(c),J&&J(E,c))}}),footer:Object(u.jsx)(fe,{directory:I.directory,onUploaded:function(c,E){G(c),E&&J&&J(E,c)}}),renderItem:function(c){return Object(u.jsx)(m.b.Item,{actions:c.mime!=="directory"&&!ve?[Object(u.jsx)(D.a,{type:"default",danger:!0,icon:Object(u.jsx)(ee.a,{}),size:"small",onClick:function(){return Me(c.url)}},"dir")]:[],children:Object(u.jsx)(m.b.Item.Meta,{avatar:c.mime==="directory"?Object(u.jsx)(D.a,{type:"primary",icon:Object(u.jsx)(v.a,{}),size:"small",onClick:function(){return G(c.url)}}):Object(u.jsx)("a",{href:c.url,target:"_blank",rel:"noreferrer",children:Object(u.jsx)(D.a,{type:"default",icon:Object(u.jsx)(L.a,{}),size:"small"})}),description:Object(u.jsx)(R.a.Fragment,{children:Object(u.jsx)(D.a,{type:"text",size:"small",onClick:function(){return c.mime==="directory"?G(c.url):J&&J(c,I.directory)},children:c.name})})})})}}),Object(u.jsx)(Q.a,{pageSizeOptions:[],current:I.current_page,total:I.total,pageSize:I.per_page,onChange:function(c){return G(I.directory,c)}})]})};S.a=Pe},BAh9:function(de,S,e){"use strict";e.d(S,"a",function(){return H}),e.d(S,"b",function(){return V}),e.d(S,"e",function(){return se}),e.d(S,"d",function(){return X}),e.d(S,"c",function(){return ie});var F=e("qLMh"),Q=e("k1fw"),P=e("9og8"),m=e("9kvl");function H(p,g){return D.apply(this,arguments)}function D(){return D=Object(P.a)(Object(F.a)().mark(function p(g,j){return Object(F.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(m.g)("/api/admin/file/list",Object(Q.a)({method:"GET",params:g},j||{})));case 1:case"end":return l.stop()}},p)})),D.apply(this,arguments)}function V(p,g){return a.apply(this,arguments)}function a(){return a=Object(P.a)(Object(F.a)().mark(function p(g,j){return Object(F.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(m.g)("/api/admin/file/find",Object(Q.a)({method:"GET",params:g},j||{})));case 1:case"end":return l.stop()}},p)})),a.apply(this,arguments)}function se(p,g,j){return i.apply(this,arguments)}function i(){return i=Object(P.a)(Object(F.a)().mark(function p(g,j,R){var l;return Object(F.a)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return l=new FormData,l.append("file[]",g),l.append("target",j),v.abrupt("return",Object(m.g)("/api/admin/file/upload",Object(Q.a)({method:"POST",data:l},R||{})));case 4:case"end":return v.stop()}},p)})),i.apply(this,arguments)}var X=function(g){var j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(g,"&w=").concat(j)};function ie(p,g){return k.apply(this,arguments)}function k(){return k=Object(P.a)(Object(F.a)().mark(function p(g,j){return Object(F.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(m.g)("/api/admin/file/delete",Object(Q.a)({method:"DELETE",data:{url:g}},j||{})));case 1:case"end":return l.stop()}},p)})),k.apply(this,arguments)}},"DBJ/":function(de,S,e){"use strict";var F=e("k1fw"),Q=e("y8nQ"),P=e("Vl3Y"),m=e("etVw"),H=e("9kvl"),D=e("qFDU"),V=e("nKUr"),a=e.n(V);function se(i){var X=i.onChange,ie=i.onUpload,k=i.url,p=i.name,g=i.extra,j=i.accept,R=i.data,l=i.wrapInForm,ee=l===void 0?!0:l,v=i.title,L=i.formProps,N=Object(H.j)();return R&&R[p]&&delete R[p],Object(V.jsx)(D.a,{condition:ee,wrap:function(_){return Object(V.jsx)(P.a,Object(F.a)(Object(F.a)({},L),{},{children:_}))},children:Object(V.jsx)(m.a,{title:v||" ".concat(N.formatMessage({id:"upload_click_here"})),placeholder:N.formatMessage({id:"upload_click_here"}),onChange:function(_){X&&X(_),_.file.status==="done"&&ie&&ie(_.file.response)},label:Object(V.jsx)(H.a,{id:"upload"}),max:2,fieldProps:{data:R,accept:j,name:p,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(k),extra:g})})}S.a=se},YjuE:function(de,S,e){"use strict";e.r(S);var F=e("T2oS"),Q=e("W9HT"),P=e("tJVT"),m=e("q1tI"),H=e.n(m),D=e("nhC9"),V=e("Ty5D"),a=e("9kvl"),se=e("tMyG"),i=e("+up7"),X=e("P2fV"),ie=e("NJEC"),k=e("5Dmo"),p=e("3S7+"),g=e("+L6B"),j=e("2/Rp"),R=e("+BJd"),l=e("mr32"),ee=e("jrin"),v=e("qLMh"),L=e("k1fw"),N=e("miYZ"),z=e("tsqr"),_=e("9og8"),Oe=e("xvlK"),u=e("Qiat"),te=e("y8nQ"),fe=e("Vl3Y"),Pe=e("5NDa"),ye=e("5rEg"),C=e("VMEa"),ae=e("rmhi"),Z=e("Qurx"),J=e("F/zT"),ue=e("5qq5"),ve=e("BiO0"),ge=e("hd5d"),_e=e("3fxf"),Ee=e("ovOe"),je=e.n(Ee),t=e("nKUr"),I=function(n){var r=n.value,o=n.onChange,O=n.type,x=O===void 0?"file":O,s=Object(m.useState)(!1),b=Object(P.a)(s,2),K=b[0],d=b[1];return Object(t.jsxs)(H.a.Fragment,{children:[Object(t.jsxs)(C.a.Group,{children:[Object(t.jsx)(ye.a,{value:r,readOnly:!0}),Object(t.jsxs)(j.a,{size:"small",type:"primary",onClick:function(){return d(!K)},children:["toggle ",x," browser"]})]}),K&&Object(t.jsx)(_e.a,{onFile:function(W,B){return o&&o("".concat(B,"/").concat(W.name))}})]})},be=function(n){var r=Object(a.j)(),o=n.visible,O=n.onVisibleChange,x=n.onFinish,s=n.id,b=fe.a.useForm(),K=Object(P.a)(b,1),d=K[0],A=!s||s===-1,W=Object(m.useState)("text"),B=Object(P.a)(W,2),T=B[0],f=B[1];Object(m.useEffect)(function(){s&&s!==-1?Object(i.d)(s).then(function(h){h.success&&(d.setFieldsValue(h.data),f(h.data.type))}):(d.resetFields(),f("text"))},[s,d]);var U=Object(m.useCallback)(function(h){h.type&&h.type!==T&&f(h.type)},[T]);return Object(t.jsxs)(ae.a,{form:d,title:r.formatMessage({id:s?"editSetting":"newSetting",defaultMessage:s?"editSetting":"newSetting"}),width:"60vw",visible:o,onVisibleChange:O,onFinish:x,onValuesChange:U,children:[Object(t.jsxs)(C.a.Group,{children:[Object(t.jsx)(Z.a,{label:Object(t.jsx)(a.a,{id:"group",defaultMessage:"group"}),rules:[{required:!0}],width:"md",name:"group"})," ",Object(t.jsx)(Z.a,{label:Object(t.jsx)(a.a,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key"})]}),Object(t.jsxs)(C.a.Group,{children:[Object(t.jsx)(J.a,{name:"enumerable",label:Object(t.jsx)(a.a,{id:"enumerable",defaultMessage:"enumerable"})}),Object(t.jsx)(J.a,{name:"public",label:Object(t.jsx)(a.a,{id:"public",defaultMessage:"public"})})]}),Object(t.jsx)(C.a.Group,{children:Object(t.jsx)(ue.a.Group,{disabled:!A,name:"type",label:Object(t.jsx)(a.a,{id:"type"}),options:[{label:"text",value:"text"},{label:"markdown",value:"markdown"},{label:"json",value:"json"},{label:"file",value:"file"},{label:"image",value:"image"}]})}),Object(t.jsxs)("div",{children:[T==="text"&&Object(t.jsx)(Z.a,{width:"lg",name:"value",label:Object(t.jsx)(a.a,{id:"value"})}),T==="json"&&Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(ve.a,{width:"lg",name:"value",label:Object(t.jsx)(a.a,{id:"value"}),tooltip:"".concat(r.formatMessage({id:"example_json"}),': {"name":"John", "age":30, "city":["New York","Warsaw"]}')}),Object(t.jsx)(C.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(t.jsx)(je.a,{src:JSON.parse(d.getFieldValue("value"))})}catch(ne){return Object(t.jsx)(je.a,{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]}),(T==="file"||T==="image")&&Object(t.jsx)(C.a.Item,{name:"value",label:"value",tooltip:"select file from current repository or upload new one",valuePropName:"value",children:Object(t.jsx)(I,{type:T})}),T==="markdown"&&Object(t.jsx)(C.a.Item,{name:"value",label:"value",tooltip:"The editor is WYSIWYG and includes formatting tools whilst retaining the ability to write markdown shortcuts inline and output plain Markdown.",valuePropName:"value",children:Object(t.jsx)(ge.a,{directory:"settings/wysiwyg"})})]})]})},q=be,w=e("G3dp"),he=e("/MfK"),G=function(){var M=Object(_.a)(Object(v.a)().mark(function n(r,o,O){var x;return Object(v.a)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return x=z.b.loading(r.formatMessage({id:"loading"})),b.prev=1,b.next=4,O&&O!==-1?Object(i.h)(O,Object(L.a)({},o)):Object(i.b)(Object(L.a)({},o));case 4:return x(),z.b.success(r.formatMessage({id:"success"})),b.abrupt("return",!0);case 9:return b.prev=9,b.t0=b.catch(1),x(),z.b.error(r.formatMessage({id:"error"})),b.abrupt("return",!1);case 14:case"end":return b.stop()}},n,null,[[1,9]])}));return function(r,o,O){return M.apply(this,arguments)}}(),Me=function(){var M=Object(_.a)(Object(v.a)().mark(function n(r,o){var O;return Object(v.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return O=z.b.loading(r.formatMessage({id:"loading"})),s.prev=1,s.next=4,Object(i.c)(o);case 4:return O(),z.b.success(r.formatMessage({id:"success"})),s.abrupt("return",!0);case 9:return s.prev=9,s.t0=s.catch(1),O(),z.b.error(r.formatMessage({id:"error"})),s.abrupt("return",!1);case 14:case"end":return s.stop()}},n,null,[[1,9]])}));return function(r,o){return M.apply(this,arguments)}}(),xe=function(){var n=Object(m.useState)(!1),r=Object(P.a)(n,2),o=r[0],O=r[1],x=Object(m.useState)([]),s=Object(P.a)(x,2),b=s[0],K=s[1],d=Object(m.useRef)(),A=Object(a.j)(),W=Object(a.k)("@@initialState"),B=W.setInitialState;Object(m.useEffect)(function(){Object(i.e)().then(function(f){f.success&&K(f.data)})},[]);var T=[{title:Object(t.jsx)(a.a,{id:"group",defaultMessage:"group"}),dataIndex:"group",hideInSearch:!1,key:"group",valueType:"select",width:100,valueEnum:b.sort().reduce(function(f,U){return Object(L.a)(Object(L.a)({},f),{},Object(ee.a)({},U,U))},{})},{title:Object(t.jsx)(a.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"enumerable",defaultMessage:"enumerable"}),dataIndex:"enumerable",hideInForm:!0,hideInSearch:!0,render:function(U,h){return Object(t.jsx)(l.a,{color:h.enumerable?"success":"error",children:Object(t.jsx)(a.a,{id:h.enumerable?"true":"false",defaultMessage:h.enumerable?"true":"false"})})}},{title:Object(t.jsx)(a.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(U,h){return Object(t.jsx)(l.a,{color:h.public?"success":"error",children:Object(t.jsx)(a.a,{id:h.public?"true":"false",defaultMessage:h.public?"true":"false"})})}},{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(U,h){return[Object(t.jsx)(p.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(j.a,{type:"primary",icon:Object(t.jsx)(w.a,{}),onClick:function(){return O(h.id)}})},"edit"),Object(t.jsx)(ie.a,{title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(_.a)(Object(v.a)().mark(function ne(){var oe;return Object(v.a)().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.next=2,Me(A,h.id);case 2:oe=me.sent,oe&&(O(!1),d.current&&d.current.reload());case 4:case"end":return me.stop()}},ne)})),okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(p.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(j.a,{type:"primary",icon:Object(t.jsx)(he.a,{}),danger:!0})})},"delete")]}}];return Object(t.jsxs)(H.a.Fragment,{children:[Object(t.jsx)(u.a,{headerTitle:A.formatMessage({id:"menu.settings"}),actionRef:d,rowKey:"id",search:{},toolBarRender:function(){return[Object(t.jsxs)(j.a,{type:"primary",onClick:function(){O(-1)},children:[Object(t.jsx)(Oe.a,{})," ",Object(t.jsx)(a.a,{id:"pages.searchTable.new"})]},"primary")]},request:function(U){var h=U.pageSize,ne=U.current,oe=U.group;return Object(i.f)({pageSize:h,current:ne,group:oe}).then(function(ce){return ce.success?{data:ce.data,total:ce.meta.total,success:!0}:[]})},columns:T}),Object(t.jsx)(q,{groups:b,id:o,visible:Number.isInteger(o),onVisibleChange:function(U){return U===!1&&O(!1)},onFinish:function(){var f=Object(_.a)(Object(v.a)().mark(function U(h){var ne,oe,ce;return Object(v.a)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return ne=h,re.next=3,G(A,ne,Number(o));case 3:if(oe=re.sent,!oe){re.next=12;break}if(O(!1),d.current&&d.current.reload(),ne.group!=="global"){re.next=12;break}return re.next=10,Object(i.f)({current:1,pageSize:100,group:"global"});case 10:ce=re.sent,B(function(pe){return Object(L.a)(Object(L.a)({},pe),{},{config:ce.success?ce.data:pe==null?void 0:pe.config})});case 12:case"end":return re.stop()}},U)}));return function(U){return f.apply(this,arguments)}}()})]})},y=xe,c=e("tU7J"),E=e("wFql"),$=e("Fghh"),le=E.a.Text,Y;(function(M){M.Array="array",M.String="string"})(Y||(Y={}));var De=function(n,r){return r===Y.Array?n&&Array.isArray(n)?JSON.stringify(n):"[]":n},Ce=function(){var n=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",r=arguments.length>1?arguments[1]:void 0;if(r===Y.Array){var o=JSON.parse(n);return o&&Array.isArray(o)?o:[]}return n},Ie=function(n){var r=Object($.j)(),o=n.visible,O=n.onVisibleChange,x=n.onFinish,s=n.value,b=fe.a.useForm(),K=Object(P.a)(b,1),d=K[0],A=Object(m.useMemo)(function(){return(s.rules||[]).includes(Y.Array)?Y.Array:Y.String},[s.rules]);return Object(m.useEffect)(function(){d.setFieldsValue(Object(L.a)(Object(L.a)({},s),{},{value:De(s.value,A)}))},[A,s,d]),Object(t.jsxs)(ae.a,{form:d,title:s.full_key,width:"60vw",visible:o,onVisibleChange:O,onFinish:Object(_.a)(Object(v.a)().mark(function W(){var B;return Object(v.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Object(i.g)({key:s.full_key,value:Ce(d.getFieldsValue().value,A)});case 2:if(B=f.sent,!B.success){f.next=6;break}return x(B.success===!0),f.abrupt("return",B.success);case 6:return f.abrupt("return");case 7:case"end":return f.stop()}},W)})),children:[Object(t.jsxs)(C.a.Group,{children:[Object(t.jsx)(J.a,{disabled:!0,name:"public",label:Object(t.jsx)(a.a,{id:"public",defaultMessage:"public"})}),Object(t.jsx)(J.a,{disabled:!0,name:"readonly",label:Object(t.jsx)(a.a,{id:"readonly",defaultMessage:"readonly"})}),Object(t.jsx)(C.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"rules",defaultMessage:"rules"}),children:function(){return Object(t.jsx)(le,{code:!0,children:JSON.stringify(d.getFieldValue("rules"))})}})]}),A===Y.Array?Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(ve.a,{width:"lg",name:"value",label:Object(t.jsx)(a.a,{id:"value"}),tooltip:"".concat(r.formatMessage({id:"example_json"}),': ["first_field_name", "second_field_name"]')}),Object(t.jsx)(C.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(t.jsx)(je.a,{src:JSON.parse(d.getFieldValue("value"))})}catch(B){return Object(t.jsx)(je.a,{src:JSON.parse('{ "error": "cannot parse this array" }')})}}})]}):Object(t.jsx)(Z.a,{width:"lg",name:"value",label:Object(t.jsx)(a.a,{id:"value"})})]})},Ae=Ie,Te=[{title:Object(t.jsx)(a.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"readonly",defaultMessage:"readonly"}),dataIndex:"readonly",hideInForm:!0,hideInSearch:!0,render:function(n,r){return Object(t.jsx)(l.a,{color:r.readonly?"success":"error",children:Object(t.jsx)(a.a,{id:r.readonly?"true":"false",defaultMessage:r.readonly?"true":"false"})})}},{title:Object(t.jsx)(a.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(n,r){return Object(t.jsx)(l.a,{color:r.public?"success":"error",children:Object(t.jsx)(a.a,{id:r.public?"true":"false",defaultMessage:r.public?"true":"false"})})}},{title:Object(t.jsx)(a.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0}],Ue=function M(n,r){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return!n||typeof n!="object"?!1:(Object.keys(n).forEach(function(O){var x=n[O];O===r?o.push(n):typeof x=="object"&&M(x,r,o)}),o)},Se=function(n){var r=n.packageName,o=n.values,O=n.onValueUpdated,x=Object(a.j)(),s=Object(m.useState)(),b=Object(P.a)(s,2),K=b[0],d=b[1],A=Object(m.useMemo)(function(){var W=o[r];return Ue(W,"rules")},[o,r]);return Object(t.jsxs)(H.a.Fragment,{children:[Object(t.jsx)(u.a,{headerTitle:x.formatMessage({id:"menu.settings"}),rowKey:"key",search:{},dataSource:A,columns:[].concat(Te,[{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(B,T){return[Object(t.jsx)(p.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(j.a,{type:"primary",icon:Object(t.jsx)(w.a,{}),onClick:function(){return d(T)}})},"edit")]}}])}),K&&Object(t.jsx)(Ae,{value:K,visible:K!==void 0,onVisibleChange:function(B){return B===!1&&d(void 0)},onFinish:Object(_.a)(Object(v.a)().mark(function W(){return Object(v.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:O();case 1:case"end":return T.stop()}},W)}))})]})},Fe=Se,Be=function(n){return n.replaceAll("escolalms","").split("_").join("")},Re=S.default=function(){var M=Object(V.l)(),n=Object(a.j)(),r=M.tab,o=r===void 0?"user_settings":r,O=Object(m.useState)(),x=Object(P.a)(O,2),s=x[0],b=x[1],K=Object(m.useCallback)(function(){Object(i.a)().then(function(d){d.success&&b(d.data)})},[]);return Object(m.useEffect)(function(){K()},[]),s?Object(t.jsx)(se.a,{title:Object(t.jsx)(a.a,{id:"settings"}),header:{breadcrumb:{routes:[{path:"settings",breadcrumbName:n.formatMessage({id:"menu.Configuration.settings"})},{path:String(o),breadcrumbName:String(o)}]}},children:Object(t.jsxs)(D.a,{tabs:{type:"card",activeKey:o,onChange:function(A){return a.e.push("/configuration/settings/".concat(A))}},children:[Object(t.jsx)(D.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"user.settings"}),children:Object(t.jsx)(y,{})},"user_settings"),Object.keys(s).map(function(d){return Object(t.jsxs)(D.a.TabPane,{tab:Object(t.jsxs)("span",{children:[Object(t.jsx)(a.a,{id:"package"})," ",Be(d)]}),children:[Object(t.jsx)(Fe,{values:s,packageName:d,onValueUpdated:function(){return K()}}),d]},d)})]})}):Object(t.jsx)(Q.a,{})}},hd5d:function(de,S,e){"use strict";var F=e("qLMh"),Q=e("9og8"),P=e("q1tI"),m=e.n(P),H=e("3Ef1"),D=e.n(H),V=e("BAh9"),a=e("vtG9"),se=e.n(a),i=e("9kvl"),X=e("nKUr"),ie=e.n(X),k=function(g){var j=g.value,R=g.onChange,l=g.directory,ee=l===void 0?"/wysiwyg":l,v=Object(i.j)();return Object(X.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(X.jsx)(D.a,{uploadImage:function(){var L=Object(Q.a)(Object(F.a)().mark(function N(z){var _,Oe;return Object(F.a)().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,Object(V.e)(z,ee);case 2:if(_=te.sent,!_.success){te.next=6;break}return Oe=_.data[0].name.includes("/")?_.data[0].name:"".concat(ee).concat(_.data[0].name),te.abrupt("return",Object(V.d)(Oe,1e3));case 6:throw new Error("Error while uploading");case 7:case"end":return te.stop()}},N)}));return function(N){return L.apply(this,arguments)}}(),defaultValue:j||"",onChange:function(N){return R&&R(N())},placeholder:v.formatMessage({id:"wysiwyg_placeholder"})})})};S.a=k},lLVY:function(de,S,e){},vtG9:function(de,S,e){}}]);
