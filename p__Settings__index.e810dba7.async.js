"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4471,8710,2145],{88284:function(ae,y,e){var o=e(1413),i=e(67294),j=e(32857),u=e(84089),f=function(n,m){return i.createElement(u.Z,(0,o.Z)((0,o.Z)({},n),{},{ref:m,icon:j.Z}))},E=i.forwardRef(f);y.Z=E},28508:function(ae,y,e){var o=e(1413),i=e(67294),j=e(89503),u=e(84089),f=function(n,m){return i.createElement(u.Z,(0,o.Z)((0,o.Z)({},n),{},{ref:m,icon:j.Z}))},E=i.forwardRef(f);y.Z=E},69753:function(ae,y,e){var o=e(1413),i=e(67294),j=e(49495),u=e(84089),f=function(n,m){return i.createElement(u.Z,(0,o.Z)((0,o.Z)({},n),{},{ref:m,icon:j.Z}))},E=i.forwardRef(f);y.Z=E},47389:function(ae,y,e){var o=e(1413),i=e(67294),j=e(27363),u=e(84089),f=function(n,m){return i.createElement(u.Z,(0,o.Z)((0,o.Z)({},n),{},{ref:m,icon:j.Z}))},E=i.forwardRef(f);y.Z=E},55725:function(ae,y,e){var o=e(1413),i=e(67294),j=e(85118),u=e(84089),f=function(n,m){return i.createElement(u.Z,(0,o.Z)((0,o.Z)({},n),{},{ref:m,icon:j.Z}))},E=i.forwardRef(f);y.Z=E},56717:function(ae,y,e){var o=e(1413),i=e(67294),j=e(93696),u=e(84089),f=function(n,m){return i.createElement(u.Z,(0,o.Z)((0,o.Z)({},n),{},{ref:m,icon:j.Z}))},E=i.forwardRef(f);y.Z=E},51042:function(ae,y,e){var o=e(1413),i=e(67294),j=e(42110),u=e(84089),f=function(n,m){return i.createElement(u.Z,(0,o.Z)((0,o.Z)({},n),{},{ref:m,icon:j.Z}))},E=i.forwardRef(f);y.Z=E},63434:function(ae,y,e){var o=e(1413),i=e(45987),j=e(22270),u=e(84567),f=e(67294),E=e(90789),d=e(41550),n=e(85893),m=["options","fieldProps","proFieldProps","valueEnum"],v=f.forwardRef(function(g,D){var S=g.options,p=g.fieldProps,P=g.proFieldProps,t=g.valueEnum,l=(0,i.Z)(g,m);return(0,n.jsx)(d.Z,(0,o.Z)({ref:D,valueType:"checkbox",valueEnum:(0,j.h)(t,void 0),fieldProps:(0,o.Z)({options:S},p),lightProps:(0,o.Z)({labelFormatter:function(){return(0,n.jsx)(d.Z,(0,o.Z)({ref:D,valueType:"checkbox",mode:"read",valueEnum:(0,j.h)(t,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,o.Z)({options:S},p),proFieldProps:P},l))}},l.lightProps),proFieldProps:P},l))}),W=f.forwardRef(function(g,D){var S=g.fieldProps,p=g.children;return(0,n.jsx)(u.Z,(0,o.Z)((0,o.Z)({ref:D},S),{},{children:p}))}),_=(0,E.G)(W,{valuePropName:"checked"}),I=_;I.Group=v,y.Z=I},31199:function(ae,y,e){var o=e(1413),i=e(45987),j=e(67294),u=e(41550),f=e(85893),E=["fieldProps","min","proFieldProps","max"],d=function(v,W){var _=v.fieldProps,I=v.min,g=v.proFieldProps,D=v.max,S=(0,i.Z)(v,E);return(0,f.jsx)(u.Z,(0,o.Z)({valueType:"digit",fieldProps:(0,o.Z)({min:I,max:D},_),ref:W,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:g},S))},n=j.forwardRef(d);y.Z=n},86615:function(ae,y,e){var o=e(1413),i=e(45987),j=e(22270),u=e(55742),f=e(67294),E=e(90789),d=e(41550),n=e(85893),m=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],v=f.forwardRef(function(g,D){var S=g.fieldProps,p=g.options,P=g.radioType,t=g.layout,l=g.proFieldProps,O=g.valueEnum,U=(0,i.Z)(g,m);return(0,n.jsx)(d.Z,(0,o.Z)((0,o.Z)({valueType:P==="button"?"radioButton":"radio",ref:D,valueEnum:(0,j.h)(O,void 0)},U),{},{fieldProps:(0,o.Z)({options:p,layout:t},S),proFieldProps:l,filedConfig:{customLightMode:!0}}))}),W=f.forwardRef(function(g,D){var S=g.fieldProps,p=g.children;return(0,n.jsx)(u.ZP,(0,o.Z)((0,o.Z)({},S),{},{ref:D,children:p}))}),_=(0,E.G)(W,{valuePropName:"checked",ignoreWidth:!0}),I=_;I.Group=v,I.Button=u.ZP.Button,I.displayName="ProFormComponent",y.Z=I},52688:function(ae,y,e){var o=e(1413),i=e(45987),j=e(67294),u=e(41550),f=e(85893),E=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],d=j.forwardRef(function(n,m){var v=n.fieldProps,W=n.unCheckedChildren,_=n.checkedChildren,I=n.proFieldProps,g=(0,i.Z)(n,E);return(0,f.jsx)(u.Z,(0,o.Z)({valueType:"switch",fieldProps:(0,o.Z)({unCheckedChildren:W,checkedChildren:_},v),ref:m,valuePropName:"checked",proFieldProps:I,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},g))});y.Z=d},5966:function(ae,y,e){var o=e(97685),i=e(1413),j=e(45987),u=e(21770),f=e(75842),E=e(55241),d=e(97435),n=e(67294),m=e(41550),v=e(85893),W=["fieldProps","proFieldProps"],_=["fieldProps","proFieldProps"],I="text",g=function(t){var l=t.fieldProps,O=t.proFieldProps,U=(0,j.Z)(t,W);return(0,v.jsx)(m.Z,(0,i.Z)({valueType:I,fieldProps:l,filedConfig:{valueType:I},proFieldProps:O},U))},D=function(t){var l=(0,u.Z)(t.open||!1,{value:t.open,onChange:t.onOpenChange}),O=(0,o.Z)(l,2),U=O[0],J=O[1];return(0,v.jsx)(f.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(N){var a,$=N.getFieldValue(t.name||[]);return(0,v.jsx)(E.Z,(0,i.Z)((0,i.Z)({getPopupContainer:function(V){return V&&V.parentNode?V.parentNode:V},onOpenChange:J,content:(0,v.jsxs)("div",{style:{padding:"4px 0"},children:[(a=t.statusRender)===null||a===void 0?void 0:a.call(t,$),t.strengthText?(0,v.jsx)("div",{style:{marginTop:10},children:(0,v.jsx)("span",{children:t.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},t.popoverProps),{},{open:U,children:t.children}))}})},S=function(t){var l=t.fieldProps,O=t.proFieldProps,U=(0,j.Z)(t,_),J=(0,n.useState)(!1),K=(0,o.Z)(J,2),N=K[0],a=K[1];return l!=null&&l.statusRender&&U.name?(0,v.jsx)(D,{name:U.name,statusRender:l==null?void 0:l.statusRender,popoverProps:l==null?void 0:l.popoverProps,strengthText:l==null?void 0:l.strengthText,open:N,onOpenChange:a,children:(0,v.jsx)("div",{children:(0,v.jsx)(m.Z,(0,i.Z)({valueType:"password",fieldProps:(0,i.Z)((0,i.Z)({},(0,d.Z)(l,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(q){var V;l==null||(V=l.onBlur)===null||V===void 0||V.call(l,q),a(!1)},onClick:function(q){var V;l==null||(V=l.onClick)===null||V===void 0||V.call(l,q),a(!0)}}),proFieldProps:O,filedConfig:{valueType:I}},U))})}):(0,v.jsx)(m.Z,(0,i.Z)({valueType:"password",fieldProps:l,proFieldProps:O,filedConfig:{valueType:I}},U))},p=g;p.Password=S,p.displayName="ProFormComponent",y.Z=p},90672:function(ae,y,e){var o=e(1413),i=e(45987),j=e(67294),u=e(41550),f=e(85893),E=["fieldProps","proFieldProps"],d=function(m,v){var W=m.fieldProps,_=m.proFieldProps,I=(0,i.Z)(m,E);return(0,f.jsx)(u.Z,(0,o.Z)({ref:v,valueType:"textarea",fieldProps:W,proFieldProps:_},I))};y.Z=j.forwardRef(d)},16894:function(ae,y,e){var o=e(72717);y.ZP=o.Z},20568:function(ae,y,e){e.d(y,{Z:function(){return J}});var o=e(19632),i=e.n(o),j=e(97857),u=e.n(j),f=e(5574),E=e.n(f),d=e(67294),n=e(17578),m=e(78957),v=e(25093),W=e(96365),_=e(14726),I=e(2487),g=e(72252),D=e(82061),S=e(55725),p=e(69753),P=e(80854),t=e(29477),l=e(85893),O=function(N){var a=N.directory,$=N.onUploaded;return(0,l.jsxs)(m.Z,{align:"start",children:[(0,l.jsxs)(v.Z.Text,{children:[(0,l.jsx)(P.FormattedMessage,{id:"pages.files.filesBrowser"}),(0,l.jsx)(v.Z.Text,{code:!0,children:a})]}),(0,l.jsx)(t.Z,{url:"/api/admin/file/upload",name:"file[]",data:{target:a},onUpload:function(V){V.success&&$(a,V.data)}})]})},U=function(N){var a=N.defaultDirectory,$=a===void 0?"/":a,q=N.onFile,V=N.hideDeleteBtn,se=V===void 0?!1:V,s=N.forceLoading,A=s===void 0?!1:s,B=(0,P.useIntl)(),x=(0,d.useState)({loading:!1,name:"",directory:$,current_page:1,data:void 0,per_page:1,last_page:1,total:0}),r=E()(x,2),F=r[0],k=r[1],ne=(0,d.useRef)(),T=(0,d.useCallback)(function(h){k(function(c){return u()(u()({},c),{},{loading:h})})},[]),L=(0,d.useCallback)(function(h,c){h.success&&k(function(w){return u()(u()(u()({},w),h.data),{},{data:[{url:c.split("/").slice(0,-1).join("/"),name:"..",created_at:"",mime:"directory"}].concat(i()(h.data.data.map(function(R){return u()(u()({},R),{},{url:R.mime==="directory"?"".concat(c,"/").concat(R.name):R.url})}))).filter(function(R){return c==="/"||c===$?R.name!=="..":!0}),directory:c,loading:!1})})},[T]),b=(0,d.useCallback)(function(h){var c,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,R=function(){return ne.current&&ne.current.abort()};return R(),ne.current=new AbortController,T(!0),(0,n.QZ)({directory:h,page:w},{signal:(c=ne.current)===null||c===void 0?void 0:c.signal}).then(function(oe){oe.success&&L(oe,h)}).catch(function(){return T(!1)}),function(){R()}},[T]);(0,d.useEffect)(function(){return b($)},[$,b]);var ce=(0,d.useCallback)(function(h){T(!0),(0,n.Od)(h).then(function(){b(F.directory)}).catch(function(){T(!1)})},[b,T,F.directory]),X=(0,d.useCallback)(function(h,c){var w,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,oe=function(){return ne.current&&ne.current.abort()};return oe(),ne.current=new AbortController,T(!0),(0,n.ht)({directory:h,name:c,page:R},{signal:(w=ne.current)===null||w===void 0?void 0:w.signal}).then(function(Oe){Oe.success&&L(Oe,h)}).catch(function(){return T(!1)}),function(){oe()}},[T]);return(0,l.jsxs)("div",{className:"file-browser",children:[(0,l.jsxs)("div",{className:"file-browser__header",children:[(0,l.jsx)(W.Z,{placeholder:B.formatMessage({id:"search_file"}),className:"file-browser__input",onChange:function(c){return k(function(w){return u()(u()({},w),{},{name:c.target.value})})},value:F.name}),(0,l.jsxs)("div",{children:[(0,l.jsx)(_.ZP,{className:"file-browser__button",onClick:function(){return b(F.directory)},children:(0,l.jsx)(P.FormattedMessage,{id:"reset"})}),(0,l.jsx)(_.ZP,{className:"file-browser__button",type:"primary",onClick:function(){return X(F.directory,F.name)},children:(0,l.jsx)(P.FormattedMessage,{id:"query"})})]})]}),(0,l.jsx)(I.Z,{loading:F.loading||A,size:"small",itemLayout:"horizontal",dataSource:F.data,header:(0,l.jsx)(O,{directory:F.directory,onUploaded:function(c,w){w&&(b(c),q&&q(w,c))}}),footer:(0,l.jsx)(O,{directory:F.directory,onUploaded:function(c,w){b(c),w&&q&&q(w,c)}}),renderItem:function(c){return(0,l.jsx)(I.Z.Item,{actions:c.mime!=="directory"&&!se?[(0,l.jsx)(_.ZP,{type:"default",danger:!0,icon:(0,l.jsx)(D.Z,{}),size:"small",onClick:function(){return ce(c.url)}},"dir")]:[],children:(0,l.jsx)(I.Z.Item.Meta,{avatar:c.mime==="directory"?(0,l.jsx)(_.ZP,{type:"primary",icon:(0,l.jsx)(S.Z,{}),size:"small",onClick:function(){return b(c.url)}}):(0,l.jsx)("a",{href:c.url,target:"_blank",rel:"noreferrer",children:(0,l.jsx)(_.ZP,{type:"default",icon:(0,l.jsx)(p.Z,{}),size:"small"})}),description:(0,l.jsx)(d.Fragment,{children:(0,l.jsx)(_.ZP,{type:"text",size:"small",onClick:function(){return c.mime==="directory"?b(c.url):q&&q(c,F.directory)},children:c.name})})})})}}),(0,l.jsx)(g.Z,{pageSizeOptions:[],current:F.current_page,total:F.total,pageSize:F.per_page,onChange:function(c){return b(F.directory,c)}})]})},J=U},29477:function(ae,y,e){var o=e(97857),i=e.n(o),j=e(5574),u=e.n(j),f=e(55523),E=e(75842),d=e(21974),n=e(67294),m=e(80854),v=e(85893);function W(_){var I=_.onChange,g=_.onUpload,D=_.url,S=_.name,p=_.extra,P=_.accept,t=_.data,l=_.wrapInForm,O=l===void 0?!0:l,U=_.title,J=_.formProps,K=_.maxFiles,N=_.clearListAfterUpload,a=_.hideLabel,$=_.disabled,q=_.showUploadList,V=(0,n.useState)(),se=u()(V,2),s=se[0],A=se[1],B=(0,m.useIntl)();return t&&t[S]&&delete t[S],(0,v.jsx)(d.Z,{condition:O,wrap:function(r){return(0,v.jsx)(E.Z,i()(i()({},J),{},{children:r}))},children:(0,v.jsx)(f.Z,{title:U||" ".concat(B.formatMessage({id:"upload_click_here"})),placeholder:B.formatMessage({id:"upload_click_here"}),label:!a&&(0,v.jsx)(m.FormattedMessage,{id:"upload"}),max:K!=null?K:2,fieldProps:{data:t,accept:P,name:S,showUploadList:q,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))},onChange:function(r){A(r),I&&I(r),r.file.status==="done"&&(g&&g(r.file.response),N&&A(void 0))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(D),extra:p,fileList:s==null?void 0:s.fileList,disabled:$})})}y.Z=W},19411:function(ae,y,e){e.d(y,{ZP:function(){return I}});var o=e(15009),i=e.n(o),j=e(99289),u=e.n(j),f=e(17578),E=e(2800),d=e.n(E),n=e(67294),m=e(80854),v=e(85893),W=function(D){var S=D.attrs,p=S.href,P=p.split("/").pop();return(0,v.jsx)("p",{children:(0,v.jsx)("a",{rel:"noreferrer",href:p,target:"_blank",children:P})})},_=function(D){var S=D.value,p=D.onChange,P=D.directory,t=P===void 0?"/wysiwyg":P,l=(0,m.useIntl)();return(0,v.jsx)("div",{className:"form-wysiwyg-markdown",children:(0,v.jsx)(d(),{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function(){return!0},component:W}],uploadImage:function(){var O=u()(i()().mark(function U(J){var K,N;return i()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,(0,f.ws)(J,t);case 2:if(K=$.sent,!K.success){$.next=8;break}if(!J.type.includes("image/")){$.next=7;break}return N=K.data[0].name.includes("/")?K.data[0].name:"".concat(t).concat(K.data[0].name),$.abrupt("return",(0,f.pV)(N,1e3));case 7:return $.abrupt("return",K.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return $.stop()}},U)}));return function(U){return O.apply(this,arguments)}}(),defaultValue:S||"",onChange:function(U){return p&&p(U())},placeholder:l.formatMessage({id:"wysiwyg_placeholder"})})})},I=_},62343:function(ae,y,e){var o=e(52677),i=e.n(o),j=e(5574),u=e.n(j),f=e(952),E=e(37476),d=e(5966),n=e(52688),m=e(86615),v=e(90672),W=e(63434),_=e(31199),I=e(96365),g=e(14726),D=e(75842),S=e(49288),p=e(67294),P=e(43564),t=e(80854),l=e(20568),O=e(19411),U=e(88284),J=e(28508),K=e(55171),N=e.n(K),a=e(85893),$=function(se){var s=se.value,A=se.onChange,B=se.type,x=B===void 0?"file":B,r=(0,p.useState)(!1),F=u()(r,2),k=F[0],ne=F[1];return(0,a.jsxs)(p.Fragment,{children:[(0,a.jsxs)(f.ZP.Group,{children:[(0,a.jsx)(I.Z,{value:s,readOnly:!0}),(0,a.jsxs)(g.ZP,{size:"small",type:"primary",onClick:function(){return ne(!k)},children:["toggle ",x," browser"]})]}),k&&(0,a.jsx)(l.Z,{onFile:function(L,b){return A&&A("".concat(b,"/").concat(L.name))}})]})},q=function(se){var s=(0,t.useIntl)(),A=se.visible,B=se.onVisibleChange,x=se.onFinish,r=se.id,F=se.initialData,k=se.groups,ne=D.Z.useForm(),T=u()(ne,1),L=T[0],b=!r||r===-1,ce=(0,p.useState)("text"),X=u()(ce,2),h=X[0],c=X[1],w=(0,p.useCallback)(function(){return!!(L.getFieldValue("group")==="global"||F)},[L,F]),R=(0,p.useState)(""),oe=u()(R,2),Oe=oe[0],be=oe[1];(0,p.useEffect)(function(){if(i()(r)==="object"){var z;L.setFieldsValue(r),c((z=r.type)!==null&&z!==void 0?z:"text")}else r&&r!==-1?(0,P.GF)(Number(r)).then(function(ie){ie.success&&(L.setFieldsValue(ie.data),c(ie.data.type),be(ie.data.group))}):(L.resetFields(),c("text"))},[r,L,F]);var De=(0,p.useCallback)(function(z){z.type&&z.type!==h&&c(z.type)},[h]);return(0,a.jsxs)(E.Y,{form:L,title:s.formatMessage({id:r?"editSetting":"newSetting",defaultMessage:r?"editSetting":"newSetting"}),width:"60vw",visible:!!A,onVisibleChange:B,onFinish:x,onValuesChange:De,children:[(0,a.jsxs)(f.ZP.Group,{children:[F?(0,a.jsx)(d.Z,{label:(0,a.jsx)(t.FormattedMessage,{id:"group",defaultMessage:"group"}),rules:[{required:!0}],width:"md",name:"group",disabled:w()}):(0,a.jsx)(f.ZP.Item,{label:(0,a.jsx)(t.FormattedMessage,{id:"group",defaultMessage:"group"}),name:"group",children:(0,a.jsx)(S.Z,{style:{width:"300px"},autoFocus:!0,value:Oe,onChange:function(ie){return be(ie)},filterOption:function(ie,_e){var ge;return(_e==null||(ge=_e.children)===null||ge===void 0?void 0:ge.toString().toLowerCase().indexOf(ie.toLowerCase()))!==-1},children:k.map(function(z){return(0,a.jsx)(S.Z.Option,{value:z,children:z},z)})})}),(0,a.jsx)(d.Z,{label:(0,a.jsx)(t.FormattedMessage,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key",disabled:w()})]}),(0,a.jsxs)(f.ZP.Group,{children:[(0,a.jsx)(n.Z,{name:"enumerable",disabled:w(),label:(0,a.jsx)(t.FormattedMessage,{id:"enumerable",defaultMessage:"enumerable"})}),(0,a.jsx)(n.Z,{name:"public",disabled:w(),label:(0,a.jsx)(t.FormattedMessage,{id:"public",defaultMessage:"public"})})]}),(0,a.jsx)(f.ZP.Group,{children:(0,a.jsx)(m.Z.Group,{disabled:!!(!b||F),name:"type",label:(0,a.jsx)(t.FormattedMessage,{id:"type"}),options:[{label:"text",value:"text"},{label:"markdown",value:"markdown"},{label:"json",value:"json"},{label:"file",value:"file"},{label:"image",value:"image"},{label:"boolean",value:"boolean"},{label:"number",value:"number"},{label:"array",value:"array"}]})}),(0,a.jsxs)("div",{children:[h==="text"&&(0,a.jsx)(d.Z,{width:"lg",name:"value",label:(0,a.jsx)(t.FormattedMessage,{id:"value"})}),h==="json"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Z,{width:"lg",name:"value",label:(0,a.jsx)(t.FormattedMessage,{id:"value"}),tooltip:"".concat(s.formatMessage({id:"example_json"}),': {"name":"John", "age":30, "city":["New York","Warsaw"]}')}),(0,a.jsx)(f.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,a.jsx)(N(),{src:JSON.parse(L.getFieldValue("value"))})}catch(ie){return(0,a.jsx)(N(),{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]}),(h==="file"||h==="image")&&(0,a.jsx)(f.ZP.Item,{name:"value",label:"value",tooltip:"select file from current repository or upload new one",valuePropName:"value",children:(0,a.jsx)($,{type:h})}),h==="markdown"&&(0,a.jsx)(f.ZP.Item,{name:"value",label:"value",tooltip:"The editor is WYSIWYG and includes formatting tools whilst retaining the ability to write markdown shortcuts inline and output plain Markdown.",valuePropName:"value",children:(0,a.jsx)(O.ZP,{directory:"settings/wysiwyg"})}),h==="boolean"?(0,a.jsx)(n.Z,{name:"value",label:(0,a.jsx)(t.FormattedMessage,{id:"value"}),checkedChildren:(0,a.jsx)(U.Z,{}),unCheckedChildren:(0,a.jsx)(J.Z,{})}):(0,a.jsx)(f.ZP.Item,{noStyle:!0,hidden:!0,children:(0,a.jsx)(W.Z,{name:"data",valuePropName:"data"})}),h==="number"&&(0,a.jsx)(_.Z,{name:"data",label:(0,a.jsx)(t.FormattedMessage,{id:"value"})}),h==="array"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Z,{width:"lg",name:"value",label:(0,a.jsx)(t.FormattedMessage,{id:"value"}),tooltip:"".concat(s.formatMessage({id:"example_json"}),": ['tutor', 'student']")}),(0,a.jsx)(f.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,a.jsx)(N(),{src:JSON.parse(L.getFieldValue("value"))})}catch(ie){return(0,a.jsx)(N(),{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]})]})]})};y.ZP=q},59234:function(ae,y,e){e.d(y,{Wg:function(){return x}});var o=e(5574),i=e.n(o),j=e(19632),u=e.n(j),f=e(15009),E=e.n(f),d=e(97857),n=e.n(d),m=e(99289),v=e.n(m),W=e(31472),_=e(51042),I=e(16894),g=e(2453),D=e(83062),S=e(14726),p=e(86738),P=e(67294),t=e(80854),l=e(43564),O=e(56717),U=e(47389),J=e(82061),K=e(62343),N=e(20188),a=e(85893),$=function(){var T=v()(E()().mark(function L(b,ce,X){var h,c;return E()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return h=g.ZP.loading(b.formatMessage({id:"loading"})),R.prev=1,R.next=4,X&&X!==-1?(0,l.VP)(X,n()({},ce)):(0,l.oh)(n()({},ce));case 4:return c=R.sent,h(),g.ZP.success(b.formatMessage({id:"success"})),R.abrupt("return",{success:!0,updatedSettings:c});case 10:return R.prev=10,R.t0=R.catch(1),h(),g.ZP.error(b.formatMessage({id:"error"})),R.abrupt("return",{success:!1,updateSettings:null});case 15:case"end":return R.stop()}},L,null,[[1,10]])}));return function(b,ce,X){return T.apply(this,arguments)}}(),q=function(){var T=v()(E()().mark(function L(b,ce){var X;return E()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return X=g.ZP.loading(b.formatMessage({id:"loading"})),c.prev=1,c.next=4,(0,l.Rb)(ce);case 4:return X(),g.ZP.success(b.formatMessage({id:"success"})),c.abrupt("return",!0);case 9:return c.prev=9,c.t0=c.catch(1),X(),g.ZP.error(b.formatMessage({id:"error"})),c.abrupt("return",!1);case 14:case"end":return c.stop()}},L,null,[[1,9]])}));return function(b,ce){return T.apply(this,arguments)}}(),V=function(L){return L.toLowerCase().replace(/(_\w)/g,function(b){return b.toUpperCase().substr(1)})},se=["statistics","user_submission","user_projects"],s=["public"],A=["email","sms"],B=function(L){return"hideInMenu-".concat(V(L.split("/").join("_")))},x=function(L){return"disableTopicType-".concat(L)},r=[].concat(u()(Object.keys(W.oz).map(function(T){return{key:x(T),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),u()(["ECommerce","Certificates"].map(function(T){return{key:"disable-".concat(T),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),u()(s.map(function(T){return{key:"showInCourseAdditionalSettings-".concat(T),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),u()(se.map(function(T){return{key:"hideInCourseTabs-".concat(T),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),u()(A.map(function(T){return{key:"hideTemplateTab-".concat(T),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}}))).reduce(function(T,L,b){return T[L.key]=n()(n()({},L),{},{id:-100*b}),T},{}),F=n()({logo:{id:-1,key:"logo",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},frontURL:{id:-2,key:"frontURL",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},maxLessonsNestingInProgram:{id:-4,key:"maxLessonsNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},minTopicNestingInProgram:{id:-5,key:"minTopicNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},companyName:{id:-6,key:"companyName",group:"global",value:"Wellms",public:!0,enumerable:!0,sort:0,type:"text",data:"Wellms"},companyURL:{id:-7,key:"companyURL",group:"global",value:"https://www.wellms.io/",public:!0,enumerable:!0,sort:0,type:"text",data:"https://www.wellms.io/"},logoLogin:{id:-8,key:"logoLogin",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},logoFooter:{id:-9,key:"logoFooter",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},footerFontColor:{id:-10,key:"footerFontColor",group:"global",value:"#00000072",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},showLoginBackgroundImage:{id:-11,key:"showLoginBackgroundImage",group:"global",value:"true",public:!0,enumerable:!0,sort:0,type:"boolean",data:"EscolaLMS"},loginHeaderBackgroundColor:{id:-12,key:"loginHeaderBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},loginHeaderFontColor:{id:-13,key:"loginHeaderFontColor",group:"global",value:"#000000D8",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},loginFormBackgroundColor:{id:-14,key:"loginFormBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},contentBackgroundColor:{id:-15,key:"contentBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},technicalMaintenance:{id:-16,key:"technicalMaintenance",group:"global",value:"false",public:!0,enumerable:!0,sort:0,type:"boolean",data:"EscolaLMS"},technicalMaintenanceText:{id:-17,key:"technicalMaintenanceText",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"}},r),k=function(L){return typeof L.path=="string"},ne=function(){var L=(0,P.useState)(!1),b=i()(L,2),ce=b[0],X=b[1],h=(0,P.useRef)(),c=(0,t.useIntl)(),w=(0,P.useState)(F),R=i()(w,2),oe=R[0],Oe=R[1],be=(0,t.useModel)("@@initialState"),De=be.setInitialState,z=be.initialState;(0,P.useEffect)(function(){(0,N.s)().then(function(ge){var le=Object.values(ge.routes).filter(k).filter(function(G){return G.path&&G.path!=="/"&&G.layout!==!1}).map(function(G){return{path:G.path,key:B(G.path),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}});Oe(function(G){return n()(n()({},G),le)})})},[]),(0,P.useEffect)(function(){h.current&&h.current.reload()},[oe]);var ie=[{title:(0,a.jsx)(t.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0,render:function(le,G){return(0,a.jsx)(P.Fragment,{children:(0,a.jsxs)(D.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"Settings.tooltip.".concat(G.key)}),children:[G.key," ",(0,a.jsx)(O.Z,{})]})})}},{title:(0,a.jsx)(t.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:(0,a.jsx)(t.FormattedMessage,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(le,G){return G.value}},{hideInSearch:!0,title:(0,a.jsx)(t.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(le,G){return[G.id>0?(0,a.jsx)(D.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,a.jsx)(S.ZP,{type:"primary",icon:(0,a.jsx)(U.Z,{}),onClick:function(){return X(G.id)}})},"edit"):(0,a.jsx)(D.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"create",defaultMessage:"create"}),children:(0,a.jsx)(S.ZP,{type:"primary",icon:(0,a.jsx)(_.Z,{}),onClick:function(){X(oe[G.key]||-1)}})},"create"),(0,a.jsx)(p.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:v()(E()().mark(function ee(){var fe;return E()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,q(c,G.id);case 2:fe=ue.sent,fe&&(X(!1),h.current&&h.current.reload());case 4:case"end":return ue.stop()}},ee)})),okText:(0,a.jsx)(t.FormattedMessage,{id:"yes",defaultMessage:"Yes"}),cancelText:(0,a.jsx)(t.FormattedMessage,{id:"no",defaultMessage:"No"}),children:G.id>0?(0,a.jsx)(D.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,a.jsx)(S.ZP,{type:"primary",icon:(0,a.jsx)(J.Z,{}),danger:!0})}):null},"delete")]}}],_e=function(le){var G;if(le&&(!(z!=null&&(G=z.config)!==null&&G!==void 0&&G.length)&&le&&De(n()(n()({},z),{},{config:[le]})),!!(z!=null&&z.config))){var ee=z==null?void 0:z.config.map(function(fe){return fe.key===le.key?n()(n()({},fe),le):fe});De(n()(n()({},z),{},{config:ee}))}};return(0,a.jsxs)(P.Fragment,{children:[(0,a.jsx)(I.ZP,{headerTitle:c.formatMessage({id:"menu.settings"}),search:!1,toolBarRender:!1,actionRef:h,rowKey:"id",request:function(le){var G=le.pageSize,ee=le.current;return(0,l.Xd)({per_page:G,current:ee,group:"global"}).then(function(fe){if(fe.success){var ye=[].concat(u()(Object.keys(oe).map(function(ue){return fe.data.find(function(Ae){return Ae.key===ue})||oe[ue]})),u()(fe.data.filter(function(ue){return!Object.keys(oe).includes(ue.key)})));return{data:ye,total:ye.length,success:!0}}return[]})},columns:ie}),(0,a.jsx)(K.ZP,{groups:[],id:ce,visible:ce,initialData:oe,onVisibleChange:function(le){return!le&&X(!1)},onFinish:function(){var ge=v()(E()().mark(function le(G){var ee,fe,ye,ue;return E()().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return ee=G,ee.type==="number"&&(ee=n()(n()({},ee),{},{value:String(ee.data)})),ee.type==="boolean"&&(ee=n()(n()({},ee),{},{value:ee.data})),ee.type==="array"&&(ee=n()(n()({},ee),{},{value:JSON.parse(ee.value)})),xe.next=6,$(c,ee,Number(ce));case 6:fe=xe.sent,ye=fe.success,ue=fe.updatedSettings,ye&&(ue!=null&&ue.success&&_e(ue.data),X(!1),h.current&&h.current.reload());case 10:case"end":return xe.stop()}},le)}));return function(le){return ge.apply(this,arguments)}}()})]})};y.ZP=ne},85228:function(ae,y,e){e.r(y),e.d(y,{default:function(){return xe}});var o=e(5574),i=e.n(o),j=e(26271),u=e(74453),f=e(75081),E=e(38925),d=e(67294),n=e(80854),m=e(43564),v=e(59234),W=e(15009),_=e.n(W),I=e(99289),g=e.n(I),D=e(19632),S=e.n(D),p=e(52677),P=e.n(p),t=e(66419),l=e(47389),O=e(16894),U=e(66309),J=e(83062),K=e(14726),N=e(97857),a=e.n(N),$=e(37476),q=e(952),V=e(52688),se=e(90672),s=e(25093),A=e(75842),B=e(43669),x=e(5966),r=e(85893),F=function(M){var C=M.field,Z=M.name;return C!=null&&C.includes("boolean")?(0,r.jsx)(V.Z,{name:Z,checkedChildren:(0,r.jsx)(B._H,{id:"true"}),unCheckedChildren:(0,r.jsx)(B._H,{id:"false"})}):(0,r.jsx)(x.Z,{width:"lg",name:Z})},k=F,ne=e(55171),T=e.n(ne),L=s.Z.Text,b=function(H){return H.Array="array",H.String="string",H}(b||{}),ce=function(M,C){return C===b.Array?M&&Array.isArray(M)?JSON.stringify(M):"[]":M},X=function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",C=arguments.length>1?arguments[1]:void 0;if(C===b.Array){var Z=JSON.parse(M);return Z&&Array.isArray(Z)?Z:[]}return M},h=function(M){var C=(0,B.YB)(),Z=M.visible,Y=M.onVisibleChange,pe=M.onFinish,Q=M.value,me=A.Z.useForm(),je=i()(me,1),ve=je[0],he=(0,d.useMemo)(function(){return(Q.rules||[]).includes(b.Array)?b.Array:b.String},[Q.rules]);return(0,d.useEffect)(function(){ve.setFieldsValue(a()(a()({},Q),{},{value:ce(Q.value,he)}))},[he,Q,ve]),(0,r.jsxs)($.Y,{form:ve,title:Q.full_key,width:"60vw",visible:Z,onVisibleChange:Y,onFinish:g()(_()().mark(function Pe(){var te;return _()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,(0,m.rF)({key:Q.full_key,value:X(ve.getFieldsValue().value,he)});case 2:if(te=re.sent,!te.success){re.next=6;break}return pe(te.success===!0),re.abrupt("return",te.success);case 6:return re.abrupt("return");case 7:case"end":return re.stop()}},Pe)})),children:[(0,r.jsxs)(q.ZP.Group,{children:[(0,r.jsx)(V.Z,{disabled:!0,name:"public",label:(0,r.jsx)(n.FormattedMessage,{id:"public",defaultMessage:"public"})}),(0,r.jsx)(V.Z,{disabled:!0,name:"readonly",label:(0,r.jsx)(n.FormattedMessage,{id:"readonly",defaultMessage:"readonly"})}),(0,r.jsx)(q.ZP.Item,{shouldUpdate:!0,label:(0,r.jsx)(n.FormattedMessage,{id:"rules",defaultMessage:"rules"}),children:function(){return(0,r.jsx)(L,{code:!0,children:JSON.stringify(ve.getFieldValue("rules"))})}})]}),he===b.Array?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(se.Z,{width:"lg",name:"value",label:(0,r.jsx)(n.FormattedMessage,{id:"value"}),tooltip:"".concat(C.formatMessage({id:"example_json"}),': ["first_field_name", "second_field_name"]')}),(0,r.jsx)(q.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,r.jsx)(T(),{src:JSON.parse(ve.getFieldValue("value"))})}catch(te){return(0,r.jsx)(T(),{src:JSON.parse('{ "error": "cannot parse this array" }')})}}})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(q.ZP.Item,{shouldUpdate:!0,label:(0,r.jsx)(n.FormattedMessage,{id:"value"}),children:function(){return(0,r.jsx)(k,{field:ve.getFieldValue("rules"),name:"value"})}})})]})},c=h,w=[{title:(0,r.jsx)(n.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!1,sorter:!0},{title:(0,r.jsx)(n.FormattedMessage,{id:"readonly",defaultMessage:"readonly"}),dataIndex:"readonly",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(M,C){return(0,r.jsx)(U.Z,{color:C.readonly?"success":"error",children:(0,r.jsx)(n.FormattedMessage,{id:C.readonly?"true":"false",defaultMessage:C.readonly?"true":"false"})})}},{title:(0,r.jsx)(n.FormattedMessage,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(M,C){return(0,r.jsx)(U.Z,{color:C.public?"success":"error",children:(0,r.jsx)(n.FormattedMessage,{id:C.public?"true":"false",defaultMessage:C.public?"true":"false"})})}},{title:(0,r.jsx)(n.FormattedMessage,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(M,C){return typeof C.value=="boolean"?(0,r.jsx)(U.Z,{color:C.value?"success":"error",children:(0,r.jsx)(n.FormattedMessage,{id:C.value?"true":"false",defaultMessage:C.value?"true":"false"})}):Array.isArray(C.value)?C.value.map(function(Z){return P()(Z)==="object"?d.Children.toArray((0,r.jsx)("p",{children:Object.keys(Z).map(function(Y){return"".concat(Y,": ").concat(Z[Y])}).join(", ")})):Z}):C.value}}],R=function H(M,C){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return!M||P()(M)!=="object"?!1:(Object.keys(M).forEach(function(Y){var pe=M[Y];Y===C?Z.push(M):P()(pe)==="object"&&H(pe,C,Z)}),Z)},oe=function(M){var C=M.packageName,Z=M.values,Y=M.onValueUpdated,pe=(0,n.useIntl)(),Q=(0,d.useState)(),me=i()(Q,2),je=me[0],ve=me[1],he=(0,d.useMemo)(function(){var Pe=Z[C];return R(Pe,"rules")},[Z,C]);return(0,r.jsxs)(d.Fragment,{children:[(0,r.jsx)(O.ZP,{headerTitle:pe.formatMessage({id:"menu.settings"}),rowKey:"key",search:{layout:"vertical"},columns:[].concat(w,[{hideInSearch:!0,title:(0,r.jsx)(n.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(te,Ce){return[(0,r.jsx)(J.Z,{title:(0,r.jsx)(n.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,r.jsx)(K.ZP,{type:"primary",icon:(0,r.jsx)(l.Z,{}),onClick:function(){return ve(Ce)}})},"edit")]}}]),request:function(te,Ce){var re=te.key,de=Ce&&Object.entries(Ce)[0];return new Promise(function(Ee){var Me=he?S()(he):[];re&&(Me=Me.filter(function(Ie){return Ie.key.toLowerCase().includes(re.toLowerCase())})),de&&(Me=(0,t.Pf)(Me,de[0],de[1]!=="ascend")),Ee({data:Me,success:!0,total:Me.length})})}}),je&&(0,r.jsx)(c,{value:je,visible:je!==void 0,onVisibleChange:function(te){return te===!1&&ve(void 0)},onFinish:g()(_()().mark(function Pe(){return _()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:Y();case 1:case"end":return Ce.stop()}},Pe)}))})]})},Oe=oe,be=e(9783),De=e.n(be),z=e(51042),ie=e(2453),_e=e(86738),ge=e(82061),le=e(62343),G=function(){var H=g()(_()().mark(function M(C,Z,Y){var pe;return _()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return pe=ie.ZP.loading(C.formatMessage({id:"loading"})),me.prev=1,me.next=4,Y&&Y!==-1?(0,m.VP)(Y,a()({},Z)):(0,m.oh)(a()({},Z));case 4:return pe(),ie.ZP.success(C.formatMessage({id:"success"})),me.abrupt("return",!0);case 9:return me.prev=9,me.t0=me.catch(1),pe(),ie.ZP.error(C.formatMessage({id:"error"})),me.abrupt("return",!1);case 14:case"end":return me.stop()}},M,null,[[1,9]])}));return function(C,Z,Y){return H.apply(this,arguments)}}(),ee=function(){var H=g()(_()().mark(function M(C,Z){var Y;return _()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Y=ie.ZP.loading(C.formatMessage({id:"loading"})),Q.prev=1,Q.next=4,(0,m.Rb)(Z);case 4:return Y(),ie.ZP.success(C.formatMessage({id:"success"})),Q.abrupt("return",!0);case 9:return Q.prev=9,Q.t0=Q.catch(1),Y(),ie.ZP.error(C.formatMessage({id:"error"})),Q.abrupt("return",!1);case 14:case"end":return Q.stop()}},M,null,[[1,9]])}));return function(C,Z){return H.apply(this,arguments)}}(),fe=function(){var M=(0,d.useState)(!1),C=i()(M,2),Z=C[0],Y=C[1],pe=(0,d.useState)([]),Q=i()(pe,2),me=Q[0],je=Q[1],ve=(0,d.useRef)(),he=(0,n.useIntl)(),Pe=(0,n.useModel)("@@initialState"),te=Pe.setInitialState;(0,d.useEffect)(function(){(0,m.FF)().then(function(re){re.success&&je(re.data.filter(function(de){return de!=="global"}))})},[]);var Ce=[{title:(0,r.jsx)(n.FormattedMessage,{id:"group",defaultMessage:"group"}),dataIndex:"group",hideInSearch:!1,key:"group",valueType:"select",width:100,valueEnum:me.sort().reduce(function(re,de){return a()(a()({},re),{},De()({},de,de))},{})},{title:(0,r.jsx)(n.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:(0,r.jsx)(n.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:(0,r.jsx)(n.FormattedMessage,{id:"enumerable",defaultMessage:"enumerable"}),dataIndex:"enumerable",hideInForm:!0,hideInSearch:!0,render:function(de,Ee){return(0,r.jsx)(U.Z,{color:Ee.enumerable?"success":"error",children:(0,r.jsx)(n.FormattedMessage,{id:Ee.enumerable?"true":"false",defaultMessage:Ee.enumerable?"true":"false"})})}},{title:(0,r.jsx)(n.FormattedMessage,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(de,Ee){return(0,r.jsx)(U.Z,{color:Ee.public?"success":"error",children:(0,r.jsx)(n.FormattedMessage,{id:Ee.public?"true":"false",defaultMessage:Ee.public?"true":"false"})})}},{hideInSearch:!0,title:(0,r.jsx)(n.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(de,Ee){return[(0,r.jsx)(J.Z,{title:(0,r.jsx)(n.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,r.jsx)(K.ZP,{type:"primary",icon:(0,r.jsx)(l.Z,{}),onClick:function(){return Y(Ee.id)}})},"edit"),(0,r.jsx)(_e.Z,{title:(0,r.jsx)(n.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:g()(_()().mark(function Me(){var Ie;return _()().wrap(function(Re){for(;;)switch(Re.prev=Re.next){case 0:return Re.next=2,ee(he,Ee.id);case 2:Ie=Re.sent,Ie&&(Y(!1),ve.current&&ve.current.reload());case 4:case"end":return Re.stop()}},Me)})),okText:(0,r.jsx)(n.FormattedMessage,{id:"yes",defaultMessage:"Yes"}),cancelText:(0,r.jsx)(n.FormattedMessage,{id:"no",defaultMessage:"No"}),children:(0,r.jsx)(J.Z,{title:(0,r.jsx)(n.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,r.jsx)(K.ZP,{type:"primary",icon:(0,r.jsx)(ge.Z,{}),danger:!0})})},"delete")]}}];return(0,r.jsxs)(d.Fragment,{children:[(0,r.jsx)(O.ZP,{headerTitle:he.formatMessage({id:"menu.settings"}),actionRef:ve,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[(0,r.jsxs)(K.ZP,{type:"primary",onClick:function(){Y(-1)},children:[(0,r.jsx)(z.Z,{})," ",(0,r.jsx)(n.FormattedMessage,{id:"pages.searchTable.new"})]},"primary")]},request:function(de){var Ee=de.pageSize,Me=de.current,Ie=de.group;return(0,m.Xd)({per_page:Ee,current:Me,group:Ie}).then(function(Se){return Se.success?{data:Se.data.filter(function(Re){return Re.group!=="global"}),total:Se.meta.total,success:!0}:[]})},columns:Ce}),(0,r.jsx)(le.ZP,{groups:me,id:Z,visible:Number.isInteger(Z),onVisibleChange:function(de){return!de&&Y(!1)},onFinish:function(){var re=g()(_()().mark(function de(Ee){var Me,Ie,Se;return _()().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Me=Ee,Te.next=3,G(he,Me,Number(Z));case 3:if(Ie=Te.sent,!Ie){Te.next=12;break}if(Y(!1),ve.current&&ve.current.reload(),Me.group!=="global"){Te.next=12;break}return Te.next=10,(0,m.Xd)({current:1,per_page:100,group:"global"});case 10:Se=Te.sent,te(function(Le){return a()(a()({},Le),{},{config:Se.success?Se.data:Le==null?void 0:Le.config})});case 12:case"end":return Te.stop()}},de)}));return function(de){return re.apply(this,arguments)}}()})]})},ye=fe;function ue(H){var M=H.replaceAll("escolalms",""),C=M.split("_"),Z=C.map(function(Y){return Y.charAt(0).toUpperCase()+Y.slice(1)});return Z.join(" ")}function Ae(H,M){var C=["global_settings","user_settings"];return C.includes(H)?M.formatMessage({id:String(H)}):M.formatMessage({id:"Settings.package"},{package:ue(H)})}var xe=function(){var H=(0,n.useParams)(),M=(0,n.useIntl)(),C=H.tab,Z=C===void 0?"user_settings":C,Y=(0,d.useState)(),pe=i()(Y,2),Q=pe[0],me=pe[1],je=(0,d.useCallback)(function(){(0,m.rH)().then(function(te){te.success&&me(te.data)})},[]),ve=(0,n.useModel)("@@initialState"),he=ve.initialState,Pe=(0,d.useCallback)(function(){var te;return(he==null||(te=he.config)===null||te===void 0?void 0:te.length)!==0},[he]);return(0,d.useEffect)(function(){je()},[]),Q?(0,r.jsxs)(u._z,{title:Ae(Z,M),header:{breadcrumb:{routes:[{path:"settings",breadcrumbName:M.formatMessage({id:"menu.Configuration.settings"})},{path:String(Z),breadcrumbName:Ae(Z,M)}]}},children:[!Pe()&&(0,r.jsx)(E.Z,{message:(0,r.jsx)(n.FormattedMessage,{id:"global_settings_alert_title",defaultMessage:"Add global settings"}),description:(0,r.jsx)(n.FormattedMessage,{id:"global_settings_alert_description",defaultMessage:"Global settings are used to configure the entire LMS. You can add global settings by clicking the button below."}),type:"warning",showIcon:!0,style:{marginBottom:"20px"}}),(0,r.jsxs)(j.ZP,{tabs:{type:"card",activeKey:Z,onChange:function(Ce){return n.history.push("/configuration/settings/".concat(Ce))}},children:[(0,r.jsx)(j.ZP.TabPane,{tab:(0,r.jsx)(n.FormattedMessage,{id:"user.settings"}),children:(0,r.jsx)(ye,{})},"user_settings"),(0,r.jsx)(j.ZP.TabPane,{tab:(0,r.jsx)(n.FormattedMessage,{id:"global_settings"}),children:(0,r.jsx)(v.ZP,{})},"global_settings"),Object.keys(Q).map(function(te){return(0,r.jsxs)(j.ZP.TabPane,{tab:(0,r.jsx)("span",{children:(0,r.jsx)(n.FormattedMessage,{id:"Settings.package",values:{package:ue(te)}})}),children:[(0,r.jsx)(Oe,{values:Q,packageName:te,onValueUpdated:function(){return je()}}),te]},te)})]})]}):(0,r.jsx)(f.Z,{})}},31472:function(ae,y,e){e.d(y,{Fh:function(){return W},UL:function(){return m},Yo:function(){return g},Zg:function(){return D},cX:function(){return n},ce:function(){return d},fS:function(){return I},fn:function(){return f},h5:function(){return S},hg:function(){return P},oz:function(){return o},rX:function(){return _},uT:function(){return u},wg:function(){return p},wl:function(){return v}});var o=function(t){return t.Unselected="",t.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",t.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",t.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",t.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",t.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",t.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",t.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",t.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",t.Project="EscolaLms\\TopicTypeProject\\Models\\Project",t.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz",t}({}),i=function(t){return t.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",t.UserLogged="EscolaLms\\Auth\\Events\\UserLogged",t}({}),j=function(t){return t.draft="draft",t.published="published",t.archived="archived",t}({}),u=function(t){return t.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",t.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",t.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel",t}({}),f=function(t){return t.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent",t}({}),E=function(t){return t.cart_fixed="cart_fixed",t.cart_percent="cart_percent",t.product_fixed="product_fixed",t.product_percent="product_percent",t}({}),d=function(t){return t.MULTIPLE_CHOICE="multiple_choice",t.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",t.TRUE_FALSE="true_false",t.SHORT_ANSWERS="short_answers",t.MATCHING="matching",t.NUMERICAL_QUESTION="numerical_question",t.ESSAY="essay",t.DESCRIPTION="description",t}({}),n=function(t){return t.PRESENT="present",t.PRESENT_NOT_EXERCISING="present_not_exercising",t.ABSENT="absent",t.EXCUSED_ABSENCE="excused_absence",t}({}),m=function(t){return t.Manual="manual",t.ManualPass="manual_pass",t.ManualGrades="manual_grades",t.TeamsForms="teams_forms",t.TeamsLecture="teams_lecture",t.TestPortal="test_portal",t}({}),v=function(t){return t.Passed="zal",t.Failed="nie zal",t}({}),W=function(t){return t.Simple="simple",t.Complex="complex",t}({}),_=function(t){return t.QuizSummary="EscolaLms\\Reports\\Stats\\Topic\\QuizSummaryForTopicTypeGIFT",t}({}),I=function(t){return t.Boolean="boolean",t.Number="number",t.Varchar="varchar",t.Text="text",t.Json="json",t}({}),g=function(t){return t.Rate="rate",t.Text="text",t.Review="review",t}({}),D=function(t){return t.Exercise="exercise",t.Course="course",t.Info="info",t}({}),S=function(t){return t.Group="EscolaLms\\PcgIntegration\\Models\\Group",t}({}),p=function(t){return t.PUSH="EscolaLms\\BulkNotifications\\Channels\\PushNotificationChannel",t}({}),P=function(t){return t.TITLE="title",t.BODY="body",t.IMAGE="image_url",t.REDIRECT_URL="redirect_url",t}({})},17578:function(ae,y,e){e.d(y,{Od:function(){return D},QZ:function(){return n},ht:function(){return v},pV:function(){return g},ws:function(){return _}});var o=e(15009),i=e.n(o),j=e(97857),u=e.n(j),f=e(99289),E=e.n(f),d=e(80854);function n(p,P){return m.apply(this,arguments)}function m(){return m=E()(i()().mark(function p(P,t){return i()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,d.request)("/api/admin/file/list",u()({method:"GET",params:P},t||{})));case 1:case"end":return O.stop()}},p)})),m.apply(this,arguments)}function v(p,P){return W.apply(this,arguments)}function W(){return W=E()(i()().mark(function p(P,t){return i()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,d.request)("/api/admin/file/find",u()({method:"GET",params:P},t||{})));case 1:case"end":return O.stop()}},p)})),W.apply(this,arguments)}function _(p,P,t){return I.apply(this,arguments)}function I(){return I=E()(i()().mark(function p(P,t,l){var O;return i()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return O=new FormData,O.append("file[]",P),O.append("target",t),J.abrupt("return",(0,d.request)("/api/admin/file/upload",u()({method:"POST",data:O},l||{})));case 4:case"end":return J.stop()}},p)})),I.apply(this,arguments)}var g=function(P){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(P,"&w=").concat(t)};function D(p,P){return S.apply(this,arguments)}function S(){return S=E()(i()().mark(function p(P,t){return i()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,d.request)("/api/admin/file/delete",u()({method:"DELETE",data:{url:P}},t||{})));case 1:case"end":return O.stop()}},p)})),S.apply(this,arguments)}},49288:function(ae,y,e){var o=e(67294),i=e(93967),j=e.n(i),u=e(50344),f=e(98423),E=e(87263),d=e(8745),n=e(53124),m=e(83863);const{Option:v}=m.default;function W(D){return D&&D.type&&(D.type.isSelectOption||D.type.isSelectOptGroup)}const _=(D,S)=>{var p;const{prefixCls:P,className:t,popupClassName:l,dropdownClassName:O,children:U,dataSource:J}=D,K=(0,u.Z)(U);let N;K.length===1&&o.isValidElement(K[0])&&!W(K[0])&&([N]=K);const a=N?()=>N:void 0;let $;K.length&&W(K[0])?$=U:$=J?J.map(s=>{if(o.isValidElement(s))return s;switch(typeof s){case"string":return o.createElement(v,{key:s,value:s},s);case"object":{const{value:A}=s;return o.createElement(v,{key:A,value:A},s.text)}default:return}}):[];const{getPrefixCls:q}=o.useContext(n.E_),V=q("select",P),[se]=(0,E.Cn)("SelectLike",(p=D.dropdownStyle)===null||p===void 0?void 0:p.zIndex);return o.createElement(m.default,Object.assign({ref:S,suffixIcon:null},(0,f.Z)(D,["dataSource","dropdownClassName"]),{prefixCls:V,popupClassName:l||O,dropdownStyle:Object.assign(Object.assign({},D.dropdownStyle),{zIndex:se}),className:j()(`${V}-auto-complete`,t),mode:m.default.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:a}),$)},I=o.forwardRef(_),g=(0,d.Z)(I);I.Option=v,I._InternalPanelDoNotUseOrYouWillBeFired=g,y.Z=I},66309:function(ae,y,e){e.d(y,{Z:function(){return se}});var o=e(67294),i=e(62208),j=e(93967),u=e.n(j),f=e(98787),E=e(69760),d=e(45353),n=e(53124),m=e(6731),v=e(10274),W=e(14747),_=e(45503),I=e(91945);const g=s=>{const{paddingXXS:A,lineWidth:B,tagPaddingHorizontal:x,componentCls:r,calc:F}=s,k=F(x).sub(B).equal(),ne=F(A).sub(B).equal();return{[r]:Object.assign(Object.assign({},(0,W.Wf)(s)),{display:"inline-block",height:"auto",marginInlineEnd:s.marginXS,paddingInline:k,fontSize:s.tagFontSize,lineHeight:s.tagLineHeight,whiteSpace:"nowrap",background:s.defaultBg,border:`${(0,m.unit)(s.lineWidth)} ${s.lineType} ${s.colorBorder}`,borderRadius:s.borderRadiusSM,opacity:1,transition:`all ${s.motionDurationMid}`,textAlign:"start",position:"relative",[`&${r}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:s.defaultColor},[`${r}-close-icon`]:{marginInlineStart:ne,fontSize:s.tagIconSize,color:s.colorTextDescription,cursor:"pointer",transition:`all ${s.motionDurationMid}`,"&:hover":{color:s.colorTextHeading}},[`&${r}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${s.iconCls}-close, ${s.iconCls}-close:hover`]:{color:s.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${r}-checkable-checked):hover`]:{color:s.colorPrimary,backgroundColor:s.colorFillSecondary},"&:active, &-checked":{color:s.colorTextLightSolid},"&-checked":{backgroundColor:s.colorPrimary,"&:hover":{backgroundColor:s.colorPrimaryHover}},"&:active":{backgroundColor:s.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${s.iconCls} + span, > span + ${s.iconCls}`]:{marginInlineStart:k}}),[`${r}-borderless`]:{borderColor:"transparent",background:s.tagBorderlessBg}}},D=s=>{const{lineWidth:A,fontSizeIcon:B,calc:x}=s,r=s.fontSizeSM;return(0,_.TS)(s,{tagFontSize:r,tagLineHeight:(0,m.unit)(x(s.lineHeightSM).mul(r).equal()),tagIconSize:x(B).sub(x(A).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:s.defaultBg})},S=s=>({defaultBg:new v.C(s.colorFillQuaternary).onBackground(s.colorBgContainer).toHexString(),defaultColor:s.colorText});var p=(0,I.I$)("Tag",s=>{const A=D(s);return g(A)},S),P=function(s,A){var B={};for(var x in s)Object.prototype.hasOwnProperty.call(s,x)&&A.indexOf(x)<0&&(B[x]=s[x]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,x=Object.getOwnPropertySymbols(s);r<x.length;r++)A.indexOf(x[r])<0&&Object.prototype.propertyIsEnumerable.call(s,x[r])&&(B[x[r]]=s[x[r]]);return B},l=o.forwardRef((s,A)=>{const{prefixCls:B,style:x,className:r,checked:F,onChange:k,onClick:ne}=s,T=P(s,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:L,tag:b}=o.useContext(n.E_),ce=oe=>{k==null||k(!F),ne==null||ne(oe)},X=L("tag",B),[h,c,w]=p(X),R=u()(X,`${X}-checkable`,{[`${X}-checkable-checked`]:F},b==null?void 0:b.className,r,c,w);return h(o.createElement("span",Object.assign({},T,{ref:A,style:Object.assign(Object.assign({},x),b==null?void 0:b.style),className:R,onClick:ce})))}),O=e(98719);const U=s=>(0,O.Z)(s,(A,B)=>{let{textColor:x,lightBorderColor:r,lightColor:F,darkColor:k}=B;return{[`${s.componentCls}${s.componentCls}-${A}`]:{color:x,background:F,borderColor:r,"&-inverse":{color:s.colorTextLightSolid,background:k,borderColor:k},[`&${s.componentCls}-borderless`]:{borderColor:"transparent"}}}});var J=(0,I.bk)(["Tag","preset"],s=>{const A=D(s);return U(A)},S);function K(s){return typeof s!="string"?s:s.charAt(0).toUpperCase()+s.slice(1)}const N=(s,A,B)=>{const x=K(B);return{[`${s.componentCls}${s.componentCls}-${A}`]:{color:s[`color${B}`],background:s[`color${x}Bg`],borderColor:s[`color${x}Border`],[`&${s.componentCls}-borderless`]:{borderColor:"transparent"}}}};var a=(0,I.bk)(["Tag","status"],s=>{const A=D(s);return[N(A,"success","Success"),N(A,"processing","Info"),N(A,"error","Error"),N(A,"warning","Warning")]},S),$=function(s,A){var B={};for(var x in s)Object.prototype.hasOwnProperty.call(s,x)&&A.indexOf(x)<0&&(B[x]=s[x]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,x=Object.getOwnPropertySymbols(s);r<x.length;r++)A.indexOf(x[r])<0&&Object.prototype.propertyIsEnumerable.call(s,x[r])&&(B[x[r]]=s[x[r]]);return B};const q=(s,A)=>{const{prefixCls:B,className:x,rootClassName:r,style:F,children:k,icon:ne,color:T,onClose:L,closeIcon:b,closable:ce,bordered:X=!0}=s,h=$(s,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:c,direction:w,tag:R}=o.useContext(n.E_),[oe,Oe]=o.useState(!0);o.useEffect(()=>{"visible"in h&&Oe(h.visible)},[h.visible]);const be=(0,f.o2)(T),De=(0,f.yT)(T),z=be||De,ie=Object.assign(Object.assign({backgroundColor:T&&!z?T:void 0},R==null?void 0:R.style),F),_e=c("tag",B),[ge,le,G]=p(_e),ee=u()(_e,R==null?void 0:R.className,{[`${_e}-${T}`]:z,[`${_e}-has-color`]:T&&!z,[`${_e}-hidden`]:!oe,[`${_e}-rtl`]:w==="rtl",[`${_e}-borderless`]:!X},x,r,le,G),fe=M=>{M.stopPropagation(),L==null||L(M),!M.defaultPrevented&&Oe(!1)},[,ye]=(0,E.Z)({closable:ce,closeIcon:b!=null?b:R==null?void 0:R.closeIcon,customCloseIconRender:M=>M===null?o.createElement(i.Z,{className:`${_e}-close-icon`,onClick:fe}):o.createElement("span",{className:`${_e}-close-icon`,onClick:fe},M),defaultCloseIcon:null,defaultClosable:!1}),ue=typeof h.onClick=="function"||k&&k.type==="a",Ae=ne||null,xe=Ae?o.createElement(o.Fragment,null,Ae,k&&o.createElement("span",null,k)):k,H=o.createElement("span",Object.assign({},h,{ref:A,className:ee,style:ie}),xe,ye,be&&o.createElement(J,{key:"preset",prefixCls:_e}),De&&o.createElement(a,{key:"status",prefixCls:_e}));return ge(ue?o.createElement(d.Z,{component:"Tag"},H):H)},V=o.forwardRef(q);V.CheckableTag=l;var se=V}}]);
