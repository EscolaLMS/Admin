(window.webpackJsonp=window.webpackJsonp||[]).push([[58],{"2D6k":function(un,wr,De){"use strict";var Je=Math.PI*2;function L(dt,Yt,Q,b){var s=dt*b-Yt*Q<0?-1:1,h=dt*Q+Yt*b;return h>1&&(h=1),h<-1&&(h=-1),s*Math.acos(h)}function be(dt,Yt,Q,b,s,h,u,o,r,e){var t=e*(dt-Q)/2+r*(Yt-b)/2,a=-r*(dt-Q)/2+e*(Yt-b)/2,l=u*u,i=o*o,f=t*t,p=a*a,v=l*i-l*p-i*f;v<0&&(v=0),v/=l*p+i*f,v=Math.sqrt(v)*(s===h?-1:1);var C=v*u/o*a,D=v*-o/u*t,V=e*C-r*D+(dt+Q)/2,it=r*C+e*D+(Yt+b)/2,Ct=(t-C)/u,Dt=(a-D)/o,Ut=(-t-C)/u,pe=(-a-D)/o,Ee=L(1,0,Ct,Dt),At=L(Ct,Dt,Ut,pe);return h===0&&At>0&&(At-=Je),h===1&&At<0&&(At+=Je),[V,it,Ee,At]}function pt(dt,Yt){var Q=4/3*Math.tan(Yt/4),b=Math.cos(dt),s=Math.sin(dt),h=Math.cos(dt+Yt),u=Math.sin(dt+Yt);return[b,s,b-s*Q,s+b*Q,h+u*Q,u-h*Q,h,u]}un.exports=function(Yt,Q,b,s,h,u,o,r,e){var t=Math.sin(e*Je/360),a=Math.cos(e*Je/360),l=a*(Yt-b)/2+t*(Q-s)/2,i=-t*(Yt-b)/2+a*(Q-s)/2;if(l===0&&i===0)return[];if(o===0||r===0)return[];o=Math.abs(o),r=Math.abs(r);var f=l*l/(o*o)+i*i/(r*r);f>1&&(o*=Math.sqrt(f),r*=Math.sqrt(f));var p=be(Yt,Q,b,s,h,u,o,r,t,a),v=[],C=p[2],D=p[3],V=Math.max(Math.ceil(Math.abs(D)/(Je/4)),1);D/=V;for(var it=0;it<V;it++)v.push(pt(C,D)),C+=D;return v.map(function(Ct){for(var Dt=0;Dt<Ct.length;Dt+=2){var Ut=Ct[Dt+0],pe=Ct[Dt+1];Ut*=o,pe*=r;var Ee=a*Ut-t*pe,At=t*Ut+a*pe;Ct[Dt+0]=Ee+p[0],Ct[Dt+1]=At+p[1]}return Ct})}},"3dVZ":function(un,wr,De){},"49sm":function(un,wr){var De={}.toString;un.exports=Array.isArray||function(Je){return De.call(Je)=="[object Array]"}},"4hEd":function(un,wr,De){"use strict";function Je(be,pt){return[be[0]*pt[0]+be[2]*pt[1],be[1]*pt[0]+be[3]*pt[1],be[0]*pt[2]+be[2]*pt[3],be[1]*pt[2]+be[3]*pt[3],be[0]*pt[4]+be[2]*pt[5]+be[4],be[1]*pt[4]+be[3]*pt[5]+be[5]]}function L(){if(!(this instanceof L))return new L;this.queue=[],this.cache=null}L.prototype.matrix=function(be){return be[0]===1&&be[1]===0&&be[2]===0&&be[3]===1&&be[4]===0&&be[5]===0?this:(this.cache=null,this.queue.push(be),this)},L.prototype.translate=function(be,pt){return(be!==0||pt!==0)&&(this.cache=null,this.queue.push([1,0,0,1,be,pt])),this},L.prototype.scale=function(be,pt){return(be!==1||pt!==1)&&(this.cache=null,this.queue.push([be,0,0,pt,0,0])),this},L.prototype.rotate=function(be,pt,dt){var Yt,Q,b;return be!==0&&(this.translate(pt,dt),Yt=be*Math.PI/180,Q=Math.cos(Yt),b=Math.sin(Yt),this.queue.push([Q,b,-b,Q,0,0]),this.cache=null,this.translate(-pt,-dt)),this},L.prototype.skewX=function(be){return be!==0&&(this.cache=null,this.queue.push([1,0,Math.tan(be*Math.PI/180),1,0,0])),this},L.prototype.skewY=function(be){return be!==0&&(this.cache=null,this.queue.push([1,Math.tan(be*Math.PI/180),0,1,0,0])),this},L.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],this.queue.length===1)return this.cache;for(var be=1;be<this.queue.length;be++)this.cache=Je(this.cache,this.queue[be]);return this.cache},L.prototype.calc=function(be,pt,dt){var Yt;return this.queue.length?(this.cache||(this.cache=this.toArray()),Yt=this.cache,[be*Yt[0]+pt*Yt[2]+(dt?0:Yt[4]),be*Yt[1]+pt*Yt[3]+(dt?0:Yt[5])]):[be,pt]},un.exports=L},B61z:function(un,wr,De){"use strict";var Je=1e-10,L=Math.PI/180;function be(pt,dt,Yt){if(!(this instanceof be))return new be(pt,dt,Yt);this.rx=pt,this.ry=dt,this.ax=Yt}be.prototype.transform=function(pt){var dt=Math.cos(this.ax*L),Yt=Math.sin(this.ax*L),Q=[this.rx*(pt[0]*dt+pt[2]*Yt),this.rx*(pt[1]*dt+pt[3]*Yt),this.ry*(-pt[0]*Yt+pt[2]*dt),this.ry*(-pt[1]*Yt+pt[3]*dt)],b=Q[0]*Q[0]+Q[2]*Q[2],s=Q[1]*Q[1]+Q[3]*Q[3],h=((Q[0]-Q[3])*(Q[0]-Q[3])+(Q[2]+Q[1])*(Q[2]+Q[1]))*((Q[0]+Q[3])*(Q[0]+Q[3])+(Q[2]-Q[1])*(Q[2]-Q[1])),u=(b+s)/2;if(h<Je*u)return this.rx=this.ry=Math.sqrt(u),this.ax=0,this;var o=Q[0]*Q[1]+Q[2]*Q[3];h=Math.sqrt(h);var r=u+h/2,e=u-h/2;return this.ax=Math.abs(o)<Je&&Math.abs(r-s)<Je?90:Math.atan(Math.abs(o)>Math.abs(r-s)?(r-b)/o:o/(r-s))*180/Math.PI,this.ax>=0?(this.rx=Math.sqrt(r),this.ry=Math.sqrt(e)):(this.ax+=90,this.rx=Math.sqrt(e),this.ry=Math.sqrt(r)),this},be.prototype.isDegenerate=function(){return this.rx<Je*this.ry||this.ry<Je*this.rx},un.exports=be},BiO0:function(un,wr,De){"use strict";var Je=De("wx14"),L=De("Ff2n"),be=De("q1tI"),pt=De.n(be),dt=De("adzw"),Yt=["fieldProps","proFieldProps"],Q=function(s,h){var u=s.fieldProps,o=s.proFieldProps,r=Object(L.a)(s,Yt);return pt.a.createElement(dt.a,Object(Je.a)({ref:h,mode:"edit",valueType:"textarea",fieldProps:u,proFieldProps:o},r))};wr.a=pt.a.forwardRef(Q)},C4q1:function(un,wr,De){"use strict";/*! https://mths.be/cssesc v3.0.0 by @mathias */var Je={},L=Je.hasOwnProperty,be=function(h,u){if(!h)return u;var o={};for(var r in u)o[r]=L.call(h,r)?h[r]:u[r];return o},pt=/[ -,\.\/:-@\[-\^`\{-~]/,dt=/[ -,\.\/:-@\[\]\^`\{-~]/,Yt=/['"\\]/,Q=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,b=function s(h,u){u=be(u,s.options),u.quotes!="single"&&u.quotes!="double"&&(u.quotes="single");for(var o=u.quotes=="double"?'"':"'",r=u.isIdentifier,e=h.charAt(0),t="",a=0,l=h.length;a<l;){var i=h.charAt(a++),f=i.charCodeAt(),p=void 0;if(f<32||f>126){if(f>=55296&&f<=56319&&a<l){var v=h.charCodeAt(a++);(v&64512)==56320?f=((f&1023)<<10)+(v&1023)+65536:a--}p="\\"+f.toString(16).toUpperCase()+" "}else u.escapeEverything?pt.test(i)?p="\\"+i:p="\\"+f.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(i)?p="\\"+f.toString(16).toUpperCase()+" ":i=="\\"||!r&&(i=='"'&&o==i||i=="'"&&o==i)||r&&dt.test(i)?p="\\"+i:p=i;t+=p}return r&&(/^-[-\d]/.test(t)?t="\\-"+t.slice(1):/\d/.test(e)&&(t="\\3"+e+" "+t.slice(1))),t=t.replace(Q,function(C,D,V){return D&&D.length%2?C:(D||"")+V}),!r&&u.wrap?o+t+o:t};b.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},b.version="3.0.0",un.exports=b},COF0:function(un,wr,De){"use strict";var Je={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},L=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function be(e){return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&L.indexOf(e)>=0}function pt(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function dt(e){return(e|32)==97}function Yt(e){return e>=48&&e<=57}function Q(e){return e>=48&&e<=57||e===43||e===45||e===46}function b(e){this.index=0,this.path=e,this.max=e.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function s(e){for(;e.index<e.max&&be(e.path.charCodeAt(e.index));)e.index++}function h(e){var t=e.path.charCodeAt(e.index);if(t===48){e.param=0,e.index++;return}if(t===49){e.param=1,e.index++;return}e.err="SvgPath: arc flag can be 0 or 1 only (at pos "+e.index+")"}function u(e){var t=e.index,a=t,l=e.max,i=!1,f=!1,p=!1,v=!1,C;if(a>=l){e.err="SvgPath: missed param (at pos "+a+")";return}if(C=e.path.charCodeAt(a),(C===43||C===45)&&(a++,C=a<l?e.path.charCodeAt(a):0),!Yt(C)&&C!==46){e.err="SvgPath: param should start with 0..9 or `.` (at pos "+a+")";return}if(C!==46){if(i=C===48,a++,C=a<l?e.path.charCodeAt(a):0,i&&a<l&&C&&Yt(C)){e.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+t+")";return}for(;a<l&&Yt(e.path.charCodeAt(a));)a++,f=!0;C=a<l?e.path.charCodeAt(a):0}if(C===46){for(v=!0,a++;Yt(e.path.charCodeAt(a));)a++,p=!0;C=a<l?e.path.charCodeAt(a):0}if(C===101||C===69){if(v&&!f&&!p){e.err="SvgPath: invalid float exponent (at pos "+a+")";return}if(a++,C=a<l?e.path.charCodeAt(a):0,(C===43||C===45)&&a++,a<l&&Yt(e.path.charCodeAt(a)))for(;a<l&&Yt(e.path.charCodeAt(a));)a++;else{e.err="SvgPath: invalid float exponent (at pos "+a+")";return}}e.index=a,e.param=parseFloat(e.path.slice(t,a))+0}function o(e){var t,a;t=e.path[e.segmentStart],a=t.toLowerCase();var l=e.data;if(a==="m"&&l.length>2&&(e.result.push([t,l[0],l[1]]),l=l.slice(2),a="l",t=t==="m"?"l":"L"),a==="r")e.result.push([t].concat(l));else for(;l.length>=Je[a]&&(e.result.push([t].concat(l.splice(0,Je[a]))),!!Je[a]););}function r(e){var t=e.max,a,l,i,f,p;if(e.segmentStart=e.index,a=e.path.charCodeAt(e.index),l=dt(a),!pt(a)){e.err="SvgPath: bad command "+e.path[e.index]+" (at pos "+e.index+")";return}if(f=Je[e.path[e.index].toLowerCase()],e.index++,s(e),e.data=[],!f){o(e);return}for(i=!1;;){for(p=f;p>0;p--){if(l&&(p===3||p===4)?h(e):u(e),e.err.length)return;e.data.push(e.param),s(e),i=!1,e.index<t&&e.path.charCodeAt(e.index)===44&&(e.index++,s(e),i=!0)}if(!i&&(e.index>=e.max||!Q(e.path.charCodeAt(e.index))))break}o(e)}un.exports=function(t){var a=new b(t),l=a.max;for(s(a);a.index<l&&!a.err.length;)r(a);return a.err.length?a.result=[]:a.result.length&&("mM".indexOf(a.result[0][0])<0?(a.err="SvgPath: string should start with `M` or `m`",a.result=[]):a.result[0][0]="M"),{err:a.err,segments:a.result}}},"D6/r":function(un,wr,De){},H7XF:function(un,wr,De){"use strict";wr.byteLength=b,wr.toByteArray=h,wr.fromByteArray=r;for(var Je=[],L=[],be=typeof Uint8Array!="undefined"?Uint8Array:Array,pt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",dt=0,Yt=pt.length;dt<Yt;++dt)Je[dt]=pt[dt],L[pt.charCodeAt(dt)]=dt;L["-".charCodeAt(0)]=62,L["_".charCodeAt(0)]=63;function Q(e){var t=e.length;if(t%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var a=e.indexOf("=");a===-1&&(a=t);var l=a===t?0:4-a%4;return[a,l]}function b(e){var t=Q(e),a=t[0],l=t[1];return(a+l)*3/4-l}function s(e,t,a){return(t+a)*3/4-a}function h(e){var t,a=Q(e),l=a[0],i=a[1],f=new be(s(e,l,i)),p=0,v=i>0?l-4:l,C;for(C=0;C<v;C+=4)t=L[e.charCodeAt(C)]<<18|L[e.charCodeAt(C+1)]<<12|L[e.charCodeAt(C+2)]<<6|L[e.charCodeAt(C+3)],f[p++]=t>>16&255,f[p++]=t>>8&255,f[p++]=t&255;return i===2&&(t=L[e.charCodeAt(C)]<<2|L[e.charCodeAt(C+1)]>>4,f[p++]=t&255),i===1&&(t=L[e.charCodeAt(C)]<<10|L[e.charCodeAt(C+1)]<<4|L[e.charCodeAt(C+2)]>>2,f[p++]=t>>8&255,f[p++]=t&255),f}function u(e){return Je[e>>18&63]+Je[e>>12&63]+Je[e>>6&63]+Je[e&63]}function o(e,t,a){for(var l,i=[],f=t;f<a;f+=3)l=(e[f]<<16&16711680)+(e[f+1]<<8&65280)+(e[f+2]&255),i.push(u(l));return i.join("")}function r(e){for(var t,a=e.length,l=a%3,i=[],f=16383,p=0,v=a-l;p<v;p+=f)i.push(o(e,p,p+f>v?v:p+f));return l===1?(t=e[a-1],i.push(Je[t>>2]+Je[t<<4&63]+"==")):l===2&&(t=(e[a-2]<<8)+e[a-1],i.push(Je[t>>10]+Je[t>>4&63]+Je[t<<2&63]+"=")),i.join("")}},Iab2:function(un,wr,De){(function(Je){var L,be,pt;(function(dt,Yt){be=[],L=Yt,pt=typeof L=="function"?L.apply(wr,be):L,pt!==void 0&&(un.exports=pt)})(this,function(){"use strict";function dt(o,r){return typeof r=="undefined"?r={autoBom:!1}:typeof r!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),r={autoBom:!r}),r.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(o.type)?new Blob(["\uFEFF",o],{type:o.type}):o}function Yt(o,r,e){var t=new XMLHttpRequest;t.open("GET",o),t.responseType="blob",t.onload=function(){u(t.response,r,e)},t.onerror=function(){console.error("could not download file")},t.send()}function Q(o){var r=new XMLHttpRequest;r.open("HEAD",o,!1);try{r.send()}catch(e){}return 200<=r.status&&299>=r.status}function b(o){try{o.dispatchEvent(new MouseEvent("click"))}catch(e){var r=document.createEvent("MouseEvents");r.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),o.dispatchEvent(r)}}var s=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof Je=="object"&&Je.global===Je?Je:void 0,h=s.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),u=s.saveAs||(typeof window!="object"||window!==s?function(){}:"download"in HTMLAnchorElement.prototype&&!h?function(o,r,e){var t=s.URL||s.webkitURL,a=document.createElement("a");r=r||o.name||"download",a.download=r,a.rel="noopener",typeof o=="string"?(a.href=o,a.origin===location.origin?b(a):Q(a.href)?Yt(o,r,e):b(a,a.target="_blank")):(a.href=t.createObjectURL(o),setTimeout(function(){t.revokeObjectURL(a.href)},4e4),setTimeout(function(){b(a)},0))}:"msSaveOrOpenBlob"in navigator?function(o,r,e){if(r=r||o.name||"download",typeof o!="string")navigator.msSaveOrOpenBlob(dt(o,e),r);else if(Q(o))Yt(o,r,e);else{var t=document.createElement("a");t.href=o,t.target="_blank",setTimeout(function(){b(t)})}}:function(o,r,e,t){if(t=t||open("","_blank"),t&&(t.document.title=t.document.body.innerText="downloading..."),typeof o=="string")return Yt(o,r,e);var a=o.type==="application/octet-stream",l=/constructor/i.test(s.HTMLElement)||s.safari,i=/CriOS\/[\d]+/.test(navigator.userAgent);if((i||a&&l||h)&&typeof FileReader!="undefined"){var f=new FileReader;f.onloadend=function(){var C=f.result;C=i?C:C.replace(/^data:[^;]*;/,"data:attachment/file;"),t?t.location.href=C:location=C,t=null},f.readAsDataURL(o)}else{var p=s.URL||s.webkitURL,v=p.createObjectURL(o);t?t.location=v:location.href=v,t=null,setTimeout(function(){p.revokeObjectURL(v)},4e4)}});s.saveAs=u.saveAs=u,un.exports=u})}).call(this,De("IyRk"))},JhKR:function(un,wr){var De=0,Je=1,L=2,be=3,pt=4,dt=5,Yt=6,Q=/[a-z0-9_-]/i,b=/[\s\t]/,s=function(r){for(var e=!0,t=De,a="",l=0,i,f,p=[];;){if(f=r[l],t===De){if(!f&&e)break;if(!f&&!e)throw new Error("Parse error");if(f==='"'||f==="'")i=f,t=Je,e=!1;else if(!b.test(f))if(Q.test(f))t=be,e=!1,l--;else throw new Error("Parse error")}else if(t===Je)if(f)f==="\\"?t=L:f===i?(p.push(a),a="",t=pt):a+=f;else throw new Error("Parse Error");else if(t===L)if(f===i||f==="\\")a+=f,t=Je;else throw new Error("Parse error");else if(t===be)if(f)Q.test(f)?a+=f:f===","?(p.push(a),a="",t=De):b.test(f)?t=dt:f==="\\"&&(t=Yt);else{p.push(a);break}else if(t===Yt){if(/[0-9a-f]/i.test(f))throw new Error("Parse error");a+=f,t=be}else if(t===dt)if(f){if(Q.test(f))a+=" "+f,t=be;else if(f===",")p.push(a),a="",t=De;else if(!b.test(f))throw new Error("Parse error")}else{p.push(a);break}else if(t===pt)if(f){if(f===",")t=De;else if(!b.test(f))throw new Error("Parse error")}else break;l++}return p},h=/[^a-z0-9_-]/i,u=function(r,e){var t=e&&e.quote||'"';if(t!=='"'&&t!=="'")throw new Error("Quote must be `'` or `\"`");for(var a=new RegExp(t,"g"),l=[],i=0;i<r.length;++i){var f=r[i];h.test(f)&&(f=f.replace(/\\/g,"\\\\").replace(a,"\\"+t),f=t+f+t),l.push(f)}return l.join(", ")};un.exports={parse:s,stringify:u}},LvDl:function(un,wr,De){(function(Je,L){var be;/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(){var pt,dt="4.17.21",Yt=200,Q="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",b="Expected a function",s="Invalid `variable` option passed into `_.template`",h="__lodash_hash_undefined__",u=500,o="__lodash_placeholder__",r=1,e=2,t=4,a=1,l=2,i=1,f=2,p=4,v=8,C=16,D=32,V=64,it=128,Ct=256,Dt=512,Ut=30,pe="...",Ee=800,At=16,Gt=1,Z=2,_e=3,er=1/0,tt=9007199254740991,te=17976931348623157e292,Y=0/0,lt=4294967295,$=lt-1,F=lt>>>1,et=[["ary",it],["bind",i],["bindKey",f],["curry",v],["curryRight",C],["flip",Dt],["partial",D],["partialRight",V],["rearg",Ct]],ht="[object Arguments]",nt="[object Array]",jt="[object AsyncFunction]",xt="[object Boolean]",Mt="[object Date]",ae="[object DOMException]",se="[object Error]",Zt="[object Function]",Wt="[object GeneratorFunction]",oe="[object Map]",N="[object Number]",zt="[object Null]",U="[object Object]",x="[object Promise]",A="[object Proxy]",H="[object RegExp]",at="[object Set]",Ot="[object String]",_t="[object Symbol]",we="[object Undefined]",Me="[object WeakMap]",Se="[object WeakSet]",Ge="[object ArrayBuffer]",pr="[object DataView]",Ar="[object Float32Array]",Kr="[object Float64Array]",_n="[object Int8Array]",Cn="[object Int16Array]",Wn="[object Int32Array]",Yr="[object Uint8Array]",zn="[object Uint8ClampedArray]",pi="[object Uint16Array]",$n="[object Uint32Array]",ki=/\b__p \+= '';/g,ni=/\b(__p \+=) '' \+/g,Ia=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Mr=/&(?:amp|lt|gt|quot|#39);/g,Ki=/[&<>"']/g,va=RegExp(Mr.source),ya=RegExp(Ki.source),$o=/<%-([\s\S]+?)%>/g,Qs=/<%([\s\S]+?)%>/g,Xa=/<%=([\s\S]+?)%>/g,Co=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Ao=/^\w*$/,hs=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,cs=/[\\^$.*+?()[\]{}|]/g,Ll=RegExp(cs.source),to=/^\s+/,ks=/\s/,Es=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,To=/\{\n\/\* \[wrapped with (.+)\] \*/,Qo=/,? & /,Fs=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,Va=/[()=,{}\[\]\/\s]/,tl=/\\(\\)?/g,el=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,X=/\w*$/,B=/^[-+]0x[0-9a-f]+$/i,O=/^0b[01]+$/i,q=/^\[object .+?Constructor\]$/,st=/^0o[0-7]+$/i,Pt=/^(?:0|[1-9]\d*)$/,Ht=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Xt=/($^)/,ve=/['\n\r\u2028\u2029\\]/g,Ne="\\ud800-\\udfff",ne="\\u0300-\\u036f",je="\\ufe20-\\ufe2f",jr="\\u20d0-\\u20ff",Rt=ne+je+jr,J="\\u2700-\\u27bf",rt="a-z\\xdf-\\xf6\\xf8-\\xff",kt="\\xac\\xb1\\xd7\\xf7",Jt="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",ge="\\u2000-\\u206f",Ue=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",rr="A-Z\\xc0-\\xd6\\xd8-\\xde",nr="\\ufe0e\\ufe0f",He=kt+Jt+ge+Ue,Sr="['\u2019]",br="["+Ne+"]",ln="["+He+"]",Qr="["+Rt+"]",Br="\\d+",xn="["+J+"]",tn="["+rt+"]",vn="[^"+Ne+He+Br+J+rt+rr+"]",Xn="\\ud83c[\\udffb-\\udfff]",Fn="(?:"+Qr+"|"+Xn+")",k="[^"+Ne+"]",g="(?:\\ud83c[\\udde6-\\uddff]){2}",y="[\\ud800-\\udbff][\\udc00-\\udfff]",w="["+rr+"]",T="\\u200d",S="(?:"+tn+"|"+vn+")",P="(?:"+w+"|"+vn+")",j="(?:"+Sr+"(?:d|ll|m|re|s|t|ve))?",I="(?:"+Sr+"(?:D|LL|M|RE|S|T|VE))?",K=Fn+"?",bt="["+nr+"]?",vt="(?:"+T+"(?:"+[k,g,y].join("|")+")"+bt+K+")*",Lt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",G="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Vt=bt+K+vt,Ft="(?:"+[xn,g,y].join("|")+")"+Vt,$t="(?:"+[k+Qr+"?",Qr,g,y,br].join("|")+")",Nt=RegExp(Sr,"g"),gt=RegExp(Qr,"g"),Ae=RegExp(Xn+"(?="+Xn+")|"+$t+Vt,"g"),Be=RegExp([w+"?"+tn+"+"+j+"(?="+[ln,w,"$"].join("|")+")",P+"+"+I+"(?="+[ln,w+S,"$"].join("|")+")",w+"?"+S+"+"+j,w+"+"+I,G,Lt,Br,Ft].join("|"),"g"),Qe=RegExp("["+T+Ne+Rt+nr+"]"),fr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Ye=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],mr=-1,he={};he[Ar]=he[Kr]=he[_n]=he[Cn]=he[Wn]=he[Yr]=he[zn]=he[pi]=he[$n]=!0,he[ht]=he[nt]=he[Ge]=he[xt]=he[pr]=he[Mt]=he[se]=he[Zt]=he[oe]=he[N]=he[U]=he[H]=he[at]=he[Ot]=he[Me]=!1;var Ve={};Ve[ht]=Ve[nt]=Ve[Ge]=Ve[pr]=Ve[xt]=Ve[Mt]=Ve[Ar]=Ve[Kr]=Ve[_n]=Ve[Cn]=Ve[Wn]=Ve[oe]=Ve[N]=Ve[U]=Ve[H]=Ve[at]=Ve[Ot]=Ve[_t]=Ve[Yr]=Ve[zn]=Ve[pi]=Ve[$n]=!0,Ve[se]=Ve[Zt]=Ve[Me]=!1;var ie={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Bt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},ue={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},le={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},$e=parseFloat,Ke=parseInt,gr=typeof Je=="object"&&Je&&Je.Object===Object&&Je,Re=typeof self=="object"&&self&&self.Object===Object&&self,_r=gr||Re||Function("return this")(),tr=wr&&!wr.nodeType&&wr,Tr=tr&&typeof L=="object"&&L&&!L.nodeType&&L,ee=Tr&&Tr.exports===tr,wt=ee&&gr.process,Qt=function(){try{var xe=Tr&&Tr.require&&Tr.require("util").types;return xe||wt&&wt.binding&&wt.binding("util")}catch(Ze){}}(),me=Qt&&Qt.isArrayBuffer,Oe=Qt&&Qt.isDate,Ie=Qt&&Qt.isMap,ar=Qt&&Qt.isRegExp,We=Qt&&Qt.isSet,Xe=Qt&&Qt.isTypedArray;function vr(xe,Ze,ze){switch(ze.length){case 0:return xe.call(Ze);case 1:return xe.call(Ze,ze[0]);case 2:return xe.call(Ze,ze[0],ze[1]);case 3:return xe.call(Ze,ze[0],ze[1],ze[2])}return xe.apply(Ze,ze)}function Wr(xe,Ze,ze,Ur){for(var an=-1,Nn=xe==null?0:xe.length;++an<Nn;){var ti=xe[an];Ze(Ur,ti,ze(ti),xe)}return Ur}function Pr(xe,Ze){for(var ze=-1,Ur=xe==null?0:xe.length;++ze<Ur&&Ze(xe[ze],ze,xe)!==!1;);return xe}function rn(xe,Ze){for(var ze=xe==null?0:xe.length;ze--&&Ze(xe[ze],ze,xe)!==!1;);return xe}function Xr(xe,Ze){for(var ze=-1,Ur=xe==null?0:xe.length;++ze<Ur;)if(!Ze(xe[ze],ze,xe))return!1;return!0}function qt(xe,Ze){for(var ze=-1,Ur=xe==null?0:xe.length,an=0,Nn=[];++ze<Ur;){var ti=xe[ze];Ze(ti,ze,xe)&&(Nn[an++]=ti)}return Nn}function sr(xe,Ze){var ze=xe==null?0:xe.length;return!!ze&&Zr(xe,Ze,0)>-1}function Fr(xe,Ze,ze){for(var Ur=-1,an=xe==null?0:xe.length;++Ur<an;)if(ze(Ze,xe[Ur]))return!0;return!1}function ir(xe,Ze){for(var ze=-1,Ur=xe==null?0:xe.length,an=Array(Ur);++ze<Ur;)an[ze]=Ze(xe[ze],ze,xe);return an}function Ir(xe,Ze){for(var ze=-1,Ur=Ze.length,an=xe.length;++ze<Ur;)xe[an+ze]=Ze[ze];return xe}function Or(xe,Ze,ze,Ur){var an=-1,Nn=xe==null?0:xe.length;for(Ur&&Nn&&(ze=xe[++an]);++an<Nn;)ze=Ze(ze,xe[an],an,xe);return ze}function zr(xe,Ze,ze,Ur){var an=xe==null?0:xe.length;for(Ur&&an&&(ze=xe[--an]);an--;)ze=Ze(ze,xe[an],an,xe);return ze}function Hr(xe,Ze){for(var ze=-1,Ur=xe==null?0:xe.length;++ze<Ur;)if(Ze(xe[ze],ze,xe))return!0;return!1}var Vr=Vn("length");function In(xe){return xe.split("")}function en(xe){return xe.match(Fs)||[]}function On(xe,Ze,ze){var Ur;return ze(xe,function(an,Nn,ti){if(Ze(an,Nn,ti))return Ur=Nn,!1}),Ur}function Gn(xe,Ze,ze,Ur){for(var an=xe.length,Nn=ze+(Ur?1:-1);Ur?Nn--:++Nn<an;)if(Ze(xe[Nn],Nn,xe))return Nn;return-1}function Zr(xe,Ze,ze){return Ze===Ze?Na(xe,Ze,ze):Gn(xe,Nr,ze)}function fn(xe,Ze,ze,Ur){for(var an=ze-1,Nn=xe.length;++an<Nn;)if(Ur(xe[an],Ze))return an;return-1}function Nr(xe){return xe!==xe}function Bi(xe,Ze){var ze=xe==null?0:xe.length;return ze?ba(xe,Ze)/ze:Y}function Vn(xe){return function(Ze){return Ze==null?pt:Ze[xe]}}function Ci(xe){return function(Ze){return xe==null?pt:xe[Ze]}}function yn(xe,Ze,ze,Ur,an){return an(xe,function(Nn,ti,Pn){ze=Ur?(Ur=!1,Nn):Ze(ze,Nn,ti,Pn)}),ze}function gi(xe,Ze){var ze=xe.length;for(xe.sort(Ze);ze--;)xe[ze]=xe[ze].value;return xe}function ba(xe,Ze){for(var ze,Ur=-1,an=xe.length;++Ur<an;){var Nn=Ze(xe[Ur]);Nn!==pt&&(ze=ze===pt?Nn:ze+Nn)}return ze}function Bn(xe,Ze){for(var ze=-1,Ur=Array(xe);++ze<xe;)Ur[ze]=Ze(ze);return Ur}function Ka(xe,Ze){return ir(Ze,function(ze){return[ze,xe[ze]]})}function li(xe){return xe&&xe.slice(0,ia(xe)+1).replace(to,"")}function mi(xe){return function(Ze){return xe(Ze)}}function na(xe,Ze){return ir(Ze,function(ze){return xe[ze]})}function Qn(xe,Ze){return xe.has(Ze)}function hn(xe,Ze){for(var ze=-1,Ur=xe.length;++ze<Ur&&Zr(Ze,xe[ze],0)>-1;);return ze}function Un(xe,Ze){for(var ze=xe.length;ze--&&Zr(Ze,xe[ze],0)>-1;);return ze}function eo(xe,Ze){for(var ze=xe.length,Ur=0;ze--;)xe[ze]===Ze&&++Ur;return Ur}var ji=Ci(ie),Za=Ci(Bt);function Ja(xe){return"\\"+le[xe]}function nn(xe,Ze){return xe==null?pt:xe[Ze]}function Zi(xe){return Qe.test(xe)}function _a(xe){return fr.test(xe)}function fs(xe){for(var Ze,ze=[];!(Ze=xe.next()).done;)ze.push(Ze.value);return ze}function ii(xe){var Ze=-1,ze=Array(xe.size);return xe.forEach(function(Ur,an){ze[++Ze]=[an,Ur]}),ze}function Ai(xe,Ze){return function(ze){return xe(Ze(ze))}}function ai(xe,Ze){for(var ze=-1,Ur=xe.length,an=0,Nn=[];++ze<Ur;){var ti=xe[ze];(ti===Ze||ti===o)&&(xe[ze]=o,Nn[an++]=ze)}return Nn}function $a(xe){var Ze=-1,ze=Array(xe.size);return xe.forEach(function(Ur){ze[++Ze]=Ur}),ze}function Is(xe){var Ze=-1,ze=Array(xe.size);return xe.forEach(function(Ur){ze[++Ze]=[Ur,Ur]}),ze}function Na(xe,Ze,ze){for(var Ur=ze-1,an=xe.length;++Ur<an;)if(xe[Ur]===Ze)return Ur;return-1}function Qa(xe,Ze,ze){for(var Ur=ze+1;Ur--;)if(xe[Ur]===Ze)return Ur;return Ur}function zi(xe){return Zi(xe)?ts(xe):Vr(xe)}function vi(xe){return Zi(xe)?no(xe):In(xe)}function ia(xe){for(var Ze=xe.length;Ze--&&ks.test(xe.charAt(Ze)););return Ze}var ro=Ci(ue);function ts(xe){for(var Ze=Ae.lastIndex=0;Ae.test(xe);)++Ze;return Ze}function no(xe){return xe.match(Ae)||[]}function Oo(xe){return xe.match(Be)||[]}var Po=function xe(Ze){Ze=Ze==null?_r:ds.defaults(_r.Object(),Ze,ds.pick(_r,Ye));var ze=Ze.Array,Ur=Ze.Date,an=Ze.Error,Nn=Ze.Function,ti=Ze.Math,Pn=Ze.Object,rl=Ze.RegExp,kl=Ze.String,Ji=Ze.TypeError,$i=ze.prototype,io=Nn.prototype,Ns=Pn.prototype,ui=Ze["__core-js_shared__"],Ms=io.toString,Dn=Ns.hasOwnProperty,fu=0,nl=function(){var n=/[^.]+$/.exec(ui&&ui.keys&&ui.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""}(),Lo=Ns.toString,Ni=Ms.call(Pn),ao=_r._,ps=rl("^"+Ms.call(Dn).replace(cs,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),so=ee?Ze.Buffer:pt,Ma=Ze.Symbol,ko=Ze.Uint8Array,il=so?so.allocUnsafe:pt,Eo=Ai(Pn.getPrototypeOf,Pn),El=Pn.create,Fl=Ns.propertyIsEnumerable,Ds=$i.splice,Il=Ma?Ma.isConcatSpreadable:pt,aa=Ma?Ma.iterator:pt,wa=Ma?Ma.toStringTag:pt,Fo=function(){try{var n=mn(Pn,"defineProperty");return n({},"",{}),n}catch(c){}}(),Nl=Ze.clearTimeout!==_r.clearTimeout&&Ze.clearTimeout,Ti=Ur&&Ur.now!==_r.Date.now&&Ur.now,du=Ze.setTimeout!==_r.setTimeout&&Ze.setTimeout,oo=ti.ceil,Io=ti.floor,al=Pn.getOwnPropertySymbols,cn=so?so.isBuffer:pt,Da=Ze.isFinite,Ml=$i.join,Dl=Ai(Pn.keys,Pn),si=ti.max,_i=ti.min,pu=Ur.now,gu=Ze.parseInt,Rl=ti.random,sl=$i.reverse,No=mn(Ze,"DataView"),xa=mn(Ze,"Map"),Rs=mn(Ze,"Promise"),Sa=mn(Ze,"Set"),gs=mn(Ze,"WeakMap"),lo=mn(Pn,"create"),Mo=gs&&new gs,Ra={},Bl=_o(No),jl=_o(xa),ms=_o(Rs),vs=_o(Sa),zl=_o(gs),Do=Ma?Ma.prototype:pt,es=Do?Do.valueOf:pt,Ba=Do?Do.toString:pt;function mt(n){if(Si(n)&&!bn(n)&&!(n instanceof wn)){if(n instanceof Qi)return n;if(Dn.call(n,"__wrapped__"))return Ts(n)}return new Qi(n)}var Bs=function(){function n(){}return function(c){if(!bi(c))return{};if(El)return El(c);n.prototype=c;var _=new n;return n.prototype=pt,_}}();function ys(){}function Qi(n,c){this.__wrapped__=n,this.__actions__=[],this.__chain__=!!c,this.__index__=0,this.__values__=pt}mt.templateSettings={escape:$o,evaluate:Qs,interpolate:Xa,variable:"",imports:{_:mt}},mt.prototype=ys.prototype,mt.prototype.constructor=mt,Qi.prototype=Bs(ys.prototype),Qi.prototype.constructor=Qi;function wn(n){this.__wrapped__=n,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=lt,this.__views__=[]}function ol(){var n=new wn(this.__wrapped__);return n.__actions__=Wi(this.__actions__),n.__dir__=this.__dir__,n.__filtered__=this.__filtered__,n.__iteratees__=Wi(this.__iteratees__),n.__takeCount__=this.__takeCount__,n.__views__=Wi(this.__views__),n}function Ul(){if(this.__filtered__){var n=new wn(this);n.__dir__=-1,n.__filtered__=!0}else n=this.clone(),n.__dir__*=-1;return n}function Ro(){var n=this.__wrapped__.value(),c=this.__dir__,_=bn(n),R=c<0,ut=_?n.length:0,Tt=ea(0,ut,this.__views__),Kt=Tt.start,ce=Tt.end,Te=ce-Kt,cr=R?ce:Kt-1,dr=this.__iteratees__,xr=dr.length,Dr=0,Gr=_i(Te,this.__takeCount__);if(!_||!R&&ut==Te&&Gr==Te)return Wu(n,this.__actions__);var sn=[];t:for(;Te--&&Dr<Gr;){cr+=c;for(var An=-1,on=n[cr];++An<xr;){var En=dr[An],Rn=En.iteratee,Ga=En.type,ma=Rn(on);if(Ga==Z)on=ma;else if(!ma){if(Ga==Gt)continue t;break t}}sn[Dr++]=on}return sn}wn.prototype=Bs(ys.prototype),wn.prototype.constructor=wn;function rs(n){var c=-1,_=n==null?0:n.length;for(this.clear();++c<_;){var R=n[c];this.set(R[0],R[1])}}function ll(){this.__data__=lo?lo(null):{},this.size=0}function ul(n){var c=this.has(n)&&delete this.__data__[n];return this.size-=c?1:0,c}function mu(n){var c=this.__data__;if(lo){var _=c[n];return _===h?pt:_}return Dn.call(c,n)?c[n]:pt}function Bo(n){var c=this.__data__;return lo?c[n]!==pt:Dn.call(c,n)}function hl(n,c){var _=this.__data__;return this.size+=this.has(n)?0:1,_[n]=lo&&c===pt?h:c,this}rs.prototype.clear=ll,rs.prototype.delete=ul,rs.prototype.get=mu,rs.prototype.has=Bo,rs.prototype.set=hl;function sa(n){var c=-1,_=n==null?0:n.length;for(this.clear();++c<_;){var R=n[c];this.set(R[0],R[1])}}function ns(){this.__data__=[],this.size=0}function cl(n){var c=this.__data__,_=js(c,n);if(_<0)return!1;var R=c.length-1;return _==R?c.pop():Ds.call(c,_,1),--this.size,!0}function M(n){var c=this.__data__,_=js(c,n);return _<0?pt:c[_][1]}function z(n){return js(this.__data__,n)>-1}function Et(n,c){var _=this.__data__,R=js(_,n);return R<0?(++this.size,_.push([n,c])):_[R][1]=c,this}sa.prototype.clear=ns,sa.prototype.delete=cl,sa.prototype.get=M,sa.prototype.has=z,sa.prototype.set=Et;function re(n){var c=-1,_=n==null?0:n.length;for(this.clear();++c<_;){var R=n[c];this.set(R[0],R[1])}}function Le(){this.size=0,this.__data__={hash:new rs,map:new(xa||sa),string:new rs}}function Fe(n){var c=jn(this,n).delete(n);return this.size-=c?1:0,c}function yr(n){return jn(this,n).get(n)}function Cr(n){return jn(this,n).has(n)}function qr(n,c){var _=jn(this,n),R=_.size;return _.set(n,c),this.size+=_.size==R?0:1,this}re.prototype.clear=Le,re.prototype.delete=Fe,re.prototype.get=yr,re.prototype.has=Cr,re.prototype.set=qr;function $r(n){var c=-1,_=n==null?0:n.length;for(this.__data__=new re;++c<_;)this.add(n[c])}function pn(n){return this.__data__.set(n,h),this}function Mn(n){return this.__data__.has(n)}$r.prototype.add=$r.prototype.push=pn,$r.prototype.has=Mn;function Tn(n){var c=this.__data__=new sa(n);this.size=c.size}function oi(){this.__data__=new sa,this.size=0}function ri(n){var c=this.__data__,_=c.delete(n);return this.size=c.size,_}function qi(n){return this.__data__.get(n)}function wi(n){return this.__data__.has(n)}function ja(n,c){var _=this.__data__;if(_ instanceof sa){var R=_.__data__;if(!xa||R.length<Yt-1)return R.push([n,c]),this.size=++_.size,this;_=this.__data__=new re(R)}return _.set(n,c),this.size=_.size,this}Tn.prototype.clear=oi,Tn.prototype.delete=ri,Tn.prototype.get=qi,Tn.prototype.has=wi,Tn.prototype.set=ja;function uo(n,c){var _=bn(n),R=!_&&Pl(n),ut=!_&&!R&&Jo(n),Tt=!_&&!R&&!ut&&hu(n),Kt=_||R||ut||Tt,ce=Kt?Bn(n.length,kl):[],Te=ce.length;for(var cr in n)(c||Dn.call(n,cr))&&!(Kt&&(cr=="length"||ut&&(cr=="offset"||cr=="parent")||Tt&&(cr=="buffer"||cr=="byteLength"||cr=="byteOffset")||fi(cr,Te)))&&ce.push(cr);return ce}function fl(n){var c=n.length;return c?n[Zl(0,c-1)]:pt}function bs(n,c){return bo(Wi(n),as(c,0,n.length))}function dl(n){return bo(Wi(n))}function ho(n,c,_){(_!==pt&&!Ps(n[c],_)||_===pt&&!(c in n))&&Ui(n,c,_)}function is(n,c,_){var R=n[c];(!(Dn.call(n,c)&&Ps(R,_))||_===pt&&!(c in n))&&Ui(n,c,_)}function js(n,c){for(var _=n.length;_--;)if(Ps(n[_][0],c))return _;return-1}function pl(n,c,_,R){return Ei(n,function(ut,Tt,Kt){c(R,ut,_(ut),Kt)}),R}function co(n,c){return n&&Wa(c,Hi(c),n)}function oa(n,c){return n&&Wa(c,Ea(c),n)}function Ui(n,c,_){c=="__proto__"&&Fo?Fo(n,c,{configurable:!0,enumerable:!0,value:_,writable:!0}):n[c]=_}function zs(n,c){for(var _=-1,R=c.length,ut=ze(R),Tt=n==null;++_<R;)ut[_]=Tt?pt:jh(n,c[_]);return ut}function as(n,c,_){return n===n&&(_!==pt&&(n=n<=_?n:_),c!==pt&&(n=n>=c?n:c)),n}function Mi(n,c,_,R,ut,Tt){var Kt,ce=c&r,Te=c&e,cr=c&t;if(_&&(Kt=ut?_(n,R,ut,Tt):_(n)),Kt!==pt)return Kt;if(!bi(n))return n;var dr=bn(n);if(dr){if(Kt=Yn(n),!ce)return Wi(n,Kt)}else{var xr=kn(n),Dr=xr==Zt||xr==Wt;if(Jo(n))return qu(n,ce);if(xr==U||xr==ht||Dr&&!ut){if(Kt=Te||Dr?{}:ra(n),!ce)return Te?Ku(n,oa(Kt,n)):Sh(n,co(Kt,n))}else{if(!Ve[xr])return ut?n:{};Kt=pa(n,xr,ce)}}Tt||(Tt=new Tn);var Gr=Tt.get(n);if(Gr)return Gr;Tt.set(n,Kt),lc(n)?n.forEach(function(on){Kt.add(Mi(on,c,_,on,n,Tt))}):sc(n)&&n.forEach(function(on,En){Kt.set(En,Mi(on,c,_,En,n,Tt))});var sn=cr?Te?Rr:lr:Te?Ea:Hi,An=dr?pt:sn(n);return Pr(An||n,function(on,En){An&&(En=on,on=n[En]),is(Kt,En,Mi(on,c,_,En,n,Tt))}),Kt}function Gi(n){var c=Hi(n);return function(_){return Wl(_,n,c)}}function Wl(n,c,_){var R=_.length;if(n==null)return!R;for(n=Pn(n);R--;){var ut=_[R],Tt=c[ut],Kt=n[ut];if(Kt===pt&&!(ut in n)||!Tt(Kt))return!1}return!0}function jo(n,c,_){if(typeof n!="function")throw new Ji(b);return Ks(function(){n.apply(pt,_)},c)}function fo(n,c,_,R){var ut=-1,Tt=sr,Kt=!0,ce=n.length,Te=[],cr=c.length;if(!ce)return Te;_&&(c=ir(c,mi(_))),R?(Tt=Fr,Kt=!1):c.length>=Yt&&(Tt=Qn,Kt=!1,c=new $r(c));t:for(;++ut<ce;){var dr=n[ut],xr=_==null?dr:_(dr);if(dr=R||dr!==0?dr:0,Kt&&xr===xr){for(var Dr=cr;Dr--;)if(c[Dr]===xr)continue t;Te.push(dr)}else Tt(c,xr,R)||Te.push(dr)}return Te}var Ei=Zu(Oi),po=Zu(Us,!0);function vu(n,c){var _=!0;return Ei(n,function(R,ut,Tt){return _=!!c(R,ut,Tt),_}),_}function zo(n,c,_){for(var R=-1,ut=n.length;++R<ut;){var Tt=n[R],Kt=c(Tt);if(Kt!=null&&(ce===pt?Kt===Kt&&!qa(Kt):_(Kt,ce)))var ce=Kt,Te=Tt}return Te}function go(n,c,_,R){var ut=n.length;for(_=Sn(_),_<0&&(_=-_>ut?0:ut+_),R=R===pt||R>ut?ut:Sn(R),R<0&&(R+=ut),R=_>R?0:hc(R);_<R;)n[_++]=c;return n}function Ca(n,c){var _=[];return Ei(n,function(R,ut,Tt){c(R,ut,Tt)&&_.push(R)}),_}function Kn(n,c,_,R,ut){var Tt=-1,Kt=n.length;for(_||(_=Ri),ut||(ut=[]);++Tt<Kt;){var ce=n[Tt];c>0&&_(ce)?c>1?Kn(ce,c-1,_,R,ut):Ir(ut,ce):R||(ut[ut.length]=ce)}return ut}var _s=Ju(),za=Ju(!0);function Oi(n,c){return n&&_s(n,c,Hi)}function Us(n,c){return n&&za(n,c,Hi)}function ta(n,c){return qt(c,function(_){return wo(n[_])})}function ss(n,c){c=Ys(c,n);for(var _=0,R=c.length;n!=null&&_<R;)n=n[ls(c[_++])];return _&&_==R?n:pt}function Ws(n,c,_){var R=c(n);return bn(n)?R:Ir(R,_(n))}function yi(n){return n==null?n===pt?we:zt:wa&&wa in Pn(n)?Jn(n):_l(n)}function os(n,c){return n>c}function Aa(n,c){return n!=null&&Dn.call(n,c)}function Hs(n,c){return n!=null&&c in Pn(n)}function Uo(n,c,_){return n>=_i(c,_)&&n<si(c,_)}function ws(n,c,_){for(var R=_?Fr:sr,ut=n[0].length,Tt=n.length,Kt=Tt,ce=ze(Tt),Te=Infinity,cr=[];Kt--;){var dr=n[Kt];Kt&&c&&(dr=ir(dr,mi(c))),Te=_i(dr.length,Te),ce[Kt]=!_&&(c||ut>=120&&dr.length>=120)?new $r(Kt&&dr):pt}dr=n[0];var xr=-1,Dr=ce[0];t:for(;++xr<ut&&cr.length<Te;){var Gr=dr[xr],sn=c?c(Gr):Gr;if(Gr=_||Gr!==0?Gr:0,!(Dr?Qn(Dr,sn):R(cr,sn,_))){for(Kt=Tt;--Kt;){var An=ce[Kt];if(!(An?Qn(An,sn):R(n[Kt],sn,_)))continue t}Dr&&Dr.push(sn),cr.push(Gr)}}return cr}function qs(n,c,_,R){return Oi(n,function(ut,Tt,Kt){c(R,_(ut),Tt,Kt)}),R}function xs(n,c,_){c=Ys(c,n),n=La(n,c);var R=n==null?n:n[ls(ga(c))];return R==null?pt:vr(R,n,_)}function la(n){return Si(n)&&yi(n)==ht}function Ss(n){return Si(n)&&yi(n)==Ge}function hi(n){return Si(n)&&yi(n)==Mt}function Hn(n,c,_,R,ut){return n===c?!0:n==null||c==null||!Si(n)&&!Si(c)?n!==n&&c!==c:Di(n,c,_,R,Hn,ut)}function Di(n,c,_,R,ut,Tt){var Kt=bn(n),ce=bn(c),Te=Kt?nt:kn(n),cr=ce?nt:kn(c);Te=Te==ht?U:Te,cr=cr==ht?U:cr;var dr=Te==U,xr=cr==U,Dr=Te==cr;if(Dr&&Jo(n)){if(!Jo(c))return!1;Kt=!0,dr=!1}if(Dr&&!dr)return Tt||(Tt=new Tn),Kt||hu(n)?de(n,c,_,R,ut,Tt):ye(n,c,Te,_,R,ut,Tt);if(!(_&a)){var Gr=dr&&Dn.call(n,"__wrapped__"),sn=xr&&Dn.call(c,"__wrapped__");if(Gr||sn){var An=Gr?n.value():n,on=sn?c.value():c;return Tt||(Tt=new Tn),ut(An,on,_,R,Tt)}}return Dr?(Tt||(Tt=new Tn),or(n,c,_,R,ut,Tt)):!1}function ci(n){return Si(n)&&kn(n)==oe}function Yi(n,c,_,R){var ut=_.length,Tt=ut,Kt=!R;if(n==null)return!Tt;for(n=Pn(n);ut--;){var ce=_[ut];if(Kt&&ce[2]?ce[1]!==n[ce[0]]:!(ce[0]in n))return!1}for(;++ut<Tt;){ce=_[ut];var Te=ce[0],cr=n[Te],dr=ce[1];if(Kt&&ce[2]){if(cr===pt&&!(Te in n))return!1}else{var xr=new Tn;if(R)var Dr=R(cr,dr,Te,n,c,xr);if(!(Dr===pt?Hn(dr,cr,a|l,R,xr):Dr))return!1}}return!0}function Wo(n){if(!bi(n)||yo(n))return!1;var c=wo(n)?ps:q;return c.test(_o(n))}function Cs(n){return Si(n)&&yi(n)==H}function Hl(n){return Si(n)&&kn(n)==at}function ju(n){return Si(n)&&mh(n.length)&&!!he[yi(n)]}function yu(n){return typeof n=="function"?n:n==null?Fa:typeof n=="object"?bn(n)?Yl(n[0],n[1]):_u(n):wc(n)}function ql(n){if(!Pa(n))return Dl(n);var c=[];for(var _ in Pn(n))Dn.call(n,_)&&_!="constructor"&&c.push(_);return c}function zu(n){if(!bi(n))return iu(n);var c=Pa(n),_=[];for(var R in n)R=="constructor"&&(c||!Dn.call(n,R))||_.push(R);return _}function Gl(n,c){return n<c}function bu(n,c){var _=-1,R=ka(n)?ze(n.length):[];return Ei(n,function(ut,Tt,Kt){R[++_]=c(ut,Tt,Kt)}),R}function _u(n){var c=Ln(n);return c.length==1&&c[0][2]?nu(c[0][0],c[0][1]):function(_){return _===n||Yi(_,n,c)}}function Yl(n,c){return Oa(n)&&di(c)?nu(ls(n),c):function(_){var R=jh(_,n);return R===pt&&R===c?zh(_,n):Hn(c,R,a|l)}}function mo(n,c,_,R,ut){n!==c&&_s(c,function(Tt,Kt){if(ut||(ut=new Tn),bi(Tt))ua(n,c,Kt,_,mo,R,ut);else{var ce=R?R(Vs(n,Kt),Tt,Kt+"",n,c,ut):pt;ce===pt&&(ce=Tt),ho(n,Kt,ce)}},Ea)}function ua(n,c,_,R,ut,Tt,Kt){var ce=Vs(n,_),Te=Vs(c,_),cr=Kt.get(Te);if(cr){ho(n,_,cr);return}var dr=Tt?Tt(ce,Te,_+"",n,c,Kt):pt,xr=dr===pt;if(xr){var Dr=bn(Te),Gr=!Dr&&Jo(Te),sn=!Dr&&!Gr&&hu(Te);dr=Te,Dr||Gr||sn?bn(ce)?dr=ce:Pi(ce)?dr=Wi(ce):Gr?(xr=!1,dr=qu(Te,!0)):sn?(xr=!1,dr=Ou(Te,!0)):dr=[]:Bu(Te)||Pl(Te)?(dr=ce,Pl(ce)?dr=cc(ce):(!bi(ce)||wo(ce))&&(dr=ra(Te))):xr=!1}xr&&(Kt.set(Te,dr),ut(dr,Te,R,Tt,Kt),Kt.delete(Te)),ho(n,_,dr)}function ha(n,c){var _=n.length;if(!!_)return c+=c<0?_:0,fi(c,_)?n[c]:pt}function gl(n,c,_){c.length?c=ir(c,function(Tt){return bn(Tt)?function(Kt){return ss(Kt,Tt.length===1?Tt[0]:Tt)}:Tt}):c=[Fa];var R=-1;c=ir(c,mi(Er()));var ut=bu(n,function(Tt,Kt,ce){var Te=ir(c,function(cr){return cr(Tt)});return{criteria:Te,index:++R,value:Tt}});return gi(ut,function(Tt,Kt){return eu(Tt,Kt,_)})}function Xl(n,c){return wu(n,c,function(_,R){return zh(n,R)})}function wu(n,c,_){for(var R=-1,ut=c.length,Tt={};++R<ut;){var Kt=c[R],ce=ss(n,Kt);_(ce,Kt)&&vl(Tt,Ys(Kt,n),ce)}return Tt}function Vl(n){return function(c){return ss(c,n)}}function Ho(n,c,_,R){var ut=R?fn:Zr,Tt=-1,Kt=c.length,ce=n;for(n===c&&(c=Wi(c)),_&&(ce=ir(n,mi(_)));++Tt<Kt;)for(var Te=0,cr=c[Tt],dr=_?_(cr):cr;(Te=ut(ce,dr,Te,R))>-1;)ce!==n&&Ds.call(ce,Te,1),Ds.call(n,Te,1);return n}function Kl(n,c){for(var _=n?c.length:0,R=_-1;_--;){var ut=c[_];if(_==R||ut!==Tt){var Tt=ut;fi(ut)?Ds.call(n,ut,1):Ql(n,ut)}}return n}function Zl(n,c){return n+Io(Rl()*(c-n+1))}function xu(n,c,_,R){for(var ut=-1,Tt=si(oo((c-n)/(_||1)),0),Kt=ze(Tt);Tt--;)Kt[R?Tt:++ut]=n,n+=_;return Kt}function ml(n,c){var _="";if(!n||c<1||c>tt)return _;do c%2&&(_+=n),c=Io(c/2),c&&(n+=n);while(c);return _}function gn(n,c){return au(wl(n,c,Fa),n+"")}function Su(n){return fl(cu(n))}function bh(n,c){var _=cu(n);return bo(_,as(c,0,_.length))}function vl(n,c,_,R){if(!bi(n))return n;c=Ys(c,n);for(var ut=-1,Tt=c.length,Kt=Tt-1,ce=n;ce!=null&&++ut<Tt;){var Te=ls(c[ut]),cr=_;if(Te==="__proto__"||Te==="constructor"||Te==="prototype")return n;if(ut!=Kt){var dr=ce[Te];cr=R?R(dr,Te,ce):pt,cr===pt&&(cr=bi(dr)?dr:fi(c[ut+1])?[]:{})}is(ce,Te,cr),ce=ce[Te]}return n}var Cu=Mo?function(n,c){return Mo.set(n,c),n}:Fa,_h=Fo?function(n,c){return Fo(n,"toString",{configurable:!0,enumerable:!1,value:Wh(c),writable:!0})}:Fa;function wh(n){return bo(cu(n))}function Ta(n,c,_){var R=-1,ut=n.length;c<0&&(c=-c>ut?0:ut+c),_=_>ut?ut:_,_<0&&(_+=ut),ut=c>_?0:_-c>>>0,c>>>=0;for(var Tt=ze(ut);++R<ut;)Tt[R]=n[R+c];return Tt}function xh(n,c){var _;return Ei(n,function(R,ut,Tt){return _=c(R,ut,Tt),!_}),!!_}function Jl(n,c,_){var R=0,ut=n==null?R:n.length;if(typeof c=="number"&&c===c&&ut<=F){for(;R<ut;){var Tt=R+ut>>>1,Kt=n[Tt];Kt!==null&&!qa(Kt)&&(_?Kt<=c:Kt<c)?R=Tt+1:ut=Tt}return ut}return yl(n,c,Fa,_)}function yl(n,c,_,R){var ut=0,Tt=n==null?0:n.length;if(Tt===0)return 0;c=_(c);for(var Kt=c!==c,ce=c===null,Te=qa(c),cr=c===pt;ut<Tt;){var dr=Io((ut+Tt)/2),xr=_(n[dr]),Dr=xr!==pt,Gr=xr===null,sn=xr===xr,An=qa(xr);if(Kt)var on=R||sn;else cr?on=sn&&(R||Dr):ce?on=sn&&Dr&&(R||!Gr):Te?on=sn&&Dr&&!Gr&&(R||!An):Gr||An?on=!1:on=R?xr<=c:xr<c;on?ut=dr+1:Tt=dr}return _i(Tt,$)}function $l(n,c){for(var _=-1,R=n.length,ut=0,Tt=[];++_<R;){var Kt=n[_],ce=c?c(Kt):Kt;if(!_||!Ps(ce,Te)){var Te=ce;Tt[ut++]=Kt===0?0:Kt}}return Tt}function qo(n){return typeof n=="number"?n:qa(n)?Y:+n}function ca(n){if(typeof n=="string")return n;if(bn(n))return ir(n,ca)+"";if(qa(n))return Ba?Ba.call(n):"";var c=n+"";return c=="0"&&1/n==-er?"-0":c}function Gs(n,c,_){var R=-1,ut=sr,Tt=n.length,Kt=!0,ce=[],Te=ce;if(_)Kt=!1,ut=Fr;else if(Tt>=Yt){var cr=c?null:fe(n);if(cr)return $a(cr);Kt=!1,ut=Qn,Te=new $r}else Te=c?[]:ce;t:for(;++R<Tt;){var dr=n[R],xr=c?c(dr):dr;if(dr=_||dr!==0?dr:0,Kt&&xr===xr){for(var Dr=Te.length;Dr--;)if(Te[Dr]===xr)continue t;c&&Te.push(xr),ce.push(dr)}else ut(Te,xr,_)||(Te!==ce&&Te.push(xr),ce.push(dr))}return ce}function Ql(n,c){return c=Ys(c,n),n=La(n,c),n==null||delete n[ls(ga(c))]}function Uu(n,c,_,R){return vl(n,c,_(ss(n,c)),R)}function tu(n,c,_,R){for(var ut=n.length,Tt=R?ut:-1;(R?Tt--:++Tt<ut)&&c(n[Tt],Tt,n););return _?Ta(n,R?0:Tt,R?Tt+1:ut):Ta(n,R?Tt+1:0,R?ut:Tt)}function Wu(n,c){var _=n;return _ instanceof wn&&(_=_.value()),Or(c,function(R,ut){return ut.func.apply(ut.thisArg,Ir([R],ut.args))},_)}function Au(n,c,_){var R=n.length;if(R<2)return R?Gs(n[0]):[];for(var ut=-1,Tt=ze(R);++ut<R;)for(var Kt=n[ut],ce=-1;++ce<R;)ce!=ut&&(Tt[ut]=fo(Tt[ut]||Kt,n[ce],c,_));return Gs(Kn(Tt,1),c,_)}function As(n,c,_){for(var R=-1,ut=n.length,Tt=c.length,Kt={};++R<ut;){var ce=R<Tt?c[R]:pt;_(Kt,n[R],ce)}return Kt}function fa(n){return Pi(n)?n:[]}function Ua(n){return typeof n=="function"?n:Fa}function Ys(n,c){return bn(n)?n:Oa(n,c)?[n]:Ko(Zn(n))}var Hu=gn;function Xi(n,c,_){var R=n.length;return _=_===pt?R:_,!c&&_>=R?n:Ta(n,c,_)}var da=Nl||function(n){return _r.clearTimeout(n)};function qu(n,c){if(c)return n.slice();var _=n.length,R=il?il(_):new n.constructor(_);return n.copy(R),R}function Tu(n){var c=new n.constructor(n.byteLength);return new ko(c).set(new ko(n)),c}function Gu(n,c){var _=c?Tu(n.buffer):n.buffer;return new n.constructor(_,n.byteOffset,n.byteLength)}function Yu(n){var c=new n.constructor(n.source,X.exec(n));return c.lastIndex=n.lastIndex,c}function Xu(n){return es?Pn(es.call(n)):{}}function Ou(n,c){var _=c?Tu(n.buffer):n.buffer;return new n.constructor(_,n.byteOffset,n.length)}function Vu(n,c){if(n!==c){var _=n!==pt,R=n===null,ut=n===n,Tt=qa(n),Kt=c!==pt,ce=c===null,Te=c===c,cr=qa(c);if(!ce&&!cr&&!Tt&&n>c||Tt&&Kt&&Te&&!ce&&!cr||R&&Kt&&Te||!_&&Te||!ut)return 1;if(!R&&!Tt&&!cr&&n<c||cr&&_&&ut&&!R&&!Tt||ce&&_&&ut||!Kt&&ut||!Te)return-1}return 0}function eu(n,c,_){for(var R=-1,ut=n.criteria,Tt=c.criteria,Kt=ut.length,ce=_.length;++R<Kt;){var Te=Vu(ut[R],Tt[R]);if(Te){if(R>=ce)return Te;var cr=_[R];return Te*(cr=="desc"?-1:1)}}return n.index-c.index}function bl(n,c,_,R){for(var ut=-1,Tt=n.length,Kt=_.length,ce=-1,Te=c.length,cr=si(Tt-Kt,0),dr=ze(Te+cr),xr=!R;++ce<Te;)dr[ce]=c[ce];for(;++ut<Kt;)(xr||ut<Tt)&&(dr[_[ut]]=n[ut]);for(;cr--;)dr[ce++]=n[ut++];return dr}function Go(n,c,_,R){for(var ut=-1,Tt=n.length,Kt=-1,ce=_.length,Te=-1,cr=c.length,dr=si(Tt-ce,0),xr=ze(dr+cr),Dr=!R;++ut<dr;)xr[ut]=n[ut];for(var Gr=ut;++Te<cr;)xr[Gr+Te]=c[Te];for(;++Kt<ce;)(Dr||ut<Tt)&&(xr[Gr+_[Kt]]=n[ut++]);return xr}function Wi(n,c){var _=-1,R=n.length;for(c||(c=ze(R));++_<R;)c[_]=n[_];return c}function Wa(n,c,_,R){var ut=!_;_||(_={});for(var Tt=-1,Kt=c.length;++Tt<Kt;){var ce=c[Tt],Te=R?R(_[ce],n[ce],ce,_,n):pt;Te===pt&&(Te=n[ce]),ut?Ui(_,ce,Te):is(_,ce,Te)}return _}function Sh(n,c){return Wa(n,qn(n),c)}function Ku(n,c){return Wa(n,dn(n),c)}function ru(n,c){return function(_,R){var ut=bn(_)?Wr:pl,Tt=c?c():{};return ut(_,n,Er(R,2),Tt)}}function Yo(n){return gn(function(c,_){var R=-1,ut=_.length,Tt=ut>1?_[ut-1]:pt,Kt=ut>2?_[2]:pt;for(Tt=n.length>3&&typeof Tt=="function"?(ut--,Tt):pt,Kt&&ei(_[0],_[1],Kt)&&(Tt=ut<3?pt:Tt,ut=1),c=Pn(c);++R<ut;){var ce=_[R];ce&&n(c,ce,R,Tt)}return c})}function Zu(n,c){return function(_,R){if(_==null)return _;if(!ka(_))return n(_,R);for(var ut=_.length,Tt=c?ut:-1,Kt=Pn(_);(c?Tt--:++Tt<ut)&&R(Kt[Tt],Tt,Kt)!==!1;);return _}}function Ju(n){return function(c,_,R){for(var ut=-1,Tt=Pn(c),Kt=R(c),ce=Kt.length;ce--;){var Te=Kt[n?ce:++ut];if(_(Tt[Te],Te,Tt)===!1)break}return c}}function Ch(n,c,_){var R=c&i,ut=Xs(n);function Tt(){var Kt=this&&this!==_r&&this instanceof Tt?ut:n;return Kt.apply(R?_:this,arguments)}return Tt}function $u(n){return function(c){c=Zn(c);var _=Zi(c)?vi(c):pt,R=_?_[0]:c.charAt(0),ut=_?Xi(_,1).join(""):c.slice(1);return R[n]()+ut}}function vo(n){return function(c){return Or(bc(yc(c).replace(Nt,"")),n,"")}}function Xs(n){return function(){var c=arguments;switch(c.length){case 0:return new n;case 1:return new n(c[0]);case 2:return new n(c[0],c[1]);case 3:return new n(c[0],c[1],c[2]);case 4:return new n(c[0],c[1],c[2],c[3]);case 5:return new n(c[0],c[1],c[2],c[3],c[4]);case 6:return new n(c[0],c[1],c[2],c[3],c[4],c[5]);case 7:return new n(c[0],c[1],c[2],c[3],c[4],c[5],c[6])}var _=Bs(n.prototype),R=n.apply(_,c);return bi(R)?R:_}}function Ah(n,c,_){var R=Xs(n);function ut(){for(var Tt=arguments.length,Kt=ze(Tt),ce=Tt,Te=kr(ut);ce--;)Kt[ce]=arguments[ce];var cr=Tt<3&&Kt[0]!==Te&&Kt[Tt-1]!==Te?[]:ai(Kt,Te);if(Tt-=cr.length,Tt<_)return St(n,c,d,ut.placeholder,pt,Kt,cr,pt,pt,_-Tt);var dr=this&&this!==_r&&this instanceof ut?R:n;return vr(dr,this,Kt)}return ut}function Qu(n){return function(c,_,R){var ut=Pn(c);if(!ka(c)){var Tt=Er(_,3);c=Hi(c),_=function(ce){return Tt(ut[ce],ce,ut)}}var Kt=n(c,_,R);return Kt>-1?ut[Tt?c[Kt]:Kt]:pt}}function Pu(n){return hr(function(c){var _=c.length,R=_,ut=Qi.prototype.thru;for(n&&c.reverse();R--;){var Tt=c[R];if(typeof Tt!="function")throw new Ji(b);if(ut&&!Kt&&Jr(Tt)=="wrapper")var Kt=new Qi([],!0)}for(R=Kt?R:_;++R<_;){Tt=c[R];var ce=Jr(Tt),Te=ce=="wrapper"?Lr(Tt):pt;Te&&Ha(Te[0])&&Te[1]==(it|v|D|Ct)&&!Te[4].length&&Te[9]==1?Kt=Kt[Jr(Te[0])].apply(Kt,Te[3]):Kt=Tt.length==1&&Ha(Tt)?Kt[ce]():Kt.thru(Tt)}return function(){var cr=arguments,dr=cr[0];if(Kt&&cr.length==1&&bn(dr))return Kt.plant(dr).value();for(var xr=0,Dr=_?c[xr].apply(this,cr):dr;++xr<_;)Dr=c[xr].call(this,Dr);return Dr}})}function d(n,c,_,R,ut,Tt,Kt,ce,Te,cr){var dr=c&it,xr=c&i,Dr=c&f,Gr=c&(v|C),sn=c&Dt,An=Dr?pt:Xs(n);function on(){for(var En=arguments.length,Rn=ze(En),Ga=En;Ga--;)Rn[Ga]=arguments[Ga];if(Gr)var ma=kr(on),Ya=eo(Rn,ma);if(R&&(Rn=bl(Rn,R,ut,Gr)),Tt&&(Rn=Go(Rn,Tt,Kt,Gr)),En-=Ya,Gr&&En<cr){var Li=ai(Rn,ma);return St(n,c,d,on.placeholder,_,Rn,Li,ce,Te,cr-En)}var Ls=xr?_:this,So=Dr?Ls[n]:n;return En=Rn.length,ce?Rn=Vo(Rn,ce):sn&&En>1&&Rn.reverse(),dr&&Te<En&&(Rn.length=Te),this&&this!==_r&&this instanceof on&&(So=An||Xs(So)),So.apply(Ls,Rn)}return on}function m(n,c){return function(_,R){return qs(_,n,c(R),{})}}function E(n,c){return function(_,R){var ut;if(_===pt&&R===pt)return c;if(_!==pt&&(ut=_),R!==pt){if(ut===pt)return R;typeof _=="string"||typeof R=="string"?(_=ca(_),R=ca(R)):(_=qo(_),R=qo(R)),ut=n(_,R)}return ut}}function W(n){return hr(function(c){return c=ir(c,mi(Er())),gn(function(_){var R=this;return n(c,function(ut){return vr(ut,R,_)})})})}function ot(n,c){c=c===pt?" ":ca(c);var _=c.length;if(_<2)return _?ml(c,n):c;var R=ml(c,oo(n/zi(c)));return Zi(c)?Xi(vi(R),0,n).join(""):R.slice(0,n)}function ct(n,c,_,R){var ut=c&i,Tt=Xs(n);function Kt(){for(var ce=-1,Te=arguments.length,cr=-1,dr=R.length,xr=ze(dr+Te),Dr=this&&this!==_r&&this instanceof Kt?Tt:n;++cr<dr;)xr[cr]=R[cr];for(;Te--;)xr[cr++]=arguments[++ce];return vr(Dr,ut?_:this,xr)}return Kt}function ft(n){return function(c,_,R){return R&&typeof R!="number"&&ei(c,_,R)&&(_=R=pt),c=xo(c),_===pt?(_=c,c=0):_=xo(_),R=R===pt?c<_?1:-1:xo(R),xu(c,_,R,n)}}function yt(n){return function(c,_){return typeof c=="string"&&typeof _=="string"||(c=us(c),_=us(_)),n(c,_)}}function St(n,c,_,R,ut,Tt,Kt,ce,Te,cr){var dr=c&v,xr=dr?Kt:pt,Dr=dr?pt:Kt,Gr=dr?Tt:pt,sn=dr?pt:Tt;c|=dr?D:V,c&=~(dr?V:D),c&p||(c&=~(i|f));var An=[n,c,ut,Gr,xr,sn,Dr,ce,Te,cr],on=_.apply(pt,An);return Ha(n)&&Lu(on,An),on.placeholder=R,xl(on,n,c)}function It(n){var c=ti[n];return function(_,R){if(_=us(_),R=R==null?0:_i(Sn(R),292),R&&Da(_)){var ut=(Zn(_)+"e").split("e"),Tt=c(ut[0]+"e"+(+ut[1]+R));return ut=(Zn(Tt)+"e").split("e"),+(ut[0]+"e"+(+ut[1]-R))}return c(_)}}var fe=Sa&&1/$a(new Sa([,-0]))[1]==er?function(n){return new Sa(n)}:Gh;function ke(n){return function(c){var _=kn(c);return _==oe?ii(c):_==at?Is(c):Ka(c,n(c))}}function Pe(n,c,_,R,ut,Tt,Kt,ce){var Te=c&f;if(!Te&&typeof n!="function")throw new Ji(b);var cr=R?R.length:0;if(cr||(c&=~(D|V),R=ut=pt),Kt=Kt===pt?Kt:si(Sn(Kt),0),ce=ce===pt?ce:Sn(ce),cr-=ut?ut.length:0,c&V){var dr=R,xr=ut;R=ut=pt}var Dr=Te?pt:Lr(n),Gr=[n,c,_,R,ut,dr,xr,Tt,Kt,ce];if(Dr&&eh(Gr,Dr),n=Gr[0],c=Gr[1],_=Gr[2],R=Gr[3],ut=Gr[4],ce=Gr[9]=Gr[9]===pt?Te?0:n.length:si(Gr[9]-cr,0),!ce&&c&(v|C)&&(c&=~(v|C)),!c||c==i)var sn=Ch(n,c,_);else c==v||c==C?sn=Ah(n,c,ce):(c==D||c==(i|D))&&!ut.length?sn=ct(n,c,_,R):sn=d.apply(pt,Gr);var An=Dr?Cu:Lu;return xl(An(sn,Gr),n,c)}function Ce(n,c,_,R){return n===pt||Ps(n,Ns[_])&&!Dn.call(R,_)?c:n}function ur(n,c,_,R,ut,Tt){return bi(n)&&bi(c)&&(Tt.set(c,n),mo(n,c,pt,ur,Tt),Tt.delete(c)),n}function qe(n){return Bu(n)?pt:n}function de(n,c,_,R,ut,Tt){var Kt=_&a,ce=n.length,Te=c.length;if(ce!=Te&&!(Kt&&Te>ce))return!1;var cr=Tt.get(n),dr=Tt.get(c);if(cr&&dr)return cr==c&&dr==n;var xr=-1,Dr=!0,Gr=_&l?new $r:pt;for(Tt.set(n,c),Tt.set(c,n);++xr<ce;){var sn=n[xr],An=c[xr];if(R)var on=Kt?R(An,sn,xr,c,n,Tt):R(sn,An,xr,n,c,Tt);if(on!==pt){if(on)continue;Dr=!1;break}if(Gr){if(!Hr(c,function(En,Rn){if(!Qn(Gr,Rn)&&(sn===En||ut(sn,En,_,R,Tt)))return Gr.push(Rn)})){Dr=!1;break}}else if(!(sn===An||ut(sn,An,_,R,Tt))){Dr=!1;break}}return Tt.delete(n),Tt.delete(c),Dr}function ye(n,c,_,R,ut,Tt,Kt){switch(_){case pr:if(n.byteLength!=c.byteLength||n.byteOffset!=c.byteOffset)return!1;n=n.buffer,c=c.buffer;case Ge:return!(n.byteLength!=c.byteLength||!Tt(new ko(n),new ko(c)));case xt:case Mt:case N:return Ps(+n,+c);case se:return n.name==c.name&&n.message==c.message;case H:case Ot:return n==c+"";case oe:var ce=ii;case at:var Te=R&a;if(ce||(ce=$a),n.size!=c.size&&!Te)return!1;var cr=Kt.get(n);if(cr)return cr==c;R|=l,Kt.set(n,c);var dr=de(ce(n),ce(c),R,ut,Tt,Kt);return Kt.delete(n),dr;case _t:if(es)return es.call(n)==es.call(c)}return!1}function or(n,c,_,R,ut,Tt){var Kt=_&a,ce=lr(n),Te=ce.length,cr=lr(c),dr=cr.length;if(Te!=dr&&!Kt)return!1;for(var xr=Te;xr--;){var Dr=ce[xr];if(!(Kt?Dr in c:Dn.call(c,Dr)))return!1}var Gr=Tt.get(n),sn=Tt.get(c);if(Gr&&sn)return Gr==c&&sn==n;var An=!0;Tt.set(n,c),Tt.set(c,n);for(var on=Kt;++xr<Te;){Dr=ce[xr];var En=n[Dr],Rn=c[Dr];if(R)var Ga=Kt?R(Rn,En,Dr,c,n,Tt):R(En,Rn,Dr,n,c,Tt);if(!(Ga===pt?En===Rn||ut(En,Rn,_,R,Tt):Ga)){An=!1;break}on||(on=Dr=="constructor")}if(An&&!on){var ma=n.constructor,Ya=c.constructor;ma!=Ya&&"constructor"in n&&"constructor"in c&&!(typeof ma=="function"&&ma instanceof ma&&typeof Ya=="function"&&Ya instanceof Ya)&&(An=!1)}return Tt.delete(n),Tt.delete(c),An}function hr(n){return au(wl(n,pt,Fu),n+"")}function lr(n){return Ws(n,Hi,qn)}function Rr(n){return Ws(n,Ea,dn)}var Lr=Mo?function(n){return Mo.get(n)}:Gh;function Jr(n){for(var c=n.name+"",_=Ra[c],R=Dn.call(Ra,c)?_.length:0;R--;){var ut=_[R],Tt=ut.func;if(Tt==null||Tt==n)return ut.name}return c}function kr(n){var c=Dn.call(mt,"placeholder")?mt:n;return c.placeholder}function Er(){var n=mt.iteratee||Hh;return n=n===Hh?yu:n,arguments.length?n(arguments[0],arguments[1]):n}function jn(n,c){var _=n.__data__;return Ii(c)?_[typeof c=="string"?"string":"hash"]:_.map}function Ln(n){for(var c=Hi(n),_=c.length;_--;){var R=c[_],ut=n[R];c[_]=[R,ut,di(ut)]}return c}function mn(n,c){var _=nn(n,c);return Wo(_)?_:pt}function Jn(n){var c=Dn.call(n,wa),_=n[wa];try{n[wa]=pt;var R=!0}catch(Tt){}var ut=Lo.call(n);return R&&(c?n[wa]=_:delete n[wa]),ut}var qn=al?function(n){return n==null?[]:(n=Pn(n),qt(al(n),function(c){return Fl.call(n,c)}))}:Yh,dn=al?function(n){for(var c=[];n;)Ir(c,qn(n)),n=Eo(n);return c}:Yh,kn=yi;(No&&kn(new No(new ArrayBuffer(1)))!=pr||xa&&kn(new xa)!=oe||Rs&&kn(Rs.resolve())!=x||Sa&&kn(new Sa)!=at||gs&&kn(new gs)!=Me)&&(kn=function(n){var c=yi(n),_=c==U?n.constructor:pt,R=_?_o(_):"";if(R)switch(R){case Bl:return pr;case jl:return oe;case ms:return x;case vs:return at;case zl:return Me}return c});function ea(n,c,_){for(var R=-1,ut=_.length;++R<ut;){var Tt=_[R],Kt=Tt.size;switch(Tt.type){case"drop":n+=Kt;break;case"dropRight":c-=Kt;break;case"take":c=_i(c,n+Kt);break;case"takeRight":n=si(n,c-Kt);break}}return{start:n,end:c}}function xi(n){var c=n.match(To);return c?c[1].split(Qo):[]}function Vi(n,c,_){c=Ys(c,n);for(var R=-1,ut=c.length,Tt=!1;++R<ut;){var Kt=ls(c[R]);if(!(Tt=n!=null&&_(n,Kt)))break;n=n[Kt]}return Tt||++R!=ut?Tt:(ut=n==null?0:n.length,!!ut&&mh(ut)&&fi(Kt,ut)&&(bn(n)||Pl(n)))}function Yn(n){var c=n.length,_=new n.constructor(c);return c&&typeof n[0]=="string"&&Dn.call(n,"index")&&(_.index=n.index,_.input=n.input),_}function ra(n){return typeof n.constructor=="function"&&!Pa(n)?Bs(Eo(n)):{}}function pa(n,c,_){var R=n.constructor;switch(c){case Ge:return Tu(n);case xt:case Mt:return new R(+n);case pr:return Gu(n,_);case Ar:case Kr:case _n:case Cn:case Wn:case Yr:case zn:case pi:case $n:return Ou(n,_);case oe:return new R;case N:case Ot:return new R(n);case H:return Yu(n);case at:return new R;case _t:return Xu(n)}}function Fi(n,c){var _=c.length;if(!_)return n;var R=_-1;return c[R]=(_>1?"& ":"")+c[R],c=c.join(_>2?", ":" "),n.replace(Es,`{
/* [wrapped with `+c+`] */
`)}function Ri(n){return bn(n)||Pl(n)||!!(Il&&n&&n[Il])}function fi(n,c){var _=typeof n;return c=c==null?tt:c,!!c&&(_=="number"||_!="symbol"&&Pt.test(n))&&n>-1&&n%1==0&&n<c}function ei(n,c,_){if(!bi(_))return!1;var R=typeof c;return(R=="number"?ka(_)&&fi(c,_.length):R=="string"&&c in _)?Ps(_[c],n):!1}function Oa(n,c){if(bn(n))return!1;var _=typeof n;return _=="number"||_=="symbol"||_=="boolean"||n==null||qa(n)?!0:Ao.test(n)||!Co.test(n)||c!=null&&n in Pn(c)}function Ii(n){var c=typeof n;return c=="string"||c=="number"||c=="symbol"||c=="boolean"?n!=="__proto__":n===null}function Ha(n){var c=Jr(n),_=mt[c];if(typeof _!="function"||!(c in wn.prototype))return!1;if(n===_)return!0;var R=Lr(_);return!!R&&n===R[0]}function yo(n){return!!nl&&nl in n}var Xo=ui?wo:Xh;function Pa(n){var c=n&&n.constructor,_=typeof c=="function"&&c.prototype||Ns;return n===_}function di(n){return n===n&&!bi(n)}function nu(n,c){return function(_){return _==null?!1:_[n]===c&&(c!==pt||n in Pn(_))}}function th(n){var c=ph(n,function(R){return _.size===u&&_.clear(),R}),_=c.cache;return c}function eh(n,c){var _=n[1],R=c[1],ut=_|R,Tt=ut<(i|f|it),Kt=R==it&&_==v||R==it&&_==Ct&&n[7].length<=c[8]||R==(it|Ct)&&c[7].length<=c[8]&&_==v;if(!(Tt||Kt))return n;R&i&&(n[2]=c[2],ut|=_&i?0:p);var ce=c[3];if(ce){var Te=n[3];n[3]=Te?bl(Te,ce,c[4]):ce,n[4]=Te?ai(n[3],o):c[4]}return ce=c[5],ce&&(Te=n[5],n[5]=Te?Go(Te,ce,c[6]):ce,n[6]=Te?ai(n[5],o):c[6]),ce=c[7],ce&&(n[7]=ce),R&it&&(n[8]=n[8]==null?c[8]:_i(n[8],c[8])),n[9]==null&&(n[9]=c[9]),n[0]=c[0],n[1]=ut,n}function iu(n){var c=[];if(n!=null)for(var _ in Pn(n))c.push(_);return c}function _l(n){return Lo.call(n)}function wl(n,c,_){return c=si(c===pt?n.length-1:c,0),function(){for(var R=arguments,ut=-1,Tt=si(R.length-c,0),Kt=ze(Tt);++ut<Tt;)Kt[ut]=R[c+ut];ut=-1;for(var ce=ze(c+1);++ut<c;)ce[ut]=R[ut];return ce[c]=_(Kt),vr(n,this,ce)}}function La(n,c){return c.length<2?n:ss(n,Ta(c,0,-1))}function Vo(n,c){for(var _=n.length,R=_i(c.length,_),ut=Wi(n);R--;){var Tt=c[R];n[R]=fi(Tt,_)?ut[Tt]:pt}return n}function Vs(n,c){if(!(c==="constructor"&&typeof n[c]=="function")&&c!="__proto__")return n[c]}var Lu=su(Cu),Ks=du||function(n,c){return _r.setTimeout(n,c)},au=su(_h);function xl(n,c,_){var R=c+"";return au(n,Fi(R,ku(xi(R),_)))}function su(n){var c=0,_=0;return function(){var R=pu(),ut=At-(R-_);if(_=R,ut>0){if(++c>=Ee)return arguments[0]}else c=0;return n.apply(pt,arguments)}}function bo(n,c){var _=-1,R=n.length,ut=R-1;for(c=c===pt?R:c;++_<c;){var Tt=Zl(_,ut),Kt=n[Tt];n[Tt]=n[_],n[_]=Kt}return n.length=c,n}var Ko=th(function(n){var c=[];return n.charCodeAt(0)===46&&c.push(""),n.replace(hs,function(_,R,ut,Tt){c.push(ut?Tt.replace(tl,"$1"):R||_)}),c});function ls(n){if(typeof n=="string"||qa(n))return n;var c=n+"";return c=="0"&&1/n==-er?"-0":c}function _o(n){if(n!=null){try{return Ms.call(n)}catch(c){}try{return n+""}catch(c){}}return""}function ku(n,c){return Pr(et,function(_){var R="_."+_[0];c&_[1]&&!sr(n,R)&&n.push(R)}),n.sort()}function Ts(n){if(n instanceof wn)return n.clone();var c=new Qi(n.__wrapped__,n.__chain__);return c.__actions__=Wi(n.__actions__),c.__index__=n.__index__,c.__values__=n.__values__,c}function Th(n,c,_){(_?ei(n,c,_):c===pt)?c=1:c=si(Sn(c),0);var R=n==null?0:n.length;if(!R||c<1)return[];for(var ut=0,Tt=0,Kt=ze(oo(R/c));ut<R;)Kt[Tt++]=Ta(n,ut,ut+=c);return Kt}function Oh(n){for(var c=-1,_=n==null?0:n.length,R=0,ut=[];++c<_;){var Tt=n[c];Tt&&(ut[R++]=Tt)}return ut}function Ph(){var n=arguments.length;if(!n)return[];for(var c=ze(n-1),_=arguments[0],R=n;R--;)c[R-1]=arguments[R];return Ir(bn(_)?Wi(_):[_],Kn(c,1))}var rh=gn(function(n,c){return Pi(n)?fo(n,Kn(c,1,Pi,!0)):[]}),ou=gn(function(n,c){var _=ga(c);return Pi(_)&&(_=pt),Pi(n)?fo(n,Kn(c,1,Pi,!0),Er(_,2)):[]}),nh=gn(function(n,c){var _=ga(c);return Pi(_)&&(_=pt),Pi(n)?fo(n,Kn(c,1,Pi,!0),pt,_):[]});function ih(n,c,_){var R=n==null?0:n.length;return R?(c=_||c===pt?1:Sn(c),Ta(n,c<0?0:c,R)):[]}function lu(n,c,_){var R=n==null?0:n.length;return R?(c=_||c===pt?1:Sn(c),c=R-c,Ta(n,0,c<0?0:c)):[]}function Eu(n,c){return n&&n.length?tu(n,Er(c,3),!0,!0):[]}function Sl(n,c){return n&&n.length?tu(n,Er(c,3),!0):[]}function ah(n,c,_,R){var ut=n==null?0:n.length;return ut?(_&&typeof _!="number"&&ei(n,c,_)&&(_=0,R=ut),go(n,c,_,R)):[]}function sh(n,c,_){var R=n==null?0:n.length;if(!R)return-1;var ut=_==null?0:Sn(_);return ut<0&&(ut=si(R+ut,0)),Gn(n,Er(c,3),ut)}function Cl(n,c,_){var R=n==null?0:n.length;if(!R)return-1;var ut=R-1;return _!==pt&&(ut=Sn(_),ut=_<0?si(R+ut,0):_i(ut,R-1)),Gn(n,Er(c,3),ut,!0)}function Fu(n){var c=n==null?0:n.length;return c?Kn(n,1):[]}function Iu(n){var c=n==null?0:n.length;return c?Kn(n,er):[]}function Zs(n,c){var _=n==null?0:n.length;return _?(c=c===pt?1:Sn(c),Kn(n,c)):[]}function oh(n){for(var c=-1,_=n==null?0:n.length,R={};++c<_;){var ut=n[c];R[ut[0]]=ut[1]}return R}function Nu(n){return n&&n.length?n[0]:pt}function Lh(n,c,_){var R=n==null?0:n.length;if(!R)return-1;var ut=_==null?0:Sn(_);return ut<0&&(ut=si(R+ut,0)),Zr(n,c,ut)}function lh(n){var c=n==null?0:n.length;return c?Ta(n,0,-1):[]}var Zo=gn(function(n){var c=ir(n,fa);return c.length&&c[0]===n[0]?ws(c):[]}),kh=gn(function(n){var c=ga(n),_=ir(n,fa);return c===ga(_)?c=pt:_.pop(),_.length&&_[0]===n[0]?ws(_,Er(c,2)):[]}),uh=gn(function(n){var c=ga(n),_=ir(n,fa);return c=typeof c=="function"?c:pt,c&&_.pop(),_.length&&_[0]===n[0]?ws(_,pt,c):[]});function Eh(n,c){return n==null?"":Ml.call(n,c)}function ga(n){var c=n==null?0:n.length;return c?n[c-1]:pt}function Fh(n,c,_){var R=n==null?0:n.length;if(!R)return-1;var ut=R;return _!==pt&&(ut=Sn(_),ut=ut<0?si(R+ut,0):_i(ut,R-1)),c===c?Qa(n,c,ut):Gn(n,Nr,ut,!0)}function Al(n,c){return n&&n.length?ha(n,Sn(c)):pt}var Mu=gn(Tl);function Tl(n,c){return n&&n.length&&c&&c.length?Ho(n,c):n}function Os(n,c,_){return n&&n.length&&c&&c.length?Ho(n,c,Er(_,2)):n}function Js(n,c,_){return n&&n.length&&c&&c.length?Ho(n,c,pt,_):n}var $s=hr(function(n,c){var _=n==null?0:n.length,R=zs(n,c);return Kl(n,ir(c,function(ut){return fi(ut,_)?+ut:ut}).sort(Vu)),R});function uu(n,c){var _=[];if(!(n&&n.length))return _;var R=-1,ut=[],Tt=n.length;for(c=Er(c,3);++R<Tt;){var Kt=n[R];c(Kt,R,n)&&(_.push(Kt),ut.push(R))}return Kl(n,ut),_}function Ol(n){return n==null?n:sl.call(n)}function hh(n,c,_){var R=n==null?0:n.length;return R?(_&&typeof _!="number"&&ei(n,c,_)?(c=0,_=R):(c=c==null?0:Sn(c),_=_===pt?R:Sn(_)),Ta(n,c,_)):[]}function Ih(n,c){return Jl(n,c)}function Du(n,c,_){return yl(n,c,Er(_,2))}function Ru(n,c){var _=n==null?0:n.length;if(_){var R=Jl(n,c);if(R<_&&Ps(n[R],c))return R}return-1}function Sc(n,c){return Jl(n,c,!0)}function Cc(n,c,_){return yl(n,c,Er(_,2),!0)}function Ac(n,c){var _=n==null?0:n.length;if(_){var R=Jl(n,c,!0)-1;if(Ps(n[R],c))return R}return-1}function Tc(n){return n&&n.length?$l(n):[]}function Oc(n,c){return n&&n.length?$l(n,Er(c,2)):[]}function Pc(n){var c=n==null?0:n.length;return c?Ta(n,1,c):[]}function Lc(n,c,_){return n&&n.length?(c=_||c===pt?1:Sn(c),Ta(n,0,c<0?0:c)):[]}function kc(n,c,_){var R=n==null?0:n.length;return R?(c=_||c===pt?1:Sn(c),c=R-c,Ta(n,c<0?0:c,R)):[]}function Ec(n,c){return n&&n.length?tu(n,Er(c,3),!1,!0):[]}function Fc(n,c){return n&&n.length?tu(n,Er(c,3)):[]}var Ic=gn(function(n){return Gs(Kn(n,1,Pi,!0))}),Nc=gn(function(n){var c=ga(n);return Pi(c)&&(c=pt),Gs(Kn(n,1,Pi,!0),Er(c,2))}),Mc=gn(function(n){var c=ga(n);return c=typeof c=="function"?c:pt,Gs(Kn(n,1,Pi,!0),pt,c)});function Dc(n){return n&&n.length?Gs(n):[]}function Rc(n,c){return n&&n.length?Gs(n,Er(c,2)):[]}function Bc(n,c){return c=typeof c=="function"?c:pt,n&&n.length?Gs(n,pt,c):[]}function Nh(n){if(!(n&&n.length))return[];var c=0;return n=qt(n,function(_){if(Pi(_))return c=si(_.length,c),!0}),Bn(c,function(_){return ir(n,Vn(_))})}function Vh(n,c){if(!(n&&n.length))return[];var _=Nh(n);return c==null?_:ir(_,function(R){return vr(c,pt,R)})}var jc=gn(function(n,c){return Pi(n)?fo(n,c):[]}),zc=gn(function(n){return Au(qt(n,Pi))}),Uc=gn(function(n){var c=ga(n);return Pi(c)&&(c=pt),Au(qt(n,Pi),Er(c,2))}),Wc=gn(function(n){var c=ga(n);return c=typeof c=="function"?c:pt,Au(qt(n,Pi),pt,c)}),Hc=gn(Nh);function qc(n,c){return As(n||[],c||[],is)}function Gc(n,c){return As(n||[],c||[],vl)}var Yc=gn(function(n){var c=n.length,_=c>1?n[c-1]:pt;return _=typeof _=="function"?(n.pop(),_):pt,Vh(n,_)});function Kh(n){var c=mt(n);return c.__chain__=!0,c}function Xc(n,c){return c(n),n}function ch(n,c){return c(n)}var Vc=hr(function(n){var c=n.length,_=c?n[0]:0,R=this.__wrapped__,ut=function(Tt){return zs(Tt,n)};return c>1||this.__actions__.length||!(R instanceof wn)||!fi(_)?this.thru(ut):(R=R.slice(_,+_+(c?1:0)),R.__actions__.push({func:ch,args:[ut],thisArg:pt}),new Qi(R,this.__chain__).thru(function(Tt){return c&&!Tt.length&&Tt.push(pt),Tt}))});function Kc(){return Kh(this)}function Zc(){return new Qi(this.value(),this.__chain__)}function Jc(){this.__values__===pt&&(this.__values__=uc(this.value()));var n=this.__index__>=this.__values__.length,c=n?pt:this.__values__[this.__index__++];return{done:n,value:c}}function $c(){return this}function Qc(n){for(var c,_=this;_ instanceof ys;){var R=Ts(_);R.__index__=0,R.__values__=pt,c?ut.__wrapped__=R:c=R;var ut=R;_=_.__wrapped__}return ut.__wrapped__=n,c}function tf(){var n=this.__wrapped__;if(n instanceof wn){var c=n;return this.__actions__.length&&(c=new wn(this)),c=c.reverse(),c.__actions__.push({func:ch,args:[Ol],thisArg:pt}),new Qi(c,this.__chain__)}return this.thru(Ol)}function ef(){return Wu(this.__wrapped__,this.__actions__)}var rf=ru(function(n,c,_){Dn.call(n,_)?++n[_]:Ui(n,_,1)});function nf(n,c,_){var R=bn(n)?Xr:vu;return _&&ei(n,c,_)&&(c=pt),R(n,Er(c,3))}function af(n,c){var _=bn(n)?qt:Ca;return _(n,Er(c,3))}var sf=Qu(sh),of=Qu(Cl);function lf(n,c){return Kn(fh(n,c),1)}function uf(n,c){return Kn(fh(n,c),er)}function hf(n,c,_){return _=_===pt?1:Sn(_),Kn(fh(n,c),_)}function Zh(n,c){var _=bn(n)?Pr:Ei;return _(n,Er(c,3))}function Jh(n,c){var _=bn(n)?rn:po;return _(n,Er(c,3))}var cf=ru(function(n,c,_){Dn.call(n,_)?n[_].push(c):Ui(n,_,[c])});function ff(n,c,_,R){n=ka(n)?n:cu(n),_=_&&!R?Sn(_):0;var ut=n.length;return _<0&&(_=si(ut+_,0)),vh(n)?_<=ut&&n.indexOf(c,_)>-1:!!ut&&Zr(n,c,_)>-1}var df=gn(function(n,c,_){var R=-1,ut=typeof c=="function",Tt=ka(n)?ze(n.length):[];return Ei(n,function(Kt){Tt[++R]=ut?vr(c,Kt,_):xs(Kt,c,_)}),Tt}),pf=ru(function(n,c,_){Ui(n,_,c)});function fh(n,c){var _=bn(n)?ir:bu;return _(n,Er(c,3))}function gf(n,c,_,R){return n==null?[]:(bn(c)||(c=c==null?[]:[c]),_=R?pt:_,bn(_)||(_=_==null?[]:[_]),gl(n,c,_))}var mf=ru(function(n,c,_){n[_?0:1].push(c)},function(){return[[],[]]});function vf(n,c,_){var R=bn(n)?Or:yn,ut=arguments.length<3;return R(n,Er(c,4),_,ut,Ei)}function yf(n,c,_){var R=bn(n)?zr:yn,ut=arguments.length<3;return R(n,Er(c,4),_,ut,po)}function bf(n,c){var _=bn(n)?qt:Ca;return _(n,gh(Er(c,3)))}function _f(n){var c=bn(n)?fl:Su;return c(n)}function wf(n,c,_){(_?ei(n,c,_):c===pt)?c=1:c=Sn(c);var R=bn(n)?bs:bh;return R(n,c)}function xf(n){var c=bn(n)?dl:wh;return c(n)}function Sf(n){if(n==null)return 0;if(ka(n))return vh(n)?zi(n):n.length;var c=kn(n);return c==oe||c==at?n.size:ql(n).length}function Cf(n,c,_){var R=bn(n)?Hr:xh;return _&&ei(n,c,_)&&(c=pt),R(n,Er(c,3))}var Af=gn(function(n,c){if(n==null)return[];var _=c.length;return _>1&&ei(n,c[0],c[1])?c=[]:_>2&&ei(c[0],c[1],c[2])&&(c=[c[0]]),gl(n,Kn(c,1),[])}),dh=Ti||function(){return _r.Date.now()};function Tf(n,c){if(typeof c!="function")throw new Ji(b);return n=Sn(n),function(){if(--n<1)return c.apply(this,arguments)}}function $h(n,c,_){return c=_?pt:c,c=n&&c==null?n.length:c,Pe(n,it,pt,pt,pt,pt,c)}function Qh(n,c){var _;if(typeof c!="function")throw new Ji(b);return n=Sn(n),function(){return--n>0&&(_=c.apply(this,arguments)),n<=1&&(c=pt),_}}var Mh=gn(function(n,c,_){var R=i;if(_.length){var ut=ai(_,kr(Mh));R|=D}return Pe(n,R,c,_,ut)}),tc=gn(function(n,c,_){var R=i|f;if(_.length){var ut=ai(_,kr(tc));R|=D}return Pe(c,R,n,_,ut)});function ec(n,c,_){c=_?pt:c;var R=Pe(n,v,pt,pt,pt,pt,pt,c);return R.placeholder=ec.placeholder,R}function rc(n,c,_){c=_?pt:c;var R=Pe(n,C,pt,pt,pt,pt,pt,c);return R.placeholder=rc.placeholder,R}function nc(n,c,_){var R,ut,Tt,Kt,ce,Te,cr=0,dr=!1,xr=!1,Dr=!0;if(typeof n!="function")throw new Ji(b);c=us(c)||0,bi(_)&&(dr=!!_.leading,xr="maxWait"in _,Tt=xr?si(us(_.maxWait)||0,c):Tt,Dr="trailing"in _?!!_.trailing:Dr);function Gr(Li){var Ls=R,So=ut;return R=ut=pt,cr=Li,Kt=n.apply(So,Ls),Kt}function sn(Li){return cr=Li,ce=Ks(En,c),dr?Gr(Li):Kt}function An(Li){var Ls=Li-Te,So=Li-cr,xc=c-Ls;return xr?_i(xc,Tt-So):xc}function on(Li){var Ls=Li-Te,So=Li-cr;return Te===pt||Ls>=c||Ls<0||xr&&So>=Tt}function En(){var Li=dh();if(on(Li))return Rn(Li);ce=Ks(En,An(Li))}function Rn(Li){return ce=pt,Dr&&R?Gr(Li):(R=ut=pt,Kt)}function Ga(){ce!==pt&&da(ce),cr=0,R=Te=ut=ce=pt}function ma(){return ce===pt?Kt:Rn(dh())}function Ya(){var Li=dh(),Ls=on(Li);if(R=arguments,ut=this,Te=Li,Ls){if(ce===pt)return sn(Te);if(xr)return da(ce),ce=Ks(En,c),Gr(Te)}return ce===pt&&(ce=Ks(En,c)),Kt}return Ya.cancel=Ga,Ya.flush=ma,Ya}var Of=gn(function(n,c){return jo(n,1,c)}),Pf=gn(function(n,c,_){return jo(n,us(c)||0,_)});function Lf(n){return Pe(n,Dt)}function ph(n,c){if(typeof n!="function"||c!=null&&typeof c!="function")throw new Ji(b);var _=function(){var R=arguments,ut=c?c.apply(this,R):R[0],Tt=_.cache;if(Tt.has(ut))return Tt.get(ut);var Kt=n.apply(this,R);return _.cache=Tt.set(ut,Kt)||Tt,Kt};return _.cache=new(ph.Cache||re),_}ph.Cache=re;function gh(n){if(typeof n!="function")throw new Ji(b);return function(){var c=arguments;switch(c.length){case 0:return!n.call(this);case 1:return!n.call(this,c[0]);case 2:return!n.call(this,c[0],c[1]);case 3:return!n.call(this,c[0],c[1],c[2])}return!n.apply(this,c)}}function kf(n){return Qh(2,n)}var Ef=Hu(function(n,c){c=c.length==1&&bn(c[0])?ir(c[0],mi(Er())):ir(Kn(c,1),mi(Er()));var _=c.length;return gn(function(R){for(var ut=-1,Tt=_i(R.length,_);++ut<Tt;)R[ut]=c[ut].call(this,R[ut]);return vr(n,this,R)})}),Dh=gn(function(n,c){var _=ai(c,kr(Dh));return Pe(n,D,pt,c,_)}),ic=gn(function(n,c){var _=ai(c,kr(ic));return Pe(n,V,pt,c,_)}),Ff=hr(function(n,c){return Pe(n,Ct,pt,pt,pt,c)});function If(n,c){if(typeof n!="function")throw new Ji(b);return c=c===pt?c:Sn(c),gn(n,c)}function Nf(n,c){if(typeof n!="function")throw new Ji(b);return c=c==null?0:si(Sn(c),0),gn(function(_){var R=_[c],ut=Xi(_,0,c);return R&&Ir(ut,R),vr(n,this,ut)})}function Mf(n,c,_){var R=!0,ut=!0;if(typeof n!="function")throw new Ji(b);return bi(_)&&(R="leading"in _?!!_.leading:R,ut="trailing"in _?!!_.trailing:ut),nc(n,c,{leading:R,maxWait:c,trailing:ut})}function Df(n){return $h(n,1)}function Rf(n,c){return Dh(Ua(c),n)}function Bf(){if(!arguments.length)return[];var n=arguments[0];return bn(n)?n:[n]}function jf(n){return Mi(n,t)}function zf(n,c){return c=typeof c=="function"?c:pt,Mi(n,t,c)}function Uf(n){return Mi(n,r|t)}function Wf(n,c){return c=typeof c=="function"?c:pt,Mi(n,r|t,c)}function Hf(n,c){return c==null||Wl(n,c,Hi(c))}function Ps(n,c){return n===c||n!==n&&c!==c}var qf=yt(os),Gf=yt(function(n,c){return n>=c}),Pl=la(function(){return arguments}())?la:function(n){return Si(n)&&Dn.call(n,"callee")&&!Fl.call(n,"callee")},bn=ze.isArray,Yf=me?mi(me):Ss;function ka(n){return n!=null&&mh(n.length)&&!wo(n)}function Pi(n){return Si(n)&&ka(n)}function Xf(n){return n===!0||n===!1||Si(n)&&yi(n)==xt}var Jo=cn||Xh,Vf=Oe?mi(Oe):hi;function Kf(n){return Si(n)&&n.nodeType===1&&!Bu(n)}function Zf(n){if(n==null)return!0;if(ka(n)&&(bn(n)||typeof n=="string"||typeof n.splice=="function"||Jo(n)||hu(n)||Pl(n)))return!n.length;var c=kn(n);if(c==oe||c==at)return!n.size;if(Pa(n))return!ql(n).length;for(var _ in n)if(Dn.call(n,_))return!1;return!0}function Jf(n,c){return Hn(n,c)}function $f(n,c,_){_=typeof _=="function"?_:pt;var R=_?_(n,c):pt;return R===pt?Hn(n,c,pt,_):!!R}function Rh(n){if(!Si(n))return!1;var c=yi(n);return c==se||c==ae||typeof n.message=="string"&&typeof n.name=="string"&&!Bu(n)}function Qf(n){return typeof n=="number"&&Da(n)}function wo(n){if(!bi(n))return!1;var c=yi(n);return c==Zt||c==Wt||c==jt||c==A}function ac(n){return typeof n=="number"&&n==Sn(n)}function mh(n){return typeof n=="number"&&n>-1&&n%1==0&&n<=tt}function bi(n){var c=typeof n;return n!=null&&(c=="object"||c=="function")}function Si(n){return n!=null&&typeof n=="object"}var sc=Ie?mi(Ie):ci;function td(n,c){return n===c||Yi(n,c,Ln(c))}function ed(n,c,_){return _=typeof _=="function"?_:pt,Yi(n,c,Ln(c),_)}function rd(n){return oc(n)&&n!=+n}function nd(n){if(Xo(n))throw new an(Q);return Wo(n)}function id(n){return n===null}function ad(n){return n==null}function oc(n){return typeof n=="number"||Si(n)&&yi(n)==N}function Bu(n){if(!Si(n)||yi(n)!=U)return!1;var c=Eo(n);if(c===null)return!0;var _=Dn.call(c,"constructor")&&c.constructor;return typeof _=="function"&&_ instanceof _&&Ms.call(_)==Ni}var Bh=ar?mi(ar):Cs;function sd(n){return ac(n)&&n>=-tt&&n<=tt}var lc=We?mi(We):Hl;function vh(n){return typeof n=="string"||!bn(n)&&Si(n)&&yi(n)==Ot}function qa(n){return typeof n=="symbol"||Si(n)&&yi(n)==_t}var hu=Xe?mi(Xe):ju;function od(n){return n===pt}function ld(n){return Si(n)&&kn(n)==Me}function ud(n){return Si(n)&&yi(n)==Se}var hd=yt(Gl),cd=yt(function(n,c){return n<=c});function uc(n){if(!n)return[];if(ka(n))return vh(n)?vi(n):Wi(n);if(aa&&n[aa])return fs(n[aa]());var c=kn(n),_=c==oe?ii:c==at?$a:cu;return _(n)}function xo(n){if(!n)return n===0?n:0;if(n=us(n),n===er||n===-er){var c=n<0?-1:1;return c*te}return n===n?n:0}function Sn(n){var c=xo(n),_=c%1;return c===c?_?c-_:c:0}function hc(n){return n?as(Sn(n),0,lt):0}function us(n){if(typeof n=="number")return n;if(qa(n))return Y;if(bi(n)){var c=typeof n.valueOf=="function"?n.valueOf():n;n=bi(c)?c+"":c}if(typeof n!="string")return n===0?n:+n;n=li(n);var _=O.test(n);return _||st.test(n)?Ke(n.slice(2),_?2:8):B.test(n)?Y:+n}function cc(n){return Wa(n,Ea(n))}function fd(n){return n?as(Sn(n),-tt,tt):n===0?n:0}function Zn(n){return n==null?"":ca(n)}var dd=Yo(function(n,c){if(Pa(c)||ka(c)){Wa(c,Hi(c),n);return}for(var _ in c)Dn.call(c,_)&&is(n,_,c[_])}),fc=Yo(function(n,c){Wa(c,Ea(c),n)}),yh=Yo(function(n,c,_,R){Wa(c,Ea(c),n,R)}),pd=Yo(function(n,c,_,R){Wa(c,Hi(c),n,R)}),gd=hr(zs);function md(n,c){var _=Bs(n);return c==null?_:co(_,c)}var vd=gn(function(n,c){n=Pn(n);var _=-1,R=c.length,ut=R>2?c[2]:pt;for(ut&&ei(c[0],c[1],ut)&&(R=1);++_<R;)for(var Tt=c[_],Kt=Ea(Tt),ce=-1,Te=Kt.length;++ce<Te;){var cr=Kt[ce],dr=n[cr];(dr===pt||Ps(dr,Ns[cr])&&!Dn.call(n,cr))&&(n[cr]=Tt[cr])}return n}),yd=gn(function(n){return n.push(pt,ur),vr(dc,pt,n)});function bd(n,c){return On(n,Er(c,3),Oi)}function _d(n,c){return On(n,Er(c,3),Us)}function wd(n,c){return n==null?n:_s(n,Er(c,3),Ea)}function xd(n,c){return n==null?n:za(n,Er(c,3),Ea)}function Sd(n,c){return n&&Oi(n,Er(c,3))}function Cd(n,c){return n&&Us(n,Er(c,3))}function Ad(n){return n==null?[]:ta(n,Hi(n))}function Td(n){return n==null?[]:ta(n,Ea(n))}function jh(n,c,_){var R=n==null?pt:ss(n,c);return R===pt?_:R}function Od(n,c){return n!=null&&Vi(n,c,Aa)}function zh(n,c){return n!=null&&Vi(n,c,Hs)}var Pd=m(function(n,c,_){c!=null&&typeof c.toString!="function"&&(c=Lo.call(c)),n[c]=_},Wh(Fa)),Ld=m(function(n,c,_){c!=null&&typeof c.toString!="function"&&(c=Lo.call(c)),Dn.call(n,c)?n[c].push(_):n[c]=[_]},Er),kd=gn(xs);function Hi(n){return ka(n)?uo(n):ql(n)}function Ea(n){return ka(n)?uo(n,!0):zu(n)}function Ed(n,c){var _={};return c=Er(c,3),Oi(n,function(R,ut,Tt){Ui(_,c(R,ut,Tt),R)}),_}function Fd(n,c){var _={};return c=Er(c,3),Oi(n,function(R,ut,Tt){Ui(_,ut,c(R,ut,Tt))}),_}var Id=Yo(function(n,c,_){mo(n,c,_)}),dc=Yo(function(n,c,_,R){mo(n,c,_,R)}),Nd=hr(function(n,c){var _={};if(n==null)return _;var R=!1;c=ir(c,function(Tt){return Tt=Ys(Tt,n),R||(R=Tt.length>1),Tt}),Wa(n,Rr(n),_),R&&(_=Mi(_,r|e|t,qe));for(var ut=c.length;ut--;)Ql(_,c[ut]);return _});function Md(n,c){return pc(n,gh(Er(c)))}var Dd=hr(function(n,c){return n==null?{}:Xl(n,c)});function pc(n,c){if(n==null)return{};var _=ir(Rr(n),function(R){return[R]});return c=Er(c),wu(n,_,function(R,ut){return c(R,ut[0])})}function Rd(n,c,_){c=Ys(c,n);var R=-1,ut=c.length;for(ut||(ut=1,n=pt);++R<ut;){var Tt=n==null?pt:n[ls(c[R])];Tt===pt&&(R=ut,Tt=_),n=wo(Tt)?Tt.call(n):Tt}return n}function Bd(n,c,_){return n==null?n:vl(n,c,_)}function jd(n,c,_,R){return R=typeof R=="function"?R:pt,n==null?n:vl(n,c,_,R)}var gc=ke(Hi),mc=ke(Ea);function zd(n,c,_){var R=bn(n),ut=R||Jo(n)||hu(n);if(c=Er(c,4),_==null){var Tt=n&&n.constructor;ut?_=R?new Tt:[]:bi(n)?_=wo(Tt)?Bs(Eo(n)):{}:_={}}return(ut?Pr:Oi)(n,function(Kt,ce,Te){return c(_,Kt,ce,Te)}),_}function Ud(n,c){return n==null?!0:Ql(n,c)}function Wd(n,c,_){return n==null?n:Uu(n,c,Ua(_))}function Hd(n,c,_,R){return R=typeof R=="function"?R:pt,n==null?n:Uu(n,c,Ua(_),R)}function cu(n){return n==null?[]:na(n,Hi(n))}function qd(n){return n==null?[]:na(n,Ea(n))}function Gd(n,c,_){return _===pt&&(_=c,c=pt),_!==pt&&(_=us(_),_=_===_?_:0),c!==pt&&(c=us(c),c=c===c?c:0),as(us(n),c,_)}function Yd(n,c,_){return c=xo(c),_===pt?(_=c,c=0):_=xo(_),n=us(n),Uo(n,c,_)}function Xd(n,c,_){if(_&&typeof _!="boolean"&&ei(n,c,_)&&(c=_=pt),_===pt&&(typeof c=="boolean"?(_=c,c=pt):typeof n=="boolean"&&(_=n,n=pt)),n===pt&&c===pt?(n=0,c=1):(n=xo(n),c===pt?(c=n,n=0):c=xo(c)),n>c){var R=n;n=c,c=R}if(_||n%1||c%1){var ut=Rl();return _i(n+ut*(c-n+$e("1e-"+((ut+"").length-1))),c)}return Zl(n,c)}var Vd=vo(function(n,c,_){return c=c.toLowerCase(),n+(_?vc(c):c)});function vc(n){return Uh(Zn(n).toLowerCase())}function yc(n){return n=Zn(n),n&&n.replace(Ht,ji).replace(gt,"")}function Kd(n,c,_){n=Zn(n),c=ca(c);var R=n.length;_=_===pt?R:as(Sn(_),0,R);var ut=_;return _-=c.length,_>=0&&n.slice(_,ut)==c}function Zd(n){return n=Zn(n),n&&ya.test(n)?n.replace(Ki,Za):n}function Jd(n){return n=Zn(n),n&&Ll.test(n)?n.replace(cs,"\\$&"):n}var $d=vo(function(n,c,_){return n+(_?"-":"")+c.toLowerCase()}),Qd=vo(function(n,c,_){return n+(_?" ":"")+c.toLowerCase()}),tp=$u("toLowerCase");function ep(n,c,_){n=Zn(n),c=Sn(c);var R=c?zi(n):0;if(!c||R>=c)return n;var ut=(c-R)/2;return ot(Io(ut),_)+n+ot(oo(ut),_)}function rp(n,c,_){n=Zn(n),c=Sn(c);var R=c?zi(n):0;return c&&R<c?n+ot(c-R,_):n}function np(n,c,_){n=Zn(n),c=Sn(c);var R=c?zi(n):0;return c&&R<c?ot(c-R,_)+n:n}function ip(n,c,_){return _||c==null?c=0:c&&(c=+c),gu(Zn(n).replace(to,""),c||0)}function ap(n,c,_){return(_?ei(n,c,_):c===pt)?c=1:c=Sn(c),ml(Zn(n),c)}function sp(){var n=arguments,c=Zn(n[0]);return n.length<3?c:c.replace(n[1],n[2])}var op=vo(function(n,c,_){return n+(_?"_":"")+c.toLowerCase()});function lp(n,c,_){return _&&typeof _!="number"&&ei(n,c,_)&&(c=_=pt),_=_===pt?lt:_>>>0,_?(n=Zn(n),n&&(typeof c=="string"||c!=null&&!Bh(c))&&(c=ca(c),!c&&Zi(n))?Xi(vi(n),0,_):n.split(c,_)):[]}var up=vo(function(n,c,_){return n+(_?" ":"")+Uh(c)});function hp(n,c,_){return n=Zn(n),_=_==null?0:as(Sn(_),0,n.length),c=ca(c),n.slice(_,_+c.length)==c}function cp(n,c,_){var R=mt.templateSettings;_&&ei(n,c,_)&&(c=pt),n=Zn(n),c=yh({},c,R,Ce);var ut=yh({},c.imports,R.imports,Ce),Tt=Hi(ut),Kt=na(ut,Tt),ce,Te,cr=0,dr=c.interpolate||Xt,xr="__p += '",Dr=rl((c.escape||Xt).source+"|"+dr.source+"|"+(dr===Xa?el:Xt).source+"|"+(c.evaluate||Xt).source+"|$","g"),Gr="//# sourceURL="+(Dn.call(c,"sourceURL")?(c.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++mr+"]")+`
`;n.replace(Dr,function(on,En,Rn,Ga,ma,Ya){return Rn||(Rn=Ga),xr+=n.slice(cr,Ya).replace(ve,Ja),En&&(ce=!0,xr+=`' +
__e(`+En+`) +
'`),ma&&(Te=!0,xr+=`';
`+ma+`;
__p += '`),Rn&&(xr+=`' +
((__t = (`+Rn+`)) == null ? '' : __t) +
'`),cr=Ya+on.length,on}),xr+=`';
`;var sn=Dn.call(c,"variable")&&c.variable;if(!sn)xr=`with (obj) {
`+xr+`
}
`;else if(Va.test(sn))throw new an(s);xr=(Te?xr.replace(ki,""):xr).replace(ni,"$1").replace(Ia,"$1;"),xr="function("+(sn||"obj")+`) {
`+(sn?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(ce?", __e = _.escape":"")+(Te?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+xr+`return __p
}`;var An=_c(function(){return Nn(Tt,Gr+"return "+xr).apply(pt,Kt)});if(An.source=xr,Rh(An))throw An;return An}function fp(n){return Zn(n).toLowerCase()}function dp(n){return Zn(n).toUpperCase()}function pp(n,c,_){if(n=Zn(n),n&&(_||c===pt))return li(n);if(!n||!(c=ca(c)))return n;var R=vi(n),ut=vi(c),Tt=hn(R,ut),Kt=Un(R,ut)+1;return Xi(R,Tt,Kt).join("")}function gp(n,c,_){if(n=Zn(n),n&&(_||c===pt))return n.slice(0,ia(n)+1);if(!n||!(c=ca(c)))return n;var R=vi(n),ut=Un(R,vi(c))+1;return Xi(R,0,ut).join("")}function mp(n,c,_){if(n=Zn(n),n&&(_||c===pt))return n.replace(to,"");if(!n||!(c=ca(c)))return n;var R=vi(n),ut=hn(R,vi(c));return Xi(R,ut).join("")}function vp(n,c){var _=Ut,R=pe;if(bi(c)){var ut="separator"in c?c.separator:ut;_="length"in c?Sn(c.length):_,R="omission"in c?ca(c.omission):R}n=Zn(n);var Tt=n.length;if(Zi(n)){var Kt=vi(n);Tt=Kt.length}if(_>=Tt)return n;var ce=_-zi(R);if(ce<1)return R;var Te=Kt?Xi(Kt,0,ce).join(""):n.slice(0,ce);if(ut===pt)return Te+R;if(Kt&&(ce+=Te.length-ce),Bh(ut)){if(n.slice(ce).search(ut)){var cr,dr=Te;for(ut.global||(ut=rl(ut.source,Zn(X.exec(ut))+"g")),ut.lastIndex=0;cr=ut.exec(dr);)var xr=cr.index;Te=Te.slice(0,xr===pt?ce:xr)}}else if(n.indexOf(ca(ut),ce)!=ce){var Dr=Te.lastIndexOf(ut);Dr>-1&&(Te=Te.slice(0,Dr))}return Te+R}function yp(n){return n=Zn(n),n&&va.test(n)?n.replace(Mr,ro):n}var bp=vo(function(n,c,_){return n+(_?" ":"")+c.toUpperCase()}),Uh=$u("toUpperCase");function bc(n,c,_){return n=Zn(n),c=_?pt:c,c===pt?_a(n)?Oo(n):en(n):n.match(c)||[]}var _c=gn(function(n,c){try{return vr(n,pt,c)}catch(_){return Rh(_)?_:new an(_)}}),_p=hr(function(n,c){return Pr(c,function(_){_=ls(_),Ui(n,_,Mh(n[_],n))}),n});function wp(n){var c=n==null?0:n.length,_=Er();return n=c?ir(n,function(R){if(typeof R[1]!="function")throw new Ji(b);return[_(R[0]),R[1]]}):[],gn(function(R){for(var ut=-1;++ut<c;){var Tt=n[ut];if(vr(Tt[0],this,R))return vr(Tt[1],this,R)}})}function xp(n){return Gi(Mi(n,r))}function Wh(n){return function(){return n}}function Sp(n,c){return n==null||n!==n?c:n}var Cp=Pu(),Ap=Pu(!0);function Fa(n){return n}function Hh(n){return yu(typeof n=="function"?n:Mi(n,r))}function Tp(n){return _u(Mi(n,r))}function Op(n,c){return Yl(n,Mi(c,r))}var Pp=gn(function(n,c){return function(_){return xs(_,n,c)}}),Lp=gn(function(n,c){return function(_){return xs(n,_,c)}});function qh(n,c,_){var R=Hi(c),ut=ta(c,R);_==null&&!(bi(c)&&(ut.length||!R.length))&&(_=c,c=n,n=this,ut=ta(c,Hi(c)));var Tt=!(bi(_)&&"chain"in _)||!!_.chain,Kt=wo(n);return Pr(ut,function(ce){var Te=c[ce];n[ce]=Te,Kt&&(n.prototype[ce]=function(){var cr=this.__chain__;if(Tt||cr){var dr=n(this.__wrapped__),xr=dr.__actions__=Wi(this.__actions__);return xr.push({func:Te,args:arguments,thisArg:n}),dr.__chain__=cr,dr}return Te.apply(n,Ir([this.value()],arguments))})}),n}function kp(){return _r._===this&&(_r._=ao),this}function Gh(){}function Ep(n){return n=Sn(n),gn(function(c){return ha(c,n)})}var Fp=W(ir),Ip=W(Xr),Np=W(Hr);function wc(n){return Oa(n)?Vn(ls(n)):Vl(n)}function Mp(n){return function(c){return n==null?pt:ss(n,c)}}var Dp=ft(),Rp=ft(!0);function Yh(){return[]}function Xh(){return!1}function Bp(){return{}}function jp(){return""}function zp(){return!0}function Up(n,c){if(n=Sn(n),n<1||n>tt)return[];var _=lt,R=_i(n,lt);c=Er(c),n-=lt;for(var ut=Bn(R,c);++_<n;)c(_);return ut}function Wp(n){return bn(n)?ir(n,ls):qa(n)?[n]:Wi(Ko(Zn(n)))}function Hp(n){var c=++fu;return Zn(n)+c}var qp=E(function(n,c){return n+c},0),Gp=It("ceil"),Yp=E(function(n,c){return n/c},1),Xp=It("floor");function Vp(n){return n&&n.length?zo(n,Fa,os):pt}function Kp(n,c){return n&&n.length?zo(n,Er(c,2),os):pt}function Zp(n){return Bi(n,Fa)}function Jp(n,c){return Bi(n,Er(c,2))}function $p(n){return n&&n.length?zo(n,Fa,Gl):pt}function Qp(n,c){return n&&n.length?zo(n,Er(c,2),Gl):pt}var t0=E(function(n,c){return n*c},1),e0=It("round"),r0=E(function(n,c){return n-c},0);function n0(n){return n&&n.length?ba(n,Fa):0}function i0(n,c){return n&&n.length?ba(n,Er(c,2)):0}return mt.after=Tf,mt.ary=$h,mt.assign=dd,mt.assignIn=fc,mt.assignInWith=yh,mt.assignWith=pd,mt.at=gd,mt.before=Qh,mt.bind=Mh,mt.bindAll=_p,mt.bindKey=tc,mt.castArray=Bf,mt.chain=Kh,mt.chunk=Th,mt.compact=Oh,mt.concat=Ph,mt.cond=wp,mt.conforms=xp,mt.constant=Wh,mt.countBy=rf,mt.create=md,mt.curry=ec,mt.curryRight=rc,mt.debounce=nc,mt.defaults=vd,mt.defaultsDeep=yd,mt.defer=Of,mt.delay=Pf,mt.difference=rh,mt.differenceBy=ou,mt.differenceWith=nh,mt.drop=ih,mt.dropRight=lu,mt.dropRightWhile=Eu,mt.dropWhile=Sl,mt.fill=ah,mt.filter=af,mt.flatMap=lf,mt.flatMapDeep=uf,mt.flatMapDepth=hf,mt.flatten=Fu,mt.flattenDeep=Iu,mt.flattenDepth=Zs,mt.flip=Lf,mt.flow=Cp,mt.flowRight=Ap,mt.fromPairs=oh,mt.functions=Ad,mt.functionsIn=Td,mt.groupBy=cf,mt.initial=lh,mt.intersection=Zo,mt.intersectionBy=kh,mt.intersectionWith=uh,mt.invert=Pd,mt.invertBy=Ld,mt.invokeMap=df,mt.iteratee=Hh,mt.keyBy=pf,mt.keys=Hi,mt.keysIn=Ea,mt.map=fh,mt.mapKeys=Ed,mt.mapValues=Fd,mt.matches=Tp,mt.matchesProperty=Op,mt.memoize=ph,mt.merge=Id,mt.mergeWith=dc,mt.method=Pp,mt.methodOf=Lp,mt.mixin=qh,mt.negate=gh,mt.nthArg=Ep,mt.omit=Nd,mt.omitBy=Md,mt.once=kf,mt.orderBy=gf,mt.over=Fp,mt.overArgs=Ef,mt.overEvery=Ip,mt.overSome=Np,mt.partial=Dh,mt.partialRight=ic,mt.partition=mf,mt.pick=Dd,mt.pickBy=pc,mt.property=wc,mt.propertyOf=Mp,mt.pull=Mu,mt.pullAll=Tl,mt.pullAllBy=Os,mt.pullAllWith=Js,mt.pullAt=$s,mt.range=Dp,mt.rangeRight=Rp,mt.rearg=Ff,mt.reject=bf,mt.remove=uu,mt.rest=If,mt.reverse=Ol,mt.sampleSize=wf,mt.set=Bd,mt.setWith=jd,mt.shuffle=xf,mt.slice=hh,mt.sortBy=Af,mt.sortedUniq=Tc,mt.sortedUniqBy=Oc,mt.split=lp,mt.spread=Nf,mt.tail=Pc,mt.take=Lc,mt.takeRight=kc,mt.takeRightWhile=Ec,mt.takeWhile=Fc,mt.tap=Xc,mt.throttle=Mf,mt.thru=ch,mt.toArray=uc,mt.toPairs=gc,mt.toPairsIn=mc,mt.toPath=Wp,mt.toPlainObject=cc,mt.transform=zd,mt.unary=Df,mt.union=Ic,mt.unionBy=Nc,mt.unionWith=Mc,mt.uniq=Dc,mt.uniqBy=Rc,mt.uniqWith=Bc,mt.unset=Ud,mt.unzip=Nh,mt.unzipWith=Vh,mt.update=Wd,mt.updateWith=Hd,mt.values=cu,mt.valuesIn=qd,mt.without=jc,mt.words=bc,mt.wrap=Rf,mt.xor=zc,mt.xorBy=Uc,mt.xorWith=Wc,mt.zip=Hc,mt.zipObject=qc,mt.zipObjectDeep=Gc,mt.zipWith=Yc,mt.entries=gc,mt.entriesIn=mc,mt.extend=fc,mt.extendWith=yh,qh(mt,mt),mt.add=qp,mt.attempt=_c,mt.camelCase=Vd,mt.capitalize=vc,mt.ceil=Gp,mt.clamp=Gd,mt.clone=jf,mt.cloneDeep=Uf,mt.cloneDeepWith=Wf,mt.cloneWith=zf,mt.conformsTo=Hf,mt.deburr=yc,mt.defaultTo=Sp,mt.divide=Yp,mt.endsWith=Kd,mt.eq=Ps,mt.escape=Zd,mt.escapeRegExp=Jd,mt.every=nf,mt.find=sf,mt.findIndex=sh,mt.findKey=bd,mt.findLast=of,mt.findLastIndex=Cl,mt.findLastKey=_d,mt.floor=Xp,mt.forEach=Zh,mt.forEachRight=Jh,mt.forIn=wd,mt.forInRight=xd,mt.forOwn=Sd,mt.forOwnRight=Cd,mt.get=jh,mt.gt=qf,mt.gte=Gf,mt.has=Od,mt.hasIn=zh,mt.head=Nu,mt.identity=Fa,mt.includes=ff,mt.indexOf=Lh,mt.inRange=Yd,mt.invoke=kd,mt.isArguments=Pl,mt.isArray=bn,mt.isArrayBuffer=Yf,mt.isArrayLike=ka,mt.isArrayLikeObject=Pi,mt.isBoolean=Xf,mt.isBuffer=Jo,mt.isDate=Vf,mt.isElement=Kf,mt.isEmpty=Zf,mt.isEqual=Jf,mt.isEqualWith=$f,mt.isError=Rh,mt.isFinite=Qf,mt.isFunction=wo,mt.isInteger=ac,mt.isLength=mh,mt.isMap=sc,mt.isMatch=td,mt.isMatchWith=ed,mt.isNaN=rd,mt.isNative=nd,mt.isNil=ad,mt.isNull=id,mt.isNumber=oc,mt.isObject=bi,mt.isObjectLike=Si,mt.isPlainObject=Bu,mt.isRegExp=Bh,mt.isSafeInteger=sd,mt.isSet=lc,mt.isString=vh,mt.isSymbol=qa,mt.isTypedArray=hu,mt.isUndefined=od,mt.isWeakMap=ld,mt.isWeakSet=ud,mt.join=Eh,mt.kebabCase=$d,mt.last=ga,mt.lastIndexOf=Fh,mt.lowerCase=Qd,mt.lowerFirst=tp,mt.lt=hd,mt.lte=cd,mt.max=Vp,mt.maxBy=Kp,mt.mean=Zp,mt.meanBy=Jp,mt.min=$p,mt.minBy=Qp,mt.stubArray=Yh,mt.stubFalse=Xh,mt.stubObject=Bp,mt.stubString=jp,mt.stubTrue=zp,mt.multiply=t0,mt.nth=Al,mt.noConflict=kp,mt.noop=Gh,mt.now=dh,mt.pad=ep,mt.padEnd=rp,mt.padStart=np,mt.parseInt=ip,mt.random=Xd,mt.reduce=vf,mt.reduceRight=yf,mt.repeat=ap,mt.replace=sp,mt.result=Rd,mt.round=e0,mt.runInContext=xe,mt.sample=_f,mt.size=Sf,mt.snakeCase=op,mt.some=Cf,mt.sortedIndex=Ih,mt.sortedIndexBy=Du,mt.sortedIndexOf=Ru,mt.sortedLastIndex=Sc,mt.sortedLastIndexBy=Cc,mt.sortedLastIndexOf=Ac,mt.startCase=up,mt.startsWith=hp,mt.subtract=r0,mt.sum=n0,mt.sumBy=i0,mt.template=cp,mt.times=Up,mt.toFinite=xo,mt.toInteger=Sn,mt.toLength=hc,mt.toLower=fp,mt.toNumber=us,mt.toSafeInteger=fd,mt.toString=Zn,mt.toUpper=dp,mt.trim=pp,mt.trimEnd=gp,mt.trimStart=mp,mt.truncate=vp,mt.unescape=yp,mt.uniqueId=Hp,mt.upperCase=bp,mt.upperFirst=Uh,mt.each=Zh,mt.eachRight=Jh,mt.first=Nu,qh(mt,function(){var n={};return Oi(mt,function(c,_){Dn.call(mt.prototype,_)||(n[_]=c)}),n}(),{chain:!1}),mt.VERSION=dt,Pr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(n){mt[n].placeholder=mt}),Pr(["drop","take"],function(n,c){wn.prototype[n]=function(_){_=_===pt?1:si(Sn(_),0);var R=this.__filtered__&&!c?new wn(this):this.clone();return R.__filtered__?R.__takeCount__=_i(_,R.__takeCount__):R.__views__.push({size:_i(_,lt),type:n+(R.__dir__<0?"Right":"")}),R},wn.prototype[n+"Right"]=function(_){return this.reverse()[n](_).reverse()}}),Pr(["filter","map","takeWhile"],function(n,c){var _=c+1,R=_==Gt||_==_e;wn.prototype[n]=function(ut){var Tt=this.clone();return Tt.__iteratees__.push({iteratee:Er(ut,3),type:_}),Tt.__filtered__=Tt.__filtered__||R,Tt}}),Pr(["head","last"],function(n,c){var _="take"+(c?"Right":"");wn.prototype[n]=function(){return this[_](1).value()[0]}}),Pr(["initial","tail"],function(n,c){var _="drop"+(c?"":"Right");wn.prototype[n]=function(){return this.__filtered__?new wn(this):this[_](1)}}),wn.prototype.compact=function(){return this.filter(Fa)},wn.prototype.find=function(n){return this.filter(n).head()},wn.prototype.findLast=function(n){return this.reverse().find(n)},wn.prototype.invokeMap=gn(function(n,c){return typeof n=="function"?new wn(this):this.map(function(_){return xs(_,n,c)})}),wn.prototype.reject=function(n){return this.filter(gh(Er(n)))},wn.prototype.slice=function(n,c){n=Sn(n);var _=this;return _.__filtered__&&(n>0||c<0)?new wn(_):(n<0?_=_.takeRight(-n):n&&(_=_.drop(n)),c!==pt&&(c=Sn(c),_=c<0?_.dropRight(-c):_.take(c-n)),_)},wn.prototype.takeRightWhile=function(n){return this.reverse().takeWhile(n).reverse()},wn.prototype.toArray=function(){return this.take(lt)},Oi(wn.prototype,function(n,c){var _=/^(?:filter|find|map|reject)|While$/.test(c),R=/^(?:head|last)$/.test(c),ut=mt[R?"take"+(c=="last"?"Right":""):c],Tt=R||/^find/.test(c);!ut||(mt.prototype[c]=function(){var Kt=this.__wrapped__,ce=R?[1]:arguments,Te=Kt instanceof wn,cr=ce[0],dr=Te||bn(Kt),xr=function(En){var Rn=ut.apply(mt,Ir([En],ce));return R&&Dr?Rn[0]:Rn};dr&&_&&typeof cr=="function"&&cr.length!=1&&(Te=dr=!1);var Dr=this.__chain__,Gr=!!this.__actions__.length,sn=Tt&&!Dr,An=Te&&!Gr;if(!Tt&&dr){Kt=An?Kt:new wn(this);var on=n.apply(Kt,ce);return on.__actions__.push({func:ch,args:[xr],thisArg:pt}),new Qi(on,Dr)}return sn&&An?n.apply(this,ce):(on=this.thru(xr),sn?R?on.value()[0]:on.value():on)})}),Pr(["pop","push","shift","sort","splice","unshift"],function(n){var c=$i[n],_=/^(?:push|sort|unshift)$/.test(n)?"tap":"thru",R=/^(?:pop|shift)$/.test(n);mt.prototype[n]=function(){var ut=arguments;if(R&&!this.__chain__){var Tt=this.value();return c.apply(bn(Tt)?Tt:[],ut)}return this[_](function(Kt){return c.apply(bn(Kt)?Kt:[],ut)})}}),Oi(wn.prototype,function(n,c){var _=mt[c];if(_){var R=_.name+"";Dn.call(Ra,R)||(Ra[R]=[]),Ra[R].push({name:c,func:_})}}),Ra[d(pt,f).name]=[{name:"wrapper",func:pt}],wn.prototype.clone=ol,wn.prototype.reverse=Ul,wn.prototype.value=Ro,mt.prototype.at=Vc,mt.prototype.chain=Kc,mt.prototype.commit=Zc,mt.prototype.next=Jc,mt.prototype.plant=Qc,mt.prototype.reverse=tf,mt.prototype.toJSON=mt.prototype.valueOf=mt.prototype.value=ef,mt.prototype.first=mt.prototype.head,aa&&(mt.prototype[aa]=$c),mt},ds=Po();_r._=ds,be=function(){return ds}.call(wr,De,wr,L),be!==pt&&(L.exports=be)}).call(this)}).call(this,De("IyRk"),De("hOG+")(un))},PGov:function(un,wr,De){"use strict";var Je=De("i8i4"),L=De.n(Je),be=De("oOwn"),pt=De.n(be),dt=De("bBst"),Yt=De.n(dt),Q=De("q1tI"),b=De.n(Q);function s(Y,lt,$){return lt in Y?Object.defineProperty(Y,lt,{value:$,enumerable:!0,configurable:!0,writable:!0}):Y[lt]=$,Y}function h(Y){for(var lt=1;lt<arguments.length;lt++){var $=arguments[lt]!=null?arguments[lt]:{},F=Object.keys($);typeof Object.getOwnPropertySymbols=="function"&&(F=F.concat(Object.getOwnPropertySymbols($).filter(function(et){return Object.getOwnPropertyDescriptor($,et).enumerable}))),F.forEach(function(et){s(Y,et,$[et])})}return Y}function u(Y,lt){if(!(Y instanceof lt))throw new TypeError("Cannot call a class as a function")}function o(Y,lt){for(var $=0;$<lt.length;$++){var F=lt[$];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(Y,F.key,F)}}function r(Y,lt,$){return lt&&o(Y.prototype,lt),$&&o(Y,$),Y}function e(Y){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function($){return typeof $}:e=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},e(Y)}function t(Y){return typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?t=function($){return e($)}:t=function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":e($)},t(Y)}function a(Y){if(Y===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Y}function l(Y,lt){return lt&&(t(lt)==="object"||typeof lt=="function")?lt:a(Y)}function i(Y){return i=Object.setPrototypeOf?Object.getPrototypeOf:function($){return $.__proto__||Object.getPrototypeOf($)},i(Y)}function f(Y,lt){return f=Object.setPrototypeOf||function(F,et){return F.__proto__=et,F},f(Y,lt)}function p(Y,lt){if(typeof lt!="function"&&lt!==null)throw new TypeError("Super expression must either be null or a function");Y.prototype=Object.create(lt&&lt.prototype,{constructor:{value:Y,writable:!0,configurable:!0}}),lt&&f(Y,lt)}function v(Y){if(Array.isArray(Y)){for(var lt=0,$=new Array(Y.length);lt<Y.length;lt++)$[lt]=Y[lt];return $}}function C(Y){if(Symbol.iterator in Object(Y)||Object.prototype.toString.call(Y)==="[object Arguments]")return Array.from(Y)}function D(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function V(Y){return v(Y)||C(Y)||D()}var it={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},Ct=function Y(){var lt=this;u(this,Y),this.startListen=function($){!$||$.addEventListener("keydown",lt.f)},this.stopListen=function($){!$||$.removeEventListener("keydown",lt.f)},this.add=function($,F){var et=$;return typeof et!="object"&&(et=[et]),lt.listeners[lt.index]={keyCode:et,fn:F},lt.index++},this.remove=function($){delete lt.listeners[$]},this.removeAll=function(){lt.listeners={},lt.index=1},this.index=1,this.listeners={},this.f=function($){if(!!$){var F=$.keyCode||$.which;Object.values(lt.listeners).forEach(function(et){var ht=et.keyCode,nt=et.fn;ht.includes(F)&&($.stopPropagation(),$.preventDefault(),nt($))})}}},Dt=new Ct,Ut=function(Y){p(lt,Y);function lt(){var $,F;u(this,lt);for(var et=arguments.length,ht=new Array(et),nt=0;nt<et;nt++)ht[nt]=arguments[nt];return F=l(this,($=i(lt)).call.apply($,[this].concat(ht))),F.selectItem=function(){var jt=F.props,xt=jt.item,Mt=jt.onSelectHandler;Mt(xt)},F}return r(lt,[{key:"shouldComponentUpdate",value:function(F){return this.props.item!==F.item||this.props.selected!==F.selected||this.props.style!==F.style||this.props.className!==F.className}},{key:"render",value:function(){var F=this,et=this.props,ht=et.component,nt=et.style,jt=et.onClickHandler,xt=et.item,Mt=et.selected,ae=et.className,se=et.innerRef;return b.a.createElement("li",{className:"rta__item  ".concat(Mt===!0?"rta__item--selected":""," ").concat(ae||""),style:nt},b.a.createElement("div",{className:"rta__entity ".concat(Mt===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:jt,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){F.clicked=!0,F.selectItem()},onTouchEnd:function(Wt){Wt.preventDefault(),F.clicked&&jt(Wt)},onTouchMove:function(){F.clicked=!1},onTouchCancel:function(){F.clicked=!1},ref:se},b.a.createElement(ht,{selected:Mt,entity:xt})))}}]),lt}(b.a.Component),pe=function(Y){p(lt,Y);function lt(){var $,F;u(this,lt);for(var et=arguments.length,ht=new Array(et),nt=0;nt<et;nt++)ht[nt]=arguments[nt];return F=l(this,($=i(lt)).call.apply($,[this].concat(ht))),F.state={selectedItem:null},F.cachedIdOfItems=new Map,F.onPressEnter=function(jt){typeof jt!="undefined"&&jt.preventDefault();var xt=F.props.values;F.modifyText(xt[F.getPositionInList()])},F.getPositionInList=function(){var jt=F.props.values,xt=F.state.selectedItem;return xt?jt.findIndex(function(Mt){return F.getId(Mt)===F.getId(xt)}):0},F.getId=function(jt){if(F.cachedIdOfItems.has(jt))return F.cachedIdOfItems.get(jt);var xt=F.props.getTextToReplace(jt),Mt=function(){if(xt){if(xt.key)return xt.key;if(typeof jt=="string"||!jt.key)return xt.text}if(!jt.key)throw new Error("Item ".concat(JSON.stringify(jt),' has to have defined "key" property'));return jt.key},ae=Mt();return F.cachedIdOfItems.set(jt,ae),ae},F.listeners=[],F.itemsRef={},F.modifyText=function(jt){if(!!jt){var xt=F.props.onSelect;xt(jt)}},F.selectItem=function(jt){var xt=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Mt=F.props.onItemHighlighted;F.state.selectedItem!==jt&&F.setState({selectedItem:jt},function(){Mt(jt),xt&&F.props.dropdownScroll(F.itemsRef[F.getId(jt)])})},F.scroll=function(jt){jt.preventDefault();var xt=F.props.values,Mt=jt.keyCode||jt.which,ae=F.getPositionInList(),se;switch(Mt){case it.DOWN:se=ae+1;break;case it.UP:se=ae-1;break;default:se=ae;break}se=(se%xt.length+xt.length)%xt.length,F.selectItem(xt[se],[it.DOWN,it.UP].includes(Mt))},F.isSelected=function(jt){var xt=F.state.selectedItem;return xt?F.getId(xt)===F.getId(jt):!1},F}return r(lt,[{key:"componentDidMount",value:function(){this.listeners.push(Dt.add([it.DOWN,it.UP],this.scroll),Dt.add([it.ENTER,it.TAB],this.onPressEnter));var F=this.props.values;F&&F[0]&&this.selectItem(F[0])}},{key:"componentDidUpdate",value:function(F){var et=this,ht=F.values,nt=this.props.values,jt=ht.map(function(Mt){return et.getId(Mt)}).join(""),xt=nt.map(function(Mt){return et.getId(Mt)}).join("");jt!==xt&&nt&&nt[0]&&this.selectItem(nt[0])}},{key:"componentWillUnmount",value:function(){for(var F;this.listeners.length;)F=this.listeners.pop(),Dt.remove(F)}},{key:"render",value:function(){var F=this,et=this.props,ht=et.values,nt=et.component,jt=et.style,xt=et.itemClassName,Mt=et.className,ae=et.itemStyle;return b.a.createElement("ul",{className:"rta__list ".concat(Mt||""),style:jt},ht.map(function(se){return b.a.createElement(Ut,{key:F.getId(se),innerRef:function(Wt){F.itemsRef[F.getId(se)]=Wt},selected:F.isSelected(se),item:se,className:xt,style:ae,onClickHandler:F.onPressEnter,onSelectHandler:F.selectItem,component:nt})}))}}]),lt}(b.a.Component);function Ee(Y,lt){var $=parseInt(getComputedStyle(lt).getPropertyValue("height"),10),F=parseInt(getComputedStyle(Y).getPropertyValue("height"),10)-$,et=lt.offsetTop,ht=Y.scrollTop;et<ht+F&&ht<et||(Y.scrollTop=et)}var At="next",Gt={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},Z=function(lt){return console.error("RTA: dataProvider fails: ".concat(lt,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},_e=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],er=function(lt){return V(lt).map(function($){return _e.includes($)?"\\".concat($):$}).join("")},tt=function(Y){p(lt,Y);function lt(){return u(this,lt),l(this,i(lt).apply(this,arguments))}return r(lt,[{key:"componentDidMount",value:function(){var F=this.props.boundariesElement;if(typeof F=="string"){var et=document.querySelector(F);if(!et)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=et}else if(F instanceof HTMLElement)this.containerElem=F;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var F,et,ht=this.props.top||0,nt=this.props.left||0,jt=[],xt=[],Mt=0,ae=0,se=this.containerElem.getBoundingClientRect(),Zt=this.ref.getBoundingClientRect(),Wt=this.props.textareaRef.getBoundingClientRect(),oe=window.getComputedStyle(this.ref),N=parseInt(oe.getPropertyValue("margin-top"),10),zt=parseInt(oe.getPropertyValue("margin-bottom"),10),U=parseInt(oe.getPropertyValue("margin-left"),10),x=parseInt(oe.getPropertyValue("margin-right"),10),A=N+zt+Wt.top+ht+Zt.height,H=U+x+Wt.left+nt+Zt.width;H>se.right&&Wt.left+nt>Zt.width?(ae=nt-Zt.width,jt.push(Gt.X.LEFT),xt.push(Gt.X.RIGHT)):(ae=nt,jt.push(Gt.X.RIGHT),xt.push(Gt.X.LEFT)),A>se.bottom&&Wt.top+ht>Zt.height?(Mt=ht-Zt.height,jt.push(Gt.Y.TOP),xt.push(Gt.Y.BOTTOM)):(Mt=ht,jt.push(Gt.Y.BOTTOM),xt.push(Gt.Y.TOP)),this.props.renderToBody&&(Mt+=Wt.top,ae+=Wt.left),this.ref.style.top="".concat(Mt,"px"),this.ref.style.left="".concat(ae,"px"),(F=this.ref.classList).remove.apply(F,xt),(et=this.ref.classList).add.apply(et,jt)}},{key:"render",value:function(){var F=this,et=this.props,ht=et.style,nt=et.className,jt=et.innerRef,xt=et.children,Mt=et.renderToBody,ae=document.body,se=b.a.createElement("div",{ref:function(Wt){F.ref=Wt,jt(Wt)},className:"rta__autocomplete ".concat(nt||""),style:ht},xt);return Mt&&ae!==null?L.a.createPortal(se,ae):se}}]),lt}(b.a.Component),te=function(Y){p(lt,Y);function lt($){var F;u(this,lt),F=l(this,i(lt).call(this,$)),F.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},F.escListenerInit=function(){F.escListener||(F.escListener=Dt.add(it.ESC,F._closeAutocomplete))},F.escListenerDestroy=function(){F.escListener&&(Dt.remove(F.escListener),F.escListener=null)},F.getSelectionPosition=function(){return F.textareaRef?{selectionStart:F.textareaRef.selectionStart,selectionEnd:F.textareaRef.selectionEnd}:null},F.getSelectedText=function(){if(!F.textareaRef)return null;var xt=F.textareaRef,Mt=xt.selectionStart,ae=xt.selectionEnd;return Mt===ae?null:F.state.value.substr(Mt,ae-Mt)},F.setCaretPosition=function(){var xt=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;!F.textareaRef||(F.textareaRef.focus(),F.textareaRef.setSelectionRange(xt,xt))},F.getCaretPosition=function(){if(!F.textareaRef)return 0;var xt=F.textareaRef.selectionEnd;return xt},F._handleCaretChange=function(xt){var Mt=function(){var Zt=F.getCaretPosition()-1;F.lastTrigger=F.lastTrigger?Zt:0};if(xt.type==="keydown"){var ae=xt.keyCode||xt.which;switch(ae){case it.UP:case it.DOWN:F._isAutocompleteOpen()||Mt();break;case it.LEFT:case it.RIGHT:Mt();break;default:}return}Mt()},F._onSelect=function(xt){var Mt=F.state,ae=Mt.selectionEnd,se=Mt.currentTrigger,Zt=Mt.value,Wt=F.props.onItemSelected;if(!!se){var oe=F._getTextToReplace(se);if(!oe){F._closeAutocomplete();return}var N=oe(xt);if(!N){F._closeAutocomplete();return}Wt&&Wt({currentTrigger:se,item:xt});var zt=function(Se,Ge,pr){switch(Se){case"start":return pr;case"next":case"end":return pr+Ge.length;default:if(!Number.isInteger(Se))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return Se}},U=Zt.slice(0,ae),x=er(se),A=U.length-U.lastIndexOf(se),H=U.search(new RegExp("(?!".concat(x,")$")))-A,at=N.caretPosition==="next"?"".concat(N.text," "):N.text,Ot=zt(N.caretPosition,at,H),_t=U.substring(0,H)+at,we=Zt.replace(U,_t);F.setState({value:we,dataLoading:!1},function(){var Me=F.tokenRegExpEnding.exec(at),Se=Me?Me[0].length:1;F.lastTrigger=Ot&&Ot-Se,F.textareaRef.value=we,F.textareaRef.selectionEnd=Ot,F._changeHandler();var Ge=F.textareaRef.scrollTop;F.setCaretPosition(Ot),window.chrome&&(F.textareaRef.scrollTop=Ge)})}},F._getTextToReplace=function(xt){var Mt=F.props.trigger[xt];if(!xt||!Mt)return null;var ae=Mt.output;return function(se){if(typeof se=="object"&&(!ae||typeof ae!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if(ae){var Zt=ae(se,xt);if(Zt===void 0||typeof Zt=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(Zt),'". Check the implementation for trigger "').concat(xt,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(Zt===null)return null;if(typeof Zt=="string")return{text:Zt,caretPosition:At};if(!Zt.text&&typeof Zt.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(xt,`"
`));if(!Zt.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(xt,`"
`));return Zt}if(typeof se!="string")throw new Error(`Output item should be string
`);return{text:"".concat(xt).concat(se).concat(xt),caretPosition:At}}},F._getCurrentTriggerSettings=function(){var xt=F.state.currentTrigger;return xt?F.props.trigger[xt]:null},F._getValuesFromProvider=function(){var xt=F.state,Mt=xt.currentTrigger,ae=xt.actualToken,se=F._getCurrentTriggerSettings();if(!(!Mt||!se)){var Zt=se.dataProvider,Wt=se.component;if(typeof Zt!="function")throw new Error("Trigger provider has to be a function!");F.setState({dataLoading:!0});var oe=Zt(ae);oe instanceof Promise||(oe=Promise.resolve(oe)),oe.then(function(N){if(!Array.isArray(N))throw new Error("Trigger provider has to provide an array!");if(typeof Wt!="function")throw new Error("Component should be defined!");if(Mt===F.state.currentTrigger){if(!N.length){F._closeAutocomplete();return}F.setState({dataLoading:!1,data:N,component:Wt})}}).catch(function(N){return Z(N.message)})}},F._getSuggestions=function(){var xt=F.state,Mt=xt.currentTrigger,ae=xt.data;return!Mt||!ae||ae&&!ae.length?null:ae},F._createRegExp=function(){var xt=F.props.trigger;F.tokenRegExp=new RegExp("(".concat(Object.keys(xt).sort(function(Mt,ae){return Mt<ae?1:Mt>ae?-1:0}).map(function(Mt){return er(Mt)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),F.tokenRegExpEnding=new RegExp("(".concat(Object.keys(xt).sort(function(Mt,ae){return Mt<ae?1:Mt>ae?-1:0}).map(function(Mt){return er(Mt)}).join("|"),")$"))},F._closeAutocomplete=function(){var xt=F.state.currentTrigger;F.escListenerDestroy(),F.setState({data:null,dataLoading:!1,currentTrigger:null},function(){xt&&F._onItemHighlightedHandler(null)})},F._cleanUpProps=function(){var xt=h({},F.props),Mt=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var ae in xt)Mt.includes(ae)&&delete xt[ae];return xt},F._changeHandler=function(xt){var Mt=F.props,ae=Mt.trigger,se=Mt.onChange,Zt=Mt.minChar,Wt=Mt.onCaretPositionChange,oe=Mt.movePopupAsYouType,N=F.state,zt=N.top,U=N.left,x=xt;x||(x=new Yt.a("change",{bubbles:!0}),F.textareaRef.dispatchEvent(x));var A=x.target||F.textareaRef,H=A.selectionEnd,at=A.value;if(F.lastValueBubbledEvent=at,se&&x&&(x.persist&&x.persist(),se(new Proxy(x,{get:function(pi,$n,ki){return $n==="target"?A:Reflect.get(pi,$n,ki)}}))),Wt){var Ot=F.getCaretPosition();Wt(Ot)}F.setState({value:at});var _t=function(){var pi=pt()(A,H),$n=pi.top,ki=pi.left;F.setState({top:$n-F.textareaRef.scrollTop||0,left:ki})},we=function(pi){F.lastTrigger=H-pi,F._closeAutocomplete(),_t()};if(H<=F.lastTrigger){var Me=at.slice(0,H),Se=F.tokenRegExp.exec(Me);we(Se?Se[0].length:0)}var Ge=at.slice(F.lastTrigger,H),pr=F.tokenRegExp.exec(Ge),Ar=pr&&pr[0],Kr=pr&&pr[1]||null,_n=Kr?Kr.length-1:0,Cn=F.tokenRegExpEnding.exec(Ge);if(Cn?we(Cn[0].length):F._isAutocompleteOpen()||F._closeAutocomplete(),(!Ar||Ar.length<=Zt+_n)&&(F.state.currentTrigger&&!ae[F.state.currentTrigger].allowWhitespace||!F.state.currentTrigger)){F._closeAutocomplete();return}if(Kr&&ae[Kr].afterWhitespace&&!/\s/.test(at[H-Ar.length-1])&&at[H-Ar.length-1]!==void 0){F._closeAutocomplete();return}if(F.state.currentTrigger&&ae[F.state.currentTrigger].allowWhitespace){if(pr=new RegExp("".concat(er(F.state.currentTrigger),".*$")).exec(at.slice(0,H)),Ar=pr&&pr[0],!Ar){F._closeAutocomplete();return}Kr=Object.keys(ae).find(function(zn){return zn.slice(0,_n+1)===Ar.slice(0,_n+1)})||null}var Wn=Ar.slice(1);if(!!Kr){(oe||zt===null&&U===null||F.state.currentTrigger!==Kr)&&_t(),F.escListenerInit();var Yr=F._getTextToReplace(Kr);F.setState({selectionEnd:H,currentTrigger:Kr,textToReplace:Yr,actualToken:Wn},function(){try{F._getValuesFromProvider()}catch(zn){Z(zn.message)}})}},F._selectHandler=function(xt){var Mt=F.props,ae=Mt.onCaretPositionChange,se=Mt.onSelect;if(ae){var Zt=F.getCaretPosition();ae(Zt)}se&&(xt.persist(),se(xt))},F._shouldStayOpen=function(xt){var Mt=xt.relatedTarget;return Mt===null&&(Mt=document.activeElement),!!(F.dropdownRef&&Mt instanceof Node&&F.dropdownRef.contains(Mt))},F._onClick=function(xt){var Mt=F.props.onClick;Mt&&(xt.persist(),Mt(xt)),!F._shouldStayOpen(xt)&&F._closeAutocomplete()},F._onBlur=function(xt){var Mt=F.props.onBlur;Mt&&(xt.persist(),Mt(xt)),!F._shouldStayOpen(xt)&&F._closeAutocomplete()},F._onScrollHandler=function(){F._closeAutocomplete()},F._onItemHighlightedHandler=function(xt){var Mt=F.props.onItemHighlighted,ae=F.state.currentTrigger;if(Mt)if(typeof Mt=="function")Mt({currentTrigger:ae,item:xt});else throw new Error("`onItemHighlighted` has to be a function")},F._dropdownScroll=function(xt){var Mt=F.props.scrollToItem;if(!!Mt){if(Mt===!0){Ee(F.dropdownRef,xt);return}if(typeof Mt!="function"||Mt.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");Mt(F.dropdownRef,xt)}},F._isAutocompleteOpen=function(){var xt=F.state,Mt=xt.dataLoading,ae=xt.currentTrigger,se=F._getSuggestions();return!!((Mt||se)&&ae)},F._textareaRef=function(xt){F.props.innerRef&&F.props.innerRef(xt),F.textareaRef=xt},F.lastTrigger=0,F.escListener=null;var et=F.props,ht=et.loadingComponent,nt=et.trigger,jt=et.value;if(jt&&(F.state.value=jt),F._createRegExp(),!ht)throw new Error("RTA: loadingComponent is not defined");if(!nt)throw new Error("RTA: trigger is not defined");return F}return r(lt,[{key:"componentDidMount",value:function(){Dt.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(F){var et=F.trigger,ht=F.value,nt=this.props,jt=nt.trigger,xt=nt.value;Object.keys(jt).join("")!==Object.keys(et).join("")&&this._createRegExp(),ht!==xt&&this.lastValueBubbledEvent!==xt&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),Dt.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var F=this,et=this.props,ht=et.loadingComponent,nt=et.style,jt=et.className,xt=et.listStyle,Mt=et.itemStyle,ae=et.boundariesElement,se=et.movePopupAsYouType,Zt=et.listClassName,Wt=et.itemClassName,oe=et.dropdownClassName,N=et.dropdownStyle,zt=et.containerStyle,U=et.containerClassName,x=et.loaderStyle,A=et.loaderClassName,H=et.textAreaComponent,at=et.renderToBody,Ot=this.state,_t=Ot.left,we=Ot.top,Me=Ot.dataLoading,Se=Ot.component,Ge=Ot.value,pr=Ot.textToReplace,Ar=this._isAutocompleteOpen(),Kr=this._getSuggestions(),_n={},Cn;return H.component?(Cn=H.component,_n[H.ref]=this._textareaRef):(Cn=H,_n.ref=this._textareaRef),b.a.createElement("div",{className:"rta ".concat(Me===!0?"rta--loading":""," ").concat(U||""),style:zt},b.a.createElement(Cn,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(jt||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:Ge,style:nt},_n)),Ar&&b.a.createElement(tt,{innerRef:function(Yr){F.dropdownRef=Yr},top:we,left:_t,style:N,className:oe,movePopupAsYouType:se,boundariesElement:ae,textareaRef:this.textareaRef,renderToBody:at},Kr&&Se&&pr&&b.a.createElement(pe,{values:Kr,component:Se,style:xt,className:Zt,itemClassName:Wt,itemStyle:Mt,getTextToReplace:pr,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),Me&&b.a.createElement("div",{className:"rta__loader ".concat(Kr!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(A||""),style:x},b.a.createElement(ht,{data:Kr}))))}}],[{key:"getDerivedStateFromProps",value:function(F){var et=F.value;return et==null?null:{value:et}}}]),lt}(b.a.Component);te.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1},wr.a=te},QDO1:function(un,wr,De){"use strict";De.d(wr,"a",function(){return e}),De.d(wr,"b",function(){return r});var Je=De("q1tI"),L=De.n(Je),be=De("epSk"),pt=De.n(be);function dt(){return dt=Object.assign||function(t){for(var a=1;a<arguments.length;a++){var l=arguments[a];for(var i in l)Object.prototype.hasOwnProperty.call(l,i)&&(t[i]=l[i])}return t},dt.apply(this,arguments)}var Yt="#000000",Q="rgba(255, 255, 255, 0.0)",b={radius:20,left:100,top:100,fill:Q,stroke:Yt},s={left:100,top:100,fill:Q,stroke:Yt,width:40,height:40,angle:0},h={points:[50,100,200,200],options:{left:170,top:150,stroke:Yt}},u={type:"text",left:100,top:100,fontSize:16,fontFamily:"Arial",fill:Yt},o=function(a,l,i,f,p,v){return{canvas:a,addCircle:function(){var D=new be.fabric.Circle(dt({},b,{fill:l,stroke:i}));a.add(D)},addRectangle:function(){var D=new be.fabric.Rect(dt({},s,{fill:l,stroke:i}));a.add(D)},addLine:function(){var D=new be.fabric.Line(h.points,dt({},h.options,{stroke:i}));a.add(D)},addText:function(D){var V=new be.fabric.Textbox(D,dt({},u,{fill:i}));V.set({text:D}),a.add(V)},updateText:function(D){var V=a.getActiveObjects();if(V.length&&V[0].type===u.type){var it=V[0];it.set({text:D}),a.renderAll()}},deleteAll:function(){a.getObjects().forEach(function(D){return a.remove(D)}),a.discardActiveObject(),a.renderAll()},deleteSelected:function(){a.getActiveObjects().forEach(function(D){return a.remove(D)}),a.discardActiveObject(),a.renderAll()},fillColor:l,strokeColor:i,setFillColor:function(D){f(D),a.getActiveObjects().forEach(function(V){return V.set({fill:D})}),a.renderAll()},setStrokeColor:function(D){p(D),a.getActiveObjects().forEach(function(V){if(V.type===u.type){V.set({fill:D});return}V.set({stroke:D})}),a.renderAll()},zoomIn:function(){var D=a.getZoom();a.setZoom(D/v)},zoomOut:function(){var D=a.getZoom();a.setZoom(D*v)}}},r=function(a){a===void 0&&(a={});var l=a.scaleStep||.5,i=a,f=i.defaultFillColor,p=i.defaultStrokeColor,v=Object(Je.useState)(null),C=v[0],D=v[1],V=Object(Je.useState)(f||Q),it=V[0],Ct=V[1],Dt=Object(Je.useState)(p||Yt),Ut=Dt[0],pe=Dt[1],Ee=Object(Je.useState)([]),At=Ee[0],Gt=Ee[1];return Object(Je.useEffect)(function(){var Z=function(er){er.on("selection:cleared",function(){Gt([])}),er.on("selection:created",function(tt){Gt(tt.selected)}),er.on("selection:updated",function(tt){Gt(tt.selected)})};C&&Z(C)},[C]),{selectedObjects:At,onReady:function(_e){console.log("Fabric canvas ready"),D(_e)},editor:C?o(C,it,Ut,Ct,pe,l):void 0}},e=function(a){var l=a.className,i=a.onReady,f=Object(Je.useRef)(null),p=Object(Je.useRef)(null);return Object(Je.useEffect)(function(){var v=new be.fabric.Canvas(f.current),C=function(){var it,Ct;v.setHeight(((it=p.current)===null||it===void 0?void 0:it.clientHeight)||0),v.setWidth(((Ct=p.current)===null||Ct===void 0?void 0:Ct.clientWidth)||0),v.renderAll()},D=function(){C()};return C(),window.addEventListener("resize",D,!1),i&&i(v),function(){v.dispose(),window.removeEventListener("resize",D)}},[]),L.a.createElement("div",{ref:p,className:l},L.a.createElement("canvas",{ref:f}))}},ZEwP:function(un,wr,De){"use strict";var Je=De("C4q1"),L=De.n(Je),be=De("JhKR"),pt=De.n(be),dt=De("i680"),Yt=De("hPry"),Q=De.n(Yt),b=function(B){var O,q,st,Pt,Ht=[];for(O=B.split(","),st=0,Pt=O.length;st<Pt;st+=1)q=O[st],q.length>0&&Ht.push(s(q));return Ht},s=function(B){var O=B,q,st={a:0,b:0,c:0},Pt=[],Ht=/(\[[^\]]+\])/g,Xt=/(#[^\#\s\+>~\.\[:\)]+)/g,ve=/(\.[^\s\+>~\.\[:\)]+)/g,Ne=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,ne=/(:(?!not|global|local)[\w-]+\([^\)]*\))/gi,je=/(:(?!not|global|local)[^\s\+>~\.\[:]+)/g,jr=/([^\s\+>~\.\[:]+)/g;return q=function(J,rt){var kt,Jt,ge,Ue,rr,nr;if(J.test(O))for(kt=O.match(J),Jt=0,ge=kt.length;Jt<ge;Jt+=1)st[rt]+=1,Ue=kt[Jt],rr=O.indexOf(Ue),nr=Ue.length,Pt.push({selector:B.substr(rr,nr),type:rt,index:rr,length:nr}),O=O.replace(Ue,Array(nr+1).join(" "))},function(){var Rt=function(ge){var Ue,rr,nr,He;if(ge.test(O))for(Ue=O.match(ge),rr=0,nr=Ue.length;rr<nr;rr+=1)He=Ue[rr],O=O.replace(He,Array(He.length+1).join("A"))},J=/\\[0-9A-Fa-f]{6}\s?/g,rt=/\\[0-9A-Fa-f]{1,5}\s/g,kt=/\\./g;Rt(J),Rt(rt),Rt(kt)}(),function(){var Rt=/{[^]*/gm,J,rt,kt,Jt;if(Rt.test(O))for(J=O.match(Rt),rt=0,kt=J.length;rt<kt;rt+=1)Jt=J[rt],O=O.replace(Jt,Array(Jt.length+1).join(" "))}(),q(Ht,"b"),q(Xt,"a"),q(ve,"b"),q(Ne,"c"),q(ne,"b"),q(je,"b"),O=O.replace(/[\*\s\+>~]/g," "),O=O.replace(/[#\.]/g," "),O=O.replace(/:not/g,"    "),O=O.replace(/:local/g,"      "),O=O.replace(/:global/g,"       "),O=O.replace(/[\(\)]/g," "),q(jr,"c"),Pt.sort(function(Rt,J){return Rt.index-J.index}),{selector:B,specificity:"0,"+st.a.toString()+","+st.b.toString()+","+st.c.toString(),specificityArray:[0,st.a,st.b,st.c],parts:Pt}},h=function(B,O){var q,st,Pt;if(typeof B=="string"){if(B.indexOf(",")!==-1)throw"Invalid CSS selector";q=s(B).specificityArray}else if(Array.isArray(B)){if(B.filter(function(Ht){return typeof Ht=="number"}).length!==4)throw"Invalid specificity array";q=B}else throw"Invalid CSS selector or specificity array";if(typeof O=="string"){if(O.indexOf(",")!==-1)throw"Invalid CSS selector";st=s(O).specificityArray}else if(Array.isArray(O)){if(O.filter(function(Ht){return typeof Ht=="number"}).length!==4)throw"Invalid specificity array";st=O}else throw"Invalid CSS selector or specificity array";for(Pt=0;Pt<4;Pt+=1){if(q[Pt]<st[Pt])return-1;if(q[Pt]>st[Pt])return 1}return 0};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var u=function(B,O){return(u=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(q,st){q.__proto__=st}||function(q,st){for(var Pt in st)st.hasOwnProperty(Pt)&&(q[Pt]=st[Pt])})(B,O)};function o(X,B){function O(){this.constructor=X}u(X,B),X.prototype=B===null?Object.create(B):(O.prototype=B.prototype,new O)}var r=function(){return(r=Object.assign||function(B){for(var O,q=1,st=arguments.length;q<st;q++)for(var Pt in O=arguments[q])Object.prototype.hasOwnProperty.call(O,Pt)&&(B[Pt]=O[Pt]);return B}).apply(this,arguments)};function e(X,B,O,q){return new(O||(O=Promise))(function(st,Pt){function Ht(Ne){try{ve(q.next(Ne))}catch(ne){Pt(ne)}}function Xt(Ne){try{ve(q.throw(Ne))}catch(ne){Pt(ne)}}function ve(Ne){var ne;Ne.done?st(Ne.value):(ne=Ne.value,ne instanceof O?ne:new O(function(je){je(ne)})).then(Ht,Xt)}ve((q=q.apply(X,B||[])).next())})}function t(X,B){var O,q,st,Pt,Ht={label:0,sent:function(){if(1&st[0])throw st[1];return st[1]},trys:[],ops:[]};return Pt={next:Xt(0),throw:Xt(1),return:Xt(2)},typeof Symbol=="function"&&(Pt[Symbol.iterator]=function(){return this}),Pt;function Xt(ve){return function(Ne){return function(ne){if(O)throw new TypeError("Generator is already executing.");for(;Ht;)try{if(O=1,q&&(st=2&ne[0]?q.return:ne[0]?q.throw||((st=q.return)&&st.call(q),0):q.next)&&!(st=st.call(q,ne[1])).done)return st;switch(q=0,st&&(ne=[2&ne[0],st.value]),ne[0]){case 0:case 1:st=ne;break;case 4:return Ht.label++,{value:ne[1],done:!1};case 5:Ht.label++,q=ne[1],ne=[0];continue;case 7:ne=Ht.ops.pop(),Ht.trys.pop();continue;default:if(st=Ht.trys,!((st=st.length>0&&st[st.length-1])||ne[0]!==6&&ne[0]!==2)){Ht=0;continue}if(ne[0]===3&&(!st||ne[1]>st[0]&&ne[1]<st[3])){Ht.label=ne[1];break}if(ne[0]===6&&Ht.label<st[1]){Ht.label=st[1],st=ne;break}if(st&&Ht.label<st[2]){Ht.label=st[2],Ht.ops.push(ne);break}st[2]&&Ht.ops.pop(),Ht.trys.pop();continue}ne=B.call(X,Ht)}catch(je){ne=[6,je],q=0}finally{O=st=0}if(5&ne[0])throw ne[1];return{value:ne[0]?ne[1]:void 0,done:!0}}([ve,Ne])}}}var a=function(){function X(B){if(this.a=void 0,this.r=0,this.g=0,this.b=0,this.simpleColors={},this.colorDefs=[],this.ok=!1,B){for(var O in B.charAt(0)=="#"&&(B=B.substr(1,6)),B=(B=B.replace(/ /g,"")).toLowerCase(),this.simpleColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},this.simpleColors)B==O&&(B=this.simpleColors[O]);this.colorDefs=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(Ne){return[parseInt(Ne[1]),parseInt(Ne[2]),parseInt(Ne[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(Ne){return[parseInt(Ne[1],16),parseInt(Ne[2],16),parseInt(Ne[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(Ne){return[parseInt(Ne[1]+Ne[1],16),parseInt(Ne[2]+Ne[2],16),parseInt(Ne[3]+Ne[3],16)]}}];for(var q=0;q<this.colorDefs.length;q++){var st=this.colorDefs[q].re,Pt=this.colorDefs[q].process,Ht=st.exec(B);if(Ht){var Xt=Pt(Ht);this.r=Xt[0],this.g=Xt[1],this.b=Xt[2],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b}}return X.prototype.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},X.prototype.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+(this.a||"1")+")"},X.prototype.toHex=function(){var B=this.r.toString(16),O=this.g.toString(16),q=this.b.toString(16);return B.length==1&&(B="0"+B),O.length==1&&(O="0"+O),q.length==1&&(q="0"+q),"#"+B+O+q},X.prototype.getHelpXML=function(){for(var B=[],O=0;O<this.colorDefs.length;O++)for(var q=this.colorDefs[O].example,st=0;st<q.length;st++)B[B.length]=q[st];for(var Pt in this.simpleColors)B[B.length]=Pt;var Ht=document.createElement("ul");for(Ht.setAttribute("id","rgbcolor-examples"),O=0;O<B.length;O++)try{var Xt=document.createElement("li"),ve=new X(B[O]),Ne=document.createElement("div");Ne.style.cssText="margin: 3px; border: 1px solid black; background:"+ve.toHex()+"; color:"+ve.toHex(),Ne.appendChild(document.createTextNode("test"));var ne=document.createTextNode(" "+B[O]+" -> "+ve.toRGB()+" -> "+ve.toHex());Xt.appendChild(Ne),Xt.appendChild(ne),Ht.appendChild(Xt)}catch(je){}return Ht},X}(),l=function(){function X(B){this.color=B}return X.prototype.getFillData=function(B,O){return e(this,void 0,void 0,function(){return t(this,function(q){return[2,void 0]})})},X}(),i=function(){function X(){this.xmlSpace="",this.fill=null,this.fillOpacity=1,this.fontFamily="",this.fontSize=16,this.fontStyle="",this.fontWeight="",this.opacity=1,this.stroke=null,this.strokeDasharray=null,this.strokeDashoffset=0,this.strokeLinecap="",this.strokeLinejoin="",this.strokeMiterlimit=4,this.strokeOpacity=1,this.strokeWidth=1,this.alignmentBaseline="",this.textAnchor="",this.visibility="",this.color=null}return X.prototype.clone=function(){var B=new X;return B.xmlSpace=this.xmlSpace,B.fill=this.fill,B.fillOpacity=this.fillOpacity,B.fontFamily=this.fontFamily,B.fontSize=this.fontSize,B.fontStyle=this.fontStyle,B.fontWeight=this.fontWeight,B.opacity=this.opacity,B.stroke=this.stroke,B.strokeDasharray=this.strokeDasharray,B.strokeDashoffset=this.strokeDashoffset,B.strokeLinecap=this.strokeLinecap,B.strokeLinejoin=this.strokeLinejoin,B.strokeMiterlimit=this.strokeMiterlimit,B.strokeOpacity=this.strokeOpacity,B.strokeWidth=this.strokeWidth,B.textAnchor=this.textAnchor,B.alignmentBaseline=this.alignmentBaseline,B.visibility=this.visibility,B.color=this.color,B},X.default=function(){var B=new X;return B.xmlSpace="default",B.fill=new l(new a("rgb(0, 0, 0)")),B.fillOpacity=1,B.fontFamily="times",B.fontSize=16,B.fontStyle="normal",B.fontWeight="normal",B.opacity=1,B.stroke=null,B.strokeDasharray=null,B.strokeDashoffset=0,B.strokeLinecap="butt",B.strokeLinejoin="miter",B.strokeMiterlimit=4,B.strokeOpacity=1,B.strokeWidth=1,B.alignmentBaseline="baseline",B.textAnchor="start",B.visibility="visible",B.color=new a("rgb(0, 0, 0)"),B},X}(),f=/url\(["']?#([^"']+)["']?\)/,p={bottom:"bottom","text-bottom":"bottom",top:"top","text-top":"top",hanging:"hanging",middle:"middle",central:"middle",center:"middle",mathematical:"middle",ideographic:"ideographic",alphabetic:"alphabetic",baseline:"alphabetic"},v=function(){function X(){this.measureMethods={}}return X.prototype.getTextOffset=function(B,O){var q=O.textAnchor;if(q==="start")return 0;var st=this.measureTextWidth(B,O),Pt=0;switch(q){case"end":Pt=st;break;case"middle":Pt=st/2}return Pt},X.prototype.measureTextWidth=function(B,O){if(B.length===0)return 0;var q=O.fontFamily;return this.getMeasureFunction(q).call(this,B,O.fontFamily,O.fontSize+"px",O.fontStyle,O.fontWeight)},X.prototype.getMeasurementTextNode=function(){if(!this.textMeasuringTextElement){this.textMeasuringTextElement=document.createElementNS("http://www.w3.org/2000/svg","text");var B=document.createElementNS("http://www.w3.org/2000/svg","svg");B.appendChild(this.textMeasuringTextElement),B.style.setProperty("position","absolute"),B.style.setProperty("visibility","hidden"),document.body.appendChild(B)}return this.textMeasuringTextElement},X.prototype.canvasTextMeasure=function(B,O,q,st,Pt){var Ht=document.createElement("canvas").getContext("2d");return Ht!=null?(Ht.font=[st,Pt,q,O].join(" "),Ht.measureText(B).width):0},X.prototype.svgTextMeasure=function(B,O,q,st,Pt,Ht){Ht===void 0&&(Ht=this.getMeasurementTextNode());var Xt=Ht;return Xt.setAttribute("font-family",O),Xt.setAttribute("font-size",q),Xt.setAttribute("font-style",st),Xt.setAttribute("font-weight",Pt),Xt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),Xt.textContent=B,Xt.getBBox().width},X.prototype.getMeasureFunction=function(B){var O=this.measureMethods[B];if(!O){var q=this.canvasTextMeasure(X.testString,B,"16px","normal","normal"),st=this.svgTextMeasure(X.testString,B,"16px","normal","normal");O=Math.abs(q-st)<X.epsilon?this.canvasTextMeasure:this.svgTextMeasure,this.measureMethods[B]=O}return O},X.prototype.cleanupTextMeasuring=function(){if(this.textMeasuringTextElement){var B=this.textMeasuringTextElement.parentNode;B&&document.body.removeChild(B),this.textMeasuringTextElement=void 0}},X.testString=`abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789!"$%&/()=?'\\+*-_.:,;^}][{#~|<>`,X.epsilon=.1,X}(),C=function(){function X(B,O){var q,st,Pt,Ht,Xt,ve;this.pdf=B,this.svg2pdfParameters=O.svg2pdfParameters,this.attributeState=O.attributeState?O.attributeState.clone():i.default(),this.viewport=O.viewport,this.refsHandler=(q=O.refsHandler)!==null&&q!==void 0?q:null,this.styleSheets=(st=O.styleSheets)!==null&&st!==void 0?st:null,this.textMeasure=(Pt=O.textMeasure)!==null&&Pt!==void 0?Pt:new v,this.transform=(Ht=O.transform)!==null&&Ht!==void 0?Ht:this.pdf.unitMatrix,this.withinClipPath=(Xt=O.withinClipPath)!==null&&Xt!==void 0&&Xt,this.withinUse=(ve=O.withinUse)!==null&&ve!==void 0&&ve}return X.prototype.clone=function(B){var O,q,st,Pt,Ht,Xt,ve,Ne;return B===void 0&&(B={}),new X(this.pdf,{svg2pdfParameters:(O=B.svg2pdfParameters)!==null&&O!==void 0?O:this.svg2pdfParameters,attributeState:B.attributeState?B.attributeState.clone():this.attributeState.clone(),viewport:(q=B.viewport)!==null&&q!==void 0?q:this.viewport,refsHandler:(st=B.refsHandler)!==null&&st!==void 0?st:this.refsHandler,styleSheets:(Pt=B.styleSheets)!==null&&Pt!==void 0?Pt:this.styleSheets,textMeasure:(Ht=B.textMeasure)!==null&&Ht!==void 0?Ht:this.textMeasure,transform:(Xt=B.transform)!==null&&Xt!==void 0?Xt:this.transform,withinClipPath:(ve=B.withinClipPath)!==null&&ve!==void 0?ve:this.withinClipPath,withinUse:(Ne=B.withinUse)!==null&&Ne!==void 0?Ne:this.withinUse})},X}(),D=function(){function X(B){this.renderedElements={},this.idMap=B,this.idPrefix=String(X.instanceCounter++)}return X.prototype.getRendered=function(B,O,q){return e(this,void 0,void 0,function(){var st,Pt;return t(this,function(Ht){switch(Ht.label){case 0:return st=this.generateKey(B,O),this.renderedElements.hasOwnProperty(st)?[2,this.renderedElements[B]]:(Pt=this.get(B),this.renderedElements[st]=Pt,[4,q(Pt)]);case 1:return Ht.sent(),[2,Pt]}})})},X.prototype.get=function(B){return this.idMap[L()(B,{isIdentifier:!0})]},X.prototype.generateKey=function(B,O){return this.idPrefix+"|"+B+"|"+(O||new a("rgb(0,0,0)")).toRGBA()},X.instanceCounter=0,X}();function V(X,B){return Math.atan2(B[1]-X[1],B[0]-X[0])}function it(X,B){return[2/3*(B[0]-X[0])+X[0],2/3*(B[1]-X[1])+X[1]]}function Ct(X){var B=Math.sqrt(X[0]*X[0]+X[1]*X[1]);return[X[0]/B,X[1]/B]}function Dt(X,B){return Ct([B[0]-X[0],B[1]-X[1]])}function Ut(X,B){return[X[0]+B[0],X[1]+B[1]]}function pe(X,B){var O=X[0],q=X[1];return[B.a*O+B.c*q+B.e,B.b*O+B.d*q+B.f]}var Ee=function(){function X(){this.segments=[]}return X.prototype.moveTo=function(B,O){return this.segments.push(new At(B,O)),this},X.prototype.lineTo=function(B,O){return this.segments.push(new Gt(B,O)),this},X.prototype.curveTo=function(B,O,q,st,Pt,Ht){return this.segments.push(new Z(B,O,q,st,Pt,Ht)),this},X.prototype.close=function(){return this.segments.push(new _e),this},X.prototype.transform=function(B){this.segments.forEach(function(O){if(O instanceof At||O instanceof Gt||O instanceof Z){var q=pe([O.x,O.y],B);O.x=q[0],O.y=q[1]}if(O instanceof Z){var st=pe([O.x1,O.y1],B),Pt=pe([O.x2,O.y2],B);O.x1=st[0],O.y1=st[1],O.x2=Pt[0],O.y2=Pt[1]}})},X.prototype.draw=function(B){var O=B.pdf;this.segments.forEach(function(q){q instanceof At?O.moveTo(q.x,q.y):q instanceof Gt?O.lineTo(q.x,q.y):q instanceof Z?O.curveTo(q.x1,q.y1,q.x2,q.y2,q.x,q.y):O.close()})},X}(),At=function(B,O){this.x=B,this.y=O},Gt=function(B,O){this.x=B,this.y=O},Z=function(B,O,q,st,Pt,Ht){this.x1=B,this.y1=O,this.x2=q,this.y2=st,this.x=Pt,this.y=Ht},_e=function(){};function er(X,B){return B.split(",").indexOf((X.nodeName||X.tagName).toLowerCase())>=0}function tt(X,B,O,q){q===void 0&&(q=O);var st=X.style.getPropertyValue(q);if(st)return st;var Pt=B.getPropertyValue(X,q);return Pt||X.hasAttribute(O)&&X.getAttribute(O)||void 0}function te(X,B,O){if(tt(X.element,O.styleSheets,"display")==="none")return!1;var q=B,st=tt(X.element,O.styleSheets,"visibility");return st&&(q=st!=="hidden"),q}function Y(X,B,O){var q=te(X,B,O);return X.element.childNodes.length!==0&&(X.children.forEach(function(st){st.isVisible(q,O)&&(q=!0)}),q)}var lt=function(){function X(){this.markers=[]}return X.prototype.addMarker=function(B){this.markers.push(B)},X.prototype.draw=function(B){return e(this,void 0,void 0,function(){var O,q,st,Pt,Ht,Xt,ve;return t(this,function(Ne){switch(Ne.label){case 0:O=0,Ne.label=1;case 1:return O<this.markers.length?(q=this.markers[O],st=void 0,Pt=q.angle,Ht=q.anchor,Xt=Math.cos(Pt),ve=Math.sin(Pt),st=B.pdf.Matrix(Xt,ve,-ve,Xt,Ht[0],Ht[1]),st=B.pdf.matrixMult(B.pdf.Matrix(B.attributeState.strokeWidth,0,0,B.attributeState.strokeWidth,0,0),st),st=B.pdf.matrixMult(st,B.transform),B.pdf.saveGraphicsState(),[4,B.refsHandler.getRendered(q.id,null,function(ne){return ne.apply(B)})]):[3,4];case 2:Ne.sent(),B.pdf.doFormObject(q.id,st),B.pdf.restoreGraphicsState(),Ne.label=3;case 3:return O++,[3,1];case 4:return[2]}})})},X}(),$=function(B,O,q){this.id=B,this.anchor=O,this.angle=q};function F(X,B){var O;return(O=X&&X.toString().match(/^([\-0-9.]+)em$/))?parseFloat(O[1])*B:(O=X&&X.toString().match(/^([\-0-9.]+)(px|)$/))?parseFloat(O[1]):0}function et(X){return p[X]||"alphabetic"}function ht(X){for(var B,O=[],q=/[+-]?(?:(?:\d+\.?\d*)|(?:\d*\.?\d+))(?:[eE][+-]?\d+)?/g;B=q.exec(X);)O.push(parseFloat(B[0]));return O}function nt(X,B){if(X==="transparent"){var O=new a("rgb(0,0,0)");return O.a=0,O}if(X.toLowerCase()==="currentcolor")return B||new a("rgb(0,0,0)");var q=/\s*rgba\(((?:[^,\)]*,){3}[^,\)]*)\)\s*/.exec(X);if(q){var st=ht(q[1]),Pt=new a("rgb("+st.slice(0,3).join(",")+")");return Pt.a=st[3],Pt}return new a(X)}var jt={"sans-serif":"helvetica",verdana:"helvetica",arial:"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",serif:"times",cursive:"times",fantasy:"times"},xt,Mt=(xt=dt.d.version.split("."),parseFloat(xt[0])===2&&parseFloat(xt[1])===3);function ae(X,B){return Mt?B==400?X=="italic"?"italic":"normal":B==700&&X!=="italic"?"bold":X+""+B:B==400||B==="normal"?X==="italic"?"italic":"normal":B!=700&&B!=="bold"||X!=="normal"?(B==700?"bold":B)+""+X:"bold"}function se(X,B){if(tt(B.element,X.styleSheets,"display")==="none")return[0,0,0,0];var O=[0,0,0,0];return B.children.forEach(function(q){var st=q.getBoundingBox(X);O=[Math.min(O[0],st[0]),Math.min(O[1],st[1]),Math.max(O[0]+O[2],st[0]+st[2])-Math.min(O[0],st[0]),Math.max(O[1]+O[3],st[1]+st[3])-Math.min(O[1],st[1])]}),O}function Zt(X,B){var O=parseFloat,q=O(X.getAttribute("x1"))||O(tt(X,B.styleSheets,"x"))||O(tt(X,B.styleSheets,"cx"))-O(tt(X,B.styleSheets,"r"))||0,st=O(X.getAttribute("x2"))||q+O(tt(X,B.styleSheets,"width"))||O(tt(X,B.styleSheets,"cx"))+O(tt(X,B.styleSheets,"r"))||0,Pt=O(X.getAttribute("y1"))||O(tt(X,B.styleSheets,"y"))||O(tt(X,B.styleSheets,"cy"))-O(tt(X,B.styleSheets,"r"))||0,Ht=O(X.getAttribute("y2"))||Pt+O(tt(X,B.styleSheets,"height"))||O(tt(X,B.styleSheets,"cy"))+O(tt(X,B.styleSheets,"r"))||0;return[Math.min(q,st),Math.min(Pt,Ht),Math.max(q,st)-Math.min(q,st),Math.max(Pt,Ht)-Math.min(Pt,Ht)]}function Wt(X,B,O,q,st,Pt,Ht,Xt){Xt===void 0&&(Xt=!1);var ve,Ne,ne=B[0],je=B[1],jr=B[2],Rt=B[3],J=st/jr,rt=Pt/Rt,kt=X.getAttribute("preserveAspectRatio");if(kt){var Jt=kt.split(" ");Jt[0]==="defer"&&(Jt=Jt.slice(1)),ve=Jt[0],Ne=Jt[1]||"meet"}else ve="xMidYMid",Ne="meet";if(ve!=="none"&&(Ne==="meet"?J=rt=Math.min(J,rt):Ne==="slice"&&(J=rt=Math.max(J,rt))),Xt)return Ht.pdf.Matrix(J,0,0,rt,0,0);var ge=O-ne*J,Ue=q-je*rt;ve.indexOf("xMid")>=0?ge+=(st-jr*J)/2:ve.indexOf("xMax")>=0&&(ge+=st-jr*J),ve.indexOf("YMid")>=0?Ue+=(Pt-Rt*rt)/2:ve.indexOf("YMax")>=0&&(Ue+=Pt-Rt*rt);var rr=Ht.pdf.Matrix(1,0,0,1,ge,Ue),nr=Ht.pdf.Matrix(J,0,0,rt,0,0);return Ht.pdf.matrixMult(nr,rr)}function oe(X,B){if(!X||X==="none")return B.pdf.unitMatrix;for(var O,q,st=/^[\s,]*matrix\(([^)]+)\)\s*/,Pt=/^[\s,]*translate\(([^)]+)\)\s*/,Ht=/^[\s,]*rotate\(([^)]+)\)\s*/,Xt=/^[\s,]*scale\(([^)]+)\)\s*/,ve=/^[\s,]*skewX\(([^)]+)\)\s*/,Ne=/^[\s,]*skewY\(([^)]+)\)\s*/,ne=B.pdf.unitMatrix;X.length>0&&X.length!==q;){q=X.length;var je=st.exec(X);if(je&&(O=ht(je[1]),ne=B.pdf.matrixMult(B.pdf.Matrix(O[0],O[1],O[2],O[3],O[4],O[5]),ne),X=X.substr(je[0].length)),je=Ht.exec(X)){O=ht(je[1]);var jr=Math.PI*O[0]/180;if(ne=B.pdf.matrixMult(B.pdf.Matrix(Math.cos(jr),Math.sin(jr),-Math.sin(jr),Math.cos(jr),0,0),ne),O[1]||O[2]){var Rt=B.pdf.Matrix(1,0,0,1,O[1],O[2]),J=B.pdf.Matrix(1,0,0,1,-O[1],-O[2]);ne=B.pdf.matrixMult(J,B.pdf.matrixMult(ne,Rt))}X=X.substr(je[0].length)}(je=Pt.exec(X))&&(O=ht(je[1]),ne=B.pdf.matrixMult(B.pdf.Matrix(1,0,0,1,O[0],O[1]||0),ne),X=X.substr(je[0].length)),(je=Xt.exec(X))&&((O=ht(je[1]))[1]||(O[1]=O[0]),ne=B.pdf.matrixMult(B.pdf.Matrix(O[0],0,0,O[1],0,0),ne),X=X.substr(je[0].length)),(je=ve.exec(X))&&(O=parseFloat(je[1]),O*=Math.PI/180,ne=B.pdf.matrixMult(B.pdf.Matrix(1,0,Math.tan(O),1,0,0),ne),X=X.substr(je[0].length)),(je=Ne.exec(X))&&(O=parseFloat(je[1]),O*=Math.PI/180,ne=B.pdf.matrixMult(B.pdf.Matrix(1,Math.tan(O),0,1,0,0),ne),X=X.substr(je[0].length))}return ne}var N=function(){function X(B,O){this.element=B,this.children=O,this.parent=null}return X.prototype.setParent=function(B){this.parent=B},X.prototype.getParent=function(){return this.parent},X.prototype.getBoundingBox=function(B){return tt(this.element,B.styleSheets,"display")==="none"?[0,0,0,0]:this.getBoundingBoxCore(B)},X.prototype.computeNodeTransform=function(B){var O=this.computeNodeTransformCore(B),q=tt(this.element,B.styleSheets,"transform");return q?B.pdf.matrixMult(O,oe(q,B)):O},X}(),zt=function(X){function B(){return X!==null&&X.apply(this,arguments)||this}return o(B,X),B.prototype.render=function(O){return Promise.resolve()},B.prototype.getBoundingBoxCore=function(O){return[]},B.prototype.computeNodeTransformCore=function(O){return O.pdf.unitMatrix},B}(N),U=function(X){function B(O,q,st){var Pt=X.call(this,q,st)||this;return Pt.pdfGradientType=O,Pt.contextColor=void 0,Pt}return o(B,X),B.prototype.apply=function(O){return e(this,void 0,void 0,function(){var q,st,Pt,Ht,Xt,ve;return t(this,function(Ne){return(q=this.element.getAttribute("id"))?(st=this.getStops(O.styleSheets),Pt=0,Ht=!1,st.forEach(function(ne){var je=ne.opacity;je&&je!==1&&(Pt+=je,Ht=!0)}),Ht&&(Xt=new dt.a({opacity:Pt/st.length})),ve=new dt.b(this.pdfGradientType,this.getCoordinates(),st,Xt),O.pdf.addShadingPattern(q,ve),[2]):[2]})})},B.prototype.getStops=function(O){var q=this;if(this.stops)return this.stops;if(this.contextColor===void 0){this.contextColor=null;for(var st=this;st;){var Pt=tt(st.element,O,"color");if(Pt){this.contextColor=nt(Pt,null);break}st=st.getParent()}}var Ht=[];return this.children.forEach(function(Xt){if(Xt.element.tagName.toLowerCase()==="stop"){var ve=tt(Xt.element,O,"color"),Ne=nt(tt(Xt.element,O,"stop-color")||"",ve?nt(ve,null):q.contextColor),ne=parseFloat(tt(Xt.element,O,"stop-opacity")||"1");Ht.push({offset:B.parseGradientOffset(Xt.element.getAttribute("offset")||"0"),color:[Ne.r,Ne.g,Ne.b],opacity:ne})}}),this.stops=Ht},B.prototype.getBoundingBoxCore=function(O){return Zt(this.element,O)},B.prototype.computeNodeTransformCore=function(O){return O.pdf.unitMatrix},B.prototype.isVisible=function(O,q){return Y(this,O,q)},B.parseGradientOffset=function(O){var q=parseFloat(O);return!isNaN(q)&&O.indexOf("%")>=0?q/100:q},B}(zt),x=function(X){function B(O,q){return X.call(this,"axial",O,q)||this}return o(B,X),B.prototype.getCoordinates=function(){return[parseFloat(this.element.getAttribute("x1")||"0"),parseFloat(this.element.getAttribute("y1")||"0"),parseFloat(this.element.getAttribute("x2")||"1"),parseFloat(this.element.getAttribute("y2")||"0")]},B}(U),A=function(X){function B(O,q){return X.call(this,"radial",O,q)||this}return o(B,X),B.prototype.getCoordinates=function(){var O=this.element.getAttribute("cx"),q=this.element.getAttribute("cy"),st=this.element.getAttribute("fx"),Pt=this.element.getAttribute("fy");return[parseFloat(st||O||"0.5"),parseFloat(Pt||q||"0.5"),0,parseFloat(O||"0.5"),parseFloat(q||"0.5"),parseFloat(this.element.getAttribute("r")||"0.5")]},B}(U),H=function(){function X(B,O){this.key=B,this.gradient=O}return X.prototype.getFillData=function(B,O){return e(this,void 0,void 0,function(){var q,st,Pt;return t(this,function(Ht){switch(Ht.label){case 0:return[4,O.refsHandler.getRendered(this.key,null,function(Xt){return Xt.apply(new C(O.pdf,{refsHandler:O.refsHandler,textMeasure:O.textMeasure,styleSheets:O.styleSheets,viewport:O.viewport,svg2pdfParameters:O.svg2pdfParameters}))})];case 1:return Ht.sent(),this.gradient.element.hasAttribute("gradientUnits")&&this.gradient.element.getAttribute("gradientUnits").toLowerCase()!=="objectboundingbox"?q=O.pdf.unitMatrix:(st=B.getBoundingBox(O),q=O.pdf.Matrix(st[2],0,0,st[3],st[0],st[1])),Pt=oe(tt(this.gradient.element,O.styleSheets,"gradientTransform","transform"),O),[2,{key:this.key,matrix:O.pdf.matrixMult(Pt,q)}]}})})},X}(),at=function(X){function B(){return X!==null&&X.apply(this,arguments)||this}return o(B,X),B.prototype.apply=function(O){return e(this,void 0,void 0,function(){var q,st,Pt,Ht,Xt;return t(this,function(ve){switch(ve.label){case 0:if(!(q=this.element.getAttribute("id")))return[2];st=this.getBoundingBox(O),Pt=new dt.c([st[0],st[1],st[0]+st[2],st[1]+st[3]],st[2],st[3]),O.pdf.beginTilingPattern(Pt),Ht=0,Xt=this.children,ve.label=1;case 1:return Ht<Xt.length?[4,Xt[Ht].render(new C(O.pdf,{attributeState:O.attributeState,refsHandler:O.refsHandler,styleSheets:O.styleSheets,viewport:O.viewport,svg2pdfParameters:O.svg2pdfParameters}))]:[3,4];case 2:ve.sent(),ve.label=3;case 3:return Ht++,[3,1];case 4:return O.pdf.endTilingPattern(q,Pt),[2]}})})},B.prototype.getBoundingBoxCore=function(O){return Zt(this.element,O)},B.prototype.computeNodeTransformCore=function(O){return O.pdf.unitMatrix},B.prototype.isVisible=function(O,q){return Y(this,O,q)},B}(zt),Ot=function(){function X(B,O){this.key=B,this.pattern=O}return X.prototype.getFillData=function(B,O){return e(this,void 0,void 0,function(){var q,st,Pt,Ht,Xt,ve,Ne,ne,je,jr,Rt,J;return t(this,function(rt){switch(rt.label){case 0:return[4,O.refsHandler.getRendered(this.key,null,function(kt){return kt.apply(new C(O.pdf,{refsHandler:O.refsHandler,textMeasure:O.textMeasure,styleSheets:O.styleSheets,viewport:O.viewport,svg2pdfParameters:O.svg2pdfParameters}))})];case 1:return rt.sent(),q={key:this.key,boundingBox:void 0,xStep:0,yStep:0,matrix:void 0},Pt=O.pdf.unitMatrix,this.pattern.element.hasAttribute("patternUnits")&&this.pattern.element.getAttribute("patternUnits").toLowerCase()!=="objectboundingbox"||(st=B.getBoundingBox(O),Pt=O.pdf.Matrix(1,0,0,1,st[0],st[1]),Xt=this.pattern.getBoundingBox(O),ve=Xt[0]*st[0]||0,Ne=Xt[1]*st[1]||0,ne=Xt[2]*st[2]||0,je=Xt[3]*st[3]||0,q.boundingBox=[ve,Ne,ve+ne,Ne+je],q.xStep=ne,q.yStep=je),Ht=O.pdf.unitMatrix,this.pattern.element.hasAttribute("patternContentUnits")&&this.pattern.element.getAttribute("patternContentUnits").toLowerCase()==="objectboundingbox"&&(st||(st=B.getBoundingBox(O)),Ht=O.pdf.Matrix(st[2],0,0,st[3],0,0),Xt=q.boundingBox||this.pattern.getBoundingBox(O),ve=Xt[0]/st[0]||0,Ne=Xt[1]/st[1]||0,ne=Xt[2]/st[2]||0,je=Xt[3]/st[3]||0,q.boundingBox=[ve,Ne,ve+ne,Ne+je],q.xStep=ne,q.yStep=je),jr=O.pdf.unitMatrix,(Rt=tt(this.pattern.element,O.styleSheets,"patternTransform","transform"))&&(jr=oe(Rt,O)),J=Ht,J=O.pdf.matrixMult(J,Pt),J=O.pdf.matrixMult(J,jr),J=O.pdf.matrixMult(J,O.transform),q.matrix=J,[2,q]}})})},X}();function _t(X,B){var O=f.exec(X);if(O){var q=O[1],st=B.refsHandler.get(q);return st&&(st instanceof x||st instanceof A)?function(Ht,Xt,ve){var Ne=Xt.getStops(ve.styleSheets);if(Ne.length===0)return null;if(Ne.length===1){var ne=Ne[0].color,je=new a;return je.ok=!0,je.r=ne[0],je.g=ne[1],je.b=ne[2],je.a=Ne[0].opacity,new l(je)}return new H(Ht,Xt)}(q,st,B):st&&st instanceof at?new Ot(q,st):new l(new a("rgb(0, 0, 0)"))}var Pt=nt(X,B.attributeState.color);return Pt.ok?new l(Pt):null}function we(X,B,O){var q=O||B.element,st=tt(q,X.styleSheets,"color");if(st){var Pt=nt(st,X.attributeState.color);Pt.ok?X.attributeState.color=Pt:X.attributeState.color=new a("rgb(0,0,0)")}var Ht=tt(q,X.styleSheets,"visibility");Ht&&(X.attributeState.visibility=Ht);var Xt=tt(q,X.styleSheets,"fill");Xt&&(X.attributeState.fill=_t(Xt,X));var ve=tt(q,X.styleSheets,"fill-opacity");ve&&(X.attributeState.fillOpacity=parseFloat(ve));var Ne=tt(q,X.styleSheets,"stroke-opacity");Ne&&(X.attributeState.strokeOpacity=parseFloat(Ne));var ne=tt(q,X.styleSheets,"opacity");ne&&(X.attributeState.opacity=parseFloat(ne));var je=tt(q,X.styleSheets,"stroke-width");je!==void 0&&je!==""&&(X.attributeState.strokeWidth=Math.abs(parseFloat(je)));var jr=tt(q,X.styleSheets,"stroke");if(jr)if(jr==="none")X.attributeState.stroke=null;else{var Rt=nt(jr,X.attributeState.color);Rt.ok&&(X.attributeState.stroke=new l(Rt))}var J=tt(q,X.styleSheets,"stroke-linecap");J&&(X.attributeState.strokeLinecap=J);var rt=tt(q,X.styleSheets,"stroke-linejoin");rt&&(X.attributeState.strokeLinejoin=rt);var kt=tt(q,X.styleSheets,"stroke-dasharray");if(kt){var Jt=parseInt(tt(q,X.styleSheets,"stroke-dashoffset")||"0");X.attributeState.strokeDasharray=ht(kt),X.attributeState.strokeDashoffset=Jt}var ge=tt(q,X.styleSheets,"stroke-miterlimit");ge!==void 0&&ge!==""&&(X.attributeState.strokeMiterlimit=parseFloat(ge));var Ue=q.getAttribute("xml:space");Ue&&(X.attributeState.xmlSpace=Ue);var rr=tt(q,X.styleSheets,"font-weight");rr&&(X.attributeState.fontWeight=rr);var nr=tt(q,X.styleSheets,"font-style");nr&&(X.attributeState.fontStyle=nr);var He=tt(q,X.styleSheets,"font-family");if(He){var Sr=pt.a.parse(He);X.attributeState.fontFamily=function(tn,vn,Xn){var Fn=ae(tn.fontStyle,tn.fontWeight),k=Xn.pdf.getFontList(),g="";return vn.some(function(y){var w=k[y];return w&&w.indexOf(Fn)>=0?(g=y,!0):(y=y.toLowerCase(),!!jt.hasOwnProperty(y)&&(g=y,!0))})||(g="times"),g}(X.attributeState,Sr,X)}var br=tt(q,X.styleSheets,"font-size");if(br){var ln=X.pdf.getFontSize();X.attributeState.fontSize=F(br,ln)}var Qr=tt(q,X.styleSheets,"vertical-align")||tt(q,X.styleSheets,"alignment-baseline");if(Qr){var Br=Qr.match(/(baseline|text-bottom|alphabetic|ideographic|middle|central|mathematical|text-top|bottom|center|top|hanging)/);Br&&(X.attributeState.alignmentBaseline=Br[0])}var xn=tt(q,X.styleSheets,"text-anchor");xn&&(X.attributeState.textAnchor=xn)}function Me(X,B,O){var q=1,st=1;q*=X.attributeState.fillOpacity,q*=X.attributeState.opacity,X.attributeState.fill instanceof l&&X.attributeState.fill.color.a!==void 0&&(q*=X.attributeState.fill.color.a),st*=X.attributeState.strokeOpacity,st*=X.attributeState.opacity,X.attributeState.stroke instanceof l&&X.attributeState.stroke.color.a!==void 0&&(st*=X.attributeState.stroke.color.a);var Pt,Ht,Xt=q<1,ve=st<1;if(er(O,"use")?(Xt=!0,ve=!0,q*=X.attributeState.fill?1:0,st*=X.attributeState.stroke?1:0):X.withinUse&&(X.attributeState.fill!==B.attributeState.fill?(Xt=!0,q*=X.attributeState.fill?1:0):Xt&&!X.attributeState.fill&&(q=0),X.attributeState.stroke!==B.attributeState.stroke?(ve=!0,st*=X.attributeState.stroke?1:0):ve&&!X.attributeState.stroke&&(st=0)),Xt||ve){var Ne={};Xt&&(Ne.opacity=q),ve&&(Ne["stroke-opacity"]=st),X.pdf.setGState(new dt.a(Ne))}if(X.attributeState.fill&&X.attributeState.fill!==B.attributeState.fill&&X.attributeState.fill instanceof l&&X.attributeState.fill.color.ok&&!er(O,"text")&&X.pdf.setFillColor(X.attributeState.fill.color.r,X.attributeState.fill.color.g,X.attributeState.fill.color.b),X.attributeState.strokeWidth!==B.attributeState.strokeWidth&&X.pdf.setLineWidth(X.attributeState.strokeWidth),X.attributeState.stroke!==B.attributeState.stroke&&X.attributeState.stroke instanceof l&&X.pdf.setDrawColor(X.attributeState.stroke.color.r,X.attributeState.stroke.color.g,X.attributeState.stroke.color.b),X.attributeState.strokeLinecap!==B.attributeState.strokeLinecap&&X.pdf.setLineCap(X.attributeState.strokeLinecap),X.attributeState.strokeLinejoin!==B.attributeState.strokeLinejoin&&X.pdf.setLineJoin(X.attributeState.strokeLinejoin),X.attributeState.strokeDasharray===B.attributeState.strokeDasharray&&X.attributeState.strokeDashoffset===B.attributeState.strokeDashoffset||!X.attributeState.strokeDasharray||X.pdf.setLineDashPattern(X.attributeState.strokeDasharray,X.attributeState.strokeDashoffset),X.attributeState.strokeMiterlimit!==B.attributeState.strokeMiterlimit&&X.pdf.setLineMiterLimit(X.attributeState.strokeMiterlimit),X.attributeState.fontFamily!==B.attributeState.fontFamily&&(Pt=jt.hasOwnProperty(X.attributeState.fontFamily)?jt[X.attributeState.fontFamily]:X.attributeState.fontFamily),X.attributeState.fill&&X.attributeState.fill!==B.attributeState.fill&&X.attributeState.fill instanceof l&&X.attributeState.fill.color.ok){var ne=X.attributeState.fill.color;X.pdf.setTextColor(ne.r,ne.g,ne.b)}X.attributeState.fontWeight===B.attributeState.fontWeight&&X.attributeState.fontStyle===B.attributeState.fontStyle||(Ht=ae(X.attributeState.fontStyle,X.attributeState.fontWeight)),Pt===void 0&&Ht===void 0||(Pt===void 0&&(Pt=jt.hasOwnProperty(X.attributeState.fontFamily)?jt[X.attributeState.fontFamily]:X.attributeState.fontFamily),X.pdf.setFont(Pt,Ht)),X.attributeState.fontSize!==B.attributeState.fontSize&&X.pdf.setFontSize(X.attributeState.fontSize*X.pdf.internal.scaleFactor)}function Se(X,B,O){var q=f.exec(X);if(q){var st=q[1];return O.refsHandler.get(st)||void 0}}function Ge(X,B,O){return e(this,void 0,void 0,function(){var q,st;return t(this,function(Pt){switch(Pt.label){case 0:return q=O.clone(),B.element.hasAttribute("clipPathUnits")&&B.element.getAttribute("clipPathUnits").toLowerCase()==="objectboundingbox"&&(st=X.getBoundingBox(O),q.transform=O.pdf.matrixMult(O.pdf.Matrix(st[2],0,0,st[3],st[0],st[1]),O.transform)),[4,B.apply(q)];case 1:return Pt.sent(),[2]}})})}var pr=function(X){function B(){return X!==null&&X.apply(this,arguments)||this}return o(B,X),B.prototype.render=function(O){return e(this,void 0,void 0,function(){var q,st,Pt,Ht;return t(this,function(Xt){switch(Xt.label){case 0:return this.isVisible(O.attributeState.visibility!=="hidden",O)?((q=O.clone()).transform=q.pdf.matrixMult(this.computeNodeTransform(q),O.transform),we(q,this),st=tt(this.element,q.styleSheets,"clip-path"),(Pt=st&&st!=="none")?(Ht=Se(st,0,q))?Ht.isVisible(!0,q)?(q.pdf.saveGraphicsState(),[4,Ge(this,Ht,q)]):[3,2]:[3,4]:[3,5]):[2];case 1:return Xt.sent(),[3,3];case 2:return[2];case 3:return[3,5];case 4:Pt=!1,Xt.label=5;case 5:return q.withinClipPath||q.pdf.saveGraphicsState(),Me(q,O,this.element),[4,this.renderCore(q)];case 6:return Xt.sent(),q.withinClipPath||q.pdf.restoreGraphicsState(),Pt&&q.pdf.restoreGraphicsState(),[2]}})})},B}(N),Ar=function(X){function B(){return X!==null&&X.apply(this,arguments)||this}return o(B,X),B}(pr),Kr=function(X){function B(O,q,st){var Pt=X.call(this,q,st)||this;return Pt.cachedPath=null,Pt.hasMarkers=O,Pt}return o(B,X),B.prototype.renderCore=function(O){return e(this,void 0,void 0,function(){var q;return t(this,function(st){switch(st.label){case 0:return(q=this.getCachedPath(O))===null||q.segments.length===0?[2]:(O.withinClipPath?q.transform(O.transform):O.pdf.setCurrentTransformationMatrix(O.transform),q.draw(O),[4,this.fillOrStroke(O)]);case 1:return st.sent(),this.hasMarkers?[4,this.drawMarkers(O,q)]:[3,3];case 2:st.sent(),st.label=3;case 3:return[2]}})})},B.prototype.getCachedPath=function(O){return this.cachedPath||(this.cachedPath=this.getPath(O))},B.prototype.drawMarkers=function(O,q){return e(this,void 0,void 0,function(){return t(this,function(st){switch(st.label){case 0:return[4,this.getMarkers(q,O).draw(O.clone({transform:O.pdf.unitMatrix}))];case 1:return st.sent(),[2]}})})},B.prototype.fillOrStroke=function(O){return e(this,void 0,void 0,function(){var q,st,Pt,Ht,Xt;return t(this,function(ve){switch(ve.label){case 0:return O.withinClipPath?[2]:(q=O.attributeState.fill,st=O.attributeState.stroke&&O.attributeState.strokeWidth!==0,q?[4,q.getFillData(this,O)]:[3,2]);case 1:return Ht=ve.sent(),[3,3];case 2:Ht=void 0,ve.label=3;case 3:return Pt=Ht,Xt=tt(this.element,O.styleSheets,"fill-rule")==="evenodd",q&&st||O.withinUse?Xt?O.pdf.fillStrokeEvenOdd(Pt):O.pdf.fillStroke(Pt):q?Xt?O.pdf.fillEvenOdd(Pt):O.pdf.fill(Pt):st?O.pdf.stroke():O.pdf.discardPath(),[2]}})})},B.prototype.getBoundingBoxCore=function(O){var q=this.getCachedPath(O);if(!q)return[0,0,0,0];for(var st=Number.POSITIVE_INFINITY,Pt=Number.POSITIVE_INFINITY,Ht=Number.NEGATIVE_INFINITY,Xt=Number.NEGATIVE_INFINITY,ve=0,Ne=0,ne=0;ne<q.segments.length;ne++){var je=q.segments[ne];(je instanceof At||je instanceof Gt||je instanceof Z)&&(ve=je.x,Ne=je.y),je instanceof Z?(st=Math.min(st,ve,je.x1,je.x2,je.x),Ht=Math.max(Ht,ve,je.x1,je.x2,je.x),Pt=Math.min(Pt,Ne,je.y1,je.y2,je.y),Xt=Math.max(Xt,Ne,je.y1,je.y2,je.y)):(st=Math.min(st,ve),Ht=Math.max(Ht,ve),Pt=Math.min(Pt,Ne),Xt=Math.max(Xt,Ne))}return[st,Pt,Ht-st,Xt-Pt]},B.prototype.getMarkers=function(O,q){var st=tt(this.element,q.styleSheets,"marker-start"),Pt=tt(this.element,q.styleSheets,"marker-mid"),Ht=tt(this.element,q.styleSheets,"marker-end"),Xt=new lt;if(st||Pt||Ht){Ht&&(Ht=_n(Ht)),st&&(st=_n(st)),Pt&&(Pt=_n(Pt));for(var ve=O.segments,Ne=[1,0],ne=void 0,je=!1,jr=[1,0],Rt=!1,J=function(Jt){var ge=ve[Jt],Ue=st&&(Jt===1||!(ve[Jt]instanceof At)&&ve[Jt-1]instanceof At);Ue&&ve.forEach(function(ln,Qr){if(!Rt&&ln instanceof _e&&Qr>Jt){var Br=ve[Qr-1];Rt=(Br instanceof At||Br instanceof Gt||Br instanceof Z)&&Br}});var rr=Ht&&(Jt===ve.length-1||!(ve[Jt]instanceof At)&&ve[Jt+1]instanceof At),nr=Pt&&Jt>0&&!(Jt===1&&ve[Jt-1]instanceof At),He=ve[Jt-1]||null;if(He instanceof At||He instanceof Gt||He instanceof Z)if(ge instanceof Z)Ue&&Xt.addMarker(new $(st,[He.x,He.y],V(Rt?[Rt.x,Rt.y]:[He.x,He.y],[ge.x1,ge.y1]))),rr&&Xt.addMarker(new $(Ht,[ge.x,ge.y],V([ge.x2,ge.y2],[ge.x,ge.y]))),nr&&(ne=Dt([He.x,He.y],[ge.x1,ge.y1]),ne=He instanceof At?ne:Ct(Ut(Ne,ne)),Xt.addMarker(new $(Pt,[He.x,He.y],Math.atan2(ne[1],ne[0])))),Ne=Dt([ge.x2,ge.y2],[ge.x,ge.y]);else if(ge instanceof At||ge instanceof Gt){if(ne=Dt([He.x,He.y],[ge.x,ge.y]),Ue){var Sr=Rt?Dt([Rt.x,Rt.y],[ge.x,ge.y]):ne;Xt.addMarker(new $(st,[He.x,He.y],Math.atan2(Sr[1],Sr[0])))}rr&&Xt.addMarker(new $(Ht,[ge.x,ge.y],Math.atan2(ne[1],ne[0]))),nr&&(Sr=ge instanceof At?Ne:He instanceof At?ne:Ct(Ut(Ne,ne)),Xt.addMarker(new $(Pt,[He.x,He.y],Math.atan2(Sr[1],Sr[0])))),Ne=ne}else ge instanceof _e&&(ne=Dt([He.x,He.y],[je.x,je.y]),nr&&(Sr=He instanceof At?ne:Ct(Ut(Ne,ne)),Xt.addMarker(new $(Pt,[He.x,He.y],Math.atan2(Sr[1],Sr[0])))),rr&&(Sr=Ct(Ut(ne,jr)),Xt.addMarker(new $(Ht,[je.x,je.y],Math.atan2(Sr[1],Sr[0])))),Ne=ne);else{je=ge instanceof At&&ge;var br=ve[Jt+1];(br instanceof At||br instanceof Gt||br instanceof Z)&&(jr=Dt([je.x,je.y],[br.x,br.y]))}},rt=0;rt<ve.length;rt++)J(rt)}return Xt},B}(Ar);function _n(X){var B=f.exec(X);return B&&B[1]||void 0}var Cn=function(X){function B(O,q){return X.call(this,!0,O,q)||this}return o(B,X),B.prototype.getPath=function(O){if(O.withinClipPath||O.attributeState.stroke===null)return null;var q=parseFloat(this.element.getAttribute("x1")||"0"),st=parseFloat(this.element.getAttribute("y1")||"0"),Pt=parseFloat(this.element.getAttribute("x2")||"0"),Ht=parseFloat(this.element.getAttribute("y2")||"0");return q||Pt||st||Ht?new Ee().moveTo(q,st).lineTo(Pt,Ht):null},B.prototype.computeNodeTransformCore=function(O){return O.pdf.unitMatrix},B.prototype.isVisible=function(O,q){return te(this,O,q)},B.prototype.fillOrStroke=function(O){return e(this,void 0,void 0,function(){return t(this,function(q){switch(q.label){case 0:return O.attributeState.fill=null,[4,X.prototype.fillOrStroke.call(this,O)];case 1:return q.sent(),[2]}})})},B}(Kr),Wn=function(X){function B(){return X!==null&&X.apply(this,arguments)||this}return o(B,X),B.prototype.apply=function(O){return e(this,void 0,void 0,function(){var q,st,Pt,Ht,Xt;return t(this,function(ve){switch(ve.label){case 0:return this.isVisible(O.attributeState.visibility!=="hidden",O)?((q=O.clone()).transform=q.pdf.unitMatrix,we(q,this),st=tt(this.element,q.styleSheets,"clip-path"),st&&st!=="none"&&(Pt=Se(st,0,q))?Pt.isVisible(!0,q)?[4,Ge(this,Pt,q)]:[3,2]:[3,3]):[2];case 1:return ve.sent(),[3,3];case 2:return[2];case 3:Me(q,O,this.element),Ht=0,Xt=this.children,ve.label=4;case 4:return Ht<Xt.length?[4,Xt[Ht].render(q)]:[3,7];case 5:ve.sent(),ve.label=6;case 6:return Ht++,[3,4];case 7:return[2]}})})},B.prototype.getBoundingBoxCore=function(O){return se(O,this)},B.prototype.isVisible=function(O,q){return Y(this,O,q)},B.prototype.computeNodeTransformCore=function(O){var q=parseFloat(tt(this.element,O.styleSheets,"x")||"0"),st=parseFloat(tt(this.element,O.styleSheets,"y")||"0"),Pt=this.element.getAttribute("viewBox");if(Pt){var Ht=ht(Pt),Xt=parseFloat(tt(this.element,O.styleSheets,"width")||tt(this.element.ownerSVGElement,O.styleSheets,"width")||Pt[2]),ve=parseFloat(tt(this.element,O.styleSheets,"height")||tt(this.element.ownerSVGElement,O.styleSheets,"height")||Pt[3]);return Wt(this.element,Ht,q,st,Xt,ve,O)}return O.pdf.Matrix(1,0,0,1,q,st)},B}(zt),Yr=function(B,O){this.width=B,this.height=O},zn=function(X){function B(){return X!==null&&X.apply(this,arguments)||this}return o(B,X),B.prototype.renderCore=function(O){return e(this,void 0,void 0,function(){var q,st,Pt,Ht,Xt,ve,Ne,ne,je,jr,Rt,J,rt;return t(this,function(kt){switch(kt.label){case 0:return q=parseFloat,(st=this.element.getAttribute("href")||this.element.getAttribute("xlink:href"))?(Pt=st.substring(1),Ht=O.refsHandler.get(Pt),Xt=er(Ht.element,"symbol,svg")&&Ht.element.hasAttribute("viewBox"),ve=q(tt(this.element,O.styleSheets,"x")||"0"),Ne=q(tt(this.element,O.styleSheets,"y")||"0"),ne=void 0,je=void 0,Xt?(ne=q(tt(this.element,O.styleSheets,"width")||tt(Ht.element,O.styleSheets,"width")||"0"),je=q(tt(this.element,O.styleSheets,"height")||tt(Ht.element,O.styleSheets,"height")||"0"),ve+=q(tt(Ht.element,O.styleSheets,"x")||"0"),Ne+=q(tt(Ht.element,O.styleSheets,"y")||"0"),Rt=ht(Ht.element.getAttribute("viewBox")),jr=Wt(Ht.element,Rt,ve,Ne,ne,je,O)):jr=O.pdf.Matrix(1,0,0,1,ve,Ne),J=new C(O.pdf,{refsHandler:O.refsHandler,styleSheets:O.styleSheets,withinUse:!0,viewport:Xt?new Yr(ne,je):O.viewport,svg2pdfParameters:O.svg2pdfParameters}),rt=O.attributeState.color,[4,O.refsHandler.getRendered(Pt,rt,function(Jt){return B.renderReferencedNode(Jt,Pt,rt,J)})]):[2];case 1:return kt.sent(),O.pdf.saveGraphicsState(),O.pdf.setCurrentTransformationMatrix(O.transform),Xt&&tt(Ht.element,O.styleSheets,"overflow")!=="visible"&&(O.pdf.rect(ve,Ne,ne,je),O.pdf.clip().discardPath()),O.pdf.doFormObject(O.refsHandler.generateKey(Pt,rt),jr),O.pdf.restoreGraphicsState(),[2]}})})},B.renderReferencedNode=function(O,q,st,Pt){return e(this,void 0,void 0,function(){var Ht;return t(this,function(Xt){switch(Xt.label){case 0:return Ht=[(Ht=O.getBoundingBox(Pt))[0]-.5*Ht[2],Ht[1]-.5*Ht[3],2*Ht[2],2*Ht[3]],Pt.attributeState.color=st,Pt.pdf.beginFormObject(Ht[0],Ht[1],Ht[2],Ht[3],Pt.pdf.unitMatrix),O instanceof Wn?[4,O.apply(Pt)]:[3,2];case 1:return Xt.sent(),[3,4];case 2:return[4,O.render(Pt)];case 3:Xt.sent(),Xt.label=4;case 4:return Pt.pdf.endFormObject(Pt.refsHandler.generateKey(q,st)),[2]}})})},B.prototype.getBoundingBoxCore=function(O){return Zt(this.element,O)},B.prototype.isVisible=function(O,q){return te(this,O,q)},B.prototype.computeNodeTransformCore=function(O){return O.pdf.unitMatrix},B}(Ar),pi=function(X){function B(O,q){return X.call(this,!1,O,q)||this}return o(B,X),B.prototype.getPath=function(O){var q=parseFloat(tt(this.element,O.styleSheets,"width")||"0"),st=parseFloat(tt(this.element,O.styleSheets,"height")||"0");if(!isFinite(q)||q<=0||!isFinite(st)||st<=0)return null;var Pt=tt(this.element,O.styleSheets,"rx"),Ht=tt(this.element,O.styleSheets,"ry"),Xt=Math.min(parseFloat(Pt||Ht||"0"),.5*q),ve=Math.min(parseFloat(Ht||Pt||"0"),.5*st),Ne=parseFloat(tt(this.element,O.styleSheets,"x")||"0"),ne=parseFloat(tt(this.element,O.styleSheets,"y")||"0"),je=4/3*(Math.SQRT2-1);return Xt===0&&ve===0?new Ee().moveTo(Ne,ne).lineTo(Ne+q,ne).lineTo(Ne+q,ne+st).lineTo(Ne,ne+st).close():new Ee().moveTo(Ne+=Xt,ne).lineTo(Ne+=q-2*Xt,ne).curveTo(Ne+Xt*je,ne,Ne+Xt,ne+(ve-ve*je),Ne+=Xt,ne+=ve).lineTo(Ne,ne+=st-2*ve).curveTo(Ne,ne+ve*je,Ne-Xt*je,ne+ve,Ne-=Xt,ne+=ve).lineTo(Ne+=2*Xt-q,ne).curveTo(Ne-Xt*je,ne,Ne-Xt,ne-ve*je,Ne-=Xt,ne-=ve).lineTo(Ne,ne+=2*ve-st).curveTo(Ne,ne-ve*je,Ne+Xt*je,ne-ve,Ne+=Xt,ne-=ve).close()},B.prototype.computeNodeTransformCore=function(O){return O.pdf.unitMatrix},B.prototype.isVisible=function(O,q){return te(this,O,q)},B}(Kr),$n=function(X){function B(O,q){return X.call(this,!1,O,q)||this}return o(B,X),B.prototype.getPath=function(O){var q=this.getRx(O),st=this.getRy(O);if(!isFinite(q)||st<=0||!isFinite(st)||st<=0)return null;var Pt=parseFloat(tt(this.element,O.styleSheets,"cx")||"0"),Ht=parseFloat(tt(this.element,O.styleSheets,"cy")||"0"),Xt=4/3*(Math.SQRT2-1)*q,ve=4/3*(Math.SQRT2-1)*st;return new Ee().moveTo(Pt+q,Ht).curveTo(Pt+q,Ht-ve,Pt+Xt,Ht-st,Pt,Ht-st).curveTo(Pt-Xt,Ht-st,Pt-q,Ht-ve,Pt-q,Ht).curveTo(Pt-q,Ht+ve,Pt-Xt,Ht+st,Pt,Ht+st).curveTo(Pt+Xt,Ht+st,Pt+q,Ht+ve,Pt+q,Ht)},B.prototype.computeNodeTransformCore=function(O){return O.pdf.unitMatrix},B.prototype.isVisible=function(O,q){return te(this,O,q)},B}(Kr),ki=function(X){function B(O,q){return X.call(this,O,q)||this}return o(B,X),B.prototype.getRx=function(O){return parseFloat(tt(this.element,O.styleSheets,"rx")||"0")},B.prototype.getRy=function(O){return parseFloat(tt(this.element,O.styleSheets,"ry")||"0")},B}($n);function ni(X){var B="invisible";return X.fill&&X.stroke?B="fillThenStroke":X.fill?B="fill":X.stroke&&(B="stroke"),B}function Ia(X){return X.replace(/[\n\r]/g,"")}function Mr(X){return X.replace(/[\t]/g," ")}function Ki(X){return X.replace(/ +/g," ")}function va(X,B,O){switch(tt(X,O.styleSheets,"text-transform")){case"uppercase":return B.toUpperCase();case"lowercase":return B.toLowerCase();default:return B}}var ya=function(){function X(B,O,q,st){this.textNode=B,this.texts=[],this.textNodes=[],this.contexts=[],this.textAnchor=O,this.originX=q,this.originY=st,this.textMeasures=[]}return X.prototype.setX=function(B){this.originX=B},X.prototype.setY=function(B){this.originY=B},X.prototype.add=function(B,O,q){this.texts.push(O),this.textNodes.push(B),this.contexts.push(q)},X.prototype.rightTrimText=function(){for(var B=this.texts.length-1;B>=0;B--)if(this.contexts[B].attributeState.xmlSpace==="default"&&(this.texts[B]=this.texts[B].replace(/\s+$/,"")),this.texts[B].match(/[^\s]/))return!1;return!0},X.prototype.measureText=function(B){for(var O=0;O<this.texts.length;O++)this.textMeasures.push({width:B.textMeasure.measureTextWidth(this.texts[O],this.contexts[O].attributeState),length:this.texts[O].length})},X.prototype.put=function(B,O){var q,st,Pt,Ht,Xt=[],ve=[],Ne=[],ne=this.originX,je=this.originY,jr=ne,Rt=ne;for(q=0;q<this.textNodes.length;q++){st=this.textNodes[q],Pt=this.contexts[q],Ht=this.textMeasures[q]||{width:B.textMeasure.measureTextWidth(this.texts[q],this.contexts[q].attributeState),length:this.texts[q].length};var J=ne,rt=je;if(st.nodeName!=="#text"&&!Xt.includes(st)){Xt.push(st);var kt=st.getAttribute("dx");kt!==null&&(J+=F(kt,Pt.attributeState.fontSize));var Jt=st.getAttribute("dy");Jt!==null&&(rt+=F(Jt,Pt.attributeState.fontSize))}ve[q]=J,Ne[q]=rt,ne=J+Ht.width+Ht.length*O,je=rt,jr=Math.min(jr,J),Rt=Math.max(Rt,ne)}var ge=0;switch(this.textAnchor){case"start":ge=0;break;case"middle":ge=(Rt-jr)/2;break;case"end":ge=Rt-jr}for(q=0;q<this.textNodes.length;q++)if(st=this.textNodes[q],Pt=this.contexts[q],st.nodeName==="#text"||Pt.attributeState.visibility!=="hidden"){B.pdf.saveGraphicsState(),Me(Pt,B,st);var Ue=Pt.attributeState.alignmentBaseline,rr=ni(Pt.attributeState);B.pdf.text(this.texts[q],ve[q]-ge,Ne[q],{baseline:et(Ue),angle:B.transform,renderingMode:rr==="fill"?void 0:rr,charSpace:O===0?void 0:O}),B.pdf.restoreGraphicsState()}return[ne,je]},X}(),$o=function(X){function B(){return X!==null&&X.apply(this,arguments)||this}return o(B,X),B.prototype.processTSpans=function(O,q,st,Pt,Ht,Xt){for(var ve=st.pdf.getFontSize(),Ne=st.attributeState.xmlSpace,ne=!0,je=!1,jr=0;jr<q.childNodes.length;jr++){var Rt=q.childNodes[jr];if(Rt.textContent){var J=Rt.textContent;if(Rt.nodeName==="#text"){var rt=Ia(J);rt=Mr(rt),Ne==="default"&&(rt=Ki(rt),ne&&rt.match(/^\s/)&&(je=!0),rt.match(/[^\s]/)&&(ne=!1),Xt.prevText.match(/\s$/)&&(rt=rt.replace(/^\s+/,"")));var kt=va(q,rt,st);Ht.add(q,kt,st),Xt.prevText=J,Xt.prevContext=st}else if(!er(Rt,"title")){if(er(Rt,"tspan")){var Jt=Rt,ge=Jt.getAttribute("x");if(ge!==null){var Ue=F(ge,ve);Ht=new ya(this,tt(Jt,st.styleSheets,"text-anchor")||st.attributeState.textAnchor,Ue,0),Pt.push({type:"y",chunk:Ht})}var rr=Jt.getAttribute("y");if(rr!==null){var nr=F(rr,ve);Ht=new ya(this,tt(Jt,st.styleSheets,"text-anchor")||st.attributeState.textAnchor,0,nr),Pt.push({type:"x",chunk:Ht})}var He=st.clone();we(He,O,Jt),this.processTSpans(O,Jt,He,Pt,Ht,Xt)}}}}return je},B.prototype.renderCore=function(O){return e(this,void 0,void 0,function(){var q,st,Pt,Ht,Xt,ve,Ne,ne,je,jr,Rt,J,rt,kt,Jt,ge,Ue,rr,nr,He,Sr,br,ln;return t(this,function(Qr){if(O.pdf.saveGraphicsState(),q=0,st=0,Pt=1,Ht=O.pdf.getFontSize(),Xt=F(this.element.getAttribute("x"),Ht),ve=F(this.element.getAttribute("y"),Ht),Ne=F(this.element.getAttribute("dx"),Ht),ne=F(this.element.getAttribute("dy"),Ht),je=parseFloat(this.element.getAttribute("textLength")||"0"),jr=O.attributeState.visibility,this.element.childElementCount===0)Rt=this.element.textContent||"",J=function(Br,xn){return Br=Mr(Br=Ia(Br)),xn.xmlSpace==="default"&&(Br=Ki(Br=Br.trim())),Br}(Rt,O.attributeState),rt=va(this.element,J,O),q=O.textMeasure.getTextOffset(rt,O.attributeState),je>0&&(kt=O.textMeasure.measureTextWidth(rt,O.attributeState),O.attributeState.xmlSpace==="default"&&Rt.match(/^\s/)&&(Pt=0),st=(je-kt)/(rt.length-Pt)||0),jr==="visible"&&(Jt=O.attributeState.alignmentBaseline,ge=ni(O.attributeState),O.pdf.text(rt,Xt+Ne-q,ve+ne,{baseline:et(Jt),angle:O.transform,renderingMode:ge==="fill"?void 0:ge,charSpace:st===0?void 0:st}));else{for(Ue=[],rr=new ya(this,O.attributeState.textAnchor,Xt+Ne,ve+ne),Ue.push({type:"",chunk:rr}),nr=this.processTSpans(this,this.element,O,Ue,rr,{prevText:" ",prevContext:O}),Pt=nr?0:1,He=!0,Sr=Ue.length-1;Sr>=0;Sr--)He&&(He=Ue[Sr].chunk.rightTrimText());je>0&&(br=0,ln=0,Ue.forEach(function(Br){var xn=Br.chunk;xn.measureText(O),xn.textMeasures.forEach(function(tn){var vn=tn.width,Xn=tn.length;br+=vn,ln+=Xn})}),st=(je-br)/(ln-Pt)),Ue.reduce(function(Br,xn){var tn=xn.type,vn=xn.chunk;return tn==="x"?vn.setX(Br[0]):tn==="y"&&vn.setY(Br[1]),vn.put(O,st)},[0,0])}return O.pdf.restoreGraphicsState(),[2]})})},B.prototype.isVisible=function(O,q){return Y(this,O,q)},B.prototype.getBoundingBoxCore=function(O){return Zt(this.element,O)},B.prototype.computeNodeTransformCore=function(O){return O.pdf.unitMatrix},B}(Ar),Qs=function(X){function B(O,q){return X.call(this,!0,O,q)||this}return o(B,X),B.prototype.computeNodeTransformCore=function(O){return O.pdf.unitMatrix},B.prototype.isVisible=function(O,q){return te(this,O,q)},B.prototype.getPath=function(O){var q,st,Pt=new Q.a(tt(this.element,O.styleSheets,"d")||"").unshort().unarc().abs(),Ht=new Ee;return Pt.iterate(function(Xt){var ve=Xt[0];switch(ve){case"M":Ht.moveTo(Xt[1],Xt[2]);break;case"L":Ht.lineTo(Xt[1],Xt[2]);break;case"H":Ht.lineTo(Xt[1],st);break;case"V":Ht.lineTo(q,Xt[1]);break;case"C":Ht.curveTo(Xt[1],Xt[2],Xt[3],Xt[4],Xt[5],Xt[6]);break;case"Q":var Ne=it([q,st],[Xt[1],Xt[2]]),ne=it([Xt[3],Xt[4]],[Xt[1],Xt[2]]);Ht.curveTo(Ne[0],Ne[1],ne[0],ne[1],Xt[3],Xt[4]);break;case"Z":Ht.close()}switch(ve){case"M":case"L":q=Xt[1],st=Xt[2];break;case"H":q=Xt[1];break;case"V":st=Xt[1];break;case"C":q=Xt[5],st=Xt[6];break;case"Q":q=Xt[3],st=Xt[4]}}),Ht},B}(Kr),Xa=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*\s*)$/i,Co=function(X){function B(O,q){var st=X.call(this,O,q)||this;return st.imageLoadingPromise=null,st.imageUrl=st.element.getAttribute("xlink:href")||st.element.getAttribute("href"),st.imageUrl&&(st.imageLoadingPromise=B.fetchImageData(st.imageUrl)),st}return o(B,X),B.prototype.renderCore=function(O){return e(this,void 0,void 0,function(){var q,st,Pt,Ht,Xt,ve,Ne,ne,je,jr,Rt,J;return t(this,function(rt){switch(rt.label){case 0:return this.imageLoadingPromise?(O.pdf.setCurrentTransformationMatrix(O.transform),q=parseFloat(tt(this.element,O.styleSheets,"width")||"0"),st=parseFloat(tt(this.element,O.styleSheets,"height")||"0"),Pt=parseFloat(tt(this.element,O.styleSheets,"x")||"0"),Ht=parseFloat(tt(this.element,O.styleSheets,"y")||"0"),!isFinite(q)||q<=0||!isFinite(st)||st<=0?[2]:[4,this.imageLoadingPromise]):[2];case 1:return Xt=rt.sent(),ve=Xt.data,(Ne=Xt.format).indexOf("svg")!==0?[3,3]:(ne=new DOMParser,je=ne.parseFromString(ve,"image/svg+xml").firstElementChild,(!(jr=this.element.getAttribute("preserveAspectRatio"))||jr.indexOf("defer")<0||!je.getAttribute("preserveAspectRatio"))&&je.setAttribute("preserveAspectRatio",jr||""),je.setAttribute("x",String(Pt)),je.setAttribute("y",String(Ht)),je.setAttribute("width",String(q)),je.setAttribute("height",String(st)),[4,Va(je,Rt={}).render(new C(O.pdf,{refsHandler:new D(Rt),styleSheets:O.styleSheets,viewport:new Yr(q,st),svg2pdfParameters:O.svg2pdfParameters}))]);case 2:return rt.sent(),[2];case 3:J="data:image/"+Ne+";base64,"+btoa(ve);try{O.pdf.addImage(J,"",Pt,Ht,q,st)}catch(kt){typeof console=="object"&&console.warn&&console.warn("Could not load image "+this.imageUrl+`.
`+kt)}rt.label=4;case 4:return[2]}})})},B.prototype.getBoundingBoxCore=function(O){return Zt(this.element,O)},B.prototype.computeNodeTransformCore=function(O){return O.pdf.unitMatrix},B.prototype.isVisible=function(O,q){return te(this,O,q)},B.fetchImageData=function(O){return e(this,void 0,void 0,function(){var q,st,Pt,Ht,Xt;return t(this,function(ve){switch(ve.label){case 0:if(!(Pt=O.match(Xa)))return[3,1];if(Ht=Pt[2],(Xt=Ht.split("/"))[0]!=="image")throw new Error("Unsupported image URL: "+O);return st=Xt[1],q=Pt[5],q=Pt[4]==="base64"?atob(q):decodeURIComponent(q),[3,3];case 1:return[4,B.fetchImage(O)];case 2:q=ve.sent(),st=O.substring(O.lastIndexOf(".")+1),ve.label=3;case 3:return[2,{data:q,format:st}]}})})},B.fetchImage=function(O){return new Promise(function(q,st){var Pt=new XMLHttpRequest;Pt.open("GET",O,!0),Pt.responseType="arraybuffer",Pt.onload=function(){if(Pt.status!==200)throw new Error("Error "+Pt.status+": Failed to load image '"+O+"'");for(var Ht=new Uint8Array(Pt.response),Xt="",ve=0;ve<Ht.length;ve++)Xt+=String.fromCharCode(Ht[ve]);q(Xt)},Pt.onerror=st,Pt.onabort=st,Pt.send(null)})},B.getMimeType=function(O){switch(O=O.toLowerCase()){case"jpg":case"jpeg":return"image/jpeg";default:return"image/"+O}},B}(Ar),Ao=function(X){function B(O,q,st){var Pt=X.call(this,!0,q,st)||this;return Pt.closed=O,Pt}return o(B,X),B.prototype.getPath=function(O){if(!this.element.hasAttribute("points")||this.element.getAttribute("points")==="")return null;var q=B.parsePointsString(this.element.getAttribute("points")),st=new Ee;if(q.length<1)return st;st.moveTo(q[0][0],q[0][1]);for(var Pt=1;Pt<q.length;Pt++)st.lineTo(q[Pt][0],q[Pt][1]);return this.closed&&st.close(),st},B.prototype.isVisible=function(O,q){return te(this,O,q)},B.prototype.computeNodeTransformCore=function(O){return O.pdf.unitMatrix},B.parsePointsString=function(O){for(var q=ht(O),st=[],Pt=0;Pt<q.length-1;Pt+=2){var Ht=q[Pt],Xt=q[Pt+1];st.push([Ht,Xt])}return st},B}(Kr),hs=function(X){function B(O,q){return X.call(this,!0,O,q)||this}return o(B,X),B}(Ao),cs=function(X){function B(){return X!==null&&X.apply(this,arguments)||this}return o(B,X),B.prototype.render=function(O){return Promise.resolve()},B.prototype.getBoundingBoxCore=function(O){return[0,0,0,0]},B.prototype.computeNodeTransformCore=function(O){return O.pdf.unitMatrix},B.prototype.isVisible=function(O,q){return te(this,O,q)},B}(N),Ll=function(X){function B(){return X!==null&&X.apply(this,arguments)||this}return o(B,X),B.prototype.apply=function(O){return e(this,void 0,void 0,function(){var q,st,Pt,Ht,Xt;return t(this,function(ve){switch(ve.label){case 0:q=this.computeNodeTransform(O),st=this.getBoundingBox(O),O.pdf.beginFormObject(st[0],st[1],st[2],st[3],q),function(Ne){var ne=Ne.attributeState,je=Ne.pdf,jr=1,Rt=1;jr*=ne.fillOpacity,jr*=ne.opacity,ne.fill instanceof l&&ne.fill.color.a!==void 0&&(jr*=ne.fill.color.a),Rt*=ne.strokeOpacity,Rt*=ne.opacity,ne.stroke instanceof l&&ne.stroke.color.a!==void 0&&(Rt*=ne.stroke.color.a);var J,rt={};if(rt.opacity=jr,rt["stroke-opacity"]=Rt,je.setGState(new dt.a(rt)),ne.fill&&ne.fill instanceof l&&ne.fill.color.ok?je.setFillColor(ne.fill.color.r,ne.fill.color.g,ne.fill.color.b):je.setFillColor(0,0,0),je.setLineWidth(ne.strokeWidth),ne.stroke instanceof l?je.setDrawColor(ne.stroke.color.r,ne.stroke.color.g,ne.stroke.color.b):je.setDrawColor(0,0,0),je.setLineCap(ne.strokeLinecap),je.setLineJoin(ne.strokeLinejoin),ne.strokeDasharray?je.setLineDashPattern(ne.strokeDasharray,ne.strokeDashoffset):je.setLineDashPattern([],0),je.setLineMiterLimit(ne.strokeMiterlimit),J=jt.hasOwnProperty(ne.fontFamily)?jt[ne.fontFamily]:ne.fontFamily,ne.fill&&ne.fill instanceof l&&ne.fill.color.ok){var kt=ne.fill.color;je.setTextColor(kt.r,kt.g,kt.b)}else je.setTextColor(0,0,0);var Jt="";ne.fontWeight==="bold"&&(Jt="bold"),ne.fontStyle==="italic"&&(Jt+="italic"),Jt===""&&(Jt="normal"),J!==void 0||Jt!==void 0?(J===void 0&&(J=jt.hasOwnProperty(ne.fontFamily)?jt[ne.fontFamily]:ne.fontFamily),je.setFont(J,Jt)):je.setFont("helvetica",Jt),je.setFontSize(ne.fontSize*je.internal.scaleFactor)}(Pt=new C(O.pdf,{refsHandler:O.refsHandler,styleSheets:O.styleSheets,viewport:O.viewport,svg2pdfParameters:O.svg2pdfParameters})),Ht=0,Xt=this.children,ve.label=1;case 1:return Ht<Xt.length?[4,Xt[Ht].render(Pt)]:[3,4];case 2:ve.sent(),ve.label=3;case 3:return Ht++,[3,1];case 4:return O.pdf.endFormObject(this.element.getAttribute("id")),[2]}})})},B.prototype.getBoundingBoxCore=function(O){var q,st=this.element.getAttribute("viewBox");return st&&(q=ht(st)),[q&&q[0]||0,q&&q[1]||0,q&&q[2]||parseFloat(this.element.getAttribute("markerWidth")||"3"),q&&q[3]||parseFloat(this.element.getAttribute("markerHeight")||"3")]},B.prototype.computeNodeTransformCore=function(O){var q,st=parseFloat(this.element.getAttribute("refX")||"0"),Pt=parseFloat(this.element.getAttribute("refY")||"0"),Ht=this.element.getAttribute("viewBox");if(Ht){var Xt=ht(Ht);q=Wt(this.element,Xt,0,0,parseFloat(this.element.getAttribute("markerWidth")||"3"),parseFloat(this.element.getAttribute("markerHeight")||"3"),O,!0),q=O.pdf.matrixMult(O.pdf.Matrix(1,0,0,1,-st,-Pt),q)}else q=O.pdf.Matrix(1,0,0,1,-st,-Pt);return q},B.prototype.isVisible=function(O,q){return Y(this,O,q)},B}(zt),to=function(X){function B(O,q){return X.call(this,O,q)||this}return o(B,X),B.prototype.getR=function(O){var q;return(q=this.r)!==null&&q!==void 0?q:this.r=parseFloat(tt(this.element,O.styleSheets,"r")||"0")},B.prototype.getRx=function(O){return this.getR(O)},B.prototype.getRy=function(O){return this.getR(O)},B}($n),ks=function(X){function B(O,q){return X.call(this,!1,O,q)||this}return o(B,X),B}(Ao),Es=function(X){function B(){return X!==null&&X.apply(this,arguments)||this}return o(B,X),B.prototype.renderCore=function(O){return e(this,void 0,void 0,function(){var q,st;return t(this,function(Pt){switch(Pt.label){case 0:q=0,st=this.children,Pt.label=1;case 1:return q<st.length?[4,st[q].render(O)]:[3,4];case 2:Pt.sent(),Pt.label=3;case 3:return q++,[3,1];case 4:return[2]}})})},B.prototype.getBoundingBoxCore=function(O){return se(O,this)},B}(pr),To=function(X){function B(){return X!==null&&X.apply(this,arguments)||this}return o(B,X),B.prototype.isVisible=function(O,q){return Y(this,O,q)},B.prototype.render=function(O){return e(this,void 0,void 0,function(){var q,st,Pt,Ht,Xt;return t(this,function(ve){switch(ve.label){case 0:return this.isVisible(O.attributeState.visibility!=="hidden",O)?(q=this.getX(O),st=this.getY(O),Pt=this.getWidth(O),Ht=this.getHeight(O),O.pdf.saveGraphicsState(),Xt=O.transform,this.element.hasAttribute("transform")&&(Xt=O.pdf.matrixMult(oe(this.element.getAttribute("transform"),O),Xt)),O.pdf.setCurrentTransformationMatrix(Xt),O.withinUse||tt(this.element,O.styleSheets,"overflow")==="visible"||O.pdf.rect(q,st,Pt,Ht).clip().discardPath(),[4,X.prototype.render.call(this,O.clone({transform:O.pdf.unitMatrix,viewport:O.withinUse?O.viewport:new Yr(Pt,Ht)}))]):[2];case 1:return ve.sent(),O.pdf.restoreGraphicsState(),[2]}})})},B.prototype.computeNodeTransform=function(O){return this.computeNodeTransformCore(O)},B.prototype.computeNodeTransformCore=function(O){if(O.withinUse)return O.pdf.unitMatrix;var q,st=this.getX(O),Pt=this.getY(O),Ht=this.getViewBox();if(Ht){var Xt=this.getWidth(O),ve=this.getHeight(O);q=Wt(this.element,Ht,st,Pt,Xt,ve,O)}else q=O.pdf.Matrix(1,0,0,1,st,Pt);return q},B.prototype.getWidth=function(O){if(this.width!==void 0)return this.width;var q,st,Pt=O.svg2pdfParameters;if(this.isOutermostSvg(O))if(Pt.width!=null)q=Pt.width;else if(st=tt(this.element,O.styleSheets,"width"))q=parseFloat(st);else{var Ht=this.getViewBox();if(Ht&&(Pt.height!=null||tt(this.element,O.styleSheets,"height"))){var Xt=Ht[2]/Ht[3];q=this.getHeight(O)*Xt}else q=Math.min(300,O.viewport.width,2*O.viewport.height)}else q=(st=tt(this.element,O.styleSheets,"width"))?parseFloat(st):O.viewport.width;return this.width=q},B.prototype.getHeight=function(O){if(this.height!==void 0)return this.height;var q,st,Pt=O.svg2pdfParameters;if(this.isOutermostSvg(O))if(Pt.height!=null)q=Pt.height;else if(st=tt(this.element,O.styleSheets,"height"))q=parseFloat(st);else{var Ht=this.getViewBox();if(Ht){var Xt=Ht[2]/Ht[3];q=this.getWidth(O)/Xt}else q=Math.min(150,O.viewport.width/2,O.viewport.height)}else q=(st=tt(this.element,O.styleSheets,"height"))?parseFloat(st):O.viewport.height;return this.height=q},B.prototype.getX=function(O){if(this.x!==void 0)return this.x;if(this.isOutermostSvg(O))return this.x=0;var q=tt(this.element,O.styleSheets,"x");return this.x=q?parseFloat(q):0},B.prototype.getY=function(O){if(this.y!==void 0)return this.y;if(this.isOutermostSvg(O))return this.y=0;var q=tt(this.element,O.styleSheets,"y");return this.y=q?parseFloat(q):0},B.prototype.getViewBox=function(){if(this.viewBox!==void 0)return this.viewBox;var O=this.element.getAttribute("viewBox");return this.viewBox=O?ht(O):void 0},B.prototype.isOutermostSvg=function(O){return O.svg2pdfParameters.element===this.element},B}(Es),Qo=function(X){function B(){return X!==null&&X.apply(this,arguments)||this}return o(B,X),B.prototype.isVisible=function(O,q){return Y(this,O,q)},B.prototype.computeNodeTransformCore=function(O){return O.pdf.unitMatrix},B}(Es),Fs=function(X){function B(){return X!==null&&X.apply(this,arguments)||this}return o(B,X),B.prototype.apply=function(O){return e(this,void 0,void 0,function(){var q,st,Pt;return t(this,function(Ht){switch(Ht.label){case 0:if(!this.isVisible(!0,O))return[2];q=O.pdf.matrixMult(this.computeNodeTransform(O),O.transform),O.pdf.setCurrentTransformationMatrix(q),st=0,Pt=this.children,Ht.label=1;case 1:return st<Pt.length?[4,Pt[st].render(new C(O.pdf,{refsHandler:O.refsHandler,styleSheets:O.styleSheets,viewport:O.viewport,withinClipPath:!0,svg2pdfParameters:O.svg2pdfParameters}))]:[3,4];case 2:Ht.sent(),Ht.label=3;case 3:return st++,[3,1];case 4:return O.pdf.clip().discardPath(),O.pdf.setCurrentTransformationMatrix(q.inversed()),[2]}})})},B.prototype.getBoundingBoxCore=function(O){return se(O,this)},B.prototype.isVisible=function(O,q){return Y(this,O,q)},B}(zt);function Va(X,B){var O,q=[];switch(function(Pt,Ht){for(var Xt=[],ve=0;ve<Pt.childNodes.length;ve++){var Ne=Pt.childNodes[ve];Ne.nodeName.charAt(0)!=="#"&&Xt.push(Ne)}for(ve=0;ve<Xt.length;ve++)Ht(ve,Xt[ve])}(X,function(Pt,Ht){return q.push(Va(Ht,B))}),X.tagName.toLowerCase()){case"a":case"g":O=new Qo(X,q);break;case"circle":O=new to(X,q);break;case"clippath":O=new Fs(X,q);break;case"ellipse":O=new ki(X,q);break;case"lineargradient":O=new x(X,q);break;case"image":O=new Co(X,q);break;case"line":O=new Cn(X,q);break;case"marker":O=new Ll(X,q);break;case"path":O=new Qs(X,q);break;case"pattern":O=new at(X,q);break;case"polygon":O=new hs(X,q);break;case"polyline":O=new ks(X,q);break;case"radialgradient":O=new A(X,q);break;case"rect":O=new pi(X,q);break;case"svg":O=new To(X,q);break;case"symbol":O=new Wn(X,q);break;case"text":O=new $o(X,q);break;case"use":O=new zn(X,q);break;default:O=new cs(X,q)}if(B!=null&&O.element.hasAttribute("id")){var st=L()(O.element.id,{isIdentifier:!0});B[st]=B[st]||O}return O.children.forEach(function(Pt){return Pt.setParent(O)}),O}var tl=function(){function X(B,O){this.rootSvg=B,this.loadExternalSheets=O,this.styleSheets=[]}return X.prototype.load=function(){return e(this,void 0,void 0,function(){var B;return t(this,function(O){switch(O.label){case 0:return[4,this.collectStyleSheetTexts()];case 1:return B=O.sent(),this.parseCssSheets(B),[2]}})})},X.prototype.collectStyleSheetTexts=function(){return e(this,void 0,void 0,function(){var B,O,q,st,Pt;return t(this,function(Ht){switch(Ht.label){case 0:if(B=[],this.loadExternalSheets&&this.rootSvg.ownerDocument)for(st=0;st<this.rootSvg.ownerDocument.childNodes.length;st++)(O=this.rootSvg.ownerDocument.childNodes[st]).nodeName==="xml-stylesheet"&&typeof O.data=="string"&&B.push(X.loadSheet(O.data.match(/href=["'].*?["']/)[0].split("=")[1].slice(1,-1)));for(q=this.rootSvg.querySelectorAll("style,link"),st=0;st<q.length;st++)er(Pt=q[st],"style")?B.push(Pt.textContent):this.loadExternalSheets&&er(Pt,"link")&&Pt.getAttribute("rel")==="stylesheet"&&Pt.hasAttribute("href")&&B.push(X.loadSheet(Pt.getAttribute("href")));return[4,Promise.all(B)];case 1:return[2,Ht.sent().filter(function(Xt){return Xt!==null})]}})})},X.prototype.parseCssSheets=function(B){for(var O=document.implementation.createHTMLDocument(""),q=0,st=B;q<st.length;q++){var Pt=st[q],Ht=O.createElement("style");Ht.textContent=Pt,O.body.appendChild(Ht);var Xt=Ht.sheet;if(Xt instanceof CSSStyleSheet){for(var ve=Xt.cssRules.length-1;ve>=0;ve--){var Ne=Xt.cssRules[ve];if(Ne instanceof CSSStyleRule){var ne=Ne;if(ne.selectorText.indexOf(",")>=0){Xt.deleteRule(ve);for(var je=ne.cssText.substring(ne.selectorText.length),jr=X.splitSelectorAtCommas(ne.selectorText),Rt=0;Rt<jr.length;Rt++)Xt.insertRule(jr[Rt]+je,ve+Rt)}}else Xt.deleteRule(ve)}this.styleSheets.push(Xt)}}},X.splitSelectorAtCommas=function(B){for(var O,q=/,|["']/g,st=/[^\\]["]/g,Pt=/[^\\][']/g,Ht=[],Xt="initial",ve=-1,Ne=st,ne=0;ne<B.length;)switch(Xt){case"initial":q.lastIndex=ne,(O=q.exec(B))?(O[0]===","?(Ht.push(B.substring(ve+1,q.lastIndex-1).trim()),ve=q.lastIndex-1):(Xt="withinQuotes",Ne=O[0]==='"'?st:Pt),ne=q.lastIndex):(Ht.push(B.substring(ve+1).trim()),ne=B.length);break;case"withinQuotes":Ne.lastIndex=ne,(O=Ne.exec(B))&&(ne=Ne.lastIndex,Xt="initial")}return Ht},X.loadSheet=function(B){return new Promise(function(O,q){var st=new XMLHttpRequest;st.open("GET",B,!0),st.responseType="text",st.onload=function(){st.status!==200&&q(new Error("Error "+st.status+": Failed to load '"+B+"'")),O(st.responseText)},st.onerror=q,st.onabort=q,st.send(null)}).catch(function(){return null})},X.prototype.getPropertyValue=function(B,O){for(var q=[],st=0,Pt=this.styleSheets;st<Pt.length;st++)for(var Ht=Pt[st],Xt=0;Xt<Ht.cssRules.length;Xt++){var ve=Ht.cssRules[Xt];ve.style.getPropertyValue(O)&&B.matches(ve.selectorText)&&q.push(ve)}if(q.length!==0)return q.reduce(function(Ne,ne){return jr=ne,((Rt=(je=Ne).style.getPropertyPriority(O))!==jr.style.getPropertyPriority(O)?Rt==="important"?1:-1:h(je.selectorText,jr.selectorText))===1?Ne:ne;var je,jr,Rt}).style.getPropertyValue(O)||void 0},X}();function el(X,B,O){var q,st,Pt;return O===void 0&&(O={}),e(this,void 0,void 0,function(){var Ht,Xt,ve,Ne,ne,je,jr,Rt,J,rt;return t(this,function(kt){switch(kt.label){case 0:return Ht=(q=O.x)!==null&&q!==void 0?q:0,Xt=(st=O.y)!==null&&st!==void 0?st:0,ve=(Pt=O.loadExternalStyleSheets)!==null&&Pt!==void 0&&Pt,ne=new D(Ne={}),[4,(je=new tl(X,ve)).load()];case 1:return kt.sent(),jr=new Yr(B.internal.pageSize.getWidth(),B.internal.pageSize.getHeight()),Rt=r(r({},O),{element:X}),J=new C(B,{refsHandler:ne,styleSheets:je,viewport:jr,svg2pdfParameters:Rt}),B.advancedAPI(),B.saveGraphicsState(),B.setCurrentTransformationMatrix(B.Matrix(1,0,0,1,Ht,Xt)),B.setLineWidth(J.attributeState.strokeWidth),rt=J.attributeState.fill.color,B.setFillColor(rt.r,rt.g,rt.b),B.setFont(J.attributeState.fontFamily),B.setFontSize(J.attributeState.fontSize*B.internal.scaleFactor),[4,Va(X,Ne).render(J)];case 2:return kt.sent(),B.restoreGraphicsState(),B.compatAPI(),J.textMeasure.cleanupTextMeasuring(),[2,B]}})})}dt.e.API.svg=function(X,B){return B===void 0&&(B={}),el(X,this,B)}},bBst:function(un,wr,De){(function(Je){var L=Je.CustomEvent;function be(){try{var pt=new L("cat",{detail:{foo:"bar"}});return pt.type==="cat"&&pt.detail.foo==="bar"}catch(dt){}return!1}un.exports=be()?L:typeof document!="undefined"&&typeof document.createEvent=="function"?function(dt,Yt){var Q=document.createEvent("CustomEvent");return Yt?Q.initCustomEvent(dt,Yt.bubbles,Yt.cancelable,Yt.detail):Q.initCustomEvent(dt,!1,!1,void 0),Q}:function(dt,Yt){var Q=document.createEventObject();return Q.type=dt,Yt?(Q.bubbles=Boolean(Yt.bubbles),Q.cancelable=Boolean(Yt.cancelable),Q.detail=Yt.detail):(Q.bubbles=!1,Q.cancelable=!1,Q.detail=void 0),Q}}).call(this,De("IyRk"))},cbZj:function(un,wr,De){"use strict";var Je=De("COF0"),L=De("vHD6"),be=De("4hEd"),pt=De("2D6k"),dt=De("B61z");function Yt(Q){if(!(this instanceof Yt))return new Yt(Q);var b=Je(Q);this.segments=b.segments,this.err=b.err,this.__stack=[]}Yt.from=function(Q){if(typeof Q=="string")return new Yt(Q);if(Q instanceof Yt){var b=new Yt("");return b.err=Q.err,b.segments=Q.segments.map(function(s){return s.slice()}),b.__stack=Q.__stack.map(function(s){return be().matrix(s.toArray())}),b}throw new Error("SvgPath.from: invalid param type "+Q)},Yt.prototype.__matrix=function(Q){var b=this,s;!Q.queue.length||this.iterate(function(h,u,o,r){var e,t,a,l;switch(h[0]){case"v":e=Q.calc(0,h[1],!0),t=e[0]===0?["v",e[1]]:["l",e[0],e[1]];break;case"V":e=Q.calc(o,h[1],!1),t=e[0]===Q.calc(o,r,!1)[0]?["V",e[1]]:["L",e[0],e[1]];break;case"h":e=Q.calc(h[1],0,!0),t=e[1]===0?["h",e[0]]:["l",e[0],e[1]];break;case"H":e=Q.calc(h[1],r,!1),t=e[1]===Q.calc(o,r,!1)[1]?["H",e[0]]:["L",e[0],e[1]];break;case"a":case"A":var i=Q.toArray(),f=dt(h[1],h[2],h[3]).transform(i);if(i[0]*i[3]-i[1]*i[2]<0&&(h[5]=h[5]?"0":"1"),e=Q.calc(h[6],h[7],h[0]==="a"),h[0]==="A"&&h[6]===o&&h[7]===r||h[0]==="a"&&h[6]===0&&h[7]===0){t=[h[0]==="a"?"l":"L",e[0],e[1]];break}f.isDegenerate()?t=[h[0]==="a"?"l":"L",e[0],e[1]]:t=[h[0],f.rx,f.ry,f.ax,h[4],h[5],e[0],e[1]];break;case"m":l=u>0,e=Q.calc(h[1],h[2],l),t=["m",e[0],e[1]];break;default:for(a=h[0],t=[a],l=a.toLowerCase()===a,s=1;s<h.length;s+=2)e=Q.calc(h[s],h[s+1],l),t.push(e[0],e[1])}b.segments[u]=t},!0)},Yt.prototype.__evaluateStack=function(){var Q,b;if(!!this.__stack.length){if(this.__stack.length===1){this.__matrix(this.__stack[0]),this.__stack=[];return}for(Q=be(),b=this.__stack.length;--b>=0;)Q.matrix(this.__stack[b].toArray());this.__matrix(Q),this.__stack=[]}},Yt.prototype.toString=function(){var Q="",b="",s=!1;this.__evaluateStack();for(var h=0,u=this.segments.length;h<u;h++){var o=this.segments[h],r=o[0];r!==b||r==="m"||r==="M"?(r==="m"&&b==="z"&&(Q+=" "),Q+=r,s=!1):s=!0;for(var e=1;e<o.length;e++){var t=o[e];e===1?s&&t>=0&&(Q+=" "):t>=0&&(Q+=" "),Q+=t}b=r}return Q},Yt.prototype.translate=function(Q,b){return this.__stack.push(be().translate(Q,b||0)),this},Yt.prototype.scale=function(Q,b){return this.__stack.push(be().scale(Q,!b&&b!==0?Q:b)),this},Yt.prototype.rotate=function(Q,b,s){return this.__stack.push(be().rotate(Q,b||0,s||0)),this},Yt.prototype.skewX=function(Q){return this.__stack.push(be().skewX(Q)),this},Yt.prototype.skewY=function(Q){return this.__stack.push(be().skewY(Q)),this},Yt.prototype.matrix=function(Q){return this.__stack.push(be().matrix(Q)),this},Yt.prototype.transform=function(Q){return Q.trim()?(this.__stack.push(L(Q)),this):this},Yt.prototype.round=function(Q){var b=0,s=0,h=0,u=0,o;return Q=Q||0,this.__evaluateStack(),this.segments.forEach(function(r){var e=r[0].toLowerCase()===r[0];switch(r[0]){case"H":case"h":e&&(r[1]+=h),h=r[1]-r[1].toFixed(Q),r[1]=+r[1].toFixed(Q);return;case"V":case"v":e&&(r[1]+=u),u=r[1]-r[1].toFixed(Q),r[1]=+r[1].toFixed(Q);return;case"Z":case"z":h=b,u=s;return;case"M":case"m":e&&(r[1]+=h,r[2]+=u),h=r[1]-r[1].toFixed(Q),u=r[2]-r[2].toFixed(Q),b=h,s=u,r[1]=+r[1].toFixed(Q),r[2]=+r[2].toFixed(Q);return;case"A":case"a":e&&(r[6]+=h,r[7]+=u),h=r[6]-r[6].toFixed(Q),u=r[7]-r[7].toFixed(Q),r[1]=+r[1].toFixed(Q),r[2]=+r[2].toFixed(Q),r[3]=+r[3].toFixed(Q+2),r[6]=+r[6].toFixed(Q),r[7]=+r[7].toFixed(Q);return;default:o=r.length,e&&(r[o-2]+=h,r[o-1]+=u),h=r[o-2]-r[o-2].toFixed(Q),u=r[o-1]-r[o-1].toFixed(Q),r.forEach(function(t,a){!a||(r[a]=+r[a].toFixed(Q))});return}}),this},Yt.prototype.iterate=function(Q,b){var s=this.segments,h={},u=!1,o=0,r=0,e=0,t=0,a,l,i;if(b||this.__evaluateStack(),s.forEach(function(f,p){var v=Q(f,p,o,r);Array.isArray(v)&&(h[p]=v,u=!0);var C=f[0]===f[0].toLowerCase();switch(f[0]){case"m":case"M":o=f[1]+(C?o:0),r=f[2]+(C?r:0),e=o,t=r;return;case"h":case"H":o=f[1]+(C?o:0);return;case"v":case"V":r=f[1]+(C?r:0);return;case"z":case"Z":o=e,r=t;return;default:o=f[f.length-2]+(C?o:0),r=f[f.length-1]+(C?r:0)}}),!u)return this;for(i=[],a=0;a<s.length;a++)if(typeof h[a]!="undefined")for(l=0;l<h[a].length;l++)i.push(h[a][l]);else i.push(s[a]);return this.segments=i,this},Yt.prototype.abs=function(){return this.iterate(function(Q,b,s,h){var u=Q[0],o=u.toUpperCase(),r;if(u!==o)switch(Q[0]=o,u){case"v":Q[1]+=h;return;case"a":Q[6]+=s,Q[7]+=h;return;default:for(r=1;r<Q.length;r++)Q[r]+=r%2?s:h}},!0),this},Yt.prototype.rel=function(){return this.iterate(function(Q,b,s,h){var u=Q[0],o=u.toLowerCase(),r;if(u!==o&&!(b===0&&u==="M"))switch(Q[0]=o,u){case"V":Q[1]-=h;return;case"A":Q[6]-=s,Q[7]-=h;return;default:for(r=1;r<Q.length;r++)Q[r]-=r%2?s:h}},!0),this},Yt.prototype.unarc=function(){return this.iterate(function(Q,b,s,h){var u,o,r,e=[],t=Q[0];return t!=="A"&&t!=="a"?null:(t==="a"?(o=s+Q[6],r=h+Q[7]):(o=Q[6],r=Q[7]),u=pt(s,h,o,r,Q[4],Q[5],Q[1],Q[2],Q[3]),u.length===0?[[Q[0]==="a"?"l":"L",Q[6],Q[7]]]:(u.forEach(function(a){e.push(["C",a[2],a[3],a[4],a[5],a[6],a[7]])}),e))}),this},Yt.prototype.unshort=function(){var Q=this.segments,b,s,h,u,o;return this.iterate(function(r,e,t,a){var l=r[0],i=l.toUpperCase(),f;!e||(i==="T"?(f=l==="t",h=Q[e-1],h[0]==="Q"?(b=h[1]-t,s=h[2]-a):h[0]==="q"?(b=h[1]-h[3],s=h[2]-h[4]):(b=0,s=0),u=-b,o=-s,f||(u+=t,o+=a),Q[e]=[f?"q":"Q",u,o,r[1],r[2]]):i==="S"&&(f=l==="s",h=Q[e-1],h[0]==="C"?(b=h[3]-t,s=h[4]-a):h[0]==="c"?(b=h[3]-h[5],s=h[4]-h[6]):(b=0,s=0),u=-b,o=-s,f||(u+=t,o+=a),Q[e]=[f?"c":"C",u,o,r[1],r[2],r[3],r[4]]))}),this},un.exports=Yt},crp1:function(un,wr,De){"use strict";De.d(wr,"b",function(){return ks}),De.d(wr,"a",function(){return Fs});var Je={},L=function(J,rt,kt,Jt,ge){var Ue=Je[rt]||(Je[rt]=URL.createObjectURL(new Blob([J],{type:"text/javascript"}))),rr=new Worker(Ue);return rr.onerror=function(nr){return ge(nr.error,null)},rr.onmessage=function(nr){return ge(null,nr.data)},rr.postMessage(kt,Jt),rr},be=Uint8Array,pt=Uint16Array,dt=Uint32Array,Yt=new be([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Q=new be([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),b=new be([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),s=function(J,rt){for(var kt=new pt(31),Jt=0;Jt<31;++Jt)kt[Jt]=rt+=1<<J[Jt-1];for(var ge=new dt(kt[30]),Jt=1;Jt<30;++Jt)for(var Ue=kt[Jt];Ue<kt[Jt+1];++Ue)ge[Ue]=Ue-kt[Jt]<<5|Jt;return[kt,ge]},h=s(Yt,2),u=h[0],o=h[1];u[28]=258,o[258]=28;for(var r=s(Q,0),e=r[0],t=r[1],a=new pt(32768),l=0;l<32768;++l){var i=(l&43690)>>>1|(l&21845)<<1;i=(i&52428)>>>2|(i&13107)<<2,i=(i&61680)>>>4|(i&3855)<<4,a[l]=((i&65280)>>>8|(i&255)<<8)>>>1}for(var f=function(J,rt,kt){for(var Jt=J.length,ge=0,Ue=new pt(rt);ge<Jt;++ge)++Ue[J[ge]-1];var rr=new pt(rt);for(ge=0;ge<rt;++ge)rr[ge]=rr[ge-1]+Ue[ge-1]<<1;var nr;if(kt){nr=new pt(1<<rt);var He=15-rt;for(ge=0;ge<Jt;++ge)if(J[ge])for(var Sr=ge<<4|J[ge],br=rt-J[ge],ln=rr[J[ge]-1]++<<br,Qr=ln|(1<<br)-1;ln<=Qr;++ln)nr[a[ln]>>>He]=Sr}else for(nr=new pt(Jt),ge=0;ge<Jt;++ge)nr[ge]=a[rr[J[ge]-1]++]>>>15-J[ge];return nr},p=new be(288),l=0;l<144;++l)p[l]=8;for(var l=144;l<256;++l)p[l]=9;for(var l=256;l<280;++l)p[l]=7;for(var l=280;l<288;++l)p[l]=8;for(var v=new be(32),l=0;l<32;++l)v[l]=5;var C=f(p,9,0),D=f(p,9,1),V=f(v,5,0),it=f(v,5,1),Ct=function(J){for(var rt=J[0],kt=1;kt<J.length;++kt)J[kt]>rt&&(rt=J[kt]);return rt},Dt=function(J,rt,kt){var Jt=rt/8>>0;return(J[Jt]|J[Jt+1]<<8)>>>(rt&7)&kt},Ut=function(J,rt){var kt=rt/8>>0;return(J[kt]|J[kt+1]<<8|J[kt+2]<<16)>>>(rt&7)},pe=function(J){return(J/8>>0)+(J&7&&1)},Ee=function(J,rt,kt){(rt==null||rt<0)&&(rt=0),(kt==null||kt>J.length)&&(kt=J.length);var Jt=new(J instanceof pt?pt:J instanceof dt?dt:be)(kt-rt);return Jt.set(J.subarray(rt,kt)),Jt},At=function(J,rt,kt){var Jt=J.length,ge=!rt||kt,Ue=!kt||kt.i;kt||(kt={}),rt||(rt=new be(Jt*3));var rr=function(mr){var he=rt.length;if(mr>he){var Ve=new be(Math.max(he*2,mr));Ve.set(rt),rt=Ve}},nr=kt.f||0,He=kt.p||0,Sr=kt.b||0,br=kt.l,ln=kt.d,Qr=kt.m,Br=kt.n,xn=Jt*8;do{if(!br){kt.f=nr=Dt(J,He,1);var tn=Dt(J,He+1,3);if(He+=3,tn)if(tn==1)br=D,ln=it,Qr=9,Br=5;else if(tn==2){var k=Dt(J,He,31)+257,g=Dt(J,He+10,15)+4,y=k+Dt(J,He+5,31)+1;He+=14;for(var w=new be(y),T=new be(19),S=0;S<g;++S)T[b[S]]=Dt(J,He+S*3,7);He+=g*3;var P=Ct(T),j=(1<<P)-1;if(!Ue&&He+y*(P+7)>xn)break;for(var I=f(T,P,1),S=0;S<y;){var K=I[Dt(J,He,j)];He+=K&15;var vn=K>>>4;if(vn<16)w[S++]=vn;else{var bt=0,vt=0;for(vn==16?(vt=3+Dt(J,He,3),He+=2,bt=w[S-1]):vn==17?(vt=3+Dt(J,He,7),He+=3):vn==18&&(vt=11+Dt(J,He,127),He+=7);vt--;)w[S++]=bt}}var Lt=w.subarray(0,k),G=w.subarray(k);Qr=Ct(Lt),Br=Ct(G),br=f(Lt,Qr,1),ln=f(G,Br,1)}else throw"invalid block type";else{var vn=pe(He)+4,Xn=J[vn-4]|J[vn-3]<<8,Fn=vn+Xn;if(Fn>Jt){if(Ue)throw"unexpected EOF";break}ge&&rr(Sr+Xn),rt.set(J.subarray(vn,Fn),Sr),kt.b=Sr+=Xn,kt.p=He=Fn*8;continue}if(He>xn)throw"unexpected EOF"}ge&&rr(Sr+131072);for(var Vt=(1<<Qr)-1,Ft=(1<<Br)-1,$t=Qr+Br+18;Ue||He+$t<xn;){var bt=br[Ut(J,He)&Vt],Nt=bt>>>4;if(He+=bt&15,He>xn)throw"unexpected EOF";if(!bt)throw"invalid length/literal";if(Nt<256)rt[Sr++]=Nt;else if(Nt==256){br=null;break}else{var gt=Nt-254;if(Nt>264){var S=Nt-257,Ae=Yt[S];gt=Dt(J,He,(1<<Ae)-1)+u[S],He+=Ae}var Be=ln[Ut(J,He)&Ft],Qe=Be>>>4;if(!Be)throw"invalid distance";He+=Be&15;var G=e[Qe];if(Qe>3){var Ae=Q[Qe];G+=Ut(J,He)&(1<<Ae)-1,He+=Ae}if(He>xn)throw"unexpected EOF";ge&&rr(Sr+131072);for(var fr=Sr+gt;Sr<fr;Sr+=4)rt[Sr]=rt[Sr-G],rt[Sr+1]=rt[Sr+1-G],rt[Sr+2]=rt[Sr+2-G],rt[Sr+3]=rt[Sr+3-G];Sr=fr}}kt.l=br,kt.p=He,kt.b=Sr,br&&(nr=1,kt.m=Qr,kt.d=ln,kt.n=Br)}while(!nr);return Sr==rt.length?rt:Ee(rt,0,Sr)},Gt=function(J,rt,kt){kt<<=rt&7;var Jt=rt/8>>0;J[Jt]|=kt,J[Jt+1]|=kt>>>8},Z=function(J,rt,kt){kt<<=rt&7;var Jt=rt/8>>0;J[Jt]|=kt,J[Jt+1]|=kt>>>8,J[Jt+2]|=kt>>>16},_e=function(J,rt){for(var kt=[],Jt=0;Jt<J.length;++Jt)J[Jt]&&kt.push({s:Jt,f:J[Jt]});var ge=kt.length,Ue=kt.slice();if(!ge)return[new be(0),0];if(ge==1){var rr=new be(kt[0].s+1);return rr[kt[0].s]=1,[rr,1]}kt.sort(function(y,w){return y.f-w.f}),kt.push({s:-1,f:25001});var nr=kt[0],He=kt[1],Sr=0,br=1,ln=2;for(kt[0]={s:-1,f:nr.f+He.f,l:nr,r:He};br!=ge-1;)nr=kt[kt[Sr].f<kt[ln].f?Sr++:ln++],He=kt[Sr!=br&&kt[Sr].f<kt[ln].f?Sr++:ln++],kt[br++]={s:-1,f:nr.f+He.f,l:nr,r:He};for(var Qr=Ue[0].s,Jt=1;Jt<ge;++Jt)Ue[Jt].s>Qr&&(Qr=Ue[Jt].s);var Br=new pt(Qr+1),xn=er(kt[br-1],Br,0);if(xn>rt){var Jt=0,tn=0,vn=xn-rt,Xn=1<<vn;for(Ue.sort(function(w,T){return Br[T.s]-Br[w.s]||w.f-T.f});Jt<ge;++Jt){var Fn=Ue[Jt].s;if(Br[Fn]>rt)tn+=Xn-(1<<xn-Br[Fn]),Br[Fn]=rt;else break}for(tn>>>=vn;tn>0;){var k=Ue[Jt].s;Br[k]<rt?tn-=1<<rt-Br[k]++-1:++Jt}for(;Jt>=0&&tn;--Jt){var g=Ue[Jt].s;Br[g]==rt&&(--Br[g],++tn)}xn=rt}return[new be(Br),xn]},er=function Rt(J,rt,kt){return J.s==-1?Math.max(Rt(J.l,rt,kt+1),Rt(J.r,rt,kt+1)):rt[J.s]=kt},tt=function(J){for(var rt=J.length;rt&&!J[--rt];);for(var kt=new pt(++rt),Jt=0,ge=J[0],Ue=1,rr=function(Sr){kt[Jt++]=Sr},nr=1;nr<=rt;++nr)if(J[nr]==ge&&nr!=rt)++Ue;else{if(!ge&&Ue>2){for(;Ue>138;Ue-=138)rr(32754);Ue>2&&(rr(Ue>10?Ue-11<<5|28690:Ue-3<<5|12305),Ue=0)}else if(Ue>3){for(rr(ge),--Ue;Ue>6;Ue-=6)rr(8304);Ue>2&&(rr(Ue-3<<5|8208),Ue=0)}for(;Ue--;)rr(ge);Ue=1,ge=J[nr]}return[kt.subarray(0,Jt),rt]},te=function(J,rt){for(var kt=0,Jt=0;Jt<rt.length;++Jt)kt+=J[Jt]*rt[Jt];return kt},Y=function(J,rt,kt){var Jt=kt.length,ge=pe(rt+2);J[ge]=Jt&255,J[ge+1]=Jt>>>8,J[ge+2]=J[ge]^255,J[ge+3]=J[ge+1]^255;for(var Ue=0;Ue<Jt;++Ue)J[ge+Ue+4]=kt[Ue];return(ge+4+Jt)*8},lt=function(J,rt,kt,Jt,ge,Ue,rr,nr,He,Sr,br){Gt(rt,br++,kt),++ge[256];for(var ln=_e(ge,15),Qr=ln[0],Br=ln[1],xn=_e(Ue,15),tn=xn[0],vn=xn[1],Xn=tt(Qr),Fn=Xn[0],k=Xn[1],g=tt(tn),y=g[0],w=g[1],T=new pt(19),S=0;S<Fn.length;++S)T[Fn[S]&31]++;for(var S=0;S<y.length;++S)T[y[S]&31]++;for(var P=_e(T,7),j=P[0],I=P[1],K=19;K>4&&!j[b[K-1]];--K);var bt=Sr+5<<3,vt=te(ge,p)+te(Ue,v)+rr,Lt=te(ge,Qr)+te(Ue,tn)+rr+14+3*K+te(T,j)+(2*T[16]+3*T[17]+7*T[18]);if(bt<=vt&&bt<=Lt)return Y(rt,br,J.subarray(He,He+Sr));var G,Vt,Ft,$t;if(Gt(rt,br,1+(Lt<vt)),br+=2,Lt<vt){G=f(Qr,Br,0),Vt=Qr,Ft=f(tn,vn,0),$t=tn;var Nt=f(j,I,0);Gt(rt,br,k-257),Gt(rt,br+5,w-1),Gt(rt,br+10,K-4),br+=14;for(var S=0;S<K;++S)Gt(rt,br+3*S,j[b[S]]);br+=3*K;for(var gt=[Fn,y],Ae=0;Ae<2;++Ae)for(var Be=gt[Ae],S=0;S<Be.length;++S){var Qe=Be[S]&31;Gt(rt,br,Nt[Qe]),br+=j[Qe],Qe>15&&(Gt(rt,br,Be[S]>>>5&127),br+=Be[S]>>>12)}}else G=C,Vt=p,Ft=V,$t=v;for(var S=0;S<nr;++S)if(Jt[S]>255){var Qe=Jt[S]>>>18&31;Z(rt,br,G[Qe+257]),br+=Vt[Qe+257],Qe>7&&(Gt(rt,br,Jt[S]>>>23&31),br+=Yt[Qe]);var fr=Jt[S]&31;Z(rt,br,Ft[fr]),br+=$t[fr],fr>3&&(Z(rt,br,Jt[S]>>>5&8191),br+=Q[fr])}else Z(rt,br,G[Jt[S]]),br+=Vt[Jt[S]];return Z(rt,br,G[256]),br+Vt[256]},$=new dt([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),F=new be(0),et=function(J,rt,kt,Jt,ge,Ue){var rr=J.length,nr=new be(Jt+rr+5*(1+Math.floor(rr/7e3))+ge),He=nr.subarray(Jt,nr.length-ge),Sr=0;if(!rt||rr<8)for(var br=0;br<=rr;br+=65535){var ln=br+65535;ln<rr?Sr=Y(He,Sr,J.subarray(br,ln)):(He[br]=Ue,Sr=Y(He,Sr,J.subarray(br,rr)))}else{for(var Qr=$[rt-1],Br=Qr>>>13,xn=Qr&8191,tn=(1<<kt)-1,vn=new pt(32768),Xn=new pt(tn+1),Fn=Math.ceil(kt/3),k=2*Fn,g=function(Ke){return(J[Ke]^J[Ke+1]<<Fn^J[Ke+2]<<k)&tn},y=new dt(25e3),w=new pt(288),T=new pt(32),S=0,P=0,br=0,j=0,I=0,K=0;br<rr;++br){var bt=g(br),vt=br&32767,Lt=Xn[bt];if(vn[vt]=Lt,Xn[bt]=vt,I<=br){var G=rr-br;if((S>7e3||j>24576)&&G>423){Sr=lt(J,He,0,y,w,T,P,j,K,br-K,Sr),j=S=P=0,K=br;for(var Vt=0;Vt<286;++Vt)w[Vt]=0;for(var Vt=0;Vt<30;++Vt)T[Vt]=0}var Ft=2,$t=0,Nt=xn,gt=vt-Lt&32767;if(G>2&&bt==g(br-gt))for(var Ae=Math.min(Br,G)-1,Be=Math.min(32767,br),Qe=Math.min(258,G);gt<=Be&&--Nt&&vt!=Lt;){if(J[br+Ft]==J[br+Ft-gt]){for(var fr=0;fr<Qe&&J[br+fr]==J[br+fr-gt];++fr);if(fr>Ft){if(Ft=fr,$t=gt,fr>Ae)break;for(var Ye=Math.min(gt,fr-2),mr=0,Vt=0;Vt<Ye;++Vt){var he=br-gt+Vt+32768&32767,Ve=vn[he],ie=he-Ve+32768&32767;ie>mr&&(mr=ie,Lt=he)}}}vt=Lt,Lt=vn[vt],gt+=vt-Lt+32768&32767}if($t){y[j++]=268435456|o[Ft]<<18|t[$t];var Bt=o[Ft]&31,ue=t[$t]&31;P+=Yt[Bt]+Q[ue],++w[257+Bt],++T[ue],I=br+Ft,++S}else y[j++]=J[br],++w[J[br]]}}Sr=lt(J,He,Ue,y,w,T,P,j,K,br-K,Sr),Ue||(Sr=Y(He,Sr,F))}return Ee(nr,0,Jt+pe(Sr)+ge)},ht=function(){for(var Rt=new dt(256),J=0;J<256;++J){for(var rt=J,kt=9;--kt;)rt=(rt&1&&3988292384)^rt>>>1;Rt[J]=rt}return Rt}(),nt=function(){var J=4294967295;return{p:function(kt){for(var Jt=J,ge=0;ge<kt.length;++ge)Jt=ht[Jt&255^kt[ge]]^Jt>>>8;J=Jt},d:function(){return J^4294967295}}},jt=function(){var J=1,rt=0;return{p:function(Jt){for(var ge=J,Ue=rt,rr=Jt.length,nr=0;nr!=rr;){for(var He=Math.min(nr+5552,rr);nr<He;++nr)ge+=Jt[nr],Ue+=ge;ge%=65521,Ue%=65521}J=ge,rt=Ue},d:function(){return(J>>>8<<16|(rt&255)<<8|rt>>>8)+((J&255)<<23)*2}}},xt=function(J,rt,kt,Jt,ge){return et(J,rt.level==null?6:rt.level,rt.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(J.length)))*1.5):12+rt.mem,kt,Jt,!ge)},Mt=function(J,rt){var kt={};for(var Jt in J)kt[Jt]=J[Jt];for(var Jt in rt)kt[Jt]=rt[Jt];return kt},ae=function(J,rt,kt){for(var Jt=J(),ge=J.toString(),Ue=ge.slice(ge.indexOf("[")+1,ge.lastIndexOf("]")).replace(/ /g,"").split(","),rr=0;rr<Jt.length;++rr){var nr=Jt[rr],He=Ue[rr];if(typeof nr=="function"){rt+=";"+He+"=";var Sr=nr.toString();if(nr.prototype)if(Sr.indexOf("[native code]")!=-1){var br=Sr.indexOf(" ",8)+1;rt+=Sr.slice(br,Sr.indexOf("(",br))}else{rt+=Sr;for(var ln in nr.prototype)rt+=";"+He+".prototype."+ln+"="+nr.prototype[ln].toString()}else rt+=Sr}else kt[He]=nr}return[rt,kt]},se=[],Zt=function(J){var rt=[];for(var kt in J)(J[kt]instanceof be||J[kt]instanceof pt||J[kt]instanceof dt)&&rt.push((J[kt]=new J[kt].constructor(J[kt])).buffer);return rt},Wt=function(J,rt,kt,Jt){var ge;if(!se[kt]){for(var Ue="",rr={},nr=J.length-1,He=0;He<nr;++He)ge=ae(J[He],Ue,rr),Ue=ge[0],rr=ge[1];se[kt]=ae(J[nr],Ue,rr)}var Sr=Mt({},se[kt][1]);return L(se[kt][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+rt.toString()+"}",kt,Sr,Zt(Sr),Jt)},oe=function(){return[be,pt,dt,Yt,Q,b,u,e,D,it,a,f,Ct,Dt,Ut,pe,Ee,At,Ki,H,at]},N=function(){return[be,pt,dt,Yt,Q,b,o,t,C,p,V,v,a,$,F,f,Gt,Z,_e,er,tt,te,Y,lt,pe,Ee,et,xt,ki,H]},zt=function(){return[pr,_n,Ge,nt,ht]},U=function(){return[Ar,Kr]},x=function(){return[Cn,Ge,jt]},A=function(){return[Wn]},H=function(J){return postMessage(J,[J.buffer])},at=function(J){return J&&J.size&&new be(J.size)},Ot=function(J,rt,kt,Jt,ge,Ue){var rr=Wt(kt,Jt,ge,function(nr,He){rr.terminate(),Ue(nr,He)});return rt.consume||(J=new be(J)),rr.postMessage([J,rt],[J.buffer]),function(){rr.terminate()}},_t=function(J){return J.ondata=function(rt,kt){return postMessage([rt,kt],[rt.buffer])},function(rt){return J.push(rt.data[0],rt.data[1])}},we=function(J,rt,kt,Jt,ge){var Ue,rr=Wt(J,Jt,ge,function(nr,He){nr?(rr.terminate(),rt.ondata.call(rt,nr)):(He[1]&&rr.terminate(),rt.ondata.call(rt,nr,He[0],He[1]))});rr.postMessage(kt),rt.push=function(nr,He){if(Ue)throw"stream finished";if(!rt.ondata)throw"no stream handler";rr.postMessage([nr,Ue=He],[nr.buffer])},rt.terminate=function(){rr.terminate()}},Me=function(J,rt){return J[rt]|J[rt+1]<<8},Se=function(J,rt){return(J[rt]|J[rt+1]<<8|J[rt+2]<<16)+(J[rt+3]<<23)*2},Ge=function(J,rt,kt){for(;kt;++rt)J[rt]=kt,kt>>>=8},pr=function(J,rt){var kt=rt.filename;if(J[0]=31,J[1]=139,J[2]=8,J[8]=rt.level<2?4:rt.level==9?2:0,J[9]=3,rt.mtime!=0&&Ge(J,4,Math.floor(new Date(rt.mtime||Date.now())/1e3)),kt){J[3]=8;for(var Jt=0;Jt<=kt.length;++Jt)J[Jt+10]=kt.charCodeAt(Jt)}},Ar=function(J){if(J[0]!=31||J[1]!=139||J[2]!=8)throw"invalid gzip data";var rt=J[3],kt=10;rt&4&&(kt+=J[10]|(J[11]<<8)+2);for(var Jt=(rt>>3&1)+(rt>>4&1);Jt>0;Jt-=!J[kt++]);return kt+(rt&2)},Kr=function(J){var rt=J.length;return(J[rt-4]|J[rt-3]<<8|J[rt-2]<<16)+2*(J[rt-1]<<23)},_n=function(J){return 10+(J.filename&&J.filename.length+1||0)},Cn=function(J,rt){var kt=rt.level,Jt=kt==0?0:kt<6?1:kt==9?3:2;J[0]=120,J[1]=Jt<<6|(Jt?32-2*Jt:1)},Wn=function(J){if((J[0]&15)!=8||J[0]>>>4>7||(J[0]<<8|J[1])%31)throw"invalid zlib data";if(J[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Yr(Rt,J){return!J&&typeof Rt=="function"&&(J=Rt,Rt={}),this.ondata=J,Rt}var zn=function(){function Rt(J,rt){!rt&&typeof J=="function"&&(rt=J,J={}),this.ondata=rt,this.o=J||{}}return Rt.prototype.p=function(J,rt){this.ondata(xt(J,this.o,0,0,!rt),rt)},Rt.prototype.push=function(J,rt){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=rt,this.p(J,rt||!1)},Rt}(),pi=function(){function Rt(J,rt){we([N,function(){return[_t,zn]}],this,Yr.call(this,J,rt),function(kt){var Jt=new zn(kt.data);onmessage=_t(Jt)},6)}return Rt}();function $n(Rt,J,rt){if(rt||(rt=J,J={}),typeof rt!="function")throw"no callback";return Ot(Rt,J,[N],function(kt){return H(ki(kt.data[0],kt.data[1]))},0,rt)}function ki(Rt,J){return J===void 0&&(J={}),xt(Rt,J,0,0)}var ni=function(){function Rt(J){this.s={},this.p=new be(0),this.ondata=J}return Rt.prototype.e=function(J){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var rt=this.p.length,kt=new be(rt+J.length);kt.set(this.p),kt.set(J,rt),this.p=kt},Rt.prototype.c=function(J){this.d=this.s.i=J||!1;var rt=this.s.b,kt=At(this.p,this.o,this.s);this.ondata(Ee(kt,rt,this.s.b),this.d),this.o=Ee(kt,this.s.b-32768),this.s.b=this.o.length,this.p=Ee(this.p,this.s.p/8>>0),this.s.p&=7},Rt.prototype.push=function(J,rt){this.e(J),this.c(rt)},Rt}(),Ia=function(){function Rt(J){this.ondata=J,we([oe,function(){return[_t,ni]}],this,0,function(){var rt=new ni;onmessage=_t(rt)},7)}return Rt}();function Mr(Rt,J,rt){if(rt||(rt=J,J={}),typeof rt!="function")throw"no callback";return Ot(Rt,J,[oe],function(kt){return H(Ki(kt.data[0],at(kt.data[1])))},1,rt)}function Ki(Rt,J){return At(Rt,J)}var va=function(){function Rt(J,rt){this.c=nt(),this.l=0,this.v=1,zn.call(this,J,rt)}return Rt.prototype.push=function(J,rt){zn.prototype.push.call(this,J,rt)},Rt.prototype.p=function(J,rt){this.c.p(J),this.l+=J.length;var kt=xt(J,this.o,this.v&&_n(this.o),rt&&8,!rt);this.v&&(pr(kt,this.o),this.v=0),rt&&(Ge(kt,kt.length-8,this.c.d()),Ge(kt,kt.length-4,this.l)),this.ondata(kt,rt)},Rt}(),ya=function(){function Rt(J,rt){we([N,zt,function(){return[_t,zn,va]}],this,Yr.call(this,J,rt),function(kt){var Jt=new va(kt.data);onmessage=_t(Jt)},8)}return Rt}();function $o(Rt,J,rt){if(rt||(rt=J,J={}),typeof rt!="function")throw"no callback";return Ot(Rt,J,[N,zt,function(){return[Qs]}],function(kt){return H(Qs(kt.data[0],kt.data[1]))},2,rt)}function Qs(Rt,J){J===void 0&&(J={});var rt=nt(),kt=Rt.length;rt.p(Rt);var Jt=xt(Rt,J,_n(J),8),ge=Jt.length;return pr(Jt,J),Ge(Jt,ge-8,rt.d()),Ge(Jt,ge-4,kt),Jt}var Xa=function(){function Rt(J){this.v=1,ni.call(this,J)}return Rt.prototype.push=function(J,rt){if(ni.prototype.e.call(this,J),this.v){var kt=Ar(this.p);if(kt>=this.p.length&&!rt)return;this.p=this.p.subarray(kt),this.v=0}if(rt){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}ni.prototype.c.call(this,rt)},Rt}(),Co=function(){function Rt(J){this.ondata=J,we([oe,U,function(){return[_t,ni,Xa]}],this,0,function(){var rt=new Xa;onmessage=_t(rt)},9)}return Rt}();function Ao(Rt,J,rt){if(rt||(rt=J,J={}),typeof rt!="function")throw"no callback";return Ot(Rt,J,[oe,U,function(){return[hs]}],function(kt){return H(hs(kt.data[0]))},3,rt)}function hs(Rt,J){return At(Rt.subarray(Ar(Rt),-8),J||new be(Kr(Rt)))}var cs=function(){function Rt(J,rt){this.c=jt(),this.v=1,zn.call(this,J,rt)}return Rt.prototype.push=function(J,rt){zn.prototype.push.call(this,J,rt)},Rt.prototype.p=function(J,rt){this.c.p(J);var kt=xt(J,this.o,this.v&&2,rt&&4,!rt);this.v&&(Cn(kt,this.o),this.v=0),rt&&Ge(kt,kt.length-4,this.c.d()),this.ondata(kt,rt)},Rt}(),Ll=function(){function Rt(J,rt){we([N,x,function(){return[_t,zn,cs]}],this,Yr.call(this,J,rt),function(kt){var Jt=new cs(kt.data);onmessage=_t(Jt)},10)}return Rt}();function to(Rt,J,rt){if(rt||(rt=J,J={}),typeof rt!="function")throw"no callback";return Ot(Rt,J,[N,x,function(){return[ks]}],function(kt){return H(ks(kt.data[0],kt.data[1]))},4,rt)}function ks(Rt,J){J===void 0&&(J={});var rt=jt();rt.p(Rt);var kt=xt(Rt,J,2,4);return Cn(kt,J),Ge(kt,kt.length-4,rt.d()),kt}var Es=function(){function Rt(J){this.v=1,ni.call(this,J)}return Rt.prototype.push=function(J,rt){if(ni.prototype.e.call(this,J),this.v){if(this.p.length<2&&!rt)return;this.p=this.p.subarray(2),this.v=0}if(rt){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}ni.prototype.c.call(this,rt)},Rt}(),To=function(){function Rt(J){this.ondata=J,we([oe,A,function(){return[_t,ni,Es]}],this,0,function(){var rt=new Es;onmessage=_t(rt)},11)}return Rt}();function Qo(Rt,J,rt){if(rt||(rt=J,J={}),typeof rt!="function")throw"no callback";return Ot(Rt,J,[oe,A,function(){return[Fs]}],function(kt){return H(Fs(kt.data[0],at(kt.data[1])))},5,rt)}function Fs(Rt,J){return At((Wn(Rt),Rt.subarray(2,-4)),J)}var Va=function(){function Rt(J){this.G=Xa,this.I=ni,this.Z=Es,this.ondata=J}return Rt.prototype.push=function(J,rt){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(J,rt);else{if(this.p&&this.p.length){var kt=new be(this.p.length+J.length);kt.set(this.p),kt.set(J,this.p.length)}else this.p=J;if(this.p.length>2){var Jt=this,ge=function(){Jt.ondata.apply(Jt,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(ge):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(ge):new this.Z(ge),this.s.push(this.p,rt),this.p=null}}},Rt}(),tl=function(){function Rt(J){this.G=Co,this.I=Ia,this.Z=To,this.ondata=J}return Rt.prototype.push=function(J,rt){Va.prototype.push.call(this,J,rt)},Rt}();function el(Rt,J,rt){if(rt||(rt=J,J={}),typeof rt!="function")throw"no callback";return Rt[0]==31&&Rt[1]==139&&Rt[2]==8?Ao(Rt,J,rt):(Rt[0]&15)!=8||Rt[0]>>4>7||(Rt[0]<<8|Rt[1])%31?Mr(Rt,J,rt):Qo(Rt,J,rt)}function X(Rt,J){return Rt[0]==31&&Rt[1]==139&&Rt[2]==8?hs(Rt,J):(Rt[0]&15)!=8||Rt[0]>>4>7||(Rt[0]<<8|Rt[1])%31?Ki(Rt,J):Fs(Rt,J)}var B=function Rt(J,rt,kt,Jt){for(var ge in J){var Ue=J[ge],rr=rt+ge;Ue instanceof be?kt[rr]=[Ue,Jt]:Array.isArray(Ue)?kt[rr]=[Ue[0],Mt(Jt,Ue[1])]:Rt(Ue,rr+"/",kt,Jt)}};function O(Rt,J){var rt=Rt.length;if(!J&&typeof TextEncoder!="undefined")return new TextEncoder().encode(Rt);for(var kt=new be(Rt.length+(Rt.length>>>1)),Jt=0,ge=function(Sr){kt[Jt++]=Sr},Ue=0;Ue<rt;++Ue){if(Jt+5>kt.length){var rr=new be(Jt+8+(rt-Ue<<1));rr.set(kt),kt=rr}var nr=Rt.charCodeAt(Ue);nr<128||J?ge(nr):nr<2048?(ge(192|nr>>>6),ge(128|nr&63)):nr>55295&&nr<57344?(nr=65536+(nr&1023<<10)|Rt.charCodeAt(++Ue)&1023,ge(240|nr>>>18),ge(128|nr>>>12&63),ge(128|nr>>>6&63),ge(128|nr&63)):(ge(224|nr>>>12),ge(128|nr>>>6&63),ge(128|nr&63))}return Ee(kt,0,Jt)}function q(Rt,J){var rt="";if(!J&&typeof TextDecoder!="undefined")return new TextDecoder().decode(Rt);for(var kt=0;kt<Rt.length;){var Jt=Rt[kt++];Jt<128||J?rt+=String.fromCharCode(Jt):Jt<224?rt+=String.fromCharCode((Jt&31)<<6|Rt[kt++]&63):Jt<240?rt+=String.fromCharCode((Jt&15)<<12|(Rt[kt++]&63)<<6|Rt[kt++]&63):(Jt=((Jt&15)<<18|(Rt[kt++]&63)<<12|(Rt[kt++]&63)<<6|Rt[kt++]&63)-65536,rt+=String.fromCharCode(55296|Jt>>10,56320|Jt&1023))}return rt}var st=function(J,rt){return rt+30+Me(J,rt+26)+Me(J,rt+28)},Pt=function(J,rt,kt){var Jt=Me(J,rt+28),ge=q(J.subarray(rt+46,rt+46+Jt),!(Me(J,rt+8)&2048)),Ue=rt+46+Jt,rr=kt?Ht(J,Ue):[Se(J,rt+20),Se(J,rt+24),Se(J,rt+42)],nr=rr[0],He=rr[1],Sr=rr[2];return[Me(J,rt+10),nr,He,ge,Ue+Me(J,rt+30)+Me(J,rt+32),Sr]},Ht=function(J,rt){for(;Me(J,rt)!=1;rt+=4+Me(J,rt+2));return[Se(J,rt+12),Se(J,rt+4),Se(J,rt+20)]},Xt=function(J,rt,kt,Jt,ge,Ue,rr,nr,He,Sr){var br=Ue.length,ln=Jt.length;Ge(J,rt,He!=null?33639248:67324752),rt+=4,He!=null&&(J[rt]=20,rt+=2),J[rt]=20,rt+=2,J[rt++]=Sr==8&&(nr.level==1?6:nr.level<6?4:nr.level==9?2:0),J[rt++]=rr&&8,J[rt]=Sr,rt+=2;var Qr=new Date(nr.mtime||Date.now()),Br=Qr.getFullYear()-1980;if(Br<0||Br>119)throw"date not in range 1980-2099";Ge(J,rt,(Br<<24)*2|Qr.getMonth()+1<<21|Qr.getDate()<<16|Qr.getHours()<<11|Qr.getMinutes()<<5|Qr.getSeconds()>>>1),rt+=4,Ge(J,rt,kt),Ge(J,rt+4,ln),Ge(J,rt+8,ge),Ge(J,rt+12,br),rt+=16,He!=null&&(Ge(J,rt+=10,He),rt+=4),J.set(Ue,rt),rt+=br,He==null&&J.set(Jt,rt)},ve=function(J,rt,kt,Jt,ge){Ge(J,rt,101010256),Ge(J,rt+8,kt),Ge(J,rt+10,kt),Ge(J,rt+12,Jt),Ge(J,rt+16,ge)};function Ne(Rt,J,rt){if(rt||(rt=J,J={}),typeof rt!="function")throw"no callback";var kt={};B(Rt,"",kt,J);var Jt=Object.keys(kt),ge=Jt.length,Ue=0,rr=0,nr=ge,He=new Array(ge),Sr=[],br=function(){for(var tn=0;tn<Sr.length;++tn)Sr[tn]()},ln=function(){var tn=new be(rr+22),vn=Ue,Xn=rr-Ue;rr=0;for(var Fn=0;Fn<nr;++Fn){var k=He[Fn];try{Xt(tn,rr,k.c,k.d,k.m,k.n,k.u,k.p,null,k.t),Xt(tn,Ue,k.c,k.d,k.m,k.n,k.u,k.p,rr,k.t),Ue+=46+k.n.length,rr+=30+k.n.length+k.d.length}catch(g){return rt(g,null)}}ve(tn,Ue,He.length,Xn,vn),rt(null,tn)};ge||ln();for(var Qr=function(tn){var vn=Jt[tn],Xn=kt[vn],Fn=Xn[0],k=Xn[1],g=nt(),y=Fn.length;g.p(Fn);var w=O(vn),T=w.length,S=k.level==0?0:8,P=function(I,K){if(I)br(),rt(I,null);else{var bt=K.length;He[tn]={t:S,d:K,m:y,c:g.d(),u:vn.length!=bt,n:w,p:k},Ue+=30+T+bt,rr+=76+2*T+bt,--ge||ln()}};if(w.length>65535&&P("filename too long",null),!S)P(null,Fn);else if(y<16e4)try{P(null,ki(Fn,k))}catch(j){P(j,null)}else Sr.push($n(Fn,k,P))},Br=0;Br<nr;++Br)Qr(Br);return br}function ne(Rt,J){J===void 0&&(J={});var rt={},kt=[];B(Rt,"",rt,J);var Jt=0,ge=0;for(var Ue in rt){var rr=rt[Ue],nr=rr[0],He=rr[1],Sr=He.level==0?0:8,br=O(Ue),ln=br.length;if(br.length>65535)throw"filename too long";var Qr=Sr?ki(nr,He):nr,Br=Qr.length,xn=nt();xn.p(nr),kt.push({t:Sr,d:Qr,m:nr.length,c:xn.d(),u:Ue.length!=ln,n:br,o:Jt,p:He}),Jt+=30+ln+Br,ge+=76+2*ln+Br}for(var tn=new be(ge+22),vn=Jt,Xn=ge-Jt,Fn=0;Fn<kt.length;++Fn){var k=kt[Fn];Xt(tn,k.o,k.c,k.d,k.m,k.n,k.u,k.p,null,k.t),Xt(tn,Jt,k.c,k.d,k.m,k.n,k.u,k.p,k.o,k.t),Jt+=46+k.n.length}return ve(tn,Jt,kt.length,Xn,vn),tn}function je(Rt,J){if(typeof J!="function")throw"no callback";for(var rt=[],kt=function(){for(var Qr=0;Qr<rt.length;++Qr)rt[Qr]()},Jt={},ge=Rt.length-22;Se(Rt,ge)!=101010256;--ge)if(!ge||Rt.length-ge>65558){J("invalid zip file",null);return}var Ue=Me(Rt,ge+8);Ue||J(null,{});var rr=Ue,nr=Se(Rt,ge+16),He=nr==4294967295;if(He){if(ge=Se(Rt,ge-12),Se(Rt,ge)!=101075792)throw"invalid zip file";rr=Ue=Se(Rt,ge+32),nr=Se(Rt,ge+48)}for(var Sr=function(Qr){var Br=Pt(Rt,nr,He),xn=Br[0],tn=Br[1],vn=Br[2],Xn=Br[3],Fn=Br[4],k=Br[5],g=st(Rt,k);nr=Fn;var y=function(S,P){S?(kt(),J(S,null)):(Jt[Xn]=P,--Ue||J(null,Jt))};if(!xn)y(null,Ee(Rt,g,g+tn));else if(xn==8){var w=Rt.subarray(g,g+tn);if(tn<32e4)try{y(null,Ki(w,new be(vn)))}catch(T){y(T,null)}else rt.push(Mr(w,{size:vn},y))}else y("unknown compression type "+xn,null)},br=0;br<rr;++br)Sr(br);return kt}function jr(Rt){for(var J={},rt=Rt.length-22;Se(Rt,rt)!=101010256;--rt)if(!rt||Rt.length-rt>65558)throw"invalid zip file";var kt=Me(Rt,rt+8);if(!kt)return{};var Jt=Se(Rt,rt+16),ge=Jt==4294967295;if(ge){if(rt=Se(Rt,rt-12),Se(Rt,rt)!=101075792)throw"invalid zip file";kt=Se(Rt,rt+32),Jt=Se(Rt,rt+48)}for(var Ue=0;Ue<kt;++Ue){var rr=Pt(Rt,Jt,ge),nr=rr[0],He=rr[1],Sr=rr[2],br=rr[3],ln=rr[4],Qr=rr[5],Br=st(Rt,Qr);if(Jt=ln,!nr)J[br]=Ee(Rt,Br,Br+He);else if(nr==8)J[br]=Ki(Rt.subarray(Br,Br+He),new be(Sr));else throw"unknown compression type "+nr}return J}},epSk:function(un,wr,De){(function(Je){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var L=L||{version:"4.6.0"};if(wr.fabric=L,typeof document!="undefined"&&typeof window!="undefined")document instanceof(typeof HTMLDocument!="undefined"?HTMLDocument:Document)?L.document=document:L.document=document.implementation.createHTMLDocument(""),L.window=window;else{var be=De(2),pt=new be.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;L.document=pt.document,L.jsdomImplForWrapper=De(3).implForWrapper,L.nodeCanvas=De(4).Canvas,L.window=pt,DOMParser=L.window.DOMParser}L.isTouchSupported="ontouchstart"in L.window||"ontouchstart"in L.document||L.window&&L.window.navigator&&L.window.navigator.maxTouchPoints>0,L.isLikelyNode=typeof Je!="undefined"&&typeof window=="undefined",L.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],L.DPI=96,L.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",L.commaWsp="(?:\\s+,?\\s*|,\\s*)",L.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,L.reNonWord=/[ \n\.,;!\?\-]/,L.fontPaths={},L.iMatrix=[1,0,0,1,0,0],L.svgNS="http://www.w3.org/2000/svg",L.perfLimitSizeTotal=2097152,L.maxCacheSideLimit=4096,L.minCacheSideLimit=256,L.charWidthsCache={},L.textureSize=2048,L.disableStyleCopyPaste=!1,L.enableGLFiltering=!0,L.devicePixelRatio=L.window.devicePixelRatio||L.window.webkitDevicePixelRatio||L.window.mozDevicePixelRatio||1,L.browserShadowBlurConstant=1,L.arcToSegmentsCache={},L.boundsOfCurveCache={},L.cachesBoundsOfCurve=!0,L.forceGLPutImageData=!1,L.initFilterBackend=function(){if(L.enableGLFiltering&&L.isWebglSupported&&L.isWebglSupported(L.textureSize))return console.log("max texture size: "+L.maxTextureSize),new L.WebglFilterBackend({tileSize:L.textureSize});if(L.Canvas2dFilterBackend)return new L.Canvas2dFilterBackend},typeof document!="undefined"&&typeof window!="undefined"&&(window.fabric=L),function(){function b(e,t){if(!!this.__eventListeners[e]){var a=this.__eventListeners[e];t?a[a.indexOf(t)]=!1:L.util.array.fill(a,!1)}}function s(e,t){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var a in e)this.on(a,e[a]);else this.__eventListeners[e]||(this.__eventListeners[e]=[]),this.__eventListeners[e].push(t);return this}function h(e,t){var a=function(){t.apply(this,arguments),this.off(e,a)}.bind(this);this.on(e,a)}function u(e,t){if(arguments.length===1)for(var a in e)h.call(this,a,e[a]);else h.call(this,e,t);return this}function o(e,t){if(!this.__eventListeners)return this;if(arguments.length===0)for(e in this.__eventListeners)b.call(this,e);else if(arguments.length===1&&typeof arguments[0]=="object")for(var a in e)b.call(this,a,e[a]);else b.call(this,e,t);return this}function r(e,t){if(!this.__eventListeners)return this;var a=this.__eventListeners[e];if(!a)return this;for(var l=0,i=a.length;l<i;l++)a[l]&&a[l].call(this,t||{});return this.__eventListeners[e]=a.filter(function(f){return f!==!1}),this}L.Observable={fire:r,on:s,once:u,off:o}}(),L.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var s=0,h=arguments.length;s<h;s++)this._onObjectAdded(arguments[s]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(s,h,u){var o=this._objects;return u?o[h]=s:o.splice(h,0,s),this._onObjectAdded&&this._onObjectAdded(s),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var s=this._objects,h,u=!1,o=0,r=arguments.length;o<r;o++)h=s.indexOf(arguments[o]),h!==-1&&(u=!0,s.splice(h,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[o]));return this.renderOnAddRemove&&u&&this.requestRenderAll(),this},forEachObject:function(s,h){for(var u=this.getObjects(),o=0,r=u.length;o<r;o++)s.call(h,u[o],o,u);return this},getObjects:function(s){return typeof s=="undefined"?this._objects.concat():this._objects.filter(function(h){return h.type===s})},item:function(s){return this._objects[s]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(s,h){return this._objects.indexOf(s)>-1?!0:h?this._objects.some(function(u){return typeof u.contains=="function"&&u.contains(s,!0)}):!1},complexity:function(){return this._objects.reduce(function(s,h){return s+=h.complexity?h.complexity():0,s},0)}},L.CommonMethods={_setOptions:function(s){for(var h in s)this.set(h,s[h])},_initGradient:function(s,h){s&&s.colorStops&&!(s instanceof L.Gradient)&&this.set(h,new L.Gradient(s))},_initPattern:function(s,h,u){s&&s.source&&!(s instanceof L.Pattern)?this.set(h,new L.Pattern(s,u)):u&&u()},_setObject:function(s){for(var h in s)this._set(h,s[h])},set:function(s,h){return typeof s=="object"?this._setObject(s):this._set(s,h),this},_set:function(s,h){this[s]=h},toggle:function(s){var h=this.get(s);return typeof h=="boolean"&&this.set(s,!h),this},get:function(s){return this[s]}},function(b){var s=Math.sqrt,h=Math.atan2,u=Math.pow,o=Math.PI/180,r=Math.PI/2;L.util={cos:function(t){if(t===0)return 1;t<0&&(t=-t);var a=t/r;switch(a){case 1:case 3:return 0;case 2:return-1}return Math.cos(t)},sin:function(t){if(t===0)return 0;var a=t/r,l=1;switch(t<0&&(l=-1),a){case 1:return l;case 2:return 0;case 3:return-l}return Math.sin(t)},removeFromArray:function(t,a){var l=t.indexOf(a);return l!==-1&&t.splice(l,1),t},getRandomInt:function(t,a){return Math.floor(Math.random()*(a-t+1))+t},degreesToRadians:function(t){return t*o},radiansToDegrees:function(t){return t/o},rotatePoint:function(t,a,l){var i=new L.Point(t.x-a.x,t.y-a.y),f=L.util.rotateVector(i,l);return new L.Point(f.x,f.y).addEquals(a)},rotateVector:function(t,a){var l=L.util.sin(a),i=L.util.cos(a),f=t.x*i-t.y*l,p=t.x*l+t.y*i;return{x:f,y:p}},transformPoint:function(t,a,l){return l?new L.Point(a[0]*t.x+a[2]*t.y,a[1]*t.x+a[3]*t.y):new L.Point(a[0]*t.x+a[2]*t.y+a[4],a[1]*t.x+a[3]*t.y+a[5])},makeBoundingBoxFromPoints:function(t,a){if(a)for(var l=0;l<t.length;l++)t[l]=L.util.transformPoint(t[l],a);var i=[t[0].x,t[1].x,t[2].x,t[3].x],f=L.util.array.min(i),p=L.util.array.max(i),v=p-f,C=[t[0].y,t[1].y,t[2].y,t[3].y],D=L.util.array.min(C),V=L.util.array.max(C),it=V-D;return{left:f,top:D,width:v,height:it}},invertTransform:function(t){var a=1/(t[0]*t[3]-t[1]*t[2]),l=[a*t[3],-a*t[1],-a*t[2],a*t[0]],i=L.util.transformPoint({x:t[4],y:t[5]},l,!0);return l[4]=-i.x,l[5]=-i.y,l},toFixed:function(t,a){return parseFloat(Number(t).toFixed(a))},parseUnit:function(t,a){var l=/\D{0,2}$/.exec(t),i=parseFloat(t);switch(a||(a=L.Text.DEFAULT_SVG_FONT_SIZE),l[0]){case"mm":return i*L.DPI/25.4;case"cm":return i*L.DPI/2.54;case"in":return i*L.DPI;case"pt":return i*L.DPI/72;case"pc":return i*L.DPI/72*12;case"em":return i*a;default:return i}},falseFunction:function(){return!1},getKlass:function(t,a){return t=L.util.string.camelize(t.charAt(0).toUpperCase()+t.slice(1)),L.util.resolveNamespace(a)[t]},getSvgAttributes:function(t){var a=["instantiated_by_use","style","id","class"];switch(t){case"linearGradient":a=a.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":a=a.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":a=a.concat(["offset","stop-color","stop-opacity"]);break}return a},resolveNamespace:function(t){if(!t)return L;var a=t.split("."),l=a.length,i,f=b||L.window;for(i=0;i<l;++i)f=f[a[i]];return f},loadImage:function(t,a,l,i){if(!t){a&&a.call(l,t);return}var f=L.util.createImage(),p=function(){a&&a.call(l,f,!1),f=f.onload=f.onerror=null};f.onload=p,f.onerror=function(){L.log("Error loading "+f.src),a&&a.call(l,null,!0),f=f.onload=f.onerror=null},t.indexOf("data")!==0&&i!==void 0&&i!==null&&(f.crossOrigin=i),t.substring(0,14)==="data:image/svg"&&(f.onload=null,L.util.loadImageInDom(f,p)),f.src=t},loadImageInDom:function(t,a){var l=L.document.createElement("div");l.style.width=l.style.height="1px",l.style.left=l.style.top="-100%",l.style.position="absolute",l.appendChild(t),L.document.querySelector("body").appendChild(l),t.onload=function(){a(),l.parentNode.removeChild(l),l=null}},enlivenObjects:function(t,a,l,i){t=t||[];var f=[],p=0,v=t.length;function C(){++p===v&&a&&a(f.filter(function(D){return D}))}if(!v){a&&a(f);return}t.forEach(function(D,V){if(!D||!D.type){C();return}var it=L.util.getKlass(D.type,l);it.fromObject(D,function(Ct,Dt){Dt||(f[V]=Ct),i&&i(D,Ct,Dt),C()})})},enlivenPatterns:function(t,a){t=t||[];function l(){++f===p&&a&&a(i)}var i=[],f=0,p=t.length;if(!p){a&&a(i);return}t.forEach(function(v,C){v&&v.source?new L.Pattern(v,function(D){i[C]=D,l()}):(i[C]=v,l())})},groupSVGElements:function(t,a,l){var i;return t&&t.length===1?t[0]:(a&&(a.width&&a.height?a.centerPoint={x:a.width/2,y:a.height/2}:(delete a.width,delete a.height)),i=new L.Group(t,a),typeof l!="undefined"&&(i.sourcePath=l),i)},populateWithProperties:function(t,a,l){if(l&&Object.prototype.toString.call(l)==="[object Array]")for(var i=0,f=l.length;i<f;i++)l[i]in t&&(a[l[i]]=t[l[i]])},drawDashedLine:function(t,a,l,i,f,p){var v=i-a,C=f-l,D=s(v*v+C*C),V=h(C,v),it=p.length,Ct=0,Dt=!0;for(t.save(),t.translate(a,l),t.moveTo(0,0),t.rotate(V),a=0;D>a;)a+=p[Ct++%it],a>D&&(a=D),t[Dt?"lineTo":"moveTo"](a,0),Dt=!Dt;t.restore()},createCanvasElement:function(){return L.document.createElement("canvas")},copyCanvasElement:function(t){var a=L.util.createCanvasElement();return a.width=t.width,a.height=t.height,a.getContext("2d").drawImage(t,0,0),a},toDataURL:function(t,a,l){return t.toDataURL("image/"+a,l)},createImage:function(){return L.document.createElement("img")},multiplyTransformMatrices:function(t,a,l){return[t[0]*a[0]+t[2]*a[1],t[1]*a[0]+t[3]*a[1],t[0]*a[2]+t[2]*a[3],t[1]*a[2]+t[3]*a[3],l?0:t[0]*a[4]+t[2]*a[5]+t[4],l?0:t[1]*a[4]+t[3]*a[5]+t[5]]},qrDecompose:function(t){var a=h(t[1],t[0]),l=u(t[0],2)+u(t[1],2),i=s(l),f=(t[0]*t[3]-t[2]*t[1])/i,p=h(t[0]*t[2]+t[1]*t[3],l);return{angle:a/o,scaleX:i,scaleY:f,skewX:p/o,skewY:0,translateX:t[4],translateY:t[5]}},calcRotateMatrix:function(t){if(!t.angle)return L.iMatrix.concat();var a=L.util.degreesToRadians(t.angle),l=L.util.cos(a),i=L.util.sin(a);return[l,i,-i,l,0,0]},calcDimensionsMatrix:function(t){var a=typeof t.scaleX=="undefined"?1:t.scaleX,l=typeof t.scaleY=="undefined"?1:t.scaleY,i=[t.flipX?-a:a,0,0,t.flipY?-l:l,0,0],f=L.util.multiplyTransformMatrices,p=L.util.degreesToRadians;return t.skewX&&(i=f(i,[1,0,Math.tan(p(t.skewX)),1],!0)),t.skewY&&(i=f(i,[1,Math.tan(p(t.skewY)),0,1],!0)),i},composeMatrix:function(t){var a=[1,0,0,1,t.translateX||0,t.translateY||0],l=L.util.multiplyTransformMatrices;return t.angle&&(a=l(a,L.util.calcRotateMatrix(t))),(t.scaleX!==1||t.scaleY!==1||t.skewX||t.skewY||t.flipX||t.flipY)&&(a=l(a,L.util.calcDimensionsMatrix(t))),a},resetObjectTransform:function(t){t.scaleX=1,t.scaleY=1,t.skewX=0,t.skewY=0,t.flipX=!1,t.flipY=!1,t.rotate(0)},saveObjectTransform:function(t){return{scaleX:t.scaleX,scaleY:t.scaleY,skewX:t.skewX,skewY:t.skewY,angle:t.angle,left:t.left,flipX:t.flipX,flipY:t.flipY,top:t.top}},isTransparent:function(t,a,l,i){i>0&&(a>i?a-=i:a=0,l>i?l-=i:l=0);var f=!0,p,v,C=t.getImageData(a,l,i*2||1,i*2||1),D=C.data.length;for(p=3;p<D&&(v=C.data[p],f=v<=0,f!==!1);p+=4);return C=null,f},parsePreserveAspectRatioAttribute:function(t){var a="meet",l="Mid",i="Mid",f=t.split(" "),p;return f&&f.length&&(a=f.pop(),a!=="meet"&&a!=="slice"?(p=a,a="meet"):f.length&&(p=f.pop())),l=p!=="none"?p.slice(1,4):"none",i=p!=="none"?p.slice(5,8):"none",{meetOrSlice:a,alignX:l,alignY:i}},clearFabricFontCache:function(t){t=(t||"").toLowerCase(),t?L.charWidthsCache[t]&&delete L.charWidthsCache[t]:L.charWidthsCache={}},limitDimsByArea:function(t,a){var l=Math.sqrt(a*t),i=Math.floor(a/l);return{x:Math.floor(l),y:i}},capValue:function(t,a,l){return Math.max(t,Math.min(a,l))},findScaleToFit:function(t,a){return Math.min(a.width/t.width,a.height/t.height)},findScaleToCover:function(t,a){return Math.max(a.width/t.width,a.height/t.height)},matrixToSVG:function(t){return"matrix("+t.map(function(a){return L.util.toFixed(a,L.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(t,a){var l=L.util.invertTransform(a),i=L.util.multiplyTransformMatrices(l,t.calcOwnMatrix());L.util.applyTransformToObject(t,i)},addTransformToObject:function(t,a){L.util.applyTransformToObject(t,L.util.multiplyTransformMatrices(a,t.calcOwnMatrix()))},applyTransformToObject:function(t,a){var l=L.util.qrDecompose(a),i=new L.Point(l.translateX,l.translateY);t.flipX=!1,t.flipY=!1,t.set("scaleX",l.scaleX),t.set("scaleY",l.scaleY),t.skewX=l.skewX,t.skewY=l.skewY,t.angle=l.angle,t.setPositionByOrigin(i,"center","center")},sizeAfterTransform:function(t,a,l){var i=t/2,f=a/2,p=[{x:-i,y:-f},{x:i,y:-f},{x:-i,y:f},{x:i,y:f}],v=L.util.calcDimensionsMatrix(l),C=L.util.makeBoundingBoxFromPoints(p,v);return{x:C.width,y:C.height}}}}(wr),function(){var b=Array.prototype.join,s={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},h={m:"l",M:"L"};function u(Y,lt,$,F,et,ht,nt,jt,xt,Mt,ae){var se=L.util.cos(Y),Zt=L.util.sin(Y),Wt=L.util.cos(lt),oe=L.util.sin(lt),N=$*et*Wt-F*ht*oe+nt,zt=F*et*Wt+$*ht*oe+jt,U=Mt+xt*(-$*et*Zt-F*ht*se),x=ae+xt*(-F*et*Zt+$*ht*se),A=N+xt*($*et*oe+F*ht*Wt),H=zt+xt*(F*et*oe-$*ht*Wt);return["C",U,x,A,H,N,zt]}function o(Y,lt,$,F,et,ht,nt){var jt=Math.PI,xt=nt*jt/180,Mt=L.util.sin(xt),ae=L.util.cos(xt),se=0,Zt=0;$=Math.abs($),F=Math.abs(F);var Wt=-ae*Y*.5-Mt*lt*.5,oe=-ae*lt*.5+Mt*Y*.5,N=$*$,zt=F*F,U=oe*oe,x=Wt*Wt,A=N*zt-N*U-zt*x,H=0;if(A<0){var at=Math.sqrt(1-A/(N*zt));$*=at,F*=at}else H=(et===ht?-1:1)*Math.sqrt(A/(N*U+zt*x));var Ot=H*$*oe/F,_t=-H*F*Wt/$,we=ae*Ot-Mt*_t+Y*.5,Me=Mt*Ot+ae*_t+lt*.5,Se=r(1,0,(Wt-Ot)/$,(oe-_t)/F),Ge=r((Wt-Ot)/$,(oe-_t)/F,(-Wt-Ot)/$,(-oe-_t)/F);ht===0&&Ge>0?Ge-=2*jt:ht===1&&Ge<0&&(Ge+=2*jt);for(var pr=Math.ceil(Math.abs(Ge/jt*2)),Ar=[],Kr=Ge/pr,_n=8/3*Math.sin(Kr/4)*Math.sin(Kr/4)/Math.sin(Kr/2),Cn=Se+Kr,Wn=0;Wn<pr;Wn++)Ar[Wn]=u(Se,Cn,ae,Mt,$,F,we,Me,_n,se,Zt),se=Ar[Wn][5],Zt=Ar[Wn][6],Se=Cn,Cn+=Kr;return Ar}function r(Y,lt,$,F){var et=Math.atan2(lt,Y),ht=Math.atan2(F,$);return ht>=et?ht-et:2*Math.PI-(et-ht)}function e(Y,lt,$,F,et,ht,nt,jt){var xt;if(L.cachesBoundsOfCurve&&(xt=b.call(arguments),L.boundsOfCurveCache[xt]))return L.boundsOfCurveCache[xt];var Mt=Math.sqrt,ae=Math.min,se=Math.max,Zt=Math.abs,Wt=[],oe=[[],[]],N,zt,U,x,A,H,at,Ot;zt=6*Y-12*$+6*et,N=-3*Y+9*$-9*et+3*nt,U=3*$-3*Y;for(var _t=0;_t<2;++_t){if(_t>0&&(zt=6*lt-12*F+6*ht,N=-3*lt+9*F-9*ht+3*jt,U=3*F-3*lt),Zt(N)<1e-12){if(Zt(zt)<1e-12)continue;x=-U/zt,0<x&&x<1&&Wt.push(x);continue}at=zt*zt-4*U*N,!(at<0)&&(Ot=Mt(at),A=(-zt+Ot)/(2*N),0<A&&A<1&&Wt.push(A),H=(-zt-Ot)/(2*N),0<H&&H<1&&Wt.push(H))}for(var we,Me,Se=Wt.length,Ge=Se,pr;Se--;)x=Wt[Se],pr=1-x,we=pr*pr*pr*Y+3*pr*pr*x*$+3*pr*x*x*et+x*x*x*nt,oe[0][Se]=we,Me=pr*pr*pr*lt+3*pr*pr*x*F+3*pr*x*x*ht+x*x*x*jt,oe[1][Se]=Me;oe[0][Ge]=Y,oe[1][Ge]=lt,oe[0][Ge+1]=nt,oe[1][Ge+1]=jt;var Ar=[{x:ae.apply(null,oe[0]),y:ae.apply(null,oe[1])},{x:se.apply(null,oe[0]),y:se.apply(null,oe[1])}];return L.cachesBoundsOfCurve&&(L.boundsOfCurveCache[xt]=Ar),Ar}function t(Y,lt,$){for(var F=$[1],et=$[2],ht=$[3],nt=$[4],jt=$[5],xt=$[6],Mt=$[7],ae=o(xt-Y,Mt-lt,F,et,nt,jt,ht),se=0,Zt=ae.length;se<Zt;se++)ae[se][1]+=Y,ae[se][2]+=lt,ae[se][3]+=Y,ae[se][4]+=lt,ae[se][5]+=Y,ae[se][6]+=lt;return ae}function a(Y){var lt=0,$=0,F=Y.length,et=0,ht=0,nt,jt,xt,Mt=[],ae,se,Zt;for(jt=0;jt<F;++jt){switch(xt=!1,nt=Y[jt].slice(0),nt[0]){case"l":nt[0]="L",nt[1]+=lt,nt[2]+=$;case"L":lt=nt[1],$=nt[2];break;case"h":nt[1]+=lt;case"H":nt[0]="L",nt[2]=$,lt=nt[1];break;case"v":nt[1]+=$;case"V":nt[0]="L",$=nt[1],nt[1]=lt,nt[2]=$;break;case"m":nt[0]="M",nt[1]+=lt,nt[2]+=$;case"M":lt=nt[1],$=nt[2],et=nt[1],ht=nt[2];break;case"c":nt[0]="C",nt[1]+=lt,nt[2]+=$,nt[3]+=lt,nt[4]+=$,nt[5]+=lt,nt[6]+=$;case"C":se=nt[3],Zt=nt[4],lt=nt[5],$=nt[6];break;case"s":nt[0]="S",nt[1]+=lt,nt[2]+=$,nt[3]+=lt,nt[4]+=$;case"S":ae==="C"?(se=2*lt-se,Zt=2*$-Zt):(se=lt,Zt=$),lt=nt[3],$=nt[4],nt[0]="C",nt[5]=nt[3],nt[6]=nt[4],nt[3]=nt[1],nt[4]=nt[2],nt[1]=se,nt[2]=Zt,se=nt[3],Zt=nt[4];break;case"q":nt[0]="Q",nt[1]+=lt,nt[2]+=$,nt[3]+=lt,nt[4]+=$;case"Q":se=nt[1],Zt=nt[2],lt=nt[3],$=nt[4];break;case"t":nt[0]="T",nt[1]+=lt,nt[2]+=$;case"T":ae==="Q"?(se=2*lt-se,Zt=2*$-Zt):(se=lt,Zt=$),nt[0]="Q",lt=nt[1],$=nt[2],nt[1]=se,nt[2]=Zt,nt[3]=lt,nt[4]=$;break;case"a":nt[0]="A",nt[6]+=lt,nt[7]+=$;case"A":xt=!0,Mt=Mt.concat(t(lt,$,nt)),lt=nt[6],$=nt[7];break;case"z":case"Z":lt=et,$=ht;break;default:}xt||Mt.push(nt),ae=nt[0]}return Mt}function l(Y,lt,$,F){return Math.sqrt(($-Y)*($-Y)+(F-lt)*(F-lt))}function i(Y){return Y*Y*Y}function f(Y){return 3*Y*Y*(1-Y)}function p(Y){return 3*Y*(1-Y)*(1-Y)}function v(Y){return(1-Y)*(1-Y)*(1-Y)}function C(Y,lt,$,F,et,ht,nt,jt){return function(xt){var Mt=i(xt),ae=f(xt),se=p(xt),Zt=v(xt);return{x:nt*Mt+et*ae+$*se+Y*Zt,y:jt*Mt+ht*ae+F*se+lt*Zt}}}function D(Y,lt,$,F,et,ht,nt,jt){return function(xt){var Mt=1-xt,ae=3*Mt*Mt*($-Y)+6*Mt*xt*(et-$)+3*xt*xt*(nt-et),se=3*Mt*Mt*(F-lt)+6*Mt*xt*(ht-F)+3*xt*xt*(jt-ht);return Math.atan2(se,ae)}}function V(Y){return Y*Y}function it(Y){return 2*Y*(1-Y)}function Ct(Y){return(1-Y)*(1-Y)}function Dt(Y,lt,$,F,et,ht){return function(nt){var jt=V(nt),xt=it(nt),Mt=Ct(nt);return{x:et*jt+$*xt+Y*Mt,y:ht*jt+F*xt+lt*Mt}}}function Ut(Y,lt,$,F,et,ht){return function(nt){var jt=1-nt,xt=2*jt*($-Y)+2*nt*(et-$),Mt=2*jt*(F-lt)+2*nt*(ht-F);return Math.atan2(Mt,xt)}}function pe(Y,lt,$){var F={x:lt,y:$},et,ht=0,nt;for(nt=1;nt<=100;nt+=1)et=Y(nt/100),ht+=l(F.x,F.y,et.x,et.y),F=et;return ht}function Ee(Y,lt){for(var $=0,F=0,et=Y.iterator,ht={x:Y.x,y:Y.y},nt,jt,xt=.01,Mt=Y.angleFinder,ae;F<lt&&$<=1&&xt>1e-4;)nt=et($),ae=$,jt=l(ht.x,ht.y,nt.x,nt.y),jt+F>lt?(xt/=2,$-=xt):(ht=nt,$+=xt,F+=jt);return nt.angle=Mt(ae),nt}function At(Y){for(var lt=0,$=Y.length,F,et=0,ht=0,nt=0,jt=0,xt=[],Mt,ae,se,Zt=0;Zt<$;Zt++){switch(F=Y[Zt],ae={x:et,y:ht,command:F[0]},F[0]){case"M":ae.length=0,nt=et=F[1],jt=ht=F[2];break;case"L":ae.length=l(et,ht,F[1],F[2]),et=F[1],ht=F[2];break;case"C":Mt=C(et,ht,F[1],F[2],F[3],F[4],F[5],F[6]),se=D(et,ht,F[1],F[2],F[3],F[4],F[5],F[6]),ae.iterator=Mt,ae.angleFinder=se,ae.length=pe(Mt,et,ht),et=F[5],ht=F[6];break;case"Q":Mt=Dt(et,ht,F[1],F[2],F[3],F[4]),se=Ut(et,ht,F[1],F[2],F[3],F[4]),ae.iterator=Mt,ae.angleFinder=se,ae.length=pe(Mt,et,ht),et=F[3],ht=F[4];break;case"Z":case"z":ae.destX=nt,ae.destY=jt,ae.length=l(et,ht,nt,jt),et=nt,ht=jt;break}lt+=ae.length,xt.push(ae)}return xt.push({length:lt,x:et,y:ht}),xt}function Gt(Y,lt,$){$||($=At(Y));for(var F=0;lt-$[F].length>0&&F<$.length-2;)lt-=$[F].length,F++;var et=$[F],ht=lt/et.length,nt=et.command,jt=Y[F],xt;switch(nt){case"M":return{x:et.x,y:et.y,angle:0};case"Z":case"z":return xt=new L.Point(et.x,et.y).lerp(new L.Point(et.destX,et.destY),ht),xt.angle=Math.atan2(et.destY-et.y,et.destX-et.x),xt;case"L":return xt=new L.Point(et.x,et.y).lerp(new L.Point(jt[1],jt[2]),ht),xt.angle=Math.atan2(jt[2]-et.y,jt[1]-et.x),xt;case"C":return Ee(et,lt);case"Q":return Ee(et,lt)}}function Z(Y){var lt=[],$=[],F,et,ht=L.rePathCommand,nt="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",jt="("+nt+")"+L.commaWsp,xt="([01])"+L.commaWsp+"?",Mt=jt+"?"+jt+"?"+jt+xt+xt+jt+"?("+nt+")",ae=new RegExp(Mt,"g"),se,Zt,Wt;if(!Y||!Y.match)return lt;Wt=Y.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var oe=0,N,zt=Wt.length;oe<zt;oe++){F=Wt[oe],Zt=F.slice(1).trim(),$.length=0;var U=F.charAt(0);if(N=[U],U.toLowerCase()==="a")for(var x;x=ae.exec(Zt);)for(var A=1;A<x.length;A++)$.push(x[A]);else for(;se=ht.exec(Zt);)$.push(se[0]);for(var A=0,H=$.length;A<H;A++)et=parseFloat($[A]),isNaN(et)||N.push(et);var at=s[U.toLowerCase()],Ot=h[U]||U;if(N.length-1>at)for(var _t=1,we=N.length;_t<we;_t+=at)lt.push([U].concat(N.slice(_t,_t+at))),U=Ot;else lt.push(N)}return lt}function _e(Y,lt){var $=[],F,et=new L.Point(Y[0].x,Y[0].y),ht=new L.Point(Y[1].x,Y[1].y),nt=Y.length,jt=1,xt=0,Mt=nt>2;for(lt=lt||0,Mt&&(jt=Y[2].x<ht.x?-1:Y[2].x===ht.x?0:1,xt=Y[2].y<ht.y?-1:Y[2].y===ht.y?0:1),$.push(["M",et.x-jt*lt,et.y-xt*lt]),F=1;F<nt;F++){if(!et.eq(ht)){var ae=et.midPointFrom(ht);$.push(["Q",et.x,et.y,ae.x,ae.y])}et=Y[F],F+1<Y.length&&(ht=Y[F+1])}return Mt&&(jt=et.x>Y[F-2].x?1:et.x===Y[F-2].x?0:-1,xt=et.y>Y[F-2].y?1:et.y===Y[F-2].y?0:-1),$.push(["L",et.x+jt*lt,et.y+xt*lt]),$}function er(Y,lt,$){return $&&(lt=L.util.multiplyTransformMatrices(lt,[1,0,0,1,-$.x,-$.y])),Y.map(function(F){for(var et=F.slice(0),ht={},nt=1;nt<F.length-1;nt+=2)ht.x=F[nt],ht.y=F[nt+1],ht=L.util.transformPoint(ht,lt),et[nt]=ht.x,et[nt+1]=ht.y;return et})}function tt(Y,lt,$,F,et,ht,nt,jt,xt){for(var Mt=0,ae=0,se,Zt=[],Wt=o(jt-Y,xt-lt,$,F,ht,nt,et),oe=0,N=Wt.length;oe<N;oe++)se=e(Mt,ae,Wt[oe][1],Wt[oe][2],Wt[oe][3],Wt[oe][4],Wt[oe][5],Wt[oe][6]),Zt.push({x:se[0].x+Y,y:se[0].y+lt}),Zt.push({x:se[1].x+Y,y:se[1].y+lt}),Mt=Wt[oe][5],ae=Wt[oe][6];return Zt}function te(Y,lt,$,F){F=F.slice(0).unshift("X");var et=t(lt,$,F);et.forEach(function(ht){Y.bezierCurveTo.apply(Y,ht.slice(1))})}L.util.joinPath=function(Y){return Y.map(function(lt){return lt.join(" ")}).join(" ")},L.util.parsePath=Z,L.util.makePathSimpler=a,L.util.getSmoothPathFromPoints=_e,L.util.getPathSegmentsInfo=At,L.util.getBoundsOfCurve=e,L.util.getPointOnPath=Gt,L.util.transformPath=er,L.util.fromArcToBeizers=t,L.util.getBoundsOfArc=tt,L.util.drawArc=te}(),function(){var b=Array.prototype.slice;function s(e,t){for(var a=b.call(arguments,2),l=[],i=0,f=e.length;i<f;i++)l[i]=a.length?e[i][t].apply(e[i],a):e[i][t].call(e[i]);return l}function h(e,t){return r(e,t,function(a,l){return a>=l})}function u(e,t){return r(e,t,function(a,l){return a<l})}function o(e,t){for(var a=e.length;a--;)e[a]=t;return e}function r(e,t,a){if(!(!e||e.length===0)){var l=e.length-1,i=t?e[l][t]:e[l];if(t)for(;l--;)a(e[l][t],i)&&(i=e[l][t]);else for(;l--;)a(e[l],i)&&(i=e[l]);return i}}L.util.array={fill:o,invoke:s,min:u,max:h}}(),function(){function b(h,u,o){if(o)if(!L.isLikelyNode&&u instanceof Element)h=u;else if(u instanceof Array){h=[];for(var r=0,e=u.length;r<e;r++)h[r]=b({},u[r],o)}else if(u&&typeof u=="object")for(var t in u)t==="canvas"||t==="group"?h[t]=null:u.hasOwnProperty(t)&&(h[t]=b({},u[t],o));else h=u;else for(var t in u)h[t]=u[t];return h}function s(h,u){return b({},h,u)}L.util.object={extend:b,clone:s},L.util.object.extend(L.util,L.Observable)}(),function(){function b(r){return r.replace(/-+(.)?/g,function(e,t){return t?t.toUpperCase():""})}function s(r,e){return r.charAt(0).toUpperCase()+(e?r.slice(1):r.slice(1).toLowerCase())}function h(r){return r.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function u(r){var e=0,t,a=[];for(e=0,t;e<r.length;e++)(t=o(r,e))!==!1&&a.push(t);return a}function o(r,e){var t=r.charCodeAt(e);if(isNaN(t))return"";if(t<55296||t>57343)return r.charAt(e);if(55296<=t&&t<=56319){if(r.length<=e+1)throw"High surrogate without following low surrogate";var a=r.charCodeAt(e+1);if(56320>a||a>57343)throw"High surrogate without following low surrogate";return r.charAt(e)+r.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";var l=r.charCodeAt(e-1);if(55296>l||l>56319)throw"Low surrogate without preceding high surrogate";return!1}L.util.string={camelize:b,capitalize:s,escapeXml:h,graphemeSplit:u}}(),function(){var b=Array.prototype.slice,s=function(){},h=function(){for(var t in{toString:1})if(t==="toString")return!1;return!0}(),u=function(a,l,i){for(var f in l)f in a.prototype&&typeof a.prototype[f]=="function"&&(l[f]+"").indexOf("callSuper")>-1?a.prototype[f]=function(p){return function(){var v=this.constructor.superclass;this.constructor.superclass=i;var C=l[p].apply(this,arguments);if(this.constructor.superclass=v,p!=="initialize")return C}}(f):a.prototype[f]=l[f],h&&(l.toString!==Object.prototype.toString&&(a.prototype.toString=l.toString),l.valueOf!==Object.prototype.valueOf&&(a.prototype.valueOf=l.valueOf))};function o(){}function r(t){for(var a=null,l=this;l.constructor.superclass;){var i=l.constructor.superclass.prototype[t];if(l[t]!==i){a=i;break}l=l.constructor.superclass.prototype}return a?arguments.length>1?a.apply(this,b.call(arguments,1)):a.call(this):console.log("tried to callSuper "+t+", method not found in prototype chain",this)}function e(){var t=null,a=b.call(arguments,0);typeof a[0]=="function"&&(t=a.shift());function l(){this.initialize.apply(this,arguments)}l.superclass=t,l.subclasses=[],t&&(o.prototype=t.prototype,l.prototype=new o,t.subclasses.push(l));for(var i=0,f=a.length;i<f;i++)u(l,a[i],t);return l.prototype.initialize||(l.prototype.initialize=s),l.prototype.constructor=l,l.prototype.callSuper=r,l}L.util.createClass=e}(),function(){var b=!!L.document.createElement("div").attachEvent,s=["touchstart","touchmove","touchend"];L.util.addListener=function(u,o,r,e){u&&u.addEventListener(o,r,b?!1:e)},L.util.removeListener=function(u,o,r,e){u&&u.removeEventListener(o,r,b?!1:e)};function h(u){var o=u.changedTouches;return o&&o[0]?o[0]:u}L.util.getPointer=function(u){var o=u.target,r=L.util.getScrollLeftTop(o),e=h(u);return{x:e.clientX+r.left,y:e.clientY+r.top}},L.util.isTouchEvent=function(u){return s.indexOf(u.type)>-1||u.pointerType==="touch"}}(),function(){function b(e,t){var a=e.style;if(!a)return e;if(typeof t=="string")return e.style.cssText+=";"+t,t.indexOf("opacity")>-1?r(e,t.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var l in t)if(l==="opacity")r(e,t[l]);else{var i=l==="float"||l==="cssFloat"?typeof a.styleFloat=="undefined"?"cssFloat":"styleFloat":l;a[i]=t[l]}return e}var s=L.document.createElement("div"),h=typeof s.style.opacity=="string",u=typeof s.style.filter=="string",o=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,r=function(t){return t};h?r=function(t,a){return t.style.opacity=a,t}:u&&(r=function(t,a){var l=t.style;return t.currentStyle&&!t.currentStyle.hasLayout&&(l.zoom=1),o.test(l.filter)?(a=a>=.9999?"":"alpha(opacity="+a*100+")",l.filter=l.filter.replace(o,a)):l.filter+=" alpha(opacity="+a*100+")",t}),L.util.setStyle=b}(),function(){var b=Array.prototype.slice;function s(v){return typeof v=="string"?L.document.getElementById(v):v}var h,u=function(C){return b.call(C,0)};try{h=u(L.document.childNodes)instanceof Array}catch(v){}h||(u=function(C){for(var D=new Array(C.length),V=C.length;V--;)D[V]=C[V];return D});function o(v,C){var D=L.document.createElement(v);for(var V in C)V==="class"?D.className=C[V]:V==="for"?D.htmlFor=C[V]:D.setAttribute(V,C[V]);return D}function r(v,C){v&&(" "+v.className+" ").indexOf(" "+C+" ")===-1&&(v.className+=(v.className?" ":"")+C)}function e(v,C,D){return typeof C=="string"&&(C=o(C,D)),v.parentNode&&v.parentNode.replaceChild(C,v),C.appendChild(v),C}function t(v){for(var C=0,D=0,V=L.document.documentElement,it=L.document.body||{scrollLeft:0,scrollTop:0};v&&(v.parentNode||v.host)&&(v=v.parentNode||v.host,v===L.document?(C=it.scrollLeft||V.scrollLeft||0,D=it.scrollTop||V.scrollTop||0):(C+=v.scrollLeft||0,D+=v.scrollTop||0),!(v.nodeType===1&&v.style.position==="fixed")););return{left:C,top:D}}function a(v){var C,D=v&&v.ownerDocument,V={left:0,top:0},it={left:0,top:0},Ct,Dt={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!D)return it;for(var Ut in Dt)it[Dt[Ut]]+=parseInt(l(v,Ut),10)||0;return C=D.documentElement,typeof v.getBoundingClientRect!="undefined"&&(V=v.getBoundingClientRect()),Ct=t(v),{left:V.left+Ct.left-(C.clientLeft||0)+it.left,top:V.top+Ct.top-(C.clientTop||0)+it.top}}var l;L.document.defaultView&&L.document.defaultView.getComputedStyle?l=function(C,D){var V=L.document.defaultView.getComputedStyle(C,null);return V?V[D]:void 0}:l=function(C,D){var V=C.style[D];return!V&&C.currentStyle&&(V=C.currentStyle[D]),V},function(){var v=L.document.documentElement.style,C="userSelect"in v?"userSelect":"MozUserSelect"in v?"MozUserSelect":"WebkitUserSelect"in v?"WebkitUserSelect":"KhtmlUserSelect"in v?"KhtmlUserSelect":"";function D(it){return typeof it.onselectstart!="undefined"&&(it.onselectstart=L.util.falseFunction),C?it.style[C]="none":typeof it.unselectable=="string"&&(it.unselectable="on"),it}function V(it){return typeof it.onselectstart!="undefined"&&(it.onselectstart=null),C?it.style[C]="":typeof it.unselectable=="string"&&(it.unselectable=""),it}L.util.makeElementUnselectable=D,L.util.makeElementSelectable=V}();function i(v){var C=L.jsdomImplForWrapper(v);return C._canvas||C._image}function f(v){if(!!L.isLikelyNode){var C=L.jsdomImplForWrapper(v);C&&(C._image=null,C._canvas=null,C._currentSrc=null,C._attributes=null,C._classList=null)}}function p(v,C){v.imageSmoothingEnabled=v.imageSmoothingEnabled||v.webkitImageSmoothingEnabled||v.mozImageSmoothingEnabled||v.msImageSmoothingEnabled||v.oImageSmoothingEnabled,v.imageSmoothingEnabled=C}L.util.setImageSmoothing=p,L.util.getById=s,L.util.toArray=u,L.util.addClass=r,L.util.makeElement=o,L.util.wrapElement=e,L.util.getScrollLeftTop=t,L.util.getElementOffset=a,L.util.getNodeCanvas=i,L.util.cleanUpJsdomNode=f}(),function(){function b(u,o){return u+(/\?/.test(u)?"&":"?")+o}function s(){}function h(u,o){o||(o={});var r=o.method?o.method.toUpperCase():"GET",e=o.onComplete||function(){},t=new L.window.XMLHttpRequest,a=o.body||o.parameters;return t.onreadystatechange=function(){t.readyState===4&&(e(t),t.onreadystatechange=s)},r==="GET"&&(a=null,typeof o.parameters=="string"&&(u=b(u,o.parameters))),t.open(r,u,!0),(r==="POST"||r==="PUT")&&t.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),t.send(a),t}L.util.request=h}(),L.log=console.log,L.warn=console.warn,function(){function b(){return!1}function s(t,a,l,i){return-l*Math.cos(t/i*(Math.PI/2))+l+a}function h(t){var a=!1;return r(function(l){t||(t={});var i=l||+new Date,f=t.duration||500,p=i+f,v,C=t.onChange||b,D=t.abort||b,V=t.onComplete||b,it=t.easing||s,Ct="startValue"in t?t.startValue:0,Dt="endValue"in t?t.endValue:100,Ut=t.byValue||Dt-Ct;t.onStart&&t.onStart(),function pe(Ee){v=Ee||+new Date;var At=v>p?f:v-i,Gt=At/f,Z=it(At,Ct,Ut,f),_e=Math.abs((Z-Ct)/Ut);if(!a){if(D(Z,_e,Gt)){V(Dt,1,1);return}if(v>p){C(Dt,1,1),V(Dt,1,1);return}else C(Z,_e,Gt),r(pe)}}(i)}),function(){a=!0}}var u=L.window.requestAnimationFrame||L.window.webkitRequestAnimationFrame||L.window.mozRequestAnimationFrame||L.window.oRequestAnimationFrame||L.window.msRequestAnimationFrame||function(t){return L.window.setTimeout(t,1e3/60)},o=L.window.cancelAnimationFrame||L.window.clearTimeout;function r(){return u.apply(L.window,arguments)}function e(){return o.apply(L.window,arguments)}L.util.animate=h,L.util.requestAnimFrame=r,L.util.cancelAnimFrame=e}(),function(){function b(h,u,o){var r="rgba("+parseInt(h[0]+o*(u[0]-h[0]),10)+","+parseInt(h[1]+o*(u[1]-h[1]),10)+","+parseInt(h[2]+o*(u[2]-h[2]),10);return r+=","+(h&&u?parseFloat(h[3]+o*(u[3]-h[3])):1),r+=")",r}function s(h,u,o,r){var e=new L.Color(h).getSource(),t=new L.Color(u).getSource(),a=r.onComplete,l=r.onChange;return r=r||{},L.util.animate(L.util.object.extend(r,{duration:o||500,startValue:e,endValue:t,byValue:t,easing:function(f,p,v,C){var D=r.colorEasing?r.colorEasing(f,C):1-Math.cos(f/C*(Math.PI/2));return b(p,v,D)},onComplete:function(f,p,v){if(a)return a(b(t,t,0),p,v)},onChange:function(f,p,v){if(l){if(Array.isArray(f))return l(b(f,f,0),p,v);l(f,p,v)}}}))}L.util.animateColor=s}(),function(){function b(tt,te,Y,lt){return tt<Math.abs(te)?(tt=te,lt=Y/4):te===0&&tt===0?lt=Y/(2*Math.PI)*Math.asin(1):lt=Y/(2*Math.PI)*Math.asin(te/tt),{a:tt,c:te,p:Y,s:lt}}function s(tt,te,Y){return tt.a*Math.pow(2,10*(te-=1))*Math.sin((te*Y-tt.s)*(2*Math.PI)/tt.p)}function h(tt,te,Y,lt){return Y*((tt=tt/lt-1)*tt*tt+1)+te}function u(tt,te,Y,lt){return tt/=lt/2,tt<1?Y/2*tt*tt*tt+te:Y/2*((tt-=2)*tt*tt+2)+te}function o(tt,te,Y,lt){return Y*(tt/=lt)*tt*tt*tt+te}function r(tt,te,Y,lt){return-Y*((tt=tt/lt-1)*tt*tt*tt-1)+te}function e(tt,te,Y,lt){return tt/=lt/2,tt<1?Y/2*tt*tt*tt*tt+te:-Y/2*((tt-=2)*tt*tt*tt-2)+te}function t(tt,te,Y,lt){return Y*(tt/=lt)*tt*tt*tt*tt+te}function a(tt,te,Y,lt){return Y*((tt=tt/lt-1)*tt*tt*tt*tt+1)+te}function l(tt,te,Y,lt){return tt/=lt/2,tt<1?Y/2*tt*tt*tt*tt*tt+te:Y/2*((tt-=2)*tt*tt*tt*tt+2)+te}function i(tt,te,Y,lt){return-Y*Math.cos(tt/lt*(Math.PI/2))+Y+te}function f(tt,te,Y,lt){return Y*Math.sin(tt/lt*(Math.PI/2))+te}function p(tt,te,Y,lt){return-Y/2*(Math.cos(Math.PI*tt/lt)-1)+te}function v(tt,te,Y,lt){return tt===0?te:Y*Math.pow(2,10*(tt/lt-1))+te}function C(tt,te,Y,lt){return tt===lt?te+Y:Y*(-Math.pow(2,-10*tt/lt)+1)+te}function D(tt,te,Y,lt){return tt===0?te:tt===lt?te+Y:(tt/=lt/2,tt<1?Y/2*Math.pow(2,10*(tt-1))+te:Y/2*(-Math.pow(2,-10*--tt)+2)+te)}function V(tt,te,Y,lt){return-Y*(Math.sqrt(1-(tt/=lt)*tt)-1)+te}function it(tt,te,Y,lt){return Y*Math.sqrt(1-(tt=tt/lt-1)*tt)+te}function Ct(tt,te,Y,lt){return tt/=lt/2,tt<1?-Y/2*(Math.sqrt(1-tt*tt)-1)+te:Y/2*(Math.sqrt(1-(tt-=2)*tt)+1)+te}function Dt(tt,te,Y,lt){var $=1.70158,F=0,et=Y;if(tt===0)return te;if(tt/=lt,tt===1)return te+Y;F||(F=lt*.3);var ht=b(et,Y,F,$);return-s(ht,tt,lt)+te}function Ut(tt,te,Y,lt){var $=1.70158,F=0,et=Y;if(tt===0)return te;if(tt/=lt,tt===1)return te+Y;F||(F=lt*.3);var ht=b(et,Y,F,$);return ht.a*Math.pow(2,-10*tt)*Math.sin((tt*lt-ht.s)*(2*Math.PI)/ht.p)+ht.c+te}function pe(tt,te,Y,lt){var $=1.70158,F=0,et=Y;if(tt===0)return te;if(tt/=lt/2,tt===2)return te+Y;F||(F=lt*(.3*1.5));var ht=b(et,Y,F,$);return tt<1?-.5*s(ht,tt,lt)+te:ht.a*Math.pow(2,-10*(tt-=1))*Math.sin((tt*lt-ht.s)*(2*Math.PI)/ht.p)*.5+ht.c+te}function Ee(tt,te,Y,lt,$){return $===void 0&&($=1.70158),Y*(tt/=lt)*tt*(($+1)*tt-$)+te}function At(tt,te,Y,lt,$){return $===void 0&&($=1.70158),Y*((tt=tt/lt-1)*tt*(($+1)*tt+$)+1)+te}function Gt(tt,te,Y,lt,$){return $===void 0&&($=1.70158),tt/=lt/2,tt<1?Y/2*(tt*tt*((($*=1.525)+1)*tt-$))+te:Y/2*((tt-=2)*tt*((($*=1.525)+1)*tt+$)+2)+te}function Z(tt,te,Y,lt){return Y-_e(lt-tt,0,Y,lt)+te}function _e(tt,te,Y,lt){return(tt/=lt)<1/2.75?Y*(7.5625*tt*tt)+te:tt<2/2.75?Y*(7.5625*(tt-=1.5/2.75)*tt+.75)+te:tt<2.5/2.75?Y*(7.5625*(tt-=2.25/2.75)*tt+.9375)+te:Y*(7.5625*(tt-=2.625/2.75)*tt+.984375)+te}function er(tt,te,Y,lt){return tt<lt/2?Z(tt*2,0,Y,lt)*.5+te:_e(tt*2-lt,0,Y,lt)*.5+Y*.5+te}L.util.ease={easeInQuad:function(te,Y,lt,$){return lt*(te/=$)*te+Y},easeOutQuad:function(te,Y,lt,$){return-lt*(te/=$)*(te-2)+Y},easeInOutQuad:function(te,Y,lt,$){return te/=$/2,te<1?lt/2*te*te+Y:-lt/2*(--te*(te-2)-1)+Y},easeInCubic:function(te,Y,lt,$){return lt*(te/=$)*te*te+Y},easeOutCubic:h,easeInOutCubic:u,easeInQuart:o,easeOutQuart:r,easeInOutQuart:e,easeInQuint:t,easeOutQuint:a,easeInOutQuint:l,easeInSine:i,easeOutSine:f,easeInOutSine:p,easeInExpo:v,easeOutExpo:C,easeInOutExpo:D,easeInCirc:V,easeOutCirc:it,easeInOutCirc:Ct,easeInElastic:Dt,easeOutElastic:Ut,easeInOutElastic:pe,easeInBack:Ee,easeOutBack:At,easeInOutBack:Gt,easeInBounce:Z,easeOutBounce:_e,easeInOutBounce:er}}(),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.object.extend,u=s.util.object.clone,o=s.util.toFixed,r=s.util.parseUnit,e=s.util.multiplyTransformMatrices,t=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],a=["symbol","image","marker","pattern","view","svg"],l=["pattern","defs","symbol","metadata","clipPath","mask","desc"],i=["symbol","g","a","svg","clipPath","defs"],f={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},p={stroke:"strokeOpacity",fill:"fillOpacity"},v="font-size",C="clip-path";s.svgValidTagNamesRegEx=it(t),s.svgViewBoxElementsRegEx=it(a),s.svgInvalidAncestorsRegEx=it(l),s.svgValidParentsRegEx=it(i),s.cssRules={},s.gradientDefs={},s.clipPaths={};function D(F){return F in f?f[F]:F}function V(F,et,ht,nt){var jt=Object.prototype.toString.call(et)==="[object Array]",xt;if((F==="fill"||F==="stroke")&&et==="none")et="";else{if(F==="strokeUniform")return et==="non-scaling-stroke";if(F==="strokeDashArray")et==="none"?et=null:et=et.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(F==="transformMatrix")ht&&ht.transformMatrix?et=e(ht.transformMatrix,s.parseTransformAttribute(et)):et=s.parseTransformAttribute(et);else if(F==="visible")et=et!=="none"&&et!=="hidden",ht&&ht.visible===!1&&(et=!1);else if(F==="opacity")et=parseFloat(et),ht&&typeof ht.opacity!="undefined"&&(et*=ht.opacity);else if(F==="textAnchor")et=et==="start"?"left":et==="end"?"right":"center";else if(F==="charSpacing")xt=r(et,nt)/nt*1e3;else if(F==="paintFirst"){var Mt=et.indexOf("fill"),ae=et.indexOf("stroke"),et="fill";(Mt>-1&&ae>-1&&ae<Mt||Mt===-1&&ae>-1)&&(et="stroke")}else{if(F==="href"||F==="xlink:href"||F==="font")return et;if(F==="imageSmoothing")return et==="optimizeQuality";xt=jt?et.map(r):r(et,nt)}}return!jt&&isNaN(xt)?et:xt}function it(F){return new RegExp("^("+F.join("|")+")\\b","i")}function Ct(F){for(var et in p)if(!(typeof F[p[et]]=="undefined"||F[et]==="")){if(typeof F[et]=="undefined"){if(!s.Object.prototype[et])continue;F[et]=s.Object.prototype[et]}if(F[et].indexOf("url(")!==0){var ht=new s.Color(F[et]);F[et]=ht.setAlpha(o(ht.getAlpha()*F[p[et]],2)).toRgba()}}return F}function Dt(F,et){var ht,nt=[],jt,xt,Mt;for(xt=0,Mt=et.length;xt<Mt;xt++)ht=et[xt],jt=F.getElementsByTagName(ht),nt=nt.concat(Array.prototype.slice.call(jt));return nt}s.parseTransformAttribute=function(){function F(at,Ot){var _t=s.util.cos(Ot[0]),we=s.util.sin(Ot[0]),Me=0,Se=0;Ot.length===3&&(Me=Ot[1],Se=Ot[2]),at[0]=_t,at[1]=we,at[2]=-we,at[3]=_t,at[4]=Me-(_t*Me-we*Se),at[5]=Se-(we*Me+_t*Se)}function et(at,Ot){var _t=Ot[0],we=Ot.length===2?Ot[1]:Ot[0];at[0]=_t,at[3]=we}function ht(at,Ot,_t){at[_t]=Math.tan(s.util.degreesToRadians(Ot[0]))}function nt(at,Ot){at[4]=Ot[0],Ot.length===2&&(at[5]=Ot[1])}var jt=s.iMatrix,xt=s.reNum,Mt=s.commaWsp,ae="(?:(skewX)\\s*\\(\\s*("+xt+")\\s*\\))",se="(?:(skewY)\\s*\\(\\s*("+xt+")\\s*\\))",Zt="(?:(rotate)\\s*\\(\\s*("+xt+")(?:"+Mt+"("+xt+")"+Mt+"("+xt+"))?\\s*\\))",Wt="(?:(scale)\\s*\\(\\s*("+xt+")(?:"+Mt+"("+xt+"))?\\s*\\))",oe="(?:(translate)\\s*\\(\\s*("+xt+")(?:"+Mt+"("+xt+"))?\\s*\\))",N="(?:(matrix)\\s*\\(\\s*("+xt+")"+Mt+"("+xt+")"+Mt+"("+xt+")"+Mt+"("+xt+")"+Mt+"("+xt+")"+Mt+"("+xt+")\\s*\\))",zt="(?:"+N+"|"+oe+"|"+Wt+"|"+Zt+"|"+ae+"|"+se+")",U="(?:"+zt+"(?:"+Mt+"*"+zt+")*)",x="^\\s*(?:"+U+"?)\\s*$",A=new RegExp(x),H=new RegExp(zt,"g");return function(at){var Ot=jt.concat(),_t=[];if(!at||at&&!A.test(at))return Ot;at.replace(H,function(Me){var Se=new RegExp(zt).exec(Me).filter(function(Ar){return!!Ar}),Ge=Se[1],pr=Se.slice(2).map(parseFloat);switch(Ge){case"translate":nt(Ot,pr);break;case"rotate":pr[0]=s.util.degreesToRadians(pr[0]),F(Ot,pr);break;case"scale":et(Ot,pr);break;case"skewX":ht(Ot,pr,2);break;case"skewY":ht(Ot,pr,1);break;case"matrix":Ot=pr;break}_t.push(Ot.concat()),Ot=jt.concat()});for(var we=_t[0];_t.length>1;)_t.shift(),we=s.util.multiplyTransformMatrices(we,_t[0]);return we}}();function Ut(F,et){var ht,nt;F.replace(/;\s*$/,"").split(";").forEach(function(jt){var xt=jt.split(":");ht=xt[0].trim().toLowerCase(),nt=xt[1].trim(),et[ht]=nt})}function pe(F,et){var ht,nt;for(var jt in F)typeof F[jt]!="undefined"&&(ht=jt.toLowerCase(),nt=F[jt],et[ht]=nt)}function Ee(F,et){var ht={};for(var nt in s.cssRules[et])if(At(F,nt.split(" ")))for(var jt in s.cssRules[et][nt])ht[jt]=s.cssRules[et][nt][jt];return ht}function At(F,et){var ht,nt=!0;return ht=Z(F,et.pop()),ht&&et.length&&(nt=Gt(F,et)),ht&&nt&&et.length===0}function Gt(F,et){for(var ht,nt=!0;F.parentNode&&F.parentNode.nodeType===1&&et.length;)nt&&(ht=et.pop()),F=F.parentNode,nt=Z(F,ht);return et.length===0}function Z(F,et){var ht=F.nodeName,nt=F.getAttribute("class"),jt=F.getAttribute("id"),xt,Mt;if(xt=new RegExp("^"+ht,"i"),et=et.replace(xt,""),jt&&et.length&&(xt=new RegExp("#"+jt+"(?![a-zA-Z\\-]+)","i"),et=et.replace(xt,"")),nt&&et.length)for(nt=nt.split(" "),Mt=nt.length;Mt--;)xt=new RegExp("\\."+nt[Mt]+"(?![a-zA-Z\\-]+)","i"),et=et.replace(xt,"");return et.length===0}function _e(F,et){var ht;if(F.getElementById&&(ht=F.getElementById(et)),ht)return ht;var nt,jt,xt,Mt=F.getElementsByTagName("*");for(jt=0,xt=Mt.length;jt<xt;jt++)if(nt=Mt[jt],et===nt.getAttribute("id"))return nt}function er(F){for(var et=Dt(F,["use","svg:use"]),ht=0;et.length&&ht<et.length;){var nt=et[ht],jt=nt.getAttribute("xlink:href")||nt.getAttribute("href");if(jt===null)return;var xt=jt.substr(1),Mt=nt.getAttribute("x")||0,ae=nt.getAttribute("y")||0,se=_e(F,xt).cloneNode(!0),Zt=(se.getAttribute("transform")||"")+" translate("+Mt+", "+ae+")",Wt,oe=et.length,N,zt,U,x,A=s.svgNS;if(te(se),/^svg$/i.test(se.nodeName)){var H=se.ownerDocument.createElementNS(A,"g");for(zt=0,U=se.attributes,x=U.length;zt<x;zt++)N=U.item(zt),H.setAttributeNS(A,N.nodeName,N.nodeValue);for(;se.firstChild;)H.appendChild(se.firstChild);se=H}for(zt=0,U=nt.attributes,x=U.length;zt<x;zt++)N=U.item(zt),!(N.nodeName==="x"||N.nodeName==="y"||N.nodeName==="xlink:href"||N.nodeName==="href")&&(N.nodeName==="transform"?Zt=N.nodeValue+" "+Zt:se.setAttribute(N.nodeName,N.nodeValue));se.setAttribute("transform",Zt),se.setAttribute("instantiated_by_use","1"),se.removeAttribute("id"),Wt=nt.parentNode,Wt.replaceChild(se,nt),et.length===oe&&ht++}}var tt=new RegExp("^\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*,?\\s*("+s.reNum+"+)\\s*$");function te(F){if(!s.svgViewBoxElementsRegEx.test(F.nodeName))return{};var et=F.getAttribute("viewBox"),ht=1,nt=1,jt=0,xt=0,Mt,ae,se,Zt,Wt=F.getAttribute("width"),oe=F.getAttribute("height"),N=F.getAttribute("x")||0,zt=F.getAttribute("y")||0,U=F.getAttribute("preserveAspectRatio")||"",x=!et||!(et=et.match(tt)),A=!Wt||!oe||Wt==="100%"||oe==="100%",H=x&&A,at={},Ot="",_t=0,we=0;if(at.width=0,at.height=0,at.toBeParsed=H,x&&(N||zt)&&F.parentNode&&F.parentNode.nodeName!=="#document"&&(Ot=" translate("+r(N)+" "+r(zt)+") ",se=(F.getAttribute("transform")||"")+Ot,F.setAttribute("transform",se),F.removeAttribute("x"),F.removeAttribute("y")),H)return at;if(x)return at.width=r(Wt),at.height=r(oe),at;if(jt=-parseFloat(et[1]),xt=-parseFloat(et[2]),Mt=parseFloat(et[3]),ae=parseFloat(et[4]),at.minX=jt,at.minY=xt,at.viewBoxWidth=Mt,at.viewBoxHeight=ae,A?(at.width=Mt,at.height=ae):(at.width=r(Wt),at.height=r(oe),ht=at.width/Mt,nt=at.height/ae),U=s.util.parsePreserveAspectRatioAttribute(U),U.alignX!=="none"&&(U.meetOrSlice==="meet"&&(nt=ht=ht>nt?nt:ht),U.meetOrSlice==="slice"&&(nt=ht=ht>nt?ht:nt),_t=at.width-Mt*ht,we=at.height-ae*ht,U.alignX==="Mid"&&(_t/=2),U.alignY==="Mid"&&(we/=2),U.alignX==="Min"&&(_t=0),U.alignY==="Min"&&(we=0)),ht===1&&nt===1&&jt===0&&xt===0&&N===0&&zt===0)return at;if((N||zt)&&F.parentNode.nodeName!=="#document"&&(Ot=" translate("+r(N)+" "+r(zt)+") "),se=Ot+" matrix("+ht+" 0 0 "+nt+" "+(jt*ht+_t)+" "+(xt*nt+we)+") ",F.nodeName==="svg"){for(Zt=F.ownerDocument.createElementNS(s.svgNS,"g");F.firstChild;)Zt.appendChild(F.firstChild);F.appendChild(Zt)}else Zt=F,Zt.removeAttribute("x"),Zt.removeAttribute("y"),se=Zt.getAttribute("transform")+se;return Zt.setAttribute("transform",se),at}function Y(F,et){for(;F&&(F=F.parentNode);)if(F.nodeName&&et.test(F.nodeName.replace("svg:",""))&&!F.getAttribute("instantiated_by_use"))return!0;return!1}s.parseSVGDocument=function(F,et,ht,nt){if(!!F){er(F);var jt=s.Object.__uid++,xt,Mt,ae=te(F),se=s.util.toArray(F.getElementsByTagName("*"));if(ae.crossOrigin=nt&&nt.crossOrigin,ae.svgUid=jt,se.length===0&&s.isLikelyNode){se=F.selectNodes('//*[name(.)!="svg"]');var Zt=[];for(xt=0,Mt=se.length;xt<Mt;xt++)Zt[xt]=se[xt];se=Zt}var Wt=se.filter(function(N){return te(N),s.svgValidTagNamesRegEx.test(N.nodeName.replace("svg:",""))&&!Y(N,s.svgInvalidAncestorsRegEx)});if(!Wt||Wt&&!Wt.length){et&&et([],{});return}var oe={};se.filter(function(N){return N.nodeName.replace("svg:","")==="clipPath"}).forEach(function(N){var zt=N.getAttribute("id");oe[zt]=s.util.toArray(N.getElementsByTagName("*")).filter(function(U){return s.svgValidTagNamesRegEx.test(U.nodeName.replace("svg:",""))})}),s.gradientDefs[jt]=s.getGradientDefs(F),s.cssRules[jt]=s.getCSSRules(F),s.clipPaths[jt]=oe,s.parseElements(Wt,function(N,zt){et&&(et(N,ae,zt,se),delete s.gradientDefs[jt],delete s.cssRules[jt],delete s.clipPaths[jt])},u(ae),ht,nt)}};function lt(F,et){var ht=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],nt="xlink:href",jt=et.getAttribute(nt).substr(1),xt=_e(F,jt);if(xt&&xt.getAttribute(nt)&&lt(F,xt),ht.forEach(function(ae){xt&&!et.hasAttribute(ae)&&xt.hasAttribute(ae)&&et.setAttribute(ae,xt.getAttribute(ae))}),!et.children.length)for(var Mt=xt.cloneNode(!0);Mt.firstChild;)et.appendChild(Mt.firstChild);et.removeAttribute(nt)}var $=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+s.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+s.reNum+"))?\\s+(.*)");h(s,{parseFontDeclaration:function(et,ht){var nt=et.match($);if(!!nt){var jt=nt[1],xt=nt[3],Mt=nt[4],ae=nt[5],se=nt[6];jt&&(ht.fontStyle=jt),xt&&(ht.fontWeight=isNaN(parseFloat(xt))?xt:parseFloat(xt)),Mt&&(ht.fontSize=r(Mt)),se&&(ht.fontFamily=se),ae&&(ht.lineHeight=ae==="normal"?1:ae)}},getGradientDefs:function(et){var ht=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],nt=Dt(et,ht),jt,xt=0,Mt={};for(xt=nt.length;xt--;)jt=nt[xt],jt.getAttribute("xlink:href")&&lt(et,jt),Mt[jt.getAttribute("id")]=jt;return Mt},parseAttributes:function(et,ht,nt){if(!!et){var jt,xt={},Mt,ae;typeof nt=="undefined"&&(nt=et.getAttribute("svgUid")),et.parentNode&&s.svgValidParentsRegEx.test(et.parentNode.nodeName)&&(xt=s.parseAttributes(et.parentNode,ht,nt));var se=ht.reduce(function(x,A){return jt=et.getAttribute(A),jt&&(x[A]=jt),x},{}),Zt=h(Ee(et,nt),s.parseStyleAttribute(et));se=h(se,Zt),Zt[C]&&et.setAttribute(C,Zt[C]),Mt=ae=xt.fontSize||s.Text.DEFAULT_SVG_FONT_SIZE,se[v]&&(se[v]=Mt=r(se[v],ae));var Wt,oe,N={};for(var zt in se)Wt=D(zt),oe=V(Wt,se[zt],xt,Mt),N[Wt]=oe;N&&N.font&&s.parseFontDeclaration(N.font,N);var U=h(xt,N);return s.svgValidParentsRegEx.test(et.nodeName)?U:Ct(U)}},parseElements:function(et,ht,nt,jt,xt){new s.ElementsParser(et,ht,nt,jt,xt).parse()},parseStyleAttribute:function(et){var ht={},nt=et.getAttribute("style");return nt&&(typeof nt=="string"?Ut(nt,ht):pe(nt,ht)),ht},parsePointsAttribute:function(et){if(!et)return null;et=et.replace(/,/g," ").trim(),et=et.split(/\s+/);var ht=[],nt,jt;for(nt=0,jt=et.length;nt<jt;nt+=2)ht.push({x:parseFloat(et[nt]),y:parseFloat(et[nt+1])});return ht},getCSSRules:function(et){var ht=et.getElementsByTagName("style"),nt,jt,xt={},Mt;for(nt=0,jt=ht.length;nt<jt;nt++){var ae=ht[nt].textContent;ae=ae.replace(/\/\*[\s\S]*?\*\//g,""),ae.trim()!==""&&(Mt=ae.match(/[^{]*\{[\s\S]*?\}/g),Mt=Mt.map(function(se){return se.trim()}),Mt.forEach(function(se){var Zt=se.match(/([\s\S]*?)\s*\{([^}]*)\}/),Wt={},oe=Zt[2].trim(),N=oe.replace(/;$/,"").split(/\s*;\s*/);for(nt=0,jt=N.length;nt<jt;nt++){var zt=N[nt].split(/\s*:\s*/),U=zt[0],x=zt[1];Wt[U]=x}se=Zt[1],se.split(",").forEach(function(A){A=A.replace(/^svg/i,"").trim(),A!==""&&(xt[A]?s.util.object.extend(xt[A],Wt):xt[A]=s.util.object.clone(Wt))})}))}return xt},loadSVGFromURL:function(et,ht,nt,jt){et=et.replace(/^\n\s*/,"").trim(),new s.util.request(et,{method:"get",onComplete:xt});function xt(Mt){var ae=Mt.responseXML;if(!ae||!ae.documentElement)return ht&&ht(null),!1;s.parseSVGDocument(ae.documentElement,function(se,Zt,Wt,oe){ht&&ht(se,Zt,Wt,oe)},nt,jt)}},loadSVGFromString:function(et,ht,nt,jt){var xt=new s.window.DOMParser,Mt=xt.parseFromString(et.trim(),"text/xml");s.parseSVGDocument(Mt.documentElement,function(ae,se,Zt,Wt){ht(ae,se,Zt,Wt)},nt,jt)}})}(wr),L.ElementsParser=function(b,s,h,u,o,r){this.elements=b,this.callback=s,this.options=h,this.reviver=u,this.svgUid=h&&h.svgUid||0,this.parsingOptions=o,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=r},function(b){b.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},b.createObjects=function(){var s=this;this.elements.forEach(function(h,u){h.setAttribute("svgUid",s.svgUid),s.createObject(h,u)})},b.findTag=function(s){return L[L.util.string.capitalize(s.tagName.replace("svg:",""))]},b.createObject=function(s,h){var u=this.findTag(s);if(u&&u.fromElement)try{u.fromElement(s,this.createCallback(h,s),this.options)}catch(o){L.log(o)}else this.checkIfDone()},b.createCallback=function(s,h){var u=this;return function(o){var r;u.resolveGradient(o,h,"fill"),u.resolveGradient(o,h,"stroke"),o instanceof L.Image&&o._originalElement&&(r=o.parsePreserveAspectRatioAttribute(h)),o._removeTransformMatrix(r),u.resolveClipPath(o,h),u.reviver&&u.reviver(h,o),u.instances[s]=o,u.checkIfDone()}},b.extractPropertyDefinition=function(s,h,u){var o=s[h],r=this.regexUrl;if(!!r.test(o)){r.lastIndex=0;var e=r.exec(o)[1];return r.lastIndex=0,L[u][this.svgUid][e]}},b.resolveGradient=function(s,h,u){var o=this.extractPropertyDefinition(s,u,"gradientDefs");if(o){var r=h.getAttribute(u+"-opacity"),e=L.Gradient.fromElement(o,s,r,this.options);s.set(u,e)}},b.createClipPathCallback=function(s,h){return function(u){u._removeTransformMatrix(),u.fillRule=u.clipRule,h.push(u)}},b.resolveClipPath=function(s,h){var u=this.extractPropertyDefinition(s,"clipPath","clipPaths"),o,r,e,t,a,l;if(u){t=[],e=L.util.invertTransform(s.calcTransformMatrix());for(var i=u[0].parentNode,f=h;f.parentNode&&f.getAttribute("clip-path")!==s.clipPath;)f=f.parentNode;f.parentNode.appendChild(i);for(var p=0;p<u.length;p++)o=u[p],r=this.findTag(o),r.fromElement(o,this.createClipPathCallback(s,t),this.options);t.length===1?u=t[0]:u=new L.Group(t),a=L.util.multiplyTransformMatrices(e,u.calcTransformMatrix()),u.clipPath&&this.resolveClipPath(u,f);var l=L.util.qrDecompose(a);u.flipX=!1,u.flipY=!1,u.set("scaleX",l.scaleX),u.set("scaleY",l.scaleY),u.angle=l.angle,u.skewX=l.skewX,u.skewY=0,u.setPositionByOrigin({x:l.translateX,y:l.translateY},"center","center"),s.clipPath=u}else delete s.clipPath},b.checkIfDone=function(){--this.numElements==0&&(this.instances=this.instances.filter(function(s){return s!=null}),this.callback(this.instances,this.elements))}}(L.ElementsParser.prototype),function(b){"use strict";var s=b.fabric||(b.fabric={});if(s.Point){s.warn("fabric.Point is already defined");return}s.Point=h;function h(u,o){this.x=u,this.y=o}h.prototype={type:"point",constructor:h,add:function(o){return new h(this.x+o.x,this.y+o.y)},addEquals:function(o){return this.x+=o.x,this.y+=o.y,this},scalarAdd:function(o){return new h(this.x+o,this.y+o)},scalarAddEquals:function(o){return this.x+=o,this.y+=o,this},subtract:function(o){return new h(this.x-o.x,this.y-o.y)},subtractEquals:function(o){return this.x-=o.x,this.y-=o.y,this},scalarSubtract:function(o){return new h(this.x-o,this.y-o)},scalarSubtractEquals:function(o){return this.x-=o,this.y-=o,this},multiply:function(o){return new h(this.x*o,this.y*o)},multiplyEquals:function(o){return this.x*=o,this.y*=o,this},divide:function(o){return new h(this.x/o,this.y/o)},divideEquals:function(o){return this.x/=o,this.y/=o,this},eq:function(o){return this.x===o.x&&this.y===o.y},lt:function(o){return this.x<o.x&&this.y<o.y},lte:function(o){return this.x<=o.x&&this.y<=o.y},gt:function(o){return this.x>o.x&&this.y>o.y},gte:function(o){return this.x>=o.x&&this.y>=o.y},lerp:function(o,r){return typeof r=="undefined"&&(r=.5),r=Math.max(Math.min(1,r),0),new h(this.x+(o.x-this.x)*r,this.y+(o.y-this.y)*r)},distanceFrom:function(o){var r=this.x-o.x,e=this.y-o.y;return Math.sqrt(r*r+e*e)},midPointFrom:function(o){return this.lerp(o)},min:function(o){return new h(Math.min(this.x,o.x),Math.min(this.y,o.y))},max:function(o){return new h(Math.max(this.x,o.x),Math.max(this.y,o.y))},toString:function(){return this.x+","+this.y},setXY:function(o,r){return this.x=o,this.y=r,this},setX:function(o){return this.x=o,this},setY:function(o){return this.y=o,this},setFromPoint:function(o){return this.x=o.x,this.y=o.y,this},swap:function(o){var r=this.x,e=this.y;this.x=o.x,this.y=o.y,o.x=r,o.y=e},clone:function(){return new h(this.x,this.y)}}}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={});if(s.Intersection){s.warn("fabric.Intersection is already defined");return}function h(u){this.status=u,this.points=[]}s.Intersection=h,s.Intersection.prototype={constructor:h,appendPoint:function(o){return this.points.push(o),this},appendPoints:function(o){return this.points=this.points.concat(o),this}},s.Intersection.intersectLineLine=function(u,o,r,e){var t,a=(e.x-r.x)*(u.y-r.y)-(e.y-r.y)*(u.x-r.x),l=(o.x-u.x)*(u.y-r.y)-(o.y-u.y)*(u.x-r.x),i=(e.y-r.y)*(o.x-u.x)-(e.x-r.x)*(o.y-u.y);if(i!==0){var f=a/i,p=l/i;0<=f&&f<=1&&0<=p&&p<=1?(t=new h("Intersection"),t.appendPoint(new s.Point(u.x+f*(o.x-u.x),u.y+f*(o.y-u.y)))):t=new h}else a===0||l===0?t=new h("Coincident"):t=new h("Parallel");return t},s.Intersection.intersectLinePolygon=function(u,o,r){var e=new h,t=r.length,a,l,i,f;for(f=0;f<t;f++)a=r[f],l=r[(f+1)%t],i=h.intersectLineLine(u,o,a,l),e.appendPoints(i.points);return e.points.length>0&&(e.status="Intersection"),e},s.Intersection.intersectPolygonPolygon=function(u,o){var r=new h,e=u.length,t;for(t=0;t<e;t++){var a=u[t],l=u[(t+1)%e],i=h.intersectLinePolygon(a,l,o);r.appendPoints(i.points)}return r.points.length>0&&(r.status="Intersection"),r},s.Intersection.intersectPolygonRectangle=function(u,o,r){var e=o.min(r),t=o.max(r),a=new s.Point(t.x,e.y),l=new s.Point(e.x,t.y),i=h.intersectLinePolygon(e,a,u),f=h.intersectLinePolygon(a,t,u),p=h.intersectLinePolygon(t,l,u),v=h.intersectLinePolygon(l,e,u),C=new h;return C.appendPoints(i.points),C.appendPoints(f.points),C.appendPoints(p.points),C.appendPoints(v.points),C.points.length>0&&(C.status="Intersection"),C}}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={});if(s.Color){s.warn("fabric.Color is already defined.");return}function h(o){o?this._tryParsingColor(o):this.setSource([0,0,0,1])}s.Color=h,s.Color.prototype={_tryParsingColor:function(r){var e;r in h.colorNameMap&&(r=h.colorNameMap[r]),r==="transparent"&&(e=[255,255,255,0]),e||(e=h.sourceFromHex(r)),e||(e=h.sourceFromRgb(r)),e||(e=h.sourceFromHsl(r)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(r,e,t){r/=255,e/=255,t/=255;var a,l,i,f=s.util.array.max([r,e,t]),p=s.util.array.min([r,e,t]);if(i=(f+p)/2,f===p)a=l=0;else{var v=f-p;switch(l=i>.5?v/(2-f-p):v/(f+p),f){case r:a=(e-t)/v+(e<t?6:0);break;case e:a=(t-r)/v+2;break;case t:a=(r-e)/v+4;break}a/=6}return[Math.round(a*360),Math.round(l*100),Math.round(i*100)]},getSource:function(){return this._source},setSource:function(r){this._source=r},toRgb:function(){var r=this.getSource();return"rgb("+r[0]+","+r[1]+","+r[2]+")"},toRgba:function(){var r=this.getSource();return"rgba("+r[0]+","+r[1]+","+r[2]+","+r[3]+")"},toHsl:function(){var r=this.getSource(),e=this._rgbToHsl(r[0],r[1],r[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var r=this.getSource(),e=this._rgbToHsl(r[0],r[1],r[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+r[3]+")"},toHex:function(){var r=this.getSource(),e,t,a;return e=r[0].toString(16),e=e.length===1?"0"+e:e,t=r[1].toString(16),t=t.length===1?"0"+t:t,a=r[2].toString(16),a=a.length===1?"0"+a:a,e.toUpperCase()+t.toUpperCase()+a.toUpperCase()},toHexa:function(){var r=this.getSource(),e;return e=Math.round(r[3]*255),e=e.toString(16),e=e.length===1?"0"+e:e,this.toHex()+e.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(r){var e=this.getSource();return e[3]=r,this.setSource(e),this},toGrayscale:function(){var r=this.getSource(),e=parseInt((r[0]*.3+r[1]*.59+r[2]*.11).toFixed(0),10),t=r[3];return this.setSource([e,e,e,t]),this},toBlackWhite:function(r){var e=this.getSource(),t=(e[0]*.3+e[1]*.59+e[2]*.11).toFixed(0),a=e[3];return r=r||127,t=Number(t)<Number(r)?0:255,this.setSource([t,t,t,a]),this},overlayWith:function(r){r instanceof h||(r=new h(r));var e=[],t=this.getAlpha(),a=.5,l=this.getSource(),i=r.getSource(),f;for(f=0;f<3;f++)e.push(Math.round(l[f]*(1-a)+i[f]*a));return e[3]=t,this.setSource(e),this}},s.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,s.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,s.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,s.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function u(o,r,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?o+(r-o)*6*e:e<1/2?r:e<2/3?o+(r-o)*(2/3-e)*6:o}s.Color.fromRgb=function(o){return h.fromSource(h.sourceFromRgb(o))},s.Color.sourceFromRgb=function(o){var r=o.match(h.reRGBa);if(r){var e=parseInt(r[1],10)/(/%$/.test(r[1])?100:1)*(/%$/.test(r[1])?255:1),t=parseInt(r[2],10)/(/%$/.test(r[2])?100:1)*(/%$/.test(r[2])?255:1),a=parseInt(r[3],10)/(/%$/.test(r[3])?100:1)*(/%$/.test(r[3])?255:1);return[parseInt(e,10),parseInt(t,10),parseInt(a,10),r[4]?parseFloat(r[4]):1]}},s.Color.fromRgba=h.fromRgb,s.Color.fromHsl=function(o){return h.fromSource(h.sourceFromHsl(o))},s.Color.sourceFromHsl=function(o){var r=o.match(h.reHSLa);if(!!r){var e=(parseFloat(r[1])%360+360)%360/360,t=parseFloat(r[2])/(/%$/.test(r[2])?100:1),a=parseFloat(r[3])/(/%$/.test(r[3])?100:1),l,i,f;if(t===0)l=i=f=a;else{var p=a<=.5?a*(t+1):a+t-a*t,v=a*2-p;l=u(v,p,e+1/3),i=u(v,p,e),f=u(v,p,e-1/3)}return[Math.round(l*255),Math.round(i*255),Math.round(f*255),r[4]?parseFloat(r[4]):1]}},s.Color.fromHsla=h.fromHsl,s.Color.fromHex=function(o){return h.fromSource(h.sourceFromHex(o))},s.Color.sourceFromHex=function(o){if(o.match(h.reHex)){var r=o.slice(o.indexOf("#")+1),e=r.length===3||r.length===4,t=r.length===8||r.length===4,a=e?r.charAt(0)+r.charAt(0):r.substring(0,2),l=e?r.charAt(1)+r.charAt(1):r.substring(2,4),i=e?r.charAt(2)+r.charAt(2):r.substring(4,6),f=t?e?r.charAt(3)+r.charAt(3):r.substring(6,8):"FF";return[parseInt(a,16),parseInt(l,16),parseInt(i,16),parseFloat((parseInt(f,16)/255).toFixed(2))]}},s.Color.fromSource=function(o){var r=new h;return r.setSource(o),r}}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=["e","se","s","sw","w","nw","n","ne","e"],u=["ns","nesw","ew","nwse"],o={},r="left",e="top",t="right",a="bottom",l="center",i={top:a,bottom:e,left:t,right:r,center:l},f=s.util.radiansToDegrees,p=Math.sign||function(Zt){return(Zt>0)-(Zt<0)||+Zt};function v(Zt,Wt){var oe=Zt.angle+f(Math.atan2(Wt.y,Wt.x))+360;return Math.round(oe%360/45)}function C(Zt,Wt){var oe=Wt.transform.target,N=oe.canvas,zt=s.util.object.clone(Wt);zt.target=oe,N&&N.fire("object:"+Zt,zt),oe.fire(Zt,Wt)}function D(Zt,Wt){var oe=Wt.canvas,N=oe.uniScaleKey,zt=Zt[N];return oe.uniformScaling&&!zt||!oe.uniformScaling&&zt}function V(Zt){return Zt.originX===l&&Zt.originY===l}function it(Zt,Wt,oe){var N=Zt.lockScalingX,zt=Zt.lockScalingY;return!!(N&&zt||!Wt&&(N||zt)&&oe||N&&Wt==="x"||zt&&Wt==="y")}function Ct(Zt,Wt,oe){var N="not-allowed",zt=D(Zt,oe),U="";if(Wt.x!==0&&Wt.y===0?U="x":Wt.x===0&&Wt.y!==0&&(U="y"),it(oe,U,zt))return N;var x=v(oe,Wt);return h[x]+"-resize"}function Dt(Zt,Wt,oe){var N="not-allowed";if(Wt.x!==0&&oe.lockSkewingY||Wt.y!==0&&oe.lockSkewingX)return N;var zt=v(oe,Wt)%4;return u[zt]+"-resize"}function Ut(Zt,Wt,oe){return Zt[oe.canvas.altActionKey]?o.skewCursorStyleHandler(Zt,Wt,oe):o.scaleCursorStyleHandler(Zt,Wt,oe)}function pe(Zt,Wt,oe){var N=Zt[oe.canvas.altActionKey];if(Wt.x===0)return N?"skewX":"scaleY";if(Wt.y===0)return N?"skewY":"scaleX"}function Ee(Zt,Wt,oe){return oe.lockRotation?"not-allowed":Wt.cursorStyle}function At(Zt,Wt,oe,N){return{e:Zt,transform:Wt,pointer:{x:oe,y:N}}}function Gt(Zt){return function(Wt,oe,N,zt){var U=oe.target,x=U.getCenterPoint(),A=U.translateToOriginPoint(x,oe.originX,oe.originY),H=Zt(Wt,oe,N,zt);return U.setPositionByOrigin(A,oe.originX,oe.originY),H}}function Z(Zt,Wt){return function(oe,N,zt,U){var x=Wt(oe,N,zt,U);return x&&C(Zt,At(oe,N,zt,U)),x}}function _e(Zt,Wt,oe,N,zt){var U=Zt.target,x=U.controls[Zt.corner],A=U.canvas.getZoom(),H=U.padding/A,at=U.toLocalPoint(new s.Point(N,zt),Wt,oe);return at.x>=H&&(at.x-=H),at.x<=-H&&(at.x+=H),at.y>=H&&(at.y-=H),at.y<=H&&(at.y+=H),at.x-=x.offsetX,at.y-=x.offsetY,at}function er(Zt){return Zt.flipX!==Zt.flipY}function tt(Zt,Wt,oe,N,zt){if(Zt[Wt]!==0){var U=Zt._getTransformedDimensions()[N],x=zt/U*Zt[oe];Zt.set(oe,x)}}function te(Zt,Wt,oe,N){var zt=Wt.target,U=zt._getTransformedDimensions(0,zt.skewY),x=_e(Wt,Wt.originX,Wt.originY,oe,N),A=Math.abs(x.x*2)-U.x,H=zt.skewX,at;A<2?at=0:(at=f(Math.atan2(A/zt.scaleX,U.y/zt.scaleY)),Wt.originX===r&&Wt.originY===a&&(at=-at),Wt.originX===t&&Wt.originY===e&&(at=-at),er(zt)&&(at=-at));var Ot=H!==at;if(Ot){var _t=zt._getTransformedDimensions().y;zt.set("skewX",at),tt(zt,"skewY","scaleY","y",_t)}return Ot}function Y(Zt,Wt,oe,N){var zt=Wt.target,U=zt._getTransformedDimensions(zt.skewX,0),x=_e(Wt,Wt.originX,Wt.originY,oe,N),A=Math.abs(x.y*2)-U.y,H=zt.skewY,at;A<2?at=0:(at=f(Math.atan2(A/zt.scaleY,U.x/zt.scaleX)),Wt.originX===r&&Wt.originY===a&&(at=-at),Wt.originX===t&&Wt.originY===e&&(at=-at),er(zt)&&(at=-at));var Ot=H!==at;if(Ot){var _t=zt._getTransformedDimensions().x;zt.set("skewY",at),tt(zt,"skewX","scaleX","x",_t)}return Ot}function lt(Zt,Wt,oe,N){var zt=Wt.target,U=zt.skewX,x,A=Wt.originY;if(zt.lockSkewingX)return!1;if(U===0){var H=_e(Wt,l,l,oe,N);H.x>0?x=r:x=t}else U>0&&(x=A===e?r:t),U<0&&(x=A===e?t:r),er(zt)&&(x=x===r?t:r);Wt.originX=x;var at=Z("skewing",Gt(te));return at(Zt,Wt,oe,N)}function $(Zt,Wt,oe,N){var zt=Wt.target,U=zt.skewY,x,A=Wt.originX;if(zt.lockSkewingY)return!1;if(U===0){var H=_e(Wt,l,l,oe,N);H.y>0?x=e:x=a}else U>0&&(x=A===r?e:a),U<0&&(x=A===r?a:e),er(zt)&&(x=x===e?a:e);Wt.originY=x;var at=Z("skewing",Gt(Y));return at(Zt,Wt,oe,N)}function F(Zt,Wt,oe,N){var zt=Wt,U=zt.target,x=U.translateToOriginPoint(U.getCenterPoint(),zt.originX,zt.originY);if(U.lockRotation)return!1;var A=Math.atan2(zt.ey-x.y,zt.ex-x.x),H=Math.atan2(N-x.y,oe-x.x),at=f(H-A+zt.theta),Ot=!0;if(U.snapAngle>0){var _t=U.snapAngle,we=U.snapThreshold||_t,Me=Math.ceil(at/_t)*_t,Se=Math.floor(at/_t)*_t;Math.abs(at-Se)<we?at=Se:Math.abs(at-Me)<we&&(at=Me)}return at<0&&(at=360+at),at%=360,Ot=U.angle!==at,U.angle=at,Ot}function et(Zt,Wt,oe,N,zt){zt=zt||{};var U=Wt.target,x=U.lockScalingX,A=U.lockScalingY,H=zt.by,at,Ot,_t,we,Me=D(Zt,U),Se=it(U,H,Me),Ge,pr,Ar=Wt.gestureScale;if(Se)return!1;if(Ar)Ot=Wt.scaleX*Ar,_t=Wt.scaleY*Ar;else{if(at=_e(Wt,Wt.originX,Wt.originY,oe,N),Ge=H!=="y"?p(at.x):1,pr=H!=="x"?p(at.y):1,Wt.signX||(Wt.signX=Ge),Wt.signY||(Wt.signY=pr),U.lockScalingFlip&&(Wt.signX!==Ge||Wt.signY!==pr))return!1;if(we=U._getTransformedDimensions(),Me&&!H){var Kr=Math.abs(at.x)+Math.abs(at.y),_n=Wt.original,Cn=Math.abs(we.x*_n.scaleX/U.scaleX)+Math.abs(we.y*_n.scaleY/U.scaleY),Wn=Kr/Cn;Ot=_n.scaleX*Wn,_t=_n.scaleY*Wn}else Ot=Math.abs(at.x*U.scaleX/we.x),_t=Math.abs(at.y*U.scaleY/we.y);V(Wt)&&(Ot*=2,_t*=2),Wt.signX!==Ge&&H!=="y"&&(Wt.originX=i[Wt.originX],Ot*=-1,Wt.signX=Ge),Wt.signY!==pr&&H!=="x"&&(Wt.originY=i[Wt.originY],_t*=-1,Wt.signY=pr)}var Yr=U.scaleX,zn=U.scaleY;return H?(H==="x"&&U.set("scaleX",Ot),H==="y"&&U.set("scaleY",_t)):(!x&&U.set("scaleX",Ot),!A&&U.set("scaleY",_t)),Yr!==U.scaleX||zn!==U.scaleY}function ht(Zt,Wt,oe,N){return et(Zt,Wt,oe,N)}function nt(Zt,Wt,oe,N){return et(Zt,Wt,oe,N,{by:"x"})}function jt(Zt,Wt,oe,N){return et(Zt,Wt,oe,N,{by:"y"})}function xt(Zt,Wt,oe,N){return Zt[Wt.target.canvas.altActionKey]?o.skewHandlerX(Zt,Wt,oe,N):o.scalingY(Zt,Wt,oe,N)}function Mt(Zt,Wt,oe,N){return Zt[Wt.target.canvas.altActionKey]?o.skewHandlerY(Zt,Wt,oe,N):o.scalingX(Zt,Wt,oe,N)}function ae(Zt,Wt,oe,N){var zt=Wt.target,U=_e(Wt,Wt.originX,Wt.originY,oe,N),x=zt.strokeWidth/(zt.strokeUniform?zt.scaleX:1),A=V(Wt)?2:1,H=zt.width,at=Math.abs(U.x*A/zt.scaleX)-x;return zt.set("width",Math.max(at,0)),H!==at}function se(Zt,Wt,oe,N){var zt=Wt.target,U=oe-Wt.offsetX,x=N-Wt.offsetY,A=!zt.get("lockMovementX")&&zt.left!==U,H=!zt.get("lockMovementY")&&zt.top!==x;return A&&zt.set("left",U),H&&zt.set("top",x),(A||H)&&C("moving",At(Zt,Wt,oe,N)),A||H}o.scaleCursorStyleHandler=Ct,o.skewCursorStyleHandler=Dt,o.scaleSkewCursorStyleHandler=Ut,o.rotationWithSnapping=Z("rotating",Gt(F)),o.scalingEqually=Z("scaling",Gt(ht)),o.scalingX=Z("scaling",Gt(nt)),o.scalingY=Z("scaling",Gt(jt)),o.scalingYOrSkewingX=xt,o.scalingXOrSkewingY=Mt,o.changeWidth=Z("resizing",Gt(ae)),o.skewHandlerX=lt,o.skewHandlerY=$,o.dragHandler=se,o.scaleOrSkewActionName=pe,o.rotationStyleHandler=Ee,o.fireEvent=C,o.wrapWithFixedAnchor=Gt,o.wrapWithFireEvent=Z,o.getLocalPoint=_e,s.controlsUtils=o}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.degreesToRadians,u=s.controlsUtils;function o(e,t,a,l,i){l=l||{};var f=this.sizeX||l.cornerSize||i.cornerSize,p=this.sizeY||l.cornerSize||i.cornerSize,v=typeof l.transparentCorners!="undefined"?l.transparentCorners:i.transparentCorners,C=v?"stroke":"fill",D=!v&&(l.cornerStrokeColor||i.cornerStrokeColor),V=t,it=a,Ct;e.save(),e.fillStyle=l.cornerColor||i.cornerColor,e.strokeStyle=l.cornerStrokeColor||i.cornerStrokeColor,f>p?(Ct=f,e.scale(1,p/f),it=a*f/p):p>f?(Ct=p,e.scale(f/p,1),V=t*p/f):Ct=f,e.lineWidth=1,e.beginPath(),e.arc(V,it,Ct/2,0,2*Math.PI,!1),e[C](),D&&e.stroke(),e.restore()}function r(e,t,a,l,i){l=l||{};var f=this.sizeX||l.cornerSize||i.cornerSize,p=this.sizeY||l.cornerSize||i.cornerSize,v=typeof l.transparentCorners!="undefined"?l.transparentCorners:i.transparentCorners,C=v?"stroke":"fill",D=!v&&(l.cornerStrokeColor||i.cornerStrokeColor),V=f/2,it=p/2;e.save(),e.fillStyle=l.cornerColor||i.cornerColor,e.strokeStyle=l.cornerStrokeColor||i.cornerStrokeColor,e.lineWidth=1,e.translate(t,a),e.rotate(h(i.angle)),e[C+"Rect"](-V,-it,f,p),D&&e.strokeRect(-V,-it,f,p),e.restore()}u.renderCircleControl=o,u.renderSquareControl=r}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={});function h(u){for(var o in u)this[o]=u[o]}s.Control=h,s.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(o,r){return r.cursorStyle},getActionName:function(o,r){return r.actionName},getVisibility:function(o,r){var e=o._controlsVisibility;return e&&typeof e[r]!="undefined"?e[r]:this.visible},setVisibility:function(o){this.visible=o},positionHandler:function(o,r){var e=s.util.transformPoint({x:this.x*o.x+this.offsetX,y:this.y*o.y+this.offsetY},r);return e},calcCornerCoords:function(o,r,e,t,a){var l,i,f,p,v=a?this.touchSizeX:this.sizeX,C=a?this.touchSizeY:this.sizeY;if(v&&C&&v!==C){var D=Math.atan2(C,v),V=Math.sqrt(v*v+C*C)/2,it=D-s.util.degreesToRadians(o),Ct=Math.PI/2-D-s.util.degreesToRadians(o);l=V*s.util.cos(it),i=V*s.util.sin(it),f=V*s.util.cos(Ct),p=V*s.util.sin(Ct)}else{var Dt=v&&C?v:r;V=Dt*.7071067812;var it=s.util.degreesToRadians(45-o);l=f=V*s.util.cos(it),i=p=V*s.util.sin(it)}return{tl:{x:e-p,y:t-f},tr:{x:e+l,y:t-i},bl:{x:e-l,y:t+i},br:{x:e+p,y:t+f}}},render:function(o,r,e,t,a){switch(t=t||{},t.cornerStyle||a.cornerStyle){case"circle":s.controlsUtils.renderCircleControl.call(this,o,r,e,t,a);break;default:s.controlsUtils.renderSquareControl.call(this,o,r,e,t,a)}}}}(wr),function(){function b(r,e){var t=r.getAttribute("style"),a=r.getAttribute("offset")||0,l,i,f,p;if(a=parseFloat(a)/(/%$/.test(a)?100:1),a=a<0?0:a>1?1:a,t){var v=t.split(/\s*;\s*/);for(v[v.length-1]===""&&v.pop(),p=v.length;p--;){var C=v[p].split(/\s*:\s*/),D=C[0].trim(),V=C[1].trim();D==="stop-color"?l=V:D==="stop-opacity"&&(f=V)}}return l||(l=r.getAttribute("stop-color")||"rgb(0,0,0)"),f||(f=r.getAttribute("stop-opacity")),l=new L.Color(l),i=l.getAlpha(),f=isNaN(parseFloat(f))?1:parseFloat(f),f*=i*e,{offset:a,color:l.toRgb(),opacity:f}}function s(r){return{x1:r.getAttribute("x1")||0,y1:r.getAttribute("y1")||0,x2:r.getAttribute("x2")||"100%",y2:r.getAttribute("y2")||0}}function h(r){return{x1:r.getAttribute("fx")||r.getAttribute("cx")||"50%",y1:r.getAttribute("fy")||r.getAttribute("cy")||"50%",r1:0,x2:r.getAttribute("cx")||"50%",y2:r.getAttribute("cy")||"50%",r2:r.getAttribute("r")||"50%"}}var u=L.util.object.clone;L.Gradient=L.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(e){e||(e={}),e.coords||(e.coords={});var t,a=this;Object.keys(e).forEach(function(l){a[l]=e[l]}),this.id?this.id+="_"+L.Object.__uid++:this.id=L.Object.__uid++,t={x1:e.coords.x1||0,y1:e.coords.y1||0,x2:e.coords.x2||0,y2:e.coords.y2||0},this.type==="radial"&&(t.r1=e.coords.r1||0,t.r2=e.coords.r2||0),this.coords=t,this.colorStops=e.colorStops.slice()},addColorStop:function(e){for(var t in e){var a=new L.Color(e[t]);this.colorStops.push({offset:parseFloat(t),color:a.toRgb(),opacity:a.getAlpha()})}return this},toObject:function(e){var t={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return L.util.populateWithProperties(this,t,e),t},toSVG:function(e,t){var a=u(this.coords,!0),l,i,t=t||{},f,p,v=u(this.colorStops,!0),C=a.r1>a.r2,D=this.gradientTransform?this.gradientTransform.concat():L.iMatrix.concat(),V=-this.offsetX,it=-this.offsetY,Ct=!!t.additionalTransform,Dt=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(v.sort(function(Gt,Z){return Gt.offset-Z.offset}),Dt==="objectBoundingBox"?(V/=e.width,it/=e.height):(V+=e.width/2,it+=e.height/2),e.type==="path"&&this.gradientUnits!=="percentage"&&(V-=e.pathOffset.x,it-=e.pathOffset.y),D[4]-=V,D[5]-=it,p='id="SVGID_'+this.id+'" gradientUnits="'+Dt+'"',p+=' gradientTransform="'+(Ct?t.additionalTransform+" ":"")+L.util.matrixToSVG(D)+'" ',this.type==="linear"?f=["<linearGradient ",p,' x1="',a.x1,'" y1="',a.y1,'" x2="',a.x2,'" y2="',a.y2,`">
`]:this.type==="radial"&&(f=["<radialGradient ",p,' cx="',C?a.x1:a.x2,'" cy="',C?a.y1:a.y2,'" r="',C?a.r1:a.r2,'" fx="',C?a.x2:a.x1,'" fy="',C?a.y2:a.y1,`">
`]),this.type==="radial"){if(C)for(v=v.concat(),v.reverse(),l=0,i=v.length;l<i;l++)v[l].offset=1-v[l].offset;var Ut=Math.min(a.r1,a.r2);if(Ut>0){var pe=Math.max(a.r1,a.r2),Ee=Ut/pe;for(l=0,i=v.length;l<i;l++)v[l].offset+=Ee*(1-v[l].offset)}}for(l=0,i=v.length;l<i;l++){var At=v[l];f.push("<stop ",'offset="',At.offset*100+"%",'" style="stop-color:',At.color,typeof At.opacity!="undefined"?";stop-opacity: "+At.opacity:";",`"/>
`)}return f.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),f.join("")},toLive:function(e){var t,a=L.util.object.clone(this.coords),l,i;if(!!this.type){for(this.type==="linear"?t=e.createLinearGradient(a.x1,a.y1,a.x2,a.y2):this.type==="radial"&&(t=e.createRadialGradient(a.x1,a.y1,a.r1,a.x2,a.y2,a.r2)),l=0,i=this.colorStops.length;l<i;l++){var f=this.colorStops[l].color,p=this.colorStops[l].opacity,v=this.colorStops[l].offset;typeof p!="undefined"&&(f=new L.Color(f).setAlpha(p).toRgba()),t.addColorStop(v,f)}return t}}}),L.util.object.extend(L.Gradient,{fromElement:function(e,t,a,l){var i=parseFloat(a)/(/%$/.test(a)?100:1);i=i<0?0:i>1?1:i,isNaN(i)&&(i=1);var f=e.getElementsByTagName("stop"),p,v=e.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",C=e.getAttribute("gradientTransform")||"",D=[],V,it,Ct=0,Dt=0,Ut;for(e.nodeName==="linearGradient"||e.nodeName==="LINEARGRADIENT"?(p="linear",V=s(e)):(p="radial",V=h(e)),it=f.length;it--;)D.push(b(f[it],i));Ut=L.parseTransformAttribute(C),o(t,V,l,v),v==="pixels"&&(Ct=-t.left,Dt=-t.top);var pe=new L.Gradient({id:e.getAttribute("id"),type:p,coords:V,colorStops:D,gradientUnits:v,gradientTransform:Ut,offsetX:Ct,offsetY:Dt});return pe}});function o(r,e,t,a){var l,i;Object.keys(e).forEach(function(f){l=e[f],l==="Infinity"?i=1:l==="-Infinity"?i=0:(i=parseFloat(e[f],10),typeof l=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(l)&&(i*=.01,a==="pixels"&&((f==="x1"||f==="x2"||f==="r2")&&(i*=t.viewBoxWidth||t.width),(f==="y1"||f==="y2")&&(i*=t.viewBoxHeight||t.height)))),e[f]=i})}}(),function(){"use strict";var b=L.util.toFixed;L.Pattern=L.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(h,u){if(h||(h={}),this.id=L.Object.__uid++,this.setOptions(h),!h.source||h.source&&typeof h.source!="string"){u&&u(this);return}else{var o=this;this.source=L.util.createImage(),L.util.loadImage(h.source,function(r,e){o.source=r,u&&u(o,e)},null,this.crossOrigin)}},toObject:function(h){var u=L.Object.NUM_FRACTION_DIGITS,o,r;return typeof this.source.src=="string"?o=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(o=this.source.toDataURL()),r={type:"pattern",source:o,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:b(this.offsetX,u),offsetY:b(this.offsetY,u),patternTransform:this.patternTransform?this.patternTransform.concat():null},L.util.populateWithProperties(this,r,h),r},toSVG:function(h){var u=typeof this.source=="function"?this.source():this.source,o=u.width/h.width,r=u.height/h.height,e=this.offsetX/h.width,t=this.offsetY/h.height,a="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(r=1,t&&(r+=Math.abs(t))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(o=1,e&&(o+=Math.abs(e))),u.src?a=u.src:u.toDataURL&&(a=u.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+e+'" y="'+t+'" width="'+o+'" height="'+r+`">
<image x="0" y="0" width="`+u.width+'" height="'+u.height+'" xlink:href="'+a+`"></image>
</pattern>
`},setOptions:function(h){for(var u in h)this[u]=h[u]},toLive:function(h){var u=this.source;return!u||typeof u.src!="undefined"&&(!u.complete||u.naturalWidth===0||u.naturalHeight===0)?"":h.createPattern(u,this.repeat)}})}(),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.toFixed;if(s.Shadow){s.warn("fabric.Shadow is already defined.");return}s.Shadow=s.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(o){typeof o=="string"&&(o=this._parseShadow(o));for(var r in o)this[r]=o[r];this.id=s.Object.__uid++},_parseShadow:function(o){var r=o.trim(),e=s.Shadow.reOffsetsAndBlur.exec(r)||[],t=r.replace(s.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:t.trim(),offsetX:parseFloat(e[1],10)||0,offsetY:parseFloat(e[2],10)||0,blur:parseFloat(e[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(o){var r=40,e=40,t=s.Object.NUM_FRACTION_DIGITS,a=s.util.rotateVector({x:this.offsetX,y:this.offsetY},s.util.degreesToRadians(-o.angle)),l=20,i=new s.Color(this.color);return o.width&&o.height&&(r=h((Math.abs(a.x)+this.blur)/o.width,t)*100+l,e=h((Math.abs(a.y)+this.blur)/o.height,t)*100+l),o.flipX&&(a.x*=-1),o.flipY&&(a.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+e+'%" height="'+(100+2*e)+'%" x="-'+r+'%" width="'+(100+2*r)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+h(this.blur?this.blur/2:0,t)+`"></feGaussianBlur>
	<feOffset dx="`+h(a.x,t)+'" dy="'+h(a.y,t)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+i.toRgb()+'" flood-opacity="'+i.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var o={},r=s.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(e){this[e]!==r[e]&&(o[e]=this[e])},this),o}}),s.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(wr),function(){"use strict";if(L.StaticCanvas){L.warn("fabric.StaticCanvas is already defined.");return}var b=L.util.object.extend,s=L.util.getElementOffset,h=L.util.removeFromArray,u=L.util.toFixed,o=L.util.transformPoint,r=L.util.invertTransform,e=L.util.getNodeCanvas,t=L.util.createCanvasElement,a=new Error("Could not initialize `canvas` element");L.StaticCanvas=L.util.createClass(L.CommonMethods,{initialize:function(i,f){f||(f={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(i,f)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:L.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(i,f){var p=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(i),this._initOptions(f),this.interactive||this._initRetinaScaling(),f.overlayImage&&this.setOverlayImage(f.overlayImage,p),f.backgroundImage&&this.setBackgroundImage(f.backgroundImage,p),f.backgroundColor&&this.setBackgroundColor(f.backgroundColor,p),f.overlayColor&&this.setOverlayColor(f.overlayColor,p),this.calcOffset()},_isRetinaScaling:function(){return L.devicePixelRatio!==1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?L.devicePixelRatio:1},_initRetinaScaling:function(){if(!!this._isRetinaScaling()){var i=L.devicePixelRatio;this.__initRetinaScaling(i,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(i,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(i,f,p){f.setAttribute("width",this.width*i),f.setAttribute("height",this.height*i),p.scale(i,i)},calcOffset:function(){return this._offset=s(this.lowerCanvasEl),this},setOverlayImage:function(i,f,p){return this.__setBgOverlayImage("overlayImage",i,f,p)},setBackgroundImage:function(i,f,p){return this.__setBgOverlayImage("backgroundImage",i,f,p)},setOverlayColor:function(i,f){return this.__setBgOverlayColor("overlayColor",i,f)},setBackgroundColor:function(i,f){return this.__setBgOverlayColor("backgroundColor",i,f)},__setBgOverlayImage:function(i,f,p,v){return typeof f=="string"?L.util.loadImage(f,function(C,D){if(C){var V=new L.Image(C,v);this[i]=V,V.canvas=this}p&&p(C,D)},this,v&&v.crossOrigin):(v&&f.setOptions(v),this[i]=f,f&&(f.canvas=this),p&&p(f,!1)),this},__setBgOverlayColor:function(i,f,p){return this[i]=f,this._initGradient(f,i),this._initPattern(f,i,p),this},_createCanvasElement:function(){var i=t();if(!i||(i.style||(i.style={}),typeof i.getContext=="undefined"))throw a;return i},_initOptions:function(i){var f=this.lowerCanvasEl;this._setOptions(i),this.width=this.width||parseInt(f.width,10)||0,this.height=this.height||parseInt(f.height,10)||0,!!this.lowerCanvasEl.style&&(f.width=this.width,f.height=this.height,f.style.width=this.width+"px",f.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(i){i&&i.getContext?this.lowerCanvasEl=i:this.lowerCanvasEl=L.util.getById(i)||this._createCanvasElement(),L.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(i,f){return this.setDimensions({width:i},f)},setHeight:function(i,f){return this.setDimensions({height:i},f)},setDimensions:function(i,f){var p;f=f||{};for(var v in i)p=i[v],f.cssOnly||(this._setBackstoreDimension(v,i[v]),p+="px",this.hasLostContext=!0),f.backstoreOnly||this._setCssDimension(v,p);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),f.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(i,f){return this.lowerCanvasEl[i]=f,this.upperCanvasEl&&(this.upperCanvasEl[i]=f),this.cacheCanvasEl&&(this.cacheCanvasEl[i]=f),this[i]=f,this},_setCssDimension:function(i,f){return this.lowerCanvasEl.style[i]=f,this.upperCanvasEl&&(this.upperCanvasEl.style[i]=f),this.wrapperEl&&(this.wrapperEl.style[i]=f),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(i){var f=this._activeObject,p=this.backgroundImage,v=this.overlayImage,C,D,V;for(this.viewportTransform=i,D=0,V=this._objects.length;D<V;D++)C=this._objects[D],C.group||C.setCoords(!0);return f&&f.setCoords(),p&&p.setCoords(!0),v&&v.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(i,f){var p=i,v=this.viewportTransform.slice(0);i=o(i,r(this.viewportTransform)),v[0]=f,v[3]=f;var C=o(i,v);return v[4]+=p.x-C.x,v[5]+=p.y-C.y,this.setViewportTransform(v)},setZoom:function(i){return this.zoomToPoint(new L.Point(0,0),i),this},absolutePan:function(i){var f=this.viewportTransform.slice(0);return f[4]=-i.x,f[5]=-i.y,this.setViewportTransform(f)},relativePan:function(i){return this.absolutePan(new L.Point(-i.x-this.viewportTransform[4],-i.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(i){this.stateful&&i.setupState(),i._set("canvas",this),i.setCoords(),this.fire("object:added",{target:i}),i.fire("added")},_onObjectRemoved:function(i){this.fire("object:removed",{target:i}),i.fire("removed"),delete i.canvas},clearContext:function(i){return i.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var i=this.contextContainer;return this.renderCanvas(i,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=L.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var i={},f=this.width,p=this.height,v=r(this.viewportTransform);return i.tl=o({x:0,y:0},v),i.br=o({x:f,y:p},v),i.tr=new L.Point(i.br.x,i.tl.y),i.bl=new L.Point(i.tl.x,i.br.y),this.vptCoords=i,i},cancelRequestedRender:function(){this.isRendering&&(L.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(i,f){var p=this.viewportTransform,v=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(i),L.util.setImageSmoothing(i,this.imageSmoothingEnabled),this.fire("before:render",{ctx:i}),this._renderBackground(i),i.save(),i.transform(p[0],p[1],p[2],p[3],p[4],p[5]),this._renderObjects(i,f),i.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(i),v&&(v.canvas=this,v.shouldCache(),v._transformDone=!0,v.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(i)),this._renderOverlay(i),this.controlsAboveOverlay&&this.interactive&&this.drawControls(i),this.fire("after:render",{ctx:i})},drawClipPathOnCanvas:function(i){var f=this.viewportTransform,p=this.clipPath;i.save(),i.transform(f[0],f[1],f[2],f[3],f[4],f[5]),i.globalCompositeOperation="destination-in",p.transform(i),i.scale(1/p.zoomX,1/p.zoomY),i.drawImage(p._cacheCanvas,-p.cacheTranslationX,-p.cacheTranslationY),i.restore()},_renderObjects:function(i,f){var p,v;for(p=0,v=f.length;p<v;++p)f[p]&&f[p].render(i)},_renderBackgroundOrOverlay:function(i,f){var p=this[f+"Color"],v=this[f+"Image"],C=this.viewportTransform,D=this[f+"Vpt"];if(!(!p&&!v)){if(p){i.save(),i.beginPath(),i.moveTo(0,0),i.lineTo(this.width,0),i.lineTo(this.width,this.height),i.lineTo(0,this.height),i.closePath(),i.fillStyle=p.toLive?p.toLive(i,this):p,D&&i.transform(C[0],C[1],C[2],C[3],C[4],C[5]),i.transform(1,0,0,1,p.offsetX||0,p.offsetY||0);var V=p.gradientTransform||p.patternTransform;V&&i.transform(V[0],V[1],V[2],V[3],V[4],V[5]),i.fill(),i.restore()}v&&(i.save(),D&&i.transform(C[0],C[1],C[2],C[3],C[4],C[5]),v.render(i),i.restore())}},_renderBackground:function(i){this._renderBackgroundOrOverlay(i,"background")},_renderOverlay:function(i){this._renderBackgroundOrOverlay(i,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(i){return this._centerObject(i,new L.Point(this.getCenter().left,i.getCenterPoint().y))},centerObjectV:function(i){return this._centerObject(i,new L.Point(i.getCenterPoint().x,this.getCenter().top))},centerObject:function(i){var f=this.getCenter();return this._centerObject(i,new L.Point(f.left,f.top))},viewportCenterObject:function(i){var f=this.getVpCenter();return this._centerObject(i,f)},viewportCenterObjectH:function(i){var f=this.getVpCenter();return this._centerObject(i,new L.Point(f.x,i.getCenterPoint().y)),this},viewportCenterObjectV:function(i){var f=this.getVpCenter();return this._centerObject(i,new L.Point(i.getCenterPoint().x,f.y))},getVpCenter:function(){var i=this.getCenter(),f=r(this.viewportTransform);return o({x:i.left,y:i.top},f)},_centerObject:function(i,f){return i.setPositionByOrigin(f,"center","center"),i.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(i){return this.toDatalessObject(i)},toObject:function(i){return this._toObjectMethod("toObject",i)},toDatalessObject:function(i){return this._toObjectMethod("toDatalessObject",i)},_toObjectMethod:function(i,f){var p=this.clipPath,v={version:L.version,objects:this._toObjects(i,f)};return p&&!p.excludeFromExport&&(v.clipPath=this._toObject(this.clipPath,i,f)),b(v,this.__serializeBgOverlay(i,f)),L.util.populateWithProperties(this,v,f),v},_toObjects:function(i,f){return this._objects.filter(function(p){return!p.excludeFromExport}).map(function(p){return this._toObject(p,i,f)},this)},_toObject:function(i,f,p){var v;this.includeDefaultValues||(v=i.includeDefaultValues,i.includeDefaultValues=!1);var C=i[f](p);return this.includeDefaultValues||(i.includeDefaultValues=v),C},__serializeBgOverlay:function(i,f){var p={},v=this.backgroundImage,C=this.overlayImage,D=this.backgroundColor,V=this.overlayColor;return D&&D.toObject?D.excludeFromExport||(p.background=D.toObject(f)):D&&(p.background=D),V&&V.toObject?V.excludeFromExport||(p.overlay=V.toObject(f)):V&&(p.overlay=V),v&&!v.excludeFromExport&&(p.backgroundImage=this._toObject(v,i,f)),C&&!C.excludeFromExport&&(p.overlayImage=this._toObject(C,i,f)),p},svgViewportTransformation:!0,toSVG:function(i,f){i||(i={}),i.reviver=f;var p=[];return this._setSVGPreamble(p,i),this._setSVGHeader(p,i),this.clipPath&&p.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(p,"background"),this._setSVGBgOverlayImage(p,"backgroundImage",f),this._setSVGObjects(p,f),this.clipPath&&p.push(`</g>
`),this._setSVGBgOverlayColor(p,"overlay"),this._setSVGBgOverlayImage(p,"overlayImage",f),p.push("</svg>"),p.join("")},_setSVGPreamble:function(i,f){f.suppressPreamble||i.push('<?xml version="1.0" encoding="',f.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(i,f){var p=f.width||this.width,v=f.height||this.height,C,D='viewBox="0 0 '+this.width+" "+this.height+'" ',V=L.Object.NUM_FRACTION_DIGITS;f.viewBox?D='viewBox="'+f.viewBox.x+" "+f.viewBox.y+" "+f.viewBox.width+" "+f.viewBox.height+'" ':this.svgViewportTransformation&&(C=this.viewportTransform,D='viewBox="'+u(-C[4]/C[0],V)+" "+u(-C[5]/C[3],V)+" "+u(this.width/C[0],V)+" "+u(this.height/C[3],V)+'" '),i.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',p,'" ','height="',v,'" ',D,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",L.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(f),`</defs>
`)},createSVGClipPathMarkup:function(i){var f=this.clipPath;return f?(f.clipPathId="CLIPPATH_"+L.Object.__uid++,'<clipPath id="'+f.clipPathId+`" >
`+this.clipPath.toClipPathSVG(i.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var i=this,f=["background","overlay"].map(function(p){var v=i[p+"Color"];if(v&&v.toLive){var C=i[p+"Vpt"],D=i.viewportTransform,V={width:i.width/(C?D[0]:1),height:i.height/(C?D[3]:1)};return v.toSVG(V,{additionalTransform:C?L.util.matrixToSVG(D):""})}});return f.join("")},createSVGFontFacesMarkup:function(){var i="",f={},p,v,C,D,V,it,Ct,Dt,Ut,pe=L.fontPaths,Ee=[];for(this._objects.forEach(function Gt(Z){Ee.push(Z),Z._objects&&Z._objects.forEach(Gt)}),Dt=0,Ut=Ee.length;Dt<Ut;Dt++)if(p=Ee[Dt],v=p.fontFamily,!(p.type.indexOf("text")===-1||f[v]||!pe[v])&&(f[v]=!0,!!p.styles)){C=p.styles;for(V in C){D=C[V];for(Ct in D)it=D[Ct],v=it.fontFamily,!f[v]&&pe[v]&&(f[v]=!0)}}for(var At in f)i+=[`		@font-face {
`,"			font-family: '",At,`';
`,"			src: url('",pe[At],`');
`,`		}
`].join("");return i&&(i=['	<style type="text/css">',`<![CDATA[
`,i,"]]>",`</style>
`].join("")),i},_setSVGObjects:function(i,f){var p,v,C,D=this._objects;for(v=0,C=D.length;v<C;v++)p=D[v],!p.excludeFromExport&&this._setSVGObject(i,p,f)},_setSVGObject:function(i,f,p){i.push(f.toSVG(p))},_setSVGBgOverlayImage:function(i,f,p){this[f]&&!this[f].excludeFromExport&&this[f].toSVG&&i.push(this[f].toSVG(p))},_setSVGBgOverlayColor:function(i,f){var p=this[f+"Color"],v=this.viewportTransform,C=this.width,D=this.height;if(!!p)if(p.toLive){var V=p.repeat,it=L.util.invertTransform(v),Ct=this[f+"Vpt"],Dt=Ct?L.util.matrixToSVG(it):"";i.push('<rect transform="'+Dt+" translate(",C/2,",",D/2,')"',' x="',p.offsetX-C/2,'" y="',p.offsetY-D/2,'" ','width="',V==="repeat-y"||V==="no-repeat"?p.source.width:C,'" height="',V==="repeat-x"||V==="no-repeat"?p.source.height:D,'" fill="url(#SVGID_'+p.id+')"',`></rect>
`)}else i.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',p,'"',`></rect>
`)},sendToBack:function(i){if(!i)return this;var f=this._activeObject,p,v,C;if(i===f&&i.type==="activeSelection")for(C=f._objects,p=C.length;p--;)v=C[p],h(this._objects,v),this._objects.unshift(v);else h(this._objects,i),this._objects.unshift(i);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(i){if(!i)return this;var f=this._activeObject,p,v,C;if(i===f&&i.type==="activeSelection")for(C=f._objects,p=0;p<C.length;p++)v=C[p],h(this._objects,v),this._objects.push(v);else h(this._objects,i),this._objects.push(i);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(i,f){if(!i)return this;var p=this._activeObject,v,C,D,V,it,Ct=0;if(i===p&&i.type==="activeSelection")for(it=p._objects,v=0;v<it.length;v++)C=it[v],D=this._objects.indexOf(C),D>0+Ct&&(V=D-1,h(this._objects,C),this._objects.splice(V,0,C)),Ct++;else D=this._objects.indexOf(i),D!==0&&(V=this._findNewLowerIndex(i,D,f),h(this._objects,i),this._objects.splice(V,0,i));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(i,f,p){var v,C;if(p)for(v=f,C=f-1;C>=0;--C){var D=i.intersectsWithObject(this._objects[C])||i.isContainedWithinObject(this._objects[C])||this._objects[C].isContainedWithinObject(i);if(D){v=C;break}}else v=f-1;return v},bringForward:function(i,f){if(!i)return this;var p=this._activeObject,v,C,D,V,it,Ct=0;if(i===p&&i.type==="activeSelection")for(it=p._objects,v=it.length;v--;)C=it[v],D=this._objects.indexOf(C),D<this._objects.length-1-Ct&&(V=D+1,h(this._objects,C),this._objects.splice(V,0,C)),Ct++;else D=this._objects.indexOf(i),D!==this._objects.length-1&&(V=this._findNewUpperIndex(i,D,f),h(this._objects,i),this._objects.splice(V,0,i));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(i,f,p){var v,C,D;if(p)for(v=f,C=f+1,D=this._objects.length;C<D;++C){var V=i.intersectsWithObject(this._objects[C])||i.isContainedWithinObject(this._objects[C])||this._objects[C].isContainedWithinObject(i);if(V){v=C;break}}else v=f+1;return v},moveTo:function(i,f){return h(this._objects,i),this._objects.splice(f,0,i),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(L.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(i){i.dispose&&i.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),L.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),b(L.StaticCanvas.prototype,L.Observable),b(L.StaticCanvas.prototype,L.Collection),b(L.StaticCanvas.prototype,L.DataURLExporter),b(L.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(i){var f=t();if(!f||!f.getContext)return null;var p=f.getContext("2d");if(!p)return null;switch(i){case"setLineDash":return typeof p.setLineDash!="undefined";default:return null}}}),L.StaticCanvas.prototype.toJSON=L.StaticCanvas.prototype.toObject,L.isLikelyNode&&(L.StaticCanvas.prototype.createPNGStream=function(){var l=e(this.lowerCanvasEl);return l&&l.createPNGStream()},L.StaticCanvas.prototype.createJPEGStream=function(l){var i=e(this.lowerCanvasEl);return i&&i.createJPEGStream(l)})}(),L.BaseBrush=L.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var s=this.canvas.contextTop;s.strokeStyle=this.color,s.lineWidth=this.width,s.lineCap=this.strokeLineCap,s.miterLimit=this.strokeMiterLimit,s.lineJoin=this.strokeLineJoin,s.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(s){var h=this.canvas.viewportTransform;s.save(),s.transform(h[0],h[1],h[2],h[3],h[4],h[5])},_setShadow:function(){if(!!this.shadow){var s=this.canvas,h=this.shadow,u=s.contextTop,o=s.getZoom();s&&s._isRetinaScaling()&&(o*=L.devicePixelRatio),u.shadowColor=h.color,u.shadowBlur=h.blur*o,u.shadowOffsetX=h.offsetX*o,u.shadowOffsetY=h.offsetY*o}},needsFullRender:function(){var s=new L.Color(this.color);return s.getAlpha()<1||!!this.shadow},_resetShadow:function(){var s=this.canvas.contextTop;s.shadowColor="",s.shadowBlur=s.shadowOffsetX=s.shadowOffsetY=0},_isOutSideCanvas:function(s){return s.x<0||s.x>this.canvas.getWidth()||s.y<0||s.y>this.canvas.getHeight()}}),function(){L.PencilBrush=L.util.createClass(L.BaseBrush,{decimate:.4,initialize:function(s){this.canvas=s,this._points=[]},_drawSegment:function(s,h,u){var o=h.midPointFrom(u);return s.quadraticCurveTo(h.x,h.y,o.x,o.y),o},onMouseDown:function(s,h){!this.canvas._isMainEvent(h.e)||(this._prepareForDrawing(s),this._captureDrawingPath(s),this._render())},onMouseMove:function(s,h){if(!!this.canvas._isMainEvent(h.e)&&!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(s))&&this._captureDrawingPath(s)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var u=this._points,o=u.length,r=this.canvas.contextTop;this._saveAndTransform(r),this.oldEnd&&(r.beginPath(),r.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(r,u[o-2],u[o-1],!0),r.stroke(),r.restore()}},onMouseUp:function(s){return this.canvas._isMainEvent(s.e)?(this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(s){var h=new L.Point(s.x,s.y);this._reset(),this._addPoint(h),this.canvas.contextTop.moveTo(h.x,h.y)},_addPoint:function(s){return this._points.length>1&&s.eq(this._points[this._points.length-1])?!1:(this._points.push(s),!0)},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(s){var h=new L.Point(s.x,s.y);return this._addPoint(h)},_render:function(){var s=this.canvas.contextTop,h,u,o=this._points[0],r=this._points[1];if(this._saveAndTransform(s),s.beginPath(),this._points.length===2&&o.x===r.x&&o.y===r.y){var e=this.width/1e3;o=new L.Point(o.x,o.y),r=new L.Point(r.x,r.y),o.x-=e,r.x+=e}for(s.moveTo(o.x,o.y),h=1,u=this._points.length;h<u;h++)this._drawSegment(s,o,r),o=this._points[h],r=this._points[h+1];s.lineTo(o.x,o.y),s.stroke(),s.restore()},convertPointsToSVGPath:function(s){var h=this.width/1e3;return L.util.getSmoothPathFromPoints(s,h)},_isEmptySVGPath:function(s){var h=L.util.joinPath(s);return h==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(s){var h=new L.Path(s,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,h.shadow=new L.Shadow(this.shadow)),h},decimatePoints:function(s,h){if(s.length<=2)return s;var u=this.canvas.getZoom(),o=Math.pow(h/u,2),r,e=s.length-1,t=s[0],a=[t],l;for(r=1;r<e-1;r++)l=Math.pow(t.x-s[r].x,2)+Math.pow(t.y-s[r].y,2),l>=o&&(t=s[r],a.push(t));return a.push(s[e]),a},_finalizeAndAddPath:function(){var s=this.canvas.contextTop;s.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var h=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(h)){this.canvas.requestRenderAll();return}var u=this.createPath(h);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:u}),this.canvas.add(u),this.canvas.requestRenderAll(),u.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:u})}})}(),L.CircleBrush=L.util.createClass(L.BaseBrush,{width:10,initialize:function(s){this.canvas=s,this.points=[]},drawDot:function(s){var h=this.addPoint(s),u=this.canvas.contextTop;this._saveAndTransform(u),this.dot(u,h),u.restore()},dot:function(s,h){s.fillStyle=h.fill,s.beginPath(),s.arc(h.x,h.y,h.radius,0,Math.PI*2,!1),s.closePath(),s.fill()},onMouseDown:function(s){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(s)},_render:function(){var s=this.canvas.contextTop,h,u,o=this.points;for(this._saveAndTransform(s),h=0,u=o.length;h<u;h++)this.dot(s,o[h]);s.restore()},onMouseMove:function(s){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(s)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(s),this._render()):this.drawDot(s))},onMouseUp:function(){var s=this.canvas.renderOnAddRemove,h,u;this.canvas.renderOnAddRemove=!1;var o=[];for(h=0,u=this.points.length;h<u;h++){var r=this.points[h],e=new L.Circle({radius:r.radius,left:r.x,top:r.y,originX:"center",originY:"center",fill:r.fill});this.shadow&&(e.shadow=new L.Shadow(this.shadow)),o.push(e)}var t=new L.Group(o);t.canvas=this.canvas,this.canvas.fire("before:path:created",{path:t}),this.canvas.add(t),this.canvas.fire("path:created",{path:t}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=s,this.canvas.requestRenderAll()},addPoint:function(s){var h=new L.Point(s.x,s.y),u=L.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,o=new L.Color(this.color).setAlpha(L.util.getRandomInt(0,100)/100).toRgba();return h.radius=u,h.fill=o,this.points.push(h),h}}),L.SprayBrush=L.util.createClass(L.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(s){this.canvas=s,this.sprayChunks=[]},onMouseDown:function(s){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(s),this.render(this.sprayChunkPoints)},onMouseMove:function(s){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(s)||(this.addSprayChunk(s),this.render(this.sprayChunkPoints))},onMouseUp:function(){var s=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var h=[],u=0,o=this.sprayChunks.length;u<o;u++)for(var r=this.sprayChunks[u],e=0,t=r.length;e<t;e++){var a=new L.Rect({width:r[e].width,height:r[e].width,left:r[e].x+1,top:r[e].y+1,originX:"center",originY:"center",fill:this.color});h.push(a)}this.optimizeOverlapping&&(h=this._getOptimizedRects(h));var l=new L.Group(h);this.shadow&&l.set("shadow",new L.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:l}),this.canvas.add(l),this.canvas.fire("path:created",{path:l}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=s,this.canvas.requestRenderAll()},_getOptimizedRects:function(s){var h={},u,o,r;for(o=0,r=s.length;o<r;o++)u=s[o].left+""+s[o].top,h[u]||(h[u]=s[o]);var e=[];for(u in h)e.push(h[u]);return e},render:function(s){var h=this.canvas.contextTop,u,o;for(h.fillStyle=this.color,this._saveAndTransform(h),u=0,o=s.length;u<o;u++){var r=s[u];typeof r.opacity!="undefined"&&(h.globalAlpha=r.opacity),h.fillRect(r.x,r.y,r.width,r.width)}h.restore()},_render:function(){var s=this.canvas.contextTop,h,u;for(s.fillStyle=this.color,this._saveAndTransform(s),h=0,u=this.sprayChunks.length;h<u;h++)this.render(this.sprayChunks[h]);s.restore()},addSprayChunk:function(s){this.sprayChunkPoints=[];var h,u,o,r=this.width/2,e;for(e=0;e<this.density;e++){h=L.util.getRandomInt(s.x-r,s.x+r),u=L.util.getRandomInt(s.y-r,s.y+r),this.dotWidthVariance?o=L.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):o=this.dotWidth;var t=new L.Point(h,u);t.width=o,this.randomOpacity&&(t.opacity=L.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(t)}this.sprayChunks.push(this.sprayChunkPoints)}}),L.PatternBrush=L.util.createClass(L.PencilBrush,{getPatternSrc:function(){var s=20,h=5,u=L.util.createCanvasElement(),o=u.getContext("2d");return u.width=u.height=s+h,o.fillStyle=this.color,o.beginPath(),o.arc(s/2,s/2,s/2,0,Math.PI*2,!1),o.closePath(),o.fill(),u},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(s){var h=this.callSuper("createPath",s),u=h._getLeftTopCoords().scalarAdd(h.strokeWidth/2);return h.stroke=new L.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-u.x,offsetY:-u.y}),h}}),function(){var b=L.util.getPointer,s=L.util.degreesToRadians,h=L.util.isTouchEvent;L.Canvas=L.util.createClass(L.StaticCanvas,{initialize:function(r,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(r,e),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=L.PencilBrush&&new L.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var r=this.getActiveObjects(),e,t,a;if(r.length>0&&!this.preserveObjectStacking){t=[],a=[];for(var l=0,i=this._objects.length;l<i;l++)e=this._objects[l],r.indexOf(e)===-1?t.push(e):a.push(e);r.length>1&&(this._activeObject._objects=a),t.push.apply(t,a)}else t=this._objects;return t},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var r=this.contextContainer;return this.renderCanvas(r,this._chooseObjectsToRender()),this},renderTopLayer:function(r){r.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(r),this.contextTopDirty=!0),r.restore()},renderTop:function(){var r=this.contextTop;return this.clearContext(r),this.renderTopLayer(r),this.fire("after:render"),this},_normalizePointer:function(r,e){var t=r.calcTransformMatrix(),a=L.util.invertTransform(t),l=this.restorePointerVpt(e);return L.util.transformPoint(l,a)},isTargetTransparent:function(r,e,t){if(r.shouldCache()&&r._cacheCanvas&&r!==this._activeObject){var a=this._normalizePointer(r,{x:e,y:t}),l=Math.max(r.cacheTranslationX+a.x*r.zoomX,0),i=Math.max(r.cacheTranslationY+a.y*r.zoomY,0),C=L.util.isTransparent(r._cacheContext,Math.round(l),Math.round(i),this.targetFindTolerance);return C}var f=this.contextCache,p=r.selectionBackgroundColor,v=this.viewportTransform;r.selectionBackgroundColor="",this.clearContext(f),f.save(),f.transform(v[0],v[1],v[2],v[3],v[4],v[5]),r.render(f),f.restore(),r.selectionBackgroundColor=p;var C=L.util.isTransparent(f,e,t,this.targetFindTolerance);return C},_isSelectionKeyPressed:function(r){var e=!1;return Object.prototype.toString.call(this.selectionKey)==="[object Array]"?e=!!this.selectionKey.find(function(t){return r[t]===!0}):e=r[this.selectionKey],e},_shouldClearSelection:function(r,e){var t=this.getActiveObjects(),a=this._activeObject;return!e||e&&a&&t.length>1&&t.indexOf(e)===-1&&a!==e&&!this._isSelectionKeyPressed(r)||e&&!e.evented||e&&!e.selectable&&a&&a!==e},_shouldCenterTransform:function(r,e,t){if(!!r){var a;return e==="scale"||e==="scaleX"||e==="scaleY"||e==="resizing"?a=this.centeredScaling||r.centeredScaling:e==="rotate"&&(a=this.centeredRotation||r.centeredRotation),a?!t:t}},_getOriginFromCorner:function(r,e){var t={x:r.originX,y:r.originY};return e==="ml"||e==="tl"||e==="bl"?t.x="right":(e==="mr"||e==="tr"||e==="br")&&(t.x="left"),e==="tl"||e==="mt"||e==="tr"?t.y="bottom":(e==="bl"||e==="mb"||e==="br")&&(t.y="top"),t},_getActionFromCorner:function(r,e,t,a){if(!e||!r)return"drag";var l=a.controls[e];return l.getActionName(t,l,a)},_setupCurrentTransform:function(r,e,t){if(!!e){var a=this.getPointer(r),l=e.__corner,i=e.controls[l],f=t&&l?i.getActionHandler(r,e,i):L.controlsUtils.dragHandler,p=this._getActionFromCorner(t,l,r,e),v=this._getOriginFromCorner(e,l),C=r[this.centeredKey],D={target:e,action:p,actionHandler:f,corner:l,scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,offsetX:a.x-e.left,offsetY:a.y-e.top,originX:v.x,originY:v.y,ex:a.x,ey:a.y,lastX:a.x,lastY:a.y,theta:s(e.angle),width:e.width*e.scaleX,shiftKey:r.shiftKey,altKey:C,original:L.util.saveObjectTransform(e)};this._shouldCenterTransform(e,p,C)&&(D.originX="center",D.originY="center"),D.original.originX=v.x,D.original.originY=v.y,this._currentTransform=D,this._beforeTransform(r)}},setCursor:function(r){this.upperCanvasEl.style.cursor=r},_drawSelection:function(r){var e=this._groupSelector,t=new L.Point(e.ex,e.ey),a=L.util.transformPoint(t,this.viewportTransform),l=new L.Point(e.ex+e.left,e.ey+e.top),i=L.util.transformPoint(l,this.viewportTransform),f=Math.min(a.x,i.x),p=Math.min(a.y,i.y),v=Math.max(a.x,i.x),C=Math.max(a.y,i.y),D=this.selectionLineWidth/2;this.selectionColor&&(r.fillStyle=this.selectionColor,r.fillRect(f,p,v-f,C-p)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(r.lineWidth=this.selectionLineWidth,r.strokeStyle=this.selectionBorderColor,f+=D,p+=D,v-=D,C-=D,L.Object.prototype._setLineDash.call(this,r,this.selectionDashArray),r.strokeRect(f,p,v-f,C-p))},findTarget:function(r,e){if(!this.skipTargetFind){var t=!0,a=this.getPointer(r,t),l=this._activeObject,i=this.getActiveObjects(),f,p,v=h(r),C=i.length>1&&!e||i.length===1;if(this.targets=[],C&&l._findTargetCorner(a,v)||i.length>1&&!e&&l===this._searchPossibleTargets([l],a))return l;if(i.length===1&&l===this._searchPossibleTargets([l],a))if(this.preserveObjectStacking)f=l,p=this.targets,this.targets=[];else return l;var D=this._searchPossibleTargets(this._objects,a);return r[this.altSelectionKey]&&D&&f&&D!==f&&(D=f,this.targets=p),D}},_checkTarget:function(r,e,t){if(e&&e.visible&&e.evented&&e.containsPoint(r))if((this.perPixelTargetFind||e.perPixelTargetFind)&&!e.isEditing){var a=this.isTargetTransparent(e,t.x,t.y);if(!a)return!0}else return!0},_searchPossibleTargets:function(r,e){for(var t,a=r.length,l;a--;){var i=r[a],f=i.group?this._normalizePointer(i.group,e):e;if(this._checkTarget(f,i,e)){t=r[a],t.subTargetCheck&&t instanceof L.Group&&(l=this._searchPossibleTargets(t._objects,e),l&&this.targets.push(l));break}}return t},restorePointerVpt:function(r){return L.util.transformPoint(r,L.util.invertTransform(this.viewportTransform))},getPointer:function(r,e){if(this._absolutePointer&&!e)return this._absolutePointer;if(this._pointer&&e)return this._pointer;var t=b(r),a=this.upperCanvasEl,l=a.getBoundingClientRect(),i=l.width||0,f=l.height||0,p;(!i||!f)&&("top"in l&&"bottom"in l&&(f=Math.abs(l.top-l.bottom)),"right"in l&&"left"in l&&(i=Math.abs(l.right-l.left))),this.calcOffset(),t.x=t.x-this._offset.left,t.y=t.y-this._offset.top,e||(t=this.restorePointerVpt(t));var v=this.getRetinaScaling();return v!==1&&(t.x/=v,t.y/=v),i===0||f===0?p={width:1,height:1}:p={width:a.width/i,height:a.height/f},{x:t.x*p.width,y:t.y*p.height}},_createUpperCanvas:function(){var r=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),e=this.lowerCanvasEl,t=this.upperCanvasEl;t?t.className="":(t=this._createCanvasElement(),this.upperCanvasEl=t),L.util.addClass(t,"upper-canvas "+r),this.wrapperEl.appendChild(t),this._copyCanvasStyle(e,t),this._applyCanvasStyle(t),this.contextTop=t.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=L.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),L.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),L.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(r){var e=this.width||r.width,t=this.height||r.height;L.util.setStyle(r,{position:"absolute",width:e+"px",height:t+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),r.width=e,r.height=t,L.util.makeElementUnselectable(r)},_copyCanvasStyle:function(r,e){e.style.cssText=r.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var r=this._activeObject;return r?r.type==="activeSelection"&&r._objects?r._objects.slice(0):[r]:[]},_onObjectRemoved:function(r){r===this._activeObject&&(this.fire("before:selection:cleared",{target:r}),this._discardActiveObject(),this.fire("selection:cleared",{target:r}),r.fire("deselected")),r===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",r)},_fireSelectionEvents:function(r,e){var t=!1,a=this.getActiveObjects(),l=[],i=[];r.forEach(function(f){a.indexOf(f)===-1&&(t=!0,f.fire("deselected",{e,target:f}),i.push(f))}),a.forEach(function(f){r.indexOf(f)===-1&&(t=!0,f.fire("selected",{e,target:f}),l.push(f))}),r.length>0&&a.length>0?t&&this.fire("selection:updated",{e,selected:l,deselected:i,updated:l[0]||i[0],target:this._activeObject}):a.length>0?this.fire("selection:created",{e,selected:l,target:this._activeObject}):r.length>0&&this.fire("selection:cleared",{e,deselected:i})},setActiveObject:function(r,e){var t=this.getActiveObjects();return this._setActiveObject(r,e),this._fireSelectionEvents(t,e),this},_setActiveObject:function(r,e){return this._activeObject===r||!this._discardActiveObject(e,r)||r.onSelect({e})?!1:(this._activeObject=r,!0)},_discardActiveObject:function(r,e){var t=this._activeObject;if(t){if(t.onDeselect({e:r,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(r){var e=this.getActiveObjects(),t=this.getActiveObject();return e.length&&this.fire("before:selection:cleared",{target:t,e:r}),this._discardActiveObject(r),this._fireSelectionEvents(e,r),this},dispose:function(){var r=this.wrapperEl;return this.removeListeners(),r.removeChild(this.upperCanvasEl),r.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(e){L.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this)),r.parentNode&&r.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,L.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(r){var e=this._activeObject;e&&e._renderControls(r)},_toObject:function(r,e,t){var a=this._realizeGroupTransformOnObject(r),l=this.callSuper("_toObject",r,e,t);return this._unwindGroupTransformOnObject(r,a),l},_realizeGroupTransformOnObject:function(r){if(r.group&&r.group.type==="activeSelection"&&this._activeObject===r.group){var e=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],t={};return e.forEach(function(a){t[a]=r[a]}),L.util.addTransformToObject(r,this._activeObject.calcOwnMatrix()),t}else return null},_unwindGroupTransformOnObject:function(r,e){e&&r.set(e)},_setSVGObject:function(r,e,t){var a=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",r,e,t),this._unwindGroupTransformOnObject(e,a)},setViewportTransform:function(r){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),L.StaticCanvas.prototype.setViewportTransform.call(this,r)}});for(var u in L.StaticCanvas)u!=="prototype"&&(L.Canvas[u]=L.StaticCanvas[u])}(),function(){var b=L.util.addListener,s=L.util.removeListener,h=3,u=2,o=1,r={passive:!1};function e(t,a){return t.button&&t.button===a-1}L.util.object.extend(L.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(b,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(a,l){var i=this.upperCanvasEl,f=this._getEventPrefix();a(L.window,"resize",this._onResize),a(i,f+"down",this._onMouseDown),a(i,f+"move",this._onMouseMove,r),a(i,f+"out",this._onMouseOut),a(i,f+"enter",this._onMouseEnter),a(i,"wheel",this._onMouseWheel),a(i,"contextmenu",this._onContextMenu),a(i,"dblclick",this._onDoubleClick),a(i,"dragover",this._onDragOver),a(i,"dragenter",this._onDragEnter),a(i,"dragleave",this._onDragLeave),a(i,"drop",this._onDrop),this.enablePointerEvents||a(i,"touchstart",this._onTouchStart,r),typeof eventjs!="undefined"&&l in eventjs&&(eventjs[l](i,"gesture",this._onGesture),eventjs[l](i,"drag",this._onDrag),eventjs[l](i,"orientation",this._onOrientationChange),eventjs[l](i,"shake",this._onShake),eventjs[l](i,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(s,"remove");var a=this._getEventPrefix();s(L.document,a+"up",this._onMouseUp),s(L.document,"touchend",this._onTouchEnd,r),s(L.document,a+"move",this._onMouseMove,r),s(L.document,"touchmove",this._onMouseMove,r)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(a,l){this.__onTransformGesture&&this.__onTransformGesture(a,l)},_onDrag:function(a,l){this.__onDrag&&this.__onDrag(a,l)},_onMouseWheel:function(a){this.__onMouseWheel(a)},_onMouseOut:function(a){var l=this._hoveredTarget;this.fire("mouse:out",{target:l,e:a}),this._hoveredTarget=null,l&&l.fire("mouseout",{e:a});var i=this;this._hoveredTargets.forEach(function(f){i.fire("mouse:out",{target:l,e:a}),f&&l.fire("mouseout",{e:a})}),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach(function(f){f.isEditing&&f.hiddenTextarea.focus()})},_onMouseEnter:function(a){!this._currentTransform&&!this.findTarget(a)&&(this.fire("mouse:over",{target:null,e:a}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(a,l){this.__onOrientationChange&&this.__onOrientationChange(a,l)},_onShake:function(a,l){this.__onShake&&this.__onShake(a,l)},_onLongPress:function(a,l){this.__onLongPress&&this.__onLongPress(a,l)},_onDragOver:function(a){a.preventDefault();var l=this._simpleEventHandler("dragover",a);this._fireEnterLeaveEvents(l,a)},_onContextMenu:function(a){return this.stopContextMenu&&(a.stopPropagation(),a.preventDefault()),!1},_onDoubleClick:function(a){this._cacheTransformEventData(a),this._handleEvent(a,"dblclick"),this._resetTransformEventData(a)},getPointerId:function(a){var l=a.changedTouches;return l?l[0]&&l[0].identifier:this.enablePointerEvents?a.pointerId:-1},_isMainEvent:function(a){return a.isPrimary===!0?!0:a.isPrimary===!1?!1:a.type==="touchend"&&a.touches.length===0?!0:a.changedTouches?a.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(a){a.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(a)),this.__onMouseDown(a),this._resetTransformEventData();var l=this.upperCanvasEl,i=this._getEventPrefix();b(L.document,"touchend",this._onTouchEnd,r),b(L.document,"touchmove",this._onMouseMove,r),s(l,i+"down",this._onMouseDown)},_onMouseDown:function(a){this.__onMouseDown(a),this._resetTransformEventData();var l=this.upperCanvasEl,i=this._getEventPrefix();s(l,i+"move",this._onMouseMove,r),b(L.document,i+"up",this._onMouseUp),b(L.document,i+"move",this._onMouseMove,r)},_onTouchEnd:function(a){if(!(a.touches.length>0)){this.__onMouseUp(a),this._resetTransformEventData(),this.mainTouchId=null;var l=this._getEventPrefix();s(L.document,"touchend",this._onTouchEnd,r),s(L.document,"touchmove",this._onMouseMove,r);var i=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){b(i.upperCanvasEl,l+"down",i._onMouseDown),i._willAddMouseDown=0},400)}},_onMouseUp:function(a){this.__onMouseUp(a),this._resetTransformEventData();var l=this.upperCanvasEl,i=this._getEventPrefix();this._isMainEvent(a)&&(s(L.document,i+"up",this._onMouseUp),s(L.document,i+"move",this._onMouseMove,r),b(l,i+"move",this._onMouseMove,r))},_onMouseMove:function(a){!this.allowTouchScrolling&&a.preventDefault&&a.preventDefault(),this.__onMouseMove(a)},_onResize:function(){this.calcOffset()},_shouldRender:function(a){var l=this._activeObject;return!!l!=!!a||l&&a&&l!==a?!0:(l&&l.isEditing,!1)},__onMouseUp:function(a){var l,i=this._currentTransform,f=this._groupSelector,p=!1,v=!f||f.left===0&&f.top===0;if(this._cacheTransformEventData(a),l=this._target,this._handleEvent(a,"up:before"),e(a,h)){this.fireRightClick&&this._handleEvent(a,"up",h,v);return}if(e(a,u)){this.fireMiddleClick&&this._handleEvent(a,"up",u,v),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(a);return}if(!!this._isMainEvent(a)){if(i&&(this._finalizeCurrentTransform(a),p=i.actionPerformed),!v){var C=l===this._activeObject;this._maybeGroupObjects(a),p||(p=this._shouldRender(l)||!C&&l===this._activeObject)}if(l){if(l.selectable&&l!==this._activeObject&&l.activeOn==="up")this.setActiveObject(l,a),p=!0;else{var D=l._findTargetCorner(this.getPointer(a,!0),L.util.isTouchEvent(a)),V=l.controls[D],it=V&&V.getMouseUpHandler(a,l,V);if(it){var Ct=this.getPointer(a);it(a,i,Ct.x,Ct.y)}}l.isMoving=!1}this._setCursorFromEvent(a,l),this._handleEvent(a,"up",o,v),this._groupSelector=null,this._currentTransform=null,l&&(l.__corner=0),p?this.requestRenderAll():v||this.renderTop()}},_simpleEventHandler:function(a,l){var i=this.findTarget(l),f=this.targets,p={e:l,target:i,subTargets:f};if(this.fire(a,p),i&&i.fire(a,p),!f)return i;for(var v=0;v<f.length;v++)f[v].fire(a,p);return i},_handleEvent:function(a,l,i,f){var p=this._target,v=this.targets||[],C={e:a,target:p,subTargets:v,button:i||o,isClick:f||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};l==="up"&&(C.currentTarget=this.findTarget(a),C.currentSubTargets=this.targets),this.fire("mouse:"+l,C),p&&p.fire("mouse"+l,C);for(var D=0;D<v.length;D++)v[D].fire("mouse"+l,C)},_finalizeCurrentTransform:function(a){var l=this._currentTransform,i=l.target,f,p={e:a,target:i,transform:l,action:l.action};i._scaling&&(i._scaling=!1),i.setCoords(),(l.actionPerformed||this.stateful&&i.hasStateChanged())&&(l.actionPerformed&&(f=this._addEventOptions(p,l),this._fire(f,p)),this._fire("modified",p))},_addEventOptions:function(a,l){var i,f;switch(l.action){case"scaleX":i="scaled",f="x";break;case"scaleY":i="scaled",f="y";break;case"skewX":i="skewed",f="x";break;case"skewY":i="skewed",f="y";break;case"scale":i="scaled",f="equally";break;case"rotate":i="rotated";break;case"drag":i="moved";break}return a.by=f,i},_onMouseDownInDrawingMode:function(a){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(a).requestRenderAll();var l=this.getPointer(a);this.freeDrawingBrush.onMouseDown(l,{e:a,pointer:l}),this._handleEvent(a,"down")},_onMouseMoveInDrawingMode:function(a){if(this._isCurrentlyDrawing){var l=this.getPointer(a);this.freeDrawingBrush.onMouseMove(l,{e:a,pointer:l})}this.setCursor(this.freeDrawingCursor),this._handleEvent(a,"move")},_onMouseUpInDrawingMode:function(a){var l=this.getPointer(a);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:a,pointer:l}),this._handleEvent(a,"up")},__onMouseDown:function(a){this._cacheTransformEventData(a),this._handleEvent(a,"down:before");var l=this._target;if(e(a,h)){this.fireRightClick&&this._handleEvent(a,"down",h);return}if(e(a,u)){this.fireMiddleClick&&this._handleEvent(a,"down",u);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(a);return}if(!!this._isMainEvent(a)&&!this._currentTransform){var i=this._pointer;this._previousPointer=i;var f=this._shouldRender(l),p=this._shouldGroup(a,l);if(this._shouldClearSelection(a,l)?this.discardActiveObject(a):p&&(this._handleGrouping(a,l),l=this._activeObject),this.selection&&(!l||!l.selectable&&!l.isEditing&&l!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),l){var v=l===this._activeObject;l.selectable&&l.activeOn==="down"&&this.setActiveObject(l,a);var C=l._findTargetCorner(this.getPointer(a,!0),L.util.isTouchEvent(a));if(l.__corner=C,l===this._activeObject&&(C||!p)){this._setupCurrentTransform(a,l,v);var D=l.controls[C],i=this.getPointer(a),V=D&&D.getMouseDownHandler(a,l,D);V&&V(a,this._currentTransform,i.x,i.y)}}this._handleEvent(a,"down"),(f||p)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(a){this._resetTransformEventData(),this._pointer=this.getPointer(a,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(a)||null},_beforeTransform:function(a){var l=this._currentTransform;this.stateful&&l.target.saveState(),this.fire("before:transform",{e:a,transform:l})},__onMouseMove:function(a){this._handleEvent(a,"move:before"),this._cacheTransformEventData(a);var l,i;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(a);return}if(!!this._isMainEvent(a)){var f=this._groupSelector;f?(i=this._absolutePointer,f.left=i.x-f.ex,f.top=i.y-f.ey,this.renderTop()):this._currentTransform?this._transformObject(a):(l=this.findTarget(a)||null,this._setCursorFromEvent(a,l),this._fireOverOutEvents(l,a)),this._handleEvent(a,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(a,l){var i=this._hoveredTarget,f=this._hoveredTargets,p=this.targets,v=Math.max(f.length,p.length);this.fireSyntheticInOutEvents(a,l,{oldTarget:i,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var C=0;C<v;C++)this.fireSyntheticInOutEvents(p[C],l,{oldTarget:f[C],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=a,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(a,l){var i=this._draggedoverTarget,f=this._hoveredTargets,p=this.targets,v=Math.max(f.length,p.length);this.fireSyntheticInOutEvents(a,l,{oldTarget:i,evtOut:"dragleave",evtIn:"dragenter"});for(var C=0;C<v;C++)this.fireSyntheticInOutEvents(p[C],l,{oldTarget:f[C],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=a},fireSyntheticInOutEvents:function(a,l,i){var f,p,v=i.oldTarget,C,D,V=v!==a,it=i.canvasEvtIn,Ct=i.canvasEvtOut;V&&(f={e:l,target:a,previousTarget:v},p={e:l,target:v,nextTarget:a}),D=a&&V,C=v&&V,C&&(Ct&&this.fire(Ct,p),v.fire(i.evtOut,p)),D&&(it&&this.fire(it,f),a.fire(i.evtIn,f))},__onMouseWheel:function(a){this._cacheTransformEventData(a),this._handleEvent(a,"wheel"),this._resetTransformEventData()},_transformObject:function(a){var l=this.getPointer(a),i=this._currentTransform;i.reset=!1,i.shiftKey=a.shiftKey,i.altKey=a[this.centeredKey],this._performTransformAction(a,i,l),i.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(a,l,i){var f=i.x,p=i.y,v=l.action,C=!1,D=l.actionHandler;D&&(C=D(a,l,f,p)),v==="drag"&&C&&(l.target.isMoving=!0,this.setCursor(l.target.moveCursor||this.moveCursor)),l.actionPerformed=l.actionPerformed||C},_fire:L.controlsUtils.fireEvent,_setCursorFromEvent:function(a,l){if(!l)return this.setCursor(this.defaultCursor),!1;var i=l.hoverCursor||this.hoverCursor,f=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,p=(!f||!f.contains(l))&&l._findTargetCorner(this.getPointer(a,!0));p?this.setCursor(this.getCornerCursor(p,l,a)):(l.subTargetCheck&&this.targets.concat().reverse().map(function(v){i=v.hoverCursor||i}),this.setCursor(i))},getCornerCursor:function(a,l,i){var f=l.controls[a];return f.cursorStyleHandler(i,f,l)}})}(),function(){var b=Math.min,s=Math.max;L.util.object.extend(L.Canvas.prototype,{_shouldGroup:function(u,o){var r=this._activeObject;return r&&this._isSelectionKeyPressed(u)&&o&&o.selectable&&this.selection&&(r!==o||r.type==="activeSelection")&&!o.onSelect({e:u})},_handleGrouping:function(u,o){var r=this._activeObject;r.__corner||o===r&&(o=this.findTarget(u,!0),!o||!o.selectable)||(r&&r.type==="activeSelection"?this._updateActiveSelection(o,u):this._createActiveSelection(o,u))},_updateActiveSelection:function(u,o){var r=this._activeObject,e=r._objects.slice(0);r.contains(u)?(r.removeWithUpdate(u),this._hoveredTarget=u,this._hoveredTargets=this.targets.concat(),r.size()===1&&this._setActiveObject(r.item(0),o)):(r.addWithUpdate(u),this._hoveredTarget=r,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(e,o)},_createActiveSelection:function(u,o){var r=this.getActiveObjects(),e=this._createGroup(u);this._hoveredTarget=e,this._setActiveObject(e,o),this._fireSelectionEvents(r,o)},_createGroup:function(u){var o=this._objects,r=o.indexOf(this._activeObject)<o.indexOf(u),e=r?[this._activeObject,u]:[u,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new L.ActiveSelection(e,{canvas:this})},_groupSelectedObjects:function(u){var o=this._collectObjects(u),r;o.length===1?this.setActiveObject(o[0],u):o.length>1&&(r=new L.ActiveSelection(o.reverse(),{canvas:this}),this.setActiveObject(r,u))},_collectObjects:function(u){for(var o=[],r,e=this._groupSelector.ex,t=this._groupSelector.ey,a=e+this._groupSelector.left,l=t+this._groupSelector.top,i=new L.Point(b(e,a),b(t,l)),f=new L.Point(s(e,a),s(t,l)),p=!this.selectionFullyContained,v=e===a&&t===l,C=this._objects.length;C--&&(r=this._objects[C],!(!(!r||!r.selectable||!r.visible)&&(p&&r.intersectsWithRect(i,f,!0)||r.isContainedWithinRect(i,f,!0)||p&&r.containsPoint(i,null,!0)||p&&r.containsPoint(f,null,!0))&&(o.push(r),v))););return o.length>1&&(o=o.filter(function(D){return!D.onSelect({e:u})})),o},_maybeGroupObjects:function(u){this.selection&&this._groupSelector&&this._groupSelectedObjects(u),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){L.util.object.extend(L.StaticCanvas.prototype,{toDataURL:function(s){s||(s={});var h=s.format||"png",u=s.quality||1,o=(s.multiplier||1)*(s.enableRetinaScaling?this.getRetinaScaling():1),r=this.toCanvasElement(o,s);return L.util.toDataURL(r,h,u)},toCanvasElement:function(s,h){s=s||1,h=h||{};var u=(h.width||this.width)*s,o=(h.height||this.height)*s,r=this.getZoom(),e=this.width,t=this.height,a=r*s,l=this.viewportTransform,i=(l[4]-(h.left||0))*s,f=(l[5]-(h.top||0))*s,p=this.interactive,v=[a,0,0,a,i,f],C=this.enableRetinaScaling,D=L.util.createCanvasElement(),V=this.contextTop;return D.width=u,D.height=o,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=v,this.width=u,this.height=o,this.calcViewportBoundaries(),this.renderCanvas(D.getContext("2d"),this._objects),this.viewportTransform=l,this.width=e,this.height=t,this.calcViewportBoundaries(),this.interactive=p,this.enableRetinaScaling=C,this.contextTop=V,D}})}(),L.util.object.extend(L.StaticCanvas.prototype,{loadFromJSON:function(s,h,u){if(!!s){var o=typeof s=="string"?JSON.parse(s):L.util.object.clone(s),r=this,e=o.clipPath,t=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete o.clipPath,this._enlivenObjects(o.objects,function(a){r.clear(),r._setBgOverlay(o,function(){e?r._enlivenObjects([e],function(l){r.clipPath=l[0],r.__setupCanvas.call(r,o,a,t,h)}):r.__setupCanvas.call(r,o,a,t,h)})},u),this}},__setupCanvas:function(s,h,u,o){var r=this;h.forEach(function(e,t){r.insertAt(e,t)}),this.renderOnAddRemove=u,delete s.objects,delete s.backgroundImage,delete s.overlayImage,delete s.background,delete s.overlay,this._setOptions(s),this.renderAll(),o&&o()},_setBgOverlay:function(s,h){var u={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!s.backgroundImage&&!s.overlayImage&&!s.background&&!s.overlay){h&&h();return}var o=function(){u.backgroundImage&&u.overlayImage&&u.backgroundColor&&u.overlayColor&&h&&h()};this.__setBgOverlay("backgroundImage",s.backgroundImage,u,o),this.__setBgOverlay("overlayImage",s.overlayImage,u,o),this.__setBgOverlay("backgroundColor",s.background,u,o),this.__setBgOverlay("overlayColor",s.overlay,u,o)},__setBgOverlay:function(s,h,u,o){var r=this;if(!h){u[s]=!0,o&&o();return}s==="backgroundImage"||s==="overlayImage"?L.util.enlivenObjects([h],function(e){r[s]=e[0],u[s]=!0,o&&o()}):this["set"+L.util.string.capitalize(s,!0)](h,function(){u[s]=!0,o&&o()})},_enlivenObjects:function(s,h,u){if(!s||s.length===0){h&&h([]);return}L.util.enlivenObjects(s,function(o){h&&h(o)},null,u)},_toDataURL:function(s,h){this.clone(function(u){h(u.toDataURL(s))})},_toDataURLWithMultiplier:function(s,h,u){this.clone(function(o){u(o.toDataURLWithMultiplier(s,h))})},clone:function(s,h){var u=JSON.stringify(this.toJSON(h));this.cloneWithoutData(function(o){o.loadFromJSON(u,function(){s&&s(o)})})},cloneWithoutData:function(s){var h=L.util.createCanvasElement();h.width=this.width,h.height=this.height;var u=new L.Canvas(h);this.backgroundImage?(u.setBackgroundImage(this.backgroundImage.src,function(){u.renderAll(),s&&s(u)}),u.backgroundImageOpacity=this.backgroundImageOpacity,u.backgroundImageStretch=this.backgroundImageStretch):s&&s(u)}}),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.object.extend,u=s.util.object.clone,o=s.util.toFixed,r=s.util.string.capitalize,e=s.util.degreesToRadians,t=!s.isLikelyNode,a=2;s.Object||(s.Object=s.util.createClass(s.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:t,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(i){i&&this.setOptions(i)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=s.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(i){var f=s.perfLimitSizeTotal,p=i.width,v=i.height,C=s.maxCacheSideLimit,D=s.minCacheSideLimit;if(p<=C&&v<=C&&p*v<=f)return p<D&&(i.width=D),v<D&&(i.height=D),i;var V=p/v,it=s.util.limitDimsByArea(V,f),Ct=s.util.capValue,Dt=Ct(D,it.x,C),Ut=Ct(D,it.y,C);return p>Dt&&(i.zoomX/=p/Dt,i.width=Dt,i.capped=!0),v>Ut&&(i.zoomY/=v/Ut,i.height=Ut,i.capped=!0),i},_getCacheCanvasDimensions:function(){var i=this.getTotalObjectScaling(),f=this._getTransformedDimensions(0,0),p=f.x*i.scaleX/this.scaleX,v=f.y*i.scaleY/this.scaleY;return{width:p+a,height:v+a,zoomX:i.scaleX,zoomY:i.scaleY,x:p,y:v}},_updateCacheCanvas:function(){var i=this.canvas;if(this.noScaleCache&&i&&i._currentTransform){var f=i._currentTransform.target,p=i._currentTransform.action;if(this===f&&p.slice&&p.slice(0,5)==="scale")return!1}var v=this._cacheCanvas,C=this._limitCacheSize(this._getCacheCanvasDimensions()),D=s.minCacheSideLimit,V=C.width,it=C.height,Ct,Dt,Ut=C.zoomX,pe=C.zoomY,Ee=V!==this.cacheWidth||it!==this.cacheHeight,At=this.zoomX!==Ut||this.zoomY!==pe,Gt=Ee||At,Z=0,_e=0,er=!1;if(Ee){var tt=this._cacheCanvas.width,te=this._cacheCanvas.height,Y=V>tt||it>te,lt=(V<tt*.9||it<te*.9)&&tt>D&&te>D;er=Y||lt,Y&&!C.capped&&(V>D||it>D)&&(Z=V*.1,_e=it*.1)}return this instanceof s.Text&&this.path&&(Gt=!0,er=!0,Z+=this.getHeightOfLine(0)*this.zoomX,_e+=this.getHeightOfLine(0)*this.zoomY),Gt?(er?(v.width=Math.ceil(V+Z),v.height=Math.ceil(it+_e)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,v.width,v.height)),Ct=C.x/2,Dt=C.y/2,this.cacheTranslationX=Math.round(v.width/2-Ct)+Ct,this.cacheTranslationY=Math.round(v.height/2-Dt)+Dt,this.cacheWidth=V,this.cacheHeight=it,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(Ut,pe),this.zoomX=Ut,this.zoomY=pe,!0):!1},setOptions:function(i){this._setOptions(i),this._initGradient(i.fill,"fill"),this._initGradient(i.stroke,"stroke"),this._initPattern(i.fill,"fill"),this._initPattern(i.stroke,"stroke")},transform:function(i){var f=this.group&&!this.group._transformDone||this.group&&this.canvas&&i===this.canvas.contextTop,p=this.calcTransformMatrix(!f);i.transform(p[0],p[1],p[2],p[3],p[4],p[5])},toObject:function(i){var f=s.Object.NUM_FRACTION_DIGITS,p={type:this.type,version:s.version,originX:this.originX,originY:this.originY,left:o(this.left,f),top:o(this.top,f),width:o(this.width,f),height:o(this.height,f),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:o(this.strokeWidth,f),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:o(this.strokeMiterLimit,f),scaleX:o(this.scaleX,f),scaleY:o(this.scaleY,f),angle:o(this.angle,f),flipX:this.flipX,flipY:this.flipY,opacity:o(this.opacity,f),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:o(this.skewX,f),skewY:o(this.skewY,f)};return this.clipPath&&!this.clipPath.excludeFromExport&&(p.clipPath=this.clipPath.toObject(i),p.clipPath.inverted=this.clipPath.inverted,p.clipPath.absolutePositioned=this.clipPath.absolutePositioned),s.util.populateWithProperties(this,p,i),this.includeDefaultValues||(p=this._removeDefaultValues(p)),p},toDatalessObject:function(i){return this.toObject(i)},_removeDefaultValues:function(i){var f=s.util.getKlass(i.type).prototype,p=f.stateProperties;return p.forEach(function(v){if(!(v==="left"||v==="top")){i[v]===f[v]&&delete i[v];var C=Object.prototype.toString.call(i[v])==="[object Array]"&&Object.prototype.toString.call(f[v])==="[object Array]";C&&i[v].length===0&&f[v].length===0&&delete i[v]}}),i},toString:function(){return"#<fabric."+r(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var i=s.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(i.scaleX),scaleY:Math.abs(i.scaleY)}},getTotalObjectScaling:function(){var i=this.getObjectScaling(),f=i.scaleX,p=i.scaleY;if(this.canvas){var v=this.canvas.getZoom(),C=this.canvas.getRetinaScaling();f*=v*C,p*=v*C}return{scaleX:f,scaleY:p}},getObjectOpacity:function(){var i=this.opacity;return this.group&&(i*=this.group.getObjectOpacity()),i},_set:function(i,f){var p=i==="scaleX"||i==="scaleY",v=this[i]!==f,C=!1;return p&&(f=this._constrainScale(f)),i==="scaleX"&&f<0?(this.flipX=!this.flipX,f*=-1):i==="scaleY"&&f<0?(this.flipY=!this.flipY,f*=-1):i==="shadow"&&f&&!(f instanceof s.Shadow)?f=new s.Shadow(f):i==="dirty"&&this.group&&this.group.set("dirty",f),this[i]=f,v&&(C=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(i)>-1?(this.dirty=!0,C&&this.group.set("dirty",!0)):C&&this.stateProperties.indexOf(i)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:s.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(i){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(i.save(),this._setupCompositeOperation(i),this.drawSelectionBackground(i),this.transform(i),this._setOpacity(i),this._setShadow(i,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(i)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(i),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),i.restore())},renderCache:function(i){i=i||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,i.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(i){var f=this.clipPath;if(i.save(),f.inverted?i.globalCompositeOperation="destination-out":i.globalCompositeOperation="destination-in",f.absolutePositioned){var p=s.util.invertTransform(this.calcTransformMatrix());i.transform(p[0],p[1],p[2],p[3],p[4],p[5])}f.transform(i),i.scale(1/f.zoomX,1/f.zoomY),i.drawImage(f._cacheCanvas,-f.cacheTranslationX,-f.cacheTranslationY),i.restore()},drawObject:function(i,f){var p=this.fill,v=this.stroke;f?(this.fill="black",this.stroke="",this._setClippingProperties(i)):this._renderBackground(i),this._render(i),this._drawClipPath(i),this.fill=p,this.stroke=v},_drawClipPath:function(i){var f=this.clipPath;!f||(f.canvas=this.canvas,f.shouldCache(),f._transformDone=!0,f.renderCache({forClipping:!0}),this.drawClipPathOnCache(i))},drawCacheOnCanvas:function(i){i.scale(1/this.zoomX,1/this.zoomY),i.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(i){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!i&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!i){var f=this.cacheWidth/this.zoomX,p=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-f/2,-p/2,f,p)}return!0}return!1},_renderBackground:function(i){if(!!this.backgroundColor){var f=this._getNonTransformedDimensions();i.fillStyle=this.backgroundColor,i.fillRect(-f.x/2,-f.y/2,f.x,f.y),this._removeShadow(i)}},_setOpacity:function(i){this.group&&!this.group._transformDone?i.globalAlpha=this.getObjectOpacity():i.globalAlpha*=this.opacity},_setStrokeStyles:function(i,f){var p=f.stroke;p&&(i.lineWidth=f.strokeWidth,i.lineCap=f.strokeLineCap,i.lineDashOffset=f.strokeDashOffset,i.lineJoin=f.strokeLineJoin,i.miterLimit=f.strokeMiterLimit,p.toLive?p.gradientUnits==="percentage"||p.gradientTransform||p.patternTransform?this._applyPatternForTransformedGradient(i,p):(i.strokeStyle=p.toLive(i,this),this._applyPatternGradientTransform(i,p)):i.strokeStyle=f.stroke)},_setFillStyles:function(i,f){var p=f.fill;p&&(p.toLive?(i.fillStyle=p.toLive(i,this),this._applyPatternGradientTransform(i,f.fill)):i.fillStyle=p)},_setClippingProperties:function(i){i.globalAlpha=1,i.strokeStyle="transparent",i.fillStyle="#000000"},_setLineDash:function(i,f){!f||f.length===0||(1&f.length&&f.push.apply(f,f),i.setLineDash(f))},_renderControls:function(i,f){var p=this.getViewportTransform(),v=this.calcTransformMatrix(),C,D,V;f=f||{},D=typeof f.hasBorders!="undefined"?f.hasBorders:this.hasBorders,V=typeof f.hasControls!="undefined"?f.hasControls:this.hasControls,v=s.util.multiplyTransformMatrices(p,v),C=s.util.qrDecompose(v),i.save(),i.translate(C.translateX,C.translateY),i.lineWidth=1*this.borderScaleFactor,this.group||(i.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),i.rotate(e(C.angle)),f.forActiveSelection||this.group?D&&this.drawBordersInGroup(i,C,f):D&&this.drawBorders(i,f),V&&this.drawControls(i,f),i.restore()},_setShadow:function(i){if(!!this.shadow){var f=this.shadow,p=this.canvas,v,C=p&&p.viewportTransform[0]||1,D=p&&p.viewportTransform[3]||1;f.nonScaling?v={scaleX:1,scaleY:1}:v=this.getObjectScaling(),p&&p._isRetinaScaling()&&(C*=s.devicePixelRatio,D*=s.devicePixelRatio),i.shadowColor=f.color,i.shadowBlur=f.blur*s.browserShadowBlurConstant*(C+D)*(v.scaleX+v.scaleY)/4,i.shadowOffsetX=f.offsetX*C*v.scaleX,i.shadowOffsetY=f.offsetY*D*v.scaleY}},_removeShadow:function(i){!this.shadow||(i.shadowColor="",i.shadowBlur=i.shadowOffsetX=i.shadowOffsetY=0)},_applyPatternGradientTransform:function(i,f){if(!f||!f.toLive)return{offsetX:0,offsetY:0};var p=f.gradientTransform||f.patternTransform,v=-this.width/2+f.offsetX||0,C=-this.height/2+f.offsetY||0;return f.gradientUnits==="percentage"?i.transform(this.width,0,0,this.height,v,C):i.transform(1,0,0,1,v,C),p&&i.transform(p[0],p[1],p[2],p[3],p[4],p[5]),{offsetX:v,offsetY:C}},_renderPaintInOrder:function(i){this.paintFirst==="stroke"?(this._renderStroke(i),this._renderFill(i)):(this._renderFill(i),this._renderStroke(i))},_render:function(){},_renderFill:function(i){!this.fill||(i.save(),this._setFillStyles(i,this),this.fillRule==="evenodd"?i.fill("evenodd"):i.fill(),i.restore())},_renderStroke:function(i){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(i),i.save(),this.strokeUniform&&this.group){var f=this.getObjectScaling();i.scale(1/f.scaleX,1/f.scaleY)}else this.strokeUniform&&i.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(i,this.strokeDashArray),this._setStrokeStyles(i,this),i.stroke(),i.restore()}},_applyPatternForTransformedGradient:function(i,f){var p=this._limitCacheSize(this._getCacheCanvasDimensions()),v=s.util.createCanvasElement(),C,D=this.canvas.getRetinaScaling(),V=p.x/this.scaleX/D,it=p.y/this.scaleY/D;v.width=V,v.height=it,C=v.getContext("2d"),C.beginPath(),C.moveTo(0,0),C.lineTo(V,0),C.lineTo(V,it),C.lineTo(0,it),C.closePath(),C.translate(V/2,it/2),C.scale(p.zoomX/this.scaleX/D,p.zoomY/this.scaleY/D),this._applyPatternGradientTransform(C,f),C.fillStyle=f.toLive(i),C.fill(),i.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),i.scale(D*this.scaleX/p.zoomX,D*this.scaleY/p.zoomY),i.strokeStyle=C.createPattern(v,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var i=s.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",i.scaleX),this.set("scaleY",i.scaleY),this.angle=i.angle,this.skewX=i.skewX,this.skewY=0}},_removeTransformMatrix:function(i){var f=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),f=s.util.transformPoint(f,this.transformMatrix)),this.transformMatrix=null,i&&(this.scaleX*=i.scaleX,this.scaleY*=i.scaleY,this.cropX=i.cropX,this.cropY=i.cropY,f.x+=i.offsetLeft,f.y+=i.offsetTop,this.width=i.width,this.height=i.height),this.setPositionByOrigin(f,"center","center")},clone:function(i,f){var p=this.toObject(f);this.constructor.fromObject?this.constructor.fromObject(p,i):s.Object._fromObject("Object",p,i)},cloneAsImage:function(i,f){var p=this.toCanvasElement(f);return i&&i(new s.Image(p)),this},toCanvasElement:function(i){i||(i={});var f=s.util,p=f.saveObjectTransform(this),v=this.group,C=this.shadow,D=Math.abs,V=(i.multiplier||1)*(i.enableRetinaScaling?s.devicePixelRatio:1);delete this.group,i.withoutTransform&&f.resetObjectTransform(this),i.withoutShadow&&(this.shadow=null);var it=s.util.createCanvasElement(),Ct=this.getBoundingRect(!0,!0),Dt=this.shadow,Ut,pe={x:0,y:0},Ee,At,Gt;Dt&&(Ee=Dt.blur,Dt.nonScaling?Ut={scaleX:1,scaleY:1}:Ut=this.getObjectScaling(),pe.x=2*Math.round(D(Dt.offsetX)+Ee)*D(Ut.scaleX),pe.y=2*Math.round(D(Dt.offsetY)+Ee)*D(Ut.scaleY)),At=Ct.width+pe.x,Gt=Ct.height+pe.y,it.width=Math.ceil(At),it.height=Math.ceil(Gt);var Z=new s.StaticCanvas(it,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});i.format==="jpeg"&&(Z.backgroundColor="#fff"),this.setPositionByOrigin(new s.Point(Z.width/2,Z.height/2),"center","center");var _e=this.canvas;Z.add(this);var er=Z.toCanvasElement(V||1,i);return this.shadow=C,this.set("canvas",_e),v&&(this.group=v),this.set(p).setCoords(),Z._objects=[],Z.dispose(),Z=null,er},toDataURL:function(i){return i||(i={}),s.util.toDataURL(this.toCanvasElement(i),i.format||"png",i.quality||1)},isType:function(i){return this.type===i},complexity:function(){return 1},toJSON:function(i){return this.toObject(i)},rotate:function(i){var f=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return f&&this._setOriginToCenter(),this.set("angle",i),f&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(i,f){f=f||this.canvas.getPointer(i);var p=new s.Point(f.x,f.y),v=this._getLeftTopCoords();return this.angle&&(p=s.util.rotatePoint(p,v,e(-this.angle))),{x:p.x-v.x,y:p.y-v.y}},_setupCompositeOperation:function(i){this.globalCompositeOperation&&(i.globalCompositeOperation=this.globalCompositeOperation)}}),s.util.createAccessors&&s.util.createAccessors(s.Object),h(s.Object.prototype,s.Observable),s.Object.NUM_FRACTION_DIGITS=2,s.Object._fromObject=function(l,i,f,p){var v=s[l];i=u(i,!0),s.util.enlivenPatterns([i.fill,i.stroke],function(C){typeof C[0]!="undefined"&&(i.fill=C[0]),typeof C[1]!="undefined"&&(i.stroke=C[1]),s.util.enlivenObjects([i.clipPath],function(D){i.clipPath=D[0];var V=p?new v(i[p],i):new v(i);f&&f(V)})})},s.Object.__uid=0)}(wr),function(){var b=L.util.degreesToRadians,s={left:-.5,center:0,right:.5},h={top:-.5,center:0,bottom:.5};L.util.object.extend(L.Object.prototype,{translateToGivenOrigin:function(o,r,e,t,a){var l=o.x,i=o.y,f,p,v;return typeof r=="string"?r=s[r]:r-=.5,typeof t=="string"?t=s[t]:t-=.5,f=t-r,typeof e=="string"?e=h[e]:e-=.5,typeof a=="string"?a=h[a]:a-=.5,p=a-e,(f||p)&&(v=this._getTransformedDimensions(),l=o.x+f*v.x,i=o.y+p*v.y),new L.Point(l,i)},translateToCenterPoint:function(o,r,e){var t=this.translateToGivenOrigin(o,r,e,"center","center");return this.angle?L.util.rotatePoint(t,o,b(this.angle)):t},translateToOriginPoint:function(o,r,e){var t=this.translateToGivenOrigin(o,"center","center",r,e);return this.angle?L.util.rotatePoint(t,o,b(this.angle)):t},getCenterPoint:function(){var o=new L.Point(this.left,this.top);return this.translateToCenterPoint(o,this.originX,this.originY)},getPointByOrigin:function(o,r){var e=this.getCenterPoint();return this.translateToOriginPoint(e,o,r)},toLocalPoint:function(o,r,e){var t=this.getCenterPoint(),a,l;return typeof r!="undefined"&&typeof e!="undefined"?a=this.translateToGivenOrigin(t,"center","center",r,e):a=new L.Point(this.left,this.top),l=new L.Point(o.x,o.y),this.angle&&(l=L.util.rotatePoint(l,t,-b(this.angle))),l.subtractEquals(a)},setPositionByOrigin:function(o,r,e){var t=this.translateToCenterPoint(o,r,e),a=this.translateToOriginPoint(t,this.originX,this.originY);this.set("left",a.x),this.set("top",a.y)},adjustPosition:function(o){var r=b(this.angle),e=this.getScaledWidth(),t=L.util.cos(r)*e,a=L.util.sin(r)*e,l,i;typeof this.originX=="string"?l=s[this.originX]:l=this.originX-.5,typeof o=="string"?i=s[o]:i=o-.5,this.left+=t*(i-l),this.top+=a*(i-l),this.setCoords(),this.originX=o},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var o=this.getCenterPoint();this.originX="center",this.originY="center",this.left=o.x,this.top=o.y},_resetOrigin:function(){var o=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=o.x,this.top=o.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function b(r){return[new L.Point(r.tl.x,r.tl.y),new L.Point(r.tr.x,r.tr.y),new L.Point(r.br.x,r.br.y),new L.Point(r.bl.x,r.bl.y)]}var s=L.util,h=s.degreesToRadians,u=s.multiplyTransformMatrices,o=s.transformPoint;s.object.extend(L.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(e,t){return t?e?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),e?this.aCoords:this.lineCoords)},getCoords:function(e,t){return b(this._getCoords(e,t))},intersectsWithRect:function(e,t,a,l){var i=this.getCoords(a,l),f=L.Intersection.intersectPolygonRectangle(i,e,t);return f.status==="Intersection"},intersectsWithObject:function(e,t,a){var l=L.Intersection.intersectPolygonPolygon(this.getCoords(t,a),e.getCoords(t,a));return l.status==="Intersection"||e.isContainedWithinObject(this,t,a)||this.isContainedWithinObject(e,t,a)},isContainedWithinObject:function(e,t,a){for(var l=this.getCoords(t,a),i=t?e.aCoords:e.lineCoords,f=0,p=e._getImageLines(i);f<4;f++)if(!e.containsPoint(l[f],p))return!1;return!0},isContainedWithinRect:function(e,t,a,l){var i=this.getBoundingRect(a,l);return i.left>=e.x&&i.left+i.width<=t.x&&i.top>=e.y&&i.top+i.height<=t.y},containsPoint:function(e,t,a,l){var i=this._getCoords(a,l),t=t||this._getImageLines(i),f=this._findCrossPoints(e,t);return f!==0&&f%2==1},isOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,a=this.canvas.vptCoords.br,l=this.getCoords(!0,e);return l.some(function(i){return i.x<=a.x&&i.x>=t.x&&i.y<=a.y&&i.y>=t.y})||this.intersectsWithRect(t,a,!0,e)?!0:this._containsCenterOfCanvas(t,a,e)},_containsCenterOfCanvas:function(e,t,a){var l={x:(e.x+t.x)/2,y:(e.y+t.y)/2};return!!this.containsPoint(l,null,!0,a)},isPartiallyOnScreen:function(e){if(!this.canvas)return!1;var t=this.canvas.vptCoords.tl,a=this.canvas.vptCoords.br;if(this.intersectsWithRect(t,a,!0,e))return!0;var l=this.getCoords(!0,e).every(function(i){return(i.x>=a.x||i.x<=t.x)&&(i.y>=a.y||i.y<=t.y)});return l&&this._containsCenterOfCanvas(t,a,e)},_getImageLines:function(e){var t={topline:{o:e.tl,d:e.tr},rightline:{o:e.tr,d:e.br},bottomline:{o:e.br,d:e.bl},leftline:{o:e.bl,d:e.tl}};return t},_findCrossPoints:function(e,t){var a,l,i,f,p,v=0,C;for(var D in t)if(C=t[D],!(C.o.y<e.y&&C.d.y<e.y)&&!(C.o.y>=e.y&&C.d.y>=e.y)&&(C.o.x===C.d.x&&C.o.x>=e.x?p=C.o.x:(a=0,l=(C.d.y-C.o.y)/(C.d.x-C.o.x),i=e.y-a*e.x,f=C.o.y-l*C.o.x,p=-(i-f)/(a-l)),p>=e.x&&(v+=1),v===2))break;return v},getBoundingRect:function(e,t){var a=this.getCoords(e,t);return s.makeBoundingBoxFromPoints(a)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e},scale:function(e){return this._set("scaleX",e),this._set("scaleY",e),this.setCoords()},scaleToWidth:function(e,t){var a=this.getBoundingRect(t).width/this.getScaledWidth();return this.scale(e/this.width/a)},scaleToHeight:function(e,t){var a=this.getBoundingRect(t).height/this.getScaledHeight();return this.scale(e/this.height/a)},calcCoords:function(e){return e?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var e=this.getViewportTransform(),t=this.padding,a=h(this.angle),l=s.cos(a),i=s.sin(a),f=l*t,p=i*t,v=f+p,C=f-p,D=this.calcACoords(),V={tl:o(D.tl,e),tr:o(D.tr,e),bl:o(D.bl,e),br:o(D.br,e)};return t&&(V.tl.x-=C,V.tl.y-=v,V.tr.x+=v,V.tr.y-=C,V.bl.x-=v,V.bl.y+=C,V.br.x+=C,V.br.y+=v),V},calcOCoords:function(){var e=this._calcRotateMatrix(),t=this._calcTranslateMatrix(),a=this.getViewportTransform(),l=u(a,t),i=u(l,e),i=u(i,[1/a[0],0,0,1/a[3],0,0]),f=this._calculateCurrentDimensions(),p={};return this.forEachControl(function(v,C,D){p[C]=v.positionHandler(f,i,D)}),p},calcACoords:function(){var e=this._calcRotateMatrix(),t=this._calcTranslateMatrix(),a=u(t,e),l=this._getTransformedDimensions(),i=l.x/2,f=l.y/2;return{tl:o({x:-i,y:-f},a),tr:o({x:i,y:-f},a),bl:o({x:-i,y:f},a),br:o({x:i,y:f},a)}},setCoords:function(e){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),e?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return s.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var e=this.getCenterPoint();return[1,0,0,1,e.x,e.y]},transformMatrixKey:function(e){var t="_",a="";return!e&&this.group&&(a=this.group.transformMatrixKey(e)+t),a+this.top+t+this.left+t+this.scaleX+t+this.scaleY+t+this.skewX+t+this.skewY+t+this.angle+t+this.originX+t+this.originY+t+this.width+t+this.height+t+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(e){var t=this.calcOwnMatrix();if(e||!this.group)return t;var a=this.transformMatrixKey(e),l=this.matrixCache||(this.matrixCache={});return l.key===a?l.value:(this.group&&(t=u(this.group.calcTransformMatrix(!1),t)),l.key=a,l.value=t,t)},calcOwnMatrix:function(){var e=this.transformMatrixKey(!0),t=this.ownMatrixCache||(this.ownMatrixCache={});if(t.key===e)return t.value;var a=this._calcTranslateMatrix(),l={angle:this.angle,translateX:a[4],translateY:a[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return t.key=e,t.value=s.composeMatrix(l),t.value},_calcDimensionsTransformMatrix:function(e,t,a){return s.calcDimensionsMatrix({skewX:e,skewY:t,scaleX:this.scaleX*(a&&this.flipX?-1:1),scaleY:this.scaleY*(a&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var e=this.strokeWidth,t=this.width+e,a=this.height+e;return{x:t,y:a}},_getTransformedDimensions:function(e,t){typeof e=="undefined"&&(e=this.skewX),typeof t=="undefined"&&(t=this.skewY);var a,l,i,f=e===0&&t===0;if(this.strokeUniform?(l=this.width,i=this.height):(a=this._getNonTransformedDimensions(),l=a.x,i=a.y),f)return this._finalizeDimensions(l*this.scaleX,i*this.scaleY);var p=s.sizeAfterTransform(l,i,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:e,skewY:t});return this._finalizeDimensions(p.x,p.y)},_finalizeDimensions:function(e,t){return this.strokeUniform?{x:e+this.strokeWidth,y:t+this.strokeWidth}:{x:e,y:t}},_calculateCurrentDimensions:function(){var e=this.getViewportTransform(),t=this._getTransformedDimensions(),a=o(t,e,!0);return a.scalarAdd(2*this.padding)}})}(),L.util.object.extend(L.Object.prototype,{sendToBack:function(){return this.group?L.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?L.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(s){return this.group?L.StaticCanvas.prototype.sendBackwards.call(this.group,this,s):this.canvas&&this.canvas.sendBackwards(this,s),this},bringForward:function(s){return this.group?L.StaticCanvas.prototype.bringForward.call(this.group,this,s):this.canvas&&this.canvas.bringForward(this,s),this},moveTo:function(s){return this.group&&this.group.type!=="activeSelection"?L.StaticCanvas.prototype.moveTo.call(this.group,this,s):this.canvas&&this.canvas.moveTo(this,s),this}}),function(){function b(h,u){if(u){if(u.toLive)return h+": url(#SVGID_"+u.id+"); ";var o=new L.Color(u),r=h+": "+o.toRgb()+"; ",e=o.getAlpha();return e!==1&&(r+=h+"-opacity: "+e.toString()+"; "),r}else return h+": none; "}var s=L.util.toFixed;L.util.object.extend(L.Object.prototype,{getSvgStyles:function(u){var o=this.fillRule?this.fillRule:"nonzero",r=this.strokeWidth?this.strokeWidth:"0",e=this.strokeDashArray?this.strokeDashArray.join(" "):"none",t=this.strokeDashOffset?this.strokeDashOffset:"0",a=this.strokeLineCap?this.strokeLineCap:"butt",l=this.strokeLineJoin?this.strokeLineJoin:"miter",i=this.strokeMiterLimit?this.strokeMiterLimit:"4",f=typeof this.opacity!="undefined"?this.opacity:"1",p=this.visible?"":" visibility: hidden;",v=u?"":this.getSvgFilter(),C=b("fill",this.fill),D=b("stroke",this.stroke);return[D,"stroke-width: ",r,"; ","stroke-dasharray: ",e,"; ","stroke-linecap: ",a,"; ","stroke-dashoffset: ",t,"; ","stroke-linejoin: ",l,"; ","stroke-miterlimit: ",i,"; ",C,"fill-rule: ",o,"; ","opacity: ",f,";",v,p].join("")},getSvgSpanStyles:function(u,o){var r="; ",e=u.fontFamily?"font-family: "+(u.fontFamily.indexOf("'")===-1&&u.fontFamily.indexOf('"')===-1?"'"+u.fontFamily+"'":u.fontFamily)+r:"",t=u.strokeWidth?"stroke-width: "+u.strokeWidth+r:"",e=e,a=u.fontSize?"font-size: "+u.fontSize+"px"+r:"",l=u.fontStyle?"font-style: "+u.fontStyle+r:"",i=u.fontWeight?"font-weight: "+u.fontWeight+r:"",f=u.fill?b("fill",u.fill):"",p=u.stroke?b("stroke",u.stroke):"",v=this.getSvgTextDecoration(u),C=u.deltaY?"baseline-shift: "+-u.deltaY+"; ":"";return v&&(v="text-decoration: "+v+r),[p,t,e,a,l,i,v,f,C,o?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(u){return["overline","underline","line-through"].filter(function(o){return u[o.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(u,o){var r=u?this.calcTransformMatrix():this.calcOwnMatrix(),e='transform="'+L.util.matrixToSVG(r);return e+(o||"")+'" '},_setSVGBg:function(u){if(this.backgroundColor){var o=L.Object.NUM_FRACTION_DIGITS;u.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',s(-this.width/2,o),'" y="',s(-this.height/2,o),'" width="',s(this.width,o),'" height="',s(this.height,o),`"></rect>
`)}},toSVG:function(u){return this._createBaseSVGMarkup(this._toSVG(u),{reviver:u})},toClipPathSVG:function(u){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(u),{reviver:u})},_createBaseClipPathSVGMarkup:function(u,o){o=o||{};var r=o.reviver,e=o.additionalTransform||"",t=[this.getSvgTransform(!0,e),this.getSvgCommons()].join(""),a=u.indexOf("COMMON_PARTS");return u[a]=t,r?r(u.join("")):u.join("")},_createBaseSVGMarkup:function(u,o){o=o||{};var r=o.noStyle,e=o.reviver,t=r?"":'style="'+this.getSvgStyles()+'" ',a=o.withShadow?'style="'+this.getSvgFilter()+'" ':"",l=this.clipPath,i=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",f=l&&l.absolutePositioned,p=this.stroke,v=this.fill,C=this.shadow,D,V=[],it,Ct=u.indexOf("COMMON_PARTS"),Dt=o.additionalTransform;return l&&(l.clipPathId="CLIPPATH_"+L.Object.__uid++,it='<clipPath id="'+l.clipPathId+`" >
`+l.toClipPathSVG(e)+`</clipPath>
`),f&&V.push("<g ",a,this.getSvgCommons(),` >
`),V.push("<g ",this.getSvgTransform(!1),f?"":a+this.getSvgCommons(),` >
`),D=[t,i,r?"":this.addPaintOrder()," ",Dt?'transform="'+Dt+'" ':""].join(""),u[Ct]=D,v&&v.toLive&&V.push(v.toSVG(this)),p&&p.toLive&&V.push(p.toSVG(this)),C&&V.push(C.toSVG(this)),l&&V.push(it),V.push(u.join("")),V.push(`</g>
`),f&&V.push(`</g>
`),e?e(V.join("")):V.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var b=L.util.object.extend,s="stateProperties";function h(o,r,e){var t={},a=!0;e.forEach(function(l){t[l]=o[l]}),b(o[r],t,a)}function u(o,r,e){if(o===r)return!0;if(Array.isArray(o)){if(!Array.isArray(r)||o.length!==r.length)return!1;for(var t=0,a=o.length;t<a;t++)if(!u(o[t],r[t]))return!1;return!0}else if(o&&typeof o=="object"){var l=Object.keys(o),i;if(!r||typeof r!="object"||!e&&l.length!==Object.keys(r).length)return!1;for(var t=0,a=l.length;t<a;t++)if(i=l[t],!(i==="canvas"||i==="group")&&!u(o[i],r[i]))return!1;return!0}}L.util.object.extend(L.Object.prototype,{hasStateChanged:function(r){r=r||s;var e="_"+r;return Object.keys(this[e]).length<this[r].length?!0:!u(this[e],this,!0)},saveState:function(r){var e=r&&r.propertySet||s,t="_"+e;return this[t]?(h(this,t,this[e]),r&&r.stateProperties&&h(this,t,r.stateProperties),this):this.setupState(r)},setupState:function(r){r=r||{};var e=r.propertySet||s;return r.propertySet=e,this["_"+e]={},this.saveState(r),this}})}(),function(){var b=L.util.degreesToRadians;L.util.object.extend(L.Object.prototype,{_findTargetCorner:function(h,u){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var o=h.x,r=h.y,e,t,a=Object.keys(this.oCoords),l=a.length-1,i;for(this.__corner=0;l>=0;l--)if(i=a[l],!!this.isControlVisible(i)&&(t=this._getImageLines(u?this.oCoords[i].touchCorner:this.oCoords[i].corner),e=this._findCrossPoints({x:o,y:r},t),e!==0&&e%2==1))return this.__corner=i,i;return!1},forEachControl:function(h){for(var u in this.controls)h(this.controls[u],u,this)},_setCornerCoords:function(){var h=this.oCoords;for(var u in h){var o=this.controls[u];h[u].corner=o.calcCornerCoords(this.angle,this.cornerSize,h[u].x,h[u].y,!1),h[u].touchCorner=o.calcCornerCoords(this.angle,this.touchCornerSize,h[u].x,h[u].y,!0)}},drawSelectionBackground:function(h){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;h.save();var u=this.getCenterPoint(),o=this._calculateCurrentDimensions(),r=this.canvas.viewportTransform;return h.translate(u.x,u.y),h.scale(1/r[0],1/r[3]),h.rotate(b(this.angle)),h.fillStyle=this.selectionBackgroundColor,h.fillRect(-o.x/2,-o.y/2,o.x,o.y),h.restore(),this},drawBorders:function(h,u){u=u||{};var o=this._calculateCurrentDimensions(),r=this.borderScaleFactor,e=o.x+r,t=o.y+r,a=typeof u.hasControls!="undefined"?u.hasControls:this.hasControls,l=!1;return h.save(),h.strokeStyle=u.borderColor||this.borderColor,this._setLineDash(h,u.borderDashArray||this.borderDashArray),h.strokeRect(-e/2,-t/2,e,t),a&&(h.beginPath(),this.forEachControl(function(i,f,p){i.withConnection&&i.getVisibility(p,f)&&(l=!0,h.moveTo(i.x*e,i.y*t),h.lineTo(i.x*e+i.offsetX,i.y*t+i.offsetY))}),l&&h.stroke()),h.restore(),this},drawBordersInGroup:function(h,u,o){o=o||{};var r=L.util.sizeAfterTransform(this.width,this.height,u),e=this.strokeWidth,t=this.strokeUniform,a=this.borderScaleFactor,l=r.x+e*(t?this.canvas.getZoom():u.scaleX)+a,i=r.y+e*(t?this.canvas.getZoom():u.scaleY)+a;return h.save(),this._setLineDash(h,o.borderDashArray||this.borderDashArray),h.strokeStyle=o.borderColor||this.borderColor,h.strokeRect(-l/2,-i/2,l,i),h.restore(),this},drawControls:function(h,u){u=u||{},h.save();var o=this.canvas.getRetinaScaling(),r,e;return h.setTransform(o,0,0,o,0,0),h.strokeStyle=h.fillStyle=u.cornerColor||this.cornerColor,this.transparentCorners||(h.strokeStyle=u.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(h,u.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(r=this.group.calcTransformMatrix()),this.forEachControl(function(t,a,l){e=l.oCoords[a],t.getVisibility(l,a)&&(r&&(e=L.util.transformPoint(e,r)),t.render(h,e.x,e.y,u,l))}),h.restore(),this},isControlVisible:function(h){return this.controls[h]&&this.controls[h].getVisibility(this,h)},setControlVisible:function(h,u){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[h]=u,this},setControlsVisibility:function(h){h||(h={});for(var u in h)this.setControlVisible(u,h[u]);return this},onDeselect:function(){},onSelect:function(){}})}(),L.util.object.extend(L.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(s,h){h=h||{};var u=function(){},o=h.onComplete||u,r=h.onChange||u,e=this;return L.util.animate({startValue:s.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(a){s.set("left",a),e.requestRenderAll(),r()},onComplete:function(){s.setCoords(),o()}}),this},fxCenterObjectV:function(s,h){h=h||{};var u=function(){},o=h.onComplete||u,r=h.onChange||u,e=this;return L.util.animate({startValue:s.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(a){s.set("top",a),e.requestRenderAll(),r()},onComplete:function(){s.setCoords(),o()}}),this},fxRemove:function(s,h){h=h||{};var u=function(){},o=h.onComplete||u,r=h.onChange||u,e=this;return L.util.animate({startValue:s.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(a){s.set("opacity",a),e.requestRenderAll(),r()},onComplete:function(){e.remove(s),o()}}),this}}),L.util.object.extend(L.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var s=[],h,u;for(h in arguments[0])s.push(h);for(var o=0,r=s.length;o<r;o++)h=s[o],u=o!==r-1,this._animate(h,arguments[0][h],arguments[1],u)}else this._animate.apply(this,arguments);return this},_animate:function(s,h,u,o){var r=this,e;h=h.toString(),u?u=L.util.object.clone(u):u={},~s.indexOf(".")&&(e=s.split("."));var t=r.colorProperties.indexOf(s)>-1||e&&r.colorProperties.indexOf(e[1])>-1,a=e?this.get(e[0])[e[1]]:this.get(s);"from"in u||(u.from=a),t||(~h.indexOf("=")?h=a+parseFloat(h.replace("=","")):h=parseFloat(h));var l={startValue:u.from,endValue:h,byValue:u.by,easing:u.easing,duration:u.duration,abort:u.abort&&function(i,f,p){return u.abort.call(r,i,f,p)},onChange:function(f,p,v){e?r[e[0]][e[1]]=f:r.set(s,f),!o&&u.onChange&&u.onChange(f,p,v)},onComplete:function(f,p,v){o||(r.setCoords(),u.onComplete&&u.onComplete(f,p,v))}};return t?L.util.animateColor(l.startValue,l.endValue,l.duration,l):L.util.animate(l)}}),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.object.extend,u=s.util.object.clone,o={x1:1,x2:1,y1:1,y2:1};if(s.Line){s.warn("fabric.Line is already defined");return}s.Line=s.util.createClass(s.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:s.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(t,a){t||(t=[0,0,0,0]),this.callSuper("initialize",a),this.set("x1",t[0]),this.set("y1",t[1]),this.set("x2",t[2]),this.set("y2",t[3]),this._setWidthHeight(a)},_setWidthHeight:function(t){t||(t={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in t?t.left:this._getLeftToOriginX(),this.top="top"in t?t.top:this._getTopToOriginY()},_set:function(t,a){return this.callSuper("_set",t,a),typeof o[t]!="undefined"&&this._setWidthHeight(),this},_getLeftToOriginX:r({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:r({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(t){t.beginPath();var a=this.calcLinePoints();t.moveTo(a.x1,a.y1),t.lineTo(a.x2,a.y2),t.lineWidth=this.strokeWidth;var l=t.strokeStyle;t.strokeStyle=this.stroke||t.fillStyle,this.stroke&&this._renderStroke(t),t.strokeStyle=l},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(t){return h(this.callSuper("toObject",t),this.calcLinePoints())},_getNonTransformedDimensions:function(){var t=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(t.y-=this.strokeWidth),this.height===0&&(t.x-=this.strokeWidth)),t},calcLinePoints:function(){var t=this.x1<=this.x2?-1:1,a=this.y1<=this.y2?-1:1,l=t*this.width*.5,i=a*this.height*.5,f=t*this.width*-.5,p=a*this.height*-.5;return{x1:l,x2:f,y1:i,y2:p}},_toSVG:function(){var t=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',t.x1,'" y1="',t.y1,'" x2="',t.x2,'" y2="',t.y2,`" />
`]}}),s.Line.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),s.Line.fromElement=function(e,t,a){a=a||{};var l=s.parseAttributes(e,s.Line.ATTRIBUTE_NAMES),i=[l.x1||0,l.y1||0,l.x2||0,l.y2||0];t(new s.Line(i,h(l,a)))},s.Line.fromObject=function(e,t){function a(i){delete i.points,t&&t(i)}var l=u(e,!0);l.points=[e.x1,e.y1,e.x2,e.y2],s.Object._fromObject("Line",l,a,"points")};function r(e,t){var a=e.origin,l=e.axis1,i=e.axis2,f=e.dimension,p=t.nearest,v=t.center,C=t.farthest;return function(){switch(this.get(a)){case p:return Math.min(this.get(l),this.get(i));case v:return Math.min(this.get(l),this.get(i))+.5*this.get(f);case C:return Math.max(this.get(l),this.get(i))}}}}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=Math.PI;if(s.Circle){s.warn("fabric.Circle is already defined.");return}s.Circle=s.util.createClass(s.Object,{type:"circle",radius:0,startAngle:0,endAngle:h*2,cacheProperties:s.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(r,e){return this.callSuper("_set",r,e),r==="radius"&&this.setRadius(e),this},toObject:function(r){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(r))},_toSVG:function(){var r,e=0,t=0,a=(this.endAngle-this.startAngle)%(2*h);if(a===0)r=["<circle ","COMMON_PARTS",'cx="'+e+'" cy="'+t+'" ','r="',this.radius,`" />
`];else{var l=s.util.cos(this.startAngle)*this.radius,i=s.util.sin(this.startAngle)*this.radius,f=s.util.cos(this.endAngle)*this.radius,p=s.util.sin(this.endAngle)*this.radius,v=a>h?"1":"0";r=['<path d="M '+l+" "+i," A "+this.radius+" "+this.radius," 0 ",+v+" 1"," "+f+" "+p,'" ',"COMMON_PARTS",` />
`]}return r},_render:function(r){r.beginPath(),r.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(r)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(r){return this.radius=r,this.set("width",r*2).set("height",r*2)}}),s.Circle.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),s.Circle.fromElement=function(o,r){var e=s.parseAttributes(o,s.Circle.ATTRIBUTE_NAMES);if(!u(e))throw new Error("value of `r` attribute is required and can not be negative");e.left=(e.left||0)-e.radius,e.top=(e.top||0)-e.radius,r(new s.Circle(e))};function u(o){return"radius"in o&&o.radius>=0}s.Circle.fromObject=function(o,r){s.Object._fromObject("Circle",o,r)}}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={});if(s.Triangle){s.warn("fabric.Triangle is already defined");return}s.Triangle=s.util.createClass(s.Object,{type:"triangle",width:100,height:100,_render:function(u){var o=this.width/2,r=this.height/2;u.beginPath(),u.moveTo(-o,r),u.lineTo(0,-r),u.lineTo(o,r),u.closePath(),this._renderPaintInOrder(u)},_toSVG:function(){var u=this.width/2,o=this.height/2,r=[-u+" "+o,"0 "+-o,u+" "+o].join(",");return["<polygon ","COMMON_PARTS",'points="',r,'" />']}}),s.Triangle.fromObject=function(h,u){return s.Object._fromObject("Triangle",h,u)}}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=Math.PI*2;if(s.Ellipse){s.warn("fabric.Ellipse is already defined.");return}s.Ellipse=s.util.createClass(s.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:s.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(o){this.callSuper("initialize",o),this.set("rx",o&&o.rx||0),this.set("ry",o&&o.ry||0)},_set:function(o,r){switch(this.callSuper("_set",o,r),o){case"rx":this.rx=r,this.set("width",r*2);break;case"ry":this.ry=r,this.set("height",r*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(o){return this.callSuper("toObject",["rx","ry"].concat(o))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(o){o.beginPath(),o.save(),o.transform(1,0,0,this.ry/this.rx,0,0),o.arc(0,0,this.rx,0,h,!1),o.restore(),this._renderPaintInOrder(o)}}),s.Ellipse.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),s.Ellipse.fromElement=function(u,o){var r=s.parseAttributes(u,s.Ellipse.ATTRIBUTE_NAMES);r.left=(r.left||0)-r.rx,r.top=(r.top||0)-r.ry,o(new s.Ellipse(r))},s.Ellipse.fromObject=function(u,o){s.Object._fromObject("Ellipse",u,o)}}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.object.extend;if(s.Rect){s.warn("fabric.Rect is already defined");return}s.Rect=s.util.createClass(s.Object,{stateProperties:s.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:s.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(o){this.callSuper("initialize",o),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(o){var r=this.rx?Math.min(this.rx,this.width/2):0,e=this.ry?Math.min(this.ry,this.height/2):0,t=this.width,a=this.height,l=-this.width/2,i=-this.height/2,f=r!==0||e!==0,p=1-.5522847498;o.beginPath(),o.moveTo(l+r,i),o.lineTo(l+t-r,i),f&&o.bezierCurveTo(l+t-p*r,i,l+t,i+p*e,l+t,i+e),o.lineTo(l+t,i+a-e),f&&o.bezierCurveTo(l+t,i+a-p*e,l+t-p*r,i+a,l+t-r,i+a),o.lineTo(l+r,i+a),f&&o.bezierCurveTo(l+p*r,i+a,l,i+a-p*e,l,i+a-e),o.lineTo(l,i+e),f&&o.bezierCurveTo(l,i+p*e,l+p*r,i,l+r,i),o.closePath(),this._renderPaintInOrder(o)},toObject:function(o){return this.callSuper("toObject",["rx","ry"].concat(o))},_toSVG:function(){var o=-this.width/2,r=-this.height/2;return["<rect ","COMMON_PARTS",'x="',o,'" y="',r,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),s.Rect.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),s.Rect.fromElement=function(u,o,r){if(!u)return o(null);r=r||{};var e=s.parseAttributes(u,s.Rect.ATTRIBUTE_NAMES);e.left=e.left||0,e.top=e.top||0,e.height=e.height||0,e.width=e.width||0;var t=new s.Rect(h(r?s.util.object.clone(r):{},e));t.visible=t.visible&&t.width>0&&t.height>0,o(t)},s.Rect.fromObject=function(u,o){return s.Object._fromObject("Rect",u,o)}}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.object.extend,u=s.util.array.min,o=s.util.array.max,r=s.util.toFixed;if(s.Polyline){s.warn("fabric.Polyline is already defined");return}s.Polyline=s.util.createClass(s.Object,{type:"polyline",points:null,cacheProperties:s.Object.prototype.cacheProperties.concat("points"),initialize:function(t,a){a=a||{},this.points=t||[],this.callSuper("initialize",a),this._setPositionDimensions(a)},_setPositionDimensions:function(t){var a=this._calcDimensions(t),l;this.width=a.width,this.height=a.height,t.fromSVG||(l=this.translateToGivenOrigin({x:a.left-this.strokeWidth/2,y:a.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),typeof t.left=="undefined"&&(this.left=t.fromSVG?a.left:l.x),typeof t.top=="undefined"&&(this.top=t.fromSVG?a.top:l.y),this.pathOffset={x:a.left+this.width/2,y:a.top+this.height/2}},_calcDimensions:function(){var t=this.points,a=u(t,"x")||0,l=u(t,"y")||0,i=o(t,"x")||0,f=o(t,"y")||0,p=i-a,v=f-l;return{left:a,top:l,width:p,height:v}},toObject:function(t){return h(this.callSuper("toObject",t),{points:this.points.concat()})},_toSVG:function(){for(var t=[],a=this.pathOffset.x,l=this.pathOffset.y,i=s.Object.NUM_FRACTION_DIGITS,f=0,p=this.points.length;f<p;f++)t.push(r(this.points[f].x-a,i),",",r(this.points[f].y-l,i)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',t.join(""),`" />
`]},commonRender:function(t){var a,l=this.points.length,i=this.pathOffset.x,f=this.pathOffset.y;if(!l||isNaN(this.points[l-1].y))return!1;t.beginPath(),t.moveTo(this.points[0].x-i,this.points[0].y-f);for(var p=0;p<l;p++)a=this.points[p],t.lineTo(a.x-i,a.y-f);return!0},_render:function(t){!this.commonRender(t)||this._renderPaintInOrder(t)},complexity:function(){return this.get("points").length}}),s.Polyline.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(),s.Polyline.fromElementGenerator=function(e){return function(t,a,l){if(!t)return a(null);l||(l={});var i=s.parsePointsAttribute(t.getAttribute("points")),f=s.parseAttributes(t,s[e].ATTRIBUTE_NAMES);f.fromSVG=!0,a(new s[e](i,h(f,l)))}},s.Polyline.fromElement=s.Polyline.fromElementGenerator("Polyline"),s.Polyline.fromObject=function(e,t){return s.Object._fromObject("Polyline",e,t,"points")}}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={});if(s.Polygon){s.warn("fabric.Polygon is already defined");return}s.Polygon=s.util.createClass(s.Polyline,{type:"polygon",_render:function(u){!this.commonRender(u)||(u.closePath(),this._renderPaintInOrder(u))}}),s.Polygon.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(),s.Polygon.fromElement=s.Polyline.fromElementGenerator("Polygon"),s.Polygon.fromObject=function(h,u){s.Object._fromObject("Polygon",h,u,"points")}}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.array.min,u=s.util.array.max,o=s.util.object.extend,r=Object.prototype.toString,e=s.util.toFixed;if(s.Path){s.warn("fabric.Path is already defined");return}s.Path=s.util.createClass(s.Object,{type:"path",path:null,cacheProperties:s.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:s.Object.prototype.stateProperties.concat("path"),initialize:function(a,l){l=l||{},this.callSuper("initialize",l),a||(a=[]);var i=r.call(a)==="[object Array]";this.path=s.util.makePathSimpler(i?a:s.util.parsePath(a)),!!this.path&&s.Polyline.prototype._setPositionDimensions.call(this,l)},_renderPathCommands:function(a){var l,i=0,f=0,p=0,v=0,C=0,D=0,V=-this.pathOffset.x,it=-this.pathOffset.y;a.beginPath();for(var Ct=0,Dt=this.path.length;Ct<Dt;++Ct)switch(l=this.path[Ct],l[0]){case"L":p=l[1],v=l[2],a.lineTo(p+V,v+it);break;case"M":p=l[1],v=l[2],i=p,f=v,a.moveTo(p+V,v+it);break;case"C":p=l[5],v=l[6],C=l[3],D=l[4],a.bezierCurveTo(l[1]+V,l[2]+it,C+V,D+it,p+V,v+it);break;case"Q":a.quadraticCurveTo(l[1]+V,l[2]+it,l[3]+V,l[4]+it),p=l[3],v=l[4],C=l[1],D=l[2];break;case"z":case"Z":p=i,v=f,a.closePath();break}},_render:function(a){this._renderPathCommands(a),this._renderPaintInOrder(a)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(a){return o(this.callSuper("toObject",a),{path:this.path.map(function(l){return l.slice()})})},toDatalessObject:function(a){var l=this.toObject(["sourcePath"].concat(a));return l.sourcePath&&delete l.path,l},_toSVG:function(){var a=s.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',a,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var a=s.Object.NUM_FRACTION_DIGITS;return" translate("+e(-this.pathOffset.x,a)+", "+e(-this.pathOffset.y,a)+")"},toClipPathSVG:function(a){var l=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:a,additionalTransform:l})},toSVG:function(a){var l=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:a,additionalTransform:l})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var a=[],l=[],i,f=0,p=0,v=0,C=0,D,V=0,it=this.path.length;V<it;++V){switch(i=this.path[V],i[0]){case"L":v=i[1],C=i[2],D=[];break;case"M":v=i[1],C=i[2],f=v,p=C,D=[];break;case"C":D=s.util.getBoundsOfCurve(v,C,i[1],i[2],i[3],i[4],i[5],i[6]),v=i[5],C=i[6];break;case"Q":D=s.util.getBoundsOfCurve(v,C,i[1],i[2],i[1],i[2],i[3],i[4]),v=i[3],C=i[4];break;case"z":case"Z":v=f,C=p;break}D.forEach(function(Gt){a.push(Gt.x),l.push(Gt.y)}),a.push(v),l.push(C)}var Ct=h(a)||0,Dt=h(l)||0,Ut=u(a)||0,pe=u(l)||0,Ee=Ut-Ct,At=pe-Dt;return{left:Ct,top:Dt,width:Ee,height:At}}}),s.Path.fromObject=function(t,a){if(typeof t.sourcePath=="string"){var l=t.sourcePath;s.loadSVGFromURL(l,function(i){var f=i[0];f.setOptions(t),a&&a(f)})}else s.Object._fromObject("Path",t,a,"path")},s.Path.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat(["d"]),s.Path.fromElement=function(t,a,l){var i=s.parseAttributes(t,s.Path.ATTRIBUTE_NAMES);i.fromSVG=!0,a(new s.Path(i.d,o(i,l)))}}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.array.min,u=s.util.array.max;s.Group||(s.Group=s.util.createClass(s.Object,s.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(r,e,t){e=e||{},this._objects=[],t&&this.callSuper("initialize",e),this._objects=r||[];for(var a=this._objects.length;a--;)this._objects[a].group=this;if(t)this._updateObjectsACoords();else{var l=e&&e.centerPoint;e.originX!==void 0&&(this.originX=e.originX),e.originY!==void 0&&(this.originY=e.originY),l||this._calcBounds(),this._updateObjectsCoords(l),delete e.centerPoint,this.callSuper("initialize",e)}this.setCoords()},_updateObjectsACoords:function(){for(var r=!0,e=this._objects.length;e--;)this._objects[e].setCoords(r)},_updateObjectsCoords:function(r){for(var r=r||this.getCenterPoint(),e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],r)},_updateObjectCoords:function(r,e){var t=r.left,a=r.top,l=!0;r.set({left:t-e.x,top:a-e.y}),r.group=this,r.setCoords(l)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(r){var e=!!this.group;return this._restoreObjectsState(),s.util.resetObjectTransform(this),r&&(e&&s.util.removeTransformFromObject(r,this.group.calcTransformMatrix()),this._objects.push(r),r.group=this,r._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,e?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(r){return this._restoreObjectsState(),s.util.resetObjectTransform(this),this.remove(r),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(r){this.dirty=!0,r.group=this,r._set("canvas",this.canvas)},_onObjectRemoved:function(r){this.dirty=!0,delete r.group},_set:function(r,e){var t=this._objects.length;if(this.useSetOnGroup)for(;t--;)this._objects[t].setOnGroup(r,e);if(r==="canvas")for(;t--;)this._objects[t]._set(r,e);s.Object.prototype._set.call(this,r,e)},toObject:function(r){var e=this.includeDefaultValues,t=this._objects.filter(function(l){return!l.excludeFromExport}).map(function(l){var i=l.includeDefaultValues;l.includeDefaultValues=e;var f=l.toObject(r);return l.includeDefaultValues=i,f}),a=s.Object.prototype.toObject.call(this,r);return a.objects=t,a},toDatalessObject:function(r){var e,t=this.sourcePath;if(t)e=t;else{var a=this.includeDefaultValues;e=this._objects.map(function(i){var f=i.includeDefaultValues;i.includeDefaultValues=a;var p=i.toDatalessObject(r);return i.includeDefaultValues=f,p})}var l=s.Object.prototype.toDatalessObject.call(this,r);return l.objects=e,l},render:function(r){this._transformDone=!0,this.callSuper("render",r),this._transformDone=!1},shouldCache:function(){var r=s.Object.prototype.shouldCache.call(this);if(r){for(var e=0,t=this._objects.length;e<t;e++)if(this._objects[e].willDrawShadow())return this.ownCaching=!1,!1}return r},willDrawShadow:function(){if(s.Object.prototype.willDrawShadow.call(this))return!0;for(var r=0,e=this._objects.length;r<e;r++)if(this._objects[r].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(r){for(var e=0,t=this._objects.length;e<t;e++)this._objects[e].render(r);this._drawClipPath(r)},isCacheDirty:function(r){if(this.callSuper("isCacheDirty",r))return!0;if(!this.statefullCache)return!1;for(var e=0,t=this._objects.length;e<t;e++)if(this._objects[e].isCacheDirty(!0)){if(this._cacheCanvas){var a=this.cacheWidth/this.zoomX,l=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-a/2,-l/2,a,l)}return!0}return!1},_restoreObjectsState:function(){var r=this.calcOwnMatrix();return this._objects.forEach(function(e){s.util.addTransformToObject(e,r),delete e.group,e.setCoords()}),this},realizeTransform:function(r,e){return s.util.addTransformToObject(r,e),r},destroy:function(){return this._objects.forEach(function(r){r.set("dirty",!0)}),this._restoreObjectsState()},toActiveSelection:function(){if(!!this.canvas){var r=this._objects,e=this.canvas;this._objects=[];var t=this.toObject();delete t.objects;var a=new s.ActiveSelection([]);return a.set(t),a.type="activeSelection",e.remove(this),r.forEach(function(l){l.group=a,l.dirty=!0,e.add(l)}),a.canvas=e,a._objects=r,e._activeObject=a,a.setCoords(),a}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var r=!0;return this.forEachObject(function(e){e.setCoords(r)}),this},_calcBounds:function(r){for(var e=[],t=[],a,l,i,f=["tr","br","bl","tl"],p=0,v=this._objects.length,C,D=f.length;p<v;++p){for(a=this._objects[p],i=a.calcACoords(),C=0;C<D;C++)l=f[C],e.push(i[l].x),t.push(i[l].y);a.aCoords=i}this._getBounds(e,t,r)},_getBounds:function(r,e,t){var a=new s.Point(h(r),h(e)),l=new s.Point(u(r),u(e)),i=a.y||0,f=a.x||0,p=l.x-a.x||0,v=l.y-a.y||0;this.width=p,this.height=v,t||this.setPositionByOrigin({x:f,y:i},"left","top")},_toSVG:function(r){for(var e=["<g ","COMMON_PARTS",` >
`],t=0,a=this._objects.length;t<a;t++)e.push("		",this._objects[t].toSVG(r));return e.push(`</g>
`),e},getSvgStyles:function(){var r=typeof this.opacity!="undefined"&&this.opacity!==1?"opacity: "+this.opacity+";":"",e=this.visible?"":" visibility: hidden;";return[r,this.getSvgFilter(),e].join("")},toClipPathSVG:function(r){for(var e=[],t=0,a=this._objects.length;t<a;t++)e.push("	",this._objects[t].toClipPathSVG(r));return this._createBaseClipPathSVGMarkup(e,{reviver:r})}}),s.Group.fromObject=function(o,r){var e=o.objects,t=s.util.object.clone(o,!0);if(delete t.objects,typeof e=="string"){s.loadSVGFromURL(e,function(a){var l=s.util.groupSVGElements(a,o,e);l.set(t),r&&r(l)});return}s.util.enlivenObjects(e,function(a){s.util.enlivenObjects([o.clipPath],function(l){var i=s.util.object.clone(o,!0);i.clipPath=l[0],delete i.objects,r&&r(new s.Group(a,i,!0))})})})}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={});s.ActiveSelection||(s.ActiveSelection=s.util.createClass(s.Group,{type:"activeSelection",initialize:function(u,o){o=o||{},this._objects=u||[];for(var r=this._objects.length;r--;)this._objects[r].group=this;o.originX&&(this.originX=o.originX),o.originY&&(this.originY=o.originY),this._calcBounds(),this._updateObjectsCoords(),s.Object.prototype.initialize.call(this,o),this.setCoords()},toGroup:function(){var u=this._objects.concat();this._objects=[];var o=s.Object.prototype.toObject.call(this),r=new s.Group([]);if(delete o.type,r.set(o),u.forEach(function(t){t.canvas.remove(t),t.group=r}),r._objects=u,!this.canvas)return r;var e=this.canvas;return e.add(r),e._activeObject=r,r.setCoords(),r},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(u,o,r){u.save(),u.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",u,o),r=r||{},typeof r.hasControls=="undefined"&&(r.hasControls=!1),r.forActiveSelection=!0;for(var e=0,t=this._objects.length;e<t;e++)this._objects[e]._renderControls(u,r);u.restore()}}),s.ActiveSelection.fromObject=function(h,u){s.util.enlivenObjects(h.objects,function(o){delete h.objects,u&&u(new s.ActiveSelection(o,h,!0))})})}(wr),function(b){"use strict";var s=L.util.object.extend;if(b.fabric||(b.fabric={}),b.fabric.Image){L.warn("fabric.Image is already defined.");return}L.Image=L.util.createClass(L.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:L.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:L.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(u,o){o||(o={}),this.filters=[],this.cacheKey="texture"+L.Object.__uid++,this.callSuper("initialize",o),this._initElement(u,o)},getElement:function(){return this._element||{}},setElement:function(u,o){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=u,this._originalElement=u,this._initConfig(o),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(u){var o=L.filterBackend;o&&o.evictCachesForKey&&o.evictCachesForKey(u)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(u){L.util.cleanUpJsdomNode(this[u]),this[u]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var u=this.getElement();return{width:u.naturalWidth||u.width,height:u.naturalHeight||u.height}},_stroke:function(u){if(!(!this.stroke||this.strokeWidth===0)){var o=this.width/2,r=this.height/2;u.beginPath(),u.moveTo(-o,-r),u.lineTo(o,-r),u.lineTo(o,r),u.lineTo(-o,r),u.lineTo(-o,-r),u.closePath()}},toObject:function(u){var o=[];this.filters.forEach(function(e){e&&o.push(e.toObject())});var r=s(this.callSuper("toObject",["cropX","cropY"].concat(u)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:o});return this.resizeFilter&&(r.resizeFilter=this.resizeFilter.toObject()),r},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var u=[],o=[],r,e=this._element,t=-this.width/2,a=-this.height/2,l="",i="";if(!e)return[];if(this.hasCrop()){var f=L.Object.__uid++;u.push('<clipPath id="imageCrop_'+f+`">
`,'	<rect x="'+t+'" y="'+a+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),l=' clip-path="url(#imageCrop_'+f+')" '}if(this.imageSmoothing||(i='" image-rendering="optimizeSpeed'),o.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',t-this.cropX,'" y="',a-this.cropY,'" width="',e.width||e.naturalWidth,'" height="',e.height||e.height,i,'"',l,`></image>
`),this.stroke||this.strokeDashArray){var p=this.fill;this.fill=null,r=["	<rect ",'x="',t,'" y="',a,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=p}return this.paintFirst!=="fill"?u=u.concat(r,o):u=u.concat(o,r),u},getSrc:function(u){var o=u?this._element:this._originalElement;return o?o.toDataURL?o.toDataURL():this.srcFromAttribute?o.getAttribute("src"):o.src:this.src||""},setSrc:function(u,o,r){return L.util.loadImage(u,function(e,t){this.setElement(e,r),this._setWidthHeight(),o&&o(this,t)},this,r&&r.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var u=this.resizeFilter,o=this.minimumScaleTrigger,r=this.getTotalObjectScaling(),e=r.scaleX,t=r.scaleY,a=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!u||e>o&&t>o){this._element=a,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=e,this._lastScaleY=t;return}L.filterBackend||(L.filterBackend=L.initFilterBackend());var l=L.util.createCanvasElement(),i=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,f=a.width,p=a.height;l.width=f,l.height=p,this._element=l,this._lastScaleX=u.scaleX=e,this._lastScaleY=u.scaleY=t,L.filterBackend.applyFilters([u],a,f,p,this._element,i),this._filterScalingX=l.width/this._originalElement.width,this._filterScalingY=l.height/this._originalElement.height},applyFilters:function(u){if(u=u||this.filters||[],u=u.filter(function(a){return a&&!a.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),u.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var o=this._originalElement,r=o.naturalWidth||o.width,e=o.naturalHeight||o.height;if(this._element===this._originalElement){var t=L.util.createCanvasElement();t.width=r,t.height=e,this._element=t,this._filteredEl=t}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,r,e),this._lastScaleX=1,this._lastScaleY=1;return L.filterBackend||(L.filterBackend=L.initFilterBackend()),L.filterBackend.applyFilters(u,this._originalElement,r,e,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(u){L.util.setImageSmoothing(u,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(u),this._renderPaintInOrder(u)},drawCacheOnCanvas:function(u){L.util.setImageSmoothing(u,this.imageSmoothing),L.Object.prototype.drawCacheOnCanvas.call(this,u)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(u){var o=this._element;if(!!o){var r=this._filterScalingX,e=this._filterScalingY,t=this.width,a=this.height,l=Math.min,i=Math.max,f=i(this.cropX,0),p=i(this.cropY,0),v=o.naturalWidth||o.width,C=o.naturalHeight||o.height,D=f*r,V=p*e,it=l(t*r,v-D),Ct=l(a*e,C-V),Dt=-t/2,Ut=-a/2,pe=l(t,v/r-f),Ee=l(a,C/e-p);o&&u.drawImage(o,D,V,it,Ct,Dt,Ut,pe,Ee)}},_needsResize:function(){var u=this.getTotalObjectScaling();return u.scaleX!==this._lastScaleX||u.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(u,o){this.setElement(L.util.getById(u),o),L.util.addClass(this.getElement(),L.Image.CSS_CANVAS)},_initConfig:function(u){u||(u={}),this.setOptions(u),this._setWidthHeight(u)},_initFilters:function(u,o){u&&u.length?L.util.enlivenObjects(u,function(r){o&&o(r)},"fabric.Image.filters"):o&&o()},_setWidthHeight:function(u){u||(u={});var o=this.getElement();this.width=u.width||o.naturalWidth||o.width||0,this.height=u.height||o.naturalHeight||o.height||0},parsePreserveAspectRatioAttribute:function(){var u=L.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),o=this._element.width,r=this._element.height,e=1,t=1,a=0,l=0,i=0,f=0,p,v=this.width,C=this.height,D={width:v,height:C};return u&&(u.alignX!=="none"||u.alignY!=="none")?(u.meetOrSlice==="meet"&&(e=t=L.util.findScaleToFit(this._element,D),p=(v-o*e)/2,u.alignX==="Min"&&(a=-p),u.alignX==="Max"&&(a=p),p=(C-r*t)/2,u.alignY==="Min"&&(l=-p),u.alignY==="Max"&&(l=p)),u.meetOrSlice==="slice"&&(e=t=L.util.findScaleToCover(this._element,D),p=o-v/e,u.alignX==="Mid"&&(i=p/2),u.alignX==="Max"&&(i=p),p=r-C/t,u.alignY==="Mid"&&(f=p/2),u.alignY==="Max"&&(f=p),o=v/e,r=C/t)):(e=v/o,t=C/r),{width:o,height:r,scaleX:e,scaleY:t,offsetLeft:a,offsetTop:l,cropX:i,cropY:f}}}),L.Image.CSS_CANVAS="canvas-img",L.Image.prototype.getSvgSrc=L.Image.prototype.getSrc,L.Image.fromObject=function(h,u){var o=L.util.object.clone(h);L.util.loadImage(o.src,function(r,e){if(e){u&&u(null,!0);return}L.Image.prototype._initFilters.call(o,o.filters,function(t){o.filters=t||[],L.Image.prototype._initFilters.call(o,[o.resizeFilter],function(a){o.resizeFilter=a[0],L.util.enlivenObjects([o.clipPath],function(l){o.clipPath=l[0];var i=new L.Image(r,o);u(i,!1)})})})},null,o.crossOrigin)},L.Image.fromURL=function(h,u,o){L.util.loadImage(h,function(r,e){u&&u(new L.Image(r,o),e)},null,o&&o.crossOrigin)},L.Image.ATTRIBUTE_NAMES=L.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),L.Image.fromElement=function(h,u,o){var r=L.parseAttributes(h,L.Image.ATTRIBUTE_NAMES);L.Image.fromURL(r["xlink:href"],u,s(o?L.util.object.clone(o):{},r))}}(wr),L.util.object.extend(L.Object.prototype,{_getAngleValueForStraighten:function(){var s=this.angle%360;return s>0?Math.round((s-1)/90)*90:Math.round(s/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(s){s=s||{};var h=function(){},u=s.onComplete||h,o=s.onChange||h,r=this;return L.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(t){r.rotate(t),o()},onComplete:function(){r.setCoords(),u()}}),this}}),L.util.object.extend(L.StaticCanvas.prototype,{straightenObject:function(s){return s.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(s){return s.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function b(h,u){var o="precision "+u+` float;
void main(){}`,r=h.createShader(h.FRAGMENT_SHADER);return h.shaderSource(r,o),h.compileShader(r),!!h.getShaderParameter(r,h.COMPILE_STATUS)}L.isWebglSupported=function(h){if(L.isLikelyNode)return!1;h=h||L.WebglFilterBackend.prototype.tileSize;var u=document.createElement("canvas"),o=u.getContext("webgl")||u.getContext("experimental-webgl"),r=!1;if(o){L.maxTextureSize=o.getParameter(o.MAX_TEXTURE_SIZE),r=L.maxTextureSize>=h;for(var e=["highp","mediump","lowp"],t=0;t<3;t++)if(b(o,e[t])){L.webGlPrecision=e[t];break}}return this.isSupported=r,r},L.WebglFilterBackend=s;function s(h){h&&h.tileSize&&(this.tileSize=h.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}s.prototype={tileSize:2048,resources:{},setupGLContext:function(u,o){this.dispose(),this.createWebGLCanvas(u,o),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(u,o)},chooseFastestCopyGLTo2DMethod:function(u,o){var r=typeof window.performance!="undefined",e;try{new ImageData(1,1),e=!0}catch(D){e=!1}var t=typeof ArrayBuffer!="undefined",a=typeof Uint8ClampedArray!="undefined";if(!!(r&&e&&t&&a)){var l=L.util.createCanvasElement(),i=new ArrayBuffer(u*o*4);if(L.forceGLPutImageData){this.imageBuffer=i,this.copyGLTo2D=Q;return}var f={imageBuffer:i,destinationWidth:u,destinationHeight:o,targetCanvas:l},p,v,C;l.width=u,l.height=o,p=window.performance.now(),Yt.call(f,this.gl,f),v=window.performance.now()-p,p=window.performance.now(),Q.call(f,this.gl,f),C=window.performance.now()-p,v>C?(this.imageBuffer=i,this.copyGLTo2D=Q):this.copyGLTo2D=Yt}},createWebGLCanvas:function(u,o){var r=L.util.createCanvasElement();r.width=u,r.height=o;var e={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},t=r.getContext("webgl",e);t||(t=r.getContext("experimental-webgl",e)),!!t&&(t.clearColor(0,0,0,0),this.canvas=r,this.gl=t)},applyFilters:function(u,o,r,e,t,a){var l=this.gl,i;a&&(i=this.getCachedTexture(a,o));var f={originalWidth:o.width||o.originalWidth,originalHeight:o.height||o.originalHeight,sourceWidth:r,sourceHeight:e,destinationWidth:r,destinationHeight:e,context:l,sourceTexture:this.createTexture(l,r,e,!i&&o),targetTexture:this.createTexture(l,r,e),originalTexture:i||this.createTexture(l,r,e,!i&&o),passes:u.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:t},p=l.createFramebuffer();return l.bindFramebuffer(l.FRAMEBUFFER,p),u.forEach(function(v){v&&v.applyTo(f)}),dt(f),this.copyGLTo2D(l,f),l.bindTexture(l.TEXTURE_2D,null),l.deleteTexture(f.sourceTexture),l.deleteTexture(f.targetTexture),l.deleteFramebuffer(p),t.getContext("2d").setTransform(1,0,0,1,0,0),f},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(u,o,r,e){var t=u.createTexture();return u.bindTexture(u.TEXTURE_2D,t),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MAG_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_MIN_FILTER,u.NEAREST),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_2D,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),e?u.texImage2D(u.TEXTURE_2D,0,u.RGBA,u.RGBA,u.UNSIGNED_BYTE,e):u.texImage2D(u.TEXTURE_2D,0,u.RGBA,o,r,0,u.RGBA,u.UNSIGNED_BYTE,null),t},getCachedTexture:function(u,o){if(this.textureCache[u])return this.textureCache[u];var r=this.createTexture(this.gl,o.width,o.height,o);return this.textureCache[u]=r,r},evictCachesForKey:function(u){this.textureCache[u]&&(this.gl.deleteTexture(this.textureCache[u]),delete this.textureCache[u])},copyGLTo2D:Yt,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var u=this.gl,o={renderer:"",vendor:""};if(!u)return o;var r=u.getExtension("WEBGL_debug_renderer_info");if(r){var e=u.getParameter(r.UNMASKED_RENDERER_WEBGL),t=u.getParameter(r.UNMASKED_VENDOR_WEBGL);e&&(o.renderer=e.toLowerCase()),t&&(o.vendor=t.toLowerCase())}return this.gpuInfo=o,o}}}();function dt(b){var s=b.targetCanvas,h=s.width,u=s.height,o=b.destinationWidth,r=b.destinationHeight;(h!==o||u!==r)&&(s.width=o,s.height=r)}function Yt(b,s){var h=b.canvas,u=s.targetCanvas,o=u.getContext("2d");o.translate(0,u.height),o.scale(1,-1);var r=h.height-u.height;o.drawImage(h,0,r,u.width,u.height,0,0,u.width,u.height)}function Q(b,s){var h=s.targetCanvas,u=h.getContext("2d"),o=s.destinationWidth,r=s.destinationHeight,e=o*r*4,t=new Uint8Array(this.imageBuffer,0,e),a=new Uint8ClampedArray(this.imageBuffer,0,e);b.readPixels(0,0,o,r,b.RGBA,b.UNSIGNED_BYTE,t);var l=new ImageData(a,o,r);u.putImageData(l,0,0)}(function(){"use strict";var b=function(){};L.Canvas2dFilterBackend=s;function s(){}s.prototype={evictCachesForKey:b,dispose:b,clearWebGLCaches:b,resources:{},applyFilters:function(u,o,r,e,t){var a=t.getContext("2d");a.drawImage(o,0,0,r,e);var l=a.getImageData(0,0,r,e),i=a.getImageData(0,0,r,e),f={sourceWidth:r,sourceHeight:e,imageData:l,originalEl:o,originalImageData:i,canvasEl:t,ctx:a,filterBackend:this};return u.forEach(function(p){p.applyTo(f)}),(f.imageData.width!==r||f.imageData.height!==e)&&(t.width=f.imageData.width,t.height=f.imageData.height),a.putImageData(f.imageData,0,0),f}}})(),L.Image=L.Image||{},L.Image.filters=L.Image.filters||{},L.Image.filters.BaseFilter=L.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(s){s&&this.setOptions(s)},setOptions:function(s){for(var h in s)this[h]=s[h]},createProgram:function(s,h,u){h=h||this.fragmentSource,u=u||this.vertexSource,L.webGlPrecision!=="highp"&&(h=h.replace(/precision highp float/g,"precision "+L.webGlPrecision+" float"));var o=s.createShader(s.VERTEX_SHADER);if(s.shaderSource(o,u),s.compileShader(o),!s.getShaderParameter(o,s.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+s.getShaderInfoLog(o));var r=s.createShader(s.FRAGMENT_SHADER);if(s.shaderSource(r,h),s.compileShader(r),!s.getShaderParameter(r,s.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+s.getShaderInfoLog(r));var e=s.createProgram();if(s.attachShader(e,o),s.attachShader(e,r),s.linkProgram(e),!s.getProgramParameter(e,s.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+s.getProgramInfoLog(e));var t=this.getAttributeLocations(s,e),a=this.getUniformLocations(s,e)||{};return a.uStepW=s.getUniformLocation(e,"uStepW"),a.uStepH=s.getUniformLocation(e,"uStepH"),{program:e,attributeLocations:t,uniformLocations:a}},getAttributeLocations:function(s,h){return{aPosition:s.getAttribLocation(h,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(s,h,u){var o=h.aPosition,r=s.createBuffer();s.bindBuffer(s.ARRAY_BUFFER,r),s.enableVertexAttribArray(o),s.vertexAttribPointer(o,2,s.FLOAT,!1,0,0),s.bufferData(s.ARRAY_BUFFER,u,s.STATIC_DRAW)},_setupFrameBuffer:function(s){var h=s.context,u,o;s.passes>1?(u=s.destinationWidth,o=s.destinationHeight,(s.sourceWidth!==u||s.sourceHeight!==o)&&(h.deleteTexture(s.targetTexture),s.targetTexture=s.filterBackend.createTexture(h,u,o)),h.framebufferTexture2D(h.FRAMEBUFFER,h.COLOR_ATTACHMENT0,h.TEXTURE_2D,s.targetTexture,0)):(h.bindFramebuffer(h.FRAMEBUFFER,null),h.finish())},_swapTextures:function(s){s.passes--,s.pass++;var h=s.targetTexture;s.targetTexture=s.sourceTexture,s.sourceTexture=h},isNeutralState:function(){var s=this.mainParameter,h=L.Image.filters[this.type].prototype;if(s)if(Array.isArray(h[s])){for(var u=h[s].length;u--;)if(this[s][u]!==h[s][u])return!1;return!0}else return h[s]===this[s];else return!1},applyTo:function(s){s.webgl?(this._setupFrameBuffer(s),this.applyToWebGL(s),this._swapTextures(s)):this.applyTo2d(s)},retrieveShader:function(s){return s.programCache.hasOwnProperty(this.type)||(s.programCache[this.type]=this.createProgram(s.context)),s.programCache[this.type]},applyToWebGL:function(s){var h=s.context,u=this.retrieveShader(s);s.pass===0&&s.originalTexture?h.bindTexture(h.TEXTURE_2D,s.originalTexture):h.bindTexture(h.TEXTURE_2D,s.sourceTexture),h.useProgram(u.program),this.sendAttributeData(h,u.attributeLocations,s.aPosition),h.uniform1f(u.uniformLocations.uStepW,1/s.sourceWidth),h.uniform1f(u.uniformLocations.uStepH,1/s.sourceHeight),this.sendUniformData(h,u.uniformLocations),h.viewport(0,0,s.destinationWidth,s.destinationHeight),h.drawArrays(h.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(s,h,u){s.activeTexture(u),s.bindTexture(s.TEXTURE_2D,h),s.activeTexture(s.TEXTURE0)},unbindAdditionalTexture:function(s,h){s.activeTexture(h),s.bindTexture(s.TEXTURE_2D,null),s.activeTexture(s.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(s){this[this.mainParameter]=s},sendUniformData:function(){},createHelpLayer:function(s){if(!s.helpLayer){var h=document.createElement("canvas");h.width=s.sourceWidth,h.height=s.sourceHeight,s.helpLayer=h}},toObject:function(){var s={type:this.type},h=this.mainParameter;return h&&(s[h]=this[h]),s},toJSON:function(){return this.toObject()}}),L.Image.filters.BaseFilter.fromObject=function(b,s){var h=new L.Image.filters[b.type](b);return s&&s(h),h},function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.ColorMatrix=u(h.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(r){this.callSuper("initialize",r),this.matrix=this.matrix.slice(0)},applyTo2d:function(r){var e=r.imageData,t=e.data,a=t.length,l=this.matrix,i,f,p,v,C,D=this.colorsOnly;for(C=0;C<a;C+=4)i=t[C],f=t[C+1],p=t[C+2],D?(t[C]=i*l[0]+f*l[1]+p*l[2]+l[4]*255,t[C+1]=i*l[5]+f*l[6]+p*l[7]+l[9]*255,t[C+2]=i*l[10]+f*l[11]+p*l[12]+l[14]*255):(v=t[C+3],t[C]=i*l[0]+f*l[1]+p*l[2]+v*l[3]+l[4]*255,t[C+1]=i*l[5]+f*l[6]+p*l[7]+v*l[8]+l[9]*255,t[C+2]=i*l[10]+f*l[11]+p*l[12]+v*l[13]+l[14]*255,t[C+3]=i*l[15]+f*l[16]+p*l[17]+v*l[18]+l[19]*255)},getUniformLocations:function(r,e){return{uColorMatrix:r.getUniformLocation(e,"uColorMatrix"),uConstants:r.getUniformLocation(e,"uConstants")}},sendUniformData:function(r,e){var t=this.matrix,a=[t[0],t[1],t[2],t[3],t[5],t[6],t[7],t[8],t[10],t[11],t[12],t[13],t[15],t[16],t[17],t[18]],l=[t[4],t[9],t[14],t[19]];r.uniformMatrix4fv(e.uColorMatrix,!1,a),r.uniform4fv(e.uConstants,l)}}),s.Image.filters.ColorMatrix.fromObject=s.Image.filters.BaseFilter.fromObject}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Brightness=u(h.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(r){if(this.brightness!==0){var e=r.imageData,t=e.data,a,l=t.length,i=Math.round(this.brightness*255);for(a=0;a<l;a+=4)t[a]=t[a]+i,t[a+1]=t[a+1]+i,t[a+2]=t[a+2]+i}},getUniformLocations:function(r,e){return{uBrightness:r.getUniformLocation(e,"uBrightness")}},sendUniformData:function(r,e){r.uniform1f(e.uBrightness,this.brightness)}}),s.Image.filters.Brightness.fromObject=s.Image.filters.BaseFilter.fromObject}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.object.extend,u=s.Image.filters,o=s.util.createClass;u.Convolute=o(u.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(e){var t=Math.sqrt(this.matrix.length),a=this.type+"_"+t+"_"+(this.opaque?1:0),l=this.fragmentSource[a];return e.programCache.hasOwnProperty(a)||(e.programCache[a]=this.createProgram(e.context,l)),e.programCache[a]},applyTo2d:function(e){var t=e.imageData,a=t.data,l=this.matrix,i=Math.round(Math.sqrt(l.length)),f=Math.floor(i/2),p=t.width,v=t.height,C=e.ctx.createImageData(p,v),D=C.data,V=this.opaque?1:0,it,Ct,Dt,Ut,pe,Ee,At,Gt,Z,_e,er,tt,te;for(er=0;er<v;er++)for(_e=0;_e<p;_e++){for(pe=(er*p+_e)*4,it=0,Ct=0,Dt=0,Ut=0,te=0;te<i;te++)for(tt=0;tt<i;tt++)At=er+te-f,Ee=_e+tt-f,!(At<0||At>=v||Ee<0||Ee>=p)&&(Gt=(At*p+Ee)*4,Z=l[te*i+tt],it+=a[Gt]*Z,Ct+=a[Gt+1]*Z,Dt+=a[Gt+2]*Z,V||(Ut+=a[Gt+3]*Z));D[pe]=it,D[pe+1]=Ct,D[pe+2]=Dt,V?D[pe+3]=a[pe+3]:D[pe+3]=Ut}e.imageData=C},getUniformLocations:function(e,t){return{uMatrix:e.getUniformLocation(t,"uMatrix"),uOpaque:e.getUniformLocation(t,"uOpaque"),uHalfSize:e.getUniformLocation(t,"uHalfSize"),uSize:e.getUniformLocation(t,"uSize")}},sendUniformData:function(e,t){e.uniform1fv(t.uMatrix,this.matrix)},toObject:function(){return h(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),s.Image.filters.Convolute.fromObject=s.Image.filters.BaseFilter.fromObject}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Grayscale=u(h.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(r){var e=r.imageData,t=e.data,a,l=t.length,i,f=this.mode;for(a=0;a<l;a+=4)f==="average"?i=(t[a]+t[a+1]+t[a+2])/3:f==="lightness"?i=(Math.min(t[a],t[a+1],t[a+2])+Math.max(t[a],t[a+1],t[a+2]))/2:f==="luminosity"&&(i=.21*t[a]+.72*t[a+1]+.07*t[a+2]),t[a]=i,t[a+1]=i,t[a+2]=i},retrieveShader:function(r){var e=this.type+"_"+this.mode;if(!r.programCache.hasOwnProperty(e)){var t=this.fragmentSource[this.mode];r.programCache[e]=this.createProgram(r.context,t)}return r.programCache[e]},getUniformLocations:function(r,e){return{uMode:r.getUniformLocation(e,"uMode")}},sendUniformData:function(r,e){var t=1;r.uniform1i(e.uMode,t)},isNeutralState:function(){return!1}}),s.Image.filters.Grayscale.fromObject=s.Image.filters.BaseFilter.fromObject}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Invert=u(h.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(r){var e=r.imageData,t=e.data,a,l=t.length;for(a=0;a<l;a+=4)t[a]=255-t[a],t[a+1]=255-t[a+1],t[a+2]=255-t[a+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(r,e){return{uInvert:r.getUniformLocation(e,"uInvert")}},sendUniformData:function(r,e){r.uniform1i(e.uInvert,this.invert)}}),s.Image.filters.Invert.fromObject=s.Image.filters.BaseFilter.fromObject}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.object.extend,u=s.Image.filters,o=s.util.createClass;u.Noise=o(u.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(e){if(this.noise!==0){var t=e.imageData,a=t.data,l,i=a.length,f=this.noise,p;for(l=0,i=a.length;l<i;l+=4)p=(.5-Math.random())*f,a[l]+=p,a[l+1]+=p,a[l+2]+=p}},getUniformLocations:function(e,t){return{uNoise:e.getUniformLocation(t,"uNoise"),uSeed:e.getUniformLocation(t,"uSeed")}},sendUniformData:function(e,t){e.uniform1f(t.uNoise,this.noise/255),e.uniform1f(t.uSeed,Math.random())},toObject:function(){return h(this.callSuper("toObject"),{noise:this.noise})}}),s.Image.filters.Noise.fromObject=s.Image.filters.BaseFilter.fromObject}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Pixelate=u(h.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(r){var e=r.imageData,t=e.data,a=e.height,l=e.width,i,f,p,v,C,D,V,it,Ct,Dt,Ut;for(f=0;f<a;f+=this.blocksize)for(p=0;p<l;p+=this.blocksize)for(i=f*4*l+p*4,v=t[i],C=t[i+1],D=t[i+2],V=t[i+3],Dt=Math.min(f+this.blocksize,a),Ut=Math.min(p+this.blocksize,l),it=f;it<Dt;it++)for(Ct=p;Ct<Ut;Ct++)i=it*4*l+Ct*4,t[i]=v,t[i+1]=C,t[i+2]=D,t[i+3]=V},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(r,e){return{uBlocksize:r.getUniformLocation(e,"uBlocksize"),uStepW:r.getUniformLocation(e,"uStepW"),uStepH:r.getUniformLocation(e,"uStepH")}},sendUniformData:function(r,e){r.uniform1f(e.uBlocksize,this.blocksize)}}),s.Image.filters.Pixelate.fromObject=s.Image.filters.BaseFilter.fromObject}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.object.extend,u=s.Image.filters,o=s.util.createClass;u.RemoveColor=o(u.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(e){var t=e.imageData,a=t.data,l,i=this.distance*255,f,p,v,C=new s.Color(this.color).getSource(),D=[C[0]-i,C[1]-i,C[2]-i],V=[C[0]+i,C[1]+i,C[2]+i];for(l=0;l<a.length;l+=4)f=a[l],p=a[l+1],v=a[l+2],f>D[0]&&p>D[1]&&v>D[2]&&f<V[0]&&p<V[1]&&v<V[2]&&(a[l+3]=0)},getUniformLocations:function(e,t){return{uLow:e.getUniformLocation(t,"uLow"),uHigh:e.getUniformLocation(t,"uHigh")}},sendUniformData:function(e,t){var a=new s.Color(this.color).getSource(),l=parseFloat(this.distance),i=[0+a[0]/255-l,0+a[1]/255-l,0+a[2]/255-l,1],f=[a[0]/255+l,a[1]/255+l,a[2]/255+l,1];e.uniform4fv(t.uLow,i),e.uniform4fv(t.uHigh,f)},toObject:function(){return h(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),s.Image.filters.RemoveColor.fromObject=s.Image.filters.BaseFilter.fromObject}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass,o={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var r in o)h[r]=u(h.ColorMatrix,{type:r,matrix:o[r],mainParameter:!1,colorsOnly:!0}),s.Image.filters[r].fromObject=s.Image.filters.BaseFilter.fromObject}(wr),function(b){"use strict";var s=b.fabric,h=s.Image.filters,u=s.util.createClass;h.BlendColor=u(h.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(r){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[r]+`}
}`},retrieveShader:function(r){var e=this.type+"_"+this.mode,t;return r.programCache.hasOwnProperty(e)||(t=this.buildSource(this.mode),r.programCache[e]=this.createProgram(r.context,t)),r.programCache[e]},applyTo2d:function(r){var e=r.imageData,t=e.data,a=t.length,l,i,f,p,v,C,D,V=1-this.alpha;D=new s.Color(this.color).getSource(),l=D[0]*this.alpha,i=D[1]*this.alpha,f=D[2]*this.alpha;for(var it=0;it<a;it+=4)switch(p=t[it],v=t[it+1],C=t[it+2],this.mode){case"multiply":t[it]=p*l/255,t[it+1]=v*i/255,t[it+2]=C*f/255;break;case"screen":t[it]=255-(255-p)*(255-l)/255,t[it+1]=255-(255-v)*(255-i)/255,t[it+2]=255-(255-C)*(255-f)/255;break;case"add":t[it]=p+l,t[it+1]=v+i,t[it+2]=C+f;break;case"diff":case"difference":t[it]=Math.abs(p-l),t[it+1]=Math.abs(v-i),t[it+2]=Math.abs(C-f);break;case"subtract":t[it]=p-l,t[it+1]=v-i,t[it+2]=C-f;break;case"darken":t[it]=Math.min(p,l),t[it+1]=Math.min(v,i),t[it+2]=Math.min(C,f);break;case"lighten":t[it]=Math.max(p,l),t[it+1]=Math.max(v,i),t[it+2]=Math.max(C,f);break;case"overlay":t[it]=l<128?2*p*l/255:255-2*(255-p)*(255-l)/255,t[it+1]=i<128?2*v*i/255:255-2*(255-v)*(255-i)/255,t[it+2]=f<128?2*C*f/255:255-2*(255-C)*(255-f)/255;break;case"exclusion":t[it]=l+p-2*l*p/255,t[it+1]=i+v-2*i*v/255,t[it+2]=f+C-2*f*C/255;break;case"tint":t[it]=l+p*V,t[it+1]=i+v*V,t[it+2]=f+C*V}},getUniformLocations:function(r,e){return{uColor:r.getUniformLocation(e,"uColor")}},sendUniformData:function(r,e){var t=new s.Color(this.color).getSource();t[0]=this.alpha*t[0]/255,t[1]=this.alpha*t[1]/255,t[2]=this.alpha*t[2]/255,t[3]=this.alpha,r.uniform4fv(e.uColor,t)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),s.Image.filters.BlendColor.fromObject=s.Image.filters.BaseFilter.fromObject}(wr),function(b){"use strict";var s=b.fabric,h=s.Image.filters,u=s.util.createClass;h.BlendImage=u(h.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(r){var e=this.type+"_"+this.mode,t=this.fragmentSource[this.mode];return r.programCache.hasOwnProperty(e)||(r.programCache[e]=this.createProgram(r.context,t)),r.programCache[e]},applyToWebGL:function(r){var e=r.context,t=this.createTexture(r.filterBackend,this.image);this.bindAdditionalTexture(e,t,e.TEXTURE1),this.callSuper("applyToWebGL",r),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(r,e){return r.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var r=this.image,e=r._element.width,t=r._element.height;return[1/r.scaleX,0,0,0,1/r.scaleY,0,-r.left/e,-r.top/t,1]},applyTo2d:function(r){var e=r.imageData,t=r.filterBackend.resources,a=e.data,l=a.length,i=e.width,f=e.height,p,v,C,D,V,it,Ct,Dt,Ut,pe,Ee=this.image,At;t.blendImage||(t.blendImage=s.util.createCanvasElement()),Ut=t.blendImage,pe=Ut.getContext("2d"),Ut.width!==i||Ut.height!==f?(Ut.width=i,Ut.height=f):pe.clearRect(0,0,i,f),pe.setTransform(Ee.scaleX,0,0,Ee.scaleY,Ee.left,Ee.top),pe.drawImage(Ee._element,0,0,i,f),At=pe.getImageData(0,0,i,f).data;for(var Gt=0;Gt<l;Gt+=4)switch(V=a[Gt],it=a[Gt+1],Ct=a[Gt+2],Dt=a[Gt+3],p=At[Gt],v=At[Gt+1],C=At[Gt+2],D=At[Gt+3],this.mode){case"multiply":a[Gt]=V*p/255,a[Gt+1]=it*v/255,a[Gt+2]=Ct*C/255,a[Gt+3]=Dt*D/255;break;case"mask":a[Gt+3]=D;break}},getUniformLocations:function(r,e){return{uTransformMatrix:r.getUniformLocation(e,"uTransformMatrix"),uImage:r.getUniformLocation(e,"uImage")}},sendUniformData:function(r,e){var t=this.calculateMatrix();r.uniform1i(e.uImage,1),r.uniformMatrix3fv(e.uTransformMatrix,!1,t)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),s.Image.filters.BlendImage.fromObject=function(o,r){s.Image.fromObject(o.image,function(e){var t=s.util.object.clone(o);t.image=e,r(new s.Image.filters.BlendImage(t))})}}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=Math.pow,u=Math.floor,o=Math.sqrt,r=Math.abs,e=Math.round,t=Math.sin,a=Math.ceil,l=s.Image.filters,i=s.util.createClass;l.Resize=i(l.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(p,v){return{uDelta:p.getUniformLocation(v,"uDelta"),uTaps:p.getUniformLocation(v,"uTaps")}},sendUniformData:function(p,v){p.uniform2fv(v.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),p.uniform1fv(v.uTaps,this.taps)},retrieveShader:function(p){var v=this.getFilterWindow(),C=this.type+"_"+v;if(!p.programCache.hasOwnProperty(C)){var D=this.generateShader(v);p.programCache[C]=this.createProgram(p.context,D)}return p.programCache[C]},getFilterWindow:function(){var p=this.tempScale;return Math.ceil(this.lanczosLobes/p)},getTaps:function(){for(var p=this.lanczosCreate(this.lanczosLobes),v=this.tempScale,C=this.getFilterWindow(),D=new Array(C),V=1;V<=C;V++)D[V-1]=p(V*v);return D},generateShader:function(p){for(var v=new Array(p),C=this.fragmentSourceTOP,p,D=1;D<=p;D++)v[D-1]=D+".0 * uDelta";return C+="uniform float uTaps["+p+`];
`,C+=`void main() {
`,C+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,C+=`  float sum = 1.0;
`,v.forEach(function(V,it){C+="  color += texture2D(uTexture, vTexCoord + "+V+") * uTaps["+it+`];
`,C+="  color += texture2D(uTexture, vTexCoord - "+V+") * uTaps["+it+`];
`,C+="  sum += 2.0 * uTaps["+it+`];
`}),C+=`  gl_FragColor = color / sum;
`,C+="}",C},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(p){p.webgl?(p.passes++,this.width=p.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=p.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),p.destinationWidth=this.dW,this._setupFrameBuffer(p),this.applyToWebGL(p),this._swapTextures(p),p.sourceWidth=p.destinationWidth,this.height=p.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),p.destinationHeight=this.dH,this._setupFrameBuffer(p),this.applyToWebGL(p),this._swapTextures(p),p.sourceHeight=p.destinationHeight):this.applyTo2d(p)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(p){return function(v){if(v>=p||v<=-p)return 0;if(v<11920929e-14&&v>-11920929e-14)return 1;v*=Math.PI;var C=v/p;return t(v)/v*t(C)/C}},applyTo2d:function(p){var v=p.imageData,C=this.scaleX,D=this.scaleY;this.rcpScaleX=1/C,this.rcpScaleY=1/D;var V=v.width,it=v.height,Ct=e(V*C),Dt=e(it*D),Ut;this.resizeType==="sliceHack"?Ut=this.sliceByTwo(p,V,it,Ct,Dt):this.resizeType==="hermite"?Ut=this.hermiteFastResize(p,V,it,Ct,Dt):this.resizeType==="bilinear"?Ut=this.bilinearFiltering(p,V,it,Ct,Dt):this.resizeType==="lanczos"&&(Ut=this.lanczosResize(p,V,it,Ct,Dt)),p.imageData=Ut},sliceByTwo:function(p,v,C,D,V){var it=p.imageData,Ct=.5,Dt=!1,Ut=!1,pe=v*Ct,Ee=C*Ct,At=s.filterBackend.resources,Gt,Z,_e=0,er=0,tt=v,te=0;for(At.sliceByTwo||(At.sliceByTwo=document.createElement("canvas")),Gt=At.sliceByTwo,(Gt.width<v*1.5||Gt.height<C)&&(Gt.width=v*1.5,Gt.height=C),Z=Gt.getContext("2d"),Z.clearRect(0,0,v*1.5,C),Z.putImageData(it,0,0),D=u(D),V=u(V);!Dt||!Ut;)v=pe,C=Ee,D<u(pe*Ct)?pe=u(pe*Ct):(pe=D,Dt=!0),V<u(Ee*Ct)?Ee=u(Ee*Ct):(Ee=V,Ut=!0),Z.drawImage(Gt,_e,er,v,C,tt,te,pe,Ee),_e=tt,er=te,te+=Ee;return Z.getImageData(_e,er,D,V)},lanczosResize:function(p,v,C,D,V){function it(lt){var $,F,et,ht,nt,jt,xt,Mt,ae,se,Zt;for(te.x=(lt+.5)*Ee,Y.x=u(te.x),$=0;$<V;$++){for(te.y=($+.5)*At,Y.y=u(te.y),nt=0,jt=0,xt=0,Mt=0,ae=0,F=Y.x-_e;F<=Y.x+_e;F++)if(!(F<0||F>=v)){se=u(1e3*r(F-te.x)),tt[se]||(tt[se]={});for(var Wt=Y.y-er;Wt<=Y.y+er;Wt++)Wt<0||Wt>=C||(Zt=u(1e3*r(Wt-te.y)),tt[se][Zt]||(tt[se][Zt]=pe(o(h(se*Gt,2)+h(Zt*Z,2))/1e3)),et=tt[se][Zt],et>0&&(ht=(Wt*v+F)*4,nt+=et,jt+=et*Ct[ht],xt+=et*Ct[ht+1],Mt+=et*Ct[ht+2],ae+=et*Ct[ht+3]))}ht=($*D+lt)*4,Ut[ht]=jt/nt,Ut[ht+1]=xt/nt,Ut[ht+2]=Mt/nt,Ut[ht+3]=ae/nt}return++lt<D?it(lt):Dt}var Ct=p.imageData.data,Dt=p.ctx.createImageData(D,V),Ut=Dt.data,pe=this.lanczosCreate(this.lanczosLobes),Ee=this.rcpScaleX,At=this.rcpScaleY,Gt=2/this.rcpScaleX,Z=2/this.rcpScaleY,_e=a(Ee*this.lanczosLobes/2),er=a(At*this.lanczosLobes/2),tt={},te={},Y={};return it(0)},bilinearFiltering:function(p,v,C,D,V){var it,Ct,Dt,Ut,pe,Ee,At,Gt,Z,_e,er,tt,te=0,Y,lt=this.rcpScaleX,$=this.rcpScaleY,F=4*(v-1),et=p.imageData,ht=et.data,nt=p.ctx.createImageData(D,V),jt=nt.data;for(At=0;At<V;At++)for(Gt=0;Gt<D;Gt++)for(pe=u(lt*Gt),Ee=u($*At),Z=lt*Gt-pe,_e=$*At-Ee,Y=4*(Ee*v+pe),er=0;er<4;er++)it=ht[Y+er],Ct=ht[Y+4+er],Dt=ht[Y+F+er],Ut=ht[Y+F+4+er],tt=it*(1-Z)*(1-_e)+Ct*Z*(1-_e)+Dt*_e*(1-Z)+Ut*Z*_e,jt[te++]=tt;return nt},hermiteFastResize:function(p,v,C,D,V){for(var it=this.rcpScaleX,Ct=this.rcpScaleY,Dt=a(it/2),Ut=a(Ct/2),pe=p.imageData,Ee=pe.data,At=p.ctx.createImageData(D,V),Gt=At.data,Z=0;Z<V;Z++)for(var _e=0;_e<D;_e++){for(var er=(_e+Z*D)*4,tt=0,te=0,Y=0,lt=0,$=0,F=0,et=0,ht=(Z+.5)*Ct,nt=u(Z*Ct);nt<(Z+1)*Ct;nt++)for(var jt=r(ht-(nt+.5))/Ut,xt=(_e+.5)*it,Mt=jt*jt,ae=u(_e*it);ae<(_e+1)*it;ae++){var se=r(xt-(ae+.5))/Dt,Zt=o(Mt+se*se);Zt>1&&Zt<-1||(tt=2*Zt*Zt*Zt-3*Zt*Zt+1,tt>0&&(se=4*(ae+nt*v),et+=tt*Ee[se+3],Y+=tt,Ee[se+3]<255&&(tt=tt*Ee[se+3]/250),lt+=tt*Ee[se],$+=tt*Ee[se+1],F+=tt*Ee[se+2],te+=tt))}Gt[er]=lt/te,Gt[er+1]=$/te,Gt[er+2]=F/te,Gt[er+3]=et/Y}return At},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),s.Image.filters.Resize.fromObject=s.Image.filters.BaseFilter.fromObject}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Contrast=u(h.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(r){if(this.contrast!==0){var e=r.imageData,t,a,l=e.data,a=l.length,i=Math.floor(this.contrast*255),f=259*(i+255)/(255*(259-i));for(t=0;t<a;t+=4)l[t]=f*(l[t]-128)+128,l[t+1]=f*(l[t+1]-128)+128,l[t+2]=f*(l[t+2]-128)+128}},getUniformLocations:function(r,e){return{uContrast:r.getUniformLocation(e,"uContrast")}},sendUniformData:function(r,e){r.uniform1f(e.uContrast,this.contrast)}}),s.Image.filters.Contrast.fromObject=s.Image.filters.BaseFilter.fromObject}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Saturation=u(h.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(r){if(this.saturation!==0){var e=r.imageData,t=e.data,a=t.length,l=-this.saturation,i,f;for(i=0;i<a;i+=4)f=Math.max(t[i],t[i+1],t[i+2]),t[i]+=f!==t[i]?(f-t[i])*l:0,t[i+1]+=f!==t[i+1]?(f-t[i+1])*l:0,t[i+2]+=f!==t[i+2]?(f-t[i+2])*l:0}},getUniformLocations:function(r,e){return{uSaturation:r.getUniformLocation(e,"uSaturation")}},sendUniformData:function(r,e){r.uniform1f(e.uSaturation,-this.saturation)}}),s.Image.filters.Saturation.fromObject=s.Image.filters.BaseFilter.fromObject}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Vibrance=u(h.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(r){if(this.vibrance!==0){var e=r.imageData,t=e.data,a=t.length,l=-this.vibrance,i,f,p,v;for(i=0;i<a;i+=4)f=Math.max(t[i],t[i+1],t[i+2]),p=(t[i]+t[i+1]+t[i+2])/3,v=Math.abs(f-p)*2/255*l,t[i]+=f!==t[i]?(f-t[i])*v:0,t[i+1]+=f!==t[i+1]?(f-t[i+1])*v:0,t[i+2]+=f!==t[i+2]?(f-t[i+2])*v:0}},getUniformLocations:function(r,e){return{uVibrance:r.getUniformLocation(e,"uVibrance")}},sendUniformData:function(r,e){r.uniform1f(e.uVibrance,-this.vibrance)}}),s.Image.filters.Vibrance.fromObject=s.Image.filters.BaseFilter.fromObject}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Blur=u(h.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(r){r.webgl?(this.aspectRatio=r.sourceWidth/r.sourceHeight,r.passes++,this._setupFrameBuffer(r),this.horizontal=!0,this.applyToWebGL(r),this._swapTextures(r),this._setupFrameBuffer(r),this.horizontal=!1,this.applyToWebGL(r),this._swapTextures(r)):this.applyTo2d(r)},applyTo2d:function(r){r.imageData=this.simpleBlur(r)},simpleBlur:function(r){var e=r.filterBackend.resources,t,a,l=r.imageData.width,i=r.imageData.height;e.blurLayer1||(e.blurLayer1=s.util.createCanvasElement(),e.blurLayer2=s.util.createCanvasElement()),t=e.blurLayer1,a=e.blurLayer2,(t.width!==l||t.height!==i)&&(a.width=t.width=l,a.height=t.height=i);var f=t.getContext("2d"),p=a.getContext("2d"),v=15,C,D,V,it,Ct=this.blur*.06*.5;for(f.putImageData(r.imageData,0,0),p.clearRect(0,0,l,i),it=-v;it<=v;it++)C=(Math.random()-.5)/4,D=it/v,V=Ct*D*l+C,p.globalAlpha=1-Math.abs(D),p.drawImage(t,V,C),f.drawImage(a,0,0),p.globalAlpha=1,p.clearRect(0,0,a.width,a.height);for(it=-v;it<=v;it++)C=(Math.random()-.5)/4,D=it/v,V=Ct*D*i+C,p.globalAlpha=1-Math.abs(D),p.drawImage(t,C,V),f.drawImage(a,0,0),p.globalAlpha=1,p.clearRect(0,0,a.width,a.height);r.ctx.drawImage(t,0,0);var Dt=r.ctx.getImageData(0,0,t.width,t.height);return f.globalAlpha=1,f.clearRect(0,0,t.width,t.height),Dt},getUniformLocations:function(r,e){return{delta:r.getUniformLocation(e,"uDelta")}},sendUniformData:function(r,e){var t=this.chooseRightDelta();r.uniform2fv(e.delta,t)},chooseRightDelta:function(){var r=1,e=[0,0],t;return this.horizontal?this.aspectRatio>1&&(r=1/this.aspectRatio):this.aspectRatio<1&&(r=this.aspectRatio),t=r*this.blur*.12,this.horizontal?e[0]=t:e[1]=t,e}}),h.Blur.fromObject=s.Image.filters.BaseFilter.fromObject}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Gamma=u(h.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(r){this.gamma=[1,1,1],h.BaseFilter.prototype.initialize.call(this,r)},applyTo2d:function(r){var e=r.imageData,t=e.data,a=this.gamma,l=t.length,i=1/a[0],f=1/a[1],p=1/a[2],v;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),v=0,l=256;v<l;v++)this.rVals[v]=Math.pow(v/255,i)*255,this.gVals[v]=Math.pow(v/255,f)*255,this.bVals[v]=Math.pow(v/255,p)*255;for(v=0,l=t.length;v<l;v+=4)t[v]=this.rVals[t[v]],t[v+1]=this.gVals[t[v+1]],t[v+2]=this.bVals[t[v+2]]},getUniformLocations:function(r,e){return{uGamma:r.getUniformLocation(e,"uGamma")}},sendUniformData:function(r,e){r.uniform3fv(e.uGamma,this.gamma)}}),s.Image.filters.Gamma.fromObject=s.Image.filters.BaseFilter.fromObject}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.Composed=u(h.BaseFilter,{type:"Composed",subFilters:[],initialize:function(r){this.callSuper("initialize",r),this.subFilters=this.subFilters.slice(0)},applyTo:function(r){r.passes+=this.subFilters.length-1,this.subFilters.forEach(function(e){e.applyTo(r)})},toObject:function(){return s.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(r){return r.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(r){return!r.isNeutralState()})}}),s.Image.filters.Composed.fromObject=function(o,r){var e=o.subFilters||[],t=e.map(function(l){return new s.Image.filters[l.type](l)}),a=new s.Image.filters.Composed({subFilters:t});return r&&r(a),a}}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.Image.filters,u=s.util.createClass;h.HueRotation=u(h.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var r=this.rotation*Math.PI,e=s.util.cos(r),t=s.util.sin(r),a=1/3,l=Math.sqrt(a)*t,i=1-e;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=e+i/3,this.matrix[1]=a*i-l,this.matrix[2]=a*i+l,this.matrix[5]=a*i+l,this.matrix[6]=e+a*i,this.matrix[7]=a*i-l,this.matrix[10]=a*i-l,this.matrix[11]=a*i+l,this.matrix[12]=e+a*i},isNeutralState:function(r){return this.calculateMatrix(),h.BaseFilter.prototype.isNeutralState.call(this,r)},applyTo:function(r){this.calculateMatrix(),h.BaseFilter.prototype.applyTo.call(this,r)}}),s.Image.filters.HueRotation.fromObject=s.Image.filters.BaseFilter.fromObject}(wr),function(b){"use strict";var s=b.fabric||(b.fabric={}),h=s.util.object.clone;if(s.Text){s.warn("fabric.Text is already defined");return}var u="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");s.Text=s.util.createClass(s.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:s.Object.prototype.stateProperties.concat(u),cacheProperties:s.Object.prototype.cacheProperties.concat(u),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(r,e){this.styles=e?e.styles||{}:{},this.text=r,this.__skipDimension=!0,this.callSuper("initialize",e),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var r=this.path;r&&(r.segmentsInfo=s.util.getPathSegmentsInfo(r.path))},getMeasuringContext:function(){return s._measuringContext||(s._measuringContext=this.canvas&&this.canvas.contextCache||s.util.createCanvasElement().getContext("2d")),s._measuringContext},_splitText:function(){var r=this._splitTextIntoLines(this.text);return this.textLines=r.lines,this._textLines=r.graphemeLines,this._unwrappedTextLines=r._unwrappedLines,this._text=r.graphemeText,r},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var r,e,t,a,l,i,f,p=0,v=this._textLines.length;p<v;p++)if(!(this.textAlign!=="justify"&&(p===v-1||this.isEndOfWrapping(p)))&&(a=0,l=this._textLines[p],e=this.getLineWidth(p),e<this.width&&(f=this.textLines[p].match(this._reSpacesAndTabs)))){t=f.length,r=(this.width-e)/t;for(var C=0,D=l.length;C<=D;C++)i=this.__charBounds[p][C],this._reSpaceAndTab.test(l[C])?(i.width+=r,i.kernedWidth+=r,i.left+=a,a+=r):i.left+=a}},isEndOfWrapping:function(r){return r===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var r=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return r.width+=e*r.zoomX,r.height+=e*r.zoomY,r},_render:function(r){var e=this.path;e&&!e.isNotVisible()&&e._render(r),this._setTextStyles(r),this._renderTextLinesBackground(r),this._renderTextDecoration(r,"underline"),this._renderText(r),this._renderTextDecoration(r,"overline"),this._renderTextDecoration(r,"linethrough")},_renderText:function(r){this.paintFirst==="stroke"?(this._renderTextStroke(r),this._renderTextFill(r)):(this._renderTextFill(r),this._renderTextStroke(r))},_setTextStyles:function(r,e,t){r.textBaseline="alphabetic",r.font=this._getFontDeclaration(e,t)},calcTextWidth:function(){for(var r=this.getLineWidth(0),e=1,t=this._textLines.length;e<t;e++){var a=this.getLineWidth(e);a>r&&(r=a)}return r},_renderTextLine:function(r,e,t,a,l,i){this._renderChars(r,e,t,a,l,i)},_renderTextLinesBackground:function(r){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var e,t,a=r.fillStyle,l,i,f=this._getLeftOffset(),p=this._getTopOffset(),v=0,C=0,D,V,it=this.path,Ct,Dt=0,Ut=this._textLines.length;Dt<Ut;Dt++){if(e=this.getHeightOfLine(Dt),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",Dt)){p+=e;continue}l=this._textLines[Dt],t=this._getLineLeftOffset(Dt),C=0,v=0,i=this.getValueOfPropertyAt(Dt,0,"textBackgroundColor");for(var pe=0,Ee=l.length;pe<Ee;pe++)D=this.__charBounds[Dt][pe],V=this.getValueOfPropertyAt(Dt,pe,"textBackgroundColor"),it?(r.save(),r.translate(D.renderLeft,D.renderTop),r.rotate(D.angle),r.fillStyle=V,V&&r.fillRect(-D.width/2,-e/this.lineHeight*(1-this._fontSizeFraction),D.width,e/this.lineHeight),r.restore()):V!==i?(Ct=f+t+v,this.direction==="rtl"&&(Ct=this.width-Ct-C),r.fillStyle=i,i&&r.fillRect(Ct,p,C,e/this.lineHeight),v=D.left,C=D.width,i=V):C+=D.kernedWidth;V&&!it&&(Ct=f+t+v,this.direction==="rtl"&&(Ct=this.width-Ct-C),r.fillStyle=V,r.fillRect(Ct,p,C,e/this.lineHeight)),p+=e}r.fillStyle=a,this._removeShadow(r)}},getFontCache:function(r){var e=r.fontFamily.toLowerCase();s.charWidthsCache[e]||(s.charWidthsCache[e]={});var t=s.charWidthsCache[e],a=r.fontStyle.toLowerCase()+"_"+(r.fontWeight+"").toLowerCase();return t[a]||(t[a]={}),t[a]},_measureChar:function(r,e,t,a){var l=this.getFontCache(e),i=this._getFontDeclaration(e),f=this._getFontDeclaration(a),p=t+r,v=i===f,C,D,V,it=e.fontSize/this.CACHE_FONT_SIZE,Ct;if(t&&l[t]!==void 0&&(V=l[t]),l[r]!==void 0&&(Ct=C=l[r]),v&&l[p]!==void 0&&(D=l[p],Ct=D-V),C===void 0||V===void 0||D===void 0){var Dt=this.getMeasuringContext();this._setTextStyles(Dt,e,!0)}return C===void 0&&(Ct=C=Dt.measureText(r).width,l[r]=C),V===void 0&&v&&t&&(V=Dt.measureText(t).width,l[t]=V),v&&D===void 0&&(D=Dt.measureText(p).width,l[p]=D,Ct=D-V),{width:C*it,kernedWidth:Ct*it}},getHeightOfChar:function(r,e){return this.getValueOfPropertyAt(r,e,"fontSize")},measureLine:function(r){var e=this._measureLine(r);return this.charSpacing!==0&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(r){var e=0,t,a,l=this._textLines[r],i,f,p=0,v=new Array(l.length),C=0,D,V,it=this.path,Ct=this.pathSide==="right";for(this.__charBounds[r]=v,t=0;t<l.length;t++)a=l[t],f=this._getGraphemeBox(a,r,t,i),v[t]=f,e+=f.kernedWidth,i=a;if(v[t]={left:f?f.left+f.width:0,width:0,kernedWidth:0,height:this.fontSize},it){switch(V=it.segmentsInfo[it.segmentsInfo.length-1].length,D=s.util.getPointOnPath(it.path,0,it.segmentsInfo),D.x+=it.pathOffset.x,D.y+=it.pathOffset.y,this.textAlign){case"left":C=Ct?V-e:0;break;case"center":C=(V-e)/2;break;case"right":C=Ct?0:V-e;break}for(C+=this.pathStartOffset*(Ct?-1:1),t=Ct?l.length-1:0;Ct?t>=0:t<l.length;Ct?t--:t++)f=v[t],C>V?C%=V:C<0&&(C+=V),this._setGraphemeOnPath(C,f,D),C+=f.kernedWidth}return{width:e,numOfSpaces:p}},_setGraphemeOnPath:function(r,e,t){var a=r+e.kernedWidth/2,l=this.path,i=s.util.getPointOnPath(l.path,a,l.segmentsInfo);e.renderLeft=i.x-t.x,e.renderTop=i.y-t.y,e.angle=i.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(r,e,t,a,l){var i=this.getCompleteStyleDeclaration(e,t),f=a?this.getCompleteStyleDeclaration(e,t-1):{},p=this._measureChar(r,i,a,f),v=p.kernedWidth,C=p.width,D;this.charSpacing!==0&&(D=this._getWidthOfCharSpacing(),C+=D,v+=D);var V={width:C,left:0,height:i.fontSize,kernedWidth:v,deltaY:i.deltaY};if(t>0&&!l){var it=this.__charBounds[e][t-1];V.left=it.left+it.width+p.kernedWidth-p.width}return V},getHeightOfLine:function(r){if(this.__lineHeights[r])return this.__lineHeights[r];for(var e=this._textLines[r],t=this.getHeightOfChar(r,0),a=1,l=e.length;a<l;a++)t=Math.max(this.getHeightOfChar(r,a),t);return this.__lineHeights[r]=t*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var r,e=0,t=0,a=this._textLines.length;t<a;t++)r=this.getHeightOfLine(t),e+=t===a-1?r/this.lineHeight:r;return e},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(r,e){r.save();for(var t=0,a=this._getLeftOffset(),l=this._getTopOffset(),i=0,f=this._textLines.length;i<f;i++){var p=this.getHeightOfLine(i),v=p/this.lineHeight,C=this._getLineLeftOffset(i);this._renderTextLine(e,r,this._textLines[i],a+C,l+t+v,i),t+=p}r.restore()},_renderTextFill:function(r){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(r,"fillText")},_renderTextStroke:function(r){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(r),r.save(),this._setLineDash(r,this.strokeDashArray),r.beginPath(),this._renderTextCommon(r,"strokeText"),r.closePath(),r.restore())},_renderChars:function(r,e,t,a,l,i){var f=this.getHeightOfLine(i),p=this.textAlign.indexOf("justify")!==-1,v,C,D="",V,it=0,Ct,Dt=this.path,Ut=!p&&this.charSpacing===0&&this.isEmptyStyles(i)&&!Dt,pe=this.direction==="ltr",Ee=this.direction==="ltr"?1:-1,At;if(e.save(),l-=f*this._fontSizeFraction/this.lineHeight,Ut){e.canvas.setAttribute("dir",pe?"ltr":"rtl"),e.direction=pe?"ltr":"rtl",e.textAlign=pe?"left":"right",this._renderChar(r,e,i,0,t.join(""),a,l,f),e.restore();return}for(var Gt=0,Z=t.length-1;Gt<=Z;Gt++)Ct=Gt===Z||this.charSpacing||Dt,D+=t[Gt],V=this.__charBounds[i][Gt],it===0?(a+=Ee*(V.kernedWidth-V.width),it+=V.width):it+=V.kernedWidth,p&&!Ct&&this._reSpaceAndTab.test(t[Gt])&&(Ct=!0),Ct||(v=v||this.getCompleteStyleDeclaration(i,Gt),C=this.getCompleteStyleDeclaration(i,Gt+1),Ct=this._hasStyleChanged(v,C)),Ct&&(Dt?(e.save(),e.translate(V.renderLeft,V.renderTop),e.rotate(V.angle),this._renderChar(r,e,i,Gt,D,-it/2,0,f),e.restore()):(At=a,e.canvas.setAttribute("dir",pe?"ltr":"rtl"),e.direction=pe?"ltr":"rtl",e.textAlign=pe?"left":"right",this._renderChar(r,e,i,Gt,D,At,l,f)),D="",v=C,a+=Ee*it,it=0);e.restore()},_applyPatternGradientTransformText:function(r){var e=s.util.createCanvasElement(),t,a=this.width+this.strokeWidth,l=this.height+this.strokeWidth;return e.width=a,e.height=l,t=e.getContext("2d"),t.beginPath(),t.moveTo(0,0),t.lineTo(a,0),t.lineTo(a,l),t.lineTo(0,l),t.closePath(),t.translate(a/2,l/2),t.fillStyle=r.toLive(t),this._applyPatternGradientTransform(t,r),t.fill(),t.createPattern(e,"no-repeat")},handleFiller:function(r,e,t){var a,l;return t.toLive?t.gradientUnits==="percentage"||t.gradientTransform||t.patternTransform?(a=-this.width/2,l=-this.height/2,r.translate(a,l),r[e]=this._applyPatternGradientTransformText(t),{offsetX:a,offsetY:l}):(r[e]=t.toLive(r,this),this._applyPatternGradientTransform(r,t)):(r[e]=t,{offsetX:0,offsetY:0})},_setStrokeStyles:function(r,e){return r.lineWidth=e.strokeWidth,r.lineCap=this.strokeLineCap,r.lineDashOffset=this.strokeDashOffset,r.lineJoin=this.strokeLineJoin,r.miterLimit=this.strokeMiterLimit,this.handleFiller(r,"strokeStyle",e.stroke)},_setFillStyles:function(r,e){return this.handleFiller(r,"fillStyle",e.fill)},_renderChar:function(r,e,t,a,l,i,f){var p=this._getStyleDeclaration(t,a),v=this.getCompleteStyleDeclaration(t,a),C=r==="fillText"&&v.fill,D=r==="strokeText"&&v.stroke&&v.strokeWidth,V,it;!D&&!C||(e.save(),C&&(V=this._setFillStyles(e,v)),D&&(it=this._setStrokeStyles(e,v)),e.font=this._getFontDeclaration(v),p&&p.textBackgroundColor&&this._removeShadow(e),p&&p.deltaY&&(f+=p.deltaY),C&&e.fillText(l,i-V.offsetX,f-V.offsetY),D&&e.strokeText(l,i-it.offsetX,f-it.offsetY),e.restore())},setSuperscript:function(r,e){return this._setScript(r,e,this.superscript)},setSubscript:function(r,e){return this._setScript(r,e,this.subscript)},_setScript:function(r,e,t){var a=this.get2DCursorLocation(r,!0),l=this.getValueOfPropertyAt(a.lineIndex,a.charIndex,"fontSize"),i=this.getValueOfPropertyAt(a.lineIndex,a.charIndex,"deltaY"),f={fontSize:l*t.size,deltaY:i+l*t.baseline};return this.setSelectionStyles(f,r,e),this},_hasStyleChanged:function(r,e){return r.fill!==e.fill||r.stroke!==e.stroke||r.strokeWidth!==e.strokeWidth||r.fontSize!==e.fontSize||r.fontFamily!==e.fontFamily||r.fontWeight!==e.fontWeight||r.fontStyle!==e.fontStyle||r.deltaY!==e.deltaY},_hasStyleChangedForSvg:function(r,e){return this._hasStyleChanged(r,e)||r.overline!==e.overline||r.underline!==e.underline||r.linethrough!==e.linethrough},_getLineLeftOffset:function(r){var e=this.getLineWidth(r),t=this.width-e,a=this.textAlign,l=this.direction,i,f=0,i=this.isEndOfWrapping(r);return a==="justify"||a==="justify-center"&&!i||a==="justify-right"&&!i||a==="justify-left"&&!i?0:(a==="center"&&(f=t/2),a==="right"&&(f=t),a==="justify-center"&&(f=t/2),a==="justify-right"&&(f=t),l==="rtl"&&(f-=t),f)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var r=this._forceClearCache;return r||(r=this.hasStateChanged("_dimensionAffectingProps")),r&&(this.dirty=!0,this._forceClearCache=!1),r},getLineWidth:function(r){if(this.__lineWidths[r])return this.__lineWidths[r];var e,t=this._textLines[r],a;return t===""?e=0:(a=this.measureLine(r),e=a.width),this.__lineWidths[r]=e,e},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(r,e,t){var a=this._getStyleDeclaration(r,e);return a&&typeof a[t]!="undefined"?a[t]:this[t]},_renderTextDecoration:function(r,e){if(!(!this[e]&&!this.styleHas(e))){for(var t,a,l,i,f,p,v,C,D=this._getLeftOffset(),V=this._getTopOffset(),it,Ct,Dt,Ut,pe,Ee,At,Gt,Z=this.path,_e=this._getWidthOfCharSpacing(),er=this.offsets[e],tt=0,te=this._textLines.length;tt<te;tt++){if(t=this.getHeightOfLine(tt),!this[e]&&!this.styleHas(e,tt)){V+=t;continue}v=this._textLines[tt],Ee=t/this.lineHeight,i=this._getLineLeftOffset(tt),Ct=0,Dt=0,C=this.getValueOfPropertyAt(tt,0,e),Gt=this.getValueOfPropertyAt(tt,0,"fill"),it=V+Ee*(1-this._fontSizeFraction),a=this.getHeightOfChar(tt,0),f=this.getValueOfPropertyAt(tt,0,"deltaY");for(var Y=0,lt=v.length;Y<lt;Y++)if(Ut=this.__charBounds[tt][Y],pe=this.getValueOfPropertyAt(tt,Y,e),At=this.getValueOfPropertyAt(tt,Y,"fill"),l=this.getHeightOfChar(tt,Y),p=this.getValueOfPropertyAt(tt,Y,"deltaY"),Z&&pe&&At)r.save(),r.fillStyle=Gt,r.translate(Ut.renderLeft,Ut.renderTop),r.rotate(Ut.angle),r.fillRect(-Ut.kernedWidth/2,er*l+p,Ut.kernedWidth,this.fontSize/15),r.restore();else if((pe!==C||At!==Gt||l!==a||p!==f)&&Dt>0){var $=D+i+Ct;this.direction==="rtl"&&($=this.width-$-Dt),C&&Gt&&(r.fillStyle=Gt,r.fillRect($,it+er*a+f,Dt,this.fontSize/15)),Ct=Ut.left,Dt=Ut.width,C=pe,Gt=At,a=l,f=p}else Dt+=Ut.kernedWidth;var $=D+i+Ct;this.direction==="rtl"&&($=this.width-$-Dt),r.fillStyle=At,pe&&At&&r.fillRect($,it+er*a+f,Dt-_e,this.fontSize/15),V+=t}this._removeShadow(r)}},_getFontDeclaration:function(r,e){var t=r||this,a=this.fontFamily,l=s.Text.genericFonts.indexOf(a.toLowerCase())>-1,i=a===void 0||a.indexOf("'")>-1||a.indexOf(",")>-1||a.indexOf('"')>-1||l?t.fontFamily:'"'+t.fontFamily+'"';return[s.isLikelyNode?t.fontWeight:t.fontStyle,s.isLikelyNode?t.fontStyle:t.fontWeight,e?this.CACHE_FONT_SIZE+"px":t.fontSize+"px",i].join(" ")},render:function(r){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",r))},_splitTextIntoLines:function(r){for(var e=r.split(this._reNewline),t=new Array(e.length),a=[`
`],l=[],i=0;i<e.length;i++)t[i]=s.util.string.graphemeSplit(e[i]),l=l.concat(t[i],a);return l.pop(),{_unwrappedLines:t,lines:e,graphemeText:l,graphemeLines:t}},toObject:function(r){var e=u.concat(r),t=this.callSuper("toObject",e);return t.styles=h(this.styles,!0),t.path&&(t.path=this.path.toObject()),t},set:function(r,e){this.callSuper("set",r,e);var t=!1,a=!1;if(typeof r=="object")for(var l in r)l==="path"&&this.setPathInfo(),t=t||this._dimensionAffectingProps.indexOf(l)!==-1,a=a||l==="path";else t=this._dimensionAffectingProps.indexOf(r)!==-1,a=r==="path";return a&&this.setPathInfo(),t&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),s.Text.ATTRIBUTE_NAMES=s.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),s.Text.DEFAULT_SVG_FONT_SIZE=16,s.Text.fromElement=function(o,r,e){if(!o)return r(null);var t=s.parseAttributes(o,s.Text.ATTRIBUTE_NAMES),a=t.textAnchor||"left";if(e=s.util.object.extend(e?h(e):{},t),e.top=e.top||0,e.left=e.left||0,t.textDecoration){var l=t.textDecoration;l.indexOf("underline")!==-1&&(e.underline=!0),l.indexOf("overline")!==-1&&(e.overline=!0),l.indexOf("line-through")!==-1&&(e.linethrough=!0),delete e.textDecoration}"dx"in t&&(e.left+=t.dx),"dy"in t&&(e.top+=t.dy),"fontSize"in e||(e.fontSize=s.Text.DEFAULT_SVG_FONT_SIZE);var i="";"textContent"in o?i=o.textContent:"firstChild"in o&&o.firstChild!==null&&"data"in o.firstChild&&o.firstChild.data!==null&&(i=o.firstChild.data),i=i.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var f=e.strokeWidth;e.strokeWidth=0;var p=new s.Text(i,e),v=p.getScaledHeight()/p.height,C=(p.height+p.strokeWidth)*p.lineHeight-p.height,D=C*v,V=p.getScaledHeight()+D,it=0;a==="center"&&(it=p.getScaledWidth()/2),a==="right"&&(it=p.getScaledWidth()),p.set({left:p.left-it,top:p.top-(V-p.fontSize*(.07+p._fontSizeFraction))/p.lineHeight,strokeWidth:typeof f!="undefined"?f:1}),r(p)},s.Text.fromObject=function(o,r){var e=h(o),t=o.path;return delete e.path,s.Object._fromObject("Text",e,function(a){t?s.Object._fromObject("Path",t,function(l){a.set("path",l),r(a)},"path"):r(a)},"text")},s.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],s.util.createAccessors&&s.util.createAccessors(s.Text)}(wr),function(){L.util.object.extend(L.Text.prototype,{isEmptyStyles:function(s){if(!this.styles||typeof s!="undefined"&&!this.styles[s])return!0;var h=typeof s=="undefined"?this.styles:{line:this.styles[s]};for(var u in h)for(var o in h[u])for(var r in h[u][o])return!1;return!0},styleHas:function(s,h){if(!this.styles||!s||s===""||typeof h!="undefined"&&!this.styles[h])return!1;var u=typeof h=="undefined"?this.styles:{0:this.styles[h]};for(var o in u)for(var r in u[o])if(typeof u[o][r][s]!="undefined")return!0;return!1},cleanStyle:function(s){if(!this.styles||!s||s==="")return!1;var h=this.styles,u=0,o,r,e=!0,t=0,a;for(var l in h){o=0;for(var i in h[l]){var a=h[l][i],f=a.hasOwnProperty(s);u++,f?(r?a[s]!==r&&(e=!1):r=a[s],a[s]===this[s]&&delete a[s]):e=!1,Object.keys(a).length!==0?o++:delete h[l][i]}o===0&&delete h[l]}for(var p=0;p<this._textLines.length;p++)t+=this._textLines[p].length;e&&u===t&&(this[s]=r,this.removeStyle(s))},removeStyle:function(s){if(!(!this.styles||!s||s==="")){var h=this.styles,u,o,r;for(o in h){u=h[o];for(r in u)delete u[r][s],Object.keys(u[r]).length===0&&delete u[r];Object.keys(u).length===0&&delete h[o]}}},_extendStyles:function(s,h){var u=this.get2DCursorLocation(s);this._getLineStyle(u.lineIndex)||this._setLineStyle(u.lineIndex),this._getStyleDeclaration(u.lineIndex,u.charIndex)||this._setStyleDeclaration(u.lineIndex,u.charIndex,{}),L.util.object.extend(this._getStyleDeclaration(u.lineIndex,u.charIndex),h)},get2DCursorLocation:function(s,h){typeof s=="undefined"&&(s=this.selectionStart);for(var u=h?this._unwrappedTextLines:this._textLines,o=u.length,r=0;r<o;r++){if(s<=u[r].length)return{lineIndex:r,charIndex:s};s-=u[r].length+this.missingNewlineOffset(r)}return{lineIndex:r-1,charIndex:u[r-1].length<s?u[r-1].length:s}},getSelectionStyles:function(s,h,u){typeof s=="undefined"&&(s=this.selectionStart||0),typeof h=="undefined"&&(h=this.selectionEnd||s);for(var o=[],r=s;r<h;r++)o.push(this.getStyleAtPosition(r,u));return o},getStyleAtPosition:function(s,h){var u=this.get2DCursorLocation(s),o=h?this.getCompleteStyleDeclaration(u.lineIndex,u.charIndex):this._getStyleDeclaration(u.lineIndex,u.charIndex);return o||{}},setSelectionStyles:function(s,h,u){typeof h=="undefined"&&(h=this.selectionStart||0),typeof u=="undefined"&&(u=this.selectionEnd||h);for(var o=h;o<u;o++)this._extendStyles(o,s);return this._forceClearCache=!0,this},_getStyleDeclaration:function(s,h){var u=this.styles&&this.styles[s];return u?u[h]:null},getCompleteStyleDeclaration:function(s,h){for(var u=this._getStyleDeclaration(s,h)||{},o={},r,e=0;e<this._styleProperties.length;e++)r=this._styleProperties[e],o[r]=typeof u[r]=="undefined"?this[r]:u[r];return o},_setStyleDeclaration:function(s,h,u){this.styles[s][h]=u},_deleteStyleDeclaration:function(s,h){delete this.styles[s][h]},_getLineStyle:function(s){return!!this.styles[s]},_setLineStyle:function(s){this.styles[s]={}},_deleteLineStyle:function(s){delete this.styles[s]}})}(),function(){function b(s){s.textDecoration&&(s.textDecoration.indexOf("underline")>-1&&(s.underline=!0),s.textDecoration.indexOf("line-through")>-1&&(s.linethrough=!0),s.textDecoration.indexOf("overline")>-1&&(s.overline=!0),delete s.textDecoration)}L.IText=L.util.createClass(L.Text,L.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(h,u){this.callSuper("initialize",h,u),this.initBehavior()},setSelectionStart:function(h){h=Math.max(h,0),this._updateAndFire("selectionStart",h)},setSelectionEnd:function(h){h=Math.min(h,this.text.length),this._updateAndFire("selectionEnd",h)},_updateAndFire:function(h,u){this[h]!==u&&(this._fireSelectionChanged(),this[h]=u),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(h){this.clearContextTop(),this.callSuper("render",h),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(h){this.callSuper("_render",h)},clearContextTop:function(h){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var u=this.canvas.contextTop,o=this.canvas.viewportTransform;u.save(),u.transform(o[0],o[1],o[2],o[3],o[4],o[5]),this.transform(u),this._clearTextArea(u),h||u.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this._getCursorBoundaries(),u=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(h,u):this.renderSelection(h,u),u.restore()}},_clearTextArea:function(h){var u=this.width+4,o=this.height+4;h.clearRect(-u/2,-o/2,u,o)},_getCursorBoundaries:function(h){typeof h=="undefined"&&(h=this.selectionStart);var u=this._getLeftOffset(),o=this._getTopOffset(),r=this._getCursorBoundariesOffsets(h);return{left:u,top:o,leftOffset:r.left,topOffset:r.top}},_getCursorBoundariesOffsets:function(h){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var u,o,r,e=0,t=0,a,l=this.get2DCursorLocation(h);r=l.charIndex,o=l.lineIndex;for(var i=0;i<o;i++)e+=this.getHeightOfLine(i);u=this._getLineLeftOffset(o);var f=this.__charBounds[o][r];return f&&(t=f.left),this.charSpacing!==0&&r===this._textLines[o].length&&(t-=this._getWidthOfCharSpacing()),a={top:e,left:u+(t>0?t:0)},this.direction==="rtl"&&(a.left*=-1),this.cursorOffsetCache=a,this.cursorOffsetCache},renderCursor:function(h,u){var o=this.get2DCursorLocation(),r=o.lineIndex,e=o.charIndex>0?o.charIndex-1:0,t=this.getValueOfPropertyAt(r,e,"fontSize"),a=this.scaleX*this.canvas.getZoom(),l=this.cursorWidth/a,i=h.topOffset,f=this.getValueOfPropertyAt(r,e,"deltaY");i+=(1-this._fontSizeFraction)*this.getHeightOfLine(r)/this.lineHeight-t*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(h,u),u.fillStyle=this.cursorColor||this.getValueOfPropertyAt(r,e,"fill"),u.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,u.fillRect(h.left+h.leftOffset-l/2,i+h.top+f,l,t)},renderSelection:function(h,u){for(var o=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,r=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,e=this.textAlign.indexOf("justify")!==-1,t=this.get2DCursorLocation(o),a=this.get2DCursorLocation(r),l=t.lineIndex,i=a.lineIndex,f=t.charIndex<0?0:t.charIndex,p=a.charIndex<0?0:a.charIndex,v=l;v<=i;v++){var C=this._getLineLeftOffset(v)||0,D=this.getHeightOfLine(v),V=0,it=0,Ct=0;if(v===l&&(it=this.__charBounds[l][f].left),v>=l&&v<i)Ct=e&&!this.isEndOfWrapping(v)?this.width:this.getLineWidth(v)||5;else if(v===i)if(p===0)Ct=this.__charBounds[i][p].left;else{var Dt=this._getWidthOfCharSpacing();Ct=this.__charBounds[i][p-1].left+this.__charBounds[i][p-1].width-Dt}V=D,(this.lineHeight<1||v===i&&this.lineHeight>1)&&(D/=this.lineHeight);var Ut=h.left+C+it,pe=Ct-it,Ee=D,At=0;this.inCompositionMode?(u.fillStyle=this.compositionColor||"black",Ee=1,At=D):u.fillStyle=this.selectionColor,this.direction==="rtl"&&(Ut=this.width-Ut-pe),u.fillRect(Ut,h.top+h.topOffset+At,pe,Ee),h.topOffset+=V}},getCurrentCharFontSize:function(){var h=this._getCurrentCharIndex();return this.getValueOfPropertyAt(h.l,h.c,"fontSize")},getCurrentCharColor:function(){var h=this._getCurrentCharIndex();return this.getValueOfPropertyAt(h.l,h.c,"fill")},_getCurrentCharIndex:function(){var h=this.get2DCursorLocation(this.selectionStart,!0),u=h.charIndex>0?h.charIndex-1:0;return{l:h.lineIndex,c:u}}}),L.IText.fromObject=function(s,h){if(b(s),s.styles)for(var u in s.styles)for(var o in s.styles[u])b(s.styles[u][o]);L.Object._fromObject("IText",s,h,"text")}}(),function(){var b=L.util.object.clone;L.util.object.extend(L.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var h=this;this.on("added",function(){var u=h.canvas;u&&(u._hasITextHandlers||(u._hasITextHandlers=!0,h._initCanvasHandlers(u)),u._iTextInstances=u._iTextInstances||[],u._iTextInstances.push(h))})},initRemovedHandler:function(){var h=this;this.on("removed",function(){var u=h.canvas;u&&(u._iTextInstances=u._iTextInstances||[],L.util.removeFromArray(u._iTextInstances,h),u._iTextInstances.length===0&&(u._hasITextHandlers=!1,h._removeCanvasHandlers(u)))})},_initCanvasHandlers:function(h){h._mouseUpITextHandler=function(){h._iTextInstances&&h._iTextInstances.forEach(function(u){u.__isMousedown=!1})},h.on("mouse:up",h._mouseUpITextHandler)},_removeCanvasHandlers:function(h){h.off("mouse:up",h._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(h,u,o,r){var e;return e={isAborted:!1,abort:function(){this.isAborted=!0}},h.animate("_currentCursorOpacity",u,{duration:o,onComplete:function(){e.isAborted||h[r]()},onChange:function(){h.canvas&&h.selectionStart===h.selectionEnd&&h.renderCursorOrSelection()},abort:function(){return e.isAborted}}),e},_onTickComplete:function(){var h=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){h._currentTickCompleteState=h._animateCursor(h,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(h){var u=this,o=h?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){u._tick()},o)},abortCursorAnimation:function(){var h=this._currentTickState||this._currentTickCompleteState,u=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,h&&u&&u.clearContext(u.contextTop||u.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(h){var u=0,o=h-1;if(this._reSpace.test(this._text[o]))for(;this._reSpace.test(this._text[o]);)u++,o--;for(;/\S/.test(this._text[o])&&o>-1;)u++,o--;return h-u},findWordBoundaryRight:function(h){var u=0,o=h;if(this._reSpace.test(this._text[o]))for(;this._reSpace.test(this._text[o]);)u++,o++;for(;/\S/.test(this._text[o])&&o<this._text.length;)u++,o++;return h+u},findLineBoundaryLeft:function(h){for(var u=0,o=h-1;!/\n/.test(this._text[o])&&o>-1;)u++,o--;return h-u},findLineBoundaryRight:function(h){for(var u=0,o=h;!/\n/.test(this._text[o])&&o<this._text.length;)u++,o++;return h+u},searchWordBoundary:function(h,u){for(var o=this._text,r=this._reSpace.test(o[h])?h-1:h,e=o[r],t=L.reNonWord;!t.test(e)&&r>0&&r<o.length;)r+=u,e=o[r];return t.test(e)&&(r+=u===1?0:1),r},selectWord:function(h){h=h||this.selectionStart;var u=this.searchWordBoundary(h,-1),o=this.searchWordBoundary(h,1);this.selectionStart=u,this.selectionEnd=o,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(h){h=h||this.selectionStart;var u=this.findLineBoundaryLeft(h),o=this.findLineBoundaryRight(h);return this.selectionStart=u,this.selectionEnd=o,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(h){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(h),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(h){h._iTextInstances&&h._iTextInstances.forEach(function(u){u.selected=!1,u.isEditing&&u.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(h){if(!(!this.__isMousedown||!this.isEditing)){var u=this.getSelectionStartFromPointer(h.e),o=this.selectionStart,r=this.selectionEnd;(u!==this.__selectionStartOnMouseDown||o===r)&&(o===u||r===u)||(u>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=u):(this.selectionStart=u,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==o||this.selectionEnd!==r)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(h,u,o){var r=o.slice(0,h),e=L.util.string.graphemeSplit(r).length;if(h===u)return{selectionStart:e,selectionEnd:e};var t=o.slice(h,u),a=L.util.string.graphemeSplit(t).length;return{selectionStart:e,selectionEnd:e+a}},fromGraphemeToStringSelection:function(h,u,o){var r=o.slice(0,h),e=r.join("").length;if(h===u)return{selectionStart:e,selectionEnd:e};var t=o.slice(h,u),a=t.join("").length;return{selectionStart:e,selectionEnd:e+a}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var h=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=h.selectionStart,this.hiddenTextarea.selectionEnd=h.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(!!this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var h=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=h.selectionEnd,this.inCompositionMode||(this.selectionStart=h.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var h=this._calcTextareaPosition();this.hiddenTextarea.style.left=h.left,this.hiddenTextarea.style.top=h.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var h=this.inCompositionMode?this.compositionStart:this.selectionStart,u=this._getCursorBoundaries(h),o=this.get2DCursorLocation(h),r=o.lineIndex,e=o.charIndex,t=this.getValueOfPropertyAt(r,e,"fontSize")*this.lineHeight,a=u.leftOffset,l=this.calcTransformMatrix(),i={x:u.left+a,y:u.top+u.topOffset+t},f=this.canvas.getRetinaScaling(),p=this.canvas.upperCanvasEl,v=p.width/f,C=p.height/f,D=v-t,V=C-t,it=p.clientWidth/v,Ct=p.clientHeight/C;return i=L.util.transformPoint(i,l),i=L.util.transformPoint(i,this.canvas.viewportTransform),i.x*=it,i.y*=Ct,i.x<0&&(i.x=0),i.x>D&&(i.x=D),i.y<0&&(i.y=0),i.y>V&&(i.y=V),i.x+=this.canvas._offset.left,i.y+=this.canvas._offset.top,{left:i.x+"px",top:i.y+"px",fontSize:t+"px",charHeight:t}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var h=this._textBeforeEdit!==this.text,u=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,u&&(u.blur&&u.blur(),u.parentNode&&u.parentNode.removeChild(u)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),h&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),h&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var h in this.styles)this._textLines[h]||delete this.styles[h]},removeStyleFromTo:function(h,u){var o=this.get2DCursorLocation(h,!0),r=this.get2DCursorLocation(u,!0),e=o.lineIndex,t=o.charIndex,a=r.lineIndex,l=r.charIndex,i,f;if(e!==a){if(this.styles[e])for(i=t;i<this._unwrappedTextLines[e].length;i++)delete this.styles[e][i];if(this.styles[a])for(i=l;i<this._unwrappedTextLines[a].length;i++)f=this.styles[a][i],f&&(this.styles[e]||(this.styles[e]={}),this.styles[e][t+i-l]=f);for(i=e+1;i<=a;i++)delete this.styles[i];this.shiftLineStyles(a,e-a)}else if(this.styles[e]){f=this.styles[e];var p=l-t,v,C;for(i=t;i<l;i++)delete f[i];for(C in this.styles[e])v=parseInt(C,10),v>=l&&(f[v-p]=f[C],delete f[C])}},shiftLineStyles:function(h,u){var o=b(this.styles);for(var r in this.styles){var e=parseInt(r,10);e>h&&(this.styles[e+u]=o[e],o[e-u]||delete this.styles[e])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(h,u,o,r){var e,t={},a=!1,l=this._unwrappedTextLines[h].length===u;o||(o=1),this.shiftLineStyles(h,o),this.styles[h]&&(e=this.styles[h][u===0?u:u-1]);for(var i in this.styles[h]){var f=parseInt(i,10);f>=u&&(a=!0,t[f-u]=this.styles[h][i],l&&u===0||delete this.styles[h][i])}var p=!1;for(a&&!l&&(this.styles[h+o]=t,p=!0),p&&o--;o>0;)r&&r[o-1]?this.styles[h+o]={0:b(r[o-1])}:e?this.styles[h+o]={0:b(e)}:delete this.styles[h+o],o--;this._forceClearCache=!0},insertCharStyleObject:function(h,u,o,r){this.styles||(this.styles={});var e=this.styles[h],t=e?b(e):{};o||(o=1);for(var a in t){var l=parseInt(a,10);l>=u&&(e[l+o]=t[l],t[l-o]||delete e[l])}if(this._forceClearCache=!0,r){for(;o--;)!Object.keys(r[o]).length||(this.styles[h]||(this.styles[h]={}),this.styles[h][u+o]=b(r[o]));return}if(!!e)for(var i=e[u?u-1:1];i&&o--;)this.styles[h][u+o]=b(i)},insertNewStyleBlock:function(h,u,o){for(var r=this.get2DCursorLocation(u,!0),e=[0],t=0,a=0;a<h.length;a++)h[a]===`
`?(t++,e[t]=0):e[t]++;e[0]>0&&(this.insertCharStyleObject(r.lineIndex,r.charIndex,e[0],o),o=o&&o.slice(e[0]+1)),t&&this.insertNewlineStyleObject(r.lineIndex,r.charIndex+e[0],t);for(var a=1;a<t;a++)e[a]>0?this.insertCharStyleObject(r.lineIndex+a,0,e[a],o):o&&(this.styles[r.lineIndex+a][0]=o[0]),o=o&&o.slice(e[a]+1);e[a]>0&&this.insertCharStyleObject(r.lineIndex+a,0,e[a],o)},setSelectionStartEndWithShift:function(h,u,o){o<=h?(u===h?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=h),this.selectionStart=o):o>h&&o<u?this._selectionDirection==="right"?this.selectionEnd=o:this.selectionStart=o:(u===h?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=u),this.selectionEnd=o)},setSelectionInBoundaries:function(){var h=this.text.length;this.selectionStart>h?this.selectionStart=h:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>h?this.selectionEnd=h:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),L.util.object.extend(L.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(s){if(!!this.canvas){this.__newClickTime=+new Date;var h=s.pointer;this.isTripleClick(h)&&(this.fire("tripleclick",s),this._stopEvent(s.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=h,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(s){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===s.x&&this.__lastPointer.y===s.y},_stopEvent:function(s){s.preventDefault&&s.preventDefault(),s.stopPropagation&&s.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(s){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(s.e))},tripleClickHandler:function(s){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(s.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(s){!this.canvas||!this.editable||s.e.button&&s.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(s.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(s){!this.canvas||!this.editable||s.e.button&&s.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(s){if(this.__isMousedown=!1,!(!this.editable||this.group||s.transform&&s.transform.actionPerformed||s.e.button&&s.e.button!==1)){if(this.canvas){var h=this.canvas._activeObject;if(h&&h!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(s.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(s){var h=this.getSelectionStartFromPointer(s),u=this.selectionStart,o=this.selectionEnd;s.shiftKey?this.setSelectionStartEndWithShift(u,o,h):(this.selectionStart=h,this.selectionEnd=h),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(s){for(var h=this.getLocalPointer(s),u=0,o=0,r=0,e=0,t=0,a,l,i=0,f=this._textLines.length;i<f&&r<=h.y;i++)r+=this.getHeightOfLine(i)*this.scaleY,t=i,i>0&&(e+=this._textLines[i-1].length+this.missingNewlineOffset(i-1));a=this._getLineLeftOffset(t),o=a*this.scaleX,l=this._textLines[t],this.direction==="rtl"&&(h.x=this.width*this.scaleX-h.x+o);for(var p=0,v=l.length;p<v&&(u=o,o+=this.__charBounds[t][p].kernedWidth*this.scaleX,o<=h.x);p++)e++;return this._getNewSelectionStartFromOffset(h,u,o,e,v)},_getNewSelectionStartFromOffset:function(s,h,u,o,r){var e=s.x-h,t=u-s.x,a=t>e||t<0?0:1,l=o+a;return this.flipX&&(l=r-l),l>this._text.length&&(l=this._text.length),l}}),L.util.object.extend(L.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=L.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var s=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+s.top+"; left: "+s.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uFF70top: "+s.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):L.document.body.appendChild(this.hiddenTextarea),L.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),L.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),L.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),L.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),L.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),L.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),L.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),L.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),L.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(L.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(s){if(!!this.isEditing){var h=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(s.keyCode in h)this[h[s.keyCode]](s);else if(s.keyCode in this.ctrlKeysMapDown&&(s.ctrlKey||s.metaKey))this[this.ctrlKeysMapDown[s.keyCode]](s);else return;s.stopImmediatePropagation(),s.preventDefault(),s.keyCode>=33&&s.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(s){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(s.keyCode in this.ctrlKeysMapUp&&(s.ctrlKey||s.metaKey))this[this.ctrlKeysMapUp[s.keyCode]](s);else return;s.stopImmediatePropagation(),s.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(s){var h=this.fromPaste;if(this.fromPaste=!1,s&&s.stopPropagation(),!!this.isEditing){var u=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,o=this._text.length,r=u.length,e,t,a=r-o,l=this.selectionStart,i=this.selectionEnd,f=l!==i,p,v,C;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var D=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),V=l>D.selectionStart;f?(e=this._text.slice(l,i),a+=i-l):r<o&&(V?e=this._text.slice(i+a,i):e=this._text.slice(l,l-a)),t=u.slice(D.selectionEnd-a,D.selectionEnd),e&&e.length&&(t.length&&(p=this.getSelectionStyles(l,l+1,!1),p=t.map(function(){return p[0]})),f?(v=l,C=i):V?(v=i-e.length,C=i):(v=i,C=i+e.length),this.removeStyleFromTo(v,C)),t.length&&(h&&t.join("")===L.copiedText&&!L.disableStyleCopyPaste&&(p=L.copiedTextStyle),this.insertNewStyleBlock(t,l,p)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(s){this.compositionStart=s.target.selectionStart,this.compositionEnd=s.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(L.copiedText=this.getSelectedText(),L.disableStyleCopyPaste?L.copiedTextStyle=null:L.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(s){return s&&s.clipboardData||L.window.clipboardData},_getWidthBeforeCursor:function(s,h){var u=this._getLineLeftOffset(s),o;return h>0&&(o=this.__charBounds[s][h-1],u+=o.left+o.width),u},getDownCursorOffset:function(s,h){var u=this._getSelectionForOffset(s,h),o=this.get2DCursorLocation(u),r=o.lineIndex;if(r===this._textLines.length-1||s.metaKey||s.keyCode===34)return this._text.length-u;var e=o.charIndex,t=this._getWidthBeforeCursor(r,e),a=this._getIndexOnLine(r+1,t),l=this._textLines[r].slice(e);return l.length+a+1+this.missingNewlineOffset(r)},_getSelectionForOffset:function(s,h){return s.shiftKey&&this.selectionStart!==this.selectionEnd&&h?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(s,h){var u=this._getSelectionForOffset(s,h),o=this.get2DCursorLocation(u),r=o.lineIndex;if(r===0||s.metaKey||s.keyCode===33)return-u;var e=o.charIndex,t=this._getWidthBeforeCursor(r,e),a=this._getIndexOnLine(r-1,t),l=this._textLines[r].slice(0,e),i=this.missingNewlineOffset(r-1);return-this._textLines[r-1].length+a-l.length+(1-i)},_getIndexOnLine:function(s,h){for(var u=this._textLines[s],o=this._getLineLeftOffset(s),r=o,e=0,t,a,l=0,i=u.length;l<i;l++)if(t=this.__charBounds[s][l].width,r+=t,r>h){a=!0;var f=r-t,p=r,v=Math.abs(f-h),C=Math.abs(p-h);e=C<v?l:l-1;break}return a||(e=u.length-1),e},moveCursorDown:function(s){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",s)},moveCursorUp:function(s){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",s)},_moveCursorUpOrDown:function(s,h){var u="get"+s+"CursorOffset",o=this[u](h,this._selectionDirection==="right");h.shiftKey?this.moveCursorWithShift(o):this.moveCursorWithoutShift(o),o!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(s){var h=this._selectionDirection==="left"?this.selectionStart+s:this.selectionEnd+s;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,h),s!==0},moveCursorWithoutShift:function(s){return s<0?(this.selectionStart+=s,this.selectionEnd=this.selectionStart):(this.selectionEnd+=s,this.selectionStart=this.selectionEnd),s!==0},moveCursorLeft:function(s){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",s)},_move:function(s,h,u){var o;if(s.altKey)o=this["findWordBoundary"+u](this[h]);else if(s.metaKey||s.keyCode===35||s.keyCode===36)o=this["findLineBoundary"+u](this[h]);else return this[h]+=u==="Left"?-1:1,!0;if(typeof o!==void 0&&this[h]!==o)return this[h]=o,!0},_moveLeft:function(s,h){return this._move(s,h,"Left")},_moveRight:function(s,h){return this._move(s,h,"Right")},moveCursorLeftWithoutShift:function(s){var h=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(h=this._moveLeft(s,"selectionStart")),this.selectionEnd=this.selectionStart,h},moveCursorLeftWithShift:function(s){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(s,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(s,"selectionStart")},moveCursorRight:function(s){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",s)},_moveCursorLeftOrRight:function(s,h){var u="moveCursor"+s+"With";this._currentCursorOpacity=1,h.shiftKey?u+="Shift":u+="outShift",this[u](h)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(s){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(s,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(s,"selectionEnd")},moveCursorRightWithoutShift:function(s){var h=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(h=this._moveRight(s,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,h},removeChars:function(s,h){typeof h=="undefined"&&(h=s+1),this.removeStyleFromTo(s,h),this._text.splice(s,h-s),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(s,h,u,o){typeof o=="undefined"&&(o=u),o>u&&this.removeStyleFromTo(u,o);var r=L.util.string.graphemeSplit(s);this.insertNewStyleBlock(r,u,h),this._text=[].concat(this._text.slice(0,u),r,this._text.slice(o)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var b=L.util.toFixed,s=/  +/g;L.util.object.extend(L.Text.prototype,{_toSVG:function(){var u=this._getSVGLeftTopOffsets(),o=this._getSVGTextAndBg(u.textTop,u.textLeft);return this._wrapSVGTextAndBg(o)},toSVG:function(u){return this._createBaseSVGMarkup(this._toSVG(),{reviver:u,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(u){var o=!0,r=this.getSvgTextDecoration(this);return[u.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",r?'text-decoration="'+r+'" ':"",'style="',this.getSvgStyles(o),'"',this.addPaintOrder()," >",u.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(u,o){var r=[],e=[],t=u,a;this._setSVGBg(e);for(var l=0,i=this._textLines.length;l<i;l++)a=this._getLineLeftOffset(l),(this.textBackgroundColor||this.styleHas("textBackgroundColor",l))&&this._setSVGTextLineBg(e,l,o+a,t),this._setSVGTextLineText(r,l,o+a,t),t+=this.getHeightOfLine(l);return{textSpans:r,textBgRects:e}},_createTextCharSpan:function(u,o,r,e){var t=u!==u.trim()||u.match(s),a=this.getSvgSpanStyles(o,t),l=a?'style="'+a+'"':"",i=o.deltaY,f="",p=L.Object.NUM_FRACTION_DIGITS;return i&&(f=' dy="'+b(i,p)+'" '),['<tspan x="',b(r,p),'" y="',b(e,p),'" ',f,l,">",L.util.string.escapeXml(u),"</tspan>"].join("")},_setSVGTextLineText:function(u,o,r,e){var t=this.getHeightOfLine(o),a=this.textAlign.indexOf("justify")!==-1,l,i,f="",p,v,C=0,D=this._textLines[o],V;e+=t*(1-this._fontSizeFraction)/this.lineHeight;for(var it=0,Ct=D.length-1;it<=Ct;it++)V=it===Ct||this.charSpacing,f+=D[it],p=this.__charBounds[o][it],C===0?(r+=p.kernedWidth-p.width,C+=p.width):C+=p.kernedWidth,a&&!V&&this._reSpaceAndTab.test(D[it])&&(V=!0),V||(l=l||this.getCompleteStyleDeclaration(o,it),i=this.getCompleteStyleDeclaration(o,it+1),V=this._hasStyleChangedForSvg(l,i)),V&&(v=this._getStyleDeclaration(o,it)||{},u.push(this._createTextCharSpan(f,v,r,e)),f="",l=i,r+=C,C=0)},_pushTextBgRect:function(u,o,r,e,t,a){var l=L.Object.NUM_FRACTION_DIGITS;u.push("		<rect ",this._getFillAttributes(o),' x="',b(r,l),'" y="',b(e,l),'" width="',b(t,l),'" height="',b(a,l),`"></rect>
`)},_setSVGTextLineBg:function(u,o,r,e){for(var t=this._textLines[o],a=this.getHeightOfLine(o)/this.lineHeight,l=0,i=0,f,p,v=this.getValueOfPropertyAt(o,0,"textBackgroundColor"),C=0,D=t.length;C<D;C++)f=this.__charBounds[o][C],p=this.getValueOfPropertyAt(o,C,"textBackgroundColor"),p!==v?(v&&this._pushTextBgRect(u,v,r+i,e,l,a),i=f.left,l=f.width,v=p):l+=f.kernedWidth;p&&this._pushTextBgRect(u,p,r+i,e,l,a)},_getFillAttributes:function(u){var o=u&&typeof u=="string"?new L.Color(u):"";return!o||!o.getSource()||o.getAlpha()===1?'fill="'+u+'"':'opacity="'+o.getAlpha()+'" fill="'+o.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(u){for(var o=0,r=0,e=0;e<u;e++)o+=this.getHeightOfLine(e);return r=this.getHeightOfLine(e),{lineTop:o,offset:(this._fontSizeMult-this._fontSizeFraction)*r/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(u){var o=L.Object.prototype.getSvgStyles.call(this,u);return o+" white-space: pre;"}})}(),function(b){"use strict";var s=b.fabric||(b.fabric={});s.Textbox=s.util.createClass(s.IText,s.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:s.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(u){for(var o=0,r=0,e=0,t={},a=0;a<u.graphemeLines.length;a++)u.graphemeText[e]===`
`&&a>0?(r=0,e++,o++):!this.splitByGrapheme&&this._reSpaceAndTab.test(u.graphemeText[e])&&a>0&&(r++,e++),t[a]={line:o,offset:r},e+=u.graphemeLines[a].length,r+=u.graphemeLines[a].length;return t},styleHas:function(u,o){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[o];r&&(o=r.line)}return s.Text.prototype.styleHas.call(this,u,o)},isEmptyStyles:function(u){if(!this.styles)return!0;var o=0,r=u+1,e,t,a=!1,l=this._styleMap[u],i=this._styleMap[u+1];l&&(u=l.line,o=l.offset),i&&(r=i.line,a=r===u,e=i.offset),t=typeof u=="undefined"?this.styles:{line:this.styles[u]};for(var f in t)for(var p in t[f])if(p>=o&&(!a||p<e))for(var v in t[f][p])return!1;return!0},_getStyleDeclaration:function(u,o){if(this._styleMap&&!this.isWrapping){var r=this._styleMap[u];if(!r)return null;u=r.line,o=r.offset+o}return this.callSuper("_getStyleDeclaration",u,o)},_setStyleDeclaration:function(u,o,r){var e=this._styleMap[u];u=e.line,o=e.offset+o,this.styles[u][o]=r},_deleteStyleDeclaration:function(u,o){var r=this._styleMap[u];u=r.line,o=r.offset+o,delete this.styles[u][o]},_getLineStyle:function(u){var o=this._styleMap[u];return!!this.styles[o.line]},_setLineStyle:function(u){var o=this._styleMap[u];this.styles[o.line]={}},_wrapText:function(u,o){var r=[],e;for(this.isWrapping=!0,e=0;e<u.length;e++)r=r.concat(this._wrapLine(u[e],e,o));return this.isWrapping=!1,r},_measureWord:function(u,o,r){var e=0,t,a=!0;r=r||0;for(var l=0,i=u.length;l<i;l++){var f=this._getGraphemeBox(u[l],o,l+r,t,a);e+=f.kernedWidth,t=u[l]}return e},_wrapLine:function(u,o,r,e){var t=0,a=this.splitByGrapheme,l=[],i=[],f=a?s.util.string.graphemeSplit(u):u.split(this._wordJoiners),p="",v=0,C=a?"":" ",D=0,V=0,it=0,Ct=!0,Dt=this._getWidthOfCharSpacing(),e=e||0;f.length===0&&f.push([]),r-=e;for(var Ut=0;Ut<f.length;Ut++)p=a?f[Ut]:s.util.string.graphemeSplit(f[Ut]),D=this._measureWord(p,o,v),v+=p.length,t+=V+D-Dt,t>r&&!Ct?(l.push(i),i=[],t=D,Ct=!0):t+=Dt,!Ct&&!a&&i.push(C),i=i.concat(p),V=a?0:this._measureWord([C],o,v),v++,Ct=!1,D>it&&(it=D);return Ut&&l.push(i),it+e>this.dynamicMinWidth&&(this.dynamicMinWidth=it-Dt+e),l},isEndOfWrapping:function(u){return!this._styleMap[u+1]||this._styleMap[u+1].line!==this._styleMap[u].line},missingNewlineOffset:function(u){return this.splitByGrapheme?this.isEndOfWrapping(u)?1:0:1},_splitTextIntoLines:function(u){for(var o=s.Text.prototype._splitTextIntoLines.call(this,u),r=this._wrapText(o.lines,this.width),e=new Array(r.length),t=0;t<r.length;t++)e[t]=r[t].join("");return o.lines=e,o.graphemeLines=r,o},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var u={};for(var o in this._styleMap)this._textLines[o]&&(u[this._styleMap[o].line]=1);for(var o in this.styles)u[o]||delete this.styles[o]},toObject:function(u){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(u))}}),s.Textbox.fromObject=function(h,u){return s.Object._fromObject("Textbox",h,u,"text")}}(wr),function(){var b=L.controlsUtils,s=b.scaleSkewCursorStyleHandler,h=b.scaleCursorStyleHandler,u=b.scalingEqually,o=b.scalingYOrSkewingX,r=b.scalingXOrSkewingY,e=b.scaleOrSkewActionName,t=L.Object.prototype.controls;if(t.ml=new L.Control({x:-.5,y:0,cursorStyleHandler:s,actionHandler:r,getActionName:e}),t.mr=new L.Control({x:.5,y:0,cursorStyleHandler:s,actionHandler:r,getActionName:e}),t.mb=new L.Control({x:0,y:.5,cursorStyleHandler:s,actionHandler:o,getActionName:e}),t.mt=new L.Control({x:0,y:-.5,cursorStyleHandler:s,actionHandler:o,getActionName:e}),t.tl=new L.Control({x:-.5,y:-.5,cursorStyleHandler:h,actionHandler:u}),t.tr=new L.Control({x:.5,y:-.5,cursorStyleHandler:h,actionHandler:u}),t.bl=new L.Control({x:-.5,y:.5,cursorStyleHandler:h,actionHandler:u}),t.br=new L.Control({x:.5,y:.5,cursorStyleHandler:h,actionHandler:u}),t.mtr=new L.Control({x:0,y:-.5,actionHandler:b.rotationWithSnapping,cursorStyleHandler:b.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),L.Textbox){var a=L.Textbox.prototype.controls={};a.mtr=t.mtr,a.tr=t.tr,a.br=t.br,a.tl=t.tl,a.bl=t.bl,a.mt=t.mt,a.mb=t.mb,a.mr=new L.Control({x:.5,y:0,actionHandler:b.changeWidth,cursorStyleHandler:s,actionName:"resizing"}),a.ml=new L.Control({x:-.5,y:0,actionHandler:b.changeWidth,cursorStyleHandler:s,actionName:"resizing"})}}()}).call(this,De("tjlA").Buffer)},fu2T:function(un,wr,De){"use strict";var Je=De("EFp3"),L=De.n(Je),be=De("3dVZ"),pt=De.n(be)},gK9i:function(un,wr,De){"use strict";var Je=De("wx14"),L=De("rePB"),be=De("UESt"),pt=De("TSYQ"),dt=De.n(pt),Yt=De("KQm4"),Q=De("1OyB"),b=De("vuIU"),s=De("Ji7U"),h=De("LK+K"),u=De("U8pU"),o=De("q1tI"),r=De("Gytx"),e=De.n(r),t=De("Zm9Q"),a=De("8XRh"),l=De("ODXe"),i=o.forwardRef(function(tt,te){var Y,lt=tt.prefixCls,$=tt.forceRender,F=tt.className,et=tt.style,ht=tt.children,nt=tt.isActive,jt=tt.role,xt=o.useState(nt||$),Mt=Object(l.a)(xt,2),ae=Mt[0],se=Mt[1];return o.useEffect(function(){($||nt)&&se(!0)},[$,nt]),ae?o.createElement("div",{ref:te,className:dt()("".concat(lt,"-content"),(Y={},Object(L.a)(Y,"".concat(lt,"-content-active"),nt),Object(L.a)(Y,"".concat(lt,"-content-inactive"),!nt),Y),F),style:et,role:jt},o.createElement("div",{className:"".concat(lt,"-content-box")},ht)):null});i.displayName="PanelContent";var f=i,p=function(tt){Object(s.a)(Y,tt);var te=Object(h.a)(Y);function Y(){var lt;Object(Q.a)(this,Y);for(var $=arguments.length,F=new Array($),et=0;et<$;et++)F[et]=arguments[et];return lt=te.call.apply(te,[this].concat(F)),lt.onItemClick=function(){var ht=lt.props,nt=ht.onItemClick,jt=ht.panelKey;typeof nt=="function"&&nt(jt)},lt.handleKeyPress=function(ht){(ht.key==="Enter"||ht.keyCode===13||ht.which===13)&&lt.onItemClick()},lt.renderIcon=function(){var ht=lt.props,nt=ht.showArrow,jt=ht.expandIcon,xt=ht.prefixCls,Mt=ht.collapsible;if(!nt)return null;var ae=typeof jt=="function"?jt(lt.props):o.createElement("i",{className:"arrow"});return ae&&o.createElement("div",{className:"".concat(xt,"-expand-icon"),onClick:Mt==="header"?lt.onItemClick:null},ae)},lt.renderTitle=function(){var ht=lt.props,nt=ht.header,jt=ht.prefixCls,xt=ht.collapsible;return o.createElement("span",{className:"".concat(jt,"-header-text"),onClick:xt==="header"?lt.onItemClick:null},nt)},lt}return Object(b.a)(Y,[{key:"shouldComponentUpdate",value:function($){return!e()(this.props,$)}},{key:"render",value:function(){var $,F,et=this.props,ht=et.className,nt=et.id,jt=et.style,xt=et.prefixCls,Mt=et.headerClass,ae=et.children,se=et.isActive,Zt=et.destroyInactivePanel,Wt=et.accordion,oe=et.forceRender,N=et.openMotion,zt=et.extra,U=et.collapsible,x=U==="disabled",A=U==="header",H=dt()(($={},Object(L.a)($,"".concat(xt,"-item"),!0),Object(L.a)($,"".concat(xt,"-item-active"),se),Object(L.a)($,"".concat(xt,"-item-disabled"),x),$),ht),at=dt()("".concat(xt,"-header"),(F={},Object(L.a)(F,Mt,Mt),Object(L.a)(F,"".concat(xt,"-header-collapsible-only"),A),F)),Ot={className:at,"aria-expanded":se,"aria-disabled":x,onKeyPress:this.handleKeyPress};A||(Ot.onClick=this.onItemClick,Ot.role=Wt?"tab":"button",Ot.tabIndex=x?-1:0);var _t=zt!=null&&typeof zt!="boolean";return o.createElement("div",{className:H,style:jt,id:nt},o.createElement("div",Ot,this.renderIcon(),this.renderTitle(),_t&&o.createElement("div",{className:"".concat(xt,"-extra")},zt)),o.createElement(a.default,Object(Je.a)({visible:se,leavedClassName:"".concat(xt,"-content-hidden")},N,{forceRender:oe,removeOnLeave:Zt}),function(we,Me){var Se=we.className,Ge=we.style;return o.createElement(f,{ref:Me,prefixCls:xt,className:Se,style:Ge,isActive:se,forceRender:oe,role:Wt?"tabpanel":null},ae)}))}}]),Y}(o.Component);p.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var v=p;function C(tt){var te=tt;if(!Array.isArray(te)){var Y=Object(u.a)(te);te=Y==="number"||Y==="string"?[te]:[]}return te.map(function(lt){return String(lt)})}var D=function(tt){Object(s.a)(Y,tt);var te=Object(h.a)(Y);function Y(lt){var $;Object(Q.a)(this,Y),$=te.call(this,lt),$.onClickItem=function(nt){var jt=$.state.activeKey;if($.props.accordion)jt=jt[0]===nt?[]:[nt];else{jt=Object(Yt.a)(jt);var xt=jt.indexOf(nt),Mt=xt>-1;Mt?jt.splice(xt,1):jt.push(nt)}$.setActiveKey(jt)},$.getNewChild=function(nt,jt){if(!nt)return null;var xt=$.state.activeKey,Mt=$.props,ae=Mt.prefixCls,se=Mt.openMotion,Zt=Mt.accordion,Wt=Mt.destroyInactivePanel,oe=Mt.expandIcon,N=Mt.collapsible,zt=nt.key||String(jt),U=nt.props,x=U.header,A=U.headerClass,H=U.destroyInactivePanel,at=U.collapsible,Ot=!1;Zt?Ot=xt[0]===zt:Ot=xt.indexOf(zt)>-1;var _t=at!=null?at:N,we={key:zt,panelKey:zt,header:x,headerClass:A,isActive:Ot,prefixCls:ae,destroyInactivePanel:H!=null?H:Wt,openMotion:se,accordion:Zt,children:nt.props.children,onItemClick:_t==="disabled"?null:$.onClickItem,expandIcon:oe,collapsible:_t};return typeof nt.type=="string"?nt:(Object.keys(we).forEach(function(Me){typeof we[Me]=="undefined"&&delete we[Me]}),o.cloneElement(nt,we))},$.getItems=function(){var nt=$.props.children;return Object(t.a)(nt).map($.getNewChild)},$.setActiveKey=function(nt){"activeKey"in $.props||$.setState({activeKey:nt}),$.props.onChange($.props.accordion?nt[0]:nt)};var F=lt.activeKey,et=lt.defaultActiveKey,ht=et;return"activeKey"in lt&&(ht=F),$.state={activeKey:C(ht)},$}return Object(b.a)(Y,[{key:"shouldComponentUpdate",value:function($,F){return!e()(this.props,$)||!e()(this.state,F)}},{key:"render",value:function(){var $,F=this.props,et=F.prefixCls,ht=F.className,nt=F.style,jt=F.accordion,xt=dt()(($={},Object(L.a)($,et,!0),Object(L.a)($,ht,!!ht),$));return o.createElement("div",{className:xt,style:nt,role:jt?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function($){var F={};return"activeKey"in $&&(F.activeKey=C($.activeKey)),F}}]),Y}(o.Component);D.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},D.Panel=v;var V=D,it=V,Ct=V.Panel,Dt=De("bT9E"),Ut=De("H84U"),pe=De("EXcs"),Ee=De("0n0R"),At=function(te){var Y=o.useContext(Ut.b),lt=Y.getPrefixCls,$=te.prefixCls,F=te.className,et=F===void 0?"":F,ht=te.showArrow,nt=ht===void 0?!0:ht,jt=lt("collapse",$),xt=dt()(Object(L.a)({},"".concat(jt,"-no-arrow"),!nt),et);return o.createElement(it.Panel,Object(Je.a)({},te,{prefixCls:jt,className:xt}))},Gt=At,Z=function(te){var Y,lt=o.useContext(Ut.b),$=lt.getPrefixCls,F=lt.direction,et=te.prefixCls,ht=te.className,nt=ht===void 0?"":ht,jt=te.bordered,xt=jt===void 0?!0:jt,Mt=te.ghost,ae=te.expandIconPosition,se=ae===void 0?"start":ae,Zt=$("collapse",et),Wt=o.useMemo(function(){return se==="left"?"start":se==="right"?"end":se},[se]),oe=function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},H=te.expandIcon,at=H?H(A):o.createElement(be.a,{rotate:A.isActive?90:void 0});return Object(Ee.a)(at,function(){return{className:dt()(at.props.className,"".concat(Zt,"-arrow"))}})},N=dt()("".concat(Zt,"-icon-position-").concat(Wt),(Y={},Object(L.a)(Y,"".concat(Zt,"-borderless"),!xt),Object(L.a)(Y,"".concat(Zt,"-rtl"),F==="rtl"),Object(L.a)(Y,"".concat(Zt,"-ghost"),!!Mt),Y),nt),zt=Object(Je.a)(Object(Je.a)({},pe.a),{motionAppear:!1,leavedClassName:"".concat(Zt,"-content-hidden")}),U=function(){var A=te.children;return Object(t.a)(A).map(function(H,at){var Ot;if((Ot=H.props)===null||Ot===void 0?void 0:Ot.disabled){var _t=H.key||String(at),we=H.props,Me=we.disabled,Se=we.collapsible,Ge=Object(Je.a)(Object(Je.a)({},Object(Dt.a)(H.props,["disabled"])),{key:_t,collapsible:Se!=null?Se:Me?"disabled":void 0});return Object(Ee.a)(H,Ge)}return H})};return o.createElement(it,Object(Je.a)({openMotion:zt},te,{expandIcon:oe,prefixCls:Zt,className:N}),U())};Z.Panel=Gt;var _e=Z,er=wr.a=_e},hPry:function(un,wr,De){"use strict";un.exports=De("cbZj")},i680:function(un,wr,De){"use strict";(function(Je){De.d(wr,"a",function(){return _e}),De.d(wr,"b",function(){return tt}),De.d(wr,"c",function(){return te}),De.d(wr,"e",function(){return Y});var L=De("cDf5"),be=De.n(L),pt=De("crp1");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.1 Built on 2022-01-28T15:37:57.791Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Hollnder <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var dt=function(){return typeof window!="undefined"?window:typeof Je!="undefined"?Je:typeof self!="undefined"?self:this}();function Yt(){dt.console&&typeof dt.console.log=="function"&&dt.console.log.apply(dt.console,arguments)}var Q={log:Yt,warn:function(g){dt.console&&(typeof dt.console.warn=="function"?dt.console.warn.apply(dt.console,arguments):Yt.call(null,arguments))},error:function(g){dt.console&&(typeof dt.console.error=="function"?dt.console.error.apply(dt.console,arguments):Yt(g))}};function b(k,g,y){var w=new XMLHttpRequest;w.open("GET",k),w.responseType="blob",w.onload=function(){r(w.response,g,y)},w.onerror=function(){Q.error("could not download file")},w.send()}function s(k){var g=new XMLHttpRequest;g.open("HEAD",k,!1);try{g.send()}catch(y){}return g.status>=200&&g.status<=299}function h(k){try{k.dispatchEvent(new MouseEvent("click"))}catch(y){var g=document.createEvent("MouseEvents");g.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),k.dispatchEvent(g)}}var u,o,r=dt.saveAs||((typeof window=="undefined"?"undefined":be()(window))!=="object"||window!==dt?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(k,g,y){var w=dt.URL||dt.webkitURL,T=document.createElement("a");g=g||k.name||"download",T.download=g,T.rel="noopener",typeof k=="string"?(T.href=k,T.origin!==location.origin?s(T.href)?b(k,g,y):h(T,T.target="_blank"):h(T)):(T.href=w.createObjectURL(k),setTimeout(function(){w.revokeObjectURL(T.href)},4e4),setTimeout(function(){h(T)},0))}:"msSaveOrOpenBlob"in navigator?function(k,g,y){if(g=g||k.name||"download",typeof k=="string")if(s(k))b(k,g,y);else{var w=document.createElement("a");w.href=k,w.target="_blank",setTimeout(function(){h(w)})}else navigator.msSaveOrOpenBlob(function(T,S){return S===void 0?S={autoBom:!1}:be()(S)!=="object"&&(Q.warn("Deprecated: Expected third argument to be a object"),S={autoBom:!S}),S.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(T.type)?new Blob([String.fromCharCode(65279),T],{type:T.type}):T}(k,y),g)}:function(k,g,y,w){if((w=w||open("","_blank"))&&(w.document.title=w.document.body.innerText="downloading..."),typeof k=="string")return b(k,g,y);var T=k.type==="application/octet-stream",S=/constructor/i.test(dt.HTMLElement)||dt.safari,P=/CriOS\/[\d]+/.test(navigator.userAgent);if((P||T&&S)&&(typeof FileReader=="undefined"?"undefined":be()(FileReader))==="object"){var j=new FileReader;j.onloadend=function(){var bt=j.result;bt=P?bt:bt.replace(/^data:[^;]*;/,"data:attachment/file;"),w?w.location.href=bt:location=bt,w=null},j.readAsDataURL(k)}else{var I=dt.URL||dt.webkitURL,K=I.createObjectURL(k);w?w.location=K:location.href=K,w=null,setTimeout(function(){I.revokeObjectURL(K)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function e(k){var g;k=k||"",this.ok=!1,k.charAt(0)=="#"&&(k=k.substr(1,6)),k={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[k=(k=k.replace(/ /g,"")).toLowerCase()]||k;for(var y=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(I){return[parseInt(I[1]),parseInt(I[2]),parseInt(I[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(I){return[parseInt(I[1],16),parseInt(I[2],16),parseInt(I[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(I){return[parseInt(I[1]+I[1],16),parseInt(I[2]+I[2],16),parseInt(I[3]+I[3],16)]}}],w=0;w<y.length;w++){var T=y[w].re,S=y[w].process,P=T.exec(k);P&&(g=S(P),this.r=g[0],this.g=g[1],this.b=g[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var j=this.r.toString(16),I=this.g.toString(16),K=this.b.toString(16);return j.length==1&&(j="0"+j),I.length==1&&(I="0"+I),K.length==1&&(K="0"+K),"#"+j+I+K}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function t(k,g){var y=k[0],w=k[1],T=k[2],S=k[3];y=l(y,w,T,S,g[0],7,-680876936),S=l(S,y,w,T,g[1],12,-389564586),T=l(T,S,y,w,g[2],17,606105819),w=l(w,T,S,y,g[3],22,-1044525330),y=l(y,w,T,S,g[4],7,-176418897),S=l(S,y,w,T,g[5],12,1200080426),T=l(T,S,y,w,g[6],17,-1473231341),w=l(w,T,S,y,g[7],22,-45705983),y=l(y,w,T,S,g[8],7,1770035416),S=l(S,y,w,T,g[9],12,-1958414417),T=l(T,S,y,w,g[10],17,-42063),w=l(w,T,S,y,g[11],22,-1990404162),y=l(y,w,T,S,g[12],7,1804603682),S=l(S,y,w,T,g[13],12,-40341101),T=l(T,S,y,w,g[14],17,-1502002290),y=i(y,w=l(w,T,S,y,g[15],22,1236535329),T,S,g[1],5,-165796510),S=i(S,y,w,T,g[6],9,-1069501632),T=i(T,S,y,w,g[11],14,643717713),w=i(w,T,S,y,g[0],20,-373897302),y=i(y,w,T,S,g[5],5,-701558691),S=i(S,y,w,T,g[10],9,38016083),T=i(T,S,y,w,g[15],14,-660478335),w=i(w,T,S,y,g[4],20,-405537848),y=i(y,w,T,S,g[9],5,568446438),S=i(S,y,w,T,g[14],9,-1019803690),T=i(T,S,y,w,g[3],14,-187363961),w=i(w,T,S,y,g[8],20,1163531501),y=i(y,w,T,S,g[13],5,-1444681467),S=i(S,y,w,T,g[2],9,-51403784),T=i(T,S,y,w,g[7],14,1735328473),y=f(y,w=i(w,T,S,y,g[12],20,-1926607734),T,S,g[5],4,-378558),S=f(S,y,w,T,g[8],11,-2022574463),T=f(T,S,y,w,g[11],16,1839030562),w=f(w,T,S,y,g[14],23,-35309556),y=f(y,w,T,S,g[1],4,-1530992060),S=f(S,y,w,T,g[4],11,1272893353),T=f(T,S,y,w,g[7],16,-155497632),w=f(w,T,S,y,g[10],23,-1094730640),y=f(y,w,T,S,g[13],4,681279174),S=f(S,y,w,T,g[0],11,-358537222),T=f(T,S,y,w,g[3],16,-722521979),w=f(w,T,S,y,g[6],23,76029189),y=f(y,w,T,S,g[9],4,-640364487),S=f(S,y,w,T,g[12],11,-421815835),T=f(T,S,y,w,g[15],16,530742520),y=p(y,w=f(w,T,S,y,g[2],23,-995338651),T,S,g[0],6,-198630844),S=p(S,y,w,T,g[7],10,1126891415),T=p(T,S,y,w,g[14],15,-1416354905),w=p(w,T,S,y,g[5],21,-57434055),y=p(y,w,T,S,g[12],6,1700485571),S=p(S,y,w,T,g[3],10,-1894986606),T=p(T,S,y,w,g[10],15,-1051523),w=p(w,T,S,y,g[1],21,-2054922799),y=p(y,w,T,S,g[8],6,1873313359),S=p(S,y,w,T,g[15],10,-30611744),T=p(T,S,y,w,g[6],15,-1560198380),w=p(w,T,S,y,g[13],21,1309151649),y=p(y,w,T,S,g[4],6,-145523070),S=p(S,y,w,T,g[11],10,-1120210379),T=p(T,S,y,w,g[2],15,718787259),w=p(w,T,S,y,g[9],21,-343485551),k[0]=Ut(y,k[0]),k[1]=Ut(w,k[1]),k[2]=Ut(T,k[2]),k[3]=Ut(S,k[3])}function a(k,g,y,w,T,S){return g=Ut(Ut(g,k),Ut(w,S)),Ut(g<<T|g>>>32-T,y)}function l(k,g,y,w,T,S,P){return a(g&y|~g&w,k,g,T,S,P)}function i(k,g,y,w,T,S,P){return a(g&w|y&~w,k,g,T,S,P)}function f(k,g,y,w,T,S,P){return a(g^y^w,k,g,T,S,P)}function p(k,g,y,w,T,S,P){return a(y^(g|~w),k,g,T,S,P)}function v(k){var g,y=k.length,w=[1732584193,-271733879,-1732584194,271733878];for(g=64;g<=k.length;g+=64)t(w,C(k.substring(g-64,g)));k=k.substring(g-64);var T=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(g=0;g<k.length;g++)T[g>>2]|=k.charCodeAt(g)<<(g%4<<3);if(T[g>>2]|=128<<(g%4<<3),g>55)for(t(w,T),g=0;g<16;g++)T[g]=0;return T[14]=8*y,t(w,T),w}function C(k){var g,y=[];for(g=0;g<64;g+=4)y[g>>2]=k.charCodeAt(g)+(k.charCodeAt(g+1)<<8)+(k.charCodeAt(g+2)<<16)+(k.charCodeAt(g+3)<<24);return y}u=dt.atob.bind(dt),o=dt.btoa.bind(dt);var D="0123456789abcdef".split("");function V(k){for(var g="",y=0;y<4;y++)g+=D[k>>8*y+4&15]+D[k>>8*y&15];return g}function it(k){return String.fromCharCode((255&k)>>0,(65280&k)>>8,(16711680&k)>>16,(4278190080&k)>>24)}function Ct(k){return v(k).map(it).join("")}var Dt=function(k){for(var g=0;g<k.length;g++)k[g]=V(k[g]);return k.join("")}(v("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ut(k,g){if(Dt){var y=(65535&k)+(65535&g);return(k>>16)+(g>>16)+(y>>16)<<16|65535&y}return k+g&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function pe(k,g){var y,w,T,S;if(k!==y){for(var P=(T=k,S=1+(256/k.length>>0),new Array(S+1).join(T)),j=[],I=0;I<256;I++)j[I]=I;var K=0;for(I=0;I<256;I++){var bt=j[I];K=(K+bt+P.charCodeAt(I))%256,j[I]=j[K],j[K]=bt}y=k,w=j}else j=w;var vt=g.length,Lt=0,G=0,Vt="";for(I=0;I<vt;I++)G=(G+(bt=j[Lt=(Lt+1)%256]))%256,j[Lt]=j[G],j[G]=bt,P=j[(j[Lt]+j[G])%256],Vt+=String.fromCharCode(g.charCodeAt(I)^P);return Vt}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var Ee={print:4,modify:8,copy:16,"annot-forms":32};function At(k,g,y,w){this.v=1,this.r=2;var T=192;k.forEach(function(j){if(Ee.perm!==void 0)throw new Error("Invalid permission: "+j);T+=Ee[j]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var S=(g+this.padding).substr(0,32),P=(y+this.padding).substr(0,32);this.O=this.processOwnerPassword(S,P),this.P=-(1+(255^T)),this.encryptionKey=Ct(S+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(w)).substr(0,5),this.U=pe(this.encryptionKey,this.padding)}function Gt(k){if(/[^\u0000-\u00ff]/.test(k))throw new Error("Invalid PDF Name Object: "+k+", Only accept ASCII characters.");for(var g="",y=k.length,w=0;w<y;w++){var T=k.charCodeAt(w);T<33||T===35||T===37||T===40||T===41||T===47||T===60||T===62||T===91||T===93||T===123||T===125||T>126?g+="#"+("0"+T.toString(16)).slice(-2):g+=k[w]}return g}function Z(k){if(be()(k)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var g={};this.subscribe=function(y,w,T){if(T=T||!1,typeof y!="string"||typeof w!="function"||typeof T!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");g.hasOwnProperty(y)||(g[y]={});var S=Math.random().toString(35);return g[y][S]=[w,!!T],S},this.unsubscribe=function(y){for(var w in g)if(g[w][y])return delete g[w][y],Object.keys(g[w]).length===0&&delete g[w],!0;return!1},this.publish=function(y){if(g.hasOwnProperty(y)){var w=Array.prototype.slice.call(arguments,1),T=[];for(var S in g[y]){var P=g[y][S];try{P[0].apply(k,w)}catch(j){dt.console&&Q.error("jsPDF PubSub Error",j.message,j)}P[1]&&T.push(S)}T.length&&T.forEach(this.unsubscribe)}},this.getTopics=function(){return g}}function _e(k){if(!(this instanceof _e))return new _e(k);var g="opacity,stroke-opacity".split(",");for(var y in k)k.hasOwnProperty(y)&&g.indexOf(y)>=0&&(this[y]=k[y]);this.id="",this.objectNumber=-1}function er(k,g){this.gState=k,this.matrix=g,this.id="",this.objectNumber=-1}function tt(k,g,y,w,T){if(!(this instanceof tt))return new tt(k,g,y,w,T);this.type=k==="axial"?2:3,this.coords=g,this.colors=y,er.call(this,w,T)}function te(k,g,y,w,T){if(!(this instanceof te))return new te(k,g,y,w,T);this.boundingBox=k,this.xStep=g,this.yStep=y,this.stream="",this.cloneIndex=0,er.call(this,w,T)}function Y(k){var g,y=typeof arguments[0]=="string"?arguments[0]:"p",w=arguments[1],T=arguments[2],S=arguments[3],P=[],j=1,I=16,K="S",bt=null;be()(k=k||{})==="object"&&(y=k.orientation,w=k.unit||w,T=k.format||T,S=k.compress||k.compressPdf||S,(bt=k.encryption||null)!==null&&(bt.userPassword=bt.userPassword||"",bt.ownerPassword=bt.ownerPassword||"",bt.userPermissions=bt.userPermissions||[]),j=typeof k.userUnit=="number"?Math.abs(k.userUnit):1,k.precision!==void 0&&(g=k.precision),k.floatPrecision!==void 0&&(I=k.floatPrecision),K=k.defaultPathOperation||"S"),P=k.filters||(S===!0?["FlateEncode"]:P),w=w||"mm",y=(""+(y||"P")).toLowerCase();var vt=k.putOnlyUsedFonts||!1,Lt={},G={internal:{},__private__:{}};G.__private__.PubSub=Z;var Vt="1.3",Ft=G.__private__.getPdfVersion=function(){return Vt};G.__private__.setPdfVersion=function(M){Vt=M};var $t={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};G.__private__.getPageFormats=function(){return $t};var Nt=G.__private__.getPageFormat=function(M){return $t[M]};T=T||"a4";var gt={COMPAT:"compat",ADVANCED:"advanced"},Ae=gt.COMPAT;function Be(){this.saveGraphicsState(),qt(new nn(Nr,0,0,-Nr,0,ns()*Nr).toString()+" cm"),this.setFontSize(this.getFontSize()/Nr),K="n",Ae=gt.ADVANCED}function Qe(){this.restoreGraphicsState(),K="S",Ae=gt.COMPAT}var fr=G.__private__.combineFontStyleAndFontWeight=function(M,z){if(M=="bold"&&z=="normal"||M=="bold"&&z==400||M=="normal"&&z=="italic"||M=="bold"&&z=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return z&&(M=z==400||z==="normal"?M==="italic"?"italic":"normal":z!=700&&z!=="bold"||M!=="normal"?(z==700?"bold":z)+""+M:"bold"),M};G.advancedAPI=function(M){var z=Ae===gt.COMPAT;return z&&Be.call(this),typeof M!="function"||(M(this),z&&Qe.call(this)),this},G.compatAPI=function(M){var z=Ae===gt.ADVANCED;return z&&Qe.call(this),typeof M!="function"||(M(this),z&&Be.call(this)),this},G.isAdvancedAPI=function(){return Ae===gt.ADVANCED};var Ye,mr=function(z){if(Ae!==gt.ADVANCED)throw new Error(z+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},he=G.roundToPrecision=G.__private__.roundToPrecision=function(M,z){var Et=g||z;if(isNaN(M)||isNaN(Et))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return M.toFixed(Et).replace(/0+$/,"")};Ye=G.hpf=G.__private__.hpf=typeof I=="number"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return he(M,I)}:I==="smart"?function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return he(M,M>-1&&M<1?16:5)}:function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.hpf");return he(M,16)};var Ve=G.f2=G.__private__.f2=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f2");return he(M,2)},ie=G.__private__.f3=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.f3");return he(M,3)},Bt=G.scale=G.__private__.scale=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.scale");return Ae===gt.COMPAT?M*Nr:Ae===gt.ADVANCED?M:void 0},ue=function(z){return Ae===gt.COMPAT?ns()-z:Ae===gt.ADVANCED?z:void 0},le=function(z){return Bt(ue(z))};G.__private__.setPrecision=G.setPrecision=function(M){typeof parseInt(M,10)=="number"&&(g=parseInt(M,10))};var $e,Ke="00000000000000000000000000000000",gr=G.__private__.getFileId=function(){return Ke},Re=G.__private__.setFileId=function(M){return Ke=M!==void 0&&/^[a-fA-F0-9]{32}$/.test(M)?M.toUpperCase():Ke.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),bt!==null&&(Ti=new At(bt.userPermissions,bt.userPassword,bt.ownerPassword,Ke)),Ke};G.setFileId=function(M){return Re(M),this},G.getFileId=function(){return gr()};var _r=G.__private__.convertDateToPDFDate=function(M){var z=M.getTimezoneOffset(),Et=z<0?"+":"-",re=Math.floor(Math.abs(z/60)),Le=Math.abs(z%60),Fe=[Et,Qt(re),"'",Qt(Le),"'"].join("");return["D:",M.getFullYear(),Qt(M.getMonth()+1),Qt(M.getDate()),Qt(M.getHours()),Qt(M.getMinutes()),Qt(M.getSeconds()),Fe].join("")},tr=G.__private__.convertPDFDateToDate=function(M){var z=parseInt(M.substr(2,4),10),Et=parseInt(M.substr(6,2),10)-1,re=parseInt(M.substr(8,2),10),Le=parseInt(M.substr(10,2),10),Fe=parseInt(M.substr(12,2),10),yr=parseInt(M.substr(14,2),10);return new Date(z,Et,re,Le,Fe,yr,0)},Tr=G.__private__.setCreationDate=function(M){var z;if(M===void 0&&(M=new Date),M instanceof Date)z=_r(M);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(M))throw new Error("Invalid argument passed to jsPDF.setCreationDate");z=M}return $e=z},ee=G.__private__.getCreationDate=function(M){var z=$e;return M==="jsDate"&&(z=tr($e)),z};G.setCreationDate=function(M){return Tr(M),this},G.getCreationDate=function(M){return ee(M)};var wt,Qt=G.__private__.padd2=function(M){return("0"+parseInt(M)).slice(-2)},me=G.__private__.padd2Hex=function(M){return("00"+(M=M.toString())).substr(M.length)},Oe=0,Ie=[],ar=[],We=0,Xe=[],vr=[],Wr=!1,Pr=ar,rn=function(){Oe=0,We=0,ar=[],Ie=[],Xe=[],Is=Ai(),Na=Ai()};G.__private__.setCustomOutputDestination=function(M){Wr=!0,Pr=M};var Xr=function(z){Wr||(Pr=z)};G.__private__.resetCustomOutputDestination=function(){Wr=!1,Pr=ar};var qt=G.__private__.out=function(M){return M=M.toString(),We+=M.length+1,Pr.push(M),Pr},sr=G.__private__.write=function(M){return qt(arguments.length===1?M.toString():Array.prototype.join.call(arguments," "))},Fr=G.__private__.getArrayBuffer=function(M){for(var z=M.length,Et=new ArrayBuffer(z),re=new Uint8Array(Et);z--;)re[z]=M.charCodeAt(z);return Et},ir=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];G.__private__.getStandardFonts=function(){return ir};var Ir=k.fontSize||16;G.__private__.setFontSize=G.setFontSize=function(M){return Ir=Ae===gt.ADVANCED?M/Nr:M,this};var Or,zr=G.__private__.getFontSize=G.getFontSize=function(){return Ae===gt.COMPAT?Ir:Ir*Nr},Hr=k.R2L||!1;G.__private__.setR2L=G.setR2L=function(M){return Hr=M,this},G.__private__.getR2L=G.getR2L=function(){return Hr};var Vr,In=G.__private__.setZoomMode=function(M){var z=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(M))Or=M;else if(isNaN(M)){if(z.indexOf(M)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+M+'" is not recognized.');Or=M}else Or=parseInt(M,10)};G.__private__.getZoomMode=function(){return Or};var en,On=G.__private__.setPageMode=function(M){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(M)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+M+'" is not recognized.');Vr=M};G.__private__.getPageMode=function(){return Vr};var Gn=G.__private__.setLayoutMode=function(M){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(M)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+M+'" is not recognized.');en=M};G.__private__.getLayoutMode=function(){return en},G.__private__.setDisplayMode=G.setDisplayMode=function(M,z,Et){return In(M),Gn(z),On(Et),this};var Zr={title:"",subject:"",author:"",keywords:"",creator:""};G.__private__.getDocumentProperty=function(M){if(Object.keys(Zr).indexOf(M)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Zr[M]},G.__private__.getDocumentProperties=function(){return Zr},G.__private__.setDocumentProperties=G.setProperties=G.setDocumentProperties=function(M){for(var z in Zr)Zr.hasOwnProperty(z)&&M[z]&&(Zr[z]=M[z]);return this},G.__private__.setDocumentProperty=function(M,z){if(Object.keys(Zr).indexOf(M)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Zr[M]=z};var fn,Nr,Bi,Vn,Ci,yn={},gi={},ba=[],Bn={},Ka={},li={},mi={},na=null,Qn=0,hn=[],Un=new Z(G),eo=k.hotfixes||[],ji={},Za={},Ja=[],nn=function M(z,Et,re,Le,Fe,yr){if(!(this instanceof M))return new M(z,Et,re,Le,Fe,yr);isNaN(z)&&(z=1),isNaN(Et)&&(Et=0),isNaN(re)&&(re=0),isNaN(Le)&&(Le=1),isNaN(Fe)&&(Fe=0),isNaN(yr)&&(yr=0),this._matrix=[z,Et,re,Le,Fe,yr]};Object.defineProperty(nn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(nn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(nn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(nn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(nn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(nn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(nn.prototype,"a",{get:function(){return this._matrix[0]},set:function(z){this._matrix[0]=z}}),Object.defineProperty(nn.prototype,"b",{get:function(){return this._matrix[1]},set:function(z){this._matrix[1]=z}}),Object.defineProperty(nn.prototype,"c",{get:function(){return this._matrix[2]},set:function(z){this._matrix[2]=z}}),Object.defineProperty(nn.prototype,"d",{get:function(){return this._matrix[3]},set:function(z){this._matrix[3]=z}}),Object.defineProperty(nn.prototype,"e",{get:function(){return this._matrix[4]},set:function(z){this._matrix[4]=z}}),Object.defineProperty(nn.prototype,"f",{get:function(){return this._matrix[5]},set:function(z){this._matrix[5]=z}}),Object.defineProperty(nn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(nn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(nn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(nn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),nn.prototype.join=function(M){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Ye).join(M)},nn.prototype.multiply=function(M){var z=M.sx*this.sx+M.shy*this.shx,Et=M.sx*this.shy+M.shy*this.sy,re=M.shx*this.sx+M.sy*this.shx,Le=M.shx*this.shy+M.sy*this.sy,Fe=M.tx*this.sx+M.ty*this.shx+this.tx,yr=M.tx*this.shy+M.ty*this.sy+this.ty;return new nn(z,Et,re,Le,Fe,yr)},nn.prototype.decompose=function(){var M=this.sx,z=this.shy,Et=this.shx,re=this.sy,Le=this.tx,Fe=this.ty,yr=Math.sqrt(M*M+z*z),Cr=(M/=yr)*Et+(z/=yr)*re;Et-=M*Cr,re-=z*Cr;var qr=Math.sqrt(Et*Et+re*re);return Cr/=qr,M*(re/=qr)<z*(Et/=qr)&&(M=-M,z=-z,Cr=-Cr,yr=-yr),{scale:new nn(yr,0,0,qr,0,0),translate:new nn(1,0,0,1,Le,Fe),rotate:new nn(M,z,-z,M,0,0),skew:new nn(1,0,Cr,1,0,0)}},nn.prototype.toString=function(M){return this.join(" ")},nn.prototype.inversed=function(){var M=this.sx,z=this.shy,Et=this.shx,re=this.sy,Le=this.tx,Fe=this.ty,yr=1/(M*re-z*Et),Cr=re*yr,qr=-z*yr,$r=-Et*yr,pn=M*yr;return new nn(Cr,qr,$r,pn,-Cr*Le-$r*Fe,-qr*Le-pn*Fe)},nn.prototype.applyToPoint=function(M){var z=M.x*this.sx+M.y*this.shx+this.tx,Et=M.x*this.shy+M.y*this.sy+this.ty;return new Ro(z,Et)},nn.prototype.applyToRectangle=function(M){var z=this.applyToPoint(M),Et=this.applyToPoint(new Ro(M.x+M.w,M.y+M.h));return new rs(z.x,z.y,Et.x-z.x,Et.y-z.y)},nn.prototype.clone=function(){var M=this.sx,z=this.shy,Et=this.shx,re=this.sy,Le=this.tx,Fe=this.ty;return new nn(M,z,Et,re,Le,Fe)},G.Matrix=nn;var Zi=G.matrixMult=function(M,z){return z.multiply(M)},_a=new nn(1,0,0,1,0,0);G.unitMatrix=G.identityMatrix=_a;var fs=function(z,Et){if(!Ka[z]){var re=(Et instanceof tt?"Sh":"P")+(Object.keys(Bn).length+1).toString(10);Et.id=re,Ka[z]=re,Bn[re]=Et,Un.publish("addPattern",Et)}};G.ShadingPattern=tt,G.TilingPattern=te,G.addShadingPattern=function(M,z){return mr("addShadingPattern()"),fs(M,z),this},G.beginTilingPattern=function(M){mr("beginTilingPattern()"),ul(M.boundingBox[0],M.boundingBox[1],M.boundingBox[2]-M.boundingBox[0],M.boundingBox[3]-M.boundingBox[1],M.matrix)},G.endTilingPattern=function(M,z){mr("endTilingPattern()"),z.stream=vr[wt].join(`
`),fs(M,z),Un.publish("endTilingPattern",z),Ja.pop().restore()};var ii=G.__private__.newObject=function(){var M=Ai();return ai(M,!0),M},Ai=G.__private__.newObjectDeferred=function(){return Oe++,Ie[Oe]=function(){return We},Oe},ai=function(z,Et){return Et=typeof Et=="boolean"&&Et,Ie[z]=We,Et&&qt(z+" 0 obj"),z},$a=G.__private__.newAdditionalObject=function(){var M={objId:Ai(),content:""};return Xe.push(M),M},Is=Ai(),Na=Ai(),Qa=G.__private__.decodeColorString=function(M){var z=M.split(" ");if(z.length!==2||z[1]!=="g"&&z[1]!=="G")z.length===5&&(z[4]==="k"||z[4]==="K")&&(z=[(1-z[0])*(1-z[3]),(1-z[1])*(1-z[3]),(1-z[2])*(1-z[3]),"r"]);else{var Et=parseFloat(z[0]);z=[Et,Et,Et,"r"]}for(var re="#",Le=0;Le<3;Le++)re+=("0"+Math.floor(255*parseFloat(z[Le])).toString(16)).slice(-2);return re},zi=G.__private__.encodeColorString=function(M){var z;typeof M=="string"&&(M={ch1:M});var Et=M.ch1,re=M.ch2,Le=M.ch3,Fe=M.ch4,yr=M.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof Et=="string"&&Et.charAt(0)!=="#"){var Cr=new e(Et);if(Cr.ok)Et=Cr.toHex();else if(!/^\d*\.?\d*$/.test(Et))throw new Error('Invalid color "'+Et+'" passed to jsPDF.encodeColorString.')}if(typeof Et=="string"&&/^#[0-9A-Fa-f]{3}$/.test(Et)&&(Et="#"+Et[1]+Et[1]+Et[2]+Et[2]+Et[3]+Et[3]),typeof Et=="string"&&/^#[0-9A-Fa-f]{6}$/.test(Et)){var qr=parseInt(Et.substr(1),16);Et=qr>>16&255,re=qr>>8&255,Le=255&qr}if(re===void 0||Fe===void 0&&Et===re&&re===Le)if(typeof Et=="string")z=Et+" "+yr[0];else switch(M.precision){case 2:z=Ve(Et/255)+" "+yr[0];break;case 3:default:z=ie(Et/255)+" "+yr[0]}else if(Fe===void 0||be()(Fe)==="object"){if(Fe&&!isNaN(Fe.a)&&Fe.a===0)return z=["1.","1.","1.",yr[1]].join(" ");if(typeof Et=="string")z=[Et,re,Le,yr[1]].join(" ");else switch(M.precision){case 2:z=[Ve(Et/255),Ve(re/255),Ve(Le/255),yr[1]].join(" ");break;default:case 3:z=[ie(Et/255),ie(re/255),ie(Le/255),yr[1]].join(" ")}}else if(typeof Et=="string")z=[Et,re,Le,Fe,yr[2]].join(" ");else switch(M.precision){case 2:z=[Ve(Et),Ve(re),Ve(Le),Ve(Fe),yr[2]].join(" ");break;case 3:default:z=[ie(Et),ie(re),ie(Le),ie(Fe),yr[2]].join(" ")}return z},vi=G.__private__.getFilters=function(){return P},ia=G.__private__.putStream=function(M){var z=(M=M||{}).data||"",Et=M.filters||vi(),re=M.alreadyAppliedFilters||[],Le=M.addLength1||!1,Fe=z.length,yr=M.objectId,Cr=function(wi){return wi};if(bt!==null&&yr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");bt!==null&&(Cr=Ti.encryptor(yr,0));var qr={};Et===!0&&(Et=["FlateEncode"]);var $r=M.additionalKeyValues||[],pn=(qr=Y.API.processDataByFilters!==void 0?Y.API.processDataByFilters(z,Et):{data:z,reverseChain:[]}).reverseChain+(Array.isArray(re)?re.join(" "):re.toString());if(qr.data.length!==0&&($r.push({key:"Length",value:qr.data.length}),Le===!0&&$r.push({key:"Length1",value:Fe})),pn.length!=0)if(pn.split("/").length-1==1)$r.push({key:"Filter",value:pn});else{$r.push({key:"Filter",value:"["+pn+"]"});for(var Mn=0;Mn<$r.length;Mn+=1)if($r[Mn].key==="DecodeParms"){for(var Tn=[],oi=0;oi<qr.reverseChain.split("/").length-1;oi+=1)Tn.push("null");Tn.push($r[Mn].value),$r[Mn].value="["+Tn.join(" ")+"]"}}qt("<<");for(var ri=0;ri<$r.length;ri++)qt("/"+$r[ri].key+" "+$r[ri].value);qt(">>"),qr.data.length!==0&&(qt("stream"),qt(Cr(qr.data)),qt("endstream"))},ro=G.__private__.putPage=function(M){var z=M.number,Et=M.data,re=M.objId,Le=M.contentsObjId;ai(re,!0),qt("<</Type /Page"),qt("/Parent "+M.rootDictionaryObjId+" 0 R"),qt("/Resources "+M.resourceDictionaryObjId+" 0 R"),qt("/MediaBox ["+parseFloat(Ye(M.mediaBox.bottomLeftX))+" "+parseFloat(Ye(M.mediaBox.bottomLeftY))+" "+Ye(M.mediaBox.topRightX)+" "+Ye(M.mediaBox.topRightY)+"]"),M.cropBox!==null&&qt("/CropBox ["+Ye(M.cropBox.bottomLeftX)+" "+Ye(M.cropBox.bottomLeftY)+" "+Ye(M.cropBox.topRightX)+" "+Ye(M.cropBox.topRightY)+"]"),M.bleedBox!==null&&qt("/BleedBox ["+Ye(M.bleedBox.bottomLeftX)+" "+Ye(M.bleedBox.bottomLeftY)+" "+Ye(M.bleedBox.topRightX)+" "+Ye(M.bleedBox.topRightY)+"]"),M.trimBox!==null&&qt("/TrimBox ["+Ye(M.trimBox.bottomLeftX)+" "+Ye(M.trimBox.bottomLeftY)+" "+Ye(M.trimBox.topRightX)+" "+Ye(M.trimBox.topRightY)+"]"),M.artBox!==null&&qt("/ArtBox ["+Ye(M.artBox.bottomLeftX)+" "+Ye(M.artBox.bottomLeftY)+" "+Ye(M.artBox.topRightX)+" "+Ye(M.artBox.topRightY)+"]"),typeof M.userUnit=="number"&&M.userUnit!==1&&qt("/UserUnit "+M.userUnit),Un.publish("putPage",{objId:re,pageContext:hn[z],pageNumber:z,page:Et}),qt("/Contents "+Le+" 0 R"),qt(">>"),qt("endobj");var Fe=Et.join(`
`);return Ae===gt.ADVANCED&&(Fe+=`
Q`),ai(Le,!0),ia({data:Fe,filters:vi(),objectId:Le}),qt("endobj"),re},ts=G.__private__.putPages=function(){var M,z,Et=[];for(M=1;M<=Qn;M++)hn[M].objId=Ai(),hn[M].contentsObjId=Ai();for(M=1;M<=Qn;M++)Et.push(ro({number:M,data:vr[M],objId:hn[M].objId,contentsObjId:hn[M].contentsObjId,mediaBox:hn[M].mediaBox,cropBox:hn[M].cropBox,bleedBox:hn[M].bleedBox,trimBox:hn[M].trimBox,artBox:hn[M].artBox,userUnit:hn[M].userUnit,rootDictionaryObjId:Is,resourceDictionaryObjId:Na}));ai(Is,!0),qt("<</Type /Pages");var re="/Kids [";for(z=0;z<Qn;z++)re+=Et[z]+" 0 R ";qt(re+"]"),qt("/Count "+Qn),qt(">>"),qt("endobj"),Un.publish("postPutPages")},no=function(z){Un.publish("putFont",{font:z,out:qt,newObject:ii,putStream:ia}),z.isAlreadyPutted!==!0&&(z.objectNumber=ii(),qt("<<"),qt("/Type /Font"),qt("/BaseFont /"+Gt(z.postScriptName)),qt("/Subtype /Type1"),typeof z.encoding=="string"&&qt("/Encoding /"+z.encoding),qt("/FirstChar 32"),qt("/LastChar 255"),qt(">>"),qt("endobj"))},Oo=function(){for(var z in yn)yn.hasOwnProperty(z)&&(vt===!1||vt===!0&&Lt.hasOwnProperty(z))&&no(yn[z])},Po=function(z){z.objectNumber=ii();var Et=[];Et.push({key:"Type",value:"/XObject"}),Et.push({key:"Subtype",value:"/Form"}),Et.push({key:"BBox",value:"["+[Ye(z.x),Ye(z.y),Ye(z.x+z.width),Ye(z.y+z.height)].join(" ")+"]"}),Et.push({key:"Matrix",value:"["+z.matrix.toString()+"]"});var re=z.pages[1].join(`
`);ia({data:re,additionalKeyValues:Et,objectId:z.objectNumber}),qt("endobj")},ds=function(){for(var z in ji)ji.hasOwnProperty(z)&&Po(ji[z])},xe=function(z,Et){var re,Le=[],Fe=1/(Et-1);for(re=0;re<1;re+=Fe)Le.push(re);if(Le.push(1),z[0].offset!=0){var yr={offset:0,color:z[0].color};z.unshift(yr)}if(z[z.length-1].offset!=1){var Cr={offset:1,color:z[z.length-1].color};z.push(Cr)}for(var qr="",$r=0,pn=0;pn<Le.length;pn++){for(re=Le[pn];re>z[$r+1].offset;)$r++;var Mn=z[$r].offset,Tn=(re-Mn)/(z[$r+1].offset-Mn),oi=z[$r].color,ri=z[$r+1].color;qr+=me(Math.round((1-Tn)*oi[0]+Tn*ri[0]).toString(16))+me(Math.round((1-Tn)*oi[1]+Tn*ri[1]).toString(16))+me(Math.round((1-Tn)*oi[2]+Tn*ri[2]).toString(16))}return qr.trim()},Ze=function(z,Et){Et||(Et=21);var re=ii(),Le=xe(z.colors,Et),Fe=[];Fe.push({key:"FunctionType",value:"0"}),Fe.push({key:"Domain",value:"[0.0 1.0]"}),Fe.push({key:"Size",value:"["+Et+"]"}),Fe.push({key:"BitsPerSample",value:"8"}),Fe.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Fe.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),ia({data:Le,additionalKeyValues:Fe,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:re}),qt("endobj"),z.objectNumber=ii(),qt("<< /ShadingType "+z.type),qt("/ColorSpace /DeviceRGB");var yr="/Coords ["+Ye(parseFloat(z.coords[0]))+" "+Ye(parseFloat(z.coords[1]))+" ";z.type===2?yr+=Ye(parseFloat(z.coords[2]))+" "+Ye(parseFloat(z.coords[3])):yr+=Ye(parseFloat(z.coords[2]))+" "+Ye(parseFloat(z.coords[3]))+" "+Ye(parseFloat(z.coords[4]))+" "+Ye(parseFloat(z.coords[5])),qt(yr+="]"),z.matrix&&qt("/Matrix ["+z.matrix.toString()+"]"),qt("/Function "+re+" 0 R"),qt("/Extend [true true]"),qt(">>"),qt("endobj")},ze=function(z,Et){var re=Ai(),Le=ii();Et.push({resourcesOid:re,objectOid:Le}),z.objectNumber=Le;var Fe=[];Fe.push({key:"Type",value:"/Pattern"}),Fe.push({key:"PatternType",value:"1"}),Fe.push({key:"PaintType",value:"1"}),Fe.push({key:"TilingType",value:"1"}),Fe.push({key:"BBox",value:"["+z.boundingBox.map(Ye).join(" ")+"]"}),Fe.push({key:"XStep",value:Ye(z.xStep)}),Fe.push({key:"YStep",value:Ye(z.yStep)}),Fe.push({key:"Resources",value:re+" 0 R"}),z.matrix&&Fe.push({key:"Matrix",value:"["+z.matrix.toString()+"]"}),ia({data:z.stream,additionalKeyValues:Fe,objectId:z.objectNumber}),qt("endobj")},Ur=function(z){var Et;for(Et in Bn)Bn.hasOwnProperty(Et)&&(Bn[Et]instanceof tt?Ze(Bn[Et]):Bn[Et]instanceof te&&ze(Bn[Et],z))},an=function(z){for(var Et in z.objectNumber=ii(),qt("<<"),z)switch(Et){case"opacity":qt("/ca "+Ve(z[Et]));break;case"stroke-opacity":qt("/CA "+Ve(z[Et]))}qt(">>"),qt("endobj")},Nn=function(){var z;for(z in li)li.hasOwnProperty(z)&&an(li[z])},ti=function(){for(var z in qt("/XObject <<"),ji)ji.hasOwnProperty(z)&&ji[z].objectNumber>=0&&qt("/"+z+" "+ji[z].objectNumber+" 0 R");Un.publish("putXobjectDict"),qt(">>")},Pn=function(){Ti.oid=ii(),qt("<<"),qt("/Filter /Standard"),qt("/V "+Ti.v),qt("/R "+Ti.r),qt("/U <"+Ti.toHexString(Ti.U)+">"),qt("/O <"+Ti.toHexString(Ti.O)+">"),qt("/P "+Ti.P),qt(">>"),qt("endobj")},rl=function(){for(var z in qt("/Font <<"),yn)yn.hasOwnProperty(z)&&(vt===!1||vt===!0&&Lt.hasOwnProperty(z))&&qt("/"+z+" "+yn[z].objectNumber+" 0 R");qt(">>")},kl=function(){if(Object.keys(Bn).length>0){for(var z in qt("/Shading <<"),Bn)Bn.hasOwnProperty(z)&&Bn[z]instanceof tt&&Bn[z].objectNumber>=0&&qt("/"+z+" "+Bn[z].objectNumber+" 0 R");Un.publish("putShadingPatternDict"),qt(">>")}},Ji=function(z){if(Object.keys(Bn).length>0){for(var Et in qt("/Pattern <<"),Bn)Bn.hasOwnProperty(Et)&&Bn[Et]instanceof G.TilingPattern&&Bn[Et].objectNumber>=0&&Bn[Et].objectNumber<z&&qt("/"+Et+" "+Bn[Et].objectNumber+" 0 R");Un.publish("putTilingPatternDict"),qt(">>")}},$i=function(){if(Object.keys(li).length>0){var z;for(z in qt("/ExtGState <<"),li)li.hasOwnProperty(z)&&li[z].objectNumber>=0&&qt("/"+z+" "+li[z].objectNumber+" 0 R");Un.publish("putGStateDict"),qt(">>")}},io=function(z){ai(z.resourcesOid,!0),qt("<<"),qt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),rl(),kl(),Ji(z.objectOid),$i(),ti(),qt(">>"),qt("endobj")},Ns=function(){var z=[];Oo(),Nn(),ds(),Ur(z),Un.publish("putResources"),z.forEach(io),io({resourcesOid:Na,objectOid:Number.MAX_SAFE_INTEGER}),Un.publish("postPutResources")},ui=function(){Un.publish("putAdditionalObjects");for(var z=0;z<Xe.length;z++){var Et=Xe[z];ai(Et.objId,!0),qt(Et.content),qt("endobj")}Un.publish("postPutAdditionalObjects")},Ms=function(z){gi[z.fontName]=gi[z.fontName]||{},gi[z.fontName][z.fontStyle]=z.id},Dn=function(z,Et,re,Le,Fe){var yr={id:"F"+(Object.keys(yn).length+1).toString(10),postScriptName:z,fontName:Et,fontStyle:re,encoding:Le,isStandardFont:Fe||!1,metadata:{}};return Un.publish("addFont",{font:yr,instance:this}),yn[yr.id]=yr,Ms(yr),yr.id},fu=function(z){for(var Et=0,re=ir.length;Et<re;Et++){var Le=Dn.call(this,z[Et][0],z[Et][1],z[Et][2],ir[Et][3],!0);vt===!1&&(Lt[Le]=!0);var Fe=z[Et][0].split("-");Ms({id:Le,fontName:Fe[0],fontStyle:Fe[1]||""})}Un.publish("addFonts",{fonts:yn,dictionary:gi})},nl=function(z){return z.foo=function(){try{return z.apply(this,arguments)}catch(Le){var Et=Le.stack||"";~Et.indexOf(" at ")&&(Et=Et.split(" at ")[1]);var re="Error in function "+Et.split(`
`)[0].split("<")[0]+": "+Le.message;if(!dt.console)throw new Error(re);dt.console.error(re,Le),dt.alert&&alert(re)}},z.foo.bar=z,z.foo},Lo=function(z,Et){var re,Le,Fe,yr,Cr,qr,$r,pn,Mn;if(Fe=(Et=Et||{}).sourceEncoding||"Unicode",Cr=Et.outputEncoding,(Et.autoencode||Cr)&&yn[fn].metadata&&yn[fn].metadata[Fe]&&yn[fn].metadata[Fe].encoding&&(yr=yn[fn].metadata[Fe].encoding,!Cr&&yn[fn].encoding&&(Cr=yn[fn].encoding),!Cr&&yr.codePages&&(Cr=yr.codePages[0]),typeof Cr=="string"&&(Cr=yr[Cr]),Cr)){for($r=!1,qr=[],re=0,Le=z.length;re<Le;re++)(pn=Cr[z.charCodeAt(re)])?qr.push(String.fromCharCode(pn)):qr.push(z[re]),qr[re].charCodeAt(0)>>8&&($r=!0);z=qr.join("")}for(re=z.length;$r===void 0&&re!==0;)z.charCodeAt(re-1)>>8&&($r=!0),re--;if(!$r)return z;for(qr=Et.noBOM?[]:[254,255],re=0,Le=z.length;re<Le;re++){if((Mn=(pn=z.charCodeAt(re))>>8)>>8)throw new Error("Character at position "+re+" of string '"+z+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");qr.push(Mn),qr.push(pn-(Mn<<8))}return String.fromCharCode.apply(void 0,qr)},Ni=G.__private__.pdfEscape=G.pdfEscape=function(M,z){return Lo(M,z).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},ao=G.__private__.beginPage=function(M){vr[++Qn]=[],hn[Qn]={objId:0,contentsObjId:0,userUnit:Number(j),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(M[0]),topRightY:Number(M[1])}},Ma(Qn),Xr(vr[wt])},ps=function(z,Et){var re,Le,Fe;switch(y=Et||y,typeof z=="string"&&(re=Nt(z.toLowerCase()),Array.isArray(re)&&(Le=re[0],Fe=re[1])),Array.isArray(z)&&(Le=z[0]*Nr,Fe=z[1]*Nr),isNaN(Le)&&(Le=T[0],Fe=T[1]),(Le>14400||Fe>14400)&&(Q.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),Le=Math.min(14400,Le),Fe=Math.min(14400,Fe)),T=[Le,Fe],y.substr(0,1)){case"l":Fe>Le&&(T=[Fe,Le]);break;case"p":Le>Fe&&(T=[Fe,Le])}ao(T),Mo(gs),qt(es),wn!==0&&qt(wn+" J"),ol!==0&&qt(ol+" j"),Un.publish("addPage",{pageNumber:Qn})},so=function(z){z>0&&z<=Qn&&(vr.splice(z,1),hn.splice(z,1),Qn--,wt>Qn&&(wt=Qn),this.setPage(wt))},Ma=function(z){z>0&&z<=Qn&&(wt=z)},ko=G.__private__.getNumberOfPages=G.getNumberOfPages=function(){return vr.length-1},il=function(z,Et,re){var Le,Fe=void 0;return re=re||{},z=z!==void 0?z:yn[fn].fontName,Et=Et!==void 0?Et:yn[fn].fontStyle,Le=z.toLowerCase(),gi[Le]!==void 0&&gi[Le][Et]!==void 0?Fe=gi[Le][Et]:gi[z]!==void 0&&gi[z][Et]!==void 0?Fe=gi[z][Et]:re.disableWarning===!1&&Q.warn("Unable to look up font label for font '"+z+"', '"+Et+"'. Refer to getFontList() for available fonts."),Fe||re.noFallback||(Fe=gi.times[Et])==null&&(Fe=gi.times.normal),Fe},Eo=G.__private__.putInfo=function(){var M=ii(),z=function(Le){return Le};for(var Et in bt!==null&&(z=Ti.encryptor(M,0)),qt("<<"),qt("/Producer ("+Ni(z("jsPDF "+Y.version))+")"),Zr)Zr.hasOwnProperty(Et)&&Zr[Et]&&qt("/"+Et.substr(0,1).toUpperCase()+Et.substr(1)+" ("+Ni(z(Zr[Et]))+")");qt("/CreationDate ("+Ni(z($e))+")"),qt(">>"),qt("endobj")},El=G.__private__.putCatalog=function(M){var z=(M=M||{}).rootDictionaryObjId||Is;switch(ii(),qt("<<"),qt("/Type /Catalog"),qt("/Pages "+z+" 0 R"),Or||(Or="fullwidth"),Or){case"fullwidth":qt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":qt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":qt("/OpenAction [3 0 R /Fit]");break;case"original":qt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var Et=""+Or;Et.substr(Et.length-1)==="%"&&(Or=parseInt(Or)/100),typeof Or=="number"&&qt("/OpenAction [3 0 R /XYZ null null "+Ve(Or)+"]")}switch(en||(en="continuous"),en){case"continuous":qt("/PageLayout /OneColumn");break;case"single":qt("/PageLayout /SinglePage");break;case"two":case"twoleft":qt("/PageLayout /TwoColumnLeft");break;case"tworight":qt("/PageLayout /TwoColumnRight")}Vr&&qt("/PageMode /"+Vr),Un.publish("putCatalog"),qt(">>"),qt("endobj")},Fl=G.__private__.putTrailer=function(){qt("trailer"),qt("<<"),qt("/Size "+(Oe+1)),qt("/Root "+Oe+" 0 R"),qt("/Info "+(Oe-1)+" 0 R"),bt!==null&&qt("/Encrypt "+Ti.oid+" 0 R"),qt("/ID [ <"+Ke+"> <"+Ke+"> ]"),qt(">>")},Ds=G.__private__.putHeader=function(){qt("%PDF-"+Vt),qt("%\xBA\xDF\xAC\xE0")},Il=G.__private__.putXRef=function(){var M="0000000000";qt("xref"),qt("0 "+(Oe+1)),qt("0000000000 65535 f ");for(var z=1;z<=Oe;z++)typeof Ie[z]=="function"?qt((M+Ie[z]()).slice(-10)+" 00000 n "):Ie[z]!==void 0?qt((M+Ie[z]).slice(-10)+" 00000 n "):qt("0000000000 00000 n ")},aa=G.__private__.buildDocument=function(){rn(),Xr(ar),Un.publish("buildDocument"),Ds(),ts(),ui(),Ns(),bt!==null&&Pn(),Eo(),El();var M=We;return Il(),Fl(),qt("startxref"),qt(""+M),qt("%%EOF"),Xr(vr[wt]),ar.join(`
`)},wa=G.__private__.getBlob=function(M){return new Blob([Fr(M)],{type:"application/pdf"})},Fo=G.output=G.__private__.output=nl(function(M,z){switch(typeof(z=z||{})=="string"?z={filename:z}:z.filename=z.filename||"generated.pdf",M){case void 0:return aa();case"save":G.save(z.filename);break;case"arraybuffer":return Fr(aa());case"blob":return wa(aa());case"bloburi":case"bloburl":if(dt.URL!==void 0&&typeof dt.URL.createObjectURL=="function")return dt.URL&&dt.URL.createObjectURL(wa(aa()))||void 0;Q.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var Et="",re=aa();try{Et=o(re)}catch(oi){Et=o(unescape(encodeURIComponent(re)))}return"data:application/pdf;filename="+z.filename+";base64,"+Et;case"pdfobjectnewwindow":if(Object.prototype.toString.call(dt)==="[object Window]"){var Le="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Fe=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';z.pdfObjectUrl&&(Le=z.pdfObjectUrl,Fe="");var yr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+Le+'"'+Fe+'></script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(z)+");</script></body></html>",Cr=dt.open();return Cr!==null&&Cr.document.write(yr),Cr}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(dt)==="[object Window]"){var qr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(z.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+z.filename+'" width="500px" height="400px" /></body></html>',$r=dt.open();if($r!==null){$r.document.write(qr);var pn=this;$r.document.documentElement.querySelector("#pdfViewer").onload=function(){$r.document.title=z.filename,$r.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(pn.output("bloburl"))}}return $r}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(dt)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Mn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",z)+'"></iframe></body></html>',Tn=dt.open();if(Tn!==null&&(Tn.document.write(Mn),Tn.document.title=z.filename),Tn||typeof safari=="undefined")return Tn;break;case"datauri":case"dataurl":return dt.document.location.href=this.output("datauristring",z);default:return null}}),Nl=function(z){return Array.isArray(eo)===!0&&eo.indexOf(z)>-1};switch(w){case"pt":Nr=1;break;case"mm":Nr=72/25.4;break;case"cm":Nr=72/2.54;break;case"in":Nr=72;break;case"px":Nr=Nl("px_scaling")==1?.75:96/72;break;case"pc":case"em":Nr=12;break;case"ex":Nr=6;break;default:if(typeof w!="number")throw new Error("Invalid unit: "+w);Nr=w}var Ti=null;Tr(),Re();var du=function(z){return bt!==null?Ti.encryptor(z,0):function(Et){return Et}},oo=G.__private__.getPageInfo=G.getPageInfo=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:hn[M].objId,pageNumber:M,pageContext:hn[M]}},Io=G.__private__.getPageInfoByObjId=function(M){if(isNaN(M)||M%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var z in hn)if(hn[z].objId===M)break;return oo(z)},al=G.__private__.getCurrentPageInfo=G.getCurrentPageInfo=function(){return{objId:hn[wt].objId,pageNumber:wt,pageContext:hn[wt]}};G.addPage=function(){return ps.apply(this,arguments),this},G.setPage=function(){return Ma.apply(this,arguments),Xr.call(this,vr[wt]),this},G.insertPage=function(M){return this.addPage(),this.movePage(wt,M),this},G.movePage=function(M,z){var Et,re;if(M>z){Et=vr[M],re=hn[M];for(var Le=M;Le>z;Le--)vr[Le]=vr[Le-1],hn[Le]=hn[Le-1];vr[z]=Et,hn[z]=re,this.setPage(z)}else if(M<z){Et=vr[M],re=hn[M];for(var Fe=M;Fe<z;Fe++)vr[Fe]=vr[Fe+1],hn[Fe]=hn[Fe+1];vr[z]=Et,hn[z]=re,this.setPage(z)}return this},G.deletePage=function(){return so.apply(this,arguments),this},G.__private__.text=G.text=function(M,z,Et,re,Le){var Fe,yr,Cr,qr,$r,pn,Mn,Tn,oi,ri=(re=re||{}).scope||this;if(typeof M=="number"&&typeof z=="number"&&(typeof Et=="string"||Array.isArray(Et))){var qi=Et;Et=z,z=M,M=qi}if(arguments[3]instanceof nn?(mr("The transform parameter of text() with a Matrix value"),oi=Le):(Cr=arguments[4],qr=arguments[5],be()(Mn=arguments[3])==="object"&&Mn!==null||(typeof Cr=="string"&&(qr=Cr,Cr=null),typeof Mn=="string"&&(qr=Mn,Mn=null),typeof Mn=="number"&&(Cr=Mn,Mn=null),re={flags:Mn,angle:Cr,align:qr})),isNaN(z)||isNaN(Et)||M==null)throw new Error("Invalid arguments passed to jsPDF.text");if(M.length===0)return ri;var wi="",ja=!1,uo=typeof re.lineHeightFactor=="number"?re.lineHeightFactor:Sa,fl=ri.internal.scaleFactor;function bs(hi){return hi=hi.split("	").join(Array(re.TabLen||9).join(" ")),Ni(hi,Mn)}function dl(hi){for(var Hn,Di=hi.concat(),ci=[],Yi=Di.length;Yi--;)typeof(Hn=Di.shift())=="string"?ci.push(Hn):Array.isArray(hi)&&(Hn.length===1||Hn[1]===void 0&&Hn[2]===void 0)?ci.push(Hn[0]):ci.push([Hn[0],Hn[1],Hn[2]]);return ci}function ho(hi,Hn){var Di;if(typeof hi=="string")Di=Hn(hi)[0];else if(Array.isArray(hi)){for(var ci,Yi,Wo=hi.concat(),Cs=[],Hl=Wo.length;Hl--;)typeof(ci=Wo.shift())=="string"?Cs.push(Hn(ci)[0]):Array.isArray(ci)&&typeof ci[0]=="string"&&(Yi=Hn(ci[0],ci[1],ci[2]),Cs.push([Yi[0],Yi[1],Yi[2]]));Di=Cs}return Di}var is=!1,js=!0;if(typeof M=="string")is=!0;else if(Array.isArray(M)){var pl=M.concat();yr=[];for(var co,oa=pl.length;oa--;)(typeof(co=pl.shift())!="string"||Array.isArray(co)&&typeof co[0]!="string")&&(js=!1);is=js}if(is===!1)throw new Error('Type of text must be string or Array. "'+M+'" is not recognized.');typeof M=="string"&&(M=M.match(/[\r?\n]/)?M.split(/\r\n|\r|\n/g):[M]);var Ui=Ir/ri.internal.scaleFactor,zs=Ui*(uo-1);switch(re.baseline){case"bottom":Et-=zs;break;case"top":Et+=Ui-zs;break;case"hanging":Et+=Ui-2*zs;break;case"middle":Et+=Ui/2-zs}if((pn=re.maxWidth||0)>0&&(typeof M=="string"?M=ri.splitTextToSize(M,pn):Object.prototype.toString.call(M)==="[object Array]"&&(M=M.reduce(function(hi,Hn){return hi.concat(ri.splitTextToSize(Hn,pn))},[]))),Fe={text:M,x:z,y:Et,options:re,mutex:{pdfEscape:Ni,activeFontKey:fn,fonts:yn,activeFontSize:Ir}},Un.publish("preProcessText",Fe),M=Fe.text,Cr=(re=Fe.options).angle,!(oi instanceof nn)&&Cr&&typeof Cr=="number"){Cr*=Math.PI/180,re.rotationDirection===0&&(Cr=-Cr),Ae===gt.ADVANCED&&(Cr=-Cr);var as=Math.cos(Cr),Mi=Math.sin(Cr);oi=new nn(as,Mi,-Mi,as,0,0)}else Cr&&Cr instanceof nn&&(oi=Cr);Ae!==gt.ADVANCED||oi||(oi=_a),($r=re.charSpace||ys)!==void 0&&(wi+=Ye(Bt($r))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Tn=re.horizontalScale)!==void 0&&(wi+=Ye(100*Tn)+` Tz
`),re.lang;var Gi=-1,Wl=re.renderingMode!==void 0?re.renderingMode:re.stroke,jo=ri.internal.getCurrentPageInfo().pageContext;switch(Wl){case 0:case!1:case"fill":Gi=0;break;case 1:case!0:case"stroke":Gi=1;break;case 2:case"fillThenStroke":Gi=2;break;case 3:case"invisible":Gi=3;break;case 4:case"fillAndAddForClipping":Gi=4;break;case 5:case"strokeAndAddPathForClipping":Gi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gi=6;break;case 7:case"addToPathForClipping":Gi=7}var fo=jo.usedRenderingMode!==void 0?jo.usedRenderingMode:-1;Gi!==-1?wi+=Gi+` Tr
`:fo!==-1&&(wi+=`0 Tr
`),Gi!==-1&&(jo.usedRenderingMode=Gi),qr=re.align||"left";var Ei,po=Ir*uo,vu=ri.internal.pageSize.getWidth(),zo=yn[fn];$r=re.charSpace||ys,pn=re.maxWidth||0,Mn=Object.assign({autoencode:!0,noBOM:!0},re.flags);var go=[];if(Object.prototype.toString.call(M)==="[object Array]"){var Ca;yr=dl(M),qr!=="left"&&(Ei=yr.map(function(hi){return ri.getStringUnitWidth(hi,{font:zo,charSpace:$r,fontSize:Ir,doKerning:!1})*Ir/fl}));var Kn,_s=0;if(qr==="right"){z-=Ei[0],M=[],oa=yr.length;for(var za=0;za<oa;za++)za===0?(Kn=ms(z),Ca=vs(Et)):(Kn=Bt(_s-Ei[za]),Ca=-po),M.push([yr[za],Kn,Ca]),_s=Ei[za]}else if(qr==="center"){z-=Ei[0]/2,M=[],oa=yr.length;for(var Oi=0;Oi<oa;Oi++)Oi===0?(Kn=ms(z),Ca=vs(Et)):(Kn=Bt((_s-Ei[Oi])/2),Ca=-po),M.push([yr[Oi],Kn,Ca]),_s=Ei[Oi]}else if(qr==="left"){M=[],oa=yr.length;for(var Us=0;Us<oa;Us++)M.push(yr[Us])}else{if(qr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');M=[],oa=yr.length,pn=pn!==0?pn:vu;for(var ta=0;ta<oa;ta++)Ca=ta===0?vs(Et):-po,Kn=ta===0?ms(z):0,ta<oa-1?go.push(Ye(Bt((pn-Ei[ta])/(yr[ta].split(" ").length-1)))):go.push(0),M.push([yr[ta],Kn,Ca])}}var ss=typeof re.R2L=="boolean"?re.R2L:Hr;ss===!0&&(M=ho(M,function(hi,Hn,Di){return[hi.split("").reverse().join(""),Hn,Di]})),Fe={text:M,x:z,y:Et,options:re,mutex:{pdfEscape:Ni,activeFontKey:fn,fonts:yn,activeFontSize:Ir}},Un.publish("postProcessText",Fe),M=Fe.text,ja=Fe.mutex.isHex||!1;var Ws=yn[fn].encoding;Ws!=="WinAnsiEncoding"&&Ws!=="StandardEncoding"||(M=ho(M,function(hi,Hn,Di){return[bs(hi),Hn,Di]})),yr=dl(M),M=[];for(var yi,os,Aa,Hs=0,Uo=1,ws=Array.isArray(yr[0])?Uo:Hs,qs="",xs=function(Hn,Di,ci){var Yi="";return ci instanceof nn?(ci=typeof re.angle=="number"?Zi(ci,new nn(1,0,0,1,Hn,Di)):Zi(new nn(1,0,0,1,Hn,Di),ci),Ae===gt.ADVANCED&&(ci=Zi(new nn(1,0,0,-1,0,0),ci)),Yi=ci.join(" ")+` Tm
`):Yi=Ye(Hn)+" "+Ye(Di)+` Td
`,Yi},la=0;la<yr.length;la++){switch(qs="",ws){case Uo:Aa=(ja?"<":"(")+yr[la][0]+(ja?">":")"),yi=parseFloat(yr[la][1]),os=parseFloat(yr[la][2]);break;case Hs:Aa=(ja?"<":"(")+yr[la]+(ja?">":")"),yi=ms(z),os=vs(Et)}go!==void 0&&go[la]!==void 0&&(qs=go[la]+` Tw
`),la===0?M.push(qs+xs(yi,os,oi)+Aa):ws===Hs?M.push(qs+Aa):ws===Uo&&M.push(qs+xs(yi,os,oi)+Aa)}M=ws===Hs?M.join(` Tj
T* `):M.join(` Tj
`),M+=` Tj
`;var Ss=`BT
/`;return Ss+=fn+" "+Ir+` Tf
`,Ss+=Ye(Ir*uo)+` TL
`,Ss+=mt+`
`,Ss+=wi,Ss+=M,qt(Ss+="ET"),Lt[fn]=!0,ri};var cn=G.__private__.clip=G.clip=function(M){return qt(M==="evenodd"?"W*":"W"),this};G.clipEvenOdd=function(){return cn("evenodd")},G.__private__.discardPath=G.discardPath=function(){return qt("n"),this};var Da=G.__private__.isValidStyle=function(M){var z=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(M)!==-1&&(z=!0),z};G.__private__.setDefaultPathOperation=G.setDefaultPathOperation=function(M){return Da(M)&&(K=M),this};var Ml=G.__private__.getStyle=G.getStyle=function(M){var z=K;switch(M){case"D":case"S":z="S";break;case"F":z="f";break;case"FD":case"DF":z="B";break;case"f":case"f*":case"B":case"B*":z=M}return z},Dl=G.close=function(){return qt("h"),this};G.stroke=function(){return qt("S"),this},G.fill=function(M){return si("f",M),this},G.fillEvenOdd=function(M){return si("f*",M),this},G.fillStroke=function(M){return si("B",M),this},G.fillStrokeEvenOdd=function(M){return si("B*",M),this};var si=function(z,Et){be()(Et)==="object"?gu(Et,z):qt(z)},_i=function(z){z===null||Ae===gt.ADVANCED&&z===void 0||(z=Ml(z),qt(z))};function pu(M,z,Et,re,Le){var Fe=new te(z||this.boundingBox,Et||this.xStep,re||this.yStep,this.gState,Le||this.matrix);Fe.stream=this.stream;var yr=M+"$$"+this.cloneIndex+++"$$";return fs(yr,Fe),Fe}var gu=function(z,Et){var re=Ka[z.key],Le=Bn[re];if(Le instanceof tt)qt("q"),qt(Rl(Et)),Le.gState&&G.setGState(Le.gState),qt(z.matrix.toString()+" cm"),qt("/"+re+" sh"),qt("Q");else if(Le instanceof te){var Fe=new nn(1,0,0,-1,0,ns());z.matrix&&(Fe=Fe.multiply(z.matrix||_a),re=pu.call(Le,z.key,z.boundingBox,z.xStep,z.yStep,Fe).id),qt("q"),qt("/Pattern cs"),qt("/"+re+" scn"),Le.gState&&G.setGState(Le.gState),qt(Et),qt("Q")}},Rl=function(z){switch(z){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},sl=G.moveTo=function(M,z){return qt(Ye(Bt(M))+" "+Ye(le(z))+" m"),this},No=G.lineTo=function(M,z){return qt(Ye(Bt(M))+" "+Ye(le(z))+" l"),this},xa=G.curveTo=function(M,z,Et,re,Le,Fe){return qt([Ye(Bt(M)),Ye(le(z)),Ye(Bt(Et)),Ye(le(re)),Ye(Bt(Le)),Ye(le(Fe)),"c"].join(" ")),this};G.__private__.line=G.line=function(M,z,Et,re,Le){if(isNaN(M)||isNaN(z)||isNaN(Et)||isNaN(re)||!Da(Le))throw new Error("Invalid arguments passed to jsPDF.line");return Ae===gt.COMPAT?this.lines([[Et-M,re-z]],M,z,[1,1],Le||"S"):this.lines([[Et-M,re-z]],M,z,[1,1]).stroke()},G.__private__.lines=G.lines=function(M,z,Et,re,Le,Fe){var yr,Cr,qr,$r,pn,Mn,Tn,oi,ri,qi,wi,ja;if(typeof M=="number"&&(ja=Et,Et=z,z=M,M=ja),re=re||[1,1],Fe=Fe||!1,isNaN(z)||isNaN(Et)||!Array.isArray(M)||!Array.isArray(re)||!Da(Le)||typeof Fe!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(sl(z,Et),yr=re[0],Cr=re[1],$r=M.length,qi=z,wi=Et,qr=0;qr<$r;qr++)(pn=M[qr]).length===2?(qi=pn[0]*yr+qi,wi=pn[1]*Cr+wi,No(qi,wi)):(Mn=pn[0]*yr+qi,Tn=pn[1]*Cr+wi,oi=pn[2]*yr+qi,ri=pn[3]*Cr+wi,qi=pn[4]*yr+qi,wi=pn[5]*Cr+wi,xa(Mn,Tn,oi,ri,qi,wi));return Fe&&Dl(),_i(Le),this},G.path=function(M){for(var z=0;z<M.length;z++){var Et=M[z],re=Et.c;switch(Et.op){case"m":sl(re[0],re[1]);break;case"l":No(re[0],re[1]);break;case"c":xa.apply(this,re);break;case"h":Dl()}}return this},G.__private__.rect=G.rect=function(M,z,Et,re,Le){if(isNaN(M)||isNaN(z)||isNaN(Et)||isNaN(re)||!Da(Le))throw new Error("Invalid arguments passed to jsPDF.rect");return Ae===gt.COMPAT&&(re=-re),qt([Ye(Bt(M)),Ye(le(z)),Ye(Bt(Et)),Ye(Bt(re)),"re"].join(" ")),_i(Le),this},G.__private__.triangle=G.triangle=function(M,z,Et,re,Le,Fe,yr){if(isNaN(M)||isNaN(z)||isNaN(Et)||isNaN(re)||isNaN(Le)||isNaN(Fe)||!Da(yr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[Et-M,re-z],[Le-Et,Fe-re],[M-Le,z-Fe]],M,z,[1,1],yr,!0),this},G.__private__.roundedRect=G.roundedRect=function(M,z,Et,re,Le,Fe,yr){if(isNaN(M)||isNaN(z)||isNaN(Et)||isNaN(re)||isNaN(Le)||isNaN(Fe)||!Da(yr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var Cr=4/3*(Math.SQRT2-1);return Le=Math.min(Le,.5*Et),Fe=Math.min(Fe,.5*re),this.lines([[Et-2*Le,0],[Le*Cr,0,Le,Fe-Fe*Cr,Le,Fe],[0,re-2*Fe],[0,Fe*Cr,-Le*Cr,Fe,-Le,Fe],[2*Le-Et,0],[-Le*Cr,0,-Le,-Fe*Cr,-Le,-Fe],[0,2*Fe-re],[0,-Fe*Cr,Le*Cr,-Fe,Le,-Fe]],M+Le,z,[1,1],yr,!0),this},G.__private__.ellipse=G.ellipse=function(M,z,Et,re,Le){if(isNaN(M)||isNaN(z)||isNaN(Et)||isNaN(re)||!Da(Le))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Fe=4/3*(Math.SQRT2-1)*Et,yr=4/3*(Math.SQRT2-1)*re;return sl(M+Et,z),xa(M+Et,z-yr,M+Fe,z-re,M,z-re),xa(M-Fe,z-re,M-Et,z-yr,M-Et,z),xa(M-Et,z+yr,M-Fe,z+re,M,z+re),xa(M+Fe,z+re,M+Et,z+yr,M+Et,z),_i(Le),this},G.__private__.circle=G.circle=function(M,z,Et,re){if(isNaN(M)||isNaN(z)||isNaN(Et)||!Da(re))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(M,z,Et,Et,re)},G.setFont=function(M,z,Et){return Et&&(z=fr(z,Et)),fn=il(M,z,{disableWarning:!1}),this};var Rs=G.__private__.getFont=G.getFont=function(){return yn[il.apply(G,arguments)]};G.__private__.getFontList=G.getFontList=function(){var M,z,Et={};for(M in gi)if(gi.hasOwnProperty(M))for(z in Et[M]=[],gi[M])gi[M].hasOwnProperty(z)&&Et[M].push(z);return Et},G.addFont=function(M,z,Et,re,Le){var Fe=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Fe.indexOf(arguments[3])!==-1?Le=arguments[3]:arguments[3]&&Fe.indexOf(arguments[3])==-1&&(Et=fr(Et,re)),Le=Le||"Identity-H",Dn.call(this,M,z,Et,Le)};var Sa,gs=k.lineWidth||.200025,lo=G.__private__.getLineWidth=G.getLineWidth=function(){return gs},Mo=G.__private__.setLineWidth=G.setLineWidth=function(M){return gs=M,qt(Ye(Bt(M))+" w"),this};G.__private__.setLineDash=Y.API.setLineDash=Y.API.setLineDashPattern=function(M,z){if(M=M||[],z=z||0,isNaN(z)||!Array.isArray(M))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return M=M.map(function(Et){return Ye(Bt(Et))}).join(" "),z=Ye(Bt(z)),qt("["+M+"] "+z+" d"),this};var Ra=G.__private__.getLineHeight=G.getLineHeight=function(){return Ir*Sa};G.__private__.getLineHeight=G.getLineHeight=function(){return Ir*Sa};var Bl=G.__private__.setLineHeightFactor=G.setLineHeightFactor=function(M){return typeof(M=M||1.15)=="number"&&(Sa=M),this},jl=G.__private__.getLineHeightFactor=G.getLineHeightFactor=function(){return Sa};Bl(k.lineHeight);var ms=G.__private__.getHorizontalCoordinate=function(M){return Bt(M)},vs=G.__private__.getVerticalCoordinate=function(M){return Ae===gt.ADVANCED?M:hn[wt].mediaBox.topRightY-hn[wt].mediaBox.bottomLeftY-Bt(M)},zl=G.__private__.getHorizontalCoordinateString=G.getHorizontalCoordinateString=function(M){return Ye(ms(M))},Do=G.__private__.getVerticalCoordinateString=G.getVerticalCoordinateString=function(M){return Ye(vs(M))},es=k.strokeColor||"0 G";G.__private__.getStrokeColor=G.getDrawColor=function(){return Qa(es)},G.__private__.setStrokeColor=G.setDrawColor=function(M,z,Et,re){return es=zi({ch1:M,ch2:z,ch3:Et,ch4:re,pdfColorType:"draw",precision:2}),qt(es),this};var Ba=k.fillColor||"0 g";G.__private__.getFillColor=G.getFillColor=function(){return Qa(Ba)},G.__private__.setFillColor=G.setFillColor=function(M,z,Et,re){return Ba=zi({ch1:M,ch2:z,ch3:Et,ch4:re,pdfColorType:"fill",precision:2}),qt(Ba),this};var mt=k.textColor||"0 g",Bs=G.__private__.getTextColor=G.getTextColor=function(){return Qa(mt)};G.__private__.setTextColor=G.setTextColor=function(M,z,Et,re){return mt=zi({ch1:M,ch2:z,ch3:Et,ch4:re,pdfColorType:"text",precision:3}),this};var ys=k.charSpace,Qi=G.__private__.getCharSpace=G.getCharSpace=function(){return parseFloat(ys||0)};G.__private__.setCharSpace=G.setCharSpace=function(M){if(isNaN(M))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return ys=M,this};var wn=0;G.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},G.__private__.setLineCap=G.setLineCap=function(M){var z=G.CapJoinStyles[M];if(z===void 0)throw new Error("Line cap style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wn=z,qt(z+" J"),this};var ol=0;G.__private__.setLineJoin=G.setLineJoin=function(M){var z=G.CapJoinStyles[M];if(z===void 0)throw new Error("Line join style of '"+M+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ol=z,qt(z+" j"),this},G.__private__.setLineMiterLimit=G.__private__.setMiterLimit=G.setLineMiterLimit=G.setMiterLimit=function(M){if(M=M||0,isNaN(M))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return qt(Ye(Bt(M))+" M"),this},G.GState=_e,G.setGState=function(M){(M=typeof M=="string"?li[mi[M]]:Ul(null,M)).equals(na)||(qt("/"+M.id+" gs"),na=M)};var Ul=function(z,Et){if(!z||!mi[z]){var re=!1;for(var Le in li)if(li.hasOwnProperty(Le)&&li[Le].equals(Et)){re=!0;break}if(re)Et=li[Le];else{var Fe="GS"+(Object.keys(li).length+1).toString(10);li[Fe]=Et,Et.id=Fe}return z&&(mi[z]=Et.id),Un.publish("addGState",Et),Et}};G.addGState=function(M,z){return Ul(M,z),this},G.saveGraphicsState=function(){return qt("q"),ba.push({key:fn,size:Ir,color:mt}),this},G.restoreGraphicsState=function(){qt("Q");var M=ba.pop();return fn=M.key,Ir=M.size,mt=M.color,na=null,this},G.setCurrentTransformationMatrix=function(M){return qt(M.toString()+" cm"),this},G.comment=function(M){return qt("#"+M),this};var Ro=function(z,Et){var re=z||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return re},set:function(Cr){isNaN(Cr)||(re=parseFloat(Cr))}});var Le=Et||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return Le},set:function(Cr){isNaN(Cr)||(Le=parseFloat(Cr))}});var Fe="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Fe},set:function(Cr){Fe=Cr.toString()}}),this},rs=function(z,Et,re,Le){Ro.call(this,z,Et),this.type="rect";var Fe=re||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Fe},set:function(qr){isNaN(qr)||(Fe=parseFloat(qr))}});var yr=Le||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return yr},set:function(qr){isNaN(qr)||(yr=parseFloat(qr))}}),this},ll=function(){this.page=Qn,this.currentPage=wt,this.pages=vr.slice(0),this.pagesContext=hn.slice(0),this.x=Bi,this.y=Vn,this.matrix=Ci,this.width=hl(wt),this.height=ns(wt),this.outputDestination=Pr,this.id="",this.objectNumber=-1};ll.prototype.restore=function(){Qn=this.page,wt=this.currentPage,hn=this.pagesContext,vr=this.pages,Bi=this.x,Vn=this.y,Ci=this.matrix,sa(wt,this.width),cl(wt,this.height),Pr=this.outputDestination};var ul=function(z,Et,re,Le,Fe){Ja.push(new ll),Qn=wt=0,vr=[],Bi=z,Vn=Et,Ci=Fe,ao([re,Le])},mu=function(z){if(Za[z])Ja.pop().restore();else{var Et=new ll,re="Xo"+(Object.keys(ji).length+1).toString(10);Et.id=re,Za[z]=re,ji[re]=Et,Un.publish("addFormObject",Et),Ja.pop().restore()}};for(var Bo in G.beginFormObject=function(M,z,Et,re,Le){return ul(M,z,Et,re,Le),this},G.endFormObject=function(M){return mu(M),this},G.doFormObject=function(M,z){var Et=ji[Za[M]];return qt("q"),qt(z.toString()+" cm"),qt("/"+Et.id+" Do"),qt("Q"),this},G.getFormObject=function(M){var z=ji[Za[M]];return{x:z.x,y:z.y,width:z.width,height:z.height,matrix:z.matrix}},G.save=function(M,z){return M=M||"generated.pdf",(z=z||{}).returnPromise=z.returnPromise||!1,z.returnPromise===!1?(r(wa(aa()),M),typeof r.unload=="function"&&dt.setTimeout&&setTimeout(r.unload,911),this):new Promise(function(Et,re){try{var Le=r(wa(aa()),M);typeof r.unload=="function"&&dt.setTimeout&&setTimeout(r.unload,911),Et(Le)}catch(Fe){re(Fe.message)}})},Y.API)Y.API.hasOwnProperty(Bo)&&(Bo==="events"&&Y.API.events.length?function(M,z){var Et,re,Le;for(Le=z.length-1;Le!==-1;Le--)Et=z[Le][0],re=z[Le][1],M.subscribe.apply(M,[Et].concat(typeof re=="function"?[re]:re))}(Un,Y.API.events):G[Bo]=Y.API[Bo]);var hl=G.getPageWidth=function(M){return(hn[M=M||wt].mediaBox.topRightX-hn[M].mediaBox.bottomLeftX)/Nr},sa=G.setPageWidth=function(M,z){hn[M].mediaBox.topRightX=z*Nr+hn[M].mediaBox.bottomLeftX},ns=G.getPageHeight=function(M){return(hn[M=M||wt].mediaBox.topRightY-hn[M].mediaBox.bottomLeftY)/Nr},cl=G.setPageHeight=function(M,z){hn[M].mediaBox.topRightY=z*Nr+hn[M].mediaBox.bottomLeftY};return G.internal={pdfEscape:Ni,getStyle:Ml,getFont:Rs,getFontSize:zr,getCharSpace:Qi,getTextColor:Bs,getLineHeight:Ra,getLineHeightFactor:jl,getLineWidth:lo,write:sr,getHorizontalCoordinate:ms,getVerticalCoordinate:vs,getCoordinateString:zl,getVerticalCoordinateString:Do,collections:{},newObject:ii,newAdditionalObject:$a,newObjectDeferred:Ai,newObjectDeferredBegin:ai,getFilters:vi,putStream:ia,events:Un,scaleFactor:Nr,pageSize:{getWidth:function(){return hl(wt)},setWidth:function(z){sa(wt,z)},getHeight:function(){return ns(wt)},setHeight:function(z){cl(wt,z)}},encryptionOptions:bt,encryption:Ti,getEncryptor:du,output:Fo,getNumberOfPages:ko,pages:vr,out:qt,f2:Ve,f3:ie,getPageInfo:oo,getPageInfoByObjId:Io,getCurrentPageInfo:al,getPDFVersion:Ft,Point:Ro,Rectangle:rs,Matrix:nn,hasHotfix:Nl},Object.defineProperty(G.internal.pageSize,"width",{get:function(){return hl(wt)},set:function(z){sa(wt,z)},enumerable:!0,configurable:!0}),Object.defineProperty(G.internal.pageSize,"height",{get:function(){return ns(wt)},set:function(z){cl(wt,z)},enumerable:!0,configurable:!0}),fu.call(G,ir),fn="F1",ps(T,y),Un.publish("initialized"),G}At.prototype.lsbFirstWord=function(k){return String.fromCharCode(k>>0&255,k>>8&255,k>>16&255,k>>24&255)},At.prototype.toHexString=function(k){return k.split("").map(function(g){return("0"+(255&g.charCodeAt(0)).toString(16)).slice(-2)}).join("")},At.prototype.hexToBytes=function(k){for(var g=[],y=0;y<k.length;y+=2)g.push(String.fromCharCode(parseInt(k.substr(y,2),16)));return g.join("")},At.prototype.processOwnerPassword=function(k,g){return pe(Ct(g).substr(0,5),k)},At.prototype.encryptor=function(k,g){var y=Ct(this.encryptionKey+String.fromCharCode(255&k,k>>8&255,k>>16&255,255&g,g>>8&255)).substr(0,10);return function(w){return pe(y,w)}},_e.prototype.equals=function(k){var g,y="id,objectNumber,equals";if(!k||be()(k)!==be()(this))return!1;var w=0;for(g in this)if(!(y.indexOf(g)>=0)){if(this.hasOwnProperty(g)&&!k.hasOwnProperty(g)||this[g]!==k[g])return!1;w++}for(g in k)k.hasOwnProperty(g)&&y.indexOf(g)<0&&w--;return w===0},Y.API={events:[]},Y.version="2.5.1";var lt=Y.API,$=1,F=function(g){return g.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},et=function(g){return g.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},ht=function(g){return g.toFixed(2)},nt=function(g){return g.toFixed(5)};lt.__acroform__={};var jt=function(g,y){g.prototype=Object.create(y.prototype),g.prototype.constructor=g},xt=function(g){return g*$},Mt=function(g){var y=new Ge,w=Mr.internal.getHeight(g)||0,T=Mr.internal.getWidth(g)||0;return y.BBox=[0,0,Number(ht(T)),Number(ht(w))],y},ae=lt.__acroform__.setBit=function(k,g){if(k=k||0,g=g||0,isNaN(k)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return k|=1<<g},se=lt.__acroform__.clearBit=function(k,g){if(k=k||0,g=g||0,isNaN(k)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return k&=~(1<<g)},Zt=lt.__acroform__.getBit=function(k,g){if(isNaN(k)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(k&1<<g)==0?0:1},Wt=lt.__acroform__.getBitForPdf=function(k,g){if(isNaN(k)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Zt(k,g-1)},oe=lt.__acroform__.setBitForPdf=function(k,g){if(isNaN(k)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ae(k,g-1)},N=lt.__acroform__.clearBitForPdf=function(k,g){if(isNaN(k)||isNaN(g))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return se(k,g-1)},zt=lt.__acroform__.calculateCoordinates=function(k,g){var y=g.internal.getHorizontalCoordinate,w=g.internal.getVerticalCoordinate,T=k[0],S=k[1],P=k[2],j=k[3],I={};return I.lowerLeft_X=y(T)||0,I.lowerLeft_Y=w(S+j)||0,I.upperRight_X=y(T+P)||0,I.upperRight_Y=w(S)||0,[Number(ht(I.lowerLeft_X)),Number(ht(I.lowerLeft_Y)),Number(ht(I.upperRight_X)),Number(ht(I.upperRight_Y))]},U=function(g){if(g.appearanceStreamContent)return g.appearanceStreamContent;if(g.V||g.DV){var y=[],w=g._V||g.DV,T=x(g,w),S=g.scope.internal.getFont(g.fontName,g.fontStyle).id;y.push("/Tx BMC"),y.push("q"),y.push("BT"),y.push(g.scope.__private__.encodeColorString(g.color)),y.push("/"+S+" "+ht(T.fontSize)+" Tf"),y.push("1 0 0 1 0 0 Tm"),y.push(T.text),y.push("ET"),y.push("Q"),y.push("EMC");var P=Mt(g);return P.scope=g.scope,P.stream=y.join(`
`),P}},x=function(g,y){var w=g.fontSize===0?g.maxFontSize:g.fontSize,T={text:"",fontSize:""},S=(y=(y=y.substr(0,1)=="("?y.substr(1):y).substr(y.length-1)==")"?y.substr(0,y.length-1):y).split(" ");S=g.multiline?S.map(function(Bt){return Bt.split(`
`)}):S.map(function(Bt){return[Bt]});var P=w,j=Mr.internal.getHeight(g)||0;j=j<0?-j:j;var I=Mr.internal.getWidth(g)||0;I=I<0?-I:I;var K=function(ue,le,$e){if(ue+1<S.length){var Ke=le+" "+S[ue+1][0];return A(Ke,g,$e).width<=I-4}return!1};P++;t:for(;P>0;){y="",P--;var bt,vt,Lt=A("3",g,P).height,G=g.multiline?j-P:(j-Lt)/2,Vt=G+=2,Ft=0,$t=0,Nt=0;if(P<=0){y=`(...) Tj
`,y+="% Width of Text: "+A(y,g,P=12).width+", FieldWidth:"+I+`
`;break}for(var gt="",Ae=0,Be=0;Be<S.length;Be++)if(S.hasOwnProperty(Be)){var Qe=!1;if(S[Be].length!==1&&Nt!==S[Be].length-1){if((Lt+2)*(Ae+2)+2>j)continue t;gt+=S[Be][Nt],Qe=!0,$t=Be,Be--}else{gt=(gt+=S[Be][Nt]+" ").substr(gt.length-1)==" "?gt.substr(0,gt.length-1):gt;var fr=parseInt(Be),Ye=K(fr,gt,P),mr=Be>=S.length-1;if(Ye&&!mr){gt+=" ",Nt=0;continue}if(Ye||mr){if(mr)$t=fr;else if(g.multiline&&(Lt+2)*(Ae+2)+2>j)continue t}else{if(!g.multiline||(Lt+2)*(Ae+2)+2>j)continue t;$t=fr}}for(var he="",Ve=Ft;Ve<=$t;Ve++){var ie=S[Ve];if(g.multiline){if(Ve===$t){he+=ie[Nt]+" ",Nt=(Nt+1)%ie.length;continue}if(Ve===Ft){he+=ie[ie.length-1]+" ";continue}}he+=ie[0]+" "}switch(he=he.substr(he.length-1)==" "?he.substr(0,he.length-1):he,vt=A(he,g,P).width,g.textAlign){case"right":bt=I-vt-2;break;case"center":bt=(I-vt)/2;break;case"left":default:bt=2}y+=ht(bt)+" "+ht(Vt)+` Td
`,y+="("+F(he)+`) Tj
`,y+=-ht(bt)+` 0 Td
`,Vt=-(P+2),vt=0,Ft=Qe?$t:$t+1,Ae++,gt=""}break}return T.text=y,T.fontSize=P,T},A=function(g,y,w){var T=y.scope.internal.getFont(y.fontName,y.fontStyle),S=y.scope.getStringUnitWidth(g,{font:T,fontSize:parseFloat(w),charSpace:0})*parseFloat(w);return{height:y.scope.getStringUnitWidth("3",{font:T,fontSize:parseFloat(w),charSpace:0})*parseFloat(w)*1.5,width:S}},H={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},at=function(g,y){var w={type:"reference",object:g};y.internal.getPageInfo(g.page).pageContext.annotations.find(function(T){return T.type===w.type&&T.object===w.object})===void 0&&y.internal.getPageInfo(g.page).pageContext.annotations.push(w)},Ot=function(g,y){for(var w in g)if(g.hasOwnProperty(w)){var T=w,S=g[w];y.internal.newObjectDeferredBegin(S.objId,!0),be()(S)==="object"&&typeof S.putStream=="function"&&S.putStream(),delete g[T]}},_t=function(g,y){if(y.scope=g,g.internal!==void 0&&(g.internal.acroformPlugin===void 0||g.internal.acroformPlugin.isInitialized===!1)){if(Ar.FieldNum=0,g.internal.acroformPlugin=JSON.parse(JSON.stringify(H)),g.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");$=g.internal.scaleFactor,g.internal.acroformPlugin.acroFormDictionaryRoot=new pr,g.internal.acroformPlugin.acroFormDictionaryRoot.scope=g,g.internal.acroformPlugin.acroFormDictionaryRoot._eventID=g.internal.events.subscribe("postPutResources",function(){(function(w){w.internal.events.unsubscribe(w.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete w.internal.acroformPlugin.acroFormDictionaryRoot._eventID,w.internal.acroformPlugin.printedOut=!0})(g)}),g.internal.events.subscribe("buildDocument",function(){(function(w){w.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var T=w.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var S in T)if(T.hasOwnProperty(S)){var P=T[S];P.objId=void 0,P.hasAnnotation&&at(P,w)}})(g)}),g.internal.events.subscribe("putCatalog",function(){(function(w){if(w.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");w.internal.write("/AcroForm "+w.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(g)}),g.internal.events.subscribe("postPutPages",function(w){(function(T,S){var P=!T;for(var j in T||(S.internal.newObjectDeferredBegin(S.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),S.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),T=T||S.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(T.hasOwnProperty(j)){var I=T[j],K=[],bt=I.Rect;if(I.Rect&&(I.Rect=zt(I.Rect,S)),S.internal.newObjectDeferredBegin(I.objId,!0),I.DA=Mr.createDefaultAppearanceStream(I),be()(I)==="object"&&typeof I.getKeyValueListForStream=="function"&&(K=I.getKeyValueListForStream()),I.Rect=bt,I.hasAppearanceStream&&!I.appearanceStreamContent){var vt=U(I);K.push({key:"AP",value:"<</N "+vt+">>"}),S.internal.acroformPlugin.xForms.push(vt)}if(I.appearanceStreamContent){var Lt="";for(var G in I.appearanceStreamContent)if(I.appearanceStreamContent.hasOwnProperty(G)){var Vt=I.appearanceStreamContent[G];if(Lt+="/"+G+" ",Lt+="<<",Object.keys(Vt).length>=1||Array.isArray(Vt)){for(var j in Vt)if(Vt.hasOwnProperty(j)){var Ft=Vt[j];typeof Ft=="function"&&(Ft=Ft.call(S,I)),Lt+="/"+j+" "+Ft+" ",S.internal.acroformPlugin.xForms.indexOf(Ft)>=0||S.internal.acroformPlugin.xForms.push(Ft)}}else typeof(Ft=Vt)=="function"&&(Ft=Ft.call(S,I)),Lt+="/"+j+" "+Ft,S.internal.acroformPlugin.xForms.indexOf(Ft)>=0||S.internal.acroformPlugin.xForms.push(Ft);Lt+=">>"}K.push({key:"AP",value:`<<
`+Lt+">>"})}S.internal.putStream({additionalKeyValues:K,objectId:I.objId}),S.internal.out("endobj")}P&&Ot(S.internal.acroformPlugin.xForms,S)})(w,g)}),g.internal.acroformPlugin.isInitialized=!0}},we=lt.__acroform__.arrayToPdfArray=function(k,g,y){var w=function(j){return j};if(Array.isArray(k)){for(var T="[",S=0;S<k.length;S++)switch(S!==0&&(T+=" "),be()(k[S])){case"boolean":case"number":case"object":T+=k[S].toString();break;case"string":k[S].substr(0,1)!=="/"?(g!==void 0&&y&&(w=y.internal.getEncryptor(g)),T+="("+F(w(k[S].toString()))+")"):T+=k[S].toString()}return T+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Me=function(g,y,w){var T=function(P){return P};return y!==void 0&&w&&(T=w.internal.getEncryptor(y)),(g=g||"").toString(),g="("+F(T(g))+")"},Se=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(y){this._objId=y}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};Se.prototype.toString=function(){return this.objId+" 0 R"},Se.prototype.putStream=function(){var k=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:k,objectId:this.objId}),this.scope.internal.out("endobj")},Se.prototype.getKeyValueListForStream=function(){var k=[],g=Object.getOwnPropertyNames(this).filter(function(S){return S!="content"&&S!="appearanceStreamContent"&&S!="scope"&&S!="objId"&&S.substring(0,1)!="_"});for(var y in g)if(Object.getOwnPropertyDescriptor(this,g[y]).configurable===!1){var w=g[y],T=this[w];T&&(Array.isArray(T)?k.push({key:w,value:we(T,this.objId,this.scope)}):T instanceof Se?(T.scope=this.scope,k.push({key:w,value:T.objId+" 0 R"})):typeof T!="function"&&k.push({key:w,value:T}))}return k};var Ge=function(){Se.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var g,y=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return y},set:function(T){y=T}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(T){g=T.trim()},get:function(){return g||null}})};jt(Ge,Se);var pr=function(){Se.call(this);var g,y=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return y.length>0?y:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return y}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(g){var T=function(P){return P};return this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),"("+F(T(g))+")"}},set:function(T){g=T}})};jt(pr,Se);var Ar=function k(){Se.call(this);var g=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return g},set:function(gt){if(isNaN(gt))throw new Error('Invalid value "'+gt+'" for attribute F supplied.');g=gt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(g,3))},set:function(gt){Boolean(gt)===!0?this.F=oe(g,3):this.F=N(g,3)}});var y=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return y},set:function(gt){if(isNaN(gt))throw new Error('Invalid value "'+gt+'" for attribute Ff supplied.');y=gt}});var w=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(w.length!==0)return w},set:function(gt){w=gt!==void 0?gt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!w||isNaN(w[0])?0:w[0]},set:function(gt){w[0]=gt}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!w||isNaN(w[1])?0:w[1]},set:function(gt){w[1]=gt}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!w||isNaN(w[2])?0:w[2]},set:function(gt){w[2]=gt}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!w||isNaN(w[3])?0:w[3]},set:function(gt){w[3]=gt}});var T="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return T},set:function(gt){switch(gt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":T=gt;break;default:throw new Error('Invalid value "'+gt+'" for attribute FT supplied.')}}});var S=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!S||S.length<1){if(this instanceof $n)return;S="FieldObject"+k.FieldNum++}var gt=function(Be){return Be};return this.scope&&(gt=this.scope.internal.getEncryptor(this.objId)),"("+F(gt(S))+")"},set:function(gt){S=gt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return S},set:function(gt){S=gt}});var P="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return P},set:function(gt){P=gt}});var j="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return j},set:function(gt){j=gt}});var I=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return I},set:function(gt){I=gt}});var K=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return K===void 0?50/$:K},set:function(gt){K=gt}});var bt="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return bt},set:function(gt){bt=gt}});var vt="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!vt||this instanceof $n||this instanceof ni))return Me(vt,this.objId,this.scope)},set:function(gt){gt=gt.toString(),vt=gt}});var Lt=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(Lt)return this instanceof Yr?Lt:Me(Lt,this.objId,this.scope)},set:function(gt){gt=gt.toString(),Lt=this instanceof Yr?gt:gt.substr(0,1)==="("?et(gt.substr(1,gt.length-2)):et(gt)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yr?et(Lt.substr(1,Lt.length-1)):Lt},set:function(gt){gt=gt.toString(),Lt=this instanceof Yr?"/"+gt:gt}});var G=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(G)return G},set:function(gt){this.V=gt}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(G)return this instanceof Yr?G:Me(G,this.objId,this.scope)},set:function(gt){gt=gt.toString(),G=this instanceof Yr?gt:gt.substr(0,1)==="("?et(gt.substr(1,gt.length-2)):et(gt)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Yr?et(G.substr(1,G.length-1)):G},set:function(gt){gt=gt.toString(),G=this instanceof Yr?"/"+gt:gt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Vt,Ft=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return Ft},set:function(gt){gt=Boolean(gt),Ft=gt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Vt)return Vt},set:function(gt){Vt=gt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,1))},set:function(gt){Boolean(gt)===!0?this.Ff=oe(this.Ff,1):this.Ff=N(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,2))},set:function(gt){Boolean(gt)===!0?this.Ff=oe(this.Ff,2):this.Ff=N(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,3))},set:function(gt){Boolean(gt)===!0?this.Ff=oe(this.Ff,3):this.Ff=N(this.Ff,3)}});var $t=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if($t!==null)return $t},set:function(gt){if([0,1,2].indexOf(gt)===-1)throw new Error('Invalid value "'+gt+'" for attribute Q supplied.');$t=gt}}),Object.defineProperty(this,"textAlign",{get:function(){var gt;switch($t){case 0:default:gt="left";break;case 1:gt="center";break;case 2:gt="right"}return gt},configurable:!0,enumerable:!0,set:function(gt){switch(gt){case"right":case 2:$t=2;break;case"center":case 1:$t=1;break;case"left":case 0:default:$t=0}}})};jt(Ar,Se);var Kr=function(){Ar.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var g=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return g},set:function(T){g=T}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return g},set:function(T){g=T}});var y=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return we(y,this.objId,this.scope)},set:function(T){var S,P;P=[],typeof(S=T)=="string"&&(P=function(j,I,K){K||(K=1);for(var bt,vt=[];bt=I.exec(j);)vt.push(bt[K]);return vt}(S,/\((.*?)\)/g)),y=P}}),this.getOptions=function(){return y},this.setOptions=function(w){y=w,this.sort&&y.sort()},this.addOption=function(w){w=(w=w||"").toString(),y.push(w),this.sort&&y.sort()},this.removeOption=function(w,T){for(T=T||!1,w=(w=w||"").toString();y.indexOf(w)!==-1&&(y.splice(y.indexOf(w),1),T!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,18))},set:function(T){Boolean(T)===!0?this.Ff=oe(this.Ff,18):this.Ff=N(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,19))},set:function(T){this.combo===!0&&(Boolean(T)===!0?this.Ff=oe(this.Ff,19):this.Ff=N(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,20))},set:function(T){Boolean(T)===!0?(this.Ff=oe(this.Ff,20),y.sort()):this.Ff=N(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,22))},set:function(T){Boolean(T)===!0?this.Ff=oe(this.Ff,22):this.Ff=N(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,23))},set:function(T){Boolean(T)===!0?this.Ff=oe(this.Ff,23):this.Ff=N(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,27))},set:function(T){Boolean(T)===!0?this.Ff=oe(this.Ff,27):this.Ff=N(this.Ff,27)}}),this.hasAppearanceStream=!1};jt(Kr,Ar);var _n=function(){Kr.call(this),this.fontName="helvetica",this.combo=!1};jt(_n,Kr);var Cn=function(){_n.call(this),this.combo=!0};jt(Cn,_n);var Wn=function(){Cn.call(this),this.edit=!0};jt(Wn,Cn);var Yr=function(){Ar.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,15))},set:function(T){Boolean(T)===!0?this.Ff=oe(this.Ff,15):this.Ff=N(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,16))},set:function(T){Boolean(T)===!0?this.Ff=oe(this.Ff,16):this.Ff=N(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,17))},set:function(T){Boolean(T)===!0?this.Ff=oe(this.Ff,17):this.Ff=N(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,26))},set:function(T){Boolean(T)===!0?this.Ff=oe(this.Ff,26):this.Ff=N(this.Ff,26)}});var g,y={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var T=function(I){return I};if(this.scope&&(T=this.scope.internal.getEncryptor(this.objId)),Object.keys(y).length!==0){var S,P=[];for(S in P.push("<<"),y)P.push("/"+S+" ("+F(T(y[S]))+")");return P.push(">>"),P.join(`
`)}},set:function(T){be()(T)==="object"&&(y=T)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return y.CA||""},set:function(T){typeof T=="string"&&(y.CA=T)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return g},set:function(T){g=T}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return g.substr(1,g.length-1)},set:function(T){g="/"+T}})};jt(Yr,Ar);var zn=function(){Yr.call(this),this.pushButton=!0};jt(zn,Yr);var pi=function(){Yr.call(this),this.radio=!0,this.pushButton=!1;var g=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return g},set:function(w){g=w!==void 0?w:[]}})};jt(pi,Yr);var $n=function(){var g,y;Ar.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return g},set:function(P){g=P}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return y},set:function(P){y=P}});var w,T={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var P=function(bt){return bt};this.scope&&(P=this.scope.internal.getEncryptor(this.objId));var j,I=[];for(j in I.push("<<"),T)I.push("/"+j+" ("+F(P(T[j]))+")");return I.push(">>"),I.join(`
`)},set:function(P){be()(P)==="object"&&(T=P)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return T.CA||""},set:function(P){typeof P=="string"&&(T.CA=P)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return w},set:function(P){w=P}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return w.substr(1,w.length-1)},set:function(P){w="/"+P}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Mr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};jt($n,Ar),pi.prototype.setAppearance=function(k){if(!("createAppearanceStream"in k)||!("getCA"in k))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var g in this.Kids)if(this.Kids.hasOwnProperty(g)){var y=this.Kids[g];y.appearanceStreamContent=k.createAppearanceStream(y.optionName),y.caption=k.getCA()}},pi.prototype.createOption=function(k){var g=new $n;return g.Parent=this,g.optionName=k,this.Kids.push(g),Ki.call(this.scope,g),g};var ki=function(){Yr.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Mr.CheckBox.createAppearanceStream()};jt(ki,Yr);var ni=function(){Ar.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,13))},set:function(w){Boolean(w)===!0?this.Ff=oe(this.Ff,13):this.Ff=N(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,21))},set:function(w){Boolean(w)===!0?this.Ff=oe(this.Ff,21):this.Ff=N(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,23))},set:function(w){Boolean(w)===!0?this.Ff=oe(this.Ff,23):this.Ff=N(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,24))},set:function(w){Boolean(w)===!0?this.Ff=oe(this.Ff,24):this.Ff=N(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,25))},set:function(w){Boolean(w)===!0?this.Ff=oe(this.Ff,25):this.Ff=N(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,26))},set:function(w){Boolean(w)===!0?this.Ff=oe(this.Ff,26):this.Ff=N(this.Ff,26)}});var g=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return g},set:function(w){g=w}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return g},set:function(w){Number.isInteger(w)&&(g=w)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};jt(ni,Ar);var Ia=function(){ni.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Wt(this.Ff,14))},set:function(y){Boolean(y)===!0?this.Ff=oe(this.Ff,14):this.Ff=N(this.Ff,14)}}),this.password=!0};jt(Ia,ni);var Mr={CheckBox:{createAppearanceStream:function(){return{N:{On:Mr.CheckBox.YesNormal},D:{On:Mr.CheckBox.YesPushDown,Off:Mr.CheckBox.OffPushDown}}},YesPushDown:function(g){var y=Mt(g);y.scope=g.scope;var w=[],T=g.scope.internal.getFont(g.fontName,g.fontStyle).id,S=g.scope.__private__.encodeColorString(g.color),P=x(g,g.caption);return w.push("0.749023 g"),w.push("0 0 "+ht(Mr.internal.getWidth(g))+" "+ht(Mr.internal.getHeight(g))+" re"),w.push("f"),w.push("BMC"),w.push("q"),w.push("0 0 1 rg"),w.push("/"+T+" "+ht(P.fontSize)+" Tf "+S),w.push("BT"),w.push(P.text),w.push("ET"),w.push("Q"),w.push("EMC"),y.stream=w.join(`
`),y},YesNormal:function(g){var y=Mt(g);y.scope=g.scope;var w=g.scope.internal.getFont(g.fontName,g.fontStyle).id,T=g.scope.__private__.encodeColorString(g.color),S=[],P=Mr.internal.getHeight(g),j=Mr.internal.getWidth(g),I=x(g,g.caption);return S.push("1 g"),S.push("0 0 "+ht(j)+" "+ht(P)+" re"),S.push("f"),S.push("q"),S.push("0 0 1 rg"),S.push("0 0 "+ht(j-1)+" "+ht(P-1)+" re"),S.push("W"),S.push("n"),S.push("0 g"),S.push("BT"),S.push("/"+w+" "+ht(I.fontSize)+" Tf "+T),S.push(I.text),S.push("ET"),S.push("Q"),y.stream=S.join(`
`),y},OffPushDown:function(g){var y=Mt(g);y.scope=g.scope;var w=[];return w.push("0.749023 g"),w.push("0 0 "+ht(Mr.internal.getWidth(g))+" "+ht(Mr.internal.getHeight(g))+" re"),w.push("f"),y.stream=w.join(`
`),y}},RadioButton:{Circle:{createAppearanceStream:function(g){var y={D:{Off:Mr.RadioButton.Circle.OffPushDown},N:{}};return y.N[g]=Mr.RadioButton.Circle.YesNormal,y.D[g]=Mr.RadioButton.Circle.YesPushDown,y},getCA:function(){return"l"},YesNormal:function(g){var y=Mt(g);y.scope=g.scope;var w=[],T=Mr.internal.getWidth(g)<=Mr.internal.getHeight(g)?Mr.internal.getWidth(g)/4:Mr.internal.getHeight(g)/4;T=Number((.9*T).toFixed(5));var S=Mr.internal.Bezier_C,P=Number((T*S).toFixed(5));return w.push("q"),w.push("1 0 0 1 "+nt(Mr.internal.getWidth(g)/2)+" "+nt(Mr.internal.getHeight(g)/2)+" cm"),w.push(T+" 0 m"),w.push(T+" "+P+" "+P+" "+T+" 0 "+T+" c"),w.push("-"+P+" "+T+" -"+T+" "+P+" -"+T+" 0 c"),w.push("-"+T+" -"+P+" -"+P+" -"+T+" 0 -"+T+" c"),w.push(P+" -"+T+" "+T+" -"+P+" "+T+" 0 c"),w.push("f"),w.push("Q"),y.stream=w.join(`
`),y},YesPushDown:function(g){var y=Mt(g);y.scope=g.scope;var w=[],T=Mr.internal.getWidth(g)<=Mr.internal.getHeight(g)?Mr.internal.getWidth(g)/4:Mr.internal.getHeight(g)/4;T=Number((.9*T).toFixed(5));var S=Number((2*T).toFixed(5)),P=Number((S*Mr.internal.Bezier_C).toFixed(5)),j=Number((T*Mr.internal.Bezier_C).toFixed(5));return w.push("0.749023 g"),w.push("q"),w.push("1 0 0 1 "+nt(Mr.internal.getWidth(g)/2)+" "+nt(Mr.internal.getHeight(g)/2)+" cm"),w.push(S+" 0 m"),w.push(S+" "+P+" "+P+" "+S+" 0 "+S+" c"),w.push("-"+P+" "+S+" -"+S+" "+P+" -"+S+" 0 c"),w.push("-"+S+" -"+P+" -"+P+" -"+S+" 0 -"+S+" c"),w.push(P+" -"+S+" "+S+" -"+P+" "+S+" 0 c"),w.push("f"),w.push("Q"),w.push("0 g"),w.push("q"),w.push("1 0 0 1 "+nt(Mr.internal.getWidth(g)/2)+" "+nt(Mr.internal.getHeight(g)/2)+" cm"),w.push(T+" 0 m"),w.push(T+" "+j+" "+j+" "+T+" 0 "+T+" c"),w.push("-"+j+" "+T+" -"+T+" "+j+" -"+T+" 0 c"),w.push("-"+T+" -"+j+" -"+j+" -"+T+" 0 -"+T+" c"),w.push(j+" -"+T+" "+T+" -"+j+" "+T+" 0 c"),w.push("f"),w.push("Q"),y.stream=w.join(`
`),y},OffPushDown:function(g){var y=Mt(g);y.scope=g.scope;var w=[],T=Mr.internal.getWidth(g)<=Mr.internal.getHeight(g)?Mr.internal.getWidth(g)/4:Mr.internal.getHeight(g)/4;T=Number((.9*T).toFixed(5));var S=Number((2*T).toFixed(5)),P=Number((S*Mr.internal.Bezier_C).toFixed(5));return w.push("0.749023 g"),w.push("q"),w.push("1 0 0 1 "+nt(Mr.internal.getWidth(g)/2)+" "+nt(Mr.internal.getHeight(g)/2)+" cm"),w.push(S+" 0 m"),w.push(S+" "+P+" "+P+" "+S+" 0 "+S+" c"),w.push("-"+P+" "+S+" -"+S+" "+P+" -"+S+" 0 c"),w.push("-"+S+" -"+P+" -"+P+" -"+S+" 0 -"+S+" c"),w.push(P+" -"+S+" "+S+" -"+P+" "+S+" 0 c"),w.push("f"),w.push("Q"),y.stream=w.join(`
`),y}},Cross:{createAppearanceStream:function(g){var y={D:{Off:Mr.RadioButton.Cross.OffPushDown},N:{}};return y.N[g]=Mr.RadioButton.Cross.YesNormal,y.D[g]=Mr.RadioButton.Cross.YesPushDown,y},getCA:function(){return"8"},YesNormal:function(g){var y=Mt(g);y.scope=g.scope;var w=[],T=Mr.internal.calculateCross(g);return w.push("q"),w.push("1 1 "+ht(Mr.internal.getWidth(g)-2)+" "+ht(Mr.internal.getHeight(g)-2)+" re"),w.push("W"),w.push("n"),w.push(ht(T.x1.x)+" "+ht(T.x1.y)+" m"),w.push(ht(T.x2.x)+" "+ht(T.x2.y)+" l"),w.push(ht(T.x4.x)+" "+ht(T.x4.y)+" m"),w.push(ht(T.x3.x)+" "+ht(T.x3.y)+" l"),w.push("s"),w.push("Q"),y.stream=w.join(`
`),y},YesPushDown:function(g){var y=Mt(g);y.scope=g.scope;var w=Mr.internal.calculateCross(g),T=[];return T.push("0.749023 g"),T.push("0 0 "+ht(Mr.internal.getWidth(g))+" "+ht(Mr.internal.getHeight(g))+" re"),T.push("f"),T.push("q"),T.push("1 1 "+ht(Mr.internal.getWidth(g)-2)+" "+ht(Mr.internal.getHeight(g)-2)+" re"),T.push("W"),T.push("n"),T.push(ht(w.x1.x)+" "+ht(w.x1.y)+" m"),T.push(ht(w.x2.x)+" "+ht(w.x2.y)+" l"),T.push(ht(w.x4.x)+" "+ht(w.x4.y)+" m"),T.push(ht(w.x3.x)+" "+ht(w.x3.y)+" l"),T.push("s"),T.push("Q"),y.stream=T.join(`
`),y},OffPushDown:function(g){var y=Mt(g);y.scope=g.scope;var w=[];return w.push("0.749023 g"),w.push("0 0 "+ht(Mr.internal.getWidth(g))+" "+ht(Mr.internal.getHeight(g))+" re"),w.push("f"),y.stream=w.join(`
`),y}}},createDefaultAppearanceStream:function(g){var y=g.scope.internal.getFont(g.fontName,g.fontStyle).id,w=g.scope.__private__.encodeColorString(g.color);return"/"+y+" "+g.fontSize+" Tf "+w}};Mr.internal={Bezier_C:.551915024494,calculateCross:function(g){var y=Mr.internal.getWidth(g),w=Mr.internal.getHeight(g),T=Math.min(y,w);return{x1:{x:(y-T)/2,y:(w-T)/2+T},x2:{x:(y-T)/2+T,y:(w-T)/2},x3:{x:(y-T)/2,y:(w-T)/2},x4:{x:(y-T)/2+T,y:(w-T)/2+T}}}},Mr.internal.getWidth=function(k){var g=0;return be()(k)==="object"&&(g=xt(k.Rect[2])),g},Mr.internal.getHeight=function(k){var g=0;return be()(k)==="object"&&(g=xt(k.Rect[3])),g};var Ki=lt.addField=function(k){if(_t(this,k),!(k instanceof Ar))throw new Error("Invalid argument passed to jsPDF.addField.");var g;return(g=k).scope.internal.acroformPlugin.printedOut&&(g.scope.internal.acroformPlugin.printedOut=!1,g.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),g.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(g),k.page=k.scope.internal.getCurrentPageInfo().pageNumber,this};lt.AcroFormChoiceField=Kr,lt.AcroFormListBox=_n,lt.AcroFormComboBox=Cn,lt.AcroFormEditBox=Wn,lt.AcroFormButton=Yr,lt.AcroFormPushButton=zn,lt.AcroFormRadioButton=pi,lt.AcroFormCheckBox=ki,lt.AcroFormTextField=ni,lt.AcroFormPasswordField=Ia,lt.AcroFormAppearance=Mr,lt.AcroForm={ChoiceField:Kr,ListBox:_n,ComboBox:Cn,EditBox:Wn,Button:Yr,PushButton:zn,RadioButton:pi,CheckBox:ki,TextField:ni,PasswordField:Ia,Appearance:Mr},Y.AcroForm={ChoiceField:Kr,ListBox:_n,ComboBox:Cn,EditBox:Wn,Button:Yr,PushButton:zn,RadioButton:pi,CheckBox:ki,TextField:ni,PasswordField:Ia,Appearance:Mr};var va=Y.AcroForm;function ya(k){return k.reduce(function(g,y,w){return g[y]=w,g},{})}(function(k){k.__addimage__={};var g="UNKNOWN",y={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},w=k.__addimage__.getImageFileTypeByImageData=function(ie,Bt){var ue,le,$e,Ke,gr,Re=g;if((Bt=Bt||g)==="RGBA"||ie.data!==void 0&&ie.data instanceof Uint8ClampedArray&&"height"in ie&&"width"in ie)return"RGBA";if(fr(ie))for(gr in y)for($e=y[gr],ue=0;ue<$e.length;ue+=1){for(Ke=!0,le=0;le<$e[ue].length;le+=1)if($e[ue][le]!==void 0&&$e[ue][le]!==ie[le]){Ke=!1;break}if(Ke===!0){Re=gr;break}}else for(gr in y)for($e=y[gr],ue=0;ue<$e.length;ue+=1){for(Ke=!0,le=0;le<$e[ue].length;le+=1)if($e[ue][le]!==void 0&&$e[ue][le]!==ie.charCodeAt(le)){Ke=!1;break}if(Ke===!0){Re=gr;break}}return Re===g&&Bt!==g&&(Re=Bt),Re},T=function ie(Bt){for(var ue=this.internal.write,le=this.internal.putStream,$e=(0,this.internal.getFilters)();$e.indexOf("FlateEncode")!==-1;)$e.splice($e.indexOf("FlateEncode"),1);Bt.objectId=this.internal.newObject();var Ke=[];if(Ke.push({key:"Type",value:"/XObject"}),Ke.push({key:"Subtype",value:"/Image"}),Ke.push({key:"Width",value:Bt.width}),Ke.push({key:"Height",value:Bt.height}),Bt.colorSpace===$t.INDEXED?Ke.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Bt.palette.length/3-1)+" "+("sMask"in Bt&&Bt.sMask!==void 0?Bt.objectId+2:Bt.objectId+1)+" 0 R]"}):(Ke.push({key:"ColorSpace",value:"/"+Bt.colorSpace}),Bt.colorSpace===$t.DEVICE_CMYK&&Ke.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),Ke.push({key:"BitsPerComponent",value:Bt.bitsPerComponent}),"decodeParameters"in Bt&&Bt.decodeParameters!==void 0&&Ke.push({key:"DecodeParms",value:"<<"+Bt.decodeParameters+">>"}),"transparency"in Bt&&Array.isArray(Bt.transparency)){for(var gr="",Re=0,_r=Bt.transparency.length;Re<_r;Re++)gr+=Bt.transparency[Re]+" "+Bt.transparency[Re]+" ";Ke.push({key:"Mask",value:"["+gr+"]"})}Bt.sMask!==void 0&&Ke.push({key:"SMask",value:Bt.objectId+1+" 0 R"});var tr=Bt.filter!==void 0?["/"+Bt.filter]:void 0;if(le({data:Bt.data,additionalKeyValues:Ke,alreadyAppliedFilters:tr,objectId:Bt.objectId}),ue("endobj"),"sMask"in Bt&&Bt.sMask!==void 0){var Tr="/Predictor "+Bt.predictor+" /Colors 1 /BitsPerComponent "+Bt.bitsPerComponent+" /Columns "+Bt.width,ee={width:Bt.width,height:Bt.height,colorSpace:"DeviceGray",bitsPerComponent:Bt.bitsPerComponent,decodeParameters:Tr,data:Bt.sMask};"filter"in Bt&&(ee.filter=Bt.filter),ie.call(this,ee)}if(Bt.colorSpace===$t.INDEXED){var wt=this.internal.newObject();le({data:mr(new Uint8Array(Bt.palette)),objectId:wt}),ue("endobj")}},S=function(){var Bt=this.internal.collections.addImage_images;for(var ue in Bt)T.call(this,Bt[ue])},P=function(){var Bt,ue=this.internal.collections.addImage_images,le=this.internal.write;for(var $e in ue)le("/I"+(Bt=ue[$e]).index,Bt.objectId,"0","R")},j=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",S),this.internal.events.subscribe("putXobjectDict",P))},I=function(){var Bt=this.internal.collections.addImage_images;return j.call(this),Bt},K=function(){return Object.keys(this.internal.collections.addImage_images).length},bt=function(Bt){return typeof k["process"+Bt.toUpperCase()]=="function"},vt=function(Bt){return be()(Bt)==="object"&&Bt.nodeType===1},Lt=function(Bt,ue){if(Bt.nodeName==="IMG"&&Bt.hasAttribute("src")){var le=""+Bt.getAttribute("src");if(le.indexOf("data:image/")===0)return u(unescape(le).split("base64,").pop());var $e=k.loadFile(le,!0);if($e!==void 0)return $e}if(Bt.nodeName==="CANVAS"){if(Bt.width===0||Bt.height===0)throw new Error("Given canvas must have data. Canvas width: "+Bt.width+", height: "+Bt.height);var Ke;switch(ue){case"PNG":Ke="image/png";break;case"WEBP":Ke="image/webp";break;case"JPEG":case"JPG":default:Ke="image/jpeg"}return u(Bt.toDataURL(Ke,1).split("base64,").pop())}},G=function(Bt){var ue=this.internal.collections.addImage_images;if(ue){for(var le in ue)if(Bt===ue[le].alias)return ue[le]}},Vt=function(Bt,ue,le){return Bt||ue||(Bt=-96,ue=-96),Bt<0&&(Bt=-1*le.width*72/Bt/this.internal.scaleFactor),ue<0&&(ue=-1*le.height*72/ue/this.internal.scaleFactor),Bt===0&&(Bt=ue*le.width/le.height),ue===0&&(ue=Bt*le.height/le.width),[Bt,ue]},Ft=function(Bt,ue,le,$e,Ke,gr){var Re=Vt.call(this,le,$e,Ke),_r=this.internal.getCoordinateString,tr=this.internal.getVerticalCoordinateString,Tr=I.call(this);if(le=Re[0],$e=Re[1],Tr[Ke.index]=Ke,gr){gr*=Math.PI/180;var ee=Math.cos(gr),wt=Math.sin(gr),Qt=function(Ie){return Ie.toFixed(4)},me=[Qt(ee),Qt(wt),Qt(-1*wt),Qt(ee),0,0,"cm"]}this.internal.write("q"),gr?(this.internal.write([1,"0","0",1,_r(Bt),tr(ue+$e),"cm"].join(" ")),this.internal.write(me.join(" ")),this.internal.write([_r(le),"0","0",_r($e),"0","0","cm"].join(" "))):this.internal.write([_r(le),"0","0",_r($e),_r(Bt),tr(ue+$e),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+Ke.index+" Do"),this.internal.write("Q")},$t=k.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};k.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Nt=k.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},gt=k.__addimage__.sHashCode=function(ie){var Bt,ue,le=0;if(typeof ie=="string")for(ue=ie.length,Bt=0;Bt<ue;Bt++)le=(le<<5)-le+ie.charCodeAt(Bt),le|=0;else if(fr(ie))for(ue=ie.byteLength/2,Bt=0;Bt<ue;Bt++)le=(le<<5)-le+ie[Bt],le|=0;return le},Ae=k.__addimage__.validateStringAsBase64=function(ie){(ie=ie||"").toString().trim();var Bt=!0;return ie.length===0&&(Bt=!1),ie.length%4!=0&&(Bt=!1),/^[A-Za-z0-9+/]+$/.test(ie.substr(0,ie.length-2))===!1&&(Bt=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(ie.substr(-2))===!1&&(Bt=!1),Bt},Be=k.__addimage__.extractImageFromDataUrl=function(ie){var Bt=(ie=ie||"").split("base64,"),ue=null;if(Bt.length===2){var le=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Bt[0]);Array.isArray(le)&&(ue={mimeType:le[1],charset:le[2],data:Bt[1]})}return ue},Qe=k.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"};k.__addimage__.isArrayBuffer=function(ie){return Qe()&&ie instanceof ArrayBuffer};var fr=k.__addimage__.isArrayBufferView=function(ie){return Qe()&&typeof Uint32Array!="undefined"&&(ie instanceof Int8Array||ie instanceof Uint8Array||typeof Uint8ClampedArray!="undefined"&&ie instanceof Uint8ClampedArray||ie instanceof Int16Array||ie instanceof Uint16Array||ie instanceof Int32Array||ie instanceof Uint32Array||ie instanceof Float32Array||ie instanceof Float64Array)},Ye=k.__addimage__.binaryStringToUint8Array=function(ie){for(var Bt=ie.length,ue=new Uint8Array(Bt),le=0;le<Bt;le++)ue[le]=ie.charCodeAt(le);return ue},mr=k.__addimage__.arrayBufferToBinaryString=function(ie){for(var Bt="",ue=fr(ie)?ie:new Uint8Array(ie),le=0;le<ue.length;le+=8192)Bt+=String.fromCharCode.apply(null,ue.subarray(le,le+8192));return Bt};k.addImage=function(){var ie,Bt,ue,le,$e,Ke,gr,Re,_r;if(typeof arguments[1]=="number"?(Bt=g,ue=arguments[1],le=arguments[2],$e=arguments[3],Ke=arguments[4],gr=arguments[5],Re=arguments[6],_r=arguments[7]):(Bt=arguments[1],ue=arguments[2],le=arguments[3],$e=arguments[4],Ke=arguments[5],gr=arguments[6],Re=arguments[7],_r=arguments[8]),be()(ie=arguments[0])==="object"&&!vt(ie)&&"imageData"in ie){var tr=ie;ie=tr.imageData,Bt=tr.format||Bt||g,ue=tr.x||ue||0,le=tr.y||le||0,$e=tr.w||tr.width||$e,Ke=tr.h||tr.height||Ke,gr=tr.alias||gr,Re=tr.compression||Re,_r=tr.rotation||tr.angle||_r}var Tr=this.internal.getFilters();if(Re===void 0&&Tr.indexOf("FlateEncode")!==-1&&(Re="SLOW"),isNaN(ue)||isNaN(le))throw new Error("Invalid coordinates passed to jsPDF.addImage");j.call(this);var ee=he.call(this,ie,Bt,gr,Re);return Ft.call(this,ue,le,$e,Ke,ee,_r),this};var he=function(Bt,ue,le,$e){var Ke,gr,Re;if(typeof Bt=="string"&&w(Bt)===g){Bt=unescape(Bt);var _r=Ve(Bt,!1);(_r!==""||(_r=k.loadFile(Bt,!0))!==void 0)&&(Bt=_r)}if(vt(Bt)&&(Bt=Lt(Bt,ue)),ue=w(Bt,ue),!bt(ue))throw new Error("addImage does not support files of type '"+ue+"', please ensure that a plugin for '"+ue+"' support is added.");if(((Re=le)==null||Re.length===0)&&(le=function(tr){return typeof tr=="string"||fr(tr)?gt(tr):fr(tr.data)?gt(tr.data):null}(Bt)),(Ke=G.call(this,le))||(Qe()&&(Bt instanceof Uint8Array||ue==="RGBA"||(gr=Bt,Bt=Ye(Bt))),Ke=this["process"+ue.toUpperCase()](Bt,K.call(this),le,function(tr){return tr&&typeof tr=="string"&&(tr=tr.toUpperCase()),tr in k.image_compression?tr:Nt.NONE}($e),gr)),!Ke)throw new Error("An unknown error occurred whilst processing the image.");return Ke},Ve=k.__addimage__.convertBase64ToBinaryString=function(ie,Bt){var ue;Bt=typeof Bt!="boolean"||Bt;var le,$e="";if(typeof ie=="string"){le=(ue=Be(ie))!==null?ue.data:ie;try{$e=u(le)}catch(Ke){if(Bt)throw Ae(le)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+Ke.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return $e};k.getImageProperties=function(ie){var Bt,ue,le="";if(vt(ie)&&(ie=Lt(ie)),typeof ie=="string"&&w(ie)===g&&((le=Ve(ie,!1))===""&&(le=k.loadFile(ie)||""),ie=le),ue=w(ie),!bt(ue))throw new Error("addImage does not support files of type '"+ue+"', please ensure that a plugin for '"+ue+"' support is added.");if(!Qe()||ie instanceof Uint8Array||(ie=Ye(ie)),!(Bt=this["process"+ue.toUpperCase()](ie)))throw new Error("An unknown error occurred whilst processing the image");return Bt.fileType=ue,Bt}})(Y.API),function(k){var g=function(w){if(w!==void 0&&w!="")return!0};Y.API.events.push(["addPage",function(y){this.internal.getPageInfo(y.pageNumber).pageContext.annotations=[]}]),k.events.push(["putPage",function(y){for(var w,T,S,P=this.internal.getCoordinateString,j=this.internal.getVerticalCoordinateString,I=this.internal.getPageInfoByObjId(y.objId),K=y.pageContext.annotations,bt=!1,vt=0;vt<K.length&&!bt;vt++)switch((w=K[vt]).type){case"link":(g(w.options.url)||g(w.options.pageNumber))&&(bt=!0);break;case"reference":case"text":case"freetext":bt=!0}if(bt!=0){this.internal.write("/Annots [");for(var Lt=0;Lt<K.length;Lt++){w=K[Lt];var G=this.internal.pdfEscape,Vt=this.internal.getEncryptor(y.objId);switch(w.type){case"reference":this.internal.write(" "+w.object.objId+" 0 R ");break;case"text":var Ft=this.internal.newAdditionalObject(),$t=this.internal.newAdditionalObject(),Nt=this.internal.getEncryptor(Ft.objId),gt=w.title||"Note";S="<</Type /Annot /Subtype /Text "+(T="/Rect ["+P(w.bounds.x)+" "+j(w.bounds.y+w.bounds.h)+" "+P(w.bounds.x+w.bounds.w)+" "+j(w.bounds.y)+"] ")+"/Contents ("+G(Nt(w.contents))+")",S+=" /Popup "+$t.objId+" 0 R",S+=" /P "+I.objId+" 0 R",S+=" /T ("+G(Nt(gt))+") >>",Ft.content=S;var Ae=Ft.objId+" 0 R";S="<</Type /Annot /Subtype /Popup "+(T="/Rect ["+P(w.bounds.x+30)+" "+j(w.bounds.y+w.bounds.h)+" "+P(w.bounds.x+w.bounds.w+30)+" "+j(w.bounds.y)+"] ")+" /Parent "+Ae,w.open&&(S+=" /Open true"),S+=" >>",$t.content=S,this.internal.write(Ft.objId,"0 R",$t.objId,"0 R");break;case"freetext":T="/Rect ["+P(w.bounds.x)+" "+j(w.bounds.y)+" "+P(w.bounds.x+w.bounds.w)+" "+j(w.bounds.y+w.bounds.h)+"] ";var Be=w.color||"#000000";S="<</Type /Annot /Subtype /FreeText "+T+"/Contents ("+G(Vt(w.contents))+")",S+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Be+")",S+=" /Border [0 0 0]",S+=" >>",this.internal.write(S);break;case"link":if(w.options.name){var Qe=this.annotations._nameMap[w.options.name];w.options.pageNumber=Qe.page,w.options.top=Qe.y}else w.options.top||(w.options.top=0);if(T="/Rect ["+w.finalBounds.x+" "+w.finalBounds.y+" "+w.finalBounds.w+" "+w.finalBounds.h+"] ",S="",w.options.url)S="<</Type /Annot /Subtype /Link "+T+"/Border [0 0 0] /A <</S /URI /URI ("+G(Vt(w.options.url))+") >>";else if(w.options.pageNumber)switch(S="<</Type /Annot /Subtype /Link "+T+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(w.options.pageNumber).objId+" 0 R",w.options.magFactor=w.options.magFactor||"XYZ",w.options.magFactor){case"Fit":S+=" /Fit]";break;case"FitH":S+=" /FitH "+w.options.top+"]";break;case"FitV":w.options.left=w.options.left||0,S+=" /FitV "+w.options.left+"]";break;case"XYZ":default:var fr=j(w.options.top);w.options.left=w.options.left||0,w.options.zoom===void 0&&(w.options.zoom=0),S+=" /XYZ "+w.options.left+" "+fr+" "+w.options.zoom+"]"}S!=""&&(S+=" >>",this.internal.write(S))}}this.internal.write("]")}}]),k.createAnnotation=function(y){var w=this.internal.getCurrentPageInfo();switch(y.type){case"link":this.link(y.bounds.x,y.bounds.y,y.bounds.w,y.bounds.h,y);break;case"text":case"freetext":w.pageContext.annotations.push(y)}},k.link=function(y,w,T,S,P){var j=this.internal.getCurrentPageInfo(),I=this.internal.getCoordinateString,K=this.internal.getVerticalCoordinateString;j.pageContext.annotations.push({finalBounds:{x:I(y),y:K(w),w:I(y+T),h:K(w+S)},options:P,type:"link"})},k.textWithLink=function(y,w,T,S){var P,j,I=this.getTextWidth(y),K=this.internal.getLineHeight()/this.internal.scaleFactor;if(S.maxWidth!==void 0){j=S.maxWidth;var bt=this.splitTextToSize(y,j).length;P=Math.ceil(K*bt)}else j=I,P=K;return this.text(y,w,T,S),T+=.2*K,S.align==="center"&&(w-=I/2),S.align==="right"&&(w-=I),this.link(w,T-K,j,P,S),I},k.getTextWidth=function(y){var w=this.internal.getFontSize();return this.getStringUnitWidth(y)*w/this.internal.scaleFactor}}(Y.API),function(k){var g={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},y={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},w={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},T=[1570,1571,1573,1575];k.__arabicParser__={};var S=k.__arabicParser__.isInArabicSubstitutionA=function(Ft){return g[Ft.charCodeAt(0)]!==void 0},P=k.__arabicParser__.isArabicLetter=function(Ft){return typeof Ft=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(Ft)},j=k.__arabicParser__.isArabicEndLetter=function(Ft){return P(Ft)&&S(Ft)&&g[Ft.charCodeAt(0)].length<=2},I=k.__arabicParser__.isArabicAlfLetter=function(Ft){return P(Ft)&&T.indexOf(Ft.charCodeAt(0))>=0};k.__arabicParser__.arabicLetterHasIsolatedForm=function(Ft){return P(Ft)&&S(Ft)&&g[Ft.charCodeAt(0)].length>=1};var K=k.__arabicParser__.arabicLetterHasFinalForm=function(Ft){return P(Ft)&&S(Ft)&&g[Ft.charCodeAt(0)].length>=2};k.__arabicParser__.arabicLetterHasInitialForm=function(Ft){return P(Ft)&&S(Ft)&&g[Ft.charCodeAt(0)].length>=3};var bt=k.__arabicParser__.arabicLetterHasMedialForm=function(Ft){return P(Ft)&&S(Ft)&&g[Ft.charCodeAt(0)].length==4},vt=k.__arabicParser__.resolveLigatures=function(Ft){var $t=0,Nt=y,gt="",Ae=0;for($t=0;$t<Ft.length;$t+=1)Nt[Ft.charCodeAt($t)]!==void 0?(Ae++,typeof(Nt=Nt[Ft.charCodeAt($t)])=="number"&&(gt+=String.fromCharCode(Nt),Nt=y,Ae=0),$t===Ft.length-1&&(Nt=y,gt+=Ft.charAt($t-(Ae-1)),$t-=Ae-1,Ae=0)):(Nt=y,gt+=Ft.charAt($t-Ae),$t-=Ae,Ae=0);return gt};k.__arabicParser__.isArabicDiacritic=function(Ft){return Ft!==void 0&&w[Ft.charCodeAt(0)]!==void 0};var Lt=k.__arabicParser__.getCorrectForm=function(Ft,$t,Nt){return P(Ft)?S(Ft)===!1?-1:!K(Ft)||!P($t)&&!P(Nt)||!P(Nt)&&j($t)||j(Ft)&&!P($t)||j(Ft)&&I($t)||j(Ft)&&j($t)?0:bt(Ft)&&P($t)&&!j($t)&&P(Nt)&&K(Nt)?3:j(Ft)||!P(Nt)?1:2:-1},G=function($t){var Nt=0,gt=0,Ae=0,Be="",Qe="",fr="",Ye=($t=$t||"").split("\\s+"),mr=[];for(Nt=0;Nt<Ye.length;Nt+=1){for(mr.push(""),gt=0;gt<Ye[Nt].length;gt+=1)Be=Ye[Nt][gt],Qe=Ye[Nt][gt-1],fr=Ye[Nt][gt+1],P(Be)?(Ae=Lt(Be,Qe,fr),mr[Nt]+=Ae!==-1?String.fromCharCode(g[Be.charCodeAt(0)][Ae]):Be):mr[Nt]+=Be;mr[Nt]=vt(mr[Nt])}return mr.join(" ")},Vt=k.__arabicParser__.processArabic=k.processArabic=function(){var Ft,$t=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Nt=[];if(Array.isArray($t)){var gt=0;for(Nt=[],gt=0;gt<$t.length;gt+=1)Array.isArray($t[gt])?Nt.push([G($t[gt][0]),$t[gt][1],$t[gt][2]]):Nt.push([G($t[gt])]);Ft=Nt}else Ft=G($t);return typeof arguments[0]=="string"?Ft:(arguments[0].text=Ft,arguments[0])};k.events.push(["preProcessText",Vt])}(Y.API),Y.API.autoPrint=function(k){var g;switch((k=k||{}).variant=k.variant||"non-conform",k.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){g=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+g+" 0 R")})}return this},function(k){var g=function(){var w=void 0;Object.defineProperty(this,"pdf",{get:function(){return w},set:function(K){w=K}});var T=150;Object.defineProperty(this,"width",{get:function(){return T},set:function(K){T=isNaN(K)||Number.isInteger(K)===!1||K<0?150:K,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=T+1)}});var S=300;Object.defineProperty(this,"height",{get:function(){return S},set:function(K){S=isNaN(K)||Number.isInteger(K)===!1||K<0?300:K,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=S+1)}});var P=[];Object.defineProperty(this,"childNodes",{get:function(){return P},set:function(K){P=K}});var j={};Object.defineProperty(this,"style",{get:function(){return j},set:function(K){j=K}}),Object.defineProperty(this,"parentNode",{})};g.prototype.getContext=function(y,w){var T;if((y=y||"2d")!=="2d")return null;for(T in w)this.pdf.context2d.hasOwnProperty(T)&&(this.pdf.context2d[T]=w[T]);return this.pdf.context2d._canvas=this,this.pdf.context2d},g.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},k.events.push(["initialized",function(){this.canvas=new g,this.canvas.pdf=this}])}(Y.API),function(k){var g={left:0,top:0,bottom:0,right:0},y=!1,w=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},g),this.internal.__cell__.margins.width=this.getPageWidth(),T.call(this))},T=function(){this.internal.__cell__.lastCell=new S,this.internal.__cell__.pages=1},S=function(){var K=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return K},set:function(Nt){K=Nt}});var bt=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return bt},set:function(Nt){bt=Nt}});var vt=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return vt},set:function(Nt){vt=Nt}});var Lt=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return Lt},set:function(Nt){Lt=Nt}});var G=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return G},set:function(Nt){G=Nt}});var Vt=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Vt},set:function(Nt){Vt=Nt}});var Ft=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return Ft},set:function(Nt){Ft=Nt}}),this};S.prototype.clone=function(){return new S(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},S.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},k.setHeaderFunction=function(I){return w.call(this),this.internal.__cell__.headerFunction=typeof I=="function"?I:void 0,this},k.getTextDimensions=function(I,K){w.call(this);var bt=(K=K||{}).fontSize||this.getFontSize(),vt=K.font||this.getFont(),Lt=K.scaleFactor||this.internal.scaleFactor,G=0,Vt=0,Ft=0,$t=this;if(!Array.isArray(I)&&typeof I!="string"){if(typeof I!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");I=String(I)}var Nt=K.maxWidth;Nt>0?typeof I=="string"?I=this.splitTextToSize(I,Nt):Object.prototype.toString.call(I)==="[object Array]"&&(I=I.reduce(function(Ae,Be){return Ae.concat($t.splitTextToSize(Be,Nt))},[])):I=Array.isArray(I)?I:[I];for(var gt=0;gt<I.length;gt++)G<(Ft=this.getStringUnitWidth(I[gt],{font:vt})*bt)&&(G=Ft);return G!==0&&(Vt=I.length),{w:G/=Lt,h:Math.max((Vt*bt*this.getLineHeightFactor()-bt*(this.getLineHeightFactor()-1))/Lt,0)}},k.cellAddPage=function(){w.call(this),this.addPage();var I=this.internal.__cell__.margins||g;return this.internal.__cell__.lastCell=new S(I.left,I.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var P=k.cell=function(){var I;I=arguments[0]instanceof S?arguments[0]:new S(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),w.call(this);var K=this.internal.__cell__.lastCell,bt=this.internal.__cell__.padding,vt=this.internal.__cell__.margins||g,Lt=this.internal.__cell__.tableHeaderRow,G=this.internal.__cell__.printHeaders;return K.lineNumber!==void 0&&(K.lineNumber===I.lineNumber?(I.x=(K.x||0)+(K.width||0),I.y=K.y||0):K.y+K.height+I.height+vt.bottom>this.getPageHeight()?(this.cellAddPage(),I.y=vt.top,G&&Lt&&(this.printHeaderRow(I.lineNumber,!0),I.y+=Lt[0].height)):I.y=K.y+K.height||I.y),I.text[0]!==void 0&&(this.rect(I.x,I.y,I.width,I.height,y===!0?"FD":void 0),I.align==="right"?this.text(I.text,I.x+I.width-bt,I.y+bt,{align:"right",baseline:"top"}):I.align==="center"?this.text(I.text,I.x+I.width/2,I.y+bt,{align:"center",baseline:"top",maxWidth:I.width-bt-bt}):this.text(I.text,I.x+bt,I.y+bt,{align:"left",baseline:"top",maxWidth:I.width-bt-bt})),this.internal.__cell__.lastCell=I,this};k.table=function(I,K,bt,vt,Lt){if(w.call(this),!bt)throw new Error("No data for PDF table.");var G,Vt,Ft,$t,Nt=[],gt=[],Ae=[],Be={},Qe={},fr=[],Ye=[],mr=(Lt=Lt||{}).autoSize||!1,he=Lt.printHeaders!==!1,Ve=Lt.css&&Lt.css["font-size"]!==void 0?16*Lt.css["font-size"]:Lt.fontSize||12,ie=Lt.margins||Object.assign({width:this.getPageWidth()},g),Bt=typeof Lt.padding=="number"?Lt.padding:3,ue=Lt.headerBackgroundColor||"#c8c8c8",le=Lt.headerTextColor||"#000";if(T.call(this),this.internal.__cell__.printHeaders=he,this.internal.__cell__.margins=ie,this.internal.__cell__.table_font_size=Ve,this.internal.__cell__.padding=Bt,this.internal.__cell__.headerBackgroundColor=ue,this.internal.__cell__.headerTextColor=le,this.setFontSize(Ve),vt==null)gt=Nt=Object.keys(bt[0]),Ae=Nt.map(function(){return"left"});else if(Array.isArray(vt)&&be()(vt[0])==="object")for(Nt=vt.map(function(tr){return tr.name}),gt=vt.map(function(tr){return tr.prompt||tr.name||""}),Ae=vt.map(function(tr){return tr.align||"left"}),G=0;G<vt.length;G+=1)Qe[vt[G].name]=vt[G].width*(19.049976/25.4);else Array.isArray(vt)&&typeof vt[0]=="string"&&(gt=Nt=vt,Ae=Nt.map(function(){return"left"}));if(mr||Array.isArray(vt)&&typeof vt[0]=="string")for(G=0;G<Nt.length;G+=1){for(Be[$t=Nt[G]]=bt.map(function(tr){return tr[$t]}),this.setFont(void 0,"bold"),fr.push(this.getTextDimensions(gt[G],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Vt=Be[$t],this.setFont(void 0,"normal"),Ft=0;Ft<Vt.length;Ft+=1)fr.push(this.getTextDimensions(Vt[Ft],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Qe[$t]=Math.max.apply(null,fr)+Bt+Bt,fr=[]}if(he){var $e={};for(G=0;G<Nt.length;G+=1)$e[Nt[G]]={},$e[Nt[G]].text=gt[G],$e[Nt[G]].align=Ae[G];var Ke=j.call(this,$e,Qe);Ye=Nt.map(function(tr){return new S(I,K,Qe[tr],Ke,$e[tr].text,void 0,$e[tr].align)}),this.setTableHeaderRow(Ye),this.printHeaderRow(1,!1)}var gr=vt.reduce(function(tr,Tr){return tr[Tr.name]=Tr.align,tr},{});for(G=0;G<bt.length;G+=1){"rowStart"in Lt&&Lt.rowStart instanceof Function&&Lt.rowStart({row:G,data:bt[G]},this);var Re=j.call(this,bt[G],Qe);for(Ft=0;Ft<Nt.length;Ft+=1){var _r=bt[G][Nt[Ft]];"cellStart"in Lt&&Lt.cellStart instanceof Function&&Lt.cellStart({row:G,col:Ft,data:_r},this),P.call(this,new S(I,K,Qe[Nt[Ft]],Re,_r,G+2,gr[Nt[Ft]]))}}return this.internal.__cell__.table_x=I,this.internal.__cell__.table_y=K,this};var j=function(K,bt){var vt=this.internal.__cell__.padding,Lt=this.internal.__cell__.table_font_size,G=this.internal.scaleFactor;return Object.keys(K).map(function(Vt){var Ft=K[Vt];return this.splitTextToSize(Ft.hasOwnProperty("text")?Ft.text:Ft,bt[Vt]-vt-vt)},this).map(function(Vt){return this.getLineHeightFactor()*Vt.length*Lt/G+vt+vt},this).reduce(function(Vt,Ft){return Math.max(Vt,Ft)},0)};k.setTableHeaderRow=function(I){w.call(this),this.internal.__cell__.tableHeaderRow=I},k.printHeaderRow=function(I,K){if(w.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var bt;if(y=!0,typeof this.internal.__cell__.headerFunction=="function"){var vt=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new S(vt[0],vt[1],vt[2],vt[3],void 0,-1)}this.setFont(void 0,"bold");for(var Lt=[],G=0;G<this.internal.__cell__.tableHeaderRow.length;G+=1){bt=this.internal.__cell__.tableHeaderRow[G].clone(),K&&(bt.y=this.internal.__cell__.margins.top||0,Lt.push(bt)),bt.lineNumber=I;var Vt=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),P.call(this,bt),this.setTextColor(Vt)}Lt.length>0&&this.setTableHeaderRow(Lt),this.setFont(void 0,"normal"),y=!1}}(Y.API);var $o={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},Qs=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],Xa=ya(Qs),Co=[100,200,300,400,500,600,700,800,900],Ao=ya(Co);function hs(k){var g=k.family.replace(/"|'/g,"").toLowerCase(),y=function(S){return $o[S=S||"normal"]?S:"normal"}(k.style),w=function(S){if(!S)return 400;if(typeof S=="number")return S>=100&&S<=900&&S%100==0?S:400;if(/^\d00$/.test(S))return parseInt(S);switch(S){case"bold":return 700;case"normal":default:return 400}}(k.weight),T=function(S){return typeof Xa[S=S||"normal"]=="number"?S:"normal"}(k.stretch);return{family:g,style:y,weight:w,stretch:T,src:k.src||[],ref:k.ref||{name:g,style:[T,y,w].join(" ")}}}function cs(k,g,y,w){var T;for(T=y;T>=0&&T<g.length;T+=w)if(k[g[T]])return k[g[T]];for(T=y;T>=0&&T<g.length;T-=w)if(k[g[T]])return k[g[T]]}var Ll={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},to={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ks(k){return[k.stretch,k.style,k.weight,k.family].join(" ")}function Es(k,g,y){for(var w=(y=y||{}).defaultFontFamily||"times",T=Object.assign({},Ll,y.genericFontFamilies||{}),S=null,P=null,j=0;j<g.length;++j)if(T[(S=hs(g[j])).family]&&(S.family=T[S.family]),k.hasOwnProperty(S.family)){P=k[S.family];break}if(!(P=P||k[w]))throw new Error("Could not find a font-family for the rule '"+ks(S)+"' and default family '"+w+"'.");if(P=function(I,K){if(K[I])return K[I];var bt=Xa[I],vt=bt<=Xa.normal?-1:1,Lt=cs(K,Qs,bt,vt);if(!Lt)throw new Error("Could not find a matching font-stretch value for "+I);return Lt}(S.stretch,P),P=function(I,K){if(K[I])return K[I];for(var bt=$o[I],vt=0;vt<bt.length;++vt)if(K[bt[vt]])return K[bt[vt]];throw new Error("Could not find a matching font-style for "+I)}(S.style,P),!(P=function(I,K){if(K[I])return K[I];if(I===400&&K[500])return K[500];if(I===500&&K[400])return K[400];var bt=Ao[I],vt=cs(K,Co,bt,I<400?-1:1);if(!vt)throw new Error("Could not find a matching font-weight for value "+I);return vt}(S.weight,P)))throw new Error("Failed to resolve a font for the rule '"+ks(S)+"'.");return P}function To(k){return k.trimLeft()}function Qo(k,g){for(var y=0;y<k.length;){if(k.charAt(y)===g)return[k.substring(0,y),k.substring(y+1)];y+=1}return null}function Fs(k){var g=k.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return g===null?null:[g[0],k.substring(g[0].length)]}var Va,tl,el,X=["times"];(function(k){var g,y,w,T,S,P,j,I,K,bt=function(wt){return wt=wt||{},this.isStrokeTransparent=wt.isStrokeTransparent||!1,this.strokeOpacity=wt.strokeOpacity||1,this.strokeStyle=wt.strokeStyle||"#000000",this.fillStyle=wt.fillStyle||"#000000",this.isFillTransparent=wt.isFillTransparent||!1,this.fillOpacity=wt.fillOpacity||1,this.font=wt.font||"10px sans-serif",this.textBaseline=wt.textBaseline||"alphabetic",this.textAlign=wt.textAlign||"left",this.lineWidth=wt.lineWidth||1,this.lineJoin=wt.lineJoin||"miter",this.lineCap=wt.lineCap||"butt",this.path=wt.path||[],this.transform=wt.transform!==void 0?wt.transform.clone():new I,this.globalCompositeOperation=wt.globalCompositeOperation||"normal",this.globalAlpha=wt.globalAlpha||1,this.clip_path=wt.clip_path||[],this.currentPoint=wt.currentPoint||new P,this.miterLimit=wt.miterLimit||10,this.lastPoint=wt.lastPoint||new P,this.lineDashOffset=wt.lineDashOffset||0,this.lineDash=wt.lineDash||[],this.margin=wt.margin||[0,0,0,0],this.prevPageLastElemOffset=wt.prevPageLastElemOffset||0,this.ignoreClearRect=typeof wt.ignoreClearRect!="boolean"||wt.ignoreClearRect,this};k.events.push(["initialized",function(){this.context2d=new vt(this),g=this.internal.f2,y=this.internal.getCoordinateString,w=this.internal.getVerticalCoordinateString,T=this.internal.getHorizontalCoordinate,S=this.internal.getVerticalCoordinate,P=this.internal.Point,j=this.internal.Rectangle,I=this.internal.Matrix,K=new bt}]);var vt=function(wt){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Qt=wt;Object.defineProperty(this,"pdf",{get:function(){return Qt}});var me=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return me},set:function(sr){me=Boolean(sr)}});var Oe=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return Oe},set:function(sr){Oe=Boolean(sr)}});var Ie=0;Object.defineProperty(this,"posX",{get:function(){return Ie},set:function(sr){isNaN(sr)||(Ie=sr)}});var ar=0;Object.defineProperty(this,"posY",{get:function(){return ar},set:function(sr){isNaN(sr)||(ar=sr)}}),Object.defineProperty(this,"margin",{get:function(){return K.margin},set:function(sr){var Fr;typeof sr=="number"?Fr=[sr,sr,sr,sr]:((Fr=new Array(4))[0]=sr[0],Fr[1]=sr.length>=2?sr[1]:Fr[0],Fr[2]=sr.length>=3?sr[2]:Fr[0],Fr[3]=sr.length>=4?sr[3]:Fr[1]),K.margin=Fr}});var We=!1;Object.defineProperty(this,"autoPaging",{get:function(){return We},set:function(sr){We=sr}});var Xe=0;Object.defineProperty(this,"lastBreak",{get:function(){return Xe},set:function(sr){Xe=sr}});var vr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return vr},set:function(sr){vr=sr}}),Object.defineProperty(this,"ctx",{get:function(){return K},set:function(sr){sr instanceof bt&&(K=sr)}}),Object.defineProperty(this,"path",{get:function(){return K.path},set:function(sr){K.path=sr}});var Wr=[];Object.defineProperty(this,"ctxStack",{get:function(){return Wr},set:function(sr){Wr=sr}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(sr){var Fr;Fr=Lt(sr),this.ctx.fillStyle=Fr.style,this.ctx.isFillTransparent=Fr.a===0,this.ctx.fillOpacity=Fr.a,this.pdf.setFillColor(Fr.r,Fr.g,Fr.b,{a:Fr.a}),this.pdf.setTextColor(Fr.r,Fr.g,Fr.b,{a:Fr.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(sr){var Fr=Lt(sr);this.ctx.strokeStyle=Fr.style,this.ctx.isStrokeTransparent=Fr.a===0,this.ctx.strokeOpacity=Fr.a,Fr.a===0?this.pdf.setDrawColor(255,255,255):(Fr.a,this.pdf.setDrawColor(Fr.r,Fr.g,Fr.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(sr){["butt","round","square"].indexOf(sr)!==-1&&(this.ctx.lineCap=sr,this.pdf.setLineCap(sr))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(sr){isNaN(sr)||(this.ctx.lineWidth=sr,this.pdf.setLineWidth(sr))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(sr){["bevel","round","miter"].indexOf(sr)!==-1&&(this.ctx.lineJoin=sr,this.pdf.setLineJoin(sr))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(sr){isNaN(sr)||(this.ctx.miterLimit=sr,this.pdf.setMiterLimit(sr))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(sr){this.ctx.textBaseline=sr}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(sr){["right","end","center","left","start"].indexOf(sr)!==-1&&(this.ctx.textAlign=sr)}});var Pr=null;function rn(qt,sr){if(Pr===null){var Fr=function(ir){var Ir=[];return Object.keys(ir).forEach(function(Or){ir[Or].forEach(function(zr){var Hr=null;switch(zr){case"bold":Hr={family:Or,weight:"bold"};break;case"italic":Hr={family:Or,style:"italic"};break;case"bolditalic":Hr={family:Or,weight:"bold",style:"italic"};break;case"":case"normal":Hr={family:Or}}Hr!==null&&(Hr.ref={name:Or,style:zr},Ir.push(Hr))})}),Ir}(qt.getFontList());Pr=function(ir){for(var Ir={},Or=0;Or<ir.length;++Or){var zr=hs(ir[Or]),Hr=zr.family,Vr=zr.stretch,In=zr.style,en=zr.weight;Ir[Hr]=Ir[Hr]||{},Ir[Hr][Vr]=Ir[Hr][Vr]||{},Ir[Hr][Vr][In]=Ir[Hr][Vr][In]||{},Ir[Hr][Vr][In][en]=zr}return Ir}(Fr.concat(sr))}return Pr}var Xr=null;Object.defineProperty(this,"fontFaces",{get:function(){return Xr},set:function(sr){Pr=null,Xr=sr}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(sr){var Fr;if(this.ctx.font=sr,(Fr=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(sr))!==null){var ir=Fr[1],Ir=(Fr[2],Fr[3]),Or=Fr[4],zr=(Fr[5],Fr[6]),Hr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Or)[2];Or=Math.floor(Hr==="px"?parseFloat(Or)*this.pdf.internal.scaleFactor:Hr==="em"?parseFloat(Or)*this.pdf.getFontSize():parseFloat(Or)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Or);var Vr=function(Nr){var Bi,Vn,Ci=[],yn=Nr.trim();if(yn==="")return X;if(yn in to)return[to[yn]];for(;yn!=="";){switch(Vn=null,Bi=(yn=To(yn)).charAt(0)){case'"':case"'":Vn=Qo(yn.substring(1),Bi);break;default:Vn=Fs(yn)}if(Vn===null||(Ci.push(Vn[0]),(yn=To(Vn[1]))!==""&&yn.charAt(0)!==","))return X;yn=yn.replace(/^,/,"")}return Ci}(zr);if(this.fontFaces){var In=Es(rn(this.pdf,this.fontFaces),Vr.map(function(Nr){return{family:Nr,stretch:"normal",weight:Ir,style:ir}}));this.pdf.setFont(In.ref.name,In.ref.style)}else{var en="";(Ir==="bold"||parseInt(Ir,10)>=700||ir==="bold")&&(en="bold"),ir==="italic"&&(en+="italic"),en.length===0&&(en="normal");for(var On="",Gn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Zr=0;Zr<Vr.length;Zr++){if(this.pdf.internal.getFont(Vr[Zr],en,{noFallback:!0,disableWarning:!0})!==void 0){On=Vr[Zr];break}if(en==="bolditalic"&&this.pdf.internal.getFont(Vr[Zr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)On=Vr[Zr],en="bold";else if(this.pdf.internal.getFont(Vr[Zr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){On=Vr[Zr],en="normal";break}}if(On===""){for(var fn=0;fn<Vr.length;fn++)if(Gn[Vr[fn]]){On=Gn[Vr[fn]];break}}On=On===""?"Times":On,this.pdf.setFont(On,en)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(sr){this.ctx.globalCompositeOperation=sr}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(sr){this.ctx.globalAlpha=sr}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(sr){this.ctx.lineDashOffset=sr,Tr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(sr){this.ctx.lineDash=sr,Tr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(sr){this.ctx.ignoreClearRect=Boolean(sr)}})};vt.prototype.setLineDash=function(ee){this.lineDash=ee},vt.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},vt.prototype.fill=function(){Be.call(this,"fill",!1)},vt.prototype.stroke=function(){Be.call(this,"stroke",!1)},vt.prototype.beginPath=function(){this.path=[{type:"begin"}]},vt.prototype.moveTo=function(ee,wt){if(isNaN(ee)||isNaN(wt))throw Q.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Qt=this.ctx.transform.applyToPoint(new P(ee,wt));this.path.push({type:"mt",x:Qt.x,y:Qt.y}),this.ctx.lastPoint=new P(ee,wt)},vt.prototype.closePath=function(){var ee=new P(0,0),wt=0;for(wt=this.path.length-1;wt!==-1;wt--)if(this.path[wt].type==="begin"&&be()(this.path[wt+1])==="object"&&typeof this.path[wt+1].x=="number"){ee=new P(this.path[wt+1].x,this.path[wt+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new P(ee.x,ee.y)},vt.prototype.lineTo=function(ee,wt){if(isNaN(ee)||isNaN(wt))throw Q.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Qt=this.ctx.transform.applyToPoint(new P(ee,wt));this.path.push({type:"lt",x:Qt.x,y:Qt.y}),this.ctx.lastPoint=new P(Qt.x,Qt.y)},vt.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Be.call(this,null,!0)},vt.prototype.quadraticCurveTo=function(ee,wt,Qt,me){if(isNaN(Qt)||isNaN(me)||isNaN(ee)||isNaN(wt))throw Q.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var Oe=this.ctx.transform.applyToPoint(new P(Qt,me)),Ie=this.ctx.transform.applyToPoint(new P(ee,wt));this.path.push({type:"qct",x1:Ie.x,y1:Ie.y,x:Oe.x,y:Oe.y}),this.ctx.lastPoint=new P(Oe.x,Oe.y)},vt.prototype.bezierCurveTo=function(ee,wt,Qt,me,Oe,Ie){if(isNaN(Oe)||isNaN(Ie)||isNaN(ee)||isNaN(wt)||isNaN(Qt)||isNaN(me))throw Q.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var ar=this.ctx.transform.applyToPoint(new P(Oe,Ie)),We=this.ctx.transform.applyToPoint(new P(ee,wt)),Xe=this.ctx.transform.applyToPoint(new P(Qt,me));this.path.push({type:"bct",x1:We.x,y1:We.y,x2:Xe.x,y2:Xe.y,x:ar.x,y:ar.y}),this.ctx.lastPoint=new P(ar.x,ar.y)},vt.prototype.arc=function(ee,wt,Qt,me,Oe,Ie){if(isNaN(ee)||isNaN(wt)||isNaN(Qt)||isNaN(me)||isNaN(Oe))throw Q.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ie=Boolean(Ie),!this.ctx.transform.isIdentity){var ar=this.ctx.transform.applyToPoint(new P(ee,wt));ee=ar.x,wt=ar.y;var We=this.ctx.transform.applyToPoint(new P(0,Qt)),Xe=this.ctx.transform.applyToPoint(new P(0,0));Qt=Math.sqrt(Math.pow(We.x-Xe.x,2)+Math.pow(We.y-Xe.y,2))}Math.abs(Oe-me)>=2*Math.PI&&(me=0,Oe=2*Math.PI),this.path.push({type:"arc",x:ee,y:wt,radius:Qt,startAngle:me,endAngle:Oe,counterclockwise:Ie})},vt.prototype.arcTo=function(ee,wt,Qt,me,Oe){throw new Error("arcTo not implemented.")},vt.prototype.rect=function(ee,wt,Qt,me){if(isNaN(ee)||isNaN(wt)||isNaN(Qt)||isNaN(me))throw Q.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(ee,wt),this.lineTo(ee+Qt,wt),this.lineTo(ee+Qt,wt+me),this.lineTo(ee,wt+me),this.lineTo(ee,wt),this.lineTo(ee+Qt,wt),this.lineTo(ee,wt)},vt.prototype.fillRect=function(ee,wt,Qt,me){if(isNaN(ee)||isNaN(wt)||isNaN(Qt)||isNaN(me))throw Q.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!G.call(this)){var Oe={};this.lineCap!=="butt"&&(Oe.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(Oe.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(ee,wt,Qt,me),this.fill(),Oe.hasOwnProperty("lineCap")&&(this.lineCap=Oe.lineCap),Oe.hasOwnProperty("lineJoin")&&(this.lineJoin=Oe.lineJoin)}},vt.prototype.strokeRect=function(ee,wt,Qt,me){if(isNaN(ee)||isNaN(wt)||isNaN(Qt)||isNaN(me))throw Q.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Vt.call(this)||(this.beginPath(),this.rect(ee,wt,Qt,me),this.stroke())},vt.prototype.clearRect=function(ee,wt,Qt,me){if(isNaN(ee)||isNaN(wt)||isNaN(Qt)||isNaN(me))throw Q.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(ee,wt,Qt,me))},vt.prototype.save=function(ee){ee=typeof ee!="boolean"||ee;for(var wt=this.pdf.internal.getCurrentPageInfo().pageNumber,Qt=0;Qt<this.pdf.internal.getNumberOfPages();Qt++)this.pdf.setPage(Qt+1),this.pdf.internal.out("q");if(this.pdf.setPage(wt),ee){this.ctx.fontSize=this.pdf.internal.getFontSize();var me=new bt(this.ctx);this.ctxStack.push(this.ctx),this.ctx=me}},vt.prototype.restore=function(ee){ee=typeof ee!="boolean"||ee;for(var wt=this.pdf.internal.getCurrentPageInfo().pageNumber,Qt=0;Qt<this.pdf.internal.getNumberOfPages();Qt++)this.pdf.setPage(Qt+1),this.pdf.internal.out("Q");this.pdf.setPage(wt),ee&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},vt.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var Lt=function(wt){var Qt,me,Oe,Ie;if(wt.isCanvasGradient===!0&&(wt=wt.getColor()),!wt)return{r:0,g:0,b:0,a:0,style:wt};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(wt))Qt=0,me=0,Oe=0,Ie=0;else{var ar=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(wt);if(ar!==null)Qt=parseInt(ar[1]),me=parseInt(ar[2]),Oe=parseInt(ar[3]),Ie=1;else if((ar=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(wt))!==null)Qt=parseInt(ar[1]),me=parseInt(ar[2]),Oe=parseInt(ar[3]),Ie=parseFloat(ar[4]);else{if(Ie=1,typeof wt=="string"&&wt.charAt(0)!=="#"){var We=new e(wt);wt=We.ok?We.toHex():"#000000"}wt.length===4?(Qt=wt.substring(1,2),Qt+=Qt,me=wt.substring(2,3),me+=me,Oe=wt.substring(3,4),Oe+=Oe):(Qt=wt.substring(1,3),me=wt.substring(3,5),Oe=wt.substring(5,7)),Qt=parseInt(Qt,16),me=parseInt(me,16),Oe=parseInt(Oe,16)}}return{r:Qt,g:me,b:Oe,a:Ie,style:wt}},G=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},Vt=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};vt.prototype.fillText=function(ee,wt,Qt,me){if(isNaN(wt)||isNaN(Qt)||typeof ee!="string")throw Q.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(me=isNaN(me)?void 0:me,!G.call(this)){var Oe=Re(this.ctx.transform.rotation),Ie=this.ctx.transform.scaleX;Bt.call(this,{text:ee,x:wt,y:Qt,scale:Ie,angle:Oe,align:this.textAlign,maxWidth:me})}},vt.prototype.strokeText=function(ee,wt,Qt,me){if(isNaN(wt)||isNaN(Qt)||typeof ee!="string")throw Q.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Vt.call(this)){me=isNaN(me)?void 0:me;var Oe=Re(this.ctx.transform.rotation),Ie=this.ctx.transform.scaleX;Bt.call(this,{text:ee,x:wt,y:Qt,scale:Ie,renderingMode:"stroke",angle:Oe,align:this.textAlign,maxWidth:me})}},vt.prototype.measureText=function(ee){if(typeof ee!="string")throw Q.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var wt=this.pdf,Qt=this.pdf.internal.scaleFactor,me=wt.internal.getFontSize(),Oe=wt.getStringUnitWidth(ee)*me/wt.internal.scaleFactor,Ie=function(We){var Xe=(We=We||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Xe}}),this};return new Ie({width:Oe*=Math.round(96*Qt/72*1e4)/1e4})},vt.prototype.scale=function(ee,wt){if(isNaN(ee)||isNaN(wt))throw Q.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Qt=new I(ee,0,0,wt,0,0);this.ctx.transform=this.ctx.transform.multiply(Qt)},vt.prototype.rotate=function(ee){if(isNaN(ee))throw Q.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var wt=new I(Math.cos(ee),Math.sin(ee),-Math.sin(ee),Math.cos(ee),0,0);this.ctx.transform=this.ctx.transform.multiply(wt)},vt.prototype.translate=function(ee,wt){if(isNaN(ee)||isNaN(wt))throw Q.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Qt=new I(1,0,0,1,ee,wt);this.ctx.transform=this.ctx.transform.multiply(Qt)},vt.prototype.transform=function(ee,wt,Qt,me,Oe,Ie){if(isNaN(ee)||isNaN(wt)||isNaN(Qt)||isNaN(me)||isNaN(Oe)||isNaN(Ie))throw Q.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var ar=new I(ee,wt,Qt,me,Oe,Ie);this.ctx.transform=this.ctx.transform.multiply(ar)},vt.prototype.setTransform=function(ee,wt,Qt,me,Oe,Ie){ee=isNaN(ee)?1:ee,wt=isNaN(wt)?0:wt,Qt=isNaN(Qt)?0:Qt,me=isNaN(me)?1:me,Oe=isNaN(Oe)?0:Oe,Ie=isNaN(Ie)?0:Ie,this.ctx.transform=new I(ee,wt,Qt,me,Oe,Ie)};var Ft=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};vt.prototype.drawImage=function(ee,wt,Qt,me,Oe,Ie,ar,We,Xe){var vr=this.pdf.getImageProperties(ee),Wr=1,Pr=1,rn=1,Xr=1;me!==void 0&&We!==void 0&&(rn=We/me,Xr=Xe/Oe,Wr=vr.width/me*We/me,Pr=vr.height/Oe*Xe/Oe),Ie===void 0&&(Ie=wt,ar=Qt,wt=0,Qt=0),me!==void 0&&We===void 0&&(We=me,Xe=Oe),me===void 0&&We===void 0&&(We=vr.width,Xe=vr.height);for(var qt,sr=this.ctx.transform.decompose(),Fr=Re(sr.rotate.shx),ir=new I,Ir=(ir=(ir=(ir=ir.multiply(sr.translate)).multiply(sr.skew)).multiply(sr.scale)).applyToRectangle(new j(Ie-wt*rn,ar-Qt*Xr,me*Wr,Oe*Pr)),Or=$t.call(this,Ir),zr=[],Hr=0;Hr<Or.length;Hr+=1)zr.indexOf(Or[Hr])===-1&&zr.push(Or[Hr]);if(Ae(zr),this.autoPaging)for(var Vr=zr[0],In=zr[zr.length-1],en=Vr;en<In+1;en++){this.pdf.setPage(en);var On=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Gn=en===1?this.posY+this.margin[0]:this.margin[0],Zr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],fn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Nr=en===1?0:Zr+(en-2)*fn;if(this.ctx.clip_path.length!==0){var Bi=this.path;qt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=gt(qt,this.posX+this.margin[3],-Nr+Gn+this.ctx.prevPageLastElemOffset),Qe.call(this,"fill",!0),this.path=Bi}var Vn=JSON.parse(JSON.stringify(Ir));Vn=gt([Vn],this.posX+this.margin[3],-Nr+Gn+this.ctx.prevPageLastElemOffset)[0];var Ci=(en>Vr||en<In)&&Ft.call(this);Ci&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],On,fn,null).clip().discardPath()),this.pdf.addImage(ee,"JPEG",Vn.x,Vn.y,Vn.w,Vn.h,null,null,Fr),Ci&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(ee,"JPEG",Ir.x,Ir.y,Ir.w,Ir.h,null,null,Fr)};var $t=function(wt,Qt,me){var Oe=[];Qt=Qt||this.pdf.internal.pageSize.width,me=me||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ie=this.posY+this.ctx.prevPageLastElemOffset;switch(wt.type){default:case"mt":case"lt":Oe.push(Math.floor((wt.y+Ie)/me)+1);break;case"arc":Oe.push(Math.floor((wt.y+Ie-wt.radius)/me)+1),Oe.push(Math.floor((wt.y+Ie+wt.radius)/me)+1);break;case"qct":var ar=_r(this.ctx.lastPoint.x,this.ctx.lastPoint.y,wt.x1,wt.y1,wt.x,wt.y);Oe.push(Math.floor((ar.y+Ie)/me)+1),Oe.push(Math.floor((ar.y+ar.h+Ie)/me)+1);break;case"bct":var We=tr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,wt.x1,wt.y1,wt.x2,wt.y2,wt.x,wt.y);Oe.push(Math.floor((We.y+Ie)/me)+1),Oe.push(Math.floor((We.y+We.h+Ie)/me)+1);break;case"rect":Oe.push(Math.floor((wt.y+Ie)/me)+1),Oe.push(Math.floor((wt.y+wt.h+Ie)/me)+1)}for(var Xe=0;Xe<Oe.length;Xe+=1)for(;this.pdf.internal.getNumberOfPages()<Oe[Xe];)Nt.call(this);return Oe},Nt=function(){var wt=this.fillStyle,Qt=this.strokeStyle,me=this.font,Oe=this.lineCap,Ie=this.lineWidth,ar=this.lineJoin;this.pdf.addPage(),this.fillStyle=wt,this.strokeStyle=Qt,this.font=me,this.lineCap=Oe,this.lineWidth=Ie,this.lineJoin=ar},gt=function(wt,Qt,me){for(var Oe=0;Oe<wt.length;Oe++)switch(wt[Oe].type){case"bct":wt[Oe].x2+=Qt,wt[Oe].y2+=me;case"qct":wt[Oe].x1+=Qt,wt[Oe].y1+=me;case"mt":case"lt":case"arc":default:wt[Oe].x+=Qt,wt[Oe].y+=me}return wt},Ae=function(wt){return wt.sort(function(Qt,me){return Qt-me})},Be=function(wt,Qt){for(var me,Oe,Ie=this.fillStyle,ar=this.strokeStyle,We=this.lineCap,Xe=this.lineWidth,vr=Math.abs(Xe*this.ctx.transform.scaleX),Wr=this.lineJoin,Pr=JSON.parse(JSON.stringify(this.path)),rn=JSON.parse(JSON.stringify(this.path)),Xr=[],qt=0;qt<rn.length;qt++)if(rn[qt].x!==void 0)for(var sr=$t.call(this,rn[qt]),Fr=0;Fr<sr.length;Fr+=1)Xr.indexOf(sr[Fr])===-1&&Xr.push(sr[Fr]);for(var ir=0;ir<Xr.length;ir++)for(;this.pdf.internal.getNumberOfPages()<Xr[ir];)Nt.call(this);if(Ae(Xr),this.autoPaging)for(var Ir=Xr[0],Or=Xr[Xr.length-1],zr=Ir;zr<Or+1;zr++){this.pdf.setPage(zr),this.fillStyle=Ie,this.strokeStyle=ar,this.lineCap=We,this.lineWidth=vr,this.lineJoin=Wr;var Hr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Vr=zr===1?this.posY+this.margin[0]:this.margin[0],In=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],en=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],On=zr===1?0:In+(zr-2)*en;if(this.ctx.clip_path.length!==0){var Gn=this.path;me=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=gt(me,this.posX+this.margin[3],-On+Vr+this.ctx.prevPageLastElemOffset),Qe.call(this,wt,!0),this.path=Gn}if(Oe=JSON.parse(JSON.stringify(Pr)),this.path=gt(Oe,this.posX+this.margin[3],-On+Vr+this.ctx.prevPageLastElemOffset),Qt===!1||zr===0){var Zr=(zr>Ir||zr<Or)&&Ft.call(this);Zr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Hr,en,null).clip().discardPath()),Qe.call(this,wt,Qt),Zr&&this.pdf.restoreGraphicsState()}this.lineWidth=Xe}else this.lineWidth=vr,Qe.call(this,wt,Qt),this.lineWidth=Xe;this.path=Pr},Qe=function(wt,Qt){if((wt!=="stroke"||Qt||!Vt.call(this))&&(wt==="stroke"||Qt||!G.call(this))){for(var me,Oe,Ie=[],ar=this.path,We=0;We<ar.length;We++){var Xe=ar[We];switch(Xe.type){case"begin":Ie.push({begin:!0});break;case"close":Ie.push({close:!0});break;case"mt":Ie.push({start:Xe,deltas:[],abs:[]});break;case"lt":var vr=Ie.length;if(ar[We-1]&&!isNaN(ar[We-1].x)&&(me=[Xe.x-ar[We-1].x,Xe.y-ar[We-1].y],vr>0)){for(;vr>=0;vr--)if(Ie[vr-1].close!==!0&&Ie[vr-1].begin!==!0){Ie[vr-1].deltas.push(me),Ie[vr-1].abs.push(Xe);break}}break;case"bct":me=[Xe.x1-ar[We-1].x,Xe.y1-ar[We-1].y,Xe.x2-ar[We-1].x,Xe.y2-ar[We-1].y,Xe.x-ar[We-1].x,Xe.y-ar[We-1].y],Ie[Ie.length-1].deltas.push(me);break;case"qct":var Wr=ar[We-1].x+2/3*(Xe.x1-ar[We-1].x),Pr=ar[We-1].y+2/3*(Xe.y1-ar[We-1].y),rn=Xe.x+2/3*(Xe.x1-Xe.x),Xr=Xe.y+2/3*(Xe.y1-Xe.y),qt=Xe.x,sr=Xe.y;me=[Wr-ar[We-1].x,Pr-ar[We-1].y,rn-ar[We-1].x,Xr-ar[We-1].y,qt-ar[We-1].x,sr-ar[We-1].y],Ie[Ie.length-1].deltas.push(me);break;case"arc":Ie.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ie[Ie.length-1].abs)&&Ie[Ie.length-1].abs.push(Xe)}}Oe=Qt?null:wt==="stroke"?"stroke":"fill";for(var Fr=!1,ir=0;ir<Ie.length;ir++)if(Ie[ir].arc)for(var Ir=Ie[ir].abs,Or=0;Or<Ir.length;Or++){var zr=Ir[Or];zr.type==="arc"?mr.call(this,zr.x,zr.y,zr.radius,zr.startAngle,zr.endAngle,zr.counterclockwise,void 0,Qt,!Fr):ue.call(this,zr.x,zr.y),Fr=!0}else if(Ie[ir].close===!0)this.pdf.internal.out("h"),Fr=!1;else if(Ie[ir].begin!==!0){var Hr=Ie[ir].start.x,Vr=Ie[ir].start.y;le.call(this,Ie[ir].deltas,Hr,Vr),Fr=!0}Oe&&he.call(this,Oe),Qt&&Ve.call(this)}},fr=function(wt){var Qt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,me=Qt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return wt-me;case"top":return wt+Qt-me;case"hanging":return wt+Qt-2*me;case"middle":return wt+Qt/2-me;case"ideographic":return wt;case"alphabetic":default:return wt}},Ye=function(wt){return wt+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};vt.prototype.createLinearGradient=function(){var ee=function(){};return ee.colorStops=[],ee.addColorStop=function(wt,Qt){this.colorStops.push([wt,Qt])},ee.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},ee.isCanvasGradient=!0,ee},vt.prototype.createPattern=function(){return this.createLinearGradient()},vt.prototype.createRadialGradient=function(){return this.createLinearGradient()};var mr=function(wt,Qt,me,Oe,Ie,ar,We,Xe,vr){for(var Wr=Ke.call(this,me,Oe,Ie,ar),Pr=0;Pr<Wr.length;Pr++){var rn=Wr[Pr];Pr===0&&(vr?ie.call(this,rn.x1+wt,rn.y1+Qt):ue.call(this,rn.x1+wt,rn.y1+Qt)),$e.call(this,wt,Qt,rn.x2,rn.y2,rn.x3,rn.y3,rn.x4,rn.y4)}Xe?Ve.call(this):he.call(this,We)},he=function(wt){switch(wt){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},Ve=function(){this.pdf.clip(),this.pdf.discardPath()},ie=function(wt,Qt){this.pdf.internal.out(y(wt)+" "+w(Qt)+" m")},Bt=function(wt){var Qt;switch(wt.align){case"right":case"end":Qt="right";break;case"center":Qt="center";break;case"left":case"start":default:Qt="left"}var me=this.pdf.getTextDimensions(wt.text),Oe=fr.call(this,wt.y),Ie=Ye.call(this,Oe)-me.h,ar=this.ctx.transform.applyToPoint(new P(wt.x,Oe)),We=this.ctx.transform.decompose(),Xe=new I;Xe=(Xe=(Xe=Xe.multiply(We.translate)).multiply(We.skew)).multiply(We.scale);for(var vr,Wr,Pr,rn=this.ctx.transform.applyToRectangle(new j(wt.x,Oe,me.w,me.h)),Xr=Xe.applyToRectangle(new j(wt.x,Ie,me.w,me.h)),qt=$t.call(this,Xr),sr=[],Fr=0;Fr<qt.length;Fr+=1)sr.indexOf(qt[Fr])===-1&&sr.push(qt[Fr]);if(Ae(sr),this.autoPaging)for(var ir=sr[0],Ir=sr[sr.length-1],Or=ir;Or<Ir+1;Or++){this.pdf.setPage(Or);var zr=Or===1?this.posY+this.margin[0]:this.margin[0],Hr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Vr=this.pdf.internal.pageSize.height-this.margin[2],In=Vr-this.margin[0],en=this.pdf.internal.pageSize.width-this.margin[1],On=en-this.margin[3],Gn=Or===1?0:Hr+(Or-2)*In;if(this.ctx.clip_path.length!==0){var Zr=this.path;vr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=gt(vr,this.posX+this.margin[3],-1*Gn+zr),Qe.call(this,"fill",!0),this.path=Zr}var fn=gt([JSON.parse(JSON.stringify(Xr))],this.posX+this.margin[3],-Gn+zr+this.ctx.prevPageLastElemOffset)[0];wt.scale>=.01&&(Wr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wr*wt.scale),Pr=this.lineWidth,this.lineWidth=Pr*wt.scale);var Nr=this.autoPaging!=="text";if(Nr||fn.y+fn.h<=Vr){if(Nr||fn.y>=zr&&fn.x<=en){var Bi=Nr?wt.text:this.pdf.splitTextToSize(wt.text,wt.maxWidth||en-fn.x)[0],Vn=gt([JSON.parse(JSON.stringify(rn))],this.posX+this.margin[3],-Gn+zr+this.ctx.prevPageLastElemOffset)[0],Ci=Nr&&(Or>ir||Or<Ir)&&Ft.call(this);Ci&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],On,In,null).clip().discardPath()),this.pdf.text(Bi,Vn.x,Vn.y,{angle:wt.angle,align:Qt,renderingMode:wt.renderingMode}),Ci&&this.pdf.restoreGraphicsState()}}else fn.y<Vr&&(this.ctx.prevPageLastElemOffset+=Vr-fn.y);wt.scale>=.01&&(this.pdf.setFontSize(Wr),this.lineWidth=Pr)}else wt.scale>=.01&&(Wr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(Wr*wt.scale),Pr=this.lineWidth,this.lineWidth=Pr*wt.scale),this.pdf.text(wt.text,ar.x+this.posX,ar.y+this.posY,{angle:wt.angle,align:Qt,renderingMode:wt.renderingMode,maxWidth:wt.maxWidth}),wt.scale>=.01&&(this.pdf.setFontSize(Wr),this.lineWidth=Pr)},ue=function(wt,Qt,me,Oe){me=me||0,Oe=Oe||0,this.pdf.internal.out(y(wt+me)+" "+w(Qt+Oe)+" l")},le=function(wt,Qt,me){return this.pdf.lines(wt,Qt,me,null,null)},$e=function(wt,Qt,me,Oe,Ie,ar,We,Xe){this.pdf.internal.out([g(T(me+wt)),g(S(Oe+Qt)),g(T(Ie+wt)),g(S(ar+Qt)),g(T(We+wt)),g(S(Xe+Qt)),"c"].join(" "))},Ke=function(wt,Qt,me,Oe){for(var Ie=2*Math.PI,ar=Math.PI/2;Qt>me;)Qt-=Ie;var We=Math.abs(me-Qt);We<Ie&&Oe&&(We=Ie-We);for(var Xe=[],vr=Oe?-1:1,Wr=Qt;We>1e-5;){var Pr=Wr+vr*Math.min(We,ar);Xe.push(gr.call(this,wt,Wr,Pr)),We-=Math.abs(Pr-Wr),Wr=Pr}return Xe},gr=function(wt,Qt,me){var Oe=(me-Qt)/2,Ie=wt*Math.cos(Oe),ar=wt*Math.sin(Oe),We=Ie,Xe=-ar,vr=We*We+Xe*Xe,Wr=vr+We*Ie+Xe*ar,Pr=4/3*(Math.sqrt(2*vr*Wr)-Wr)/(We*ar-Xe*Ie),rn=We-Pr*Xe,Xr=Xe+Pr*We,qt=rn,sr=-Xr,Fr=Oe+Qt,ir=Math.cos(Fr),Ir=Math.sin(Fr);return{x1:wt*Math.cos(Qt),y1:wt*Math.sin(Qt),x2:rn*ir-Xr*Ir,y2:rn*Ir+Xr*ir,x3:qt*ir-sr*Ir,y3:qt*Ir+sr*ir,x4:wt*Math.cos(me),y4:wt*Math.sin(me)}},Re=function(wt){return 180*wt/Math.PI},_r=function(wt,Qt,me,Oe,Ie,ar){var We=wt+.5*(me-wt),Xe=Qt+.5*(Oe-Qt),vr=Ie+.5*(me-Ie),Wr=ar+.5*(Oe-ar),Pr=Math.min(wt,Ie,We,vr),rn=Math.max(wt,Ie,We,vr),Xr=Math.min(Qt,ar,Xe,Wr),qt=Math.max(Qt,ar,Xe,Wr);return new j(Pr,Xr,rn-Pr,qt-Xr)},tr=function(wt,Qt,me,Oe,Ie,ar,We,Xe){var vr,Wr,Pr,rn,Xr,qt,sr,Fr,ir,Ir,Or,zr,Hr,Vr,In=me-wt,en=Oe-Qt,On=Ie-me,Gn=ar-Oe,Zr=We-Ie,fn=Xe-ar;for(Wr=0;Wr<41;Wr++)ir=(sr=(Pr=wt+(vr=Wr/40)*In)+vr*((Xr=me+vr*On)-Pr))+vr*(Xr+vr*(Ie+vr*Zr-Xr)-sr),Ir=(Fr=(rn=Qt+vr*en)+vr*((qt=Oe+vr*Gn)-rn))+vr*(qt+vr*(ar+vr*fn-qt)-Fr),Wr==0?(Or=ir,zr=Ir,Hr=ir,Vr=Ir):(Or=Math.min(Or,ir),zr=Math.min(zr,Ir),Hr=Math.max(Hr,ir),Vr=Math.max(Vr,Ir));return new j(Math.round(Or),Math.round(zr),Math.round(Hr-Or),Math.round(Vr-zr))},Tr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var wt,Qt,me=(wt=this.ctx.lineDash,Qt=this.ctx.lineDashOffset,JSON.stringify({lineDash:wt,lineDashOffset:Qt}));this.prevLineDash!==me&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=me)}}})(Y.API),function(k){var g=function(P){var j,I,K,bt,vt,Lt,G,Vt,Ft,$t;for(/[^\x00-\xFF]/.test(P),I=[],K=0,bt=(P+=j="\0\0\0\0".slice(P.length%4||4)).length;bt>K;K+=4)(vt=(P.charCodeAt(K)<<24)+(P.charCodeAt(K+1)<<16)+(P.charCodeAt(K+2)<<8)+P.charCodeAt(K+3))!==0?(Lt=(vt=((vt=((vt=((vt=(vt-($t=vt%85))/85)-(Ft=vt%85))/85)-(Vt=vt%85))/85)-(G=vt%85))/85)%85,I.push(Lt+33,G+33,Vt+33,Ft+33,$t+33)):I.push(122);return function(Nt,gt){for(var Ae=gt;Ae>0;Ae--)Nt.pop()}(I,j.length),String.fromCharCode.apply(String,I)+"~>"},y=function(P){var j,I,K,bt,vt,Lt=String,G="length",Vt=255,Ft="charCodeAt",$t="slice",Nt="replace";for(P[$t](-2),P=P[$t](0,-2)[Nt](/\s/g,"")[Nt]("z","!!!!!"),K=[],bt=0,vt=(P+=j="uuuuu"[$t](P[G]%5||5))[G];vt>bt;bt+=5)I=52200625*(P[Ft](bt)-33)+614125*(P[Ft](bt+1)-33)+7225*(P[Ft](bt+2)-33)+85*(P[Ft](bt+3)-33)+(P[Ft](bt+4)-33),K.push(Vt&I>>24,Vt&I>>16,Vt&I>>8,Vt&I);return function(gt,Ae){for(var Be=Ae;Be>0;Be--)gt.pop()}(K,j[G]),Lt.fromCharCode.apply(Lt,K)},w=function(P){var j=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((P=P.replace(/\s/g,"")).indexOf(">")!==-1&&(P=P.substr(0,P.indexOf(">"))),P.length%2&&(P+="0"),j.test(P)===!1)return"";for(var I="",K=0;K<P.length;K+=2)I+=String.fromCharCode("0x"+(P[K]+P[K+1]));return I},T=function(P){for(var j=new Uint8Array(P.length),I=P.length;I--;)j[I]=P.charCodeAt(I);return P=(j=Object(pt.b)(j)).reduce(function(K,bt){return K+String.fromCharCode(bt)},"")};k.processDataByFilters=function(S,P){var j=0,I=S||"",K=[];for(typeof(P=P||[])=="string"&&(P=[P]),j=0;j<P.length;j+=1)switch(P[j]){case"ASCII85Decode":case"/ASCII85Decode":I=y(I),K.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":I=g(I),K.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":I=w(I),K.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":I=I.split("").map(function(bt){return("0"+bt.charCodeAt().toString(16)).slice(-2)}).join("")+">",K.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":I=T(I),K.push("/FlateDecode");break;default:throw new Error('The filter: "'+P[j]+'" is not implemented')}return{data:I,reverseChain:K.reverse().join(" ")}}}(Y.API),function(k){k.loadFile=function(g,y,w){return function(T,S,P){S=S!==!1,P=typeof P=="function"?P:function(){};var j=void 0;try{j=function(I,K,bt){var vt=new XMLHttpRequest,Lt=0,G=function(Ft){var $t=Ft.length,Nt=[],gt=String.fromCharCode;for(Lt=0;Lt<$t;Lt+=1)Nt.push(gt(255&Ft.charCodeAt(Lt)));return Nt.join("")};if(vt.open("GET",I,!K),vt.overrideMimeType("text/plain; charset=x-user-defined"),K===!1&&(vt.onload=function(){vt.status===200?bt(G(this.responseText)):bt(void 0)}),vt.send(null),K&&vt.status===200)return G(vt.responseText)}(T,S,P)}catch(I){}return j}(g,y,w)},k.loadImageFile=k.loadFile}(Y.API),function(k){function g(){return(dt.html2canvas?Promise.resolve(dt.html2canvas):De.e(66).then(De.t.bind(null,"wOnQ",7))).catch(function(P){return Promise.reject(new Error("Could not load html2canvas: "+P))}).then(function(P){return P.default?P.default:P})}function y(){return(dt.DOMPurify?Promise.resolve(dt.DOMPurify):De.e(65).then(De.t.bind(null,"wMS7",7))).catch(function(P){return Promise.reject(new Error("Could not load dompurify: "+P))}).then(function(P){return P.default?P.default:P})}var w=function(j){var I=be()(j);return I==="undefined"?"undefined":I==="string"||j instanceof String?"string":I==="number"||j instanceof Number?"number":I==="function"||j instanceof Function?"function":j&&j.constructor===Array?"array":j&&j.nodeType===1?"element":I==="object"?"object":"unknown"},T=function(j,I){var K=document.createElement(j);for(var bt in I.className&&(K.className=I.className),I.innerHTML&&I.dompurify&&(K.innerHTML=I.dompurify.sanitize(I.innerHTML)),I.style)K.style[bt]=I.style[bt];return K},S=function P(j){var I=Object.assign(P.convert(Promise.resolve()),JSON.parse(JSON.stringify(P.template))),K=P.convert(Promise.resolve(),I);return K=(K=K.setProgress(1,P,1,[P])).set(j)};(S.prototype=Object.create(Promise.prototype)).constructor=S,S.convert=function(P,j){return P.__proto__=j||S.prototype,P},S.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},S.prototype.from=function(P,j){return this.then(function(){switch(j=j||function(I){switch(w(I)){case"string":return"string";case"element":return I.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(P)){case"string":return this.then(y).then(function(I){return this.set({src:T("div",{innerHTML:P,dompurify:I})})});case"element":return this.set({src:P});case"canvas":return this.set({canvas:P});case"img":return this.set({img:P});default:return this.error("Unknown source type.")}})},S.prototype.to=function(P){switch(P){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},S.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var P={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},j=function I(K,bt){for(var vt=K.nodeType===3?document.createTextNode(K.nodeValue):K.cloneNode(!1),Lt=K.firstChild;Lt;Lt=Lt.nextSibling)bt!==!0&&Lt.nodeType===1&&Lt.nodeName==="SCRIPT"||vt.appendChild(I(Lt,bt));return K.nodeType===1&&(K.nodeName==="CANVAS"?(vt.width=K.width,vt.height=K.height,vt.getContext("2d").drawImage(K,0,0)):K.nodeName!=="TEXTAREA"&&K.nodeName!=="SELECT"||(vt.value=K.value),vt.addEventListener("load",function(){vt.scrollTop=K.scrollTop,vt.scrollLeft=K.scrollLeft},!0)),vt}(this.prop.src,this.opt.html2canvas.javascriptEnabled);j.tagName==="BODY"&&(P.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=T("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=T("div",{className:"html2pdf__container",style:P}),this.prop.container.appendChild(j),this.prop.container.firstChild.appendChild(T("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},S.prototype.toCanvas=function(){var P=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(P).then(g).then(function(j){var I=Object.assign({},this.opt.html2canvas);return delete I.onrendered,j(this.prop.container,I)}).then(function(j){(this.opt.html2canvas.onrendered||function(){})(j),this.prop.canvas=j,document.body.removeChild(this.prop.overlay)})},S.prototype.toContext2d=function(){var P=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(P).then(g).then(function(j){var I=this.opt.jsPDF,K=this.opt.fontFaces,bt=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,vt=Object.assign({async:!0,allowTaint:!0,scale:bt,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete vt.onrendered,I.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,I.context2d.posX=this.opt.x,I.context2d.posY=this.opt.y,I.context2d.margin=this.opt.margin,I.context2d.fontFaces=K,K)for(var Lt=0;Lt<K.length;++Lt){var G=K[Lt],Vt=G.src.find(function(Ft){return Ft.format==="truetype"});Vt&&I.addFont(Vt.url,G.ref.name,G.ref.style)}return vt.windowHeight=vt.windowHeight||0,vt.windowHeight=vt.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):vt.windowHeight,I.context2d.save(!0),j(this.prop.container,vt)}).then(function(j){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(j),this.prop.canvas=j,document.body.removeChild(this.prop.overlay)})},S.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var P=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=P})},S.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},S.prototype.output=function(P,j,I){return(I=I||"pdf").toLowerCase()==="img"||I.toLowerCase()==="image"?this.outputImg(P,j):this.outputPdf(P,j)},S.prototype.outputPdf=function(P,j){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(P,j)})},S.prototype.outputImg=function(P){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(P){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+P+'" is not supported.'}})},S.prototype.save=function(P){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(P?{filename:P}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},S.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},S.prototype.set=function(P){if(w(P)!=="object")return this;var j=Object.keys(P||{}).map(function(I){if(I in S.template.prop)return function(){this.prop[I]=P[I]};switch(I){case"margin":return this.setMargin.bind(this,P.margin);case"jsPDF":return function(){return this.opt.jsPDF=P.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,P.pageSize);default:return function(){this.opt[I]=P[I]}}},this);return this.then(function(){return this.thenList(j)})},S.prototype.get=function(P,j){return this.then(function(){var I=P in S.template.prop?this.prop[P]:this.opt[P];return j?j(I):I})},S.prototype.setMargin=function(P){return this.then(function(){switch(w(P)){case"number":P=[P,P,P,P];case"array":if(P.length===2&&(P=[P[0],P[1],P[0],P[1]]),P.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=P}).then(this.setPageSize)},S.prototype.setPageSize=function(P){function j(I,K){return Math.floor(I*K/72*96)}return this.then(function(){(P=P||Y.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(P.inner={width:P.width-this.opt.margin[1]-this.opt.margin[3],height:P.height-this.opt.margin[0]-this.opt.margin[2]},P.inner.px={width:j(P.inner.width,P.k),height:j(P.inner.height,P.k)},P.inner.ratio=P.inner.height/P.inner.width),this.prop.pageSize=P})},S.prototype.setProgress=function(P,j,I,K){return P!=null&&(this.progress.val=P),j!=null&&(this.progress.state=j),I!=null&&(this.progress.n=I),K!=null&&(this.progress.stack=K),this.progress.ratio=this.progress.val/this.progress.state,this},S.prototype.updateProgress=function(P,j,I,K){return this.setProgress(P?this.progress.val+P:null,j||null,I?this.progress.n+I:null,K?this.progress.stack.concat(K):null)},S.prototype.then=function(P,j){var I=this;return this.thenCore(P,j,function(K,bt){return I.updateProgress(null,null,1,[K]),Promise.prototype.then.call(this,function(vt){return I.updateProgress(null,K),vt}).then(K,bt).then(function(vt){return I.updateProgress(1),vt})})},S.prototype.thenCore=function(P,j,I){I=I||Promise.prototype.then,P&&(P=P.bind(this)),j&&(j=j.bind(this));var K=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:S.convert(Object.assign({},this),Promise.prototype),bt=I.call(K,P,j);return S.convert(bt,this.__proto__)},S.prototype.thenExternal=function(P,j){return Promise.prototype.then.call(this,P,j)},S.prototype.thenList=function(P){var j=this;return P.forEach(function(I){j=j.thenCore(I)}),j},S.prototype.catch=function(P){P&&(P=P.bind(this));var j=Promise.prototype.catch.call(this,P);return S.convert(j,this)},S.prototype.catchExternal=function(P){return Promise.prototype.catch.call(this,P)},S.prototype.error=function(P){return this.then(function(){throw new Error(P)})},S.prototype.using=S.prototype.set,S.prototype.saveAs=S.prototype.save,S.prototype.export=S.prototype.output,S.prototype.run=S.prototype.then,Y.getPageSize=function(P,j,I){if(be()(P)==="object"){var K=P;P=K.orientation,j=K.unit||j,I=K.format||I}j=j||"mm",I=I||"a4",P=(""+(P||"P")).toLowerCase();var bt,vt=(""+I).toLowerCase(),Lt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(j){case"pt":bt=1;break;case"mm":bt=72/25.4;break;case"cm":bt=72/2.54;break;case"in":bt=72;break;case"px":bt=.75;break;case"pc":case"em":bt=12;break;case"ex":bt=6;break;default:throw"Invalid unit: "+j}var G,Vt=0,Ft=0;if(Lt.hasOwnProperty(vt))Vt=Lt[vt][1]/bt,Ft=Lt[vt][0]/bt;else try{Vt=I[1],Ft=I[0]}catch($t){throw new Error("Invalid format: "+I)}if(P==="p"||P==="portrait")P="p",Ft>Vt&&(G=Ft,Ft=Vt,Vt=G);else{if(P!=="l"&&P!=="landscape")throw"Invalid orientation: "+P;P="l",Vt>Ft&&(G=Ft,Ft=Vt,Vt=G)}return{width:Ft,height:Vt,unit:j,k:bt,orientation:P}},k.html=function(P,j){(j=j||{}).callback=j.callback||function(){},j.html2canvas=j.html2canvas||{},j.html2canvas.canvas=j.html2canvas.canvas||this.canvas,j.jsPDF=j.jsPDF||this,j.fontFaces=j.fontFaces?j.fontFaces.map(hs):null;var I=new S(j);return j.worker?I:I.from(P).doCallback()}}(Y.API),Y.API.addJS=function(k){return el=k,this.internal.events.subscribe("postPutResources",function(){Va=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(Va+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),tl=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+el+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){Va!==void 0&&tl!==void 0&&this.internal.out("/Names <</JavaScript "+Va+" 0 R>>")}),this},function(k){var g;k.events.push(["postPutResources",function(){var y=this,w=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var T=y.outline.render().split(/\r\n/),S=0;S<T.length;S++){var P=T[S],j=w.exec(P);if(j!=null){var I=j[1];y.internal.newObjectDeferredBegin(I,!1)}y.internal.write(P)}if(this.outline.createNamedDestinations){var K=this.internal.pages.length,bt=[];for(S=0;S<K;S++){var vt=y.internal.newObject();bt.push(vt);var Lt=y.internal.getPageInfo(S+1);y.internal.write("<< /D["+Lt.objId+" 0 R /XYZ null null null]>> endobj")}var G=y.internal.newObject();for(y.internal.write("<< /Names [ "),S=0;S<bt.length;S++)y.internal.write("(page_"+(S+1)+")"+bt[S]+" 0 R");y.internal.write(" ] >>","endobj"),g=y.internal.newObject(),y.internal.write("<< /Dests "+G+" 0 R"),y.internal.write(">>","endobj")}}]),k.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+g+" 0 R"))}]),k.events.push(["initialized",function(){var y=this;y.outline={createNamedDestinations:!1,root:{children:[]}},y.outline.add=function(w,T,S){var P={title:T,options:S,children:[]};return w==null&&(w=this.root),w.children.push(P),P},y.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=y,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},y.outline.genIds_r=function(w){w.id=y.internal.newObjectDeferred();for(var T=0;T<w.children.length;T++)this.genIds_r(w.children[T])},y.outline.renderRoot=function(w){this.objStart(w),this.line("/Type /Outlines"),w.children.length>0&&(this.line("/First "+this.makeRef(w.children[0])),this.line("/Last "+this.makeRef(w.children[w.children.length-1]))),this.line("/Count "+this.count_r({count:0},w)),this.objEnd()},y.outline.renderItems=function(w){for(var T=this.ctx.pdf.internal.getVerticalCoordinateString,S=0;S<w.children.length;S++){var P=w.children[S];this.objStart(P),this.line("/Title "+this.makeString(P.title)),this.line("/Parent "+this.makeRef(w)),S>0&&this.line("/Prev "+this.makeRef(w.children[S-1])),S<w.children.length-1&&this.line("/Next "+this.makeRef(w.children[S+1])),P.children.length>0&&(this.line("/First "+this.makeRef(P.children[0])),this.line("/Last "+this.makeRef(P.children[P.children.length-1])));var j=this.count=this.count_r({count:0},P);if(j>0&&this.line("/Count "+j),P.options&&P.options.pageNumber){var I=y.internal.getPageInfo(P.options.pageNumber);this.line("/Dest ["+I.objId+" 0 R /XYZ 0 "+T(0)+" 0]")}this.objEnd()}for(var K=0;K<w.children.length;K++)this.renderItems(w.children[K])},y.outline.line=function(w){this.ctx.val+=w+`\r
`},y.outline.makeRef=function(w){return w.id+" 0 R"},y.outline.makeString=function(w){return"("+y.internal.pdfEscape(w)+")"},y.outline.objStart=function(w){this.ctx.val+=`\r
`+w.id+` 0 obj\r
<<\r
`},y.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},y.outline.count_r=function(w,T){for(var S=0;S<T.children.length;S++)w.count++,this.count_r(w,T.children[S]);return w.count}}])}(Y.API),function(k){var g=[192,193,194,195,196,197,198,199];k.processJPEG=function(y,w,T,S,P,j){var I,K=this.decode.DCT_DECODE,bt=null;if(typeof y=="string"||this.__addimage__.isArrayBuffer(y)||this.__addimage__.isArrayBufferView(y)){switch(y=P||y,y=this.__addimage__.isArrayBuffer(y)?new Uint8Array(y):y,(I=function(vt){for(var Lt,G=256*vt.charCodeAt(4)+vt.charCodeAt(5),Vt=vt.length,Ft={width:0,height:0,numcomponents:1},$t=4;$t<Vt;$t+=2){if($t+=G,g.indexOf(vt.charCodeAt($t+1))!==-1){Lt=256*vt.charCodeAt($t+5)+vt.charCodeAt($t+6),Ft={width:256*vt.charCodeAt($t+7)+vt.charCodeAt($t+8),height:Lt,numcomponents:vt.charCodeAt($t+9)};break}G=256*vt.charCodeAt($t+2)+vt.charCodeAt($t+3)}return Ft}(y=this.__addimage__.isArrayBufferView(y)?this.__addimage__.arrayBufferToBinaryString(y):y)).numcomponents){case 1:j=this.color_spaces.DEVICE_GRAY;break;case 4:j=this.color_spaces.DEVICE_CMYK;break;case 3:j=this.color_spaces.DEVICE_RGB}bt={data:y,width:I.width,height:I.height,colorSpace:j,bitsPerComponent:8,filter:K,index:w,alias:T}}return bt}}(Y.API);var B,O,q,st,Pt,Ht=function(){var k,g,y;function w(S){var P,j,I,K,bt,vt,Lt,G,Vt,Ft,$t,Nt,gt,Ae;for(this.data=S,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},vt=null;;){switch(P=this.readUInt32(),Vt=function(){var Be,Qe;for(Qe=[],Be=0;Be<4;++Be)Qe.push(String.fromCharCode(this.data[this.pos++]));return Qe}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(P);break;case"fcTL":vt&&this.animation.frames.push(vt),this.pos+=4,vt={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},bt=this.readUInt16(),K=this.readUInt16()||100,vt.delay=1e3*bt/K,vt.disposeOp=this.data[this.pos++],vt.blendOp=this.data[this.pos++],vt.data=[];break;case"IDAT":case"fdAT":for(Vt==="fdAT"&&(this.pos+=4,P-=4),S=(vt!=null?vt.data:void 0)||this.imgData,Nt=0;0<=P?Nt<P:Nt>P;0<=P?++Nt:--Nt)S.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(I=this.palette.length/3,this.transparency.indexed=this.read(P),this.transparency.indexed.length>I)throw new Error("More transparent colors than palette size");if((Ft=I-this.transparency.indexed.length)>0)for(gt=0;0<=Ft?gt<Ft:gt>Ft;0<=Ft?++gt:--gt)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(P)[0];break;case 2:this.transparency.rgb=this.read(P)}break;case"tEXt":Lt=($t=this.read(P)).indexOf(0),G=String.fromCharCode.apply(String,$t.slice(0,Lt)),this.text[G]=String.fromCharCode.apply(String,$t.slice(Lt+1));break;case"IEND":return vt&&this.animation.frames.push(vt),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(Ae=this.colorType)===4||Ae===6,j=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*j,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=P}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}w.prototype.read=function(S){var P,j;for(j=[],P=0;0<=S?P<S:P>S;0<=S?++P:--P)j.push(this.data[this.pos++]);return j},w.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},w.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},w.prototype.decodePixels=function(S){var P=this.pixelBitlength/8,j=new Uint8Array(this.width*this.height*P),I=0,K=this;if(S==null&&(S=this.imgData),S.length===0)return new Uint8Array(0);function bt(vt,Lt,G,Vt){var Ft,$t,Nt,gt,Ae,Be,Qe,fr,Ye,mr,he,Ve,ie,Bt,ue,le,$e,Ke,gr,Re,_r,tr=Math.ceil((K.width-vt)/G),Tr=Math.ceil((K.height-Lt)/Vt),ee=K.width==tr&&K.height==Tr;for(Bt=P*tr,Ve=ee?j:new Uint8Array(Bt*Tr),Be=S.length,ie=0,$t=0;ie<Tr&&I<Be;){switch(S[I++]){case 0:for(gt=$e=0;$e<Bt;gt=$e+=1)Ve[$t++]=S[I++];break;case 1:for(gt=Ke=0;Ke<Bt;gt=Ke+=1)Ft=S[I++],Ae=gt<P?0:Ve[$t-P],Ve[$t++]=(Ft+Ae)%256;break;case 2:for(gt=gr=0;gr<Bt;gt=gr+=1)Ft=S[I++],Nt=(gt-gt%P)/P,ue=ie&&Ve[(ie-1)*Bt+Nt*P+gt%P],Ve[$t++]=(ue+Ft)%256;break;case 3:for(gt=Re=0;Re<Bt;gt=Re+=1)Ft=S[I++],Nt=(gt-gt%P)/P,Ae=gt<P?0:Ve[$t-P],ue=ie&&Ve[(ie-1)*Bt+Nt*P+gt%P],Ve[$t++]=(Ft+Math.floor((Ae+ue)/2))%256;break;case 4:for(gt=_r=0;_r<Bt;gt=_r+=1)Ft=S[I++],Nt=(gt-gt%P)/P,Ae=gt<P?0:Ve[$t-P],ie===0?ue=le=0:(ue=Ve[(ie-1)*Bt+Nt*P+gt%P],le=Nt&&Ve[(ie-1)*Bt+(Nt-1)*P+gt%P]),Qe=Ae+ue-le,fr=Math.abs(Qe-Ae),mr=Math.abs(Qe-ue),he=Math.abs(Qe-le),Ye=fr<=mr&&fr<=he?Ae:mr<=he?ue:le,Ve[$t++]=(Ft+Ye)%256;break;default:throw new Error("Invalid filter algorithm: "+S[I-1])}if(!ee){var wt=((Lt+ie*Vt)*K.width+vt)*P,Qt=ie*Bt;for(gt=0;gt<tr;gt+=1){for(var me=0;me<P;me+=1)j[wt++]=Ve[Qt++];wt+=(G-1)*P}}ie++}}return S=Object(pt.a)(S),K.interlaceMethod==1?(bt(0,0,8,8),bt(4,0,8,8),bt(0,4,4,8),bt(2,0,4,4),bt(0,2,2,4),bt(1,0,2,2),bt(0,1,1,2)):bt(0,0,1,1),j},w.prototype.decodePalette=function(){var S,P,j,I,K,bt,vt,Lt,G;for(j=this.palette,bt=this.transparency.indexed||[],K=new Uint8Array((bt.length||0)+j.length),I=0,S=0,P=vt=0,Lt=j.length;vt<Lt;P=vt+=3)K[I++]=j[P],K[I++]=j[P+1],K[I++]=j[P+2],K[I++]=(G=bt[S++])!=null?G:255;return K},w.prototype.copyToImageData=function(S,P){var j,I,K,bt,vt,Lt,G,Vt,Ft,$t,Nt;if(I=this.colors,Ft=null,j=this.hasAlphaChannel,this.palette.length&&(Ft=(Nt=this._decodedPalette)!=null?Nt:this._decodedPalette=this.decodePalette(),I=4,j=!0),Vt=(K=S.data||S).length,vt=Ft||P,bt=Lt=0,I===1)for(;bt<Vt;)G=Ft?4*P[bt/4]:Lt,$t=vt[G++],K[bt++]=$t,K[bt++]=$t,K[bt++]=$t,K[bt++]=j?vt[G++]:255,Lt=G;else for(;bt<Vt;)G=Ft?4*P[bt/4]:Lt,K[bt++]=vt[G++],K[bt++]=vt[G++],K[bt++]=vt[G++],K[bt++]=j?vt[G++]:255,Lt=G},w.prototype.decode=function(){var S;return S=new Uint8Array(this.width*this.height*4),this.copyToImageData(S,this.decodePixels()),S};var T=function(){if(Object.prototype.toString.call(dt)==="[object Window]"){try{g=dt.document.createElement("canvas"),y=g.getContext("2d")}catch(P){return!1}return!0}return!1};return T(),k=function(P){var j;if(T()===!0)return y.width=P.width,y.height=P.height,y.clearRect(0,0,P.width,P.height),y.putImageData(P,0,0),(j=new Image).src=g.toDataURL(),j;throw new Error("This method requires a Browser with Canvas-capability.")},w.prototype.decodeFrames=function(S){var P,j,I,K,bt,vt,Lt,G;if(this.animation){for(G=[],j=bt=0,vt=(Lt=this.animation.frames).length;bt<vt;j=++bt)P=Lt[j],I=S.createImageData(P.width,P.height),K=this.decodePixels(new Uint8Array(P.data)),this.copyToImageData(I,K),P.imageData=I,G.push(P.image=k(I));return G}},w.prototype.renderFrame=function(S,P){var j,I,K;return j=(I=this.animation.frames)[P],K=I[P-1],P===0&&S.clearRect(0,0,this.width,this.height),(K!=null?K.disposeOp:void 0)===1?S.clearRect(K.xOffset,K.yOffset,K.width,K.height):(K!=null?K.disposeOp:void 0)===2&&S.putImageData(K.imageData,K.xOffset,K.yOffset),j.blendOp===0&&S.clearRect(j.xOffset,j.yOffset,j.width,j.height),S.drawImage(j.image,j.xOffset,j.yOffset)},w.prototype.animate=function(S){var P,j,I,K,bt,vt,Lt=this;return j=0,vt=this.animation,K=vt.numFrames,I=vt.frames,bt=vt.numPlays,(P=function(){var Vt,Ft;if(Vt=j++%K,Ft=I[Vt],Lt.renderFrame(S,Vt),K>1&&j/K<bt)return Lt.animation._timeout=setTimeout(P,Ft.delay)})()},w.prototype.stopAnimation=function(){var S;return clearTimeout((S=this.animation)!=null?S._timeout:void 0)},w.prototype.render=function(S){var P,j;return S._png&&S._png.stopAnimation(),S._png=this,S.width=this.width,S.height=this.height,P=S.getContext("2d"),this.animation?(this.decodeFrames(P),this.animate(P)):(j=P.createImageData(this.width,this.height),this.copyToImageData(j,this.decodePixels()),P.putImageData(j,0,0))},w}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Xt(k){var g=0;if(k[g++]!==71||k[g++]!==73||k[g++]!==70||k[g++]!==56||(k[g++]+1&253)!=56||k[g++]!==97)throw new Error("Invalid GIF 87a/89a header.");var y=k[g++]|k[g++]<<8,w=k[g++]|k[g++]<<8,T=k[g++],S=T>>7,P=1<<(7&T)+1;k[g++],k[g++];var j=null,I=null;S&&(j=g,I=P,g+=3*P);var K=!0,bt=[],vt=0,Lt=null,G=0,Vt=null;for(this.width=y,this.height=w;K&&g<k.length;)switch(k[g++]){case 33:switch(k[g++]){case 255:if(k[g]!==11||k[g+1]==78&&k[g+2]==69&&k[g+3]==84&&k[g+4]==83&&k[g+5]==67&&k[g+6]==65&&k[g+7]==80&&k[g+8]==69&&k[g+9]==50&&k[g+10]==46&&k[g+11]==48&&k[g+12]==3&&k[g+13]==1&&k[g+16]==0)g+=14,Vt=k[g++]|k[g++]<<8,g++;else for(g+=12;;){if(!((ie=k[g++])>=0))throw Error("Invalid block size");if(ie===0)break;g+=ie}break;case 249:if(k[g++]!==4||k[g+4]!==0)throw new Error("Invalid graphics extension block.");var Ft=k[g++];vt=k[g++]|k[g++]<<8,Lt=k[g++],(1&Ft)==0&&(Lt=null),G=Ft>>2&7,g++;break;case 254:for(;;){if(!((ie=k[g++])>=0))throw Error("Invalid block size");if(ie===0)break;g+=ie}break;default:throw new Error("Unknown graphic control label: 0x"+k[g-1].toString(16))}break;case 44:var $t=k[g++]|k[g++]<<8,Nt=k[g++]|k[g++]<<8,gt=k[g++]|k[g++]<<8,Ae=k[g++]|k[g++]<<8,Be=k[g++],Qe=Be>>6&1,fr=1<<(7&Be)+1,Ye=j,mr=I,he=!1;Be>>7&&(he=!0,Ye=g,mr=fr,g+=3*fr);var Ve=g;for(g++;;){var ie;if(!((ie=k[g++])>=0))throw Error("Invalid block size");if(ie===0)break;g+=ie}bt.push({x:$t,y:Nt,width:gt,height:Ae,has_local_palette:he,palette_offset:Ye,palette_size:mr,data_offset:Ve,data_length:g-Ve,transparent_index:Lt,interlaced:!!Qe,delay:vt,disposal:G});break;case 59:K=!1;break;default:throw new Error("Unknown gif block: 0x"+k[g-1].toString(16))}this.numFrames=function(){return bt.length},this.loopCount=function(){return Vt},this.frameInfo=function(Bt){if(Bt<0||Bt>=bt.length)throw new Error("Frame index out of range.");return bt[Bt]},this.decodeAndBlitFrameBGRA=function(Bt,ue){var le=this.frameInfo(Bt),$e=le.width*le.height,Ke=new Uint8Array($e);ve(k,le.data_offset,Ke,$e);var gr=le.palette_offset,Re=le.transparent_index;Re===null&&(Re=256);var _r=le.width,tr=y-_r,Tr=_r,ee=4*(le.y*y+le.x),wt=4*((le.y+le.height)*y+le.x),Qt=ee,me=4*tr;le.interlaced===!0&&(me+=4*y*7);for(var Oe=8,Ie=0,ar=Ke.length;Ie<ar;++Ie){var We=Ke[Ie];if(Tr===0&&(Tr=_r,(Qt+=me)>=wt&&(me=4*tr+4*y*(Oe-1),Qt=ee+(_r+tr)*(Oe<<1),Oe>>=1)),We===Re)Qt+=4;else{var Xe=k[gr+3*We],vr=k[gr+3*We+1],Wr=k[gr+3*We+2];ue[Qt++]=Wr,ue[Qt++]=vr,ue[Qt++]=Xe,ue[Qt++]=255}--Tr}},this.decodeAndBlitFrameRGBA=function(Bt,ue){var le=this.frameInfo(Bt),$e=le.width*le.height,Ke=new Uint8Array($e);ve(k,le.data_offset,Ke,$e);var gr=le.palette_offset,Re=le.transparent_index;Re===null&&(Re=256);var _r=le.width,tr=y-_r,Tr=_r,ee=4*(le.y*y+le.x),wt=4*((le.y+le.height)*y+le.x),Qt=ee,me=4*tr;le.interlaced===!0&&(me+=4*y*7);for(var Oe=8,Ie=0,ar=Ke.length;Ie<ar;++Ie){var We=Ke[Ie];if(Tr===0&&(Tr=_r,(Qt+=me)>=wt&&(me=4*tr+4*y*(Oe-1),Qt=ee+(_r+tr)*(Oe<<1),Oe>>=1)),We===Re)Qt+=4;else{var Xe=k[gr+3*We],vr=k[gr+3*We+1],Wr=k[gr+3*We+2];ue[Qt++]=Xe,ue[Qt++]=vr,ue[Qt++]=Wr,ue[Qt++]=255}--Tr}}}function ve(k,g,y,w){for(var T=k[g++],S=1<<T,P=S+1,j=P+1,I=T+1,K=(1<<I)-1,bt=0,vt=0,Lt=0,G=k[g++],Vt=new Int32Array(4096),Ft=null;;){for(;bt<16&&G!==0;)vt|=k[g++]<<bt,bt+=8,G===1?G=k[g++]:--G;if(bt<I)break;var $t=vt&K;if(vt>>=I,bt-=I,$t!==S){if($t===P)break;for(var Nt=$t<j?$t:Ft,gt=0,Ae=Nt;Ae>S;)Ae=Vt[Ae]>>8,++gt;var Be=Ae;if(Lt+gt+(Nt!==$t?1:0)>w)return void Q.log("Warning, gif stream longer than expected.");y[Lt++]=Be;var Qe=Lt+=gt;for(Nt!==$t&&(y[Lt++]=Be),Ae=Nt;gt--;)Ae=Vt[Ae],y[--Qe]=255&Ae,Ae>>=8;Ft!==null&&j<4096&&(Vt[j++]=Ft<<8|Be,j>=K+1&&I<12&&(++I,K=K<<1|1)),Ft=$t}else j=P+1,K=(1<<(I=T+1))-1,Ft=null}return Lt!==w&&Q.log("Warning, gif stream shorter than expected."),y}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function Ne(k){var g,y,w,T,S,P=Math.floor,j=new Array(64),I=new Array(64),K=new Array(64),bt=new Array(64),vt=new Array(65535),Lt=new Array(65535),G=new Array(64),Vt=new Array(64),Ft=[],$t=0,Nt=7,gt=new Array(64),Ae=new Array(64),Be=new Array(64),Qe=new Array(256),fr=new Array(2048),Ye=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],mr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],he=[0,1,2,3,4,5,6,7,8,9,10,11],Ve=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],ie=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Bt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],ue=[0,1,2,3,4,5,6,7,8,9,10,11],le=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],$e=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function Ke(ee,wt){for(var Qt=0,me=0,Oe=new Array,Ie=1;Ie<=16;Ie++){for(var ar=1;ar<=ee[Ie];ar++)Oe[wt[me]]=[],Oe[wt[me]][0]=Qt,Oe[wt[me]][1]=Ie,me++,Qt++;Qt*=2}return Oe}function gr(ee){for(var wt=ee[0],Qt=ee[1]-1;Qt>=0;)wt&1<<Qt&&($t|=1<<Nt),Qt--,--Nt<0&&($t==255?(Re(255),Re(0)):Re($t),Nt=7,$t=0)}function Re(ee){Ft.push(ee)}function _r(ee){Re(ee>>8&255),Re(255&ee)}function tr(ee,wt,Qt,me,Oe){for(var Ie,ar=Oe[0],We=Oe[240],Xe=function(ir,Ir){var Or,zr,Hr,Vr,In,en,On,Gn,Zr,fn,Nr=0;for(Zr=0;Zr<8;++Zr){Or=ir[Nr],zr=ir[Nr+1],Hr=ir[Nr+2],Vr=ir[Nr+3],In=ir[Nr+4],en=ir[Nr+5],On=ir[Nr+6];var Bi=Or+(Gn=ir[Nr+7]),Vn=Or-Gn,Ci=zr+On,yn=zr-On,gi=Hr+en,ba=Hr-en,Bn=Vr+In,Ka=Vr-In,li=Bi+Bn,mi=Bi-Bn,na=Ci+gi,Qn=Ci-gi;ir[Nr]=li+na,ir[Nr+4]=li-na;var hn=.707106781*(Qn+mi);ir[Nr+2]=mi+hn,ir[Nr+6]=mi-hn;var Un=.382683433*((li=Ka+ba)-(Qn=yn+Vn)),eo=.5411961*li+Un,ji=1.306562965*Qn+Un,Za=.707106781*(na=ba+yn),Ja=Vn+Za,nn=Vn-Za;ir[Nr+5]=nn+eo,ir[Nr+3]=nn-eo,ir[Nr+1]=Ja+ji,ir[Nr+7]=Ja-ji,Nr+=8}for(Nr=0,Zr=0;Zr<8;++Zr){Or=ir[Nr],zr=ir[Nr+8],Hr=ir[Nr+16],Vr=ir[Nr+24],In=ir[Nr+32],en=ir[Nr+40],On=ir[Nr+48];var Zi=Or+(Gn=ir[Nr+56]),_a=Or-Gn,fs=zr+On,ii=zr-On,Ai=Hr+en,ai=Hr-en,$a=Vr+In,Is=Vr-In,Na=Zi+$a,Qa=Zi-$a,zi=fs+Ai,vi=fs-Ai;ir[Nr]=Na+zi,ir[Nr+32]=Na-zi;var ia=.707106781*(vi+Qa);ir[Nr+16]=Qa+ia,ir[Nr+48]=Qa-ia;var ro=.382683433*((Na=Is+ai)-(vi=ii+_a)),ts=.5411961*Na+ro,no=1.306562965*vi+ro,Oo=.707106781*(zi=ai+ii),Po=_a+Oo,ds=_a-Oo;ir[Nr+40]=ds+ts,ir[Nr+24]=ds-ts,ir[Nr+8]=Po+no,ir[Nr+56]=Po-no,Nr++}for(Zr=0;Zr<64;++Zr)fn=ir[Zr]*Ir[Zr],G[Zr]=fn>0?fn+.5|0:fn-.5|0;return G}(ee,wt),vr=0;vr<64;++vr)Vt[Ye[vr]]=Xe[vr];var Wr=Vt[0]-Qt;Qt=Vt[0],Wr==0?gr(me[0]):(gr(me[Lt[Ie=32767+Wr]]),gr(vt[Ie]));for(var Pr=63;Pr>0&&Vt[Pr]==0;)Pr--;if(Pr==0)return gr(ar),Qt;for(var rn,Xr=1;Xr<=Pr;){for(var qt=Xr;Vt[Xr]==0&&Xr<=Pr;)++Xr;var sr=Xr-qt;if(sr>=16){rn=sr>>4;for(var Fr=1;Fr<=rn;++Fr)gr(We);sr&=15}Ie=32767+Vt[Xr],gr(Oe[(sr<<4)+Lt[Ie]]),gr(vt[Ie]),Xr++}return Pr!=63&&gr(ar),Qt}function Tr(ee){ee=Math.min(Math.max(ee,1),100),S!=ee&&(function(wt){for(var Qt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],me=0;me<64;me++){var Oe=P((Qt[me]*wt+50)/100);Oe=Math.min(Math.max(Oe,1),255),j[Ye[me]]=Oe}for(var Ie=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],ar=0;ar<64;ar++){var We=P((Ie[ar]*wt+50)/100);We=Math.min(Math.max(We,1),255),I[Ye[ar]]=We}for(var Xe=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],vr=0,Wr=0;Wr<8;Wr++)for(var Pr=0;Pr<8;Pr++)K[vr]=1/(j[Ye[vr]]*Xe[Wr]*Xe[Pr]*8),bt[vr]=1/(I[Ye[vr]]*Xe[Wr]*Xe[Pr]*8),vr++}(ee<50?Math.floor(5e3/ee):Math.floor(200-2*ee)),S=ee)}this.encode=function(ee,wt){wt&&Tr(wt),Ft=new Array,$t=0,Nt=7,_r(65496),_r(65504),_r(16),Re(74),Re(70),Re(73),Re(70),Re(0),Re(1),Re(1),Re(0),_r(1),_r(1),Re(0),Re(0),function(){_r(65499),_r(132),Re(0);for(var zr=0;zr<64;zr++)Re(j[zr]);Re(1);for(var Hr=0;Hr<64;Hr++)Re(I[Hr])}(),function(zr,Hr){_r(65472),_r(17),Re(8),_r(Hr),_r(zr),Re(3),Re(1),Re(17),Re(0),Re(2),Re(17),Re(1),Re(3),Re(17),Re(1)}(ee.width,ee.height),function(){_r(65476),_r(418),Re(0);for(var zr=0;zr<16;zr++)Re(mr[zr+1]);for(var Hr=0;Hr<=11;Hr++)Re(he[Hr]);Re(16);for(var Vr=0;Vr<16;Vr++)Re(Ve[Vr+1]);for(var In=0;In<=161;In++)Re(ie[In]);Re(1);for(var en=0;en<16;en++)Re(Bt[en+1]);for(var On=0;On<=11;On++)Re(ue[On]);Re(17);for(var Gn=0;Gn<16;Gn++)Re(le[Gn+1]);for(var Zr=0;Zr<=161;Zr++)Re($e[Zr])}(),_r(65498),_r(12),Re(3),Re(1),Re(0),Re(2),Re(17),Re(3),Re(17),Re(0),Re(63),Re(0);var Qt=0,me=0,Oe=0;$t=0,Nt=7,this.encode.displayName="_encode_";for(var Ie,ar,We,Xe,vr,Wr,Pr,rn,Xr,qt=ee.data,sr=ee.width,Fr=ee.height,ir=4*sr,Ir=0;Ir<Fr;){for(Ie=0;Ie<ir;){for(vr=ir*Ir+Ie,Pr=-1,rn=0,Xr=0;Xr<64;Xr++)Wr=vr+(rn=Xr>>3)*ir+(Pr=4*(7&Xr)),Ir+rn>=Fr&&(Wr-=ir*(Ir+1+rn-Fr)),Ie+Pr>=ir&&(Wr-=Ie+Pr-ir+4),ar=qt[Wr++],We=qt[Wr++],Xe=qt[Wr++],gt[Xr]=(fr[ar]+fr[We+256>>0]+fr[Xe+512>>0]>>16)-128,Ae[Xr]=(fr[ar+768>>0]+fr[We+1024>>0]+fr[Xe+1280>>0]>>16)-128,Be[Xr]=(fr[ar+1280>>0]+fr[We+1536>>0]+fr[Xe+1792>>0]>>16)-128;Qt=tr(gt,K,Qt,g,w),me=tr(Ae,bt,me,y,T),Oe=tr(Be,bt,Oe,y,T),Ie+=32}Ir+=8}if(Nt>=0){var Or=[];Or[1]=Nt+1,Or[0]=(1<<Nt+1)-1,gr(Or)}return _r(65497),new Uint8Array(Ft)},k=k||50,function(){for(var ee=String.fromCharCode,wt=0;wt<256;wt++)Qe[wt]=ee(wt)}(),g=Ke(mr,he),y=Ke(Bt,ue),w=Ke(Ve,ie),T=Ke(le,$e),function(){for(var ee=1,wt=2,Qt=1;Qt<=15;Qt++){for(var me=ee;me<wt;me++)Lt[32767+me]=Qt,vt[32767+me]=[],vt[32767+me][1]=Qt,vt[32767+me][0]=me;for(var Oe=-(wt-1);Oe<=-ee;Oe++)Lt[32767+Oe]=Qt,vt[32767+Oe]=[],vt[32767+Oe][1]=Qt,vt[32767+Oe][0]=wt-1+Oe;ee<<=1,wt<<=1}}(),function(){for(var ee=0;ee<256;ee++)fr[ee]=19595*ee,fr[ee+256>>0]=38470*ee,fr[ee+512>>0]=7471*ee+32768,fr[ee+768>>0]=-11059*ee,fr[ee+1024>>0]=-21709*ee,fr[ee+1280>>0]=32768*ee+8421375,fr[ee+1536>>0]=-27439*ee,fr[ee+1792>>0]=-5329*ee}(),Tr(k)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function ne(k,g){if(this.pos=0,this.buffer=k,this.datav=new DataView(k.buffer),this.is_with_alpha=!!g,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function je(k){function g(mr){if(!mr)throw Error("assert :P")}function y(mr,he,Ve){for(var ie=0;4>ie;ie++)if(mr[he+ie]!=Ve.charCodeAt(ie))return!0;return!1}function w(mr,he,Ve,ie,Bt){for(var ue=0;ue<Bt;ue++)mr[he+ue]=Ve[ie+ue]}function T(mr,he,Ve,ie){for(var Bt=0;Bt<ie;Bt++)mr[he+Bt]=Ve}function S(mr){return new Int32Array(mr)}function P(mr,he){for(var Ve=[],ie=0;ie<mr;ie++)Ve.push(new he);return Ve}function j(mr,he){var Ve=[];return function ie(Bt,ue,le){for(var $e=le[ue],Ke=0;Ke<$e&&(Bt.push(le.length>ue+1?[]:new he),!(le.length<ue+1));Ke++)ie(Bt[Ke],ue+1,le)}(Ve,0,mr),Ve}var I=function(){var he=this;function Ve(d,m){for(var E=1<<m-1>>>0;d&E;)E>>>=1;return E?(d&E-1)+E:d}function ie(d,m,E,W,ot){g(!(W%E));do d[m+(W-=E)]=ot;while(0<W)}function Bt(d,m,E,W,ot){if(g(2328>=ot),512>=ot)var ct=S(512);else if((ct=S(ot))==null)return 0;return function(ft,yt,St,It,fe,ke){var Pe,Ce,ur=yt,qe=1<<St,de=S(16),ye=S(16);for(g(fe!=0),g(It!=null),g(ft!=null),g(0<St),Ce=0;Ce<fe;++Ce){if(15<It[Ce])return 0;++de[It[Ce]]}if(de[0]==fe)return 0;for(ye[1]=0,Pe=1;15>Pe;++Pe){if(de[Pe]>1<<Pe)return 0;ye[Pe+1]=ye[Pe]+de[Pe]}for(Ce=0;Ce<fe;++Ce)Pe=It[Ce],0<It[Ce]&&(ke[ye[Pe]++]=Ce);if(ye[15]==1)return(It=new ue).g=0,It.value=ke[0],ie(ft,ur,1,qe,It),qe;var or,hr=-1,lr=qe-1,Rr=0,Lr=1,Jr=1,kr=1<<St;for(Ce=0,Pe=1,fe=2;Pe<=St;++Pe,fe<<=1){if(Lr+=Jr<<=1,0>(Jr-=de[Pe]))return 0;for(;0<de[Pe];--de[Pe])(It=new ue).g=Pe,It.value=ke[Ce++],ie(ft,ur+Rr,fe,kr,It),Rr=Ve(Rr,Pe)}for(Pe=St+1,fe=2;15>=Pe;++Pe,fe<<=1){if(Lr+=Jr<<=1,0>(Jr-=de[Pe]))return 0;for(;0<de[Pe];--de[Pe]){if(It=new ue,(Rr&lr)!=hr){for(ur+=kr,or=1<<(hr=Pe)-St;15>hr&&!(0>=(or-=de[hr]));)++hr,or<<=1;qe+=kr=1<<(or=hr-St),ft[yt+(hr=Rr&lr)].g=or+St,ft[yt+hr].value=ur-yt-hr}It.g=Pe-St,It.value=ke[Ce++],ie(ft,ur+(Rr>>St),fe,kr,It),Rr=Ve(Rr,Pe)}}return Lr!=2*ye[15]-1?0:qe}(d,m,E,W,ot,ct)}function ue(){this.value=this.g=0}function le(){this.value=this.g=0}function $e(){this.G=P(5,ue),this.H=S(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=P(Ui,le)}function Ke(d,m,E,W){g(d!=null),g(m!=null),g(2147483648>W),d.Ca=254,d.I=0,d.b=-8,d.Ka=0,d.oa=m,d.pa=E,d.Jd=m,d.Yc=E+W,d.Zc=4<=W?E+W-4+1:E,ar(d)}function gr(d,m){for(var E=0;0<m--;)E|=Xe(d,128)<<m;return E}function Re(d,m){var E=gr(d,m);return We(d)?-E:E}function _r(d,m,E,W){var ot,ct=0;for(g(d!=null),g(m!=null),g(4294967288>W),d.Sb=W,d.Ra=0,d.u=0,d.h=0,4<W&&(W=4),ot=0;ot<W;++ot)ct+=m[E+ot]<<8*ot;d.Ra=ct,d.bb=W,d.oa=m,d.pa=E}function tr(d){for(;8<=d.u&&d.bb<d.Sb;)d.Ra>>>=8,d.Ra+=d.oa[d.pa+d.bb]<<Mi-8>>>0,++d.bb,d.u-=8;me(d)&&(d.h=1,d.u=0)}function Tr(d,m){if(g(0<=m),!d.h&&m<=as){var E=Qt(d)&zs[m];return d.u+=m,tr(d),E}return d.h=1,d.u=0}function ee(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function wt(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Qt(d){return d.Ra>>>(d.u&Mi-1)>>>0}function me(d){return g(d.bb<=d.Sb),d.h||d.bb==d.Sb&&d.u>Mi}function Oe(d,m){d.u=m,d.h=me(d)}function Ie(d){d.u>=Gi&&(g(d.u>=Gi),tr(d))}function ar(d){g(d!=null&&d.oa!=null),d.pa<d.Zc?(d.I=(d.oa[d.pa++]|d.I<<8)>>>0,d.b+=8):(g(d!=null&&d.oa!=null),d.pa<d.Yc?(d.b+=8,d.I=d.oa[d.pa++]|d.I<<8):d.Ka?d.b=0:(d.I<<=8,d.b+=8,d.Ka=1))}function We(d){return gr(d,1)}function Xe(d,m){var E=d.Ca;0>d.b&&ar(d);var W=d.b,ot=E*m>>>8,ct=(d.I>>>W>ot)+0;for(ct?(E-=ot,d.I-=ot+1<<W>>>0):E=ot+1,W=E,ot=0;256<=W;)ot+=8,W>>=8;return W=7^ot+Wl[W],d.b-=W,d.Ca=(E<<W)-1,ct}function vr(d,m,E){d[m+0]=E>>24&255,d[m+1]=E>>16&255,d[m+2]=E>>8&255,d[m+3]=E>>0&255}function Wr(d,m){return d[m+0]<<0|d[m+1]<<8}function Pr(d,m){return Wr(d,m)|d[m+2]<<16}function rn(d,m){return Wr(d,m)|Wr(d,m+2)<<16}function Xr(d,m){var E=1<<m;return g(d!=null),g(0<m),d.X=S(E),d.X==null?0:(d.Mb=32-m,d.Xa=m,1)}function qt(d,m){g(d!=null),g(m!=null),g(d.Xa==m.Xa),w(m.X,0,d.X,0,1<<m.Xa)}function sr(){this.X=[],this.Xa=this.Mb=0}function Fr(d,m,E,W){g(E!=null),g(W!=null);var ot=E[0],ct=W[0];return ot==0&&(ot=(d*ct+m/2)/m),ct==0&&(ct=(m*ot+d/2)/d),0>=ot||0>=ct?0:(E[0]=ot,W[0]=ct,1)}function ir(d,m){return d+(1<<m)-1>>>m}function Ir(d,m){return((4278255360&d)+(4278255360&m)>>>0&4278255360)+((16711935&d)+(16711935&m)>>>0&16711935)>>>0}function Or(d,m){he[m]=function(E,W,ot,ct,ft,yt,St){var It;for(It=0;It<ft;++It){var fe=he[d](yt[St+It-1],ot,ct+It);yt[St+It]=Ir(E[W+It],fe)}}}function zr(){this.ud=this.hd=this.jd=0}function Hr(d,m){return((4278124286&(d^m))>>>1)+(d&m)>>>0}function Vr(d){return 0<=d&&256>d?d:0>d?0:255<d?255:void 0}function In(d,m){return Vr(d+(d-m+.5>>1))}function en(d,m,E){return Math.abs(m-E)-Math.abs(d-E)}function On(d,m,E,W,ot,ct,ft){for(W=ct[ft-1],E=0;E<ot;++E)ct[ft+E]=W=Ir(d[m+E],W)}function Gn(d,m,E,W,ot){var ct;for(ct=0;ct<E;++ct){var ft=d[m+ct],yt=ft>>8&255,St=16711935&(St=(St=16711935&ft)+((yt<<16)+yt));W[ot+ct]=(4278255360&ft)+St>>>0}}function Zr(d,m){m.jd=d>>0&255,m.hd=d>>8&255,m.ud=d>>16&255}function fn(d,m,E,W,ot,ct){var ft;for(ft=0;ft<W;++ft){var yt=m[E+ft],St=yt>>>8,It=yt,fe=255&(fe=(fe=yt>>>16)+((d.jd<<24>>24)*(St<<24>>24)>>>5));It=255&(It=(It=It+((d.hd<<24>>24)*(St<<24>>24)>>>5))+((d.ud<<24>>24)*(fe<<24>>24)>>>5)),ot[ct+ft]=(4278255360&yt)+(fe<<16)+It}}function Nr(d,m,E,W,ot){he[m]=function(ct,ft,yt,St,It,fe,ke,Pe,Ce){for(St=ke;St<Pe;++St)for(ke=0;ke<Ce;++ke)It[fe++]=ot(yt[W(ct[ft++])])},he[d]=function(ct,ft,yt,St,It,fe,ke){var Pe=8>>ct.b,Ce=ct.Ea,ur=ct.K[0],qe=ct.w;if(8>Pe)for(ct=(1<<ct.b)-1,qe=(1<<Pe)-1;ft<yt;++ft){var de,ye=0;for(de=0;de<Ce;++de)de&ct||(ye=W(St[It++])),fe[ke++]=ot(ur[ye&qe]),ye>>=Pe}else he["VP8LMapColor"+E](St,It,ur,qe,fe,ke,ft,yt,Ce)}}function Bi(d,m,E,W,ot){for(E=m+E;m<E;){var ct=d[m++];W[ot++]=ct>>16&255,W[ot++]=ct>>8&255,W[ot++]=ct>>0&255}}function Vn(d,m,E,W,ot){for(E=m+E;m<E;){var ct=d[m++];W[ot++]=ct>>16&255,W[ot++]=ct>>8&255,W[ot++]=ct>>0&255,W[ot++]=ct>>24&255}}function Ci(d,m,E,W,ot){for(E=m+E;m<E;){var ct=(ft=d[m++])>>16&240|ft>>12&15,ft=ft>>0&240|ft>>28&15;W[ot++]=ct,W[ot++]=ft}}function yn(d,m,E,W,ot){for(E=m+E;m<E;){var ct=(ft=d[m++])>>16&248|ft>>13&7,ft=ft>>5&224|ft>>3&31;W[ot++]=ct,W[ot++]=ft}}function gi(d,m,E,W,ot){for(E=m+E;m<E;){var ct=d[m++];W[ot++]=ct>>0&255,W[ot++]=ct>>8&255,W[ot++]=ct>>16&255}}function ba(d,m,E,W,ot,ct){if(ct==0)for(E=m+E;m<E;)vr(W,((ct=d[m++])[0]>>24|ct[1]>>8&65280|ct[2]<<8&16711680|ct[3]<<24)>>>0),ot+=32;else w(W,ot,d,m,E)}function Bn(d,m){he[m][0]=he[d+"0"],he[m][1]=he[d+"1"],he[m][2]=he[d+"2"],he[m][3]=he[d+"3"],he[m][4]=he[d+"4"],he[m][5]=he[d+"5"],he[m][6]=he[d+"6"],he[m][7]=he[d+"7"],he[m][8]=he[d+"8"],he[m][9]=he[d+"9"],he[m][10]=he[d+"10"],he[m][11]=he[d+"11"],he[m][12]=he[d+"12"],he[m][13]=he[d+"13"],he[m][14]=he[d+"0"],he[m][15]=he[d+"0"]}function Ka(d){return d==xu||d==ml||d==gn||d==Su}function li(){this.eb=[],this.size=this.A=this.fb=0}function mi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function na(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new li,this.f.kb=new mi,this.sd=null}function Qn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function hn(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Un(d){return alert("todo:WebPSamplerProcessPlane"),d.T}function eo(d,m){var E=d.T,W=m.ba.f.RGBA,ot=W.eb,ct=W.fb+d.ka*W.A,ft=da[m.ba.S],yt=d.y,St=d.O,It=d.f,fe=d.N,ke=d.ea,Pe=d.W,Ce=m.cc,ur=m.dc,qe=m.Mc,de=m.Nc,ye=d.ka,or=d.ka+d.T,hr=d.U,lr=hr+1>>1;for(ye==0?ft(yt,St,null,null,It,fe,ke,Pe,It,fe,ke,Pe,ot,ct,null,null,hr):(ft(m.ec,m.fc,yt,St,Ce,ur,qe,de,It,fe,ke,Pe,ot,ct-W.A,ot,ct,hr),++E);ye+2<or;ye+=2)Ce=It,ur=fe,qe=ke,de=Pe,fe+=d.Rc,Pe+=d.Rc,ct+=2*W.A,ft(yt,(St+=2*d.fa)-d.fa,yt,St,Ce,ur,qe,de,It,fe,ke,Pe,ot,ct-W.A,ot,ct,hr);return St+=d.fa,d.j+or<d.o?(w(m.ec,m.fc,yt,St,hr),w(m.cc,m.dc,It,fe,lr),w(m.Mc,m.Nc,ke,Pe,lr),E--):1&or||ft(yt,St,null,null,It,fe,ke,Pe,It,fe,ke,Pe,ot,ct+W.A,null,null,hr),E}function ji(d,m,E){var W=d.F,ot=[d.J];if(W!=null){var ct=d.U,ft=m.ba.S,yt=ft==Ho||ft==gn;m=m.ba.f.RGBA;var St=[0],It=d.ka;St[0]=d.T,d.Kb&&(It==0?--St[0]:(--It,ot[0]-=d.width),d.j+d.ka+d.T==d.o&&(St[0]=d.o-d.j-It));var fe=m.eb;It=m.fb+It*m.A,d=ju(W,ot[0],d.width,ct,St,fe,It+(yt?0:3),m.A),g(E==St),d&&Ka(ft)&&Cs(fe,It,yt,ct,St,m.A)}return 0}function Za(d){var m=d.ma,E=m.ba.S,W=11>E,ot=E==Xl||E==Vl||E==Ho||E==Kl||E==12||Ka(E);if(m.memory=null,m.Ib=null,m.Jb=null,m.Nd=null,!pl(m.Oa,d,ot?11:12))return 0;if(ot&&Ka(E)&&qr(),d.da)alert("todo:use_scaling");else{if(W){if(m.Ib=Un,d.Kb){if(E=d.U+1>>1,m.memory=S(d.U+2*E),m.memory==null)return 0;m.ec=m.memory,m.fc=0,m.cc=m.ec,m.dc=m.fc+d.U,m.Mc=m.cc,m.Nc=m.dc+E,m.Ib=eo,qr()}}else alert("todo:EmitYUV");ot&&(m.Jb=ji,W&&yr())}if(W&&!Ku){for(d=0;256>d;++d)ru[d]=89858*(d-128)+bl>>eu,Ju[d]=-22014*(d-128)+bl,Zu[d]=-45773*(d-128),Yo[d]=113618*(d-128)+bl>>eu;for(d=Go;d<Wi;++d)m=76283*(d-16)+bl>>eu,Ch[d-Go]=$i(m,255),$u[d-Go]=$i(m+8>>4,15);Ku=1}return 1}function Ja(d){var m=d.ma,E=d.U,W=d.T;return g(!(1&d.ka)),0>=E||0>=W?0:(E=m.Ib(d,m),m.Jb!=null&&m.Jb(d,m,E),m.Dc+=E,1)}function nn(d){d.ma.memory=null}function Zi(d,m,E,W){return Tr(d,8)!=47?0:(m[0]=Tr(d,14)+1,E[0]=Tr(d,14)+1,W[0]=Tr(d,1),Tr(d,3)!=0?0:!d.h)}function _a(d,m){if(4>d)return d+1;var E=d-2>>1;return(2+(1&d)<<E)+Tr(m,E)+1}function fs(d,m){return 120<m?m-120:1<=(E=((E=Ta[m-1])>>4)*d+(8-(15&E)))?E:1;var E}function ii(d,m,E){var W=Qt(E),ot=d[m+=255&W].g-8;return 0<ot&&(Oe(E,E.u+8),W=Qt(E),m+=d[m].value,m+=W&(1<<ot)-1),Oe(E,E.u+d[m].g),d[m].value}function Ai(d,m,E){return E.g+=d.g,E.value+=d.value<<m>>>0,g(8>=E.g),d.g}function ai(d,m,E){var W=d.xc;return g((m=W==0?0:d.vc[d.md*(E>>W)+(m>>W)])<d.Wb),d.Ya[m]}function $a(d,m,E,W){var ot=d.ab,ct=d.c*m,ft=d.C;m=ft+m;var yt=E,St=W;for(W=d.Ta,E=d.Ua;0<ot--;){var It=d.gc[ot],fe=ft,ke=m,Pe=yt,Ce=St,ur=(St=W,yt=E,It.Ea);switch(g(fe<ke),g(ke<=It.nc),It.hc){case 2:Ei(Pe,Ce,(ke-fe)*ur,St,yt);break;case 0:var qe=fe,de=ke,ye=St,or=yt,hr=(kr=It).Ea;qe==0&&(jo(Pe,Ce,null,null,1,ye,or),On(Pe,Ce+1,0,0,hr-1,ye,or+1),Ce+=hr,or+=hr,++qe);for(var lr=1<<kr.b,Rr=lr-1,Lr=ir(hr,kr.b),Jr=kr.K,kr=kr.w+(qe>>kr.b)*Lr;qe<de;){var Er=Jr,jn=kr,Ln=1;for(fo(Pe,Ce,ye,or-hr,1,ye,or);Ln<hr;){var mn=(Ln&~Rr)+lr;mn>hr&&(mn=hr),(0,Ca[Er[jn++]>>8&15])(Pe,Ce+ +Ln,ye,or+Ln-hr,mn-Ln,ye,or+Ln),Ln=mn}Ce+=hr,or+=hr,++qe&Rr||(kr+=Lr)}ke!=It.nc&&w(St,yt-ur,St,yt+(ke-fe-1)*ur,ur);break;case 1:for(ur=Pe,de=Ce,hr=(Pe=It.Ea)-(or=Pe&~(ye=(Ce=1<<It.b)-1)),qe=ir(Pe,It.b),lr=It.K,It=It.w+(fe>>It.b)*qe;fe<ke;){for(Rr=lr,Lr=It,Jr=new zr,kr=de+or,Er=de+Pe;de<kr;)Zr(Rr[Lr++],Jr),Kn(Jr,ur,de,Ce,St,yt),de+=Ce,yt+=Ce;de<Er&&(Zr(Rr[Lr++],Jr),Kn(Jr,ur,de,hr,St,yt),de+=hr,yt+=hr),++fe&ye||(It+=qe)}break;case 3:if(Pe==St&&Ce==yt&&0<It.b){for(de=St,Pe=ur=yt+(ke-fe)*ur-(or=(ke-fe)*ir(It.Ea,It.b)),Ce=St,ye=yt,qe=[],or=(hr=or)-1;0<=or;--or)qe[or]=Ce[ye+or];for(or=hr-1;0<=or;--or)de[Pe+or]=qe[or];po(It,fe,ke,St,ur,St,yt)}else po(It,fe,ke,Pe,Ce,St,yt)}yt=W,St=E}St!=E&&w(W,E,yt,St,ct)}function Is(d,m){var E=d.V,W=d.Ba+d.c*d.C,ot=m-d.C;if(g(m<=d.l.o),g(16>=ot),0<ot){var ct=d.l,ft=d.Ta,yt=d.Ua,St=ct.width;if($a(d,ot,E,W),ot=yt=[yt],g((E=d.C)<(W=m)),g(ct.v<ct.va),W>ct.o&&(W=ct.o),E<ct.j){var It=ct.j-E;E=ct.j,ot[0]+=It*St}if(E>=W?E=0:(ot[0]+=4*ct.v,ct.ka=E-ct.j,ct.U=ct.va-ct.v,ct.T=W-E,E=1),E){if(yt=yt[0],11>(E=d.ca).S){var fe=E.f.RGBA,ke=(W=E.S,ot=ct.U,ct=ct.T,It=fe.eb,fe.A),Pe=ct;for(fe=fe.fb+d.Ma*fe.A;0<Pe--;){var Ce=ft,ur=yt,qe=ot,de=It,ye=fe;switch(W){case gl:_s(Ce,ur,qe,de,ye);break;case Xl:za(Ce,ur,qe,de,ye);break;case xu:za(Ce,ur,qe,de,ye),Cs(de,ye,0,qe,1,0);break;case wu:ta(Ce,ur,qe,de,ye);break;case Vl:ba(Ce,ur,qe,de,ye,1);break;case ml:ba(Ce,ur,qe,de,ye,1),Cs(de,ye,0,qe,1,0);break;case Ho:ba(Ce,ur,qe,de,ye,0);break;case gn:ba(Ce,ur,qe,de,ye,0),Cs(de,ye,1,qe,1,0);break;case Kl:Oi(Ce,ur,qe,de,ye);break;case Su:Oi(Ce,ur,qe,de,ye),Hl(de,ye,qe,1,0);break;case Zl:Us(Ce,ur,qe,de,ye);break;default:g(0)}yt+=St,fe+=ke}d.Ma+=ct}else alert("todo:EmitRescaledRowsYUVA");g(d.Ma<=E.height)}}d.C=m,g(d.C<=d.i)}function Na(d){var m;if(0<d.ua)return 0;for(m=0;m<d.Wb;++m){var E=d.Ya[m].G,W=d.Ya[m].H;if(0<E[1][W[1]+0].g||0<E[2][W[2]+0].g||0<E[3][W[3]+0].g)return 0}return 1}function Qa(d,m,E,W,ot,ct){if(d.Z!=0){var ft=d.qd,yt=d.rd;for(g(Xi[d.Z]!=null);m<E;++m)Xi[d.Z](ft,yt,W,ot,W,ot,ct),ft=W,yt=ot,ot+=ct;d.qd=ft,d.rd=yt}}function zi(d,m){var E=d.l.ma,W=E.Z==0||E.Z==1?d.l.j:d.C;if(W=d.C<W?W:d.C,g(m<=d.l.o),m>W){var ot=d.l.width,ct=E.ca,ft=E.tb+ot*W,yt=d.V,St=d.Ba+d.c*W,It=d.gc;g(d.ab==1),g(It[0].hc==3),zo(It[0],W,m,yt,St,ct,ft),Qa(E,W,m,ct,ft,ot)}d.C=d.Ma=m}function vi(d,m,E,W,ot,ct,ft){var yt=d.$/W,St=d.$%W,It=d.m,fe=d.s,ke=E+d.$,Pe=ke;ot=E+W*ot;var Ce=E+W*ct,ur=280+fe.ua,qe=d.Pb?yt:16777216,de=0<fe.ua?fe.Wa:null,ye=fe.wc,or=ke<Ce?ai(fe,St,yt):null;g(d.C<ct),g(Ce<=ot);var hr=!1;t:for(;;){for(;hr||ke<Ce;){var lr=0;if(yt>=qe){var Rr=ke-E;g((qe=d).Pb),qe.wd=qe.m,qe.xd=Rr,0<qe.s.ua&&qt(qe.s.Wa,qe.s.vb),qe=yt+Jl}if(St&ye||(or=ai(fe,St,yt)),g(or!=null),or.Qb&&(m[ke]=or.qb,hr=!0),!hr)if(Ie(It),or.jc){lr=It,Rr=m;var Lr=ke,Jr=or.pd[Qt(lr)&Ui-1];g(or.jc),256>Jr.g?(Oe(lr,lr.u+Jr.g),Rr[Lr]=Jr.value,lr=0):(Oe(lr,lr.u+Jr.g-256),g(256<=Jr.value),lr=Jr.value),lr==0&&(hr=!0)}else lr=ii(or.G[0],or.H[0],It);if(It.h)break;if(hr||256>lr){if(!hr)if(or.nd)m[ke]=(or.qb|lr<<8)>>>0;else{if(Ie(It),hr=ii(or.G[1],or.H[1],It),Ie(It),Rr=ii(or.G[2],or.H[2],It),Lr=ii(or.G[3],or.H[3],It),It.h)break;m[ke]=(Lr<<24|hr<<16|lr<<8|Rr)>>>0}if(hr=!1,++ke,++St>=W&&(St=0,++yt,ft!=null&&yt<=ct&&!(yt%16)&&ft(d,yt),de!=null))for(;Pe<ke;)lr=m[Pe++],de.X[(506832829*lr&4294967295)>>>de.Mb]=lr}else if(280>lr){if(lr=_a(lr-256,It),Rr=ii(or.G[4],or.H[4],It),Ie(It),Rr=fs(W,Rr=_a(Rr,It)),It.h)break;if(ke-E<Rr||ot-ke<lr)break t;for(Lr=0;Lr<lr;++Lr)m[ke+Lr]=m[ke+Lr-Rr];for(ke+=lr,St+=lr;St>=W;)St-=W,++yt,ft!=null&&yt<=ct&&!(yt%16)&&ft(d,yt);if(g(ke<=ot),St&ye&&(or=ai(fe,St,yt)),de!=null)for(;Pe<ke;)lr=m[Pe++],de.X[(506832829*lr&4294967295)>>>de.Mb]=lr}else{if(!(lr<ur))break t;for(hr=lr-280,g(de!=null);Pe<ke;)lr=m[Pe++],de.X[(506832829*lr&4294967295)>>>de.Mb]=lr;lr=ke,g(!(hr>>>(Rr=de).Xa)),m[lr]=Rr.X[hr],hr=!0}hr||g(It.h==me(It))}if(d.Pb&&It.h&&ke<ot)g(d.m.h),d.a=5,d.m=d.wd,d.$=d.xd,0<d.s.ua&&qt(d.s.vb,d.s.Wa);else{if(It.h)break t;ft!=null&&ft(d,yt>ct?ct:yt),d.a=0,d.$=ke-E}return 1}return d.a=3,0}function ia(d){g(d!=null),d.vc=null,d.yc=null,d.Ya=null;var m=d.Wa;m!=null&&(m.X=null),d.vb=null,g(d!=null)}function ro(){var d=new hl;return d==null?null:(d.a=0,d.xb=Hu,Bn("Predictor","VP8LPredictors"),Bn("Predictor","VP8LPredictors_C"),Bn("PredictorAdd","VP8LPredictorsAdd"),Bn("PredictorAdd","VP8LPredictorsAdd_C"),Ei=Gn,Kn=fn,_s=Bi,za=Vn,Oi=Ci,Us=yn,ta=gi,he.VP8LMapColor32b=vu,he.VP8LMapColor8b=go,d)}function ts(d,m,E,W,ot){var ct=1,ft=[d],yt=[m],St=W.m,It=W.s,fe=null,ke=0;t:for(;;){if(E)for(;ct&&Tr(St,1);){var Pe=ft,Ce=yt,ur=W,qe=1,de=ur.m,ye=ur.gc[ur.ab],or=Tr(de,2);if(ur.Oc&1<<or)ct=0;else{switch(ur.Oc|=1<<or,ye.hc=or,ye.Ea=Pe[0],ye.nc=Ce[0],ye.K=[null],++ur.ab,g(4>=ur.ab),or){case 0:case 1:ye.b=Tr(de,3)+2,qe=ts(ir(ye.Ea,ye.b),ir(ye.nc,ye.b),0,ur,ye.K),ye.K=ye.K[0];break;case 3:var hr,lr=Tr(de,8)+1,Rr=16<lr?0:4<lr?1:2<lr?2:3;if(Pe[0]=ir(ye.Ea,Rr),ye.b=Rr,hr=qe=ts(lr,1,0,ur,ye.K)){var Lr,Jr=lr,kr=ye,Er=1<<(8>>kr.b),jn=S(Er);if(jn==null)hr=0;else{var Ln=kr.K[0],mn=kr.w;for(jn[0]=kr.K[0][0],Lr=1;Lr<1*Jr;++Lr)jn[Lr]=Ir(Ln[mn+Lr],jn[Lr-1]);for(;Lr<4*Er;++Lr)jn[Lr]=0;kr.K[0]=null,kr.K[0]=jn,hr=1}}qe=hr;break;case 2:break;default:g(0)}ct=qe}}if(ft=ft[0],yt=yt[0],ct&&Tr(St,1)&&!(ct=1<=(ke=Tr(St,4))&&11>=ke)){W.a=3;break t}var Jn;if(Jn=ct)e:{var qn,dn,kn,ea=W,xi=ft,Vi=yt,Yn=ke,ra=E,pa=ea.m,Fi=ea.s,Ri=[null],fi=1,ei=0,Oa=xh[Yn];r:for(;;){if(ra&&Tr(pa,1)){var Ii=Tr(pa,3)+2,Ha=ir(xi,Ii),yo=ir(Vi,Ii),Xo=Ha*yo;if(!ts(Ha,yo,0,ea,Ri))break r;for(Ri=Ri[0],Fi.xc=Ii,qn=0;qn<Xo;++qn){var Pa=Ri[qn]>>8&65535;Ri[qn]=Pa,Pa>=fi&&(fi=Pa+1)}}if(pa.h)break r;for(dn=0;5>dn;++dn){var di=Cu[dn];!dn&&0<Yn&&(di+=1<<Yn),ei<di&&(ei=di)}var nu=P(fi*Oa,ue),th=fi,eh=P(th,$e);if(eh==null)var iu=null;else g(65536>=th),iu=eh;var _l=S(ei);if(iu==null||_l==null||nu==null){ea.a=1;break r}var wl=nu;for(qn=kn=0;qn<fi;++qn){var La=iu[qn],Vo=La.G,Vs=La.H,Lu=0,Ks=1,au=0;for(dn=0;5>dn;++dn){di=Cu[dn],Vo[dn]=wl,Vs[dn]=kn,!dn&&0<Yn&&(di+=1<<Yn);i:{var xl,su=di,bo=ea,Ko=_l,ls=wl,_o=kn,ku=0,Ts=bo.m,Th=Tr(Ts,1);if(T(Ko,0,0,su),Th){var Oh=Tr(Ts,1)+1,Ph=Tr(Ts,1),rh=Tr(Ts,Ph==0?1:8);Ko[rh]=1,Oh==2&&(Ko[rh=Tr(Ts,8)]=1);var ou=1}else{var nh=S(19),ih=Tr(Ts,4)+4;if(19<ih){bo.a=3;var lu=0;break i}for(xl=0;xl<ih;++xl)nh[wh[xl]]=Tr(Ts,3);var Eu=void 0,Sl=void 0,ah=bo,sh=nh,Cl=su,Fu=Ko,Iu=0,Zs=ah.m,oh=8,Nu=P(128,ue);n:for(;Bt(Nu,0,7,sh,19);){if(Tr(Zs,1)){var Lh=2+2*Tr(Zs,3);if((Eu=2+Tr(Zs,Lh))>Cl)break n}else Eu=Cl;for(Sl=0;Sl<Cl&&Eu--;){Ie(Zs);var lh=Nu[0+(127&Qt(Zs))];Oe(Zs,Zs.u+lh.g);var Zo=lh.value;if(16>Zo)Fu[Sl++]=Zo,Zo!=0&&(oh=Zo);else{var kh=Zo==16,uh=Zo-16,Eh=vl[uh],ga=Tr(Zs,bh[uh])+Eh;if(Sl+ga>Cl)break n;for(var Fh=kh?oh:0;0<ga--;)Fu[Sl++]=Fh}}Iu=1;break n}Iu||(ah.a=3),ou=Iu}(ou=ou&&!Ts.h)&&(ku=Bt(ls,_o,8,Ko,su)),ou&&ku!=0?lu=ku:(bo.a=3,lu=0)}if(lu==0)break r;if(Ks&&_h[dn]==1&&(Ks=wl[kn].g==0),Lu+=wl[kn].g,kn+=lu,3>=dn){var Al,Mu=_l[0];for(Al=1;Al<di;++Al)_l[Al]>Mu&&(Mu=_l[Al]);au+=Mu}}if(La.nd=Ks,La.Qb=0,Ks&&(La.qb=(Vo[3][Vs[3]+0].value<<24|Vo[1][Vs[1]+0].value<<16|Vo[2][Vs[2]+0].value)>>>0,Lu==0&&256>Vo[0][Vs[0]+0].value&&(La.Qb=1,La.qb+=Vo[0][Vs[0]+0].value<<8)),La.jc=!La.Qb&&6>au,La.jc){var Tl,Os=La;for(Tl=0;Tl<Ui;++Tl){var Js=Tl,$s=Os.pd[Js],uu=Os.G[0][Os.H[0]+Js];256<=uu.value?($s.g=uu.g+256,$s.value=uu.value):($s.g=0,$s.value=0,Js>>=Ai(uu,8,$s),Js>>=Ai(Os.G[1][Os.H[1]+Js],16,$s),Js>>=Ai(Os.G[2][Os.H[2]+Js],0,$s),Ai(Os.G[3][Os.H[3]+Js],24,$s))}}}Fi.vc=Ri,Fi.Wb=fi,Fi.Ya=iu,Fi.yc=nu,Jn=1;break e}Jn=0}if(!(ct=Jn)){W.a=3;break t}if(0<ke){if(It.ua=1<<ke,!Xr(It.Wa,ke)){W.a=1,ct=0;break t}}else It.ua=0;var Ol=W,hh=ft,Ih=yt,Du=Ol.s,Ru=Du.xc;if(Ol.c=hh,Ol.i=Ih,Du.md=ir(hh,Ru),Du.wc=Ru==0?-1:(1<<Ru)-1,E){W.xb=Ys;break t}if((fe=S(ft*yt))==null){W.a=1,ct=0;break t}ct=(ct=vi(W,fe,0,ft,yt,yt,null))&&!St.h;break t}return ct?(ot!=null?ot[0]=fe:(g(fe==null),g(E)),W.$=0,E||ia(It)):ia(It),ct}function no(d,m){var E=d.c*d.i,W=E+m+16*m;return g(d.c<=m),d.V=S(W),d.V==null?(d.Ta=null,d.Ua=0,d.a=1,0):(d.Ta=d.V,d.Ua=d.Ba+E+m,1)}function Oo(d,m){var E=d.C,W=m-E,ot=d.V,ct=d.Ba+d.c*E;for(g(m<=d.l.o);0<W;){var ft=16<W?16:W,yt=d.l.ma,St=d.l.width,It=St*ft,fe=yt.ca,ke=yt.tb+St*E,Pe=d.Ta,Ce=d.Ua;$a(d,ft,ot,ct),yu(Pe,Ce,fe,ke,It),Qa(yt,E,E+ft,fe,ke,St),W-=ft,ot+=ft*d.c,E+=ft}g(E==m),d.C=d.Ma=m}function Po(){this.ub=this.yd=this.td=this.Rb=0}function ds(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function xe(){this.Fb=this.Bb=this.Cb=0,this.Zb=S(4),this.Lb=S(4)}function Ze(){this.Yb=function(){var d=[];return function m(E,W,ot){for(var ct=ot[W],ft=0;ft<ct&&(E.push(ot.length>W+1?[]:0),!(ot.length<W+1));ft++)m(E[ft],W+1,ot)}(d,0,[3,11]),d}()}function ze(){this.jb=S(3),this.Wc=j([4,8],Ze),this.Xc=j([4,17],Ze)}function Ur(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new S(4),this.od=new S(4)}function an(){this.ld=this.La=this.dd=this.tc=0}function Nn(){this.Na=this.la=0}function ti(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pn(){this.ad=S(384),this.Za=0,this.Ob=S(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function rl(){this.uc=this.M=this.Nb=0,this.wa=Array(new an),this.Y=0,this.ya=Array(new Pn),this.aa=0,this.l=new io}function kl(){this.y=S(16),this.f=S(8),this.ea=S(8)}function Ji(){this.cb=this.a=0,this.sc="",this.m=new ee,this.Od=new Po,this.Kc=new ds,this.ed=new Ur,this.Qa=new xe,this.Ic=this.$c=this.Aa=0,this.D=new rl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=P(8,ee),this.ia=0,this.pb=P(4,ti),this.Pa=new ze,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new kl),this.Hd=0,this.rb=Array(new Nn),this.sb=0,this.wa=Array(new an),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pn),this.L=this.aa=0,this.gd=j([4,2],an),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $i(d,m){return 0>d?0:d>m?m:d}function io(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Ns(){var d=new Ji;return d!=null&&(d.a=0,d.sc="OK",d.cb=0,d.Xb=0,qo||(qo=fu)),d}function ui(d,m,E){return d.a==0&&(d.a=m,d.sc=E,d.cb=0),0}function Ms(d,m,E){return 3<=E&&d[m+0]==157&&d[m+1]==1&&d[m+2]==42}function Dn(d,m){if(d==null)return 0;if(d.a=0,d.sc="OK",m==null)return ui(d,2,"null VP8Io passed to VP8GetHeaders()");var E=m.data,W=m.w,ot=m.ha;if(4>ot)return ui(d,7,"Truncated header.");var ct=E[W+0]|E[W+1]<<8|E[W+2]<<16,ft=d.Od;if(ft.Rb=!(1&ct),ft.td=ct>>1&7,ft.yd=ct>>4&1,ft.ub=ct>>5,3<ft.td)return ui(d,3,"Incorrect keyframe parameters.");if(!ft.yd)return ui(d,4,"Frame not displayable.");W+=3,ot-=3;var yt=d.Kc;if(ft.Rb){if(7>ot)return ui(d,7,"cannot parse picture header");if(!Ms(E,W,ot))return ui(d,3,"Bad code word");yt.c=16383&(E[W+4]<<8|E[W+3]),yt.Td=E[W+4]>>6,yt.i=16383&(E[W+6]<<8|E[W+5]),yt.Ud=E[W+6]>>6,W+=7,ot-=7,d.za=yt.c+15>>4,d.Ub=yt.i+15>>4,m.width=yt.c,m.height=yt.i,m.Da=0,m.j=0,m.v=0,m.va=m.width,m.o=m.height,m.da=0,m.ib=m.width,m.hb=m.height,m.U=m.width,m.T=m.height,T((ct=d.Pa).jb,0,255,ct.jb.length),g((ct=d.Qa)!=null),ct.Cb=0,ct.Bb=0,ct.Fb=1,T(ct.Zb,0,0,ct.Zb.length),T(ct.Lb,0,0,ct.Lb)}if(ft.ub>ot)return ui(d,7,"bad partition length");Ke(ct=d.m,E,W,ft.ub),W+=ft.ub,ot-=ft.ub,ft.Rb&&(yt.Ld=We(ct),yt.Kd=We(ct)),yt=d.Qa;var St,It=d.Pa;if(g(ct!=null),g(yt!=null),yt.Cb=We(ct),yt.Cb){if(yt.Bb=We(ct),We(ct)){for(yt.Fb=We(ct),St=0;4>St;++St)yt.Zb[St]=We(ct)?Re(ct,7):0;for(St=0;4>St;++St)yt.Lb[St]=We(ct)?Re(ct,6):0}if(yt.Bb)for(St=0;3>St;++St)It.jb[St]=We(ct)?gr(ct,8):255}else yt.Bb=0;if(ct.Ka)return ui(d,3,"cannot parse segment header");if((yt=d.ed).zd=We(ct),yt.Tb=gr(ct,6),yt.wb=gr(ct,3),yt.Pc=We(ct),yt.Pc&&We(ct)){for(It=0;4>It;++It)We(ct)&&(yt.vd[It]=Re(ct,6));for(It=0;4>It;++It)We(ct)&&(yt.od[It]=Re(ct,6))}if(d.L=yt.Tb==0?0:yt.zd?1:2,ct.Ka)return ui(d,3,"cannot parse filter header");var fe=ot;if(ot=St=W,W=St+fe,yt=fe,d.Xb=(1<<gr(d.m,2))-1,fe<3*(It=d.Xb))E=7;else{for(St+=3*It,yt-=3*It,fe=0;fe<It;++fe){var ke=E[ot+0]|E[ot+1]<<8|E[ot+2]<<16;ke>yt&&(ke=yt),Ke(d.Jc[+fe],E,St,ke),St+=ke,yt-=ke,ot+=3}Ke(d.Jc[+It],E,St,yt),E=St<W?0:5}if(E!=0)return ui(d,E,"cannot parse partitions");for(E=gr(St=d.m,7),ot=We(St)?Re(St,4):0,W=We(St)?Re(St,4):0,yt=We(St)?Re(St,4):0,It=We(St)?Re(St,4):0,St=We(St)?Re(St,4):0,fe=d.Qa,ke=0;4>ke;++ke){if(fe.Cb){var Pe=fe.Zb[ke];fe.Fb||(Pe+=E)}else{if(0<ke){d.pb[ke]=d.pb[0];continue}Pe=E}var Ce=d.pb[ke];Ce.Sc[0]=yl[$i(Pe+ot,127)],Ce.Sc[1]=$l[$i(Pe+0,127)],Ce.Eb[0]=2*yl[$i(Pe+W,127)],Ce.Eb[1]=101581*$l[$i(Pe+yt,127)]>>16,8>Ce.Eb[1]&&(Ce.Eb[1]=8),Ce.Qc[0]=yl[$i(Pe+It,117)],Ce.Qc[1]=$l[$i(Pe+St,127)],Ce.lc=Pe+St}if(!ft.Rb)return ui(d,4,"Not a key frame.");for(We(ct),ft=d.Pa,E=0;4>E;++E){for(ot=0;8>ot;++ot)for(W=0;3>W;++W)for(yt=0;11>yt;++yt)It=Xe(ct,Wu[E][ot][W][yt])?gr(ct,8):Uu[E][ot][W][yt],ft.Wc[E][ot].Yb[W][yt]=It;for(ot=0;17>ot;++ot)ft.Xc[E][ot]=ft.Wc[E][Au[ot]]}return d.kc=We(ct),d.kc&&(d.Bd=gr(ct,8)),d.cb=1}function fu(d,m,E,W,ot,ct,ft){var yt=m[ot].Yb[E];for(E=0;16>ot;++ot){if(!Xe(d,yt[E+0]))return ot;for(;!Xe(d,yt[E+1]);)if(yt=m[++ot].Yb[0],E=0,ot==16)return 16;var St=m[ot+1].Yb;if(Xe(d,yt[E+2])){var It=d,fe=0;if(Xe(It,(Pe=yt)[(ke=E)+3]))if(Xe(It,Pe[ke+6])){for(yt=0,ke=2*(fe=Xe(It,Pe[ke+8]))+(Pe=Xe(It,Pe[ke+9+fe])),fe=0,Pe=ca[ke];Pe[yt];++yt)fe+=fe+Xe(It,Pe[yt]);fe+=3+(8<<ke)}else Xe(It,Pe[ke+7])?(fe=7+2*Xe(It,165),fe+=Xe(It,145)):fe=5+Xe(It,159);else fe=Xe(It,Pe[ke+4])?3+Xe(It,Pe[ke+5]):2;yt=St[2]}else fe=1,yt=St[1];St=ft+Gs[ot],0>(It=d).b&&ar(It);var ke,Pe=It.b,Ce=(ke=It.Ca>>1)-(It.I>>Pe)>>31;--It.b,It.Ca+=Ce,It.Ca|=1,It.I-=(ke+1&Ce)<<Pe,ct[St]=((fe^Ce)-Ce)*W[(0<ot)+0]}return 16}function nl(d){var m=d.rb[d.sb-1];m.la=0,m.Na=0,T(d.zc,0,0,d.zc.length),d.ja=0}function Lo(d,m){if(d==null)return 0;if(m==null)return ui(d,2,"NULL VP8Io parameter in VP8Decode().");if(!d.cb&&!Dn(d,m))return 0;if(g(d.cb),m.ac==null||m.ac(m)){m.ob&&(d.L=0);var E=Xs[d.L];if(d.L==2?(d.yb=0,d.zb=0):(d.yb=m.v-E>>4,d.zb=m.j-E>>4,0>d.yb&&(d.yb=0),0>d.zb&&(d.zb=0)),d.Va=m.o+15+E>>4,d.Hb=m.va+15+E>>4,d.Hb>d.za&&(d.Hb=d.za),d.Va>d.Ub&&(d.Va=d.Ub),0<d.L){var W=d.ed;for(E=0;4>E;++E){var ot;if(d.Qa.Cb){var ct=d.Qa.Lb[E];d.Qa.Fb||(ct+=W.Tb)}else ct=W.Tb;for(ot=0;1>=ot;++ot){var ft=d.gd[E][ot],yt=ct;if(W.Pc&&(yt+=W.vd[0],ot&&(yt+=W.od[0])),0<(yt=0>yt?0:63<yt?63:yt)){var St=yt;0<W.wb&&(St=4<W.wb?St>>2:St>>1)>9-W.wb&&(St=9-W.wb),1>St&&(St=1),ft.dd=St,ft.tc=2*yt+St,ft.ld=40<=yt?2:15<=yt?1:0}else ft.tc=0;ft.La=ot}}}E=0}else ui(d,6,"Frame setup failed"),E=d.a;if(E=E==0){if(E){d.$c=0,0<d.Aa||(d.Ic=Qu);t:{E=d.Ic,W=4*(St=d.za);var It=32*St,fe=St+1,ke=0<d.L?St*(0<d.Aa?2:1):0,Pe=(d.Aa==2?2:1)*St;if((ft=W+832+(ot=3*(16*E+Xs[d.L])/2*It)+(ct=d.Fa!=null&&0<d.Fa.length?d.Kc.c*d.Kc.i:0))!=ft)E=0;else{if(ft>d.Vb){if(d.Vb=0,d.Ec=S(ft),d.Fc=0,d.Ec==null){E=ui(d,1,"no memory during frame initialization.");break t}d.Vb=ft}ft=d.Ec,yt=d.Fc,d.Ac=ft,d.Bc=yt,yt+=W,d.Gd=P(It,kl),d.Hd=0,d.rb=P(fe+1,Nn),d.sb=1,d.wa=ke?P(ke,an):null,d.Y=0,d.D.Nb=0,d.D.wa=d.wa,d.D.Y=d.Y,0<d.Aa&&(d.D.Y+=St),g(!0),d.oc=ft,d.pc=yt,yt+=832,d.ya=P(Pe,Pn),d.aa=0,d.D.ya=d.ya,d.D.aa=d.aa,d.Aa==2&&(d.D.aa+=St),d.R=16*St,d.B=8*St,St=(It=Xs[d.L])*d.R,It=It/2*d.B,d.sa=ft,d.ta=yt+St,d.qa=d.sa,d.ra=d.ta+16*E*d.R+It,d.Ha=d.qa,d.Ia=d.ra+8*E*d.B+It,d.$c=0,yt+=ot,d.mb=ct?ft:null,d.nb=ct?yt:null,g(yt+ct<=d.Fc+d.Vb),nl(d),T(d.Ac,d.Bc,0,W),E=1}}if(E){if(m.ka=0,m.y=d.sa,m.O=d.ta,m.f=d.qa,m.N=d.ra,m.ea=d.Ha,m.Vd=d.Ia,m.fa=d.R,m.Rc=d.B,m.F=null,m.J=0,!_u){for(E=-255;255>=E;++E)ql[255+E]=0>E?-E:E;for(E=-1020;1020>=E;++E)zu[1020+E]=-128>E?-128:127<E?127:E;for(E=-112;112>=E;++E)Gl[112+E]=-16>E?-16:15<E?15:E;for(E=-255;510>=E;++E)bu[255+E]=0>E?0:255<E?255:E;_u=1}ss=Fl,Ws=ko,os=il,Aa=Eo,Hs=El,yi=Ma,Uo=Bs,ws=ys,qs=ol,xs=Ul,la=Qi,Ss=wn,hi=Ro,Hn=rs,Di=vs,ci=zl,Yi=Do,Wo=es,fa[0]=Dl,fa[1]=Il,fa[2]=Da,fa[3]=Ml,fa[4]=si,fa[5]=pu,fa[6]=_i,fa[7]=gu,fa[8]=sl,fa[9]=Rl,As[0]=du,As[1]=wa,As[2]=Fo,As[3]=Nl,As[4]=oo,As[5]=Io,As[6]=al,Ua[0]=Sa,Ua[1]=aa,Ua[2]=No,Ua[3]=xa,Ua[4]=lo,Ua[5]=gs,Ua[6]=Mo,E=1}else E=0}E&&(E=function(Ce,ur){for(Ce.M=0;Ce.M<Ce.Va;++Ce.M){var qe,de=Ce.Jc[Ce.M&Ce.Xb],ye=Ce.m,or=Ce;for(qe=0;qe<or.za;++qe){var hr=ye,lr=or,Rr=lr.Ac,Lr=lr.Bc+4*qe,Jr=lr.zc,kr=lr.ya[lr.aa+qe];if(lr.Qa.Bb?kr.$b=Xe(hr,lr.Pa.jb[0])?2+Xe(hr,lr.Pa.jb[2]):Xe(hr,lr.Pa.jb[1]):kr.$b=0,lr.kc&&(kr.Ad=Xe(hr,lr.Bd)),kr.Za=!Xe(hr,145)+0,kr.Za){var Er=kr.Ob,jn=0;for(lr=0;4>lr;++lr){var Ln,mn=Jr[0+lr];for(Ln=0;4>Ln;++Ln){mn=tu[Rr[Lr+Ln]][mn];for(var Jn=Ql[Xe(hr,mn[0])];0<Jn;)Jn=Ql[2*Jn+Xe(hr,mn[Jn])];mn=-Jn,Rr[Lr+Ln]=mn}w(Er,jn,Rr,Lr,4),jn+=4,Jr[0+lr]=mn}}else mn=Xe(hr,156)?Xe(hr,128)?1:3:Xe(hr,163)?2:0,kr.Ob[0]=mn,T(Rr,Lr,mn,4),T(Jr,0,mn,4);kr.Dd=Xe(hr,142)?Xe(hr,114)?Xe(hr,183)?1:3:2:0}if(or.m.Ka)return ui(Ce,7,"Premature end-of-partition0 encountered.");for(;Ce.ja<Ce.za;++Ce.ja){if(or=de,hr=(ye=Ce).rb[ye.sb-1],Rr=ye.rb[ye.sb+ye.ja],qe=ye.ya[ye.aa+ye.ja],Lr=ye.kc?qe.Ad:0)hr.la=Rr.la=0,qe.Za||(hr.Na=Rr.Na=0),qe.Hc=0,qe.Gc=0,qe.ia=0;else{var qn,dn;if(hr=Rr,Rr=or,Lr=ye.Pa.Xc,Jr=ye.ya[ye.aa+ye.ja],kr=ye.pb[Jr.$b],lr=Jr.ad,Er=0,jn=ye.rb[ye.sb-1],mn=Ln=0,T(lr,Er,0,384),Jr.Za)var kn=0,ea=Lr[3];else{Jn=S(16);var xi=hr.Na+jn.Na;if(xi=qo(Rr,Lr[1],xi,kr.Eb,0,Jn,0),hr.Na=jn.Na=(0<xi)+0,1<xi)ss(Jn,0,lr,Er);else{var Vi=Jn[0]+3>>3;for(Jn=0;256>Jn;Jn+=16)lr[Er+Jn]=Vi}kn=1,ea=Lr[0]}var Yn=15&hr.la,ra=15&jn.la;for(Jn=0;4>Jn;++Jn){var pa=1&ra;for(Vi=dn=0;4>Vi;++Vi)Yn=Yn>>1|(pa=(xi=qo(Rr,ea,xi=pa+(1&Yn),kr.Sc,kn,lr,Er))>kn)<<7,dn=dn<<2|(3<xi?3:1<xi?2:lr[Er+0]!=0),Er+=16;Yn>>=4,ra=ra>>1|pa<<7,Ln=(Ln<<8|dn)>>>0}for(ea=Yn,kn=ra>>4,qn=0;4>qn;qn+=2){for(dn=0,Yn=hr.la>>4+qn,ra=jn.la>>4+qn,Jn=0;2>Jn;++Jn){for(pa=1&ra,Vi=0;2>Vi;++Vi)xi=pa+(1&Yn),Yn=Yn>>1|(pa=0<(xi=qo(Rr,Lr[2],xi,kr.Qc,0,lr,Er)))<<3,dn=dn<<2|(3<xi?3:1<xi?2:lr[Er+0]!=0),Er+=16;Yn>>=2,ra=ra>>1|pa<<5}mn|=dn<<4*qn,ea|=Yn<<4<<qn,kn|=(240&ra)<<qn}hr.la=ea,jn.la=kn,Jr.Hc=Ln,Jr.Gc=mn,Jr.ia=43690&mn?0:kr.ia,Lr=!(Ln|mn)}if(0<ye.L&&(ye.wa[ye.Y+ye.ja]=ye.gd[qe.$b][qe.Za],ye.wa[ye.Y+ye.ja].La|=!Lr),or.Ka)return ui(Ce,7,"Premature end-of-file encountered.")}if(nl(Ce),ye=ur,or=1,qe=(de=Ce).D,hr=0<de.L&&de.M>=de.zb&&de.M<=de.Va,de.Aa==0)t:{if(qe.M=de.M,qe.uc=hr,is(de,qe),or=1,qe=(dn=de.D).Nb,hr=(mn=Xs[de.L])*de.R,Rr=mn/2*de.B,Jn=16*qe*de.R,Vi=8*qe*de.B,Lr=de.sa,Jr=de.ta-hr+Jn,kr=de.qa,lr=de.ra-Rr+Vi,Er=de.Ha,jn=de.Ia-Rr+Vi,ra=(Yn=dn.M)==0,Ln=Yn>=de.Va-1,de.Aa==2&&is(de,dn),dn.uc)for(pa=(xi=de).D.M,g(xi.D.uc),dn=xi.yb;dn<xi.Hb;++dn){kn=dn,ea=pa;var Fi=(Ri=(di=xi).D).Nb;qn=di.R;var Ri=Ri.wa[Ri.Y+kn],fi=di.sa,ei=di.ta+16*Fi*qn+16*kn,Oa=Ri.dd,Ii=Ri.tc;if(Ii!=0)if(g(3<=Ii),di.L==1)0<kn&&ci(fi,ei,qn,Ii+4),Ri.La&&Wo(fi,ei,qn,Ii),0<ea&&Di(fi,ei,qn,Ii+4),Ri.La&&Yi(fi,ei,qn,Ii);else{var Ha=di.B,yo=di.qa,Xo=di.ra+8*Fi*Ha+8*kn,Pa=di.Ha,di=di.Ia+8*Fi*Ha+8*kn;Fi=Ri.ld,0<kn&&(ws(fi,ei,qn,Ii+4,Oa,Fi),xs(yo,Xo,Pa,di,Ha,Ii+4,Oa,Fi)),Ri.La&&(Ss(fi,ei,qn,Ii,Oa,Fi),Hn(yo,Xo,Pa,di,Ha,Ii,Oa,Fi)),0<ea&&(Uo(fi,ei,qn,Ii+4,Oa,Fi),qs(yo,Xo,Pa,di,Ha,Ii+4,Oa,Fi)),Ri.La&&(la(fi,ei,qn,Ii,Oa,Fi),hi(yo,Xo,Pa,di,Ha,Ii,Oa,Fi))}}if(de.ia&&alert("todo:DitherRow"),ye.put!=null){if(dn=16*Yn,Yn=16*(Yn+1),ra?(ye.y=de.sa,ye.O=de.ta+Jn,ye.f=de.qa,ye.N=de.ra+Vi,ye.ea=de.Ha,ye.W=de.Ia+Vi):(dn-=mn,ye.y=Lr,ye.O=Jr,ye.f=kr,ye.N=lr,ye.ea=Er,ye.W=jn),Ln||(Yn-=mn),Yn>ye.o&&(Yn=ye.o),ye.F=null,ye.J=null,de.Fa!=null&&0<de.Fa.length&&dn<Yn&&(ye.J=z(de,ye,dn,Yn-dn),ye.F=de.mb,ye.F==null&&ye.F.length==0)){or=ui(de,3,"Could not decode alpha data.");break t}dn<ye.j&&(mn=ye.j-dn,dn=ye.j,g(!(1&mn)),ye.O+=de.R*mn,ye.N+=de.B*(mn>>1),ye.W+=de.B*(mn>>1),ye.F!=null&&(ye.J+=ye.width*mn)),dn<Yn&&(ye.O+=ye.v,ye.N+=ye.v>>1,ye.W+=ye.v>>1,ye.F!=null&&(ye.J+=ye.v),ye.ka=dn-ye.j,ye.U=ye.va-ye.v,ye.T=Yn-dn,or=ye.put(ye))}qe+1!=de.Ic||Ln||(w(de.sa,de.ta-hr,Lr,Jr+16*de.R,hr),w(de.qa,de.ra-Rr,kr,lr+8*de.B,Rr),w(de.Ha,de.Ia-Rr,Er,jn+8*de.B,Rr))}if(!or)return ui(Ce,6,"Output aborted.")}return 1}(d,m)),m.bc!=null&&m.bc(m),E&=1}return E?(d.cb=0,E):0}function Ni(d,m,E,W,ot){ot=d[m+E+32*W]+(ot>>3),d[m+E+32*W]=-256&ot?0>ot?0:255:ot}function ao(d,m,E,W,ot,ct){Ni(d,m,0,E,W+ot),Ni(d,m,1,E,W+ct),Ni(d,m,2,E,W-ct),Ni(d,m,3,E,W-ot)}function ps(d){return(20091*d>>16)+d}function so(d,m,E,W){var ot,ct=0,ft=S(16);for(ot=0;4>ot;++ot){var yt=d[m+0]+d[m+8],St=d[m+0]-d[m+8],It=(35468*d[m+4]>>16)-ps(d[m+12]),fe=ps(d[m+4])+(35468*d[m+12]>>16);ft[ct+0]=yt+fe,ft[ct+1]=St+It,ft[ct+2]=St-It,ft[ct+3]=yt-fe,ct+=4,m++}for(ot=ct=0;4>ot;++ot)yt=(d=ft[ct+0]+4)+ft[ct+8],St=d-ft[ct+8],It=(35468*ft[ct+4]>>16)-ps(ft[ct+12]),Ni(E,W,0,0,yt+(fe=ps(ft[ct+4])+(35468*ft[ct+12]>>16))),Ni(E,W,1,0,St+It),Ni(E,W,2,0,St-It),Ni(E,W,3,0,yt-fe),ct++,W+=32}function Ma(d,m,E,W){var ot=d[m+0]+4,ct=35468*d[m+4]>>16,ft=ps(d[m+4]),yt=35468*d[m+1]>>16;ao(E,W,0,ot+ft,d=ps(d[m+1]),yt),ao(E,W,1,ot+ct,d,yt),ao(E,W,2,ot-ct,d,yt),ao(E,W,3,ot-ft,d,yt)}function ko(d,m,E,W,ot){so(d,m,E,W),ot&&so(d,m+16,E,W+4)}function il(d,m,E,W){Ws(d,m+0,E,W,1),Ws(d,m+32,E,W+128,1)}function Eo(d,m,E,W){var ot;for(d=d[m+0]+4,ot=0;4>ot;++ot)for(m=0;4>m;++m)Ni(E,W,m,ot,d)}function El(d,m,E,W){d[m+0]&&Aa(d,m+0,E,W),d[m+16]&&Aa(d,m+16,E,W+4),d[m+32]&&Aa(d,m+32,E,W+128),d[m+48]&&Aa(d,m+48,E,W+128+4)}function Fl(d,m,E,W){var ot,ct=S(16);for(ot=0;4>ot;++ot){var ft=d[m+0+ot]+d[m+12+ot],yt=d[m+4+ot]+d[m+8+ot],St=d[m+4+ot]-d[m+8+ot],It=d[m+0+ot]-d[m+12+ot];ct[0+ot]=ft+yt,ct[8+ot]=ft-yt,ct[4+ot]=It+St,ct[12+ot]=It-St}for(ot=0;4>ot;++ot)ft=(d=ct[0+4*ot]+3)+ct[3+4*ot],yt=ct[1+4*ot]+ct[2+4*ot],St=ct[1+4*ot]-ct[2+4*ot],It=d-ct[3+4*ot],E[W+0]=ft+yt>>3,E[W+16]=It+St>>3,E[W+32]=ft-yt>>3,E[W+48]=It-St>>3,W+=64}function Ds(d,m,E){var W,ot=m-32,ct=ua,ft=255-d[ot-1];for(W=0;W<E;++W){var yt,St=ct,It=ft+d[m-1];for(yt=0;yt<E;++yt)d[m+yt]=St[It+d[ot+yt]];m+=32}}function Il(d,m){Ds(d,m,4)}function aa(d,m){Ds(d,m,8)}function wa(d,m){Ds(d,m,16)}function Fo(d,m){var E;for(E=0;16>E;++E)w(d,m+32*E,d,m-32,16)}function Nl(d,m){var E;for(E=16;0<E;--E)T(d,m,d[m-1],16),m+=32}function Ti(d,m,E){var W;for(W=0;16>W;++W)T(m,E+32*W,d,16)}function du(d,m){var E,W=16;for(E=0;16>E;++E)W+=d[m-1+32*E]+d[m+E-32];Ti(W>>5,d,m)}function oo(d,m){var E,W=8;for(E=0;16>E;++E)W+=d[m-1+32*E];Ti(W>>4,d,m)}function Io(d,m){var E,W=8;for(E=0;16>E;++E)W+=d[m+E-32];Ti(W>>4,d,m)}function al(d,m){Ti(128,d,m)}function cn(d,m,E){return d+2*m+E+2>>2}function Da(d,m){var E,W=m-32;for(W=new Uint8Array([cn(d[W-1],d[W+0],d[W+1]),cn(d[W+0],d[W+1],d[W+2]),cn(d[W+1],d[W+2],d[W+3]),cn(d[W+2],d[W+3],d[W+4])]),E=0;4>E;++E)w(d,m+32*E,W,0,W.length)}function Ml(d,m){var E=d[m-1],W=d[m-1+32],ot=d[m-1+64],ct=d[m-1+96];vr(d,m+0,16843009*cn(d[m-1-32],E,W)),vr(d,m+32,16843009*cn(E,W,ot)),vr(d,m+64,16843009*cn(W,ot,ct)),vr(d,m+96,16843009*cn(ot,ct,ct))}function Dl(d,m){var E,W=4;for(E=0;4>E;++E)W+=d[m+E-32]+d[m-1+32*E];for(W>>=3,E=0;4>E;++E)T(d,m+32*E,W,4)}function si(d,m){var E=d[m-1+0],W=d[m-1+32],ot=d[m-1+64],ct=d[m-1-32],ft=d[m+0-32],yt=d[m+1-32],St=d[m+2-32],It=d[m+3-32];d[m+0+96]=cn(W,ot,d[m-1+96]),d[m+1+96]=d[m+0+64]=cn(E,W,ot),d[m+2+96]=d[m+1+64]=d[m+0+32]=cn(ct,E,W),d[m+3+96]=d[m+2+64]=d[m+1+32]=d[m+0+0]=cn(ft,ct,E),d[m+3+64]=d[m+2+32]=d[m+1+0]=cn(yt,ft,ct),d[m+3+32]=d[m+2+0]=cn(St,yt,ft),d[m+3+0]=cn(It,St,yt)}function _i(d,m){var E=d[m+1-32],W=d[m+2-32],ot=d[m+3-32],ct=d[m+4-32],ft=d[m+5-32],yt=d[m+6-32],St=d[m+7-32];d[m+0+0]=cn(d[m+0-32],E,W),d[m+1+0]=d[m+0+32]=cn(E,W,ot),d[m+2+0]=d[m+1+32]=d[m+0+64]=cn(W,ot,ct),d[m+3+0]=d[m+2+32]=d[m+1+64]=d[m+0+96]=cn(ot,ct,ft),d[m+3+32]=d[m+2+64]=d[m+1+96]=cn(ct,ft,yt),d[m+3+64]=d[m+2+96]=cn(ft,yt,St),d[m+3+96]=cn(yt,St,St)}function pu(d,m){var E=d[m-1+0],W=d[m-1+32],ot=d[m-1+64],ct=d[m-1-32],ft=d[m+0-32],yt=d[m+1-32],St=d[m+2-32],It=d[m+3-32];d[m+0+0]=d[m+1+64]=ct+ft+1>>1,d[m+1+0]=d[m+2+64]=ft+yt+1>>1,d[m+2+0]=d[m+3+64]=yt+St+1>>1,d[m+3+0]=St+It+1>>1,d[m+0+96]=cn(ot,W,E),d[m+0+64]=cn(W,E,ct),d[m+0+32]=d[m+1+96]=cn(E,ct,ft),d[m+1+32]=d[m+2+96]=cn(ct,ft,yt),d[m+2+32]=d[m+3+96]=cn(ft,yt,St),d[m+3+32]=cn(yt,St,It)}function gu(d,m){var E=d[m+0-32],W=d[m+1-32],ot=d[m+2-32],ct=d[m+3-32],ft=d[m+4-32],yt=d[m+5-32],St=d[m+6-32],It=d[m+7-32];d[m+0+0]=E+W+1>>1,d[m+1+0]=d[m+0+64]=W+ot+1>>1,d[m+2+0]=d[m+1+64]=ot+ct+1>>1,d[m+3+0]=d[m+2+64]=ct+ft+1>>1,d[m+0+32]=cn(E,W,ot),d[m+1+32]=d[m+0+96]=cn(W,ot,ct),d[m+2+32]=d[m+1+96]=cn(ot,ct,ft),d[m+3+32]=d[m+2+96]=cn(ct,ft,yt),d[m+3+64]=cn(ft,yt,St),d[m+3+96]=cn(yt,St,It)}function Rl(d,m){var E=d[m-1+0],W=d[m-1+32],ot=d[m-1+64],ct=d[m-1+96];d[m+0+0]=E+W+1>>1,d[m+2+0]=d[m+0+32]=W+ot+1>>1,d[m+2+32]=d[m+0+64]=ot+ct+1>>1,d[m+1+0]=cn(E,W,ot),d[m+3+0]=d[m+1+32]=cn(W,ot,ct),d[m+3+32]=d[m+1+64]=cn(ot,ct,ct),d[m+3+64]=d[m+2+64]=d[m+0+96]=d[m+1+96]=d[m+2+96]=d[m+3+96]=ct}function sl(d,m){var E=d[m-1+0],W=d[m-1+32],ot=d[m-1+64],ct=d[m-1+96],ft=d[m-1-32],yt=d[m+0-32],St=d[m+1-32],It=d[m+2-32];d[m+0+0]=d[m+2+32]=E+ft+1>>1,d[m+0+32]=d[m+2+64]=W+E+1>>1,d[m+0+64]=d[m+2+96]=ot+W+1>>1,d[m+0+96]=ct+ot+1>>1,d[m+3+0]=cn(yt,St,It),d[m+2+0]=cn(ft,yt,St),d[m+1+0]=d[m+3+32]=cn(E,ft,yt),d[m+1+32]=d[m+3+64]=cn(W,E,ft),d[m+1+64]=d[m+3+96]=cn(ot,W,E),d[m+1+96]=cn(ct,ot,W)}function No(d,m){var E;for(E=0;8>E;++E)w(d,m+32*E,d,m-32,8)}function xa(d,m){var E;for(E=0;8>E;++E)T(d,m,d[m-1],8),m+=32}function Rs(d,m,E){var W;for(W=0;8>W;++W)T(m,E+32*W,d,8)}function Sa(d,m){var E,W=8;for(E=0;8>E;++E)W+=d[m+E-32]+d[m-1+32*E];Rs(W>>4,d,m)}function gs(d,m){var E,W=4;for(E=0;8>E;++E)W+=d[m+E-32];Rs(W>>3,d,m)}function lo(d,m){var E,W=4;for(E=0;8>E;++E)W+=d[m-1+32*E];Rs(W>>3,d,m)}function Mo(d,m){Rs(128,d,m)}function Ra(d,m,E){var W=d[m-E],ot=d[m+0],ct=3*(ot-W)+Yl[1020+d[m-2*E]-d[m+E]],ft=mo[112+(ct+4>>3)];d[m-E]=ua[255+W+mo[112+(ct+3>>3)]],d[m+0]=ua[255+ot-ft]}function Bl(d,m,E,W){var ot=d[m+0],ct=d[m+E];return ha[255+d[m-2*E]-d[m-E]]>W||ha[255+ct-ot]>W}function jl(d,m,E,W){return 4*ha[255+d[m-E]-d[m+0]]+ha[255+d[m-2*E]-d[m+E]]<=W}function ms(d,m,E,W,ot){var ct=d[m-3*E],ft=d[m-2*E],yt=d[m-E],St=d[m+0],It=d[m+E],fe=d[m+2*E],ke=d[m+3*E];return 4*ha[255+yt-St]+ha[255+ft-It]>W?0:ha[255+d[m-4*E]-ct]<=ot&&ha[255+ct-ft]<=ot&&ha[255+ft-yt]<=ot&&ha[255+ke-fe]<=ot&&ha[255+fe-It]<=ot&&ha[255+It-St]<=ot}function vs(d,m,E,W){var ot=2*W+1;for(W=0;16>W;++W)jl(d,m+W,E,ot)&&Ra(d,m+W,E)}function zl(d,m,E,W){var ot=2*W+1;for(W=0;16>W;++W)jl(d,m+W*E,1,ot)&&Ra(d,m+W*E,1)}function Do(d,m,E,W){var ot;for(ot=3;0<ot;--ot)vs(d,m+=4*E,E,W)}function es(d,m,E,W){var ot;for(ot=3;0<ot;--ot)zl(d,m+=4,E,W)}function Ba(d,m,E,W,ot,ct,ft,yt){for(ct=2*ct+1;0<ot--;){if(ms(d,m,E,ct,ft))if(Bl(d,m,E,yt))Ra(d,m,E);else{var St=d,It=m,fe=E,ke=St[It-2*fe],Pe=St[It-fe],Ce=St[It+0],ur=St[It+fe],qe=St[It+2*fe],de=27*(or=Yl[1020+3*(Ce-Pe)+Yl[1020+ke-ur]])+63>>7,ye=18*or+63>>7,or=9*or+63>>7;St[It-3*fe]=ua[255+St[It-3*fe]+or],St[It-2*fe]=ua[255+ke+ye],St[It-fe]=ua[255+Pe+de],St[It+0]=ua[255+Ce-de],St[It+fe]=ua[255+ur-ye],St[It+2*fe]=ua[255+qe-or]}m+=W}}function mt(d,m,E,W,ot,ct,ft,yt){for(ct=2*ct+1;0<ot--;){if(ms(d,m,E,ct,ft))if(Bl(d,m,E,yt))Ra(d,m,E);else{var St=d,It=m,fe=E,ke=St[It-fe],Pe=St[It+0],Ce=St[It+fe],ur=mo[112+((qe=3*(Pe-ke))+4>>3)],qe=mo[112+(qe+3>>3)],de=ur+1>>1;St[It-2*fe]=ua[255+St[It-2*fe]+de],St[It-fe]=ua[255+ke+qe],St[It+0]=ua[255+Pe-ur],St[It+fe]=ua[255+Ce-de]}m+=W}}function Bs(d,m,E,W,ot,ct){Ba(d,m,E,1,16,W,ot,ct)}function ys(d,m,E,W,ot,ct){Ba(d,m,1,E,16,W,ot,ct)}function Qi(d,m,E,W,ot,ct){var ft;for(ft=3;0<ft;--ft)mt(d,m+=4*E,E,1,16,W,ot,ct)}function wn(d,m,E,W,ot,ct){var ft;for(ft=3;0<ft;--ft)mt(d,m+=4,1,E,16,W,ot,ct)}function ol(d,m,E,W,ot,ct,ft,yt){Ba(d,m,ot,1,8,ct,ft,yt),Ba(E,W,ot,1,8,ct,ft,yt)}function Ul(d,m,E,W,ot,ct,ft,yt){Ba(d,m,1,ot,8,ct,ft,yt),Ba(E,W,1,ot,8,ct,ft,yt)}function Ro(d,m,E,W,ot,ct,ft,yt){mt(d,m+4*ot,ot,1,8,ct,ft,yt),mt(E,W+4*ot,ot,1,8,ct,ft,yt)}function rs(d,m,E,W,ot,ct,ft,yt){mt(d,m+4,1,ot,8,ct,ft,yt),mt(E,W+4,1,ot,8,ct,ft,yt)}function ll(){this.ba=new na,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new hn,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function ul(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function mu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Bo(){this.ua=0,this.Wa=new sr,this.vb=new sr,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new $e,this.yc=new ue}function hl(){this.xb=this.a=0,this.l=new io,this.ca=new na,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new wt,this.Pb=0,this.wd=new wt,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Bo,this.ab=0,this.gc=P(4,mu),this.Oc=0}function sa(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new io,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ns(d,m,E,W,ot,ct,ft){for(d=d==null?0:d[m+0],m=0;m<ft;++m)ot[ct+m]=d+E[W+m]&255,d=ot[ct+m]}function cl(d,m,E,W,ot,ct,ft){var yt;if(d==null)ns(null,null,E,W,ot,ct,ft);else for(yt=0;yt<ft;++yt)ot[ct+yt]=d[m+yt]+E[W+yt]&255}function M(d,m,E,W,ot,ct,ft){if(d==null)ns(null,null,E,W,ot,ct,ft);else{var yt,St=d[m+0],It=St,fe=St;for(yt=0;yt<ft;++yt)It=fe+(St=d[m+yt])-It,fe=E[W+yt]+(-256&It?0>It?0:255:It)&255,It=St,ot[ct+yt]=fe}}function z(d,m,E,W){var ot=m.width,ct=m.o;if(g(d!=null&&m!=null),0>E||0>=W||E+W>ct)return null;if(!d.Cc){if(d.ga==null){var ft;if(d.ga=new sa,(ft=d.ga==null)||(ft=m.width*m.o,g(d.Gb.length==0),d.Gb=S(ft),d.Uc=0,d.Gb==null?ft=0:(d.mb=d.Gb,d.nb=d.Uc,d.rc=null,ft=1),ft=!ft),!ft){ft=d.ga;var yt=d.Fa,St=d.P,It=d.qc,fe=d.mb,ke=d.nb,Pe=St+1,Ce=It-1,ur=ft.l;if(g(yt!=null&&fe!=null&&m!=null),Xi[0]=null,Xi[1]=ns,Xi[2]=cl,Xi[3]=M,ft.ca=fe,ft.tb=ke,ft.c=m.width,ft.i=m.height,g(0<ft.c&&0<ft.i),1>=It)m=0;else if(ft.$a=yt[St+0]>>0&3,ft.Z=yt[St+0]>>2&3,ft.Lc=yt[St+0]>>4&3,St=yt[St+0]>>6&3,0>ft.$a||1<ft.$a||4<=ft.Z||1<ft.Lc||St)m=0;else if(ur.put=Ja,ur.ac=Za,ur.bc=nn,ur.ma=ft,ur.width=m.width,ur.height=m.height,ur.Da=m.Da,ur.v=m.v,ur.va=m.va,ur.j=m.j,ur.o=m.o,ft.$a)t:{g(ft.$a==1),m=ro();e:for(;;){if(m==null){m=0;break t}if(g(ft!=null),ft.mc=m,m.c=ft.c,m.i=ft.i,m.l=ft.l,m.l.ma=ft,m.l.width=ft.c,m.l.height=ft.i,m.a=0,_r(m.m,yt,Pe,Ce),!ts(ft.c,ft.i,1,m,null)||(m.ab==1&&m.gc[0].hc==3&&Na(m.s)?(ft.ic=1,yt=m.c*m.i,m.Ta=null,m.Ua=0,m.V=S(yt),m.Ba=0,m.V==null?(m.a=1,m=0):m=1):(ft.ic=0,m=no(m,ft.c)),!m))break e;m=1;break t}ft.mc=null,m=0}else m=Ce>=ft.c*ft.i;ft=!m}if(ft)return null;d.ga.Lc!=1?d.Ga=0:W=ct-E}g(d.ga!=null),g(E+W<=ct);t:{if(m=(yt=d.ga).c,ct=yt.l.o,yt.$a==0){if(Pe=d.rc,Ce=d.Vc,ur=d.Fa,St=d.P+1+E*m,It=d.mb,fe=d.nb+E*m,g(St<=d.P+d.qc),yt.Z!=0)for(g(Xi[yt.Z]!=null),ft=0;ft<W;++ft)Xi[yt.Z](Pe,Ce,ur,St,It,fe,m),Pe=It,Ce=fe,fe+=m,St+=m;else for(ft=0;ft<W;++ft)w(It,fe,ur,St,m),Pe=It,Ce=fe,fe+=m,St+=m;d.rc=Pe,d.Vc=Ce}else{if(g(yt.mc!=null),m=E+W,g((ft=yt.mc)!=null),g(m<=ft.i),ft.C>=m)m=1;else if(yt.ic||yr(),yt.ic){yt=ft.V,Pe=ft.Ba,Ce=ft.c;var qe=ft.i,de=(ur=1,St=ft.$/Ce,It=ft.$%Ce,fe=ft.m,ke=ft.s,ft.$),ye=Ce*qe,or=Ce*m,hr=ke.wc,lr=de<or?ai(ke,It,St):null;g(de<=ye),g(m<=qe),g(Na(ke));e:for(;;){for(;!fe.h&&de<or;){if(It&hr||(lr=ai(ke,It,St)),g(lr!=null),Ie(fe),256>(qe=ii(lr.G[0],lr.H[0],fe)))yt[Pe+de]=qe,++de,++It>=Ce&&(It=0,++St<=m&&!(St%16)&&zi(ft,St));else{if(!(280>qe)){ur=0;break e}qe=_a(qe-256,fe);var Rr,Lr=ii(lr.G[4],lr.H[4],fe);if(Ie(fe),!(de>=(Lr=fs(Ce,Lr=_a(Lr,fe)))&&ye-de>=qe)){ur=0;break e}for(Rr=0;Rr<qe;++Rr)yt[Pe+de+Rr]=yt[Pe+de+Rr-Lr];for(de+=qe,It+=qe;It>=Ce;)It-=Ce,++St<=m&&!(St%16)&&zi(ft,St);de<or&&It&hr&&(lr=ai(ke,It,St))}g(fe.h==me(fe))}zi(ft,St>m?m:St);break e}!ur||fe.h&&de<ye?(ur=0,ft.a=fe.h?5:3):ft.$=de,m=ur}else m=vi(ft,ft.V,ft.Ba,ft.c,ft.i,m,Oo);if(!m){W=0;break t}}E+W>=ct&&(d.Cc=1),W=1}if(!W)return null;if(d.Cc&&((W=d.ga)!=null&&(W.mc=null),d.ga=null,0<d.Ga))return alert("todo:WebPDequantizeLevels"),null}return d.nb+E*ot}function Et(d,m,E,W,ot,ct){for(;0<ot--;){var ft,yt=d,St=m+(E?1:0),It=d,fe=m+(E?0:3);for(ft=0;ft<W;++ft){var ke=It[fe+4*ft];ke!=255&&(ke*=32897,yt[St+4*ft+0]=yt[St+4*ft+0]*ke>>23,yt[St+4*ft+1]=yt[St+4*ft+1]*ke>>23,yt[St+4*ft+2]=yt[St+4*ft+2]*ke>>23)}m+=ct}}function re(d,m,E,W,ot){for(;0<W--;){var ct;for(ct=0;ct<E;++ct){var ft=d[m+2*ct+0],yt=15&(It=d[m+2*ct+1]),St=4369*yt,It=(240&It|It>>4)*St>>16;d[m+2*ct+0]=(240&ft|ft>>4)*St>>16&240|(15&ft|ft<<4)*St>>16>>4&15,d[m+2*ct+1]=240&It|yt}m+=ot}}function Le(d,m,E,W,ot,ct,ft,yt){var St,It,fe=255;for(It=0;It<ot;++It){for(St=0;St<W;++St){var ke=d[m+St];ct[ft+4*St]=ke,fe&=ke}m+=E,ft+=yt}return fe!=255}function Fe(d,m,E,W,ot){var ct;for(ct=0;ct<ot;++ct)E[W+ct]=d[m+ct]>>8}function yr(){Cs=Et,Hl=re,ju=Le,yu=Fe}function Cr(d,m,E){he[d]=function(W,ot,ct,ft,yt,St,It,fe,ke,Pe,Ce,ur,qe,de,ye,or,hr){var lr,Rr=hr-1>>1,Lr=yt[St+0]|It[fe+0]<<16,Jr=ke[Pe+0]|Ce[ur+0]<<16;g(W!=null);var kr=3*Lr+Jr+131074>>2;for(m(W[ot+0],255&kr,kr>>16,qe,de),ct!=null&&(kr=3*Jr+Lr+131074>>2,m(ct[ft+0],255&kr,kr>>16,ye,or)),lr=1;lr<=Rr;++lr){var Er=yt[St+lr]|It[fe+lr]<<16,jn=ke[Pe+lr]|Ce[ur+lr]<<16,Ln=Lr+Er+Jr+jn+524296,mn=Ln+2*(Er+Jr)>>3;kr=mn+Lr>>1,Lr=(Ln=Ln+2*(Lr+jn)>>3)+Er>>1,m(W[ot+2*lr-1],255&kr,kr>>16,qe,de+(2*lr-1)*E),m(W[ot+2*lr-0],255&Lr,Lr>>16,qe,de+(2*lr-0)*E),ct!=null&&(kr=Ln+Jr>>1,Lr=mn+jn>>1,m(ct[ft+2*lr-1],255&kr,kr>>16,ye,or+(2*lr-1)*E),m(ct[ft+2*lr+0],255&Lr,Lr>>16,ye,or+(2*lr+0)*E)),Lr=Er,Jr=jn}1&hr||(kr=3*Lr+Jr+131074>>2,m(W[ot+hr-1],255&kr,kr>>16,qe,de+(hr-1)*E),ct!=null&&(kr=3*Jr+Lr+131074>>2,m(ct[ft+hr-1],255&kr,kr>>16,ye,or+(hr-1)*E)))}}function qr(){da[gl]=qu,da[Xl]=Gu,da[wu]=Tu,da[Vl]=Yu,da[Ho]=Xu,da[Kl]=Ou,da[Zl]=Vu,da[xu]=Gu,da[ml]=Yu,da[gn]=Xu,da[Su]=Ou}function $r(d){return d&~Sh?0>d?0:255:d>>Wa}function pn(d,m){return $r((19077*d>>8)+(26149*m>>8)-14234)}function Mn(d,m,E){return $r((19077*d>>8)-(6419*m>>8)-(13320*E>>8)+8708)}function Tn(d,m){return $r((19077*d>>8)+(33050*m>>8)-17685)}function oi(d,m,E,W,ot){W[ot+0]=pn(d,E),W[ot+1]=Mn(d,m,E),W[ot+2]=Tn(d,m)}function ri(d,m,E,W,ot){W[ot+0]=Tn(d,m),W[ot+1]=Mn(d,m,E),W[ot+2]=pn(d,E)}function qi(d,m,E,W,ot){var ct=Mn(d,m,E);m=ct<<3&224|Tn(d,m)>>3,W[ot+0]=248&pn(d,E)|ct>>5,W[ot+1]=m}function wi(d,m,E,W,ot){var ct=240&Tn(d,m)|15;W[ot+0]=240&pn(d,E)|Mn(d,m,E)>>4,W[ot+1]=ct}function ja(d,m,E,W,ot){W[ot+0]=255,oi(d,m,E,W,ot+1)}function uo(d,m,E,W,ot){ri(d,m,E,W,ot),W[ot+3]=255}function fl(d,m,E,W,ot){oi(d,m,E,W,ot),W[ot+3]=255}function $i(d,m){return 0>d?0:d>m?m:d}function bs(d,m,E){he[d]=function(W,ot,ct,ft,yt,St,It,fe,ke){for(var Pe=fe+(-2&ke)*E;fe!=Pe;)m(W[ot+0],ct[ft+0],yt[St+0],It,fe),m(W[ot+1],ct[ft+0],yt[St+0],It,fe+E),ot+=2,++ft,++St,fe+=2*E;1&ke&&m(W[ot+0],ct[ft+0],yt[St+0],It,fe)}}function dl(d,m,E){return E==0?d==0?m==0?6:5:m==0?4:0:E}function ho(d,m,E,W,ot){switch(d>>>30){case 3:Ws(m,E,W,ot,0);break;case 2:yi(m,E,W,ot);break;case 1:Aa(m,E,W,ot)}}function is(d,m){var E,W,ot=m.M,ct=m.Nb,ft=d.oc,yt=d.pc+40,St=d.oc,It=d.pc+584,fe=d.oc,ke=d.pc+600;for(E=0;16>E;++E)ft[yt+32*E-1]=129;for(E=0;8>E;++E)St[It+32*E-1]=129,fe[ke+32*E-1]=129;for(0<ot?ft[yt-1-32]=St[It-1-32]=fe[ke-1-32]=129:(T(ft,yt-32-1,127,21),T(St,It-32-1,127,9),T(fe,ke-32-1,127,9)),W=0;W<d.za;++W){var Pe=m.ya[m.aa+W];if(0<W){for(E=-1;16>E;++E)w(ft,yt+32*E-4,ft,yt+32*E+12,4);for(E=-1;8>E;++E)w(St,It+32*E-4,St,It+32*E+4,4),w(fe,ke+32*E-4,fe,ke+32*E+4,4)}var Ce=d.Gd,ur=d.Hd+W,qe=Pe.ad,de=Pe.Hc;if(0<ot&&(w(ft,yt-32,Ce[ur].y,0,16),w(St,It-32,Ce[ur].f,0,8),w(fe,ke-32,Ce[ur].ea,0,8)),Pe.Za){var ye=ft,or=yt-32+16;for(0<ot&&(W>=d.za-1?T(ye,or,Ce[ur].y[15],4):w(ye,or,Ce[ur+1].y,0,4)),E=0;4>E;E++)ye[or+128+E]=ye[or+256+E]=ye[or+384+E]=ye[or+0+E];for(E=0;16>E;++E,de<<=2)ye=ft,or=yt+vo[E],fa[Pe.Ob[E]](ye,or),ho(de,qe,16*+E,ye,or)}else if(ye=dl(W,ot,Pe.Ob[0]),As[ye](ft,yt),de!=0)for(E=0;16>E;++E,de<<=2)ho(de,qe,16*+E,ft,yt+vo[E]);for(E=Pe.Gc,ye=dl(W,ot,Pe.Dd),Ua[ye](St,It),Ua[ye](fe,ke),de=qe,ye=St,or=It,255&(Pe=E>>0)&&(170&Pe?os(de,256,ye,or):Hs(de,256,ye,or)),Pe=fe,de=ke,255&(E>>=8)&&(170&E?os(qe,320,Pe,de):Hs(qe,320,Pe,de)),ot<d.Ub-1&&(w(Ce[ur].y,0,ft,yt+480,16),w(Ce[ur].f,0,St,It+224,8),w(Ce[ur].ea,0,fe,ke+224,8)),E=8*ct*d.B,Ce=d.sa,ur=d.ta+16*W+16*ct*d.R,qe=d.qa,Pe=d.ra+8*W+E,de=d.Ha,ye=d.Ia+8*W+E,E=0;16>E;++E)w(Ce,ur+E*d.R,ft,yt+32*E,16);for(E=0;8>E;++E)w(qe,Pe+E*d.B,St,It+32*E,8),w(de,ye+E*d.B,fe,ke+32*E,8)}}function js(d,m,E,W,ot,ct,ft,yt,St){var It=[0],fe=[0],ke=0,Pe=St!=null?St.kd:0,Ce=St!=null?St:new ul;if(d==null||12>E)return 7;Ce.data=d,Ce.w=m,Ce.ha=E,m=[m],E=[E],Ce.gb=[Ce.gb];t:{var ur=m,qe=E,de=Ce.gb;if(g(d!=null),g(qe!=null),g(de!=null),de[0]=0,12<=qe[0]&&!y(d,ur[0],"RIFF")){if(y(d,ur[0]+8,"WEBP")){de=3;break t}var ye=rn(d,ur[0]+4);if(12>ye||4294967286<ye){de=3;break t}if(Pe&&ye>qe[0]-8){de=7;break t}de[0]=ye,ur[0]+=12,qe[0]-=12}de=0}if(de!=0)return de;for(ye=0<Ce.gb[0],E=E[0];;){t:{var or=d;qe=m,de=E;var hr=It,lr=fe,Rr=ur=[0];if((kr=ke=[ke])[0]=0,8>de[0])de=7;else{if(!y(or,qe[0],"VP8X")){if(rn(or,qe[0]+4)!=10){de=3;break t}if(18>de[0]){de=7;break t}var Lr=rn(or,qe[0]+8),Jr=1+Pr(or,qe[0]+12);if(2147483648<=Jr*(or=1+Pr(or,qe[0]+15))){de=3;break t}Rr!=null&&(Rr[0]=Lr),hr!=null&&(hr[0]=Jr),lr!=null&&(lr[0]=or),qe[0]+=18,de[0]-=18,kr[0]=1}de=0}}if(ke=ke[0],ur=ur[0],de!=0)return de;if(qe=!!(2&ur),!ye&&ke)return 3;if(ct!=null&&(ct[0]=!!(16&ur)),ft!=null&&(ft[0]=qe),yt!=null&&(yt[0]=0),ft=It[0],ur=fe[0],ke&&qe&&St==null){de=0;break}if(4>E){de=7;break}if(ye&&ke||!ye&&!ke&&!y(d,m[0],"ALPH")){E=[E],Ce.na=[Ce.na],Ce.P=[Ce.P],Ce.Sa=[Ce.Sa];t:{Lr=d,de=m,ye=E;var kr=Ce.gb;hr=Ce.na,lr=Ce.P,Rr=Ce.Sa,Jr=22,g(Lr!=null),g(ye!=null),or=de[0];var Er=ye[0];for(g(hr!=null),g(Rr!=null),hr[0]=null,lr[0]=null,Rr[0]=0;;){if(de[0]=or,ye[0]=Er,8>Er){de=7;break t}var jn=rn(Lr,or+4);if(4294967286<jn){de=3;break t}var Ln=8+jn+1&-2;if(Jr+=Ln,0<kr&&Jr>kr){de=3;break t}if(!y(Lr,or,"VP8 ")||!y(Lr,or,"VP8L")){de=0;break t}if(Er[0]<Ln){de=7;break t}y(Lr,or,"ALPH")||(hr[0]=Lr,lr[0]=or+8,Rr[0]=jn),or+=Ln,Er-=Ln}}if(E=E[0],Ce.na=Ce.na[0],Ce.P=Ce.P[0],Ce.Sa=Ce.Sa[0],de!=0)break}E=[E],Ce.Ja=[Ce.Ja],Ce.xa=[Ce.xa];t:if(kr=d,de=m,ye=E,hr=Ce.gb[0],lr=Ce.Ja,Rr=Ce.xa,Lr=de[0],or=!y(kr,Lr,"VP8 "),Jr=!y(kr,Lr,"VP8L"),g(kr!=null),g(ye!=null),g(lr!=null),g(Rr!=null),8>ye[0])de=7;else{if(or||Jr){if(kr=rn(kr,Lr+4),12<=hr&&kr>hr-12){de=3;break t}if(Pe&&kr>ye[0]-8){de=7;break t}lr[0]=kr,de[0]+=8,ye[0]-=8,Rr[0]=Jr}else Rr[0]=5<=ye[0]&&kr[Lr+0]==47&&!(kr[Lr+4]>>5),lr[0]=ye[0];de=0}if(E=E[0],Ce.Ja=Ce.Ja[0],Ce.xa=Ce.xa[0],m=m[0],de!=0)break;if(4294967286<Ce.Ja)return 3;if(yt==null||qe||(yt[0]=Ce.xa?2:1),ft=[ft],ur=[ur],Ce.xa){if(5>E){de=7;break}yt=ft,Pe=ur,qe=ct,d==null||5>E?d=0:5<=E&&d[m+0]==47&&!(d[m+4]>>5)?(ye=[0],kr=[0],hr=[0],_r(lr=new wt,d,m,E),Zi(lr,ye,kr,hr)?(yt!=null&&(yt[0]=ye[0]),Pe!=null&&(Pe[0]=kr[0]),qe!=null&&(qe[0]=hr[0]),d=1):d=0):d=0}else{if(10>E){de=7;break}yt=ur,d==null||10>E||!Ms(d,m+3,E-3)?d=0:(Pe=d[m+0]|d[m+1]<<8|d[m+2]<<16,qe=16383&(d[m+7]<<8|d[m+6]),d=16383&(d[m+9]<<8|d[m+8]),1&Pe||3<(Pe>>1&7)||!(Pe>>4&1)||Pe>>5>=Ce.Ja||!qe||!d?d=0:(ft&&(ft[0]=qe),yt&&(yt[0]=d),d=1))}if(!d||(ft=ft[0],ur=ur[0],ke&&(It[0]!=ft||fe[0]!=ur)))return 3;St!=null&&(St[0]=Ce,St.offset=m-St.w,g(4294967286>m-St.w),g(St.offset==St.ha-E));break}return de==0||de==7&&ke&&St==null?(ct!=null&&(ct[0]|=Ce.na!=null&&0<Ce.na.length),W!=null&&(W[0]=ft),ot!=null&&(ot[0]=ur),0):de}function pl(d,m,E){var W=m.width,ot=m.height,ct=0,ft=0,yt=W,St=ot;if(m.Da=d!=null&&0<d.Da,m.Da&&(yt=d.cd,St=d.bd,ct=d.v,ft=d.j,11>E||(ct&=-2,ft&=-2),0>ct||0>ft||0>=yt||0>=St||ct+yt>W||ft+St>ot))return 0;if(m.v=ct,m.j=ft,m.va=ct+yt,m.o=ft+St,m.U=yt,m.T=St,m.da=d!=null&&0<d.da,m.da){if(!Fr(yt,St,E=[d.ib],ct=[d.hb]))return 0;m.ib=E[0],m.hb=ct[0]}return m.ob=d!=null&&d.ob,m.Kb=d==null||!d.Sd,m.da&&(m.ob=m.ib<3*W/4&&m.hb<3*ot/4,m.Kb=0),1}function co(d){if(d==null)return 2;if(11>d.S){var m=d.f.RGBA;m.fb+=(d.height-1)*m.A,m.A=-m.A}else m=d.f.kb,d=d.height,m.O+=(d-1)*m.fa,m.fa=-m.fa,m.N+=(d-1>>1)*m.Ab,m.Ab=-m.Ab,m.W+=(d-1>>1)*m.Db,m.Db=-m.Db,m.F!=null&&(m.J+=(d-1)*m.lb,m.lb=-m.lb);return 0}function oa(d,m,E,W){if(W==null||0>=d||0>=m)return 2;if(E!=null){if(E.Da){var ot=E.cd,ct=E.bd,ft=-2&E.v,yt=-2&E.j;if(0>ft||0>yt||0>=ot||0>=ct||ft+ot>d||yt+ct>m)return 2;d=ot,m=ct}if(E.da){if(!Fr(d,m,ot=[E.ib],ct=[E.hb]))return 2;d=ot[0],m=ct[0]}}W.width=d,W.height=m;t:{var St=W.width,It=W.height;if(d=W.S,0>=St||0>=It||!(d>=gl&&13>d))d=2;else{if(0>=W.Rd&&W.sd==null){ft=ct=ot=m=0;var fe=(yt=St*Pu[d])*It;if(11>d||(ct=(It+1)/2*(m=(St+1)/2),d==12&&(ft=(ot=St)*It)),(It=S(fe+2*ct+ft))==null){d=1;break t}W.sd=It,11>d?((St=W.f.RGBA).eb=It,St.fb=0,St.A=yt,St.size=fe):((St=W.f.kb).y=It,St.O=0,St.fa=yt,St.Fd=fe,St.f=It,St.N=0+fe,St.Ab=m,St.Cd=ct,St.ea=It,St.W=0+fe+ct,St.Db=m,St.Ed=ct,d==12&&(St.F=It,St.J=0+fe+2*ct),St.Tc=ft,St.lb=ot)}if(m=1,ot=W.S,ct=W.width,ft=W.height,ot>=gl&&13>ot)if(11>ot)d=W.f.RGBA,m&=(yt=Math.abs(d.A))*(ft-1)+ct<=d.size,m&=yt>=ct*Pu[ot],m&=d.eb!=null;else{d=W.f.kb,yt=(ct+1)/2,fe=(ft+1)/2,St=Math.abs(d.fa),It=Math.abs(d.Ab);var ke=Math.abs(d.Db),Pe=Math.abs(d.lb),Ce=Pe*(ft-1)+ct;m&=St*(ft-1)+ct<=d.Fd,m&=It*(fe-1)+yt<=d.Cd,m=(m&=ke*(fe-1)+yt<=d.Ed)&St>=ct&It>=yt&ke>=yt,m&=d.y!=null,m&=d.f!=null,m&=d.ea!=null,ot==12&&(m&=Pe>=ct,m&=Ce<=d.Tc,m&=d.F!=null)}else m=0;d=m?0:2}}return d!=0||E!=null&&E.fd&&(d=co(W)),d}var Ui=64,zs=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],as=24,Mi=32,Gi=8,Wl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Or("Predictor0","PredictorAdd0"),he.Predictor0=function(){return 4278190080},he.Predictor1=function(d){return d},he.Predictor2=function(d,m,E){return m[E+0]},he.Predictor3=function(d,m,E){return m[E+1]},he.Predictor4=function(d,m,E){return m[E-1]},he.Predictor5=function(d,m,E){return Hr(Hr(d,m[E+1]),m[E+0])},he.Predictor6=function(d,m,E){return Hr(d,m[E-1])},he.Predictor7=function(d,m,E){return Hr(d,m[E+0])},he.Predictor8=function(d,m,E){return Hr(m[E-1],m[E+0])},he.Predictor9=function(d,m,E){return Hr(m[E+0],m[E+1])},he.Predictor10=function(d,m,E){return Hr(Hr(d,m[E-1]),Hr(m[E+0],m[E+1]))},he.Predictor11=function(d,m,E){var W=m[E+0];return 0>=en(W>>24&255,d>>24&255,(m=m[E-1])>>24&255)+en(W>>16&255,d>>16&255,m>>16&255)+en(W>>8&255,d>>8&255,m>>8&255)+en(255&W,255&d,255&m)?W:d},he.Predictor12=function(d,m,E){var W=m[E+0];return(Vr((d>>24&255)+(W>>24&255)-((m=m[E-1])>>24&255))<<24|Vr((d>>16&255)+(W>>16&255)-(m>>16&255))<<16|Vr((d>>8&255)+(W>>8&255)-(m>>8&255))<<8|Vr((255&d)+(255&W)-(255&m)))>>>0},he.Predictor13=function(d,m,E){var W=m[E-1];return(In((d=Hr(d,m[E+0]))>>24&255,W>>24&255)<<24|In(d>>16&255,W>>16&255)<<16|In(d>>8&255,W>>8&255)<<8|In(d>>0&255,W>>0&255))>>>0};var jo=he.PredictorAdd0;he.PredictorAdd1=On,Or("Predictor2","PredictorAdd2"),Or("Predictor3","PredictorAdd3"),Or("Predictor4","PredictorAdd4"),Or("Predictor5","PredictorAdd5"),Or("Predictor6","PredictorAdd6"),Or("Predictor7","PredictorAdd7"),Or("Predictor8","PredictorAdd8"),Or("Predictor9","PredictorAdd9"),Or("Predictor10","PredictorAdd10"),Or("Predictor11","PredictorAdd11"),Or("Predictor12","PredictorAdd12"),Or("Predictor13","PredictorAdd13");var fo=he.PredictorAdd2;Nr("ColorIndexInverseTransform","MapARGB","32b",function(d){return d>>8&255},function(d){return d}),Nr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(d){return d},function(d){return d>>8&255});var Ei,po=he.ColorIndexInverseTransform,vu=he.MapARGB,zo=he.VP8LColorIndexInverseTransformAlpha,go=he.MapAlpha,Ca=he.VP8LPredictorsAdd=[];Ca.length=16,(he.VP8LPredictors=[]).length=16,(he.VP8LPredictorsAdd_C=[]).length=16,(he.VP8LPredictors_C=[]).length=16;var Kn,_s,za,Oi,Us,ta,ss,Ws,yi,os,Aa,Hs,Uo,ws,qs,xs,la,Ss,hi,Hn,Di,ci,Yi,Wo,Cs,Hl,ju,yu,ql=S(511),zu=S(2041),Gl=S(225),bu=S(767),_u=0,Yl=zu,mo=Gl,ua=bu,ha=ql,gl=0,Xl=1,wu=2,Vl=3,Ho=4,Kl=5,Zl=6,xu=7,ml=8,gn=9,Su=10,bh=[2,3,7],vl=[3,3,11],Cu=[280,256,256,256,40],_h=[0,1,1,1,0],wh=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],Ta=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],Jl=8,yl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],$l=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],qo=null,ca=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],Gs=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ql=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],Uu=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],tu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Wu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Au=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],As=[],fa=[],Ua=[],Ys=1,Hu=2,Xi=[],da=[];Cr("UpsampleRgbLinePair",oi,3),Cr("UpsampleBgrLinePair",ri,3),Cr("UpsampleRgbaLinePair",fl,4),Cr("UpsampleBgraLinePair",uo,4),Cr("UpsampleArgbLinePair",ja,4),Cr("UpsampleRgba4444LinePair",wi,2),Cr("UpsampleRgb565LinePair",qi,2);var qu=he.UpsampleRgbLinePair,Tu=he.UpsampleBgrLinePair,Gu=he.UpsampleRgbaLinePair,Yu=he.UpsampleBgraLinePair,Xu=he.UpsampleArgbLinePair,Ou=he.UpsampleRgba4444LinePair,Vu=he.UpsampleRgb565LinePair,eu=16,bl=1<<eu-1,Go=-227,Wi=482,Wa=6,Sh=(256<<Wa)-1,Ku=0,ru=S(256),Yo=S(256),Zu=S(256),Ju=S(256),Ch=S(Wi-Go),$u=S(Wi-Go);bs("YuvToRgbRow",oi,3),bs("YuvToBgrRow",ri,3),bs("YuvToRgbaRow",fl,4),bs("YuvToBgraRow",uo,4),bs("YuvToArgbRow",ja,4),bs("YuvToRgba4444Row",wi,2),bs("YuvToRgb565Row",qi,2);var vo=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],Xs=[0,2,8],Ah=[8,7,6,4,4,2,2,2,1,1,1,1],Qu=1;this.WebPDecodeRGBA=function(d,m,E,W,ot){var ct=Xl,ft=new ll,yt=new na;ft.ba=yt,yt.S=ct,yt.width=[yt.width],yt.height=[yt.height];var St=yt.width,It=yt.height,fe=new Qn;if(fe==null||d==null)var ke=2;else g(fe!=null),ke=js(d,m,E,fe.width,fe.height,fe.Pd,fe.Qd,fe.format,null);if(ke!=0?St=0:(St!=null&&(St[0]=fe.width[0]),It!=null&&(It[0]=fe.height[0]),St=1),St){yt.width=yt.width[0],yt.height=yt.height[0],W!=null&&(W[0]=yt.width),ot!=null&&(ot[0]=yt.height);t:{if(W=new io,(ot=new ul).data=d,ot.w=m,ot.ha=E,ot.kd=1,m=[0],g(ot!=null),((d=js(ot.data,ot.w,ot.ha,null,null,null,m,null,ot))==0||d==7)&&m[0]&&(d=4),(m=d)==0){if(g(ft!=null),W.data=ot.data,W.w=ot.w+ot.offset,W.ha=ot.ha-ot.offset,W.put=Ja,W.ac=Za,W.bc=nn,W.ma=ft,ot.xa){if((d=ro())==null){ft=1;break t}if(function(Pe,Ce){var ur=[0],qe=[0],de=[0];e:for(;;){if(Pe==null)return 0;if(Ce==null)return Pe.a=2,0;if(Pe.l=Ce,Pe.a=0,_r(Pe.m,Ce.data,Ce.w,Ce.ha),!Zi(Pe.m,ur,qe,de)){Pe.a=3;break e}if(Pe.xb=Hu,Ce.width=ur[0],Ce.height=qe[0],!ts(ur[0],qe[0],1,Pe,null))break e;return 1}return g(Pe.a!=0),0}(d,W)){if(W=(m=oa(W.width,W.height,ft.Oa,ft.ba))==0){e:{W=d;r:for(;;){if(W==null){W=0;break e}if(g(W.s.yc!=null),g(W.s.Ya!=null),g(0<W.s.Wb),g((E=W.l)!=null),g((ot=E.ma)!=null),W.xb!=0){if(W.ca=ot.ba,W.tb=ot.tb,g(W.ca!=null),!pl(ot.Oa,E,Vl)){W.a=2;break r}if(!no(W,E.width)||E.da)break r;if((E.da||Ka(W.ca.S))&&yr(),11>W.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),W.ca.f.kb.F!=null&&yr()),W.Pb&&0<W.s.ua&&W.s.vb.X==null&&!Xr(W.s.vb,W.s.Wa.Xa)){W.a=1;break r}W.xb=0}if(!vi(W,W.V,W.Ba,W.c,W.i,E.o,Is))break r;ot.Dc=W.Ma,W=1;break e}g(W.a!=0),W=0}W=!W}W&&(m=d.a)}else m=d.a}else{if((d=new Ns)==null){ft=1;break t}if(d.Fa=ot.na,d.P=ot.P,d.qc=ot.Sa,Dn(d,W)){if((m=oa(W.width,W.height,ft.Oa,ft.ba))==0){if(d.Aa=0,E=ft.Oa,g((ot=d)!=null),E!=null){if(0<(St=0>(St=E.Md)?0:100<St?255:255*St/100)){for(It=fe=0;4>It;++It)12>(ke=ot.pb[It]).lc&&(ke.ia=St*Ah[0>ke.lc?0:ke.lc]>>3),fe|=ke.ia;fe&&(alert("todo:VP8InitRandom"),ot.ia=1)}ot.Ga=E.Id,100<ot.Ga?ot.Ga=100:0>ot.Ga&&(ot.Ga=0)}Lo(d,W)||(m=d.a)}}else m=d.a}m==0&&ft.Oa!=null&&ft.Oa.fd&&(m=co(ft.ba))}ft=m}ct=ft!=0?null:11>ct?yt.f.RGBA.eb:yt.f.kb.y}else ct=null;return ct};var Pu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function K(mr,he){for(var Ve="",ie=0;ie<4;ie++)Ve+=String.fromCharCode(mr[he++]);return Ve}function bt(mr,he){return(mr[he+0]<<0|mr[he+1]<<8|mr[he+2]<<16)>>>0}function vt(mr,he){return(mr[he+0]<<0|mr[he+1]<<8|mr[he+2]<<16|mr[he+3]<<24)>>>0}new I;var Lt=[0],G=[0],Vt=[],Ft=new I,$t=k,Nt=function(mr,he){var Ve={},ie=0,Bt=!1,ue=0,le=0;if(Ve.frames=[],!function(wt,Qt,me,Oe){for(var Ie=0;Ie<Oe;Ie++)if(wt[Qt+Ie]!=me.charCodeAt(Ie))return!0;return!1}(mr,he,"RIFF",4)){var $e,Ke;for(vt(mr,he+=4),he+=8;he<mr.length;){var gr=K(mr,he),Re=vt(mr,he+=4);he+=4;var _r=Re+(1&Re);switch(gr){case"VP8 ":case"VP8L":Ve.frames[ie]===void 0&&(Ve.frames[ie]={}),(ee=Ve.frames[ie]).src_off=Bt?le:he-8,ee.src_size=ue+Re+8,ie++,Bt&&(Bt=!1,ue=0,le=0);break;case"VP8X":(ee=Ve.header={}).feature_flags=mr[he];var tr=he+4;ee.canvas_width=1+bt(mr,tr),tr+=3,ee.canvas_height=1+bt(mr,tr),tr+=3;break;case"ALPH":Bt=!0,ue=_r+8,le=he-8;break;case"ANIM":(ee=Ve.header).bgcolor=vt(mr,he),tr=he+4,ee.loop_count=($e=mr)[(Ke=tr)+0]<<0|$e[Ke+1]<<8,tr+=2;break;case"ANMF":var Tr,ee;(ee=Ve.frames[ie]={}).offset_x=2*bt(mr,he),he+=3,ee.offset_y=2*bt(mr,he),he+=3,ee.width=1+bt(mr,he),he+=3,ee.height=1+bt(mr,he),he+=3,ee.duration=bt(mr,he),he+=3,Tr=mr[he++],ee.dispose=1&Tr,ee.blend=Tr>>1&1}gr!="ANMF"&&(he+=_r)}return Ve}}($t,0);Nt.response=$t,Nt.rgbaoutput=!0,Nt.dataurl=!1;var gt=Nt.header?Nt.header:null,Ae=Nt.frames?Nt.frames:null;if(gt){gt.loop_counter=gt.loop_count,Lt=[gt.canvas_height],G=[gt.canvas_width];for(var Be=0;Be<Ae.length&&Ae[Be].blend!=0;Be++);}var Qe=Ae[0],fr=Ft.WebPDecodeRGBA($t,Qe.src_off,Qe.src_size,G,Lt);Qe.rgba=fr,Qe.imgwidth=G[0],Qe.imgheight=Lt[0];for(var Ye=0;Ye<G[0]*Lt[0]*4;Ye++)Vt[Ye]=fr[Ye];return this.width=G,this.height=Lt,this.data=Vt,this}(function(k){var g=function(){return typeof pt.b=="function"},y=function(G,Vt,Ft,$t){var Nt=4,gt=P;switch($t){case k.image_compression.FAST:Nt=1,gt=S;break;case k.image_compression.MEDIUM:Nt=6,gt=j;break;case k.image_compression.SLOW:Nt=9,gt=I}G=w(G,Vt,Ft,gt);var Ae=Object(pt.b)(G,{level:Nt});return k.__addimage__.arrayBufferToBinaryString(Ae)},w=function(G,Vt,Ft,$t){for(var Nt,gt,Ae,Be=G.length/Vt,Qe=new Uint8Array(G.length+Be),fr=bt(),Ye=0;Ye<Be;Ye+=1){if(Ae=Ye*Vt,Nt=G.subarray(Ae,Ae+Vt),$t)Qe.set($t(Nt,Ft,gt),Ae+Ye);else{for(var mr,he=fr.length,Ve=[];mr<he;mr+=1)Ve[mr]=fr[mr](Nt,Ft,gt);var ie=vt(Ve.concat());Qe.set(Ve[ie],Ae+Ye)}gt=Nt}return Qe},T=function(G){var Vt=Array.apply([],G);return Vt.unshift(0),Vt},S=function(G,Vt){var Ft,$t=[],Nt=G.length;$t[0]=1;for(var gt=0;gt<Nt;gt+=1)Ft=G[gt-Vt]||0,$t[gt+1]=G[gt]-Ft+256&255;return $t},P=function(G,Vt,Ft){var $t,Nt=[],gt=G.length;Nt[0]=2;for(var Ae=0;Ae<gt;Ae+=1)$t=Ft&&Ft[Ae]||0,Nt[Ae+1]=G[Ae]-$t+256&255;return Nt},j=function(G,Vt,Ft){var $t,Nt,gt=[],Ae=G.length;gt[0]=3;for(var Be=0;Be<Ae;Be+=1)$t=G[Be-Vt]||0,Nt=Ft&&Ft[Be]||0,gt[Be+1]=G[Be]+256-($t+Nt>>>1)&255;return gt},I=function(G,Vt,Ft){var $t,Nt,gt,Ae,Be=[],Qe=G.length;Be[0]=4;for(var fr=0;fr<Qe;fr+=1)$t=G[fr-Vt]||0,Nt=Ft&&Ft[fr]||0,gt=Ft&&Ft[fr-Vt]||0,Ae=K($t,Nt,gt),Be[fr+1]=G[fr]-Ae+256&255;return Be},K=function(G,Vt,Ft){if(G===Vt&&Vt===Ft)return G;var $t=Math.abs(Vt-Ft),Nt=Math.abs(G-Ft),gt=Math.abs(G+Vt-Ft-Ft);return $t<=Nt&&$t<=gt?G:Nt<=gt?Vt:Ft},bt=function(){return[T,S,P,j,I]},vt=function(G){var Vt=G.map(function(Ft){return Ft.reduce(function($t,Nt){return $t+Math.abs(Nt)},0)});return Vt.indexOf(Math.min.apply(null,Vt))};k.processPNG=function(Lt,G,Vt,Ft){var $t,Nt,gt,Ae,Be,Qe,fr,Ye,mr,he,Ve,ie,Bt,ue,le,$e=this.decode.FLATE_DECODE,Ke="";if(this.__addimage__.isArrayBuffer(Lt)&&(Lt=new Uint8Array(Lt)),this.__addimage__.isArrayBufferView(Lt)){if(Lt=(gt=new Ht(Lt)).imgData,Nt=gt.bits,$t=gt.colorSpace,Be=gt.colors,[4,6].indexOf(gt.colorType)!==-1){if(gt.bits===8){mr=(Ye=gt.pixelBitlength==32?new Uint32Array(gt.decodePixels().buffer):gt.pixelBitlength==16?new Uint16Array(gt.decodePixels().buffer):new Uint8Array(gt.decodePixels().buffer)).length,Ve=new Uint8Array(mr*gt.colors),he=new Uint8Array(mr);var gr,Re=gt.pixelBitlength-gt.bits;for(ue=0,le=0;ue<mr;ue++){for(Bt=Ye[ue],gr=0;gr<Re;)Ve[le++]=Bt>>>gr&255,gr+=gt.bits;he[ue]=Bt>>>gr&255}}if(gt.bits===16){mr=(Ye=new Uint32Array(gt.decodePixels().buffer)).length,Ve=new Uint8Array(mr*(32/gt.pixelBitlength)*gt.colors),he=new Uint8Array(mr*(32/gt.pixelBitlength)),ie=gt.colors>1,ue=0,le=0;for(var _r=0;ue<mr;)Bt=Ye[ue++],Ve[le++]=Bt>>>0&255,ie&&(Ve[le++]=Bt>>>16&255,Bt=Ye[ue++],Ve[le++]=Bt>>>0&255),he[_r++]=Bt>>>16&255;Nt=8}Ft!==k.image_compression.NONE&&g()?(Lt=y(Ve,gt.width*gt.colors,gt.colors,Ft),fr=y(he,gt.width,1,Ft)):(Lt=Ve,fr=he,$e=void 0)}if(gt.colorType===3&&($t=this.color_spaces.INDEXED,Qe=gt.palette,gt.transparency.indexed)){var tr=gt.transparency.indexed,Tr=0;for(ue=0,mr=tr.length;ue<mr;++ue)Tr+=tr[ue];if((Tr/=255)===mr-1&&tr.indexOf(0)!==-1)Ae=[tr.indexOf(0)];else if(Tr!==mr){for(Ye=gt.decodePixels(),he=new Uint8Array(Ye.length),ue=0,mr=Ye.length;ue<mr;ue++)he[ue]=tr[Ye[ue]];fr=y(he,gt.width,1)}}var ee=function(wt){var Qt;switch(wt){case k.image_compression.FAST:Qt=11;break;case k.image_compression.MEDIUM:Qt=13;break;case k.image_compression.SLOW:Qt=14;break;default:Qt=12}return Qt}(Ft);return $e===this.decode.FLATE_DECODE&&(Ke="/Predictor "+ee+" "),Ke+="/Colors "+Be+" /BitsPerComponent "+Nt+" /Columns "+gt.width,(this.__addimage__.isArrayBuffer(Lt)||this.__addimage__.isArrayBufferView(Lt))&&(Lt=this.__addimage__.arrayBufferToBinaryString(Lt)),(fr&&this.__addimage__.isArrayBuffer(fr)||this.__addimage__.isArrayBufferView(fr))&&(fr=this.__addimage__.arrayBufferToBinaryString(fr)),{alias:Vt,data:Lt,index:G,filter:$e,decodeParameters:Ke,transparency:Ae,palette:Qe,sMask:fr,predictor:ee,width:gt.width,height:gt.height,bitsPerComponent:Nt,colorSpace:$t}}}})(Y.API),function(k){k.processGIF89A=function(g,y,w,T){var S=new Xt(g),P=S.width,j=S.height,I=[];S.decodeAndBlitFrameRGBA(0,I);var K={data:I,width:P,height:j},bt=new Ne(100).encode(K,100);return k.processJPEG.call(this,bt,y,w,T)},k.processGIF87A=k.processGIF89A}(Y.API),ne.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var k=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(k);for(var g=0;g<k;g++){var y=this.datav.getUint8(this.pos++,!0),w=this.datav.getUint8(this.pos++,!0),T=this.datav.getUint8(this.pos++,!0),S=this.datav.getUint8(this.pos++,!0);this.palette[g]={red:T,green:w,blue:y,quad:S}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},ne.prototype.parseBGR=function(){this.pos=this.offset;try{var k="bit"+this.bitPP,g=this.width*this.height*4;this.data=new Uint8Array(g),this[k]()}catch(y){Q.log("bit decode error:"+y)}},ne.prototype.bit1=function(){var k,g=Math.ceil(this.width/8),y=g%4;for(k=this.height-1;k>=0;k--){for(var w=this.bottom_up?k:this.height-1-k,T=0;T<g;T++)for(var S=this.datav.getUint8(this.pos++,!0),P=w*this.width*4+8*T*4,j=0;j<8&&8*T+j<this.width;j++){var I=this.palette[S>>7-j&1];this.data[P+4*j]=I.blue,this.data[P+4*j+1]=I.green,this.data[P+4*j+2]=I.red,this.data[P+4*j+3]=255}y!==0&&(this.pos+=4-y)}},ne.prototype.bit4=function(){for(var k=Math.ceil(this.width/2),g=k%4,y=this.height-1;y>=0;y--){for(var w=this.bottom_up?y:this.height-1-y,T=0;T<k;T++){var S=this.datav.getUint8(this.pos++,!0),P=w*this.width*4+2*T*4,j=S>>4,I=15&S,K=this.palette[j];if(this.data[P]=K.blue,this.data[P+1]=K.green,this.data[P+2]=K.red,this.data[P+3]=255,2*T+1>=this.width)break;K=this.palette[I],this.data[P+4]=K.blue,this.data[P+4+1]=K.green,this.data[P+4+2]=K.red,this.data[P+4+3]=255}g!==0&&(this.pos+=4-g)}},ne.prototype.bit8=function(){for(var k=this.width%4,g=this.height-1;g>=0;g--){for(var y=this.bottom_up?g:this.height-1-g,w=0;w<this.width;w++){var T=this.datav.getUint8(this.pos++,!0),S=y*this.width*4+4*w;if(T<this.palette.length){var P=this.palette[T];this.data[S]=P.red,this.data[S+1]=P.green,this.data[S+2]=P.blue,this.data[S+3]=255}else this.data[S]=255,this.data[S+1]=255,this.data[S+2]=255,this.data[S+3]=255}k!==0&&(this.pos+=4-k)}},ne.prototype.bit15=function(){for(var k=this.width%3,g=parseInt("11111",2),y=this.height-1;y>=0;y--){for(var w=this.bottom_up?y:this.height-1-y,T=0;T<this.width;T++){var S=this.datav.getUint16(this.pos,!0);this.pos+=2;var P=(S&g)/g*255|0,j=(S>>5&g)/g*255|0,I=(S>>10&g)/g*255|0,K=S>>15?255:0,bt=w*this.width*4+4*T;this.data[bt]=I,this.data[bt+1]=j,this.data[bt+2]=P,this.data[bt+3]=K}this.pos+=k}},ne.prototype.bit16=function(){for(var k=this.width%3,g=parseInt("11111",2),y=parseInt("111111",2),w=this.height-1;w>=0;w--){for(var T=this.bottom_up?w:this.height-1-w,S=0;S<this.width;S++){var P=this.datav.getUint16(this.pos,!0);this.pos+=2;var j=(P&g)/g*255|0,I=(P>>5&y)/y*255|0,K=(P>>11)/g*255|0,bt=T*this.width*4+4*S;this.data[bt]=K,this.data[bt+1]=I,this.data[bt+2]=j,this.data[bt+3]=255}this.pos+=k}},ne.prototype.bit24=function(){for(var k=this.height-1;k>=0;k--){for(var g=this.bottom_up?k:this.height-1-k,y=0;y<this.width;y++){var w=this.datav.getUint8(this.pos++,!0),T=this.datav.getUint8(this.pos++,!0),S=this.datav.getUint8(this.pos++,!0),P=g*this.width*4+4*y;this.data[P]=S,this.data[P+1]=T,this.data[P+2]=w,this.data[P+3]=255}this.pos+=this.width%4}},ne.prototype.bit32=function(){for(var k=this.height-1;k>=0;k--)for(var g=this.bottom_up?k:this.height-1-k,y=0;y<this.width;y++){var w=this.datav.getUint8(this.pos++,!0),T=this.datav.getUint8(this.pos++,!0),S=this.datav.getUint8(this.pos++,!0),P=this.datav.getUint8(this.pos++,!0),j=g*this.width*4+4*y;this.data[j]=S,this.data[j+1]=T,this.data[j+2]=w,this.data[j+3]=P}},ne.prototype.getData=function(){return this.data},function(k){k.processBMP=function(g,y,w,T){var S=new ne(g,!1),P=S.width,j=S.height,I={data:S.getData(),width:P,height:j},K=new Ne(100).encode(I,100);return k.processJPEG.call(this,K,y,w,T)}}(Y.API),je.prototype.getData=function(){return this.data},function(k){k.processWEBP=function(g,y,w,T){var S=new je(g,!1),P=S.width,j=S.height,I={data:S.getData(),width:P,height:j},K=new Ne(100).encode(I,100);return k.processJPEG.call(this,K,y,w,T)}}(Y.API),Y.API.processRGBA=function(k,g,y){for(var w=k.data,T=w.length,S=new Uint8Array(T/4*3),P=new Uint8Array(T/4),j=0,I=0,K=0;K<T;K+=4){var bt=w[K],vt=w[K+1],Lt=w[K+2],G=w[K+3];S[j++]=bt,S[j++]=vt,S[j++]=Lt,P[I++]=G}var Vt=this.__addimage__.arrayBufferToBinaryString(S);return{alpha:this.__addimage__.arrayBufferToBinaryString(P),data:Vt,index:g,alias:y,colorSpace:"DeviceRGB",bitsPerComponent:8,width:k.width,height:k.height}},Y.API.setLanguage=function(k){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[k]!==void 0&&(this.internal.languageSettings.languageCode=k,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},B=Y.API,O=B.getCharWidthsArray=function(k,g){var y,w,T=(g=g||{}).font||this.internal.getFont(),S=g.fontSize||this.internal.getFontSize(),P=g.charSpace||this.internal.getCharSpace(),j=g.widths?g.widths:T.metadata.Unicode.widths,I=j.fof?j.fof:1,K=g.kerning?g.kerning:T.metadata.Unicode.kerning,bt=K.fof?K.fof:1,vt=g.doKerning!==!1,Lt=0,G=k.length,Vt=0,Ft=j[0]||I,$t=[];for(y=0;y<G;y++)w=k.charCodeAt(y),typeof T.metadata.widthOfString=="function"?$t.push((T.metadata.widthOfGlyph(T.metadata.characterToGlyph(w))+P*(1e3/S)||0)/1e3):(Lt=vt&&be()(K[w])==="object"&&!isNaN(parseInt(K[w][Vt],10))?K[w][Vt]/bt:0,$t.push((j[w]||Ft)/I+Lt)),Vt=w;return $t},q=B.getStringUnitWidth=function(k,g){var y=(g=g||{}).fontSize||this.internal.getFontSize(),w=g.font||this.internal.getFont(),T=g.charSpace||this.internal.getCharSpace();return B.processArabic&&(k=B.processArabic(k)),typeof w.metadata.widthOfString=="function"?w.metadata.widthOfString(k,y,T)/y:O.apply(this,arguments).reduce(function(S,P){return S+P},0)},st=function(g,y,w,T){for(var S=[],P=0,j=g.length,I=0;P!==j&&I+y[P]<w;)I+=y[P],P++;S.push(g.slice(0,P));var K=P;for(I=0;P!==j;)I+y[P]>T&&(S.push(g.slice(K,P)),I=0,K=P),I+=y[P],P++;return K!==P&&S.push(g.slice(K,P)),S},Pt=function(g,y,w){w||(w={});var T,S,P,j,I,K,bt,vt=[],Lt=[vt],G=w.textIndent||0,Vt=0,Ft=0,$t=g.split(" "),Nt=O.apply(this,[" ",w])[0];if(K=w.lineIndent===-1?$t[0].length+2:w.lineIndent||0){var gt=Array(K).join(" "),Ae=[];$t.map(function(Qe){(Qe=Qe.split(/\s*\n/)).length>1?Ae=Ae.concat(Qe.map(function(fr,Ye){return(Ye&&fr.length?`
`:"")+fr})):Ae.push(Qe[0])}),$t=Ae,K=q.apply(this,[gt,w])}for(P=0,j=$t.length;P<j;P++){var Be=0;if(T=$t[P],K&&T[0]==`
`&&(T=T.substr(1),Be=1),G+Vt+(Ft=(S=O.apply(this,[T,w])).reduce(function(Qe,fr){return Qe+fr},0))>y||Be){if(Ft>y){for(I=st.apply(this,[T,S,y-(G+Vt),y]),vt.push(I.shift()),vt=[I.pop()];I.length;)Lt.push([I.shift()]);Ft=S.slice(T.length-(vt[0]?vt[0].length:0)).reduce(function(Qe,fr){return Qe+fr},0)}else vt=[T];Lt.push(vt),G=Ft+K,Vt=Nt}else vt.push(T),G+=Vt+Ft,Vt=Nt}return bt=K?function(Qe,fr){return(fr?gt:"")+Qe.join(" ")}:function(Qe){return Qe.join(" ")},Lt.map(bt)},B.splitTextToSize=function(k,g,y){var w,T=(y=y||{}).fontSize||this.internal.getFontSize(),S=function(bt){if(bt.widths&&bt.kerning)return{widths:bt.widths,kerning:bt.kerning};var vt=this.internal.getFont(bt.fontName,bt.fontStyle);return vt.metadata.Unicode?{widths:vt.metadata.Unicode.widths||{0:1},kerning:vt.metadata.Unicode.kerning||{}}:{font:vt.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,y);w=Array.isArray(k)?k:String(k).split(/\r?\n/);var P=1*this.internal.scaleFactor*g/T;S.textIndent=y.textIndent?1*y.textIndent*this.internal.scaleFactor/T:0,S.lineIndent=y.lineIndent;var j,I,K=[];for(j=0,I=w.length;j<I;j++)K=K.concat(Pt.apply(this,[w[j],P,S]));return K},function(k){k.__fontmetrics__=k.__fontmetrics__||{};for(var g="klmnopqrstuvwxyz",y={},w={},T=0;T<g.length;T++)y[g[T]]="0123456789abcdef"[T],w["0123456789abcdef"[T]]=g[T];var S=function(Lt){return"0x"+parseInt(Lt,10).toString(16)},P=k.__fontmetrics__.compress=function(vt){var Lt,G,Vt,Ft,$t=["{"];for(var Nt in vt){if(Lt=vt[Nt],isNaN(parseInt(Nt,10))?G="'"+Nt+"'":(Nt=parseInt(Nt,10),G=(G=S(Nt).slice(2)).slice(0,-1)+w[G.slice(-1)]),typeof Lt=="number")Lt<0?(Vt=S(Lt).slice(3),Ft="-"):(Vt=S(Lt).slice(2),Ft=""),Vt=Ft+Vt.slice(0,-1)+w[Vt.slice(-1)];else{if(be()(Lt)!=="object")throw new Error("Don't know what to do with value type "+be()(Lt)+".");Vt=P(Lt)}$t.push(G+Vt)}return $t.push("}"),$t.join("")},j=k.__fontmetrics__.uncompress=function(vt){if(typeof vt!="string")throw new Error("Invalid argument passed to uncompress.");for(var Lt,G,Vt,Ft,$t={},Nt=1,gt=$t,Ae=[],Be="",Qe="",fr=vt.length-1,Ye=1;Ye<fr;Ye+=1)(Ft=vt[Ye])=="'"?Lt?(Vt=Lt.join(""),Lt=void 0):Lt=[]:Lt?Lt.push(Ft):Ft=="{"?(Ae.push([gt,Vt]),gt={},Vt=void 0):Ft=="}"?((G=Ae.pop())[0][G[1]]=gt,Vt=void 0,gt=G[0]):Ft=="-"?Nt=-1:Vt===void 0?y.hasOwnProperty(Ft)?(Be+=y[Ft],Vt=parseInt(Be,16)*Nt,Nt=1,Be=""):Be+=Ft:y.hasOwnProperty(Ft)?(Qe+=y[Ft],gt[Vt]=parseInt(Qe,16)*Nt,Nt=1,Vt=void 0,Qe=""):Qe+=Ft;return $t},I={codePages:["WinAnsiEncoding"],WinAnsiEncoding:j("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},K={Unicode:{Courier:I,"Courier-Bold":I,"Courier-BoldOblique":I,"Courier-Oblique":I,Helvetica:I,"Helvetica-Bold":I,"Helvetica-BoldOblique":I,"Helvetica-Oblique":I,"Times-Roman":I,"Times-Bold":I,"Times-BoldItalic":I,"Times-Italic":I}},bt={Unicode:{"Courier-Oblique":j("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":j("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":j("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:j("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":j("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":j("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:j("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:j("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":j("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:j("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":j("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":j("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":j("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":j("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};k.events.push(["addFont",function(vt){var Lt=vt.font,G=bt.Unicode[Lt.postScriptName];G&&(Lt.metadata.Unicode={},Lt.metadata.Unicode.widths=G.widths,Lt.metadata.Unicode.kerning=G.kerning);var Vt=K.Unicode[Lt.postScriptName];Vt&&(Lt.metadata.Unicode.encoding=Vt,Lt.encoding=Vt.codePages[0])}])}(Y.API),function(k){var g=function(w){for(var T=w.length,S=new Uint8Array(T),P=0;P<T;P++)S[P]=w.charCodeAt(P);return S};k.API.events.push(["addFont",function(y){var w=void 0,T=y.font,S=y.instance;if(!T.isStandardFont){if(S===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+T.postScriptName+"').");if(typeof(w=S.existsFileInVFS(T.postScriptName)===!1?S.loadFile(T.postScriptName):S.getFileFromVFS(T.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+T.postScriptName+"').");(function(P,j){j=/^\x00\x01\x00\x00/.test(j)?g(j):g(u(j)),P.metadata=k.API.TTFFont.open(j),P.metadata.Unicode=P.metadata.Unicode||{encoding:{},kerning:{},widths:[]},P.metadata.glyIdsUsed=[0]})(T,w)}}])}(Y),function(k){function g(){return(dt.canvg?Promise.resolve(dt.canvg):De.e(64).then(De.bind(null,"DXPr"))).catch(function(y){return Promise.reject(new Error("Could not load canvg: "+y))}).then(function(y){return y.default?y.default:y})}Y.API.addSvgAsImage=function(y,w,T,S,P,j,I,K){if(isNaN(w)||isNaN(T))throw Q.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(S)||isNaN(P))throw Q.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var bt=document.createElement("canvas");bt.width=S,bt.height=P;var vt=bt.getContext("2d");vt.fillStyle="#fff",vt.fillRect(0,0,bt.width,bt.height);var Lt={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},G=this;return g().then(function(Vt){return Vt.fromString(vt,y,Lt)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Vt){return Vt.render(Lt)}).then(function(){G.addImage(bt.toDataURL("image/jpeg",1),w,T,S,P,I,K)})}}(),Y.API.putTotalPages=function(k){var g,y=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(g=new RegExp(k,"g"),y=this.internal.getNumberOfPages()):(g=new RegExp(this.pdfEscape16(k,this.internal.getFont()),"g"),y=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var w=1;w<=this.internal.getNumberOfPages();w++)for(var T=0;T<this.internal.pages[w].length;T++)this.internal.pages[w][T]=this.internal.pages[w][T].replace(g,y);return this},Y.API.viewerPreferences=function(k,g){var y;k=k||{},g=g||!1;var w,T,S,P={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},j=Object.keys(P),I=[],K=0,bt=0,vt=0;function Lt(Vt,Ft){var $t,Nt=!1;for($t=0;$t<Vt.length;$t+=1)Vt[$t]===Ft&&(Nt=!0);return Nt}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(P)),this.internal.viewerpreferences.isSubscribed=!1),y=this.internal.viewerpreferences.configuration,k==="reset"||g===!0){var G=j.length;for(vt=0;vt<G;vt+=1)y[j[vt]].value=y[j[vt]].defaultValue,y[j[vt]].explicitSet=!1}if(be()(k)==="object"){for(T in k)if(S=k[T],Lt(j,T)&&S!==void 0){if(y[T].type==="boolean"&&typeof S=="boolean")y[T].value=S;else if(y[T].type==="name"&&Lt(y[T].valueSet,S))y[T].value=S;else if(y[T].type==="integer"&&Number.isInteger(S))y[T].value=S;else if(y[T].type==="array"){for(K=0;K<S.length;K+=1)if(w=!0,S[K].length===1&&typeof S[K][0]=="number")I.push(String(S[K]-1));else if(S[K].length>1){for(bt=0;bt<S[K].length;bt+=1)typeof S[K][bt]!="number"&&(w=!1);w===!0&&I.push([S[K][0]-1,S[K][1]-1].join(" "))}y[T].value="["+I.join(" ")+"]"}else y[T].value=y[T].defaultValue;y[T].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var Vt,Ft=[];for(Vt in y)y[Vt].explicitSet===!0&&(y[Vt].type==="name"?Ft.push("/"+Vt+" /"+y[Vt].value):Ft.push("/"+Vt+" "+y[Vt].value));Ft.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+Ft.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=y,this},function(k){var g=function(){var T='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',S=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),P=unescape(encodeURIComponent(T)),j=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),I=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),K=unescape(encodeURIComponent("</x:xmpmeta>")),bt=P.length+j.length+I.length+S.length+K.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+bt+" >>"),this.internal.write("stream"),this.internal.write(S+P+j+I+K),this.internal.write("endstream"),this.internal.write("endobj")},y=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};k.addMetadata=function(w,T){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:w,namespaceuri:T||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",y),this.internal.events.subscribe("postPutResources",g)),this}}(Y.API),function(k){var g=k.API,y=g.pdfEscape16=function(S,P){for(var j,I=P.metadata.Unicode.widths,K=["","0","00","000","0000"],bt=[""],vt=0,Lt=S.length;vt<Lt;++vt){if(j=P.metadata.characterToGlyph(S.charCodeAt(vt)),P.metadata.glyIdsUsed.push(j),P.metadata.toUnicode[j]=S.charCodeAt(vt),I.indexOf(j)==-1&&(I.push(j),I.push([parseInt(P.metadata.widthOfGlyph(j),10)])),j=="0")return bt.join("");j=j.toString(16),bt.push(K[4-j.length],j)}return bt.join("")},w=function(P){var j,I,K,bt,vt,Lt,G;for(vt=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,K=[],Lt=0,G=(I=Object.keys(P).sort(function(Vt,Ft){return Vt-Ft})).length;Lt<G;Lt++)j=I[Lt],K.length>=100&&(vt+=`
`+K.length+` beginbfchar
`+K.join(`
`)+`
endbfchar`,K=[]),P[j]!==void 0&&P[j]!==null&&typeof P[j].toString=="function"&&(bt=("0000"+P[j].toString(16)).slice(-4),j=("0000"+(+j).toString(16)).slice(-4),K.push("<"+j+"><"+bt+">"));return K.length&&(vt+=`
`+K.length+` beginbfchar
`+K.join(`
`)+`
endbfchar
`),vt+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};g.events.push(["putFont",function(S){(function(P){var j=P.font,I=P.out,K=P.newObject,bt=P.putStream;if(j.metadata instanceof k.API.TTFFont&&j.encoding==="Identity-H"){for(var vt=j.metadata.Unicode.widths,Lt=j.metadata.subset.encode(j.metadata.glyIdsUsed,1),G="",Vt=0;Vt<Lt.length;Vt++)G+=String.fromCharCode(Lt[Vt]);var Ft=K();bt({data:G,addLength1:!0,objectId:Ft}),I("endobj");var $t=K();bt({data:w(j.metadata.toUnicode),addLength1:!0,objectId:$t}),I("endobj");var Nt=K();I("<<"),I("/Type /FontDescriptor"),I("/FontName /"+Gt(j.fontName)),I("/FontFile2 "+Ft+" 0 R"),I("/FontBBox "+k.API.PDFObject.convert(j.metadata.bbox)),I("/Flags "+j.metadata.flags),I("/StemV "+j.metadata.stemV),I("/ItalicAngle "+j.metadata.italicAngle),I("/Ascent "+j.metadata.ascender),I("/Descent "+j.metadata.decender),I("/CapHeight "+j.metadata.capHeight),I(">>"),I("endobj");var gt=K();I("<<"),I("/Type /Font"),I("/BaseFont /"+Gt(j.fontName)),I("/FontDescriptor "+Nt+" 0 R"),I("/W "+k.API.PDFObject.convert(vt)),I("/CIDToGIDMap /Identity"),I("/DW 1000"),I("/Subtype /CIDFontType2"),I("/CIDSystemInfo"),I("<<"),I("/Supplement 0"),I("/Registry (Adobe)"),I("/Ordering ("+j.encoding+")"),I(">>"),I(">>"),I("endobj"),j.objectNumber=K(),I("<<"),I("/Type /Font"),I("/Subtype /Type0"),I("/ToUnicode "+$t+" 0 R"),I("/BaseFont /"+Gt(j.fontName)),I("/Encoding /"+j.encoding),I("/DescendantFonts ["+gt+" 0 R]"),I(">>"),I("endobj"),j.isAlreadyPutted=!0}})(S)}]),g.events.push(["putFont",function(S){(function(P){var j=P.font,I=P.out,K=P.newObject,bt=P.putStream;if(j.metadata instanceof k.API.TTFFont&&j.encoding==="WinAnsiEncoding"){for(var vt=j.metadata.rawData,Lt="",G=0;G<vt.length;G++)Lt+=String.fromCharCode(vt[G]);var Vt=K();bt({data:Lt,addLength1:!0,objectId:Vt}),I("endobj");var Ft=K();bt({data:w(j.metadata.toUnicode),addLength1:!0,objectId:Ft}),I("endobj");var $t=K();I("<<"),I("/Descent "+j.metadata.decender),I("/CapHeight "+j.metadata.capHeight),I("/StemV "+j.metadata.stemV),I("/Type /FontDescriptor"),I("/FontFile2 "+Vt+" 0 R"),I("/Flags 96"),I("/FontBBox "+k.API.PDFObject.convert(j.metadata.bbox)),I("/FontName /"+Gt(j.fontName)),I("/ItalicAngle "+j.metadata.italicAngle),I("/Ascent "+j.metadata.ascender),I(">>"),I("endobj"),j.objectNumber=K();for(var Nt=0;Nt<j.metadata.hmtx.widths.length;Nt++)j.metadata.hmtx.widths[Nt]=parseInt(j.metadata.hmtx.widths[Nt]*(1e3/j.metadata.head.unitsPerEm));I("<</Subtype/TrueType/Type/Font/ToUnicode "+Ft+" 0 R/BaseFont/"+Gt(j.fontName)+"/FontDescriptor "+$t+" 0 R/Encoding/"+j.encoding+" /FirstChar 29 /LastChar 255 /Widths "+k.API.PDFObject.convert(j.metadata.hmtx.widths)+">>"),I("endobj"),j.isAlreadyPutted=!0}})(S)}]);var T=function(P){var j,I=P.text||"",K=P.x,bt=P.y,vt=P.options||{},Lt=P.mutex||{},G=Lt.pdfEscape,Vt=Lt.activeFontKey,Ft=Lt.fonts,$t=Vt,Nt="",gt=0,Ae="",Be=Ft[$t].encoding;if(Ft[$t].encoding!=="Identity-H")return{text:I,x:K,y:bt,options:vt,mutex:Lt};for(Ae=I,$t=Vt,Array.isArray(I)&&(Ae=I[0]),gt=0;gt<Ae.length;gt+=1)Ft[$t].metadata.hasOwnProperty("cmap")&&(j=Ft[$t].metadata.cmap.unicode.codeMap[Ae[gt].charCodeAt(0)]),j||Ae[gt].charCodeAt(0)<256&&Ft[$t].metadata.hasOwnProperty("Unicode")?Nt+=Ae[gt]:Nt+="";var Qe="";return parseInt($t.slice(1))<14||Be==="WinAnsiEncoding"?Qe=G(Nt,$t).split("").map(function(fr){return fr.charCodeAt(0).toString(16)}).join(""):Be==="Identity-H"&&(Qe=y(Nt,Ft[$t])),Lt.isHex=!0,{text:Qe,x:K,y:bt,options:vt,mutex:Lt}};g.events.push(["postProcessText",function(S){var P=S.text||"",j=[],I={text:P,x:S.x,y:S.y,options:S.options,mutex:S.mutex};if(Array.isArray(P)){var K=0;for(K=0;K<P.length;K+=1)Array.isArray(P[K])&&P[K].length===3?j.push([T(Object.assign({},I,{text:P[K][0]})).text,P[K][1],P[K][2]]):j.push(T(Object.assign({},I,{text:P[K]})).text);S.text=j}else S.text=T(Object.assign({},I,{text:P})).text}])}(Y),function(k){var g=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};k.existsFileInVFS=function(y){return g.call(this),this.internal.vFS[y]!==void 0},k.addFileToVFS=function(y,w){return g.call(this),this.internal.vFS[y]=w,this},k.getFileFromVFS=function(y){return g.call(this),this.internal.vFS[y]!==void 0?this.internal.vFS[y]:null}}(Y.API),function(k){k.__bidiEngine__=k.prototype.__bidiEngine__=function(w){var T,S,P,j,I,K,bt,vt=g,Lt=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],G=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Vt={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Ft={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},$t=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],Nt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),gt=!1,Ae=0;this.__bidiEngine__={};var Be=function(Bt){var ue=Bt.charCodeAt(),le=ue>>8,$e=Ft[le];return $e!==void 0?vt[256*$e+(255&ue)]:le===252||le===253?"AL":Nt.test(le)?"L":le===8?"R":"N"},Qe=function(Bt){for(var ue,le=0;le<Bt.length;le++){if((ue=Be(Bt.charAt(le)))==="L")return!1;if(ue==="R")return!0}return!1},fr=function(Bt,ue,le,$e){var Ke,gr,Re,_r,tr=ue[$e];switch(tr){case"L":case"R":gt=!1;break;case"N":case"AN":break;case"EN":gt&&(tr="AN");break;case"AL":gt=!0,tr="R";break;case"WS":tr="N";break;case"CS":$e<1||$e+1>=ue.length||(Ke=le[$e-1])!=="EN"&&Ke!=="AN"||(gr=ue[$e+1])!=="EN"&&gr!=="AN"?tr="N":gt&&(gr="AN"),tr=gr===Ke?gr:"N";break;case"ES":tr=(Ke=$e>0?le[$e-1]:"B")==="EN"&&$e+1<ue.length&&ue[$e+1]==="EN"?"EN":"N";break;case"ET":if($e>0&&le[$e-1]==="EN"){tr="EN";break}if(gt){tr="N";break}for(Re=$e+1,_r=ue.length;Re<_r&&ue[Re]==="ET";)Re++;tr=Re<_r&&ue[Re]==="EN"?"EN":"N";break;case"NSM":if(P&&!j){for(_r=ue.length,Re=$e+1;Re<_r&&ue[Re]==="NSM";)Re++;if(Re<_r){var Tr=Bt[$e],ee=Tr>=1425&&Tr<=2303||Tr===64286;if(Ke=ue[Re],ee&&(Ke==="R"||Ke==="AL")){tr="R";break}}}tr=$e<1||(Ke=ue[$e-1])==="B"?"N":le[$e-1];break;case"B":gt=!1,T=!0,tr=Ae;break;case"S":S=!0,tr="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":gt=!1;break;case"BN":tr="N"}return tr},Ye=function(Bt,ue,le){var $e=Bt.split("");return le&&mr($e,le,{hiLevel:Ae}),$e.reverse(),ue&&ue.reverse(),$e.join("")},mr=function(Bt,ue,le){var $e,Ke,gr,Re,_r,tr=-1,Tr=Bt.length,ee=0,wt=[],Qt=Ae?G:Lt,me=[];for(gt=!1,T=!1,S=!1,Ke=0;Ke<Tr;Ke++)me[Ke]=Be(Bt[Ke]);for(gr=0;gr<Tr;gr++){if(_r=ee,wt[gr]=fr(Bt,me,wt,gr),$e=240&(ee=Qt[_r][Vt[wt[gr]]]),ee&=15,ue[gr]=Re=Qt[ee][5],$e>0)if($e===16){for(Ke=tr;Ke<gr;Ke++)ue[Ke]=1;tr=-1}else tr=-1;if(Qt[ee][6])tr===-1&&(tr=gr);else if(tr>-1){for(Ke=tr;Ke<gr;Ke++)ue[Ke]=Re;tr=-1}me[gr]==="B"&&(ue[gr]=0),le.hiLevel|=Re}S&&function(Oe,Ie,ar){for(var We=0;We<ar;We++)if(Oe[We]==="S"){Ie[We]=Ae;for(var Xe=We-1;Xe>=0&&Oe[Xe]==="WS";Xe--)Ie[Xe]=Ae}}(me,ue,Tr)},he=function(Bt,ue,le,$e,Ke){if(!(Ke.hiLevel<Bt)){if(Bt===1&&Ae===1&&!T)return ue.reverse(),void(le&&le.reverse());for(var gr,Re,_r,tr,Tr=ue.length,ee=0;ee<Tr;){if($e[ee]>=Bt){for(_r=ee+1;_r<Tr&&$e[_r]>=Bt;)_r++;for(tr=ee,Re=_r-1;tr<Re;tr++,Re--)gr=ue[tr],ue[tr]=ue[Re],ue[Re]=gr,le&&(gr=le[tr],le[tr]=le[Re],le[Re]=gr);ee=_r}ee++}}},Ve=function(Bt,ue,le){var $e=Bt.split(""),Ke={hiLevel:Ae};return le||(le=[]),mr($e,le,Ke),function(gr,Re,_r){if(_r.hiLevel!==0&&bt)for(var tr,Tr=0;Tr<gr.length;Tr++)Re[Tr]===1&&(tr=$t.indexOf(gr[Tr]))>=0&&(gr[Tr]=$t[tr+1])}($e,le,Ke),he(2,$e,ue,le,Ke),he(1,$e,ue,le,Ke),$e.join("")};return this.__bidiEngine__.doBidiReorder=function(ie,Bt,ue){if(function($e,Ke){if(Ke)for(var gr=0;gr<$e.length;gr++)Ke[gr]=gr;j===void 0&&(j=Qe($e)),K===void 0&&(K=Qe($e))}(ie,Bt),P||!I||K)if(P&&I&&j^K)Ae=j?1:0,ie=Ye(ie,Bt,ue);else if(!P&&I&&K)Ae=j?1:0,ie=Ve(ie,Bt,ue),ie=Ye(ie,Bt);else if(!P||j||I||K){if(P&&!I&&j^K)ie=Ye(ie,Bt),j?(Ae=0,ie=Ve(ie,Bt,ue)):(Ae=1,ie=Ve(ie,Bt,ue),ie=Ye(ie,Bt));else if(P&&j&&!I&&K)Ae=1,ie=Ve(ie,Bt,ue),ie=Ye(ie,Bt);else if(!P&&!I&&j^K){var le=bt;j?(Ae=1,ie=Ve(ie,Bt,ue),Ae=0,bt=!1,ie=Ve(ie,Bt,ue),bt=le):(Ae=0,ie=Ve(ie,Bt,ue),ie=Ye(ie,Bt),Ae=1,bt=!1,ie=Ve(ie,Bt,ue),bt=le,ie=Ye(ie,Bt))}}else Ae=0,ie=Ve(ie,Bt,ue);else Ae=j?1:0,ie=Ve(ie,Bt,ue);return ie},this.__bidiEngine__.setOptions=function(ie){ie&&(P=ie.isInputVisual,I=ie.isOutputVisual,j=ie.isInputRtl,K=ie.isOutputRtl,bt=ie.isSymmetricSwapping)},this.__bidiEngine__.setOptions(w),this.__bidiEngine__};var g=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],y=new k.__bidiEngine__({isInputVisual:!0});k.API.events.push(["postProcessText",function(w){var T=w.text,S=(w.x,w.y,w.options||{}),P=(w.mutex,S.lang,[]);if(S.isInputVisual=typeof S.isInputVisual!="boolean"||S.isInputVisual,y.setOptions(S),Object.prototype.toString.call(T)==="[object Array]"){var j=0;for(P=[],j=0;j<T.length;j+=1)Object.prototype.toString.call(T[j])==="[object Array]"?P.push([y.doBidiReorder(T[j][0]),T[j][1],T[j][2]]):P.push([y.doBidiReorder(T[j])]);w.text=P}else w.text=y.doBidiReorder(T);y.setOptions({isInputVisual:!0})}])}(Y),Y.API.TTFFont=function(){function k(g){var y;if(this.rawData=g,y=this.contents=new Rt(g),this.contents.pos=4,y.readString(4)==="ttcf")throw new Error("TTCF not supported.");y.pos=0,this.parse(),this.subset=new Fn(this),this.registerTTF()}return k.open=function(g){return new k(g)},k.prototype.parse=function(){return this.directory=new J(this.contents),this.head=new Jt(this),this.name=new br(this),this.cmap=new Ue(this),this.toUnicode={},this.hhea=new rr(this),this.maxp=new ln(this),this.hmtx=new Qr(this),this.post=new He(this),this.os2=new nr(this),this.loca=new Xn(this),this.glyf=new xn(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},k.prototype.registerTTF=function(){var g,y,w,T,S;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var P,j,I,K;for(K=[],P=0,j=(I=this.bbox).length;P<j;P++)g=I[P],K.push(Math.round(g*this.scaleFactor));return K}.call(this),this.stemV=0,this.post.exists?(w=255&(T=this.post.italic_angle),(32768&(y=T>>16))!=0&&(y=-(1+(65535^y))),this.italicAngle=+(y+"."+w)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(S=this.familyClass)===1||S===2||S===3||S===4||S===5||S===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},k.prototype.characterToGlyph=function(g){var y;return((y=this.cmap.unicode)!=null?y.codeMap[g]:void 0)||0},k.prototype.widthOfGlyph=function(g){var y;return y=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(g).advance*y},k.prototype.widthOfString=function(g,y,w){var T,S,P,j;for(P=0,S=0,j=(g=""+g).length;0<=j?S<j:S>j;S=0<=j?++S:--S)T=g.charCodeAt(S),P+=this.widthOfGlyph(this.characterToGlyph(T))+w*(1e3/y)||0;return P*(y/1e3)},k.prototype.lineHeight=function(g,y){var w;return y==null&&(y=!1),w=y?this.lineGap:0,(this.ascender+w-this.decender)/1e3*g},k}();var jr,Rt=function(){function k(g){this.data=g!=null?g:[],this.pos=0,this.length=this.data.length}return k.prototype.readByte=function(){return this.data[this.pos++]},k.prototype.writeByte=function(g){return this.data[this.pos++]=g},k.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},k.prototype.writeUInt32=function(g){return this.writeByte(g>>>24&255),this.writeByte(g>>16&255),this.writeByte(g>>8&255),this.writeByte(255&g)},k.prototype.readInt32=function(){var g;return(g=this.readUInt32())>=2147483648?g-4294967296:g},k.prototype.writeInt32=function(g){return g<0&&(g+=4294967296),this.writeUInt32(g)},k.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},k.prototype.writeUInt16=function(g){return this.writeByte(g>>8&255),this.writeByte(255&g)},k.prototype.readInt16=function(){var g;return(g=this.readUInt16())>=32768?g-65536:g},k.prototype.writeInt16=function(g){return g<0&&(g+=65536),this.writeUInt16(g)},k.prototype.readString=function(g){var y,w;for(w=[],y=0;0<=g?y<g:y>g;y=0<=g?++y:--y)w[y]=String.fromCharCode(this.readByte());return w.join("")},k.prototype.writeString=function(g){var y,w,T;for(T=[],y=0,w=g.length;0<=w?y<w:y>w;y=0<=w?++y:--y)T.push(this.writeByte(g.charCodeAt(y)));return T},k.prototype.readShort=function(){return this.readInt16()},k.prototype.writeShort=function(g){return this.writeInt16(g)},k.prototype.readLongLong=function(){var g,y,w,T,S,P,j,I;return g=this.readByte(),y=this.readByte(),w=this.readByte(),T=this.readByte(),S=this.readByte(),P=this.readByte(),j=this.readByte(),I=this.readByte(),128&g?-1*(72057594037927940*(255^g)+281474976710656*(255^y)+1099511627776*(255^w)+4294967296*(255^T)+16777216*(255^S)+65536*(255^P)+256*(255^j)+(255^I)+1):72057594037927940*g+281474976710656*y+1099511627776*w+4294967296*T+16777216*S+65536*P+256*j+I},k.prototype.writeLongLong=function(g){var y,w;return y=Math.floor(g/4294967296),w=4294967295&g,this.writeByte(y>>24&255),this.writeByte(y>>16&255),this.writeByte(y>>8&255),this.writeByte(255&y),this.writeByte(w>>24&255),this.writeByte(w>>16&255),this.writeByte(w>>8&255),this.writeByte(255&w)},k.prototype.readInt=function(){return this.readInt32()},k.prototype.writeInt=function(g){return this.writeInt32(g)},k.prototype.read=function(g){var y,w;for(y=[],w=0;0<=g?w<g:w>g;w=0<=g?++w:--w)y.push(this.readByte());return y},k.prototype.write=function(g){var y,w,T,S;for(S=[],w=0,T=g.length;w<T;w++)y=g[w],S.push(this.writeByte(y));return S},k}(),J=function(){var k;function g(y){var w,T,S;for(this.scalarType=y.readInt(),this.tableCount=y.readShort(),this.searchRange=y.readShort(),this.entrySelector=y.readShort(),this.rangeShift=y.readShort(),this.tables={},T=0,S=this.tableCount;0<=S?T<S:T>S;T=0<=S?++T:--T)w={tag:y.readString(4),checksum:y.readInt(),offset:y.readInt(),length:y.readInt()},this.tables[w.tag]=w}return g.prototype.encode=function(y){var w,T,S,P,j,I,K,bt,vt,Lt,G,Vt,Ft;for(Ft in G=Object.keys(y).length,I=Math.log(2),vt=16*Math.floor(Math.log(G)/I),P=Math.floor(vt/I),bt=16*G-vt,(T=new Rt).writeInt(this.scalarType),T.writeShort(G),T.writeShort(vt),T.writeShort(P),T.writeShort(bt),S=16*G,K=T.pos+S,j=null,Vt=[],y)for(Lt=y[Ft],T.writeString(Ft),T.writeInt(k(Lt)),T.writeInt(K),T.writeInt(Lt.length),Vt=Vt.concat(Lt),Ft==="head"&&(j=K),K+=Lt.length;K%4;)Vt.push(0),K++;return T.write(Vt),w=2981146554-k(T.data),T.pos=j+8,T.writeUInt32(w),T.data},k=function(w){var T,S,P,j;for(w=Br.call(w);w.length%4;)w.push(0);for(P=new Rt(w),S=0,T=0,j=w.length;T<j;T=T+=4)S+=P.readUInt32();return 4294967295&S},g}(),rt={}.hasOwnProperty,kt=function(g,y){for(var w in y)rt.call(y,w)&&(g[w]=y[w]);function T(){this.constructor=g}return T.prototype=y.prototype,g.prototype=new T,g.__super__=y.prototype,g};jr=function(){function k(g){var y;this.file=g,y=this.file.directory.tables[this.tag],this.exists=!!y,y&&(this.offset=y.offset,this.length=y.length,this.parse(this.file.contents))}return k.prototype.parse=function(){},k.prototype.encode=function(){},k.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},k}();var Jt=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return kt(g,jr),g.prototype.tag="head",g.prototype.parse=function(y){return y.pos=this.offset,this.version=y.readInt(),this.revision=y.readInt(),this.checkSumAdjustment=y.readInt(),this.magicNumber=y.readInt(),this.flags=y.readShort(),this.unitsPerEm=y.readShort(),this.created=y.readLongLong(),this.modified=y.readLongLong(),this.xMin=y.readShort(),this.yMin=y.readShort(),this.xMax=y.readShort(),this.yMax=y.readShort(),this.macStyle=y.readShort(),this.lowestRecPPEM=y.readShort(),this.fontDirectionHint=y.readShort(),this.indexToLocFormat=y.readShort(),this.glyphDataFormat=y.readShort()},g.prototype.encode=function(y){var w;return(w=new Rt).writeInt(this.version),w.writeInt(this.revision),w.writeInt(this.checkSumAdjustment),w.writeInt(this.magicNumber),w.writeShort(this.flags),w.writeShort(this.unitsPerEm),w.writeLongLong(this.created),w.writeLongLong(this.modified),w.writeShort(this.xMin),w.writeShort(this.yMin),w.writeShort(this.xMax),w.writeShort(this.yMax),w.writeShort(this.macStyle),w.writeShort(this.lowestRecPPEM),w.writeShort(this.fontDirectionHint),w.writeShort(y),w.writeShort(this.glyphDataFormat),w.data},g}(),ge=function(){function k(g,y){var w,T,S,P,j,I,K,bt,vt,Lt,G,Vt,Ft,$t,Nt,gt,Ae;switch(this.platformID=g.readUInt16(),this.encodingID=g.readShort(),this.offset=y+g.readInt(),vt=g.pos,g.pos=this.offset,this.format=g.readUInt16(),this.length=g.readUInt16(),this.language=g.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(I=0;I<256;++I)this.codeMap[I]=g.readByte();break;case 4:for(G=g.readUInt16(),Lt=G/2,g.pos+=6,S=function(){var Be,Qe;for(Qe=[],I=Be=0;0<=Lt?Be<Lt:Be>Lt;I=0<=Lt?++Be:--Be)Qe.push(g.readUInt16());return Qe}(),g.pos+=2,Ft=function(){var Be,Qe;for(Qe=[],I=Be=0;0<=Lt?Be<Lt:Be>Lt;I=0<=Lt?++Be:--Be)Qe.push(g.readUInt16());return Qe}(),K=function(){var Be,Qe;for(Qe=[],I=Be=0;0<=Lt?Be<Lt:Be>Lt;I=0<=Lt?++Be:--Be)Qe.push(g.readUInt16());return Qe}(),bt=function(){var Be,Qe;for(Qe=[],I=Be=0;0<=Lt?Be<Lt:Be>Lt;I=0<=Lt?++Be:--Be)Qe.push(g.readUInt16());return Qe}(),T=(this.length-g.pos+this.offset)/2,j=function(){var Be,Qe;for(Qe=[],I=Be=0;0<=T?Be<T:Be>T;I=0<=T?++Be:--Be)Qe.push(g.readUInt16());return Qe}(),I=Nt=0,Ae=S.length;Nt<Ae;I=++Nt)for($t=S[I],w=gt=Vt=Ft[I];Vt<=$t?gt<=$t:gt>=$t;w=Vt<=$t?++gt:--gt)bt[I]===0?P=w+K[I]:(P=j[bt[I]/2+(w-Vt)-(Lt-I)]||0)!==0&&(P+=K[I]),this.codeMap[w]=65535&P}g.pos=vt}return k.encode=function(g,y){var w,T,S,P,j,I,K,bt,vt,Lt,G,Vt,Ft,$t,Nt,gt,Ae,Be,Qe,fr,Ye,mr,he,Ve,ie,Bt,ue,le,$e,Ke,gr,Re,_r,tr,Tr,ee,wt,Qt,me,Oe,Ie,ar,We,Xe,vr,Wr;switch(le=new Rt,P=Object.keys(g).sort(function(Pr,rn){return Pr-rn}),y){case"macroman":for(Ft=0,$t=function(){var Pr=[];for(Vt=0;Vt<256;++Vt)Pr.push(0);return Pr}(),gt={0:0},S={},$e=0,_r=P.length;$e<_r;$e++)gt[We=g[T=P[$e]]]==null&&(gt[We]=++Ft),S[T]={old:g[T],new:gt[g[T]]},$t[T]=gt[g[T]];return le.writeUInt16(1),le.writeUInt16(0),le.writeUInt32(12),le.writeUInt16(0),le.writeUInt16(262),le.writeUInt16(0),le.write($t),{charMap:S,subtable:le.data,maxGlyphID:Ft+1};case"unicode":for(Bt=[],vt=[],Ae=0,gt={},w={},Nt=K=null,Ke=0,tr=P.length;Ke<tr;Ke++)gt[Qe=g[T=P[Ke]]]==null&&(gt[Qe]=++Ae),w[T]={old:Qe,new:gt[Qe]},j=gt[Qe]-T,Nt!=null&&j===K||(Nt&&vt.push(Nt),Bt.push(T),K=j),Nt=T;for(Nt&&vt.push(Nt),vt.push(65535),Bt.push(65535),Ve=2*(he=Bt.length),mr=2*Math.pow(Math.log(he)/Math.LN2,2),Lt=Math.log(mr/2)/Math.LN2,Ye=2*he-mr,I=[],fr=[],G=[],Vt=gr=0,Tr=Bt.length;gr<Tr;Vt=++gr){if(ie=Bt[Vt],bt=vt[Vt],ie===65535){I.push(0),fr.push(0);break}if(ie-(ue=w[ie].new)>=32768)for(I.push(0),fr.push(2*(G.length+he-Vt)),T=Re=ie;ie<=bt?Re<=bt:Re>=bt;T=ie<=bt?++Re:--Re)G.push(w[T].new);else I.push(ue-ie),fr.push(0)}for(le.writeUInt16(3),le.writeUInt16(1),le.writeUInt32(12),le.writeUInt16(4),le.writeUInt16(16+8*he+2*G.length),le.writeUInt16(0),le.writeUInt16(Ve),le.writeUInt16(mr),le.writeUInt16(Lt),le.writeUInt16(Ye),Ie=0,ee=vt.length;Ie<ee;Ie++)T=vt[Ie],le.writeUInt16(T);for(le.writeUInt16(0),ar=0,wt=Bt.length;ar<wt;ar++)T=Bt[ar],le.writeUInt16(T);for(Xe=0,Qt=I.length;Xe<Qt;Xe++)j=I[Xe],le.writeUInt16(j);for(vr=0,me=fr.length;vr<me;vr++)Be=fr[vr],le.writeUInt16(Be);for(Wr=0,Oe=G.length;Wr<Oe;Wr++)Ft=G[Wr],le.writeUInt16(Ft);return{charMap:w,subtable:le.data,maxGlyphID:Ae+1}}},k}(),Ue=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return kt(g,jr),g.prototype.tag="cmap",g.prototype.parse=function(y){var w,T,S;for(y.pos=this.offset,this.version=y.readUInt16(),S=y.readUInt16(),this.tables=[],this.unicode=null,T=0;0<=S?T<S:T>S;T=0<=S?++T:--T)w=new ge(y,this.offset),this.tables.push(w),w.isUnicode&&this.unicode==null&&(this.unicode=w);return!0},g.encode=function(y,w){var T,S;return w==null&&(w="macroman"),T=ge.encode(y,w),(S=new Rt).writeUInt16(0),S.writeUInt16(1),T.table=S.data.concat(T.subtable),T},g}(),rr=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return kt(g,jr),g.prototype.tag="hhea",g.prototype.parse=function(y){return y.pos=this.offset,this.version=y.readInt(),this.ascender=y.readShort(),this.decender=y.readShort(),this.lineGap=y.readShort(),this.advanceWidthMax=y.readShort(),this.minLeftSideBearing=y.readShort(),this.minRightSideBearing=y.readShort(),this.xMaxExtent=y.readShort(),this.caretSlopeRise=y.readShort(),this.caretSlopeRun=y.readShort(),this.caretOffset=y.readShort(),y.pos+=8,this.metricDataFormat=y.readShort(),this.numberOfMetrics=y.readUInt16()},g}(),nr=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return kt(g,jr),g.prototype.tag="OS/2",g.prototype.parse=function(y){if(y.pos=this.offset,this.version=y.readUInt16(),this.averageCharWidth=y.readShort(),this.weightClass=y.readUInt16(),this.widthClass=y.readUInt16(),this.type=y.readShort(),this.ySubscriptXSize=y.readShort(),this.ySubscriptYSize=y.readShort(),this.ySubscriptXOffset=y.readShort(),this.ySubscriptYOffset=y.readShort(),this.ySuperscriptXSize=y.readShort(),this.ySuperscriptYSize=y.readShort(),this.ySuperscriptXOffset=y.readShort(),this.ySuperscriptYOffset=y.readShort(),this.yStrikeoutSize=y.readShort(),this.yStrikeoutPosition=y.readShort(),this.familyClass=y.readShort(),this.panose=function(){var w,T;for(T=[],w=0;w<10;++w)T.push(y.readByte());return T}(),this.charRange=function(){var w,T;for(T=[],w=0;w<4;++w)T.push(y.readInt());return T}(),this.vendorID=y.readString(4),this.selection=y.readShort(),this.firstCharIndex=y.readShort(),this.lastCharIndex=y.readShort(),this.version>0&&(this.ascent=y.readShort(),this.descent=y.readShort(),this.lineGap=y.readShort(),this.winAscent=y.readShort(),this.winDescent=y.readShort(),this.codePageRange=function(){var w,T;for(T=[],w=0;w<2;w=++w)T.push(y.readInt());return T}(),this.version>1))return this.xHeight=y.readShort(),this.capHeight=y.readShort(),this.defaultChar=y.readShort(),this.breakChar=y.readShort(),this.maxContext=y.readShort()},g}(),He=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return kt(g,jr),g.prototype.tag="post",g.prototype.parse=function(y){var w,T,S;switch(y.pos=this.offset,this.format=y.readInt(),this.italicAngle=y.readInt(),this.underlinePosition=y.readShort(),this.underlineThickness=y.readShort(),this.isFixedPitch=y.readInt(),this.minMemType42=y.readInt(),this.maxMemType42=y.readInt(),this.minMemType1=y.readInt(),this.maxMemType1=y.readInt(),this.format){case 65536:break;case 131072:var P;for(T=y.readUInt16(),this.glyphNameIndex=[],P=0;0<=T?P<T:P>T;P=0<=T?++P:--P)this.glyphNameIndex.push(y.readUInt16());for(this.names=[],S=[];y.pos<this.offset+this.length;)w=y.readByte(),S.push(this.names.push(y.readString(w)));return S;case 151552:return T=y.readUInt16(),this.offsets=y.read(T);case 196608:break;case 262144:return this.map=function(){var j,I,K;for(K=[],P=j=0,I=this.file.maxp.numGlyphs;0<=I?j<I:j>I;P=0<=I?++j:--j)K.push(y.readUInt32());return K}.call(this)}},g}(),Sr=function(g,y){this.raw=g,this.length=g.length,this.platformID=y.platformID,this.encodingID=y.encodingID,this.languageID=y.languageID},br=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return kt(g,jr),g.prototype.tag="name",g.prototype.parse=function(y){var w,T,S,P,j,I,K,bt,vt,Lt,G;for(y.pos=this.offset,y.readShort(),w=y.readShort(),I=y.readShort(),T=[],P=0;0<=w?P<w:P>w;P=0<=w?++P:--P)T.push({platformID:y.readShort(),encodingID:y.readShort(),languageID:y.readShort(),nameID:y.readShort(),length:y.readShort(),offset:this.offset+I+y.readShort()});for(K={},P=vt=0,Lt=T.length;vt<Lt;P=++vt)S=T[P],y.pos=S.offset,bt=y.readString(S.length),j=new Sr(bt,S),K[G=S.nameID]==null&&(K[G]=[]),K[S.nameID].push(j);this.strings=K,this.copyright=K[0],this.fontFamily=K[1],this.fontSubfamily=K[2],this.uniqueSubfamily=K[3],this.fontName=K[4],this.version=K[5];try{this.postscriptName=K[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(Vt){this.postscriptName=K[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=K[7],this.manufacturer=K[8],this.designer=K[9],this.description=K[10],this.vendorUrl=K[11],this.designerUrl=K[12],this.license=K[13],this.licenseUrl=K[14],this.preferredFamily=K[15],this.preferredSubfamily=K[17],this.compatibleFull=K[18],this.sampleText=K[19]},g}(),ln=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return kt(g,jr),g.prototype.tag="maxp",g.prototype.parse=function(y){return y.pos=this.offset,this.version=y.readInt(),this.numGlyphs=y.readUInt16(),this.maxPoints=y.readUInt16(),this.maxContours=y.readUInt16(),this.maxCompositePoints=y.readUInt16(),this.maxComponentContours=y.readUInt16(),this.maxZones=y.readUInt16(),this.maxTwilightPoints=y.readUInt16(),this.maxStorage=y.readUInt16(),this.maxFunctionDefs=y.readUInt16(),this.maxInstructionDefs=y.readUInt16(),this.maxStackElements=y.readUInt16(),this.maxSizeOfInstructions=y.readUInt16(),this.maxComponentElements=y.readUInt16(),this.maxComponentDepth=y.readUInt16()},g}(),Qr=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return kt(g,jr),g.prototype.tag="hmtx",g.prototype.parse=function(y){var w,T,S,P,j,I,K;for(y.pos=this.offset,this.metrics=[],w=0,I=this.file.hhea.numberOfMetrics;0<=I?w<I:w>I;w=0<=I?++w:--w)this.metrics.push({advance:y.readUInt16(),lsb:y.readInt16()});for(S=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var bt,vt;for(vt=[],w=bt=0;0<=S?bt<S:bt>S;w=0<=S?++bt:--bt)vt.push(y.readInt16());return vt}(),this.widths=function(){var bt,vt,Lt,G;for(G=[],bt=0,vt=(Lt=this.metrics).length;bt<vt;bt++)P=Lt[bt],G.push(P.advance);return G}.call(this),T=this.widths[this.widths.length-1],K=[],w=j=0;0<=S?j<S:j>S;w=0<=S?++j:--j)K.push(this.widths.push(T));return K},g.prototype.forGlyph=function(y){return y in this.metrics?this.metrics[y]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[y-this.metrics.length]}},g}(),Br=[].slice,xn=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return kt(g,jr),g.prototype.tag="glyf",g.prototype.parse=function(){return this.cache={}},g.prototype.glyphFor=function(y){var w,T,S,P,j,I,K,bt,vt,Lt;return y in this.cache?this.cache[y]:(P=this.file.loca,w=this.file.contents,T=P.indexOf(y),(S=P.lengthOf(y))===0?this.cache[y]=null:(w.pos=this.offset+T,j=(I=new Rt(w.read(S))).readShort(),bt=I.readShort(),Lt=I.readShort(),K=I.readShort(),vt=I.readShort(),this.cache[y]=j===-1?new vn(I,bt,Lt,K,vt):new tn(I,j,bt,Lt,K,vt),this.cache[y]))},g.prototype.encode=function(y,w,T){var S,P,j,I,K;for(j=[],P=[],I=0,K=w.length;I<K;I++)S=y[w[I]],P.push(j.length),S&&(j=j.concat(S.encode(T)));return P.push(j.length),{table:j,offsets:P}},g}(),tn=function(){function k(g,y,w,T,S,P){this.raw=g,this.numberOfContours=y,this.xMin=w,this.yMin=T,this.xMax=S,this.yMax=P,this.compound=!1}return k.prototype.encode=function(){return this.raw.data},k}(),vn=function(){function k(g,y,w,T,S){var P,j;for(this.raw=g,this.xMin=y,this.yMin=w,this.xMax=T,this.yMax=S,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],P=this.raw;j=P.readShort(),this.glyphOffsets.push(P.pos),this.glyphIDs.push(P.readUInt16()),32&j;)P.pos+=1&j?4:2,128&j?P.pos+=8:64&j?P.pos+=4:8&j&&(P.pos+=2)}return k.prototype.encode=function(){var g,y,w;for(y=new Rt(Br.call(this.raw.data)),g=0,w=this.glyphIDs.length;g<w;++g)y.pos=this.glyphOffsets[g];return y.data},k}(),Xn=function(k){function g(){return g.__super__.constructor.apply(this,arguments)}return kt(g,jr),g.prototype.tag="loca",g.prototype.parse=function(y){var w,T;return y.pos=this.offset,w=this.file.head.indexToLocFormat,this.offsets=w===0?function(){var S,P;for(P=[],T=0,S=this.length;T<S;T+=2)P.push(2*y.readUInt16());return P}.call(this):function(){var S,P;for(P=[],T=0,S=this.length;T<S;T+=4)P.push(y.readUInt32());return P}.call(this)},g.prototype.indexOf=function(y){return this.offsets[y]},g.prototype.lengthOf=function(y){return this.offsets[y+1]-this.offsets[y]},g.prototype.encode=function(y,w){for(var T=new Uint32Array(this.offsets.length),S=0,P=0,j=0;j<T.length;++j)if(T[j]=S,P<w.length&&w[P]==j){++P,T[j]=S;var I=this.offsets[j],K=this.offsets[j+1]-I;K>0&&(S+=K)}for(var bt=new Array(4*T.length),vt=0;vt<T.length;++vt)bt[4*vt+3]=255&T[vt],bt[4*vt+2]=(65280&T[vt])>>8,bt[4*vt+1]=(16711680&T[vt])>>16,bt[4*vt]=(4278190080&T[vt])>>24;return bt},g}(),Fn=function(){function k(g){this.font=g,this.subset={},this.unicodes={},this.next=33}return k.prototype.generateCmap=function(){var g,y,w,T,S;for(y in T=this.font.cmap.tables[0].codeMap,g={},S=this.subset)w=S[y],g[y]=T[w];return g},k.prototype.glyphsFor=function(g){var y,w,T,S,P,j,I;for(T={},P=0,j=g.length;P<j;P++)T[S=g[P]]=this.font.glyf.glyphFor(S);for(S in y=[],T)((w=T[S])!=null?w.compound:void 0)&&y.push.apply(y,w.glyphIDs);if(y.length>0)for(S in I=this.glyphsFor(y))w=I[S],T[S]=w;return T},k.prototype.encode=function(g,y){var w,T,S,P,j,I,K,bt,vt,Lt,G,Vt,Ft,$t,Nt;for(T in w=Ue.encode(this.generateCmap(),"unicode"),P=this.glyphsFor(g),G={0:0},Nt=w.charMap)G[(I=Nt[T]).old]=I.new;for(Vt in Lt=w.maxGlyphID,P)Vt in G||(G[Vt]=Lt++);return bt=function(gt){var Ae,Be;for(Ae in Be={},gt)Be[gt[Ae]]=Ae;return Be}(G),vt=Object.keys(bt).sort(function(gt,Ae){return gt-Ae}),Ft=function(){var gt,Ae,Be;for(Be=[],gt=0,Ae=vt.length;gt<Ae;gt++)j=vt[gt],Be.push(bt[j]);return Be}(),S=this.font.glyf.encode(P,Ft,G),K=this.font.loca.encode(S.offsets,Ft),$t={cmap:this.font.cmap.raw(),glyf:S.table,loca:K,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(y)},this.font.os2.exists&&($t["OS/2"]=this.font.os2.raw()),this.font.directory.encode($t)},k}();Y.API.PDFObject=function(){var k;function g(){}return k=function(w,T){return(Array(T+1).join("0")+w).slice(-T)},g.convert=function(y){var w,T,S,P;if(Array.isArray(y))return"["+function(){var j,I,K;for(K=[],j=0,I=y.length;j<I;j++)w=y[j],K.push(g.convert(w));return K}().join(" ")+"]";if(typeof y=="string")return"/"+y;if(y!=null?y.isString:void 0)return"("+y+")";if(y instanceof Date)return"(D:"+k(y.getUTCFullYear(),4)+k(y.getUTCMonth(),2)+k(y.getUTCDate(),2)+k(y.getUTCHours(),2)+k(y.getUTCMinutes(),2)+k(y.getUTCSeconds(),2)+"Z)";if({}.toString.call(y)==="[object Object]"){for(T in S=["<<"],y)P=y[T],S.push("/"+T+" "+g.convert(P));return S.push(">>"),S.join(`
`)}return""+y},g}(),wr.d=Y}).call(this,De("IyRk"))},"kVK+":function(un,wr){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */wr.read=function(De,Je,L,be,pt){var dt,Yt,Q=pt*8-be-1,b=(1<<Q)-1,s=b>>1,h=-7,u=L?pt-1:0,o=L?-1:1,r=De[Je+u];for(u+=o,dt=r&(1<<-h)-1,r>>=-h,h+=Q;h>0;dt=dt*256+De[Je+u],u+=o,h-=8);for(Yt=dt&(1<<-h)-1,dt>>=-h,h+=be;h>0;Yt=Yt*256+De[Je+u],u+=o,h-=8);if(dt===0)dt=1-s;else{if(dt===b)return Yt?NaN:(r?-1:1)*Infinity;Yt=Yt+Math.pow(2,be),dt=dt-s}return(r?-1:1)*Yt*Math.pow(2,dt-be)},wr.write=function(De,Je,L,be,pt,dt){var Yt,Q,b,s=dt*8-pt-1,h=(1<<s)-1,u=h>>1,o=pt===23?Math.pow(2,-24)-Math.pow(2,-77):0,r=be?0:dt-1,e=be?1:-1,t=Je<0||Je===0&&1/Je<0?1:0;for(Je=Math.abs(Je),isNaN(Je)||Je===Infinity?(Q=isNaN(Je)?1:0,Yt=h):(Yt=Math.floor(Math.log(Je)/Math.LN2),Je*(b=Math.pow(2,-Yt))<1&&(Yt--,b*=2),Yt+u>=1?Je+=o/b:Je+=o*Math.pow(2,1-u),Je*b>=2&&(Yt++,b/=2),Yt+u>=h?(Q=0,Yt=h):Yt+u>=1?(Q=(Je*b-1)*Math.pow(2,pt),Yt=Yt+u):(Q=Je*Math.pow(2,u-1)*Math.pow(2,pt),Yt=0));pt>=8;De[L+r]=Q&255,r+=e,Q/=256,pt-=8);for(Yt=Yt<<pt|Q,s+=pt;s>0;De[L+r]=Yt&255,r+=e,Yt/=256,s-=8);De[L+r-e]|=t*128}},oOwn:function(un,wr,De){(function(){var Je=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],L=typeof window!="undefined",be=L&&window.mozInnerScreenX!=null;function pt(dt,Yt,Q){if(!L)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var b=Q&&Q.debug||!1;if(b){var s=document.querySelector("#input-textarea-caret-position-mirror-div");s&&s.parentNode.removeChild(s)}var h=document.createElement("div");h.id="input-textarea-caret-position-mirror-div",document.body.appendChild(h);var u=h.style,o=window.getComputedStyle?getComputedStyle(dt):dt.currentStyle;u.whiteSpace="pre-wrap",dt.nodeName!=="INPUT"&&(u.wordWrap="break-word"),u.position="absolute",b||(u.visibility="hidden"),Je.forEach(function(t){u[t]=o[t]}),be?dt.scrollHeight>parseInt(o.height)&&(u.overflowY="scroll"):u.overflow="hidden",h.textContent=dt.value.substring(0,Yt),dt.nodeName==="INPUT"&&(h.textContent=h.textContent.replace(/\s/g,"\xA0"));var r=document.createElement("span");r.textContent=dt.value.substring(Yt)||".",h.appendChild(r);var e={top:r.offsetTop+parseInt(o.borderTopWidth),left:r.offsetLeft+parseInt(o.borderLeftWidth)};return b?r.style.backgroundColor="#aaa":document.body.removeChild(h),e}typeof un.exports!="undefined"?un.exports=pt:L&&(window.getCaretCoordinates=pt)})()},tjlA:function(un,wr,De){"use strict";(function(Je){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/var L=De("H7XF"),be=De("kVK+"),pt=De("49sm");wr.Buffer=b,wr.SlowBuffer=i,wr.INSPECT_MAX_BYTES=50,b.TYPED_ARRAY_SUPPORT=Je.TYPED_ARRAY_SUPPORT!==void 0?Je.TYPED_ARRAY_SUPPORT:dt(),wr.kMaxLength=Yt();function dt(){try{var U=new Uint8Array(1);return U.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},U.foo()===42&&typeof U.subarray=="function"&&U.subarray(1,1).byteLength===0}catch(x){return!1}}function Yt(){return b.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Q(U,x){if(Yt()<x)throw new RangeError("Invalid typed array length");return b.TYPED_ARRAY_SUPPORT?(U=new Uint8Array(x),U.__proto__=b.prototype):(U===null&&(U=new b(x)),U.length=x),U}function b(U,x,A){if(!b.TYPED_ARRAY_SUPPORT&&!(this instanceof b))return new b(U,x,A);if(typeof U=="number"){if(typeof x=="string")throw new Error("If encoding is specified then the first argument must be a string");return o(this,U)}return s(this,U,x,A)}b.poolSize=8192,b._augment=function(U){return U.__proto__=b.prototype,U};function s(U,x,A,H){if(typeof x=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&x instanceof ArrayBuffer?t(U,x,A,H):typeof x=="string"?r(U,x,A):a(U,x)}b.from=function(U,x,A){return s(null,U,x,A)},b.TYPED_ARRAY_SUPPORT&&(b.prototype.__proto__=Uint8Array.prototype,b.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&b[Symbol.species]===b&&Object.defineProperty(b,Symbol.species,{value:null,configurable:!0}));function h(U){if(typeof U!="number")throw new TypeError('"size" argument must be a number');if(U<0)throw new RangeError('"size" argument must not be negative')}function u(U,x,A,H){return h(x),x<=0?Q(U,x):A!==void 0?typeof H=="string"?Q(U,x).fill(A,H):Q(U,x).fill(A):Q(U,x)}b.alloc=function(U,x,A){return u(null,U,x,A)};function o(U,x){if(h(x),U=Q(U,x<0?0:l(x)|0),!b.TYPED_ARRAY_SUPPORT)for(var A=0;A<x;++A)U[A]=0;return U}b.allocUnsafe=function(U){return o(null,U)},b.allocUnsafeSlow=function(U){return o(null,U)};function r(U,x,A){if((typeof A!="string"||A==="")&&(A="utf8"),!b.isEncoding(A))throw new TypeError('"encoding" must be a valid string encoding');var H=f(x,A)|0;U=Q(U,H);var at=U.write(x,A);return at!==H&&(U=U.slice(0,at)),U}function e(U,x){var A=x.length<0?0:l(x.length)|0;U=Q(U,A);for(var H=0;H<A;H+=1)U[H]=x[H]&255;return U}function t(U,x,A,H){if(x.byteLength,A<0||x.byteLength<A)throw new RangeError("'offset' is out of bounds");if(x.byteLength<A+(H||0))throw new RangeError("'length' is out of bounds");return A===void 0&&H===void 0?x=new Uint8Array(x):H===void 0?x=new Uint8Array(x,A):x=new Uint8Array(x,A,H),b.TYPED_ARRAY_SUPPORT?(U=x,U.__proto__=b.prototype):U=e(U,x),U}function a(U,x){if(b.isBuffer(x)){var A=l(x.length)|0;return U=Q(U,A),U.length===0||x.copy(U,0,0,A),U}if(x){if(typeof ArrayBuffer!="undefined"&&x.buffer instanceof ArrayBuffer||"length"in x)return typeof x.length!="number"||zt(x.length)?Q(U,0):e(U,x);if(x.type==="Buffer"&&pt(x.data))return e(U,x.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function l(U){if(U>=Yt())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Yt().toString(16)+" bytes");return U|0}function i(U){return+U!=U&&(U=0),b.alloc(+U)}b.isBuffer=function(x){return!!(x!=null&&x._isBuffer)},b.compare=function(x,A){if(!b.isBuffer(x)||!b.isBuffer(A))throw new TypeError("Arguments must be Buffers");if(x===A)return 0;for(var H=x.length,at=A.length,Ot=0,_t=Math.min(H,at);Ot<_t;++Ot)if(x[Ot]!==A[Ot]){H=x[Ot],at=A[Ot];break}return H<at?-1:at<H?1:0},b.isEncoding=function(x){switch(String(x).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},b.concat=function(x,A){if(!pt(x))throw new TypeError('"list" argument must be an Array of Buffers');if(x.length===0)return b.alloc(0);var H;if(A===void 0)for(A=0,H=0;H<x.length;++H)A+=x[H].length;var at=b.allocUnsafe(A),Ot=0;for(H=0;H<x.length;++H){var _t=x[H];if(!b.isBuffer(_t))throw new TypeError('"list" argument must be an Array of Buffers');_t.copy(at,Ot),Ot+=_t.length}return at};function f(U,x){if(b.isBuffer(U))return U.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(U)||U instanceof ArrayBuffer))return U.byteLength;typeof U!="string"&&(U=""+U);var A=U.length;if(A===0)return 0;for(var H=!1;;)switch(x){case"ascii":case"latin1":case"binary":return A;case"utf8":case"utf-8":case void 0:return se(U).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return A*2;case"hex":return A>>>1;case"base64":return oe(U).length;default:if(H)return se(U).length;x=(""+x).toLowerCase(),H=!0}}b.byteLength=f;function p(U,x,A){var H=!1;if((x===void 0||x<0)&&(x=0),x>this.length||((A===void 0||A>this.length)&&(A=this.length),A<=0)||(A>>>=0,x>>>=0,A<=x))return"";for(U||(U="utf8");;)switch(U){case"hex":return tt(this,x,A);case"utf8":case"utf-8":return At(this,x,A);case"ascii":return _e(this,x,A);case"latin1":case"binary":return er(this,x,A);case"base64":return Ee(this,x,A);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return te(this,x,A);default:if(H)throw new TypeError("Unknown encoding: "+U);U=(U+"").toLowerCase(),H=!0}}b.prototype._isBuffer=!0;function v(U,x,A){var H=U[x];U[x]=U[A],U[A]=H}b.prototype.swap16=function(){var x=this.length;if(x%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var A=0;A<x;A+=2)v(this,A,A+1);return this},b.prototype.swap32=function(){var x=this.length;if(x%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var A=0;A<x;A+=4)v(this,A,A+3),v(this,A+1,A+2);return this},b.prototype.swap64=function(){var x=this.length;if(x%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var A=0;A<x;A+=8)v(this,A,A+7),v(this,A+1,A+6),v(this,A+2,A+5),v(this,A+3,A+4);return this},b.prototype.toString=function(){var x=this.length|0;return x===0?"":arguments.length===0?At(this,0,x):p.apply(this,arguments)},b.prototype.equals=function(x){if(!b.isBuffer(x))throw new TypeError("Argument must be a Buffer");return this===x?!0:b.compare(this,x)===0},b.prototype.inspect=function(){var x="",A=wr.INSPECT_MAX_BYTES;return this.length>0&&(x=this.toString("hex",0,A).match(/.{2}/g).join(" "),this.length>A&&(x+=" ... ")),"<Buffer "+x+">"},b.prototype.compare=function(x,A,H,at,Ot){if(!b.isBuffer(x))throw new TypeError("Argument must be a Buffer");if(A===void 0&&(A=0),H===void 0&&(H=x?x.length:0),at===void 0&&(at=0),Ot===void 0&&(Ot=this.length),A<0||H>x.length||at<0||Ot>this.length)throw new RangeError("out of range index");if(at>=Ot&&A>=H)return 0;if(at>=Ot)return-1;if(A>=H)return 1;if(A>>>=0,H>>>=0,at>>>=0,Ot>>>=0,this===x)return 0;for(var _t=Ot-at,we=H-A,Me=Math.min(_t,we),Se=this.slice(at,Ot),Ge=x.slice(A,H),pr=0;pr<Me;++pr)if(Se[pr]!==Ge[pr]){_t=Se[pr],we=Ge[pr];break}return _t<we?-1:we<_t?1:0};function C(U,x,A,H,at){if(U.length===0)return-1;if(typeof A=="string"?(H=A,A=0):A>2147483647?A=2147483647:A<-2147483648&&(A=-2147483648),A=+A,isNaN(A)&&(A=at?0:U.length-1),A<0&&(A=U.length+A),A>=U.length){if(at)return-1;A=U.length-1}else if(A<0)if(at)A=0;else return-1;if(typeof x=="string"&&(x=b.from(x,H)),b.isBuffer(x))return x.length===0?-1:D(U,x,A,H,at);if(typeof x=="number")return x=x&255,b.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?at?Uint8Array.prototype.indexOf.call(U,x,A):Uint8Array.prototype.lastIndexOf.call(U,x,A):D(U,[x],A,H,at);throw new TypeError("val must be string, number or Buffer")}function D(U,x,A,H,at){var Ot=1,_t=U.length,we=x.length;if(H!==void 0&&(H=String(H).toLowerCase(),H==="ucs2"||H==="ucs-2"||H==="utf16le"||H==="utf-16le")){if(U.length<2||x.length<2)return-1;Ot=2,_t/=2,we/=2,A/=2}function Me(Kr,_n){return Ot===1?Kr[_n]:Kr.readUInt16BE(_n*Ot)}var Se;if(at){var Ge=-1;for(Se=A;Se<_t;Se++)if(Me(U,Se)===Me(x,Ge===-1?0:Se-Ge)){if(Ge===-1&&(Ge=Se),Se-Ge+1===we)return Ge*Ot}else Ge!==-1&&(Se-=Se-Ge),Ge=-1}else for(A+we>_t&&(A=_t-we),Se=A;Se>=0;Se--){for(var pr=!0,Ar=0;Ar<we;Ar++)if(Me(U,Se+Ar)!==Me(x,Ar)){pr=!1;break}if(pr)return Se}return-1}b.prototype.includes=function(x,A,H){return this.indexOf(x,A,H)!==-1},b.prototype.indexOf=function(x,A,H){return C(this,x,A,H,!0)},b.prototype.lastIndexOf=function(x,A,H){return C(this,x,A,H,!1)};function V(U,x,A,H){A=Number(A)||0;var at=U.length-A;H?(H=Number(H),H>at&&(H=at)):H=at;var Ot=x.length;if(Ot%2!=0)throw new TypeError("Invalid hex string");H>Ot/2&&(H=Ot/2);for(var _t=0;_t<H;++_t){var we=parseInt(x.substr(_t*2,2),16);if(isNaN(we))return _t;U[A+_t]=we}return _t}function it(U,x,A,H){return N(se(x,U.length-A),U,A,H)}function Ct(U,x,A,H){return N(Zt(x),U,A,H)}function Dt(U,x,A,H){return Ct(U,x,A,H)}function Ut(U,x,A,H){return N(oe(x),U,A,H)}function pe(U,x,A,H){return N(Wt(x,U.length-A),U,A,H)}b.prototype.write=function(x,A,H,at){if(A===void 0)at="utf8",H=this.length,A=0;else if(H===void 0&&typeof A=="string")at=A,H=this.length,A=0;else if(isFinite(A))A=A|0,isFinite(H)?(H=H|0,at===void 0&&(at="utf8")):(at=H,H=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var Ot=this.length-A;if((H===void 0||H>Ot)&&(H=Ot),x.length>0&&(H<0||A<0)||A>this.length)throw new RangeError("Attempt to write outside buffer bounds");at||(at="utf8");for(var _t=!1;;)switch(at){case"hex":return V(this,x,A,H);case"utf8":case"utf-8":return it(this,x,A,H);case"ascii":return Ct(this,x,A,H);case"latin1":case"binary":return Dt(this,x,A,H);case"base64":return Ut(this,x,A,H);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return pe(this,x,A,H);default:if(_t)throw new TypeError("Unknown encoding: "+at);at=(""+at).toLowerCase(),_t=!0}},b.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function Ee(U,x,A){return x===0&&A===U.length?L.fromByteArray(U):L.fromByteArray(U.slice(x,A))}function At(U,x,A){A=Math.min(U.length,A);for(var H=[],at=x;at<A;){var Ot=U[at],_t=null,we=Ot>239?4:Ot>223?3:Ot>191?2:1;if(at+we<=A){var Me,Se,Ge,pr;switch(we){case 1:Ot<128&&(_t=Ot);break;case 2:Me=U[at+1],(Me&192)==128&&(pr=(Ot&31)<<6|Me&63,pr>127&&(_t=pr));break;case 3:Me=U[at+1],Se=U[at+2],(Me&192)==128&&(Se&192)==128&&(pr=(Ot&15)<<12|(Me&63)<<6|Se&63,pr>2047&&(pr<55296||pr>57343)&&(_t=pr));break;case 4:Me=U[at+1],Se=U[at+2],Ge=U[at+3],(Me&192)==128&&(Se&192)==128&&(Ge&192)==128&&(pr=(Ot&15)<<18|(Me&63)<<12|(Se&63)<<6|Ge&63,pr>65535&&pr<1114112&&(_t=pr))}}_t===null?(_t=65533,we=1):_t>65535&&(_t-=65536,H.push(_t>>>10&1023|55296),_t=56320|_t&1023),H.push(_t),at+=we}return Z(H)}var Gt=4096;function Z(U){var x=U.length;if(x<=Gt)return String.fromCharCode.apply(String,U);for(var A="",H=0;H<x;)A+=String.fromCharCode.apply(String,U.slice(H,H+=Gt));return A}function _e(U,x,A){var H="";A=Math.min(U.length,A);for(var at=x;at<A;++at)H+=String.fromCharCode(U[at]&127);return H}function er(U,x,A){var H="";A=Math.min(U.length,A);for(var at=x;at<A;++at)H+=String.fromCharCode(U[at]);return H}function tt(U,x,A){var H=U.length;(!x||x<0)&&(x=0),(!A||A<0||A>H)&&(A=H);for(var at="",Ot=x;Ot<A;++Ot)at+=ae(U[Ot]);return at}function te(U,x,A){for(var H=U.slice(x,A),at="",Ot=0;Ot<H.length;Ot+=2)at+=String.fromCharCode(H[Ot]+H[Ot+1]*256);return at}b.prototype.slice=function(x,A){var H=this.length;x=~~x,A=A===void 0?H:~~A,x<0?(x+=H,x<0&&(x=0)):x>H&&(x=H),A<0?(A+=H,A<0&&(A=0)):A>H&&(A=H),A<x&&(A=x);var at;if(b.TYPED_ARRAY_SUPPORT)at=this.subarray(x,A),at.__proto__=b.prototype;else{var Ot=A-x;at=new b(Ot,void 0);for(var _t=0;_t<Ot;++_t)at[_t]=this[_t+x]}return at};function Y(U,x,A){if(U%1!=0||U<0)throw new RangeError("offset is not uint");if(U+x>A)throw new RangeError("Trying to access beyond buffer length")}b.prototype.readUIntLE=function(x,A,H){x=x|0,A=A|0,H||Y(x,A,this.length);for(var at=this[x],Ot=1,_t=0;++_t<A&&(Ot*=256);)at+=this[x+_t]*Ot;return at},b.prototype.readUIntBE=function(x,A,H){x=x|0,A=A|0,H||Y(x,A,this.length);for(var at=this[x+--A],Ot=1;A>0&&(Ot*=256);)at+=this[x+--A]*Ot;return at},b.prototype.readUInt8=function(x,A){return A||Y(x,1,this.length),this[x]},b.prototype.readUInt16LE=function(x,A){return A||Y(x,2,this.length),this[x]|this[x+1]<<8},b.prototype.readUInt16BE=function(x,A){return A||Y(x,2,this.length),this[x]<<8|this[x+1]},b.prototype.readUInt32LE=function(x,A){return A||Y(x,4,this.length),(this[x]|this[x+1]<<8|this[x+2]<<16)+this[x+3]*16777216},b.prototype.readUInt32BE=function(x,A){return A||Y(x,4,this.length),this[x]*16777216+(this[x+1]<<16|this[x+2]<<8|this[x+3])},b.prototype.readIntLE=function(x,A,H){x=x|0,A=A|0,H||Y(x,A,this.length);for(var at=this[x],Ot=1,_t=0;++_t<A&&(Ot*=256);)at+=this[x+_t]*Ot;return Ot*=128,at>=Ot&&(at-=Math.pow(2,8*A)),at},b.prototype.readIntBE=function(x,A,H){x=x|0,A=A|0,H||Y(x,A,this.length);for(var at=A,Ot=1,_t=this[x+--at];at>0&&(Ot*=256);)_t+=this[x+--at]*Ot;return Ot*=128,_t>=Ot&&(_t-=Math.pow(2,8*A)),_t},b.prototype.readInt8=function(x,A){return A||Y(x,1,this.length),this[x]&128?(255-this[x]+1)*-1:this[x]},b.prototype.readInt16LE=function(x,A){A||Y(x,2,this.length);var H=this[x]|this[x+1]<<8;return H&32768?H|4294901760:H},b.prototype.readInt16BE=function(x,A){A||Y(x,2,this.length);var H=this[x+1]|this[x]<<8;return H&32768?H|4294901760:H},b.prototype.readInt32LE=function(x,A){return A||Y(x,4,this.length),this[x]|this[x+1]<<8|this[x+2]<<16|this[x+3]<<24},b.prototype.readInt32BE=function(x,A){return A||Y(x,4,this.length),this[x]<<24|this[x+1]<<16|this[x+2]<<8|this[x+3]},b.prototype.readFloatLE=function(x,A){return A||Y(x,4,this.length),be.read(this,x,!0,23,4)},b.prototype.readFloatBE=function(x,A){return A||Y(x,4,this.length),be.read(this,x,!1,23,4)},b.prototype.readDoubleLE=function(x,A){return A||Y(x,8,this.length),be.read(this,x,!0,52,8)},b.prototype.readDoubleBE=function(x,A){return A||Y(x,8,this.length),be.read(this,x,!1,52,8)};function lt(U,x,A,H,at,Ot){if(!b.isBuffer(U))throw new TypeError('"buffer" argument must be a Buffer instance');if(x>at||x<Ot)throw new RangeError('"value" argument is out of bounds');if(A+H>U.length)throw new RangeError("Index out of range")}b.prototype.writeUIntLE=function(x,A,H,at){if(x=+x,A=A|0,H=H|0,!at){var Ot=Math.pow(2,8*H)-1;lt(this,x,A,H,Ot,0)}var _t=1,we=0;for(this[A]=x&255;++we<H&&(_t*=256);)this[A+we]=x/_t&255;return A+H},b.prototype.writeUIntBE=function(x,A,H,at){if(x=+x,A=A|0,H=H|0,!at){var Ot=Math.pow(2,8*H)-1;lt(this,x,A,H,Ot,0)}var _t=H-1,we=1;for(this[A+_t]=x&255;--_t>=0&&(we*=256);)this[A+_t]=x/we&255;return A+H},b.prototype.writeUInt8=function(x,A,H){return x=+x,A=A|0,H||lt(this,x,A,1,255,0),b.TYPED_ARRAY_SUPPORT||(x=Math.floor(x)),this[A]=x&255,A+1};function $(U,x,A,H){x<0&&(x=65535+x+1);for(var at=0,Ot=Math.min(U.length-A,2);at<Ot;++at)U[A+at]=(x&255<<8*(H?at:1-at))>>>(H?at:1-at)*8}b.prototype.writeUInt16LE=function(x,A,H){return x=+x,A=A|0,H||lt(this,x,A,2,65535,0),b.TYPED_ARRAY_SUPPORT?(this[A]=x&255,this[A+1]=x>>>8):$(this,x,A,!0),A+2},b.prototype.writeUInt16BE=function(x,A,H){return x=+x,A=A|0,H||lt(this,x,A,2,65535,0),b.TYPED_ARRAY_SUPPORT?(this[A]=x>>>8,this[A+1]=x&255):$(this,x,A,!1),A+2};function F(U,x,A,H){x<0&&(x=4294967295+x+1);for(var at=0,Ot=Math.min(U.length-A,4);at<Ot;++at)U[A+at]=x>>>(H?at:3-at)*8&255}b.prototype.writeUInt32LE=function(x,A,H){return x=+x,A=A|0,H||lt(this,x,A,4,4294967295,0),b.TYPED_ARRAY_SUPPORT?(this[A+3]=x>>>24,this[A+2]=x>>>16,this[A+1]=x>>>8,this[A]=x&255):F(this,x,A,!0),A+4},b.prototype.writeUInt32BE=function(x,A,H){return x=+x,A=A|0,H||lt(this,x,A,4,4294967295,0),b.TYPED_ARRAY_SUPPORT?(this[A]=x>>>24,this[A+1]=x>>>16,this[A+2]=x>>>8,this[A+3]=x&255):F(this,x,A,!1),A+4},b.prototype.writeIntLE=function(x,A,H,at){if(x=+x,A=A|0,!at){var Ot=Math.pow(2,8*H-1);lt(this,x,A,H,Ot-1,-Ot)}var _t=0,we=1,Me=0;for(this[A]=x&255;++_t<H&&(we*=256);)x<0&&Me===0&&this[A+_t-1]!==0&&(Me=1),this[A+_t]=(x/we>>0)-Me&255;return A+H},b.prototype.writeIntBE=function(x,A,H,at){if(x=+x,A=A|0,!at){var Ot=Math.pow(2,8*H-1);lt(this,x,A,H,Ot-1,-Ot)}var _t=H-1,we=1,Me=0;for(this[A+_t]=x&255;--_t>=0&&(we*=256);)x<0&&Me===0&&this[A+_t+1]!==0&&(Me=1),this[A+_t]=(x/we>>0)-Me&255;return A+H},b.prototype.writeInt8=function(x,A,H){return x=+x,A=A|0,H||lt(this,x,A,1,127,-128),b.TYPED_ARRAY_SUPPORT||(x=Math.floor(x)),x<0&&(x=255+x+1),this[A]=x&255,A+1},b.prototype.writeInt16LE=function(x,A,H){return x=+x,A=A|0,H||lt(this,x,A,2,32767,-32768),b.TYPED_ARRAY_SUPPORT?(this[A]=x&255,this[A+1]=x>>>8):$(this,x,A,!0),A+2},b.prototype.writeInt16BE=function(x,A,H){return x=+x,A=A|0,H||lt(this,x,A,2,32767,-32768),b.TYPED_ARRAY_SUPPORT?(this[A]=x>>>8,this[A+1]=x&255):$(this,x,A,!1),A+2},b.prototype.writeInt32LE=function(x,A,H){return x=+x,A=A|0,H||lt(this,x,A,4,2147483647,-2147483648),b.TYPED_ARRAY_SUPPORT?(this[A]=x&255,this[A+1]=x>>>8,this[A+2]=x>>>16,this[A+3]=x>>>24):F(this,x,A,!0),A+4},b.prototype.writeInt32BE=function(x,A,H){return x=+x,A=A|0,H||lt(this,x,A,4,2147483647,-2147483648),x<0&&(x=4294967295+x+1),b.TYPED_ARRAY_SUPPORT?(this[A]=x>>>24,this[A+1]=x>>>16,this[A+2]=x>>>8,this[A+3]=x&255):F(this,x,A,!1),A+4};function et(U,x,A,H,at,Ot){if(A+H>U.length)throw new RangeError("Index out of range");if(A<0)throw new RangeError("Index out of range")}function ht(U,x,A,H,at){return at||et(U,x,A,4,34028234663852886e22,-34028234663852886e22),be.write(U,x,A,H,23,4),A+4}b.prototype.writeFloatLE=function(x,A,H){return ht(this,x,A,!0,H)},b.prototype.writeFloatBE=function(x,A,H){return ht(this,x,A,!1,H)};function nt(U,x,A,H,at){return at||et(U,x,A,8,17976931348623157e292,-17976931348623157e292),be.write(U,x,A,H,52,8),A+8}b.prototype.writeDoubleLE=function(x,A,H){return nt(this,x,A,!0,H)},b.prototype.writeDoubleBE=function(x,A,H){return nt(this,x,A,!1,H)},b.prototype.copy=function(x,A,H,at){if(H||(H=0),!at&&at!==0&&(at=this.length),A>=x.length&&(A=x.length),A||(A=0),at>0&&at<H&&(at=H),at===H||x.length===0||this.length===0)return 0;if(A<0)throw new RangeError("targetStart out of bounds");if(H<0||H>=this.length)throw new RangeError("sourceStart out of bounds");if(at<0)throw new RangeError("sourceEnd out of bounds");at>this.length&&(at=this.length),x.length-A<at-H&&(at=x.length-A+H);var Ot=at-H,_t;if(this===x&&H<A&&A<at)for(_t=Ot-1;_t>=0;--_t)x[_t+A]=this[_t+H];else if(Ot<1e3||!b.TYPED_ARRAY_SUPPORT)for(_t=0;_t<Ot;++_t)x[_t+A]=this[_t+H];else Uint8Array.prototype.set.call(x,this.subarray(H,H+Ot),A);return Ot},b.prototype.fill=function(x,A,H,at){if(typeof x=="string"){if(typeof A=="string"?(at=A,A=0,H=this.length):typeof H=="string"&&(at=H,H=this.length),x.length===1){var Ot=x.charCodeAt(0);Ot<256&&(x=Ot)}if(at!==void 0&&typeof at!="string")throw new TypeError("encoding must be a string");if(typeof at=="string"&&!b.isEncoding(at))throw new TypeError("Unknown encoding: "+at)}else typeof x=="number"&&(x=x&255);if(A<0||this.length<A||this.length<H)throw new RangeError("Out of range index");if(H<=A)return this;A=A>>>0,H=H===void 0?this.length:H>>>0,x||(x=0);var _t;if(typeof x=="number")for(_t=A;_t<H;++_t)this[_t]=x;else{var we=b.isBuffer(x)?x:se(new b(x,at).toString()),Me=we.length;for(_t=0;_t<H-A;++_t)this[_t+A]=we[_t%Me]}return this};var jt=/[^+\/0-9A-Za-z-_]/g;function xt(U){if(U=Mt(U).replace(jt,""),U.length<2)return"";for(;U.length%4!=0;)U=U+"=";return U}function Mt(U){return U.trim?U.trim():U.replace(/^\s+|\s+$/g,"")}function ae(U){return U<16?"0"+U.toString(16):U.toString(16)}function se(U,x){x=x||Infinity;for(var A,H=U.length,at=null,Ot=[],_t=0;_t<H;++_t){if(A=U.charCodeAt(_t),A>55295&&A<57344){if(!at){if(A>56319){(x-=3)>-1&&Ot.push(239,191,189);continue}else if(_t+1===H){(x-=3)>-1&&Ot.push(239,191,189);continue}at=A;continue}if(A<56320){(x-=3)>-1&&Ot.push(239,191,189),at=A;continue}A=(at-55296<<10|A-56320)+65536}else at&&(x-=3)>-1&&Ot.push(239,191,189);if(at=null,A<128){if((x-=1)<0)break;Ot.push(A)}else if(A<2048){if((x-=2)<0)break;Ot.push(A>>6|192,A&63|128)}else if(A<65536){if((x-=3)<0)break;Ot.push(A>>12|224,A>>6&63|128,A&63|128)}else if(A<1114112){if((x-=4)<0)break;Ot.push(A>>18|240,A>>12&63|128,A>>6&63|128,A&63|128)}else throw new Error("Invalid code point")}return Ot}function Zt(U){for(var x=[],A=0;A<U.length;++A)x.push(U.charCodeAt(A)&255);return x}function Wt(U,x){for(var A,H,at,Ot=[],_t=0;_t<U.length&&!((x-=2)<0);++_t)A=U.charCodeAt(_t),H=A>>8,at=A%256,Ot.push(at),Ot.push(H);return Ot}function oe(U){return L.toByteArray(xt(U))}function N(U,x,A,H){for(var at=0;at<H&&!(at+A>=x.length||at>=U.length);++at)x[at+A]=U[at];return at}function zt(U){return U!==U}}).call(this,De("IyRk"))},tneF:function(un,wr,De){"use strict";var Je=De("sRBo"),L=De("kaz8"),be=De("wx14"),pt=De("VTBJ"),dt=De("Ff2n"),Yt=De("q1tI"),Q=De.n(Yt),b=De("adzw"),s=De("uX+g"),h=De("WFLz"),u=["options","fieldProps","proFieldProps","valueEnum"],o=Q.a.forwardRef(function(a,l){var i=a.options,f=a.fieldProps,p=a.proFieldProps,v=a.valueEnum,C=Object(dt.a)(a,u);return Q.a.createElement(b.a,Object(be.a)({ref:l,valueType:"checkbox",mode:"edit",valueEnum:Object(s.a)(v,void 0),fieldProps:Object(pt.a)({options:i},f),proFieldProps:p},C))}),r=Q.a.forwardRef(function(a,l){var i=a.fieldProps,f=a.children;return Q.a.createElement(L.a,Object(be.a)({ref:l},i),f)}),e=Object(h.a)(r,{valuePropName:"checked"}),t=e;t.Group=o,wr.a=t},vHD6:function(un,wr,De){"use strict";var Je=De("4hEd"),L={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},be=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,pt=/[\s,]+/;un.exports=function(Yt){var Q=new Je,b,s;return Yt.split(be).forEach(function(h){if(!!h.length){if(typeof L[h]!="undefined"){b=h;return}switch(s=h.split(pt).map(function(u){return+u||0}),b){case"matrix":s.length===6&&Q.matrix(s);return;case"scale":s.length===1?Q.scale(s[0],s[0]):s.length===2&&Q.scale(s[0],s[1]);return;case"rotate":s.length===1?Q.rotate(s[0],0,0):s.length===3&&Q.rotate(s[0],s[1],s[2]);return;case"translate":s.length===1?Q.translate(s[0],0):s.length===2&&Q.translate(s[0],s[1]);return;case"skewX":s.length===1&&Q.skewX(s[0]);return;case"skewY":s.length===1&&Q.skewY(s[0]);return}}}),Q}},xOOu:function(un,wr,De){(function(Je,L,be){var pt,pt;/*!

JSZip v3.10.0 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(dt){un.exports=dt()})(function(){return function dt(Yt,Q,b){function s(o,r){if(!Q[o]){if(!Yt[o]){var e=typeof pt=="function"&&pt;if(!r&&e)return pt(o,!0);if(h)return h(o,!0);var t=new Error("Cannot find module '"+o+"'");throw t.code="MODULE_NOT_FOUND",t}var a=Q[o]={exports:{}};Yt[o][0].call(a.exports,function(l){var i=Yt[o][1][l];return s(i||l)},a,a.exports,dt,Yt,Q,b)}return Q[o].exports}for(var h=typeof pt=="function"&&pt,u=0;u<b.length;u++)s(b[u]);return s}({1:[function(dt,Yt,Q){"use strict";var b=dt("./utils"),s=dt("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";Q.encode=function(u){for(var o,r,e,t,a,l,i,f=[],p=0,v=u.length,C=v,D=b.getTypeOf(u)!=="string";p<u.length;)C=v-p,e=D?(o=u[p++],r=p<v?u[p++]:0,p<v?u[p++]:0):(o=u.charCodeAt(p++),r=p<v?u.charCodeAt(p++):0,p<v?u.charCodeAt(p++):0),t=o>>2,a=(3&o)<<4|r>>4,l=1<C?(15&r)<<2|e>>6:64,i=2<C?63&e:64,f.push(h.charAt(t)+h.charAt(a)+h.charAt(l)+h.charAt(i));return f.join("")},Q.decode=function(u){var o,r,e,t,a,l,i=0,f=0,p="data:";if(u.substr(0,p.length)===p)throw new Error("Invalid base64 input, it looks like a data url.");var v,C=3*(u=u.replace(/[^A-Za-z0-9\+\/\=]/g,"")).length/4;if(u.charAt(u.length-1)===h.charAt(64)&&C--,u.charAt(u.length-2)===h.charAt(64)&&C--,C%1!=0)throw new Error("Invalid base64 input, bad content length.");for(v=s.uint8array?new Uint8Array(0|C):new Array(0|C);i<u.length;)o=h.indexOf(u.charAt(i++))<<2|(t=h.indexOf(u.charAt(i++)))>>4,r=(15&t)<<4|(a=h.indexOf(u.charAt(i++)))>>2,e=(3&a)<<6|(l=h.indexOf(u.charAt(i++))),v[f++]=o,a!==64&&(v[f++]=r),l!==64&&(v[f++]=e);return v}},{"./support":30,"./utils":32}],2:[function(dt,Yt,Q){"use strict";var b=dt("./external"),s=dt("./stream/DataWorker"),h=dt("./stream/Crc32Probe"),u=dt("./stream/DataLengthProbe");function o(r,e,t,a,l){this.compressedSize=r,this.uncompressedSize=e,this.crc32=t,this.compression=a,this.compressedContent=l}o.prototype={getContentWorker:function(){var e=new s(b.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new u("data_length")),t=this;return e.on("end",function(){if(this.streamInfo.data_length!==t.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),e},getCompressedWorker:function(){return new s(b.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},o.createWorkerFrom=function(r,e,t){return r.pipe(new h).pipe(new u("uncompressedSize")).pipe(e.compressWorker(t)).pipe(new u("compressedSize")).withStreamInfo("compression",e)},Yt.exports=o},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(dt,Yt,Q){"use strict";var b=dt("./stream/GenericWorker");Q.STORE={magic:"\0\0",compressWorker:function(h){return new b("STORE compression")},uncompressWorker:function(){return new b("STORE decompression")}},Q.DEFLATE=dt("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(dt,Yt,Q){"use strict";var b=dt("./utils"),s=function(){for(var h,u=[],o=0;o<256;o++){h=o;for(var r=0;r<8;r++)h=1&h?3988292384^h>>>1:h>>>1;u[o]=h}return u}();Yt.exports=function(h,u){return h!==void 0&&h.length?b.getTypeOf(h)!=="string"?function(o,r,e,t){var a=s,l=t+e;o^=-1;for(var i=t;i<l;i++)o=o>>>8^a[255&(o^r[i])];return-1^o}(0|u,h,h.length,0):function(o,r,e,t){var a=s,l=t+e;o^=-1;for(var i=t;i<l;i++)o=o>>>8^a[255&(o^r.charCodeAt(i))];return-1^o}(0|u,h,h.length,0):0}},{"./utils":32}],5:[function(dt,Yt,Q){"use strict";Q.base64=!1,Q.binary=!1,Q.dir=!1,Q.createFolders=!0,Q.date=null,Q.compression=null,Q.compressionOptions=null,Q.comment=null,Q.unixPermissions=null,Q.dosPermissions=null},{}],6:[function(dt,Yt,Q){"use strict";var b=null;b=typeof Promise!="undefined"?Promise:dt("lie"),Yt.exports={Promise:b}},{lie:37}],7:[function(dt,Yt,Q){"use strict";var b=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",s=dt("pako"),h=dt("./utils"),u=dt("./stream/GenericWorker"),o=b?"uint8array":"array";function r(e,t){u.call(this,"FlateWorker/"+e),this._pako=null,this._pakoAction=e,this._pakoOptions=t,this.meta={}}Q.magic="\b\0",h.inherits(r,u),r.prototype.processChunk=function(e){this.meta=e.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(o,e.data),!1)},r.prototype.flush=function(){u.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},r.prototype.cleanUp=function(){u.prototype.cleanUp.call(this),this._pako=null},r.prototype._createPako=function(){this._pako=new s[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var e=this;this._pako.onData=function(t){e.push({data:t,meta:e.meta})}},Q.compressWorker=function(e){return new r("Deflate",e)},Q.uncompressWorker=function(){return new r("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(dt,Yt,Q){"use strict";function b(a,l){var i,f="";for(i=0;i<l;i++)f+=String.fromCharCode(255&a),a>>>=8;return f}function s(a,l,i,f,p,v){var C,D,V=a.file,it=a.compression,Ct=v!==o.utf8encode,Dt=h.transformTo("string",v(V.name)),Ut=h.transformTo("string",o.utf8encode(V.name)),pe=V.comment,Ee=h.transformTo("string",v(pe)),At=h.transformTo("string",o.utf8encode(pe)),Gt=Ut.length!==V.name.length,Z=At.length!==pe.length,_e="",er="",tt="",te=V.dir,Y=V.date,lt={crc32:0,compressedSize:0,uncompressedSize:0};l&&!i||(lt.crc32=a.crc32,lt.compressedSize=a.compressedSize,lt.uncompressedSize=a.uncompressedSize);var $=0;l&&($|=8),Ct||!Gt&&!Z||($|=2048);var F=0,et=0;te&&(F|=16),p==="UNIX"?(et=798,F|=function(nt,jt){var xt=nt;return nt||(xt=jt?16893:33204),(65535&xt)<<16}(V.unixPermissions,te)):(et=20,F|=function(nt){return 63&(nt||0)}(V.dosPermissions)),C=Y.getUTCHours(),C<<=6,C|=Y.getUTCMinutes(),C<<=5,C|=Y.getUTCSeconds()/2,D=Y.getUTCFullYear()-1980,D<<=4,D|=Y.getUTCMonth()+1,D<<=5,D|=Y.getUTCDate(),Gt&&(er=b(1,1)+b(r(Dt),4)+Ut,_e+="up"+b(er.length,2)+er),Z&&(tt=b(1,1)+b(r(Ee),4)+At,_e+="uc"+b(tt.length,2)+tt);var ht="";return ht+=`
\0`,ht+=b($,2),ht+=it.magic,ht+=b(C,2),ht+=b(D,2),ht+=b(lt.crc32,4),ht+=b(lt.compressedSize,4),ht+=b(lt.uncompressedSize,4),ht+=b(Dt.length,2),ht+=b(_e.length,2),{fileRecord:e.LOCAL_FILE_HEADER+ht+Dt+_e,dirRecord:e.CENTRAL_FILE_HEADER+b(et,2)+ht+b(Ee.length,2)+"\0\0\0\0"+b(F,4)+b(f,4)+Dt+_e+Ee}}var h=dt("../utils"),u=dt("../stream/GenericWorker"),o=dt("../utf8"),r=dt("../crc32"),e=dt("../signature");function t(a,l,i,f){u.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=l,this.zipPlatform=i,this.encodeFileName=f,this.streamFiles=a,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(t,u),t.prototype.push=function(a){var l=a.meta.percent||0,i=this.entriesCount,f=this._sources.length;this.accumulate?this.contentBuffer.push(a):(this.bytesWritten+=a.data.length,u.prototype.push.call(this,{data:a.data,meta:{currentFile:this.currentFile,percent:i?(l+100*(i-f-1))/i:100}}))},t.prototype.openedSource=function(a){this.currentSourceOffset=this.bytesWritten,this.currentFile=a.file.name;var l=this.streamFiles&&!a.file.dir;if(l){var i=s(a,l,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:i.fileRecord,meta:{percent:0}})}else this.accumulate=!0},t.prototype.closedSource=function(a){this.accumulate=!1;var l=this.streamFiles&&!a.file.dir,i=s(a,l,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(i.dirRecord),l)this.push({data:function(f){return e.DATA_DESCRIPTOR+b(f.crc32,4)+b(f.compressedSize,4)+b(f.uncompressedSize,4)}(a),meta:{percent:100}});else for(this.push({data:i.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},t.prototype.flush=function(){for(var a=this.bytesWritten,l=0;l<this.dirRecords.length;l++)this.push({data:this.dirRecords[l],meta:{percent:100}});var i=this.bytesWritten-a,f=function(p,v,C,D,V){var it=h.transformTo("string",V(D));return e.CENTRAL_DIRECTORY_END+"\0\0\0\0"+b(p,2)+b(p,2)+b(v,4)+b(C,4)+b(it.length,2)+it}(this.dirRecords.length,i,a,this.zipComment,this.encodeFileName);this.push({data:f,meta:{percent:100}})},t.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},t.prototype.registerPrevious=function(a){this._sources.push(a);var l=this;return a.on("data",function(i){l.processChunk(i)}),a.on("end",function(){l.closedSource(l.previous.streamInfo),l._sources.length?l.prepareNextSource():l.end()}),a.on("error",function(i){l.error(i)}),this},t.prototype.resume=function(){return!!u.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},t.prototype.error=function(a){var l=this._sources;if(!u.prototype.error.call(this,a))return!1;for(var i=0;i<l.length;i++)try{l[i].error(a)}catch(f){}return!0},t.prototype.lock=function(){u.prototype.lock.call(this);for(var a=this._sources,l=0;l<a.length;l++)a[l].lock()},Yt.exports=t},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(dt,Yt,Q){"use strict";var b=dt("../compressions"),s=dt("./ZipFileWorker");Q.generateWorker=function(h,u,o){var r=new s(u.streamFiles,o,u.platform,u.encodeFileName),e=0;try{h.forEach(function(t,a){e++;var l=function(v,C){var D=v||C,V=b[D];if(!V)throw new Error(D+" is not a valid compression method !");return V}(a.options.compression,u.compression),i=a.options.compressionOptions||u.compressionOptions||{},f=a.dir,p=a.date;a._compressWorker(l,i).withStreamInfo("file",{name:t,dir:f,date:p,comment:a.comment||"",unixPermissions:a.unixPermissions,dosPermissions:a.dosPermissions}).pipe(r)}),r.entriesCount=e}catch(t){r.error(t)}return r}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(dt,Yt,Q){"use strict";function b(){if(!(this instanceof b))return new b;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var s=new b;for(var h in this)typeof this[h]!="function"&&(s[h]=this[h]);return s}}(b.prototype=dt("./object")).loadAsync=dt("./load"),b.support=dt("./support"),b.defaults=dt("./defaults"),b.version="3.10.0",b.loadAsync=function(s,h){return new b().loadAsync(s,h)},b.external=dt("./external"),Yt.exports=b},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(dt,Yt,Q){"use strict";var b=dt("./utils"),s=dt("./external"),h=dt("./utf8"),u=dt("./zipEntries"),o=dt("./stream/Crc32Probe"),r=dt("./nodejsUtils");function e(t){return new s.Promise(function(a,l){var i=t.decompressed.getContentWorker().pipe(new o);i.on("error",function(f){l(f)}).on("end",function(){i.streamInfo.crc32!==t.decompressed.crc32?l(new Error("Corrupted zip : CRC32 mismatch")):a()}).resume()})}Yt.exports=function(t,a){var l=this;return a=b.extend(a||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),r.isNode&&r.isStream(t)?s.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):b.prepareContent("the loaded zip file",t,!0,a.optimizedBinaryString,a.base64).then(function(i){var f=new u(a);return f.load(i),f}).then(function(i){var f=[s.Promise.resolve(i)],p=i.files;if(a.checkCRC32)for(var v=0;v<p.length;v++)f.push(e(p[v]));return s.Promise.all(f)}).then(function(i){for(var f=i.shift(),p=f.files,v=0;v<p.length;v++){var C=p[v],D=C.fileNameStr,V=b.resolve(C.fileNameStr);l.file(V,C.decompressed,{binary:!0,optimizedBinaryString:!0,date:C.date,dir:C.dir,comment:C.fileCommentStr.length?C.fileCommentStr:null,unixPermissions:C.unixPermissions,dosPermissions:C.dosPermissions,createFolders:a.createFolders}),C.dir||(l.file(V).unsafeOriginalName=D)}return f.zipComment.length&&(l.comment=f.zipComment),l})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(dt,Yt,Q){"use strict";var b=dt("../utils"),s=dt("../stream/GenericWorker");function h(u,o){s.call(this,"Nodejs stream input adapter for "+u),this._upstreamEnded=!1,this._bindStream(o)}b.inherits(h,s),h.prototype._bindStream=function(u){var o=this;(this._stream=u).pause(),u.on("data",function(r){o.push({data:r,meta:{percent:0}})}).on("error",function(r){o.isPaused?this.generatedError=r:o.error(r)}).on("end",function(){o.isPaused?o._upstreamEnded=!0:o.end()})},h.prototype.pause=function(){return!!s.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},Yt.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(dt,Yt,Q){"use strict";var b=dt("readable-stream").Readable;function s(h,u,o){b.call(this,u),this._helper=h;var r=this;h.on("data",function(e,t){r.push(e)||r._helper.pause(),o&&o(t)}).on("error",function(e){r.emit("error",e)}).on("end",function(){r.push(null)})}dt("../utils").inherits(s,b),s.prototype._read=function(){this._helper.resume()},Yt.exports=s},{"../utils":32,"readable-stream":16}],14:[function(dt,Yt,Q){"use strict";Yt.exports={isNode:typeof Je!="undefined",newBufferFrom:function(s,h){if(Je.from&&Je.from!==Uint8Array.from)return Je.from(s,h);if(typeof s=="number")throw new Error('The "data" argument must not be a number');return new Je(s,h)},allocBuffer:function(s){if(Je.alloc)return Je.alloc(s);var h=new Je(s);return h.fill(0),h},isBuffer:function(s){return Je.isBuffer(s)},isStream:function(s){return s&&typeof s.on=="function"&&typeof s.pause=="function"&&typeof s.resume=="function"}}},{}],15:[function(dt,Yt,Q){"use strict";function b(V,it,Ct){var Dt,Ut=h.getTypeOf(it),pe=h.extend(Ct||{},r);pe.date=pe.date||new Date,pe.compression!==null&&(pe.compression=pe.compression.toUpperCase()),typeof pe.unixPermissions=="string"&&(pe.unixPermissions=parseInt(pe.unixPermissions,8)),pe.unixPermissions&&16384&pe.unixPermissions&&(pe.dir=!0),pe.dosPermissions&&16&pe.dosPermissions&&(pe.dir=!0),pe.dir&&(V=p(V)),pe.createFolders&&(Dt=f(V))&&v.call(this,Dt,!0);var Ee=Ut==="string"&&pe.binary===!1&&pe.base64===!1;Ct&&Ct.binary!==void 0||(pe.binary=!Ee),(it instanceof e&&it.uncompressedSize===0||pe.dir||!it||it.length===0)&&(pe.base64=!1,pe.binary=!0,it="",pe.compression="STORE",Ut="string");var At=null;At=it instanceof e||it instanceof u?it:l.isNode&&l.isStream(it)?new i(V,it):h.prepareContent(V,it,pe.binary,pe.optimizedBinaryString,pe.base64);var Gt=new t(V,At,pe);this.files[V]=Gt}var s=dt("./utf8"),h=dt("./utils"),u=dt("./stream/GenericWorker"),o=dt("./stream/StreamHelper"),r=dt("./defaults"),e=dt("./compressedObject"),t=dt("./zipObject"),a=dt("./generate"),l=dt("./nodejsUtils"),i=dt("./nodejs/NodejsStreamInputAdapter"),f=function(it){it.slice(-1)==="/"&&(it=it.substring(0,it.length-1));var Ct=it.lastIndexOf("/");return 0<Ct?it.substring(0,Ct):""},p=function(it){return it.slice(-1)!=="/"&&(it+="/"),it},v=function(it,Ct){return Ct=Ct!==void 0?Ct:r.createFolders,it=p(it),this.files[it]||b.call(this,it,null,{dir:!0,createFolders:Ct}),this.files[it]};function C(V){return Object.prototype.toString.call(V)==="[object RegExp]"}var D={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(it){var Ct,Dt,Ut;for(Ct in this.files)Ut=this.files[Ct],(Dt=Ct.slice(this.root.length,Ct.length))&&Ct.slice(0,this.root.length)===this.root&&it(Dt,Ut)},filter:function(it){var Ct=[];return this.forEach(function(Dt,Ut){it(Dt,Ut)&&Ct.push(Ut)}),Ct},file:function(it,Ct,Dt){if(arguments.length!==1)return it=this.root+it,b.call(this,it,Ct,Dt),this;if(C(it)){var Ut=it;return this.filter(function(Ee,At){return!At.dir&&Ut.test(Ee)})}var pe=this.files[this.root+it];return pe&&!pe.dir?pe:null},folder:function(it){if(!it)return this;if(C(it))return this.filter(function(pe,Ee){return Ee.dir&&it.test(pe)});var Ct=this.root+it,Dt=v.call(this,Ct),Ut=this.clone();return Ut.root=Dt.name,Ut},remove:function(it){it=this.root+it;var Ct=this.files[it];if(Ct||(it.slice(-1)!=="/"&&(it+="/"),Ct=this.files[it]),Ct&&!Ct.dir)delete this.files[it];else for(var Dt=this.filter(function(pe,Ee){return Ee.name.slice(0,it.length)===it}),Ut=0;Ut<Dt.length;Ut++)delete this.files[Dt[Ut].name];return this},generate:function(it){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(it){var Ct,Dt={};try{if((Dt=h.extend(it||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:s.utf8encode})).type=Dt.type.toLowerCase(),Dt.compression=Dt.compression.toUpperCase(),Dt.type==="binarystring"&&(Dt.type="string"),!Dt.type)throw new Error("No output type specified.");h.checkSupport(Dt.type),Dt.platform!=="darwin"&&Dt.platform!=="freebsd"&&Dt.platform!=="linux"&&Dt.platform!=="sunos"||(Dt.platform="UNIX"),Dt.platform==="win32"&&(Dt.platform="DOS");var Ut=Dt.comment||this.comment||"";Ct=a.generateWorker(this,Dt,Ut)}catch(pe){(Ct=new u("error")).error(pe)}return new o(Ct,Dt.type||"string",Dt.mimeType)},generateAsync:function(it,Ct){return this.generateInternalStream(it).accumulate(Ct)},generateNodeStream:function(it,Ct){return(it=it||{}).type||(it.type="nodebuffer"),this.generateInternalStream(it).toNodejsStream(Ct)}};Yt.exports=D},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(dt,Yt,Q){Yt.exports=dt("stream")},{stream:void 0}],17:[function(dt,Yt,Q){"use strict";var b=dt("./DataReader");function s(h){b.call(this,h);for(var u=0;u<this.data.length;u++)h[u]=255&h[u]}dt("../utils").inherits(s,b),s.prototype.byteAt=function(h){return this.data[this.zero+h]},s.prototype.lastIndexOfSignature=function(h){for(var u=h.charCodeAt(0),o=h.charCodeAt(1),r=h.charCodeAt(2),e=h.charCodeAt(3),t=this.length-4;0<=t;--t)if(this.data[t]===u&&this.data[t+1]===o&&this.data[t+2]===r&&this.data[t+3]===e)return t-this.zero;return-1},s.prototype.readAndCheckSignature=function(h){var u=h.charCodeAt(0),o=h.charCodeAt(1),r=h.charCodeAt(2),e=h.charCodeAt(3),t=this.readData(4);return u===t[0]&&o===t[1]&&r===t[2]&&e===t[3]},s.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var u=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,u},Yt.exports=s},{"../utils":32,"./DataReader":18}],18:[function(dt,Yt,Q){"use strict";var b=dt("../utils");function s(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}s.prototype={checkOffset:function(u){this.checkIndex(this.index+u)},checkIndex:function(u){if(this.length<this.zero+u||u<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+u+"). Corrupted zip ?")},setIndex:function(u){this.checkIndex(u),this.index=u},skip:function(u){this.setIndex(this.index+u)},byteAt:function(u){},readInt:function(u){var o,r=0;for(this.checkOffset(u),o=this.index+u-1;o>=this.index;o--)r=(r<<8)+this.byteAt(o);return this.index+=u,r},readString:function(u){return b.transformTo("string",this.readData(u))},readData:function(u){},lastIndexOfSignature:function(u){},readAndCheckSignature:function(u){},readDate:function(){var u=this.readInt(4);return new Date(Date.UTC(1980+(u>>25&127),(u>>21&15)-1,u>>16&31,u>>11&31,u>>5&63,(31&u)<<1))}},Yt.exports=s},{"../utils":32}],19:[function(dt,Yt,Q){"use strict";var b=dt("./Uint8ArrayReader");function s(h){b.call(this,h)}dt("../utils").inherits(s,b),s.prototype.readData=function(h){this.checkOffset(h);var u=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,u},Yt.exports=s},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(dt,Yt,Q){"use strict";var b=dt("./DataReader");function s(h){b.call(this,h)}dt("../utils").inherits(s,b),s.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},s.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},s.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},s.prototype.readData=function(h){this.checkOffset(h);var u=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,u},Yt.exports=s},{"../utils":32,"./DataReader":18}],21:[function(dt,Yt,Q){"use strict";var b=dt("./ArrayReader");function s(h){b.call(this,h)}dt("../utils").inherits(s,b),s.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var u=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,u},Yt.exports=s},{"../utils":32,"./ArrayReader":17}],22:[function(dt,Yt,Q){"use strict";var b=dt("../utils"),s=dt("../support"),h=dt("./ArrayReader"),u=dt("./StringReader"),o=dt("./NodeBufferReader"),r=dt("./Uint8ArrayReader");Yt.exports=function(e){var t=b.getTypeOf(e);return b.checkSupport(t),t!=="string"||s.uint8array?t==="nodebuffer"?new o(e):s.uint8array?new r(b.transformTo("uint8array",e)):new h(b.transformTo("array",e)):new u(e)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(dt,Yt,Q){"use strict";Q.LOCAL_FILE_HEADER="PK",Q.CENTRAL_FILE_HEADER="PK",Q.CENTRAL_DIRECTORY_END="PK",Q.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",Q.ZIP64_CENTRAL_DIRECTORY_END="PK",Q.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(dt,Yt,Q){"use strict";var b=dt("./GenericWorker"),s=dt("../utils");function h(u){b.call(this,"ConvertWorker to "+u),this.destType=u}s.inherits(h,b),h.prototype.processChunk=function(u){this.push({data:s.transformTo(this.destType,u.data),meta:u.meta})},Yt.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(dt,Yt,Q){"use strict";var b=dt("./GenericWorker"),s=dt("../crc32");function h(){b.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}dt("../utils").inherits(h,b),h.prototype.processChunk=function(u){this.streamInfo.crc32=s(u.data,this.streamInfo.crc32||0),this.push(u)},Yt.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(dt,Yt,Q){"use strict";var b=dt("../utils"),s=dt("./GenericWorker");function h(u){s.call(this,"DataLengthProbe for "+u),this.propName=u,this.withStreamInfo(u,0)}b.inherits(h,s),h.prototype.processChunk=function(u){if(u){var o=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=o+u.data.length}s.prototype.processChunk.call(this,u)},Yt.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(dt,Yt,Q){"use strict";var b=dt("../utils"),s=dt("./GenericWorker");function h(u){s.call(this,"DataWorker");var o=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,u.then(function(r){o.dataIsReady=!0,o.data=r,o.max=r&&r.length||0,o.type=b.getTypeOf(r),o.isPaused||o._tickAndRepeat()},function(r){o.error(r)})}b.inherits(h,s),h.prototype.cleanUp=function(){s.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!s.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,b.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(b.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var u=null,o=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":u=this.data.substring(this.index,o);break;case"uint8array":u=this.data.subarray(this.index,o);break;case"array":case"nodebuffer":u=this.data.slice(this.index,o)}return this.index=o,this.push({data:u,meta:{percent:this.max?this.index/this.max*100:0}})},Yt.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(dt,Yt,Q){"use strict";function b(s){this.name=s||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}b.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,u){return this._listeners[h].push(u),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,u){if(this._listeners[h])for(var o=0;o<this._listeners[h].length;o++)this._listeners[h][o].call(this,u)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var u=this;return h.on("data",function(o){u.processChunk(o)}),h.on("end",function(){u.end()}),h.on("error",function(o){u.error(o)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,u){return this.extraStreamInfo[h]=u,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)this.extraStreamInfo.hasOwnProperty(h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},Yt.exports=b},{}],29:[function(dt,Yt,Q){"use strict";var b=dt("../utils"),s=dt("./ConvertWorker"),h=dt("./GenericWorker"),u=dt("../base64"),o=dt("../support"),r=dt("../external"),e=null;if(o.nodestream)try{e=dt("../nodejs/NodejsStreamOutputAdapter")}catch(l){}function t(l,i){return new r.Promise(function(f,p){var v=[],C=l._internalType,D=l._outputType,V=l._mimeType;l.on("data",function(it,Ct){v.push(it),i&&i(Ct)}).on("error",function(it){v=[],p(it)}).on("end",function(){try{var it=function(Ct,Dt,Ut){switch(Ct){case"blob":return b.newBlob(b.transformTo("arraybuffer",Dt),Ut);case"base64":return u.encode(Dt);default:return b.transformTo(Ct,Dt)}}(D,function(Ct,Dt){var Ut,pe=0,Ee=null,At=0;for(Ut=0;Ut<Dt.length;Ut++)At+=Dt[Ut].length;switch(Ct){case"string":return Dt.join("");case"array":return Array.prototype.concat.apply([],Dt);case"uint8array":for(Ee=new Uint8Array(At),Ut=0;Ut<Dt.length;Ut++)Ee.set(Dt[Ut],pe),pe+=Dt[Ut].length;return Ee;case"nodebuffer":return Je.concat(Dt);default:throw new Error("concat : unsupported type '"+Ct+"'")}}(C,v),V);f(it)}catch(Ct){p(Ct)}v=[]}).resume()})}function a(l,i,f){var p=i;switch(i){case"blob":case"arraybuffer":p="uint8array";break;case"base64":p="string"}try{this._internalType=p,this._outputType=i,this._mimeType=f,b.checkSupport(p),this._worker=l.pipe(new s(p)),l.lock()}catch(v){this._worker=new h("error"),this._worker.error(v)}}a.prototype={accumulate:function(i){return t(this,i)},on:function(i,f){var p=this;return i==="data"?this._worker.on(i,function(v){f.call(p,v.data,v.meta)}):this._worker.on(i,function(){b.delay(f,arguments,p)}),this},resume:function(){return b.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(i){if(b.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new e(this,{objectMode:this._outputType!=="nodebuffer"},i)}},Yt.exports=a},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(dt,Yt,Q){"use strict";if(Q.base64=!0,Q.array=!0,Q.string=!0,Q.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",Q.nodebuffer=typeof Je!="undefined",Q.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")Q.blob=!1;else{var b=new ArrayBuffer(0);try{Q.blob=new Blob([b],{type:"application/zip"}).size===0}catch(h){try{var s=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);s.append(b),Q.blob=s.getBlob("application/zip").size===0}catch(u){Q.blob=!1}}}try{Q.nodestream=!!dt("readable-stream").Readable}catch(h){Q.nodestream=!1}},{"readable-stream":16}],31:[function(dt,Yt,Q){"use strict";for(var b=dt("./utils"),s=dt("./support"),h=dt("./nodejsUtils"),u=dt("./stream/GenericWorker"),o=new Array(256),r=0;r<256;r++)o[r]=252<=r?6:248<=r?5:240<=r?4:224<=r?3:192<=r?2:1;o[254]=o[254]=1;function e(){u.call(this,"utf-8 decode"),this.leftOver=null}function t(){u.call(this,"utf-8 encode")}Q.utf8encode=function(a){return s.nodebuffer?h.newBufferFrom(a,"utf-8"):function(l){var i,f,p,v,C,D=l.length,V=0;for(v=0;v<D;v++)(64512&(f=l.charCodeAt(v)))==55296&&v+1<D&&(64512&(p=l.charCodeAt(v+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),v++),V+=f<128?1:f<2048?2:f<65536?3:4;for(i=s.uint8array?new Uint8Array(V):new Array(V),v=C=0;C<V;v++)(64512&(f=l.charCodeAt(v)))==55296&&v+1<D&&(64512&(p=l.charCodeAt(v+1)))==56320&&(f=65536+(f-55296<<10)+(p-56320),v++),f<128?i[C++]=f:(f<2048?i[C++]=192|f>>>6:(f<65536?i[C++]=224|f>>>12:(i[C++]=240|f>>>18,i[C++]=128|f>>>12&63),i[C++]=128|f>>>6&63),i[C++]=128|63&f);return i}(a)},Q.utf8decode=function(a){return s.nodebuffer?b.transformTo("nodebuffer",a).toString("utf-8"):function(l){var i,f,p,v,C=l.length,D=new Array(2*C);for(i=f=0;i<C;)if((p=l[i++])<128)D[f++]=p;else if(4<(v=o[p]))D[f++]=65533,i+=v-1;else{for(p&=v===2?31:v===3?15:7;1<v&&i<C;)p=p<<6|63&l[i++],v--;1<v?D[f++]=65533:p<65536?D[f++]=p:(p-=65536,D[f++]=55296|p>>10&1023,D[f++]=56320|1023&p)}return D.length!==f&&(D.subarray?D=D.subarray(0,f):D.length=f),b.applyFromCharCode(D)}(a=b.transformTo(s.uint8array?"uint8array":"array",a))},b.inherits(e,u),e.prototype.processChunk=function(a){var l=b.transformTo(s.uint8array?"uint8array":"array",a.data);if(this.leftOver&&this.leftOver.length){if(s.uint8array){var i=l;(l=new Uint8Array(i.length+this.leftOver.length)).set(this.leftOver,0),l.set(i,this.leftOver.length)}else l=this.leftOver.concat(l);this.leftOver=null}var f=function(v,C){var D;for((C=C||v.length)>v.length&&(C=v.length),D=C-1;0<=D&&(192&v[D])==128;)D--;return D<0||D===0?C:D+o[v[D]]>C?D:C}(l),p=l;f!==l.length&&(s.uint8array?(p=l.subarray(0,f),this.leftOver=l.subarray(f,l.length)):(p=l.slice(0,f),this.leftOver=l.slice(f,l.length))),this.push({data:Q.utf8decode(p),meta:a.meta})},e.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:Q.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},Q.Utf8DecodeWorker=e,b.inherits(t,u),t.prototype.processChunk=function(a){this.push({data:Q.utf8encode(a.data),meta:a.meta})},Q.Utf8EncodeWorker=t},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(dt,Yt,Q){"use strict";var b=dt("./support"),s=dt("./base64"),h=dt("./nodejsUtils"),u=dt("./external");function o(i){return i}function r(i,f){for(var p=0;p<i.length;++p)f[p]=255&i.charCodeAt(p);return f}dt("setimmediate"),Q.newBlob=function(i,f){Q.checkSupport("blob");try{return new Blob([i],{type:f})}catch(v){try{var p=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return p.append(i),p.getBlob(f)}catch(C){throw new Error("Bug : can't construct the Blob.")}}};var e={stringifyByChunk:function(f,p,v){var C=[],D=0,V=f.length;if(V<=v)return String.fromCharCode.apply(null,f);for(;D<V;)p==="array"||p==="nodebuffer"?C.push(String.fromCharCode.apply(null,f.slice(D,Math.min(D+v,V)))):C.push(String.fromCharCode.apply(null,f.subarray(D,Math.min(D+v,V)))),D+=v;return C.join("")},stringifyByChar:function(f){for(var p="",v=0;v<f.length;v++)p+=String.fromCharCode(f[v]);return p},applyCanBeUsed:{uint8array:function(){try{return b.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(i){return!1}}(),nodebuffer:function(){try{return b.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch(i){return!1}}()}};function t(i){var f=65536,p=Q.getTypeOf(i),v=!0;if(p==="uint8array"?v=e.applyCanBeUsed.uint8array:p==="nodebuffer"&&(v=e.applyCanBeUsed.nodebuffer),v)for(;1<f;)try{return e.stringifyByChunk(i,p,f)}catch(C){f=Math.floor(f/2)}return e.stringifyByChar(i)}function a(i,f){for(var p=0;p<i.length;p++)f[p]=i[p];return f}Q.applyFromCharCode=t;var l={};l.string={string:o,array:function(f){return r(f,new Array(f.length))},arraybuffer:function(f){return l.string.uint8array(f).buffer},uint8array:function(f){return r(f,new Uint8Array(f.length))},nodebuffer:function(f){return r(f,h.allocBuffer(f.length))}},l.array={string:t,array:o,arraybuffer:function(f){return new Uint8Array(f).buffer},uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return h.newBufferFrom(f)}},l.arraybuffer={string:function(f){return t(new Uint8Array(f))},array:function(f){return a(new Uint8Array(f),new Array(f.byteLength))},arraybuffer:o,uint8array:function(f){return new Uint8Array(f)},nodebuffer:function(f){return h.newBufferFrom(new Uint8Array(f))}},l.uint8array={string:t,array:function(f){return a(f,new Array(f.length))},arraybuffer:function(f){return f.buffer},uint8array:o,nodebuffer:function(f){return h.newBufferFrom(f)}},l.nodebuffer={string:t,array:function(f){return a(f,new Array(f.length))},arraybuffer:function(f){return l.nodebuffer.uint8array(f).buffer},uint8array:function(f){return a(f,new Uint8Array(f.length))},nodebuffer:o},Q.transformTo=function(i,f){if(f=f||"",!i)return f;Q.checkSupport(i);var p=Q.getTypeOf(f);return l[p][i](f)},Q.resolve=function(i){for(var f=i.split("/"),p=[],v=0;v<f.length;v++){var C=f[v];C==="."||C===""&&v!==0&&v!==f.length-1||(C===".."?p.pop():p.push(C))}return p.join("/")},Q.getTypeOf=function(i){return typeof i=="string"?"string":Object.prototype.toString.call(i)==="[object Array]"?"array":b.nodebuffer&&h.isBuffer(i)?"nodebuffer":b.uint8array&&i instanceof Uint8Array?"uint8array":b.arraybuffer&&i instanceof ArrayBuffer?"arraybuffer":void 0},Q.checkSupport=function(i){if(!b[i.toLowerCase()])throw new Error(i+" is not supported by this platform")},Q.MAX_VALUE_16BITS=65535,Q.MAX_VALUE_32BITS=-1,Q.pretty=function(i){var f,p,v="";for(p=0;p<(i||"").length;p++)v+="\\x"+((f=i.charCodeAt(p))<16?"0":"")+f.toString(16).toUpperCase();return v},Q.delay=function(i,f,p){setImmediate(function(){i.apply(p||null,f||[])})},Q.inherits=function(i,f){function p(){}p.prototype=f.prototype,i.prototype=new p},Q.extend=function(){var i,f,p={};for(i=0;i<arguments.length;i++)for(f in arguments[i])arguments[i].hasOwnProperty(f)&&p[f]===void 0&&(p[f]=arguments[i][f]);return p},Q.prepareContent=function(i,f,p,v,C){return u.Promise.resolve(f).then(function(D){return b.blob&&(D instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(D))!==-1)&&typeof FileReader!="undefined"?new u.Promise(function(V,it){var Ct=new FileReader;Ct.onload=function(Dt){V(Dt.target.result)},Ct.onerror=function(Dt){it(Dt.target.error)},Ct.readAsArrayBuffer(D)}):D}).then(function(D){var V=Q.getTypeOf(D);return V?(V==="arraybuffer"?D=Q.transformTo("uint8array",D):V==="string"&&(C?D=s.decode(D):p&&v!==!0&&(D=function(it){return r(it,b.uint8array?new Uint8Array(it.length):new Array(it.length))}(D))),D):u.Promise.reject(new Error("Can't read the data of '"+i+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(dt,Yt,Q){"use strict";var b=dt("./reader/readerFor"),s=dt("./utils"),h=dt("./signature"),u=dt("./zipEntry"),o=(dt("./utf8"),dt("./support"));function r(e){this.files=[],this.loadOptions=e}r.prototype={checkSignature:function(t){if(!this.reader.readAndCheckSignature(t)){this.reader.index-=4;var a=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+s.pretty(a)+", expected "+s.pretty(t)+")")}},isSignature:function(t,a){var l=this.reader.index;this.reader.setIndex(t);var i=this.reader.readString(4)===a;return this.reader.setIndex(l),i},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var t=this.reader.readData(this.zipCommentLength),a=o.uint8array?"uint8array":"array",l=s.transformTo(a,t);this.zipComment=this.loadOptions.decodeFileName(l)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var t,a,l,i=this.zip64EndOfCentralSize-44;0<i;)t=this.reader.readInt(2),a=this.reader.readInt(4),l=this.reader.readData(a),this.zip64ExtensibleData[t]={id:t,length:a,value:l}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var t,a;for(t=0;t<this.files.length;t++)a=this.files[t],this.reader.setIndex(a.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),a.readLocalPart(this.reader),a.handleUTF8(),a.processAttributes()},readCentralDir:function(){var t;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(t=new u({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(t);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var t=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(t<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(t);var a=t;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===s.MAX_VALUE_16BITS||this.diskWithCentralDirStart===s.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===s.MAX_VALUE_16BITS||this.centralDirRecords===s.MAX_VALUE_16BITS||this.centralDirSize===s.MAX_VALUE_32BITS||this.centralDirOffset===s.MAX_VALUE_32BITS){if(this.zip64=!0,(t=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(t),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var l=this.centralDirOffset+this.centralDirSize;this.zip64&&(l+=20,l+=12+this.zip64EndOfCentralSize);var i=a-l;if(0<i)this.isSignature(a,h.CENTRAL_FILE_HEADER)||(this.reader.zero=i);else if(i<0)throw new Error("Corrupted zip: missing "+Math.abs(i)+" bytes.")},prepareReader:function(t){this.reader=b(t)},load:function(t){this.prepareReader(t),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},Yt.exports=r},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utf8":31,"./utils":32,"./zipEntry":34}],34:[function(dt,Yt,Q){"use strict";var b=dt("./reader/readerFor"),s=dt("./utils"),h=dt("./compressedObject"),u=dt("./crc32"),o=dt("./utf8"),r=dt("./compressions"),e=dt("./support");function t(a,l){this.options=a,this.loadOptions=l}t.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(l){var i,f;if(l.skip(22),this.fileNameLength=l.readInt(2),f=l.readInt(2),this.fileName=l.readData(this.fileNameLength),l.skip(f),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((i=function(p){for(var v in r)if(r.hasOwnProperty(v)&&r[v].magic===p)return r[v];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+s.pretty(this.compressionMethod)+" unknown (inner file : "+s.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,i,l.readData(this.compressedSize))},readCentralPart:function(l){this.versionMadeBy=l.readInt(2),l.skip(2),this.bitFlag=l.readInt(2),this.compressionMethod=l.readString(2),this.date=l.readDate(),this.crc32=l.readInt(4),this.compressedSize=l.readInt(4),this.uncompressedSize=l.readInt(4);var i=l.readInt(2);if(this.extraFieldsLength=l.readInt(2),this.fileCommentLength=l.readInt(2),this.diskNumberStart=l.readInt(2),this.internalFileAttributes=l.readInt(2),this.externalFileAttributes=l.readInt(4),this.localHeaderOffset=l.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");l.skip(i),this.readExtraFields(l),this.parseZIP64ExtraField(l),this.fileComment=l.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var l=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),l==0&&(this.dosPermissions=63&this.externalFileAttributes),l==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(l){if(this.extraFields[1]){var i=b(this.extraFields[1].value);this.uncompressedSize===s.MAX_VALUE_32BITS&&(this.uncompressedSize=i.readInt(8)),this.compressedSize===s.MAX_VALUE_32BITS&&(this.compressedSize=i.readInt(8)),this.localHeaderOffset===s.MAX_VALUE_32BITS&&(this.localHeaderOffset=i.readInt(8)),this.diskNumberStart===s.MAX_VALUE_32BITS&&(this.diskNumberStart=i.readInt(4))}},readExtraFields:function(l){var i,f,p,v=l.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});l.index+4<v;)i=l.readInt(2),f=l.readInt(2),p=l.readData(f),this.extraFields[i]={id:i,length:f,value:p};l.setIndex(v)},handleUTF8:function(){var l=e.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=o.utf8decode(this.fileName),this.fileCommentStr=o.utf8decode(this.fileComment);else{var i=this.findExtraFieldUnicodePath();if(i!==null)this.fileNameStr=i;else{var f=s.transformTo(l,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(f)}var p=this.findExtraFieldUnicodeComment();if(p!==null)this.fileCommentStr=p;else{var v=s.transformTo(l,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(v)}}},findExtraFieldUnicodePath:function(){var l=this.extraFields[28789];if(l){var i=b(l.value);return i.readInt(1)!==1||u(this.fileName)!==i.readInt(4)?null:o.utf8decode(i.readData(l.length-5))}return null},findExtraFieldUnicodeComment:function(){var l=this.extraFields[25461];if(l){var i=b(l.value);return i.readInt(1)!==1||u(this.fileComment)!==i.readInt(4)?null:o.utf8decode(i.readData(l.length-5))}return null}},Yt.exports=t},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(dt,Yt,Q){"use strict";function b(l,i,f){this.name=l,this.dir=f.dir,this.date=f.date,this.comment=f.comment,this.unixPermissions=f.unixPermissions,this.dosPermissions=f.dosPermissions,this._data=i,this._dataBinary=f.binary,this.options={compression:f.compression,compressionOptions:f.compressionOptions}}var s=dt("./stream/StreamHelper"),h=dt("./stream/DataWorker"),u=dt("./utf8"),o=dt("./compressedObject"),r=dt("./stream/GenericWorker");b.prototype={internalStream:function(i){var f=null,p="string";try{if(!i)throw new Error("No output type specified.");var v=(p=i.toLowerCase())==="string"||p==="text";p!=="binarystring"&&p!=="text"||(p="string"),f=this._decompressWorker();var C=!this._dataBinary;C&&!v&&(f=f.pipe(new u.Utf8EncodeWorker)),!C&&v&&(f=f.pipe(new u.Utf8DecodeWorker))}catch(D){(f=new r("error")).error(D)}return new s(f,p,"")},async:function(i,f){return this.internalStream(i).accumulate(f)},nodeStream:function(i,f){return this.internalStream(i||"nodebuffer").toNodejsStream(f)},_compressWorker:function(i,f){if(this._data instanceof o&&this._data.compression.magic===i.magic)return this._data.getCompressedWorker();var p=this._decompressWorker();return this._dataBinary||(p=p.pipe(new u.Utf8EncodeWorker)),o.createWorkerFrom(p,i,f)},_decompressWorker:function(){return this._data instanceof o?this._data.getContentWorker():this._data instanceof r?this._data:new h(this._data)}};for(var e=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],t=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},a=0;a<e.length;a++)b.prototype[e[a]]=t;Yt.exports=b},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(dt,Yt,Q){(function(b){"use strict";var s,h,u=b.MutationObserver||b.WebKitMutationObserver;if(u){var o=0,r=new u(l),e=b.document.createTextNode("");r.observe(e,{characterData:!0}),s=function(){e.data=o=++o%2}}else if(b.setImmediate||b.MessageChannel===void 0)s="document"in b&&"onreadystatechange"in b.document.createElement("script")?function(){var i=b.document.createElement("script");i.onreadystatechange=function(){l(),i.onreadystatechange=null,i.parentNode.removeChild(i),i=null},b.document.documentElement.appendChild(i)}:function(){setTimeout(l,0)};else{var t=new b.MessageChannel;t.port1.onmessage=l,s=function(){t.port2.postMessage(0)}}var a=[];function l(){var i,f;h=!0;for(var p=a.length;p;){for(f=a,a=[],i=-1;++i<p;)f[i]();p=a.length}h=!1}Yt.exports=function(i){a.push(i)!==1||h||s()}}).call(this,typeof L!="undefined"?L:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(dt,Yt,Q){"use strict";var b=dt("immediate");function s(){}var h={},u=["REJECTED"],o=["FULFILLED"],r=["PENDING"];function e(p){if(typeof p!="function")throw new TypeError("resolver must be a function");this.state=r,this.queue=[],this.outcome=void 0,p!==s&&i(this,p)}function t(p,v,C){this.promise=p,typeof v=="function"&&(this.onFulfilled=v,this.callFulfilled=this.otherCallFulfilled),typeof C=="function"&&(this.onRejected=C,this.callRejected=this.otherCallRejected)}function a(p,v,C){b(function(){var D;try{D=v(C)}catch(V){return h.reject(p,V)}D===p?h.reject(p,new TypeError("Cannot resolve promise with itself")):h.resolve(p,D)})}function l(p){var v=p&&p.then;if(p&&(typeof p=="object"||typeof p=="function")&&typeof v=="function")return function(){v.apply(p,arguments)}}function i(p,v){var C=!1;function D(Ct){C||(C=!0,h.reject(p,Ct))}function V(Ct){C||(C=!0,h.resolve(p,Ct))}var it=f(function(){v(V,D)});it.status==="error"&&D(it.value)}function f(p,v){var C={};try{C.value=p(v),C.status="success"}catch(D){C.status="error",C.value=D}return C}(Yt.exports=e).prototype.finally=function(p){if(typeof p!="function")return this;var v=this.constructor;return this.then(function(C){return v.resolve(p()).then(function(){return C})},function(C){return v.resolve(p()).then(function(){throw C})})},e.prototype.catch=function(p){return this.then(null,p)},e.prototype.then=function(p,v){if(typeof p!="function"&&this.state===o||typeof v!="function"&&this.state===u)return this;var C=new this.constructor(s);return this.state!==r?a(C,this.state===o?p:v,this.outcome):this.queue.push(new t(C,p,v)),C},t.prototype.callFulfilled=function(p){h.resolve(this.promise,p)},t.prototype.otherCallFulfilled=function(p){a(this.promise,this.onFulfilled,p)},t.prototype.callRejected=function(p){h.reject(this.promise,p)},t.prototype.otherCallRejected=function(p){a(this.promise,this.onRejected,p)},h.resolve=function(p,v){var C=f(l,v);if(C.status==="error")return h.reject(p,C.value);var D=C.value;if(D)i(p,D);else{p.state=o,p.outcome=v;for(var V=-1,it=p.queue.length;++V<it;)p.queue[V].callFulfilled(v)}return p},h.reject=function(p,v){p.state=u,p.outcome=v;for(var C=-1,D=p.queue.length;++C<D;)p.queue[C].callRejected(v);return p},e.resolve=function(p){return p instanceof this?p:h.resolve(new this(s),p)},e.reject=function(p){var v=new this(s);return h.reject(v,p)},e.all=function(p){var v=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=p.length,D=!1;if(!C)return this.resolve([]);for(var V=new Array(C),it=0,Ct=-1,Dt=new this(s);++Ct<C;)Ut(p[Ct],Ct);return Dt;function Ut(pe,Ee){v.resolve(pe).then(function(At){V[Ee]=At,++it!==C||D||(D=!0,h.resolve(Dt,V))},function(At){D||(D=!0,h.reject(Dt,At))})}},e.race=function(p){var v=this;if(Object.prototype.toString.call(p)!=="[object Array]")return this.reject(new TypeError("must be an array"));var C=p.length,D=!1;if(!C)return this.resolve([]);for(var V=-1,it=new this(s);++V<C;)Ct=p[V],v.resolve(Ct).then(function(Dt){D||(D=!0,h.resolve(it,Dt))},function(Dt){D||(D=!0,h.reject(it,Dt))});var Ct;return it}},{immediate:36}],38:[function(dt,Yt,Q){"use strict";var b={};(0,dt("./lib/utils/common").assign)(b,dt("./lib/deflate"),dt("./lib/inflate"),dt("./lib/zlib/constants")),Yt.exports=b},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(dt,Yt,Q){"use strict";var b=dt("./zlib/deflate"),s=dt("./utils/common"),h=dt("./utils/strings"),u=dt("./zlib/messages"),o=dt("./zlib/zstream"),r=Object.prototype.toString,e=0,t=-1,a=0,l=8;function i(p){if(!(this instanceof i))return new i(p);this.options=s.assign({level:t,method:l,chunkSize:16384,windowBits:15,memLevel:8,strategy:a,to:""},p||{});var v=this.options;v.raw&&0<v.windowBits?v.windowBits=-v.windowBits:v.gzip&&0<v.windowBits&&v.windowBits<16&&(v.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new o,this.strm.avail_out=0;var C=b.deflateInit2(this.strm,v.level,v.method,v.windowBits,v.memLevel,v.strategy);if(C!==e)throw new Error(u[C]);if(v.header&&b.deflateSetHeader(this.strm,v.header),v.dictionary){var D;if(D=typeof v.dictionary=="string"?h.string2buf(v.dictionary):r.call(v.dictionary)==="[object ArrayBuffer]"?new Uint8Array(v.dictionary):v.dictionary,(C=b.deflateSetDictionary(this.strm,D))!==e)throw new Error(u[C]);this._dict_set=!0}}function f(p,v){var C=new i(v);if(C.push(p,!0),C.err)throw C.msg||u[C.err];return C.result}i.prototype.push=function(p,v){var C,D,V=this.strm,it=this.options.chunkSize;if(this.ended)return!1;D=v===~~v?v:v===!0?4:0,typeof p=="string"?V.input=h.string2buf(p):r.call(p)==="[object ArrayBuffer]"?V.input=new Uint8Array(p):V.input=p,V.next_in=0,V.avail_in=V.input.length;do{if(V.avail_out===0&&(V.output=new s.Buf8(it),V.next_out=0,V.avail_out=it),(C=b.deflate(V,D))!==1&&C!==e)return this.onEnd(C),!(this.ended=!0);V.avail_out!==0&&(V.avail_in!==0||D!==4&&D!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(s.shrinkBuf(V.output,V.next_out))):this.onData(s.shrinkBuf(V.output,V.next_out)))}while((0<V.avail_in||V.avail_out===0)&&C!==1);return D===4?(C=b.deflateEnd(this.strm),this.onEnd(C),this.ended=!0,C===e):D!==2||(this.onEnd(e),!(V.avail_out=0))},i.prototype.onData=function(p){this.chunks.push(p)},i.prototype.onEnd=function(p){p===e&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=p,this.msg=this.strm.msg},Q.Deflate=i,Q.deflate=f,Q.deflateRaw=function(p,v){return(v=v||{}).raw=!0,f(p,v)},Q.gzip=function(p,v){return(v=v||{}).gzip=!0,f(p,v)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(dt,Yt,Q){"use strict";var b=dt("./zlib/inflate"),s=dt("./utils/common"),h=dt("./utils/strings"),u=dt("./zlib/constants"),o=dt("./zlib/messages"),r=dt("./zlib/zstream"),e=dt("./zlib/gzheader"),t=Object.prototype.toString;function a(i){if(!(this instanceof a))return new a(i);this.options=s.assign({chunkSize:16384,windowBits:0,to:""},i||{});var f=this.options;f.raw&&0<=f.windowBits&&f.windowBits<16&&(f.windowBits=-f.windowBits,f.windowBits===0&&(f.windowBits=-15)),!(0<=f.windowBits&&f.windowBits<16)||i&&i.windowBits||(f.windowBits+=32),15<f.windowBits&&f.windowBits<48&&(15&f.windowBits)==0&&(f.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new r,this.strm.avail_out=0;var p=b.inflateInit2(this.strm,f.windowBits);if(p!==u.Z_OK)throw new Error(o[p]);this.header=new e,b.inflateGetHeader(this.strm,this.header)}function l(i,f){var p=new a(f);if(p.push(i,!0),p.err)throw p.msg||o[p.err];return p.result}a.prototype.push=function(i,f){var p,v,C,D,V,it,Ct=this.strm,Dt=this.options.chunkSize,Ut=this.options.dictionary,pe=!1;if(this.ended)return!1;v=f===~~f?f:f===!0?u.Z_FINISH:u.Z_NO_FLUSH,typeof i=="string"?Ct.input=h.binstring2buf(i):t.call(i)==="[object ArrayBuffer]"?Ct.input=new Uint8Array(i):Ct.input=i,Ct.next_in=0,Ct.avail_in=Ct.input.length;do{if(Ct.avail_out===0&&(Ct.output=new s.Buf8(Dt),Ct.next_out=0,Ct.avail_out=Dt),(p=b.inflate(Ct,u.Z_NO_FLUSH))===u.Z_NEED_DICT&&Ut&&(it=typeof Ut=="string"?h.string2buf(Ut):t.call(Ut)==="[object ArrayBuffer]"?new Uint8Array(Ut):Ut,p=b.inflateSetDictionary(this.strm,it)),p===u.Z_BUF_ERROR&&pe===!0&&(p=u.Z_OK,pe=!1),p!==u.Z_STREAM_END&&p!==u.Z_OK)return this.onEnd(p),!(this.ended=!0);Ct.next_out&&(Ct.avail_out!==0&&p!==u.Z_STREAM_END&&(Ct.avail_in!==0||v!==u.Z_FINISH&&v!==u.Z_SYNC_FLUSH)||(this.options.to==="string"?(C=h.utf8border(Ct.output,Ct.next_out),D=Ct.next_out-C,V=h.buf2string(Ct.output,C),Ct.next_out=D,Ct.avail_out=Dt-D,D&&s.arraySet(Ct.output,Ct.output,C,D,0),this.onData(V)):this.onData(s.shrinkBuf(Ct.output,Ct.next_out)))),Ct.avail_in===0&&Ct.avail_out===0&&(pe=!0)}while((0<Ct.avail_in||Ct.avail_out===0)&&p!==u.Z_STREAM_END);return p===u.Z_STREAM_END&&(v=u.Z_FINISH),v===u.Z_FINISH?(p=b.inflateEnd(this.strm),this.onEnd(p),this.ended=!0,p===u.Z_OK):v!==u.Z_SYNC_FLUSH||(this.onEnd(u.Z_OK),!(Ct.avail_out=0))},a.prototype.onData=function(i){this.chunks.push(i)},a.prototype.onEnd=function(i){i===u.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=s.flattenChunks(this.chunks)),this.chunks=[],this.err=i,this.msg=this.strm.msg},Q.Inflate=a,Q.inflate=l,Q.inflateRaw=function(i,f){return(f=f||{}).raw=!0,l(i,f)},Q.ungzip=l},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(dt,Yt,Q){"use strict";var b=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";Q.assign=function(u){for(var o=Array.prototype.slice.call(arguments,1);o.length;){var r=o.shift();if(r){if(typeof r!="object")throw new TypeError(r+"must be non-object");for(var e in r)r.hasOwnProperty(e)&&(u[e]=r[e])}}return u},Q.shrinkBuf=function(u,o){return u.length===o?u:u.subarray?u.subarray(0,o):(u.length=o,u)};var s={arraySet:function(o,r,e,t,a){if(r.subarray&&o.subarray)o.set(r.subarray(e,e+t),a);else for(var l=0;l<t;l++)o[a+l]=r[e+l]},flattenChunks:function(o){var r,e,t,a,l,i;for(r=t=0,e=o.length;r<e;r++)t+=o[r].length;for(i=new Uint8Array(t),r=a=0,e=o.length;r<e;r++)l=o[r],i.set(l,a),a+=l.length;return i}},h={arraySet:function(o,r,e,t,a){for(var l=0;l<t;l++)o[a+l]=r[e+l]},flattenChunks:function(o){return[].concat.apply([],o)}};Q.setTyped=function(u){u?(Q.Buf8=Uint8Array,Q.Buf16=Uint16Array,Q.Buf32=Int32Array,Q.assign(Q,s)):(Q.Buf8=Array,Q.Buf16=Array,Q.Buf32=Array,Q.assign(Q,h))},Q.setTyped(b)},{}],42:[function(dt,Yt,Q){"use strict";var b=dt("./common"),s=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch(e){s=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){h=!1}for(var u=new b.Buf8(256),o=0;o<256;o++)u[o]=252<=o?6:248<=o?5:240<=o?4:224<=o?3:192<=o?2:1;function r(e,t){if(t<65537&&(e.subarray&&h||!e.subarray&&s))return String.fromCharCode.apply(null,b.shrinkBuf(e,t));for(var a="",l=0;l<t;l++)a+=String.fromCharCode(e[l]);return a}u[254]=u[254]=1,Q.string2buf=function(e){var t,a,l,i,f,p=e.length,v=0;for(i=0;i<p;i++)(64512&(a=e.charCodeAt(i)))==55296&&i+1<p&&(64512&(l=e.charCodeAt(i+1)))==56320&&(a=65536+(a-55296<<10)+(l-56320),i++),v+=a<128?1:a<2048?2:a<65536?3:4;for(t=new b.Buf8(v),i=f=0;f<v;i++)(64512&(a=e.charCodeAt(i)))==55296&&i+1<p&&(64512&(l=e.charCodeAt(i+1)))==56320&&(a=65536+(a-55296<<10)+(l-56320),i++),a<128?t[f++]=a:(a<2048?t[f++]=192|a>>>6:(a<65536?t[f++]=224|a>>>12:(t[f++]=240|a>>>18,t[f++]=128|a>>>12&63),t[f++]=128|a>>>6&63),t[f++]=128|63&a);return t},Q.buf2binstring=function(e){return r(e,e.length)},Q.binstring2buf=function(e){for(var t=new b.Buf8(e.length),a=0,l=t.length;a<l;a++)t[a]=e.charCodeAt(a);return t},Q.buf2string=function(e,t){var a,l,i,f,p=t||e.length,v=new Array(2*p);for(a=l=0;a<p;)if((i=e[a++])<128)v[l++]=i;else if(4<(f=u[i]))v[l++]=65533,a+=f-1;else{for(i&=f===2?31:f===3?15:7;1<f&&a<p;)i=i<<6|63&e[a++],f--;1<f?v[l++]=65533:i<65536?v[l++]=i:(i-=65536,v[l++]=55296|i>>10&1023,v[l++]=56320|1023&i)}return r(v,l)},Q.utf8border=function(e,t){var a;for((t=t||e.length)>e.length&&(t=e.length),a=t-1;0<=a&&(192&e[a])==128;)a--;return a<0||a===0?t:a+u[e[a]]>t?a:t}},{"./common":41}],43:[function(dt,Yt,Q){"use strict";Yt.exports=function(b,s,h,u){for(var o=65535&b|0,r=b>>>16&65535|0,e=0;h!==0;){for(h-=e=2e3<h?2e3:h;r=r+(o=o+s[u++]|0)|0,--e;);o%=65521,r%=65521}return o|r<<16|0}},{}],44:[function(dt,Yt,Q){"use strict";Yt.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(dt,Yt,Q){"use strict";var b=function(){for(var s,h=[],u=0;u<256;u++){s=u;for(var o=0;o<8;o++)s=1&s?3988292384^s>>>1:s>>>1;h[u]=s}return h}();Yt.exports=function(s,h,u,o){var r=b,e=o+u;s^=-1;for(var t=o;t<e;t++)s=s>>>8^r[255&(s^h[t])];return-1^s}},{}],46:[function(dt,Yt,Q){"use strict";var b,s=dt("../utils/common"),h=dt("./trees"),u=dt("./adler32"),o=dt("./crc32"),r=dt("./messages"),e=0,t=4,a=0,l=-2,i=-1,f=4,p=2,v=8,C=9,D=286,V=30,it=19,Ct=2*D+1,Dt=15,Ut=3,pe=258,Ee=pe+Ut+1,At=42,Gt=113,Z=1,_e=2,er=3,tt=4;function te(N,zt){return N.msg=r[zt],zt}function Y(N){return(N<<1)-(4<N?9:0)}function lt(N){for(var zt=N.length;0<=--zt;)N[zt]=0}function $(N){var zt=N.state,U=zt.pending;U>N.avail_out&&(U=N.avail_out),U!==0&&(s.arraySet(N.output,zt.pending_buf,zt.pending_out,U,N.next_out),N.next_out+=U,zt.pending_out+=U,N.total_out+=U,N.avail_out-=U,zt.pending-=U,zt.pending===0&&(zt.pending_out=0))}function F(N,zt){h._tr_flush_block(N,0<=N.block_start?N.block_start:-1,N.strstart-N.block_start,zt),N.block_start=N.strstart,$(N.strm)}function et(N,zt){N.pending_buf[N.pending++]=zt}function ht(N,zt){N.pending_buf[N.pending++]=zt>>>8&255,N.pending_buf[N.pending++]=255&zt}function nt(N,zt){var U,x,A=N.max_chain_length,H=N.strstart,at=N.prev_length,Ot=N.nice_match,_t=N.strstart>N.w_size-Ee?N.strstart-(N.w_size-Ee):0,we=N.window,Me=N.w_mask,Se=N.prev,Ge=N.strstart+pe,pr=we[H+at-1],Ar=we[H+at];N.prev_length>=N.good_match&&(A>>=2),Ot>N.lookahead&&(Ot=N.lookahead);do if(we[(U=zt)+at]===Ar&&we[U+at-1]===pr&&we[U]===we[H]&&we[++U]===we[H+1]){H+=2,U++;do;while(we[++H]===we[++U]&&we[++H]===we[++U]&&we[++H]===we[++U]&&we[++H]===we[++U]&&we[++H]===we[++U]&&we[++H]===we[++U]&&we[++H]===we[++U]&&we[++H]===we[++U]&&H<Ge);if(x=pe-(Ge-H),H=Ge-pe,at<x){if(N.match_start=zt,Ot<=(at=x))break;pr=we[H+at-1],Ar=we[H+at]}}while((zt=Se[zt&Me])>_t&&--A!=0);return at<=N.lookahead?at:N.lookahead}function jt(N){var zt,U,x,A,H,at,Ot,_t,we,Me,Se=N.w_size;do{if(A=N.window_size-N.lookahead-N.strstart,N.strstart>=Se+(Se-Ee)){for(s.arraySet(N.window,N.window,Se,Se,0),N.match_start-=Se,N.strstart-=Se,N.block_start-=Se,zt=U=N.hash_size;x=N.head[--zt],N.head[zt]=Se<=x?x-Se:0,--U;);for(zt=U=Se;x=N.prev[--zt],N.prev[zt]=Se<=x?x-Se:0,--U;);A+=Se}if(N.strm.avail_in===0)break;if(at=N.strm,Ot=N.window,_t=N.strstart+N.lookahead,we=A,Me=void 0,Me=at.avail_in,we<Me&&(Me=we),U=Me===0?0:(at.avail_in-=Me,s.arraySet(Ot,at.input,at.next_in,Me,_t),at.state.wrap===1?at.adler=u(at.adler,Ot,Me,_t):at.state.wrap===2&&(at.adler=o(at.adler,Ot,Me,_t)),at.next_in+=Me,at.total_in+=Me,Me),N.lookahead+=U,N.lookahead+N.insert>=Ut)for(H=N.strstart-N.insert,N.ins_h=N.window[H],N.ins_h=(N.ins_h<<N.hash_shift^N.window[H+1])&N.hash_mask;N.insert&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[H+Ut-1])&N.hash_mask,N.prev[H&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=H,H++,N.insert--,!(N.lookahead+N.insert<Ut)););}while(N.lookahead<Ee&&N.strm.avail_in!==0)}function xt(N,zt){for(var U,x;;){if(N.lookahead<Ee){if(jt(N),N.lookahead<Ee&&zt===e)return Z;if(N.lookahead===0)break}if(U=0,N.lookahead>=Ut&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+Ut-1])&N.hash_mask,U=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),U!==0&&N.strstart-U<=N.w_size-Ee&&(N.match_length=nt(N,U)),N.match_length>=Ut)if(x=h._tr_tally(N,N.strstart-N.match_start,N.match_length-Ut),N.lookahead-=N.match_length,N.match_length<=N.max_lazy_match&&N.lookahead>=Ut){for(N.match_length--;N.strstart++,N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+Ut-1])&N.hash_mask,U=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart,--N.match_length!=0;);N.strstart++}else N.strstart+=N.match_length,N.match_length=0,N.ins_h=N.window[N.strstart],N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+1])&N.hash_mask;else x=h._tr_tally(N,0,N.window[N.strstart]),N.lookahead--,N.strstart++;if(x&&(F(N,!1),N.strm.avail_out===0))return Z}return N.insert=N.strstart<Ut-1?N.strstart:Ut-1,zt===t?(F(N,!0),N.strm.avail_out===0?er:tt):N.last_lit&&(F(N,!1),N.strm.avail_out===0)?Z:_e}function Mt(N,zt){for(var U,x,A;;){if(N.lookahead<Ee){if(jt(N),N.lookahead<Ee&&zt===e)return Z;if(N.lookahead===0)break}if(U=0,N.lookahead>=Ut&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+Ut-1])&N.hash_mask,U=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),N.prev_length=N.match_length,N.prev_match=N.match_start,N.match_length=Ut-1,U!==0&&N.prev_length<N.max_lazy_match&&N.strstart-U<=N.w_size-Ee&&(N.match_length=nt(N,U),N.match_length<=5&&(N.strategy===1||N.match_length===Ut&&4096<N.strstart-N.match_start)&&(N.match_length=Ut-1)),N.prev_length>=Ut&&N.match_length<=N.prev_length){for(A=N.strstart+N.lookahead-Ut,x=h._tr_tally(N,N.strstart-1-N.prev_match,N.prev_length-Ut),N.lookahead-=N.prev_length-1,N.prev_length-=2;++N.strstart<=A&&(N.ins_h=(N.ins_h<<N.hash_shift^N.window[N.strstart+Ut-1])&N.hash_mask,U=N.prev[N.strstart&N.w_mask]=N.head[N.ins_h],N.head[N.ins_h]=N.strstart),--N.prev_length!=0;);if(N.match_available=0,N.match_length=Ut-1,N.strstart++,x&&(F(N,!1),N.strm.avail_out===0))return Z}else if(N.match_available){if((x=h._tr_tally(N,0,N.window[N.strstart-1]))&&F(N,!1),N.strstart++,N.lookahead--,N.strm.avail_out===0)return Z}else N.match_available=1,N.strstart++,N.lookahead--}return N.match_available&&(x=h._tr_tally(N,0,N.window[N.strstart-1]),N.match_available=0),N.insert=N.strstart<Ut-1?N.strstart:Ut-1,zt===t?(F(N,!0),N.strm.avail_out===0?er:tt):N.last_lit&&(F(N,!1),N.strm.avail_out===0)?Z:_e}function ae(N,zt,U,x,A){this.good_length=N,this.max_lazy=zt,this.nice_length=U,this.max_chain=x,this.func=A}function se(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=v,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new s.Buf16(2*Ct),this.dyn_dtree=new s.Buf16(2*(2*V+1)),this.bl_tree=new s.Buf16(2*(2*it+1)),lt(this.dyn_ltree),lt(this.dyn_dtree),lt(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new s.Buf16(Dt+1),this.heap=new s.Buf16(2*D+1),lt(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new s.Buf16(2*D+1),lt(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Zt(N){var zt;return N&&N.state?(N.total_in=N.total_out=0,N.data_type=p,(zt=N.state).pending=0,zt.pending_out=0,zt.wrap<0&&(zt.wrap=-zt.wrap),zt.status=zt.wrap?At:Gt,N.adler=zt.wrap===2?0:1,zt.last_flush=e,h._tr_init(zt),a):te(N,l)}function Wt(N){var zt=Zt(N);return zt===a&&function(U){U.window_size=2*U.w_size,lt(U.head),U.max_lazy_match=b[U.level].max_lazy,U.good_match=b[U.level].good_length,U.nice_match=b[U.level].nice_length,U.max_chain_length=b[U.level].max_chain,U.strstart=0,U.block_start=0,U.lookahead=0,U.insert=0,U.match_length=U.prev_length=Ut-1,U.match_available=0,U.ins_h=0}(N.state),zt}function oe(N,zt,U,x,A,H){if(!N)return l;var at=1;if(zt===i&&(zt=6),x<0?(at=0,x=-x):15<x&&(at=2,x-=16),A<1||C<A||U!==v||x<8||15<x||zt<0||9<zt||H<0||f<H)return te(N,l);x===8&&(x=9);var Ot=new se;return(N.state=Ot).strm=N,Ot.wrap=at,Ot.gzhead=null,Ot.w_bits=x,Ot.w_size=1<<Ot.w_bits,Ot.w_mask=Ot.w_size-1,Ot.hash_bits=A+7,Ot.hash_size=1<<Ot.hash_bits,Ot.hash_mask=Ot.hash_size-1,Ot.hash_shift=~~((Ot.hash_bits+Ut-1)/Ut),Ot.window=new s.Buf8(2*Ot.w_size),Ot.head=new s.Buf16(Ot.hash_size),Ot.prev=new s.Buf16(Ot.w_size),Ot.lit_bufsize=1<<A+6,Ot.pending_buf_size=4*Ot.lit_bufsize,Ot.pending_buf=new s.Buf8(Ot.pending_buf_size),Ot.d_buf=1*Ot.lit_bufsize,Ot.l_buf=3*Ot.lit_bufsize,Ot.level=zt,Ot.strategy=H,Ot.method=U,Wt(N)}b=[new ae(0,0,0,0,function(N,zt){var U=65535;for(U>N.pending_buf_size-5&&(U=N.pending_buf_size-5);;){if(N.lookahead<=1){if(jt(N),N.lookahead===0&&zt===e)return Z;if(N.lookahead===0)break}N.strstart+=N.lookahead,N.lookahead=0;var x=N.block_start+U;if((N.strstart===0||N.strstart>=x)&&(N.lookahead=N.strstart-x,N.strstart=x,F(N,!1),N.strm.avail_out===0)||N.strstart-N.block_start>=N.w_size-Ee&&(F(N,!1),N.strm.avail_out===0))return Z}return N.insert=0,zt===t?(F(N,!0),N.strm.avail_out===0?er:tt):(N.strstart>N.block_start&&(F(N,!1),N.strm.avail_out),Z)}),new ae(4,4,8,4,xt),new ae(4,5,16,8,xt),new ae(4,6,32,32,xt),new ae(4,4,16,16,Mt),new ae(8,16,32,32,Mt),new ae(8,16,128,128,Mt),new ae(8,32,128,256,Mt),new ae(32,128,258,1024,Mt),new ae(32,258,258,4096,Mt)],Q.deflateInit=function(N,zt){return oe(N,zt,v,15,8,0)},Q.deflateInit2=oe,Q.deflateReset=Wt,Q.deflateResetKeep=Zt,Q.deflateSetHeader=function(N,zt){return N&&N.state?N.state.wrap!==2?l:(N.state.gzhead=zt,a):l},Q.deflate=function(N,zt){var U,x,A,H;if(!N||!N.state||5<zt||zt<0)return N?te(N,l):l;if(x=N.state,!N.output||!N.input&&N.avail_in!==0||x.status===666&&zt!==t)return te(N,N.avail_out===0?-5:l);if(x.strm=N,U=x.last_flush,x.last_flush=zt,x.status===At)if(x.wrap===2)N.adler=0,et(x,31),et(x,139),et(x,8),x.gzhead?(et(x,(x.gzhead.text?1:0)+(x.gzhead.hcrc?2:0)+(x.gzhead.extra?4:0)+(x.gzhead.name?8:0)+(x.gzhead.comment?16:0)),et(x,255&x.gzhead.time),et(x,x.gzhead.time>>8&255),et(x,x.gzhead.time>>16&255),et(x,x.gzhead.time>>24&255),et(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),et(x,255&x.gzhead.os),x.gzhead.extra&&x.gzhead.extra.length&&(et(x,255&x.gzhead.extra.length),et(x,x.gzhead.extra.length>>8&255)),x.gzhead.hcrc&&(N.adler=o(N.adler,x.pending_buf,x.pending,0)),x.gzindex=0,x.status=69):(et(x,0),et(x,0),et(x,0),et(x,0),et(x,0),et(x,x.level===9?2:2<=x.strategy||x.level<2?4:0),et(x,3),x.status=Gt);else{var at=v+(x.w_bits-8<<4)<<8;at|=(2<=x.strategy||x.level<2?0:x.level<6?1:x.level===6?2:3)<<6,x.strstart!==0&&(at|=32),at+=31-at%31,x.status=Gt,ht(x,at),x.strstart!==0&&(ht(x,N.adler>>>16),ht(x,65535&N.adler)),N.adler=1}if(x.status===69)if(x.gzhead.extra){for(A=x.pending;x.gzindex<(65535&x.gzhead.extra.length)&&(x.pending!==x.pending_buf_size||(x.gzhead.hcrc&&x.pending>A&&(N.adler=o(N.adler,x.pending_buf,x.pending-A,A)),$(N),A=x.pending,x.pending!==x.pending_buf_size));)et(x,255&x.gzhead.extra[x.gzindex]),x.gzindex++;x.gzhead.hcrc&&x.pending>A&&(N.adler=o(N.adler,x.pending_buf,x.pending-A,A)),x.gzindex===x.gzhead.extra.length&&(x.gzindex=0,x.status=73)}else x.status=73;if(x.status===73)if(x.gzhead.name){A=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>A&&(N.adler=o(N.adler,x.pending_buf,x.pending-A,A)),$(N),A=x.pending,x.pending===x.pending_buf_size)){H=1;break}H=x.gzindex<x.gzhead.name.length?255&x.gzhead.name.charCodeAt(x.gzindex++):0,et(x,H)}while(H!==0);x.gzhead.hcrc&&x.pending>A&&(N.adler=o(N.adler,x.pending_buf,x.pending-A,A)),H===0&&(x.gzindex=0,x.status=91)}else x.status=91;if(x.status===91)if(x.gzhead.comment){A=x.pending;do{if(x.pending===x.pending_buf_size&&(x.gzhead.hcrc&&x.pending>A&&(N.adler=o(N.adler,x.pending_buf,x.pending-A,A)),$(N),A=x.pending,x.pending===x.pending_buf_size)){H=1;break}H=x.gzindex<x.gzhead.comment.length?255&x.gzhead.comment.charCodeAt(x.gzindex++):0,et(x,H)}while(H!==0);x.gzhead.hcrc&&x.pending>A&&(N.adler=o(N.adler,x.pending_buf,x.pending-A,A)),H===0&&(x.status=103)}else x.status=103;if(x.status===103&&(x.gzhead.hcrc?(x.pending+2>x.pending_buf_size&&$(N),x.pending+2<=x.pending_buf_size&&(et(x,255&N.adler),et(x,N.adler>>8&255),N.adler=0,x.status=Gt)):x.status=Gt),x.pending!==0){if($(N),N.avail_out===0)return x.last_flush=-1,a}else if(N.avail_in===0&&Y(zt)<=Y(U)&&zt!==t)return te(N,-5);if(x.status===666&&N.avail_in!==0)return te(N,-5);if(N.avail_in!==0||x.lookahead!==0||zt!==e&&x.status!==666){var Ot=x.strategy===2?function(_t,we){for(var Me;;){if(_t.lookahead===0&&(jt(_t),_t.lookahead===0)){if(we===e)return Z;break}if(_t.match_length=0,Me=h._tr_tally(_t,0,_t.window[_t.strstart]),_t.lookahead--,_t.strstart++,Me&&(F(_t,!1),_t.strm.avail_out===0))return Z}return _t.insert=0,we===t?(F(_t,!0),_t.strm.avail_out===0?er:tt):_t.last_lit&&(F(_t,!1),_t.strm.avail_out===0)?Z:_e}(x,zt):x.strategy===3?function(_t,we){for(var Me,Se,Ge,pr,Ar=_t.window;;){if(_t.lookahead<=pe){if(jt(_t),_t.lookahead<=pe&&we===e)return Z;if(_t.lookahead===0)break}if(_t.match_length=0,_t.lookahead>=Ut&&0<_t.strstart&&(Se=Ar[Ge=_t.strstart-1])===Ar[++Ge]&&Se===Ar[++Ge]&&Se===Ar[++Ge]){pr=_t.strstart+pe;do;while(Se===Ar[++Ge]&&Se===Ar[++Ge]&&Se===Ar[++Ge]&&Se===Ar[++Ge]&&Se===Ar[++Ge]&&Se===Ar[++Ge]&&Se===Ar[++Ge]&&Se===Ar[++Ge]&&Ge<pr);_t.match_length=pe-(pr-Ge),_t.match_length>_t.lookahead&&(_t.match_length=_t.lookahead)}if(_t.match_length>=Ut?(Me=h._tr_tally(_t,1,_t.match_length-Ut),_t.lookahead-=_t.match_length,_t.strstart+=_t.match_length,_t.match_length=0):(Me=h._tr_tally(_t,0,_t.window[_t.strstart]),_t.lookahead--,_t.strstart++),Me&&(F(_t,!1),_t.strm.avail_out===0))return Z}return _t.insert=0,we===t?(F(_t,!0),_t.strm.avail_out===0?er:tt):_t.last_lit&&(F(_t,!1),_t.strm.avail_out===0)?Z:_e}(x,zt):b[x.level].func(x,zt);if(Ot!==er&&Ot!==tt||(x.status=666),Ot===Z||Ot===er)return N.avail_out===0&&(x.last_flush=-1),a;if(Ot===_e&&(zt===1?h._tr_align(x):zt!==5&&(h._tr_stored_block(x,0,0,!1),zt===3&&(lt(x.head),x.lookahead===0&&(x.strstart=0,x.block_start=0,x.insert=0))),$(N),N.avail_out===0))return x.last_flush=-1,a}return zt!==t?a:x.wrap<=0?1:(x.wrap===2?(et(x,255&N.adler),et(x,N.adler>>8&255),et(x,N.adler>>16&255),et(x,N.adler>>24&255),et(x,255&N.total_in),et(x,N.total_in>>8&255),et(x,N.total_in>>16&255),et(x,N.total_in>>24&255)):(ht(x,N.adler>>>16),ht(x,65535&N.adler)),$(N),0<x.wrap&&(x.wrap=-x.wrap),x.pending!==0?a:1)},Q.deflateEnd=function(N){var zt;return N&&N.state?(zt=N.state.status)!==At&&zt!==69&&zt!==73&&zt!==91&&zt!==103&&zt!==Gt&&zt!==666?te(N,l):(N.state=null,zt===Gt?te(N,-3):a):l},Q.deflateSetDictionary=function(N,zt){var U,x,A,H,at,Ot,_t,we,Me=zt.length;if(!N||!N.state||(H=(U=N.state).wrap)===2||H===1&&U.status!==At||U.lookahead)return l;for(H===1&&(N.adler=u(N.adler,zt,Me,0)),U.wrap=0,Me>=U.w_size&&(H===0&&(lt(U.head),U.strstart=0,U.block_start=0,U.insert=0),we=new s.Buf8(U.w_size),s.arraySet(we,zt,Me-U.w_size,U.w_size,0),zt=we,Me=U.w_size),at=N.avail_in,Ot=N.next_in,_t=N.input,N.avail_in=Me,N.next_in=0,N.input=zt,jt(U);U.lookahead>=Ut;){for(x=U.strstart,A=U.lookahead-(Ut-1);U.ins_h=(U.ins_h<<U.hash_shift^U.window[x+Ut-1])&U.hash_mask,U.prev[x&U.w_mask]=U.head[U.ins_h],U.head[U.ins_h]=x,x++,--A;);U.strstart=x,U.lookahead=Ut-1,jt(U)}return U.strstart+=U.lookahead,U.block_start=U.strstart,U.insert=U.lookahead,U.lookahead=0,U.match_length=U.prev_length=Ut-1,U.match_available=0,N.next_in=Ot,N.input=_t,N.avail_in=at,U.wrap=H,a},Q.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(dt,Yt,Q){"use strict";Yt.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(dt,Yt,Q){"use strict";Yt.exports=function(b,s){var h,u,o,r,e,t,a,l,i,f,p,v,C,D,V,it,Ct,Dt,Ut,pe,Ee,At,Gt,Z,_e;h=b.state,u=b.next_in,Z=b.input,o=u+(b.avail_in-5),r=b.next_out,_e=b.output,e=r-(s-b.avail_out),t=r+(b.avail_out-257),a=h.dmax,l=h.wsize,i=h.whave,f=h.wnext,p=h.window,v=h.hold,C=h.bits,D=h.lencode,V=h.distcode,it=(1<<h.lenbits)-1,Ct=(1<<h.distbits)-1;t:do{C<15&&(v+=Z[u++]<<C,C+=8,v+=Z[u++]<<C,C+=8),Dt=D[v&it];e:for(;;){if(v>>>=Ut=Dt>>>24,C-=Ut,(Ut=Dt>>>16&255)==0)_e[r++]=65535&Dt;else{if(!(16&Ut)){if((64&Ut)==0){Dt=D[(65535&Dt)+(v&(1<<Ut)-1)];continue e}if(32&Ut){h.mode=12;break t}b.msg="invalid literal/length code",h.mode=30;break t}pe=65535&Dt,(Ut&=15)&&(C<Ut&&(v+=Z[u++]<<C,C+=8),pe+=v&(1<<Ut)-1,v>>>=Ut,C-=Ut),C<15&&(v+=Z[u++]<<C,C+=8,v+=Z[u++]<<C,C+=8),Dt=V[v&Ct];r:for(;;){if(v>>>=Ut=Dt>>>24,C-=Ut,!(16&(Ut=Dt>>>16&255))){if((64&Ut)==0){Dt=V[(65535&Dt)+(v&(1<<Ut)-1)];continue r}b.msg="invalid distance code",h.mode=30;break t}if(Ee=65535&Dt,C<(Ut&=15)&&(v+=Z[u++]<<C,(C+=8)<Ut&&(v+=Z[u++]<<C,C+=8)),a<(Ee+=v&(1<<Ut)-1)){b.msg="invalid distance too far back",h.mode=30;break t}if(v>>>=Ut,C-=Ut,(Ut=r-e)<Ee){if(i<(Ut=Ee-Ut)&&h.sane){b.msg="invalid distance too far back",h.mode=30;break t}if(Gt=p,(At=0)===f){if(At+=l-Ut,Ut<pe){for(pe-=Ut;_e[r++]=p[At++],--Ut;);At=r-Ee,Gt=_e}}else if(f<Ut){if(At+=l+f-Ut,(Ut-=f)<pe){for(pe-=Ut;_e[r++]=p[At++],--Ut;);if(At=0,f<pe){for(pe-=Ut=f;_e[r++]=p[At++],--Ut;);At=r-Ee,Gt=_e}}}else if(At+=f-Ut,Ut<pe){for(pe-=Ut;_e[r++]=p[At++],--Ut;);At=r-Ee,Gt=_e}for(;2<pe;)_e[r++]=Gt[At++],_e[r++]=Gt[At++],_e[r++]=Gt[At++],pe-=3;pe&&(_e[r++]=Gt[At++],1<pe&&(_e[r++]=Gt[At++]))}else{for(At=r-Ee;_e[r++]=_e[At++],_e[r++]=_e[At++],_e[r++]=_e[At++],2<(pe-=3););pe&&(_e[r++]=_e[At++],1<pe&&(_e[r++]=_e[At++]))}break}}break}}while(u<o&&r<t);u-=pe=C>>3,v&=(1<<(C-=pe<<3))-1,b.next_in=u,b.next_out=r,b.avail_in=u<o?o-u+5:5-(u-o),b.avail_out=r<t?t-r+257:257-(r-t),h.hold=v,h.bits=C}},{}],49:[function(dt,Yt,Q){"use strict";var b=dt("../utils/common"),s=dt("./adler32"),h=dt("./crc32"),u=dt("./inffast"),o=dt("./inftrees"),r=1,e=2,t=0,a=-2,l=1,i=852,f=592;function p(At){return(At>>>24&255)+(At>>>8&65280)+((65280&At)<<8)+((255&At)<<24)}function v(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new b.Buf16(320),this.work=new b.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function C(At){var Gt;return At&&At.state?(Gt=At.state,At.total_in=At.total_out=Gt.total=0,At.msg="",Gt.wrap&&(At.adler=1&Gt.wrap),Gt.mode=l,Gt.last=0,Gt.havedict=0,Gt.dmax=32768,Gt.head=null,Gt.hold=0,Gt.bits=0,Gt.lencode=Gt.lendyn=new b.Buf32(i),Gt.distcode=Gt.distdyn=new b.Buf32(f),Gt.sane=1,Gt.back=-1,t):a}function D(At){var Gt;return At&&At.state?((Gt=At.state).wsize=0,Gt.whave=0,Gt.wnext=0,C(At)):a}function V(At,Gt){var Z,_e;return At&&At.state?(_e=At.state,Gt<0?(Z=0,Gt=-Gt):(Z=1+(Gt>>4),Gt<48&&(Gt&=15)),Gt&&(Gt<8||15<Gt)?a:(_e.window!==null&&_e.wbits!==Gt&&(_e.window=null),_e.wrap=Z,_e.wbits=Gt,D(At))):a}function it(At,Gt){var Z,_e;return At?(_e=new v,(At.state=_e).window=null,(Z=V(At,Gt))!==t&&(At.state=null),Z):a}var Ct,Dt,Ut=!0;function pe(At){if(Ut){var Gt;for(Ct=new b.Buf32(512),Dt=new b.Buf32(32),Gt=0;Gt<144;)At.lens[Gt++]=8;for(;Gt<256;)At.lens[Gt++]=9;for(;Gt<280;)At.lens[Gt++]=7;for(;Gt<288;)At.lens[Gt++]=8;for(o(r,At.lens,0,288,Ct,0,At.work,{bits:9}),Gt=0;Gt<32;)At.lens[Gt++]=5;o(e,At.lens,0,32,Dt,0,At.work,{bits:5}),Ut=!1}At.lencode=Ct,At.lenbits=9,At.distcode=Dt,At.distbits=5}function Ee(At,Gt,Z,_e){var er,tt=At.state;return tt.window===null&&(tt.wsize=1<<tt.wbits,tt.wnext=0,tt.whave=0,tt.window=new b.Buf8(tt.wsize)),_e>=tt.wsize?(b.arraySet(tt.window,Gt,Z-tt.wsize,tt.wsize,0),tt.wnext=0,tt.whave=tt.wsize):(_e<(er=tt.wsize-tt.wnext)&&(er=_e),b.arraySet(tt.window,Gt,Z-_e,er,tt.wnext),(_e-=er)?(b.arraySet(tt.window,Gt,Z-_e,_e,0),tt.wnext=_e,tt.whave=tt.wsize):(tt.wnext+=er,tt.wnext===tt.wsize&&(tt.wnext=0),tt.whave<tt.wsize&&(tt.whave+=er))),0}Q.inflateReset=D,Q.inflateReset2=V,Q.inflateResetKeep=C,Q.inflateInit=function(At){return it(At,15)},Q.inflateInit2=it,Q.inflate=function(At,Gt){var Z,_e,er,tt,te,Y,lt,$,F,et,ht,nt,jt,xt,Mt,ae,se,Zt,Wt,oe,N,zt,U,x,A=0,H=new b.Buf8(4),at=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!At||!At.state||!At.output||!At.input&&At.avail_in!==0)return a;(Z=At.state).mode===12&&(Z.mode=13),te=At.next_out,er=At.output,lt=At.avail_out,tt=At.next_in,_e=At.input,Y=At.avail_in,$=Z.hold,F=Z.bits,et=Y,ht=lt,zt=t;t:for(;;)switch(Z.mode){case l:if(Z.wrap===0){Z.mode=13;break}for(;F<16;){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}if(2&Z.wrap&&$===35615){H[Z.check=0]=255&$,H[1]=$>>>8&255,Z.check=h(Z.check,H,2,0),F=$=0,Z.mode=2;break}if(Z.flags=0,Z.head&&(Z.head.done=!1),!(1&Z.wrap)||(((255&$)<<8)+($>>8))%31){At.msg="incorrect header check",Z.mode=30;break}if((15&$)!=8){At.msg="unknown compression method",Z.mode=30;break}if(F-=4,N=8+(15&($>>>=4)),Z.wbits===0)Z.wbits=N;else if(N>Z.wbits){At.msg="invalid window size",Z.mode=30;break}Z.dmax=1<<N,At.adler=Z.check=1,Z.mode=512&$?10:12,F=$=0;break;case 2:for(;F<16;){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}if(Z.flags=$,(255&Z.flags)!=8){At.msg="unknown compression method",Z.mode=30;break}if(57344&Z.flags){At.msg="unknown header flags set",Z.mode=30;break}Z.head&&(Z.head.text=$>>8&1),512&Z.flags&&(H[0]=255&$,H[1]=$>>>8&255,Z.check=h(Z.check,H,2,0)),F=$=0,Z.mode=3;case 3:for(;F<32;){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}Z.head&&(Z.head.time=$),512&Z.flags&&(H[0]=255&$,H[1]=$>>>8&255,H[2]=$>>>16&255,H[3]=$>>>24&255,Z.check=h(Z.check,H,4,0)),F=$=0,Z.mode=4;case 4:for(;F<16;){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}Z.head&&(Z.head.xflags=255&$,Z.head.os=$>>8),512&Z.flags&&(H[0]=255&$,H[1]=$>>>8&255,Z.check=h(Z.check,H,2,0)),F=$=0,Z.mode=5;case 5:if(1024&Z.flags){for(;F<16;){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}Z.length=$,Z.head&&(Z.head.extra_len=$),512&Z.flags&&(H[0]=255&$,H[1]=$>>>8&255,Z.check=h(Z.check,H,2,0)),F=$=0}else Z.head&&(Z.head.extra=null);Z.mode=6;case 6:if(1024&Z.flags&&(Y<(nt=Z.length)&&(nt=Y),nt&&(Z.head&&(N=Z.head.extra_len-Z.length,Z.head.extra||(Z.head.extra=new Array(Z.head.extra_len)),b.arraySet(Z.head.extra,_e,tt,nt,N)),512&Z.flags&&(Z.check=h(Z.check,_e,nt,tt)),Y-=nt,tt+=nt,Z.length-=nt),Z.length))break t;Z.length=0,Z.mode=7;case 7:if(2048&Z.flags){if(Y===0)break t;for(nt=0;N=_e[tt+nt++],Z.head&&N&&Z.length<65536&&(Z.head.name+=String.fromCharCode(N)),N&&nt<Y;);if(512&Z.flags&&(Z.check=h(Z.check,_e,nt,tt)),Y-=nt,tt+=nt,N)break t}else Z.head&&(Z.head.name=null);Z.length=0,Z.mode=8;case 8:if(4096&Z.flags){if(Y===0)break t;for(nt=0;N=_e[tt+nt++],Z.head&&N&&Z.length<65536&&(Z.head.comment+=String.fromCharCode(N)),N&&nt<Y;);if(512&Z.flags&&(Z.check=h(Z.check,_e,nt,tt)),Y-=nt,tt+=nt,N)break t}else Z.head&&(Z.head.comment=null);Z.mode=9;case 9:if(512&Z.flags){for(;F<16;){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}if($!==(65535&Z.check)){At.msg="header crc mismatch",Z.mode=30;break}F=$=0}Z.head&&(Z.head.hcrc=Z.flags>>9&1,Z.head.done=!0),At.adler=Z.check=0,Z.mode=12;break;case 10:for(;F<32;){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}At.adler=Z.check=p($),F=$=0,Z.mode=11;case 11:if(Z.havedict===0)return At.next_out=te,At.avail_out=lt,At.next_in=tt,At.avail_in=Y,Z.hold=$,Z.bits=F,2;At.adler=Z.check=1,Z.mode=12;case 12:if(Gt===5||Gt===6)break t;case 13:if(Z.last){$>>>=7&F,F-=7&F,Z.mode=27;break}for(;F<3;){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}switch(Z.last=1&$,F-=1,3&($>>>=1)){case 0:Z.mode=14;break;case 1:if(pe(Z),Z.mode=20,Gt!==6)break;$>>>=2,F-=2;break t;case 2:Z.mode=17;break;case 3:At.msg="invalid block type",Z.mode=30}$>>>=2,F-=2;break;case 14:for($>>>=7&F,F-=7&F;F<32;){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}if((65535&$)!=($>>>16^65535)){At.msg="invalid stored block lengths",Z.mode=30;break}if(Z.length=65535&$,F=$=0,Z.mode=15,Gt===6)break t;case 15:Z.mode=16;case 16:if(nt=Z.length){if(Y<nt&&(nt=Y),lt<nt&&(nt=lt),nt===0)break t;b.arraySet(er,_e,tt,nt,te),Y-=nt,tt+=nt,lt-=nt,te+=nt,Z.length-=nt;break}Z.mode=12;break;case 17:for(;F<14;){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}if(Z.nlen=257+(31&$),$>>>=5,F-=5,Z.ndist=1+(31&$),$>>>=5,F-=5,Z.ncode=4+(15&$),$>>>=4,F-=4,286<Z.nlen||30<Z.ndist){At.msg="too many length or distance symbols",Z.mode=30;break}Z.have=0,Z.mode=18;case 18:for(;Z.have<Z.ncode;){for(;F<3;){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}Z.lens[at[Z.have++]]=7&$,$>>>=3,F-=3}for(;Z.have<19;)Z.lens[at[Z.have++]]=0;if(Z.lencode=Z.lendyn,Z.lenbits=7,U={bits:Z.lenbits},zt=o(0,Z.lens,0,19,Z.lencode,0,Z.work,U),Z.lenbits=U.bits,zt){At.msg="invalid code lengths set",Z.mode=30;break}Z.have=0,Z.mode=19;case 19:for(;Z.have<Z.nlen+Z.ndist;){for(;ae=(A=Z.lencode[$&(1<<Z.lenbits)-1])>>>16&255,se=65535&A,!((Mt=A>>>24)<=F);){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}if(se<16)$>>>=Mt,F-=Mt,Z.lens[Z.have++]=se;else{if(se===16){for(x=Mt+2;F<x;){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}if($>>>=Mt,F-=Mt,Z.have===0){At.msg="invalid bit length repeat",Z.mode=30;break}N=Z.lens[Z.have-1],nt=3+(3&$),$>>>=2,F-=2}else if(se===17){for(x=Mt+3;F<x;){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}F-=Mt,N=0,nt=3+(7&($>>>=Mt)),$>>>=3,F-=3}else{for(x=Mt+7;F<x;){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}F-=Mt,N=0,nt=11+(127&($>>>=Mt)),$>>>=7,F-=7}if(Z.have+nt>Z.nlen+Z.ndist){At.msg="invalid bit length repeat",Z.mode=30;break}for(;nt--;)Z.lens[Z.have++]=N}}if(Z.mode===30)break;if(Z.lens[256]===0){At.msg="invalid code -- missing end-of-block",Z.mode=30;break}if(Z.lenbits=9,U={bits:Z.lenbits},zt=o(r,Z.lens,0,Z.nlen,Z.lencode,0,Z.work,U),Z.lenbits=U.bits,zt){At.msg="invalid literal/lengths set",Z.mode=30;break}if(Z.distbits=6,Z.distcode=Z.distdyn,U={bits:Z.distbits},zt=o(e,Z.lens,Z.nlen,Z.ndist,Z.distcode,0,Z.work,U),Z.distbits=U.bits,zt){At.msg="invalid distances set",Z.mode=30;break}if(Z.mode=20,Gt===6)break t;case 20:Z.mode=21;case 21:if(6<=Y&&258<=lt){At.next_out=te,At.avail_out=lt,At.next_in=tt,At.avail_in=Y,Z.hold=$,Z.bits=F,u(At,ht),te=At.next_out,er=At.output,lt=At.avail_out,tt=At.next_in,_e=At.input,Y=At.avail_in,$=Z.hold,F=Z.bits,Z.mode===12&&(Z.back=-1);break}for(Z.back=0;ae=(A=Z.lencode[$&(1<<Z.lenbits)-1])>>>16&255,se=65535&A,!((Mt=A>>>24)<=F);){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}if(ae&&(240&ae)==0){for(Zt=Mt,Wt=ae,oe=se;ae=(A=Z.lencode[oe+(($&(1<<Zt+Wt)-1)>>Zt)])>>>16&255,se=65535&A,!(Zt+(Mt=A>>>24)<=F);){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}$>>>=Zt,F-=Zt,Z.back+=Zt}if($>>>=Mt,F-=Mt,Z.back+=Mt,Z.length=se,ae===0){Z.mode=26;break}if(32&ae){Z.back=-1,Z.mode=12;break}if(64&ae){At.msg="invalid literal/length code",Z.mode=30;break}Z.extra=15&ae,Z.mode=22;case 22:if(Z.extra){for(x=Z.extra;F<x;){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}Z.length+=$&(1<<Z.extra)-1,$>>>=Z.extra,F-=Z.extra,Z.back+=Z.extra}Z.was=Z.length,Z.mode=23;case 23:for(;ae=(A=Z.distcode[$&(1<<Z.distbits)-1])>>>16&255,se=65535&A,!((Mt=A>>>24)<=F);){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}if((240&ae)==0){for(Zt=Mt,Wt=ae,oe=se;ae=(A=Z.distcode[oe+(($&(1<<Zt+Wt)-1)>>Zt)])>>>16&255,se=65535&A,!(Zt+(Mt=A>>>24)<=F);){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}$>>>=Zt,F-=Zt,Z.back+=Zt}if($>>>=Mt,F-=Mt,Z.back+=Mt,64&ae){At.msg="invalid distance code",Z.mode=30;break}Z.offset=se,Z.extra=15&ae,Z.mode=24;case 24:if(Z.extra){for(x=Z.extra;F<x;){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}Z.offset+=$&(1<<Z.extra)-1,$>>>=Z.extra,F-=Z.extra,Z.back+=Z.extra}if(Z.offset>Z.dmax){At.msg="invalid distance too far back",Z.mode=30;break}Z.mode=25;case 25:if(lt===0)break t;if(nt=ht-lt,Z.offset>nt){if((nt=Z.offset-nt)>Z.whave&&Z.sane){At.msg="invalid distance too far back",Z.mode=30;break}jt=nt>Z.wnext?(nt-=Z.wnext,Z.wsize-nt):Z.wnext-nt,nt>Z.length&&(nt=Z.length),xt=Z.window}else xt=er,jt=te-Z.offset,nt=Z.length;for(lt<nt&&(nt=lt),lt-=nt,Z.length-=nt;er[te++]=xt[jt++],--nt;);Z.length===0&&(Z.mode=21);break;case 26:if(lt===0)break t;er[te++]=Z.length,lt--,Z.mode=21;break;case 27:if(Z.wrap){for(;F<32;){if(Y===0)break t;Y--,$|=_e[tt++]<<F,F+=8}if(ht-=lt,At.total_out+=ht,Z.total+=ht,ht&&(At.adler=Z.check=Z.flags?h(Z.check,er,ht,te-ht):s(Z.check,er,ht,te-ht)),ht=lt,(Z.flags?$:p($))!==Z.check){At.msg="incorrect data check",Z.mode=30;break}F=$=0}Z.mode=28;case 28:if(Z.wrap&&Z.flags){for(;F<32;){if(Y===0)break t;Y--,$+=_e[tt++]<<F,F+=8}if($!==(4294967295&Z.total)){At.msg="incorrect length check",Z.mode=30;break}F=$=0}Z.mode=29;case 29:zt=1;break t;case 30:zt=-3;break t;case 31:return-4;case 32:default:return a}return At.next_out=te,At.avail_out=lt,At.next_in=tt,At.avail_in=Y,Z.hold=$,Z.bits=F,(Z.wsize||ht!==At.avail_out&&Z.mode<30&&(Z.mode<27||Gt!==4))&&Ee(At,At.output,At.next_out,ht-At.avail_out)?(Z.mode=31,-4):(et-=At.avail_in,ht-=At.avail_out,At.total_in+=et,At.total_out+=ht,Z.total+=ht,Z.wrap&&ht&&(At.adler=Z.check=Z.flags?h(Z.check,er,ht,At.next_out-ht):s(Z.check,er,ht,At.next_out-ht)),At.data_type=Z.bits+(Z.last?64:0)+(Z.mode===12?128:0)+(Z.mode===20||Z.mode===15?256:0),(et==0&&ht===0||Gt===4)&&zt===t&&(zt=-5),zt)},Q.inflateEnd=function(At){if(!At||!At.state)return a;var Gt=At.state;return Gt.window&&(Gt.window=null),At.state=null,t},Q.inflateGetHeader=function(At,Gt){var Z;return At&&At.state?(2&(Z=At.state).wrap)==0?a:((Z.head=Gt).done=!1,t):a},Q.inflateSetDictionary=function(At,Gt){var Z,_e=Gt.length;return At&&At.state?(Z=At.state).wrap!==0&&Z.mode!==11?a:Z.mode===11&&s(1,Gt,_e,0)!==Z.check?-3:Ee(At,Gt,_e,_e)?(Z.mode=31,-4):(Z.havedict=1,t):a},Q.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(dt,Yt,Q){"use strict";var b=dt("../utils/common"),s=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],u=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],o=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];Yt.exports=function(r,e,t,a,l,i,f,p){var v,C,D,V,it,Ct,Dt,Ut,pe,Ee=p.bits,At=0,Gt=0,Z=0,_e=0,er=0,tt=0,te=0,Y=0,lt=0,$=0,F=null,et=0,ht=new b.Buf16(16),nt=new b.Buf16(16),jt=null,xt=0;for(At=0;At<=15;At++)ht[At]=0;for(Gt=0;Gt<a;Gt++)ht[e[t+Gt]]++;for(er=Ee,_e=15;1<=_e&&ht[_e]===0;_e--);if(_e<er&&(er=_e),_e===0)return l[i++]=20971520,l[i++]=20971520,p.bits=1,0;for(Z=1;Z<_e&&ht[Z]===0;Z++);for(er<Z&&(er=Z),At=Y=1;At<=15;At++)if(Y<<=1,(Y-=ht[At])<0)return-1;if(0<Y&&(r===0||_e!==1))return-1;for(nt[1]=0,At=1;At<15;At++)nt[At+1]=nt[At]+ht[At];for(Gt=0;Gt<a;Gt++)e[t+Gt]!==0&&(f[nt[e[t+Gt]]++]=Gt);if(Ct=r===0?(F=jt=f,19):r===1?(F=s,et-=257,jt=h,xt-=257,256):(F=u,jt=o,-1),At=Z,it=i,te=Gt=$=0,D=-1,V=(lt=1<<(tt=er))-1,r===1&&852<lt||r===2&&592<lt)return 1;for(;;){for(Dt=At-te,pe=f[Gt]<Ct?(Ut=0,f[Gt]):f[Gt]>Ct?(Ut=jt[xt+f[Gt]],F[et+f[Gt]]):(Ut=96,0),v=1<<At-te,Z=C=1<<tt;l[it+($>>te)+(C-=v)]=Dt<<24|Ut<<16|pe|0,C!==0;);for(v=1<<At-1;$&v;)v>>=1;if(v!==0?($&=v-1,$+=v):$=0,Gt++,--ht[At]==0){if(At===_e)break;At=e[t+f[Gt]]}if(er<At&&($&V)!==D){for(te===0&&(te=er),it+=Z,Y=1<<(tt=At-te);tt+te<_e&&!((Y-=ht[tt+te])<=0);)tt++,Y<<=1;if(lt+=1<<tt,r===1&&852<lt||r===2&&592<lt)return 1;l[D=$&V]=er<<24|tt<<16|it-i|0}}return $!==0&&(l[it+$]=At-te<<24|64<<16|0),p.bits=er,0}},{"../utils/common":41}],51:[function(dt,Yt,Q){"use strict";Yt.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(dt,Yt,Q){"use strict";var b=dt("../utils/common"),s=0,h=1;function u(A){for(var H=A.length;0<=--H;)A[H]=0}var o=0,r=29,e=256,t=e+1+r,a=30,l=19,i=2*t+1,f=15,p=16,v=7,C=256,D=16,V=17,it=18,Ct=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],Dt=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],Ut=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],pe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],Ee=new Array(2*(t+2));u(Ee);var At=new Array(2*a);u(At);var Gt=new Array(512);u(Gt);var Z=new Array(256);u(Z);var _e=new Array(r);u(_e);var er,tt,te,Y=new Array(a);function lt(A,H,at,Ot,_t){this.static_tree=A,this.extra_bits=H,this.extra_base=at,this.elems=Ot,this.max_length=_t,this.has_stree=A&&A.length}function $(A,H){this.dyn_tree=A,this.max_code=0,this.stat_desc=H}function F(A){return A<256?Gt[A]:Gt[256+(A>>>7)]}function et(A,H){A.pending_buf[A.pending++]=255&H,A.pending_buf[A.pending++]=H>>>8&255}function ht(A,H,at){A.bi_valid>p-at?(A.bi_buf|=H<<A.bi_valid&65535,et(A,A.bi_buf),A.bi_buf=H>>p-A.bi_valid,A.bi_valid+=at-p):(A.bi_buf|=H<<A.bi_valid&65535,A.bi_valid+=at)}function nt(A,H,at){ht(A,at[2*H],at[2*H+1])}function jt(A,H){for(var at=0;at|=1&A,A>>>=1,at<<=1,0<--H;);return at>>>1}function xt(A,H,at){var Ot,_t,we=new Array(f+1),Me=0;for(Ot=1;Ot<=f;Ot++)we[Ot]=Me=Me+at[Ot-1]<<1;for(_t=0;_t<=H;_t++){var Se=A[2*_t+1];Se!==0&&(A[2*_t]=jt(we[Se]++,Se))}}function Mt(A){var H;for(H=0;H<t;H++)A.dyn_ltree[2*H]=0;for(H=0;H<a;H++)A.dyn_dtree[2*H]=0;for(H=0;H<l;H++)A.bl_tree[2*H]=0;A.dyn_ltree[2*C]=1,A.opt_len=A.static_len=0,A.last_lit=A.matches=0}function ae(A){8<A.bi_valid?et(A,A.bi_buf):0<A.bi_valid&&(A.pending_buf[A.pending++]=A.bi_buf),A.bi_buf=0,A.bi_valid=0}function se(A,H,at,Ot){var _t=2*H,we=2*at;return A[_t]<A[we]||A[_t]===A[we]&&Ot[H]<=Ot[at]}function Zt(A,H,at){for(var Ot=A.heap[at],_t=at<<1;_t<=A.heap_len&&(_t<A.heap_len&&se(H,A.heap[_t+1],A.heap[_t],A.depth)&&_t++,!se(H,Ot,A.heap[_t],A.depth));)A.heap[at]=A.heap[_t],at=_t,_t<<=1;A.heap[at]=Ot}function Wt(A,H,at){var Ot,_t,we,Me,Se=0;if(A.last_lit!==0)for(;Ot=A.pending_buf[A.d_buf+2*Se]<<8|A.pending_buf[A.d_buf+2*Se+1],_t=A.pending_buf[A.l_buf+Se],Se++,Ot===0?nt(A,_t,H):(nt(A,(we=Z[_t])+e+1,H),(Me=Ct[we])!==0&&ht(A,_t-=_e[we],Me),nt(A,we=F(--Ot),at),(Me=Dt[we])!==0&&ht(A,Ot-=Y[we],Me)),Se<A.last_lit;);nt(A,C,H)}function oe(A,H){var at,Ot,_t,we=H.dyn_tree,Me=H.stat_desc.static_tree,Se=H.stat_desc.has_stree,Ge=H.stat_desc.elems,pr=-1;for(A.heap_len=0,A.heap_max=i,at=0;at<Ge;at++)we[2*at]!==0?(A.heap[++A.heap_len]=pr=at,A.depth[at]=0):we[2*at+1]=0;for(;A.heap_len<2;)we[2*(_t=A.heap[++A.heap_len]=pr<2?++pr:0)]=1,A.depth[_t]=0,A.opt_len--,Se&&(A.static_len-=Me[2*_t+1]);for(H.max_code=pr,at=A.heap_len>>1;1<=at;at--)Zt(A,we,at);for(_t=Ge;at=A.heap[1],A.heap[1]=A.heap[A.heap_len--],Zt(A,we,1),Ot=A.heap[1],A.heap[--A.heap_max]=at,A.heap[--A.heap_max]=Ot,we[2*_t]=we[2*at]+we[2*Ot],A.depth[_t]=(A.depth[at]>=A.depth[Ot]?A.depth[at]:A.depth[Ot])+1,we[2*at+1]=we[2*Ot+1]=_t,A.heap[1]=_t++,Zt(A,we,1),2<=A.heap_len;);A.heap[--A.heap_max]=A.heap[1],function(Ar,Kr){var _n,Cn,Wn,Yr,zn,pi,$n=Kr.dyn_tree,ki=Kr.max_code,ni=Kr.stat_desc.static_tree,Ia=Kr.stat_desc.has_stree,Mr=Kr.stat_desc.extra_bits,Ki=Kr.stat_desc.extra_base,va=Kr.stat_desc.max_length,ya=0;for(Yr=0;Yr<=f;Yr++)Ar.bl_count[Yr]=0;for($n[2*Ar.heap[Ar.heap_max]+1]=0,_n=Ar.heap_max+1;_n<i;_n++)va<(Yr=$n[2*$n[2*(Cn=Ar.heap[_n])+1]+1]+1)&&(Yr=va,ya++),$n[2*Cn+1]=Yr,ki<Cn||(Ar.bl_count[Yr]++,zn=0,Ki<=Cn&&(zn=Mr[Cn-Ki]),pi=$n[2*Cn],Ar.opt_len+=pi*(Yr+zn),Ia&&(Ar.static_len+=pi*(ni[2*Cn+1]+zn)));if(ya!==0){do{for(Yr=va-1;Ar.bl_count[Yr]===0;)Yr--;Ar.bl_count[Yr]--,Ar.bl_count[Yr+1]+=2,Ar.bl_count[va]--,ya-=2}while(0<ya);for(Yr=va;Yr!==0;Yr--)for(Cn=Ar.bl_count[Yr];Cn!==0;)ki<(Wn=Ar.heap[--_n])||($n[2*Wn+1]!==Yr&&(Ar.opt_len+=(Yr-$n[2*Wn+1])*$n[2*Wn],$n[2*Wn+1]=Yr),Cn--)}}(A,H),xt(we,pr,A.bl_count)}function N(A,H,at){var Ot,_t,we=-1,Me=H[1],Se=0,Ge=7,pr=4;for(Me===0&&(Ge=138,pr=3),H[2*(at+1)+1]=65535,Ot=0;Ot<=at;Ot++)_t=Me,Me=H[2*(Ot+1)+1],++Se<Ge&&_t===Me||(Se<pr?A.bl_tree[2*_t]+=Se:_t!==0?(_t!==we&&A.bl_tree[2*_t]++,A.bl_tree[2*D]++):Se<=10?A.bl_tree[2*V]++:A.bl_tree[2*it]++,we=_t,pr=(Se=0)===Me?(Ge=138,3):_t===Me?(Ge=6,3):(Ge=7,4))}function zt(A,H,at){var Ot,_t,we=-1,Me=H[1],Se=0,Ge=7,pr=4;for(Me===0&&(Ge=138,pr=3),Ot=0;Ot<=at;Ot++)if(_t=Me,Me=H[2*(Ot+1)+1],!(++Se<Ge&&_t===Me)){if(Se<pr)for(;nt(A,_t,A.bl_tree),--Se!=0;);else _t!==0?(_t!==we&&(nt(A,_t,A.bl_tree),Se--),nt(A,D,A.bl_tree),ht(A,Se-3,2)):Se<=10?(nt(A,V,A.bl_tree),ht(A,Se-3,3)):(nt(A,it,A.bl_tree),ht(A,Se-11,7));we=_t,pr=(Se=0)===Me?(Ge=138,3):_t===Me?(Ge=6,3):(Ge=7,4)}}u(Y);var U=!1;function x(A,H,at,Ot){ht(A,(o<<1)+(Ot?1:0),3),function(_t,we,Me,Se){ae(_t),Se&&(et(_t,Me),et(_t,~Me)),b.arraySet(_t.pending_buf,_t.window,we,Me,_t.pending),_t.pending+=Me}(A,H,at,!0)}Q._tr_init=function(A){U||(function(){var H,at,Ot,_t,we,Me=new Array(f+1);for(_t=Ot=0;_t<r-1;_t++)for(_e[_t]=Ot,H=0;H<1<<Ct[_t];H++)Z[Ot++]=_t;for(Z[Ot-1]=_t,_t=we=0;_t<16;_t++)for(Y[_t]=we,H=0;H<1<<Dt[_t];H++)Gt[we++]=_t;for(we>>=7;_t<a;_t++)for(Y[_t]=we<<7,H=0;H<1<<Dt[_t]-7;H++)Gt[256+we++]=_t;for(at=0;at<=f;at++)Me[at]=0;for(H=0;H<=143;)Ee[2*H+1]=8,H++,Me[8]++;for(;H<=255;)Ee[2*H+1]=9,H++,Me[9]++;for(;H<=279;)Ee[2*H+1]=7,H++,Me[7]++;for(;H<=287;)Ee[2*H+1]=8,H++,Me[8]++;for(xt(Ee,t+1,Me),H=0;H<a;H++)At[2*H+1]=5,At[2*H]=jt(H,5);er=new lt(Ee,Ct,e+1,t,f),tt=new lt(At,Dt,0,a,f),te=new lt(new Array(0),Ut,0,l,v)}(),U=!0),A.l_desc=new $(A.dyn_ltree,er),A.d_desc=new $(A.dyn_dtree,tt),A.bl_desc=new $(A.bl_tree,te),A.bi_buf=0,A.bi_valid=0,Mt(A)},Q._tr_stored_block=x,Q._tr_flush_block=function(A,H,at,Ot){var _t,we,Me=0;0<A.level?(A.strm.data_type===2&&(A.strm.data_type=function(Se){var Ge,pr=4093624447;for(Ge=0;Ge<=31;Ge++,pr>>>=1)if(1&pr&&Se.dyn_ltree[2*Ge]!==0)return s;if(Se.dyn_ltree[18]!==0||Se.dyn_ltree[20]!==0||Se.dyn_ltree[26]!==0)return h;for(Ge=32;Ge<e;Ge++)if(Se.dyn_ltree[2*Ge]!==0)return h;return s}(A)),oe(A,A.l_desc),oe(A,A.d_desc),Me=function(Se){var Ge;for(N(Se,Se.dyn_ltree,Se.l_desc.max_code),N(Se,Se.dyn_dtree,Se.d_desc.max_code),oe(Se,Se.bl_desc),Ge=l-1;3<=Ge&&Se.bl_tree[2*pe[Ge]+1]===0;Ge--);return Se.opt_len+=3*(Ge+1)+5+5+4,Ge}(A),_t=A.opt_len+3+7>>>3,(we=A.static_len+3+7>>>3)<=_t&&(_t=we)):_t=we=at+5,at+4<=_t&&H!==-1?x(A,H,at,Ot):A.strategy===4||we===_t?(ht(A,2+(Ot?1:0),3),Wt(A,Ee,At)):(ht(A,4+(Ot?1:0),3),function(Se,Ge,pr,Ar){var Kr;for(ht(Se,Ge-257,5),ht(Se,pr-1,5),ht(Se,Ar-4,4),Kr=0;Kr<Ar;Kr++)ht(Se,Se.bl_tree[2*pe[Kr]+1],3);zt(Se,Se.dyn_ltree,Ge-1),zt(Se,Se.dyn_dtree,pr-1)}(A,A.l_desc.max_code+1,A.d_desc.max_code+1,Me+1),Wt(A,A.dyn_ltree,A.dyn_dtree)),Mt(A),Ot&&ae(A)},Q._tr_tally=function(A,H,at){return A.pending_buf[A.d_buf+2*A.last_lit]=H>>>8&255,A.pending_buf[A.d_buf+2*A.last_lit+1]=255&H,A.pending_buf[A.l_buf+A.last_lit]=255&at,A.last_lit++,H===0?A.dyn_ltree[2*at]++:(A.matches++,H--,A.dyn_ltree[2*(Z[at]+e+1)]++,A.dyn_dtree[2*F(H)]++),A.last_lit===A.lit_bufsize-1},Q._tr_align=function(A){ht(A,2,3),nt(A,C,Ee),function(H){H.bi_valid===16?(et(H,H.bi_buf),H.bi_buf=0,H.bi_valid=0):8<=H.bi_valid&&(H.pending_buf[H.pending++]=255&H.bi_buf,H.bi_buf>>=8,H.bi_valid-=8)}(A)}},{"../utils/common":41}],53:[function(dt,Yt,Q){"use strict";Yt.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(dt,Yt,Q){(function(b){(function(s,h){"use strict";if(!s.setImmediate){var u,o,r,e,t=1,a={},l=!1,i=s.document,f=Object.getPrototypeOf&&Object.getPrototypeOf(s);f=f&&f.setTimeout?f:s,u={}.toString.call(s.process)==="[object process]"?function(D){be.nextTick(function(){v(D)})}:function(){if(s.postMessage&&!s.importScripts){var D=!0,V=s.onmessage;return s.onmessage=function(){D=!1},s.postMessage("","*"),s.onmessage=V,D}}()?(e="setImmediate$"+Math.random()+"$",s.addEventListener?s.addEventListener("message",C,!1):s.attachEvent("onmessage",C),function(D){s.postMessage(e+D,"*")}):s.MessageChannel?((r=new MessageChannel).port1.onmessage=function(D){v(D.data)},function(D){r.port2.postMessage(D)}):i&&"onreadystatechange"in i.createElement("script")?(o=i.documentElement,function(D){var V=i.createElement("script");V.onreadystatechange=function(){v(D),V.onreadystatechange=null,o.removeChild(V),V=null},o.appendChild(V)}):function(D){setTimeout(v,0,D)},f.setImmediate=function(D){typeof D!="function"&&(D=new Function(""+D));for(var V=new Array(arguments.length-1),it=0;it<V.length;it++)V[it]=arguments[it+1];var Ct={callback:D,args:V};return a[t]=Ct,u(t),t++},f.clearImmediate=p}function p(D){delete a[D]}function v(D){if(l)setTimeout(v,0,D);else{var V=a[D];if(V){l=!0;try{(function(it){var Ct=it.callback,Dt=it.args;switch(Dt.length){case 0:Ct();break;case 1:Ct(Dt[0]);break;case 2:Ct(Dt[0],Dt[1]);break;case 3:Ct(Dt[0],Dt[1],Dt[2]);break;default:Ct.apply(h,Dt)}})(V)}finally{p(D),l=!1}}}}function C(D){D.source===s&&typeof D.data=="string"&&D.data.indexOf(e)===0&&v(+D.data.slice(e.length))}})(typeof self=="undefined"?b===void 0?this:b:self)}).call(this,typeof L!="undefined"?L:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})}).call(this,De("tjlA").Buffer,De("IyRk"),De("Q2Ig"))},"yj/a":function(un,wr,De){"use strict";var Je=De("wx14"),L=De("VTBJ"),be=De("Ff2n"),pt=De("q1tI"),dt=De.n(pt),Yt=De("adzw"),Q=De("uX+g"),b=De("lS/g"),s=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],h=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],u=dt.a.forwardRef(function(a,l){var i=a.fieldProps,f=a.children,p=a.params,v=a.proFieldProps,C=a.mode,D=a.valueEnum,V=a.request,it=a.showSearch,Ct=a.options,Dt=Object(be.a)(a,s),Ut=Object(pt.useContext)(b.a);return dt.a.createElement(Yt.a,Object(Je.a)({mode:"edit",valueEnum:Object(Q.a)(D),request:V,params:p,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(L.a)({options:Ct,mode:C,showSearch:it,getPopupContainer:Ut.getPopupContainer},i),ref:l,proFieldProps:v},Dt),f)}),o=dt.a.forwardRef(function(a,l){var i=a.fieldProps,f=a.children,p=a.params,v=a.proFieldProps,C=a.mode,D=a.valueEnum,V=a.request,it=a.options,Ct=Object(be.a)(a,h),Dt=Object(L.a)({options:it,mode:C||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},i),Ut=Object(pt.useContext)(b.a);return dt.a.createElement(Yt.a,Object(Je.a)({mode:"edit",valueEnum:Object(Q.a)(D),request:V,params:p,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(L.a)({getPopupContainer:Ut.getPopupContainer},Dt),ref:l,proFieldProps:v},Ct),f)}),r=u,e=o,t=r;t.SearchSelect=e,t.displayName="ProFormComponent",wr.a=t}}]);
