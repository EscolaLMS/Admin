(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8047],{86615:function(J,I,e){"use strict";var d=e(1413),i=e(45987),j=e(22270),a=e(55742),B=e(67294),_=e(90789),T=e(41550),c=e(85893),h=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],m=B.forwardRef(function(f,w){var p=f.fieldProps,t=f.options,se=f.radioType,H=f.layout,b=f.proFieldProps,te=f.valueEnum,x=(0,i.Z)(f,h);return(0,c.jsx)(T.Z,(0,d.Z)((0,d.Z)({valueType:se==="button"?"radioButton":"radio",ref:w,valueEnum:(0,j.h)(te,void 0)},x),{},{fieldProps:(0,d.Z)({options:t,layout:H},p),proFieldProps:b,filedConfig:{customLightMode:!0}}))}),g=B.forwardRef(function(f,w){var p=f.fieldProps,t=f.children;return(0,c.jsx)(a.ZP,(0,d.Z)((0,d.Z)({},p),{},{ref:w,children:t}))}),Z=(0,_.G)(g,{valuePropName:"checked",ignoreWidth:!0}),u=Z;u.Group=m,u.Button=a.ZP.Button,u.displayName="ProFormComponent",I.Z=u},48959:function(J,I,e){"use strict";var d=e(28248),i=e(80854),j=e(85893),a=function(_){var T=_.open,c=_.onOk,h=_.onCancel,m=_.title,g=_.content,Z=_.okText,u=_.loading;return(0,j.jsx)(d.Z,{width:"600px",title:m!=null?m:(0,j.jsx)(i.FormattedMessage,{id:"confirmModal.title"}),open:T,onOk:c,onCancel:h,okText:Z!=null?Z:(0,j.jsx)(i.FormattedMessage,{id:"save"}),cancelText:(0,j.jsx)(i.FormattedMessage,{id:"cancel"}),confirmLoading:u,children:g!=null?g:(0,j.jsx)("p",{children:(0,j.jsx)(i.FormattedMessage,{id:"confirmModal.content"})})})};I.Z=a},28225:function(J,I,e){"use strict";var d=e(28248),i=e(80854),j=e(85893),a=function(_){var T=_.visible,c=_.setManage;return(0,j.jsx)(d.Z,{width:"600px",title:(0,j.jsx)(i.FormattedMessage,{id:"course.validate_edit.header",defaultMessage:"course.validate_edit.header"}),visible:T,onOk:function(){return c({showModal:!1,disableEdit:!1,clicked:!0})},onCancel:function(){return c({showModal:!1,disableEdit:!0,clicked:!1})},okText:"OK",cancelText:"Cancel",children:(0,j.jsx)("p",{children:(0,j.jsx)(i.FormattedMessage,{id:"course.validate_edit.content",defaultMessage:"course.validate_edit.content"})})})};I.Z=a},23535:function(J,I,e){"use strict";var d=e(97857),i=e.n(d),j=e(9783),a=e.n(j),B=e(71230),_=e(15746),T=e(14726),c=e(95830),h=e(67294),m=e(82238),g=e(34994),Z=e(80854),u=e(85893),f=function(p){var t=p.title,se=p.action,H=p.form_name,b=p.src_name,te=p.getUploadedSrcField,x=p.setPath,A=p.wrapInForm,U=A===void 0?!0:A,q=p.folder,C=p.proFormGroupProps;return(0,u.jsx)(g.A.Group,i()(i()({title:(0,u.jsx)(Z.FormattedMessage,{id:t})},C),{},{children:(0,u.jsxs)(B.Z,{children:[(0,u.jsx)(_.Z,{children:(0,u.jsx)(g.A.Item,{shouldUpdate:!0,children:function(ce){return(0,u.jsxs)(h.Fragment,{children:[(0,u.jsx)(m.Z,{folder:q,wrapInForm:U,accept:"image/*",name:H,url:se,onChange:function(ne){if(ne.file.status==="done"){var ve;ce.setFieldsValue(a()({},b,te(ne))),(ve=ne.file.response)!==null&&ve!==void 0&&ve.success&&x(a()(a()({},"".concat(H,"_url"),ne.file.response.data["".concat(H,"_url")]),"".concat(H,"_path"),ne.file.response.data["".concat(H,"_path")]))}}}),(0,u.jsx)(T.ZP,{danger:!0,onClick:function(){return[x(a()(a()({},"".concat(H,"_url"),""),"".concat(H,"_path"),"")),ce.setFieldsValue(a()({},b,""))]},children:(0,u.jsx)(Z.FormattedMessage,{id:"delete"})})]})}})}),(0,u.jsx)(_.Z,{span:24,children:(0,u.jsx)(g.A.Item,{shouldUpdate:!0,children:function(ce){return(0,u.jsx)(c.Z,{width:200,src:ce.getFieldValue(b)})}})})]})}))};I.Z=f},53957:function(J,I,e){"use strict";var d=e(5574),i=e.n(d),j=e(50082),a=e(67294),B=e(85893),_=function(c){var h=c.productable,m=c.type,g=m===void 0?"card":m,Z=(0,a.useState)("attributes"),u=i()(Z,2),f=u[0],w=u[1];return(0,B.jsx)(j.Z,{productable:h,tab:f,onTabChange:function(t){return w(t)},type:g})};I.C=_},67541:function(J,I,e){"use strict";var d=e(52677),i=e.n(d),j=e(5574),a=e.n(j),B=e(83863),_=e(75081),T=e(66309),c=e(67294),h=e(80854),m=e(44837),g=e(85893),Z=function(p){return"".concat(p.productable_type,":").concat(p.productable_id,":").concat(p.name)},u=function(p){return"".concat(p.class,":").concat(p.id,":").concat(p.name)},f=function(p){var t=p.value,se=p.onChange,H=p.multiple,b=H===void 0?!1:H,te=p.disabled,x=te===void 0?!1:te,A=(0,c.useState)([]),U=a()(A,2),q=U[0],C=U[1],V=(0,c.useState)(!1),ce=a()(V,2),xe=ce[0],ne=ce[1],ve=(0,c.useState)([]),oe=a()(ve,2),n=oe[0],Ae=oe[1],Oe=(0,c.useRef)(),Ie=(0,c.useCallback)(function(){ne(!0),Oe.current&&Oe.current.abort(),Oe.current=new AbortController,(0,m.rc)({signal:Oe.current.signal}).then(function(Q){Q.success&&C(Q.data),ne(!1)}).catch(function(){return ne(!1)})},[]);return(0,c.useEffect)(function(){Ie()},[]),(0,c.useEffect)(function(){var Q=new AbortController;if(t){var me=Array.isArray(t)?t:[t],o=me.map(function(r){return i()(r)==="object"?u(r):String(r)});Ae(o)}return function(){Q.abort()}},[t]),(0,g.jsx)(B.default,{disabled:x,allowClear:!0,style:{width:"100%",minWidth:"150px"},value:n,onChange:se,mode:b?"multiple":void 0,showSearch:!0,placeholder:(0,g.jsx)(h.FormattedMessage,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(me,o){if(o&&o.children){var r;return(o==null||(r=o.children)===null||r===void 0?void 0:r.toString().toLowerCase().indexOf(me&&me.toLowerCase()||""))>=0}return!1},notFoundContent:xe?(0,g.jsx)(_.Z,{size:"small"}):null,children:q.map(function(Q){var me=Z(Q);return(0,g.jsxs)(B.default.Option,{value:me,children:[(0,g.jsx)(T.Z,{children:(0,g.jsx)(h.FormattedMessage,{id:Q.productable_type.split("\\").pop(),defaultMessage:Q.productable_type.split("\\").pop()})})," ",Q.name," ",(0,g.jsxs)("small",{children:["id:",Q.productable_id]})," "]},me)})})};I.Z=f},14408:function(J,I,e){"use strict";e.d(I,{Z:function(){return T}});var d=e(97857),i=e.n(d),j=e(5574),a=e.n(j),B=e(2254),_=e(67294);function T(){var c=(0,_.useState)({showModal:!1,disableEdit:!1,clicked:!1}),h=a()(c,2),m=h[0],g=h[1],Z=function(f){(f==null?void 0:f.status)==="published"&&f!==null&&f!==void 0&&f.active_from&&(0,B.C)(new Date(f==null?void 0:f.active_from))&&!m.clicked?g(i()(i()({},m),{},{showModal:!1,disableEdit:!0,clicked:!1})):g(i()(i()({},m),{},{showModal:!1,disableEdit:!1,clicked:!1}))};return{manageCourseEdit:m,setManageCourseEdit:g,validateCourseEdit:Z}}},23961:function(J,I,e){"use strict";e.r(I),e.d(I,{default:function(){return Re}});var d=e(15009),i=e.n(d),j=e(97857),a=e.n(j),B=e(99289),_=e.n(B),T=e(5574),c=e.n(T),h=e(26271),m=e(952),g=e(5966),Z=e(64317),u=e(50335),f=e(2453),w=e(75081),p=e(38925),t=e(14726),se=e(71230),H=e(15746),b=e(67294),te=e(19411),x=e(74453),A=e(7418),U=e(48959),q=e(28225),C=e(19632),V=e.n(C),ce=e(66309),xe=e(83863),ne=e(41606),ve=e(27484),oe=e.n(ve),n=e(85893),Ae=function(S){return S.local().valueOf()},Oe=function(S){var O=S.value,l=O===void 0?[]:O,Y=S.onChange,G=S.format,X=G===void 0?"DD-MM-YYYY HH:mm":G,_e=S.selectProps,le=_e===void 0?{}:_e,y=(0,b.useState)(!1),ee=c()(y,2),fe=ee[0],P=ee[1],K=(0,b.useCallback)(function($){var N=Ae($),R=l.indexOf(N),L=V()(l);R>-1?L.splice(R,1):L.push(N),Y(L)},[l]),D=(0,b.useCallback)(function($){var N=l.indexOf(Ae($))>-1;return(0,n.jsx)("div",{className:"ant-picker-cell-inner",style:N?{position:"relative",zIndex:2,display:"inlineBlock",width:"24px",height:"22px",lineHeight:"22px",backgroundColor:"#1890ff",color:"#fff",margin:"auto",borderRadius:"2px",transition:"background 0.3s, border 0.3s"}:{},children:$.date()})},[l]),z=(0,b.useCallback)(function($){var N=$.value,R=$.onClose,L=function(){R(),Y(l.filter(function(ue){return ue!==N}))};return(0,n.jsx)(ce.Z,{onClose:L,closable:!0,children:oe()(N).format(X)})},[l]),de=function(){return{disabledMinutes:function(){return Array.from({length:59},function(R,L){return L+1})}}};return(0,n.jsx)(xe.default,a()(a()({},le),{},{allowClear:!0,mode:"multiple",value:l,onClear:function(){return Y&&Y([])},tagRender:z,open:fe,onFocus:function(){return P(!0)},onBlur:function(){return P(!1)},dropdownMatchSelectWidth:!1,dropdownClassName:"multipleDropdownClassName",dropdownStyle:{height:"310px",width:"335px",minWidth:"0"},dropdownRender:function(){return(0,n.jsx)(ne.default,{disabledDate:function(R){var L=new Date;return R.valueOf()<=L.setDate(L.getDate()-1)},showTime:{format:"HH"},disabledTime:de,onChange:function(R){return R&&K(R)},open:!0,dateRender:D,style:{visibility:"hidden"},getPopupContainer:function(R){var L=R.parentNode;return L},defaultValue:oe()("00:00","HH")})}}))},Ie=Oe,Q=e(23535),me=e(53957),o=e(44167),r=e(54434),M=function(W){return W.draft="draft",W.published="published",W.archived="archived",W}({}),v=e(14408),E=e(51490),k=e(66419),s=e(80854),ae=e(49677),he=e.n(ae),re=e(40411),ge=e(83062),De=e(31156),Ee=e(16894),Me=function(S){var O=S.data,l=S.onChange,Y=(0,b.useState)(!1),G=c()(Y,2),X=G[0],_e=G[1],le=(0,b.useState)(oe()(O.date)),y=c()(le,2),ee=y[0],fe=y[1],P=(0,b.useCallback)(function(K){fe(oe()(K)),_e(!0),(0,E.YG)(O.consultation_term_id,K).then(function(D){D.success?(f.ZP.success(D.message),l(ee)):f.ZP.error(D.message)}).catch(function(D){return f.ZP.error(D.toString())}).finally(function(){return _e(!1)})},[ee]);return(0,n.jsx)(b.Fragment,{children:(0,n.jsx)(ne.default,{disabledDate:function(D){var z=new Date;return D&&D.valueOf()<=z.setDate(z.getDate()-1)},disabled:X,value:ee,showTime:{format:"HH"},onChange:function(D){D&&P(D.toISOString())}})})},je={reported:"warning",reject:"error",approved:"success"},Ce=[{title:(0,n.jsx)(s.FormattedMessage,{id:"ID",defaultMessage:"ID"}),dataIndex:"consultation_term_id",hideInSearch:!0,sorter:!0,width:"80px"},{title:(0,n.jsx)(s.FormattedMessage,{id:"user",defaultMessage:"user"}),dataIndex:"user",render:function(S,O){var l,Y,G;return"".concat((l=O.user)===null||l===void 0?void 0:l.first_name," ").concat((Y=O.user)===null||Y===void 0?void 0:Y.last_name," ").concat((G=O.user)===null||G===void 0?void 0:G.email)},sorter:!0},{title:(0,n.jsx)(s.FormattedMessage,{id:"date",defaultMessage:"date"}),dataIndex:"date",sorter:!0,render:function(S,O){return oe()(O.date).format("yyyy-MM-DD HH:mm")}},{title:(0,n.jsx)(s.FormattedMessage,{id:"status",defaultMessage:"status"}),dataIndex:"status",sorter:!0,render:function(S,O){return(0,n.jsx)(re.Z,{status:je[O.status],text:(0,n.jsx)(s.FormattedMessage,{id:O.status})})}}],Te=function(S){var O=S.consultation,l=(0,b.useState)(!1),Y=c()(l,2),G=Y[0],X=Y[1],_e=(0,b.useState)([]),le=c()(_e,2),y=le[0],ee=le[1],fe=(0,s.useIntl)(),P=(0,b.useCallback)(function(){X(!0),(0,E.MP)(O).then(function(D){D.success&&ee(D.data)}).catch(function(){f.ZP.error((0,n.jsx)(s.FormattedMessage,{id:"error",defaultMessage:"error"}))}).finally(function(){return X(!1)})},[O]);(0,b.useEffect)(function(){P()},[O]);var K=(0,b.useCallback)(function(D){return(0,n.jsx)("ul",{className:"events",children:y.map(function(z){if(D.format("yyyy-MM-DD")===oe()(z.date).format("yyyy-MM-DD")){var de,$,N,R;return(0,n.jsx)("li",{children:(0,n.jsx)(re.Z,{status:je[z.status],text:(0,n.jsx)(b.Fragment,{children:(0,n.jsxs)(ge.Z,{title:"".concat((de=z.user)===null||de===void 0?void 0:de.first_name," ").concat(($=z.user)===null||$===void 0?void 0:$.last_name," ").concat((N=z.user)===null||N===void 0?void 0:N.email),children:[(0,n.jsx)("small",{children:oe()(z.date).format("HH:mm")})," ",(R=z.user)===null||R===void 0?void 0:R.email]})})})},z.consultation_term_id)}return null})})},[y]);return(0,n.jsxs)(b.Fragment,{children:[G&&(0,n.jsx)(w.Z,{}),(0,n.jsx)(De.Z,{dateCellRender:K}),G?(0,n.jsx)(w.Z,{}):(0,n.jsx)(Ee.ZP,{headerTitle:fe.formatMessage({id:"Consultations",defaultMessage:"Consultations"}),loading:G,rowKey:"consultation_term_id",search:!1,request:function(){var D=_()(i()().mark(function z(de,$){var N,R;return i()().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return he()(de),N=$&&Object.entries($)[0],R=y,N&&(R=(0,k.Pf)(R,N[0],N[1]!=="ascend")),F.abrupt("return",{data:R,total:R.length,success:!0});case 5:case"end":return F.stop()}},z)}));return function(z,de){return D.apply(this,arguments)}}(),columns:[].concat(Ce,[{title:(0,n.jsx)(s.FormattedMessage,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"20%",render:function(z,de){return[(0,n.jsx)(Me,{data:de,onChange:function(){return P()}},"change_date")]}}])})]})},Se=Te,ie=function(W){return W.ATTRIBUTES="attributes",W.PRODUCT="product",W.MEDIA="media",W.CATEGORIES="categories",W.BRANDING="branding",W.USER_SUBMISSION="user_submission",W.CALENDAR="calendar",W}(ie||{}),ye=function(){var S=(0,s.useIntl)(),O=(0,s.useParams)(),l=O.consultation,Y=O.tab,G=Y===void 0?"attributes":Y,X=l==="new",_e=(0,b.useState)(),le=c()(_e,2),y=le[0],ee=le[1],fe=(0,v.Z)(),P=fe.manageCourseEdit,K=fe.setManageCourseEdit,D=fe.validateCourseEdit,z=m.ZP.useForm(),de=c()(z,1),$=de[0],N=(0,b.useCallback)(_()(i()().mark(function L(){var F,ue;return i()().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,(0,E.hW)(Number(l));case 2:F=Pe.sent,F.success&&(G==="attributes"&&D(F.data),ee(a()(a()({},F.data),{},{author_id:F.data.author&&F.data.author.id,categories:(ue=F.data.categories)===null||ue===void 0?void 0:ue.map(k.i4)})));case 4:case"end":return Pe.stop()}},L)})),[l]);(0,b.useEffect)(function(){if(X){ee({name:"new"});return}N()},[l]);var R=(0,b.useMemo)(function(){return{onValuesChange:function(){K(a()(a()({},P),{},{valuesChanged:!0}))},onFinish:function(){var L=_()(i()().mark(function ue(Le){var Pe,be;return i()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(!P.disableEdit){pe.next=3;break}return K({showModal:!0,disableEdit:!0,clicked:!1}),pe.abrupt("return");case 3:if(Pe=a()(a()({},Le),{},{image_url:y&&y.image_url,image_path:y&&y.image_url&&(0,k.Ox)(y.image_url),logotype_url:y&&y.logotype_url,logotype_path:y&&y.logotype_path&&(0,k.Ox)(y.logotype_path)}),!X){pe.next=11;break}return pe.next=7,(0,E.YS)(Pe);case 7:be=pe.sent,be.success&&s.history.push("/other/consultations/".concat(be.data.id)),pe.next=15;break;case 11:return pe.next=13,(0,E.hR)(Number(l),Pe);case 13:be=pe.sent,be.success&&(D(be.data),s.history.push("/other/consultations/".concat(be.data.id,"/").concat(G)));case 15:f.ZP.success(be.message),K(a()(a()({},P),{},{showConfirmModal:!1,loading:!1,valuesChanged:!1}));case 17:case"end":return pe.stop()}},ue)}));function F(ue){return L.apply(this,arguments)}return F}(),initialValues:y}},[y,l,G,P]);return y?(0,n.jsxs)(x._z,{title:X?(0,n.jsx)(s.FormattedMessage,{id:"consultation"}):(0,n.jsx)(s.FormattedMessage,{id:"consultations.edit"}),header:{breadcrumb:{routes:[{path:"other/consultations",breadcrumbName:S.formatMessage({id:"menu.Other activities.Consultations"})},{path:String(l),breadcrumbName:S.formatMessage({id:"form"})},{path:"/",breadcrumbName:String(y.name)},{path:String(G),breadcrumbName:String(y.name)}]}},children:[(0,n.jsxs)(h.ZP,{tabs:{type:"card",activeKey:G,onChange:function(F){F!==ie.ATTRIBUTES&&P.valuesChanged?K(a()(a()({},P),{},{showConfirmModal:!0})):s.history.push("/other/consultations/".concat(l,"/").concat(F))}},children:[(0,n.jsxs)(h.ZP.TabPane,{tab:(0,n.jsx)(s.FormattedMessage,{id:"attributes"}),children:[P.disableEdit&&(0,n.jsx)(p.Z,{closable:!0,style:{marginBottom:"20px"},type:"warning",message:(0,n.jsx)(s.FormattedMessage,{id:"course_edit_warning_message",defaultMessage:"course_edit_warning_message"}),action:(0,n.jsx)(t.ZP,{onClick:function(){return K({showModal:!0,disableEdit:!0,clicked:!0})},type:"primary",children:(0,n.jsx)(s.FormattedMessage,{id:"questionnaire.submit",defaultMessage:"questionnaire.submit"})})}),(0,n.jsx)(q.Z,{visible:P.showModal,setManage:K}),(0,n.jsxs)(m.ZP,a()(a()({},R),{},{form:$,children:[(0,n.jsxs)(m.ZP.Group,{children:[(0,n.jsx)(g.Z,{width:"md",name:"name",label:(0,n.jsx)(s.FormattedMessage,{id:"name"}),tooltip:(0,n.jsx)(s.FormattedMessage,{id:"name"}),placeholder:S.formatMessage({id:"name",defaultMessage:"name"}),required:!0,disabled:P.disableEdit}),(0,n.jsx)(g.Z,{width:"sm",name:"duration",label:(0,n.jsx)(s.FormattedMessage,{id:"duration"}),tooltip:(0,n.jsx)(s.FormattedMessage,{id:"consultations.duration_tooltip"}),placeholder:S.formatMessage({id:"duration",defaultMessage:"duration"}),disabled:P.disableEdit}),(0,n.jsx)(Z.Z,{name:"status",width:"sm",label:(0,n.jsx)(s.FormattedMessage,{id:"status"}),tooltip:(0,n.jsx)(s.FormattedMessage,{id:"status_consultation_tooltip"}),valueEnum:{draft:S.formatMessage({id:"draft",defaultMessage:"draft"}),published:S.formatMessage({id:"published",defaultMessage:"published"}),archived:S.formatMessage({id:"archived",defaultMessage:"archived"})},initialValue:M.draft,placeholder:S.formatMessage({id:"status"}),rules:[{required:!0,message:(0,n.jsx)(s.FormattedMessage,{id:"select"})}],disabled:P.disableEdit})]}),(0,n.jsxs)(m.ZP.Group,{children:[(0,n.jsx)(u.Z,{width:"sm",name:"active_from",label:(0,n.jsx)(s.FormattedMessage,{id:"active_from"}),tooltip:(0,n.jsx)(s.FormattedMessage,{id:"active_from"}),placeholder:S.formatMessage({id:"active_from",defaultMessage:"active_from"}),disabled:P.disableEdit}),(0,n.jsx)(u.Z,{width:"sm",name:"active_to",label:(0,n.jsx)(s.FormattedMessage,{id:"active_to"}),tooltip:(0,n.jsx)(s.FormattedMessage,{id:"active_to"}),placeholder:S.formatMessage({id:"active_to",defaultMessage:"active_to"}),disabled:P.disableEdit}),(0,n.jsx)(m.ZP.Item,{name:"author_id",label:(0,n.jsx)(s.FormattedMessage,{id:"tutor"}),tooltip:(0,n.jsx)(s.FormattedMessage,{id:"tutor_consultation_tooltip"}),valuePropName:"value",required:!0,children:(0,n.jsx)(o.Z,{})})]}),(0,n.jsx)(m.ZP.Group,{children:(0,n.jsx)(m.ZP.Item,{name:"description",label:(0,n.jsx)(s.FormattedMessage,{id:"description"}),tooltip:(0,n.jsx)(s.FormattedMessage,{id:"description_tooltip"}),valuePropName:"value",required:!0,children:(0,n.jsx)(te.ZP,{directory:"consultation/".concat(l,"/wysiwyg")})})}),(0,n.jsx)(m.ZP.Group,{children:(0,n.jsx)(m.ZP.Item,{valuePropName:"value",name:"proposed_terms",tooltip:(0,n.jsx)(s.FormattedMessage,{id:"proposed_terms_tooltip"}),label:(0,n.jsx)(s.FormattedMessage,{id:"consultations.proposed_terms"}),children:(0,n.jsx)(Ie,{})})})]}))]},ie.ATTRIBUTES),!X&&(0,n.jsx)(h.ZP.TabPane,{tab:(0,n.jsx)(s.FormattedMessage,{id:"product"}),disabled:P.disableEdit,children:l&&(0,n.jsx)(me.C,{type:"line",productable:{class_type:"App\\Models\\Consultation",class_id:l,name:String(y.name),quantity:1}})},ie.PRODUCT),!X&&(0,n.jsx)(h.ZP.TabPane,{tab:(0,n.jsx)(s.FormattedMessage,{id:"media"}),disabled:P.disableEdit,children:(0,n.jsx)(m.ZP,a()(a()({},R),{},{children:(0,n.jsx)(Q.Z,{folder:"consultation/".concat(l),title:"image",action:"/api/admin/consultations/".concat(l),src_name:"image_url",form_name:"image",getUploadedSrcField:function(F){return F.file.response.data.image_url},setPath:function(F){return ee(function(ue){return a()(a()({},ue),F)})}})}))},ie.MEDIA),!X&&(0,n.jsx)(h.ZP.TabPane,{tab:(0,n.jsx)(s.FormattedMessage,{id:"categories"}),disabled:P.disableEdit,children:(0,n.jsx)(se.Z,{children:(0,n.jsx)(H.Z,{span:12,children:(0,n.jsx)(m.ZP,a()(a()({},R),{},{children:(0,n.jsx)(m.ZP.Item,{label:(0,n.jsx)(s.FormattedMessage,{id:"categories"}),name:"categories",valuePropName:"value",children:(0,n.jsx)(A.Z,{})})}))})})},ie.CATEGORIES)," ",!X&&(0,n.jsx)(h.ZP.TabPane,{tab:(0,n.jsx)(s.FormattedMessage,{id:"branding"}),disabled:P.disableEdit,children:(0,n.jsx)(m.ZP,a()(a()({},R),{},{children:(0,n.jsx)(Q.Z,{folder:"consultation/".concat(l),title:S.formatMessage({id:"logotype"}),action:"/api/admin/consultations/".concat(l),src_name:"logotype_url",form_name:"logotype",getUploadedSrcField:function(F){return F.file.response.data.logotype_url},setPath:function(F){return ee(function(ue){return a()(a()({},ue),F)})}})}))},ie.BRANDING)," ",!X&&(0,n.jsx)(h.ZP.TabPane,{tab:(0,n.jsx)(s.FormattedMessage,{id:"user_submission"}),disabled:P.disableEdit,children:(0,n.jsx)(se.Z,{children:(0,n.jsx)(H.Z,{span:12,children:l&&(0,n.jsx)(r.ZP,{id:Number(l),type:"App\\Models\\Consultation"})})})},ie.USER_SUBMISSION),!X&&(0,n.jsx)(h.ZP.TabPane,{tab:(0,n.jsx)(s.FormattedMessage,{id:"consultations.calendar"}),children:(0,n.jsx)(Se,{consultation:Number(l)})},ie.CALENDAR)]}),(0,n.jsx)(U.Z,{open:!!P.showConfirmModal,onOk:function(){K(a()(a()({},P),{},{loading:!0})),$.submit()},onCancel:function(){K(a()(a()({},P),{},{showConfirmModal:!1}))},loading:!!P.loading})]}):(0,n.jsx)(w.Z,{})},Re=ye},51490:function(J,I,e){"use strict";e.d(I,{MP:function(){return se},SQ:function(){return p},YG:function(){return b},YS:function(){return m},hR:function(){return f},hW:function(){return Z},sL:function(){return c}});var d=e(15009),i=e.n(d),j=e(97857),a=e.n(j),B=e(99289),_=e.n(B),T=e(80854);function c(x,A){return h.apply(this,arguments)}function h(){return h=_()(i()().mark(function x(A,U){return i()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,T.request)("/api/admin/consultations",a()({method:"GET",useCache:!1,params:A},U||{})));case 1:case"end":return C.stop()}},x)})),h.apply(this,arguments)}function m(x,A){return g.apply(this,arguments)}function g(){return g=_()(i()().mark(function x(A,U){return i()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,T.request)("/api/admin/consultations",a()({method:"POST",headers:{"Content-Type":"application/json"},data:A},U||{})));case 1:case"end":return C.stop()}},x)})),g.apply(this,arguments)}function Z(x,A){return u.apply(this,arguments)}function u(){return u=_()(i()().mark(function x(A,U){return i()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,T.request)("/api/admin/consultations/".concat(A),a()({method:"GET",useCache:!1},U||{})));case 1:case"end":return C.stop()}},x)})),u.apply(this,arguments)}function f(x,A,U){return w.apply(this,arguments)}function w(){return w=_()(i()().mark(function x(A,U,q){return i()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.abrupt("return",(0,T.request)("/api/admin/consultations/".concat(A),a()({method:"PUT",headers:{"Content-Type":"application/json"},data:U},q||{})));case 1:case"end":return V.stop()}},x)})),w.apply(this,arguments)}function p(x,A){return t.apply(this,arguments)}function t(){return t=_()(i()().mark(function x(A,U){return i()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,T.request)("/api/admin/consultations/".concat(A),a()({method:"DELETE",useCache:!1},U||{})));case 1:case"end":return C.stop()}},x)})),t.apply(this,arguments)}function se(x,A){return H.apply(this,arguments)}function H(){return H=_()(i()().mark(function x(A,U){return i()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,T.request)("/api/admin/consultations/".concat(A,"/schedule"),a()({method:"GET",useCache:!1},U||{})));case 1:case"end":return C.stop()}},x)})),H.apply(this,arguments)}function b(x,A,U){return te.apply(this,arguments)}function te(){return te=_()(i()().mark(function x(A,U,q){return i()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.abrupt("return",(0,T.request)("/api/admin/consultations/change-term/".concat(A),a()({method:"POST",headers:{"Content-Type":"application/json"},data:{executed_at:U}},q||{})));case 1:case"end":return V.stop()}},x)})),te.apply(this,arguments)}},31472:function(J,I,e){"use strict";e.d(I,{Fh:function(){return g},UL:function(){return h},Yo:function(){return f},Zg:function(){return w},cX:function(){return c},ce:function(){return T},fS:function(){return u},fn:function(){return B},h5:function(){return p},oz:function(){return d},rX:function(){return Z},uT:function(){return a},wl:function(){return m}});var d=function(t){return t.Unselected="",t.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",t.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",t.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",t.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",t.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",t.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",t.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",t.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",t.Project="EscolaLms\\TopicTypeProject\\Models\\Project",t.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz",t}({}),i=function(t){return t.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",t.UserLogged="EscolaLms\\Auth\\Events\\UserLogged",t}({}),j=function(t){return t.draft="draft",t.published="published",t.archived="archived",t}({}),a=function(t){return t.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",t.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",t.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel",t}({}),B=function(t){return t.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent",t}({}),_=function(t){return t.cart_fixed="cart_fixed",t.cart_percent="cart_percent",t.product_fixed="product_fixed",t.product_percent="product_percent",t}({}),T=function(t){return t.MULTIPLE_CHOICE="multiple_choice",t.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",t.TRUE_FALSE="true_false",t.SHORT_ANSWERS="short_answers",t.MATCHING="matching",t.NUMERICAL_QUESTION="numerical_question",t.ESSAY="essay",t.DESCRIPTION="description",t}({}),c=function(t){return t.PRESENT="present",t.PRESENT_NOT_EXERCISING="present_not_exercising",t.ABSENT="absent",t.EXCUSED_ABSENCE="excused_absence",t}({}),h=function(t){return t.Manual="manual",t.ManualPass="manual_pass",t.ManualGrades="manual_grades",t.TeamsForms="teams_forms",t.TeamsLecture="teams_lecture",t.TestPortal="test_portal",t}({}),m=function(t){return t.Passed="zal",t.Failed="nie zal",t}({}),g=function(t){return t.Simple="simple",t.Complex="complex",t}({}),Z=function(t){return t.QuizSummary="EscolaLms\\Reports\\Stats\\Topic\\QuizSummaryForTopicTypeGIFT",t}({}),u=function(t){return t.Boolean="boolean",t.Number="number",t.Varchar="varchar",t.Text="text",t.Json="json",t}({}),f=function(t){return t.Rate="rate",t.Text="text",t.Review="review",t}({}),w=function(t){return t.Exercise="exercise",t.Course="course",t.Info="info",t}({}),p=function(t){return t.Group="EscolaLms\\PcgIntegration\\Models\\Group",t}({})},64532:function(J,I,e){"use strict";e.d(I,{a:function(){return c}});var d=e(15009),i=e.n(d),j=e(97857),a=e.n(j),B=e(99289),_=e.n(B),T=e(80854);function c(m){return h.apply(this,arguments)}function h(){return h=_()(i()().mark(function m(g){return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,T.request)("/api/tags/unique",a()({method:"GET",useCache:!1},g||{})));case 1:case"end":return u.stop()}},m)})),h.apply(this,arguments)}},38925:function(J,I,e){"use strict";e.d(I,{Z:function(){return me}});var d=e(67294),i=e(76278),j=e(17012),a=e(62208),B=e(26702),_=e(1558),T=e(93967),c=e.n(T),h=e(82225),m=e(64217),g=e(96159),Z=e(53124),u=e(6731),f=e(14747),w=e(91945);const p=(o,r,M,v,E)=>({background:o,border:`${(0,u.unit)(v.lineWidth)} ${v.lineType} ${r}`,[`${E}-icon`]:{color:M}}),t=o=>{const{componentCls:r,motionDurationSlow:M,marginXS:v,marginSM:E,fontSize:k,fontSizeLG:s,lineHeight:ae,borderRadiusLG:he,motionEaseInOutCirc:re,withDescriptionIconSize:ge,colorText:De,colorTextHeading:Ee,withDescriptionPadding:Me,defaultPadding:je}=o;return{[r]:Object.assign(Object.assign({},(0,f.Wf)(o)),{position:"relative",display:"flex",alignItems:"center",padding:je,wordWrap:"break-word",borderRadius:he,[`&${r}-rtl`]:{direction:"rtl"},[`${r}-content`]:{flex:1,minWidth:0},[`${r}-icon`]:{marginInlineEnd:v,lineHeight:0},["&-description"]:{display:"none",fontSize:k,lineHeight:ae},"&-message":{color:Ee},[`&${r}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${M} ${re}, opacity ${M} ${re},
        padding-top ${M} ${re}, padding-bottom ${M} ${re},
        margin-bottom ${M} ${re}`},[`&${r}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${r}-with-description`]:{alignItems:"flex-start",padding:Me,[`${r}-icon`]:{marginInlineEnd:E,fontSize:ge,lineHeight:0},[`${r}-message`]:{display:"block",marginBottom:v,color:Ee,fontSize:s},[`${r}-description`]:{display:"block",color:De}},[`${r}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},se=o=>{const{componentCls:r,colorSuccess:M,colorSuccessBorder:v,colorSuccessBg:E,colorWarning:k,colorWarningBorder:s,colorWarningBg:ae,colorError:he,colorErrorBorder:re,colorErrorBg:ge,colorInfo:De,colorInfoBorder:Ee,colorInfoBg:Me}=o;return{[r]:{"&-success":p(E,v,M,o,r),"&-info":p(Me,Ee,De,o,r),"&-warning":p(ae,s,k,o,r),"&-error":Object.assign(Object.assign({},p(ge,re,he,o,r)),{[`${r}-description > pre`]:{margin:0,padding:0}})}}},H=o=>{const{componentCls:r,iconCls:M,motionDurationMid:v,marginXS:E,fontSizeIcon:k,colorIcon:s,colorIconHover:ae}=o;return{[r]:{["&-action"]:{marginInlineStart:E},[`${r}-close-icon`]:{marginInlineStart:E,padding:0,overflow:"hidden",fontSize:k,lineHeight:(0,u.unit)(k),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${M}-close`]:{color:s,transition:`color ${v}`,"&:hover":{color:ae}}},"&-close-text":{color:s,transition:`color ${v}`,"&:hover":{color:ae}}}}},b=o=>({withDescriptionIconSize:o.fontSizeHeading3,defaultPadding:`${o.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${o.paddingMD}px ${o.paddingContentHorizontalLG}px`});var te=(0,w.I$)("Alert",o=>[t(o),se(o),H(o)],b),x=function(o,r){var M={};for(var v in o)Object.prototype.hasOwnProperty.call(o,v)&&r.indexOf(v)<0&&(M[v]=o[v]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var E=0,v=Object.getOwnPropertySymbols(o);E<v.length;E++)r.indexOf(v[E])<0&&Object.prototype.propertyIsEnumerable.call(o,v[E])&&(M[v[E]]=o[v[E]]);return M};const A={success:i.Z,info:_.Z,error:j.Z,warning:B.Z},U=o=>{const{icon:r,prefixCls:M,type:v}=o,E=A[v]||null;return r?(0,g.wm)(r,d.createElement("span",{className:`${M}-icon`},r),()=>({className:c()(`${M}-icon`,{[r.props.className]:r.props.className})})):d.createElement(E,{className:`${M}-icon`})},q=o=>{const{isClosable:r,prefixCls:M,closeIcon:v,handleClose:E}=o,k=v===!0||v===void 0?d.createElement(a.Z,null):v;return r?d.createElement("button",{type:"button",onClick:E,className:`${M}-close-icon`,tabIndex:0},k):null};var V=o=>{const{description:r,prefixCls:M,message:v,banner:E,className:k,rootClassName:s,style:ae,onMouseEnter:he,onMouseLeave:re,onClick:ge,afterClose:De,showIcon:Ee,closable:Me,closeText:je,closeIcon:Ce,action:Te}=o,Se=x(o,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[ie,ye]=d.useState(!1),Re=d.useRef(null),{getPrefixCls:W,direction:S,alert:O}=d.useContext(Z.E_),l=W("alert",M),[Y,G,X]=te(l),_e=K=>{var D;ye(!0),(D=o.onClose)===null||D===void 0||D.call(o,K)},le=d.useMemo(()=>o.type!==void 0?o.type:E?"warning":"info",[o.type,E]),y=d.useMemo(()=>je?!0:typeof Me=="boolean"?Me:Ce!==!1&&Ce!==null&&Ce!==void 0,[je,Ce,Me]),ee=E&&Ee===void 0?!0:Ee,fe=c()(l,`${l}-${le}`,{[`${l}-with-description`]:!!r,[`${l}-no-icon`]:!ee,[`${l}-banner`]:!!E,[`${l}-rtl`]:S==="rtl"},O==null?void 0:O.className,k,s,X,G),P=(0,m.Z)(Se,{aria:!0,data:!0});return Y(d.createElement(h.default,{visible:!ie,motionName:`${l}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:K=>({maxHeight:K.offsetHeight}),onLeaveEnd:De},K=>{let{className:D,style:z}=K;return d.createElement("div",Object.assign({ref:Re,"data-show":!ie,className:c()(fe,D),style:Object.assign(Object.assign(Object.assign({},O==null?void 0:O.style),ae),z),onMouseEnter:he,onMouseLeave:re,onClick:ge,role:"alert"},P),ee?d.createElement(U,{description:r,icon:o.icon,prefixCls:l,type:le}):null,d.createElement("div",{className:`${l}-content`},v?d.createElement("div",{className:`${l}-message`},v):null,r?d.createElement("div",{className:`${l}-description`},r):null),Te?d.createElement("div",{className:`${l}-action`},Te):null,d.createElement(q,{isClosable:y,prefixCls:l,closeIcon:je||(Ce!=null?Ce:O==null?void 0:O.closeIcon),handleClose:_e}))}))},ce=e(15671),xe=e(43144),ne=e(82963),ve=e(78814),oe=e(61120),n=e(32531);function Ae(o,r,M){return r=(0,oe.Z)(r),(0,ne.Z)(o,(0,ve.Z)()?Reflect.construct(r,M||[],(0,oe.Z)(o).constructor):r.apply(o,M))}var Ie=function(o){(0,n.Z)(r,o);function r(){var M;return(0,ce.Z)(this,r),M=Ae(this,r,arguments),M.state={error:void 0,info:{componentStack:""}},M}return(0,xe.Z)(r,[{key:"componentDidCatch",value:function(v,E){this.setState({error:v,info:E})}},{key:"render",value:function(){const{message:v,description:E,children:k}=this.props,{error:s,info:ae}=this.state,he=ae&&ae.componentStack?ae.componentStack:null,re=typeof v=="undefined"?(s||"").toString():v,ge=typeof E=="undefined"?he:E;return s?d.createElement(V,{type:"error",message:re,description:d.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},ge)}):k}}]),r}(d.Component);const Q=V;Q.ErrorBoundary=Ie;var me=Q},49677:function(J){function I(e){if(e==null)throw new TypeError("Cannot destructure "+e)}J.exports=I,J.exports.__esModule=!0,J.exports.default=J.exports},2254:function(J,I,e){"use strict";e.d(I,{C:function(){return i}});var d=e(32841);function i(a){return+(0,d.Q)(a)<Date.now()}var j=null}}]);
