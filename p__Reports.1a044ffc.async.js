(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"8j+T":function(M,l,e){"use strict";function o(f){for(var v in f)l.hasOwnProperty(v)||(l[v]=f[v])}Object.defineProperty(l,"__esModule",{value:!0}),o(e("Xljc"))},"Ecy+":function(M,l,e){"use strict";var o=e("fOrg"),f=e("+KLJ"),v=e("g9YV"),h=e("wCAj"),O=e("T2oS"),_=e("W9HT"),a=e("+L6B"),t=e("2/Rp"),n=e("k1fw"),r=e("tJVT"),s=e("q1tI"),c=e.n(s),i=e("I+Rq"),u=e("w/VK"),E=e("9kvl"),D=e("nhC9"),U=e("Mo4S"),P=e("8j+T"),K=e.n(P),d=e("nKUr"),g=e.n(d),R=[{title:Object(d.jsx)(E.a,{id:"label",defaultMessage:"label"}),dataIndex:"label",key:"label"},{title:Object(d.jsx)(E.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",key:"value"}],W=function(b){var j=b.metric,x=b.header,I=x===void 0?!0:x,F=b.asDonut,G=F===void 0?!1:F,H=b.customLabelTitle,C=b.customLabelContent,J=Object(s.useState)({mode:"init"}),N=Object(r.a)(J,2),m=N[0],y=N[1],X=Object(E.j)(),V={appendPadding:10,angleField:"value",colorField:"label",radius:.9,label:{type:"inner",offset:"-30%",content:function(T){var A=T.percent;return A>=.01?"".concat((A*100).toFixed(0),"%"):""},style:{fontSize:14,textAlign:"center"}},interactions:[{type:"element-active"}],legend:{itemValue:{alignRight:!0,formatter:function(T,A){if(C&&"value"in m){var L=m.value.find(function(S){var B=S.label;return B===A.name});return L?C(L):T}return T}}}},z={appendPadding:20,innerRadius:.6,label:Object(n.a)(Object(n.a)({},V.label),{},{offset:"-50%"}),legend:{itemWidth:void 0,itemName:{formatter:function(T){return H?H(T):T}},offsetX:-24,itemValue:{formatter:function(T,A){if(C&&"value"in m){var L=m.value.find(function(S){var B=S.label;return B===A.value});return L?C(L):void 0}}}}},Y=Object(n.a)(Object(n.a)({},V),G?z:{});Object(s.useEffect)(function(){y({mode:"loading"}),Object(u.a)({metric:j}).then(function(p){p.success?y({mode:"loaded",value:p.data}):y({mode:"error",error:p.message})}).catch(function(p){return y({mode:"error",error:p.toString()})})},[j]);var $=Object(s.useCallback)(function(){if(m.mode==="loaded"){var p={filename:j.split("\\").join("-"),fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!0,title:X.formatMessage({id:j.split("\\").pop()}),useTextFile:!1,useBom:!0,useKeysAsHeaders:!0},T=new P.ExportToCsv(p);T.generateCsv(m.value)}},[m]);return Object(d.jsxs)(D.a,{title:I&&Object(d.jsx)(E.a,{id:j.split("\\").pop(),defaultMessage:j.split("\\").pop()}),extra:I&&Object(d.jsxs)(t.a,{icon:Object(d.jsx)(U.a,{}),size:"small",onClick:function(){return $()},children:[" ",Object(d.jsx)(E.a,{id:"download"}),"\xA0","CSV"]}),headerBordered:!0,children:[m.mode==="loading"&&Object(d.jsx)(_.a,{}),m.mode==="loaded"&&Object(d.jsxs)("div",{children:[Object(d.jsx)(i.a,Object(n.a)(Object(n.a)({},Y),{},{data:m.value})),I&&Object(d.jsx)(h.a,{pagination:!1,size:"small",dataSource:m.value,columns:R})]}),m.mode==="error"&&Object(d.jsx)(f.a,{message:m.error,type:"error"})]})};l.a=W},"I+Rq":function(M,l,e){"use strict";var o=e("q1tI"),f=e.n(o),v=e("ma/q"),h=e("ZIEt"),O=e("sy9F"),_=e("GzfL"),a=e("AEj8"),t=function(r,s){var c={};for(var i in r)Object.prototype.hasOwnProperty.call(r,i)&&s.indexOf(i)<0&&(c[i]=r[i]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(r);u<i.length;u++)s.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(r,i[u])&&(c[i[u]]=r[i[u]]);return c},n=Object(o.forwardRef)(function(r,s){var c=r.chartRef,i=r.style,u=i===void 0?{height:"inherit"}:i,E=r.className,D=r.loading,U=r.loadingTemplate,P=r.errorTemplate,K=t(r,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),d=Object(h.a)(v.Pie,K),g=d.chart,R=d.container;return Object(o.useEffect)(function(){Object(O.a)(c,g.current)},[g.current]),Object(o.useImperativeHandle)(s,function(){return{getChart:function(){return g.current}}}),f.a.createElement(_.a,{errorTemplate:P},D&&f.a.createElement(a.a,{loadingTemplate:U,theme:r.theme}),f.a.createElement("div",{className:E,style:u,ref:R}))});l.a=n},Xljc:function(M,l,e){"use strict";Object.defineProperty(l,"__esModule",{value:!0});var o=function(){function a(){}return a.EOL=`\r
`,a.BOM="\uFEFF",a.DEFAULT_FIELD_SEPARATOR=",",a.DEFAULT_DECIMAL_SEPARATOR=".",a.DEFAULT_QUOTE='"',a.DEFAULT_SHOW_TITLE=!1,a.DEFAULT_TITLE="My Generated Report",a.DEFAULT_FILENAME="generated",a.DEFAULT_SHOW_LABELS=!1,a.DEFAULT_USE_TEXT_FILE=!1,a.DEFAULT_USE_BOM=!0,a.DEFAULT_HEADER=[],a.DEFAULT_KEYS_AS_HEADERS=!1,a}();l.CsvConfigConsts=o,l.ConfigDefaults={filename:o.DEFAULT_FILENAME,fieldSeparator:o.DEFAULT_FIELD_SEPARATOR,quoteStrings:o.DEFAULT_QUOTE,decimalSeparator:o.DEFAULT_DECIMAL_SEPARATOR,showLabels:o.DEFAULT_SHOW_LABELS,showTitle:o.DEFAULT_SHOW_TITLE,title:o.DEFAULT_TITLE,useTextFile:o.DEFAULT_USE_TEXT_FILE,useBom:o.DEFAULT_USE_BOM,headers:o.DEFAULT_HEADER,useKeysAsHeaders:o.DEFAULT_KEYS_AS_HEADERS};var f=function(){function a(t){this._csv="";var n=t||{};this._options=_({},l.ConfigDefaults,n),this._options.useKeysAsHeaders&&this._options.headers&&this._options.headers.length>0&&console.warn("Option to use object keys as headers was set, but headers were still passed!")}return Object.defineProperty(a.prototype,"options",{get:function(){return this._options},set:function(n){this._options=_({},l.ConfigDefaults,n)},enumerable:!0,configurable:!0}),a.prototype.generateCsv=function(t,n){if(n===void 0&&(n=!1),this._csv="",this._parseData(t),this._options.useBom&&(this._csv+=o.BOM),this._options.showTitle&&(this._csv+=this._options.title+`\r

`),this._getHeaders(),this._getBody(),this._csv==""){console.log("Invalid data");return}if(n)return this._csv;var r=this._options.useTextFile?"plain":"csv",s=this._options.useTextFile?".txt":".csv",c=new Blob([this._csv],{type:"text/"+r+";charset=utf8;"});if(navigator.msSaveBlob){var i=this._options.filename.replace(/ /g,"_")+s;navigator.msSaveBlob(c,i)}else{var u=this._options.useTextFile?"text":"csv",E="data:attachment/"+u+";charset=utf-8,"+encodeURI(this._csv),D=document.createElement("a");D.href=URL.createObjectURL(c),D.setAttribute("visibility","hidden"),D.download=this._options.filename.replace(/ /g,"_")+s,document.body.appendChild(D),D.click(),document.body.removeChild(D)}},a.prototype._getHeaders=function(){if(!(!this._options.showLabels&&!this._options.useKeysAsHeaders)){var t=this._options.useKeysAsHeaders,n=t?Object.keys(this._data[0]):this._options.headers;if(n.length>0){for(var r="",s=0;s<n.length;s++)r+=n[s]+this._options.fieldSeparator;r=r.slice(0,-1),this._csv+=r+o.EOL}}},a.prototype._getBody=function(){for(var t=Object.keys(this._data[0]),n=0;n<this._data.length;n++){for(var r="",s=0;s<t.length;s++){var c=t[s];r+=this._formatData(this._data[n][c])+this._options.fieldSeparator}r=r.slice(0,-1),this._csv+=r+o.EOL}},a.prototype._formatData=function(t){return this._options.decimalSeparator==="locale"&&this._isFloat(t)?t.toLocaleString():this._options.decimalSeparator!=="."&&this._isFloat(t)?t.toString().replace(".",this._options.decimalSeparator):typeof t=="string"?(t=t.replace(/"/g,'""'),(this._options.quoteStrings||t.indexOf(",")>-1||t.indexOf(`
`)>-1||t.indexOf("\r")>-1)&&(t=this._options.quoteStrings+t+this._options.quoteStrings),t):typeof t=="boolean"?t?"TRUE":"FALSE":t},a.prototype._isFloat=function(t){return+t===t&&(!isFinite(t)||Boolean(t%1))},a.prototype._parseData=function(t){return this._data=typeof t!="object"?JSON.parse(t):t,this._data},a}();l.ExportToCsv=f;var v=Object.prototype.hasOwnProperty,h=Object.prototype.propertyIsEnumerable;function O(a){if(a==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(a)}function _(a){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var r,s=O(a),c,i=1;i<arguments.length;i++){r=Object(arguments[i]);for(var u in r)v.call(r,u)&&(s[u]=r[u]);if(Object.getOwnPropertySymbols){c=Object.getOwnPropertySymbols(r);for(var E=0;E<c.length;E++)h.call(r,c[E])&&(s[c[E]]=r[c[E]])}}return s}},dgLD:function(M,l,e){"use strict";e.r(l);var o=e("q1tI"),f=e.n(o),v=e("tMyG"),h=e("Ecy+"),O=e("nhC9"),_=e("nKUr"),a=e.n(_);l.default=function(){return Object(_.jsxs)(v.a,{children:[Object(_.jsxs)(O.a,{split:"vertical",children:[Object(_.jsx)(O.a,{colSpan:12,layout:"center",children:Object(_.jsx)(h.a,{metric:"EscolaLms\\Reports\\Metrics\\CoursesMoneySpentMetric"})}),Object(_.jsx)(O.a,{colSpan:12,layout:"center",children:Object(_.jsx)(h.a,{metric:"EscolaLms\\Reports\\Metrics\\CoursesPopularityMetric"})})]}),Object(_.jsxs)(O.a,{split:"vertical",children:[Object(_.jsx)(O.a,{colSpan:12,layout:"center",children:Object(_.jsx)(h.a,{metric:"EscolaLms\\Reports\\Metrics\\CoursesSecondsSpentMetric"})}),Object(_.jsx)(O.a,{colSpan:12,layout:"center",children:Object(_.jsx)(h.a,{metric:"EscolaLms\\Reports\\Metrics\\TutorsPopularityMetric"})})]})]})}},"w/VK":function(M,l,e){"use strict";e.d(l,"a",function(){return O});var o=e("qLMh"),f=e("k1fw"),v=e("9og8"),h=e("9kvl");function O(a,t){return _.apply(this,arguments)}function _(){return _=Object(v.a)(Object(o.a)().mark(function a(t,n){return Object(o.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(h.g)("/api/admin/reports/report",Object(f.a)({params:t,method:"GET",useCache:!1},n||{})));case 1:case"end":return s.stop()}},a)})),_.apply(this,arguments)}}}]);
