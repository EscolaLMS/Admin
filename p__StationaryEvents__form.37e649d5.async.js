(window.webpackJsonp=window.webpackJsonp||[]).push([[40,10],{"/y+f":function(me,f,e){"use strict";e.d(f,"d",function(){return d}),e.d(f,"b",function(){return v}),e.d(f,"c",function(){return H}),e.d(f,"a",function(){return N});var d;(function(u){u.Unselected="",u.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",u.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",u.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",u.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",u.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",u.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",u.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",u.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",u.Project="EscolaLms\\TopicTypeProject\\Models\\Project",u.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz"})(d||(d={}));var O;(function(u){u.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",u.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(O||(O={}));var p;(function(u){u.draft="draft",u.published="published",u.archived="archived"})(p||(p={}));var v;(function(u){u.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",u.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",u.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(v||(v={}));var H;(function(u){u.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(H||(H={}));var P;(function(u){u.cart_fixed="cart_fixed",u.cart_percent="cart_percent",u.product_fixed="product_fixed",u.product_percent="product_percent"})(P||(P={}));var N;(function(u){u.MULTIPLE_CHOICE="multiple_choice",u.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",u.TRUE_FALSE="true_false",u.SHORT_ANSWERS="short_answers",u.MATCHING="matching",u.NUMERICAL_QUESTION="numerical_question",u.ESSAY="essay",u.DESCRIPTION="description"})(N||(N={}))},"0eZe":function(me,f,e){"use strict";var d=e("14J3"),O=e("BMrR"),p=e("jCWc"),v=e("kPKH"),H=e("+BJd"),P=e("mr32"),N=e("oBTY"),u=e("5NDa"),T=e("5rEg"),c=e("T2oS"),B=e("W9HT"),h=e("miYZ"),y=e("tsqr"),b=e("qLMh"),o=e("k1fw"),g=e("9og8"),x=e("tJVT"),j=e("q1tI"),m=e("VMEa"),L=e("Qurx"),te=e("5qq5"),Y=e("F/zT"),r=e("FJDo"),s=e("nhC9"),n=e("9kvl"),E=e("vzes"),l=e("DVQu"),A=e("Gn8c"),R=e("TWax"),we=e("90Xc"),Ge=e("5Dmo"),Me=e("3S7+"),Je=e("+L6B"),de=e("2/Rp"),he=e("0WSk"),ae=e("Qiat"),F=e("/MfK"),t=e("nKUr"),Z=[{title:Object(t.jsx)(n.a,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:Object(t.jsx)(n.a,{id:"email",defaultMessage:"email"}),dataIndex:"email"}],I=function(Q){var X=Q.id,Ke=Object(n.l)(),Oe=Object(j.useRef)(),Pe=Object(j.useState)(!1),K=Object(x.a)(Pe,2),V=K[0],ie=K[1],C=m.a.useForm(),z=Object(x.a)(C,1),fe=z[0],ne=Object(j.useCallback)(function(){var G=Object(g.a)(Object(b.a)().mark(function ce(le){var J;return Object(b.a)().wrap(function($){for(;;)switch($.prev=$.next){case 0:return ie(!0),$.next=3,Object(l.d)(Number(X),{user_id:le.user_id});case 3:fe.resetFields(),(J=Oe.current)===null||J===void 0||J.reload(),ie(!1);case 6:case"end":return $.stop()}},ce)}));return function(ce){return G.apply(this,arguments)}}(),[X]),D=Object(j.useCallback)(function(){var G=Object(g.a)(Object(b.a)().mark(function ce(le){var J;return Object(b.a)().wrap(function($){for(;;)switch($.prev=$.next){case 0:return ie(!0),$.next=3,Object(l.e)(Number(X),{user_id:le});case 3:(J=Oe.current)===null||J===void 0||J.reload(),ie(!1);case 5:case"end":return $.stop()}},ce)}));return function(ce){return G.apply(this,arguments)}}(),[X]);return Object(t.jsxs)(j.Fragment,{children:[Object(t.jsx)(m.a,{layout:"inline",onFinish:ne,form:fe,labelWrap:!0,children:Object(t.jsx)(m.a.Group,{children:Object(t.jsx)(m.a.Item,{name:"user_id",label:Object(t.jsx)(n.a,{id:"users"}),valuePropName:"value",children:Object(t.jsx)(he.a,{})})})}),Object(t.jsx)(ae.a,{defaultSize:"small",loading:V,search:!1,headerTitle:Ke.formatMessage({id:"users",defaultMessage:"Users"}),actionRef:Oe,rowKey:"id",request:Object(g.a)(Object(b.a)().mark(function G(){return Object(b.a)().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return ie(!0),le.abrupt("return",Object(l.c)(Number(X)).then(function(J){return ie(!1),J.success&&J.data.users?{data:J.data.users,total:J.data.users.length,success:!0}:J.success?[]:{data:[],total:0,success:!1}}));case 2:case"end":return le.stop()}},G)})),columns:[].concat(Z,[{title:Object(t.jsx)(n.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(ce,le){return[Object(t.jsx)(Me.a,{title:Object(t.jsx)(n.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(de.a,{type:"primary",icon:Object(t.jsx)(F.a,{}),danger:!0,onClick:function(){return D(le.id)}})},"delete")]}}])})]})},pe=I,ge=e("5RzD"),ze=e("rnuo"),Be=e("c+yx"),Se=e("hd5d"),ut=e("DYRE"),rt=e("zeV3"),et=e("rWUb"),ot=e("OaEy"),Xe=e("2fM7"),nt=function(Q){var X=Q.value,Ke=Q.onChange,Oe=Q.multiple,Pe=Oe===void 0?!1:Oe,K=Q.params,V=Object(j.useState)([]),ie=Object(x.a)(V,2),C=ie[0],z=ie[1],fe=Object(j.useState)(!1),ne=Object(x.a)(fe,2),D=ne[0],G=ne[1],ce=Object(j.useState)([]),le=Object(x.a)(ce,2),J=le[0],_e=le[1],$=Object(j.useRef)(),$e=Object(j.useCallback)(function(){G(!0),$.current&&$.current.abort(),$.current=new AbortController,Object(et.e)(K,{signal:$.current.signal}).then(function(ue){ue.success&&z(ue.data),G(!1)}).catch(function(){return G(!1)})},[]);return Object(j.useEffect)(function(){var ue=new AbortController;if(X){var Re=Array.isArray(X)?X:[X],k=Re.map(function(ve){return typeof ve=="object"?Number(ve.id):Number(ve)});_e(k)}return function(){ue.abort()}},[X]),Object(t.jsx)(Xe.a,{onFocus:function(){return $e()},allowClear:!0,style:{width:"100%",minWidth:"400px"},value:J,onChange:Ke,mode:Pe?"multiple":void 0,showSearch:!0,placeholder:Object(t.jsx)(n.a,{id:"select_template",defaultMessage:"Select a template"}),optionFilterProp:"children",filterOption:function(Re,k){if(k&&k.children){var ve;return(k==null||(ve=k.children)===null||ve===void 0?void 0:ve.toString().toLowerCase().indexOf(Re&&Re.toLowerCase()||""))>=0}return!1},notFoundContent:D?Object(t.jsx)(B.a,{size:"small"}):null,children:C.map(function(ue){return Object(t.jsxs)(Xe.a.Option,{value:ue.id,children:[ue.name," ",Object(t.jsxs)("small",{children:[Object(t.jsx)(n.a,{id:ue.channel.split("\\").pop()}),":",ue.event&&Object(t.jsx)(n.a,{id:ue.event.split("\\").pop()})]})]},ue.id)})})},ke=nt,st=e("/y+f"),Ae=function(Q){var X=Q.productId,Ke=Object(j.useState)(!1),Oe=Object(x.a)(Ke,2),Pe=Oe[0],K=Oe[1],V=Object(j.useState)(),ie=Object(x.a)(V,2),C=ie[0],z=ie[1],fe=Object(n.l)(),ne=Object(j.useCallback)(function(){K(!0),typeof C=="number"&&Object(et.g)(Number(C),X).then(function(D){D.success?y.b.success(D.message):y.b.error(D.message)}).catch(function(D){return y.b.error(D.toString())}).finally(function(){return K(!1)})},[C,X]);return Object(t.jsxs)(rt.b,{children:[Object(t.jsx)(nt,{params:{event:st.c.ManuallyTriggeredEvent},multiple:!1,value:C,onChange:function(G){return z(G)}}),Object(t.jsx)(Me.a,{title:fe.formatMessage({id:"generate_pdf_for_products_tooltip"}),children:Object(t.jsx)(de.a,{loading:Pe,onClick:function(){return ne()},disabled:!C,children:Object(t.jsx)(n.a,{id:"generate"})})})]})},a=Ae,De=e("qSko"),xe=function(Q){return Q.map(function(X){return{class:X.productable_type,id:Number(X.productable_id),name:X.name,quantity:X.quantity}})},Ie=function(Q){var X=Array.isArray(Q)?Q:[Q],Ke=X.map(function(Oe){return typeof Oe=="object"?Oe:{id:parseInt(Oe.split(":")[1]),class:Oe.split(":")[0],name:Oe.split(":")[2]}});return Ke},Ue=function(Q){var X=Q.tab,Ke=X===void 0?"attributes":X,Oe=Q.onTabChange,Pe=Q.id,K=Q.productable,V=Q.onProductSaved,ie=Q.type,C=ie===void 0?"card":ie,z=Object(n.l)(),fe=Object(j.useState)(Pe),ne=Object(x.a)(fe,2),D=ne[0],G=ne[1],ce=Object(j.useState)([]),le=Object(x.a)(ce,2),J=le[0],_e=le[1],$=Object(j.useMemo)(function(){return D==="new"},[D]),$e=Object(j.useState)(!0),ue=Object(x.a)($e,2),Re=ue[0],k=ue[1],ve=Object(j.useState)(null),qe=Object(x.a)(ve,2),He=qe[0],tt=qe[1],it=Object(j.useState)({}),Ne=Object(x.a)(it,2),be=Ne[1],se=Object(j.useCallback)(function(){return be({})},[]),Fe=m.a.useForm(),Te=Object(x.a)(Fe,1),Ce=Te[0],oe=Object(j.useState)(!1),Qe=Object(x.a)(oe,2),Ye=Qe[0],Ze=Qe[1];Object(j.useEffect)(function(){K&&K.class_id&&K.class_type&&(Object(l.f)({productable_id:Number(K.class_id),productable_type:K.class_type}).then(function(W){W.success&&G(W.data.id)}).catch(function(){console.log("err"),G("new")}),_e([{class:K.class_type,id:Number(K.class_id),name:K.name}]),Ce.setFieldsValue({productables:[{class:K.class_type,id:K.class_id,name:K.name}]}))},[K]);var dt=Object(j.useCallback)(Object(g.a)(Object(b.a)().mark(function W(){var i,M,_,w,U,ee,S;return Object(b.a)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(!(D&&D!=="new")){q.next=5;break}return q.next=3,Object(l.c)(Number(D));case 3:i=q.sent,i.success&&(U=Object(o.a)(Object(o.a)({},i.data),{},{categories:(M=i.data.categories)===null||M===void 0?void 0:M.map(Be.a),tags:(_=i.data.tags)===null||_===void 0?void 0:_.map(function(je){return Object(Be.g)(je)}),productables:i.data.productables?xe(i.data.productables):[]}),i.data&&i!==null&&i!==void 0&&(w=i.data)!==null&&w!==void 0&&w.productables&&tt(i==null||(ee=i.data)===null||ee===void 0||(S=ee.productables[0])===null||S===void 0?void 0:S.productable_type),_e(xe(i.data.productables)),Ce.setFieldsValue(U),Ze(i.data.type==="bundle"));case 5:k(!1);case 6:case"end":return q.stop()}},W)})),[D]);Object(j.useEffect)(function(){D&&dt()},[D]);var Ee=Object(j.useMemo)(function(){return{onValuesChange:function(i){i.type&&Ze(i.type==="bundle")},onFinish:function(){var W=Object(g.a)(Object(b.a)().mark(function M(_){var w,U;return Object(b.a)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(w=Object(o.a)(Object(o.a)({},_),{},{productables:J?Ie(J):void 0}),!$){S.next=8;break}return S.next=4,Object(l.a)(w);case 4:U=S.sent,U.success&&(V&&V(U.data),G(U.data.id),Ce.setFieldsValue(U.data)),S.next=12;break;case 8:return S.next=10,Object(l.i)(Number(D),w);case 10:U=S.sent,U.success&&V&&V(U.data);case 12:y.b.success(U.message);case 13:case"end":return S.stop()}},M)}));function i(M){return W.apply(this,arguments)}return i}()}},[D,V,J]);return Re?Object(t.jsx)(B.a,{}):Object(t.jsxs)(s.a,{title:C==="line"?Object(t.jsx)(n.a,{id:"product_widget_title",defaultMessage:"Product Attibutes"}):null,tooltip:C==="line"?Object(t.jsx)(n.a,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,subTitle:C==="line"?Object(t.jsx)(n.a,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,tabs:{type:C,activeKey:Ke,onChange:function(i){return Oe(i)}},children:[Object(t.jsxs)(s.a.TabPane,{tab:Object(t.jsx)(n.a,{id:"attributes"}),children:[Object(t.jsxs)(m.a,Object(o.a)(Object(o.a)({},Ee),{},{form:Ce,children:[Object(t.jsxs)(m.a.Group,{children:[Object(t.jsx)(L.a,{width:"md",name:"name",initialValue:$&&K?K.name:void 0,label:Object(t.jsx)(n.a,{id:"name"}),tooltip:Object(t.jsx)(n.a,{id:"name_tooltip"}),placeholder:z.formatMessage({id:"name",defaultMessage:"name"}),required:!0}),Object(t.jsx)(m.a.Item,{shouldUpdate:!0,style:{minWidth:104*3},name:"productables",tooltip:Object(t.jsx)(n.a,{id:"productables_tooltip"}),label:Object(t.jsx)(n.a,{id:"productables"}),valuePropName:"value",children:Object(t.jsx)(E.a,{multiple:Ye,disabled:K!==void 0,onChange:function(i){return _e(Ie(i))}})})]}),Object(t.jsxs)(m.a.Group,{children:[Object(t.jsx)(te.a.Group,{disabled:K!==void 0,initialValue:D&&D!=="new"?void 0:"single",rules:[{required:!0}],name:"type",label:Object(t.jsx)(n.a,{id:"type"}),options:[{label:z.formatMessage({id:"single",defaultMessage:"single"}),value:"single"},{label:z.formatMessage({id:"bundle",defaultMessage:"bundle"}),value:"bundle"}]}),Object(t.jsx)(Y.a,{name:"purchasable",label:Object(t.jsx)(n.a,{id:"purchasable"}),tooltip:Object(t.jsx)(n.a,{id:"purchasable_tooltip"})})]}),Object(t.jsxs)(m.a.Group,{title:Object(t.jsx)(n.a,{id:"prices"}),children:[Object(t.jsx)(r.a,{rules:[{required:!0}],width:"xs",name:"price",label:Object(t.jsx)(n.a,{id:"price"}),tooltip:Object(t.jsx)(n.a,{id:"price_tooltip"}),placeholder:z.formatMessage({id:"price",defaultMessage:"price"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(r.a,{rules:[{required:!0}],width:"xs",name:"tax_rate",label:Object(t.jsx)(n.a,{id:"tax_rate"}),tooltip:Object(t.jsx)(n.a,{id:"tax_rate_tooltip"}),placeholder:z.formatMessage({id:"tax_rate",defaultMessage:"tax_rate"}),initialValue:$?23:void 0,min:0,max:100,fieldProps:{step:1,formatter:function(i){return"".concat(i,"%")},parser:function(i){return i?i.replace("%",""):""}}}),Object(t.jsx)(m.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(n.a,{id:"price_brutto"}),tooltip:Object(t.jsx)(n.a,{id:"price_brutto_tooltip"}),style:{width:104},children:function(i){return Object(t.jsx)(T.a,{disabled:!0,readOnly:!0,value:i.getFieldValue("price")?Math.round(parseInt(i.getFieldValue("price"))*(1+parseInt(i.getFieldValue("tax_rate"))/100)):void 0})}}),Object(t.jsx)(m.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(n.a,{id:"tax_value"}),tooltip:Object(t.jsx)(n.a,{id:"tax_value_tooltip"}),children:function(i){return Object(t.jsx)(T.a,{disabled:!0,readOnly:!0,value:i.getFieldValue("price")?Math.round(parseInt(i.getFieldValue("price"))*(parseInt(i.getFieldValue("tax_rate"))/100)):void 0})}}),Object(t.jsx)(r.a,{width:"xs",name:"price_old",label:Object(t.jsx)(n.a,{id:"price_old"}),tooltip:Object(t.jsx)(n.a,{id:"price_old_tooltip"}),placeholder:z.formatMessage({id:"price",defaultMessage:"price"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(r.a,{initialValue:$?null:void 0,width:"xs",name:"extra_fees",label:Object(t.jsx)(n.a,{id:"extra_fees"}),tooltip:Object(t.jsx)(n.a,{id:"extra_fees_tooltip"}),placeholder:z.formatMessage({id:"extra_fees",defaultMessage:"extra_fees"}),min:0,max:99999,fieldProps:{step:1}})]}),Object(t.jsxs)(m.a.Group,{title:Object(t.jsx)(n.a,{id:"additional_fields"}),children:[Object(t.jsx)(L.a,{width:"md",name:"duration",label:Object(t.jsx)(n.a,{id:"duration"}),tooltip:Object(t.jsx)(n.a,{id:"duration_tooltip"}),placeholder:z.formatMessage({id:"duration",defaultMessage:"duration"})}),Object(t.jsx)(r.a,{initialValue:$?null:void 0,width:"xs",name:"limit_per_user",label:Object(t.jsx)(n.a,{id:"limit_per_user"}),tooltip:Object(t.jsx)(n.a,{id:"limit_per_user_tooltip"}),placeholder:z.formatMessage({id:"limit_per_user",defaultMessage:"limit_per_user"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(r.a,{initialValue:$?null:void 0,width:"xs",name:"limit_total",label:Object(t.jsx)(n.a,{id:"limit_total"}),tooltip:Object(t.jsx)(n.a,{id:"limit_total_tooltip"}),placeholder:z.formatMessage({id:"limit_total",defaultMessage:"limit_total"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(L.a,{width:"md",name:"teaser_url",label:Object(t.jsx)(n.a,{id:"teaser_url"}),tooltip:Object(t.jsx)(n.a,{id:"teaser_url_tooltip"}),placeholder:z.formatMessage({id:"teaser_url",defaultMessage:"teaser_url"})})]})," ",Object(t.jsx)(m.a.Item,{shouldUpdate:!0,name:"related_products",label:Object(t.jsx)(n.a,{id:"related_products"}),valuePropName:"value",children:He&&Object(t.jsx)(De.a,{type:He,multiple:!0})}),!$&&Object(t.jsx)(m.a.Item,{style:{width:"100%"},name:"description",label:Object(t.jsx)(n.a,{id:"description"}),tooltip:Object(t.jsx)(n.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(t.jsx)(Se.a,{directory:"products/".concat(D,"/wysiwyg")})}),J.length>0&&Ye&&Object(t.jsx)(ae.a,{headerTitle:z.formatMessage({id:"selected_products",defaultMessage:"Selected Products"}),pagination:!1,search:!1,dataSource:Object(N.a)(J),rowKey:"id",columns:[{title:Object(t.jsx)(n.a,{id:"id",defaultMessage:"id"}),dataIndex:"id",width:"10%"},{title:Object(t.jsx)(n.a,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:Object(t.jsx)(n.a,{id:"type",defaultMessage:"type"}),dataIndex:"class",render:function(i,M){return Object(t.jsx)(P.a,{children:Object(t.jsx)(n.a,{id:M.class.split("\\").pop(),defaultMessage:M.class.split("\\").pop()})})}},{title:Object(t.jsx)(n.a,{id:"quantity",defaultMessage:"quantity"}),dataIndex:"quantity",width:"10%",render:function(i,M){return Object(t.jsx)(T.a,{min:1,type:"number",value:M.quantity||1,onChange:function(w){var U=w.target.value,ee=J.findIndex(function(re){return re.id===M.id}),S=J;S[ee].quantity=Number(U),_e(S),se()}})}}]})]}))," "]},"attributes"),!$&&Object(t.jsx)(s.a.TabPane,{tab:Object(t.jsx)(n.a,{id:"cart_media",defaultMessage:"Cart Media"}),children:Object(t.jsx)(m.a,Object(o.a)(Object(o.a)({},Ee),{},{form:Ce,children:Object(t.jsx)(A.a,{folder:"products/".concat(D),wrapInForm:!1,title:"image",action:"/api/admin/products/".concat(D,"/?_method=PUT"),src_name:"poster_url",form_name:"poster",getUploadedSrcField:function(i){return i.file.response.data.poster_url},setPath:function(i){return Ce.setFieldsValue(i)}})}))},"media"),!$&&Object(t.jsx)(s.a.TabPane,{tab:Object(t.jsx)(n.a,{id:"product_categories_and_tags",defaultMessage:"Product Categories & Tags"}),children:Object(t.jsx)(m.a,Object(o.a)(Object(o.a)({},Ee),{},{form:Ce,children:Object(t.jsxs)(O.a,{children:[Object(t.jsx)(v.a,{span:12,children:Object(t.jsx)(m.a.Item,{label:Object(t.jsx)(n.a,{id:"categories"}),name:"categories",valuePropName:"value",children:Object(t.jsx)(R.a,{})})}),Object(t.jsx)(v.a,{span:12,children:Object(t.jsx)(m.a.Item,{label:Object(t.jsx)(n.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(t.jsx)(ze.a,{})})})]})}))},"categories"),!$&&Object(t.jsx)(s.a.TabPane,{tab:Object(t.jsx)(n.a,{id:"users_attached",defaultMessage:"Users Attached"}),children:Object(t.jsx)(O.a,{children:Object(t.jsx)(v.a,{span:24,children:D&&Object(t.jsx)(pe,{id:D})})})},"users")," ",!$&&Object(t.jsx)(s.a.TabPane,{tab:Object(t.jsx)(n.a,{id:"user_submission",defaultMessage:"Users Attached without Account"}),children:Object(t.jsx)(O.a,{children:Object(t.jsx)(v.a,{span:12,children:D&&Object(t.jsx)(ge.a,{id:Number(D),type:"EscolaLms\\Cart\\Models\\Product"})})})},"user_submission"),!$&&D&&Object(t.jsx)(s.a.TabPane,{tab:Object(t.jsx)(n.a,{id:"template"}),children:Object(t.jsx)(O.a,{children:Object(t.jsx)(v.a,{span:12,children:Object(t.jsx)(a,{productId:Number(D)})})})},"template")]})},ye=f.a=Ue},"5RzD":function(me,f,e){"use strict";var d=e("miYZ"),O=e("tsqr"),p=e("k1fw"),v=e("P2fV"),H=e("NJEC"),P=e("5Dmo"),N=e("3S7+"),u=e("+L6B"),T=e("2/Rp"),c=e("qLMh"),B=e("9og8"),h=e("tJVT"),y=e("q1tI"),b=e("VMEa"),o=e("9kvl"),g=e("Qiat"),x=e("xvlK"),j=e("/MfK");function m(ae,F){return L.apply(this,arguments)}function L(){return L=Object(B.a)(Object(c.a)().mark(function ae(F,t){return Object(c.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",Object(o.i)("/api/admin/user-submissions",Object(p.a)({method:"GET",params:Object(p.a)(Object(p.a)({},F),{},{per_page:F&&F.pageSize,page:F&&F.current})},t||{})));case 1:case"end":return I.stop()}},ae)})),L.apply(this,arguments)}function te(ae,F){return Y.apply(this,arguments)}function Y(){return Y=Object(B.a)(Object(c.a)().mark(function ae(F,t){return Object(c.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",Object(o.i)("/api/admin/user-submissions",Object(p.a)({method:"POST",headers:{"Content-Type":"application/json"},data:F},t||{})));case 1:case"end":return I.stop()}},ae)})),Y.apply(this,arguments)}function r(ae,F){return s.apply(this,arguments)}function s(){return s=Object(B.a)(Object(c.a)().mark(function ae(F,t){return Object(c.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",Object(o.i)("/api/admin/user-submissions/".concat(F),Object(p.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},t||{})));case 1:case"end":return I.stop()}},ae)})),s.apply(this,arguments)}var n=e("y8nQ"),E=e("Vl3Y"),l=e("rmhi"),A=e("Qurx"),R=e("nKUr"),we=function(F){var t=Object(o.l)(),Z=F.visible,I=F.onVisibleChange,pe=F.onFinish,ge=F.id,ze=E.a.useForm(),Be=Object(h.a)(ze,1),Se=Be[0];return Object(R.jsx)(l.a,{form:Se,title:t.formatMessage({id:"email",defaultMessage:"email"}),width:"30vw",visible:Z,onVisibleChange:I,onFinish:pe,children:Object(R.jsx)(b.a.Group,{children:Object(R.jsx)(A.a,{width:"md",name:"email",label:Object(R.jsx)(o.a,{id:"email"}),tooltip:Object(R.jsx)(o.a,{id:"email_tooltip"}),placeholder:t.formatMessage({id:"email",defaultMessage:"email"}),required:!0})})})},Ge=we,Me=e("MvUh"),Je=[{title:Object(R.jsx)(o.a,{id:"id",defaultMessage:"id"}),dataIndex:"id",hideInSearch:!0},{title:Object(R.jsx)(o.a,{id:"email",defaultMessage:"email"}),dataIndex:"email",hideInSearch:!1,width:"70%"},{title:Object(R.jsx)(o.a,{id:"status",defaultMessage:"status"}),dataIndex:"status",hideInSearch:!0}],de=function(F){var t=F.id,Z=F.type,I=Object(o.l)(),pe=Object(y.useRef)(),ge=Object(y.useState)(!1),ze=Object(h.a)(ge,2),Be=ze[0],Se=ze[1],ut=b.a.useForm(),rt=Object(h.a)(ut,1),et=rt[0],ot=Object(y.useState)(!1),Xe=Object(h.a)(ot,2),nt=Xe[0],ke=Xe[1],st=Object(y.useCallback)(function(){var Ae=Object(B.a)(Object(c.a)().mark(function a(De){var xe;return Object(c.a)().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return Se(!0),Ue.next=3,r(Number(De));case 3:(xe=pe.current)===null||xe===void 0||xe.reload(),Se(!1);case 5:case"end":return Ue.stop()}},a)}));return function(a){return Ae.apply(this,arguments)}}(),[t,Z]);return Object(R.jsxs)(y.Fragment,{children:[Object(R.jsx)(g.a,{defaultSize:"small",loading:Be,search:{},headerTitle:I.formatMessage({id:"user_submission",defaultMessage:"user_submission"}),actionRef:pe,toolBarRender:function(){return[Object(R.jsxs)(T.a,{type:"primary",onClick:function(){return ke(!0)},children:[Object(R.jsx)(x.a,{})," ",Object(R.jsx)(o.a,{id:"email_to_add",defaultMessage:"email_to_add"})]},"primary")]},rowKey:"id",request:function(){var Ae=Object(B.a)(Object(c.a)().mark(function a(De){var xe,Ie,Ue;return Object(c.a)().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return xe=De.email,Ie=De.pageSize,Ue=De.current,Se(!0),Le.abrupt("return",m({email:xe,pageSize:Ie,current:Ue,morphable_type:Z,morphable_id:t}).then(function(Q){return Se(!1),Q.success?{data:Q.data,total:Q.data.length,success:!0}:Q.success?[]:{data:[],total:0,success:!1}}));case 3:case"end":return Le.stop()}},a)}));return function(a){return Ae.apply(this,arguments)}}(),columns:[].concat(Je,[{title:Object(R.jsx)(o.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(a,De){return[Object(R.jsx)(H.a,{title:Object(R.jsx)(o.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return st(De.id)},okText:Object(R.jsx)(o.a,{id:"yes"}),cancelText:Object(R.jsx)(o.a,{id:"no"}),children:Object(R.jsx)(N.a,{title:Object(R.jsx)(o.a,{id:"delete",defaultMessage:"delete"}),children:Object(R.jsx)(T.a,{type:"primary",icon:Object(R.jsx)(j.a,{}),danger:!0})})},"delete")]}}])})," ",Object(R.jsx)(Ge,{visible:nt,onVisibleChange:function(a){return a===!1&&ke(!1)},onFinish:function(){var Ae=Object(B.a)(Object(c.a)().mark(function a(De){var xe,Ie;return Object(c.a)().wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:return Se(!0),ye.prev=1,ye.next=4,te(Object(p.a)(Object(p.a)({},De),{},{morphable_id:t,morphable_type:Z}));case 4:xe=ye.sent,xe.success&&(et.resetFields(),(Ie=pe.current)===null||Ie===void 0||Ie.reload(),Se(!1),ke(!1)),ye.next=13;break;case 8:ye.prev=8,ye.t0=ye.catch(1),ke(!1),O.b.error(Object(R.jsx)(o.a,{id:"error",defaultMessage:"error"})),Se(!1);case 13:case"end":return ye.stop()}},a,null,[[1,8]])}));return function(a){return Ae.apply(this,arguments)}}()})]})},he=f.a=de},"90Xc":function(me,f,e){},DVQu:function(me,f,e){"use strict";e.d(f,"h",function(){return H}),e.d(f,"a",function(){return N}),e.d(f,"c",function(){return T}),e.d(f,"i",function(){return B}),e.d(f,"b",function(){return y}),e.d(f,"g",function(){return o}),e.d(f,"f",function(){return x}),e.d(f,"d",function(){return m}),e.d(f,"e",function(){return te});var d=e("qLMh"),O=e("k1fw"),p=e("9og8"),v=e("9kvl");function H(r,s){return P.apply(this,arguments)}function P(){return P=Object(p.a)(Object(d.a)().mark(function r(s,n){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(v.i)("/api/admin/products",Object(O.a)({method:"GET",params:Object(O.a)(Object(O.a)({},s),{},{free:typeof s.free!="undefined"?s.free==="true"?1:0:void 0,per_page:s.pageSize,page:s.current})},n||{})));case 1:case"end":return l.stop()}},r)})),P.apply(this,arguments)}function N(r,s){return u.apply(this,arguments)}function u(){return u=Object(p.a)(Object(d.a)().mark(function r(s,n){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(v.i)("/api/admin/products",Object(O.a)({method:"POST",data:s},n||{})));case 1:case"end":return l.stop()}},r)})),u.apply(this,arguments)}function T(r,s){return c.apply(this,arguments)}function c(){return c=Object(p.a)(Object(d.a)().mark(function r(s,n){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(v.i)("/api/admin/products/".concat(s),Object(O.a)({method:"GET"},n||{})));case 1:case"end":return l.stop()}},r)})),c.apply(this,arguments)}function B(r,s,n){return h.apply(this,arguments)}function h(){return h=Object(p.a)(Object(d.a)().mark(function r(s,n,E){return Object(d.a)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",Object(v.i)("/api/admin/products/".concat(s,"?_method=PUT"),Object(O.a)({method:"POST",data:n},E||{})));case 1:case"end":return A.stop()}},r)})),h.apply(this,arguments)}function y(r,s){return b.apply(this,arguments)}function b(){return b=Object(p.a)(Object(d.a)().mark(function r(s,n){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(v.i)("/api/admin/products/".concat(s),Object(O.a)({method:"DELETE"},n||{})));case 1:case"end":return l.stop()}},r)})),b.apply(this,arguments)}function o(r){return g.apply(this,arguments)}function g(){return g=Object(p.a)(Object(d.a)().mark(function r(s){return Object(d.a)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",Object(v.i)("/api/admin/productables",Object(O.a)({method:"GET"},s||{})));case 1:case"end":return E.stop()}},r)})),g.apply(this,arguments)}function x(r,s){return j.apply(this,arguments)}function j(){return j=Object(p.a)(Object(d.a)().mark(function r(s,n){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(v.i)("/api/admin/productables/product",Object(O.a)({method:"GET",params:s},n||{})));case 1:case"end":return l.stop()}},r)})),j.apply(this,arguments)}function m(r,s,n){return L.apply(this,arguments)}function L(){return L=Object(p.a)(Object(d.a)().mark(function r(s,n,E){return Object(d.a)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",Object(v.i)("/api/admin/products/".concat(s,"/attach"),Object(O.a)({method:"POST",data:n},E||{})));case 1:case"end":return A.stop()}},r)})),L.apply(this,arguments)}function te(r,s,n){return Y.apply(this,arguments)}function Y(){return Y=Object(p.a)(Object(d.a)().mark(function r(s,n,E){return Object(d.a)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",Object(v.i)("/api/admin/products/".concat(s,"/detach"),Object(O.a)({method:"POST",data:n},E||{})));case 1:case"end":return A.stop()}},r)})),Y.apply(this,arguments)}},MvUh:function(me,f,e){},TWax:function(me,f,e){"use strict";var d=e("ozfa"),O=e("MJZm"),p=e("T2oS"),v=e("W9HT"),H=e("tJVT"),P=e("q1tI"),N=e.n(P),u=e("JifO"),T=e("nKUr"),c=e.n(T),B=function y(b){return b.subcategories&&b.subcategories.length?{title:b.name,key:b.id,children:b.subcategories.map(function(o){return y(o)})}:{title:b.name,key:b.id}},h=function(b){var o=b.value,g=b.onChange,x=b.multiple,j=x===void 0?!0:x,m=Object(P.useState)([]),L=Object(H.a)(m,2),te=L[0],Y=L[1];Object(P.useEffect)(function(){Object(u.c)().then(function(s){s.success&&Y(s.data)})},[]);var r=Object(P.useMemo)(function(){return te.map(function(s){return B(s)})},[te]);return te.length===0?Object(T.jsx)(v.a,{}):Object(T.jsx)(O.a,{multiple:j,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,style:{width:"100%"},checkedKeys:o,onCheck:function(n){if(typeof n=="object"&&!Array.isArray(n)&&n.checked){var E=n.checked;return g&&Array.isArray(E)&&g(E)}},treeData:r,disabled:te.length===0})};f.a=h},"UI+1":function(me,f,e){"use strict";e.r(f);var d=e("14J3"),O=e("BMrR"),p=e("jCWc"),v=e("kPKH"),H=e("T2oS"),P=e("W9HT"),N=e("miYZ"),u=e("tsqr"),T=e("qLMh"),c=e("k1fw"),B=e("9og8"),h=e("tJVT"),y=e("q1tI"),b=e("VMEa"),o=e("Qurx"),g=e("FJDo"),x=e("yj/a"),j=e("lR9U"),m=e("BiO0"),L=e("nhC9"),te=e("hd5d"),Y=e("tMyG"),r=e("9kvl"),s=e("Ty5D"),n=e("0WSk"),E=e("lJbd"),l=e("Gn8c"),A=e("TWax"),R=e("c+yx"),we=e("zjZ2"),Ge=e("q34N"),Me=e("VlvL"),Je=e("5RzD"),de=e("P2fV"),he=e("NJEC"),ae=e("5Dmo"),F=e("3S7+"),t=e("+L6B"),Z=e("2/Rp"),I=e("oBTY"),pe=e("0Owb"),ge=e("hUqB"),ze=e("wYyv"),Be=e("YJCA"),Se=e("eyie"),ut=e("xvlK"),rt=e("G3dp"),et=e("/MfK"),ot=e("CTl7"),Xe=e("Qiat"),nt=e("y8nQ"),ke=e("Vl3Y"),st=e("rmhi"),Ae=e("w/uu"),a=e("nKUr"),De=function(K){var V=Object(r.l)(),ie=K.visible,C=K.fields,z=K.onVisibleChange,fe=K.onFinish,ne=K.id,D=ke.a.useForm(),G=Object(h.a)(D,1),ce=G[0];return Object(y.useEffect)(function(){if(C){ce.setFieldsValue(C);return}ce.resetFields()},[C]),Object(a.jsx)(st.a,{form:ce,title:V.formatMessage({id:ne?"editSetting":"newSetting",defaultMessage:ne?"editSetting":"newSetting"}),width:"40vw",visible:ie,onVisibleChange:z,onFinish:function(J){return fe(Object(c.a)(Object(c.a)({},J),{},{id:(C==null?void 0:C.id)||null}))},children:Object(a.jsxs)(b.a.Group,{children:[Object(a.jsx)(o.a,{label:Object(a.jsx)(r.a,{id:"title",defaultMessage:"title"}),rules:[{required:!0}],width:"lg",name:"title"}),Object(a.jsx)(o.a,{label:Object(a.jsx)(r.a,{id:"subtitle",defaultMessage:"subtitle"}),rules:[{required:!0}],width:"lg",name:"subtitle"}),Object(a.jsx)(Ae.a,{name:"hour",label:Object(a.jsx)(r.a,{id:"hour",defaultMessage:"hour"}),rules:[{required:!0}],width:"xs"}),Object(a.jsx)(b.a.Item,{name:"tutors",label:Object(a.jsx)(r.a,{id:"tutors"}),rules:[{required:!0}],convertValue:function(J){return J},valuePropName:"value",children:Object(a.jsx)(n.a,{multiple:!0})}),Object(a.jsx)(m.a,{label:Object(a.jsx)(r.a,{id:"description",defaultMessage:"description"}),rules:[{required:!1}],width:"lg",name:"description"}),Object(a.jsx)(b.a.Item,{name:"asCandidate",hidden:!0})]})})},xe=De,Ie=e("VK58"),Ue=Object(Be.b)(function(Pe){return Object(a.jsx)("tr",Object(c.a)({},Pe))}),ye=Object(Be.a)(function(Pe){return Object(a.jsx)("tbody",Object(c.a)({},Pe))}),Le=Object(Be.c)(function(){return Object(a.jsx)(Se.a,{style:{cursor:"grab",color:"#999"}})}),Q=function(K){var V=K.data,ie=K.onCreate,C=Object(y.useRef)(),z=Object(y.useRef)(null),fe=Object(r.l)(),ne=Object(y.useState)([]),D=Object(h.a)(ne,2),G=D[0],ce=D[1],le=Object(y.useState)(null),J=Object(h.a)(le,2),_e=J[0],$=J[1],$e=Object(y.useState)(!1),ue=Object(h.a)($e,2),Re=ue[0],k=ue[1],ve=Object(y.useState)(V),qe=Object(h.a)(ve,2),He=qe[0],tt=qe[1],it=Object(y.useState)([]),Ne=Object(h.a)(it,2),be=Ne[0],se=Ne[1],Fe=Object(y.useState)(!1),Te=Object(h.a)(Fe,2),Ce=Te[0],oe=Te[1],Qe=[{title:"Sort",dataIndex:"sort",width:"5%",className:"drag-visible",render:function(){return Object(a.jsx)(Le,{})}},{width:"20%",title:Object(a.jsx)(r.a,{id:"title",defaultMessage:"Title"}),dataIndex:"title",hideInSearch:!0,renderText:function(i){return i.length>80?"".concat(i.slice(0,77),"..."):i}},{width:"20%",title:Object(a.jsx)(r.a,{id:"subtitle",defaultMessage:"subtitle"}),dataIndex:"subtitle",hideInSearch:!0,renderText:function(i){return i.length>80?"".concat(i.slice(0,77),"..."):i}},{width:"10%",title:Object(a.jsx)(r.a,{id:"hour",defaultMessage:"hour"}),dataIndex:"hour",hideInSearch:!0},{width:"15%",title:Object(a.jsx)(r.a,{id:"tutors",defaultMessage:"tutors"}),dataIndex:"tutors",hideInSearch:!0,renderText:function(i){return i.map(function(M){var _=M.first_name,w=M.last_name;return"".concat(_," ").concat(w)}).join(", ")}},{width:"18%",title:Object(a.jsx)(r.a,{id:"description",defaultMessage:"description"}),dataIndex:"description",hideInSearch:!0,renderText:function(i){return i?i.length>80?"".concat(i.trim().slice(0,77),"..."):i.trim():"-"}}],Ye=function(i){var M=i.oldIndex,_=i.newIndex;if(M!==_){var w=Object(ze.a)(G.slice(),M,_).filter(Boolean);ce(w)}},Ze=function(i){return Object(a.jsx)(ye,Object(c.a)({useDragHandle:!0,disableAutoscroll:!0,helperClass:"row-dragging",onSortEnd:Ye},i))},dt=function(i){var M,_=Object(pe.a)({},i),w=G.findIndex(function(ee){var S=ee.id;return S===_["data-row-key"]}),U=Object(c.a)(Object(c.a)({},_),{},{className:"".concat(_.className," ").concat((M=G[w])!==null&&M!==void 0&&M.asCandidate?"agenda-row-candidate":"")});return Object(a.jsx)(Ue,Object(c.a)({index:w},U))},Ee=function(){var W=Object(B.a)(Object(T.a)().mark(function i(M){var _,w,U;return Object(T.a)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return _=M.map(function(re){return Object(Ie.m)(re)}),S.next=3,Promise.all(_);case 3:return w=S.sent,S.next=6,w.map(function(re){return re.success?{id:re.data.id,first_name:re.data.first_name,last_name:re.data.last_name}:null});case 6:return U=S.sent,S.abrupt("return",U);case 8:case"end":return S.stop()}},i)}));return function(M){return W.apply(this,arguments)}}();return Object(y.useEffect)(function(){se([]),tt(V),$(null),oe(!1),z.current=null},[V]),Object(y.useEffect)(function(){Object(B.a)(Object(T.a)().mark(function W(){var i,M,_,w,U,ee;return Object(T.a)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(!(!He||!be)){re.next=2;break}return re.abrupt("return");case 2:return i=[].concat(Object(I.a)(He),Object(I.a)(be)).map(function(){var q=Object(B.a)(Object(T.a)().mark(function je(Ve){var at;return Object(T.a)().wrap(function(We){for(;;)switch(We.prev=We.next){case 0:return We.next=2,Ee(Ve.tutors);case 2:return at=We.sent,We.abrupt("return",Object(c.a)(Object(c.a)({},Ve),{},{tutors:at}));case 4:case"end":return We.stop()}},je)}));return function(je){return q.apply(this,arguments)}}()),re.next=5,Promise.all(i);case 5:M=re.sent,_=M.reduce(function(q,je,Ve,at){var lt=at.filter(function(ct){var jt=ct.id;return jt===je.id});if(lt.length>1){var We=lt.find(function(ct){return"asCandidate"in ct});if(!We)return[].concat(Object(I.a)(q),[lt[-1]]);var mt=We&&q.find(function(ct){var jt=ct.id;return jt===We.id});return mt?q:[].concat(Object(I.a)(q),[We])}return[].concat(Object(I.a)(q),[lt[0]])},[]),w=G.length?_.filter(function(q){var je=q.id;return G.findIndex(function(Ve){return Ve.id===je})===-1}):[],U=G.length?G.map(function(q){var je=_.findIndex(function(Ve){var at=Ve.id;return at===q.id});return _[je]}):_,ee=[].concat(Object(I.a)(U),Object(I.a)(w)),ce(ee.filter(Boolean));case 11:case"end":return re.stop()}},W)}))()},[He,be]),Object(y.useEffect)(function(){var W=G.map(function(_){var w=_.id,U=_.title,ee=_.subtitle,S=_.hour,re=_.description,q=_.tutors;return{id:w,title:U,subtitle:ee,hour:S,description:re,tutors:q.map(function(je){return je?je.id:null}).filter(Boolean)}});ie(JSON.stringify(W));var i=G.map(function(_){var w=_.id;return w});if(z.current===null){if(!i.length)return;z.current=i}if(i.length>z.current.length){var M=JSON.stringify(i.slice(0,z.current.length))!==JSON.stringify(z.current);if(oe(M),!M){z.current=i;return}}oe(JSON.stringify(i)!==JSON.stringify(z.current))},[G]),Object(a.jsxs)(Y.a,{header:{breadcrumb:{}},className:"agenda-container",children:[Object(a.jsx)(Xe.a,{className:"agenda-table",headerTitle:fe.formatMessage({id:"agenda",defaultMessage:"Agenda"}),actionRef:C,rowKey:function(i){return i.id},search:!1,toolBarRender:function(){return[Object(a.jsxs)(Z.a,{type:"primary",onClick:function(){return k(!0)},children:[Object(a.jsx)(ut.a,{})," ",Object(a.jsx)(r.a,{id:"new",defaultMessage:"new"})]},"primary")]},pagination:!1,dataSource:G,columns:[].concat(Qe,[{width:"12%",hideInSearch:!0,title:Object(a.jsx)(r.a,{id:"pages.searchTable.titleOption"}),dataIndex:"option",valueType:"option",render:function(i,M){return[Object(a.jsx)(Z.a,{type:"primary",icon:Object(a.jsx)(rt.a,{}),onClick:function(){if("asCandidate"in M){var w;$((w=be.find(function(ee){var S=ee.id;return S===M.id}))!==null&&w!==void 0?w:null)}else{var U;$((U=V.find(function(ee){var S=ee.id;return S===M.id}))!==null&&U!==void 0?U:null)}k(!0)}},"edit"),Object(a.jsx)(he.a,{title:Object(a.jsx)(r.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(B.a)(Object(T.a)().mark(function _(){return Object(T.a)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:if(!("asCandidate"in M)){U.next=3;break}return se(function(ee){return ee.filter(function(S){var re=S.id;return re!==M.id})}),U.abrupt("return");case 3:tt(function(ee){return ee.filter(function(S){var re=S.id;return re!==M.id})});case 4:case"end":return U.stop()}},_)})),okText:Object(a.jsx)(r.a,{id:"yes"}),cancelText:Object(a.jsx)(r.a,{id:"no"}),children:Object(a.jsx)(F.a,{title:Object(a.jsx)(r.a,{id:"delete",defaultMessage:"delete"}),children:Object(a.jsx)(Z.a,{type:"primary",icon:Object(a.jsx)(et.a,{}),danger:!0})})},"delete")]}}]),components:{body:{wrapper:Ze,row:dt}}}),!!be.length&&Object(a.jsxs)("div",{className:"legend",children:[Object(a.jsx)("div",{className:"legend__dot"}),Object(a.jsx)("p",{className:"legend__label",children:Object(a.jsx)(r.a,{id:"changesToBeApproved",defaultMessage:"Changes to be approved"})})]}),Ce&&Object(a.jsxs)("div",{className:"legend",children:[Object(a.jsx)(ot.a,{className:"legend__icon"}),Object(a.jsx)("p",{className:"legend__label",children:Object(a.jsx)(r.a,{id:"orderHasBeenChanged",defaultMessage:"Order has been changed"})})]}),Object(a.jsx)(xe,{name:Re,visible:Re,fields:_e,onVisibleChange:function(i){i===!1&&(k(!1),$(null))},onFinish:function(){var W=Object(B.a)(Object(T.a)().mark(function i(M){var _,w,U,ee,S;return Object(T.a)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:if(!M.id){q.next=9;break}return _="asCandidate"in M,w=_?be:V,U=w.find(function(je){var Ve=je.id;return Ve===M.id}),ee=U?JSON.stringify(U)!==JSON.stringify(M):!1,ee&&(S=_?be.map(function(je){return je.id===M.id?M:je}):[].concat(Object(I.a)(be),[Object(c.a)(Object(c.a)({},M),{},{asCandidate:!0})]),se(S)),$(null),k(!1),q.abrupt("return");case 9:se(function(je){return[].concat(Object(I.a)(je),[Object(c.a)(Object(c.a)({},M),{},{asCandidate:!0,id:Date.now()})])}),$(null),k(!1);case 12:case"end":return q.stop()}},i)}));return function(i){return W.apply(this,arguments)}}()})]})},X=Q,Ke=function(){var K,V=Object(r.l)(),ie=Object(s.l)(),C=ie.id,z=ie.tab,fe=z===void 0?"attributes":z,ne=C==="new",D=Object(y.useState)(null),G=Object(h.a)(D,2),ce=G[0],le=G[1],J=Object(y.useState)(!1),_e=Object(h.a)(J,2),$=_e[0],$e=_e[1],ue=Object(y.useState)(),Re=Object(h.a)(ue,2),k=Re[0],ve=Re[1],qe=b.a.useForm(),He=Object(h.a)(qe,1),tt=He[0],it=Object(y.useCallback)(Object(B.a)(Object(T.a)().mark(function be(){var se,Fe,Te;return Object(T.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return oe.next=2,Object(E.c)(Number(C));case 2:se=oe.sent,se.success&&ve(Object(c.a)(Object(c.a)({},se.data),{},{categories:se==null||(Fe=se.data)===null||Fe===void 0||(Te=Fe.categories)===null||Te===void 0?void 0:Te.map(R.c)}));case 4:case"end":return oe.stop()}},be)})),[C]);Object(y.useEffect)(function(){if(ne){ve({name:"..."});return}it()},[C]);var Ne=Object(y.useMemo)(function(){return{onFinish:function(){var be=Object(B.a)(Object(T.a)().mark(function Fe(Te){var Ce,oe,Qe,Ye,Ze;return Object(T.a)().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(Ce=Object(c.a)(Object(c.a)({},Te),{},{agenda:ce,authors:Te.authors&&Te.authors.map(R.a),categories:Te.categories&&Te.categories.map(R.a),image_url:k&&k.image_url,image_path:k&&k.image_path&&Object(R.f)(k.image_path)}),!ne){Ee.next=8;break}return Ee.next=4,Object(E.a)(Ce);case 4:oe=Ee.sent,oe.success&&($e(!1),r.f.push("/other/stationary-events/".concat(oe.data.id))),Ee.next=12;break;case 8:return Ee.next=10,Object(E.e)(Number(C),Ce);case 10:oe=Ee.sent,oe.success&&($e(!1),ve(Object(c.a)(Object(c.a)({},oe.data),{},{categories:(Qe=oe)===null||Qe===void 0||(Ye=Qe.data)===null||Ye===void 0||(Ze=Ye.categories)===null||Ze===void 0?void 0:Ze.map(R.c)})),r.f.push("/other/stationary-events/".concat(oe.data.id,"/").concat(fe)));case 12:u.b.success(oe.message);case 13:case"end":return Ee.stop()}},Fe)}));function se(Fe){return be.apply(this,arguments)}return se}(),initialValues:k}},[k,C,fe,ce]);return k?Object(a.jsx)(Y.a,{title:ne?Object(a.jsx)(r.a,{id:"stationary_event"}):Object(a.jsx)(r.a,{id:"stationary_event.edit"}),header:{breadcrumb:{routes:[{path:"other/stationary-events",breadcrumbName:V.formatMessage({id:"menu.Other activities.StationaryEvents"})},{path:String(C),breadcrumbName:V.formatMessage({id:"form"})},{path:"/",breadcrumbName:V.formatMessage({id:C==="new"?"new":"edit"})},{path:String(fe),breadcrumbName:V.formatMessage({id:String(fe)})}]}},children:Object(a.jsxs)(L.a,{tabs:{type:"card",activeKey:fe,onChange:function(se){return r.f.push("/other/stationary-events/".concat(C,"/").concat(se))}},children:[Object(a.jsxs)(L.a.TabPane,{tab:Object(a.jsx)(r.a,{id:"attributes"}),children:[Object(a.jsx)(Me.a,{show:$})," ",Object(a.jsxs)(b.a,Object(c.a)(Object(c.a)({},Ne),{},{form:tt,onValuesChange:function(){$e(!0)},children:[Object(a.jsxs)(b.a.Group,{children:[Object(a.jsx)(o.a,{width:"md",name:"name",label:Object(a.jsx)(r.a,{id:"name"}),tooltip:Object(a.jsx)(r.a,{id:"name_tooltip"}),placeholder:V.formatMessage({id:"name",defaultMessage:"name"}),required:!0}),Object(a.jsx)(o.a,{width:"md",name:"place",label:Object(a.jsx)(r.a,{id:"place"}),tooltip:Object(a.jsx)(r.a,{id:"place_tooltip"}),placeholder:V.formatMessage({id:"place",defaultMessage:"place"}),required:!0}),Object(a.jsx)(b.a.Item,{name:"authors",label:Object(a.jsx)(r.a,{id:"tutor"}),valuePropName:"value",children:Object(a.jsx)(n.a,{multiple:!0})}),Object(a.jsx)(g.a,{width:"xs",name:"max_participants",label:Object(a.jsx)(r.a,{id:"max_participants"}),tooltip:Object(a.jsx)(r.a,{id:"max_participants_tooltip"}),placeholder:V.formatMessage({id:"max_participants",defaultMessage:"max_participants"}),min:0,max:9999,fieldProps:{step:1}}),Object(a.jsx)(x.a,{name:"status",width:"md",label:Object(a.jsx)(r.a,{id:"status"}),tooltip:Object(a.jsx)(r.a,{id:"status_consultation_tooltip"}),valueEnum:{draft:V.formatMessage({id:"draft",defaultMessage:"draft"}),published:V.formatMessage({id:"published",defaultMessage:"published"}),archived:V.formatMessage({id:"archived",defaultMessage:"archived"})},initialValue:{draft:V.formatMessage({id:"draft",defaultMessage:"draft"})},placeholder:V.formatMessage({id:"status"}),rules:[{required:!0,message:Object(a.jsx)(r.a,{id:"select"})}]})]}),Object(a.jsxs)(b.a.Group,{children:[Object(a.jsx)(j.a,{width:"sm",name:"started_at",label:Object(a.jsx)(r.a,{id:"started_at"}),tooltip:Object(a.jsx)(r.a,{id:"started_at_tooltip"}),placeholder:V.formatMessage({id:"started_at",defaultMessage:"started_at"})}),Object(a.jsx)(j.a,{width:"sm",name:"finished_at",label:Object(a.jsx)(r.a,{id:"finished_at"}),tooltip:Object(a.jsx)(r.a,{id:"finished_at_tooltip"}),placeholder:V.formatMessage({id:"finished_at",defaultMessage:"finished_at"})})]}),Object(a.jsx)(b.a.Group,{children:Object(a.jsx)(m.a,{width:"lg",name:"short_desc",label:Object(a.jsx)(r.a,{id:"short_description"}),tooltip:Object(a.jsx)(r.a,{id:"short_description"})})}),Object(a.jsx)(b.a.Item,{name:"program",label:Object(a.jsx)(r.a,{id:"program"}),tooltip:Object(a.jsx)(r.a,{id:"program_tooltip"}),valuePropName:"value",children:Object(a.jsx)(te.a,{directory:"stationary_events/".concat(C,"/wysiwyg")})}),Object(a.jsx)(b.a.Item,{name:"description",label:Object(a.jsx)(r.a,{id:"description"}),tooltip:Object(a.jsx)(r.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(a.jsx)(te.a,{directory:"stationary_events/".concat(C,"/wysiwyg")})})]}))]},"attributes")," ",!ne&&Object(a.jsx)(L.a.TabPane,{tab:Object(a.jsx)(r.a,{id:"agenda"}),children:Object(a.jsx)(b.a,Object(c.a)(Object(c.a)({},Ne),{},{children:Object(a.jsx)(X,{data:(K=k.agenda)!==null&&K!==void 0?K:[],onCreate:function(se){return le(se)}})}))},"agenda"),!ne&&Object(a.jsx)(L.a.TabPane,{tab:Object(a.jsx)(r.a,{id:"product"}),children:C&&Object(a.jsx)(Ge.a,{productable:{class_type:"App\\Models\\StationaryEvent",class_id:C,name:String(k.name),quantity:1}})},"product"),!ne&&Object(a.jsx)(L.a.TabPane,{tab:Object(a.jsx)(r.a,{id:"media"}),children:Object(a.jsx)(b.a,Object(c.a)(Object(c.a)({},Ne),{},{children:Object(a.jsx)(l.a,{folder:"stationary-events/".concat(C),title:"image",action:"/api/admin/stationary-events/".concat(C,"/?_method=PUT"),src_name:"image_url",form_name:"image",getUploadedSrcField:function(se){return se.file.response.data.image_url},setPath:function(se){return ve(function(Fe){return Object(c.a)(Object(c.a)({},Fe),se)})}})}))},"media"),!ne&&Object(a.jsx)(L.a.TabPane,{tab:Object(a.jsx)(r.a,{id:"categories"}),children:Object(a.jsx)(O.a,{children:Object(a.jsx)(v.a,{span:12,children:Object(a.jsx)(b.a,Object(c.a)(Object(c.a)({},Ne),{},{children:Object(a.jsx)(b.a.Item,{label:Object(a.jsx)(r.a,{id:"categories"}),name:"categories",valuePropName:"value",children:Object(a.jsx)(A.a,{multiple:!1})})}))})})},"categories"),!ne&&Object(a.jsx)(L.a.TabPane,{tab:Object(a.jsx)(r.a,{id:"user_submission"}),children:Object(a.jsx)(O.a,{children:Object(a.jsx)(v.a,{span:12,children:C&&Object(a.jsx)(Je.a,{id:Number(C),type:"App\\Models\\StationaryEvent"})})})},"user_submission")]})}):Object(a.jsx)(P.a,{})},Oe=f.default=Ke},VlvL:function(me,f,e){"use strict";var d=e("9kvl"),O=e("Ty5D"),p=e("nKUr"),v=e.n(p),H=function(N){var u=N.show,T=Object(d.l)();return Object(p.jsx)(O.b,{when:u,message:T.formatMessage({id:"unsaved_changes"})})};f.a=H},hUqB:function(me,f,e){},hd5d:function(me,f,e){"use strict";var d=e("qLMh"),O=e("9og8"),p=e("q1tI"),v=e.n(p),H=e("3Ef1"),P=e.n(H),N=e("BAh9"),u=e("vtG9"),T=e.n(u),c=e("9kvl"),B=e("nKUr"),h=e.n(B),y=function(o){var g=o.value,x=o.onChange,j=o.directory,m=j===void 0?"/wysiwyg":j,L=Object(c.l)();return Object(B.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(B.jsx)(P.a,{uploadImage:function(){var te=Object(O.a)(Object(d.a)().mark(function Y(r){var s,n;return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(N.e)(r,m);case 2:if(s=l.sent,!s.success){l.next=6;break}return n=s.data[0].name.includes("/")?s.data[0].name:"".concat(m).concat(s.data[0].name),l.abrupt("return",Object(N.d)(n,1e3));case 6:throw new Error("Error while uploading");case 7:case"end":return l.stop()}},Y)}));return function(Y){return te.apply(this,arguments)}}(),defaultValue:g||"",onChange:function(Y){return x&&x(Y())},placeholder:L.formatMessage({id:"wysiwyg_placeholder"})})})};f.a=y},kMBS:function(me,f,e){"use strict";e.d(f,"a",function(){return H});var d=e("qLMh"),O=e("k1fw"),p=e("9og8"),v=e("9kvl");function H(N){return P.apply(this,arguments)}function P(){return P=Object(p.a)(Object(d.a)().mark(function N(u){return Object(d.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",Object(v.i)("/api/tags/unique",Object(O.a)({method:"GET",useCache:!1},u||{})));case 1:case"end":return c.stop()}},N)})),P.apply(this,arguments)}},lJbd:function(me,f,e){"use strict";e.d(f,"d",function(){return H}),e.d(f,"a",function(){return N}),e.d(f,"c",function(){return T}),e.d(f,"e",function(){return B}),e.d(f,"b",function(){return y});var d=e("qLMh"),O=e("k1fw"),p=e("9og8"),v=e("9kvl");function H(o,g){return P.apply(this,arguments)}function P(){return P=Object(p.a)(Object(d.a)().mark(function o(g,x){return Object(d.a)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",Object(v.i)("/api/admin/stationary-events",Object(O.a)({method:"GET",params:Object(O.a)(Object(O.a)({},g),{},{per_page:g.pageSize,page:g.current})},x||{})));case 1:case"end":return m.stop()}},o)})),P.apply(this,arguments)}function N(o,g){return u.apply(this,arguments)}function u(){return u=Object(p.a)(Object(d.a)().mark(function o(g,x){return Object(d.a)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",Object(v.i)("/api/admin/stationary-events",Object(O.a)({method:"POST",headers:{"Content-Type":"application/json"},data:g},x||{})));case 1:case"end":return m.stop()}},o)})),u.apply(this,arguments)}function T(o,g){return c.apply(this,arguments)}function c(){return c=Object(p.a)(Object(d.a)().mark(function o(g,x){return Object(d.a)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",Object(v.i)("/api/admin/stationary-events/".concat(g),Object(O.a)({method:"GET"},x||{})));case 1:case"end":return m.stop()}},o)})),c.apply(this,arguments)}function B(o,g,x){return h.apply(this,arguments)}function h(){return h=Object(p.a)(Object(d.a)().mark(function o(g,x,j){return Object(d.a)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",Object(v.i)("/api/admin/stationary-events/".concat(g,"?_method=PUT"),Object(O.a)({method:"POST",headers:{"Content-Type":"application/json"},data:x},j||{})));case 1:case"end":return L.stop()}},o)})),h.apply(this,arguments)}function y(o,g){return b.apply(this,arguments)}function b(){return b=Object(p.a)(Object(d.a)().mark(function o(g,x){return Object(d.a)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",Object(v.i)("/api/admin/stationary-events/".concat(g),Object(O.a)({method:"DELETE",useCache:!1},x||{})));case 1:case"end":return m.stop()}},o)})),b.apply(this,arguments)}},q34N:function(me,f,e){"use strict";var d=e("tJVT"),O=e("0eZe"),p=e("q1tI"),v=e.n(p),H=e("nKUr"),P=e.n(H),N=function(T){var c=T.productable,B=T.type,h=B===void 0?"card":B,y=Object(p.useState)("attributes"),b=Object(d.a)(y,2),o=b[0],g=b[1];return Object(H.jsx)(O.a,{productable:c,tab:o,onTabChange:function(j){return g(j)},type:h})};f.a=N},qSko:function(me,f,e){"use strict";var d=e("OaEy"),O=e("2fM7"),p=e("T2oS"),v=e("W9HT"),H=e("tJVT"),P=e("q1tI"),N=e.n(P),u=e("DVQu"),T=e("9kvl"),c=e("nKUr"),B=e.n(c),h=function(b){var o=b.value,g=b.onChange,x=b.multiple,j=x===void 0?!1:x,m=b.type,L=Object(P.useState)([]),te=Object(H.a)(L,2),Y=te[0],r=te[1],s=Object(P.useState)(!1),n=Object(H.a)(s,2),E=n[0],l=n[1],A=Object(P.useState)([]),R=Object(H.a)(A,2),we=R[0],Ge=R[1],Me=Object(P.useRef)(),Je=Object(P.useCallback)(function(){l(!0),Me.current&&Me.current.abort(),Me.current=new AbortController,Object(u.h)({productable_type:m},{signal:Me.current.signal}).then(function(de){de.success&&r(m?de.data.filter(function(he){return he.type==="single"&&he.productables&&he.productables[0].id}):de.data),l(!1)}).catch(function(){return l(!1)})},[]);return Object(P.useEffect)(function(){var de=new AbortController;if(o){var he=Array.isArray(o)?o:[o],ae=he.map(function(F){return typeof F=="object"?Number(F.id):Number(F)});Ge(ae)}return function(){de.abort()}},[o]),Object(c.jsx)(O.a,{onFocus:function(){return Je()},allowClear:!0,style:{width:"100%",minWidth:"150px"},value:we,onChange:g,mode:j?"multiple":void 0,showSearch:!0,placeholder:Object(c.jsx)(T.a,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(he,ae){if(ae&&ae.children){var F;return(ae==null||(F=ae.children)===null||F===void 0?void 0:F.toString().toLowerCase().indexOf(he&&he.toLowerCase()||""))>=0}return!1},notFoundContent:E?Object(c.jsx)(v.a,{size:"small"}):null,children:Y.map(function(de){return Object(c.jsx)(O.a.Option,{value:de.id,children:de.name},de.id)})})};f.a=h},rWUb:function(me,f,e){"use strict";e.d(f,"e",function(){return H}),e.d(f,"d",function(){return N}),e.d(f,"a",function(){return T}),e.d(f,"h",function(){return B}),e.d(f,"b",function(){return y}),e.d(f,"i",function(){return o}),e.d(f,"c",function(){return x}),e.d(f,"f",function(){return m}),e.d(f,"g",function(){return te});var d=e("qLMh"),O=e("k1fw"),p=e("9og8"),v=e("9kvl");function H(r,s){return P.apply(this,arguments)}function P(){return P=Object(p.a)(Object(d.a)().mark(function r(s,n){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(v.i)("/api/admin/templates",Object(O.a)({method:"GET",useCache:!1,params:Object(O.a)(Object(O.a)({},s),{},{per_page:s&&s.pageSize,page:s&&s.current})},n||{})));case 1:case"end":return l.stop()}},r)})),P.apply(this,arguments)}function N(r,s){return u.apply(this,arguments)}function u(){return u=Object(p.a)(Object(d.a)().mark(function r(s,n){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(v.i)("/api/admin/templates/".concat(s),Object(O.a)({method:"GET"},n||{})));case 1:case"end":return l.stop()}},r)})),u.apply(this,arguments)}function T(r,s){return c.apply(this,arguments)}function c(){return c=Object(p.a)(Object(d.a)().mark(function r(s,n){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(v.i)("/api/admin/templates",Object(O.a)({method:"POST",headers:{"Content-Type":"application/json"},data:s},n||{})));case 1:case"end":return l.stop()}},r)})),c.apply(this,arguments)}function B(r,s,n){return h.apply(this,arguments)}function h(){return h=Object(p.a)(Object(d.a)().mark(function r(s,n,E){return Object(d.a)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",Object(v.i)("/api/admin/templates/".concat(s),Object(O.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:n},E||{})));case 1:case"end":return A.stop()}},r)})),h.apply(this,arguments)}function y(r,s){return b.apply(this,arguments)}function b(){return b=Object(p.a)(Object(d.a)().mark(function r(s,n){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(v.i)("/api/admin/templates/".concat(s),Object(O.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},n||{})));case 1:case"end":return l.stop()}},r)})),b.apply(this,arguments)}function o(r){return g.apply(this,arguments)}function g(){return g=Object(p.a)(Object(d.a)().mark(function r(s){return Object(d.a)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",Object(v.i)("/api/admin/templates/variables",Object(O.a)({method:"GET"},s||{})));case 1:case"end":return E.stop()}},r)})),g.apply(this,arguments)}function x(r,s){return j.apply(this,arguments)}function j(){return j=Object(p.a)(Object(d.a)().mark(function r(s,n){return Object(d.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(v.i)("/api/admin/templates/".concat(s,"/preview"),Object(O.a)({method:"GET"},n||{})));case 1:case"end":return l.stop()}},r)})),j.apply(this,arguments)}function m(r,s,n){return L.apply(this,arguments)}function L(){return L=Object(p.a)(Object(d.a)().mark(function r(s,n,E){return Object(d.a)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",Object(v.i)("/api/admin/events/trigger-manually/".concat(s),Object(O.a)({method:"POST",headers:{"Content-Type":"application/json"},data:{users:n}},E||{})));case 1:case"end":return A.stop()}},r)})),L.apply(this,arguments)}function te(r,s,n){return Y.apply(this,arguments)}function Y(){return Y=Object(p.a)(Object(d.a)().mark(function r(s,n,E){return Object(d.a)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",Object(v.i)("/api/admin/products/".concat(n,"/trigger-event-manually/").concat(s),Object(O.a)({method:"POST",headers:{"Content-Type":"application/json"}},E||{})));case 1:case"end":return A.stop()}},r)})),Y.apply(this,arguments)}},rnuo:function(me,f,e){"use strict";var d=e("tJVT"),O=e("OaEy"),p=e("2fM7"),v=e("q1tI"),H=e.n(v),P=e("kMBS"),N=e("nKUr"),u=e.n(N),T=p.a.Option,c=function(h){var y=h.value,b=h.onChange,o=Object(v.useState)([]),g=Object(d.a)(o,2),x=g[0],j=g[1];return Object(v.useEffect)(function(){Object(P.a)().then(function(m){return j(m.data)})},[]),Object(N.jsx)(p.a,{mode:"tags",showSearch:!0,style:{width:"100%"},placeholder:"Select a Tag",optionFilterProp:"children",onChange:b,value:y,children:x.map(function(m){return Object(N.jsx)(T,{value:m.title,children:m.title},m.title)})})};f.a=c},vtG9:function(me,f,e){},vzes:function(me,f,e){"use strict";var d=e("OaEy"),O=e("2fM7"),p=e("+BJd"),v=e("mr32"),H=e("T2oS"),P=e("W9HT"),N=e("tJVT"),u=e("q1tI"),T=e.n(u),c=e("9kvl"),B=e("DVQu"),h=e("nKUr"),y=e.n(h),b=function(j){return"".concat(j.productable_type,":").concat(j.productable_id,":").concat(j.name)},o=function(j){return"".concat(j.class,":").concat(j.id,":").concat(j.name)},g=function(j){var m=j.value,L=j.onChange,te=j.multiple,Y=te===void 0?!1:te,r=j.disabled,s=r===void 0?!1:r,n=Object(u.useState)([]),E=Object(N.a)(n,2),l=E[0],A=E[1],R=Object(u.useState)(!1),we=Object(N.a)(R,2),Ge=we[0],Me=we[1],Je=Object(u.useState)([]),de=Object(N.a)(Je,2),he=de[0],ae=de[1],F=Object(u.useRef)(),t=Object(u.useCallback)(function(){Me(!0),F.current&&F.current.abort(),F.current=new AbortController,Object(B.g)({signal:F.current.signal}).then(function(Z){Z.success&&A(Z.data),Me(!1)}).catch(function(){return Me(!1)})},[]);return Object(u.useEffect)(function(){t()},[]),Object(u.useEffect)(function(){var Z=new AbortController;if(m){var I=Array.isArray(m)?m:[m],pe=I.map(function(ge){return typeof ge=="object"?o(ge):String(ge)});ae(pe)}return function(){Z.abort()}},[m]),Object(h.jsx)(O.a,{disabled:s,allowClear:!0,style:{width:"100%",minWidth:"150px"},value:he,onChange:L,mode:Y?"multiple":void 0,showSearch:!0,placeholder:Object(h.jsx)(c.a,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(I,pe){if(pe&&pe.children){var ge;return(pe==null||(ge=pe.children)===null||ge===void 0?void 0:ge.toString().toLowerCase().indexOf(I&&I.toLowerCase()||""))>=0}return!1},notFoundContent:Ge?Object(h.jsx)(P.a,{size:"small"}):null,children:l.map(function(Z){var I=b(Z);return Object(h.jsxs)(O.a.Option,{value:I,children:[Object(h.jsx)(v.a,{children:Object(h.jsx)(c.a,{id:Z.productable_type.split("\\").pop(),defaultMessage:Z.productable_type.split("\\").pop()})})," ",Z.name," ",Object(h.jsxs)("small",{children:["id:",Z.productable_id]})," "]},I)})})};f.a=g},zjZ2:function(me,f,e){}}]);
