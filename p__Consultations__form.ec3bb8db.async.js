(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8047],{86615:function(q,I,e){"use strict";var i=e(1413),s=e(45987),b=e(22270),a=e(55742),K=e(67294),g=e(90789),T=e(41550),f=e(85893),h=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],_=K.forwardRef(function(d,H){var O=d.fieldProps,A=d.options,te=d.radioType,t=d.layout,D=d.proFieldProps,ne=d.valueEnum,j=(0,s.Z)(d,h);return(0,f.jsx)(T.Z,(0,i.Z)((0,i.Z)({valueType:te==="button"?"radioButton":"radio",ref:H,valueEnum:(0,b.h)(ne,void 0)},j),{},{fieldProps:(0,i.Z)({options:A,layout:t},O),proFieldProps:D,filedConfig:{customLightMode:!0}}))}),m=K.forwardRef(function(d,H){var O=d.fieldProps,A=d.children;return(0,f.jsx)(a.ZP,(0,i.Z)((0,i.Z)({},O),{},{ref:H,children:A}))}),w=(0,g.G)(m,{valuePropName:"checked",ignoreWidth:!0}),x=w;x.Group=_,x.Button=a.ZP.Button,x.displayName="ProFormComponent",I.Z=x},48959:function(q,I,e){"use strict";var i=e(28248),s=e(80854),b=e(85893),a=function(g){var T=g.open,f=g.onOk,h=g.onCancel,_=g.title,m=g.content,w=g.okText,x=g.loading;return(0,b.jsx)(i.Z,{width:"600px",title:_!=null?_:(0,b.jsx)(s.FormattedMessage,{id:"confirmModal.title"}),open:T,onOk:f,onCancel:h,okText:w!=null?w:(0,b.jsx)(s.FormattedMessage,{id:"save"}),cancelText:(0,b.jsx)(s.FormattedMessage,{id:"cancel"}),confirmLoading:x,children:m!=null?m:(0,b.jsx)("p",{children:(0,b.jsx)(s.FormattedMessage,{id:"confirmModal.content"})})})};I.Z=a},28225:function(q,I,e){"use strict";var i=e(28248),s=e(80854),b=e(85893),a=function(g){var T=g.visible,f=g.setManage;return(0,b.jsx)(i.Z,{width:"600px",title:(0,b.jsx)(s.FormattedMessage,{id:"course.validate_edit.header",defaultMessage:"course.validate_edit.header"}),visible:T,onOk:function(){return f({showModal:!1,disableEdit:!1,clicked:!0})},onCancel:function(){return f({showModal:!1,disableEdit:!0,clicked:!1})},okText:"OK",cancelText:"Cancel",children:(0,b.jsx)("p",{children:(0,b.jsx)(s.FormattedMessage,{id:"course.validate_edit.content",defaultMessage:"course.validate_edit.content"})})})};I.Z=a},23535:function(q,I,e){"use strict";var i=e(97857),s=e.n(i),b=e(9783),a=e.n(b),K=e(14726),g=e(95830),T=e(67294),f=e(82238),h=e(34994),_=e(80854),m=e(85893),w=function(d){var H=d.title,O=d.action,A=d.form_name,te=d.src_name,t=d.getUploadedSrcField,D=d.setPath,ne=d.wrapInForm,j=ne===void 0?!0:ne,y=d.folder,W=d.proFormGroupProps,ee=d.hideLabel,P=ee===void 0?!1:ee;return(0,m.jsxs)(h.A.Group,s()(s()({title:(0,m.jsx)(_.FormattedMessage,{id:H})},W),{},{children:[(0,m.jsx)(h.A.Item,{shouldUpdate:!0,children:function(ce){return(0,m.jsxs)(T.Fragment,{children:[(0,m.jsx)(f.Z,{folder:y,wrapInForm:j,accept:"image/*",name:A,url:O,onChange:function(oe){if(oe.file.status==="done"){var ge;ce.setFieldsValue(a()({},te,t(oe))),(ge=oe.file.response)!==null&&ge!==void 0&&ge.success&&D(a()(a()({},"".concat(A,"_url"),oe.file.response.data["".concat(A,"_url")]),"".concat(A,"_path"),oe.file.response.data["".concat(A,"_path")]))}},hideLabel:P}),(0,m.jsx)(K.ZP,{danger:!0,onClick:function(){return[D(a()(a()({},"".concat(A,"_url"),""),"".concat(A,"_path"),"")),ce.setFieldsValue(a()({},te,""))]},children:(0,m.jsx)(_.FormattedMessage,{id:"delete"})})]})}}),(0,m.jsx)(h.A.Item,{shouldUpdate:!0,children:function(ce){return(0,m.jsx)(g.Z,{width:200,src:ce.getFieldValue(te)})}})]}))};I.Z=w},53957:function(q,I,e){"use strict";var i=e(5574),s=e.n(i),b=e(50082),a=e(67294),K=e(85893),g=function(f){var h=f.productable,_=f.type,m=_===void 0?"card":_,w=(0,a.useState)("attributes"),x=s()(w,2),d=x[0],H=x[1];return(0,K.jsx)(b.Z,{productable:h,tab:d,onTabChange:function(A){return H(A)},type:m})};I.C=g},67541:function(q,I,e){"use strict";var i=e(52677),s=e.n(i),b=e(5574),a=e.n(b),K=e(83863),g=e(75081),T=e(66309),f=e(67294),h=e(80854),_=e(44837),m=e(85893),w=function(O){return"".concat(O.productable_type,":").concat(O.productable_id,":").concat(O.name)},x=function(O){return"".concat(O.class,":").concat(O.id,":").concat(O.name)},d=function(O){var A=O.value,te=O.onChange,t=O.multiple,D=t===void 0?!1:t,ne=O.disabled,j=ne===void 0?!1:ne,y=(0,f.useState)([]),W=a()(y,2),ee=W[0],P=W[1],X=(0,f.useState)(!1),ce=a()(X,2),xe=ce[0],oe=ce[1],ge=(0,f.useState)([]),me=a()(ge,2),n=me[0],Oe=me[1],be=(0,f.useRef)(),l=(0,f.useCallback)(function(){oe(!0),be.current&&be.current.abort(),be.current=new AbortController,(0,_.rc)({signal:be.current.signal}).then(function(r){r.success&&P(r.data),oe(!1)}).catch(function(){return oe(!1)})},[]);return(0,f.useEffect)(function(){l()},[]),(0,f.useEffect)(function(){var r=new AbortController;if(A){var p=Array.isArray(A)?A:[A],u=p.map(function(v){return s()(v)==="object"?x(v):String(v)});Oe(u)}return function(){r.abort()}},[A]),(0,m.jsx)(K.default,{disabled:j,allowClear:!0,style:{width:"100%",minWidth:"150px"},value:n,onChange:te,mode:D?"multiple":void 0,showSearch:!0,placeholder:(0,m.jsx)(h.FormattedMessage,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(p,u){if(u&&u.children){var v;return(u==null||(v=u.children)===null||v===void 0?void 0:v.toString().toLowerCase().indexOf(p&&p.toLowerCase()||""))>=0}return!1},notFoundContent:xe?(0,m.jsx)(g.Z,{size:"small"}):null,children:ee.map(function(r){var p=w(r);return(0,m.jsxs)(K.default.Option,{value:p,children:[(0,m.jsx)(T.Z,{children:(0,m.jsx)(h.FormattedMessage,{id:r.productable_type.split("\\").pop(),defaultMessage:r.productable_type.split("\\").pop()})})," ",r.name," ",(0,m.jsxs)("small",{children:["id:",r.productable_id]})," "]},p)})})};I.Z=d},14408:function(q,I,e){"use strict";e.d(I,{Z:function(){return T}});var i=e(97857),s=e.n(i),b=e(5574),a=e.n(b),K=e(2254),g=e(67294);function T(){var f=(0,g.useState)({showModal:!1,disableEdit:!1,clicked:!1}),h=a()(f,2),_=h[0],m=h[1],w=function(d){(d==null?void 0:d.status)==="published"&&d!==null&&d!==void 0&&d.active_from&&(0,K.C)(new Date(d==null?void 0:d.active_from))&&!_.clicked?m(s()(s()({},_),{},{showModal:!1,disableEdit:!0,clicked:!1})):m(s()(s()({},_),{},{showModal:!1,disableEdit:!1,clicked:!1}))};return{manageCourseEdit:_,setManageCourseEdit:m,validateCourseEdit:w}}},23961:function(q,I,e){"use strict";e.r(I),e.d(I,{default:function(){return C}});var i=e(15009),s=e.n(i),b=e(97857),a=e.n(b),K=e(99289),g=e.n(K),T=e(5574),f=e.n(T),h=e(26271),_=e(952),m=e(5966),w=e(64317),x=e(50335),d=e(2453),H=e(75081),O=e(38925),A=e(14726),te=e(71230),t=e(15746),D=e(67294),ne=e(19411),j=e(74453),y=e(7418),W=e(48959),ee=e(28225),P=e(19632),X=e.n(P),ce=e(66309),xe=e(83863),oe=e(41606),ge=e(27484),me=e.n(ge),n=e(85893),Oe=function(S){return S.local().valueOf()},be=function(S){var $=S.value,E=$===void 0?[]:$,Q=S.onChange,G=S.format,k=G===void 0?"DD-MM-YYYY HH:mm":G,le=S.selectProps,fe=le===void 0?{}:le,R=(0,D.useState)(!1),re=f()(R,2),pe=re[0],c=re[1],L=(0,D.useCallback)(function(N){var z=Oe(N),U=E.indexOf(z),B=X()(E);U>-1?B.splice(U,1):B.push(z),Q(B)},[E]),F=(0,D.useCallback)(function(N){var z=E.indexOf(Oe(N))>-1;return(0,n.jsx)("div",{className:"ant-picker-cell-inner",style:z?{position:"relative",zIndex:2,display:"inlineBlock",width:"24px",height:"22px",lineHeight:"22px",backgroundColor:"#1890ff",color:"#fff",margin:"auto",borderRadius:"2px",transition:"background 0.3s, border 0.3s"}:{},children:N.date()})},[E]),Y=(0,D.useCallback)(function(N){var z=N.value,U=N.onClose,B=function(){U(),Q(E.filter(function(ue){return ue!==z}))};return(0,n.jsx)(ce.Z,{onClose:B,closable:!0,children:me()(z).format(k)})},[E]),de=function(){return{disabledMinutes:function(){return Array.from({length:59},function(U,B){return B+1})}}};return(0,n.jsx)(xe.default,a()(a()({},fe),{},{allowClear:!0,mode:"multiple",value:E,onClear:function(){return Q&&Q([])},tagRender:Y,open:pe,onFocus:function(){return c(!0)},onBlur:function(){return c(!1)},dropdownMatchSelectWidth:!1,dropdownClassName:"multipleDropdownClassName",dropdownStyle:{height:"310px",width:"335px",minWidth:"0"},dropdownRender:function(){return(0,n.jsx)(oe.default,{disabledDate:function(U){var B=new Date;return U.valueOf()<=B.setDate(B.getDate()-1)},showTime:{format:"HH"},disabledTime:de,onChange:function(U){return U&&L(U)},open:!0,dateRender:F,style:{visibility:"hidden"},getPopupContainer:function(U){var B=U.parentNode;return B},defaultValue:me()("00:00","HH")})}}))},l=be,r=e(23535),p=e(53957),u=e(44167),v=e(54434),se=function(M){return M.draft="draft",M.published="published",M.archived="archived",M}({}),ae=e(14408),J=e(51490),ie=e(66419),o=e(80854),Ee=e(49677),De=e.n(Ee),he=e(40411),V=e(83062),Me=e(31156),Ce=e(16894),Ae=function(S){var $=S.data,E=S.onChange,Q=(0,D.useState)(!1),G=f()(Q,2),k=G[0],le=G[1],fe=(0,D.useState)(me()($.date)),R=f()(fe,2),re=R[0],pe=R[1],c=(0,D.useCallback)(function(L){pe(me()(L)),le(!0),(0,J.YG)($.consultation_term_id,L).then(function(F){F.success?(d.ZP.success(F.message),E(re)):d.ZP.error(F.message)}).catch(function(F){return d.ZP.error(F.toString())}).finally(function(){return le(!1)})},[re]);return(0,n.jsx)(D.Fragment,{children:(0,n.jsx)(oe.default,{disabledDate:function(F){var Y=new Date;return F&&F.valueOf()<=Y.setDate(Y.getDate()-1)},disabled:k,value:re,showTime:{format:"HH"},onChange:function(F){F&&c(F.toISOString())}})})},Ie={reported:"warning",reject:"error",approved:"success"},Te=[{title:(0,n.jsx)(o.FormattedMessage,{id:"ID",defaultMessage:"ID"}),dataIndex:"consultation_term_id",hideInSearch:!0,sorter:!0,width:"80px"},{title:(0,n.jsx)(o.FormattedMessage,{id:"user",defaultMessage:"user"}),dataIndex:"user",render:function(S,$){var E,Q,G;return"".concat((E=$.user)===null||E===void 0?void 0:E.first_name," ").concat((Q=$.user)===null||Q===void 0?void 0:Q.last_name," ").concat((G=$.user)===null||G===void 0?void 0:G.email)},sorter:!0},{title:(0,n.jsx)(o.FormattedMessage,{id:"date",defaultMessage:"date"}),dataIndex:"date",sorter:!0,render:function(S,$){return me()($.date).format("yyyy-MM-DD HH:mm")}},{title:(0,n.jsx)(o.FormattedMessage,{id:"status",defaultMessage:"status"}),dataIndex:"status",sorter:!0,render:function(S,$){return(0,n.jsx)(he.Z,{status:Ie[$.status],text:(0,n.jsx)(o.FormattedMessage,{id:$.status})})}}],ye=function(S){var $=S.consultation,E=(0,D.useState)(!1),Q=f()(E,2),G=Q[0],k=Q[1],le=(0,D.useState)([]),fe=f()(le,2),R=fe[0],re=fe[1],pe=(0,o.useIntl)(),c=(0,D.useCallback)(function(){k(!0),(0,J.MP)($).then(function(F){F.success&&re(F.data)}).catch(function(){d.ZP.error((0,n.jsx)(o.FormattedMessage,{id:"error",defaultMessage:"error"}))}).finally(function(){return k(!1)})},[$]);(0,D.useEffect)(function(){c()},[$]);var L=(0,D.useCallback)(function(F){return(0,n.jsx)("ul",{className:"events",children:R.map(function(Y){if(F.format("yyyy-MM-DD")===me()(Y.date).format("yyyy-MM-DD")){var de,N,z,U;return(0,n.jsx)("li",{children:(0,n.jsx)(he.Z,{status:Ie[Y.status],text:(0,n.jsx)(D.Fragment,{children:(0,n.jsxs)(V.Z,{title:"".concat((de=Y.user)===null||de===void 0?void 0:de.first_name," ").concat((N=Y.user)===null||N===void 0?void 0:N.last_name," ").concat((z=Y.user)===null||z===void 0?void 0:z.email),children:[(0,n.jsx)("small",{children:me()(Y.date).format("HH:mm")})," ",(U=Y.user)===null||U===void 0?void 0:U.email]})})})},Y.consultation_term_id)}return null})})},[R]);return(0,n.jsxs)(D.Fragment,{children:[G&&(0,n.jsx)(H.Z,{}),(0,n.jsx)(Me.Z,{dateCellRender:L}),G?(0,n.jsx)(H.Z,{}):(0,n.jsx)(Ce.ZP,{headerTitle:pe.formatMessage({id:"Consultations",defaultMessage:"Consultations"}),loading:G,rowKey:"consultation_term_id",search:!1,request:function(){var F=g()(s()().mark(function Y(de,N){var z,U;return s()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return De()(de),z=N&&Object.entries(N)[0],U=R,z&&(U=(0,ie.Pf)(U,z[0],z[1]!=="ascend")),Z.abrupt("return",{data:U,total:U.length,success:!0});case 5:case"end":return Z.stop()}},Y)}));return function(Y,de){return F.apply(this,arguments)}}(),columns:[].concat(Te,[{title:(0,n.jsx)(o.FormattedMessage,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"20%",render:function(Y,de){return[(0,n.jsx)(Ae,{data:de,onChange:function(){return c()}},"change_date")]}}])})]})},Se=ye,_e=function(M){return M.ATTRIBUTES="attributes",M.PRODUCT="product",M.MEDIA="media",M.CATEGORIES="categories",M.BRANDING="branding",M.USER_SUBMISSION="user_submission",M.CALENDAR="calendar",M}(_e||{}),Le=function(){var S=(0,o.useIntl)(),$=(0,o.useParams)(),E=$.consultation,Q=$.tab,G=Q===void 0?"attributes":Q,k=E==="new",le=(0,D.useState)(),fe=f()(le,2),R=fe[0],re=fe[1],pe=(0,ae.Z)(),c=pe.manageCourseEdit,L=pe.setManageCourseEdit,F=pe.validateCourseEdit,Y=_.ZP.useForm(),de=f()(Y,1),N=de[0],z=(0,D.useCallback)(g()(s()().mark(function B(){var Z,ue;return s()().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,(0,J.hW)(Number(E));case 2:Z=Pe.sent,Z.success&&(G==="attributes"&&F(Z.data),re(a()(a()({},Z.data),{},{author_id:Z.data.author&&Z.data.author.id,categories:(ue=Z.data.categories)===null||ue===void 0?void 0:ue.map(ie.i4)})));case 4:case"end":return Pe.stop()}},B)})),[E]);(0,D.useEffect)(function(){if(k){re({name:"new"});return}z()},[E]);var U=(0,D.useMemo)(function(){return{onValuesChange:function(){L(a()(a()({},c),{},{valuesChanged:!0}))},onFinish:function(){var B=g()(s()().mark(function ue(Re){var Pe,je;return s()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:if(!c.disableEdit){ve.next=3;break}return L({showModal:!0,disableEdit:!0,clicked:!1}),ve.abrupt("return");case 3:if(Pe=a()(a()({},Re),{},{image_url:R&&R.image_url,image_path:R&&R.image_url&&(0,ie.Ox)(R.image_url),logotype_url:R&&R.logotype_url,logotype_path:R&&R.logotype_path&&(0,ie.Ox)(R.logotype_path)}),!k){ve.next=11;break}return ve.next=7,(0,J.YS)(Pe);case 7:je=ve.sent,je.success&&o.history.push("/other/consultations/".concat(je.data.id)),ve.next=15;break;case 11:return ve.next=13,(0,J.hR)(Number(E),Pe);case 13:je=ve.sent,je.success&&(F(je.data),o.history.push("/other/consultations/".concat(je.data.id,"/").concat(G)));case 15:d.ZP.success(je.message),L(a()(a()({},c),{},{showConfirmModal:!1,loading:!1,valuesChanged:!1}));case 17:case"end":return ve.stop()}},ue)}));function Z(ue){return B.apply(this,arguments)}return Z}(),initialValues:R}},[R,E,G,c]);return R?(0,n.jsxs)(j._z,{title:k?(0,n.jsx)(o.FormattedMessage,{id:"consultation"}):(0,n.jsx)(o.FormattedMessage,{id:"consultations.edit"}),header:{breadcrumb:{routes:[{path:"other/consultations",breadcrumbName:S.formatMessage({id:"menu.Other activities.Consultations"})},{path:String(E),breadcrumbName:S.formatMessage({id:"form"})},{path:"/",breadcrumbName:String(R.name)},{path:String(G),breadcrumbName:String(R.name)}]}},children:[(0,n.jsxs)(h.ZP,{tabs:{type:"card",activeKey:G,onChange:function(Z){Z!==_e.ATTRIBUTES&&c.valuesChanged?L(a()(a()({},c),{},{showConfirmModal:!0})):o.history.push("/other/consultations/".concat(E,"/").concat(Z))}},children:[(0,n.jsxs)(h.ZP.TabPane,{tab:(0,n.jsx)(o.FormattedMessage,{id:"attributes"}),children:[c.disableEdit&&(0,n.jsx)(O.Z,{closable:!0,style:{marginBottom:"20px"},type:"warning",message:(0,n.jsx)(o.FormattedMessage,{id:"course_edit_warning_message",defaultMessage:"course_edit_warning_message"}),action:(0,n.jsx)(A.ZP,{onClick:function(){return L({showModal:!0,disableEdit:!0,clicked:!0})},type:"primary",children:(0,n.jsx)(o.FormattedMessage,{id:"questionnaire.submit",defaultMessage:"questionnaire.submit"})})}),(0,n.jsx)(ee.Z,{visible:c.showModal,setManage:L}),(0,n.jsxs)(_.ZP,a()(a()({},U),{},{form:N,children:[(0,n.jsxs)(_.ZP.Group,{children:[(0,n.jsx)(m.Z,{width:"md",name:"name",label:(0,n.jsx)(o.FormattedMessage,{id:"name"}),tooltip:(0,n.jsx)(o.FormattedMessage,{id:"name"}),placeholder:S.formatMessage({id:"name",defaultMessage:"name"}),required:!0,disabled:c.disableEdit}),(0,n.jsx)(m.Z,{width:"sm",name:"duration",label:(0,n.jsx)(o.FormattedMessage,{id:"duration"}),tooltip:(0,n.jsx)(o.FormattedMessage,{id:"consultations.duration_tooltip"}),placeholder:S.formatMessage({id:"duration",defaultMessage:"duration"}),disabled:c.disableEdit}),(0,n.jsx)(w.Z,{name:"status",width:"sm",label:(0,n.jsx)(o.FormattedMessage,{id:"status"}),tooltip:(0,n.jsx)(o.FormattedMessage,{id:"status_consultation_tooltip"}),valueEnum:{draft:S.formatMessage({id:"draft",defaultMessage:"draft"}),published:S.formatMessage({id:"published",defaultMessage:"published"}),archived:S.formatMessage({id:"archived",defaultMessage:"archived"})},initialValue:se.draft,placeholder:S.formatMessage({id:"status"}),rules:[{required:!0,message:(0,n.jsx)(o.FormattedMessage,{id:"select"})}],disabled:c.disableEdit})]}),(0,n.jsxs)(_.ZP.Group,{children:[(0,n.jsx)(x.Z,{width:"sm",name:"active_from",label:(0,n.jsx)(o.FormattedMessage,{id:"active_from"}),tooltip:(0,n.jsx)(o.FormattedMessage,{id:"active_from"}),placeholder:S.formatMessage({id:"active_from",defaultMessage:"active_from"}),disabled:c.disableEdit}),(0,n.jsx)(x.Z,{width:"sm",name:"active_to",label:(0,n.jsx)(o.FormattedMessage,{id:"active_to"}),tooltip:(0,n.jsx)(o.FormattedMessage,{id:"active_to"}),placeholder:S.formatMessage({id:"active_to",defaultMessage:"active_to"}),disabled:c.disableEdit}),(0,n.jsx)(_.ZP.Item,{name:"author_id",label:(0,n.jsx)(o.FormattedMessage,{id:"tutor"}),tooltip:(0,n.jsx)(o.FormattedMessage,{id:"tutor_consultation_tooltip"}),valuePropName:"value",required:!0,children:(0,n.jsx)(u.Z,{})})]}),(0,n.jsx)(_.ZP.Group,{children:(0,n.jsx)(_.ZP.Item,{name:"description",label:(0,n.jsx)(o.FormattedMessage,{id:"description"}),tooltip:(0,n.jsx)(o.FormattedMessage,{id:"description_tooltip"}),valuePropName:"value",required:!0,children:(0,n.jsx)(ne.ZP,{directory:"consultation/".concat(E,"/wysiwyg")})})}),(0,n.jsx)(_.ZP.Group,{children:(0,n.jsx)(_.ZP.Item,{valuePropName:"value",name:"proposed_terms",tooltip:(0,n.jsx)(o.FormattedMessage,{id:"proposed_terms_tooltip"}),label:(0,n.jsx)(o.FormattedMessage,{id:"consultations.proposed_terms"}),children:(0,n.jsx)(l,{})})})]}))]},_e.ATTRIBUTES),!k&&(0,n.jsx)(h.ZP.TabPane,{tab:(0,n.jsx)(o.FormattedMessage,{id:"product"}),disabled:c.disableEdit,children:E&&(0,n.jsx)(p.C,{type:"line",productable:{class_type:"App\\Models\\Consultation",class_id:E,name:String(R.name),quantity:1}})},_e.PRODUCT),!k&&(0,n.jsx)(h.ZP.TabPane,{tab:(0,n.jsx)(o.FormattedMessage,{id:"media"}),disabled:c.disableEdit,children:(0,n.jsx)(_.ZP,a()(a()({},U),{},{children:(0,n.jsx)(r.Z,{folder:"consultation/".concat(E),title:"image",action:"/api/admin/consultations/".concat(E),src_name:"image_url",form_name:"image",getUploadedSrcField:function(Z){return Z.file.response.data.image_url},setPath:function(Z){return re(function(ue){return a()(a()({},ue),Z)})}})}))},_e.MEDIA),!k&&(0,n.jsx)(h.ZP.TabPane,{tab:(0,n.jsx)(o.FormattedMessage,{id:"categories"}),disabled:c.disableEdit,children:(0,n.jsx)(te.Z,{children:(0,n.jsx)(t.Z,{span:12,children:(0,n.jsx)(_.ZP,a()(a()({},U),{},{children:(0,n.jsx)(_.ZP.Item,{label:(0,n.jsx)(o.FormattedMessage,{id:"categories"}),name:"categories",valuePropName:"value",children:(0,n.jsx)(y.Z,{})})}))})})},_e.CATEGORIES)," ",!k&&(0,n.jsx)(h.ZP.TabPane,{tab:(0,n.jsx)(o.FormattedMessage,{id:"branding"}),disabled:c.disableEdit,children:(0,n.jsx)(_.ZP,a()(a()({},U),{},{children:(0,n.jsx)(r.Z,{folder:"consultation/".concat(E),title:S.formatMessage({id:"logotype"}),action:"/api/admin/consultations/".concat(E),src_name:"logotype_url",form_name:"logotype",getUploadedSrcField:function(Z){return Z.file.response.data.logotype_url},setPath:function(Z){return re(function(ue){return a()(a()({},ue),Z)})}})}))},_e.BRANDING)," ",!k&&(0,n.jsx)(h.ZP.TabPane,{tab:(0,n.jsx)(o.FormattedMessage,{id:"user_submission"}),disabled:c.disableEdit,children:(0,n.jsx)(te.Z,{children:(0,n.jsx)(t.Z,{span:12,children:E&&(0,n.jsx)(v.ZP,{id:Number(E),type:"App\\Models\\Consultation"})})})},_e.USER_SUBMISSION),!k&&(0,n.jsx)(h.ZP.TabPane,{tab:(0,n.jsx)(o.FormattedMessage,{id:"consultations.calendar"}),children:(0,n.jsx)(Se,{consultation:Number(E)})},_e.CALENDAR)]}),(0,n.jsx)(W.Z,{open:!!c.showConfirmModal,onOk:function(){L(a()(a()({},c),{},{loading:!0})),N.submit()},onCancel:function(){L(a()(a()({},c),{},{showConfirmModal:!1}))},loading:!!c.loading})]}):(0,n.jsx)(H.Z,{})},C=Le},51490:function(q,I,e){"use strict";e.d(I,{MP:function(){return te},SQ:function(){return O},YG:function(){return D},YS:function(){return _},hR:function(){return d},hW:function(){return w},sL:function(){return f}});var i=e(15009),s=e.n(i),b=e(97857),a=e.n(b),K=e(99289),g=e.n(K),T=e(80854);function f(j,y){return h.apply(this,arguments)}function h(){return h=g()(s()().mark(function j(y,W){return s()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,T.request)("/api/admin/consultations",a()({method:"GET",useCache:!1,params:y},W||{})));case 1:case"end":return P.stop()}},j)})),h.apply(this,arguments)}function _(j,y){return m.apply(this,arguments)}function m(){return m=g()(s()().mark(function j(y,W){return s()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,T.request)("/api/admin/consultations",a()({method:"POST",headers:{"Content-Type":"application/json"},data:y},W||{})));case 1:case"end":return P.stop()}},j)})),m.apply(this,arguments)}function w(j,y){return x.apply(this,arguments)}function x(){return x=g()(s()().mark(function j(y,W){return s()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,T.request)("/api/admin/consultations/".concat(y),a()({method:"GET",useCache:!1},W||{})));case 1:case"end":return P.stop()}},j)})),x.apply(this,arguments)}function d(j,y,W){return H.apply(this,arguments)}function H(){return H=g()(s()().mark(function j(y,W,ee){return s()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.abrupt("return",(0,T.request)("/api/admin/consultations/".concat(y),a()({method:"PUT",headers:{"Content-Type":"application/json"},data:W},ee||{})));case 1:case"end":return X.stop()}},j)})),H.apply(this,arguments)}function O(j,y){return A.apply(this,arguments)}function A(){return A=g()(s()().mark(function j(y,W){return s()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,T.request)("/api/admin/consultations/".concat(y),a()({method:"DELETE",useCache:!1},W||{})));case 1:case"end":return P.stop()}},j)})),A.apply(this,arguments)}function te(j,y){return t.apply(this,arguments)}function t(){return t=g()(s()().mark(function j(y,W){return s()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,T.request)("/api/admin/consultations/".concat(y,"/schedule"),a()({method:"GET",useCache:!1},W||{})));case 1:case"end":return P.stop()}},j)})),t.apply(this,arguments)}function D(j,y,W){return ne.apply(this,arguments)}function ne(){return ne=g()(s()().mark(function j(y,W,ee){return s()().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return X.abrupt("return",(0,T.request)("/api/admin/consultations/change-term/".concat(y),a()({method:"POST",headers:{"Content-Type":"application/json"},data:{executed_at:W}},ee||{})));case 1:case"end":return X.stop()}},j)})),ne.apply(this,arguments)}},31472:function(q,I,e){"use strict";e.d(I,{Fh:function(){return m},UL:function(){return h},Yo:function(){return d},Zg:function(){return H},cX:function(){return f},ce:function(){return T},fS:function(){return x},fn:function(){return K},h5:function(){return O},hg:function(){return te},oz:function(){return i},rX:function(){return w},uT:function(){return a},wg:function(){return A},wl:function(){return _}});var i=function(t){return t.Unselected="",t.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",t.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",t.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",t.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",t.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",t.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",t.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",t.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",t.Project="EscolaLms\\TopicTypeProject\\Models\\Project",t.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz",t}({}),s=function(t){return t.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",t.UserLogged="EscolaLms\\Auth\\Events\\UserLogged",t}({}),b=function(t){return t.draft="draft",t.published="published",t.archived="archived",t}({}),a=function(t){return t.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",t.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",t.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel",t}({}),K=function(t){return t.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent",t}({}),g=function(t){return t.cart_fixed="cart_fixed",t.cart_percent="cart_percent",t.product_fixed="product_fixed",t.product_percent="product_percent",t}({}),T=function(t){return t.MULTIPLE_CHOICE="multiple_choice",t.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",t.TRUE_FALSE="true_false",t.SHORT_ANSWERS="short_answers",t.MATCHING="matching",t.NUMERICAL_QUESTION="numerical_question",t.ESSAY="essay",t.DESCRIPTION="description",t}({}),f=function(t){return t.PRESENT="present",t.PRESENT_NOT_EXERCISING="present_not_exercising",t.ABSENT="absent",t.EXCUSED_ABSENCE="excused_absence",t}({}),h=function(t){return t.Manual="manual",t.ManualPass="manual_pass",t.ManualGrades="manual_grades",t.TeamsForms="teams_forms",t.TeamsLecture="teams_lecture",t.TestPortal="test_portal",t}({}),_=function(t){return t.Passed="zal",t.Failed="nie zal",t}({}),m=function(t){return t.Simple="simple",t.Complex="complex",t}({}),w=function(t){return t.QuizSummary="EscolaLms\\Reports\\Stats\\Topic\\QuizSummaryForTopicTypeGIFT",t}({}),x=function(t){return t.Boolean="boolean",t.Number="number",t.Varchar="varchar",t.Text="text",t.Json="json",t}({}),d=function(t){return t.Rate="rate",t.Text="text",t.Review="review",t}({}),H=function(t){return t.Exercise="exercise",t.Course="course",t.Info="info",t}({}),O=function(t){return t.Group="EscolaLms\\PcgIntegration\\Models\\Group",t}({}),A=function(t){return t.PUSH="EscolaLms\\BulkNotifications\\Channels\\PushNotificationChannel",t}({}),te=function(t){return t.TITLE="title",t.BODY="body",t.IMAGE="image_url",t.REDIRECT_URL="redirect_url",t}({})},64532:function(q,I,e){"use strict";e.d(I,{a:function(){return f}});var i=e(15009),s=e.n(i),b=e(97857),a=e.n(b),K=e(99289),g=e.n(K),T=e(80854);function f(_){return h.apply(this,arguments)}function h(){return h=g()(s()().mark(function _(m){return s()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,T.request)("/api/tags/unique",a()({method:"GET",useCache:!1},m||{})));case 1:case"end":return x.stop()}},_)})),h.apply(this,arguments)}},38925:function(q,I,e){"use strict";e.d(I,{Z:function(){return be}});var i=e(67294),s=e(76278),b=e(17012),a=e(62208),K=e(26702),g=e(1558),T=e(93967),f=e.n(T),h=e(82225),_=e(64217),m=e(96159),w=e(53124),x=e(6731),d=e(14747),H=e(91945);const O=(l,r,p,u,v)=>({background:l,border:`${(0,x.unit)(u.lineWidth)} ${u.lineType} ${r}`,[`${v}-icon`]:{color:p}}),A=l=>{const{componentCls:r,motionDurationSlow:p,marginXS:u,marginSM:v,fontSize:se,fontSizeLG:ae,lineHeight:J,borderRadiusLG:ie,motionEaseInOutCirc:o,withDescriptionIconSize:Ee,colorText:De,colorTextHeading:he,withDescriptionPadding:V,defaultPadding:Me}=l;return{[r]:Object.assign(Object.assign({},(0,d.Wf)(l)),{position:"relative",display:"flex",alignItems:"center",padding:Me,wordWrap:"break-word",borderRadius:ie,[`&${r}-rtl`]:{direction:"rtl"},[`${r}-content`]:{flex:1,minWidth:0},[`${r}-icon`]:{marginInlineEnd:u,lineHeight:0},["&-description"]:{display:"none",fontSize:se,lineHeight:J},"&-message":{color:he},[`&${r}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${p} ${o}, opacity ${p} ${o},
        padding-top ${p} ${o}, padding-bottom ${p} ${o},
        margin-bottom ${p} ${o}`},[`&${r}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${r}-with-description`]:{alignItems:"flex-start",padding:V,[`${r}-icon`]:{marginInlineEnd:v,fontSize:Ee,lineHeight:0},[`${r}-message`]:{display:"block",marginBottom:u,color:he,fontSize:ae},[`${r}-description`]:{display:"block",color:De}},[`${r}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},te=l=>{const{componentCls:r,colorSuccess:p,colorSuccessBorder:u,colorSuccessBg:v,colorWarning:se,colorWarningBorder:ae,colorWarningBg:J,colorError:ie,colorErrorBorder:o,colorErrorBg:Ee,colorInfo:De,colorInfoBorder:he,colorInfoBg:V}=l;return{[r]:{"&-success":O(v,u,p,l,r),"&-info":O(V,he,De,l,r),"&-warning":O(J,ae,se,l,r),"&-error":Object.assign(Object.assign({},O(Ee,o,ie,l,r)),{[`${r}-description > pre`]:{margin:0,padding:0}})}}},t=l=>{const{componentCls:r,iconCls:p,motionDurationMid:u,marginXS:v,fontSizeIcon:se,colorIcon:ae,colorIconHover:J}=l;return{[r]:{["&-action"]:{marginInlineStart:v},[`${r}-close-icon`]:{marginInlineStart:v,padding:0,overflow:"hidden",fontSize:se,lineHeight:(0,x.unit)(se),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${p}-close`]:{color:ae,transition:`color ${u}`,"&:hover":{color:J}}},"&-close-text":{color:ae,transition:`color ${u}`,"&:hover":{color:J}}}}},D=l=>({withDescriptionIconSize:l.fontSizeHeading3,defaultPadding:`${l.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${l.paddingMD}px ${l.paddingContentHorizontalLG}px`});var ne=(0,H.I$)("Alert",l=>[A(l),te(l),t(l)],D),j=function(l,r){var p={};for(var u in l)Object.prototype.hasOwnProperty.call(l,u)&&r.indexOf(u)<0&&(p[u]=l[u]);if(l!=null&&typeof Object.getOwnPropertySymbols=="function")for(var v=0,u=Object.getOwnPropertySymbols(l);v<u.length;v++)r.indexOf(u[v])<0&&Object.prototype.propertyIsEnumerable.call(l,u[v])&&(p[u[v]]=l[u[v]]);return p};const y={success:s.Z,info:g.Z,error:b.Z,warning:K.Z},W=l=>{const{icon:r,prefixCls:p,type:u}=l,v=y[u]||null;return r?(0,m.wm)(r,i.createElement("span",{className:`${p}-icon`},r),()=>({className:f()(`${p}-icon`,{[r.props.className]:r.props.className})})):i.createElement(v,{className:`${p}-icon`})},ee=l=>{const{isClosable:r,prefixCls:p,closeIcon:u,handleClose:v,ariaProps:se}=l,ae=u===!0||u===void 0?i.createElement(a.Z,null):u;return r?i.createElement("button",Object.assign({type:"button",onClick:v,className:`${p}-close-icon`,tabIndex:0},se),ae):null};var X=l=>{const{description:r,prefixCls:p,message:u,banner:v,className:se,rootClassName:ae,style:J,onMouseEnter:ie,onMouseLeave:o,onClick:Ee,afterClose:De,showIcon:he,closable:V,closeText:Me,closeIcon:Ce,action:Ae}=l,Ie=j(l,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[Te,ye]=i.useState(!1),Se=i.useRef(null),{getPrefixCls:_e,direction:Le,alert:C}=i.useContext(w.E_),M=_e("alert",p),[S,$,E]=ne(M),Q=c=>{var L;ye(!0),(L=l.onClose)===null||L===void 0||L.call(l,c)},G=i.useMemo(()=>l.type!==void 0?l.type:v?"warning":"info",[l.type,v]),k=i.useMemo(()=>typeof V=="object"&&V.closeIcon||Me?!0:typeof V=="boolean"?V:Ce!==!1&&Ce!==null&&Ce!==void 0?!0:!!(C!=null&&C.closable),[Me,Ce,V,C==null?void 0:C.closable]),le=v&&he===void 0?!0:he,fe=f()(M,`${M}-${G}`,{[`${M}-with-description`]:!!r,[`${M}-no-icon`]:!le,[`${M}-banner`]:!!v,[`${M}-rtl`]:Le==="rtl"},C==null?void 0:C.className,se,ae,E,$),R=(0,_.Z)(Ie,{aria:!0,data:!0}),re=i.useMemo(()=>{var c,L;return typeof V=="object"&&V.closeIcon?V.closeIcon:Me||(Ce!==void 0?Ce:typeof(C==null?void 0:C.closable)=="object"&&(!((c=C==null?void 0:C.closable)===null||c===void 0)&&c.closeIcon)?(L=C==null?void 0:C.closable)===null||L===void 0?void 0:L.closeIcon:C==null?void 0:C.closeIcon)},[Ce,V,Me,C==null?void 0:C.closeIcon]),pe=i.useMemo(()=>{const c=V!=null?V:C==null?void 0:C.closable;if(typeof c=="object"){const{closeIcon:L}=c;return j(c,["closeIcon"])}return{}},[V,C==null?void 0:C.closable]);return S(i.createElement(h.default,{visible:!Te,motionName:`${M}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:c=>({maxHeight:c.offsetHeight}),onLeaveEnd:De},c=>{let{className:L,style:F}=c;return i.createElement("div",Object.assign({ref:Se,"data-show":!Te,className:f()(fe,L),style:Object.assign(Object.assign(Object.assign({},C==null?void 0:C.style),J),F),onMouseEnter:ie,onMouseLeave:o,onClick:Ee,role:"alert"},R),le?i.createElement(W,{description:r,icon:l.icon,prefixCls:M,type:G}):null,i.createElement("div",{className:`${M}-content`},u?i.createElement("div",{className:`${M}-message`},u):null,r?i.createElement("div",{className:`${M}-description`},r):null),Ae?i.createElement("div",{className:`${M}-action`},Ae):null,i.createElement(ee,{isClosable:k,prefixCls:M,closeIcon:re,handleClose:Q,ariaProps:pe}))}))},ce=e(15671),xe=e(43144),oe=e(53640),ge=e(32531),n=function(l){(0,ge.Z)(r,l);function r(){var p;return(0,ce.Z)(this,r),p=(0,oe.Z)(this,r,arguments),p.state={error:void 0,info:{componentStack:""}},p}return(0,xe.Z)(r,[{key:"componentDidCatch",value:function(u,v){this.setState({error:u,info:v})}},{key:"render",value:function(){const{message:u,description:v,children:se}=this.props,{error:ae,info:J}=this.state,ie=J&&J.componentStack?J.componentStack:null,o=typeof u=="undefined"?(ae||"").toString():u,Ee=typeof v=="undefined"?ie:v;return ae?i.createElement(X,{type:"error",message:o,description:i.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},Ee)}):se}}]),r}(i.Component);const Oe=X;Oe.ErrorBoundary=n;var be=Oe},49677:function(q){function I(e){if(e==null)throw new TypeError("Cannot destructure "+e)}q.exports=I,q.exports.__esModule=!0,q.exports.default=q.exports},2254:function(q,I,e){"use strict";e.d(I,{C:function(){return s}});var i=e(32841);function s(a){return+(0,i.Q)(a)<Date.now()}var b=null}}]);
