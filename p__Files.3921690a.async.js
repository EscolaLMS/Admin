(window.webpackJsonp=window.webpackJsonp||[]).push([[12],{"/qDX":function(E,e,t){},"14J3":function(E,e,t){"use strict";var s=t("cIOH"),O=t.n(s),m=t("1GLa")},"3fxf":function(E,e,t){"use strict";var s=t("DjyN"),O=t("NUBc"),m=t("Mwp2"),d=t("VXEj"),j=t("+L6B"),M=t("2/Rp"),P=t("oBTY"),D=t("k1fw"),i=t("tJVT"),y=t("DYRE"),v=t("zeV3"),f=t("tU7J"),u=t("wFql"),r=t("q1tI"),c=t.n(r),n=t("BAh9"),a=t("/MfK"),o=t("mAF4"),A=t("dF/Y"),S=t("DBJ/"),x=t("lLVY"),W=t.n(x),_=t("nKUr"),Y=t.n(_),K=function(U){var T=U.directory,I=U.onUploaded;return Object(_.jsxs)(v.b,{align:"start",children:[Object(_.jsxs)(u.a.Text,{children:["Current dir is ",Object(_.jsx)(u.a.Text,{code:!0,children:T})]}),Object(_.jsx)(S.a,{url:"/api/admin/file/upload",name:"file[]",data:{target:T},onChange:function(L){return L.file.status==="done"&&I(T)}})]})},z=function(U){var T=U.defaultDirectory,I=T===void 0?"/":T,b=U.onFile,L=Object(r.useState)({loading:!1,directory:I,current_page:1,data:void 0,per_page:1,last_page:1,total:0}),g=Object(i.a)(L,2),p=g[0],V=g[1],F=Object(r.useRef)(),B=Object(r.useCallback)(function(C){V(function(l){return Object(D.a)(Object(D.a)({},l),{},{loading:C})})},[]),h=Object(r.useCallback)(function(C){var l,G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,$=function(){return F.current&&F.current.abort()};return $(),F.current=new AbortController,B(!0),Object(n.a)({directory:C,page:G},{signal:(l=F.current)===null||l===void 0?void 0:l.signal}).then(function(N){N.success&&V(function(X){return Object(D.a)(Object(D.a)(Object(D.a)({},X),N.data),{},{data:[{url:C.split("/").slice(0,-1).join("/"),name:"..",created_at:"",mime:"directory"}].concat(Object(P.a)(N.data.data.map(function(R){return Object(D.a)(Object(D.a)({},R),{},{url:R.mime==="directory"?"".concat(C,"/").concat(R.name):R.url})}))).filter(function(R){return C==="/"?R.name!=="..":!0}),directory:C,loading:!1})})}).catch(function(){return B(!1)}),function(){$()}},[B]);Object(r.useEffect)(function(){return h(I)},[I,h]);var H=Object(r.useCallback)(function(C){B(!0),Object(n.b)(C).then(function(){h(p.directory)}).catch(function(){B(!1)})},[h,B,p.directory]);return Object(_.jsxs)("div",{className:"file-browser",children:[Object(_.jsx)(d.b,{loading:p.loading,size:"small",itemLayout:"horizontal",dataSource:p.data,header:Object(_.jsx)(K,{directory:p.directory,onUploaded:function(l){return h(l)}}),footer:Object(_.jsx)(K,{directory:p.directory,onUploaded:function(l){return h(l)}}),renderItem:function(l){return Object(_.jsx)(d.b.Item,{actions:l.mime!=="directory"?[Object(_.jsx)(M.a,{type:"default",danger:!0,icon:Object(_.jsx)(a.a,{}),size:"small",onClick:function(){return H(l.url)}})]:[],children:Object(_.jsx)(d.b.Item.Meta,{avatar:l.mime==="directory"?Object(_.jsx)(M.a,{type:"primary",icon:Object(_.jsx)(o.a,{}),size:"small",onClick:function(){return h(l.url)}}):Object(_.jsx)("a",{href:l.url,target:"_blank",children:Object(_.jsx)(M.a,{type:"default",icon:Object(_.jsx)(A.a,{}),size:"small"})}),description:Object(_.jsx)(c.a.Fragment,{children:Object(_.jsx)(M.a,{type:"text",size:"small",onClick:function(){return l.mime==="directory"?h(l.url):b&&b(l,p.directory)},children:l.name})})})})}}),Object(_.jsx)(O.a,{pageSizeOptions:[],current:p.current_page,total:p.total,pageSize:p.per_page,onChange:function(l){return h(p.directory,l)}})]})};e.a=z},"3wW7":function(E,e,t){},BAh9:function(E,e,t){"use strict";t.d(e,"a",function(){return M}),t.d(e,"d",function(){return D}),t.d(e,"c",function(){return y}),t.d(e,"b",function(){return v});var s=t("k1fw"),O=t("9og8"),m=t("WmNS"),d=t.n(m),j=t("9kvl");function M(u,r){return P.apply(this,arguments)}function P(){return P=Object(O.a)(d.a.mark(function u(r,c){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(j.e)("/api/admin/file/list",Object(s.a)({method:"GET",params:r},c||{})));case 1:case"end":return a.stop()}},u)})),P.apply(this,arguments)}function D(u,r,c){return i.apply(this,arguments)}function i(){return i=Object(O.a)(d.a.mark(function u(r,c,n){var a;return d.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return a=new FormData,a.append("file[]",r),a.append("target",c),A.abrupt("return",Object(j.e)("/api/admin/file/upload",Object(s.a)({method:"POST",data:a},n||{})));case 4:case"end":return A.stop()}},u)})),i.apply(this,arguments)}var y=function(r){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat("https://escola-lms-api.stage.etd24.pl","/api/images/img?path=").concat(r,"&w=").concat(c)};function v(u,r){return f.apply(this,arguments)}function f(){return f=Object(O.a)(d.a.mark(function u(r,c){return d.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(j.e)("/api/admin/file/delete",Object(s.a)({method:"DELETE",data:{url:r}},c||{})));case 1:case"end":return a.stop()}},u)})),f.apply(this,arguments)}},"DBJ/":function(E,e,t){"use strict";var s=t("y8nQ"),O=t("Vl3Y"),m=t("etVw"),d=t("q1tI"),j=t.n(d),M=function(y){var v=y.condition,f=y.children,u=y.wrap;return v?j.a.cloneElement(u(f)):f},P=t("nKUr"),D=function(v){var f=v.onChange,u=v.url,r=v.name,c=v.extra,n=v.accept,a=v.data,o=v.wrapInForm,A=o===void 0?!0:o;return Object(P.jsx)(M,{condition:A,wrap:function(x){return Object(P.jsx)(O.a,{children:x})},children:Object(P.jsx)(m.a,{title:"Click here to upload",placeholder:"Click here to upload",onChange:f,label:"Upload",max:2,fieldProps:{data:a,accept:n,name:r,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://escola-lms-api.stage.etd24.pl").concat(u),extra:c})})},i=e.a=D},DjyN:function(E,e,t){"use strict";var s=t("cIOH"),O=t.n(s),m=t("Urep"),d=t.n(m),j=t("OaEy")},IzEo:function(E,e,t){"use strict";var s=t("cIOH"),O=t.n(s),m=t("lnY3"),d=t.n(m),j=t("Znn+"),M=t("14J3"),P=t("jCWc")},JGo8:function(E,e,t){},Mwp2:function(E,e,t){"use strict";var s=t("cIOH"),O=t.n(s),m=t("3wW7"),d=t.n(m),j=t("R9oj"),M=t("T2oS"),P=t("DjyN"),D=t("1GLa")},Urep:function(E,e,t){},etVw:function(E,e,t){"use strict";var s=t("cIOH"),O=t("JGo8"),m=t("+L6B"),d=t("MXD1"),j=t("5Dmo"),M=t("8z0m"),P=t("2/Rp"),D=t("q1tI"),i=t.n(D),y=t("z7Xi"),v=t("WFLz");function f(){return f=Object.assign||function(c){for(var n=1;n<arguments.length;n++){var a=arguments[n];for(var o in a)Object.prototype.hasOwnProperty.call(a,o)&&(c[o]=a[o])}return c},f.apply(this,arguments)}var u=function(n,a){var o=n.fieldProps,A=n.name,S=n.action,x=n.accept,W=n.listType,_=n.title,Y=_===void 0?"\u5355\u51FB\u4E0A\u4F20":_,K=n.max,z=n.icon,J=z===void 0?i.a.createElement(y.a,null):z,U=n.value,T=n.buttonProps,I=n.onChange,b=n.disabled,L=n.proFieldProps,g=n.fileList,p=(K===void 0||!U||(U==null?void 0:U.length)<K)&&(L==null?void 0:L.mode)!=="read",V=(W!=null?W:o==null?void 0:o.listType)==="picture-card";return i.a.createElement(M.a,f({action:S,accept:x,ref:a,name:A||"file",listType:W||"picture",fileList:g!=null?g:U},o,{onChange:function(B){I==null||I(B),(o==null?void 0:o.onChange)&&(o==null||o.onChange(B))}}),p&&(V?i.a.createElement("span",null,J," ",Y):i.a.createElement(P.a,f({disabled:b||(o==null?void 0:o.disabled)},T),J,Y)))},r=e.a=Object(v.a)(i.a.forwardRef(u),{getValueFromEvent:function(n){return n.fileList}})},jCWc:function(E,e,t){"use strict";var s=t("cIOH"),O=t.n(s),m=t("1GLa")},lLVY:function(E,e,t){},lnY3:function(E,e,t){},tU7J:function(E,e,t){"use strict";var s=t("cIOH"),O=t.n(s),m=t("/qDX"),d=t.n(m),j=t("5Dmo"),M=t("5NDa")},u4ym:function(E,e,t){"use strict";t.r(e);var s=t("IzEo"),O=t("bx4M"),m=t("tU7J"),d=t("wFql"),j=t("q1tI"),M=t.n(j),P=t("tMyG"),D=t("3fxf"),i=t("nKUr"),y=t.n(i);e.default=function(){return Object(i.jsx)(P.a,{children:Object(i.jsxs)(O.a,{children:[Object(i.jsx)(d.a.Text,{strong:!0,children:"Pages files list will be here"}),Object(i.jsx)(D.a,{})]})})}}}]);
