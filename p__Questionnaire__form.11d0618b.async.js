"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7480,2803,8047],{78677:function(Ce,J,t){var k=t(67294),W=t(30204),_=function(){return _=Object.assign||function(Y){for(var o,R=1,S=arguments.length;R<S;R++){o=arguments[R];for(var B in o)Object.prototype.hasOwnProperty.call(o,B)&&(Y[B]=o[B])}return Y},_.apply(this,arguments)},H=(0,k.forwardRef)(function(Y,o){return k.createElement(W.P,_({},Y,{chartType:"Column",ref:o}))});J.Z=H},58664:function(Ce,J,t){t.d(J,{T:function(){return N}});var k=t(19632),W=t.n(k),_=t(5574),H=t.n(_),Y=t(74656),o=t(74330),R=t(67294),S=t(51490),B=t(99100),K=t(32283),he=t(80854),O=t(85893),ue=function(q){return q.map(function(A){return"name"in A?{id:Number(A.id),name:A.name}:{id:Number(A.id),name:A.title?A.title:""}})},N=function(q){var A=q.value,ee=q.onChange,le=q.multiple,de=le===void 0?!1:le,re=q.defaultValue,L=q.modelType,G=L===void 0?"COURSE":L,ge=(0,R.useState)([]),se=H()(ge,2),te=se[0],v=se[1],a=(0,R.useState)(!1),ce=H()(a,2),pe=ce[0],ne=ce[1],c=(0,R.useRef)(),Me=(0,R.useCallback)(function(l){var E,D,U,X;switch(G){case"COURSE":return(0,B.N7)(l,{signal:c==null||(E=c.current)===null||E===void 0?void 0:E.signal});case"WEBINAR":return(0,K.i5)(l,{signal:c==null||(D=c.current)===null||D===void 0?void 0:D.signal});case"CONSULTATIONS":return(0,S.sL)(l,{signal:c==null||(U=c.current)===null||U===void 0?void 0:U.signal});default:return(0,B.N7)(l,{signal:c==null||(X=c.current)===null||X===void 0?void 0:X.signal})}},[G,c]),me=(0,R.useCallback)(function(l){var E,D,U,X;switch(G){case"COURSE":return(0,B.XR)(Number(l),{signal:(E=c.current)===null||E===void 0?void 0:E.signal});case"WEBINAR":return(0,K.tz)(Number(l),{signal:(D=c.current)===null||D===void 0?void 0:D.signal});case"CONSULTATIONS":return(0,S.hW)(Number(l),{signal:(U=c.current)===null||U===void 0?void 0:U.signal});default:return(0,B.XR)(Number(l),{signal:(X=c.current)===null||X===void 0?void 0:X.signal})}},[G,c]),ie=(0,R.useCallback)(function(l){ne(!0),c.current&&c.current.abort(),c.current=new AbortController,Me(l?{title:l}:{}).then(function(E){E.success&&v(ue(E.data)),ne(!1)}).catch(function(){return ne(!1)})},[G]),e=(0,R.useCallback)(function(l){ie(l)},[ie]);return(0,R.useEffect)(function(){return c.current=new AbortController,A&&me(Number(A)).then(function(l){l&&l.success&&v(function(E){return[].concat(W()(E),W()(ue([l.data])))})}),function(){c.current&&c.current.abort()}},[A,G]),(0,O.jsx)(Y.default,{defaultValue:re,onFocus:function(){return ie()},allowClear:!0,style:{width:"100%"},value:A,onChange:ee,mode:de?"multiple":void 0,showSearch:!0,onSearch:e,placeholder:(0,O.jsx)(he.FormattedMessage,{id:"select_content",defaultMessage:"select_content"}),optionFilterProp:"children",filterOption:function(E,D){if(D&&D.children){var U;return(D==null||(U=D.children)===null||U===void 0?void 0:U.toString().toLowerCase().indexOf(E.toLowerCase()))>=0}return!0},notFoundContent:pe?(0,O.jsx)(o.Z,{size:"small"}):null,optionLabelProp:"label",children:te.map(function(l){return(0,O.jsx)(Y.default.Option,{value:l.id,label:l.name,children:l.name},l.id)})})}},92008:function(Ce,J,t){t.r(J),t.d(J,{QuestionareForm:function(){return Pe},default:function(){return Xe}});var k=t(19632),W=t.n(k),_=t(9783),H=t.n(_),Y=t(97857),o=t.n(Y),R=t(15009),S=t.n(R),B=t(99289),K=t.n(B),he=t(5574),O=t.n(he),ue=t(58664),N=t(95020),w=t(78715),q=t(952),A=t(5966),ee=t(52688),le=t(74453),de=t(5154),re=t(75842),L=t(2453),G=t(74330),ge=t(71230),se=t(15746),te=t(14726),v=t(67294),a=t(80854),ce=t(13769),pe=t.n(ce),ne=t(62235),c=t(44167),Me=t(45919),me=t(16894),ie=t(60943),e=t(85893),l=["type"],E=function(b){var n=b.record,F=re.Z.useForm(),j=O()(F,1),h=j[0],u=(0,a.useIntl)(),Q=(0,v.useMemo)(function(){return{onValuesChange:function(d,i){var m=i,r=m.visible_on_front;(0,N.lt)(n.id,{visible_on_front:r}).then(function(Z){L.ZP.success((0,e.jsx)(a.FormattedMessage,{id:"question_answer_visibility_changed",defaultMessage:Z.message}))}).catch(function(){return L.ZP.error((0,e.jsx)(a.FormattedMessage,{id:"error",defaultMessage:"error"}))})},submitter:{render:function(){return null}}}},[]);return(0,e.jsx)(q.ZP,o()(o()({form:h},Q),{},{children:(0,e.jsx)(ee.Z,{name:"visible_on_front",initialValue:n.visible_on_front,checkedChildren:u.formatMessage({id:"visible",defaultMessage:"visible"}),unCheckedChildren:u.formatMessage({id:"hidden",defaultMessage:"hidden"})})}))},D=function(b){var n=b.questionnaireId,F=b.questions,j=(0,v.useMemo)(function(){return F&&F.reduce(function(I,d){return o()(o()({},I),{},H()({},d.id,d.title))},{})},[F]),h=[{title:(0,e.jsx)(a.FormattedMessage,{id:"questions",defaultMessage:"questions"}),dataIndex:"question_id",hideInSearch:!1,valueEnum:j,valueType:"select"}],u=(0,a.useIntl)(),Q=[{title:(0,e.jsx)(a.FormattedMessage,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{title:(0,e.jsx)(a.FormattedMessage,{id:"updated_at",defaultMessage:"updated_at"}),dataIndex:"updated_at",hideInSearch:!0,render:function(d,i){return i.updated_at?new Date(i.updated_at).toLocaleString():"-"},sorter:!0},{title:(0,e.jsx)(a.FormattedMessage,{id:"updated_at",defaultMessage:"updated_at"}),dataIndex:"date",hideInSearch:!1,hideInForm:!0,hideInTable:!0,valueType:"date",fieldProps:{allowEmpty:[!0]}},{title:(0,e.jsx)(a.FormattedMessage,{id:"title",defaultMessage:"title"}),dataIndex:"question_title",hideInSearch:!0,sorter:!0},{title:(0,e.jsx)(a.FormattedMessage,{id:"note",defaultMessage:"note"}),dataIndex:"note",hideInSearch:!0,sorter:!0,render:function(d,i){var m,r;return i.note&&((m=i.note)===null||m===void 0?void 0:m.length)>64?((r=i.note)===null||r===void 0?void 0:r.slice(0,64))+"...":i.note}},{title:(0,e.jsx)(a.FormattedMessage,{id:"user",defaultMessage:"user"}),dataIndex:"user_id",hideInSearch:!1,render:function(d,i){var m,r;return(0,e.jsxs)("div",{children:[(0,e.jsx)(ne.Z,{type:"App\\Models\\User",type_id:i.user_id}),(0,e.jsx)("p",{className:"list-paragraph",children:(m=i.user)===null||m===void 0?void 0:m.name}),(0,e.jsx)("p",{className:"list-paragraph",children:(r=i.user)===null||r===void 0?void 0:r.email})]})},renderFormItem:function(d,i,m){var r=i.type,Z=pe()(i,l);if(r==="form")return null;var g=m.getFieldValue("state");return(0,e.jsx)(c.Z,o()(o()({},Z),{},{state:{type:g}}))}},{title:(0,e.jsx)(a.FormattedMessage,{id:"sum_rate",defaultMessage:"sum_rate"}),dataIndex:"rate",hideInSearch:!0,sorter:!0},{title:(0,e.jsx)(a.FormattedMessage,{id:"show_hide_on_front",defaultMessage:"show_hide_on_front"}),dataIndex:"visible_on_front",hideInSearch:!0,sorter:!1,render:function(d,i){return(0,e.jsx)(E,{record:i})}}];return(0,e.jsx)(me.ZP,{headerTitle:u.formatMessage({id:"answers",defaultMessage:"answers"}),search:{layout:"vertical"},rowKey:"id",request:function(d,i){var m=d.pageSize,r=d.current,Z=d.question_id,g=d.user_id,p=d.date,M=i&&Object.entries(i)[0];return(0,N.l)(n,{per_page:m,page:r,question_id:Z,user_id:g,updated_at:p?(0,ie.WU)(new Date(p),Me.Cu):void 0,order_by:M&&M[0],order:M?M[1]==="ascend"?"ASC":"DESC":void 0}).then(function(s){return s.success?{data:s.data,success:!0}:[]})},columns:[].concat(Q,h)})},U=D,X=t(66419),Ze=t(51042),Oe=t(47389),Ae=t(82061),Fe=t(83062),De=t(86738),fe=t(31472),Re=t(37476),Ne=t(64317),$e=t(31199),Le=function(b){var n=(0,a.useIntl)(),F=b.visible,j=b.onVisibleChange,h=b.onFinish,u=b.id,Q=b.questionsList,I=re.Z.useForm(),d=O()(I,1),i=d[0];(0,v.useEffect)(function(){typeof u=="number"&&u>0?(0,N.a5)(u).then(function(r){r.success&&i.setFieldsValue(r.data)}):i.resetFields()},[u,i]);var m=Object.values(fe.Yo).map(function(r){return{name:r,label:n.formatMessage({id:"QuestionType.".concat(r)}),value:r,disabled:r===fe.Yo.Review&&Q.findIndex(function(Z){var g=Z.type;return g===fe.Yo.Review})!==-1}});return(0,e.jsxs)(Re.Y,{form:i,title:n.formatMessage({id:typeof u=="number"&&u>0?"question_edit":"question_add",defaultMessage:typeof u=="number"&&u>0?"question_edit":"question_add"}),width:"400px",visible:F,onVisibleChange:j,onFinish:h,children:[(0,e.jsx)(Ne.Z,{name:"type",options:m,label:(0,e.jsx)(a.FormattedMessage,{id:"type"}),initialValue:fe.Yo.Rate}),(0,e.jsx)(A.Z,{width:"lg",name:"title",label:(0,e.jsx)(a.FormattedMessage,{id:"title"}),tooltip:(0,e.jsx)(a.FormattedMessage,{id:"title"}),placeholder:n.formatMessage({id:"title"})}),(0,e.jsx)(A.Z,{width:"lg",name:"description",label:(0,e.jsx)(a.FormattedMessage,{id:"description"}),tooltip:(0,e.jsx)(a.FormattedMessage,{id:"description"}),placeholder:n.formatMessage({id:"description"})}),(0,e.jsx)($e.Z,{width:"lg",name:"position",label:(0,e.jsx)(a.FormattedMessage,{id:"position"}),tooltip:(0,e.jsx)(a.FormattedMessage,{id:"position"}),placeholder:n.formatMessage({id:"position",defaultMessage:"position"}),min:0,max:9999,fieldProps:{step:1}}),(0,e.jsx)(ee.Z,{initialValue:!0,name:"active",label:(0,e.jsx)(a.FormattedMessage,{id:"is_active",defaultMessage:"is_active"})}),(0,e.jsx)(ee.Z,{initialValue:!0,name:"public_answers",label:(0,e.jsx)(a.FormattedMessage,{id:"show_hide_on_front",defaultMessage:"show_hide_on_front"})})]})},Ue=Le,Qe=function(b){var n=b.questionnaireId,F=b.questions,j=b.fetchData,h=(0,a.useIntl)(),u=(0,v.useState)(!1),Q=O()(u,2),I=Q[0],d=Q[1],i=(0,v.useMemo)(function(){return[{title:(0,e.jsx)(a.FormattedMessage,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{title:(0,e.jsx)(a.FormattedMessage,{id:"title",defaultMessage:"title"}),dataIndex:"title",hideInSearch:!1,sorter:!0},{title:(0,e.jsx)(a.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0,sorter:!0,renderText:function(p,M){return h.formatMessage({id:"QuestionType.".concat(M.type)})}},{title:(0,e.jsx)(a.FormattedMessage,{id:"description",defaultMessage:"description"}),dataIndex:"description",hideInSearch:!0,sorter:!0},{title:(0,e.jsx)(a.FormattedMessage,{id:"position",defaultMessage:"position"}),dataIndex:"position",hideInSearch:!0,sorter:!0}]},[]),m=(0,v.useRef)(),r=function(){var g=K()(S()().mark(function p(M,s){var V;return S()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return V=L.ZP.loading(h.formatMessage({id:"loading"})),P.prev=1,P.next=4,s&&s!==-1?(0,N.WW)(s,o()(o()({},M),{},{questionnaire_id:n})):(0,N.xL)(o()(o()({},M),{},{questionnaire_id:n}));case 4:return V(),j(),L.ZP.success(h.formatMessage({id:"success"})),P.abrupt("return",!0);case 10:return P.prev=10,P.t0=P.catch(1),V(),L.ZP.error(h.formatMessage({id:"error"})),P.abrupt("return",!1);case 15:case"end":return P.stop()}},p,null,[[1,10]])}));return function(M,s){return g.apply(this,arguments)}}(),Z=(0,v.useCallback)(function(){var g=K()(S()().mark(function p(M){var s;return S()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return s=L.ZP.loading(h.formatMessage({id:"loading"})),C.prev=1,C.next=4,(0,N.Km)(M);case 4:return s(),j(),C.abrupt("return",!0);case 9:return C.prev=9,C.t0=C.catch(1),s(),L.ZP.error((0,e.jsx)(a.FormattedMessage,{id:"error",defaultMessage:"error"})),C.abrupt("return",!1);case 14:case"end":return C.stop()}},p,null,[[1,9]])}));return function(p){return g.apply(this,arguments)}}(),[m,h]);return(0,v.useEffect)(function(){var g;(g=m.current)===null||g===void 0||g.reload()},[F,j]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(me.ZP,{headerTitle:h.formatMessage({id:"question_list",defaultMessage:"question_list"}),actionRef:m,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[(0,e.jsxs)(te.ZP,{type:"primary",onClick:function(){d(-1)},children:[(0,e.jsx)(Ze.Z,{})," ",(0,e.jsx)(a.FormattedMessage,{id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA"})]},"primary")]},columns:[].concat(W()(i),[{title:(0,e.jsx)(a.FormattedMessage,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",render:function(p,M){return[(0,e.jsx)(Fe.Z,{title:(0,e.jsx)(a.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,e.jsx)(te.ZP,{type:"primary",icon:(0,e.jsx)(Oe.Z,{}),onClick:function(){return M.id&&d(M.id)}})},"edit"),(0,e.jsx)(De.Z,{title:(0,e.jsx)(a.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return M.id&&Z(M.id)},okText:(0,e.jsx)(a.FormattedMessage,{id:"yes"}),cancelText:(0,e.jsx)(a.FormattedMessage,{id:"no"}),children:(0,e.jsx)(Fe.Z,{title:(0,e.jsx)(a.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,e.jsx)(te.ZP,{type:"primary",icon:(0,e.jsx)(Ae.Z,{}),danger:!0})})},"delete")]}}]),request:function(p,M){var s=p.title,V=M&&Object.entries(M)[0];return new Promise(function(C){var P=F?W()(F):[];s&&(P=P.filter(function(je){return je.title.toLowerCase().includes(s.toLowerCase())})),V&&(P=(0,X.Pf)(P,V[0],V[1]!=="ascend")),C({data:P,success:!0,total:P.length})})}}),(0,e.jsx)(Ue,{id:I,visible:Number.isInteger(I),onVisibleChange:function(p){return p===!1&&d(!1)},questionsList:F!=null?F:[],onFinish:function(){var g=K()(S()().mark(function p(M){var s;return S()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,r(M,Number(I));case 2:s=C.sent,s&&d(!1);case 4:case"end":return C.stop()}},p)}));return function(p){return g.apply(this,arguments)}}()})]})},we=Qe,ye=t(74656),Ve=t(78677),We=t(40056),Be={isGroup:!0,xField:"label",yField:"value",seriesField:"type",marginRatio:0},Ke=function(b){var n=b.state,F=(0,a.useIntl)();return(0,e.jsxs)(w.ZP,{headerBordered:!0,style:{height:"500px"},children:[n.mode==="loading"&&(0,e.jsx)(G.Z,{}),n.mode==="loaded"&&n.value.length>0?(0,e.jsx)(Ve.Z,o()(o()({},Be),{},{data:[].concat(W()(n.value),W()(n.value)).map(function(j,h){return{label:j.title,value:h>n.value.length-1?j.count_answers:Number(j.avg_rate),type:h>n.value.length-1?F.formatMessage({id:"answers"}):"Rating"}})})):n.mode!=="loading"&&(0,e.jsx)("p",{children:(0,e.jsx)(a.FormattedMessage,{id:"no_data",defaultMessage:"no_data"})}),n.mode==="error"&&(0,e.jsx)(We.Z,{message:n.error.data.message,type:"error"})]})},qe=Ke,ze=function(b){var n=b.questionnaireId,F=b.models,j=(0,v.useState)(""),h=O()(j,2),u=h[0],Q=h[1],I=(0,v.useState)({mode:"init"}),d=O()(I,2),i=d[0],m=d[1];return(0,v.useEffect)(function(){m({mode:"loading"});var r=function(){var Z=K()(S()().mark(function g(){var p;return S()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!u){s.next=7;break}return s.next=4,(0,N.Cq)(n,Number(u.split("/")[0]),Number(u.split("/")[1]));case 4:s.t0=s.sent,s.next=10;break;case 7:return s.next=9,(0,N.Cq)(n);case 9:s.t0=s.sent;case 10:p=s.t0,p.success&&m({mode:"loaded",value:p.data}),s.next=17;break;case 14:s.prev=14,s.t1=s.catch(0),m({mode:"error",error:s.t1});case 17:case"end":return s.stop()}},g,null,[[0,14]])}));return function(){return Z.apply(this,arguments)}}();r()},[n,F,u]),(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(de.Z.Title,{level:5,children:(0,e.jsx)(a.FormattedMessage,{id:"questionnaire.raports.filter",defaultMessage:"questionnaire.raports.filter"})}),(0,e.jsx)(ye.default,{allowClear:!0,style:{minWidth:"400px"},onChange:function(Z){return Q(Z)},children:F.map(function(r){return(0,e.jsxs)(ye.default.Option,{value:"".concat(r.model_type_id,"/").concat(r.model_id),children:[(0,e.jsx)(a.FormattedMessage,{id:r.model_type_title,defaultMessage:r.model_type_title})," ","- ",r.model_title]},r.id)})}),(0,e.jsx)(w.ZP,{split:"vertical",children:(0,e.jsx)(w.ZP,{colSpan:24,layout:"center",children:(0,e.jsx)(qe,{state:i})})})]})},Ye=ze,Ge=de.Z.Title,Pe=function(){var b,n,F=(0,a.useParams)(),j=F.questionnaireId,h=(0,a.useIntl)(),u=j==="new",Q=re.Z.useForm(),I=O()(Q,1),d=I[0],i=(0,v.useState)(),m=O()(i,2),r=m[0],Z=m[1],g=(0,v.useState)("questionnaire"),p=O()(g,2),M=p[0],s=p[1],V=(0,v.useState)(),C=O()(V,2),P=C[0],je=C[1],_e=(0,v.useState)({}),Se=O()(_e,2),xe=Se[0],Ie=Se[1],Te=(0,v.useCallback)(K()(S()().mark(function y(){var f;return S()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,N.xR)();case 2:f=x.sent,f.success&&je(f.data);case 4:case"end":return x.stop()}},y)})),[]),Ee=(0,v.useCallback)(function(y,f){return y.reduce(function(T,x){return(T[x[f]]=T[x[f]]||[]).push(x.model_id),T},{})},[]),oe=(0,v.useCallback)(K()(S()().mark(function y(){var f;return S()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,(0,N.Iu)(Number(j));case 2:f=x.sent,f.success&&(Z(o()({},f.data)),f.data.models&&Ie(Ee(f.data.models,"model_type_id")));case 4:case"end":return x.stop()}},y)})),[j,Ee]);(0,v.useEffect)(function(){if(Te(),u){Z({title:"new"});return}oe()},[j,oe,Te,u]);var He=(0,v.useCallback)(function(y,f){Ie(function(T){return o()(o()({},T),{},H()({},f,y))})},[]),be=(0,v.useCallback)(function(y){var f=[];return Object.keys(y).map(function(T){f.push.apply(f,W()(y[T].map(function(x){return{model_id:Number(x),model_type_id:Number(T)}})))}),f},[]),Je=(0,v.useMemo)(function(){return{onFinish:function(){var y=K()(S()().mark(function T(x){var z,ve;return S()().wrap(function($){for(;;)switch($.prev=$.next){case 0:if($.prev=0,!u){$.next=9;break}return $.next=4,(0,N.wW)(o()(o()({},x),{},{models:be(xe)}));case 4:z=$.sent,z.success&&a.history.push("/other/questionnaire/".concat(z.data.id)),L.ZP.success((0,e.jsx)(a.FormattedMessage,{id:"success",defaultMessage:"success"})),$.next=14;break;case 9:return $.next=11,(0,N.xN)(Number(r==null?void 0:r.id),o()(o()({},x),{},{models:be(xe)}));case 11:ve=$.sent,ve.success&&oe(),L.ZP.success((0,e.jsx)(a.FormattedMessage,{id:"success",defaultMessage:"success"}));case 14:$.next=19;break;case 16:$.prev=16,$.t0=$.catch(0),L.ZP.error((0,e.jsx)(a.FormattedMessage,{id:"error",defaultMessage:"error"}));case 19:case"end":return $.stop()}},T,null,[[0,16]])}));function f(T){return y.apply(this,arguments)}return f}(),initialValues:r}},[r,xe,oe,be,u]);return r?(0,e.jsx)(le._z,{title:(0,e.jsx)(e.Fragment,{children:(0,e.jsx)(a.FormattedMessage,{id:r!=null&&r.title?"questionnaire":"new_questionnaire"})}),header:{breadcrumb:{routes:[{path:"other/questionnaire",breadcrumbName:h.formatMessage({id:"menu.Other activities.Questionnaire"})},{path:String(j),breadcrumbName:h.formatMessage({id:"form"})},{path:"/",breadcrumbName:String(r==null?void 0:r.title)}]}},children:(0,e.jsxs)(w.ZP,{tabs:{type:"card",defaultActiveKey:"questionnaire",activeKey:M,onChange:function(f){return s(f)}},children:[(0,e.jsxs)(w.ZP.TabPane,{tab:(0,e.jsx)(a.FormattedMessage,{id:"questionnaire",defaultMessage:"questionnaire"}),children:[(0,e.jsx)(Ge,{level:3,children:(0,e.jsx)(a.FormattedMessage,{id:"questionnaire",defaultMessage:"questionnaire"})})," ",(0,e.jsx)(q.ZP,o()(o()({},Je),{},{form:d,children:(0,e.jsxs)(ge.Z,{children:[(0,e.jsx)(se.Z,{span:6,children:(0,e.jsx)(A.Z,{label:(0,e.jsx)(a.FormattedMessage,{id:"title",defaultMessage:"title"}),rules:[{required:!0}],width:"md",name:"title"})}),(0,e.jsx)(se.Z,{children:(0,e.jsx)(ee.Z,{initialValue:!0,name:"active",label:(0,e.jsx)(a.FormattedMessage,{id:"is_active",defaultMessage:"is_active"})})})]})}))]},"questionnaire"),(0,e.jsx)(w.ZP.TabPane,{tab:(0,e.jsx)(a.FormattedMessage,{id:"questions",defaultMessage:"questions"}),disabled:u,children:(0,e.jsx)(we,{questionnaireId:Number(j),questions:r.questions||[],fetchData:oe})},"questions"),(0,e.jsx)(w.ZP.TabPane,{tab:(0,e.jsx)(a.FormattedMessage,{id:"answers",defaultMessage:"answers"}),disabled:u,children:(0,e.jsx)(U,{questionnaireId:Number(j),questions:r.questions||[]})},"answers"),P&&P.map(function(y){var f,T,x;return(0,e.jsxs)(w.ZP.TabPane,{tab:"".concat(h.formatMessage({id:"assign"})," ").concat(h.formatMessage({id:"to"})," ").concat(h.formatMessage({id:(f=y.title)===null||f===void 0?void 0:f.replace(y.title.charAt(0),y.title.charAt(0).toUpperCase())})),disabled:u,children:[(0,e.jsx)(ue.T,{defaultValue:((T=r.models)===null||T===void 0?void 0:T.filter(function(z){return z.model_type_title===y.title}).map(function(z){return{value:z.model_id,label:z.model_title}}))||[],multiple:!0,onChange:function(ve){return He(ve,y.id)},modelType:(x=y.title)===null||x===void 0?void 0:x.toUpperCase()}),(0,e.jsx)(te.ZP,{className:"submit-btn",type:"primary",onClick:function(){return d.submit()},children:(0,e.jsx)(a.FormattedMessage,{id:"questionnaire.submit",defaultMessage:"questionnaire.submit"})})]},String(y.id))}),(0,e.jsx)(w.ZP.TabPane,{tab:(0,e.jsx)(a.FormattedMessage,{id:"menu.reports",defaultMessage:"menu.reports"}),disabled:u||((b=r.models)===null||b===void 0?void 0:b.length)===0,children:(r==null?void 0:r.models)&&(r==null||(n=r.models)===null||n===void 0?void 0:n.length)>0&&(0,e.jsx)(Ye,{questionnaireId:Number(j),models:r.models})},"raport")]})}):(0,e.jsx)(G.Z,{})},Xe=Pe}}]);
