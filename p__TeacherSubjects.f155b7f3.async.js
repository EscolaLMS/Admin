(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{rbc4:function(_,h,e){"use strict";e.r(h),e.d(h,"TableColumns",function(){return M});var ee=e("5Dmo"),E=e("3S7+"),te=e("+L6B"),P=e("2/Rp"),I=e("k1fw"),z=e("PpiC"),s=e("q1tI"),r=e("9kvl"),A=e("55Ip"),J=e("tMyG"),B=e("Qiat"),C=e("psqD"),G=e("G3dp"),ae=e("OaEy"),y=e("2fM7"),ne=e("T2oS"),K=e("W9HT"),p=e("oBTY"),T=e("tJVT"),t=e("nKUr"),V=function(a){var c=a.value,l=a.onChange,u=a.onSelect,i=a.onDeselect,j=a.onClear,f=a.loading,m=a.disabled,F=a.multiple,Q=F===void 0?!1:F,U=Object(s.useState)([]),R=Object(T.a)(U,2),S=R[0],D=R[1],N=Object(s.useState)(!1),L=Object(T.a)(N,2),X=L[0],g=L[1],Z=Object(s.useRef)(),b=Object(s.useRef)(),$=Object(s.useCallback)(function(n){D(function(o){return[].concat(Object(p.a)(o),Object(p.a)(n)).filter(function(d,v,k){return k.findIndex(function(q){return q.id===d.id})===v})})},[]);Object(s.useEffect)(function(){Z.current=S},[S]);var x=Object(s.useCallback)(function(n){g(!0),b.current&&b.current.abort(),b.current=new AbortController,Object(C.d)({academicYearID:n},{signal:b.current.signal}).then(function(o){o.success&&D(o.data),g(!1)}).catch(function(){return g(!1)})},[$]),w=Object(s.useCallback)(function(n){x(n)},[x]);return Object(t.jsx)(y.a,{onSelect:u,onDeselect:i,onClear:j,loading:f,disabled:m,onFocus:function(){return x()},allowClear:!0,style:{width:"100%"},value:c,onChange:l,mode:Q?"multiple":void 0,showSearch:!0,onSearch:w,placeholder:Object(t.jsx)(r.a,{id:"select_semester",defaultMessage:"Select semester"}),optionFilterProp:"children",filterOption:function(o,d){if(d&&d.children){var v;return(d==null||(v=d.children)===null||v===void 0?void 0:v.toString().toLowerCase().indexOf(o.toLowerCase()))>=0}return!0},notFoundContent:X?Object(t.jsx)(K.a,{size:"small"}):null,children:S.map(function(n){return Object(t.jsx)(y.a.Option,{value:n.id,children:n.name},n.id)})})},W=V,Y=["type","defaultRender"],M=[{hideInSearch:!1,hideInTable:!0,title:Object(t.jsx)(r.a,{id:"semester",defaultMessage:"semester"}),dataIndex:"semester_id",renderFormItem:function(a,c,l){var u=c.type,i=c.defaultRender,j=Object(z.a)(c,Y);if(u==="form")return null;var f=l.getFieldValue("state");return Object(t.jsx)(W,Object(I.a)(Object(I.a)({},j),{},{state:{type:f}}))}},{title:Object(t.jsx)(r.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(t.jsx)(r.a,{id:"subject",defaultMessage:"subject"}),dataIndex:["subject","name"],hideInSearch:!0},{title:Object(t.jsx)(r.a,{id:"semester",defaultMessage:"semester"}),dataIndex:["semester","name"],hideInSearch:!0},{title:Object(t.jsx)(r.a,{id:"group",defaultMessage:"group"}),dataIndex:"groups",render:function(a,c){return Object(t.jsx)("span",{children:c.groups.map(function(l){return Object(t.jsxs)("span",{children:[l.name," ",Object(t.jsx)("br",{})]},l.id)})})},hideInForm:!0,hideInSearch:!0}],H=function(){var a=Object(s.useRef)(),c=Object(r.l)();return Object(t.jsx)(J.a,{children:Object(t.jsx)(B.a,{headerTitle:c.formatMessage({id:"menu.Teacher.Subjects",defaultMessage:"Subjects"}),actionRef:a,rowKey:"id",search:{layout:"vertical"},request:function(u){var i=u.pageSize,j=u.current,f=u.semester_id;return Object(C.c)({per_page:i,page:j,semester_id:f}).then(function(m){return m.success?{data:m.data,total:m.meta.total,success:!0}:[]})},columns:[].concat(M,[{hideInSearch:!0,title:Object(t.jsx)(r.a,{id:"pages.searchTable.titleOption"}),dataIndex:"option",valueType:"option",render:function(u,i){return[Object(t.jsx)(A.a,{to:"/teacher/subjects/".concat(i.id),children:Object(t.jsx)(E.a,{title:Object(t.jsx)(r.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(P.a,{type:"primary",icon:Object(t.jsx)(G.a,{})})})},"edit")]}}])})})},se=h.default=H}}]);
