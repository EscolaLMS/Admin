(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"/y+f":function(z,j,e){"use strict";e.d(j,"c",function(){return i}),e.d(j,"a",function(){return O}),e.d(j,"b",function(){return D});var i;(function(u){u.Unselected="",u.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",u.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",u.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",u.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",u.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",u.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",u.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",u.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco"})(i||(i={}));var d;(function(u){u.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",u.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(d||(d={}));var c;(function(u){u.draft="draft",u.published="published",u.archived="archived"})(c||(c={}));var O;(function(u){u.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",u.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",u.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(O||(O={}));var D;(function(u){u.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(D||(D={}));var _;(function(u){u.cart_fixed="cart_fixed",u.cart_percent="cart_percent",u.product_fixed="product_fixed",u.product_percent="product_percent"})(_||(_={}))},"0eZe":function(z,j,e){"use strict";var i=e("14J3"),d=e("BMrR"),c=e("jCWc"),O=e("kPKH"),D=e("+BJd"),_=e("mr32"),u=e("oBTY"),T=e("5NDa"),S=e("5rEg"),f=e("T2oS"),P=e("W9HT"),g=e("miYZ"),M=e("tsqr"),m=e("qLMh"),o=e("k1fw"),E=e("9og8"),b=e("tJVT"),l=e("q1tI"),p=e("VMEa"),U=e("Qurx"),$=e("5qq5"),R=e("F/zT"),s=e("FJDo"),r=e("nhC9"),a=e("9kvl"),v=e("vzes"),n=e("DVQu"),x=e("Gn8c"),A=e("TWax"),Me=e("90Xc"),ye=e("5Dmo"),le=e("3S7+"),Ce=e("+L6B"),G=e("2/Rp"),ne=e("0WSk"),V=e("Qiat"),y=e("/MfK"),t=e("nKUr"),N=[{title:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:Object(t.jsx)(a.a,{id:"email",defaultMessage:"email"}),dataIndex:"email"}],I=function(W){var K=W.id,fe=Object(a.j)(),J=Object(l.useRef)(),xe=Object(l.useState)(!1),F=Object(b.a)(xe,2),de=F[0],q=F[1],ae=p.a.useForm(),w=Object(b.a)(ae,1),Ee=w[0],ve=Object(l.useCallback)(function(){var H=Object(E.a)(Object(m.a)().mark(function me(X){var B;return Object(m.a)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return q(!0),L.next=3,Object(n.d)(Number(K),{user_id:X.user_id});case 3:Ee.resetFields(),(B=J.current)===null||B===void 0||B.reload(),q(!1);case 6:case"end":return L.stop()}},me)}));return function(me){return H.apply(this,arguments)}}(),[K]),C=Object(l.useCallback)(function(){var H=Object(E.a)(Object(m.a)().mark(function me(X){var B;return Object(m.a)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return q(!0),L.next=3,Object(n.e)(Number(K),{user_id:X});case 3:(B=J.current)===null||B===void 0||B.reload(),q(!1);case 5:case"end":return L.stop()}},me)}));return function(me){return H.apply(this,arguments)}}(),[K]);return Object(t.jsxs)(l.Fragment,{children:[Object(t.jsx)(p.a,{layout:"inline",onFinish:ve,form:Ee,labelWrap:!0,children:Object(t.jsx)(p.a.Group,{children:Object(t.jsx)(p.a.Item,{name:"user_id",label:Object(t.jsx)(a.a,{id:"users"}),valuePropName:"value",children:Object(t.jsx)(ne.a,{})})})}),Object(t.jsx)(V.a,{defaultSize:"small",loading:de,search:!1,headerTitle:fe.formatMessage({id:"users",defaultMessage:"Users"}),actionRef:J,rowKey:"id",request:Object(E.a)(Object(m.a)().mark(function H(){return Object(m.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:return q(!0),X.abrupt("return",Object(n.c)(Number(K)).then(function(B){return q(!1),B.success&&B.data.users?{data:B.data.users,total:B.data.users.length,success:!0}:B.success?[]:{data:[],total:0,success:!1}}));case 2:case"end":return X.stop()}},H)})),columns:[].concat(N,[{title:Object(t.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(me,X){return[Object(t.jsx)(le.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(G.a,{type:"primary",icon:Object(t.jsx)(y.a,{}),danger:!0,onClick:function(){return C(X.id)}})},"delete")]}}])})]})},k=I,ee=e("5RzD"),De=e("rnuo"),Ae=e("c+yx"),oe=e("hd5d"),Ge=e("DYRE"),Be=e("zeV3"),Ke=e("rWUb"),ze=e("OaEy"),Re=e("2fM7"),Fe=function(W){var K=W.value,fe=W.onChange,J=W.multiple,xe=J===void 0?!1:J,F=W.params,de=Object(l.useState)([]),q=Object(b.a)(de,2),ae=q[0],w=q[1],Ee=Object(l.useState)(!1),ve=Object(b.a)(Ee,2),C=ve[0],H=ve[1],me=Object(l.useState)([]),X=Object(b.a)(me,2),B=X[0],Pe=X[1],L=Object(l.useRef)(),Ve=Object(l.useCallback)(function(){H(!0),L.current&&L.current.abort(),L.current=new AbortController,Object(Ke.e)(F,{signal:L.current.signal}).then(function(Y){Y.success&&w(Y.data),H(!1)}).catch(function(){return H(!1)})},[]);return Object(l.useEffect)(function(){var Y=new AbortController;if(K){var Se=Array.isArray(K)?K:[K],he=Se.map(function(_e){return typeof _e=="object"?Number(_e.id):Number(_e)});Pe(he)}return function(){Y.abort()}},[K]),Object(t.jsx)(Re.a,{onFocus:function(){return Ve()},allowClear:!0,style:{width:"100%",minWidth:"400px"},value:B,onChange:fe,mode:xe?"multiple":void 0,showSearch:!0,placeholder:Object(t.jsx)(a.a,{id:"select_template",defaultMessage:"Select a template"}),optionFilterProp:"children",filterOption:function(Se,he){if(he&&he.children){var _e;return(he==null||(_e=he.children)===null||_e===void 0?void 0:_e.toString().toLowerCase().indexOf(Se&&Se.toLowerCase()||""))>=0}return!1},notFoundContent:C?Object(t.jsx)(P.a,{size:"small"}):null,children:ae.map(function(Y){return Object(t.jsxs)(Re.a.Option,{value:Y.id,children:[Y.name," ",Object(t.jsxs)("small",{children:[Object(t.jsx)(a.a,{id:Y.channel.split("\\").pop()}),":",Y.event&&Object(t.jsx)(a.a,{id:Y.event.split("\\").pop()})]})]},Y.id)})})},We=Fe,$e=e("/y+f"),je=function(W){var K=W.productId,fe=Object(l.useState)(!1),J=Object(b.a)(fe,2),xe=J[0],F=J[1],de=Object(l.useState)(),q=Object(b.a)(de,2),ae=q[0],w=q[1],Ee=Object(a.j)(),ve=Object(l.useCallback)(function(){F(!0),typeof ae=="number"&&Object(Ke.g)(Number(ae),K).then(function(C){C.success?M.b.success(C.message):M.b.error(C.message)}).catch(function(C){return M.b.error(C.toString())}).finally(function(){return F(!1)})},[ae,K]);return Object(t.jsxs)(Be.b,{children:[Object(t.jsx)(Fe,{params:{event:$e.b.ManuallyTriggeredEvent},multiple:!1,value:ae,onChange:function(H){return w(H)}}),Object(t.jsx)(le.a,{title:Ee.formatMessage({id:"generate_pdf_for_products_tooltip"}),children:Object(t.jsx)(G.a,{loading:xe,onClick:function(){return ve()},disabled:!ae,children:Object(t.jsx)(a.a,{id:"generate"})})})]})},te=je,ce=e("qSko"),se=function(W){return W.map(function(K){return{class:K.productable_type,id:Number(K.productable_id),name:K.name,quantity:K.quantity}})},Oe=function(W){var K=Array.isArray(W)?W:[W],fe=K.map(function(J){return typeof J=="object"?J:{id:parseInt(J.split(":")[1]),class:J.split(":")[0],name:J.split(":")[2]}});return fe},be=function(W){var K=W.tab,fe=K===void 0?"attributes":K,J=W.onTabChange,xe=W.id,F=W.productable,de=W.onProductSaved,q=W.type,ae=q===void 0?"card":q,w=Object(a.j)(),Ee=Object(l.useState)(xe),ve=Object(b.a)(Ee,2),C=ve[0],H=ve[1],me=Object(l.useState)([]),X=Object(b.a)(me,2),B=X[0],Pe=X[1],L=Object(l.useMemo)(function(){return C==="new"},[C]),Ve=Object(l.useState)(!0),Y=Object(b.a)(Ve,2),Se=Y[0],he=Y[1],_e=Object(l.useState)(null),we=Object(b.a)(_e,2),Je=we[0],Ze=we[1],ke=Object(l.useState)({}),qe=Object(b.a)(ke,2),et=qe[1],tt=Object(l.useCallback)(function(){return et({})},[]),at=p.a.useForm(),rt=Object(b.a)(at,1),Te=rt[0],nt=Object(l.useState)(!1),Qe=Object(b.a)(nt,2),He=Qe[0],Xe=Qe[1];Object(l.useEffect)(function(){F&&F.class_id&&F.class_type&&(Object(n.f)({productable_id:Number(F.class_id),productable_type:F.class_type}).then(function(Q){Q.success&&H(Q.data.id)}).catch(function(){console.log("err"),H("new")}),Pe([{class:F.class_type,id:Number(F.class_id),name:F.name}]),Te.setFieldsValue({productables:[{class:F.class_type,id:F.class_id,name:F.name}]}))},[F]);var st=Object(l.useCallback)(Object(E.a)(Object(m.a)().mark(function Q(){var h,ue,Ue,ge,re,Ie,Z;return Object(m.a)().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:if(!(C&&C!=="new")){Le.next=5;break}return Le.next=3,Object(n.c)(Number(C));case 3:h=Le.sent,h.success&&(re=Object(o.a)(Object(o.a)({},h.data),{},{categories:(ue=h.data.categories)===null||ue===void 0?void 0:ue.map(Ae.a),tags:(Ue=h.data.tags)===null||Ue===void 0?void 0:Ue.map(function(lt){return Object(Ae.g)(lt)}),productables:h.data.productables?se(h.data.productables):[]}),h.data&&h!==null&&h!==void 0&&(ge=h.data)!==null&&ge!==void 0&&ge.productables&&Ze(h==null||(Ie=h.data)===null||Ie===void 0||(Z=Ie.productables[0])===null||Z===void 0?void 0:Z.productable_type),Pe(se(h.data.productables)),Te.setFieldsValue(re),Xe(h.data.type==="bundle"));case 5:he(!1);case 6:case"end":return Le.stop()}},Q)})),[C]);Object(l.useEffect)(function(){C&&st()},[C]);var Ne=Object(l.useMemo)(function(){return{onValuesChange:function(h){h.type&&Xe(h.type==="bundle")},onFinish:function(){var Q=Object(E.a)(Object(m.a)().mark(function ue(Ue){var ge,re;return Object(m.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(ge=Object(o.a)(Object(o.a)({},Ue),{},{productables:B?Oe(B):void 0}),!L){Z.next=8;break}return Z.next=4,Object(n.a)(ge);case 4:re=Z.sent,re.success&&(de&&de(re.data),H(re.data.id),Te.setFieldsValue(re.data)),Z.next=12;break;case 8:return Z.next=10,Object(n.i)(Number(C),ge);case 10:re=Z.sent,re.success&&de&&de(re.data);case 12:M.b.success(re.message);case 13:case"end":return Z.stop()}},ue)}));function h(ue){return Q.apply(this,arguments)}return h}()}},[C,de,B]);return Se?Object(t.jsx)(P.a,{}):Object(t.jsxs)(r.a,{title:ae==="line"?Object(t.jsx)(a.a,{id:"product_widget_title",defaultMessage:"Product Attibutes"}):null,tooltip:ae==="line"?Object(t.jsx)(a.a,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,subTitle:ae==="line"?Object(t.jsx)(a.a,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,tabs:{type:ae,activeKey:fe,onChange:function(h){return J(h)}},children:[Object(t.jsxs)(r.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"attributes"}),children:[Object(t.jsxs)(p.a,Object(o.a)(Object(o.a)({},Ne),{},{form:Te,children:[Object(t.jsxs)(p.a.Group,{children:[Object(t.jsx)(U.a,{width:"md",name:"name",initialValue:L&&F?F.name:void 0,label:Object(t.jsx)(a.a,{id:"name"}),tooltip:Object(t.jsx)(a.a,{id:"name_tooltip"}),placeholder:w.formatMessage({id:"name",defaultMessage:"name"}),required:!0}),Object(t.jsx)(p.a.Item,{shouldUpdate:!0,style:{minWidth:104*3},name:"productables",tooltip:Object(t.jsx)(a.a,{id:"productables_tooltip"}),label:Object(t.jsx)(a.a,{id:"productables"}),valuePropName:"value",children:Object(t.jsx)(v.a,{multiple:He,disabled:F!==void 0,onChange:function(h){return Pe(Oe(h))}})})]}),Object(t.jsxs)(p.a.Group,{children:[Object(t.jsx)($.a.Group,{disabled:F!==void 0,initialValue:C&&C!=="new"?void 0:"single",rules:[{required:!0}],name:"type",label:Object(t.jsx)(a.a,{id:"type"}),options:[{label:w.formatMessage({id:"single",defaultMessage:"single"}),value:"single"},{label:w.formatMessage({id:"bundle",defaultMessage:"bundle"}),value:"bundle"}]}),Object(t.jsx)(R.a,{name:"purchasable",label:Object(t.jsx)(a.a,{id:"purchasable"}),tooltip:Object(t.jsx)(a.a,{id:"purchasable_tooltip"})})]}),Object(t.jsxs)(p.a.Group,{title:Object(t.jsx)(a.a,{id:"prices"}),children:[Object(t.jsx)(s.a,{rules:[{required:!0}],width:"xs",name:"price",label:Object(t.jsx)(a.a,{id:"price"}),tooltip:Object(t.jsx)(a.a,{id:"price_tooltip"}),placeholder:w.formatMessage({id:"price",defaultMessage:"price"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(s.a,{rules:[{required:!0}],width:"xs",name:"tax_rate",label:Object(t.jsx)(a.a,{id:"tax_rate"}),tooltip:Object(t.jsx)(a.a,{id:"tax_rate_tooltip"}),placeholder:w.formatMessage({id:"tax_rate",defaultMessage:"tax_rate"}),initialValue:L?23:void 0,min:0,max:100,fieldProps:{step:1,formatter:function(h){return"".concat(h,"%")},parser:function(h){return h?h.replace("%",""):""}}}),Object(t.jsx)(p.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"price_brutto"}),tooltip:Object(t.jsx)(a.a,{id:"price_brutto_tooltip"}),style:{width:104},children:function(h){return Object(t.jsx)(S.a,{disabled:!0,readOnly:!0,value:h.getFieldValue("price")?Math.round(parseInt(h.getFieldValue("price"))*(1+parseInt(h.getFieldValue("tax_rate"))/100)):void 0})}}),Object(t.jsx)(p.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"tax_value"}),tooltip:Object(t.jsx)(a.a,{id:"tax_value_tooltip"}),children:function(h){return Object(t.jsx)(S.a,{disabled:!0,readOnly:!0,value:h.getFieldValue("price")?Math.round(parseInt(h.getFieldValue("price"))*(parseInt(h.getFieldValue("tax_rate"))/100)):void 0})}}),Object(t.jsx)(s.a,{width:"xs",name:"price_old",label:Object(t.jsx)(a.a,{id:"price_old"}),tooltip:Object(t.jsx)(a.a,{id:"price_old_tooltip"}),placeholder:w.formatMessage({id:"price",defaultMessage:"price"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(s.a,{initialValue:L?null:void 0,width:"xs",name:"extra_fees",label:Object(t.jsx)(a.a,{id:"extra_fees"}),tooltip:Object(t.jsx)(a.a,{id:"extra_fees_tooltip"}),placeholder:w.formatMessage({id:"extra_fees",defaultMessage:"extra_fees"}),min:0,max:99999,fieldProps:{step:1}})]}),Object(t.jsxs)(p.a.Group,{title:Object(t.jsx)(a.a,{id:"additional_fields"}),children:[Object(t.jsx)(U.a,{width:"md",name:"duration",label:Object(t.jsx)(a.a,{id:"duration"}),tooltip:Object(t.jsx)(a.a,{id:"duration_tooltip"}),placeholder:w.formatMessage({id:"duration",defaultMessage:"duration"})}),Object(t.jsx)(s.a,{initialValue:L?null:void 0,width:"xs",name:"limit_per_user",label:Object(t.jsx)(a.a,{id:"limit_per_user"}),tooltip:Object(t.jsx)(a.a,{id:"limit_per_user_tooltip"}),placeholder:w.formatMessage({id:"limit_per_user",defaultMessage:"limit_per_user"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(s.a,{initialValue:L?null:void 0,width:"xs",name:"limit_total",label:Object(t.jsx)(a.a,{id:"limit_total"}),tooltip:Object(t.jsx)(a.a,{id:"limit_total_tooltip"}),placeholder:w.formatMessage({id:"limit_total",defaultMessage:"limit_total"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(U.a,{width:"md",name:"teaser_url",label:Object(t.jsx)(a.a,{id:"teaser_url"}),tooltip:Object(t.jsx)(a.a,{id:"teaser_url_tooltip"}),placeholder:w.formatMessage({id:"teaser_url",defaultMessage:"teaser_url"})})]})," ",Object(t.jsx)(p.a.Item,{shouldUpdate:!0,name:"related_products",label:Object(t.jsx)(a.a,{id:"related_products"}),valuePropName:"value",children:Je&&Object(t.jsx)(ce.a,{type:Je,multiple:!0})}),!L&&Object(t.jsx)(p.a.Item,{style:{width:"100%"},name:"description",label:Object(t.jsx)(a.a,{id:"description"}),tooltip:Object(t.jsx)(a.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(t.jsx)(oe.a,{directory:"products/".concat(C,"/wysiwyg")})}),B.length>0&&He&&Object(t.jsx)(V.a,{headerTitle:w.formatMessage({id:"selected_products",defaultMessage:"Selected Products"}),pagination:!1,search:!1,dataSource:Object(u.a)(B),rowKey:"id",columns:[{title:Object(t.jsx)(a.a,{id:"id",defaultMessage:"id"}),dataIndex:"id",width:"10%"},{title:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:Object(t.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"class",render:function(h,ue){return Object(t.jsx)(_.a,{children:Object(t.jsx)(a.a,{id:ue.class.split("\\").pop(),defaultMessage:ue.class.split("\\").pop()})})}},{title:Object(t.jsx)(a.a,{id:"quantity",defaultMessage:"quantity"}),dataIndex:"quantity",width:"10%",render:function(h,ue){return Object(t.jsx)(S.a,{min:1,type:"number",value:ue.quantity||1,onChange:function(ge){var re=ge.target.value,Ie=B.findIndex(function(Ye){return Ye.id===ue.id}),Z=B;Z[Ie].quantity=Number(re),Pe(Z),tt()}})}}]})]}))," "]},"attributes"),!L&&Object(t.jsx)(r.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"cart_media",defaultMessage:"Cart Media"}),children:Object(t.jsx)(p.a,Object(o.a)(Object(o.a)({},Ne),{},{form:Te,children:Object(t.jsx)(x.a,{folder:"products/".concat(C),wrapInForm:!1,title:"image",action:"/api/admin/products/".concat(C,"/?_method=PUT"),src_name:"poster_url",form_name:"poster",getUploadedSrcField:function(h){return h.file.response.data.poster_url},setPath:function(h){return Te.setFieldsValue(h)}})}))},"media"),!L&&Object(t.jsx)(r.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"product_categories_and_tags",defaultMessage:"Product Categories & Tags"}),children:Object(t.jsx)(p.a,Object(o.a)(Object(o.a)({},Ne),{},{form:Te,children:Object(t.jsxs)(d.a,{children:[Object(t.jsx)(O.a,{span:12,children:Object(t.jsx)(p.a.Item,{label:Object(t.jsx)(a.a,{id:"categories"}),name:"categories",valuePropName:"value",children:Object(t.jsx)(A.a,{})})}),Object(t.jsx)(O.a,{span:12,children:Object(t.jsx)(p.a.Item,{label:Object(t.jsx)(a.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(t.jsx)(De.a,{})})})]})}))},"categories"),!L&&Object(t.jsx)(r.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"users_attached",defaultMessage:"Users Attached"}),children:Object(t.jsx)(d.a,{children:Object(t.jsx)(O.a,{span:24,children:C&&Object(t.jsx)(k,{id:C})})})},"users")," ",!L&&Object(t.jsx)(r.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"user_submission",defaultMessage:"Users Attached without Account"}),children:Object(t.jsx)(d.a,{children:Object(t.jsx)(O.a,{span:12,children:C&&Object(t.jsx)(ee.a,{id:Number(C),type:"EscolaLms\\Cart\\Models\\Product"})})})},"user_submission"),!L&&C&&Object(t.jsx)(r.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"template"}),children:Object(t.jsx)(d.a,{children:Object(t.jsx)(O.a,{span:12,children:Object(t.jsx)(te,{productId:Number(C)})})})},"template")]})},ie=j.a=be},"25Dr":function(z,j,e){"use strict";e.r(j);var i=e("tMyG"),d=e("Ty5D"),c=e("9kvl"),O=e("Ug4X"),D=e.n(O),_=e("0eZe"),u=e("nKUr"),T=e.n(u),S=function(){var P=Object(d.l)(),g=P.id,M=P.tab,m=M===void 0?"attributes":M,o=Object(c.j)(),E=g==="new";return Object(u.jsx)(i.a,{title:E?Object(u.jsx)(c.a,{id:"product"}):Object(u.jsx)(c.a,{id:"product.edit"}),header:{breadcrumb:{routes:[{path:"sales/products",breadcrumbName:o.formatMessage({id:"menu.Other activities.Products"})},{path:String(g),breadcrumbName:o.formatMessage({id:"form"})},{path:"/",breadcrumbName:o.formatMessage({id:g==="new"?"new":"edit"})},{path:String(m),breadcrumbName:o.formatMessage({id:String(m)})}]}},children:g&&Object(u.jsx)(_.a,{id:g,tab:m,onTabChange:function(l){return c.e.push("/sales/products/".concat(g,"/").concat(l))},onProductSaved:function(l){return E?c.e.push("/sales/products/".concat(l.id)):c.e.push("/sales/products/".concat(l.id,"/").concat(m))}})})};j.default=S},"5RzD":function(z,j,e){"use strict";var i=e("miYZ"),d=e("tsqr"),c=e("k1fw"),O=e("P2fV"),D=e("NJEC"),_=e("5Dmo"),u=e("3S7+"),T=e("+L6B"),S=e("2/Rp"),f=e("qLMh"),P=e("9og8"),g=e("tJVT"),M=e("q1tI"),m=e("VMEa"),o=e("9kvl"),E=e("Qiat"),b=e("xvlK"),l=e("/MfK");function p(V,y){return U.apply(this,arguments)}function U(){return U=Object(P.a)(Object(f.a)().mark(function V(y,t){return Object(f.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",Object(o.g)("/api/admin/user-submissions",Object(c.a)({method:"GET",params:Object(c.a)(Object(c.a)({},y),{},{per_page:y&&y.pageSize,page:y&&y.current})},t||{})));case 1:case"end":return I.stop()}},V)})),U.apply(this,arguments)}function $(V,y){return R.apply(this,arguments)}function R(){return R=Object(P.a)(Object(f.a)().mark(function V(y,t){return Object(f.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",Object(o.g)("/api/admin/user-submissions",Object(c.a)({method:"POST",headers:{"Content-Type":"application/json"},data:y},t||{})));case 1:case"end":return I.stop()}},V)})),R.apply(this,arguments)}function s(V,y){return r.apply(this,arguments)}function r(){return r=Object(P.a)(Object(f.a)().mark(function V(y,t){return Object(f.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",Object(o.g)("/api/admin/user-submissions/".concat(y),Object(c.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},t||{})));case 1:case"end":return I.stop()}},V)})),r.apply(this,arguments)}var a=e("y8nQ"),v=e("Vl3Y"),n=e("rmhi"),x=e("Qurx"),A=e("nKUr"),Me=function(y){var t=Object(o.j)(),N=y.visible,I=y.onVisibleChange,k=y.onFinish,ee=y.id,De=v.a.useForm(),Ae=Object(g.a)(De,1),oe=Ae[0];return Object(A.jsx)(n.a,{form:oe,title:t.formatMessage({id:"email",defaultMessage:"email"}),width:"30vw",visible:N,onVisibleChange:I,onFinish:k,children:Object(A.jsx)(m.a.Group,{children:Object(A.jsx)(x.a,{width:"md",name:"email",label:Object(A.jsx)(o.a,{id:"email"}),tooltip:Object(A.jsx)(o.a,{id:"email_tooltip"}),placeholder:t.formatMessage({id:"email",defaultMessage:"email"}),required:!0})})})},ye=Me,le=e("MvUh"),Ce=[{title:Object(A.jsx)(o.a,{id:"id",defaultMessage:"id"}),dataIndex:"id",hideInSearch:!0},{title:Object(A.jsx)(o.a,{id:"email",defaultMessage:"email"}),dataIndex:"email",hideInSearch:!1,width:"70%"},{title:Object(A.jsx)(o.a,{id:"status",defaultMessage:"status"}),dataIndex:"status",hideInSearch:!0}],G=function(y){var t=y.id,N=y.type,I=Object(o.j)(),k=Object(M.useRef)(),ee=Object(M.useState)(!1),De=Object(g.a)(ee,2),Ae=De[0],oe=De[1],Ge=m.a.useForm(),Be=Object(g.a)(Ge,1),Ke=Be[0],ze=Object(M.useState)(!1),Re=Object(g.a)(ze,2),Fe=Re[0],We=Re[1],$e=Object(M.useCallback)(function(){var je=Object(P.a)(Object(f.a)().mark(function te(ce){var se;return Object(f.a)().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return oe(!0),be.next=3,s(Number(ce));case 3:(se=k.current)===null||se===void 0||se.reload(),oe(!1);case 5:case"end":return be.stop()}},te)}));return function(te){return je.apply(this,arguments)}}(),[t,N]);return Object(A.jsxs)(M.Fragment,{children:[Object(A.jsx)(E.a,{defaultSize:"small",loading:Ae,search:{},headerTitle:I.formatMessage({id:"user_submission",defaultMessage:"user_submission"}),actionRef:k,toolBarRender:function(){return[Object(A.jsxs)(S.a,{type:"primary",onClick:function(){return We(!0)},children:[Object(A.jsx)(b.a,{})," ",Object(A.jsx)(o.a,{id:"email_to_add",defaultMessage:"email_to_add"})]},"primary")]},rowKey:"id",request:function(){var je=Object(P.a)(Object(f.a)().mark(function te(ce){var se,Oe,be;return Object(f.a)().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return se=ce.email,Oe=ce.pageSize,be=ce.current,oe(!0),pe.abrupt("return",p({email:se,pageSize:Oe,current:be,morphable_type:N,morphable_id:t}).then(function(W){return oe(!1),W.success?{data:W.data,total:W.data.length,success:!0}:W.success?[]:{data:[],total:0,success:!1}}));case 3:case"end":return pe.stop()}},te)}));return function(te){return je.apply(this,arguments)}}(),columns:[].concat(Ce,[{title:Object(A.jsx)(o.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(te,ce){return[Object(A.jsx)(D.a,{title:Object(A.jsx)(o.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return $e(ce.id)},okText:Object(A.jsx)(o.a,{id:"yes"}),cancelText:Object(A.jsx)(o.a,{id:"no"}),children:Object(A.jsx)(u.a,{title:Object(A.jsx)(o.a,{id:"delete",defaultMessage:"delete"}),children:Object(A.jsx)(S.a,{type:"primary",icon:Object(A.jsx)(l.a,{}),danger:!0})})},"delete")]}}])})," ",Object(A.jsx)(ye,{visible:Fe,onVisibleChange:function(te){return te===!1&&We(!1)},onFinish:function(){var je=Object(P.a)(Object(f.a)().mark(function te(ce){var se,Oe;return Object(f.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return oe(!0),ie.prev=1,ie.next=4,$(Object(c.a)(Object(c.a)({},ce),{},{morphable_id:t,morphable_type:N}));case 4:se=ie.sent,se.success&&(Ke.resetFields(),(Oe=k.current)===null||Oe===void 0||Oe.reload(),oe(!1),We(!1)),ie.next=13;break;case 8:ie.prev=8,ie.t0=ie.catch(1),We(!1),d.b.error(Object(A.jsx)(o.a,{id:"error",defaultMessage:"error"})),oe(!1);case 13:case"end":return ie.stop()}},te,null,[[1,8]])}));return function(te){return je.apply(this,arguments)}}()})]})},ne=j.a=G},"5qq5":function(z,j,e){"use strict";var i=e("7Kak"),d=e("9yH6"),c=e("VTBJ"),O=e("Ff2n"),D=e("nKUr"),_=e.n(D),u=e("uX+g"),T=e("q1tI"),S=e.n(T),f=e("WFLz"),P=e("adzw"),g=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],M=S.a.forwardRef(function(b,l){var p=b.fieldProps,U=b.options,$=b.radioType,R=b.layout,s=b.proFieldProps,r=b.valueEnum,a=Object(O.a)(b,g);return Object(D.jsx)(P.a,Object(c.a)(Object(c.a)({mode:"edit",valueType:$==="button"?"radioButton":"radio",ref:l,valueEnum:Object(u.a)(r,void 0)},a),{},{fieldProps:Object(c.a)({options:U,layout:R},p),proFieldProps:s,filedConfig:{customLightMode:!0}}))}),m=S.a.forwardRef(function(b,l){var p=b.fieldProps,U=b.children;return Object(D.jsx)(d.a,Object(c.a)(Object(c.a)({},p),{},{ref:l,children:U}))}),o=Object(f.a)(m,{valuePropName:"checked",ignoreWidth:!0}),E=o;E.Group=M,E.Button=d.a.Button,E.displayName="ProFormComponent",j.a=E},"90Xc":function(z,j,e){},DVQu:function(z,j,e){"use strict";e.d(j,"h",function(){return D}),e.d(j,"a",function(){return u}),e.d(j,"c",function(){return S}),e.d(j,"i",function(){return P}),e.d(j,"b",function(){return M}),e.d(j,"g",function(){return o}),e.d(j,"f",function(){return b}),e.d(j,"d",function(){return p}),e.d(j,"e",function(){return $});var i=e("qLMh"),d=e("k1fw"),c=e("9og8"),O=e("9kvl");function D(s,r){return _.apply(this,arguments)}function _(){return _=Object(c.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/products",Object(d.a)({method:"GET",params:Object(d.a)(Object(d.a)({},r),{},{free:typeof r.free!="undefined"?r.free==="true"?1:0:void 0,per_page:r.pageSize,page:r.current})},a||{})));case 1:case"end":return n.stop()}},s)})),_.apply(this,arguments)}function u(s,r){return T.apply(this,arguments)}function T(){return T=Object(c.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/products",Object(d.a)({method:"POST",data:r},a||{})));case 1:case"end":return n.stop()}},s)})),T.apply(this,arguments)}function S(s,r){return f.apply(this,arguments)}function f(){return f=Object(c.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/products/".concat(r),Object(d.a)({method:"GET"},a||{})));case 1:case"end":return n.stop()}},s)})),f.apply(this,arguments)}function P(s,r,a){return g.apply(this,arguments)}function g(){return g=Object(c.a)(Object(i.a)().mark(function s(r,a,v){return Object(i.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",Object(O.g)("/api/admin/products/".concat(r,"?_method=PUT"),Object(d.a)({method:"POST",data:a},v||{})));case 1:case"end":return x.stop()}},s)})),g.apply(this,arguments)}function M(s,r){return m.apply(this,arguments)}function m(){return m=Object(c.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/products/".concat(r),Object(d.a)({method:"DELETE"},a||{})));case 1:case"end":return n.stop()}},s)})),m.apply(this,arguments)}function o(s){return E.apply(this,arguments)}function E(){return E=Object(c.a)(Object(i.a)().mark(function s(r){return Object(i.a)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",Object(O.g)("/api/admin/productables",Object(d.a)({method:"GET"},r||{})));case 1:case"end":return v.stop()}},s)})),E.apply(this,arguments)}function b(s,r){return l.apply(this,arguments)}function l(){return l=Object(c.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/productables/product",Object(d.a)({method:"GET",params:r},a||{})));case 1:case"end":return n.stop()}},s)})),l.apply(this,arguments)}function p(s,r,a){return U.apply(this,arguments)}function U(){return U=Object(c.a)(Object(i.a)().mark(function s(r,a,v){return Object(i.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",Object(O.g)("/api/admin/products/".concat(r,"/attach"),Object(d.a)({method:"POST",data:a},v||{})));case 1:case"end":return x.stop()}},s)})),U.apply(this,arguments)}function $(s,r,a){return R.apply(this,arguments)}function R(){return R=Object(c.a)(Object(i.a)().mark(function s(r,a,v){return Object(i.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",Object(O.g)("/api/admin/products/".concat(r,"/detach"),Object(d.a)({method:"POST",data:a},v||{})));case 1:case"end":return x.stop()}},s)})),R.apply(this,arguments)}},FJDo:function(z,j,e){"use strict";var i=e("VTBJ"),d=e("Ff2n"),c=e("nKUr"),O=e.n(c),D=e("q1tI"),_=e.n(D),u=e("adzw"),T=["fieldProps","min","proFieldProps","max"],S=function(P,g){var M=P.fieldProps,m=P.min,o=P.proFieldProps,E=P.max,b=Object(d.a)(P,T);return Object(c.jsx)(u.a,Object(i.a)({mode:"edit",valueType:"digit",fieldProps:Object(i.a)({min:m,max:E},M),ref:g,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:o},b))};j.a=_.a.forwardRef(S)},MvUh:function(z,j,e){},Qurx:function(z,j,e){"use strict";var i=e("VTBJ"),d=e("Ff2n"),c=e("nKUr"),O=e.n(c),D=e("adzw"),_=["fieldProps","proFieldProps"],u=["fieldProps","proFieldProps"],T="text",S=function(M){var m=M.fieldProps,o=M.proFieldProps,E=Object(d.a)(M,_);return Object(c.jsx)(D.a,Object(i.a)({mode:"edit",valueType:T,fieldProps:m,filedConfig:{valueType:T},proFieldProps:o},E))},f=function(M){var m=M.fieldProps,o=M.proFieldProps,E=Object(d.a)(M,u);return Object(c.jsx)(D.a,Object(i.a)({mode:"edit",valueType:"password",fieldProps:m,proFieldProps:o,filedConfig:{valueType:T}},E))},P=S;P.Password=f,P.displayName="ProFormComponent",j.a=P},TWax:function(z,j,e){"use strict";var i=e("ozfa"),d=e("MJZm"),c=e("T2oS"),O=e("W9HT"),D=e("tJVT"),_=e("q1tI"),u=e.n(_),T=e("JifO"),S=e("nKUr"),f=e.n(S),P=function M(m){return m.subcategories&&m.subcategories.length?{title:m.name,key:m.id,children:m.subcategories.map(function(o){return M(o)})}:{title:m.name,key:m.id}},g=function(m){var o=m.value,E=m.onChange,b=m.multiple,l=b===void 0?!0:b,p=Object(_.useState)([]),U=Object(D.a)(p,2),$=U[0],R=U[1];Object(_.useEffect)(function(){Object(T.c)().then(function(r){return R(r.data)})},[]);var s=Object(_.useMemo)(function(){return $.map(function(r){return P(r)})},[$]);return $.length===0?Object(S.jsx)(O.a,{}):Object(S.jsx)(d.a,{multiple:l,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,style:{width:"100%"},checkedKeys:o,onCheck:function(a){if(typeof a=="object"&&!Array.isArray(a)&&a.checked){var v=a.checked;return E&&Array.isArray(v)&&E(v)}},treeData:s,disabled:$.length===0})};j.a=g},Ug4X:function(z,j,e){},hd5d:function(z,j,e){"use strict";var i=e("qLMh"),d=e("9og8"),c=e("q1tI"),O=e.n(c),D=e("3Ef1"),_=e.n(D),u=e("BAh9"),T=e("vtG9"),S=e.n(T),f=e("9kvl"),P=e("nKUr"),g=e.n(P),M=function(o){var E=o.value,b=o.onChange,l=o.directory,p=l===void 0?"/wysiwyg":l,U=Object(f.j)();return Object(P.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(P.jsx)(_.a,{uploadImage:function(){var $=Object(d.a)(Object(i.a)().mark(function R(s){var r,a;return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(u.e)(s,p);case 2:if(r=n.sent,!r.success){n.next=6;break}return a=r.data[0].name.includes("/")?r.data[0].name:"".concat(p).concat(r.data[0].name),n.abrupt("return",Object(u.d)(a,1e3));case 6:throw new Error("Error while uploading");case 7:case"end":return n.stop()}},R)}));return function(R){return $.apply(this,arguments)}}(),defaultValue:E||"",onChange:function(R){return b&&b(R())},placeholder:U.formatMessage({id:"wysiwyg_placeholder"})})})};j.a=M},kMBS:function(z,j,e){"use strict";e.d(j,"a",function(){return D});var i=e("qLMh"),d=e("k1fw"),c=e("9og8"),O=e("9kvl");function D(u){return _.apply(this,arguments)}function _(){return _=Object(c.a)(Object(i.a)().mark(function u(T){return Object(i.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",Object(O.g)("/api/tags/unique",Object(d.a)({method:"GET",useCache:!1},T||{})));case 1:case"end":return f.stop()}},u)})),_.apply(this,arguments)}},qSko:function(z,j,e){"use strict";var i=e("OaEy"),d=e("2fM7"),c=e("T2oS"),O=e("W9HT"),D=e("tJVT"),_=e("q1tI"),u=e.n(_),T=e("DVQu"),S=e("9kvl"),f=e("nKUr"),P=e.n(f),g=function(m){var o=m.value,E=m.onChange,b=m.multiple,l=b===void 0?!1:b,p=m.type,U=Object(_.useState)([]),$=Object(D.a)(U,2),R=$[0],s=$[1],r=Object(_.useState)(!1),a=Object(D.a)(r,2),v=a[0],n=a[1],x=Object(_.useState)([]),A=Object(D.a)(x,2),Me=A[0],ye=A[1],le=Object(_.useRef)(),Ce=Object(_.useCallback)(function(){n(!0),le.current&&le.current.abort(),le.current=new AbortController,Object(T.h)({productable_type:p},{signal:le.current.signal}).then(function(G){G.success&&s(p?G.data.filter(function(ne){return ne.type==="single"&&ne.productables&&ne.productables[0].id}):G.data),n(!1)}).catch(function(){return n(!1)})},[]);return Object(_.useEffect)(function(){var G=new AbortController;if(o){var ne=Array.isArray(o)?o:[o],V=ne.map(function(y){return typeof y=="object"?Number(y.id):Number(y)});ye(V)}return function(){G.abort()}},[o]),Object(f.jsx)(d.a,{onFocus:function(){return Ce()},allowClear:!0,style:{width:"100%",minWidth:"150px"},value:Me,onChange:E,mode:l?"multiple":void 0,showSearch:!0,placeholder:Object(f.jsx)(S.a,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(ne,V){if(V&&V.children){var y;return(V==null||(y=V.children)===null||y===void 0?void 0:y.toString().toLowerCase().indexOf(ne&&ne.toLowerCase()||""))>=0}return!1},notFoundContent:v?Object(f.jsx)(O.a,{size:"small"}):null,children:R.map(function(G){return Object(f.jsx)(d.a.Option,{value:G.id,children:G.name},G.id)})})};j.a=g},rWUb:function(z,j,e){"use strict";e.d(j,"e",function(){return D}),e.d(j,"d",function(){return u}),e.d(j,"a",function(){return S}),e.d(j,"h",function(){return P}),e.d(j,"b",function(){return M}),e.d(j,"i",function(){return o}),e.d(j,"c",function(){return b}),e.d(j,"f",function(){return p}),e.d(j,"g",function(){return $});var i=e("qLMh"),d=e("k1fw"),c=e("9og8"),O=e("9kvl");function D(s,r){return _.apply(this,arguments)}function _(){return _=Object(c.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/templates",Object(d.a)({method:"GET",useCache:!1,params:Object(d.a)(Object(d.a)({},r),{},{per_page:r&&r.pageSize,page:r&&r.current})},a||{})));case 1:case"end":return n.stop()}},s)})),_.apply(this,arguments)}function u(s,r){return T.apply(this,arguments)}function T(){return T=Object(c.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/templates/".concat(r),Object(d.a)({method:"GET"},a||{})));case 1:case"end":return n.stop()}},s)})),T.apply(this,arguments)}function S(s,r){return f.apply(this,arguments)}function f(){return f=Object(c.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/templates",Object(d.a)({method:"POST",headers:{"Content-Type":"application/json"},data:r},a||{})));case 1:case"end":return n.stop()}},s)})),f.apply(this,arguments)}function P(s,r,a){return g.apply(this,arguments)}function g(){return g=Object(c.a)(Object(i.a)().mark(function s(r,a,v){return Object(i.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",Object(O.g)("/api/admin/templates/".concat(r),Object(d.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:a},v||{})));case 1:case"end":return x.stop()}},s)})),g.apply(this,arguments)}function M(s,r){return m.apply(this,arguments)}function m(){return m=Object(c.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/templates/".concat(r),Object(d.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},a||{})));case 1:case"end":return n.stop()}},s)})),m.apply(this,arguments)}function o(s){return E.apply(this,arguments)}function E(){return E=Object(c.a)(Object(i.a)().mark(function s(r){return Object(i.a)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",Object(O.g)("/api/admin/templates/variables",Object(d.a)({method:"GET"},r||{})));case 1:case"end":return v.stop()}},s)})),E.apply(this,arguments)}function b(s,r){return l.apply(this,arguments)}function l(){return l=Object(c.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/templates/".concat(r,"/preview"),Object(d.a)({method:"GET"},a||{})));case 1:case"end":return n.stop()}},s)})),l.apply(this,arguments)}function p(s,r,a){return U.apply(this,arguments)}function U(){return U=Object(c.a)(Object(i.a)().mark(function s(r,a,v){return Object(i.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",Object(O.g)("/api/admin/events/trigger-manually/".concat(r),Object(d.a)({method:"POST",headers:{"Content-Type":"application/json"},data:{users:a}},v||{})));case 1:case"end":return x.stop()}},s)})),U.apply(this,arguments)}function $(s,r,a){return R.apply(this,arguments)}function R(){return R=Object(c.a)(Object(i.a)().mark(function s(r,a,v){return Object(i.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",Object(O.g)("/api/admin/products/".concat(a,"/trigger-event-manually/").concat(r),Object(d.a)({method:"POST",headers:{"Content-Type":"application/json"}},v||{})));case 1:case"end":return x.stop()}},s)})),R.apply(this,arguments)}},rnuo:function(z,j,e){"use strict";var i=e("tJVT"),d=e("OaEy"),c=e("2fM7"),O=e("q1tI"),D=e.n(O),_=e("kMBS"),u=e("nKUr"),T=e.n(u),S=c.a.Option,f=function(g){var M=g.value,m=g.onChange,o=Object(O.useState)([]),E=Object(i.a)(o,2),b=E[0],l=E[1];return Object(O.useEffect)(function(){Object(_.a)().then(function(p){return l(p.data)})},[]),Object(u.jsx)(c.a,{mode:"tags",showSearch:!0,style:{width:"100%"},placeholder:"Select a Tag",optionFilterProp:"children",onChange:m,value:M,children:b.map(function(p){return Object(u.jsx)(S,{value:p.title,children:p.title},p.title)})})};j.a=f},vtG9:function(z,j,e){},vzes:function(z,j,e){"use strict";var i=e("OaEy"),d=e("2fM7"),c=e("+BJd"),O=e("mr32"),D=e("T2oS"),_=e("W9HT"),u=e("tJVT"),T=e("q1tI"),S=e.n(T),f=e("9kvl"),P=e("DVQu"),g=e("nKUr"),M=e.n(g),m=function(l){return"".concat(l.productable_type,":").concat(l.productable_id,":").concat(l.name)},o=function(l){return"".concat(l.class,":").concat(l.id,":").concat(l.name)},E=function(l){var p=l.value,U=l.onChange,$=l.multiple,R=$===void 0?!1:$,s=l.disabled,r=s===void 0?!1:s,a=Object(T.useState)([]),v=Object(u.a)(a,2),n=v[0],x=v[1],A=Object(T.useState)(!1),Me=Object(u.a)(A,2),ye=Me[0],le=Me[1],Ce=Object(T.useState)([]),G=Object(u.a)(Ce,2),ne=G[0],V=G[1],y=Object(T.useRef)(),t=Object(T.useCallback)(function(){le(!0),y.current&&y.current.abort(),y.current=new AbortController,Object(P.g)({signal:y.current.signal}).then(function(N){N.success&&x(N.data),le(!1)}).catch(function(){return le(!1)})},[]);return Object(T.useEffect)(function(){t()},[]),Object(T.useEffect)(function(){var N=new AbortController;if(p){var I=Array.isArray(p)?p:[p],k=I.map(function(ee){return typeof ee=="object"?o(ee):String(ee)});V(k)}return function(){N.abort()}},[p]),Object(g.jsx)(d.a,{disabled:r,allowClear:!0,style:{width:"100%",minWidth:"150px"},value:ne,onChange:U,mode:R?"multiple":void 0,showSearch:!0,placeholder:Object(g.jsx)(f.a,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(I,k){if(k&&k.children){var ee;return(k==null||(ee=k.children)===null||ee===void 0?void 0:ee.toString().toLowerCase().indexOf(I&&I.toLowerCase()||""))>=0}return!1},notFoundContent:ye?Object(g.jsx)(_.a,{size:"small"}):null,children:n.map(function(N){var I=m(N);return Object(g.jsxs)(d.a.Option,{value:I,children:[Object(g.jsx)(O.a,{children:Object(g.jsx)(f.a,{id:N.productable_type.split("\\").pop(),defaultMessage:N.productable_type.split("\\").pop()})})," ",N.name," ",Object(g.jsxs)("small",{children:["id:",N.productable_id]})," "]},I)})})};j.a=E}}]);
