(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"/y+f":function($e,oe,t){"use strict";t.d(oe,"f",function(){return i}),t.d(oe,"d",function(){return v}),t.d(oe,"e",function(){return T}),t.d(oe,"c",function(){return je}),t.d(oe,"a",function(){return n}),t.d(oe,"b",function(){return Ae});var i;(function(o){o.Unselected="",o.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",o.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",o.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",o.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",o.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",o.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",o.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",o.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",o.Project="EscolaLms\\TopicTypeProject\\Models\\Project",o.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz"})(i||(i={}));var H;(function(o){o.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",o.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(H||(H={}));var $;(function(o){o.draft="draft",o.published="published",o.archived="archived"})($||($={}));var v;(function(o){o.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",o.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",o.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(v||(v={}));var T;(function(o){o.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(T||(T={}));var l;(function(o){o.cart_fixed="cart_fixed",o.cart_percent="cart_percent",o.product_fixed="product_fixed",o.product_percent="product_percent"})(l||(l={}));var je;(function(o){o.MULTIPLE_CHOICE="multiple_choice",o.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",o.TRUE_FALSE="true_false",o.SHORT_ANSWERS="short_answers",o.MATCHING="matching",o.NUMERICAL_QUESTION="numerical_question",o.ESSAY="essay",o.DESCRIPTION="description"})(je||(je={}));var n;(function(o){o.PRESENT="present",o.ABSENT="absent"})(n||(n={}));var Ae;(function(o){o.Manual="manual",o.TeamsForms="teams_forms",o.TeamsLecture="teams_lecture",o.TestPortal="test_portal"})(Ae||(Ae={}))},"0JQy":function($e,oe){var t="\\ud800-\\udfff",i="\\u0300-\\u036f",H="\\ufe20-\\ufe2f",$="\\u20d0-\\u20ff",v=i+H+$,T="\\ufe0e\\ufe0f",l="["+t+"]",je="["+v+"]",n="\\ud83c[\\udffb-\\udfff]",Ae="(?:"+je+"|"+n+")",o="[^"+t+"]",re="(?:\\ud83c[\\udde6-\\uddff]){2}",Se="[\\ud800-\\udbff][\\udc00-\\udfff]",_e="\\u200d",te=Ae+"?",Me="["+T+"]?",nt="(?:"+_e+"(?:"+[o,re,Se].join("|")+")"+Me+te+")*",ve=Me+te+nt,Ye="(?:"+[o+je+"?",je,re,Se,l].join("|")+")",We=RegExp(n+"(?="+n+")|"+Ye+ve,"g");function h(f){return f.match(We)||[]}$e.exports=h},"5R/X":function($e,oe,t){},"5Syx":function($e,oe,t){"use strict";t.d(oe,"c",function(){return Be}),t.d(oe,"b",function(){return ct}),t.d(oe,"a",function(){return X});var i=t("OaEy"),H=t("2fM7"),$=t("g9YV"),v=t("wCAj"),T=t("BoS7"),l=t("Sdc0"),je=t("jrin"),n=t("k1fw"),Ae=t("DYRE"),o=t("zeV3"),re=t("+BJd"),Se=t("mr32"),_e=t("oBTY"),te=t("tJVT"),Me=t("q1tI"),nt=t.n(Me),ve=t("9kvl"),Ye=t("Vpfc"),We=t("nhC9"),h=t("LDJE"),f=t("nKUr"),Je=t.n(f),Ze=function(K){return K.topicable.content.contents?Object.values(K.topicable.content.contents)[0].library:"H5P"},Be=function(K){var O=K.topics,w=K.stats,Oe=Object(Me.useState)(!1),I=Object(te.a)(Oe,2),b=I[0],he=I[1],ye=Object(Me.useMemo)(function(){return[{title:Object(f.jsx)(ve.a,{id:"user"}),dataIndex:"id",render:function(Ie){return Object(f.jsx)(Ye.a,{type:"App\\Models\\User",type_id:Ie})}},{title:Object(f.jsx)(ve.a,{id:"email"}),dataIndex:"email"}].concat(Object(_e.a)(O.map(function(Ee){var Ie,Te=(Ie=Ee.topicable_type)===null||Ie===void 0?void 0:Ie.split("\\").pop();return Te==="H5P"&&(Te=Ze(Ee)),{render:function(D){var J=0,ge=0;switch(D&&(D.started_at&&D.finished_at?J=1:D.started_at&&(J=2),ge=D.seconds/60),J){case 1:return Object(f.jsxs)(o.b,{children:[Object(f.jsx)(Se.a,{color:"success",children:"F"}),b&&Object(f.jsxs)("small",{children:[ge.toFixed(2),"m"]})]});case 2:return Object(f.jsxs)(o.b,{children:[Object(f.jsx)(Se.a,{color:"blue",children:"S"}),b&&Object(f.jsxs)("small",{children:[ge.toFixed(2),"m"]})]});case 0:default:return Object(f.jsx)(nt.a.Fragment,{children:Object(f.jsx)(Se.a,{color:"error",children:"N"})})}},title:Object(f.jsxs)("small",{children:[Object(f.jsx)(Se.a,{children:Te})," ",Ee.title]}),dataIndex:Ee.id}})))},[O,b]),Re=Object(Me.useMemo)(function(){return w.map(function(Ee){return O.reduce(function(Ie,Te){var we=Ee.topics.find(function(D){return D.id===Te.id});return Object(n.a)(Object(n.a)({},Ie),{},Object(je.a)({},Number(Te.id),we!=null?we:0))},{email:Ee.email,id:Ee.id})})},[w,O]);return Object(f.jsx)(v.a,{title:function(){return Object(f.jsxs)(o.b,{children:[Object(f.jsx)(ve.a,{id:"Finished",defaultMessage:"Finished:"})," ",Object(f.jsx)(Se.a,{color:"success",children:"F"}),Object(f.jsx)(ve.a,{id:"Started",defaultMessage:"Started:"})," ",Object(f.jsx)(Se.a,{color:"blue",children:"S"}),Object(f.jsx)(ve.a,{id:"NotStarted",defaultMessage:"Not Started:"})," ",Object(f.jsx)(Se.a,{color:"error",children:"N"}),Object(f.jsx)(ve.a,{id:"ShowMinutes",defaultMessage:"Show minutes spent on topic:"})," ",Object(f.jsx)(l.a,{checked:b,onChange:function(Te){return he(Te)}})]})},columns:ye,dataSource:Re,size:"small",scroll:{x:1500}})},ct=function(K){var O=K.stats,w=Object(Me.useMemo)(function(){return[{title:"user",dataIndex:"id",render:function(b){return Object(f.jsx)(Ye.a,{type:"App\\Models\\User",type_id:b})}},{title:"email",dataIndex:"email"},{title:Object(f.jsx)(ve.a,{id:"finished_at",defaultMessage:"Finished at"}),dataIndex:"finished_at"}]},[]),Oe=Object(Me.useMemo)(function(){return O.map(function(I){var b=I.id,he=I.email,ye=I.finished_at;return{id:b,email:he,finished_at:ye}})},[O]);return Object(f.jsx)(v.a,{title:function(){return Object(f.jsx)(o.b,{children:Object(f.jsx)(ve.a,{id:"course.finished",defaultMessage:"Finished"})})},columns:w,dataSource:Oe,size:"small",scroll:{x:500}})},X=function(K){var O=K.stats,w=Object(Me.useState)(null),Oe=Object(te.a)(w,2),I=Oe[0],b=Oe[1],he=Object(Me.useState)(null),ye=Object(te.a)(he,2),Re=ye[0],Ee=ye[1],Ie=Object(ve.l)(),Te=Object(Me.useMemo)(function(){return O.flatMap(function(D){return Object.values(D.attempts).flatMap(function(J){var ge=J.dates,B=J.attempt,it=Object.values(ge).flatMap(function(Ve){var Qe=Ve.date,Ke=Ve.seconds_total;return{date:Qe,attempt:B,seconds_total:Ke,email:D.email}});return it})})},[O]),we={xField:"date",yField:"seconds_total",seriesField:"attempt",isStack:!0,xAxis:{label:{autoHide:!0,autoRotate:!1}},slider:{start:0,end:1},label:{position:"middle",layout:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"}]}};return Object(f.jsx)(We.a,{title:Object(f.jsxs)(o.b,{children:[Object(f.jsx)(ve.a,{id:"course.interactions_time_in_days"}),Object(f.jsx)(H.a,{showSearch:!0,value:I,onChange:function(J){b(J),Ee(null)},placeholder:Object(f.jsx)(ve.a,{id:"select_person",defaultMessage:"Select a person"}),children:O.map(function(D){var J=D.id,ge=D.email;return Object(f.jsx)(H.a.Option,{value:ge,children:ge},J)})}),Object(f.jsx)(H.a,{value:Re,onChange:function(J){return Ee(J)},disabled:I===null,placeholder:Object(f.jsx)(ve.a,{id:"select_attempt",defaultMessage:"Select attempt"}),children:Object(_e.a)(new Set(Te.filter(function(D){var J=D.email;return J===I}).map(function(D){var J=D.attempt;return J}))).map(function(D){return Object(f.jsxs)(H.a.Option,{value:D,children:[Object(f.jsx)(ve.a,{id:"attempt",defaultMessage:"Attempt"})," ",D]},D)})})]}),colSpan:12,layout:"center",children:Object(f.jsx)("div",{style:{overflow:"auto",minHeight:"400px",width:"100%"},children:Object(f.jsx)(h.a,Object(n.a)(Object(n.a)({},we),{},{tooltip:{title:"".concat(Ie.formatMessage({id:"attempt"})),formatter:function(J){var ge=Math.floor(+J.seconds_total/60),B=+J.seconds_total>60?+J.seconds_total-ge*60:0;return{name:J.attempt,value:"".concat(ge,"m ").concat(B,"s")}}},data:Te.filter(function(D){var J=D.email;return J===I}).filter(function(D){var J=D.attempt;return Number.isInteger(Re)?J===Re:!0})}))})})}},Em2t:function($e,oe,t){var i=t("bahg"),H=t("quyA"),$=t("0JQy");function v(T){return H(T)?$(T):i(T)}$e.exports=v},Hn4i:function($e,oe,t){"use strict";var i=t("y8nQ"),H=t("Vl3Y"),$=t("+L6B"),v=t("2/Rp"),T=t("rePB"),l=t("ODXe"),je=t("Ff2n"),n=t("x+uP"),Ae=t("HaE+"),o=t("VTBJ"),re=t("nKUr"),Se=t.n(re),_e=t("xvlK"),te=t("WuYN"),Me=t("VMEa"),nt=t("LQCs"),ve=t("ft2k"),Ye=t("uX+g"),We=t("+i8S"),h=t("ipCM"),f=t("6cGi"),Je=t("ub+h"),Ze=t("bG1m"),Be=t("q1tI"),ct=t.n(Be),X=t("mWMg"),Y=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef"],K=["record","position","creatorButtonText","newRecordType","parentKey","style"],O=ct.a.createContext(void 0);function w(b){var he=b.children,ye=b.record,Re=b.position,Ee=b.newRecordType,Ie=b.parentKey,Te=Object(Be.useContext)(O);return ct.a.cloneElement(he,Object(o.a)(Object(o.a)({},he.props),{},{onClick:function(){var we=Object(Ae.a)(Object(n.a)().mark(function J(ge){var B,it,Ve,Qe;return Object(n.a)().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return ae.next=2,(B=(it=he.props).onClick)===null||B===void 0?void 0:B.call(it,ge);case 2:if(Qe=ae.sent,Qe!==!1){ae.next=5;break}return ae.abrupt("return");case 5:Te==null||(Ve=Te.current)===null||Ve===void 0||Ve.addEditRecord(ye,{position:Re,newRecordType:Ee,parentKey:Ie});case 6:case"end":return ae.stop()}},J)}));function D(J){return we.apply(this,arguments)}return D}()}))}function Oe(b){var he,ye,Re=Object(nt.d)(),Ee=b.onTableChange,Ie=b.maxLength,Te=b.formItemProps,we=b.recordCreatorProps,D=b.rowKey,J=b.controlled,ge=b.defaultValue,B=b.onChange,it=b.editableFormRef,Ve=Object(je.a)(b,Y),Qe=Object(ve.a)(b.value),Ke=Object(Be.useRef)(),ae=Object(Be.useRef)();Object(Be.useImperativeHandle)(Ve.actionRef,function(){return Ke.current});var jt=Object(f.a)(function(){return b.value||ge||[]},{value:b.value,onChange:b.onChange}),ot=Object(l.a)(jt,2),N=ot[0],Ot=ot[1],Xe=ct.a.useMemo(function(){return typeof D=="function"?D:function(Pe,q){return Pe[D]||q}},[D]),U=function(q){if(typeof q=="number"&&!b.name){if(q>=N.length)return q;var ne=N&&N[q];return Xe==null?void 0:Xe(ne,q)}if((typeof q=="string"||q>=N.length)&&b.name){var ue=N.findIndex(function(be,Ce){var De;return(Xe==null||(De=Xe(be,Ce))===null||De===void 0?void 0:De.toString())===(q==null?void 0:q.toString())});return ue}return q};Object(Be.useImperativeHandle)(it,function(){var Pe=function(ue){var be,Ce;if(ue==null)throw new Error("rowIndex is required");var De=U(ue),rt=[b.name,(be=De==null?void 0:De.toString())!==null&&be!==void 0?be:""].flat(1).filter(Boolean);return(Ce=ae.current)===null||Ce===void 0?void 0:Ce.getFieldValue(rt)},q=function(){var ue,be=[b.name].flat(1).filter(Boolean);if(Array.isArray(be)&&be.length===0){var Ce,De=(Ce=ae.current)===null||Ce===void 0?void 0:Ce.getFieldsValue();return Array.isArray(De)?De:Object.keys(De).map(function(rt){return De[rt]})}return(ue=ae.current)===null||ue===void 0?void 0:ue.getFieldValue(be)};return Object(o.a)(Object(o.a)({},ae.current),{},{getRowData:Pe,getRowsData:q,setRowData:function(ue,be){var Ce,De,rt,ft;if(ue==null)throw new Error("rowIndex is required");var gt=U(ue),ze=[b.name,(Ce=gt==null?void 0:gt.toString())!==null&&Ce!==void 0?Ce:""].flat(1).filter(Boolean),mt=((De=ae.current)===null||De===void 0||(rt=De.getFieldsValue)===null||rt===void 0?void 0:rt.call(De))||{},vt=Object(Ze.a)(mt,ze,Object(o.a)(Object(o.a)({},Pe(ue)),be||{}));return(ft=ae.current)===null||ft===void 0?void 0:ft.setFieldsValue(vt)}})}),Object(Be.useEffect)(function(){!b.controlled||N.forEach(function(Pe,q){var ne;(ne=ae.current)===null||ne===void 0||ne.setFieldsValue(Object(T.a)({},Xe(Pe,q),Pe))},{})},[N,b.controlled]),Object(Be.useEffect)(function(){if(b.name){var Pe;ae.current=b==null||(Pe=b.editable)===null||Pe===void 0?void 0:Pe.form}},[(he=b.editable)===null||he===void 0?void 0:he.form,b.name]);var L=we||{},C=L.record,A=L.position,e=L.creatorButtonText,Z=L.newRecordType,Le=L.parentKey,He=L.style,_t=Object(je.a)(L,K),ht=A==="top",dt=Object(Be.useMemo)(function(){return Ie&&Ie<=(N==null?void 0:N.length)?!1:we!==!1&&Object(re.jsx)(w,{record:Object(Ye.a)(C,N==null?void 0:N.length,N)||{},position:A,parentKey:Object(Ye.a)(Le,N==null?void 0:N.length,N),newRecordType:Z,children:Object(re.jsx)(v.a,Object(o.a)(Object(o.a)({type:"dashed",style:Object(o.a)({display:"block",margin:"10px 0",width:"100%"},He),icon:Object(re.jsx)(_e.a,{})},_t),{},{children:e||Re.getMessage("editableTable.action.add","\u6DFB\u52A0\u4E00\u884C\u6570\u636E")}))})},[we,Ie,N==null?void 0:N.length]),Et=Object(Be.useMemo)(function(){return dt?ht?{components:{header:{wrapper:function(q){var ne,ue=q.className,be=q.children;return Object(re.jsxs)("thead",{className:ue,children:[be,Object(re.jsxs)("tr",{style:{position:"relative"},children:[Object(re.jsx)("td",{colSpan:0,style:{visibility:"hidden"},children:dt}),Object(re.jsx)("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(ne=Ve.columns)===null||ne===void 0?void 0:ne.length,children:dt})]})]})}}}}:{tableViewRender:function(q,ne){var ue,be;return Object(re.jsxs)(re.Fragment,{children:[(ue=(be=b.tableViewRender)===null||be===void 0?void 0:be.call(b,q,ne))!==null&&ue!==void 0?ue:ne,dt]})}}:{}},[ht,dt]),bt=Object(o.a)({},b.editable),St=Object(We.a)(function(Pe,q){var ne,ue,be;if((ne=b.editable)===null||ne===void 0||(ue=ne.onValuesChange)===null||ue===void 0||ue.call(ne,Pe,q),(be=b.onValuesChange)===null||be===void 0||be.call(b,q,Pe),b.controlled){var Ce;b==null||(Ce=b.onChange)===null||Ce===void 0||Ce.call(b,q)}});return((b==null?void 0:b.onValuesChange)||((ye=b.editable)===null||ye===void 0?void 0:ye.onValuesChange)||b.controlled&&(b==null?void 0:b.onChange))&&(bt.onValuesChange=St),Object(re.jsxs)(re.Fragment,{children:[Object(re.jsx)(O.Provider,{value:Ke,children:Object(re.jsx)(X.a,Object(o.a)(Object(o.a)(Object(o.a)({search:!1,options:!1,pagination:!1,rowKey:D,revalidateOnFocus:!1},Ve),Et),{},{tableLayout:"fixed",actionRef:Ke,onChange:Ee,editable:Object(o.a)(Object(o.a)({},bt),{},{formProps:Object(o.a)({formRef:ae},bt.formProps)}),dataSource:N,onDataSourceChange:function(q){if(Ot(q),b.name&&A==="top"){var ne,ue=Object(Ze.a)({},[b.name].flat(1).filter(Boolean),q);(ne=ae.current)===null||ne===void 0||ne.setFieldsValue(ue)}}}))}),b.name?Object(re.jsx)(te.a,{name:[b.name],children:function(q){var ne,ue,be=Object(Je.a)(q,[b.name].flat(1)),Ce=be==null?void 0:be.find(function(De,rt){return!Object(h.a)(De,Qe==null?void 0:Qe[rt])});return Ce&&Qe&&(b==null||(ne=b.editable)===null||ne===void 0||(ue=ne.onValuesChange)===null||ue===void 0||ue.call(ne,Ce,be)),null}}):null]})}function I(b){var he=Me.a.useFormInstance();return b.name?Object(re.jsx)(H.a.Item,Object(o.a)(Object(o.a)({style:{maxWidth:"100%"}},b==null?void 0:b.formItemProps),{},{name:b.name,children:Object(re.jsx)(Oe,Object(o.a)(Object(o.a)({},b),{},{editable:Object(o.a)(Object(o.a)({},b.editable),{},{form:he})}))})):Object(re.jsx)(Oe,Object(o.a)({},b))}I.RecordCreator=w,oe.a=I},KxBF:function($e,oe){function t(i,H,$){var v=-1,T=i.length;H<0&&(H=-H>T?0:T+H),$=$>T?T:$,$<0&&($+=T),T=H>$?0:$-H>>>0,H>>>=0;for(var l=Array(T);++v<T;)l[v]=i[v+H];return l}$e.exports=t},LDJE:function($e,oe,t){"use strict";var i=t("q1tI"),H=t.n(i),$=t("ma/q"),v=t("ZIEt"),T=t("QpZ9"),l=t("GzfL"),je=t("Scwr"),n=function(o,re){var Se={};for(var _e in o)Object.prototype.hasOwnProperty.call(o,_e)&&re.indexOf(_e)<0&&(Se[_e]=o[_e]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var te=0,_e=Object.getOwnPropertySymbols(o);te<_e.length;te++)re.indexOf(_e[te])<0&&Object.prototype.propertyIsEnumerable.call(o,_e[te])&&(Se[_e[te]]=o[_e[te]]);return Se},Ae=Object(i.forwardRef)(function(o,re){var Se=o.chartRef,_e=o.style,te=_e===void 0?{height:"inherit"}:_e,Me=o.className,nt=o.loading,ve=o.loadingTemplate,Ye=o.errorTemplate,We=n(o,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),h=Object(v.a)($.a,We),f=h.chart,Je=h.container;return Object(i.useEffect)(function(){Object(T.a)(Se,f.current)},[f.current]),Object(i.useImperativeHandle)(re,function(){return{getChart:function(){return f.current}}}),H.a.createElement(l.a,{errorTemplate:Ye},nt&&H.a.createElement(je.a,{loadingTemplate:ve,theme:o.theme}),H.a.createElement("div",{className:Me,style:te,ref:Je}))});oe.a=Ae},bahg:function($e,oe){function t(i){return i.split("")}$e.exports=t},olry:function($e,oe,t){"use strict";t.r(oe);var i=t("k1fw"),H=t("+L6B"),$=t("2/Rp"),v=t("T2oS"),T=t("W9HT"),l=t("q1tI"),je=t("nhC9"),n=t("9kvl"),Ae=t("55Ip"),o=t("Ty5D"),re=t("tMyG"),Se=t("my69"),_e=t("huej"),te=t("mJ0o"),Me=t("EhlZ"),nt=t("P2fV"),ve=t("NJEC"),Ye=t("5Dmo"),We=t("3S7+"),h=t("qLMh"),f=t("9og8"),Je=t("sWYD"),Ze=t("G3dp"),Be=t("lbgm"),ct=t("/MfK"),X=t("Qiat"),Y=t("mGZj");function K(d,c){return O.apply(this,arguments)}function O(){return O=Object(f.a)(Object(h.a)().mark(function d(c,r){return Object(h.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(n.i)("/api/admin/exams",Object(i.a)({method:"GET",useCache:!1,params:c},r||{})));case 1:case"end":return a.stop()}},d)})),O.apply(this,arguments)}function w(d,c){return Oe.apply(this,arguments)}function Oe(){return Oe=Object(f.a)(Object(h.a)().mark(function d(c,r){return Object(h.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(n.i)("/api/admin/exams",Object(i.a)({method:"POST",headers:{"Content-Type":"application/json"},data:c},r||{})));case 1:case"end":return a.stop()}},d)})),Oe.apply(this,arguments)}function I(d,c,r){return b.apply(this,arguments)}function b(){return b=Object(f.a)(Object(h.a)().mark(function d(c,r,s){return Object(h.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(n.i)("/api/admin/exams/".concat(c),Object(i.a)({method:"PUT",data:r,useCache:!1},s||{})));case 1:case"end":return u.stop()}},d)})),b.apply(this,arguments)}function he(d,c){return ye.apply(this,arguments)}function ye(){return ye=Object(f.a)(Object(h.a)().mark(function d(c,r){return Object(h.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(n.i)("/api/admin/exams/".concat(c),Object(i.a)({method:"GET",useCache:!1},r||{})));case 1:case"end":return a.stop()}},d)})),ye.apply(this,arguments)}function Re(d,c){return Ee.apply(this,arguments)}function Ee(){return Ee=Object(f.a)(Object(h.a)().mark(function d(c,r){return Object(h.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(n.i)("/api/admin/exams/".concat(c),Object(i.a)({method:"DELETE"},r||{})));case 1:case"end":return a.stop()}},d)})),Ee.apply(this,arguments)}function Ie(d,c,r,s){return Te.apply(this,arguments)}function Te(){return Te=Object(f.a)(Object(h.a)().mark(function d(c,r,s,a){return Object(h.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(n.i)("/api/admin/exams/".concat(c,"/users/").concat(r),Object(i.a)({method:"POST",headers:{"Content-Type":"application/json"},data:s},a||{})));case 1:case"end":return j.stop()}},d)})),Te.apply(this,arguments)}function we(d,c,r){return D.apply(this,arguments)}function D(){return D=Object(f.a)(Object(h.a)().mark(function d(c,r,s){return Object(h.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(n.i)("/api/admin/exams/".concat(c,"/users/").concat(r),Object(i.a)({method:"DELETE"},s||{})));case 1:case"end":return u.stop()}},d)})),D.apply(this,arguments)}var J=t("giR+"),ge=t("fyUT"),B=t("tJVT"),it=t("14J3"),Ve=t("BMrR"),Qe=t("jCWc"),Ke=t("kPKH"),ae=t("VMEa"),jt=t("Qurx"),ot=t("lR9U"),N=t("/y+f"),Ot=t("2qtc"),Xe=t("kLXV"),U=t("OaEy"),L=t("2fM7"),C=t("oBTY"),A=t("DBJ/"),e=t("nKUr"),Z=[N.b.TeamsLecture,N.b.TestPortal,N.b.TeamsForms];function Le(d){var c=d.showSelectAll,r=c===void 0?!0:c,s=d.options,a=s===void 0?[]:s,u=d.value,j=d.onChange,m=Object(l.useCallback)(function(){j==null||j(a.map(function(y){return y.value}),a)},[j,a]),g=Object(l.useCallback)(function(){j==null||j([],[])},[j]),R=Object(l.useMemo)(function(){return r?[{label:u!=null&&u.length?Object(e.jsx)($.a,{type:"link",onClick:g,children:Object(e.jsx)(n.a,{id:"deselect_all"})}):Object(e.jsx)($.a,{type:"link",onClick:m,children:Object(e.jsx)(n.a,{id:"select_all"})}),options:a}]:a},[m,g,a,r,u==null?void 0:u.length]);return{options:R,value:u,onChange:j}}var He=function(c){var r=c.open,s=c.closeModal,a=c.onSuccess,u=c.type,j=Object(te.b)(),m=j.teacherSubjectData,g=j.semester_subject_id,R=j.groupUsers,y=j.getGroupUsers,p=Object(l.useState)(),x=Object(B.a)(p,2),_=x[0],E=x[1],G=Object(l.useState)([]),P=Object(B.a)(G,2),W=P[0],pe=P[1],S={type:u,semester_subject_id:g},me=Object(l.useCallback)(function(F){F.success&&E(F.data.results)},[]),ee=Object(l.useMemo)(function(){var F;return((F=m==null?void 0:m.groups)!==null&&F!==void 0?F:[]).map(function(ce){var xe=ce.id,z=ce.name;return{label:z,value:xe}})},[]),se=Object(l.useCallback)(function(F){pe(F);var ce=F.reduce(function(xe,z){var k,le=(k=R.byId)===null||k===void 0?void 0:k[z];if(!le)return xe;var V=le.users.map(function(Q){var Fe=Q.id,M=Q.email,de=Q.first_name,ie=Q.last_name;return{email:M,first_name:de,last_name:ie,user_id:Fe,result:0}});return[].concat(Object(C.a)(xe),Object(C.a)(V))},[]);E(ce!=null&&ce.length?ce:void 0)},[R.byId]),fe=Le({options:ee,onChange:se,value:W});return Object(l.useEffect)(function(){if(u===N.b.Manual&&r){var F;m==null||(F=m.groups)===null||F===void 0||F.forEach(function(ce){var xe=ce.id;return y(xe)})}},[u,r]),Object(e.jsxs)(Xe.a,{title:Object(e.jsx)(n.a,{id:"TeacherSubjects.Exams.".concat(u,"Convert")}),width:"40vw",open:r,onCancel:s,onOk:function(){_&&a(_)},okButtonProps:{disabled:!_},children:[Z.includes(u)&&Object(e.jsx)(A.a,{name:"file",url:"/api/admin/exams/parse",onUpload:me,onChange:function(ce){return!ce.fileList.length&&E(void 0)},maxFiles:1,data:S,hideLabel:!0}),u===N.b.Manual&&Object(e.jsx)(L.a,Object(i.a)(Object(i.a)({},fe),{},{placeholder:Object(e.jsx)(n.a,{id:"select_groups"}),mode:"multiple",style:{width:"100%"}}))]})},_t=function(c){var r=c.onSelect;return Object(e.jsxs)(Ve.a,{gutter:[16,16],children:[Object(e.jsx)(Ke.a,{span:12,children:Object(e.jsx)($.a,{type:"primary",onClick:function(){return r(N.b.TeamsForms)},children:Object(e.jsx)(n.a,{id:"uploadFile.MsTeamsForms",defaultMessage:"uploadFile.MsTeamsForms"})})}),Object(e.jsx)(Ke.a,{span:12,children:Object(e.jsx)($.a,{type:"primary",onClick:function(){return r(N.b.TestPortal)},children:Object(e.jsx)(n.a,{id:"uploadFile.TestPortal",defaultMessage:"uploadFile.TestPortal"})})}),Object(e.jsx)(Ke.a,{span:12,children:Object(e.jsx)($.a,{type:"primary",onClick:function(){return r(N.b.TeamsLecture)},children:Object(e.jsx)(n.a,{id:"uploadFile.MsTeams",defaultMessage:"uploadFile.MsTeams"})})}),Object(e.jsx)(Ke.a,{span:12,children:Object(e.jsx)($.a,{type:"primary",onClick:function(){return r(N.b.Manual)},children:Object(e.jsx)(n.a,{id:"uploadGradesManually",defaultMessage:"uploadGradesManually"})})})]})},ht=[{title:Object(e.jsx)(n.a,{id:"first_name"}),dataIndex:"first_name",editable:!1},{title:Object(e.jsx)(n.a,{id:"last_name"}),dataIndex:"last_name",editable:!1},{title:Object(e.jsx)(n.a,{id:"examResult"}),dataIndex:"result",valueType:"percent",formItemProps:{rules:[{required:!0,message:Object(e.jsx)(n.a,{id:"field_required"})},{type:"number",min:0,max:100,message:Object(e.jsx)(n.a,{id:"number_between",values:{min:0,max:100}})}]}}],dt=function(c){var r=c.exam_id,s=ae.a.useForm(),a=Object(B.a)(s,1),u=a[0],j=Object(l.useState)(),m=Object(B.a)(j,2),g=m[0],R=m[1],y=Object(l.useState)(),p=Object(B.a)(y,2),x=p[0],_=p[1],E=Object(l.useState)(!1),G=Object(B.a)(E,2),P=G[0],W=G[1],pe=Object(te.b)(),S=pe.semester_subject_id,me=Object(l.useMemo)(function(){return(x!=null?x:[]).map(function(se){var fe=se.user_id;return fe})},[x]);Object(l.useEffect)(function(){var se=Number(r);r==="new"&&(R(void 0),_(void 0),u.resetFields()),r!=="new"&&!Number.isNaN(se)&&(W(!0),he(se).then(function(fe){if(fe.success){var F=fe.data,ce=F.type,xe=F.results,z=F.title,k=F.weight,le=F.passed_at;R(ce),_(xe),u.setFieldsValue({title:z,weight:k,passed_at:le})}}).finally(function(){return W(!1)}))},[r]);var ee=Object(l.useCallback)(function(){R(void 0),_(void 0)},[]);return P?Object(e.jsx)(T.a,{}):Object(e.jsxs)(e.Fragment,{children:[g&&Object(e.jsx)(He,{open:Boolean(g&&!x),type:g,closeModal:ee,onSuccess:_}),Object(e.jsxs)(ae.a,{form:u,submitter:g===void 0||!x?!1:void 0,onFinish:function(){var se=Object(f.a)(Object(h.a)().mark(function fe(F){var ce,xe,z,k,le,V,Q;return Object(h.a)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(ce=x==null?void 0:x.every(function(de){var ie=de.result;return typeof ie=="number"&&ie>=0&&ie<=100}),!(ce&&typeof S=="number")){M.next=16;break}if(xe=F.title,z=F.passed_at,k=F.weight,le=Number(r),V={type:g,semester_subject_id:S,title:xe,passed_at:z,weight:k,results:x},!Number.isNaN(le)){M.next=11;break}return M.next=8,w(V);case 8:M.t0=M.sent,M.next=14;break;case 11:return M.next=13,I(le,V);case 13:M.t0=M.sent;case 14:Q=M.t0,Q.success&&n.f.push("/teacher/subjects/".concat(S,"/exams"));case 16:return M.abrupt("return",!0);case 17:case"end":return M.stop()}},fe)}));return function(fe){return se.apply(this,arguments)}}(),onReset:ee,children:[Object(e.jsxs)(ae.a.Group,{children:[Object(e.jsx)(jt.a,{label:Object(e.jsx)(n.a,{id:"examTitle",defaultMessage:"examTitle"}),rules:[{required:!0,message:Object(e.jsx)(n.a,{id:"field_required"})}],width:"lg",name:"title"}),Object(e.jsx)(ot.a,{label:Object(e.jsx)(n.a,{id:"datePassingExam",defaultMessage:"datePassingExam"}),rules:[{required:!0,message:Object(e.jsx)(n.a,{id:"field_required"})}],width:"lg",name:"passed_at"}),Object(e.jsx)(ae.a.Item,{name:"weight",label:Object(e.jsx)(n.a,{id:"examImportance",defaultMessage:"examImportance"}),rules:[{required:!0,message:Object(e.jsx)(n.a,{id:"field_required"})},{type:"number",min:1,max:100,message:Object(e.jsx)(n.a,{id:"number_between",values:{min:1,max:100}})}],children:Object(e.jsx)(ge.a,{})})]}),g&&x&&Object(e.jsx)(X.a,{rowKey:"user_id",editable:{type:"single",editableKeys:me,onValuesChange:function(fe,F){return _(F)}},cardProps:{bodyStyle:{paddingInline:0}},search:!1,dataSource:x,columns:ht}),!x&&Object(e.jsx)(_t,{onSelect:R})]})]})},Et=[{title:Object(e.jsx)(n.a,{id:"first_name"}),dataIndex:"first_name"},{title:Object(e.jsx)(n.a,{id:"last_name"}),dataIndex:"last_name"},{title:Object(e.jsx)(n.a,{id:"examResult"}),dataIndex:"result",hideInSearch:!0}],bt=function(c){var r=c.exam_id;return Object(e.jsx)(X.a,{rowKey:"user_id",search:!1,headerTitle:Object(e.jsx)(n.a,{id:"examResults"}),request:Object(f.a)(Object(h.a)().mark(function s(){var a;return Object(h.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,he(r);case 2:if(a=j.sent,!a.success){j.next=5;break}return j.abrupt("return",{total:a.data.results.length,success:!0,data:a.data.results});case 5:return j.abrupt("return",[]);case 6:case"end":return j.stop()}},s)})),columns:Et})},St=[{title:Object(e.jsx)(n.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",sorter:!0},{title:Object(e.jsx)(n.a,{id:"title",defaultMessage:"title"}),dataIndex:"title",hideInSearch:!0,sorter:!0},{title:Object(e.jsx)(n.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",sorter:!0,render:function(c,r){return Object(e.jsx)(n.a,{id:"ExamGradeType.".concat(r.type)})}},{title:Object(e.jsx)(n.a,{id:"TeacherSubjects.Exams.exam_date",defaultMessage:"Exam date"}),dataIndex:"passed_at",sorter:!0,render:function(c,r){return r.passed_at&&Object(Je.a)(new Date(r.passed_at),Y.c)}},{title:Object(e.jsx)(n.a,{id:"TeacherSubjects.Exams.grade_weight",defaultMessage:"Weight"}),dataIndex:"weight",sorter:!0,render:function(c,r){return r.weight+"%"}},{title:Object(e.jsx)(n.a,{id:"created_at",defaultMessage:"Created at"}),dataIndex:"created_at",sorter:!0,render:function(c,r){return r.created_at&&Object(Je.a)(new Date(r.created_at),Y.c)}},{title:Object(e.jsx)(n.a,{id:"semester",defaultMessage:"Semester"}),dataIndex:"semester",sorter:!0,render:function(c,r){return Object(e.jsx)(n.a,{id:"SemesterType.".concat(r.semester.type),values:{year:r.semester.year}})}}],Pe=function(){var c,r,s=Object(l.useRef)(),a=Object(te.b)(),u=a.semester_subject_id,j=Object(o.k)(),m=Object(l.useMemo)(function(){var y,p,x;return{exam_id:(y=(p=j.query)===null||p===void 0?void 0:p.exam_id)!==null&&y!==void 0?y:null,results:(x=j.query)===null||x===void 0?void 0:x.results}},[(c=j.query)===null||c===void 0?void 0:c.exam_id,(r=j.query)===null||r===void 0?void 0:r.results]),g=m.exam_id,R=m.results;return R!==null&&!Number.isNaN(Number(R))?Object(e.jsx)(bt,{exam_id:Number(R)}):g!==null?Object(e.jsx)(dt,{exam_id:g}):Object(e.jsx)(X.a,{headerTitle:Object(e.jsx)(n.a,{id:"exams"}),actionRef:s,search:!1,rowKey:"id",request:function(){var y=Object(f.a)(Object(h.a)().mark(function p(x,_){var E,G,P,W;return Object(h.a)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(E=x.current,G=x.pageSize,u!==null){S.next=3;break}return S.abrupt("return",{data:[],total:0,success:!1});case 3:return P=_&&Object.entries(_)[0],S.next=6,K({per_page:G,page:E,semester_subject_id:Number.isNaN(u)?void 0:u,order_by:P&&P[0],order:P&&(P[1]==="ascend"?"ASC":"DESC")});case 6:if(W=S.sent,!W.success){S.next=9;break}return S.abrupt("return",{data:W.data,total:W.meta.total,success:!0});case 9:return S.abrupt("return",{data:[],total:0,success:!1});case 10:case"end":return S.stop()}},p)}));return function(p,x){return y.apply(this,arguments)}}(),columns:[].concat(St,[{title:Object(e.jsx)(n.a,{id:"pages.searchTable.titleOption"}),dataIndex:"option",valueType:"option",render:function(p,x){return[Object(e.jsx)(Ae.a,{to:"/teacher/subjects/".concat(x.semester_subject_id,"/exams?exam_id=").concat(x.id),children:Object(e.jsx)(We.a,{title:Object(e.jsx)(n.a,{id:"edit",defaultMessage:"edit"}),children:Object(e.jsx)($.a,{type:"primary",icon:Object(e.jsx)(Ze.a,{})})})},"edit"),Object(e.jsx)(Ae.a,{to:"/teacher/subjects/".concat(x.semester_subject_id,"/exams?results=").concat(x.id),children:Object(e.jsx)(We.a,{title:Object(e.jsx)(n.a,{id:"TeacherSubjects.Exams.results",defaultMessage:"results"}),children:Object(e.jsx)($.a,{icon:Object(e.jsx)(Be.a,{})})})},"results"),Object(e.jsx)(ve.a,{title:Object(e.jsx)(n.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(f.a)(Object(h.a)().mark(function _(){var E;return Object(h.a)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,Re(x.id);case 2:E=P.sent,E.success&&s.current&&s.current.reload();case 4:case"end":return P.stop()}},_)})),okText:Object(e.jsx)(n.a,{id:"yes"}),cancelText:Object(e.jsx)(n.a,{id:"no"}),children:Object(e.jsx)(We.a,{title:Object(e.jsx)(n.a,{id:"delete",defaultMessage:"delete"}),children:Object(e.jsx)($.a,{type:"primary",icon:Object(e.jsx)(ct.a,{}),danger:!0})})},"delete")]}}])})},q=t("4KAj"),ne=t("o0Ox"),ue=[{title:Object(e.jsx)(n.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"user_id",hideInSearch:!0},{title:Object(e.jsx)(n.a,{id:"first_name",defaultMessage:"First name"}),dataIndex:"first_name"},{title:Object(e.jsx)(n.a,{id:"last_name",defaultMessage:"Last name"}),dataIndex:"last_name"},{title:Object(e.jsx)(n.a,{id:"email",defaultMessage:"email"}),dataIndex:"email"},{title:Object(e.jsx)(n.a,{id:"groupName",defaultMessage:"Group name"}),dataIndex:"group_name",hideInSearch:!0}],be=function(c){return c.map(function(r){var s=r.id,a=r.name;return{label:a,value:s}})},Ce=function(c){return c.reduce(function(r,s){var a,u=s==null||(a=s.users)===null||a===void 0?void 0:a.map(function(j){return{group_id:s.id,group_name:s.name,user_id:j.id,first_name:j.first_name,last_name:j.last_name,email:j.email}});return[].concat(Object(C.a)(r),Object(C.a)(u))},[])},De=function(){var c=Object(te.b)(),r=c.teacherSubjectData,s=Object(l.useMemo)(function(){var a;return be((a=r==null?void 0:r.groups)!==null&&a!==void 0?a:[])},[r==null?void 0:r.groups]);return Object(e.jsx)(X.a,{rowKey:function(u){return"".concat(u.group_id,"-").concat(u.user_id)},search:{layout:"vertical"},request:function(){var a=Object(f.a)(Object(h.a)().mark(function u(j){var m,g,R,y,p,x,_,E,G;return Object(h.a)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return m=j.groups,g=j.first_name,R=g===void 0?"":g,y=j.last_name,p=y===void 0?"":y,x=j.email,_=x===void 0?"":x,W.next=3,Object(ne.a)({parent_id:r==null?void 0:r.group_id,"id[]":m});case 3:if(E=W.sent,E.success){W.next=6;break}return W.abrupt("return",{data:[],total:0,success:!1});case 6:return G=Ce(E.data).filter(function(pe){return pe.first_name.toLowerCase().includes(R.toLowerCase())&&pe.last_name.toLowerCase().includes(p.toLowerCase())&&pe.email.toLowerCase().includes(_.toLowerCase())}),W.abrupt("return",{data:G,total:G.length,success:!0});case 8:case"end":return W.stop()}},u)}));return function(u){return a.apply(this,arguments)}}(),columns:[{title:Object(e.jsx)(n.a,{id:"groups",defaultMessage:"Groups"}),dataIndex:"groups",hideInTable:!0,filterMultiple:!0,valueType:"select",fieldProps:{options:s,mode:"multiple"}}].concat(ue,[{hideInSearch:!0,title:Object(e.jsx)(n.a,{id:"msTeams"}),dataIndex:"teamsLink",valueType:"option",render:function(){return[Object(e.jsx)(Ae.a,{to:"#",children:Object(e.jsx)(We.a,{title:Object(e.jsx)(n.a,{id:"msTeams",defaultMessage:"teams"}),children:Object(e.jsx)($.a,{type:"primary",icon:Object(e.jsx)(q.a,{})})})},"teamsLink")]}}])})},rt=t("DYRE"),ft=t("zeV3"),gt=t("tU7J"),ze=t("wFql"),mt=t("jrin");function vt(d,c){return yt.apply(this,arguments)}function yt(){return yt=Object(f.a)(Object(h.a)().mark(function d(c,r){return Object(h.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(n.i)("/api/admin/schedules/groups/".concat(c),Object(i.a)({method:"GET",useCache:!1},r||{})));case 1:case"end":return a.stop()}},d)})),yt.apply(this,arguments)}function Ft(d,c,r,s){return Tt.apply(this,arguments)}function Tt(){return Tt=Object(f.a)(Object(h.a)().mark(function d(c,r,s,a){return Object(h.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(n.i)("/api/admin/schedules/".concat(c,"/attendances"),Object(i.a)({data:{attendances:[{user_id:r,value:s}]},method:"POST"},a||{})));case 1:case"end":return j.stop()}},d)})),Tt.apply(this,arguments)}var Ra=t("sRBo"),$t=t("kaz8"),Ht=function(c){var r=c.currentData,s=c.recordData,a=c.groupId,u=c.onSuccess,j=Object(l.useState)(!1),m=Object(B.a)(j,2),g=m[0],R=m[1],y=function(){R(!0),Ft(r.id,s.id,(s==null?void 0:s[String(r.date_from)])===N.a.PRESENT?N.a.ABSENT:N.a.PRESENT).then(function(x){x.success&&vt(Number(a)).then(function(_){_.success&&(u(_.data),R(!1))})})};return g?Object(e.jsx)(T.a,{size:"small"}):Object(e.jsx)($t.a,{checked:(s==null?void 0:s[String(r.date_from)])===N.a.PRESENT,onChange:function(){return y()}})},Jt=Ht,zt=function(){var c,r,s,a,u,j=Object(te.b)(),m=j.teacherSubjectData,g=Object(l.useRef)(),R=Object(n.l)(),y=Object(l.useState)(!1),p=Object(B.a)(y,2),x=p[0],_=p[1],E=Object(l.useState)(),G=Object(B.a)(E,2),P=G[0],W=G[1],pe=Object(l.useState)(),S=Object(B.a)(pe,2),me=S[0],ee=S[1],se=Object(l.useState)({id:(c=m==null||(r=m.groups)===null||r===void 0?void 0:r[0].id)!==null&&c!==void 0?c:null,name:m==null||(s=m.groups)===null||s===void 0?void 0:s[0].name}),fe=Object(B.a)(se,2),F=fe[0],ce=fe[1],xe=Object(l.useMemo)(function(){var V;return((V=me==null?void 0:me.users)!==null&&V!==void 0?V:[]).reduce(function(Q,Fe){var M={id:Fe.id,first_name:Fe.first_name,last_name:Fe.last_name,academic_teacher_id:Fe.academic_teacher_id},de=(P!=null?P:[]).reduce(function(ie,Ge){var Ue=Ge.attendances.find(function(ke){return ke.user_id===Fe.id});return Object(i.a)(Object(i.a)({},ie),{},Object(mt.a)({},String(Ge.date_from),Ue==null?void 0:Ue.value))},{});return M.academic_teacher_id?Object(C.a)(Q):[].concat(Object(C.a)(Q),[Object(i.a)(Object(i.a)({},M),de)])},[])},[me,P]),z=Object(l.useMemo)(function(){var V=(P!=null?P:[]).reduce(function(Q,Fe){return[].concat(Object(C.a)(Q),[{title:String(Object(Je.a)(new Date(Fe.date_from),Y.c)),dataIndex:String(Fe.date_from),hideInSearch:!0,width:100,align:"center",render:function(de,ie){return Object(e.jsx)(Jt,{currentData:Fe,recordData:ie,onSuccess:function(Ue){return W(Ue)},groupId:F.id})}}])},[]);return console.log({columns:z}),_(!1),[{title:Object(e.jsx)(n.a,{id:"nameAndSurname",defaultMessage:"Name and surname"}),hideInSearch:!0,fixed:"left",render:function(Fe,M){return"".concat(M.first_name," ").concat(M.last_name)}}].concat(Object(C.a)(V))},[P]),k=function(Q){var Fe,M=m==null||(Fe=m.groups)===null||Fe===void 0?void 0:Fe.find(function(de){return de.id===Q});return M?M==null?void 0:M.name:""},le=function(Q){_(!0),ce({id:Q,name:k(Q)})};return Object(l.useEffect)(function(){F.id&&(vt(F.id).then(function(V){V.success&&W(V.data)}),Object(ne.b)(F.id).then(function(V){V.success&&ee(V.data)}))},[F]),console.log({studentAttendanceList:xe}),Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(je.a,{children:Object(e.jsxs)(ft.b,{children:[Object(e.jsx)(ze.a.Title,{level:5,children:Object(e.jsx)(n.a,{id:"select_user_group",defaultMessage:"Select group"})}),Object(e.jsx)(L.a,{style:{minWidth:"400px"},onChange:le,defaultValue:m==null||(a=m.groups)===null||a===void 0?void 0:a[0].id,children:m==null||(u=m.groups)===null||u===void 0?void 0:u.map(function(V){return Object(e.jsx)(L.a.Option,{value:V.id,children:V.name},V.id)})})]})}),z.length===1?Object(e.jsx)(n.a,{id:"noAttendanceSchedule",defaultMessage:"No attendance schedule for this group..."}):Object(e.jsx)(X.a,{headerTitle:"".concat(R.formatMessage({id:"attendances",defaultMessage:"Attendances"})," (").concat(F.name,")"),actionRef:g,rowKey:"group_id",search:!1,loading:x,dataSource:xe!=null?xe:[],scroll:{x:1500},columns:Object(C.a)(z)})]})},Yt=zt,Ia=t("/zsF"),Kt=t("PArb"),Zt=t("Hn4i"),Qt=t("bRQS");function Bt(d,c,r){return Ct.apply(this,arguments)}function Ct(){return Ct=Object(f.a)(Object(h.a)().mark(function d(c,r,s){return Object(h.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(n.i)("/api/admin/semester-subjects/".concat(c,"/tutors/").concat(r,"/grades"),Object(i.a)({method:"GET",useCache:!1},s||{})));case 1:case"end":return u.stop()}},d)})),Ct.apply(this,arguments)}function Xt(d,c,r,s){return Mt.apply(this,arguments)}function Mt(){return Mt=Object(f.a)(Object(h.a)().mark(function d(c,r,s,a){return Object(h.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(n.i)("/api/admin/semester-subjects/".concat(c,"/tutors/").concat(r,"/grades"),Object(i.a)({method:"POST",data:s},a||{})));case 1:case"end":return j.stop()}},d)})),Mt.apply(this,arguments)}function kt(d,c){return Pt.apply(this,arguments)}function Pt(){return Pt=Object(f.a)(Object(h.a)().mark(function d(c,r){return Object(h.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(n.i)("/api/admin/lesson-group-users",Object(i.a)({method:"GET",params:{"groups[]":c},useCache:!1},r||{})));case 1:case"end":return a.stop()}},d)})),Pt.apply(this,arguments)}function qt(d,c,r){return Dt.apply(this,arguments)}function Dt(){return Dt=Object(f.a)(Object(h.a)().mark(function d(c,r,s){return Object(h.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(n.i)("/api/admin/lesson-group-users/groups/".concat(c,"/users/").concat(r),Object(i.a)({method:"GET",useCache:!1},s||{})));case 1:case"end":return u.stop()}},d)})),Dt.apply(this,arguments)}function ea(d){return At.apply(this,arguments)}function At(){return At=Object(f.a)(Object(h.a)().mark(function d(c){return Object(h.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(n.i)("/api/admin/grade-terms",Object(i.a)({method:"GET",useCache:!1},c||{})));case 1:case"end":return s.stop()}},d)})),At.apply(this,arguments)}function ta(d,c){return Rt.apply(this,arguments)}function Rt(){return Rt=Object(f.a)(Object(h.a)().mark(function d(c,r){return Object(h.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(n.i)("/api/admin/grade-scales/".concat(c),Object(i.a)({method:"GET",useCache:!1},r||{})));case 1:case"end":return a.stop()}},d)})),Rt.apply(this,arguments)}function aa(d,c){return It.apply(this,arguments)}function It(){return It=Object(f.a)(Object(h.a)().mark(function d(c,r){return Object(h.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(n.i)("/api/admin/final-grades",Object(i.a)({method:"POST",data:c},r||{})));case 1:case"end":return a.stop()}},d)})),It.apply(this,arguments)}function na(d,c,r){return Lt.apply(this,arguments)}function Lt(){return Lt=Object(f.a)(Object(h.a)().mark(function d(c,r,s){return Object(h.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(n.i)("/api/admin/final-grades/".concat(c),Object(i.a)({method:"PATCH",data:r},s||{})));case 1:case"end":return u.stop()}},d)})),Lt.apply(this,arguments)}var ra=[{title:Object(e.jsx)(n.a,{id:"grade"}),dataIndex:"grade",editable:!1},{title:Object(e.jsx)(n.a,{id:"degree"}),dataIndex:"name",editable:!1},{title:Object(e.jsx)(n.a,{id:"min_percent"}),dataIndex:"grade_value",valueType:"percent",formItemProps:{rules:[{required:!0,message:Object(e.jsx)(n.a,{id:"field_required"})},{type:"number",min:0,max:100,message:Object(e.jsx)(n.a,{id:"number_between",values:{min:0,max:100}})}]}}],sa=function(){var c,r,s=Object(n.m)("@@initialState"),a=s.initialState,u=Object(te.b)(),j=u.semester_subject_id,m=u.tutors,g=ae.a.useForm(),R=Object(B.a)(g,1),y=R[0],p=Object(l.useState)([]),x=Object(B.a)(p,2),_=x[0],E=x[1],G=Object(l.useRef)(),P=Object(l.useState)(!1),W=Object(B.a)(P,2),pe=W[0],S=W[1],me=Object(l.useState)(null),ee=Object(B.a)(me,2),se=ee[0],fe=ee[1],F=Object(l.useMemo)(function(){return!!m.data.find(function(z){var k,le=z.id;return le===(a==null||(k=a.currentUser)===null||k===void 0?void 0:k.id)})},[m.data,a==null||(c=a.currentUser)===null||c===void 0?void 0:c.id]),ce=Object(l.useMemo)(function(){return m.data.map(function(z){var k=z.id,le=z.first_name,V=z.last_name;return{label:"".concat(le," ").concat(V),value:k}})},[m.data]);Object(l.useEffect)(function(){var z,k;if(!F||!(a!=null&&(z=a.currentUser)!==null&&z!==void 0&&z.id)){var le;if((le=m.data)!==null&&le!==void 0&&le[0]){var V;fe((V=m.data)===null||V===void 0?void 0:V[0].id)}return}fe(a==null||(k=a.currentUser)===null||k===void 0?void 0:k.id)},[a==null||(r=a.currentUser)===null||r===void 0?void 0:r.id,F]),Object(l.useEffect)(function(){j===null||se===null||(S(!0),Bt(j,se).then(function(z){if(z.success){var k,le=((k=z.data.grade_scale)!==null&&k!==void 0?k:[]).map(function(V,Q){return Object(i.a)(Object(i.a)({},V),{},{id:String((Q+1)*100)})});y.setFieldValue("table",le)}}).finally(function(){S(!1)}))},[j,se]);var xe=Object(l.useCallback)(function(){var z=Object(f.a)(Object(h.a)().mark(function k(le){return Object(h.a)().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(!(j===null||se===null)){Q.next=2;break}return Q.abrupt("return");case 2:return Q.next=4,Xt(j,se,{grade_scale:le.table});case 4:case"end":return Q.stop()}},k)}));return function(k){return z.apply(this,arguments)}}(),[se,j]);return m.loading?Object(e.jsx)(T.a,{}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(ae.a.Item,{label:Object(e.jsx)(n.a,{id:"menu.Teacher"}),children:Object(e.jsx)(L.a,{disabled:F,placeholder:Object(e.jsx)(n.a,{id:"select"}),options:ce,value:se,onChange:function(k){return fe(k)}})}),Object(e.jsx)(Kt.a,{}),Object(e.jsx)(ae.a,{form:y,onFinish:xe,submitter:{render:function(k,le){var V=Object(B.a)(le,2),Q=V[1];return[Q]}},children:Object(e.jsx)(Zt.a,{name:"table",rowKey:"id",actionRef:G,formItemProps:{label:Object(e.jsx)(n.a,{id:"grades-scale"})},cardProps:{bodyStyle:{padding:0}},recordCreatorProps:!1,loading:pe,columns:[].concat(ra,[{title:Object(e.jsx)(n.a,{id:"options"}),valueType:"option",render:function(k,le){return Object(e.jsx)($.a,{type:"primary",onClick:function(){var Q;return(Q=G.current)===null||Q===void 0?void 0:Q.startEditable(le.id)},icon:Object(e.jsx)(Ze.a,{})})}}]),editable:{form:y,type:"multiple",editableKeys:_,saveText:Object(e.jsx)($.a,{type:"primary",icon:Object(e.jsx)(Qt.a,{})}),onChange:E,actionRender:function(k,le,V){return[V.save]}}})})]})},La=t("qbNl"),ca=t("JBPa"),Ga=t("Awhp"),ia=t("KrTs"),ua=t("wd/R"),tt=t.n(ua),Ua=t("5R/X");function la(d,c){return Gt.apply(this,arguments)}function Gt(){return Gt=Object(f.a)(Object(h.a)().mark(function d(c,r){return Object(h.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(n.i)("/api/admin/schedules",Object(i.a)({params:c,method:"GET",useCache:!1},r||{})));case 1:case"end":return a.stop()}},d)})),Gt.apply(this,arguments)}var da=function(){var c=Object(l.useState)(null),r=Object(B.a)(c,2),s=r[0],a=r[1],u=Object(l.useState)([]),j=Object(B.a)(u,2),m=j[0],g=j[1],R=Object(te.b)(),y=R.semester_subject_id,p=tt()(),x=Object(l.useMemo)(function(){return m.map(function(S){return{id:S.id,title:"".concat(S.group.name," (").concat(S.term_status.name,")"),start:tt()(S.date_from).toDate(),end:tt()(S.date_to).toDate(),tutor_name:"".concat(S.tutor.first_name," ").concat(S.tutor.last_name),tutor_email:S.tutor.email,semester:S.semester.name,group:S.group.name,subject:S.subject.name}})},[m]),_=Object(l.useCallback)(function(S,me){la({semester_subject_id:y,date_form:S.toDate(),date_to:me.toDate()}).then(function(ee){ee.success&&g(ee.data)})},[y]),E=Object(l.useCallback)(function(S){a(S)},[]),G=Object(l.useCallback)(function(){a(null)},[]),P=Object(l.useCallback)(function(S){return S.isSame(p,"day")?"warning":S.isAfter(p,"day")?"success":"error"},[]),W=Object(l.useCallback)(function(S){var me=x.filter(function(ee){return tt()(ee.start).isSame(S,"day")});return Object(e.jsx)("ul",{className:"events",children:me.map(function(ee){return Object(e.jsx)("li",{onClick:function(){return E(ee)},children:Object(e.jsx)(ia.a,{status:P(tt()(ee.start)),text:ee.title})},ee.id)})})},[m]),pe=Object(l.useCallback)(function(S,me){var ee=tt()(S).startOf(me).subtract(1,"month"),se=tt()(S).endOf(me).add(1,"month");_(ee,se)},[]);return Object(l.useEffect)(function(){var S=tt()().startOf("month"),me=tt()().endOf("month");_(S,me)},[]),Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(ze.a.Title,{level:4,children:Object(e.jsx)(n.a,{id:"schedule",defaultMessage:"Schedule"})}),Object(e.jsx)(ca.a,{dateCellRender:W,onPanelChange:pe}),Object(e.jsxs)(Xe.a,{open:s!==null,title:"".concat(s==null?void 0:s.subject,": ").concat(s==null?void 0:s.title),onCancel:G,footer:null,children:[Object(e.jsxs)(ze.a.Paragraph,{children:[Object(e.jsx)(n.a,{id:"tutorName",defaultMessage:"Tutor"}),": ",s==null?void 0:s.tutor_name]}),Object(e.jsxs)(ze.a.Paragraph,{children:[Object(e.jsx)(n.a,{id:"email",defaultMessage:"Email"}),": ",s==null?void 0:s.tutor_email]}),Object(e.jsxs)(ze.a.Paragraph,{children:[Object(e.jsx)(n.a,{id:"group",defaultMessage:"Group"}),": ",s==null?void 0:s.group]}),Object(e.jsxs)(ze.a.Paragraph,{children:[Object(e.jsx)(n.a,{id:"semester",defaultMessage:"Semester"}),": ",s==null?void 0:s.semester]}),Object(e.jsxs)(ze.a.Paragraph,{children:[Object(e.jsx)(n.a,{id:"started_at",defaultMessage:"Start date"}),":",s&&tt()(s.start).format(Y.b)]}),Object(e.jsxs)(ze.a.Paragraph,{children:[Object(e.jsx)(n.a,{id:"end_at",defaultMessage:"End date"}),":",s&&tt()(s.end).format(Y.b)]})]})]})},oa=da,ja=t("Vpfc"),Fa=t("miYZ"),pt=t("tsqr"),Nt=t("yj/a"),Wt=t("5Syx"),wt=t("PpiC"),Ut=t("H6aw"),ba=t("p3I6"),fa=["attendances"],ma=["results"];function va(d,c){var r=Object(l.useState)({loading:!1}),s=Object(B.a)(r,2),a=s[0],u=s[1];return Object(l.useEffect)(function(){u(function(j){return Object(i.a)(Object(i.a)({},j),{},{loading:!0})}),qt(d,c).then(function(j){j.success&&u(function(m){return Object(i.a)(Object(i.a)({},m),{},{data:j.data})})}).finally(function(){u(function(j){return Object(i.a)(Object(i.a)({},j),{},{loading:!1})})})},[c,d]),{finalGrades:a}}function Oa(){var d=Object(l.useState)({loading:!1}),c=Object(B.a)(d,2),r=c[0],s=c[1];return Object(l.useEffect)(function(){s(function(a){return Object(i.a)(Object(i.a)({},a),{},{loading:!0})}),ea().then(function(a){a.success&&s(function(u){return Object(i.a)(Object(i.a)({},u),{},{data:a.data})})}).finally(function(){s(function(a){return Object(i.a)(Object(i.a)({},a),{},{loading:!1})})})},[]),{gradeTerms:r}}function ha(d){var c=Object(l.useState)({loading:!1}),r=Object(B.a)(c,2),s=r[0],a=r[1];return Object(l.useEffect)(function(){d!==void 0&&(a(function(u){return Object(i.a)(Object(i.a)({},u),{},{loading:!0})}),ta(d).then(function(u){u.success&&a(function(j){return Object(i.a)(Object(i.a)({},j),{},{data:u.data})})}).finally(function(){a(function(u){return Object(i.a)(Object(i.a)({},u),{},{loading:!1})})}))},[d]),{subjectGradeScales:s}}function ga(d,c){var r=Object(l.useState)({loading:!1}),s=Object(B.a)(r,2),a=s[0],u=s[1];return Object(l.useEffect)(function(){typeof d!="number"||typeof c!="number"||(u(function(j){return Object(i.a)(Object(i.a)({},j),{},{loading:!0})}),Bt(d,c).then(function(j){j.success&&u(function(m){return Object(i.a)(Object(i.a)({},m),{},{data:j.data.grade_scale})})}).finally(function(){u(function(j){return Object(i.a)(Object(i.a)({},j),{},{loading:!1})})}))},[d,c]),{tutorGradeScales:a}}function pa(d,c){var r=Object(l.useState)({loading:!1}),s=Object(B.a)(r,2),a=s[0],u=s[1],j=Object(l.useCallback)(function(){u(function(g){return Object(i.a)(Object(i.a)({},g),{},{loading:!0})}),vt(d).then(function(g){if(g.success){var R=g.data.reduce(function(y,p){var x=p.attendances,_=Object(wt.a)(p,fa),E=x.find(function(G){return Boolean(G.user_id)});return E?[].concat(Object(C.a)(y),[Object(i.a)(Object(i.a)({},_),{},{attendance:E})]):y},[]);u(function(y){return Object(i.a)(Object(i.a)({},y),{},{data:R})})}}).finally(function(){u(function(g){return Object(i.a)(Object(i.a)({},g),{},{loading:!1})})})},[d,c]),m=Object(l.useCallback)(function(g,R){u(function(y){return Object(i.a)(Object(i.a)({},y),{},{loading:!0})}),Ft(g,c,R).then(function(y){y.success?pt.b.success(y.message):pt.b.error(y.message)}).finally(function(){j(),u(function(y){return Object(i.a)(Object(i.a)({},y),{},{loading:!1})})})},[j,c]);return Object(l.useEffect)(function(){j()},[j]),{userAttendanceSchedules:a,fetchUserAttendanceSchedules:j,updateUserAttendanceSchedules:m}}function xa(d){var c=Object(l.useState)({loading:!1}),r=Object(B.a)(c,2),s=r[0],a=r[1];return Object(l.useEffect)(function(){a(function(u){return Object(i.a)(Object(i.a)({},u),{},{loading:!0})}),K({student_id:d}).then(function(u){if(u.success){var j=u.data.reduce(function(m,g){var R=Object(B.a)(g.results,1),y=R[0],p=Object(wt.a)(g,ma);return y?[].concat(Object(C.a)(m),[Object(i.a)(Object(i.a)({},p),{},{result:y})]):m},[]);a(function(m){return Object(i.a)(Object(i.a)({},m),{},{data:j})})}}).finally(function(){a(function(u){return Object(i.a)(Object(i.a)({},u),{},{loading:!1})})})},[d]),{studentExams:s}}function _a(d,c){var r=Object(l.useState)({loading:!1}),s=Object(B.a)(r,2),a=s[0],u=s[1],j=Object(l.useState)({loading:!1}),m=Object(B.a)(j,2),g=m[0],R=m[1],y=Object(l.useState)({loading:!1}),p=Object(B.a)(y,2),x=p[0],_=p[1];return Object(l.useEffect)(function(){u(function(E){return Object(i.a)(Object(i.a)({},E),{},{loading:!0})}),Object(Ut.e)({group_id:d}).then(function(E){E.success&&u(function(G){return Object(i.a)(Object(i.a)({},G),{},{data:E.data})})}).finally(function(){u(function(E){return Object(i.a)(Object(i.a)({},E),{},{loading:!1})})})},[d]),Object(l.useEffect)(function(){!a.data||(_(function(E){return Object(i.a)(Object(i.a)({},E),{},{loading:!0})}),Promise.all(a.data.map(function(E){var G=E.id;return Object(Ut.m)(Number(G))})).then(function(E){E.forEach(function(G){G.success&&_(function(P){return Object(i.a)(Object(i.a)({},P),{},{data:Object(i.a)(Object(i.a)({},P.data),{},Object(mt.a)({},Number(G.data.id),Object(ba.c)(G.data.lessons)))})})})}).finally(function(){_(function(E){return Object(i.a)(Object(i.a)({},E),{},{loading:!1})})}),R(function(E){return Object(i.a)(Object(i.a)({},E),{},{loading:!0})}),Promise.all(a.data.map(function(E){var G=E.id;return Object(Ut.l)(Number(G),["EscolaLms\\Reports\\Stats\\Course\\FinishedTopics","EscolaLms\\Reports\\Stats\\Course\\AttendanceList"]).then(function(P){if(P.success){var W,pe,S=((W=P.data["EscolaLms\\Reports\\Stats\\Course\\FinishedTopics"])!==null&&W!==void 0?W:[]).filter(function(ee){return ee.id===c}),me=(pe=P.data["EscolaLms\\Reports\\Stats\\Course\\AttendanceList"])!==null&&pe!==void 0?pe:[];R(function(ee){return Object(i.a)(Object(i.a)({},ee),{},{data:Object(i.a)(Object(i.a)({},ee.data),{},Object(mt.a)({},Number(G),{finishedTopics:S,attendanceList:me}))})})}})})).finally(function(){return R(function(E){return Object(i.a)(Object(i.a)({},E),{},{loading:!1})})}))},[a.data,c]),{userCourses:a,userCoursesStats:g,userCoursesTopics:x}}var Ea=[{title:Object(e.jsx)(n.a,{id:"grade"}),dataIndex:"grade"},{title:Object(e.jsx)(n.a,{id:"degree"}),dataIndex:"name"},{title:Object(e.jsx)(n.a,{id:"min_percent"}),dataIndex:"grade_value",valueType:"percent"}],Sa=[{title:Object(e.jsx)(n.a,{id:"date"}),dataIndex:"date_from",render:function(c,r){return Object(Je.a)(new Date(r.date_from),Y.c)}}],ya=[{title:Object(e.jsx)(n.a,{id:"name"}),dataIndex:"title"},{title:Object(e.jsx)(n.a,{id:"TeacherSubjects.Exams.grade_weight",defaultMessage:"Weight"}),dataIndex:"weight",valueType:"percent"},{title:Object(e.jsx)(n.a,{id:"created_at",defaultMessage:"Created at"}),dataIndex:"created_at",render:function(c,r){return Object(Je.a)(new Date(r.created_at),Y.c)}},{title:Object(e.jsx)(n.a,{id:"grade"}),dataIndex:"result",render:function(c,r){return"".concat(r.result.result,"%")}}],Ta=[{title:Object(e.jsx)(n.a,{id:"name"}),dataIndex:"name"},{title:Object(e.jsx)(n.a,{id:"issued_at"}),dataIndex:"grade",render:function(c,r){var s,a;return(s=r.grade)!==null&&s!==void 0&&s.grade_date?Object(Je.a)(new Date((a=r.grade)===null||a===void 0?void 0:a.grade_date),Y.c):"-"}},{title:Object(e.jsx)(n.a,{id:"grade"}),dataIndex:"grade",render:function(c,r){var s,a;return(s=(a=r.grade)===null||a===void 0?void 0:a.grade_name)!==null&&s!==void 0?s:"-"}}],xt=6,Ca=function(c){var r,s,a=c.user_id,u=c.group_id,j=Object(te.b)(),m=j.semester_subject_id,g=xa(a),R=g.studentExams,y=va(u,a),p=y.finalGrades,x=Oa(),_=x.gradeTerms,E=ha((r=p.data)===null||r===void 0?void 0:r.s_subject_scale_form_id),G=E.subjectGradeScales,P=ga(m,(s=p.data)===null||s===void 0?void 0:s.tutor_id),W=P.tutorGradeScales,pe=pa(u,a),S=pe.userAttendanceSchedules,me=pe.updateUserAttendanceSchedules,ee=_a(u,a),se=ee.userCourses,fe=ee.userCoursesStats,F=ee.userCoursesTopics,ce=ae.a.useForm(),xe=Object(B.a)(ce,1),z=xe[0],k=Object(l.useMemo)(function(){var M;return((M=_.data)!==null&&M!==void 0?M:[]).map(function(de){var ie=de.id,Ge=de.name;return{label:Ge,value:ie}})},[_.data]),le=Object(l.useMemo)(function(){var M;return((M=G.data)!==null&&M!==void 0?M:[]).map(function(de){var ie=de.name,Ge=de.id;return{label:ie,value:Ge}})},[G.data]),V=Object(l.useMemo)(function(){var M,de,ie,Ge=((M=R.data)!==null&&M!==void 0?M:[]).reduce(function(et,at){var Aa=at.result,Vt=at.weight;return[et[0]+Aa.result*Vt,et[1]+Vt]},[0,0]),Ue=Object(B.a)(Ge,2),ke=Ue[0],st=Ue[1],ut=Number.isNaN(ke/st)?0:ke/st,lt=((de=W.data)!==null&&de!==void 0?de:[]).sort(function(et,at){return et.grade_value-at.grade_value}).reduce(function(et,at){return[].concat(Object(C.a)(et),[Object(i.a)(Object(i.a)({},at),{},{isWeightedAverageGreater:ut>=at.grade_value})])},[]);if(lt.every(function(et){var at=et.isWeightedAverageGreater;return at})){var Ne;return(Ne=lt.at(-1))===null||Ne===void 0?void 0:Ne.name}var qe=lt.findIndex(function(et){var at=et.isWeightedAverageGreater;return!at});return qe<0?"":(ie=lt[qe-1])===null||ie===void 0?void 0:ie.name},[R.data,W.data]),Q=Object(l.useCallback)(function(){var M=Object(f.a)(Object(h.a)().mark(function de(ie){var Ge,Ue,ke,st,ut;return Object(h.a)().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:if(ke=ie.grade_scale_id,st=ie.grade_term_id,((Ge=p.data)===null||Ge===void 0?void 0:Ge.id)!==void 0){Ne.next=3;break}return Ne.abrupt("return");case 3:if(ut=(Ue=p.data)===null||Ue===void 0?void 0:Ue.grades.find(function(qe){var et=qe.grade_term;return et.id===st}),!ut){Ne.next=7;break}return na(ut.id,{grade_scale_id:ke}).then(function(qe){pt.b[qe.success?"success":"error"](qe.message),n.f.push("/teacher/subjects/".concat(m,"/final-grades"))}),Ne.abrupt("return");case 7:aa({grade_scale_id:ke,grade_term_id:st,lesson_group_user_id:p.data.id}).then(function(qe){pt.b[qe.success?"success":"error"](qe.message),n.f.push("/teacher/subjects/".concat(m,"/final-grades"))});case 8:case"end":return Ne.stop()}},de)}));return function(de){return M.apply(this,arguments)}}(),[p.data,m]),Fe=Object(l.useMemo)(function(){var M;return((M=_.data)!==null&&M!==void 0?M:[]).map(function(de){var ie;return Object(i.a)(Object(i.a)({},de),{},{grade:(ie=p.data)===null||ie===void 0?void 0:ie.grades.find(function(Ge){var Ue=Ge.grade_term;return Ue.id===de.id})})})},[p.data,_.data]);return p.loading?Object(e.jsx)(T.a,{}):Object(e.jsxs)(e.Fragment,{children:[p.data&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(ze.a.Text,{style:{fontSize:"16px",fontWeight:500},children:Object(e.jsx)(n.a,{id:"TeacherSubjects.FinalGrades.Student",values:p.data.user})}),Object(e.jsx)(Kt.a,{})]}),Object(e.jsxs)(Ve.a,{gutter:[48,48],justify:"space-between",children:[Object(e.jsx)(Ke.a,{span:12,children:Object(e.jsx)(X.a,{rowKey:"id",headerTitle:Object(e.jsx)(n.a,{id:"TeacherSubjects.FinalGrades.StudentPartialGrades"}),search:!1,pagination:{pageSize:xt},dataSource:R.data,loading:R.loading,columns:ya,options:!1,cardProps:{bodyStyle:{padding:0}}})}),Object(e.jsx)(Ke.a,{span:12,children:Object(e.jsx)(X.a,{rowKey:"id",headerTitle:Object(e.jsx)(n.a,{id:"TeacherSubjects.FinalGrades.FinalGrades"}),search:!1,pagination:{pageSize:xt},dataSource:Fe,loading:p.loading||_.loading,columns:Ta,options:!1,cardProps:{bodyStyle:{padding:0}}})}),Object(e.jsx)(Ke.a,{span:12,children:Object(e.jsx)(X.a,{rowKey:"id",headerTitle:Object(e.jsx)(n.a,{id:"TeacherSubjects.FinalGrades.Attendances"}),search:!1,options:!1,pagination:{pageSize:xt},cardProps:{bodyStyle:{padding:0}},dataSource:S.data,loading:S.loading,columns:[].concat(Sa,[{title:Object(e.jsx)(n.a,{id:"TeacherSubjects.FinalGrades.Attendance"}),dataIndex:"attendance",render:function(de,ie){return Object(e.jsx)($t.a,{onChange:function(Ue){return me(ie.id,Ue.target.checked?N.a.PRESENT:N.a.ABSENT)},checked:ie.attendance.value===N.a.PRESENT})}}])})}),Object(e.jsx)(Ke.a,{span:12,children:Object(e.jsx)(X.a,{rowKey:"id",headerTitle:Object(e.jsx)(n.a,{id:"TeacherSubjects.FinalGrades.GradesScale"}),search:!1,options:!1,pagination:{pageSize:xt},cardProps:{bodyStyle:{padding:0}},dataSource:W.data,loading:W.loading,columns:Ea})}),se.loading&&!se.data||fe.loading&&!fe.data||F.loading&&!F.data&&Object(e.jsx)(T.a,{}),se.data&&fe.data&&F.data&&se.data.map(function(M){var de,ie,Ge,Ue,ke,st,ut,lt,Ne=M.id,qe=M.title;return Object(e.jsxs)(Ke.a,{span:24,children:[Object(e.jsx)(ze.a.Text,{style:{fontSize:"16px",fontWeight:500},children:qe}),Object(e.jsx)(Wt.c,{topics:(de=(ie=F.data)===null||ie===void 0?void 0:ie[Number(Ne)])!==null&&de!==void 0?de:[],stats:(Ge=(Ue=fe.data)===null||Ue===void 0||(ke=Ue[Number(Ne)])===null||ke===void 0?void 0:ke.finishedTopics)!==null&&Ge!==void 0?Ge:[]}),Object(e.jsx)(Wt.a,{stats:(st=(ut=fe.data)===null||ut===void 0||(lt=ut[Number(Ne)])===null||lt===void 0?void 0:lt.attendanceList)!==null&&st!==void 0?st:[]})]},Ne)})]}),Object(e.jsx)(ae.a,{form:z,onFinish:Q,children:Object(e.jsxs)(ae.a.Group,{style:{display:"flex",flexDirection:"column",paddingTop:"48px"},title:Object(e.jsx)(n.a,{id:"TeacherSubjects.FinalGrades.IssueAssessment"}),titleStyle:{flex:"unset"},align:"center",children:[Object(e.jsx)(Nt.a,{name:"grade_term_id",rules:[{required:!0,message:Object(e.jsx)(n.a,{id:"field_required"})}],label:Object(e.jsx)(n.a,{id:"TeacherSubjects.FinalGrades.GradeTerm"}),options:k,width:"sm",fieldProps:{loading:_.loading}}),Object(e.jsx)(Nt.a,{name:"grade_scale_id",rules:[{required:!0,message:Object(e.jsx)(n.a,{id:"field_required"})}],label:Object(e.jsx)(n.a,{id:"TeacherSubjects.FinalGrades.FinalGrade"}),options:le,fieldProps:{loading:p.loading||G.loading}}),Object(e.jsx)(ae.a.Item,{children:Object(e.jsx)(n.a,{id:"TeacherSubjects.FinalGrades.ProposedGrade",values:{grade:V}})})]})})]})},Ma=[{title:Object(e.jsx)(n.a,{id:"first_name"}),dataIndex:"first_name",render:function(c,r){return r.user.first_name}},{title:Object(e.jsx)(n.a,{id:"last_name"}),dataIndex:"last_name",render:function(c,r){return r.user.last_name}},{title:Object(e.jsx)(n.a,{id:"grade"}),hideInSearch:!0,dataIndex:"grades",render:function(c,r){return Object(e.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:r.grades.length?r.grades.map(function(s){var a=s.grade_name,u=s.grade_term,j=s.id;return Object(e.jsxs)(ze.a.Text,{children:[u.name,": ",a]},j)}):"-"})}}],Pa=function(){var c,r,s=Object(o.k)(),a=Object(l.useMemo)(function(){var p,x,_,E;return{user_id:Number.isNaN(Number((p=s.query)===null||p===void 0?void 0:p.user_id))?null:Number((x=s.query)===null||x===void 0?void 0:x.user_id),group_id:Number.isNaN(Number((_=s.query)===null||_===void 0?void 0:_.group_id))?null:Number((E=s.query)===null||E===void 0?void 0:E.group_id)}},[(c=s.query)===null||c===void 0?void 0:c.user_id,(r=s.query)===null||r===void 0?void 0:r.group_id]),u=a.user_id,j=a.group_id,m=Object(te.b)(),g=m.teacherSubjectData,R=m.semester_subject_id,y=Object(l.useMemo)(function(){var p;return((p=g==null?void 0:g.groups)!==null&&p!==void 0?p:[]).map(function(x){var _=x.id,E=x.name;return{label:E,value:_}})},[g==null?void 0:g.groups]);return u!==null&&j!==null?Object(e.jsx)(Ca,{user_id:u,group_id:j}):Object(e.jsx)(X.a,{rowKey:"id",search:{layout:"vertical"},request:function(){var p=Object(f.a)(Object(h.a)().mark(function x(_){var E,G,P,W,pe,S,me,ee,se,fe;return Object(h.a)().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return G=_.group_id,P=G===void 0?[]:G,W=_.first_name,pe=W===void 0?"":W,S=_.last_name,me=S===void 0?"":S,ee=((E=g==null?void 0:g.groups)!==null&&E!==void 0?E:[]).map(function(xe){var z=xe.id;return z}),ce.next=4,kt(P.length===0?ee:P);case 4:if(se=ce.sent,se.success){ce.next=7;break}return ce.abrupt("return",{success:!1,total:0,data:[]});case 7:return fe=se.data.filter(function(xe){var z=xe.user;return z.first_name.toLowerCase().includes(pe.toLowerCase())&&z.last_name.toLowerCase().includes(me.toLowerCase())}),ce.abrupt("return",{success:!0,total:fe.length,data:fe});case 9:case"end":return ce.stop()}},x)}));return function(x){return p.apply(this,arguments)}}(),columns:[{title:Object(e.jsx)(n.a,{id:"group"}),dataIndex:"group_id",valueType:"select",fieldProps:{options:y,mode:"multiple"},render:function(x,_){return Object(e.jsx)(ja.a,{type:"Students",type_id:_.group_id},_.group_id)}}].concat(Ma,[{title:Object(e.jsx)(n.a,{id:"options"}),hideInSearch:!0,render:function(x,_){return[Object(e.jsx)(Ae.a,{to:"/teacher/subjects/".concat(R,"/final-grades?user_id=").concat(_.user.id,"&group_id=").concat(_.group_id),children:Object(e.jsx)(We.a,{title:Object(e.jsx)(n.a,{id:"edit"}),children:Object(e.jsx)($.a,{type:"primary",icon:Object(e.jsx)(Ze.a,{})})})},"edit")]}}])})},Da=function(c){var r,s,a=c.tab,u=Object(n.l)(),j=Object(n.m)("@@initialState"),m=j.setInitialState,g=j.initialState,R=Object(te.b)(),y=R.teacherSubjectData,p=R.semester_subject_id,x=R.tutors,_=Object(l.useCallback)(Object(_e.a)(g==null?void 0:g.currentUser),[g==null?void 0:g.currentUser]),E=Object(l.useMemo)(function(){return!!x.data.find(function(G){var P,W=G.id;return W===(g==null||(P=g.currentUser)===null||P===void 0?void 0:P.id)})||_(Se.a.TeacherListGradeScale)},[]);return y?Object(e.jsx)(re.a,{title:Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(n.a,{id:y==null||(r=y.subject)===null||r===void 0?void 0:r.name}),", ",Object(e.jsx)(n.a,{id:a})]}),tabBarExtraContent:Object(e.jsxs)("div",{style:{display:"flex",padding:"12px",gap:"12px"},children:[Object(e.jsx)($.a,{type:"primary",onClick:function(){return console.log("MSTeams")},children:Object(e.jsx)(n.a,{id:"msTeams",defaultMessage:"msTeams"})}),Object(e.jsx)(Ae.a,{to:"/teacher/subjects/".concat(p,"/exams?exam_id=new"),children:Object(e.jsx)($.a,{type:"primary",children:Object(e.jsx)(n.a,{id:"uploadGrades",defaultMessage:"uploadGrades"})})})]}),header:{breadcrumb:{routes:[{path:"teacher",breadcrumbName:u.formatMessage({id:"Teacher"})},{path:"subjects",breadcrumbName:u.formatMessage({id:"Subjects"})},{path:String(p),breadcrumbName:String((s=y.subject)===null||s===void 0?void 0:s.name)},{path:String(a),breadcrumbName:u.formatMessage({id:a,defaultMessage:String(a)})}]}},children:Object(e.jsxs)(je.a,{bodyStyle:{padding:"24px"},tabs:{type:"card",activeKey:a,onChange:function(P){m(Object(i.a)({},g)),n.f.push("/teacher/subjects/".concat(p,"/").concat(P))}},children:[Object(e.jsx)(je.a.TabPane,{tab:Object(e.jsx)(n.a,{id:"groups"}),children:Object(e.jsx)(Me.b,{})},"groups"),Object(e.jsx)(je.a.TabPane,{tab:Object(e.jsx)(n.a,{id:"students"}),children:Object(e.jsx)(De,{})},"students"),Object(e.jsx)(je.a.TabPane,{tab:Object(e.jsx)(n.a,{id:"exams"}),children:Object(e.jsx)(Pe,{})},"exams"),Object(e.jsx)(je.a.TabPane,{tab:Object(e.jsx)(n.a,{id:"schedule"}),children:Object(e.jsx)(oa,{})},"schedule"),Object(e.jsx)(je.a.TabPane,{tab:Object(e.jsx)(n.a,{id:"attendance"}),children:Object(e.jsx)(Yt,{})},"attendance"),E&&Object(e.jsx)(je.a.TabPane,{tab:Object(e.jsx)(n.a,{id:"grades-scale"}),children:Object(e.jsx)(sa,{})},"grades-scale"),Object(e.jsx)(je.a.TabPane,{tab:Object(e.jsx)(n.a,{id:"final-grades"}),children:Object(e.jsx)(Pa,{})},"final-grades")]})}):Object(e.jsx)(T.a,{})},$a=oe.default=function(){var d=Object(o.l)(),c=d.subjectId,r=d.tab,s=r===void 0?"groups":r;return Object(e.jsx)(te.a,{semester_subject_id:Number(c),children:Object(e.jsx)(Da,{tab:s})})}},p3I6:function($e,oe,t){"use strict";t.d(oe,"b",function(){return te}),t.d(oe,"c",function(){return ve}),t.d(oe,"a",function(){return ct});var i=t("miYZ"),H=t("tsqr"),$=t("tJVT"),v=t("k1fw"),T=t("oBTY"),l=t("q1tI"),je=t.n(l),n=t("9kvl"),Ae=t("Ty5D"),o=t("H6aw"),re=t("/y+f"),Se=t("nKUr"),_e=t.n(Se),te=je.a.createContext({}),Me=function(){return Math.round(Math.random()*99999)},nt=function X(Y){return Y.reduce(function(K,O){return[].concat(Object(T.a)(K),Object(T.a)(O.lessons?X(O.lessons):[]),[O])},[])},ve=function X(Y){return Y.reduce(function(K,O){var w;return[].concat(Object(T.a)(K),Object(T.a)(O.lessons?X(O.lessons):[]),Object(T.a)((w=O.topics)!==null&&w!==void 0?w:[]))},[])},Ye=function X(Y,K,O){return Y.map(function(w){var Oe,I;return Object(v.a)(Object(v.a)({},w),{},{lessons:w.lessons?X(w.lessons,K,O):[],topics:w.id===K?[].concat(Object(T.a)((Oe=w.topics)!==null&&Oe!==void 0?Oe:[]),[O]):(I=w.topics)!==null&&I!==void 0?I:[]})})},We=function X(Y,K,O){return Y.map(function(w){var Oe,I,b;return Object(v.a)(Object(v.a)({},w),{},{lessons:X((Oe=w.lessons)!==null&&Oe!==void 0?Oe:[],K,O),topics:(I=(b=w.topics)===null||b===void 0?void 0:b.map(function(he){return he.id===K?O:he}))!==null&&I!==void 0?I:[]})})},h=function X(Y,K,O){return O?Y.map(function(w){return Object(v.a)(Object(v.a)({},w),{},{lessons:[].concat(Object(T.a)(w.lessons?X(w.lessons,K,O):[]),Object(T.a)(w.id===O?[K]:[]))})}):[].concat(Object(T.a)(Y),[K])},f=function X(Y,K,O){return Y.map(function(w){return Object(v.a)(Object(v.a)({},w.id===K?O:w),{},{lessons:w.lessons?X(w.lessons,K,O):[]})})},Je=function X(Y,K){return Y.map(function(O){return Object(v.a)(Object(v.a)({},O),{},{parent_id:K,lessons:O.lessons?X(O.lessons,O.id):[]})})},Ze=function X(Y,K){return Y.filter(function(O){return O.id!==K}).map(function(O){return Object(v.a)(Object(v.a)({},O),{},{lessons:O.lessons?X(O.lessons,K):[]})})},Be=function X(Y,K){return Y.map(function(O){return Object(v.a)(Object(v.a)({},O),{},{lessons:O.lessons?X(O.lessons,K):[],topics:O.topics?O.topics.filter(function(w){return w.id!==K}):[]})})},ct=function(Y){var K=Y.children,O=Y.id,w=Object(l.useState)(),Oe=Object($.a)(w,2),I=Oe[0],b=Oe[1],he=Object(n.l)(),ye=Object(l.useMemo)(function(){return I&&I.lessons?ve(I.lessons):[]},[I]),Re=Object(l.useMemo)(function(){return I&&I.lessons?nt(I.lessons):[]},[I]),Ee=Object(l.useState)([]),Ie=Object($.a)(Ee,2),Te=Ie[0],we=Ie[1],D=Object(Ae.k)();Object(l.useEffect)(function(){we([])},[]);var J=Object(l.useCallback)(function(){Object(o.m)(O).then(function(U){return U.success&&b(Object(v.a)(Object(v.a)({},U.data),{},{lessons:Je(U.data.lessons)}))})},[O]);Object(l.useEffect)(function(){J()},[J]);var ge=Object(l.useCallback)(function(U){var L=Re.find(function(C){var A;return C==null||(A=C.topics)===null||A===void 0?void 0:A.find(function(e){return e.id===U})});return L?L.id:null},[Re]),B=Object(l.useMemo)(function(){var U,L;return(U=D.query)!==null&&U!==void 0&&U.lesson?{mode:"lesson",id:Number(D.query.lesson),value:Re.find(function(C){return C.id===Number(D.query.lesson)})}:(L=D.query)!==null&&L!==void 0&&L.topic?{mode:"topic",id:Number(D.query.topic),value:ye.find(function(C){return C.id===Number(D.query.topic)})}:{mode:"init"}},[D.query,I,Re,ye]),it=Object(l.useCallback)(function(U){var L={course_id:O,topics:[],isNew:!0,id:I?I.lessons.length+1:Me(),order:0,title:he.formatMessage({id:"add_title_here"}),active:!0,parent_id:U};return b(function(C){var A;return Object(v.a)(Object(v.a)({},C),{},{lessons:h((A=C==null?void 0:C.lessons)!==null&&A!==void 0?A:[],L,U)})}),L},[O,I]),Ve=Object(l.useCallback)(function(U,L){var C=Re.find(function(e){return e.id===U}),A=C&&C.isNew;return(A?Object(o.g)(L):Object(o.u)(U,L)).then(function(e){return H.b.success(e.message),J(),e.success&&b(function(Z){var Le;return Object(v.a)(Object(v.a)({},Z),{},{lessons:f((Le=Z==null?void 0:Z.lessons)!==null&&Le!==void 0?Le:[],U,Object(v.a)(Object(v.a)({},e.data),{},{isNew:!1}))})})})},[I]),Qe=Object(l.useCallback)(function(U){var L=Re.find(function(A){return A.id===U});if(!!L){var C=L.isNew;C?b(function(A){var e;return Object(v.a)(Object(v.a)({},A),{},{lessons:Ze((e=A==null?void 0:A.lessons)!==null&&e!==void 0?e:[],U)})}):Object(o.o)(U).then(function(A){A.success&&(H.b.success(A.message),b(function(e){var Z;return Object(v.a)(Object(v.a)({},e),{},{lessons:Ze((Z=e==null?void 0:e.lessons)!==null&&Z!==void 0?Z:[],U)})}))})}},[I]),Ke=Object(l.useCallback)(function(U,L){var C,A=ge(U),e=Re.find(function(He){return He.id===A}),Z=e&&((C=e.topics)===null||C===void 0?void 0:C.find(function(He){return He.id===U})),Le=Z==null?void 0:Z.isNew;return(Le?Object(o.h)(L):Object(o.v)(U,L)).then(function(He){He.success&&(H.b.success(He.message),J(),n.f.push("/courses/list/".concat(O,"/program/?topic=").concat(He.data.id)),(Z==null?void 0:Z.topicable_type)===re.f.Video&&setTimeout(function(){J()},5e3))})},[ge,I,J]),ae=Object(l.useCallback)(function(U){var L=ge(U),C=Re.find(function(Z){return Z.id===L});if(!!C){var A=ye==null?void 0:ye.find(function(Z){return Z.id===U}),e=A==null?void 0:A.isNew;e&&!A.topicable?b(function(Z){var Le;return Object(v.a)(Object(v.a)({},Z),{},{lessons:Be((Le=Z==null?void 0:Z.lessons)!==null&&Le!==void 0?Le:[],U)})}):Object(o.p)(U).then(function(Z){Z.success&&(H.b.success(Z.message),b(function(Le){var He;return Object(v.a)(Object(v.a)({},Le),{},{lessons:Be((He=Le==null?void 0:Le.lessons)!==null&&He!==void 0?He:[],U)})}))})}},[I,ge]),jt=Object(l.useCallback)(function(U,L){var C={lesson_id:U,isNew:!0,id:Me(),title:he.formatMessage({id:"add_title_here"}),active:!0,topicable_type:L};return b(function(A){var e;return Object(v.a)(Object(v.a)({},A),{},{lessons:Ye((e=A==null?void 0:A.lessons)!==null&&e!==void 0?e:[],U,C)})}),C},[]),ot=function(L,C){b(function(A){var e;return Object(v.a)(Object(v.a)({},A),{},{lessons:We((e=A==null?void 0:A.lessons)!==null&&e!==void 0?e:[],L,C.file.response.data)})}),n.f.push("/courses/list/".concat(O,"/program/?topic=").concat(C.file.response.data.id))},N=Object(l.useCallback)(function(U){return Object(o.d)(U).then(function(L){if(L.success){H.b.success(L.message);var C=ge(U);b(function(A){var e;return Object(v.a)(Object(v.a)({},A),{},{lessons:A?(e=A.lessons)===null||e===void 0?void 0:e.map(function(Z){if(Z.id===C){var Le=Z.topics||[];return Object(v.a)(Object(v.a)({},Z),{},{topics:[].concat(Object(T.a)(Le),[L.data])})}return Z}):[]})})}})},[I,ge]),Ot=Object(l.useCallback)(function(U){return Object(o.c)(U).then(function(L){L.success&&(H.b.success(L.message),b(function(C){return Object(v.a)(Object(v.a)({},C),{},{lessons:C?[].concat(Object(T.a)(C.lessons),[L.data]):[]})}))})},[]),Xe={state:I,h5ps:Te,id:O,addNewLesson:it,updateLesson:Ve,updateTopic:Ke,deleteLesson:Qe,addNewTopic:jt,deleteTopic:ae,onTopicUploaded:ot,cloneTopic:N,cloneLesson:Ot,currentEditMode:B,getLessons:J};return Object(Se.jsx)(te.Provider,{value:Xe,children:K})}},quyA:function($e,oe){var t="\\ud800-\\udfff",i="\\u0300-\\u036f",H="\\ufe20-\\ufe2f",$="\\u20d0-\\u20ff",v=i+H+$,T="\\ufe0e\\ufe0f",l="\\u200d",je=RegExp("["+l+t+v+T+"]");function n(Ae){return je.test(Ae)}$e.exports=n},wy8a:function($e,oe,t){var i=t("KxBF");function H($,v,T){var l=$.length;return T=T===void 0?l:T,!v&&T>=l?$:i($,v,T)}$e.exports=H}}]);
