(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"5YLw":function(y,m,e){"use strict";var P=e("DBJ/"),j=e("q1tI"),x=e.n(j),r=e("nKUr"),h=e.n(r),_=function(u){var M=u.onSuccess,I=u.onError;return Object(r.jsx)(P.a,{url:"/api/admin/hh5p/content/upload",name:"h5p_file",accept:".h5p",onChange:function(n){n.file.status==="done"&&n.file.response&&M(n.file.response),n.file.status==="error"&&I()}})};m.a=_},"DBJ/":function(y,m,e){"use strict";var P=e("y8nQ"),j=e("Vl3Y"),x=e("etVw"),r=e("q1tI"),h=e.n(r),_=e("9kvl"),p=function(f){var n=f.condition,v=f.children,s=f.wrap;return n?h.a.cloneElement(s(v)):v},u=e("nKUr"),M=function(n){var v=n.onChange,s=n.url,b=n.name,a=n.extra,o=n.accept,l=n.data,i=n.wrapInForm,c=i===void 0?!0:i,D=Object(_.i)();return l&&l[b]&&delete l[b],Object(u.jsx)(p,{condition:c,wrap:function(U){return Object(u.jsx)(j.a,{children:U})},children:Object(u.jsx)(x.a,{title:Object(u.jsx)(_.a,{id:"upload_click_here"}),placeholder:D.formatMessage({id:"upload_click_here"}),onChange:v,label:Object(u.jsx)(_.a,{id:"upload"}),max:2,fieldProps:{data:l,accept:o,name:b,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(s),extra:a})})},I=m.a=M},Unir:function(y,m,e){"use strict";e.r(m);var P=e("P2fV"),j=e("NJEC"),x=e("5Dmo"),r=e("3S7+"),h=e("+L6B"),_=e("2/Rp"),p=e("miYZ"),u=e("tsqr"),M=e("9og8"),I=e("tJVT"),f=e("WmNS"),n=e.n(f),v=e("xvlK"),s=e("q1tI"),b=e.n(s),a=e("9kvl"),o=e("55Ip"),l=e("tMyG"),i=e("Qiat"),c=e("nzng"),D=e("G3dp"),B=e("/MfK"),U=e("2PG1"),A=e("4KAj"),H=e("5YLw"),t=e("nKUr"),$=e.n(t),R=function(){var F=Object(s.useState)(!1),S=Object(I.a)(F,2),z=S[0],T=S[1],g=Object(s.useRef)(),V=Object(a.i)(),J=Object(s.useCallback)(function(){var C=Object(M.a)(n.a.mark(function O(d){var L,K;return n.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return T(!0),L=u.default.loading(Object(t.jsx)(a.a,{id:"loading",defaultMessage:"loading"})),E.prev=2,E.next=5,Object(c.e)(d);case 5:return L(),u.default.success(Object(t.jsx)(a.a,{id:"success",defaultMessage:"success"})),T(!1),(K=g.current)===null||K===void 0||K.reload(),E.abrupt("return",!0);case 12:return E.prev=12,E.t0=E.catch(2),L(),u.default.error(Object(t.jsx)(a.a,{id:"error",defaultMessage:"error"})),T(!1),E.abrupt("return",!1);case 18:case"end":return E.stop()}},O,null,[[2,12]])}));return function(O){return C.apply(this,arguments)}}(),[g]),N=[{title:Object(t.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",sorter:!1,search:!1},{title:Object(t.jsx)(a.a,{id:"newH5P",defaultMessage:"newH5P"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(H.a,{onSuccess:function(){g.current&&g.current.reload(),u.default.success(Object(t.jsx)(a.a,{id:"H5P_uploaded",defaultMessage:"new H5P uploaded successfully"}))},onError:function(){return u.default.error(Object(t.jsx)(a.a,{id:"error",defaultMessage:"error"}))}})]}},{title:Object(t.jsx)(a.a,{id:"title",defaultMessage:"title"}),dataIndex:"title",sorter:!1,render:function(O,d){return d.title}},{title:Object(t.jsx)(a.a,{id:"library",defaultMessage:"library"}),dataIndex:"library",sorter:!1,search:!1,render:function(O,d){return d.library.title}},{title:Object(t.jsx)(a.a,{id:"library_id",defaultMessage:"library_id"}),dataIndex:"library_id",sorter:!1,render:function(O,d){return d.library.id}},{title:Object(t.jsx)(a.a,{id:"count_h5p",defaultMessage:"count_h5p"}),dataIndex:"count_h5p",sorter:!1,search:!1,render:function(O,d){return d.count_h5p}},{title:Object(t.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",render:function(O,d){return[Object(t.jsx)(o.a,{to:"/h5ps/".concat(d.id),children:Object(t.jsx)(r.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(_.a,{type:"primary",icon:Object(t.jsx)(D.a,{})})})}),Object(t.jsx)(j.a,{disabled:d.count_h5p!==0,title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return d.id&&J(d.id)},okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(r.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(_.a,{disabled:d.count_h5p!==0,type:"primary",icon:Object(t.jsx)(B.a,{}),danger:!0})})}),Object(t.jsx)(o.a,{to:"/h5ps/preview/".concat(d.id),children:Object(t.jsx)(r.a,{title:Object(t.jsx)(a.a,{id:"preview",defaultMessage:"preview"}),children:Object(t.jsx)(_.a,{icon:Object(t.jsx)(U.a,{})})})}),Object(t.jsx)("a",{href:"".concat("https://api-stage.escolalms.com","/api/admin/hh5p/content/").concat(d.id,"/export"),download:!0,children:Object(t.jsx)(r.a,{title:Object(t.jsx)(a.a,{id:"export",defaultMessage:"export"}),children:Object(t.jsx)(_.a,{icon:Object(t.jsx)(A.a,{})})})})]}}];return Object(t.jsx)(l.a,{children:Object(t.jsx)(i.a,{loading:z,headerTitle:V.formatMessage({id:"H5Ps",defaultMessage:"H5Ps List"}),actionRef:g,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[Object(t.jsx)(o.a,{to:"/h5ps/new",children:Object(t.jsxs)(_.a,{type:"primary",children:[Object(t.jsx)(v.a,{})," ",Object(t.jsx)(a.a,{id:"new",defaultMessage:"new"})]},"primary")})]},request:function(O){var d=O.pageSize,L=O.current,K=O.title,G=O.library_id;return T(!0),Object(c.d)({title:K,library_id:G,pageSize:d,current:L}).then(function(E){return T(!1),E.success?{data:E.data,total:E.meta.total,success:!0}:[]})},columns:N})})};m.default=R},etVw:function(y,m,e){"use strict";var P=e("DZo9"),j=e("8z0m"),x=e("+L6B"),r=e("2/Rp"),h=e("wx14"),_=e("q1tI"),p=e.n(_),u=e("z7Xi"),M=e("WFLz"),I=function(n,v){var s=n.fieldProps,b=n.name,a=n.action,o=n.accept,l=n.listType,i=n.title,c=i===void 0?"\u5355\u51FB\u4E0A\u4F20":i,D=n.max,B=n.icon,U=B===void 0?p.a.createElement(u.a,null):B,A=n.value,H=n.buttonProps,t=n.onChange,$=n.disabled,R=n.proFieldProps,W=n.fileList,F=(D===void 0||!A||(A==null?void 0:A.length)<D)&&(R==null?void 0:R.mode)!=="read",S=(l!=null?l:s==null?void 0:s.listType)==="picture-card";return p.a.createElement(j.a,Object(h.a)({action:a,accept:o,ref:v,name:b||"file",listType:l||"picture",fileList:W!=null?W:A},s,{onChange:function(T){var g;t==null||t(T),s==null||(g=s.onChange)===null||g===void 0||g.call(s,T)}}),F&&(S?p.a.createElement("span",null,U," ",c):p.a.createElement(r.a,Object(h.a)({disabled:$||(s==null?void 0:s.disabled)},H),U,c)))};m.a=Object(M.a)(p.a.forwardRef(I),{getValueFromEvent:function(n){return n.fileList}})},nzng:function(y,m,e){"use strict";e.d(m,"d",function(){return _}),e.d(m,"c",function(){return u}),e.d(m,"b",function(){return I}),e.d(m,"e",function(){return n}),e.d(m,"a",function(){return s});var P=e("k1fw"),j=e("9og8"),x=e("WmNS"),r=e.n(x),h=e("9kvl");function _(a,o){return p.apply(this,arguments)}function p(){return p=Object(j.a)(r.a.mark(function a(o,l){return r.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",Object(h.f)("/api/admin/hh5p/content",Object(P.a)({method:"GET",useCache:!1,params:Object(P.a)(Object(P.a)({},o),{},{per_page:o.pageSize,page:o.current})},l||{})));case 1:case"end":return c.stop()}},a)})),p.apply(this,arguments)}function u(a,o){return M.apply(this,arguments)}function M(){return M=Object(j.a)(r.a.mark(function a(o,l){return r.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",Object(h.f)("/api/admin/hh5p/content/".concat(o),Object(P.a)({method:"GET",useCache:!1},l||{})));case 1:case"end":return c.stop()}},a)})),M.apply(this,arguments)}function I(a,o,l){return f.apply(this,arguments)}function f(){return f=Object(j.a)(r.a.mark(function a(o,l,i){return r.a.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",Object(h.f)(l?"/api/admin/hh5p/content/".concat(l):"/api/admin/hh5p/content",Object(P.a)({method:"POST",headers:{"Content-Type":"application/json"},data:o,useCache:!1},i||{})));case 1:case"end":return D.stop()}},a)})),f.apply(this,arguments)}function n(a){return v.apply(this,arguments)}function v(){return v=Object(j.a)(r.a.mark(function a(o){return r.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(h.f)("/api/admin/hh5p/content/".concat(o),{method:"DELETE"}));case 1:case"end":return i.stop()}},a)})),v.apply(this,arguments)}function s(a){return b.apply(this,arguments)}function b(){return b=Object(j.a)(r.a.mark(function a(o){return r.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(h.f)("/api/admin/hh5p/content?per_page=0",Object(P.a)({method:"GET",useCache:!1},o||{})));case 1:case"end":return i.stop()}},a)})),b.apply(this,arguments)}}}]);
