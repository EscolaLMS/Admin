(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{"G/Ub":function(Z,f,e){"use strict";e.d(f,"d",function(){return ae}),e.d(f,"a",function(){return te}),e.d(f,"b",function(){return ne}),e.d(f,"c",function(){return H}),e.d(f,"e",function(){return P});var b=e("qLMh"),S=e("k1fw"),T=e("9og8"),R=e("9kvl");function ae(u,m){return V.apply(this,arguments)}function V(){return V=Object(T.a)(Object(b.a)().mark(function u(m,O){return Object(b.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(R.i)("/api/admin/roles",Object(S.a)({method:"GET",useCache:!1,params:m},O||{})));case 1:case"end":return a.stop()}},u)})),V.apply(this,arguments)}function te(u,m){return B.apply(this,arguments)}function B(){return B=Object(T.a)(Object(b.a)().mark(function u(m,O){return Object(b.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(R.i)("/api/admin/roles",Object(S.a)({method:"POST",headers:{"Content-Type":"application/json"},data:m},O||{})));case 1:case"end":return a.stop()}},u)})),B.apply(this,arguments)}function ne(u,m){return z.apply(this,arguments)}function z(){return z=Object(T.a)(Object(b.a)().mark(function u(m,O){return Object(b.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(R.i)("/api/admin/roles/".concat(m),Object(S.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},O||{})));case 1:case"end":return a.stop()}},u)})),z.apply(this,arguments)}function H(u,m){return U.apply(this,arguments)}function U(){return U=Object(T.a)(Object(b.a)().mark(function u(m,O){return Object(b.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(R.i)("/api/admin/roles/".concat(m),Object(S.a)({method:"GET",useCache:!1},O||{})));case 1:case"end":return a.stop()}},u)})),U.apply(this,arguments)}function P(u,m,O){return j.apply(this,arguments)}function j(){return j=Object(T.a)(Object(b.a)().mark(function u(m,O,v){return Object(b.a)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",Object(R.i)("/api/admin/roles/".concat(m),Object(S.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:O},v||{})));case 1:case"end":return D.stop()}},u)})),j.apply(this,arguments)}},GwcT:function(Z,f,e){},O867:function(Z,f,e){},Rg7m:function(Z,f,e){"use strict";e.r(f);var b=e("IzEo"),S=e("bx4M"),T=e("5Dmo"),R=e("3S7+"),ae=e("14J3"),V=e("BMrR"),te=e("T2oS"),B=e("W9HT"),ne=e("miYZ"),z=e("tsqr"),H=e("oBTY"),U=e("jrin"),P=e("k1fw"),j=e("qLMh"),u=e("9og8"),m=e("y8nQ"),O=e("Vl3Y"),v=e("tJVT"),a=e("q1tI"),D=e.n(a),be=e("VMEa"),pe=e("nhC9"),re=e("G/Ub"),fe=e("tMyG"),je=e("Ty5D"),ge=e("9kvl"),oa=e("O867"),la=e("sRBo"),ye=e("kaz8"),t=e("AJpP"),d=e("VTBJ"),Ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M920 760H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0-568H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 284H336c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h584c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM216 712H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h72.4v20.5h-35.7c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h35.7V838H100c-2.2 0-4 1.8-4 4v34c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4V716c0-2.2-1.8-4-4-4zM100 188h38v120c0 2.2 1.8 4 4 4h40c2.2 0 4-1.8 4-4V152c0-4.4-3.6-8-8-8h-78c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4zm116 240H100c-2.2 0-4 1.8-4 4v36c0 2.2 1.8 4 4 4h68.4l-70.3 77.7a8.3 8.3 0 00-2.1 5.4V592c0 2.2 1.8 4 4 4h116c2.2 0 4-1.8 4-4v-36c0-2.2-1.8-4-4-4h-68.4l70.3-77.7a8.3 8.3 0 002.1-5.4V432c0-2.2-1.8-4-4-4z"}}]},name:"ordered-list",theme:"outlined"},Se=Ce,y=e("6VBw"),ce=function(n,o){return a.createElement(y.a,Object(d.a)(Object(d.a)({},n),{},{ref:o,icon:Se}))};ce.displayName="OrderedListOutlined";var Re=a.forwardRef(ce),Me={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M168 504.2c1-43.7 10-86.1 26.9-126 17.3-41 42.1-77.7 73.7-109.4S337 212.3 378 195c42.4-17.9 87.4-27 133.9-27s91.5 9.1 133.8 27A341.5 341.5 0 01755 268.8c9.9 9.9 19.2 20.4 27.8 31.4l-60.2 47a8 8 0 003 14.1l175.7 43c5 1.2 9.9-2.6 9.9-7.7l.8-180.9c0-6.7-7.7-10.5-12.9-6.3l-56.4 44.1C765.8 155.1 646.2 92 511.8 92 282.7 92 96.3 275.6 92 503.8a8 8 0 008 8.2h60c4.4 0 7.9-3.5 8-7.8zm756 7.8h-60c-4.4 0-7.9 3.5-8 7.8-1 43.7-10 86.1-26.9 126-17.3 41-42.1 77.8-73.7 109.4A342.45 342.45 0 01512.1 856a342.24 342.24 0 01-243.2-100.8c-9.9-9.9-19.2-20.4-27.8-31.4l60.2-47a8 8 0 00-3-14.1l-175.7-43c-5-1.2-9.9 2.6-9.9 7.7l-.7 181c0 6.7 7.7 10.5 12.9 6.3l56.4-44.1C258.2 868.9 377.8 932 512.2 932c229.2 0 415.5-183.7 419.8-411.8a8 8 0 00-8-8.2z"}}]},name:"sync",theme:"outlined"},Ee=Me,oe=function(n,o){return a.createElement(y.a,Object(d.a)(Object(d.a)({},n),{},{ref:o,icon:Ee}))};oe.displayName="SyncOutlined";var Te=a.forwardRef(oe),le=e("xvlK"),ze=e("/MfK"),Pe=e("b6To"),De=e("eFNv"),Ae={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M888.3 757.4h-53.8c-4.2 0-7.7 3.5-7.7 7.7v61.8H197.1V197.1h629.8v61.8c0 4.2 3.5 7.7 7.7 7.7h53.8c4.2 0 7.7-3.4 7.7-7.7V158.7c0-17-13.7-30.7-30.7-30.7H158.7c-17 0-30.7 13.7-30.7 30.7v706.6c0 17 13.7 30.7 30.7 30.7h706.6c17 0 30.7-13.7 30.7-30.7V765.1c0-4.3-3.5-7.7-7.7-7.7zM902 476H588v-76c0-6.7-7.8-10.5-13-6.3l-141.9 112a8 8 0 000 12.6l141.9 112c5.3 4.2 13 .4 13-6.3v-76h314c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8z"}}]},name:"import",theme:"outlined"},Le=Ae,se=function(n,o){return a.createElement(y.a,Object(d.a)(Object(d.a)({},n),{},{ref:o,icon:Le}))};se.displayName="ImportOutlined";var $e=a.forwardRef(se),xe=e("4KAj"),Ke=e("lfch"),Ie={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M608 112c-167.9 0-304 136.1-304 304 0 70.3 23.9 135 63.9 186.5l-41.1 41.1-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-44.9 44.9-62.3-62.3a8.15 8.15 0 00-11.4 0l-39.8 39.8a8.15 8.15 0 000 11.4l62.3 62.3-65.3 65.3a8.03 8.03 0 000 11.3l42.3 42.3c3.1 3.1 8.2 3.1 11.3 0l253.6-253.6A304.06 304.06 0 00608 720c167.9 0 304-136.1 304-304S775.9 112 608 112zm161.2 465.2C726.2 620.3 668.9 644 608 644c-60.9 0-118.2-23.7-161.2-66.8-43.1-43-66.8-100.3-66.8-161.2 0-60.9 23.7-118.2 66.8-161.2 43-43.1 100.3-66.8 161.2-66.8 60.9 0 118.2 23.7 161.2 66.8 43.1 43 66.8 100.3 66.8 161.2 0 60.9-23.7 118.2-66.8 161.2z"}}]},name:"key",theme:"outlined"},Ve=Ie,ie=function(n,o){return a.createElement(y.a,Object(d.a)(Object(d.a)({},n),{},{ref:o,icon:Ve}))};ie.displayName="KeyOutlined";var Be=a.forwardRef(ie),He={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M442.3 677.6l199.4-156.7a11.3 11.3 0 000-17.7L442.3 346.4c-7.4-5.8-18.3-.6-18.3 8.8v313.5c0 9.4 10.9 14.7 18.3 8.9z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"play-square",theme:"outlined"},Ue=He,ue=function(n,o){return a.createElement(y.a,Object(d.a)(Object(d.a)({},n),{},{ref:o,icon:Ue}))};ue.displayName="PlaySquareOutlined";var ke=a.forwardRef(ue),Ne={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M518.3 459a8 8 0 00-12.6 0l-112 141.7a7.98 7.98 0 006.3 12.9h73.9V856c0 4.4 3.6 8 8 8h60c4.4 0 8-3.6 8-8V613.7H624c6.7 0 10.4-7.7 6.3-12.9L518.3 459z"}},{tag:"path",attrs:{d:"M811.4 366.7C765.6 245.9 648.9 160 512.2 160S258.8 245.8 213 366.6C127.3 389.1 64 467.2 64 560c0 110.5 89.5 200 199.9 200H304c4.4 0 8-3.6 8-8v-60c0-4.4-3.6-8-8-8h-40.1c-33.7 0-65.4-13.4-89-37.7-23.5-24.2-36-56.8-34.9-90.6.9-26.4 9.9-51.2 26.2-72.1 16.7-21.3 40.1-36.8 66.1-43.7l37.9-9.9 13.9-36.6c8.6-22.8 20.6-44.1 35.7-63.4a245.6 245.6 0 0152.4-49.9c41.1-28.9 89.5-44.2 140-44.2s98.9 15.3 140 44.2c19.9 14 37.5 30.8 52.4 49.9 15.1 19.3 27.1 40.7 35.7 63.4l13.8 36.5 37.8 10C846.1 454.5 884 503.8 884 560c0 33.1-12.9 64.3-36.3 87.7a123.07 123.07 0 01-87.6 36.3H720c-4.4 0-8 3.6-8 8v60c0 4.4 3.6 8 8 8h40.1C870.5 760 960 670.5 960 560c0-92.7-63.1-170.7-148.6-193.3z"}}]},name:"cloud-upload",theme:"outlined"},Fe=Ne,de=function(n,o){return a.createElement(y.a,Object(d.a)(Object(d.a)({},n),{},{ref:o,icon:Fe}))};de.displayName="CloudUploadOutlined";var Ge=a.forwardRef(de),me=e("cJ7L"),we=e("2XLT"),Je=e("40U4"),We={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M924.8 385.6a446.7 446.7 0 00-96-142.4 446.7 446.7 0 00-142.4-96C631.1 123.8 572.5 112 512 112s-119.1 11.8-174.4 35.2a446.7 446.7 0 00-142.4 96 446.7 446.7 0 00-96 142.4C75.8 440.9 64 499.5 64 560c0 132.7 58.3 257.7 159.9 343.1l1.7 1.4c5.8 4.8 13.1 7.5 20.6 7.5h531.7c7.5 0 14.8-2.7 20.6-7.5l1.7-1.4C901.7 817.7 960 692.7 960 560c0-60.5-11.9-119.1-35.2-174.4zM761.4 836H262.6A371.12 371.12 0 01140 560c0-99.4 38.7-192.8 109-263 70.3-70.3 163.7-109 263-109 99.4 0 192.8 38.7 263 109 70.3 70.3 109 163.7 109 263 0 105.6-44.5 205.5-122.6 276zM623.5 421.5a8.03 8.03 0 00-11.3 0L527.7 506c-18.7-5-39.4-.2-54.1 14.5a55.95 55.95 0 000 79.2 55.95 55.95 0 0079.2 0 55.87 55.87 0 0014.5-54.1l84.5-84.5c3.1-3.1 3.1-8.2 0-11.3l-28.3-28.3zM490 320h44c4.4 0 8-3.6 8-8v-80c0-4.4-3.6-8-8-8h-44c-4.4 0-8 3.6-8 8v80c0 4.4 3.6 8 8 8zm260 218v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8h-80c-4.4 0-8 3.6-8 8zm12.7-197.2l-31.1-31.1a8.03 8.03 0 00-11.3 0l-56.6 56.6a8.03 8.03 0 000 11.3l31.1 31.1c3.1 3.1 8.2 3.1 11.3 0l56.6-56.6c3.1-3.1 3.1-8.2 0-11.3zm-458.6-31.1a8.03 8.03 0 00-11.3 0l-31.1 31.1a8.03 8.03 0 000 11.3l56.6 56.6c3.1 3.1 8.2 3.1 11.3 0l31.1-31.1c3.1-3.1 3.1-8.2 0-11.3l-56.6-56.6zM262 530h-80c-4.4 0-8 3.6-8 8v44c0 4.4 3.6 8 8 8h80c4.4 0 8-3.6 8-8v-44c0-4.4-3.6-8-8-8z"}}]},name:"dashboard",theme:"outlined"},Ye=We,ve=function(n,o){return a.createElement(y.a,Object(d.a)(Object(d.a)({},n),{},{ref:o,icon:Ye}))};ve.displayName="DashboardOutlined";var Qe=a.forwardRef(ve),Xe={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M715.8 493.5L335 165.1c-14.2-12.2-35-1.2-35 18.5v656.8c0 19.7 20.8 30.7 35 18.5l380.8-328.4c10.9-9.4 10.9-27.6 0-37z"}}]},name:"caret-right",theme:"outlined"},Ze=Xe,Oe=function(n,o){return a.createElement(y.a,Object(d.a)(Object(d.a)({},n),{},{ref:o,icon:Ze}))};Oe.displayName="CaretRightOutlined";var qe=a.forwardRef(Oe),_e=e("f1wO"),sa=e("GwcT"),h=e("nKUr"),k={list:{color:t.blue.primary,background:t.blue[0],component:Re},update:{color:t.orange.primary,background:t.orange[0],component:Te},create:{color:t.cyan.primary,background:t.cyan[0],component:le.a},add:{color:t.cyan.primary,background:t.cyan[0],component:le.a},delete:{color:t.volcano.primary,background:t.volcano[0],component:ze.a},read:{color:t.green.primary,background:t.green[0],component:Pe.a},manage:{color:t.gold.primary,background:t.gold[0],component:De.a},import:{color:t.blue.primary,background:t.blue[0],component:$e},export:{color:t.blue.primary,background:t.blue[0],component:xe.a},clone:{color:t.blue.primary,background:t.blue[0],component:Ke.a},access:{color:t.blue.primary,background:t.blue[0],component:Be},install:{color:t.gold.primary,background:t.gold[0],component:ke},upload:{color:t.blue.primary,background:t.blue[0],component:Ge},authored:{color:t.geekblue.primary,background:t.geekblue[0],component:me.a},account:{color:t.geekblue.primary,background:t.geekblue[0],component:me.a},term:{color:t.blue.primary,background:t.blue[0],component:we.a},use:{color:t.blue.primary,background:t.blue[0],component:Je.a},dashboard:{color:t.magenta.primary,background:t.magenta[0],component:Qe},trigger:{color:t.blue.primary,background:t.blue[0],component:qe},buy:{color:t.yellow.primary,background:t.yellow[0],component:_e.a}},ea=function(n){var o,A,C,N,F,L,$=n.name,J=n.nameKey,G=n.assigned,W=n.onChange,x=Object(a.useState)(G),K=Object(v.a)(x,2),Y=K[0],Q=K[1],w=$.replaceAll(/(_|-)/g," ").trim(),I=w.replace("self","").trim(),X=$!==J?$.replace(J,"").replaceAll(/(_|-)/g," "):w,M=I.split(" ").slice(-1)[0],q=function(){Q(function(l){return!l}),W($)},_=(o=(A=k[M])===null||A===void 0?void 0:A.component)!==null&&o!==void 0?o:D.a.Fragment;return Object(a.useEffect)(function(){Q(G)},[G]),Object(h.jsx)(ye.a,{name:"checkbox",className:"custom-checkbox",checked:Y,style:(C=k[M])!==null&&C!==void 0&&C.background&&Y?{backgroundColor:(N=k[M])===null||N===void 0?void 0:N.background}:void 0,"aria-label":w,onChange:q,children:Object(h.jsxs)("div",{className:"custom-checkbox__content",children:[X,Object(h.jsx)(_,{style:((F=k[M])===null||F===void 0?void 0:F.color)&&{color:(L=k[M])===null||L===void 0?void 0:L.color}})]})})},aa=ea,ta=e("twdk"),ia=f.default=function(){var g=Object(je.l)(),n=g.name,o=Object(a.useState)([]),A=Object(v.a)(o,2),C=A[0],N=A[1],F=Object(a.useState)({}),L=Object(v.a)(F,2),$=L[0],J=L[1],G=Object(a.useState)([]),W=Object(v.a)(G,2),x=W[0],K=W[1],Y=O.a.useForm(),Q=Object(v.a)(Y,1),w=Q[0],I=Object(a.useRef)(null),X=Object(a.useCallback)(Object(u.a)(Object(j.a)().mark(function l(){var c,s;return Object(j.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(re.c)(n);case 2:c=i.sent,c.success&&(s=c.data.filter(function(E){return E.assigned}).map(function(E){return E.name}),I.current=s,N(c.data),K(s));case 4:case"end":return i.stop()}},l)})),[n]);Object(a.useEffect)(function(){var l=function(){var c=Object(u.a)(Object(j.a)().mark(function s(){var p,i;return Object(j.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(ta.d)("permissions");case 3:if(p=r.sent,p.success){r.next=6;break}throw new Error("Failed to download translations of the permissions!");case 6:i=p.data.reduce(function(na,he){var ra=he.key,ca=he.value;return Object(P.a)(Object(P.a)({},na),{},Object(U.a)({},ra.split(".")[1],ca))},{}),J(i),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),console.error(r.t0);case 13:case"end":return r.stop()}},s,null,[[0,10]])}));return function(){return c.apply(this,arguments)}}();X(),l()},[n,X]);var M=Object(a.useMemo)(function(){return{onFinish:function(){var l=Object(u.a)(Object(j.a)().mark(function s(){var p,i;return Object(j.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,Object(re.e)(n,{permissions:Object(H.a)(x)});case 3:return p=r.sent,r.next=6,p;case 6:i=r.sent,i.success&&(z.b.success(i.message),I.current=x),r.next=13;break;case 10:r.prev=10,r.t0=r.catch(0),z.b.error(r.t0.data.message);case 13:case"end":return r.stop()}},s,null,[[0,10]])}));function c(){return l.apply(this,arguments)}return c}(),onReset:function(){return I.current&&K(I.current)},initialValues:C}},[C,n,x]),q=Object(a.useCallback)(function(l){K(function(c){return c.includes(l)?c.filter(function(s){return s!==l}):[].concat(Object(H.a)(c),[l])})},[n]),_=C.reduce(function(l,c){var s;return typeof c=="undefined"||(l[c.name.split("_")[0]]=[].concat(Object(H.a)((s=l[c.name.split("_")[0]])!==null&&s!==void 0?s:[]),[c])),l},{}),ee=Object.entries(_).sort(function(l,c){var s=Object(v.a)(l,2),p=s[1],i=Object(v.a)(c,2),E=i[1];return p.length-E.length});return C.length?Object(h.jsx)(fe.a,{title:Object(h.jsx)(ge.a,{id:"permissions"}),children:Object(h.jsx)(pe.a,{children:Object(h.jsx)(be.a,Object(P.a)(Object(P.a)({},M),{},{form:w,className:"permissions-form",children:!!ee.length&&ee.map(function(l){var c=Object(v.a)(l,2),s=c[0],p=c[1];return Object(h.jsx)(S.a,{title:s,size:"small",className:"permissions-cart",children:p.map(function(i){return Object(h.jsx)(R.a,{title:$[i.name],placement:"topLeft",children:Object(h.jsx)(V.a,{children:Object(h.jsx)(aa,{nameKey:s,name:i.name,assigned:x.includes(i.name),onChange:q})})},i.id)})},s)})}))})}):Object(h.jsx)(B.a,{})}}}]);
