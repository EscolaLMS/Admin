(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"G/Ub":function(L,l,e){"use strict";e.d(l,"d",function(){return T}),e.d(l,"a",function(){return C}),e.d(l,"b",function(){return A}),e.d(l,"c",function(){return h}),e.d(l,"e",function(){return U});var r=e("qLMh"),E=e("k1fw"),d=e("9og8"),j=e("9kvl");function T(s){return v.apply(this,arguments)}function v(){return v=Object(d.a)(Object(r.a)().mark(function s(n){return Object(r.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(j.f)("/api/admin/roles",Object(E.a)({method:"GET",useCache:!1},n||{})));case 1:case"end":return u.stop()}},s)})),v.apply(this,arguments)}function C(s,n){return p.apply(this,arguments)}function p(){return p=Object(d.a)(Object(r.a)().mark(function s(n,o){return Object(r.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(j.f)("/api/admin/roles",Object(E.a)({method:"POST",headers:{"Content-Type":"application/json"},data:n},o||{})));case 1:case"end":return t.stop()}},s)})),p.apply(this,arguments)}function A(s,n){return f.apply(this,arguments)}function f(){return f=Object(d.a)(Object(r.a)().mark(function s(n,o){return Object(r.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(j.f)("/api/admin/roles/".concat(n),Object(E.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},o||{})));case 1:case"end":return t.stop()}},s)})),f.apply(this,arguments)}function h(s,n){return b.apply(this,arguments)}function b(){return b=Object(d.a)(Object(r.a)().mark(function s(n,o){return Object(r.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(j.f)("/api/admin/roles/".concat(n),Object(E.a)({method:"GET",useCache:!1},o||{})));case 1:case"end":return t.stop()}},s)})),b.apply(this,arguments)}function U(s,n,o){return M.apply(this,arguments)}function M(){return M=Object(d.a)(Object(r.a)().mark(function s(n,o,u){return Object(r.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",Object(j.f)("/api/admin/roles/".concat(n),Object(E.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:o},u||{})));case 1:case"end":return c.stop()}},s)})),M.apply(this,arguments)}},O867:function(L,l,e){},Rg7m:function(L,l,e){"use strict";e.r(l);var r=e("k1fw"),E=e("/zsF"),d=e("PArb"),j=e("sRBo"),T=e("kaz8"),v=e("T2oS"),C=e("W9HT"),p=e("miYZ"),A=e("tsqr"),f=e("oBTY"),h=e("qLMh"),b=e("9og8"),U=e("y8nQ"),M=e("Vl3Y"),s=e("tJVT"),n=e("q1tI"),o=e.n(n),u=e("VMEa"),t=e("nhC9"),c=e("G/Ub"),y=e("tMyG"),S=e("Ty5D"),F=e("9kvl"),G=e("O867"),X=e.n(G),i=e("nKUr"),w=e.n(i);l.default=function(){var $=Object(S.l)(),P=$.name,V=Object(n.useState)([]),B=Object(s.a)(V,2),O=B[0],J=B[1],Y=Object(n.useState)([]),I=Object(s.a)(Y,2),K=I[0],z=I[1],H=M.a.useForm(),x=Object(s.a)(H,1),Q=x[0],W=Object(n.useCallback)(Object(b.a)(Object(h.a)().mark(function a(){var D;return Object(h.a)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Object(c.c)(P);case 2:D=m.sent,D.success&&J(D.data);case 4:case"end":return m.stop()}},a)})),[P]);Object(n.useEffect)(function(){W()},[P,W]);var Z=Object(n.useMemo)(function(){return{onFinish:function(){var a=Object(b.a)(Object(h.a)().mark(function g(){var m,R;return Object(h.a)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.prev=0,_.next=3,Object(c.e)(P,{permissions:Object(f.a)(K)});case 3:return m=_.sent,_.next=6,m;case 6:R=_.sent,R.success&&A.b.success(R.message),_.next=13;break;case 10:_.prev=10,_.t0=_.catch(0),A.b.error(_.t0.data.message);case 13:case"end":return _.stop()}},g,null,[[0,10]])}));function D(){return a.apply(this,arguments)}return D}(),initialValues:O}},[O,P,K]),N=Object(n.useCallback)(function(a){z(a)},[P]);return O?Object(i.jsx)(y.a,{title:Object(i.jsx)(F.a,{id:"permissions"}),children:Object(i.jsx)(t.a,{children:Object(i.jsxs)(u.a,Object(r.a)(Object(r.a)({},Z),{},{form:Q,children:[Object(i.jsx)(u.a.Group,{children:!!O.length&&Object(i.jsx)(T.a.Group,{name:"checkbox",defaultValue:O.filter(function(a){return a==null?void 0:a.assigned}).map(function(a){return a==null?void 0:a.name}),onChange:N,options:O&&O.map(function(a){return{value:a==null?void 0:a.name,label:a==null?void 0:a.name}})})}),Object(i.jsx)(d.a,{})]}))})}):Object(i.jsx)(C.a,{})}}}]);
