(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8948],{64317:function(tr,Wt,Xe){"use strict";var Je=Xe(1413),Pt=Xe(45987),ht=Xe(22270),at=Xe(67294),Y=Xe(66758),L=Xe(41550),S=Xe(85893),y=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],g=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],v=function(o,e){var u=o.fieldProps,c=o.children,f=o.params,n=o.proFieldProps,w=o.mode,I=o.valueEnum,O=o.request,T=o.showSearch,P=o.options,A=(0,Pt.Z)(o,y),R=(0,at.useContext)(Y.Z);return(0,S.jsx)(L.Z,(0,Je.Z)((0,Je.Z)({valueEnum:(0,ht.h)(I),request:O,params:f,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,Je.Z)({options:P,mode:w,showSearch:T,getPopupContainer:R.getPopupContainer},u),ref:e,proFieldProps:n},A),{},{children:c}))},E=at.forwardRef(function(a,o){var e=a.fieldProps,u=a.children,c=a.params,f=a.proFieldProps,n=a.mode,w=a.valueEnum,I=a.request,O=a.options,T=(0,Pt.Z)(a,g),P=(0,Je.Z)({options:O,mode:n||"multiple",labelInValue:!0,showSearch:!0,suffixIcon:null,autoClearSearchValue:!0,optionLabelProp:"label"},e),A=(0,at.useContext)(Y.Z);return(0,S.jsx)(L.Z,(0,Je.Z)((0,Je.Z)({valueEnum:(0,ht.h)(w),request:I,params:c,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:(0,Je.Z)({getPopupContainer:A.getPopupContainer},P),ref:o,proFieldProps:f},T),{},{children:u}))}),b=at.forwardRef(v),h=E,l=b;l.SearchSelect=h,l.displayName="ProFormComponent",Wt.Z=l},46936:function(){"use strict"},4554:function(){"use strict"},57913:function(tr,Wt,Xe){"use strict";var Je=Xe(73935),Pt=Xe(16496),ht=Xe.n(Pt),at=Xe(49638),Y=Xe.n(at),L=Xe(67294);function S(j,V,q){return V in j?Object.defineProperty(j,V,{value:q,enumerable:!0,configurable:!0,writable:!0}):j[V]=q,j}function y(j){for(var V=1;V<arguments.length;V++){var q=arguments[V]!=null?arguments[V]:{},D=Object.keys(q);typeof Object.getOwnPropertySymbols=="function"&&(D=D.concat(Object.getOwnPropertySymbols(q).filter(function(U){return Object.getOwnPropertyDescriptor(q,U).enumerable}))),D.forEach(function(U){S(j,U,q[U])})}return j}function g(j,V){if(!(j instanceof V))throw new TypeError("Cannot call a class as a function")}function v(j,V){for(var q=0;q<V.length;q++){var D=V[q];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(j,D.key,D)}}function E(j,V,q){return V&&v(j.prototype,V),q&&v(j,q),j}function b(j){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?b=function(q){return typeof q}:b=function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},b(j)}function h(j){return typeof Symbol=="function"&&b(Symbol.iterator)==="symbol"?h=function(q){return b(q)}:h=function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":b(q)},h(j)}function l(j){if(j===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return j}function a(j,V){return V&&(h(V)==="object"||typeof V=="function")?V:l(j)}function o(j){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(q){return q.__proto__||Object.getPrototypeOf(q)},o(j)}function e(j,V){return e=Object.setPrototypeOf||function(D,U){return D.__proto__=U,D},e(j,V)}function u(j,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");j.prototype=Object.create(V&&V.prototype,{constructor:{value:j,writable:!0,configurable:!0}}),V&&e(j,V)}function c(j){if(Array.isArray(j)){for(var V=0,q=new Array(j.length);V<j.length;V++)q[V]=j[V];return q}}function f(j){if(Symbol.iterator in Object(j)||Object.prototype.toString.call(j)==="[object Arguments]")return Array.from(j)}function n(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function w(j){return c(j)||f(j)||n()}var I={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},O=function j(){var V=this;g(this,j),this.startListen=function(q){q&&q.addEventListener("keydown",V.f)},this.stopListen=function(q){q&&q.removeEventListener("keydown",V.f)},this.add=function(q,D){var U=q;return typeof U!="object"&&(U=[U]),V.listeners[V.index]={keyCode:U,fn:D},V.index++},this.remove=function(q){delete V.listeners[q]},this.removeAll=function(){V.listeners={},V.index=1},this.index=1,this.listeners={},this.f=function(q){if(q){var D=q.keyCode||q.which;Object.values(V.listeners).forEach(function(U){var ie=U.keyCode,re=U.fn;ie.includes(D)&&(q.stopPropagation(),q.preventDefault(),re(q))})}}},T=new O,P=function(j){u(V,j);function V(){var q,D;g(this,V);for(var U=arguments.length,ie=new Array(U),re=0;re<U;re++)ie[re]=arguments[re];return D=a(this,(q=o(V)).call.apply(q,[this].concat(ie))),D.selectItem=function(){var ue=D.props,ae=ue.item,Z=ue.onSelectHandler;Z(ae)},D}return E(V,[{key:"shouldComponentUpdate",value:function(D){return this.props.item!==D.item||this.props.selected!==D.selected||this.props.style!==D.style||this.props.className!==D.className}},{key:"render",value:function(){var D=this,U=this.props,ie=U.component,re=U.style,ue=U.onClickHandler,ae=U.item,Z=U.selected,$=U.className,ce=U.innerRef;return L.createElement("li",{className:"rta__item  ".concat(Z===!0?"rta__item--selected":""," ").concat($||""),style:re},L.createElement("div",{className:"rta__entity ".concat(Z===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:ue,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){D.clicked=!0,D.selectItem()},onTouchEnd:function(we){we.preventDefault(),D.clicked&&ue(we)},onTouchMove:function(){D.clicked=!1},onTouchCancel:function(){D.clicked=!1},ref:ce},L.createElement(ie,{selected:Z,entity:ae})))}}]),V}(L.Component),A=function(j){u(V,j);function V(){var q,D;g(this,V);for(var U=arguments.length,ie=new Array(U),re=0;re<U;re++)ie[re]=arguments[re];return D=a(this,(q=o(V)).call.apply(q,[this].concat(ie))),D.state={selectedItem:null},D.cachedIdOfItems=new Map,D.onPressEnter=function(ue){typeof ue!="undefined"&&ue.preventDefault();var ae=D.props.values;D.modifyText(ae[D.getPositionInList()])},D.getPositionInList=function(){var ue=D.props.values,ae=D.state.selectedItem;return ae?ue.findIndex(function(Z){return D.getId(Z)===D.getId(ae)}):0},D.getId=function(ue){if(D.cachedIdOfItems.has(ue))return D.cachedIdOfItems.get(ue);var ae=D.props.getTextToReplace(ue),Z=function(){if(ae){if(ae.key)return ae.key;if(typeof ue=="string"||!ue.key)return ae.text}if(!ue.key)throw new Error("Item ".concat(JSON.stringify(ue),' has to have defined "key" property'));return ue.key},$=Z();return D.cachedIdOfItems.set(ue,$),$},D.listeners=[],D.itemsRef={},D.modifyText=function(ue){if(ue){var ae=D.props.onSelect;ae(ue)}},D.selectItem=function(ue){var ae=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Z=D.props.onItemHighlighted;D.state.selectedItem!==ue&&D.setState({selectedItem:ue},function(){Z(ue),ae&&D.props.dropdownScroll(D.itemsRef[D.getId(ue)])})},D.scroll=function(ue){ue.preventDefault();var ae=D.props.values,Z=ue.keyCode||ue.which,$=D.getPositionInList(),ce;switch(Z){case I.DOWN:ce=$+1;break;case I.UP:ce=$-1;break;default:ce=$;break}ce=(ce%ae.length+ae.length)%ae.length,D.selectItem(ae[ce],[I.DOWN,I.UP].includes(Z))},D.isSelected=function(ue){var ae=D.state.selectedItem;return ae?D.getId(ae)===D.getId(ue):!1},D}return E(V,[{key:"componentDidMount",value:function(){this.listeners.push(T.add([I.DOWN,I.UP],this.scroll),T.add([I.ENTER,I.TAB],this.onPressEnter));var D=this.props.values;D&&D[0]&&this.selectItem(D[0])}},{key:"componentDidUpdate",value:function(D){var U=this,ie=D.values,re=this.props.values,ue=ie.map(function(Z){return U.getId(Z)}).join(""),ae=re.map(function(Z){return U.getId(Z)}).join("");ue!==ae&&re&&re[0]&&this.selectItem(re[0])}},{key:"componentWillUnmount",value:function(){for(var D;this.listeners.length;)D=this.listeners.pop(),T.remove(D)}},{key:"render",value:function(){var D=this,U=this.props,ie=U.values,re=U.component,ue=U.style,ae=U.itemClassName,Z=U.className,$=U.itemStyle;return L.createElement("ul",{className:"rta__list ".concat(Z||""),style:ue},ie.map(function(ce){return L.createElement(P,{key:D.getId(ce),innerRef:function(we){D.itemsRef[D.getId(ce)]=we},selected:D.isSelected(ce),item:ce,className:ae,style:$,onClickHandler:D.onPressEnter,onSelectHandler:D.selectItem,component:re})}))}}]),V}(L.Component);function R(j,V){var q=parseInt(getComputedStyle(V).getPropertyValue("height"),10),D=parseInt(getComputedStyle(j).getPropertyValue("height"),10)-q,U=V.offsetTop,ie=j.scrollTop;U<ie+D&&ie<U||(j.scrollTop=U)}var F="next",W={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},X=function(V){return console.error("RTA: dataProvider fails: ".concat(V,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},K=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],M=function(V){return w(V).map(function(q){return K.includes(q)?"\\".concat(q):q}).join("")},z=function(j){u(V,j);function V(){return g(this,V),a(this,o(V).apply(this,arguments))}return E(V,[{key:"componentDidMount",value:function(){var D=this.props.boundariesElement;if(typeof D=="string"){var U=document.querySelector(D);if(!U)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=U}else if(D instanceof HTMLElement)this.containerElem=D;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var D,U,ie=this.props.top||0,re=this.props.left||0,ue=[],ae=[],Z=0,$=0,ce=this.containerElem.getBoundingClientRect(),fe=this.ref.getBoundingClientRect(),we=this.props.textareaRef.getBoundingClientRect(),le=window.getComputedStyle(this.ref),Se=parseInt(le.getPropertyValue("margin-top"),10),je=parseInt(le.getPropertyValue("margin-bottom"),10),Ne=parseInt(le.getPropertyValue("margin-left"),10),Be=parseInt(le.getPropertyValue("margin-right"),10),Me=Se+je+we.top+ie+fe.height,Re=Ne+Be+we.left+re+fe.width;Re>ce.right&&we.left+re>fe.width?($=re-fe.width,ue.push(W.X.LEFT),ae.push(W.X.RIGHT)):($=re,ue.push(W.X.RIGHT),ae.push(W.X.LEFT)),Me>ce.bottom&&we.top+ie>fe.height?(Z=ie-fe.height,ue.push(W.Y.TOP),ae.push(W.Y.BOTTOM)):(Z=ie,ue.push(W.Y.BOTTOM),ae.push(W.Y.TOP)),this.props.renderToBody&&(Z+=we.top,$+=we.left),this.ref.style.top="".concat(Z,"px"),this.ref.style.left="".concat($,"px"),(D=this.ref.classList).remove.apply(D,ae),(U=this.ref.classList).add.apply(U,ue)}},{key:"render",value:function(){var D=this,U=this.props,ie=U.style,re=U.className,ue=U.innerRef,ae=U.children,Z=U.renderToBody,$=document.body,ce=L.createElement("div",{ref:function(we){D.ref=we,ue(we)},className:"rta__autocomplete ".concat(re||""),style:ie},ae);return Z&&$!==null?Je.createPortal(ce,$):ce}}]),V}(L.Component),B=function(j){u(V,j);function V(q){var D;g(this,V),D=a(this,o(V).call(this,q)),D.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},D.escListenerInit=function(){D.escListener||(D.escListener=T.add(I.ESC,D._closeAutocomplete))},D.escListenerDestroy=function(){D.escListener&&(T.remove(D.escListener),D.escListener=null)},D.getSelectionPosition=function(){return D.textareaRef?{selectionStart:D.textareaRef.selectionStart,selectionEnd:D.textareaRef.selectionEnd}:null},D.getSelectedText=function(){if(!D.textareaRef)return null;var ae=D.textareaRef,Z=ae.selectionStart,$=ae.selectionEnd;return Z===$?null:D.state.value.substr(Z,$-Z)},D.setCaretPosition=function(){var ae=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;D.textareaRef&&(D.textareaRef.focus(),D.textareaRef.setSelectionRange(ae,ae))},D.getCaretPosition=function(){if(!D.textareaRef)return 0;var ae=D.textareaRef.selectionEnd;return ae},D._handleCaretChange=function(ae){var Z=function(){var fe=D.getCaretPosition()-1;D.lastTrigger=D.lastTrigger?fe:0};if(ae.type==="keydown"){var $=ae.keyCode||ae.which;switch($){case I.UP:case I.DOWN:D._isAutocompleteOpen()||Z();break;case I.LEFT:case I.RIGHT:Z();break;default:}return}Z()},D._onSelect=function(ae){var Z=D.state,$=Z.selectionEnd,ce=Z.currentTrigger,fe=Z.value,we=D.props.onItemSelected;if(ce){var le=D._getTextToReplace(ce);if(!le){D._closeAutocomplete();return}var Se=le(ae);if(!Se){D._closeAutocomplete();return}we&&we({currentTrigger:ce,item:ae});var je=function(ot,ye,bt){switch(ot){case"start":return bt;case"next":case"end":return bt+ye.length;default:if(!Number.isInteger(ot))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return ot}},Ne=fe.slice(0,$),Be=M(ce),Me=Ne.length-Ne.lastIndexOf(ce),Re=Ne.search(new RegExp("(?!".concat(Be,")$")))-Me,Le=Se.caretPosition==="next"?"".concat(Se.text," "):Se.text,qe=je(Se.caretPosition,Le,Re),$e=Ne.substring(0,Re)+Le,ne=fe.replace(Ne,$e);D.setState({value:ne,dataLoading:!1},function(){var lt=D.tokenRegExpEnding.exec(Le),ot=lt?lt[0].length:1;D.lastTrigger=qe&&qe-ot,D.textareaRef.value=ne,D.textareaRef.selectionEnd=qe,D._changeHandler();var ye=D.textareaRef.scrollTop;D.setCaretPosition(qe),window.chrome&&(D.textareaRef.scrollTop=ye)})}},D._getTextToReplace=function(ae){var Z=D.props.trigger[ae];if(!ae||!Z)return null;var $=Z.output;return function(ce){if(typeof ce=="object"&&(!$||typeof $!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if($){var fe=$(ce,ae);if(fe===void 0||typeof fe=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(fe),'". Check the implementation for trigger "').concat(ae,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(fe===null)return null;if(typeof fe=="string")return{text:fe,caretPosition:F};if(!fe.text&&typeof fe.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(ae,`"
`));if(!fe.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(ae,`"
`));return fe}if(typeof ce!="string")throw new Error(`Output item should be string
`);return{text:"".concat(ae).concat(ce).concat(ae),caretPosition:F}}},D._getCurrentTriggerSettings=function(){var ae=D.state.currentTrigger;return ae?D.props.trigger[ae]:null},D._getValuesFromProvider=function(){var ae=D.state,Z=ae.currentTrigger,$=ae.actualToken,ce=D._getCurrentTriggerSettings();if(!(!Z||!ce)){var fe=ce.dataProvider,we=ce.component;if(typeof fe!="function")throw new Error("Trigger provider has to be a function!");D.setState({dataLoading:!0});var le=fe($);le instanceof Promise||(le=Promise.resolve(le)),le.then(function(Se){if(!Array.isArray(Se))throw new Error("Trigger provider has to provide an array!");if(typeof we!="function")throw new Error("Component should be defined!");if(Z===D.state.currentTrigger){if(!Se.length){D._closeAutocomplete();return}D.setState({dataLoading:!1,data:Se,component:we})}}).catch(function(Se){return X(Se.message)})}},D._getSuggestions=function(){var ae=D.state,Z=ae.currentTrigger,$=ae.data;return!Z||!$||$&&!$.length?null:$},D._createRegExp=function(){var ae=D.props.trigger;D.tokenRegExp=new RegExp("(".concat(Object.keys(ae).sort(function(Z,$){return Z<$?1:Z>$?-1:0}).map(function(Z){return M(Z)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),D.tokenRegExpEnding=new RegExp("(".concat(Object.keys(ae).sort(function(Z,$){return Z<$?1:Z>$?-1:0}).map(function(Z){return M(Z)}).join("|"),")$"))},D._closeAutocomplete=function(){var ae=D.state.currentTrigger;D.escListenerDestroy(),D.setState({data:null,dataLoading:!1,currentTrigger:null},function(){ae&&D._onItemHighlightedHandler(null)})},D._cleanUpProps=function(){var ae=y({},D.props),Z=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var $ in ae)Z.includes($)&&delete ae[$];return ae},D._changeHandler=function(ae){var Z=D.props,$=Z.trigger,ce=Z.onChange,fe=Z.minChar,we=Z.onCaretPositionChange,le=Z.movePopupAsYouType,Se=D.state,je=Se.top,Ne=Se.left,Be=ae;Be||(Be=new(Y())("change",{bubbles:!0}),D.textareaRef.dispatchEvent(Be));var Me=Be.target||D.textareaRef,Re=Me.selectionEnd,Le=Me.value;if(D.lastValueBubbledEvent=Le,ce&&Be&&(Be.persist&&Be.persist(),ce(new Proxy(Be,{get:function(Nt,At,Tt){return At==="target"?Me:Reflect.get(Nt,At,Tt)}}))),we){var qe=D.getCaretPosition();we(qe)}D.setState({value:Le});var $e=function(){var Nt=ht()(Me,Re),At=Nt.top,Tt=Nt.left;D.setState({top:At-D.textareaRef.scrollTop||0,left:Tt})},ne=function(Nt){D.lastTrigger=Re-Nt,D._closeAutocomplete(),$e()};if(Re<=D.lastTrigger){var lt=Le.slice(0,Re),ot=D.tokenRegExp.exec(lt);ne(ot?ot[0].length:0)}var ye=Le.slice(D.lastTrigger,Re),bt=D.tokenRegExp.exec(ye),It=bt&&bt[0],gt=bt&&bt[1]||null,Rt=gt?gt.length-1:0,Bt=D.tokenRegExpEnding.exec(ye);if(Bt?ne(Bt[0].length):D._isAutocompleteOpen()||D._closeAutocomplete(),(!It||It.length<=fe+Rt)&&(D.state.currentTrigger&&!$[D.state.currentTrigger].allowWhitespace||!D.state.currentTrigger)){D._closeAutocomplete();return}if(gt&&$[gt].afterWhitespace&&!/\s/.test(Le[Re-It.length-1])&&Le[Re-It.length-1]!==void 0){D._closeAutocomplete();return}if(D.state.currentTrigger&&$[D.state.currentTrigger].allowWhitespace){if(bt=new RegExp("".concat(M(D.state.currentTrigger),".*$")).exec(Le.slice(0,Re)),It=bt&&bt[0],!It){D._closeAutocomplete();return}gt=Object.keys($).find(function(Ut){return Ut.slice(0,Rt+1)===It.slice(0,Rt+1)})||null}var sr=It.slice(1);if(gt){(le||je===null&&Ne===null||D.state.currentTrigger!==gt)&&$e(),D.escListenerInit();var rr=D._getTextToReplace(gt);D.setState({selectionEnd:Re,currentTrigger:gt,textToReplace:rr,actualToken:sr},function(){try{D._getValuesFromProvider()}catch(Ut){X(Ut.message)}})}},D._selectHandler=function(ae){var Z=D.props,$=Z.onCaretPositionChange,ce=Z.onSelect;if($){var fe=D.getCaretPosition();$(fe)}ce&&(ae.persist(),ce(ae))},D._shouldStayOpen=function(ae){var Z=ae.relatedTarget;return Z===null&&(Z=document.activeElement),!!(D.dropdownRef&&Z instanceof Node&&D.dropdownRef.contains(Z))},D._onClick=function(ae){var Z=D.props.onClick;Z&&(ae.persist(),Z(ae)),!D._shouldStayOpen(ae)&&D._closeAutocomplete()},D._onBlur=function(ae){var Z=D.props.onBlur;Z&&(ae.persist(),Z(ae)),!D._shouldStayOpen(ae)&&D._closeAutocomplete()},D._onScrollHandler=function(){D._closeAutocomplete()},D._onItemHighlightedHandler=function(ae){var Z=D.props.onItemHighlighted,$=D.state.currentTrigger;if(Z)if(typeof Z=="function")Z({currentTrigger:$,item:ae});else throw new Error("`onItemHighlighted` has to be a function")},D._dropdownScroll=function(ae){var Z=D.props.scrollToItem;if(Z){if(Z===!0){R(D.dropdownRef,ae);return}if(typeof Z!="function"||Z.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");Z(D.dropdownRef,ae)}},D._isAutocompleteOpen=function(){var ae=D.state,Z=ae.dataLoading,$=ae.currentTrigger,ce=D._getSuggestions();return!!((Z||ce)&&$)},D._textareaRef=function(ae){D.props.innerRef&&D.props.innerRef(ae),D.textareaRef=ae},D.lastTrigger=0,D.escListener=null;var U=D.props,ie=U.loadingComponent,re=U.trigger,ue=U.value;if(ue&&(D.state.value=ue),D._createRegExp(),!ie)throw new Error("RTA: loadingComponent is not defined");if(!re)throw new Error("RTA: trigger is not defined");return D}return E(V,[{key:"componentDidMount",value:function(){T.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(D){var U=D.trigger,ie=D.value,re=this.props,ue=re.trigger,ae=re.value;Object.keys(ue).join("")!==Object.keys(U).join("")&&this._createRegExp(),ie!==ae&&this.lastValueBubbledEvent!==ae&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),T.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var D=this,U=this.props,ie=U.loadingComponent,re=U.style,ue=U.className,ae=U.listStyle,Z=U.itemStyle,$=U.boundariesElement,ce=U.movePopupAsYouType,fe=U.listClassName,we=U.itemClassName,le=U.dropdownClassName,Se=U.dropdownStyle,je=U.containerStyle,Ne=U.containerClassName,Be=U.loaderStyle,Me=U.loaderClassName,Re=U.textAreaComponent,Le=U.renderToBody,qe=this.state,$e=qe.left,ne=qe.top,lt=qe.dataLoading,ot=qe.component,ye=qe.value,bt=qe.textToReplace,It=this._isAutocompleteOpen(),gt=this._getSuggestions(),Rt={},Bt;return Re.component?(Bt=Re.component,Rt[Re.ref]=this._textareaRef):(Bt=Re,Rt.ref=this._textareaRef),L.createElement("div",{className:"rta ".concat(lt===!0?"rta--loading":""," ").concat(Ne||""),style:je},L.createElement(Bt,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(ue||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:ye,style:re},Rt)),It&&L.createElement(z,{innerRef:function(rr){D.dropdownRef=rr},top:ne,left:$e,style:Se,className:le,movePopupAsYouType:ce,boundariesElement:$,textareaRef:this.textareaRef,renderToBody:Le},gt&&ot&&bt&&L.createElement(A,{values:gt,component:ot,style:ae,className:fe,itemClassName:we,itemStyle:Z,getTextToReplace:bt,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),lt&&L.createElement("div",{className:"rta__loader ".concat(gt!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(Me||""),style:Be},L.createElement(ie,{data:gt}))))}}],[{key:"getDerivedStateFromProps",value:function(D){var U=D.value;return U==null?null:{value:U}}}]),V}(L.Component);B.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1},Wt.Z=B},38925:function(tr,Wt,Xe){"use strict";Xe.d(Wt,{Z:function(){return q}});var Je=Xe(67294),Pt=Xe(76278),ht=Xe(17012),at=Xe(62208),Y=Xe(26702),L=Xe(1558),S=Xe(93967),y=Xe.n(S),g=Xe(82225),v=Xe(64217),E=Xe(96159),b=Xe(53124),h=Xe(6731),l=Xe(14747),a=Xe(91945);const o=(D,U,ie,re,ue)=>({background:D,border:`${(0,h.unit)(re.lineWidth)} ${re.lineType} ${U}`,[`${ue}-icon`]:{color:ie}}),e=D=>{const{componentCls:U,motionDurationSlow:ie,marginXS:re,marginSM:ue,fontSize:ae,fontSizeLG:Z,lineHeight:$,borderRadiusLG:ce,motionEaseInOutCirc:fe,withDescriptionIconSize:we,colorText:le,colorTextHeading:Se,withDescriptionPadding:je,defaultPadding:Ne}=D;return{[U]:Object.assign(Object.assign({},(0,l.Wf)(D)),{position:"relative",display:"flex",alignItems:"center",padding:Ne,wordWrap:"break-word",borderRadius:ce,[`&${U}-rtl`]:{direction:"rtl"},[`${U}-content`]:{flex:1,minWidth:0},[`${U}-icon`]:{marginInlineEnd:re,lineHeight:0},["&-description"]:{display:"none",fontSize:ae,lineHeight:$},"&-message":{color:Se},[`&${U}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${ie} ${fe}, opacity ${ie} ${fe},
        padding-top ${ie} ${fe}, padding-bottom ${ie} ${fe},
        margin-bottom ${ie} ${fe}`},[`&${U}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${U}-with-description`]:{alignItems:"flex-start",padding:je,[`${U}-icon`]:{marginInlineEnd:ue,fontSize:we,lineHeight:0},[`${U}-message`]:{display:"block",marginBottom:re,color:Se,fontSize:Z},[`${U}-description`]:{display:"block",color:le}},[`${U}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},u=D=>{const{componentCls:U,colorSuccess:ie,colorSuccessBorder:re,colorSuccessBg:ue,colorWarning:ae,colorWarningBorder:Z,colorWarningBg:$,colorError:ce,colorErrorBorder:fe,colorErrorBg:we,colorInfo:le,colorInfoBorder:Se,colorInfoBg:je}=D;return{[U]:{"&-success":o(ue,re,ie,D,U),"&-info":o(je,Se,le,D,U),"&-warning":o($,Z,ae,D,U),"&-error":Object.assign(Object.assign({},o(we,fe,ce,D,U)),{[`${U}-description > pre`]:{margin:0,padding:0}})}}},c=D=>{const{componentCls:U,iconCls:ie,motionDurationMid:re,marginXS:ue,fontSizeIcon:ae,colorIcon:Z,colorIconHover:$}=D;return{[U]:{["&-action"]:{marginInlineStart:ue},[`${U}-close-icon`]:{marginInlineStart:ue,padding:0,overflow:"hidden",fontSize:ae,lineHeight:(0,h.unit)(ae),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${ie}-close`]:{color:Z,transition:`color ${re}`,"&:hover":{color:$}}},"&-close-text":{color:Z,transition:`color ${re}`,"&:hover":{color:$}}}}},f=D=>({withDescriptionIconSize:D.fontSizeHeading3,defaultPadding:`${D.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${D.paddingMD}px ${D.paddingContentHorizontalLG}px`});var n=(0,a.I$)("Alert",D=>[e(D),u(D),c(D)],f),w=function(D,U){var ie={};for(var re in D)Object.prototype.hasOwnProperty.call(D,re)&&U.indexOf(re)<0&&(ie[re]=D[re]);if(D!=null&&typeof Object.getOwnPropertySymbols=="function")for(var ue=0,re=Object.getOwnPropertySymbols(D);ue<re.length;ue++)U.indexOf(re[ue])<0&&Object.prototype.propertyIsEnumerable.call(D,re[ue])&&(ie[re[ue]]=D[re[ue]]);return ie};const I={success:Pt.Z,info:L.Z,error:ht.Z,warning:Y.Z},O=D=>{const{icon:U,prefixCls:ie,type:re}=D,ue=I[re]||null;return U?(0,E.wm)(U,Je.createElement("span",{className:`${ie}-icon`},U),()=>({className:y()(`${ie}-icon`,{[U.props.className]:U.props.className})})):Je.createElement(ue,{className:`${ie}-icon`})},T=D=>{const{isClosable:U,prefixCls:ie,closeIcon:re,handleClose:ue}=D,ae=re===!0||re===void 0?Je.createElement(at.Z,null):re;return U?Je.createElement("button",{type:"button",onClick:ue,className:`${ie}-close-icon`,tabIndex:0},ae):null};var A=D=>{const{description:U,prefixCls:ie,message:re,banner:ue,className:ae,rootClassName:Z,style:$,onMouseEnter:ce,onMouseLeave:fe,onClick:we,afterClose:le,showIcon:Se,closable:je,closeText:Ne,closeIcon:Be,action:Me}=D,Re=w(D,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[Le,qe]=Je.useState(!1),$e=Je.useRef(null),{getPrefixCls:ne,direction:lt,alert:ot}=Je.useContext(b.E_),ye=ne("alert",ie),[bt,It,gt]=n(ye),Rt=At=>{var Tt;qe(!0),(Tt=D.onClose)===null||Tt===void 0||Tt.call(D,At)},Bt=Je.useMemo(()=>D.type!==void 0?D.type:ue?"warning":"info",[D.type,ue]),sr=Je.useMemo(()=>Ne?!0:typeof je=="boolean"?je:Be!==!1&&Be!==null&&Be!==void 0,[Ne,Be,je]),rr=ue&&Se===void 0?!0:Se,Ut=y()(ye,`${ye}-${Bt}`,{[`${ye}-with-description`]:!!U,[`${ye}-no-icon`]:!rr,[`${ye}-banner`]:!!ue,[`${ye}-rtl`]:lt==="rtl"},ot==null?void 0:ot.className,ae,Z,gt,It),Nt=(0,v.Z)(Re,{aria:!0,data:!0});return bt(Je.createElement(g.default,{visible:!Le,motionName:`${ye}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:At=>({maxHeight:At.offsetHeight}),onLeaveEnd:le},At=>{let{className:Tt,style:gr}=At;return Je.createElement("div",Object.assign({ref:$e,"data-show":!Le,className:y()(Ut,Tt),style:Object.assign(Object.assign(Object.assign({},ot==null?void 0:ot.style),$),gr),onMouseEnter:ce,onMouseLeave:fe,onClick:we,role:"alert"},Nt),rr?Je.createElement(O,{description:U,icon:D.icon,prefixCls:ye,type:Bt}):null,Je.createElement("div",{className:`${ye}-content`},re?Je.createElement("div",{className:`${ye}-message`},re):null,U?Je.createElement("div",{className:`${ye}-description`},U):null),Me?Je.createElement("div",{className:`${ye}-action`},Me):null,Je.createElement(T,{isClosable:sr,prefixCls:ye,closeIcon:Ne||(Be!=null?Be:ot==null?void 0:ot.closeIcon),handleClose:Rt}))}))},R=Xe(15671),F=Xe(43144),W=Xe(82963),X=Xe(78814),K=Xe(61120),M=Xe(32531);function z(D,U,ie){return U=(0,K.Z)(U),(0,W.Z)(D,(0,X.Z)()?Reflect.construct(U,ie||[],(0,K.Z)(D).constructor):U.apply(D,ie))}var j=function(D){(0,M.Z)(U,D);function U(){var ie;return(0,R.Z)(this,U),ie=z(this,U,arguments),ie.state={error:void 0,info:{componentStack:""}},ie}return(0,F.Z)(U,[{key:"componentDidCatch",value:function(re,ue){this.setState({error:re,info:ue})}},{key:"render",value:function(){const{message:re,description:ue,children:ae}=this.props,{error:Z,info:$}=this.state,ce=$&&$.componentStack?$.componentStack:null,fe=typeof re=="undefined"?(Z||"").toString():re,we=typeof ue=="undefined"?ce:ue;return Z?Je.createElement(A,{type:"error",message:fe,description:Je.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},we)}):ae}}]),U}(Je.Component);const V=A;V.ErrorBoundary=j;var q=V},49638:function(tr,Wt,Xe){var Je=Xe.g.CustomEvent;function Pt(){try{var ht=new Je("cat",{detail:{foo:"bar"}});return ht.type==="cat"&&ht.detail.foo==="bar"}catch(at){}return!1}tr.exports=Pt()?Je:typeof document!="undefined"&&typeof document.createEvent=="function"?function(at,Y){var L=document.createEvent("CustomEvent");return Y?L.initCustomEvent(at,Y.bubbles,Y.cancelable,Y.detail):L.initCustomEvent(at,!1,!1,void 0),L}:function(at,Y){var L=document.createEventObject();return L.type=at,Y?(L.bubbles=!!Y.bubbles,L.cancelable=!!Y.cancelable,L.detail=Y.detail):(L.bubbles=!1,L.cancelable=!1,L.detail=void 0),L}},79031:function(tr,Wt,Xe){var Je=Xe(48764).lW;(()=>{var Pt={1924:(Y,L,S)=>{"use strict";var y=S(210),g=S(5559),v=g(y("String.prototype.indexOf"));Y.exports=function(E,b){var h=y(E,!!b);return typeof h=="function"&&v(E,".prototype.")>-1?g(h):h}},5559:(Y,L,S)=>{"use strict";var y=S(8612),g=S(210),v=g("%Function.prototype.apply%"),E=g("%Function.prototype.call%"),b=g("%Reflect.apply%",!0)||y.call(E,v),h=g("%Object.getOwnPropertyDescriptor%",!0),l=g("%Object.defineProperty%",!0),a=g("%Math.max%");if(l)try{l({},"a",{value:1})}catch(e){l=null}Y.exports=function(e){var u=b(y,E,arguments);if(h&&l){var c=h(u,"length");c.configurable&&l(u,"length",{value:1+a(0,e.length-(arguments.length-1))})}return u};var o=function(){return b(y,v,arguments)};l?l(Y.exports,"apply",{value:o}):Y.exports.apply=o},251:(Y,L,S)=>{var y=S(2215),g=S(2584),v=S(609),E=S(8420),b=S(2847),h=S(8923),l=Date.prototype.getTime;function a(e){return e==null}function o(e){return!(!e||typeof e!="object"||typeof e.length!="number"||typeof e.copy!="function"||typeof e.slice!="function"||e.length>0&&typeof e[0]!="number")}Y.exports=function e(u,c,f){var n=f||{};return!!(n.strict?v(u,c):u===c)||(!u||!c||typeof u!="object"&&typeof c!="object"?n.strict?v(u,c):u==c:function(w,I,O){var T,P;if(typeof w!=typeof I||a(w)||a(I)||w.prototype!==I.prototype||g(w)!==g(I))return!1;var A=E(w),R=E(I);if(A!==R)return!1;if(A||R)return w.source===I.source&&b(w)===b(I);if(h(w)&&h(I))return l.call(w)===l.call(I);var F=o(w),W=o(I);if(F!==W)return!1;if(F||W){if(w.length!==I.length)return!1;for(T=0;T<w.length;T++)if(w[T]!==I[T])return!1;return!0}if(typeof w!=typeof I)return!1;try{var X=y(w),K=y(I)}catch(M){return!1}if(X.length!==K.length)return!1;for(X.sort(),K.sort(),T=X.length-1;T>=0;T--)if(X[T]!=K[T])return!1;for(T=X.length-1;T>=0;T--)if(!e(w[P=X[T]],I[P],O))return!1;return!0}(u,c,n))}},4289:(Y,L,S)=>{"use strict";var y=S(2215),g=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",v=Object.prototype.toString,E=Array.prototype.concat,b=Object.defineProperty,h=b&&function(){var o={};try{for(var e in b(o,"x",{enumerable:!1,value:o}),o)return!1;return o.x===o}catch(u){return!1}}(),l=function(o,e,u,c){var f;(!(e in o)||typeof(f=c)=="function"&&v.call(f)==="[object Function]"&&c())&&(h?b(o,e,{configurable:!0,enumerable:!1,value:u,writable:!0}):o[e]=u)},a=function(o,e){var u=arguments.length>2?arguments[2]:{},c=y(e);g&&(c=E.call(c,Object.getOwnPropertySymbols(e)));for(var f=0;f<c.length;f+=1)l(o,c[f],e[c[f]],u[c[f]])};a.supportsDescriptors=!!h,Y.exports=a},5987:Y=>{"use strict";var L={single_source_shortest_paths:function(S,y,g){var v={},E={};E[y]=0;var b,h,l,a,o,e,u,c=L.PriorityQueue.make();for(c.push(y,0);!c.empty();)for(l in h=(b=c.pop()).value,a=b.cost,o=S[h]||{})o.hasOwnProperty(l)&&(e=a+o[l],u=E[l],(E[l]===void 0||u>e)&&(E[l]=e,c.push(l,e),v[l]=h));if(g!==void 0&&E[g]===void 0){var f=["Could not find a path from ",y," to ",g,"."].join("");throw new Error(f)}return v},extract_shortest_path_from_predecessor_list:function(S,y){for(var g=[],v=y;v;)g.push(v),S[v],v=S[v];return g.reverse(),g},find_path:function(S,y,g){var v=L.single_source_shortest_paths(S,y,g);return L.extract_shortest_path_from_predecessor_list(v,g)},PriorityQueue:{make:function(S){var y,g=L.PriorityQueue,v={};for(y in S=S||{},g)g.hasOwnProperty(y)&&(v[y]=g[y]);return v.queue=[],v.sorter=S.sorter||g.default_sorter,v},default_sorter:function(S,y){return S.cost-y.cost},push:function(S,y){var g={value:S,cost:y};this.queue.push(g),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};Y.exports=L},2378:Y=>{"use strict";Y.exports=function(L){for(var S=[],y=L.length,g=0;g<y;g++){var v=L.charCodeAt(g);if(v>=55296&&v<=56319&&y>g+1){var E=L.charCodeAt(g+1);E>=56320&&E<=57343&&(v=1024*(v-55296)+E-56320+65536,g+=1)}v<128?S.push(v):v<2048?(S.push(v>>6|192),S.push(63&v|128)):v<55296||v>=57344&&v<65536?(S.push(v>>12|224),S.push(v>>6&63|128),S.push(63&v|128)):v>=65536&&v<=1114111?(S.push(v>>18|240),S.push(v>>12&63|128),S.push(v>>6&63|128),S.push(63&v|128)):S.push(239,191,189)}return new Uint8Array(S).buffer}},4470:Y=>{"use strict";var L=Object.prototype.hasOwnProperty,S=Object.prototype.toString,y=Object.defineProperty,g=Object.getOwnPropertyDescriptor,v=function(l){return typeof Array.isArray=="function"?Array.isArray(l):S.call(l)==="[object Array]"},E=function(l){if(!l||S.call(l)!=="[object Object]")return!1;var a,o=L.call(l,"constructor"),e=l.constructor&&l.constructor.prototype&&L.call(l.constructor.prototype,"isPrototypeOf");if(l.constructor&&!o&&!e)return!1;for(a in l);return a===void 0||L.call(l,a)},b=function(l,a){y&&a.name==="__proto__"?y(l,a.name,{enumerable:!0,configurable:!0,value:a.newValue,writable:!0}):l[a.name]=a.newValue},h=function(l,a){if(a==="__proto__"){if(!L.call(l,a))return;if(g)return g(l,a).value}return l[a]};Y.exports=function l(){var a,o,e,u,c,f,n=arguments[0],w=1,I=arguments.length,O=!1;for(typeof n=="boolean"&&(O=n,n=arguments[1]||{},w=2),(n==null||typeof n!="object"&&typeof n!="function")&&(n={});w<I;++w)if((a=arguments[w])!=null)for(o in a)e=h(n,o),n!==(u=h(a,o))&&(O&&u&&(E(u)||(c=v(u)))?(c?(c=!1,f=e&&v(e)?e:[]):f=e&&E(e)?e:{},b(n,{name:o,newValue:l(O,f,u)})):u!==void 0&&b(n,{name:o,newValue:u}));return n}},7529:Y=>{var L=-1;function S(l,a,o){if(l==a)return l?[[0,l]]:[];(o<0||l.length<o)&&(o=null);var e=g(l,a),u=l.substring(0,e);e=v(l=l.substring(e),a=a.substring(e));var c=l.substring(l.length-e),f=function(n,w){var I;if(!n)return[[1,w]];if(!w)return[[L,n]];var O=n.length>w.length?n:w,T=n.length>w.length?w:n,P=O.indexOf(T);if(P!=-1)return I=[[1,O.substring(0,P)],[0,T],[1,O.substring(P+T.length)]],n.length>w.length&&(I[0][0]=I[2][0]=L),I;if(T.length==1)return[[L,n],[1,w]];var A=function(B,j){var V=B.length>j.length?B:j,q=B.length>j.length?j:B;if(V.length<4||2*q.length<V.length)return null;function D(ce,fe,we){for(var le,Se,je,Ne,Be=ce.substring(we,we+Math.floor(ce.length/4)),Me=-1,Re="";(Me=fe.indexOf(Be,Me+1))!=-1;){var Le=g(ce.substring(we),fe.substring(Me)),qe=v(ce.substring(0,we),fe.substring(0,Me));Re.length<qe+Le&&(Re=fe.substring(Me-qe,Me)+fe.substring(Me,Me+Le),le=ce.substring(0,we-qe),Se=ce.substring(we+Le),je=fe.substring(0,Me-qe),Ne=fe.substring(Me+Le))}return 2*Re.length>=ce.length?[le,Se,je,Ne,Re]:null}var U,ie,re,ue,ae,Z=D(V,q,Math.ceil(V.length/4)),$=D(V,q,Math.ceil(V.length/2));return Z||$?(U=$?Z&&Z[4].length>$[4].length?Z:$:Z,B.length>j.length?(ie=U[0],re=U[1],ue=U[2],ae=U[3]):(ue=U[0],ae=U[1],ie=U[2],re=U[3]),[ie,re,ue,ae,U[4]]):null}(n,w);if(A){var R=A[0],F=A[1],W=A[2],X=A[3],K=A[4],M=S(R,W),z=S(F,X);return M.concat([[0,K]],z)}return function(B,j){for(var V=B.length,q=j.length,D=Math.ceil((V+q)/2),U=D,ie=2*D,re=new Array(ie),ue=new Array(ie),ae=0;ae<ie;ae++)re[ae]=-1,ue[ae]=-1;re[U+1]=0,ue[U+1]=0;for(var Z=V-q,$=Z%2!=0,ce=0,fe=0,we=0,le=0,Se=0;Se<D;Se++){for(var je=-Se+ce;je<=Se-fe;je+=2){for(var Ne=U+je,Be=($e=je==-Se||je!=Se&&re[Ne-1]<re[Ne+1]?re[Ne+1]:re[Ne-1]+1)-je;$e<V&&Be<q&&B.charAt($e)==j.charAt(Be);)$e++,Be++;if(re[Ne]=$e,$e>V)fe+=2;else if(Be>q)ce+=2;else if($&&(Le=U+Z-je)>=0&&Le<ie&&ue[Le]!=-1&&$e>=(Re=V-ue[Le]))return y(B,j,$e,Be)}for(var Me=-Se+we;Me<=Se-le;Me+=2){for(var Re,Le=U+Me,qe=(Re=Me==-Se||Me!=Se&&ue[Le-1]<ue[Le+1]?ue[Le+1]:ue[Le-1]+1)-Me;Re<V&&qe<q&&B.charAt(V-Re-1)==j.charAt(q-qe-1);)Re++,qe++;if(ue[Le]=Re,Re>V)le+=2;else if(qe>q)we+=2;else if(!$){var $e;if((Ne=U+Z-Me)>=0&&Ne<ie&&re[Ne]!=-1&&(Be=U+($e=re[Ne])-Ne,$e>=(Re=V-Re)))return y(B,j,$e,Be)}}}return[[L,B],[1,j]]}(n,w)}(l=l.substring(0,l.length-e),a=a.substring(0,a.length-e));return u&&f.unshift([0,u]),c&&f.push([0,c]),E(f),o!=null&&(f=function(n,w){var I=function(F,W){if(W===0)return[0,F];for(var X=0,K=0;K<F.length;K++){var M=F[K];if(M[0]===L||M[0]===0){var z=X+M[1].length;if(W===z)return[K+1,F];if(W<z){F=F.slice();var B=W-X,j=[M[0],M[1].slice(0,B)],V=[M[0],M[1].slice(B)];return F.splice(K,1,j,V),[K+1,F]}X=z}}throw new Error("cursor_pos is out of bounds!")}(n,w),O=I[1],T=I[0],P=O[T],A=O[T+1];if(P==null||P[0]!==0)return n;if(A!=null&&P[1]+A[1]===A[1]+P[1])return O.splice(T,2,A,P),h(O,T,2);if(A!=null&&A[1].indexOf(P[1])===0){O.splice(T,2,[A[0],P[1]],[0,P[1]]);var R=A[1].slice(P[1].length);return R.length>0&&O.splice(T+2,0,[A[0],R]),h(O,T,3)}return n}(f,o)),function(n){for(var w=!1,I=function(A){return A.charCodeAt(0)>=56320&&A.charCodeAt(0)<=57343},O=2;O<n.length;O+=1)n[O-2][0]===0&&(T=n[O-2][1]).charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319&&n[O-1][0]===L&&I(n[O-1][1])&&n[O][0]===1&&I(n[O][1])&&(w=!0,n[O-1][1]=n[O-2][1].slice(-1)+n[O-1][1],n[O][1]=n[O-2][1].slice(-1)+n[O][1],n[O-2][1]=n[O-2][1].slice(0,-1));var T;if(!w)return n;var P=[];for(O=0;O<n.length;O+=1)n[O][1].length>0&&P.push(n[O]);return P}(f)}function y(l,a,o,e){var u=l.substring(0,o),c=a.substring(0,e),f=l.substring(o),n=a.substring(e),w=S(u,c),I=S(f,n);return w.concat(I)}function g(l,a){if(!l||!a||l.charAt(0)!=a.charAt(0))return 0;for(var o=0,e=Math.min(l.length,a.length),u=e,c=0;o<u;)l.substring(c,u)==a.substring(c,u)?c=o=u:e=u,u=Math.floor((e-o)/2+o);return u}function v(l,a){if(!l||!a||l.charAt(l.length-1)!=a.charAt(a.length-1))return 0;for(var o=0,e=Math.min(l.length,a.length),u=e,c=0;o<u;)l.substring(l.length-u,l.length-c)==a.substring(a.length-u,a.length-c)?c=o=u:e=u,u=Math.floor((e-o)/2+o);return u}function E(l){l.push([0,""]);for(var a,o=0,e=0,u=0,c="",f="";o<l.length;)switch(l[o][0]){case 1:u++,f+=l[o][1],o++;break;case L:e++,c+=l[o][1],o++;break;case 0:e+u>1?(e!==0&&u!==0&&((a=g(f,c))!==0&&(o-e-u>0&&l[o-e-u-1][0]==0?l[o-e-u-1][1]+=f.substring(0,a):(l.splice(0,0,[0,f.substring(0,a)]),o++),f=f.substring(a),c=c.substring(a)),(a=v(f,c))!==0&&(l[o][1]=f.substring(f.length-a)+l[o][1],f=f.substring(0,f.length-a),c=c.substring(0,c.length-a))),e===0?l.splice(o-u,e+u,[1,f]):u===0?l.splice(o-e,e+u,[L,c]):l.splice(o-e-u,e+u,[L,c],[1,f]),o=o-e-u+(e?1:0)+(u?1:0)+1):o!==0&&l[o-1][0]==0?(l[o-1][1]+=l[o][1],l.splice(o,1)):o++,u=0,e=0,c="",f=""}l[l.length-1][1]===""&&l.pop();var n=!1;for(o=1;o<l.length-1;)l[o-1][0]==0&&l[o+1][0]==0&&(l[o][1].substring(l[o][1].length-l[o-1][1].length)==l[o-1][1]?(l[o][1]=l[o-1][1]+l[o][1].substring(0,l[o][1].length-l[o-1][1].length),l[o+1][1]=l[o-1][1]+l[o+1][1],l.splice(o-1,1),n=!0):l[o][1].substring(0,l[o+1][1].length)==l[o+1][1]&&(l[o-1][1]+=l[o+1][1],l[o][1]=l[o][1].substring(l[o+1][1].length)+l[o+1][1],l.splice(o+1,1),n=!0)),o++;n&&E(l)}var b=S;function h(l,a,o){for(var e=a+o-1;e>=0&&e>=a-1;e--)if(e+1<l.length){var u=l[e],c=l[e+1];u[0]===c[1]&&l.splice(e,2,[u[0],u[1]+c[1]])}return l}b.INSERT=1,b.DELETE=L,b.EQUAL=0,Y.exports=b},7648:Y=>{"use strict";var L="Function.prototype.bind called on incompatible ",S=Array.prototype.slice,y=Object.prototype.toString,g="[object Function]";Y.exports=function(v){var E=this;if(typeof E!="function"||y.call(E)!==g)throw new TypeError(L+E);for(var b,h=S.call(arguments,1),l=function(){if(this instanceof b){var c=E.apply(this,h.concat(S.call(arguments)));return Object(c)===c?c:this}return E.apply(v,h.concat(S.call(arguments)))},a=Math.max(0,E.length-h.length),o=[],e=0;e<a;e++)o.push("$"+e);if(b=Function("binder","return function ("+o.join(",")+"){ return binder.apply(this,arguments); }")(l),E.prototype){var u=function(){};u.prototype=E.prototype,b.prototype=new u,u.prototype=null}return b}},8612:(Y,L,S)=>{"use strict";var y=S(7648);Y.exports=Function.prototype.bind||y},5972:Y=>{"use strict";var L=function(){return typeof function(){}.name=="string"},S=Object.getOwnPropertyDescriptor;if(S)try{S([],"length")}catch(g){S=null}L.functionsHaveConfigurableNames=function(){if(!L()||!S)return!1;var g=S(function(){},"name");return!!g&&!!g.configurable};var y=Function.prototype.bind;L.boundFunctionsHaveNames=function(){return L()&&typeof y=="function"&&function(){}.bind().name!==""},Y.exports=L},210:(Y,L,S)=>{"use strict";var y,g=SyntaxError,v=Function,E=TypeError,b=function(M){try{return v('"use strict"; return ('+M+").constructor;")()}catch(z){}},h=Object.getOwnPropertyDescriptor;if(h)try{h({},"")}catch(M){h=null}var l=function(){throw new E},a=h?function(){try{return l}catch(M){try{return h(arguments,"callee").get}catch(z){return l}}}():l,o=S(1405)(),e=Object.getPrototypeOf||function(M){return M.__proto__},u={},c=typeof Uint8Array=="undefined"?y:e(Uint8Array),f={"%AggregateError%":typeof AggregateError=="undefined"?y:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?y:ArrayBuffer,"%ArrayIteratorPrototype%":o?e([][Symbol.iterator]()):y,"%AsyncFromSyncIteratorPrototype%":y,"%AsyncFunction%":u,"%AsyncGenerator%":u,"%AsyncGeneratorFunction%":u,"%AsyncIteratorPrototype%":u,"%Atomics%":typeof Atomics=="undefined"?y:Atomics,"%BigInt%":typeof BigInt=="undefined"?y:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?y:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?y:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?y:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?y:FinalizationRegistry,"%Function%":v,"%GeneratorFunction%":u,"%Int8Array%":typeof Int8Array=="undefined"?y:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?y:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?y:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":o?e(e([][Symbol.iterator]())):y,"%JSON%":typeof JSON=="object"?JSON:y,"%Map%":typeof Map=="undefined"?y:Map,"%MapIteratorPrototype%":typeof Map!="undefined"&&o?e(new Map()[Symbol.iterator]()):y,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?y:Promise,"%Proxy%":typeof Proxy=="undefined"?y:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?y:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?y:Set,"%SetIteratorPrototype%":typeof Set!="undefined"&&o?e(new Set()[Symbol.iterator]()):y,"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?y:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":o?e(""[Symbol.iterator]()):y,"%Symbol%":o?Symbol:y,"%SyntaxError%":g,"%ThrowTypeError%":a,"%TypedArray%":c,"%TypeError%":E,"%Uint8Array%":typeof Uint8Array=="undefined"?y:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?y:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?y:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?y:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?y:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?y:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?y:WeakSet},n=function M(z){var B;if(z==="%AsyncFunction%")B=b("async function () {}");else if(z==="%GeneratorFunction%")B=b("function* () {}");else if(z==="%AsyncGeneratorFunction%")B=b("async function* () {}");else if(z==="%AsyncGenerator%"){var j=M("%AsyncGeneratorFunction%");j&&(B=j.prototype)}else if(z==="%AsyncIteratorPrototype%"){var V=M("%AsyncGenerator%");V&&(B=e(V.prototype))}return f[z]=B,B},w={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},I=S(8612),O=S(7642),T=I.call(Function.call,Array.prototype.concat),P=I.call(Function.apply,Array.prototype.splice),A=I.call(Function.call,String.prototype.replace),R=I.call(Function.call,String.prototype.slice),F=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,W=/\\(\\)?/g,X=function(M){var z=R(M,0,1),B=R(M,-1);if(z==="%"&&B!=="%")throw new g("invalid intrinsic syntax, expected closing `%`");if(B==="%"&&z!=="%")throw new g("invalid intrinsic syntax, expected opening `%`");var j=[];return A(M,F,function(V,q,D,U){j[j.length]=D?A(U,W,"$1"):q||V}),j},K=function(M,z){var B,j=M;if(O(w,j)&&(j="%"+(B=w[j])[0]+"%"),O(f,j)){var V=f[j];if(V===u&&(V=n(j)),V===void 0&&!z)throw new E("intrinsic "+M+" exists, but is not available. Please file an issue!");return{alias:B,name:j,value:V}}throw new g("intrinsic "+M+" does not exist!")};Y.exports=function(M,z){if(typeof M!="string"||M.length===0)throw new E("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof z!="boolean")throw new E('"allowMissing" argument must be a boolean');var B=X(M),j=B.length>0?B[0]:"",V=K("%"+j+"%",z),q=V.name,D=V.value,U=!1,ie=V.alias;ie&&(j=ie[0],P(B,T([0,1],ie)));for(var re=1,ue=!0;re<B.length;re+=1){var ae=B[re],Z=R(ae,0,1),$=R(ae,-1);if((Z==='"'||Z==="'"||Z==="`"||$==='"'||$==="'"||$==="`")&&Z!==$)throw new g("property names with quotes must have matching quotes");if(ae!=="constructor"&&ue||(U=!0),O(f,q="%"+(j+="."+ae)+"%"))D=f[q];else if(D!=null){if(!(ae in D)){if(!z)throw new E("base intrinsic for "+M+" exists, but the property is not available.");return}if(h&&re+1>=B.length){var ce=h(D,ae);D=(ue=!!ce)&&"get"in ce&&!("originalValue"in ce.get)?ce.get:D[ae]}else ue=O(D,ae),D=D[ae];ue&&!U&&(f[q]=D)}}return D}},1405:(Y,L,S)=>{"use strict";var y=typeof Symbol!="undefined"&&Symbol,g=S(5419);Y.exports=function(){return typeof y=="function"&&typeof Symbol=="function"&&typeof y("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&g()}},5419:Y=>{"use strict";Y.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var L={},S=Symbol("test"),y=Object(S);if(typeof S=="string"||Object.prototype.toString.call(S)!=="[object Symbol]"||Object.prototype.toString.call(y)!=="[object Symbol]")return!1;for(S in L[S]=42,L)return!1;if(typeof Object.keys=="function"&&Object.keys(L).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(L).length!==0)return!1;var g=Object.getOwnPropertySymbols(L);if(g.length!==1||g[0]!==S||!Object.prototype.propertyIsEnumerable.call(L,S))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var v=Object.getOwnPropertyDescriptor(L,S);if(v.value!==42||v.enumerable!==!0)return!1}return!0}},7642:(Y,L,S)=>{"use strict";var y=S(8612);Y.exports=y.call(Function.call,Object.prototype.hasOwnProperty)},2584:(Y,L,S)=>{"use strict";var y=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",g=S(1924)("Object.prototype.toString"),v=function(h){return!(y&&h&&typeof h=="object"&&Symbol.toStringTag in h)&&g(h)==="[object Arguments]"},E=function(h){return!!v(h)||h!==null&&typeof h=="object"&&typeof h.length=="number"&&h.length>=0&&g(h)!=="[object Array]"&&g(h.callee)==="[object Function]"},b=function(){return v(arguments)}();v.isLegacyArguments=E,Y.exports=b?v:E},8923:Y=>{"use strict";var L=Date.prototype.getDay,S=Object.prototype.toString,y=typeof Symbol=="function"&&!!Symbol.toStringTag;Y.exports=function(g){return typeof g=="object"&&g!==null&&(y?function(v){try{return L.call(v),!0}catch(E){return!1}}(g):S.call(g)==="[object Date]")}},8420:(Y,L,S)=>{"use strict";var y,g,v,E,b=S(1924),h=S(5419)()&&!!Symbol.toStringTag;if(h){y=b("Object.prototype.hasOwnProperty"),g=b("RegExp.prototype.exec"),v={};var l=function(){throw v};E={toString:l,valueOf:l},typeof Symbol.toPrimitive=="symbol"&&(E[Symbol.toPrimitive]=l)}var a=b("Object.prototype.toString"),o=Object.getOwnPropertyDescriptor;Y.exports=h?function(e){if(!e||typeof e!="object")return!1;var u=o(e,"lastIndex");if(!u||!y(u,"value"))return!1;try{g(e,E)}catch(c){return c===v}}:function(e){return!(!e||typeof e!="object"&&typeof e!="function")&&a(e)==="[object RegExp]"}},5961:(Y,L,S)=>{"use strict";var y=e(S(2289)),g=e(S(2276)),v=e(S(5443)),E=e(S(7044)),b=e(S(9972)),h=e(S(5065)),l=e(S(8532)),a=S(2362),o=e(S(6025));function e(T){return T&&T.__esModule?T:{default:T}}var u=function(){},c=function(T,P,A){var R=new u;if(T===void 0)throw Error("No element to render on was provided.");return R._renderProperties=(0,b.default)(T),R._encodings=[],R._options=o.default,R._errorHandler=new l.default(R),P!==void 0&&((A=A||{}).format||(A.format=I()),R.options(A)[A.format](P,A).render()),R};for(var f in c.getModule=function(T){return y.default[T]},y.default)y.default.hasOwnProperty(f)&&n(y.default,f);function n(T,P){u.prototype[P]=u.prototype[P.toUpperCase()]=u.prototype[P.toLowerCase()]=function(A,R){var F=this;return F._errorHandler.wrapBarcodeCall(function(){R.text=R.text===void 0?void 0:""+R.text;var W=(0,g.default)(F._options,R);W=(0,h.default)(W);var X=T[P],K=w(A,X,W);return F._encodings.push(K),F})}}function w(T,P,A){var R=new P(T=""+T,A);if(!R.valid())throw new a.InvalidInputException(R.constructor.name,T);var F=R.encode();F=(0,v.default)(F);for(var W=0;W<F.length;W++)F[W].options=(0,g.default)(A,F[W].options);return F}function I(){return y.default.CODE128?"CODE128":Object.keys(y.default)[0]}function O(T,P,A){P=(0,v.default)(P);for(var R=0;R<P.length;R++)P[R].options=(0,g.default)(A,P[R].options),(0,E.default)(P[R].options);(0,E.default)(A),new T.renderer(T.element,P,A).render(),T.afterRender&&T.afterRender()}u.prototype.options=function(T){return this._options=(0,g.default)(this._options,T),this},u.prototype.blank=function(T){var P=new Array(T+1).join("0");return this._encodings.push({data:P}),this},u.prototype.init=function(){var T;if(this._renderProperties)for(var P in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){T=this._renderProperties[P];var A=(0,g.default)(this._options,T.options);A.format=="auto"&&(A.format=I()),this._errorHandler.wrapBarcodeCall(function(){var R=w(A.value,y.default[A.format.toUpperCase()],A);O(T,R,A)})}},u.prototype.render=function(){if(!this._renderProperties)throw new a.NoElementException;if(Array.isArray(this._renderProperties))for(var T=0;T<this._renderProperties.length;T++)O(this._renderProperties[T],this._encodings,this._options);else O(this._renderProperties,this._encodings,this._options);return this},u.prototype._defaults=o.default,typeof window!="undefined"&&(window.JsBarcode=c),typeof jQuery!="undefined"&&(jQuery.fn.JsBarcode=function(T,P){var A=[];return jQuery(this).each(function(){A.push(this)}),c(A,T,P)}),Y.exports=c},8012:(Y,L)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.default=function S(y,g){(function(v,E){if(!(v instanceof E))throw new TypeError("Cannot call a class as a function")})(this,S),this.data=y,this.text=g.text||y,this.options=g}},2089:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y,g=function(){function h(l,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}return function(l,a,o){return a&&h(l.prototype,a),o&&h(l,o),l}}(),v=(y=S(8012))&&y.__esModule?y:{default:y},E=S(4602),b=function(h){function l(a,o){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,l);var e=function(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,a.substring(1),o));return e.bytes=a.split("").map(function(u){return u.charCodeAt(0)}),e}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(l,h),g(l,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var a=this.bytes,o=a.shift()-105,e=E.SET_BY_CODE[o];if(e===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&a.unshift(E.FNC1);var u=l.next(a,1,e);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:l.getBar(o)+u.result+l.getBar((u.checksum+o)%E.MODULO)+l.getBar(E.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var a=this.options.ean128||!1;return typeof a=="string"&&(a=a.toLowerCase()==="true"),a}}],[{key:"getBar",value:function(a){return E.BARS[a]?E.BARS[a].toString():""}},{key:"correctIndex",value:function(a,o){if(o===E.SET_A){var e=a.shift();return e<32?e+64:e-32}return o===E.SET_B?a.shift()-32:10*(a.shift()-48)+a.shift()-48}},{key:"next",value:function(a,o,e){if(!a.length)return{result:"",checksum:0};var u=void 0,c=void 0;if(a[0]>=200){c=a.shift()-105;var f=E.SWAP[c];f!==void 0?u=l.next(a,o+1,f):(e!==E.SET_A&&e!==E.SET_B||c!==E.SHIFT||(a[0]=e===E.SET_A?a[0]>95?a[0]-96:a[0]:a[0]<32?a[0]+96:a[0]),u=l.next(a,o+1,e))}else c=l.correctIndex(a,e),u=l.next(a,o+1,e);var n=c*o;return{result:l.getBar(c)+u.result,checksum:n+u.checksum}}}]),l}(v.default);L.default=b},8238:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y,g=function(){function h(l,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}return function(l,a,o){return a&&h(l.prototype,a),o&&h(l,o),l}}(),v=(y=S(2089))&&y.__esModule?y:{default:y},E=S(4602),b=function(h){function l(a,o){return function(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,u){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?e:u}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,E.A_START_CHAR+a,o))}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(l,h),g(l,[{key:"valid",value:function(){return new RegExp("^"+E.A_CHARS+"+$").test(this.data)}}]),l}(v.default);L.default=b},1180:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y,g=function(){function h(l,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}return function(l,a,o){return a&&h(l.prototype,a),o&&h(l,o),l}}(),v=(y=S(2089))&&y.__esModule?y:{default:y},E=S(4602),b=function(h){function l(a,o){return function(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,u){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?e:u}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,E.B_START_CHAR+a,o))}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(l,h),g(l,[{key:"valid",value:function(){return new RegExp("^"+E.B_CHARS+"+$").test(this.data)}}]),l}(v.default);L.default=b},944:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y,g=function(){function h(l,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}return function(l,a,o){return a&&h(l.prototype,a),o&&h(l,o),l}}(),v=(y=S(2089))&&y.__esModule?y:{default:y},E=S(4602),b=function(h){function l(a,o){return function(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,u){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?e:u}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,E.C_START_CHAR+a,o))}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(l,h),g(l,[{key:"valid",value:function(){return new RegExp("^"+E.C_CHARS+"+$").test(this.data)}}]),l}(v.default);L.default=b},8845:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y=v(S(2089)),g=v(S(7293));function v(h){return h&&h.__esModule?h:{default:h}}function E(h,l){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||typeof l!="object"&&typeof l!="function"?h:l}var b=function(h){function l(a,o){if(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}(this,l),/^[\x00-\x7F\xC8-\xD3]+$/.test(a))var e=E(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,(0,g.default)(a),o));else e=E(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,a,o));return E(e)}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(l,h),l}(y.default);L.default=b},7293:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y=S(4602),g=function(l){return l.match(new RegExp("^"+y.A_CHARS+"*"))[0].length},v=function(l){return l.match(new RegExp("^"+y.B_CHARS+"*"))[0].length},E=function(l){return l.match(new RegExp("^"+y.C_CHARS+"*"))[0]};function b(l,a){var o=a?y.A_CHARS:y.B_CHARS,e=l.match(new RegExp("^("+o+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(e)return e[1]+String.fromCharCode(204)+h(l.substring(e[1].length));var u=l.match(new RegExp("^"+o+"+"))[0];return u.length===l.length?l:u+String.fromCharCode(a?205:206)+b(l.substring(u.length),!a)}function h(l){var a=E(l),o=a.length;if(o===l.length)return l;l=l.substring(o);var e=g(l)>=v(l);return a+String.fromCharCode(e?206:205)+b(l,e)}L.default=function(l){var a=void 0;if(E(l).length>=2)a=y.C_START_CHAR+h(l);else{var o=g(l)>v(l);a=(o?y.A_START_CHAR:y.B_START_CHAR)+b(l,o)}return a.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(e,u){return String.fromCharCode(203)+u})}},4602:(Y,L)=>{"use strict";var S;function y(a,o,e){return o in a?Object.defineProperty(a,o,{value:e,enumerable:!0,configurable:!0,writable:!0}):a[o]=e,a}Object.defineProperty(L,"__esModule",{value:!0});var g=L.SET_A=0,v=L.SET_B=1,E=L.SET_C=2,b=(L.SHIFT=98,L.START_A=103),h=L.START_B=104,l=L.START_C=105;L.MODULO=103,L.STOP=106,L.FNC1=207,L.SET_BY_CODE=(y(S={},b,g),y(S,h,v),y(S,l,E),S),L.SWAP={101:g,100:v,99:E},L.A_START_CHAR=String.fromCharCode(208),L.B_START_CHAR=String.fromCharCode(209),L.C_START_CHAR=String.fromCharCode(210),L.A_CHARS="[\0-_\xC8-\xCF]",L.B_CHARS="[ -\x7F\xC8-\xCF]",L.C_CHARS="(\xCF*[0-9]{2}\xCF*)",L.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},4935:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.CODE128C=L.CODE128B=L.CODE128A=L.CODE128=void 0;var y=b(S(8845)),g=b(S(8238)),v=b(S(1180)),E=b(S(944));function b(h){return h&&h.__esModule?h:{default:h}}L.CODE128=y.default,L.CODE128A=g.default,L.CODE128B=v.default,L.CODE128C=E.default},3361:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.CODE39=void 0;var y,g=function(){function a(o,e){for(var u=0;u<e.length;u++){var c=e[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,e,u){return e&&a(o.prototype,e),u&&a(o,u),o}}(),v=function(a){function o(e,u){return function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}(this,o),e=e.toUpperCase(),u.mod43&&(e+=function(c){return E[c]}(function(c){for(var f=0,n=0;n<c.length;n++)f+=l(c[n]);return f%43}(e))),function(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,u))}return function(e,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);e.prototype=Object.create(u&&u.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(e,u):e.__proto__=u)}(o,a),g(o,[{key:"encode",value:function(){for(var e=h("*"),u=0;u<this.data.length;u++)e+=h(this.data[u])+"0";return{data:e+=h("*"),text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),o}(((y=S(8012))&&y.__esModule?y:{default:y}).default),E=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],b=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function h(a){return function(o){return b[o].toString(2)}(l(a))}function l(a){return E.indexOf(a)}L.CODE39=v},6454:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y=function(){function h(l,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}return function(l,a,o){return a&&h(l.prototype,a),o&&h(l,o),l}}(),g=S(1239),v=E(S(5532));function E(h){return h&&h.__esModule?h:{default:h}}var b=function(h){function l(a,o){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,l);var e=function(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,a,o));return e.fontSize=!o.flat&&o.fontSize>10*o.width?10*o.width:o.fontSize,e.guardHeight=o.height+e.fontSize/2+o.textMargin,e}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(l,h),y(l,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(a,o){return this.text.substr(a,o)}},{key:"leftEncode",value:function(a,o){return(0,v.default)(a,o)}},{key:"rightText",value:function(a,o){return this.text.substr(a,o)}},{key:"rightEncode",value:function(a,o){return(0,v.default)(a,o)}},{key:"encodeGuarded",value:function(){var a={fontSize:this.fontSize},o={height:this.guardHeight};return[{data:g.SIDE_BIN,options:o},{data:this.leftEncode(),text:this.leftText(),options:a},{data:g.MIDDLE_BIN,options:o},{data:this.rightEncode(),text:this.rightText(),options:a},{data:g.SIDE_BIN,options:o}]}},{key:"encodeFlat",value:function(){return{data:[g.SIDE_BIN,this.leftEncode(),g.MIDDLE_BIN,this.rightEncode(),g.SIDE_BIN].join(""),text:this.text}}}]),l}(E(S(8012)).default);L.default=b},23:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y,g=function(){function a(o,e){for(var u=0;u<e.length;u++){var c=e[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,e,u){return e&&a(o.prototype,e),u&&a(o,u),o}}(),v=function a(o,e,u){o===null&&(o=Function.prototype);var c=Object.getOwnPropertyDescriptor(o,e);if(c===void 0){var f=Object.getPrototypeOf(o);return f===null?void 0:a(f,e,u)}if("value"in c)return c.value;var n=c.get;return n!==void 0?n.call(u):void 0},E=S(1239),b=(y=S(6454))&&y.__esModule?y:{default:y},h=function(a){return(10-a.substr(0,12).split("").map(function(o){return+o}).reduce(function(o,e,u){return u%2?o+3*e:o+e},0)%10)%10},l=function(a){function o(e,u){(function(f,n){if(!(f instanceof n))throw new TypeError("Cannot call a class as a function")})(this,o),e.search(/^[0-9]{12}$/)!==-1&&(e+=h(e));var c=function(f,n){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?f:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,e,u));return c.lastChar=u.lastChar,c}return function(e,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);e.prototype=Object.create(u&&u.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(e,u):e.__proto__=u)}(o,a),g(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===h(this.data)}},{key:"leftText",value:function(){return v(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var e=this.data.substr(1,6),u=E.EAN13_STRUCTURE[this.data[0]];return v(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"leftEncode",this).call(this,e,u)}},{key:"rightText",value:function(){return v(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var e=this.data.substr(7,6);return v(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"rightEncode",this).call(this,e,"RRRRRR")}},{key:"encodeGuarded",value:function(){var e=v(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(e.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(e.push({data:"00"}),e.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),e}}]),o}(b.default);L.default=l},6552:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y=function(){function h(l,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}return function(l,a,o){return a&&h(l.prototype,a),o&&h(l,o),l}}(),g=S(1239),v=E(S(5532));function E(h){return h&&h.__esModule?h:{default:h}}var b=function(h){function l(a,o){return function(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,u){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?e:u}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,a,o))}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(l,h),y(l,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var a=g.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,v.default)(this.data,a,"01"),text:this.text}}}]),l}(E(S(8012)).default);L.default=b},9668:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y=function(){function h(l,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}return function(l,a,o){return a&&h(l.prototype,a),o&&h(l,o),l}}(),g=S(1239),v=E(S(5532));function E(h){return h&&h.__esModule?h:{default:h}}var b=function(h){function l(a,o){return function(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this,l),function(e,u){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?e:u}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,a,o))}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(l,h),y(l,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var a,o=g.EAN5_STRUCTURE[a=this.data,a.split("").map(function(e){return+e}).reduce(function(e,u,c){return c%2?e+9*u:e+3*u},0)%10];return{data:"1011"+(0,v.default)(this.data,o,"01"),text:this.text}}}]),l}(E(S(8012)).default);L.default=b},5218:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y,g=function(){function l(a,o){for(var e=0;e<o.length;e++){var u=o[e];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}return function(a,o,e){return o&&l(a.prototype,o),e&&l(a,e),a}}(),v=function l(a,o,e){a===null&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(u===void 0){var c=Object.getPrototypeOf(a);return c===null?void 0:l(c,o,e)}if("value"in u)return u.value;var f=u.get;return f!==void 0?f.call(e):void 0},E=(y=S(6454))&&y.__esModule?y:{default:y},b=function(l){return(10-l.substr(0,7).split("").map(function(a){return+a}).reduce(function(a,o,e){return e%2?a+o:a+3*o},0)%10)%10},h=function(l){function a(o,e){return function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}(this,a),o.search(/^[0-9]{7}$/)!==-1&&(o+=b(o)),function(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,o,e))}return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(a,l),g(a,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===b(this.data)}},{key:"leftText",value:function(){return v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var o=this.data.substr(0,4);return v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"leftEncode",this).call(this,o,"LLLL")}},{key:"rightText",value:function(){return v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var o=this.data.substr(4,4);return v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"rightEncode",this).call(this,o,"RRRR")}}]),a}(E.default);L.default=h},5314:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y=function(){function h(l,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}return function(l,a,o){return a&&h(l.prototype,a),o&&h(l,o),l}}();L.checksum=b;var g=v(S(5532));function v(h){return h&&h.__esModule?h:{default:h}}var E=function(h){function l(a,o){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,l),a.search(/^[0-9]{11}$/)!==-1&&(a+=b(a));var e=function(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,a,o));return e.displayValue=o.displayValue,o.fontSize>10*o.width?e.fontSize=10*o.width:e.fontSize=o.fontSize,e.guardHeight=o.height+e.fontSize/2+o.textMargin,e}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(l,h),y(l,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==b(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var a="";return a+="101",a+=(0,g.default)(this.data.substr(0,6),"LLLLLL"),a+="01010",a+=(0,g.default)(this.data.substr(6,6),"RRRRRR"),{data:a+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var a=[];return this.displayValue&&a.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),a.push({data:"101"+(0,g.default)(this.data[0],"L"),options:{height:this.guardHeight}}),a.push({data:(0,g.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),a.push({data:"01010",options:{height:this.guardHeight}}),a.push({data:(0,g.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),a.push({data:(0,g.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&a.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),a}}]),l}(v(S(8012)).default);function b(h){var l,a=0;for(l=1;l<11;l+=2)a+=parseInt(h[l]);for(l=0;l<11;l+=2)a+=3*parseInt(h[l]);return(10-a%10)%10}L.default=E},930:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y=function(){function u(c,f){for(var n=0;n<f.length;n++){var w=f[n];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,f,n){return f&&u(c.prototype,f),n&&u(c,n),c}}(),g=b(S(5532)),v=b(S(8012)),E=S(5314);function b(u){return u&&u.__esModule?u:{default:u}}function h(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}var l=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],a=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],o=function(u){function c(f,n){(function(I,O){if(!(I instanceof O))throw new TypeError("Cannot call a class as a function")})(this,c);var w=h(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,f,n));if(w.isValid=!1,f.search(/^[0-9]{6}$/)!==-1)w.middleDigits=f,w.upcA=e(f,"0"),w.text=n.text||""+w.upcA[0]+f+w.upcA[w.upcA.length-1],w.isValid=!0;else{if(f.search(/^[01][0-9]{7}$/)===-1||(w.middleDigits=f.substring(1,f.length-1),w.upcA=e(w.middleDigits,f[0]),w.upcA[w.upcA.length-1]!==f[f.length-1]))return h(w);w.isValid=!0}return w.displayValue=n.displayValue,n.fontSize>10*n.width?w.fontSize=10*n.width:w.fontSize=n.fontSize,w.guardHeight=n.height+w.fontSize/2+n.textMargin,w}return function(f,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);f.prototype=Object.create(n&&n.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(f,n):f.__proto__=n)}(c,u),y(c,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var f="";return f+="101",f+=this.encodeMiddleDigits(),{data:f+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var f=[];return this.displayValue&&f.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),f.push({data:"101",options:{height:this.guardHeight}}),f.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),f.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&f.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),f}},{key:"encodeMiddleDigits",value:function(){var f=this.upcA[0],n=this.upcA[this.upcA.length-1],w=a[parseInt(n)][parseInt(f)];return(0,g.default)(this.middleDigits,w)}}]),c}(v.default);function e(u,c){for(var f=parseInt(u[u.length-1]),n=l[f],w="",I=0,O=0;O<n.length;O++){var T=n[O];w+=T==="X"?u[I++]:T}return(w=""+c+w)+(0,E.checksum)(w)}L.default=o},1239:(Y,L)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.SIDE_BIN="101",L.MIDDLE_BIN="01010",L.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},L.EAN2_STRUCTURE=["LL","LG","GL","GG"],L.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],L.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},5532:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y=S(1239);L.default=function(g,v,E){var b=g.split("").map(function(l,a){return y.BINARIES[v[a]]}).map(function(l,a){return l?l[g[a]]:""});if(E){var h=g.length-1;b=b.map(function(l,a){return a<h?l+E:l})}return b.join("")}},5321:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.UPCE=L.UPC=L.EAN2=L.EAN5=L.EAN8=L.EAN13=void 0;var y=l(S(23)),g=l(S(5218)),v=l(S(9668)),E=l(S(6552)),b=l(S(5314)),h=l(S(930));function l(a){return a&&a.__esModule?a:{default:a}}L.EAN13=y.default,L.EAN8=g.default,L.EAN5=v.default,L.EAN2=E.default,L.UPC=b.default,L.UPCE=h.default},6447:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.GenericBarcode=void 0;var y,g=function(){function E(b,h){for(var l=0;l<h.length;l++){var a=h[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(b,a.key,a)}}return function(b,h,l){return h&&E(b.prototype,h),l&&E(b,l),b}}(),v=function(E){function b(h,l){return function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}(this,b),function(a,o){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?a:o}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,h,l))}return function(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);h.prototype=Object.create(l&&l.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(h,l):h.__proto__=l)}(b,E),g(b,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),b}(((y=S(8012))&&y.__esModule?y:{default:y}).default);L.GenericBarcode=v},3074:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y,g=function(){function l(a,o){for(var e=0;e<o.length;e++){var u=o[e];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}return function(a,o,e){return o&&l(a.prototype,o),e&&l(a,e),a}}(),v=S(4477);function E(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function b(l,a){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?l:a}var h=function(l){function a(){return E(this,a),b(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(a,l),g(a,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var o=this,e=this.data.match(/.{2}/g).map(function(u){return o.encodePair(u)}).join("");return{data:v.START_BIN+e+v.END_BIN,text:this.text}}},{key:"encodePair",value:function(o){var e=v.BINARIES[o[1]];return v.BINARIES[o[0]].split("").map(function(u,c){return(u==="1"?"111":"1")+(e[c]==="1"?"000":"0")}).join("")}}]),a}(((y=S(8012))&&y.__esModule?y:{default:y}).default);L.default=h},6972:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y,g=function(){function h(l,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}return function(l,a,o){return a&&h(l.prototype,a),o&&h(l,o),l}}(),v=(y=S(3074))&&y.__esModule?y:{default:y},E=function(h){var l=h.substr(0,13).split("").map(function(a){return parseInt(a,10)}).reduce(function(a,o,e){return a+o*(3-e%2*2)},0);return 10*Math.ceil(l/10)-l},b=function(h){function l(a,o){return function(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}(this,l),a.search(/^[0-9]{13}$/)!==-1&&(a+=E(a)),function(e,u){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?e:u}(this,(l.__proto__||Object.getPrototypeOf(l)).call(this,a,o))}return function(a,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);a.prototype=Object.create(o&&o.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(a,o):a.__proto__=o)}(l,h),g(l,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===E(this.data)}}]),l}(v.default);L.default=b},4477:(Y,L)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.START_BIN="1010",L.END_BIN="11101",L.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},5984:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.ITF14=L.ITF=void 0;var y=v(S(3074)),g=v(S(6972));function v(E){return E&&E.__esModule?E:{default:E}}L.ITF=y.default,L.ITF14=g.default},2582:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y,g=function(){function b(h,l){for(var a=0;a<l.length;a++){var o=l[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}return function(h,l,a){return l&&b(h.prototype,l),a&&b(h,a),h}}(),v=function(b){function h(l,a){return function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),function(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l,a))}return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(l,a):l.__proto__=a)}(h,b),g(h,[{key:"encode",value:function(){for(var l="110",a=0;a<this.data.length;a++){var o=parseInt(this.data[a]).toString(2);o=E(o,4-o.length);for(var e=0;e<o.length;e++)l+=o[e]=="0"?"100":"110"}return{data:l+="1001",text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),h}(((y=S(8012))&&y.__esModule?y:{default:y}).default);function E(b,h){for(var l=0;l<h;l++)b="0"+b;return b}L.default=v},7839:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y,g=(y=S(2582))&&y.__esModule?y:{default:y},v=S(4348),E=function(b){function h(l,a){return function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),function(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l+(0,v.mod10)(l),a))}return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(l,a):l.__proto__=a)}(h,b),h}(g.default);L.default=E},8035:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y,g=(y=S(2582))&&y.__esModule?y:{default:y},v=S(4348),E=function(b){function h(l,a){return function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),l+=(0,v.mod10)(l),l+=(0,v.mod10)(l),function(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l,a))}return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(l,a):l.__proto__=a)}(h,b),h}(g.default);L.default=E},5883:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y,g=(y=S(2582))&&y.__esModule?y:{default:y},v=S(4348),E=function(b){function h(l,a){return function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),function(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l+(0,v.mod11)(l),a))}return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(l,a):l.__proto__=a)}(h,b),h}(g.default);L.default=E},6287:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y,g=(y=S(2582))&&y.__esModule?y:{default:y},v=S(4348),E=function(b){function h(l,a){return function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}(this,h),l+=(0,v.mod11)(l),l+=(0,v.mod10)(l),function(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,l,a))}return function(l,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);l.prototype=Object.create(a&&a.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(l,a):l.__proto__=a)}(h,b),h}(g.default);L.default=E},4348:(Y,L)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.mod10=function(S){for(var y=0,g=0;g<S.length;g++){var v=parseInt(S[g]);(g+S.length)%2==0?y+=v:y+=2*v%10+Math.floor(2*v/10)}return(10-y%10)%10},L.mod11=function(S){for(var y=0,g=[2,3,4,5,6,7],v=0;v<S.length;v++){var E=parseInt(S[S.length-1-v]);y+=g[v%g.length]*E}return(11-y%11)%11}},8458:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.MSI1110=L.MSI1010=L.MSI11=L.MSI10=L.MSI=void 0;var y=h(S(2582)),g=h(S(7839)),v=h(S(5883)),E=h(S(8035)),b=h(S(6287));function h(l){return l&&l.__esModule?l:{default:l}}L.MSI=y.default,L.MSI10=g.default,L.MSI11=v.default,L.MSI1010=E.default,L.MSI1110=b.default},123:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.codabar=void 0;var y,g=function(){function E(b,h){for(var l=0;l<h.length;l++){var a=h[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(b,a.key,a)}}return function(b,h,l){return h&&E(b.prototype,h),l&&E(b,l),b}}(),v=function(E){function b(h,l){(function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")})(this,b),h.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(h="A"+h+"A");var a=function(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,h.toUpperCase(),l));return a.text=a.options.text||a.text.replace(/[A-D]/g,""),a}return function(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);h.prototype=Object.create(l&&l.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(h,l):h.__proto__=l)}(b,E),g(b,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var h=[],l=this.getEncodings(),a=0;a<this.data.length;a++)h.push(l[this.data.charAt(a)]),a!==this.data.length-1&&h.push("0");return{text:this.text,data:h.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),b}(((y=S(8012))&&y.__esModule?y:{default:y}).default);L.codabar=v},2289:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y=S(3361),g=S(4935),v=S(5321),E=S(5984),b=S(8458),h=S(3840),l=S(123),a=S(6447);L.default={CODE39:y.CODE39,CODE128:g.CODE128,CODE128A:g.CODE128A,CODE128B:g.CODE128B,CODE128C:g.CODE128C,EAN13:v.EAN13,EAN8:v.EAN8,EAN5:v.EAN5,EAN2:v.EAN2,UPC:v.UPC,UPCE:v.UPCE,ITF14:E.ITF14,ITF:E.ITF,MSI:b.MSI,MSI10:b.MSI10,MSI11:b.MSI11,MSI1010:b.MSI1010,MSI1110:b.MSI1110,pharmacode:h.pharmacode,codabar:l.codabar,GenericBarcode:a.GenericBarcode}},3840:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.pharmacode=void 0;var y,g=function(){function E(b,h){for(var l=0;l<h.length;l++){var a=h[l];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(b,a.key,a)}}return function(b,h,l){return h&&E(b.prototype,h),l&&E(b,l),b}}(),v=function(E){function b(h,l){(function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")})(this,b);var a=function(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}(this,(b.__proto__||Object.getPrototypeOf(b)).call(this,h,l));return a.number=parseInt(h,10),a}return function(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);h.prototype=Object.create(l&&l.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(h,l):h.__proto__=l)}(b,E),g(b,[{key:"encode",value:function(){for(var h=this.number,l="";!isNaN(h)&&h!=0;)h%2==0?(l="11100"+l,h=(h-2)/2):(l="100"+l,h=(h-1)/2);return{data:l=l.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),b}(((y=S(8012))&&y.__esModule?y:{default:y}).default);L.pharmacode=v},8532:(Y,L)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var S=function(){function g(v,E){for(var b=0;b<E.length;b++){var h=E[b];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(v,h.key,h)}}return function(v,E,b){return E&&g(v.prototype,E),b&&g(v,b),v}}(),y=function(){function g(v){(function(E,b){if(!(E instanceof b))throw new TypeError("Cannot call a class as a function")})(this,g),this.api=v}return S(g,[{key:"handleCatch",value:function(v){if(v.name!=="InvalidInputException")throw v;if(this.api._options.valid===this.api._defaults.valid)throw v.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(v){try{var E=v.apply(void 0,arguments);return this.api._options.valid(!0),E}catch(b){return this.handleCatch(b),this.api}}}]),g}();L.default=y},2362:(Y,L)=>{"use strict";function S(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function")}function y(h,l){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||typeof l!="object"&&typeof l!="function"?h:l}function g(h,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);h.prototype=Object.create(l&&l.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(h,l):h.__proto__=l)}Object.defineProperty(L,"__esModule",{value:!0});var v=function(h){function l(a,o){S(this,l);var e=y(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return e.name="InvalidInputException",e.symbology=a,e.input=o,e.message='"'+e.input+'" is not a valid input for '+e.symbology,e}return g(l,Error),l}(),E=function(h){function l(){S(this,l);var a=y(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return a.name="InvalidElementException",a.message="Not supported type to render on",a}return g(l,Error),l}(),b=function(h){function l(){S(this,l);var a=y(this,(l.__proto__||Object.getPrototypeOf(l)).call(this));return a.name="NoElementException",a.message="No element to render on.",a}return g(l,Error),l}();L.InvalidInputException=v,L.InvalidElementException=E,L.NoElementException=b},7044:(Y,L)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.default=function(S){return S.marginTop=S.marginTop||S.margin,S.marginBottom=S.marginBottom||S.margin,S.marginRight=S.marginRight||S.margin,S.marginLeft=S.marginLeft||S.margin,S}},3898:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y=v(S(5065)),g=v(S(6025));function v(E){return E&&E.__esModule?E:{default:E}}L.default=function(E){var b={};for(var h in g.default)g.default.hasOwnProperty(h)&&(E.hasAttribute("jsbarcode-"+h.toLowerCase())&&(b[h]=E.getAttribute("jsbarcode-"+h.toLowerCase())),E.hasAttribute("data-"+h.toLowerCase())&&(b[h]=E.getAttribute("data-"+h.toLowerCase())));return b.value=E.getAttribute("jsbarcode-value")||E.getAttribute("data-value"),(0,y.default)(b)}},9972:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},g=b(S(3898)),v=b(S(2804)),E=S(2362);function b(h){return h&&h.__esModule?h:{default:h}}L.default=function h(l){if(typeof l=="string")return function(c){var f=document.querySelectorAll(c);if(f.length!==0){for(var n=[],w=0;w<f.length;w++)n.push(h(f[w]));return n}}(l);if(Array.isArray(l)){for(var a=[],o=0;o<l.length;o++)a.push(h(l[o]));return a}if(typeof HTMLCanvasElement!="undefined"&&l instanceof HTMLImageElement)return e=l,{element:u=document.createElement("canvas"),options:(0,g.default)(e),renderer:v.default.CanvasRenderer,afterRender:function(){e.setAttribute("src",u.toDataURL())}};if(l&&l.nodeName&&l.nodeName.toLowerCase()==="svg"||typeof SVGElement!="undefined"&&l instanceof SVGElement)return{element:l,options:(0,g.default)(l),renderer:v.default.SVGRenderer};if(typeof HTMLCanvasElement!="undefined"&&l instanceof HTMLCanvasElement)return{element:l,options:(0,g.default)(l),renderer:v.default.CanvasRenderer};if(l&&l.getContext)return{element:l,renderer:v.default.CanvasRenderer};if(l&&(l===void 0?"undefined":y(l))==="object"&&!l.nodeName)return{element:l,renderer:v.default.ObjectRenderer};throw new E.InvalidElementException;var e,u}},5443:(Y,L)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.default=function(S){var y=[];return function g(v){if(Array.isArray(v))for(var E=0;E<v.length;E++)g(v[E]);else v.text=v.text||"",v.data=v.data||"",y.push(v)}(S),y}},2276:(Y,L)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var S=Object.assign||function(y){for(var g=1;g<arguments.length;g++){var v=arguments[g];for(var E in v)Object.prototype.hasOwnProperty.call(v,E)&&(y[E]=v[E])}return y};L.default=function(y,g){return S({},y,g)}},5065:(Y,L)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.default=function(S){var y=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var g in y)y.hasOwnProperty(g)&&typeof S[g=y[g]]=="string"&&(S[g]=parseInt(S[g],10));return typeof S.displayValue=="string"&&(S.displayValue=S.displayValue!="false"),S}},6025:(Y,L)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},8204:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y,g=function(){function h(l,a){for(var o=0;o<a.length;o++){var e=a[o];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(l,e.key,e)}}return function(l,a,o){return a&&h(l.prototype,a),o&&h(l,o),l}}(),v=(y=S(2276))&&y.__esModule?y:{default:y},E=S(7899),b=function(){function h(l,a,o){(function(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")})(this,h),this.canvas=l,this.encodings=a,this.options=o}return g(h,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var l=0;l<this.encodings.length;l++){var a=(0,v.default)(this.options,this.encodings[l].options);this.drawCanvasBarcode(a,this.encodings[l]),this.drawCanvasText(a,this.encodings[l]),this.moveCanvasDrawing(this.encodings[l])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var l=this.canvas.getContext("2d");l.save(),(0,E.calculateEncodingAttributes)(this.encodings,this.options,l);var a=(0,E.getTotalWidthOfEncodings)(this.encodings),o=(0,E.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=a+this.options.marginLeft+this.options.marginRight,this.canvas.height=o,l.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(l.fillStyle=this.options.background,l.fillRect(0,0,this.canvas.width,this.canvas.height)),l.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(l,a){var o,e=this.canvas.getContext("2d"),u=a.data;o=l.textPosition=="top"?l.marginTop+l.fontSize+l.textMargin:l.marginTop,e.fillStyle=l.lineColor;for(var c=0;c<u.length;c++){var f=c*l.width+a.barcodePadding;u[c]==="1"?e.fillRect(f,o,l.width,l.height):u[c]&&e.fillRect(f,o,l.width,l.height*u[c])}}},{key:"drawCanvasText",value:function(l,a){var o,e,u=this.canvas.getContext("2d"),c=l.fontOptions+" "+l.fontSize+"px "+l.font;l.displayValue&&(e=l.textPosition=="top"?l.marginTop+l.fontSize-l.textMargin:l.height+l.textMargin+l.marginTop+l.fontSize,u.font=c,l.textAlign=="left"||a.barcodePadding>0?(o=0,u.textAlign="left"):l.textAlign=="right"?(o=a.width-1,u.textAlign="right"):(o=a.width/2,u.textAlign="center"),u.fillText(a.text,o,e))}},{key:"moveCanvasDrawing",value:function(l){this.canvas.getContext("2d").translate(l.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),h}();L.default=b},2804:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y=E(S(8204)),g=E(S(6917)),v=E(S(8652));function E(b){return b&&b.__esModule?b:{default:b}}L.default={CanvasRenderer:y.default,SVGRenderer:g.default,ObjectRenderer:v.default}},8652:(Y,L)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var S=function(){function g(v,E){for(var b=0;b<E.length;b++){var h=E[b];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(v,h.key,h)}}return function(v,E,b){return E&&g(v.prototype,E),b&&g(v,b),v}}(),y=function(){function g(v,E,b){(function(h,l){if(!(h instanceof l))throw new TypeError("Cannot call a class as a function")})(this,g),this.object=v,this.encodings=E,this.options=b}return S(g,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),g}();L.default=y},7899:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.getTotalWidthOfEncodings=L.calculateEncodingAttributes=L.getBarcodePadding=L.getEncodingHeight=L.getMaximumHeightOfEncodings=void 0;var y,g=(y=S(2276))&&y.__esModule?y:{default:y};function v(h,l){return l.height+(l.displayValue&&h.text.length>0?l.fontSize+l.textMargin:0)+l.marginTop+l.marginBottom}function E(h,l,a){if(a.displayValue&&l<h){if(a.textAlign=="center")return Math.floor((h-l)/2);if(a.textAlign=="left")return 0;if(a.textAlign=="right")return Math.floor(h-l)}return 0}function b(h,l,a){var o;if(a)o=a;else{if(typeof document=="undefined")return 0;o=document.createElement("canvas").getContext("2d")}o.font=l.fontOptions+" "+l.fontSize+"px "+l.font;var e=o.measureText(h);return e?e.width:0}L.getMaximumHeightOfEncodings=function(h){for(var l=0,a=0;a<h.length;a++)h[a].height>l&&(l=h[a].height);return l},L.getEncodingHeight=v,L.getBarcodePadding=E,L.calculateEncodingAttributes=function(h,l,a){for(var o=0;o<h.length;o++){var e,u=h[o],c=(0,g.default)(l,u.options);e=c.displayValue?b(u.text,c,a):0;var f=u.data.length*c.width;u.width=Math.ceil(Math.max(e,f)),u.height=v(u,c),u.barcodePadding=E(e,f,c)}},L.getTotalWidthOfEncodings=function(h){for(var l=0,a=0;a<h.length;a++)l+=h[a].width;return l}},6917:(Y,L,S)=>{"use strict";Object.defineProperty(L,"__esModule",{value:!0});var y,g=function(){function l(a,o){for(var e=0;e<o.length;e++){var u=o[e];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}return function(a,o,e){return o&&l(a.prototype,o),e&&l(a,e),a}}(),v=(y=S(2276))&&y.__esModule?y:{default:y},E=S(7899),b="http://www.w3.org/2000/svg",h=function(){function l(a,o,e){(function(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")})(this,l),this.svg=a,this.encodings=o,this.options=e,this.document=e.xmlDocument||document}return g(l,[{key:"render",value:function(){var a=this.options.marginLeft;this.prepareSVG();for(var o=0;o<this.encodings.length;o++){var e=this.encodings[o],u=(0,v.default)(this.options,e.options),c=this.createGroup(a,u.marginTop,this.svg);this.setGroupOptions(c,u),this.drawSvgBarcode(c,u,e),this.drawSVGText(c,u,e),a+=e.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,E.calculateEncodingAttributes)(this.encodings,this.options);var a=(0,E.getTotalWidthOfEncodings)(this.encodings),o=(0,E.getMaximumHeightOfEncodings)(this.encodings),e=a+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(e,o),this.options.background&&this.drawRect(0,0,e,o,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(a,o,e){var u,c=e.data;u=o.textPosition=="top"?o.fontSize+o.textMargin:0;for(var f=0,n=0,w=0;w<c.length;w++)n=w*o.width+e.barcodePadding,c[w]==="1"?f++:f>0&&(this.drawRect(n-o.width*f,u,o.width*f,o.height,a),f=0);f>0&&this.drawRect(n-o.width*(f-1),u,o.width*f,o.height,a)}},{key:"drawSVGText",value:function(a,o,e){var u,c,f=this.document.createElementNS(b,"text");o.displayValue&&(f.setAttribute("style","font:"+o.fontOptions+" "+o.fontSize+"px "+o.font),c=o.textPosition=="top"?o.fontSize-o.textMargin:o.height+o.textMargin+o.fontSize,o.textAlign=="left"||e.barcodePadding>0?(u=0,f.setAttribute("text-anchor","start")):o.textAlign=="right"?(u=e.width-1,f.setAttribute("text-anchor","end")):(u=e.width/2,f.setAttribute("text-anchor","middle")),f.setAttribute("x",u),f.setAttribute("y",c),f.appendChild(this.document.createTextNode(e.text)),a.appendChild(f))}},{key:"setSvgAttributes",value:function(a,o){var e=this.svg;e.setAttribute("width",a+"px"),e.setAttribute("height",o+"px"),e.setAttribute("x","0px"),e.setAttribute("y","0px"),e.setAttribute("viewBox","0 0 "+a+" "+o),e.setAttribute("xmlns",b),e.setAttribute("version","1.1"),e.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(a,o,e){var u=this.document.createElementNS(b,"g");return u.setAttribute("transform","translate("+a+", "+o+")"),e.appendChild(u),u}},{key:"setGroupOptions",value:function(a,o){a.setAttribute("style","fill:"+o.lineColor+";")}},{key:"drawRect",value:function(a,o,e,u,c){var f=this.document.createElementNS(b,"rect");return f.setAttribute("x",a),f.setAttribute("y",o),f.setAttribute("width",e),f.setAttribute("height",u),c.appendChild(f),f}}]),l}();L.default=h},4244:Y=>{"use strict";var L=function(S){return S!=S};Y.exports=function(S,y){return S===0&&y===0?1/S==1/y:S===y||!(!L(S)||!L(y))}},609:(Y,L,S)=>{"use strict";var y=S(4289),g=S(5559),v=S(4244),E=S(5624),b=S(2281),h=g(E(),Object);y(h,{getPolyfill:E,implementation:v,shim:b}),Y.exports=h},5624:(Y,L,S)=>{"use strict";var y=S(4244);Y.exports=function(){return typeof Object.is=="function"?Object.is:y}},2281:(Y,L,S)=>{"use strict";var y=S(5624),g=S(4289);Y.exports=function(){var v=y();return g(Object,{is:v},{is:function(){return Object.is!==v}}),v}},8987:(Y,L,S)=>{"use strict";var y;if(!Object.keys){var g=Object.prototype.hasOwnProperty,v=Object.prototype.toString,E=S(1414),b=Object.prototype.propertyIsEnumerable,h=!b.call({toString:null},"toString"),l=b.call(function(){},"prototype"),a=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=function(c){var f=c.constructor;return f&&f.prototype===c},e={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},u=function(){if(typeof window=="undefined")return!1;for(var c in window)try{if(!e["$"+c]&&g.call(window,c)&&window[c]!==null&&typeof window[c]=="object")try{o(window[c])}catch(f){return!0}}catch(f){return!0}return!1}();y=function(c){var f=c!==null&&typeof c=="object",n=v.call(c)==="[object Function]",w=E(c),I=f&&v.call(c)==="[object String]",O=[];if(!f&&!n&&!w)throw new TypeError("Object.keys called on a non-object");var T=l&&n;if(I&&c.length>0&&!g.call(c,0))for(var P=0;P<c.length;++P)O.push(String(P));if(w&&c.length>0)for(var A=0;A<c.length;++A)O.push(String(A));else for(var R in c)T&&R==="prototype"||!g.call(c,R)||O.push(String(R));if(h)for(var F=function(X){if(typeof window=="undefined"||!u)return o(X);try{return o(X)}catch(K){return!1}}(c),W=0;W<a.length;++W)F&&a[W]==="constructor"||!g.call(c,a[W])||O.push(a[W]);return O}}Y.exports=y},2215:(Y,L,S)=>{"use strict";var y=Array.prototype.slice,g=S(1414),v=Object.keys,E=v?function(h){return v(h)}:S(8987),b=Object.keys;E.shim=function(){if(Object.keys){var h=function(){var l=Object.keys(arguments);return l&&l.length===arguments.length}(1,2);h||(Object.keys=function(l){return g(l)?b(y.call(l)):b(l)})}else Object.keys=E;return Object.keys||E},Y.exports=E},1414:Y=>{"use strict";var L=Object.prototype.toString;Y.exports=function(S){var y=L.call(S),g=y==="[object Arguments]";return g||(g=y!=="[object Array]"&&S!==null&&typeof S=="object"&&typeof S.length=="number"&&S.length>=0&&L.call(S.callee)==="[object Function]"),g}},2592:(Y,L,S)=>{const y=S(7138),g=S(5115),v=S(6907),E=S(3776);function b(h,l,a,o,e){const u=[].slice.call(arguments,1),c=u.length,f=typeof u[c-1]=="function";if(!f&&!y())throw new Error("Callback required as last argument");if(!f){if(c<1)throw new Error("Too few arguments provided");return c===1?(a=l,l=o=void 0):c!==2||l.getContext||(o=a,a=l,l=void 0),new Promise(function(n,w){try{const I=g.create(a,o);n(h(I,l,o))}catch(I){w(I)}})}if(c<2)throw new Error("Too few arguments provided");c===2?(e=a,a=l,l=o=void 0):c===3&&(l.getContext&&e===void 0?(e=o,o=void 0):(e=o,o=a,a=l,l=void 0));try{const n=g.create(a,o);e(null,h(n,l,o))}catch(n){e(n)}}L.create=g.create,L.toCanvas=b.bind(null,v.render),L.toDataURL=b.bind(null,v.renderToDataURL),L.toString=b.bind(null,function(h,l,a){return E.render(h,a)})},7138:Y=>{Y.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}},1845:(Y,L,S)=>{const y=S(242).getSymbolSize;L.getRowColCoords=function(g){if(g===1)return[];const v=Math.floor(g/7)+2,E=y(g),b=E===145?26:2*Math.ceil((E-13)/(2*v-2)),h=[E-7];for(let l=1;l<v-1;l++)h[l]=h[l-1]-b;return h.push(6),h.reverse()},L.getPositions=function(g){const v=[],E=L.getRowColCoords(g),b=E.length;for(let h=0;h<b;h++)for(let l=0;l<b;l++)h===0&&l===0||h===0&&l===b-1||h===b-1&&l===0||v.push([E[h],E[l]]);return v}},8260:(Y,L,S)=>{const y=S(6910),g=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function v(E){this.mode=y.ALPHANUMERIC,this.data=E}v.getBitsLength=function(E){return 11*Math.floor(E/2)+E%2*6},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(E){let b;for(b=0;b+2<=this.data.length;b+=2){let h=45*g.indexOf(this.data[b]);h+=g.indexOf(this.data[b+1]),E.put(h,11)}this.data.length%2&&E.put(g.indexOf(this.data[b]),6)},Y.exports=v},7245:Y=>{function L(){this.buffer=[],this.length=0}L.prototype={get:function(S){const y=Math.floor(S/8);return(this.buffer[y]>>>7-S%8&1)==1},put:function(S,y){for(let g=0;g<y;g++)this.putBit((S>>>y-g-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(S){const y=Math.floor(this.length/8);this.buffer.length<=y&&this.buffer.push(0),S&&(this.buffer[y]|=128>>>this.length%8),this.length++}},Y.exports=L},3280:Y=>{function L(S){if(!S||S<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=S,this.data=new Uint8Array(S*S),this.reservedBit=new Uint8Array(S*S)}L.prototype.set=function(S,y,g,v){const E=S*this.size+y;this.data[E]=g,v&&(this.reservedBit[E]=!0)},L.prototype.get=function(S,y){return this.data[S*this.size+y]},L.prototype.xor=function(S,y,g){this.data[S*this.size+y]^=g},L.prototype.isReserved=function(S,y){return this.reservedBit[S*this.size+y]},Y.exports=L},3424:(Y,L,S)=>{const y=S(2378),g=S(6910);function v(E){this.mode=g.BYTE,this.data=new Uint8Array(y(E))}v.getBitsLength=function(E){return 8*E},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(E){for(let b=0,h=this.data.length;b<h;b++)E.put(this.data[b],8)},Y.exports=v},5393:(Y,L,S)=>{const y=S(4908),g=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],v=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];L.getBlocksCount=function(E,b){switch(b){case y.L:return g[4*(E-1)+0];case y.M:return g[4*(E-1)+1];case y.Q:return g[4*(E-1)+2];case y.H:return g[4*(E-1)+3];default:return}},L.getTotalCodewordsCount=function(E,b){switch(b){case y.L:return v[4*(E-1)+0];case y.M:return v[4*(E-1)+1];case y.Q:return v[4*(E-1)+2];case y.H:return v[4*(E-1)+3];default:return}}},4908:(Y,L)=>{L.L={bit:1},L.M={bit:0},L.Q={bit:3},L.H={bit:2},L.isValid=function(S){return S&&S.bit!==void 0&&S.bit>=0&&S.bit<4},L.from=function(S,y){if(L.isValid(S))return S;try{return function(g){if(typeof g!="string")throw new Error("Param is not a string");switch(g.toLowerCase()){case"l":case"low":return L.L;case"m":case"medium":return L.M;case"q":case"quartile":return L.Q;case"h":case"high":return L.H;default:throw new Error("Unknown EC Level: "+g)}}(S)}catch(g){return y}}},6526:(Y,L,S)=>{const y=S(242).getSymbolSize;L.getPositions=function(g){const v=y(g);return[[0,0],[v-7,0],[0,v-7]]}},1642:(Y,L,S)=>{const y=S(242),g=y.getBCHDigit(1335);L.getEncodedBits=function(v,E){const b=v.bit<<3|E;let h=b<<10;for(;y.getBCHDigit(h)-g>=0;)h^=1335<<y.getBCHDigit(h)-g;return 21522^(b<<10|h)}},9729:(Y,L)=>{const S=new Uint8Array(512),y=new Uint8Array(256);(function(){let g=1;for(let v=0;v<255;v++)S[v]=g,y[g]=v,g<<=1,256&g&&(g^=285);for(let v=255;v<512;v++)S[v]=S[v-255]})(),L.log=function(g){if(g<1)throw new Error("log("+g+")");return y[g]},L.exp=function(g){return S[g]},L.mul=function(g,v){return g===0||v===0?0:S[y[g]+y[v]]}},5442:(Y,L,S)=>{const y=S(6910),g=S(242);function v(E){this.mode=y.KANJI,this.data=E}v.getBitsLength=function(E){return 13*E},v.prototype.getLength=function(){return this.data.length},v.prototype.getBitsLength=function(){return v.getBitsLength(this.data.length)},v.prototype.write=function(E){let b;for(b=0;b<this.data.length;b++){let h=g.toSJIS(this.data[b]);if(h>=33088&&h<=40956)h-=33088;else{if(!(h>=57408&&h<=60351))throw new Error("Invalid SJIS character: "+this.data[b]+`
Make sure your charset is UTF-8`);h-=49472}h=192*(h>>>8&255)+(255&h),E.put(h,13)}},Y.exports=v},7126:(Y,L)=>{L.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function S(y,g,v){switch(y){case L.Patterns.PATTERN000:return(g+v)%2==0;case L.Patterns.PATTERN001:return g%2==0;case L.Patterns.PATTERN010:return v%3==0;case L.Patterns.PATTERN011:return(g+v)%3==0;case L.Patterns.PATTERN100:return(Math.floor(g/2)+Math.floor(v/3))%2==0;case L.Patterns.PATTERN101:return g*v%2+g*v%3==0;case L.Patterns.PATTERN110:return(g*v%2+g*v%3)%2==0;case L.Patterns.PATTERN111:return(g*v%3+(g+v)%2)%2==0;default:throw new Error("bad maskPattern:"+y)}}L.isValid=function(y){return y!=null&&y!==""&&!isNaN(y)&&y>=0&&y<=7},L.from=function(y){return L.isValid(y)?parseInt(y,10):void 0},L.getPenaltyN1=function(y){const g=y.size;let v=0,E=0,b=0,h=null,l=null;for(let a=0;a<g;a++){E=b=0,h=l=null;for(let o=0;o<g;o++){let e=y.get(a,o);e===h?E++:(E>=5&&(v+=E-5+3),h=e,E=1),e=y.get(o,a),e===l?b++:(b>=5&&(v+=b-5+3),l=e,b=1)}E>=5&&(v+=E-5+3),b>=5&&(v+=b-5+3)}return v},L.getPenaltyN2=function(y){const g=y.size;let v=0;for(let E=0;E<g-1;E++)for(let b=0;b<g-1;b++){const h=y.get(E,b)+y.get(E,b+1)+y.get(E+1,b)+y.get(E+1,b+1);h!==4&&h!==0||v++}return 3*v},L.getPenaltyN3=function(y){const g=y.size;let v=0,E=0,b=0;for(let h=0;h<g;h++){E=b=0;for(let l=0;l<g;l++)E=E<<1&2047|y.get(h,l),l>=10&&(E===1488||E===93)&&v++,b=b<<1&2047|y.get(l,h),l>=10&&(b===1488||b===93)&&v++}return 40*v},L.getPenaltyN4=function(y){let g=0;const v=y.data.length;for(let E=0;E<v;E++)g+=y.data[E];return 10*Math.abs(Math.ceil(100*g/v/5)-10)},L.applyMask=function(y,g){const v=g.size;for(let E=0;E<v;E++)for(let b=0;b<v;b++)g.isReserved(b,E)||g.xor(b,E,S(y,b,E))},L.getBestMask=function(y,g){const v=Object.keys(L.Patterns).length;let E=0,b=1/0;for(let h=0;h<v;h++){g(h),L.applyMask(h,y);const l=L.getPenaltyN1(y)+L.getPenaltyN2(y)+L.getPenaltyN3(y)+L.getPenaltyN4(y);L.applyMask(h,y),l<b&&(b=l,E=h)}return E}},6910:(Y,L,S)=>{const y=S(3114),g=S(7007);L.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},L.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},L.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},L.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},L.MIXED={bit:-1},L.getCharCountIndicator=function(v,E){if(!v.ccBits)throw new Error("Invalid mode: "+v);if(!y.isValid(E))throw new Error("Invalid version: "+E);return E>=1&&E<10?v.ccBits[0]:E<27?v.ccBits[1]:v.ccBits[2]},L.getBestModeForData=function(v){return g.testNumeric(v)?L.NUMERIC:g.testAlphanumeric(v)?L.ALPHANUMERIC:g.testKanji(v)?L.KANJI:L.BYTE},L.toString=function(v){if(v&&v.id)return v.id;throw new Error("Invalid mode")},L.isValid=function(v){return v&&v.bit&&v.ccBits},L.from=function(v,E){if(L.isValid(v))return v;try{return function(b){if(typeof b!="string")throw new Error("Param is not a string");switch(b.toLowerCase()){case"numeric":return L.NUMERIC;case"alphanumeric":return L.ALPHANUMERIC;case"kanji":return L.KANJI;case"byte":return L.BYTE;default:throw new Error("Unknown mode: "+b)}}(v)}catch(b){return E}}},1085:(Y,L,S)=>{const y=S(6910);function g(v){this.mode=y.NUMERIC,this.data=v.toString()}g.getBitsLength=function(v){return 10*Math.floor(v/3)+(v%3?v%3*3+1:0)},g.prototype.getLength=function(){return this.data.length},g.prototype.getBitsLength=function(){return g.getBitsLength(this.data.length)},g.prototype.write=function(v){let E,b,h;for(E=0;E+3<=this.data.length;E+=3)b=this.data.substr(E,3),h=parseInt(b,10),v.put(h,10);const l=this.data.length-E;l>0&&(b=this.data.substr(E),h=parseInt(b,10),v.put(h,3*l+1))},Y.exports=g},6143:(Y,L,S)=>{const y=S(9729);L.mul=function(g,v){const E=new Uint8Array(g.length+v.length-1);for(let b=0;b<g.length;b++)for(let h=0;h<v.length;h++)E[b+h]^=y.mul(g[b],v[h]);return E},L.mod=function(g,v){let E=new Uint8Array(g);for(;E.length-v.length>=0;){const b=E[0];for(let l=0;l<v.length;l++)E[l]^=y.mul(v[l],b);let h=0;for(;h<E.length&&E[h]===0;)h++;E=E.slice(h)}return E},L.generateECPolynomial=function(g){let v=new Uint8Array([1]);for(let E=0;E<g;E++)v=L.mul(v,new Uint8Array([1,y.exp(E)]));return v}},5115:(Y,L,S)=>{const y=S(242),g=S(4908),v=S(7245),E=S(3280),b=S(1845),h=S(6526),l=S(7126),a=S(5393),o=S(2882),e=S(3103),u=S(1642),c=S(6910),f=S(6130);function n(I,O,T){const P=I.size,A=u.getEncodedBits(O,T);let R,F;for(R=0;R<15;R++)F=(A>>R&1)==1,R<6?I.set(R,8,F,!0):R<8?I.set(R+1,8,F,!0):I.set(P-15+R,8,F,!0),R<8?I.set(8,P-R-1,F,!0):R<9?I.set(8,15-R-1+1,F,!0):I.set(8,15-R-1,F,!0);I.set(P-8,8,1,!0)}function w(I,O,T,P){let A;if(Array.isArray(I))A=f.fromArray(I);else{if(typeof I!="string")throw new Error("Invalid data");{let K=O;if(!K){const M=f.rawSplit(I);K=e.getBestVersionForData(M,T)}A=f.fromString(I,K||40)}}const R=e.getBestVersionForData(A,T);if(!R)throw new Error("The amount of data is too big to be stored in a QR Code");if(O){if(O<R)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+R+`.
`)}else O=R;const F=function(K,M,z){const B=new v;z.forEach(function(q){B.put(q.mode.bit,4),B.put(q.getLength(),c.getCharCountIndicator(q.mode,K)),q.write(B)});const j=8*(y.getSymbolTotalCodewords(K)-a.getTotalCodewordsCount(K,M));for(B.getLengthInBits()+4<=j&&B.put(0,4);B.getLengthInBits()%8!=0;)B.putBit(0);const V=(j-B.getLengthInBits())/8;for(let q=0;q<V;q++)B.put(q%2?17:236,8);return function(q,D,U){const ie=y.getSymbolTotalCodewords(D),re=ie-a.getTotalCodewordsCount(D,U),ue=a.getBlocksCount(D,U),ae=ue-ie%ue,Z=Math.floor(ie/ue),$=Math.floor(re/ue),ce=$+1,fe=Z-$,we=new o(fe);let le=0;const Se=new Array(ue),je=new Array(ue);let Ne=0;const Be=new Uint8Array(q.buffer);for(let $e=0;$e<ue;$e++){const ne=$e<ae?$:ce;Se[$e]=Be.slice(le,le+ne),je[$e]=we.encode(Se[$e]),le+=ne,Ne=Math.max(Ne,ne)}const Me=new Uint8Array(ie);let Re,Le,qe=0;for(Re=0;Re<Ne;Re++)for(Le=0;Le<ue;Le++)Re<Se[Le].length&&(Me[qe++]=Se[Le][Re]);for(Re=0;Re<fe;Re++)for(Le=0;Le<ue;Le++)Me[qe++]=je[Le][Re];return Me}(B,K,M)}(O,T,A),W=y.getSymbolSize(O),X=new E(W);return function(K,M){const z=K.size,B=h.getPositions(M);for(let j=0;j<B.length;j++){const V=B[j][0],q=B[j][1];for(let D=-1;D<=7;D++)if(!(V+D<=-1||z<=V+D))for(let U=-1;U<=7;U++)q+U<=-1||z<=q+U||(D>=0&&D<=6&&(U===0||U===6)||U>=0&&U<=6&&(D===0||D===6)||D>=2&&D<=4&&U>=2&&U<=4?K.set(V+D,q+U,!0,!0):K.set(V+D,q+U,!1,!0))}}(X,O),function(K){const M=K.size;for(let z=8;z<M-8;z++){const B=z%2==0;K.set(z,6,B,!0),K.set(6,z,B,!0)}}(X),function(K,M){const z=b.getPositions(M);for(let B=0;B<z.length;B++){const j=z[B][0],V=z[B][1];for(let q=-2;q<=2;q++)for(let D=-2;D<=2;D++)q===-2||q===2||D===-2||D===2||q===0&&D===0?K.set(j+q,V+D,!0,!0):K.set(j+q,V+D,!1,!0)}}(X,O),n(X,T,0),O>=7&&function(K,M){const z=K.size,B=e.getEncodedBits(M);let j,V,q;for(let D=0;D<18;D++)j=Math.floor(D/3),V=D%3+z-8-3,q=(B>>D&1)==1,K.set(j,V,q,!0),K.set(V,j,q,!0)}(X,O),function(K,M){const z=K.size;let B=-1,j=z-1,V=7,q=0;for(let D=z-1;D>0;D-=2)for(D===6&&D--;;){for(let U=0;U<2;U++)if(!K.isReserved(j,D-U)){let ie=!1;q<M.length&&(ie=(M[q]>>>V&1)==1),K.set(j,D-U,ie),V--,V===-1&&(q++,V=7)}if(j+=B,j<0||z<=j){j-=B,B=-B;break}}}(X,F),isNaN(P)&&(P=l.getBestMask(X,n.bind(null,X,T))),l.applyMask(P,X),n(X,T,P),{modules:X,version:O,errorCorrectionLevel:T,maskPattern:P,segments:A}}L.create=function(I,O){if(I===void 0||I==="")throw new Error("No input text");let T,P,A=g.M;return O!==void 0&&(A=g.from(O.errorCorrectionLevel,g.M),T=e.from(O.version),P=l.from(O.maskPattern),O.toSJISFunc&&y.setToSJISFunction(O.toSJISFunc)),w(I,T,A,P)}},2882:(Y,L,S)=>{const y=S(6143);function g(v){this.genPoly=void 0,this.degree=v,this.degree&&this.initialize(this.degree)}g.prototype.initialize=function(v){this.degree=v,this.genPoly=y.generateECPolynomial(this.degree)},g.prototype.encode=function(v){if(!this.genPoly)throw new Error("Encoder not initialized");const E=new Uint8Array(v.length+this.degree);E.set(v);const b=y.mod(E,this.genPoly),h=this.degree-b.length;if(h>0){const l=new Uint8Array(this.degree);return l.set(b,h),l}return b},Y.exports=g},7007:(Y,L)=>{let S="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";S=S.replace(/u/g,"\\u");const y="(?:(?![A-Z0-9 $%*+\\-./:]|"+S+`)(?:.|[\r
]))+`;L.KANJI=new RegExp(S,"g"),L.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),L.BYTE=new RegExp(y,"g"),L.NUMERIC=new RegExp("[0-9]+","g"),L.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const g=new RegExp("^"+S+"$"),v=new RegExp("^[0-9]+$"),E=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");L.testKanji=function(b){return g.test(b)},L.testNumeric=function(b){return v.test(b)},L.testAlphanumeric=function(b){return E.test(b)}},6130:(Y,L,S)=>{const y=S(6910),g=S(1085),v=S(8260),E=S(3424),b=S(5442),h=S(7007),l=S(242),a=S(5987);function o(n){return unescape(encodeURIComponent(n)).length}function e(n,w,I){const O=[];let T;for(;(T=n.exec(I))!==null;)O.push({data:T[0],index:T.index,mode:w,length:T[0].length});return O}function u(n){const w=e(h.NUMERIC,y.NUMERIC,n),I=e(h.ALPHANUMERIC,y.ALPHANUMERIC,n);let O,T;return l.isKanjiModeEnabled()?(O=e(h.BYTE,y.BYTE,n),T=e(h.KANJI,y.KANJI,n)):(O=e(h.BYTE_KANJI,y.BYTE,n),T=[]),w.concat(I,O,T).sort(function(P,A){return P.index-A.index}).map(function(P){return{data:P.data,mode:P.mode,length:P.length}})}function c(n,w){switch(w){case y.NUMERIC:return g.getBitsLength(n);case y.ALPHANUMERIC:return v.getBitsLength(n);case y.KANJI:return b.getBitsLength(n);case y.BYTE:return E.getBitsLength(n)}}function f(n,w){let I;const O=y.getBestModeForData(n);if(I=y.from(w,O),I!==y.BYTE&&I.bit<O.bit)throw new Error('"'+n+'" cannot be encoded with mode '+y.toString(I)+`.
 Suggested mode is: `+y.toString(O));switch(I!==y.KANJI||l.isKanjiModeEnabled()||(I=y.BYTE),I){case y.NUMERIC:return new g(n);case y.ALPHANUMERIC:return new v(n);case y.KANJI:return new b(n);case y.BYTE:return new E(n)}}L.fromArray=function(n){return n.reduce(function(w,I){return typeof I=="string"?w.push(f(I,null)):I.data&&w.push(f(I.data,I.mode)),w},[])},L.fromString=function(n,w){const I=function(A){const R=[];for(let F=0;F<A.length;F++){const W=A[F];switch(W.mode){case y.NUMERIC:R.push([W,{data:W.data,mode:y.ALPHANUMERIC,length:W.length},{data:W.data,mode:y.BYTE,length:W.length}]);break;case y.ALPHANUMERIC:R.push([W,{data:W.data,mode:y.BYTE,length:W.length}]);break;case y.KANJI:R.push([W,{data:W.data,mode:y.BYTE,length:o(W.data)}]);break;case y.BYTE:R.push([{data:W.data,mode:y.BYTE,length:o(W.data)}])}}return R}(u(n,l.isKanjiModeEnabled())),O=function(A,R){const F={},W={start:{}};let X=["start"];for(let K=0;K<A.length;K++){const M=A[K],z=[];for(let B=0;B<M.length;B++){const j=M[B],V=""+K+B;z.push(V),F[V]={node:j,lastCount:0},W[V]={};for(let q=0;q<X.length;q++){const D=X[q];F[D]&&F[D].node.mode===j.mode?(W[D][V]=c(F[D].lastCount+j.length,j.mode)-c(F[D].lastCount,j.mode),F[D].lastCount+=j.length):(F[D]&&(F[D].lastCount=j.length),W[D][V]=c(j.length,j.mode)+4+y.getCharCountIndicator(j.mode,R))}}X=z}for(let K=0;K<X.length;K++)W[X[K]].end=0;return{map:W,table:F}}(I,w),T=a.find_path(O.map,"start","end"),P=[];for(let A=1;A<T.length-1;A++)P.push(O.table[T[A]].node);return L.fromArray(P.reduce(function(A,R){const F=A.length-1>=0?A[A.length-1]:null;return F&&F.mode===R.mode?(A[A.length-1].data+=R.data,A):(A.push(R),A)},[]))},L.rawSplit=function(n){return L.fromArray(u(n,l.isKanjiModeEnabled()))}},242:(Y,L)=>{let S;const y=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];L.getSymbolSize=function(g){if(!g)throw new Error('"version" cannot be null or undefined');if(g<1||g>40)throw new Error('"version" should be in range from 1 to 40');return 4*g+17},L.getSymbolTotalCodewords=function(g){return y[g]},L.getBCHDigit=function(g){let v=0;for(;g!==0;)v++,g>>>=1;return v},L.setToSJISFunction=function(g){if(typeof g!="function")throw new Error('"toSJISFunc" is not a valid function.');S=g},L.isKanjiModeEnabled=function(){return S!==void 0},L.toSJIS=function(g){return S(g)}},3114:(Y,L)=>{L.isValid=function(S){return!isNaN(S)&&S>=1&&S<=40}},3103:(Y,L,S)=>{const y=S(242),g=S(5393),v=S(4908),E=S(6910),b=S(3114),h=y.getBCHDigit(7973);function l(o,e){return E.getCharCountIndicator(o,e)+4}function a(o,e){let u=0;return o.forEach(function(c){const f=l(c.mode,e);u+=f+c.getBitsLength()}),u}L.from=function(o,e){return b.isValid(o)?parseInt(o,10):e},L.getCapacity=function(o,e,u){if(!b.isValid(o))throw new Error("Invalid QR Code version");u===void 0&&(u=E.BYTE);const c=8*(y.getSymbolTotalCodewords(o)-g.getTotalCodewordsCount(o,e));if(u===E.MIXED)return c;const f=c-l(u,o);switch(u){case E.NUMERIC:return Math.floor(f/10*3);case E.ALPHANUMERIC:return Math.floor(f/11*2);case E.KANJI:return Math.floor(f/13);case E.BYTE:default:return Math.floor(f/8)}},L.getBestVersionForData=function(o,e){let u;const c=v.from(e,v.M);if(Array.isArray(o)){if(o.length>1)return function(f,n){for(let w=1;w<=40;w++)if(a(f,w)<=L.getCapacity(w,n,E.MIXED))return w}(o,c);if(o.length===0)return 1;u=o[0]}else u=o;return function(f,n,w){for(let I=1;I<=40;I++)if(n<=L.getCapacity(I,w,f))return I}(u.mode,u.getLength(),c)},L.getEncodedBits=function(o){if(!b.isValid(o)||o<7)throw new Error("Invalid QR Code version");let e=o<<12;for(;y.getBCHDigit(e)-h>=0;)e^=7973<<y.getBCHDigit(e)-h;return o<<12|e}},6907:(Y,L,S)=>{const y=S(9653);L.render=function(g,v,E){let b=E,h=v;b!==void 0||v&&v.getContext||(b=v,v=void 0),v||(h=function(){try{return document.createElement("canvas")}catch(e){throw new Error("You need to specify a canvas element")}}()),b=y.getOptions(b);const l=y.getImageWidth(g.modules.size,b),a=h.getContext("2d"),o=a.createImageData(l,l);return y.qrToImageData(o.data,g,b),function(e,u,c){e.clearRect(0,0,u.width,u.height),u.style||(u.style={}),u.height=c,u.width=c,u.style.height=c+"px",u.style.width=c+"px"}(a,h,l),a.putImageData(o,0,0),h},L.renderToDataURL=function(g,v,E){let b=E;b!==void 0||v&&v.getContext||(b=v,v=void 0),b||(b={});const h=L.render(g,v,b),l=b.type||"image/png",a=b.rendererOpts||{};return h.toDataURL(l,a.quality)}},3776:(Y,L,S)=>{const y=S(9653);function g(E,b){const h=E.a/255,l=b+'="'+E.hex+'"';return h<1?l+" "+b+'-opacity="'+h.toFixed(2).slice(1)+'"':l}function v(E,b,h){let l=E+b;return h!==void 0&&(l+=" "+h),l}L.render=function(E,b,h){const l=y.getOptions(b),a=E.modules.size,o=E.modules.data,e=a+2*l.margin,u=l.color.light.a?"<path "+g(l.color.light,"fill")+' d="M0 0h'+e+"v"+e+'H0z"/>':"",c="<path "+g(l.color.dark,"stroke")+' d="'+function(w,I,O){let T="",P=0,A=!1,R=0;for(let F=0;F<w.length;F++){const W=Math.floor(F%I),X=Math.floor(F/I);W||A||(A=!0),w[F]?(R++,F>0&&W>0&&w[F-1]||(T+=A?v("M",W+O,.5+X+O):v("m",P,0),P=0,A=!1),W+1<I&&w[F+1]||(T+=v("h",R),R=0)):P++}return T}(o,a,l.margin)+'"/>',f='viewBox="0 0 '+e+" "+e+'"',n='<svg xmlns="http://www.w3.org/2000/svg" '+(l.width?'width="'+l.width+'" height="'+l.width+'" ':"")+f+' shape-rendering="crispEdges">'+u+c+`</svg>
`;return typeof h=="function"&&h(null,n),n}},9653:(Y,L)=>{function S(y){if(typeof y=="number"&&(y=y.toString()),typeof y!="string")throw new Error("Color should be defined as hex string");let g=y.slice().replace("#","").split("");if(g.length<3||g.length===5||g.length>8)throw new Error("Invalid hex color: "+y);g.length!==3&&g.length!==4||(g=Array.prototype.concat.apply([],g.map(function(E){return[E,E]}))),g.length===6&&g.push("F","F");const v=parseInt(g.join(""),16);return{r:v>>24&255,g:v>>16&255,b:v>>8&255,a:255&v,hex:"#"+g.slice(0,6).join("")}}L.getOptions=function(y){y||(y={}),y.color||(y.color={});const g=y.margin===void 0||y.margin===null||y.margin<0?4:y.margin,v=y.width&&y.width>=21?y.width:void 0,E=y.scale||4;return{width:v,scale:v?4:E,margin:g,color:{dark:S(y.color.dark||"#000000ff"),light:S(y.color.light||"#ffffffff")},type:y.type,rendererOpts:y.rendererOpts||{}}},L.getScale=function(y,g){return g.width&&g.width>=y+2*g.margin?g.width/(y+2*g.margin):g.scale},L.getImageWidth=function(y,g){const v=L.getScale(y,g);return Math.floor((y+2*g.margin)*v)},L.qrToImageData=function(y,g,v){const E=g.modules.size,b=g.modules.data,h=L.getScale(E,v),l=Math.floor((E+2*v.margin)*h),a=v.margin*h,o=[v.color.light,v.color.dark];for(let e=0;e<l;e++)for(let u=0;u<l;u++){let c=4*(e*l+u),f=v.color.light;e>=a&&u>=a&&e<l-a&&u<l-a&&(f=o[b[Math.floor((e-a)/h)*E+Math.floor((u-a)/h)]?1:0]),y[c++]=f.r,y[c++]=f.g,y[c++]=f.b,y[c]=f.a}}},4175:(Y,L,S)=>{var y=S(7529),g=S(251),v=S(4470),E=S(4644),b=String.fromCharCode(0),h=function(l){Array.isArray(l)?this.ops=l:l!=null&&Array.isArray(l.ops)?this.ops=l.ops:this.ops=[]};h.prototype.insert=function(l,a){var o={};return l.length===0?this:(o.insert=l,a!=null&&typeof a=="object"&&Object.keys(a).length>0&&(o.attributes=a),this.push(o))},h.prototype.delete=function(l){return l<=0?this:this.push({delete:l})},h.prototype.retain=function(l,a){if(l<=0)return this;var o={retain:l};return a!=null&&typeof a=="object"&&Object.keys(a).length>0&&(o.attributes=a),this.push(o)},h.prototype.push=function(l){var a=this.ops.length,o=this.ops[a-1];if(l=v(!0,{},l),typeof o=="object"){if(typeof l.delete=="number"&&typeof o.delete=="number")return this.ops[a-1]={delete:o.delete+l.delete},this;if(typeof o.delete=="number"&&l.insert!=null&&(a-=1,typeof(o=this.ops[a-1])!="object"))return this.ops.unshift(l),this;if(g(l.attributes,o.attributes)){if(typeof l.insert=="string"&&typeof o.insert=="string")return this.ops[a-1]={insert:o.insert+l.insert},typeof l.attributes=="object"&&(this.ops[a-1].attributes=l.attributes),this;if(typeof l.retain=="number"&&typeof o.retain=="number")return this.ops[a-1]={retain:o.retain+l.retain},typeof l.attributes=="object"&&(this.ops[a-1].attributes=l.attributes),this}}return a===this.ops.length?this.ops.push(l):this.ops.splice(a,0,l),this},h.prototype.chop=function(){var l=this.ops[this.ops.length-1];return l&&l.retain&&!l.attributes&&this.ops.pop(),this},h.prototype.filter=function(l){return this.ops.filter(l)},h.prototype.forEach=function(l){this.ops.forEach(l)},h.prototype.map=function(l){return this.ops.map(l)},h.prototype.partition=function(l){var a=[],o=[];return this.forEach(function(e){(l(e)?a:o).push(e)}),[a,o]},h.prototype.reduce=function(l,a){return this.ops.reduce(l,a)},h.prototype.changeLength=function(){return this.reduce(function(l,a){return a.insert?l+E.length(a):a.delete?l-a.delete:l},0)},h.prototype.length=function(){return this.reduce(function(l,a){return l+E.length(a)},0)},h.prototype.slice=function(l,a){l=l||0,typeof a!="number"&&(a=1/0);for(var o=[],e=E.iterator(this.ops),u=0;u<a&&e.hasNext();){var c;u<l?c=e.next(l-u):(c=e.next(a-u),o.push(c)),u+=E.length(c)}return new h(o)},h.prototype.compose=function(l){var a=E.iterator(this.ops),o=E.iterator(l.ops),e=[],u=o.peek();if(u!=null&&typeof u.retain=="number"&&u.attributes==null){for(var c=u.retain;a.peekType()==="insert"&&a.peekLength()<=c;)c-=a.peekLength(),e.push(a.next());u.retain-c>0&&o.next(u.retain-c)}for(var f=new h(e);a.hasNext()||o.hasNext();)if(o.peekType()==="insert")f.push(o.next());else if(a.peekType()==="delete")f.push(a.next());else{var n=Math.min(a.peekLength(),o.peekLength()),w=a.next(n),I=o.next(n);if(typeof I.retain=="number"){var O={};typeof w.retain=="number"?O.retain=n:O.insert=w.insert;var T=E.attributes.compose(w.attributes,I.attributes,typeof w.retain=="number");if(T&&(O.attributes=T),f.push(O),!o.hasNext()&&g(f.ops[f.ops.length-1],O)){var P=new h(a.rest());return f.concat(P).chop()}}else typeof I.delete=="number"&&typeof w.retain=="number"&&f.push(I)}return f.chop()},h.prototype.concat=function(l){var a=new h(this.ops.slice());return l.ops.length>0&&(a.push(l.ops[0]),a.ops=a.ops.concat(l.ops.slice(1))),a},h.prototype.diff=function(l,a){if(this.ops===l.ops)return new h;var o=[this,l].map(function(n){return n.map(function(w){if(w.insert!=null)return typeof w.insert=="string"?w.insert:b;throw new Error("diff() called "+(n===l?"on":"with")+" non-document")}).join("")}),e=new h,u=y(o[0],o[1],a),c=E.iterator(this.ops),f=E.iterator(l.ops);return u.forEach(function(n){for(var w=n[1].length;w>0;){var I=0;switch(n[0]){case y.INSERT:I=Math.min(f.peekLength(),w),e.push(f.next(I));break;case y.DELETE:I=Math.min(w,c.peekLength()),c.next(I),e.delete(I);break;case y.EQUAL:I=Math.min(c.peekLength(),f.peekLength(),w);var O=c.next(I),T=f.next(I);g(O.insert,T.insert)?e.retain(I,E.attributes.diff(O.attributes,T.attributes)):e.push(T).delete(I)}w-=I}}),e.chop()},h.prototype.eachLine=function(l,a){a=a||`
`;for(var o=E.iterator(this.ops),e=new h,u=0;o.hasNext();){if(o.peekType()!=="insert")return;var c=o.peek(),f=E.length(c)-o.peekLength(),n=typeof c.insert=="string"?c.insert.indexOf(a,f)-f:-1;if(n<0)e.push(o.next());else if(n>0)e.push(o.next(n));else{if(l(e,o.next(1).attributes||{},u)===!1)return;u+=1,e=new h}}e.length()>0&&l(e,{},u)},h.prototype.transform=function(l,a){if(a=!!a,typeof l=="number")return this.transformPosition(l,a);for(var o=E.iterator(this.ops),e=E.iterator(l.ops),u=new h;o.hasNext()||e.hasNext();)if(o.peekType()!=="insert"||!a&&e.peekType()==="insert")if(e.peekType()==="insert")u.push(e.next());else{var c=Math.min(o.peekLength(),e.peekLength()),f=o.next(c),n=e.next(c);if(f.delete)continue;n.delete?u.push(n):u.retain(c,E.attributes.transform(f.attributes,n.attributes,a))}else u.retain(E.length(o.next()));return u.chop()},h.prototype.transformPosition=function(l,a){a=!!a;for(var o=E.iterator(this.ops),e=0;o.hasNext()&&e<=l;){var u=o.peekLength(),c=o.peekType();o.next(),c!=="delete"?(c==="insert"&&(e<l||!a)&&(l+=u),e+=u):l-=Math.min(u,l-e)}return l},Y.exports=h},4644:(Y,L,S)=>{var y=S(251),g=S(4470),v={attributes:{compose:function(b,h,l){typeof b!="object"&&(b={}),typeof h!="object"&&(h={});var a=g(!0,{},h);for(var o in l||(a=Object.keys(a).reduce(function(e,u){return a[u]!=null&&(e[u]=a[u]),e},{})),b)b[o]!==void 0&&h[o]===void 0&&(a[o]=b[o]);return Object.keys(a).length>0?a:void 0},diff:function(b,h){typeof b!="object"&&(b={}),typeof h!="object"&&(h={});var l=Object.keys(b).concat(Object.keys(h)).reduce(function(a,o){return y(b[o],h[o])||(a[o]=h[o]===void 0?null:h[o]),a},{});return Object.keys(l).length>0?l:void 0},transform:function(b,h,l){if(typeof b!="object")return h;if(typeof h=="object"){if(!l)return h;var a=Object.keys(h).reduce(function(o,e){return b[e]===void 0&&(o[e]=h[e]),o},{});return Object.keys(a).length>0?a:void 0}}},iterator:function(b){return new E(b)},length:function(b){return typeof b.delete=="number"?b.delete:typeof b.retain=="number"?b.retain:typeof b.insert=="string"?b.insert.length:1}};function E(b){this.ops=b,this.index=0,this.offset=0}E.prototype.hasNext=function(){return this.peekLength()<1/0},E.prototype.next=function(b){b||(b=1/0);var h=this.ops[this.index];if(h){var l=this.offset,a=v.length(h);if(b>=a-l?(b=a-l,this.index+=1,this.offset=0):this.offset+=b,typeof h.delete=="number")return{delete:b};var o={};return h.attributes&&(o.attributes=h.attributes),typeof h.retain=="number"?o.retain=b:typeof h.insert=="string"?o.insert=h.insert.substr(l,b):o.insert=h.insert,o}return{retain:1/0}},E.prototype.peek=function(){return this.ops[this.index]},E.prototype.peekLength=function(){return this.ops[this.index]?v.length(this.ops[this.index])-this.offset:1/0},E.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},E.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var b=this.offset,h=this.index,l=this.next(),a=this.ops.slice(this.index);return this.offset=b,this.index=h,[l].concat(a)}return[]},Y.exports=v},6095:function(Y){var L;L=function(){return function(S){var y={};function g(v){if(y[v])return y[v].exports;var E=y[v]={i:v,l:!1,exports:{}};return S[v].call(E.exports,E,E.exports,g),E.l=!0,E.exports}return g.m=S,g.c=y,g.d=function(v,E,b){g.o(v,E)||Object.defineProperty(v,E,{configurable:!1,enumerable:!0,get:b})},g.n=function(v){var E=v&&v.__esModule?function(){return v.default}:function(){return v};return g.d(E,"a",E),E},g.o=function(v,E){return Object.prototype.hasOwnProperty.call(v,E)},g.p="",g(g.s=109)}([function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=g(17),E=g(18),b=g(19),h=g(45),l=g(46),a=g(47),o=g(48),e=g(49),u=g(12),c=g(32),f=g(33),n=g(31),w=g(1),I={Scope:w.Scope,create:w.create,find:w.find,query:w.query,register:w.register,Container:v.default,Format:E.default,Leaf:b.default,Embed:o.default,Scroll:h.default,Block:a.default,Inline:l.default,Text:e.default,Attributor:{Attribute:u.default,Class:c.default,Style:f.default,Store:n.default}};y.default=I},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(c,f){c.__proto__=f}||function(c,f){for(var n in f)f.hasOwnProperty(n)&&(c[n]=f[n])},function(c,f){function n(){this.constructor=c}v(c,f),c.prototype=f===null?Object.create(f):(n.prototype=f.prototype,new n)});Object.defineProperty(y,"__esModule",{value:!0});var b=function(c){function f(n){var w=this;return n="[Parchment] "+n,(w=c.call(this,n)||this).message=n,w.name=w.constructor.name,w}return E(f,c),f}(Error);y.ParchmentError=b;var h,l={},a={},o={},e={};function u(c,f){var n;if(f===void 0&&(f=h.ANY),typeof c=="string")n=e[c]||l[c];else if(c instanceof Text||c.nodeType===Node.TEXT_NODE)n=e.text;else if(typeof c=="number")c&h.LEVEL&h.BLOCK?n=e.block:c&h.LEVEL&h.INLINE&&(n=e.inline);else if(c instanceof HTMLElement){var w=(c.getAttribute("class")||"").split(/\s+/);for(var I in w)if(n=a[w[I]])break;n=n||o[c.tagName]}return n==null?null:f&h.LEVEL&n.scope&&f&h.TYPE&n.scope?n:null}y.DATA_KEY="__blot",function(c){c[c.TYPE=3]="TYPE",c[c.LEVEL=12]="LEVEL",c[c.ATTRIBUTE=13]="ATTRIBUTE",c[c.BLOT=14]="BLOT",c[c.INLINE=7]="INLINE",c[c.BLOCK=11]="BLOCK",c[c.BLOCK_BLOT=10]="BLOCK_BLOT",c[c.INLINE_BLOT=6]="INLINE_BLOT",c[c.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",c[c.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",c[c.ANY=15]="ANY"}(h=y.Scope||(y.Scope={})),y.create=function(c,f){var n=u(c);if(n==null)throw new b("Unable to create "+c+" blot");var w=n,I=c instanceof Node||c.nodeType===Node.TEXT_NODE?c:w.create(f);return new w(I,f)},y.find=function c(f,n){return n===void 0&&(n=!1),f==null?null:f[y.DATA_KEY]!=null?f[y.DATA_KEY].blot:n?c(f.parentNode,n):null},y.query=u,y.register=function c(){for(var f=[],n=0;n<arguments.length;n++)f[n]=arguments[n];if(f.length>1)return f.map(function(O){return c(O)});var w=f[0];if(typeof w.blotName!="string"&&typeof w.attrName!="string")throw new b("Invalid definition");if(w.blotName==="abstract")throw new b("Cannot register abstract class");if(e[w.blotName||w.attrName]=w,typeof w.keyName=="string")l[w.keyName]=w;else if(w.className!=null&&(a[w.className]=w),w.tagName!=null){Array.isArray(w.tagName)?w.tagName=w.tagName.map(function(O){return O.toUpperCase()}):w.tagName=w.tagName.toUpperCase();var I=Array.isArray(w.tagName)?w.tagName:[w.tagName];I.forEach(function(O){o[O]!=null&&w.className!=null||(o[O]=w)})}return w}},function(S,y,g){var v=g(51),E=g(11),b=g(3),h=g(20),l=String.fromCharCode(0),a=function(o){Array.isArray(o)?this.ops=o:o!=null&&Array.isArray(o.ops)?this.ops=o.ops:this.ops=[]};a.prototype.insert=function(o,e){var u={};return o.length===0?this:(u.insert=o,e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(u.attributes=e),this.push(u))},a.prototype.delete=function(o){return o<=0?this:this.push({delete:o})},a.prototype.retain=function(o,e){if(o<=0)return this;var u={retain:o};return e!=null&&typeof e=="object"&&Object.keys(e).length>0&&(u.attributes=e),this.push(u)},a.prototype.push=function(o){var e=this.ops.length,u=this.ops[e-1];if(o=b(!0,{},o),typeof u=="object"){if(typeof o.delete=="number"&&typeof u.delete=="number")return this.ops[e-1]={delete:u.delete+o.delete},this;if(typeof u.delete=="number"&&o.insert!=null&&(e-=1,typeof(u=this.ops[e-1])!="object"))return this.ops.unshift(o),this;if(E(o.attributes,u.attributes)){if(typeof o.insert=="string"&&typeof u.insert=="string")return this.ops[e-1]={insert:u.insert+o.insert},typeof o.attributes=="object"&&(this.ops[e-1].attributes=o.attributes),this;if(typeof o.retain=="number"&&typeof u.retain=="number")return this.ops[e-1]={retain:u.retain+o.retain},typeof o.attributes=="object"&&(this.ops[e-1].attributes=o.attributes),this}}return e===this.ops.length?this.ops.push(o):this.ops.splice(e,0,o),this},a.prototype.chop=function(){var o=this.ops[this.ops.length-1];return o&&o.retain&&!o.attributes&&this.ops.pop(),this},a.prototype.filter=function(o){return this.ops.filter(o)},a.prototype.forEach=function(o){this.ops.forEach(o)},a.prototype.map=function(o){return this.ops.map(o)},a.prototype.partition=function(o){var e=[],u=[];return this.forEach(function(c){(o(c)?e:u).push(c)}),[e,u]},a.prototype.reduce=function(o,e){return this.ops.reduce(o,e)},a.prototype.changeLength=function(){return this.reduce(function(o,e){return e.insert?o+h.length(e):e.delete?o-e.delete:o},0)},a.prototype.length=function(){return this.reduce(function(o,e){return o+h.length(e)},0)},a.prototype.slice=function(o,e){o=o||0,typeof e!="number"&&(e=1/0);for(var u=[],c=h.iterator(this.ops),f=0;f<e&&c.hasNext();){var n;f<o?n=c.next(o-f):(n=c.next(e-f),u.push(n)),f+=h.length(n)}return new a(u)},a.prototype.compose=function(o){var e=h.iterator(this.ops),u=h.iterator(o.ops),c=[],f=u.peek();if(f!=null&&typeof f.retain=="number"&&f.attributes==null){for(var n=f.retain;e.peekType()==="insert"&&e.peekLength()<=n;)n-=e.peekLength(),c.push(e.next());f.retain-n>0&&u.next(f.retain-n)}for(var w=new a(c);e.hasNext()||u.hasNext();)if(u.peekType()==="insert")w.push(u.next());else if(e.peekType()==="delete")w.push(e.next());else{var I=Math.min(e.peekLength(),u.peekLength()),O=e.next(I),T=u.next(I);if(typeof T.retain=="number"){var P={};typeof O.retain=="number"?P.retain=I:P.insert=O.insert;var A=h.attributes.compose(O.attributes,T.attributes,typeof O.retain=="number");if(A&&(P.attributes=A),w.push(P),!u.hasNext()&&E(w.ops[w.ops.length-1],P)){var R=new a(e.rest());return w.concat(R).chop()}}else typeof T.delete=="number"&&typeof O.retain=="number"&&w.push(T)}return w.chop()},a.prototype.concat=function(o){var e=new a(this.ops.slice());return o.ops.length>0&&(e.push(o.ops[0]),e.ops=e.ops.concat(o.ops.slice(1))),e},a.prototype.diff=function(o,e){if(this.ops===o.ops)return new a;var u=[this,o].map(function(I){return I.map(function(O){if(O.insert!=null)return typeof O.insert=="string"?O.insert:l;throw new Error("diff() called "+(I===o?"on":"with")+" non-document")}).join("")}),c=new a,f=v(u[0],u[1],e),n=h.iterator(this.ops),w=h.iterator(o.ops);return f.forEach(function(I){for(var O=I[1].length;O>0;){var T=0;switch(I[0]){case v.INSERT:T=Math.min(w.peekLength(),O),c.push(w.next(T));break;case v.DELETE:T=Math.min(O,n.peekLength()),n.next(T),c.delete(T);break;case v.EQUAL:T=Math.min(n.peekLength(),w.peekLength(),O);var P=n.next(T),A=w.next(T);E(P.insert,A.insert)?c.retain(T,h.attributes.diff(P.attributes,A.attributes)):c.push(A).delete(T)}O-=T}}),c.chop()},a.prototype.eachLine=function(o,e){e=e||`
`;for(var u=h.iterator(this.ops),c=new a,f=0;u.hasNext();){if(u.peekType()!=="insert")return;var n=u.peek(),w=h.length(n)-u.peekLength(),I=typeof n.insert=="string"?n.insert.indexOf(e,w)-w:-1;if(I<0)c.push(u.next());else if(I>0)c.push(u.next(I));else{if(o(c,u.next(1).attributes||{},f)===!1)return;f+=1,c=new a}}c.length()>0&&o(c,{},f)},a.prototype.transform=function(o,e){if(e=!!e,typeof o=="number")return this.transformPosition(o,e);for(var u=h.iterator(this.ops),c=h.iterator(o.ops),f=new a;u.hasNext()||c.hasNext();)if(u.peekType()!=="insert"||!e&&c.peekType()==="insert")if(c.peekType()==="insert")f.push(c.next());else{var n=Math.min(u.peekLength(),c.peekLength()),w=u.next(n),I=c.next(n);if(w.delete)continue;I.delete?f.push(I):f.retain(n,h.attributes.transform(w.attributes,I.attributes,e))}else f.retain(h.length(u.next()));return f.chop()},a.prototype.transformPosition=function(o,e){e=!!e;for(var u=h.iterator(this.ops),c=0;u.hasNext()&&c<=o;){var f=u.peekLength(),n=u.peekType();u.next(),n!=="delete"?(n==="insert"&&(c<o||!e)&&(o+=f),c+=f):o-=Math.min(f,o-c)}return o},S.exports=a},function(S,y){"use strict";var g=Object.prototype.hasOwnProperty,v=Object.prototype.toString,E=Object.defineProperty,b=Object.getOwnPropertyDescriptor,h=function(e){return typeof Array.isArray=="function"?Array.isArray(e):v.call(e)==="[object Array]"},l=function(e){if(!e||v.call(e)!=="[object Object]")return!1;var u,c=g.call(e,"constructor"),f=e.constructor&&e.constructor.prototype&&g.call(e.constructor.prototype,"isPrototypeOf");if(e.constructor&&!c&&!f)return!1;for(u in e);return u===void 0||g.call(e,u)},a=function(e,u){E&&u.name==="__proto__"?E(e,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):e[u.name]=u.newValue},o=function(e,u){if(u==="__proto__"){if(!g.call(e,u))return;if(b)return b(e,u).value}return e[u]};S.exports=function e(){var u,c,f,n,w,I,O=arguments[0],T=1,P=arguments.length,A=!1;for(typeof O=="boolean"&&(A=O,O=arguments[1]||{},T=2),(O==null||typeof O!="object"&&typeof O!="function")&&(O={});T<P;++T)if((u=arguments[T])!=null)for(c in u)f=o(O,c),O!==(n=o(u,c))&&(A&&n&&(l(n)||(w=h(n)))?(w?(w=!1,I=f&&h(f)?f:[]):I=f&&l(f)?f:{},a(O,{name:c,newValue:e(A,I,n)})):n!==void 0&&a(O,{name:c,newValue:n}));return O}},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.BlockEmbed=y.bubbleFormats=void 0;var v=function(){function T(P,A){for(var R=0;R<A.length;R++){var F=A[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,A,R){return A&&T(P.prototype,A),R&&T(P,R),P}}(),E=function T(P,A,R){P===null&&(P=Function.prototype);var F=Object.getOwnPropertyDescriptor(P,A);if(F===void 0){var W=Object.getPrototypeOf(P);return W===null?void 0:T(W,A,R)}if("value"in F)return F.value;var X=F.get;return X!==void 0?X.call(R):void 0},b=u(g(3)),h=u(g(2)),l=u(g(0)),a=u(g(16)),o=u(g(6)),e=u(g(7));function u(T){return T&&T.__esModule?T:{default:T}}function c(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function f(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?T:P}function n(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}var w=function(T){function P(){return c(this,P),f(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return n(P,T),v(P,[{key:"attach",value:function(){E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"attach",this).call(this),this.attributes=new l.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,b.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(A,R){var F=l.default.query(A,l.default.Scope.BLOCK_ATTRIBUTE);F!=null&&this.attributes.attribute(F,R)}},{key:"formatAt",value:function(A,R,F,W){this.format(F,W)}},{key:"insertAt",value:function(A,R,F){if(typeof R=="string"&&R.endsWith(`
`)){var W=l.default.create(I.blotName);this.parent.insertBefore(W,A===0?this:this.next),W.insertAt(0,R.slice(0,-1))}else E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,A,R,F)}}]),P}(l.default.Embed);w.scope=l.default.Scope.BLOCK_BLOT;var I=function(T){function P(A){c(this,P);var R=f(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,A));return R.cache={},R}return n(P,T),v(P,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(l.default.Leaf).reduce(function(A,R){return R.length()===0?A:A.insert(R.value(),O(R))},new h.default).insert(`
`,O(this))),this.cache.delta}},{key:"deleteAt",value:function(A,R){E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,A,R),this.cache={}}},{key:"formatAt",value:function(A,R,F,W){R<=0||(l.default.query(F,l.default.Scope.BLOCK)?A+R===this.length()&&this.format(F,W):E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,A,Math.min(R,this.length()-A-1),F,W),this.cache={})}},{key:"insertAt",value:function(A,R,F){if(F!=null)return E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,A,R,F);if(R.length!==0){var W=R.split(`
`),X=W.shift();X.length>0&&(A<this.length()-1||this.children.tail==null?E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,Math.min(A,this.length()-1),X):this.children.tail.insertAt(this.children.tail.length(),X),this.cache={});var K=this;W.reduce(function(M,z){return(K=K.split(M,!0)).insertAt(0,z),z.length},A+X.length)}}},{key:"insertBefore",value:function(A,R){var F=this.children.head;E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,A,R),F instanceof a.default&&F.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(A,R){E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"moveChildren",this).call(this,A,R),this.cache={}}},{key:"optimize",value:function(A){E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,A),this.cache={}}},{key:"path",value:function(A){return E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,A,!0)}},{key:"removeChild",value:function(A){E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"removeChild",this).call(this,A),this.cache={}}},{key:"split",value:function(A){var R=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(R&&(A===0||A>=this.length()-1)){var F=this.clone();return A===0?(this.parent.insertBefore(F,this),this):(this.parent.insertBefore(F,this.next),F)}var W=E(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"split",this).call(this,A,R);return this.cache={},W}}]),P}(l.default.Block);function O(T){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return T==null?P:(typeof T.formats=="function"&&(P=(0,b.default)(P,T.formats())),T.parent==null||T.parent.blotName=="scroll"||T.parent.statics.scope!==T.statics.scope?P:O(T.parent,P))}I.blotName="block",I.tagName="P",I.defaultChild="break",I.allowedChildren=[o.default,l.default.Embed,e.default],y.bubbleFormats=O,y.BlockEmbed=w,y.default=I},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.overload=y.expandConfig=void 0;var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(K){return typeof K}:function(K){return K&&typeof Symbol=="function"&&K.constructor===Symbol&&K!==Symbol.prototype?"symbol":typeof K},E=function(K,M){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return function(z,B){var j=[],V=!0,q=!1,D=void 0;try{for(var U,ie=z[Symbol.iterator]();!(V=(U=ie.next()).done)&&(j.push(U.value),!B||j.length!==B);V=!0);}catch(re){q=!0,D=re}finally{try{!V&&ie.return&&ie.return()}finally{if(q)throw D}}return j}(K,M);throw new TypeError("Invalid attempt to destructure non-iterable instance")},b=function(){function K(M,z){for(var B=0;B<z.length;B++){var j=z[B];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(M,j.key,j)}}return function(M,z,B){return z&&K(M.prototype,z),B&&K(M,B),M}}();g(50);var h=I(g(2)),l=I(g(14)),a=I(g(8)),o=I(g(9)),e=I(g(0)),u=g(15),c=I(u),f=I(g(3)),n=I(g(10)),w=I(g(34));function I(K){return K&&K.__esModule?K:{default:K}}function O(K,M,z){return M in K?Object.defineProperty(K,M,{value:z,enumerable:!0,configurable:!0,writable:!0}):K[M]=z,K}function T(K,M){if(!(K instanceof M))throw new TypeError("Cannot call a class as a function")}var P=(0,n.default)("quill"),A=function(){function K(M){var z=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(T(this,K),this.options=R(M,B),this.container=this.options.container,this.container==null)return P.error("Invalid Quill container",M);this.options.debug&&K.debug(this.options.debug);var j=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new a.default,this.scroll=e.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new l.default(this.scroll),this.selection=new c.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(a.default.events.EDITOR_CHANGE,function(q){q===a.default.events.TEXT_CHANGE&&z.root.classList.toggle("ql-blank",z.editor.isBlank())}),this.emitter.on(a.default.events.SCROLL_UPDATE,function(q,D){var U=z.selection.lastRange,ie=U&&U.length===0?U.index:void 0;F.call(z,function(){return z.editor.update(null,D,ie)},q)});var V=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+j+"<p><br></p></div>");this.setContents(V),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return b(K,null,[{key:"debug",value:function(M){M===!0&&(M="log"),n.default.level(M)}},{key:"find",value:function(M){return M.__quill||e.default.find(M)}},{key:"import",value:function(M){return this.imports[M]==null&&P.error("Cannot import "+M+". Are you sure it was registered?"),this.imports[M]}},{key:"register",value:function(M,z){var B=this,j=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(typeof M!="string"){var V=M.attrName||M.blotName;typeof V=="string"?this.register("formats/"+V,M,z):Object.keys(M).forEach(function(q){B.register(q,M[q],z)})}else this.imports[M]==null||j||P.warn("Overwriting "+M+" with",z),this.imports[M]=z,(M.startsWith("blots/")||M.startsWith("formats/"))&&z.blotName!=="abstract"?e.default.register(z):M.startsWith("modules")&&typeof z.register=="function"&&z.register()}}]),b(K,[{key:"addContainer",value:function(M){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof M=="string"){var B=M;(M=document.createElement("div")).classList.add(B)}return this.container.insertBefore(M,z),M}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(M,z,B){var j=this,V=W(M,z,B),q=E(V,4);return M=q[0],z=q[1],B=q[3],F.call(this,function(){return j.editor.deleteText(M,z)},B,M,-1*z)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var M=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(M),this.container.classList.toggle("ql-disabled",!M)}},{key:"focus",value:function(){var M=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=M,this.scrollIntoView()}},{key:"format",value:function(M,z){var B=this,j=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a.default.sources.API;return F.call(this,function(){var V=B.getSelection(!0),q=new h.default;if(V==null)return q;if(e.default.query(M,e.default.Scope.BLOCK))q=B.editor.formatLine(V.index,V.length,O({},M,z));else{if(V.length===0)return B.selection.format(M,z),q;q=B.editor.formatText(V.index,V.length,O({},M,z))}return B.setSelection(V,a.default.sources.SILENT),q},j)}},{key:"formatLine",value:function(M,z,B,j,V){var q,D=this,U=W(M,z,B,j,V),ie=E(U,4);return M=ie[0],z=ie[1],q=ie[2],V=ie[3],F.call(this,function(){return D.editor.formatLine(M,z,q)},V,M,0)}},{key:"formatText",value:function(M,z,B,j,V){var q,D=this,U=W(M,z,B,j,V),ie=E(U,4);return M=ie[0],z=ie[1],q=ie[2],V=ie[3],F.call(this,function(){return D.editor.formatText(M,z,q)},V,M,0)}},{key:"getBounds",value:function(M){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,B=void 0;B=typeof M=="number"?this.selection.getBounds(M,z):this.selection.getBounds(M.index,M.length);var j=this.container.getBoundingClientRect();return{bottom:B.bottom-j.top,height:B.height,left:B.left-j.left,right:B.right-j.left,top:B.top-j.top,width:B.width}}},{key:"getContents",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,B=W(M,z),j=E(B,2);return M=j[0],z=j[1],this.editor.getContents(M,z)}},{key:"getFormat",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof M=="number"?this.editor.getFormat(M,z):this.editor.getFormat(M.index,M.length)}},{key:"getIndex",value:function(M){return M.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(M){return this.scroll.leaf(M)}},{key:"getLine",value:function(M){return this.scroll.line(M)}},{key:"getLines",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof M!="number"?this.scroll.lines(M.index,M.length):this.scroll.lines(M,z)}},{key:"getModule",value:function(M){return this.theme.modules[M]}},{key:"getSelection",value:function(){var M=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return M&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-M,B=W(M,z),j=E(B,2);return M=j[0],z=j[1],this.editor.getText(M,z)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(M,z,B){var j=this,V=arguments.length>3&&arguments[3]!==void 0?arguments[3]:K.sources.API;return F.call(this,function(){return j.editor.insertEmbed(M,z,B)},V,M)}},{key:"insertText",value:function(M,z,B,j,V){var q,D=this,U=W(M,0,B,j,V),ie=E(U,4);return M=ie[0],q=ie[2],V=ie[3],F.call(this,function(){return D.editor.insertText(M,z,q)},V,M,z.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(M,z,B){this.clipboard.dangerouslyPasteHTML(M,z,B)}},{key:"removeFormat",value:function(M,z,B){var j=this,V=W(M,z,B),q=E(V,4);return M=q[0],z=q[1],B=q[3],F.call(this,function(){return j.editor.removeFormat(M,z)},B,M)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(M){var z=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.default.sources.API;return F.call(this,function(){M=new h.default(M);var j=z.getLength(),V=z.editor.deleteText(0,j),q=z.editor.applyDelta(M),D=q.ops[q.ops.length-1];return D!=null&&typeof D.insert=="string"&&D.insert[D.insert.length-1]===`
`&&(z.editor.deleteText(z.getLength()-1,1),q.delete(1)),V.compose(q)},B)}},{key:"setSelection",value:function(M,z,B){if(M==null)this.selection.setRange(null,z||K.sources.API);else{var j=W(M,z,B),V=E(j,4);M=V[0],z=V[1],B=V[3],this.selection.setRange(new u.Range(M,z),B),B!==a.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(M){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.default.sources.API,B=new h.default().insert(M);return this.setContents(B,z)}},{key:"update",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.default.sources.USER,z=this.scroll.update(M);return this.selection.update(M),z}},{key:"updateContents",value:function(M){var z=this,B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:a.default.sources.API;return F.call(this,function(){return M=new h.default(M),z.editor.applyDelta(M,B)},B,!0)}}]),K}();function R(K,M){if((M=(0,f.default)(!0,{container:K,modules:{clipboard:!0,keyboard:!0,history:!0}},M)).theme&&M.theme!==A.DEFAULTS.theme){if(M.theme=A.import("themes/"+M.theme),M.theme==null)throw new Error("Invalid theme "+M.theme+". Did you register it?")}else M.theme=w.default;var z=(0,f.default)(!0,{},M.theme.DEFAULTS);[z,M].forEach(function(j){j.modules=j.modules||{},Object.keys(j.modules).forEach(function(V){j.modules[V]===!0&&(j.modules[V]={})})});var B=Object.keys(z.modules).concat(Object.keys(M.modules)).reduce(function(j,V){var q=A.import("modules/"+V);return q==null?P.error("Cannot load "+V+" module. Are you sure you registered it?"):j[V]=q.DEFAULTS||{},j},{});return M.modules!=null&&M.modules.toolbar&&M.modules.toolbar.constructor!==Object&&(M.modules.toolbar={container:M.modules.toolbar}),M=(0,f.default)(!0,{},A.DEFAULTS,{modules:B},z,M),["bounds","container","scrollingContainer"].forEach(function(j){typeof M[j]=="string"&&(M[j]=document.querySelector(M[j]))}),M.modules=Object.keys(M.modules).reduce(function(j,V){return M.modules[V]&&(j[V]=M.modules[V]),j},{}),M}function F(K,M,z,B){if(this.options.strict&&!this.isEnabled()&&M===a.default.sources.USER)return new h.default;var j=z==null?null:this.getSelection(),V=this.editor.delta,q=K();if(j!=null&&(z===!0&&(z=j.index),B==null?j=X(j,q,M):B!==0&&(j=X(j,z,B,M)),this.setSelection(j,a.default.sources.SILENT)),q.length()>0){var D,U,ie=[a.default.events.TEXT_CHANGE,q,V,M];(D=this.emitter).emit.apply(D,[a.default.events.EDITOR_CHANGE].concat(ie)),M!==a.default.sources.SILENT&&(U=this.emitter).emit.apply(U,ie)}return q}function W(K,M,z,B,j){var V={};return typeof K.index=="number"&&typeof K.length=="number"?typeof M!="number"?(j=B,B=z,z=M,M=K.length,K=K.index):(M=K.length,K=K.index):typeof M!="number"&&(j=B,B=z,z=M,M=0),(z===void 0?"undefined":v(z))==="object"?(V=z,j=B):typeof z=="string"&&(B!=null?V[z]=B:j=z),[K,M,V,j=j||a.default.sources.API]}function X(K,M,z,B){if(K==null)return null;var j=void 0,V=void 0;if(M instanceof h.default){var q=[K.index,K.index+K.length].map(function(re){return M.transformPosition(re,B!==a.default.sources.USER)}),D=E(q,2);j=D[0],V=D[1]}else{var U=[K.index,K.index+K.length].map(function(re){return re<M||re===M&&B===a.default.sources.USER?re:z>=0?re+z:Math.max(M,re+z)}),ie=E(U,2);j=ie[0],V=ie[1]}return new u.Range(j,V-j)}A.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},A.events=a.default.events,A.sources=a.default.sources,A.version="1.3.7",A.imports={delta:h.default,parchment:e.default,"core/module":o.default,"core/theme":w.default},y.expandConfig=R,y.overload=W,y.default=A},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=function(){function u(c,f){for(var n=0;n<f.length;n++){var w=f[n];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,f,n){return f&&u(c.prototype,f),n&&u(c,n),c}}(),E=function u(c,f,n){c===null&&(c=Function.prototype);var w=Object.getOwnPropertyDescriptor(c,f);if(w===void 0){var I=Object.getPrototypeOf(c);return I===null?void 0:u(I,f,n)}if("value"in w)return w.value;var O=w.get;return O!==void 0?O.call(n):void 0},b=l(g(7)),h=l(g(0));function l(u){return u&&u.__esModule?u:{default:u}}function a(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function o(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}var e=function(u){function c(){return a(this,c),o(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return function(f,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);f.prototype=Object.create(n&&n.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(f,n):f.__proto__=n)}(c,u),v(c,[{key:"formatAt",value:function(f,n,w,I){if(c.compare(this.statics.blotName,w)<0&&h.default.query(w,h.default.Scope.BLOT)){var O=this.isolate(f,n);I&&O.wrap(w,I)}else E(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"formatAt",this).call(this,f,n,w,I)}},{key:"optimize",value:function(f){if(E(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"optimize",this).call(this,f),this.parent instanceof c&&c.compare(this.statics.blotName,this.parent.statics.blotName)>0){var n=this.parent.isolate(this.offset(),this.length());this.moveChildren(n),n.wrap(this)}}}],[{key:"compare",value:function(f,n){var w=c.order.indexOf(f),I=c.order.indexOf(n);return w>=0||I>=0?w-I:f===n?0:f<n?-1:1}}]),c}(h.default.Inline);e.allowedChildren=[e,h.default.Embed,b.default],e.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],y.default=e},function(S,y,g){"use strict";var v;function E(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function b(l,a){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?l:a}Object.defineProperty(y,"__esModule",{value:!0});var h=function(l){function a(){return E(this,a),b(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(a,l),a}(((v=g(0))&&v.__esModule?v:{default:v}).default.Text);y.default=h},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=function(){function o(e,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(e,f.key,f)}}return function(e,u,c){return u&&o(e.prototype,u),c&&o(e,c),e}}(),E=function o(e,u,c){e===null&&(e=Function.prototype);var f=Object.getOwnPropertyDescriptor(e,u);if(f===void 0){var n=Object.getPrototypeOf(e);return n===null?void 0:o(n,u,c)}if("value"in f)return f.value;var w=f.get;return w!==void 0?w.call(c):void 0},b=h(g(54));function h(o){return o&&o.__esModule?o:{default:o}}var l=(0,h(g(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(o){document.addEventListener(o,function(){for(var e=arguments.length,u=Array(e),c=0;c<e;c++)u[c]=arguments[c];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(f){var n;f.__quill&&f.__quill.emitter&&(n=f.__quill.emitter).handleDOM.apply(n,u)})})});var a=function(o){function e(){(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,e);var u=function(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return u.listeners={},u.on("error",l.error),u}return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}(e,o),v(e,[{key:"emit",value:function(){l.log.apply(l,arguments),E(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(u){for(var c=arguments.length,f=Array(c>1?c-1:0),n=1;n<c;n++)f[n-1]=arguments[n];(this.listeners[u.type]||[]).forEach(function(w){var I=w.node,O=w.handler;(u.target===I||I.contains(u.target))&&O.apply(void 0,[u].concat(f))})}},{key:"listenDOM",value:function(u,c,f){this.listeners[u]||(this.listeners[u]=[]),this.listeners[u].push({node:c,handler:f})}}]),e}(b.default);a.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},a.sources={API:"api",SILENT:"silent",USER:"user"},y.default=a},function(S,y,g){"use strict";function v(b,h){if(!(b instanceof h))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(y,"__esModule",{value:!0});var E=function b(h){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};v(this,b),this.quill=h,this.options=l};E.DEFAULTS={},y.default=E},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=["error","warn","log","info"],E="warn";function b(l){if(v.indexOf(l)<=v.indexOf(E)){for(var a,o=arguments.length,e=Array(o>1?o-1:0),u=1;u<o;u++)e[u-1]=arguments[u];(a=console)[l].apply(a,e)}}function h(l){return v.reduce(function(a,o){return a[o]=b.bind(console,o,l),a},{})}b.level=h.level=function(l){E=l},y.default=h},function(S,y,g){var v=Array.prototype.slice,E=g(52),b=g(53),h=S.exports=function(o,e,u){return u||(u={}),o===e||(o instanceof Date&&e instanceof Date?o.getTime()===e.getTime():!o||!e||typeof o!="object"&&typeof e!="object"?u.strict?o===e:o==e:function(c,f,n){var w,I;if(l(c)||l(f)||c.prototype!==f.prototype)return!1;if(b(c))return!!b(f)&&(c=v.call(c),f=v.call(f),h(c,f,n));if(a(c)){if(!a(f)||c.length!==f.length)return!1;for(w=0;w<c.length;w++)if(c[w]!==f[w])return!1;return!0}try{var O=E(c),T=E(f)}catch(P){return!1}if(O.length!=T.length)return!1;for(O.sort(),T.sort(),w=O.length-1;w>=0;w--)if(O[w]!=T[w])return!1;for(w=O.length-1;w>=0;w--)if(I=O[w],!h(c[I],f[I],n))return!1;return typeof c==typeof f}(o,e,u))};function l(o){return o==null}function a(o){return!(!o||typeof o!="object"||typeof o.length!="number"||typeof o.copy!="function"||typeof o.slice!="function"||o.length>0&&typeof o[0]!="number")}},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=g(1),E=function(){function b(h,l,a){a===void 0&&(a={}),this.attrName=h,this.keyName=l;var o=v.Scope.TYPE&v.Scope.ATTRIBUTE;a.scope!=null?this.scope=a.scope&v.Scope.LEVEL|o:this.scope=v.Scope.ATTRIBUTE,a.whitelist!=null&&(this.whitelist=a.whitelist)}return b.keys=function(h){return[].map.call(h.attributes,function(l){return l.name})},b.prototype.add=function(h,l){return!!this.canAdd(h,l)&&(h.setAttribute(this.keyName,l),!0)},b.prototype.canAdd=function(h,l){return v.query(h,v.Scope.BLOT&(this.scope|v.Scope.TYPE))!=null&&(this.whitelist==null||(typeof l=="string"?this.whitelist.indexOf(l.replace(/["']/g,""))>-1:this.whitelist.indexOf(l)>-1))},b.prototype.remove=function(h){h.removeAttribute(this.keyName)},b.prototype.value=function(h){var l=h.getAttribute(this.keyName);return this.canAdd(h,l)&&l?l:""},b}();y.default=E},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.Code=void 0;var v=function(O,T){if(Array.isArray(O))return O;if(Symbol.iterator in Object(O))return function(P,A){var R=[],F=!0,W=!1,X=void 0;try{for(var K,M=P[Symbol.iterator]();!(F=(K=M.next()).done)&&(R.push(K.value),!A||R.length!==A);F=!0);}catch(z){W=!0,X=z}finally{try{!F&&M.return&&M.return()}finally{if(W)throw X}}return R}(O,T);throw new TypeError("Invalid attempt to destructure non-iterable instance")},E=function(){function O(T,P){for(var A=0;A<P.length;A++){var R=P[A];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(T,R.key,R)}}return function(T,P,A){return P&&O(T.prototype,P),A&&O(T,A),T}}(),b=function O(T,P,A){T===null&&(T=Function.prototype);var R=Object.getOwnPropertyDescriptor(T,P);if(R===void 0){var F=Object.getPrototypeOf(T);return F===null?void 0:O(F,P,A)}if("value"in R)return R.value;var W=R.get;return W!==void 0?W.call(A):void 0},h=u(g(2)),l=u(g(0)),a=u(g(4)),o=u(g(6)),e=u(g(7));function u(O){return O&&O.__esModule?O:{default:O}}function c(O,T){if(!(O instanceof T))throw new TypeError("Cannot call a class as a function")}function f(O,T){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||typeof T!="object"&&typeof T!="function"?O:T}function n(O,T){if(typeof T!="function"&&T!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof T);O.prototype=Object.create(T&&T.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),T&&(Object.setPrototypeOf?Object.setPrototypeOf(O,T):O.__proto__=T)}var w=function(O){function T(){return c(this,T),f(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return n(T,O),T}(o.default);w.blotName="code",w.tagName="CODE";var I=function(O){function T(){return c(this,T),f(this,(T.__proto__||Object.getPrototypeOf(T)).apply(this,arguments))}return n(T,O),E(T,[{key:"delta",value:function(){var P=this,A=this.domNode.textContent;return A.endsWith(`
`)&&(A=A.slice(0,-1)),A.split(`
`).reduce(function(R,F){return R.insert(F).insert(`
`,P.formats())},new h.default)}},{key:"format",value:function(P,A){if(P!==this.statics.blotName||!A){var R=this.descendant(e.default,this.length()-1),F=v(R,1)[0];F!=null&&F.deleteAt(F.length()-1,1),b(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"format",this).call(this,P,A)}}},{key:"formatAt",value:function(P,A,R,F){if(A!==0&&l.default.query(R,l.default.Scope.BLOCK)!=null&&(R!==this.statics.blotName||F!==this.statics.formats(this.domNode))){var W=this.newlineIndex(P);if(!(W<0||W>=P+A)){var X=this.newlineIndex(P,!0)+1,K=W-X+1,M=this.isolate(X,K),z=M.next;M.format(R,F),z instanceof T&&z.formatAt(0,P-X+A-K,R,F)}}}},{key:"insertAt",value:function(P,A,R){if(R==null){var F=this.descendant(e.default,P),W=v(F,2),X=W[0],K=W[1];X.insertAt(K,A)}}},{key:"length",value:function(){var P=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?P:P+1}},{key:"newlineIndex",value:function(P){var A=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(A)return this.domNode.textContent.slice(0,P).lastIndexOf(`
`);var R=this.domNode.textContent.slice(P).indexOf(`
`);return R>-1?P+R:-1}},{key:"optimize",value:function(P){this.domNode.textContent.endsWith(`
`)||this.appendChild(l.default.create("text",`
`)),b(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,P);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===A.statics.formats(A.domNode)&&(A.optimize(P),A.moveChildren(this),A.remove())}},{key:"replace",value:function(P){b(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"replace",this).call(this,P),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(A){var R=l.default.find(A);R==null?A.parentNode.removeChild(A):R instanceof l.default.Embed?R.remove():R.unwrap()})}}],[{key:"create",value:function(P){var A=b(T.__proto__||Object.getPrototypeOf(T),"create",this).call(this,P);return A.setAttribute("spellcheck",!1),A}},{key:"formats",value:function(){return!0}}]),T}(a.default);I.blotName="code-block",I.tagName="PRE",I.TAB="  ",y.Code=w,y.default=I},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},E=function(R,F){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return function(W,X){var K=[],M=!0,z=!1,B=void 0;try{for(var j,V=W[Symbol.iterator]();!(M=(j=V.next()).done)&&(K.push(j.value),!X||K.length!==X);M=!0);}catch(q){z=!0,B=q}finally{try{!M&&V.return&&V.return()}finally{if(z)throw B}}return K}(R,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")},b=function(){function R(F,W){for(var X=0;X<W.length;X++){var K=W[X];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(F,K.key,K)}}return function(F,W,X){return W&&R(F.prototype,W),X&&R(F,X),F}}(),h=O(g(2)),l=O(g(20)),a=O(g(0)),o=O(g(13)),e=O(g(24)),u=g(4),c=O(u),f=O(g(16)),n=O(g(21)),w=O(g(11)),I=O(g(3));function O(R){return R&&R.__esModule?R:{default:R}}var T=/^[ -~]*$/,P=function(){function R(F){(function(W,X){if(!(W instanceof X))throw new TypeError("Cannot call a class as a function")})(this,R),this.scroll=F,this.delta=this.getDelta()}return b(R,[{key:"applyDelta",value:function(F){var W=this,X=!1;this.scroll.update();var K=this.scroll.length();return this.scroll.batchStart(),(F=function(M){return M.reduce(function(z,B){if(B.insert===1){var j=(0,n.default)(B.attributes);return delete j.image,z.insert({image:B.attributes.image},j)}if(B.attributes==null||B.attributes.list!==!0&&B.attributes.bullet!==!0||((B=(0,n.default)(B)).attributes.list?B.attributes.list="ordered":(B.attributes.list="bullet",delete B.attributes.bullet)),typeof B.insert=="string"){var V=B.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return z.insert(V,B.attributes)}return z.push(B)},new h.default)}(F)).reduce(function(M,z){var B=z.retain||z.delete||z.insert.length||1,j=z.attributes||{};if(z.insert!=null){if(typeof z.insert=="string"){var V=z.insert;V.endsWith(`
`)&&X&&(X=!1,V=V.slice(0,-1)),M>=K&&!V.endsWith(`
`)&&(X=!0),W.scroll.insertAt(M,V);var q=W.scroll.line(M),D=E(q,2),U=D[0],ie=D[1],re=(0,I.default)({},(0,u.bubbleFormats)(U));if(U instanceof c.default){var ue=U.descendant(a.default.Leaf,ie),ae=E(ue,1)[0];re=(0,I.default)(re,(0,u.bubbleFormats)(ae))}j=l.default.attributes.diff(re,j)||{}}else if(v(z.insert)==="object"){var Z=Object.keys(z.insert)[0];if(Z==null)return M;W.scroll.insertAt(M,Z,z.insert[Z])}K+=B}return Object.keys(j).forEach(function($){W.scroll.formatAt(M,B,$,j[$])}),M+B},0),F.reduce(function(M,z){return typeof z.delete=="number"?(W.scroll.deleteAt(M,z.delete),M):M+(z.retain||z.insert.length||1)},0),this.scroll.batchEnd(),this.update(F)}},{key:"deleteText",value:function(F,W){return this.scroll.deleteAt(F,W),this.update(new h.default().retain(F).delete(W))}},{key:"formatLine",value:function(F,W){var X=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(K).forEach(function(M){if(X.scroll.whitelist==null||X.scroll.whitelist[M]){var z=X.scroll.lines(F,Math.max(W,1)),B=W;z.forEach(function(j){var V=j.length();if(j instanceof o.default){var q=F-j.offset(X.scroll),D=j.newlineIndex(q+B)-q+1;j.formatAt(q,D,M,K[M])}else j.format(M,K[M]);B-=V})}}),this.scroll.optimize(),this.update(new h.default().retain(F).retain(W,(0,n.default)(K)))}},{key:"formatText",value:function(F,W){var X=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(K).forEach(function(M){X.scroll.formatAt(F,W,M,K[M])}),this.update(new h.default().retain(F).retain(W,(0,n.default)(K)))}},{key:"getContents",value:function(F,W){return this.delta.slice(F,F+W)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(F,W){return F.concat(W.delta())},new h.default)}},{key:"getFormat",value:function(F){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,X=[],K=[];W===0?this.scroll.path(F).forEach(function(z){var B=E(z,1)[0];B instanceof c.default?X.push(B):B instanceof a.default.Leaf&&K.push(B)}):(X=this.scroll.lines(F,W),K=this.scroll.descendants(a.default.Leaf,F,W));var M=[X,K].map(function(z){if(z.length===0)return{};for(var B=(0,u.bubbleFormats)(z.shift());Object.keys(B).length>0;){var j=z.shift();if(j==null)return B;B=A((0,u.bubbleFormats)(j),B)}return B});return I.default.apply(I.default,M)}},{key:"getText",value:function(F,W){return this.getContents(F,W).filter(function(X){return typeof X.insert=="string"}).map(function(X){return X.insert}).join("")}},{key:"insertEmbed",value:function(F,W,X){return this.scroll.insertAt(F,W,X),this.update(new h.default().retain(F).insert(function(K,M,z){return M in K?Object.defineProperty(K,M,{value:z,enumerable:!0,configurable:!0,writable:!0}):K[M]=z,K}({},W,X)))}},{key:"insertText",value:function(F,W){var X=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return W=W.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(F,W),Object.keys(K).forEach(function(M){X.scroll.formatAt(F,W.length,M,K[M])}),this.update(new h.default().retain(F).insert(W,(0,n.default)(K)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var F=this.scroll.children.head;return F.statics.blotName===c.default.blotName&&!(F.children.length>1)&&F.children.head instanceof f.default}},{key:"removeFormat",value:function(F,W){var X=this.getText(F,W),K=this.scroll.line(F+W),M=E(K,2),z=M[0],B=M[1],j=0,V=new h.default;z!=null&&(j=z instanceof o.default?z.newlineIndex(B)-B+1:z.length()-B,V=z.delta().slice(B,B+j-1).insert(`
`));var q=this.getContents(F,W+j).diff(new h.default().insert(X).concat(V)),D=new h.default().retain(F).concat(q);return this.applyDelta(D)}},{key:"update",value:function(F){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,K=this.delta;if(W.length===1&&W[0].type==="characterData"&&W[0].target.data.match(T)&&a.default.find(W[0].target)){var M=a.default.find(W[0].target),z=(0,u.bubbleFormats)(M),B=M.offset(this.scroll),j=W[0].oldValue.replace(e.default.CONTENTS,""),V=new h.default().insert(j),q=new h.default().insert(M.value()),D=new h.default().retain(B).concat(V.diff(q,X));F=D.reduce(function(U,ie){return ie.insert?U.insert(ie.insert,z):U.push(ie)},new h.default),this.delta=K.compose(F)}else this.delta=this.getDelta(),F&&(0,w.default)(K.compose(F),this.delta)||(F=K.diff(this.delta,X));return F}}]),R}();function A(R,F){return Object.keys(F).reduce(function(W,X){return R[X]==null||(F[X]===R[X]?W[X]=F[X]:Array.isArray(F[X])?F[X].indexOf(R[X])<0&&(W[X]=F[X].concat([R[X]])):W[X]=[F[X],R[X]]),W},{})}y.default=P},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.Range=void 0;var v=function(I,O){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function(T,P){var A=[],R=!0,F=!1,W=void 0;try{for(var X,K=T[Symbol.iterator]();!(R=(X=K.next()).done)&&(A.push(X.value),!P||A.length!==P);R=!0);}catch(M){F=!0,W=M}finally{try{!R&&K.return&&K.return()}finally{if(F)throw W}}return A}(I,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")},E=function(){function I(O,T){for(var P=0;P<T.length;P++){var A=T[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,T,P){return T&&I(O.prototype,T),P&&I(O,P),O}}(),b=o(g(0)),h=o(g(21)),l=o(g(11)),a=o(g(8));function o(I){return I&&I.__esModule?I:{default:I}}function e(I){if(Array.isArray(I)){for(var O=0,T=Array(I.length);O<I.length;O++)T[O]=I[O];return T}return Array.from(I)}function u(I,O){if(!(I instanceof O))throw new TypeError("Cannot call a class as a function")}var c=(0,o(g(10)).default)("quill:selection"),f=function I(O){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;u(this,I),this.index=O,this.length=T},n=function(){function I(O,T){var P=this;u(this,I),this.emitter=T,this.scroll=O,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=b.default.create("cursor",this),this.lastRange=this.savedRange=new f(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){P.mouseDown||setTimeout(P.update.bind(P,a.default.sources.USER),1)}),this.emitter.on(a.default.events.EDITOR_CHANGE,function(A,R){A===a.default.events.TEXT_CHANGE&&R.length()>0&&P.update(a.default.sources.SILENT)}),this.emitter.on(a.default.events.SCROLL_BEFORE_UPDATE,function(){if(P.hasFocus()){var A=P.getNativeRange();A!=null&&A.start.node!==P.cursor.textNode&&P.emitter.once(a.default.events.SCROLL_UPDATE,function(){try{P.setNativeRange(A.start.node,A.start.offset,A.end.node,A.end.offset)}catch(R){}})}}),this.emitter.on(a.default.events.SCROLL_OPTIMIZE,function(A,R){if(R.range){var F=R.range,W=F.startNode,X=F.startOffset,K=F.endNode,M=F.endOffset;P.setNativeRange(W,X,K,M)}}),this.update(a.default.sources.SILENT)}return E(I,[{key:"handleComposition",value:function(){var O=this;this.root.addEventListener("compositionstart",function(){O.composing=!0}),this.root.addEventListener("compositionend",function(){if(O.composing=!1,O.cursor.parent){var T=O.cursor.restore();if(!T)return;setTimeout(function(){O.setNativeRange(T.startNode,T.startOffset,T.endNode,T.endOffset)},1)}})}},{key:"handleDragging",value:function(){var O=this;this.emitter.listenDOM("mousedown",document.body,function(){O.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){O.mouseDown=!1,O.update(a.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(O,T){if(this.scroll.whitelist==null||this.scroll.whitelist[O]){this.scroll.update();var P=this.getNativeRange();if(P!=null&&P.native.collapsed&&!b.default.query(O,b.default.Scope.BLOCK)){if(P.start.node!==this.cursor.textNode){var A=b.default.find(P.start.node,!1);if(A==null)return;if(A instanceof b.default.Leaf){var R=A.split(P.start.offset);A.parent.insertBefore(this.cursor,R)}else A.insertBefore(this.cursor,P.start.node);this.cursor.attach()}this.cursor.format(O,T),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(O){var T=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,P=this.scroll.length();O=Math.min(O,P-1),T=Math.min(O+T,P-1)-O;var A=void 0,R=this.scroll.leaf(O),F=v(R,2),W=F[0],X=F[1];if(W==null)return null;var K=W.position(X,!0),M=v(K,2);A=M[0],X=M[1];var z=document.createRange();if(T>0){z.setStart(A,X);var B=this.scroll.leaf(O+T),j=v(B,2);if(W=j[0],X=j[1],W==null)return null;var V=W.position(X,!0),q=v(V,2);return A=q[0],X=q[1],z.setEnd(A,X),z.getBoundingClientRect()}var D="left",U=void 0;return A instanceof Text?(X<A.data.length?(z.setStart(A,X),z.setEnd(A,X+1)):(z.setStart(A,X-1),z.setEnd(A,X),D="right"),U=z.getBoundingClientRect()):(U=W.domNode.getBoundingClientRect(),X>0&&(D="right")),{bottom:U.top+U.height,height:U.height,left:U[D],right:U[D],top:U.top,width:0}}},{key:"getNativeRange",value:function(){var O=document.getSelection();if(O==null||O.rangeCount<=0)return null;var T=O.getRangeAt(0);if(T==null)return null;var P=this.normalizeNative(T);return c.info("getNativeRange",P),P}},{key:"getRange",value:function(){var O=this.getNativeRange();return O==null?[null,null]:[this.normalizedToRange(O),O]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(O){var T=this,P=[[O.start.node,O.start.offset]];O.native.collapsed||P.push([O.end.node,O.end.offset]);var A=P.map(function(W){var X=v(W,2),K=X[0],M=X[1],z=b.default.find(K,!0),B=z.offset(T.scroll);return M===0?B:z instanceof b.default.Container?B+z.length():B+z.index(K,M)}),R=Math.min(Math.max.apply(Math,e(A)),this.scroll.length()-1),F=Math.min.apply(Math,[R].concat(e(A)));return new f(F,R-F)}},{key:"normalizeNative",value:function(O){if(!w(this.root,O.startContainer)||!O.collapsed&&!w(this.root,O.endContainer))return null;var T={start:{node:O.startContainer,offset:O.startOffset},end:{node:O.endContainer,offset:O.endOffset},native:O};return[T.start,T.end].forEach(function(P){for(var A=P.node,R=P.offset;!(A instanceof Text)&&A.childNodes.length>0;)if(A.childNodes.length>R)A=A.childNodes[R],R=0;else{if(A.childNodes.length!==R)break;R=(A=A.lastChild)instanceof Text?A.data.length:A.childNodes.length+1}P.node=A,P.offset=R}),T}},{key:"rangeToNative",value:function(O){var T=this,P=O.collapsed?[O.index]:[O.index,O.index+O.length],A=[],R=this.scroll.length();return P.forEach(function(F,W){F=Math.min(R-1,F);var X,K=T.scroll.leaf(F),M=v(K,2),z=M[0],B=M[1],j=z.position(B,W!==0),V=v(j,2);X=V[0],B=V[1],A.push(X,B)}),A.length<2&&(A=A.concat(A)),A}},{key:"scrollIntoView",value:function(O){var T=this.lastRange;if(T!=null){var P=this.getBounds(T.index,T.length);if(P!=null){var A=this.scroll.length()-1,R=this.scroll.line(Math.min(T.index,A)),F=v(R,1)[0],W=F;if(T.length>0){var X=this.scroll.line(Math.min(T.index+T.length,A));W=v(X,1)[0]}if(F!=null&&W!=null){var K=O.getBoundingClientRect();P.top<K.top?O.scrollTop-=K.top-P.top:P.bottom>K.bottom&&(O.scrollTop+=P.bottom-K.bottom)}}}}},{key:"setNativeRange",value:function(O,T){var P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:O,A=arguments.length>3&&arguments[3]!==void 0?arguments[3]:T,R=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(c.info("setNativeRange",O,T,P,A),O==null||this.root.parentNode!=null&&O.parentNode!=null&&P.parentNode!=null){var F=document.getSelection();if(F!=null)if(O!=null){this.hasFocus()||this.root.focus();var W=(this.getNativeRange()||{}).native;if(W==null||R||O!==W.startContainer||T!==W.startOffset||P!==W.endContainer||A!==W.endOffset){O.tagName=="BR"&&(T=[].indexOf.call(O.parentNode.childNodes,O),O=O.parentNode),P.tagName=="BR"&&(A=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode);var X=document.createRange();X.setStart(O,T),X.setEnd(P,A),F.removeAllRanges(),F.addRange(X)}}else F.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(O){var T=arguments.length>1&&arguments[1]!==void 0&&arguments[1],P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:a.default.sources.API;if(typeof T=="string"&&(P=T,T=!1),c.info("setRange",O),O!=null){var A=this.rangeToNative(O);this.setNativeRange.apply(this,e(A).concat([T]))}else this.setNativeRange(null);this.update(P)}},{key:"update",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:a.default.sources.USER,T=this.lastRange,P=this.getRange(),A=v(P,2),R=A[0],F=A[1];if(this.lastRange=R,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,l.default)(T,this.lastRange)){var W;!this.composing&&F!=null&&F.native.collapsed&&F.start.node!==this.cursor.textNode&&this.cursor.restore();var X,K=[a.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(T),O];(W=this.emitter).emit.apply(W,[a.default.events.EDITOR_CHANGE].concat(K)),O!==a.default.sources.SILENT&&(X=this.emitter).emit.apply(X,K)}}}]),I}();function w(I,O){try{O.parentNode}catch(T){return!1}return O instanceof Text&&(O=O.parentNode),I.contains(O)}y.Range=f,y.default=n},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v,E=function(){function o(e,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(e,f.key,f)}}return function(e,u,c){return u&&o(e.prototype,u),c&&o(e,c),e}}(),b=function o(e,u,c){e===null&&(e=Function.prototype);var f=Object.getOwnPropertyDescriptor(e,u);if(f===void 0){var n=Object.getPrototypeOf(e);return n===null?void 0:o(n,u,c)}if("value"in f)return f.value;var w=f.get;return w!==void 0?w.call(c):void 0};function h(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function l(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}var a=function(o){function e(){return h(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}(e,o),E(e,[{key:"insertInto",value:function(u,c){u.children.length===0?b(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"insertInto",this).call(this,u,c):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),e}(((v=g(0))&&v.__esModule?v:{default:v}).default.Embed);a.blotName="break",a.tagName="BR",y.default=a},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,u){e.__proto__=u}||function(e,u){for(var c in u)u.hasOwnProperty(c)&&(e[c]=u[c])},function(e,u){function c(){this.constructor=e}v(e,u),e.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)});Object.defineProperty(y,"__esModule",{value:!0});var b=g(44),h=g(30),l=g(1),a=function(e){function u(c){var f=e.call(this,c)||this;return f.build(),f}return E(u,e),u.prototype.appendChild=function(c){this.insertBefore(c)},u.prototype.attach=function(){e.prototype.attach.call(this),this.children.forEach(function(c){c.attach()})},u.prototype.build=function(){var c=this;this.children=new b.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(f){try{var n=o(f);c.insertBefore(n,c.children.head||void 0)}catch(w){if(w instanceof l.ParchmentError)return;throw w}})},u.prototype.deleteAt=function(c,f){if(c===0&&f===this.length())return this.remove();this.children.forEachAt(c,f,function(n,w,I){n.deleteAt(w,I)})},u.prototype.descendant=function(c,f){var n=this.children.find(f),w=n[0],I=n[1];return c.blotName==null&&c(w)||c.blotName!=null&&w instanceof c?[w,I]:w instanceof u?w.descendant(c,I):[null,-1]},u.prototype.descendants=function(c,f,n){f===void 0&&(f=0),n===void 0&&(n=Number.MAX_VALUE);var w=[],I=n;return this.children.forEachAt(f,n,function(O,T,P){(c.blotName==null&&c(O)||c.blotName!=null&&O instanceof c)&&w.push(O),O instanceof u&&(w=w.concat(O.descendants(c,T,I))),I-=P}),w},u.prototype.detach=function(){this.children.forEach(function(c){c.detach()}),e.prototype.detach.call(this)},u.prototype.formatAt=function(c,f,n,w){this.children.forEachAt(c,f,function(I,O,T){I.formatAt(O,T,n,w)})},u.prototype.insertAt=function(c,f,n){var w=this.children.find(c),I=w[0],O=w[1];if(I)I.insertAt(O,f,n);else{var T=n==null?l.create("text",f):l.create(f,n);this.appendChild(T)}},u.prototype.insertBefore=function(c,f){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(n){return c instanceof n}))throw new l.ParchmentError("Cannot insert "+c.statics.blotName+" into "+this.statics.blotName);c.insertInto(this,f)},u.prototype.length=function(){return this.children.reduce(function(c,f){return c+f.length()},0)},u.prototype.moveChildren=function(c,f){this.children.forEach(function(n){c.insertBefore(n,f)})},u.prototype.optimize=function(c){if(e.prototype.optimize.call(this,c),this.children.length===0)if(this.statics.defaultChild!=null){var f=l.create(this.statics.defaultChild);this.appendChild(f),f.optimize(c)}else this.remove()},u.prototype.path=function(c,f){f===void 0&&(f=!1);var n=this.children.find(c,f),w=n[0],I=n[1],O=[[this,c]];return w instanceof u?O.concat(w.path(I,f)):(w!=null&&O.push([w,I]),O)},u.prototype.removeChild=function(c){this.children.remove(c)},u.prototype.replace=function(c){c instanceof u&&c.moveChildren(this),e.prototype.replace.call(this,c)},u.prototype.split=function(c,f){if(f===void 0&&(f=!1),!f){if(c===0)return this;if(c===this.length())return this.next}var n=this.clone();return this.parent.insertBefore(n,this.next),this.children.forEachAt(c,this.length(),function(w,I,O){w=w.split(I,f),n.appendChild(w)}),n},u.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},u.prototype.update=function(c,f){var n=this,w=[],I=[];c.forEach(function(O){O.target===n.domNode&&O.type==="childList"&&(w.push.apply(w,O.addedNodes),I.push.apply(I,O.removedNodes))}),I.forEach(function(O){if(!(O.parentNode!=null&&O.tagName!=="IFRAME"&&document.body.compareDocumentPosition(O)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var T=l.find(O);T!=null&&(T.domNode.parentNode!=null&&T.domNode.parentNode!==n.domNode||T.detach())}}),w.filter(function(O){return O.parentNode==n.domNode}).sort(function(O,T){return O===T?0:O.compareDocumentPosition(T)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(O){var T=null;O.nextSibling!=null&&(T=l.find(O.nextSibling));var P=o(O);P.next==T&&P.next!=null||(P.parent!=null&&P.parent.removeChild(n),n.insertBefore(P,T||void 0))})},u}(h.default);function o(e){var u=l.find(e);if(u==null)try{u=l.create(e)}catch(c){u=l.create(l.Scope.INLINE),[].slice.call(e.childNodes).forEach(function(f){u.domNode.appendChild(f)}),e.parentNode&&e.parentNode.replaceChild(u.domNode,e),u.attach()}return u}y.default=a},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,u){e.__proto__=u}||function(e,u){for(var c in u)u.hasOwnProperty(c)&&(e[c]=u[c])},function(e,u){function c(){this.constructor=e}v(e,u),e.prototype=u===null?Object.create(u):(c.prototype=u.prototype,new c)});Object.defineProperty(y,"__esModule",{value:!0});var b=g(12),h=g(31),l=g(17),a=g(1),o=function(e){function u(c){var f=e.call(this,c)||this;return f.attributes=new h.default(f.domNode),f}return E(u,e),u.formats=function(c){return typeof this.tagName=="string"||(Array.isArray(this.tagName)?c.tagName.toLowerCase():void 0)},u.prototype.format=function(c,f){var n=a.query(c);n instanceof b.default?this.attributes.attribute(n,f):f&&(n==null||c===this.statics.blotName&&this.formats()[c]===f||this.replaceWith(c,f))},u.prototype.formats=function(){var c=this.attributes.values(),f=this.statics.formats(this.domNode);return f!=null&&(c[this.statics.blotName]=f),c},u.prototype.replaceWith=function(c,f){var n=e.prototype.replaceWith.call(this,c,f);return this.attributes.copy(n),n},u.prototype.update=function(c,f){var n=this;e.prototype.update.call(this,c,f),c.some(function(w){return w.target===n.domNode&&w.type==="attributes"})&&this.attributes.build()},u.prototype.wrap=function(c,f){var n=e.prototype.wrap.call(this,c,f);return n instanceof u&&n.statics.scope===this.statics.scope&&this.attributes.move(n),n},u}(l.default);y.default=o},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var e in o)o.hasOwnProperty(e)&&(a[e]=o[e])},function(a,o){function e(){this.constructor=a}v(a,o),a.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)});Object.defineProperty(y,"__esModule",{value:!0});var b=g(30),h=g(1),l=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return E(o,a),o.value=function(e){return!0},o.prototype.index=function(e,u){return this.domNode===e||this.domNode.compareDocumentPosition(e)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(u,1):-1},o.prototype.position=function(e,u){var c=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return e>0&&(c+=1),[this.parent.domNode,c]},o.prototype.value=function(){var e;return(e={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,e},o.scope=h.Scope.INLINE_BLOT,o}(b.default);y.default=l},function(S,y,g){var v=g(11),E=g(3),b={attributes:{compose:function(l,a,o){typeof l!="object"&&(l={}),typeof a!="object"&&(a={});var e=E(!0,{},a);for(var u in o||(e=Object.keys(e).reduce(function(c,f){return e[f]!=null&&(c[f]=e[f]),c},{})),l)l[u]!==void 0&&a[u]===void 0&&(e[u]=l[u]);return Object.keys(e).length>0?e:void 0},diff:function(l,a){typeof l!="object"&&(l={}),typeof a!="object"&&(a={});var o=Object.keys(l).concat(Object.keys(a)).reduce(function(e,u){return v(l[u],a[u])||(e[u]=a[u]===void 0?null:a[u]),e},{});return Object.keys(o).length>0?o:void 0},transform:function(l,a,o){if(typeof l!="object")return a;if(typeof a=="object"){if(!o)return a;var e=Object.keys(a).reduce(function(u,c){return l[c]===void 0&&(u[c]=a[c]),u},{});return Object.keys(e).length>0?e:void 0}}},iterator:function(l){return new h(l)},length:function(l){return typeof l.delete=="number"?l.delete:typeof l.retain=="number"?l.retain:typeof l.insert=="string"?l.insert.length:1}};function h(l){this.ops=l,this.index=0,this.offset=0}h.prototype.hasNext=function(){return this.peekLength()<1/0},h.prototype.next=function(l){l||(l=1/0);var a=this.ops[this.index];if(a){var o=this.offset,e=b.length(a);if(l>=e-o?(l=e-o,this.index+=1,this.offset=0):this.offset+=l,typeof a.delete=="number")return{delete:l};var u={};return a.attributes&&(u.attributes=a.attributes),typeof a.retain=="number"?u.retain=l:typeof a.insert=="string"?u.insert=a.insert.substr(o,l):u.insert=a.insert,u}return{retain:1/0}},h.prototype.peek=function(){return this.ops[this.index]},h.prototype.peekLength=function(){return this.ops[this.index]?b.length(this.ops[this.index])-this.offset:1/0},h.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},h.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var l=this.offset,a=this.index,o=this.next(),e=this.ops.slice(this.index);return this.offset=l,this.index=a,[o].concat(e)}return[]},S.exports=b},function(S,y){var g=function(){"use strict";function v(e,u){return u!=null&&e instanceof u}var E,b,h;try{E=Map}catch(e){E=function(){}}try{b=Set}catch(e){b=function(){}}try{h=Promise}catch(e){h=function(){}}function l(e,u,c,f,n){typeof u=="object"&&(c=u.depth,f=u.prototype,n=u.includeNonEnumerable,u=u.circular);var w=[],I=[],O=typeof Je!="undefined";return u===void 0&&(u=!0),c===void 0&&(c=1/0),function T(P,A){if(P===null)return null;if(A===0)return P;var R,F;if(typeof P!="object")return P;if(v(P,E))R=new E;else if(v(P,b))R=new b;else if(v(P,h))R=new h(function(q,D){P.then(function(U){q(T(U,A-1))},function(U){D(T(U,A-1))})});else if(l.__isArray(P))R=[];else if(l.__isRegExp(P))R=new RegExp(P.source,o(P)),P.lastIndex&&(R.lastIndex=P.lastIndex);else if(l.__isDate(P))R=new Date(P.getTime());else{if(O&&Je.isBuffer(P))return R=Je.allocUnsafe?Je.allocUnsafe(P.length):new Je(P.length),P.copy(R),R;v(P,Error)?R=Object.create(P):f===void 0?(F=Object.getPrototypeOf(P),R=Object.create(F)):(R=Object.create(f),F=f)}if(u){var W=w.indexOf(P);if(W!=-1)return I[W];w.push(P),I.push(R)}for(var X in v(P,E)&&P.forEach(function(q,D){var U=T(D,A-1),ie=T(q,A-1);R.set(U,ie)}),v(P,b)&&P.forEach(function(q){var D=T(q,A-1);R.add(D)}),P){var K;F&&(K=Object.getOwnPropertyDescriptor(F,X)),K&&K.set==null||(R[X]=T(P[X],A-1))}if(Object.getOwnPropertySymbols){var M=Object.getOwnPropertySymbols(P);for(X=0;X<M.length;X++){var z=M[X];(!(j=Object.getOwnPropertyDescriptor(P,z))||j.enumerable||n)&&(R[z]=T(P[z],A-1),j.enumerable||Object.defineProperty(R,z,{enumerable:!1}))}}if(n){var B=Object.getOwnPropertyNames(P);for(X=0;X<B.length;X++){var j,V=B[X];(j=Object.getOwnPropertyDescriptor(P,V))&&j.enumerable||(R[V]=T(P[V],A-1),Object.defineProperty(R,V,{enumerable:!1}))}}return R}(e,c)}function a(e){return Object.prototype.toString.call(e)}function o(e){var u="";return e.global&&(u+="g"),e.ignoreCase&&(u+="i"),e.multiline&&(u+="m"),u}return l.clonePrototype=function(e){if(e===null)return null;var u=function(){};return u.prototype=e,new u},l.__objToStr=a,l.__isDate=function(e){return typeof e=="object"&&a(e)==="[object Date]"},l.__isArray=function(e){return typeof e=="object"&&a(e)==="[object Array]"},l.__isRegExp=function(e){return typeof e=="object"&&a(e)==="[object RegExp]"},l.__getRegExpFlags=o,l}();typeof S=="object"&&S.exports&&(S.exports=g)},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=function(I,O){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function(T,P){var A=[],R=!0,F=!1,W=void 0;try{for(var X,K=T[Symbol.iterator]();!(R=(X=K.next()).done)&&(A.push(X.value),!P||A.length!==P);R=!0);}catch(M){F=!0,W=M}finally{try{!R&&K.return&&K.return()}finally{if(F)throw W}}return A}(I,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")},E=function(){function I(O,T){for(var P=0;P<T.length;P++){var A=T[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,T,P){return T&&I(O.prototype,T),P&&I(O,P),O}}(),b=function I(O,T,P){O===null&&(O=Function.prototype);var A=Object.getOwnPropertyDescriptor(O,T);if(A===void 0){var R=Object.getPrototypeOf(O);return R===null?void 0:I(R,T,P)}if("value"in A)return A.value;var F=A.get;return F!==void 0?F.call(P):void 0},h=f(g(0)),l=f(g(8)),a=g(4),o=f(a),e=f(g(16)),u=f(g(13)),c=f(g(25));function f(I){return I&&I.__esModule?I:{default:I}}function n(I){return I instanceof o.default||I instanceof a.BlockEmbed}var w=function(I){function O(T,P){(function(R,F){if(!(R instanceof F))throw new TypeError("Cannot call a class as a function")})(this,O);var A=function(R,F){if(!R)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||typeof F!="object"&&typeof F!="function"?R:F}(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,T));return A.emitter=P.emitter,Array.isArray(P.whitelist)&&(A.whitelist=P.whitelist.reduce(function(R,F){return R[F]=!0,R},{})),A.domNode.addEventListener("DOMNodeInserted",function(){}),A.optimize(),A.enable(),A}return function(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}(O,I),E(O,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(T,P){var A=this.line(T),R=v(A,2),F=R[0],W=R[1],X=this.line(T+P),K=v(X,1)[0];if(b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,T,P),K!=null&&F!==K&&W>0){if(F instanceof a.BlockEmbed||K instanceof a.BlockEmbed)return void this.optimize();if(F instanceof u.default){var M=F.newlineIndex(F.length(),!0);if(M>-1&&(F=F.split(M+1))===K)return void this.optimize()}else if(K instanceof u.default){var z=K.newlineIndex(0);z>-1&&K.split(z+1)}var B=K.children.head instanceof e.default?null:K.children.head;F.moveChildren(K,B),F.remove()}this.optimize()}},{key:"enable",value:function(){var T=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",T)}},{key:"formatAt",value:function(T,P,A,R){(this.whitelist==null||this.whitelist[A])&&(b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,T,P,A,R),this.optimize())}},{key:"insertAt",value:function(T,P,A){if(A==null||this.whitelist==null||this.whitelist[P]){if(T>=this.length())if(A==null||h.default.query(P,h.default.Scope.BLOCK)==null){var R=h.default.create(this.statics.defaultChild);this.appendChild(R),A==null&&P.endsWith(`
`)&&(P=P.slice(0,-1)),R.insertAt(0,P,A)}else{var F=h.default.create(P,A);this.appendChild(F)}else b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,T,P,A);this.optimize()}}},{key:"insertBefore",value:function(T,P){if(T.statics.scope===h.default.Scope.INLINE_BLOT){var A=h.default.create(this.statics.defaultChild);A.appendChild(T),T=A}b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,T,P)}},{key:"leaf",value:function(T){return this.path(T).pop()||[null,-1]}},{key:"line",value:function(T){return T===this.length()?this.line(T-1):this.descendant(n,T)}},{key:"lines",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,A=function R(F,W,X){var K=[],M=X;return F.children.forEachAt(W,X,function(z,B,j){n(z)?K.push(z):z instanceof h.default.Container&&(K=K.concat(R(z,B,M))),M-=j}),K};return A(this,T,P)}},{key:"optimize",value:function(){var T=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,T,P),T.length>0&&this.emitter.emit(l.default.events.SCROLL_OPTIMIZE,T,P))}},{key:"path",value:function(T){return b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,T).slice(1)}},{key:"update",value:function(T){if(this.batch!==!0){var P=l.default.sources.USER;typeof T=="string"&&(P=T),Array.isArray(T)||(T=this.observer.takeRecords()),T.length>0&&this.emitter.emit(l.default.events.SCROLL_BEFORE_UPDATE,P,T),b(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"update",this).call(this,T.concat([])),T.length>0&&this.emitter.emit(l.default.events.SCROLL_UPDATE,P,T)}}}]),O}(h.default.Scroll);w.blotName="scroll",w.className="ql-editor",w.tagName="DIV",w.defaultChild="block",w.allowedChildren=[o.default,a.BlockEmbed,c.default],y.default=w},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.SHORTKEY=y.default=void 0;var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(B){return typeof B}:function(B){return B&&typeof Symbol=="function"&&B.constructor===Symbol&&B!==Symbol.prototype?"symbol":typeof B},E=function(B,j){if(Array.isArray(B))return B;if(Symbol.iterator in Object(B))return function(V,q){var D=[],U=!0,ie=!1,re=void 0;try{for(var ue,ae=V[Symbol.iterator]();!(U=(ue=ae.next()).done)&&(D.push(ue.value),!q||D.length!==q);U=!0);}catch(Z){ie=!0,re=Z}finally{try{!U&&ae.return&&ae.return()}finally{if(ie)throw re}}return D}(B,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")},b=function(){function B(j,V){for(var q=0;q<V.length;q++){var D=V[q];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(j,D.key,D)}}return function(j,V,q){return V&&B(j.prototype,V),q&&B(j,q),j}}(),h=w(g(21)),l=w(g(11)),a=w(g(3)),o=w(g(2)),e=w(g(20)),u=w(g(0)),c=w(g(5)),f=w(g(10)),n=w(g(9));function w(B){return B&&B.__esModule?B:{default:B}}function I(B,j,V){return j in B?Object.defineProperty(B,j,{value:V,enumerable:!0,configurable:!0,writable:!0}):B[j]=V,B}var O=(0,f.default)("quill:keyboard"),T=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",P=function(B){function j(V,q){(function(U,ie){if(!(U instanceof ie))throw new TypeError("Cannot call a class as a function")})(this,j);var D=function(U,ie){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ie||typeof ie!="object"&&typeof ie!="function"?U:ie}(this,(j.__proto__||Object.getPrototypeOf(j)).call(this,V,q));return D.bindings={},Object.keys(D.options.bindings).forEach(function(U){(U!=="list autofill"||V.scroll.whitelist==null||V.scroll.whitelist.list)&&D.options.bindings[U]&&D.addBinding(D.options.bindings[U])}),D.addBinding({key:j.keys.ENTER,shiftKey:null},X),D.addBinding({key:j.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(D.addBinding({key:j.keys.BACKSPACE},{collapsed:!0},R),D.addBinding({key:j.keys.DELETE},{collapsed:!0},F)):(D.addBinding({key:j.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},R),D.addBinding({key:j.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),D.addBinding({key:j.keys.BACKSPACE},{collapsed:!1},W),D.addBinding({key:j.keys.DELETE},{collapsed:!1},W),D.addBinding({key:j.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},R),D.listen(),D}return function(V,q){if(typeof q!="function"&&q!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof q);V.prototype=Object.create(q&&q.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),q&&(Object.setPrototypeOf?Object.setPrototypeOf(V,q):V.__proto__=q)}(j,B),b(j,null,[{key:"match",value:function(V,q){return q=z(q),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(D){return!!q[D]!==V[D]&&q[D]!==null})&&q.key===(V.which||V.keyCode)}}]),b(j,[{key:"addBinding",value:function(V){var q=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},U=z(V);if(U==null||U.key==null)return O.warn("Attempted to add invalid keyboard binding",U);typeof q=="function"&&(q={handler:q}),typeof D=="function"&&(D={handler:D}),U=(0,a.default)(U,q,D),this.bindings[U.key]=this.bindings[U.key]||[],this.bindings[U.key].push(U)}},{key:"listen",value:function(){var V=this;this.quill.root.addEventListener("keydown",function(q){if(!q.defaultPrevented){var D=q.which||q.keyCode,U=(V.bindings[D]||[]).filter(function(Le){return j.match(q,Le)});if(U.length!==0){var ie=V.quill.getSelection();if(ie!=null&&V.quill.hasFocus()){var re=V.quill.getLine(ie.index),ue=E(re,2),ae=ue[0],Z=ue[1],$=V.quill.getLeaf(ie.index),ce=E($,2),fe=ce[0],we=ce[1],le=ie.length===0?[fe,we]:V.quill.getLeaf(ie.index+ie.length),Se=E(le,2),je=Se[0],Ne=Se[1],Be=fe instanceof u.default.Text?fe.value().slice(0,we):"",Me=je instanceof u.default.Text?je.value().slice(Ne):"",Re={collapsed:ie.length===0,empty:ie.length===0&&ae.length()<=1,format:V.quill.getFormat(ie),offset:Z,prefix:Be,suffix:Me};U.some(function(Le){if(Le.collapsed!=null&&Le.collapsed!==Re.collapsed||Le.empty!=null&&Le.empty!==Re.empty||Le.offset!=null&&Le.offset!==Re.offset)return!1;if(Array.isArray(Le.format)){if(Le.format.every(function(qe){return Re.format[qe]==null}))return!1}else if(v(Le.format)==="object"&&!Object.keys(Le.format).every(function(qe){return Le.format[qe]===!0?Re.format[qe]!=null:Le.format[qe]===!1?Re.format[qe]==null:(0,l.default)(Le.format[qe],Re.format[qe])}))return!1;return!(Le.prefix!=null&&!Le.prefix.test(Re.prefix)||Le.suffix!=null&&!Le.suffix.test(Re.suffix)||Le.handler.call(V,ie,Re)===!0)})&&q.preventDefault()}}}})}}]),j}(n.default);function A(B,j){var V,q=B===P.keys.LEFT?"prefix":"suffix";return I(V={key:B,shiftKey:j,altKey:null},q,/^$/),I(V,"handler",function(D){var U=D.index;B===P.keys.RIGHT&&(U+=D.length+1);var ie=this.quill.getLeaf(U);return!(E(ie,1)[0]instanceof u.default.Embed&&(B===P.keys.LEFT?j?this.quill.setSelection(D.index-1,D.length+1,c.default.sources.USER):this.quill.setSelection(D.index-1,c.default.sources.USER):j?this.quill.setSelection(D.index,D.length+1,c.default.sources.USER):this.quill.setSelection(D.index+D.length+1,c.default.sources.USER),1))}),V}function R(B,j){if(!(B.index===0||this.quill.getLength()<=1)){var V=this.quill.getLine(B.index),q=E(V,1)[0],D={};if(j.offset===0){var U=this.quill.getLine(B.index-1),ie=E(U,1)[0];if(ie!=null&&ie.length()>1){var re=q.formats(),ue=this.quill.getFormat(B.index-1,1);D=e.default.attributes.diff(re,ue)||{}}}var ae=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(j.prefix)?2:1;this.quill.deleteText(B.index-ae,ae,c.default.sources.USER),Object.keys(D).length>0&&this.quill.formatLine(B.index-ae,ae,D,c.default.sources.USER),this.quill.focus()}}function F(B,j){var V=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(j.suffix)?2:1;if(!(B.index>=this.quill.getLength()-V)){var q={},D=0,U=this.quill.getLine(B.index),ie=E(U,1)[0];if(j.offset>=ie.length()-1){var re=this.quill.getLine(B.index+1),ue=E(re,1)[0];if(ue){var ae=ie.formats(),Z=this.quill.getFormat(B.index,1);q=e.default.attributes.diff(ae,Z)||{},D=ue.length()}}this.quill.deleteText(B.index,V,c.default.sources.USER),Object.keys(q).length>0&&this.quill.formatLine(B.index+D-1,V,q,c.default.sources.USER)}}function W(B){var j=this.quill.getLines(B),V={};if(j.length>1){var q=j[0].formats(),D=j[j.length-1].formats();V=e.default.attributes.diff(D,q)||{}}this.quill.deleteText(B,c.default.sources.USER),Object.keys(V).length>0&&this.quill.formatLine(B.index,1,V,c.default.sources.USER),this.quill.setSelection(B.index,c.default.sources.SILENT),this.quill.focus()}function X(B,j){var V=this;B.length>0&&this.quill.scroll.deleteAt(B.index,B.length);var q=Object.keys(j.format).reduce(function(D,U){return u.default.query(U,u.default.Scope.BLOCK)&&!Array.isArray(j.format[U])&&(D[U]=j.format[U]),D},{});this.quill.insertText(B.index,`
`,q,c.default.sources.USER),this.quill.setSelection(B.index+1,c.default.sources.SILENT),this.quill.focus(),Object.keys(j.format).forEach(function(D){q[D]==null&&(Array.isArray(j.format[D])||D!=="link"&&V.quill.format(D,j.format[D],c.default.sources.USER))})}function K(B){return{key:P.keys.TAB,shiftKey:!B,format:{"code-block":!0},handler:function(j){var V=u.default.query("code-block"),q=j.index,D=j.length,U=this.quill.scroll.descendant(V,q),ie=E(U,2),re=ie[0],ue=ie[1];if(re!=null){var ae=this.quill.getIndex(re),Z=re.newlineIndex(ue,!0)+1,$=re.newlineIndex(ae+ue+D),ce=re.domNode.textContent.slice(Z,$).split(`
`);ue=0,ce.forEach(function(fe,we){B?(re.insertAt(Z+ue,V.TAB),ue+=V.TAB.length,we===0?q+=V.TAB.length:D+=V.TAB.length):fe.startsWith(V.TAB)&&(re.deleteAt(Z+ue,V.TAB.length),ue-=V.TAB.length,we===0?q-=V.TAB.length:D-=V.TAB.length),ue+=fe.length+1}),this.quill.update(c.default.sources.USER),this.quill.setSelection(q,D,c.default.sources.SILENT)}}}}function M(B){return{key:B[0].toUpperCase(),shortKey:!0,handler:function(j,V){this.quill.format(B,!V.format[B],c.default.sources.USER)}}}function z(B){if(typeof B=="string"||typeof B=="number")return z({key:B});if((B===void 0?"undefined":v(B))==="object"&&(B=(0,h.default)(B,!1)),typeof B.key=="string")if(P.keys[B.key.toUpperCase()]!=null)B.key=P.keys[B.key.toUpperCase()];else{if(B.key.length!==1)return null;B.key=B.key.toUpperCase().charCodeAt(0)}return B.shortKey&&(B[T]=B.shortKey,delete B.shortKey),B}P.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},P.DEFAULTS={bindings:{bold:M("bold"),italic:M("italic"),underline:M("underline"),indent:{key:P.keys.TAB,format:["blockquote","indent","list"],handler:function(B,j){if(j.collapsed&&j.offset!==0)return!0;this.quill.format("indent","+1",c.default.sources.USER)}},outdent:{key:P.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(B,j){if(j.collapsed&&j.offset!==0)return!0;this.quill.format("indent","-1",c.default.sources.USER)}},"outdent backspace":{key:P.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(B,j){j.format.indent!=null?this.quill.format("indent","-1",c.default.sources.USER):j.format.list!=null&&this.quill.format("list",!1,c.default.sources.USER)}},"indent code-block":K(!0),"outdent code-block":K(!1),"remove tab":{key:P.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(B){this.quill.deleteText(B.index-1,1,c.default.sources.USER)}},tab:{key:P.keys.TAB,handler:function(B){this.quill.history.cutoff();var j=new o.default().retain(B.index).delete(B.length).insert("	");this.quill.updateContents(j,c.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index+1,c.default.sources.SILENT)}},"list empty enter":{key:P.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(B,j){this.quill.format("list",!1,c.default.sources.USER),j.format.indent&&this.quill.format("indent",!1,c.default.sources.USER)}},"checklist enter":{key:P.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(B){var j=this.quill.getLine(B.index),V=E(j,2),q=V[0],D=V[1],U=(0,a.default)({},q.formats(),{list:"checked"}),ie=new o.default().retain(B.index).insert(`
`,U).retain(q.length()-D-1).retain(1,{list:"unchecked"});this.quill.updateContents(ie,c.default.sources.USER),this.quill.setSelection(B.index+1,c.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:P.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(B,j){var V=this.quill.getLine(B.index),q=E(V,2),D=q[0],U=q[1],ie=new o.default().retain(B.index).insert(`
`,j.format).retain(D.length()-U-1).retain(1,{header:null});this.quill.updateContents(ie,c.default.sources.USER),this.quill.setSelection(B.index+1,c.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(B,j){var V=j.prefix.length,q=this.quill.getLine(B.index),D=E(q,2),U=D[0],ie=D[1];if(ie>V)return!0;var re=void 0;switch(j.prefix.trim()){case"[]":case"[ ]":re="unchecked";break;case"[x]":re="checked";break;case"-":case"*":re="bullet";break;default:re="ordered"}this.quill.insertText(B.index," ",c.default.sources.USER),this.quill.history.cutoff();var ue=new o.default().retain(B.index-ie).delete(V+1).retain(U.length()-2-ie).retain(1,{list:re});this.quill.updateContents(ue,c.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(B.index-V,c.default.sources.SILENT)}},"code exit":{key:P.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(B){var j=this.quill.getLine(B.index),V=E(j,2),q=V[0],D=V[1],U=new o.default().retain(B.index+q.length()-D-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(U,c.default.sources.USER)}},"embed left":A(P.keys.LEFT,!1),"embed left shift":A(P.keys.LEFT,!0),"embed right":A(P.keys.RIGHT,!1),"embed right shift":A(P.keys.RIGHT,!0)}},y.default=P,y.SHORTKEY=T},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=function o(e,u,c){e===null&&(e=Function.prototype);var f=Object.getOwnPropertyDescriptor(e,u);if(f===void 0){var n=Object.getPrototypeOf(e);return n===null?void 0:o(n,u,c)}if("value"in f)return f.value;var w=f.get;return w!==void 0?w.call(c):void 0},E=function(){function o(e,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(e,f.key,f)}}return function(e,u,c){return u&&o(e.prototype,u),c&&o(e,c),e}}(),b=l(g(0)),h=l(g(7));function l(o){return o&&o.__esModule?o:{default:o}}var a=function(o){function e(u,c){(function(n,w){if(!(n instanceof w))throw new TypeError("Cannot call a class as a function")})(this,e);var f=function(n,w){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?n:w}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,u));return f.selection=c,f.textNode=document.createTextNode(e.CONTENTS),f.domNode.appendChild(f.textNode),f._length=0,f}return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}(e,o),E(e,null,[{key:"value",value:function(){}}]),E(e,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(u,c){if(this._length!==0)return v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"format",this).call(this,u,c);for(var f=this,n=0;f!=null&&f.statics.scope!==b.default.Scope.BLOCK_BLOT;)n+=f.offset(f.parent),f=f.parent;f!=null&&(this._length=e.CONTENTS.length,f.optimize(),f.formatAt(n,e.CONTENTS.length,u,c),this._length=0)}},{key:"index",value:function(u,c){return u===this.textNode?0:v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"index",this).call(this,u,c)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){v(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&this.parent!=null){var u=this.textNode,c=this.selection.getNativeRange(),f=void 0,n=void 0,w=void 0;if(c!=null&&c.start.node===u&&c.end.node===u){var I=[u,c.start.offset,c.end.offset];f=I[0],n=I[1],w=I[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==e.CONTENTS){var O=this.textNode.data.split(e.CONTENTS).join("");this.next instanceof h.default?(f=this.next.domNode,this.next.insertAt(0,O),this.textNode.data=e.CONTENTS):(this.textNode.data=O,this.parent.insertBefore(b.default.create(this.textNode),this),this.textNode=document.createTextNode(e.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),n!=null){var T=function(P,A){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return function(R,F){var W=[],X=!0,K=!1,M=void 0;try{for(var z,B=R[Symbol.iterator]();!(X=(z=B.next()).done)&&(W.push(z.value),!F||W.length!==F);X=!0);}catch(j){K=!0,M=j}finally{try{!X&&B.return&&B.return()}finally{if(K)throw M}}return W}(P,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([n,w].map(function(P){return Math.max(0,Math.min(f.data.length,P-1))}),2);return n=T[0],w=T[1],{startNode:f,startOffset:n,endNode:f,endOffset:w}}}}},{key:"update",value:function(u,c){var f=this;if(u.some(function(w){return w.type==="characterData"&&w.target===f.textNode})){var n=this.restore();n&&(c.range=n)}}},{key:"value",value:function(){return""}}]),e}(b.default.Embed);a.blotName="cursor",a.className="ql-cursor",a.tagName="span",a.CONTENTS="\uFEFF",y.default=a},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=h(g(0)),E=g(4),b=h(E);function h(e){return e&&e.__esModule?e:{default:e}}function l(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}function a(e,u){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?e:u}var o=function(e){function u(){return l(this,u),a(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}(u,e),u}(v.default.Container);o.allowedChildren=[b.default,E.BlockEmbed,o],y.default=o},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.ColorStyle=y.ColorClass=y.ColorAttributor=void 0;var v,E=function(){function c(f,n){for(var w=0;w<n.length;w++){var I=n[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(f,I.key,I)}}return function(f,n,w){return n&&c(f.prototype,n),w&&c(f,w),f}}(),b=function c(f,n,w){f===null&&(f=Function.prototype);var I=Object.getOwnPropertyDescriptor(f,n);if(I===void 0){var O=Object.getPrototypeOf(f);return O===null?void 0:c(O,n,w)}if("value"in I)return I.value;var T=I.get;return T!==void 0?T.call(w):void 0},h=(v=g(0))&&v.__esModule?v:{default:v};function l(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function a(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}var o=function(c){function f(){return l(this,f),a(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function(n,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);n.prototype=Object.create(w&&w.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(n,w):n.__proto__=w)}(f,c),E(f,[{key:"value",value:function(n){var w=b(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"value",this).call(this,n);return w.startsWith("rgb(")?"#"+(w=w.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(I){return("00"+parseInt(I).toString(16)).slice(-2)}).join(""):w}}]),f}(h.default.Attributor.Style),e=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),u=new o("color","color",{scope:h.default.Scope.INLINE});y.ColorAttributor=o,y.ColorClass=e,y.ColorStyle=u},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.sanitize=y.default=void 0;var v,E=function(){function e(u,c){for(var f=0;f<c.length;f++){var n=c[f];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(u,n.key,n)}}return function(u,c,f){return c&&e(u.prototype,c),f&&e(u,f),u}}(),b=function e(u,c,f){u===null&&(u=Function.prototype);var n=Object.getOwnPropertyDescriptor(u,c);if(n===void 0){var w=Object.getPrototypeOf(u);return w===null?void 0:e(w,c,f)}if("value"in n)return n.value;var I=n.get;return I!==void 0?I.call(f):void 0};function h(e,u){if(!(e instanceof u))throw new TypeError("Cannot call a class as a function")}function l(e,u){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?e:u}var a=function(e){function u(){return h(this,u),l(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}(u,e),E(u,[{key:"format",value:function(c,f){if(c!==this.statics.blotName||!f)return b(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"format",this).call(this,c,f);f=this.constructor.sanitize(f),this.domNode.setAttribute("href",f)}}],[{key:"create",value:function(c){var f=b(u.__proto__||Object.getPrototypeOf(u),"create",this).call(this,c);return c=this.sanitize(c),f.setAttribute("href",c),f.setAttribute("rel","noopener noreferrer"),f.setAttribute("target","_blank"),f}},{key:"formats",value:function(c){return c.getAttribute("href")}},{key:"sanitize",value:function(c){return o(c,this.PROTOCOL_WHITELIST)?c:this.SANITIZED_URL}}]),u}(((v=g(6))&&v.__esModule?v:{default:v}).default);function o(e,u){var c=document.createElement("a");c.href=e;var f=c.href.slice(0,c.href.indexOf(":"));return u.indexOf(f)>-1}a.blotName="link",a.tagName="A",a.SANITIZED_URL="about:blank",a.PROTOCOL_WHITELIST=["http","https","mailto","tel"],y.default=a,y.sanitize=o},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(u){return typeof u}:function(u){return u&&typeof Symbol=="function"&&u.constructor===Symbol&&u!==Symbol.prototype?"symbol":typeof u},E=function(){function u(c,f){for(var n=0;n<f.length;n++){var w=f[n];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,f,n){return f&&u(c.prototype,f),n&&u(c,n),c}}(),b=l(g(23)),h=l(g(107));function l(u){return u&&u.__esModule?u:{default:u}}var a=0;function o(u,c){u.setAttribute(c,u.getAttribute(c)!=="true")}var e=function(){function u(c){var f=this;(function(n,w){if(!(n instanceof w))throw new TypeError("Cannot call a class as a function")})(this,u),this.select=c,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){f.togglePicker()}),this.label.addEventListener("keydown",function(n){switch(n.keyCode){case b.default.keys.ENTER:f.togglePicker();break;case b.default.keys.ESCAPE:f.escape(),n.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return E(u,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),o(this.label,"aria-expanded"),o(this.options,"aria-hidden")}},{key:"buildItem",value:function(c){var f=this,n=document.createElement("span");return n.tabIndex="0",n.setAttribute("role","button"),n.classList.add("ql-picker-item"),c.hasAttribute("value")&&n.setAttribute("data-value",c.getAttribute("value")),c.textContent&&n.setAttribute("data-label",c.textContent),n.addEventListener("click",function(){f.selectItem(n,!0)}),n.addEventListener("keydown",function(w){switch(w.keyCode){case b.default.keys.ENTER:f.selectItem(n,!0),w.preventDefault();break;case b.default.keys.ESCAPE:f.escape(),w.preventDefault()}}),n}},{key:"buildLabel",value:function(){var c=document.createElement("span");return c.classList.add("ql-picker-label"),c.innerHTML=h.default,c.tabIndex="0",c.setAttribute("role","button"),c.setAttribute("aria-expanded","false"),this.container.appendChild(c),c}},{key:"buildOptions",value:function(){var c=this,f=document.createElement("span");f.classList.add("ql-picker-options"),f.setAttribute("aria-hidden","true"),f.tabIndex="-1",f.id="ql-picker-options-"+a,a+=1,this.label.setAttribute("aria-controls",f.id),this.options=f,[].slice.call(this.select.options).forEach(function(n){var w=c.buildItem(n);f.appendChild(w),n.selected===!0&&c.selectItem(w)}),this.container.appendChild(f)}},{key:"buildPicker",value:function(){var c=this;[].slice.call(this.select.attributes).forEach(function(f){c.container.setAttribute(f.name,f.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var c=this;this.close(),setTimeout(function(){return c.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(c){var f=arguments.length>1&&arguments[1]!==void 0&&arguments[1],n=this.container.querySelector(".ql-selected");if(c!==n&&(n!=null&&n.classList.remove("ql-selected"),c!=null&&(c.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(c.parentNode.children,c),c.hasAttribute("data-value")?this.label.setAttribute("data-value",c.getAttribute("data-value")):this.label.removeAttribute("data-value"),c.hasAttribute("data-label")?this.label.setAttribute("data-label",c.getAttribute("data-label")):this.label.removeAttribute("data-label"),f))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event=="undefined"?"undefined":v(Event))==="object"){var w=document.createEvent("Event");w.initEvent("change",!0,!0),this.select.dispatchEvent(w)}this.close()}}},{key:"update",value:function(){var c=void 0;if(this.select.selectedIndex>-1){var f=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];c=this.select.options[this.select.selectedIndex],this.selectItem(f)}else this.selectItem(null);var n=c!=null&&c!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",n)}}]),u}();y.default=e},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=O(g(0)),E=O(g(5)),b=g(4),h=O(b),l=O(g(16)),a=O(g(25)),o=O(g(24)),e=O(g(35)),u=O(g(6)),c=O(g(22)),f=O(g(7)),n=O(g(55)),w=O(g(42)),I=O(g(23));function O(T){return T&&T.__esModule?T:{default:T}}E.default.register({"blots/block":h.default,"blots/block/embed":b.BlockEmbed,"blots/break":l.default,"blots/container":a.default,"blots/cursor":o.default,"blots/embed":e.default,"blots/inline":u.default,"blots/scroll":c.default,"blots/text":f.default,"modules/clipboard":n.default,"modules/history":w.default,"modules/keyboard":I.default}),v.default.register(h.default,l.default,o.default,u.default,c.default,f.default),y.default=E.default},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=g(1),E=function(){function b(h){this.domNode=h,this.domNode[v.DATA_KEY]={blot:this}}return Object.defineProperty(b.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),b.create=function(h){if(this.tagName==null)throw new v.ParchmentError("Blot definition missing tagName");var l;return Array.isArray(this.tagName)?(typeof h=="string"&&(h=h.toUpperCase(),parseInt(h).toString()===h&&(h=parseInt(h))),l=typeof h=="number"?document.createElement(this.tagName[h-1]):this.tagName.indexOf(h)>-1?document.createElement(h):document.createElement(this.tagName[0])):l=document.createElement(this.tagName),this.className&&l.classList.add(this.className),l},b.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},b.prototype.clone=function(){var h=this.domNode.cloneNode(!1);return v.create(h)},b.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[v.DATA_KEY]},b.prototype.deleteAt=function(h,l){this.isolate(h,l).remove()},b.prototype.formatAt=function(h,l,a,o){var e=this.isolate(h,l);if(v.query(a,v.Scope.BLOT)!=null&&o)e.wrap(a,o);else if(v.query(a,v.Scope.ATTRIBUTE)!=null){var u=v.create(this.statics.scope);e.wrap(u),u.format(a,o)}},b.prototype.insertAt=function(h,l,a){var o=a==null?v.create("text",l):v.create(l,a),e=this.split(h);this.parent.insertBefore(o,e)},b.prototype.insertInto=function(h,l){l===void 0&&(l=null),this.parent!=null&&this.parent.children.remove(this);var a=null;h.children.insertBefore(this,l),l!=null&&(a=l.domNode),this.domNode.parentNode==h.domNode&&this.domNode.nextSibling==a||h.domNode.insertBefore(this.domNode,a),this.parent=h,this.attach()},b.prototype.isolate=function(h,l){var a=this.split(h);return a.split(l),a},b.prototype.length=function(){return 1},b.prototype.offset=function(h){return h===void 0&&(h=this.parent),this.parent==null||this==h?0:this.parent.children.offset(this)+this.parent.offset(h)},b.prototype.optimize=function(h){this.domNode[v.DATA_KEY]!=null&&delete this.domNode[v.DATA_KEY].mutations},b.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},b.prototype.replace=function(h){h.parent!=null&&(h.parent.insertBefore(this,h.next),h.remove())},b.prototype.replaceWith=function(h,l){var a=typeof h=="string"?v.create(h,l):h;return a.replace(this),a},b.prototype.split=function(h,l){return h===0?this:this.next},b.prototype.update=function(h,l){},b.prototype.wrap=function(h,l){var a=typeof h=="string"?v.create(h,l):h;return this.parent!=null&&this.parent.insertBefore(a,this.next),a.appendChild(this),a},b.blotName="abstract",b}();y.default=E},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=g(12),E=g(32),b=g(33),h=g(1),l=function(){function a(o){this.attributes={},this.domNode=o,this.build()}return a.prototype.attribute=function(o,e){e?o.add(this.domNode,e)&&(o.value(this.domNode)!=null?this.attributes[o.attrName]=o:delete this.attributes[o.attrName]):(o.remove(this.domNode),delete this.attributes[o.attrName])},a.prototype.build=function(){var o=this;this.attributes={};var e=v.default.keys(this.domNode),u=E.default.keys(this.domNode),c=b.default.keys(this.domNode);e.concat(u).concat(c).forEach(function(f){var n=h.query(f,h.Scope.ATTRIBUTE);n instanceof v.default&&(o.attributes[n.attrName]=n)})},a.prototype.copy=function(o){var e=this;Object.keys(this.attributes).forEach(function(u){var c=e.attributes[u].value(e.domNode);o.format(u,c)})},a.prototype.move=function(o){var e=this;this.copy(o),Object.keys(this.attributes).forEach(function(u){e.attributes[u].remove(e.domNode)}),this.attributes={}},a.prototype.values=function(){var o=this;return Object.keys(this.attributes).reduce(function(e,u){return e[u]=o.attributes[u].value(o.domNode),e},{})},a}();y.default=l},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var o in a)a.hasOwnProperty(o)&&(l[o]=a[o])},function(l,a){function o(){this.constructor=l}v(l,a),l.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)});function b(l,a){return(l.getAttribute("class")||"").split(/\s+/).filter(function(o){return o.indexOf(a+"-")===0})}Object.defineProperty(y,"__esModule",{value:!0});var h=function(l){function a(){return l!==null&&l.apply(this,arguments)||this}return E(a,l),a.keys=function(o){return(o.getAttribute("class")||"").split(/\s+/).map(function(e){return e.split("-").slice(0,-1).join("-")})},a.prototype.add=function(o,e){return!!this.canAdd(o,e)&&(this.remove(o),o.classList.add(this.keyName+"-"+e),!0)},a.prototype.remove=function(o){b(o,this.keyName).forEach(function(e){o.classList.remove(e)}),o.classList.length===0&&o.removeAttribute("class")},a.prototype.value=function(o){var e=(b(o,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(o,e)?e:""},a}(g(12).default);y.default=h},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(l,a){l.__proto__=a}||function(l,a){for(var o in a)a.hasOwnProperty(o)&&(l[o]=a[o])},function(l,a){function o(){this.constructor=l}v(l,a),l.prototype=a===null?Object.create(a):(o.prototype=a.prototype,new o)});function b(l){var a=l.split("-"),o=a.slice(1).map(function(e){return e[0].toUpperCase()+e.slice(1)}).join("");return a[0]+o}Object.defineProperty(y,"__esModule",{value:!0});var h=function(l){function a(){return l!==null&&l.apply(this,arguments)||this}return E(a,l),a.keys=function(o){return(o.getAttribute("style")||"").split(";").map(function(e){return e.split(":")[0].trim()})},a.prototype.add=function(o,e){return!!this.canAdd(o,e)&&(o.style[b(this.keyName)]=e,!0)},a.prototype.remove=function(o){o.style[b(this.keyName)]="",o.getAttribute("style")||o.removeAttribute("style")},a.prototype.value=function(o){var e=o.style[b(this.keyName)];return this.canAdd(o,e)?e:""},a}(g(12).default);y.default=h},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=function(){function b(h,l){for(var a=0;a<l.length;a++){var o=l[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}return function(h,l,a){return l&&b(h.prototype,l),a&&b(h,a),h}}(),E=function(){function b(h,l){(function(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")})(this,b),this.quill=h,this.options=l,this.modules={}}return v(b,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(l){h.modules[l]==null&&h.addModule(l)})}},{key:"addModule",value:function(h){var l=this.quill.constructor.import("modules/"+h);return this.modules[h]=new l(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),b}();E.DEFAULTS={modules:{}},E.themes={default:E},y.default=E},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=function(){function e(u,c){for(var f=0;f<c.length;f++){var n=c[f];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(u,n.key,n)}}return function(u,c,f){return c&&e(u.prototype,c),f&&e(u,f),u}}(),E=function e(u,c,f){u===null&&(u=Function.prototype);var n=Object.getOwnPropertyDescriptor(u,c);if(n===void 0){var w=Object.getPrototypeOf(u);return w===null?void 0:e(w,c,f)}if("value"in n)return n.value;var I=n.get;return I!==void 0?I.call(f):void 0},b=l(g(0)),h=l(g(7));function l(e){return e&&e.__esModule?e:{default:e}}var a="\uFEFF",o=function(e){function u(c){(function(n,w){if(!(n instanceof w))throw new TypeError("Cannot call a class as a function")})(this,u);var f=function(n,w){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?n:w}(this,(u.__proto__||Object.getPrototypeOf(u)).call(this,c));return f.contentNode=document.createElement("span"),f.contentNode.setAttribute("contenteditable",!1),[].slice.call(f.domNode.childNodes).forEach(function(n){f.contentNode.appendChild(n)}),f.leftGuard=document.createTextNode(a),f.rightGuard=document.createTextNode(a),f.domNode.appendChild(f.leftGuard),f.domNode.appendChild(f.contentNode),f.domNode.appendChild(f.rightGuard),f}return function(c,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);c.prototype=Object.create(f&&f.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(c,f):c.__proto__=f)}(u,e),v(u,[{key:"index",value:function(c,f){return c===this.leftGuard?0:c===this.rightGuard?1:E(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"index",this).call(this,c,f)}},{key:"restore",value:function(c){var f=void 0,n=void 0,w=c.data.split(a).join("");if(c===this.leftGuard)if(this.prev instanceof h.default){var I=this.prev.length();this.prev.insertAt(I,w),f={startNode:this.prev.domNode,startOffset:I+w.length}}else n=document.createTextNode(w),this.parent.insertBefore(b.default.create(n),this),f={startNode:n,startOffset:w.length};else c===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,w),f={startNode:this.next.domNode,startOffset:w.length}):(n=document.createTextNode(w),this.parent.insertBefore(b.default.create(n),this.next),f={startNode:n,startOffset:w.length}));return c.data=a,f}},{key:"update",value:function(c,f){var n=this;c.forEach(function(w){if(w.type==="characterData"&&(w.target===n.leftGuard||w.target===n.rightGuard)){var I=n.restore(w.target);I&&(f.range=I)}})}}]),u}(b.default.Embed);y.default=o},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.AlignStyle=y.AlignClass=y.AlignAttribute=void 0;var v,E=(v=g(0))&&v.__esModule?v:{default:v},b={scope:E.default.Scope.BLOCK,whitelist:["right","center","justify"]},h=new E.default.Attributor.Attribute("align","align",b),l=new E.default.Attributor.Class("align","ql-align",b),a=new E.default.Attributor.Style("align","text-align",b);y.AlignAttribute=h,y.AlignClass=l,y.AlignStyle=a},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.BackgroundStyle=y.BackgroundClass=void 0;var v,E=(v=g(0))&&v.__esModule?v:{default:v},b=g(26),h=new E.default.Attributor.Class("background","ql-bg",{scope:E.default.Scope.INLINE}),l=new b.ColorAttributor("background","background-color",{scope:E.default.Scope.INLINE});y.BackgroundClass=h,y.BackgroundStyle=l},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.DirectionStyle=y.DirectionClass=y.DirectionAttribute=void 0;var v,E=(v=g(0))&&v.__esModule?v:{default:v},b={scope:E.default.Scope.BLOCK,whitelist:["rtl"]},h=new E.default.Attributor.Attribute("direction","dir",b),l=new E.default.Attributor.Class("direction","ql-direction",b),a=new E.default.Attributor.Style("direction","direction",b);y.DirectionAttribute=h,y.DirectionClass=l,y.DirectionStyle=a},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.FontClass=y.FontStyle=void 0;var v,E=function(){function f(n,w){for(var I=0;I<w.length;I++){var O=w[I];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(n,O.key,O)}}return function(n,w,I){return w&&f(n.prototype,w),I&&f(n,I),n}}(),b=function f(n,w,I){n===null&&(n=Function.prototype);var O=Object.getOwnPropertyDescriptor(n,w);if(O===void 0){var T=Object.getPrototypeOf(n);return T===null?void 0:f(T,w,I)}if("value"in O)return O.value;var P=O.get;return P!==void 0?P.call(I):void 0},h=(v=g(0))&&v.__esModule?v:{default:v};function l(f,n){if(!(f instanceof n))throw new TypeError("Cannot call a class as a function")}function a(f,n){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?f:n}var o={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},e=new h.default.Attributor.Class("font","ql-font",o),u=function(f){function n(){return l(this,n),a(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(w,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);w.prototype=Object.create(I&&I.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(w,I):w.__proto__=I)}(n,f),E(n,[{key:"value",value:function(w){return b(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"value",this).call(this,w).replace(/["']/g,"")}}]),n}(h.default.Attributor.Style),c=new u("font","font-family",o);y.FontStyle=c,y.FontClass=e},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.SizeStyle=y.SizeClass=void 0;var v,E=(v=g(0))&&v.__esModule?v:{default:v},b=new E.default.Attributor.Class("size","ql-size",{scope:E.default.Scope.INLINE,whitelist:["small","large","huge"]}),h=new E.default.Attributor.Style("size","font-size",{scope:E.default.Scope.INLINE,whitelist:["10px","18px","32px"]});y.SizeClass=b,y.SizeStyle=h},function(S,y,g){"use strict";S.exports={align:{"":g(76),center:g(77),right:g(78),justify:g(79)},background:g(80),blockquote:g(81),bold:g(82),clean:g(83),code:g(58),"code-block":g(58),color:g(84),direction:{"":g(85),rtl:g(86)},float:{center:g(87),full:g(88),left:g(89),right:g(90)},formula:g(91),header:{1:g(92),2:g(93)},italic:g(94),image:g(95),indent:{"+1":g(96),"-1":g(97)},link:g(98),list:{ordered:g(99),bullet:g(100),check:g(101)},script:{sub:g(102),super:g(103)},strike:g(104),underline:g(105),video:g(106)}},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.getLastChangeIndex=y.default=void 0;var v=function(){function o(e,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(e,f.key,f)}}return function(e,u,c){return u&&o(e.prototype,u),c&&o(e,c),e}}(),E=h(g(0)),b=h(g(5));function h(o){return o&&o.__esModule?o:{default:o}}var l=function(o){function e(u,c){(function(n,w){if(!(n instanceof w))throw new TypeError("Cannot call a class as a function")})(this,e);var f=function(n,w){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?n:w}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,u,c));return f.lastRecorded=0,f.ignoreChange=!1,f.clear(),f.quill.on(b.default.events.EDITOR_CHANGE,function(n,w,I,O){n!==b.default.events.TEXT_CHANGE||f.ignoreChange||(f.options.userOnly&&O!==b.default.sources.USER?f.transform(w):f.record(w,I))}),f.quill.keyboard.addBinding({key:"Z",shortKey:!0},f.undo.bind(f)),f.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},f.redo.bind(f)),/Win/i.test(navigator.platform)&&f.quill.keyboard.addBinding({key:"Y",shortKey:!0},f.redo.bind(f)),f}return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}(e,o),v(e,[{key:"change",value:function(u,c){if(this.stack[u].length!==0){var f=this.stack[u].pop();this.stack[c].push(f),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(f[u],b.default.sources.USER),this.ignoreChange=!1;var n=a(f[u]);this.quill.setSelection(n)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(u,c){if(u.ops.length!==0){this.stack.redo=[];var f=this.quill.getContents().diff(c),n=Date.now();if(this.lastRecorded+this.options.delay>n&&this.stack.undo.length>0){var w=this.stack.undo.pop();f=f.compose(w.undo),u=w.redo.compose(u)}else this.lastRecorded=n;this.stack.undo.push({redo:u,undo:f}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(u){this.stack.undo.forEach(function(c){c.undo=u.transform(c.undo,!0),c.redo=u.transform(c.redo,!0)}),this.stack.redo.forEach(function(c){c.undo=u.transform(c.undo,!0),c.redo=u.transform(c.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),e}(h(g(9)).default);function a(o){var e=o.reduce(function(c,f){return c+(f.delete||0)},0),u=o.length()-e;return function(c){var f=c.ops[c.ops.length-1];return f!=null&&(f.insert!=null?typeof f.insert=="string"&&f.insert.endsWith(`
`):f.attributes!=null&&Object.keys(f.attributes).some(function(n){return E.default.query(n,E.default.Scope.BLOCK)!=null}))}(o)&&(u-=1),u}l.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},y.default=l,y.getLastChangeIndex=a},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.BaseTooltip=void 0;var v=function(){function M(z,B){for(var j=0;j<B.length;j++){var V=B[j];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(z,V.key,V)}}return function(z,B,j){return B&&M(z.prototype,B),j&&M(z,j),z}}(),E=function M(z,B,j){z===null&&(z=Function.prototype);var V=Object.getOwnPropertyDescriptor(z,B);if(V===void 0){var q=Object.getPrototypeOf(z);return q===null?void 0:M(q,B,j)}if("value"in V)return V.value;var D=V.get;return D!==void 0?D.call(j):void 0},b=n(g(3)),h=n(g(2)),l=n(g(8)),a=n(g(23)),o=n(g(34)),e=n(g(59)),u=n(g(60)),c=n(g(28)),f=n(g(61));function n(M){return M&&M.__esModule?M:{default:M}}function w(M,z){if(!(M instanceof z))throw new TypeError("Cannot call a class as a function")}function I(M,z){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!z||typeof z!="object"&&typeof z!="function"?M:z}function O(M,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);M.prototype=Object.create(z&&z.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(M,z):M.__proto__=z)}var T=[!1,"center","right","justify"],P=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],A=[!1,"serif","monospace"],R=["1","2","3",!1],F=["small",!1,"large","huge"],W=function(M){function z(B,j){w(this,z);var V=I(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,B,j));return B.emitter.listenDOM("click",document.body,function q(D){if(!document.body.contains(B.root))return document.body.removeEventListener("click",q);V.tooltip==null||V.tooltip.root.contains(D.target)||document.activeElement===V.tooltip.textbox||V.quill.hasFocus()||V.tooltip.hide(),V.pickers!=null&&V.pickers.forEach(function(U){U.container.contains(D.target)||U.close()})}),V}return O(z,M),v(z,[{key:"addModule",value:function(B){var j=E(z.prototype.__proto__||Object.getPrototypeOf(z.prototype),"addModule",this).call(this,B);return B==="toolbar"&&this.extendToolbar(j),j}},{key:"buildButtons",value:function(B,j){B.forEach(function(V){(V.getAttribute("class")||"").split(/\s+/).forEach(function(q){if(q.startsWith("ql-")&&(q=q.slice(3),j[q]!=null))if(q==="direction")V.innerHTML=j[q][""]+j[q].rtl;else if(typeof j[q]=="string")V.innerHTML=j[q];else{var D=V.value||"";D!=null&&j[q][D]&&(V.innerHTML=j[q][D])}})})}},{key:"buildPickers",value:function(B,j){var V=this;this.pickers=B.map(function(q){if(q.classList.contains("ql-align"))return q.querySelector("option")==null&&K(q,T),new u.default(q,j.align);if(q.classList.contains("ql-background")||q.classList.contains("ql-color")){var D=q.classList.contains("ql-background")?"background":"color";return q.querySelector("option")==null&&K(q,P,D==="background"?"#ffffff":"#000000"),new e.default(q,j[D])}return q.querySelector("option")==null&&(q.classList.contains("ql-font")?K(q,A):q.classList.contains("ql-header")?K(q,R):q.classList.contains("ql-size")&&K(q,F)),new c.default(q)}),this.quill.on(l.default.events.EDITOR_CHANGE,function(){V.pickers.forEach(function(q){q.update()})})}}]),z}(o.default);W.DEFAULTS=(0,b.default)(!0,{},o.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var M=this,z=this.container.querySelector("input.ql-image[type=file]");z==null&&((z=document.createElement("input")).setAttribute("type","file"),z.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),z.classList.add("ql-image"),z.addEventListener("change",function(){if(z.files!=null&&z.files[0]!=null){var B=new FileReader;B.onload=function(j){var V=M.quill.getSelection(!0);M.quill.updateContents(new h.default().retain(V.index).delete(V.length).insert({image:j.target.result}),l.default.sources.USER),M.quill.setSelection(V.index+1,l.default.sources.SILENT),z.value=""},B.readAsDataURL(z.files[0])}}),this.container.appendChild(z)),z.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var X=function(M){function z(B,j){w(this,z);var V=I(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,B,j));return V.textbox=V.root.querySelector('input[type="text"]'),V.listen(),V}return O(z,M),v(z,[{key:"listen",value:function(){var B=this;this.textbox.addEventListener("keydown",function(j){a.default.match(j,"enter")?(B.save(),j.preventDefault()):a.default.match(j,"escape")&&(B.cancel(),j.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",j=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),j!=null?this.textbox.value=j:B!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+B)||""),this.root.setAttribute("data-mode",B)}},{key:"restoreFocus",value:function(){var B=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=B}},{key:"save",value:function(){var B,j,V=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var q=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",V,l.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",V,l.default.sources.USER)),this.quill.root.scrollTop=q;break;case"video":V=(j=(B=V).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||B.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(j[1]||"https")+"://www.youtube.com/embed/"+j[2]+"?showinfo=0":(j=B.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(j[1]||"https")+"://player.vimeo.com/video/"+j[2]+"/":B;case"formula":if(!V)break;var D=this.quill.getSelection(!0);if(D!=null){var U=D.index+D.length;this.quill.insertEmbed(U,this.root.getAttribute("data-mode"),V,l.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(U+1," ",l.default.sources.USER),this.quill.setSelection(U+2,l.default.sources.USER)}}this.textbox.value="",this.hide()}}]),z}(f.default);function K(M,z){var B=arguments.length>2&&arguments[2]!==void 0&&arguments[2];z.forEach(function(j){var V=document.createElement("option");j===B?V.setAttribute("selected","selected"):V.setAttribute("value",j),M.appendChild(V)})}y.BaseTooltip=X,y.default=W},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=function(){function E(){this.head=this.tail=null,this.length=0}return E.prototype.append=function(){for(var b=[],h=0;h<arguments.length;h++)b[h]=arguments[h];this.insertBefore(b[0],null),b.length>1&&this.append.apply(this,b.slice(1))},E.prototype.contains=function(b){for(var h,l=this.iterator();h=l();)if(h===b)return!0;return!1},E.prototype.insertBefore=function(b,h){b&&(b.next=h,h!=null?(b.prev=h.prev,h.prev!=null&&(h.prev.next=b),h.prev=b,h===this.head&&(this.head=b)):this.tail!=null?(this.tail.next=b,b.prev=this.tail,this.tail=b):(b.prev=null,this.head=this.tail=b),this.length+=1)},E.prototype.offset=function(b){for(var h=0,l=this.head;l!=null;){if(l===b)return h;h+=l.length(),l=l.next}return-1},E.prototype.remove=function(b){this.contains(b)&&(b.prev!=null&&(b.prev.next=b.next),b.next!=null&&(b.next.prev=b.prev),b===this.head&&(this.head=b.next),b===this.tail&&(this.tail=b.prev),this.length-=1)},E.prototype.iterator=function(b){return b===void 0&&(b=this.head),function(){var h=b;return b!=null&&(b=b.next),h}},E.prototype.find=function(b,h){h===void 0&&(h=!1);for(var l,a=this.iterator();l=a();){var o=l.length();if(b<o||h&&b===o&&(l.next==null||l.next.length()!==0))return[l,b];b-=o}return[null,0]},E.prototype.forEach=function(b){for(var h,l=this.iterator();h=l();)b(h)},E.prototype.forEachAt=function(b,h,l){if(!(h<=0))for(var a,o=this.find(b),e=o[0],u=b-o[1],c=this.iterator(e);(a=c())&&u<b+h;){var f=a.length();b>u?l(a,b-u,Math.min(h,u+f-b)):l(a,0,Math.min(f,b+h-u)),u+=f}},E.prototype.map=function(b){return this.reduce(function(h,l){return h.push(b(l)),h},[])},E.prototype.reduce=function(b,h){for(var l,a=this.iterator();l=a();)h=b(h,l);return h},E}();y.default=v},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,e){o.__proto__=e}||function(o,e){for(var u in e)e.hasOwnProperty(u)&&(o[u]=e[u])},function(o,e){function u(){this.constructor=o}v(o,e),o.prototype=e===null?Object.create(e):(u.prototype=e.prototype,new u)});Object.defineProperty(y,"__esModule",{value:!0});var b=g(17),h=g(1),l={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},a=function(o){function e(u){var c=o.call(this,u)||this;return c.scroll=c,c.observer=new MutationObserver(function(f){c.update(f)}),c.observer.observe(c.domNode,l),c.attach(),c}return E(e,o),e.prototype.detach=function(){o.prototype.detach.call(this),this.observer.disconnect()},e.prototype.deleteAt=function(u,c){this.update(),u===0&&c===this.length()?this.children.forEach(function(f){f.remove()}):o.prototype.deleteAt.call(this,u,c)},e.prototype.formatAt=function(u,c,f,n){this.update(),o.prototype.formatAt.call(this,u,c,f,n)},e.prototype.insertAt=function(u,c,f){this.update(),o.prototype.insertAt.call(this,u,c,f)},e.prototype.optimize=function(u,c){var f=this;u===void 0&&(u=[]),c===void 0&&(c={}),o.prototype.optimize.call(this,c);for(var n=[].slice.call(this.observer.takeRecords());n.length>0;)u.push(n.pop());for(var w=function(P,A){A===void 0&&(A=!0),P!=null&&P!==f&&P.domNode.parentNode!=null&&(P.domNode[h.DATA_KEY].mutations==null&&(P.domNode[h.DATA_KEY].mutations=[]),A&&w(P.parent))},I=function(P){P.domNode[h.DATA_KEY]!=null&&P.domNode[h.DATA_KEY].mutations!=null&&(P instanceof b.default&&P.children.forEach(I),P.optimize(c))},O=u,T=0;O.length>0;T+=1){if(T>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(O.forEach(function(P){var A=h.find(P.target,!0);A!=null&&(A.domNode===P.target&&(P.type==="childList"?(w(h.find(P.previousSibling,!1)),[].forEach.call(P.addedNodes,function(R){var F=h.find(R,!1);w(F,!1),F instanceof b.default&&F.children.forEach(function(W){w(W,!1)})})):P.type==="attributes"&&w(A.prev)),w(A))}),this.children.forEach(I),n=(O=[].slice.call(this.observer.takeRecords())).slice();n.length>0;)u.push(n.pop())}},e.prototype.update=function(u,c){var f=this;c===void 0&&(c={}),(u=u||this.observer.takeRecords()).map(function(n){var w=h.find(n.target,!0);return w==null?null:w.domNode[h.DATA_KEY].mutations==null?(w.domNode[h.DATA_KEY].mutations=[n],w):(w.domNode[h.DATA_KEY].mutations.push(n),null)}).forEach(function(n){n!=null&&n!==f&&n.domNode[h.DATA_KEY]!=null&&n.update(n.domNode[h.DATA_KEY].mutations||[],c)}),this.domNode[h.DATA_KEY].mutations!=null&&o.prototype.update.call(this,this.domNode[h.DATA_KEY].mutations,c),this.optimize(u,c)},e.blotName="scroll",e.defaultChild="block",e.scope=h.Scope.BLOCK_BLOT,e.tagName="DIV",e}(b.default);y.default=a},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var e in o)o.hasOwnProperty(e)&&(a[e]=o[e])},function(a,o){function e(){this.constructor=a}v(a,o),a.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)});Object.defineProperty(y,"__esModule",{value:!0});var b=g(18),h=g(1),l=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return E(o,a),o.formats=function(e){if(e.tagName!==o.tagName)return a.formats.call(this,e)},o.prototype.format=function(e,u){var c=this;e!==this.statics.blotName||u?a.prototype.format.call(this,e,u):(this.children.forEach(function(f){f instanceof b.default||(f=f.wrap(o.blotName,!0)),c.attributes.copy(f)}),this.unwrap())},o.prototype.formatAt=function(e,u,c,f){this.formats()[c]!=null||h.query(c,h.Scope.ATTRIBUTE)?this.isolate(e,u).format(c,f):a.prototype.formatAt.call(this,e,u,c,f)},o.prototype.optimize=function(e){a.prototype.optimize.call(this,e);var u=this.formats();if(Object.keys(u).length===0)return this.unwrap();var c=this.next;c instanceof o&&c.prev===this&&function(f,n){if(Object.keys(f).length!==Object.keys(n).length)return!1;for(var w in f)if(f[w]!==n[w])return!1;return!0}(u,c.formats())&&(c.moveChildren(this),c.remove())},o.blotName="inline",o.scope=h.Scope.INLINE_BLOT,o.tagName="SPAN",o}(b.default);y.default=l},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var e in o)o.hasOwnProperty(e)&&(a[e]=o[e])},function(a,o){function e(){this.constructor=a}v(a,o),a.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)});Object.defineProperty(y,"__esModule",{value:!0});var b=g(18),h=g(1),l=function(a){function o(){return a!==null&&a.apply(this,arguments)||this}return E(o,a),o.formats=function(e){var u=h.query(o.blotName).tagName;if(e.tagName!==u)return a.formats.call(this,e)},o.prototype.format=function(e,u){h.query(e,h.Scope.BLOCK)!=null&&(e!==this.statics.blotName||u?a.prototype.format.call(this,e,u):this.replaceWith(o.blotName))},o.prototype.formatAt=function(e,u,c,f){h.query(c,h.Scope.BLOCK)!=null?this.format(c,f):a.prototype.formatAt.call(this,e,u,c,f)},o.prototype.insertAt=function(e,u,c){if(c==null||h.query(u,h.Scope.INLINE)!=null)a.prototype.insertAt.call(this,e,u,c);else{var f=this.split(e),n=h.create(u,c);f.parent.insertBefore(n,f)}},o.prototype.update=function(e,u){navigator.userAgent.match(/Trident/)?this.build():a.prototype.update.call(this,e,u)},o.blotName="block",o.scope=h.Scope.BLOCK_BLOT,o.tagName="P",o}(b.default);y.default=l},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,l){h.__proto__=l}||function(h,l){for(var a in l)l.hasOwnProperty(a)&&(h[a]=l[a])},function(h,l){function a(){this.constructor=h}v(h,l),h.prototype=l===null?Object.create(l):(a.prototype=l.prototype,new a)});Object.defineProperty(y,"__esModule",{value:!0});var b=function(h){function l(){return h!==null&&h.apply(this,arguments)||this}return E(l,h),l.formats=function(a){},l.prototype.format=function(a,o){h.prototype.formatAt.call(this,0,this.length(),a,o)},l.prototype.formatAt=function(a,o,e,u){a===0&&o===this.length()?this.format(e,u):h.prototype.formatAt.call(this,a,o,e,u)},l.prototype.formats=function(){return this.statics.formats(this.domNode)},l}(g(19).default);y.default=b},function(S,y,g){"use strict";var v,E=this&&this.__extends||(v=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,o){a.__proto__=o}||function(a,o){for(var e in o)o.hasOwnProperty(e)&&(a[e]=o[e])},function(a,o){function e(){this.constructor=a}v(a,o),a.prototype=o===null?Object.create(o):(e.prototype=o.prototype,new e)});Object.defineProperty(y,"__esModule",{value:!0});var b=g(19),h=g(1),l=function(a){function o(e){var u=a.call(this,e)||this;return u.text=u.statics.value(u.domNode),u}return E(o,a),o.create=function(e){return document.createTextNode(e)},o.value=function(e){var u=e.data;return u.normalize&&(u=u.normalize()),u},o.prototype.deleteAt=function(e,u){this.domNode.data=this.text=this.text.slice(0,e)+this.text.slice(e+u)},o.prototype.index=function(e,u){return this.domNode===e?u:-1},o.prototype.insertAt=function(e,u,c){c==null?(this.text=this.text.slice(0,e)+u+this.text.slice(e),this.domNode.data=this.text):a.prototype.insertAt.call(this,e,u,c)},o.prototype.length=function(){return this.text.length},o.prototype.optimize=function(e){a.prototype.optimize.call(this,e),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof o&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},o.prototype.position=function(e,u){return u===void 0&&(u=!1),[this.domNode,e]},o.prototype.split=function(e,u){if(u===void 0&&(u=!1),!u){if(e===0)return this;if(e===this.length())return this.next}var c=h.create(this.domNode.splitText(e));return this.parent.insertBefore(c,this.next),this.text=this.statics.value(this.domNode),c},o.prototype.update=function(e,u){var c=this;e.some(function(f){return f.type==="characterData"&&f.target===c.domNode})&&(this.text=this.statics.value(this.domNode))},o.prototype.value=function(){return this.text},o.blotName="text",o.scope=h.Scope.INLINE_BLOT,o}(b.default);y.default=l},function(S,y,g){"use strict";var v=document.createElement("div");if(v.classList.toggle("test-class",!1),v.classList.contains("test-class")){var E=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(b,h){return arguments.length>1&&!this.contains(b)==!h?h:E.call(this,b)}}String.prototype.startsWith||(String.prototype.startsWith=function(b,h){return h=h||0,this.substr(h,b.length)===b}),String.prototype.endsWith||(String.prototype.endsWith=function(b,h){var l=this.toString();(typeof h!="number"||!isFinite(h)||Math.floor(h)!==h||h>l.length)&&(h=l.length),h-=b.length;var a=l.indexOf(b,h);return a!==-1&&a===h}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(b){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof b!="function")throw new TypeError("predicate must be a function");for(var h,l=Object(this),a=l.length>>>0,o=arguments[1],e=0;e<a;e++)if(h=l[e],b.call(o,h,e,l))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(S,y){var g=-1;function v(e,u,c){if(e==u)return e?[[0,e]]:[];(c<0||e.length<c)&&(c=null);var f=b(e,u),n=e.substring(0,f);f=h(e=e.substring(f),u=u.substring(f));var w=e.substring(e.length-f),I=function(O,T){var P;if(!O)return[[1,T]];if(!T)return[[g,O]];var A=O.length>T.length?O:T,R=O.length>T.length?T:O,F=A.indexOf(R);if(F!=-1)return P=[[1,A.substring(0,F)],[0,R],[1,A.substring(F+R.length)]],O.length>T.length&&(P[0][0]=P[2][0]=g),P;if(R.length==1)return[[g,O],[1,T]];var W=function(q,D){var U=q.length>D.length?q:D,ie=q.length>D.length?D:q;if(U.length<4||2*ie.length<U.length)return null;function re(le,Se,je){for(var Ne,Be,Me,Re,Le=le.substring(je,je+Math.floor(le.length/4)),qe=-1,$e="";(qe=Se.indexOf(Le,qe+1))!=-1;){var ne=b(le.substring(je),Se.substring(qe)),lt=h(le.substring(0,je),Se.substring(0,qe));$e.length<lt+ne&&($e=Se.substring(qe-lt,qe)+Se.substring(qe,qe+ne),Ne=le.substring(0,je-lt),Be=le.substring(je+ne),Me=Se.substring(0,qe-lt),Re=Se.substring(qe+ne))}return 2*$e.length>=le.length?[Ne,Be,Me,Re,$e]:null}var ue,ae,Z,$,ce,fe=re(U,ie,Math.ceil(U.length/4)),we=re(U,ie,Math.ceil(U.length/2));return fe||we?(ue=we?fe&&fe[4].length>we[4].length?fe:we:fe,q.length>D.length?(ae=ue[0],Z=ue[1],$=ue[2],ce=ue[3]):($=ue[0],ce=ue[1],ae=ue[2],Z=ue[3]),[ae,Z,$,ce,ue[4]]):null}(O,T);if(W){var X=W[0],K=W[1],M=W[2],z=W[3],B=W[4],j=v(X,M),V=v(K,z);return j.concat([[0,B]],V)}return function(q,D){for(var U=q.length,ie=D.length,re=Math.ceil((U+ie)/2),ue=re,ae=2*re,Z=new Array(ae),$=new Array(ae),ce=0;ce<ae;ce++)Z[ce]=-1,$[ce]=-1;Z[ue+1]=0,$[ue+1]=0;for(var fe=U-ie,we=fe%2!=0,le=0,Se=0,je=0,Ne=0,Be=0;Be<re;Be++){for(var Me=-Be+le;Me<=Be-Se;Me+=2){for(var Re=ue+Me,Le=(ot=Me==-Be||Me!=Be&&Z[Re-1]<Z[Re+1]?Z[Re+1]:Z[Re-1]+1)-Me;ot<U&&Le<ie&&q.charAt(ot)==D.charAt(Le);)ot++,Le++;if(Z[Re]=ot,ot>U)Se+=2;else if(Le>ie)le+=2;else if(we&&(ne=ue+fe-Me)>=0&&ne<ae&&$[ne]!=-1&&ot>=($e=U-$[ne]))return E(q,D,ot,Le)}for(var qe=-Be+je;qe<=Be-Ne;qe+=2){for(var $e,ne=ue+qe,lt=($e=qe==-Be||qe!=Be&&$[ne-1]<$[ne+1]?$[ne+1]:$[ne-1]+1)-qe;$e<U&&lt<ie&&q.charAt(U-$e-1)==D.charAt(ie-lt-1);)$e++,lt++;if($[ne]=$e,$e>U)Ne+=2;else if(lt>ie)je+=2;else if(!we){var ot;if((Re=ue+fe-qe)>=0&&Re<ae&&Z[Re]!=-1&&(Le=ue+(ot=Z[Re])-Re,ot>=($e=U-$e)))return E(q,D,ot,Le)}}}return[[g,q],[1,D]]}(O,T)}(e=e.substring(0,e.length-f),u=u.substring(0,u.length-f));return n&&I.unshift([0,n]),w&&I.push([0,w]),l(I),c!=null&&(I=function(O,T){var P=function(K,M){if(M===0)return[0,K];for(var z=0,B=0;B<K.length;B++){var j=K[B];if(j[0]===g||j[0]===0){var V=z+j[1].length;if(M===V)return[B+1,K];if(M<V){K=K.slice();var q=M-z,D=[j[0],j[1].slice(0,q)],U=[j[0],j[1].slice(q)];return K.splice(B,1,D,U),[B+1,K]}z=V}}throw new Error("cursor_pos is out of bounds!")}(O,T),A=P[1],R=P[0],F=A[R],W=A[R+1];if(F==null||F[0]!==0)return O;if(W!=null&&F[1]+W[1]===W[1]+F[1])return A.splice(R,2,W,F),o(A,R,2);if(W!=null&&W[1].indexOf(F[1])===0){A.splice(R,2,[W[0],F[1]],[0,F[1]]);var X=W[1].slice(F[1].length);return X.length>0&&A.splice(R+2,0,[W[0],X]),o(A,R,3)}return O}(I,c)),function(O){for(var T=!1,P=function(W){return W.charCodeAt(0)>=56320&&W.charCodeAt(0)<=57343},A=2;A<O.length;A+=1)O[A-2][0]===0&&(R=O[A-2][1]).charCodeAt(R.length-1)>=55296&&R.charCodeAt(R.length-1)<=56319&&O[A-1][0]===g&&P(O[A-1][1])&&O[A][0]===1&&P(O[A][1])&&(T=!0,O[A-1][1]=O[A-2][1].slice(-1)+O[A-1][1],O[A][1]=O[A-2][1].slice(-1)+O[A][1],O[A-2][1]=O[A-2][1].slice(0,-1));var R;if(!T)return O;var F=[];for(A=0;A<O.length;A+=1)O[A][1].length>0&&F.push(O[A]);return F}(I)}function E(e,u,c,f){var n=e.substring(0,c),w=u.substring(0,f),I=e.substring(c),O=u.substring(f),T=v(n,w),P=v(I,O);return T.concat(P)}function b(e,u){if(!e||!u||e.charAt(0)!=u.charAt(0))return 0;for(var c=0,f=Math.min(e.length,u.length),n=f,w=0;c<n;)e.substring(w,n)==u.substring(w,n)?w=c=n:f=n,n=Math.floor((f-c)/2+c);return n}function h(e,u){if(!e||!u||e.charAt(e.length-1)!=u.charAt(u.length-1))return 0;for(var c=0,f=Math.min(e.length,u.length),n=f,w=0;c<n;)e.substring(e.length-n,e.length-w)==u.substring(u.length-n,u.length-w)?w=c=n:f=n,n=Math.floor((f-c)/2+c);return n}function l(e){e.push([0,""]);for(var u,c=0,f=0,n=0,w="",I="";c<e.length;)switch(e[c][0]){case 1:n++,I+=e[c][1],c++;break;case g:f++,w+=e[c][1],c++;break;case 0:f+n>1?(f!==0&&n!==0&&((u=b(I,w))!==0&&(c-f-n>0&&e[c-f-n-1][0]==0?e[c-f-n-1][1]+=I.substring(0,u):(e.splice(0,0,[0,I.substring(0,u)]),c++),I=I.substring(u),w=w.substring(u)),(u=h(I,w))!==0&&(e[c][1]=I.substring(I.length-u)+e[c][1],I=I.substring(0,I.length-u),w=w.substring(0,w.length-u))),f===0?e.splice(c-n,f+n,[1,I]):n===0?e.splice(c-f,f+n,[g,w]):e.splice(c-f-n,f+n,[g,w],[1,I]),c=c-f-n+(f?1:0)+(n?1:0)+1):c!==0&&e[c-1][0]==0?(e[c-1][1]+=e[c][1],e.splice(c,1)):c++,n=0,f=0,w="",I=""}e[e.length-1][1]===""&&e.pop();var O=!1;for(c=1;c<e.length-1;)e[c-1][0]==0&&e[c+1][0]==0&&(e[c][1].substring(e[c][1].length-e[c-1][1].length)==e[c-1][1]?(e[c][1]=e[c-1][1]+e[c][1].substring(0,e[c][1].length-e[c-1][1].length),e[c+1][1]=e[c-1][1]+e[c+1][1],e.splice(c-1,1),O=!0):e[c][1].substring(0,e[c+1][1].length)==e[c+1][1]&&(e[c-1][1]+=e[c+1][1],e[c][1]=e[c][1].substring(e[c+1][1].length)+e[c+1][1],e.splice(c+1,1),O=!0)),c++;O&&l(e)}var a=v;function o(e,u,c){for(var f=u+c-1;f>=0&&f>=u-1;f--)if(f+1<e.length){var n=e[f],w=e[f+1];n[0]===w[1]&&e.splice(f,2,[n[0],n[1]+w[1]])}return e}a.INSERT=1,a.DELETE=g,a.EQUAL=0,S.exports=a},function(S,y){function g(v){var E=[];for(var b in v)E.push(b);return E}(S.exports=typeof Object.keys=="function"?Object.keys:g).shim=g},function(S,y){var g=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function v(b){return Object.prototype.toString.call(b)=="[object Arguments]"}function E(b){return b&&typeof b=="object"&&typeof b.length=="number"&&Object.prototype.hasOwnProperty.call(b,"callee")&&!Object.prototype.propertyIsEnumerable.call(b,"callee")||!1}(y=S.exports=g?v:E).supported=v,y.unsupported=E},function(S,y){"use strict";var g=Object.prototype.hasOwnProperty,v="~";function E(){}function b(l,a,o){this.fn=l,this.context=a,this.once=o||!1}function h(){this._events=new E,this._eventsCount=0}Object.create&&(E.prototype=Object.create(null),new E().__proto__||(v=!1)),h.prototype.eventNames=function(){var l,a,o=[];if(this._eventsCount===0)return o;for(a in l=this._events)g.call(l,a)&&o.push(v?a.slice(1):a);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(l)):o},h.prototype.listeners=function(l,a){var o=v?v+l:l,e=this._events[o];if(a)return!!e;if(!e)return[];if(e.fn)return[e.fn];for(var u=0,c=e.length,f=new Array(c);u<c;u++)f[u]=e[u].fn;return f},h.prototype.emit=function(l,a,o,e,u,c){var f=v?v+l:l;if(!this._events[f])return!1;var n,w,I=this._events[f],O=arguments.length;if(I.fn){switch(I.once&&this.removeListener(l,I.fn,void 0,!0),O){case 1:return I.fn.call(I.context),!0;case 2:return I.fn.call(I.context,a),!0;case 3:return I.fn.call(I.context,a,o),!0;case 4:return I.fn.call(I.context,a,o,e),!0;case 5:return I.fn.call(I.context,a,o,e,u),!0;case 6:return I.fn.call(I.context,a,o,e,u,c),!0}for(w=1,n=new Array(O-1);w<O;w++)n[w-1]=arguments[w];I.fn.apply(I.context,n)}else{var T,P=I.length;for(w=0;w<P;w++)switch(I[w].once&&this.removeListener(l,I[w].fn,void 0,!0),O){case 1:I[w].fn.call(I[w].context);break;case 2:I[w].fn.call(I[w].context,a);break;case 3:I[w].fn.call(I[w].context,a,o);break;case 4:I[w].fn.call(I[w].context,a,o,e);break;default:if(!n)for(T=1,n=new Array(O-1);T<O;T++)n[T-1]=arguments[T];I[w].fn.apply(I[w].context,n)}}return!0},h.prototype.on=function(l,a,o){var e=new b(a,o||this),u=v?v+l:l;return this._events[u]?this._events[u].fn?this._events[u]=[this._events[u],e]:this._events[u].push(e):(this._events[u]=e,this._eventsCount++),this},h.prototype.once=function(l,a,o){var e=new b(a,o||this,!0),u=v?v+l:l;return this._events[u]?this._events[u].fn?this._events[u]=[this._events[u],e]:this._events[u].push(e):(this._events[u]=e,this._eventsCount++),this},h.prototype.removeListener=function(l,a,o,e){var u=v?v+l:l;if(!this._events[u])return this;if(!a)return--this._eventsCount==0?this._events=new E:delete this._events[u],this;var c=this._events[u];if(c.fn)c.fn!==a||e&&!c.once||o&&c.context!==o||(--this._eventsCount==0?this._events=new E:delete this._events[u]);else{for(var f=0,n=[],w=c.length;f<w;f++)(c[f].fn!==a||e&&!c[f].once||o&&c[f].context!==o)&&n.push(c[f]);n.length?this._events[u]=n.length===1?n[0]:n:--this._eventsCount==0?this._events=new E:delete this._events[u]}return this},h.prototype.removeAllListeners=function(l){var a;return l?(a=v?v+l:l,this._events[a]&&(--this._eventsCount==0?this._events=new E:delete this._events[a])):(this._events=new E,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prototype.setMaxListeners=function(){return this},h.prefixed=v,h.EventEmitter=h,S!==void 0&&(S.exports=h)},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.matchText=y.matchSpacing=y.matchNewline=y.matchBlot=y.matchAttributor=y.default=void 0;var v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Z){return typeof Z}:function(Z){return Z&&typeof Symbol=="function"&&Z.constructor===Symbol&&Z!==Symbol.prototype?"symbol":typeof Z},E=function(Z,$){if(Array.isArray(Z))return Z;if(Symbol.iterator in Object(Z))return function(ce,fe){var we=[],le=!0,Se=!1,je=void 0;try{for(var Ne,Be=ce[Symbol.iterator]();!(le=(Ne=Be.next()).done)&&(we.push(Ne.value),!fe||we.length!==fe);le=!0);}catch(Me){Se=!0,je=Me}finally{try{!le&&Be.return&&Be.return()}finally{if(Se)throw je}}return we}(Z,$);throw new TypeError("Invalid attempt to destructure non-iterable instance")},b=function(){function Z($,ce){for(var fe=0;fe<ce.length;fe++){var we=ce[fe];we.enumerable=we.enumerable||!1,we.configurable=!0,"value"in we&&(we.writable=!0),Object.defineProperty($,we.key,we)}}return function($,ce,fe){return ce&&Z($.prototype,ce),fe&&Z($,fe),$}}(),h=P(g(3)),l=P(g(2)),a=P(g(0)),o=P(g(5)),e=P(g(10)),u=P(g(9)),c=g(36),f=g(37),n=P(g(13)),w=g(26),I=g(38),O=g(39),T=g(40);function P(Z){return Z&&Z.__esModule?Z:{default:Z}}function A(Z,$,ce){return $ in Z?Object.defineProperty(Z,$,{value:ce,enumerable:!0,configurable:!0,writable:!0}):Z[$]=ce,Z}var R=(0,e.default)("quill:clipboard"),F="__ql-matcher",W=[[Node.TEXT_NODE,ae],[Node.TEXT_NODE,re],["br",function(Z,$){return j($,`
`)||$.insert(`
`),$}],[Node.ELEMENT_NODE,re],[Node.ELEMENT_NODE,ie],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,U],[Node.ELEMENT_NODE,function(Z,$){var ce={},fe=Z.style||{};return fe.fontStyle&&B(Z).fontStyle==="italic"&&(ce.italic=!0),fe.fontWeight&&(B(Z).fontWeight.startsWith("bold")||parseInt(B(Z).fontWeight)>=700)&&(ce.bold=!0),Object.keys(ce).length>0&&($=z($,ce)),parseFloat(fe.textIndent||0)>0&&($=new l.default().insert("	").concat($)),$}],["li",function(Z,$){var ce=a.default.query(Z);if(ce==null||ce.blotName!=="list-item"||!j($,`
`))return $;for(var fe=-1,we=Z.parentNode;!we.classList.contains("ql-clipboard");)(a.default.query(we)||{}).blotName==="list"&&(fe+=1),we=we.parentNode;return fe<=0?$:$.compose(new l.default().retain($.length()-1).retain(1,{indent:fe}))}],["b",D.bind(D,"bold")],["i",D.bind(D,"italic")],["style",function(){return new l.default}]],X=[c.AlignAttribute,I.DirectionAttribute].reduce(function(Z,$){return Z[$.keyName]=$,Z},{}),K=[c.AlignStyle,f.BackgroundStyle,w.ColorStyle,I.DirectionStyle,O.FontStyle,T.SizeStyle].reduce(function(Z,$){return Z[$.keyName]=$,Z},{}),M=function(Z){function $(ce,fe){(function(le,Se){if(!(le instanceof Se))throw new TypeError("Cannot call a class as a function")})(this,$);var we=function(le,Se){if(!le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Se||typeof Se!="object"&&typeof Se!="function"?le:Se}(this,($.__proto__||Object.getPrototypeOf($)).call(this,ce,fe));return we.quill.root.addEventListener("paste",we.onPaste.bind(we)),we.container=we.quill.addContainer("ql-clipboard"),we.container.setAttribute("contenteditable",!0),we.container.setAttribute("tabindex",-1),we.matchers=[],W.concat(we.options.matchers).forEach(function(le){var Se=E(le,2),je=Se[0],Ne=Se[1];(fe.matchVisual||Ne!==ue)&&we.addMatcher(je,Ne)}),we}return function(ce,fe){if(typeof fe!="function"&&fe!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof fe);ce.prototype=Object.create(fe&&fe.prototype,{constructor:{value:ce,enumerable:!1,writable:!0,configurable:!0}}),fe&&(Object.setPrototypeOf?Object.setPrototypeOf(ce,fe):ce.__proto__=fe)}($,Z),b($,[{key:"addMatcher",value:function(ce,fe){this.matchers.push([ce,fe])}},{key:"convert",value:function(ce){if(typeof ce=="string")return this.container.innerHTML=ce.replace(/\>\r?\n +\</g,"><"),this.convert();var fe=this.quill.getFormat(this.quill.selection.savedRange.index);if(fe[n.default.blotName]){var we=this.container.innerText;return this.container.innerHTML="",new l.default().insert(we,A({},n.default.blotName,fe[n.default.blotName]))}var le=this.prepareMatching(),Se=E(le,2),je=Se[0],Ne=Se[1],Be=q(this.container,je,Ne);return j(Be,`
`)&&Be.ops[Be.ops.length-1].attributes==null&&(Be=Be.compose(new l.default().retain(Be.length()-1).delete(1))),R.log("convert",this.container.innerHTML,Be),this.container.innerHTML="",Be}},{key:"dangerouslyPasteHTML",value:function(ce,fe){var we=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.default.sources.API;if(typeof ce=="string")this.quill.setContents(this.convert(ce),fe),this.quill.setSelection(0,o.default.sources.SILENT);else{var le=this.convert(fe);this.quill.updateContents(new l.default().retain(ce).concat(le),we),this.quill.setSelection(ce+le.length(),o.default.sources.SILENT)}}},{key:"onPaste",value:function(ce){var fe=this;if(!ce.defaultPrevented&&this.quill.isEnabled()){var we=this.quill.getSelection(),le=new l.default().retain(we.index),Se=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(o.default.sources.SILENT),setTimeout(function(){le=le.concat(fe.convert()).delete(we.length),fe.quill.updateContents(le,o.default.sources.USER),fe.quill.setSelection(le.length()-we.length,o.default.sources.SILENT),fe.quill.scrollingContainer.scrollTop=Se,fe.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var ce=this,fe=[],we=[];return this.matchers.forEach(function(le){var Se=E(le,2),je=Se[0],Ne=Se[1];switch(je){case Node.TEXT_NODE:we.push(Ne);break;case Node.ELEMENT_NODE:fe.push(Ne);break;default:[].forEach.call(ce.container.querySelectorAll(je),function(Be){Be[F]=Be[F]||[],Be[F].push(Ne)})}}),[fe,we]}}]),$}(u.default);function z(Z,$,ce){return($===void 0?"undefined":v($))==="object"?Object.keys($).reduce(function(fe,we){return z(fe,we,$[we])},Z):Z.reduce(function(fe,we){return we.attributes&&we.attributes[$]?fe.push(we):fe.insert(we.insert,(0,h.default)({},A({},$,ce),we.attributes))},new l.default)}function B(Z){if(Z.nodeType!==Node.ELEMENT_NODE)return{};var $="__ql-computed-style";return Z[$]||(Z[$]=window.getComputedStyle(Z))}function j(Z,$){for(var ce="",fe=Z.ops.length-1;fe>=0&&ce.length<$.length;--fe){var we=Z.ops[fe];if(typeof we.insert!="string")break;ce=we.insert+ce}return ce.slice(-1*$.length)===$}function V(Z){if(Z.childNodes.length===0)return!1;var $=B(Z);return["block","list-item"].indexOf($.display)>-1}function q(Z,$,ce){return Z.nodeType===Z.TEXT_NODE?ce.reduce(function(fe,we){return we(Z,fe)},new l.default):Z.nodeType===Z.ELEMENT_NODE?[].reduce.call(Z.childNodes||[],function(fe,we){var le=q(we,$,ce);return we.nodeType===Z.ELEMENT_NODE&&(le=$.reduce(function(Se,je){return je(we,Se)},le),le=(we[F]||[]).reduce(function(Se,je){return je(we,Se)},le)),fe.concat(le)},new l.default):new l.default}function D(Z,$,ce){return z(ce,Z,!0)}function U(Z,$){var ce=a.default.Attributor.Attribute.keys(Z),fe=a.default.Attributor.Class.keys(Z),we=a.default.Attributor.Style.keys(Z),le={};return ce.concat(fe).concat(we).forEach(function(Se){var je=a.default.query(Se,a.default.Scope.ATTRIBUTE);je!=null&&(le[je.attrName]=je.value(Z),le[je.attrName])||((je=X[Se])==null||je.attrName!==Se&&je.keyName!==Se||(le[je.attrName]=je.value(Z)||void 0),(je=K[Se])==null||je.attrName!==Se&&je.keyName!==Se||(je=K[Se],le[je.attrName]=je.value(Z)||void 0))}),Object.keys(le).length>0&&($=z($,le)),$}function ie(Z,$){var ce=a.default.query(Z);if(ce==null)return $;if(ce.prototype instanceof a.default.Embed){var fe={},we=ce.value(Z);we!=null&&(fe[ce.blotName]=we,$=new l.default().insert(fe,ce.formats(Z)))}else typeof ce.formats=="function"&&($=z($,ce.blotName,ce.formats(Z)));return $}function re(Z,$){return j($,`
`)||(V(Z)||$.length()>0&&Z.nextSibling&&V(Z.nextSibling))&&$.insert(`
`),$}function ue(Z,$){if(V(Z)&&Z.nextElementSibling!=null&&!j($,`

`)){var ce=Z.offsetHeight+parseFloat(B(Z).marginTop)+parseFloat(B(Z).marginBottom);Z.nextElementSibling.offsetTop>Z.offsetTop+1.5*ce&&$.insert(`
`)}return $}function ae(Z,$){var ce=Z.data;if(Z.parentNode.tagName==="O:P")return $.insert(ce.trim());if(ce.trim().length===0&&Z.parentNode.classList.contains("ql-clipboard"))return $;if(!B(Z.parentNode).whiteSpace.startsWith("pre")){var fe=function(we,le){return(le=le.replace(/[^\u00a0]/g,"")).length<1&&we?" ":le};ce=(ce=ce.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,fe.bind(fe,!0)),(Z.previousSibling==null&&V(Z.parentNode)||Z.previousSibling!=null&&V(Z.previousSibling))&&(ce=ce.replace(/^\s+/,fe.bind(fe,!1))),(Z.nextSibling==null&&V(Z.parentNode)||Z.nextSibling!=null&&V(Z.nextSibling))&&(ce=ce.replace(/\s+$/,fe.bind(fe,!1)))}return $.insert(ce)}M.DEFAULTS={matchers:[],matchVisual:!0},y.default=M,y.matchAttributor=U,y.matchBlot=ie,y.matchNewline=re,y.matchSpacing=ue,y.matchText=ae},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v,E=function(){function o(e,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(e,f.key,f)}}return function(e,u,c){return u&&o(e.prototype,u),c&&o(e,c),e}}(),b=function o(e,u,c){e===null&&(e=Function.prototype);var f=Object.getOwnPropertyDescriptor(e,u);if(f===void 0){var n=Object.getPrototypeOf(e);return n===null?void 0:o(n,u,c)}if("value"in f)return f.value;var w=f.get;return w!==void 0?w.call(c):void 0};function h(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function l(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}var a=function(o){function e(){return h(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}(e,o),E(e,[{key:"optimize",value:function(u){b(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"optimize",this).call(this,u),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return b(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),e}(((v=g(6))&&v.__esModule?v:{default:v}).default);a.blotName="bold",a.tagName=["STRONG","B"],y.default=a},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.addControls=y.default=void 0;var v=function(I,O){if(Array.isArray(I))return I;if(Symbol.iterator in Object(I))return function(T,P){var A=[],R=!0,F=!1,W=void 0;try{for(var X,K=T[Symbol.iterator]();!(R=(X=K.next()).done)&&(A.push(X.value),!P||A.length!==P);R=!0);}catch(M){F=!0,W=M}finally{try{!R&&K.return&&K.return()}finally{if(F)throw W}}return A}(I,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")},E=function(){function I(O,T){for(var P=0;P<T.length;P++){var A=T[P];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(O,A.key,A)}}return function(O,T,P){return T&&I(O.prototype,T),P&&I(O,P),O}}(),b=e(g(2)),h=e(g(0)),l=e(g(5)),a=e(g(10)),o=e(g(9));function e(I){return I&&I.__esModule?I:{default:I}}function u(I,O){if(!I)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||typeof O!="object"&&typeof O!="function"?I:O}var c=(0,a.default)("quill:toolbar"),f=function(I){function O(T,P){(function(W,X){if(!(W instanceof X))throw new TypeError("Cannot call a class as a function")})(this,O);var A,R=u(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,T,P));if(Array.isArray(R.options.container)){var F=document.createElement("div");w(F,R.options.container),T.container.parentNode.insertBefore(F,T.container),R.container=F}else typeof R.options.container=="string"?R.container=document.querySelector(R.options.container):R.container=R.options.container;return R.container instanceof HTMLElement?(R.container.classList.add("ql-toolbar"),R.controls=[],R.handlers={},Object.keys(R.options.handlers).forEach(function(W){R.addHandler(W,R.options.handlers[W])}),[].forEach.call(R.container.querySelectorAll("button, select"),function(W){R.attach(W)}),R.quill.on(l.default.events.EDITOR_CHANGE,function(W,X){W===l.default.events.SELECTION_CHANGE&&R.update(X)}),R.quill.on(l.default.events.SCROLL_OPTIMIZE,function(){var W=R.quill.selection.getRange(),X=v(W,1)[0];R.update(X)}),R):(A=c.error("Container required for toolbar",R.options),u(R,A))}return function(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}(O,I),E(O,[{key:"addHandler",value:function(T,P){this.handlers[T]=P}},{key:"attach",value:function(T){var P=this,A=[].find.call(T.classList,function(F){return F.indexOf("ql-")===0});if(A){if(A=A.slice(3),T.tagName==="BUTTON"&&T.setAttribute("type","button"),this.handlers[A]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[A]==null)return void c.warn("ignoring attaching to disabled format",A,T);if(h.default.query(A)==null)return void c.warn("ignoring attaching to nonexistent format",A,T)}var R=T.tagName==="SELECT"?"change":"click";T.addEventListener(R,function(F){var W=void 0;if(T.tagName==="SELECT"){if(T.selectedIndex<0)return;var X=T.options[T.selectedIndex];W=!X.hasAttribute("selected")&&(X.value||!1)}else W=!T.classList.contains("ql-active")&&(T.value||!T.hasAttribute("value")),F.preventDefault();P.quill.focus();var K=P.quill.selection.getRange(),M=v(K,1)[0];if(P.handlers[A]!=null)P.handlers[A].call(P,W);else if(h.default.query(A).prototype instanceof h.default.Embed){if(!(W=prompt("Enter "+A)))return;P.quill.updateContents(new b.default().retain(M.index).delete(M.length).insert(function(z,B,j){return B in z?Object.defineProperty(z,B,{value:j,enumerable:!0,configurable:!0,writable:!0}):z[B]=j,z}({},A,W)),l.default.sources.USER)}else P.quill.format(A,W,l.default.sources.USER);P.update(M)}),this.controls.push([A,T])}}},{key:"update",value:function(T){var P=T==null?{}:this.quill.getFormat(T);this.controls.forEach(function(A){var R=v(A,2),F=R[0],W=R[1];if(W.tagName==="SELECT"){var X=void 0;if(T==null)X=null;else if(P[F]==null)X=W.querySelector("option[selected]");else if(!Array.isArray(P[F])){var K=P[F];typeof K=="string"&&(K=K.replace(/\"/g,'\\"')),X=W.querySelector('option[value="'+K+'"]')}X==null?(W.value="",W.selectedIndex=-1):X.selected=!0}else if(T==null)W.classList.remove("ql-active");else if(W.hasAttribute("value")){var M=P[F]===W.getAttribute("value")||P[F]!=null&&P[F].toString()===W.getAttribute("value")||P[F]==null&&!W.getAttribute("value");W.classList.toggle("ql-active",M)}else W.classList.toggle("ql-active",P[F]!=null)})}}]),O}(o.default);function n(I,O,T){var P=document.createElement("button");P.setAttribute("type","button"),P.classList.add("ql-"+O),T!=null&&(P.value=T),I.appendChild(P)}function w(I,O){Array.isArray(O[0])||(O=[O]),O.forEach(function(T){var P=document.createElement("span");P.classList.add("ql-formats"),T.forEach(function(A){if(typeof A=="string")n(P,A);else{var R=Object.keys(A)[0],F=A[R];Array.isArray(F)?function(W,X,K){var M=document.createElement("select");M.classList.add("ql-"+X),K.forEach(function(z){var B=document.createElement("option");z!==!1?B.setAttribute("value",z):B.setAttribute("selected","selected"),M.appendChild(B)}),W.appendChild(M)}(P,R,F):n(P,R,F)}}),I.appendChild(P)})}f.DEFAULTS={},f.DEFAULTS={container:null,handlers:{clean:function(){var I=this,O=this.quill.getSelection();if(O!=null)if(O.length==0){var T=this.quill.getFormat();Object.keys(T).forEach(function(P){h.default.query(P,h.default.Scope.INLINE)!=null&&I.quill.format(P,!1)})}else this.quill.removeFormat(O,l.default.sources.USER)},direction:function(I){var O=this.quill.getFormat().align;I==="rtl"&&O==null?this.quill.format("align","right",l.default.sources.USER):I||O!=="right"||this.quill.format("align",!1,l.default.sources.USER),this.quill.format("direction",I,l.default.sources.USER)},indent:function(I){var O=this.quill.getSelection(),T=this.quill.getFormat(O),P=parseInt(T.indent||0);if(I==="+1"||I==="-1"){var A=I==="+1"?1:-1;T.direction==="rtl"&&(A*=-1),this.quill.format("indent",P+A,l.default.sources.USER)}},link:function(I){I===!0&&(I=prompt("Enter link URL:")),this.quill.format("link",I,l.default.sources.USER)},list:function(I){var O=this.quill.getSelection(),T=this.quill.getFormat(O);I==="check"?T.list==="checked"||T.list==="unchecked"?this.quill.format("list",!1,l.default.sources.USER):this.quill.format("list","unchecked",l.default.sources.USER):this.quill.format("list",I,l.default.sources.USER)}}},y.default=f,y.addControls=w},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v,E=function(){function l(a,o){for(var e=0;e<o.length;e++){var u=o[e];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}return function(a,o,e){return o&&l(a.prototype,o),e&&l(a,e),a}}(),b=function l(a,o,e){a===null&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(u===void 0){var c=Object.getPrototypeOf(a);return c===null?void 0:l(c,o,e)}if("value"in u)return u.value;var f=u.get;return f!==void 0?f.call(e):void 0},h=function(l){function a(o,e){(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a);var u=function(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,o));return u.label.innerHTML=e,u.container.classList.add("ql-color-picker"),[].slice.call(u.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(c){c.classList.add("ql-primary")}),u}return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(a,l),E(a,[{key:"buildItem",value:function(o){var e=b(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"buildItem",this).call(this,o);return e.style.backgroundColor=o.getAttribute("value")||"",e}},{key:"selectItem",value:function(o,e){b(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"selectItem",this).call(this,o,e);var u=this.label.querySelector(".ql-color-label"),c=o&&o.getAttribute("data-value")||"";u&&(u.tagName==="line"?u.style.stroke=c:u.style.fill=c)}}]),a}(((v=g(28))&&v.__esModule?v:{default:v}).default);y.default=h},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v,E=function(){function l(a,o){for(var e=0;e<o.length;e++){var u=o[e];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(a,u.key,u)}}return function(a,o,e){return o&&l(a.prototype,o),e&&l(a,e),a}}(),b=function l(a,o,e){a===null&&(a=Function.prototype);var u=Object.getOwnPropertyDescriptor(a,o);if(u===void 0){var c=Object.getPrototypeOf(a);return c===null?void 0:l(c,o,e)}if("value"in u)return u.value;var f=u.get;return f!==void 0?f.call(e):void 0},h=function(l){function a(o,e){(function(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a);var u=function(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,o));return u.container.classList.add("ql-icon-picker"),[].forEach.call(u.container.querySelectorAll(".ql-picker-item"),function(c){c.innerHTML=e[c.getAttribute("data-value")||""]}),u.defaultItem=u.container.querySelector(".ql-selected"),u.selectItem(u.defaultItem),u}return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(a,l),E(a,[{key:"selectItem",value:function(o,e){b(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"selectItem",this).call(this,o,e),o=o||this.defaultItem,this.label.innerHTML=o.innerHTML}}]),a}(((v=g(28))&&v.__esModule?v:{default:v}).default);y.default=h},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=function(){function b(h,l){for(var a=0;a<l.length;a++){var o=l[a];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}return function(h,l,a){return l&&b(h.prototype,l),a&&b(h,a),h}}(),E=function(){function b(h,l){var a=this;(function(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")})(this,b),this.quill=h,this.boundsContainer=l||document.body,this.root=h.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){a.root.style.marginTop=-1*a.quill.root.scrollTop+"px"}),this.hide()}return v(b,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var l=h.left+h.width/2-this.root.offsetWidth/2,a=h.bottom+this.quill.root.scrollTop;this.root.style.left=l+"px",this.root.style.top=a+"px",this.root.classList.remove("ql-flip");var o=this.boundsContainer.getBoundingClientRect(),e=this.root.getBoundingClientRect(),u=0;if(e.right>o.right&&(u=o.right-e.right,this.root.style.left=l+u+"px"),e.left<o.left&&(u=o.left-e.left,this.root.style.left=l+u+"px"),e.bottom>o.bottom){var c=e.bottom-e.top,f=h.bottom-h.top+c;this.root.style.top=a-f+"px",this.root.classList.add("ql-flip")}return u}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),b}();y.default=E},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=function P(A,R,F){A===null&&(A=Function.prototype);var W=Object.getOwnPropertyDescriptor(A,R);if(W===void 0){var X=Object.getPrototypeOf(A);return X===null?void 0:P(X,R,F)}if("value"in W)return W.value;var K=W.get;return K!==void 0?K.call(F):void 0},E=function(){function P(A,R){for(var F=0;F<R.length;F++){var W=R[F];W.enumerable=W.enumerable||!1,W.configurable=!0,"value"in W&&(W.writable=!0),Object.defineProperty(A,W.key,W)}}return function(A,R,F){return R&&P(A.prototype,R),F&&P(A,F),A}}(),b=c(g(3)),h=c(g(8)),l=g(43),a=c(l),o=c(g(27)),e=g(15),u=c(g(41));function c(P){return P&&P.__esModule?P:{default:P}}function f(P,A){if(!(P instanceof A))throw new TypeError("Cannot call a class as a function")}function n(P,A){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||typeof A!="object"&&typeof A!="function"?P:A}function w(P,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);P.prototype=Object.create(A&&A.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(P,A):P.__proto__=A)}var I=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],O=function(P){function A(R,F){f(this,A),F.modules.toolbar!=null&&F.modules.toolbar.container==null&&(F.modules.toolbar.container=I);var W=n(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,R,F));return W.quill.container.classList.add("ql-snow"),W}return w(A,P),E(A,[{key:"extendToolbar",value:function(R){R.container.classList.add("ql-snow"),this.buildButtons([].slice.call(R.container.querySelectorAll("button")),u.default),this.buildPickers([].slice.call(R.container.querySelectorAll("select")),u.default),this.tooltip=new T(this.quill,this.options.bounds),R.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(F,W){R.handlers.link.call(R,!W.format.link)})}}]),A}(a.default);O.DEFAULTS=(0,b.default)(!0,{},a.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){if(P){var A=this.quill.getSelection();if(A==null||A.length==0)return;var R=this.quill.getText(A);/^\S+@\S+\.\S+$/.test(R)&&R.indexOf("mailto:")!==0&&(R="mailto:"+R),this.quill.theme.tooltip.edit("link",R)}else this.quill.format("link",!1)}}}}});var T=function(P){function A(R,F){f(this,A);var W=n(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,R,F));return W.preview=W.root.querySelector("a.ql-preview"),W}return w(A,P),E(A,[{key:"listen",value:function(){var R=this;v(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(F){R.root.classList.contains("ql-editing")?R.save():R.edit("link",R.preview.textContent),F.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(F){if(R.linkRange!=null){var W=R.linkRange;R.restoreFocus(),R.quill.formatText(W,"link",!1,h.default.sources.USER),delete R.linkRange}F.preventDefault(),R.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(F,W,X){if(F!=null){if(F.length===0&&X===h.default.sources.USER){var K=function(j,V){if(Array.isArray(j))return j;if(Symbol.iterator in Object(j))return function(q,D){var U=[],ie=!0,re=!1,ue=void 0;try{for(var ae,Z=q[Symbol.iterator]();!(ie=(ae=Z.next()).done)&&(U.push(ae.value),!D||U.length!==D);ie=!0);}catch($){re=!0,ue=$}finally{try{!ie&&Z.return&&Z.return()}finally{if(re)throw ue}}return U}(j,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(R.quill.scroll.descendant(o.default,F.index),2),M=K[0],z=K[1];if(M!=null){R.linkRange=new e.Range(F.index-z,M.length());var B=o.default.formats(M.domNode);return R.preview.textContent=B,R.preview.setAttribute("href",B),R.show(),void R.position(R.quill.getBounds(R.linkRange))}}else delete R.linkRange;R.hide()}})}},{key:"show",value:function(){v(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),A}(l.BaseTooltip);T.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),y.default=O},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v=re(g(29)),E=g(36),b=g(38),h=g(64),l=re(g(65)),a=re(g(66)),o=g(67),e=re(o),u=g(37),c=g(26),f=g(39),n=g(40),w=re(g(56)),I=re(g(68)),O=re(g(27)),T=re(g(69)),P=re(g(70)),A=re(g(71)),R=re(g(72)),F=re(g(73)),W=g(13),X=re(W),K=re(g(74)),M=re(g(75)),z=re(g(57)),B=re(g(41)),j=re(g(28)),V=re(g(59)),q=re(g(60)),D=re(g(61)),U=re(g(108)),ie=re(g(62));function re(ue){return ue&&ue.__esModule?ue:{default:ue}}v.default.register({"attributors/attribute/direction":b.DirectionAttribute,"attributors/class/align":E.AlignClass,"attributors/class/background":u.BackgroundClass,"attributors/class/color":c.ColorClass,"attributors/class/direction":b.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":n.SizeClass,"attributors/style/align":E.AlignStyle,"attributors/style/background":u.BackgroundStyle,"attributors/style/color":c.ColorStyle,"attributors/style/direction":b.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":n.SizeStyle},!0),v.default.register({"formats/align":E.AlignClass,"formats/direction":b.DirectionClass,"formats/indent":h.IndentClass,"formats/background":u.BackgroundStyle,"formats/color":c.ColorStyle,"formats/font":f.FontClass,"formats/size":n.SizeClass,"formats/blockquote":l.default,"formats/code-block":X.default,"formats/header":a.default,"formats/list":e.default,"formats/bold":w.default,"formats/code":W.Code,"formats/italic":I.default,"formats/link":O.default,"formats/script":T.default,"formats/strike":P.default,"formats/underline":A.default,"formats/image":R.default,"formats/video":F.default,"formats/list/item":o.ListItem,"modules/formula":K.default,"modules/syntax":M.default,"modules/toolbar":z.default,"themes/bubble":U.default,"themes/snow":ie.default,"ui/icons":B.default,"ui/picker":j.default,"ui/icon-picker":q.default,"ui/color-picker":V.default,"ui/tooltip":D.default},!0),y.default=v.default},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.IndentClass=void 0;var v,E=function(){function u(c,f){for(var n=0;n<f.length;n++){var w=f[n];w.enumerable=w.enumerable||!1,w.configurable=!0,"value"in w&&(w.writable=!0),Object.defineProperty(c,w.key,w)}}return function(c,f,n){return f&&u(c.prototype,f),n&&u(c,n),c}}(),b=function u(c,f,n){c===null&&(c=Function.prototype);var w=Object.getOwnPropertyDescriptor(c,f);if(w===void 0){var I=Object.getPrototypeOf(c);return I===null?void 0:u(I,f,n)}if("value"in w)return w.value;var O=w.get;return O!==void 0?O.call(n):void 0},h=(v=g(0))&&v.__esModule?v:{default:v};function l(u,c){if(!(u instanceof c))throw new TypeError("Cannot call a class as a function")}function a(u,c){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?u:c}var o=function(u){function c(){return l(this,c),a(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return function(f,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);f.prototype=Object.create(n&&n.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(f,n):f.__proto__=n)}(c,u),E(c,[{key:"add",value:function(f,n){if(n==="+1"||n==="-1"){var w=this.value(f)||0;n=n==="+1"?w+1:w-1}return n===0?(this.remove(f),!0):b(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"add",this).call(this,f,n)}},{key:"canAdd",value:function(f,n){return b(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"canAdd",this).call(this,f,n)||b(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"canAdd",this).call(this,f,parseInt(n))}},{key:"value",value:function(f){return parseInt(b(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"value",this).call(this,f))||void 0}}]),c}(h.default.Attributor.Class),e=new o("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});y.IndentClass=e},function(S,y,g){"use strict";var v;function E(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function b(l,a){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?l:a}Object.defineProperty(y,"__esModule",{value:!0});var h=function(l){function a(){return E(this,a),b(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(a,l),a}(((v=g(4))&&v.__esModule?v:{default:v}).default);h.blotName="blockquote",h.tagName="blockquote",y.default=h},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v,E=function(){function a(o,e){for(var u=0;u<e.length;u++){var c=e[u];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(o,c.key,c)}}return function(o,e,u){return e&&a(o.prototype,e),u&&a(o,u),o}}();function b(a,o){if(!(a instanceof o))throw new TypeError("Cannot call a class as a function")}function h(a,o){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?a:o}var l=function(a){function o(){return b(this,o),h(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function(e,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);e.prototype=Object.create(u&&u.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(e,u):e.__proto__=u)}(o,a),E(o,null,[{key:"formats",value:function(e){return this.tagName.indexOf(e.tagName)+1}}]),o}(((v=g(4))&&v.__esModule?v:{default:v}).default);l.blotName="header",l.tagName=["H1","H2","H3","H4","H5","H6"],y.default=l},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.ListItem=void 0;var v=function(){function n(w,I){for(var O=0;O<I.length;O++){var T=I[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,I,O){return I&&n(w.prototype,I),O&&n(w,O),w}}(),E=function n(w,I,O){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,I);if(T===void 0){var P=Object.getPrototypeOf(w);return P===null?void 0:n(P,I,O)}if("value"in T)return T.value;var A=T.get;return A!==void 0?A.call(O):void 0},b=a(g(0)),h=a(g(4)),l=a(g(25));function a(n){return n&&n.__esModule?n:{default:n}}function o(n,w){if(!(n instanceof w))throw new TypeError("Cannot call a class as a function")}function e(n,w){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?n:w}function u(n,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);n.prototype=Object.create(w&&w.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(n,w):n.__proto__=w)}var c=function(n){function w(){return o(this,w),e(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return u(w,n),v(w,[{key:"format",value:function(I,O){I!==f.blotName||O?E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"format",this).call(this,I,O):this.replaceWith(b.default.create(this.statics.scope))}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(I,O){return this.parent.isolate(this.offset(this.parent),this.length()),I===this.parent.statics.blotName?(this.parent.replaceWith(I,O),this):(this.parent.unwrap(),E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replaceWith",this).call(this,I,O))}}],[{key:"formats",value:function(I){return I.tagName===this.tagName?void 0:E(w.__proto__||Object.getPrototypeOf(w),"formats",this).call(this,I)}}]),w}(h.default);c.blotName="list-item",c.tagName="LI";var f=function(n){function w(I){o(this,w);var O=e(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,I)),T=function(P){if(P.target.parentNode===I){var A=O.statics.formats(I),R=b.default.find(P.target);A==="checked"?R.format("list","unchecked"):A==="unchecked"&&R.format("list","checked")}};return I.addEventListener("touchstart",T),I.addEventListener("mousedown",T),O}return u(w,n),v(w,null,[{key:"create",value:function(I){var O=I==="ordered"?"OL":"UL",T=E(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,O);return I!=="checked"&&I!=="unchecked"||T.setAttribute("data-checked",I==="checked"),T}},{key:"formats",value:function(I){return I.tagName==="OL"?"ordered":I.tagName==="UL"?I.hasAttribute("data-checked")?I.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet":void 0}}]),v(w,[{key:"format",value:function(I,O){this.children.length>0&&this.children.tail.format(I,O)}},{key:"formats",value:function(){return I={},O=this.statics.blotName,T=this.statics.formats(this.domNode),O in I?Object.defineProperty(I,O,{value:T,enumerable:!0,configurable:!0,writable:!0}):I[O]=T,I;var I,O,T}},{key:"insertBefore",value:function(I,O){if(I instanceof c)E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"insertBefore",this).call(this,I,O);else{var T=O==null?this.length():O.offset(this),P=this.split(T);P.parent.insertBefore(I,P)}}},{key:"optimize",value:function(I){E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"optimize",this).call(this,I);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&O.domNode.tagName===this.domNode.tagName&&O.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(O.moveChildren(this),O.remove())}},{key:"replace",value:function(I){if(I.statics.blotName!==this.statics.blotName){var O=b.default.create(this.statics.defaultChild);I.moveChildren(O),this.appendChild(O)}E(w.prototype.__proto__||Object.getPrototypeOf(w.prototype),"replace",this).call(this,I)}}]),w}(l.default);f.blotName="list",f.scope=b.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[c],y.ListItem=c,y.default=f},function(S,y,g){"use strict";var v;function E(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function b(l,a){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?l:a}Object.defineProperty(y,"__esModule",{value:!0});var h=function(l){function a(){return E(this,a),b(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(a,l),a}(((v=g(56))&&v.__esModule?v:{default:v}).default);h.blotName="italic",h.tagName=["EM","I"],y.default=h},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v,E=function(){function o(e,u){for(var c=0;c<u.length;c++){var f=u[c];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(e,f.key,f)}}return function(e,u,c){return u&&o(e.prototype,u),c&&o(e,c),e}}(),b=function o(e,u,c){e===null&&(e=Function.prototype);var f=Object.getOwnPropertyDescriptor(e,u);if(f===void 0){var n=Object.getPrototypeOf(e);return n===null?void 0:o(n,u,c)}if("value"in f)return f.value;var w=f.get;return w!==void 0?w.call(c):void 0};function h(o,e){if(!(o instanceof e))throw new TypeError("Cannot call a class as a function")}function l(o,e){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?o:e}var a=function(o){function e(){return h(this,e),l(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(u,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);u.prototype=Object.create(c&&c.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(u,c):u.__proto__=c)}(e,o),E(e,null,[{key:"create",value:function(u){return u==="super"?document.createElement("sup"):u==="sub"?document.createElement("sub"):b(e.__proto__||Object.getPrototypeOf(e),"create",this).call(this,u)}},{key:"formats",value:function(u){return u.tagName==="SUB"?"sub":u.tagName==="SUP"?"super":void 0}}]),e}(((v=g(6))&&v.__esModule?v:{default:v}).default);a.blotName="script",a.tagName=["SUB","SUP"],y.default=a},function(S,y,g){"use strict";var v;function E(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function b(l,a){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?l:a}Object.defineProperty(y,"__esModule",{value:!0});var h=function(l){function a(){return E(this,a),b(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(a,l),a}(((v=g(6))&&v.__esModule?v:{default:v}).default);h.blotName="strike",h.tagName="S",y.default=h},function(S,y,g){"use strict";var v;function E(l,a){if(!(l instanceof a))throw new TypeError("Cannot call a class as a function")}function b(l,a){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?l:a}Object.defineProperty(y,"__esModule",{value:!0});var h=function(l){function a(){return E(this,a),b(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(o,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);o.prototype=Object.create(e&&e.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(o,e):o.__proto__=e)}(a,l),a}(((v=g(6))&&v.__esModule?v:{default:v}).default);h.blotName="underline",h.tagName="U",y.default=h},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v,E=function(){function c(f,n){for(var w=0;w<n.length;w++){var I=n[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(f,I.key,I)}}return function(f,n,w){return n&&c(f.prototype,n),w&&c(f,w),f}}(),b=function c(f,n,w){f===null&&(f=Function.prototype);var I=Object.getOwnPropertyDescriptor(f,n);if(I===void 0){var O=Object.getPrototypeOf(f);return O===null?void 0:c(O,n,w)}if("value"in I)return I.value;var T=I.get;return T!==void 0?T.call(w):void 0},h=(v=g(0))&&v.__esModule?v:{default:v},l=g(27);function a(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function o(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}var e=["alt","height","width"],u=function(c){function f(){return a(this,f),o(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function(n,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);n.prototype=Object.create(w&&w.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(n,w):n.__proto__=w)}(f,c),E(f,[{key:"format",value:function(n,w){e.indexOf(n)>-1?w?this.domNode.setAttribute(n,w):this.domNode.removeAttribute(n):b(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"format",this).call(this,n,w)}}],[{key:"create",value:function(n){var w=b(f.__proto__||Object.getPrototypeOf(f),"create",this).call(this,n);return typeof n=="string"&&w.setAttribute("src",this.sanitize(n)),w}},{key:"formats",value:function(n){return e.reduce(function(w,I){return n.hasAttribute(I)&&(w[I]=n.getAttribute(I)),w},{})}},{key:"match",value:function(n){return/\.(jpe?g|gif|png)$/.test(n)||/^data:image\/.+;base64/.test(n)}},{key:"sanitize",value:function(n){return(0,l.sanitize)(n,["http","https","data"])?n:"//:0"}},{key:"value",value:function(n){return n.getAttribute("src")}}]),f}(h.default.Embed);u.blotName="image",u.tagName="IMG",y.default=u},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0});var v,E=function(){function c(f,n){for(var w=0;w<n.length;w++){var I=n[w];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(f,I.key,I)}}return function(f,n,w){return n&&c(f.prototype,n),w&&c(f,w),f}}(),b=function c(f,n,w){f===null&&(f=Function.prototype);var I=Object.getOwnPropertyDescriptor(f,n);if(I===void 0){var O=Object.getPrototypeOf(f);return O===null?void 0:c(O,n,w)}if("value"in I)return I.value;var T=I.get;return T!==void 0?T.call(w):void 0},h=g(4),l=(v=g(27))&&v.__esModule?v:{default:v};function a(c,f){if(!(c instanceof f))throw new TypeError("Cannot call a class as a function")}function o(c,f){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?c:f}var e=["height","width"],u=function(c){function f(){return a(this,f),o(this,(f.__proto__||Object.getPrototypeOf(f)).apply(this,arguments))}return function(n,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);n.prototype=Object.create(w&&w.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(n,w):n.__proto__=w)}(f,c),E(f,[{key:"format",value:function(n,w){e.indexOf(n)>-1?w?this.domNode.setAttribute(n,w):this.domNode.removeAttribute(n):b(f.prototype.__proto__||Object.getPrototypeOf(f.prototype),"format",this).call(this,n,w)}}],[{key:"create",value:function(n){var w=b(f.__proto__||Object.getPrototypeOf(f),"create",this).call(this,n);return w.setAttribute("frameborder","0"),w.setAttribute("allowfullscreen",!0),w.setAttribute("src",this.sanitize(n)),w}},{key:"formats",value:function(n){return e.reduce(function(w,I){return n.hasAttribute(I)&&(w[I]=n.getAttribute(I)),w},{})}},{key:"sanitize",value:function(n){return l.default.sanitize(n)}},{key:"value",value:function(n){return n.getAttribute("src")}}]),f}(h.BlockEmbed);u.blotName="video",u.className="ql-video",u.tagName="IFRAME",y.default=u},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.FormulaBlot=void 0;var v=function(){function n(w,I){for(var O=0;O<I.length;O++){var T=I[O];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(w,T.key,T)}}return function(w,I,O){return I&&n(w.prototype,I),O&&n(w,O),w}}(),E=function n(w,I,O){w===null&&(w=Function.prototype);var T=Object.getOwnPropertyDescriptor(w,I);if(T===void 0){var P=Object.getPrototypeOf(w);return P===null?void 0:n(P,I,O)}if("value"in T)return T.value;var A=T.get;return A!==void 0?A.call(O):void 0},b=a(g(35)),h=a(g(5)),l=a(g(9));function a(n){return n&&n.__esModule?n:{default:n}}function o(n,w){if(!(n instanceof w))throw new TypeError("Cannot call a class as a function")}function e(n,w){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!w||typeof w!="object"&&typeof w!="function"?n:w}function u(n,w){if(typeof w!="function"&&w!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof w);n.prototype=Object.create(w&&w.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),w&&(Object.setPrototypeOf?Object.setPrototypeOf(n,w):n.__proto__=w)}var c=function(n){function w(){return o(this,w),e(this,(w.__proto__||Object.getPrototypeOf(w)).apply(this,arguments))}return u(w,n),v(w,null,[{key:"create",value:function(I){var O=E(w.__proto__||Object.getPrototypeOf(w),"create",this).call(this,I);return typeof I=="string"&&(window.katex.render(I,O,{throwOnError:!1,errorColor:"#f00"}),O.setAttribute("data-value",I)),O}},{key:"value",value:function(I){return I.getAttribute("data-value")}}]),w}(b.default);c.blotName="formula",c.className="ql-formula",c.tagName="SPAN";var f=function(n){function w(){o(this,w);var I=e(this,(w.__proto__||Object.getPrototypeOf(w)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return I}return u(w,n),v(w,null,[{key:"register",value:function(){h.default.register(c,!0)}}]),w}(l.default);y.FormulaBlot=c,y.default=f},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.CodeToken=y.CodeBlock=void 0;var v=function(){function w(I,O){for(var T=0;T<O.length;T++){var P=O[T];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(I,P.key,P)}}return function(I,O,T){return O&&w(I.prototype,O),T&&w(I,T),I}}(),E=function w(I,O,T){I===null&&(I=Function.prototype);var P=Object.getOwnPropertyDescriptor(I,O);if(P===void 0){var A=Object.getPrototypeOf(I);return A===null?void 0:w(A,O,T)}if("value"in P)return P.value;var R=P.get;return R!==void 0?R.call(T):void 0},b=a(g(0)),h=a(g(5)),l=a(g(9));function a(w){return w&&w.__esModule?w:{default:w}}function o(w,I){if(!(w instanceof I))throw new TypeError("Cannot call a class as a function")}function e(w,I){if(!w)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!I||typeof I!="object"&&typeof I!="function"?w:I}function u(w,I){if(typeof I!="function"&&I!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof I);w.prototype=Object.create(I&&I.prototype,{constructor:{value:w,enumerable:!1,writable:!0,configurable:!0}}),I&&(Object.setPrototypeOf?Object.setPrototypeOf(w,I):w.__proto__=I)}var c=function(w){function I(){return o(this,I),e(this,(I.__proto__||Object.getPrototypeOf(I)).apply(this,arguments))}return u(I,w),v(I,[{key:"replaceWith",value:function(O){this.domNode.textContent=this.domNode.textContent,this.attach(),E(I.prototype.__proto__||Object.getPrototypeOf(I.prototype),"replaceWith",this).call(this,O)}},{key:"highlight",value:function(O){var T=this.domNode.textContent;this.cachedText!==T&&((T.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=O(T),this.domNode.normalize(),this.attach()),this.cachedText=T)}}]),I}(a(g(13)).default);c.className="ql-syntax";var f=new b.default.Attributor.Class("token","hljs",{scope:b.default.Scope.INLINE}),n=function(w){function I(O,T){o(this,I);var P=e(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,O,T));if(typeof P.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var A=null;return P.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(A),A=setTimeout(function(){P.highlight(),A=null},P.options.interval)}),P.highlight(),P}return u(I,w),v(I,null,[{key:"register",value:function(){h.default.register(f,!0),h.default.register(c,!0)}}]),v(I,[{key:"highlight",value:function(){var O=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var T=this.quill.getSelection();this.quill.scroll.descendants(c).forEach(function(P){P.highlight(O.options.highlight)}),this.quill.update(h.default.sources.SILENT),T!=null&&this.quill.setSelection(T,h.default.sources.SILENT)}}}]),I}(l.default);n.DEFAULTS={highlight:window.hljs==null?null:function(w){return window.hljs.highlightAuto(w).value},interval:1e3},y.CodeBlock=c,y.CodeToken=f,y.default=n},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(S,y){S.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(S,y){S.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(S,y){S.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(S,y){S.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(S,y){S.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(S,y,g){"use strict";Object.defineProperty(y,"__esModule",{value:!0}),y.default=y.BubbleTooltip=void 0;var v=function T(P,A,R){P===null&&(P=Function.prototype);var F=Object.getOwnPropertyDescriptor(P,A);if(F===void 0){var W=Object.getPrototypeOf(P);return W===null?void 0:T(W,A,R)}if("value"in F)return F.value;var X=F.get;return X!==void 0?X.call(R):void 0},E=function(){function T(P,A){for(var R=0;R<A.length;R++){var F=A[R];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,A,R){return A&&T(P.prototype,A),R&&T(P,R),P}}(),b=u(g(3)),h=u(g(8)),l=g(43),a=u(l),o=g(15),e=u(g(41));function u(T){return T&&T.__esModule?T:{default:T}}function c(T,P){if(!(T instanceof P))throw new TypeError("Cannot call a class as a function")}function f(T,P){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?T:P}function n(T,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);T.prototype=Object.create(P&&P.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(T,P):T.__proto__=P)}var w=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],I=function(T){function P(A,R){c(this,P),R.modules.toolbar!=null&&R.modules.toolbar.container==null&&(R.modules.toolbar.container=w);var F=f(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,A,R));return F.quill.container.classList.add("ql-bubble"),F}return n(P,T),E(P,[{key:"extendToolbar",value:function(A){this.tooltip=new O(this.quill,this.options.bounds),this.tooltip.root.appendChild(A.container),this.buildButtons([].slice.call(A.container.querySelectorAll("button")),e.default),this.buildPickers([].slice.call(A.container.querySelectorAll("select")),e.default)}}]),P}(a.default);I.DEFAULTS=(0,b.default)(!0,{},a.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(T){T?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var O=function(T){function P(A,R){c(this,P);var F=f(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,A,R));return F.quill.on(h.default.events.EDITOR_CHANGE,function(W,X,K,M){if(W===h.default.events.SELECTION_CHANGE)if(X!=null&&X.length>0&&M===h.default.sources.USER){F.show(),F.root.style.left="0px",F.root.style.width="",F.root.style.width=F.root.offsetWidth+"px";var z=F.quill.getLines(X.index,X.length);if(z.length===1)F.position(F.quill.getBounds(X));else{var B=z[z.length-1],j=F.quill.getIndex(B),V=Math.min(B.length()-1,X.index+X.length-j),q=F.quill.getBounds(new o.Range(j,V));F.position(q)}}else document.activeElement!==F.textbox&&F.quill.hasFocus()&&F.hide()}),F}return n(P,T),E(P,[{key:"listen",value:function(){var A=this;v(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){A.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!A.root.classList.contains("ql-hidden")){var R=A.quill.getSelection();R!=null&&A.position(A.quill.getBounds(R))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(A){var R=v(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"position",this).call(this,A),F=this.root.querySelector(".ql-tooltip-arrow");if(F.style.marginLeft="",R===0)return R;F.style.marginLeft=-1*R-F.offsetWidth/2+"px"}}]),P}(l.BaseTooltip);O.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),y.BubbleTooltip=O,y.default=I},function(S,y,g){S.exports=g(63)}]).default},Y.exports=L()},3697:(Y,L,S)=>{"use strict";var y=S(5972).functionsHaveConfigurableNames(),g=Object,v=TypeError;Y.exports=function(){if(this!=null&&this!==g(this))throw new v("RegExp.prototype.flags getter called on non-object");var E="";return this.hasIndices&&(E+="d"),this.global&&(E+="g"),this.ignoreCase&&(E+="i"),this.multiline&&(E+="m"),this.dotAll&&(E+="s"),this.unicode&&(E+="u"),this.sticky&&(E+="y"),E},y&&Object.defineProperty&&Object.defineProperty(Y.exports,"name",{value:"get flags"})},2847:(Y,L,S)=>{"use strict";var y=S(4289),g=S(5559),v=S(3697),E=S(1721),b=S(2753),h=g(E());y(h,{getPolyfill:E,implementation:v,shim:b}),Y.exports=h},1721:(Y,L,S)=>{"use strict";var y=S(3697),g=S(4289).supportsDescriptors,v=Object.getOwnPropertyDescriptor;Y.exports=function(){if(g&&/a/gim.flags==="gim"){var E=v(RegExp.prototype,"flags");if(E&&typeof E.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var b="",h={};if(Object.defineProperty(h,"hasIndices",{get:function(){b+="d"}}),Object.defineProperty(h,"sticky",{get:function(){b+="y"}}),b==="dy")return E.get}}return y}},2753:(Y,L,S)=>{"use strict";var y=S(4289).supportsDescriptors,g=S(1721),v=Object.getOwnPropertyDescriptor,E=Object.defineProperty,b=TypeError,h=Object.getPrototypeOf,l=/a/;Y.exports=function(){if(!y||!h)throw new b("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var a=g(),o=h(l),e=v(o,"flags");return e&&e.get===a||E(o,"flags",{configurable:!0,enumerable:!1,get:a}),a}}},ht={};function at(Y){var L=ht[Y];if(L!==void 0)return L.exports;var S=ht[Y]={exports:{}};return Pt[Y].call(S.exports,S,S.exports,at),S.exports}at.n=Y=>{var L=Y&&Y.__esModule?()=>Y.default:()=>Y;return at.d(L,{a:L}),L},at.d=(Y,L)=>{for(var S in L)at.o(L,S)&&!at.o(Y,S)&&Object.defineProperty(Y,S,{enumerable:!0,get:L[S]})},at.o=(Y,L)=>Object.prototype.hasOwnProperty.call(Y,L),(()=>{"use strict";function Y(C,i){if(!(C instanceof i))throw new TypeError("Cannot call a class as a function")}function L(C,i){for(var d=0;d<i.length;d++){var m=i[d];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(C,m.key,m)}}function S(C,i,d){return i&&L(C.prototype,i),d&&L(C,d),Object.defineProperty(C,"prototype",{writable:!1}),C}function y(C,i){return y=Object.setPrototypeOf||function(d,m){return d.__proto__=m,d},y(C,i)}function g(C,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function");C.prototype=Object.create(i&&i.prototype,{constructor:{value:C,writable:!0,configurable:!0}}),Object.defineProperty(C,"prototype",{writable:!1}),i&&y(C,i)}function v(C){return v=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(i){return typeof i}:function(i){return i&&typeof Symbol=="function"&&i.constructor===Symbol&&i!==Symbol.prototype?"symbol":typeof i},v(C)}function E(C,i){if(i&&(v(i)==="object"||typeof i=="function"))return i;if(i!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(d){if(d===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return d}(C)}function b(C){return b=Object.setPrototypeOf?Object.getPrototypeOf:function(i){return i.__proto__||Object.getPrototypeOf(i)},b(C)}var h=function(){function C(){Y(this,C)}return S(C,[{key:"getName",value:function(){}},{key:"do",value:function(){}},{key:"undo",value:function(){}},{key:"allowReplace",value:function(i){return!1}},{key:"replace",value:function(i){}}]),C}();function l(C,i){for(;!Object.prototype.hasOwnProperty.call(C,i)&&(C=b(C))!==null;);return C}function a(){return a=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(C,i,d){var m=l(C,i);if(m){var _=Object.getOwnPropertyDescriptor(m,i);return _.get?_.get.call(arguments.length<3?C:d):_.value}},a.apply(this,arguments)}h.operation={rename:"rename",change:"change",add:"add",remove:"remove",move:"move"};var o=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p,s){var k;if(Y(this,_),(k=m.call(this)).objId=t.getId(),k.moveToParentId=r.getId(),k.moveToPosition=p,k.oldParentId=t.getParent().getId(),k.oldPosition=t.getSiblingPosition(),k.oldContainerId=null,k.moveToContainerId=null,t.getData()instanceof ye){var x=t.getData();k.oldContainerId=x.getValue("containerId");var N=s.getMainPanel().getContainerByItem(r);N!==null&&(k.moveToContainerId=N.getId())}return k.rb=s,k}return S(_,[{key:"getName",value:function(){return"Move panel item"}},{key:"do",value:function(){var t=this.moveToPosition;this.moveToParentId===this.oldParentId&&this.oldPosition<t&&t--,this.moveTo(this.moveToParentId,t,this.moveToContainerId!==this.oldContainerId?this.moveToContainerId:null)}},{key:"undo",value:function(){this.moveTo(this.oldParentId,this.oldPosition,this.moveToContainerId!==this.oldContainerId?this.oldContainerId:null)}},{key:"moveTo",value:function(t,r,p){var s=this.rb.getDataObject(this.objId),k=this.rb.getDataObject(t);s!==null&&k!==null&&(s.getPanelItem().moveToPosition(k.getPanelItem(),r),s.getPanelItem().openParentItems(),this.rb.notifyEvent(s,h.operation.move))}},{key:"getClassName",value:function(){return"MovePanelItemCmd"}}]),_}(h),e=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p,s,k){var x;Y(this,_),(x=m.call(this)).objId=t,x.field=r,x.value=p,x.type=s,x.rb=k;var N=k.getDataObject(t);return x.oldValue=N.getValue(r),x.firstExecution=!0,x.select=!0,x.notifyChange=!0,x}return S(_,[{key:"getName",value:function(){return"Set value"}},{key:"getObjId",value:function(){return this.objId}},{key:"do",value:function(){!this.firstExecution&&this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.value),this.firstExecution=!1}},{key:"undo",value:function(){this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.oldValue)}},{key:"setValue",value:function(t){var r=this.rb.getDataObject(this.objId);if(r.setValue(this.field,t),this.field==="name"){var p=document.getElementById("rbro_menu_item_name".concat(this.objId));p.textContent=t,p.setAttribute("title",t),this.rb.notifyEvent(r,h.operation.rename)}!this.notifyChange||this.type===_.type.richText&&this.firstExecution||this.rb.notifyEvent(r,h.operation.change,this.field)}},{key:"disableSelect",value:function(){this.select=!1}},{key:"setNotifyChange",value:function(t){this.notifyChange=t}},{key:"allowReplace",value:function(t){return t instanceof _&&(this.type===_.type.text||this.type===_.type.richText)&&this.objId===t.objId&&this.field===t.field}},{key:"replace",value:function(t){this.oldValue=t.oldValue}},{key:"getClassName",value:function(){return"SetValueCmd"}}]),_}(h);e.type={text:"text",richText:"richText",select:"select",file:"file",filename:"filename",checkbox:"checkbox",button:"button",buttonGroup:"buttonGroup",color:"color",internal:"internal"};var u=function(){function C(i,d,m){Y(this,C),this.rb=m,this.id=i,this.panelItem=null,this.name=d,this.el=null,this.elContent=null,this.owner=null,this.level=0,this.parent=null}return S(C,[{key:"init",value:function(i){this.owner=i,this.el=i.getElement(),this.elContent=i.getContentElement(),this.panelItem=i.getPanelItem(),this.parent=i.getContainer(),this.initLevel()}},{key:"initLevel",value:function(){this.level=0;for(var i=this.parent;i!==null;)this.level++,i=i.getParent()}},{key:"setup",value:function(){}},{key:"remove",value:function(){}},{key:"appendElement",value:function(i){this.elContent!==null&&this.elContent.append(i)}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(i){this.panelItem=i}},{key:"getLevel",value:function(){return this.level}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(i){this.parent=i,this.initLevel()}},{key:"isChildOf",value:function(i){for(var d=this.getParent();d!==null;){if(d===i)return!0;d=d.getParent()}return!1}},{key:"isSelected",value:function(){return!(this.owner===null||!this.rb.isSelectedObject(this.owner.getId()))}},{key:"isElementAllowed",value:function(i){return!1}},{key:"dragOver",value:function(){this.el!==null&&this.el.classList.add("rbroElementDragOver")}},{key:"getOffset",value:function(){return{x:0,y:0}}},{key:"getOffsetTo",value:function(i){if(i!==null&&i!==this){var d=this.getOffset(),m=i.getOffset();return{x:d.x-m.x,y:d.y-m.y}}return{x:0,y:0}}},{key:"getSize",value:function(){return{width:0,height:0}}},{key:"getContentSize",value:function(){return{width:0,height:0}}},{key:"isInside",value:function(i,d){var m=this.getOffset(),_=this.getSize();return i-=m.x,d-=m.y,i>=0&&d>=0&&i<_.width&&d<_.height}},{key:"clearErrors",value:function(){}}]),C}();function c(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(s,k){if(s){if(typeof s=="string")return f(s,k);var x=Object.prototype.toString.call(s).slice(8,-1);return x==="Object"&&s.constructor&&(x=s.constructor.name),x==="Map"||x==="Set"?Array.from(s):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?f(s,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(s){throw s},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var s=d.next();return r=s.done,s},e:function(s){p=!0,t=s},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function f(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}function n(C,i,d){var m=document.createElement(C);if(i)for(var _ in i)i.hasOwnProperty(_)&&m.setAttribute(_,i[_]);return d&&(m.textContent=d),m}function w(C){for(;C.firstChild;)C.removeChild(C.firstChild)}function I(C,i,d,m){var _=m||{};d&&(_.for=d),C.append(n("label",_,i+":"))}function O(C){var i=C.getBoundingClientRect();return{top:i.top+window.scrollY,left:i.left+window.scrollX}}function T(C){C.addEventListener("keyup",function(i){var d=i.target.value,m=d.replace(/[^0-9]/g,"");d!==m&&(i.target.value=m)})}function P(C,i,d){var m=parseFloat(C.replace(",","."));return isNaN(m)||m<i?""+i:m>d?""+d:C}function A(C){if(typeof C=="number")return C;if(typeof C=="string"&&C!==""){var i=parseFloat(C.replace(",","."));if(!isNaN(i))return i}return 0}function R(C,i){var d=Math.ceil(C/i)*i;return d-C<=i>>1?d:d-i}function F(C,i){return Math.floor(C/i)*i}function W(C,i){return Math.ceil(C/i)*i}function X(C,i,d,m){var _,t={shown:!1,paletteId:i.getAttribute("id")+"_select"},r=m.getProperty("colors"),p=n("div",{class:"rbroColorPalette rbroHidden"}),s=c(r);try{for(s.s();!(_=s.n()).done;){var k=_.value;p.append(n("span",{style:"color: ".concat(k),"data-value":k,class:"rbroColorPaletteItem"}))}}catch(N){s.e(N)}finally{s.f()}d&&p.append(n("span",{"data-value":"clear",class:"rbroClearColorPalette"},m.getLabel("clear"))),p.addEventListener("click",function(N){var H=N.target.dataset.value;H&&(H==="clear"?(i.value="",i.dispatchEvent(new Event("change"))):i.value=H,i.dispatchEvent(new Event("change"))),p.classList.add("rbroHidden"),N.stopImmediatePropagation()});var x=n("div",{id:t.paletteId,class:"rbroColorPicker"});return x.addEventListener("click",function(N){p.classList.toggle("rbroHidden"),t.shown=!t.shown}),C.prepend(x),C.append(p),i.addEventListener("focus",function(N){C.classList.add("rbroActive")}),i.addEventListener("blur",function(N){C.classList.remove("rbroActive")}),t.documentClickListener=function(N){var H=N.target.id;t.shown&&H!==t.paletteId&&(p.classList.add("rbroHidden"),t.shown=!1)},document.addEventListener("click",t.documentClickListener),t.destroy=function(){t.documentClickListener&&(document.removeEventListener("click",t.documentClickListener),t.documentClickListener=null)},t}function K(C){return!C||/^#[0-9A-F]{6}$/i.test(C)}function M(C){if(!(window.TouchEvent&&C instanceof TouchEvent))return{x:C.pageX,y:C.pageY};if(C.touches.length>0){var i=C.touches[C.touches.length-1];return{x:i.pageX,y:i.pageY}}return null}function z(C,i,d){var m=new FileReader;m.onload=function(_){var t=new Image;t.onload=function(){var r=document.createElement("canvas"),p=d.getProperty("imageMaxSize");p&&(t.width>p||t.height>p)&&(t.width>t.height?(t.height=t.height*(p/t.width),t.width=p):(t.width=t.width*(p/t.height),t.height=p));var s=r.getContext("2d");s.clearRect(0,0,r.width,r.height),r.width=t.width,r.height=t.height,s.drawImage(t,0,0,t.width,t.height);var k=r.toDataURL("image/webp");k.substring(0,15)!=="data:image/webp"&&(d.getProperty("imageRequireWebPFormat")?(k=null,alert(d.getLabel("docElementLoadImageWebPErrorMsg"))):k.length>_.target.result.length&&(k=_.target.result)),k&&i(k,C.name)},t.src=_.target.result},m.onerror=function(_){alert(d.getLabel("docElementLoadImageErrorMsg"))},m.readAsDataURL(C)}function B(C,i,d){var m=d.getStyles();w(C),C.append(n("option",{value:""},d.getLabel("styleNone")));var _,t=c(m);try{for(t.s();!(_=t.n()).done;){var r=_.value,p=n("option",{value:r.getId()},r.getName());i&&i===String(r.getId())&&(p.selected=!0),C.append(p)}}catch(s){t.e(s)}finally{t.f()}}String.prototype.reverse=function(){return this.split("").reverse().join("")};var j=S(function C(i,d){Y(this,C),this.value=i,this.type=d});function V(C,i){for(var d=0,m=[];d<C.length;){var _=C[d];if(/[0-9]/.test(_)){for(var t="";d<C.length&&/[0-9.]/.test(C[d]);)t+=C[d++];var r=parseFloat(t);m.push(new j(r,j.type.number))}else if(/[a-zA-Z]/.test(_)){for(var p="";d<C.length&&/[a-zA-Z0-9]/.test(C[d]);)p+=C[d++];if(p==="true")m.push(new j(!0,j.type.boolean));else if(p==="false")m.push(new j(!1,j.type.boolean));else if(p==="type")i!==null?m.push(new j(i.getElementType(),j.type.string)):m.push(new j("type",j.type.string));else if(i===null)m.push(new j(p,j.type.field));else{var s,k=i.getValue(p);s=k instanceof Number?j.type.number:k instanceof String?j.type.string:k instanceof Boolean?j.type.boolean:j.type.undefined,m.push(new j(k,s))}}else if(_!=="'")if(_!=="("&&_!==")")if(/[!=|&]/.test(_)){if(d++,_==="!"&&(d>=C.length||C[d]!=="=")){m.push(new j(j.operator.negate,j.type.operator));continue}if(!(d<C.length))throw new Error("Invalid token ".concat(_," at end of input"));var x=C[d];if(_==="!"&&x==="=")m.push(new j(j.operator.notEqual,j.type.operator)),d++;else if(_==="="&&x==="=")m.push(new j(j.operator.equal,j.type.operator)),d++;else if(_==="|"&&x==="|")m.push(new j(j.operator.or,j.type.operator)),d++;else{if(_!=="&"||x!=="&")throw new Error("Invalid token ".concat(x," at position ").concat(d));m.push(new j(j.operator.and,j.type.operator)),d++}}else{if(_!==" ")throw new Error("Invalid token ".concat(_," at position ").concat(d));d++}else m.push(new j(_,_==="("?j.type.bracketOpen:j.type.bracketClose)),d++;else{var N="";for(d++;d<C.length&&C[d]!=="'";)N+=C[d++];if(d>=C.length)throw new Error("Unterminated string token in input ".concat(C));m.push(new j(N,j.type.string)),d++}}return m}j.type={operator:"operator",bracketOpen:"bracketOpen",bracketClose:"bracketClose",boolean:"boolean",number:"number",string:"string",undefined:"undefined",field:"field"},j.operator={and:"&&",or:"||",equal:"==",notEqual:"!=",negate:"!"};var q={"!":4,"!=":3,"==":3,"||":2,"&&":1};function D(C,i){if(C.length===0)return!1;var d=C[C.length-1];return q[d.value]>=q[i.value]}function U(C,i){var d,m=i.pop().value;switch(C.value!==j.operator.negate&&(d=i.pop().value),C.value){case j.operator.and:return new j(d&&m,j.type.boolean);case j.operator.or:return new j(d||m,j.type.boolean);case j.operator.equal:return new j(d===m,j.type.boolean);case j.operator.notEqual:return new j(d!==m,j.type.boolean);case j.operator.negate:return new j(!m,j.type.boolean);default:throw new Error("Invalid operator: ".concat(C))}}function ie(C,i){return function(d){for(var m=[],_=0;_<d.length;_++){var t=d[_];t.type!==j.type.operator?m.push(t):m.push(U(t,m))}var r=m.pop();return r.type===j.type.boolean?r.value:!!r.value}(function(d){for(var m=[],_=[],t=0;t<d.length;t++){var r=d[t];if(r.type===j.type.operator){for(;D(m,r);)_.push(m.pop());m.push(r)}else if(r.type===j.type.bracketOpen)m.push(r);else if(r.type===j.type.bracketClose){for(;m.length>0&&m[m.length-1]!==j.type.bracketOpen;)_.push(m.pop());m.pop()}else _.push(r)}for(var p=m.length-1;p>=0;p--)_.push(m[p]);return _}(V(C,i)))}var re=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p,s,k){var x;return Y(this,_),(x=m.call(this,p,s,k)).panelItem=null,x.bandType=t,x.section=r,r||(t===_.bandType.header?(x.id="0_header",x.name=k.getLabel("bandHeader")):t===_.bandType.content?(x.id="0_content",x.name=k.getLabel("bandContent"),x.allowAllElements=!0):t===_.bandType.footer&&(x.id="0_footer",x.name=k.getLabel("bandFooter"))),x.el=null,x}return S(_,[{key:"setup",value:function(){this.section||(this.el=this.rb.getDocument().getElement(this.bandType),this.elContent=this.el)}},{key:"isElementAllowed",value:function(t){return t!==ye.type.tableText&&(this.bandType===_.bandType.content||t!==ye.type.pageBreak&&t!==ye.type.table&&t!==ye.type.section)}},{key:"getOffset",value:function(){var t=0;if(this.section)this.owner!==null&&(t=this.owner.getAbsolutePosition().y);else{var r=this.rb.getDocumentProperties();this.bandType===_.bandType.content&&r.getValue("header")?t=A(r.getValue("headerSize")):this.bandType===_.bandType.footer&&(t=this.rb.getDocument().getHeight()-A(r.getValue("footerSize")))}return{x:0,y:t}}},{key:"getSize",value:function(){var t=this.rb.getDocumentProperties(),r=t.getValue("width")-t.getValue("marginLeftVal")-t.getValue("marginRightVal"),p=0;return this.section?this.owner!==null&&(p=this.owner.getValue("heightVal")):this.bandType===_.bandType.header?p=t.getValue("headerSizeVal"):this.bandType===_.bandType.content?p=t.getValue("height")-t.getValue("headerSizeVal")-t.getValue("footerSizeVal")-t.getValue("marginTopVal")-t.getValue("marginBottomVal"):this.bandType===_.bandType.footer&&(p=t.getValue("footerSizeVal")),{width:r,height:p}}},{key:"getContentSize",value:function(){return this.getSize()}},{key:"isInside",value:function(t,r){return!(this.section&&this.owner!==null&&this.owner&&!this.owner.isVisible())&&a(b(_.prototype),"isInside",this).call(this,t,r)}}]),_}(u);function ue(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}function ae(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(s,k){if(s){if(typeof s=="string")return Z(s,k);var x=Object.prototype.toString.call(s).slice(8,-1);return x==="Object"&&s.constructor&&(x=s.constructor.name),x==="Map"||x==="Set"?Array.from(s):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?Z(s,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(s){throw s},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var s=d.next();return r=s.done,s},e:function(s){p=!0,t=s},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function Z(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}re.bandType={header:"header",content:"content",footer:"footer"};var $=function(){function C(i,d,m){Y(this,C),this.rb=m,this.id=i,this.name=m.getLabel("style"),this.panelItem=null,this.errors=[],this.bold=!1,this.italic=!1,this.underline=!1,this.strikethrough=!1,this.horizontalAlignment=C.alignment.left,this.verticalAlignment=C.alignment.top,this.textColor="#000000",this.backgroundColor="",this.font=m.getProperty("defaultFont"),this.fontSize=12,this.lineSpacing=1,this.borderColor="#000000",this.borderWidth="1",this.borderAll=!1,this.borderLeft=!1,this.borderTop=!1,this.borderRight=!1,this.borderBottom=!1,this.paddingLeft="",this.paddingTop="",this.paddingRight="",this.paddingBottom="",this.borderWidthVal=0,this.setInitialData(d)}return S(C,[{key:"setInitialData",value:function(i){for(var d in i)i.hasOwnProperty(d)&&this.hasOwnProperty(d)&&(this[d]=i[d]);this.borderWidthVal=A(this.borderWidth)}},{key:"getFields",value:function(){return["id","name","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(i){this.panelItem=i}},{key:"getValue",value:function(i){return this[i]}},{key:"setValue",value:function(i,d){if(this[i]=d,i.indexOf("border")!==-1&&(i==="borderWidth"&&(this.borderWidthVal=A(d)),C.setBorderValue(this,i,"",d,this.rb)),i!=="name"){var m,_=ae(this.rb.getDocElements(!0));try{for(_.s();!(m=_.n()).done;)m.value.updateChangedStyle(this.getId())}catch(t){_.e(t)}finally{_.f()}}}},{key:"addCommandsForChangedProperty",value:function(i,d,m,_){var t,r=""+this.getId(),p=ae(this.rb.getDocElements(!0));try{for(p.s();!(t=p.n()).done;){var s=t.value;if(s.hasProperty("styleId")){if(s.getValue("styleId")===r&&s.getValue(i)!==d){var k=new e(s.getId(),i,d,m,this.rb);k.disableSelect(),_.addCommand(k)}if(s.getValue("cs_styleId")===r&&s.getValue("cs_"+i)!==d){var x=new e(s.getId(),"cs_"+i,d,m,this.rb);x.disableSelect(),_.addCommand(x)}}}}catch(N){p.e(N)}finally{p.f()}}},{key:"addCommandsForDelete",value:function(i){var d,m,_=ae(this.rb.getDocElements(!0));try{for(_.s();!(m=_.n()).done;){var t=m.value;t.getElementType()!==ye.type.text&&t.getElementType()!==ye.type.tableText||!t.getValue("styleId")||A(t.getValue("styleId"))!==this.id||(d=new e(t.getId(),"styleId","",e.type.text,this.rb),i.addCommand(d))}}catch(r){_.e(r)}finally{_.f()}d=new ce(!1,this.toJS(),this.getId(),this.getPanelItem().getParent().getId(),this.getPanelItem().getSiblingPosition(),this.rb),i.addCommand(d)}},{key:"addError",value:function(i){this.errors.push(i)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var i,d={},m=ae(this.getFields());try{for(m.s();!(i=m.n()).done;){var _=i.value;d[_]=this.getValue(_)}}catch(t){m.e(t)}finally{m.f()}return d}},{key:"getClassName",value:function(){return"Style"}}],[{key:"setBorderValue",value:function(i,d,m,_,t){var r=d;if(m.length>0&&(r=r.substr(m.length)),r==="borderLeft"||r==="borderTop"||r==="borderRight"||r==="borderBottom"){var p=i.getValue("".concat(m,"borderLeft"))&&i.getValue("".concat(m,"borderTop"))&&i.getValue("".concat(m,"borderRight"))&&i.getValue("".concat(m,"borderBottom")),s="".concat(m,"borderAll");p!==i[s]&&(i[s]=p,t.notifyEvent(i,h.operation.change,s))}}}]),C}();$.font={courier:"courier",helvetica:"helvetica",times:"times"},$.alignment={left:"left",center:"center",right:"right",justify:"justify",top:"top",middle:"middle",bottom:"bottom"};var ce=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p,s,k,x){var N;return Y(this,_),(N=m.call(this)).add=t,N.initialData=r,N.parentId=s,N.position=k,N.rb=x,N.id=p,N}return S(_,[{key:"getName",value:function(){return this.add?"Add style":"Delete style"}},{key:"do",value:function(){this.add?this.addStyle():this.deleteStyle()}},{key:"undo",value:function(){this.add?this.deleteStyle():this.addStyle()}},{key:"addStyle",value:function(){var t=this.rb.getDataObject(this.parentId);if(t!==null){var r=new $(this.id,this.initialData,this.rb),p=new Ne("style",t.getPanelItem(),r,{draggable:!0},this.rb);p.openParentItems(),r.setPanelItem(p),t.getPanelItem().insertChild(this.position,p),this.rb.addStyle(r)}}},{key:"deleteStyle",value:function(){var t=this.rb.getDataObject(this.id);t!==null&&(this.initialData=t.toJS(),this.rb.deleteStyle(t))}},{key:"getClassName",value:function(){return"AddDeleteStyleCmd"}}]),_}(h);function fe(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(s,k){if(s){if(typeof s=="string")return we(s,k);var x=Object.prototype.toString.call(s).slice(8,-1);return x==="Object"&&s.constructor&&(x=s.constructor.name),x==="Map"||x==="Set"?Array.from(s):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?we(s,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(s){throw s},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var s=d.next();return r=s.done,s},e:function(s){p=!0,t=s},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function we(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var le=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r){var p;return Y(this,_),(p=m.call(this)).name=t,p.rb=r,p.commands=[],p.selectObjectIds=[],p.selectionCmdIndex=[],p}return S(_,[{key:"getName",value:function(){return this.name}},{key:"do",value:function(){if(this.selectionCmdIndex.length>0)for(var t=this.selectionCmdIndex[this.selectionCmdIndex.length-1],r=0;r<this.commands.length;r++){var p=this.commands[r];p instanceof e&&p.setNotifyChange(r>=t)}for(var s=0;s<this.commands.length;s++)this.commands[s].do();this.selectObjects()}},{key:"undo",value:function(){if(this.selectionCmdIndex.length>0)for(var t=this.selectionCmdIndex.length>1?this.selectionCmdIndex[1]:this.commands.length,r=this.commands.length-1;r>=0;r--){var p=this.commands[r];p instanceof e&&p.setNotifyChange(r<t)}for(var s=this.commands.length-1;s>=0;s--)this.commands[s].undo();this.selectObjects()}},{key:"addCommand",value:function(t){t instanceof e&&t.disableSelect(),this.commands.push(t)}},{key:"addSelection",value:function(t){this.selectObjectIds.indexOf(t)===-1&&this.selectObjectIds.push(t),this.selectionCmdIndex.push(this.commands.length)}},{key:"isEmpty",value:function(){return this.commands.length===0}},{key:"getCommands",value:function(){return this.commands}},{key:"selectObjects",value:function(){var t,r=!0,p=fe(this.selectObjectIds);try{for(p.s();!(t=p.n()).done;){var s=t.value;if(!this.rb.isSelectedObject(s)){r=!1;break}}}catch(ee){p.e(ee)}finally{p.f()}if(!r){var k,x=!0,N=fe(this.selectObjectIds);try{for(N.s();!(k=N.n()).done;){var H=k.value;this.rb.selectObject(H,x),x=!1}}catch(ee){N.e(ee)}finally{N.f()}}}},{key:"allowReplace",value:function(t){if(t instanceof _){var r=t.getCommands();if(this.commands.length===r.length){for(var p=0;p<this.commands.length;p++)if(!this.commands[p].allowReplace(r[p]))return!1;return!0}}return!1}},{key:"replace",value:function(t){for(var r=t.getCommands(),p=0;p<this.commands.length;p++)this.commands[p].replace(r[p])}},{key:"getClassName",value:function(){return"CommandGroupCmd"}}]),_}(h);function Se(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(s,k){if(s){if(typeof s=="string")return je(s,k);var x=Object.prototype.toString.call(s).slice(8,-1);return x==="Object"&&s.constructor&&(x=s.constructor.name),x==="Map"||x==="Set"?Array.from(s):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?je(s,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(s){throw s},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var s=d.next();return r=s.done,s},e:function(s){p=!0,t=s},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function je(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var Ne=function(){function C(i,d,m,_,t){var r=this;Y(this,C),this.properties={hasChildren:!1,showAdd:!1,showDelete:!0,hasDetails:!0,visible:!0,draggable:!1},Object.assign(this.properties,_),this.panelName=i;var p=m!==null?m.getName():"";this.id=m!==null?m.getId():_.id,this.parent=d,this.data=m,this.rb=t,this.children=[],this.dragEnterCount=0,this.element=n("li"),this.properties.visible||this.element.classList.add("rbroHidden");var s=n("div",{id:"rbro_menu_item".concat(this.id),class:"rbroMenuItem"});this.properties.draggable&&(s.setAttribute("draggable","true"),s.addEventListener("dragstart",function(H){H.dataTransfer.setData("text/plain",""),H.dataTransfer.effectAllowed="move",r.rb.startBrowserDrag("panelItem",null,r.id),H.stopPropagation()})),s.addEventListener("dragover",function(H){r.rb.isBrowserDragActive("panelItem")&&r.rb.getBrowserDragId()!==r.id&&r.getDropObjectInfo().allowDrop&&(H.preventDefault(),H.stopPropagation())}),s.addEventListener("dragenter",function(H){r.rb.isBrowserDragActive("panelItem")&&r.rb.getBrowserDragId()!==r.id&&r.getDropObjectInfo().allowDrop&&(s.classList.add("rbroMenuItemDragOver"),r.dragEnterCount++,H.preventDefault())}),s.addEventListener("dragleave",function(H){r.rb.isBrowserDragActive("panelItem")&&r.rb.getBrowserDragId()!==r.id&&r.getDropObjectInfo().allowDrop&&(r.dragEnterCount--,r.dragEnterCount===0&&s.classList.remove("rbroMenuItemDragOver"))}),s.addEventListener("drop",function(H){if(r.rb.isBrowserDragActive("panelItem")&&r.rb.getBrowserDragId()!==r.id){var ee=r.getDropObjectInfo();if(ee.allowDrop){r.dragEnterCount--,s.classList.remove("rbroMenuItemDragOver");var oe=new le("Move panel item",r.rb),te=r.rb.getDataObject(r.rb.getBrowserDragId());if(te instanceof ye&&te.getValue("containerId")!==ee.container.getId()){te.checkBounds(te.getValue("xVal"),te.getValue("yVal"),te.getValue("widthVal"),te.getValue("heightVal"),ee.container.getSize(),oe);var _e=new e(te.getId(),"containerId",ee.container.getId(),e.type.internal,r.rb);oe.addCommand(_e)}var de=new o(te.getPanelItem(),ee.panel,ee.position,r.rb);return oe.addCommand(de),r.rb.executeCommand(oe),H.preventDefault(),!1}}});var k=n("div",{class:"rbroMenuItemText"});if(k.append(n("span",{id:"rbro_menu_item_name".concat(this.id)},p)),this.properties.showAdd){var x=n("div",{id:"rbro_menu_item_add".concat(this.id),class:"rbroButton rbroRoundButton rbroIcon-plus"});x.addEventListener("click",function(H){if(i==="parameter"){var ee=new Be(!0,{},r.rb.getUniqueId(),r.getId(),-1,r.rb);r.rb.executeCommand(ee)}else if(i==="style"){var oe=new ce(!0,{},r.rb.getUniqueId(),r.getId(),-1,r.rb);r.rb.executeCommand(oe)}var te=r.children[r.children.length-1];r.rb.selectObject(te.getId(),!0),H.stopPropagation()}),s.append(x)}if(this.properties.showDelete){var N=n("div",{class:"rbroButton rbroDeleteButton rbroIcon-cancel"});N.addEventListener("click",function(H){var ee=null;i==="parameter"?ee=new Be(!1,r.getData().toJS(),r.getId(),r.parent.getId(),r.getSiblingPosition(),r.rb):(i==="style"||r.isDocElementPanel()&&r.getData()instanceof ye)&&(ee=new le("Delete",r),r.getData().addCommandsForDelete(ee)),ee!==null&&r.rb.executeCommand(ee),H.stopPropagation()}),s.append(N)}s.addEventListener("click",function(H){if(!r.properties.hasDetails||document.getElementById("rbro_menu_item".concat(r.id)).classList.contains("rbroMenuItemActive")){var ee=document.getElementById("rbro_menu_item_children".concat(r.id));ee&&(s.classList.toggle("rbroMenuItemOpen"),ee.classList.toggle("rbroHidden"))}if(r.properties.hasDetails)if(r.rb.isSelectedObject(r.id))H.shiftKey&&r.rb.deselectObject(r.id);else{var oe=!0;r.isDocElementPanel()&&(oe=!H.shiftKey),r.rb.selectObject(r.id,oe)}}),this.properties.hasChildren&&(s.classList.add("rbroMenuItemNoChildren"),k.append(n("div",{id:"rbro_menu_item_children_toggle".concat(this.id),class:"rbroMenuArrow rbroIcon-arrow-right"})),this.element.append(n("ul",{id:"rbro_menu_item_children".concat(this.id),class:"rbroHidden"}))),s.prepend(k),this.element.prepend(s)}return S(C,[{key:"getId",value:function(){return this.id}},{key:"getElement",value:function(){return this.element}},{key:"show",value:function(){this.element.classList.remove("rbroHidden")}},{key:"hide",value:function(){this.element.classList.add("rbroHidden")}},{key:"getPanelName",value:function(){return this.panelName}},{key:"getParent",value:function(){return this.parent}},{key:"getData",value:function(){return this.data}},{key:"setData",value:function(i){this.data=i,document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=i!==null?i.getName():""}},{key:"setActive",value:function(){document.getElementById("rbro_menu_item".concat(this.id)).classList.add("rbroMenuItemActive")}},{key:"setInactive",value:function(){document.getElementById("rbro_menu_item".concat(this.id)).classList.remove("rbroMenuItemActive")}},{key:"getParentIds",value:function(){for(var i=[],d=this.getParent();d!==null;)i.push(d.id),d=d.getParent();return i}},{key:"openParentItems",value:function(){for(var i=this.getParent();i!==null;)i.open(),i=i.getParent()}},{key:"open",value:function(){var i=document.getElementById("rbro_menu_item_children".concat(this.getId()));i&&(document.getElementById("rbro_menu_item".concat(this.getId())).classList.add("rbroMenuItemOpen"),i.classList.remove("rbroHidden"))}},{key:"close",value:function(){var i=document.getElementById("rbro_menu_item_children".concat(this.getId()));i&&(document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemOpen"),i.classList.add("rbroHidden"))}},{key:"appendChild",value:function(i){this.children.length===0&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemNoChildren"),this.children.push(i),document.getElementById("rbro_menu_item_children".concat(this.getId())).append(i.getElement())}},{key:"insertChild",value:function(i,d){this.children.length===0&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemNoChildren"),i!==-1?this.children.splice(i,0,d):this.children.push(d);var m=document.querySelectorAll("#rbro_menu_item_children".concat(this.getId()," > li"));i>=0&&i<m.length?m[i].before(d.getElement()):document.getElementById("rbro_menu_item_children".concat(this.getId())).append(d.getElement())}},{key:"getChildren",value:function(){return this.children}},{key:"getChildByName",value:function(i){return this.getChildByNameExclude(i,null)}},{key:"getChildByNameExclude",value:function(i,d){var m,_=Se(this.children);try{for(_.s();!(m=_.n()).done;){var t=m.value;if(t.getData()!==null&&t.getData()!==d&&t.getData().getName()===i)return t}}catch(r){_.e(r)}finally{_.f()}return null}},{key:"removeChild",value:function(i){this.removeChildInternal(i,!0)}},{key:"removeChildInternal",value:function(i,d){for(var m=0;m<this.children.length;m++)if(i.getId()===this.children[m].getId()){if(this.children.splice(m,1),d&&i.getElement().remove(),this.children.length===0){var _=document.getElementById("rbro_menu_item".concat(this.getId()));_!==null&&_.classList.add("rbroMenuItemNoChildren")}break}}},{key:"getSiblingPosition",value:function(){if(this.getParent()!==null){for(var i=this.getParent().getChildren(),d=0;d<i.length;d++)if(i[d]===this)return d}return 0}},{key:"moveTo",value:function(i){this.element.parentElement.removeChild(this.element),this.parent.removeChildInternal(this,!1),this.parent=i,i.appendChild(this)}},{key:"moveToPosition",value:function(i,d){this.element.parentElement.removeChild(this.element),this.parent.removeChildInternal(this,!1),this.parent=i,i.insertChild(d,this)}},{key:"clear",value:function(){this.children.length>0&&(w(document.getElementById("rbro_menu_item_children".concat(this.id))),this.children=[])}},{key:"getDropObjectInfo",value:function(){var i={allowDrop:!1,panel:null,position:-1,container:null},d=this.rb.getDataObject(this.rb.getBrowserDragId());if(d!==null){var m=!1;if(d instanceof ye){if(this.data instanceof ye&&this.data.isDroppingAllowed()?(i.container=this.data.getLinkedContainer(),i.container===null&&(i.container=this.data.getContainer(),m=!0)):this.panelName==="band"&&(i.container=this.data),i.container!==null&&i.container.isElementAllowed(d.getElementType())){i.allowDrop=!0;var _,t=Se(d.getLinkedContainers());try{for(t.s();!(_=t.n()).done;){var r=_.value;if(r===i.container||i.container.isChildOf(r)){i.allowDrop=!1;break}}}catch(s){t.e(s)}finally{t.f()}}}else if(d instanceof ne)if(this.data instanceof ne){var p=this.data.getParent();p!==null?p.getValue("type")===ne.type.array?d.getValue("type")!==ne.type.array&&d.getValue("type")!==ne.type.map&&d.getValue("type")!==ne.type.sum&&d.getValue("type")!==ne.type.average&&(i.allowDrop=!0,m=!0):p.getValue("type")===ne.type.map&&d.getValue("type")!==ne.type.array&&d.getValue("type")!==ne.type.map&&(i.allowDrop=!0,m=!0):(i.allowDrop=!0,m=!0)}else this.panelName==="parameter"&&(i.allowDrop=!0);else d instanceof $&&(this.data instanceof $?(i.allowDrop=!0,m=!0):this.panelName==="style"&&(i.allowDrop=!0));i.allowDrop&&(m?(i.panel=this.getParent(),i.position=this.getSiblingPosition()+1):(i.panel=this,i.position=0),(i.panel===null||i.panel===d.getPanelItem().getParent()&&i.position===d.getPanelItem().getSiblingPosition())&&(i.allowDrop=!1))}return i}},{key:"isDocElementPanel",value:function(){return this.panelName===ye.type.text||this.panelName===ye.type.image||this.panelName===ye.type.line||this.panelName===ye.type.table||this.panelName===ye.type.pageBreak||this.panelName===ye.type.barCode||this.panelName===ye.type.frame||this.panelName===ye.type.section}}]),C}(),Be=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p,s,k,x){var N;return Y(this,_),(N=m.call(this)).add=t,N.initialData=r,N.parentId=s,N.position=k,N.rb=x,N.id=p,N.showDelete=!0,N}return S(_,[{key:"getName",value:function(){return this.add?"Add parameter":"Delete parameter"}},{key:"setShowDelete",value:function(t){this.showDelete=t}},{key:"do",value:function(){this.add?this.addParameter():this.deleteParameter()}},{key:"undo",value:function(){this.add?this.deleteParameter():this.addParameter()}},{key:"addParameter",value:function(){var t=this.rb.getDataObject(this.parentId);if(t!==null){var r=new ne(this.id,this.initialData,this.rb);this.rb.addParameter(r);var p=new Ne("parameter",t.getPanelItem(),r,{hasChildren:!0,showAdd:!0,showDelete:this.showDelete,draggable:!0},this.rb);p.openParentItems(),r.setPanelItem(p),t.getPanelItem().insertChild(this.position,p),r.setup(),this.rb.notifyEvent(r,h.operation.add)}}},{key:"deleteParameter",value:function(){var t=this.rb.getDataObject(this.id);t!==null&&(this.initialData=t.toJS(),this.rb.deleteParameter(t))}},{key:"getClassName",value:function(){return"AddDeleteParameterCmd"}}]),_}(h);function Me(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(s,k){if(s){if(typeof s=="string")return Re(s,k);var x=Object.prototype.toString.call(s).slice(8,-1);return x==="Object"&&s.constructor&&(x=s.constructor.name),x==="Map"||x==="Set"?Array.from(s):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?Re(s,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(s){throw s},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var s=d.next();return r=s.done,s},e:function(s){p=!0,t=s},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function Re(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var Le,qe,$e,ne=function(){function C(i,d,m){Y(this,C),this.rb=m,this.id=i,this.name=m.getLabel("parameter"),this.panelItem=null,this.errors=[],this.type=C.type.string,this.arrayItemType=C.type.string,this.eval=!m.getProperty("adminMode"),this.nullable=!1,this.pattern="",this.expression="",this.testData="",this.testDataBoolean=!1,this.testDataImage="",this.testDataImageFilename="",this.testDataRichText="",this.children=[],this.editable=m.getProperty("adminMode"),this.showOnlyNameType=!1,this.setInitialData(d)}return S(C,[{key:"setInitialData",value:function(i){for(var d in i)i.hasOwnProperty(d)&&this.hasOwnProperty(d)&&(this[d]=i[d]);"showOnlyNameType"in i&&i.showOnlyNameType&&(this.editable=!1)}},{key:"setHighlightUnused",value:function(i){i?document.getElementById("rbro_menu_item".concat(this.panelItem.getId())).classList.add("rbroUnusedParameter"):document.getElementById("rbro_menu_item".concat(this.panelItem.getId())).classList.remove("rbroUnusedParameter")}},{key:"setup",value:function(){if(this.type===C.type.array||this.type===C.type.map){var i,d=this.rb.getProperty("adminMode"),m=Me(this.children);try{for(m.s();!(i=m.n()).done;){var _=i.value,t=new C(_.id||this.rb.getUniqueId(),_,this.rb);this.rb.addParameter(t);var r=new Ne("parameter",this.panelItem,t,{hasChildren:!0,showAdd:d,showDelete:d,draggable:!0},this.rb);t.setPanelItem(r),this.panelItem.appendChild(r),t.setup(),this.rb.notifyEvent(t,h.operation.add)}}catch(p){m.e(p)}finally{m.f()}}this.updateMenuItemDisplay()}},{key:"isRangeFunction",value:function(){return this.type===C.type.average||this.type===C.type.sum}},{key:"getFields",value:function(){return["id","name","type","arrayItemType","eval","nullable","pattern","expression","showOnlyNameType","testData","testDataBoolean","testDataImage","testDataImageFilename","testDataRichText"]}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){var i,d=this.id;if(this.type===C.type.array||this.type===C.type.map)for(var m=this.children.slice(),_=0;_<m.length;){var t=m[_];t.id>d&&(d=t.id),t.type!==C.type.array&&t.type!==C.type.map||m.push.apply(m,function(r){if(Array.isArray(r))return ue(r)}(i=t.children)||function(r){if(typeof Symbol!="undefined"&&r[Symbol.iterator]!=null||r["@@iterator"]!=null)return Array.from(r)}(i)||function(r,p){if(r){if(typeof r=="string")return ue(r,p);var s=Object.prototype.toString.call(r).slice(8,-1);return s==="Object"&&r.constructor&&(s=r.constructor.name),s==="Map"||s==="Set"?Array.from(r):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?ue(r,p):void 0}}(i)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),_++}return d}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(i){this.panelItem=i}},{key:"getValue",value:function(i){return this[i]}},{key:"setValue",value:function(i,d){this[i]=d,i==="type"&&this.updateMenuItemDisplay()}},{key:"updateMenuItemDisplay",value:function(){this.rb.getProperty("adminMode")&&(this.type===C.type.array||this.type===C.type.map?(document.getElementById("rbro_menu_item_add".concat(this.getId())).removeAttribute("style"),document.getElementById("rbro_menu_item_children".concat(this.getId())).style.display="block",document.getElementById("rbro_menu_item_children_toggle".concat(this.getId())).removeAttribute("style")):(document.getElementById("rbro_menu_item_add".concat(this.getId())).style.display="none",document.getElementById("rbro_menu_item_children".concat(this.getId())).style.display="none",document.getElementById("rbro_menu_item_children_toggle".concat(this.getId())).style.display="none"))}},{key:"getParent",value:function(){return this.panelItem!==null&&this.panelItem.getParent().getData()instanceof C?this.panelItem.getParent().getData():null}},{key:"addError",value:function(i){this.errors.push(i)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"addCommandsForChangedParameterName",value:function(i,d,m){this.addCommandForChangedParameterName(i,d,"expression",m);var _,t=Me(this.getChildren());try{for(t.s();!(_=t.n()).done;)_.value.addCommandsForChangedParameterName(i,d,m)}catch(r){t.e(r)}finally{t.f()}}},{key:"addCommandForChangedParameterName",value:function(i,d,m,_){var t,r,p=i.getParent();if(p!==null&&p.getValue("type")===C.type.map?(t="${"+p.getName()+"."+i.getName()+"}",r="${"+p.getName()+"."+d+"}"):i.getValue("type")===C.type.map?(t="${"+i.getName()+".",r="${"+d+"."):(t="${"+i.getName()+"}",r="${"+d+"}"),this.getValue(m).indexOf(t)!==-1){var s=new e(this.id,m,this.getValue(m).replaceAll(t,r),e.type.text,this.rb);_.addCommand(s)}}},{key:"addUpdateTestDataCmdForChangedParameterName",value:function(i,d,m){var _=d.length>0?d[0]:null;if(_!==null&&(_.type===C.type.array||_.type===C.type.map))try{var t=_.getTestData(!0);this.renameTestDataParameter(t,this.getName(),i,d,0);var r=JSON.stringify(t);if(this.testData!==r){var p=new e(_.getId(),"testData",r,e.type.text,this.rb);m.addCommand(p)}}catch(s){}}},{key:"renameTestDataParameter",value:function(i,d,m,_,t){var r,p=t+1,s=p<_.length,k=s?_[p].getName():d,x=Me(i);try{for(x.s();!(r=x.n()).done;){var N=r.value;k in N&&(s?this.renameTestDataParameter(N[k],d,m,_,p):(N[m]=N[k],delete N[k]))}}catch(H){x.e(H)}finally{x.f()}}},{key:"addCommandsForChangedParameterType",value:function(i,d){if(this.type===C.type.array||this.type===C.type.simpleArray||this.type===C.type.map||i===C.type.array||i===C.type.simpleArray||i===C.type.map){var m=new e(this.getId(),"testData","",e.type.text,this.rb);d.addCommand(m)}if(this.type!==C.type.array&&i===C.type.array){var _={name:"row_number",type:C.type.number,eval:!1,editable:!1,showOnlyNameType:!0},t=new Be(!0,_,this.rb.getUniqueId(),this.getId(),0,this.rb);t.setShowDelete(!1),d.addCommand(t)}else if(this.type===C.type.array&&i!==C.type.array){var r,p=Me(this.getChildren());try{for(p.s();!(r=p.n()).done;){var s=r.value;if(s.getValue("name")==="row_number"&&!s.getValue("editable")){var k=new Be(!1,s.toJS(),s.getId(),this.getId(),s.getPanelItem().getSiblingPosition(),this.rb);d.addCommand(k);break}}}catch(x){p.e(x)}finally{p.f()}}}},{key:"toJS",value:function(){var i,d={},m=Me(this.getFields());try{for(m.s();!(i=m.n()).done;){var _=i.value;d[_]=this.getValue(_)}}catch(k){m.e(k)}finally{m.f()}if(this.type===C.type.array||this.type===C.type.map){var t,r=[],p=Me(this.panelItem.getChildren());try{for(p.s();!(t=p.n()).done;){var s=t.value;r.push(s.getData().toJS())}}catch(k){p.e(k)}finally{p.f()}d.children=r}return d}},{key:"getChildren",value:function(){var i=[];if(this.type===C.type.array||this.type===C.type.map){var d,m=Me(this.panelItem.getChildren());try{for(m.s();!(d=m.n()).done;){var _=d.value;i.push(_.getData())}}catch(t){m.e(t)}finally{m.f()}}return i}},{key:"appendParameterItems",value:function(i,d,m){this.appendParameterItemsWithPrefix(i,d,m,"")}},{key:"appendParameterItemsWithPrefix",value:function(i,d,m,_){if(this.type===C.type.map){var t,r=[],p=[],s=Me(this.getChildren());try{for(s.s();!(t=s.n()).done;){var k=t.value;k.type===C.type.map?p.push(k):k.isAllowed(d)&&r.push(k)}}catch(_e){s.e(_e)}finally{s.f()}if(r.length>0){i.push({separator:!0,id:this.id,separatorClass:"rbroParameterGroup",name:_+this.name});var x,N=Me(r);try{for(N.s();!(x=N.n()).done;){var H=x.value,ee=_+this.name+"."+H.getName();i.push({name:ee,nameLowerCase:ee.toLowerCase(),id:H.getId(),description:"",dataSourceName:m})}}catch(_e){N.e(_e)}finally{N.f()}}for(var oe=0,te=p;oe<te.length;oe++)te[oe].appendParameterItemsWithPrefix(i,d,m,_+this.name+".")}else this.isAllowed(d)&&i.push({name:_+this.name,nameLowerCase:this.name.toLowerCase(),id:this.id,description:"",dataSourceName:m})}},{key:"isAllowed",value:function(i){return this.type!==C.type.array?!Array.isArray(i)||i.indexOf(this.type)!==-1:Array.isArray(i)&&i.indexOf(this.type)!==-1}},{key:"appendFieldParameterItems",value:function(i,d,m,_){if(this.type===C.type.array){var t,r=!0,p=Me(this.panelItem.getChildren());try{for(p.s();!(t=p.n()).done;){var s=t.value.getData();if(!Array.isArray(d)||d.indexOf(s.getValue("type"))!==-1){if(m){r&&i.push({separator:!0,id:this.id,separatorClass:"rbroParameterRowGroup",name:this.rb.getLabel("parameterRowParams")});var k=s.getName();i.push({name:k,nameLowerCase:k.toLowerCase(),id:s.getId(),description:"",dataSourceName:_})}else{var x=this.name+"."+s.getName();i.push({name:x,nameLowerCase:x.toLowerCase(),id:s.getId(),description:"",dataSourceName:_})}r=!1}}}catch(H){p.e(H)}finally{p.f()}}if(m)for(var N=this.getParent();N!==null;){if(N.type===C.type.array){N.appendFieldParameterItems(i,d,m,N.name);break}N=N.getParent()}}},{key:"getParameterFields",value:function(){var i=[];if(this.type===C.type.array||this.type===C.type.simpleArray||this.type===C.type.map)if(this.type===C.type.simpleArray)i.push({name:"data",type:this.arrayItemType,parameter:this});else{var d,m=Me(this.getChildren());try{for(m.s();!(d=m.n()).done;){var _=d.value;_.showOnlyNameType||_.eval||_.isRangeFunction()||i.push({name:_.getName(),type:_.getValue("type"),parameter:_})}}catch(t){m.e(t)}finally{m.f()}}return i}},{key:"getTestData",value:function(i){var d=null;try{d=JSON.parse(this.testData)}catch(m){}return this.type!==C.type.array&&this.type!==C.type.simpleArray&&this.type!==C.type.map||!d?null:C.getSanitizedTestData(this,d,i)}},{key:"getClassName",value:function(){return"Parameter"}}],[{key:"getSanitizedTestData",value:function(i,d,m){var _;if(i.type===C.type.map)d&&Object.getPrototypeOf(d)===Object.prototype||(d={}),_=C.getSanitizedTestDataMap(i,d,m);else if(i.type===C.type.simpleArray)_=C.getSanitizedTestDataSimpleArray(i,d,m);else if(i.type===C.type.array){Array.isArray(d)||(d=[]),_=[];var t,r=Me(d);try{for(r.s();!(t=r.n()).done;){var p=t.value;p&&Object.getPrototypeOf(p)===Object.prototype||(p={}),_.push(C.getSanitizedTestDataMap(i,p,m))}}catch(s){r.e(s)}finally{r.f()}}return _}},{key:"getSanitizedTestDataMap",value:function(i,d,m){var _,t={},r=Me(i.getChildren());try{for(r.s();!(_=r.n()).done;){var p=_.value;if(!p.showOnlyNameType){var s=p.name in d?d[p.name]:null;p.type===C.type.array||p.type===C.type.map?t[p.name]=C.getSanitizedTestData(p,s,m):p.type===C.type.simpleArray?t[p.name]=C.getSanitizedTestDataSimpleArray(p,s,m):t[p.name]=C.getSanitizedTestDataValue(p.type,s,m)}}}catch(k){r.e(k)}finally{r.f()}return t}},{key:"getSanitizedTestDataSimpleArray",value:function(i,d,m){var _=d;Array.isArray(_)||(_=[]);var t,r=[],p=Me(_);try{for(p.s();!(t=p.n()).done;){var s=t.value;if(Object.getPrototypeOf(s)===Object.prototype){var k=C.getSanitizedTestDataValue(i.arrayItemType,s.data,m);m?r.push({data:k}):r.push(k)}}}catch(x){p.e(x)}finally{p.f()}return r}},{key:"getSanitizedTestDataValue",value:function(i,d,m){var _=null;if(i===C.type.string)typeof d=="string"&&(_=d);else if(i===C.type.number){if(typeof d=="number")_=d;else if(typeof d=="string"){var t=Number(d.replaceAll(",","."));isNaN(t)||(_=t)}}else i===C.type.boolean?_=typeof d=="boolean"?d:!!d:i===C.type.date?typeof d=="string"&&C.dateRegex.test(d)&&(_=d):i===C.type.image?_=d&&Object.getPrototypeOf(d)===Object.prototype&&"data"in d&&"filename"in d?m?d:d.data:m?{data:"",filename:""}:"":i===C.type.richText&&typeof d=="string"&&(_=d);return _}},{key:"removeIds",value:function(i){if(i.children){var d,m=Me(i.children);try{for(m.s();!(d=m.n()).done;){var _=d.value;"id"in _&&delete _.id}}catch(t){m.e(t)}finally{m.f()}}}}]),C}();function lt(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(s,k){if(s){if(typeof s=="string")return ot(s,k);var x=Object.prototype.toString.call(s).slice(8,-1);return x==="Object"&&s.constructor&&(x=s.constructor.name),x==="Map"||x==="Set"?Array.from(s):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?ot(s,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(s){throw s},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var s=d.next();return r=s.done,s},e:function(s){p=!0,t=s},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function ot(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}$e=/^(\d{4})-(\d{1,2})-(\d{1,2})( (\d{1,2}):(\d{2})(:(\d{2}))?)?$/,(qe="dateRegex")in(Le=ne)?Object.defineProperty(Le,qe,{value:$e,enumerable:!0,configurable:!0,writable:!0}):Le[qe]=$e,ne.type={none:"none",string:"string",number:"number",boolean:"boolean",date:"date",image:"image",richText:"rich_text",array:"array",simpleArray:"simple_array",map:"map",sum:"sum",average:"average"};var ye=function(){function C(i,d,m,_,t){Y(this,C),this.rb=t,this.id=d,this.name=i,this.panelItem=null,this.x="0",this.y="0",this.width=""+m,this.height=""+_,this.containerId=null,this.linkedContainerId=null,this.printIf="",this.removeEmptyElement=!1,this.el=null,this.selected=!1,this.xVal=0,this.yVal=0,this.widthVal=0,this.heightVal=0,this.errors=[]}return S(C,[{key:"setInitialData",value:function(i){for(var d in i)i.hasOwnProperty(d)&&this.hasOwnProperty(d)&&(this[d]=i[d]);this.x=""+this.x,this.y=""+this.y,this.width=""+this.width,this.height=""+this.height,this.xVal=A(this.x),this.yVal=A(this.y),this.widthVal=A(this.width),this.heightVal=A(this.height)}},{key:"setup",value:function(i){var d=this.getContainer();if(d!==null){var m=d.getContentSize();this.xVal+this.widthVal>m.width&&(this.xVal=m.width-this.widthVal),this.xVal<0&&(this.xVal=0),this.yVal+this.heightVal>m.height&&(this.yVal=m.height-this.heightVal),this.yVal<0&&(this.yVal=0),this.x=""+this.xVal,this.y=""+this.yVal}}},{key:"registerContainerEventHandlers",value:function(){var i=this;this.el.addEventListener("dblclick",function(d){i.rb.isSelectedObject(i.id)||(i.rb.selectObject(i.id,!0),d.stopPropagation())}),this.el.addEventListener("mousedown",function(d){d.shiftKey?(i.rb.deselectObject(i.id),d.stopPropagation()):i.rb.isSelectedObject(i.id)?(i.rb.getDocument().startDrag(d.pageX,d.pageY,i.id,i.containerId,i.getElementType(),C.dragType.element),d.stopPropagation()):i.rb.deselectAll(!0)}),this.el.addEventListener("touchstart",function(d){if(i.rb.isSelectedObject(i.id)){var m=M(d);i.rb.getDocument().startDrag(m.x,m.y,i.id,i.containerId,i.getElementType(),C.dragType.element)}d.preventDefault()}),this.el.addEventListener("touchmove",function(d){i.rb.getDocument().processDrag(d)}),this.el.addEventListener("touchend",function(d){i.rb.getDocument().stopDrag()})}},{key:"registerEventHandlers",value:function(){var i=this;this.el.addEventListener("dblclick",function(d){i.handleDoubleClick(d)}),this.el.addEventListener("mousedown",function(d){i.handleClick(d,!1)}),this.el.addEventListener("touchstart",function(d){if(i.rb.isSelectedObject(i.id)){var m=M(d);i.rb.getDocument().startDrag(m.x,m.y,i.id,i.containerId,i.getElementType(),C.dragType.element),d.preventDefault()}else i.handleClick(d,!0)}),this.el.addEventListener("touchmove",function(d){i.rb.isSelectedObject(i.id)&&i.rb.getDocument().processDrag(d)}),this.el.addEventListener("touchend",function(d){i.rb.isSelectedObject(i.id)&&i.rb.getDocument().stopDrag()})}},{key:"handleDoubleClick",value:function(i){this.handleClick(i,!0)}},{key:"handleClick",value:function(i,d){if(this.rb.isSelectedObject(this.id))i.shiftKey?this.rb.deselectObject(this.id):d||this.rb.getDocument().startDrag(i.pageX,i.pageY,this.id,this.containerId,this.getElementType(),C.dragType.element),i.stopPropagation();else if(d||!this.isContainerSelected()){var m=!0;if(i.shiftKey){var _=[];this.appendContainerChildren(_);for(var t=0,r=_;t<r.length;t++){var p=r[t];if(this.rb.isSelectedObject(p.getId())){m=!1;break}}}m&&this.rb.selectObject(this.id,!i.shiftKey),i.stopPropagation()}}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(i){this.panelItem=i}},{key:"getContainerId",value:function(){return this.containerId}},{key:"getContainer",value:function(){return this.rb.getDataObject(this.getContainerId())}},{key:"getLinkedContainer",value:function(){return this.linkedContainerId!==null?this.rb.getDataObject(this.linkedContainerId):null}},{key:"getLinkedContainers",value:function(){var i=this.getLinkedContainer();return i?[i]:[]}},{key:"getContainerContentSize",value:function(){var i=this.getContainer();return i!==null?i.getContentSize():{width:0,height:0}}},{key:"appendToContainer",value:function(){var i=this.getContainer();i!==null&&i.appendElement(this.el)}},{key:"isContainerSelected",value:function(){var i=this.getContainer();return i!==null&&i.isSelected()}},{key:"appendContainerChildren",value:function(i){if(this.linkedContainerId!==null&&this.panelItem!==null){var d,m=lt(this.panelItem.getChildren());try{for(m.s();!(d=m.n()).done;){var _=d.value;_.getData()instanceof C&&(i.push(_.getData()),_.getData().appendContainerChildren(i))}}catch(t){m.e(t)}finally{m.f()}}}},{key:"getAbsolutePosition",value:function(){var i={x:this.xVal,y:this.yVal},d=this.getContainer();if(d!==null){var m=d.getOffset();i.x+=m.x,i.y+=m.y}return i}},{key:"checkBounds",value:function(i,d,m,_,t,r){if(i+m>t.width&&(i=t.width-m),i<0&&(i=0),i+m>t.width&&(m=t.width-i),d+_>t.height&&(d=t.height-_),d<0&&(d=0),d+_>t.height&&(_=t.height-d),i!==this.xVal&&this.hasProperty("x")){var p=new e(this.id,"x",""+i,e.type.text,this.rb);p.disableSelect(),r.addCommand(p)}if(d!==this.yVal&&this.hasProperty("y")){var s=new e(this.id,"y",""+d,e.type.text,this.rb);s.disableSelect(),r.addCommand(s)}if(m!==this.getDisplayWidth()&&this.hasProperty("width")&&this.addCommandsForChangedWidth(m,!0,r),_!==this.getDisplayHeight()&&this.hasProperty("height")){var k=new e(this.id,"height",""+_,e.type.text,this.rb);k.disableSelect(),r.addCommand(k)}var x=this.getLinkedContainer();if(x!==null&&x.getPanelItem()!==null){var N,H={width:m,height:_},ee=lt(x.getPanelItem().getChildren());try{for(ee.s();!(N=ee.n()).done;){var oe=N.value;if(oe.getData()instanceof C){var te=oe.getData();te.checkBounds(te.getValue("xVal"),te.getValue("yVal"),te.getDisplayWidth(),te.getDisplayHeight(),H,r)}}}catch(_e){ee.e(_e)}finally{ee.f()}}}},{key:"getValue",value:function(i){return this[i]}},{key:"setValue",value:function(i,d){if(this[i]=d,i==="x"||i==="y"||i==="width"||i==="height")this[i+"Val"]=A(d),this.updateDisplay();else if(i==="containerId"){this.el!==null&&(this.el.parentElement.removeChild(this.el),this.appendToContainer());var m=this.getLinkedContainers();if(m.length>0){var _,t=this.getContainer(),r=lt(m);try{for(r.s();!(_=r.n()).done;)_.value.setParent(t)}catch(k){r.e(k)}finally{r.f()}}var p,s=lt(this.rb.getContainers());try{for(s.s();!(p=s.n()).done;)p.value.initLevel()}catch(k){s.e(k)}finally{s.f()}this.updateDisplay()}else["styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(i)!==-1&&(this.updateStyle(),["borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(i)!==-1&&this.updateDisplay())}},{key:"getUpdateValue",value:function(i,d){return d}},{key:"getDisplayWidth",value:function(){return this.widthVal}},{key:"getDisplayHeight",value:function(){return this.heightVal}},{key:"getFields",value:function(){var i=this.getProperties();return i.splice(0,0,"id","containerId"),i}},{key:"getProperties",value:function(){return[]}},{key:"hasProperty",value:function(i){return this.getProperties().indexOf(i)!==-1}},{key:"getElementType",value:function(){return C.type.none}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.widthVal,this.heightVal)}},{key:"updateDisplayInternal",value:function(i,d,m,_){this.el!==null&&(this.el.style.left=this.rb.toPixel(i),this.el.style.top=this.rb.toPixel(d),this.el.style.width=this.rb.toPixel(m),this.el.style.height=this.rb.toPixel(_))}},{key:"updateStyle",value:function(){}},{key:"updateChangedStyle",value:function(i){A(this.styleId)===i&&this.updateStyle()}},{key:"getDragDiff",value:function(i,d,m,_){var t,r,p={x:0,y:0},s=this.xVal,k=this.yVal,x=s+this.getDisplayWidth(),N=k+this.getDisplayHeight(),H=this.getMinWidth(),ee=this.getMaxWidth(),oe=this.getMinHeight();if(m===C.dragType.element)t=s+i,_!==0&&(t=R(t,_)),r=k+d,_!==0&&(r=R(r,_)),p.x=t-s,p.y=r-k;else{var te=this.getContainerContentSize();m!==C.dragType.sizerNW&&m!==C.dragType.sizerN&&m!==C.dragType.sizerNE||(r=k+d,_!==0&&(r=R(r,_)),r>N-oe?r=_!==0?F(N-oe,_):N-oe:r<0&&(r=0),p.y=r-k),m!==C.dragType.sizerNE&&m!==C.dragType.sizerE&&m!==C.dragType.sizerSE||(t=x+i,_!==0&&(t=R(t,_)),t<s+H?t=_!==0?W(s+H,_):s+H:t>ee&&(t=ee),p.x=t-x),m!==C.dragType.sizerSE&&m!==C.dragType.sizerS&&m!==C.dragType.sizerSW||(r=N+d,_!==0&&(r=R(r,_)),r<k+oe?r=_!==0?W(k+oe,_):k+oe:r>te.height&&(r=te.height),p.y=r-N),m!==C.dragType.sizerSW&&m!==C.dragType.sizerW&&m!==C.dragType.sizerNW||(t=s+i,_!==0&&(t=R(t,_)),t>x-H?t=_!==0?F(x-H,_):x-H:t<0&&(t=0),p.x=t-s)}return p}},{key:"updateDrag",value:function(i,d,m,_,t){var r=this.xVal,p=this.yVal,s=r+this.getDisplayWidth(),k=p+this.getDisplayHeight(),x=this.getMaxWidth(),N=this.getContainerContentSize();m===C.dragType.element?(s=(r+=i)+this.getDisplayWidth(),k=(p+=d)+this.getDisplayHeight()):(m!==C.dragType.sizerNW&&m!==C.dragType.sizerN&&m!==C.dragType.sizerNE||(p+=d),m!==C.dragType.sizerNE&&m!==C.dragType.sizerE&&m!==C.dragType.sizerSE||(s+=i),m!==C.dragType.sizerSE&&m!==C.dragType.sizerS&&m!==C.dragType.sizerSW||(k+=d),m!==C.dragType.sizerSW&&m!==C.dragType.sizerW&&m!==C.dragType.sizerNW||(r+=i),r<0&&(r=0),s<r&&(s=r),p<0&&(p=0),k<p&&(k=p),s>x&&(s=x),k>N.height&&(k=N.height));var H=s-r,ee=k-p;if(t!==null){var oe=!1,te=this.getContainer(),_e={width:0,height:0};if(_!==null&&_.getId()!==this.getContainerId()){if(oe=!0,_e=_.getContentSize(),te!==null){var de=_.getOffsetTo(te);r-=de.x,p-=de.y}}else _e=te.getContentSize();if(!oe||_.isElementAllowed(this.getElementType())){var Ie=t.getCommands().length;if(this.checkBounds(r,p,H,ee,_e,t),oe){var Ae=new e(this.id,"containerId",_.getId(),e.type.internal,this.rb);t.addCommand(Ae),Ae=new o(this.getPanelItem(),_.getPanelItem(),_.getPanelItem().getChildren().length,this.rb),t.addCommand(Ae)}t.getCommands().length===Ie&&this.updateDisplay()}else this.updateDisplay()}else this.updateDisplayInternal(r,p,H,ee)}},{key:"select",value:function(){var i=this;if(this.el!==null){var d,m=this.getSizerContainerElement(),_=lt(this.getSizers());try{var t=function(){var r=d.value,p=r,s=n("div",{class:"rbroSizer rbroSizer".concat(r)});s.addEventListener("mousedown",function(k){i.rb.getDocument().startDrag(k.pageX,k.pageY,i.id,i.containerId,i.getElementType(),C.dragType["sizer"+p]),k.stopPropagation()}),s.addEventListener("touchstart",function(k){if(i.rb.isSelectedObject(i.id)){var x=M(k);i.rb.getDocument().startDrag(x.x,x.y,i.id,i.containerId,i.getElementType(),C.dragType["sizer"+p])}k.preventDefault(),k.stopPropagation()}),s.addEventListener("touchmove",function(k){i.rb.getDocument().processDrag(k)}),s.addEventListener("touchend",function(k){i.rb.getDocument().stopDrag()}),m.append(s)};for(_.s();!(d=_.n()).done;)t()}catch(r){_.e(r)}finally{_.f()}this.el.classList.add("rbroSelected"),this.el.style.zIndex="10"}this.selected=!0}},{key:"deselect",value:function(){if(this.el!==null){var i,d=lt(this.getSizerContainerElement().querySelectorAll(".rbroSizer"));try{for(d.s();!(i=d.n()).done;)i.value.remove()}catch(m){d.e(m)}finally{d.f()}this.el.style.zIndex="",this.el.classList.remove("rbroSelected")}this.selected=!1}},{key:"getSizers",value:function(){return["N","NE","E","SE","S","SW","W","NW"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isAreaSelectionAllowed",value:function(){return!0}},{key:"isDraggingAllowed",value:function(){return!0}},{key:"isDroppingAllowed",value:function(){return!0}},{key:"getMinWidth",value:function(){return 20}},{key:"getMaxWidth",value:function(){return this.getContainerContentSize().width}},{key:"getMinHeight",value:function(){return 20}},{key:"createElement",value:function(){}},{key:"getElement",value:function(){return this.el}},{key:"getSizerContainerElement",value:function(){return this.el}},{key:"getContentElement",value:function(){return null}},{key:"hasDataSource",value:function(){return!1}},{key:"getDataSourceParameterName",value:function(){if(this.hasDataSource()){var i=this.getValue("dataSource").trim();if(i.length>=3&&i.substr(0,2)==="${"&&i.charAt(i.length-1)==="}")return i.substring(2,i.length-1)}return null}},{key:"getAllDataSources",value:function(){var i=[],d=[];this.getAllDataSourceParameterNames(d,null);for(var m=d.length-1;m>=0;m--){var _,t=d[m],r=null,p=lt(i);try{for(p.s();!(_=p.n()).done;){var s,k=lt(_.value.parameters);try{for(k.s();!(s=k.n()).done;){var x=s.value;if(x.getName()===t){r=x;break}}}catch(N){k.e(N)}finally{k.f()}}}catch(N){p.e(N)}finally{p.f()}r===null&&(r=this.rb.getParameterByName(t)),r!==null&&r.getValue("type")===ne.type.array&&i.unshift({name:t,parameters:r.getChildren()})}return i}},{key:"getAllDataSourceParameterNames",value:function(i,d){if((this.getElementType()===C.type.table||this.getElementType()===C.type.section)&&d&&d.getValue("bandType")===re.bandType.content){var m=this.getDataSourceParameterName();m!==null&&i.push(m)}var _=this.getPanelItem();if(_!==null){var t=_.getParent();t!==null&&t.getData()instanceof C&&t.getData().getAllDataSourceParameterNames(i,this)}}},{key:"addCommandsForChangedParameterName",value:function(i,d,m){}},{key:"addCommandForChangedParameterName",value:function(i,d,m,_){for(var t=i.getParent(),r=this.getAllDataSources(),p=!1,s="",k=null,x=null;t!==null;){if(t.getValue("type")!==ne.type.map){if(t.getValue("type")===ne.type.array){p=!0,k=t.getName();break}return}s=t.getName()+"."+s,x=t.getName(),t=t.getParent()}var N="${"+s+i.getName(),H="${"+s+d;i.getValue("type")===ne.type.map?(N+=".",H+="."):(N+="}",H+="}");var ee=!1;if(r.length>0){var oe,te=x||i.getName(),_e=lt(r[0].parameters);try{for(_e.s();!(oe=_e.n()).done;)if(oe.value.getName()===te){ee=!0;break}}catch(Ae){_e.e(Ae)}finally{_e.f()}}if(p){for(var de=-1,Ie=0;Ie<r.length;Ie++)if(r[Ie].name===k){de=Ie;break}de===0&&ee&&r[0].name===k?this.addCommandForChangedText(N,H,m,_):de>0&&(N="${"+k+":"+N.substring(2),H="${"+k+":"+H.substring(2),this.addCommandForChangedText(N,H,m,_))}else ee||(r.length>0&&(N="${:"+N.substring(2),H="${:"+H.substring(2)),this.addCommandForChangedText(N,H,m,_))}},{key:"addCommandForChangedText",value:function(i,d,m,_){var t=this.getValue(m),r=e.type.text;if(v(t)==="object"&&(t=JSON.stringify(t),r=e.type.richText),t.indexOf(i)!==-1){var p=t.replaceAll(i,d);r===e.type.richText&&(p=JSON.parse(p));var s=new e(this.id,m,p,r,this.rb);_.addCommand(s)}}},{key:"addCommandsForDelete",value:function(i){var d=[];this.appendContainerChildren(d),d.push(this);for(var m=0,_=d;m<_.length;m++){var t=_[m],r=new wt(!1,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),t.getPanelItem().getSiblingPosition(),this.rb);i.addCommand(r)}}},{key:"addCommandsForChangedWidth",value:function(i,d,m){var _=new e(this.id,"width",""+i,e.type.text,this.rb);d&&_.disableSelect(),m.addCommand(_)}},{key:"addChildren",value:function(i){}},{key:"addError",value:function(i){this.errors.push(i)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){this.el!==null&&(this.el.remove(),this.el=null),this.panelItem!==null&&(this.panelItem.getParent().removeChild(this.panelItem),this.panelItem=null)}},{key:"toJS",value:function(){var i,d={elementType:this.getElementType()},m=lt(this.getFields());try{for(m.s();!(i=m.n()).done;){var _=i.value;["x","y","width","height"].indexOf(_)===-1?d[_]=this.getValue(_):d[_]=this.getValue(_+"Val")}}catch(t){m.e(t)}finally{m.f()}return d}}]),C}();ye.type={none:"none",text:"text",image:"image",line:"line",table:"table",pageBreak:"page_break",tableText:"table_text",barCode:"bar_code",frame:"frame",section:"section"},ye.dragType={none:-1,element:0,sizerN:1,sizerNE:2,sizerE:3,sizerSE:4,sizerS:5,sizerSW:6,sizerW:7,sizerNW:8};var bt=at(5961),It=at.n(bt),gt=at(2592),Rt=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){var s;return Y(this,_),(s=m.call(this,p.getLabel("docElementImage"),t,80,80,p)).elBarCode=null,s.elContent=null,s.content="",s.format="CODE128",s.displayValue=!1,s.barWidth="2",s.guardBar=!1,s.errorCorrectionLevel="M",s.rotate=!1,s.spreadsheet_hide=!1,s.spreadsheet_column="",s.spreadsheet_colspan="",s.spreadsheet_addEmptyRow=!1,s.setInitialData(r),s.name=s.rb.getLabel("docElementBarCode"),s}return S(_,[{key:"setup",value:function(t){a(b(_.prototype),"setup",this).call(this,t),this.createElement(),this.content!==""&&this.updateBarCode(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(t,r){a(b(_.prototype),"setValue",this).call(this,t,r),t!=="content"&&t!=="format"&&t!=="displayValue"&&t!=="barWidth"&&t!=="guardBar"&&t!=="width"&&t!=="height"&&t!=="errorCorrectionLevel"&&t!=="rotate"||(this.updateBarCode(),this.updateDisplay(),t==="rotate"&&this.rb.isSelectedObject(this.getId())&&(this.rb.deselectObject(this.getId()),this.rb.selectObject(this.getId())))}},{key:"getProperties",value:function(){return["x","y","width","height","content","format","displayValue","barWidth","guardBar","errorCorrectionLevel","printIf","removeEmptyElement","rotate","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return ye.type.barCode}},{key:"updateDisplayInternal",value:function(t,r,p,s){this.el!==null&&(this.el.style.left=this.rb.toPixel(t),this.el.style.top=this.rb.toPixel(r),this.el.style.width=this.rb.toPixel(p),this.el.style.height=this.rb.toPixel(s))}},{key:"getSizers",value:function(){return this.format!=="QRCode"&&this.rotate?["N","NE","E","SE","S","SW","W","NW"]:["N","S"]}},{key:"createElement",value:function(){this.el=n("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroBarCodeElement"}),this.elContent=n("div",{id:"rbro_el_content".concat(this.id),style:"height: 100%"}),this.elBarCode=n("canvas",{id:"rbro_el_barcode".concat(this.id)}),this.elContent.append(this.elBarCode),this.el.append(this.elContent),this.appendToContainer(),this.updateBarCode(),a(b(_.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){a(b(_.prototype),"remove",this).call(this)}},{key:"updateBarCode",value:function(){if(this.format==="QRCode"){this.widthVal=this.heightVal,this.width=""+this.widthVal;var t=this.content;t===""&&(t="https://www.reportbro.com");var r={width:this.widthVal,margin:0,errorCorrectionLevel:this.errorCorrectionLevel};this.clearRotateStyle(),gt.toCanvas(this.elBarCode,t,r)}else{var p=!1,s=this.rotate?this.widthVal:this.heightVal;this.displayValue&&(s-=22),this.format!=="EAN8"&&this.format!=="EAN13"||!this.guardBar||(s-=12);var k={format:this.format,height:s,margin:0,displayValue:this.displayValue,width:2};this.format==="EAN8"||this.format==="EAN13"?k.flat=!this.guardBar:this.format==="UPC"&&(k.flat=!0);var x=A(this.barWidth);if(x&&(k.width=x),this.elBarCode.style.width="",this.elBarCode.style.height="",this.content!==""&&this.content.indexOf("${")===-1)try{It()("#"+this.elBarCode.id,this.content,k),p=!0}catch(oe){}if(!p){var N="";this.format==="CODE39"||this.format==="CODE128"?N="12345678":this.format==="EAN13"?N="5901234123457":this.format==="EAN8"?N="96385074":this.format==="EAN5"?N="12345":this.format==="EAN2"?N="12":this.format==="ITF14"?N="12345678901231":this.format==="UPC"?N="036000291452":this.format!=="MSI"&&this.format!=="MSI10"&&this.format!=="MSI11"&&this.format!=="MSI1010"&&this.format!=="MSI1110"&&this.format!=="pharmacode"||(N="1234"),It()("#"+this.elBarCode.id,N,k)}if(this.rotate){var H=-(this.elBarCode.clientWidth-this.widthVal)/2,ee=-H;this.elBarCode.style.transform="translate(".concat(H,"px, ").concat(ee,"px) rotate(90deg)"),this.elContent.style.overflow="hidden"}else this.widthVal=this.elBarCode.clientWidth,this.width=""+this.widthVal,this.clearRotateStyle()}}},{key:"clearRotateStyle",value:function(){this.elBarCode.style.transform="",this.elContent.style.overflow=""}},{key:"addCommandsForChangedParameterName",value:function(t,r,p){this.addCommandForChangedParameterName(t,r,"content",p),this.addCommandForChangedParameterName(t,r,"printIf",p)}},{key:"getClassName",value:function(){return"BarCodeElement"}}]),_}(ye),Bt=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){return Y(this,_),m.call(this,t,r,p)}return S(_,[{key:"setup",value:function(){this.el=this.rb.getDocument().getElement(this.band)}},{key:"isElementAllowed",value:function(t){return t!==ye.type.pageBreak&&t!==ye.type.frame&&t!==ye.type.section}},{key:"getOffset",value:function(){var t=0,r=0;if(this.owner!==null&&(t=this.owner.getValue("xVal"),r=this.owner.getValue("yVal")),this.parent!==null){var p=this.parent.getOffset();t+=p.x,r+=p.y}return{x:t,y:r}}},{key:"getSize",value:function(){var t=0,r=0;return this.owner!==null&&(t=this.owner.getValue("widthVal"),r=this.owner.getValue("heightVal")),{width:t,height:r}}},{key:"getContentSize",value:function(){var t=0,r=0;if(this.owner!==null){t=this.owner.getValue("widthVal"),r=this.owner.getValue("heightVal");var p=this.owner.getValue("borderWidthVal");this.owner.getValue("borderLeft")&&(t-=p),this.owner.getValue("borderRight")&&(t-=p),this.owner.getValue("borderTop")&&(r-=p),this.owner.getValue("borderBottom")&&(r-=p)}return{width:t,height:r}}}]),_}(u),sr=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){var s;return Y(this,_),(s=m.call(this,p.getLabel("docElementFrame"),t,100,100,p)).frame=null,s.setupComplete=!1,s.elContent=null,s.elContentFrame=null,s.label="",s.backgroundColor="",s.borderAll=!1,s.borderLeft=!1,s.borderTop=!1,s.borderRight=!1,s.borderBottom=!1,s.borderColor="#000000",s.borderWidth="1",s.shrinkToContentHeight=!1,s.spreadsheet_hide=!1,s.spreadsheet_column="",s.spreadsheet_addEmptyRow=!1,s.setInitialData(r),s.borderWidthVal=A(s.borderWidth),s}return S(_,[{key:"setup",value:function(t){this.borderWidthVal=A(this.borderWidth),a(b(_.prototype),"setup",this).call(this),this.createElement(),this.updateDisplay(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.frame=new Bt(this.linkedContainerId,"frame_"+this.linkedContainerId,this.rb),this.frame.init(this),this.rb.addContainer(this.frame),this.setupComplete=!0,this.updateStyle(),this.updateName(),t&&this.panelItem.open()}},{key:"registerEventHandlers",value:function(){a(b(_.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"setValue",value:function(t,r){t.indexOf("border")!==-1&&(this[t]=r,t==="borderWidth"&&(this.borderWidthVal=A(r)),$.setBorderValue(this,t,"",r,this.rb)),a(b(_.prototype),"setValue",this).call(this,t,r),t==="label"&&this.updateName()}},{key:"updateDisplayInternal",value:function(t,r,p,s){this.el!==null&&(this.el.style.left=this.rb.toPixel(t),this.el.style.top=this.rb.toPixel(r),this.el.style.width=this.rb.toPixel(p),this.el.style.height=this.rb.toPixel(s)),this.borderLeft&&(p-=this.borderWidthVal),this.borderRight&&(p-=this.borderWidthVal),this.borderTop&&(s-=this.borderWidthVal),this.borderBottom&&(s-=this.borderWidthVal),this.elContentFrame.style.width=this.rb.toPixel(p),this.elContentFrame.style.height=this.rb.toPixel(s)}},{key:"updateStyle",value:function(){var t;this.getValue("borderLeft")||this.getValue("borderTop")||this.getValue("borderRight")||this.getValue("borderBottom")?(t=this.getValue("borderTop")?"solid":"none",t+=this.getValue("borderRight")?" solid":" none",t+=this.getValue("borderBottom")?" solid":" none",t+=this.getValue("borderLeft")?" solid":" none",this.elContent.style.borderWidth=this.getValue("borderWidthVal")+"px",this.elContent.style.borderColor=this.getValue("borderColor")):t="none",this.elContent.style.borderStyle=t,this.el.style.backgroundColor=this.getValue("backgroundColor")}},{key:"getFields",value:function(){var t=this.getProperties();return t.splice(0,0,"id","containerId","linkedContainerId"),t}},{key:"getProperties",value:function(){return["label","x","y","width","height","backgroundColor","borderAll","borderLeft","borderTop","borderRight","borderBottom","borderColor","borderWidth","printIf","removeEmptyElement","shrinkToContentHeight","alignToPageBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return ye.type.frame}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=n("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroFrameElement rbroElementContainer"}),this.elContent=n("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentFrame=n("div",{id:"rbro_el_content_frame".concat(this.id),class:"rbroDocElementContentFrame"}),this.elContent.append(this.elContentFrame),this.el.append(this.elContent),this.appendToContainer(),this.registerEventHandlers()}},{key:"getContentElement",value:function(){return this.elContentFrame}},{key:"remove",value:function(){a(b(_.prototype),"remove",this).call(this),this.rb.deleteContainer(this.frame)}},{key:"updateName",value:function(){this.label.trim()!==""?this.name=this.label:this.name=this.rb.getLabel("docElementFrame"),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"addCommandsForChangedParameterName",value:function(t,r,p){this.addCommandForChangedParameterName(t,r,"printIf",p)}},{key:"getClassName",value:function(){return"FrameElement"}}]),_}(ye),rr=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){var s;return Y(this,_),(s=m.call(this,p.getLabel("docElementImage"),t,80,80,p)).source="",s.image="",s.imageWidth=0,s.imageHeight=0,s.imageRatio=0,s.imageFilename="",s.elImg=null,s.elContent=null,s.horizontalAlignment=$.alignment.left,s.verticalAlignment=$.alignment.top,s.backgroundColor="",s.link="",s.spreadsheet_hide=!1,s.spreadsheet_column="",s.spreadsheet_addEmptyRow=!1,s.setInitialData(r),s}return S(_,[{key:"setup",value:function(t){a(b(_.prototype),"setup",this).call(this,t),this.createElement(),this.setImage(),this.updateDisplay(),this.updateStyle(),this.updateName()}},{key:"setValue",value:function(t,r){a(b(_.prototype),"setValue",this).call(this,t,r),t!=="source"&&t!=="imageFilename"||this.updateName(),t!=="source"&&t!=="image"||this.setImage()}},{key:"getProperties",value:function(){return["x","y","width","height","source","image","imageFilename","horizontalAlignment","verticalAlignment","backgroundColor","printIf","removeEmptyElement","link","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return ye.type.image}},{key:"updateDisplayInternal",value:function(t,r,p,s){if(this.el!==null){this.el.style.left=this.rb.toPixel(t),this.el.style.top=this.rb.toPixel(r),this.el.style.width=this.rb.toPixel(p),this.el.style.height=this.rb.toPixel(s);var k=0,x=0;if(this.imageRatio!==0&&(k=this.imageWidth<p?this.imageWidth:p,x=this.imageHeight<s?this.imageHeight:s,k!==this.imageWidth||x!==this.imageHeight)){var N=Math.floor(x*this.imageRatio);N<p?k=N:x=Math.floor(k/this.imageRatio)}this.elImg.style.width=this.rb.toPixel(k),this.elImg.style.height=this.rb.toPixel(x)}}},{key:"updateStyle",value:function(){var t=this.getValue("horizontalAlignment"),r=this.getValue("verticalAlignment"),p="rbroDocElementAlign"+t.charAt(0).toUpperCase()+t.slice(1),s="rbroDocElementVAlign"+r.charAt(0).toUpperCase()+r.slice(1);this.elContent.style.textAlign=t,this.elContent.style.verticalAlign=r,this.elContent.style.backgroundColor=this.getValue("backgroundColor"),this.elContent.className="",this.elContent.classList.add("rbroContentContainerHelper"),this.elContent.classList.add(p),this.elContent.classList.add(s)}},{key:"createElement",value:function(){var t=this;this.el=n("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroImageElement"}),this.elImg=n("img",{src:""}),this.elImg.addEventListener("load",function(r){t.imageWidth=t.elImg.naturalWidth,t.imageHeight=t.elImg.naturalHeight,t.imageHeight!==0?t.imageRatio=t.imageWidth/t.imageHeight:t.imageRatio=0,t.updateDisplay()}),this.elContent=n("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContent.append(this.elImg),this.el.append(this.elContent),this.appendToContainer(),a(b(_.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){this.elImg=null,a(b(_.prototype),"remove",this).call(this)}},{key:"setImage",value:function(){this.elImg.setAttribute("src",""),this.source.startsWith("https://")||this.source.startsWith("http://")?this.elImg.setAttribute("src",this.source):this.image!==""?this.elImg.setAttribute("src",this.image):(this.imageWidth=0,this.imageHeight=0,this.imageRatio=0,this.updateDisplay())}},{key:"updateName",value:function(){this.getValue("imageFilename").trim()!==""?this.name=this.getValue("imageFilename"):this.getValue("source").trim()!==""?this.name=this.getValue("source"):this.name=this.rb.getLabel("docElementImage");var t=document.getElementById("rbro_menu_item_name".concat(this.id));t.textContent=this.name,t.setAttribute("title",this.name)}},{key:"addCommandsForChangedParameterName",value:function(t,r,p){this.addCommandForChangedParameterName(t,r,"source",p),this.addCommandForChangedParameterName(t,r,"printIf",p)}},{key:"getClassName",value:function(){return"ImageElement"}}]),_}(ye),Ut=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){var s;return Y(this,_),(s=m.call(this,p.getLabel("docElementLine"),t,100,1,p)).color="#000000",s.setInitialData(r),s}return S(_,[{key:"setup",value:function(t){a(b(_.prototype),"setup",this).call(this,t),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(t,r){a(b(_.prototype),"setValue",this).call(this,t,r),t==="color"&&this.updateStyle()}},{key:"getProperties",value:function(){return["x","y","width","height","color","printIf"]}},{key:"getElementType",value:function(){return ye.type.line}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.getValue("color")}},{key:"getSizers",value:function(){return["E","W"]}},{key:"createElement",value:function(){this.el=n("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroLineElement"}),this.appendToContainer(),a(b(_.prototype),"registerEventHandlers",this).call(this)}},{key:"addCommandsForChangedParameterName",value:function(t,r,p){this.addCommandForChangedParameterName(t,r,"printIf",p)}},{key:"getClassName",value:function(){return"LineElement"}}]),_}(ye),Nt=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){var s;return Y(this,_),(s=m.call(this,p.getLabel("docElementPageBreak"),t,-1,1,p)).setInitialData(r),s}return S(_,[{key:"setup",value:function(t){a(b(_.prototype),"setup",this).call(this,t),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(t,r){a(b(_.prototype),"setValue",this).call(this,t,r)}},{key:"getProperties",value:function(){return["y","printIf"]}},{key:"getElementType",value:function(){return ye.type.pageBreak}},{key:"updateDisplayInternal",value:function(t,r,p,s){this.el!==null&&(this.el.style.left=this.rb.toPixel(0),this.el.style.top=this.rb.toPixel(r),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(1))}},{key:"getSizers",value:function(){return[]}},{key:"createElement",value:function(){this.el=n("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroPageBreakElement"}),this.appendToContainer(),a(b(_.prototype),"registerEventHandlers",this).call(this)}},{key:"getClassName",value:function(){return"PageBreakElement"}}]),_}(ye),At=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p,s){var k;Y(this,_);var x=p===re.bandType.header?s.getLabel("bandHeader"):p===re.bandType.footer?s.getLabel("bandFooter"):s.getLabel("bandContent");return(k=m.call(this,x,t,0,100,s)).setupComplete=!1,k.band=null,k.bandType=p,k.repeatHeader=!1,k.alwaysPrintOnSamePage=!0,k.shrinkToContentHeight=!1,k.parentId=r.parentId,k.heightVal=0,k.visible=p===re.bandType.content,k.setInitialData(r),k}return S(_,[{key:"setup",value:function(){this.createElement(),this.updateDisplay(),this.updateStyle(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.band=new re(this.bandType,!0,this.linkedContainerId,"section_"+this.bandType+"_"+this.linkedContainerId,this.rb),this.band.init(this),this.rb.addContainer(this.band),this.setupComplete=!0}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"getAbsolutePosition",value:function(){var t={x:0,y:0},r=this.getParent();return r!==null&&(t=r.getAbsolutePosition()),t.y+=this.yVal,t}},{key:"setValue",value:function(t,r){if(a(b(_.prototype),"setValue",this).call(this,t,r),t==="height"){this[t+"Val"]=A(r);var p=this.getParent();p!==null&&p.updateBands(this)}}},{key:"getFields",value:function(){var t=this.getProperties();return t.splice(0,0,"id","containerId","linkedContainerId"),t}},{key:"getProperties",value:function(){return this.bandType===re.bandType.header?["height","repeatHeader","shrinkToContentHeight"]:["height","alwaysPrintOnSamePage","shrinkToContentHeight"]}},{key:"updateDisplayInternal",value:function(t,r,p,s){if(this.el!==null&&(this.el.style.top=this.rb.toPixel(r),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(s),this.setupComplete)){var k=this.getParent();k!==null&&k.updateHeight(this,s)}}},{key:"select",value:function(){a(b(_.prototype),"select",this).call(this),this.el.classList.add("rbroHighlightBandDescription")}},{key:"deselect",value:function(){a(b(_.prototype),"deselect",this).call(this),this.el.classList.remove("rbroHighlightBandDescription")}},{key:"getSizers",value:function(){return["S"]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=n("div",{id:"rbro_el".concat(this.id),class:"rbroSectionBandElement rbroElementContainer"}),this.el.append(n("div",{id:"rbro_el_band_description".concat(this.id),class:"rbroDocumentBandDescription"})),document.getElementById("rbro_el".concat(this.parentId)).append(this.el)}},{key:"getContentElement",value:function(){return this.el}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"show",value:function(t){this.visible=t,t?this.el.classList.remove("rbroHidden"):this.el.classList.add("rbroHidden")}},{key:"isVisible",value:function(){return this.visible}},{key:"getClassName",value:function(){return"SectionBandElement"}}]),_}(ye);function Tt(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var gr=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){var s;return Y(this,_),(s=m.call(this,p.getLabel("docElementSection"),t,-1,60,p)).setupComplete=!1,s.elDividerHeader=null,s.elDividerFooter=null,s.elDividerBottom=null,s.dataSource="",s.label="",s.header=!1,s.footer=!1,s.headerData=null,s.contentData=null,s.footerData=null,s.setInitialData(r),s}return S(_,[{key:"setup",value:function(t){a(b(_.prototype),"setup",this).call(this,t),this.createElement(),this.updateDisplay(),this.headerData=this.createBand(re.bandType.header,null),this.contentData=this.createBand(re.bandType.content,null),this.footerData=this.createBand(re.bandType.footer,null),this.updateHeight(null,-1),this.setWidth(this.getContainerContentSize().width),this.setupComplete=!0,this.updateName(),t&&this.panelItem.open()}},{key:"createBand",value:function(t,r){var p,s,k=t+"Data",x={hasChildren:!0,showDelete:!1};r?p=r:this[k]?s=(p=this[k]).id:p={},p.parentId=this.id,p.containerId=this.containerId,s||(s=this.rb.getUniqueId());var N=0;t===re.bandType.header?p.y=""+N:t===re.bandType.content?(this.header&&this.headerData!==null&&(N+=this.headerData.getValue("heightVal")),p.y=""+N):t===re.bandType.footer&&(this.header&&this.headerData!==null&&(N+=this.headerData.getValue("heightVal")),this.contentData!==null&&(N+=this.contentData.getValue("heightVal")),p.y=""+N),(t===re.bandType.header&&!this.header||t===re.bandType.footer&&!this.footer)&&(x.visible=!1);var H=new At(s,p,t,this.rb);this.rb.addDataObject(H);var ee=new Ne("section_band",this.panelItem,H,x,this.rb);return H.setPanelItem(ee),this.panelItem.appendChild(ee),H.setup(),t===re.bandType.header?H.show(this.header):t===re.bandType.footer&&H.show(this.footer),H}},{key:"registerEventHandlers",value:function(){a(b(_.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){var t=this.id;return this.footerData!==null&&(t=this.footerData.getMaxId()),t}},{key:"appendContainerChildren",value:function(t){this.headerData!==null&&this.headerData.appendContainerChildren(t),this.contentData!==null&&this.contentData.appendContainerChildren(t),this.footerData!==null&&this.footerData.appendContainerChildren(t)}},{key:"setValue",value:function(t,r){a(b(_.prototype),"setValue",this).call(this,t,r),t==="label"||t==="dataSource"?this.updateName():t==="header"?(this.headerData.show(r),r?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):t==="footer"?(this.footerData.show(r),r?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):t==="containerId"&&(this.headerData.containerId=r,this.contentData.containerId=r,this.footerData.containerId=r),t!=="header"&&t!=="footer"||this.updateBands(null)}},{key:"updateDisplayInternal",value:function(t,r,p,s){this.el!==null&&(this.el.style.top=this.rb.toPixel(r),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(s))}},{key:"getProperties",value:function(){return["y","label","dataSource","header","footer","printIf"]}},{key:"getElementType",value:function(){return ye.type.section}},{key:"select",value:function(){a(b(_.prototype),"select",this).call(this);for(var t=this.getSizerContainerElement(),r=0,p=["N","S"];r<p.length;r++){var s=p[r];t.append(n("div",{class:"rbroSizer rbroSizer".concat(s," rbroSizerMove")}))}this.headerData!==null&&document.getElementById("rbro_el".concat(this.headerData.getId())).classList.add("rbroHighlightBandDescription"),this.contentData!==null&&document.getElementById("rbro_el".concat(this.contentData.getId())).classList.add("rbroHighlightBandDescription"),this.footerData!==null&&document.getElementById("rbro_el".concat(this.footerData.getId())).classList.add("rbroHighlightBandDescription")}},{key:"deselect",value:function(){a(b(_.prototype),"deselect",this).call(this);var t,r=function(p,s){var k=typeof Symbol!="undefined"&&p[Symbol.iterator]||p["@@iterator"];if(!k){if(Array.isArray(p)||(k=function(te,_e){if(te){if(typeof te=="string")return Tt(te,_e);var de=Object.prototype.toString.call(te).slice(8,-1);return de==="Object"&&te.constructor&&(de=te.constructor.name),de==="Map"||de==="Set"?Array.from(te):de==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(de)?Tt(te,_e):void 0}}(p))||s&&p&&typeof p.length=="number"){k&&(p=k);var x=0,N=function(){};return{s:N,n:function(){return x>=p.length?{done:!0}:{done:!1,value:p[x++]}},e:function(te){throw te},f:N}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var H,ee=!0,oe=!1;return{s:function(){k=k.call(p)},n:function(){var te=k.next();return ee=te.done,te},e:function(te){oe=!0,H=te},f:function(){try{ee||k.return==null||k.return()}finally{if(oe)throw H}}}}(this.el.querySelectorAll(".rbroSectionBandElement"));try{for(r.s();!(t=r.n()).done;)t.value.classList.remove("rbroHighlightBandDescription")}catch(p){r.e(p)}finally{r.f()}}},{key:"getSizers",value:function(){return[]}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=n("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroSectionElement"}),this.el.append(n("div",{id:"rbro_divider_section_top".concat(this.id),class:"rbroDivider rbroDividerSection",style:"top: 0px"})),this.elDividerHeader=n("div",{id:"rbro_divider_section_header".concat(this.id),class:"rbroDivider rbroDividerSectionBand rbroHidden"}),this.el.append(this.elDividerHeader),this.elDividerFooter=n("div",{id:"rbro_divider_section_footer".concat(this.id),class:"rbroDivider rbroDividerSectionBand rbroHidden"}),this.el.append(this.elDividerFooter),this.elDividerBottom=n("div",{id:"rbro_divider_section_bottom".concat(this.id),class:"rbroDivider rbroDividerSection"}),this.el.append(this.elDividerBottom),this.appendToContainer(),this.registerEventHandlers()}},{key:"remove",value:function(){a(b(_.prototype),"remove",this).call(this),this.headerData!==null&&this.rb.deleteContainer(this.headerData.getLinkedContainer()),this.contentData!==null&&this.rb.deleteContainer(this.contentData.getLinkedContainer()),this.footerData!==null&&this.rb.deleteContainer(this.footerData.getLinkedContainer())}},{key:"updateName",value:function(){this.label.trim()!==""?this.name=this.label:(this.name=this.rb.getLabel("docElementSection"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource)),this.headerData!==null&&(document.getElementById("rbro_el_band_description".concat(this.headerData.getId())).textContent=this.name+" "+this.headerData.getName()),this.contentData!==null&&(document.getElementById("rbro_el_band_description".concat(this.contentData.getId())).textContent=this.name+" "+this.contentData.getName()),this.footerData!==null&&(document.getElementById("rbro_el_band_description".concat(this.footerData.getId())).textContent=this.name+" "+this.footerData.getName()),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"setWidth",value:function(t){this.widthVal=t,this.width=""+t,this.headerData!==null&&(this.headerData.widthVal=t,this.headerData.width=""+t),this.contentData!==null&&(this.contentData.widthVal=t,this.contentData.width=""+t),this.footerData!==null&&(this.footerData.widthVal=t,this.footerData.width=""+t)}},{key:"updateHeight",value:function(t,r){var p=0;this.header&&this.headerData!==null?(t===this.headerData?p+=r:p+=this.headerData.getValue("heightVal"),this.elDividerHeader.style.top=this.rb.toPixel(p),this.elDividerHeader.classList.remove("rbroHidden")):this.elDividerHeader.classList.add("rbroHidden"),this.contentData!==null&&(t===this.contentData?p+=r:p+=this.contentData.getValue("heightVal")),this.footer&&this.footerData!==null?(this.elDividerFooter.style.top=this.rb.toPixel(p),this.elDividerFooter.classList.remove("rbroHidden"),t===this.footerData?p+=r:p+=this.footerData.getValue("heightVal")):document.getElementById("rbro_divider_section_footer".concat(this.id)).classList.add("rbroHidden"),this.elDividerBottom.style.top=this.rb.toPixel(p),this.height=""+p,this.heightVal=p,this.updateDisplay()}},{key:"updateBands",value:function(t){if(this.setupComplete){var r=0;this.header&&(this.headerData!==t&&this.headerData.setValue("y",""+r),r+=this.headerData.getValue("heightVal")),this.contentData!==t&&this.contentData.setValue("y",""+r),r+=this.contentData.getValue("heightVal"),this.footer&&this.footerData!==t&&this.footerData.setValue("y",""+r)}this.updateHeight(null,-1)}},{key:"getLinkedContainers",value:function(){for(var t,r=[],p=0,s=["headerData","contentData","footerData"];p<s.length;p++){var k=s[p];this[k]!==null&&(t=this[k].getLinkedContainer())!==null&&r.push(t)}return r}},{key:"hasDataSource",value:function(){return!0}},{key:"addCommandsForChangedParameterName",value:function(t,r,p){this.addCommandForChangedParameterName(t,r,"dataSource",p),this.addCommandForChangedParameterName(t,r,"printIf",p)}},{key:"toJS",value:function(){var t=a(b(_.prototype),"toJS",this).call(this);return t.headerData=this.headerData.toJS(),t.contentData=this.contentData.toJS(),t.footerData=this.footerData.toJS(),t}},{key:"getClassName",value:function(){return"SectionElement"}}]),_}(ye);function $r(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(s,k){if(s){if(typeof s=="string")return Kr(s,k);var x=Object.prototype.toString.call(s).slice(8,-1);return x==="Object"&&s.constructor&&(x=s.constructor.name),x==="Map"||x==="Set"?Array.from(s):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?Kr(s,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(s){throw s},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var s=d.next();return r=s.done,s},e:function(s){p=!0,t=s},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function Kr(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var Zr=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){var s;return Y(this,_),(s=m.call(this,p.getLabel("docElementText"),t,100,20,p)).elContent=null,s.elContentText=null,s.elContentTextData=null,s.content="",s.richText=!1,s.richTextContent=null,s.richTextHtml="",s.eval=!1,s.styleId="",s.bold=!1,s.italic=!1,s.underline=!1,s.strikethrough=!1,s.horizontalAlignment=$.alignment.left,s.verticalAlignment=$.alignment.top,s.textColor="#000000",s.backgroundColor="",s.font=p.getProperty("defaultFont"),s.fontSize=12,s.lineSpacing=1,s.borderColor="#000000",s.borderWidth="1",s.borderAll=!1,s.borderLeft=!1,s.borderTop=!1,s.borderRight=!1,s.borderBottom=!1,s.paddingLeft="2",s.paddingTop="2",s.paddingRight="2",s.paddingBottom="2",s.cs_condition="",s.cs_styleId="",s.cs_additionalRules="",s.cs_bold=!1,s.cs_italic=!1,s.cs_underline=!1,s.cs_strikethrough=!1,s.cs_horizontalAlignment=$.alignment.left,s.cs_verticalAlignment=$.alignment.top,s.cs_textColor="#000000",s.cs_backgroundColor="",s.cs_font=$.font.helvetica,s.cs_fontSize=12,s.cs_lineSpacing=1,s.cs_borderColor="#000000",s.cs_borderWidth="1",s.cs_borderAll=!1,s.cs_borderLeft=!1,s.cs_borderTop=!1,s.cs_borderRight=!1,s.cs_borderBottom=!1,s.cs_paddingLeft="2",s.cs_paddingTop="2",s.cs_paddingRight="2",s.cs_paddingBottom="2",s.alwaysPrintOnSamePage=!0,s.pattern="",s.link="",s.spreadsheet_hide=!1,s.spreadsheet_column="",s.spreadsheet_colspan="",s.spreadsheet_addEmptyRow=!1,s.spreadsheet_textWrap=!1,s.setInitialData(r),s.borderWidthVal=A(s.borderWidth),s}return S(_,[{key:"setup",value:function(t){a(b(_.prototype),"setup",this).call(this,t),this.createElement(),this.updateDisplay(),this.updateStyle(),this.richText?this.setupRichText():this.updateContent(this.content)}},{key:"handleDoubleClick",value:function(t){a(b(_.prototype),"handleDoubleClick",this).call(this,t);var r=document.getElementById("rbro_doc_element_content");r.focus(),typeof r.selectionStart=="number"&&(r.selectionStart=r.selectionEnd=r.value.length)}},{key:"setValue",value:function(t,r){t.indexOf("border")!==-1&&(this[t]=r,t.substr(0,3)==="cs_"?(t==="cs_borderWidth"&&(this.borderWidthVal=A(r)),$.setBorderValue(this,t,"cs_",r,this.rb)):(t==="borderWidth"&&(this.borderWidthVal=A(r)),$.setBorderValue(this,t,"",r,this.rb))),a(b(_.prototype),"setValue",this).call(this,t,r),t==="content"?this.updateContent(r):t==="width"||t==="height"?this.updateDisplay():t==="richText"?(r?this.setupRichText():this.updateContent(this.content),this.updateStyle()):t==="richTextContent"?this.updateRichTextContent(r):t==="richTextHtml"&&(document.getElementById("rbro_el_content_text_data".concat(this.id)).innerHTML=r)}},{key:"getProperties",value:function(){return["x","y","width","height","content","richText","richTextContent","richTextHtml","eval","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom","printIf","removeEmptyElement","alwaysPrintOnSamePage","pattern","link","cs_condition","cs_styleId","cs_additionalRules","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_borderColor","cs_borderWidth","cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow","spreadsheet_textWrap"]}},{key:"getElementType",value:function(){return ye.type.text}},{key:"updateDisplayInternal",value:function(t,r,p,s){this.el!==null&&(this.el.style.left=this.rb.toPixel(t),this.el.style.top=this.rb.toPixel(r),this.el.style.width=this.rb.toPixel(p),this.el.style.height=this.rb.toPixel(s));var k=this.getContentSize(p,s,this.getStyle());this.elContentText.style.width=this.rb.toPixel(k.width),this.elContentText.style.height=this.rb.toPixel(k.height)}},{key:"getStyle",value:function(){var t=this;if(this.styleId!==""){var r=this.rb.getDataObject(this.styleId);r!==null&&(t=r)}return t}},{key:"addCommandsForChangedStyle",value:function(t,r,p,s){if(t!==""){var k=this.rb.getStyleById(t);if(k!==null){var x,N=$r(k.getFields().slice(2));try{for(N.s();!(x=N.n()).done;){var H=x.value,ee=r+H,oe=k.getValue(H);if(oe!==this.getValue(ee)){var te=p[ee],_e=new e(this.getId(),ee,oe,te.type,this.rb);_e.disableSelect(),s.addCommand(_e)}}}catch(de){N.e(de)}finally{N.f()}}}s.addCommand(new e(this.getId(),r+"styleId",t,e.type.select,this.rb))}},{key:"getContentSize",value:function(t,r,p){var s=p.getValue("borderWidthVal");return t-=A(p.getValue("paddingLeft"))+A(p.getValue("paddingRight")),p.getValue("borderLeft")&&(t-=s),p.getValue("borderRight")&&(t-=s),r-=A(p.getValue("paddingTop"))+A(p.getValue("paddingBottom")),p.getValue("borderTop")&&(r-=s),p.getValue("borderBottom")&&(r-=s),{width:t,height:r}}},{key:"updateStyle",value:function(){var t,r={},p=this.getStyle(),s="",k="",x=this.getContentSize(this.getDisplayWidth(),this.getDisplayHeight(),p);r.width=this.rb.toPixel(x.width),r.height=this.rb.toPixel(x.height);var N=p.getValue("horizontalAlignment"),H=p.getValue("verticalAlignment"),ee="rbroDocElementAlign"+N.charAt(0).toUpperCase()+N.slice(1),oe="rbroDocElementVAlign"+H.charAt(0).toUpperCase()+H.slice(1);r["vertical-align"]=H,r["background-color"]=p.getValue("backgroundColor"),this.richText?(r["font-weight"]="unset",r["font-style"]="normal",r["text-decoration"]="none",r["text-align"]="unset",r.color="#000000",r["font-family"]=this.rb.getProperty("defaultFont"),r["font-size"]="12px"):(r["font-weight"]=p.getValue("bold")?"bold":"",r["font-style"]=p.getValue("italic")?"italic":"normal",p.getValue("underline")&&p.getValue("strikethrough")?r["text-decoration"]="underline line-through":p.getValue("underline")?r["text-decoration"]="underline":p.getValue("strikethrough")?r["text-decoration"]="line-through":r["text-decoration"]="none",r["text-align"]=N,r.color=p.getValue("textColor"),r["font-family"]=p.getValue("font"),r["font-size"]=p.getValue("fontSize")+"px"),r["line-height"]=p.getValue("lineSpacing"),p.getValue("borderLeft")||p.getValue("borderTop")||p.getValue("borderRight")||p.getValue("borderBottom")?(t=p.getValue("borderTop")?"solid":"none",t+=p.getValue("borderRight")?" solid":" none",t+=p.getValue("borderBottom")?" solid":" none",t+=p.getValue("borderLeft")?" solid":" none",s=p.getValue("borderWidthVal")+"px",k=p.getValue("borderColor")):t="none",p.getValue("paddingLeft")!==""||p.getValue("paddingTop")!==""||p.getValue("paddingRight")!==""||p.getValue("paddingBottom")!==""?(r.padding=this.rb.toPixel(p.getValue("paddingTop")),r.padding+=" "+this.rb.toPixel(p.getValue("paddingRight")),r.padding+=" "+this.rb.toPixel(p.getValue("paddingBottom")),r.padding+=" "+this.rb.toPixel(p.getValue("paddingLeft"))):r.padding="",this.elContent.style.borderStyle=t,this.elContent.style.borderWidth=s,this.elContent.style.borderColor=k,this.elContent.className="",this.elContent.classList.add("rbroContentContainerHelper"),this.elContent.classList.add(ee),this.elContent.classList.add(oe);var te="";for(var _e in r)te+=_e+": "+r[_e]+";";this.elContentText.style.cssText=te}},{key:"hasBorderSettings",value:function(){return!0}},{key:"createElement",value:function(){this.el=n("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroTextElement"}),this.elContent=n("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentText=n("div",{id:"rbro_el_content_text".concat(this.id),class:"rbroDocElementContentText"}),this.elContentTextData=n("span",{id:"rbro_el_content_text_data".concat(this.id)}),this.elContentText.append(this.elContentTextData),this.elContent.append(this.elContentText),this.el.append(this.elContent),this.appendToContainer(),this.elContentTextData.textContent=this.content,a(b(_.prototype),"registerEventHandlers",this).call(this)}},{key:"updateContent",value:function(t){t.trim()===""?this.name=this.rb.getLabel("docElementText"):this.name=t;var r=document.getElementById("rbro_menu_item_name".concat(this.id));r.textContent=this.name,r.setAttribute("title",this.name),this.elContentTextData.textContent=t}},{key:"updateRichTextContent",value:function(t){var r="";if(t&&t.ops){var p,s=$r(t.ops);try{for(s.s();!(p=s.n()).done;){var k=p.value;"insert"in k&&(r+=k.insert)}}catch(N){s.e(N)}finally{s.f()}(r=r.replace(/(?:\r\n|\r|\n)/g," ")).length>80&&(r=r.substr(0,80)),r=r.trim()}this.name=r===""?this.rb.getLabel("docElementText"):r;var x=document.getElementById("rbro_menu_item_name".concat(this.id));x.textContent=this.name,x.setAttribute("title",this.name)}},{key:"setupRichText",value:function(){this.updateRichTextContent(this.richTextContent),this.elContentTextData.innerHTML=this.richTextHtml}},{key:"addCommandsForChangedParameterName",value:function(t,r,p){this.addCommandForChangedParameterName(t,r,"content",p),this.addCommandForChangedParameterName(t,r,"richTextContent",p),this.addCommandForChangedParameterName(t,r,"richTextHtml",p),this.addCommandForChangedParameterName(t,r,"printIf",p),this.addCommandForChangedParameterName(t,r,"cs_condition",p)}},{key:"toJS",value:function(){for(var t=a(b(_.prototype),"toJS",this).call(this),r=0,p=["borderWidth","paddingLeft","paddingTop","paddingRight","paddingBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom"];r<p.length;r++){var s=p[r];t[s]=A(this.getValue(s))}return t}},{key:"getClassName",value:function(){return"TextElement"}}]),_}(ye),Gt=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){var s;return Y(this,_),(s=m.call(this,t,r,p)).elContent=null,s.elContentText=null,s.elContentTextData=null,s.colspan=r.colspan||"",s.colspanVal=1,s.columnIndex=r.columnIndex,s.parentId=r.parentId,s.tableId=r.tableId,s.displayWidth=s.widthVal,s.lastTouchStartTime=0,s.updateColspanVal(),s}return S(_,[{key:"setInitialData",value:function(t){this.growWeight=0,a(b(_.prototype),"setInitialData",this).call(this,t)}},{key:"registerEventHandlers",value:function(){var t=this;this.el.addEventListener("dblclick",function(r){t.rb.isSelectedObject(t.id)||t.rb.isSelectedObject(t.tableId)&&(t.rb.selectObject(t.id,!r.shiftKey),r.stopPropagation())}),this.el.addEventListener("mousedown",function(r){t.rb.isSelectedObject(t.id)?(r.shiftKey&&t.rb.deselectObject(t.id),r.stopPropagation()):t.rb.isTableElementSelected(t.tableId)&&(t.rb.selectObject(t.id,!r.shiftKey),r.stopPropagation())}),this.el.addEventListener("touchstart",function(r){t.rb.isSelectedObject(t.id)||(new Date().getTime()-t.lastTouchStartTime<1e3?t.rb.isSelectedObject(t.tableId)&&(t.rb.selectObject(t.id,!0),r.stopPropagation()):t.rb.isTableElementSelected(t.tableId)&&(t.rb.selectObject(t.id,!0),r.stopPropagation())),t.lastTouchStartTime=new Date().getTime()})}},{key:"getContainerId",value:function(){var t=this.getTable();return t!==null?t.getContainerId():null}},{key:"getValue",value:function(t){return t==="xReadOnly"?this.getOffsetX():a(b(_.prototype),"getValue",this).call(this,t)}},{key:"setValue",value:function(t,r){if(a(b(_.prototype),"setValue",this).call(this,t,r),t==="width"){var p=this.getTable();p!==null&&(p.updateColumnWidth(this.columnIndex,r),p.updateColumnDisplay())}else if(t==="height")this.updateDisplayInternalNotify(0,0,this.displayWidth,this.heightVal,!1);else if(t==="colspan"){this.updateColspanVal();var s=this.rb.getDataObject(this.tableId);s!==null&&s.updateColumnDisplay()}}},{key:"getUpdateValue",value:function(t,r){if(t==="width"){var p=A(r);if(this.colspanVal>1){var s=this.rb.getDataObject(this.parentId);if(s!==null){var k=this.getNextCellIndex(),x=s.getSingleCellWidths();k>x.length&&(k=x.length);for(var N=this.columnIndex+1;N<k;N++)p+=x[N]}}return r===""&&p===0?"":""+p}return r}},{key:"setWidth",value:function(t){this.width=t,this.widthVal=A(t)}},{key:"getDisplayWidth",value:function(){return this.displayWidth}},{key:"setDisplayWidth",value:function(t){this.displayWidth=t}},{key:"getDisplayWidthSplit",value:function(t){if(this.colspanVal===1)return[t];var r=[20],p=20,s=this.rb.getDataObject(this.parentId);if(s!==null){var k=this.getNextCellIndex(),x=s.getSingleCellWidths();k>x.length&&(k=x.length);for(var N=this.columnIndex+1;N<k;N++)r.push(x[N]),p+=x[N];var H=t-p;if(H>0)r[0]+=H;else if(H<0){var ee=1;for(H=-H;ee<r.length;){if(r[ee]-20>H){r[ee]-=H;break}H-=r[ee]-20,r[ee]=20,ee++}}}return r}},{key:"updateColspanVal",value:function(){this.colspanVal=A(this.colspan),this.colspanVal<=0&&(this.colspanVal=1),this.el!==null&&this.el.setAttribute("colspan",this.colspanVal)}},{key:"getFields",value:function(){var t=this.getProperties();return t.splice(0,1,"id"),t}},{key:"getProperties",value:function(){var t=["xReadOnly","width","content","richText","richTextContent","richTextHtml","eval","colspan","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","paddingLeft","paddingTop","paddingRight","paddingBottom","pattern","link","cs_condition","cs_styleId","cs_additionalRules","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_textWrap"],r=this.rb.getDataObject(this.parentId);return r!==null&&r.getValue("bandType")===re.bandType.header&&(t.push("printIf"),t.push("growWeight")),t}},{key:"getElementType",value:function(){return ye.type.tableText}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.displayWidth,this.heightVal)}},{key:"updateDisplayInternal",value:function(t,r,p,s){this.updateDisplayInternalNotify(t,r,p,s,!0)}},{key:"updateDisplayInternalNotify",value:function(t,r,p,s,k){this.el!==null&&(this.el.style.width=this.rb.toPixel(p-1));var x=this.getContentSize(p,s,this.getStyle());if(this.elContentText.style.width=this.rb.toPixel(x.width),this.elContentText.style.height=this.rb.toPixel(x.height),k){var N=this.rb.getDataObject(this.tableId);if(N!==null){for(var H=this.rb.getDataObject(this.parentId),ee=p,oe=H.getSingleCellWidths(),te=0;te<oe.length;te++)(te<this.columnIndex||te>=this.columnIndex+this.colspanVal)&&(ee+=oe[te]);for(var _e=this.getDisplayWidthSplit(p),de=0;de<_e.length;de++)N.notifyColumnWidthResized(H,this.columnIndex+de,_e[de],ee)}}}},{key:"getSizers",value:function(){return["E"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"getMinWidth",value:function(){return 20*this.colspanVal}},{key:"getMaxWidth",value:function(){var t=this.rb.getDataObject(this.tableId),r=this.rb.getDataObject(this.parentId);if(t!==null&&r!==null){for(var p=this.rb.getDocumentProperties().getContentSize().width,s=r.getSingleCellWidths(),k=0,x=0;x<s.length;x++)(x<this.columnIndex||x>=this.columnIndex+this.colspanVal)&&(k+=s[x]);return p-k-t.xVal}return 0}},{key:"getOffsetX",value:function(){var t=this.rb.getDataObject(this.parentId);if(t!==null){for(var r=t.getSingleCellWidths(),p=0,s=0;s<this.columnIndex;s++)p+=r[s];return p}return 0}},{key:"getCellIndex",value:function(){return this.columnIndex}},{key:"getNextCellIndex",value:function(){return this.columnIndex+this.colspanVal}},{key:"createElement",value:function(){this.el=n("td",{id:"rbro_el".concat(this.id),class:"rbroTableTextElement"}),this.elContent=n("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentText=n("div",{id:"rbro_el_content_text".concat(this.id),class:"rbroDocElementContentText"}),this.elContentTextData=n("span",{id:"rbro_el_content_text_data".concat(this.id)}),this.elContentText.append(this.elContentTextData),this.elContent.append(this.elContentText),this.el.append(this.elContent),this.colspanVal>1&&this.el.setAttribute("colspan",this.colspanVal),document.getElementById("rbro_el_table_band".concat(this.parentId)).append(this.el),document.getElementById("rbro_el_content_text_data".concat(this.id)).textContent=this.content,this.registerEventHandlers()}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"getTable",value:function(){return this.rb.getDataObject(this.tableId)}},{key:"addCommandsForChangedWidth",value:function(t,r,p){var s=this.getDisplayWidthSplit(t),k=this.getParent();if(k!==null)for(var x=s.length-1;x>=0;x--){var N=new e(k.getColumn(this.columnIndex+x).getId(),"width",""+s[x],e.type.text,this.rb);(r||x>0)&&N.disableSelect(),p.addCommand(N)}}},{key:"insertColumn",value:function(t){var r=this.getParent(),p=this.getTable();if(r!==null&&p!==null){var s=r.getColumnIndex(this);if(s!==-1){var k=new le("Insert column"),x=new wt(!1,p.getPanelItem().getPanelName(),p.toJS(),p.getId(),p.getContainerId(),-1,this.rb);k.addCommand(x);var N=A(p.getValue("columns"))+1;p.setValue("columns",N),p.getValue("headerData").createColumns(N,!0,s,t);for(var H=0;H<p.getValue("contentDataRows").length;H++)p.getValue("contentDataRows")[H].createColumns(N,!0,s,t);p.getValue("footerData").createColumns(N,!0,s,t),x=new wt(!0,p.getPanelItem().getPanelName(),p.toJS(),p.getId(),p.getContainerId(),-1,this.rb),k.addCommand(x),this.rb.executeCommand(k),this.rb.selectObject(this.getParent().getValue("columnData")[t?s:s+1].getId(),!0)}}}},{key:"deleteColumn",value:function(){var t=this.getParent(),r=this.getTable();if(t!==null&&r!==null){var p=t.getColumnIndex(this);if(p!==-1){var s=new le("Delete column"),k=new wt(!1,r.getPanelItem().getPanelName(),r.toJS(),r.getId(),r.getContainerId(),-1,this.rb);s.addCommand(k);var x=A(r.getValue("columns"))-1;r.setValue("columns",x);var N=r.getValue("widthVal");r.setValue("width",N-this.widthVal),r.getValue("headerData").deleteColumn(p);for(var H=0;H<r.getValue("contentDataRows").length;H++)r.getValue("contentDataRows")[H].deleteColumn(p);r.getValue("footerData").deleteColumn(p),k=new wt(!0,r.getPanelItem().getPanelName(),r.toJS(),r.getId(),r.getContainerId(),-1,this.rb),s.addCommand(k),this.rb.executeCommand(s)}}}},{key:"toJS",value:function(){var t=a(b(_.prototype),"toJS",this).call(this);return t.growWeight=A(t.growWeight),t}},{key:"getClassName",value:function(){return"TableTextElement"}}]),_}(Zr);function nr(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(s,k){if(s){if(typeof s=="string")return Xr(s,k);var x=Object.prototype.toString.call(s).slice(8,-1);return x==="Object"&&s.constructor&&(x=s.constructor.name),x==="Map"||x==="Set"?Array.from(s):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?Xr(s,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(s){throw s},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var s=d.next();return r=s.done,s},e:function(s){p=!0,t=s},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function Xr(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var gn=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p,s){var k;Y(this,_);var x=p==="header"?s.getLabel("bandHeader"):p==="footer"?s.getLabel("bandFooter"):s.getLabel("bandContent");return(k=m.call(this,x,t,0,20,s)).bandType=p,k.repeatHeader=!1,k.alwaysPrintOnSamePage=!0,k.pageBreak=!1,k.backgroundColor="",k.alternateBackgroundColor="",k.groupExpression="",k.repeatGroupHeader=!1,k.parentId=r.parentId,k.columnData=[],k.heightVal=0,k.setInitialData(r),k}return S(_,[{key:"setInitialData",value:function(t){for(var r in t)t.hasOwnProperty(r)&&this.hasOwnProperty(r)&&(this[r]=t[r]);this.heightVal=A(this.height)}},{key:"setup",value:function(){this.createElement(),this.updateStyle()}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){var t,r=this.id,p=nr(this.columnData);try{for(p.s();!(t=p.n()).done;){var s=t.value;s.getId()>r&&(r=s.getId())}}catch(k){p.e(k)}finally{p.f()}return r}},{key:"getContainerId",value:function(){var t=this.getParent();return t!==null?t.getContainerId():null}},{key:"setValue",value:function(t,r){if(this[t]=r,t==="height"){var p=A(r);this[t+"Val"]=p;var s,k=nr(this.getElement().querySelectorAll("td"));try{for(k.s();!(s=k.n()).done;)s.value.style.height=this.rb.toPixel(p)}catch(ee){k.e(ee)}finally{k.f()}var x,N=nr(this.columnData);try{for(N.s();!(x=N.n()).done;)x.value.setValue(t,r)}catch(ee){N.e(ee)}finally{N.f()}var H=this.getParent();H!==null&&H.updateHeight()}else t==="backgroundColor"&&this.updateStyle()}},{key:"getFields",value:function(){var t=this.getProperties();return t.splice(0,0,"id"),t}},{key:"getProperties",value:function(){var t=["height","backgroundColor"];return this.bandType===re.bandType.header?t.push("repeatHeader"):this.bandType===re.bandType.content&&(t.push("alternateBackgroundColor"),t.push("groupExpression"),t.push("printIf"),t.push("alwaysPrintOnSamePage"),t.push("pageBreak"),t.push("repeatGroupHeader")),t}},{key:"updateDisplayInternal",value:function(t,r,p,s){}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.backgroundColor}},{key:"getSizers",value:function(){return[]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=n("tr",{id:"rbro_el_table_band".concat(this.id),class:"rbroTableBandElement"}),document.getElementById("rbro_el_table_".concat(this.bandType).concat(this.parentId)).append(this.el)}},{key:"remove",value:function(){for(var t=0;t<this.columnData.length;t++)this.rb.deleteDataObject(this.columnData[t]);a(b(_.prototype),"remove",this).call(this)}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"createColumns",value:function(t,r,p,s){if(this.panelItem!==null){if(r)for(var k=0;k<this.columnData.length;k++)this.columnData[k].remove(),k>=t&&this.rb.deleteDataObject(this.columnData[k]);for(var x=[],N=0;N<t;N++){var H=void 0,ee=void 0,oe=r?20:100,te=N;p!==-1&&(s?N===p?(oe=this.columnData[p].getValue("widthVal"),te=-1):N>=p&&te--:N===p+1?(oe=this.columnData[p].getValue("widthVal"),te=-1):N>p&&te--),te!==-1&&te<this.columnData.length?((H=this.columnData[te]).columnIndex=N,ee=H.id,r||(H.band=this.band,H.parentId=this.id,H.tableId=this.parentId,H.height=this.height)):H={band:this.band,columnIndex:N,parentId:this.id,tableId:this.parentId,width:oe,height:this.height},ee||(ee=this.rb.getUniqueId());var _e=new Gt(ee,H,this.rb);x.push(_e),this.rb.addDataObject(_e);var de=new Ne(ye.type.text,this.panelItem,_e,{showDelete:!1},this.rb);_e.setPanelItem(de),this.panelItem.appendChild(de)}this.columnData=x;for(var Ie=0,Ae=x;Ie<Ae.length;Ie++)Ae[Ie].setup(!0);this.updateColumnDisplay();var Pe,Ee=nr(this.getElement().querySelectorAll("td"));try{for(Ee.s();!(Pe=Ee.n()).done;)Pe.value.style.height=this.rb.toPixel(this.heightVal)}catch(Te){Ee.e(Te)}finally{Ee.f()}}}},{key:"deleteColumn",value:function(t){t<this.columnData.length&&(this.columnData[t].remove(),this.rb.deleteDataObject(this.columnData[t]),this.columnData.splice(t,1))}},{key:"show",value:function(t){t?this.el.classList.remove("rbroHidden"):this.el.classList.add("rbroHidden")}},{key:"updateColumnWidth",value:function(t,r){t<this.columnData.length&&this.columnData[t].setWidth(r)}},{key:"updateColumnDisplay",value:function(){for(var t=0;t<this.columnData.length;){var r=this.columnData[t],p=r.getValue("widthVal"),s=r.getValue("colspanVal");if(r.getElement().style.display="",s>1){var k=t+s<this.columnData.length?t+s:this.columnData.length;for(t++;t<k;)p+=this.columnData[t].getValue("widthVal"),this.columnData[t].getElement().style.display="none",t++}else t++;r.setDisplayWidth(p),r.updateDisplay()}}},{key:"getColumn",value:function(t){return t>=0&&t<this.columnData.length?this.columnData[t]:null}},{key:"getColumns",value:function(){return this.columnData}},{key:"notifyColumnWidthResized",value:function(t,r){for(var p=0;p<this.columnData.length;){var s=this.columnData[p],k=s.getNextCellIndex();if(k>t){if(k>p+1)for(var x=p;x<k&&x<this.columnData.length;x++)x!==t&&(r+=this.columnData[x].getValue("widthVal"));s.updateDisplayInternalNotify(0,0,r,s.getValue("heightVal"),!1);break}p=k}}},{key:"getColumnIndex",value:function(t){for(var r=0;r<this.columnData.length;r++)if(t===this.columnData[r])return r;return-1}},{key:"getWidth",value:function(){for(var t=0,r=0;r<this.columnData.length;){var p=this.columnData[r];t+=p.getDisplayWidth();var s=p.getValue("colspanVal");s>1?r+=s:r++}return t}},{key:"getSingleCellWidths",value:function(){var t,r=[],p=nr(this.columnData);try{for(p.s();!(t=p.n()).done;){var s=t.value;r.push(s.getValue("widthVal"))}}catch(k){p.e(k)}finally{p.f()}return r}},{key:"insertRow",value:function(t){var r=this.getParent();if(r!==null){var p=r.getContentRowIndex(this);if(p!==-1){var s=new le("Insert row"),k=new wt(!1,r.getPanelItem().getPanelName(),r.toJS(),r.getId(),r.getContainerId(),-1,this.rb);s.addCommand(k);var x=A(r.getValue("contentRows"))+1;r.setValue("contentRows",x);var N,H=r.getValue("contentDataRows")[p],ee={height:H.height,columnData:[]},oe=nr(H.columnData);try{for(oe.s();!(N=oe.n()).done;){var te=N.value;ee.columnData.push({width:te.width})}}catch(de){oe.e(de)}finally{oe.f()}var _e=r.createBand("content",-1,ee);r.getValue("contentDataRows").splice(t?p:p+1,0,_e),k=new wt(!0,r.getPanelItem().getPanelName(),r.toJS(),r.getId(),r.getContainerId(),-1,this.rb),s.addCommand(k),this.rb.executeCommand(s),this.rb.selectObject(_e.getValue("columnData")[0].getId(),!0)}}}},{key:"deleteRow",value:function(){var t=this.getParent();if(t!==null){var r=t.getContentRowIndex(this),p=A(t.getValue("contentRows"));if(r!==-1&&p>1){var s=new le("Delete row"),k=new wt(!1,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb);s.addCommand(k),t.setValue("contentRows",p-1),t.getValue("contentDataRows").splice(r,1),k=new wt(!0,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb),s.addCommand(k),this.rb.executeCommand(s)}}}},{key:"addChildren",value:function(t){var r,p=nr(this.columnData);try{for(p.s();!(r=p.n()).done;){var s=r.value;t.push(s)}}catch(k){p.e(k)}finally{p.f()}}},{key:"toJS",value:function(){var t=a(b(_.prototype),"toJS",this).call(this);t.columnData=[];var r,p=nr(this.columnData);try{for(p.s();!(r=p.n()).done;){var s=r.value;t.columnData.push(s.toJS())}}catch(k){p.e(k)}finally{p.f()}return t}},{key:"getClassName",value:function(){return"TableBandElement"}}]),_}(ye);function br(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(s,k){if(s){if(typeof s=="string")return Yr(s,k);var x=Object.prototype.toString.call(s).slice(8,-1);return x==="Object"&&s.constructor&&(x=s.constructor.name),x==="Map"||x==="Set"?Array.from(s):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?Yr(s,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(s){throw s},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var s=d.next();return r=s.done,s},e:function(s){p=!0,t=s},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function Yr(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var or=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p){var s;return Y(this,_),(s=m.call(this,p.getLabel("docElementTable"),t,200,40,p)).setupComplete=!1,s.dataSource="",s.borderColor="#000000",s.borderWidth="1",s.border=_.border.grid,s.header=!0,s.footer=!1,s.contentRows="1",s.columns="2",s.headerData=null,s.contentDataRows=[],s.footerData=null,s.spreadsheet_hide=!1,s.spreadsheet_column="",s.spreadsheet_addEmptyRow=!1,s.setInitialData(r),s.borderWidthVal=A(s.borderWidth),s}return S(_,[{key:"setup",value:function(t){a(b(_.prototype),"setup",this).call(this,t),this.createElement(),this.updateDisplay(),this.headerData=this.createBand("header",-1,null);var r=A(this.contentRows);r<1&&(r=1);for(var p=[],s=0;s<r;s++)p.push(this.createBand("content",s,null));this.contentDataRows=p,this.footerData=this.createBand("footer",-1,null),this.setupComplete=!0,this.updateHeight(),this.updateStyle(),this.updateName(),t&&this.panelItem.open()}},{key:"createBand",value:function(t,r,p){var s,k,x=t+(t==="content"?"DataRows":"Data"),N={hasChildren:!0,showDelete:!1};p?s=p:this[x]&&(t!=="content"||r!==-1&&r<this[x].length)?k=(s=t==="content"?this[x][r]:this[x]).id:s={},s.parentId=this.id,k||(k=this.rb.getUniqueId()),(t==="header"&&!this.header||t==="footer"&&!this.footer)&&(N.visible=!1);var H=new gn(k,s,t,this.rb);this.rb.addDataObject(H);var ee=new Ne("table_band",this.panelItem,H,N,this.rb);H.setPanelItem(ee),this.panelItem.appendChild(ee),H.setup();var oe=A(this.columns);return H.createColumns(oe,!1,-1,!1),ee.open(),t==="header"?H.show(this.header):t==="footer"&&H.show(this.footer),H}},{key:"getMaxId",value:function(){var t,r=this.id;(t=this.headerData.getMaxId())>r&&(r=t);for(var p=0;p<this.contentDataRows.length;p++)(t=this.contentDataRows[p].getMaxId())>r&&(r=t);return(t=this.footerData.getMaxId())>r&&(r=t),r}},{key:"setValue",value:function(t,r){a(b(_.prototype),"setValue",this).call(this,t,r),t==="dataSource"?this.updateName():t==="header"?(this.headerData.show(r),r?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):t==="footer"?(this.footerData.show(r),r?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):t.indexOf("border")!==-1&&(t==="borderWidth"&&(this.borderWidthVal=A(r)),this.updateStyle()),t!=="header"&&t!=="footer"&&t!=="contentRows"||this.updateHeight()}},{key:"updateDisplayInternal",value:function(t,r,p,s){this.el!==null&&(this.el.style.left=this.rb.toPixel(t),this.el.style.top=this.rb.toPixel(r))}},{key:"updateStyle",value:function(){var t,r=this.el.querySelector("table");this.border===_.border.grid||this.border===_.border.frameRow||this.border===_.border.frame?(r.style.borderStyle="solid",r.style.borderWidth=this.borderWidthVal+"px",r.style.borderColor=this.borderColor):r.style.borderStyle="none";var p="",s="",k="";this.border===_.border.grid||this.border===_.border.frameRow||this.border===_.border.row?(p="solid none solid none",s=this.borderWidthVal+"px",k=this.borderColor):p="none";var x=this.headerData.getElement();for(x.style.borderStyle=p,x.style.borderWidth=s,x.style.borderColor=k,t=0;t<this.contentDataRows.length;t++){var N=this.contentDataRows[t].getElement();N.style.borderStyle=p,N.style.borderWidth=s,N.style.borderColor=k}var H=this.footerData.getElement();H.style.borderStyle=p,H.style.borderWidth=s,H.style.borderColor=k,this.border===_.border.grid?(p="none solid none solid",s=this.borderWidthVal+"px",k=this.borderColor):p="none";var ee,oe=br(this.headerData.getElement().querySelectorAll("td"));try{for(oe.s();!(ee=oe.n()).done;){var te=ee.value;te.style.borderStyle=p,te.style.borderWidth=s,te.style.borderColor=k}}catch(Ve){oe.e(Ve)}finally{oe.f()}for(t=0;t<this.contentDataRows.length;t++){var _e,de=br(this.contentDataRows[t].getElement().querySelectorAll("td"));try{for(de.s();!(_e=de.n()).done;){var Ie=_e.value;Ie.style.borderStyle=p,Ie.style.borderWidth=s,Ie.style.borderColor=k}}catch(Ve){de.e(Ve)}finally{de.f()}}var Ae,Pe=br(this.footerData.getElement().querySelectorAll("td"));try{for(Pe.s();!(Ae=Pe.n()).done;){var Ee=Ae.value;Ee.style.borderStyle=p,Ee.style.borderWidth=s,Ee.style.borderColor=k}}catch(Ve){Pe.e(Ve)}finally{Pe.f()}for(var Te=0,He=["rbroBorderTableGrid","rbroBorderTableFrameRow","rbroBorderTableFrame","rbroBorderTableRow","rbroBorderTableNone"];Te<He.length;Te++){var De=He[Te];this.el.classList.remove(De)}this.el.classList.add("rbroBorderTable"+this.border.charAt(0).toUpperCase()+this.border.slice(1))}},{key:"getFields",value:function(){var t=this.getProperties();return t.splice(0,0,"id","containerId","width"),t}},{key:"getProperties",value:function(){return["x","y","dataSource","columns","header","contentRows","footer","border","borderColor","borderWidth","printIf","removeEmptyElement","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return ye.type.table}},{key:"select",value:function(){a(b(_.prototype),"select",this).call(this);for(var t=this.getSizerContainerElement(),r=0,p=["NE","SE","SW","NW"];r<p.length;r++){var s=p[r];t.append(n("div",{class:"rbroSizer rbroSizer".concat(s," rbroSizerMove")}))}}},{key:"getSizers",value:function(){return[]}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=n("div",{class:"rbroDocElement rbroTableElement"});var t=n("table",{id:"rbro_el_table".concat(this.id)});t.append(n("thead",{id:"rbro_el_table_header".concat(this.id)})),t.append(n("tbody",{id:"rbro_el_table_content".concat(this.id)})),t.append(n("tfoot",{id:"rbro_el_table_footer".concat(this.id)})),this.el.append(t),this.appendToContainer(),this.registerEventHandlers(),t.style.width=this.widthVal+1+"px"}},{key:"remove",value:function(){this.rb.deleteDataObject(this.headerData),this.headerData.remove(),this.headerData=null;for(var t=0;t<this.contentDataRows.length;t++)this.rb.deleteDataObject(this.contentDataRows[t]),this.contentDataRows[t].remove();this.contentDataRows=[],this.rb.deleteDataObject(this.footerData),this.footerData.remove(),this.footerData=null,a(b(_.prototype),"remove",this).call(this)}},{key:"updateColumnWidth",value:function(t,r){if(this.setupComplete){this.headerData.updateColumnWidth(t,r);for(var p=0;p<this.contentDataRows.length;p++)this.contentDataRows[p].updateColumnWidth(t,r);this.footerData.updateColumnWidth(t,r)}}},{key:"updateColumnDisplay",value:function(){if(this.setupComplete){this.headerData.updateColumnDisplay();for(var t=0;t<this.contentDataRows.length;t++)this.contentDataRows[t].updateColumnDisplay();this.footerData.updateColumnDisplay()}}},{key:"updateHeight",value:function(){if(this.setupComplete){var t=0;this.header&&(t+=this.headerData.getHeight());for(var r=0;r<this.contentDataRows.length;r++)t+=this.contentDataRows[r].getHeight();this.footer&&(t+=this.footerData.getHeight()),this.height=""+t,this.heightVal=t}}},{key:"notifyColumnWidthResized",value:function(t,r,p,s){if(this.setupComplete){t!==this.headerData&&this.headerData.notifyColumnWidthResized(r,p);for(var k=0;k<this.contentDataRows.length;k++)t!==this.contentDataRows[k]&&this.contentDataRows[k].notifyColumnWidthResized(r,p);t!==this.footerData&&this.footerData.notifyColumnWidthResized(r,p),this.width=""+s,this.widthVal=s,document.getElementById("rbro_el_table".concat(this.id)).style.width=s+1+"px"}}},{key:"updateName",value:function(){this.name=this.rb.getLabel("docElementTable"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"hasDataSource",value:function(){return!0}},{key:"getContentRowIndex",value:function(t){for(var r=0;r<this.contentDataRows.length;r++)if(t===this.contentDataRows[r])return r;return-1}},{key:"addChildren",value:function(t){var r;for(t.push(this.headerData),r=0;r<this.contentDataRows.length;r++)t.push(this.contentDataRows[r]);for(t.push(this.footerData),this.headerData.addChildren(t),r=0;r<this.contentDataRows.length;r++)this.contentDataRows[r].addChildren(t);this.footerData.addChildren(t)}},{key:"addCommandsForChangedParameterName",value:function(t,r,p){this.addCommandForChangedParameterName(t,r,"dataSource",p)}},{key:"createSpaceForNewColumns",value:function(t,r){for(var p=_.getColumnMinWidth(),s=t*p,k=r-1;k>=0;){var x=this.headerData.getColumn(k),N=x.getValue("widthVal")-p,H=p;if(N>s&&(H=x.getValue("widthVal")-s),this.updateColumnWidth(k,H),(s-=N)<=0)break;k--}}},{key:"hasEnoughAvailableSpace",value:function(t){var r=A(this.columns),p=Math.floor(this.widthVal/_.getColumnMinWidth());return!(t>r&&t>p)}},{key:"addCommandsForChangedColumns",value:function(t,r){if(this.hasEnoughAvailableSpace(t)){var p=A(this.columns),s=new wt(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(r.addCommand(s),t>p)this.createSpaceForNewColumns(t-p,p);else if(t<p){for(var k=0,x=0;x<t;x++)k+=this.headerData.getColumn(x).getValue("widthVal");var N=this.headerData.getColumn(t-1);this.widthVal-k>0&&this.updateColumnWidth(t-1,N.getValue("widthVal")+(this.widthVal-k))}this.columns=t,this.headerData.createColumns(t,!0,-1,!1);for(var H=0;H<this.contentDataRows.length;H++)this.contentDataRows[H].createColumns(t,!0,-1,!1);this.footerData.createColumns(t,!0,-1,!1),s=new wt(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),r.addCommand(s)}}},{key:"addCommandsForChangedContentRows",value:function(t,r){if(t!==A(this.contentRows)){var p,s=new wt(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(r.addCommand(s),t<this.contentDataRows.length){for(p=t;p<this.contentDataRows.length;p++)this.rb.deleteDataObject(this.contentDataRows[p]),this.contentDataRows[p].remove();this.contentDataRows.splice(t,this.contentDataRows.length-t)}else{var k;if(this.contentDataRows.length>0){k={height:this.contentDataRows[this.contentDataRows.length-1].height,columnData:[]};var x,N=br(this.contentDataRows[0].columnData);try{for(N.s();!(x=N.n()).done;){var H=x.value;k.columnData.push({width:H.width})}}catch(ee){N.e(ee)}finally{N.f()}}for(p=this.contentDataRows.length;p<t;p++)this.contentDataRows.push(this.createBand("content",p,k))}this.contentRows=""+t,s=new wt(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),r.addCommand(s)}}},{key:"toJS",value:function(){var t=a(b(_.prototype),"toJS",this).call(this);t.headerData=this.headerData.toJS();for(var r=[],p=0;p<this.contentDataRows.length;p++)r.push(this.contentDataRows[p].toJS());return t.contentDataRows=r,t.footerData=this.footerData.toJS(),t}},{key:"getClassName",value:function(){return"TableElement"}}],[{key:"removeIds",value:function(t){for(var r=0,p=["headerData","footerData"];r<p.length;r++){var s=p[r];_.removeBandIds(t[s])}for(var k=0;k<t.contentDataRows.length;k++)_.removeBandIds(t.contentDataRows[k])}},{key:"removeBandIds",value:function(t){delete t.id;var r,p=br(t.columnData);try{for(p.s();!(r=p.n()).done;)delete r.value.id}catch(s){p.e(s)}finally{p.f()}}},{key:"getColumnMinWidth",value:function(){return 20}}]),_}(ye);or.border={grid:"grid",frameRow:"frame_row",frame:"frame",row:"row",none:"none"};var wt=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r,p,s,k,x,N){var H;return Y(this,_),(H=m.call(this)).add=t,H.elementType=r,H.initialData=p,H.parentId=k,H.position=x,H.rb=N,H.id=s,H.firstExecution=!0,H}return S(_,[{key:"getName",value:function(){return this.add?"Add element":"Delete element"}},{key:"do",value:function(){this.add?this.addElement():this.deleteElement(),this.firstExecution=!1}},{key:"undo",value:function(){this.add?this.deleteElement():this.addElement()}},{key:"addElement",value:function(){if(this.rb.getDataObject(this.parentId)!==null){var t=_.createElement(this.id,this.initialData,this.elementType,this.position,!0,this.rb);this.rb.notifyEvent(t,h.operation.add),this.rb.selectObject(this.id,!0),this.add&&this.firstExecution&&(this.initialData=t.toJS())}}},{key:"deleteElement",value:function(){var t=this.rb.getDataObject(this.id);t!==null&&this.rb.deleteDocElement(t)}},{key:"getClassName",value:function(){return"AddDeleteDocElementCmd"}}],[{key:"createElement",value:function(t,r,p,s,k,x){var N,H={draggable:!0};p===ye.type.text?N=new Zr(t,r,x):p===ye.type.line?N=new Ut(t,r,x):p===ye.type.image?N=new rr(t,r,x):p===ye.type.pageBreak?N=new Nt(t,r,x):p===ye.type.table?(N=new or(t,r,x),H.hasChildren=!0):p===ye.type.frame?(N=new sr(t,r,x),H.hasChildren=!0):p===ye.type.section?(N=new gr(t,r,x),H.hasChildren=!0):p===ye.type.barCode&&(N=new Rt(t,r,x)),x.addDocElement(N);var ee=N.getContainer().getPanelItem(),oe=new Ne(p,ee,N,H,x);return N.setPanelItem(oe),ee.insertChild(s,oe),N.setup(k),N}}]),_}(h);function Dt(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(s,k){if(s){if(typeof s=="string")return Jr(s,k);var x=Object.prototype.toString.call(s).slice(8,-1);return x==="Object"&&s.constructor&&(x=s.constructor.name),x==="Map"||x==="Set"?Array.from(s):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?Jr(s,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(s){throw s},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var s=d.next();return r=s.done,s},e:function(s){p=!0,t=s},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function Jr(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var Qr=function(){function C(i,d,m){Y(this,C),this.rootElement=i,this.rb=m,this.elPanel=null,this.elTabPdfLayout=null,this.elTabPdfPreview=null,this.elDoc=null,this.elDocContent=null,this.elHeader=null,this.elContent=null,this.elFooter=null,this.elSelectionArea=null,this.elDividerMarginLeft=null,this.elDividerMarginTop=null,this.elDividerMarginRight=null,this.elDividerMarginBottom=null,this.elDividerHeader=null,this.elDividerFooter=null,this.elPdfPreview=null,this.gridVisible=d,this.gridSize=10,this.zoom=100,this.zoomLevels=[25,50,75,100,150,200,400],this.pdfPreviewExists=!1,this.pdfPreviewObjectURL=null,this.dragging=!1,this.dragElementType=null,this.dragType=ye.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainers=[],this.dragCurrentContainerId=null,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0,this.dragSnapToGrid=!1,this.dragEnterCount=0,this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0}return S(C,[{key:"render",value:function(){var i=this;this.elPanel=document.getElementById("rbro_document_panel"),this.elPanel.addEventListener("mousedown",function(p){i.rb.isDocElementSelected()&&!p.shiftKey&&i.rb.deselectAll(!0);var s=O(i.elDocContent);i.startSelectionArea(i.getCoordWithoutZoom(p.pageX-s.left),i.getCoordWithoutZoom(p.pageY-s.top))});var d=n("div",{id:"rbro_document_tabs",class:"rbroDocumentTabs"});if(d.addEventListener("mousedown",function(p){p.stopPropagation()}),this.elTabPdfLayout=n("div",{id:"rbro_document_tab_pdf_layout",class:"rbroDocumentTab rbroButton rbroTabButton"},this.rb.getLabel("documentTabPdfLayout")),this.elTabPdfLayout.addEventListener("click",function(p){i.setDocumentTab(C.tab.pdfLayout)}),d.append(this.elTabPdfLayout),this.elTabPdfPreview=n("div",{id:"rbro_document_tab_pdf_preview",class:"rbroDocumentTab rbroButton rbroTabButton rbroHidden rbroPdfPreview"+(this.rb.getProperty("enableSpreadsheet")?" rbroXlsxDownload":"")},this.rb.getLabel("documentTabPdfPreview")),this.elTabPdfPreview.addEventListener("click",function(p){i.setDocumentTab(C.tab.pdfPreview)}),this.rb.getProperty("enableSpreadsheet")){var m=n("span",{class:"rbroIcon-xlsx rbroXlsxDownloadButton",title:this.rb.getLabel("documentTabXlsxDownload")});m.addEventListener("click",function(p){i.rb.downloadSpreadsheet()}),this.elTabPdfPreview.append(m)}var _=n("span",{class:"rbroIcon-cancel",title:this.rb.getLabel("documentTabClose")});_.addEventListener("click",function(p){i.closePdfPreviewTab()}),this.elTabPdfPreview.append(_),d.append(this.elTabPdfPreview),this.elPanel.append(d);var t=this.rb.getDocumentProperties();this.elDoc=n("div",{id:"rbro_document_pdf",class:"rbroDocument rbroDragTarget rbroHidden"}),this.elDocContent=n("div",{id:"rbro_document_content",class:"rbroDocumentContent"+(this.gridVisible?" rbroDocumentGrid":"")}),this.elHeader=n("div",{id:"rbro_header",class:"rbroDocumentBand rbroElementContainer",style:"top: 0px; left: 0px;"}),this.elHeader.append(n("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandHeader"))),this.elDocContent.append(this.elHeader),this.elContent=n("div",{id:"rbro_content",class:"rbroDocumentBand rbroElementContainer"}),this.elContent.append(n("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandContent"))),this.elDocContent.append(this.elContent),this.elFooter=n("div",{id:"rbro_footer",class:"rbroDocumentBand rbroElementContainer",style:"bottom: 0px; left 0px;"}),this.elFooter.append(n("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandFooter"))),this.elDocContent.append(this.elFooter),this.elDoc.append(this.elDocContent),this.elSelectionArea=n("div",{id:"rbro_selection_area",class:"rbroHidden rbroSelectionArea"}),this.elDocContent.append(this.elSelectionArea),this.initializeEventHandlers(),this.elDividerMarginLeft=n("div",{id:"rbro_divider_margin_left",class:"rbroDivider rbroDividerMarginLeft"}),this.elDoc.append(this.elDividerMarginLeft),this.elDividerMarginTop=n("div",{id:"rbro_divider_margin_top",class:"rbroDivider rbroDividerMarginTop"}),this.elDoc.append(this.elDividerMarginTop),this.elDividerMarginRight=n("div",{id:"rbro_divider_margin_right",class:"rbroDivider rbroDividerMarginRight"}),this.elDoc.append(this.elDividerMarginRight),this.elDividerMarginBottom=n("div",{id:"rbro_divider_margin_bottom",class:"rbroDivider rbroDividerMarginBottom"}),this.elDoc.append(this.elDividerMarginBottom),this.elDividerHeader=n("div",{id:"rbro_divider_header",class:"rbroDivider rbroDividerHeader"}),this.elDoc.append(this.elDividerHeader),this.elDividerFooter=n("div",{id:"rbro_divider_footer",class:"rbroDivider rbroDividerFooter"}),this.elDoc.append(this.elDividerFooter),this.elPanel.append(this.elDoc),this.elPdfPreview=n("div",{id:"rbro_document_pdf_preview",class:"rbroDocumentPreview"}),this.elPanel.append(this.elPdfPreview);var r=t.getPageSize();this.updatePageSize(r.width,r.height),this.updateHeader(),this.updateFooter(),this.updatePageMargins(),this.updateDocumentTabs(),this.setDocumentTab(C.tab.pdfLayout)}},{key:"initializeEventHandlers",value:function(){var i=this;this.elDocContent.addEventListener("dragover",function(d){i.processDragover(d)}),this.elDocContent.addEventListener("dragenter",function(d){i.rb.isBrowserDragActive("docElement")&&(i.dragEnterCount++,d.preventDefault())}),this.elDocContent.addEventListener("dragleave",function(d){if(i.rb.isBrowserDragActive("docElement")&&(i.dragEnterCount--,i.dragEnterCount===0)){var m,_=Dt(document.querySelectorAll(".rbroElementContainer"));try{for(_.s();!(m=_.n()).done;)m.value.classList.remove("rbroElementDragOver")}catch(t){_.e(t)}finally{_.f()}i.dragContainerId=null}}),this.elDocContent.addEventListener("drop",function(d){return i.processDrop(d),!1})}},{key:"processMouseMove",value:function(i){if(this.dragging)this.processDrag(i);else if(this.selectionAreaStarted){var d=O(this.elDocContent),m=this.getSelectionArea(this.getCoordWithoutZoom(i.pageX-d.left),this.getCoordWithoutZoom(i.pageY-d.top));this.elSelectionArea.style.left=this.rb.toPixel(m.left),this.elSelectionArea.style.top=this.rb.toPixel(m.top),this.elSelectionArea.style.width=this.rb.toPixel(m.width),this.elSelectionArea.style.height=this.rb.toPixel(m.height),this.elSelectionArea.classList.contains("rbroHidden")&&this.elSelectionArea.classList.remove("rbroHidden")}}},{key:"processDragover",value:function(i){if(this.rb.isBrowserDragActive("docElement")){var d=M(i),m=null;d!==null&&(m=this.getContainer(d.x,d.y,this.dragElementType,[]),this.dragCurrentX=d.x,this.dragCurrentY=d.y);var _=m!==null?m.getId():null;if(_!==this.dragContainerId){var t,r=Dt(document.querySelectorAll(".rbroElementContainer"));try{for(r.s();!(t=r.n()).done;)t.value.classList.remove("rbroElementDragOver")}catch(p){r.e(p)}finally{r.f()}m!==null&&m.dragOver(),this.dragContainerId=_}i.preventDefault(),i.stopPropagation()}}},{key:"processDrop",value:function(i){if(this.rb.isBrowserDragActive("docElement")){i.preventDefault();var d,m=Dt(document.querySelectorAll(".rbroElementContainer"));try{for(m.s();!(d=m.n()).done;)d.value.classList.remove("rbroElementDragOver")}catch(_e){m.e(_e)}finally{m.f()}if(this.dragElementType===ye.type.image&&this.rb.getProperty("imageLimit")!==null){var _,t=0,r=Dt(this.rb.getDocElements(!0));try{for(r.s();!(_=r.n()).done;)_.value.getElementType()===ye.type.image&&t++}catch(_e){r.e(_e)}finally{r.f()}if(t>=this.rb.getProperty("imageLimit"))return void alert(this.rb.getLabel("docElementImageCountExceeded").replace("${count}",this.rb.getProperty("imageLimit")))}var p=M(i);p!==null&&(this.dragCurrentX=p.x,this.dragCurrentY=p.y);for(var s=this.getContainer(this.dragCurrentX,this.dragCurrentY,this.dragElementType,[]);s!==null&&!s.isElementAllowed(this.dragElementType);)s=s.getParent();if(s!==null&&s.isElementAllowed(this.dragElementType)){var k=O(this.elDocContent),x=this.getCoordWithoutZoom(this.dragCurrentX-k.left),N=this.getCoordWithoutZoom(this.dragCurrentY-k.top),H=s.getOffset();if(x-=H.x,N-=H.y,!i.ctrlKey&&this.rb.getDocument().isGridVisible()){var ee=this.rb.getDocument().getGridSize();x=R(x,ee),N=R(N,ee)}var oe={x:""+x,y:""+N,containerId:s.getId()},te=new wt(!0,this.dragElementType,oe,this.rb.getUniqueId(),s.getId(),-1,this.rb);this.rb.executeCommand(te)}}}},{key:"processDrag",value:function(i){var d=M(i);if(this.dragType===ye.dragType.element){var m=this.getContainer(d.x,d.y,this.dragElementType,this.dragLinkedContainers),_=m!==null?m.getId():null;if(_!==this.dragCurrentContainerId){var t,r=Dt(document.querySelectorAll(".rbroElementContainer"));try{for(r.s();!(t=r.n()).done;)t.value.classList.remove("rbroElementDragOver")}catch(k){r.e(k)}finally{r.f()}m!==null&&_!==this.dragContainerId&&m.dragOver()}this.dragCurrentContainerId=_}this.dragCurrentX=d.x,this.dragCurrentY=d.y,this.dragSnapToGrid=!i.ctrlKey;var p=this.rb.getDataObject(this.dragObjectId);if(p!==null){var s=p.getDragDiff(this.getCoordWithoutZoom(d.x-this.dragStartX),this.getCoordWithoutZoom(d.y-this.dragStartY),this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(s.x,s.y,this.dragType,null,!1)}}},{key:"updatePageSize",value:function(i,d){this.elDoc.style.width=this.rb.toPixel(i),this.elDoc.style.height=this.rb.toPixel(d)}},{key:"updatePageMargins",value:function(){var i=this.rb.getDocumentProperties(),d=A(i.getValue("marginLeft")),m=A(i.getValue("marginTop")),_=A(i.getValue("marginRight")),t=A(i.getValue("marginBottom")),r=this.rb.toPixel(d),p=this.rb.toPixel(m-1),s=this.rb.toPixel(_),k=this.rb.toPixel(t);this.elDividerMarginLeft.style.left=r,this.elDividerMarginTop.style.top=p,d!==0?(this.elDividerMarginLeft.style.left=r,this.elDividerMarginLeft.style.display="block"):this.elDividerMarginLeft.style.display="none",m!==0?(this.elDividerMarginTop.style.top=p,this.elDividerMarginTop.style.display="block"):this.elDividerMarginTop.style.display="none",_!==0?(this.elDividerMarginRight.style.right=s,this.elDividerMarginRight.style.display="block"):this.elDividerMarginRight.style.display="none",t!==0?(this.elDividerMarginBottom.style.bottom=k,this.elDividerMarginBottom.style.display="block"):this.elDividerMarginBottom.style.display="none",this.elDocContent.style.left=r,this.elDocContent.style.top=p,this.elDocContent.style.right=s,this.elDocContent.style.bottom=k}},{key:"updateHeader",value:function(){var i=this.rb.getDocumentProperties();if(i.getValue("header")){var d=this.rb.toPixel(i.getValue("headerSize"));this.elHeader.style.height=d,this.elHeader.style.display="block",this.elDividerHeader.style.top=this.rb.toPixel(A(i.getValue("marginTop"))+A(i.getValue("headerSize"))-1),this.elDividerHeader.style.display="block",this.elContent.style.top=d}else this.elHeader.style.display="none",this.elDividerHeader.style.display="none",this.elContent.style.top=this.rb.toPixel(0)}},{key:"updateFooter",value:function(){var i=this.rb.getDocumentProperties();if(i.getValue("footer")){var d=this.rb.toPixel(i.getValue("footerSize"));this.elFooter.style.height=d,this.elFooter.style.display="block",this.elDividerFooter.style.bottom=this.rb.toPixel(A(i.getValue("marginBottom"))+A(i.getValue("footerSize"))),this.elDividerFooter.style.display="block",this.elContent.style.bottom=d}else this.elFooter.style.display="none",this.elDividerFooter.style.display="none",this.elContent.style.bottom=this.rb.toPixel(0)}},{key:"setDocumentTab",value:function(i){var d,m=document.querySelectorAll("#rbro_document_tabs .rbroDocumentTab"),_=document.querySelectorAll(".rbroElementButtons .rbroMenuButton"),t=document.querySelectorAll(".rbroActionButtons .rbroActionButton"),r=Dt(m);try{for(r.s();!(d=r.n()).done;)d.value.classList.remove("rbroActive")}catch(de){r.e(de)}finally{r.f()}if(i===C.tab.pdfLayout){this.elTabPdfLayout.classList.add("rbroActive"),this.elDoc.classList.remove("rbroHidden"),this.elPdfPreview.style.zIndex="",this.elPdfPreview.style.height="0";var p,s=Dt(_);try{for(s.s();!(p=s.n()).done;){var k=p.value;k.classList.remove("rbroDisabled"),k.draggable=!0}}catch(de){s.e(de)}finally{s.f()}var x,N=Dt(t);try{for(N.s();!(x=N.n()).done;)x.value.disabled=!1}catch(de){N.e(de)}finally{N.f()}}else if(this.pdfPreviewExists&&i===C.tab.pdfPreview){this.elTabPdfPreview.classList.add("rbroActive"),this.elDoc.classList.add("rbroHidden"),this.elPdfPreview.style.zIndex="1",this.elPdfPreview.style.height="";var H,ee=Dt(_);try{for(ee.s();!(H=ee.n()).done;){var oe=H.value;oe.classList.add("rbroDisabled"),oe.draggable=!1}}catch(de){ee.e(de)}finally{ee.f()}var te,_e=Dt(t);try{for(_e.s();!(te=_e.n()).done;)te.value.disabled=!0}catch(de){_e.e(de)}finally{_e.f()}}}},{key:"openPdfPreviewTab",value:function(i,d){if(w(this.elPdfPreview),this.pdfPreviewObjectURL&&(URL.revokeObjectURL(this.pdfPreviewObjectURL),this.pdfPreviewObjectURL=null),d&&Object.keys(d).length>0){var m=this,_=new XMLHttpRequest;for(var t in _.responseType="blob",_.onreadystatechange=function(){if(_.readyState===XMLHttpRequest.DONE)if(_.status===200){var p=document.createElement("object");p.type="application/pdf",p.width="100%",p.height="100%",m.pdfPreviewObjectURL=URL.createObjectURL(_.response),p.data=m.pdfPreviewObjectURL,m.elPdfPreview.append(p)}else alert("preview failed")},_.open("GET",i,!0),d)d.hasOwnProperty(t)&&_.setRequestHeader(t,d[t]);_.send()}else{var r=n("object",{data:i,type:"application/pdf",width:"100%",height:"100%"});this.elPdfPreview.append(r)}this.pdfPreviewExists=!0,this.setDocumentTab(C.tab.pdfPreview),this.updateDocumentTabs()}},{key:"closePdfPreviewTab",value:function(){this.pdfPreviewExists=!1,w(this.elPdfPreview),this.setDocumentTab(C.tab.pdfLayout),this.updateDocumentTabs()}},{key:"updateDocumentTabs",value:function(){var i=1;this.pdfPreviewExists?(this.elTabPdfPreview.classList.remove("rbroHidden"),i++):this.elTabPdfPreview.classList.add("rbroHidden"),i>1?(document.getElementById("rbro_document_tabs").style.display="block",this.elPanel.classList.add("rbroHasTabs")):(document.getElementById("rbro_document_tabs").style.display="none",this.elPanel.classList.remove("rbroHasTabs"))}},{key:"getContainer",value:function(i,d,m,_){var t=O(this.elDocContent);return this.rb.getContainer(this.getCoordWithoutZoom(i-t.left),this.getCoordWithoutZoom(d-t.top),m,_)}},{key:"getContentScrollPosY",value:function(){var i=O(this.elDocContent);return O(this.elPanel).top-i.top}},{key:"isGridVisible",value:function(){return this.gridVisible}},{key:"toggleGrid",value:function(){this.gridVisible=!this.gridVisible,this.gridVisible?this.elDocContent.classList.add("rbroDocumentGrid"):this.elDocContent.classList.remove("rbroDocumentGrid")}},{key:"zoomIn",value:function(){for(var i=0;i<this.zoomLevels.length-1;i++)if(this.zoom===this.zoomLevels[i]){this.updateZoomLevel(this.zoomLevels[i+1]);break}}},{key:"zoomOut",value:function(){for(var i=1;i<this.zoomLevels.length;i++)if(this.zoom===this.zoomLevels[i]){this.updateZoomLevel(this.zoomLevels[i-1]);break}}},{key:"isZoomInPossible",value:function(){return this.zoom<this.zoomLevels[this.zoomLevels.length-1]}},{key:"isZoomOutPossible",value:function(){return this.zoom>this.zoomLevels[0]}},{key:"pageSizeChanged",value:function(){this.updateZoomLevel(this.zoom)}},{key:"updateZoomLevel",value:function(i){this.zoom=i;var d=this.rb.getDocumentProperties().getPageSize(),m=d.width*(i/100),_=d.height*(i/100),t=this.rb.getWidth()-this.rb.getMainPanel().getTotalPanelWidth(),r=getComputedStyle(this.elPanel),p=parseInt(r.paddingTop)||0,s=parseInt(r.paddingBottom)||0,k=this.elPanel.clientHeight-p-s,x=0;i!==100?(d.width>t?(this.elDoc.style.transformOrigin="",i<100&&m<t&&(x=Math.round((t-m)/2))):m>t?(this.elDoc.style.margin="0",this.elDoc.style.transformOrigin=""):(this.elDoc.style.margin="",this.elDoc.style.transformOrigin="top center"),this.elDoc.style.transform="translateX(".concat(x,"px) scale(").concat(this.zoom/100,")")):(this.elDoc.style.margin="",this.elDoc.style.transform="",this.elDoc.style.transformOrigin=""),document.getElementById("rbro_menu_zoom_level").textContent=i+" %",this.rb.getMenuPanel().updateZoomButtons(this.isZoomInPossible(),this.isZoomOutPossible()),this.elPanel.style.overflowX=m<t?"hidden":"",this.elPanel.style.overflowY=_<k?"hidden":""}},{key:"getCoordWithoutZoom",value:function(i){return Math.round(i*(100/this.zoom))}},{key:"getGridSize",value:function(){return this.gridSize}},{key:"getHeight",value:function(){return this.elDocContent.clientHeight}},{key:"getElement",value:function(i){return i===re.bandType.header?this.elHeader:i===re.bandType.content?this.elContent:i===re.bandType.footer?this.elFooter:null}},{key:"isDragging",value:function(){return this.dragging}},{key:"isDragged",value:function(){return this.dragging&&(this.dragStartX!==this.dragCurrentX||this.dragStartY!==this.dragCurrentY)}},{key:"startDrag",value:function(i,d,m,_,t,r){this.dragging=!0,this.dragStartX=this.dragCurrentX=i,this.dragStartY=this.dragCurrentY=d,this.dragElementType=t,this.dragType=r,this.dragObjectId=m,this.dragContainerId=_,this.dragLinkedContainers=[],this.dragCurrentContainerId=null,this.dragSnapToGrid=!1;var p=this.rb.getDataObject(this.dragObjectId);p&&(this.dragLinkedContainers=p.getLinkedContainers())}},{key:"stopDrag",value:function(){var i=this.getCoordWithoutZoom(this.dragCurrentX-this.dragStartX),d=this.getCoordWithoutZoom(this.dragCurrentY-this.dragStartY),m=this.rb.getDataObject(this.dragObjectId);if(m===null||i===0&&d===0)this.rb.updateSelectionDrag(0,0,this.dragType,null,!1);else{var _=null;this.dragType===ye.dragType.element&&(_=this.rb.getDataObject(this.dragCurrentContainerId));var t=this.rb.getSelectedObjects();if(t.length>1&&_!==null){for(var r=t[0].getContainerId(),p=1;p<t.length;p++)if(t[p].getContainerId()!==r){_=null;break}}var s=m.getDragDiff(i,d,this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(s.x,s.y,this.dragType,_,!0)}this.dragging=!1,this.dragType=ye.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragCurrentContainerId=null;var k,x=Dt(document.querySelectorAll(".rbroElementContainer"));try{for(x.s();!(k=x.n()).done;)k.value.classList.remove("rbroElementDragOver")}catch(N){x.e(N)}finally{x.f()}}},{key:"startBrowserDrag",value:function(i){this.dragEnterCount=0,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainers=[],this.dragElementType=i,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0}},{key:"startSelectionArea",value:function(i,d){this.selectionAreaStarted=!0,this.selectionAreaStartX=i,this.selectionAreaStartY=d}},{key:"stopSelectionArea",value:function(i,d,m){var _=this.getSelectionArea(i,d);if(_.width>10&&_.height>10){var t,r=Dt(this.rb.getDocElements(!0));try{for(r.s();!(t=r.n()).done;){var p=t.value;if(p.isAreaSelectionAllowed()){var s=p.getAbsolutePosition();if(_.left<s.x+p.getValue("widthVal")&&_.left+_.width>=s.x&&_.top<s.y+p.getValue("heightVal")&&_.top+_.height>=s.y){var k=!0;if(p.getContainerId()){var x=p.getContainer();x!==null&&x.isSelected()&&(k=!1)}k&&(this.rb.selectObject(p.getId(),m),m=!1)}}}}catch(N){r.e(N)}finally{r.f()}}this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0,this.elSelectionArea.classList.add("rbroHidden")}},{key:"getSelectionArea",value:function(i,d){var m={};return i>this.selectionAreaStartX?(m.left=this.selectionAreaStartX,m.width=i-this.selectionAreaStartX):(m.left=i,m.width=this.selectionAreaStartX-i),d>this.selectionAreaStartY?(m.top=this.selectionAreaStartY,m.height=d-this.selectionAreaStartY):(m.top=d,m.height=this.selectionAreaStartY-d),m}},{key:"mouseUp",value:function(i){if(this.isDragging()&&this.stopDrag(),this.selectionAreaStarted){var d=O(this.elDocContent);this.stopSelectionArea(this.getCoordWithoutZoom(i.pageX-d.left),this.getCoordWithoutZoom(i.pageY-d.top),!i.shiftKey)}}},{key:"windowResized",value:function(){this.updateZoomLevel(this.zoom)}}]),C}();Qr.tab={pdfLayout:"pdfLayout",pdfPreview:"pdfPreview"};var ur,Cr,vr=typeof Map=="function"?new Map:(ur=[],Cr=[],{has:function(C){return ur.indexOf(C)>-1},get:function(C){return Cr[ur.indexOf(C)]},set:function(C,i){ur.indexOf(C)===-1&&(ur.push(C),Cr.push(i))},delete:function(C){var i=ur.indexOf(C);i>-1&&(ur.splice(i,1),Cr.splice(i,1))}}),en=function(C){return new Event(C,{bubbles:!0})};try{new Event("test")}catch(C){en=function(i){var d=document.createEvent("Event");return d.initEvent(i,!0,!1),d}}function bn(C){var i=vr.get(C);i&&i.destroy()}function vn(C){var i=vr.get(C);i&&i.update()}var _r=null;typeof window=="undefined"||typeof window.getComputedStyle!="function"?((_r=function(C){return C}).destroy=function(C){return C},_r.update=function(C){return C}):((_r=function(C,i){return C&&Array.prototype.forEach.call(C.length?C:[C],function(d){return function(m){if(m&&m.nodeName&&m.nodeName==="TEXTAREA"&&!vr.has(m)){var _,t=null,r=null,p=null,s=function(){m.clientWidth!==r&&H()},k=function(ee){window.removeEventListener("resize",s,!1),m.removeEventListener("input",H,!1),m.removeEventListener("keyup",H,!1),m.removeEventListener("autosize:destroy",k,!1),m.removeEventListener("autosize:update",H,!1),Object.keys(ee).forEach(function(oe){m.style[oe]=ee[oe]}),vr.delete(m)}.bind(m,{height:m.style.height,resize:m.style.resize,overflowY:m.style.overflowY,overflowX:m.style.overflowX,wordWrap:m.style.wordWrap});m.addEventListener("autosize:destroy",k,!1),"onpropertychange"in m&&"oninput"in m&&m.addEventListener("keyup",H,!1),window.addEventListener("resize",s,!1),m.addEventListener("input",H,!1),m.addEventListener("autosize:update",H,!1),m.style.overflowX="hidden",m.style.wordWrap="break-word",vr.set(m,{destroy:k,update:H}),(_=window.getComputedStyle(m,null)).resize==="vertical"?m.style.resize="none":_.resize==="both"&&(m.style.resize="horizontal"),t=_.boxSizing==="content-box"?-(parseFloat(_.paddingTop)+parseFloat(_.paddingBottom)):parseFloat(_.borderTopWidth)+parseFloat(_.borderBottomWidth),isNaN(t)&&(t=0),H()}function x(ee){var oe=m.style.width;m.style.width="0px",m.style.width=oe,m.style.overflowY=ee}function N(){if(m.scrollHeight!==0){var ee=function(te){for(var _e=[];te&&te.parentNode&&te.parentNode instanceof Element;)te.parentNode.scrollTop&&_e.push({node:te.parentNode,scrollTop:te.parentNode.scrollTop}),te=te.parentNode;return _e}(m),oe=document.documentElement&&document.documentElement.scrollTop;m.style.height="",m.style.height=m.scrollHeight+t+"px",r=m.clientWidth,ee.forEach(function(te){te.node.scrollTop=te.scrollTop}),oe&&(document.documentElement.scrollTop=oe)}}function H(){N();var ee=Math.round(parseFloat(m.style.height)),oe=window.getComputedStyle(m,null),te=oe.boxSizing==="content-box"?Math.round(parseFloat(oe.height)):m.offsetHeight;if(te<ee?oe.overflowY==="hidden"&&(x("scroll"),N(),te=oe.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(m,null).height)):m.offsetHeight):oe.overflowY!=="hidden"&&(x("hidden"),N(),te=oe.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(m,null).height)):m.offsetHeight),p!==te){p=te;var _e=en("autosize:resized");try{m.dispatchEvent(_e)}catch(de){}}}}(d)}),C}).destroy=function(C){return C&&Array.prototype.forEach.call(C.length?C:[C],bn),C},_r.update=function(C){return C&&Array.prototype.forEach.call(C.length?C:[C],vn),C});const ft=_r;function $t(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(s,k){if(s){if(typeof s=="string")return tn(s,k);var x=Object.prototype.toString.call(s).slice(8,-1);return x==="Object"&&s.constructor&&(x=s.constructor.name),x==="Map"||x==="Set"?Array.from(s):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?tn(s,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(s){throw s},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var s=d.next();return r=s.done,s},e:function(s){p=!0,t=s},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function tn(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var Et=function(){function C(i,d){Y(this,C),this.rootElement=i,this.rb=d,this.elWindow=null,this.elContent=null,this.input=null,this.objId=null,this.field=null,this.type=null,this.visible=!1,this.items=null,this.rootParameter=null,this.rootDataType=null,this.rootFields=null,this.dataEmptyBeforeEdit=!0,this.nextRowId=-1,this.rowMap=null}return S(C,[{key:"render",value:function(){var i=this;this.elWindow=n("div",{class:"rbroPopupWindow rbroHidden"}),this.elContent=n("div",{class:"rbroPopupWindowContent"}),this.elContent.addEventListener("mouseup",function(m){m.stopPropagation()}),this.elWindow.append(this.elContent);var d=n("div",{class:"rbroButton rbroRoundButton rbroPopupWindowCancel rbroIcon-cancel"});d.addEventListener("click",function(m){i.hide()}),this.elWindow.append(d),document.body.append(this.elWindow)}},{key:"destroy",value:function(){this.elWindow.remove()}},{key:"show",value:function(i,d,m,_,t,r,p,s,k,x){var N=this,H=window.innerWidth,ee=window.innerHeight,oe=null,te=null;if(this.input=m!==""?document.getElementById(m):null,this.objId=d,this.field=_,this.type=t,this.items=i,w(this.elContent),this.rootParameter=p,this.rootDataType=s,this.rootFields=k,this.nextRowId=1,this.rowMap={},r&&(te=r.getSelection()),t===C.type.data){p?(console.assert(s===null&&k===null&&x===null),s=p.type,k=p.getParameterFields(),x=p.getTestData(!0)):s===ne.type.map?this.dataEmptyBeforeEdit=Object.keys(x).length===0:s!==ne.type.array&&s!==ne.type.simpleArray||!Array.isArray(x)?this.dataEmptyBeforeEdit=!1:this.dataEmptyBeforeEdit=x.length===0,this.createDataTable(this.elContent,p,s,k,x);var _e=Math.round(.8*H),de=Math.round(.8*ee),Ie=document.querySelector("html").scrollTop;this.elWindow.style.left=Math.round((H-_e)/2)+"px",this.elWindow.style.top=Math.round((ee-de)/2)+Ie+"px",this.elWindow.style.width=_e+"px",this.elWindow.style.height=de+"px",document.body.append(n("div",{id:"rbro_background_overlay",class:"rbroBackgroundOverlay"})),document.body.classList.add("rbroFixedBackground")}else{t!==C.type.parameterSet&&t!==C.type.parameterAppend||((oe=n("input",{class:"rbroPopupSearch",placeholder:this.rb.getLabel("parameterSearchPlaceholder"),autocomplete:"off"})).addEventListener("input",function(Ue){N.filterParameters(oe.value)}),this.elContent.append(oe));var Ae=n("ul");Ae.addEventListener("mousedown",function(Ue){Ue.preventDefault()});var Pe,Ee=$t(i);try{var Te=function(){var Ue=Pe.value,Ye=n("li");if(Ue.separator){t!==C.type.parameterSet&&t!==C.type.parameterAppend||!Ue.id||Ye.setAttribute("id","parameter_group_"+Ue.id);var ve="rbroPopupItemSeparator";Ue.separatorClass&&(ve+=" "+Ue.separatorClass),Ye.setAttribute("class",ve)}else t!==C.type.parameterSet&&t!==C.type.parameterAppend||!Ue.id||Ye.setAttribute("id","parameter_"+Ue.id),Ye.addEventListener("mousedown",function(ze){if(t===C.type.pattern)N.input.value=Ue.name,N.input.dispatchEvent(new Event("input")),N.hide();else if(t===C.type.parameterSet||t===C.type.parameterAppend){var ke="${"+(Ue.dataSourceName!==null?Ue.dataSourceName+":":"")+Ue.name+"}";t===C.type.parameterSet?(N.input.value=ke,N.input.dispatchEvent(new Event("input")),ft.update(N.input)):r?te&&r.insertText(te.index,ke):(function(Ce,Ze){if(document.selection)Ce.focus(),document.selection.createRange().text=Ze,Ce.focus();else if(Ce.selectionStart||Ce.selectionStart===0){var nt=Ce.selectionStart,et=Ce.selectionEnd,dt=Ce.scrollTop;Ce.value=Ce.value.substring(0,nt)+Ze+Ce.value.substring(et,Ce.value.length),Ce.focus(),Ce.selectionStart=nt+Ze.length,Ce.selectionEnd=nt+Ze.length,Ce.scrollTop=dt}else Ce.value+=Ze,Ce.focus()}(N.input,ke),ft.update(N.input),N.input.dispatchEvent(new Event("input"))),N.hide()}ze.preventDefault()});Ye.append(n("div",{class:"rbroPopupItemHeader"},Ue.name)),Ue.description&&Ue.description!==""&&Ye.append(n("div",{class:"rbroPopupItemDescription"},Ue.description)),Ae.append(Ye)};for(Ee.s();!(Pe=Ee.n()).done;)Te()}catch(Ue){Ee.e(Ue)}finally{Ee.f()}this.elContent.append(Ae);var He=O(this.input),De=He.top;De<ee/2||De<300?De+this.input.clientHeight+300<ee&&(De+=this.input.clientHeight):De-=300,this.elWindow.style.left=He.left+"px",this.elWindow.style.top=De+"px",this.elWindow.style.width="400px",this.elWindow.style.height="300px"}this.elWindow.classList.remove("rbroHidden"),this.visible=!0,oe!==null&&oe.focus();var Ve,Qe=$t(this.elWindow.querySelectorAll("textarea"));try{for(Qe.s();!(Ve=Qe.n()).done;){var Ke=Ve.value;ft.update(Ke)}}catch(Ue){Qe.e(Ue)}finally{Qe.f()}}},{key:"hide",value:function(){if(this.visible){if(this.input!==null&&this.input.focus(),this.type===C.type.data){var i,d=!0;if(this.rootParameter?i=this.getTestData(this.elContent,this.rootParameter):(i=this.getData(this.elContent,this.rootDataType,this.rootFields),this.dataEmptyBeforeEdit&&(this.rootDataType===ne.type.map?d=this.isDataEmpty(i,this.rootFields):this.rootDataType!==ne.type.array&&this.rootDataType!==ne.type.simpleArray||!Array.isArray(i)||(i.length===0?d=!1:i.length===1&&(d=!this.isDataEmpty(i[0],this.rootFields))))),d){var m=this.rb.getDataObject(this.objId),_=JSON.stringify(i);if(m!==null&&m.getValue(this.field)!==_){var t=new e(this.objId,this.field,_,e.type.text,this.rb);this.rb.executeCommand(t)}}document.getElementById("rbro_background_overlay").remove()}this.elWindow.classList.add("rbroHidden"),w(this.elContent),document.body.classList.remove("rbroFixedBackground"),this.visible=!1,this.items=null}}},{key:"isDataEmpty",value:function(i,d){var m,_=!0,t=$t(d);try{for(t.s();!(m=t.n()).done;){var r=m.value;if(r.name in i){var p=i[r.name];r.type===ne.type.string||r.type===ne.type.number||r.type===ne.type.date?p!==""&&(_=!1):r.type===ne.type.boolean?p&&(_=!1):r.type===ne.type.image?v(p)==="object"&&"filename"in p&&p.filename!==""&&(_=!1):r.type===ne.type.array||r.type===ne.type.simpleArray?p.length>0&&(_=!1):r.type===ne.type.map&&Object.keys(p).length>0&&(_=!1)}}}catch(s){t.e(s)}finally{t.f()}return _}},{key:"createDataTable",value:function(i,d,m,_,t){var r,p=this,s=n("div"),k=n("table"),x=n("tr"),N=n("tbody");m===ne.type.array||m===ne.type.simpleArray?Array.isArray(t)||(t=[]):m===ne.type.map&&(t&&Object.getPrototypeOf(t)===Object.prototype||(t={}));var H=n("th");m===ne.type.map&&(H.style.display="none"),x.append(H);var ee,oe=$t(_);try{for(oe.s();!(ee=oe.n()).done;){var te=ee.value,_e=n("th",{},te.label?te.label:te.name);te.type===ne.type.image&&_e.append(n("span",{title:this.rb.getLabel("parameterTestDataImageInfo"),class:"rbroIcon-info"})),x.append(_e)}}catch(Ee){oe.e(Ee)}finally{oe.f()}var de=n("thead");if(de.append(x),k.append(de),m===ne.type.map){var Ie=[t];this.addDataRow(N,d,m,_,Ie,0)}else{var Ae=Array.isArray(t)?t:[];if(Ae.length===0)this.addEmptyDataRow(N,d,m,_);else for(r=0;r<Ae.length;r++)this.addDataRow(N,d,m,_,Ae,r)}if(k.append(N),s.append(k),m!==ne.type.map){var Pe=n("div",{class:"rbroButton rbroFullWidthButton"});Pe.append(n("div",{class:"rbroButton rbroPopupWindowButton"},this.rb.getLabel("popupWindowAddDataRow"))),Pe.addEventListener("click",function(Ee){p.addEmptyDataRow(N,d,m,_)}),s.append(Pe)}w(i),i.append(s)}},{key:"addEmptyDataRow",value:function(i,d,m,_){var t,r={},p=$t(_);try{for(p.s();!(t=p.n()).done;){var s=t.value;s.type===ne.type.array||s.type===ne.type.simpleArray?r[s.name]=[]:s.type===ne.type.map?r[s.name]={}:r[s.name]=""}}catch(x){p.e(x)}finally{p.f()}var k=[r];this.addDataRow(i,d,m,_,k,0)}},{key:"addDataRow",value:function(i,d,m,_,t,r){var p=this,s=t[r],k=n("tr");k.dataset.rowId=String(this.nextRowId),this.rowMap[String(this.nextRowId)]={type:"row",data:s},this.nextRowId++;var x=n("td");if(m!==ne.type.map){var N=n("div",{class:"rbroButton rbroDeleteButton rbroIcon-cancel"});N.addEventListener("click",function(de){var Ie=de.target.parentElement.parentElement,Ae=Ie.dataset.rowId;Ie.remove();var Pe=p.rowMap[Ae];t.splice(t.indexOf(Pe.data),1),delete p.rowMap[Ae]}),x.append(N)}else x.style.display="none";k.append(x);var H,ee=_.length,oe=$t(_);try{for(oe.s();!(H=oe.n()).done;){var te=H.value,_e=te.type===ne.type.array||te.type===ne.type.simpleArray?[]:"";s!==null&&te.name in s&&(_e=s[te.name]),this.appendColumn(k,te,_e,s,ee)}}catch(de){oe.e(de)}finally{oe.f()}i.append(k)}},{key:"appendColumn",value:function(i,d,m,_,t){var r=this,p=n("td");if(d.type===ne.type.array||d.type===ne.type.simpleArray||d.type===ne.type.map){var s=n("div",{class:"expandableCell"}),k=n("span",{class:"rbroIcon-plus"});s.append(k);var x=n("span");if(s.append(x),s.addEventListener("click",function(Ie){var Ae=!s.classList.contains("rbroExpandedCell"),Pe=i.nextElementSibling;if(Pe&&Pe.tagName==="TR"){var Ee=Pe.querySelector("td table");if(Ee){var Te,He=$t(i.querySelectorAll(".expandableCell"));try{for(He.s();!(Te=He.n()).done;){var De=Te.value;if(De.classList.contains("rbroExpandedCell")){De.classList.remove("rbroExpandedCell");var Ve=De.children[0],Qe=De.children[1];Ve.classList.remove("rbroIcon-minus"),Ve.classList.add("rbroIcon-plus");var Ke=r.rowMap[Pe.dataset.rowId];if(Ke.type==="table"&&(Ke.parentData[Ke.field.name]=r.getTestData(Ee,Ke.field.parameter),Ke.field.type===ne.type.array||Ke.field.type===ne.type.simpleArray)){var Ue=Ke.field.name in _&&Array.isArray(_[Ke.field.name])?_[Ke.field.name].length:0;r.setTableRowCount(Qe,Ue)}break}}}catch(Ce){He.e(Ce)}finally{He.f()}Pe.remove()}}if(Ae){var Ye=n("tr");Ye.dataset.rowId=String(r.nextRowId),r.rowMap[String(r.nextRowId)]={type:"table",field:d,parentData:_},r.nextRowId++;var ve=n("td",{colspan:String(t+1)}),ze=d.parameter.getParameterFields();if(ze.length>0){var ke=_[d.name];r.createDataTable(ve,d.parameter,d.parameter.type,ze,ke),Ye.append(ve),i.insertAdjacentElement("afterend",Ye),s.classList.add("rbroExpandedCell"),k.classList.remove("rbroIcon-plus"),k.classList.add("rbroIcon-minus"),x.textContent=""}else d.parameter.getValue("type")===ne.type.map?alert(r.rb.getLabel("parameterEditTestDataMapNoFields")):alert(r.rb.getLabel("parameterEditTestDataArrayNoFields"))}}),d.type===ne.type.array||d.type===ne.type.simpleArray){var N=d.name in _&&Array.isArray(_[d.name])?_[d.name].length:0;this.setTableRowCount(x,N)}p.append(s)}else if(d.type===ne.type.image){var H=n("div",{class:"rbroImageFileContainer"}),ee=n("input",{type:"file"});ee.addEventListener("change",function(Ie){var Ae=Ie.target.files;Ae&&Ae[0]&&z(Ae[0],function(Pe,Ee){_[d.name]={data:Pe,filename:Ee},oe.classList.remove("rbroHidden"),te.textContent=Ee},r.rb)}),H.append(ee);var oe=n("div",{class:"rbroImageFile rbroHidden"}),te=n("div");oe.append(te);var _e=n("div",{class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});_e.addEventListener("click",function(Ie){ee.value="",_[d.name]={data:"",filename:""},oe.classList.add("rbroHidden"),te.textContent=""}),oe.append(_e),H.append(oe),m.filename&&(te.textContent=m.filename,oe.classList.remove("rbroHidden")),p.append(H)}else{var de;d.attributes&&d.attributes.multiLine?(console.assert(d.type===ne.type.string),de=n("textarea",{rows:1}),m&&(de.value=m),ft(de)):d.attributes&&d.attributes.select?(console.assert(d.type===ne.type.string||d.type===ne.type.number),de=n("select"),d.attributes.select==="style"&&B(de,m||null,this.rb)):(de=n("input"),d.type===ne.type.boolean?(de.setAttribute("type","checkbox"),m&&(de.checked=!0),p.classList.add("rbroDataCheckbox")):(de.setAttribute("type","text"),m&&de.setAttribute("value",m),d.type===ne.type.number?function(Ie){var Ae=this;Ie.addEventListener("keyup",function(Pe){var Ee=Pe.target.value,Te=Ee.reverse().replace(/[^0-9\-\.,]|[\-](?=.)|[\.,](?=[0-9]*[\.,])/g,"").reverse(),He=Ae.className,De=He?He.indexOf("decimalPlaces"):-1;if(De!==-1){De+=13;var Ve,Qe=He.indexOf(" ",De);Ve=parseInt(Qe!==-1?He.substring(De,Qe):He.substr(De),10),isNaN(Ve)||((De=Te.indexOf("."))===-1&&(De=Te.indexOf(",")),De!==-1&&Te.length-1-De>Ve&&(Te=Te.substring(0,De+Ve+1)))}Ee!==Te&&(Pe.target.value=Te)})}(de):d.type===ne.type.date&&de.setAttribute("placeholder",this.rb.getLabel("parameterTestDataDatePattern")))),de.addEventListener("focus",function(Ie){de.parentElement.classList.add("rbroHasFocus")}),de.addEventListener("blur",function(Ie){de.parentElement.classList.remove("rbroHasFocus")}),p.append(de)}i.append(p)}},{key:"getTestData",value:function(i,d){return this.getData(i,d.type,d.getParameterFields())}},{key:"getData",value:function(i,d,m){var _=[];if(d===ne.type.map)_={};else if(d!==ne.type.array&&d!==ne.type.simpleArray)return console.assert(!1),null;var t,r=$t(i.querySelector("tbody").children);try{for(r.s();!(t=r.n()).done;){var p=t.value,s=this.rowMap[p.dataset.rowId];if(s.type==="table"){var k=s.field.parameter;s.parentData[s.field.name]=this.getData(p,k.type,k.getParameterFields())}else{var x,N=s.data,H=p.querySelectorAll("input,textarea,select"),ee=0,oe=$t(m);try{for(oe.s();!(x=oe.n()).done;){var te=x.value;if(te.type!==ne.type.array&&te.type!==ne.type.simpleArray&&te.type!==ne.type.map){var _e=H[ee];te.type===ne.type.boolean?N[te.name]=_e.checked:te.type!==ne.type.image&&(N[te.name]=_e.value.trim()),ee++}}}catch(de){oe.e(de)}finally{oe.f()}d===ne.type.array||d===ne.type.simpleArray?_.push(N):d===ne.type.map&&(_=N)}}}catch(de){r.e(de)}finally{r.f()}return _}},{key:"setTableRowCount",value:function(i,d){i.textContent=d===0?this.rb.getLabel("parameterTestDataRowCountEmpty"):d===1?this.rb.getLabel("parameterTestDataRowCountOne"):this.rb.getLabel("parameterTestDataRowCount").replace("${count}",String(d))}},{key:"filterParameters",value:function(i){var d=null,m=0;if(this.items!==null){i=i.toLowerCase();var _,t=$t(this.items);try{for(t.s();!(_=t.n()).done;){var r=_.value;r.separator?(d!==null&&(document.getElementById("parameter_group_"+d).style.display=m>0?"block":"none"),d=r.id?r.id:null,m=0):r.nameLowerCase.indexOf(i)!==-1?(document.getElementById("parameter_"+r.id).style.display="block",d!==-1&&m++):document.getElementById("parameter_"+r.id).style.display="none"}}catch(p){t.e(p)}finally{t.f()}d!==null&&(document.getElementById("parameter_group_"+d).style.display=m>0?"block":"none")}}}]),C}();function rn(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(s,k){if(s){if(typeof s=="string")return nn(s,k);var x=Object.prototype.toString.call(s).slice(8,-1);return x==="Object"&&s.constructor&&(x=s.constructor.name),x==="Map"||x==="Set"?Array.from(s):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?nn(s,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(s){throw s},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var s=d.next();return r=s.done,s},e:function(s){p=!0,t=s},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function nn(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}Et.type={parameterSet:0,parameterAppend:1,pattern:2,data:3};var Mt=function(){function C(i){Y(this,C),this.rb=i,this.id="0_document_properties",this.panelItem=null,this.errors=[],this.pageFormat=C.pageFormat.A4,this.pageWidth="",this.pageHeight="",this.unit=C.unit.mm,this.orientation=C.orientation.portrait,this.contentHeight="",this.marginLeft="",this.marginLeftVal=0,this.marginTop="",this.marginTopVal=0,this.marginRight="",this.marginRightVal=0,this.marginBottom="",this.marginBottomVal=0,this.header=!0,this.headerSize="80",this.headerDisplay=C.display.always,this.footer=!0,this.footerSize="80",this.footerDisplay=C.display.always,this.headerSizeVal=this.header?A(this.headerSize):0,this.footerSizeVal=this.footer?A(this.footerSize):0,this.patternLocale=i.getProperty("patternLocale"),this.patternCurrencySymbol=i.getProperty("patternCurrencySymbol"),this.patternNumberGroupSymbol=i.getProperty("patternNumberGroupSymbol"),this.width=0,this.height=0}return S(C,[{key:"setInitialData",value:function(i){for(var d in i)i.hasOwnProperty(d)&&this.hasOwnProperty(d)&&(this[d]=i[d]);this.headerSizeVal=this.header?A(this.headerSize):0,this.footerSizeVal=this.footer?A(this.footerSize):0,this.marginLeftVal=A(this.marginLeft),this.marginTopVal=A(this.marginTop),this.marginRightVal=A(this.marginRight),this.marginBottomVal=A(this.marginBottom)}},{key:"setup",value:function(){var i=this.getPageSize();this.updatePageSize(i),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter(),this.updateHeader(),this.updateFooter()}},{key:"getFields",value:function(){return["pageFormat","pageWidth","pageHeight","unit","orientation","contentHeight","marginLeft","marginTop","marginRight","marginBottom","header","headerSize","headerDisplay","footer","footerSize","footerDisplay","patternLocale","patternCurrencySymbol","patternNumberGroupSymbol"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.rb.getLabel("documentProperties")}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(i){this.panelItem=i}},{key:"getValue",value:function(i){return this[i]}},{key:"setValue",value:function(i,d){if(this[i]=d,i==="marginLeft"||i==="marginTop"||i==="marginRight"||i==="marginBottom"?(this[i+"Val"]=A(d),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter()):i==="header"?this.updateHeader():i==="footer"&&this.updateFooter(),i!=="header"&&i!=="headerSize"||(this.rb.getDocument().updateHeader(),this.headerSizeVal=this.header?A(this.headerSize):0),i!=="footer"&&i!=="footerSize"||(this.rb.getDocument().updateFooter(),this.footerSizeVal=this.footer?A(this.footerSize):0),i==="pageFormat"||i==="pageWidth"||i==="pageHeight"||i==="unit"||i==="orientation"||i==="contentHeight"||i==="marginTop"||i==="marginBottom"){var m=this.getPageSize();this.updatePageSize(m)}}},{key:"updatePageSize",value:function(i){this.width=i.width,this.height=i.height,this.rb.getDocument().updatePageSize(i.width,i.height);var d,m=rn(this.rb.getDocElements(!0));try{for(m.s();!(d=m.n()).done;){var _=d.value;_ instanceof gr&&_.setWidth(i.width)}}catch(t){m.e(t)}finally{m.f()}this.rb.getDocument().pageSizeChanged()}},{key:"updateHeader",value:function(){this.header?this.rb.getMainPanel().showHeader():this.rb.getMainPanel().hideHeader()}},{key:"updateFooter",value:function(){this.footer?this.rb.getMainPanel().showFooter():this.rb.getMainPanel().hideFooter()}},{key:"getPageSize",value:function(){var i,d,m;return this.pageFormat===C.pageFormat.A4?(this.orientation===C.orientation.portrait?(i=210,d=297):(i=297,d=210),m=C.unit.mm):this.pageFormat===C.pageFormat.A5?(this.orientation===C.orientation.portrait?(i=148,d=210):(i=210,d=148),m=C.unit.mm):this.pageFormat===C.pageFormat.letter?(this.orientation===C.orientation.portrait?(i=8.5,d=11):(i=11,d=8.5),m=C.unit.inch):(i=A(this.pageWidth),d=A(this.pageHeight),m=this.unit),m===C.unit.mm?(i=Math.round(72*i/25.4),d=Math.round(72*d/25.4)):(i=Math.round(72*i),d=Math.round(72*d)),this.contentHeight.trim()!==""&&(d=A(this.contentHeight)+this.marginTopVal+this.marginBottomVal+this.headerSizeVal+this.footerSizeVal),{width:i,height:d}}},{key:"getContentSize",value:function(){var i,d=this.getPageSize();return i=this.contentHeight.trim()!==""?A(this.contentHeight):d.height-this.marginTopVal-this.marginBottomVal-this.headerSizeVal-this.footerSizeVal,{width:d.width-this.marginLeftVal-this.marginRightVal,height:i}}},{key:"addError",value:function(i){this.errors.push(i)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var i,d={},m=rn(this.getFields());try{for(m.s();!(i=m.n()).done;){var _=i.value;d[_]=this.getValue(_)}}catch(t){m.e(t)}finally{m.f()}return d}},{key:"getClassName",value:function(){return"DocumentProperties"}}]),C}();Mt.outputFormat={pdf:"pdf",xlsx:"xlsx"},Mt.pageFormat={A4:"A4",A5:"A5",letter:"letter",userDefined:"user_defined"},Mt.unit={mm:"mm",inch:"inch"},Mt.orientation={portrait:"portrait",landscape:"landscape"},Mt.display={always:"always",notOnFirstPage:"not_on_first_page"};const _n={de_de:{bandContent:"Inhalt",bandFooter:"Fu\xDFzeile",bandHeader:"Kopfzeile",clear:"L\xF6schen",contentHeight:"Inhaltsh\xF6he",contentHeightInfo:"H\xF6he des Inhaltsbereichs, um Elemente zu platzieren (betrifft nicht die tats\xE4chliche Seitengr\xF6\xDFe)",differentFiles:"versch. Dateien...",differentValues:"versch. Werte...",docElementAdditionalStyles:"Zus\xE4tzliche Formatvorlagen",docElementAlignToPageBottom:"Am unteren Seitenrand ausrichten",docElementAlternateBackgroundColor:"Abwechselnde Hintergrundfarbe",docElementAlwaysPrintOnSamePage:"Immer zusammen auf einer Seite",docElementBarCode:"Barcode",docElementBarWidth:"Balkenbreite",docElementBorderFrame:"au\xDFen",docElementBorderFrameRow:"Rahmen und Zeile",docElementBorderGrid:"Alle Rahmenlinien",docElementBorderNone:"Keiner",docElementBorderRow:"Zeilen",docElementColor:"Farbe",docElementColspan:"Anz. verbundene Zellen",docElementColumns:"Spalten",docElementConditionalStyle:"Bedingte Formatierung",docElementConditionalStyleCondition:"Bedingung",docElementContent:"Text",docElementContentRows:"Inhaltszeilen",docElementDataSource:"Datenquelle",docElementDisplayValue:"Wert anzeigen",docElementEditMultipleSelectionNotSupported:"Bearbeiten von Mehrfachauswahl wird f\xFCr diese Einstellung nicht unterst\xFCtzt",docElementErrorCorrectionLevel:"Fehlerkorrektur",docElementErrorCorrectionLevelHigh:"Hoch",docElementErrorCorrectionLevelLow:"Niedrig",docElementErrorCorrectionLevelMedium:"Mittel",docElementErrorCorrectionLevelQuartile:"Quartil",docElementEval:"Auswerten",docElementFormat:"Format",docElementFrame:"Rahmen",docElementGroupExpression:"Gruppen Ausdruck",docElementGrowWeight:"Wachstums-Gewicht",docElementGrowWeightInfo:"Wachstumsfaktor zur Verwendung des Platzes von ausgeblendeten Spalten",docElementGrowWeightHigh:"hoch",docElementGrowWeightLow:"niedrig",docElementGuardBar:"Rand-/Trennzeichen",docElementHeight:"H\xF6he",docElementImage:"Bild",docElementImageCountExceeded:"Es sind nur bis zu ${count} Bilder erlaubt",docElementImageFile:"Bilddatei",docElementLabel:"Bezeichnung",docElementLine:"Linie",docElementLink:"Link",docElementLoadImageErrorMsg:"Bild laden fehlgeschlagen",docElementLoadImageWebPErrorMsg:"Bild laden fehlgeschlagen, aktueller Browser ben\xF6tigt",docElementPageBreak:"Seitenumbruch",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Anzeigen wenn",docElementPrintSettings:"Anzeige",docElementRemoveEmptyElement:"Entfernen wenn nicht vorhanden",docElementRepeatGroupHeader:"Gruppe auf jeder Seite wiederholen",docElementRepeatHeader:"Auf jeder Seite wiederholen",docElementRichText:"Rich Text",docElementRoot:"Dokument",docElementRotate:"Drehen",docElementSection:"Sektion",docElementShrinkToContentHeight:"Auf Inhaltsh\xF6he reduzieren",docElementSize:"Gr\xF6\xDFe (Breite, H\xF6he)",docElementSource:"Bildquelle",docElementSpreadsheet:"Tabellenkalkulation",docElementSpreadsheetAddEmptyRow:"Leere Zeile unterhalb einf\xFCgen",docElementSpreadsheetColspan:"Anz. verbundene Zellen",docElementSpreadsheetColumn:"Fixe Spalte",docElementSpreadsheetHide:"Ausblenden",docElementSpreadsheetTextWrap:"Zeilenumbruch",docElementStyle:"Formatvorlage",docElementTable:"Tabelle",docElementTableBandPageBreak:"Seitenumbruch mit jeder neuen Gruppe",docElementText:"Text",docElementWidth:"Breite",documentProperties:"Dokumenteinstellungen",documentTabClose:"Schlie\xDFen",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Vorschau",documentTabXlsxDownload:"XLSX Download",editData:"Bearbeiten",emptyPanel:"Leer",errorMsgAddtionalRulesNoStyleSelected:"Keine Formatvorlage f\xFCr Regel {info} ausgew\xE4hlt",errorMsgDuplicateParameter:"Parameter existiert bereits",errorMsgDuplicateParameterField:"Feld existiert bereits",errorMsgExternalImageNotAllowed:"Server unterst\xFCtzt das Laden von Bildern von externen Resourcen nicht",errorMsgFontNotAvailable:"Schrift ist am Server nicht vorhanden",errorMsgGroupExpressionWithoutDataSource:"Gruppen Ausdruck ben\xF6tigt Tabelle mit Datenquelle",errorMsgLoadingImageFailed:"Bild laden fehlgeschlagen: ${info}",errorMsgInvalidArray:"Ung\xFCltige Liste",errorMsgInvalidAvgSumExpression:"Ausdruck muss ein Zahl-Feld einer Liste enthalten",errorMsgInvalidBarCode:"Ung\xFCltiger Barcode Inhalt",errorMsgInvalidDataSource:"Ung\xFCltige Datenquelle",errorMsgInvalidDataSourceParameter:"Parameter muss eine Liste sein",errorMsgInvalidDate:"Ung\xFCltiges Datum, erwartetes Format ist JJJJ-MM-TT (bzw. JJJJ-MM-TT hh:mm f\xFCr Datum mit Uhrzeit)",errorMsgInvalidStringData:"Ung\xFCltiger Inhalt f\xFCr Text Parameter ${info}",errorMsgInvalidExpression:"Ung\xFCltiger Ausdruck: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Funktion ${info} ist nicht definiert",errorMsgInvalidExpressionNameNotDefined:"Name ${info} ist nicht definiert",errorMsgInvalidExpressionType:"Ausdruck liefert ung\xFCltigen Typ",errorMsgInvalidLink:"Link muss mit http:// oder https:// beginnen",errorMsgInvalidImage:"Ung\xFCltige Bilddaten, Bild muss base64 kodiert sein",errorMsgInvalidImageSource:"Ung\xFCltige Bildquelle, Url beginnend mit http:// bzw. https:// erwartet",errorMsgInvalidImageSourceParameter:"Parameter vom Typ Bild oder String (mit einer Url) notwendig",errorMsgInvalidMap:"Ung\xFCltige Auflistung",errorMsgInvalidNumber:"Ung\xFCltige Zahl",errorMsgInvalidPageSize:"Ung\xFCltige Seitengr\xF6\xDFe",errorMsgInvalidParameterData:"Daten stimmen nicht mit Parameter \xFCberein",errorMsgInvalidParameterName:"Name muss mit einem Zeichen oder Unterstrich beginnen und darf nur Zeichen, Ziffern und Unterstriche enthalten",errorMsgInvalidPattern:"Ung\xFCltiges Pattern",errorMsgInvalidPosition:"Die Position ist au\xDFerhalb des Bereichs",errorMsgInvalidRichTextFontNotAvailable:"Der Rich Text enth\xE4lt eine Schrift, welche am Server nicht vorhanden ist",errorMsgInvalidRichTextParameter:"Der Rich Text enth\xE4lt ung\xFCltige Tags",errorMsgInvalidSize:"Das Element ist au\xDFerhalb des Bereichs",errorMsgInvalidTestData:"Ung\xFCltige Testdaten",errorMsgMissingData:"Fehlende Daten",errorMsgMissingDataSourceParameter:"Datenquelle Parameter nicht gefunden",errorMsgMissingExpression:"Ausdruck muss gesetzt sein",errorMsgMissingGlyph:"Text enth\xE4lt Zeichen, die in der ausgew\xE4hlten Schrift nicht verf\xFCgbar sind",errorMsgMissingImage:"Fehlendes Bild: Keine Bildquelle oder -datei angegeben",errorMsgMissingParameter:"Parameter nicht gefunden",errorMsgMissingParameterData:"Daten f\xFCr Parameter ${info} nicht gefunden",errorMsgRepeatGroupHeaderAfterContent:"Nicht erlaubt f\xFCr Gruppe nach Inhaltszeile",errorMsgPlusVersionRequired:"Ben\xF6tigt kommerzielle PLUS Version",errorMsgSectionBandNotOnSamePage:"Abschnittsbereich passt nicht auf eine Seite",errorMsgSectionBandPageBreakNotAllowed:"Manueller Seitenumbruch ist nicht erlaubt",errorMsgUnicodeEncodeError:"Text enth\xE4lt nicht druckbare Zeichen",errorMsgUnsupportedImageType:"Bildtyp wird nicht unterst\xFCtzt (nur .jpg und .png erlaubt)",footer:"Fu\xDFzeile",footerDisplay:"Anzeige",footerSize:"H\xF6he Fu\xDFzeile",header:"Kopfzeile",headerDisplay:"Anzeige",headerFooterDisplayAlways:"Immer",headerFooterDisplayNotOnFirstPage:"Nicht auf erster Seite",headerSize:"H\xF6he Kopfzeile",menuColumnAddLeft:"Spalte links hinzuf\xFCgen",menuColumnAddRight:"Spalte rechts hinzuf\xFCgen",menuColumnDelete:"Spalte l\xF6schen",menuAlignBottom:"Unten ausrichten",menuAlignCenter:"Zentriert ausrichten",menuAlignLeft:"Links ausrichten",menuAlignMiddle:"Mittig ausrichten",menuAlignRight:"Rechts ausrichten",menuAlignTop:"Oben ausrichten",menuInsertReport:"EINF.",menuInsertReportTip:"Report-Vorlage einf\xFCgen",menuLogReport:"LOG",menuLogReportTip:"Report-Vorlage in Konsole ausgeben",menuPreview:"VORSCHAU",menuPreviewTip:"Report-Vorschau",menuRedo:"WIEDERH.",menuRedoTip:"Letzten r\xFCckg\xE4ngig gemachten Befehl wiederholen",menuRowAddAbove:"Zeile oberhalb hinzuf\xFCgen",menuRowAddBelow:"Zeile unterhalb hinzuf\xFCgen",menuRowDelete:"Zeile l\xF6schen",menuSave:"SPEICHERN",menuSaveTip:"Report speichern",menuToggleGrid:"Raster ein-/ausblenden",menuUndo:"R\xDCCKG.",menuUndoTip:"Letzten Befehl r\xFCckg\xE4ngig machen",menuZoomIn:"Vergr\xF6\xDFern",menuZoomOut:"Verkleinern",nameCopySuffix:"Kopie",orientation:"Ausrichtung",orientationBottom:"unten",orientationLandscape:"Querformat",orientationLeft:"links",orientationPortrait:"Hochformat",orientationRight:"rechts",orientationTop:"oben",pageFormat:"Seitenformat",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Brief (216 x 279 mm)",pageFormatUserDefined:"Eigene Einstellung",pageHeight:"H\xF6he",pageMargins:"Seitenr\xE4nder",pageWidth:"Breite",parameter:"Parameter",parameterArrayItemType:"Listenelement-Typ",parameterEditTestData:"Bearbeiten",parameterEditTestDataArrayNoFields:"Keine Datenfelder f\xFCr diese Liste definiert",parameterEditTestDataMapNoFields:"Keine Datenfelder f\xFCr diese Gruppierung definiert",parameterEval:"Text auswerten",parameterExpression:"Ausdruck",parameterListType:"Listen-Typ",parameterName:"Name",parameterNullable:"NULL-Wert erlaubt",parameterPattern:"Pattern",parameterRowParams:"Parameter in Zeile",parameterSearchPlaceholder:"Parameter durchsuchen...",parameterTestData:"Testdaten",parameterTestDataDatePattern:"JJJJ-MM-TT",parameterTestDataImageInfo:"Bilder werden in der Berichtsvorlage gespeichert und k\xF6nnen die Gr\xF6\xDFe der Berichtsvorlage erheblich erh\xF6hen",parameterTestDataRichTextInfo:'Rich Text kann Html-Tags zur Formatierung enthalten. Siehe <a href="https://www.reportbro.com/doc/userguide#parameter_type_rich_text" target="_blank" rel="noreferrer">erlaubte Tags</a>',parameterTestDataRowCount:"${count} Zeilen",parameterTestDataRowCountEmpty:"leer",parameterTestDataRowCountOne:"1 Zeile",parameterType:"Typ",parameterTypeArray:"Liste",parameterTypeAverage:"Durchschnitt",parameterTypeBoolean:"Boolean",parameterTypeDate:"Datum",parameterTypeImage:"Bild",parameterTypeMap:"Gruppierung",parameterTypeNumber:"Zahl",parameterTypeRichText:"Rich Text",parameterTypeSimpleArray:"Einfache Liste",parameterTypeString:"String",parameterTypeSum:"Summe",parameters:"Parameter",parametersDataSource:"Datenquelle Parameter",parametersDataSourceName:"${name} Parameter",patternCurrencySymbol:"W\xE4hrungssymbol",patternDate1:"Tag.Monat.Jahr, z.B. 1.6.1980",patternDate2:"Tag.Monat.Jahr (2-stellig), Stunde(24h):Minute, z.B. 1.6.80, 14:30",patternDate3:"Tag/Monat/Jahr (Monat abgek\xFCrzt), z.B. 1/Jun/1980",patternDate4:"Monat/Tag/Jahr (Tag und Monat mit f\xFChrender Null, falls einstellig), z.B. 06/01/1980",patternLocale:"Pattern Locale",patternNumber1:"Tausender-Trennzeichen",patternNumber2:"Dezimalpunkt gefolgt von 3 Dezimalstellen",patternNumber3:"Dezimalpunkt gefolgt von mind. 2 und max. 4 Dezimalstellen",patternNumber4:"Tausender-Trennzeichen und Dezimalpunkt gefolgt von 2 Dezimalstellen",patternNumber5:"W\xE4hrungssymbol vor Zahl",patternNumberGroupSymbol:"Tausender-Trennzeichen",patternNumberGroupSymbolInfo:"leer lassen f\xFCr Standardzeichen",patternSeparatorDates:"--- Datum Pattern ---",patternSeparatorNumbers:"--- Zahlen Pattern ---",plusFeatureInfo:'Ben\xF6tigt kommerzielle <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS Version</a>',plusFeatureInfoNestedParameter:'Verschachtelter Parameter ben\xF6tigt kommerzielle <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS Version</a>',popupWindowAddDataRow:"Zeile hinzuf\xFCgen",select:"ausw\xE4hlen...",style:"Formatvorlage",styleAlignment:"Ausrichtung",styleBackgroundColor:"Hintergrundfarbe",styleBold:"Fett",styleBorder:"Rahmen",styleBorderAll:"vollst\xE4ndig",styleBorderColor:"Rahmenfarbe",styleBorderWidth:"Rahmenbreite",styleFont:"Schrift",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Zentriert",styleHAlignmentLeft:"Links",styleHAlignmentJustify:"Blocksatz",styleHAlignmentRight:"Rechts",styleItalic:"Kursiv",styleLineSpacing:"Linienabstand",styleName:"Name",styleNone:"Keine",stylePadding:"Innenabstand",styleStrikethrough:"Durchgestrichen",styleTextColor:"Textfarbe",styleTextStyle:"Formatierung",styleUnderline:"Unterstreichen",styleVAlignmentBottom:"Unten",styleVAlignmentMiddle:"Mittig",styleVAlignmentTop:"Oben",styles:"Formatvorlagen"},en_us:{bandContent:"Content",bandFooter:"Footer",bandHeader:"Header",clear:"Clear",contentHeight:"Content height",contentHeightInfo:"affects only GUI size to place elements and not the real page size",differentFiles:"different files...",differentValues:"different values...",docElementAdditionalRules:"Additional rules",docElementAlignToPageBottom:"Align to bottom of page",docElementAlternateBackgroundColor:"Alternate background color",docElementAlwaysPrintOnSamePage:"Always on same page",docElementBarCode:"Bar code",docElementBarWidth:"Bar width",docElementBorderFrame:"Frame",docElementBorderFrameRow:"Frame and row",docElementBorderGrid:"Grid",docElementBorderNone:"None",docElementBorderRow:"Row",docElementColor:"Color",docElementColspan:"Colspan",docElementColumns:"Columns",docElementConditionalStyle:"Conditional style",docElementConditionalStyleCondition:"Condition",docElementContent:"Text",docElementContentRows:"Content rows",docElementDataSource:"Data source",docElementDisplayValue:"Display value",docElementEditMultipleSelectionNotSupported:"Edit multiple selection is not supported for this setting",docElementErrorCorrectionLevel:"Error correction",docElementErrorCorrectionLevelHigh:"High",docElementErrorCorrectionLevelLow:"Low",docElementErrorCorrectionLevelMedium:"Medium",docElementErrorCorrectionLevelQuartile:"Quartile",docElementEval:"Evaluate",docElementFormat:"Format",docElementFrame:"Frame",docElementGroupExpression:"Group expression",docElementGrowWeight:"Grow weight",docElementGrowWeightInfo:"Grow factor to take space of hidden columns",docElementGrowWeightHigh:"high",docElementGrowWeightLow:"low",docElementGuardBar:"Guard bars",docElementHeight:"Height",docElementImage:"Image",docElementImageCountExceeded:"Reached maximum number of ${count} allowed images",docElementImageFile:"Image file",docElementLabel:"Label",docElementLine:"Line",docElementLink:"Link",docElementLoadImageErrorMsg:"Loading image failed",docElementLoadImageWebPErrorMsg:"Loading image failed, upgrade browser to latest version",docElementPageBreak:"Page break",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Print if",docElementPrintSettings:"Print settings",docElementRemoveEmptyElement:"Remove when empty",docElementRepeatGroupHeader:"Repeat group on each page",docElementRepeatHeader:"Repeat header",docElementRichText:"Rich text",docElementRoot:"Document",docElementRotate:"Rotate",docElementSection:"Section",docElementShrinkToContentHeight:"Shrink to content height",docElementSize:"Size (width, height)",docElementSource:"Source",docElementSpreadsheet:"Spreadsheet",docElementSpreadsheetAddEmptyRow:"Add empty row below",docElementSpreadsheetColspan:"Colspan",docElementSpreadsheetColumn:"Fixed column",docElementSpreadsheetHide:"Hide",docElementSpreadsheetTextWrap:"Text wrap",docElementStyle:"Style",docElementTable:"Table",docElementTableBandPageBreak:"Page break with each new group",docElementText:"Text",docElementWidth:"Width",documentProperties:"Document properties",documentTabClose:"Close",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Preview",documentTabXlsxDownload:"XLSX Download",editData:"Edit",emptyPanel:"Empty panel",errorMsgAddtionalRulesNoStyleSelected:"No style selected for rule ${info}",errorMsgDuplicateParameter:"Parameter already exists",errorMsgDuplicateParameterField:"Field already exists",errorMsgExternalImageNotAllowed:"Server does not support loading images from external resources",errorMsgFontNotAvailable:"Font not available on server",errorMsgGroupExpressionWithoutDataSource:"Group expression requires table with data source",errorMsgLoadingImageFailed:"Loading image failed: ${info}",errorMsgInvalidArray:"Invalid list",errorMsgInvalidAvgSumExpression:"Expression must contain number field of a list parameter",errorMsgInvalidBarCode:"Invalid bar code content",errorMsgInvalidDataSource:"Invalid data source",errorMsgInvalidDataSourceParameter:"Parameter must be a list",errorMsgInvalidDate:"Invalid date, expected format is YYYY-MM-DD (or YYYY-MM-DD hh:mm for date with time)",errorMsgInvalidStringData:"Invalid data for text parameter ${info}",errorMsgInvalidExpression:"Invalid expression: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Function ${info} not defined",errorMsgInvalidExpressionNameNotDefined:"Name ${info} not defined",errorMsgInvalidExpressionType:"Expression returns invalid type",errorMsgInvalidLink:"Link must start with http:// or https://",errorMsgInvalidImage:"Invalid image data, image must be base64 encoded",errorMsgInvalidImageSource:"Invalid source, expected url starting with http:// or https:// respectively",errorMsgInvalidImageSourceParameter:"Parameter must be an image or string (containing a url)",errorMsgInvalidMap:"Invalid collection",errorMsgInvalidNumber:"Invalid number",errorMsgInvalidPageSize:"Invalid page size",errorMsgInvalidParameterData:"Data does not match parameter",errorMsgInvalidParameterName:"Name must start with a character or underscore, and must only contain characters, digits and underscores (_)",errorMsgInvalidPattern:"Invalid pattern",errorMsgInvalidPosition:"The position is outside the area",errorMsgInvalidRichTextFontNotAvailable:"The rich text contains a font which is not available on server",errorMsgInvalidRichTextParameter:"The rich text contains invalid tags",errorMsgInvalidSize:"The element is outside the area",errorMsgInvalidTestData:"Invalid test data",errorMsgMissingData:"Missing data",errorMsgMissingDataSourceParameter:"Data source parameter not found",errorMsgMissingExpression:"Expression must be set",errorMsgMissingGlyph:"Text contains characters that are not available in the selected font",errorMsgMissingImage:"Missing image, no source or image file specified",errorMsgMissingParameter:"Parameter not found",errorMsgMissingParameterData:"Data for parameter ${info} not found",errorMsgRepeatGroupHeaderAfterContent:"Not allowed for group after content row",errorMsgPlusVersionRequired:"Requires commerical PLUS version",errorMsgSectionBandNotOnSamePage:"Section band does not fit on same page",errorMsgSectionBandPageBreakNotAllowed:"Manual page break not allowed",errorMsgUnicodeEncodeError:"Text contains non printable character",errorMsgUnsupportedImageType:"Image does not have supported image type (.jpg, .png)",footer:"Footer",footerDisplay:"Display",footerSize:"Footer size",header:"Header",headerDisplay:"Display",headerFooterDisplayAlways:"Always",headerFooterDisplayNotOnFirstPage:"Do not show on first page",headerSize:"Header size",menuColumnAddLeft:"Add column to the left",menuColumnAddRight:"Add column to the right",menuColumnDelete:"Delete column",menuAlignBottom:"Align bottom",menuAlignCenter:"Align center",menuAlignLeft:"Align left",menuAlignMiddle:"Align middle",menuAlignRight:"Align right",menuAlignTop:"Align top",menuInsertReport:"INSERT",menuInsertReportTip:"Insert report template",menuLogReport:"LOG",menuLogReportTip:"Log report template to console",menuPreview:"PREVIEW",menuPreviewTip:"Preview report",menuRedo:"REDO",menuRedoTip:"Repeat last undone command",menuRowAddAbove:"Add row above",menuRowAddBelow:"Add row below",menuRowDelete:"Delete row",menuSave:"SAVE",menuSaveTip:"Save report",menuToggleGrid:"Show/Hide grid",menuUndo:"UNDO",menuUndoTip:"Undo last command",menuZoomIn:"Zoom in",menuZoomOut:"Zoom out",nameCopySuffix:"copy",orientation:"Orientation",orientationBottom:"bottom",orientationLandscape:"Landscape",orientationLeft:"left",orientationPortrait:"Portrait",orientationRight:"right",orientationTop:"top",pageFormat:"Page format",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Letter (8.5 x 11.0 inches)",pageFormatUserDefined:"Own dimensions",pageHeight:"height",pageMargins:"Page margins",pageWidth:"width",parameter:"Parameter",parameterArrayItemType:"List item type",parameterEditTestData:"Edit",parameterEditTestDataArrayNoFields:"No data fields defined for this list",parameterEditTestDataMapNoFields:"No data fields defined for this collection",parameterEval:"Evaluate text",parameterExpression:"Expression",parameterListType:"List type",parameterName:"Name",parameterNullable:"Nullable",parameterPattern:"Pattern",parameterRowParams:"Row parameters",parameterSearchPlaceholder:"Search parameters...",parameterTestData:"Test data",parameterTestDataDatePattern:"YYYY-MM-DD",parameterTestDataImageInfo:"Images are saved in the report template and could significantly increase report template size",parameterTestDataRichTextInfo:'Rich text can contain html tags for formatting. See <a href="https://www.reportbro.com/doc/userguide#parameter_type_rich_text" target="_blank" rel="noreferrer">allowed tags</a>',parameterTestDataRowCount:"${count} rows",parameterTestDataRowCountEmpty:"empty",parameterTestDataRowCountOne:"1 row",parameterType:"Type",parameterTypeArray:"List",parameterTypeAverage:"Average",parameterTypeBoolean:"Boolean",parameterTypeDate:"Date",parameterTypeImage:"Image",parameterTypeMap:"Collection",parameterTypeNumber:"Number",parameterTypeRichText:"Rich Text",parameterTypeSimpleArray:"Simple List",parameterTypeString:"Text",parameterTypeSum:"Sum",parameters:"Parameters",parametersDataSource:"Data source parameters",parametersDataSourceName:"${name} parameters",patternCurrencySymbol:"Pattern currency symbol",patternDate1:"day.month.year, e.g. 1.6.1980",patternDate2:"day.month.year (2-digit), hour(24h):minute, e.g. 1.6.80, 14:30",patternDate3:"day/month/year (month abbreviation), e.g. 1/Jun/1980",patternDate4:"month/day/year (day and month with leading zero if single digit), e.g. 06/01/1980",patternLocale:"Pattern locale",patternNumber1:"Show thousand separator",patternNumber2:"Show decimal point followed by 3 decimal places",patternNumber3:"Show decimal point followed by minimum of 2 and maximum of 4 decimal places",patternNumber4:"Show thousand separator and decimal point followed by 2 decimal places",patternNumber5:"Show currency symbol in front of number",patternNumberGroupSymbol:"Thousands separator",patternNumberGroupSymbolInfo:"leave empty for default",patternSeparatorDates:"--- Date patterns ---",patternSeparatorNumbers:"--- Number patterns ---",plusFeatureInfo:'Requires commerical <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS version</a>',plusFeatureInfoNestedParameter:'Nested parameter requires commerical <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS version</a>',popupWindowAddDataRow:"Add row",select:"select...",style:"Style",styleAlignment:"Alignment",styleBackgroundColor:"Background color",styleBold:"Bold",styleBorder:"Border",styleBorderAll:"borders",styleBorderColor:"Border color",styleBorderWidth:"Border width",styleFont:"Font",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Center",styleHAlignmentLeft:"Left",styleHAlignmentJustify:"Justify",styleHAlignmentRight:"Right",styleItalic:"Italic",styleLineSpacing:"Line spacing",styleName:"Name",styleNone:"None",stylePadding:"Padding",styleStrikethrough:"Strikethrough",styleTextColor:"Text color",styleTextStyle:"Text style",styleUnderline:"Underline",styleVAlignmentBottom:"Bottom",styleVAlignmentMiddle:"Middle",styleVAlignmentTop:"Top",styles:"Styles"}};function hr(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(s,k){if(s){if(typeof s=="string")return on(s,k);var x=Object.prototype.toString.call(s).slice(8,-1);return x==="Object"&&s.constructor&&(x=s.constructor.name),x==="Map"||x==="Set"?Array.from(s):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?on(s,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(s){throw s},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var s=d.next();return r=s.done,s},e:function(s){p=!0,t=s},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function on(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var xr=function(){function C(i,d,m,_){Y(this,C),this.idPrefix=i,this.dataBaseClass=d,this.panelId=i+"_panel",this.rootElement=m,this.rb=_,this.propertyDescriptors={},this.differentValuesLabel=this.rb.getLabel("differentValues"),this.differentFilesLabel=this.rb.getLabel("differentFiles"),this.quill=null,this.controls={}}return S(C,[{key:"render",value:function(i){}},{key:"destroy",value:function(){}},{key:"setValue",value:function(i,d,m){var _="".concat(this.idPrefix,"_").concat(i.fieldId);m?document.getElementById(_).classList.add("rbroDifferentValues"):document.getElementById(_).classList.remove("rbroDifferentValues");var t=document.getElementById(_);if(i.type===e.type.text)m?(t.value="",t.setAttribute("placeholder",this.differentValuesLabel)):(t.value=d,t.setAttribute("placeholder",""));else if(i.type===e.type.richText)this.quill&&(m||!d?this.quill.setContents({},"silent"):this.quill.setContents(d,"silent"));else if(i.type===e.type.select)t.value=d;else if(i.type===e.type.checkbox)t.checked=!m&&d;else if(i.type===e.type.button)m?t.classList.remove("rbroButtonActive"):d?t.classList.add("rbroButtonActive"):t.classList.remove("rbroButtonActive");else if(i.type===e.type.buttonGroup){var r,p=hr(t.querySelectorAll("button"));try{for(p.s();!(r=p.n()).done;)r.value.classList.remove("rbroButtonActive")}catch(k){p.e(k)}finally{p.f()}m||t.querySelector('button[value="'.concat(d,'"]')).classList.add("rbroButtonActive")}else if(i.type===e.type.color){var s=document.getElementById(_+"_select");m?i.allowEmpty?(t.value="",s.style.color="",s.classList.add("rbroTransparentColorSelect")):(t.value="#000000",s.style.color="#000000",s.classList.remove("rbroTransparentColorSelect")):(t.value=d,s.style.color=d,d?s.classList.remove("rbroTransparentColorSelect"):s.classList.add("rbroTransparentColorSelect"))}else i.type===e.type.filename&&(m?(t.textContent=this.differentFilesLabel,document.getElementById(_+"_container").classList.remove("rbroHidden")):(t.textContent=d,d===""?document.getElementById(_+"_container").classList.add("rbroHidden"):document.getElementById(_+"_container").classList.remove("rbroHidden")))}},{key:"updateDisplay",value:function(i){}},{key:"show",value:function(){document.getElementById(this.panelId).classList.remove("rbroHidden")}},{key:"hide",value:function(){document.getElementById(this.panelId).classList.add("rbroHidden")}},{key:"isKeyEventDisabled",value:function(){return this.quill&&this.quill.hasFocus()}},{key:"notifyEvent",value:function(i,d,m){i instanceof this.dataBaseClass&&this.rb.isSelectedObject(i.id)&&d===h.operation.change&&this.updateDisplay(m)}},{key:"updateErrors",value:function(){var i,d=document.getElementById(this.panelId),m=d.querySelectorAll(".rbroFormRow"),_=d.querySelectorAll(".rbroErrorMessage"),t=hr(m);try{for(t.s();!(i=t.n()).done;)i.value.classList.remove("rbroError")}catch(de){t.e(de)}finally{t.f()}var r,p=hr(_);try{for(p.s();!(r=p.n()).done;)r.value.textContent=""}catch(de){p.e(de)}finally{p.f()}var s=this.rb.getSelectedObject();if(s!==null){var k,x=hr(s.getErrors());try{for(x.s();!(k=x.n()).done;){var N=k.value,H=this.propertyDescriptors[N.field];if(H){if("section"in H){var ee=H.section;document.getElementById("".concat(this.idPrefix,"_").concat(ee,"_header")).classList.add("rbroError")}var oe=this.rb.getLabel(N.msg_key);N.info&&(oe=oe.replaceAll("${info}",'<span class="rbroErrorMessageInfo">'+N.info.replaceAll("<","&lt;").replaceAll(">","&gt;")+"</span>"));var te=this.getRowId(H);document.getElementById(te).classList.add("rbroError");var _e;_e="errorMsgId"in H?H.errorMsgId:"".concat(this.idPrefix,"_").concat(H.fieldId,"_error"),document.getElementById(_e).innerHTML=oe}}}catch(de){x.e(de)}finally{x.f()}}}},{key:"selectionChanged",value:function(){this.updateDisplay(null),this.updateErrors()}},{key:"scrollToFirstError",value:function(){var i=this.rb.getSelectedObject();if(i!==null){var d,m=hr(i.getErrors());try{for(m.s();!(d=m.n()).done;){var _=d.value,t=this.propertyDescriptors[_.field];if(t&&"section"in t){var r=t.section,p=document.getElementById("".concat(this.idPrefix,"_").concat(r,"_header"));p.classList.contains("rbroPanelSectionHeaderOpen")||p.dispatchEvent(new Event("click"))}}}catch(_e){m.e(_e)}finally{m.f()}var s,k="",x=-1,N=hr(i.getErrors());try{for(N.s();!(s=N.n()).done;){var H=s.value,ee=this.propertyDescriptors[H.field];if(ee){var oe=this.getRowId(ee),te=O(document.getElementById(oe)).top;(k===""||te<x)&&(k=oe,x=te)}}}catch(_e){N.e(_e)}finally{N.f()}k!==""&&document.getElementById(k).scrollIntoView({behavior:"smooth"})}}},{key:"getRowId",value:function(i){return"rowId"in i?i.rowId:"".concat(this.idPrefix,"_").concat(i.fieldId,"_row")}}]),C}();function an(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(s,k){if(s){if(typeof s=="string")return ln(s,k);var x=Object.prototype.toString.call(s).slice(8,-1);return x==="Object"&&s.constructor&&(x=s.constructor.name),x==="Map"||x==="Set"?Array.from(s):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?ln(s,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(s){throw s},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var s=d.next();return r=s.done,s},e:function(s){p=!0,t=s},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function ln(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var wr=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r){var p;return Y(this,_),(p=m.call(this,"rbro_style",$,t,r)).propertyDescriptors={name:{type:e.type.text,fieldId:"name"},bold:{type:e.type.button,fieldId:"bold",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},italic:{type:e.type.button,fieldId:"italic",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},underline:{type:e.type.button,fieldId:"underline",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},strikethrough:{type:e.type.button,fieldId:"strikethrough",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},horizontalAlignment:{type:e.type.buttonGroup,fieldId:"halignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"]},verticalAlignment:{type:e.type.buttonGroup,fieldId:"valignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1},textColor:{type:e.type.color,allowEmpty:!1,fieldId:"text_color"},backgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"background_color"},font:{type:e.type.select,fieldId:"font",rowId:"rbro_style_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"]},fontSize:{type:e.type.select,fieldId:"font_size",rowId:"rbro_style_font_row",singleRowProperty:!1},lineSpacing:{type:e.type.select,fieldId:"line_spacing"},borderAll:{type:e.type.button,fieldId:"border_all",rowId:"rbro_style_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"]},borderLeft:{type:e.type.button,fieldId:"border_left",rowId:"rbro_style_border_row",singleRowProperty:!1},borderTop:{type:e.type.button,fieldId:"border_top",rowId:"rbro_style_border_row",singleRowProperty:!1},borderRight:{type:e.type.button,fieldId:"border_right",rowId:"rbro_style_border_row",singleRowProperty:!1},borderBottom:{type:e.type.button,fieldId:"border_bottom",rowId:"rbro_style_border_row",singleRowProperty:!1},borderColor:{type:e.type.color,allowEmpty:!1,fieldId:"border_color"},borderWidth:{type:e.type.text,fieldId:"border_width"},paddingLeft:{type:e.type.text,fieldId:"padding_left",rowId:"rbro_style_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"]},paddingTop:{type:e.type.text,fieldId:"padding_top",rowId:"rbro_style_padding_row",singleRowProperty:!1},paddingRight:{type:e.type.text,fieldId:"padding_right",rowId:"rbro_style_padding_row",singleRowProperty:!1},paddingBottom:{type:e.type.text,fieldId:"padding_bottom",rowId:"rbro_style_padding_row",singleRowProperty:!1}},p}return S(_,[{key:"render",value:function(){var t=this,r=n("div",{id:"rbro_style_panel",class:"rbroHidden"}),p=n("div",{class:"rbroFormRow"});I(p,this.rb.getLabel("styleName"),"rbro_style_name");var s=n("div",{class:"rbroFormField"}),k=n("input",{id:"rbro_style_name",autocomplete:"off"});k.addEventListener("input",function(x){var N=t.rb.getSelectedObject();N!==null&&(k.value.trim()!==""?t.rb.executeCommand(new e(N.getId(),"name",k.value,e.type.text,t.rb)):k.value=N.getName())}),s.append(k),p.append(s),r.append(p),_.renderStyle(r,"style_","",!1,this.controls,this.rb),document.getElementById("rbro_detail_panel").append(r)}},{key:"destroy",value:function(){_.destroyStyle("",this.controls)}},{key:"updateDisplay",value:function(t){var r=this.rb.getSelectedObject();if(r!==null&&r instanceof $){for(var p in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(p)&&(t===null||p===t)){var s=this.propertyDescriptors[p],k=r.getValue(p);a(b(_.prototype),"setValue",this).call(this,s,k,!1)}}}}],[{key:"renderStyle",value:function(t,r,p,s,k,x){var N,H;I(N=n("div",{id:"rbro_".concat(r,"textstyle_row"),class:"rbroFormRow"}),x.getLabel("styleTextStyle")),H=n("div",{class:"rbroFormField"});var ee=n("div",{id:"rbro_".concat(r,"textstyle")}),oe=n("button",{id:"rbro_".concat(r,"bold"),class:"rbroButton rbroActionButton rbroIcon-bold",type:"button",title:x.getLabel("styleBold")});oe.addEventListener("click",function(rt){for(var he=!oe.classList.contains("rbroButtonActive"),Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"bold"),he,e.type.button,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"bold"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("bold",he,e.type.button,Q)}Q.isEmpty()||x.executeCommand(Q)}),ee.append(oe);var te=n("button",{id:"rbro_".concat(r,"italic"),class:"rbroButton rbroActionButton rbroIcon-italic",type:"button",title:x.getLabel("styleItalic")});te.addEventListener("click",function(rt){for(var he=!te.classList.contains("rbroButtonActive"),Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"italic"),he,e.type.button,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"italic"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("italic",he,e.type.button,Q)}Q.isEmpty()||x.executeCommand(Q)}),ee.append(te);var _e=n("button",{id:"rbro_".concat(r,"underline"),class:"rbroButton rbroActionButton rbroIcon-underline",type:"button",title:x.getLabel("styleUnderline")});_e.addEventListener("click",function(rt){for(var he=!_e.classList.contains("rbroButtonActive"),Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"underline"),he,e.type.button,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"underline"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("underline",he,e.type.button,Q)}Q.isEmpty()||x.executeCommand(Q)}),ee.append(_e);var de=n("button",{id:"rbro_".concat(r,"strikethrough"),class:"rbroButton rbroActionButton rbroIcon-strikethrough",type:"button",title:x.getLabel("styleStrikethrough")});de.addEventListener("click",function(rt){for(var he=!de.classList.contains("rbroButtonActive"),Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"strikethrough"),he,e.type.button,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"strikethrough"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("strikethrough",he,e.type.button,Q)}Q.isEmpty()||x.executeCommand(Q)}),ee.append(de),H.append(ee),N.append(H),t.append(N),I(N=n("div",{id:"rbro_".concat(r,"alignment_row"),class:"rbroFormRow"}),x.getLabel("styleAlignment")),H=n("div",{class:"rbroFormField"});var Ie=n("div",{id:"rbro_".concat(r,"halignment")}),Ae=n("button",{id:"rbro_".concat(r,"halignment_left"),class:"rbroButton rbroActionButton rbroIcon-text-align-left",type:"button",value:"left",title:x.getLabel("styleHAlignmentLeft")});Ae.addEventListener("click",function(rt){for(var he=$.alignment.left,Q=x.getSelectedObjects(),xe=!1,me=Q.length-1;me>=0;me--)if(Q[me].getValue("".concat(p,"horizontalAlignment"))!==he){xe=!0;break}if(xe){for(var G=new le("Set value",x),We=Q.length-1;We>=0;We--){var Oe=Q[We];G.addSelection(Oe.getId()),G.addCommand(new e(Oe.getId(),"".concat(p,"horizontalAlignment"),he,e.type.buttonGroup,x)),Oe instanceof ye&&Oe.getValue("".concat(p,"styleId"))!==""?Oe.getValue("".concat(p,"horizontalAlignment"))!==he&&G.addCommand(new e(Oe.getId(),"".concat(p,"styleId"),"",e.type.select,x)):Oe instanceof $&&Oe.addCommandsForChangedProperty("horizontalAlignment",he,e.type.buttonGroup,G)}G.isEmpty()||x.executeCommand(G)}}),Ie.append(Ae);var Pe=n("button",{id:"rbro_".concat(r,"halignment_center"),class:"rbroButton rbroActionButton rbroIcon-text-align-center",type:"button",value:"center",title:x.getLabel("styleHAlignmentCenter")});Pe.addEventListener("click",function(rt){for(var he=$.alignment.center,Q=x.getSelectedObjects(),xe=!1,me=Q.length-1;me>=0;me--)if(Q[me].getValue("".concat(p,"horizontalAlignment"))!==he){xe=!0;break}if(xe){for(var G=new le("Set value",x),We=Q.length-1;We>=0;We--){var Oe=Q[We];G.addSelection(Oe.getId()),G.addCommand(new e(Oe.getId(),"".concat(p,"horizontalAlignment"),he,e.type.buttonGroup,x)),Oe instanceof ye&&Oe.getValue("".concat(p,"styleId"))!==""?Oe.getValue("".concat(p,"horizontalAlignment"))!==he&&G.addCommand(new e(Oe.getId(),"".concat(p,"styleId"),"",e.type.select,x)):Oe instanceof $&&Oe.addCommandsForChangedProperty("horizontalAlignment",he,e.type.buttonGroup,G)}G.isEmpty()||x.executeCommand(G)}}),Ie.append(Pe);var Ee=n("button",{id:"rbro_".concat(r,"halignment_right"),class:"rbroButton rbroActionButton rbroIcon-text-align-right",type:"button",value:"right",title:x.getLabel("styleHAlignmentRight")});Ee.addEventListener("click",function(rt){for(var he=$.alignment.right,Q=x.getSelectedObjects(),xe=!1,me=Q.length-1;me>=0;me--)if(Q[me].getValue("".concat(p,"horizontalAlignment"))!==he){xe=!0;break}if(xe){for(var G=new le("Set value",x),We=Q.length-1;We>=0;We--){var Oe=Q[We];G.addSelection(Oe.getId()),G.addCommand(new e(Oe.getId(),"".concat(p,"horizontalAlignment"),he,e.type.buttonGroup,x)),Oe instanceof ye&&Oe.getValue("".concat(p,"styleId"))!==""?Oe.getValue("".concat(p,"horizontalAlignment"))!==he&&G.addCommand(new e(Oe.getId(),"".concat(p,"styleId"),"",e.type.select,x)):Oe instanceof $&&Oe.addCommandsForChangedProperty("horizontalAlignment",he,e.type.buttonGroup,G)}G.isEmpty()||x.executeCommand(G)}}),Ie.append(Ee);var Te=n("button",{id:"rbro_".concat(r,"halignment_justify"),class:"rbroButton rbroActionButton rbroIcon-text-align-justify",type:"button",value:"justify",title:x.getLabel("styleHAlignmentJustify")});Te.addEventListener("click",function(rt){for(var he=$.alignment.justify,Q=x.getSelectedObjects(),xe=!1,me=Q.length-1;me>=0;me--)if(Q[me].getValue("".concat(p,"horizontalAlignment"))!==he){xe=!0;break}if(xe){for(var G=new le("Set value",x),We=Q.length-1;We>=0;We--){var Oe=Q[We];G.addSelection(Oe.getId()),G.addCommand(new e(Oe.getId(),"".concat(p,"horizontalAlignment"),he,e.type.buttonGroup,x)),Oe instanceof ye&&Oe.getValue("".concat(p,"styleId"))!==""?Oe.getValue("".concat(p,"horizontalAlignment"))!==he&&G.addCommand(new e(Oe.getId(),"".concat(p,"styleId"),"",e.type.select,x)):Oe instanceof $&&Oe.addCommandsForChangedProperty("horizontalAlignment",he,e.type.buttonGroup,G)}G.isEmpty()||x.executeCommand(G)}}),Ie.append(Te),H.append(Ie);var He=n("div",{id:"rbro_".concat(r,"valignment")}),De=n("button",{id:"rbro_".concat(r,"valignment_top"),class:"rbroButton rbroActionButton rbroIcon-align-top",type:"button",value:"top",title:x.getLabel("styleVAlignmentTop")});De.addEventListener("click",function(rt){for(var he=$.alignment.top,Q=x.getSelectedObjects(),xe=!1,me=Q.length-1;me>=0;me--)if(Q[me].getValue("".concat(p,"verticalAlignment"))!==he){xe=!0;break}if(xe){for(var G=new le("Set value",x),We=Q.length-1;We>=0;We--){var Oe=Q[We];G.addSelection(Oe.getId()),G.addCommand(new e(Oe.getId(),"".concat(p,"verticalAlignment"),he,e.type.buttonGroup,x)),Oe instanceof ye&&Oe.getValue("".concat(p,"styleId"))!==""?Oe.getValue("".concat(p,"verticalAlignment"))!==he&&G.addCommand(new e(Oe.getId(),"".concat(p,"styleId"),"",e.type.select,x)):Oe instanceof $&&Oe.addCommandsForChangedProperty("verticalAlignment",he,e.type.buttonGroup,G)}G.isEmpty()||x.executeCommand(G)}}),He.append(De);var Ve=n("button",{id:"rbro_".concat(r,"valignment_middle"),class:"rbroButton rbroActionButton rbroIcon-align-middle",type:"button",value:"middle",title:x.getLabel("styleVAlignmentMiddle")});Ve.addEventListener("click",function(rt){for(var he=$.alignment.middle,Q=x.getSelectedObjects(),xe=!1,me=Q.length-1;me>=0;me--)if(Q[me].getValue("".concat(p,"verticalAlignment"))!==he){xe=!0;break}if(xe){for(var G=new le("Set value",x),We=Q.length-1;We>=0;We--){var Oe=Q[We];G.addSelection(Oe.getId()),G.addCommand(new e(Oe.getId(),"".concat(p,"verticalAlignment"),he,e.type.buttonGroup,x)),Oe instanceof ye&&Oe.getValue("".concat(p,"styleId"))!==""?Oe.getValue("".concat(p,"verticalAlignment"))!==he&&G.addCommand(new e(Oe.getId(),"".concat(p,"styleId"),"",e.type.select,x)):Oe instanceof $&&Oe.addCommandsForChangedProperty("verticalAlignment",he,e.type.buttonGroup,G)}G.isEmpty()||x.executeCommand(G)}}),He.append(Ve);var Qe=n("button",{id:"rbro_".concat(r,"valignment_bottom"),class:"rbroButton rbroActionButton rbroIcon-align-bottom",type:"button",value:"bottom",title:x.getLabel("styleVAlignmentBottom")});Qe.addEventListener("click",function(rt){for(var he=$.alignment.bottom,Q=x.getSelectedObjects(),xe=!1,me=Q.length-1;me>=0;me--)if(Q[me].getValue("".concat(p,"verticalAlignment"))!==he){xe=!0;break}if(xe){for(var G=new le("Set value",x),We=Q.length-1;We>=0;We--){var Oe=Q[We];G.addSelection(Oe.getId()),G.addCommand(new e(Oe.getId(),"".concat(p,"verticalAlignment"),he,e.type.buttonGroup,x)),Oe instanceof ye&&Oe.getValue("".concat(p,"styleId"))!==""?Oe.getValue("".concat(p,"verticalAlignment"))!==he&&G.addCommand(new e(Oe.getId(),"".concat(p,"styleId"),"",e.type.select,x)):Oe instanceof $&&Oe.addCommandsForChangedProperty("verticalAlignment",he,e.type.buttonGroup,G)}G.isEmpty()||x.executeCommand(G)}}),He.append(Qe),H.append(He),N.append(H),t.append(N),I(N=n("div",{id:"rbro_".concat(r,"text_color_row"),class:"rbroFormRow"}),x.getLabel("styleTextColor"),"rbro_".concat(r,"text_color")),H=n("div",{class:"rbroFormField"});var Ke=n("div",{class:"rbroColorPickerContainer"}),Ue=n("input",{id:"rbro_".concat(r,"text_color"),autocomplete:"off"});Ue.addEventListener("change",function(rt){var he=Ue.value;if(K(he)){for(var Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"textColor"),he,e.type.color,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"textColor"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("textColor",he,e.type.color,Q)}Q.isEmpty()||x.executeCommand(Q)}}),Ke.append(Ue),k[p+"textColor"]=X(Ke,Ue,!1,x),H.append(Ke),N.append(H),t.append(N),I(N=n("div",{id:"rbro_".concat(r,"background_color_row"),class:"rbroFormRow"}),x.getLabel("styleBackgroundColor"),"rbro_".concat(r,"background_color")),H=n("div",{class:"rbroFormField"});var Ye=n("div",{class:"rbroColorPickerContainer"}),ve=n("input",{id:"rbro_".concat(r,"background_color"),autocomplete:"off"});if(ve.addEventListener("change",function(rt){var he=ve.value;if(K(he)){for(var Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"backgroundColor"),he,e.type.color,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"backgroundColor"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("backgroundColor",he,e.type.color,Q)}Q.isEmpty()||x.executeCommand(Q)}}),Ye.append(ve),k[p+"backgroundColor"]=X(Ye,ve,!0,x),H.append(Ye),N.append(H),t.append(N),s){I(N=n("div",{id:"rbro_".concat(r,"alternate_background_color_row"),class:"rbroFormRow"}),x.getLabel("docElementAlternateBackgroundColor"),"rbro_".concat(r,"alternate_background_color")),H=n("div",{class:"rbroFormField"});var ze=n("div",{class:"rbroColorPickerContainer"}),ke=n("input",{id:"rbro_".concat(r,"alternate_background_color")});ke.addEventListener("change",function(rt){var he=ke.value;if(K(he)){for(var Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"alternateBackgroundColor"),he,e.type.color,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"alternateBackgroundColor"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("alternateBackgroundColor",he,e.type.color,Q)}Q.isEmpty()||x.executeCommand(Q)}}),ze.append(ke),k[p+"alternateBackgroundColor"]=X(ze,ke,!0,x),H.append(ze),N.append(H),t.append(N)}I(N=n("div",{id:"rbro_".concat(r,"font_row"),class:"rbroFormRow"}),x.getLabel("styleFont"),"rbro_".concat(r,"font")),H=n("div",{class:"rbroFormField"});var Ce,Ze=n("div",{class:"rbroSplit rbroSelectFont"}),nt=n("select",{id:"rbro_".concat(r,"font")}),et=an(x.getFonts());try{for(et.s();!(Ce=et.n()).done;){var dt=Ce.value;nt.append(n("option",{value:dt.value},dt.name))}}catch(rt){et.e(rt)}finally{et.f()}nt.addEventListener("change",function(rt){for(var he=nt.value,Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"font"),he,e.type.select,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"font"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("font",he,e.type.select,Q)}Q.isEmpty()||x.executeCommand(Q)}),Ze.append(nt);var ut,st=n("select",{id:"rbro_".concat(r,"font_size")}),ct=an(x.getProperty("fontSizes"));try{for(ct.s();!(ut=ct.n()).done;){var it=ut.value;st.append(n("option",{value:it},String(it)))}}catch(rt){ct.e(rt)}finally{ct.f()}st.addEventListener("change",function(rt){for(var he=st.value,Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"fontSize"),he,e.type.select,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"fontSize"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("fontSize",he,e.type.select,Q)}Q.isEmpty()||x.executeCommand(Q)}),Ze.append(st),Ze.append(n("span",{},x.getLabel("styleFontSizeUnit"))),H.append(Ze),H.append(n("div",{id:"rbro_".concat(r,"font_error"),class:"rbroErrorMessage"})),N.append(H),t.append(N),I(N=n("div",{id:"rbro_".concat(r,"line_spacing_row"),class:"rbroFormRow"}),x.getLabel("styleLineSpacing"),"rbro_".concat(r,"line_spacing")),H=n("div",{class:"rbroFormField"});for(var tt=n("select",{id:"rbro_".concat(r,"line_spacing")}),Ct=0,vt=["1","1.1","1.2","1.3","1.4","1.5","1.6","1.7","1.8","1.9","2"];Ct<vt.length;Ct++){var jt=vt[Ct];tt.append(n("option",{value:jt},jt))}tt.addEventListener("change",function(rt){for(var he=tt.value,Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"lineSpacing"),he,e.type.select,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"lineSpacing"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("lineSpacing",he,e.type.select,Q),Q.isEmpty()||x.executeCommand(Q)}}),H.append(tt),N.append(H),t.append(N);var Ft=n("div",{id:"rbro_".concat(r,"border_div")});I(N=n("div",{id:"rbro_".concat(r,"border_row"),class:"rbroFormRow"}),x.getLabel("styleBorder")),H=n("div",{class:"rbroFormField"});var Ot=n("div",{id:"rbro_".concat(r,"border")}),Kt=n("button",{id:"rbro_".concat(r,"border_all"),class:"rbroButton rbroActionButton rbroIcon-border-all",type:"button",value:"".concat(p,"borderAll"),title:x.getLabel("styleBorderAll")});Kt.addEventListener("click",function(rt){for(var he=!Kt.classList.contains("rbroButtonActive"),Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"borderLeft"),he,e.type.button,x)),Q.addCommand(new e(G.getId(),"".concat(p,"borderTop"),he,e.type.button,x)),Q.addCommand(new e(G.getId(),"".concat(p,"borderRight"),he,e.type.button,x)),Q.addCommand(new e(G.getId(),"".concat(p,"borderBottom"),he,e.type.button,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"borderLeft"))===he&&G.getValue("".concat(p,"borderTop"))===he&&G.getValue("".concat(p,"borderRight"))===he&&G.getValue("".concat(p,"borderBottom"))===he||Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&(G.addCommandsForChangedProperty("borderLeft",he,e.type.button,Q),G.addCommandsForChangedProperty("borderTop",he,e.type.button,Q),G.addCommandsForChangedProperty("borderRight",he,e.type.button,Q),G.addCommandsForChangedProperty("borderBottom",he,e.type.button,Q))}Q.isEmpty()||x.executeCommand(Q)}),Ot.append(Kt);var Zt=n("button",{id:"rbro_".concat(r,"border_left"),class:"rbroButton rbroActionButton rbroIcon-border-left",type:"button",value:"".concat(p,"borderLeft"),title:x.getLabel("orientationLeft")});Zt.addEventListener("click",function(rt){for(var he=!Zt.classList.contains("rbroButtonActive"),Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"borderLeft"),he,e.type.button,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"borderLeft"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("borderLeft",he,e.type.button,Q)}Q.isEmpty()||x.executeCommand(Q)}),Ot.append(Zt);var Qt=n("button",{id:"rbro_".concat(r,"border_top"),class:"rbroButton rbroActionButton rbroIcon-border-top",type:"button",value:"".concat(p,"borderTop"),title:x.getLabel("orientationTop")});Qt.addEventListener("click",function(rt){for(var he=!Qt.classList.contains("rbroButtonActive"),Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"borderTop"),he,e.type.button,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"borderTop"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("borderTop",he,e.type.button,Q)}Q.isEmpty()||x.executeCommand(Q)}),Ot.append(Qt);var Xt=n("button",{id:"rbro_".concat(r,"border_right"),class:"rbroButton rbroActionButton rbroIcon-border-right",type:"button",value:"".concat(p,"borderRight"),title:x.getLabel("orientationRight")});Xt.addEventListener("click",function(rt){for(var he=!Xt.classList.contains("rbroButtonActive"),Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"borderRight"),he,e.type.button,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"borderRight"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("borderRight",he,e.type.button,Q)}Q.isEmpty()||x.executeCommand(Q)}),Ot.append(Xt);var Yt=n("button",{id:"rbro_".concat(r,"border_bottom"),class:"rbroButton rbroActionButton rbroIcon-border-bottom",type:"button",value:"".concat(p,"borderBottom"),title:x.getLabel("orientationBottom")});if(Yt.addEventListener("click",function(rt){for(var he=!Yt.classList.contains("rbroButtonActive"),Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"borderBottom"),he,e.type.button,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"borderBottom"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("borderBottom",he,e.type.button,Q)}Q.isEmpty()||x.executeCommand(Q)}),Ot.append(Yt),H.append(Ot),N.append(H),Ft.append(N),s){I(N=n("div",{id:"rbro_".concat(r,"table_border_row"),class:"rbroFormRow"}),x.getLabel("styleBorder")),H=n("div",{class:"rbroFormField"});var xt=n("div",{id:"rbro_".concat(r,"table_border")}),Vt=n("button",{id:"rbro_".concat(r,"table_border_grid"),class:"rbroButton rbroActionButton rbroIcon-border-table-grid",type:"button",value:"".concat(p,"grid"),title:x.getLabel("docElementBorderGrid")});Vt.addEventListener("click",function(rt){for(var he=or.border.grid,Q=x.getSelectedObjects(),xe=!1,me=Q.length-1;me>=0;me--)if(Q[me].getValue("".concat(p,"border"))!==he){xe=!0;break}if(xe){for(var G=new le("Set value",x),We=Q.length-1;We>=0;We--){var Oe=Q[We];G.addSelection(Oe.getId()),G.addCommand(new e(Oe.getId(),"".concat(p,"border"),he,e.type.buttonGroup,x))}G.isEmpty()||x.executeCommand(G)}}),xt.append(Vt);var St=n("button",{id:"rbro_".concat(r,"table_border_frame_row"),class:"rbroButton rbroActionButton rbroIcon-border-table-frame-row",type:"button",value:"".concat(p,"frame_row"),title:x.getLabel("docElementBorderFrameRow")});St.addEventListener("click",function(rt){for(var he=or.border.frameRow,Q=x.getSelectedObjects(),xe=!1,me=Q.length-1;me>=0;me--)if(Q[me].getValue("".concat(p,"border"))!==he){xe=!0;break}if(xe){for(var G=new le("Set value",x),We=Q.length-1;We>=0;We--){var Oe=Q[We];G.addSelection(Oe.getId()),G.addCommand(new e(Oe.getId(),"".concat(p,"border"),he,e.type.buttonGroup,x))}G.isEmpty()||x.executeCommand(G)}}),xt.append(St);var er=n("button",{id:"rbro_".concat(r,"table_border_frame"),class:"rbroButton rbroActionButton rbroIcon-border-table-frame",type:"button",value:"".concat(p,"frame"),title:x.getLabel("docElementBorderFrame")});er.addEventListener("click",function(rt){for(var he=or.border.frame,Q=x.getSelectedObjects(),xe=!1,me=Q.length-1;me>=0;me--)if(Q[me].getValue("".concat(p,"border"))!==he){xe=!0;break}if(xe){for(var G=new le("Set value",x),We=Q.length-1;We>=0;We--){var Oe=Q[We];G.addSelection(Oe.getId()),G.addCommand(new e(Oe.getId(),"".concat(p,"border"),he,e.type.buttonGroup,x))}G.isEmpty()||x.executeCommand(G)}}),xt.append(er);var mt=n("button",{id:"rbro_".concat(r,"table_border_row"),class:"rbroButton rbroActionButton rbroIcon-border-table-row",type:"button",value:"".concat(p,"row"),title:x.getLabel("docElementBorderRow")});mt.addEventListener("click",function(rt){for(var he=or.border.row,Q=x.getSelectedObjects(),xe=!1,me=Q.length-1;me>=0;me--)if(Q[me].getValue("".concat(p,"border"))!==he){xe=!0;break}if(xe){for(var G=new le("Set value",x),We=Q.length-1;We>=0;We--){var Oe=Q[We];G.addSelection(Oe.getId()),G.addCommand(new e(Oe.getId(),"".concat(p,"border"),he,e.type.buttonGroup,x))}G.isEmpty()||x.executeCommand(G)}}),xt.append(mt);var kt=n("button",{id:"rbro_".concat(r,"table_border_none"),class:"rbroButton rbroActionButton rbroIcon-border-table-none",type:"button",value:"".concat(p,"none"),title:x.getLabel("docElementBorderNone")});kt.addEventListener("click",function(rt){for(var he=or.border.none,Q=x.getSelectedObjects(),xe=!1,me=Q.length-1;me>=0;me--)if(Q[me].getValue("".concat(p,"border"))!==he){xe=!0;break}if(xe){for(var G=new le("Set value",x),We=Q.length-1;We>=0;We--){var Oe=Q[We];G.addSelection(Oe.getId()),G.addCommand(new e(Oe.getId(),"".concat(p,"border"),he,e.type.buttonGroup,x))}G.isEmpty()||x.executeCommand(G)}}),xt.append(kt),H.append(xt),N.append(H),Ft.append(N)}I(N=n("div",{id:"rbro_".concat(r,"border_color_row"),class:"rbroFormRow"}),x.getLabel("styleBorderColor"),"rbro_".concat(r,"border_color")),H=n("div",{class:"rbroFormField"});var qt=n("div",{class:"rbroColorPickerContainer"}),Jt=n("input",{id:"rbro_".concat(r,"border_color"),autocomplete:"off"});Jt.addEventListener("change",function(rt){var he=Jt.value;if(K(he)){for(var Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"borderColor"),he,e.type.color,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"borderColor"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("borderColor",he,e.type.color,Q)}Q.isEmpty()||x.executeCommand(Q)}}),qt.append(Jt),k[p+"borderColor"]=X(qt,Jt,!1,x),H.append(qt),N.append(H),Ft.append(N),I(N=n("div",{id:"rbro_".concat(r,"border_width_row"),class:"rbroFormRow"}),x.getLabel("styleBorderWidth"),"rbro_".concat(r,"border_width")),H=n("div",{class:"rbroFormField"});var zt=n("input",{id:"rbro_".concat(r,"border_width"),type:"number",step:"0.5",autocomplete:"off"});zt.addEventListener("input",function(rt){var he=zt.value;he!==""&&(he=P(he,.5,99)),he!==zt.value&&(zt.value=he);for(var Q=x.getSelectedObjects(),xe=!1,me=Q.length-1;me>=0;me--)if(Q[me].getValue("".concat(p,"borderWidth"))!==he){xe=!0;break}if(xe){for(var G=new le("Set value",x),We=Q.length-1;We>=0;We--){var Oe=Q[We];G.addSelection(Oe.getId()),G.addCommand(new e(Oe.getId(),"".concat(p,"borderWidth"),he,e.type.text,x)),Oe instanceof ye&&Oe.getValue("".concat(p,"styleId"))!==""?Oe.getValue("".concat(p,"borderWidth"))!==he&&G.addCommand(new e(Oe.getId(),"".concat(p,"styleId"),"",e.type.select,x)):Oe instanceof $&&Oe.addCommandsForChangedProperty("borderWidth",he,e.type.text,G)}G.isEmpty()||x.executeCommand(G)}}),H.append(zt),N.append(H),Ft.append(N),t.append(Ft),I(N=n("div",{id:"rbro_".concat(r,"padding_row"),class:"rbroFormRow"}),x.getLabel("stylePadding"),"rbro_".concat(r,"padding")),H=n("div",{class:"rbroFormField rbroSmallInput"});var _t=n("div",{class:"rbroColumnCenter"}),cr=n("input",{id:"rbro_".concat(r,"padding_top"),placeholder:x.getLabel("orientationTop"),type:"number",autocomplete:"off"});cr.addEventListener("input",function(rt){for(var he=cr.value,Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"paddingTop"),he,e.type.text,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"paddingTop"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("paddingTop",he,e.type.text,Q)}Q.isEmpty()||x.executeCommand(Q)}),_t.append(cr),H.append(_t);var dr=n("div",{class:"rbroSplit"}),ar=n("input",{id:"rbro_".concat(r,"padding_left"),placeholder:x.getLabel("orientationLeft"),type:"number",autocomplete:"off"});ar.addEventListener("input",function(rt){for(var he=ar.value,Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"paddingLeft"),he,e.type.text,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"paddingLeft"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("paddingLeft",he,e.type.text,Q)}Q.isEmpty()||x.executeCommand(Q)}),dr.append(ar);var ir=n("input",{id:"rbro_".concat(r,"padding_right"),placeholder:x.getLabel("orientationRight"),type:"number",autocomplete:"off"});ir.addEventListener("input",function(rt){for(var he=ir.value,Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"paddingRight"),he,e.type.text,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"paddingRight"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("paddingRight",he,e.type.text,Q)}Q.isEmpty()||x.executeCommand(Q)}),dr.append(ir),H.append(dr);var mr=n("div",{class:"rbroColumnCenter"}),lr=n("input",{id:"rbro_".concat(r,"padding_bottom"),placeholder:x.getLabel("orientationBottom"),type:"number",autocomplete:"off"});lr.addEventListener("input",function(rt){for(var he=lr.value,Q=new le("Set value",x),xe=x.getSelectedObjects(),me=xe.length-1;me>=0;me--){var G=xe[me];Q.addSelection(G.getId()),Q.addCommand(new e(G.getId(),"".concat(p,"paddingBottom"),he,e.type.text,x)),G instanceof ye&&G.getValue("".concat(p,"styleId"))!==""?G.getValue("".concat(p,"paddingBottom"))!==he&&Q.addCommand(new e(G.getId(),"".concat(p,"styleId"),"",e.type.select,x)):G instanceof $&&G.addCommandsForChangedProperty("paddingBottom",he,e.type.text,Q)}Q.isEmpty()||x.executeCommand(Q)}),mr.append(lr),H.append(mr),N.append(H),t.append(N)}},{key:"destroyStyle",value:function(t,r){r[t+"textColor"].destroy(),r[t+"backgroundColor"].destroy(),t+"alternateBackgroundColor"in r&&r[t+"alternateBackgroundColor"].destroy(),r[t+"borderColor"].destroy()}}]),_}(xr),wn=at(6095),fr=at.n(wn),En=at(4175),sn=at.n(En);function Lt(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(s,k){if(s){if(typeof s=="string")return un(s,k);var x=Object.prototype.toString.call(s).slice(8,-1);return x==="Object"&&s.constructor&&(x=s.constructor.name),x==="Map"||x==="Set"?Array.from(s):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?un(s,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(s){throw s},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var s=d.next();return r=s.done,s},e:function(s){p=!0,t=s},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function un(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var In=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r){var p;for(var s in Y(this,_),(p=m.call(this,"rbro_doc_element",ye,t,r)).propertyDescriptors={label:{type:e.type.text,fieldId:"label"},content:{type:e.type.text,fieldId:"content",visibleIf:"!richText"},richText:{type:e.type.checkbox,fieldId:"rich_text"},richTextContent:{type:e.type.richText,fieldId:"rich_text_content",visibleIf:"richText"},eval:{type:e.type.checkbox,fieldId:"eval",visibleIf:"!richText"},dataSource:{type:e.type.text,fieldId:"data_source"},xReadOnly:{type:e.type.text,fieldId:"x_read_only"},x:{type:e.type.text,fieldId:"x",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,rowProperties:["x","y"],labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionX"},y:{type:e.type.text,fieldId:"y",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionY"},width:{type:e.type.text,fieldId:"width",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,rowProperties:["width","height"],labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementWidth",visibleIf:"type != 'bar_code' || (format != 'QRCode' && rotate)"},height:{type:e.type.text,fieldId:"height",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementHeight"},colspan:{type:e.type.text,fieldId:"colspan"},format:{type:e.type.select,fieldId:"format",allowEmpty:!1},displayValue:{type:e.type.checkbox,fieldId:"display_value",visibleIf:"format != 'QRCode'"},barWidth:{type:e.type.text,fieldId:"bar_width",visibleIf:"format != 'QRCode'"},guardBar:{type:e.type.checkbox,fieldId:"guard_bar",visibleIf:"format == 'EAN8' || format == 'EAN13'"},rotate:{type:e.type.checkbox,fieldId:"rotate",section:"print",visibleIf:"format != 'QRCode'"},errorCorrectionLevel:{type:e.type.select,fieldId:"error_correction_level",visibleIf:"format == 'QRCode'"},source:{type:e.type.text,fieldId:"source"},image:{type:e.type.file,fieldId:"image",rowId:"rbro_doc_element_image_row",singleRowProperty:!1,rowProperties:["image","imageFilename"]},imageFilename:{type:e.type.filename,fieldId:"image_filename",rowId:"rbro_doc_element_image_row",singleRowProperty:!1},columns:{type:e.type.text,fieldId:"columns"},header:{type:e.type.checkbox,fieldId:"header"},contentRows:{type:e.type.text,fieldId:"content_rows"},footer:{type:e.type.checkbox,fieldId:"footer"},color:{type:e.type.color,allowEmpty:!1,fieldId:"color",section:"style"},styleId:{type:e.type.select,fieldId:"style_id",section:"style",allowEmpty:!0},bold:{type:e.type.button,fieldId:"bold",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"],section:"style",visibleIf:"!richText"},italic:{type:e.type.button,fieldId:"italic",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},underline:{type:e.type.button,fieldId:"underline",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},strikethrough:{type:e.type.button,fieldId:"strikethrough",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},horizontalAlignment:{type:e.type.buttonGroup,fieldId:"halignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"],section:"style",visibleIf:"!richText"},verticalAlignment:{type:e.type.buttonGroup,fieldId:"valignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,section:"style"},textColor:{type:e.type.color,allowEmpty:!1,fieldId:"text_color",section:"style",visibleIf:"!richText"},backgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"background_color",section:"style"},alternateBackgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"alternate_background_color",section:"style"},font:{type:e.type.select,fieldId:"font",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"],section:"style",allowEmpty:!1,visibleIf:"!richText"},fontSize:{type:e.type.select,fieldId:"font_size",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,section:"style",allowEmpty:!1,visibleIf:"!richText"},lineSpacing:{type:e.type.select,fieldId:"line_spacing",section:"style",allowEmpty:!1},borderAll:{type:e.type.button,fieldId:"border_all",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"],section:"style"},borderLeft:{type:e.type.button,fieldId:"border_left",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderTop:{type:e.type.button,fieldId:"border_top",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderRight:{type:e.type.button,fieldId:"border_right",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderBottom:{type:e.type.button,fieldId:"border_bottom",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},border:{type:e.type.buttonGroup,fieldId:"table_border",rowId:"rbro_doc_element_table_border_row",section:"style"},borderColor:{type:e.type.color,allowEmpty:!1,fieldId:"border_color",section:"style"},borderWidth:{type:e.type.text,fieldId:"border_width",section:"style"},paddingLeft:{type:e.type.text,fieldId:"padding_left",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"style"},paddingTop:{type:e.type.text,fieldId:"padding_top",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingRight:{type:e.type.text,fieldId:"padding_right",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingBottom:{type:e.type.text,fieldId:"padding_bottom",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},groupExpression:{type:e.type.text,fieldId:"group_expression",section:"print"},pageBreak:{type:e.type.checkbox,fieldId:"page_break",visibleIf:"groupExpression",section:"print"},repeatGroupHeader:{type:e.type.checkbox,fieldId:"repeat_group_header",visibleIf:"groupExpression",section:"print"},printIf:{type:e.type.text,fieldId:"print_if",section:"print"},repeatHeader:{type:e.type.checkbox,fieldId:"repeat_header",section:"print"},removeEmptyElement:{type:e.type.checkbox,fieldId:"remove_empty_element",section:"print"},alwaysPrintOnSamePage:{type:e.type.checkbox,fieldId:"always_print_on_same_page",section:"print"},shrinkToContentHeight:{type:e.type.checkbox,fieldId:"shrink_to_content_height",section:"print"},alignToPageBottom:{type:e.type.checkbox,fieldId:"align_to_page_bottom",section:"print"},growWeight:{type:e.type.select,allowEmpty:!1,fieldId:"grow_weight",section:"print"},pattern:{type:e.type.text,fieldId:"pattern",section:"print",visibleIf:"!richText"},link:{type:e.type.text,fieldId:"link",section:"print",visibleIf:"!richText"},cs_condition:{type:e.type.text,fieldId:"cs_condition",section:"cs_style"},cs_styleId:{type:e.type.select,fieldId:"cs_style_id",section:"cs_style",allowEmpty:!0},cs_additionalRules:{type:e.type.internal,fieldId:"cs_additional_rules",section:"cs_style",allowEmpty:!0},cs_bold:{type:e.type.button,fieldId:"cs_bold",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,rowProperties:["cs_bold","cs_italic","cs_underline","cs_strikethrough"],section:"cs_style",visibleIf:"!richText"},cs_italic:{type:e.type.button,fieldId:"cs_italic",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_underline:{type:e.type.button,fieldId:"cs_underline",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_strikethrough:{type:e.type.button,fieldId:"cs_strikethrough",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_horizontalAlignment:{type:e.type.buttonGroup,fieldId:"cs_halignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,rowProperties:["cs_horizontalAlignment","cs_verticalAlignment"],section:"cs_style",visibleIf:"!richText"},cs_verticalAlignment:{type:e.type.buttonGroup,fieldId:"cs_valignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,section:"cs_style"},cs_textColor:{type:e.type.color,allowEmpty:!1,fieldId:"cs_text_color",section:"cs_style",visibleIf:"!richText"},cs_backgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"cs_background_color",section:"cs_style"},cs_font:{type:e.type.select,fieldId:"cs_font",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,rowProperties:["cs_font","cs_fontSize"],section:"cs_style",allowEmpty:!1,visibleIf:"!richText"},cs_fontSize:{type:e.type.select,fieldId:"cs_font_size",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,section:"cs_style",allowEmpty:!1,visibleIf:"!richText"},cs_lineSpacing:{type:e.type.select,fieldId:"cs_line_spacing",section:"cs_style",allowEmpty:!1},cs_borderAll:{type:e.type.button,fieldId:"cs_border_all",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,rowProperties:["cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom"],section:"cs_style"},cs_borderLeft:{type:e.type.button,fieldId:"cs_border_left",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderTop:{type:e.type.button,fieldId:"cs_border_top",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderRight:{type:e.type.button,fieldId:"cs_border_right",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderBottom:{type:e.type.button,fieldId:"cs_border_bottom",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderColor:{type:e.type.color,allowEmpty:!1,fieldId:"cs_border_color",section:"cs_style"},cs_borderWidth:{type:e.type.text,fieldId:"cs_border_width",section:"cs_style"},cs_paddingLeft:{type:e.type.text,fieldId:"cs_padding_left",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"cs_style"},cs_paddingTop:{type:e.type.text,fieldId:"cs_padding_top",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingRight:{type:e.type.text,fieldId:"cs_padding_right",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingBottom:{type:e.type.text,fieldId:"cs_padding_bottom",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},spreadsheet_hide:{type:e.type.checkbox,fieldId:"spreadsheet_hide",section:"spreadsheet"},spreadsheet_column:{type:e.type.text,fieldId:"spreadsheet_column",section:"spreadsheet"},spreadsheet_colspan:{type:e.type.text,fieldId:"spreadsheet_colspan",section:"spreadsheet"},spreadsheet_addEmptyRow:{type:e.type.checkbox,fieldId:"spreadsheet_add_empty_row",section:"spreadsheet"},spreadsheet_textWrap:{type:e.type.checkbox,fieldId:"spreadsheet_text_wrap",section:"spreadsheet"}},r.getProperty("showPlusFeatures")||(delete p.propertyDescriptors.richText,delete p.propertyDescriptors.richTextContent),p.visibleIfFields=[],p.propertyDescriptors)if(p.propertyDescriptors.hasOwnProperty(s)){var k=p.propertyDescriptors[s];if("visibleIf"in k){var x,N=Lt(V(k.visibleIf,null));try{for(N.s();!(x=N.n()).done;){var H=x.value;H.type==="field"&&("visibleIfFields"in k?k.visibleIfFields.includes(H.value)||k.visibleIfFields.push(H.value):k.visibleIfFields=[H.value],p.visibleIfFields.includes(H.value)||p.visibleIfFields.push(H.value))}}catch(ee){N.e(ee)}finally{N.f()}}}return p}return S(_,[{key:"render",value:function(){var t,r,p,s=this,k=n("div",{id:"rbro_doc_element_panel",class:"rbroHidden"});I(t=n("div",{id:"rbro_doc_element_label_row",class:"rbroFormRow"}),this.rb.getLabel("docElementLabel"),"rbro_doc_element_label"),r=n("div",{class:"rbroFormField"});var x=n("input",{id:"rbro_doc_element_label",autocomplete:"off"});x.addEventListener("input",function(Fe){for(var pe=x.value,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"label",pe,e.type.text,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),r.append(x),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_data_source_row",class:"rbroFormRow"}),this.rb.getLabel("docElementDataSource"),"rbro_doc_element_data_source"),r=n("div",{class:"rbroFormField"});var N=n("div",{class:"rbroSplit rbroSelector"}),H=n("textarea",{id:"rbro_doc_element_data_source",rows:1});H.addEventListener("input",function(Fe){for(var pe=H.value,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"dataSource",pe,e.type.text,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),ft(H),N.append(H),(p=n("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Fe){var pe=s.rb.getSelectedObjects(),J=pe.length===1?pe[0]:null;s.rb.getPopupWindow().show(s.rb.getParameterItems(J,[ne.type.array]),null,"rbro_doc_element_data_source","dataSource",Et.type.parameterSet)}),N.append(p),r.append(N),r.append(n("div",{id:"rbro_doc_element_data_source_error",class:"rbroErrorMessage"})),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_content_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementContent"),"rbro_doc_element_content"),r=n("div",{class:"rbroFormField"}),N=n("div",{class:"rbroSplit rbroSelector"});var ee=n("textarea",{id:"rbro_doc_element_content",rows:1});if(ee.addEventListener("input",function(Fe){for(var pe=ee.value,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"content",pe,e.type.text,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),ee.addEventListener("blur",function(Fe){s.rb.getPopupWindow().hide()}),ft(ee),N.append(ee),(p=n("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Fe){var pe=s.rb.getSelectedObjects(),J=pe.length===1?pe[0]:null;s.rb.getPopupWindow().show(s.rb.getParameterItems(J,null),null,"rbro_doc_element_content","content",Et.type.parameterAppend)}),N.append(p),r.append(N),r.append(n("div",{id:"rbro_doc_element_content_error",class:"rbroErrorMessage"})),t.append(r),k.append(t),this.rb.getProperty("showPlusFeatures")){I(t=n("div",{id:"rbro_doc_element_rich_text_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRichText"),"rbro_doc_element_rich_text"),r=n("div",{class:"rbroFormField"});var oe=n("label",{class:"switch-light switch-material"}),te=n("input",{id:"rbro_doc_element_rich_text",type:"checkbox"});te.addEventListener("change",function(Fe){for(var pe=te.checked,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"richText",pe,e.type.checkbox,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),oe.append(te);var _e=n("span");if(_e.append(n("span")),_e.append(n("span")),_e.append(n("a")),oe.append(_e),r.append(oe),r.append(n("div",{id:"rbro_doc_element_rich_text_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var de=n("div",{class:"rbroInfo"});de.innerHTML=this.rb.getLabel("plusFeatureInfo"),r.append(de)}t.append(r),k.append(t),t=n("div",{id:"rbro_doc_element_rich_text_content_row",class:"rbroFormRow rbroRichTextEditor rbroHidden"});var Ie,Ae=this.rb.getProperty("colors"),Pe=n("select",{class:"ql-color",title:this.rb.getLabel("styleTextColor")}),Ee=n("select",{class:"ql-background",title:this.rb.getLabel("styleBackgroundColor")}),Te=Lt(Ae);try{for(Te.s();!(Ie=Te.n()).done;){var He=Ie.value;Pe.append(n("option",{value:He},He)),Ee.append(n("option",{value:He},He))}}catch(Fe){Te.e(Fe)}finally{Te.f()}Pe.append(n("option",{value:"clear-color"})),Ee.append(n("option",{value:"clear-color"}));var De,Ve=n("select",{class:"ql-font"}),Qe=this.rb.getProperty("defaultFont"),Ke=Lt(this.rb.getFonts());try{for(Ke.s();!(De=Ke.n()).done;){var Ue=De.value,Ye={value:Ue.value};Ue.value===Qe&&(Ye.selected="selected"),Ve.append(n("option",Ye,Ue.name))}}catch(Fe){Ke.e(Fe)}finally{Ke.f()}var ve,ze=n("select",{class:"ql-size"}),ke=Lt(this.rb.getProperty("fontSizes"));try{for(ke.s();!(ve=ke.n()).done;){var Ce=ve.value,Ze={value:Ce+"px"};Ce===12&&(Ze.selected="selected"),ze.append(n("option",Ze,Ce+"pt"))}}catch(Fe){ke.e(Fe)}finally{ke.f()}var nt=n("div",{id:"rbro_doc_element_rich_text_content_toolbar"}),et=n("span",{class:"ql-formats"});et.append(n("button",{class:"ql-bold",title:this.rb.getLabel("styleBold")})),et.append(n("button",{class:"ql-italic",title:this.rb.getLabel("styleItalic")})),et.append(n("button",{class:"ql-underline",title:this.rb.getLabel("styleUnderline")})),et.append(n("button",{class:"ql-strike",title:this.rb.getLabel("styleStrikethrough")})),nt.append(et),(et=n("span",{class:"ql-formats"})).append(n("button",{class:"ql-link"})),nt.append(et),(et=n("span",{class:"ql-formats"})).append(n("select",{class:"ql-align",title:this.rb.getLabel("styleAlignment")})),nt.append(et),(et=n("span",{class:"ql-formats"})).append(Pe),et.append(Ee),nt.append(et),nt.append(Ve),nt.append(ze),nt.append(n("div",{id:"rbro_doc_element_rich_text_content_toolbar_parameter",class:"rbroButton rbroRoundButton rbroIcon-select"})),t.append(nt);var dt=n("div",{id:"rbro_doc_element_rich_text_content"});t.append(dt),t.append(n("div",{id:"rbro_doc_element_rich_text_content_error",class:"rbroErrorMessage"})),k.append(t)}I(t=n("div",{id:"rbro_doc_element_eval_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementEval"),"rbro_doc_element_eval"),r=n("div",{class:"rbroFormField"});var ut=n("input",{id:"rbro_doc_element_eval",type:"checkbox"});ut.addEventListener("change",function(Fe){for(var pe=new le("Set value",s.rb),J=s.rb.getSelectedObjects(),ge=ut.checked,se=J.length-1;se>=0;se--){var be=J[se];pe.addSelection(be.getId()),pe.addCommand(new e(be.getId(),"eval",ge,e.type.checkbox,s.rb))}pe.isEmpty()||s.rb.executeCommand(pe)}),r.append(ut),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_format_row",class:"rbroFormRow"}),this.rb.getLabel("docElementFormat"),"rbro_doc_element_format"),r=n("div",{class:"rbroFormField"});var st=n("select",{id:"rbro_doc_element_format"});st.append(n("option",{value:"CODE39"},"CODE39")),st.append(n("option",{value:"CODE128"},"CODE128")),st.append(n("option",{value:"EAN8"},"EAN-8")),st.append(n("option",{value:"EAN13"},"EAN-13")),st.append(n("option",{value:"UPC"},"UPC")),st.append(n("option",{value:"QRCode"},"QR Code")),st.addEventListener("change",function(Fe){for(var pe=st.value,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"format",pe,e.type.select,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),r.append(st),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_display_value_row",class:"rbroFormRow"}),this.rb.getLabel("docElementDisplayValue"),"rbro_doc_element_display_value"),r=n("div",{class:"rbroFormField"});var ct=n("input",{id:"rbro_doc_element_display_value",type:"checkbox"});ct.addEventListener("change",function(Fe){for(var pe=ct.checked,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"displayValue",pe,e.type.checkbox,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),r.append(ct),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_bar_width_row",class:"rbroFormRow"}),this.rb.getLabel("docElementBarWidth"),"rbro_doc_element_bar_width"),r=n("div",{class:"rbroFormField"});var it=n("input",{id:"rbro_doc_element_bar_width",type:"number",step:"0.1",autocomplete:"off"});it.addEventListener("input",function(Fe){var pe=it.value;pe!==""&&(pe=P(pe,.3,3)),pe!==it.value&&(it.value=pe);for(var J=s.rb.getSelectedObjects(),ge=!1,se=J.length-1;se>=0;se--)if(J[se].getValue("barWidth")!==pe){ge=!0;break}if(ge){for(var be=new le("Set value",s.rb),pt=J.length-1;pt>=0;pt--){var yt=J[pt];be.addSelection(yt.getId()),be.addCommand(new e(yt.getId(),"barWidth",pe,e.type.text,s.rb))}be.isEmpty()||s.rb.executeCommand(be)}}),r.append(it),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_guard_bar_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGuardBar"),"rbro_doc_element_guard_bar"),r=n("div",{class:"rbroFormField"});var tt=n("input",{id:"rbro_doc_element_guard_bar",type:"checkbox"});tt.addEventListener("change",function(Fe){for(var pe=tt.checked,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"guardBar",pe,e.type.checkbox,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),r.append(tt),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_rotate_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRotate"),"rbro_doc_element_rotate"),r=n("div",{class:"rbroFormField"});var Ct=n("input",{id:"rbro_doc_element_rotate",type:"checkbox"});Ct.addEventListener("change",function(Fe){for(var pe=Ct.checked,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"rotate",pe,e.type.checkbox,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),r.append(Ct),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_error_correction_level_row",class:"rbroFormRow"}),this.rb.getLabel("docElementErrorCorrectionLevel"),"rbro_doc_element_error_correction_level"),r=n("div",{class:"rbroFormField"});var vt=n("select",{id:"rbro_doc_element_error_correction_level"});vt.append(n("option",{value:"L"},this.rb.getLabel("docElementErrorCorrectionLevelLow"))),vt.append(n("option",{value:"M"},this.rb.getLabel("docElementErrorCorrectionLevelMedium"))),vt.append(n("option",{value:"Q"},this.rb.getLabel("docElementErrorCorrectionLevelQuartile"))),vt.append(n("option",{value:"H"},this.rb.getLabel("docElementErrorCorrectionLevelHigh"))),vt.addEventListener("change",function(Fe){for(var pe=vt.value,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"errorCorrectionLevel",pe,e.type.select,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),r.append(vt),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_source_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSource"),"rbro_doc_element_source"),r=n("div",{class:"rbroFormField"}),N=n("div",{class:"rbroSplit rbroSelector"});var jt=n("textarea",{id:"rbro_doc_element_source",rows:1});jt.addEventListener("input",function(Fe){for(var pe=jt.value,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"source",pe,e.type.text,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),ft(jt),N.append(jt),(p=n("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Fe){var pe=s.rb.getSelectedObjects(),J=pe.length===1?pe[0]:null;s.rb.getPopupWindow().show(s.rb.getParameterItems(J,[ne.type.image,ne.type.string]),null,"rbro_doc_element_source","source",Et.type.parameterSet)}),N.append(p),r.append(N),r.append(n("div",{id:"rbro_doc_element_source_error",class:"rbroErrorMessage"})),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_image_row",class:"rbroFormRow"}),this.rb.getLabel("docElementImageFile"),"rbro_doc_element_image"),r=n("div",{class:"rbroFormField"});var Ft=n("input",{id:"rbro_doc_element_image",type:"file"});Ft.addEventListener("change",function(Fe){var pe=s.rb,J=Fe.target.files;J&&J[0]&&z(J[0],function(ge,se){for(var be=new le("Load image",pe),pt=pe.getSelectedObjects(),yt=pt.length-1;yt>=0;yt--){var Ht=pt[yt];be.addSelection(Ht.getId()),be.addCommand(new e(Ht.getId(),"image",ge,e.type.file,pe)),be.addCommand(new e(Ht.getId(),"imageFilename",se,e.type.filename,pe))}be.isEmpty()||pe.executeCommand(be)},s.rb)}),r.append(Ft);var Ot=n("div",{id:"rbro_doc_element_image_filename_container",class:"rbroImageFile rbroHidden"});Ot.append(n("div",{id:"rbro_doc_element_image_filename"}));var Kt=n("div",{id:"rbro_doc_element_image_filename_clear",class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});Kt.addEventListener("click",function(Fe){Ft.value="";for(var pe=new le("Clear image",s.rb),J=s.rb.getSelectedObjects(),ge=J.length-1;ge>=0;ge--){var se=J[ge];pe.addSelection(se.getId()),pe.addCommand(new e(se.getId(),"image","",e.type.file,s.rb)),pe.addCommand(new e(se.getId(),"imageFilename","",e.type.filename,s.rb))}pe.isEmpty()||s.rb.executeCommand(pe)}),Ot.append(Kt),r.append(Ot),r.append(n("div",{id:"rbro_doc_element_image_error",class:"rbroErrorMessage"})),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_x_read_only_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPositionX"),"rbro_doc_element_x_read_only",{class:"rbroDisabled"}),r=n("div",{class:"rbroFormField"});var Zt=n("input",{id:"rbro_doc_element_x_read_only",disabled:"disabled"});r.append(Zt),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_position_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementPosition"),"rbro_doc_element_x",{id:"rbro_doc_element_position_label"}),r=n("div",{class:"rbroFormField"}),N=n("div",{class:"rbroSplit"});var Qt=n("input",{id:"rbro_doc_element_x",type:"number",autocomplete:"off"});Qt.addEventListener("input",function(Fe){for(var pe=Qt.value,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"x",pe,e.type.text,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),N.append(Qt);var Xt=n("input",{id:"rbro_doc_element_y",type:"number",autocomplete:"off"});Xt.addEventListener("input",function(Fe){for(var pe=Xt.value,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"y",pe,e.type.text,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),N.append(Xt),r.append(N),r.append(n("div",{id:"rbro_doc_element_position_error",class:"rbroErrorMessage"})),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_size_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementSize"),"rbro_doc_element_size",{id:"rbro_doc_element_size_label"}),r=n("div",{class:"rbroFormField"}),N=n("div",{class:"rbroSplit"});var Yt=n("input",{id:"rbro_doc_element_width",type:"number",autocomplete:"off"});Yt.addEventListener("input",function(Fe){for(var pe=Yt.value,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"width",pe,e.type.text,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),N.append(Yt);var xt=n("input",{id:"rbro_doc_element_height",type:"number",autocomplete:"off"});xt.addEventListener("input",function(Fe){for(var pe=xt.value,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"height",pe,e.type.text,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),N.append(xt),r.append(N),r.append(n("div",{id:"rbro_doc_element_size_error",class:"rbroErrorMessage"})),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_colspan_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColspan"),"rbro_doc_element_colspan"),r=n("div",{class:"rbroFormField"});var Vt=n("input",{id:"rbro_doc_element_colspan",type:"number",autocomplete:"off"});Vt.addEventListener("change",function(Fe){var pe=Vt.value.trim();pe!==""&&(pe=P(pe,1,9)),pe!==Vt.value&&(Vt.value=pe);for(var J=s.rb.getSelectedObjects(),ge=!1,se=J.length-1;se>=0;se--)if(J[se].getValue("colspan")!==pe){ge=!0;break}if(ge){for(var be=new le("Set value",s.rb),pt=J.length-1;pt>=0;pt--){var yt=J[pt];be.addSelection(yt.getId()),be.addCommand(new e(yt.getId(),"colspan",pe,e.type.text,s.rb))}be.isEmpty()||s.rb.executeCommand(be)}}),r.append(Vt),r.append(n("div",{id:"rbro_doc_element_colspan_error",class:"rbroErrorMessage"})),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_columns_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColumns"),"rbro_doc_element_columns"),r=n("div",{class:"rbroFormField"});var St=n("input",{id:"rbro_doc_element_columns",type:"number",autocomplete:"off"});St.addEventListener("change",function(Fe){var pe=P(St.value,1,99);pe!==St.value&&(St.value=pe);for(var J=A(pe),ge=s.rb.getSelectedObjects(),se=!1,be=!0,pt=ge.length-1;pt>=0;pt--){var yt=ge[pt];yt.getValue("columns")!==pe&&(se=!0),yt.hasEnoughAvailableSpace(J)||(be=!1)}if(be||ge.length!==1||(St.value=ge[0].getValue("columns")),se&&be){for(var Ht=new le("Set value",s.rb),Gr=ge.length-1;Gr>=0;Gr--){var yn=ge[Gr];Ht.addSelection(yn.getId()),yn.addCommandsForChangedColumns(J,Ht)}Ht.isEmpty()||s.rb.executeCommand(Ht)}}),r.append(St),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_header_row",class:"rbroFormRow"}),this.rb.getLabel("header"),"rbro_doc_element_header"),r=n("div",{class:"rbroFormField"});var er=n("label",{class:"switch-light switch-material"}),mt=n("input",{id:"rbro_doc_element_header",type:"checkbox"});mt.addEventListener("change",function(Fe){for(var pe=mt.checked,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"header",pe,e.type.checkbox,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),er.append(mt);var kt=n("span");kt.append(n("span")),kt.append(n("span")),kt.append(n("a")),er.append(kt),r.append(er),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_content_rows_row",class:"rbroFormRow"}),this.rb.getLabel("docElementContentRows"),"rbro_doc_element_content_rows"),r=n("div",{class:"rbroFormField"});var qt=n("input",{id:"rbro_doc_element_content_rows",type:"number",autocomplete:"off"});qt.addEventListener("change",function(Fe){var pe=P(qt.value,1,99),J=A(pe);pe!==qt.value&&(qt.value=pe);for(var ge=s.rb.getSelectedObjects(),se=!1,be=ge.length-1;be>=0;be--)if(ge[be].getValue("contentRows")!==pe){se=!0;break}if(se){for(var pt=new le("Set value",s.rb),yt=ge.length-1;yt>=0;yt--){var Ht=ge[yt];pt.addSelection(Ht.getId()),Ht.addCommandsForChangedContentRows(J,pt)}pt.isEmpty()||s.rb.executeCommand(pt)}}),r.append(qt),t.append(r),k.append(t),I(t=n("div",{id:"rbro_doc_element_footer_row",class:"rbroFormRow"}),this.rb.getLabel("footer"),"rbro_doc_element_footer"),r=n("div",{class:"rbroFormField"});var Jt=n("label",{class:"switch-light switch-material"}),zt=n("input",{id:"rbro_doc_element_footer",type:"checkbox"});zt.addEventListener("change",function(Fe){for(var pe=zt.checked,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"footer",pe,e.type.checkbox,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),Jt.append(zt);var _t=n("span");_t.append(n("span")),_t.append(n("span")),_t.append(n("a")),Jt.append(_t),r.append(Jt),t.append(r),k.append(t);var cr=n("div",{id:"rbro_doc_element_style_section_container"}),dr=n("div",{class:"rbroPanelSectionHeader"}),ar=n("span",{id:"rbro_doc_element_style_header_icon",class:"rbroIcon-minus"});(t=n("div",{id:"rbro_doc_element_style_header",class:"rbroFormRow rbroPanelSection rbroPanelSectionHeaderOpen"})).addEventListener("click",function(Fe){if(document.getElementById("rbro_doc_element_style_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_style_section").classList.toggle("rbroHidden"),ar.classList.toggle("rbroIcon-plus"),ar.classList.toggle("rbroIcon-minus"),ar.classList.contains("rbroIcon-minus")){var pe=document.getElementById("rbro_doc_element_style_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=pe}}),dr.append(ar),dr.append(n("span",{},this.rb.getLabel("docElementStyle"))),t.append(dr),cr.append(t);var ir=n("div",{id:"rbro_doc_element_style_section"});I(t=n("div",{id:"rbro_doc_element_color_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColor"),"rbro_doc_element_color"),r=n("div",{class:"rbroFormField"});var mr=n("div",{class:"rbroColorPickerContainer"}),lr=n("input",{id:"rbro_doc_element_color",autocomplete:"off"});lr.addEventListener("change",function(Fe){var pe=lr.value;if(K(pe)){for(var J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"color",pe,e.type.color,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}}),mr.append(lr),this.controls.color=X(mr,lr,!1,this.rb),r.append(mr),t.append(r),ir.append(t),I(t=n("div",{id:"rbro_doc_element_style_id_row",class:"rbroFormRow"}),this.rb.getLabel("docElementStyle"),"rbro_doc_element_style_id"),r=n("div",{class:"rbroFormField"}),this.elStyle=n("select",{id:"rbro_doc_element_style_id"}),this.elStyle.addEventListener("change",function(Fe){for(var pe=new le("Set value",s.rb),J=s.rb.getSelectedObjects(),ge=J.length-1;ge>=0;ge--){var se=J[ge];pe.addSelection(se.getId()),se.addCommandsForChangedStyle(s.elStyle.value,"",s.propertyDescriptors,pe)}pe.isEmpty()||s.rb.executeCommand(pe)}),r.append(this.elStyle),t.append(r),ir.append(t);var rt=n("div",{id:"rbro_doc_element_style_settings"});wr.renderStyle(rt,"doc_element_","",!0,this.controls,this.rb),ir.append(rt),cr.append(ir),k.append(cr);var he=n("div",{id:"rbro_doc_element_print_section_container"}),Q=n("div",{class:"rbroPanelSectionHeader"}),xe=n("span",{id:"rbro_doc_element_print_header_icon",class:"rbroIcon-plus"});(t=n("div",{id:"rbro_doc_element_print_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function(Fe){if(document.getElementById("rbro_doc_element_print_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_print_section").classList.toggle("rbroHidden"),xe.classList.toggle("rbroIcon-plus"),xe.classList.toggle("rbroIcon-minus"),xe.classList.contains("rbroIcon-minus")){var pe=document.getElementById("rbro_doc_element_print_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=pe}ft.update(document.getElementById("rbro_doc_element_print_if"))}),Q.append(xe),Q.append(n("span",{},this.rb.getLabel("docElementPrintSettings"))),t.append(Q),he.append(t);var me=n("div",{id:"rbro_doc_element_print_section",class:"rbroHidden"});I(t=n("div",{id:"rbro_doc_element_group_expression_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGroupExpression"),"rbro_doc_element_group_expression"),r=n("div",{class:"rbroFormField"}),N=n("div",{class:"rbroSplit rbroSelector"});var G=n("textarea",{id:"rbro_doc_element_group_expression",rows:1});G.addEventListener("input",function(Fe){for(var pe=G.value,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"groupExpression",pe,e.type.text,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),G.addEventListener("blur",function(Fe){s.rb.getPopupWindow().hide()}),ft(G),N.append(G),(p=n("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Fe){var pe=s.rb.getSelectedObjects(),J=pe.length===1?pe[0]:null;s.rb.getPopupWindow().show(s.rb.getParameterItems(J,null),null,"rbro_doc_element_group_expression","groupExpression",Et.type.parameterSet)}),N.append(p),r.append(N),r.append(n("div",{id:"rbro_doc_element_group_expression_error",class:"rbroErrorMessage"})),t.append(r),me.append(t),I(t=n("div",{id:"rbro_doc_element_page_break_row",class:"rbroFormRow"}),this.rb.getLabel("docElementTableBandPageBreak"),"rbro_doc_element_page_break"),r=n("div",{class:"rbroFormField"});var We=n("input",{id:"rbro_doc_element_page_break",type:"checkbox"});We.addEventListener("change",function(Fe){for(var pe=We.checked,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"pageBreak",pe,e.type.checkbox,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),r.append(We),t.append(r),me.append(t),I(t=n("div",{id:"rbro_doc_element_repeat_group_header_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRepeatGroupHeader"),"rbro_doc_element_repeat_group_header"),r=n("div",{class:"rbroFormField"});var Oe=n("input",{id:"rbro_doc_element_repeat_group_header",type:"checkbox"});Oe.addEventListener("change",function(Fe){for(var pe=Oe.checked,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"repeatGroupHeader",pe,e.type.checkbox,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),r.append(Oe),r.append(n("div",{id:"rbro_doc_element_repeat_group_header_error",class:"rbroErrorMessage"})),t.append(r),me.append(t),I(t=n("div",{id:"rbro_doc_element_print_if_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPrintIf"),"rbro_doc_element_print_if"),r=n("div",{class:"rbroFormField"}),N=n("div",{class:"rbroSplit rbroSelector"});var Sr=n("textarea",{id:"rbro_doc_element_print_if",rows:1});Sr.addEventListener("input",function(Fe){for(var pe=Sr.value,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"printIf",pe,e.type.text,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),ft(Sr),N.append(Sr),(p=n("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Fe){var pe=s.rb.getSelectedObjects(),J=pe.length===1?pe[0]:null;s.rb.getPopupWindow().show(s.rb.getParameterItems(J,null),null,"rbro_doc_element_print_if","printIf",Et.type.parameterAppend)}),N.append(p),r.append(N),r.append(n("div",{id:"rbro_doc_element_print_if_error",class:"rbroErrorMessage"})),t.append(r),me.append(t),I(t=n("div",{id:"rbro_doc_element_repeat_header_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRepeatHeader"),"rbro_doc_element_repeat_header"),r=n("div",{class:"rbroFormField"});var Dr=n("input",{id:"rbro_doc_element_repeat_header",type:"checkbox"});Dr.addEventListener("change",function(Fe){for(var pe=Dr.checked,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"repeatHeader",pe,e.type.checkbox,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),r.append(Dr),t.append(r),me.append(t),I(t=n("div",{id:"rbro_doc_element_remove_empty_element_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRemoveEmptyElement"),"rbro_doc_element_remove_empty_element"),r=n("div",{class:"rbroFormField"});var Lr=n("input",{id:"rbro_doc_element_remove_empty_element",type:"checkbox"});Lr.addEventListener("change",function(Fe){for(var pe=Lr.checked,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"removeEmptyElement",pe,e.type.checkbox,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),r.append(Lr),t.append(r),me.append(t),I(t=n("div",{id:"rbro_doc_element_always_print_on_same_page_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAlwaysPrintOnSamePage"),"rbro_doc_element_always_print_on_same_page"),r=n("div",{class:"rbroFormField"});var jr=n("input",{id:"rbro_doc_element_always_print_on_same_page",type:"checkbox"});jr.addEventListener("change",function(Fe){for(var pe=jr.checked,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"alwaysPrintOnSamePage",pe,e.type.checkbox,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),r.append(jr),r.append(n("div",{id:"rbro_doc_element_always_print_on_same_page_error",class:"rbroErrorMessage"})),t.append(r),me.append(t),I(t=n("div",{id:"rbro_doc_element_shrink_to_content_height_row",class:"rbroFormRow"}),this.rb.getLabel("docElementShrinkToContentHeight"),"rbro_doc_element_shrink_to_content_height"),r=n("div",{class:"rbroFormField"});var Rr=n("input",{id:"rbro_doc_element_shrink_to_content_height",type:"checkbox"});Rr.addEventListener("change",function(Fe){for(var pe=Rr.checked,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"shrinkToContentHeight",pe,e.type.checkbox,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),r.append(Rr),t.append(r),me.append(t),I(t=n("div",{id:"rbro_doc_element_align_to_page_bottom_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAlignToPageBottom"),"rbro_doc_element_align_to_page_bottom"),r=n("div",{class:"rbroFormField"});var Br=n("input",{id:"rbro_doc_element_align_to_page_bottom",type:"checkbox"});Br.addEventListener("change",function(Fe){for(var pe=Br.checked,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"alignToPageBottom",pe,e.type.checkbox,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),r.append(Br),t.append(r),me.append(t),I(t=n("div",{id:"rbro_doc_element_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPattern"),"rbro_doc_element_pattern"),r=n("div",{class:"rbroFormField"}),N=n("div",{class:"rbroSplit rbroSelector"});var Nr=n("input",{id:"rbro_doc_element_pattern",autocomplete:"off"});Nr.addEventListener("input",function(Fe){for(var pe=Nr.value,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"pattern",pe,e.type.text,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),N.append(Nr),(p=n("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Fe){s.rb.getPopupWindow().show(s.rb.getPatterns(),null,"rbro_doc_element_pattern","pattern",Et.type.pattern)}),N.append(p),r.append(N),r.append(n("div",{id:"rbro_doc_element_pattern_error",class:"rbroErrorMessage"})),t.append(r),me.append(t),I(t=n("div",{id:"rbro_doc_element_link_row",class:"rbroFormRow"}),this.rb.getLabel("docElementLink"),"rbro_doc_element_link"),r=n("div",{class:"rbroFormField"}),N=n("div",{class:"rbroSplit rbroSelector"});var Mr=n("input",{id:"rbro_doc_element_link",autocomplete:"off"});Mr.addEventListener("input",function(Fe){for(var pe=Mr.value,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"link",pe,e.type.text,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),N.append(Mr),(p=n("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Fe){var pe=s.rb.getSelectedObjects(),J=pe.length===1?pe[0]:null;s.rb.getPopupWindow().show(s.rb.getParameterItems(J,null),null,"rbro_doc_element_link","link",Et.type.parameterSet)}),N.append(p),r.append(N),r.append(n("div",{id:"rbro_doc_element_link_error",class:"rbroErrorMessage"})),t.append(r),me.append(t),I(t=n("div",{id:"rbro_doc_element_grow_weight_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGrowWeight"),"rbro_doc_element_grow_weight"),r=n("div",{class:"rbroFormField"});var pr=n("select",{id:"rbro_doc_element_grow_weight"});pr.append(n("option",{value:"0"},"-")),pr.append(n("option",{value:"1"},"1 (".concat(this.rb.getLabel("docElementGrowWeightLow"),")"))),pr.append(n("option",{value:"2"},"2")),pr.append(n("option",{value:"3"},"3 (".concat(this.rb.getLabel("docElementGrowWeightHigh"),")"))),pr.addEventListener("change",function(Fe){for(var pe=pr.value,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"growWeight",pe,e.type.select,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),r.append(pr),r.append(n("div",{class:"rbroInfo"},this.rb.getLabel("docElementGrowWeightInfo"))),t.append(r),me.append(t),he.append(me),k.append(he);var Fr=n("div",{id:"rbro_doc_element_cs_style_section_container"}),Vr=n("div",{class:"rbroPanelSectionHeader"}),kr=n("span",{id:"rbro_doc_element_cs_style_header_icon",class:"rbroIcon-plus"});(t=n("div",{id:"rbro_doc_element_cs_style_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function(Fe){if(document.getElementById("rbro_doc_element_cs_style_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_cs_style_section").classList.toggle("rbroHidden"),kr.classList.toggle("rbroIcon-plus"),kr.classList.toggle("rbroIcon-minus"),kr.classList.contains("rbroIcon-minus")){var pe=document.getElementById("rbro_doc_element_cs_style_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=pe}}),Vr.append(kr),Vr.append(n("span",{},this.rb.getLabel("docElementConditionalStyle"))),t.append(Vr),Fr.append(t);var Er=n("div",{id:"rbro_doc_element_cs_style_section",class:"rbroHidden"});I(t=n("div",{id:"rbro_doc_element_cs_condition_row",class:"rbroFormRow"}),this.rb.getLabel("docElementConditionalStyleCondition"),"rbro_doc_element_cs_condition"),r=n("div",{class:"rbroFormField"}),N=n("div",{class:"rbroSplit rbroSelector"});var Pr=n("textarea",{id:"rbro_doc_element_cs_condition",rows:1});Pr.addEventListener("input",function(Fe){for(var pe=Pr.value,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"cs_condition",pe,e.type.text,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),ft(Pr),N.append(Pr),(p=n("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Fe){var pe=s.rb.getSelectedObjects(),J=pe.length===1?pe[0]:null;s.rb.getPopupWindow().show(s.rb.getParameterItems(J,null),null,"rbro_doc_element_cs_condition","cs_condition",Et.type.parameterAppend)}),N.append(p),r.append(N),r.append(n("div",{id:"rbro_doc_element_cs_condition_error",class:"rbroErrorMessage"})),t.append(r),Er.append(t),I(t=n("div",{id:"rbro_doc_element_cs_style_id_row",class:"rbroFormRow"}),this.rb.getLabel("docElementStyle"),"rbro_doc_element_cs_style_id"),r=n("div",{class:"rbroFormField"}),this.elCsStyle=n("select",{id:"rbro_doc_element_cs_style_id"}),this.elCsStyle.addEventListener("change",function(Fe){for(var pe=s.elCsStyle.value,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),be.addCommandsForChangedStyle(pe,"cs_",s.propertyDescriptors,J)}J.isEmpty()||s.rb.executeCommand(J)}),r.append(this.elCsStyle),t.append(r),Er.append(t),I(t=n("div",{id:"rbro_doc_element_cs_additional_rules_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAdditionalRules")),r=n("div",{class:"rbroFormField"});var Or=n("button",{id:"rbro_doc_element_cs_additional_rules",class:"rbroButton rbroActionButton"});Or.append(n("span",{},this.rb.getLabel("editData"))),Or.append(n("span",{class:"rbroIcon-edit"})),Or.addEventListener("click",function(Fe){var pe=s.rb.getSelectedObjects();if(pe.length===1){var J=pe[0],ge=[{name:"condition",label:s.rb.getLabel("docElementConditionalStyleCondition"),type:ne.type.string,parameter:null,attributes:{multiLine:!0}},{name:"style_id",label:s.rb.getLabel("docElementStyle"),type:ne.type.string,parameter:null,attributes:{select:"style"}}],se=[];if(J.getValue("cs_additionalRules"))try{se=JSON.parse(J.getValue("cs_additionalRules"))}catch(be){}s.rb.getPopupWindow().show(null,J.getId(),"","cs_additionalRules",Et.type.data,null,null,ne.type.array,ge,se)}else pe.length>1&&alert(s.rb.getLabel("docElementEditMultipleSelectionNotSupported"))}),r.append(Or),r.append(n("div",{id:"rbro_doc_element_cs_additional_rules_error",class:"rbroErrorMessage"})),t.append(r),Er.append(t);var mn=n("div",{id:"rbro_doc_element_cs_style_settings"});wr.renderStyle(mn,"doc_element_cs_","cs_",!1,this.controls,this.rb),Er.append(mn),Fr.append(Er),k.append(Fr);var Ar=n("div",{id:"rbro_doc_element_spreadsheet_section_container"}),qr=n("div",{class:"rbroPanelSectionHeader"}),Tr=n("span",{id:"rbro_doc_element_spreadsheet_header_icon",class:"rbroIcon-plus"});(t=n("div",{id:"rbro_doc_element_spreadsheet_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function(Fe){if(document.getElementById("rbro_doc_element_spreadsheet_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_spreadsheet_section").classList.toggle("rbroHidden"),Tr.classList.toggle("rbroIcon-plus"),Tr.classList.toggle("rbroIcon-minus"),Tr.classList.contains("rbroIcon-minus")){var pe=document.getElementById("rbro_doc_element_spreadsheet_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=pe}}),qr.append(Tr),qr.append(n("span",{},this.rb.getLabel("docElementSpreadsheet"))),t.append(qr),Ar.append(t);var yr=n("div",{id:"rbro_doc_element_spreadsheet_section",class:"rbroHidden"});I(t=n("div",{id:"rbro_doc_element_spreadsheet_hide_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetHide"),"rbro_doc_element_spreadsheet_hide"),r=n("div",{class:"rbroFormField"});var zr=n("input",{id:"rbro_doc_element_spreadsheet_hide",type:"checkbox"});zr.addEventListener("change",function(Fe){for(var pe=zr.checked,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"spreadsheet_hide",pe,e.type.checkbox,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),r.append(zr),t.append(r),yr.append(t),I(t=n("div",{id:"rbro_doc_element_spreadsheet_column_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetColumn"),"rbro_doc_element_spreadsheet_column"),r=n("div",{class:"rbroFormField"});var Ir=n("input",{id:"rbro_doc_element_spreadsheet_column",type:"number",autocomplete:"off"});Ir.addEventListener("input",function(Fe){var pe=Ir.value;pe!==""&&(pe=P(pe,1,99)),pe!==Ir.value&&(Ir.value=pe);for(var J=s.rb.getSelectedObjects(),ge=!1,se=J.length-1;se>=0;se--)if(J[se].getValue("spreadsheet_column")!==pe){ge=!0;break}if(ge){for(var be=new le("Set value",s.rb),pt=J.length-1;pt>=0;pt--){var yt=J[pt];be.addSelection(yt.getId()),be.addCommand(new e(yt.getId(),"spreadsheet_column",pe,e.type.text,s.rb))}be.isEmpty()||s.rb.executeCommand(be)}}),r.append(Ir),r.append(n("div",{id:"rbro_doc_element_spreadsheet_column_error",class:"rbroErrorMessage"})),t.append(r),yr.append(t),I(t=n("div",{id:"rbro_doc_element_spreadsheet_colspan_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetColspan"),"rbro_doc_element_spreadsheet_colspan"),r=n("div",{class:"rbroFormField"});var Hr=n("input",{id:"rbro_doc_element_spreadsheet_colspan",type:"number",autocomplete:"off"});Hr.addEventListener("input",function(Fe){for(var pe=Hr.value,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"spreadsheet_colspan",pe,e.type.text,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),r.append(Hr),r.append(n("div",{id:"rbro_doc_element_spreadsheet_colspan_error",class:"rbroErrorMessage"})),t.append(r),yr.append(t),I(t=n("div",{id:"rbro_doc_element_spreadsheet_add_empty_row_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetAddEmptyRow"),"rbro_doc_element_spreadsheet_add_empty_row"),r=n("div",{class:"rbroFormField"});var Wr=n("input",{id:"rbro_doc_element_spreadsheet_add_empty_row",type:"checkbox"});Wr.addEventListener("change",function(Fe){for(var pe=Wr.checked,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"spreadsheet_addEmptyRow",pe,e.type.checkbox,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),r.append(Wr),t.append(r),yr.append(t),I(t=n("div",{id:"rbro_doc_element_spreadsheet_text_wrap_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetTextWrap"),"rbro_doc_element_spreadsheet_text_wrap"),r=n("div",{class:"rbroFormField"});var Ur=n("input",{id:"rbro_doc_element_spreadsheet_text_wrap",type:"checkbox"});Ur.addEventListener("change",function(Fe){for(var pe=Ur.checked,J=new le("Set value",s.rb),ge=s.rb.getSelectedObjects(),se=ge.length-1;se>=0;se--){var be=ge[se];J.addSelection(be.getId()),J.addCommand(new e(be.getId(),"spreadsheet_textWrap",pe,e.type.checkbox,s.rb))}J.isEmpty()||s.rb.executeCommand(J)}),r.append(Ur),t.append(r),yr.append(t),Ar.append(yr),this.rb.getProperty("enableSpreadsheet")||(Ar.style.display="none"),k.append(Ar),document.getElementById("rbro_detail_panel").append(k),this.rb.getProperty("showPlusFeatures")&&this.setupRichText()}},{key:"renderStyleSelect",value:function(){B(this.elStyle,null,this.rb),B(this.elCsStyle,null,this.rb)}},{key:"setupRichText",value:function(){var t=this,r=fr().import("formats/link"),p=r.sanitize;r.sanitize=function(Pe){var Ee=Pe;return/^\w+:/.test(Ee)||Ee.startsWith("${")?Ee:(/^https?:/.test(Ee)||(Ee=Ee.startsWith("/")?"http:"+Ee:"http://"+Ee),p.call(this,Ee))},document.getElementById("rbro_doc_element_rich_text_content_toolbar_parameter").addEventListener("click",function(Pe){var Ee=t.rb.getSelectedObjects(),Te=Ee.length===1?Ee[0]:null;t.rb.getPopupWindow().show(t.rb.getParameterItems(Te,null),null,"rbro_doc_element_rich_text_content","richTextContent",Et.type.parameterAppend,t.quill)});var s,k=fr().import("formats/font"),x=[],N=Lt(this.rb.getFonts());try{for(N.s();!(s=N.n()).done;){var H=s.value;x.push(H.value)}}catch(Pe){N.e(Pe)}finally{N.f()}k.whitelist=x,fr().register(k,!0);var ee,oe=fr().import("attributors/style/size"),te=[],_e=Lt(this.rb.getProperty("fontSizes"));try{for(_e.s();!(ee=_e.n()).done;){var de=ee.value;te.push(de+"px")}}catch(Pe){_e.e(Pe)}finally{_e.f()}oe.whitelist=te,fr().register(oe,!0);var Ie=new(fr())("#rbro_doc_element_rich_text_content",{modules:{toolbar:"#rbro_doc_element_rich_text_content_toolbar"},placeholder:"",theme:"snow"});Ie.getModule("toolbar").addHandler("color",function(Pe){Pe==="clear-color"?Ie.format("color",""):Ie.format("color",Pe)}),Ie.getModule("toolbar").addHandler("background",function(Pe){Pe==="clear-color"?Ie.format("background",""):Ie.format("background",Pe)});var Ae=this.rb;Ie.on("text-change",function(Pe,Ee,Te){for(var He=Ie.getContents(),De=Ie.root.innerHTML,Ve=new le("Set value",Ae),Qe=Ae.getSelectedObjects(),Ke=Qe.length-1;Ke>=0;Ke--){var Ue=Qe[Ke];Ve.addSelection(Ue.getId()),Ve.addCommand(new e(Ue.getId(),"richTextContent",He,e.type.richText,Ae)),Ve.addCommand(new e(Ue.getId(),"richTextHtml",De,e.type.text,Ae))}Ve.isEmpty()||Ae.executeCommand(Ve)}),this.quill=Ie}},{key:"destroy",value:function(){this.controls.color.destroy(),wr.destroyStyle("",this.controls),wr.destroyStyle("cs_",this.controls)}},{key:"updateDisplay",value:function(t){var r,p=this.rb.getSelectedObjects(),s={},k={},x=Lt(p);try{for(x.s();!(r=x.n()).done;){var N,H=Lt(r.value.getProperties());try{for(H.s();!(N=H.n()).done;){var ee=N.value;ee in k?k[ee]+=1:k[ee]=1}}catch(it){H.e(it)}finally{H.f()}}}catch(it){x.e(it)}finally{x.f()}for(var oe in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(oe)){var te=this.propertyDescriptors[oe],_e="";if("visibleIf"in te&&(_e=te.visibleIf),t===null||oe===t||_e&&te.visibleIfFields.includes(t)){var de=!1;if(oe in k)if(k[oe]===p.length){var Ie,Ae=null,Pe=!1,Ee=Lt(p);try{for(Ee.s();!(Ie=Ee.n()).done;){var Te=Ie.value,He=Te.getUpdateValue(oe,Te.getValue(oe));if(Ae===null)Ae=He;else if(te.type===e.type.richText){if(He&&Ae&&new(sn())(He).diff(new(sn())(Ae)).ops.length>0){Pe=!0;break}}else if(He!==Ae){Pe=!0;break}}}catch(it){Ee.e(it)}finally{Ee.f()}if(Pe&&te.type===e.type.select&&te.allowEmpty&&(Ae=""),a(b(_.prototype),"setValue",this).call(this,te,Ae,Pe),"section"in te){var De=te.section;De in s?s[De]+=1:s[De]=1}de=!0}else delete k[oe];if(de&&_e){var Ve,Qe=Lt(p);try{for(Qe.s();!(Ve=Qe.n()).done;)if(!ie(_e,Ve.value)){de=!1,delete k[oe];break}}catch(it){Qe.e(it)}finally{Qe.f()}}if("singleRowProperty"in te&&!te.singleRowProperty){var Ke="rbro_doc_element_".concat(te.fieldId);de?document.getElementById(Ke).classList.remove("rbroHidden"):document.getElementById(Ke).classList.add("rbroHidden")}else{var Ue=this.getRowId(te);de?document.getElementById(Ue).classList.remove("rbroHidden"):document.getElementById(Ue).classList.add("rbroHidden")}}}if(t===null||this.visibleIfFields.includes(t)){for(var Ye in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(Ye)){var ve=this.propertyDescriptors[Ye];if("rowId"in ve&&"rowProperties"in ve){var ze,ke=0,Ce=Lt(ve.rowProperties);try{for(Ce.s();!(ze=Ce.n()).done;)ze.value in k&&ke++}catch(it){Ce.e(it)}finally{Ce.f()}if("labelId"in ve){var Ze=ve.defaultLabel;if(ke===1){var nt,et=Lt(ve.rowProperties);try{for(et.s();!(nt=et.n()).done;){var dt=nt.value;if(dt in k){Ze=this.propertyDescriptors[dt].singlePropertyLabel;break}}}catch(it){et.e(it)}finally{et.f()}}document.getElementById(ve.labelId).textContent=this.rb.getLabel(Ze)+":"}ke>0?document.getElementById(ve.rowId).classList.remove("rbroHidden"):document.getElementById(ve.rowId).classList.add("rbroHidden")}}for(var ut=0,st=["style","print","cs_style","spreadsheet"];ut<st.length;ut++){var ct=st[ut];ct in s?document.getElementById("rbro_doc_element_".concat(ct,"_section_container")).classList.remove("rbroHidden"):document.getElementById("rbro_doc_element_".concat(ct,"_section_container")).classList.add("rbroHidden")}}_.updateAutosizeInputs(t)}},{key:"show",value:function(){this.renderStyleSelect(),a(b(_.prototype),"show",this).call(this)}},{key:"notifyEvent",value:function(t,r,p){t instanceof $?(r===h.operation.add||r===h.operation.remove||r===h.operation.move||r===h.operation.change&&p==="name")&&this.renderStyleSelect():a(b(_.prototype),"notifyEvent",this).call(this,t,r,p)}}],[{key:"updateAutosizeInputs",value:function(t){t!==null&&t!=="dataSource"||ft.update(document.getElementById("rbro_doc_element_data_source")),t!==null&&t!=="content"||ft.update(document.getElementById("rbro_doc_element_content")),t!==null&&t!=="source"||ft.update(document.getElementById("rbro_doc_element_source")),t!==null&&t!=="groupExpression"||ft.update(document.getElementById("rbro_doc_element_group_expression")),t!==null&&t!=="printIf"||ft.update(document.getElementById("rbro_doc_element_print_if")),t!==null&&t!=="cs_condition"||ft.update(document.getElementById("rbro_doc_element_cs_condition"))}}]),_}(xr),Cn=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r){var p;return Y(this,_),(p=m.call(this,"rbro_document_properties",Mt,t,r)).propertyDescriptors={pageFormat:{type:e.type.text,fieldId:"page_format",rowId:"rbro_document_properties_page_row",errorMsgId:"rbro_document_properties_page_error"},pageWidth:{type:e.type.text,fieldId:"page_width",rowId:"rbro_document_properties_page_row",errorMsgId:"rbro_document_properties_page_error"},pageHeight:{type:e.type.text,fieldId:"page_height",rowId:"rbro_document_properties_page_row",errorMsgId:"rbro_document_properties_page_error"},unit:{type:e.type.select,fieldId:"unit",rowId:"rbro_document_properties_page_row",errorMsgId:"rbro_document_properties_page_error"},orientation:{type:e.type.select,fieldId:"orientation"},contentHeight:{type:e.type.text,fieldId:"content_height"},marginLeft:{type:e.type.text,fieldId:"page_margin_left"},marginTop:{type:e.type.text,fieldId:"page_margin_top"},marginRight:{type:e.type.text,fieldId:"page_margin_right"},marginBottom:{type:e.type.text,fieldId:"page_margin_bottom"},header:{type:e.type.checkbox,fieldId:"header"},headerSize:{type:e.type.text,fieldId:"header_size"},headerDisplay:{type:e.type.select,fieldId:"header_display"},footer:{type:e.type.checkbox,fieldId:"footer"},footerSize:{type:e.type.text,fieldId:"footer_size"},footerDisplay:{type:e.type.select,fieldId:"footer_display"},patternLocale:{type:e.type.select,fieldId:"pattern_locale"},patternCurrencySymbol:{type:e.type.text,fieldId:"pattern_currency_symbol"},patternNumberGroupSymbol:{type:e.type.text,fieldId:"pattern_number_group_symbol"}},p}return S(_,[{key:"render",value:function(t){var r=this,p=n("div",{id:"rbro_document_properties_panel",class:"rbroHidden"}),s=n("div",{id:"rbro_document_properties_page_row",class:"rbroFormRow"});I(s,this.rb.getLabel("pageFormat"),"rbro_document_properties_page_format");var k=n("div",{class:"rbroFormField"}),x=n("select",{id:"rbro_document_properties_page_format"});x.append(n("option",{value:"A4"},this.rb.getLabel("pageFormatA4"))),x.append(n("option",{value:"A5"},this.rb.getLabel("pageFormatA5"))),x.append(n("option",{value:"letter"},this.rb.getLabel("pageFormatLetter"))),x.append(n("option",{value:"user_defined"},this.rb.getLabel("pageFormatUserDefined"))),x.addEventListener("change",function(Pe){var Ee=r.rb.getSelectedObject();if(Ee!==null){var Te=new e(Ee.getId(),"pageFormat",x.value,e.type.select,r.rb);r.rb.executeCommand(Te)}}),k.append(x);var N=n("div",{id:"rbro_document_properties_page_size_row",class:"rbroTripleSplit"}),H=n("input",{id:"rbro_document_properties_page_width",maxlength:"5",type:"number",autocomplete:"off"});H.addEventListener("change",function(Pe){var Ee=r.rb.getSelectedObject();if(Ee!==null){var Te=new e(Ee.getId(),"pageWidth",H.value,e.type.select,r.rb);r.rb.executeCommand(Te)}}),T(H),N.append(H);var ee=n("input",{id:"rbro_document_properties_page_height",maxlength:"5",type:"number",autocomplete:"off"});ee.addEventListener("change",function(Pe){var Ee=r.rb.getSelectedObject();if(Ee!==null){var Te=new e(Ee.getId(),"pageHeight",ee.value,e.type.text,r.rb);r.rb.executeCommand(Te)}}),T(ee),N.append(ee);var oe=n("select",{id:"rbro_document_properties_unit"});oe.append(n("option",{value:"mm"},"mm")),oe.append(n("option",{value:"inch"},"inch")),N.addEventListener("change",function(Pe){var Ee=r.rb.getSelectedObject();if(Ee!==null){var Te=new e(Ee.getId(),"unit",oe.value,e.type.select,r.rb);r.rb.executeCommand(Te)}}),N.append(oe),k.append(N),k.append(n("div",{id:"rbro_document_properties_page_error",class:"rbroErrorMessage"})),s.append(k),p.append(s),I(s=n("div",{class:"rbroFormRow"}),this.rb.getLabel("orientation"),"rbro_document_properties_orientation"),k=n("div",{class:"rbroFormField"});var te=n("select",{id:"rbro_document_properties_orientation"});te.append(n("option",{value:"portrait"},this.rb.getLabel("orientationPortrait"))),te.append(n("option",{value:"landscape"},this.rb.getLabel("orientationLandscape"))),te.addEventListener("change",function(Pe){var Ee=r.rb.getSelectedObject();if(Ee!==null){var Te=new e(Ee.getId(),"orientation",te.value,e.type.select,r.rb);r.rb.executeCommand(Te)}}),k.append(te),s.append(k),p.append(s),I(s=n("div",{class:"rbroFormRow"}),this.rb.getLabel("contentHeight"),"rbro_document_properties_content_height"),k=n("div",{class:"rbroFormField"});var _e=n("input",{id:"rbro_document_properties_content_height",type:"number",autocomplete:"off"});_e.addEventListener("change",function(Pe){var Ee=r.rb.getSelectedObject();if(Ee!==null){var Te=new e(Ee.getId(),"contentHeight",_e.value,e.type.text,r.rb);r.rb.executeCommand(Te)}}),T(_e),k.append(_e),k.append(n("div",{class:"rbroInfo"},this.rb.getLabel("contentHeightInfo"))),s.append(k),p.append(s),this.renderMarginControls(p),this.renderHeaderFooter(p),I(s=n("div",{class:"rbroFormRow"}),this.rb.getLabel("patternLocale"),"rbro_document_properties_pattern_locale"),k=n("div",{class:"rbroFormField"});var de=n("select",{id:"rbro_document_properties_pattern_locale"});de.append(n("option",{value:"de"},"de")),de.append(n("option",{value:"en"},"en")),de.append(n("option",{value:"es"},"es")),de.append(n("option",{value:"fr"},"fr")),de.append(n("option",{value:"it"},"it")),de.addEventListener("change",function(Pe){var Ee=r.rb.getSelectedObject();if(Ee!==null){var Te=new e(Ee.getId(),"patternLocale",de.value,e.type.select,r.rb);r.rb.executeCommand(Te)}}),k.append(de),s.append(k),p.append(s),I(s=n("div",{class:"rbroFormRow"}),this.rb.getLabel("patternCurrencySymbol"),"rbro_document_properties_pattern_currency_symbol"),k=n("div",{class:"rbroFormField"});var Ie=n("input",{id:"rbro_document_properties_pattern_currency_symbol",autocomplete:"off"});Ie.addEventListener("change",function(Pe){var Ee=r.rb.getSelectedObject();if(Ee!==null){var Te=new e(Ee.getId(),"patternCurrencySymbol",Ie.value,e.type.text,r.rb);r.rb.executeCommand(Te)}}),k.append(Ie),s.append(k),p.append(s),I(s=n("div",{class:"rbroFormRow"}),this.rb.getLabel("patternNumberGroupSymbol"),"rbro_document_properties_pattern_number_group_symbol"),k=n("div",{class:"rbroFormField"});var Ae=n("input",{id:"rbro_document_properties_pattern_number_group_symbol",maxlength:"1",autocomplete:"off"});Ae.addEventListener("change",function(Pe){var Ee=r.rb.getSelectedObject();if(Ee!==null){var Te=new e(Ee.getId(),"patternNumberGroupSymbol",Ae.value,e.type.text,r.rb);r.rb.executeCommand(Te)}}),k.append(Ae),k.append(n("div",{class:"rbroInfo"},this.rb.getLabel("patternNumberGroupSymbolInfo"))),s.append(k),p.append(s),document.getElementById("rbro_detail_panel").append(p)}},{key:"renderMarginControls",value:function(t){var r=this,p=n("div",{class:"rbroFormRow"});I(p,this.rb.getLabel("pageMargins"),"rbro_document_properties_page_margin_top");var s=n("div",{class:"rbroFormField rbroSmallInput"}),k=n("div",{class:"rbroColumnCenter"}),x=n("input",{id:"rbro_document_properties_page_margin_top",placeholder:this.rb.getLabel("orientationTop"),type:"number",autocomplete:"off"});x.addEventListener("change",function(_e){var de=r.rb.getSelectedObject();if(de!==null){var Ie=new e(de.getId(),"marginTop",x.value,e.type.text,r.rb);r.rb.executeCommand(Ie)}}),T(x),k.append(x),s.append(k);var N=n("div",{class:"rbroSplit"}),H=n("input",{id:"rbro_document_properties_page_margin_left",placeholder:this.rb.getLabel("orientationLeft"),type:"number",autocomplete:"off"});H.addEventListener("change",function(_e){var de=r.rb.getSelectedObject();if(de!==null){var Ie=new e(de.getId(),"marginLeft",H.value,e.type.text,r.rb);r.rb.executeCommand(Ie)}}),T(H),N.append(H);var ee=n("input",{id:"rbro_document_properties_page_margin_right",placeholder:this.rb.getLabel("orientationRight"),type:"number",autocomplete:"off"});ee.addEventListener("change",function(_e){var de=r.rb.getSelectedObject();if(de!==null){var Ie=new e(de.getId(),"marginRight",ee.value,e.type.text,r.rb);r.rb.executeCommand(Ie)}}),T(ee),N.append(ee),s.append(N);var oe=n("div",{class:"rbroColumnCenter"}),te=n("input",{id:"rbro_document_properties_page_margin_bottom",placeholder:this.rb.getLabel("orientationBottom"),type:"number",autocomplete:"off"});te.addEventListener("change",function(_e){var de=r.rb.getSelectedObject();if(de!==null){var Ie=new e(de.getId(),"marginBottom",te.value,e.type.text,r.rb);r.rb.executeCommand(Ie)}}),T(te),oe.append(te),s.append(oe),p.append(s),t.append(p)}},{key:"renderHeaderFooter",value:function(t){var r=this,p=n("div",{class:"rbroFormRowContainer"}),s=n("div",{class:"rbroFormRow"});I(s,this.rb.getLabel("header"),"rbro_document_properties_header");var k=n("div",{class:"rbroFormField"}),x=n("label",{class:"switch-light switch-material"}),N=n("input",{id:"rbro_document_properties_header",type:"checkbox"});N.addEventListener("change",function(He){var De=r.rb.getSelectedObject();if(De!==null){var Ve=new e(De.getId(),"header",N.checked,e.type.checkbox,r.rb);r.rb.executeCommand(Ve)}}),x.append(N);var H=n("span");H.append(n("span")),H.append(n("span")),H.append(n("a")),x.append(H),k.append(x),s.append(k),p.append(s);var ee=n("div",{id:"rbro_document_properties_header_settings"});I(s=n("div",{class:"rbroFormRow"}),this.rb.getLabel("headerSize"),"rbro_document_properties_header_size"),k=n("div",{class:"rbroFormField"});var oe=n("input",{id:"rbro_document_properties_header_size",type:"number",autocomplete:"off"});oe.addEventListener("change",function(He){var De=r.rb.getSelectedObject();if(De!==null){var Ve=new e(De.getId(),"headerSize",oe.value,e.type.text,r.rb);r.rb.executeCommand(Ve)}}),T(oe),k.append(oe),s.append(k),ee.append(s),I(s=n("div",{class:"rbroFormRow"}),this.rb.getLabel("headerDisplay"),"rbro_document_properties_header_display"),k=n("div",{class:"rbroFormField"});var te=n("select",{id:"rbro_document_properties_header_display"});te.append(n("option",{value:"always"},this.rb.getLabel("headerFooterDisplayAlways"))),te.append(n("option",{value:"not_on_first_page"},this.rb.getLabel("headerFooterDisplayNotOnFirstPage"))),te.addEventListener("change",function(He){var De=r.rb.getSelectedObject();if(De!==null){var Ve=new e(De.getId(),"headerDisplay",te.value,e.type.select,r.rb);r.rb.executeCommand(Ve)}}),k.append(te),s.append(k),ee.append(s),p.append(ee),t.append(p);var _e=n("div",{class:"rbroFormRowContainer"});I(s=n("div",{class:"rbroFormRow"}),this.rb.getLabel("footer"),"rbro_document_properties_footer"),k=n("div",{class:"rbroFormField"});var de=n("label",{class:"switch-light switch-material"}),Ie=n("input",{id:"rbro_document_properties_footer",type:"checkbox"});Ie.addEventListener("change",function(He){var De=r.rb.getSelectedObject();if(De!==null){var Ve=new e(De.getId(),"footer",Ie.checked,e.type.checkbox,r.rb);r.rb.executeCommand(Ve)}}),de.append(Ie);var Ae=n("span");Ae.append(n("span")),Ae.append(n("span")),Ae.append(n("a")),de.append(Ae),k.append(de),s.append(k),_e.append(s);var Pe=n("div",{id:"rbro_document_properties_footer_settings"});I(s=n("div",{class:"rbroFormRow"}),this.rb.getLabel("footerSize"),"rbro_document_properties_footer_size"),k=n("div",{class:"rbroFormField"});var Ee=n("input",{id:"rbro_document_properties_footer_size",type:"number",autocomplete:"off"});Ee.addEventListener("change",function(He){var De=r.rb.getSelectedObject();if(De!==null){var Ve=new e(De.getId(),"footerSize",Ee.value,e.type.text,r.rb);r.rb.executeCommand(Ve)}}),T(Ee),k.append(Ee),s.append(k),Pe.append(s),I(s=n("div",{class:"rbroFormRow"}),this.rb.getLabel("footerDisplay"),"rbro_document_properties_footer_display"),k=n("div",{class:"rbroFormField"});var Te=n("select",{id:"rbro_document_properties_footer_display"});Te.append(n("option",{value:"always"},this.rb.getLabel("headerFooterDisplayAlways"))),Te.append(n("option",{value:"not_on_first_page"},this.rb.getLabel("headerFooterDisplayNotOnFirstPage"))),Te.addEventListener("change",function(He){var De=r.rb.getSelectedObject();if(De!==null){var Ve=new e(De.getId(),"footerDisplay",Te.value,e.type.select,r.rb);r.rb.executeCommand(Ve)}}),k.append(Te),s.append(k),Pe.append(s),_e.append(Pe),t.append(_e)}},{key:"updateDisplay",value:function(t){var r=this.rb.getSelectedObject();if(r!==null&&r instanceof Mt){for(var p in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(p)&&(t===null||p===t)){var s=this.propertyDescriptors[p],k=r.getValue(p);a(b(_.prototype),"setValue",this).call(this,s,k,!1)}_.updateVisibileRows(r,t)}}}],[{key:"updateVisibileRows",value:function(t,r){r!==null&&r!=="pageFormat"||(t.getValue("pageFormat")===Mt.pageFormat.userDefined?document.getElementById("rbro_document_properties_page_size_row").style.display="flex":document.getElementById("rbro_document_properties_page_size_row").style.display="none"),r!==null&&r!=="header"||(t.getValue("header")?document.getElementById("rbro_document_properties_header_settings").style.display="block":document.getElementById("rbro_document_properties_header_settings").style.display="none"),r!==null&&r!=="footer"||(t.getValue("footer")?document.getElementById("rbro_document_properties_footer_settings").style.display="block":document.getElementById("rbro_document_properties_footer_settings").style.display="none")}}]),_}(xr),xn=function(){function C(i,d){Y(this,C),this.rootElement=i,this.rb=d}return S(C,[{key:"render",value:function(){var i=n("div",{id:"rbro_empty_detail_panel",class:"rbroEmptyDetailPanel rbroHidden"});i.append(n("div",{class:"rbroLogo"})),document.getElementById("rbro_detail_panel").append(i)}},{key:"destroy",value:function(){}},{key:"show",value:function(i){document.getElementById("rbro_empty_detail_panel").classList.remove("rbroHidden")}},{key:"hide",value:function(){document.getElementById("rbro_empty_detail_panel").classList.add("rbroHidden")}},{key:"isKeyEventDisabled",value:function(){return!1}},{key:"notifyEvent",value:function(i,d){}},{key:"updateErrors",value:function(){}}]),C}();function cn(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(s,k){if(s){if(typeof s=="string")return dn(s,k);var x=Object.prototype.toString.call(s).slice(8,-1);return x==="Object"&&s.constructor&&(x=s.constructor.name),x==="Map"||x==="Set"?Array.from(s):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?dn(s,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(s){throw s},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var s=d.next();return r=s.done,s},e:function(s){p=!0,t=s},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function dn(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var Sn=function(C){g(_,C);var i,d,m=(i=_,d=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(t){return!1}}(),function(){var t,r=b(i);if(d){var p=b(this).constructor;t=Reflect.construct(r,arguments,p)}else t=r.apply(this,arguments);return E(this,t)});function _(t,r){var p;return Y(this,_),(p=m.call(this,"rbro_parameter",ne,t,r)).propertyDescriptors={name:{type:e.type.text,fieldId:"name"},type:{type:e.type.select,fieldId:"type"},arrayItemType:{type:e.type.select,fieldId:"array_item_type"},eval:{type:e.type.checkbox,fieldId:"eval"},nullable:{type:e.type.checkbox,fieldId:"nullable"},pattern:{type:e.type.text,fieldId:"pattern"},expression:{type:e.type.text,fieldId:"expression"},testData:{type:e.type.text,fieldId:"test_data"},testDataBoolean:{type:e.type.checkbox,fieldId:"test_data_boolean"},testDataImage:{type:e.type.file,fieldId:"test_data_image",rowId:"rbro_parameter_test_data_image_row",singleRowProperty:!1,rowProperties:["testDataImage","testDataImageFilename"]},testDataImageFilename:{type:e.type.filename,fieldId:"test_data_image_filename",rowId:"rbro_parameter_test_data_image_row",singleRowProperty:!1},testDataRichText:{type:e.type.text,fieldId:"test_data_rich_text"}},p.parameterTypeOptions=[],p}return S(_,[{key:"render",value:function(t){var r=this,p=n("div",{id:"rbro_parameter_panel",class:"rbroHidden"}),s=n("div",{id:"rbro_parameter_name_row",class:"rbroFormRow"});I(s,this.rb.getLabel("parameterName"),"rbro_parameter_name");var k=n("div",{class:"rbroFormField"}),x=n("input",{id:"rbro_parameter_name",autocomplete:"off"});x.addEventListener("input",function(ze){var ke=r.rb.getSelectedObject();if(ke!==null){var Ce=x.value;if(Ce!==ke.getName()){var Ze=new le("Rename parameter"),nt=new e(ke.getId(),"name",Ce,e.type.text,r.rb);Ze.addCommand(nt);for(var et=[],dt=null,ut=ke.getParent();ut!==null;)dt=ut,et.unshift(dt),ut=dt.getParent();ke.addUpdateTestDataCmdForChangedParameterName(Ce,et,Ze);var st=null;if((st=dt!==null?dt.getPanelItem():r.rb.getMainPanel().getParametersItem())!==null&&st.getChildByNameExclude(ke.getName(),ke)===null&&st.getChildByNameExclude(Ce,ke)===null){var ct,it=cn(r.rb.getDocElements(!0));try{for(it.s();!(ct=it.n()).done;)ct.value.addCommandsForChangedParameterName(ke,Ce,Ze)}catch(vt){it.e(vt)}finally{it.f()}var tt,Ct=cn(r.rb.getParameters());try{for(Ct.s();!(tt=Ct.n()).done;)tt.value.addCommandsForChangedParameterName(ke,Ce,Ze)}catch(vt){Ct.e(vt)}finally{Ct.f()}}r.rb.executeCommand(Ze)}}}),k.append(x),k.append(n("div",{id:"rbro_parameter_name_error",class:"rbroErrorMessage"})),s.append(k),p.append(s),I(s=n("div",{id:"rbro_parameter_type_row",class:"rbroFormRow"}),this.rb.getLabel("parameterType"),"rbro_parameter_type"),k=n("div",{class:"rbroFormField"});var N=n("select",{id:"rbro_parameter_type"});if(N.addEventListener("change",function(ze){var ke=r.rb.getSelectedObject();if(ke!==null){var Ce=new le("Set parameter type"),Ze=N.value,nt=new e(ke.getId(),"type",Ze,e.type.select,r.rb);Ce.addCommand(nt),ke.addCommandsForChangedParameterType(Ze,Ce),r.rb.executeCommand(Ce)}}),k.append(N),k.append(n("div",{id:"rbro_parameter_type_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var H=n("div",{id:"rbro_parameter_type_nested_plus_info",class:"rbroInfo"});H.innerHTML=this.rb.getLabel("plusFeatureInfoNestedParameter"),k.append(H)}s.append(k),p.append(s),I(s=n("div",{id:"rbro_parameter_array_item_type_row",class:"rbroFormRow"}),this.rb.getLabel("parameterArrayItemType"),"rbro_parameter_array_item_type_row"),k=n("div",{class:"rbroFormField"});var ee=n("select",{id:"rbro_parameter_array_item_type"});ee.append(n("option",{value:"string"},this.rb.getLabel("parameterTypeString"))),ee.append(n("option",{value:"number"},this.rb.getLabel("parameterTypeNumber"))),ee.append(n("option",{value:"boolean"},this.rb.getLabel("parameterTypeBoolean"))),ee.append(n("option",{value:"date"},this.rb.getLabel("parameterTypeDate"))),this.rb.getProperty("showPlusFeatures")&&ee.append(n("option",{value:"rich_text"},this.rb.getLabel("parameterTypeRichText"))),ee.addEventListener("change",function(ze){var ke=r.rb.getSelectedObject();if(ke!==null){var Ce=new e(ke.getId(),"arrayItemType",ee.value,e.type.select,r.rb);r.rb.executeCommand(Ce)}}),k.append(ee),k.append(n("div",{id:"rbro_parameter_array_item_type_error",class:"rbroErrorMessage"})),s.append(k),p.append(s);var oe={};this.rb.getProperty("adminMode")||(oe.style="display: none");var te=n("div",oe);I(s=n("div",{id:"rbro_parameter_eval_row",class:"rbroFormRow"}),this.rb.getLabel("parameterEval"),"rbro_parameter_eval"),k=n("div",{class:"rbroFormField"});var _e=n("input",{id:"rbro_parameter_eval",type:"checkbox"});_e.addEventListener("change",function(ze){var ke=r.rb.getSelectedObject();if(ke!==null){var Ce=new e(ke.getId(),"eval",_e.checked,e.type.checkbox,r.rb);r.rb.executeCommand(Ce)}}),k.append(_e),s.append(k),te.append(s),p.append(te),I(s=n("div",{id:"rbro_parameter_nullable_row",class:"rbroFormRow"}),this.rb.getLabel("parameterNullable"),"rbro_parameter_nullable"),k=n("div",{class:"rbroFormField"});var de=n("input",{id:"rbro_parameter_nullable",type:"checkbox"});de.addEventListener("change",function(ze){var ke=r.rb.getSelectedObject();if(ke!==null){var Ce=new e(ke.getId(),"nullable",de.checked,e.type.checkbox,r.rb);r.rb.executeCommand(Ce)}}),k.append(de),s.append(k),p.append(s),I(s=n("div",{id:"rbro_parameter_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("parameterPattern"),"rbro_parameter_pattern"),k=n("div",{class:"rbroFormField"});var Ie=n("div",{class:"rbroSplit rbroSelector"}),Ae=n("input",{id:"rbro_parameter_pattern",autocomplete:"off"});Ae.addEventListener("input",function(ze){var ke=r.rb.getSelectedObject();if(ke!==null){var Ce=new e(ke.getId(),"pattern",Ae.value,e.type.text,r.rb);r.rb.executeCommand(Ce)}}),Ie.append(Ae);var Pe=n("div",{class:"rbroButton rbroRoundButton rbroIcon-select"});Pe.addEventListener("click",function(ze){var ke=r.rb.getSelectedObject();if(ke!==null){var Ce,Ze=ke.getValue("type");Ce=(Ze===ne.type.simpleArray?ke.getValue("arrayItemType"):Ze)===ne.type.date?r.rb.getProperty("patternDates"):r.rb.getProperty("patternNumbers"),r.rb.getPopupWindow().show(Ce,ke.getId(),"rbro_parameter_pattern","pattern",Et.type.pattern)}}),Ie.append(Pe),k.append(Ie),k.append(n("div",{id:"rbro_parameter_pattern_error",class:"rbroErrorMessage"})),s.append(k),p.append(s),I(s=n("div",{id:"rbro_parameter_expression_row",class:"rbroFormRow"}),this.rb.getLabel("parameterExpression"),"rbro_parameter_expression"),k=n("div",{class:"rbroFormField"}),Ie=n("div",{class:"rbroSplit rbroSelector"});var Ee=n("textarea",{id:"rbro_parameter_expression",rows:"1"});Ee.addEventListener("input",function(ze){var ke=r.rb.getSelectedObject();if(ke!==null){var Ce=new e(ke.getId(),"expression",Ee.value,e.type.text,r.rb);r.rb.executeCommand(Ce)}}),ft(Ee),Ie.append(Ee),(Pe=n("div",{id:"rbro_parameter_expression_param_button",class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(ze){var ke,Ce,Ze=r.rb.getSelectedObject();Ze!==null&&(Ze.getValue("type")===ne.type.sum||Ze.getValue("type")===ne.type.average?(ke=r.rb.getArrayFieldParameterItems([ne.type.number]),Ce=Et.type.parameterSet):(ke=r.rb.getParameterItems(Ze),Ce=Et.type.parameterAppend),r.rb.getPopupWindow().show(ke,Ze.getId(),"rbro_parameter_expression","expression",Ce))}),Ie.append(Pe),k.append(Ie),k.append(n("div",{id:"rbro_parameter_expression_error",class:"rbroErrorMessage"})),s.append(k),p.append(s);var Te=n("div",{id:"rbro_parameter_test_data_container"});I(s=n("div",{id:"rbro_parameter_test_data_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data"),k=n("div",{class:"rbroFormField"});var He=n("input",{id:"rbro_parameter_test_data",autocomplete:"off"});He.addEventListener("change",function(ze){var ke=r.rb.getSelectedObject();if(ke!==null){var Ce=new e(ke.getId(),"testData",He.value,e.type.text,r.rb);r.rb.executeCommand(Ce)}}),k.append(He);var De=n("button",{id:"rbro_parameter_edit_test_data",class:"rbroButton rbroActionButton"});De.append(n("span",{},this.rb.getLabel("parameterEditTestData"))),De.append(n("span",{class:"rbroIcon-edit"})),De.addEventListener("click",function(ze){var ke=r.rb.getSelectedObject();ke!==null&&(ke.getParameterFields().length>0?r.rb.getPopupWindow().show(null,ke.getId(),"","testData",Et.type.data,null,ke,null,null,null):ke.getValue("type")===ne.type.map?alert(r.rb.getLabel("parameterEditTestDataMapNoFields")):alert(r.rb.getLabel("parameterEditTestDataArrayNoFields")))}),k.append(De),k.append(n("div",{id:"rbro_parameter_test_data_error",class:"rbroErrorMessage"})),s.append(k),Te.append(s),I(s=n("div",{id:"rbro_parameter_test_data_boolean_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_boolean"),k=n("div",{class:"rbroFormField"});var Ve=n("input",{id:"rbro_parameter_test_data_boolean",type:"checkbox"});Ve.addEventListener("change",function(ze){var ke=Ve.checked,Ce=r.rb.getSelectedObject();if(Ce!==null){var Ze=new e(Ce.getId(),"testDataBoolean",ke,e.type.checkbox,r.rb);r.rb.executeCommand(Ze)}}),k.append(Ve),s.append(k),Te.append(s),I(s=n("div",{id:"rbro_parameter_test_data_image_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_image"),k=n("div",{class:"rbroFormField"});var Qe=n("input",{id:"rbro_parameter_test_data_image",type:"file"});Qe.addEventListener("change",function(ze){var ke=r.rb,Ce=ze.target.files;Ce&&Ce[0]&&z(Ce[0],function(Ze,nt){for(var et=new le("Load image",ke),dt=ke.getSelectedObjects(),ut=dt.length-1;ut>=0;ut--){var st=dt[ut];et.addSelection(st.getId()),et.addCommand(new e(st.getId(),"testDataImage",Ze,e.type.file,ke)),et.addCommand(new e(st.getId(),"testDataImageFilename",nt,e.type.filename,ke))}et.isEmpty()||ke.executeCommand(et)},r.rb)}),k.append(Qe);var Ke=n("div",{id:"rbro_parameter_test_data_image_filename_container",class:"rbroSplit rbroHidden"});Ke.append(n("div",{id:"rbro_parameter_test_data_image_filename"}));var Ue=n("div",{id:"rbro_parameter_test_data_image_filename_clear",class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});Ue.addEventListener("click",function(ze){Qe.value="";var ke=new le("Clear image",r.rb),Ce=r.rb.getSelectedObject();Ce!==null&&(ke.addSelection(Ce.getId()),ke.addCommand(new e(Ce.getId(),"testDataImage","",e.type.file,r.rb)),ke.addCommand(new e(Ce.getId(),"testDataImageFilename","",e.type.filename,r.rb))),ke.isEmpty()||r.rb.executeCommand(ke)}),Ke.append(Ue),k.append(Ke),k.append(n("div",{id:"rbro_parameter_test_data_image_error",class:"rbroErrorMessage"})),k.append(n("div",{class:"rbroInfo"},this.rb.getLabel("parameterTestDataImageInfo"))),s.append(k),Te.append(s),I(s=n("div",{id:"rbro_parameter_test_data_rich_text_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_rich_text"),k=n("div",{class:"rbroFormField"});var Ye=n("textarea",{id:"rbro_parameter_test_data_rich_text",rows:1,autocomplete:"off"});Ye.addEventListener("input",function(ze){var ke=r.rb.getSelectedObject();if(ke!==null){var Ce=new e(ke.getId(),"testDataRichText",Ye.value,e.type.text,r.rb);r.rb.executeCommand(Ce)}}),ft(Ye),k.append(Ye);var ve=n("div",{id:"rbro_parameter_test_data_rich_text_plus_info",class:"rbroInfo"});ve.innerHTML=this.rb.getLabel("parameterTestDataRichTextInfo"),k.append(ve),s.append(k),Te.append(s),p.append(Te),document.getElementById("rbro_detail_panel").append(p)}},{key:"updateVisibileRows",value:function(t,r){var p=t.getValue("type"),s=p===ne.type.simpleArray?t.getValue("arrayItemType"):p,k=t.getValue("showOnlyNameType"),x=null;if(t.getPanelItem()!==null&&t.getPanelItem().getParent().getData()instanceof ne&&(x=t.getPanelItem().getParent().getData()),r===null){var N=t.getValue("editable");document.getElementById("rbro_parameter_name").disabled=!N,document.getElementById("rbro_parameter_type").disabled=!N,document.getElementById("rbro_parameter_eval").disabled=!N,document.getElementById("rbro_parameter_nullable").disabled=!N,document.getElementById("rbro_parameter_pattern").disabled=!N,document.getElementById("rbro_parameter_expression").disabled=!N,N?(document.querySelector("#rbro_parameter_name_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_type_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_eval_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_nullable_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_pattern_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_expression_row label").classList.remove("rbroDisabled")):(document.querySelector("#rbro_parameter_name_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_type_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_eval_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_nullable_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_pattern_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_expression_row label").classList.add("rbroDisabled"))}if(r!==null&&r!=="type"||(p===ne.type.simpleArray?document.getElementById("rbro_parameter_array_item_type_row").removeAttribute("style"):document.getElementById("rbro_parameter_array_item_type_row").style.display="none",p===ne.type.string||p===ne.type.number||p===ne.type.boolean||p===ne.type.date||p===ne.type.image||p===ne.type.array||p===ne.type.simpleArray||p===ne.type.map?document.getElementById("rbro_parameter_nullable_row").removeAttribute("style"):document.getElementById("rbro_parameter_nullable_row").style.display="none"),r!==null&&r!=="type"&&r!=="arrayItemType"||(s!==ne.type.number&&s!==ne.type.date&&s!==ne.type.sum&&s!==ne.type.average||k?document.getElementById("rbro_parameter_pattern_row").style.display="none":document.getElementById("rbro_parameter_pattern_row").removeAttribute("style")),r!==null&&r!=="type"&&r!=="eval"||(p===ne.type.sum||p===ne.type.average||k?(document.getElementById("rbro_parameter_eval_row").style.display="none",document.getElementById("rbro_parameter_test_data_container").style.display="none"):(p===ne.type.image||p===ne.type.richText||p===ne.type.array||p===ne.type.simpleArray||p===ne.type.map?document.getElementById("rbro_parameter_eval_row").style.display="none":document.getElementById("rbro_parameter_eval_row").removeAttribute("style"),x!==null||t.getValue("eval")&&(p===ne.type.string||p===ne.type.number||p===ne.type.boolean||p===ne.type.date)?document.getElementById("rbro_parameter_test_data_container").style.display="none":document.getElementById("rbro_parameter_test_data_container").removeAttribute("style"),p===ne.type.array||p===ne.type.simpleArray||p===ne.type.map||p===ne.type.string||p===ne.type.number||p===ne.type.date?document.getElementById("rbro_parameter_test_data_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_row").style.display="none",p===ne.type.array||p===ne.type.simpleArray||p===ne.type.map?document.getElementById("rbro_parameter_edit_test_data").removeAttribute("style"):document.getElementById("rbro_parameter_edit_test_data").style.display="none",p===ne.type.string||p===ne.type.number||p===ne.type.date?document.getElementById("rbro_parameter_test_data").removeAttribute("style"):document.getElementById("rbro_parameter_test_data").style.display="none",p===ne.type.boolean?document.getElementById("rbro_parameter_test_data_boolean_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_boolean_row").style.display="none",p===ne.type.image?document.getElementById("rbro_parameter_test_data_image_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_image_row").style.display="none",p===ne.type.richText?document.getElementById("rbro_parameter_test_data_rich_text_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_rich_text_row").style.display="none"),this.rb.getProperty("showPlusFeaturesInfo")&&(x===null||p!==ne.type.map&&p!==ne.type.array?document.getElementById("rbro_parameter_type_nested_plus_info").style.display="none":document.getElementById("rbro_parameter_type_nested_plus_info").removeAttribute("style")),(!t.getValue("eval")||p!==ne.type.string&&p!==ne.type.number&&p!==ne.type.boolean&&p!==ne.type.date)&&p!==ne.type.sum&&p!==ne.type.average||k?document.getElementById("rbro_parameter_expression_row").style.display="none":document.getElementById("rbro_parameter_expression_row").removeAttribute("style")),r===null){var H=[],ee=x!==null&&x.getValue("type")===ne.type.array;H.push({value:"string",label:this.rb.getLabel("parameterTypeString")}),H.push({value:"number",label:this.rb.getLabel("parameterTypeNumber")}),H.push({value:"boolean",label:this.rb.getLabel("parameterTypeBoolean")}),H.push({value:"date",label:this.rb.getLabel("parameterTypeDate")}),H.push({value:"image",label:this.rb.getLabel("parameterTypeImage")}),this.rb.getProperty("showPlusFeatures")&&H.push({value:"rich_text",label:this.rb.getLabel("parameterTypeRichText")}),(x===null||this.rb.getProperty("showPlusFeatures"))&&H.push({value:"array",label:this.rb.getLabel("parameterTypeArray")}),H.push({value:"simple_array",label:this.rb.getLabel("parameterTypeSimpleArray")}),(x===null||this.rb.getProperty("showPlusFeatures"))&&H.push({value:"map",label:this.rb.getLabel("parameterTypeMap")}),ee||(H.push({value:"sum",label:this.rb.getLabel("parameterTypeSum")}),H.push({value:"average",label:this.rb.getLabel("parameterTypeAverage")}));var oe=!1;if(H.length!==this.parameterTypeOptions.length)oe=!0;else for(var te=0;te<H.length;te++)if(H[te].value!==this.parameterTypeOptions[te].value){oe=!0;break}if(oe){var _e=document.getElementById("rbro_parameter_type");w(_e);for(var de=0;de<H.length;de++){var Ie=H[de];_e.append(n("option",{value:Ie.value},Ie.label))}this.parameterTypeOptions=H}}}},{key:"updateDisplay",value:function(t){var r=this.rb.getSelectedObject();if(r!==null&&r instanceof ne){for(var p in this.updateVisibileRows(r,t),this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(p)&&(t===null||p===t)){var s=this.propertyDescriptors[p],k=r.getValue(p);a(b(_.prototype),"setValue",this).call(this,s,k,!1)}t!==null&&t!=="type"||(r.getValue("type")===ne.type.date?document.getElementById("rbro_parameter_test_data").setAttribute("placeholder",this.rb.getLabel("parameterTestDataDatePattern")):document.getElementById("rbro_parameter_test_data").setAttribute("placeholder","")),_.updateAutosizeInputs(t)}}}],[{key:"updateAutosizeInputs",value:function(t){t!==null&&t!=="expression"||ft.update(document.getElementById("rbro_parameter_expression")),t!==null&&t!=="type"||ft.update(document.getElementById("rbro_parameter_test_data_rich_text"))}}]),_}(xr);function pn(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(s,k){if(s){if(typeof s=="string")return hn(s,k);var x=Object.prototype.toString.call(s).slice(8,-1);return x==="Object"&&s.constructor&&(x=s.constructor.name),x==="Map"||x==="Set"?Array.from(s):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?hn(s,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(s){throw s},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var s=d.next();return r=s.done,s},e:function(s){p=!0,t=s},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function hn(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var kn=function(){function C(i,d,m,_,t,r,p){Y(this,C),this.rootElement=i,this.rb=p,this.headerItem=new Ne("band",null,d,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("header")},p),this.documentItem=new Ne("band",null,m,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1},p),this.footerItem=new Ne("band",null,_,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("footer")},p),this.parametersItem=new Ne("parameter",null,t,{hasChildren:!0,showAdd:p.getProperty("adminMode"),showDelete:!1,hasDetails:!1},p),this.stylesItem=new Ne("style",null,r,{hasChildren:!0,showAdd:!0,showDelete:!1,hasDetails:!1},p),this.documentPropertiesItem=new Ne("documentProperties",null,p.getDocumentProperties(),{showDelete:!1,hasDetails:!0},p),this.items=[this.headerItem,this.documentItem,this.footerItem,this.parametersItem,this.stylesItem,this.documentPropertiesItem],this.dragMainPanelSizer=!1,this.dragMainPanelSizerStartX=0,this.mainPanelWidth=230,this.mainPanelSizerWidth=3,d.setPanelItem(this.headerItem),m.setPanelItem(this.documentItem),_.setPanelItem(this.footerItem),t.setPanelItem(this.parametersItem),r.setPanelItem(this.stylesItem)}return S(C,[{key:"getHeaderItem",value:function(){return this.headerItem}},{key:"getDocumentItem",value:function(){return this.documentItem}},{key:"getFooterItem",value:function(){return this.footerItem}},{key:"getParametersItem",value:function(){return this.parametersItem}},{key:"getStylesItem",value:function(){return this.stylesItem}},{key:"getContainerByItem",value:function(i){for(;i!==null;){if(i.getData()instanceof u)return i.getData();i=i.getParent()}return null}},{key:"getDocumentPropertiesItem",value:function(){return this.documentPropertiesItem}},{key:"render",value:function(){var i=this,d=document.getElementById("rbro_main_panel_list");this.appendChildren(d,this.items),document.getElementById("rbro_main_panel_sizer").addEventListener("mousedown",function(m){i.dragMainPanelSizer=!0,i.dragMainPanelSizerStartX=m.pageX}),this.updateMainPanelWidth(this.mainPanelWidth)}},{key:"appendChildren",value:function(i,d){var m,_=pn(d);try{for(_.s();!(m=_.n()).done;){var t=m.value;i.append(t.getElement());var r=t.getChildren();r.length>0&&this.appendChildren(i,r)}}catch(p){_.e(p)}finally{_.f()}}},{key:"processMouseMove",value:function(i){if(this.dragMainPanelSizer){var d=this.mainPanelWidth+(i.pageX-this.dragMainPanelSizerStartX);return d=this.checkMainPanelWidth(d),this.updateMainPanelWidth(d),!0}return!1}},{key:"mouseUp",value:function(i){this.dragMainPanelSizer&&(this.dragMainPanelSizer=!1,this.mainPanelWidth=this.mainPanelWidth+(i.pageX-this.dragMainPanelSizerStartX),this.mainPanelWidth=this.checkMainPanelWidth(this.mainPanelWidth),this.updateMainPanelWidth(this.mainPanelWidth))}},{key:"getTotalPanelWidth",value:function(){var i=this.mainPanelWidth+this.mainPanelSizerWidth+390;return this.rb.getProperty("menuSidebar")&&(i+=92),i}},{key:"updateMainPanelWidth",value:function(i){document.getElementById("rbro_main_panel").style.width=i+"px",document.getElementById("rbro_main_panel_sizer").style.left=i+"px",document.getElementById("rbro_detail_panel").style.left=i+this.mainPanelSizerWidth+"px";var d=i+this.mainPanelSizerWidth+390;this.rb.getProperty("menuSidebar")&&(d+=92,document.getElementById("reportbro").querySelector(".rbroLogo").style.width=i+"px"),document.getElementById("rbro_document_panel").style.width="calc(100% - ".concat(d,"px)")}},{key:"checkMainPanelWidth",value:function(i){return i<150?150:i>500?500:i}},{key:"showHeader",value:function(){this.headerItem.show()}},{key:"hideHeader",value:function(){this.headerItem.hide()}},{key:"showFooter",value:function(){this.footerItem.show()}},{key:"hideFooter",value:function(){this.footerItem.hide()}},{key:"clearAll",value:function(){var i,d=pn(this.items);try{for(d.s();!(i=d.n()).done;)i.value.clear()}catch(m){d.e(m)}finally{d.f()}}}]),C}(),Pn=function(){function C(i,d){Y(this,C),this.rootElement=i,this.rb=d}return S(C,[{key:"render",value:function(){var i,d=this,m=this.rb.getProperty("menuShowButtonLabels")?"":"rbroHidden",_=document.getElementById("rbro_menu_panel"),t=n("div",{class:"rbroToolButtonContainer"});(i=n("button",{id:"rbro_menu_save",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuSaveTip")})).append(n("span",{class:"rbroIcon-save"})),i.append(n("span",{class:m},this.rb.getLabel("menuSave"))),i.addEventListener("click",function(ve){d.rb.save()}),this.rb.getProperty("saveCallback")||this.rb.getProperty("localStorageReportKey")||(i.style.display="none"),t.append(i),this.rb.getProperty("menuShowDebug")&&((i=n("button",{id:"rbro_menu_log_report",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuLogReportTip")})).append(n("span",{class:"rbroIcon-console"})),i.append(n("span",{class:"rbroHidden"},this.rb.getLabel("menuLogReport"))),i.addEventListener("click",function(ve){console.log(JSON.stringify(d.rb.getReport()))}),t.append(i),(i=n("button",{id:"rbro_menu_insert_report",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuInsertReportTip")})).append(n("span",{class:"rbroIcon-insert-report"})),i.append(n("span",{class:"rbroHidden"},this.rb.getLabel("menuInsertReport"))),i.addEventListener("click",function(ve){var ze=prompt("Paste report template here to load report");if(ze)try{var ke=JSON.parse(ze);v(ke.docElements)==="object"&&v(ke.parameters)==="object"&&v(ke.styles)==="object"&&v(ke.documentProperties)==="object"?(d.rb.load(ke),d.rb.setModified(!0)):alert("Invalid report template data")}catch(Ce){alert("Invalid report template data")}}),t.append(i)),(i=n("button",{id:"rbro_menu_undo",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuUndoTip")})).append(n("span",{class:"rbroIcon-undo"})),i.append(n("span",{class:m},this.rb.getLabel("menuUndo"))),i.addEventListener("click",function(ve){d.rb.undoCommand()}),t.append(i),(i=n("button",{id:"rbro_menu_redo",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuRedoTip")})).append(n("span",{class:"rbroIcon-redo"})),i.append(n("span",{class:m},this.rb.getLabel("menuRedo"))),i.addEventListener("click",function(ve){d.rb.redoCommand()}),t.append(i),(i=n("button",{id:"rbro_menu_preview",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuPreviewTip")})).append(n("span",{class:"rbroIcon-play"})),i.append(n("span",{class:m},this.rb.getLabel("menuPreview"))),i.addEventListener("click",function(ve){d.rb.preview()}),t.append(i),_.append(t);var r,p=n("div",{class:"rbroElementButtonContainer"}),s=n("div",{id:"rbo_menu_elements",class:"rbroElementButtons"});(r=n("div",{id:"rbro_menu_element_text",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementText")})).append(n("span",{class:"rbroIcon-text"})),r.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",d.rb.startBrowserDrag("docElement",ye.type.text,""),ve.stopPropagation()}),r.addEventListener("touchstart",function(ve){d.rb.startBrowserDrag("docElement",ye.type.text,""),ve.preventDefault()}),r.addEventListener("touchmove",function(ve){d.rb.getDocument().processDragover(ve)}),r.addEventListener("touchend",function(ve){d.rb.getDocument().processDrop(ve)}),s.append(r),(r=n("div",{id:"rbro_menu_element_line",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementLine")})).append(n("span",{class:"rbroIcon-line"})),r.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",d.rb.startBrowserDrag("docElement",ye.type.line,""),ve.stopPropagation()}),r.addEventListener("touchstart",function(ve){d.rb.startBrowserDrag("docElement",ye.type.line,""),ve.preventDefault()}),r.addEventListener("touchmove",function(ve){d.rb.getDocument().processDragover(ve)}),r.addEventListener("touchend",function(ve){d.rb.getDocument().processDrop(ve)}),s.append(r),(r=n("div",{id:"rbro_menu_element_image",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementImage")})).append(n("span",{class:"rbroIcon-image"})),r.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",d.rb.startBrowserDrag("docElement",ye.type.image,""),ve.stopPropagation()}),r.addEventListener("touchstart",function(ve){d.rb.startBrowserDrag("docElement",ye.type.image,""),ve.preventDefault()}),r.addEventListener("touchmove",function(ve){d.rb.getDocument().processDragover(ve)}),r.addEventListener("touchend",function(ve){d.rb.getDocument().processDrop(ve)}),s.append(r),(r=n("div",{id:"rbro_menu_element_bar_code",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementBarCode")})).append(n("span",{class:"rbroIcon-barcode"})),r.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",d.rb.startBrowserDrag("docElement",ye.type.barCode,""),ve.stopPropagation()}),r.addEventListener("touchstart",function(ve){d.rb.startBrowserDrag("docElement",ye.type.barCode,""),ve.preventDefault()}),r.addEventListener("touchmove",function(ve){d.rb.getDocument().processDragover(ve)}),r.addEventListener("touchend",function(ve){d.rb.getDocument().processDrop(ve)}),s.append(r),(r=n("div",{id:"rbro_menu_element_table",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementTable")})).append(n("span",{class:"rbroIcon-table"})),r.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",d.rb.startBrowserDrag("docElement",ye.type.table,""),ve.stopPropagation()}),r.addEventListener("touchstart",function(ve){d.rb.startBrowserDrag("docElement",ye.type.table,""),ve.preventDefault()}),r.addEventListener("touchmove",function(ve){d.rb.getDocument().processDragover(ve)}),r.addEventListener("touchend",function(ve){d.rb.getDocument().processDrop(ve)}),s.append(r),(r=n("div",{id:"rbro_menu_element_frame",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementFrame")})).append(n("span",{class:"rbroIcon-frame"})),r.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",d.rb.startBrowserDrag("docElement",ye.type.frame,""),ve.stopPropagation()}),r.addEventListener("touchstart",function(ve){d.rb.startBrowserDrag("docElement",ye.type.frame,""),ve.preventDefault()}),r.addEventListener("touchmove",function(ve){d.rb.getDocument().processDragover(ve)}),r.addEventListener("touchend",function(ve){d.rb.getDocument().processDrop(ve)}),s.append(r),(r=n("div",{id:"rbro_menu_element_section",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementSection")})).append(n("span",{class:"rbroIcon-section"})),r.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",d.rb.startBrowserDrag("docElement",ye.type.section,""),ve.stopPropagation()}),r.addEventListener("touchstart",function(ve){d.rb.startBrowserDrag("docElement",ye.type.section,""),ve.preventDefault()}),r.addEventListener("touchmove",function(ve){d.rb.getDocument().processDragover(ve)}),r.addEventListener("touchend",function(ve){d.rb.getDocument().processDrop(ve)}),s.append(r),(r=n("div",{id:"rbro_menu_element_page_break",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementPageBreak")})).append(n("span",{class:"rbroIcon-page-break"})),r.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",d.rb.startBrowserDrag("docElement",ye.type.pageBreak,""),ve.stopPropagation()}),r.addEventListener("touchstart",function(ve){d.rb.startBrowserDrag("docElement",ye.type.pageBreak,""),ve.preventDefault()}),r.addEventListener("touchmove",function(ve){d.rb.getDocument().processDragover(ve)}),r.addEventListener("touchend",function(ve){d.rb.getDocument().processDrop(ve)}),s.append(r),p.append(s);var k=n("div",{class:"rbroActionButtons"}),x=n("div",{id:"rbro_menu_align",style:"display: none;"}),N=n("button",{id:"rbro_menu_align_left",class:"rbroButton rbroActionButton rbroIcon-align-left",type:"button",title:this.rb.getLabel("menuAlignLeft")});N.addEventListener("click",function(ve){d.rb.alignSelections($.alignment.left)}),x.append(N);var H=n("button",{id:"rbro_menu_align_center",class:"rbroButton rbroActionButton rbroIcon-align-center",type:"button",title:this.rb.getLabel("menuAlignCenter")});H.addEventListener("click",function(ve){d.rb.alignSelections($.alignment.center)}),x.append(H);var ee=n("button",{id:"rbro_menu_align_right",class:"rbroButton rbroActionButton rbroIcon-align-right",type:"button",title:this.rb.getLabel("menuAlignRight")});ee.addEventListener("click",function(ve){d.rb.alignSelections($.alignment.right)}),x.append(ee),k.append(x);var oe=n("div",{id:"rbro_menu_valign",style:"display: none;"}),te=n("button",{id:"rbro_menu_align_top",class:"rbroButton rbroActionButton rbroIcon-align-top",type:"button",title:this.rb.getLabel("menuAlignTop")});te.addEventListener("click",function(ve){d.rb.alignSelections($.alignment.top)}),oe.append(te);var _e=n("button",{id:"rbro_menu_align_middle",class:"rbroButton rbroActionButton rbroIcon-align-middle",type:"button",title:this.rb.getLabel("menuAlignMiddle")});_e.addEventListener("click",function(ve){d.rb.alignSelections($.alignment.middle)}),oe.append(_e);var de=n("button",{id:"rbro_menu_align_bottom",class:"rbroButton rbroActionButton rbroIcon-align-bottom",type:"button",title:this.rb.getLabel("menuAlignBottom")});de.addEventListener("click",function(ve){d.rb.alignSelections($.alignment.bottom)}),oe.append(de),k.append(oe);var Ie=n("div",{id:"rbro_menu_column_actions",style:"display: none;"}),Ae=n("button",{id:"rbro_menu_column_add_left",class:"rbroButton rbroActionButton rbroIcon-column-add-left",type:"button",title:this.rb.getLabel("menuColumnAddLeft")});Ae.addEventListener("click",function(ve){var ze=d.rb.getSelectedObject();ze instanceof Gt&&ze.insertColumn(!0)}),Ie.append(Ae);var Pe=n("button",{id:"rbro_menu_column_add_right",class:"rbroButton rbroActionButton rbroIcon-column-add-right",type:"button",title:this.rb.getLabel("menuColumnAddRight")});Pe.addEventListener("click",function(ve){var ze=d.rb.getSelectedObject();ze instanceof Gt&&ze.insertColumn(!1)}),Ie.append(Pe);var Ee=n("button",{id:"rbro_menu_column_delete",class:"rbroButton rbroActionButton rbroIcon-column-delete",type:"button",title:this.rb.getLabel("menuColumnDelete")});Ee.addEventListener("click",function(ve){var ze=d.rb.getSelectedObject();ze instanceof Gt&&ze.deleteColumn()}),Ie.append(Ee),k.append(Ie);var Te=n("div",{id:"rbro_menu_row_actions",style:"display: none;"}),He=n("button",{id:"rbro_menu_row_add_above",class:"rbroButton rbroActionButton rbroIcon-row-add-above",type:"button",title:this.rb.getLabel("menuRowAddAbove")});He.addEventListener("click",function(ve){var ze=d.rb.getSelectedObject();ze instanceof Gt&&ze.getParent()!==null&&ze.getParent().insertRow(!0)}),Te.append(He);var De=n("button",{id:"rbro_menu_row_add_below",class:"rbroButton rbroActionButton rbroIcon-row-add-below",type:"button",title:this.rb.getLabel("menuRowAddBelow")});De.addEventListener("click",function(ve){var ze=d.rb.getSelectedObject();ze instanceof Gt&&ze.getParent()!==null&&ze.getParent().insertRow(!1)}),Te.append(De);var Ve=n("button",{id:"rbro_menu_row_delete",class:"rbroButton rbroActionButton rbroIcon-row-delete",type:"button",title:this.rb.getLabel("menuRowDelete")});Ve.addEventListener("click",function(ve){var ze=d.rb.getSelectedObject();ze instanceof Gt&&ze.getParent()!==null&&ze.getParent().deleteRow()}),Te.append(Ve),k.append(Te);var Qe=n("div",{id:"rbro_menu_zoom",class:"rbroZoom"});Qe.append(n("span",{id:"rbro_menu_zoom_level",class:"rbroZoomLevel"}));var Ke=n("button",{id:"rbro_menu_zoom_in",class:"rbroButton rbroRoundButton rbroZoomButton rbroIcon-plus"+(this.rb.getDocument().isZoomInPossible()?"":" rbroButtonInactive"),type:"button",title:this.rb.getLabel("menuZoomIn")});Ke.addEventListener("click",function(ve){d.rb.getDocument().zoomIn()}),Qe.append(Ke);var Ue=n("button",{id:"rbro_menu_zoom_out",class:"rbroButton rbroRoundButton rbroZoomButton rbroIcon-minus"+(this.rb.getDocument().isZoomOutPossible()?"":" rbroButtonInactive"),type:"button",title:this.rb.getLabel("menuZoomOut")});Ue.addEventListener("click",function(ve){d.rb.getDocument().zoomOut()}),Qe.append(Ue),k.append(Qe);var Ye=n("button",{id:"rbro_menu_toggle_grid",class:"rbroButton rbroGridButton rbroActionButton rbroIcon-grid"+(this.rb.getProperty("showGrid")?" rbroButtonActive":""),type:"button",title:this.rb.getLabel("menuToggleGrid")});Ye.addEventListener("click",function(ve){Ye.classList.toggle("rbroButtonActive"),d.rb.getDocument().toggleGrid()}),k.append(Ye),p.append(k),_.append(p)}},{key:"updateZoomButtons",value:function(i,d){i?document.getElementById("rbro_menu_zoom_in").removeAttribute("disabled"):document.getElementById("rbro_menu_zoom_in").setAttribute("disabled","disabled"),d?document.getElementById("rbro_menu_zoom_out").removeAttribute("disabled"):document.getElementById("rbro_menu_zoom_out").setAttribute("disabled","disabled")}}]),C}();function Ge(C,i){var d=typeof Symbol!="undefined"&&C[Symbol.iterator]||C["@@iterator"];if(!d){if(Array.isArray(C)||(d=function(s,k){if(s){if(typeof s=="string")return fn(s,k);var x=Object.prototype.toString.call(s).slice(8,-1);return x==="Object"&&s.constructor&&(x=s.constructor.name),x==="Map"||x==="Set"?Array.from(s):x==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(x)?fn(s,k):void 0}}(C))||i&&C&&typeof C.length=="number"){d&&(C=d);var m=0,_=function(){};return{s:_,n:function(){return m>=C.length?{done:!0}:{done:!1,value:C[m++]}},e:function(s){throw s},f:_}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var t,r=!0,p=!1;return{s:function(){d=d.call(C)},n:function(){var s=d.next();return r=s.done,s},e:function(s){p=!0,t=s},f:function(){try{r||d.return==null||d.return()}finally{if(p)throw t}}}}function fn(C,i){(i==null||i>C.length)&&(i=C.length);for(var d=0,m=new Array(i);d<i;d++)m[d]=C[d];return m}var On=function(){function C(i,d){var m=this;if(Y(this,C),this.element=i,this.nextId=1,this.locale=_n[d&&d.localeKey||"en_us"],d&&d.locale&&Object.assign(this.locale,d.locale),this.properties={additionalFonts:[],adminMode:!0,autoSaveOnPreview:!1,cmdExecutedCallback:null,colors:["#000000","#444444","#666666","#999999","#cccccc","#eeeeee","#f3f3f3","#ffffff","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#0000ff","#9900ff","#ff00ff","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#990000","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47","#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"],defaultFont:$.font.helvetica,enableSpreadsheet:!0,fontSizes:[4,5,6,7,8,9,10,11,12,13,14,15,16,18,20,22,24,26,28,32,36,40,44,48,54,60,66,72,80],fonts:[{name:"Courier",value:$.font.courier},{name:"Helvetica",value:$.font.helvetica},{name:"Times New Roman",value:$.font.times}],highlightUnusedParameters:!1,imageLimit:null,imageMaxSize:null,imageRequireWebPFormat:!1,localStorageReportKey:null,menuShowButtonLabels:!1,menuShowDebug:!1,menuSidebar:!1,patternAdditionalDates:[],patternAdditionalNumbers:[],patternCurrencySymbol:"$",patternDates:[{name:"d.M.yyyy",description:this.locale.patternDate1},{name:"d.M.yy, H:mm",description:this.locale.patternDate2},{name:"d/MMM/yyyy",description:this.locale.patternDate3},{name:"MM/dd/yyyy",description:this.locale.patternDate4}],patternLocale:"en",patternNumberGroupSymbol:"",patternNumbers:[{name:"#,##0",description:this.locale.patternNumber1},{name:"0.000",description:this.locale.patternNumber2},{name:"0.00##",description:this.locale.patternNumber3},{name:"#,##0.00",description:this.locale.patternNumber4},{name:"$ #,##0.00",description:this.locale.patternNumber5}],reportServerBasicAuth:null,reportServerHeaders:{},reportServerTimeout:2e4,reportServerUrl:"https://www.reportbro.com/report/run",reportServerUrlCrossDomain:!1,requestCallback:null,saveCallback:null,selectCallback:null,showGrid:!0,showPlusFeatures:!0,showPlusFeaturesInfo:!0,theme:""},d)for(var _ in d)this.properties.hasOwnProperty(_)&&(this.properties[_]=d[_]);this.properties.additionalFonts.length>0&&(this.properties.fonts=this.properties.fonts.concat(this.properties.additionalFonts));var t,r=!1,p=Ge(this.properties.fonts);try{for(p.s();!(t=p.n()).done;){var s=t.value;if(this.properties.defaultFont===s.value){r=!0;break}}}catch(k){p.e(k)}finally{p.f()}if(r||(this.properties.fonts.length>0?this.properties.defaultFont=this.properties.fonts[0].value:this.properties.defaultFont=""),this.properties.patternAdditionalDates.length>0&&(this.properties.patternDates=this.properties.patternDates.concat(this.properties.patternAdditionalDates)),this.properties.patternAdditionalNumbers.length>0&&(this.properties.patternNumbers=this.properties.patternNumbers.concat(this.properties.patternAdditionalNumbers)),!this.validateProperties(this.properties))throw"Invalid properties for ReportBro instance, check console error log for further details";this.document=new Qr(i,this.properties.showGrid,this),this.popupWindow=new Et(i,this),this.docElements=[],this.headerBand=new re(re.bandType.header,!1,"","",this),this.contentBand=new re(re.bandType.content,!1,"","",this),this.footerBand=new re(re.bandType.footer,!1,"","",this),this.parameterContainer=new u("0_parameters",this.getLabel("parameters"),this),this.styleContainer=new u("0_styles",this.getLabel("styles"),this),this.documentProperties=new Mt(this),this.clipboardElements=[],this.mainPanel=new kn(i,this.headerBand,this.contentBand,this.footerBand,this.parameterContainer,this.styleContainer,this),this.menuPanel=new Pn(i,this),this.activeDetailPanel="none",this.detailPanels={none:new xn(i,this),docElement:new In(i,this),parameter:new Sn(i,this),style:new wr(i,this),documentProperties:new Cn(i,this)},this.commandStack=[],this.lastCommandIndex=-1,this.savedCommandIndex=-1,this.modified=!1,this.selectionSinceLastCommand=!1,this.objectMap={},this.containers=[this.headerBand,this.contentBand,this.footerBand],this.selections=[],this.reportKey=null,this.browserDragType="",this.browserDragId="",this.documentProperties.setPanelItem(this.mainPanel.getDocumentPropertiesItem()),this.initObjectMap(),this.keydownEventListener=function(k){if(!m.detailPanels[m.activeDetailPanel].isKeyEventDisabled()){if(k.metaKey||k.ctrlKey)switch(k.which){case 67:if(!(k.target instanceof HTMLInputElement||k.target instanceof HTMLTextAreaElement)){var x,N,H,ee=!1,oe={},te=Ge(m.selections);try{for(te.s();!(H=te.n()).done;){var _e=H.value,de=m.getDataObject(_e);if((de instanceof ye&&!(de instanceof Gt)||de instanceof ne&&!de.showOnlyNameType||de instanceof $)&&(ee||(m.clipboardElements=[],ee=!0),!(de.getId()in oe)))if(oe[de.getId()]=!0,x=de.toJS(),m.clipboardElements.push(x),de instanceof ye){if(x.baseClass="DocElement",de instanceof sr){var Ie=[];de.appendContainerChildren(Ie);for(var Ae=0,Pe=Ie;Ae<Pe.length;Ae++){var Ee=Pe[Ae];if(Ee.getId()in oe){for(N=0;N<m.clipboardElements.length;N++)if(Ee.getId()===m.clipboardElements[N].id){m.clipboardElements.splice(N,1);break}}else oe[Ee.getId()]=!0;(x=Ee.toJS()).baseClass="DocElement",m.clipboardElements.push(x)}}}else de instanceof ne?x.baseClass="Parameter":de instanceof $&&(x.baseClass="Style")}}catch(_t){te.e(_t)}finally{te.f()}k.preventDefault()}break;case 86:if(!(k.target instanceof HTMLInputElement||k.target instanceof HTMLTextAreaElement)){var Te,He,De=new le("Paste from clipboard",m),Ve={},Qe=[],Ke=Ge(m.clipboardElements);try{for(Ke.s();!(He=Ke.n()).done;){var Ue=He.value,Ye=Object.assign({},Ue);if(Ye.id=m.getUniqueId(),Qe.push(Ye),Ye.baseClass==="DocElement"){if(Ye.linkedContainerId){var ve=m.getUniqueId();Ve[Ye.linkedContainerId]=ve,Ye.linkedContainerId=ve}Ye.elementType===ye.type.table&&or.removeIds(Ye)}}}catch(_t){Ke.e(_t)}finally{Ke.f()}for(var ze=0,ke=Qe;ze<ke.length;ze++){var Ce=ke[ze];if(Ce.baseClass==="DocElement"){if(Ce.containerId in Ve)Ce.containerId=Ve[Ce.containerId];else{var Ze=0,nt=m.getDataObject(Ce.containerId);if(nt!==null){var et=nt.getOffset(),dt=nt.getContentSize(),ut=m.getDocument().getContentScrollPosY();ut>et.y&&ut+Ce.height<et.y+dt.height&&(Ze=ut-et.y)}Ce.x=0,Ce.y=Ze}Te=new wt(!0,Ce.elementType,Ce,Ce.id,Ce.containerId,-1,m),De.addCommand(Te)}else if(Ce.baseClass==="Parameter"||Ce.baseClass==="Style"){var st=m.getLabel("nameCopySuffix"),ct=Ce.name+" (".concat(st,")"),it=Ce.baseClass==="Parameter"?m.parameterContainer.getPanelItem():m.styleContainer.getPanelItem();if(it!==null&&it.getChildByName(ct))for(var tt=2;tt<=99&&(ct=Ce.name+" (".concat(st," ").concat(tt,")"),it.getChildByName(ct)!==null);tt++);Ce.name=ct,Ce.baseClass==="Parameter"?(ne.removeIds(Ce),Te=new Be(!0,Ce,Ce.id,m.parameterContainer.getId(),-1,m),De.addCommand(Te)):Ce.baseClass==="Style"&&(Te=new ce(!0,Ce,Ce.id,m.styleContainer.getId(),-1,m),De.addCommand(Te))}}if(!De.isEmpty()){m.executeCommand(De);var Ct,vt=!0,jt=Ge(Qe);try{for(jt.s();!(Ct=jt.n()).done;){var Ft=Ct.value;m.selectObject(Ft.id,vt),vt=!1}}catch(_t){jt.e(_t)}finally{jt.f()}}k.preventDefault()}break;case 89:m.redoCommand(),k.preventDefault();break;case 90:m.undoCommand(),k.preventDefault()}else if(k.which===27)m.popupWindow.hide();else if(!(k.target instanceof HTMLInputElement||k.target instanceof HTMLTextAreaElement))switch(k.which){case 8:case 46:var Ot,Kt=new le("Delete",m),Zt=Ge(m.selections);try{for(Zt.s();!(Ot=Zt.n()).done;){var Qt=Ot.value,Xt=m.getDataObject(Qt);Xt instanceof ye&&Xt.addCommandsForDelete(Kt)}}catch(_t){Zt.e(_t)}finally{Zt.f()}Kt.isEmpty()||m.executeCommand(Kt),k.preventDefault();break;case 37:case 38:case 39:case 40:var Yt,xt=new le("Move element",m),Vt=k.which===37||k.which===39?"x":"y",St=(m.getDocumentProperties().getContentSize().width,Ge(m.selections));try{for(St.s();!(Yt=St.n()).done;){var er=Yt.value,mt=m.getDataObject(er);if(mt instanceof ye&&mt.hasProperty(Vt)){var kt=null;if(k.which===37)mt.getValue("xVal")>0&&(kt=mt.getValue("xVal")-1);else if(k.which===38)mt.getValue("yVal")>0&&(kt=mt.getValue("yVal")-1);else if(k.which===39){var qt=mt.getContainerContentSize();mt.getValue("xVal")+mt.getValue("widthVal")<qt.width&&(kt=mt.getValue("xVal")+1)}else if(k.which===40){var Jt=mt.getContainerContentSize();mt.getValue("yVal")+mt.getValue("heightVal")<Jt.height&&(kt=mt.getValue("yVal")+1)}if(kt!==null){var zt=new e(er,Vt,kt,e.type.text,m);xt.addCommand(zt)}}}}catch(_t){St.e(_t)}finally{St.f()}xt.isEmpty()||m.executeCommand(xt),k.preventDefault()}}},document.addEventListener("keydown",this.keydownEventListener),this.render(),this.setup()}return S(C,[{key:"validateProperties",value:function(i){if(!Array.isArray(i.colors))return console.error('"colors" property must be an array'),!1;var d,m=!1,_=Ge(i.colors);try{for(_.s();!(d=_.n()).done;){var t=d.value;if(!t||!K(t))return console.error('"colors" property contains invalid color value'),!1;t==="#000000"&&(m=!0)}}catch(k){_.e(k)}finally{_.f()}if(!m)return console.error('"colors" property is missing black color "#000000"'),!1;if(!Array.isArray(i.fontSizes))return console.error('"fontSizes" property must be an array'),!1;var r,p=Ge(i.fontSizes);try{for(p.s();!(r=p.n()).done;){var s=r.value;if(typeof s!="number"||s<1)return console.error('"fontSizes" property must contain only numbers (> 0)'),!1}}catch(k){p.e(k)}finally{p.f()}return!0}},{key:"addDefaultParameters",value:function(){for(var i=0,d=[{name:"page_count",type:ne.type.number,eval:!1,editable:!1,showOnlyNameType:!0},{name:"page_number",type:ne.type.number,eval:!1,editable:!1,showOnlyNameType:!0}];i<d.length;i++){var m=d[i],_=new ne(this.getUniqueId(),m,this),t=this.mainPanel.getParametersItem(),r=new Ne("parameter",t,_,{hasChildren:!0,showAdd:!0,showDelete:!0,draggable:!1},this);_.setPanelItem(r),t.appendChild(r),_.setup(),this.addParameter(_)}}},{key:"render",value:function(){var i=this;w(this.element),this.getProperty("menuSidebar")&&this.element.classList.add("rbroMenuPanelSidebar"),this.getProperty("theme")==="classic"?document.body.classList.add("rbroClassicTheme"):document.body.classList.add("rbroDefaultTheme"),this.element.append(n("div",{class:"rbroLogo"})),this.element.append(n("div",{id:"rbro_menu_panel",class:"rbroMenuPanel"}));var d=n("div",{class:"rbroContainer"}),m=n("div",{id:"rbro_main_panel",class:"rbroMainPanel"});for(var _ in m.append(n("ul",{id:"rbro_main_panel_list"})),d.append(m),d.append(n("div",{id:"rbro_main_panel_sizer",class:"rbroMainPanelSizer"})),d.append(n("div",{id:"rbro_detail_panel",class:"rbroDetailPanel"})),d.append(n("div",{id:"rbro_document_panel",class:"rbroDocumentPanel"})),this.element.append(d),this.mainPanel.render(),this.menuPanel.render(),this.detailPanels)this.detailPanels[_].render();this.detailPanels[this.activeDetailPanel].show(),this.document.render(),this.popupWindow.render(),this.updateMenuButtons(),this.mouseupEventListener=function(t){i.mainPanel.mouseUp(t),i.document.mouseUp(t),i.popupWindow.hide()},document.addEventListener("mouseup",this.mouseupEventListener),window.addEventListener("resize",function(t){i.document.windowResized()}),this.element.addEventListener("dragstart",function(t){t.preventDefault()}),this.element.addEventListener("mousemove",function(t){i.mainPanel.processMouseMove(t)||i.document.processMouseMove(t)})}},{key:"getWidth",value:function(){return this.element.clientWidth}},{key:"setup",value:function(){this.addDefaultParameters(),this.headerBand.setup(),this.contentBand.setup(),this.footerBand.setup(),this.documentProperties.setup()}},{key:"initObjectMap",value:function(){this.addDataObject(this.headerBand),this.addDataObject(this.contentBand),this.addDataObject(this.footerBand),this.addDataObject(this.parameterContainer),this.addDataObject(this.styleContainer),this.addDataObject(this.documentProperties)}},{key:"getLabel",value:function(i){return i in this.locale?this.locale[i]:i}},{key:"getProperty",value:function(i){return this.properties[i]}},{key:"getMainPanel",value:function(){return this.mainPanel}},{key:"getMenuPanel",value:function(){return this.menuPanel}},{key:"getDocument",value:function(){return this.document}},{key:"getPopupWindow",value:function(){return this.popupWindow}},{key:"getFonts",value:function(){return this.properties.fonts}},{key:"getPatterns",value:function(){var i=[];if(this.properties.patternNumbers.length>0){i.push({separator:!0,name:this.getLabel("patternSeparatorNumbers")});var d,m=Ge(this.properties.patternNumbers);try{for(m.s();!(d=m.n()).done;){var _=d.value;i.push(_)}}catch(s){m.e(s)}finally{m.f()}}if(this.properties.patternDates.length>0){i.push({separator:!0,name:this.getLabel("patternSeparatorDates")});var t,r=Ge(this.properties.patternDates);try{for(r.s();!(t=r.n()).done;){var p=t.value;i.push(p)}}catch(s){r.e(s)}finally{r.f()}}return i}},{key:"getParameterItems",value:function(i,d){var m=[],_=this.getMainPanel().getParametersItem().getChildren(),t=0;if(i instanceof ye){var r,p=!0,s=Ge(i.getAllDataSources());try{for(s.s();!(r=s.n()).done;){var k=r.value;if(k.parameters.length>0){var x;x=p?this.getLabel("parametersDataSource"):this.getLabel("parametersDataSourceName").replace("${name}",k.name),m.push({separator:!0,separatorClass:"rbroParameterDataSourceGroup",id:"ds"+t,name:x});var N,H=[],ee=p?null:k.name,oe=Ge(k.parameters);try{for(oe.s();!(N=oe.n()).done;){var te=N.value;te.type===ne.type.map?te.appendParameterItems(H,d,ee):te.appendParameterItems(m,d,ee)}}catch(Ve){oe.e(Ve)}finally{oe.f()}for(var _e=0,de=H;_e<de.length;_e++){var Ie=de[_e];m.push(Ie)}}p=!1,t++}}catch(Ve){s.e(Ve)}finally{s.f()}}else if(i instanceof ne)for(var Ae=i.getParent();Ae!==null;){if(Ae.type===ne.type.array){t=1,Ae.appendFieldParameterItems(m,d,!0,null);break}Ae=Ae.getParent()}var Pe=t>0?"":null;m.push({separator:!0,name:this.getLabel("parameters")});var Ee,Te=[],He=Ge(_);try{for(He.s();!(Ee=He.n()).done;){var De=Ee.value.getData();De.getValue("type")===ne.type.map?De.appendParameterItems(Te,d,Pe):De.appendParameterItems(m,d,Pe)}}catch(Ve){He.e(Ve)}finally{He.f()}return m.concat(Te)}},{key:"getArrayFieldParameterItems",value:function(i){var d=[],m=this.getMainPanel().getParametersItem().getChildren();d.push({separator:!0,name:this.getLabel("parameters")});var _,t=Ge(m);try{for(t.s();!(_=t.n()).done;){var r=_.value.getData();r.getValue("type")===ne.type.array&&r.appendFieldParameterItems(d,i,!1,null)}}catch(p){t.e(p)}finally{t.f()}return d}},{key:"appendContainerDocElements",value:function(i,d,m){var _,t=Ge(i.getPanelItem().getChildren());try{for(t.s();!(_=t.n()).done;){var r=_.value;if(r.getData()instanceof ye){var p=r.getData();d?(m.push(p),p.addChildren(m)):m.push(p.toJS());var s=[];if(p instanceof gr)s=p.getLinkedContainers();else{var k=p.getLinkedContainer();k!==null&&s.push(k)}var x,N=Ge(s);try{for(N.s();!(x=N.n()).done;){var H=x.value;this.appendContainerDocElements(H,d,m)}}catch(ee){N.e(ee)}finally{N.f()}}}}catch(ee){t.e(ee)}finally{t.f()}}},{key:"getDocElements",value:function(i){var d=[];return this.appendContainerDocElements(this.headerBand,i,d),this.appendContainerDocElements(this.contentBand,i,d),this.appendContainerDocElements(this.footerBand,i,d),d}},{key:"setDetailPanel",value:function(i){i!==this.activeDetailPanel&&(this.detailPanels[this.activeDetailPanel].hide(),this.activeDetailPanel=i,this.detailPanels[i].show())}},{key:"notifyEvent",value:function(i,d,m){this.detailPanels[this.activeDetailPanel].notifyEvent(i,d,m)}},{key:"addParameter",value:function(i){this.addDataObject(i)}},{key:"addStyle",value:function(i){this.addDataObject(i),this.notifyEvent(i,h.operation.add)}},{key:"getStyles",value:function(){var i,d=[],m=Ge(this.getMainPanel().getStylesItem().getChildren());try{for(m.s();!(i=m.n()).done;){var _=i.value;d.push(_.getData())}}catch(t){m.e(t)}finally{m.f()}return d}},{key:"getParameters",value:function(){var i,d=[],m=Ge(this.getMainPanel().getParametersItem().getChildren());try{for(m.s();!(i=m.n()).done;){var _=i.value;d.push(_.getData())}}catch(t){m.e(t)}finally{m.f()}return d}},{key:"addDocElement",value:function(i){this.docElements.push(i),this.addDataObject(i)}},{key:"deleteDocElements",value:function(){for(var i=0;i<this.docElements.length;i++)this.deleteDataObject(this.docElements[i]);this.docElements=[]}},{key:"getDocumentProperties",value:function(){return this.documentProperties}},{key:"executeCommand",value:function(i){if(i.do(),this.lastCommandIndex<this.commandStack.length-1&&(this.commandStack=this.commandStack.slice(0,this.lastCommandIndex+1)),!this.selectionSinceLastCommand&&this.commandStack.length>0){var d=this.commandStack[this.commandStack.length-1];i.allowReplace(d)&&(i.replace(d),this.commandStack=this.commandStack.slice(0,this.commandStack.length-1),this.lastCommandIndex--)}this.commandStack.push(i),this.lastCommandIndex++,this.modified=!0,this.selectionSinceLastCommand=!1,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(i,!0)}},{key:"undoCommand",value:function(){if(this.lastCommandIndex>=0){var i=this.commandStack[this.lastCommandIndex];i.undo(),this.lastCommandIndex--,this.modified=this.lastCommandIndex!==this.savedCommandIndex,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(i,!1)}}},{key:"redoCommand",value:function(){if(this.lastCommandIndex<this.commandStack.length-1){this.lastCommandIndex++;var i=this.commandStack[this.lastCommandIndex];i.do(),this.modified=this.lastCommandIndex!==this.savedCommandIndex,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(i,!1)}}},{key:"updateMenuButtons",value:function(){document.getElementById("rbro_menu_save").disabled=!this.modified,document.getElementById("rbro_menu_undo").disabled=this.lastCommandIndex<0,document.getElementById("rbro_menu_redo").disabled=this.lastCommandIndex>=this.commandStack.length-1}},{key:"updateMenuActionButtons",value:function(){var i,d=0,m={x:0,y:0},_=!0,t=!0,r=Ge(this.selections);try{for(r.s();!(i=r.n()).done;){var p=i.value,s=this.getDataObject(p);if(s instanceof ye&&s.hasProperty("x")){d++;var k=s.getContainer().getOffset();d===1?m=k:(k.x!==m.x&&(_=!1),k.y!==m.y&&(t=!1))}}}catch(Pe){r.e(Pe)}finally{r.f()}var x=document.getElementById("rbo_menu_elements").querySelectorAll(".rbroMenuButton");if(d>1){_?document.getElementById("rbro_menu_align").removeAttribute("style"):document.getElementById("rbro_menu_align").style.display="none",t?document.getElementById("rbro_menu_valign").removeAttribute("style"):document.getElementById("rbro_menu_valign").style.display="none";var N,H=Ge(x);try{for(H.s();!(N=H.n()).done;)N.value.style.display="none"}catch(Pe){H.e(Pe)}finally{H.f()}document.getElementById("rbro_menu_column_actions").style.display="none",document.getElementById("rbro_menu_row_actions").style.display="none"}else{var ee=null;if(this.selections.length===1&&(ee=this.getDataObject(this.selections[0])),document.getElementById("rbro_menu_align").style.display="none",document.getElementById("rbro_menu_valign").style.display="none",ee instanceof Gt){var oe,te=Ge(x);try{for(te.s();!(oe=te.n()).done;)oe.value.style.display="none"}catch(Pe){te.e(Pe)}finally{te.f()}var _e=ee.getTable(),de=ee.getParent();_e!==null&&A(_e.getValue("columns"))!==1?document.getElementById("rbro_menu_column_delete").removeAttribute("style"):document.getElementById("rbro_menu_column_delete").style.display="none",document.getElementById("rbro_menu_column_actions").removeAttribute("style"),_e!==null&&de!==null&&de.getValue("bandType")===re.bandType.content?(A(_e.getValue("contentRows"))!==1?document.getElementById("rbro_menu_row_delete").removeAttribute("style"):document.getElementById("rbro_menu_row_delete").style.display="none",document.getElementById("rbro_menu_row_actions").removeAttribute("style")):document.getElementById("rbro_menu_row_actions").style.display="none"}else{var Ie,Ae=Ge(x);try{for(Ae.s();!(Ie=Ae.n()).done;)Ie.value.removeAttribute("style")}catch(Pe){Ae.e(Pe)}finally{Ae.f()}document.getElementById("rbro_menu_column_actions").style.display="none",document.getElementById("rbro_menu_row_actions").style.display="none"}}}},{key:"debugCommandStack",value:function(){console.clear();for(var i=0;i<this.commandStack.length;i++)i>this.lastCommandIndex?console.log("( "+i+" "+this.commandStack[i].getName()+" )"):console.log(i+" "+this.commandStack[i].getName())}},{key:"addDataObject",value:function(i){this.objectMap[i.getId()]=i}},{key:"deleteDataObject",value:function(i){this.isSelectedObject(i.getId())&&this.deselectObject(i.getId()),i.getId()in this.objectMap&&(i.remove(),delete this.objectMap[i.getId()])}},{key:"getDataObject",value:function(i){return i!==null&&i in this.objectMap?this.objectMap[i]:null}},{key:"getSelectedObjects",value:function(){var i,d=[],m=Ge(this.selections);try{for(m.s();!(i=m.n()).done;){var _=i.value,t=this.getDataObject(_);t!==null&&d.push(t)}}catch(r){m.e(r)}finally{m.f()}return d}},{key:"getSelectedObject",value:function(){return this.selections.length===1?this.getDataObject(this.selections[0]):null}},{key:"isSelectedObject",value:function(i){return this.selections.indexOf(i)!==-1}},{key:"isDocElementSelected",value:function(){var i,d=Ge(this.selections);try{for(d.s();!(i=d.n()).done;){var m=i.value;if(this.getDataObject(m)instanceof ye)return!0}}catch(_){d.e(_)}finally{d.f()}return!1}},{key:"isTableElementSelected",value:function(i){var d,m=Ge(this.selections);try{for(m.s();!(d=m.n()).done;){var _=d.value,t=this.getDataObject(_);if(t instanceof Gt&&t.getValue("tableId")===i)return!0}}catch(r){m.e(r)}finally{m.f()}return!1}},{key:"selectObject",value:function(i,d){var m="none",_=this.getDataObject(i);if(d){if(_!==null&&this.selections.length===1&&this.selections[0]===i)return;this.deselectAll(!0)}_!==null&&(_ instanceof ye?m="docElement":_ instanceof ne?m="parameter":_ instanceof $?m="style":_ instanceof Mt&&(m="documentProperties"),this.selections.push(i),_.select(),_.getPanelItem()!==null&&(_.getPanelItem().openParentItems(),_.getPanelItem().setActive()),m!==this.activeDetailPanel&&this.setDetailPanel(m),this.detailPanels[this.activeDetailPanel].selectionChanged(),this.properties.selectCallback&&this.properties.selectCallback(_,!0)),this.selectionSinceLastCommand=!0,this.updateMenuActionButtons()}},{key:"deselectObject",value:function(i){this.deselectObjectInternal(i,!0),this.updateMenuActionButtons()}},{key:"deselectObjectInternal",value:function(i,d){var m=this.getDataObject(i);if(m!==null&&(m.deselect(),m.getPanelItem()!==null&&m.getPanelItem().setInactive()),d){var _=this.selections.indexOf(i);_!==-1&&this.selections.splice(_,1),this.selections.length>0?this.detailPanels[this.activeDetailPanel].selectionChanged():this.setDetailPanel("none")}m!==null&&this.properties.selectCallback&&this.properties.selectCallback(m,!1)}},{key:"deselectAll",value:function(i){var d,m=Ge(this.selections);try{for(m.s();!(d=m.n()).done;){var _=d.value;this.deselectObjectInternal(_,!1)}}catch(t){m.e(t)}finally{m.f()}this.selections=[],i&&this.setDetailPanel("none"),this.updateMenuActionButtons()}},{key:"getContainer",value:function(i,d,m,_){for(var t=null,r=-1,p=0;p<this.containers.length;p++){var s=this.containers[p];if(s.getLevel()>r&&s.isElementAllowed(m)&&s.isInside(i,d)){var k,x=!1,N=Ge(_);try{for(N.s();!(k=N.n()).done;){var H=k.value;if(s===H||s.isChildOf(H)){x=!0;break}}}catch(ee){N.e(ee)}finally{N.f()}x||(t=s,r=s.getLevel())}}return t}},{key:"getContainers",value:function(){return this.containers}},{key:"addContainer",value:function(i){this.containers.push(i),this.addDataObject(i)}},{key:"deleteContainer",value:function(i){for(var d=0;d<this.containers.length;d++)if(this.containers[d].getId()===i.getId()){this.containers.splice(d,1);break}this.deleteDataObject(i)}},{key:"startBrowserDrag",value:function(i,d,m){this.browserDragType=i,this.browserDragId=m,this.getDocument().startBrowserDrag(d)}},{key:"isBrowserDragActive",value:function(i){return this.browserDragType===i}},{key:"getBrowserDragId",value:function(){return this.browserDragId}},{key:"updateSelectionDrag",value:function(i,d,m,_,t){var r;t&&(r=new le(m===ye.dragType.element?"Update position":"Resize",this));var p,s=Ge(this.selections);try{for(s.s();!(p=s.n()).done;){var k=p.value,x=this.getDataObject(k);x!==null&&(m!==ye.dragType.element||x.isDraggingAllowed())&&x.updateDrag(i,d,m,_,t?r:null)}}catch(N){s.e(N)}finally{s.f()}t&&!r.isEmpty()&&this.executeCommand(r)}},{key:"alignSelections",value:function(i){var d,m,_,t,r,p=Number.MAX_VALUE,s=Number.MIN_VALUE,k=Number.MAX_VALUE,x=Number.MIN_VALUE,N=0,H=Ge(this.selections);try{for(H.s();!(r=H.n()).done;){var ee=r.value,oe=this.getDataObject(ee);oe instanceof ye&&oe.hasProperty("x")&&(N++,d=oe.getValue("xVal"),m=oe.getValue("yVal"),_=oe.getValue("widthVal"),t=oe.getValue("heightVal"),d<p&&(p=d),d+_>s&&(s=d+_),m<k&&(k=m),m+t>x&&(x=m+t))}}catch(Ue){H.e(Ue)}finally{H.f()}var te=p+(s-p)/2,_e=k+(x-k)/2;if(N>1){var de,Ie=new le("Align elements",this),Ae=Ge(this.selections);try{for(Ae.s();!(de=Ae.n()).done;){var Pe=de.value,Ee=this.getDataObject(Pe);if(Ee instanceof ye&&!(Ee instanceof Nt))switch(i){case $.alignment.left:var Te=new e(Ee.getId(),"x",""+p,e.type.text,this);Ie.addCommand(Te);break;case $.alignment.center:var He=new e(Ee.getId(),"x",""+(te-Ee.getValue("widthVal")/2),e.type.text,this);Ie.addCommand(He);break;case $.alignment.right:var De=new e(Ee.getId(),"x",""+(s-Ee.getValue("widthVal")),e.type.text,this);Ie.addCommand(De);break;case $.alignment.top:var Ve=new e(Ee.getId(),"y",""+k,e.type.text,this);Ie.addCommand(Ve);break;case $.alignment.middle:var Qe=new e(Ee.getId(),"y",""+(_e-Ee.getValue("heightVal")/2),e.type.text,this);Ie.addCommand(Qe);break;case $.alignment.bottom:var Ke=new e(Ee.getId(),"y",""+(x-Ee.getValue("heightVal")),e.type.text,this);Ie.addCommand(Ke)}}}catch(Ue){Ae.e(Ue)}finally{Ae.f()}this.executeCommand(Ie)}}},{key:"toPixel",value:function(i){return i===""||typeof i=="string"&&(i=parseFloat(i.replace(",",".")),isNaN(i))?"0px":i+"px"}},{key:"showLoading",value:function(){document.getElementById("rbro_loading_div")||document.body.append(n("div",{id:"rbro_loading_div",class:"rbroLoadingIndicator"}))}},{key:"hideLoading",value:function(){var i=document.getElementById("rbro_loading_div");i&&i.remove()}},{key:"getTestData",value:function(){var i,d={},m=Ge(this.getParameters());try{for(m.s();!(i=m.n()).done;){var _=i.value;if(!_.getValue("showOnlyNameType")){var t=_.getValue("type");t===ne.type.array||t===ne.type.simpleArray||t===ne.type.map?d[_.getName()]=_.getTestData(!1):t===ne.type.string||t===ne.type.number||t===ne.type.date?d[_.getName()]=_.getValue("testData"):t===ne.type.boolean?d[_.getName()]=_.getValue("testDataBoolean"):t===ne.type.image?d[_.getName()]=_.getValue("testDataImage"):t===ne.type.richText&&(d[_.getName()]=_.getValue("testDataRichText"))}}}catch(r){m.e(r)}finally{m.f()}return d}},{key:"previewInternal",value:function(i,d){var m=this,_=this.getRequestParameters();this.clearErrors();var t=_.reportServerHeaders;t["Content-Type"]="application/json",_.reportServerBasicAuth&&(t.Authorization="Basic "+btoa(_.reportServerBasicAuth.username+":"+_.reportServerBasicAuth.password)),this.showLoading();var r=new AbortController,p=setTimeout(function(){return r.abort()},_.reportServerTimeout);fetch(_.reportServerUrl,{signal:r.signal,method:"PUT",headers:t,body:JSON.stringify({report:this.getReport(),outputFormat:Mt.outputFormat.pdf,data:i,isTestData:d})}).then(function(s){if(!s.ok)throw Error(s.statusText);return m.properties.autoSaveOnPreview&&m.save(),s}).then(function(s){return s.text()}).then(function(s){if(clearTimeout(p),m.hideLoading(),s.substring(0,4)==="key:")m.reportKey=s.substring(4),m.getDocument().openPdfPreviewTab(_.reportServerUrl+"?key="+m.reportKey+"&outputFormat=pdf",t);else{m.reportKey=null;try{var k=JSON.parse(s);k.errors.length>0&&m.processErrors(k.errors,!1)}catch(x){alert("preview failed")}}}).catch(function(s){clearTimeout(p),m.hideLoading(),alert("preview failed")})}},{key:"getRequestParameters",value:function(){var i={reportServerUrl:this.properties.reportServerUrl,reportServerTimeout:this.properties.reportServerTimeout,reportServerUrlCrossDomain:this.properties.reportServerUrlCrossDomain,reportServerBasicAuth:this.properties.reportServerBasicAuth,reportServerHeaders:this.properties.reportServerHeaders};return this.properties.requestCallback&&this.properties.requestCallback(i),i}},{key:"setModified",value:function(i){this.modified=i,i||(this.savedCommandIndex=this.lastCommandIndex),this.updateMenuButtons()}},{key:"isModified",value:function(){return this.modified}},{key:"getReport",value:function(){var i={docElements:[],parameters:[],styles:[],version:4};i.docElements=this.getDocElements(!1);var d,m=Ge(this.getParameters());try{for(m.s();!(d=m.n()).done;){var _=d.value;i.parameters.push(_.toJS())}}catch(s){m.e(s)}finally{m.f()}var t,r=Ge(this.getStyles());try{for(r.s();!(t=r.n()).done;){var p=t.value;i.styles.push(p.toJS())}}catch(s){r.e(s)}finally{r.f()}return i.documentProperties=this.documentProperties.toJS(),i}},{key:"save",value:function(){if(this.properties.saveCallback)this.properties.saveCallback();else if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null)try{var i=this.getReport();window.localStorage.setItem(this.properties.localStorageReportKey,JSON.stringify(i)),this.setModified(!1)}catch(t){}if(this.getProperty("highlightUnusedParameters")){var d,m=Ge(this.getParameters());try{for(m.s();!(d=m.n()).done;){var _=d.value;_.editable&&_.setHighlightUnused(!1)}}catch(t){m.e(t)}finally{m.f()}}}},{key:"load",value:function(i){var d,m=Ge(this.getParameters());try{for(m.s();!(d=m.n()).done;){var _=d.value;this.deleteDataObject(_)}}catch(tt){m.e(tt)}finally{m.f()}var t,r=Ge(this.getStyles());try{for(r.s();!(t=r.n()).done;){var p=t.value;this.deleteDataObject(p)}}catch(tt){r.e(tt)}finally{r.f()}if(this.deleteDocElements(),this.nextId=1,this.docElements=[],this.objectMap={},this.initObjectMap(),this.selections=[],this.getMainPanel().clearAll(),this.getMainPanel().getHeaderItem().close(),this.getMainPanel().getDocumentItem().close(),this.getMainPanel().getFooterItem().close(),this.getMainPanel().getParametersItem().close(),this.getMainPanel().getStylesItem().close(),i.version<2){var s,k=Ge(i.docElements);try{for(k.s();!(s=k.n()).done;){var x=s.value;x.elementType===ye.type.table&&(x.contentDataRows=[x.contentData],x.contentRows="1")}}catch(tt){k.e(tt)}finally{k.f()}}if(i.version<3){var N,H=Ge(i.docElements);try{for(H.s();!(N=H.n()).done;){var ee=N.value;if(ee.elementType===ye.type.table){for(var oe=0,te=0;te<ee.headerData.columnData.length;te++)oe+=ee.headerData.columnData[te].width;ee.width=oe}}}catch(tt){H.e(tt)}finally{H.f()}}if(i.version<4){var _e,de=Ge(i.parameters);try{for(de.s();!(_e=de.n()).done;){var Ie=_e.value;if(Ie.type===ne.type.map){var Ae,Pe={},Ee=Ge(Ie.children);try{for(Ee.s();!(Ae=Ee.n()).done;){var Te=Ae.value;Pe[Te.name]=Te.testData,Te.testData=""}}catch(tt){Ee.e(tt)}finally{Ee.f()}Ie.testData=JSON.stringify(Pe)}else Ie.type===ne.type.boolean&&(Ie.testDataBoolean=!!Ie.testData)}}catch(tt){de.e(tt)}finally{de.f()}}this.documentProperties.setInitialData(i.documentProperties),this.documentProperties.setup();var He,De=Ge(i.styles);try{for(De.s();!(He=De.n()).done;){var Ve=He.value;this.createStyle(Ve)}}catch(tt){De.e(tt)}finally{De.f()}var Qe,Ke=Ge(i.parameters);try{for(Ke.s();!(Qe=Ke.n()).done;){var Ue=Qe.value;this.createParameter(Ue,null)}}catch(tt){Ke.e(tt)}finally{Ke.f()}var Ye,ve=Ge(i.docElements);try{for(ve.s();!(Ye=ve.n()).done;){var ze=Ye.value;this.createDocElement(ze)}}catch(tt){ve.e(tt)}finally{ve.f()}if(this.getProperty("highlightUnusedParameters")){var ke,Ce=this.getDocElements(!0),Ze=Ge(this.getParameters());try{for(Ze.s();!(ke=Ze.n()).done;){var nt=ke.value;if(nt.editable){var et,dt=new le("Temp group"),ut=Ge(Ce);try{for(ut.s();!(et=ut.n()).done;)et.value.addCommandsForChangedParameterName(nt,nt.getName(),dt)}catch(tt){ut.e(tt)}finally{ut.f()}var st,ct=Ge(this.getParameters());try{for(ct.s();!(st=ct.n()).done;){var it=st.value;it.getId()!==nt.getId()&&it.addCommandsForChangedParameterName(nt,nt.getName(),dt)}}catch(tt){ct.e(tt)}finally{ct.f()}dt.isEmpty()&&nt.setHighlightUnused(!0)}}}catch(tt){Ze.e(tt)}finally{Ze.f()}}this.browserDragType="",this.browserDragId="",this.commandStack=[],this.lastCommandIndex=-1,this.savedCommandIndex=-1,this.modified=!1,this.updateMenuButtons()}},{key:"loadLocalReport",value:function(){if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null){var i=null;try{i=JSON.parse(window.localStorage[this.properties.localStorageReportKey])}catch(d){}i!==null&&this.load(i)}}},{key:"preview",value:function(){this.previewInternal(this.getTestData(),!0)}},{key:"previewWithData",value:function(i){this.previewInternal(i,!1)}},{key:"downloadSpreadsheet",value:function(){var i=this.getRequestParameters(),d=i.reportServerUrl+"?key="+this.reportKey+"&outputFormat=xlsx",m=i.reportServerHeaders,_=this;if(this.reportKey!==null)if(m&&Object.keys(m).length>0){var t=new XMLHttpRequest;for(var r in t.responseType="blob",t.onreadystatechange=function(){if(t.readyState===XMLHttpRequest.DONE)if(t.status===200)if(t.response.type==="application/json"){var p=new FileReader;p.addEventListener("loadend",function(){var k=p.result;try{var x=JSON.parse(k);x.errors.length>0&&_.processErrors(x.errors,!1)}catch(N){alert("download failed")}}),p.readAsText(t.response)}else{var s=URL.createObjectURL(t.response);window.open(s,"_blank")}else alert("download failed")},t.open("GET",d,!0),m)m.hasOwnProperty(r)&&t.setRequestHeader(r,m[r]);t.send()}else window.open(d,"_blank")}},{key:"processErrors",value:function(i,d){(d===void 0||d)&&this.clearErrors();var m,_=Ge(i);try{for(_.s();!(m=_.n()).done;){var t=m.value;if(t.object_id){document.getElementById("rbro_menu_item".concat(t.object_id)).classList.add("rbroError");var r=this.getDataObject(t.object_id);r!==null&&r.addError(t)}}}catch(p){_.e(p)}finally{_.f()}i.length>0&&(this.deselectAll(!1),this.selectObject(i[0].object_id,!1),this.detailPanels[this.activeDetailPanel].scrollToFirstError())}},{key:"clearErrors",value:function(){var i,d=Ge(document.querySelectorAll(".rbroMenuItem"));try{for(d.s();!(i=d.n()).done;)i.value.classList.remove("rbroError")}catch(s){d.e(s)}finally{d.f()}var m,_=Ge(document.querySelectorAll(".rbroFormRow"));try{for(_.s();!(m=_.n()).done;)m.value.classList.remove("rbroError")}catch(s){_.e(s)}finally{_.f()}var t,r=Ge(document.querySelectorAll(".rbroErrorMessage"));try{for(r.s();!(t=r.n()).done;)t.value.textContent=""}catch(s){r.e(s)}finally{r.f()}for(var p in this.objectMap)this.objectMap[p].clearErrors()}},{key:"destroy",value:function(){for(var i in this.popupWindow.destroy(),this.detailPanels)this.detailPanels[i].destroy();this.element.remove(),document.removeEventListener("keydown",this.keydownEventListener),document.removeEventListener("mouseup",this.mouseupEventListener)}},{key:"getUniqueId",value:function(){return this.nextId++}},{key:"getDocElementById",value:function(i){var d=this.getDataObject(i);return d instanceof ye?d:null}},{key:"getParameterById",value:function(i){var d=this.getDataObject(i);return d instanceof ne?d:null}},{key:"getParameterByName",value:function(i){return this.getParameterByNameInternal(i,null)}},{key:"getParameterByNameInternal",value:function(i,d){var m=null,_=null,t=i.indexOf(".");t!==-1&&(m=i.substring(0,t),_=i.substring(t+1));var r,p=Ge(d?d.getChildren():this.getParameters());try{for(p.s();!(r=p.n()).done;){var s=r.value;if(m!==null&&(s.getValue("type")===ne.type.map||s.getValue("type")===ne.type.array)&&s.getValue("name")===m)return this.getParameterByNameInternal(_,s);if(m===null&&s.getValue("name")===i)return s}}catch(k){p.e(k)}finally{p.f()}return null}},{key:"getStyleById",value:function(i){var d=this.getDataObject(i);return d instanceof $?d:null}},{key:"createDocElement",value:function(i){var d=wt.createElement(i.id,i,i.elementType,-1,!1,this),m=d.getMaxId();return m>=this.nextId&&(this.nextId=m+1),d}},{key:"createParameter",value:function(i,d){var m=new ne(i.id,i,this),_=null;_=!d||d.getValue("type")!==ne.type.array&&d.getValue("type")!==ne.type.map?this.mainPanel.getParametersItem():d.getPanelItem();var t=this.getProperty("adminMode"),r=new Ne("parameter",_,m,{hasChildren:!0,showAdd:t,showDelete:t,draggable:!0},this);m.setPanelItem(r),_.appendChild(r),m.setup(),m.getValue("type")!==ne.type.array&&m.getValue("type")!==ne.type.map&&(t&&(document.getElementById("rbro_menu_item_add".concat(m.getId())).style.display="none"),document.getElementById("rbro_menu_item_children".concat(m.getId())).style.display="none",document.getElementById("rbro_menu_item_children_toggle".concat(m.getId())).style.display="none"),this.addParameter(m);var p=m.getMaxId();return p>=this.nextId&&(this.nextId=p+1),m}},{key:"createStyle",value:function(i){var d=new $(i.id,i,this),m=this.mainPanel.getStylesItem(),_=new Ne("style",m,d,{draggable:!0},this);return d.setPanelItem(_),m.appendChild(_),this.addStyle(d),i.id>=this.nextId&&(this.nextId=i.id+1),d}},{key:"deleteDocElement",value:function(i){for(var d=0;d<this.docElements.length;d++)if(this.docElements[d].getId()===i.getId()){this.docElements.splice(d,1),this.deleteDataObject(i),this.notifyEvent(i,h.operation.remove);break}}},{key:"deleteParameter",value:function(i){this.deleteDataObject(i),i.getPanelItem().getParent().removeChild(i.getPanelItem()),this.notifyEvent(i,h.operation.remove)}},{key:"deleteStyle",value:function(i){this.deleteDataObject(i),i.getPanelItem().getParent().removeChild(i.getPanelItem()),this.notifyEvent(i,h.operation.remove)}}]),C}();Wt.V=On})()})()},16496:function(tr){(function(){var Wt=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],Xe=typeof window!="undefined",Je=Xe&&window.mozInnerScreenX!=null;function Pt(ht,at,Y){if(!Xe)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var L=Y&&Y.debug||!1;if(L){var S=document.querySelector("#input-textarea-caret-position-mirror-div");S&&S.parentNode.removeChild(S)}var y=document.createElement("div");y.id="input-textarea-caret-position-mirror-div",document.body.appendChild(y);var g=y.style,v=window.getComputedStyle?getComputedStyle(ht):ht.currentStyle;g.whiteSpace="pre-wrap",ht.nodeName!=="INPUT"&&(g.wordWrap="break-word"),g.position="absolute",L||(g.visibility="hidden"),Wt.forEach(function(h){g[h]=v[h]}),Je?ht.scrollHeight>parseInt(v.height)&&(g.overflowY="scroll"):g.overflow="hidden",y.textContent=ht.value.substring(0,at),ht.nodeName==="INPUT"&&(y.textContent=y.textContent.replace(/\s/g,"\xA0"));var E=document.createElement("span");E.textContent=ht.value.substring(at)||".",y.appendChild(E);var b={top:E.offsetTop+parseInt(v.borderTopWidth),left:E.offsetLeft+parseInt(v.borderLeftWidth)};return L?E.style.backgroundColor="#aaa":document.body.removeChild(y),b}typeof tr.exports!="undefined"?tr.exports=Pt:Xe&&(window.getCaretCoordinates=Pt)})()}}]);
