(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{"/y+f":function(ce,p,e){"use strict";e.d(p,"d",function(){return D}),e.d(p,"b",function(){return A}),e.d(p,"c",function(){return h}),e.d(p,"a",function(){return W});var D;(function(n){n.Unselected="",n.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",n.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",n.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",n.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",n.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",n.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",n.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",n.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",n.Project="EscolaLms\\TopicTypeProject\\Models\\Project",n.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz"})(D||(D={}));var B;(function(n){n.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",n.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(B||(B={}));var E;(function(n){n.draft="draft",n.published="published",n.archived="archived"})(E||(E={}));var A;(function(n){n.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",n.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",n.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(A||(A={}));var h;(function(n){n.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(h||(h={}));var m;(function(n){n.cart_fixed="cart_fixed",n.cart_percent="cart_percent",n.product_fixed="product_fixed",n.product_percent="product_percent"})(m||(m={}));var W;(function(n){n.MULTIPLE_CHOICE="multiple_choice",n.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",n.TRUE_FALSE="true_false",n.SHORT_ANSWERS="short_answers",n.MATCHING="matching",n.NUMERICAL_QUESTION="numerical_question",n.ESSAY="essay",n.DESCRIPTION="description"})(W||(W={}))},"3fxf":function(ce,p,e){"use strict";var D=e("DjyN"),B=e("NUBc"),E=e("Mwp2"),A=e("VXEj"),h=e("+L6B"),m=e("2/Rp"),W=e("5NDa"),n=e("5rEg"),L=e("oBTY"),a=e("k1fw"),s=e("tJVT"),V=e("DYRE"),O=e("zeV3"),_=e("tU7J"),g=e("wFql"),u=e("q1tI"),v=e.n(u),l=e("BAh9"),H=e("/MfK"),P=e("mAF4"),te=e("dF/Y"),C=e("9kvl"),N=e("DBJ/"),fe=e("lLVY"),X=e.n(fe),r=e("nKUr"),Pe=e.n(r),S=function(ne){var t=ne.directory,de=ne.onUploaded;return Object(r.jsxs)(O.b,{align:"start",children:[Object(r.jsxs)(g.a.Text,{children:[Object(r.jsx)(C.a,{id:"pages.files.filesBrowser"}),Object(r.jsx)(g.a.Text,{code:!0,children:t})]}),Object(r.jsx)(N.a,{url:"/api/admin/file/upload",name:"file[]",data:{target:t},onUpload:function(Oe){Oe.success&&de(t,Oe.data)}})]})},ye=function(ne){var t=ne.defaultDirectory,de=t===void 0?"/":t,q=ne.onFile,Oe=ne.hideDeleteBtn,le=Oe===void 0?!1:Oe,z=ne.forceLoading,R=z===void 0?!1:z,J=Object(C.l)(),ee=Object(u.useState)({loading:!1,name:"",directory:de,current_page:1,data:void 0,per_page:1,last_page:1,total:0}),Z=Object(s.a)(ee,2),x=Z[0],G=Z[1],i=Object(u.useRef)(),F=Object(u.useCallback)(function(j){G(function(o){return Object(a.a)(Object(a.a)({},o),{},{loading:j})})},[]),ae=Object(u.useCallback)(function(j,o){j.success&&G(function(c){return Object(a.a)(Object(a.a)(Object(a.a)({},c),j.data),{},{data:[{url:o.split("/").slice(0,-1).join("/"),name:"..",created_at:"",mime:"directory"}].concat(Object(L.a)(j.data.data.map(function(M){return Object(a.a)(Object(a.a)({},M),{},{url:M.mime==="directory"?"".concat(o,"/").concat(M.name):M.url})}))).filter(function(M){return o==="/"||o===de?M.name!=="..":!0}),directory:o,loading:!1})})},[F]),ie=Object(u.useCallback)(function(j){var o,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,M=function(){return i.current&&i.current.abort()};return M(),i.current=new AbortController,F(!0),Object(l.a)({directory:j,page:c},{signal:(o=i.current)===null||o===void 0?void 0:o.signal}).then(function(I){I.success&&ae(I,j)}).catch(function(){return F(!1)}),function(){M()}},[F]);Object(u.useEffect)(function(){return ie(de)},[de,ie]);var pe=Object(u.useCallback)(function(j){F(!0),Object(l.c)(j).then(function(){ie(x.directory)}).catch(function(){F(!1)})},[ie,F,x.directory]),K=Object(u.useCallback)(function(j,o){var c,M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=function(){return i.current&&i.current.abort()};return I(),i.current=new AbortController,F(!0),Object(l.b)({directory:j,name:o,page:M},{signal:(c=i.current)===null||c===void 0?void 0:c.signal}).then(function(y){y.success&&ae(y,j)}).catch(function(){return F(!1)}),function(){I()}},[F]);return Object(r.jsxs)("div",{className:"file-browser",children:[Object(r.jsxs)("div",{className:"file-browser__header",children:[Object(r.jsx)(n.a,{placeholder:J.formatMessage({id:"search_file"}),className:"file-browser__input",onChange:function(o){return G(function(c){return Object(a.a)(Object(a.a)({},c),{},{name:o.target.value})})},value:x.name}),Object(r.jsxs)("div",{children:[Object(r.jsx)(m.a,{className:"file-browser__button",onClick:function(){return ie(x.directory)},children:Object(r.jsx)(C.a,{id:"reset"})}),Object(r.jsx)(m.a,{className:"file-browser__button",type:"primary",onClick:function(){return K(x.directory,x.name)},children:Object(r.jsx)(C.a,{id:"query"})})]})]}),Object(r.jsx)(A.b,{loading:x.loading||R,size:"small",itemLayout:"horizontal",dataSource:x.data,header:Object(r.jsx)(S,{directory:x.directory,onUploaded:function(o,c){c&&(ie(o),q&&q(c,o))}}),footer:Object(r.jsx)(S,{directory:x.directory,onUploaded:function(o,c){ie(o),c&&q&&q(c,o)}}),renderItem:function(o){return Object(r.jsx)(A.b.Item,{actions:o.mime!=="directory"&&!le?[Object(r.jsx)(m.a,{type:"default",danger:!0,icon:Object(r.jsx)(H.a,{}),size:"small",onClick:function(){return pe(o.url)}},"dir")]:[],children:Object(r.jsx)(A.b.Item.Meta,{avatar:o.mime==="directory"?Object(r.jsx)(m.a,{type:"primary",icon:Object(r.jsx)(P.a,{}),size:"small",onClick:function(){return ie(o.url)}}):Object(r.jsx)("a",{href:o.url,target:"_blank",rel:"noreferrer",children:Object(r.jsx)(m.a,{type:"default",icon:Object(r.jsx)(te.a,{}),size:"small"})}),description:Object(r.jsx)(v.a.Fragment,{children:Object(r.jsx)(m.a,{type:"text",size:"small",onClick:function(){return o.mime==="directory"?ie(o.url):q&&q(o,x.directory)},children:o.name})})})})}}),Object(r.jsx)(B.a,{pageSizeOptions:[],current:x.current_page,total:x.total,pageSize:x.per_page,onChange:function(o){return ie(x.directory,o)}})]})};p.a=ye},"5qq5":function(ce,p,e){"use strict";var D=e("7Kak"),B=e("9yH6"),E=e("VTBJ"),A=e("Ff2n"),h=e("nKUr"),m=e.n(h),W=e("uX+g"),n=e("q1tI"),L=e.n(n),a=e("WFLz"),s=e("adzw"),V=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],O=L.a.forwardRef(function(v,l){var H=v.fieldProps,P=v.options,te=v.radioType,C=v.layout,N=v.proFieldProps,fe=v.valueEnum,X=Object(A.a)(v,V);return Object(h.jsx)(s.a,Object(E.a)(Object(E.a)({valueType:te==="button"?"radioButton":"radio",ref:l,valueEnum:Object(W.a)(fe,void 0)},X),{},{fieldProps:Object(E.a)({options:P,layout:C},H),proFieldProps:N,filedConfig:{customLightMode:!0}}))}),_=L.a.forwardRef(function(v,l){var H=v.fieldProps,P=v.children;return Object(h.jsx)(B.a,Object(E.a)(Object(E.a)({},H),{},{ref:l,children:P}))}),g=Object(a.a)(_,{valuePropName:"checked",ignoreWidth:!0}),u=g;u.Group=O,u.Button=B.a.Button,u.displayName="ProFormComponent",p.a=u},BAh9:function(ce,p,e){"use strict";e.d(p,"a",function(){return h}),e.d(p,"b",function(){return W}),e.d(p,"e",function(){return L}),e.d(p,"d",function(){return s}),e.d(p,"c",function(){return V});var D=e("qLMh"),B=e("k1fw"),E=e("9og8"),A=e("9kvl");function h(_,g){return m.apply(this,arguments)}function m(){return m=Object(E.a)(Object(D.a)().mark(function _(g,u){return Object(D.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(A.i)("/api/admin/file/list",Object(B.a)({method:"GET",params:g},u||{})));case 1:case"end":return l.stop()}},_)})),m.apply(this,arguments)}function W(_,g){return n.apply(this,arguments)}function n(){return n=Object(E.a)(Object(D.a)().mark(function _(g,u){return Object(D.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(A.i)("/api/admin/file/find",Object(B.a)({method:"GET",params:g},u||{})));case 1:case"end":return l.stop()}},_)})),n.apply(this,arguments)}function L(_,g,u){return a.apply(this,arguments)}function a(){return a=Object(E.a)(Object(D.a)().mark(function _(g,u,v){var l;return Object(D.a)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return l=new FormData,l.append("file[]",g),l.append("target",u),P.abrupt("return",Object(A.i)("/api/admin/file/upload",Object(B.a)({method:"POST",data:l},v||{})));case 4:case"end":return P.stop()}},_)})),a.apply(this,arguments)}var s=function(g){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(g,"&w=").concat(u)};function V(_,g){return O.apply(this,arguments)}function O(){return O=Object(E.a)(Object(D.a)().mark(function _(g,u){return Object(D.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(A.i)("/api/admin/file/delete",Object(B.a)({method:"DELETE",data:{url:g}},u||{})));case 1:case"end":return l.stop()}},_)})),O.apply(this,arguments)}},BiO0:function(ce,p,e){"use strict";var D=e("VTBJ"),B=e("Ff2n"),E=e("nKUr"),A=e.n(E),h=e("q1tI"),m=e.n(h),W=e("adzw"),n=["fieldProps","proFieldProps"],L=function(s,V){var O=s.fieldProps,_=s.proFieldProps,g=Object(B.a)(s,n);return Object(E.jsx)(W.a,Object(D.a)({ref:V,valueType:"textarea",fieldProps:O,proFieldProps:_},g))};p.a=m.a.forwardRef(L)},"DBJ/":function(ce,p,e){"use strict";var D=e("k1fw"),B=e("y8nQ"),E=e("Vl3Y"),A=e("tJVT"),h=e("etVw"),m=e("q1tI"),W=e.n(m),n=e("9kvl"),L=e("qFDU"),a=e("nKUr"),s=e.n(a);function V(O){var _=O.onChange,g=O.onUpload,u=O.url,v=O.name,l=O.extra,H=O.accept,P=O.data,te=O.wrapInForm,C=te===void 0?!0:te,N=O.title,fe=O.formProps,X=O.maxFiles,r=O.clearListAfterUpload,Pe=O.hideLabel,S=Object(m.useState)(),ye=Object(A.a)(S,2),ve=ye[0],ne=ye[1],t=Object(n.l)();return P&&P[v]&&delete P[v],Object(a.jsx)(L.a,{condition:C,wrap:function(q){return Object(a.jsx)(E.a,Object(D.a)(Object(D.a)({},fe),{},{children:q}))},children:Object(a.jsx)(h.a,{title:N||" ".concat(t.formatMessage({id:"upload_click_here"})),placeholder:t.formatMessage({id:"upload_click_here"}),onChange:function(q){ne(q),_&&_(q),q.file.status==="done"&&(g&&g(q.file.response),r&&ne(void 0))},label:!Pe&&Object(a.jsx)(n.a,{id:"upload"}),max:X!=null?X:2,fieldProps:{data:P,accept:H,name:v,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(u),extra:l,fileList:ve==null?void 0:ve.fileList})})}p.a=V},FJDo:function(ce,p,e){"use strict";var D=e("VTBJ"),B=e("Ff2n"),E=e("nKUr"),A=e.n(E),h=e("q1tI"),m=e.n(h),W=e("adzw"),n=["fieldProps","min","proFieldProps","max"],L=function(s,V){var O=s.fieldProps,_=s.min,g=s.proFieldProps,u=s.max,v=Object(B.a)(s,n);return Object(E.jsx)(W.a,Object(D.a)({valueType:"digit",fieldProps:Object(D.a)({min:_,max:u},O),ref:V,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:g},v))};p.a=m.a.forwardRef(L)},HEzf:function(ce,p,e){"use strict";var D=e("EFp3"),B=e("O/iA"),E=e("OaEy"),A=e("wx14"),h=e("U8pU"),m=e("ODXe"),W=e("TSYQ"),n=e.n(W),L=e("Zm9Q"),a=e("bT9E"),s=e("q1tI"),V=e.n(s),O=e("H84U"),_=e("2fM7"),g=e("0n0R"),u=_.a.Option;function v(pe){return pe&&pe.type&&(pe.type.isSelectOption||pe.type.isSelectOptGroup)}var l=function(K,j){var o=K.prefixCls,c=K.className,M=K.popupClassName,I=K.dropdownClassName,y=K.children,he=K.dataSource,re=Object(L.a)(y),xe;if(re.length===1&&Object(g.c)(re[0])&&!v(re[0])){var be=Object(m.a)(re,1);xe=be[0]}var Le=xe?function(){return xe}:void 0,Re;return re.length&&v(re[0])?Re=y:Re=he?he.map(function(me){if(Object(g.c)(me))return me;switch(Object(h.a)(me)){case"string":return s.createElement(u,{key:me,value:me},me);case"object":{var oe=me.value;return s.createElement(u,{key:oe,value:oe},me.text)}default:return}}):[],s.createElement(O.a,null,function(me){var oe=me.getPrefixCls,Ce=oe("select",o);return s.createElement(_.a,Object(A.a)({ref:j},Object(a.a)(K,["dataSource"]),{prefixCls:Ce,popupClassName:M||I,className:n()("".concat(Ce,"-auto-complete"),c),mode:_.a.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:Le}),Re)})},H=s.forwardRef(l);H.Option=u;var P=H,te=e("y8nQ"),C=e("Vl3Y"),N=e("+L6B"),fe=e("2/Rp"),X=e("5NDa"),r=e("5rEg"),Pe=e("tJVT"),S=e("VMEa"),ye=e("rmhi"),ve=e("Qurx"),ne=e("F/zT"),t=e("5qq5"),de=e("BiO0"),q=e("tneF"),Oe=e("FJDo"),le=e("9kvl"),z=e("+up7"),R=e("hd5d"),J=e("3fxf"),ee=e("ovOe"),Z=e.n(ee),x=e("bRQS"),G=e("4i/N"),i=e("nKUr"),F=function(K){var j=K.value,o=K.onChange,c=K.type,M=c===void 0?"file":c,I=Object(s.useState)(!1),y=Object(Pe.a)(I,2),he=y[0],re=y[1];return Object(i.jsxs)(V.a.Fragment,{children:[Object(i.jsxs)(S.a.Group,{children:[Object(i.jsx)(r.a,{value:j,readOnly:!0}),Object(i.jsxs)(fe.a,{size:"small",type:"primary",onClick:function(){return re(!he)},children:["toggle ",M," browser"]})]}),he&&Object(i.jsx)(J.a,{onFile:function(be,Le){return o&&o("".concat(Le,"/").concat(be.name))}})]})},ae=function(K){var j=Object(le.l)(),o=K.visible,c=K.onVisibleChange,M=K.onFinish,I=K.id,y=K.initialData,he=K.groups,re=C.a.useForm(),xe=Object(Pe.a)(re,1),be=xe[0],Le=!I||I===-1,Re=Object(s.useState)("text"),me=Object(Pe.a)(Re,2),oe=me[0],Ce=me[1],Y=Object(s.useCallback)(function(){return!!(be.getFieldValue("group")==="global"||y)},[be,y]),b=Object(s.useState)(""),d=Object(Pe.a)(b,2),T=d[0],$=d[1];Object(s.useEffect)(function(){if(typeof I=="object"){var f;be.setFieldsValue(I),Ce((f=I.type)!==null&&f!==void 0?f:"text")}else I&&I!==-1?Object(z.d)(Number(I)).then(function(U){U.success&&(be.setFieldsValue(U.data),Ce(U.data.type),$(U.data.group))}):(be.resetFields(),Ce("text"))},[I,be,y]);var se=Object(s.useCallback)(function(f){f.type&&f.type!==oe&&Ce(f.type)},[oe]);return Object(i.jsxs)(ye.a,{form:be,title:j.formatMessage({id:I?"editSetting":"newSetting",defaultMessage:I?"editSetting":"newSetting"}),width:"60vw",visible:!!o,onVisibleChange:c,onFinish:M,onValuesChange:se,children:[Object(i.jsxs)(S.a.Group,{children:[y?Object(i.jsx)(ve.a,{label:Object(i.jsx)(le.a,{id:"group",defaultMessage:"group"}),rules:[{required:!0}],width:"md",name:"group",disabled:Y()}):Object(i.jsx)(S.a.Item,{label:Object(i.jsx)(le.a,{id:"group",defaultMessage:"group"}),name:"group",children:Object(i.jsx)(P,{style:{width:"300px"},autoFocus:!0,value:T,onChange:function(U){return $(U)},filterOption:function(U,_e){var w;return(_e==null||(w=_e.children)===null||w===void 0?void 0:w.toString().toLowerCase().indexOf(U.toLowerCase()))!==-1},children:he.map(function(f){return Object(i.jsx)(P.Option,{value:f,children:f},f)})})}),Object(i.jsx)(ve.a,{label:Object(i.jsx)(le.a,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key",disabled:Y()})]}),Object(i.jsxs)(S.a.Group,{children:[Object(i.jsx)(ne.a,{name:"enumerable",disabled:Y(),label:Object(i.jsx)(le.a,{id:"enumerable",defaultMessage:"enumerable"})}),Object(i.jsx)(ne.a,{name:"public",disabled:Y(),label:Object(i.jsx)(le.a,{id:"public",defaultMessage:"public"})})]}),Object(i.jsx)(S.a.Group,{children:Object(i.jsx)(t.a.Group,{disabled:!!(!Le||y),name:"type",label:Object(i.jsx)(le.a,{id:"type"}),options:[{label:"text",value:"text"},{label:"markdown",value:"markdown"},{label:"json",value:"json"},{label:"file",value:"file"},{label:"image",value:"image"},{label:"boolean",value:"boolean"},{label:"number",value:"number"}]})}),Object(i.jsxs)("div",{children:[oe==="text"&&Object(i.jsx)(ve.a,{width:"lg",name:"value",label:Object(i.jsx)(le.a,{id:"value"})}),oe==="json"&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(de.a,{width:"lg",name:"value",label:Object(i.jsx)(le.a,{id:"value"}),tooltip:"".concat(j.formatMessage({id:"example_json"}),': {"name":"John", "age":30, "city":["New York","Warsaw"]}')}),Object(i.jsx)(S.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(i.jsx)(Z.a,{src:JSON.parse(be.getFieldValue("value"))})}catch(U){return Object(i.jsx)(Z.a,{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]}),(oe==="file"||oe==="image")&&Object(i.jsx)(S.a.Item,{name:"value",label:"value",tooltip:"select file from current repository or upload new one",valuePropName:"value",children:Object(i.jsx)(F,{type:oe})}),oe==="markdown"&&Object(i.jsx)(S.a.Item,{name:"value",label:"value",tooltip:"The editor is WYSIWYG and includes formatting tools whilst retaining the ability to write markdown shortcuts inline and output plain Markdown.",valuePropName:"value",children:Object(i.jsx)(R.a,{directory:"settings/wysiwyg"})}),oe==="boolean"?Object(i.jsx)(ne.a,{name:"data",label:Object(i.jsx)(le.a,{id:"value"}),checkedChildren:Object(i.jsx)(x.a,{}),unCheckedChildren:Object(i.jsx)(G.a,{})}):Object(i.jsx)(S.a.Item,{noStyle:!0,hidden:!0,children:Object(i.jsx)(q.a,{name:"data",valuePropName:"data"})}),oe==="number"&&Object(i.jsx)(Oe.a,{name:"data",label:Object(i.jsx)(le.a,{id:"value"})})]})]})},ie=p.a=ae},"O/iA":function(ce,p,e){},Qurx:function(ce,p,e){"use strict";var D=e("VTBJ"),B=e("Ff2n"),E=e("nKUr"),A=e.n(E),h=e("adzw"),m=["fieldProps","proFieldProps"],W=["fieldProps","proFieldProps"],n="text",L=function(O){var _=O.fieldProps,g=O.proFieldProps,u=Object(B.a)(O,m);return Object(E.jsx)(h.a,Object(D.a)({valueType:n,fieldProps:_,filedConfig:{valueType:n},proFieldProps:g},u))},a=function(O){var _=O.fieldProps,g=O.proFieldProps,u=Object(B.a)(O,W);return Object(E.jsx)(h.a,Object(D.a)({valueType:"password",fieldProps:_,proFieldProps:g,filedConfig:{valueType:n}},u))},s=L;s.Password=a,s.displayName="ProFormComponent",p.a=s},YjuE:function(ce,p,e){"use strict";e.r(p);var D=e("fOrg"),B=e("+KLJ"),E=e("T2oS"),A=e("W9HT"),h=e("tJVT"),m=e("q1tI"),W=e.n(m),n=e("nhC9"),L=e("Ty5D"),a=e("9kvl"),s=e("tMyG"),V=e("+up7"),O=e("P2fV"),_=e("NJEC"),g=e("5Dmo"),u=e("3S7+"),v=e("+L6B"),l=e("2/Rp"),H=e("+BJd"),P=e("mr32"),te=e("jrin"),C=e("qLMh"),N=e("k1fw"),fe=e("miYZ"),X=e("tsqr"),r=e("9og8"),Pe=e("xvlK"),S=e("Qiat"),ye=e("HEzf"),ve=e("G3dp"),ne=e("/MfK"),t=e("nKUr"),de=function(){var Y=Object(r.a)(Object(C.a)().mark(function b(d,T,$){var se;return Object(C.a)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return se=X.b.loading(d.formatMessage({id:"loading"})),U.prev=1,U.next=4,$&&$!==-1?Object(V.h)($,Object(N.a)({},T)):Object(V.b)(Object(N.a)({},T));case 4:return se(),X.b.success(d.formatMessage({id:"success"})),U.abrupt("return",!0);case 9:return U.prev=9,U.t0=U.catch(1),se(),X.b.error(d.formatMessage({id:"error"})),U.abrupt("return",!1);case 14:case"end":return U.stop()}},b,null,[[1,9]])}));return function(d,T,$){return Y.apply(this,arguments)}}(),q=function(){var Y=Object(r.a)(Object(C.a)().mark(function b(d,T){var $;return Object(C.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return $=X.b.loading(d.formatMessage({id:"loading"})),f.prev=1,f.next=4,Object(V.c)(T);case 4:return $(),X.b.success(d.formatMessage({id:"success"})),f.abrupt("return",!0);case 9:return f.prev=9,f.t0=f.catch(1),$(),X.b.error(d.formatMessage({id:"error"})),f.abrupt("return",!1);case 14:case"end":return f.stop()}},b,null,[[1,9]])}));return function(d,T){return Y.apply(this,arguments)}}(),Oe=function(){var b=Object(m.useState)(!1),d=Object(h.a)(b,2),T=d[0],$=d[1],se=Object(m.useState)([]),f=Object(h.a)(se,2),U=f[0],_e=f[1],w=Object(m.useRef)(),je=Object(a.l)(),Ee=Object(a.m)("@@initialState"),Q=Ee.setInitialState;Object(m.useEffect)(function(){Object(V.e)().then(function(k){k.success&&_e(k.data.filter(function(ue){return ue!=="global"}))})},[]);var Me=[{title:Object(t.jsx)(a.a,{id:"group",defaultMessage:"group"}),dataIndex:"group",hideInSearch:!1,key:"group",valueType:"select",width:100,valueEnum:U.sort().reduce(function(k,ue){return Object(N.a)(Object(N.a)({},k),{},Object(te.a)({},ue,ue))},{})},{title:Object(t.jsx)(a.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"enumerable",defaultMessage:"enumerable"}),dataIndex:"enumerable",hideInForm:!0,hideInSearch:!0,render:function(ue,ge){return Object(t.jsx)(P.a,{color:ge.enumerable?"success":"error",children:Object(t.jsx)(a.a,{id:ge.enumerable?"true":"false",defaultMessage:ge.enumerable?"true":"false"})})}},{title:Object(t.jsx)(a.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(ue,ge){return Object(t.jsx)(P.a,{color:ge.public?"success":"error",children:Object(t.jsx)(a.a,{id:ge.public?"true":"false",defaultMessage:ge.public?"true":"false"})})}},{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(ue,ge){return[Object(t.jsx)(u.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(l.a,{type:"primary",icon:Object(t.jsx)(ve.a,{}),onClick:function(){return $(ge.id)}})},"edit"),Object(t.jsx)(_.a,{title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(r.a)(Object(C.a)().mark(function Te(){var Ue;return Object(C.a)().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Ae.next=2,q(je,ge.id);case 2:Ue=Ae.sent,Ue&&($(!1),w.current&&w.current.reload());case 4:case"end":return Ae.stop()}},Te)})),okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(u.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(l.a,{type:"primary",icon:Object(t.jsx)(ne.a,{}),danger:!0})})},"delete")]}}];return Object(t.jsxs)(W.a.Fragment,{children:[Object(t.jsx)(S.a,{headerTitle:je.formatMessage({id:"menu.settings"}),actionRef:w,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[Object(t.jsxs)(l.a,{type:"primary",onClick:function(){$(-1)},children:[Object(t.jsx)(Pe.a,{})," ",Object(t.jsx)(a.a,{id:"pages.searchTable.new"})]},"primary")]},request:function(ue){var ge=ue.pageSize,Te=ue.current,Ue=ue.group;return Object(V.f)({pageSize:ge,current:Te,group:Ue}).then(function(Ie){return Ie.success?{data:Ie.data.filter(function(Ae){return Ae.group!=="global"}),total:Ie.meta.total,success:!0}:[]})},columns:Me}),Object(t.jsx)(ye.a,{groups:U,id:T,visible:Number.isInteger(T),onVisibleChange:function(ue){return!ue&&$(!1)},onFinish:function(){var k=Object(r.a)(Object(C.a)().mark(function ue(ge){var Te,Ue,Ie;return Object(C.a)().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return Te=ge,De.next=3,de(je,Te,Number(T));case 3:if(Ue=De.sent,!Ue){De.next=12;break}if($(!1),w.current&&w.current.reload(),Te.group!=="global"){De.next=12;break}return De.next=10,Object(V.f)({current:1,pageSize:100,group:"global"});case 10:Ie=De.sent,Q(function(Be){return Object(N.a)(Object(N.a)({},Be),{},{config:Ie.success?Ie.data:Be==null?void 0:Be.config})});case 12:case"end":return De.stop()}},ue)}));return function(ue){return k.apply(this,arguments)}}()})]})},le=Oe,z=e("y8nQ"),R=e("Vl3Y"),J=e("tU7J"),ee=e("wFql"),Z=e("rmhi"),x=e("VMEa"),G=e("F/zT"),i=e("BiO0"),F=e("ovOe"),ae=e.n(F),ie=e("Fghh"),pe=e("Qurx"),K=function(b){var d=b.field,T=b.name;return d!=null&&d.includes("boolean")?Object(t.jsx)(G.a,{name:T,checkedChildren:Object(t.jsx)(ie.a,{id:"true"}),unCheckedChildren:Object(t.jsx)(ie.a,{id:"false"})}):Object(t.jsx)(pe.a,{width:"lg",name:T})},j=K,o=ee.a.Text,c;(function(Y){Y.Array="array",Y.String="string"})(c||(c={}));var M=function(b,d){return d===c.Array?b&&Array.isArray(b)?JSON.stringify(b):"[]":b},I=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",d=arguments.length>1?arguments[1]:void 0;if(d===c.Array){var T=JSON.parse(b);return T&&Array.isArray(T)?T:[]}return b},y=function(b){var d=Object(ie.k)(),T=b.visible,$=b.onVisibleChange,se=b.onFinish,f=b.value,U=R.a.useForm(),_e=Object(h.a)(U,1),w=_e[0],je=Object(m.useMemo)(function(){return(f.rules||[]).includes(c.Array)?c.Array:c.String},[f.rules]);return Object(m.useEffect)(function(){w.setFieldsValue(Object(N.a)(Object(N.a)({},f),{},{value:M(f.value,je)}))},[je,f,w]),Object(t.jsxs)(Z.a,{form:w,title:f.full_key,width:"60vw",visible:T,onVisibleChange:$,onFinish:Object(r.a)(Object(C.a)().mark(function Ee(){var Q;return Object(C.a)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,Object(V.g)({key:f.full_key,value:I(w.getFieldsValue().value,je)});case 2:if(Q=k.sent,!Q.success){k.next=6;break}return se(Q.success===!0),k.abrupt("return",Q.success);case 6:return k.abrupt("return");case 7:case"end":return k.stop()}},Ee)})),children:[Object(t.jsxs)(x.a.Group,{children:[Object(t.jsx)(G.a,{disabled:!0,name:"public",label:Object(t.jsx)(a.a,{id:"public",defaultMessage:"public"})}),Object(t.jsx)(G.a,{disabled:!0,name:"readonly",label:Object(t.jsx)(a.a,{id:"readonly",defaultMessage:"readonly"})}),Object(t.jsx)(x.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"rules",defaultMessage:"rules"}),children:function(){return Object(t.jsx)(o,{code:!0,children:JSON.stringify(w.getFieldValue("rules"))})}})]}),je===c.Array?Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(i.a,{width:"lg",name:"value",label:Object(t.jsx)(a.a,{id:"value"}),tooltip:"".concat(d.formatMessage({id:"example_json"}),': ["first_field_name", "second_field_name"]')}),Object(t.jsx)(x.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(t.jsx)(ae.a,{src:JSON.parse(w.getFieldValue("value"))})}catch(Q){return Object(t.jsx)(ae.a,{src:JSON.parse('{ "error": "cannot parse this array" }')})}}})]}):Object(t.jsx)(t.Fragment,{children:Object(t.jsx)(x.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"value"}),children:function(){return Object(t.jsx)(j,{field:w.getFieldValue("rules"),name:"value"})}})})]})},he=y,re=[{title:Object(t.jsx)(a.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"readonly",defaultMessage:"readonly"}),dataIndex:"readonly",hideInForm:!0,hideInSearch:!0,render:function(b,d){return Object(t.jsx)(P.a,{color:d.readonly?"success":"error",children:Object(t.jsx)(a.a,{id:d.readonly?"true":"false",defaultMessage:d.readonly?"true":"false"})})}},{title:Object(t.jsx)(a.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(b,d){return Object(t.jsx)(P.a,{color:d.public?"success":"error",children:Object(t.jsx)(a.a,{id:d.public?"true":"false",defaultMessage:d.public?"true":"false"})})}},{title:Object(t.jsx)(a.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(b,d){return typeof d.value=="boolean"?Object(t.jsx)(P.a,{color:d.value?"success":"error",children:Object(t.jsx)(a.a,{id:d.value?"true":"false",defaultMessage:d.value?"true":"false"})}):d.value}}],xe=function Y(b,d){var T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return!b||typeof b!="object"?!1:(Object.keys(b).forEach(function($){var se=b[$];$===d?T.push(b):typeof se=="object"&&Y(se,d,T)}),T)},be=function(b){var d=b.packageName,T=b.values,$=b.onValueUpdated,se=Object(a.l)(),f=Object(m.useState)(),U=Object(h.a)(f,2),_e=U[0],w=U[1],je=Object(m.useMemo)(function(){var Ee=T[d];return xe(Ee,"rules")},[T,d]);return Object(t.jsxs)(W.a.Fragment,{children:[Object(t.jsx)(S.a,{headerTitle:se.formatMessage({id:"menu.settings"}),rowKey:"key",search:{layout:"vertical"},dataSource:je,columns:[].concat(re,[{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(Q,Me){return[Object(t.jsx)(u.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(l.a,{type:"primary",icon:Object(t.jsx)(ve.a,{}),onClick:function(){return w(Me)}})},"edit")]}}])}),_e&&Object(t.jsx)(he,{value:_e,visible:_e!==void 0,onVisibleChange:function(Q){return Q===!1&&w(void 0)},onFinish:Object(r.a)(Object(C.a)().mark(function Ee(){return Object(C.a)().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:$();case 1:case"end":return Me.stop()}},Ee)}))})]})},Le=be,Re=e("t4ZK"),me=e("I5X1"),oe=function(b){return b.replaceAll("escolalms","").split("_").join("")},Ce=p.default=function(){var Y=Object(L.l)(),b=Object(a.l)(),d=Y.tab,T=d===void 0?"user_settings":d,$=Object(m.useState)(),se=Object(h.a)($,2),f=se[0],U=se[1],_e=Object(m.useCallback)(function(){Object(V.a)().then(function(Q){Q.success&&U(Q.data)})},[]),w=Object(me.a)("@@initialState"),je=w.initialState,Ee=Object(m.useCallback)(function(){var Q;return(je==null||(Q=je.config)===null||Q===void 0?void 0:Q.length)!==0},[je]);return Object(m.useEffect)(function(){_e()},[]),f?Object(t.jsxs)(s.a,{title:Object(t.jsx)(a.a,{id:"settings"}),header:{breadcrumb:{routes:[{path:"settings",breadcrumbName:b.formatMessage({id:"menu.Configuration.settings"})},{path:String(T),breadcrumbName:String(T)}]}},children:[!Ee()&&Object(t.jsx)(B.a,{message:Object(t.jsx)(a.a,{id:"global_settings_alert_title",defaultMessage:"Add global settings"}),description:Object(t.jsx)(a.a,{id:"global_settings_alert_description",defaultMessage:"Global settings are used to configure the entire LMS. You can add global settings by clicking the button below."}),type:"warning",showIcon:!0,style:{marginBottom:"20px"}}),Object(t.jsxs)(n.a,{tabs:{type:"card",activeKey:T,onChange:function(Me){return a.f.push("/configuration/settings/".concat(Me))}},children:[Object(t.jsx)(n.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"user.settings"}),children:Object(t.jsx)(le,{})},"user_settings"),Object(t.jsx)(n.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"global_settings"}),children:Object(t.jsx)(Re.a,{})},"global_settings"),Object.keys(f).map(function(Q){return Object(t.jsxs)(n.a.TabPane,{tab:Object(t.jsxs)("span",{children:[Object(t.jsx)(a.a,{id:"package"})," ",oe(Q)]}),children:[Object(t.jsx)(Le,{values:f,packageName:Q,onValueUpdated:function(){return _e()}}),Q]},Q)})]})]}):Object(t.jsx)(A.a,{})}},hd5d:function(ce,p,e){"use strict";var D=e("qLMh"),B=e("9og8"),E=e("q1tI"),A=e.n(E),h=e("acco"),m=e.n(h),W=e("BAh9"),n=e("vtG9"),L=e.n(n),a=e("9kvl"),s=e("nKUr"),V=e.n(s),O=function(u){var v=u.attrs,l=v.href,H=l.split("/").pop();return Object(s.jsx)("p",{children:Object(s.jsx)("a",{rel:"noreferrer",href:l,target:"_blank",children:H})})},_=function(u){var v=u.value,l=u.onChange,H=u.directory,P=H===void 0?"/wysiwyg":H,te=Object(a.l)();return Object(s.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(s.jsx)(m.a,{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function(N){return!0},component:O}],uploadImage:function(){var C=Object(B.a)(Object(D.a)().mark(function N(fe){var X,r;return Object(D.a)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,Object(W.e)(fe,P);case 2:if(X=S.sent,!X.success){S.next=8;break}if(!fe.type.includes("image/")){S.next=7;break}return r=X.data[0].name.includes("/")?X.data[0].name:"".concat(P).concat(X.data[0].name),S.abrupt("return",Object(W.d)(r,1e3));case 7:return S.abrupt("return",X.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return S.stop()}},N)}));return function(N){return C.apply(this,arguments)}}(),defaultValue:v||"",onChange:function(N){return l&&l(N())},placeholder:te.formatMessage({id:"wysiwyg_placeholder"})})})};p.a=_},lLVY:function(ce,p,e){},t4ZK:function(ce,p,e){"use strict";e.d(p,"b",function(){return de});var D=e("P2fV"),B=e("NJEC"),E=e("5Dmo"),A=e("3S7+"),h=e("+L6B"),m=e("2/Rp"),W=e("tJVT"),n=e("jrin"),L=e("oBTY"),a=e("qLMh"),s=e("k1fw"),V=e("miYZ"),O=e("tsqr"),_=e("9og8"),g=e("xvlK"),u=e("q1tI"),v=e.n(u),l=e("9kvl"),H=e("Qiat"),P=e("/y+f"),te=e("+up7"),C=e("HEzf"),N=e("G3dp"),fe=e("/MfK"),X=e("ujla"),r=e("nKUr"),Pe=e.n(r),S=function(){var z=Object(_.a)(Object(a.a)().mark(function R(J,ee,Z){var x,G;return Object(a.a)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return x=O.b.loading(J.formatMessage({id:"loading"})),F.prev=1,F.next=4,Z&&Z!==-1?Object(te.h)(Z,Object(s.a)({},ee)):Object(te.b)(Object(s.a)({},ee));case 4:return G=F.sent,x(),O.b.success(J.formatMessage({id:"success"})),F.abrupt("return",{success:!0,updatedSettings:G});case 10:return F.prev=10,F.t0=F.catch(1),x(),O.b.error(J.formatMessage({id:"error"})),F.abrupt("return",{success:!1,updateSettings:null});case 15:case"end":return F.stop()}},R,null,[[1,10]])}));return function(J,ee,Z){return z.apply(this,arguments)}}(),ye=function(){var z=Object(_.a)(Object(a.a)().mark(function R(J,ee){var Z;return Object(a.a)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return Z=O.b.loading(J.formatMessage({id:"loading"})),G.prev=1,G.next=4,Object(te.c)(ee);case 4:return Z(),O.b.success(J.formatMessage({id:"success"})),G.abrupt("return",!0);case 9:return G.prev=9,G.t0=G.catch(1),Z(),O.b.error(J.formatMessage({id:"error"})),G.abrupt("return",!1);case 14:case"end":return G.stop()}},R,null,[[1,9]])}));return function(J,ee){return z.apply(this,arguments)}}(),ve=function(R){return R.toLowerCase().replace(/(_\w)/g,function(J){return J.toUpperCase().substr(1)})},ne=function z(R){return R.reduce(function(J,ee){return[].concat(Object(L.a)(J),Object(L.a)(ee.routes?z(ee.routes):[]),[ee])},[]).filter(function(J){return J.layout!==!1&&J.hideInMenu!==!0})},t=function(R){return"hideInMenu-".concat(ve(R.split("/").join("_")))},de=function(R){return"disableTopicType-".concat(R)},q=[].concat(Object(L.a)(Object.keys(P.d).map(function(z,R){return{id:-1*(R+200),key:de(z),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(L.a)(ne(Object(X.a)()).filter(function(z){return z.path&&z.path!=="/"}).map(function(z,R){return{id:-1*(R+100),path:z.path,key:t(z.path),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(L.a)(["ECommerce","Certificates"].map(function(z,R){return{id:-1*(R+100),key:"disable-".concat(z),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}}))).reduce(function(z,R,J){return Object(s.a)(Object(s.a)({},z),{},Object(n.a)({},R.key,Object(s.a)(Object(s.a)({},R),{},{id:-1*J})))},{}),Oe=Object(s.a)({logo:{id:-1,key:"logo",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},frontURL:{id:-2,key:"frontURL",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},maxLessonsNestingInProgram:{id:-4,key:"maxLessonsNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},minTopicNestingInProgram:{id:-5,key:"minTopicNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0}},q),le=function(){var R=Object(u.useState)(!1),J=Object(W.a)(R,2),ee=J[0],Z=J[1],x=Object(u.useRef)(),G=Object(l.l)(),i=Object(l.m)("@@initialState"),F=i.setInitialState,ae=i.initialState,ie=[{title:Object(r.jsx)(l.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(r.jsx)(l.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:Object(r.jsx)(l.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(j,o){return o.value}},{hideInSearch:!0,title:Object(r.jsx)(l.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(j,o){return[o.id>0?Object(r.jsx)(A.a,{title:Object(r.jsx)(l.a,{id:"edit",defaultMessage:"edit"}),children:Object(r.jsx)(m.a,{type:"primary",icon:Object(r.jsx)(N.a,{}),onClick:function(){return Z(o.id)}})},"edit"):Object(r.jsx)(A.a,{title:Object(r.jsx)(l.a,{id:"create",defaultMessage:"create"}),children:Object(r.jsx)(m.a,{type:"primary",icon:Object(r.jsx)(g.a,{}),onClick:function(){Z(Oe[o.key]||-1)}})},"create"),Object(r.jsx)(B.a,{title:Object(r.jsx)(l.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(_.a)(Object(a.a)().mark(function c(){var M;return Object(a.a)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,ye(G,o.id);case 2:M=y.sent,M&&(Z(!1),x.current&&x.current.reload());case 4:case"end":return y.stop()}},c)})),okText:Object(r.jsx)(l.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(r.jsx)(l.a,{id:"no",defaultMessage:"No"}),children:o.id>0?Object(r.jsx)(A.a,{title:Object(r.jsx)(l.a,{id:"delete",defaultMessage:"delete"}),children:Object(r.jsx)(m.a,{type:"primary",icon:Object(r.jsx)(fe.a,{}),danger:!0})}):null},"delete")]}}],pe=function(j){var o;if(!!j&&(!(ae!=null&&(o=ae.config)!==null&&o!==void 0&&o.length)&&j&&F(Object(s.a)(Object(s.a)({},ae),{},{config:[j]})),!!(ae!=null&&ae.config))){var c=ae==null?void 0:ae.config.map(function(M){return M.key===j.key?Object(s.a)(Object(s.a)({},M),j):M});F(Object(s.a)(Object(s.a)({},ae),{},{config:c}))}};return Object(r.jsxs)(v.a.Fragment,{children:[Object(r.jsx)(H.a,{headerTitle:G.formatMessage({id:"menu.settings"}),search:!1,toolBarRender:!1,actionRef:x,rowKey:"id",request:function(j){var o=j.pageSize,c=j.current;return Object(te.f)({pageSize:o,current:c,group:"global"}).then(function(M){if(M.success){var I=[].concat(Object(L.a)(Object.keys(Oe).map(function(y){return M.data.find(function(he){return he.key===y})||Oe[y]})),Object(L.a)(M.data.filter(function(y){return!Object.keys(Oe).includes(y.key)})));return{data:I,total:I.length,success:!0}}return[]})},columns:ie}),Object(r.jsx)(C.a,{groups:[],id:ee,visible:ee,initialData:Oe,onVisibleChange:function(j){return!j&&Z(!1)},onFinish:function(){var K=Object(_.a)(Object(a.a)().mark(function j(o){var c,M,I,y;return Object(a.a)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return c=o,c.type==="number"&&(c=Object(s.a)(Object(s.a)({},c),{},{value:String(c.data)})),c.type==="boolean"&&(c=Object(s.a)(Object(s.a)({},c),{},{value:c.data})),re.next=5,S(G,c,Number(ee));case 5:M=re.sent,I=M.success,y=M.updatedSettings,I&&(y!=null&&y.success&&pe(y.data),Z(!1),x.current&&x.current.reload());case 9:case"end":return re.stop()}},j)}));return function(j){return K.apply(this,arguments)}}()})]})};p.a=le},tneF:function(ce,p,e){"use strict";var D=e("sRBo"),B=e("kaz8"),E=e("VTBJ"),A=e("Ff2n"),h=e("nKUr"),m=e.n(h),W=e("uX+g"),n=e("q1tI"),L=e.n(n),a=e("WFLz"),s=e("adzw"),V=["options","fieldProps","proFieldProps","valueEnum"],O=L.a.forwardRef(function(v,l){var H=v.options,P=v.fieldProps,te=v.proFieldProps,C=v.valueEnum,N=Object(A.a)(v,V);return Object(h.jsx)(s.a,Object(E.a)({ref:l,valueType:"checkbox",valueEnum:Object(W.a)(C,void 0),fieldProps:Object(E.a)({options:H},P),lightProps:Object(E.a)({labelFormatter:function(){return Object(h.jsx)(s.a,Object(E.a)({ref:l,valueType:"checkbox",mode:"read",valueEnum:Object(W.a)(C,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(E.a)({options:H},P),proFieldProps:te},N))}},N.lightProps),proFieldProps:te},N))}),_=L.a.forwardRef(function(v,l){var H=v.fieldProps,P=v.children;return Object(h.jsx)(B.a,Object(E.a)(Object(E.a)({ref:l},H),{},{children:P}))}),g=Object(a.a)(_,{valuePropName:"checked"}),u=g;u.Group=O,p.a=u},vtG9:function(ce,p,e){}}]);
