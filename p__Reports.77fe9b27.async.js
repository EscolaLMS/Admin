(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"8j+T":function(D,c,e){"use strict";function n(f){for(var O in f)c.hasOwnProperty(O)||(c[O]=f[O])}Object.defineProperty(c,"__esModule",{value:!0}),n(e("Xljc"))},"Ecy+":function(D,c,e){"use strict";var n=e("fOrg"),f=e("+KLJ"),O=e("g9YV"),m=e("wCAj"),h=e("T2oS"),l=e("W9HT"),r=e("+L6B"),t=e("2/Rp"),s=e("k1fw"),a=e("tJVT"),o=e("q1tI"),_=e.n(o),i=e("I+Rq"),u=e("w/VK"),d=e("9kvl"),E=e("nhC9"),U=e("Mo4S"),g=e("8j+T"),B=e.n(g),v=e("nKUr"),P=e.n(v),S=[{title:Object(v.jsx)(d.a,{id:"label",defaultMessage:"label"}),dataIndex:"label",key:"label"},{title:Object(v.jsx)(d.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",key:"value"}],F=function(A){var b=A.metric,K=A.header,R=K===void 0?!0:K,W=A.asDonut,z=W===void 0?!1:W,H=A.customLabelTitle,C=A.customLabelContent,G=Object(o.useState)({mode:"init"}),V=Object(a.a)(G,2),p=V[0],y=V[1],w=Object(d.l)(),N={appendPadding:10,angleField:"value",colorField:"label",radius:.9,label:{type:"inner",offset:"-30%",content:function(T){var M=T.percent;return M>=.01?"".concat((M*100).toFixed(0),"%"):""},style:{fontSize:14,textAlign:"center"}},interactions:[{type:"element-active"}],legend:{itemValue:{alignRight:!0,formatter:function(T,M){if(C&&"value"in p){var L=p.value.find(function(I){var x=I.label;return x===M.name});return L?C(L):T}return T}}}},J={appendPadding:20,innerRadius:.6,label:Object(s.a)(Object(s.a)({},N.label),{},{offset:"-50%"}),legend:{itemWidth:void 0,itemName:{formatter:function(T){return H?H(T):T}},offsetX:-24,itemValue:{formatter:function(T,M){if(C&&"value"in p){var L=p.value.find(function(I){var x=I.label;return x===M.value});return L?C(L):void 0}}}}},X=Object(s.a)(Object(s.a)({},N),z?J:{});Object(o.useEffect)(function(){y({mode:"loading"}),Object(u.c)({metric:b}).then(function(j){j.success?y({mode:"loaded",value:j.data}):y({mode:"error",error:j.message})}).catch(function(j){return y({mode:"error",error:j.toString()})})},[b]);var $=Object(o.useCallback)(function(){if(p.mode==="loaded"){var j={filename:b.split("\\").join("-"),fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!0,title:w.formatMessage({id:b.split("\\").pop()}),useTextFile:!1,useBom:!0,useKeysAsHeaders:!0},T=new g.ExportToCsv(j);T.generateCsv(p.value)}},[p]);return Object(v.jsxs)(E.a,{title:R&&Object(v.jsx)(d.a,{id:b.split("\\").pop(),defaultMessage:b.split("\\").pop()}),extra:R&&Object(v.jsxs)(t.a,{icon:Object(v.jsx)(U.a,{}),size:"small",onClick:function(){return $()},children:[" ",Object(v.jsx)(d.a,{id:"download"}),"\xA0","CSV"]}),headerBordered:!0,children:[p.mode==="loading"&&Object(v.jsx)(l.a,{}),p.mode==="loaded"&&Object(v.jsxs)("div",{children:[Object(v.jsx)(i.a,Object(s.a)(Object(s.a)({},X),{},{data:p.value})),R&&Object(v.jsx)(m.a,{pagination:!1,size:"small",dataSource:p.value,columns:S})]}),p.mode==="error"&&Object(v.jsx)(f.a,{message:p.error,type:"error"})]})};c.a=F},"I+Rq":function(D,c,e){"use strict";var n=e("q1tI"),f=e.n(n),O=e("ma/q"),m=e("ZIEt"),h=e("QpZ9"),l=e("GzfL"),r=e("Scwr"),t=function(a,o){var _={};for(var i in a)Object.prototype.hasOwnProperty.call(a,i)&&o.indexOf(i)<0&&(_[i]=a[i]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var u=0,i=Object.getOwnPropertySymbols(a);u<i.length;u++)o.indexOf(i[u])<0&&Object.prototype.propertyIsEnumerable.call(a,i[u])&&(_[i[u]]=a[i[u]]);return _},s=Object(n.forwardRef)(function(a,o){var _=a.chartRef,i=a.style,u=i===void 0?{height:"inherit"}:i,d=a.className,E=a.loading,U=a.loadingTemplate,g=a.errorTemplate,B=t(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),v=Object(m.a)(O.b,B),P=v.chart,S=v.container;return Object(n.useEffect)(function(){Object(h.a)(_,P.current)},[P.current]),Object(n.useImperativeHandle)(o,function(){return{getChart:function(){return P.current}}}),f.a.createElement(l.a,{errorTemplate:g},E&&f.a.createElement(r.a,{loadingTemplate:U,theme:a.theme}),f.a.createElement("div",{className:d,style:u,ref:S}))});c.a=s},Mo4S:function(D,c,e){"use strict";var n=e("VTBJ"),f=e("q1tI"),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8a12.04 12.04 0 0010.2 18.4h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5a12.04 12.04 0 00-10.1-18.5h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z"}}]},name:"file-excel",theme:"outlined"},m=O,h=e("6VBw"),l=function(s,a){return f.createElement(h.a,Object(n.a)(Object(n.a)({},s),{},{ref:a,icon:m}))};l.displayName="FileExcelOutlined";var r=c.a=f.forwardRef(l)},Xljc:function(D,c,e){"use strict";Object.defineProperty(c,"__esModule",{value:!0});var n=function(){function r(){}return r.EOL=`\r
`,r.BOM="\uFEFF",r.DEFAULT_FIELD_SEPARATOR=",",r.DEFAULT_DECIMAL_SEPARATOR=".",r.DEFAULT_QUOTE='"',r.DEFAULT_SHOW_TITLE=!1,r.DEFAULT_TITLE="My Generated Report",r.DEFAULT_FILENAME="generated",r.DEFAULT_SHOW_LABELS=!1,r.DEFAULT_USE_TEXT_FILE=!1,r.DEFAULT_USE_BOM=!0,r.DEFAULT_HEADER=[],r.DEFAULT_KEYS_AS_HEADERS=!1,r}();c.CsvConfigConsts=n,c.ConfigDefaults={filename:n.DEFAULT_FILENAME,fieldSeparator:n.DEFAULT_FIELD_SEPARATOR,quoteStrings:n.DEFAULT_QUOTE,decimalSeparator:n.DEFAULT_DECIMAL_SEPARATOR,showLabels:n.DEFAULT_SHOW_LABELS,showTitle:n.DEFAULT_SHOW_TITLE,title:n.DEFAULT_TITLE,useTextFile:n.DEFAULT_USE_TEXT_FILE,useBom:n.DEFAULT_USE_BOM,headers:n.DEFAULT_HEADER,useKeysAsHeaders:n.DEFAULT_KEYS_AS_HEADERS};var f=function(){function r(t){this._csv="";var s=t||{};this._options=l({},c.ConfigDefaults,s),this._options.useKeysAsHeaders&&this._options.headers&&this._options.headers.length>0&&console.warn("Option to use object keys as headers was set, but headers were still passed!")}return Object.defineProperty(r.prototype,"options",{get:function(){return this._options},set:function(s){this._options=l({},c.ConfigDefaults,s)},enumerable:!0,configurable:!0}),r.prototype.generateCsv=function(t,s){if(s===void 0&&(s=!1),this._csv="",this._parseData(t),this._options.useBom&&(this._csv+=n.BOM),this._options.showTitle&&(this._csv+=this._options.title+`\r

`),this._getHeaders(),this._getBody(),this._csv==""){console.log("Invalid data");return}if(s)return this._csv;var a=this._options.useTextFile?"plain":"csv",o=this._options.useTextFile?".txt":".csv",_=new Blob([this._csv],{type:"text/"+a+";charset=utf8;"});if(navigator.msSaveBlob){var i=this._options.filename.replace(/ /g,"_")+o;navigator.msSaveBlob(_,i)}else{var u=this._options.useTextFile?"text":"csv",d="data:attachment/"+u+";charset=utf-8,"+encodeURI(this._csv),E=document.createElement("a");E.href=URL.createObjectURL(_),E.setAttribute("visibility","hidden"),E.download=this._options.filename.replace(/ /g,"_")+o,document.body.appendChild(E),E.click(),document.body.removeChild(E)}},r.prototype._getHeaders=function(){if(!(!this._options.showLabels&&!this._options.useKeysAsHeaders)){var t=this._options.useKeysAsHeaders,s=t?Object.keys(this._data[0]):this._options.headers;if(s.length>0){for(var a="",o=0;o<s.length;o++)a+=s[o]+this._options.fieldSeparator;a=a.slice(0,-1),this._csv+=a+n.EOL}}},r.prototype._getBody=function(){for(var t=Object.keys(this._data[0]),s=0;s<this._data.length;s++){for(var a="",o=0;o<t.length;o++){var _=t[o];a+=this._formatData(this._data[s][_])+this._options.fieldSeparator}a=a.slice(0,-1),this._csv+=a+n.EOL}},r.prototype._formatData=function(t){return this._options.decimalSeparator==="locale"&&this._isFloat(t)?t.toLocaleString():this._options.decimalSeparator!=="."&&this._isFloat(t)?t.toString().replace(".",this._options.decimalSeparator):typeof t=="string"?(t=t.replace(/"/g,'""'),(this._options.quoteStrings||t.indexOf(",")>-1||t.indexOf(`
`)>-1||t.indexOf("\r")>-1)&&(t=this._options.quoteStrings+t+this._options.quoteStrings),t):typeof t=="boolean"?t?"TRUE":"FALSE":t},r.prototype._isFloat=function(t){return+t===t&&(!isFinite(t)||Boolean(t%1))},r.prototype._parseData=function(t){return this._data=typeof t!="object"?JSON.parse(t):t,this._data},r}();c.ExportToCsv=f;var O=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;function h(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function l(r){for(var t=[],s=1;s<arguments.length;s++)t[s-1]=arguments[s];for(var a,o=h(r),_,i=1;i<arguments.length;i++){a=Object(arguments[i]);for(var u in a)O.call(a,u)&&(o[u]=a[u]);if(Object.getOwnPropertySymbols){_=Object.getOwnPropertySymbols(a);for(var d=0;d<_.length;d++)m.call(a,_[d])&&(o[_[d]]=a[_[d]])}}return o}},dgLD:function(D,c,e){"use strict";e.r(c);var n=e("q1tI"),f=e.n(n),O=e("tMyG"),m=e("Ecy+"),h=e("nhC9"),l=e("nKUr"),r=e.n(l);c.default=function(){return Object(l.jsxs)(O.a,{children:[Object(l.jsxs)(h.a,{split:"vertical",children:[Object(l.jsx)(h.a,{colSpan:12,layout:"center",children:Object(l.jsx)(m.a,{metric:"EscolaLms\\Reports\\Metrics\\CoursesMoneySpentMetric"})}),Object(l.jsx)(h.a,{colSpan:12,layout:"center",children:Object(l.jsx)(m.a,{metric:"EscolaLms\\Reports\\Metrics\\CoursesPopularityMetric"})})]}),Object(l.jsxs)(h.a,{split:"vertical",children:[Object(l.jsx)(h.a,{colSpan:12,layout:"center",children:Object(l.jsx)(m.a,{metric:"EscolaLms\\Reports\\Metrics\\CoursesSecondsSpentMetric"})}),Object(l.jsx)(h.a,{colSpan:12,layout:"center",children:Object(l.jsx)(m.a,{metric:"EscolaLms\\Reports\\Metrics\\TutorsPopularityMetric"})})]})]})}},"w/VK":function(D,c,e){"use strict";e.d(c,"c",function(){return h}),e.d(c,"a",function(){return r}),e.d(c,"b",function(){return s});var n=e("qLMh"),f=e("k1fw"),O=e("9og8"),m=e("9kvl");function h(o,_){return l.apply(this,arguments)}function l(){return l=Object(O.a)(Object(n.a)().mark(function o(_,i){return Object(n.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(m.i)("/api/admin/reports/report",Object(f.a)({params:_,method:"GET",useCache:!1},i||{})));case 1:case"end":return d.stop()}},o)})),l.apply(this,arguments)}function r(o,_,i){return t.apply(this,arguments)}function t(){return t=Object(O.a)(Object(n.a)().mark(function o(_,i,u){return Object(n.a)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",Object(m.i)("/api/admin/stats/course/".concat(_,"/export"),Object(f.a)({params:i,method:"GET",useCache:!1,responseType:"blob",headers:{accept:"application/vnd.ms-excel"}},u||{})));case 1:case"end":return E.stop()}},o)})),t.apply(this,arguments)}function s(o,_,i){return a.apply(this,arguments)}function a(){return a=Object(O.a)(Object(n.a)().mark(function o(_,i,u){return Object(n.a)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",Object(m.i)("/api/admin/stats/topic/".concat(_,"/export"),Object(f.a)({method:"GET",useCache:!1,params:{stat:i},responseType:"blob",headers:{accept:"application/vnd.ms-excel"}},u||{})));case 1:case"end":return E.stop()}},o)})),a.apply(this,arguments)}}}]);

//# sourceMappingURL=p__Reports.77fe9b27.async.js.map