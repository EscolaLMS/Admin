(window.webpackJsonp=window.webpackJsonp||[]).push([[53],{"3dVZ":function(_t,pt,Fe){},BiO0:function(_t,pt,Fe){"use strict";var He=Fe("VTBJ"),Ye=Fe("Ff2n"),ot=Fe("nKUr"),Qe=Fe.n(ot),J=Fe("q1tI"),ae=Fe.n(J),T=Fe("adzw"),C=["fieldProps","proFieldProps"],b=function(p,f){var w=p.fieldProps,m=p.proFieldProps,o=Object(Ye.a)(p,C);return Object(ot.jsx)(T.a,Object(He.a)({ref:f,valueType:"textarea",fieldProps:w,proFieldProps:m},o))};pt.a=ae.a.forwardRef(b)},"D6/r":function(_t,pt,Fe){},H7XF:function(_t,pt,Fe){"use strict";pt.byteLength=C,pt.toByteArray=h,pt.fromByteArray=w;for(var He=[],Ye=[],ot=typeof Uint8Array!="undefined"?Uint8Array:Array,Qe="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J=0,ae=Qe.length;J<ae;++J)He[J]=Qe[J],Ye[Qe.charCodeAt(J)]=J;Ye["-".charCodeAt(0)]=62,Ye["_".charCodeAt(0)]=63;function T(m){var o=m.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=m.indexOf("=");i===-1&&(i=o);var e=i===o?0:4-i%4;return[i,e]}function C(m){var o=T(m),i=o[0],e=o[1];return(i+e)*3/4-e}function b(m,o,i){return(o+i)*3/4-i}function h(m){var o,i=T(m),e=i[0],r=i[1],n=new ot(b(m,e,r)),t=0,u=r>0?e-4:e,d;for(d=0;d<u;d+=4)o=Ye[m.charCodeAt(d)]<<18|Ye[m.charCodeAt(d+1)]<<12|Ye[m.charCodeAt(d+2)]<<6|Ye[m.charCodeAt(d+3)],n[t++]=o>>16&255,n[t++]=o>>8&255,n[t++]=o&255;return r===2&&(o=Ye[m.charCodeAt(d)]<<2|Ye[m.charCodeAt(d+1)]>>4,n[t++]=o&255),r===1&&(o=Ye[m.charCodeAt(d)]<<10|Ye[m.charCodeAt(d+1)]<<4|Ye[m.charCodeAt(d+2)]>>2,n[t++]=o>>8&255,n[t++]=o&255),n}function p(m){return He[m>>18&63]+He[m>>12&63]+He[m>>6&63]+He[m&63]}function f(m,o,i){for(var e,r=[],n=o;n<i;n+=3)e=(m[n]<<16&16711680)+(m[n+1]<<8&65280)+(m[n+2]&255),r.push(p(e));return r.join("")}function w(m){for(var o,i=m.length,e=i%3,r=[],n=16383,t=0,u=i-e;t<u;t+=n)r.push(f(m,t,t+n>u?u:t+n));return e===1?(o=m[i-1],r.push(He[o>>2]+He[o<<4&63]+"==")):e===2&&(o=(m[i-2]<<8)+m[i-1],r.push(He[o>>10]+He[o>>4&63]+He[o<<2&63]+"=")),r.join("")}},HDXh:function(_t,pt,Fe){"use strict";(function(He){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/var Ye=Fe("H7XF"),ot=Fe("kVK+"),Qe=Fe("v3Qx");pt.Buffer=C,pt.SlowBuffer=r,pt.INSPECT_MAX_BYTES=50,C.TYPED_ARRAY_SUPPORT=He.TYPED_ARRAY_SUPPORT!==void 0?He.TYPED_ARRAY_SUPPORT:J(),pt.kMaxLength=ae();function J(){try{var K=new Uint8Array(1);return K.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},K.foo()===42&&typeof K.subarray=="function"&&K.subarray(1,1).byteLength===0}catch(k){return!1}}function ae(){return C.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function T(K,k){if(ae()<k)throw new RangeError("Invalid typed array length");return C.TYPED_ARRAY_SUPPORT?(K=new Uint8Array(k),K.__proto__=C.prototype):(K===null&&(K=new C(k)),K.length=k),K}function C(K,k,I){if(!C.TYPED_ARRAY_SUPPORT&&!(this instanceof C))return new C(K,k,I);if(typeof K=="number"){if(typeof k=="string")throw new Error("If encoding is specified then the first argument must be a string");return f(this,K)}return b(this,K,k,I)}C.poolSize=8192,C._augment=function(K){return K.__proto__=C.prototype,K};function b(K,k,I,N){if(typeof k=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&k instanceof ArrayBuffer?o(K,k,I,N):typeof k=="string"?w(K,k,I):i(K,k)}C.from=function(K,k,I){return b(null,K,k,I)},C.TYPED_ARRAY_SUPPORT&&(C.prototype.__proto__=Uint8Array.prototype,C.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&C[Symbol.species]===C&&Object.defineProperty(C,Symbol.species,{value:null,configurable:!0}));function h(K){if(typeof K!="number")throw new TypeError('"size" argument must be a number');if(K<0)throw new RangeError('"size" argument must not be negative')}function p(K,k,I,N){return h(k),k<=0?T(K,k):I!==void 0?typeof N=="string"?T(K,k).fill(I,N):T(K,k).fill(I):T(K,k)}C.alloc=function(K,k,I){return p(null,K,k,I)};function f(K,k){if(h(k),K=T(K,k<0?0:e(k)|0),!C.TYPED_ARRAY_SUPPORT)for(var I=0;I<k;++I)K[I]=0;return K}C.allocUnsafe=function(K){return f(null,K)},C.allocUnsafeSlow=function(K){return f(null,K)};function w(K,k,I){if((typeof I!="string"||I==="")&&(I="utf8"),!C.isEncoding(I))throw new TypeError('"encoding" must be a valid string encoding');var N=n(k,I)|0;K=T(K,N);var oe=K.write(k,I);return oe!==N&&(K=K.slice(0,oe)),K}function m(K,k){var I=k.length<0?0:e(k.length)|0;K=T(K,I);for(var N=0;N<I;N+=1)K[N]=k[N]&255;return K}function o(K,k,I,N){if(k.byteLength,I<0||k.byteLength<I)throw new RangeError("'offset' is out of bounds");if(k.byteLength<I+(N||0))throw new RangeError("'length' is out of bounds");return I===void 0&&N===void 0?k=new Uint8Array(k):N===void 0?k=new Uint8Array(k,I):k=new Uint8Array(k,I,N),C.TYPED_ARRAY_SUPPORT?(K=k,K.__proto__=C.prototype):K=m(K,k),K}function i(K,k){if(C.isBuffer(k)){var I=e(k.length)|0;return K=T(K,I),K.length===0||k.copy(K,0,0,I),K}if(k){if(typeof ArrayBuffer!="undefined"&&k.buffer instanceof ArrayBuffer||"length"in k)return typeof k.length!="number"||ye(k.length)?T(K,0):m(K,k);if(k.type==="Buffer"&&Qe(k.data))return m(K,k.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function e(K){if(K>=ae())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+ae().toString(16)+" bytes");return K|0}function r(K){return+K!=K&&(K=0),C.alloc(+K)}C.isBuffer=function(k){return!!(k!=null&&k._isBuffer)},C.compare=function(k,I){if(!C.isBuffer(k)||!C.isBuffer(I))throw new TypeError("Arguments must be Buffers");if(k===I)return 0;for(var N=k.length,oe=I.length,le=0,$=Math.min(N,oe);le<$;++le)if(k[le]!==I[le]){N=k[le],oe=I[le];break}return N<oe?-1:oe<N?1:0},C.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},C.concat=function(k,I){if(!Qe(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return C.alloc(0);var N;if(I===void 0)for(I=0,N=0;N<k.length;++N)I+=k[N].length;var oe=C.allocUnsafe(I),le=0;for(N=0;N<k.length;++N){var $=k[N];if(!C.isBuffer($))throw new TypeError('"list" argument must be an Array of Buffers');$.copy(oe,le),le+=$.length}return oe};function n(K,k){if(C.isBuffer(K))return K.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(K)||K instanceof ArrayBuffer))return K.byteLength;typeof K!="string"&&(K=""+K);var I=K.length;if(I===0)return 0;for(var N=!1;;)switch(k){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":case void 0:return ge(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I*2;case"hex":return I>>>1;case"base64":return je(K).length;default:if(N)return ge(K).length;k=(""+k).toLowerCase(),N=!0}}C.byteLength=n;function t(K,k,I){var N=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0,k>>>=0,I<=k))return"";for(K||(K="utf8");;)switch(K){case"hex":return W(this,k,I);case"utf8":case"utf-8":return F(this,k,I);case"ascii":return X(this,k,I);case"latin1":case"binary":return te(this,k,I);case"base64":return q(this,k,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return Y(this,k,I);default:if(N)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),N=!0}}C.prototype._isBuffer=!0;function u(K,k,I){var N=K[k];K[k]=K[I],K[I]=N}C.prototype.swap16=function(){var k=this.length;if(k%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var I=0;I<k;I+=2)u(this,I,I+1);return this},C.prototype.swap32=function(){var k=this.length;if(k%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var I=0;I<k;I+=4)u(this,I,I+3),u(this,I+1,I+2);return this},C.prototype.swap64=function(){var k=this.length;if(k%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var I=0;I<k;I+=8)u(this,I,I+7),u(this,I+1,I+6),u(this,I+2,I+5),u(this,I+3,I+4);return this},C.prototype.toString=function(){var k=this.length|0;return k===0?"":arguments.length===0?F(this,0,k):t.apply(this,arguments)},C.prototype.equals=function(k){if(!C.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:C.compare(this,k)===0},C.prototype.inspect=function(){var k="",I=pt.INSPECT_MAX_BYTES;return this.length>0&&(k=this.toString("hex",0,I).match(/.{2}/g).join(" "),this.length>I&&(k+=" ... ")),"<Buffer "+k+">"},C.prototype.compare=function(k,I,N,oe,le){if(!C.isBuffer(k))throw new TypeError("Argument must be a Buffer");if(I===void 0&&(I=0),N===void 0&&(N=k?k.length:0),oe===void 0&&(oe=0),le===void 0&&(le=this.length),I<0||N>k.length||oe<0||le>this.length)throw new RangeError("out of range index");if(oe>=le&&I>=N)return 0;if(oe>=le)return-1;if(I>=N)return 1;if(I>>>=0,N>>>=0,oe>>>=0,le>>>=0,this===k)return 0;for(var $=le-oe,xe=N-I,Le=Math.min($,xe),Se=this.slice(oe,le),Ue=k.slice(I,N),Ze=0;Ze<Le;++Ze)if(Se[Ze]!==Ue[Ze]){$=Se[Ze],xe=Ue[Ze];break}return $<xe?-1:xe<$?1:0};function d(K,k,I,N,oe){if(K.length===0)return-1;if(typeof I=="string"?(N=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),I=+I,isNaN(I)&&(I=oe?0:K.length-1),I<0&&(I=K.length+I),I>=K.length){if(oe)return-1;I=K.length-1}else if(I<0)if(oe)I=0;else return-1;if(typeof k=="string"&&(k=C.from(k,N)),C.isBuffer(k))return k.length===0?-1:_(K,k,I,N,oe);if(typeof k=="number")return k=k&255,C.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?oe?Uint8Array.prototype.indexOf.call(K,k,I):Uint8Array.prototype.lastIndexOf.call(K,k,I):_(K,[k],I,N,oe);throw new TypeError("val must be string, number or Buffer")}function _(K,k,I,N,oe){var le=1,$=K.length,xe=k.length;if(N!==void 0&&(N=String(N).toLowerCase(),N==="ucs2"||N==="ucs-2"||N==="utf16le"||N==="utf-16le")){if(K.length<2||k.length<2)return-1;le=2,$/=2,xe/=2,I/=2}function Le(ht,Ct){return le===1?ht[Ct]:ht.readUInt16BE(Ct*le)}var Se;if(oe){var Ue=-1;for(Se=I;Se<$;Se++)if(Le(K,Se)===Le(k,Ue===-1?0:Se-Ue)){if(Ue===-1&&(Ue=Se),Se-Ue+1===xe)return Ue*le}else Ue!==-1&&(Se-=Se-Ue),Ue=-1}else for(I+xe>$&&(I=$-xe),Se=I;Se>=0;Se--){for(var Ze=!0,et=0;et<xe;et++)if(Le(K,Se+et)!==Le(k,et)){Ze=!1;break}if(Ze)return Se}return-1}C.prototype.includes=function(k,I,N){return this.indexOf(k,I,N)!==-1},C.prototype.indexOf=function(k,I,N){return d(this,k,I,N,!0)},C.prototype.lastIndexOf=function(k,I,N){return d(this,k,I,N,!1)};function E(K,k,I,N){I=Number(I)||0;var oe=K.length-I;N?(N=Number(N),N>oe&&(N=oe)):N=oe;var le=k.length;if(le%2!=0)throw new TypeError("Invalid hex string");N>le/2&&(N=le/2);for(var $=0;$<N;++$){var xe=parseInt(k.substr($*2,2),16);if(isNaN(xe))return $;K[I+$]=xe}return $}function A(K,k,I,N){return V(ge(k,K.length-I),K,I,N)}function S(K,k,I,N){return V(we(k),K,I,N)}function L(K,k,I,N){return S(K,k,I,N)}function P(K,k,I,N){return V(je(k),K,I,N)}function M(K,k,I,N){return V(Ce(k,K.length-I),K,I,N)}C.prototype.write=function(k,I,N,oe){if(I===void 0)oe="utf8",N=this.length,I=0;else if(N===void 0&&typeof I=="string")oe=I,N=this.length,I=0;else if(isFinite(I))I=I|0,isFinite(N)?(N=N|0,oe===void 0&&(oe="utf8")):(oe=N,N=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var le=this.length-I;if((N===void 0||N>le)&&(N=le),k.length>0&&(N<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");oe||(oe="utf8");for(var $=!1;;)switch(oe){case"hex":return E(this,k,I,N);case"utf8":case"utf-8":return A(this,k,I,N);case"ascii":return S(this,k,I,N);case"latin1":case"binary":return L(this,k,I,N);case"base64":return P(this,k,I,N);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return M(this,k,I,N);default:if($)throw new TypeError("Unknown encoding: "+oe);oe=(""+oe).toLowerCase(),$=!0}},C.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function q(K,k,I){return k===0&&I===K.length?Ye.fromByteArray(K):Ye.fromByteArray(K.slice(k,I))}function F(K,k,I){I=Math.min(K.length,I);for(var N=[],oe=k;oe<I;){var le=K[oe],$=null,xe=le>239?4:le>223?3:le>191?2:1;if(oe+xe<=I){var Le,Se,Ue,Ze;switch(xe){case 1:le<128&&($=le);break;case 2:Le=K[oe+1],(Le&192)==128&&(Ze=(le&31)<<6|Le&63,Ze>127&&($=Ze));break;case 3:Le=K[oe+1],Se=K[oe+2],(Le&192)==128&&(Se&192)==128&&(Ze=(le&15)<<12|(Le&63)<<6|Se&63,Ze>2047&&(Ze<55296||Ze>57343)&&($=Ze));break;case 4:Le=K[oe+1],Se=K[oe+2],Ue=K[oe+3],(Le&192)==128&&(Se&192)==128&&(Ue&192)==128&&(Ze=(le&15)<<18|(Le&63)<<12|(Se&63)<<6|Ue&63,Ze>65535&&Ze<1114112&&($=Ze))}}$===null?($=65533,xe=1):$>65535&&($-=65536,N.push($>>>10&1023|55296),$=56320|$&1023),N.push($),oe+=xe}return B(N)}var Z=4096;function B(K){var k=K.length;if(k<=Z)return String.fromCharCode.apply(String,K);for(var I="",N=0;N<k;)I+=String.fromCharCode.apply(String,K.slice(N,N+=Z));return I}function X(K,k,I){var N="";I=Math.min(K.length,I);for(var oe=k;oe<I;++oe)N+=String.fromCharCode(K[oe]&127);return N}function te(K,k,I){var N="";I=Math.min(K.length,I);for(var oe=k;oe<I;++oe)N+=String.fromCharCode(K[oe]);return N}function W(K,k,I){var N=K.length;(!k||k<0)&&(k=0),(!I||I<0||I>N)&&(I=N);for(var oe="",le=k;le<I;++le)oe+=re(K[le]);return oe}function Y(K,k,I){for(var N=K.slice(k,I),oe="",le=0;le<N.length;le+=2)oe+=String.fromCharCode(N[le]+N[le+1]*256);return oe}C.prototype.slice=function(k,I){var N=this.length;k=~~k,I=I===void 0?N:~~I,k<0?(k+=N,k<0&&(k=0)):k>N&&(k=N),I<0?(I+=N,I<0&&(I=0)):I>N&&(I=N),I<k&&(I=k);var oe;if(C.TYPED_ARRAY_SUPPORT)oe=this.subarray(k,I),oe.__proto__=C.prototype;else{var le=I-k;oe=new C(le,void 0);for(var $=0;$<le;++$)oe[$]=this[$+k]}return oe};function z(K,k,I){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(K+k>I)throw new RangeError("Trying to access beyond buffer length")}C.prototype.readUIntLE=function(k,I,N){k=k|0,I=I|0,N||z(k,I,this.length);for(var oe=this[k],le=1,$=0;++$<I&&(le*=256);)oe+=this[k+$]*le;return oe},C.prototype.readUIntBE=function(k,I,N){k=k|0,I=I|0,N||z(k,I,this.length);for(var oe=this[k+--I],le=1;I>0&&(le*=256);)oe+=this[k+--I]*le;return oe},C.prototype.readUInt8=function(k,I){return I||z(k,1,this.length),this[k]},C.prototype.readUInt16LE=function(k,I){return I||z(k,2,this.length),this[k]|this[k+1]<<8},C.prototype.readUInt16BE=function(k,I){return I||z(k,2,this.length),this[k]<<8|this[k+1]},C.prototype.readUInt32LE=function(k,I){return I||z(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},C.prototype.readUInt32BE=function(k,I){return I||z(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},C.prototype.readIntLE=function(k,I,N){k=k|0,I=I|0,N||z(k,I,this.length);for(var oe=this[k],le=1,$=0;++$<I&&(le*=256);)oe+=this[k+$]*le;return le*=128,oe>=le&&(oe-=Math.pow(2,8*I)),oe},C.prototype.readIntBE=function(k,I,N){k=k|0,I=I|0,N||z(k,I,this.length);for(var oe=I,le=1,$=this[k+--oe];oe>0&&(le*=256);)$+=this[k+--oe]*le;return le*=128,$>=le&&($-=Math.pow(2,8*I)),$},C.prototype.readInt8=function(k,I){return I||z(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},C.prototype.readInt16LE=function(k,I){I||z(k,2,this.length);var N=this[k]|this[k+1]<<8;return N&32768?N|4294901760:N},C.prototype.readInt16BE=function(k,I){I||z(k,2,this.length);var N=this[k+1]|this[k]<<8;return N&32768?N|4294901760:N},C.prototype.readInt32LE=function(k,I){return I||z(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},C.prototype.readInt32BE=function(k,I){return I||z(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},C.prototype.readFloatLE=function(k,I){return I||z(k,4,this.length),ot.read(this,k,!0,23,4)},C.prototype.readFloatBE=function(k,I){return I||z(k,4,this.length),ot.read(this,k,!1,23,4)},C.prototype.readDoubleLE=function(k,I){return I||z(k,8,this.length),ot.read(this,k,!0,52,8)},C.prototype.readDoubleBE=function(k,I){return I||z(k,8,this.length),ot.read(this,k,!1,52,8)};function G(K,k,I,N,oe,le){if(!C.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>oe||k<le)throw new RangeError('"value" argument is out of bounds');if(I+N>K.length)throw new RangeError("Index out of range")}C.prototype.writeUIntLE=function(k,I,N,oe){if(k=+k,I=I|0,N=N|0,!oe){var le=Math.pow(2,8*N)-1;G(this,k,I,N,le,0)}var $=1,xe=0;for(this[I]=k&255;++xe<N&&($*=256);)this[I+xe]=k/$&255;return I+N},C.prototype.writeUIntBE=function(k,I,N,oe){if(k=+k,I=I|0,N=N|0,!oe){var le=Math.pow(2,8*N)-1;G(this,k,I,N,le,0)}var $=N-1,xe=1;for(this[I+$]=k&255;--$>=0&&(xe*=256);)this[I+$]=k/xe&255;return I+N},C.prototype.writeUInt8=function(k,I,N){return k=+k,I=I|0,N||G(this,k,I,1,255,0),C.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),this[I]=k&255,I+1};function H(K,k,I,N){k<0&&(k=65535+k+1);for(var oe=0,le=Math.min(K.length-I,2);oe<le;++oe)K[I+oe]=(k&255<<8*(N?oe:1-oe))>>>(N?oe:1-oe)*8}C.prototype.writeUInt16LE=function(k,I,N){return k=+k,I=I|0,N||G(this,k,I,2,65535,0),C.TYPED_ARRAY_SUPPORT?(this[I]=k&255,this[I+1]=k>>>8):H(this,k,I,!0),I+2},C.prototype.writeUInt16BE=function(k,I,N){return k=+k,I=I|0,N||G(this,k,I,2,65535,0),C.TYPED_ARRAY_SUPPORT?(this[I]=k>>>8,this[I+1]=k&255):H(this,k,I,!1),I+2};function D(K,k,I,N){k<0&&(k=4294967295+k+1);for(var oe=0,le=Math.min(K.length-I,4);oe<le;++oe)K[I+oe]=k>>>(N?oe:3-oe)*8&255}C.prototype.writeUInt32LE=function(k,I,N){return k=+k,I=I|0,N||G(this,k,I,4,4294967295,0),C.TYPED_ARRAY_SUPPORT?(this[I+3]=k>>>24,this[I+2]=k>>>16,this[I+1]=k>>>8,this[I]=k&255):D(this,k,I,!0),I+4},C.prototype.writeUInt32BE=function(k,I,N){return k=+k,I=I|0,N||G(this,k,I,4,4294967295,0),C.TYPED_ARRAY_SUPPORT?(this[I]=k>>>24,this[I+1]=k>>>16,this[I+2]=k>>>8,this[I+3]=k&255):D(this,k,I,!1),I+4},C.prototype.writeIntLE=function(k,I,N,oe){if(k=+k,I=I|0,!oe){var le=Math.pow(2,8*N-1);G(this,k,I,N,le-1,-le)}var $=0,xe=1,Le=0;for(this[I]=k&255;++$<N&&(xe*=256);)k<0&&Le===0&&this[I+$-1]!==0&&(Le=1),this[I+$]=(k/xe>>0)-Le&255;return I+N},C.prototype.writeIntBE=function(k,I,N,oe){if(k=+k,I=I|0,!oe){var le=Math.pow(2,8*N-1);G(this,k,I,N,le-1,-le)}var $=N-1,xe=1,Le=0;for(this[I+$]=k&255;--$>=0&&(xe*=256);)k<0&&Le===0&&this[I+$+1]!==0&&(Le=1),this[I+$]=(k/xe>>0)-Le&255;return I+N},C.prototype.writeInt8=function(k,I,N){return k=+k,I=I|0,N||G(this,k,I,1,127,-128),C.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),k<0&&(k=255+k+1),this[I]=k&255,I+1},C.prototype.writeInt16LE=function(k,I,N){return k=+k,I=I|0,N||G(this,k,I,2,32767,-32768),C.TYPED_ARRAY_SUPPORT?(this[I]=k&255,this[I+1]=k>>>8):H(this,k,I,!0),I+2},C.prototype.writeInt16BE=function(k,I,N){return k=+k,I=I|0,N||G(this,k,I,2,32767,-32768),C.TYPED_ARRAY_SUPPORT?(this[I]=k>>>8,this[I+1]=k&255):H(this,k,I,!1),I+2},C.prototype.writeInt32LE=function(k,I,N){return k=+k,I=I|0,N||G(this,k,I,4,2147483647,-2147483648),C.TYPED_ARRAY_SUPPORT?(this[I]=k&255,this[I+1]=k>>>8,this[I+2]=k>>>16,this[I+3]=k>>>24):D(this,k,I,!0),I+4},C.prototype.writeInt32BE=function(k,I,N){return k=+k,I=I|0,N||G(this,k,I,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),C.TYPED_ARRAY_SUPPORT?(this[I]=k>>>24,this[I+1]=k>>>16,this[I+2]=k>>>8,this[I+3]=k&255):D(this,k,I,!1),I+4};function Q(K,k,I,N,oe,le){if(I+N>K.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function ce(K,k,I,N,oe){return oe||Q(K,k,I,4,34028234663852886e22,-34028234663852886e22),ot.write(K,k,I,N,23,4),I+4}C.prototype.writeFloatLE=function(k,I,N){return ce(this,k,I,!0,N)},C.prototype.writeFloatBE=function(k,I,N){return ce(this,k,I,!1,N)};function ne(K,k,I,N,oe){return oe||Q(K,k,I,8,17976931348623157e292,-17976931348623157e292),ot.write(K,k,I,N,52,8),I+8}C.prototype.writeDoubleLE=function(k,I,N){return ne(this,k,I,!0,N)},C.prototype.writeDoubleBE=function(k,I,N){return ne(this,k,I,!1,N)},C.prototype.copy=function(k,I,N,oe){if(N||(N=0),!oe&&oe!==0&&(oe=this.length),I>=k.length&&(I=k.length),I||(I=0),oe>0&&oe<N&&(oe=N),oe===N||k.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(N<0||N>=this.length)throw new RangeError("sourceStart out of bounds");if(oe<0)throw new RangeError("sourceEnd out of bounds");oe>this.length&&(oe=this.length),k.length-I<oe-N&&(oe=k.length-I+N);var le=oe-N,$;if(this===k&&N<I&&I<oe)for($=le-1;$>=0;--$)k[$+I]=this[$+N];else if(le<1e3||!C.TYPED_ARRAY_SUPPORT)for($=0;$<le;++$)k[$+I]=this[$+N];else Uint8Array.prototype.set.call(k,this.subarray(N,N+le),I);return le},C.prototype.fill=function(k,I,N,oe){if(typeof k=="string"){if(typeof I=="string"?(oe=I,I=0,N=this.length):typeof N=="string"&&(oe=N,N=this.length),k.length===1){var le=k.charCodeAt(0);le<256&&(k=le)}if(oe!==void 0&&typeof oe!="string")throw new TypeError("encoding must be a string");if(typeof oe=="string"&&!C.isEncoding(oe))throw new TypeError("Unknown encoding: "+oe)}else typeof k=="number"&&(k=k&255);if(I<0||this.length<I||this.length<N)throw new RangeError("Out of range index");if(N<=I)return this;I=I>>>0,N=N===void 0?this.length:N>>>0,k||(k=0);var $;if(typeof k=="number")for($=I;$<N;++$)this[$]=k;else{var xe=C.isBuffer(k)?k:ge(new C(k,oe).toString()),Le=xe.length;for($=0;$<N-I;++$)this[$+I]=xe[$%Le]}return this};var me=/[^+\/0-9A-Za-z-_]/g;function de(K){if(K=ie(K).replace(me,""),K.length<2)return"";for(;K.length%4!=0;)K=K+"=";return K}function ie(K){return K.trim?K.trim():K.replace(/^\s+|\s+$/g,"")}function re(K){return K<16?"0"+K.toString(16):K.toString(16)}function ge(K,k){k=k||Infinity;for(var I,N=K.length,oe=null,le=[],$=0;$<N;++$){if(I=K.charCodeAt($),I>55295&&I<57344){if(!oe){if(I>56319){(k-=3)>-1&&le.push(239,191,189);continue}else if($+1===N){(k-=3)>-1&&le.push(239,191,189);continue}oe=I;continue}if(I<56320){(k-=3)>-1&&le.push(239,191,189),oe=I;continue}I=(oe-55296<<10|I-56320)+65536}else oe&&(k-=3)>-1&&le.push(239,191,189);if(oe=null,I<128){if((k-=1)<0)break;le.push(I)}else if(I<2048){if((k-=2)<0)break;le.push(I>>6|192,I&63|128)}else if(I<65536){if((k-=3)<0)break;le.push(I>>12|224,I>>6&63|128,I&63|128)}else if(I<1114112){if((k-=4)<0)break;le.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw new Error("Invalid code point")}return le}function we(K){for(var k=[],I=0;I<K.length;++I)k.push(K.charCodeAt(I)&255);return k}function Ce(K,k){for(var I,N,oe,le=[],$=0;$<K.length&&!((k-=2)<0);++$)I=K.charCodeAt($),N=I>>8,oe=I%256,le.push(oe),le.push(N);return le}function je(K){return Ye.toByteArray(de(K))}function V(K,k,I,N){for(var oe=0;oe<N&&!(oe+I>=k.length||oe>=K.length);++oe)k[oe+I]=K[oe];return oe}function ye(K){return K!==K}}).call(this,Fe("IyRk"))},Iab2:function(_t,pt,Fe){(function(He){var Ye,ot,Qe;(function(J,ae){ot=[],Ye=ae,Qe=typeof Ye=="function"?Ye.apply(pt,ot):Ye,Qe!==void 0&&(_t.exports=Qe)})(this,function(){"use strict";function J(f,w){return typeof w=="undefined"?w={autoBom:!1}:typeof w!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),w={autoBom:!w}),w.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function ae(f,w,m){var o=new XMLHttpRequest;o.open("GET",f),o.responseType="blob",o.onload=function(){p(o.response,w,m)},o.onerror=function(){console.error("could not download file")},o.send()}function T(f){var w=new XMLHttpRequest;w.open("HEAD",f,!1);try{w.send()}catch(m){}return 200<=w.status&&299>=w.status}function C(f){try{f.dispatchEvent(new MouseEvent("click"))}catch(m){var w=document.createEvent("MouseEvents");w.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(w)}}var b=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof He=="object"&&He.global===He?He:void 0,h=b.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=b.saveAs||(typeof window!="object"||window!==b?function(){}:"download"in HTMLAnchorElement.prototype&&!h?function(f,w,m){var o=b.URL||b.webkitURL,i=document.createElement("a");w=w||f.name||"download",i.download=w,i.rel="noopener",typeof f=="string"?(i.href=f,i.origin===location.origin?C(i):T(i.href)?ae(f,w,m):C(i,i.target="_blank")):(i.href=o.createObjectURL(f),setTimeout(function(){o.revokeObjectURL(i.href)},4e4),setTimeout(function(){C(i)},0))}:"msSaveOrOpenBlob"in navigator?function(f,w,m){if(w=w||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(J(f,m),w);else if(T(f))ae(f,w,m);else{var o=document.createElement("a");o.href=f,o.target="_blank",setTimeout(function(){C(o)})}}:function(f,w,m,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),typeof f=="string")return ae(f,w,m);var i=f.type==="application/octet-stream",e=/constructor/i.test(b.HTMLElement)||b.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||i&&e||h)&&typeof FileReader!="undefined"){var n=new FileReader;n.onloadend=function(){var d=n.result;d=r?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=d:location=d,o=null},n.readAsDataURL(f)}else{var t=b.URL||b.webkitURL,u=t.createObjectURL(f);o?o.location=u:location.href=u,o=null,setTimeout(function(){t.revokeObjectURL(u)},4e4)}});b.saveAs=p.saveAs=p,_t.exports=p})}).call(this,Fe("IyRk"))},PGov:function(_t,pt,Fe){"use strict";var He=Fe("i8i4"),Ye=Fe.n(He),ot=Fe("oOwn"),Qe=Fe.n(ot),J=Fe("bBst"),ae=Fe.n(J),T=Fe("q1tI"),C=Fe.n(T);function b(z,G,H){return G in z?Object.defineProperty(z,G,{value:H,enumerable:!0,configurable:!0,writable:!0}):z[G]=H,z}function h(z){for(var G=1;G<arguments.length;G++){var H=arguments[G]!=null?arguments[G]:{},D=Object.keys(H);typeof Object.getOwnPropertySymbols=="function"&&(D=D.concat(Object.getOwnPropertySymbols(H).filter(function(Q){return Object.getOwnPropertyDescriptor(H,Q).enumerable}))),D.forEach(function(Q){b(z,Q,H[Q])})}return z}function p(z,G){if(!(z instanceof G))throw new TypeError("Cannot call a class as a function")}function f(z,G){for(var H=0;H<G.length;H++){var D=G[H];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(z,D.key,D)}}function w(z,G,H){return G&&f(z.prototype,G),H&&f(z,H),z}function m(z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(H){return typeof H}:m=function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},m(z)}function o(z){return typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?o=function(H){return m(H)}:o=function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":m(H)},o(z)}function i(z){if(z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return z}function e(z,G){return G&&(o(G)==="object"||typeof G=="function")?G:i(z)}function r(z){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(H){return H.__proto__||Object.getPrototypeOf(H)},r(z)}function n(z,G){return n=Object.setPrototypeOf||function(D,Q){return D.__proto__=Q,D},n(z,G)}function t(z,G){if(typeof G!="function"&&G!==null)throw new TypeError("Super expression must either be null or a function");z.prototype=Object.create(G&&G.prototype,{constructor:{value:z,writable:!0,configurable:!0}}),G&&n(z,G)}function u(z){if(Array.isArray(z)){for(var G=0,H=new Array(z.length);G<z.length;G++)H[G]=z[G];return H}}function d(z){if(Symbol.iterator in Object(z)||Object.prototype.toString.call(z)==="[object Arguments]")return Array.from(z)}function _(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function E(z){return u(z)||d(z)||_()}var A={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},S=function z(){var G=this;p(this,z),this.startListen=function(H){!H||H.addEventListener("keydown",G.f)},this.stopListen=function(H){!H||H.removeEventListener("keydown",G.f)},this.add=function(H,D){var Q=H;return typeof Q!="object"&&(Q=[Q]),G.listeners[G.index]={keyCode:Q,fn:D},G.index++},this.remove=function(H){delete G.listeners[H]},this.removeAll=function(){G.listeners={},G.index=1},this.index=1,this.listeners={},this.f=function(H){if(!!H){var D=H.keyCode||H.which;Object.values(G.listeners).forEach(function(Q){var ce=Q.keyCode,ne=Q.fn;ce.includes(D)&&(H.stopPropagation(),H.preventDefault(),ne(H))})}}},L=new S,P=function(z){t(G,z);function G(){var H,D;p(this,G);for(var Q=arguments.length,ce=new Array(Q),ne=0;ne<Q;ne++)ce[ne]=arguments[ne];return D=e(this,(H=r(G)).call.apply(H,[this].concat(ce))),D.selectItem=function(){var me=D.props,de=me.item,ie=me.onSelectHandler;ie(de)},D}return w(G,[{key:"shouldComponentUpdate",value:function(D){return this.props.item!==D.item||this.props.selected!==D.selected||this.props.style!==D.style||this.props.className!==D.className}},{key:"render",value:function(){var D=this,Q=this.props,ce=Q.component,ne=Q.style,me=Q.onClickHandler,de=Q.item,ie=Q.selected,re=Q.className,ge=Q.innerRef;return C.a.createElement("li",{className:"rta__item  ".concat(ie===!0?"rta__item--selected":""," ").concat(re||""),style:ne},C.a.createElement("div",{className:"rta__entity ".concat(ie===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:me,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){D.clicked=!0,D.selectItem()},onTouchEnd:function(Ce){Ce.preventDefault(),D.clicked&&me(Ce)},onTouchMove:function(){D.clicked=!1},onTouchCancel:function(){D.clicked=!1},ref:ge},C.a.createElement(ce,{selected:ie,entity:de})))}}]),G}(C.a.Component),M=function(z){t(G,z);function G(){var H,D;p(this,G);for(var Q=arguments.length,ce=new Array(Q),ne=0;ne<Q;ne++)ce[ne]=arguments[ne];return D=e(this,(H=r(G)).call.apply(H,[this].concat(ce))),D.state={selectedItem:null},D.cachedIdOfItems=new Map,D.onPressEnter=function(me){typeof me!="undefined"&&me.preventDefault();var de=D.props.values;D.modifyText(de[D.getPositionInList()])},D.getPositionInList=function(){var me=D.props.values,de=D.state.selectedItem;return de?me.findIndex(function(ie){return D.getId(ie)===D.getId(de)}):0},D.getId=function(me){if(D.cachedIdOfItems.has(me))return D.cachedIdOfItems.get(me);var de=D.props.getTextToReplace(me),ie=function(){if(de){if(de.key)return de.key;if(typeof me=="string"||!me.key)return de.text}if(!me.key)throw new Error("Item ".concat(JSON.stringify(me),' has to have defined "key" property'));return me.key},re=ie();return D.cachedIdOfItems.set(me,re),re},D.listeners=[],D.itemsRef={},D.modifyText=function(me){if(!!me){var de=D.props.onSelect;de(me)}},D.selectItem=function(me){var de=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ie=D.props.onItemHighlighted;D.state.selectedItem!==me&&D.setState({selectedItem:me},function(){ie(me),de&&D.props.dropdownScroll(D.itemsRef[D.getId(me)])})},D.scroll=function(me){me.preventDefault();var de=D.props.values,ie=me.keyCode||me.which,re=D.getPositionInList(),ge;switch(ie){case A.DOWN:ge=re+1;break;case A.UP:ge=re-1;break;default:ge=re;break}ge=(ge%de.length+de.length)%de.length,D.selectItem(de[ge],[A.DOWN,A.UP].includes(ie))},D.isSelected=function(me){var de=D.state.selectedItem;return de?D.getId(de)===D.getId(me):!1},D}return w(G,[{key:"componentDidMount",value:function(){this.listeners.push(L.add([A.DOWN,A.UP],this.scroll),L.add([A.ENTER,A.TAB],this.onPressEnter));var D=this.props.values;D&&D[0]&&this.selectItem(D[0])}},{key:"componentDidUpdate",value:function(D){var Q=this,ce=D.values,ne=this.props.values,me=ce.map(function(ie){return Q.getId(ie)}).join(""),de=ne.map(function(ie){return Q.getId(ie)}).join("");me!==de&&ne&&ne[0]&&this.selectItem(ne[0])}},{key:"componentWillUnmount",value:function(){for(var D;this.listeners.length;)D=this.listeners.pop(),L.remove(D)}},{key:"render",value:function(){var D=this,Q=this.props,ce=Q.values,ne=Q.component,me=Q.style,de=Q.itemClassName,ie=Q.className,re=Q.itemStyle;return C.a.createElement("ul",{className:"rta__list ".concat(ie||""),style:me},ce.map(function(ge){return C.a.createElement(P,{key:D.getId(ge),innerRef:function(Ce){D.itemsRef[D.getId(ge)]=Ce},selected:D.isSelected(ge),item:ge,className:de,style:re,onClickHandler:D.onPressEnter,onSelectHandler:D.selectItem,component:ne})}))}}]),G}(C.a.Component);function q(z,G){var H=parseInt(getComputedStyle(G).getPropertyValue("height"),10),D=parseInt(getComputedStyle(z).getPropertyValue("height"),10)-H,Q=G.offsetTop,ce=z.scrollTop;Q<ce+D&&ce<Q||(z.scrollTop=Q)}var F="next",Z={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},B=function(G){return console.error("RTA: dataProvider fails: ".concat(G,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},X=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],te=function(G){return E(G).map(function(H){return X.includes(H)?"\\".concat(H):H}).join("")},W=function(z){t(G,z);function G(){return p(this,G),e(this,r(G).apply(this,arguments))}return w(G,[{key:"componentDidMount",value:function(){var D=this.props.boundariesElement;if(typeof D=="string"){var Q=document.querySelector(D);if(!Q)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=Q}else if(D instanceof HTMLElement)this.containerElem=D;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var D,Q,ce=this.props.top||0,ne=this.props.left||0,me=[],de=[],ie=0,re=0,ge=this.containerElem.getBoundingClientRect(),we=this.ref.getBoundingClientRect(),Ce=this.props.textareaRef.getBoundingClientRect(),je=window.getComputedStyle(this.ref),V=parseInt(je.getPropertyValue("margin-top"),10),ye=parseInt(je.getPropertyValue("margin-bottom"),10),K=parseInt(je.getPropertyValue("margin-left"),10),k=parseInt(je.getPropertyValue("margin-right"),10),I=V+ye+Ce.top+ce+we.height,N=K+k+Ce.left+ne+we.width;N>ge.right&&Ce.left+ne>we.width?(re=ne-we.width,me.push(Z.X.LEFT),de.push(Z.X.RIGHT)):(re=ne,me.push(Z.X.RIGHT),de.push(Z.X.LEFT)),I>ge.bottom&&Ce.top+ce>we.height?(ie=ce-we.height,me.push(Z.Y.TOP),de.push(Z.Y.BOTTOM)):(ie=ce,me.push(Z.Y.BOTTOM),de.push(Z.Y.TOP)),this.props.renderToBody&&(ie+=Ce.top,re+=Ce.left),this.ref.style.top="".concat(ie,"px"),this.ref.style.left="".concat(re,"px"),(D=this.ref.classList).remove.apply(D,de),(Q=this.ref.classList).add.apply(Q,me)}},{key:"render",value:function(){var D=this,Q=this.props,ce=Q.style,ne=Q.className,me=Q.innerRef,de=Q.children,ie=Q.renderToBody,re=document.body,ge=C.a.createElement("div",{ref:function(Ce){D.ref=Ce,me(Ce)},className:"rta__autocomplete ".concat(ne||""),style:ce},de);return ie&&re!==null?Ye.a.createPortal(ge,re):ge}}]),G}(C.a.Component),Y=function(z){t(G,z);function G(H){var D;p(this,G),D=e(this,r(G).call(this,H)),D.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},D.escListenerInit=function(){D.escListener||(D.escListener=L.add(A.ESC,D._closeAutocomplete))},D.escListenerDestroy=function(){D.escListener&&(L.remove(D.escListener),D.escListener=null)},D.getSelectionPosition=function(){return D.textareaRef?{selectionStart:D.textareaRef.selectionStart,selectionEnd:D.textareaRef.selectionEnd}:null},D.getSelectedText=function(){if(!D.textareaRef)return null;var de=D.textareaRef,ie=de.selectionStart,re=de.selectionEnd;return ie===re?null:D.state.value.substr(ie,re-ie)},D.setCaretPosition=function(){var de=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;!D.textareaRef||(D.textareaRef.focus(),D.textareaRef.setSelectionRange(de,de))},D.getCaretPosition=function(){if(!D.textareaRef)return 0;var de=D.textareaRef.selectionEnd;return de},D._handleCaretChange=function(de){var ie=function(){var we=D.getCaretPosition()-1;D.lastTrigger=D.lastTrigger?we:0};if(de.type==="keydown"){var re=de.keyCode||de.which;switch(re){case A.UP:case A.DOWN:D._isAutocompleteOpen()||ie();break;case A.LEFT:case A.RIGHT:ie();break;default:}return}ie()},D._onSelect=function(de){var ie=D.state,re=ie.selectionEnd,ge=ie.currentTrigger,we=ie.value,Ce=D.props.onItemSelected;if(!!ge){var je=D._getTextToReplace(ge);if(!je){D._closeAutocomplete();return}var V=je(de);if(!V){D._closeAutocomplete();return}Ce&&Ce({currentTrigger:ge,item:de});var ye=function(Se,Ue,Ze){switch(Se){case"start":return Ze;case"next":case"end":return Ze+Ue.length;default:if(!Number.isInteger(Se))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return Se}},K=we.slice(0,re),k=te(ge),I=K.length-K.lastIndexOf(ge),N=K.search(new RegExp("(?!".concat(k,")$")))-I,oe=V.caretPosition==="next"?"".concat(V.text," "):V.text,le=ye(V.caretPosition,oe,N),$=K.substring(0,N)+oe,xe=we.replace(K,$);D.setState({value:xe,dataLoading:!1},function(){var Le=D.tokenRegExpEnding.exec(oe),Se=Le?Le[0].length:1;D.lastTrigger=le&&le-Se,D.textareaRef.value=xe,D.textareaRef.selectionEnd=le,D._changeHandler();var Ue=D.textareaRef.scrollTop;D.setCaretPosition(le),window.chrome&&(D.textareaRef.scrollTop=Ue)})}},D._getTextToReplace=function(de){var ie=D.props.trigger[de];if(!de||!ie)return null;var re=ie.output;return function(ge){if(typeof ge=="object"&&(!re||typeof re!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if(re){var we=re(ge,de);if(we===void 0||typeof we=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(we),'". Check the implementation for trigger "').concat(de,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(we===null)return null;if(typeof we=="string")return{text:we,caretPosition:F};if(!we.text&&typeof we.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(de,`"
`));if(!we.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(de,`"
`));return we}if(typeof ge!="string")throw new Error(`Output item should be string
`);return{text:"".concat(de).concat(ge).concat(de),caretPosition:F}}},D._getCurrentTriggerSettings=function(){var de=D.state.currentTrigger;return de?D.props.trigger[de]:null},D._getValuesFromProvider=function(){var de=D.state,ie=de.currentTrigger,re=de.actualToken,ge=D._getCurrentTriggerSettings();if(!(!ie||!ge)){var we=ge.dataProvider,Ce=ge.component;if(typeof we!="function")throw new Error("Trigger provider has to be a function!");D.setState({dataLoading:!0});var je=we(re);je instanceof Promise||(je=Promise.resolve(je)),je.then(function(V){if(!Array.isArray(V))throw new Error("Trigger provider has to provide an array!");if(typeof Ce!="function")throw new Error("Component should be defined!");if(ie===D.state.currentTrigger){if(!V.length){D._closeAutocomplete();return}D.setState({dataLoading:!1,data:V,component:Ce})}}).catch(function(V){return B(V.message)})}},D._getSuggestions=function(){var de=D.state,ie=de.currentTrigger,re=de.data;return!ie||!re||re&&!re.length?null:re},D._createRegExp=function(){var de=D.props.trigger;D.tokenRegExp=new RegExp("(".concat(Object.keys(de).sort(function(ie,re){return ie<re?1:ie>re?-1:0}).map(function(ie){return te(ie)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),D.tokenRegExpEnding=new RegExp("(".concat(Object.keys(de).sort(function(ie,re){return ie<re?1:ie>re?-1:0}).map(function(ie){return te(ie)}).join("|"),")$"))},D._closeAutocomplete=function(){var de=D.state.currentTrigger;D.escListenerDestroy(),D.setState({data:null,dataLoading:!1,currentTrigger:null},function(){de&&D._onItemHighlightedHandler(null)})},D._cleanUpProps=function(){var de=h({},D.props),ie=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var re in de)ie.includes(re)&&delete de[re];return de},D._changeHandler=function(de){var ie=D.props,re=ie.trigger,ge=ie.onChange,we=ie.minChar,Ce=ie.onCaretPositionChange,je=ie.movePopupAsYouType,V=D.state,ye=V.top,K=V.left,k=de;k||(k=new ae.a("change",{bubbles:!0}),D.textareaRef.dispatchEvent(k));var I=k.target||D.textareaRef,N=I.selectionEnd,oe=I.value;if(D.lastValueBubbledEvent=oe,ge&&k&&(k.persist&&k.persist(),ge(new Proxy(k,{get:function(Bt,Pt,nr){return Pt==="target"?I:Reflect.get(Bt,Pt,nr)}}))),Ce){var le=D.getCaretPosition();Ce(le)}D.setState({value:oe});var $=function(){var Bt=Qe()(I,N),Pt=Bt.top,nr=Bt.left;D.setState({top:Pt-D.textareaRef.scrollTop||0,left:nr})},xe=function(Bt){D.lastTrigger=N-Bt,D._closeAutocomplete(),$()};if(N<=D.lastTrigger){var Le=oe.slice(0,N),Se=D.tokenRegExp.exec(Le);xe(Se?Se[0].length:0)}var Ue=oe.slice(D.lastTrigger,N),Ze=D.tokenRegExp.exec(Ue),et=Ze&&Ze[0],ht=Ze&&Ze[1]||null,Ct=ht?ht.length-1:0,It=D.tokenRegExpEnding.exec(Ue);if(It?xe(It[0].length):D._isAutocompleteOpen()||D._closeAutocomplete(),(!et||et.length<=we+Ct)&&(D.state.currentTrigger&&!re[D.state.currentTrigger].allowWhitespace||!D.state.currentTrigger)){D._closeAutocomplete();return}if(ht&&re[ht].afterWhitespace&&!/\s/.test(oe[N-et.length-1])&&oe[N-et.length-1]!==void 0){D._closeAutocomplete();return}if(D.state.currentTrigger&&re[D.state.currentTrigger].allowWhitespace){if(Ze=new RegExp("".concat(te(D.state.currentTrigger),".*$")).exec(oe.slice(0,N)),et=Ze&&Ze[0],!et){D._closeAutocomplete();return}ht=Object.keys(re).find(function(Dt){return Dt.slice(0,Ct+1)===et.slice(0,Ct+1)})||null}var $t=et.slice(1);if(!!ht){(je||ye===null&&K===null||D.state.currentTrigger!==ht)&&$(),D.escListenerInit();var yt=D._getTextToReplace(ht);D.setState({selectionEnd:N,currentTrigger:ht,textToReplace:yt,actualToken:$t},function(){try{D._getValuesFromProvider()}catch(Dt){B(Dt.message)}})}},D._selectHandler=function(de){var ie=D.props,re=ie.onCaretPositionChange,ge=ie.onSelect;if(re){var we=D.getCaretPosition();re(we)}ge&&(de.persist(),ge(de))},D._shouldStayOpen=function(de){var ie=de.relatedTarget;return ie===null&&(ie=document.activeElement),!!(D.dropdownRef&&ie instanceof Node&&D.dropdownRef.contains(ie))},D._onClick=function(de){var ie=D.props.onClick;ie&&(de.persist(),ie(de)),!D._shouldStayOpen(de)&&D._closeAutocomplete()},D._onBlur=function(de){var ie=D.props.onBlur;ie&&(de.persist(),ie(de)),!D._shouldStayOpen(de)&&D._closeAutocomplete()},D._onScrollHandler=function(){D._closeAutocomplete()},D._onItemHighlightedHandler=function(de){var ie=D.props.onItemHighlighted,re=D.state.currentTrigger;if(ie)if(typeof ie=="function")ie({currentTrigger:re,item:de});else throw new Error("`onItemHighlighted` has to be a function")},D._dropdownScroll=function(de){var ie=D.props.scrollToItem;if(!!ie){if(ie===!0){q(D.dropdownRef,de);return}if(typeof ie!="function"||ie.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");ie(D.dropdownRef,de)}},D._isAutocompleteOpen=function(){var de=D.state,ie=de.dataLoading,re=de.currentTrigger,ge=D._getSuggestions();return!!((ie||ge)&&re)},D._textareaRef=function(de){D.props.innerRef&&D.props.innerRef(de),D.textareaRef=de},D.lastTrigger=0,D.escListener=null;var Q=D.props,ce=Q.loadingComponent,ne=Q.trigger,me=Q.value;if(me&&(D.state.value=me),D._createRegExp(),!ce)throw new Error("RTA: loadingComponent is not defined");if(!ne)throw new Error("RTA: trigger is not defined");return D}return w(G,[{key:"componentDidMount",value:function(){L.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(D){var Q=D.trigger,ce=D.value,ne=this.props,me=ne.trigger,de=ne.value;Object.keys(me).join("")!==Object.keys(Q).join("")&&this._createRegExp(),ce!==de&&this.lastValueBubbledEvent!==de&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),L.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var D=this,Q=this.props,ce=Q.loadingComponent,ne=Q.style,me=Q.className,de=Q.listStyle,ie=Q.itemStyle,re=Q.boundariesElement,ge=Q.movePopupAsYouType,we=Q.listClassName,Ce=Q.itemClassName,je=Q.dropdownClassName,V=Q.dropdownStyle,ye=Q.containerStyle,K=Q.containerClassName,k=Q.loaderStyle,I=Q.loaderClassName,N=Q.textAreaComponent,oe=Q.renderToBody,le=this.state,$=le.left,xe=le.top,Le=le.dataLoading,Se=le.component,Ue=le.value,Ze=le.textToReplace,et=this._isAutocompleteOpen(),ht=this._getSuggestions(),Ct={},It;return N.component?(It=N.component,Ct[N.ref]=this._textareaRef):(It=N,Ct.ref=this._textareaRef),C.a.createElement("div",{className:"rta ".concat(Le===!0?"rta--loading":""," ").concat(K||""),style:ye},C.a.createElement(It,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(me||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:Ue,style:ne},Ct)),et&&C.a.createElement(W,{innerRef:function(yt){D.dropdownRef=yt},top:xe,left:$,style:V,className:je,movePopupAsYouType:ge,boundariesElement:re,textareaRef:this.textareaRef,renderToBody:oe},ht&&Se&&Ze&&C.a.createElement(M,{values:ht,component:Se,style:de,className:we,itemClassName:Ce,itemStyle:ie,getTextToReplace:Ze,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),Le&&C.a.createElement("div",{className:"rta__loader ".concat(ht!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(I||""),style:k},C.a.createElement(ce,{data:ht}))))}}],[{key:"getDerivedStateFromProps",value:function(D){var Q=D.value;return Q==null?null:{value:Q}}}]),G}(C.a.Component);Y.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1},pt.a=Y},UF3W:function(_t,pt,Fe){(function(He){/*! For license information please see reportbro.js.LICENSE.txt */(function(){var Ye={1924:function(ae,T,C){"use strict";var b=C(210),h=C(5559),p=h(b("String.prototype.indexOf"));ae.exports=function(f,w){var m=b(f,!!w);return typeof m=="function"&&p(f,".prototype.")>-1?h(m):m}},5559:function(ae,T,C){"use strict";var b=C(8612),h=C(210),p=h("%Function.prototype.apply%"),f=h("%Function.prototype.call%"),w=h("%Reflect.apply%",!0)||b.call(f,p),m=h("%Object.getOwnPropertyDescriptor%",!0),o=h("%Object.defineProperty%",!0),i=h("%Math.max%");if(o)try{o({},"a",{value:1})}catch(r){o=null}ae.exports=function(r){var n=w(b,f,arguments);if(m&&o){var t=m(n,"length");t.configurable&&o(n,"length",{value:1+i(0,r.length-(arguments.length-1))})}return n};var e=function(){return w(b,p,arguments)};o?o(ae.exports,"apply",{value:e}):ae.exports.apply=e},251:function(ae,T,C){var b=C(2215),h=C(2584),p=C(609),f=C(8420),w=C(2847),m=C(8923),o=Date.prototype.getTime;function i(r){return r==null}function e(r){return!(!r||typeof r!="object"||typeof r.length!="number"||typeof r.copy!="function"||typeof r.slice!="function"||r.length>0&&typeof r[0]!="number")}ae.exports=function r(n,t,u){var d=u||{};return!!(d.strict?p(n,t):n===t)||(!n||!t||typeof n!="object"&&typeof t!="object"?d.strict?p(n,t):n==t:function(_,E,A){var S,L;if(typeof _!=typeof E||i(_)||i(E)||_.prototype!==E.prototype||h(_)!==h(E))return!1;var P=f(_),M=f(E);if(P!==M)return!1;if(P||M)return _.source===E.source&&w(_)===w(E);if(m(_)&&m(E))return o.call(_)===o.call(E);var q=e(_),F=e(E);if(q!==F)return!1;if(q||F){if(_.length!==E.length)return!1;for(S=0;S<_.length;S++)if(_[S]!==E[S])return!1;return!0}if(typeof _!=typeof E)return!1;try{var Z=b(_),B=b(E)}catch(X){return!1}if(Z.length!==B.length)return!1;for(Z.sort(),B.sort(),S=Z.length-1;S>=0;S--)if(Z[S]!=B[S])return!1;for(S=Z.length-1;S>=0;S--)if(!r(_[L=Z[S]],E[L],A))return!1;return!0}(n,t,d))}},4289:function(ae,T,C){"use strict";var b=C(2215),h=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",p=Object.prototype.toString,f=Array.prototype.concat,w=Object.defineProperty,m=w&&function(){var e={};try{for(var r in w(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}}(),o=function(r,n,t,u){var d;(!(n in r)||typeof(d=u)=="function"&&p.call(d)==="[object Function]"&&u())&&(m?w(r,n,{configurable:!0,enumerable:!1,value:t,writable:!0}):r[n]=t)},i=function(r,n){var t=arguments.length>2?arguments[2]:{},u=b(n);h&&(u=f.call(u,Object.getOwnPropertySymbols(n)));for(var d=0;d<u.length;d+=1)o(r,u[d],n[u[d]],t[u[d]])};i.supportsDescriptors=!!m,ae.exports=i},5987:function(ae){"use strict";var T={single_source_shortest_paths:function(b,h,p){var f={},w={};w[h]=0;var m,o,i,e,r,n,t,u=T.PriorityQueue.make();for(u.push(h,0);!u.empty();)for(i in o=(m=u.pop()).value,e=m.cost,r=b[o]||{})r.hasOwnProperty(i)&&(n=e+r[i],t=w[i],(w[i]===void 0||t>n)&&(w[i]=n,u.push(i,n),f[i]=o));if(p!==void 0&&w[p]===void 0){var d=["Could not find a path from ",h," to ",p,"."].join("");throw new Error(d)}return f},extract_shortest_path_from_predecessor_list:function(b,h){for(var p=[],f=h;f;)p.push(f),b[f],f=b[f];return p.reverse(),p},find_path:function(b,h,p){var f=T.single_source_shortest_paths(b,h,p);return T.extract_shortest_path_from_predecessor_list(f,p)},PriorityQueue:{make:function(b){var h,p=T.PriorityQueue,f={};for(h in b=b||{},p)p.hasOwnProperty(h)&&(f[h]=p[h]);return f.queue=[],f.sorter=b.sorter||p.default_sorter,f},default_sorter:function(b,h){return b.cost-h.cost},push:function(b,h){var p={value:b,cost:h};this.queue.push(p),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};ae.exports=T},2378:function(ae){"use strict";ae.exports=function(T){for(var C=[],b=T.length,h=0;h<b;h++){var p=T.charCodeAt(h);if(p>=55296&&p<=56319&&b>h+1){var f=T.charCodeAt(h+1);f>=56320&&f<=57343&&(p=1024*(p-55296)+f-56320+65536,h+=1)}p<128?C.push(p):p<2048?(C.push(p>>6|192),C.push(63&p|128)):p<55296||p>=57344&&p<65536?(C.push(p>>12|224),C.push(p>>6&63|128),C.push(63&p|128)):p>=65536&&p<=1114111?(C.push(p>>18|240),C.push(p>>12&63|128),C.push(p>>6&63|128),C.push(63&p|128)):C.push(239,191,189)}return new Uint8Array(C).buffer}},4470:function(ae){"use strict";var T=Object.prototype.hasOwnProperty,C=Object.prototype.toString,b=Object.defineProperty,h=Object.getOwnPropertyDescriptor,p=function(i){return typeof Array.isArray=="function"?Array.isArray(i):C.call(i)==="[object Array]"},f=function(i){if(!i||C.call(i)!=="[object Object]")return!1;var e,r=T.call(i,"constructor"),n=i.constructor&&i.constructor.prototype&&T.call(i.constructor.prototype,"isPrototypeOf");if(i.constructor&&!r&&!n)return!1;for(e in i);return e===void 0||T.call(i,e)},w=function(i,e){b&&e.name==="__proto__"?b(i,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):i[e.name]=e.newValue},m=function(i,e){if(e==="__proto__"){if(!T.call(i,e))return;if(h)return h(i,e).value}return i[e]};ae.exports=function o(){var i,e,r,n,t,u,d=arguments[0],_=1,E=arguments.length,A=!1;for(typeof d=="boolean"&&(A=d,d=arguments[1]||{},_=2),(d==null||typeof d!="object"&&typeof d!="function")&&(d={});_<E;++_)if((i=arguments[_])!=null)for(e in i)r=m(d,e),d!==(n=m(i,e))&&(A&&n&&(f(n)||(t=p(n)))?(t?(t=!1,u=r&&p(r)?r:[]):u=r&&f(r)?r:{},w(d,{name:e,newValue:o(A,u,n)})):n!==void 0&&w(d,{name:e,newValue:n}));return d}},7529:function(ae){var T=-1;function C(o,i,e){if(o==i)return o?[[0,o]]:[];(e<0||o.length<e)&&(e=null);var r=h(o,i),n=o.substring(0,r);r=p(o=o.substring(r),i=i.substring(r));var t=o.substring(o.length-r),u=function(d,_){var E;if(!d)return[[1,_]];if(!_)return[[T,d]];var A=d.length>_.length?d:_,S=d.length>_.length?_:d,L=A.indexOf(S);if(L!=-1)return E=[[1,A.substring(0,L)],[0,S],[1,A.substring(L+S.length)]],d.length>_.length&&(E[0][0]=E[2][0]=T),E;if(S.length==1)return[[T,d],[1,_]];var P=function(W,Y){var z=W.length>Y.length?W:Y,G=W.length>Y.length?Y:W;if(z.length<4||2*G.length<z.length)return null;function H(re,ge,we){for(var Ce,je,V,ye,K=re.substring(we,we+Math.floor(re.length/4)),k=-1,I="";(k=ge.indexOf(K,k+1))!=-1;){var N=h(re.substring(we),ge.substring(k)),oe=p(re.substring(0,we),ge.substring(0,k));I.length<oe+N&&(I=ge.substring(k-oe,k)+ge.substring(k,k+N),Ce=re.substring(0,we-oe),je=re.substring(we+N),V=ge.substring(0,k-oe),ye=ge.substring(k+N))}return 2*I.length>=re.length?[Ce,je,V,ye,I]:null}var D,Q,ce,ne,me,de=H(z,G,Math.ceil(z.length/4)),ie=H(z,G,Math.ceil(z.length/2));return de||ie?(D=ie?de&&de[4].length>ie[4].length?de:ie:de,W.length>Y.length?(Q=D[0],ce=D[1],ne=D[2],me=D[3]):(ne=D[0],me=D[1],Q=D[2],ce=D[3]),[Q,ce,ne,me,D[4]]):null}(d,_);if(P){var M=P[0],q=P[1],F=P[2],Z=P[3],B=P[4],X=C(M,F),te=C(q,Z);return X.concat([[0,B]],te)}return function(W,Y){for(var z=W.length,G=Y.length,H=Math.ceil((z+G)/2),D=H,Q=2*H,ce=new Array(Q),ne=new Array(Q),me=0;me<Q;me++)ce[me]=-1,ne[me]=-1;ce[D+1]=0,ne[D+1]=0;for(var de=z-G,ie=de%2!=0,re=0,ge=0,we=0,Ce=0,je=0;je<H;je++){for(var V=-je+re;V<=je-ge;V+=2){for(var ye=D+V,K=(le=V==-je||V!=je&&ce[ye-1]<ce[ye+1]?ce[ye+1]:ce[ye-1]+1)-V;le<z&&K<G&&W.charAt(le)==Y.charAt(K);)le++,K++;if(ce[ye]=le,le>z)ge+=2;else if(K>G)re+=2;else if(ie&&(N=D+de-V)>=0&&N<Q&&ne[N]!=-1&&le>=(I=z-ne[N]))return b(W,Y,le,K)}for(var k=-je+we;k<=je-Ce;k+=2){for(var I,N=D+k,oe=(I=k==-je||k!=je&&ne[N-1]<ne[N+1]?ne[N+1]:ne[N-1]+1)-k;I<z&&oe<G&&W.charAt(z-I-1)==Y.charAt(G-oe-1);)I++,oe++;if(ne[N]=I,I>z)Ce+=2;else if(oe>G)we+=2;else if(!ie){var le;if((ye=D+de-k)>=0&&ye<Q&&ce[ye]!=-1&&(K=D+(le=ce[ye])-ye,le>=(I=z-I)))return b(W,Y,le,K)}}}return[[T,W],[1,Y]]}(d,_)}(o=o.substring(0,o.length-r),i=i.substring(0,i.length-r));return n&&u.unshift([0,n]),t&&u.push([0,t]),f(u),e!=null&&(u=function(d,_){var E=function(q,F){if(F===0)return[0,q];for(var Z=0,B=0;B<q.length;B++){var X=q[B];if(X[0]===T||X[0]===0){var te=Z+X[1].length;if(F===te)return[B+1,q];if(F<te){q=q.slice();var W=F-Z,Y=[X[0],X[1].slice(0,W)],z=[X[0],X[1].slice(W)];return q.splice(B,1,Y,z),[B+1,q]}Z=te}}throw new Error("cursor_pos is out of bounds!")}(d,_),A=E[1],S=E[0],L=A[S],P=A[S+1];if(L==null||L[0]!==0)return d;if(P!=null&&L[1]+P[1]===P[1]+L[1])return A.splice(S,2,P,L),m(A,S,2);if(P!=null&&P[1].indexOf(L[1])===0){A.splice(S,2,[P[0],L[1]],[0,L[1]]);var M=P[1].slice(L[1].length);return M.length>0&&A.splice(S+2,0,[P[0],M]),m(A,S,3)}return d}(u,e)),function(d){for(var _=!1,E=function(M){return M.charCodeAt(0)>=56320&&M.charCodeAt(0)<=57343},A=2;A<d.length;A+=1)d[A-2][0]===0&&(S=d[A-2][1]).charCodeAt(S.length-1)>=55296&&S.charCodeAt(S.length-1)<=56319&&d[A-1][0]===T&&E(d[A-1][1])&&d[A][0]===1&&E(d[A][1])&&(_=!0,d[A-1][1]=d[A-2][1].slice(-1)+d[A-1][1],d[A][1]=d[A-2][1].slice(-1)+d[A][1],d[A-2][1]=d[A-2][1].slice(0,-1));var S;if(!_)return d;var L=[];for(A=0;A<d.length;A+=1)d[A][1].length>0&&L.push(d[A]);return L}(u)}function b(o,i,e,r){var n=o.substring(0,e),t=i.substring(0,r),u=o.substring(e),d=i.substring(r),_=C(n,t),E=C(u,d);return _.concat(E)}function h(o,i){if(!o||!i||o.charAt(0)!=i.charAt(0))return 0;for(var e=0,r=Math.min(o.length,i.length),n=r,t=0;e<n;)o.substring(t,n)==i.substring(t,n)?t=e=n:r=n,n=Math.floor((r-e)/2+e);return n}function p(o,i){if(!o||!i||o.charAt(o.length-1)!=i.charAt(i.length-1))return 0;for(var e=0,r=Math.min(o.length,i.length),n=r,t=0;e<n;)o.substring(o.length-n,o.length-t)==i.substring(i.length-n,i.length-t)?t=e=n:r=n,n=Math.floor((r-e)/2+e);return n}function f(o){o.push([0,""]);for(var i,e=0,r=0,n=0,t="",u="";e<o.length;)switch(o[e][0]){case 1:n++,u+=o[e][1],e++;break;case T:r++,t+=o[e][1],e++;break;case 0:r+n>1?(r!==0&&n!==0&&((i=h(u,t))!==0&&(e-r-n>0&&o[e-r-n-1][0]==0?o[e-r-n-1][1]+=u.substring(0,i):(o.splice(0,0,[0,u.substring(0,i)]),e++),u=u.substring(i),t=t.substring(i)),(i=p(u,t))!==0&&(o[e][1]=u.substring(u.length-i)+o[e][1],u=u.substring(0,u.length-i),t=t.substring(0,t.length-i))),r===0?o.splice(e-n,r+n,[1,u]):n===0?o.splice(e-r,r+n,[T,t]):o.splice(e-r-n,r+n,[T,t],[1,u]),e=e-r-n+(r?1:0)+(n?1:0)+1):e!==0&&o[e-1][0]==0?(o[e-1][1]+=o[e][1],o.splice(e,1)):e++,n=0,r=0,t="",u=""}o[o.length-1][1]===""&&o.pop();var d=!1;for(e=1;e<o.length-1;)o[e-1][0]==0&&o[e+1][0]==0&&(o[e][1].substring(o[e][1].length-o[e-1][1].length)==o[e-1][1]?(o[e][1]=o[e-1][1]+o[e][1].substring(0,o[e][1].length-o[e-1][1].length),o[e+1][1]=o[e-1][1]+o[e+1][1],o.splice(e-1,1),d=!0):o[e][1].substring(0,o[e+1][1].length)==o[e+1][1]&&(o[e-1][1]+=o[e+1][1],o[e][1]=o[e][1].substring(o[e+1][1].length)+o[e+1][1],o.splice(e+1,1),d=!0)),e++;d&&f(o)}var w=C;function m(o,i,e){for(var r=i+e-1;r>=0&&r>=i-1;r--)if(r+1<o.length){var n=o[r],t=o[r+1];n[0]===t[1]&&o.splice(r,2,[n[0],n[1]+t[1]])}return o}w.INSERT=1,w.DELETE=T,w.EQUAL=0,ae.exports=w},7648:function(ae){"use strict";var T="Function.prototype.bind called on incompatible ",C=Array.prototype.slice,b=Object.prototype.toString,h="[object Function]";ae.exports=function(p){var f=this;if(typeof f!="function"||b.call(f)!==h)throw new TypeError(T+f);for(var w,m=C.call(arguments,1),o=function(){if(this instanceof w){var u=f.apply(this,m.concat(C.call(arguments)));return Object(u)===u?u:this}return f.apply(p,m.concat(C.call(arguments)))},i=Math.max(0,f.length-m.length),e=[],r=0;r<i;r++)e.push("$"+r);if(w=Function("binder","return function ("+e.join(",")+"){ return binder.apply(this,arguments); }")(o),f.prototype){var n=function(){};n.prototype=f.prototype,w.prototype=new n,n.prototype=null}return w}},8612:function(ae,T,C){"use strict";var b=C(7648);ae.exports=Function.prototype.bind||b},5972:function(ae){"use strict";var T=function(){return typeof function(){}.name=="string"},C=Object.getOwnPropertyDescriptor;if(C)try{C([],"length")}catch(h){C=null}T.functionsHaveConfigurableNames=function(){if(!T()||!C)return!1;var h=C(function(){},"name");return!!h&&!!h.configurable};var b=Function.prototype.bind;T.boundFunctionsHaveNames=function(){return T()&&typeof b=="function"&&function(){}.bind().name!==""},ae.exports=T},210:function(ae,T,C){"use strict";var b,h=SyntaxError,p=Function,f=TypeError,w=function(te){try{return p('"use strict"; return ('+te+").constructor;")()}catch(W){}},m=Object.getOwnPropertyDescriptor;if(m)try{m({},"")}catch(X){m=null}var o=function(){throw new f},i=m?function(){try{return o}catch(X){try{return m(arguments,"callee").get}catch(te){return o}}}():o,e=C(1405)(),r=Object.getPrototypeOf||function(X){return X.__proto__},n={},t=typeof Uint8Array=="undefined"?b:r(Uint8Array),u={"%AggregateError%":typeof AggregateError=="undefined"?b:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?b:ArrayBuffer,"%ArrayIteratorPrototype%":e?r([][Symbol.iterator]()):b,"%AsyncFromSyncIteratorPrototype%":b,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics=="undefined"?b:Atomics,"%BigInt%":typeof BigInt=="undefined"?b:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?b:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?b:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?b:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?b:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array=="undefined"?b:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?b:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?b:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":e?r(r([][Symbol.iterator]())):b,"%JSON%":typeof JSON=="object"?JSON:b,"%Map%":typeof Map=="undefined"?b:Map,"%MapIteratorPrototype%":typeof Map!="undefined"&&e?r(new Map()[Symbol.iterator]()):b,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?b:Promise,"%Proxy%":typeof Proxy=="undefined"?b:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?b:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?b:Set,"%SetIteratorPrototype%":typeof Set!="undefined"&&e?r(new Set()[Symbol.iterator]()):b,"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?b:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":e?r(""[Symbol.iterator]()):b,"%Symbol%":e?Symbol:b,"%SyntaxError%":h,"%ThrowTypeError%":i,"%TypedArray%":t,"%TypeError%":f,"%Uint8Array%":typeof Uint8Array=="undefined"?b:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?b:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?b:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?b:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?b:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?b:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?b:WeakSet},d=function X(te){var W;if(te==="%AsyncFunction%")W=w("async function () {}");else if(te==="%GeneratorFunction%")W=w("function* () {}");else if(te==="%AsyncGeneratorFunction%")W=w("async function* () {}");else if(te==="%AsyncGenerator%"){var Y=X("%AsyncGeneratorFunction%");Y&&(W=Y.prototype)}else if(te==="%AsyncIteratorPrototype%"){var z=X("%AsyncGenerator%");z&&(W=r(z.prototype))}return u[te]=W,W},_={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},E=C(8612),A=C(7642),S=E.call(Function.call,Array.prototype.concat),L=E.call(Function.apply,Array.prototype.splice),P=E.call(Function.call,String.prototype.replace),M=E.call(Function.call,String.prototype.slice),q=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,F=/\\(\\)?/g,Z=function(te){var W=M(te,0,1),Y=M(te,-1);if(W==="%"&&Y!=="%")throw new h("invalid intrinsic syntax, expected closing `%`");if(Y==="%"&&W!=="%")throw new h("invalid intrinsic syntax, expected opening `%`");var z=[];return P(te,q,function(G,H,D,Q){z[z.length]=D?P(Q,F,"$1"):H||G}),z},B=function(te,W){var Y,z=te;if(A(_,z)&&(z="%"+(Y=_[z])[0]+"%"),A(u,z)){var G=u[z];if(G===n&&(G=d(z)),G===void 0&&!W)throw new f("intrinsic "+te+" exists, but is not available. Please file an issue!");return{alias:Y,name:z,value:G}}throw new h("intrinsic "+te+" does not exist!")};ae.exports=function(X,te){if(typeof X!="string"||X.length===0)throw new f("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof te!="boolean")throw new f('"allowMissing" argument must be a boolean');var W=Z(X),Y=W.length>0?W[0]:"",z=B("%"+Y+"%",te),G=z.name,H=z.value,D=!1,Q=z.alias;Q&&(Y=Q[0],L(W,S([0,1],Q)));for(var ce=1,ne=!0;ce<W.length;ce+=1){var me=W[ce],de=M(me,0,1),ie=M(me,-1);if((de==='"'||de==="'"||de==="`"||ie==='"'||ie==="'"||ie==="`")&&de!==ie)throw new h("property names with quotes must have matching quotes");if(me!=="constructor"&&ne||(D=!0),A(u,G="%"+(Y+="."+me)+"%"))H=u[G];else if(H!=null){if(!(me in H)){if(!te)throw new f("base intrinsic for "+X+" exists, but the property is not available.");return}if(m&&ce+1>=W.length){var re=m(H,me);H=(ne=!!re)&&"get"in re&&!("originalValue"in re.get)?re.get:H[me]}else ne=A(H,me),H=H[me];ne&&!D&&(u[G]=H)}}return H}},1405:function(ae,T,C){"use strict";var b=typeof Symbol!="undefined"&&Symbol,h=C(5419);ae.exports=function(){return typeof b=="function"&&typeof Symbol=="function"&&typeof b("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&h()}},5419:function(ae){"use strict";ae.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var T={},C=Symbol("test"),b=Object(C);if(typeof C=="string"||Object.prototype.toString.call(C)!=="[object Symbol]"||Object.prototype.toString.call(b)!=="[object Symbol]")return!1;for(C in T[C]=42,T)return!1;if(typeof Object.keys=="function"&&Object.keys(T).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(T).length!==0)return!1;var h=Object.getOwnPropertySymbols(T);if(h.length!==1||h[0]!==C||!Object.prototype.propertyIsEnumerable.call(T,C))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var p=Object.getOwnPropertyDescriptor(T,C);if(p.value!==42||p.enumerable!==!0)return!1}return!0}},7642:function(ae,T,C){"use strict";var b=C(8612);ae.exports=b.call(Function.call,Object.prototype.hasOwnProperty)},2584:function(ae,T,C){"use strict";var b=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",h=C(1924)("Object.prototype.toString"),p=function(o){return!(b&&o&&typeof o=="object"&&Symbol.toStringTag in o)&&h(o)==="[object Arguments]"},f=function(o){return!!p(o)||o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&h(o)!=="[object Array]"&&h(o.callee)==="[object Function]"},w=function(){return p(arguments)}();p.isLegacyArguments=f,ae.exports=w?p:f},8923:function(ae){"use strict";var T=Date.prototype.getDay,C=Object.prototype.toString,b=typeof Symbol=="function"&&!!Symbol.toStringTag;ae.exports=function(h){return typeof h=="object"&&h!==null&&(b?function(p){try{return T.call(p),!0}catch(f){return!1}}(h):C.call(h)==="[object Date]")}},8420:function(ae,T,C){"use strict";var b,h,p,f,w=C(1924),m=C(5419)()&&!!Symbol.toStringTag;if(m){b=w("Object.prototype.hasOwnProperty"),h=w("RegExp.prototype.exec"),p={};var o=function(){throw p};f={toString:o,valueOf:o},typeof Symbol.toPrimitive=="symbol"&&(f[Symbol.toPrimitive]=o)}var i=w("Object.prototype.toString"),e=Object.getOwnPropertyDescriptor;ae.exports=m?function(r){if(!r||typeof r!="object")return!1;var n=e(r,"lastIndex");if(!n||!b(n,"value"))return!1;try{h(r,f)}catch(t){return t===p}}:function(r){return!(!r||typeof r!="object"&&typeof r!="function")&&i(r)==="[object RegExp]"}},5961:function(ae,T,C){"use strict";var b=r(C(2289)),h=r(C(2276)),p=r(C(5443)),f=r(C(7044)),w=r(C(9972)),m=r(C(5065)),o=r(C(8532)),i=C(2362),e=r(C(6025));function r(S){return S&&S.__esModule?S:{default:S}}var n=function(){},t=function(L,P,M){var q=new n;if(L===void 0)throw Error("No element to render on was provided.");return q._renderProperties=(0,w.default)(L),q._encodings=[],q._options=e.default,q._errorHandler=new o.default(q),P!==void 0&&((M=M||{}).format||(M.format=E()),q.options(M)[M.format](P,M).render()),q};for(var u in t.getModule=function(S){return b.default[S]},b.default)b.default.hasOwnProperty(u)&&d(b.default,u);function d(S,L){n.prototype[L]=n.prototype[L.toUpperCase()]=n.prototype[L.toLowerCase()]=function(P,M){var q=this;return q._errorHandler.wrapBarcodeCall(function(){M.text=M.text===void 0?void 0:""+M.text;var F=(0,h.default)(q._options,M);F=(0,m.default)(F);var Z=S[L],B=_(P,Z,F);return q._encodings.push(B),q})}}function _(S,L,P){var M=new L(S=""+S,P);if(!M.valid())throw new i.InvalidInputException(M.constructor.name,S);var q=M.encode();q=(0,p.default)(q);for(var F=0;F<q.length;F++)q[F].options=(0,h.default)(P,q[F].options);return q}function E(){return b.default.CODE128?"CODE128":Object.keys(b.default)[0]}function A(S,L,P){L=(0,p.default)(L);for(var M=0;M<L.length;M++)L[M].options=(0,h.default)(P,L[M].options),(0,f.default)(L[M].options);(0,f.default)(P),new S.renderer(S.element,L,P).render(),S.afterRender&&S.afterRender()}n.prototype.options=function(S){return this._options=(0,h.default)(this._options,S),this},n.prototype.blank=function(S){var L=new Array(S+1).join("0");return this._encodings.push({data:L}),this},n.prototype.init=function(){var S;if(this._renderProperties)for(var L in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){S=this._renderProperties[L];var P=(0,h.default)(this._options,S.options);P.format=="auto"&&(P.format=E()),this._errorHandler.wrapBarcodeCall(function(){var M=_(P.value,b.default[P.format.toUpperCase()],P);A(S,M,P)})}},n.prototype.render=function(){if(!this._renderProperties)throw new i.NoElementException;if(Array.isArray(this._renderProperties))for(var S=0;S<this._renderProperties.length;S++)A(this._renderProperties[S],this._encodings,this._options);else A(this._renderProperties,this._encodings,this._options);return this},n.prototype._defaults=e.default,typeof window!="undefined"&&(window.JsBarcode=t),typeof jQuery!="undefined"&&(jQuery.fn.JsBarcode=function(S,L){var P=[];return jQuery(this).each(function(){P.push(this)}),t(P,S,L)}),ae.exports=t},8012:function(ae,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function C(b,h){(function(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,C),this.data=b,this.text=h.text||b,this.options=h}},2089:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b,h=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=(b=C(8012))&&b.__esModule?b:{default:b},f=C(4602),w=function(m){function o(i,e){(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o);var r=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?n:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i.substring(1),e));return r.bytes=i.split("").map(function(n){return n.charCodeAt(0)}),r}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),h(o,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var e=this.bytes,r=e.shift()-105,n=f.SET_BY_CODE[r];if(n===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&e.unshift(f.FNC1);var t=o.next(e,1,n);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:o.getBar(r)+t.result+o.getBar((t.checksum+r)%f.MODULO)+o.getBar(f.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var e=this.options.ean128||!1;return typeof e=="string"&&(e=e.toLowerCase()==="true"),e}}],[{key:"getBar",value:function(e){return f.BARS[e]?f.BARS[e].toString():""}},{key:"correctIndex",value:function(e,r){if(r===f.SET_A){var n=e.shift();return n<32?n+64:n-32}return r===f.SET_B?e.shift()-32:10*(e.shift()-48)+e.shift()-48}},{key:"next",value:function(e,r,n){if(!e.length)return{result:"",checksum:0};var t=void 0,u=void 0;if(e[0]>=200){u=e.shift()-105;var d=f.SWAP[u];d!==void 0?t=o.next(e,r+1,d):(n!==f.SET_A&&n!==f.SET_B||u!==f.SHIFT||(e[0]=n===f.SET_A?e[0]>95?e[0]-96:e[0]:e[0]<32?e[0]+96:e[0]),t=o.next(e,r+1,n))}else u=o.correctIndex(e,n),t=o.next(e,r+1,n);var _=u*r;return{result:o.getBar(u)+t.result,checksum:_+t.checksum}}}]),o}(p.default);T.default=w},8238:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b,h=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=(b=C(2089))&&b.__esModule?b:{default:b},f=C(4602),w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,f.A_START_CHAR+i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),h(o,[{key:"valid",value:function(){return new RegExp("^"+f.A_CHARS+"+$").test(this.data)}}]),o}(p.default);T.default=w},1180:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b,h=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=(b=C(2089))&&b.__esModule?b:{default:b},f=C(4602),w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,f.B_START_CHAR+i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),h(o,[{key:"valid",value:function(){return new RegExp("^"+f.B_CHARS+"+$").test(this.data)}}]),o}(p.default);T.default=w},944:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b,h=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=(b=C(2089))&&b.__esModule?b:{default:b},f=C(4602),w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,f.C_START_CHAR+i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),h(o,[{key:"valid",value:function(){return new RegExp("^"+f.C_CHARS+"+$").test(this.data)}}]),o}(p.default);T.default=w},8845:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b=p(C(2089)),h=p(C(7293));function p(m){return m&&m.__esModule?m:{default:m}}function f(m,o){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?m:o}var w=function(m){function o(i,e){if(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,o),/^[\x00-\x7F\xC8-\xD3]+$/.test(i))var r=f(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,(0,h.default)(i),e));else r=f(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e));return f(r)}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),o}(b.default);T.default=w},7293:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b=C(4602),h=function(i){return i.match(new RegExp("^"+b.A_CHARS+"*"))[0].length},p=function(i){return i.match(new RegExp("^"+b.B_CHARS+"*"))[0].length},f=function(i){return i.match(new RegExp("^"+b.C_CHARS+"*"))[0]};function w(o,i){var e=i?b.A_CHARS:b.B_CHARS,r=o.match(new RegExp("^("+e+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+String.fromCharCode(204)+m(o.substring(r[1].length));var n=o.match(new RegExp("^"+e+"+"))[0];return n.length===o.length?o:n+String.fromCharCode(i?205:206)+w(o.substring(n.length),!i)}function m(o){var i=f(o),e=i.length;if(e===o.length)return o;o=o.substring(e);var r=h(o)>=p(o);return i+String.fromCharCode(r?206:205)+w(o,r)}T.default=function(o){var i=void 0;if(f(o).length>=2)i=b.C_START_CHAR+m(o);else{var e=h(o)>p(o);i=(e?b.A_START_CHAR:b.B_START_CHAR)+w(o,e)}return i.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(r,n){return String.fromCharCode(203)+n})}},4602:function(ae,T){"use strict";var C;function b(i,e,r){return e in i?Object.defineProperty(i,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[e]=r,i}Object.defineProperty(T,"__esModule",{value:!0});var h=T.SET_A=0,p=T.SET_B=1,f=T.SET_C=2,w=(T.SHIFT=98,T.START_A=103),m=T.START_B=104,o=T.START_C=105;T.MODULO=103,T.STOP=106,T.FNC1=207,T.SET_BY_CODE=(b(C={},w,h),b(C,m,p),b(C,o,f),C),T.SWAP={101:h,100:p,99:f},T.A_START_CHAR=String.fromCharCode(208),T.B_START_CHAR=String.fromCharCode(209),T.C_START_CHAR=String.fromCharCode(210),T.A_CHARS="[\0-_\xC8-\xCF]",T.B_CHARS="[ -\x7F\xC8-\xCF]",T.C_CHARS="(\xCF*[0-9]{2}\xCF*)",T.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},4935:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.CODE128C=T.CODE128B=T.CODE128A=T.CODE128=void 0;var b=w(C(8845)),h=w(C(8238)),p=w(C(1180)),f=w(C(944));function w(m){return m&&m.__esModule?m:{default:m}}T.CODE128=b.default,T.CODE128A=h.default,T.CODE128B=p.default,T.CODE128C=f.default},3361:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.CODE39=void 0;var b,h=function(){function i(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(e,r,n){return r&&i(e.prototype,r),n&&i(e,n),e}}(),p=function(i){function e(r,n){return function(t,u){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}(this,e),r=r.toUpperCase(),n.mod43&&(r+=function(t){return f[t]}(function(t){for(var u=0,d=0;d<t.length;d++)u+=o(t[d]);return u%43}(r))),function(t,u){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?t:u}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),h(e,[{key:"encode",value:function(){for(var n=m("*"),t=0;t<this.data.length;t++)n+=m(this.data[t])+"0";return{data:n+=m("*"),text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(((b=C(8012))&&b.__esModule?b:{default:b}).default),f=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],w=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function m(i){return function(e){return w[e].toString(2)}(o(i))}function o(i){return f.indexOf(i)}T.CODE39=p},6454:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),h=C(1239),p=f(C(5532));function f(m){return m&&m.__esModule?m:{default:m}}var w=function(m){function o(i,e){(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o);var r=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?n:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e));return r.fontSize=!e.flat&&e.fontSize>10*e.width?10*e.width:e.fontSize,r.guardHeight=e.height+r.fontSize/2+e.textMargin,r}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),b(o,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(e,r){return this.text.substr(e,r)}},{key:"leftEncode",value:function(e,r){return(0,p.default)(e,r)}},{key:"rightText",value:function(e,r){return this.text.substr(e,r)}},{key:"rightEncode",value:function(e,r){return(0,p.default)(e,r)}},{key:"encodeGuarded",value:function(){var e={fontSize:this.fontSize},r={height:this.guardHeight};return[{data:h.SIDE_BIN,options:r},{data:this.leftEncode(),text:this.leftText(),options:e},{data:h.MIDDLE_BIN,options:r},{data:this.rightEncode(),text:this.rightText(),options:e},{data:h.SIDE_BIN,options:r}]}},{key:"encodeFlat",value:function(){return{data:[h.SIDE_BIN,this.leftEncode(),h.MIDDLE_BIN,this.rightEncode(),h.SIDE_BIN].join(""),text:this.text}}}]),o}(f(C(8012)).default);T.default=w},23:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b,h=function(){function i(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(e,r,n){return r&&i(e.prototype,r),n&&i(e,n),e}}(),p=function i(e,r,n){e===null&&(e=Function.prototype);var t=Object.getOwnPropertyDescriptor(e,r);if(t===void 0){var u=Object.getPrototypeOf(e);return u===null?void 0:i(u,r,n)}if("value"in t)return t.value;var d=t.get;return d!==void 0?d.call(n):void 0},f=C(1239),w=(b=C(6454))&&b.__esModule?b:{default:b},m=function(e){return(10-e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,n,t){return t%2?r+3*n:r+n},0)%10)%10},o=function(i){function e(r,n){(function(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e),r.search(/^[0-9]{12}$/)!==-1&&(r+=m(r));var t=function(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?u:d}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return t.lastChar=n.lastChar,t}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),h(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===m(this.data)}},{key:"leftText",value:function(){return p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var n=this.data.substr(1,6),t=f.EAN13_STRUCTURE[this.data[0]];return p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,n,t)}},{key:"rightText",value:function(){return p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var n=this.data.substr(7,6);return p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,n,"RRRRRR")}},{key:"encodeGuarded",value:function(){var n=p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(n.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(n.push({data:"00"}),n.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),n}}]),e}(w.default);T.default=o},6552:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),h=C(1239),p=f(C(5532));function f(m){return m&&m.__esModule?m:{default:m}}var w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),b(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var e=h.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,p.default)(this.data,e,"01"),text:this.text}}}]),o}(f(C(8012)).default);T.default=w},9668:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),h=C(1239),p=f(C(5532));function f(m){return m&&m.__esModule?m:{default:m}}var w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),b(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var e,r=h.EAN5_STRUCTURE[e=this.data,e.split("").map(function(n){return+n}).reduce(function(n,t,u){return u%2?n+9*t:n+3*t},0)%10];return{data:"1011"+(0,p.default)(this.data,r,"01"),text:this.text}}}]),o}(f(C(8012)).default);T.default=w},5218:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b,h=function(){function o(i,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,e,r){return e&&o(i.prototype,e),r&&o(i,r),i}}(),p=function o(i,e,r){i===null&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,e);if(n===void 0){var t=Object.getPrototypeOf(i);return t===null?void 0:o(t,e,r)}if("value"in n)return n.value;var u=n.get;return u!==void 0?u.call(r):void 0},f=(b=C(6454))&&b.__esModule?b:{default:b},w=function(i){return(10-i.substr(0,7).split("").map(function(e){return+e}).reduce(function(e,r,n){return n%2?e+r:e+3*r},0)%10)%10},m=function(o){function i(e,r){return function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}(this,i),e.search(/^[0-9]{7}$/)!==-1&&(e+=w(e)),function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?n:t}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,r))}return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(i,o),h(i,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===w(this.data)}},{key:"leftText",value:function(){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),i}(f.default);T.default=m},5314:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}();T.checksum=w;var h=p(C(5532));function p(m){return m&&m.__esModule?m:{default:m}}var f=function(m){function o(i,e){(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o),i.search(/^[0-9]{11}$/)!==-1&&(i+=w(i));var r=function(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?n:t}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e));return r.displayValue=e.displayValue,e.fontSize>10*e.width?r.fontSize=10*e.width:r.fontSize=e.fontSize,r.guardHeight=e.height+r.fontSize/2+e.textMargin,r}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),b(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==w(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=(0,h.default)(this.data.substr(0,6),"LLLLLL"),e+="01010",e+=(0,h.default)(this.data.substr(6,6),"RRRRRR"),{data:e+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101"+(0,h.default)(this.data[0],"L"),options:{height:this.guardHeight}}),e.push({data:(0,h.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),e.push({data:"01010",options:{height:this.guardHeight}}),e.push({data:(0,h.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),e.push({data:(0,h.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),e}}]),o}(p(C(8012)).default);function w(m){var o,i=0;for(o=1;o<11;o+=2)i+=parseInt(m[o]);for(o=0;o<11;o+=2)i+=3*parseInt(m[o]);return(10-i%10)%10}T.default=f},930:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b=function(){function n(t,u){for(var d=0;d<u.length;d++){var _=u[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(t,_.key,_)}}return function(t,u,d){return u&&n(t.prototype,u),d&&n(t,d),t}}(),h=w(C(5532)),p=w(C(8012)),f=C(5314);function w(n){return n&&n.__esModule?n:{default:n}}function m(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?n:t}var o=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],i=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],e=function(n){function t(u,d){(function(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")})(this,t);var _=m(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u,d));if(_.isValid=!1,u.search(/^[0-9]{6}$/)!==-1)_.middleDigits=u,_.upcA=r(u,"0"),_.text=d.text||""+_.upcA[0]+u+_.upcA[_.upcA.length-1],_.isValid=!0;else{if(u.search(/^[01][0-9]{7}$/)===-1||(_.middleDigits=u.substring(1,u.length-1),_.upcA=r(_.middleDigits,u[0]),_.upcA[_.upcA.length-1]!==u[u.length-1]))return m(_);_.isValid=!0}return _.displayValue=d.displayValue,d.fontSize>10*d.width?_.fontSize=10*d.width:_.fontSize=d.fontSize,_.guardHeight=d.height+_.fontSize/2+d.textMargin,_}return function(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}(t,n),b(t,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var d="";return d+="101",d+=this.encodeMiddleDigits(),{data:d+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var d=[];return this.displayValue&&d.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),d.push({data:"101",options:{height:this.guardHeight}}),d.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),d.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&d.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),d}},{key:"encodeMiddleDigits",value:function(){var d=this.upcA[0],_=this.upcA[this.upcA.length-1],E=i[parseInt(_)][parseInt(d)];return(0,h.default)(this.middleDigits,E)}}]),t}(p.default);function r(n,t){for(var u=parseInt(n[n.length-1]),d=o[u],_="",E=0,A=0;A<d.length;A++){var S=d[A];_+=S==="X"?n[E++]:S}return(_=""+t+_)+(0,f.checksum)(_)}T.default=e},1239:function(ae,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.SIDE_BIN="101",T.MIDDLE_BIN="01010",T.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},T.EAN2_STRUCTURE=["LL","LG","GL","GG"],T.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],T.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},5532:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b=C(1239);T.default=function(h,p,f){var w=h.split("").map(function(o,i){return b.BINARIES[p[i]]}).map(function(o,i){return o?o[h[i]]:""});if(f){var m=h.length-1;w=w.map(function(o,i){return i<m?o+f:o})}return w.join("")}},5321:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.UPCE=T.UPC=T.EAN2=T.EAN5=T.EAN8=T.EAN13=void 0;var b=o(C(23)),h=o(C(5218)),p=o(C(9668)),f=o(C(6552)),w=o(C(5314)),m=o(C(930));function o(i){return i&&i.__esModule?i:{default:i}}T.EAN13=b.default,T.EAN8=h.default,T.EAN5=p.default,T.EAN2=f.default,T.UPC=w.default,T.UPCE=m.default},6447:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.GenericBarcode=void 0;var b,h=function(){function f(w,m){for(var o=0;o<m.length;o++){var i=m[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(w,i.key,i)}}return function(w,m,o){return m&&f(w.prototype,m),o&&f(w,o),w}}(),p=function(f){function w(m,o){return function(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}(this,w),function(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,m,o))}return function(m,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);m.prototype=Object.create(o&&o.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(m,o):m.__proto__=o)}(w,f),h(w,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),w}(((b=C(8012))&&b.__esModule?b:{default:b}).default);T.GenericBarcode=p},3074:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b,h=function(){function o(i,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,e,r){return e&&o(i.prototype,e),r&&o(i,r),i}}(),p=C(4477);function f(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function w(o,i){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||typeof i!="object"&&typeof i!="function"?o:i}var m=function(o){function i(){return f(this,i),w(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(i,o),h(i,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,n=this.data.match(/.{2}/g).map(function(t){return r.encodePair(t)}).join("");return{data:p.START_BIN+n+p.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var n=p.BINARIES[r[1]];return p.BINARIES[r[0]].split("").map(function(t,u){return(t==="1"?"111":"1")+(n[u]==="1"?"000":"0")}).join("")}}]),i}(((b=C(8012))&&b.__esModule?b:{default:b}).default);T.default=m},6972:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b,h=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=(b=C(3074))&&b.__esModule?b:{default:b},f=function(o){var i=o.substr(0,13).split("").map(function(e){return parseInt(e,10)}).reduce(function(e,r,n){return e+r*(3-n%2*2)},0);return 10*Math.ceil(i/10)-i},w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),i.search(/^[0-9]{13}$/)!==-1&&(i+=f(i)),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),h(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===f(this.data)}}]),o}(p.default);T.default=w},4477:function(ae,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.START_BIN="1010",T.END_BIN="11101",T.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},5984:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.ITF14=T.ITF=void 0;var b=p(C(3074)),h=p(C(6972));function p(f){return f&&f.__esModule?f:{default:f}}T.ITF=b.default,T.ITF14=h.default},2582:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b,h=function(){function w(m,o){for(var i=0;i<o.length;i++){var e=o[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(m,e.key,e)}}return function(m,o,i){return o&&w(m.prototype,o),i&&w(m,i),m}}(),p=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o,i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),h(m,[{key:"encode",value:function(){for(var i="110",e=0;e<this.data.length;e++){var r=parseInt(this.data[e]).toString(2);r=f(r,4-r.length);for(var n=0;n<r.length;n++)i+=r[n]=="0"?"100":"110"}return{data:i+="1001",text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),m}(((b=C(8012))&&b.__esModule?b:{default:b}).default);function f(w,m){for(var o=0;o<m;o++)w="0"+w;return w}T.default=p},7839:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b,h=(b=C(2582))&&b.__esModule?b:{default:b},p=C(4348),f=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o+(0,p.mod10)(o),i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),m}(h.default);T.default=f},8035:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b,h=(b=C(2582))&&b.__esModule?b:{default:b},p=C(4348),f=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),o+=(0,p.mod10)(o),o+=(0,p.mod10)(o),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o,i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),m}(h.default);T.default=f},5883:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b,h=(b=C(2582))&&b.__esModule?b:{default:b},p=C(4348),f=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o+(0,p.mod11)(o),i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),m}(h.default);T.default=f},6287:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b,h=(b=C(2582))&&b.__esModule?b:{default:b},p=C(4348),f=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),o+=(0,p.mod11)(o),o+=(0,p.mod10)(o),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o,i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),m}(h.default);T.default=f},4348:function(ae,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.mod10=function(C){for(var b=0,h=0;h<C.length;h++){var p=parseInt(C[h]);(h+C.length)%2==0?b+=p:b+=2*p%10+Math.floor(2*p/10)}return(10-b%10)%10},T.mod11=function(C){for(var b=0,h=[2,3,4,5,6,7],p=0;p<C.length;p++){var f=parseInt(C[C.length-1-p]);b+=h[p%h.length]*f}return(11-b%11)%11}},8458:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.MSI1110=T.MSI1010=T.MSI11=T.MSI10=T.MSI=void 0;var b=m(C(2582)),h=m(C(7839)),p=m(C(5883)),f=m(C(8035)),w=m(C(6287));function m(o){return o&&o.__esModule?o:{default:o}}T.MSI=b.default,T.MSI10=h.default,T.MSI11=p.default,T.MSI1010=f.default,T.MSI1110=w.default},123:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.codabar=void 0;var b,h=function(){function f(w,m){for(var o=0;o<m.length;o++){var i=m[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(w,i.key,i)}}return function(w,m,o){return m&&f(w.prototype,m),o&&f(w,o),w}}(),p=function(f){function w(m,o){(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,w),m.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(m="A"+m+"A");var i=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,m.toUpperCase(),o));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return function(m,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);m.prototype=Object.create(o&&o.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(m,o):m.__proto__=o)}(w,f),h(w,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var o=[],i=this.getEncodings(),e=0;e<this.data.length;e++)o.push(i[this.data.charAt(e)]),e!==this.data.length-1&&o.push("0");return{text:this.text,data:o.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),w}(((b=C(8012))&&b.__esModule?b:{default:b}).default);T.codabar=p},2289:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b=C(3361),h=C(4935),p=C(5321),f=C(5984),w=C(8458),m=C(3840),o=C(123),i=C(6447);T.default={CODE39:b.CODE39,CODE128:h.CODE128,CODE128A:h.CODE128A,CODE128B:h.CODE128B,CODE128C:h.CODE128C,EAN13:p.EAN13,EAN8:p.EAN8,EAN5:p.EAN5,EAN2:p.EAN2,UPC:p.UPC,UPCE:p.UPCE,ITF14:f.ITF14,ITF:f.ITF,MSI:w.MSI,MSI10:w.MSI10,MSI11:w.MSI11,MSI1010:w.MSI1010,MSI1110:w.MSI1110,pharmacode:m.pharmacode,codabar:o.codabar,GenericBarcode:i.GenericBarcode}},3840:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.pharmacode=void 0;var b,h=function(){function f(w,m){for(var o=0;o<m.length;o++){var i=m[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(w,i.key,i)}}return function(w,m,o){return m&&f(w.prototype,m),o&&f(w,o),w}}(),p=function(f){function w(m,o){(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,w);var i=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,m,o));return i.number=parseInt(m,10),i}return function(m,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);m.prototype=Object.create(o&&o.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(m,o):m.__proto__=o)}(w,f),h(w,[{key:"encode",value:function(){for(var o=this.number,i="";!isNaN(o)&&o!=0;)o%2==0?(i="11100"+i,o=(o-2)/2):(i="100"+i,o=(o-1)/2);return{data:i=i.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),w}(((b=C(8012))&&b.__esModule?b:{default:b}).default);T.pharmacode=p},8532:function(ae,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var C=function(){function h(p,f){for(var w=0;w<f.length;w++){var m=f[w];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,f,w){return f&&h(p.prototype,f),w&&h(p,w),p}}(),b=function(){function h(p){(function(f,w){if(!(f instanceof w))throw new TypeError("Cannot call a class as a function")})(this,h),this.api=p}return C(h,[{key:"handleCatch",value:function(f){if(f.name!=="InvalidInputException")throw f;if(this.api._options.valid===this.api._defaults.valid)throw f.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(f){try{var w=f.apply(void 0,arguments);return this.api._options.valid(!0),w}catch(m){return this.handleCatch(m),this.api}}}]),h}();T.default=b},2362:function(ae,T){"use strict";function C(m,o){if(!(m instanceof o))throw new TypeError("Cannot call a class as a function")}function b(m,o){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?m:o}function h(m,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);m.prototype=Object.create(o&&o.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(m,o):m.__proto__=o)}Object.defineProperty(T,"__esModule",{value:!0});var p=function(m){function o(i,e){C(this,o);var r=b(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return r.name="InvalidInputException",r.symbology=i,r.input=e,r.message='"'+r.input+'" is not a valid input for '+r.symbology,r}return h(o,Error),o}(),f=function(m){function o(){C(this,o);var i=b(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return i.name="InvalidElementException",i.message="Not supported type to render on",i}return h(o,Error),o}(),w=function(m){function o(){C(this,o);var i=b(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return i.name="NoElementException",i.message="No element to render on.",i}return h(o,Error),o}();T.InvalidInputException=p,T.InvalidElementException=f,T.NoElementException=w},7044:function(ae,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function(C){return C.marginTop=C.marginTop||C.margin,C.marginBottom=C.marginBottom||C.margin,C.marginRight=C.marginRight||C.margin,C.marginLeft=C.marginLeft||C.margin,C}},3898:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b=p(C(5065)),h=p(C(6025));function p(f){return f&&f.__esModule?f:{default:f}}T.default=function(f){var w={};for(var m in h.default)h.default.hasOwnProperty(m)&&(f.hasAttribute("jsbarcode-"+m.toLowerCase())&&(w[m]=f.getAttribute("jsbarcode-"+m.toLowerCase())),f.hasAttribute("data-"+m.toLowerCase())&&(w[m]=f.getAttribute("data-"+m.toLowerCase())));return w.value=f.getAttribute("jsbarcode-value")||f.getAttribute("data-value"),(0,b.default)(w)}},9972:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},h=w(C(3898)),p=w(C(2804)),f=C(2362);function w(m){return m&&m.__esModule?m:{default:m}}T.default=function m(o){if(typeof o=="string")return function(t){var u=document.querySelectorAll(t);if(u.length!==0){for(var d=[],_=0;_<u.length;_++)d.push(m(u[_]));return d}}(o);if(Array.isArray(o)){for(var i=[],e=0;e<o.length;e++)i.push(m(o[e]));return i}if(typeof HTMLCanvasElement!="undefined"&&o instanceof HTMLImageElement)return r=o,{element:n=document.createElement("canvas"),options:(0,h.default)(r),renderer:p.default.CanvasRenderer,afterRender:function(){r.setAttribute("src",n.toDataURL())}};if(o&&o.nodeName&&o.nodeName.toLowerCase()==="svg"||typeof SVGElement!="undefined"&&o instanceof SVGElement)return{element:o,options:(0,h.default)(o),renderer:p.default.SVGRenderer};if(typeof HTMLCanvasElement!="undefined"&&o instanceof HTMLCanvasElement)return{element:o,options:(0,h.default)(o),renderer:p.default.CanvasRenderer};if(o&&o.getContext)return{element:o,renderer:p.default.CanvasRenderer};if(o&&(o===void 0?"undefined":b(o))==="object"&&!o.nodeName)return{element:o,renderer:p.default.ObjectRenderer};throw new f.InvalidElementException;var r,n}},5443:function(ae,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function(C){var b=[];return function h(p){if(Array.isArray(p))for(var f=0;f<p.length;f++)h(p[f]);else p.text=p.text||"",p.data=p.data||"",b.push(p)}(C),b}},2276:function(ae,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var C=Object.assign||function(b){for(var h=1;h<arguments.length;h++){var p=arguments[h];for(var f in p)Object.prototype.hasOwnProperty.call(p,f)&&(b[f]=p[f])}return b};T.default=function(b,h){return C({},b,h)}},5065:function(ae,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default=function(C){var b=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var h in b)b.hasOwnProperty(h)&&typeof C[h=b[h]]=="string"&&(C[h]=parseInt(C[h],10));return typeof C.displayValue=="string"&&(C.displayValue=C.displayValue!="false"),C}},6025:function(ae,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},8204:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b,h=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=(b=C(2276))&&b.__esModule?b:{default:b},f=C(7899),w=function(){function m(o,i,e){(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,m),this.canvas=o,this.encodings=i,this.options=e}return h(m,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var i=0;i<this.encodings.length;i++){var e=(0,p.default)(this.options,this.encodings[i].options);this.drawCanvasBarcode(e,this.encodings[i]),this.drawCanvasText(e,this.encodings[i]),this.moveCanvasDrawing(this.encodings[i])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var i=this.canvas.getContext("2d");i.save(),(0,f.calculateEncodingAttributes)(this.encodings,this.options,i);var e=(0,f.getTotalWidthOfEncodings)(this.encodings),r=(0,f.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=e+this.options.marginLeft+this.options.marginRight,this.canvas.height=r,i.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(i.fillStyle=this.options.background,i.fillRect(0,0,this.canvas.width,this.canvas.height)),i.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(i,e){var r,n=this.canvas.getContext("2d"),t=e.data;r=i.textPosition=="top"?i.marginTop+i.fontSize+i.textMargin:i.marginTop,n.fillStyle=i.lineColor;for(var u=0;u<t.length;u++){var d=u*i.width+e.barcodePadding;t[u]==="1"?n.fillRect(d,r,i.width,i.height):t[u]&&n.fillRect(d,r,i.width,i.height*t[u])}}},{key:"drawCanvasText",value:function(i,e){var r,n,t=this.canvas.getContext("2d"),u=i.fontOptions+" "+i.fontSize+"px "+i.font;i.displayValue&&(n=i.textPosition=="top"?i.marginTop+i.fontSize-i.textMargin:i.height+i.textMargin+i.marginTop+i.fontSize,t.font=u,i.textAlign=="left"||e.barcodePadding>0?(r=0,t.textAlign="left"):i.textAlign=="right"?(r=e.width-1,t.textAlign="right"):(r=e.width/2,t.textAlign="center"),t.fillText(e.text,r,n))}},{key:"moveCanvasDrawing",value:function(i){this.canvas.getContext("2d").translate(i.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),m}();T.default=w},2804:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b=f(C(8204)),h=f(C(6917)),p=f(C(8652));function f(w){return w&&w.__esModule?w:{default:w}}T.default={CanvasRenderer:b.default,SVGRenderer:h.default,ObjectRenderer:p.default}},8652:function(ae,T){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var C=function(){function h(p,f){for(var w=0;w<f.length;w++){var m=f[w];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,f,w){return f&&h(p.prototype,f),w&&h(p,w),p}}(),b=function(){function h(p,f,w){(function(m,o){if(!(m instanceof o))throw new TypeError("Cannot call a class as a function")})(this,h),this.object=p,this.encodings=f,this.options=w}return C(h,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),h}();T.default=b},7899:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0}),T.getTotalWidthOfEncodings=T.calculateEncodingAttributes=T.getBarcodePadding=T.getEncodingHeight=T.getMaximumHeightOfEncodings=void 0;var b,h=(b=C(2276))&&b.__esModule?b:{default:b};function p(m,o){return o.height+(o.displayValue&&m.text.length>0?o.fontSize+o.textMargin:0)+o.marginTop+o.marginBottom}function f(m,o,i){if(i.displayValue&&o<m){if(i.textAlign=="center")return Math.floor((m-o)/2);if(i.textAlign=="left")return 0;if(i.textAlign=="right")return Math.floor(m-o)}return 0}function w(m,o,i){var e;if(i)e=i;else{if(typeof document=="undefined")return 0;e=document.createElement("canvas").getContext("2d")}e.font=o.fontOptions+" "+o.fontSize+"px "+o.font;var r=e.measureText(m);return r?r.width:0}T.getMaximumHeightOfEncodings=function(m){for(var o=0,i=0;i<m.length;i++)m[i].height>o&&(o=m[i].height);return o},T.getEncodingHeight=p,T.getBarcodePadding=f,T.calculateEncodingAttributes=function(m,o,i){for(var e=0;e<m.length;e++){var r,n=m[e],t=(0,h.default)(o,n.options);r=t.displayValue?w(n.text,t,i):0;var u=n.data.length*t.width;n.width=Math.ceil(Math.max(r,u)),n.height=p(n,t),n.barcodePadding=f(r,u,t)}},T.getTotalWidthOfEncodings=function(m){for(var o=0,i=0;i<m.length;i++)o+=m[i].width;return o}},6917:function(ae,T,C){"use strict";Object.defineProperty(T,"__esModule",{value:!0});var b,h=function(){function o(i,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,e,r){return e&&o(i.prototype,e),r&&o(i,r),i}}(),p=(b=C(2276))&&b.__esModule?b:{default:b},f=C(7899),w="http://www.w3.org/2000/svg",m=function(){function o(i,e,r){(function(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")})(this,o),this.svg=i,this.encodings=e,this.options=r,this.document=r.xmlDocument||document}return h(o,[{key:"render",value:function(){var e=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var n=this.encodings[r],t=(0,p.default)(this.options,n.options),u=this.createGroup(e,t.marginTop,this.svg);this.setGroupOptions(u,t),this.drawSvgBarcode(u,t,n),this.drawSVGText(u,t,n),e+=n.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,f.calculateEncodingAttributes)(this.encodings,this.options);var e=(0,f.getTotalWidthOfEncodings)(this.encodings),r=(0,f.getMaximumHeightOfEncodings)(this.encodings),n=e+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(n,r),this.options.background&&this.drawRect(0,0,n,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(e,r,n){var t,u=n.data;t=r.textPosition=="top"?r.fontSize+r.textMargin:0;for(var d=0,_=0,E=0;E<u.length;E++)_=E*r.width+n.barcodePadding,u[E]==="1"?d++:d>0&&(this.drawRect(_-r.width*d,t,r.width*d,r.height,e),d=0);d>0&&this.drawRect(_-r.width*(d-1),t,r.width*d,r.height,e)}},{key:"drawSVGText",value:function(e,r,n){var t,u,d=this.document.createElementNS(w,"text");r.displayValue&&(d.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),u=r.textPosition=="top"?r.fontSize-r.textMargin:r.height+r.textMargin+r.fontSize,r.textAlign=="left"||n.barcodePadding>0?(t=0,d.setAttribute("text-anchor","start")):r.textAlign=="right"?(t=n.width-1,d.setAttribute("text-anchor","end")):(t=n.width/2,d.setAttribute("text-anchor","middle")),d.setAttribute("x",t),d.setAttribute("y",u),d.appendChild(this.document.createTextNode(n.text)),e.appendChild(d))}},{key:"setSvgAttributes",value:function(e,r){var n=this.svg;n.setAttribute("width",e+"px"),n.setAttribute("height",r+"px"),n.setAttribute("x","0px"),n.setAttribute("y","0px"),n.setAttribute("viewBox","0 0 "+e+" "+r),n.setAttribute("xmlns",w),n.setAttribute("version","1.1"),n.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(e,r,n){var t=this.document.createElementNS(w,"g");return t.setAttribute("transform","translate("+e+", "+r+")"),n.appendChild(t),t}},{key:"setGroupOptions",value:function(e,r){e.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(e,r,n,t,u){var d=this.document.createElementNS(w,"rect");return d.setAttribute("x",e),d.setAttribute("y",r),d.setAttribute("width",n),d.setAttribute("height",t),u.appendChild(d),d}}]),o}();T.default=m},4244:function(ae){"use strict";var T=function(b){return b!=b};ae.exports=function(C,b){return C===0&&b===0?1/C==1/b:C===b||!(!T(C)||!T(b))}},609:function(ae,T,C){"use strict";var b=C(4289),h=C(5559),p=C(4244),f=C(5624),w=C(2281),m=h(f(),Object);b(m,{getPolyfill:f,implementation:p,shim:w}),ae.exports=m},5624:function(ae,T,C){"use strict";var b=C(4244);ae.exports=function(){return typeof Object.is=="function"?Object.is:b}},2281:function(ae,T,C){"use strict";var b=C(5624),h=C(4289);ae.exports=function(){var p=b();return h(Object,{is:p},{is:function(){return Object.is!==p}}),p}},8987:function(ae,T,C){"use strict";var b;if(!Object.keys){var h=Object.prototype.hasOwnProperty,p=Object.prototype.toString,f=C(1414),w=Object.prototype.propertyIsEnumerable,m=!w.call({toString:null},"toString"),o=w.call(function(){},"prototype"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=function(u){var d=u.constructor;return d&&d.prototype===u},r={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window=="undefined")return!1;for(var t in window)try{if(!r["$"+t]&&h.call(window,t)&&window[t]!==null&&typeof window[t]=="object")try{e(window[t])}catch(u){return!0}}catch(u){return!0}return!1}();b=function(u){var d=u!==null&&typeof u=="object",_=p.call(u)==="[object Function]",E=f(u),A=d&&p.call(u)==="[object String]",S=[];if(!d&&!_&&!E)throw new TypeError("Object.keys called on a non-object");var L=o&&_;if(A&&u.length>0&&!h.call(u,0))for(var P=0;P<u.length;++P)S.push(String(P));if(E&&u.length>0)for(var M=0;M<u.length;++M)S.push(String(M));else for(var q in u)L&&q==="prototype"||!h.call(u,q)||S.push(String(q));if(m)for(var F=function(B){if(typeof window=="undefined"||!n)return e(B);try{return e(B)}catch(X){return!1}}(u),Z=0;Z<i.length;++Z)F&&i[Z]==="constructor"||!h.call(u,i[Z])||S.push(i[Z]);return S}}ae.exports=b},2215:function(ae,T,C){"use strict";var b=Array.prototype.slice,h=C(1414),p=Object.keys,f=p?function(m){return p(m)}:C(8987),w=Object.keys;f.shim=function(){if(Object.keys){var m=function(){var o=Object.keys(arguments);return o&&o.length===arguments.length}(1,2);m||(Object.keys=function(o){return h(o)?w(b.call(o)):w(o)})}else Object.keys=f;return Object.keys||f},ae.exports=f},1414:function(ae){"use strict";var T=Object.prototype.toString;ae.exports=function(C){var b=T.call(C),h=b==="[object Arguments]";return h||(h=b!=="[object Array]"&&C!==null&&typeof C=="object"&&typeof C.length=="number"&&C.length>=0&&T.call(C.callee)==="[object Function]"),h}},2592:function(ae,T,C){var b=C(7138),h=C(5115),p=C(6907),f=C(3776);function w(m,o,i,e,r){var n=[].slice.call(arguments,1),t=n.length,u=typeof n[t-1]=="function";if(!u&&!b())throw new Error("Callback required as last argument");if(!u){if(t<1)throw new Error("Too few arguments provided");return t===1?(i=o,o=e=void 0):t!==2||o.getContext||(e=i,i=o,o=void 0),new Promise(function(_,E){try{var A=h.create(i,e);_(m(A,o,e))}catch(S){E(S)}})}if(t<2)throw new Error("Too few arguments provided");t===2?(r=i,i=o,o=e=void 0):t===3&&(o.getContext&&r===void 0?(r=e,e=void 0):(r=e,e=i,i=o,o=void 0));try{var d=h.create(i,e);r(null,m(d,o,e))}catch(_){r(_)}}T.create=h.create,T.toCanvas=w.bind(null,p.render),T.toDataURL=w.bind(null,p.renderToDataURL),T.toString=w.bind(null,function(m,o,i){return f.render(m,i)})},7138:function(ae){ae.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}},1845:function(ae,T,C){var b=C(242).getSymbolSize;T.getRowColCoords=function(h){if(h===1)return[];for(var p=Math.floor(h/7)+2,f=b(h),w=f===145?26:2*Math.ceil((f-13)/(2*p-2)),m=[f-7],o=1;o<p-1;o++)m[o]=m[o-1]-w;return m.push(6),m.reverse()},T.getPositions=function(h){for(var p=[],f=T.getRowColCoords(h),w=f.length,m=0;m<w;m++)for(var o=0;o<w;o++)m===0&&o===0||m===0&&o===w-1||m===w-1&&o===0||p.push([f[m],f[o]]);return p}},8260:function(ae,T,C){var b=C(6910),h=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function p(f){this.mode=b.ALPHANUMERIC,this.data=f}p.getBitsLength=function(f){return 11*Math.floor(f/2)+f%2*6},p.prototype.getLength=function(){return this.data.length},p.prototype.getBitsLength=function(){return p.getBitsLength(this.data.length)},p.prototype.write=function(f){var w;for(w=0;w+2<=this.data.length;w+=2){var m=45*h.indexOf(this.data[w]);m+=h.indexOf(this.data[w+1]),f.put(m,11)}this.data.length%2&&f.put(h.indexOf(this.data[w]),6)},ae.exports=p},7245:function(ae){function T(){this.buffer=[],this.length=0}T.prototype={get:function(b){var h=Math.floor(b/8);return(this.buffer[h]>>>7-b%8&1)==1},put:function(b,h){for(var p=0;p<h;p++)this.putBit((b>>>h-p-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(b){var h=Math.floor(this.length/8);this.buffer.length<=h&&this.buffer.push(0),b&&(this.buffer[h]|=128>>>this.length%8),this.length++}},ae.exports=T},3280:function(ae){function T(C){if(!C||C<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=C,this.data=new Uint8Array(C*C),this.reservedBit=new Uint8Array(C*C)}T.prototype.set=function(C,b,h,p){var f=C*this.size+b;this.data[f]=h,p&&(this.reservedBit[f]=!0)},T.prototype.get=function(C,b){return this.data[C*this.size+b]},T.prototype.xor=function(C,b,h){this.data[C*this.size+b]^=h},T.prototype.isReserved=function(C,b){return this.reservedBit[C*this.size+b]},ae.exports=T},3424:function(ae,T,C){var b=C(2378),h=C(6910);function p(f){this.mode=h.BYTE,this.data=new Uint8Array(b(f))}p.getBitsLength=function(f){return 8*f},p.prototype.getLength=function(){return this.data.length},p.prototype.getBitsLength=function(){return p.getBitsLength(this.data.length)},p.prototype.write=function(f){for(var w=0,m=this.data.length;w<m;w++)f.put(this.data[w],8)},ae.exports=p},5393:function(ae,T,C){var b=C(4908),h=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],p=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];T.getBlocksCount=function(f,w){switch(w){case b.L:return h[4*(f-1)+0];case b.M:return h[4*(f-1)+1];case b.Q:return h[4*(f-1)+2];case b.H:return h[4*(f-1)+3];default:return}},T.getTotalCodewordsCount=function(f,w){switch(w){case b.L:return p[4*(f-1)+0];case b.M:return p[4*(f-1)+1];case b.Q:return p[4*(f-1)+2];case b.H:return p[4*(f-1)+3];default:return}}},4908:function(ae,T){T.L={bit:1},T.M={bit:0},T.Q={bit:3},T.H={bit:2},T.isValid=function(C){return C&&C.bit!==void 0&&C.bit>=0&&C.bit<4},T.from=function(C,b){if(T.isValid(C))return C;try{return function(h){if(typeof h!="string")throw new Error("Param is not a string");switch(h.toLowerCase()){case"l":case"low":return T.L;case"m":case"medium":return T.M;case"q":case"quartile":return T.Q;case"h":case"high":return T.H;default:throw new Error("Unknown EC Level: "+h)}}(C)}catch(h){return b}}},6526:function(ae,T,C){var b=C(242).getSymbolSize;T.getPositions=function(h){var p=b(h);return[[0,0],[p-7,0],[0,p-7]]}},1642:function(ae,T,C){var b=C(242),h=b.getBCHDigit(1335);T.getEncodedBits=function(p,f){for(var w=p.bit<<3|f,m=w<<10;b.getBCHDigit(m)-h>=0;)m^=1335<<b.getBCHDigit(m)-h;return 21522^(w<<10|m)}},9729:function(ae,T){var C=new Uint8Array(512),b=new Uint8Array(256);(function(){for(var h=1,p=0;p<255;p++)C[p]=h,b[h]=p,h<<=1,256&h&&(h^=285);for(var f=255;f<512;f++)C[f]=C[f-255]})(),T.log=function(h){if(h<1)throw new Error("log("+h+")");return b[h]},T.exp=function(h){return C[h]},T.mul=function(h,p){return h===0||p===0?0:C[b[h]+b[p]]}},5442:function(ae,T,C){var b=C(6910),h=C(242);function p(f){this.mode=b.KANJI,this.data=f}p.getBitsLength=function(f){return 13*f},p.prototype.getLength=function(){return this.data.length},p.prototype.getBitsLength=function(){return p.getBitsLength(this.data.length)},p.prototype.write=function(f){var w;for(w=0;w<this.data.length;w++){var m=h.toSJIS(this.data[w]);if(m>=33088&&m<=40956)m-=33088;else{if(!(m>=57408&&m<=60351))throw new Error("Invalid SJIS character: "+this.data[w]+`
Make sure your charset is UTF-8`);m-=49472}m=192*(m>>>8&255)+(255&m),f.put(m,13)}},ae.exports=p},7126:function(ae,T){T.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function C(b,h,p){switch(b){case T.Patterns.PATTERN000:return(h+p)%2==0;case T.Patterns.PATTERN001:return h%2==0;case T.Patterns.PATTERN010:return p%3==0;case T.Patterns.PATTERN011:return(h+p)%3==0;case T.Patterns.PATTERN100:return(Math.floor(h/2)+Math.floor(p/3))%2==0;case T.Patterns.PATTERN101:return h*p%2+h*p%3==0;case T.Patterns.PATTERN110:return(h*p%2+h*p%3)%2==0;case T.Patterns.PATTERN111:return(h*p%3+(h+p)%2)%2==0;default:throw new Error("bad maskPattern:"+b)}}T.isValid=function(b){return b!=null&&b!==""&&!isNaN(b)&&b>=0&&b<=7},T.from=function(b){return T.isValid(b)?parseInt(b,10):void 0},T.getPenaltyN1=function(b){for(var h=b.size,p=0,f=0,w=0,m=null,o=null,i=0;i<h;i++){f=w=0,m=o=null;for(var e=0;e<h;e++){var r=b.get(i,e);r===m?f++:(f>=5&&(p+=f-5+3),m=r,f=1),r=b.get(e,i),r===o?w++:(w>=5&&(p+=w-5+3),o=r,w=1)}f>=5&&(p+=f-5+3),w>=5&&(p+=w-5+3)}return p},T.getPenaltyN2=function(b){for(var h=b.size,p=0,f=0;f<h-1;f++)for(var w=0;w<h-1;w++){var m=b.get(f,w)+b.get(f,w+1)+b.get(f+1,w)+b.get(f+1,w+1);m!==4&&m!==0||p++}return 3*p},T.getPenaltyN3=function(b){for(var h=b.size,p=0,f=0,w=0,m=0;m<h;m++){f=w=0;for(var o=0;o<h;o++)f=f<<1&2047|b.get(m,o),o>=10&&(f===1488||f===93)&&p++,w=w<<1&2047|b.get(o,m),o>=10&&(w===1488||w===93)&&p++}return 40*p},T.getPenaltyN4=function(b){for(var h=0,p=b.data.length,f=0;f<p;f++)h+=b.data[f];return 10*Math.abs(Math.ceil(100*h/p/5)-10)},T.applyMask=function(b,h){for(var p=h.size,f=0;f<p;f++)for(var w=0;w<p;w++)h.isReserved(w,f)||h.xor(w,f,C(b,w,f))},T.getBestMask=function(b,h){for(var p=Object.keys(T.Patterns).length,f=0,w=1/0,m=0;m<p;m++){h(m),T.applyMask(m,b);var o=T.getPenaltyN1(b)+T.getPenaltyN2(b)+T.getPenaltyN3(b)+T.getPenaltyN4(b);T.applyMask(m,b),o<w&&(w=o,f=m)}return f}},6910:function(ae,T,C){var b=C(3114),h=C(7007);T.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},T.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},T.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},T.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},T.MIXED={bit:-1},T.getCharCountIndicator=function(p,f){if(!p.ccBits)throw new Error("Invalid mode: "+p);if(!b.isValid(f))throw new Error("Invalid version: "+f);return f>=1&&f<10?p.ccBits[0]:f<27?p.ccBits[1]:p.ccBits[2]},T.getBestModeForData=function(p){return h.testNumeric(p)?T.NUMERIC:h.testAlphanumeric(p)?T.ALPHANUMERIC:h.testKanji(p)?T.KANJI:T.BYTE},T.toString=function(p){if(p&&p.id)return p.id;throw new Error("Invalid mode")},T.isValid=function(p){return p&&p.bit&&p.ccBits},T.from=function(p,f){if(T.isValid(p))return p;try{return function(w){if(typeof w!="string")throw new Error("Param is not a string");switch(w.toLowerCase()){case"numeric":return T.NUMERIC;case"alphanumeric":return T.ALPHANUMERIC;case"kanji":return T.KANJI;case"byte":return T.BYTE;default:throw new Error("Unknown mode: "+w)}}(p)}catch(w){return f}}},1085:function(ae,T,C){var b=C(6910);function h(p){this.mode=b.NUMERIC,this.data=p.toString()}h.getBitsLength=function(p){return 10*Math.floor(p/3)+(p%3?p%3*3+1:0)},h.prototype.getLength=function(){return this.data.length},h.prototype.getBitsLength=function(){return h.getBitsLength(this.data.length)},h.prototype.write=function(p){var f,w,m;for(f=0;f+3<=this.data.length;f+=3)w=this.data.substr(f,3),m=parseInt(w,10),p.put(m,10);var o=this.data.length-f;o>0&&(w=this.data.substr(f),m=parseInt(w,10),p.put(m,3*o+1))},ae.exports=h},6143:function(ae,T,C){var b=C(9729);T.mul=function(h,p){for(var f=new Uint8Array(h.length+p.length-1),w=0;w<h.length;w++)for(var m=0;m<p.length;m++)f[w+m]^=b.mul(h[w],p[m]);return f},T.mod=function(h,p){for(var f=new Uint8Array(h);f.length-p.length>=0;){for(var w=f[0],m=0;m<p.length;m++)f[m]^=b.mul(p[m],w);for(var o=0;o<f.length&&f[o]===0;)o++;f=f.slice(o)}return f},T.generateECPolynomial=function(h){for(var p=new Uint8Array([1]),f=0;f<h;f++)p=T.mul(p,new Uint8Array([1,b.exp(f)]));return p}},5115:function(ae,T,C){var b=C(242),h=C(4908),p=C(7245),f=C(3280),w=C(1845),m=C(6526),o=C(7126),i=C(5393),e=C(2882),r=C(3103),n=C(1642),t=C(6910),u=C(6130);function d(E,A,S){var L=E.size,P=n.getEncodedBits(A,S),M,q;for(M=0;M<15;M++)q=(P>>M&1)==1,M<6?E.set(M,8,q,!0):M<8?E.set(M+1,8,q,!0):E.set(L-15+M,8,q,!0),M<8?E.set(8,L-M-1,q,!0):M<9?E.set(8,15-M-1+1,q,!0):E.set(8,15-M-1,q,!0);E.set(L-8,8,1,!0)}function _(E,A,S,L){var P;if(Array.isArray(E))P=u.fromArray(E);else{if(typeof E!="string")throw new Error("Invalid data");{var M=A;if(!M){var q=u.rawSplit(E);M=r.getBestVersionForData(q,S)}P=u.fromString(E,M||40)}}var F=r.getBestVersionForData(P,S);if(!F)throw new Error("The amount of data is too big to be stored in a QR Code");if(A){if(A<F)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+F+`.
`)}else A=F;var Z=function(te,W,Y){var z=new p;Y.forEach(function(Q){z.put(Q.mode.bit,4),z.put(Q.getLength(),t.getCharCountIndicator(Q.mode,te)),Q.write(z)});var G=8*(b.getSymbolTotalCodewords(te)-i.getTotalCodewordsCount(te,W));for(z.getLengthInBits()+4<=G&&z.put(0,4);z.getLengthInBits()%8!=0;)z.putBit(0);for(var H=(G-z.getLengthInBits())/8,D=0;D<H;D++)z.put(D%2?17:236,8);return function(Q,ce,ne){for(var me=b.getSymbolTotalCodewords(ce),de=me-i.getTotalCodewordsCount(ce,ne),ie=i.getBlocksCount(ce,ne),re=ie-me%ie,ge=Math.floor(me/ie),we=Math.floor(de/ie),Ce=we+1,je=ge-we,V=new e(je),ye=0,K=new Array(ie),k=new Array(ie),I=0,N=new Uint8Array(Q.buffer),oe=0;oe<ie;oe++){var le=oe<re?we:Ce;K[oe]=N.slice(ye,ye+le),k[oe]=V.encode(K[oe]),ye+=le,I=Math.max(I,le)}var $=new Uint8Array(me),xe,Le,Se=0;for(xe=0;xe<I;xe++)for(Le=0;Le<ie;Le++)xe<K[Le].length&&($[Se++]=K[Le][xe]);for(xe=0;xe<je;xe++)for(Le=0;Le<ie;Le++)$[Se++]=k[Le][xe];return $}(z,te,W)}(A,S,P),B=b.getSymbolSize(A),X=new f(B);return function(te,W){for(var Y=te.size,z=m.getPositions(W),G=0;G<z.length;G++)for(var H=z[G][0],D=z[G][1],Q=-1;Q<=7;Q++)if(!(H+Q<=-1||Y<=H+Q))for(var ce=-1;ce<=7;ce++)D+ce<=-1||Y<=D+ce||(Q>=0&&Q<=6&&(ce===0||ce===6)||ce>=0&&ce<=6&&(Q===0||Q===6)||Q>=2&&Q<=4&&ce>=2&&ce<=4?te.set(H+Q,D+ce,!0,!0):te.set(H+Q,D+ce,!1,!0))}(X,A),function(te){for(var W=te.size,Y=8;Y<W-8;Y++){var z=Y%2==0;te.set(Y,6,z,!0),te.set(6,Y,z,!0)}}(X),function(te,W){for(var Y=w.getPositions(W),z=0;z<Y.length;z++)for(var G=Y[z][0],H=Y[z][1],D=-2;D<=2;D++)for(var Q=-2;Q<=2;Q++)D===-2||D===2||Q===-2||Q===2||D===0&&Q===0?te.set(G+D,H+Q,!0,!0):te.set(G+D,H+Q,!1,!0)}(X,A),d(X,S,0),A>=7&&function(te,W){for(var Y=te.size,z=r.getEncodedBits(W),G,H,D,Q=0;Q<18;Q++)G=Math.floor(Q/3),H=Q%3+Y-8-3,D=(z>>Q&1)==1,te.set(G,H,D,!0),te.set(H,G,D,!0)}(X,A),function(te,W){for(var Y=te.size,z=-1,G=Y-1,H=7,D=0,Q=Y-1;Q>0;Q-=2)for(Q===6&&Q--;;){for(var ce=0;ce<2;ce++)if(!te.isReserved(G,Q-ce)){var ne=!1;D<W.length&&(ne=(W[D]>>>H&1)==1),te.set(G,Q-ce,ne),H--,H===-1&&(D++,H=7)}if(G+=z,G<0||Y<=G){G-=z,z=-z;break}}}(X,Z),isNaN(L)&&(L=o.getBestMask(X,d.bind(null,X,S))),o.applyMask(L,X),d(X,S,L),{modules:X,version:A,errorCorrectionLevel:S,maskPattern:L,segments:P}}T.create=function(E,A){if(E===void 0||E==="")throw new Error("No input text");var S,L,P=h.M;return A!==void 0&&(P=h.from(A.errorCorrectionLevel,h.M),S=r.from(A.version),L=o.from(A.maskPattern),A.toSJISFunc&&b.setToSJISFunction(A.toSJISFunc)),_(E,S,P,L)}},2882:function(ae,T,C){var b=C(6143);function h(p){this.genPoly=void 0,this.degree=p,this.degree&&this.initialize(this.degree)}h.prototype.initialize=function(p){this.degree=p,this.genPoly=b.generateECPolynomial(this.degree)},h.prototype.encode=function(p){if(!this.genPoly)throw new Error("Encoder not initialized");var f=new Uint8Array(p.length+this.degree);f.set(p);var w=b.mod(f,this.genPoly),m=this.degree-w.length;if(m>0){var o=new Uint8Array(this.degree);return o.set(w,m),o}return w},ae.exports=h},7007:function(ae,T){var C="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";C=C.replace(/u/g,"\\u");var b="(?:(?![A-Z0-9 $%*+\\-./:]|"+C+`)(?:.|[\r
]))+`;T.KANJI=new RegExp(C,"g"),T.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),T.BYTE=new RegExp(b,"g"),T.NUMERIC=new RegExp("[0-9]+","g"),T.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var h=new RegExp("^"+C+"$"),p=new RegExp("^[0-9]+$"),f=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");T.testKanji=function(w){return h.test(w)},T.testNumeric=function(w){return p.test(w)},T.testAlphanumeric=function(w){return f.test(w)}},6130:function(ae,T,C){var b=C(6910),h=C(1085),p=C(8260),f=C(3424),w=C(5442),m=C(7007),o=C(242),i=C(5987);function e(d){return unescape(encodeURIComponent(d)).length}function r(d,_,E){for(var A=[],S;(S=d.exec(E))!==null;)A.push({data:S[0],index:S.index,mode:_,length:S[0].length});return A}function n(d){var _=r(m.NUMERIC,b.NUMERIC,d),E=r(m.ALPHANUMERIC,b.ALPHANUMERIC,d),A,S;return o.isKanjiModeEnabled()?(A=r(m.BYTE,b.BYTE,d),S=r(m.KANJI,b.KANJI,d)):(A=r(m.BYTE_KANJI,b.BYTE,d),S=[]),_.concat(E,A,S).sort(function(L,P){return L.index-P.index}).map(function(L){return{data:L.data,mode:L.mode,length:L.length}})}function t(d,_){switch(_){case b.NUMERIC:return h.getBitsLength(d);case b.ALPHANUMERIC:return p.getBitsLength(d);case b.KANJI:return w.getBitsLength(d);case b.BYTE:return f.getBitsLength(d)}}function u(d,_){var E,A=b.getBestModeForData(d);if(E=b.from(_,A),E!==b.BYTE&&E.bit<A.bit)throw new Error('"'+d+'" cannot be encoded with mode '+b.toString(E)+`.
 Suggested mode is: `+b.toString(A));switch(E!==b.KANJI||o.isKanjiModeEnabled()||(E=b.BYTE),E){case b.NUMERIC:return new h(d);case b.ALPHANUMERIC:return new p(d);case b.KANJI:return new w(d);case b.BYTE:return new f(d)}}T.fromArray=function(d){return d.reduce(function(_,E){return typeof E=="string"?_.push(u(E,null)):E.data&&_.push(u(E.data,E.mode)),_},[])},T.fromString=function(d,_){for(var E=function(M){for(var q=[],F=0;F<M.length;F++){var Z=M[F];switch(Z.mode){case b.NUMERIC:q.push([Z,{data:Z.data,mode:b.ALPHANUMERIC,length:Z.length},{data:Z.data,mode:b.BYTE,length:Z.length}]);break;case b.ALPHANUMERIC:q.push([Z,{data:Z.data,mode:b.BYTE,length:Z.length}]);break;case b.KANJI:q.push([Z,{data:Z.data,mode:b.BYTE,length:e(Z.data)}]);break;case b.BYTE:q.push([{data:Z.data,mode:b.BYTE,length:e(Z.data)}])}}return q}(n(d,o.isKanjiModeEnabled())),A=function(M,q){for(var F={},Z={start:{}},B=["start"],X=0;X<M.length;X++){for(var te=M[X],W=[],Y=0;Y<te.length;Y++){var z=te[Y],G=""+X+Y;W.push(G),F[G]={node:z,lastCount:0},Z[G]={};for(var H=0;H<B.length;H++){var D=B[H];F[D]&&F[D].node.mode===z.mode?(Z[D][G]=t(F[D].lastCount+z.length,z.mode)-t(F[D].lastCount,z.mode),F[D].lastCount+=z.length):(F[D]&&(F[D].lastCount=z.length),Z[D][G]=t(z.length,z.mode)+4+b.getCharCountIndicator(z.mode,q))}}B=W}for(var Q=0;Q<B.length;Q++)Z[B[Q]].end=0;return{map:Z,table:F}}(E,_),S=i.find_path(A.map,"start","end"),L=[],P=1;P<S.length-1;P++)L.push(A.table[S[P]].node);return T.fromArray(L.reduce(function(M,q){var F=M.length-1>=0?M[M.length-1]:null;return F&&F.mode===q.mode?(M[M.length-1].data+=q.data,M):(M.push(q),M)},[]))},T.rawSplit=function(d){return T.fromArray(n(d,o.isKanjiModeEnabled()))}},242:function(ae,T){var C,b=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];T.getSymbolSize=function(h){if(!h)throw new Error('"version" cannot be null or undefined');if(h<1||h>40)throw new Error('"version" should be in range from 1 to 40');return 4*h+17},T.getSymbolTotalCodewords=function(h){return b[h]},T.getBCHDigit=function(h){for(var p=0;h!==0;)p++,h>>>=1;return p},T.setToSJISFunction=function(h){if(typeof h!="function")throw new Error('"toSJISFunc" is not a valid function.');C=h},T.isKanjiModeEnabled=function(){return C!==void 0},T.toSJIS=function(h){return C(h)}},3114:function(ae,T){T.isValid=function(C){return!isNaN(C)&&C>=1&&C<=40}},3103:function(ae,T,C){var b=C(242),h=C(5393),p=C(4908),f=C(6910),w=C(3114),m=b.getBCHDigit(7973);function o(e,r){return f.getCharCountIndicator(e,r)+4}function i(e,r){var n=0;return e.forEach(function(t){var u=o(t.mode,r);n+=u+t.getBitsLength()}),n}T.from=function(e,r){return w.isValid(e)?parseInt(e,10):r},T.getCapacity=function(e,r,n){if(!w.isValid(e))throw new Error("Invalid QR Code version");n===void 0&&(n=f.BYTE);var t=8*(b.getSymbolTotalCodewords(e)-h.getTotalCodewordsCount(e,r));if(n===f.MIXED)return t;var u=t-o(n,e);switch(n){case f.NUMERIC:return Math.floor(u/10*3);case f.ALPHANUMERIC:return Math.floor(u/11*2);case f.KANJI:return Math.floor(u/13);case f.BYTE:default:return Math.floor(u/8)}},T.getBestVersionForData=function(e,r){var n,t=p.from(r,p.M);if(Array.isArray(e)){if(e.length>1)return function(u,d){for(var _=1;_<=40;_++)if(i(u,_)<=T.getCapacity(_,d,f.MIXED))return _}(e,t);if(e.length===0)return 1;n=e[0]}else n=e;return function(u,d,_){for(var E=1;E<=40;E++)if(d<=T.getCapacity(E,_,u))return E}(n.mode,n.getLength(),t)},T.getEncodedBits=function(e){if(!w.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var r=e<<12;b.getBCHDigit(r)-m>=0;)r^=7973<<b.getBCHDigit(r)-m;return e<<12|r}},6907:function(ae,T,C){var b=C(9653);T.render=function(h,p,f){var w=f,m=p;w!==void 0||p&&p.getContext||(w=p,p=void 0),p||(m=function(){try{return document.createElement("canvas")}catch(r){throw new Error("You need to specify a canvas element")}}()),w=b.getOptions(w);var o=b.getImageWidth(h.modules.size,w),i=m.getContext("2d"),e=i.createImageData(o,o);return b.qrToImageData(e.data,h,w),function(r,n,t){r.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=t,n.width=t,n.style.height=t+"px",n.style.width=t+"px"}(i,m,o),i.putImageData(e,0,0),m},T.renderToDataURL=function(h,p,f){var w=f;w!==void 0||p&&p.getContext||(w=p,p=void 0),w||(w={});var m=T.render(h,p,w),o=w.type||"image/png",i=w.rendererOpts||{};return m.toDataURL(o,i.quality)}},3776:function(ae,T,C){var b=C(9653);function h(f,w){var m=f.a/255,o=w+'="'+f.hex+'"';return m<1?o+" "+w+'-opacity="'+m.toFixed(2).slice(1)+'"':o}function p(f,w,m){var o=f+w;return m!==void 0&&(o+=" "+m),o}T.render=function(f,w,m){var o=b.getOptions(w),i=f.modules.size,e=f.modules.data,r=i+2*o.margin,n=o.color.light.a?"<path "+h(o.color.light,"fill")+' d="M0 0h'+r+"v"+r+'H0z"/>':"",t="<path "+h(o.color.dark,"stroke")+' d="'+function(_,E,A){for(var S="",L=0,P=!1,M=0,q=0;q<_.length;q++){var F=Math.floor(q%E),Z=Math.floor(q/E);F||P||(P=!0),_[q]?(M++,q>0&&F>0&&_[q-1]||(S+=P?p("M",F+A,.5+Z+A):p("m",L,0),L=0,P=!1),F+1<E&&_[q+1]||(S+=p("h",M),M=0)):L++}return S}(e,i,o.margin)+'"/>',u='viewBox="0 0 '+r+" "+r+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+u+' shape-rendering="crispEdges">'+n+t+`</svg>
`;return typeof m=="function"&&m(null,d),d}},9653:function(ae,T){function C(b){if(typeof b=="number"&&(b=b.toString()),typeof b!="string")throw new Error("Color should be defined as hex string");var h=b.slice().replace("#","").split("");if(h.length<3||h.length===5||h.length>8)throw new Error("Invalid hex color: "+b);h.length!==3&&h.length!==4||(h=Array.prototype.concat.apply([],h.map(function(f){return[f,f]}))),h.length===6&&h.push("F","F");var p=parseInt(h.join(""),16);return{r:p>>24&255,g:p>>16&255,b:p>>8&255,a:255&p,hex:"#"+h.slice(0,6).join("")}}T.getOptions=function(b){b||(b={}),b.color||(b.color={});var h=b.margin===void 0||b.margin===null||b.margin<0?4:b.margin,p=b.width&&b.width>=21?b.width:void 0,f=b.scale||4;return{width:p,scale:p?4:f,margin:h,color:{dark:C(b.color.dark||"#000000ff"),light:C(b.color.light||"#ffffffff")},type:b.type,rendererOpts:b.rendererOpts||{}}},T.getScale=function(b,h){return h.width&&h.width>=b+2*h.margin?h.width/(b+2*h.margin):h.scale},T.getImageWidth=function(b,h){var p=T.getScale(b,h);return Math.floor((b+2*h.margin)*p)},T.qrToImageData=function(b,h,p){for(var f=h.modules.size,w=h.modules.data,m=T.getScale(f,p),o=Math.floor((f+2*p.margin)*m),i=p.margin*m,e=[p.color.light,p.color.dark],r=0;r<o;r++)for(var n=0;n<o;n++){var t=4*(r*o+n),u=p.color.light;r>=i&&n>=i&&r<o-i&&n<o-i&&(u=e[w[Math.floor((r-i)/m)*f+Math.floor((n-i)/m)]?1:0]),b[t++]=u.r,b[t++]=u.g,b[t++]=u.b,b[t]=u.a}}},4175:function(ae,T,C){var b=C(7529),h=C(251),p=C(4470),f=C(4644),w=String.fromCharCode(0),m=function(i){Array.isArray(i)?this.ops=i:i!=null&&Array.isArray(i.ops)?this.ops=i.ops:this.ops=[]};m.prototype.insert=function(o,i){var e={};return o.length===0?this:(e.insert=o,i!=null&&typeof i=="object"&&Object.keys(i).length>0&&(e.attributes=i),this.push(e))},m.prototype.delete=function(o){return o<=0?this:this.push({delete:o})},m.prototype.retain=function(o,i){if(o<=0)return this;var e={retain:o};return i!=null&&typeof i=="object"&&Object.keys(i).length>0&&(e.attributes=i),this.push(e)},m.prototype.push=function(o){var i=this.ops.length,e=this.ops[i-1];if(o=p(!0,{},o),typeof e=="object"){if(typeof o.delete=="number"&&typeof e.delete=="number")return this.ops[i-1]={delete:e.delete+o.delete},this;if(typeof e.delete=="number"&&o.insert!=null&&(i-=1,typeof(e=this.ops[i-1])!="object"))return this.ops.unshift(o),this;if(h(o.attributes,e.attributes)){if(typeof o.insert=="string"&&typeof e.insert=="string")return this.ops[i-1]={insert:e.insert+o.insert},typeof o.attributes=="object"&&(this.ops[i-1].attributes=o.attributes),this;if(typeof o.retain=="number"&&typeof e.retain=="number")return this.ops[i-1]={retain:e.retain+o.retain},typeof o.attributes=="object"&&(this.ops[i-1].attributes=o.attributes),this}}return i===this.ops.length?this.ops.push(o):this.ops.splice(i,0,o),this},m.prototype.chop=function(){var o=this.ops[this.ops.length-1];return o&&o.retain&&!o.attributes&&this.ops.pop(),this},m.prototype.filter=function(o){return this.ops.filter(o)},m.prototype.forEach=function(o){this.ops.forEach(o)},m.prototype.map=function(o){return this.ops.map(o)},m.prototype.partition=function(o){var i=[],e=[];return this.forEach(function(r){(o(r)?i:e).push(r)}),[i,e]},m.prototype.reduce=function(o,i){return this.ops.reduce(o,i)},m.prototype.changeLength=function(){return this.reduce(function(o,i){return i.insert?o+f.length(i):i.delete?o-i.delete:o},0)},m.prototype.length=function(){return this.reduce(function(o,i){return o+f.length(i)},0)},m.prototype.slice=function(o,i){o=o||0,typeof i!="number"&&(i=1/0);for(var e=[],r=f.iterator(this.ops),n=0;n<i&&r.hasNext();){var t;n<o?t=r.next(o-n):(t=r.next(i-n),e.push(t)),n+=f.length(t)}return new m(e)},m.prototype.compose=function(o){var i=f.iterator(this.ops),e=f.iterator(o.ops),r=[],n=e.peek();if(n!=null&&typeof n.retain=="number"&&n.attributes==null){for(var t=n.retain;i.peekType()==="insert"&&i.peekLength()<=t;)t-=i.peekLength(),r.push(i.next());n.retain-t>0&&e.next(n.retain-t)}for(var u=new m(r);i.hasNext()||e.hasNext();)if(e.peekType()==="insert")u.push(e.next());else if(i.peekType()==="delete")u.push(i.next());else{var d=Math.min(i.peekLength(),e.peekLength()),_=i.next(d),E=e.next(d);if(typeof E.retain=="number"){var A={};typeof _.retain=="number"?A.retain=d:A.insert=_.insert;var S=f.attributes.compose(_.attributes,E.attributes,typeof _.retain=="number");if(S&&(A.attributes=S),u.push(A),!e.hasNext()&&h(u.ops[u.ops.length-1],A)){var L=new m(i.rest());return u.concat(L).chop()}}else typeof E.delete=="number"&&typeof _.retain=="number"&&u.push(E)}return u.chop()},m.prototype.concat=function(o){var i=new m(this.ops.slice());return o.ops.length>0&&(i.push(o.ops[0]),i.ops=i.ops.concat(o.ops.slice(1))),i},m.prototype.diff=function(o,i){if(this.ops===o.ops)return new m;var e=[this,o].map(function(d){return d.map(function(_){if(_.insert!=null)return typeof _.insert=="string"?_.insert:w;throw new Error("diff() called "+(d===o?"on":"with")+" non-document")}).join("")}),r=new m,n=b(e[0],e[1],i),t=f.iterator(this.ops),u=f.iterator(o.ops);return n.forEach(function(d){for(var _=d[1].length;_>0;){var E=0;switch(d[0]){case b.INSERT:E=Math.min(u.peekLength(),_),r.push(u.next(E));break;case b.DELETE:E=Math.min(_,t.peekLength()),t.next(E),r.delete(E);break;case b.EQUAL:E=Math.min(t.peekLength(),u.peekLength(),_);var A=t.next(E),S=u.next(E);h(A.insert,S.insert)?r.retain(E,f.attributes.diff(A.attributes,S.attributes)):r.push(S).delete(E)}_-=E}}),r.chop()},m.prototype.eachLine=function(o,i){i=i||`
`;for(var e=f.iterator(this.ops),r=new m,n=0;e.hasNext();){if(e.peekType()!=="insert")return;var t=e.peek(),u=f.length(t)-e.peekLength(),d=typeof t.insert=="string"?t.insert.indexOf(i,u)-u:-1;if(d<0)r.push(e.next());else if(d>0)r.push(e.next(d));else{if(o(r,e.next(1).attributes||{},n)===!1)return;n+=1,r=new m}}r.length()>0&&o(r,{},n)},m.prototype.transform=function(o,i){if(i=!!i,typeof o=="number")return this.transformPosition(o,i);for(var e=f.iterator(this.ops),r=f.iterator(o.ops),n=new m;e.hasNext()||r.hasNext();)if(e.peekType()!=="insert"||!i&&r.peekType()==="insert")if(r.peekType()==="insert")n.push(r.next());else{var t=Math.min(e.peekLength(),r.peekLength()),u=e.next(t),d=r.next(t);if(u.delete)continue;d.delete?n.push(d):n.retain(t,f.attributes.transform(u.attributes,d.attributes,i))}else n.retain(f.length(e.next()));return n.chop()},m.prototype.transformPosition=function(o,i){i=!!i;for(var e=f.iterator(this.ops),r=0;e.hasNext()&&r<=o;){var n=e.peekLength(),t=e.peekType();e.next(),t!=="delete"?(t==="insert"&&(r<o||!i)&&(o+=n),r+=n):o-=Math.min(n,o-r)}return o},ae.exports=m},4644:function(ae,T,C){var b=C(251),h=C(4470),p={attributes:{compose:function(m,o,i){typeof m!="object"&&(m={}),typeof o!="object"&&(o={});var e=h(!0,{},o);for(var r in i||(e=Object.keys(e).reduce(function(n,t){return e[t]!=null&&(n[t]=e[t]),n},{})),m)m[r]!==void 0&&o[r]===void 0&&(e[r]=m[r]);return Object.keys(e).length>0?e:void 0},diff:function(m,o){typeof m!="object"&&(m={}),typeof o!="object"&&(o={});var i=Object.keys(m).concat(Object.keys(o)).reduce(function(e,r){return b(m[r],o[r])||(e[r]=o[r]===void 0?null:o[r]),e},{});return Object.keys(i).length>0?i:void 0},transform:function(m,o,i){if(typeof m!="object")return o;if(typeof o=="object"){if(!i)return o;var e=Object.keys(o).reduce(function(r,n){return m[n]===void 0&&(r[n]=o[n]),r},{});return Object.keys(e).length>0?e:void 0}}},iterator:function(m){return new f(m)},length:function(m){return typeof m.delete=="number"?m.delete:typeof m.retain=="number"?m.retain:typeof m.insert=="string"?m.insert.length:1}};function f(w){this.ops=w,this.index=0,this.offset=0}f.prototype.hasNext=function(){return this.peekLength()<1/0},f.prototype.next=function(w){w||(w=1/0);var m=this.ops[this.index];if(m){var o=this.offset,i=p.length(m);if(w>=i-o?(w=i-o,this.index+=1,this.offset=0):this.offset+=w,typeof m.delete=="number")return{delete:w};var e={};return m.attributes&&(e.attributes=m.attributes),typeof m.retain=="number"?e.retain=w:typeof m.insert=="string"?e.insert=m.insert.substr(o,w):e.insert=m.insert,e}return{retain:1/0}},f.prototype.peek=function(){return this.ops[this.index]},f.prototype.peekLength=function(){return this.ops[this.index]?p.length(this.ops[this.index])-this.offset:1/0},f.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},f.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var w=this.offset,m=this.index,o=this.next(),i=this.ops.slice(this.index);return this.offset=w,this.index=m,[o].concat(i)}return[]},ae.exports=p},6095:function(ae){var T;T=function(){return function(b){var h={};function p(f){if(h[f])return h[f].exports;var w=h[f]={i:f,l:!1,exports:{}};return b[f].call(w.exports,w,w.exports,p),w.l=!0,w.exports}return p.m=b,p.c=h,p.d=function(f,w,m){p.o(f,w)||Object.defineProperty(f,w,{configurable:!1,enumerable:!0,get:m})},p.n=function(f){var w=f&&f.__esModule?function(){return f.default}:function(){return f};return p.d(w,"a",w),w},p.o=function(f,w){return Object.prototype.hasOwnProperty.call(f,w)},p.p="",p(p.s=109)}([function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=p(17),w=p(18),m=p(19),o=p(45),i=p(46),e=p(47),r=p(48),n=p(49),t=p(12),u=p(32),d=p(33),_=p(31),E=p(1),A={Scope:E.Scope,create:E.create,find:E.find,query:E.query,register:E.register,Container:f.default,Format:w.default,Leaf:m.default,Embed:r.default,Scroll:o.default,Block:e.default,Inline:i.default,Text:n.default,Attributor:{Attribute:t.default,Class:u.default,Style:d.default,Store:_.default}};h.default=A},function(b,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(u,d){u.__proto__=d}||function(u,d){for(var _ in d)d.hasOwnProperty(_)&&(u[_]=d[_])},function(u,d){function _(){this.constructor=u}f(u,d),u.prototype=d===null?Object.create(d):(_.prototype=d.prototype,new _)});Object.defineProperty(h,"__esModule",{value:!0});var m=function(u){function d(_){var E=this;return _="[Parchment] "+_,(E=u.call(this,_)||this).message=_,E.name=E.constructor.name,E}return w(d,u),d}(Error);h.ParchmentError=m;var o,i={},e={},r={},n={};function t(u,d){var _;if(d===void 0&&(d=o.ANY),typeof u=="string")_=n[u]||i[u];else if(u instanceof Text||u.nodeType===Node.TEXT_NODE)_=n.text;else if(typeof u=="number")u&o.LEVEL&o.BLOCK?_=n.block:u&o.LEVEL&o.INLINE&&(_=n.inline);else if(u instanceof HTMLElement){var E=(u.getAttribute("class")||"").split(/\s+/);for(var A in E)if(_=e[E[A]])break;_=_||r[u.tagName]}return _==null?null:d&o.LEVEL&_.scope&&d&o.TYPE&_.scope?_:null}h.DATA_KEY="__blot",function(u){u[u.TYPE=3]="TYPE",u[u.LEVEL=12]="LEVEL",u[u.ATTRIBUTE=13]="ATTRIBUTE",u[u.BLOT=14]="BLOT",u[u.INLINE=7]="INLINE",u[u.BLOCK=11]="BLOCK",u[u.BLOCK_BLOT=10]="BLOCK_BLOT",u[u.INLINE_BLOT=6]="INLINE_BLOT",u[u.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",u[u.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",u[u.ANY=15]="ANY"}(o=h.Scope||(h.Scope={})),h.create=function(u,d){var _=t(u);if(_==null)throw new m("Unable to create "+u+" blot");var E=_,A=u instanceof Node||u.nodeType===Node.TEXT_NODE?u:E.create(d);return new E(A,d)},h.find=function u(d,_){return _===void 0&&(_=!1),d==null?null:d[h.DATA_KEY]!=null?d[h.DATA_KEY].blot:_?u(d.parentNode,_):null},h.query=t,h.register=function u(){for(var d=[],_=0;_<arguments.length;_++)d[_]=arguments[_];if(d.length>1)return d.map(function(S){return u(S)});var E=d[0];if(typeof E.blotName!="string"&&typeof E.attrName!="string")throw new m("Invalid definition");if(E.blotName==="abstract")throw new m("Cannot register abstract class");if(n[E.blotName||E.attrName]=E,typeof E.keyName=="string")i[E.keyName]=E;else if(E.className!=null&&(e[E.className]=E),E.tagName!=null){Array.isArray(E.tagName)?E.tagName=E.tagName.map(function(S){return S.toUpperCase()}):E.tagName=E.tagName.toUpperCase();var A=Array.isArray(E.tagName)?E.tagName:[E.tagName];A.forEach(function(S){r[S]!=null&&E.className!=null||(r[S]=E)})}return E}},function(b,h,p){var f=p(51),w=p(11),m=p(3),o=p(20),i=String.fromCharCode(0),e=function(n){Array.isArray(n)?this.ops=n:n!=null&&Array.isArray(n.ops)?this.ops=n.ops:this.ops=[]};e.prototype.insert=function(r,n){var t={};return r.length===0?this:(t.insert=r,n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(t.attributes=n),this.push(t))},e.prototype.delete=function(r){return r<=0?this:this.push({delete:r})},e.prototype.retain=function(r,n){if(r<=0)return this;var t={retain:r};return n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(t.attributes=n),this.push(t)},e.prototype.push=function(r){var n=this.ops.length,t=this.ops[n-1];if(r=m(!0,{},r),typeof t=="object"){if(typeof r.delete=="number"&&typeof t.delete=="number")return this.ops[n-1]={delete:t.delete+r.delete},this;if(typeof t.delete=="number"&&r.insert!=null&&(n-=1,typeof(t=this.ops[n-1])!="object"))return this.ops.unshift(r),this;if(w(r.attributes,t.attributes)){if(typeof r.insert=="string"&&typeof t.insert=="string")return this.ops[n-1]={insert:t.insert+r.insert},typeof r.attributes=="object"&&(this.ops[n-1].attributes=r.attributes),this;if(typeof r.retain=="number"&&typeof t.retain=="number")return this.ops[n-1]={retain:t.retain+r.retain},typeof r.attributes=="object"&&(this.ops[n-1].attributes=r.attributes),this}}return n===this.ops.length?this.ops.push(r):this.ops.splice(n,0,r),this},e.prototype.chop=function(){var r=this.ops[this.ops.length-1];return r&&r.retain&&!r.attributes&&this.ops.pop(),this},e.prototype.filter=function(r){return this.ops.filter(r)},e.prototype.forEach=function(r){this.ops.forEach(r)},e.prototype.map=function(r){return this.ops.map(r)},e.prototype.partition=function(r){var n=[],t=[];return this.forEach(function(u){(r(u)?n:t).push(u)}),[n,t]},e.prototype.reduce=function(r,n){return this.ops.reduce(r,n)},e.prototype.changeLength=function(){return this.reduce(function(r,n){return n.insert?r+o.length(n):n.delete?r-n.delete:r},0)},e.prototype.length=function(){return this.reduce(function(r,n){return r+o.length(n)},0)},e.prototype.slice=function(r,n){r=r||0,typeof n!="number"&&(n=1/0);for(var t=[],u=o.iterator(this.ops),d=0;d<n&&u.hasNext();){var _;d<r?_=u.next(r-d):(_=u.next(n-d),t.push(_)),d+=o.length(_)}return new e(t)},e.prototype.compose=function(r){var n=o.iterator(this.ops),t=o.iterator(r.ops),u=[],d=t.peek();if(d!=null&&typeof d.retain=="number"&&d.attributes==null){for(var _=d.retain;n.peekType()==="insert"&&n.peekLength()<=_;)_-=n.peekLength(),u.push(n.next());d.retain-_>0&&t.next(d.retain-_)}for(var E=new e(u);n.hasNext()||t.hasNext();)if(t.peekType()==="insert")E.push(t.next());else if(n.peekType()==="delete")E.push(n.next());else{var A=Math.min(n.peekLength(),t.peekLength()),S=n.next(A),L=t.next(A);if(typeof L.retain=="number"){var P={};typeof S.retain=="number"?P.retain=A:P.insert=S.insert;var M=o.attributes.compose(S.attributes,L.attributes,typeof S.retain=="number");if(M&&(P.attributes=M),E.push(P),!t.hasNext()&&w(E.ops[E.ops.length-1],P)){var q=new e(n.rest());return E.concat(q).chop()}}else typeof L.delete=="number"&&typeof S.retain=="number"&&E.push(L)}return E.chop()},e.prototype.concat=function(r){var n=new e(this.ops.slice());return r.ops.length>0&&(n.push(r.ops[0]),n.ops=n.ops.concat(r.ops.slice(1))),n},e.prototype.diff=function(r,n){if(this.ops===r.ops)return new e;var t=[this,r].map(function(A){return A.map(function(S){if(S.insert!=null)return typeof S.insert=="string"?S.insert:i;throw new Error("diff() called "+(A===r?"on":"with")+" non-document")}).join("")}),u=new e,d=f(t[0],t[1],n),_=o.iterator(this.ops),E=o.iterator(r.ops);return d.forEach(function(A){for(var S=A[1].length;S>0;){var L=0;switch(A[0]){case f.INSERT:L=Math.min(E.peekLength(),S),u.push(E.next(L));break;case f.DELETE:L=Math.min(S,_.peekLength()),_.next(L),u.delete(L);break;case f.EQUAL:L=Math.min(_.peekLength(),E.peekLength(),S);var P=_.next(L),M=E.next(L);w(P.insert,M.insert)?u.retain(L,o.attributes.diff(P.attributes,M.attributes)):u.push(M).delete(L)}S-=L}}),u.chop()},e.prototype.eachLine=function(r,n){n=n||`
`;for(var t=o.iterator(this.ops),u=new e,d=0;t.hasNext();){if(t.peekType()!=="insert")return;var _=t.peek(),E=o.length(_)-t.peekLength(),A=typeof _.insert=="string"?_.insert.indexOf(n,E)-E:-1;if(A<0)u.push(t.next());else if(A>0)u.push(t.next(A));else{if(r(u,t.next(1).attributes||{},d)===!1)return;d+=1,u=new e}}u.length()>0&&r(u,{},d)},e.prototype.transform=function(r,n){if(n=!!n,typeof r=="number")return this.transformPosition(r,n);for(var t=o.iterator(this.ops),u=o.iterator(r.ops),d=new e;t.hasNext()||u.hasNext();)if(t.peekType()!=="insert"||!n&&u.peekType()==="insert")if(u.peekType()==="insert")d.push(u.next());else{var _=Math.min(t.peekLength(),u.peekLength()),E=t.next(_),A=u.next(_);if(E.delete)continue;A.delete?d.push(A):d.retain(_,o.attributes.transform(E.attributes,A.attributes,n))}else d.retain(o.length(t.next()));return d.chop()},e.prototype.transformPosition=function(r,n){n=!!n;for(var t=o.iterator(this.ops),u=0;t.hasNext()&&u<=r;){var d=t.peekLength(),_=t.peekType();t.next(),_!=="delete"?(_==="insert"&&(u<r||!n)&&(r+=d),u+=d):r-=Math.min(d,r-u)}return r},b.exports=e},function(b,h){"use strict";var p=Object.prototype.hasOwnProperty,f=Object.prototype.toString,w=Object.defineProperty,m=Object.getOwnPropertyDescriptor,o=function(t){return typeof Array.isArray=="function"?Array.isArray(t):f.call(t)==="[object Array]"},i=function(t){if(!t||f.call(t)!=="[object Object]")return!1;var u,d=p.call(t,"constructor"),_=t.constructor&&t.constructor.prototype&&p.call(t.constructor.prototype,"isPrototypeOf");if(t.constructor&&!d&&!_)return!1;for(u in t);return u===void 0||p.call(t,u)},e=function(t,u){w&&u.name==="__proto__"?w(t,u.name,{enumerable:!0,configurable:!0,value:u.newValue,writable:!0}):t[u.name]=u.newValue},r=function(t,u){if(u==="__proto__"){if(!p.call(t,u))return;if(m)return m(t,u).value}return t[u]};b.exports=function n(){var t,u,d,_,E,A,S=arguments[0],L=1,P=arguments.length,M=!1;for(typeof S=="boolean"&&(M=S,S=arguments[1]||{},L=2),(S==null||typeof S!="object"&&typeof S!="function")&&(S={});L<P;++L)if((t=arguments[L])!=null)for(u in t)d=r(S,u),S!==(_=r(t,u))&&(M&&_&&(i(_)||(E=o(_)))?(E?(E=!1,A=d&&o(d)?d:[]):A=d&&i(d)?d:{},e(S,{name:u,newValue:n(M,A,_)})):_!==void 0&&e(S,{name:u,newValue:_}));return S}},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.BlockEmbed=h.bubbleFormats=void 0;var f=function(){function L(P,M){for(var q=0;q<M.length;q++){var F=M[q];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,M,q){return M&&L(P.prototype,M),q&&L(P,q),P}}(),w=function L(P,M,q){P===null&&(P=Function.prototype);var F=Object.getOwnPropertyDescriptor(P,M);if(F===void 0){var Z=Object.getPrototypeOf(P);return Z===null?void 0:L(Z,M,q)}if("value"in F)return F.value;var B=F.get;return B!==void 0?B.call(q):void 0},m=t(p(3)),o=t(p(2)),i=t(p(0)),e=t(p(16)),r=t(p(6)),n=t(p(7));function t(L){return L&&L.__esModule?L:{default:L}}function u(L,P){if(!(L instanceof P))throw new TypeError("Cannot call a class as a function")}function d(L,P){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?L:P}function _(L,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);L.prototype=Object.create(P&&P.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(L,P):L.__proto__=P)}var E=function(L){function P(){return u(this,P),d(this,(P.__proto__||Object.getPrototypeOf(P)).apply(this,arguments))}return _(P,L),f(P,[{key:"attach",value:function(){w(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"attach",this).call(this),this.attributes=new i.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new o.default().insert(this.value(),(0,m.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(q,F){var Z=i.default.query(q,i.default.Scope.BLOCK_ATTRIBUTE);Z!=null&&this.attributes.attribute(Z,F)}},{key:"formatAt",value:function(q,F,Z,B){this.format(Z,B)}},{key:"insertAt",value:function(q,F,Z){if(typeof F=="string"&&F.endsWith(`
`)){var B=i.default.create(A.blotName);this.parent.insertBefore(B,q===0?this:this.next),B.insertAt(0,F.slice(0,-1))}else w(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,q,F,Z)}}]),P}(i.default.Embed);E.scope=i.default.Scope.BLOCK_BLOT;var A=function(L){function P(M){u(this,P);var q=d(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,M));return q.cache={},q}return _(P,L),f(P,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(i.default.Leaf).reduce(function(q,F){return F.length()===0?q:q.insert(F.value(),S(F))},new o.default).insert(`
`,S(this))),this.cache.delta}},{key:"deleteAt",value:function(q,F){w(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,q,F),this.cache={}}},{key:"formatAt",value:function(q,F,Z,B){F<=0||(i.default.query(Z,i.default.Scope.BLOCK)?q+F===this.length()&&this.format(Z,B):w(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,q,Math.min(F,this.length()-q-1),Z,B),this.cache={})}},{key:"insertAt",value:function(q,F,Z){if(Z!=null)return w(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,q,F,Z);if(F.length!==0){var B=F.split(`
`),X=B.shift();X.length>0&&(q<this.length()-1||this.children.tail==null?w(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,Math.min(q,this.length()-1),X):this.children.tail.insertAt(this.children.tail.length(),X),this.cache={});var te=this;B.reduce(function(W,Y){return(te=te.split(W,!0)).insertAt(0,Y),Y.length},q+X.length)}}},{key:"insertBefore",value:function(q,F){var Z=this.children.head;w(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,q,F),Z instanceof e.default&&Z.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=w(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(q,F){w(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"moveChildren",this).call(this,q,F),this.cache={}}},{key:"optimize",value:function(q){w(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,q),this.cache={}}},{key:"path",value:function(q){return w(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,q,!0)}},{key:"removeChild",value:function(q){w(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"removeChild",this).call(this,q),this.cache={}}},{key:"split",value:function(q){var F=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(F&&(q===0||q>=this.length()-1)){var Z=this.clone();return q===0?(this.parent.insertBefore(Z,this),this):(this.parent.insertBefore(Z,this.next),Z)}var B=w(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"split",this).call(this,q,F);return this.cache={},B}}]),P}(i.default.Block);function S(L){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return L==null?P:(typeof L.formats=="function"&&(P=(0,m.default)(P,L.formats())),L.parent==null||L.parent.blotName=="scroll"||L.parent.statics.scope!==L.statics.scope?P:S(L.parent,P))}A.blotName="block",A.tagName="P",A.defaultChild="break",A.allowedChildren=[r.default,i.default.Embed,n.default],h.bubbleFormats=S,h.BlockEmbed=E,h.default=A},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.overload=h.expandConfig=void 0;var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},w=function(te,W){if(Array.isArray(te))return te;if(Symbol.iterator in Object(te))return function(Y,z){var G=[],H=!0,D=!1,Q=void 0;try{for(var ce,ne=Y[Symbol.iterator]();!(H=(ce=ne.next()).done)&&(G.push(ce.value),!z||G.length!==z);H=!0);}catch(me){D=!0,Q=me}finally{try{!H&&ne.return&&ne.return()}finally{if(D)throw Q}}return G}(te,W);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=function(){function X(te,W){for(var Y=0;Y<W.length;Y++){var z=W[Y];z.enumerable=z.enumerable||!1,z.configurable=!0,"value"in z&&(z.writable=!0),Object.defineProperty(te,z.key,z)}}return function(te,W,Y){return W&&X(te.prototype,W),Y&&X(te,Y),te}}();p(50);var o=A(p(2)),i=A(p(14)),e=A(p(8)),r=A(p(9)),n=A(p(0)),t=p(15),u=A(t),d=A(p(3)),_=A(p(10)),E=A(p(34));function A(X){return X&&X.__esModule?X:{default:X}}function S(X,te,W){return te in X?Object.defineProperty(X,te,{value:W,enumerable:!0,configurable:!0,writable:!0}):X[te]=W,X}function L(X,te){if(!(X instanceof te))throw new TypeError("Cannot call a class as a function")}var P=(0,_.default)("quill"),M=function(){function X(te){var W=this,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(L(this,X),this.options=q(te,Y),this.container=this.options.container,this.container==null)return P.error("Invalid Quill container",te);this.options.debug&&X.debug(this.options.debug);var z=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new e.default,this.scroll=n.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new i.default(this.scroll),this.selection=new u.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(e.default.events.EDITOR_CHANGE,function(H){H===e.default.events.TEXT_CHANGE&&W.root.classList.toggle("ql-blank",W.editor.isBlank())}),this.emitter.on(e.default.events.SCROLL_UPDATE,function(H,D){var Q=W.selection.lastRange,ce=Q&&Q.length===0?Q.index:void 0;F.call(W,function(){return W.editor.update(null,D,ce)},H)});var G=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+z+"<p><br></p></div>");this.setContents(G),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return m(X,null,[{key:"debug",value:function(W){W===!0&&(W="log"),_.default.level(W)}},{key:"find",value:function(W){return W.__quill||n.default.find(W)}},{key:"import",value:function(W){return this.imports[W]==null&&P.error("Cannot import "+W+". Are you sure it was registered?"),this.imports[W]}},{key:"register",value:function(W,Y){var z=this,G=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(typeof W!="string"){var H=W.attrName||W.blotName;typeof H=="string"?this.register("formats/"+H,W,Y):Object.keys(W).forEach(function(D){z.register(D,W[D],Y)})}else this.imports[W]==null||G||P.warn("Overwriting "+W+" with",Y),this.imports[W]=Y,(W.startsWith("blots/")||W.startsWith("formats/"))&&Y.blotName!=="abstract"?n.default.register(Y):W.startsWith("modules")&&typeof Y.register=="function"&&Y.register()}}]),m(X,[{key:"addContainer",value:function(W){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof W=="string"){var z=W;(W=document.createElement("div")).classList.add(z)}return this.container.insertBefore(W,Y),W}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(W,Y,z){var G=this,H=Z(W,Y,z),D=w(H,4);return W=D[0],Y=D[1],z=D[3],F.call(this,function(){return G.editor.deleteText(W,Y)},z,W,-1*Y)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var W=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(W),this.container.classList.toggle("ql-disabled",!W)}},{key:"focus",value:function(){var W=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=W,this.scrollIntoView()}},{key:"format",value:function(W,Y){var z=this,G=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.default.sources.API;return F.call(this,function(){var H=z.getSelection(!0),D=new o.default;if(H==null)return D;if(n.default.query(W,n.default.Scope.BLOCK))D=z.editor.formatLine(H.index,H.length,S({},W,Y));else{if(H.length===0)return z.selection.format(W,Y),D;D=z.editor.formatText(H.index,H.length,S({},W,Y))}return z.setSelection(H,e.default.sources.SILENT),D},G)}},{key:"formatLine",value:function(W,Y,z,G,H){var D,Q=this,ce=Z(W,Y,z,G,H),ne=w(ce,4);return W=ne[0],Y=ne[1],D=ne[2],H=ne[3],F.call(this,function(){return Q.editor.formatLine(W,Y,D)},H,W,0)}},{key:"formatText",value:function(W,Y,z,G,H){var D,Q=this,ce=Z(W,Y,z,G,H),ne=w(ce,4);return W=ne[0],Y=ne[1],D=ne[2],H=ne[3],F.call(this,function(){return Q.editor.formatText(W,Y,D)},H,W,0)}},{key:"getBounds",value:function(W){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,z=void 0;z=typeof W=="number"?this.selection.getBounds(W,Y):this.selection.getBounds(W.index,W.length);var G=this.container.getBoundingClientRect();return{bottom:z.bottom-G.top,height:z.height,left:z.left-G.left,right:z.right-G.left,top:z.top-G.top,width:z.width}}},{key:"getContents",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-W,z=Z(W,Y),G=w(z,2);return W=G[0],Y=G[1],this.editor.getContents(W,Y)}},{key:"getFormat",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof W=="number"?this.editor.getFormat(W,Y):this.editor.getFormat(W.index,W.length)}},{key:"getIndex",value:function(W){return W.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(W){return this.scroll.leaf(W)}},{key:"getLine",value:function(W){return this.scroll.line(W)}},{key:"getLines",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof W!="number"?this.scroll.lines(W.index,W.length):this.scroll.lines(W,Y)}},{key:"getModule",value:function(W){return this.theme.modules[W]}},{key:"getSelection",value:function(){var W=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return W&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-W,z=Z(W,Y),G=w(z,2);return W=G[0],Y=G[1],this.editor.getText(W,Y)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(W,Y,z){var G=this,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:X.sources.API;return F.call(this,function(){return G.editor.insertEmbed(W,Y,z)},H,W)}},{key:"insertText",value:function(W,Y,z,G,H){var D,Q=this,ce=Z(W,0,z,G,H),ne=w(ce,4);return W=ne[0],D=ne[2],H=ne[3],F.call(this,function(){return Q.editor.insertText(W,Y,D)},H,W,Y.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(W,Y,z){this.clipboard.dangerouslyPasteHTML(W,Y,z)}},{key:"removeFormat",value:function(W,Y,z){var G=this,H=Z(W,Y,z),D=w(H,4);return W=D[0],Y=D[1],z=D[3],F.call(this,function(){return G.editor.removeFormat(W,Y)},z,W)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(W){var Y=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.default.sources.API;return F.call(this,function(){W=new o.default(W);var G=Y.getLength(),H=Y.editor.deleteText(0,G),D=Y.editor.applyDelta(W),Q=D.ops[D.ops.length-1];return Q!=null&&typeof Q.insert=="string"&&Q.insert[Q.insert.length-1]===`
`&&(Y.editor.deleteText(Y.getLength()-1,1),D.delete(1)),H.compose(D)},z)}},{key:"setSelection",value:function(W,Y,z){if(W==null)this.selection.setRange(null,Y||X.sources.API);else{var G=Z(W,Y,z),H=w(G,4);W=H[0],Y=H[1],z=H[3],this.selection.setRange(new t.Range(W,Y),z),z!==e.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(W){var Y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.default.sources.API,z=new o.default().insert(W);return this.setContents(z,Y)}},{key:"update",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.default.sources.USER,Y=this.scroll.update(W);return this.selection.update(W),Y}},{key:"updateContents",value:function(W){var Y=this,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.default.sources.API;return F.call(this,function(){return W=new o.default(W),Y.editor.applyDelta(W,z)},z,!0)}}]),X}();function q(X,te){if((te=(0,d.default)(!0,{container:X,modules:{clipboard:!0,keyboard:!0,history:!0}},te)).theme&&te.theme!==M.DEFAULTS.theme){if(te.theme=M.import("themes/"+te.theme),te.theme==null)throw new Error("Invalid theme "+te.theme+". Did you register it?")}else te.theme=E.default;var W=(0,d.default)(!0,{},te.theme.DEFAULTS);[W,te].forEach(function(z){z.modules=z.modules||{},Object.keys(z.modules).forEach(function(G){z.modules[G]===!0&&(z.modules[G]={})})});var Y=Object.keys(W.modules).concat(Object.keys(te.modules)).reduce(function(z,G){var H=M.import("modules/"+G);return H==null?P.error("Cannot load "+G+" module. Are you sure you registered it?"):z[G]=H.DEFAULTS||{},z},{});return te.modules!=null&&te.modules.toolbar&&te.modules.toolbar.constructor!==Object&&(te.modules.toolbar={container:te.modules.toolbar}),te=(0,d.default)(!0,{},M.DEFAULTS,{modules:Y},W,te),["bounds","container","scrollingContainer"].forEach(function(z){typeof te[z]=="string"&&(te[z]=document.querySelector(te[z]))}),te.modules=Object.keys(te.modules).reduce(function(z,G){return te.modules[G]&&(z[G]=te.modules[G]),z},{}),te}function F(X,te,W,Y){if(this.options.strict&&!this.isEnabled()&&te===e.default.sources.USER)return new o.default;var z=W==null?null:this.getSelection(),G=this.editor.delta,H=X();if(z!=null&&(W===!0&&(W=z.index),Y==null?z=B(z,H,te):Y!==0&&(z=B(z,W,Y,te)),this.setSelection(z,e.default.sources.SILENT)),H.length()>0){var D,Q,ce=[e.default.events.TEXT_CHANGE,H,G,te];(D=this.emitter).emit.apply(D,[e.default.events.EDITOR_CHANGE].concat(ce)),te!==e.default.sources.SILENT&&(Q=this.emitter).emit.apply(Q,ce)}return H}function Z(X,te,W,Y,z){var G={};return typeof X.index=="number"&&typeof X.length=="number"?typeof te!="number"?(z=Y,Y=W,W=te,te=X.length,X=X.index):(te=X.length,X=X.index):typeof te!="number"&&(z=Y,Y=W,W=te,te=0),(W===void 0?"undefined":f(W))==="object"?(G=W,z=Y):typeof W=="string"&&(Y!=null?G[W]=Y:z=W),[X,te,G,z=z||e.default.sources.API]}function B(X,te,W,Y){if(X==null)return null;var z=void 0,G=void 0;if(te instanceof o.default){var H=[X.index,X.index+X.length].map(function(ne){return te.transformPosition(ne,Y!==e.default.sources.USER)}),D=w(H,2);z=D[0],G=D[1]}else{var Q=[X.index,X.index+X.length].map(function(ne){return ne<te||ne===te&&Y===e.default.sources.USER?ne:W>=0?ne+W:Math.max(te,ne+W)}),ce=w(Q,2);z=ce[0],G=ce[1]}return new t.Range(z,G-z)}M.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},M.events=e.default.events,M.sources=e.default.sources,M.version="1.3.7",M.imports={delta:o.default,parchment:n.default,"core/module":r.default,"core/theme":E.default},h.expandConfig=q,h.overload=Z,h.default=M},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function t(u,d){for(var _=0;_<d.length;_++){var E=d[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(u,E.key,E)}}return function(u,d,_){return d&&t(u.prototype,d),_&&t(u,_),u}}(),w=function t(u,d,_){u===null&&(u=Function.prototype);var E=Object.getOwnPropertyDescriptor(u,d);if(E===void 0){var A=Object.getPrototypeOf(u);return A===null?void 0:t(A,d,_)}if("value"in E)return E.value;var S=E.get;return S!==void 0?S.call(_):void 0},m=i(p(7)),o=i(p(0));function i(t){return t&&t.__esModule?t:{default:t}}function e(t,u){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}function r(t,u){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?t:u}var n=function(t){function u(){return e(this,u),r(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function(d,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);d.prototype=Object.create(_&&_.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(d,_):d.__proto__=_)}(u,t),f(u,[{key:"formatAt",value:function(_,E,A,S){if(u.compare(this.statics.blotName,A)<0&&o.default.query(A,o.default.Scope.BLOT)){var L=this.isolate(_,E);S&&L.wrap(A,S)}else w(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"formatAt",this).call(this,_,E,A,S)}},{key:"optimize",value:function(_){if(w(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"optimize",this).call(this,_),this.parent instanceof u&&u.compare(this.statics.blotName,this.parent.statics.blotName)>0){var E=this.parent.isolate(this.offset(),this.length());this.moveChildren(E),E.wrap(this)}}}],[{key:"compare",value:function(_,E){var A=u.order.indexOf(_),S=u.order.indexOf(E);return A>=0||S>=0?A-S:_===E?0:_<E?-1:1}}]),u}(o.default.Inline);n.allowedChildren=[n,o.default.Embed,m.default],n.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],h.default=n},function(b,h,p){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=p(0))&&f.__esModule?f:{default:f}).default.Text);h.default=o},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function r(n,t){for(var u=0;u<t.length;u++){var d=t[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,t,u){return t&&r(n.prototype,t),u&&r(n,u),n}}(),w=function r(n,t,u){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,t);if(d===void 0){var _=Object.getPrototypeOf(n);return _===null?void 0:r(_,t,u)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(u):void 0},m=o(p(54));function o(r){return r&&r.__esModule?r:{default:r}}var i=(0,o(p(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(r){document.addEventListener(r,function(){for(var n=arguments.length,t=Array(n),u=0;u<n;u++)t[u]=arguments[u];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(d){var _;d.__quill&&d.__quill.emitter&&(_=d.__quill.emitter).handleDOM.apply(_,t)})})});var e=function(r){function n(){(function(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")})(this,n);var t=function(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?u:d}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return t.listeners={},t.on("error",i.error),t}return function(t,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);t.prototype=Object.create(u&&u.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(t,u):t.__proto__=u)}(n,r),f(n,[{key:"emit",value:function(){i.log.apply(i,arguments),w(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(u){for(var d=arguments.length,_=Array(d>1?d-1:0),E=1;E<d;E++)_[E-1]=arguments[E];(this.listeners[u.type]||[]).forEach(function(A){var S=A.node,L=A.handler;(u.target===S||S.contains(u.target))&&L.apply(void 0,[u].concat(_))})}},{key:"listenDOM",value:function(u,d,_){this.listeners[u]||(this.listeners[u]=[]),this.listeners[u].push({node:d,handler:_})}}]),n}(m.default);e.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},e.sources={API:"api",SILENT:"silent",USER:"user"},h.default=e},function(b,h,p){"use strict";function f(m,o){if(!(m instanceof o))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var w=function m(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f(this,m),this.quill=o,this.options=i};w.DEFAULTS={},h.default=w},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=["error","warn","log","info"],w="warn";function m(i){if(f.indexOf(i)<=f.indexOf(w)){for(var e,r=arguments.length,n=Array(r>1?r-1:0),t=1;t<r;t++)n[t-1]=arguments[t];(e=console)[i].apply(e,n)}}function o(i){return f.reduce(function(e,r){return e[r]=m.bind(console,r,i),e},{})}m.level=o.level=function(i){w=i},h.default=o},function(b,h,p){var f=Array.prototype.slice,w=p(52),m=p(53),o=b.exports=function(r,n,t){return t||(t={}),r===n||(r instanceof Date&&n instanceof Date?r.getTime()===n.getTime():!r||!n||typeof r!="object"&&typeof n!="object"?t.strict?r===n:r==n:function(u,d,_){var E,A;if(i(u)||i(d)||u.prototype!==d.prototype)return!1;if(m(u))return!!m(d)&&(u=f.call(u),d=f.call(d),o(u,d,_));if(e(u)){if(!e(d)||u.length!==d.length)return!1;for(E=0;E<u.length;E++)if(u[E]!==d[E])return!1;return!0}try{var S=w(u),L=w(d)}catch(P){return!1}if(S.length!=L.length)return!1;for(S.sort(),L.sort(),E=S.length-1;E>=0;E--)if(S[E]!=L[E])return!1;for(E=S.length-1;E>=0;E--)if(A=S[E],!o(u[A],d[A],_))return!1;return typeof u==typeof d}(r,n,t))};function i(r){return r==null}function e(r){return!(!r||typeof r!="object"||typeof r.length!="number"||typeof r.copy!="function"||typeof r.slice!="function"||r.length>0&&typeof r[0]!="number")}},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=p(1),w=function(){function m(o,i,e){e===void 0&&(e={}),this.attrName=o,this.keyName=i;var r=f.Scope.TYPE&f.Scope.ATTRIBUTE;e.scope!=null?this.scope=e.scope&f.Scope.LEVEL|r:this.scope=f.Scope.ATTRIBUTE,e.whitelist!=null&&(this.whitelist=e.whitelist)}return m.keys=function(o){return[].map.call(o.attributes,function(i){return i.name})},m.prototype.add=function(o,i){return!!this.canAdd(o,i)&&(o.setAttribute(this.keyName,i),!0)},m.prototype.canAdd=function(o,i){return f.query(o,f.Scope.BLOT&(this.scope|f.Scope.TYPE))!=null&&(this.whitelist==null||(typeof i=="string"?this.whitelist.indexOf(i.replace(/["']/g,""))>-1:this.whitelist.indexOf(i)>-1))},m.prototype.remove=function(o){o.removeAttribute(this.keyName)},m.prototype.value=function(o){var i=o.getAttribute(this.keyName);return this.canAdd(o,i)&&i?i:""},m}();h.default=w},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.Code=void 0;var f=function(L,P){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return function(M,q){var F=[],Z=!0,B=!1,X=void 0;try{for(var te,W=M[Symbol.iterator]();!(Z=(te=W.next()).done)&&(F.push(te.value),!q||F.length!==q);Z=!0);}catch(Y){B=!0,X=Y}finally{try{!Z&&W.return&&W.return()}finally{if(B)throw X}}return F}(L,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function S(L,P){for(var M=0;M<P.length;M++){var q=P[M];q.enumerable=q.enumerable||!1,q.configurable=!0,"value"in q&&(q.writable=!0),Object.defineProperty(L,q.key,q)}}return function(L,P,M){return P&&S(L.prototype,P),M&&S(L,M),L}}(),m=function S(L,P,M){L===null&&(L=Function.prototype);var q=Object.getOwnPropertyDescriptor(L,P);if(q===void 0){var F=Object.getPrototypeOf(L);return F===null?void 0:S(F,P,M)}if("value"in q)return q.value;var Z=q.get;return Z!==void 0?Z.call(M):void 0},o=t(p(2)),i=t(p(0)),e=t(p(4)),r=t(p(6)),n=t(p(7));function t(S){return S&&S.__esModule?S:{default:S}}function u(S,L){if(!(S instanceof L))throw new TypeError("Cannot call a class as a function")}function d(S,L){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!L||typeof L!="object"&&typeof L!="function"?S:L}function _(S,L){if(typeof L!="function"&&L!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof L);S.prototype=Object.create(L&&L.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),L&&(Object.setPrototypeOf?Object.setPrototypeOf(S,L):S.__proto__=L)}var E=function(S){function L(){return u(this,L),d(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return _(L,S),L}(r.default);E.blotName="code",E.tagName="CODE";var A=function(S){function L(){return u(this,L),d(this,(L.__proto__||Object.getPrototypeOf(L)).apply(this,arguments))}return _(L,S),w(L,[{key:"delta",value:function(){var M=this,q=this.domNode.textContent;return q.endsWith(`
`)&&(q=q.slice(0,-1)),q.split(`
`).reduce(function(F,Z){return F.insert(Z).insert(`
`,M.formats())},new o.default)}},{key:"format",value:function(M,q){if(M!==this.statics.blotName||!q){var F=this.descendant(n.default,this.length()-1),Z=f(F,1)[0];Z!=null&&Z.deleteAt(Z.length()-1,1),m(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"format",this).call(this,M,q)}}},{key:"formatAt",value:function(M,q,F,Z){if(q!==0&&i.default.query(F,i.default.Scope.BLOCK)!=null&&(F!==this.statics.blotName||Z!==this.statics.formats(this.domNode))){var B=this.newlineIndex(M);if(!(B<0||B>=M+q)){var X=this.newlineIndex(M,!0)+1,te=B-X+1,W=this.isolate(X,te),Y=W.next;W.format(F,Z),Y instanceof L&&Y.formatAt(0,M-X+q-te,F,Z)}}}},{key:"insertAt",value:function(M,q,F){if(F==null){var Z=this.descendant(n.default,M),B=f(Z,2),X=B[0],te=B[1];X.insertAt(te,q)}}},{key:"length",value:function(){var M=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?M:M+1}},{key:"newlineIndex",value:function(M){var q=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(q)return this.domNode.textContent.slice(0,M).lastIndexOf(`
`);var F=this.domNode.textContent.slice(M).indexOf(`
`);return F>-1?M+F:-1}},{key:"optimize",value:function(M){this.domNode.textContent.endsWith(`
`)||this.appendChild(i.default.create("text",`
`)),m(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"optimize",this).call(this,M);var q=this.next;q!=null&&q.prev===this&&q.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===q.statics.formats(q.domNode)&&(q.optimize(M),q.moveChildren(this),q.remove())}},{key:"replace",value:function(M){m(L.prototype.__proto__||Object.getPrototypeOf(L.prototype),"replace",this).call(this,M),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(q){var F=i.default.find(q);F==null?q.parentNode.removeChild(q):F instanceof i.default.Embed?F.remove():F.unwrap()})}}],[{key:"create",value:function(M){var q=m(L.__proto__||Object.getPrototypeOf(L),"create",this).call(this,M);return q.setAttribute("spellcheck",!1),q}},{key:"formats",value:function(){return!0}}]),L}(e.default);A.blotName="code-block",A.tagName="PRE",A.TAB="  ",h.Code=E,h.default=A},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(q){return typeof q}:function(q){return q&&typeof Symbol=="function"&&q.constructor===Symbol&&q!==Symbol.prototype?"symbol":typeof q},w=function(F,Z){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return function(B,X){var te=[],W=!0,Y=!1,z=void 0;try{for(var G,H=B[Symbol.iterator]();!(W=(G=H.next()).done)&&(te.push(G.value),!X||te.length!==X);W=!0);}catch(D){Y=!0,z=D}finally{try{!W&&H.return&&H.return()}finally{if(Y)throw z}}return te}(F,Z);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=function(){function q(F,Z){for(var B=0;B<Z.length;B++){var X=Z[B];X.enumerable=X.enumerable||!1,X.configurable=!0,"value"in X&&(X.writable=!0),Object.defineProperty(F,X.key,X)}}return function(F,Z,B){return Z&&q(F.prototype,Z),B&&q(F,B),F}}(),o=S(p(2)),i=S(p(20)),e=S(p(0)),r=S(p(13)),n=S(p(24)),t=p(4),u=S(t),d=S(p(16)),_=S(p(21)),E=S(p(11)),A=S(p(3));function S(q){return q&&q.__esModule?q:{default:q}}var L=/^[ -~]*$/,P=function(){function q(F){(function(Z,B){if(!(Z instanceof B))throw new TypeError("Cannot call a class as a function")})(this,q),this.scroll=F,this.delta=this.getDelta()}return m(q,[{key:"applyDelta",value:function(Z){var B=this,X=!1;this.scroll.update();var te=this.scroll.length();return this.scroll.batchStart(),(Z=function(W){return W.reduce(function(Y,z){if(z.insert===1){var G=(0,_.default)(z.attributes);return delete G.image,Y.insert({image:z.attributes.image},G)}if(z.attributes==null||z.attributes.list!==!0&&z.attributes.bullet!==!0||((z=(0,_.default)(z)).attributes.list?z.attributes.list="ordered":(z.attributes.list="bullet",delete z.attributes.bullet)),typeof z.insert=="string"){var H=z.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return Y.insert(H,z.attributes)}return Y.push(z)},new o.default)}(Z)).reduce(function(W,Y){var z=Y.retain||Y.delete||Y.insert.length||1,G=Y.attributes||{};if(Y.insert!=null){if(typeof Y.insert=="string"){var H=Y.insert;H.endsWith(`
`)&&X&&(X=!1,H=H.slice(0,-1)),W>=te&&!H.endsWith(`
`)&&(X=!0),B.scroll.insertAt(W,H);var D=B.scroll.line(W),Q=w(D,2),ce=Q[0],ne=Q[1],me=(0,A.default)({},(0,t.bubbleFormats)(ce));if(ce instanceof u.default){var de=ce.descendant(e.default.Leaf,ne),ie=w(de,1)[0];me=(0,A.default)(me,(0,t.bubbleFormats)(ie))}G=i.default.attributes.diff(me,G)||{}}else if(f(Y.insert)==="object"){var re=Object.keys(Y.insert)[0];if(re==null)return W;B.scroll.insertAt(W,re,Y.insert[re])}te+=z}return Object.keys(G).forEach(function(ge){B.scroll.formatAt(W,z,ge,G[ge])}),W+z},0),Z.reduce(function(W,Y){return typeof Y.delete=="number"?(B.scroll.deleteAt(W,Y.delete),W):W+(Y.retain||Y.insert.length||1)},0),this.scroll.batchEnd(),this.update(Z)}},{key:"deleteText",value:function(Z,B){return this.scroll.deleteAt(Z,B),this.update(new o.default().retain(Z).delete(B))}},{key:"formatLine",value:function(Z,B){var X=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(te).forEach(function(W){if(X.scroll.whitelist==null||X.scroll.whitelist[W]){var Y=X.scroll.lines(Z,Math.max(B,1)),z=B;Y.forEach(function(G){var H=G.length();if(G instanceof r.default){var D=Z-G.offset(X.scroll),Q=G.newlineIndex(D+z)-D+1;G.formatAt(D,Q,W,te[W])}else G.format(W,te[W]);z-=H})}}),this.scroll.optimize(),this.update(new o.default().retain(Z).retain(B,(0,_.default)(te)))}},{key:"formatText",value:function(Z,B){var X=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(te).forEach(function(W){X.scroll.formatAt(Z,B,W,te[W])}),this.update(new o.default().retain(Z).retain(B,(0,_.default)(te)))}},{key:"getContents",value:function(Z,B){return this.delta.slice(Z,Z+B)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(Z,B){return Z.concat(B.delta())},new o.default)}},{key:"getFormat",value:function(Z){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,X=[],te=[];B===0?this.scroll.path(Z).forEach(function(Y){var z=w(Y,1)[0];z instanceof u.default?X.push(z):z instanceof e.default.Leaf&&te.push(z)}):(X=this.scroll.lines(Z,B),te=this.scroll.descendants(e.default.Leaf,Z,B));var W=[X,te].map(function(Y){if(Y.length===0)return{};for(var z=(0,t.bubbleFormats)(Y.shift());Object.keys(z).length>0;){var G=Y.shift();if(G==null)return z;z=M((0,t.bubbleFormats)(G),z)}return z});return A.default.apply(A.default,W)}},{key:"getText",value:function(Z,B){return this.getContents(Z,B).filter(function(X){return typeof X.insert=="string"}).map(function(X){return X.insert}).join("")}},{key:"insertEmbed",value:function(Z,B,X){return this.scroll.insertAt(Z,B,X),this.update(new o.default().retain(Z).insert(function(te,W,Y){return W in te?Object.defineProperty(te,W,{value:Y,enumerable:!0,configurable:!0,writable:!0}):te[W]=Y,te}({},B,X)))}},{key:"insertText",value:function(Z,B){var X=this,te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return B=B.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(Z,B),Object.keys(te).forEach(function(W){X.scroll.formatAt(Z,B.length,W,te[W])}),this.update(new o.default().retain(Z).insert(B,(0,_.default)(te)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var Z=this.scroll.children.head;return Z.statics.blotName===u.default.blotName&&!(Z.children.length>1)&&Z.children.head instanceof d.default}},{key:"removeFormat",value:function(Z,B){var X=this.getText(Z,B),te=this.scroll.line(Z+B),W=w(te,2),Y=W[0],z=W[1],G=0,H=new o.default;Y!=null&&(G=Y instanceof r.default?Y.newlineIndex(z)-z+1:Y.length()-z,H=Y.delta().slice(z,z+G-1).insert(`
`));var D=this.getContents(Z,B+G).diff(new o.default().insert(X).concat(H)),Q=new o.default().retain(Z).concat(D);return this.applyDelta(Q)}},{key:"update",value:function(Z){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],X=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,te=this.delta;if(B.length===1&&B[0].type==="characterData"&&B[0].target.data.match(L)&&e.default.find(B[0].target)){var W=e.default.find(B[0].target),Y=(0,t.bubbleFormats)(W),z=W.offset(this.scroll),G=B[0].oldValue.replace(n.default.CONTENTS,""),H=new o.default().insert(G),D=new o.default().insert(W.value()),Q=new o.default().retain(z).concat(H.diff(D,X));Z=Q.reduce(function(ce,ne){return ne.insert?ce.insert(ne.insert,Y):ce.push(ne)},new o.default),this.delta=te.compose(Z)}else this.delta=this.getDelta(),Z&&(0,E.default)(te.compose(Z),this.delta)||(Z=te.diff(this.delta,X));return Z}}]),q}();function M(q,F){return Object.keys(F).reduce(function(Z,B){return q[B]==null||(F[B]===q[B]?Z[B]=F[B]:Array.isArray(F[B])?F[B].indexOf(q[B])<0&&(Z[B]=F[B].concat([q[B]])):Z[B]=[F[B],q[B]]),Z},{})}h.default=P},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.Range=void 0;var f=function(S,L){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return function(P,M){var q=[],F=!0,Z=!1,B=void 0;try{for(var X,te=P[Symbol.iterator]();!(F=(X=te.next()).done)&&(q.push(X.value),!M||q.length!==M);F=!0);}catch(W){Z=!0,B=W}finally{try{!F&&te.return&&te.return()}finally{if(Z)throw B}}return q}(S,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function A(S,L){for(var P=0;P<L.length;P++){var M=L[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,L,P){return L&&A(S.prototype,L),P&&A(S,P),S}}(),m=r(p(0)),o=r(p(21)),i=r(p(11)),e=r(p(8));function r(A){return A&&A.__esModule?A:{default:A}}function n(A){if(Array.isArray(A)){for(var S=0,L=Array(A.length);S<A.length;S++)L[S]=A[S];return L}return Array.from(A)}function t(A,S){if(!(A instanceof S))throw new TypeError("Cannot call a class as a function")}var u=(0,r(p(10)).default)("quill:selection"),d=function A(S){var L=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;t(this,A),this.index=S,this.length=L},_=function(){function A(S,L){var P=this;t(this,A),this.emitter=L,this.scroll=S,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=m.default.create("cursor",this),this.lastRange=this.savedRange=new d(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){P.mouseDown||setTimeout(P.update.bind(P,e.default.sources.USER),1)}),this.emitter.on(e.default.events.EDITOR_CHANGE,function(M,q){M===e.default.events.TEXT_CHANGE&&q.length()>0&&P.update(e.default.sources.SILENT)}),this.emitter.on(e.default.events.SCROLL_BEFORE_UPDATE,function(){if(P.hasFocus()){var M=P.getNativeRange();M!=null&&M.start.node!==P.cursor.textNode&&P.emitter.once(e.default.events.SCROLL_UPDATE,function(){try{P.setNativeRange(M.start.node,M.start.offset,M.end.node,M.end.offset)}catch(q){}})}}),this.emitter.on(e.default.events.SCROLL_OPTIMIZE,function(M,q){if(q.range){var F=q.range,Z=F.startNode,B=F.startOffset,X=F.endNode,te=F.endOffset;P.setNativeRange(Z,B,X,te)}}),this.update(e.default.sources.SILENT)}return w(A,[{key:"handleComposition",value:function(){var L=this;this.root.addEventListener("compositionstart",function(){L.composing=!0}),this.root.addEventListener("compositionend",function(){if(L.composing=!1,L.cursor.parent){var P=L.cursor.restore();if(!P)return;setTimeout(function(){L.setNativeRange(P.startNode,P.startOffset,P.endNode,P.endOffset)},1)}})}},{key:"handleDragging",value:function(){var L=this;this.emitter.listenDOM("mousedown",document.body,function(){L.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){L.mouseDown=!1,L.update(e.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(L,P){if(this.scroll.whitelist==null||this.scroll.whitelist[L]){this.scroll.update();var M=this.getNativeRange();if(M!=null&&M.native.collapsed&&!m.default.query(L,m.default.Scope.BLOCK)){if(M.start.node!==this.cursor.textNode){var q=m.default.find(M.start.node,!1);if(q==null)return;if(q instanceof m.default.Leaf){var F=q.split(M.start.offset);q.parent.insertBefore(this.cursor,F)}else q.insertBefore(this.cursor,M.start.node);this.cursor.attach()}this.cursor.format(L,P),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(L){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=this.scroll.length();L=Math.min(L,M-1),P=Math.min(L+P,M-1)-L;var q=void 0,F=this.scroll.leaf(L),Z=f(F,2),B=Z[0],X=Z[1];if(B==null)return null;var te=B.position(X,!0),W=f(te,2);q=W[0],X=W[1];var Y=document.createRange();if(P>0){Y.setStart(q,X);var z=this.scroll.leaf(L+P),G=f(z,2);if(B=G[0],X=G[1],B==null)return null;var H=B.position(X,!0),D=f(H,2);return q=D[0],X=D[1],Y.setEnd(q,X),Y.getBoundingClientRect()}var Q="left",ce=void 0;return q instanceof Text?(X<q.data.length?(Y.setStart(q,X),Y.setEnd(q,X+1)):(Y.setStart(q,X-1),Y.setEnd(q,X),Q="right"),ce=Y.getBoundingClientRect()):(ce=B.domNode.getBoundingClientRect(),X>0&&(Q="right")),{bottom:ce.top+ce.height,height:ce.height,left:ce[Q],right:ce[Q],top:ce.top,width:0}}},{key:"getNativeRange",value:function(){var L=document.getSelection();if(L==null||L.rangeCount<=0)return null;var P=L.getRangeAt(0);if(P==null)return null;var M=this.normalizeNative(P);return u.info("getNativeRange",M),M}},{key:"getRange",value:function(){var L=this.getNativeRange();return L==null?[null,null]:[this.normalizedToRange(L),L]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(L){var P=this,M=[[L.start.node,L.start.offset]];L.native.collapsed||M.push([L.end.node,L.end.offset]);var q=M.map(function(B){var X=f(B,2),te=X[0],W=X[1],Y=m.default.find(te,!0),z=Y.offset(P.scroll);return W===0?z:Y instanceof m.default.Container?z+Y.length():z+Y.index(te,W)}),F=Math.min(Math.max.apply(Math,n(q)),this.scroll.length()-1),Z=Math.min.apply(Math,[F].concat(n(q)));return new d(Z,F-Z)}},{key:"normalizeNative",value:function(L){if(!E(this.root,L.startContainer)||!L.collapsed&&!E(this.root,L.endContainer))return null;var P={start:{node:L.startContainer,offset:L.startOffset},end:{node:L.endContainer,offset:L.endOffset},native:L};return[P.start,P.end].forEach(function(M){for(var q=M.node,F=M.offset;!(q instanceof Text)&&q.childNodes.length>0;)if(q.childNodes.length>F)q=q.childNodes[F],F=0;else{if(q.childNodes.length!==F)break;F=(q=q.lastChild)instanceof Text?q.data.length:q.childNodes.length+1}M.node=q,M.offset=F}),P}},{key:"rangeToNative",value:function(L){var P=this,M=L.collapsed?[L.index]:[L.index,L.index+L.length],q=[],F=this.scroll.length();return M.forEach(function(Z,B){Z=Math.min(F-1,Z);var X,te=P.scroll.leaf(Z),W=f(te,2),Y=W[0],z=W[1],G=Y.position(z,B!==0),H=f(G,2);X=H[0],z=H[1],q.push(X,z)}),q.length<2&&(q=q.concat(q)),q}},{key:"scrollIntoView",value:function(L){var P=this.lastRange;if(P!=null){var M=this.getBounds(P.index,P.length);if(M!=null){var q=this.scroll.length()-1,F=this.scroll.line(Math.min(P.index,q)),Z=f(F,1)[0],B=Z;if(P.length>0){var X=this.scroll.line(Math.min(P.index+P.length,q));B=f(X,1)[0]}if(Z!=null&&B!=null){var te=L.getBoundingClientRect();M.top<te.top?L.scrollTop-=te.top-M.top:M.bottom>te.bottom&&(L.scrollTop+=M.bottom-te.bottom)}}}}},{key:"setNativeRange",value:function(L,P){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:L,q=arguments.length>3&&arguments[3]!==void 0?arguments[3]:P,F=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(u.info("setNativeRange",L,P,M,q),L==null||this.root.parentNode!=null&&L.parentNode!=null&&M.parentNode!=null){var Z=document.getSelection();if(Z!=null)if(L!=null){this.hasFocus()||this.root.focus();var B=(this.getNativeRange()||{}).native;if(B==null||F||L!==B.startContainer||P!==B.startOffset||M!==B.endContainer||q!==B.endOffset){L.tagName=="BR"&&(P=[].indexOf.call(L.parentNode.childNodes,L),L=L.parentNode),M.tagName=="BR"&&(q=[].indexOf.call(M.parentNode.childNodes,M),M=M.parentNode);var X=document.createRange();X.setStart(L,P),X.setEnd(M,q),Z.removeAllRanges(),Z.addRange(X)}}else Z.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(L){var P=arguments.length>1&&arguments[1]!==void 0&&arguments[1],M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.default.sources.API;if(typeof P=="string"&&(M=P,P=!1),u.info("setRange",L),L!=null){var q=this.rangeToNative(L);this.setNativeRange.apply(this,n(q).concat([P]))}else this.setNativeRange(null);this.update(M)}},{key:"update",value:function(){var L=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.default.sources.USER,P=this.lastRange,M=this.getRange(),q=f(M,2),F=q[0],Z=q[1];if(this.lastRange=F,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,i.default)(P,this.lastRange)){var B;!this.composing&&Z!=null&&Z.native.collapsed&&Z.start.node!==this.cursor.textNode&&this.cursor.restore();var X,te=[e.default.events.SELECTION_CHANGE,(0,o.default)(this.lastRange),(0,o.default)(P),L];(B=this.emitter).emit.apply(B,[e.default.events.EDITOR_CHANGE].concat(te)),L!==e.default.sources.SILENT&&(X=this.emitter).emit.apply(X,te)}}}]),A}();function E(A,S){try{S.parentNode}catch(L){return!1}return S instanceof Text&&(S=S.parentNode),A.contains(S)}h.Range=d,h.default=_},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function r(n,t){for(var u=0;u<t.length;u++){var d=t[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,t,u){return t&&r(n.prototype,t),u&&r(n,u),n}}(),m=function r(n,t,u){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,t);if(d===void 0){var _=Object.getPrototypeOf(n);return _===null?void 0:r(_,t,u)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(u):void 0};function o(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function i(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}var e=function(r){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);t.prototype=Object.create(u&&u.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(t,u):t.__proto__=u)}(n,r),w(n,[{key:"insertInto",value:function(u,d){u.children.length===0?m(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"insertInto",this).call(this,u,d):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),n}(((f=p(0))&&f.__esModule?f:{default:f}).default.Embed);e.blotName="break",e.tagName="BR",h.default=e},function(b,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var u in t)t.hasOwnProperty(u)&&(n[u]=t[u])},function(n,t){function u(){this.constructor=n}f(n,t),n.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(44),o=p(30),i=p(1),e=function(n){function t(u){var d=n.call(this,u)||this;return d.build(),d}return w(t,n),t.prototype.appendChild=function(u){this.insertBefore(u)},t.prototype.attach=function(){n.prototype.attach.call(this),this.children.forEach(function(u){u.attach()})},t.prototype.build=function(){var u=this;this.children=new m.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(d){try{var _=r(d);u.insertBefore(_,u.children.head||void 0)}catch(E){if(E instanceof i.ParchmentError)return;throw E}})},t.prototype.deleteAt=function(u,d){if(u===0&&d===this.length())return this.remove();this.children.forEachAt(u,d,function(_,E,A){_.deleteAt(E,A)})},t.prototype.descendant=function(u,d){var _=this.children.find(d),E=_[0],A=_[1];return u.blotName==null&&u(E)||u.blotName!=null&&E instanceof u?[E,A]:E instanceof t?E.descendant(u,A):[null,-1]},t.prototype.descendants=function(u,d,_){d===void 0&&(d=0),_===void 0&&(_=Number.MAX_VALUE);var E=[],A=_;return this.children.forEachAt(d,_,function(S,L,P){(u.blotName==null&&u(S)||u.blotName!=null&&S instanceof u)&&E.push(S),S instanceof t&&(E=E.concat(S.descendants(u,L,A))),A-=P}),E},t.prototype.detach=function(){this.children.forEach(function(u){u.detach()}),n.prototype.detach.call(this)},t.prototype.formatAt=function(u,d,_,E){this.children.forEachAt(u,d,function(A,S,L){A.formatAt(S,L,_,E)})},t.prototype.insertAt=function(u,d,_){var E=this.children.find(u),A=E[0],S=E[1];if(A)A.insertAt(S,d,_);else{var L=_==null?i.create("text",d):i.create(d,_);this.appendChild(L)}},t.prototype.insertBefore=function(u,d){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(_){return u instanceof _}))throw new i.ParchmentError("Cannot insert "+u.statics.blotName+" into "+this.statics.blotName);u.insertInto(this,d)},t.prototype.length=function(){return this.children.reduce(function(u,d){return u+d.length()},0)},t.prototype.moveChildren=function(u,d){this.children.forEach(function(_){u.insertBefore(_,d)})},t.prototype.optimize=function(u){if(n.prototype.optimize.call(this,u),this.children.length===0)if(this.statics.defaultChild!=null){var d=i.create(this.statics.defaultChild);this.appendChild(d),d.optimize(u)}else this.remove()},t.prototype.path=function(u,d){d===void 0&&(d=!1);var _=this.children.find(u,d),E=_[0],A=_[1],S=[[this,u]];return E instanceof t?S.concat(E.path(A,d)):(E!=null&&S.push([E,A]),S)},t.prototype.removeChild=function(u){this.children.remove(u)},t.prototype.replace=function(u){u instanceof t&&u.moveChildren(this),n.prototype.replace.call(this,u)},t.prototype.split=function(u,d){if(d===void 0&&(d=!1),!d){if(u===0)return this;if(u===this.length())return this.next}var _=this.clone();return this.parent.insertBefore(_,this.next),this.children.forEachAt(u,this.length(),function(E,A,S){E=E.split(A,d),_.appendChild(E)}),_},t.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},t.prototype.update=function(u,d){var _=this,E=[],A=[];u.forEach(function(S){S.target===_.domNode&&S.type==="childList"&&(E.push.apply(E,S.addedNodes),A.push.apply(A,S.removedNodes))}),A.forEach(function(S){if(!(S.parentNode!=null&&S.tagName!=="IFRAME"&&document.body.compareDocumentPosition(S)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var L=i.find(S);L!=null&&(L.domNode.parentNode!=null&&L.domNode.parentNode!==_.domNode||L.detach())}}),E.filter(function(S){return S.parentNode==_.domNode}).sort(function(S,L){return S===L?0:S.compareDocumentPosition(L)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(S){var L=null;S.nextSibling!=null&&(L=i.find(S.nextSibling));var P=r(S);P.next==L&&P.next!=null||(P.parent!=null&&P.parent.removeChild(_),_.insertBefore(P,L||void 0))})},t}(o.default);function r(n){var t=i.find(n);if(t==null)try{t=i.create(n)}catch(u){t=i.create(i.Scope.INLINE),[].slice.call(n.childNodes).forEach(function(d){t.domNode.appendChild(d)}),n.parentNode&&n.parentNode.replaceChild(t.domNode,n),t.attach()}return t}h.default=e},function(b,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,t){n.__proto__=t}||function(n,t){for(var u in t)t.hasOwnProperty(u)&&(n[u]=t[u])},function(n,t){function u(){this.constructor=n}f(n,t),n.prototype=t===null?Object.create(t):(u.prototype=t.prototype,new u)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(12),o=p(31),i=p(17),e=p(1),r=function(n){function t(u){var d=n.call(this,u)||this;return d.attributes=new o.default(d.domNode),d}return w(t,n),t.formats=function(u){return typeof this.tagName=="string"||(Array.isArray(this.tagName)?u.tagName.toLowerCase():void 0)},t.prototype.format=function(u,d){var _=e.query(u);_ instanceof m.default?this.attributes.attribute(_,d):d&&(_==null||u===this.statics.blotName&&this.formats()[u]===d||this.replaceWith(u,d))},t.prototype.formats=function(){var u=this.attributes.values(),d=this.statics.formats(this.domNode);return d!=null&&(u[this.statics.blotName]=d),u},t.prototype.replaceWith=function(u,d){var _=n.prototype.replaceWith.call(this,u,d);return this.attributes.copy(_),_},t.prototype.update=function(u,d){var _=this;n.prototype.update.call(this,u,d),u.some(function(E){return E.target===_.domNode&&E.type==="attributes"})&&this.attributes.build()},t.prototype.wrap=function(u,d){var _=n.prototype.wrap.call(this,u,d);return _ instanceof t&&_.statics.scope===this.statics.scope&&this.attributes.move(_),_},t}(i.default);h.default=r},function(b,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])},function(e,r){function n(){this.constructor=e}f(e,r),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(30),o=p(1),i=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return w(r,e),r.value=function(n){return!0},r.prototype.index=function(n,t){return this.domNode===n||this.domNode.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(t,1):-1},r.prototype.position=function(n,t){var u=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return n>0&&(u+=1),[this.parent.domNode,u]},r.prototype.value=function(){var n;return(n={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,n},r.scope=o.Scope.INLINE_BLOT,r}(m.default);h.default=i},function(b,h,p){var f=p(11),w=p(3),m={attributes:{compose:function(e,r,n){typeof e!="object"&&(e={}),typeof r!="object"&&(r={});var t=w(!0,{},r);for(var u in n||(t=Object.keys(t).reduce(function(d,_){return t[_]!=null&&(d[_]=t[_]),d},{})),e)e[u]!==void 0&&r[u]===void 0&&(t[u]=e[u]);return Object.keys(t).length>0?t:void 0},diff:function(e,r){typeof e!="object"&&(e={}),typeof r!="object"&&(r={});var n=Object.keys(e).concat(Object.keys(r)).reduce(function(t,u){return f(e[u],r[u])||(t[u]=r[u]===void 0?null:r[u]),t},{});return Object.keys(n).length>0?n:void 0},transform:function(e,r,n){if(typeof e!="object")return r;if(typeof r=="object"){if(!n)return r;var t=Object.keys(r).reduce(function(u,d){return e[d]===void 0&&(u[d]=r[d]),u},{});return Object.keys(t).length>0?t:void 0}}},iterator:function(e){return new o(e)},length:function(e){return typeof e.delete=="number"?e.delete:typeof e.retain=="number"?e.retain:typeof e.insert=="string"?e.insert.length:1}};function o(i){this.ops=i,this.index=0,this.offset=0}o.prototype.hasNext=function(){return this.peekLength()<1/0},o.prototype.next=function(i){i||(i=1/0);var e=this.ops[this.index];if(e){var r=this.offset,n=m.length(e);if(i>=n-r?(i=n-r,this.index+=1,this.offset=0):this.offset+=i,typeof e.delete=="number")return{delete:i};var t={};return e.attributes&&(t.attributes=e.attributes),typeof e.retain=="number"?t.retain=i:typeof e.insert=="string"?t.insert=e.insert.substr(r,i):t.insert=e.insert,t}return{retain:1/0}},o.prototype.peek=function(){return this.ops[this.index]},o.prototype.peekLength=function(){return this.ops[this.index]?m.length(this.ops[this.index])-this.offset:1/0},o.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},o.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,e=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=i,this.index=e,[r].concat(n)}return[]},b.exports=m},function(b,h){var p=function(){"use strict";function f(n,t){return t!=null&&n instanceof t}var w,m,o;try{w=Map}catch(n){w=function(){}}try{m=Set}catch(n){m=function(){}}try{o=Promise}catch(n){o=function(){}}function i(n,t,u,d,_){typeof t=="object"&&(u=t.depth,d=t.prototype,_=t.includeNonEnumerable,t=t.circular);var E=[],A=[],S=typeof He!="undefined";return t===void 0&&(t=!0),u===void 0&&(u=1/0),function L(P,M){if(P===null)return null;if(M===0)return P;var q,F;if(typeof P!="object")return P;if(f(P,w))q=new w;else if(f(P,m))q=new m;else if(f(P,o))q=new o(function(H,D){P.then(function(Q){H(L(Q,M-1))},function(Q){D(L(Q,M-1))})});else if(i.__isArray(P))q=[];else if(i.__isRegExp(P))q=new RegExp(P.source,r(P)),P.lastIndex&&(q.lastIndex=P.lastIndex);else if(i.__isDate(P))q=new Date(P.getTime());else{if(S&&He.isBuffer(P))return q=He.allocUnsafe?He.allocUnsafe(P.length):new He(P.length),P.copy(q),q;f(P,Error)?q=Object.create(P):d===void 0?(F=Object.getPrototypeOf(P),q=Object.create(F)):(q=Object.create(d),F=d)}if(t){var Z=E.indexOf(P);if(Z!=-1)return A[Z];E.push(P),A.push(q)}for(var B in f(P,w)&&P.forEach(function(H,D){var Q=L(D,M-1),ce=L(H,M-1);q.set(Q,ce)}),f(P,m)&&P.forEach(function(H){var D=L(H,M-1);q.add(D)}),P){var X;F&&(X=Object.getOwnPropertyDescriptor(F,B)),X&&X.set==null||(q[B]=L(P[B],M-1))}if(Object.getOwnPropertySymbols){var te=Object.getOwnPropertySymbols(P);for(B=0;B<te.length;B++){var W=te[B];(!(z=Object.getOwnPropertyDescriptor(P,W))||z.enumerable||_)&&(q[W]=L(P[W],M-1),z.enumerable||Object.defineProperty(q,W,{enumerable:!1}))}}if(_){var Y=Object.getOwnPropertyNames(P);for(B=0;B<Y.length;B++){var z,G=Y[B];(z=Object.getOwnPropertyDescriptor(P,G))&&z.enumerable||(q[G]=L(P[G],M-1),Object.defineProperty(q,G,{enumerable:!1}))}}return q}(n,u)}function e(n){return Object.prototype.toString.call(n)}function r(n){var t="";return n.global&&(t+="g"),n.ignoreCase&&(t+="i"),n.multiline&&(t+="m"),t}return i.clonePrototype=function(n){if(n===null)return null;var t=function(){};return t.prototype=n,new t},i.__objToStr=e,i.__isDate=function(n){return typeof n=="object"&&e(n)==="[object Date]"},i.__isArray=function(n){return typeof n=="object"&&e(n)==="[object Array]"},i.__isRegExp=function(n){return typeof n=="object"&&e(n)==="[object RegExp]"},i.__getRegExpFlags=r,i}();typeof b=="object"&&b.exports&&(b.exports=p)},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(S,L){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return function(P,M){var q=[],F=!0,Z=!1,B=void 0;try{for(var X,te=P[Symbol.iterator]();!(F=(X=te.next()).done)&&(q.push(X.value),!M||q.length!==M);F=!0);}catch(W){Z=!0,B=W}finally{try{!F&&te.return&&te.return()}finally{if(Z)throw B}}return q}(S,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function A(S,L){for(var P=0;P<L.length;P++){var M=L[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,L,P){return L&&A(S.prototype,L),P&&A(S,P),S}}(),m=function A(S,L,P){S===null&&(S=Function.prototype);var M=Object.getOwnPropertyDescriptor(S,L);if(M===void 0){var q=Object.getPrototypeOf(S);return q===null?void 0:A(q,L,P)}if("value"in M)return M.value;var F=M.get;return F!==void 0?F.call(P):void 0},o=d(p(0)),i=d(p(8)),e=p(4),r=d(e),n=d(p(16)),t=d(p(13)),u=d(p(25));function d(A){return A&&A.__esModule?A:{default:A}}function _(A){return A instanceof r.default||A instanceof e.BlockEmbed}var E=function(A){function S(L,P){(function(q,F){if(!(q instanceof F))throw new TypeError("Cannot call a class as a function")})(this,S);var M=function(q,F){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||typeof F!="object"&&typeof F!="function"?q:F}(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,L));return M.emitter=P.emitter,Array.isArray(P.whitelist)&&(M.whitelist=P.whitelist.reduce(function(q,F){return q[F]=!0,q},{})),M.domNode.addEventListener("DOMNodeInserted",function(){}),M.optimize(),M.enable(),M}return function(L,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);L.prototype=Object.create(P&&P.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(L,P):L.__proto__=P)}(S,A),w(S,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(P,M){var q=this.line(P),F=f(q,2),Z=F[0],B=F[1],X=this.line(P+M),te=f(X,1)[0];if(m(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"deleteAt",this).call(this,P,M),te!=null&&Z!==te&&B>0){if(Z instanceof e.BlockEmbed||te instanceof e.BlockEmbed)return void this.optimize();if(Z instanceof t.default){var W=Z.newlineIndex(Z.length(),!0);if(W>-1&&(Z=Z.split(W+1))===te)return void this.optimize()}else if(te instanceof t.default){var Y=te.newlineIndex(0);Y>-1&&te.split(Y+1)}var z=te.children.head instanceof n.default?null:te.children.head;Z.moveChildren(te,z),Z.remove()}this.optimize()}},{key:"enable",value:function(){var P=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",P)}},{key:"formatAt",value:function(P,M,q,F){(this.whitelist==null||this.whitelist[q])&&(m(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"formatAt",this).call(this,P,M,q,F),this.optimize())}},{key:"insertAt",value:function(P,M,q){if(q==null||this.whitelist==null||this.whitelist[M]){if(P>=this.length())if(q==null||o.default.query(M,o.default.Scope.BLOCK)==null){var F=o.default.create(this.statics.defaultChild);this.appendChild(F),q==null&&M.endsWith(`
`)&&(M=M.slice(0,-1)),F.insertAt(0,M,q)}else{var Z=o.default.create(M,q);this.appendChild(Z)}else m(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertAt",this).call(this,P,M,q);this.optimize()}}},{key:"insertBefore",value:function(P,M){if(P.statics.scope===o.default.Scope.INLINE_BLOT){var q=o.default.create(this.statics.defaultChild);q.appendChild(P),P=q}m(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,P,M)}},{key:"leaf",value:function(P){return this.path(P).pop()||[null,-1]}},{key:"line",value:function(P){return P===this.length()?this.line(P-1):this.descendant(_,P)}},{key:"lines",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,q=function F(Z,B,X){var te=[],W=X;return Z.children.forEachAt(B,X,function(Y,z,G){_(Y)?te.push(Y):Y instanceof o.default.Container&&(te=te.concat(F(Y,z,W))),W-=G}),te};return q(this,P,M)}},{key:"optimize",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(m(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,P,M),P.length>0&&this.emitter.emit(i.default.events.SCROLL_OPTIMIZE,P,M))}},{key:"path",value:function(P){return m(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"path",this).call(this,P).slice(1)}},{key:"update",value:function(P){if(this.batch!==!0){var M=i.default.sources.USER;typeof P=="string"&&(M=P),Array.isArray(P)||(P=this.observer.takeRecords()),P.length>0&&this.emitter.emit(i.default.events.SCROLL_BEFORE_UPDATE,M,P),m(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"update",this).call(this,P.concat([])),P.length>0&&this.emitter.emit(i.default.events.SCROLL_UPDATE,M,P)}}}]),S}(o.default.Scroll);E.blotName="scroll",E.className="ql-editor",E.tagName="DIV",E.defaultChild="block",E.allowedChildren=[r.default,e.BlockEmbed,u.default],h.default=E},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SHORTKEY=h.default=void 0;var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(Y){return typeof Y}:function(Y){return Y&&typeof Symbol=="function"&&Y.constructor===Symbol&&Y!==Symbol.prototype?"symbol":typeof Y},w=function(z,G){if(Array.isArray(z))return z;if(Symbol.iterator in Object(z))return function(H,D){var Q=[],ce=!0,ne=!1,me=void 0;try{for(var de,ie=H[Symbol.iterator]();!(ce=(de=ie.next()).done)&&(Q.push(de.value),!D||Q.length!==D);ce=!0);}catch(re){ne=!0,me=re}finally{try{!ce&&ie.return&&ie.return()}finally{if(ne)throw me}}return Q}(z,G);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=function(){function Y(z,G){for(var H=0;H<G.length;H++){var D=G[H];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(z,D.key,D)}}return function(z,G,H){return G&&Y(z.prototype,G),H&&Y(z,H),z}}(),o=E(p(21)),i=E(p(11)),e=E(p(3)),r=E(p(2)),n=E(p(20)),t=E(p(0)),u=E(p(5)),d=E(p(10)),_=E(p(9));function E(Y){return Y&&Y.__esModule?Y:{default:Y}}function A(Y,z,G){return z in Y?Object.defineProperty(Y,z,{value:G,enumerable:!0,configurable:!0,writable:!0}):Y[z]=G,Y}var S=(0,d.default)("quill:keyboard"),L=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",P=function(Y){function z(G,H){(function(Q,ce){if(!(Q instanceof ce))throw new TypeError("Cannot call a class as a function")})(this,z);var D=function(Q,ce){if(!Q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ce||typeof ce!="object"&&typeof ce!="function"?Q:ce}(this,(z.__proto__||Object.getPrototypeOf(z)).call(this,G,H));return D.bindings={},Object.keys(D.options.bindings).forEach(function(Q){(Q!=="list autofill"||G.scroll.whitelist==null||G.scroll.whitelist.list)&&D.options.bindings[Q]&&D.addBinding(D.options.bindings[Q])}),D.addBinding({key:z.keys.ENTER,shiftKey:null},B),D.addBinding({key:z.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(D.addBinding({key:z.keys.BACKSPACE},{collapsed:!0},q),D.addBinding({key:z.keys.DELETE},{collapsed:!0},F)):(D.addBinding({key:z.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},q),D.addBinding({key:z.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),D.addBinding({key:z.keys.BACKSPACE},{collapsed:!1},Z),D.addBinding({key:z.keys.DELETE},{collapsed:!1},Z),D.addBinding({key:z.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},q),D.listen(),D}return function(G,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);G.prototype=Object.create(H&&H.prototype,{constructor:{value:G,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(G,H):G.__proto__=H)}(z,Y),m(z,null,[{key:"match",value:function(H,D){return D=W(D),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(Q){return!!D[Q]!==H[Q]&&D[Q]!==null})&&D.key===(H.which||H.keyCode)}}]),m(z,[{key:"addBinding",value:function(H){var D=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},Q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ce=W(H);if(ce==null||ce.key==null)return S.warn("Attempted to add invalid keyboard binding",ce);typeof D=="function"&&(D={handler:D}),typeof Q=="function"&&(Q={handler:Q}),ce=(0,e.default)(ce,D,Q),this.bindings[ce.key]=this.bindings[ce.key]||[],this.bindings[ce.key].push(ce)}},{key:"listen",value:function(){var H=this;this.quill.root.addEventListener("keydown",function(D){if(!D.defaultPrevented){var Q=D.which||D.keyCode,ce=(H.bindings[Q]||[]).filter(function(le){return z.match(D,le)});if(ce.length!==0){var ne=H.quill.getSelection();if(ne!=null&&H.quill.hasFocus()){var me=H.quill.getLine(ne.index),de=w(me,2),ie=de[0],re=de[1],ge=H.quill.getLeaf(ne.index),we=w(ge,2),Ce=we[0],je=we[1],V=ne.length===0?[Ce,je]:H.quill.getLeaf(ne.index+ne.length),ye=w(V,2),K=ye[0],k=ye[1],I=Ce instanceof t.default.Text?Ce.value().slice(0,je):"",N=K instanceof t.default.Text?K.value().slice(k):"",oe={collapsed:ne.length===0,empty:ne.length===0&&ie.length()<=1,format:H.quill.getFormat(ne),offset:re,prefix:I,suffix:N};ce.some(function(le){if(le.collapsed!=null&&le.collapsed!==oe.collapsed||le.empty!=null&&le.empty!==oe.empty||le.offset!=null&&le.offset!==oe.offset)return!1;if(Array.isArray(le.format)){if(le.format.every(function($){return oe.format[$]==null}))return!1}else if(f(le.format)==="object"&&!Object.keys(le.format).every(function($){return le.format[$]===!0?oe.format[$]!=null:le.format[$]===!1?oe.format[$]==null:(0,i.default)(le.format[$],oe.format[$])}))return!1;return!(le.prefix!=null&&!le.prefix.test(oe.prefix)||le.suffix!=null&&!le.suffix.test(oe.suffix)||le.handler.call(H,ne,oe)===!0)})&&D.preventDefault()}}}})}}]),z}(_.default);function M(Y,z){var G,H=Y===P.keys.LEFT?"prefix":"suffix";return A(G={key:Y,shiftKey:z,altKey:null},H,/^$/),A(G,"handler",function(D){var Q=D.index;Y===P.keys.RIGHT&&(Q+=D.length+1);var ce=this.quill.getLeaf(Q);return!(w(ce,1)[0]instanceof t.default.Embed&&(Y===P.keys.LEFT?z?this.quill.setSelection(D.index-1,D.length+1,u.default.sources.USER):this.quill.setSelection(D.index-1,u.default.sources.USER):z?this.quill.setSelection(D.index,D.length+1,u.default.sources.USER):this.quill.setSelection(D.index+D.length+1,u.default.sources.USER),1))}),G}function q(Y,z){if(!(Y.index===0||this.quill.getLength()<=1)){var G=this.quill.getLine(Y.index),H=w(G,1)[0],D={};if(z.offset===0){var Q=this.quill.getLine(Y.index-1),ce=w(Q,1)[0];if(ce!=null&&ce.length()>1){var ne=H.formats(),me=this.quill.getFormat(Y.index-1,1);D=n.default.attributes.diff(ne,me)||{}}}var de=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(z.prefix)?2:1;this.quill.deleteText(Y.index-de,de,u.default.sources.USER),Object.keys(D).length>0&&this.quill.formatLine(Y.index-de,de,D,u.default.sources.USER),this.quill.focus()}}function F(Y,z){var G=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(z.suffix)?2:1;if(!(Y.index>=this.quill.getLength()-G)){var H={},D=0,Q=this.quill.getLine(Y.index),ce=w(Q,1)[0];if(z.offset>=ce.length()-1){var ne=this.quill.getLine(Y.index+1),me=w(ne,1)[0];if(me){var de=ce.formats(),ie=this.quill.getFormat(Y.index,1);H=n.default.attributes.diff(de,ie)||{},D=me.length()}}this.quill.deleteText(Y.index,G,u.default.sources.USER),Object.keys(H).length>0&&this.quill.formatLine(Y.index+D-1,G,H,u.default.sources.USER)}}function Z(Y){var z=this.quill.getLines(Y),G={};if(z.length>1){var H=z[0].formats(),D=z[z.length-1].formats();G=n.default.attributes.diff(D,H)||{}}this.quill.deleteText(Y,u.default.sources.USER),Object.keys(G).length>0&&this.quill.formatLine(Y.index,1,G,u.default.sources.USER),this.quill.setSelection(Y.index,u.default.sources.SILENT),this.quill.focus()}function B(Y,z){var G=this;Y.length>0&&this.quill.scroll.deleteAt(Y.index,Y.length);var H=Object.keys(z.format).reduce(function(D,Q){return t.default.query(Q,t.default.Scope.BLOCK)&&!Array.isArray(z.format[Q])&&(D[Q]=z.format[Q]),D},{});this.quill.insertText(Y.index,`
`,H,u.default.sources.USER),this.quill.setSelection(Y.index+1,u.default.sources.SILENT),this.quill.focus(),Object.keys(z.format).forEach(function(D){H[D]==null&&(Array.isArray(z.format[D])||D!=="link"&&G.quill.format(D,z.format[D],u.default.sources.USER))})}function X(Y){return{key:P.keys.TAB,shiftKey:!Y,format:{"code-block":!0},handler:function(G){var H=t.default.query("code-block"),D=G.index,Q=G.length,ce=this.quill.scroll.descendant(H,D),ne=w(ce,2),me=ne[0],de=ne[1];if(me!=null){var ie=this.quill.getIndex(me),re=me.newlineIndex(de,!0)+1,ge=me.newlineIndex(ie+de+Q),we=me.domNode.textContent.slice(re,ge).split(`
`);de=0,we.forEach(function(Ce,je){Y?(me.insertAt(re+de,H.TAB),de+=H.TAB.length,je===0?D+=H.TAB.length:Q+=H.TAB.length):Ce.startsWith(H.TAB)&&(me.deleteAt(re+de,H.TAB.length),de-=H.TAB.length,je===0?D-=H.TAB.length:Q-=H.TAB.length),de+=Ce.length+1}),this.quill.update(u.default.sources.USER),this.quill.setSelection(D,Q,u.default.sources.SILENT)}}}}function te(Y){return{key:Y[0].toUpperCase(),shortKey:!0,handler:function(G,H){this.quill.format(Y,!H.format[Y],u.default.sources.USER)}}}function W(Y){if(typeof Y=="string"||typeof Y=="number")return W({key:Y});if((Y===void 0?"undefined":f(Y))==="object"&&(Y=(0,o.default)(Y,!1)),typeof Y.key=="string")if(P.keys[Y.key.toUpperCase()]!=null)Y.key=P.keys[Y.key.toUpperCase()];else{if(Y.key.length!==1)return null;Y.key=Y.key.toUpperCase().charCodeAt(0)}return Y.shortKey&&(Y[L]=Y.shortKey,delete Y.shortKey),Y}P.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},P.DEFAULTS={bindings:{bold:te("bold"),italic:te("italic"),underline:te("underline"),indent:{key:P.keys.TAB,format:["blockquote","indent","list"],handler:function(z,G){if(G.collapsed&&G.offset!==0)return!0;this.quill.format("indent","+1",u.default.sources.USER)}},outdent:{key:P.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(z,G){if(G.collapsed&&G.offset!==0)return!0;this.quill.format("indent","-1",u.default.sources.USER)}},"outdent backspace":{key:P.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(z,G){G.format.indent!=null?this.quill.format("indent","-1",u.default.sources.USER):G.format.list!=null&&this.quill.format("list",!1,u.default.sources.USER)}},"indent code-block":X(!0),"outdent code-block":X(!1),"remove tab":{key:P.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(z){this.quill.deleteText(z.index-1,1,u.default.sources.USER)}},tab:{key:P.keys.TAB,handler:function(z){this.quill.history.cutoff();var G=new r.default().retain(z.index).delete(z.length).insert("	");this.quill.updateContents(G,u.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index+1,u.default.sources.SILENT)}},"list empty enter":{key:P.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(z,G){this.quill.format("list",!1,u.default.sources.USER),G.format.indent&&this.quill.format("indent",!1,u.default.sources.USER)}},"checklist enter":{key:P.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(z){var G=this.quill.getLine(z.index),H=w(G,2),D=H[0],Q=H[1],ce=(0,e.default)({},D.formats(),{list:"checked"}),ne=new r.default().retain(z.index).insert(`
`,ce).retain(D.length()-Q-1).retain(1,{list:"unchecked"});this.quill.updateContents(ne,u.default.sources.USER),this.quill.setSelection(z.index+1,u.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:P.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(z,G){var H=this.quill.getLine(z.index),D=w(H,2),Q=D[0],ce=D[1],ne=new r.default().retain(z.index).insert(`
`,G.format).retain(Q.length()-ce-1).retain(1,{header:null});this.quill.updateContents(ne,u.default.sources.USER),this.quill.setSelection(z.index+1,u.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(z,G){var H=G.prefix.length,D=this.quill.getLine(z.index),Q=w(D,2),ce=Q[0],ne=Q[1];if(ne>H)return!0;var me=void 0;switch(G.prefix.trim()){case"[]":case"[ ]":me="unchecked";break;case"[x]":me="checked";break;case"-":case"*":me="bullet";break;default:me="ordered"}this.quill.insertText(z.index," ",u.default.sources.USER),this.quill.history.cutoff();var de=new r.default().retain(z.index-ne).delete(H+1).retain(ce.length()-2-ne).retain(1,{list:me});this.quill.updateContents(de,u.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(z.index-H,u.default.sources.SILENT)}},"code exit":{key:P.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(z){var G=this.quill.getLine(z.index),H=w(G,2),D=H[0],Q=H[1],ce=new r.default().retain(z.index+D.length()-Q-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ce,u.default.sources.USER)}},"embed left":M(P.keys.LEFT,!1),"embed left shift":M(P.keys.LEFT,!0),"embed right":M(P.keys.RIGHT,!1),"embed right shift":M(P.keys.RIGHT,!0)}},h.default=P,h.SHORTKEY=L},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function r(n,t,u){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,t);if(d===void 0){var _=Object.getPrototypeOf(n);return _===null?void 0:r(_,t,u)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(u):void 0},w=function(){function r(n,t){for(var u=0;u<t.length;u++){var d=t[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,t,u){return t&&r(n.prototype,t),u&&r(n,u),n}}(),m=i(p(0)),o=i(p(7));function i(r){return r&&r.__esModule?r:{default:r}}var e=function(r){function n(t,u){(function(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")})(this,n);var d=function(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?_:E}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t));return d.selection=u,d.textNode=document.createTextNode(n.CONTENTS),d.domNode.appendChild(d.textNode),d._length=0,d}return function(t,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);t.prototype=Object.create(u&&u.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(t,u):t.__proto__=u)}(n,r),w(n,null,[{key:"value",value:function(){}}]),w(n,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(u,d){if(this._length!==0)return f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"format",this).call(this,u,d);for(var _=this,E=0;_!=null&&_.statics.scope!==m.default.Scope.BLOCK_BLOT;)E+=_.offset(_.parent),_=_.parent;_!=null&&(this._length=n.CONTENTS.length,_.optimize(),_.formatAt(E,n.CONTENTS.length,u,d),this._length=0)}},{key:"index",value:function(u,d){return u===this.textNode?0:f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"index",this).call(this,u,d)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&this.parent!=null){var u=this.textNode,d=this.selection.getNativeRange(),_=void 0,E=void 0,A=void 0;if(d!=null&&d.start.node===u&&d.end.node===u){var S=[u,d.start.offset,d.end.offset];_=S[0],E=S[1],A=S[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==n.CONTENTS){var L=this.textNode.data.split(n.CONTENTS).join("");this.next instanceof o.default?(_=this.next.domNode,this.next.insertAt(0,L),this.textNode.data=n.CONTENTS):(this.textNode.data=L,this.parent.insertBefore(m.default.create(this.textNode),this),this.textNode=document.createTextNode(n.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),E!=null){var P=function(M,q){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return function(F,Z){var B=[],X=!0,te=!1,W=void 0;try{for(var Y,z=F[Symbol.iterator]();!(X=(Y=z.next()).done)&&(B.push(Y.value),!Z||B.length!==Z);X=!0);}catch(G){te=!0,W=G}finally{try{!X&&z.return&&z.return()}finally{if(te)throw W}}return B}(M,q);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([E,A].map(function(M){return Math.max(0,Math.min(_.data.length,M-1))}),2);return E=P[0],A=P[1],{startNode:_,startOffset:E,endNode:_,endOffset:A}}}}},{key:"update",value:function(u,d){var _=this;if(u.some(function(A){return A.type==="characterData"&&A.target===_.textNode})){var E=this.restore();E&&(d.range=E)}}},{key:"value",value:function(){return""}}]),n}(m.default.Embed);e.blotName="cursor",e.className="ql-cursor",e.tagName="span",e.CONTENTS="\uFEFF",h.default=e},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=o(p(0)),w=p(4),m=o(w);function o(n){return n&&n.__esModule?n:{default:n}}function i(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function e(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?n:t}var r=function(n){function t(){return i(this,t),e(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}(t,n),t}(f.default.Container);r.allowedChildren=[m.default,w.BlockEmbed,r],h.default=r},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ColorStyle=h.ColorClass=h.ColorAttributor=void 0;var f,w=function(){function u(d,_){for(var E=0;E<_.length;E++){var A=_[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(d,A.key,A)}}return function(d,_,E){return _&&u(d.prototype,_),E&&u(d,E),d}}(),m=function u(d,_,E){d===null&&(d=Function.prototype);var A=Object.getOwnPropertyDescriptor(d,_);if(A===void 0){var S=Object.getPrototypeOf(d);return S===null?void 0:u(S,_,E)}if("value"in A)return A.value;var L=A.get;return L!==void 0?L.call(E):void 0},o=(f=p(0))&&f.__esModule?f:{default:f};function i(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function e(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?u:d}var r=function(u){function d(){return i(this,d),e(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return function(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}(d,u),w(d,[{key:"value",value:function(E){var A=m(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"value",this).call(this,E);return A.startsWith("rgb(")?"#"+(A=A.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(S){return("00"+parseInt(S).toString(16)).slice(-2)}).join(""):A}}]),d}(o.default.Attributor.Style),n=new o.default.Attributor.Class("color","ql-color",{scope:o.default.Scope.INLINE}),t=new r("color","color",{scope:o.default.Scope.INLINE});h.ColorAttributor=r,h.ColorClass=n,h.ColorStyle=t},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.sanitize=h.default=void 0;var f,w=function(){function n(t,u){for(var d=0;d<u.length;d++){var _=u[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(t,_.key,_)}}return function(t,u,d){return u&&n(t.prototype,u),d&&n(t,d),t}}(),m=function n(t,u,d){t===null&&(t=Function.prototype);var _=Object.getOwnPropertyDescriptor(t,u);if(_===void 0){var E=Object.getPrototypeOf(t);return E===null?void 0:n(E,u,d)}if("value"in _)return _.value;var A=_.get;return A!==void 0?A.call(d):void 0};function o(n,t){if(!(n instanceof t))throw new TypeError("Cannot call a class as a function")}function i(n,t){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?n:t}var e=function(n){function t(){return o(this,t),i(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}(t,n),w(t,[{key:"format",value:function(d,_){if(d!==this.statics.blotName||!_)return m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"format",this).call(this,d,_);_=this.constructor.sanitize(_),this.domNode.setAttribute("href",_)}}],[{key:"create",value:function(d){var _=m(t.__proto__||Object.getPrototypeOf(t),"create",this).call(this,d);return d=this.sanitize(d),_.setAttribute("href",d),_.setAttribute("rel","noopener noreferrer"),_.setAttribute("target","_blank"),_}},{key:"formats",value:function(d){return d.getAttribute("href")}},{key:"sanitize",value:function(d){return r(d,this.PROTOCOL_WHITELIST)?d:this.SANITIZED_URL}}]),t}(((f=p(6))&&f.__esModule?f:{default:f}).default);function r(n,t){var u=document.createElement("a");u.href=n;var d=u.href.slice(0,u.href.indexOf(":"));return t.indexOf(d)>-1}e.blotName="link",e.tagName="A",e.SANITIZED_URL="about:blank",e.PROTOCOL_WHITELIST=["http","https","mailto","tel"],h.default=e,h.sanitize=r},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(t){return typeof t}:function(t){return t&&typeof Symbol=="function"&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},w=function(){function t(u,d){for(var _=0;_<d.length;_++){var E=d[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(u,E.key,E)}}return function(u,d,_){return d&&t(u.prototype,d),_&&t(u,_),u}}(),m=i(p(23)),o=i(p(107));function i(t){return t&&t.__esModule?t:{default:t}}var e=0;function r(t,u){t.setAttribute(u,t.getAttribute(u)!=="true")}var n=function(){function t(u){var d=this;(function(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")})(this,t),this.select=u,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){d.togglePicker()}),this.label.addEventListener("keydown",function(_){switch(_.keyCode){case m.default.keys.ENTER:d.togglePicker();break;case m.default.keys.ESCAPE:d.escape(),_.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return w(t,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),r(this.label,"aria-expanded"),r(this.options,"aria-hidden")}},{key:"buildItem",value:function(d){var _=this,E=document.createElement("span");return E.tabIndex="0",E.setAttribute("role","button"),E.classList.add("ql-picker-item"),d.hasAttribute("value")&&E.setAttribute("data-value",d.getAttribute("value")),d.textContent&&E.setAttribute("data-label",d.textContent),E.addEventListener("click",function(){_.selectItem(E,!0)}),E.addEventListener("keydown",function(A){switch(A.keyCode){case m.default.keys.ENTER:_.selectItem(E,!0),A.preventDefault();break;case m.default.keys.ESCAPE:_.escape(),A.preventDefault()}}),E}},{key:"buildLabel",value:function(){var d=document.createElement("span");return d.classList.add("ql-picker-label"),d.innerHTML=o.default,d.tabIndex="0",d.setAttribute("role","button"),d.setAttribute("aria-expanded","false"),this.container.appendChild(d),d}},{key:"buildOptions",value:function(){var d=this,_=document.createElement("span");_.classList.add("ql-picker-options"),_.setAttribute("aria-hidden","true"),_.tabIndex="-1",_.id="ql-picker-options-"+e,e+=1,this.label.setAttribute("aria-controls",_.id),this.options=_,[].slice.call(this.select.options).forEach(function(E){var A=d.buildItem(E);_.appendChild(A),E.selected===!0&&d.selectItem(A)}),this.container.appendChild(_)}},{key:"buildPicker",value:function(){var d=this;[].slice.call(this.select.attributes).forEach(function(_){d.container.setAttribute(_.name,_.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var d=this;this.close(),setTimeout(function(){return d.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(d){var _=arguments.length>1&&arguments[1]!==void 0&&arguments[1],E=this.container.querySelector(".ql-selected");if(d!==E&&(E!=null&&E.classList.remove("ql-selected"),d!=null&&(d.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(d.parentNode.children,d),d.hasAttribute("data-value")?this.label.setAttribute("data-value",d.getAttribute("data-value")):this.label.removeAttribute("data-value"),d.hasAttribute("data-label")?this.label.setAttribute("data-label",d.getAttribute("data-label")):this.label.removeAttribute("data-label"),_))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event=="undefined"?"undefined":f(Event))==="object"){var A=document.createEvent("Event");A.initEvent("change",!0,!0),this.select.dispatchEvent(A)}this.close()}}},{key:"update",value:function(){var d=void 0;if(this.select.selectedIndex>-1){var _=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];d=this.select.options[this.select.selectedIndex],this.selectItem(_)}else this.selectItem(null);var E=d!=null&&d!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",E)}}]),t}();h.default=n},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=S(p(0)),w=S(p(5)),m=p(4),o=S(m),i=S(p(16)),e=S(p(25)),r=S(p(24)),n=S(p(35)),t=S(p(6)),u=S(p(22)),d=S(p(7)),_=S(p(55)),E=S(p(42)),A=S(p(23));function S(L){return L&&L.__esModule?L:{default:L}}w.default.register({"blots/block":o.default,"blots/block/embed":m.BlockEmbed,"blots/break":i.default,"blots/container":e.default,"blots/cursor":r.default,"blots/embed":n.default,"blots/inline":t.default,"blots/scroll":u.default,"blots/text":d.default,"modules/clipboard":_.default,"modules/history":E.default,"modules/keyboard":A.default}),f.default.register(o.default,i.default,r.default,t.default,u.default,d.default),h.default=w.default},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=p(1),w=function(){function m(o){this.domNode=o,this.domNode[f.DATA_KEY]={blot:this}}return Object.defineProperty(m.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),m.create=function(o){if(this.tagName==null)throw new f.ParchmentError("Blot definition missing tagName");var i;return Array.isArray(this.tagName)?(typeof o=="string"&&(o=o.toUpperCase(),parseInt(o).toString()===o&&(o=parseInt(o))),i=typeof o=="number"?document.createElement(this.tagName[o-1]):this.tagName.indexOf(o)>-1?document.createElement(o):document.createElement(this.tagName[0])):i=document.createElement(this.tagName),this.className&&i.classList.add(this.className),i},m.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},m.prototype.clone=function(){var o=this.domNode.cloneNode(!1);return f.create(o)},m.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[f.DATA_KEY]},m.prototype.deleteAt=function(o,i){this.isolate(o,i).remove()},m.prototype.formatAt=function(o,i,e,r){var n=this.isolate(o,i);if(f.query(e,f.Scope.BLOT)!=null&&r)n.wrap(e,r);else if(f.query(e,f.Scope.ATTRIBUTE)!=null){var t=f.create(this.statics.scope);n.wrap(t),t.format(e,r)}},m.prototype.insertAt=function(o,i,e){var r=e==null?f.create("text",i):f.create(i,e),n=this.split(o);this.parent.insertBefore(r,n)},m.prototype.insertInto=function(o,i){i===void 0&&(i=null),this.parent!=null&&this.parent.children.remove(this);var e=null;o.children.insertBefore(this,i),i!=null&&(e=i.domNode),this.domNode.parentNode==o.domNode&&this.domNode.nextSibling==e||o.domNode.insertBefore(this.domNode,e),this.parent=o,this.attach()},m.prototype.isolate=function(o,i){var e=this.split(o);return e.split(i),e},m.prototype.length=function(){return 1},m.prototype.offset=function(o){return o===void 0&&(o=this.parent),this.parent==null||this==o?0:this.parent.children.offset(this)+this.parent.offset(o)},m.prototype.optimize=function(o){this.domNode[f.DATA_KEY]!=null&&delete this.domNode[f.DATA_KEY].mutations},m.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},m.prototype.replace=function(o){o.parent!=null&&(o.parent.insertBefore(this,o.next),o.remove())},m.prototype.replaceWith=function(o,i){var e=typeof o=="string"?f.create(o,i):o;return e.replace(this),e},m.prototype.split=function(o,i){return o===0?this:this.next},m.prototype.update=function(o,i){},m.prototype.wrap=function(o,i){var e=typeof o=="string"?f.create(o,i):o;return this.parent!=null&&this.parent.insertBefore(e,this.next),e.appendChild(this),e},m.blotName="abstract",m}();h.default=w},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=p(12),w=p(32),m=p(33),o=p(1),i=function(){function e(r){this.attributes={},this.domNode=r,this.build()}return e.prototype.attribute=function(r,n){n?r.add(this.domNode,n)&&(r.value(this.domNode)!=null?this.attributes[r.attrName]=r:delete this.attributes[r.attrName]):(r.remove(this.domNode),delete this.attributes[r.attrName])},e.prototype.build=function(){var r=this;this.attributes={};var n=f.default.keys(this.domNode),t=w.default.keys(this.domNode),u=m.default.keys(this.domNode);n.concat(t).concat(u).forEach(function(d){var _=o.query(d,o.Scope.ATTRIBUTE);_ instanceof f.default&&(r.attributes[_.attrName]=_)})},e.prototype.copy=function(r){var n=this;Object.keys(this.attributes).forEach(function(t){var u=n.attributes[t].value(n.domNode);r.format(t,u)})},e.prototype.move=function(r){var n=this;this.copy(r),Object.keys(this.attributes).forEach(function(t){n.attributes[t].remove(n.domNode)}),this.attributes={}},e.prototype.values=function(){var r=this;return Object.keys(this.attributes).reduce(function(n,t){return n[t]=r.attributes[t].value(r.domNode),n},{})},e}();h.default=i},function(b,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r])},function(i,e){function r(){this.constructor=i}f(i,e),i.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)});function m(i,e){return(i.getAttribute("class")||"").split(/\s+/).filter(function(r){return r.indexOf(e+"-")===0})}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return w(e,i),e.keys=function(r){return(r.getAttribute("class")||"").split(/\s+/).map(function(n){return n.split("-").slice(0,-1).join("-")})},e.prototype.add=function(r,n){return!!this.canAdd(r,n)&&(this.remove(r),r.classList.add(this.keyName+"-"+n),!0)},e.prototype.remove=function(r){m(r,this.keyName).forEach(function(n){r.classList.remove(n)}),r.classList.length===0&&r.removeAttribute("class")},e.prototype.value=function(r){var n=(m(r,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(r,n)?n:""},e}(p(12).default);h.default=o},function(b,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r])},function(i,e){function r(){this.constructor=i}f(i,e),i.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)});function m(i){var e=i.split("-"),r=e.slice(1).map(function(n){return n[0].toUpperCase()+n.slice(1)}).join("");return e[0]+r}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return w(e,i),e.keys=function(r){return(r.getAttribute("style")||"").split(";").map(function(n){return n.split(":")[0].trim()})},e.prototype.add=function(r,n){return!!this.canAdd(r,n)&&(r.style[m(this.keyName)]=n,!0)},e.prototype.remove=function(r){r.style[m(this.keyName)]="",r.getAttribute("style")||r.removeAttribute("style")},e.prototype.value=function(r){var n=r.style[m(this.keyName)];return this.canAdd(r,n)?n:""},e}(p(12).default);h.default=o},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),w=function(){function m(o,i){(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,m),this.quill=o,this.options=i,this.modules={}}return f(m,[{key:"init",value:function(){var i=this;Object.keys(this.options.modules).forEach(function(e){i.modules[e]==null&&i.addModule(e)})}},{key:"addModule",value:function(i){var e=this.quill.constructor.import("modules/"+i);return this.modules[i]=new e(this.quill,this.options.modules[i]||{}),this.modules[i]}}]),m}();w.DEFAULTS={modules:{}},w.themes={default:w},h.default=w},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function n(t,u){for(var d=0;d<u.length;d++){var _=u[d];_.enumerable=_.enumerable||!1,_.configurable=!0,"value"in _&&(_.writable=!0),Object.defineProperty(t,_.key,_)}}return function(t,u,d){return u&&n(t.prototype,u),d&&n(t,d),t}}(),w=function n(t,u,d){t===null&&(t=Function.prototype);var _=Object.getOwnPropertyDescriptor(t,u);if(_===void 0){var E=Object.getPrototypeOf(t);return E===null?void 0:n(E,u,d)}if("value"in _)return _.value;var A=_.get;return A!==void 0?A.call(d):void 0},m=i(p(0)),o=i(p(7));function i(n){return n&&n.__esModule?n:{default:n}}var e="\uFEFF",r=function(n){function t(u){(function(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")})(this,t);var d=function(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?_:E}(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u));return d.contentNode=document.createElement("span"),d.contentNode.setAttribute("contenteditable",!1),[].slice.call(d.domNode.childNodes).forEach(function(_){d.contentNode.appendChild(_)}),d.leftGuard=document.createTextNode(e),d.rightGuard=document.createTextNode(e),d.domNode.appendChild(d.leftGuard),d.domNode.appendChild(d.contentNode),d.domNode.appendChild(d.rightGuard),d}return function(u,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);u.prototype=Object.create(d&&d.prototype,{constructor:{value:u,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(u,d):u.__proto__=d)}(t,n),f(t,[{key:"index",value:function(d,_){return d===this.leftGuard?0:d===this.rightGuard?1:w(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"index",this).call(this,d,_)}},{key:"restore",value:function(d){var _=void 0,E=void 0,A=d.data.split(e).join("");if(d===this.leftGuard)if(this.prev instanceof o.default){var S=this.prev.length();this.prev.insertAt(S,A),_={startNode:this.prev.domNode,startOffset:S+A.length}}else E=document.createTextNode(A),this.parent.insertBefore(m.default.create(E),this),_={startNode:E,startOffset:A.length};else d===this.rightGuard&&(this.next instanceof o.default?(this.next.insertAt(0,A),_={startNode:this.next.domNode,startOffset:A.length}):(E=document.createTextNode(A),this.parent.insertBefore(m.default.create(E),this.next),_={startNode:E,startOffset:A.length}));return d.data=e,_}},{key:"update",value:function(d,_){var E=this;d.forEach(function(A){if(A.type==="characterData"&&(A.target===E.leftGuard||A.target===E.rightGuard)){var S=E.restore(A.target);S&&(_.range=S)}})}}]),t}(m.default.Embed);h.default=r},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AlignStyle=h.AlignClass=h.AlignAttribute=void 0;var f,w=(f=p(0))&&f.__esModule?f:{default:f},m={scope:w.default.Scope.BLOCK,whitelist:["right","center","justify"]},o=new w.default.Attributor.Attribute("align","align",m),i=new w.default.Attributor.Class("align","ql-align",m),e=new w.default.Attributor.Style("align","text-align",m);h.AlignAttribute=o,h.AlignClass=i,h.AlignStyle=e},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.BackgroundStyle=h.BackgroundClass=void 0;var f,w=(f=p(0))&&f.__esModule?f:{default:f},m=p(26),o=new w.default.Attributor.Class("background","ql-bg",{scope:w.default.Scope.INLINE}),i=new m.ColorAttributor("background","background-color",{scope:w.default.Scope.INLINE});h.BackgroundClass=o,h.BackgroundStyle=i},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.DirectionStyle=h.DirectionClass=h.DirectionAttribute=void 0;var f,w=(f=p(0))&&f.__esModule?f:{default:f},m={scope:w.default.Scope.BLOCK,whitelist:["rtl"]},o=new w.default.Attributor.Attribute("direction","dir",m),i=new w.default.Attributor.Class("direction","ql-direction",m),e=new w.default.Attributor.Style("direction","direction",m);h.DirectionAttribute=o,h.DirectionClass=i,h.DirectionStyle=e},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FontClass=h.FontStyle=void 0;var f,w=function(){function d(_,E){for(var A=0;A<E.length;A++){var S=E[A];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(_,S.key,S)}}return function(_,E,A){return E&&d(_.prototype,E),A&&d(_,A),_}}(),m=function d(_,E,A){_===null&&(_=Function.prototype);var S=Object.getOwnPropertyDescriptor(_,E);if(S===void 0){var L=Object.getPrototypeOf(_);return L===null?void 0:d(L,E,A)}if("value"in S)return S.value;var P=S.get;return P!==void 0?P.call(A):void 0},o=(f=p(0))&&f.__esModule?f:{default:f};function i(d,_){if(!(d instanceof _))throw new TypeError("Cannot call a class as a function")}function e(d,_){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!_||typeof _!="object"&&typeof _!="function"?d:_}var r={scope:o.default.Scope.INLINE,whitelist:["serif","monospace"]},n=new o.default.Attributor.Class("font","ql-font",r),t=function(d){function _(){return i(this,_),e(this,(_.__proto__||Object.getPrototypeOf(_)).apply(this,arguments))}return function(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(E,A):E.__proto__=A)}(_,d),w(_,[{key:"value",value:function(A){return m(_.prototype.__proto__||Object.getPrototypeOf(_.prototype),"value",this).call(this,A).replace(/["']/g,"")}}]),_}(o.default.Attributor.Style),u=new t("font","font-family",r);h.FontStyle=u,h.FontClass=n},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SizeStyle=h.SizeClass=void 0;var f,w=(f=p(0))&&f.__esModule?f:{default:f},m=new w.default.Attributor.Class("size","ql-size",{scope:w.default.Scope.INLINE,whitelist:["small","large","huge"]}),o=new w.default.Attributor.Style("size","font-size",{scope:w.default.Scope.INLINE,whitelist:["10px","18px","32px"]});h.SizeClass=m,h.SizeStyle=o},function(b,h,p){"use strict";b.exports={align:{"":p(76),center:p(77),right:p(78),justify:p(79)},background:p(80),blockquote:p(81),bold:p(82),clean:p(83),code:p(58),"code-block":p(58),color:p(84),direction:{"":p(85),rtl:p(86)},float:{center:p(87),full:p(88),left:p(89),right:p(90)},formula:p(91),header:{1:p(92),2:p(93)},italic:p(94),image:p(95),indent:{"+1":p(96),"-1":p(97)},link:p(98),list:{ordered:p(99),bullet:p(100),check:p(101)},script:{sub:p(102),super:p(103)},strike:p(104),underline:p(105),video:p(106)}},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.getLastChangeIndex=h.default=void 0;var f=function(){function r(n,t){for(var u=0;u<t.length;u++){var d=t[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,t,u){return t&&r(n.prototype,t),u&&r(n,u),n}}(),w=o(p(0)),m=o(p(5));function o(r){return r&&r.__esModule?r:{default:r}}var i=function(r){function n(t,u){(function(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")})(this,n);var d=function(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?_:E}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,t,u));return d.lastRecorded=0,d.ignoreChange=!1,d.clear(),d.quill.on(m.default.events.EDITOR_CHANGE,function(_,E,A,S){_!==m.default.events.TEXT_CHANGE||d.ignoreChange||(d.options.userOnly&&S!==m.default.sources.USER?d.transform(E):d.record(E,A))}),d.quill.keyboard.addBinding({key:"Z",shortKey:!0},d.undo.bind(d)),d.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},d.redo.bind(d)),/Win/i.test(navigator.platform)&&d.quill.keyboard.addBinding({key:"Y",shortKey:!0},d.redo.bind(d)),d}return function(t,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);t.prototype=Object.create(u&&u.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(t,u):t.__proto__=u)}(n,r),f(n,[{key:"change",value:function(u,d){if(this.stack[u].length!==0){var _=this.stack[u].pop();this.stack[d].push(_),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(_[u],m.default.sources.USER),this.ignoreChange=!1;var E=e(_[u]);this.quill.setSelection(E)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(u,d){if(u.ops.length!==0){this.stack.redo=[];var _=this.quill.getContents().diff(d),E=Date.now();if(this.lastRecorded+this.options.delay>E&&this.stack.undo.length>0){var A=this.stack.undo.pop();_=_.compose(A.undo),u=A.redo.compose(u)}else this.lastRecorded=E;this.stack.undo.push({redo:u,undo:_}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(u){this.stack.undo.forEach(function(d){d.undo=u.transform(d.undo,!0),d.redo=u.transform(d.redo,!0)}),this.stack.redo.forEach(function(d){d.undo=u.transform(d.undo,!0),d.redo=u.transform(d.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),n}(o(p(9)).default);function e(r){var n=r.reduce(function(u,d){return u+(d.delete||0)},0),t=r.length()-n;return function(u){var d=u.ops[u.ops.length-1];return d!=null&&(d.insert!=null?typeof d.insert=="string"&&d.insert.endsWith(`
`):d.attributes!=null&&Object.keys(d.attributes).some(function(_){return w.default.query(_,w.default.Scope.BLOCK)!=null}))}(r)&&(t-=1),t}i.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},h.default=i,h.getLastChangeIndex=e},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.BaseTooltip=void 0;var f=function(){function te(W,Y){for(var z=0;z<Y.length;z++){var G=Y[z];G.enumerable=G.enumerable||!1,G.configurable=!0,"value"in G&&(G.writable=!0),Object.defineProperty(W,G.key,G)}}return function(W,Y,z){return Y&&te(W.prototype,Y),z&&te(W,z),W}}(),w=function te(W,Y,z){W===null&&(W=Function.prototype);var G=Object.getOwnPropertyDescriptor(W,Y);if(G===void 0){var H=Object.getPrototypeOf(W);return H===null?void 0:te(H,Y,z)}if("value"in G)return G.value;var D=G.get;return D!==void 0?D.call(z):void 0},m=_(p(3)),o=_(p(2)),i=_(p(8)),e=_(p(23)),r=_(p(34)),n=_(p(59)),t=_(p(60)),u=_(p(28)),d=_(p(61));function _(te){return te&&te.__esModule?te:{default:te}}function E(te,W){if(!(te instanceof W))throw new TypeError("Cannot call a class as a function")}function A(te,W){if(!te)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!W||typeof W!="object"&&typeof W!="function"?te:W}function S(te,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);te.prototype=Object.create(W&&W.prototype,{constructor:{value:te,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(te,W):te.__proto__=W)}var L=[!1,"center","right","justify"],P=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],M=[!1,"serif","monospace"],q=["1","2","3",!1],F=["small",!1,"large","huge"],Z=function(te){function W(Y,z){E(this,W);var G=A(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,Y,z));return Y.emitter.listenDOM("click",document.body,function H(D){if(!document.body.contains(Y.root))return document.body.removeEventListener("click",H);G.tooltip==null||G.tooltip.root.contains(D.target)||document.activeElement===G.tooltip.textbox||G.quill.hasFocus()||G.tooltip.hide(),G.pickers!=null&&G.pickers.forEach(function(Q){Q.container.contains(D.target)||Q.close()})}),G}return S(W,te),f(W,[{key:"addModule",value:function(z){var G=w(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"addModule",this).call(this,z);return z==="toolbar"&&this.extendToolbar(G),G}},{key:"buildButtons",value:function(z,G){z.forEach(function(H){(H.getAttribute("class")||"").split(/\s+/).forEach(function(D){if(D.startsWith("ql-")&&(D=D.slice("ql-".length),G[D]!=null))if(D==="direction")H.innerHTML=G[D][""]+G[D].rtl;else if(typeof G[D]=="string")H.innerHTML=G[D];else{var Q=H.value||"";Q!=null&&G[D][Q]&&(H.innerHTML=G[D][Q])}})})}},{key:"buildPickers",value:function(z,G){var H=this;this.pickers=z.map(function(D){if(D.classList.contains("ql-align"))return D.querySelector("option")==null&&X(D,L),new t.default(D,G.align);if(D.classList.contains("ql-background")||D.classList.contains("ql-color")){var Q=D.classList.contains("ql-background")?"background":"color";return D.querySelector("option")==null&&X(D,P,Q==="background"?"#ffffff":"#000000"),new n.default(D,G[Q])}return D.querySelector("option")==null&&(D.classList.contains("ql-font")?X(D,M):D.classList.contains("ql-header")?X(D,q):D.classList.contains("ql-size")&&X(D,F)),new u.default(D)}),this.quill.on(i.default.events.EDITOR_CHANGE,function(){H.pickers.forEach(function(D){D.update()})})}}]),W}(r.default);Z.DEFAULTS=(0,m.default)(!0,{},r.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var W=this,Y=this.container.querySelector("input.ql-image[type=file]");Y==null&&((Y=document.createElement("input")).setAttribute("type","file"),Y.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),Y.classList.add("ql-image"),Y.addEventListener("change",function(){if(Y.files!=null&&Y.files[0]!=null){var z=new FileReader;z.onload=function(G){var H=W.quill.getSelection(!0);W.quill.updateContents(new o.default().retain(H.index).delete(H.length).insert({image:G.target.result}),i.default.sources.USER),W.quill.setSelection(H.index+1,i.default.sources.SILENT),Y.value=""},z.readAsDataURL(Y.files[0])}}),this.container.appendChild(Y)),Y.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=function(te){function W(Y,z){E(this,W);var G=A(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,Y,z));return G.textbox=G.root.querySelector('input[type="text"]'),G.listen(),G}return S(W,te),f(W,[{key:"listen",value:function(){var z=this;this.textbox.addEventListener("keydown",function(G){e.default.match(G,"enter")?(z.save(),G.preventDefault()):e.default.match(G,"escape")&&(z.cancel(),G.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",G=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),G!=null?this.textbox.value=G:z!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+z)||""),this.root.setAttribute("data-mode",z)}},{key:"restoreFocus",value:function(){var z=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=z}},{key:"save",value:function(){var z,G,H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var D=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,i.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,i.default.sources.USER)),this.quill.root.scrollTop=D;break;case"video":H=(G=(z=H).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||z.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(G[1]||"https")+"://www.youtube.com/embed/"+G[2]+"?showinfo=0":(G=z.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(G[1]||"https")+"://player.vimeo.com/video/"+G[2]+"/":z;case"formula":if(!H)break;var Q=this.quill.getSelection(!0);if(Q!=null){var ce=Q.index+Q.length;this.quill.insertEmbed(ce,this.root.getAttribute("data-mode"),H,i.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ce+1," ",i.default.sources.USER),this.quill.setSelection(ce+2,i.default.sources.USER)}}this.textbox.value="",this.hide()}}]),W}(d.default);function X(te,W){var Y=arguments.length>2&&arguments[2]!==void 0&&arguments[2];W.forEach(function(z){var G=document.createElement("option");z===Y?G.setAttribute("selected","selected"):G.setAttribute("value",z),te.appendChild(G)})}h.BaseTooltip=B,h.default=Z},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function w(){this.head=this.tail=null,this.length=0}return w.prototype.append=function(){for(var m=[],o=0;o<arguments.length;o++)m[o]=arguments[o];this.insertBefore(m[0],null),m.length>1&&this.append.apply(this,m.slice(1))},w.prototype.contains=function(m){for(var o,i=this.iterator();o=i();)if(o===m)return!0;return!1},w.prototype.insertBefore=function(m,o){m&&(m.next=o,o!=null?(m.prev=o.prev,o.prev!=null&&(o.prev.next=m),o.prev=m,o===this.head&&(this.head=m)):this.tail!=null?(this.tail.next=m,m.prev=this.tail,this.tail=m):(m.prev=null,this.head=this.tail=m),this.length+=1)},w.prototype.offset=function(m){for(var o=0,i=this.head;i!=null;){if(i===m)return o;o+=i.length(),i=i.next}return-1},w.prototype.remove=function(m){this.contains(m)&&(m.prev!=null&&(m.prev.next=m.next),m.next!=null&&(m.next.prev=m.prev),m===this.head&&(this.head=m.next),m===this.tail&&(this.tail=m.prev),this.length-=1)},w.prototype.iterator=function(m){return m===void 0&&(m=this.head),function(){var o=m;return m!=null&&(m=m.next),o}},w.prototype.find=function(m,o){o===void 0&&(o=!1);for(var i,e=this.iterator();i=e();){var r=i.length();if(m<r||o&&m===r&&(i.next==null||i.next.length()!==0))return[i,m];m-=r}return[null,0]},w.prototype.forEach=function(m){for(var o,i=this.iterator();o=i();)m(o)},w.prototype.forEachAt=function(m,o,i){if(!(o<=0))for(var e,r=this.find(m),n=r[0],t=m-r[1],u=this.iterator(n);(e=u())&&t<m+o;){var d=e.length();m>t?i(e,m-t,Math.min(o,t+d-m)):i(e,0,Math.min(d,m+o-t)),t+=d}},w.prototype.map=function(m){return this.reduce(function(o,i){return o.push(m(i)),o},[])},w.prototype.reduce=function(m,o){for(var i,e=this.iterator();i=e();)o=m(o,i);return o},w}();h.default=f},function(b,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var t in n)n.hasOwnProperty(t)&&(r[t]=n[t])},function(r,n){function t(){this.constructor=r}f(r,n),r.prototype=n===null?Object.create(n):(t.prototype=n.prototype,new t)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(17),o=p(1),i={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},e=function(r){function n(t){var u=r.call(this,t)||this;return u.scroll=u,u.observer=new MutationObserver(function(d){u.update(d)}),u.observer.observe(u.domNode,i),u.attach(),u}return w(n,r),n.prototype.detach=function(){r.prototype.detach.call(this),this.observer.disconnect()},n.prototype.deleteAt=function(t,u){this.update(),t===0&&u===this.length()?this.children.forEach(function(d){d.remove()}):r.prototype.deleteAt.call(this,t,u)},n.prototype.formatAt=function(t,u,d,_){this.update(),r.prototype.formatAt.call(this,t,u,d,_)},n.prototype.insertAt=function(t,u,d){this.update(),r.prototype.insertAt.call(this,t,u,d)},n.prototype.optimize=function(t,u){var d=this;t===void 0&&(t=[]),u===void 0&&(u={}),r.prototype.optimize.call(this,u);for(var _=[].slice.call(this.observer.takeRecords());_.length>0;)t.push(_.pop());for(var E=function P(M,q){q===void 0&&(q=!0),M!=null&&M!==d&&M.domNode.parentNode!=null&&(M.domNode[o.DATA_KEY].mutations==null&&(M.domNode[o.DATA_KEY].mutations=[]),q&&P(M.parent))},A=function P(M){M.domNode[o.DATA_KEY]!=null&&M.domNode[o.DATA_KEY].mutations!=null&&(M instanceof m.default&&M.children.forEach(P),M.optimize(u))},S=t,L=0;S.length>0;L+=1){if(L>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(S.forEach(function(P){var M=o.find(P.target,!0);M!=null&&(M.domNode===P.target&&(P.type==="childList"?(E(o.find(P.previousSibling,!1)),[].forEach.call(P.addedNodes,function(q){var F=o.find(q,!1);E(F,!1),F instanceof m.default&&F.children.forEach(function(Z){E(Z,!1)})})):P.type==="attributes"&&E(M.prev)),E(M))}),this.children.forEach(A),_=(S=[].slice.call(this.observer.takeRecords())).slice();_.length>0;)t.push(_.pop())}},n.prototype.update=function(t,u){var d=this;u===void 0&&(u={}),(t=t||this.observer.takeRecords()).map(function(_){var E=o.find(_.target,!0);return E==null?null:E.domNode[o.DATA_KEY].mutations==null?(E.domNode[o.DATA_KEY].mutations=[_],E):(E.domNode[o.DATA_KEY].mutations.push(_),null)}).forEach(function(_){_!=null&&_!==d&&_.domNode[o.DATA_KEY]!=null&&_.update(_.domNode[o.DATA_KEY].mutations||[],u)}),this.domNode[o.DATA_KEY].mutations!=null&&r.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,u),this.optimize(t,u)},n.blotName="scroll",n.defaultChild="block",n.scope=o.Scope.BLOCK_BLOT,n.tagName="DIV",n}(m.default);h.default=e},function(b,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])},function(e,r){function n(){this.constructor=e}f(e,r),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(18),o=p(1),i=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return w(r,e),r.formats=function(n){if(n.tagName!==r.tagName)return e.formats.call(this,n)},r.prototype.format=function(n,t){var u=this;n!==this.statics.blotName||t?e.prototype.format.call(this,n,t):(this.children.forEach(function(d){d instanceof m.default||(d=d.wrap(r.blotName,!0)),u.attributes.copy(d)}),this.unwrap())},r.prototype.formatAt=function(n,t,u,d){this.formats()[u]!=null||o.query(u,o.Scope.ATTRIBUTE)?this.isolate(n,t).format(u,d):e.prototype.formatAt.call(this,n,t,u,d)},r.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var t=this.formats();if(Object.keys(t).length===0)return this.unwrap();var u=this.next;u instanceof r&&u.prev===this&&function(d,_){if(Object.keys(d).length!==Object.keys(_).length)return!1;for(var E in d)if(d[E]!==_[E])return!1;return!0}(t,u.formats())&&(u.moveChildren(this),u.remove())},r.blotName="inline",r.scope=o.Scope.INLINE_BLOT,r.tagName="SPAN",r}(m.default);h.default=i},function(b,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])},function(e,r){function n(){this.constructor=e}f(e,r),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(18),o=p(1),i=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return w(r,e),r.formats=function(n){var t=o.query(r.blotName).tagName;if(n.tagName!==t)return e.formats.call(this,n)},r.prototype.format=function(n,t){o.query(n,o.Scope.BLOCK)!=null&&(n!==this.statics.blotName||t?e.prototype.format.call(this,n,t):this.replaceWith(r.blotName))},r.prototype.formatAt=function(n,t,u,d){o.query(u,o.Scope.BLOCK)!=null?this.format(u,d):e.prototype.formatAt.call(this,n,t,u,d)},r.prototype.insertAt=function(n,t,u){if(u==null||o.query(t,o.Scope.INLINE)!=null)e.prototype.insertAt.call(this,n,t,u);else{var d=this.split(n),_=o.create(t,u);d.parent.insertBefore(_,d)}},r.prototype.update=function(n,t){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,n,t)},r.blotName="block",r.scope=o.Scope.BLOCK_BLOT,r.tagName="P",r}(m.default);h.default=i},function(b,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var e in i)i.hasOwnProperty(e)&&(o[e]=i[e])},function(o,i){function e(){this.constructor=o}f(o,i),o.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)});Object.defineProperty(h,"__esModule",{value:!0});var m=function(o){function i(){return o!==null&&o.apply(this,arguments)||this}return w(i,o),i.formats=function(e){},i.prototype.format=function(e,r){o.prototype.formatAt.call(this,0,this.length(),e,r)},i.prototype.formatAt=function(e,r,n,t){e===0&&r===this.length()?this.format(n,t):o.prototype.formatAt.call(this,e,r,n,t)},i.prototype.formats=function(){return this.statics.formats(this.domNode)},i}(p(19).default);h.default=m},function(b,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])},function(e,r){function n(){this.constructor=e}f(e,r),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(19),o=p(1),i=function(e){function r(n){var t=e.call(this,n)||this;return t.text=t.statics.value(t.domNode),t}return w(r,e),r.create=function(n){return document.createTextNode(n)},r.value=function(n){var t=n.data;return t.normalize&&(t=t.normalize()),t},r.prototype.deleteAt=function(n,t){this.domNode.data=this.text=this.text.slice(0,n)+this.text.slice(n+t)},r.prototype.index=function(n,t){return this.domNode===n?t:-1},r.prototype.insertAt=function(n,t,u){u==null?(this.text=this.text.slice(0,n)+t+this.text.slice(n),this.domNode.data=this.text):e.prototype.insertAt.call(this,n,t,u)},r.prototype.length=function(){return this.text.length},r.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof r&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},r.prototype.position=function(n,t){return t===void 0&&(t=!1),[this.domNode,n]},r.prototype.split=function(n,t){if(t===void 0&&(t=!1),!t){if(n===0)return this;if(n===this.length())return this.next}var u=o.create(this.domNode.splitText(n));return this.parent.insertBefore(u,this.next),this.text=this.statics.value(this.domNode),u},r.prototype.update=function(n,t){var u=this;n.some(function(d){return d.type==="characterData"&&d.target===u.domNode})&&(this.text=this.statics.value(this.domNode))},r.prototype.value=function(){return this.text},r.blotName="text",r.scope=o.Scope.INLINE_BLOT,r}(m.default);h.default=i},function(b,h,p){"use strict";var f=document.createElement("div");if(f.classList.toggle("test-class",!1),f.classList.contains("test-class")){var w=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(m,o){return arguments.length>1&&!this.contains(m)==!o?o:w.call(this,m)}}String.prototype.startsWith||(String.prototype.startsWith=function(m,o){return o=o||0,this.substr(o,m.length)===m}),String.prototype.endsWith||(String.prototype.endsWith=function(m,o){var i=this.toString();(typeof o!="number"||!isFinite(o)||Math.floor(o)!==o||o>i.length)&&(o=i.length),o-=m.length;var e=i.indexOf(m,o);return e!==-1&&e===o}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(o){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof o!="function")throw new TypeError("predicate must be a function");for(var i,e=Object(this),r=e.length>>>0,n=arguments[1],t=0;t<r;t++)if(i=e[t],o.call(n,i,t,e))return i}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(b,h){var p=-1;function f(n,t,u){if(n==t)return n?[[0,n]]:[];(u<0||n.length<u)&&(u=null);var d=m(n,t),_=n.substring(0,d);d=o(n=n.substring(d),t=t.substring(d));var E=n.substring(n.length-d),A=function(S,L){var P;if(!S)return[[1,L]];if(!L)return[[p,S]];var M=S.length>L.length?S:L,q=S.length>L.length?L:S,F=M.indexOf(q);if(F!=-1)return P=[[1,M.substring(0,F)],[0,q],[1,M.substring(F+q.length)]],S.length>L.length&&(P[0][0]=P[2][0]=p),P;if(q.length==1)return[[p,S],[1,L]];var Z=function(H,D){var Q=H.length>D.length?H:D,ce=H.length>D.length?D:H;if(Q.length<4||2*ce.length<Q.length)return null;function ne(je,V,ye){for(var K,k,I,N,oe=je.substring(ye,ye+Math.floor(je.length/4)),le=-1,$="";(le=V.indexOf(oe,le+1))!=-1;){var xe=m(je.substring(ye),V.substring(le)),Le=o(je.substring(0,ye),V.substring(0,le));$.length<Le+xe&&($=V.substring(le-Le,le)+V.substring(le,le+xe),K=je.substring(0,ye-Le),k=je.substring(ye+xe),I=V.substring(0,le-Le),N=V.substring(le+xe))}return 2*$.length>=je.length?[K,k,I,N,$]:null}var me,de,ie,re,ge,we=ne(Q,ce,Math.ceil(Q.length/4)),Ce=ne(Q,ce,Math.ceil(Q.length/2));return we||Ce?(me=Ce?we&&we[4].length>Ce[4].length?we:Ce:we,H.length>D.length?(de=me[0],ie=me[1],re=me[2],ge=me[3]):(re=me[0],ge=me[1],de=me[2],ie=me[3]),[de,ie,re,ge,me[4]]):null}(S,L);if(Z){var B=Z[0],X=Z[1],te=Z[2],W=Z[3],Y=Z[4],z=f(B,te),G=f(X,W);return z.concat([[0,Y]],G)}return function(H,D){for(var Q=H.length,ce=D.length,ne=Math.ceil((Q+ce)/2),me=ne,de=2*ne,ie=new Array(de),re=new Array(de),ge=0;ge<de;ge++)ie[ge]=-1,re[ge]=-1;ie[me+1]=0,re[me+1]=0;for(var we=Q-ce,Ce=we%2!=0,je=0,V=0,ye=0,K=0,k=0;k<ne;k++){for(var I=-k+je;I<=k-V;I+=2){for(var N=me+I,oe=(Se=I==-k||I!=k&&ie[N-1]<ie[N+1]?ie[N+1]:ie[N-1]+1)-I;Se<Q&&oe<ce&&H.charAt(Se)==D.charAt(oe);)Se++,oe++;if(ie[N]=Se,Se>Q)V+=2;else if(oe>ce)je+=2;else if(Ce&&(xe=me+we-I)>=0&&xe<de&&re[xe]!=-1&&Se>=($=Q-re[xe]))return w(H,D,Se,oe)}for(var le=-k+ye;le<=k-K;le+=2){for(var $,xe=me+le,Le=($=le==-k||le!=k&&re[xe-1]<re[xe+1]?re[xe+1]:re[xe-1]+1)-le;$<Q&&Le<ce&&H.charAt(Q-$-1)==D.charAt(ce-Le-1);)$++,Le++;if(re[xe]=$,$>Q)K+=2;else if(Le>ce)ye+=2;else if(!Ce){var Se;if((N=me+we-le)>=0&&N<de&&ie[N]!=-1&&(oe=me+(Se=ie[N])-N,Se>=($=Q-$)))return w(H,D,Se,oe)}}}return[[p,H],[1,D]]}(S,L)}(n=n.substring(0,n.length-d),t=t.substring(0,t.length-d));return _&&A.unshift([0,_]),E&&A.push([0,E]),i(A),u!=null&&(A=function(S,L){var P=function(X,te){if(te===0)return[0,X];for(var W=0,Y=0;Y<X.length;Y++){var z=X[Y];if(z[0]===p||z[0]===0){var G=W+z[1].length;if(te===G)return[Y+1,X];if(te<G){X=X.slice();var H=te-W,D=[z[0],z[1].slice(0,H)],Q=[z[0],z[1].slice(H)];return X.splice(Y,1,D,Q),[Y+1,X]}W=G}}throw new Error("cursor_pos is out of bounds!")}(S,L),M=P[1],q=P[0],F=M[q],Z=M[q+1];if(F==null||F[0]!==0)return S;if(Z!=null&&F[1]+Z[1]===Z[1]+F[1])return M.splice(q,2,Z,F),r(M,q,2);if(Z!=null&&Z[1].indexOf(F[1])===0){M.splice(q,2,[Z[0],F[1]],[0,F[1]]);var B=Z[1].slice(F[1].length);return B.length>0&&M.splice(q+2,0,[Z[0],B]),r(M,q,3)}return S}(A,u)),function(S){for(var L=!1,P=function(B){return B.charCodeAt(0)>=56320&&B.charCodeAt(0)<=57343},M=2;M<S.length;M+=1)S[M-2][0]===0&&(q=S[M-2][1]).charCodeAt(q.length-1)>=55296&&q.charCodeAt(q.length-1)<=56319&&S[M-1][0]===p&&P(S[M-1][1])&&S[M][0]===1&&P(S[M][1])&&(L=!0,S[M-1][1]=S[M-2][1].slice(-1)+S[M-1][1],S[M][1]=S[M-2][1].slice(-1)+S[M][1],S[M-2][1]=S[M-2][1].slice(0,-1));var q;if(!L)return S;var F=[];for(M=0;M<S.length;M+=1)S[M][1].length>0&&F.push(S[M]);return F}(A)}function w(n,t,u,d){var _=n.substring(0,u),E=t.substring(0,d),A=n.substring(u),S=t.substring(d),L=f(_,E),P=f(A,S);return L.concat(P)}function m(n,t){if(!n||!t||n.charAt(0)!=t.charAt(0))return 0;for(var u=0,d=Math.min(n.length,t.length),_=d,E=0;u<_;)n.substring(E,_)==t.substring(E,_)?E=u=_:d=_,_=Math.floor((d-u)/2+u);return _}function o(n,t){if(!n||!t||n.charAt(n.length-1)!=t.charAt(t.length-1))return 0;for(var u=0,d=Math.min(n.length,t.length),_=d,E=0;u<_;)n.substring(n.length-_,n.length-E)==t.substring(t.length-_,t.length-E)?E=u=_:d=_,_=Math.floor((d-u)/2+u);return _}function i(n){n.push([0,""]);for(var t,u=0,d=0,_=0,E="",A="";u<n.length;)switch(n[u][0]){case 1:_++,A+=n[u][1],u++;break;case p:d++,E+=n[u][1],u++;break;case 0:d+_>1?(d!==0&&_!==0&&((t=m(A,E))!==0&&(u-d-_>0&&n[u-d-_-1][0]==0?n[u-d-_-1][1]+=A.substring(0,t):(n.splice(0,0,[0,A.substring(0,t)]),u++),A=A.substring(t),E=E.substring(t)),(t=o(A,E))!==0&&(n[u][1]=A.substring(A.length-t)+n[u][1],A=A.substring(0,A.length-t),E=E.substring(0,E.length-t))),d===0?n.splice(u-_,d+_,[1,A]):_===0?n.splice(u-d,d+_,[p,E]):n.splice(u-d-_,d+_,[p,E],[1,A]),u=u-d-_+(d?1:0)+(_?1:0)+1):u!==0&&n[u-1][0]==0?(n[u-1][1]+=n[u][1],n.splice(u,1)):u++,_=0,d=0,E="",A=""}n[n.length-1][1]===""&&n.pop();var S=!1;for(u=1;u<n.length-1;)n[u-1][0]==0&&n[u+1][0]==0&&(n[u][1].substring(n[u][1].length-n[u-1][1].length)==n[u-1][1]?(n[u][1]=n[u-1][1]+n[u][1].substring(0,n[u][1].length-n[u-1][1].length),n[u+1][1]=n[u-1][1]+n[u+1][1],n.splice(u-1,1),S=!0):n[u][1].substring(0,n[u+1][1].length)==n[u+1][1]&&(n[u-1][1]+=n[u+1][1],n[u][1]=n[u][1].substring(n[u+1][1].length)+n[u+1][1],n.splice(u+1,1),S=!0)),u++;S&&i(n)}var e=f;function r(n,t,u){for(var d=t+u-1;d>=0&&d>=t-1;d--)if(d+1<n.length){var _=n[d],E=n[d+1];_[0]===E[1]&&n.splice(d,2,[_[0],_[1]+E[1]])}return n}e.INSERT=1,e.DELETE=p,e.EQUAL=0,b.exports=e},function(b,h){function p(f){var w=[];for(var m in f)w.push(m);return w}(b.exports=typeof Object.keys=="function"?Object.keys:p).shim=p},function(b,h){var p=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function f(m){return Object.prototype.toString.call(m)=="[object Arguments]"}function w(m){return m&&typeof m=="object"&&typeof m.length=="number"&&Object.prototype.hasOwnProperty.call(m,"callee")&&!Object.prototype.propertyIsEnumerable.call(m,"callee")||!1}(h=b.exports=p?f:w).supported=f,h.unsupported=w},function(b,h){"use strict";var p=Object.prototype.hasOwnProperty,f="~";function w(){}function m(i,e,r){this.fn=i,this.context=e,this.once=r||!1}function o(){this._events=new w,this._eventsCount=0}Object.create&&(w.prototype=Object.create(null),new w().__proto__||(f=!1)),o.prototype.eventNames=function(){var i,e,r=[];if(this._eventsCount===0)return r;for(e in i=this._events)p.call(i,e)&&r.push(f?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(i)):r},o.prototype.listeners=function(i,e){var r=f?f+i:i,n=this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var t=0,u=n.length,d=new Array(u);t<u;t++)d[t]=n[t].fn;return d},o.prototype.emit=function(i,e,r,n,t,u){var d=f?f+i:i;if(!this._events[d])return!1;var _,E,A=this._events[d],S=arguments.length;if(A.fn){switch(A.once&&this.removeListener(i,A.fn,void 0,!0),S){case 1:return A.fn.call(A.context),!0;case 2:return A.fn.call(A.context,e),!0;case 3:return A.fn.call(A.context,e,r),!0;case 4:return A.fn.call(A.context,e,r,n),!0;case 5:return A.fn.call(A.context,e,r,n,t),!0;case 6:return A.fn.call(A.context,e,r,n,t,u),!0}for(E=1,_=new Array(S-1);E<S;E++)_[E-1]=arguments[E];A.fn.apply(A.context,_)}else{var L,P=A.length;for(E=0;E<P;E++)switch(A[E].once&&this.removeListener(i,A[E].fn,void 0,!0),S){case 1:A[E].fn.call(A[E].context);break;case 2:A[E].fn.call(A[E].context,e);break;case 3:A[E].fn.call(A[E].context,e,r);break;case 4:A[E].fn.call(A[E].context,e,r,n);break;default:if(!_)for(L=1,_=new Array(S-1);L<S;L++)_[L-1]=arguments[L];A[E].fn.apply(A[E].context,_)}}return!0},o.prototype.on=function(i,e,r){var n=new m(e,r||this),t=f?f+i:i;return this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],n]:this._events[t].push(n):(this._events[t]=n,this._eventsCount++),this},o.prototype.once=function(i,e,r){var n=new m(e,r||this,!0),t=f?f+i:i;return this._events[t]?this._events[t].fn?this._events[t]=[this._events[t],n]:this._events[t].push(n):(this._events[t]=n,this._eventsCount++),this},o.prototype.removeListener=function(i,e,r,n){var t=f?f+i:i;if(!this._events[t])return this;if(!e)return--this._eventsCount==0?this._events=new w:delete this._events[t],this;var u=this._events[t];if(u.fn)u.fn!==e||n&&!u.once||r&&u.context!==r||(--this._eventsCount==0?this._events=new w:delete this._events[t]);else{for(var d=0,_=[],E=u.length;d<E;d++)(u[d].fn!==e||n&&!u[d].once||r&&u[d].context!==r)&&_.push(u[d]);_.length?this._events[t]=_.length===1?_[0]:_:--this._eventsCount==0?this._events=new w:delete this._events[t]}return this},o.prototype.removeAllListeners=function(i){var e;return i?(e=f?f+i:i,this._events[e]&&(--this._eventsCount==0?this._events=new w:delete this._events[e])):(this._events=new w,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=f,o.EventEmitter=o,b!==void 0&&(b.exports=o)},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.matchText=h.matchSpacing=h.matchNewline=h.matchBlot=h.matchAttributor=h.default=void 0;var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ie){return typeof ie}:function(ie){return ie&&typeof Symbol=="function"&&ie.constructor===Symbol&&ie!==Symbol.prototype?"symbol":typeof ie},w=function(re,ge){if(Array.isArray(re))return re;if(Symbol.iterator in Object(re))return function(we,Ce){var je=[],V=!0,ye=!1,K=void 0;try{for(var k,I=we[Symbol.iterator]();!(V=(k=I.next()).done)&&(je.push(k.value),!Ce||je.length!==Ce);V=!0);}catch(N){ye=!0,K=N}finally{try{!V&&I.return&&I.return()}finally{if(ye)throw K}}return je}(re,ge);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=function(){function ie(re,ge){for(var we=0;we<ge.length;we++){var Ce=ge[we];Ce.enumerable=Ce.enumerable||!1,Ce.configurable=!0,"value"in Ce&&(Ce.writable=!0),Object.defineProperty(re,Ce.key,Ce)}}return function(re,ge,we){return ge&&ie(re.prototype,ge),we&&ie(re,we),re}}(),o=P(p(3)),i=P(p(2)),e=P(p(0)),r=P(p(5)),n=P(p(10)),t=P(p(9)),u=p(36),d=p(37),_=P(p(13)),E=p(26),A=p(38),S=p(39),L=p(40);function P(ie){return ie&&ie.__esModule?ie:{default:ie}}function M(ie,re,ge){return re in ie?Object.defineProperty(ie,re,{value:ge,enumerable:!0,configurable:!0,writable:!0}):ie[re]=ge,ie}var q=(0,n.default)("quill:clipboard"),F="__ql-matcher",Z=[[Node.TEXT_NODE,de],[Node.TEXT_NODE,ne],["br",function(ie,re){return z(re,`
`)||re.insert(`
`),re}],[Node.ELEMENT_NODE,ne],[Node.ELEMENT_NODE,ce],[Node.ELEMENT_NODE,me],[Node.ELEMENT_NODE,Q],[Node.ELEMENT_NODE,function(ie,re){var ge={},we=ie.style||{};return we.fontStyle&&Y(ie).fontStyle==="italic"&&(ge.italic=!0),we.fontWeight&&(Y(ie).fontWeight.startsWith("bold")||parseInt(Y(ie).fontWeight)>=700)&&(ge.bold=!0),Object.keys(ge).length>0&&(re=W(re,ge)),parseFloat(we.textIndent||0)>0&&(re=new i.default().insert("	").concat(re)),re}],["li",function(ie,re){var ge=e.default.query(ie);if(ge==null||ge.blotName!=="list-item"||!z(re,`
`))return re;for(var we=-1,Ce=ie.parentNode;!Ce.classList.contains("ql-clipboard");)(e.default.query(Ce)||{}).blotName==="list"&&(we+=1),Ce=Ce.parentNode;return we<=0?re:re.compose(new i.default().retain(re.length()-1).retain(1,{indent:we}))}],["b",D.bind(D,"bold")],["i",D.bind(D,"italic")],["style",function(){return new i.default}]],B=[u.AlignAttribute,A.DirectionAttribute].reduce(function(ie,re){return ie[re.keyName]=re,ie},{}),X=[u.AlignStyle,d.BackgroundStyle,E.ColorStyle,A.DirectionStyle,S.FontStyle,L.SizeStyle].reduce(function(ie,re){return ie[re.keyName]=re,ie},{}),te=function(ie){function re(ge,we){(function(je,V){if(!(je instanceof V))throw new TypeError("Cannot call a class as a function")})(this,re);var Ce=function(je,V){if(!je)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!V||typeof V!="object"&&typeof V!="function"?je:V}(this,(re.__proto__||Object.getPrototypeOf(re)).call(this,ge,we));return Ce.quill.root.addEventListener("paste",Ce.onPaste.bind(Ce)),Ce.container=Ce.quill.addContainer("ql-clipboard"),Ce.container.setAttribute("contenteditable",!0),Ce.container.setAttribute("tabindex",-1),Ce.matchers=[],Z.concat(Ce.options.matchers).forEach(function(je){var V=w(je,2),ye=V[0],K=V[1];(we.matchVisual||K!==me)&&Ce.addMatcher(ye,K)}),Ce}return function(ge,we){if(typeof we!="function"&&we!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof we);ge.prototype=Object.create(we&&we.prototype,{constructor:{value:ge,enumerable:!1,writable:!0,configurable:!0}}),we&&(Object.setPrototypeOf?Object.setPrototypeOf(ge,we):ge.__proto__=we)}(re,ie),m(re,[{key:"addMatcher",value:function(we,Ce){this.matchers.push([we,Ce])}},{key:"convert",value:function(we){if(typeof we=="string")return this.container.innerHTML=we.replace(/\>\r?\n +\</g,"><"),this.convert();var Ce=this.quill.getFormat(this.quill.selection.savedRange.index);if(Ce[_.default.blotName]){var je=this.container.innerText;return this.container.innerHTML="",new i.default().insert(je,M({},_.default.blotName,Ce[_.default.blotName]))}var V=this.prepareMatching(),ye=w(V,2),K=ye[0],k=ye[1],I=H(this.container,K,k);return z(I,`
`)&&I.ops[I.ops.length-1].attributes==null&&(I=I.compose(new i.default().retain(I.length()-1).delete(1))),q.log("convert",this.container.innerHTML,I),this.container.innerHTML="",I}},{key:"dangerouslyPasteHTML",value:function(we,Ce){var je=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.default.sources.API;if(typeof we=="string")this.quill.setContents(this.convert(we),Ce),this.quill.setSelection(0,r.default.sources.SILENT);else{var V=this.convert(Ce);this.quill.updateContents(new i.default().retain(we).concat(V),je),this.quill.setSelection(we+V.length(),r.default.sources.SILENT)}}},{key:"onPaste",value:function(we){var Ce=this;if(!we.defaultPrevented&&this.quill.isEnabled()){var je=this.quill.getSelection(),V=new i.default().retain(je.index),ye=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(r.default.sources.SILENT),setTimeout(function(){V=V.concat(Ce.convert()).delete(je.length),Ce.quill.updateContents(V,r.default.sources.USER),Ce.quill.setSelection(V.length()-je.length,r.default.sources.SILENT),Ce.quill.scrollingContainer.scrollTop=ye,Ce.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var we=this,Ce=[],je=[];return this.matchers.forEach(function(V){var ye=w(V,2),K=ye[0],k=ye[1];switch(K){case Node.TEXT_NODE:je.push(k);break;case Node.ELEMENT_NODE:Ce.push(k);break;default:[].forEach.call(we.container.querySelectorAll(K),function(I){I[F]=I[F]||[],I[F].push(k)})}}),[Ce,je]}}]),re}(t.default);function W(ie,re,ge){return(re===void 0?"undefined":f(re))==="object"?Object.keys(re).reduce(function(we,Ce){return W(we,Ce,re[Ce])},ie):ie.reduce(function(we,Ce){return Ce.attributes&&Ce.attributes[re]?we.push(Ce):we.insert(Ce.insert,(0,o.default)({},M({},re,ge),Ce.attributes))},new i.default)}function Y(ie){if(ie.nodeType!==Node.ELEMENT_NODE)return{};var re="__ql-computed-style";return ie[re]||(ie[re]=window.getComputedStyle(ie))}function z(ie,re){for(var ge="",we=ie.ops.length-1;we>=0&&ge.length<re.length;--we){var Ce=ie.ops[we];if(typeof Ce.insert!="string")break;ge=Ce.insert+ge}return ge.slice(-1*re.length)===re}function G(ie){if(ie.childNodes.length===0)return!1;var re=Y(ie);return["block","list-item"].indexOf(re.display)>-1}function H(ie,re,ge){return ie.nodeType===ie.TEXT_NODE?ge.reduce(function(we,Ce){return Ce(ie,we)},new i.default):ie.nodeType===ie.ELEMENT_NODE?[].reduce.call(ie.childNodes||[],function(we,Ce){var je=H(Ce,re,ge);return Ce.nodeType===ie.ELEMENT_NODE&&(je=re.reduce(function(V,ye){return ye(Ce,V)},je),je=(Ce[F]||[]).reduce(function(V,ye){return ye(Ce,V)},je)),we.concat(je)},new i.default):new i.default}function D(ie,re,ge){return W(ge,ie,!0)}function Q(ie,re){var ge=e.default.Attributor.Attribute.keys(ie),we=e.default.Attributor.Class.keys(ie),Ce=e.default.Attributor.Style.keys(ie),je={};return ge.concat(we).concat(Ce).forEach(function(V){var ye=e.default.query(V,e.default.Scope.ATTRIBUTE);ye!=null&&(je[ye.attrName]=ye.value(ie),je[ye.attrName])||((ye=B[V])==null||ye.attrName!==V&&ye.keyName!==V||(je[ye.attrName]=ye.value(ie)||void 0),(ye=X[V])==null||ye.attrName!==V&&ye.keyName!==V||(ye=X[V],je[ye.attrName]=ye.value(ie)||void 0))}),Object.keys(je).length>0&&(re=W(re,je)),re}function ce(ie,re){var ge=e.default.query(ie);if(ge==null)return re;if(ge.prototype instanceof e.default.Embed){var we={},Ce=ge.value(ie);Ce!=null&&(we[ge.blotName]=Ce,re=new i.default().insert(we,ge.formats(ie)))}else typeof ge.formats=="function"&&(re=W(re,ge.blotName,ge.formats(ie)));return re}function ne(ie,re){return z(re,`
`)||(G(ie)||re.length()>0&&ie.nextSibling&&G(ie.nextSibling))&&re.insert(`
`),re}function me(ie,re){if(G(ie)&&ie.nextElementSibling!=null&&!z(re,`

`)){var ge=ie.offsetHeight+parseFloat(Y(ie).marginTop)+parseFloat(Y(ie).marginBottom);ie.nextElementSibling.offsetTop>ie.offsetTop+1.5*ge&&re.insert(`
`)}return re}function de(ie,re){var ge=ie.data;if(ie.parentNode.tagName==="O:P")return re.insert(ge.trim());if(ge.trim().length===0&&ie.parentNode.classList.contains("ql-clipboard"))return re;if(!Y(ie.parentNode).whiteSpace.startsWith("pre")){var we=function(je,V){return(V=V.replace(/[^\u00a0]/g,"")).length<1&&je?" ":V};ge=(ge=ge.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,we.bind(we,!0)),(ie.previousSibling==null&&G(ie.parentNode)||ie.previousSibling!=null&&G(ie.previousSibling))&&(ge=ge.replace(/^\s+/,we.bind(we,!1))),(ie.nextSibling==null&&G(ie.parentNode)||ie.nextSibling!=null&&G(ie.nextSibling))&&(ge=ge.replace(/\s+$/,we.bind(we,!1)))}return re.insert(ge)}te.DEFAULTS={matchers:[],matchVisual:!0},h.default=te,h.matchAttributor=Q,h.matchBlot=ce,h.matchNewline=ne,h.matchSpacing=me,h.matchText=de},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function r(n,t){for(var u=0;u<t.length;u++){var d=t[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,t,u){return t&&r(n.prototype,t),u&&r(n,u),n}}(),m=function r(n,t,u){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,t);if(d===void 0){var _=Object.getPrototypeOf(n);return _===null?void 0:r(_,t,u)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(u):void 0};function o(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function i(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}var e=function(r){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);t.prototype=Object.create(u&&u.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(t,u):t.__proto__=u)}(n,r),w(n,[{key:"optimize",value:function(u){m(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"optimize",this).call(this,u),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return m(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),n}(((f=p(6))&&f.__esModule?f:{default:f}).default);e.blotName="bold",e.tagName=["STRONG","B"],h.default=e},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.addControls=h.default=void 0;var f=function(S,L){if(Array.isArray(S))return S;if(Symbol.iterator in Object(S))return function(P,M){var q=[],F=!0,Z=!1,B=void 0;try{for(var X,te=P[Symbol.iterator]();!(F=(X=te.next()).done)&&(q.push(X.value),!M||q.length!==M);F=!0);}catch(W){Z=!0,B=W}finally{try{!F&&te.return&&te.return()}finally{if(Z)throw B}}return q}(S,L);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function A(S,L){for(var P=0;P<L.length;P++){var M=L[P];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty(S,M.key,M)}}return function(S,L,P){return L&&A(S.prototype,L),P&&A(S,P),S}}(),m=n(p(2)),o=n(p(0)),i=n(p(5)),e=n(p(10)),r=n(p(9));function n(A){return A&&A.__esModule?A:{default:A}}function t(A,S){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?A:S}var u=(0,e.default)("quill:toolbar"),d=function(A){function S(L,P){(function(Z,B){if(!(Z instanceof B))throw new TypeError("Cannot call a class as a function")})(this,S);var M,q=t(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,L,P));if(Array.isArray(q.options.container)){var F=document.createElement("div");E(F,q.options.container),L.container.parentNode.insertBefore(F,L.container),q.container=F}else typeof q.options.container=="string"?q.container=document.querySelector(q.options.container):q.container=q.options.container;return q.container instanceof HTMLElement?(q.container.classList.add("ql-toolbar"),q.controls=[],q.handlers={},Object.keys(q.options.handlers).forEach(function(Z){q.addHandler(Z,q.options.handlers[Z])}),[].forEach.call(q.container.querySelectorAll("button, select"),function(Z){q.attach(Z)}),q.quill.on(i.default.events.EDITOR_CHANGE,function(Z,B){Z===i.default.events.SELECTION_CHANGE&&q.update(B)}),q.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){var Z=q.quill.selection.getRange(),B=f(Z,1)[0];q.update(B)}),q):(M=u.error("Container required for toolbar",q.options),t(q,M))}return function(L,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);L.prototype=Object.create(P&&P.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(L,P):L.__proto__=P)}(S,A),w(S,[{key:"addHandler",value:function(P,M){this.handlers[P]=M}},{key:"attach",value:function(P){var M=this,q=[].find.call(P.classList,function(Z){return Z.indexOf("ql-")===0});if(q){if(q=q.slice("ql-".length),P.tagName==="BUTTON"&&P.setAttribute("type","button"),this.handlers[q]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[q]==null)return void u.warn("ignoring attaching to disabled format",q,P);if(o.default.query(q)==null)return void u.warn("ignoring attaching to nonexistent format",q,P)}var F=P.tagName==="SELECT"?"change":"click";P.addEventListener(F,function(Z){var B=void 0;if(P.tagName==="SELECT"){if(P.selectedIndex<0)return;var X=P.options[P.selectedIndex];B=!X.hasAttribute("selected")&&(X.value||!1)}else B=!P.classList.contains("ql-active")&&(P.value||!P.hasAttribute("value")),Z.preventDefault();M.quill.focus();var te=M.quill.selection.getRange(),W=f(te,1)[0];if(M.handlers[q]!=null)M.handlers[q].call(M,B);else if(o.default.query(q).prototype instanceof o.default.Embed){if(!(B=prompt("Enter "+q)))return;M.quill.updateContents(new m.default().retain(W.index).delete(W.length).insert(function(Y,z,G){return z in Y?Object.defineProperty(Y,z,{value:G,enumerable:!0,configurable:!0,writable:!0}):Y[z]=G,Y}({},q,B)),i.default.sources.USER)}else M.quill.format(q,B,i.default.sources.USER);M.update(W)}),this.controls.push([q,P])}}},{key:"update",value:function(P){var M=P==null?{}:this.quill.getFormat(P);this.controls.forEach(function(q){var F=f(q,2),Z=F[0],B=F[1];if(B.tagName==="SELECT"){var X=void 0;if(P==null)X=null;else if(M[Z]==null)X=B.querySelector("option[selected]");else if(!Array.isArray(M[Z])){var te=M[Z];typeof te=="string"&&(te=te.replace(/\"/g,'\\"')),X=B.querySelector('option[value="'+te+'"]')}X==null?(B.value="",B.selectedIndex=-1):X.selected=!0}else if(P==null)B.classList.remove("ql-active");else if(B.hasAttribute("value")){var W=M[Z]===B.getAttribute("value")||M[Z]!=null&&M[Z].toString()===B.getAttribute("value")||M[Z]==null&&!B.getAttribute("value");B.classList.toggle("ql-active",W)}else B.classList.toggle("ql-active",M[Z]!=null)})}}]),S}(r.default);function _(A,S,L){var P=document.createElement("button");P.setAttribute("type","button"),P.classList.add("ql-"+S),L!=null&&(P.value=L),A.appendChild(P)}function E(A,S){Array.isArray(S[0])||(S=[S]),S.forEach(function(L){var P=document.createElement("span");P.classList.add("ql-formats"),L.forEach(function(M){if(typeof M=="string")_(P,M);else{var q=Object.keys(M)[0],F=M[q];Array.isArray(F)?function(Z,B,X){var te=document.createElement("select");te.classList.add("ql-"+B),X.forEach(function(W){var Y=document.createElement("option");W!==!1?Y.setAttribute("value",W):Y.setAttribute("selected","selected"),te.appendChild(Y)}),Z.appendChild(te)}(P,q,F):_(P,q,F)}}),A.appendChild(P)})}d.DEFAULTS={},d.DEFAULTS={container:null,handlers:{clean:function(){var S=this,L=this.quill.getSelection();if(L!=null)if(L.length==0){var P=this.quill.getFormat();Object.keys(P).forEach(function(M){o.default.query(M,o.default.Scope.INLINE)!=null&&S.quill.format(M,!1)})}else this.quill.removeFormat(L,i.default.sources.USER)},direction:function(S){var L=this.quill.getFormat().align;S==="rtl"&&L==null?this.quill.format("align","right",i.default.sources.USER):S||L!=="right"||this.quill.format("align",!1,i.default.sources.USER),this.quill.format("direction",S,i.default.sources.USER)},indent:function(S){var L=this.quill.getSelection(),P=this.quill.getFormat(L),M=parseInt(P.indent||0);if(S==="+1"||S==="-1"){var q=S==="+1"?1:-1;P.direction==="rtl"&&(q*=-1),this.quill.format("indent",M+q,i.default.sources.USER)}},link:function(S){S===!0&&(S=prompt("Enter link URL:")),this.quill.format("link",S,i.default.sources.USER)},list:function(S){var L=this.quill.getSelection(),P=this.quill.getFormat(L);S==="check"?P.list==="checked"||P.list==="unchecked"?this.quill.format("list",!1,i.default.sources.USER):this.quill.format("list","unchecked",i.default.sources.USER):this.quill.format("list",S,i.default.sources.USER)}}},h.default=d,h.addControls=E},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function i(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(e,r,n){return r&&i(e.prototype,r),n&&i(e,n),e}}(),m=function i(e,r,n){e===null&&(e=Function.prototype);var t=Object.getOwnPropertyDescriptor(e,r);if(t===void 0){var u=Object.getPrototypeOf(e);return u===null?void 0:i(u,r,n)}if("value"in t)return t.value;var d=t.get;return d!==void 0?d.call(n):void 0},o=function(i){function e(r,n){(function(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e);var t=function(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?u:d}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return t.label.innerHTML=n,t.container.classList.add("ql-color-picker"),[].slice.call(t.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(u){u.classList.add("ql-primary")}),t}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),w(e,[{key:"buildItem",value:function(n){var t=m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,n);return t.style.backgroundColor=n.getAttribute("value")||"",t}},{key:"selectItem",value:function(n,t){m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,n,t);var u=this.label.querySelector(".ql-color-label"),d=n&&n.getAttribute("data-value")||"";u&&(u.tagName==="line"?u.style.stroke=d:u.style.fill=d)}}]),e}(((f=p(28))&&f.__esModule?f:{default:f}).default);h.default=o},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function i(e,r){for(var n=0;n<r.length;n++){var t=r[n];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(e,t.key,t)}}return function(e,r,n){return r&&i(e.prototype,r),n&&i(e,n),e}}(),m=function i(e,r,n){e===null&&(e=Function.prototype);var t=Object.getOwnPropertyDescriptor(e,r);if(t===void 0){var u=Object.getPrototypeOf(e);return u===null?void 0:i(u,r,n)}if("value"in t)return t.value;var d=t.get;return d!==void 0?d.call(n):void 0},o=function(i){function e(r,n){(function(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e);var t=function(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?u:d}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return t.container.classList.add("ql-icon-picker"),[].forEach.call(t.container.querySelectorAll(".ql-picker-item"),function(u){u.innerHTML=n[u.getAttribute("data-value")||""]}),t.defaultItem=t.container.querySelector(".ql-selected"),t.selectItem(t.defaultItem),t}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),w(e,[{key:"selectItem",value:function(n,t){m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,n,t),n=n||this.defaultItem,this.label.innerHTML=n.innerHTML}}]),e}(((f=p(28))&&f.__esModule?f:{default:f}).default);h.default=o},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),w=function(){function m(o,i){var e=this;(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,m),this.quill=o,this.boundsContainer=i||document.body,this.root=o.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){e.root.style.marginTop=-1*e.quill.root.scrollTop+"px"}),this.hide()}return f(m,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(i){var e=i.left+i.width/2-this.root.offsetWidth/2,r=i.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var n=this.boundsContainer.getBoundingClientRect(),t=this.root.getBoundingClientRect(),u=0;if(t.right>n.right&&(u=n.right-t.right,this.root.style.left=e+u+"px"),t.left<n.left&&(u=n.left-t.left,this.root.style.left=e+u+"px"),t.bottom>n.bottom){var d=t.bottom-t.top,_=i.bottom-i.top+d;this.root.style.top=r-_+"px",this.root.classList.add("ql-flip")}return u}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),m}();h.default=w},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function P(M,q,F){M===null&&(M=Function.prototype);var Z=Object.getOwnPropertyDescriptor(M,q);if(Z===void 0){var B=Object.getPrototypeOf(M);return B===null?void 0:P(B,q,F)}if("value"in Z)return Z.value;var X=Z.get;return X!==void 0?X.call(F):void 0},w=function(){function P(M,q){for(var F=0;F<q.length;F++){var Z=q[F];Z.enumerable=Z.enumerable||!1,Z.configurable=!0,"value"in Z&&(Z.writable=!0),Object.defineProperty(M,Z.key,Z)}}return function(M,q,F){return q&&P(M.prototype,q),F&&P(M,F),M}}(),m=u(p(3)),o=u(p(8)),i=p(43),e=u(i),r=u(p(27)),n=p(15),t=u(p(41));function u(P){return P&&P.__esModule?P:{default:P}}function d(P,M){if(!(P instanceof M))throw new TypeError("Cannot call a class as a function")}function _(P,M){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!M||typeof M!="object"&&typeof M!="function"?P:M}function E(P,M){if(typeof M!="function"&&M!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof M);P.prototype=Object.create(M&&M.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),M&&(Object.setPrototypeOf?Object.setPrototypeOf(P,M):P.__proto__=M)}var A=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],S=function(P){function M(q,F){d(this,M),F.modules.toolbar!=null&&F.modules.toolbar.container==null&&(F.modules.toolbar.container=A);var Z=_(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,q,F));return Z.quill.container.classList.add("ql-snow"),Z}return E(M,P),w(M,[{key:"extendToolbar",value:function(F){F.container.classList.add("ql-snow"),this.buildButtons([].slice.call(F.container.querySelectorAll("button")),t.default),this.buildPickers([].slice.call(F.container.querySelectorAll("select")),t.default),this.tooltip=new L(this.quill,this.options.bounds),F.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(Z,B){F.handlers.link.call(F,!B.format.link)})}}]),M}(e.default);S.DEFAULTS=(0,m.default)(!0,{},e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(M){if(M){var q=this.quill.getSelection();if(q==null||q.length==0)return;var F=this.quill.getText(q);/^\S+@\S+\.\S+$/.test(F)&&F.indexOf("mailto:")!==0&&(F="mailto:"+F),this.quill.theme.tooltip.edit("link",F)}else this.quill.format("link",!1)}}}}});var L=function(P){function M(q,F){d(this,M);var Z=_(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,q,F));return Z.preview=Z.root.querySelector("a.ql-preview"),Z}return E(M,P),w(M,[{key:"listen",value:function(){var F=this;f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(Z){F.root.classList.contains("ql-editing")?F.save():F.edit("link",F.preview.textContent),Z.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(Z){if(F.linkRange!=null){var B=F.linkRange;F.restoreFocus(),F.quill.formatText(B,"link",!1,o.default.sources.USER),delete F.linkRange}Z.preventDefault(),F.hide()}),this.quill.on(o.default.events.SELECTION_CHANGE,function(Z,B,X){if(Z!=null){if(Z.length===0&&X===o.default.sources.USER){var te=function(G,H){if(Array.isArray(G))return G;if(Symbol.iterator in Object(G))return function(D,Q){var ce=[],ne=!0,me=!1,de=void 0;try{for(var ie,re=D[Symbol.iterator]();!(ne=(ie=re.next()).done)&&(ce.push(ie.value),!Q||ce.length!==Q);ne=!0);}catch(ge){me=!0,de=ge}finally{try{!ne&&re.return&&re.return()}finally{if(me)throw de}}return ce}(G,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(F.quill.scroll.descendant(r.default,Z.index),2),W=te[0],Y=te[1];if(W!=null){F.linkRange=new n.Range(Z.index-Y,W.length());var z=r.default.formats(W.domNode);return F.preview.textContent=z,F.preview.setAttribute("href",z),F.show(),void F.position(F.quill.getBounds(F.linkRange))}}else delete F.linkRange;F.hide()}})}},{key:"show",value:function(){f(M.prototype.__proto__||Object.getPrototypeOf(M.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),M}(i.BaseTooltip);L.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),h.default=S},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=ne(p(29)),w=p(36),m=p(38),o=p(64),i=ne(p(65)),e=ne(p(66)),r=p(67),n=ne(r),t=p(37),u=p(26),d=p(39),_=p(40),E=ne(p(56)),A=ne(p(68)),S=ne(p(27)),L=ne(p(69)),P=ne(p(70)),M=ne(p(71)),q=ne(p(72)),F=ne(p(73)),Z=p(13),B=ne(Z),X=ne(p(74)),te=ne(p(75)),W=ne(p(57)),Y=ne(p(41)),z=ne(p(28)),G=ne(p(59)),H=ne(p(60)),D=ne(p(61)),Q=ne(p(108)),ce=ne(p(62));function ne(me){return me&&me.__esModule?me:{default:me}}f.default.register({"attributors/attribute/direction":m.DirectionAttribute,"attributors/class/align":w.AlignClass,"attributors/class/background":t.BackgroundClass,"attributors/class/color":u.ColorClass,"attributors/class/direction":m.DirectionClass,"attributors/class/font":d.FontClass,"attributors/class/size":_.SizeClass,"attributors/style/align":w.AlignStyle,"attributors/style/background":t.BackgroundStyle,"attributors/style/color":u.ColorStyle,"attributors/style/direction":m.DirectionStyle,"attributors/style/font":d.FontStyle,"attributors/style/size":_.SizeStyle},!0),f.default.register({"formats/align":w.AlignClass,"formats/direction":m.DirectionClass,"formats/indent":o.IndentClass,"formats/background":t.BackgroundStyle,"formats/color":u.ColorStyle,"formats/font":d.FontClass,"formats/size":_.SizeClass,"formats/blockquote":i.default,"formats/code-block":B.default,"formats/header":e.default,"formats/list":n.default,"formats/bold":E.default,"formats/code":Z.Code,"formats/italic":A.default,"formats/link":S.default,"formats/script":L.default,"formats/strike":P.default,"formats/underline":M.default,"formats/image":q.default,"formats/video":F.default,"formats/list/item":r.ListItem,"modules/formula":X.default,"modules/syntax":te.default,"modules/toolbar":W.default,"themes/bubble":Q.default,"themes/snow":ce.default,"ui/icons":Y.default,"ui/picker":z.default,"ui/icon-picker":H.default,"ui/color-picker":G.default,"ui/tooltip":D.default},!0),h.default=f.default},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.IndentClass=void 0;var f,w=function(){function t(u,d){for(var _=0;_<d.length;_++){var E=d[_];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(u,E.key,E)}}return function(u,d,_){return d&&t(u.prototype,d),_&&t(u,_),u}}(),m=function t(u,d,_){u===null&&(u=Function.prototype);var E=Object.getOwnPropertyDescriptor(u,d);if(E===void 0){var A=Object.getPrototypeOf(u);return A===null?void 0:t(A,d,_)}if("value"in E)return E.value;var S=E.get;return S!==void 0?S.call(_):void 0},o=(f=p(0))&&f.__esModule?f:{default:f};function i(t,u){if(!(t instanceof u))throw new TypeError("Cannot call a class as a function")}function e(t,u){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!u||typeof u!="object"&&typeof u!="function"?t:u}var r=function(t){function u(){return i(this,u),e(this,(u.__proto__||Object.getPrototypeOf(u)).apply(this,arguments))}return function(d,_){if(typeof _!="function"&&_!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof _);d.prototype=Object.create(_&&_.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),_&&(Object.setPrototypeOf?Object.setPrototypeOf(d,_):d.__proto__=_)}(u,t),w(u,[{key:"add",value:function(_,E){if(E==="+1"||E==="-1"){var A=this.value(_)||0;E=E==="+1"?A+1:A-1}return E===0?(this.remove(_),!0):m(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"add",this).call(this,_,E)}},{key:"canAdd",value:function(_,E){return m(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"canAdd",this).call(this,_,E)||m(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"canAdd",this).call(this,_,parseInt(E))}},{key:"value",value:function(_){return parseInt(m(u.prototype.__proto__||Object.getPrototypeOf(u.prototype),"value",this).call(this,_))||void 0}}]),u}(o.default.Attributor.Class),n=new r("indent","ql-indent",{scope:o.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});h.IndentClass=n},function(b,h,p){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=p(4))&&f.__esModule?f:{default:f}).default);o.blotName="blockquote",o.tagName="blockquote",h.default=o},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function e(r,n){for(var t=0;t<n.length;t++){var u=n[t];u.enumerable=u.enumerable||!1,u.configurable=!0,"value"in u&&(u.writable=!0),Object.defineProperty(r,u.key,u)}}return function(r,n,t){return n&&e(r.prototype,n),t&&e(r,t),r}}();function m(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function o(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}var i=function(e){function r(){return m(this,r),o(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(n,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);n.prototype=Object.create(t&&t.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(n,t):n.__proto__=t)}(r,e),w(r,null,[{key:"formats",value:function(t){return this.tagName.indexOf(t.tagName)+1}}]),r}(((f=p(4))&&f.__esModule?f:{default:f}).default);i.blotName="header",i.tagName=["H1","H2","H3","H4","H5","H6"],h.default=i},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.ListItem=void 0;var f=function(){function _(E,A){for(var S=0;S<A.length;S++){var L=A[S];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(E,L.key,L)}}return function(E,A,S){return A&&_(E.prototype,A),S&&_(E,S),E}}(),w=function _(E,A,S){E===null&&(E=Function.prototype);var L=Object.getOwnPropertyDescriptor(E,A);if(L===void 0){var P=Object.getPrototypeOf(E);return P===null?void 0:_(P,A,S)}if("value"in L)return L.value;var M=L.get;return M!==void 0?M.call(S):void 0},m=e(p(0)),o=e(p(4)),i=e(p(25));function e(_){return _&&_.__esModule?_:{default:_}}function r(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function n(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?_:E}function t(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var u=function(_){function E(){return r(this,E),n(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return t(E,_),f(E,[{key:"format",value:function(S,L){S!==d.blotName||L?w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,S,L):this.replaceWith(m.default.create(this.statics.scope))}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(S,L){return this.parent.isolate(this.offset(this.parent),this.length()),S===this.parent.statics.blotName?(this.parent.replaceWith(S,L),this):(this.parent.unwrap(),w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,S,L))}}],[{key:"formats",value:function(S){return S.tagName===this.tagName?void 0:w(E.__proto__||Object.getPrototypeOf(E),"formats",this).call(this,S)}}]),E}(o.default);u.blotName="list-item",u.tagName="LI";var d=function(_){function E(A){r(this,E);var S=n(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,A)),L=function(M){if(M.target.parentNode===A){var q=S.statics.formats(A),F=m.default.find(M.target);q==="checked"?F.format("list","unchecked"):q==="unchecked"&&F.format("list","checked")}};return A.addEventListener("touchstart",L),A.addEventListener("mousedown",L),S}return t(E,_),f(E,null,[{key:"create",value:function(S){var L=S==="ordered"?"OL":"UL",P=w(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,L);return S!=="checked"&&S!=="unchecked"||P.setAttribute("data-checked",S==="checked"),P}},{key:"formats",value:function(S){return S.tagName==="OL"?"ordered":S.tagName==="UL"?S.hasAttribute("data-checked")?S.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet":void 0}}]),f(E,[{key:"format",value:function(S,L){this.children.length>0&&this.children.tail.format(S,L)}},{key:"formats",value:function(){return S={},L=this.statics.blotName,P=this.statics.formats(this.domNode),L in S?Object.defineProperty(S,L,{value:P,enumerable:!0,configurable:!0,writable:!0}):S[L]=P,S;var S,L,P}},{key:"insertBefore",value:function(S,L){if(S instanceof u)w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,S,L);else{var P=L==null?this.length():L.offset(this),M=this.split(P);M.parent.insertBefore(S,M)}}},{key:"optimize",value:function(S){w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,S);var L=this.next;L!=null&&L.prev===this&&L.statics.blotName===this.statics.blotName&&L.domNode.tagName===this.domNode.tagName&&L.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(L.moveChildren(this),L.remove())}},{key:"replace",value:function(S){if(S.statics.blotName!==this.statics.blotName){var L=m.default.create(this.statics.defaultChild);S.moveChildren(L),this.appendChild(L)}w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replace",this).call(this,S)}}]),E}(i.default);d.blotName="list",d.scope=m.default.Scope.BLOCK_BLOT,d.tagName=["OL","UL"],d.defaultChild="list-item",d.allowedChildren=[u],h.ListItem=u,h.default=d},function(b,h,p){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=p(56))&&f.__esModule?f:{default:f}).default);o.blotName="italic",o.tagName=["EM","I"],h.default=o},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function r(n,t){for(var u=0;u<t.length;u++){var d=t[u];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,t,u){return t&&r(n.prototype,t),u&&r(n,u),n}}(),m=function r(n,t,u){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,t);if(d===void 0){var _=Object.getPrototypeOf(n);return _===null?void 0:r(_,t,u)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(u):void 0};function o(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function i(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}var e=function(r){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(t,u){if(typeof u!="function"&&u!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof u);t.prototype=Object.create(u&&u.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),u&&(Object.setPrototypeOf?Object.setPrototypeOf(t,u):t.__proto__=u)}(n,r),w(n,null,[{key:"create",value:function(u){return u==="super"?document.createElement("sup"):u==="sub"?document.createElement("sub"):m(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,u)}},{key:"formats",value:function(u){return u.tagName==="SUB"?"sub":u.tagName==="SUP"?"super":void 0}}]),n}(((f=p(6))&&f.__esModule?f:{default:f}).default);e.blotName="script",e.tagName=["SUB","SUP"],h.default=e},function(b,h,p){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=p(6))&&f.__esModule?f:{default:f}).default);o.blotName="strike",o.tagName="S",h.default=o},function(b,h,p){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=p(6))&&f.__esModule?f:{default:f}).default);o.blotName="underline",o.tagName="U",h.default=o},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function u(d,_){for(var E=0;E<_.length;E++){var A=_[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(d,A.key,A)}}return function(d,_,E){return _&&u(d.prototype,_),E&&u(d,E),d}}(),m=function u(d,_,E){d===null&&(d=Function.prototype);var A=Object.getOwnPropertyDescriptor(d,_);if(A===void 0){var S=Object.getPrototypeOf(d);return S===null?void 0:u(S,_,E)}if("value"in A)return A.value;var L=A.get;return L!==void 0?L.call(E):void 0},o=(f=p(0))&&f.__esModule?f:{default:f},i=p(27);function e(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function r(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?u:d}var n=["alt","height","width"],t=function(u){function d(){return e(this,d),r(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return function(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}(d,u),w(d,[{key:"format",value:function(E,A){n.indexOf(E)>-1?A?this.domNode.setAttribute(E,A):this.domNode.removeAttribute(E):m(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"format",this).call(this,E,A)}}],[{key:"create",value:function(E){var A=m(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this,E);return typeof E=="string"&&A.setAttribute("src",this.sanitize(E)),A}},{key:"formats",value:function(E){return n.reduce(function(A,S){return E.hasAttribute(S)&&(A[S]=E.getAttribute(S)),A},{})}},{key:"match",value:function(E){return/\.(jpe?g|gif|png)$/.test(E)||/^data:image\/.+;base64/.test(E)}},{key:"sanitize",value:function(E){return(0,i.sanitize)(E,["http","https","data"])?E:"//:0"}},{key:"value",value:function(E){return E.getAttribute("src")}}]),d}(o.default.Embed);t.blotName="image",t.tagName="IMG",h.default=t},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function u(d,_){for(var E=0;E<_.length;E++){var A=_[E];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(d,A.key,A)}}return function(d,_,E){return _&&u(d.prototype,_),E&&u(d,E),d}}(),m=function u(d,_,E){d===null&&(d=Function.prototype);var A=Object.getOwnPropertyDescriptor(d,_);if(A===void 0){var S=Object.getPrototypeOf(d);return S===null?void 0:u(S,_,E)}if("value"in A)return A.value;var L=A.get;return L!==void 0?L.call(E):void 0},o=p(4),i=(f=p(27))&&f.__esModule?f:{default:f};function e(u,d){if(!(u instanceof d))throw new TypeError("Cannot call a class as a function")}function r(u,d){if(!u)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?u:d}var n=["height","width"],t=function(u){function d(){return e(this,d),r(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return function(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}(d,u),w(d,[{key:"format",value:function(E,A){n.indexOf(E)>-1?A?this.domNode.setAttribute(E,A):this.domNode.removeAttribute(E):m(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"format",this).call(this,E,A)}}],[{key:"create",value:function(E){var A=m(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this,E);return A.setAttribute("frameborder","0"),A.setAttribute("allowfullscreen",!0),A.setAttribute("src",this.sanitize(E)),A}},{key:"formats",value:function(E){return n.reduce(function(A,S){return E.hasAttribute(S)&&(A[S]=E.getAttribute(S)),A},{})}},{key:"sanitize",value:function(E){return i.default.sanitize(E)}},{key:"value",value:function(E){return E.getAttribute("src")}}]),d}(o.BlockEmbed);t.blotName="video",t.className="ql-video",t.tagName="IFRAME",h.default=t},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.FormulaBlot=void 0;var f=function(){function _(E,A){for(var S=0;S<A.length;S++){var L=A[S];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(E,L.key,L)}}return function(E,A,S){return A&&_(E.prototype,A),S&&_(E,S),E}}(),w=function _(E,A,S){E===null&&(E=Function.prototype);var L=Object.getOwnPropertyDescriptor(E,A);if(L===void 0){var P=Object.getPrototypeOf(E);return P===null?void 0:_(P,A,S)}if("value"in L)return L.value;var M=L.get;return M!==void 0?M.call(S):void 0},m=e(p(35)),o=e(p(5)),i=e(p(9));function e(_){return _&&_.__esModule?_:{default:_}}function r(_,E){if(!(_ instanceof E))throw new TypeError("Cannot call a class as a function")}function n(_,E){if(!_)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?_:E}function t(_,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);_.prototype=Object.create(E&&E.prototype,{constructor:{value:_,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(_,E):_.__proto__=E)}var u=function(_){function E(){return r(this,E),n(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return t(E,_),f(E,null,[{key:"create",value:function(S){var L=w(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,S);return typeof S=="string"&&(window.katex.render(S,L,{throwOnError:!1,errorColor:"#f00"}),L.setAttribute("data-value",S)),L}},{key:"value",value:function(S){return S.getAttribute("data-value")}}]),E}(m.default);u.blotName="formula",u.className="ql-formula",u.tagName="SPAN";var d=function(_){function E(){r(this,E);var A=n(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return A}return t(E,_),f(E,null,[{key:"register",value:function(){o.default.register(u,!0)}}]),E}(i.default);h.FormulaBlot=u,h.default=d},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.CodeToken=h.CodeBlock=void 0;var f=function(){function E(A,S){for(var L=0;L<S.length;L++){var P=S[L];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(A,P.key,P)}}return function(A,S,L){return S&&E(A.prototype,S),L&&E(A,L),A}}(),w=function E(A,S,L){A===null&&(A=Function.prototype);var P=Object.getOwnPropertyDescriptor(A,S);if(P===void 0){var M=Object.getPrototypeOf(A);return M===null?void 0:E(M,S,L)}if("value"in P)return P.value;var q=P.get;return q!==void 0?q.call(L):void 0},m=e(p(0)),o=e(p(5)),i=e(p(9));function e(E){return E&&E.__esModule?E:{default:E}}function r(E,A){if(!(E instanceof A))throw new TypeError("Cannot call a class as a function")}function n(E,A){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||typeof A!="object"&&typeof A!="function"?E:A}function t(E,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);E.prototype=Object.create(A&&A.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(E,A):E.__proto__=A)}var u=function(E){function A(){return r(this,A),n(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return t(A,E),f(A,[{key:"replaceWith",value:function(L){this.domNode.textContent=this.domNode.textContent,this.attach(),w(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replaceWith",this).call(this,L)}},{key:"highlight",value:function(L){var P=this.domNode.textContent;this.cachedText!==P&&((P.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=L(P),this.domNode.normalize(),this.attach()),this.cachedText=P)}}]),A}(e(p(13)).default);u.className="ql-syntax";var d=new m.default.Attributor.Class("token","hljs",{scope:m.default.Scope.INLINE}),_=function(E){function A(S,L){r(this,A);var P=n(this,(A.__proto__||Object.getPrototypeOf(A)).call(this,S,L));if(typeof P.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var M=null;return P.quill.on(o.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(M),M=setTimeout(function(){P.highlight(),M=null},P.options.interval)}),P.highlight(),P}return t(A,E),f(A,null,[{key:"register",value:function(){o.default.register(d,!0),o.default.register(u,!0)}}]),f(A,[{key:"highlight",value:function(){var L=this;if(!this.quill.selection.composing){this.quill.update(o.default.sources.USER);var P=this.quill.getSelection();this.quill.scroll.descendants(u).forEach(function(M){M.highlight(L.options.highlight)}),this.quill.update(o.default.sources.SILENT),P!=null&&this.quill.setSelection(P,o.default.sources.SILENT)}}}]),A}(i.default);_.DEFAULTS={highlight:window.hljs==null?null:function(E){return window.hljs.highlightAuto(E).value},interval:1e3},h.CodeBlock=u,h.CodeToken=d,h.default=_},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(b,h){b.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(b,h){b.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(b,h){b.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(b,h){b.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(b,h){b.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(b,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.BubbleTooltip=void 0;var f=function L(P,M,q){P===null&&(P=Function.prototype);var F=Object.getOwnPropertyDescriptor(P,M);if(F===void 0){var Z=Object.getPrototypeOf(P);return Z===null?void 0:L(Z,M,q)}if("value"in F)return F.value;var B=F.get;return B!==void 0?B.call(q):void 0},w=function(){function L(P,M){for(var q=0;q<M.length;q++){var F=M[q];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(P,F.key,F)}}return function(P,M,q){return M&&L(P.prototype,M),q&&L(P,q),P}}(),m=t(p(3)),o=t(p(8)),i=p(43),e=t(i),r=p(15),n=t(p(41));function t(L){return L&&L.__esModule?L:{default:L}}function u(L,P){if(!(L instanceof P))throw new TypeError("Cannot call a class as a function")}function d(L,P){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?L:P}function _(L,P){if(typeof P!="function"&&P!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof P);L.prototype=Object.create(P&&P.prototype,{constructor:{value:L,enumerable:!1,writable:!0,configurable:!0}}),P&&(Object.setPrototypeOf?Object.setPrototypeOf(L,P):L.__proto__=P)}var E=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],A=function(L){function P(M,q){u(this,P),q.modules.toolbar!=null&&q.modules.toolbar.container==null&&(q.modules.toolbar.container=E);var F=d(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,M,q));return F.quill.container.classList.add("ql-bubble"),F}return _(P,L),w(P,[{key:"extendToolbar",value:function(q){this.tooltip=new S(this.quill,this.options.bounds),this.tooltip.root.appendChild(q.container),this.buildButtons([].slice.call(q.container.querySelectorAll("button")),n.default),this.buildPickers([].slice.call(q.container.querySelectorAll("select")),n.default)}}]),P}(e.default);A.DEFAULTS=(0,m.default)(!0,{},e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(P){P?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var S=function(L){function P(M,q){u(this,P);var F=d(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,M,q));return F.quill.on(o.default.events.EDITOR_CHANGE,function(Z,B,X,te){if(Z===o.default.events.SELECTION_CHANGE)if(B!=null&&B.length>0&&te===o.default.sources.USER){F.show(),F.root.style.left="0px",F.root.style.width="",F.root.style.width=F.root.offsetWidth+"px";var W=F.quill.getLines(B.index,B.length);if(W.length===1)F.position(F.quill.getBounds(B));else{var Y=W[W.length-1],z=F.quill.getIndex(Y),G=Math.min(Y.length()-1,B.index+B.length-z),H=F.quill.getBounds(new r.Range(z,G));F.position(H)}}else document.activeElement!==F.textbox&&F.quill.hasFocus()&&F.hide()}),F}return _(P,L),w(P,[{key:"listen",value:function(){var q=this;f(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){q.root.classList.remove("ql-editing")}),this.quill.on(o.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!q.root.classList.contains("ql-hidden")){var F=q.quill.getSelection();F!=null&&q.position(q.quill.getBounds(F))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(q){var F=f(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"position",this).call(this,q),Z=this.root.querySelector(".ql-tooltip-arrow");if(Z.style.marginLeft="",F===0)return F;Z.style.marginLeft=-1*F-Z.offsetWidth/2+"px"}}]),P}(i.BaseTooltip);S.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),h.BubbleTooltip=S,h.default=A},function(b,h,p){b.exports=p(63)}]).default},ae.exports=T()},3697:function(ae,T,C){"use strict";var b=C(5972).functionsHaveConfigurableNames(),h=Object,p=TypeError;ae.exports=function(){if(this!=null&&this!==h(this))throw new p("RegExp.prototype.flags getter called on non-object");var f="";return this.hasIndices&&(f+="d"),this.global&&(f+="g"),this.ignoreCase&&(f+="i"),this.multiline&&(f+="m"),this.dotAll&&(f+="s"),this.unicode&&(f+="u"),this.sticky&&(f+="y"),f},b&&Object.defineProperty&&Object.defineProperty(ae.exports,"name",{value:"get flags"})},2847:function(ae,T,C){"use strict";var b=C(4289),h=C(5559),p=C(3697),f=C(1721),w=C(2753),m=h(f());b(m,{getPolyfill:f,implementation:p,shim:w}),ae.exports=m},1721:function(ae,T,C){"use strict";var b=C(3697),h=C(4289).supportsDescriptors,p=Object.getOwnPropertyDescriptor;ae.exports=function(){if(h&&/a/gim.flags==="gim"){var f=p(RegExp.prototype,"flags");if(f&&typeof f.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var w="",m={};if(Object.defineProperty(m,"hasIndices",{get:function(){w+="d"}}),Object.defineProperty(m,"sticky",{get:function(){w+="y"}}),w==="dy")return f.get}}return b}},2753:function(ae,T,C){"use strict";var b=C(4289).supportsDescriptors,h=C(1721),p=Object.getOwnPropertyDescriptor,f=Object.defineProperty,w=TypeError,m=Object.getPrototypeOf,o=/a/;ae.exports=function(){if(!b||!m)throw new w("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var i=h(),e=m(o),r=p(e,"flags");return r&&r.get===i||f(e,"flags",{configurable:!0,enumerable:!1,get:i}),i}}},ot={};function Qe(J){var ae=ot[J];if(ae!==void 0)return ae.exports;var T=ot[J]={exports:{}};return Ye[J].call(T.exports,T,T.exports,Qe),T.exports}Qe.n=function(J){var ae=J&&J.__esModule?function(){return J.default}:function(){return J};return Qe.d(ae,{a:ae}),ae},Qe.d=function(J,ae){for(var T in ae)Qe.o(ae,T)&&!Qe.o(J,T)&&Object.defineProperty(J,T,{enumerable:!0,get:ae[T]})},Qe.o=function(J,ae){return Object.prototype.hasOwnProperty.call(J,ae)},function(){"use strict";function J(R,O){if(!(R instanceof O))throw new TypeError("Cannot call a class as a function")}function ae(R,O){for(var c=0;c<O.length;c++){var v=O[c];v.enumerable=v.enumerable||!1,v.configurable=!0,"value"in v&&(v.writable=!0),Object.defineProperty(R,v.key,v)}}function T(R,O,c){return O&&ae(R.prototype,O),c&&ae(R,c),Object.defineProperty(R,"prototype",{writable:!1}),R}function C(R,O){return C=Object.setPrototypeOf||function(c,v){return c.__proto__=v,c},C(R,O)}function b(R,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(O&&O.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),O&&C(R,O)}function h(R){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(O){return typeof O}:function(O){return O&&typeof Symbol=="function"&&O.constructor===Symbol&&O!==Symbol.prototype?"symbol":typeof O},h(R)}function p(R,O){if(O&&(h(O)==="object"||typeof O=="function"))return O;if(O!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(c){if(c===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return c}(R)}function f(R){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(O){return O.__proto__||Object.getPrototypeOf(O)},f(R)}var w=function(){function R(){J(this,R)}return T(R,[{key:"getName",value:function(){}},{key:"do",value:function(){}},{key:"undo",value:function(){}},{key:"allowReplace",value:function(c){return!1}},{key:"replace",value:function(c){}}]),R}();function m(R,O){for(;!Object.prototype.hasOwnProperty.call(R,O)&&(R=f(R))!==null;);return R}function o(){return o=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(R,O,c){var v=m(R,O);if(v){var x=Object.getOwnPropertyDescriptor(v,O);return x.get?x.get.call(arguments.length<3?R:c):x.value}},o.apply(this,arguments)}w.operation={rename:"rename",change:"change",add:"add",remove:"remove",move:"move"};var i=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a,s,l){var y;if(J(this,x),(y=v.call(this)).objId=g.getId(),y.moveToParentId=a.getId(),y.moveToPosition=s,y.oldParentId=g.getParent().getId(),y.oldPosition=g.getSiblingPosition(),y.oldContainerId=null,y.moveToContainerId=null,g.getData()instanceof $){var j=g.getData();y.oldContainerId=j.getValue("containerId");var U=l.getMainPanel().getContainerByItem(a);U!==null&&(y.moveToContainerId=U.getId())}return y.rb=l,y}return T(x,[{key:"getName",value:function(){return"Move panel item"}},{key:"do",value:function(){var a=this.moveToPosition;this.moveToParentId===this.oldParentId&&this.oldPosition<a&&a--,this.moveTo(this.moveToParentId,a,this.moveToContainerId!==this.oldContainerId?this.moveToContainerId:null)}},{key:"undo",value:function(){this.moveTo(this.oldParentId,this.oldPosition,this.moveToContainerId!==this.oldContainerId?this.oldContainerId:null)}},{key:"moveTo",value:function(a,s,l){var y=this.rb.getDataObject(this.objId),j=this.rb.getDataObject(a);y!==null&&j!==null&&(y.getPanelItem().moveToPosition(j.getPanelItem(),s),y.getPanelItem().openParentItems(),this.rb.notifyEvent(y,w.operation.move))}},{key:"getClassName",value:function(){return"MovePanelItemCmd"}}]),x}(w),e=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a,s,l,y){var j;J(this,x),(j=v.call(this)).objId=g,j.field=a,j.value=s,j.type=l,j.rb=y;var U=y.getDataObject(g);return j.oldValue=U.getValue(a),j.firstExecution=!0,j.select=!0,j.notifyChange=!0,j}return T(x,[{key:"getName",value:function(){return"Set value"}},{key:"getObjId",value:function(){return this.objId}},{key:"do",value:function(){!this.firstExecution&&this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.value),this.firstExecution=!1}},{key:"undo",value:function(){this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.oldValue)}},{key:"setValue",value:function(a){var s=this.rb.getDataObject(this.objId);if(s.setValue(this.field,a),this.field==="name"){var l=document.getElementById("rbro_menu_item_name".concat(this.objId));l.textContent=a,l.setAttribute("title",a),this.rb.notifyEvent(s,w.operation.rename)}!this.notifyChange||this.type===x.type.richText&&this.firstExecution||this.rb.notifyEvent(s,w.operation.change,this.field)}},{key:"disableSelect",value:function(){this.select=!1}},{key:"setNotifyChange",value:function(a){this.notifyChange=a}},{key:"allowReplace",value:function(a){return a instanceof x&&(this.type===x.type.text||this.type===x.type.richText)&&this.objId===a.objId&&this.field===a.field}},{key:"replace",value:function(a){this.oldValue=a.oldValue}},{key:"getClassName",value:function(){return"SetValueCmd"}}]),x}(w);e.type={text:"text",richText:"richText",select:"select",file:"file",filename:"filename",checkbox:"checkbox",button:"button",buttonGroup:"buttonGroup",color:"color",internal:"internal"};var r=function(){function R(O,c,v){J(this,R),this.rb=v,this.id=O,this.panelItem=null,this.name=c,this.el=null,this.elContent=null,this.owner=null,this.level=0,this.parent=null}return T(R,[{key:"init",value:function(c){this.owner=c,this.el=c.getElement(),this.elContent=c.getContentElement(),this.panelItem=c.getPanelItem(),this.parent=c.getContainer(),this.initLevel()}},{key:"initLevel",value:function(){this.level=0;for(var c=this.parent;c!==null;)this.level++,c=c.getParent()}},{key:"setup",value:function(){}},{key:"remove",value:function(){}},{key:"appendElement",value:function(c){this.elContent!==null&&this.elContent.append(c)}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(c){this.panelItem=c}},{key:"getLevel",value:function(){return this.level}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(c){this.parent=c,this.initLevel()}},{key:"isChildOf",value:function(c){for(var v=this.getParent();v!==null;){if(v===c)return!0;v=v.getParent()}return!1}},{key:"isSelected",value:function(){return!(this.owner===null||!this.rb.isSelectedObject(this.owner.getId()))}},{key:"isElementAllowed",value:function(c){return!1}},{key:"dragOver",value:function(){this.el!==null&&this.el.classList.add("rbroElementDragOver")}},{key:"getOffset",value:function(){return{x:0,y:0}}},{key:"getOffsetTo",value:function(c){if(c!==null&&c!==this){var v=this.getOffset(),x=c.getOffset();return{x:v.x-x.x,y:v.y-x.y}}return{x:0,y:0}}},{key:"getSize",value:function(){return{width:0,height:0}}},{key:"getContentSize",value:function(){return{width:0,height:0}}},{key:"isInside",value:function(c,v){var x=this.getOffset(),g=this.getSize();return c-=x.x,v-=x.y,c>=0&&v>=0&&c<g.width&&v<g.height}},{key:"clearErrors",value:function(){}}]),R}();function n(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}function t(R,O,c){var v=document.createElement(R);if(O)for(var x in O)O.hasOwnProperty(x)&&v.setAttribute(x,O[x]);return c&&(v.textContent=c),v}function u(R){for(;R.firstChild;)R.removeChild(R.firstChild)}function d(R,O,c,v){var x=v||{};c&&(x.for=c),R.append(t("label",x,O+":"))}function _(R){var O=R.getBoundingClientRect();return{top:O.top+window.scrollY,left:O.left+window.scrollX}}function E(R){R.addEventListener("keyup",function(O){var c=O.target.value,v=c.replace(/[^0-9]/g,"");c!==v&&(O.target.value=v)})}function A(R,O,c){var v=parseFloat(R.replace(",","."));return isNaN(v)||v<O?""+O:v>c?""+c:R}function S(R){if(typeof R=="number")return R;if(typeof R=="string"&&R!==""){var O=parseFloat(R.replace(",","."));if(!isNaN(O))return O}return 0}function L(R,O){var c=Math.ceil(R/O)*O;return c-R<=O>>1?c:c-O}function P(R,O){return Math.floor(R/O)*O}function M(R,O){return Math.ceil(R/O)*O}function q(R,O,c){var v=R;if(O!==c)for(;v.indexOf(O)!==-1;)v=v.replace(O,c);return v}function F(R,O,c,v){var x,g={shown:!1,paletteId:O.getAttribute("id")+"_select"},a=v.getProperty("colors"),s=t("div",{class:"rbroColorPalette rbroHidden"}),l=function(U,ee){var se=typeof Symbol!="undefined"&&U[Symbol.iterator]||U["@@iterator"];if(!se){if(Array.isArray(U)||(se=function(Re,ze){if(Re){if(typeof Re=="string")return n(Re,ze);var Ne=Object.prototype.toString.call(Re).slice(8,-1);return Ne==="Object"&&Re.constructor&&(Ne=Re.constructor.name),Ne==="Map"||Ne==="Set"?Array.from(Re):Ne==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Ne)?n(Re,ze):void 0}}(U))||ee&&U&&typeof U.length=="number"){se&&(U=se);var fe=0,be=function(){};return{s:be,n:function(){return fe>=U.length?{done:!0}:{done:!1,value:U[fe++]}},e:function(ze){throw ze},f:be}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var _e,Oe=!0,Te=!1;return{s:function(){se=se.call(U)},n:function(){var ze=se.next();return Oe=ze.done,ze},e:function(ze){Te=!0,_e=ze},f:function(){try{Oe||se.return==null||se.return()}finally{if(Te)throw _e}}}}(a);try{for(l.s();!(x=l.n()).done;){var y=x.value;s.append(t("span",{style:"color: ".concat(y),"data-value":y,class:"rbroColorPaletteItem"}))}}catch(U){l.e(U)}finally{l.f()}c&&s.append(t("span",{"data-value":"clear",class:"rbroClearColorPalette"},v.getLabel("clear"))),s.addEventListener("click",function(U){var ee=U.target.dataset.value;ee&&(ee==="clear"?(O.value="",O.dispatchEvent(new Event("change"))):O.value=ee,O.dispatchEvent(new Event("change"))),s.classList.add("rbroHidden"),U.stopImmediatePropagation()});var j=t("div",{id:g.paletteId,class:"rbroColorPicker"});return j.addEventListener("click",function(U){s.classList.toggle("rbroHidden"),g.shown=!g.shown}),R.prepend(j),R.append(s),O.addEventListener("focus",function(U){R.classList.add("rbroActive")}),O.addEventListener("blur",function(U){R.classList.remove("rbroActive")}),g.documentClickListener=function(U){var ee=U.target.id;g.shown&&ee!==g.paletteId&&(s.classList.add("rbroHidden"),g.shown=!1)},document.addEventListener("click",g.documentClickListener),g.destroy=function(){g.documentClickListener&&(document.removeEventListener("click",g.documentClickListener),g.documentClickListener=null)},g}function Z(R){return!R||/^#[0-9A-F]{6}$/i.test(R)}function B(R){if(!(window.TouchEvent&&R instanceof TouchEvent))return{x:R.pageX,y:R.pageY};if(R.touches.length>0){var O=R.touches[R.touches.length-1];return{x:O.pageX,y:O.pageY}}return null}String.prototype.reverse=function(){return this.split("").reverse().join("")};var X=T(function R(O,c){J(this,R),this.value=O,this.type=c});function te(R,O){for(var c=0,v=[];c<R.length;){var x=R[c];if(/[0-9]/.test(x)){for(var g="";c<R.length&&/[0-9.]/.test(R[c]);)g+=R[c++];var a=parseFloat(g);v.push(new X(a,X.type.number))}else if(/[a-zA-Z]/.test(x)){for(var s="";c<R.length&&/[a-zA-Z0-9]/.test(R[c]);)s+=R[c++];if(s==="true")v.push(new X(!0,X.type.boolean));else if(s==="false")v.push(new X(!1,X.type.boolean));else if(s==="type")O!==null?v.push(new X(O.getElementType(),X.type.string)):v.push(new X("type",X.type.string));else if(O===null)v.push(new X(s,X.type.field));else{var l,y=O.getValue(s);l=y instanceof Number?X.type.number:y instanceof String?X.type.string:y instanceof Boolean?X.type.boolean:X.type.undefined,v.push(new X(y,l))}}else if(x!=="'")if(x!=="("&&x!==")")if(/[!=|&]/.test(x)){if(c++,x==="!"&&(c>=R.length||R[c]!=="=")){v.push(new X(X.operator.negate,X.type.operator));continue}if(!(c<R.length))throw new Error("Invalid token ".concat(x," at end of input"));var j=R[c];if(x==="!"&&j==="=")v.push(new X(X.operator.notEqual,X.type.operator)),c++;else if(x==="="&&j==="=")v.push(new X(X.operator.equal,X.type.operator)),c++;else if(x==="|"&&j==="|")v.push(new X(X.operator.or,X.type.operator)),c++;else{if(x!=="&"||j!=="&")throw new Error("Invalid token ".concat(j," at position ").concat(c));v.push(new X(X.operator.and,X.type.operator)),c++}}else{if(x!==" ")throw new Error("Invalid token ".concat(x," at position ").concat(c));c++}else v.push(new X(x,!1,x==="("?X.type.bracketOpen:X.type.bracketClose)),c++;else{var U="";for(c++;c<R.length&&R[c]!=="'";)U+=R[c++];if(c>=R.length)throw new Error("Unterminated string token in input ".concat(R));v.push(new X(U,X.type.string)),c++}}return v}X.type={operator:"operator",bracketOpen:"bracketOpen",bracketClose:"bracketClose",boolean:"boolean",number:"number",string:"string",undefined:"undefined",field:"field"},X.operator={and:"&&",or:"||",equal:"==",notEqual:"!=",negate:"!"};var W={"!":4,"!=":3,"==":3,"||":2,"&&":1};function Y(R,O){if(R.length===0)return!1;var c=R[R.length-1];return W[c.value]>=W[O.value]}function z(R,O){var c,v=O.pop().value;switch(R.value!==X.operator.negate&&(c=O.pop().value),R.value){case X.operator.and:return new X(c&&v,X.type.boolean);case X.operator.or:return new X(c||v,X.type.boolean);case X.operator.equal:return new X(c===v,X.type.boolean);case X.operator.notEqual:return new X(c!==v,X.type.boolean);case X.operator.negate:return new X(!v,X.type.boolean);default:throw new Error("Invalid operator: ".concat(R))}}function G(R,O){return function(c){for(var v=[],x=0;x<c.length;x++){var g=c[x];g.type!==X.type.operator?v.push(g):v.push(z(g,v))}var a=v.pop();return a.type===X.type.boolean?a.value:!!a.value}(function(c){for(var v=[],x=[],g=0;g<c.length;g++){var a=c[g];if(a.type===X.type.operator){for(;Y(v,a);)x.push(v.pop());v.push(a)}else if(a.type===X.type.bracketOpen)v.push(a);else if(a.type===X.type.bracketClose){for(;v.length>0&&v[v.length-1]!==X.type.bracketOpen;)x.push(v.pop());v.pop()}else x.push(a)}for(var s=v.length-1;s>=0;s--)x.push(v[s]);return x}(te(R,O)))}var H=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a,s,l,y){var j;return J(this,x),(j=v.call(this,s,l,y)).panelItem=null,j.bandType=g,j.section=a,a||(g===x.bandType.header?(j.id="0_header",j.name=y.getLabel("bandHeader")):g===x.bandType.content?(j.id="0_content",j.name=y.getLabel("bandContent"),j.allowAllElements=!0):g===x.bandType.footer&&(j.id="0_footer",j.name=y.getLabel("bandFooter"))),j.el=null,j}return T(x,[{key:"setup",value:function(){this.section||(this.el=this.rb.getDocument().getElement(this.bandType),this.elContent=this.el)}},{key:"isElementAllowed",value:function(a){return a!==$.type.tableText&&(this.bandType===x.bandType.content||a!==$.type.pageBreak&&a!==$.type.table&&a!==$.type.section)}},{key:"getOffset",value:function(){var a=0;if(this.section)this.owner!==null&&(a=this.owner.getAbsolutePosition().y);else{var s=this.rb.getDocumentProperties();this.bandType===x.bandType.content&&s.getValue("header")?a=S(s.getValue("headerSize")):this.bandType===x.bandType.footer&&(a=this.rb.getDocument().getHeight()-S(s.getValue("footerSize")))}return{x:0,y:a}}},{key:"getSize",value:function(){var a=this.rb.getDocumentProperties(),s=a.getValue("width")-a.getValue("marginLeftVal")-a.getValue("marginRightVal"),l=0;return this.section?this.owner!==null&&(l=this.owner.getValue("heightVal")):this.bandType===x.bandType.header?l=a.getValue("headerSizeVal"):this.bandType===x.bandType.content?l=a.getValue("height")-a.getValue("headerSizeVal")-a.getValue("footerSizeVal")-a.getValue("marginTopVal")-a.getValue("marginBottomVal"):this.bandType===x.bandType.footer&&(l=a.getValue("footerSizeVal")),{width:s,height:l}}},{key:"getContentSize",value:function(){return this.getSize()}},{key:"isInside",value:function(a,s){return!(this.section&&this.owner!==null&&this.owner&&!this.owner.isVisible())&&o(f(x.prototype),"isInside",this).call(this,a,s)}}]),x}(r);function D(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}function Q(R,O){var c=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!c){if(Array.isArray(R)||(c=function(l,y){if(l){if(typeof l=="string")return ce(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?ce(l,y):void 0}}(R))||O&&R&&typeof R.length=="number"){c&&(R=c);var v=0,x=function(){};return{s:x,n:function(){return v>=R.length?{done:!0}:{done:!1,value:R[v++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,a=!0,s=!1;return{s:function(){c=c.call(R)},n:function(){var y=c.next();return a=y.done,y},e:function(y){s=!0,g=y},f:function(){try{a||c.return==null||c.return()}finally{if(s)throw g}}}}function ce(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}H.bandType={header:"header",content:"content",footer:"footer"};var ne=function(){function R(O,c,v){J(this,R),this.rb=v,this.id=O,this.name=v.getLabel("style"),this.panelItem=null,this.errors=[],this.bold=!1,this.italic=!1,this.underline=!1,this.strikethrough=!1,this.horizontalAlignment=R.alignment.left,this.verticalAlignment=R.alignment.top,this.textColor="#000000",this.backgroundColor="",this.font=v.getProperty("defaultFont"),this.fontSize=12,this.lineSpacing=1,this.borderColor="#000000",this.borderWidth="1",this.borderAll=!1,this.borderLeft=!1,this.borderTop=!1,this.borderRight=!1,this.borderBottom=!1,this.paddingLeft="",this.paddingTop="",this.paddingRight="",this.paddingBottom="",this.borderWidthVal=0,this.setInitialData(c)}return T(R,[{key:"setInitialData",value:function(c){for(var v in c)c.hasOwnProperty(v)&&this.hasOwnProperty(v)&&(this[v]=c[v]);this.borderWidthVal=S(this.borderWidth)}},{key:"getFields",value:function(){return["id","name","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(c){this.panelItem=c}},{key:"getValue",value:function(c){return this[c]}},{key:"setValue",value:function(c,v){if(this[c]=v,c.indexOf("border")!==-1&&(c==="borderWidth"&&(this.borderWidthVal=S(v)),R.setBorderValue(this,c,"",v,this.rb)),c!=="name"){var x,g=Q(this.rb.getDocElements(!0));try{for(g.s();!(x=g.n()).done;)x.value.updateChangedStyle(this.getId())}catch(a){g.e(a)}finally{g.f()}}}},{key:"addCommandsForChangedProperty",value:function(c,v,x,g){var a,s=""+this.getId(),l=Q(this.rb.getDocElements(!0));try{for(l.s();!(a=l.n()).done;){var y=a.value;if(y.hasProperty("styleId")){if(y.getValue("styleId")===s&&y.getValue(c)!==v){var j=new e(y.getId(),c,v,x,this.rb);j.disableSelect(),g.addCommand(j)}if(y.getValue("cs_styleId")===s&&y.getValue("cs_"+c)!==v){var U=new e(y.getId(),"cs_"+c,v,x,this.rb);U.disableSelect(),g.addCommand(U)}}}}catch(ee){l.e(ee)}finally{l.f()}}},{key:"addCommandsForDelete",value:function(c){var v,x,g=Q(this.rb.getDocElements(!0));try{for(g.s();!(x=g.n()).done;){var a=x.value;a.getElementType()!==$.type.text&&a.getElementType()!==$.type.tableText||!a.getValue("styleId")||S(a.getValue("styleId"))!==this.id||(v=new e(a.getId(),"styleId","",e.type.text,this.rb),c.addCommand(v))}}catch(s){g.e(s)}finally{g.f()}v=new me(!1,this.toJS(),this.getId(),this.getPanelItem().getParent().getId(),this.getPanelItem().getSiblingPosition(),this.rb),c.addCommand(v)}},{key:"addError",value:function(c){this.errors.push(c)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var c,v={},x=Q(this.getFields());try{for(x.s();!(c=x.n()).done;){var g=c.value;v[g]=this.getValue(g)}}catch(a){x.e(a)}finally{x.f()}return v}},{key:"getClassName",value:function(){return"Style"}}],[{key:"setBorderValue",value:function(c,v,x,g,a){var s=v;if(x.length>0&&(s=s.substr(x.length)),s==="borderLeft"||s==="borderTop"||s==="borderRight"||s==="borderBottom"){var l=c.getValue("".concat(x,"borderLeft"))&&c.getValue("".concat(x,"borderTop"))&&c.getValue("".concat(x,"borderRight"))&&c.getValue("".concat(x,"borderBottom")),y="".concat(x,"borderAll");l!==c[y]&&(c[y]=l,a.notifyEvent(c,w.operation.change,y))}}}]),R}();ne.font={courier:"courier",helvetica:"helvetica",times:"times"},ne.alignment={left:"left",center:"center",right:"right",justify:"justify",top:"top",middle:"middle",bottom:"bottom"};var me=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a,s,l,y,j){var U;return J(this,x),(U=v.call(this)).add=g,U.initialData=a,U.parentId=l,U.position=y,U.rb=j,U.id=s,U}return T(x,[{key:"getName",value:function(){return this.add?"Add style":"Delete style"}},{key:"do",value:function(){this.add?this.addStyle():this.deleteStyle()}},{key:"undo",value:function(){this.add?this.deleteStyle():this.addStyle()}},{key:"addStyle",value:function(){var a=this.rb.getDataObject(this.parentId);if(a!==null){var s=new ne(this.id,this.initialData,this.rb),l=new Ce("style",a.getPanelItem(),s,{draggable:!0},this.rb);l.openParentItems(),s.setPanelItem(l),a.getPanelItem().insertChild(this.position,l),this.rb.addStyle(s)}}},{key:"deleteStyle",value:function(){var a=this.rb.getDataObject(this.id);a!==null&&(this.initialData=a.toJS(),this.rb.deleteStyle(a))}},{key:"getClassName",value:function(){return"AddDeleteStyleCmd"}}]),x}(w);function de(R,O){var c=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!c){if(Array.isArray(R)||(c=function(l,y){if(l){if(typeof l=="string")return ie(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?ie(l,y):void 0}}(R))||O&&R&&typeof R.length=="number"){c&&(R=c);var v=0,x=function(){};return{s:x,n:function(){return v>=R.length?{done:!0}:{done:!1,value:R[v++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,a=!0,s=!1;return{s:function(){c=c.call(R)},n:function(){var y=c.next();return a=y.done,y},e:function(y){s=!0,g=y},f:function(){try{a||c.return==null||c.return()}finally{if(s)throw g}}}}function ie(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}var re=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a){var s;return J(this,x),(s=v.call(this)).name=g,s.rb=a,s.commands=[],s.selectObjectIds=[],s.selectionCmdIndex=[],s}return T(x,[{key:"getName",value:function(){return this.name}},{key:"do",value:function(){if(this.selectionCmdIndex.length>0)for(var a=this.selectionCmdIndex[this.selectionCmdIndex.length-1],s=0;s<this.commands.length;s++){var l=this.commands[s];l instanceof e&&l.setNotifyChange(s>=a)}for(var y=0;y<this.commands.length;y++)this.commands[y].do();this.selectObjects()}},{key:"undo",value:function(){if(this.selectionCmdIndex.length>0)for(var a=this.selectionCmdIndex.length>1?this.selectionCmdIndex[1]:this.commands.length,s=this.commands.length-1;s>=0;s--){var l=this.commands[s];l instanceof e&&l.setNotifyChange(s<a)}for(var y=this.commands.length-1;y>=0;y--)this.commands[y].undo();this.selectObjects()}},{key:"addCommand",value:function(a){a instanceof e&&a.disableSelect(),this.commands.push(a)}},{key:"addSelection",value:function(a){this.selectObjectIds.indexOf(a)===-1&&this.selectObjectIds.push(a),this.selectionCmdIndex.push(this.commands.length)}},{key:"isEmpty",value:function(){return this.commands.length===0}},{key:"getCommands",value:function(){return this.commands}},{key:"selectObjects",value:function(){var a,s=!0,l=de(this.selectObjectIds);try{for(l.s();!(a=l.n()).done;){var y=a.value;if(!this.rb.isSelectedObject(y)){s=!1;break}}}catch(fe){l.e(fe)}finally{l.f()}if(!s){var j,U=!0,ee=de(this.selectObjectIds);try{for(ee.s();!(j=ee.n()).done;){var se=j.value;this.rb.selectObject(se,U),U=!1}}catch(fe){ee.e(fe)}finally{ee.f()}}}},{key:"allowReplace",value:function(a){if(a instanceof x){var s=a.getCommands();if(this.commands.length===s.length){for(var l=0;l<this.commands.length;l++)if(!this.commands[l].allowReplace(s[l]))return!1;return!0}}return!1}},{key:"replace",value:function(a){for(var s=a.getCommands(),l=0;l<this.commands.length;l++)this.commands[l].replace(s[l])}},{key:"getClassName",value:function(){return"CommandGroupCmd"}}]),x}(w);function ge(R,O){var c=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!c){if(Array.isArray(R)||(c=function(l,y){if(l){if(typeof l=="string")return we(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?we(l,y):void 0}}(R))||O&&R&&typeof R.length=="number"){c&&(R=c);var v=0,x=function(){};return{s:x,n:function(){return v>=R.length?{done:!0}:{done:!1,value:R[v++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,a=!0,s=!1;return{s:function(){c=c.call(R)},n:function(){var y=c.next();return a=y.done,y},e:function(y){s=!0,g=y},f:function(){try{a||c.return==null||c.return()}finally{if(s)throw g}}}}function we(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}var Ce=function(){function R(O,c,v,x,g){var a=this;J(this,R),this.properties={hasChildren:!1,showAdd:!1,showDelete:!0,hasDetails:!0,visible:!0,draggable:!1},Object.assign(this.properties,x),this.panelName=O;var s=v!==null?v.getName():"";this.id=v!==null?v.getId():x.id,this.parent=c,this.data=v,this.rb=g,this.children=[],this.dragEnterCount=0,this.element=t("li"),this.properties.visible||this.element.classList.add("rbroHidden");var l=t("div",{id:"rbro_menu_item".concat(this.id),class:"rbroMenuItem"});this.properties.draggable&&(l.setAttribute("draggable","true"),l.addEventListener("dragstart",function(ee){ee.dataTransfer.setData("text/plain",""),ee.dataTransfer.effectAllowed="move",a.rb.startBrowserDrag("panelItem",null,a.id),ee.stopPropagation()})),l.addEventListener("dragover",function(ee){a.rb.isBrowserDragActive("panelItem")&&a.rb.getBrowserDragId()!==a.id&&a.getDropObjectInfo().allowDrop&&(ee.preventDefault(),ee.stopPropagation())}),l.addEventListener("dragenter",function(ee){a.rb.isBrowserDragActive("panelItem")&&a.rb.getBrowserDragId()!==a.id&&a.getDropObjectInfo().allowDrop&&(l.classList.add("rbroMenuItemDragOver"),a.dragEnterCount++,ee.preventDefault())}),l.addEventListener("dragleave",function(ee){a.rb.isBrowserDragActive("panelItem")&&a.rb.getBrowserDragId()!==a.id&&a.getDropObjectInfo().allowDrop&&(a.dragEnterCount--,a.dragEnterCount===0&&l.classList.remove("rbroMenuItemDragOver"))}),l.addEventListener("drop",function(ee){if(a.rb.isBrowserDragActive("panelItem")&&a.rb.getBrowserDragId()!==a.id){var se=a.getDropObjectInfo();if(se.allowDrop){a.dragEnterCount--,l.classList.remove("rbroMenuItemDragOver");var fe=new re("Move panel item",a.rb),be=a.rb.getDataObject(a.rb.getBrowserDragId());if(be instanceof $&&be.getValue("containerId")!==se.container.getId()){be.checkBounds(be.getValue("xVal"),be.getValue("yVal"),be.getValue("widthVal"),be.getValue("heightVal"),se.container.getSize(),fe);var _e=new e(be.getId(),"containerId",se.container.getId(),e.type.internal,a.rb);fe.addCommand(_e)}var Oe=new i(be.getPanelItem(),se.panel,se.position,a.rb);return fe.addCommand(Oe),a.rb.executeCommand(fe),ee.preventDefault(),!1}}});var y=t("div",{class:"rbroMenuItemText"});if(y.append(t("span",{id:"rbro_menu_item_name".concat(this.id)},s)),this.properties.showAdd){var j=t("div",{id:"rbro_menu_item_add".concat(this.id),class:"rbroButton rbroRoundButton rbroIcon-plus"});j.addEventListener("click",function(ee){if(O==="parameter"){var se=new je(!0,{},a.rb.getUniqueId(),a.getId(),-1,a.rb);a.rb.executeCommand(se)}else if(O==="style"){var fe=new me(!0,{},a.rb.getUniqueId(),a.getId(),-1,a.rb);a.rb.executeCommand(fe)}var be=a.children[a.children.length-1];a.rb.selectObject(be.getId(),!0),ee.stopPropagation()}),l.append(j)}if(this.properties.showDelete){var U=t("div",{class:"rbroButton rbroDeleteButton rbroIcon-cancel"});U.addEventListener("click",function(ee){var se=null;O==="parameter"?se=new je(!1,a.getData().toJS(),a.getId(),a.parent.getId(),a.getSiblingPosition(),a.rb):(O==="style"||a.isDocElementPanel()&&a.getData()instanceof $)&&(se=new re("Delete",a),a.getData().addCommandsForDelete(se)),se!==null&&a.rb.executeCommand(se),ee.stopPropagation()}),l.append(U)}l.addEventListener("click",function(ee){if(!a.properties.hasDetails||document.getElementById("rbro_menu_item".concat(a.id)).classList.contains("rbroMenuItemActive")){var se=document.getElementById("rbro_menu_item_children".concat(a.id));se&&(l.classList.toggle("rbroMenuItemOpen"),se.classList.toggle("rbroHidden"))}if(a.properties.hasDetails)if(a.rb.isSelectedObject(a.id))ee.shiftKey&&a.rb.deselectObject(a.id);else{var fe=!0;a.isDocElementPanel()&&(fe=!ee.shiftKey),a.rb.selectObject(a.id,fe)}}),this.properties.hasChildren&&(l.classList.add("rbroMenuItemNoChildren"),y.append(t("div",{id:"rbro_menu_item_children_toggle".concat(this.id),class:"rbroMenuArrow rbroIcon-arrow-right"})),this.element.append(t("ul",{id:"rbro_menu_item_children".concat(this.id),class:"rbroHidden"}))),l.prepend(y),this.element.prepend(l)}return T(R,[{key:"getId",value:function(){return this.id}},{key:"getElement",value:function(){return this.element}},{key:"show",value:function(){this.element.classList.remove("rbroHidden")}},{key:"hide",value:function(){this.element.classList.add("rbroHidden")}},{key:"getPanelName",value:function(){return this.panelName}},{key:"getParent",value:function(){return this.parent}},{key:"getData",value:function(){return this.data}},{key:"setData",value:function(c){this.data=c,document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=c!==null?c.getName():""}},{key:"setActive",value:function(){document.getElementById("rbro_menu_item".concat(this.id)).classList.add("rbroMenuItemActive")}},{key:"setInactive",value:function(){document.getElementById("rbro_menu_item".concat(this.id)).classList.remove("rbroMenuItemActive")}},{key:"getParentIds",value:function(){for(var c=[],v=this.getParent();v!==null;)c.push(v.id),v=v.getParent();return c}},{key:"openParentItems",value:function(){for(var c=this.getParent();c!==null;)c.open(),c=c.getParent()}},{key:"open",value:function(){var c=document.getElementById("rbro_menu_item_children".concat(this.getId()));c&&(document.getElementById("rbro_menu_item".concat(this.getId())).classList.add("rbroMenuItemOpen"),c.classList.remove("rbroHidden"))}},{key:"close",value:function(){var c=document.getElementById("rbro_menu_item_children".concat(this.getId()));c&&(document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemOpen"),c.classList.add("rbroHidden"))}},{key:"appendChild",value:function(c){this.children.length===0&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemNoChildren"),this.children.push(c),document.getElementById("rbro_menu_item_children".concat(this.getId())).append(c.getElement())}},{key:"insertChild",value:function(c,v){this.children.length===0&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemNoChildren"),c!==-1?this.children.splice(c,0,v):this.children.push(v);var x=document.querySelectorAll("#rbro_menu_item_children".concat(this.getId()," > li"));c>=0&&c<x.length?x[c].before(v.getElement()):document.getElementById("rbro_menu_item_children".concat(this.getId())).append(v.getElement())}},{key:"getChildren",value:function(){return this.children}},{key:"getChildByName",value:function(c){return this.getChildByNameExclude(c,null)}},{key:"getChildByNameExclude",value:function(c,v){var x,g=ge(this.children);try{for(g.s();!(x=g.n()).done;){var a=x.value;if(a.getData()!==null&&a.getData()!==v&&a.getData().getName()===c)return a}}catch(s){g.e(s)}finally{g.f()}return null}},{key:"removeChild",value:function(c){this.removeChildInternal(c,!0)}},{key:"removeChildInternal",value:function(c,v){for(var x=0;x<this.children.length;x++)if(c.getId()===this.children[x].getId()){if(this.children.splice(x,1),v&&c.getElement().remove(),this.children.length===0){var g=document.getElementById("rbro_menu_item".concat(this.getId()));g!==null&&g.classList.add("rbroMenuItemNoChildren")}break}}},{key:"getSiblingPosition",value:function(){if(this.getParent()!==null){for(var c=this.getParent().getChildren(),v=0;v<c.length;v++)if(c[v]===this)return v}return 0}},{key:"moveTo",value:function(c){this.element.parentElement.removeChild(this.element),this.parent.removeChildInternal(this,!1),this.parent=c,c.appendChild(this)}},{key:"moveToPosition",value:function(c,v){this.element.parentElement.removeChild(this.element),this.parent.removeChildInternal(this,!1),this.parent=c,c.insertChild(v,this)}},{key:"clear",value:function(){this.children.length>0&&(u(document.getElementById("rbro_menu_item_children".concat(this.id))),this.children=[])}},{key:"getDropObjectInfo",value:function(){var c={allowDrop:!1,panel:null,position:-1,container:null},v=this.rb.getDataObject(this.rb.getBrowserDragId());if(v!==null){var x=!1;if(v instanceof $){if(this.data instanceof $&&this.data.isDroppingAllowed()?(c.container=this.data.getLinkedContainer(),c.container===null&&(c.container=this.data.getContainer(),x=!0)):this.panelName==="band"&&(c.container=this.data),c.container!==null&&c.container.isElementAllowed(v.getElementType())){c.allowDrop=!0;var g,a=ge(v.getLinkedContainers());try{for(a.s();!(g=a.n()).done;){var s=g.value;if(s===c.container||c.container.isChildOf(s)){c.allowDrop=!1;break}}}catch(y){a.e(y)}finally{a.f()}}}else if(v instanceof N)if(this.data instanceof N){var l=this.data.getParent();l!==null?l.getValue("type")===N.type.array?v.getValue("type")!==N.type.array&&v.getValue("type")!==N.type.map&&v.getValue("type")!==N.type.sum&&v.getValue("type")!==N.type.average&&(c.allowDrop=!0,x=!0):l.getValue("type")===N.type.map&&v.getValue("type")!==N.type.array&&v.getValue("type")!==N.type.map&&(c.allowDrop=!0,x=!0):(c.allowDrop=!0,x=!0)}else this.panelName==="parameter"&&(c.allowDrop=!0);else v instanceof ne&&(this.data instanceof ne?(c.allowDrop=!0,x=!0):this.panelName==="style"&&(c.allowDrop=!0));c.allowDrop&&(x?(c.panel=this.getParent(),c.position=this.getSiblingPosition()+1):(c.panel=this,c.position=0),(c.panel===null||c.panel===v.getPanelItem().getParent()&&c.position===v.getPanelItem().getSiblingPosition())&&(c.allowDrop=!1))}return c}},{key:"isDocElementPanel",value:function(){return this.panelName===$.type.text||this.panelName===$.type.image||this.panelName===$.type.line||this.panelName===$.type.table||this.panelName===$.type.pageBreak||this.panelName===$.type.barCode||this.panelName===$.type.frame||this.panelName===$.type.section}}]),R}(),je=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a,s,l,y,j){var U;return J(this,x),(U=v.call(this)).add=g,U.initialData=a,U.parentId=l,U.position=y,U.rb=j,U.id=s,U.showDelete=!0,U}return T(x,[{key:"getName",value:function(){return this.add?"Add parameter":"Delete parameter"}},{key:"setShowDelete",value:function(a){this.showDelete=a}},{key:"do",value:function(){this.add?this.addParameter():this.deleteParameter()}},{key:"undo",value:function(){this.add?this.deleteParameter():this.addParameter()}},{key:"addParameter",value:function(){var a=this.rb.getDataObject(this.parentId);if(a!==null){var s=new N(this.id,this.initialData,this.rb);this.rb.addParameter(s);var l=new Ce("parameter",a.getPanelItem(),s,{hasChildren:!0,showAdd:!0,showDelete:this.showDelete,draggable:!0},this.rb);l.openParentItems(),s.setPanelItem(l),a.getPanelItem().insertChild(this.position,l),s.setup(),this.rb.notifyEvent(s,w.operation.add)}}},{key:"deleteParameter",value:function(){var a=this.rb.getDataObject(this.id);a!==null&&(this.initialData=a.toJS(),this.rb.deleteParameter(a))}},{key:"getClassName",value:function(){return"AddDeleteParameterCmd"}}]),x}(w);function V(R,O){var c=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!c){if(Array.isArray(R)||(c=function(l,y){if(l){if(typeof l=="string")return ye(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?ye(l,y):void 0}}(R))||O&&R&&typeof R.length=="number"){c&&(R=c);var v=0,x=function(){};return{s:x,n:function(){return v>=R.length?{done:!0}:{done:!1,value:R[v++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,a=!0,s=!1;return{s:function(){c=c.call(R)},n:function(){var y=c.next();return a=y.done,y},e:function(y){s=!0,g=y},f:function(){try{a||c.return==null||c.return()}finally{if(s)throw g}}}}function ye(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}var K,k,I,N=function(){function R(O,c,v){J(this,R),this.rb=v,this.id=O,this.name=v.getLabel("parameter"),this.panelItem=null,this.errors=[],this.type=R.type.string,this.arrayItemType=R.type.string,this.eval=!v.getProperty("adminMode"),this.nullable=!1,this.pattern="",this.expression="",this.testData="",this.testDataBoolean=!1,this.testDataImage="",this.testDataImageFilename="",this.children=[],this.editable=v.getProperty("adminMode"),this.showOnlyNameType=!1,this.setInitialData(c)}return T(R,[{key:"setInitialData",value:function(c){for(var v in c)c.hasOwnProperty(v)&&this.hasOwnProperty(v)&&(this[v]=c[v]);"showOnlyNameType"in c&&c.showOnlyNameType&&(this.editable=!1)}},{key:"setHighlightUnused",value:function(c){c?document.getElementById("rbro_menu_item".concat(this.panelItem.getId())).classList.add("rbroUnusedParameter"):document.getElementById("rbro_menu_item".concat(this.panelItem.getId())).classList.remove("rbroUnusedParameter")}},{key:"setup",value:function(){if(this.type===R.type.array||this.type===R.type.map){var c,v=this.rb.getProperty("adminMode"),x=V(this.children);try{for(x.s();!(c=x.n()).done;){var g=c.value,a=new R(g.id||this.rb.getUniqueId(),g,this.rb);this.rb.addParameter(a);var s=new Ce("parameter",this.panelItem,a,{hasChildren:!0,showAdd:v,showDelete:v,draggable:!0},this.rb);a.setPanelItem(s),this.panelItem.appendChild(s),a.setup(),this.rb.notifyEvent(a,w.operation.add)}}catch(l){x.e(l)}finally{x.f()}}this.updateMenuItemDisplay()}},{key:"getFields",value:function(){return["id","name","type","arrayItemType","eval","nullable","pattern","expression","showOnlyNameType","testData","testDataBoolean","testDataImage","testDataImageFilename"]}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){var c,v=this.id;if(this.type===R.type.array||this.type===R.type.map)for(var x=this.children.slice(),g=0;g<x.length;){var a=x[g];a.id>v&&(v=a.id),a.type!==R.type.array&&a.type!==R.type.map||x.push.apply(x,function(s){if(Array.isArray(s))return D(s)}(c=a.children)||function(s){if(typeof Symbol!="undefined"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(c)||function(s,l){if(s){if(typeof s=="string")return D(s,l);var y=Object.prototype.toString.call(s).slice(8,-1);return y==="Object"&&s.constructor&&(y=s.constructor.name),y==="Map"||y==="Set"?Array.from(s):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?D(s,l):void 0}}(c)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),g++}return v}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(c){this.panelItem=c}},{key:"getValue",value:function(c){return this[c]}},{key:"setValue",value:function(c,v){this[c]=v,c==="type"&&this.updateMenuItemDisplay()}},{key:"updateMenuItemDisplay",value:function(){this.rb.getProperty("adminMode")&&(this.type===R.type.array||this.type===R.type.map?(document.getElementById("rbro_menu_item_add".concat(this.getId())).removeAttribute("style"),document.getElementById("rbro_menu_item_children".concat(this.getId())).style.display="block",document.getElementById("rbro_menu_item_children_toggle".concat(this.getId())).removeAttribute("style")):(document.getElementById("rbro_menu_item_add".concat(this.getId())).style.display="none",document.getElementById("rbro_menu_item_children".concat(this.getId())).style.display="none",document.getElementById("rbro_menu_item_children_toggle".concat(this.getId())).style.display="none"))}},{key:"getParent",value:function(){return this.panelItem!==null&&this.panelItem.getParent().getData()instanceof R?this.panelItem.getParent().getData():null}},{key:"addError",value:function(c){this.errors.push(c)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"addCommandsForChangedParameterName",value:function(c,v,x){this.addCommandForChangedParameterName(c,v,"expression",x);var g,a=V(this.getChildren());try{for(a.s();!(g=a.n()).done;)g.value.addCommandsForChangedParameterName(c,v,x)}catch(s){a.e(s)}finally{a.f()}}},{key:"addCommandForChangedParameterName",value:function(c,v,x,g){var a,s,l=c.getParent();if(l!==null&&l.getValue("type")===R.type.map?(a="${"+l.getName()+"."+c.getName()+"}",s="${"+l.getName()+"."+v+"}"):c.getValue("type")===R.type.map?(a="${"+c.getName()+".",s="${"+v+"."):(a="${"+c.getName()+"}",s="${"+v+"}"),this.getValue(x).indexOf(a)!==-1){var y=new e(this.id,x,q(this.getValue(x),a,s),e.type.text,this.rb);g.addCommand(y)}}},{key:"addUpdateTestDataCmdForChangedParameterName",value:function(c,v,x){var g=v.length>0?v[0]:null;if(g!==null&&(g.type===R.type.array||g.type===R.type.map))try{var a=g.getTestData(!0);this.renameTestDataParameter(a,this.getName(),c,v,0);var s=JSON.stringify(a);if(this.testData!==s){var l=new e(g.getId(),"testData",s,e.type.text,this.rb);x.addCommand(l)}}catch(y){}}},{key:"renameTestDataParameter",value:function(c,v,x,g,a){var s,l=a+1,y=l<g.length,j=y?g[l].getName():v,U=V(c);try{for(U.s();!(s=U.n()).done;){var ee=s.value;j in ee&&(y?this.renameTestDataParameter(ee[j],v,x,g,l):(ee[x]=ee[j],delete ee[j]))}}catch(se){U.e(se)}finally{U.f()}}},{key:"addCommandsForChangedParameterType",value:function(c,v){if(this.type===R.type.array||this.type===R.type.simpleArray||this.type===R.type.map||c===R.type.array||c===R.type.simpleArray||c===R.type.map){var x=new e(this.getId(),"testData","",e.type.text,this.rb);v.addCommand(x)}if(this.type!==R.type.array&&c===R.type.array){var g={name:"row_number",type:R.type.number,eval:!1,editable:!1,showOnlyNameType:!0},a=new je(!0,g,this.rb.getUniqueId(),this.getId(),0,this.rb);a.setShowDelete(!1),v.addCommand(a)}else if(this.type===R.type.array&&c!==R.type.array){var s,l=V(this.getChildren());try{for(l.s();!(s=l.n()).done;){var y=s.value;if(y.getValue("name")==="row_number"&&!y.getValue("editable")){var j=new je(!1,y.toJS(),y.getId(),this.getId(),y.getPanelItem().getSiblingPosition(),this.rb);v.addCommand(j);break}}}catch(U){l.e(U)}finally{l.f()}}}},{key:"toJS",value:function(){var c,v={},x=V(this.getFields());try{for(x.s();!(c=x.n()).done;){var g=c.value;v[g]=this.getValue(g)}}catch(j){x.e(j)}finally{x.f()}if(this.type===R.type.array||this.type===R.type.map){var a,s=[],l=V(this.panelItem.getChildren());try{for(l.s();!(a=l.n()).done;){var y=a.value;s.push(y.getData().toJS())}}catch(j){l.e(j)}finally{l.f()}v.children=s}return v}},{key:"getChildren",value:function(){var c=[];if(this.type===R.type.array||this.type===R.type.map){var v,x=V(this.panelItem.getChildren());try{for(x.s();!(v=x.n()).done;){var g=v.value;c.push(g.getData())}}catch(a){x.e(a)}finally{x.f()}}return c}},{key:"appendParameterItems",value:function(c,v){this.appendParameterItemsWithPrefix(c,v,"")}},{key:"appendParameterItemsWithPrefix",value:function(c,v,x){if(this.type===R.type.map){var g,a=[],s=[],l=V(this.getChildren());try{for(l.s();!(g=l.n()).done;){var y=g.value;y.type===R.type.map?s.push(y):y.isAllowed(v)&&a.push(y)}}catch(_e){l.e(_e)}finally{l.f()}if(a.length>0){c.push({separator:!0,id:this.id,separatorClass:"rbroParameterGroup",name:x+this.name});var j,U=V(a);try{for(U.s();!(j=U.n()).done;){var ee=j.value,se=x+this.name+"."+ee.getName();c.push({name:se,nameLowerCase:se.toLowerCase(),id:ee.getId(),description:""})}}catch(_e){U.e(_e)}finally{U.f()}}for(var fe=0,be=s;fe<be.length;fe++)be[fe].appendParameterItemsWithPrefix(c,v,x+this.name+".")}else this.isAllowed(v)&&c.push({name:x+this.name,nameLowerCase:this.name.toLowerCase(),id:this.id,description:""})}},{key:"isAllowed",value:function(c){return this.type!==R.type.array?!Array.isArray(c)||c.indexOf(this.type)!==-1:Array.isArray(c)&&c.indexOf(this.type)!==-1}},{key:"appendFieldParameterItems",value:function(c,v,x){if(this.type===R.type.array){var g,a=!0,s=V(this.panelItem.getChildren());try{for(s.s();!(g=s.n()).done;){var l=g.value.getData();if(!Array.isArray(v)||v.indexOf(l.getValue("type"))!==-1){if(x){a&&c.push({separator:!0,id:this.id,separatorClass:"rbroParameterRowGroup",name:this.rb.getLabel("parameterRowParams")});var y=l.getName();c.push({name:y,nameLowerCase:y.toLowerCase(),id:l.getId(),description:""})}else{var j=this.name+"."+l.getName();c.push({name:j,nameLowerCase:j.toLowerCase(),id:l.getId(),description:""})}a=!1}}}catch(ee){s.e(ee)}finally{s.f()}}if(x){var U=this.getParent();U!==null&&U.appendFieldParameterItems(c,v,x)}}},{key:"getParameterFields",value:function(){var c=[];if(this.type===R.type.array||this.type===R.type.simpleArray||this.type===R.type.map)if(this.type===R.type.simpleArray)c.push({name:"data",type:this.arrayItemType,parameter:this});else{var v,x=V(this.getChildren());try{for(x.s();!(v=x.n()).done;){var g=v.value;g.showOnlyNameType||c.push({name:g.getName(),type:g.getValue("type"),parameter:g})}}catch(a){x.e(a)}finally{x.f()}}return c}},{key:"getTestData",value:function(c){var v=null;try{v=JSON.parse(this.testData)}catch(x){}return this.type!==R.type.array&&this.type!==R.type.simpleArray&&this.type!==R.type.map||!v?null:R.getSanitizedTestData(this,v,c)}},{key:"getClassName",value:function(){return"Parameter"}}],[{key:"getSanitizedTestData",value:function(c,v,x){var g;if(c.type===R.type.map)v&&Object.getPrototypeOf(v)===Object.prototype||(v={}),g=R.getSanitizedTestDataMap(c,v,x);else if(c.type===R.type.simpleArray)g=R.getSanitizedTestDataSimpleArray(c,v,x);else if(c.type===R.type.array){Array.isArray(v)||(v=[]),g=[];var a,s=V(v);try{for(s.s();!(a=s.n()).done;){var l=a.value;l&&Object.getPrototypeOf(l)===Object.prototype||(l={}),g.push(R.getSanitizedTestDataMap(c,l,x))}}catch(y){s.e(y)}finally{s.f()}}return g}},{key:"getSanitizedTestDataMap",value:function(c,v,x){var g,a={},s=V(c.getChildren());try{for(s.s();!(g=s.n()).done;){var l=g.value;if(!l.showOnlyNameType){var y=l.name in v?v[l.name]:null;l.type===R.type.array||l.type===R.type.map?a[l.name]=R.getSanitizedTestData(l,y,x):l.type===R.type.simpleArray?a[l.name]=R.getSanitizedTestDataSimpleArray(l,y,x):a[l.name]=R.getSanitizedTestDataValue(l.type,y,x)}}}catch(j){s.e(j)}finally{s.f()}return a}},{key:"getSanitizedTestDataSimpleArray",value:function(c,v,x){var g=v;Array.isArray(g)||(g=[]);var a,s=[],l=V(g);try{for(l.s();!(a=l.n()).done;){var y=a.value;if(Object.getPrototypeOf(y)===Object.prototype){var j=R.getSanitizedTestDataValue(c.arrayItemType,y.data,x);x?s.push({data:j}):s.push(j)}}}catch(U){l.e(U)}finally{l.f()}return s}},{key:"getSanitizedTestDataValue",value:function(c,v,x){var g=null;if(c===R.type.string)typeof v=="string"&&(g=v);else if(c===R.type.number){if(typeof v=="number")g=v;else if(typeof v=="string"){var a=Number(v.replaceAll(",","."));isNaN(a)||(g=a)}}else c===R.type.boolean?g=typeof v=="boolean"?v:Boolean(v):c===R.type.date?typeof v=="string"&&R.dateRegex.test(v)&&(g=v):c===R.type.image&&(g=v&&Object.getPrototypeOf(v)===Object.prototype&&"data"in v&&"filename"in v?x?v:v.data:x?{data:"",filename:""}:"");return g}},{key:"removeIds",value:function(c){if(c.children){var v,x=V(c.children);try{for(x.s();!(v=x.n()).done;){var g=v.value;"id"in g&&delete g.id}}catch(a){x.e(a)}finally{x.f()}}}}]),R}();function oe(R,O){var c=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!c){if(Array.isArray(R)||(c=function(l,y){if(l){if(typeof l=="string")return le(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?le(l,y):void 0}}(R))||O&&R&&typeof R.length=="number"){c&&(R=c);var v=0,x=function(){};return{s:x,n:function(){return v>=R.length?{done:!0}:{done:!1,value:R[v++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,a=!0,s=!1;return{s:function(){c=c.call(R)},n:function(){var y=c.next();return a=y.done,y},e:function(y){s=!0,g=y},f:function(){try{a||c.return==null||c.return()}finally{if(s)throw g}}}}function le(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}I=/^(\d{4})-(\d{1,2})-(\d{1,2})( (\d{1,2}):(\d{2})(:(\d{2}))?)?$/,(k="dateRegex")in(K=N)?Object.defineProperty(K,k,{value:I,enumerable:!0,configurable:!0,writable:!0}):K[k]=I,N.type={none:"none",string:"string",number:"number",boolean:"boolean",date:"date",image:"image",array:"array",simpleArray:"simple_array",map:"map",sum:"sum",average:"average"};var $=function(){function R(O,c,v,x,g){J(this,R),this.rb=g,this.id=c,this.name=O,this.panelItem=null,this.x="0",this.y="0",this.width=""+v,this.height=""+x,this.containerId=null,this.linkedContainerId=null,this.printIf="",this.removeEmptyElement=!1,this.el=null,this.selected=!1,this.xVal=0,this.yVal=0,this.widthVal=0,this.heightVal=0,this.errors=[]}return T(R,[{key:"setInitialData",value:function(c){for(var v in c)c.hasOwnProperty(v)&&this.hasOwnProperty(v)&&(this[v]=c[v]);this.x=""+this.x,this.y=""+this.y,this.width=""+this.width,this.height=""+this.height,this.xVal=S(this.x),this.yVal=S(this.y),this.widthVal=S(this.width),this.heightVal=S(this.height)}},{key:"setup",value:function(c){var v=this.getContainer();if(v!==null){var x=v.getContentSize();this.xVal+this.widthVal>x.width&&(this.xVal=x.width-this.widthVal),this.xVal<0&&(this.xVal=0),this.yVal+this.heightVal>x.height&&(this.yVal=x.height-this.heightVal),this.yVal<0&&(this.yVal=0),this.x=""+this.xVal,this.y=""+this.yVal}}},{key:"registerContainerEventHandlers",value:function(){var c=this;this.el.addEventListener("dblclick",function(v){c.rb.isSelectedObject(c.id)||(c.rb.selectObject(c.id,!0),v.stopPropagation())}),this.el.addEventListener("mousedown",function(v){v.shiftKey?(c.rb.deselectObject(c.id),v.stopPropagation()):c.rb.isSelectedObject(c.id)?(c.rb.getDocument().startDrag(v.pageX,v.pageY,c.id,c.containerId,c.getElementType(),R.dragType.element),v.stopPropagation()):c.rb.deselectAll(!0)}),this.el.addEventListener("touchstart",function(v){if(c.rb.isSelectedObject(c.id)){var x=B(v);c.rb.getDocument().startDrag(x.x,x.y,c.id,c.containerId,c.getElementType(),R.dragType.element)}v.preventDefault()}),this.el.addEventListener("touchmove",function(v){c.rb.getDocument().processDrag(v)}),this.el.addEventListener("touchend",function(v){c.rb.getDocument().stopDrag()})}},{key:"registerEventHandlers",value:function(){var c=this;this.el.addEventListener("dblclick",function(v){c.handleDoubleClick(v)}),this.el.addEventListener("mousedown",function(v){c.handleClick(v,!1)}),this.el.addEventListener("touchstart",function(v){if(c.rb.isSelectedObject(c.id)){var x=B(v);c.rb.getDocument().startDrag(x.x,x.y,c.id,c.containerId,c.getElementType(),R.dragType.element),v.preventDefault()}else c.handleClick(v,!0)}),this.el.addEventListener("touchmove",function(v){c.rb.isSelectedObject(c.id)&&c.rb.getDocument().processDrag(v)}),this.el.addEventListener("touchend",function(v){c.rb.isSelectedObject(c.id)&&c.rb.getDocument().stopDrag()})}},{key:"handleDoubleClick",value:function(c){this.handleClick(c,!0)}},{key:"handleClick",value:function(c,v){if(this.rb.isSelectedObject(this.id))c.shiftKey?this.rb.deselectObject(this.id):v||this.rb.getDocument().startDrag(c.pageX,c.pageY,this.id,this.containerId,this.getElementType(),R.dragType.element),c.stopPropagation();else if(v||!this.isContainerSelected()){var x=!0;if(c.shiftKey){var g=[];this.appendContainerChildren(g);for(var a=0,s=g;a<s.length;a++){var l=s[a];if(this.rb.isSelectedObject(l.getId())){x=!1;break}}}x&&this.rb.selectObject(this.id,!c.shiftKey),c.stopPropagation()}}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(c){this.panelItem=c}},{key:"getContainerId",value:function(){return this.containerId}},{key:"getContainer",value:function(){return this.rb.getDataObject(this.getContainerId())}},{key:"getLinkedContainer",value:function(){return this.linkedContainerId!==null?this.rb.getDataObject(this.linkedContainerId):null}},{key:"getLinkedContainers",value:function(){var c=this.getLinkedContainer();return c?[c]:[]}},{key:"getContainerContentSize",value:function(){var c=this.getContainer();return c!==null?c.getContentSize():{width:0,height:0}}},{key:"appendToContainer",value:function(){var c=this.getContainer();c!==null&&c.appendElement(this.el)}},{key:"isContainerSelected",value:function(){var c=this.getContainer();return c!==null&&c.isSelected()}},{key:"appendContainerChildren",value:function(c){if(this.linkedContainerId!==null&&this.panelItem!==null){var v,x=oe(this.panelItem.getChildren());try{for(x.s();!(v=x.n()).done;){var g=v.value;g.getData()instanceof R&&(c.push(g.getData()),g.getData().appendContainerChildren(c))}}catch(a){x.e(a)}finally{x.f()}}}},{key:"getAbsolutePosition",value:function(){var c={x:this.xVal,y:this.yVal},v=this.getContainer();if(v!==null){var x=v.getOffset();c.x+=x.x,c.y+=x.y}return c}},{key:"checkBounds",value:function(c,v,x,g,a,s){if(c+x>a.width&&(c=a.width-x),c<0&&(c=0),c+x>a.width&&(x=a.width-c),v+g>a.height&&(v=a.height-g),v<0&&(v=0),v+g>a.height&&(g=a.height-v),c!==this.xVal&&this.hasProperty("x")){var l=new e(this.id,"x",""+c,e.type.text,this.rb);l.disableSelect(),s.addCommand(l)}if(v!==this.yVal&&this.hasProperty("y")){var y=new e(this.id,"y",""+v,e.type.text,this.rb);y.disableSelect(),s.addCommand(y)}if(x!==this.getDisplayWidth()&&this.hasProperty("width")&&this.addCommandsForChangedWidth(x,!0,s),g!==this.getDisplayHeight()&&this.hasProperty("height")){var j=new e(this.id,"height",""+g,e.type.text,this.rb);j.disableSelect(),s.addCommand(j)}var U=this.getLinkedContainer();if(U!==null&&U.getPanelItem()!==null){var ee,se={width:x,height:g},fe=oe(U.getPanelItem().getChildren());try{for(fe.s();!(ee=fe.n()).done;){var be=ee.value;if(be.getData()instanceof R){var _e=be.getData();_e.checkBounds(_e.getValue("xVal"),_e.getValue("yVal"),_e.getDisplayWidth(),_e.getDisplayHeight(),se,s)}}}catch(Oe){fe.e(Oe)}finally{fe.f()}}}},{key:"getValue",value:function(c){return this[c]}},{key:"setValue",value:function(c,v){if(this[c]=v,c==="x"||c==="y"||c==="width"||c==="height")this[c+"Val"]=S(v),this.updateDisplay();else if(c==="containerId"){this.el!==null&&(this.el.parentElement.removeChild(this.el),this.appendToContainer());var x=this.getLinkedContainers();if(x.length>0){var g,a=this.getContainer(),s=oe(x);try{for(s.s();!(g=s.n()).done;)g.value.setParent(a)}catch(j){s.e(j)}finally{s.f()}}var l,y=oe(this.rb.getContainers());try{for(y.s();!(l=y.n()).done;)l.value.initLevel()}catch(j){y.e(j)}finally{y.f()}this.updateDisplay()}else["styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(c)!==-1&&(this.updateStyle(),["borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(c)!==-1&&this.updateDisplay())}},{key:"getUpdateValue",value:function(c,v){return v}},{key:"getDisplayWidth",value:function(){return this.widthVal}},{key:"getDisplayHeight",value:function(){return this.heightVal}},{key:"getFields",value:function(){var c=this.getProperties();return c.splice(0,0,"id","containerId"),c}},{key:"getProperties",value:function(){return[]}},{key:"hasProperty",value:function(c){return this.getProperties().indexOf(c)!==-1}},{key:"getElementType",value:function(){return R.type.none}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.widthVal,this.heightVal)}},{key:"updateDisplayInternal",value:function(c,v,x,g){this.el!==null&&(this.el.style.left=this.rb.toPixel(c),this.el.style.top=this.rb.toPixel(v),this.el.style.width=this.rb.toPixel(x),this.el.style.height=this.rb.toPixel(g))}},{key:"updateStyle",value:function(){}},{key:"updateChangedStyle",value:function(c){S(this.styleId)===c&&this.updateStyle()}},{key:"getDragDiff",value:function(c,v,x,g){var a,s,l={x:0,y:0},y=this.xVal,j=this.yVal,U=y+this.getDisplayWidth(),ee=j+this.getDisplayHeight(),se=this.getMinWidth(),fe=this.getMaxWidth(),be=this.getMinHeight();if(x===R.dragType.element)a=y+c,g!==0&&(a=L(a,g)),s=j+v,g!==0&&(s=L(s,g)),l.x=a-y,l.y=s-j;else{var _e=this.getContainerContentSize();x!==R.dragType.sizerNW&&x!==R.dragType.sizerN&&x!==R.dragType.sizerNE||(s=j+v,g!==0&&(s=L(s,g)),s>ee-be?s=g!==0?P(ee-be,g):ee-be:s<0&&(s=0),l.y=s-j),x!==R.dragType.sizerNE&&x!==R.dragType.sizerE&&x!==R.dragType.sizerSE||(a=U+c,g!==0&&(a=L(a,g)),a<y+se?a=g!==0?M(y+se,g):y+se:a>fe&&(a=fe),l.x=a-U),x!==R.dragType.sizerSE&&x!==R.dragType.sizerS&&x!==R.dragType.sizerSW||(s=ee+v,g!==0&&(s=L(s,g)),s<j+be?s=g!==0?M(j+be,g):j+be:s>_e.height&&(s=_e.height),l.y=s-ee),x!==R.dragType.sizerSW&&x!==R.dragType.sizerW&&x!==R.dragType.sizerNW||(a=y+c,g!==0&&(a=L(a,g)),a>U-se?a=g!==0?P(U-se,g):U-se:a<0&&(a=0),l.x=a-y)}return l}},{key:"updateDrag",value:function(c,v,x,g,a){var s=this.xVal,l=this.yVal,y=s+this.getDisplayWidth(),j=l+this.getDisplayHeight(),U=this.getMaxWidth(),ee=this.getContainerContentSize();x===R.dragType.element?(y=(s+=c)+this.getDisplayWidth(),j=(l+=v)+this.getDisplayHeight()):(x!==R.dragType.sizerNW&&x!==R.dragType.sizerN&&x!==R.dragType.sizerNE||(l+=v),x!==R.dragType.sizerNE&&x!==R.dragType.sizerE&&x!==R.dragType.sizerSE||(y+=c),x!==R.dragType.sizerSE&&x!==R.dragType.sizerS&&x!==R.dragType.sizerSW||(j+=v),x!==R.dragType.sizerSW&&x!==R.dragType.sizerW&&x!==R.dragType.sizerNW||(s+=c),s<0&&(s=0),y<s&&(y=s),l<0&&(l=0),j<l&&(j=l),y>U&&(y=U),j>ee.height&&(j=ee.height));var se=y-s,fe=j-l;if(a!==null){var be=!1,_e=this.getContainer(),Oe={width:0,height:0};if(g!==null&&g.getId()!==this.getContainerId()){if(be=!0,Oe=g.getContentSize(),_e!==null){var Te=g.getOffsetTo(_e);s-=Te.x,l-=Te.y}}else Oe=_e.getContentSize();if(!be||g.isElementAllowed(this.getElementType())){var Re=a.getCommands().length;if(this.checkBounds(s,l,se,fe,Oe,a),be){var ze=new e(this.id,"containerId",g.getId(),e.type.internal,this.rb);a.addCommand(ze),ze=new i(this.getPanelItem(),g.getPanelItem(),g.getPanelItem().getChildren().length,this.rb),a.addCommand(ze)}a.getCommands().length===Re&&this.updateDisplay()}else this.updateDisplay()}else this.updateDisplayInternal(s,l,se,fe)}},{key:"select",value:function(){var c=this;if(this.el!==null){var v,x=this.getSizerContainerElement(),g=oe(this.getSizers());try{var a=function(){var l=v.value,y=l,j=t("div",{class:"rbroSizer rbroSizer".concat(l)});j.addEventListener("mousedown",function(U){c.rb.getDocument().startDrag(U.pageX,U.pageY,c.id,c.containerId,c.getElementType(),R.dragType["sizer"+y]),U.stopPropagation()}),j.addEventListener("touchstart",function(U){if(c.rb.isSelectedObject(c.id)){var ee=B(U);c.rb.getDocument().startDrag(ee.x,ee.y,c.id,c.containerId,c.getElementType(),R.dragType["sizer"+y])}U.preventDefault(),U.stopPropagation()}),j.addEventListener("touchmove",function(U){c.rb.getDocument().processDrag(U)}),j.addEventListener("touchend",function(U){c.rb.getDocument().stopDrag()}),x.append(j)};for(g.s();!(v=g.n()).done;)a()}catch(s){g.e(s)}finally{g.f()}this.el.classList.add("rbroSelected"),this.el.style.zIndex="10"}this.selected=!0}},{key:"deselect",value:function(){if(this.el!==null){var c,v=oe(this.getSizerContainerElement().querySelectorAll(".rbroSizer"));try{for(v.s();!(c=v.n()).done;)c.value.remove()}catch(x){v.e(x)}finally{v.f()}this.el.style.zIndex="",this.el.classList.remove("rbroSelected")}this.selected=!1}},{key:"getSizers",value:function(){return["N","NE","E","SE","S","SW","W","NW"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isAreaSelectionAllowed",value:function(){return!0}},{key:"isDraggingAllowed",value:function(){return!0}},{key:"isDroppingAllowed",value:function(){return!0}},{key:"getMinWidth",value:function(){return 20}},{key:"getMaxWidth",value:function(){return this.getContainerContentSize().width}},{key:"getMinHeight",value:function(){return 20}},{key:"createElement",value:function(){}},{key:"getElement",value:function(){return this.el}},{key:"getSizerContainerElement",value:function(){return this.el}},{key:"getContentElement",value:function(){return null}},{key:"hasDataSource",value:function(){return!1}},{key:"getDataSourceParameterName",value:function(){if(this.hasDataSource()){var c=this.getValue("dataSource").trim();if(c.length>=3&&c.substr(0,2)==="${"&&c.charAt(c.length-1)==="}")return c.substring(2,c.length-1)}return null}},{key:"getAllDataSources",value:function(){var c=[],v=[];this.getAllDataSourceParameterNames(v,null);for(var x=v.length-1;x>=0;x--){var g,a=v[x],s=null,l=oe(c);try{for(l.s();!(g=l.n()).done;){var y,j=oe(g.value.parameters);try{for(j.s();!(y=j.n()).done;){var U=y.value;if(U.getName()===a){s=U;break}}}catch(ee){j.e(ee)}finally{j.f()}}}catch(ee){l.e(ee)}finally{l.f()}s===null&&(s=this.rb.getParameterByName(a)),s!==null&&s.getValue("type")===N.type.array&&c.unshift({name:a,parameters:s.getChildren()})}return c}},{key:"getAllDataSourceParameterNames",value:function(c,v){if((this.getElementType()===R.type.table||this.getElementType()===R.type.section)&&v&&v.getValue("bandType")===H.bandType.content){var x=this.getDataSourceParameterName();x!==null&&c.push(x)}var g=this.getPanelItem();if(g!==null){var a=g.getParent();a!==null&&a.getData()instanceof R&&a.getData().getAllDataSourceParameterNames(c,this)}}},{key:"addCommandsForChangedParameterName",value:function(c,v,x){}},{key:"addCommandForChangedParameterName",value:function(c,v,x,g){var a=c.getParent(),s=this.getAllDataSources(),l=null,y=null;if(a!==null&&a.getValue("type")===N.type.array){var j,U=oe(s);try{for(U.s();!(j=U.n()).done;)if(j.value.parameters.indexOf(c)!==-1){l="${"+c.getName()+"}",y="${"+v+"}";break}}catch(Ne){U.e(Ne)}finally{U.f()}}else if(a!==null&&a.getValue("type")===N.type.map)l="${"+a.getName()+"."+c.getName()+"}",y="${"+a.getName()+"."+v+"}";else if(c.getValue("type")===N.type.map)l="${"+c.getName()+".",y="${"+v+".";else{var ee,se=!1,fe=oe(s);try{for(fe.s();!(ee=fe.n()).done;){var be,_e=oe(ee.value.parameters);try{for(_e.s();!(be=_e.n()).done;)if(be.value.getName()===c.getName()){se=!0;break}}catch(Ne){_e.e(Ne)}finally{_e.f()}}}catch(Ne){fe.e(Ne)}finally{fe.f()}se||(l="${"+c.getName()+"}",y="${"+v+"}")}if(l!==null&&y!==null){var Oe=this.getValue(x),Te=e.type.text;if(h(Oe)==="object"&&(Oe=JSON.stringify(Oe),Te=e.type.richText),Oe.indexOf(l)!==-1){var Re=q(Oe,l,y);Te===e.type.richText&&(Re=JSON.parse(Re));var ze=new e(this.id,x,Re,Te,this.rb);g.addCommand(ze)}}}},{key:"addCommandsForDelete",value:function(c){var v=[];this.appendContainerChildren(v),v.push(this);for(var x=0,g=v;x<g.length;x++){var a=g[x],s=new Tt(!1,a.getPanelItem().getPanelName(),a.toJS(),a.getId(),a.getContainerId(),a.getPanelItem().getSiblingPosition(),this.rb);c.addCommand(s)}}},{key:"addCommandsForChangedWidth",value:function(c,v,x){var g=new e(this.id,"width",""+c,e.type.text,this.rb);v&&g.disableSelect(),x.addCommand(g)}},{key:"addChildren",value:function(c){}},{key:"addError",value:function(c){this.errors.push(c)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){this.el!==null&&(this.el.remove(),this.el=null),this.panelItem!==null&&(this.panelItem.getParent().removeChild(this.panelItem),this.panelItem=null)}},{key:"toJS",value:function(){var c,v={elementType:this.getElementType()},x=oe(this.getFields());try{for(x.s();!(c=x.n()).done;){var g=c.value;["x","y","width","height"].indexOf(g)===-1?v[g]=this.getValue(g):v[g]=this.getValue(g+"Val")}}catch(a){x.e(a)}finally{x.f()}return v}}]),R}();$.type={none:"none",text:"text",image:"image",line:"line",table:"table",pageBreak:"page_break",tableText:"table_text",barCode:"bar_code",frame:"frame",section:"section"},$.dragType={none:-1,element:0,sizerN:1,sizerNE:2,sizerE:3,sizerSE:4,sizerS:5,sizerSW:6,sizerW:7,sizerNW:8};var xe=Qe(5961),Le=Qe.n(xe),Se=Qe(2592),Ue=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a,s){var l;return J(this,x),(l=v.call(this,s.getLabel("docElementImage"),g,80,80,s)).elBarCode=null,l.elContent=null,l.content="",l.format="CODE128",l.displayValue=!1,l.barWidth="2",l.guardBar=!1,l.errorCorrectionLevel="M",l.rotate=!1,l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_colspan="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(a),l.name=l.rb.getLabel("docElementBarCode"),l}return T(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.content!==""&&this.updateBarCode(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(a,s){o(f(x.prototype),"setValue",this).call(this,a,s),a!=="content"&&a!=="format"&&a!=="displayValue"&&a!=="barWidth"&&a!=="guardBar"&&a!=="width"&&a!=="height"&&a!=="errorCorrectionLevel"&&a!=="rotate"||(this.updateBarCode(),this.updateDisplay(),a==="rotate"&&this.rb.isSelectedObject(this.getId())&&(this.rb.deselectObject(this.getId()),this.rb.selectObject(this.getId())))}},{key:"getProperties",value:function(){return["x","y","width","height","content","format","displayValue","barWidth","guardBar","errorCorrectionLevel","printIf","removeEmptyElement","rotate","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return $.type.barCode}},{key:"updateDisplayInternal",value:function(a,s,l,y){this.el!==null&&(this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(s),this.el.style.width=this.rb.toPixel(l),this.el.style.height=this.rb.toPixel(y))}},{key:"getSizers",value:function(){return this.format!=="QRCode"&&this.rotate?["N","NE","E","SE","S","SW","W","NW"]:["N","S"]}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroBarCodeElement"}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),style:"height: 100%"}),this.elBarCode=t("canvas",{id:"rbro_el_barcode".concat(this.id)}),this.elContent.append(this.elBarCode),this.el.append(this.elContent),this.appendToContainer(),this.updateBarCode(),o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){o(f(x.prototype),"remove",this).call(this)}},{key:"updateBarCode",value:function(){if(this.format==="QRCode"){this.widthVal=this.heightVal,this.width=""+this.widthVal;var a=this.content;a===""&&(a="https://www.reportbro.com");var s={width:this.widthVal,margin:0,errorCorrectionLevel:this.errorCorrectionLevel};this.clearRotateStyle(),Se.toCanvas(this.elBarCode,a,s)}else{var l=!1,y=this.rotate?this.widthVal:this.heightVal;this.displayValue&&(y-=22),this.format!=="EAN8"&&this.format!=="EAN13"||!this.guardBar||(y-=12);var j={format:this.format,height:y,margin:0,displayValue:this.displayValue,width:2};this.format==="EAN8"||this.format==="EAN13"?j.flat=!this.guardBar:this.format==="UPC"&&(j.flat=!0);var U=S(this.barWidth);if(U&&(j.width=U),this.elBarCode.style.width="",this.elBarCode.style.height="",this.content!==""&&this.content.indexOf("${")===-1)try{Le()("#"+this.elBarCode.id,this.content,j),l=!0}catch(be){}if(!l){var ee="";this.format==="CODE39"||this.format==="CODE128"?ee="12345678":this.format==="EAN13"?ee="5901234123457":this.format==="EAN8"?ee="96385074":this.format==="EAN5"?ee="12345":this.format==="EAN2"?ee="12":this.format==="ITF14"?ee="12345678901231":this.format==="UPC"?ee="036000291452":this.format!=="MSI"&&this.format!=="MSI10"&&this.format!=="MSI11"&&this.format!=="MSI1010"&&this.format!=="MSI1110"&&this.format!=="pharmacode"||(ee="1234"),Le()("#"+this.elBarCode.id,ee,j)}if(this.rotate){var se=-(this.elBarCode.clientWidth-this.widthVal)/2,fe=-se;this.elBarCode.style.transform="translate(".concat(se,"px, ").concat(fe,"px) rotate(90deg)"),this.elContent.style.overflow="hidden"}else this.widthVal=this.elBarCode.clientWidth,this.width=""+this.widthVal,this.clearRotateStyle()}}},{key:"clearRotateStyle",value:function(){this.elBarCode.style.transform="",this.elContent.style.overflow=""}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"content",l),this.addCommandForChangedParameterName(a,s,"printIf",l)}},{key:"getClassName",value:function(){return"BarCodeElement"}}]),x}($),Ze=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a,s){return J(this,x),v.call(this,g,a,s)}return T(x,[{key:"setup",value:function(){this.el=this.rb.getDocument().getElement(this.band)}},{key:"isElementAllowed",value:function(a){return a!==$.type.pageBreak&&a!==$.type.frame&&a!==$.type.section}},{key:"getOffset",value:function(){var a=0,s=0;if(this.owner!==null&&(a=this.owner.getValue("xVal"),s=this.owner.getValue("yVal")),this.parent!==null){var l=this.parent.getOffset();a+=l.x,s+=l.y}return{x:a,y:s}}},{key:"getSize",value:function(){var a=0,s=0;return this.owner!==null&&(a=this.owner.getValue("widthVal"),s=this.owner.getValue("heightVal")),{width:a,height:s}}},{key:"getContentSize",value:function(){var a=0,s=0;if(this.owner!==null){a=this.owner.getValue("widthVal"),s=this.owner.getValue("heightVal");var l=this.owner.getValue("borderWidthVal");this.owner.getValue("borderLeft")&&(a-=l),this.owner.getValue("borderRight")&&(a-=l),this.owner.getValue("borderTop")&&(s-=l),this.owner.getValue("borderBottom")&&(s-=l)}return{width:a,height:s}}}]),x}(r),et=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a,s){var l;return J(this,x),(l=v.call(this,s.getLabel("docElementFrame"),g,100,100,s)).frame=null,l.setupComplete=!1,l.elContent=null,l.elContentFrame=null,l.label="",l.backgroundColor="",l.borderAll=!1,l.borderLeft=!1,l.borderTop=!1,l.borderRight=!1,l.borderBottom=!1,l.borderColor="#000000",l.borderWidth="1",l.shrinkToContentHeight=!1,l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(a),l.borderWidthVal=S(l.borderWidth),l}return T(x,[{key:"setup",value:function(a){this.borderWidthVal=S(this.borderWidth),o(f(x.prototype),"setup",this).call(this),this.createElement(),this.updateDisplay(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.frame=new Ze(this.linkedContainerId,"frame_"+this.linkedContainerId,this.rb),this.frame.init(this),this.rb.addContainer(this.frame),this.setupComplete=!0,this.updateStyle(),this.updateName(),a&&this.panelItem.open()}},{key:"registerEventHandlers",value:function(){o(f(x.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"setValue",value:function(a,s){a.indexOf("border")!==-1&&(this[a]=s,a==="borderWidth"&&(this.borderWidthVal=S(s)),ne.setBorderValue(this,a,"",s,this.rb)),o(f(x.prototype),"setValue",this).call(this,a,s),a==="label"&&this.updateName()}},{key:"updateDisplayInternal",value:function(a,s,l,y){this.el!==null&&(this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(s),this.el.style.width=this.rb.toPixel(l),this.el.style.height=this.rb.toPixel(y)),this.borderLeft&&(l-=this.borderWidthVal),this.borderRight&&(l-=this.borderWidthVal),this.borderTop&&(y-=this.borderWidthVal),this.borderBottom&&(y-=this.borderWidthVal),this.elContentFrame.style.width=this.rb.toPixel(l),this.elContentFrame.style.height=this.rb.toPixel(y)}},{key:"updateStyle",value:function(){var a;this.getValue("borderLeft")||this.getValue("borderTop")||this.getValue("borderRight")||this.getValue("borderBottom")?(a=this.getValue("borderTop")?"solid":"none",a+=this.getValue("borderRight")?" solid":" none",a+=this.getValue("borderBottom")?" solid":" none",a+=this.getValue("borderLeft")?" solid":" none",this.elContent.style.borderWidth=this.getValue("borderWidthVal")+"px",this.elContent.style.borderColor=this.getValue("borderColor")):a="none",this.elContent.style.borderStyle=a,this.el.style.backgroundColor=this.getValue("backgroundColor")}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,0,"id","containerId","linkedContainerId"),a}},{key:"getProperties",value:function(){return["label","x","y","width","height","backgroundColor","borderAll","borderLeft","borderTop","borderRight","borderBottom","borderColor","borderWidth","printIf","removeEmptyElement","shrinkToContentHeight","alignToPageBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return $.type.frame}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroFrameElement rbroElementContainer"}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentFrame=t("div",{id:"rbro_el_content_frame".concat(this.id),class:"rbroDocElementContentFrame"}),this.elContent.append(this.elContentFrame),this.el.append(this.elContent),this.appendToContainer(),this.registerEventHandlers()}},{key:"getContentElement",value:function(){return this.elContentFrame}},{key:"remove",value:function(){o(f(x.prototype),"remove",this).call(this),this.rb.deleteContainer(this.frame)}},{key:"updateName",value:function(){this.label.trim()!==""?this.name=this.label:this.name=this.rb.getLabel("docElementFrame"),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"printIf",l)}},{key:"getClassName",value:function(){return"FrameElement"}}]),x}($),ht=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a,s){var l;return J(this,x),(l=v.call(this,s.getLabel("docElementImage"),g,80,80,s)).source="",l.image="",l.imageWidth=0,l.imageHeight=0,l.imageRatio=0,l.imageFilename="",l.elImg=null,l.elContent=null,l.horizontalAlignment=ne.alignment.left,l.verticalAlignment=ne.alignment.top,l.backgroundColor="",l.link="",l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(a),l}return T(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.setImage(),this.updateDisplay(),this.updateStyle(),this.updateName()}},{key:"setValue",value:function(a,s){o(f(x.prototype),"setValue",this).call(this,a,s),a!=="source"&&a!=="imageFilename"||this.updateName(),a!=="source"&&a!=="image"||this.setImage()}},{key:"getProperties",value:function(){return["x","y","width","height","source","image","imageFilename","horizontalAlignment","verticalAlignment","backgroundColor","printIf","removeEmptyElement","link","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return $.type.image}},{key:"updateDisplayInternal",value:function(a,s,l,y){if(this.el!==null){this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(s),this.el.style.width=this.rb.toPixel(l),this.el.style.height=this.rb.toPixel(y);var j=0,U=0;if(this.imageRatio!==0&&(j=this.imageWidth<l?this.imageWidth:l,U=this.imageHeight<y?this.imageHeight:y,j!==this.imageWidth||U!==this.imageHeight)){var ee=Math.floor(U*this.imageRatio);ee<l?j=ee:U=Math.floor(j/this.imageRatio)}this.elImg.style.width=this.rb.toPixel(j),this.elImg.style.height=this.rb.toPixel(U)}}},{key:"updateStyle",value:function(){var a=this.getValue("horizontalAlignment"),s=this.getValue("verticalAlignment"),l="rbroDocElementAlign"+a.charAt(0).toUpperCase()+a.slice(1),y="rbroDocElementVAlign"+s.charAt(0).toUpperCase()+s.slice(1);this.elContent.style.textAlign=a,this.elContent.style.verticalAlign=s,this.elContent.style.backgroundColor=this.getValue("backgroundColor"),this.elContent.className="",this.elContent.classList.add("rbroContentContainerHelper"),this.elContent.classList.add(l),this.elContent.classList.add(y)}},{key:"createElement",value:function(){var a=this;this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroImageElement"}),this.elImg=t("img",{src:""}),this.elImg.addEventListener("load",function(s){a.imageWidth=a.elImg.naturalWidth,a.imageHeight=a.elImg.naturalHeight,a.imageHeight!==0?a.imageRatio=a.imageWidth/a.imageHeight:a.imageRatio=0,a.updateDisplay()}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContent.append(this.elImg),this.el.append(this.elContent),this.appendToContainer(),o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){this.elImg=null,o(f(x.prototype),"remove",this).call(this)}},{key:"setImage",value:function(){this.elImg.setAttribute("src",""),this.source.startsWith("https://")||this.source.startsWith("http://")?this.elImg.setAttribute("src",this.source):this.image!==""?this.elImg.setAttribute("src",this.image):(this.imageWidth=0,this.imageHeight=0,this.imageRatio=0,this.updateDisplay())}},{key:"updateName",value:function(){this.getValue("imageFilename").trim()!==""?this.name=this.getValue("imageFilename"):this.getValue("source").trim()!==""?this.name=this.getValue("source"):this.name=this.rb.getLabel("docElementImage");var a=document.getElementById("rbro_menu_item_name".concat(this.id));a.textContent=this.name,a.setAttribute("title",this.name)}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"source",l),this.addCommandForChangedParameterName(a,s,"printIf",l)}},{key:"getClassName",value:function(){return"ImageElement"}}]),x}($),Ct=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a,s){var l;return J(this,x),(l=v.call(this,s.getLabel("docElementLine"),g,100,1,s)).color="#000000",l.setInitialData(a),l}return T(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(a,s){o(f(x.prototype),"setValue",this).call(this,a,s),a==="color"&&this.updateStyle()}},{key:"getProperties",value:function(){return["x","y","width","height","color","printIf"]}},{key:"getElementType",value:function(){return $.type.line}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.getValue("color")}},{key:"getSizers",value:function(){return["E","W"]}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroLineElement"}),this.appendToContainer(),o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"printIf",l)}},{key:"getClassName",value:function(){return"LineElement"}}]),x}($),It=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a,s){var l;return J(this,x),(l=v.call(this,s.getLabel("docElementPageBreak"),g,-1,1,s)).setInitialData(a),l}return T(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(a,s){o(f(x.prototype),"setValue",this).call(this,a,s)}},{key:"getProperties",value:function(){return["y","printIf"]}},{key:"getElementType",value:function(){return $.type.pageBreak}},{key:"updateDisplayInternal",value:function(a,s,l,y){this.el!==null&&(this.el.style.left=this.rb.toPixel(0),this.el.style.top=this.rb.toPixel(s),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(1))}},{key:"getSizers",value:function(){return[]}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroPageBreakElement"}),this.appendToContainer(),o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"getClassName",value:function(){return"PageBreakElement"}}]),x}($),$t=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a,s,l){var y;J(this,x);var j=s===H.bandType.header?l.getLabel("bandHeader"):s===H.bandType.footer?l.getLabel("bandFooter"):l.getLabel("bandContent");return(y=v.call(this,j,g,0,100,l)).setupComplete=!1,y.band=null,y.bandType=s,y.repeatHeader=!1,y.alwaysPrintOnSamePage=!0,y.shrinkToContentHeight=!1,y.parentId=a.parentId,y.heightVal=0,y.visible=s===H.bandType.content,y.setInitialData(a),y}return T(x,[{key:"setup",value:function(){this.createElement(),this.updateDisplay(),this.updateStyle(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.band=new H(this.bandType,!0,this.linkedContainerId,"section_"+this.bandType+"_"+this.linkedContainerId,this.rb),this.band.init(this),this.rb.addContainer(this.band),this.setupComplete=!0}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"getAbsolutePosition",value:function(){var a={x:0,y:0},s=this.getParent();return s!==null&&(a=s.getAbsolutePosition()),a.y+=this.yVal,a}},{key:"setValue",value:function(a,s){if(o(f(x.prototype),"setValue",this).call(this,a,s),a==="height"){this[a+"Val"]=S(s);var l=this.getParent();l!==null&&l.updateBands(this)}}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,0,"id","containerId","linkedContainerId"),a}},{key:"getProperties",value:function(){return this.bandType===H.bandType.header?["height","repeatHeader","shrinkToContentHeight"]:["height","alwaysPrintOnSamePage","shrinkToContentHeight"]}},{key:"updateDisplayInternal",value:function(a,s,l,y){if(this.el!==null&&(this.el.style.top=this.rb.toPixel(s),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(y),this.setupComplete)){var j=this.getParent();j!==null&&j.updateHeight(this,y)}}},{key:"select",value:function(){o(f(x.prototype),"select",this).call(this),this.el.classList.add("rbroHighlightBandDescription")}},{key:"deselect",value:function(){o(f(x.prototype),"deselect",this).call(this),this.el.classList.remove("rbroHighlightBandDescription")}},{key:"getSizers",value:function(){return["S"]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroSectionBandElement rbroElementContainer"}),this.el.append(t("div",{id:"rbro_el_band_description".concat(this.id),class:"rbroDocumentBandDescription"})),document.getElementById("rbro_el".concat(this.parentId)).append(this.el)}},{key:"getContentElement",value:function(){return this.el}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"show",value:function(a){this.visible=a,a?this.el.classList.remove("rbroHidden"):this.el.classList.add("rbroHidden")}},{key:"isVisible",value:function(){return this.visible}},{key:"getClassName",value:function(){return"SectionBandElement"}}]),x}($);function yt(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}var Dt=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a,s){var l;return J(this,x),(l=v.call(this,s.getLabel("docElementSection"),g,-1,60,s)).setupComplete=!1,l.elDividerHeader=null,l.elDividerFooter=null,l.elDividerBottom=null,l.dataSource="",l.label="",l.header=!1,l.footer=!1,l.headerData=null,l.contentData=null,l.footerData=null,l.setInitialData(a),l}return T(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.headerData=this.createBand(H.bandType.header,null),this.contentData=this.createBand(H.bandType.content,null),this.footerData=this.createBand(H.bandType.footer,null),this.updateHeight(null,-1),this.setWidth(this.getContainerContentSize().width),this.setupComplete=!0,this.updateName(),a&&this.panelItem.open()}},{key:"createBand",value:function(a,s){var l,y,j=a+"Data",U={hasChildren:!0,showDelete:!1};s?l=s:this[j]?y=(l=this[j]).id:l={},l.parentId=this.id,l.containerId=this.containerId,y||(y=this.rb.getUniqueId());var ee=0;a===H.bandType.header?l.y=""+ee:a===H.bandType.content?(this.header&&this.headerData!==null&&(ee+=this.headerData.getValue("heightVal")),l.y=""+ee):a===H.bandType.footer&&(this.header&&this.headerData!==null&&(ee+=this.headerData.getValue("heightVal")),this.contentData!==null&&(ee+=this.contentData.getValue("heightVal")),l.y=""+ee),(a===H.bandType.header&&!this.header||a===H.bandType.footer&&!this.footer)&&(U.visible=!1);var se=new $t(y,l,a,this.rb);this.rb.addDataObject(se);var fe=new Ce("section_band",this.panelItem,se,U,this.rb);return se.setPanelItem(fe),this.panelItem.appendChild(fe),se.setup(),a===H.bandType.header?se.show(this.header):a===H.bandType.footer&&se.show(this.footer),se}},{key:"registerEventHandlers",value:function(){o(f(x.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){var a=this.id;return this.footerData!==null&&(a=this.footerData.getMaxId()),a}},{key:"appendContainerChildren",value:function(a){this.headerData!==null&&this.headerData.appendContainerChildren(a),this.contentData!==null&&this.contentData.appendContainerChildren(a),this.footerData!==null&&this.footerData.appendContainerChildren(a)}},{key:"setValue",value:function(a,s){o(f(x.prototype),"setValue",this).call(this,a,s),a==="label"||a==="dataSource"?this.updateName():a==="header"?(this.headerData.show(s),s?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):a==="footer"?(this.footerData.show(s),s?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):a==="containerId"&&(this.headerData.containerId=s,this.contentData.containerId=s,this.footerData.containerId=s),a!=="header"&&a!=="footer"||this.updateBands(null)}},{key:"updateDisplayInternal",value:function(a,s,l,y){this.el!==null&&(this.el.style.top=this.rb.toPixel(s),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(y))}},{key:"getProperties",value:function(){return["y","label","dataSource","header","footer","printIf"]}},{key:"getElementType",value:function(){return $.type.section}},{key:"select",value:function(){o(f(x.prototype),"select",this).call(this);for(var a=this.getSizerContainerElement(),s=0,l=["N","S"];s<l.length;s++){var y=l[s];a.append(t("div",{class:"rbroSizer rbroSizer".concat(y," rbroSizerMove")}))}this.headerData!==null&&document.getElementById("rbro_el".concat(this.headerData.getId())).classList.add("rbroHighlightBandDescription"),this.contentData!==null&&document.getElementById("rbro_el".concat(this.contentData.getId())).classList.add("rbroHighlightBandDescription"),this.footerData!==null&&document.getElementById("rbro_el".concat(this.footerData.getId())).classList.add("rbroHighlightBandDescription")}},{key:"deselect",value:function(){o(f(x.prototype),"deselect",this).call(this);var a,s=function(l,y){var j=typeof Symbol!="undefined"&&l[Symbol.iterator]||l["@@iterator"];if(!j){if(Array.isArray(l)||(j=function(_e,Oe){if(_e){if(typeof _e=="string")return yt(_e,Oe);var Te=Object.prototype.toString.call(_e).slice(8,-1);return Te==="Object"&&_e.constructor&&(Te=_e.constructor.name),Te==="Map"||Te==="Set"?Array.from(_e):Te==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Te)?yt(_e,Oe):void 0}}(l))||y&&l&&typeof l.length=="number"){j&&(l=j);var U=0,ee=function(){};return{s:ee,n:function(){return U>=l.length?{done:!0}:{done:!1,value:l[U++]}},e:function(Oe){throw Oe},f:ee}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var se,fe=!0,be=!1;return{s:function(){j=j.call(l)},n:function(){var Oe=j.next();return fe=Oe.done,Oe},e:function(Oe){be=!0,se=Oe},f:function(){try{fe||j.return==null||j.return()}finally{if(be)throw se}}}}(this.el.querySelectorAll(".rbroSectionBandElement"));try{for(s.s();!(a=s.n()).done;)a.value.classList.remove("rbroHighlightBandDescription")}catch(l){s.e(l)}finally{s.f()}}},{key:"getSizers",value:function(){return[]}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroSectionElement"}),this.el.append(t("div",{id:"rbro_divider_section_top".concat(this.id),class:"rbroDivider rbroDividerSection",style:"top: 0px"})),this.elDividerHeader=t("div",{id:"rbro_divider_section_header".concat(this.id),class:"rbroDivider rbroDividerSectionBand rbroHidden"}),this.el.append(this.elDividerHeader),this.elDividerFooter=t("div",{id:"rbro_divider_section_footer".concat(this.id),class:"rbroDivider rbroDividerSectionBand rbroHidden"}),this.el.append(this.elDividerFooter),this.elDividerBottom=t("div",{id:"rbro_divider_section_bottom".concat(this.id),class:"rbroDivider rbroDividerSection"}),this.el.append(this.elDividerBottom),this.appendToContainer(),this.registerEventHandlers()}},{key:"remove",value:function(){o(f(x.prototype),"remove",this).call(this),this.headerData!==null&&this.rb.deleteContainer(this.headerData.getLinkedContainer()),this.contentData!==null&&this.rb.deleteContainer(this.contentData.getLinkedContainer()),this.footerData!==null&&this.rb.deleteContainer(this.footerData.getLinkedContainer())}},{key:"updateName",value:function(){this.label.trim()!==""?this.name=this.label:(this.name=this.rb.getLabel("docElementSection"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource)),this.headerData!==null&&(document.getElementById("rbro_el_band_description".concat(this.headerData.getId())).textContent=this.name+" "+this.headerData.getName()),this.contentData!==null&&(document.getElementById("rbro_el_band_description".concat(this.contentData.getId())).textContent=this.name+" "+this.contentData.getName()),this.footerData!==null&&(document.getElementById("rbro_el_band_description".concat(this.footerData.getId())).textContent=this.name+" "+this.footerData.getName()),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"setWidth",value:function(a){this.widthVal=a,this.width=""+a,this.headerData!==null&&(this.headerData.widthVal=a,this.headerData.width=""+a),this.contentData!==null&&(this.contentData.widthVal=a,this.contentData.width=""+a),this.footerData!==null&&(this.footerData.widthVal=a,this.footerData.width=""+a)}},{key:"updateHeight",value:function(a,s){var l=0;this.header&&this.headerData!==null?(a===this.headerData?l+=s:l+=this.headerData.getValue("heightVal"),this.elDividerHeader.style.top=this.rb.toPixel(l),this.elDividerHeader.classList.remove("rbroHidden")):this.elDividerHeader.classList.add("rbroHidden"),this.contentData!==null&&(a===this.contentData?l+=s:l+=this.contentData.getValue("heightVal")),this.footer&&this.footerData!==null?(this.elDividerFooter.style.top=this.rb.toPixel(l),this.elDividerFooter.classList.remove("rbroHidden"),a===this.footerData?l+=s:l+=this.footerData.getValue("heightVal")):document.getElementById("rbro_divider_section_footer".concat(this.id)).classList.add("rbroHidden"),this.elDividerBottom.style.top=this.rb.toPixel(l),this.height=""+l,this.heightVal=l,this.updateDisplay()}},{key:"updateBands",value:function(a){if(this.setupComplete){var s=0;this.header&&(this.headerData!==a&&this.headerData.setValue("y",""+s),s+=this.headerData.getValue("heightVal")),this.contentData!==a&&this.contentData.setValue("y",""+s),s+=this.contentData.getValue("heightVal"),this.footer&&this.footerData!==a&&this.footerData.setValue("y",""+s)}this.updateHeight(null,-1)}},{key:"getLinkedContainers",value:function(){for(var a,s=[],l=0,y=["headerData","contentData","footerData"];l<y.length;l++){var j=y[l];this[j]!==null&&(a=this[j].getLinkedContainer())!==null&&s.push(a)}return s}},{key:"hasDataSource",value:function(){return!0}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"dataSource",l),this.addCommandForChangedParameterName(a,s,"printIf",l)}},{key:"toJS",value:function(){var a=o(f(x.prototype),"toJS",this).call(this);return a.headerData=this.headerData.toJS(),a.contentData=this.contentData.toJS(),a.footerData=this.footerData.toJS(),a}},{key:"getClassName",value:function(){return"SectionElement"}}]),x}($);function Bt(R,O){var c=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!c){if(Array.isArray(R)||(c=function(l,y){if(l){if(typeof l=="string")return Pt(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?Pt(l,y):void 0}}(R))||O&&R&&typeof R.length=="number"){c&&(R=c);var v=0,x=function(){};return{s:x,n:function(){return v>=R.length?{done:!0}:{done:!1,value:R[v++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,a=!0,s=!1;return{s:function(){c=c.call(R)},n:function(){var y=c.next();return a=y.done,y},e:function(y){s=!0,g=y},f:function(){try{a||c.return==null||c.return()}finally{if(s)throw g}}}}function Pt(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}var nr=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a,s){var l;return J(this,x),(l=v.call(this,s.getLabel("docElementText"),g,100,20,s)).elContent=null,l.elContentText=null,l.elContentTextData=null,l.content="",l.richText=!1,l.richTextContent=null,l.richTextHtml="",l.eval=!1,l.styleId="",l.bold=!1,l.italic=!1,l.underline=!1,l.strikethrough=!1,l.horizontalAlignment=ne.alignment.left,l.verticalAlignment=ne.alignment.top,l.textColor="#000000",l.backgroundColor="",l.font=s.getProperty("defaultFont"),l.fontSize=12,l.lineSpacing=1,l.borderColor="#000000",l.borderWidth="1",l.borderAll=!1,l.borderLeft=!1,l.borderTop=!1,l.borderRight=!1,l.borderBottom=!1,l.paddingLeft="2",l.paddingTop="2",l.paddingRight="2",l.paddingBottom="2",l.cs_condition="",l.cs_styleId="",l.cs_bold=!1,l.cs_italic=!1,l.cs_underline=!1,l.cs_strikethrough=!1,l.cs_horizontalAlignment=ne.alignment.left,l.cs_verticalAlignment=ne.alignment.top,l.cs_textColor="#000000",l.cs_backgroundColor="",l.cs_font=ne.font.helvetica,l.cs_fontSize=12,l.cs_lineSpacing=1,l.cs_borderColor="#000000",l.cs_borderWidth="1",l.cs_borderAll=!1,l.cs_borderLeft=!1,l.cs_borderTop=!1,l.cs_borderRight=!1,l.cs_borderBottom=!1,l.cs_paddingLeft="2",l.cs_paddingTop="2",l.cs_paddingRight="2",l.cs_paddingBottom="2",l.alwaysPrintOnSamePage=!0,l.pattern="",l.link="",l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_colspan="",l.spreadsheet_addEmptyRow=!1,l.spreadsheet_textWrap=!1,l.setInitialData(a),l.borderWidthVal=S(l.borderWidth),l}return T(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.updateStyle(),this.richText?this.setupRichText():this.updateContent(this.content)}},{key:"handleDoubleClick",value:function(a){o(f(x.prototype),"handleDoubleClick",this).call(this,a);var s=document.getElementById("rbro_doc_element_content");s.focus(),typeof s.selectionStart=="number"&&(s.selectionStart=s.selectionEnd=s.value.length)}},{key:"setValue",value:function(a,s){a.indexOf("border")!==-1&&(this[a]=s,a.substr(0,3)==="cs_"?(a==="cs_borderWidth"&&(this.borderWidthVal=S(s)),ne.setBorderValue(this,a,"cs_",s,this.rb)):(a==="borderWidth"&&(this.borderWidthVal=S(s)),ne.setBorderValue(this,a,"",s,this.rb))),o(f(x.prototype),"setValue",this).call(this,a,s),a==="content"?this.updateContent(s):a==="width"||a==="height"?this.updateDisplay():a==="richText"?(s?this.setupRichText():this.updateContent(this.content),this.updateStyle()):a==="richTextContent"?this.updateRichTextContent(s):a==="richTextHtml"&&(document.getElementById("rbro_el_content_text_data".concat(this.id)).innerHTML=s)}},{key:"getProperties",value:function(){return["x","y","width","height","content","richText","richTextContent","richTextHtml","eval","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom","printIf","removeEmptyElement","alwaysPrintOnSamePage","pattern","link","cs_condition","cs_styleId","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_borderColor","cs_borderWidth","cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow","spreadsheet_textWrap"]}},{key:"getElementType",value:function(){return $.type.text}},{key:"updateDisplayInternal",value:function(a,s,l,y){this.el!==null&&(this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(s),this.el.style.width=this.rb.toPixel(l),this.el.style.height=this.rb.toPixel(y));var j=this.getContentSize(l,y,this.getStyle());this.elContentText.style.width=this.rb.toPixel(j.width),this.elContentText.style.height=this.rb.toPixel(j.height)}},{key:"getStyle",value:function(){var a=this;if(this.styleId!==""){var s=this.rb.getDataObject(this.styleId);s!==null&&(a=s)}return a}},{key:"addCommandsForChangedStyle",value:function(a,s,l,y){if(a!==""){var j=this.rb.getStyleById(a);if(j!==null){var U,ee=Bt(j.getFields().slice(2));try{for(ee.s();!(U=ee.n()).done;){var se=U.value,fe=s+se,be=j.getValue(se);if(be!==this.getValue(fe)){var _e=l[fe],Oe=new e(this.getId(),fe,be,_e.type,this.rb);Oe.disableSelect(),y.addCommand(Oe)}}}catch(Te){ee.e(Te)}finally{ee.f()}}}y.addCommand(new e(this.getId(),s+"styleId",a,e.type.select,this.rb))}},{key:"getContentSize",value:function(a,s,l){var y=l.getValue("borderWidthVal");return a-=S(l.getValue("paddingLeft"))+S(l.getValue("paddingRight")),l.getValue("borderLeft")&&(a-=y),l.getValue("borderRight")&&(a-=y),s-=S(l.getValue("paddingTop"))+S(l.getValue("paddingBottom")),l.getValue("borderTop")&&(s-=y),l.getValue("borderBottom")&&(s-=y),{width:a,height:s}}},{key:"updateStyle",value:function(){var a,s={},l=this.getStyle(),y="",j="",U=this.getContentSize(this.getDisplayWidth(),this.getDisplayHeight(),l);s.width=this.rb.toPixel(U.width),s.height=this.rb.toPixel(U.height);var ee=l.getValue("horizontalAlignment"),se=l.getValue("verticalAlignment"),fe="rbroDocElementAlign"+ee.charAt(0).toUpperCase()+ee.slice(1),be="rbroDocElementVAlign"+se.charAt(0).toUpperCase()+se.slice(1);s["vertical-align"]=se,s["background-color"]=l.getValue("backgroundColor"),this.richText?(s["font-weight"]="unset",s["font-style"]="normal",s["text-decoration"]="none",s["text-align"]="unset",s.color="#000000",s["font-family"]=this.rb.getProperty("defaultFont"),s["font-size"]="12px"):(s["font-weight"]=l.getValue("bold")?"bold":"",s["font-style"]=l.getValue("italic")?"italic":"normal",l.getValue("underline")&&l.getValue("strikethrough")?s["text-decoration"]="underline line-through":l.getValue("underline")?s["text-decoration"]="underline":l.getValue("strikethrough")?s["text-decoration"]="line-through":s["text-decoration"]="none",s["text-align"]=ee,s.color=l.getValue("textColor"),s["font-family"]=l.getValue("font"),s["font-size"]=l.getValue("fontSize")+"px"),s["line-height"]=l.getValue("lineSpacing"),l.getValue("borderLeft")||l.getValue("borderTop")||l.getValue("borderRight")||l.getValue("borderBottom")?(a=l.getValue("borderTop")?"solid":"none",a+=l.getValue("borderRight")?" solid":" none",a+=l.getValue("borderBottom")?" solid":" none",a+=l.getValue("borderLeft")?" solid":" none",y=l.getValue("borderWidthVal")+"px",j=l.getValue("borderColor")):a="none",l.getValue("paddingLeft")!==""||l.getValue("paddingTop")!==""||l.getValue("paddingRight")!==""||l.getValue("paddingBottom")!==""?(s.padding=this.rb.toPixel(l.getValue("paddingTop")),s.padding+=" "+this.rb.toPixel(l.getValue("paddingRight")),s.padding+=" "+this.rb.toPixel(l.getValue("paddingBottom")),s.padding+=" "+this.rb.toPixel(l.getValue("paddingLeft"))):s.padding="",this.elContent.style.borderStyle=a,this.elContent.style.borderWidth=y,this.elContent.style.borderColor=j,this.elContent.className="",this.elContent.classList.add("rbroContentContainerHelper"),this.elContent.classList.add(fe),this.elContent.classList.add(be);var _e="";for(var Oe in s)_e+=Oe+": "+s[Oe]+";";this.elContentText.style.cssText=_e}},{key:"hasBorderSettings",value:function(){return!0}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroTextElement"}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentText=t("div",{id:"rbro_el_content_text".concat(this.id),class:"rbroDocElementContentText"}),this.elContentTextData=t("span",{id:"rbro_el_content_text_data".concat(this.id)}),this.elContentText.append(this.elContentTextData),this.elContent.append(this.elContentText),this.el.append(this.elContent),this.appendToContainer(),this.elContentTextData.textContent=this.content,o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"updateContent",value:function(a){a.trim()===""?this.name=this.rb.getLabel("docElementText"):this.name=a;var s=document.getElementById("rbro_menu_item_name".concat(this.id));s.textContent=this.name,s.setAttribute("title",this.name),this.elContentTextData.textContent=a}},{key:"updateRichTextContent",value:function(a){var s="";if(a&&a.ops){var l,y=Bt(a.ops);try{for(y.s();!(l=y.n()).done;){var j=l.value;"insert"in j&&(s+=j.insert)}}catch(ee){y.e(ee)}finally{y.f()}(s=s.replace(/(?:\r\n|\r|\n)/g," ")).length>80&&(s=s.substr(0,80)),s=s.trim()}this.name=s===""?this.rb.getLabel("docElementText"):s;var U=document.getElementById("rbro_menu_item_name".concat(this.id));U.textContent=this.name,U.setAttribute("title",this.name)}},{key:"setupRichText",value:function(){this.updateRichTextContent(this.richTextContent),this.elContentTextData.innerHTML=this.richTextHtml}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"content",l),this.addCommandForChangedParameterName(a,s,"richTextContent",l),this.addCommandForChangedParameterName(a,s,"richTextHtml",l),this.addCommandForChangedParameterName(a,s,"printIf",l),this.addCommandForChangedParameterName(a,s,"cs_condition",l)}},{key:"toJS",value:function(){for(var a=o(f(x.prototype),"toJS",this).call(this),s=0,l=["borderWidth","paddingLeft","paddingTop","paddingRight","paddingBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom"];s<l.length;s++){var y=l[s];a[y]=S(this.getValue(y))}return a}},{key:"getClassName",value:function(){return"TextElement"}}]),x}($),Vt=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a,s){var l;return J(this,x),(l=v.call(this,g,a,s)).elContent=null,l.elContentText=null,l.elContentTextData=null,l.colspan=a.colspan||"",l.colspanVal=1,l.columnIndex=a.columnIndex,l.parentId=a.parentId,l.tableId=a.tableId,l.displayWidth=l.widthVal,l.lastTouchStartTime=0,l.updateColspanVal(),l}return T(x,[{key:"setInitialData",value:function(a){this.growWeight=0,o(f(x.prototype),"setInitialData",this).call(this,a)}},{key:"registerEventHandlers",value:function(){var a=this;this.el.addEventListener("dblclick",function(s){a.rb.isSelectedObject(a.id)||a.rb.isSelectedObject(a.tableId)&&(a.rb.selectObject(a.id,!s.shiftKey),s.stopPropagation())}),this.el.addEventListener("mousedown",function(s){a.rb.isSelectedObject(a.id)?(s.shiftKey&&a.rb.deselectObject(a.id),s.stopPropagation()):a.rb.isTableElementSelected(a.tableId)&&(a.rb.selectObject(a.id,!s.shiftKey),s.stopPropagation())}),this.el.addEventListener("touchstart",function(s){a.rb.isSelectedObject(a.id)||(new Date().getTime()-a.lastTouchStartTime<1e3?a.rb.isSelectedObject(a.tableId)&&(a.rb.selectObject(a.id,!0),s.stopPropagation()):a.rb.isTableElementSelected(a.tableId)&&(a.rb.selectObject(a.id,!0),s.stopPropagation())),a.lastTouchStartTime=new Date().getTime()})}},{key:"getContainerId",value:function(){var a=this.getTable();return a!==null?a.getContainerId():null}},{key:"getValue",value:function(a){return a==="xReadOnly"?this.getOffsetX():o(f(x.prototype),"getValue",this).call(this,a)}},{key:"setValue",value:function(a,s){if(o(f(x.prototype),"setValue",this).call(this,a,s),a==="width"){var l=this.getTable();l!==null&&(l.updateColumnWidth(this.columnIndex,s),l.updateColumnDisplay())}else if(a==="height")this.updateDisplayInternalNotify(0,0,this.displayWidth,this.heightVal,!1);else if(a==="colspan"){this.updateColspanVal();var y=this.rb.getDataObject(this.tableId);y!==null&&y.updateColumnDisplay()}}},{key:"getUpdateValue",value:function(a,s){if(a==="width"){var l=S(s);if(this.colspanVal>1){var y=this.rb.getDataObject(this.parentId);if(y!==null){var j=this.getNextCellIndex(),U=y.getSingleCellWidths();j>U.length&&(j=U.length);for(var ee=this.columnIndex+1;ee<j;ee++)l+=U[ee]}}return s===""&&l===0?"":""+l}return s}},{key:"setWidth",value:function(a){this.width=a,this.widthVal=S(a)}},{key:"getDisplayWidth",value:function(){return this.displayWidth}},{key:"setDisplayWidth",value:function(a){this.displayWidth=a}},{key:"getDisplayWidthSplit",value:function(a){if(this.colspanVal===1)return[a];var s=[20],l=20,y=this.rb.getDataObject(this.parentId);if(y!==null){var j=this.getNextCellIndex(),U=y.getSingleCellWidths();j>U.length&&(j=U.length);for(var ee=this.columnIndex+1;ee<j;ee++)s.push(U[ee]),l+=U[ee];var se=a-l;if(se>0)s[0]+=se;else if(se<0){var fe=1;for(se=-se;fe<s.length;){if(s[fe]-20>se){s[fe]-=se;break}se-=s[fe]-20,s[fe]=20,fe++}}}return s}},{key:"updateColspanVal",value:function(){this.colspanVal=S(this.colspan),this.colspanVal<=0&&(this.colspanVal=1),this.el!==null&&this.el.setAttribute("colspan",this.colspanVal)}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,1,"id"),a}},{key:"getProperties",value:function(){var a=["xReadOnly","width","content","eval","colspan","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","paddingLeft","paddingTop","paddingRight","paddingBottom","pattern","link","cs_condition","cs_styleId","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_textWrap"],s=this.rb.getDataObject(this.parentId);return s!==null&&s.getValue("bandType")===H.bandType.header&&(a.push("printIf"),a.push("growWeight")),a}},{key:"getElementType",value:function(){return $.type.tableText}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.displayWidth,this.heightVal)}},{key:"updateDisplayInternal",value:function(a,s,l,y){this.updateDisplayInternalNotify(a,s,l,y,!0)}},{key:"updateDisplayInternalNotify",value:function(a,s,l,y,j){this.el!==null&&(this.el.style.width=this.rb.toPixel(l-1));var U=this.getContentSize(l,y,this.getStyle());if(this.elContentText.style.width=this.rb.toPixel(U.width),this.elContentText.style.height=this.rb.toPixel(U.height),j){var ee=this.rb.getDataObject(this.tableId);if(ee!==null){for(var se=this.rb.getDataObject(this.parentId),fe=l,be=se.getSingleCellWidths(),_e=0;_e<be.length;_e++)(_e<this.columnIndex||_e>=this.columnIndex+this.colspanVal)&&(fe+=be[_e]);for(var Oe=this.getDisplayWidthSplit(l),Te=0;Te<Oe.length;Te++)ee.notifyColumnWidthResized(se,this.columnIndex+Te,Oe[Te],fe)}}}},{key:"getSizers",value:function(){return["E"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"getMinWidth",value:function(){return 20*this.colspanVal}},{key:"getMaxWidth",value:function(){var a=this.rb.getDataObject(this.tableId),s=this.rb.getDataObject(this.parentId);if(a!==null&&s!==null){for(var l=this.rb.getDocumentProperties().getContentSize().width,y=s.getSingleCellWidths(),j=0,U=0;U<y.length;U++)(U<this.columnIndex||U>=this.columnIndex+this.colspanVal)&&(j+=y[U]);return l-j-a.xVal}return 0}},{key:"getOffsetX",value:function(){var a=this.rb.getDataObject(this.parentId);if(a!==null){for(var s=a.getSingleCellWidths(),l=0,y=0;y<this.columnIndex;y++)l+=s[y];return l}return 0}},{key:"getCellIndex",value:function(){return this.columnIndex}},{key:"getNextCellIndex",value:function(){return this.columnIndex+this.colspanVal}},{key:"createElement",value:function(){this.el=t("td",{id:"rbro_el".concat(this.id),class:"rbroTableTextElement"}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentText=t("div",{id:"rbro_el_content_text".concat(this.id),class:"rbroDocElementContentText"}),this.elContentTextData=t("span",{id:"rbro_el_content_text_data".concat(this.id)}),this.elContentText.append(this.elContentTextData),this.elContent.append(this.elContentText),this.el.append(this.elContent),this.colspanVal>1&&this.el.setAttribute("colspan",this.colspanVal),document.getElementById("rbro_el_table_band".concat(this.parentId)).append(this.el),document.getElementById("rbro_el_content_text_data".concat(this.id)).textContent=this.content,this.registerEventHandlers()}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"getTable",value:function(){return this.rb.getDataObject(this.tableId)}},{key:"addCommandsForChangedWidth",value:function(a,s,l){var y=this.getDisplayWidthSplit(a),j=this.getParent();if(j!==null)for(var U=y.length-1;U>=0;U--){var ee=new e(j.getColumn(this.columnIndex+U).getId(),"width",""+y[U],e.type.text,this.rb);(s||U>0)&&ee.disableSelect(),l.addCommand(ee)}}},{key:"insertColumn",value:function(a){var s=this.getParent(),l=this.getTable();if(s!==null&&l!==null){var y=s.getColumnIndex(this);if(y!==-1){var j=new re("Insert column"),U=new Tt(!1,l.getPanelItem().getPanelName(),l.toJS(),l.getId(),l.getContainerId(),-1,this.rb);j.addCommand(U);var ee=S(l.getValue("columns"))+1;l.setValue("columns",ee),l.getValue("headerData").createColumns(ee,!0,y,a);for(var se=0;se<l.getValue("contentDataRows").length;se++)l.getValue("contentDataRows")[se].createColumns(ee,!0,y,a);l.getValue("footerData").createColumns(ee,!0,y,a),U=new Tt(!0,l.getPanelItem().getPanelName(),l.toJS(),l.getId(),l.getContainerId(),-1,this.rb),j.addCommand(U),this.rb.executeCommand(j),this.rb.selectObject(this.getParent().getValue("columnData")[a?y:y+1].getId(),!0)}}}},{key:"deleteColumn",value:function(){var a=this.getParent(),s=this.getTable();if(a!==null&&s!==null){var l=a.getColumnIndex(this);if(l!==-1){var y=new re("Delete column"),j=new Tt(!1,s.getPanelItem().getPanelName(),s.toJS(),s.getId(),s.getContainerId(),-1,this.rb);y.addCommand(j);var U=S(s.getValue("columns"))-1;s.setValue("columns",U);var ee=s.getValue("widthVal");s.setValue("width",ee-this.widthVal),s.getValue("headerData").deleteColumn(l);for(var se=0;se<s.getValue("contentDataRows").length;se++)s.getValue("contentDataRows")[se].deleteColumn(l);s.getValue("footerData").deleteColumn(l),j=new Tt(!0,s.getPanelItem().getPanelName(),s.toJS(),s.getId(),s.getContainerId(),-1,this.rb),y.addCommand(j),this.rb.executeCommand(y)}}}},{key:"toJS",value:function(){var a=o(f(x.prototype),"toJS",this).call(this);return a.growWeight=S(a.growWeight),a}},{key:"getClassName",value:function(){return"TableTextElement"}}]),x}(nr);function Jt(R,O){var c=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!c){if(Array.isArray(R)||(c=function(l,y){if(l){if(typeof l=="string")return Sr(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?Sr(l,y):void 0}}(R))||O&&R&&typeof R.length=="number"){c&&(R=c);var v=0,x=function(){};return{s:x,n:function(){return v>=R.length?{done:!0}:{done:!1,value:R[v++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,a=!0,s=!1;return{s:function(){c=c.call(R)},n:function(){var y=c.next();return a=y.done,y},e:function(y){s=!0,g=y},f:function(){try{a||c.return==null||c.return()}finally{if(s)throw g}}}}function Sr(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}var Or=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a,s,l){var y;J(this,x);var j=s==="header"?l.getLabel("bandHeader"):s==="footer"?l.getLabel("bandFooter"):l.getLabel("bandContent");return(y=v.call(this,j,g,0,20,l)).bandType=s,y.repeatHeader=!1,y.alwaysPrintOnSamePage=!0,y.pageBreak=!1,y.backgroundColor="",y.alternateBackgroundColor="",y.groupExpression="",y.repeatGroupHeader=!1,y.parentId=a.parentId,y.columnData=[],y.heightVal=0,y.setInitialData(a),y}return T(x,[{key:"setInitialData",value:function(a){for(var s in a)a.hasOwnProperty(s)&&this.hasOwnProperty(s)&&(this[s]=a[s]);this.heightVal=S(this.height)}},{key:"setup",value:function(){this.createElement(),this.updateStyle()}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){var a,s=this.id,l=Jt(this.columnData);try{for(l.s();!(a=l.n()).done;){var y=a.value;y.getId()>s&&(s=y.getId())}}catch(j){l.e(j)}finally{l.f()}return s}},{key:"getContainerId",value:function(){var a=this.getParent();return a!==null?a.getContainerId():null}},{key:"setValue",value:function(a,s){if(this[a]=s,a==="height"){var l=S(s);this[a+"Val"]=l;var y,j=Jt(this.getElement().querySelectorAll("td"));try{for(j.s();!(y=j.n()).done;)y.value.style.height=this.rb.toPixel(l)}catch(fe){j.e(fe)}finally{j.f()}var U,ee=Jt(this.columnData);try{for(ee.s();!(U=ee.n()).done;)U.value.setValue(a,s)}catch(fe){ee.e(fe)}finally{ee.f()}var se=this.getParent();se!==null&&se.updateHeight()}else a==="backgroundColor"&&this.updateStyle()}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,0,"id"),a}},{key:"getProperties",value:function(){var a=["height","backgroundColor"];return this.bandType===H.bandType.header?a.push("repeatHeader"):this.bandType===H.bandType.content&&(a.push("alternateBackgroundColor"),a.push("groupExpression"),a.push("printIf"),a.push("alwaysPrintOnSamePage"),a.push("pageBreak"),a.push("repeatGroupHeader")),a}},{key:"updateDisplayInternal",value:function(a,s,l,y){}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.backgroundColor}},{key:"getSizers",value:function(){return[]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("tr",{id:"rbro_el_table_band".concat(this.id),class:"rbroTableBandElement"}),document.getElementById("rbro_el_table_".concat(this.bandType).concat(this.parentId)).append(this.el)}},{key:"remove",value:function(){for(var a=0;a<this.columnData.length;a++)this.rb.deleteDataObject(this.columnData[a]);o(f(x.prototype),"remove",this).call(this)}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"createColumns",value:function(a,s,l,y){if(this.panelItem!==null){if(s)for(var j=0;j<this.columnData.length;j++)this.columnData[j].remove(),j>=a&&this.rb.deleteDataObject(this.columnData[j]);for(var U=[],ee=0;ee<a;ee++){var se=void 0,fe=void 0,be=s?20:100,_e=ee;l!==-1&&(y?ee===l?(be=this.columnData[l].getValue("widthVal"),_e=-1):ee>=l&&_e--:ee===l+1?(be=this.columnData[l].getValue("widthVal"),_e=-1):ee>l&&_e--),_e!==-1&&_e<this.columnData.length?((se=this.columnData[_e]).columnIndex=ee,fe=se.id,s||(se.band=this.band,se.parentId=this.id,se.tableId=this.parentId,se.height=this.height)):se={band:this.band,columnIndex:ee,parentId:this.id,tableId:this.parentId,width:be,height:this.height},fe||(fe=this.rb.getUniqueId());var Oe=new Vt(fe,se,this.rb);U.push(Oe),this.rb.addDataObject(Oe);var Te=new Ce($.type.text,this.panelItem,Oe,{showDelete:!1},this.rb);Oe.setPanelItem(Te),this.panelItem.appendChild(Te)}this.columnData=U;for(var Re=0,ze=U;Re<ze.length;Re++)ze[Re].setup(!0);this.updateColumnDisplay();var Ne,Be=Jt(this.getElement().querySelectorAll("td"));try{for(Be.s();!(Ne=Be.n()).done;)Ne.value.style.height=this.rb.toPixel(this.heightVal)}catch(We){Be.e(We)}finally{Be.f()}}}},{key:"deleteColumn",value:function(a){a<this.columnData.length&&(this.columnData[a].remove(),this.rb.deleteDataObject(this.columnData[a]),this.columnData.splice(a,1))}},{key:"show",value:function(a){a?this.el.classList.remove("rbroHidden"):this.el.classList.add("rbroHidden")}},{key:"updateColumnWidth",value:function(a,s){a<this.columnData.length&&this.columnData[a].setWidth(s)}},{key:"updateColumnDisplay",value:function(){for(var a=0;a<this.columnData.length;){var s=this.columnData[a],l=s.getValue("widthVal"),y=s.getValue("colspanVal");if(s.getElement().style.display="",y>1){var j=a+y<this.columnData.length?a+y:this.columnData.length;for(a++;a<j;)l+=this.columnData[a].getValue("widthVal"),this.columnData[a].getElement().style.display="none",a++}else a++;s.setDisplayWidth(l),s.updateDisplay()}}},{key:"getColumn",value:function(a){return a>=0&&a<this.columnData.length?this.columnData[a]:null}},{key:"getColumns",value:function(){return this.columnData}},{key:"notifyColumnWidthResized",value:function(a,s){for(var l=0;l<this.columnData.length;){var y=this.columnData[l],j=y.getNextCellIndex();if(j>a){if(j>l+1)for(var U=l;U<j&&U<this.columnData.length;U++)U!==a&&(s+=this.columnData[U].getValue("widthVal"));y.updateDisplayInternalNotify(0,0,s,y.getValue("heightVal"),!1);break}l=j}}},{key:"getColumnIndex",value:function(a){for(var s=0;s<this.columnData.length;s++)if(a===this.columnData[s])return s;return-1}},{key:"getWidth",value:function(){for(var a=0,s=0;s<this.columnData.length;){var l=this.columnData[s];a+=l.getDisplayWidth();var y=l.getValue("colspanVal");y>1?s+=y:s++}return a}},{key:"getSingleCellWidths",value:function(){var a,s=[],l=Jt(this.columnData);try{for(l.s();!(a=l.n()).done;){var y=a.value;s.push(y.getValue("widthVal"))}}catch(j){l.e(j)}finally{l.f()}return s}},{key:"insertRow",value:function(a){var s=this.getParent();if(s!==null){var l=s.getContentRowIndex(this);if(l!==-1){var y=new re("Insert row"),j=new Tt(!1,s.getPanelItem().getPanelName(),s.toJS(),s.getId(),s.getContainerId(),-1,this.rb);y.addCommand(j);var U=S(s.getValue("contentRows"))+1;s.setValue("contentRows",U);var ee,se=s.getValue("contentDataRows")[l],fe={height:se.height,columnData:[]},be=Jt(se.columnData);try{for(be.s();!(ee=be.n()).done;){var _e=ee.value;fe.columnData.push({width:_e.width})}}catch(Te){be.e(Te)}finally{be.f()}var Oe=s.createBand("content",-1,fe);s.getValue("contentDataRows").splice(a?l:l+1,0,Oe),j=new Tt(!0,s.getPanelItem().getPanelName(),s.toJS(),s.getId(),s.getContainerId(),-1,this.rb),y.addCommand(j),this.rb.executeCommand(y),this.rb.selectObject(Oe.getValue("columnData")[0].getId(),!0)}}}},{key:"deleteRow",value:function(){var a=this.getParent();if(a!==null){var s=a.getContentRowIndex(this),l=S(a.getValue("contentRows"));if(s!==-1&&l>1){var y=new re("Delete row"),j=new Tt(!1,a.getPanelItem().getPanelName(),a.toJS(),a.getId(),a.getContainerId(),-1,this.rb);y.addCommand(j),a.setValue("contentRows",l-1),a.getValue("contentDataRows").splice(s,1),j=new Tt(!0,a.getPanelItem().getPanelName(),a.toJS(),a.getId(),a.getContainerId(),-1,this.rb),y.addCommand(j),this.rb.executeCommand(y)}}}},{key:"addChildren",value:function(a){var s,l=Jt(this.columnData);try{for(l.s();!(s=l.n()).done;){var y=s.value;a.push(y)}}catch(j){l.e(j)}finally{l.f()}}},{key:"toJS",value:function(){var a=o(f(x.prototype),"toJS",this).call(this);a.columnData=[];var s,l=Jt(this.columnData);try{for(l.s();!(s=l.n()).done;){var y=s.value;a.columnData.push(y.toJS())}}catch(j){l.e(j)}finally{l.f()}return a}},{key:"getClassName",value:function(){return"TableBandElement"}}]),x}($);function qt(R,O){var c=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!c){if(Array.isArray(R)||(c=function(l,y){if(l){if(typeof l=="string")return dr(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?dr(l,y):void 0}}(R))||O&&R&&typeof R.length=="number"){c&&(R=c);var v=0,x=function(){};return{s:x,n:function(){return v>=R.length?{done:!0}:{done:!1,value:R[v++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,a=!0,s=!1;return{s:function(){c=c.call(R)},n:function(){var y=c.next();return a=y.done,y},e:function(y){s=!0,g=y},f:function(){try{a||c.return==null||c.return()}finally{if(s)throw g}}}}function dr(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}var ir=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a,s){var l;return J(this,x),(l=v.call(this,s.getLabel("docElementTable"),g,200,40,s)).setupComplete=!1,l.dataSource="",l.borderColor="#000000",l.borderWidth="1",l.border=x.border.grid,l.header=!0,l.footer=!1,l.contentRows="1",l.columns="2",l.headerData=null,l.contentDataRows=[],l.footerData=null,l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(a),l.borderWidthVal=S(l.borderWidth),l}return T(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.headerData=this.createBand("header",-1,null);var s=S(this.contentRows);s<1&&(s=1);for(var l=[],y=0;y<s;y++)l.push(this.createBand("content",y,null));this.contentDataRows=l,this.footerData=this.createBand("footer",-1,null),this.setupComplete=!0,this.updateHeight(),this.updateStyle(),this.updateName(),a&&this.panelItem.open()}},{key:"createBand",value:function(a,s,l){var y,j,U=a+(a==="content"?"DataRows":"Data"),ee={hasChildren:!0,showDelete:!1};l?y=l:this[U]&&(a!=="content"||s!==-1&&s<this[U].length)?j=(y=a==="content"?this[U][s]:this[U]).id:y={},y.parentId=this.id,j||(j=this.rb.getUniqueId()),(a==="header"&&!this.header||a==="footer"&&!this.footer)&&(ee.visible=!1);var se=new Or(j,y,a,this.rb);this.rb.addDataObject(se);var fe=new Ce("table_band",this.panelItem,se,ee,this.rb);se.setPanelItem(fe),this.panelItem.appendChild(fe),se.setup();var be=S(this.columns);return se.createColumns(be,!1,-1,!1),fe.open(),a==="header"?se.show(this.header):a==="footer"&&se.show(this.footer),se}},{key:"getMaxId",value:function(){var a,s=this.id;(a=this.headerData.getMaxId())>s&&(s=a);for(var l=0;l<this.contentDataRows.length;l++)(a=this.contentDataRows[l].getMaxId())>s&&(s=a);return(a=this.footerData.getMaxId())>s&&(s=a),s}},{key:"setValue",value:function(a,s){o(f(x.prototype),"setValue",this).call(this,a,s),a==="dataSource"?this.updateName():a==="header"?(this.headerData.show(s),s?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):a==="footer"?(this.footerData.show(s),s?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):a.indexOf("border")!==-1&&(a==="borderWidth"&&(this.borderWidthVal=S(s)),this.updateStyle()),a!=="header"&&a!=="footer"&&a!=="contentRows"||this.updateHeight()}},{key:"updateDisplayInternal",value:function(a,s,l,y){this.el!==null&&(this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(s))}},{key:"updateStyle",value:function(){var a,s=this.el.querySelector("table");this.border===x.border.grid||this.border===x.border.frameRow||this.border===x.border.frame?(s.style.borderStyle="solid",s.style.borderWidth=this.borderWidthVal+"px",s.style.borderColor=this.borderColor):s.style.borderStyle="none";var l="",y="",j="";this.border===x.border.grid||this.border===x.border.frameRow||this.border===x.border.row?(l="solid none solid none",y=this.borderWidthVal+"px",j=this.borderColor):l="none";var U=this.headerData.getElement();for(U.style.borderStyle=l,U.style.borderWidth=y,U.style.borderColor=j,a=0;a<this.contentDataRows.length;a++){var ee=this.contentDataRows[a].getElement();ee.style.borderStyle=l,ee.style.borderWidth=y,ee.style.borderColor=j}var se=this.footerData.getElement();se.style.borderStyle=l,se.style.borderWidth=y,se.style.borderColor=j,this.border===x.border.grid?(l="none solid none solid",y=this.borderWidthVal+"px",j=this.borderColor):l="none";var fe,be=qt(this.headerData.getElement().querySelectorAll("td"));try{for(be.s();!(fe=be.n()).done;){var _e=fe.value;_e.style.borderStyle=l,_e.style.borderWidth=y,_e.style.borderColor=j}}catch(Je){be.e(Je)}finally{be.f()}for(a=0;a<this.contentDataRows.length;a++){var Oe,Te=qt(this.contentDataRows[a].getElement().querySelectorAll("td"));try{for(Te.s();!(Oe=Te.n()).done;){var Re=Oe.value;Re.style.borderStyle=l,Re.style.borderWidth=y,Re.style.borderColor=j}}catch(Je){Te.e(Je)}finally{Te.f()}}var ze,Ne=qt(this.footerData.getElement().querySelectorAll("td"));try{for(Ne.s();!(ze=Ne.n()).done;){var Be=ze.value;Be.style.borderStyle=l,Be.style.borderWidth=y,Be.style.borderColor=j}}catch(Je){Ne.e(Je)}finally{Ne.f()}for(var We=0,$e=["rbroBorderTableGrid","rbroBorderTableFrameRow","rbroBorderTableFrame","rbroBorderTableRow","rbroBorderTableNone"];We<$e.length;We++){var Ge=$e[We];this.el.classList.remove(Ge)}this.el.classList.add("rbroBorderTable"+this.border.charAt(0).toUpperCase()+this.border.slice(1))}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,0,"id","containerId","width"),a}},{key:"getProperties",value:function(){return["x","y","dataSource","columns","header","contentRows","footer","border","borderColor","borderWidth","printIf","removeEmptyElement","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return $.type.table}},{key:"select",value:function(){o(f(x.prototype),"select",this).call(this);for(var a=this.getSizerContainerElement(),s=0,l=["NE","SE","SW","NW"];s<l.length;s++){var y=l[s];a.append(t("div",{class:"rbroSizer rbroSizer".concat(y," rbroSizerMove")}))}}},{key:"getSizers",value:function(){return[]}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("div",{class:"rbroDocElement rbroTableElement"});var a=t("table",{id:"rbro_el_table".concat(this.id)});a.append(t("thead",{id:"rbro_el_table_header".concat(this.id)})),a.append(t("tbody",{id:"rbro_el_table_content".concat(this.id)})),a.append(t("tfoot",{id:"rbro_el_table_footer".concat(this.id)})),this.el.append(a),this.appendToContainer(),this.registerEventHandlers(),a.style.width=this.widthVal+1+"px"}},{key:"remove",value:function(){this.rb.deleteDataObject(this.headerData),this.headerData.remove(),this.headerData=null;for(var a=0;a<this.contentDataRows.length;a++)this.rb.deleteDataObject(this.contentDataRows[a]),this.contentDataRows[a].remove();this.contentDataRows=[],this.rb.deleteDataObject(this.footerData),this.footerData.remove(),this.footerData=null,o(f(x.prototype),"remove",this).call(this)}},{key:"updateColumnWidth",value:function(a,s){if(this.setupComplete){this.headerData.updateColumnWidth(a,s);for(var l=0;l<this.contentDataRows.length;l++)this.contentDataRows[l].updateColumnWidth(a,s);this.footerData.updateColumnWidth(a,s)}}},{key:"updateColumnDisplay",value:function(){if(this.setupComplete){this.headerData.updateColumnDisplay();for(var a=0;a<this.contentDataRows.length;a++)this.contentDataRows[a].updateColumnDisplay();this.footerData.updateColumnDisplay()}}},{key:"updateHeight",value:function(){if(this.setupComplete){var a=0;this.header&&(a+=this.headerData.getHeight());for(var s=0;s<this.contentDataRows.length;s++)a+=this.contentDataRows[s].getHeight();this.footer&&(a+=this.footerData.getHeight()),this.height=""+a,this.heightVal=a}}},{key:"notifyColumnWidthResized",value:function(a,s,l,y){if(this.setupComplete){a!==this.headerData&&this.headerData.notifyColumnWidthResized(s,l);for(var j=0;j<this.contentDataRows.length;j++)a!==this.contentDataRows[j]&&this.contentDataRows[j].notifyColumnWidthResized(s,l);a!==this.footerData&&this.footerData.notifyColumnWidthResized(s,l),this.width=""+y,this.widthVal=y,document.getElementById("rbro_el_table".concat(this.id)).style.width=y+1+"px"}}},{key:"updateName",value:function(){this.name=this.rb.getLabel("docElementTable"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"hasDataSource",value:function(){return!0}},{key:"getContentRowIndex",value:function(a){for(var s=0;s<this.contentDataRows.length;s++)if(a===this.contentDataRows[s])return s;return-1}},{key:"addChildren",value:function(a){var s;for(a.push(this.headerData),s=0;s<this.contentDataRows.length;s++)a.push(this.contentDataRows[s]);for(a.push(this.footerData),this.headerData.addChildren(a),s=0;s<this.contentDataRows.length;s++)this.contentDataRows[s].addChildren(a);this.footerData.addChildren(a)}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"dataSource",l)}},{key:"createSpaceForNewColumns",value:function(a,s){for(var l=x.getColumnMinWidth(),y=a*l,j=s-1;j>=0;){var U=this.headerData.getColumn(j),ee=U.getValue("widthVal")-l,se=l;if(ee>y&&(se=U.getValue("widthVal")-y),this.updateColumnWidth(j,se),(y-=ee)<=0)break;j--}}},{key:"hasEnoughAvailableSpace",value:function(a){var s=S(this.columns),l=Math.floor(this.widthVal/x.getColumnMinWidth());return!(a>s&&a>l)}},{key:"addCommandsForChangedColumns",value:function(a,s){if(this.hasEnoughAvailableSpace(a)){var l=S(this.columns),y=new Tt(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(s.addCommand(y),a>l)this.createSpaceForNewColumns(a-l,l);else if(a<l){for(var j=0,U=0;U<a;U++)j+=this.headerData.getColumn(U).getValue("widthVal");var ee=this.headerData.getColumn(a-1);this.widthVal-j>0&&this.updateColumnWidth(a-1,ee.getValue("widthVal")+(this.widthVal-j))}this.columns=a,this.headerData.createColumns(a,!0,-1,!1);for(var se=0;se<this.contentDataRows.length;se++)this.contentDataRows[se].createColumns(a,!0,-1,!1);this.footerData.createColumns(a,!0,-1,!1),y=new Tt(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),s.addCommand(y)}}},{key:"addCommandsForChangedContentRows",value:function(a,s){if(a!==S(this.contentRows)){var l,y=new Tt(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(s.addCommand(y),a<this.contentDataRows.length){for(l=a;l<this.contentDataRows.length;l++)this.rb.deleteDataObject(this.contentDataRows[l]),this.contentDataRows[l].remove();this.contentDataRows.splice(a,this.contentDataRows.length-a)}else{var j;if(this.contentDataRows.length>0){j={height:this.contentDataRows[this.contentDataRows.length-1].height,columnData:[]};var U,ee=qt(this.contentDataRows[0].columnData);try{for(ee.s();!(U=ee.n()).done;){var se=U.value;j.columnData.push({width:se.width})}}catch(fe){ee.e(fe)}finally{ee.f()}}for(l=this.contentDataRows.length;l<a;l++)this.contentDataRows.push(this.createBand("content",l,j))}this.contentRows=""+a,y=new Tt(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),s.addCommand(y)}}},{key:"toJS",value:function(){var a=o(f(x.prototype),"toJS",this).call(this);a.headerData=this.headerData.toJS();for(var s=[],l=0;l<this.contentDataRows.length;l++)s.push(this.contentDataRows[l].toJS());return a.contentDataRows=s,a.footerData=this.footerData.toJS(),a}},{key:"getClassName",value:function(){return"TableElement"}}],[{key:"removeIds",value:function(a){for(var s=0,l=["headerData","footerData"];s<l.length;s++){var y=l[s];x.removeBandIds(a[y])}for(var j=0;j<a.contentDataRows.length;j++)x.removeBandIds(a.contentDataRows[j])}},{key:"removeBandIds",value:function(a){delete a.id;var s,l=qt(a.columnData);try{for(l.s();!(s=l.n()).done;)delete s.value.id}catch(y){l.e(y)}finally{l.f()}}},{key:"getColumnMinWidth",value:function(){return 20}}]),x}($);ir.border={grid:"grid",frameRow:"frame_row",frame:"frame",row:"row",none:"none"};var Tt=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a,s,l,y,j,U){var ee;return J(this,x),(ee=v.call(this)).add=g,ee.elementType=a,ee.initialData=s,ee.parentId=y,ee.position=j,ee.rb=U,ee.id=l,ee.firstExecution=!0,ee}return T(x,[{key:"getName",value:function(){return this.add?"Add element":"Delete element"}},{key:"do",value:function(){this.add?this.addElement():this.deleteElement(),this.firstExecution=!1}},{key:"undo",value:function(){this.add?this.deleteElement():this.addElement()}},{key:"addElement",value:function(){if(this.rb.getDataObject(this.parentId)!==null){var a=x.createElement(this.id,this.initialData,this.elementType,this.position,!0,this.rb);this.rb.notifyEvent(a,w.operation.add),this.rb.selectObject(this.id,!0),this.add&&this.firstExecution&&(this.initialData=a.toJS())}}},{key:"deleteElement",value:function(){var a=this.rb.getDataObject(this.id);a!==null&&this.rb.deleteDocElement(a)}},{key:"getClassName",value:function(){return"AddDeleteDocElementCmd"}}],[{key:"createElement",value:function(a,s,l,y,j,U){var ee,se={draggable:!0};l===$.type.text?ee=new nr(a,s,U):l===$.type.line?ee=new Ct(a,s,U):l===$.type.image?ee=new ht(a,s,U):l===$.type.pageBreak?ee=new It(a,s,U):l===$.type.table?(ee=new ir(a,s,U),se.hasChildren=!0):l===$.type.frame?(ee=new et(a,s,U),se.hasChildren=!0):l===$.type.section?(ee=new Dt(a,s,U),se.hasChildren=!0):l===$.type.barCode&&(ee=new Ue(a,s,U)),U.addDocElement(ee);var fe=ee.getContainer().getPanelItem(),be=new Ce(l,fe,ee,se,U);return ee.setPanelItem(be),fe.insertChild(y,be),ee.setup(j),ee}}]),x}(w);function Wt(R,O){var c=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!c){if(Array.isArray(R)||(c=function(l,y){if(l){if(typeof l=="string")return $r(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?$r(l,y):void 0}}(R))||O&&R&&typeof R.length=="number"){c&&(R=c);var v=0,x=function(){};return{s:x,n:function(){return v>=R.length?{done:!0}:{done:!1,value:R[v++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,a=!0,s=!1;return{s:function(){c=c.call(R)},n:function(){var y=c.next();return a=y.done,y},e:function(y){s=!0,g=y},f:function(){try{a||c.return==null||c.return()}finally{if(s)throw g}}}}function $r(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}var Jr=function(){function R(O,c,v){J(this,R),this.rootElement=O,this.rb=v,this.elPanel=null,this.elTabPdfLayout=null,this.elTabPdfPreview=null,this.elDoc=null,this.elDocContent=null,this.elHeader=null,this.elContent=null,this.elFooter=null,this.elSelectionArea=null,this.elDividerMarginLeft=null,this.elDividerMarginTop=null,this.elDividerMarginRight=null,this.elDividerMarginBottom=null,this.elDividerHeader=null,this.elDividerFooter=null,this.elPdfPreview=null,this.gridVisible=c,this.gridSize=10,this.zoom=100,this.zoomLevels=[25,50,75,100,150,200,400],this.pdfPreviewExists=!1,this.pdfPreviewObjectURL=null,this.dragging=!1,this.dragElementType=null,this.dragType=$.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainers=[],this.dragCurrentContainerId=null,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0,this.dragSnapToGrid=!1,this.dragEnterCount=0,this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0}return T(R,[{key:"render",value:function(){var c=this;this.elPanel=document.getElementById("rbro_document_panel"),this.elPanel.addEventListener("mousedown",function(l){c.rb.isDocElementSelected()&&!l.shiftKey&&c.rb.deselectAll(!0);var y=_(c.elDocContent);c.startSelectionArea(c.getCoordWithoutZoom(l.pageX-y.left),c.getCoordWithoutZoom(l.pageY-y.top))});var v=t("div",{id:"rbro_document_tabs",class:"rbroDocumentTabs"});if(v.addEventListener("mousedown",function(l){l.stopPropagation()}),this.elTabPdfLayout=t("div",{id:"rbro_document_tab_pdf_layout",class:"rbroDocumentTab rbroButton rbroTabButton"},this.rb.getLabel("documentTabPdfLayout")),this.elTabPdfLayout.addEventListener("click",function(l){c.setDocumentTab(R.tab.pdfLayout)}),v.append(this.elTabPdfLayout),this.elTabPdfPreview=t("div",{id:"rbro_document_tab_pdf_preview",class:"rbroDocumentTab rbroButton rbroTabButton rbroHidden rbroPdfPreview"+(this.rb.getProperty("enableSpreadsheet")?" rbroXlsxDownload":"")},this.rb.getLabel("documentTabPdfPreview")),this.elTabPdfPreview.addEventListener("click",function(l){c.setDocumentTab(R.tab.pdfPreview)}),this.rb.getProperty("enableSpreadsheet")){var x=t("span",{class:"rbroIcon-xlsx rbroXlsxDownloadButton",title:this.rb.getLabel("documentTabXlsxDownload")});x.addEventListener("click",function(l){c.rb.downloadSpreadsheet()}),this.elTabPdfPreview.append(x)}var g=t("span",{class:"rbroIcon-cancel",title:this.rb.getLabel("documentTabClose")});g.addEventListener("click",function(l){c.closePdfPreviewTab()}),this.elTabPdfPreview.append(g),v.append(this.elTabPdfPreview),this.elPanel.append(v);var a=this.rb.getDocumentProperties();this.elDoc=t("div",{id:"rbro_document_pdf",class:"rbroDocument rbroDragTarget rbroHidden"}),this.elDocContent=t("div",{id:"rbro_document_content",class:"rbroDocumentContent"+(this.gridVisible?" rbroDocumentGrid":"")}),this.elHeader=t("div",{id:"rbro_header",class:"rbroDocumentBand rbroElementContainer",style:"top: 0px; left: 0px;"}),this.elHeader.append(t("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandHeader"))),this.elDocContent.append(this.elHeader),this.elContent=t("div",{id:"rbro_content",class:"rbroDocumentBand rbroElementContainer"}),this.elContent.append(t("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandContent"))),this.elDocContent.append(this.elContent),this.elFooter=t("div",{id:"rbro_footer",class:"rbroDocumentBand rbroElementContainer",style:"bottom: 0px; left 0px;"}),this.elFooter.append(t("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandFooter"))),this.elDocContent.append(this.elFooter),this.elDoc.append(this.elDocContent),this.elSelectionArea=t("div",{id:"rbro_selection_area",class:"rbroHidden rbroSelectionArea"}),this.elDocContent.append(this.elSelectionArea),this.initializeEventHandlers(),this.elDividerMarginLeft=t("div",{id:"rbro_divider_margin_left",class:"rbroDivider rbroDividerMarginLeft"}),this.elDoc.append(this.elDividerMarginLeft),this.elDividerMarginTop=t("div",{id:"rbro_divider_margin_top",class:"rbroDivider rbroDividerMarginTop"}),this.elDoc.append(this.elDividerMarginTop),this.elDividerMarginRight=t("div",{id:"rbro_divider_margin_right",class:"rbroDivider rbroDividerMarginRight"}),this.elDoc.append(this.elDividerMarginRight),this.elDividerMarginBottom=t("div",{id:"rbro_divider_margin_bottom",class:"rbroDivider rbroDividerMarginBottom"}),this.elDoc.append(this.elDividerMarginBottom),this.elDividerHeader=t("div",{id:"rbro_divider_header",class:"rbroDivider rbroDividerHeader"}),this.elDoc.append(this.elDividerHeader),this.elDividerFooter=t("div",{id:"rbro_divider_footer",class:"rbroDivider rbroDividerFooter"}),this.elDoc.append(this.elDividerFooter),this.elPanel.append(this.elDoc),this.elPdfPreview=t("div",{id:"rbro_document_pdf_preview",class:"rbroDocumentPreview"}),this.elPanel.append(this.elPdfPreview);var s=a.getPageSize();this.updatePageSize(s.width,s.height),this.updateHeader(),this.updateFooter(),this.updatePageMargins(),this.updateDocumentTabs(),this.setDocumentTab(R.tab.pdfLayout)}},{key:"initializeEventHandlers",value:function(){var c=this;this.elDocContent.addEventListener("dragover",function(v){c.processDragover(v)}),this.elDocContent.addEventListener("dragenter",function(v){c.rb.isBrowserDragActive("docElement")&&(c.dragEnterCount++,v.preventDefault())}),this.elDocContent.addEventListener("dragleave",function(v){if(c.rb.isBrowserDragActive("docElement")&&(c.dragEnterCount--,c.dragEnterCount===0)){var x,g=Wt(document.querySelectorAll(".rbroElementContainer"));try{for(g.s();!(x=g.n()).done;)x.value.classList.remove("rbroElementDragOver")}catch(a){g.e(a)}finally{g.f()}c.dragContainerId=null}}),this.elDocContent.addEventListener("drop",function(v){return c.processDrop(v),!1})}},{key:"processMouseMove",value:function(c){if(this.dragging)this.processDrag(c);else if(this.selectionAreaStarted){var v=_(this.elDocContent),x=this.getSelectionArea(this.getCoordWithoutZoom(c.pageX-v.left),this.getCoordWithoutZoom(c.pageY-v.top));this.elSelectionArea.style.left=this.rb.toPixel(x.left),this.elSelectionArea.style.top=this.rb.toPixel(x.top),this.elSelectionArea.style.width=this.rb.toPixel(x.width),this.elSelectionArea.style.height=this.rb.toPixel(x.height),this.elSelectionArea.classList.contains("rbroHidden")&&this.elSelectionArea.classList.remove("rbroHidden")}}},{key:"processDragover",value:function(c){if(this.rb.isBrowserDragActive("docElement")){var v=B(c),x=null;v!==null&&(x=this.getContainer(v.x,v.y,this.dragElementType,[]),this.dragCurrentX=v.x,this.dragCurrentY=v.y);var g=x!==null?x.getId():null;if(g!==this.dragContainerId){var a,s=Wt(document.querySelectorAll(".rbroElementContainer"));try{for(s.s();!(a=s.n()).done;)a.value.classList.remove("rbroElementDragOver")}catch(l){s.e(l)}finally{s.f()}x!==null&&x.dragOver(),this.dragContainerId=g}c.preventDefault(),c.stopPropagation()}}},{key:"processDrop",value:function(c){if(this.rb.isBrowserDragActive("docElement")){var v=B(c);v!==null&&(this.dragCurrentX=v.x,this.dragCurrentY=v.y);var x,g=Wt(document.querySelectorAll(".rbroElementContainer"));try{for(g.s();!(x=g.n()).done;)x.value.classList.remove("rbroElementDragOver")}catch(fe){g.e(fe)}finally{g.f()}for(var a=this.getContainer(this.dragCurrentX,this.dragCurrentY,this.dragElementType,[]);a!==null&&!a.isElementAllowed(this.dragElementType);)a=a.getParent();if(a!==null&&a.isElementAllowed(this.dragElementType)){var s=_(this.elDocContent),l=this.getCoordWithoutZoom(this.dragCurrentX-s.left),y=this.getCoordWithoutZoom(this.dragCurrentY-s.top),j=a.getOffset();if(l-=j.x,y-=j.y,!c.ctrlKey&&this.rb.getDocument().isGridVisible()){var U=this.rb.getDocument().getGridSize();l=L(l,U),y=L(y,U)}var ee={x:""+l,y:""+y,containerId:a.getId()},se=new Tt(!0,this.dragElementType,ee,this.rb.getUniqueId(),a.getId(),-1,this.rb);this.rb.executeCommand(se)}c.preventDefault()}}},{key:"processDrag",value:function(c){var v=B(c);if(this.dragType===$.dragType.element){var x=this.getContainer(v.x,v.y,this.dragElementType,this.dragLinkedContainers),g=x!==null?x.getId():null;if(g!==this.dragCurrentContainerId){var a,s=Wt(document.querySelectorAll(".rbroElementContainer"));try{for(s.s();!(a=s.n()).done;)a.value.classList.remove("rbroElementDragOver")}catch(j){s.e(j)}finally{s.f()}x!==null&&g!==this.dragContainerId&&x.dragOver()}this.dragCurrentContainerId=g}this.dragCurrentX=v.x,this.dragCurrentY=v.y,this.dragSnapToGrid=!c.ctrlKey;var l=this.rb.getDataObject(this.dragObjectId);if(l!==null){var y=l.getDragDiff(this.getCoordWithoutZoom(v.x-this.dragStartX),this.getCoordWithoutZoom(v.y-this.dragStartY),this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(y.x,y.y,this.dragType,null,!1)}}},{key:"updatePageSize",value:function(c,v){this.elDoc.style.width=this.rb.toPixel(c),this.elDoc.style.height=this.rb.toPixel(v)}},{key:"updatePageMargins",value:function(){var c=this.rb.getDocumentProperties(),v=S(c.getValue("marginLeft")),x=S(c.getValue("marginTop")),g=S(c.getValue("marginRight")),a=S(c.getValue("marginBottom")),s=this.rb.toPixel(v),l=this.rb.toPixel(x-1),y=this.rb.toPixel(g),j=this.rb.toPixel(a);this.elDividerMarginLeft.style.left=s,this.elDividerMarginTop.style.top=l,v!==0?(this.elDividerMarginLeft.style.left=s,this.elDividerMarginLeft.style.display="block"):this.elDividerMarginLeft.style.display="none",x!==0?(this.elDividerMarginTop.style.top=l,this.elDividerMarginTop.style.display="block"):this.elDividerMarginTop.style.display="none",g!==0?(this.elDividerMarginRight.style.right=y,this.elDividerMarginRight.style.display="block"):this.elDividerMarginRight.style.display="none",a!==0?(this.elDividerMarginBottom.style.bottom=j,this.elDividerMarginBottom.style.display="block"):this.elDividerMarginBottom.style.display="none",this.elDocContent.style.left=s,this.elDocContent.style.top=l,this.elDocContent.style.right=y,this.elDocContent.style.bottom=j}},{key:"updateHeader",value:function(){var c=this.rb.getDocumentProperties();if(c.getValue("header")){var v=this.rb.toPixel(c.getValue("headerSize"));this.elHeader.style.height=v,this.elHeader.style.display="block",this.elDividerHeader.style.top=this.rb.toPixel(S(c.getValue("marginTop"))+S(c.getValue("headerSize"))-1),this.elDividerHeader.style.display="block",this.elContent.style.top=v}else this.elHeader.style.display="none",this.elDividerHeader.style.display="none",this.elContent.style.top=this.rb.toPixel(0)}},{key:"updateFooter",value:function(){var c=this.rb.getDocumentProperties();if(c.getValue("footer")){var v=this.rb.toPixel(c.getValue("footerSize"));this.elFooter.style.height=v,this.elFooter.style.display="block",this.elDividerFooter.style.bottom=this.rb.toPixel(S(c.getValue("marginBottom"))+S(c.getValue("footerSize"))),this.elDividerFooter.style.display="block",this.elContent.style.bottom=v}else this.elFooter.style.display="none",this.elDividerFooter.style.display="none",this.elContent.style.bottom=this.rb.toPixel(0)}},{key:"setDocumentTab",value:function(c){var v,x=document.querySelectorAll("#rbro_document_tabs .rbroDocumentTab"),g=document.querySelectorAll(".rbroElementButtons .rbroMenuButton"),a=document.querySelectorAll(".rbroActionButtons .rbroActionButton"),s=Wt(x);try{for(s.s();!(v=s.n()).done;)v.value.classList.remove("rbroActive")}catch(Te){s.e(Te)}finally{s.f()}if(c===R.tab.pdfLayout){this.elTabPdfLayout.classList.add("rbroActive"),this.elDoc.classList.remove("rbroHidden"),this.elPdfPreview.style.zIndex="",this.elPdfPreview.style.height="0";var l,y=Wt(g);try{for(y.s();!(l=y.n()).done;){var j=l.value;j.classList.remove("rbroDisabled"),j.draggable=!0}}catch(Te){y.e(Te)}finally{y.f()}var U,ee=Wt(a);try{for(ee.s();!(U=ee.n()).done;)U.value.disabled=!1}catch(Te){ee.e(Te)}finally{ee.f()}}else if(this.pdfPreviewExists&&c===R.tab.pdfPreview){this.elTabPdfPreview.classList.add("rbroActive"),this.elDoc.classList.add("rbroHidden"),this.elPdfPreview.style.zIndex="1",this.elPdfPreview.style.height="";var se,fe=Wt(g);try{for(fe.s();!(se=fe.n()).done;){var be=se.value;be.classList.add("rbroDisabled"),be.draggable=!1}}catch(Te){fe.e(Te)}finally{fe.f()}var _e,Oe=Wt(a);try{for(Oe.s();!(_e=Oe.n()).done;)_e.value.disabled=!0}catch(Te){Oe.e(Te)}finally{Oe.f()}}}},{key:"openPdfPreviewTab",value:function(c,v){if(u(this.elPdfPreview),this.pdfPreviewObjectURL&&(URL.revokeObjectURL(this.pdfPreviewObjectURL),this.pdfPreviewObjectURL=null),v&&Object.keys(v).length>0){var x=this,g=new XMLHttpRequest;for(var a in g.responseType="blob",g.onreadystatechange=function(){if(g.readyState===XMLHttpRequest.DONE)if(g.status===200){var l=document.createElement("object");l.type="application/pdf",l.width="100%",l.height="100%",x.pdfPreviewObjectURL=URL.createObjectURL(g.response),l.data=x.pdfPreviewObjectURL,x.elPdfPreview.append(l)}else alert("preview failed")},g.open("GET",c,!0),v)v.hasOwnProperty(a)&&g.setRequestHeader(a,v[a]);g.send()}else{var s=t("object",{data:c,type:"application/pdf",width:"100%",height:"100%"});this.elPdfPreview.append(s)}this.pdfPreviewExists=!0,this.setDocumentTab(R.tab.pdfPreview),this.updateDocumentTabs()}},{key:"closePdfPreviewTab",value:function(){this.pdfPreviewExists=!1,u(this.elPdfPreview),this.setDocumentTab(R.tab.pdfLayout),this.updateDocumentTabs()}},{key:"updateDocumentTabs",value:function(){var c=1;this.pdfPreviewExists?(this.elTabPdfPreview.classList.remove("rbroHidden"),c++):this.elTabPdfPreview.classList.add("rbroHidden"),c>1?(document.getElementById("rbro_document_tabs").style.display="block",this.elPanel.classList.add("rbroHasTabs")):(document.getElementById("rbro_document_tabs").style.display="none",this.elPanel.classList.remove("rbroHasTabs"))}},{key:"getContainer",value:function(c,v,x,g){var a=_(this.elDocContent);return this.rb.getContainer(this.getCoordWithoutZoom(c-a.left),this.getCoordWithoutZoom(v-a.top),x,g)}},{key:"getContentScrollPosY",value:function(){var c=_(this.elDocContent);return _(this.elPanel).top-c.top}},{key:"isGridVisible",value:function(){return this.gridVisible}},{key:"toggleGrid",value:function(){this.gridVisible=!this.gridVisible,this.gridVisible?this.elDocContent.classList.add("rbroDocumentGrid"):this.elDocContent.classList.remove("rbroDocumentGrid")}},{key:"zoomIn",value:function(){for(var c=0;c<this.zoomLevels.length-1;c++)if(this.zoom===this.zoomLevels[c]){this.updateZoomLevel(this.zoomLevels[c+1]);break}}},{key:"zoomOut",value:function(){for(var c=1;c<this.zoomLevels.length;c++)if(this.zoom===this.zoomLevels[c]){this.updateZoomLevel(this.zoomLevels[c-1]);break}}},{key:"isZoomInPossible",value:function(){return this.zoom<this.zoomLevels[this.zoomLevels.length-1]}},{key:"isZoomOutPossible",value:function(){return this.zoom>this.zoomLevels[0]}},{key:"pageSizeChanged",value:function(){this.updateZoomLevel(this.zoom)}},{key:"updateZoomLevel",value:function(c){this.zoom=c;var v=this.rb.getDocumentProperties().getPageSize(),x=v.width*(c/100),g=v.height*(c/100),a=this.rb.getWidth()-this.rb.getMainPanel().getTotalPanelWidth(),s=getComputedStyle(this.elPanel),l=parseInt(s.paddingTop)||0,y=parseInt(s.paddingBottom)||0,j=this.elPanel.clientHeight-l-y,U=0;c!==100?(v.width>a?(this.elDoc.style.transformOrigin="",c<100&&x<a&&(U=Math.round((a-x)/2))):x>a?(this.elDoc.style.margin="0",this.elDoc.style.transformOrigin=""):(this.elDoc.style.margin="",this.elDoc.style.transformOrigin="top center"),this.elDoc.style.transform="translateX(".concat(U,"px) scale(").concat(this.zoom/100,")")):(this.elDoc.style.margin="",this.elDoc.style.transform="",this.elDoc.style.transformOrigin=""),document.getElementById("rbro_menu_zoom_level").textContent=c+" %",this.rb.getMenuPanel().updateZoomButtons(this.isZoomInPossible(),this.isZoomOutPossible()),this.elPanel.style.overflowX=x<a?"hidden":"",this.elPanel.style.overflowY=g<j?"hidden":""}},{key:"getCoordWithoutZoom",value:function(c){return Math.round(c*(100/this.zoom))}},{key:"getGridSize",value:function(){return this.gridSize}},{key:"getHeight",value:function(){return this.elDocContent.clientHeight}},{key:"getElement",value:function(c){return c===H.bandType.header?this.elHeader:c===H.bandType.content?this.elContent:c===H.bandType.footer?this.elFooter:null}},{key:"isDragging",value:function(){return this.dragging}},{key:"isDragged",value:function(){return this.dragging&&(this.dragStartX!==this.dragCurrentX||this.dragStartY!==this.dragCurrentY)}},{key:"startDrag",value:function(c,v,x,g,a,s){this.dragging=!0,this.dragStartX=this.dragCurrentX=c,this.dragStartY=this.dragCurrentY=v,this.dragElementType=a,this.dragType=s,this.dragObjectId=x,this.dragContainerId=g,this.dragLinkedContainers=[],this.dragCurrentContainerId=null,this.dragSnapToGrid=!1;var l=this.rb.getDataObject(this.dragObjectId);l&&(this.dragLinkedContainers=l.getLinkedContainers())}},{key:"stopDrag",value:function(){var c=this.getCoordWithoutZoom(this.dragCurrentX-this.dragStartX),v=this.getCoordWithoutZoom(this.dragCurrentY-this.dragStartY),x=this.rb.getDataObject(this.dragObjectId);if(x===null||c===0&&v===0)this.rb.updateSelectionDrag(0,0,this.dragType,null,!1);else{var g=null;this.dragType===$.dragType.element&&(g=this.rb.getDataObject(this.dragCurrentContainerId));var a=this.rb.getSelectedObjects();if(a.length>1&&g!==null){for(var s=a[0].getContainerId(),l=1;l<a.length;l++)if(a[l].getContainerId()!==s){g=null;break}}var y=x.getDragDiff(c,v,this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(y.x,y.y,this.dragType,g,!0)}this.dragging=!1,this.dragType=$.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragCurrentContainerId=null;var j,U=Wt(document.querySelectorAll(".rbroElementContainer"));try{for(U.s();!(j=U.n()).done;)j.value.classList.remove("rbroElementDragOver")}catch(ee){U.e(ee)}finally{U.f()}}},{key:"startBrowserDrag",value:function(c){this.dragEnterCount=0,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainers=[],this.dragElementType=c,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0}},{key:"startSelectionArea",value:function(c,v){this.selectionAreaStarted=!0,this.selectionAreaStartX=c,this.selectionAreaStartY=v}},{key:"stopSelectionArea",value:function(c,v,x){var g=this.getSelectionArea(c,v);if(g.width>10&&g.height>10){var a,s=Wt(this.rb.getDocElements(!0));try{for(s.s();!(a=s.n()).done;){var l=a.value;if(l.isAreaSelectionAllowed()){var y=l.getAbsolutePosition();if(g.left<y.x+l.getValue("widthVal")&&g.left+g.width>=y.x&&g.top<y.y+l.getValue("heightVal")&&g.top+g.height>=y.y){var j=!0;if(l.getContainerId()){var U=l.getContainer();U!==null&&U.isSelected()&&(j=!1)}j&&(this.rb.selectObject(l.getId(),x),x=!1)}}}}catch(ee){s.e(ee)}finally{s.f()}}this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0,this.elSelectionArea.classList.add("rbroHidden")}},{key:"getSelectionArea",value:function(c,v){var x={};return c>this.selectionAreaStartX?(x.left=this.selectionAreaStartX,x.width=c-this.selectionAreaStartX):(x.left=c,x.width=this.selectionAreaStartX-c),v>this.selectionAreaStartY?(x.top=this.selectionAreaStartY,x.height=v-this.selectionAreaStartY):(x.top=v,x.height=this.selectionAreaStartY-v),x}},{key:"mouseUp",value:function(c){if(this.isDragging()&&this.stopDrag(),this.selectionAreaStarted){var v=_(this.elDocContent);this.stopSelectionArea(this.getCoordWithoutZoom(c.pageX-v.left),this.getCoordWithoutZoom(c.pageY-v.top),!c.shiftKey)}}},{key:"windowResized",value:function(){this.updateZoomLevel(this.zoom)}}]),R}();Jr.tab={pdfLayout:"pdfLayout",pdfPreview:"pdfPreview"};var pr,Pr,xr=typeof Map=="function"?new Map:(pr=[],Pr=[],{has:function(O){return pr.indexOf(O)>-1},get:function(O){return Pr[pr.indexOf(O)]},set:function(O,c){pr.indexOf(O)===-1&&(pr.push(O),Pr.push(c))},delete:function(O){var c=pr.indexOf(O);c>-1&&(pr.splice(c,1),Pr.splice(c,1))}}),Qr=function(O){return new Event(O,{bubbles:!0})};try{new Event("test")}catch(R){Qr=function(c){var v=document.createEvent("Event");return v.initEvent(c,!0,!1),v}}function yn(R){var O=xr.get(R);O&&O.destroy()}function vn(R){var O=xr.get(R);O&&O.update()}var Cr=null;typeof window=="undefined"||typeof window.getComputedStyle!="function"?((Cr=function(O){return O}).destroy=function(R){return R},Cr.update=function(R){return R}):((Cr=function(O,c){return O&&Array.prototype.forEach.call(O.length?O:[O],function(v){return function(x){if(x&&x.nodeName&&x.nodeName==="TEXTAREA"&&!xr.has(x)){var g,a=null,s=null,l=null,y=function(){x.clientWidth!==s&&se()},j=function(fe){window.removeEventListener("resize",y,!1),x.removeEventListener("input",se,!1),x.removeEventListener("keyup",se,!1),x.removeEventListener("autosize:destroy",j,!1),x.removeEventListener("autosize:update",se,!1),Object.keys(fe).forEach(function(be){x.style[be]=fe[be]}),xr.delete(x)}.bind(x,{height:x.style.height,resize:x.style.resize,overflowY:x.style.overflowY,overflowX:x.style.overflowX,wordWrap:x.style.wordWrap});x.addEventListener("autosize:destroy",j,!1),"onpropertychange"in x&&"oninput"in x&&x.addEventListener("keyup",se,!1),window.addEventListener("resize",y,!1),x.addEventListener("input",se,!1),x.addEventListener("autosize:update",se,!1),x.style.overflowX="hidden",x.style.wordWrap="break-word",xr.set(x,{destroy:j,update:se}),(g=window.getComputedStyle(x,null)).resize==="vertical"?x.style.resize="none":g.resize==="both"&&(x.style.resize="horizontal"),a=g.boxSizing==="content-box"?-(parseFloat(g.paddingTop)+parseFloat(g.paddingBottom)):parseFloat(g.borderTopWidth)+parseFloat(g.borderBottomWidth),isNaN(a)&&(a=0),se()}function U(fe){var be=x.style.width;x.style.width="0px",x.style.width=be,x.style.overflowY=fe}function ee(){if(x.scrollHeight!==0){var fe=function(_e){for(var Oe=[];_e&&_e.parentNode&&_e.parentNode instanceof Element;)_e.parentNode.scrollTop&&Oe.push({node:_e.parentNode,scrollTop:_e.parentNode.scrollTop}),_e=_e.parentNode;return Oe}(x),be=document.documentElement&&document.documentElement.scrollTop;x.style.height="",x.style.height=x.scrollHeight+a+"px",s=x.clientWidth,fe.forEach(function(_e){_e.node.scrollTop=_e.scrollTop}),be&&(document.documentElement.scrollTop=be)}}function se(){ee();var fe=Math.round(parseFloat(x.style.height)),be=window.getComputedStyle(x,null),_e=be.boxSizing==="content-box"?Math.round(parseFloat(be.height)):x.offsetHeight;if(_e<fe?be.overflowY==="hidden"&&(U("scroll"),ee(),_e=be.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(x,null).height)):x.offsetHeight):be.overflowY!=="hidden"&&(U("hidden"),ee(),_e=be.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(x,null).height)):x.offsetHeight),l!==_e){l=_e;var Oe=Qr("autosize:resized");try{x.dispatchEvent(Oe)}catch(Te){}}}}(v)}),O}).destroy=function(R){return R&&Array.prototype.forEach.call(R.length?R:[R],yn),R},Cr.update=function(R){return R&&Array.prototype.forEach.call(R.length?R:[R],vn),R});var At=Cr;function lr(R,O){var c=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!c){if(Array.isArray(R)||(c=function(l,y){if(l){if(typeof l=="string")return en(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?en(l,y):void 0}}(R))||O&&R&&typeof R.length=="number"){c&&(R=c);var v=0,x=function(){};return{s:x,n:function(){return v>=R.length?{done:!0}:{done:!1,value:R[v++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,a=!0,s=!1;return{s:function(){c=c.call(R)},n:function(){var y=c.next();return a=y.done,y},e:function(y){s=!0,g=y},f:function(){try{a||c.return==null||c.return()}finally{if(s)throw g}}}}function en(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}var Lt=function(){function R(O,c){J(this,R),this.rootElement=O,this.rb=c,this.elWindow=null,this.elContent=null,this.input=null,this.objId=null,this.type=null,this.visible=!1,this.items=null,this.rootParameter=null,this.nextRowId=-1,this.rowMap=null}return T(R,[{key:"render",value:function(){var c=this;this.elWindow=t("div",{class:"rbroPopupWindow rbroHidden"}),this.elContent=t("div",{class:"rbroPopupWindowContent"}),this.elContent.addEventListener("mouseup",function(x){x.stopPropagation()}),this.elWindow.append(this.elContent);var v=t("div",{class:"rbroButton rbroRoundButton rbroPopupWindowCancel rbroIcon-cancel"});v.addEventListener("click",function(x){c.hide()}),this.elWindow.append(v),document.body.append(this.elWindow)}},{key:"destroy",value:function(){this.elWindow.remove()}},{key:"show",value:function(c,v,x,g,a,s,l){var y=this,j=window.innerWidth,U=window.innerHeight,ee=null,se=null;if(this.input=x!==""?document.getElementById(x):null,this.objId=v,this.type=a,this.items=c,u(this.elContent),this.rootParameter=l,this.nextRowId=1,this.rowMap={},s&&(se=s.getSelection()),a===R.type.testData){var fe=l.getTestData(!0);this.createTestDataTable(this.elContent,l,fe);var be=Math.round(.8*j),_e=Math.round(.8*U),Oe=document.querySelector("html").scrollTop;this.elWindow.style.left=Math.round((j-be)/2)+"px",this.elWindow.style.top=Math.round((U-_e)/2)+Oe+"px",this.elWindow.style.width=be+"px",this.elWindow.style.height=_e+"px",document.body.append(t("div",{id:"rbro_background_overlay",class:"rbroBackgroundOverlay"})),document.body.classList.add("rbroFixedBackground")}else{a!==R.type.parameterSet&&a!==R.type.parameterAppend||((ee=t("input",{class:"rbroPopupSearch",placeholder:this.rb.getLabel("parameterSearchPlaceholder")})).addEventListener("input",function($e){y.filterParameters(ee.value)}),this.elContent.append(ee));var Te=t("ul");Te.addEventListener("mousedown",function($e){$e.preventDefault()});var Re,ze=lr(c);try{var Ne=function(){var Ge=Re.value,Je=t("li");if(Ge.separator){a!==R.type.parameterSet&&a!==R.type.parameterAppend||!Ge.id||Je.setAttribute("id","parameter_group_"+Ge.id);var st="rbroPopupItemSeparator";Ge.separatorClass&&(st+=" "+Ge.separatorClass),Je.setAttribute("class",st)}else a!==R.type.parameterSet&&a!==R.type.parameterAppend||!Ge.id||Je.setAttribute("id","parameter_"+Ge.id),Je.addEventListener("mousedown",function(at){if(a===R.type.pattern)y.input.value=Ge.name,y.input.dispatchEvent(new Event("input")),y.hide();else if(a===R.type.parameterSet)y.input.value="${"+Ge.name+"}",y.input.dispatchEvent(new Event("input")),At.update(y.input),y.hide();else if(a===R.type.parameterAppend){var it="${"+Ge.name+"}";s?se&&s.insertText(se.index,it):(function(tt,ve){if(document.selection)tt.focus(),document.selection.createRange().text=ve,tt.focus();else if(tt.selectionStart||tt.selectionStart===0){var qe=tt.selectionStart,Ke=tt.selectionEnd,gt=tt.scrollTop;tt.value=tt.value.substring(0,qe)+ve+tt.value.substring(Ke,tt.value.length),tt.focus(),tt.selectionStart=qe+ve.length,tt.selectionEnd=qe+ve.length,tt.scrollTop=gt}else tt.value+=ve,tt.focus()}(y.input,it),At.update(y.input),y.input.dispatchEvent(new Event("input"))),y.hide()}at.preventDefault()});Je.append(t("div",{class:"rbroPopupItemHeader"},Ge.name)),Ge.description&&Ge.description!==""&&Je.append(t("div",{class:"rbroPopupItemDescription"},Ge.description)),Te.append(Je)};for(ze.s();!(Re=ze.n()).done;)Ne()}catch($e){ze.e($e)}finally{ze.f()}this.elContent.append(Te);var Be=_(this.input),We=Be.top;We<U/2||We<300?We+this.input.clientHeight+300<U&&(We+=this.input.clientHeight):We-=300,this.elWindow.style.left=Be.left+"px",this.elWindow.style.top=We+"px",this.elWindow.style.width="400px",this.elWindow.style.height="300px"}this.elWindow.classList.remove("rbroHidden"),this.visible=!0,ee!==null&&ee.focus()}},{key:"hide",value:function(){if(this.visible){if(this.input!==null&&this.input.focus(),this.type===R.type.testData){var c=this.getTestData(this.elContent,this.rootParameter),v=this.rb.getDataObject(this.objId),x=JSON.stringify(c);if(v!==null&&v.getValue("testData")!==x){var g=new e(this.objId,"testData",x,e.type.text,this.rb);this.rb.executeCommand(g)}document.getElementById("rbro_background_overlay").remove()}this.elWindow.classList.add("rbroHidden"),u(this.elContent),document.body.classList.remove("rbroFixedBackground"),this.visible=!1,this.items=null}}},{key:"createTestDataTable",value:function(c,v,x){var g,a=this,s=v.getParameterFields(),l=t("div"),y=t("table"),j=t("tr"),U=t("tbody");v.type===N.type.array||v.type===N.type.simpleArray?Array.isArray(x)||(x=[]):v.type===N.type.map&&(x&&Object.getPrototypeOf(x)===Object.prototype||(x={}));var ee=t("th");v.type===N.type.map&&(ee.style.display="none"),j.append(ee);var se,fe=lr(s);try{for(fe.s();!(se=fe.n()).done;){var be=se.value,_e=t("th",{},be.name);be.type===N.type.image&&_e.append(t("span",{title:this.rb.getLabel("parameterTestDataImageInfo"),class:"rbroIcon-info"})),j.append(_e)}}catch(Ne){fe.e(Ne)}finally{fe.f()}var Oe=t("thead");if(Oe.append(j),y.append(Oe),v.type===N.type.map){var Te=[x];this.addTestDataRow(U,v,s,Te,0)}else{var Re=Array.isArray(x)?x:[];if(Re.length===0)this.addEmptyTestDataRow(U,v,s);else for(g=0;g<Re.length;g++)this.addTestDataRow(U,v,s,Re,g)}if(y.append(U),l.append(y),v.type!==N.type.map){var ze=t("div",{class:"rbroButton rbroFullWidthButton"});ze.append(t("div",{class:"rbroButton rbroPopupWindowButton"},this.rb.getLabel("parameterAddTestData"))),ze.addEventListener("click",function(Ne){a.addEmptyTestDataRow(U,v,s)}),l.append(ze)}u(c),c.append(l)}},{key:"addEmptyTestDataRow",value:function(c,v,x){var g,a={},s=lr(x);try{for(s.s();!(g=s.n()).done;){var l=g.value;l.type===N.type.array||l.type===N.type.simpleArray?a[l.name]=[]:l.type===N.type.map?a[l.name]={}:a[l.name]=""}}catch(j){s.e(j)}finally{s.f()}var y=[a];this.addTestDataRow(c,v,x,y,0)}},{key:"addTestDataRow",value:function(c,v,x,g,a){var s=this,l=g[a],y=t("tr");y.dataset.rowId=String(this.nextRowId),this.rowMap[String(this.nextRowId)]={type:"row",data:l},this.nextRowId++;var j=t("td");if(v.type!==N.type.map){var U=t("div",{class:"rbroButton rbroDeleteButton rbroIcon-cancel"});U.addEventListener("click",function(Oe){var Te=Oe.target.parentElement.parentElement,Re=Te.dataset.rowId;Te.remove();var ze=s.rowMap[Re];g.splice(g.indexOf(ze.data),1),delete s.rowMap[Re]}),j.append(U)}else j.style.display="none";y.append(j);var ee,se=x.length,fe=lr(x);try{for(fe.s();!(ee=fe.n()).done;){var be=ee.value,_e=be.type===N.type.array||be.type===N.type.simpleArray?[]:"";l!==null&&be.name in l&&(_e=l[be.name]),this.appendColumn(y,be,_e,l,se)}}catch(Oe){fe.e(Oe)}finally{fe.f()}c.append(y)}},{key:"appendColumn",value:function(c,v,x,g,a){var s=this,l=t("td");if(v.type===N.type.array||v.type===N.type.simpleArray||v.type===N.type.map){var y=t("div",{class:"expandableCell"}),j=t("span",{class:"rbroIcon-plus"});y.append(j);var U=t("span");if(y.append(U),y.addEventListener("click",function(Re){var ze=!y.classList.contains("rbroExpandedCell"),Ne=c.nextElementSibling;if(Ne&&Ne.tagName==="TR"){var Be=Ne.querySelector("td table");if(Be){var We,$e=lr(c.querySelectorAll(".expandableCell"));try{for($e.s();!(We=$e.n()).done;){var Ge=We.value;if(Ge.classList.contains("rbroExpandedCell")){Ge.classList.remove("rbroExpandedCell");var Je=Ge.children[0],st=Ge.children[1];Je.classList.remove("rbroIcon-minus"),Je.classList.add("rbroIcon-plus");var at=s.rowMap[Ne.dataset.rowId];if(at.type==="table"&&(at.parentData[at.field.name]=s.getTestData(Be,at.field.parameter),at.field.type===N.type.array||at.field.type===N.type.simpleArray)){var it=at.field.name in g&&Array.isArray(g[at.field.name])?g[at.field.name].length:0;s.setTableRowCount(st,it)}break}}}catch(Ke){$e.e(Ke)}finally{$e.f()}Ne.remove()}}if(ze){var tt=t("tr");tt.dataset.rowId=String(s.nextRowId),s.rowMap[String(s.nextRowId)]={type:"table",field:v,parentData:g},s.nextRowId++;var ve=t("td",{colspan:String(a+1)}),qe=g[v.name];s.createTestDataTable(ve,v.parameter,qe),tt.append(ve),c.insertAdjacentElement("afterend",tt),y.classList.add("rbroExpandedCell"),j.classList.remove("rbroIcon-plus"),j.classList.add("rbroIcon-minus"),U.textContent=""}}),v.type===N.type.array||v.type===N.type.simpleArray){var ee=v.name in g&&Array.isArray(g[v.name])?g[v.name].length:0;this.setTableRowCount(U,ee)}l.append(y)}else if(v.type===N.type.image){var se=t("div",{class:"rbroImageFileContainer"}),fe=t("input",{type:"file"});fe.addEventListener("change",function(Re){var ze=Re.target.files;if(ze&&ze[0]){var Ne=new FileReader,Be=s.rb,We=ze[0].name;Ne.onload=function($e){g[v.name]={data:$e.target.result,filename:We},be.classList.remove("rbroHidden"),_e.textContent=We},Ne.onerror=function($e){alert(Be.getLabel("docElementLoadImageErrorMsg"))},Ne.readAsDataURL(ze[0])}}),se.append(fe);var be=t("div",{class:"rbroImageFile rbroHidden"}),_e=t("div");be.append(_e);var Oe=t("div",{class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});Oe.addEventListener("click",function(Re){fe.value="",g[v.name]={data:"",filename:""},be.classList.add("rbroHidden"),_e.textContent=""}),be.append(Oe),se.append(be),x.filename&&(_e.textContent=x.filename,be.classList.remove("rbroHidden")),l.append(se)}else{var Te=t("input");v.type===N.type.boolean?(Te.setAttribute("type","checkbox"),x&&(Te.checked=!0),l.classList.add("rbroTestDataCheckbox")):(Te.setAttribute("type","text"),x&&Te.setAttribute("value",x)),Te.addEventListener("focus",function(Re){Te.parentElement.classList.add("rbroHasFocus")}),Te.addEventListener("blur",function(Re){Te.parentElement.classList.remove("rbroHasFocus")}),v.type===N.type.number?function(Re){var ze=this;Re.addEventListener("keyup",function(Ne){var Be=Ne.target.value,We=Be.reverse().replace(/[^0-9\-\.,]|[\-](?=.)|[\.,](?=[0-9]*[\.,])/g,"").reverse(),$e=ze.className,Ge=$e?$e.indexOf("decimalPlaces"):-1;if(Ge!==-1){Ge+=13;var Je,st=$e.indexOf(" ",Ge);Je=parseInt(st!==-1?$e.substring(Ge,st):$e.substr(Ge),10),isNaN(Je)||((Ge=We.indexOf("."))===-1&&(Ge=We.indexOf(",")),Ge!==-1&&We.length-1-Ge>Je&&(We=We.substring(0,Ge+Je+1)))}Be!==We&&(Ne.target.value=We)})}(Te):v.type===N.type.date&&Te.setAttribute("placeholder",this.rb.getLabel("parameterTestDataDatePattern")),l.append(Te)}c.append(l)}},{key:"getTestData",value:function(c,v){var x=v.getParameterFields(),g=null;v.type===N.type.array||v.type===N.type.simpleArray?g=[]:v.type===N.type.map&&(g={});var a,s=lr(c.querySelector("tbody").children);try{for(s.s();!(a=s.n()).done;){var l=a.value,y=this.rowMap[l.dataset.rowId];if(y.type==="table")y.parentData[y.field.name]=this.getTestData(l,y.field.parameter);else{var j,U=y.data,ee=l.querySelectorAll("input"),se=0,fe=lr(x);try{for(fe.s();!(j=fe.n()).done;){var be=j.value;if(be.type!==N.type.array&&be.type!==N.type.simpleArray&&be.type!==N.type.map){var _e=ee[se];be.type===N.type.boolean?U[be.name]=_e.checked:be.type!==N.type.image&&(U[be.name]=_e.value.trim()),se++}}}catch(Oe){fe.e(Oe)}finally{fe.f()}v.type===N.type.array||v.type===N.type.simpleArray?g.push(U):v.type===N.type.map&&(g=U)}}}catch(Oe){s.e(Oe)}finally{s.f()}return g}},{key:"setTableRowCount",value:function(c,v){c.textContent=v===0?this.rb.getLabel("parameterTestDataRowCountEmpty"):v===1?this.rb.getLabel("parameterTestDataRowCountOne"):this.rb.getLabel("parameterTestDataRowCount").replace("${count}",String(v))}},{key:"filterParameters",value:function(c){var v=null,x=0;if(this.items!==null){c=c.toLowerCase();var g,a=lr(this.items);try{for(a.s();!(g=a.n()).done;){var s=g.value;s.separator?(v!==null&&(document.getElementById("parameter_group_"+v).style.display=x>0?"block":"none"),v=s.id?s.id:null,x=0):s.nameLowerCase.indexOf(c)!==-1?(document.getElementById("parameter_"+s.id).style.display="block",v!==-1&&x++):document.getElementById("parameter_"+s.id).style.display="none"}}catch(l){a.e(l)}finally{a.f()}v!==null&&(document.getElementById("parameter_group_"+v).style.display=x>0?"block":"none")}}}]),R}();function tn(R,O){var c=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!c){if(Array.isArray(R)||(c=function(l,y){if(l){if(typeof l=="string")return rn(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?rn(l,y):void 0}}(R))||O&&R&&typeof R.length=="number"){c&&(R=c);var v=0,x=function(){};return{s:x,n:function(){return v>=R.length?{done:!0}:{done:!1,value:R[v++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,a=!0,s=!1;return{s:function(){c=c.call(R)},n:function(){var y=c.next();return a=y.done,y},e:function(y){s=!0,g=y},f:function(){try{a||c.return==null||c.return()}finally{if(s)throw g}}}}function rn(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}Lt.type={parameterSet:0,parameterAppend:1,pattern:2,testData:3};var Gt=function(){function R(O){J(this,R),this.rb=O,this.id="0_document_properties",this.panelItem=null,this.errors=[],this.pageFormat=R.pageFormat.A4,this.pageWidth="",this.pageHeight="",this.unit=R.unit.mm,this.orientation=R.orientation.portrait,this.contentHeight="",this.marginLeft="",this.marginLeftVal=0,this.marginTop="",this.marginTopVal=0,this.marginRight="",this.marginRightVal=0,this.marginBottom="",this.marginBottomVal=0,this.header=!0,this.headerSize="80",this.headerDisplay=R.display.always,this.footer=!0,this.footerSize="80",this.footerDisplay=R.display.always,this.headerSizeVal=this.header?S(this.headerSize):0,this.footerSizeVal=this.footer?S(this.footerSize):0,this.patternLocale=O.getProperty("patternLocale"),this.patternCurrencySymbol=O.getProperty("patternCurrencySymbol"),this.patternNumberGroupSymbol=O.getProperty("patternNumberGroupSymbol"),this.width=0,this.height=0}return T(R,[{key:"setInitialData",value:function(c){for(var v in c)c.hasOwnProperty(v)&&this.hasOwnProperty(v)&&(this[v]=c[v]);this.headerSizeVal=this.header?S(this.headerSize):0,this.footerSizeVal=this.footer?S(this.footerSize):0,this.marginLeftVal=S(this.marginLeft),this.marginTopVal=S(this.marginTop),this.marginRightVal=S(this.marginRight),this.marginBottomVal=S(this.marginBottom)}},{key:"setup",value:function(){var c=this.getPageSize();this.updatePageSize(c),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter(),this.updateHeader(),this.updateFooter()}},{key:"getFields",value:function(){return["pageFormat","pageWidth","pageHeight","unit","orientation","contentHeight","marginLeft","marginTop","marginRight","marginBottom","header","headerSize","headerDisplay","footer","footerSize","footerDisplay","patternLocale","patternCurrencySymbol","patternNumberGroupSymbol"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.rb.getLabel("documentProperties")}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(c){this.panelItem=c}},{key:"getValue",value:function(c){return this[c]}},{key:"setValue",value:function(c,v){if(this[c]=v,c==="marginLeft"||c==="marginTop"||c==="marginRight"||c==="marginBottom"?(this[c+"Val"]=S(v),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter()):c==="header"?this.updateHeader():c==="footer"&&this.updateFooter(),c!=="header"&&c!=="headerSize"||(this.rb.getDocument().updateHeader(),this.headerSizeVal=this.header?S(this.headerSize):0),c!=="footer"&&c!=="footerSize"||(this.rb.getDocument().updateFooter(),this.footerSizeVal=this.footer?S(this.footerSize):0),c==="pageFormat"||c==="pageWidth"||c==="pageHeight"||c==="unit"||c==="orientation"||c==="contentHeight"||c==="marginTop"||c==="marginBottom"){var x=this.getPageSize();this.updatePageSize(x)}}},{key:"updatePageSize",value:function(c){this.width=c.width,this.height=c.height,this.rb.getDocument().updatePageSize(c.width,c.height);var v,x=tn(this.rb.getDocElements(!0));try{for(x.s();!(v=x.n()).done;){var g=v.value;g instanceof Dt&&g.setWidth(c.width)}}catch(a){x.e(a)}finally{x.f()}this.rb.getDocument().pageSizeChanged()}},{key:"updateHeader",value:function(){this.header?this.rb.getMainPanel().showHeader():this.rb.getMainPanel().hideHeader()}},{key:"updateFooter",value:function(){this.footer?this.rb.getMainPanel().showFooter():this.rb.getMainPanel().hideFooter()}},{key:"getPageSize",value:function(){var c,v,x;return this.pageFormat===R.pageFormat.A4?(this.orientation===R.orientation.portrait?(c=210,v=297):(c=297,v=210),x=R.unit.mm):this.pageFormat===R.pageFormat.A5?(this.orientation===R.orientation.portrait?(c=148,v=210):(c=210,v=148),x=R.unit.mm):this.pageFormat===R.pageFormat.letter?(this.orientation===R.orientation.portrait?(c=8.5,v=11):(c=11,v=8.5),x=R.unit.inch):(c=S(this.pageWidth),v=S(this.pageHeight),x=this.unit),x===R.unit.mm?(c=Math.round(72*c/25.4),v=Math.round(72*v/25.4)):(c=Math.round(72*c),v=Math.round(72*v)),this.contentHeight.trim()!==""&&(v=S(this.contentHeight)+this.marginTopVal+this.marginBottomVal+this.headerSizeVal+this.footerSizeVal),{width:c,height:v}}},{key:"getContentSize",value:function(){var c,v=this.getPageSize();return c=this.contentHeight.trim()!==""?S(this.contentHeight):v.height-this.marginTopVal-this.marginBottomVal-this.headerSizeVal-this.footerSizeVal,{width:v.width-this.marginLeftVal-this.marginRightVal,height:c}}},{key:"addError",value:function(c){this.errors.push(c)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var c,v={},x=tn(this.getFields());try{for(x.s();!(c=x.n()).done;){var g=c.value;v[g]=this.getValue(g)}}catch(a){x.e(a)}finally{x.f()}return v}},{key:"getClassName",value:function(){return"DocumentProperties"}}]),R}();Gt.outputFormat={pdf:"pdf",xlsx:"xlsx"},Gt.pageFormat={A4:"A4",A5:"A5",letter:"letter",userDefined:"user_defined"},Gt.unit={mm:"mm",inch:"inch"},Gt.orientation={portrait:"portrait",landscape:"landscape"},Gt.display={always:"always",notOnFirstPage:"not_on_first_page"};var gn={de_de:{bandContent:"Inhalt",bandFooter:"Fu\xDFzeile",bandHeader:"Kopfzeile",clear:"L\xF6schen",contentHeight:"Inhaltsh\xF6he",contentHeightInfo:"H\xF6he des Inhaltsbereichs, um Elemente zu platzieren (betrifft nicht die tats\xE4chliche Seitengr\xF6\xDFe)",differentFiles:"versch. Dateien...",differentValues:"versch. Werte...",docElementAlignToPageBottom:"Am unteren Seitenrand ausrichten",docElementAlternateBackgroundColor:"Abwechselnde Hintergrundfarbe",docElementAlwaysPrintOnSamePage:"Immer zusammen auf einer Seite",docElementBarCode:"Barcode",docElementBarWidth:"Balkenbreite",docElementBorderFrame:"au\xDFen",docElementBorderFrameRow:"Rahmen und Zeile",docElementBorderGrid:"Alle Rahmenlinien",docElementBorderNone:"Keiner",docElementBorderRow:"Zeilen",docElementColor:"Farbe",docElementColspan:"Anz. verbundene Zellen",docElementColumns:"Spalten",docElementConditionalStyle:"Bedingte Formatierung",docElementConditionalStyleCondition:"Bedingung",docElementContent:"Text",docElementContentRows:"Inhaltszeilen",docElementDataSource:"Datenquelle",docElementDisplayValue:"Wert anzeigen",docElementErrorCorrectionLevel:"Fehlerkorrektur",docElementErrorCorrectionLevelHigh:"Hoch",docElementErrorCorrectionLevelLow:"Niedrig",docElementErrorCorrectionLevelMedium:"Mittel",docElementErrorCorrectionLevelQuartile:"Quartil",docElementEval:"Auswerten",docElementFormat:"Format",docElementFrame:"Rahmen",docElementGroupExpression:"Gruppen Ausdruck",docElementGrowWeight:"Wachstums-Gewicht",docElementGrowWeightInfo:"Wachstumsfaktor zur Verwendung des Platzes von ausgeblendeten Spalten",docElementGrowWeightHigh:"hoch",docElementGrowWeightLow:"niedrig",docElementGuardBar:"Rand-/Trennzeichen",docElementHeight:"H\xF6he",docElementImage:"Bild",docElementImageFile:"Bilddatei",docElementLabel:"Bezeichnung",docElementLine:"Linie",docElementLink:"Link",docElementLoadImageErrorMsg:"Bild laden fehlgeschlagen",docElementPageBreak:"Seitenumbruch",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Anzeigen wenn",docElementPrintSettings:"Anzeige",docElementRemoveEmptyElement:"Entfernen wenn nicht vorhanden",docElementRepeatGroupHeader:"Gruppe auf jeder Seite wiederholen",docElementRepeatHeader:"Auf jeder Seite wiederholen",docElementRichText:"Rich Text",docElementRoot:"Dokument",docElementRotate:"Drehen",docElementSection:"Sektion",docElementShrinkToContentHeight:"Auf Inhaltsh\xF6he reduzieren",docElementSize:"Gr\xF6\xDFe (Breite, H\xF6he)",docElementSource:"Bildquelle",docElementSpreadsheet:"Tabellenkalkulation",docElementSpreadsheetAddEmptyRow:"Leere Zeile unterhalb einf\xFCgen",docElementSpreadsheetColspan:"Anz. verbundene Zellen",docElementSpreadsheetColumn:"Fixe Spalte",docElementSpreadsheetHide:"Ausblenden",docElementSpreadsheetTextWrap:"Zeilenumbruch",docElementStyle:"Formatvorlage",docElementTable:"Tabelle",docElementTableBandPageBreak:"Seitenumbruch mit jeder neuen Gruppe",docElementText:"Text",docElementWidth:"Breite",documentProperties:"Dokumenteinstellungen",documentTabClose:"Schlie\xDFen",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Vorschau",documentTabXlsxDownload:"XLSX Download",emptyPanel:"Leer",errorMsgDuplicateParameter:"Parameter existiert bereits",errorMsgDuplicateParameterField:"Feld existiert bereits",errorMsgFontNotAvailable:"Schrift ist am Server nicht vorhanden",errorMsgLoadingImageFailed:"Bild laden fehlgeschlagen: ${info}",errorMsgInvalidArray:"Ung\xFCltige Liste",errorMsgInvalidAvgSumExpression:"Ausdruck muss ein Zahl-Feld einer Liste enthalten",errorMsgInvalidBarCode:"Ung\xFCltiger Barcode Inhalt",errorMsgInvalidDataSource:"Ung\xFCltige Datenquelle",errorMsgInvalidDataSourceParameter:"Parameter muss eine Liste sein",errorMsgInvalidDate:"Ung\xFCltiges Datum, erwartetes Format ist JJJJ-MM-TT (bzw. JJJJ-MM-TT hh:mm f\xFCr Datum mit Uhrzeit)",errorMsgInvalidStringData:"Ung\xFCltiger Inhalt f\xFCr Text Parameter ${info}",errorMsgInvalidExpression:"Ung\xFCltiger Ausdruck: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Funktion ${info} ist nicht definiert",errorMsgInvalidExpressionNameNotDefined:"Name ${info} ist nicht definiert",errorMsgInvalidExpressionType:"Ausdruck liefert ung\xFCltigen Typ",errorMsgInvalidLink:"Link muss mit http:// oder https:// beginnen",errorMsgInvalidImage:"Ung\xFCltige Bilddaten, Bild muss base64 kodiert sein",errorMsgInvalidImageSource:"Ung\xFCltige Bildquelle, Url beginnend mit http:// bzw. https:// erwartet",errorMsgInvalidImageSourceParameter:"Parameter vom Typ Bild oder String (mit einer Url) notwendig",errorMsgInvalidMap:"Ung\xFCltige Auflistung",errorMsgInvalidNumber:"Ung\xFCltige Zahl",errorMsgInvalidPageSize:"Ung\xFCltige Seitengr\xF6\xDFe",errorMsgInvalidParameterData:"Daten stimmen nicht mit Parameter \xFCberein",errorMsgInvalidParameterName:"Name muss mit einem Zeichen oder Unterstrich beginnen und darf nur Zeichen, Ziffern und Unterstriche enthalten",errorMsgInvalidPattern:"Ung\xFCltiges Pattern",errorMsgInvalidPosition:"Die Position ist au\xDFerhalb des Bereichs",errorMsgInvalidSize:"Das Element ist au\xDFerhalb des Bereichs",errorMsgInvalidTestData:"Ung\xFCltige Testdaten",errorMsgMissingData:"Fehlende Daten",errorMsgMissingDataSourceParameter:"Datenquelle Parameter nicht gefunden",errorMsgMissingExpression:"Ausdruck muss gesetzt sein",errorMsgMissingImage:"Fehlendes Bild: Keine Bildquelle oder -datei angegeben",errorMsgMissingParameter:"Parameter nicht gefunden",errorMsgMissingParameterData:"Daten f\xFCr Parameter {info} nicht gefunden",errorMsgRepeatGroupHeaderAfterContent:"Nicht erlaubt f\xFCr Gruppe nach Inhaltszeile",errorMsgPlusVersionRequired:"Ben\xF6tigt kommerzielle PLUS Version",errorMsgSectionBandNotOnSamePage:"Abschnittsbereich passt nicht auf eine Seite",errorMsgSectionBandPageBreakNotAllowed:"Manueller Seitenumbruch ist nicht erlaubt",errorMsgUnicodeEncodeError:"Text enth\xE4lt nicht druckbare Zeichen",errorMsgUnsupportedImageType:"Bildtyp wird nicht unterst\xFCtzt (nur .jpg und .png erlaubt)",footer:"Fu\xDFzeile",footerDisplay:"Anzeige",footerSize:"H\xF6he Fu\xDFzeile",header:"Kopfzeile",headerDisplay:"Anzeige",headerFooterDisplayAlways:"Immer",headerFooterDisplayNotOnFirstPage:"Nicht auf erster Seite",headerSize:"H\xF6he Kopfzeile",menuColumnAddLeft:"Spalte links hinzuf\xFCgen",menuColumnAddRight:"Spalte rechts hinzuf\xFCgen",menuColumnDelete:"Spalte l\xF6schen",menuAlignBottom:"Unten ausrichten",menuAlignCenter:"Zentriert ausrichten",menuAlignLeft:"Links ausrichten",menuAlignMiddle:"Mittig ausrichten",menuAlignRight:"Rechts ausrichten",menuAlignTop:"Oben ausrichten",menuInsertReport:"EINF.",menuInsertReportTip:"Report-Vorlage einf\xFCgen",menuLogReport:"LOG",menuLogReportTip:"Report-Vorlage in Konsole ausgeben",menuPreview:"VORSCHAU",menuPreviewTip:"Report-Vorschau",menuRedo:"WIEDERH.",menuRedoTip:"Letzten r\xFCckg\xE4ngig gemachten Befehl wiederholen",menuRowAddAbove:"Zeile oberhalb hinzuf\xFCgen",menuRowAddBelow:"Zeile unterhalb hinzuf\xFCgen",menuRowDelete:"Zeile l\xF6schen",menuSave:"SPEICHERN",menuSaveTip:"Report speichern",menuToggleGrid:"Raster ein-/ausblenden",menuUndo:"R\xDCCKG.",menuUndoTip:"Letzten Befehl r\xFCckg\xE4ngig machen",menuZoomIn:"Vergr\xF6\xDFern",menuZoomOut:"Verkleinern",nameCopySuffix:"Kopie",orientation:"Ausrichtung",orientationBottom:"unten",orientationLandscape:"Querformat",orientationLeft:"links",orientationPortrait:"Hochformat",orientationRight:"rechts",orientationTop:"oben",pageFormat:"Seitenformat",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Brief (216 x 279 mm)",pageFormatUserDefined:"Eigene Einstellung",pageHeight:"H\xF6he",pageMargins:"Seitenr\xE4nder",pageWidth:"Breite",parameter:"Parameter",parameterAddTestData:"Zeile hinzuf\xFCgen",parameterArrayItemType:"Listenelement-Typ",parameterEditTestData:"Bearbeiten",parameterEditTestDataNoFields:"Keine Felder f\xFCr diese Liste definiert",parameterEval:"Text auswerten",parameterExpression:"Ausdruck",parameterListType:"Listen-Typ",parameterName:"Name",parameterNullable:"NULL-Wert erlaubt",parameterPattern:"Pattern",parameterRowParams:"Parameter in Zeile",parameterSearchPlaceholder:"Parameter durchsuchen...",parameterTestData:"Testdaten",parameterTestDataDatePattern:"JJJJ-MM-TT",parameterTestDataImageInfo:"Bilder werden in der Berichtsvorlage gespeichert und k\xF6nnen die Gr\xF6\xDFe der Berichtsvorlage erheblich erh\xF6hen",parameterTestDataRowCount:"${count} Zeilen",parameterTestDataRowCountEmpty:"leer",parameterTestDataRowCountOne:"1 Zeile",parameterType:"Typ",parameterTypeArray:"Liste",parameterTypeAverage:"Durchschnitt",parameterTypeBoolean:"Boolean",parameterTypeDate:"Datum",parameterTypeImage:"Bild",parameterTypeMap:"Gruppierung",parameterTypeNumber:"Zahl",parameterTypeSimpleArray:"Einfache Liste",parameterTypeString:"String",parameterTypeSum:"Summe",parameters:"Parameter",parametersDataSource:"Datenquelle Parameter",patternCurrencySymbol:"W\xE4hrungssymbol",patternDate1:"Tag.Monat.Jahr, z.B. 1.6.1980",patternDate2:"Tag.Monat.Jahr (2-stellig), Stunde(24h):Minute, z.B. 1.6.80, 14:30",patternDate3:"Tag/Monat/Jahr (Monat abgek\xFCrzt), z.B. 1/Jun/1980",patternDate4:"Monat/Tag/Jahr (Tag und Monat mit f\xFChrender Null, falls einstellig), z.B. 06/01/1980",patternLocale:"Pattern Locale",patternNumber1:"Tausender-Trennzeichen",patternNumber2:"Dezimalpunkt gefolgt von 3 Dezimalstellen",patternNumber3:"Dezimalpunkt gefolgt von mind. 2 und max. 4 Dezimalstellen",patternNumber4:"Tausender-Trennzeichen und Dezimalpunkt gefolgt von 2 Dezimalstellen",patternNumber5:"W\xE4hrungssymbol vor Zahl",patternNumberGroupSymbol:"Tausender-Trennzeichen",patternNumberGroupSymbolInfo:"leer lassen f\xFCr Standardzeichen",patternSeparatorDates:"--- Datum Pattern ---",patternSeparatorNumbers:"--- Zahlen Pattern ---",plusFeatureInfo:'Ben\xF6tigt kommerzielle <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS Version</a>',plusFeatureInfoNestedParameter:'Verschachtelter Parameter ben\xF6tigt kommerzielle <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS Version</a>',select:"ausw\xE4hlen...",style:"Formatvorlage",styleAlignment:"Ausrichtung",styleBackgroundColor:"Hintergrundfarbe",styleBold:"Fett",styleBorder:"Rahmen",styleBorderAll:"vollst\xE4ndig",styleBorderColor:"Rahmenfarbe",styleBorderWidth:"Rahmenbreite",styleFont:"Schrift",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Zentriert",styleHAlignmentLeft:"Links",styleHAlignmentJustify:"Blocksatz",styleHAlignmentRight:"Rechts",styleItalic:"Kursiv",styleLineSpacing:"Linienabstand",styleName:"Name",styleNone:"Keine",stylePadding:"Innenabstand",styleStrikethrough:"Durchgestrichen",styleTextColor:"Textfarbe",styleTextStyle:"Formatierung",styleUnderline:"Unterstreichen",styleVAlignmentBottom:"Unten",styleVAlignmentMiddle:"Mittig",styleVAlignmentTop:"Oben",styles:"Formatvorlagen"},en_us:{bandContent:"Content",bandFooter:"Footer",bandHeader:"Header",clear:"Clear",contentHeight:"Content height",contentHeightInfo:"affects only GUI size to place elements and not the real page size",differentFiles:"different files...",differentValues:"different values...",docElementAlignToPageBottom:"Align to bottom of page",docElementAlternateBackgroundColor:"Alternate background color",docElementAlwaysPrintOnSamePage:"Always on same page",docElementBarCode:"Bar code",docElementBarWidth:"Bar width",docElementBorderFrame:"Frame",docElementBorderFrameRow:"Frame and row",docElementBorderGrid:"Grid",docElementBorderNone:"None",docElementBorderRow:"Row",docElementColor:"Color",docElementColspan:"Colspan",docElementColumns:"Columns",docElementConditionalStyle:"Conditional style",docElementConditionalStyleCondition:"Condition",docElementContent:"Text",docElementContentRows:"Content rows",docElementDataSource:"Data source",docElementDisplayValue:"Display value",docElementErrorCorrectionLevel:"Error correction",docElementErrorCorrectionLevelHigh:"High",docElementErrorCorrectionLevelLow:"Low",docElementErrorCorrectionLevelMedium:"Medium",docElementErrorCorrectionLevelQuartile:"Quartile",docElementEval:"Evaluate",docElementFormat:"Format",docElementFrame:"Frame",docElementGroupExpression:"Group expression",docElementGrowWeight:"Grow weight",docElementGrowWeightInfo:"Grow factor to take space of hidden columns",docElementGrowWeightHigh:"high",docElementGrowWeightLow:"low",docElementGuardBar:"Guard bars",docElementHeight:"Height",docElementImage:"Image",docElementImageFile:"Image file",docElementLabel:"Label",docElementLine:"Line",docElementLink:"Link",docElementLoadImageErrorMsg:"Loading image failed",docElementPageBreak:"Page break",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Print if",docElementPrintSettings:"Print settings",docElementRemoveEmptyElement:"Remove when empty",docElementRepeatGroupHeader:"Repeat group on each page",docElementRepeatHeader:"Repeat header",docElementRichText:"Rich text",docElementRoot:"Document",docElementRotate:"Rotate",docElementSection:"Section",docElementShrinkToContentHeight:"Shrink to content height",docElementSize:"Size (width, height)",docElementSource:"Source",docElementSpreadsheet:"Spreadsheet",docElementSpreadsheetAddEmptyRow:"Add empty row below",docElementSpreadsheetColspan:"Colspan",docElementSpreadsheetColumn:"Fixed column",docElementSpreadsheetHide:"Hide",docElementSpreadsheetTextWrap:"Text wrap",docElementStyle:"Style",docElementTable:"Table",docElementTableBandPageBreak:"Page break with each new group",docElementText:"Text",docElementWidth:"Width",documentProperties:"Document properties",documentTabClose:"Close",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Preview",documentTabXlsxDownload:"XLSX Download",emptyPanel:"Empty panel",errorMsgDuplicateParameter:"Parameter already exists",errorMsgDuplicateParameterField:"Field already exists",errorMsgFontNotAvailable:"Font not available on server",errorMsgLoadingImageFailed:"Loading image failed: ${info}",errorMsgInvalidArray:"Invalid list",errorMsgInvalidAvgSumExpression:"Expression must contain number field of a list parameter",errorMsgInvalidBarCode:"Invalid bar code content",errorMsgInvalidDataSource:"Invalid data source",errorMsgInvalidDataSourceParameter:"Parameter must be a list",errorMsgInvalidDate:"Invalid date, expected format is YYYY-MM-DD (or YYYY-MM-DD hh:mm for date with time)",errorMsgInvalidStringData:"Invalid data for text parameter ${info}",errorMsgInvalidExpression:"Invalid expression: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Function ${info} not defined",errorMsgInvalidExpressionNameNotDefined:"Name ${info} not defined",errorMsgInvalidExpressionType:"Expression returns invalid type",errorMsgInvalidLink:"Link must start with http:// or https://",errorMsgInvalidImage:"Invalid image data, image must be base64 encoded",errorMsgInvalidImageSource:"Invalid source, expected url starting with http:// or https:// respectively",errorMsgInvalidImageSourceParameter:"Parameter must be an image or string (containing a url)",errorMsgInvalidMap:"Invalid collection",errorMsgInvalidNumber:"Invalid number",errorMsgInvalidPageSize:"Invalid page size",errorMsgInvalidParameterData:"Data does not match parameter",errorMsgInvalidParameterName:"Name must start with a character or underscore, and must only contain characters, digits and underscores (_)",errorMsgInvalidPattern:"Invalid pattern",errorMsgInvalidPosition:"The position is outside the area",errorMsgInvalidSize:"The element is outside the area",errorMsgInvalidTestData:"Invalid test data",errorMsgMissingData:"Missing data",errorMsgMissingDataSourceParameter:"Data source parameter not found",errorMsgMissingExpression:"Expression must be set",errorMsgMissingImage:"Missing image, no source or image file specified",errorMsgMissingParameter:"Parameter not found",errorMsgMissingParameterData:"Data for parameter {info} not found",errorMsgRepeatGroupHeaderAfterContent:"Not allowed for group after content row",errorMsgPlusVersionRequired:"Requires commerical PLUS version",errorMsgSectionBandNotOnSamePage:"Section band does not fit on same page",errorMsgSectionBandPageBreakNotAllowed:"Manual page break not allowed",errorMsgUnicodeEncodeError:"Text contains non printable character",errorMsgUnsupportedImageType:"Image does not have supported image type (.jpg, .png)",footer:"Footer",footerDisplay:"Display",footerSize:"Footer size",header:"Header",headerDisplay:"Display",headerFooterDisplayAlways:"Always",headerFooterDisplayNotOnFirstPage:"Do not show on first page",headerSize:"Header size",menuColumnAddLeft:"Add column to the left",menuColumnAddRight:"Add column to the right",menuColumnDelete:"Delete column",menuAlignBottom:"Align bottom",menuAlignCenter:"Align center",menuAlignLeft:"Align left",menuAlignMiddle:"Align middle",menuAlignRight:"Align right",menuAlignTop:"Align top",menuInsertReport:"INSERT",menuInsertReportTip:"Insert report template",menuLogReport:"LOG",menuLogReportTip:"Log report template to console",menuPreview:"PREVIEW",menuPreviewTip:"Preview report",menuRedo:"REDO",menuRedoTip:"Repeat last undone command",menuRowAddAbove:"Add row above",menuRowAddBelow:"Add row below",menuRowDelete:"Delete row",menuSave:"SAVE",menuSaveTip:"Save report",menuToggleGrid:"Show/Hide grid",menuUndo:"UNDO",menuUndoTip:"Undo last command",menuZoomIn:"Zoom in",menuZoomOut:"Zoom out",nameCopySuffix:"copy",orientation:"Orientation",orientationBottom:"bottom",orientationLandscape:"Landscape",orientationLeft:"left",orientationPortrait:"Portrait",orientationRight:"right",orientationTop:"top",pageFormat:"Page format",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Letter (8.5 x 11.0 inches)",pageFormatUserDefined:"Own dimensions",pageHeight:"height",pageMargins:"Page margins",pageWidth:"width",parameter:"Parameter",parameterAddTestData:"Add row",parameterArrayItemType:"List item type",parameterEditTestData:"Edit",parameterEditTestDataNoFields:"No fields defined for this list",parameterEval:"Evaluate text",parameterExpression:"Expression",parameterListType:"List type",parameterName:"Name",parameterNullable:"Nullable",parameterPattern:"Pattern",parameterRowParams:"Row parameters",parameterSearchPlaceholder:"Search parameters...",parameterTestData:"Test data",parameterTestDataDatePattern:"YYYY-MM-DD",parameterTestDataImageInfo:"Images are saved in the report template and could significantly increase report template size",parameterTestDataRowCount:"${count} rows",parameterTestDataRowCountEmpty:"empty",parameterTestDataRowCountOne:"1 row",parameterType:"Type",parameterTypeArray:"List",parameterTypeAverage:"Average",parameterTypeBoolean:"Boolean",parameterTypeDate:"Date",parameterTypeImage:"Image",parameterTypeMap:"Collection",parameterTypeNumber:"Number",parameterTypeSimpleArray:"Simple List",parameterTypeString:"Text",parameterTypeSum:"Sum",parameters:"Parameters",parametersDataSource:"Data source parameters",patternCurrencySymbol:"Pattern currency symbol",patternDate1:"day.month.year, e.g. 1.6.1980",patternDate2:"day.month.year (2-digit), hour(24h):minute, e.g. 1.6.80, 14:30",patternDate3:"day/month/year (month abbreviation), e.g. 1/Jun/1980",patternDate4:"month/day/year (day and month with leading zero if single digit), e.g. 06/01/1980",patternLocale:"Pattern locale",patternNumber1:"Show thousand separator",patternNumber2:"Show decimal point followed by 3 decimal places",patternNumber3:"Show decimal point followed by minimum of 2 and maximum of 4 decimal places",patternNumber4:"Show thousand separator and decimal point followed by 2 decimal places",patternNumber5:"Show currency symbol in front of number",patternNumberGroupSymbol:"Thousands separator",patternNumberGroupSymbolInfo:"leave empty for default",patternSeparatorDates:"--- Date patterns ---",patternSeparatorNumbers:"--- Number patterns ---",plusFeatureInfo:'Requires commerical <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS version</a>',plusFeatureInfoNestedParameter:'Nested parameter requires commerical <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS version</a>',select:"select...",style:"Style",styleAlignment:"Alignment",styleBackgroundColor:"Background color",styleBold:"Bold",styleBorder:"Border",styleBorderAll:"borders",styleBorderColor:"Border color",styleBorderWidth:"Border width",styleFont:"Font",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Center",styleHAlignmentLeft:"Left",styleHAlignmentJustify:"Justify",styleHAlignmentRight:"Right",styleItalic:"Italic",styleLineSpacing:"Line spacing",styleName:"Name",styleNone:"None",stylePadding:"Padding",styleStrikethrough:"Strikethrough",styleTextColor:"Text color",styleTextStyle:"Text style",styleUnderline:"Underline",styleVAlignmentBottom:"Bottom",styleVAlignmentMiddle:"Middle",styleVAlignmentTop:"Top",styles:"Styles"}};function br(R,O){var c=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!c){if(Array.isArray(R)||(c=function(l,y){if(l){if(typeof l=="string")return nn(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?nn(l,y):void 0}}(R))||O&&R&&typeof R.length=="number"){c&&(R=c);var v=0,x=function(){};return{s:x,n:function(){return v>=R.length?{done:!0}:{done:!1,value:R[v++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,a=!0,s=!1;return{s:function(){c=c.call(R)},n:function(){var y=c.next();return a=y.done,y},e:function(y){s=!0,g=y},f:function(){try{a||c.return==null||c.return()}finally{if(s)throw g}}}}function nn(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}var Ar=function(){function R(O,c,v,x){J(this,R),this.idPrefix=O,this.dataBaseClass=c,this.panelId=O+"_panel",this.rootElement=v,this.rb=x,this.propertyDescriptors={},this.differentValuesLabel=this.rb.getLabel("differentValues"),this.differentFilesLabel=this.rb.getLabel("differentFiles"),this.quill=null,this.controls={}}return T(R,[{key:"render",value:function(c){}},{key:"destroy",value:function(){}},{key:"setValue",value:function(c,v,x){var g="".concat(this.idPrefix,"_").concat(c.fieldId);x?document.getElementById(g).classList.add("rbroDifferentValues"):document.getElementById(g).classList.remove("rbroDifferentValues");var a=document.getElementById(g);if(c.type===e.type.text)x?(a.value="",a.setAttribute("placeholder",this.differentValuesLabel)):(a.value=v,a.setAttribute("placeholder",""));else if(c.type===e.type.richText)this.quill&&(x||!v?this.quill.setContents({},"silent"):this.quill.setContents(v,"silent"));else if(c.type===e.type.select)a.value=v;else if(c.type===e.type.checkbox)a.checked=!x&&v;else if(c.type===e.type.button)x?a.classList.remove("rbroButtonActive"):v?a.classList.add("rbroButtonActive"):a.classList.remove("rbroButtonActive");else if(c.type===e.type.buttonGroup){var s,l=br(a.querySelectorAll("button"));try{for(l.s();!(s=l.n()).done;)s.value.classList.remove("rbroButtonActive")}catch(j){l.e(j)}finally{l.f()}x||a.querySelector('button[value="'.concat(v,'"]')).classList.add("rbroButtonActive")}else if(c.type===e.type.color){var y=document.getElementById(g+"_select");x?c.allowEmpty?(a.value="",y.style.color="",y.classList.add("rbroTransparentColorSelect")):(a.value="#000000",y.style.color="#000000",y.classList.remove("rbroTransparentColorSelect")):(a.value=v,y.style.color=v,v?y.classList.remove("rbroTransparentColorSelect"):y.classList.add("rbroTransparentColorSelect"))}else c.type===e.type.filename&&(x?(a.textContent=this.differentFilesLabel,document.getElementById(g+"_container").classList.remove("rbroHidden")):(a.textContent=v,v===""?document.getElementById(g+"_container").classList.add("rbroHidden"):document.getElementById(g+"_container").classList.remove("rbroHidden")))}},{key:"updateDisplay",value:function(c){}},{key:"show",value:function(){document.getElementById(this.panelId).classList.remove("rbroHidden")}},{key:"hide",value:function(){document.getElementById(this.panelId).classList.add("rbroHidden")}},{key:"isKeyEventDisabled",value:function(){return this.quill&&this.quill.hasFocus()}},{key:"notifyEvent",value:function(c,v,x){c instanceof this.dataBaseClass&&this.rb.isSelectedObject(c.id)&&v===w.operation.change&&this.updateDisplay(x)}},{key:"updateErrors",value:function(){var c,v=document.getElementById(this.panelId),x=v.querySelectorAll(".rbroFormRow"),g=v.querySelectorAll(".rbroErrorMessage"),a=br(x);try{for(a.s();!(c=a.n()).done;)c.value.classList.remove("rbroError")}catch(Te){a.e(Te)}finally{a.f()}var s,l=br(g);try{for(l.s();!(s=l.n()).done;)s.value.textContent=""}catch(Te){l.e(Te)}finally{l.f()}var y=this.rb.getSelectedObject();if(y!==null){var j,U=br(y.getErrors());try{for(U.s();!(j=U.n()).done;){var ee=j.value,se=this.propertyDescriptors[ee.field];if(se){if("section"in se){var fe=se.section;document.getElementById("".concat(this.idPrefix,"_").concat(fe,"_header")).classList.add("rbroError")}var be=this.rb.getLabel(ee.msg_key);ee.info&&(be=be.replace("${info}",'<span class="rbroErrorMessageInfo">'+ee.info.replace("<","&lt;").replace(">","&gt;")+"</span>"));var _e=this.getRowId(se);document.getElementById(_e).classList.add("rbroError");var Oe;Oe="errorMsgId"in se?se.errorMsgId:"".concat(this.idPrefix,"_").concat(se.fieldId,"_error"),document.getElementById(Oe).innerHTML=be}}}catch(Te){U.e(Te)}finally{U.f()}}}},{key:"selectionChanged",value:function(){this.updateDisplay(null),this.updateErrors()}},{key:"scrollToFirstError",value:function(){var c=this.rb.getSelectedObject();if(c!==null){var v,x=br(c.getErrors());try{for(x.s();!(v=x.n()).done;){var g=v.value,a=this.propertyDescriptors[g.field];if(a&&"section"in a){var s=a.section,l=document.getElementById("".concat(this.idPrefix,"_").concat(s,"_header"));l.classList.contains("rbroPanelSectionHeaderOpen")||l.dispatchEvent(new Event("click"))}}}catch(Oe){x.e(Oe)}finally{x.f()}var y,j="",U=-1,ee=br(c.getErrors());try{for(ee.s();!(y=ee.n()).done;){var se=y.value,fe=this.propertyDescriptors[se.field];if(fe){var be=this.getRowId(fe),_e=_(document.getElementById(be)).top;(j===""||_e<U)&&(j=be,U=_e)}}}catch(Oe){ee.e(Oe)}finally{ee.f()}j!==""&&(document.getElementById("rbro_detail_panel").scrollTop=U)}}},{key:"getRowId",value:function(c){return"rowId"in c?c.rowId:"".concat(this.idPrefix,"_").concat(c.fieldId,"_row")}}]),R}();function on(R,O){var c=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!c){if(Array.isArray(R)||(c=function(l,y){if(l){if(typeof l=="string")return an(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?an(l,y):void 0}}(R))||O&&R&&typeof R.length=="number"){c&&(R=c);var v=0,x=function(){};return{s:x,n:function(){return v>=R.length?{done:!0}:{done:!1,value:R[v++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,a=!0,s=!1;return{s:function(){c=c.call(R)},n:function(){var y=c.next();return a=y.done,y},e:function(y){s=!0,g=y},f:function(){try{a||c.return==null||c.return()}finally{if(s)throw g}}}}function an(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}var Ir=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a){var s;return J(this,x),(s=v.call(this,"rbro_style",ne,g,a)).propertyDescriptors={name:{type:e.type.text,fieldId:"name"},bold:{type:e.type.button,fieldId:"bold",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},italic:{type:e.type.button,fieldId:"italic",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},underline:{type:e.type.button,fieldId:"underline",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},strikethrough:{type:e.type.button,fieldId:"strikethrough",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},horizontalAlignment:{type:e.type.buttonGroup,fieldId:"halignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"]},verticalAlignment:{type:e.type.buttonGroup,fieldId:"valignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1},textColor:{type:e.type.color,allowEmpty:!1,fieldId:"text_color"},backgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"background_color"},font:{type:e.type.select,fieldId:"font",rowId:"rbro_style_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"]},fontSize:{type:e.type.select,fieldId:"font_size",rowId:"rbro_style_font_row",singleRowProperty:!1},lineSpacing:{type:e.type.select,fieldId:"line_spacing"},borderAll:{type:e.type.button,fieldId:"border_all",rowId:"rbro_style_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"]},borderLeft:{type:e.type.button,fieldId:"border_left",rowId:"rbro_style_border_row",singleRowProperty:!1},borderTop:{type:e.type.button,fieldId:"border_top",rowId:"rbro_style_border_row",singleRowProperty:!1},borderRight:{type:e.type.button,fieldId:"border_right",rowId:"rbro_style_border_row",singleRowProperty:!1},borderBottom:{type:e.type.button,fieldId:"border_bottom",rowId:"rbro_style_border_row",singleRowProperty:!1},borderColor:{type:e.type.color,allowEmpty:!1,fieldId:"border_color"},borderWidth:{type:e.type.text,fieldId:"border_width"},paddingLeft:{type:e.type.text,fieldId:"padding_left",rowId:"rbro_style_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"]},paddingTop:{type:e.type.text,fieldId:"padding_top",rowId:"rbro_style_padding_row",singleRowProperty:!1},paddingRight:{type:e.type.text,fieldId:"padding_right",rowId:"rbro_style_padding_row",singleRowProperty:!1},paddingBottom:{type:e.type.text,fieldId:"padding_bottom",rowId:"rbro_style_padding_row",singleRowProperty:!1}},s}return T(x,[{key:"render",value:function(){var a=this,s=t("div",{id:"rbro_style_panel",class:"rbroHidden"}),l=t("div",{class:"rbroFormRow"});d(l,this.rb.getLabel("styleName"),"rbro_style_name");var y=t("div",{class:"rbroFormField"}),j=t("input",{id:"rbro_style_name"});j.addEventListener("input",function(U){var ee=a.rb.getSelectedObject();ee!==null&&(j.value.trim()!==""?a.rb.executeCommand(new e(ee.getId(),"name",j.value,e.type.text,a.rb)):j.value=ee.getName())}),y.append(j),l.append(y),s.append(l),x.renderStyle(s,"style_","",!1,this.controls,this.rb),document.getElementById("rbro_detail_panel").append(s)}},{key:"destroy",value:function(){x.destroyStyle("",this.controls)}},{key:"updateDisplay",value:function(a){var s=this.rb.getSelectedObject();if(s!==null&&s instanceof ne){for(var l in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(l)&&(a===null||l===a)){var y=this.propertyDescriptors[l],j=s.getValue(l);o(f(x.prototype),"setValue",this).call(this,y,j,!1)}}}}],[{key:"renderStyle",value:function(a,s,l,y,j,U){var ee,se;d(ee=t("div",{id:"rbro_".concat(s,"textstyle_row"),class:"rbroFormRow"}),U.getLabel("styleTextStyle")),se=t("div",{class:"rbroFormField"});var fe=t("div",{id:"rbro_".concat(s,"textstyle")}),be=t("button",{id:"rbro_".concat(s,"bold"),class:"rbroButton rbroActionButton rbroIcon-bold",type:"button",title:U.getLabel("styleBold")});be.addEventListener("click",function(ct){for(var Ie=!be.classList.contains("rbroButtonActive"),he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"bold"),Ie,e.type.button,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"bold"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("bold",Ie,e.type.button,he)}he.isEmpty()||U.executeCommand(he)}),fe.append(be);var _e=t("button",{id:"rbro_".concat(s,"italic"),class:"rbroButton rbroActionButton rbroIcon-italic",type:"button",title:U.getLabel("styleItalic")});_e.addEventListener("click",function(ct){for(var Ie=!_e.classList.contains("rbroButtonActive"),he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"italic"),Ie,e.type.button,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"italic"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("italic",Ie,e.type.button,he)}he.isEmpty()||U.executeCommand(he)}),fe.append(_e);var Oe=t("button",{id:"rbro_".concat(s,"underline"),class:"rbroButton rbroActionButton rbroIcon-underline",type:"button",title:U.getLabel("styleUnderline")});Oe.addEventListener("click",function(ct){for(var Ie=!Oe.classList.contains("rbroButtonActive"),he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"underline"),Ie,e.type.button,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"underline"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("underline",Ie,e.type.button,he)}he.isEmpty()||U.executeCommand(he)}),fe.append(Oe);var Te=t("button",{id:"rbro_".concat(s,"strikethrough"),class:"rbroButton rbroActionButton rbroIcon-strikethrough",type:"button",title:U.getLabel("styleStrikethrough")});Te.addEventListener("click",function(ct){for(var Ie=!Te.classList.contains("rbroButtonActive"),he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"strikethrough"),Ie,e.type.button,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"strikethrough"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("strikethrough",Ie,e.type.button,he)}he.isEmpty()||U.executeCommand(he)}),fe.append(Te),se.append(fe),ee.append(se),a.append(ee),d(ee=t("div",{id:"rbro_".concat(s,"alignment_row"),class:"rbroFormRow"}),U.getLabel("styleAlignment")),se=t("div",{class:"rbroFormField"});var Re=t("div",{id:"rbro_".concat(s,"halignment")}),ze=t("button",{id:"rbro_".concat(s,"halignment_left"),class:"rbroButton rbroActionButton rbroIcon-text-align-left",type:"button",value:"left",title:U.getLabel("styleHAlignmentLeft")});ze.addEventListener("click",function(ct){for(var Ie=ne.alignment.left,he=U.getSelectedObjects(),Me=!1,Pe=he.length-1;Pe>=0;Pe--)if(he[Pe].getValue("".concat(l,"horizontalAlignment"))!==Ie){Me=!0;break}if(Me){for(var ue=new re("Set value",U),rt=he.length-1;rt>=0;rt--){var Ve=he[rt];ue.addSelection(Ve.getId()),ue.addCommand(new e(Ve.getId(),"".concat(l,"horizontalAlignment"),Ie,e.type.buttonGroup,U)),Ve instanceof $&&Ve.getValue("".concat(l,"styleId"))!==""?Ve.getValue("".concat(l,"horizontalAlignment"))!==Ie&&ue.addCommand(new e(Ve.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Ve instanceof ne&&Ve.addCommandsForChangedProperty("horizontalAlignment",Ie,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),Re.append(ze);var Ne=t("button",{id:"rbro_".concat(s,"halignment_center"),class:"rbroButton rbroActionButton rbroIcon-text-align-center",type:"button",value:"center",title:U.getLabel("styleHAlignmentCenter")});Ne.addEventListener("click",function(ct){for(var Ie=ne.alignment.center,he=U.getSelectedObjects(),Me=!1,Pe=he.length-1;Pe>=0;Pe--)if(he[Pe].getValue("".concat(l,"horizontalAlignment"))!==Ie){Me=!0;break}if(Me){for(var ue=new re("Set value",U),rt=he.length-1;rt>=0;rt--){var Ve=he[rt];ue.addSelection(Ve.getId()),ue.addCommand(new e(Ve.getId(),"".concat(l,"horizontalAlignment"),Ie,e.type.buttonGroup,U)),Ve instanceof $&&Ve.getValue("".concat(l,"styleId"))!==""?Ve.getValue("".concat(l,"horizontalAlignment"))!==Ie&&ue.addCommand(new e(Ve.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Ve instanceof ne&&Ve.addCommandsForChangedProperty("horizontalAlignment",Ie,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),Re.append(Ne);var Be=t("button",{id:"rbro_".concat(s,"halignment_right"),class:"rbroButton rbroActionButton rbroIcon-text-align-right",type:"button",value:"right",title:U.getLabel("styleHAlignmentRight")});Be.addEventListener("click",function(ct){for(var Ie=ne.alignment.right,he=U.getSelectedObjects(),Me=!1,Pe=he.length-1;Pe>=0;Pe--)if(he[Pe].getValue("".concat(l,"horizontalAlignment"))!==Ie){Me=!0;break}if(Me){for(var ue=new re("Set value",U),rt=he.length-1;rt>=0;rt--){var Ve=he[rt];ue.addSelection(Ve.getId()),ue.addCommand(new e(Ve.getId(),"".concat(l,"horizontalAlignment"),Ie,e.type.buttonGroup,U)),Ve instanceof $&&Ve.getValue("".concat(l,"styleId"))!==""?Ve.getValue("".concat(l,"horizontalAlignment"))!==Ie&&ue.addCommand(new e(Ve.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Ve instanceof ne&&Ve.addCommandsForChangedProperty("horizontalAlignment",Ie,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),Re.append(Be);var We=t("button",{id:"rbro_".concat(s,"halignment_justify"),class:"rbroButton rbroActionButton rbroIcon-text-align-justify",type:"button",value:"justify",title:U.getLabel("styleHAlignmentJustify")});We.addEventListener("click",function(ct){for(var Ie=ne.alignment.justify,he=U.getSelectedObjects(),Me=!1,Pe=he.length-1;Pe>=0;Pe--)if(he[Pe].getValue("".concat(l,"horizontalAlignment"))!==Ie){Me=!0;break}if(Me){for(var ue=new re("Set value",U),rt=he.length-1;rt>=0;rt--){var Ve=he[rt];ue.addSelection(Ve.getId()),ue.addCommand(new e(Ve.getId(),"".concat(l,"horizontalAlignment"),Ie,e.type.buttonGroup,U)),Ve instanceof $&&Ve.getValue("".concat(l,"styleId"))!==""?Ve.getValue("".concat(l,"horizontalAlignment"))!==Ie&&ue.addCommand(new e(Ve.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Ve instanceof ne&&Ve.addCommandsForChangedProperty("horizontalAlignment",Ie,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),Re.append(We),se.append(Re);var $e=t("div",{id:"rbro_".concat(s,"valignment")}),Ge=t("button",{id:"rbro_".concat(s,"valignment_top"),class:"rbroButton rbroActionButton rbroIcon-align-top",type:"button",value:"top",title:U.getLabel("styleVAlignmentTop")});Ge.addEventListener("click",function(ct){for(var Ie=ne.alignment.top,he=U.getSelectedObjects(),Me=!1,Pe=he.length-1;Pe>=0;Pe--)if(he[Pe].getValue("".concat(l,"verticalAlignment"))!==Ie){Me=!0;break}if(Me){for(var ue=new re("Set value",U),rt=he.length-1;rt>=0;rt--){var Ve=he[rt];ue.addSelection(Ve.getId()),ue.addCommand(new e(Ve.getId(),"".concat(l,"verticalAlignment"),Ie,e.type.buttonGroup,U)),Ve instanceof $&&Ve.getValue("".concat(l,"styleId"))!==""?Ve.getValue("".concat(l,"verticalAlignment"))!==Ie&&ue.addCommand(new e(Ve.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Ve instanceof ne&&Ve.addCommandsForChangedProperty("verticalAlignment",Ie,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),$e.append(Ge);var Je=t("button",{id:"rbro_".concat(s,"valignment_middle"),class:"rbroButton rbroActionButton rbroIcon-align-middle",type:"button",value:"middle",title:U.getLabel("styleVAlignmentMiddle")});Je.addEventListener("click",function(ct){for(var Ie=ne.alignment.middle,he=U.getSelectedObjects(),Me=!1,Pe=he.length-1;Pe>=0;Pe--)if(he[Pe].getValue("".concat(l,"verticalAlignment"))!==Ie){Me=!0;break}if(Me){for(var ue=new re("Set value",U),rt=he.length-1;rt>=0;rt--){var Ve=he[rt];ue.addSelection(Ve.getId()),ue.addCommand(new e(Ve.getId(),"".concat(l,"verticalAlignment"),Ie,e.type.buttonGroup,U)),Ve instanceof $&&Ve.getValue("".concat(l,"styleId"))!==""?Ve.getValue("".concat(l,"verticalAlignment"))!==Ie&&ue.addCommand(new e(Ve.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Ve instanceof ne&&Ve.addCommandsForChangedProperty("verticalAlignment",Ie,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),$e.append(Je);var st=t("button",{id:"rbro_".concat(s,"valignment_bottom"),class:"rbroButton rbroActionButton rbroIcon-align-bottom",type:"button",value:"bottom",title:U.getLabel("styleVAlignmentBottom")});st.addEventListener("click",function(ct){for(var Ie=ne.alignment.bottom,he=U.getSelectedObjects(),Me=!1,Pe=he.length-1;Pe>=0;Pe--)if(he[Pe].getValue("".concat(l,"verticalAlignment"))!==Ie){Me=!0;break}if(Me){for(var ue=new re("Set value",U),rt=he.length-1;rt>=0;rt--){var Ve=he[rt];ue.addSelection(Ve.getId()),ue.addCommand(new e(Ve.getId(),"".concat(l,"verticalAlignment"),Ie,e.type.buttonGroup,U)),Ve instanceof $&&Ve.getValue("".concat(l,"styleId"))!==""?Ve.getValue("".concat(l,"verticalAlignment"))!==Ie&&ue.addCommand(new e(Ve.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Ve instanceof ne&&Ve.addCommandsForChangedProperty("verticalAlignment",Ie,e.type.buttonGroup,ue)}ue.isEmpty()||U.executeCommand(ue)}}),$e.append(st),se.append($e),ee.append(se),a.append(ee),d(ee=t("div",{id:"rbro_".concat(s,"text_color_row"),class:"rbroFormRow"}),U.getLabel("styleTextColor"),"rbro_".concat(s,"text_color")),se=t("div",{class:"rbroFormField"});var at=t("div",{class:"rbroColorPickerContainer"}),it=t("input",{id:"rbro_".concat(s,"text_color")});it.addEventListener("change",function(ct){var Ie=it.value;if(Z(Ie)){for(var he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"textColor"),Ie,e.type.color,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"textColor"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("textColor",Ie,e.type.color,he)}he.isEmpty()||U.executeCommand(he)}}),at.append(it),j[l+"textColor"]=F(at,it,!1,U),se.append(at),ee.append(se),a.append(ee),d(ee=t("div",{id:"rbro_".concat(s,"background_color_row"),class:"rbroFormRow"}),U.getLabel("styleBackgroundColor"),"rbro_".concat(s,"background_color")),se=t("div",{class:"rbroFormField"});var tt=t("div",{class:"rbroColorPickerContainer"}),ve=t("input",{id:"rbro_".concat(s,"background_color")});if(ve.addEventListener("change",function(ct){var Ie=ve.value;if(Z(Ie)){for(var he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"backgroundColor"),Ie,e.type.color,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"backgroundColor"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("backgroundColor",Ie,e.type.color,he)}he.isEmpty()||U.executeCommand(he)}}),tt.append(ve),j[l+"backgroundColor"]=F(tt,ve,!0,U),se.append(tt),ee.append(se),a.append(ee),y){d(ee=t("div",{id:"rbro_".concat(s,"alternate_background_color_row"),class:"rbroFormRow"}),U.getLabel("docElementAlternateBackgroundColor"),"rbro_".concat(s,"alternate_background_color")),se=t("div",{class:"rbroFormField"});var qe=t("div",{class:"rbroColorPickerContainer"}),Ke=t("input",{id:"rbro_".concat(s,"alternate_background_color")});Ke.addEventListener("change",function(ct){var Ie=Ke.value;if(Z(Ie)){for(var he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"alternateBackgroundColor"),Ie,e.type.color,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"alternateBackgroundColor"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("alternateBackgroundColor",Ie,e.type.color,he)}he.isEmpty()||U.executeCommand(he)}}),qe.append(Ke),j[l+"alternateBackgroundColor"]=F(qe,Ke,!0,U),se.append(qe),ee.append(se),a.append(ee)}d(ee=t("div",{id:"rbro_".concat(s,"font_row"),class:"rbroFormRow"}),U.getLabel("styleFont"),"rbro_".concat(s,"font")),se=t("div",{class:"rbroFormField"});var gt,bt=t("div",{class:"rbroSplit rbroSelectFont"}),lt=t("select",{id:"rbro_".concat(s,"font")}),dt=on(U.getFonts());try{for(dt.s();!(gt=dt.n()).done;){var kt=gt.value;lt.append(t("option",{value:kt.value},kt.name))}}catch(ct){dt.e(ct)}finally{dt.f()}lt.addEventListener("change",function(ct){for(var Ie=lt.value,he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"font"),Ie,e.type.select,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"font"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("font",Ie,e.type.select,he)}he.isEmpty()||U.executeCommand(he)}),bt.append(lt);var Et,mt=t("select",{id:"rbro_".concat(s,"font_size")}),wt=on(U.getProperty("fontSizes"));try{for(wt.s();!(Et=wt.n()).done;){var ft=Et.value;mt.append(t("option",{value:ft},String(ft)))}}catch(ct){wt.e(ct)}finally{wt.f()}mt.addEventListener("change",function(ct){for(var Ie=mt.value,he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"fontSize"),Ie,e.type.select,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"fontSize"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("fontSize",Ie,e.type.select,he)}he.isEmpty()||U.executeCommand(he)}),bt.append(mt),bt.append(t("span",{},U.getLabel("styleFontSizeUnit"))),se.append(bt),se.append(t("div",{id:"rbro_".concat(s,"font_error"),class:"rbroErrorMessage"})),ee.append(se),a.append(ee),d(ee=t("div",{id:"rbro_".concat(s,"line_spacing_row"),class:"rbroFormRow"}),U.getLabel("styleLineSpacing"),"rbro_".concat(s,"line_spacing")),se=t("div",{class:"rbroFormField"});for(var ut=t("select",{id:"rbro_".concat(s,"line_spacing")}),Qt=0,Rt=["1","1.1","1.2","1.3","1.4","1.5","1.6","1.7","1.8","1.9","2"];Qt<Rt.length;Qt++){var or=Rt[Qt];ut.append(t("option",{value:or},or))}ut.addEventListener("change",function(ct){for(var Ie=ut.value,he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"lineSpacing"),Ie,e.type.select,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"lineSpacing"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("lineSpacing",Ie,e.type.select,he),he.isEmpty()||U.executeCommand(he)}}),se.append(ut),ee.append(se),a.append(ee);var Ut=t("div",{id:"rbro_".concat(s,"border_div")});d(ee=t("div",{id:"rbro_".concat(s,"border_row"),class:"rbroFormRow"}),U.getLabel("styleBorder")),se=t("div",{class:"rbroFormField"});var jt=t("div",{id:"rbro_".concat(s,"border")}),Kt=t("button",{id:"rbro_".concat(s,"border_all"),class:"rbroButton rbroActionButton rbroIcon-border-all",type:"button",value:"".concat(l,"borderAll"),title:U.getLabel("styleBorderAll")});Kt.addEventListener("click",function(ct){for(var Ie=!Kt.classList.contains("rbroButtonActive"),he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"borderLeft"),Ie,e.type.button,U)),he.addCommand(new e(ue.getId(),"".concat(l,"borderTop"),Ie,e.type.button,U)),he.addCommand(new e(ue.getId(),"".concat(l,"borderRight"),Ie,e.type.button,U)),he.addCommand(new e(ue.getId(),"".concat(l,"borderBottom"),Ie,e.type.button,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"borderLeft"))===Ie&&ue.getValue("".concat(l,"borderTop"))===Ie&&ue.getValue("".concat(l,"borderRight"))===Ie&&ue.getValue("".concat(l,"borderBottom"))===Ie||he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&(ue.addCommandsForChangedProperty("borderLeft",Ie,e.type.button,he),ue.addCommandsForChangedProperty("borderTop",Ie,e.type.button,he),ue.addCommandsForChangedProperty("borderRight",Ie,e.type.button,he),ue.addCommandsForChangedProperty("borderBottom",Ie,e.type.button,he))}he.isEmpty()||U.executeCommand(he)}),jt.append(Kt);var hr=t("button",{id:"rbro_".concat(s,"border_left"),class:"rbroButton rbroActionButton rbroIcon-border-left",type:"button",value:"".concat(l,"borderLeft"),title:U.getLabel("orientationLeft")});hr.addEventListener("click",function(ct){for(var Ie=!hr.classList.contains("rbroButtonActive"),he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"borderLeft"),Ie,e.type.button,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"borderLeft"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("borderLeft",Ie,e.type.button,he)}he.isEmpty()||U.executeCommand(he)}),jt.append(hr);var er=t("button",{id:"rbro_".concat(s,"border_top"),class:"rbroButton rbroActionButton rbroIcon-border-top",type:"button",value:"".concat(l,"borderTop"),title:U.getLabel("orientationTop")});er.addEventListener("click",function(ct){for(var Ie=!er.classList.contains("rbroButtonActive"),he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"borderTop"),Ie,e.type.button,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"borderTop"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("borderTop",Ie,e.type.button,he)}he.isEmpty()||U.executeCommand(he)}),jt.append(er);var tr=t("button",{id:"rbro_".concat(s,"border_right"),class:"rbroButton rbroActionButton rbroIcon-border-right",type:"button",value:"".concat(l,"borderRight"),title:U.getLabel("orientationRight")});tr.addEventListener("click",function(ct){for(var Ie=!tr.classList.contains("rbroButtonActive"),he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"borderRight"),Ie,e.type.button,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"borderRight"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("borderRight",Ie,e.type.button,he)}he.isEmpty()||U.executeCommand(he)}),jt.append(tr);var Zt=t("button",{id:"rbro_".concat(s,"border_bottom"),class:"rbroButton rbroActionButton rbroIcon-border-bottom",type:"button",value:"".concat(l,"borderBottom"),title:U.getLabel("orientationBottom")});if(Zt.addEventListener("click",function(ct){for(var Ie=!Zt.classList.contains("rbroButtonActive"),he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"borderBottom"),Ie,e.type.button,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"borderBottom"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("borderBottom",Ie,e.type.button,he)}he.isEmpty()||U.executeCommand(he)}),jt.append(Zt),se.append(jt),ee.append(se),Ut.append(ee),y){d(ee=t("div",{id:"rbro_".concat(s,"table_border_row"),class:"rbroFormRow"}),U.getLabel("styleBorder")),se=t("div",{class:"rbroFormField"});var Mt=t("div",{id:"rbro_".concat(s,"table_border")}),Ft=t("button",{id:"rbro_".concat(s,"table_border_grid"),class:"rbroButton rbroActionButton rbroIcon-border-table-grid",type:"button",value:"".concat(l,"grid"),title:U.getLabel("docElementBorderGrid")});Ft.addEventListener("click",function(ct){for(var Ie=ir.border.grid,he=U.getSelectedObjects(),Me=!1,Pe=he.length-1;Pe>=0;Pe--)if(he[Pe].getValue("".concat(l,"border"))!==Ie){Me=!0;break}if(Me){for(var ue=new re("Set value",U),rt=he.length-1;rt>=0;rt--){var Ve=he[rt];ue.addSelection(Ve.getId()),ue.addCommand(new e(Ve.getId(),"".concat(l,"border"),Ie,e.type.buttonGroup,U))}ue.isEmpty()||U.executeCommand(ue)}}),Mt.append(Ft);var Ht=t("button",{id:"rbro_".concat(s,"table_border_frame_row"),class:"rbroButton rbroActionButton rbroIcon-border-table-frame-row",type:"button",value:"".concat(l,"frame_row"),title:U.getLabel("docElementBorderFrameRow")});Ht.addEventListener("click",function(ct){for(var Ie=ir.border.frameRow,he=U.getSelectedObjects(),Me=!1,Pe=he.length-1;Pe>=0;Pe--)if(he[Pe].getValue("".concat(l,"border"))!==Ie){Me=!0;break}if(Me){for(var ue=new re("Set value",U),rt=he.length-1;rt>=0;rt--){var Ve=he[rt];ue.addSelection(Ve.getId()),ue.addCommand(new e(Ve.getId(),"".concat(l,"border"),Ie,e.type.buttonGroup,U))}ue.isEmpty()||U.executeCommand(ue)}}),Mt.append(Ht);var xt=t("button",{id:"rbro_".concat(s,"table_border_frame"),class:"rbroButton rbroActionButton rbroIcon-border-table-frame",type:"button",value:"".concat(l,"frame"),title:U.getLabel("docElementBorderFrame")});xt.addEventListener("click",function(ct){for(var Ie=ir.border.frame,he=U.getSelectedObjects(),Me=!1,Pe=he.length-1;Pe>=0;Pe--)if(he[Pe].getValue("".concat(l,"border"))!==Ie){Me=!0;break}if(Me){for(var ue=new re("Set value",U),rt=he.length-1;rt>=0;rt--){var Ve=he[rt];ue.addSelection(Ve.getId()),ue.addCommand(new e(Ve.getId(),"".concat(l,"border"),Ie,e.type.buttonGroup,U))}ue.isEmpty()||U.executeCommand(ue)}}),Mt.append(xt);var zt=t("button",{id:"rbro_".concat(s,"table_border_row"),class:"rbroButton rbroActionButton rbroIcon-border-table-row",type:"button",value:"".concat(l,"row"),title:U.getLabel("docElementBorderRow")});zt.addEventListener("click",function(ct){for(var Ie=ir.border.row,he=U.getSelectedObjects(),Me=!1,Pe=he.length-1;Pe>=0;Pe--)if(he[Pe].getValue("".concat(l,"border"))!==Ie){Me=!0;break}if(Me){for(var ue=new re("Set value",U),rt=he.length-1;rt>=0;rt--){var Ve=he[rt];ue.addSelection(Ve.getId()),ue.addCommand(new e(Ve.getId(),"".concat(l,"border"),Ie,e.type.buttonGroup,U))}ue.isEmpty()||U.executeCommand(ue)}}),Mt.append(zt);var ar=t("button",{id:"rbro_".concat(s,"table_border_none"),class:"rbroButton rbroActionButton rbroIcon-border-table-none",type:"button",value:"".concat(l,"none"),title:U.getLabel("docElementBorderNone")});ar.addEventListener("click",function(ct){for(var Ie=ir.border.none,he=U.getSelectedObjects(),Me=!1,Pe=he.length-1;Pe>=0;Pe--)if(he[Pe].getValue("".concat(l,"border"))!==Ie){Me=!0;break}if(Me){for(var ue=new re("Set value",U),rt=he.length-1;rt>=0;rt--){var Ve=he[rt];ue.addSelection(Ve.getId()),ue.addCommand(new e(Ve.getId(),"".concat(l,"border"),Ie,e.type.buttonGroup,U))}ue.isEmpty()||U.executeCommand(ue)}}),Mt.append(ar),se.append(Mt),ee.append(se),Ut.append(ee)}d(ee=t("div",{id:"rbro_".concat(s,"border_color_row"),class:"rbroFormRow"}),U.getLabel("styleBorderColor"),"rbro_".concat(s,"border_color")),se=t("div",{class:"rbroFormField"});var Yt=t("div",{class:"rbroColorPickerContainer"}),rr=t("input",{id:"rbro_".concat(s,"border_color")});rr.addEventListener("change",function(ct){var Ie=rr.value;if(Z(Ie)){for(var he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"borderColor"),Ie,e.type.color,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"borderColor"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("borderColor",Ie,e.type.color,he)}he.isEmpty()||U.executeCommand(he)}}),Yt.append(rr),j[l+"borderColor"]=F(Yt,rr,!1,U),se.append(Yt),ee.append(se),Ut.append(ee),d(ee=t("div",{id:"rbro_".concat(s,"border_width_row"),class:"rbroFormRow"}),U.getLabel("styleBorderWidth"),"rbro_".concat(s,"border_width")),se=t("div",{class:"rbroFormField"});var St=t("input",{id:"rbro_".concat(s,"border_width"),type:"number",step:"0.5"});St.addEventListener("input",function(ct){var Ie=St.value;Ie!==""&&(Ie=A(Ie,.5,99)),Ie!==St.value&&(St.value=Ie);for(var he=U.getSelectedObjects(),Me=!1,Pe=he.length-1;Pe>=0;Pe--)if(he[Pe].getValue("".concat(l,"borderWidth"))!==Ie){Me=!0;break}if(Me){for(var ue=new re("Set value",U),rt=he.length-1;rt>=0;rt--){var Ve=he[rt];ue.addSelection(Ve.getId()),ue.addCommand(new e(Ve.getId(),"".concat(l,"borderWidth"),Ie,e.type.text,U)),Ve instanceof $&&Ve.getValue("".concat(l,"styleId"))!==""?Ve.getValue("".concat(l,"borderWidth"))!==Ie&&ue.addCommand(new e(Ve.getId(),"".concat(l,"styleId"),"",e.type.select,U)):Ve instanceof ne&&Ve.addCommandsForChangedProperty("borderWidth",Ie,e.type.text,ue)}ue.isEmpty()||U.executeCommand(ue)}}),se.append(St),ee.append(se),Ut.append(ee),a.append(Ut),d(ee=t("div",{id:"rbro_".concat(s,"padding_row"),class:"rbroFormRow"}),U.getLabel("stylePadding"),"rbro_".concat(s,"padding")),se=t("div",{class:"rbroFormField rbroSmallInput"});var fr=t("div",{class:"rbroColumnCenter"}),mr=t("input",{id:"rbro_".concat(s,"padding_top"),placeholder:U.getLabel("orientationTop"),type:"number"});mr.addEventListener("input",function(ct){for(var Ie=mr.value,he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"paddingTop"),Ie,e.type.text,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"paddingTop"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("paddingTop",Ie,e.type.text,he)}he.isEmpty()||U.executeCommand(he)}),fr.append(mr),se.append(fr);var yr=t("div",{class:"rbroSplit"}),sr=t("input",{id:"rbro_".concat(s,"padding_left"),placeholder:U.getLabel("orientationLeft"),type:"number"});sr.addEventListener("input",function(ct){for(var Ie=sr.value,he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"paddingLeft"),Ie,e.type.text,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"paddingLeft"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("paddingLeft",Ie,e.type.text,he)}he.isEmpty()||U.executeCommand(he)}),yr.append(sr);var ur=t("input",{id:"rbro_".concat(s,"padding_right"),placeholder:U.getLabel("orientationRight"),type:"number"});ur.addEventListener("input",function(ct){for(var Ie=ur.value,he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"paddingRight"),Ie,e.type.text,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"paddingRight"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("paddingRight",Ie,e.type.text,he)}he.isEmpty()||U.executeCommand(he)}),yr.append(ur),se.append(yr);var wr=t("div",{class:"rbroColumnCenter"}),cr=t("input",{id:"rbro_".concat(s,"padding_bottom"),placeholder:U.getLabel("orientationBottom"),type:"number"});cr.addEventListener("input",function(ct){for(var Ie=cr.value,he=new re("Set value",U),Me=U.getSelectedObjects(),Pe=Me.length-1;Pe>=0;Pe--){var ue=Me[Pe];he.addSelection(ue.getId()),he.addCommand(new e(ue.getId(),"".concat(l,"paddingBottom"),Ie,e.type.text,U)),ue instanceof $&&ue.getValue("".concat(l,"styleId"))!==""?ue.getValue("".concat(l,"paddingBottom"))!==Ie&&he.addCommand(new e(ue.getId(),"".concat(l,"styleId"),"",e.type.select,U)):ue instanceof ne&&ue.addCommandsForChangedProperty("paddingBottom",Ie,e.type.text,he)}he.isEmpty()||U.executeCommand(he)}),wr.append(cr),se.append(wr),ee.append(se),a.append(ee)}},{key:"destroyStyle",value:function(a,s){s[a+"textColor"].destroy(),s[a+"backgroundColor"].destroy(),a+"alternateBackgroundColor"in s&&s[a+"alternateBackgroundColor"].destroy(),s[a+"borderColor"].destroy()}}]),x}(Ar),bn=Qe(6095),_r=Qe.n(bn),_n=Qe(4175),ln=Qe.n(_n);function Nt(R,O){var c=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!c){if(Array.isArray(R)||(c=function(l,y){if(l){if(typeof l=="string")return sn(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?sn(l,y):void 0}}(R))||O&&R&&typeof R.length=="number"){c&&(R=c);var v=0,x=function(){};return{s:x,n:function(){return v>=R.length?{done:!0}:{done:!1,value:R[v++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,a=!0,s=!1;return{s:function(){c=c.call(R)},n:function(){var y=c.next();return a=y.done,y},e:function(y){s=!0,g=y},f:function(){try{a||c.return==null||c.return()}finally{if(s)throw g}}}}function sn(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}var wn=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a){var s;for(var l in J(this,x),(s=v.call(this,"rbro_doc_element",$,g,a)).propertyDescriptors={label:{type:e.type.text,fieldId:"label"},content:{type:e.type.text,fieldId:"content",visibleIf:"!richText"},richText:{type:e.type.checkbox,fieldId:"rich_text"},richTextContent:{type:e.type.richText,fieldId:"rich_text_content",visibleIf:"richText"},eval:{type:e.type.checkbox,fieldId:"eval",visibleIf:"!richText"},dataSource:{type:e.type.text,fieldId:"data_source"},xReadOnly:{type:e.type.text,fieldId:"x_read_only"},x:{type:e.type.text,fieldId:"x",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,rowProperties:["x","y"],labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionX"},y:{type:e.type.text,fieldId:"y",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionY"},width:{type:e.type.text,fieldId:"width",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,rowProperties:["width","height"],labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementWidth",visibleIf:"type != 'bar_code' || (format != 'QRCode' && rotate)"},height:{type:e.type.text,fieldId:"height",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementHeight"},colspan:{type:e.type.text,fieldId:"colspan"},format:{type:e.type.select,fieldId:"format",allowEmpty:!1},displayValue:{type:e.type.checkbox,fieldId:"display_value",visibleIf:"format != 'QRCode'"},barWidth:{type:e.type.text,fieldId:"bar_width",visibleIf:"format != 'QRCode'"},guardBar:{type:e.type.checkbox,fieldId:"guard_bar",visibleIf:"format == 'EAN8' || format == 'EAN13'"},rotate:{type:e.type.checkbox,fieldId:"rotate",section:"print",visibleIf:"format != 'QRCode'"},errorCorrectionLevel:{type:e.type.select,fieldId:"error_correction_level",visibleIf:"format == 'QRCode'"},source:{type:e.type.text,fieldId:"source"},image:{type:e.type.file,fieldId:"image",rowId:"rbro_doc_element_image_row",singleRowProperty:!1,rowProperties:["image","imageFilename"]},imageFilename:{type:e.type.filename,fieldId:"image_filename",rowId:"rbro_doc_element_image_row",singleRowProperty:!1},columns:{type:e.type.text,fieldId:"columns"},header:{type:e.type.checkbox,fieldId:"header"},contentRows:{type:e.type.text,fieldId:"content_rows"},footer:{type:e.type.checkbox,fieldId:"footer"},color:{type:e.type.color,allowEmpty:!1,fieldId:"color",section:"style"},styleId:{type:e.type.select,fieldId:"style_id",section:"style",allowEmpty:!0},bold:{type:e.type.button,fieldId:"bold",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"],section:"style",visibleIf:"!richText"},italic:{type:e.type.button,fieldId:"italic",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},underline:{type:e.type.button,fieldId:"underline",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},strikethrough:{type:e.type.button,fieldId:"strikethrough",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},horizontalAlignment:{type:e.type.buttonGroup,fieldId:"halignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"],section:"style",visibleIf:"!richText"},verticalAlignment:{type:e.type.buttonGroup,fieldId:"valignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,section:"style"},textColor:{type:e.type.color,allowEmpty:!1,fieldId:"text_color",section:"style",visibleIf:"!richText"},backgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"background_color",section:"style"},alternateBackgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"alternate_background_color",section:"style"},font:{type:e.type.select,fieldId:"font",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"],section:"style",allowEmpty:!1,visibleIf:"!richText"},fontSize:{type:e.type.select,fieldId:"font_size",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,section:"style",allowEmpty:!1,visibleIf:"!richText"},lineSpacing:{type:e.type.select,fieldId:"line_spacing",section:"style",allowEmpty:!1},borderAll:{type:e.type.button,fieldId:"border_all",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"],section:"style"},borderLeft:{type:e.type.button,fieldId:"border_left",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderTop:{type:e.type.button,fieldId:"border_top",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderRight:{type:e.type.button,fieldId:"border_right",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderBottom:{type:e.type.button,fieldId:"border_bottom",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},border:{type:e.type.buttonGroup,fieldId:"table_border",rowId:"rbro_doc_element_table_border_row",section:"style"},borderColor:{type:e.type.color,allowEmpty:!1,fieldId:"border_color",section:"style"},borderWidth:{type:e.type.text,fieldId:"border_width",section:"style"},paddingLeft:{type:e.type.text,fieldId:"padding_left",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"style"},paddingTop:{type:e.type.text,fieldId:"padding_top",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingRight:{type:e.type.text,fieldId:"padding_right",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingBottom:{type:e.type.text,fieldId:"padding_bottom",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},groupExpression:{type:e.type.text,fieldId:"group_expression",section:"print"},pageBreak:{type:e.type.checkbox,fieldId:"page_break",visibleIf:"groupExpression",section:"print"},repeatGroupHeader:{type:e.type.checkbox,fieldId:"repeat_group_header",visibleIf:"groupExpression",section:"print"},printIf:{type:e.type.text,fieldId:"print_if",section:"print"},repeatHeader:{type:e.type.checkbox,fieldId:"repeat_header",section:"print"},removeEmptyElement:{type:e.type.checkbox,fieldId:"remove_empty_element",section:"print"},alwaysPrintOnSamePage:{type:e.type.checkbox,fieldId:"always_print_on_same_page",section:"print"},shrinkToContentHeight:{type:e.type.checkbox,fieldId:"shrink_to_content_height",section:"print"},alignToPageBottom:{type:e.type.checkbox,fieldId:"align_to_page_bottom",section:"print"},growWeight:{type:e.type.select,allowEmpty:!1,fieldId:"grow_weight",section:"print"},pattern:{type:e.type.text,fieldId:"pattern",section:"print",visibleIf:"!richText"},link:{type:e.type.text,fieldId:"link",section:"print",visibleIf:"!richText"},cs_condition:{type:e.type.text,fieldId:"cs_condition",section:"cs_style"},cs_styleId:{type:e.type.select,fieldId:"cs_style_id",section:"cs_style",allowEmpty:!0},cs_bold:{type:e.type.button,fieldId:"cs_bold",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,rowProperties:["cs_bold","cs_italic","cs_underline","cs_strikethrough"],section:"cs_style",visibleIf:"!richText"},cs_italic:{type:e.type.button,fieldId:"cs_italic",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_underline:{type:e.type.button,fieldId:"cs_underline",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_strikethrough:{type:e.type.button,fieldId:"cs_strikethrough",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_horizontalAlignment:{type:e.type.buttonGroup,fieldId:"cs_halignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,rowProperties:["cs_horizontalAlignment","cs_verticalAlignment"],section:"cs_style",visibleIf:"!richText"},cs_verticalAlignment:{type:e.type.buttonGroup,fieldId:"cs_valignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,section:"cs_style"},cs_textColor:{type:e.type.color,allowEmpty:!1,fieldId:"cs_text_color",section:"cs_style",visibleIf:"!richText"},cs_backgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"cs_background_color",section:"cs_style"},cs_font:{type:e.type.select,fieldId:"cs_font",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,rowProperties:["cs_font","cs_fontSize"],section:"cs_style",allowEmpty:!1,visibleIf:"!richText"},cs_fontSize:{type:e.type.select,fieldId:"cs_font_size",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,section:"cs_style",allowEmpty:!1,visibleIf:"!richText"},cs_lineSpacing:{type:e.type.select,fieldId:"cs_line_spacing",section:"cs_style",allowEmpty:!1},cs_borderAll:{type:e.type.button,fieldId:"cs_border_all",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,rowProperties:["cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom"],section:"cs_style"},cs_borderLeft:{type:e.type.button,fieldId:"cs_border_left",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderTop:{type:e.type.button,fieldId:"cs_border_top",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderRight:{type:e.type.button,fieldId:"cs_border_right",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderBottom:{type:e.type.button,fieldId:"cs_border_bottom",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderColor:{type:e.type.color,allowEmpty:!1,fieldId:"cs_border_color",section:"cs_style"},cs_borderWidth:{type:e.type.text,fieldId:"cs_border_width",section:"cs_style"},cs_paddingLeft:{type:e.type.text,fieldId:"cs_padding_left",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"cs_style"},cs_paddingTop:{type:e.type.text,fieldId:"cs_padding_top",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingRight:{type:e.type.text,fieldId:"cs_padding_right",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingBottom:{type:e.type.text,fieldId:"cs_padding_bottom",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},spreadsheet_hide:{type:e.type.checkbox,fieldId:"spreadsheet_hide",section:"spreadsheet"},spreadsheet_column:{type:e.type.text,fieldId:"spreadsheet_column",section:"spreadsheet"},spreadsheet_colspan:{type:e.type.text,fieldId:"spreadsheet_colspan",section:"spreadsheet"},spreadsheet_addEmptyRow:{type:e.type.checkbox,fieldId:"spreadsheet_add_empty_row",section:"spreadsheet"},spreadsheet_textWrap:{type:e.type.checkbox,fieldId:"spreadsheet_text_wrap",section:"spreadsheet"}},a.getProperty("showPlusFeatures")||(delete s.propertyDescriptors.richText,delete s.propertyDescriptors.richTextContent),s.visibleIfFields=[],s.propertyDescriptors)if(s.propertyDescriptors.hasOwnProperty(l)){var y=s.propertyDescriptors[l];if("visibleIf"in y){var j,U=Nt(te(y.visibleIf,null));try{for(U.s();!(j=U.n()).done;){var ee=j.value;ee.type==="field"&&("visibleIfFields"in y?y.visibleIfFields.includes(ee.value)||y.visibleIfFields.push(ee.value):y.visibleIfFields=[ee.value],s.visibleIfFields.includes(ee.value)||s.visibleIfFields.push(ee.value))}}catch(se){U.e(se)}finally{U.f()}}}return s}return T(x,[{key:"render",value:function(){var a,s,l,y=this,j=t("div",{id:"rbro_doc_element_panel",class:"rbroHidden"});d(a=t("div",{id:"rbro_doc_element_label_row",class:"rbroFormRow"}),this.rb.getLabel("docElementLabel"),"rbro_doc_element_label"),s=t("div",{class:"rbroFormField"});var U=t("input",{id:"rbro_doc_element_label"});U.addEventListener("input",function(Xe){for(var ke=U.value,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"label",ke,e.type.text,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(U),a.append(s),j.append(a),d(a=t("div",{id:"rbro_doc_element_data_source_row",class:"rbroFormRow"}),this.rb.getLabel("docElementDataSource"),"rbro_doc_element_data_source"),s=t("div",{class:"rbroFormField"});var ee=t("div",{class:"rbroSplit rbroSelector"}),se=t("textarea",{id:"rbro_doc_element_data_source",rows:1});se.addEventListener("input",function(Xe){for(var ke=se.value,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"dataSource",ke,e.type.text,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),At(se),ee.append(se),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Xe){var ke=y.rb.getSelectedObjects(),pe=ke.length===1?ke[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(pe,[N.type.array]),null,"rbro_doc_element_data_source","dataSource",Lt.type.parameterSet)}),ee.append(l),s.append(ee),s.append(t("div",{id:"rbro_doc_element_data_source_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),d(a=t("div",{id:"rbro_doc_element_content_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementContent"),"rbro_doc_element_content"),s=t("div",{class:"rbroFormField"}),ee=t("div",{class:"rbroSplit rbroSelector"});var fe=t("textarea",{id:"rbro_doc_element_content",rows:1});if(fe.addEventListener("input",function(Xe){for(var ke=fe.value,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"content",ke,e.type.text,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),fe.addEventListener("blur",function(Xe){y.rb.getPopupWindow().hide()}),At(fe),ee.append(fe),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Xe){var ke=y.rb.getSelectedObjects(),pe=ke.length===1?ke[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(pe),null,"rbro_doc_element_content","content",Lt.type.parameterAppend)}),ee.append(l),s.append(ee),s.append(t("div",{id:"rbro_doc_element_content_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),this.rb.getProperty("showPlusFeatures")){d(a=t("div",{id:"rbro_doc_element_rich_text_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRichText"),"rbro_doc_element_rich_text"),s=t("div",{class:"rbroFormField"});var be=t("label",{class:"switch-light switch-material"}),_e=t("input",{id:"rbro_doc_element_rich_text",type:"checkbox"});_e.addEventListener("change",function(Xe){for(var ke=_e.checked,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"richText",ke,e.type.checkbox,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),be.append(_e);var Oe=t("span");if(Oe.append(t("span")),Oe.append(t("span")),Oe.append(t("a")),be.append(Oe),s.append(be),s.append(t("div",{id:"rbro_doc_element_rich_text_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var Te=t("div",{class:"rbroInfo"});Te.innerHTML=this.rb.getLabel("plusFeatureInfo"),s.append(Te)}a.append(s),j.append(a),a=t("div",{id:"rbro_doc_element_rich_text_content_row",class:"rbroFormRow rbroRichTextEditor rbroHidden"});var Re,ze=this.rb.getProperty("colors"),Ne=t("select",{class:"ql-color",title:this.rb.getLabel("styleTextColor")}),Be=t("select",{class:"ql-background",title:this.rb.getLabel("styleBackgroundColor")}),We=Nt(ze);try{for(We.s();!(Re=We.n()).done;){var $e=Re.value;Ne.append(t("option",{value:$e},$e)),Be.append(t("option",{value:$e},$e))}}catch(Xe){We.e(Xe)}finally{We.f()}Ne.append(t("option",{value:"clear-color"})),Be.append(t("option",{value:"clear-color"}));var Ge,Je=t("select",{class:"ql-font"}),st=this.rb.getProperty("defaultFont"),at=Nt(this.rb.getFonts());try{for(at.s();!(Ge=at.n()).done;){var it=Ge.value,tt={value:it.value};it.value===st&&(tt.selected="selected"),Je.append(t("option",tt,it.name))}}catch(Xe){at.e(Xe)}finally{at.f()}var ve,qe=t("select",{class:"ql-size"}),Ke=Nt(this.rb.getProperty("fontSizes"));try{for(Ke.s();!(ve=Ke.n()).done;){var gt=ve.value,bt={value:gt+"px"};gt===12&&(bt.selected="selected"),qe.append(t("option",bt,gt+"pt"))}}catch(Xe){Ke.e(Xe)}finally{Ke.f()}var lt=t("div",{id:"rbro_doc_element_rich_text_content_toolbar"}),dt=t("span",{class:"ql-formats"});dt.append(t("button",{class:"ql-bold",title:this.rb.getLabel("styleBold")})),dt.append(t("button",{class:"ql-italic",title:this.rb.getLabel("styleItalic")})),dt.append(t("button",{class:"ql-underline",title:this.rb.getLabel("styleUnderline")})),dt.append(t("button",{class:"ql-strike",title:this.rb.getLabel("styleStrikethrough")})),lt.append(dt),(dt=t("span",{class:"ql-formats"})).append(t("button",{class:"ql-link"})),lt.append(dt),(dt=t("span",{class:"ql-formats"})).append(t("select",{class:"ql-align",title:this.rb.getLabel("styleAlignment")})),lt.append(dt),(dt=t("span",{class:"ql-formats"})).append(Ne),dt.append(Be),lt.append(dt),lt.append(Je),lt.append(qe),lt.append(t("div",{id:"rbro_doc_element_rich_text_content_toolbar_parameter",class:"rbroButton rbroRoundButton rbroIcon-select"})),a.append(lt);var kt=t("div",{id:"rbro_doc_element_rich_text_content"});a.append(kt),s.append(t("div",{id:"rbro_doc_element_rich_text_content_error",class:"rbroErrorMessage"})),j.append(a)}d(a=t("div",{id:"rbro_doc_element_eval_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementEval"),"rbro_doc_element_eval"),s=t("div",{class:"rbroFormField"});var Et=t("input",{id:"rbro_doc_element_eval",type:"checkbox"});Et.addEventListener("change",function(Xe){for(var ke=new re("Set value",y.rb),pe=y.rb.getSelectedObjects(),Ae=Et.checked,Ee=pe.length-1;Ee>=0;Ee--){var De=pe[Ee];ke.addSelection(De.getId()),ke.addCommand(new e(De.getId(),"eval",Ae,e.type.checkbox,y.rb))}ke.isEmpty()||y.rb.executeCommand(ke)}),s.append(Et),a.append(s),j.append(a),d(a=t("div",{id:"rbro_doc_element_format_row",class:"rbroFormRow"}),this.rb.getLabel("docElementFormat"),"rbro_doc_element_format"),s=t("div",{class:"rbroFormField"});var mt=t("select",{id:"rbro_doc_element_format"});mt.append(t("option",{value:"CODE39"},"CODE39")),mt.append(t("option",{value:"CODE128"},"CODE128")),mt.append(t("option",{value:"EAN8"},"EAN-8")),mt.append(t("option",{value:"EAN13"},"EAN-13")),mt.append(t("option",{value:"UPC"},"UPC")),mt.append(t("option",{value:"QRCode"},"QR Code")),mt.addEventListener("change",function(Xe){for(var ke=mt.value,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"format",ke,e.type.select,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(mt),a.append(s),j.append(a),d(a=t("div",{id:"rbro_doc_element_display_value_row",class:"rbroFormRow"}),this.rb.getLabel("docElementDisplayValue"),"rbro_doc_element_display_value"),s=t("div",{class:"rbroFormField"});var wt=t("input",{id:"rbro_doc_element_display_value",type:"checkbox"});wt.addEventListener("change",function(Xe){for(var ke=wt.checked,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"displayValue",ke,e.type.checkbox,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(wt),a.append(s),j.append(a),d(a=t("div",{id:"rbro_doc_element_bar_width_row",class:"rbroFormRow"}),this.rb.getLabel("docElementBarWidth"),"rbro_doc_element_bar_width"),s=t("div",{class:"rbroFormField"});var ft=t("input",{id:"rbro_doc_element_bar_width",type:"number",step:"0.1"});ft.addEventListener("input",function(Xe){var ke=ft.value;ke!==""&&(ke=A(ke,.3,3)),ke!==ft.value&&(ft.value=ke);for(var pe=y.rb.getSelectedObjects(),Ae=!1,Ee=pe.length-1;Ee>=0;Ee--)if(pe[Ee].getValue("barWidth")!==ke){Ae=!0;break}if(Ae){for(var De=new re("Set value",y.rb),vt=pe.length-1;vt>=0;vt--){var Ot=pe[vt];De.addSelection(Ot.getId()),De.addCommand(new e(Ot.getId(),"barWidth",ke,e.type.text,y.rb))}De.isEmpty()||y.rb.executeCommand(De)}}),s.append(ft),a.append(s),j.append(a),d(a=t("div",{id:"rbro_doc_element_guard_bar_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGuardBar"),"rbro_doc_element_guard_bar"),s=t("div",{class:"rbroFormField"});var ut=t("input",{id:"rbro_doc_element_guard_bar",type:"checkbox"});ut.addEventListener("change",function(Xe){for(var ke=ut.checked,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"guardBar",ke,e.type.checkbox,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(ut),a.append(s),j.append(a),d(a=t("div",{id:"rbro_doc_element_rotate_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRotate"),"rbro_doc_element_rotate"),s=t("div",{class:"rbroFormField"});var Qt=t("input",{id:"rbro_doc_element_rotate",type:"checkbox"});Qt.addEventListener("change",function(Xe){for(var ke=Qt.checked,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"rotate",ke,e.type.checkbox,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(Qt),a.append(s),j.append(a),d(a=t("div",{id:"rbro_doc_element_error_correction_level_row",class:"rbroFormRow"}),this.rb.getLabel("docElementErrorCorrectionLevel"),"rbro_doc_element_error_correction_level"),s=t("div",{class:"rbroFormField"});var Rt=t("select",{id:"rbro_doc_element_error_correction_level"});Rt.append(t("option",{value:"L"},this.rb.getLabel("docElementErrorCorrectionLevelLow"))),Rt.append(t("option",{value:"M"},this.rb.getLabel("docElementErrorCorrectionLevelMedium"))),Rt.append(t("option",{value:"Q"},this.rb.getLabel("docElementErrorCorrectionLevelQuartile"))),Rt.append(t("option",{value:"H"},this.rb.getLabel("docElementErrorCorrectionLevelHigh"))),Rt.addEventListener("change",function(Xe){for(var ke=Rt.value,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"errorCorrectionLevel",ke,e.type.select,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(Rt),a.append(s),j.append(a),d(a=t("div",{id:"rbro_doc_element_source_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSource"),"rbro_doc_element_source"),s=t("div",{class:"rbroFormField"}),ee=t("div",{class:"rbroSplit rbroSelector"});var or=t("textarea",{id:"rbro_doc_element_source",rows:1});or.addEventListener("input",function(Xe){for(var ke=or.value,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"source",ke,e.type.text,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),At(or),ee.append(or),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Xe){var ke=y.rb.getSelectedObjects(),pe=ke.length===1?ke[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(pe,[N.type.image,N.type.string]),null,"rbro_doc_element_source","source",Lt.type.parameterSet)}),ee.append(l),s.append(ee),s.append(t("div",{id:"rbro_doc_element_source_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),d(a=t("div",{id:"rbro_doc_element_image_row",class:"rbroFormRow"}),this.rb.getLabel("docElementImageFile"),"rbro_doc_element_image"),s=t("div",{class:"rbroFormField"});var Ut=t("input",{id:"rbro_doc_element_image",type:"file"});Ut.addEventListener("change",function(Xe){var ke=Xe.target.files;if(ke&&ke[0]){var pe=new FileReader,Ae=y.rb,Ee=ke[0].name;pe.onload=function(De){for(var vt=new re("Load image",Ae),Ot=Ae.getSelectedObjects(),Xt=Ot.length-1;Xt>=0;Xt--){var gr=Ot[Xt];vt.addSelection(gr.getId()),vt.addCommand(new e(gr.getId(),"image",De.target.result,e.type.file,Ae)),vt.addCommand(new e(gr.getId(),"imageFilename",Ee,e.type.filename,Ae))}vt.isEmpty()||Ae.executeCommand(vt)},pe.onerror=function(De){alert(Ae.getLabel("docElementLoadImageErrorMsg"))},pe.readAsDataURL(ke[0])}}),s.append(Ut);var jt=t("div",{id:"rbro_doc_element_image_filename_container",class:"rbroImageFile rbroHidden"});jt.append(t("div",{id:"rbro_doc_element_image_filename"}));var Kt=t("div",{id:"rbro_doc_element_image_filename_clear",class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});Kt.addEventListener("click",function(Xe){Ut.value="";for(var ke=new re("Clear image",y.rb),pe=y.rb.getSelectedObjects(),Ae=pe.length-1;Ae>=0;Ae--){var Ee=pe[Ae];ke.addSelection(Ee.getId()),ke.addCommand(new e(Ee.getId(),"image","",e.type.file,y.rb)),ke.addCommand(new e(Ee.getId(),"imageFilename","",e.type.filename,y.rb))}ke.isEmpty()||y.rb.executeCommand(ke)}),jt.append(Kt),s.append(jt),s.append(t("div",{id:"rbro_doc_element_image_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),d(a=t("div",{id:"rbro_doc_element_x_read_only_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPositionX"),"rbro_doc_element_x_read_only",{class:"rbroDisabled"}),s=t("div",{class:"rbroFormField"});var hr=t("input",{id:"rbro_doc_element_x_read_only",disabled:"disabled"});s.append(hr),a.append(s),j.append(a),d(a=t("div",{id:"rbro_doc_element_position_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementPosition"),"rbro_doc_element_x",{id:"rbro_doc_element_position_label"}),s=t("div",{class:"rbroFormField"}),ee=t("div",{class:"rbroSplit"});var er=t("input",{id:"rbro_doc_element_x",type:"number"});er.addEventListener("input",function(Xe){for(var ke=er.value,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"x",ke,e.type.text,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),ee.append(er);var tr=t("input",{id:"rbro_doc_element_y",type:"number"});tr.addEventListener("input",function(Xe){for(var ke=tr.value,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"y",ke,e.type.text,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),ee.append(tr),s.append(ee),s.append(t("div",{id:"rbro_doc_element_position_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),d(a=t("div",{id:"rbro_doc_element_size_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementSize"),"rbro_doc_element_size",{id:"rbro_doc_element_size_label"}),s=t("div",{class:"rbroFormField"}),ee=t("div",{class:"rbroSplit"});var Zt=t("input",{id:"rbro_doc_element_width",type:"number"});Zt.addEventListener("input",function(Xe){for(var ke=Zt.value,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"width",ke,e.type.text,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),ee.append(Zt);var Mt=t("input",{id:"rbro_doc_element_height",type:"number"});Mt.addEventListener("input",function(Xe){for(var ke=Mt.value,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"height",ke,e.type.text,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),ee.append(Mt),s.append(ee),s.append(t("div",{id:"rbro_doc_element_size_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),d(a=t("div",{id:"rbro_doc_element_colspan_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColspan"),"rbro_doc_element_colspan"),s=t("div",{class:"rbroFormField"});var Ft=t("input",{id:"rbro_doc_element_colspan",type:"number"});Ft.addEventListener("change",function(Xe){var ke=Ft.value.trim();ke!==""&&(ke=A(ke,1,9)),ke!==Ft.value&&(Ft.value=ke);for(var pe=y.rb.getSelectedObjects(),Ae=!1,Ee=pe.length-1;Ee>=0;Ee--)if(pe[Ee].getValue("colspan")!==ke){Ae=!0;break}if(Ae){for(var De=new re("Set value",y.rb),vt=pe.length-1;vt>=0;vt--){var Ot=pe[vt];De.addSelection(Ot.getId()),De.addCommand(new e(Ot.getId(),"colspan",ke,e.type.text,y.rb))}De.isEmpty()||y.rb.executeCommand(De)}}),s.append(Ft),s.append(t("div",{id:"rbro_doc_element_colspan_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),d(a=t("div",{id:"rbro_doc_element_columns_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColumns"),"rbro_doc_element_columns"),s=t("div",{class:"rbroFormField"});var Ht=t("input",{id:"rbro_doc_element_columns",type:"number"});Ht.addEventListener("change",function(Xe){var ke=A(Ht.value,1,99);ke!==Ht.value&&(Ht.value=ke);for(var pe=S(ke),Ae=y.rb.getSelectedObjects(),Ee=!1,De=!0,vt=Ae.length-1;vt>=0;vt--){var Ot=Ae[vt];Ot.getValue("columns")!==ke&&(Ee=!0),Ot.hasEnoughAvailableSpace(pe)||(De=!1)}if(De||Ae.length!==1||(Ht.value=Ae[0].getValue("columns")),Ee&&De){for(var Xt=new re("Set value",y.rb),gr=Ae.length-1;gr>=0;gr--){var mn=Ae[gr];Xt.addSelection(mn.getId()),mn.addCommandsForChangedColumns(pe,Xt)}Xt.isEmpty()||y.rb.executeCommand(Xt)}}),s.append(Ht),a.append(s),j.append(a),d(a=t("div",{id:"rbro_doc_element_header_row",class:"rbroFormRow"}),this.rb.getLabel("header"),"rbro_doc_element_header"),s=t("div",{class:"rbroFormField"});var xt=t("label",{class:"switch-light switch-material"}),zt=t("input",{id:"rbro_doc_element_header",type:"checkbox"});zt.addEventListener("change",function(Xe){for(var ke=zt.checked,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"header",ke,e.type.checkbox,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),xt.append(zt);var ar=t("span");ar.append(t("span")),ar.append(t("span")),ar.append(t("a")),xt.append(ar),s.append(xt),a.append(s),j.append(a),d(a=t("div",{id:"rbro_doc_element_content_rows_row",class:"rbroFormRow"}),this.rb.getLabel("docElementContentRows"),"rbro_doc_element_content_rows"),s=t("div",{class:"rbroFormField"});var Yt=t("input",{id:"rbro_doc_element_content_rows",type:"number"});Yt.addEventListener("change",function(Xe){var ke=A(Yt.value,1,99),pe=S(ke);ke!==Yt.value&&(Yt.value=ke);for(var Ae=y.rb.getSelectedObjects(),Ee=!1,De=Ae.length-1;De>=0;De--)if(Ae[De].getValue("contentRows")!==ke){Ee=!0;break}if(Ee){for(var vt=new re("Set value",y.rb),Ot=Ae.length-1;Ot>=0;Ot--){var Xt=Ae[Ot];vt.addSelection(Xt.getId()),Xt.addCommandsForChangedContentRows(pe,vt)}vt.isEmpty()||y.rb.executeCommand(vt)}}),s.append(Yt),a.append(s),j.append(a),d(a=t("div",{id:"rbro_doc_element_footer_row",class:"rbroFormRow"}),this.rb.getLabel("footer"),"rbro_doc_element_footer"),s=t("div",{class:"rbroFormField"});var rr=t("label",{class:"switch-light switch-material"}),St=t("input",{id:"rbro_doc_element_footer",type:"checkbox"});St.addEventListener("change",function(Xe){for(var ke=St.checked,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"footer",ke,e.type.checkbox,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),rr.append(St);var fr=t("span");fr.append(t("span")),fr.append(t("span")),fr.append(t("a")),rr.append(fr),s.append(rr),a.append(s),j.append(a);var mr=t("div",{id:"rbro_doc_element_style_section_container"}),yr=t("div",{class:"rbroPanelSectionHeader"}),sr=t("span",{id:"rbro_doc_element_style_header_icon",class:"rbroIcon-minus"});(a=t("div",{id:"rbro_doc_element_style_header",class:"rbroFormRow rbroPanelSection rbroPanelSectionHeaderOpen"})).addEventListener("click",function(Xe){if(document.getElementById("rbro_doc_element_style_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_style_section").classList.toggle("rbroHidden"),sr.classList.toggle("rbroIcon-plus"),sr.classList.toggle("rbroIcon-minus"),sr.classList.contains("rbroIcon-minus")){var ke=document.getElementById("rbro_doc_element_style_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=ke}}),yr.append(sr),yr.append(t("span",{},this.rb.getLabel("docElementStyle"))),a.append(yr),mr.append(a);var ur=t("div",{id:"rbro_doc_element_style_section"});d(a=t("div",{id:"rbro_doc_element_color_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColor"),"rbro_doc_element_color"),s=t("div",{class:"rbroFormField"});var wr=t("div",{class:"rbroColorPickerContainer"}),cr=t("input",{id:"rbro_doc_element_color"});cr.addEventListener("change",function(Xe){var ke=cr.value;if(Z(ke)){for(var pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"color",ke,e.type.color,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}}),wr.append(cr),this.controls.color=F(wr,cr,!1,this.rb),s.append(wr),a.append(s),ur.append(a),d(a=t("div",{id:"rbro_doc_element_style_id_row",class:"rbroFormRow"}),this.rb.getLabel("docElementStyle"),"rbro_doc_element_style_id"),s=t("div",{class:"rbroFormField"}),this.elStyle=t("select",{id:"rbro_doc_element_style_id"}),this.elStyle.addEventListener("change",function(Xe){for(var ke=new re("Set value",y.rb),pe=y.rb.getSelectedObjects(),Ae=pe.length-1;Ae>=0;Ae--){var Ee=pe[Ae];ke.addSelection(Ee.getId()),Ee.addCommandsForChangedStyle(y.elStyle.value,"",y.propertyDescriptors,ke)}ke.isEmpty()||y.rb.executeCommand(ke)}),s.append(this.elStyle),a.append(s),ur.append(a);var ct=t("div",{id:"rbro_doc_element_style_settings"});Ir.renderStyle(ct,"doc_element_","",!0,this.controls,this.rb),ur.append(ct),mr.append(ur),j.append(mr);var Ie=t("div",{id:"rbro_doc_element_print_section_container"}),he=t("div",{class:"rbroPanelSectionHeader"}),Me=t("span",{id:"rbro_doc_element_print_header_icon",class:"rbroIcon-plus"});(a=t("div",{id:"rbro_doc_element_print_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function(Xe){if(document.getElementById("rbro_doc_element_print_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_print_section").classList.toggle("rbroHidden"),Me.classList.toggle("rbroIcon-plus"),Me.classList.toggle("rbroIcon-minus"),Me.classList.contains("rbroIcon-minus")){var ke=document.getElementById("rbro_doc_element_print_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=ke}At.update(document.getElementById("rbro_doc_element_print_if"))}),he.append(Me),he.append(t("span",{},this.rb.getLabel("docElementPrintSettings"))),a.append(he),Ie.append(a);var Pe=t("div",{id:"rbro_doc_element_print_section",class:"rbroHidden"});d(a=t("div",{id:"rbro_doc_element_group_expression_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGroupExpression"),"rbro_doc_element_group_expression"),s=t("div",{class:"rbroFormField"}),ee=t("div",{class:"rbroSplit rbroSelector"});var ue=t("textarea",{id:"rbro_doc_element_group_expression",rows:1});ue.addEventListener("input",function(Xe){for(var ke=ue.value,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"groupExpression",ke,e.type.text,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),ue.addEventListener("blur",function(Xe){y.rb.getPopupWindow().hide()}),At(ue),ee.append(ue),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Xe){var ke=y.rb.getSelectedObjects(),pe=ke.length===1?ke[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(pe),null,"rbro_doc_element_group_expression","groupExpression",Lt.type.parameterSet)}),ee.append(l),s.append(ee),s.append(t("div",{id:"rbro_doc_element_group_expression_error",class:"rbroErrorMessage"})),a.append(s),Pe.append(a),d(a=t("div",{id:"rbro_doc_element_page_break_row",class:"rbroFormRow"}),this.rb.getLabel("docElementTableBandPageBreak"),"rbro_doc_element_page_break"),s=t("div",{class:"rbroFormField"});var rt=t("input",{id:"rbro_doc_element_page_break",type:"checkbox"});rt.addEventListener("change",function(Xe){for(var ke=rt.checked,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"pageBreak",ke,e.type.checkbox,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(rt),a.append(s),Pe.append(a),d(a=t("div",{id:"rbro_doc_element_repeat_group_header_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRepeatGroupHeader"),"rbro_doc_element_repeat_group_header"),s=t("div",{class:"rbroFormField"});var Ve=t("input",{id:"rbro_doc_element_repeat_group_header",type:"checkbox"});Ve.addEventListener("change",function(Xe){for(var ke=Ve.checked,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"repeatGroupHeader",ke,e.type.checkbox,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(Ve),s.append(t("div",{id:"rbro_doc_element_repeat_group_header_error",class:"rbroErrorMessage"})),a.append(s),Pe.append(a),d(a=t("div",{id:"rbro_doc_element_print_if_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPrintIf"),"rbro_doc_element_print_if"),s=t("div",{class:"rbroFormField"}),ee=t("div",{class:"rbroSplit rbroSelector"});var Tr=t("textarea",{id:"rbro_doc_element_print_if",rows:1});Tr.addEventListener("input",function(Xe){for(var ke=Tr.value,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"printIf",ke,e.type.text,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),At(Tr),ee.append(Tr),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Xe){var ke=y.rb.getSelectedObjects(),pe=ke.length===1?ke[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(pe),null,"rbro_doc_element_print_if","printIf",Lt.type.parameterAppend)}),ee.append(l),s.append(ee),s.append(t("div",{id:"rbro_doc_element_print_if_error",class:"rbroErrorMessage"})),a.append(s),Pe.append(a),d(a=t("div",{id:"rbro_doc_element_repeat_header_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRepeatHeader"),"rbro_doc_element_repeat_header"),s=t("div",{class:"rbroFormField"});var Nr=t("input",{id:"rbro_doc_element_repeat_header",type:"checkbox"});Nr.addEventListener("change",function(Xe){for(var ke=Nr.checked,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"repeatHeader",ke,e.type.checkbox,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(Nr),a.append(s),Pe.append(a),d(a=t("div",{id:"rbro_doc_element_remove_empty_element_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRemoveEmptyElement"),"rbro_doc_element_remove_empty_element"),s=t("div",{class:"rbroFormField"});var Mr=t("input",{id:"rbro_doc_element_remove_empty_element",type:"checkbox"});Mr.addEventListener("change",function(Xe){for(var ke=Mr.checked,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"removeEmptyElement",ke,e.type.checkbox,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(Mr),a.append(s),Pe.append(a),d(a=t("div",{id:"rbro_doc_element_always_print_on_same_page_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAlwaysPrintOnSamePage"),"rbro_doc_element_always_print_on_same_page"),s=t("div",{class:"rbroFormField"});var Fr=t("input",{id:"rbro_doc_element_always_print_on_same_page",type:"checkbox"});Fr.addEventListener("change",function(Xe){for(var ke=Fr.checked,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"alwaysPrintOnSamePage",ke,e.type.checkbox,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(Fr),s.append(t("div",{id:"rbro_doc_element_always_print_on_same_page_error",class:"rbroErrorMessage"})),a.append(s),Pe.append(a),d(a=t("div",{id:"rbro_doc_element_shrink_to_content_height_row",class:"rbroFormRow"}),this.rb.getLabel("docElementShrinkToContentHeight"),"rbro_doc_element_shrink_to_content_height"),s=t("div",{class:"rbroFormField"});var zr=t("input",{id:"rbro_doc_element_shrink_to_content_height",type:"checkbox"});zr.addEventListener("change",function(Xe){for(var ke=zr.checked,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"shrinkToContentHeight",ke,e.type.checkbox,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(zr),a.append(s),Pe.append(a),d(a=t("div",{id:"rbro_doc_element_align_to_page_bottom_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAlignToPageBottom"),"rbro_doc_element_align_to_page_bottom"),s=t("div",{class:"rbroFormField"});var Vr=t("input",{id:"rbro_doc_element_align_to_page_bottom",type:"checkbox"});Vr.addEventListener("change",function(Xe){for(var ke=Vr.checked,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"alignToPageBottom",ke,e.type.checkbox,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(Vr),a.append(s),Pe.append(a),d(a=t("div",{id:"rbro_doc_element_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPattern"),"rbro_doc_element_pattern"),s=t("div",{class:"rbroFormField"}),ee=t("div",{class:"rbroSplit rbroSelector"});var Ur=t("input",{id:"rbro_doc_element_pattern"});Ur.addEventListener("input",function(Xe){for(var ke=Ur.value,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"pattern",ke,e.type.text,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),ee.append(Ur),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Xe){y.rb.getPopupWindow().show(y.rb.getPatterns(),null,"rbro_doc_element_pattern","pattern",Lt.type.pattern)}),ee.append(l),s.append(ee),s.append(t("div",{id:"rbro_doc_element_pattern_error",class:"rbroErrorMessage"})),a.append(s),Pe.append(a),d(a=t("div",{id:"rbro_doc_element_link_row",class:"rbroFormRow"}),this.rb.getLabel("docElementLink"),"rbro_doc_element_link"),s=t("div",{class:"rbroFormField"}),ee=t("div",{class:"rbroSplit rbroSelector"});var Hr=t("input",{id:"rbro_doc_element_link"});Hr.addEventListener("input",function(Xe){for(var ke=Hr.value,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"link",ke,e.type.text,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),ee.append(Hr),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Xe){var ke=y.rb.getSelectedObjects(),pe=ke.length===1?ke[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(pe),null,"rbro_doc_element_link","link",Lt.type.parameterSet)}),ee.append(l),s.append(ee),s.append(t("div",{id:"rbro_doc_element_link_error",class:"rbroErrorMessage"})),a.append(s),Pe.append(a),d(a=t("div",{id:"rbro_doc_element_grow_weight_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGrowWeight"),"rbro_doc_element_grow_weight"),s=t("div",{class:"rbroFormField"});var vr=t("select",{id:"rbro_doc_element_grow_weight"});vr.append(t("option",{value:"0"},"-")),vr.append(t("option",{value:"1"},"1 (".concat(this.rb.getLabel("docElementGrowWeightLow"),")"))),vr.append(t("option",{value:"2"},"2")),vr.append(t("option",{value:"3"},"3 (".concat(this.rb.getLabel("docElementGrowWeightHigh"),")"))),vr.addEventListener("change",function(Xe){for(var ke=vr.value,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"growWeight",ke,e.type.select,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(vr),s.append(t("div",{class:"rbroInfo"},this.rb.getLabel("docElementGrowWeightInfo"))),a.append(s),Pe.append(a),Ie.append(Pe),j.append(Ie);var qr=t("div",{id:"rbro_doc_element_cs_style_section_container"}),Wr=t("div",{class:"rbroPanelSectionHeader"}),Dr=t("span",{id:"rbro_doc_element_cs_style_header_icon",class:"rbroIcon-plus"});(a=t("div",{id:"rbro_doc_element_cs_style_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function(Xe){if(document.getElementById("rbro_doc_element_cs_style_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_cs_style_section").classList.toggle("rbroHidden"),Dr.classList.toggle("rbroIcon-plus"),Dr.classList.toggle("rbroIcon-minus"),Dr.classList.contains("rbroIcon-minus")){var ke=document.getElementById("rbro_doc_element_cs_style_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=ke}}),Wr.append(Dr),Wr.append(t("span",{},this.rb.getLabel("docElementConditionalStyle"))),a.append(Wr),qr.append(a);var Lr=t("div",{id:"rbro_doc_element_cs_style_section",class:"rbroHidden"});d(a=t("div",{id:"rbro_doc_element_cs_condition_row",class:"rbroFormRow"}),this.rb.getLabel("docElementConditionalStyleCondition"),"rbro_doc_element_cs_condition"),s=t("div",{class:"rbroFormField"}),ee=t("div",{class:"rbroSplit rbroSelector"});var Rr=t("textarea",{id:"rbro_doc_element_cs_condition",rows:1});Rr.addEventListener("input",function(Xe){for(var ke=Rr.value,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"cs_condition",ke,e.type.text,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),At(Rr),ee.append(Rr),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Xe){var ke=y.rb.getSelectedObjects(),pe=ke.length===1?ke[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(pe),null,"rbro_doc_element_cs_condition","cs_condition",Lt.type.parameterAppend)}),ee.append(l),s.append(ee),s.append(t("div",{id:"rbro_doc_element_cs_condition_error",class:"rbroErrorMessage"})),a.append(s),Lr.append(a),d(a=t("div",{id:"rbro_doc_element_cs_style_id_row",class:"rbroFormRow"}),this.rb.getLabel("docElementStyle"),"rbro_doc_element_cs_style_id"),s=t("div",{class:"rbroFormField"}),this.elCsStyle=t("select",{id:"rbro_doc_element_cs_style_id"}),this.elCsStyle.addEventListener("change",function(Xe){for(var ke=y.elCsStyle.value,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),De.addCommandsForChangedStyle(ke,"cs_",y.propertyDescriptors,pe)}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(this.elCsStyle),a.append(s),Lr.append(a);var fn=t("div",{id:"rbro_doc_element_cs_style_settings"});Ir.renderStyle(fn,"doc_element_cs_","cs_",!1,this.controls,this.rb),Lr.append(fn),qr.append(Lr),j.append(qr);var jr=t("div",{id:"rbro_doc_element_spreadsheet_section_container"}),Gr=t("div",{class:"rbroPanelSectionHeader"}),Br=t("span",{id:"rbro_doc_element_spreadsheet_header_icon",class:"rbroIcon-plus"});(a=t("div",{id:"rbro_doc_element_spreadsheet_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function(Xe){if(document.getElementById("rbro_doc_element_spreadsheet_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_spreadsheet_section").classList.toggle("rbroHidden"),Br.classList.toggle("rbroIcon-plus"),Br.classList.toggle("rbroIcon-minus"),Br.classList.contains("rbroIcon-minus")){var ke=document.getElementById("rbro_doc_element_spreadsheet_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=ke}}),Gr.append(Br),Gr.append(t("span",{},this.rb.getLabel("docElementSpreadsheet"))),a.append(Gr),jr.append(a);var Er=t("div",{id:"rbro_doc_element_spreadsheet_section",class:"rbroHidden"});d(a=t("div",{id:"rbro_doc_element_spreadsheet_hide_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetHide"),"rbro_doc_element_spreadsheet_hide"),s=t("div",{class:"rbroFormField"});var Kr=t("input",{id:"rbro_doc_element_spreadsheet_hide",type:"checkbox"});Kr.addEventListener("change",function(Xe){for(var ke=Kr.checked,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"spreadsheet_hide",ke,e.type.checkbox,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(Kr),a.append(s),Er.append(a),d(a=t("div",{id:"rbro_doc_element_spreadsheet_column_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetColumn"),"rbro_doc_element_spreadsheet_column"),s=t("div",{class:"rbroFormField"});var kr=t("input",{id:"rbro_doc_element_spreadsheet_column",type:"number"});kr.addEventListener("input",function(Xe){var ke=kr.value;ke!==""&&(ke=A(ke,1,99)),ke!==kr.value&&(kr.value=ke);for(var pe=y.rb.getSelectedObjects(),Ae=!1,Ee=pe.length-1;Ee>=0;Ee--)if(pe[Ee].getValue("spreadsheet_column")!==ke){Ae=!0;break}if(Ae){for(var De=new re("Set value",y.rb),vt=pe.length-1;vt>=0;vt--){var Ot=pe[vt];De.addSelection(Ot.getId()),De.addCommand(new e(Ot.getId(),"spreadsheet_column",ke,e.type.text,y.rb))}De.isEmpty()||y.rb.executeCommand(De)}}),s.append(kr),s.append(t("div",{id:"rbro_doc_element_spreadsheet_column_error",class:"rbroErrorMessage"})),a.append(s),Er.append(a),d(a=t("div",{id:"rbro_doc_element_spreadsheet_colspan_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetColspan"),"rbro_doc_element_spreadsheet_colspan"),s=t("div",{class:"rbroFormField"});var Zr=t("input",{id:"rbro_doc_element_spreadsheet_colspan",type:"number"});Zr.addEventListener("input",function(Xe){for(var ke=Zr.value,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"spreadsheet_colspan",ke,e.type.text,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(Zr),s.append(t("div",{id:"rbro_doc_element_spreadsheet_colspan_error",class:"rbroErrorMessage"})),a.append(s),Er.append(a),d(a=t("div",{id:"rbro_doc_element_spreadsheet_add_empty_row_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetAddEmptyRow"),"rbro_doc_element_spreadsheet_add_empty_row"),s=t("div",{class:"rbroFormField"});var Yr=t("input",{id:"rbro_doc_element_spreadsheet_add_empty_row",type:"checkbox"});Yr.addEventListener("change",function(Xe){for(var ke=Yr.checked,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"spreadsheet_addEmptyRow",ke,e.type.checkbox,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(Yr),a.append(s),Er.append(a),d(a=t("div",{id:"rbro_doc_element_spreadsheet_text_wrap_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetTextWrap"),"rbro_doc_element_spreadsheet_text_wrap"),s=t("div",{class:"rbroFormField"});var Xr=t("input",{id:"rbro_doc_element_spreadsheet_text_wrap",type:"checkbox"});Xr.addEventListener("change",function(Xe){for(var ke=Xr.checked,pe=new re("Set value",y.rb),Ae=y.rb.getSelectedObjects(),Ee=Ae.length-1;Ee>=0;Ee--){var De=Ae[Ee];pe.addSelection(De.getId()),pe.addCommand(new e(De.getId(),"spreadsheet_textWrap",ke,e.type.checkbox,y.rb))}pe.isEmpty()||y.rb.executeCommand(pe)}),s.append(Xr),a.append(s),Er.append(a),jr.append(Er),this.rb.getProperty("enableSpreadsheet")||(jr.style.display="none"),j.append(jr),document.getElementById("rbro_detail_panel").append(j),this.rb.getProperty("showPlusFeatures")&&this.setupRichText()}},{key:"renderStyleSelect",value:function(){u(this.elStyle),u(this.elCsStyle),this.elStyle.append(t("option",{value:""},this.rb.getLabel("styleNone"))),this.elCsStyle.append(t("option",{value:""},this.rb.getLabel("styleNone")));var a,s=Nt(this.rb.getStyles());try{for(s.s();!(a=s.n()).done;){var l=a.value;this.elStyle.append(t("option",{value:l.getId()},l.getName())),this.elCsStyle.append(t("option",{value:l.getId()},l.getName()))}}catch(y){s.e(y)}finally{s.f()}}},{key:"setupRichText",value:function(){var a=this,s=_r().import("formats/link"),l=s.sanitize;s.sanitize=function(Ne){var Be=Ne;return/^\w+:/.test(Be)||Be.startsWith("${")?Be:(/^https?:/.test(Be)||(Be=Be.startsWith("/")?"http:"+Be:"http://"+Be),l.call(this,Be))},document.getElementById("rbro_doc_element_rich_text_content_toolbar_parameter").addEventListener("click",function(Ne){var Be=a.rb.getSelectedObjects(),We=Be.length===1?Be[0]:null;a.rb.getPopupWindow().show(a.rb.getParameterItems(We),null,"rbro_doc_element_rich_text_content","richTextContent",Lt.type.parameterAppend,a.quill)});var y,j=_r().import("formats/font"),U=[],ee=Nt(this.rb.getFonts());try{for(ee.s();!(y=ee.n()).done;){var se=y.value;U.push(se.value)}}catch(Ne){ee.e(Ne)}finally{ee.f()}j.whitelist=U,_r().register(j,!0);var fe,be=_r().import("attributors/style/size"),_e=[],Oe=Nt(this.rb.getProperty("fontSizes"));try{for(Oe.s();!(fe=Oe.n()).done;){var Te=fe.value;_e.push(Te+"px")}}catch(Ne){Oe.e(Ne)}finally{Oe.f()}be.whitelist=_e,_r().register(be,!0);var Re=new(_r())("#rbro_doc_element_rich_text_content",{modules:{toolbar:"#rbro_doc_element_rich_text_content_toolbar"},placeholder:"",theme:"snow"});Re.getModule("toolbar").addHandler("color",function(Ne){Ne==="clear-color"?Re.format("color",""):Re.format("color",Ne)}),Re.getModule("toolbar").addHandler("background",function(Ne){Ne==="clear-color"?Re.format("background",""):Re.format("background",Ne)});var ze=this.rb;Re.on("text-change",function(Ne,Be,We){for(var $e=Re.getContents(),Ge=Re.root.innerHTML,Je=new re("Set value",ze),st=ze.getSelectedObjects(),at=st.length-1;at>=0;at--){var it=st[at];Je.addSelection(it.getId()),Je.addCommand(new e(it.getId(),"richTextContent",$e,e.type.richText,ze)),Je.addCommand(new e(it.getId(),"richTextHtml",Ge,e.type.text,ze))}Je.isEmpty()||ze.executeCommand(Je)}),this.quill=Re}},{key:"destroy",value:function(){this.controls.color.destroy(),Ir.destroyStyle("",this.controls),Ir.destroyStyle("cs_",this.controls)}},{key:"updateDisplay",value:function(a){var s,l=this.rb.getSelectedObjects(),y={},j={},U=Nt(l);try{for(U.s();!(s=U.n()).done;){var ee,se=Nt(s.value.getProperties());try{for(se.s();!(ee=se.n()).done;){var fe=ee.value;fe in j?j[fe]+=1:j[fe]=1}}catch(ft){se.e(ft)}finally{se.f()}}}catch(ft){U.e(ft)}finally{U.f()}for(var be in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(be)){var _e=this.propertyDescriptors[be],Oe="";if("visibleIf"in _e&&(Oe=_e.visibleIf),a===null||be===a||Oe&&_e.visibleIfFields.includes(a)){var Te=!1;if(be in j)if(j[be]===l.length){var Re,ze=null,Ne=!1,Be=Nt(l);try{for(Be.s();!(Re=Be.n()).done;){var We=Re.value,$e=We.getUpdateValue(be,We.getValue(be));if(ze===null)ze=$e;else if(_e.type===e.type.richText){if($e&&ze&&new(ln())($e).diff(new(ln())(ze)).ops.length>0){Ne=!0;break}}else if($e!==ze){Ne=!0;break}}}catch(ft){Be.e(ft)}finally{Be.f()}if(Ne&&_e.type===e.type.select&&_e.allowEmpty&&(ze=""),o(f(x.prototype),"setValue",this).call(this,_e,ze,Ne),"section"in _e){var Ge=_e.section;Ge in y?y[Ge]+=1:y[Ge]=1}Te=!0}else delete j[be];if(Te&&Oe){var Je,st=Nt(l);try{for(st.s();!(Je=st.n()).done;)if(!G(Oe,Je.value)){Te=!1,delete j[be];break}}catch(ft){st.e(ft)}finally{st.f()}}if("singleRowProperty"in _e&&!_e.singleRowProperty){var at="rbro_doc_element_".concat(_e.fieldId);Te?document.getElementById(at).classList.remove("rbroHidden"):document.getElementById(at).classList.add("rbroHidden")}else{var it=this.getRowId(_e);Te?document.getElementById(it).classList.remove("rbroHidden"):document.getElementById(it).classList.add("rbroHidden")}}}if(a===null||this.visibleIfFields.includes(a)){for(var tt in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(tt)){var ve=this.propertyDescriptors[tt];if("rowId"in ve&&"rowProperties"in ve){var qe,Ke=0,gt=Nt(ve.rowProperties);try{for(gt.s();!(qe=gt.n()).done;)qe.value in j&&Ke++}catch(ft){gt.e(ft)}finally{gt.f()}if("labelId"in ve){var bt=ve.defaultLabel;if(Ke===1){var lt,dt=Nt(ve.rowProperties);try{for(dt.s();!(lt=dt.n()).done;){var kt=lt.value;if(kt in j){bt=this.propertyDescriptors[kt].singlePropertyLabel;break}}}catch(ft){dt.e(ft)}finally{dt.f()}}document.getElementById(ve.labelId).textContent=this.rb.getLabel(bt)+":"}Ke>0?document.getElementById(ve.rowId).classList.remove("rbroHidden"):document.getElementById(ve.rowId).classList.add("rbroHidden")}}for(var Et=0,mt=["style","print","cs_style","spreadsheet"];Et<mt.length;Et++){var wt=mt[Et];wt in y?document.getElementById("rbro_doc_element_".concat(wt,"_section_container")).classList.remove("rbroHidden"):document.getElementById("rbro_doc_element_".concat(wt,"_section_container")).classList.add("rbroHidden")}}x.updateAutosizeInputs(a)}},{key:"show",value:function(){this.renderStyleSelect(),o(f(x.prototype),"show",this).call(this)}},{key:"notifyEvent",value:function(a,s,l){a instanceof ne?(s===w.operation.add||s===w.operation.remove||s===w.operation.move||s===w.operation.change&&l==="name")&&this.renderStyleSelect():o(f(x.prototype),"notifyEvent",this).call(this,a,s,l)}}],[{key:"updateAutosizeInputs",value:function(a){a!==null&&a!=="dataSource"||At.update(document.getElementById("rbro_doc_element_data_source")),a!==null&&a!=="content"||At.update(document.getElementById("rbro_doc_element_content")),a!==null&&a!=="source"||At.update(document.getElementById("rbro_doc_element_source")),a!==null&&a!=="groupExpression"||At.update(document.getElementById("rbro_doc_element_group_expression")),a!==null&&a!=="printIf"||At.update(document.getElementById("rbro_doc_element_print_if")),a!==null&&a!=="cs_condition"||At.update(document.getElementById("rbro_doc_element_cs_condition"))}}]),x}(Ar),En=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a){var s;return J(this,x),(s=v.call(this,"rbro_document_properties",Gt,g,a)).propertyDescriptors={pageFormat:{type:e.type.text,fieldId:"page_format"},pageWidth:{type:e.type.text,fieldId:"page_width"},pageHeight:{type:e.type.text,fieldId:"page_height"},unit:{type:e.type.select,fieldId:"unit"},orientation:{type:e.type.select,fieldId:"orientation"},contentHeight:{type:e.type.text,fieldId:"content_height"},marginLeft:{type:e.type.text,fieldId:"page_margin_left"},marginTop:{type:e.type.text,fieldId:"page_margin_top"},marginRight:{type:e.type.text,fieldId:"page_margin_right"},marginBottom:{type:e.type.text,fieldId:"page_margin_bottom"},header:{type:e.type.checkbox,fieldId:"header"},headerSize:{type:e.type.text,fieldId:"header_size"},headerDisplay:{type:e.type.select,fieldId:"header_display"},footer:{type:e.type.checkbox,fieldId:"footer"},footerSize:{type:e.type.text,fieldId:"footer_size"},footerDisplay:{type:e.type.select,fieldId:"footer_display"},patternLocale:{type:e.type.select,fieldId:"pattern_locale"},patternCurrencySymbol:{type:e.type.text,fieldId:"pattern_currency_symbol"},patternNumberGroupSymbol:{type:e.type.text,fieldId:"pattern_number_group_symbol"}},s}return T(x,[{key:"render",value:function(a){var s=this,l=t("div",{id:"rbro_document_properties_panel",class:"rbroHidden"}),y=t("div",{id:"rbro_document_properties_page_row",class:"rbroFormRow"});d(y,this.rb.getLabel("pageFormat"),"rbro_document_properties_page_format");var j=t("div",{class:"rbroFormField"}),U=t("select",{id:"rbro_document_properties_page_format"});U.append(t("option",{value:"A4"},this.rb.getLabel("pageFormatA4"))),U.append(t("option",{value:"A5"},this.rb.getLabel("pageFormatA5"))),U.append(t("option",{value:"letter"},this.rb.getLabel("pageFormatLetter"))),U.append(t("option",{value:"user_defined"},this.rb.getLabel("pageFormatUserDefined"))),U.addEventListener("change",function(Ne){var Be=s.rb.getSelectedObject();if(Be!==null){var We=new e(Be.getId(),"pageFormat",U.value,e.type.select,s.rb);s.rb.executeCommand(We)}}),j.append(U);var ee=t("div",{id:"rbro_document_properties_page_size_row",class:"rbroTripleSplit"}),se=t("input",{id:"rbro_document_properties_page_width",maxlength:"5"});se.addEventListener("change",function(Ne){var Be=s.rb.getSelectedObject();if(Be!==null){var We=new e(Be.getId(),"pageWidth",se.value,e.type.select,s.rb);s.rb.executeCommand(We)}}),E(se),ee.append(se);var fe=t("input",{id:"rbro_document_properties_page_height",maxlength:"5"});fe.addEventListener("change",function(Ne){var Be=s.rb.getSelectedObject();if(Be!==null){var We=new e(Be.getId(),"pageHeight",fe.value,e.type.text,s.rb);s.rb.executeCommand(We)}}),E(fe),ee.append(fe);var be=t("select",{id:"rbro_document_properties_unit"});be.append(t("option",{value:"mm"},"mm")),be.append(t("option",{value:"inch"},"inch")),ee.addEventListener("change",function(Ne){var Be=s.rb.getSelectedObject();if(Be!==null){var We=new e(Be.getId(),"unit",be.value,e.type.select,s.rb);s.rb.executeCommand(We)}}),ee.append(be),j.append(ee),j.append(t("div",{id:"rbro_document_properties_page_error",class:"rbroErrorMessage"})),y.append(j),l.append(y),d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("orientation"),"rbro_document_properties_orientation"),j=t("div",{class:"rbroFormField"});var _e=t("select",{id:"rbro_document_properties_orientation"});_e.append(t("option",{value:"portrait"},this.rb.getLabel("orientationPortrait"))),_e.append(t("option",{value:"landscape"},this.rb.getLabel("orientationLandscape"))),_e.addEventListener("change",function(Ne){var Be=s.rb.getSelectedObject();if(Be!==null){var We=new e(Be.getId(),"orientation",_e.value,e.type.select,s.rb);s.rb.executeCommand(We)}}),j.append(_e),y.append(j),l.append(y),d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("contentHeight"),"rbro_document_properties_content_height"),j=t("div",{class:"rbroFormField"});var Oe=t("input",{id:"rbro_document_properties_content_height"});Oe.addEventListener("change",function(Ne){var Be=s.rb.getSelectedObject();if(Be!==null){var We=new e(Be.getId(),"contentHeight",Oe.value,e.type.text,s.rb);s.rb.executeCommand(We)}}),E(Oe),j.append(Oe),j.append(t("div",{class:"rbroInfo"},this.rb.getLabel("contentHeightInfo"))),y.append(j),l.append(y),this.renderMarginControls(l),this.renderHeaderFooter(l),d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("patternLocale"),"rbro_document_properties_pattern_locale"),j=t("div",{class:"rbroFormField"});var Te=t("select",{id:"rbro_document_properties_pattern_locale"});Te.append(t("option",{value:"de"},"de")),Te.append(t("option",{value:"en"},"en")),Te.append(t("option",{value:"es"},"es")),Te.append(t("option",{value:"fr"},"fr")),Te.append(t("option",{value:"it"},"it")),Te.addEventListener("change",function(Ne){var Be=s.rb.getSelectedObject();if(Be!==null){var We=new e(Be.getId(),"patternLocale",Te.value,e.type.select,s.rb);s.rb.executeCommand(We)}}),j.append(Te),y.append(j),l.append(y),d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("patternCurrencySymbol"),"rbro_document_properties_pattern_currency_symbol"),j=t("div",{class:"rbroFormField"});var Re=t("input",{id:"rbro_document_properties_pattern_currency_symbol"});Re.addEventListener("change",function(Ne){var Be=s.rb.getSelectedObject();if(Be!==null){var We=new e(Be.getId(),"patternCurrencySymbol",Re.value,e.type.text,s.rb);s.rb.executeCommand(We)}}),j.append(Re),y.append(j),l.append(y),d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("patternNumberGroupSymbol"),"rbro_document_properties_pattern_number_group_symbol"),j=t("div",{class:"rbroFormField"});var ze=t("input",{id:"rbro_document_properties_pattern_number_group_symbol",maxlength:"1"});ze.addEventListener("change",function(Ne){var Be=s.rb.getSelectedObject();if(Be!==null){var We=new e(Be.getId(),"patternNumberGroupSymbol",ze.value,e.type.text,s.rb);s.rb.executeCommand(We)}}),j.append(ze),j.append(t("div",{class:"rbroInfo"},this.rb.getLabel("patternNumberGroupSymbolInfo"))),y.append(j),l.append(y),document.getElementById("rbro_detail_panel").append(l)}},{key:"renderMarginControls",value:function(a){var s=this,l=t("div",{class:"rbroFormRow"});d(l,this.rb.getLabel("pageMargins"),"rbro_document_properties_page_margin_top");var y=t("div",{class:"rbroFormField rbroSmallInput"}),j=t("div",{class:"rbroColumnCenter"}),U=t("input",{id:"rbro_document_properties_page_margin_top",placeholder:this.rb.getLabel("orientationTop")});U.addEventListener("change",function(Oe){var Te=s.rb.getSelectedObject();if(Te!==null){var Re=new e(Te.getId(),"marginTop",U.value,e.type.text,s.rb);s.rb.executeCommand(Re)}}),E(U),j.append(U),y.append(j);var ee=t("div",{class:"rbroSplit"}),se=t("input",{id:"rbro_document_properties_page_margin_left",placeholder:this.rb.getLabel("orientationLeft")});se.addEventListener("change",function(Oe){var Te=s.rb.getSelectedObject();if(Te!==null){var Re=new e(Te.getId(),"marginLeft",se.value,e.type.text,s.rb);s.rb.executeCommand(Re)}}),E(se),ee.append(se);var fe=t("input",{id:"rbro_document_properties_page_margin_right",placeholder:this.rb.getLabel("orientationRight")});fe.addEventListener("change",function(Oe){var Te=s.rb.getSelectedObject();if(Te!==null){var Re=new e(Te.getId(),"marginRight",fe.value,e.type.text,s.rb);s.rb.executeCommand(Re)}}),E(fe),ee.append(fe),y.append(ee);var be=t("div",{class:"rbroColumnCenter"}),_e=t("input",{id:"rbro_document_properties_page_margin_bottom",placeholder:this.rb.getLabel("orientationBottom")});_e.addEventListener("change",function(Oe){var Te=s.rb.getSelectedObject();if(Te!==null){var Re=new e(Te.getId(),"marginBottom",_e.value,e.type.text,s.rb);s.rb.executeCommand(Re)}}),E(_e),be.append(_e),y.append(be),l.append(y),a.append(l)}},{key:"renderHeaderFooter",value:function(a){var s=this,l=t("div",{class:"rbroFormRowContainer"}),y=t("div",{class:"rbroFormRow"});d(y,this.rb.getLabel("header"),"rbro_document_properties_header");var j=t("div",{class:"rbroFormField"}),U=t("label",{class:"switch-light switch-material"}),ee=t("input",{id:"rbro_document_properties_header",type:"checkbox"});ee.addEventListener("change",function($e){var Ge=s.rb.getSelectedObject();if(Ge!==null){var Je=new e(Ge.getId(),"header",ee.checked,e.type.checkbox,s.rb);s.rb.executeCommand(Je)}}),U.append(ee);var se=t("span");se.append(t("span")),se.append(t("span")),se.append(t("a")),U.append(se),j.append(U),y.append(j),l.append(y);var fe=t("div",{id:"rbro_document_properties_header_settings"});d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("headerSize"),"rbro_document_properties_header_size"),j=t("div",{class:"rbroFormField"});var be=t("input",{id:"rbro_document_properties_header_size"});be.addEventListener("change",function($e){var Ge=s.rb.getSelectedObject();if(Ge!==null){var Je=new e(Ge.getId(),"headerSize",be.value,e.type.text,s.rb);s.rb.executeCommand(Je)}}),E(be),j.append(be),y.append(j),fe.append(y),d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("headerDisplay"),"rbro_document_properties_header_display"),j=t("div",{class:"rbroFormField"});var _e=t("select",{id:"rbro_document_properties_header_display"});_e.append(t("option",{value:"always"},this.rb.getLabel("headerFooterDisplayAlways"))),_e.append(t("option",{value:"not_on_first_page"},this.rb.getLabel("headerFooterDisplayNotOnFirstPage"))),_e.addEventListener("change",function($e){var Ge=s.rb.getSelectedObject();if(Ge!==null){var Je=new e(Ge.getId(),"headerDisplay",_e.value,e.type.select,s.rb);s.rb.executeCommand(Je)}}),j.append(_e),y.append(j),fe.append(y),l.append(fe),a.append(l);var Oe=t("div",{class:"rbroFormRowContainer"});d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("footer"),"rbro_document_properties_footer"),j=t("div",{class:"rbroFormField"});var Te=t("label",{class:"switch-light switch-material"}),Re=t("input",{id:"rbro_document_properties_footer",type:"checkbox"});Re.addEventListener("change",function($e){var Ge=s.rb.getSelectedObject();if(Ge!==null){var Je=new e(Ge.getId(),"footer",Re.checked,e.type.checkbox,s.rb);s.rb.executeCommand(Je)}}),Te.append(Re);var ze=t("span");ze.append(t("span")),ze.append(t("span")),ze.append(t("a")),Te.append(ze),j.append(Te),y.append(j),Oe.append(y);var Ne=t("div",{id:"rbro_document_properties_footer_settings"});d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("footerSize"),"rbro_document_properties_footer_size"),j=t("div",{class:"rbroFormField"});var Be=t("input",{id:"rbro_document_properties_footer_size"});Be.addEventListener("change",function($e){var Ge=s.rb.getSelectedObject();if(Ge!==null){var Je=new e(Ge.getId(),"footerSize",Be.value,e.type.text,s.rb);s.rb.executeCommand(Je)}}),E(Be),j.append(Be),y.append(j),Ne.append(y),d(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("footerDisplay"),"rbro_document_properties_footer_display"),j=t("div",{class:"rbroFormField"});var We=t("select",{id:"rbro_document_properties_footer_display"});We.append(t("option",{value:"always"},this.rb.getLabel("headerFooterDisplayAlways"))),We.append(t("option",{value:"not_on_first_page"},this.rb.getLabel("headerFooterDisplayNotOnFirstPage"))),We.addEventListener("change",function($e){var Ge=s.rb.getSelectedObject();if(Ge!==null){var Je=new e(Ge.getId(),"footerDisplay",We.value,e.type.select,s.rb);s.rb.executeCommand(Je)}}),j.append(We),y.append(j),Ne.append(y),Oe.append(Ne),a.append(Oe)}},{key:"updateDisplay",value:function(a){var s=this.rb.getSelectedObject();if(s!==null&&s instanceof Gt){for(var l in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(l)&&(a===null||l===a)){var y=this.propertyDescriptors[l],j=s.getValue(l);o(f(x.prototype),"setValue",this).call(this,y,j,!1)}x.updateVisibileRows(s,a)}}}],[{key:"updateVisibileRows",value:function(a,s){s!==null&&s!=="pageFormat"||(a.getValue("pageFormat")===Gt.pageFormat.userDefined?document.getElementById("rbro_document_properties_page_size_row").style.display="block":document.getElementById("rbro_document_properties_page_size_row").style.display="none"),s!==null&&s!=="header"||(a.getValue("header")?document.getElementById("rbro_document_properties_header_settings").style.display="block":document.getElementById("rbro_document_properties_header_settings").style.display="none"),s!==null&&s!=="footer"||(a.getValue("footer")?document.getElementById("rbro_document_properties_footer_settings").style.display="block":document.getElementById("rbro_document_properties_footer_settings").style.display="none")}}]),x}(Ar),xn=function(){function R(O,c){J(this,R),this.rootElement=O,this.rb=c}return T(R,[{key:"render",value:function(){var c=t("div",{id:"rbro_empty_detail_panel",class:"rbroEmptyDetailPanel rbroHidden"});c.append(t("div",{class:"rbroLogo"})),document.getElementById("rbro_detail_panel").append(c)}},{key:"destroy",value:function(){}},{key:"show",value:function(c){document.getElementById("rbro_empty_detail_panel").classList.remove("rbroHidden")}},{key:"hide",value:function(){document.getElementById("rbro_empty_detail_panel").classList.add("rbroHidden")}},{key:"isKeyEventDisabled",value:function(){return!1}},{key:"notifyEvent",value:function(c,v){}},{key:"updateErrors",value:function(){}}]),R}();function un(R,O){var c=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!c){if(Array.isArray(R)||(c=function(l,y){if(l){if(typeof l=="string")return cn(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?cn(l,y):void 0}}(R))||O&&R&&typeof R.length=="number"){c&&(R=c);var v=0,x=function(){};return{s:x,n:function(){return v>=R.length?{done:!0}:{done:!1,value:R[v++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,a=!0,s=!1;return{s:function(){c=c.call(R)},n:function(){var y=c.next();return a=y.done,y},e:function(y){s=!0,g=y},f:function(){try{a||c.return==null||c.return()}finally{if(s)throw g}}}}function cn(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}var Cn=function(R){b(x,R);var O,c,v=(O=x,c=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(g){return!1}}(),function(){var g,a=f(O);if(c){var s=f(this).constructor;g=Reflect.construct(a,arguments,s)}else g=a.apply(this,arguments);return p(this,g)});function x(g,a){var s;return J(this,x),(s=v.call(this,"rbro_parameter",N,g,a)).propertyDescriptors={name:{type:e.type.text,fieldId:"name"},type:{type:e.type.select,fieldId:"type"},arrayItemType:{type:e.type.select,fieldId:"array_item_type"},eval:{type:e.type.checkbox,fieldId:"eval"},nullable:{type:e.type.checkbox,fieldId:"nullable"},pattern:{type:e.type.text,fieldId:"pattern"},expression:{type:e.type.text,fieldId:"expression"},testData:{type:e.type.text,fieldId:"test_data"},testDataBoolean:{type:e.type.checkbox,fieldId:"test_data_boolean"},testDataImage:{type:e.type.file,fieldId:"test_data_image",rowId:"rbro_parameter_test_data_image_row",singleRowProperty:!1,rowProperties:["testDataImage","testDataImageFilename"]},testDataImageFilename:{type:e.type.filename,fieldId:"test_data_image_filename",rowId:"rbro_parameter_test_data_image_row",singleRowProperty:!1}},s.parameterTypeOptions=[],s}return T(x,[{key:"render",value:function(a){var s=this,l=t("div",{id:"rbro_parameter_panel",class:"rbroHidden"}),y=t("div",{id:"rbro_parameter_name_row",class:"rbroFormRow"});d(y,this.rb.getLabel("parameterName"),"rbro_parameter_name");var j=t("div",{class:"rbroFormField"}),U=t("input",{id:"rbro_parameter_name"});U.addEventListener("input",function(tt){var ve=s.rb.getSelectedObject();if(ve!==null){var qe=U.value;if(qe!==ve.getName()){var Ke=new re("Rename parameter"),gt=new e(ve.getId(),"name",qe,e.type.text,s.rb);Ke.addCommand(gt);for(var bt=[],lt=null,dt=ve.getParent();dt!==null;)lt=dt,bt.unshift(lt),dt=lt.getParent();ve.addUpdateTestDataCmdForChangedParameterName(qe,bt,Ke);var kt=null;if((kt=lt!==null?lt.getPanelItem():s.rb.getMainPanel().getParametersItem())!==null&&kt.getChildByNameExclude(ve.getName(),ve)===null&&kt.getChildByNameExclude(qe,ve)===null){var Et,mt=un(s.rb.getDocElements(!0));try{for(mt.s();!(Et=mt.n()).done;)Et.value.addCommandsForChangedParameterName(ve,qe,Ke)}catch(ut){mt.e(ut)}finally{mt.f()}var wt,ft=un(s.rb.getParameters());try{for(ft.s();!(wt=ft.n()).done;)wt.value.addCommandsForChangedParameterName(ve,qe,Ke)}catch(ut){ft.e(ut)}finally{ft.f()}}s.rb.executeCommand(Ke)}}}),j.append(U),j.append(t("div",{id:"rbro_parameter_name_error",class:"rbroErrorMessage"})),y.append(j),l.append(y),d(y=t("div",{id:"rbro_parameter_type_row",class:"rbroFormRow"}),this.rb.getLabel("parameterType"),"rbro_parameter_type"),j=t("div",{class:"rbroFormField"});var ee=t("select",{id:"rbro_parameter_type"});if(ee.addEventListener("change",function(tt){var ve=s.rb.getSelectedObject();if(ve!==null){var qe=new re("Set parameter type"),Ke=ee.value,gt=new e(ve.getId(),"type",Ke,e.type.select,s.rb);qe.addCommand(gt),ve.addCommandsForChangedParameterType(Ke,qe),s.rb.executeCommand(qe)}}),j.append(ee),j.append(t("div",{id:"rbro_parameter_type_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var se=t("div",{id:"rbro_parameter_type_nested_plus_info",class:"rbroInfo"});se.innerHTML=this.rb.getLabel("plusFeatureInfoNestedParameter"),j.append(se)}y.append(j),l.append(y),d(y=t("div",{id:"rbro_parameter_array_item_type_row",class:"rbroFormRow"}),this.rb.getLabel("parameterArrayItemType"),"rbro_parameter_array_item_type_row"),j=t("div",{class:"rbroFormField"});var fe=t("select",{id:"rbro_parameter_array_item_type"});fe.append(t("option",{value:"string"},this.rb.getLabel("parameterTypeString"))),fe.append(t("option",{value:"number"},this.rb.getLabel("parameterTypeNumber"))),fe.append(t("option",{value:"boolean"},this.rb.getLabel("parameterTypeBoolean"))),fe.append(t("option",{value:"date"},this.rb.getLabel("parameterTypeDate"))),fe.addEventListener("change",function(tt){var ve=s.rb.getSelectedObject();if(ve!==null){var qe=new e(ve.getId(),"arrayItemType",fe.value,e.type.select,s.rb);s.rb.executeCommand(qe)}}),j.append(fe),j.append(t("div",{id:"rbro_parameter_array_item_type_error",class:"rbroErrorMessage"})),y.append(j),l.append(y);var be={};this.rb.getProperty("adminMode")||(be.style="display: none");var _e=t("div",be);d(y=t("div",{id:"rbro_parameter_eval_row",class:"rbroFormRow"}),this.rb.getLabel("parameterEval"),"rbro_parameter_eval"),j=t("div",{class:"rbroFormField"});var Oe=t("input",{id:"rbro_parameter_eval",type:"checkbox"});Oe.addEventListener("change",function(tt){var ve=s.rb.getSelectedObject();if(ve!==null){var qe=new e(ve.getId(),"eval",Oe.checked,e.type.checkbox,s.rb);s.rb.executeCommand(qe)}}),j.append(Oe),y.append(j),_e.append(y),l.append(_e),d(y=t("div",{id:"rbro_parameter_nullable_row",class:"rbroFormRow"}),this.rb.getLabel("parameterNullable"),"rbro_parameter_nullable"),j=t("div",{class:"rbroFormField"});var Te=t("input",{id:"rbro_parameter_nullable",type:"checkbox"});Te.addEventListener("change",function(tt){var ve=s.rb.getSelectedObject();if(ve!==null){var qe=new e(ve.getId(),"nullable",Te.checked,e.type.checkbox,s.rb);s.rb.executeCommand(qe)}}),j.append(Te),y.append(j),l.append(y),d(y=t("div",{id:"rbro_parameter_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("parameterPattern"),"rbro_parameter_pattern"),j=t("div",{class:"rbroFormField"});var Re=t("div",{class:"rbroSplit rbroSelector"}),ze=t("input",{id:"rbro_parameter_pattern"});ze.addEventListener("input",function(tt){var ve=s.rb.getSelectedObject();if(ve!==null){var qe=new e(ve.getId(),"pattern",ze.value,e.type.text,s.rb);s.rb.executeCommand(qe)}}),Re.append(ze);var Ne=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"});Ne.addEventListener("click",function(tt){var ve=s.rb.getSelectedObject();if(ve!==null){var qe,Ke=ve.getValue("type");qe=(Ke===N.type.simpleArray?ve.getValue("arrayItemType"):Ke)===N.type.date?s.rb.getProperty("patternDates"):s.rb.getProperty("patternNumbers"),s.rb.getPopupWindow().show(qe,ve.getId(),"rbro_parameter_pattern","pattern",Lt.type.pattern)}}),Re.append(Ne),j.append(Re),j.append(t("div",{id:"rbro_parameter_pattern_error",class:"rbroErrorMessage"})),y.append(j),l.append(y),d(y=t("div",{id:"rbro_parameter_expression_row",class:"rbroFormRow"}),this.rb.getLabel("parameterExpression"),"rbro_parameter_expression"),j=t("div",{class:"rbroFormField"}),Re=t("div",{class:"rbroSplit rbroSelector"});var Be=t("textarea",{id:"rbro_parameter_expression",rows:"1"});Be.addEventListener("input",function(tt){var ve=s.rb.getSelectedObject();if(ve!==null){var qe=new e(ve.getId(),"expression",Be.value,e.type.text,s.rb);s.rb.executeCommand(qe)}}),At(Be),Re.append(Be),(Ne=t("div",{id:"rbro_parameter_expression_param_button",class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(tt){var ve,qe,Ke=s.rb.getSelectedObject();Ke!==null&&(Ke.getValue("type")===N.type.sum||Ke.getValue("type")===N.type.average?(ve=s.rb.getArrayFieldParameterItems([N.type.number]),qe=Lt.type.parameterSet):(ve=s.rb.getParameterItems(Ke),qe=Lt.type.parameterAppend),s.rb.getPopupWindow().show(ve,Ke.getId(),"rbro_parameter_expression","expression",qe))}),Re.append(Ne),j.append(Re),j.append(t("div",{id:"rbro_parameter_expression_error",class:"rbroErrorMessage"})),y.append(j),l.append(y);var We=t("div",{id:"rbro_parameter_test_data_container"});d(y=t("div",{id:"rbro_parameter_test_data_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data"),j=t("div",{class:"rbroFormField"});var $e=t("input",{id:"rbro_parameter_test_data"});$e.addEventListener("change",function(tt){var ve=s.rb.getSelectedObject();if(ve!==null){var qe=new e(ve.getId(),"testData",$e.value,e.type.text,s.rb);s.rb.executeCommand(qe)}}),j.append($e),j.append(t("div",{id:"rbro_parameter_test_data_error",class:"rbroErrorMessage"})),y.append(j),We.append(y),d(y=t("div",{id:"rbro_parameter_edit_test_data_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_edit_test_data_row"),j=t("div",{class:"rbroFormField"});var Ge=t("button",{id:"rbro_parameter_edit_test_data",class:"rbroButton rbroActionButton"});Ge.append(t("span",{},this.rb.getLabel("parameterEditTestData"))),Ge.append(t("span",{class:"rbroIcon-edit"})),Ge.addEventListener("click",function(tt){var ve=s.rb.getSelectedObject();ve!==null&&(ve.getParameterFields().length>0?s.rb.getPopupWindow().show(null,ve.getId(),"","testData",Lt.type.testData,null,ve):alert(s.rb.getLabel("parameterEditTestDataNoFields")))}),j.append(Ge),j.append(t("div",{id:"rbro_parameter_edit_test_data_error",class:"rbroErrorMessage"})),y.append(j),We.append(y),d(y=t("div",{id:"rbro_parameter_test_data_boolean_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_boolean"),j=t("div",{class:"rbroFormField"});var Je=t("input",{id:"rbro_parameter_test_data_boolean",type:"checkbox"});Je.addEventListener("change",function(tt){var ve=Je.checked,qe=rb.getSelectedObject();if(qe!==null){var Ke=new e(qe.getId(),"testDataBoolean",ve,e.type.checkbox,s.rb);s.rb.executeCommand(Ke)}}),j.append(Je),y.append(j),We.append(y),d(y=t("div",{id:"rbro_parameter_test_data_image_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_image"),j=t("div",{class:"rbroFormField"});var st=t("input",{id:"rbro_parameter_test_data_image",type:"file"});st.addEventListener("change",function(tt){var ve=tt.target.files;if(ve&&ve[0]){var qe=new FileReader,Ke=s.rb,gt=ve[0].name;qe.onload=function(bt){var lt=new re("Load image",Ke),dt=Ke.getSelectedObject();dt!==null&&(lt.addSelection(dt.getId()),lt.addCommand(new e(dt.getId(),"testDataImage",bt.target.result,e.type.file,Ke)),lt.addCommand(new e(dt.getId(),"testDataImageFilename",gt,e.type.filename,Ke))),lt.isEmpty()||Ke.executeCommand(lt)},qe.onerror=function(bt){alert(Ke.getLabel("docElementLoadImageErrorMsg"))},qe.readAsDataURL(ve[0])}}),j.append(st);var at=t("div",{id:"rbro_parameter_test_data_image_filename_container",class:"rbroSplit rbroHidden"});at.append(t("div",{id:"rbro_parameter_test_data_image_filename"}));var it=t("div",{id:"rbro_parameter_test_data_image_filename_clear",class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});it.addEventListener("click",function(tt){st.value="";var ve=new re("Clear image",s.rb),qe=rb.getSelectedObject();qe!==null&&(ve.addSelection(qe.getId()),ve.addCommand(new e(qe.getId(),"testDataImage","",e.type.file,s.rb)),ve.addCommand(new e(qe.getId(),"testDataImageFilename","",e.type.filename,s.rb))),ve.isEmpty()||s.rb.executeCommand(ve)}),at.append(it),j.append(at),j.append(t("div",{id:"rbro_parameter_test_data_image_error",class:"rbroErrorMessage"})),j.append(t("div",{class:"rbroInfo"},this.rb.getLabel("parameterTestDataImageInfo"))),y.append(j),We.append(y),l.append(We),document.getElementById("rbro_detail_panel").append(l)}},{key:"updateVisibileRows",value:function(a,s){var l=a.getValue("type"),y=l===N.type.simpleArray?a.getValue("arrayItemType"):l,j=a.getValue("showOnlyNameType"),U=null;if(a.getPanelItem()!==null&&a.getPanelItem().getParent().getData()instanceof N&&(U=a.getPanelItem().getParent().getData()),s===null){var ee=a.getValue("editable");document.getElementById("rbro_parameter_name").disabled=!ee,document.getElementById("rbro_parameter_type").disabled=!ee,document.getElementById("rbro_parameter_eval").disabled=!ee,document.getElementById("rbro_parameter_nullable").disabled=!ee,document.getElementById("rbro_parameter_pattern").disabled=!ee,document.getElementById("rbro_parameter_expression").disabled=!ee,ee?(document.querySelector("#rbro_parameter_name_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_type_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_eval_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_nullable_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_pattern_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_expression_row label").classList.remove("rbroDisabled")):(document.querySelector("#rbro_parameter_name_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_type_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_eval_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_nullable_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_pattern_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_expression_row label").classList.add("rbroDisabled"))}if(s!==null&&s!=="type"||(l===N.type.simpleArray?document.getElementById("rbro_parameter_array_item_type_row").removeAttribute("style"):document.getElementById("rbro_parameter_array_item_type_row").style.display="none",l===N.type.string||l===N.type.number||l===N.type.boolean||l===N.type.date||l===N.type.array||l===N.type.simpleArray||l===N.type.map?document.getElementById("rbro_parameter_nullable_row").removeAttribute("style"):document.getElementById("rbro_parameter_nullable_row").style.display="none"),s!==null&&s!=="type"&&s!=="arrayItemType"||(y!==N.type.number&&y!==N.type.date&&y!==N.type.sum&&y!==N.type.average||j?document.getElementById("rbro_parameter_pattern_row").style.display="none":document.getElementById("rbro_parameter_pattern_row").removeAttribute("style")),s!==null&&s!=="type"&&s!=="eval"||(l===N.type.sum||l===N.type.average||j?(document.getElementById("rbro_parameter_eval_row").style.display="none",document.getElementById("rbro_parameter_test_data_row").style.display="none",document.getElementById("rbro_parameter_edit_test_data_row").style.display="none"):(l===N.type.image||l===N.type.array||l===N.type.simpleArray||l===N.type.map?document.getElementById("rbro_parameter_eval_row").style.display="none":document.getElementById("rbro_parameter_eval_row").removeAttribute("style"),U!==null||a.getValue("eval")&&(l===N.type.string||l===N.type.number||l===N.type.boolean||l===N.type.date)?document.getElementById("rbro_parameter_test_data_container").style.display="none":document.getElementById("rbro_parameter_test_data_container").removeAttribute("style"),l===N.type.array||l===N.type.simpleArray||l===N.type.map?document.getElementById("rbro_parameter_edit_test_data_row").removeAttribute("style"):document.getElementById("rbro_parameter_edit_test_data_row").style.display="none",l===N.type.string||l===N.type.number||l===N.type.date?document.getElementById("rbro_parameter_test_data_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_row").style.display="none",l===N.type.boolean?document.getElementById("rbro_parameter_test_data_boolean_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_boolean_row").style.display="none",l===N.type.image?document.getElementById("rbro_parameter_test_data_image_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_image_row").style.display="none"),this.rb.getProperty("showPlusFeaturesInfo")&&(U===null||l!==N.type.map&&l!==N.type.array?document.getElementById("rbro_parameter_type_nested_plus_info").style.display="none":document.getElementById("rbro_parameter_type_nested_plus_info").removeAttribute("style")),(!a.getValue("eval")||l!==N.type.string&&l!==N.type.number&&l!==N.type.boolean&&l!==N.type.date)&&l!==N.type.sum&&l!==N.type.average||j?document.getElementById("rbro_parameter_expression_row").style.display="none":document.getElementById("rbro_parameter_expression_row").removeAttribute("style")),s===null){var se=[],fe=U!==null&&U.getValue("type")===N.type.array;se.push({value:"string",label:this.rb.getLabel("parameterTypeString")}),se.push({value:"number",label:this.rb.getLabel("parameterTypeNumber")}),se.push({value:"boolean",label:this.rb.getLabel("parameterTypeBoolean")}),se.push({value:"date",label:this.rb.getLabel("parameterTypeDate")}),se.push({value:"image",label:this.rb.getLabel("parameterTypeImage")}),(U===null||this.rb.getProperty("showPlusFeatures"))&&se.push({value:"array",label:this.rb.getLabel("parameterTypeArray")}),se.push({value:"simple_array",label:this.rb.getLabel("parameterTypeSimpleArray")}),(U===null||this.rb.getProperty("showPlusFeatures"))&&se.push({value:"map",label:this.rb.getLabel("parameterTypeMap")}),fe||(se.push({value:"sum",label:this.rb.getLabel("parameterTypeSum")}),se.push({value:"average",label:this.rb.getLabel("parameterTypeAverage")}));var be=!1;if(se.length!==this.parameterTypeOptions.length)be=!0;else for(var _e=0;_e<se.length;_e++)if(se[_e].value!==this.parameterTypeOptions[_e].value){be=!0;break}if(be){var Oe=document.getElementById("rbro_parameter_type");u(Oe);for(var Te=0;Te<se.length;Te++){var Re=se[Te];Oe.append(t("option",{value:Re.value},Re.label))}this.parameterTypeOptions=se}}}},{key:"updateDisplay",value:function(a){var s=this.rb.getSelectedObject();if(s!==null&&s instanceof N){for(var l in this.updateVisibileRows(s,a),this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(l)&&(a===null||l===a)){var y=this.propertyDescriptors[l],j=s.getValue(l);o(f(x.prototype),"setValue",this).call(this,y,j,!1)}a!==null&&a!=="type"||(s.getValue("type")===N.type.date?document.getElementById("rbro_parameter_test_data").setAttribute("placeholder",this.rb.getLabel("parameterTestDataDatePattern")):document.getElementById("rbro_parameter_test_data").setAttribute("placeholder","")),x.updateAutosizeInputs(a)}}}],[{key:"updateAutosizeInputs",value:function(a){a!==null&&a!=="expression"||At.update(document.getElementById("rbro_parameter_expression"))}}]),x}(Ar);function dn(R,O){var c=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!c){if(Array.isArray(R)||(c=function(l,y){if(l){if(typeof l=="string")return pn(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?pn(l,y):void 0}}(R))||O&&R&&typeof R.length=="number"){c&&(R=c);var v=0,x=function(){};return{s:x,n:function(){return v>=R.length?{done:!0}:{done:!1,value:R[v++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,a=!0,s=!1;return{s:function(){c=c.call(R)},n:function(){var y=c.next();return a=y.done,y},e:function(y){s=!0,g=y},f:function(){try{a||c.return==null||c.return()}finally{if(s)throw g}}}}function pn(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}var In=function(){function R(O,c,v,x,g,a,s){J(this,R),this.rootElement=O,this.rb=s,this.headerItem=new Ce("band",null,c,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("header")},s),this.documentItem=new Ce("band",null,v,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1},s),this.footerItem=new Ce("band",null,x,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("footer")},s),this.parametersItem=new Ce("parameter",null,g,{hasChildren:!0,showAdd:s.getProperty("adminMode"),showDelete:!1,hasDetails:!1},s),this.stylesItem=new Ce("style",null,a,{hasChildren:!0,showAdd:!0,showDelete:!1,hasDetails:!1},s),this.documentPropertiesItem=new Ce("documentProperties",null,s.getDocumentProperties(),{showDelete:!1,hasDetails:!0},s),this.items=[this.headerItem,this.documentItem,this.footerItem,this.parametersItem,this.stylesItem,this.documentPropertiesItem],this.dragMainPanelSizer=!1,this.dragMainPanelSizerStartX=0,this.mainPanelWidth=230,this.mainPanelSizerWidth=3,c.setPanelItem(this.headerItem),v.setPanelItem(this.documentItem),x.setPanelItem(this.footerItem),g.setPanelItem(this.parametersItem),a.setPanelItem(this.stylesItem)}return T(R,[{key:"getHeaderItem",value:function(){return this.headerItem}},{key:"getDocumentItem",value:function(){return this.documentItem}},{key:"getFooterItem",value:function(){return this.footerItem}},{key:"getParametersItem",value:function(){return this.parametersItem}},{key:"getStylesItem",value:function(){return this.stylesItem}},{key:"getContainerByItem",value:function(c){for(;c!==null;){if(c.getData()instanceof r)return c.getData();c=c.getParent()}return null}},{key:"getDocumentPropertiesItem",value:function(){return this.documentPropertiesItem}},{key:"render",value:function(){var c=this,v=document.getElementById("rbro_main_panel_list");this.appendChildren(v,this.items),document.getElementById("rbro_main_panel_sizer").addEventListener("mousedown",function(x){c.dragMainPanelSizer=!0,c.dragMainPanelSizerStartX=x.pageX}),this.updateMainPanelWidth(this.mainPanelWidth)}},{key:"appendChildren",value:function(c,v){var x,g=dn(v);try{for(g.s();!(x=g.n()).done;){var a=x.value;c.append(a.getElement());var s=a.getChildren();s.length>0&&this.appendChildren(c,s)}}catch(l){g.e(l)}finally{g.f()}}},{key:"processMouseMove",value:function(c){if(this.dragMainPanelSizer){var v=this.mainPanelWidth+(c.pageX-this.dragMainPanelSizerStartX);return v=this.checkMainPanelWidth(v),this.updateMainPanelWidth(v),!0}return!1}},{key:"mouseUp",value:function(c){this.dragMainPanelSizer&&(this.dragMainPanelSizer=!1,this.mainPanelWidth=this.mainPanelWidth+(c.pageX-this.dragMainPanelSizerStartX),this.mainPanelWidth=this.checkMainPanelWidth(this.mainPanelWidth),this.updateMainPanelWidth(this.mainPanelWidth))}},{key:"getTotalPanelWidth",value:function(){var c=this.mainPanelWidth+this.mainPanelSizerWidth+390;return this.rb.getProperty("menuSidebar")&&(c+=92),c}},{key:"updateMainPanelWidth",value:function(c){document.getElementById("rbro_main_panel").style.width=c+"px",document.getElementById("rbro_main_panel_sizer").style.left=c+"px",document.getElementById("rbro_detail_panel").style.left=c+this.mainPanelSizerWidth+"px";var v=c+this.mainPanelSizerWidth+390;this.rb.getProperty("menuSidebar")&&(v+=92,document.getElementById("reportbro").querySelector(".rbroLogo").style.width=c+"px"),document.getElementById("rbro_document_panel").style.width="calc(100% - ".concat(v,"px)")}},{key:"checkMainPanelWidth",value:function(c){return c<150?150:c>500?500:c}},{key:"showHeader",value:function(){this.headerItem.show()}},{key:"hideHeader",value:function(){this.headerItem.hide()}},{key:"showFooter",value:function(){this.footerItem.show()}},{key:"hideFooter",value:function(){this.footerItem.hide()}},{key:"clearAll",value:function(){var c,v=dn(this.items);try{for(v.s();!(c=v.n()).done;)c.value.clear()}catch(x){v.e(x)}finally{v.f()}}}]),R}(),kn=function(){function R(O,c){J(this,R),this.rootElement=O,this.rb=c}return T(R,[{key:"render",value:function(){var c,v=this,x=this.rb.getProperty("menuShowButtonLabels")?"":"rbroHidden",g=document.getElementById("rbro_menu_panel"),a=t("div",{class:"rbroToolButtonContainer"});(c=t("button",{id:"rbro_menu_save",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuSaveTip")})).append(t("span",{class:"rbroIcon-save"})),c.append(t("span",{class:x},this.rb.getLabel("menuSave"))),c.addEventListener("click",function(ve){v.rb.save()}),this.rb.getProperty("saveCallback")||this.rb.getProperty("localStorageReportKey")||(c.style.display="none"),a.append(c),this.rb.getProperty("menuShowDebug")&&((c=t("button",{id:"rbro_menu_log_report",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuLogReportTip")})).append(t("span",{class:"rbroIcon-console"})),c.append(t("span",{class:"rbroHidden"},this.rb.getLabel("menuLogReport"))),c.addEventListener("click",function(ve){console.log(JSON.stringify(v.rb.getReport()))}),a.append(c),(c=t("button",{id:"rbro_menu_insert_report",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuInsertReportTip")})).append(t("span",{class:"rbroIcon-insert-report"})),c.append(t("span",{class:"rbroHidden"},this.rb.getLabel("menuInsertReport"))),c.addEventListener("click",function(ve){var qe=prompt("Paste report template here to load report");if(qe)try{var Ke=JSON.parse(qe);h(Ke.docElements)==="object"&&h(Ke.parameters)==="object"&&h(Ke.styles)==="object"&&h(Ke.documentProperties)==="object"?(v.rb.load(Ke),v.rb.setModified(!0)):alert("Invalid report template data")}catch(gt){alert("Invalid report template data")}}),a.append(c)),(c=t("button",{id:"rbro_menu_undo",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuUndoTip")})).append(t("span",{class:"rbroIcon-undo"})),c.append(t("span",{class:x},this.rb.getLabel("menuUndo"))),c.addEventListener("click",function(ve){v.rb.undoCommand()}),a.append(c),(c=t("button",{id:"rbro_menu_redo",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuRedoTip")})).append(t("span",{class:"rbroIcon-redo"})),c.append(t("span",{class:x},this.rb.getLabel("menuRedo"))),c.addEventListener("click",function(ve){v.rb.redoCommand()}),a.append(c),(c=t("button",{id:"rbro_menu_preview",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuPreviewTip")})).append(t("span",{class:"rbroIcon-play"})),c.append(t("span",{class:x},this.rb.getLabel("menuPreview"))),c.addEventListener("click",function(ve){v.rb.preview()}),a.append(c),g.append(a);var s,l=t("div",{class:"rbroElementButtonContainer"}),y=t("div",{id:"rbo_menu_elements",class:"rbroElementButtons"});(s=t("div",{id:"rbro_menu_element_text",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementText")})).append(t("span",{class:"rbroIcon-text"})),s.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",v.rb.startBrowserDrag("docElement",$.type.text,""),ve.stopPropagation()}),s.addEventListener("touchstart",function(ve){v.rb.startBrowserDrag("docElement",$.type.text,""),ve.preventDefault()}),s.addEventListener("touchmove",function(ve){v.rb.getDocument().processDragover(ve)}),s.addEventListener("touchend",function(ve){v.rb.getDocument().processDrop(ve)}),y.append(s),(s=t("div",{id:"rbro_menu_element_line",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementLine")})).append(t("span",{class:"rbroIcon-line"})),s.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",v.rb.startBrowserDrag("docElement",$.type.line,""),ve.stopPropagation()}),s.addEventListener("touchstart",function(ve){v.rb.startBrowserDrag("docElement",$.type.line,""),ve.preventDefault()}),s.addEventListener("touchmove",function(ve){v.rb.getDocument().processDragover(ve)}),s.addEventListener("touchend",function(ve){v.rb.getDocument().processDrop(ve)}),y.append(s),(s=t("div",{id:"rbro_menu_element_image",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementImage")})).append(t("span",{class:"rbroIcon-image"})),s.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",v.rb.startBrowserDrag("docElement",$.type.image,""),ve.stopPropagation()}),s.addEventListener("touchstart",function(ve){v.rb.startBrowserDrag("docElement",$.type.image,""),ve.preventDefault()}),s.addEventListener("touchmove",function(ve){v.rb.getDocument().processDragover(ve)}),s.addEventListener("touchend",function(ve){v.rb.getDocument().processDrop(ve)}),y.append(s),(s=t("div",{id:"rbro_menu_element_bar_code",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementBarCode")})).append(t("span",{class:"rbroIcon-barcode"})),s.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",v.rb.startBrowserDrag("docElement",$.type.barCode,""),ve.stopPropagation()}),s.addEventListener("touchstart",function(ve){v.rb.startBrowserDrag("docElement",$.type.barCode,""),ve.preventDefault()}),s.addEventListener("touchmove",function(ve){v.rb.getDocument().processDragover(ve)}),s.addEventListener("touchend",function(ve){v.rb.getDocument().processDrop(ve)}),y.append(s),(s=t("div",{id:"rbro_menu_element_table",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementTable")})).append(t("span",{class:"rbroIcon-table"})),s.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",v.rb.startBrowserDrag("docElement",$.type.table,""),ve.stopPropagation()}),s.addEventListener("touchstart",function(ve){v.rb.startBrowserDrag("docElement",$.type.table,""),ve.preventDefault()}),s.addEventListener("touchmove",function(ve){v.rb.getDocument().processDragover(ve)}),s.addEventListener("touchend",function(ve){v.rb.getDocument().processDrop(ve)}),y.append(s),(s=t("div",{id:"rbro_menu_element_frame",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementFrame")})).append(t("span",{class:"rbroIcon-frame"})),s.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",v.rb.startBrowserDrag("docElement",$.type.frame,""),ve.stopPropagation()}),s.addEventListener("touchstart",function(ve){v.rb.startBrowserDrag("docElement",$.type.frame,""),ve.preventDefault()}),s.addEventListener("touchmove",function(ve){v.rb.getDocument().processDragover(ve)}),s.addEventListener("touchend",function(ve){v.rb.getDocument().processDrop(ve)}),y.append(s),(s=t("div",{id:"rbro_menu_element_section",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementSection")})).append(t("span",{class:"rbroIcon-section"})),s.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",v.rb.startBrowserDrag("docElement",$.type.section,""),ve.stopPropagation()}),s.addEventListener("touchstart",function(ve){v.rb.startBrowserDrag("docElement",$.type.section,""),ve.preventDefault()}),s.addEventListener("touchmove",function(ve){v.rb.getDocument().processDragover(ve)}),s.addEventListener("touchend",function(ve){v.rb.getDocument().processDrop(ve)}),y.append(s),(s=t("div",{id:"rbro_menu_element_page_break",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementPageBreak")})).append(t("span",{class:"rbroIcon-page-break"})),s.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",v.rb.startBrowserDrag("docElement",$.type.pageBreak,""),ve.stopPropagation()}),s.addEventListener("touchstart",function(ve){v.rb.startBrowserDrag("docElement",$.type.pageBreak,""),ve.preventDefault()}),s.addEventListener("touchmove",function(ve){v.rb.getDocument().processDragover(ve)}),s.addEventListener("touchend",function(ve){v.rb.getDocument().processDrop(ve)}),y.append(s),l.append(y);var j=t("div",{class:"rbroActionButtons"}),U=t("div",{id:"rbro_menu_align",style:"display: none;"}),ee=t("button",{id:"rbro_menu_align_left",class:"rbroButton rbroActionButton rbroIcon-align-left",type:"button",title:this.rb.getLabel("menuAlignLeft")});ee.addEventListener("click",function(ve){v.rb.alignSelections(ne.alignment.left)}),U.append(ee);var se=t("button",{id:"rbro_menu_align_center",class:"rbroButton rbroActionButton rbroIcon-align-center",type:"button",title:this.rb.getLabel("menuAlignCenter")});se.addEventListener("click",function(ve){v.rb.alignSelections(ne.alignment.center)}),U.append(se);var fe=t("button",{id:"rbro_menu_align_right",class:"rbroButton rbroActionButton rbroIcon-align-right",type:"button",title:this.rb.getLabel("menuAlignRight")});fe.addEventListener("click",function(ve){v.rb.alignSelections(ne.alignment.right)}),U.append(fe),j.append(U);var be=t("div",{id:"rbro_menu_valign",style:"display: none;"}),_e=t("button",{id:"rbro_menu_align_top",class:"rbroButton rbroActionButton rbroIcon-align-top",type:"button",title:this.rb.getLabel("menuAlignTop")});_e.addEventListener("click",function(ve){v.rb.alignSelections(ne.alignment.top)}),be.append(_e);var Oe=t("button",{id:"rbro_menu_align_middle",class:"rbroButton rbroActionButton rbroIcon-align-middle",type:"button",title:this.rb.getLabel("menuAlignMiddle")});Oe.addEventListener("click",function(ve){v.rb.alignSelections(ne.alignment.middle)}),be.append(Oe);var Te=t("button",{id:"rbro_menu_align_bottom",class:"rbroButton rbroActionButton rbroIcon-align-bottom",type:"button",title:this.rb.getLabel("menuAlignBottom")});Te.addEventListener("click",function(ve){v.rb.alignSelections(ne.alignment.bottom)}),be.append(Te),j.append(be);var Re=t("div",{id:"rbro_menu_column_actions",style:"display: none;"}),ze=t("button",{id:"rbro_menu_column_add_left",class:"rbroButton rbroActionButton rbroIcon-column-add-left",type:"button",title:this.rb.getLabel("menuColumnAddLeft")});ze.addEventListener("click",function(ve){var qe=v.rb.getSelectedObject();qe instanceof Vt&&qe.insertColumn(!0)}),Re.append(ze);var Ne=t("button",{id:"rbro_menu_column_add_right",class:"rbroButton rbroActionButton rbroIcon-column-add-right",type:"button",title:this.rb.getLabel("menuColumnAddRight")});Ne.addEventListener("click",function(ve){var qe=v.rb.getSelectedObject();qe instanceof Vt&&qe.insertColumn(!1)}),Re.append(Ne);var Be=t("button",{id:"rbro_menu_column_delete",class:"rbroButton rbroActionButton rbroIcon-column-delete",type:"button",title:this.rb.getLabel("menuColumnDelete")});Be.addEventListener("click",function(ve){var qe=v.rb.getSelectedObject();qe instanceof Vt&&qe.deleteColumn()}),Re.append(Be),j.append(Re);var We=t("div",{id:"rbro_menu_row_actions",style:"display: none;"}),$e=t("button",{id:"rbro_menu_row_add_above",class:"rbroButton rbroActionButton rbroIcon-row-add-above",type:"button",title:this.rb.getLabel("menuRowAddAbove")});$e.addEventListener("click",function(ve){var qe=v.rb.getSelectedObject();qe instanceof Vt&&qe.getParent()!==null&&qe.getParent().insertRow(!0)}),We.append($e);var Ge=t("button",{id:"rbro_menu_row_add_below",class:"rbroButton rbroActionButton rbroIcon-row-add-below",type:"button",title:this.rb.getLabel("menuRowAddBelow")});Ge.addEventListener("click",function(ve){var qe=v.rb.getSelectedObject();qe instanceof Vt&&qe.getParent()!==null&&qe.getParent().insertRow(!1)}),We.append(Ge);var Je=t("button",{id:"rbro_menu_row_delete",class:"rbroButton rbroActionButton rbroIcon-row-delete",type:"button",title:this.rb.getLabel("menuRowDelete")});Je.addEventListener("click",function(ve){var qe=v.rb.getSelectedObject();qe instanceof Vt&&qe.getParent()!==null&&qe.getParent().deleteRow()}),We.append(Je),j.append(We);var st=t("div",{id:"rbro_menu_zoom",class:"rbroZoom"});st.append(t("span",{id:"rbro_menu_zoom_level",class:"rbroZoomLevel"}));var at=t("button",{id:"rbro_menu_zoom_in",class:"rbroButton rbroRoundButton rbroZoomButton rbroIcon-plus"+(this.rb.getDocument().isZoomInPossible()?"":" rbroButtonInactive"),type:"button",title:this.rb.getLabel("menuZoomIn")});at.addEventListener("click",function(ve){v.rb.getDocument().zoomIn()}),st.append(at);var it=t("button",{id:"rbro_menu_zoom_out",class:"rbroButton rbroRoundButton rbroZoomButton rbroIcon-minus"+(this.rb.getDocument().isZoomOutPossible()?"":" rbroButtonInactive"),type:"button",title:this.rb.getLabel("menuZoomOut")});it.addEventListener("click",function(ve){v.rb.getDocument().zoomOut()}),st.append(it),j.append(st);var tt=t("button",{id:"rbro_menu_toggle_grid",class:"rbroButton rbroGridButton rbroActionButton rbroIcon-grid"+(this.rb.getProperty("showGrid")?" rbroButtonActive":""),type:"button",title:this.rb.getLabel("menuToggleGrid")});tt.addEventListener("click",function(ve){tt.classList.toggle("rbroButtonActive"),v.rb.getDocument().toggleGrid()}),j.append(tt),l.append(j),g.append(l)}},{key:"updateZoomButtons",value:function(c,v){c?document.getElementById("rbro_menu_zoom_in").removeAttribute("disabled"):document.getElementById("rbro_menu_zoom_in").setAttribute("disabled","disabled"),v?document.getElementById("rbro_menu_zoom_out").removeAttribute("disabled"):document.getElementById("rbro_menu_zoom_out").setAttribute("disabled","disabled")}}]),R}();function nt(R,O){var c=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!c){if(Array.isArray(R)||(c=function(l,y){if(l){if(typeof l=="string")return hn(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?hn(l,y):void 0}}(R))||O&&R&&typeof R.length=="number"){c&&(R=c);var v=0,x=function(){};return{s:x,n:function(){return v>=R.length?{done:!0}:{done:!1,value:R[v++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var g,a=!0,s=!1;return{s:function(){c=c.call(R)},n:function(){var y=c.next();return a=y.done,y},e:function(y){s=!0,g=y},f:function(){try{a||c.return==null||c.return()}finally{if(s)throw g}}}}function hn(R,O){(O==null||O>R.length)&&(O=R.length);for(var c=0,v=new Array(O);c<O;c++)v[c]=R[c];return v}var Sn=function(){function R(O,c){var v=this;if(J(this,R),this.element=O,this.nextId=1,this.locale=gn[c&&c.localeKey||"en_us"],this.properties={additionalFonts:[],adminMode:!0,cmdExecutedCallback:null,colors:["#000000","#444444","#666666","#999999","#cccccc","#eeeeee","#f3f3f3","#ffffff","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#0000ff","#9900ff","#ff00ff","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#990000","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47","#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"],defaultFont:ne.font.helvetica,enableSpreadsheet:!0,fontSizes:[4,5,6,7,8,9,10,11,12,13,14,15,16,18,20,22,24,26,28,32,36,40,44,48,54,60,66,72,80],fonts:[{name:"Courier",value:ne.font.courier},{name:"Helvetica",value:ne.font.helvetica},{name:"Times New Roman",value:ne.font.times}],highlightUnusedParameters:!1,localStorageReportKey:null,menuShowButtonLabels:!1,menuShowDebug:!1,menuSidebar:!1,patternAdditionalDates:[],patternAdditionalNumbers:[],patternCurrencySymbol:"$",patternDates:[{name:"d.M.yyyy",description:this.locale.patternDate1},{name:"d.M.yy, H:mm",description:this.locale.patternDate2},{name:"d/MMM/yyyy",description:this.locale.patternDate3},{name:"MM/dd/yyyy",description:this.locale.patternDate4}],patternLocale:"en",patternNumberGroupSymbol:"",patternNumbers:[{name:"#,##0",description:this.locale.patternNumber1},{name:"0.000",description:this.locale.patternNumber2},{name:"0.00##",description:this.locale.patternNumber3},{name:"#,##0.00",description:this.locale.patternNumber4},{name:"$ #,##0.00",description:this.locale.patternNumber5}],reportServerBasicAuth:null,reportServerHeaders:{},reportServerTimeout:2e4,reportServerUrl:"https://www.reportbro.com/report/run",reportServerUrlCrossDomain:!1,requestCallback:null,saveCallback:null,selectCallback:null,showGrid:!0,showPlusFeatures:!0,showPlusFeaturesInfo:!0,theme:""},c){for(var x in c)this.properties.hasOwnProperty(x)&&(this.properties[x]=c[x]);Object.assign(this.locale,c.locale||{})}this.properties.additionalFonts.length>0&&(this.properties.fonts=this.properties.fonts.concat(this.properties.additionalFonts));var g,a=!1,s=nt(this.properties.fonts);try{for(s.s();!(g=s.n()).done;){var l=g.value;if(this.properties.defaultFont===l.value){a=!0;break}}}catch(y){s.e(y)}finally{s.f()}if(a||(this.properties.fonts.length>0?this.properties.defaultFont=this.properties.fonts[0].value:this.properties.defaultFont=""),this.properties.patternAdditionalDates.length>0&&(this.properties.patternDates=this.properties.patternDates.concat(this.properties.patternAdditionalDates)),this.properties.patternAdditionalNumbers.length>0&&(this.properties.patternNumbers=this.properties.patternNumbers.concat(this.properties.patternAdditionalNumbers)),!this.validateProperties(this.properties))throw"Invalid properties for ReportBro instance, check console error log for further details";this.document=new Jr(O,this.properties.showGrid,this),this.popupWindow=new Lt(O,this),this.docElements=[],this.headerBand=new H(H.bandType.header,!1,"","",this),this.contentBand=new H(H.bandType.content,!1,"","",this),this.footerBand=new H(H.bandType.footer,!1,"","",this),this.parameterContainer=new r("0_parameters",this.getLabel("parameters"),this),this.styleContainer=new r("0_styles",this.getLabel("styles"),this),this.documentProperties=new Gt(this),this.clipboardElements=[],this.mainPanel=new In(O,this.headerBand,this.contentBand,this.footerBand,this.parameterContainer,this.styleContainer,this),this.menuPanel=new kn(O,this),this.activeDetailPanel="none",this.detailPanels={none:new xn(O,this),docElement:new wn(O,this),parameter:new Cn(O,this),style:new Ir(O,this),documentProperties:new En(O,this)},this.commandStack=[],this.lastCommandIndex=-1,this.modified=!1,this.selectionSinceLastCommand=!1,this.objectMap={},this.containers=[this.headerBand,this.contentBand,this.footerBand],this.selections=[],this.reportKey=null,this.browserDragType="",this.browserDragId="",this.documentProperties.setPanelItem(this.mainPanel.getDocumentPropertiesItem()),this.initObjectMap(),this.keydownEventListener=function(y){if(!v.detailPanels[v.activeDetailPanel].isKeyEventDisabled()){if(y.metaKey||y.ctrlKey)switch(y.which){case 67:if(!(y.target instanceof HTMLInputElement||y.target instanceof HTMLTextAreaElement)){var j,U,ee,se=!1,fe={},be=nt(v.selections);try{for(be.s();!(ee=be.n()).done;){var _e=ee.value,Oe=v.getDataObject(_e);if((Oe instanceof $&&!(Oe instanceof Vt)||Oe instanceof N&&!Oe.showOnlyNameType||Oe instanceof ne)&&(se||(v.clipboardElements=[],se=!0),!(Oe.getId()in fe)))if(fe[Oe.getId()]=!0,j=Oe.toJS(),v.clipboardElements.push(j),Oe instanceof $){if(j.baseClass="DocElement",Oe instanceof et){var Te=[];Oe.appendContainerChildren(Te);for(var Re=0,ze=Te;Re<ze.length;Re++){var Ne=ze[Re];if(Ne.getId()in fe){for(U=0;U<v.clipboardElements.length;U++)if(Ne.getId()===v.clipboardElements[U].id){v.clipboardElements.splice(U,1);break}}else fe[Ne.getId()]=!0;(j=Ne.toJS()).baseClass="DocElement",v.clipboardElements.push(j)}}}else Oe instanceof N?j.baseClass="Parameter":Oe instanceof ne&&(j.baseClass="Style")}}catch(St){be.e(St)}finally{be.f()}y.preventDefault()}break;case 86:if(!(y.target instanceof HTMLInputElement||y.target instanceof HTMLTextAreaElement)){var Be,We,$e=new re("Paste from clipboard",v),Ge={},Je=[],st=nt(v.clipboardElements);try{for(st.s();!(We=st.n()).done;){var at=We.value,it=Object.assign({},at);if(it.id=v.getUniqueId(),Je.push(it),it.baseClass==="DocElement"){if(it.linkedContainerId){var tt=v.getUniqueId();Ge[it.linkedContainerId]=tt,it.linkedContainerId=tt}it.elementType===$.type.table&&ir.removeIds(it)}}}catch(St){st.e(St)}finally{st.f()}for(var ve=0,qe=Je;ve<qe.length;ve++){var Ke=qe[ve];if(Ke.baseClass==="DocElement"){if(Ke.containerId in Ge)Ke.containerId=Ge[Ke.containerId];else{var gt=0,bt=v.getDataObject(Ke.containerId);if(bt!==null){var lt=bt.getOffset(),dt=bt.getContentSize(),kt=v.getDocument().getContentScrollPosY();kt>lt.y&&kt+Ke.height<lt.y+dt.height&&(gt=kt-lt.y)}Ke.x=0,Ke.y=gt}Be=new Tt(!0,Ke.elementType,Ke,Ke.id,Ke.containerId,-1,v),$e.addCommand(Be)}else if(Ke.baseClass==="Parameter"||Ke.baseClass==="Style"){var Et=v.getLabel("nameCopySuffix"),mt=Ke.name+" (".concat(Et,")"),wt=Ke.baseClass==="Parameter"?v.parameterContainer.getPanelItem():v.styleContainer.getPanelItem();if(wt!==null&&wt.getChildByName(mt))for(var ft=2;ft<=99&&(mt=Ke.name+" (".concat(Et," ").concat(ft,")"),wt.getChildByName(mt)!==null);ft++);Ke.name=mt,Ke.baseClass==="Parameter"?(N.removeIds(Ke),Be=new je(!0,Ke,Ke.id,v.parameterContainer.getId(),-1,v),$e.addCommand(Be)):Ke.baseClass==="Style"&&(Be=new me(!0,Ke,Ke.id,v.styleContainer.getId(),-1,v),$e.addCommand(Be))}}if(!$e.isEmpty()){v.executeCommand($e);var ut,Qt=!0,Rt=nt(Je);try{for(Rt.s();!(ut=Rt.n()).done;){var or=ut.value;v.selectObject(or.id,Qt),Qt=!1}}catch(St){Rt.e(St)}finally{Rt.f()}}y.preventDefault()}break;case 89:v.redoCommand(),y.preventDefault();break;case 90:v.undoCommand(),y.preventDefault()}else if(y.which===27)v.popupWindow.hide();else if(!(y.target instanceof HTMLInputElement||y.target instanceof HTMLTextAreaElement))switch(y.which){case 8:case 46:var Ut,jt=new re("Delete",v),Kt=nt(v.selections);try{for(Kt.s();!(Ut=Kt.n()).done;){var hr=Ut.value,er=v.getDataObject(hr);er instanceof $&&er.addCommandsForDelete(jt)}}catch(St){Kt.e(St)}finally{Kt.f()}jt.isEmpty()||v.executeCommand(jt),y.preventDefault();break;case 37:case 38:case 39:case 40:var tr,Zt=new re("Move element",v),Mt=y.which===37||y.which===39?"x":"y",Ft=(v.getDocumentProperties().getContentSize().width,nt(v.selections));try{for(Ft.s();!(tr=Ft.n()).done;){var Ht=tr.value,xt=v.getDataObject(Ht);if(xt instanceof $&&xt.hasProperty(Mt)){var zt=null;if(y.which===37)xt.getValue("xVal")>0&&(zt=xt.getValue("xVal")-1);else if(y.which===38)xt.getValue("yVal")>0&&(zt=xt.getValue("yVal")-1);else if(y.which===39){var ar=xt.getContainerContentSize();xt.getValue("xVal")+xt.getValue("widthVal")<ar.width&&(zt=xt.getValue("xVal")+1)}else if(y.which===40){var Yt=xt.getContainerContentSize();xt.getValue("yVal")+xt.getValue("heightVal")<Yt.height&&(zt=xt.getValue("yVal")+1)}if(zt!==null){var rr=new e(Ht,Mt,zt,e.type.text,v);Zt.addCommand(rr)}}}}catch(St){Ft.e(St)}finally{Ft.f()}Zt.isEmpty()||v.executeCommand(Zt),y.preventDefault()}}},document.addEventListener("keydown",this.keydownEventListener),this.render(),this.setup()}return T(R,[{key:"validateProperties",value:function(c){if(!Array.isArray(c.colors))return console.error('"colors" property must be an array'),!1;var v,x=!1,g=nt(c.colors);try{for(g.s();!(v=g.n()).done;){var a=v.value;if(!a||!Z(a))return console.error('"colors" property contains invalid color value'),!1;a==="#000000"&&(x=!0)}}catch(j){g.e(j)}finally{g.f()}if(!x)return console.error('"colors" property is missing black color "#000000"'),!1;if(!Array.isArray(c.fontSizes))return console.error('"fontSizes" property must be an array'),!1;var s,l=nt(c.fontSizes);try{for(l.s();!(s=l.n()).done;){var y=s.value;if(typeof y!="number"||y<1)return console.error('"fontSizes" property must contain only numbers (> 0)'),!1}}catch(j){l.e(j)}finally{l.f()}return!0}},{key:"addDefaultParameters",value:function(){for(var c=0,v=[{name:"page_count",type:N.type.number,eval:!1,editable:!1,showOnlyNameType:!0},{name:"page_number",type:N.type.number,eval:!1,editable:!1,showOnlyNameType:!0}];c<v.length;c++){var x=v[c],g=new N(this.getUniqueId(),x,this),a=this.mainPanel.getParametersItem(),s=new Ce("parameter",a,g,{hasChildren:!0,showAdd:!0,showDelete:!0,draggable:!1},this);g.setPanelItem(s),a.appendChild(s),g.setup(),this.addParameter(g)}}},{key:"render",value:function(){var c=this;u(this.element),this.getProperty("menuSidebar")&&this.element.classList.add("rbroMenuPanelSidebar"),this.getProperty("theme")==="classic"?document.body.classList.add("rbroClassicTheme"):document.body.classList.add("rbroDefaultTheme"),this.element.append(t("div",{class:"rbroLogo"})),this.element.append(t("div",{id:"rbro_menu_panel",class:"rbroMenuPanel"}));var v=t("div",{class:"rbroContainer"}),x=t("div",{id:"rbro_main_panel",class:"rbroMainPanel"});for(var g in x.append(t("ul",{id:"rbro_main_panel_list"})),v.append(x),v.append(t("div",{id:"rbro_main_panel_sizer",class:"rbroMainPanelSizer"})),v.append(t("div",{id:"rbro_detail_panel",class:"rbroDetailPanel"})),v.append(t("div",{id:"rbro_document_panel",class:"rbroDocumentPanel"})),this.element.append(v),this.mainPanel.render(),this.menuPanel.render(),this.detailPanels)this.detailPanels[g].render();this.detailPanels[this.activeDetailPanel].show(),this.document.render(),this.popupWindow.render(),this.updateMenuButtons(),this.mouseupEventListener=function(a){c.mainPanel.mouseUp(a),c.document.mouseUp(a),c.popupWindow.hide()},document.addEventListener("mouseup",this.mouseupEventListener),window.addEventListener("resize",function(a){c.document.windowResized()}),this.element.addEventListener("dragstart",function(a){a.preventDefault()}),this.element.addEventListener("mousemove",function(a){c.mainPanel.processMouseMove(a)||c.document.processMouseMove(a)})}},{key:"getWidth",value:function(){return this.element.clientWidth}},{key:"setup",value:function(){this.addDefaultParameters(),this.headerBand.setup(),this.contentBand.setup(),this.footerBand.setup(),this.documentProperties.setup()}},{key:"initObjectMap",value:function(){this.addDataObject(this.headerBand),this.addDataObject(this.contentBand),this.addDataObject(this.footerBand),this.addDataObject(this.parameterContainer),this.addDataObject(this.styleContainer),this.addDataObject(this.documentProperties)}},{key:"getLabel",value:function(c){return c in this.locale?this.locale[c]:c}},{key:"getProperty",value:function(c){return this.properties[c]}},{key:"getMainPanel",value:function(){return this.mainPanel}},{key:"getMenuPanel",value:function(){return this.menuPanel}},{key:"getDocument",value:function(){return this.document}},{key:"getPopupWindow",value:function(){return this.popupWindow}},{key:"getFonts",value:function(){return this.properties.fonts}},{key:"getPatterns",value:function(){var c=[];if(this.properties.patternNumbers.length>0){c.push({separator:!0,name:this.getLabel("patternSeparatorNumbers")});var v,x=nt(this.properties.patternNumbers);try{for(x.s();!(v=x.n()).done;){var g=v.value;c.push(g)}}catch(y){x.e(y)}finally{x.f()}}if(this.properties.patternDates.length>0){c.push({separator:!0,name:this.getLabel("patternSeparatorDates")});var a,s=nt(this.properties.patternDates);try{for(s.s();!(a=s.n()).done;){var l=a.value;c.push(l)}}catch(y){s.e(y)}finally{s.f()}}return c}},{key:"getParameterItems",value:function(c,v){var x=[],g=this.getMainPanel().getParametersItem().getChildren(),a=0;if(c instanceof $){var s,l=nt(c.getAllDataSources());try{for(l.s();!(s=l.n()).done;){var y=s.value;if(y.parameters.length>0){x.push({separator:!0,separatorClass:"rbroParameterDataSourceGroup",id:"ds"+a,name:this.getLabel("parametersDataSource")}),a++;var j,U=[],ee=nt(y.parameters);try{for(ee.s();!(j=ee.n()).done;){var se=j.value;se.type===N.type.map?se.appendParameterItems(U,v):se.appendParameterItems(x,v)}}catch(Ne){ee.e(Ne)}finally{ee.f()}for(var fe=0,be=U;fe<be.length;fe++){var _e=be[fe];x.push(_e)}}}}catch(Ne){l.e(Ne)}finally{l.f()}}else c instanceof N&&c.appendFieldParameterItems(x,v,!0);x.push({separator:!0,name:this.getLabel("parameters")});var Oe,Te=[],Re=nt(g);try{for(Re.s();!(Oe=Re.n()).done;){var ze=Oe.value.getData();ze.getValue("type")===N.type.map?ze.appendParameterItems(Te,v):ze.appendParameterItems(x,v)}}catch(Ne){Re.e(Ne)}finally{Re.f()}return x.concat(Te)}},{key:"getArrayFieldParameterItems",value:function(c){var v=[],x=this.getMainPanel().getParametersItem().getChildren();v.push({separator:!0,name:this.getLabel("parameters")});var g,a=nt(x);try{for(a.s();!(g=a.n()).done;){var s=g.value.getData();s.getValue("type")===N.type.array&&s.appendFieldParameterItems(v,c,!1)}}catch(l){a.e(l)}finally{a.f()}return v}},{key:"appendContainerDocElements",value:function(c,v,x){var g,a=nt(c.getPanelItem().getChildren());try{for(a.s();!(g=a.n()).done;){var s=g.value;if(s.getData()instanceof $){var l=s.getData();v?(x.push(l),l.addChildren(x)):x.push(l.toJS());var y=[];if(l instanceof Dt)y=l.getLinkedContainers();else{var j=l.getLinkedContainer();j!==null&&y.push(j)}var U,ee=nt(y);try{for(ee.s();!(U=ee.n()).done;){var se=U.value;this.appendContainerDocElements(se,v,x)}}catch(fe){ee.e(fe)}finally{ee.f()}}}}catch(fe){a.e(fe)}finally{a.f()}}},{key:"getDocElements",value:function(c){var v=[];return this.appendContainerDocElements(this.headerBand,c,v),this.appendContainerDocElements(this.contentBand,c,v),this.appendContainerDocElements(this.footerBand,c,v),v}},{key:"setDetailPanel",value:function(c){c!==this.activeDetailPanel&&(this.detailPanels[this.activeDetailPanel].hide(),this.activeDetailPanel=c,this.detailPanels[c].show())}},{key:"notifyEvent",value:function(c,v,x){this.detailPanels[this.activeDetailPanel].notifyEvent(c,v,x)}},{key:"addParameter",value:function(c){this.addDataObject(c)}},{key:"addStyle",value:function(c){this.addDataObject(c),this.notifyEvent(c,w.operation.add)}},{key:"getStyles",value:function(){var c,v=[],x=nt(this.getMainPanel().getStylesItem().getChildren());try{for(x.s();!(c=x.n()).done;){var g=c.value;v.push(g.getData())}}catch(a){x.e(a)}finally{x.f()}return v}},{key:"getParameters",value:function(){var c,v=[],x=nt(this.getMainPanel().getParametersItem().getChildren());try{for(x.s();!(c=x.n()).done;){var g=c.value;v.push(g.getData())}}catch(a){x.e(a)}finally{x.f()}return v}},{key:"addDocElement",value:function(c){this.docElements.push(c),this.addDataObject(c)}},{key:"deleteDocElements",value:function(){for(var c=0;c<this.docElements.length;c++)this.deleteDataObject(this.docElements[c]);this.docElements=[]}},{key:"getDocumentProperties",value:function(){return this.documentProperties}},{key:"executeCommand",value:function(c){if(c.do(),this.lastCommandIndex<this.commandStack.length-1&&(this.commandStack=this.commandStack.slice(0,this.lastCommandIndex+1)),!this.selectionSinceLastCommand&&this.commandStack.length>0){var v=this.commandStack[this.commandStack.length-1];c.allowReplace(v)&&(c.replace(v),this.commandStack=this.commandStack.slice(0,this.commandStack.length-1),this.lastCommandIndex--)}this.commandStack.push(c),this.lastCommandIndex++,this.modified=!0,this.selectionSinceLastCommand=!1,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(c,!0)}},{key:"undoCommand",value:function(){if(this.lastCommandIndex>=0){var c=this.commandStack[this.lastCommandIndex];c.undo(),this.lastCommandIndex--,this.modified=this.lastCommandIndex>=0,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(c,!1)}}},{key:"redoCommand",value:function(){if(this.lastCommandIndex<this.commandStack.length-1){this.lastCommandIndex++;var c=this.commandStack[this.lastCommandIndex];c.do(),this.modified=!0,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(c,!1)}}},{key:"updateMenuButtons",value:function(){document.getElementById("rbro_menu_save").disabled=!this.modified,document.getElementById("rbro_menu_undo").disabled=this.lastCommandIndex<0,document.getElementById("rbro_menu_redo").disabled=this.lastCommandIndex>=this.commandStack.length-1}},{key:"updateMenuActionButtons",value:function(){var c,v=0,x={x:0,y:0},g=!0,a=!0,s=nt(this.selections);try{for(s.s();!(c=s.n()).done;){var l=c.value,y=this.getDataObject(l);if(y instanceof $&&y.hasProperty("x")){v++;var j=y.getContainer().getOffset();v===1?x=j:(j.x!==x.x&&(g=!1),j.y!==x.y&&(a=!1))}}}catch(Ne){s.e(Ne)}finally{s.f()}var U=document.getElementById("rbo_menu_elements").querySelectorAll(".rbroMenuButton");if(v>1){g?document.getElementById("rbro_menu_align").removeAttribute("style"):document.getElementById("rbro_menu_align").style.display="none",a?document.getElementById("rbro_menu_valign").removeAttribute("style"):document.getElementById("rbro_menu_valign").style.display="none";var ee,se=nt(U);try{for(se.s();!(ee=se.n()).done;)ee.value.style.display="none"}catch(Ne){se.e(Ne)}finally{se.f()}document.getElementById("rbro_menu_column_actions").style.display="none",document.getElementById("rbro_menu_row_actions").style.display="none"}else{var fe=null;if(this.selections.length===1&&(fe=this.getDataObject(this.selections[0])),document.getElementById("rbro_menu_align").style.display="none",document.getElementById("rbro_menu_valign").style.display="none",fe instanceof Vt){var be,_e=nt(U);try{for(_e.s();!(be=_e.n()).done;)be.value.style.display="none"}catch(Ne){_e.e(Ne)}finally{_e.f()}var Oe=fe.getTable(),Te=fe.getParent();Oe!==null&&S(Oe.getValue("columns"))!==1?document.getElementById("rbro_menu_column_delete").removeAttribute("style"):document.getElementById("rbro_menu_column_delete").style.display="none",document.getElementById("rbro_menu_column_actions").removeAttribute("style"),Oe!==null&&Te!==null&&Te.getValue("bandType")===H.bandType.content?(S(Oe.getValue("contentRows"))!==1?document.getElementById("rbro_menu_row_delete").removeAttribute("style"):document.getElementById("rbro_menu_row_delete").style.display="none",document.getElementById("rbro_menu_row_actions").removeAttribute("style")):document.getElementById("rbro_menu_row_actions").style.display="none"}else{var Re,ze=nt(U);try{for(ze.s();!(Re=ze.n()).done;)Re.value.removeAttribute("style")}catch(Ne){ze.e(Ne)}finally{ze.f()}document.getElementById("rbro_menu_column_actions").style.display="none",document.getElementById("rbro_menu_row_actions").style.display="none"}}}},{key:"debugCommandStack",value:function(){console.clear();for(var c=0;c<this.commandStack.length;c++)c>this.lastCommandIndex?console.log("( "+c+" "+this.commandStack[c].getName()+" )"):console.log(c+" "+this.commandStack[c].getName())}},{key:"addDataObject",value:function(c){this.objectMap[c.getId()]=c}},{key:"deleteDataObject",value:function(c){this.isSelectedObject(c.getId())&&this.deselectObject(c.getId()),c.getId()in this.objectMap&&(c.remove(),delete this.objectMap[c.getId()])}},{key:"getDataObject",value:function(c){return c!==null&&c in this.objectMap?this.objectMap[c]:null}},{key:"getSelectedObjects",value:function(){var c,v=[],x=nt(this.selections);try{for(x.s();!(c=x.n()).done;){var g=c.value,a=this.getDataObject(g);a!==null&&v.push(a)}}catch(s){x.e(s)}finally{x.f()}return v}},{key:"getSelectedObject",value:function(){return this.selections.length===1?this.getDataObject(this.selections[0]):null}},{key:"isSelectedObject",value:function(c){return this.selections.indexOf(c)!==-1}},{key:"isDocElementSelected",value:function(){var c,v=nt(this.selections);try{for(v.s();!(c=v.n()).done;){var x=c.value;if(this.getDataObject(x)instanceof $)return!0}}catch(g){v.e(g)}finally{v.f()}return!1}},{key:"isTableElementSelected",value:function(c){var v,x=nt(this.selections);try{for(x.s();!(v=x.n()).done;){var g=v.value,a=this.getDataObject(g);if(a instanceof Vt&&a.getValue("tableId")===c)return!0}}catch(s){x.e(s)}finally{x.f()}return!1}},{key:"selectObject",value:function(c,v){var x="none",g=this.getDataObject(c);if(v){if(g!==null&&this.selections.length===1&&this.selections[0]===c)return;this.deselectAll(!0)}g!==null&&(g instanceof $?x="docElement":g instanceof N?x="parameter":g instanceof ne?x="style":g instanceof Gt&&(x="documentProperties"),this.selections.push(c),g.select(),g.getPanelItem()!==null&&(g.getPanelItem().openParentItems(),g.getPanelItem().setActive()),x!==this.activeDetailPanel&&this.setDetailPanel(x),this.detailPanels[this.activeDetailPanel].selectionChanged(),this.properties.selectCallback&&this.properties.selectCallback(g,!0)),this.selectionSinceLastCommand=!0,this.updateMenuActionButtons()}},{key:"deselectObject",value:function(c){this.deselectObjectInternal(c,!0),this.updateMenuActionButtons()}},{key:"deselectObjectInternal",value:function(c,v){var x=this.getDataObject(c);if(x!==null&&(x.deselect(),x.getPanelItem()!==null&&x.getPanelItem().setInactive()),v){var g=this.selections.indexOf(c);g!==-1&&this.selections.splice(g,1),this.selections.length>0?this.detailPanels[this.activeDetailPanel].selectionChanged():this.setDetailPanel("none")}x!==null&&this.properties.selectCallback&&this.properties.selectCallback(x,!1)}},{key:"deselectAll",value:function(c){var v,x=nt(this.selections);try{for(x.s();!(v=x.n()).done;){var g=v.value;this.deselectObjectInternal(g,!1)}}catch(a){x.e(a)}finally{x.f()}this.selections=[],c&&this.setDetailPanel("none"),this.updateMenuActionButtons()}},{key:"getContainer",value:function(c,v,x,g){for(var a=null,s=-1,l=0;l<this.containers.length;l++){var y=this.containers[l];if(y.getLevel()>s&&y.isElementAllowed(x)&&y.isInside(c,v)){var j,U=!1,ee=nt(g);try{for(ee.s();!(j=ee.n()).done;){var se=j.value;if(y===se||y.isChildOf(se)){U=!0;break}}}catch(fe){ee.e(fe)}finally{ee.f()}U||(a=y,s=y.getLevel())}}return a}},{key:"getContainers",value:function(){return this.containers}},{key:"addContainer",value:function(c){this.containers.push(c),this.addDataObject(c)}},{key:"deleteContainer",value:function(c){for(var v=0;v<this.containers.length;v++)if(this.containers[v].getId()===c.getId()){this.containers.splice(v,1);break}this.deleteDataObject(c)}},{key:"startBrowserDrag",value:function(c,v,x){this.browserDragType=c,this.browserDragId=x,this.getDocument().startBrowserDrag(v)}},{key:"isBrowserDragActive",value:function(c){return this.browserDragType===c}},{key:"getBrowserDragId",value:function(){return this.browserDragId}},{key:"updateSelectionDrag",value:function(c,v,x,g,a){var s;a&&(s=new re(x===$.dragType.element?"Update position":"Resize",this));var l,y=nt(this.selections);try{for(y.s();!(l=y.n()).done;){var j=l.value,U=this.getDataObject(j);U!==null&&(x!==$.dragType.element||U.isDraggingAllowed())&&U.updateDrag(c,v,x,g,a?s:null)}}catch(ee){y.e(ee)}finally{y.f()}a&&!s.isEmpty()&&this.executeCommand(s)}},{key:"alignSelections",value:function(c){var v,x,g,a,s,l=Number.MAX_VALUE,y=Number.MIN_VALUE,j=Number.MAX_VALUE,U=Number.MIN_VALUE,ee=0,se=nt(this.selections);try{for(se.s();!(s=se.n()).done;){var fe=s.value,be=this.getDataObject(fe);be instanceof $&&be.hasProperty("x")&&(ee++,v=be.getValue("xVal"),x=be.getValue("yVal"),g=be.getValue("widthVal"),a=be.getValue("heightVal"),v<l&&(l=v),v+g>y&&(y=v+g),x<j&&(j=x),x+a>U&&(U=x+a))}}catch(it){se.e(it)}finally{se.f()}var _e=l+(y-l)/2,Oe=j+(U-j)/2;if(ee>1){var Te,Re=new re("Align elements",this),ze=nt(this.selections);try{for(ze.s();!(Te=ze.n()).done;){var Ne=Te.value,Be=this.getDataObject(Ne);if(Be instanceof $&&!(Be instanceof It))switch(c){case ne.alignment.left:var We=new e(Be.getId(),"x",""+l,e.type.text,this);Re.addCommand(We);break;case ne.alignment.center:var $e=new e(Be.getId(),"x",""+(_e-Be.getValue("widthVal")/2),e.type.text,this);Re.addCommand($e);break;case ne.alignment.right:var Ge=new e(Be.getId(),"x",""+(y-Be.getValue("widthVal")),e.type.text,this);Re.addCommand(Ge);break;case ne.alignment.top:var Je=new e(Be.getId(),"y",""+j,e.type.text,this);Re.addCommand(Je);break;case ne.alignment.middle:var st=new e(Be.getId(),"y",""+(Oe-Be.getValue("heightVal")/2),e.type.text,this);Re.addCommand(st);break;case ne.alignment.bottom:var at=new e(Be.getId(),"y",""+(U-Be.getValue("heightVal")),e.type.text,this);Re.addCommand(at)}}}catch(it){ze.e(it)}finally{ze.f()}this.executeCommand(Re)}}},{key:"toPixel",value:function(c){return c===""||typeof c=="string"&&(c=parseFloat(c.replace(",",".")),isNaN(c))?"0px":c+"px"}},{key:"showLoading",value:function(){document.getElementById("rbro_loading_div")||document.body.append(t("div",{id:"rbro_loading_div",class:"rbroLoadingIndicator"}))}},{key:"hideLoading",value:function(){var c=document.getElementById("rbro_loading_div");c&&c.remove()}},{key:"getTestData",value:function(){var c,v={},x=nt(this.getParameters());try{for(x.s();!(c=x.n()).done;){var g=c.value;if(!g.getValue("showOnlyNameType")){var a=g.getValue("type");a===N.type.array||a===N.type.simpleArray||a===N.type.map?v[g.getName()]=g.getTestData(!1):a===N.type.string||a===N.type.number||a===N.type.date?v[g.getName()]=g.getValue("testData"):a===N.type.boolean?v[g.getName()]=g.getValue("testDataBoolean"):a===N.type.image&&(v[g.getName()]=g.getValue("testDataImage"))}}}catch(s){x.e(s)}finally{x.f()}return v}},{key:"previewInternal",value:function(c,v){var x=this,g=this.getRequestParameters();this.clearErrors();var a=g.reportServerHeaders;a["Content-Type"]="application/json",g.reportServerBasicAuth&&(a.Authorization="Basic "+btoa(g.reportServerBasicAuth.username+":"+g.reportServerBasicAuth.password)),this.showLoading();var s=new AbortController,l=setTimeout(function(){return s.abort()},g.reportServerTimeout);fetch(g.reportServerUrl,{signal:s.signal,method:"PUT",headers:a,body:JSON.stringify({report:this.getReport(),outputFormat:Gt.outputFormat.pdf,data:c,isTestData:v})}).then(function(y){if(!y.ok)throw Error(y.statusText);return y}).then(function(y){return y.text()}).then(function(y){if(clearTimeout(l),x.hideLoading(),y.substring(0,4)==="key:")x.reportKey=y.substring(4),x.getDocument().openPdfPreviewTab(g.reportServerUrl+"?key="+x.reportKey+"&outputFormat=pdf",a);else{x.reportKey=null;try{var j=JSON.parse(y);j.errors.length>0&&x.processErrors(j.errors,!1)}catch(U){alert("preview failed")}}}).catch(function(y){clearTimeout(l),x.hideLoading(),alert("preview failed")})}},{key:"getRequestParameters",value:function(){var c={reportServerUrl:this.properties.reportServerUrl,reportServerTimeout:this.properties.reportServerTimeout,reportServerUrlCrossDomain:this.properties.reportServerUrlCrossDomain,reportServerBasicAuth:this.properties.reportServerBasicAuth,reportServerHeaders:this.properties.reportServerHeaders};return this.properties.requestCallback&&this.properties.requestCallback(c),c}},{key:"setModified",value:function(c){this.modified=c,this.updateMenuButtons()}},{key:"isModified",value:function(){return this.modified}},{key:"getReport",value:function(){var c={docElements:[],parameters:[],styles:[],version:4};c.docElements=this.getDocElements(!1);var v,x=nt(this.getParameters());try{for(x.s();!(v=x.n()).done;){var g=v.value;c.parameters.push(g.toJS())}}catch(y){x.e(y)}finally{x.f()}var a,s=nt(this.getStyles());try{for(s.s();!(a=s.n()).done;){var l=a.value;c.styles.push(l.toJS())}}catch(y){s.e(y)}finally{s.f()}return c.documentProperties=this.documentProperties.toJS(),c}},{key:"save",value:function(){if(this.properties.saveCallback)this.properties.saveCallback();else if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null)try{var c=this.getReport();window.localStorage.setItem(this.properties.localStorageReportKey,JSON.stringify(c)),this.modified=!1}catch(a){}if(this.getProperty("highlightUnusedParameters")){var v,x=nt(this.getParameters());try{for(x.s();!(v=x.n()).done;){var g=v.value;g.editable&&g.setHighlightUnused(!1)}}catch(a){x.e(a)}finally{x.f()}}this.updateMenuButtons()}},{key:"load",value:function(c){var v,x=nt(this.getParameters());try{for(x.s();!(v=x.n()).done;){var g=v.value;this.deleteDataObject(g)}}catch(ut){x.e(ut)}finally{x.f()}var a,s=nt(this.getStyles());try{for(s.s();!(a=s.n()).done;){var l=a.value;this.deleteDataObject(l)}}catch(ut){s.e(ut)}finally{s.f()}if(this.deleteDocElements(),this.nextId=1,this.docElements=[],this.objectMap={},this.initObjectMap(),this.selections=[],this.getMainPanel().clearAll(),this.getMainPanel().getHeaderItem().close(),this.getMainPanel().getDocumentItem().close(),this.getMainPanel().getFooterItem().close(),this.getMainPanel().getParametersItem().close(),this.getMainPanel().getStylesItem().close(),c.version<2){var y,j=nt(c.docElements);try{for(j.s();!(y=j.n()).done;){var U=y.value;U.elementType===$.type.table&&(U.contentDataRows=[U.contentData],U.contentRows="1")}}catch(ut){j.e(ut)}finally{j.f()}}if(c.version<3){var ee,se=nt(c.docElements);try{for(se.s();!(ee=se.n()).done;){var fe=ee.value;if(fe.elementType===$.type.table){for(var be=0,_e=0;_e<fe.headerData.columnData.length;_e++)be+=fe.headerData.columnData[_e].width;fe.width=be}}}catch(ut){se.e(ut)}finally{se.f()}}if(c.version<4){var Oe,Te=nt(c.parameters);try{for(Te.s();!(Oe=Te.n()).done;){var Re=Oe.value;if(Re.type===N.type.map){var ze,Ne={},Be=nt(Re.children);try{for(Be.s();!(ze=Be.n()).done;){var We=ze.value;Ne[We.name]=We.testData,We.testData=""}}catch(ut){Be.e(ut)}finally{Be.f()}Re.testData=JSON.stringify(Ne)}else Re.type===N.type.boolean&&(Re.testDataBoolean=Boolean(Re.testData))}}catch(ut){Te.e(ut)}finally{Te.f()}}this.documentProperties.setInitialData(c.documentProperties),this.documentProperties.setup();var $e,Ge=nt(c.styles);try{for(Ge.s();!($e=Ge.n()).done;){var Je=$e.value;this.createStyle(Je)}}catch(ut){Ge.e(ut)}finally{Ge.f()}var st,at=nt(c.parameters);try{for(at.s();!(st=at.n()).done;){var it=st.value;this.createParameter(it)}}catch(ut){at.e(ut)}finally{at.f()}var tt,ve=nt(c.docElements);try{for(ve.s();!(tt=ve.n()).done;){var qe=tt.value;this.createDocElement(qe)}}catch(ut){ve.e(ut)}finally{ve.f()}if(this.getProperty("highlightUnusedParameters")){var Ke,gt=this.getDocElements(!0),bt=nt(this.getParameters());try{for(bt.s();!(Ke=bt.n()).done;){var lt=Ke.value;if(lt.editable){var dt,kt=new re("Temp group"),Et=nt(gt);try{for(Et.s();!(dt=Et.n()).done;)dt.value.addCommandsForChangedParameterName(lt,lt.getName(),kt)}catch(ut){Et.e(ut)}finally{Et.f()}var mt,wt=nt(this.getParameters());try{for(wt.s();!(mt=wt.n()).done;){var ft=mt.value;ft.getId()!==lt.getId()&&ft.addCommandsForChangedParameterName(lt,lt.getName(),kt)}}catch(ut){wt.e(ut)}finally{wt.f()}kt.isEmpty()&&lt.setHighlightUnused(!0)}}}catch(ut){bt.e(ut)}finally{bt.f()}}this.browserDragType="",this.browserDragId="",this.commandStack=[],this.lastCommandIndex=-1,this.modified=!1,this.updateMenuButtons()}},{key:"loadLocalReport",value:function(){if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null){var c=null;try{c=JSON.parse(window.localStorage[this.properties.localStorageReportKey])}catch(v){}c!==null&&this.load(c)}}},{key:"preview",value:function(){this.previewInternal(this.getTestData(),!0)}},{key:"previewWithData",value:function(c){this.previewInternal(c,!1)}},{key:"downloadSpreadsheet",value:function(){var c=this.getRequestParameters(),v=c.reportServerUrl+"?key="+this.reportKey+"&outputFormat=xlsx",x=c.reportServerHeaders;if(this.reportKey!==null)if(x&&Object.keys(x).length>0){var g=new XMLHttpRequest;for(var a in g.responseType="blob",g.onreadystatechange=function(){if(g.readyState===XMLHttpRequest.DONE)if(g.status===200){var s=URL.createObjectURL(g.response);window.open(s,"_blank")}else alert("download failed")},g.open("GET",v,!0),x)x.hasOwnProperty(a)&&g.setRequestHeader(a,x[a]);g.send()}else window.open(v,"_blank")}},{key:"processErrors",value:function(c,v){(v===void 0||v)&&this.clearErrors();var x,g=nt(c);try{for(g.s();!(x=g.n()).done;){var a=x.value;if(a.object_id){document.getElementById("rbro_menu_item".concat(a.object_id)).classList.add("rbroError");var s=this.getDataObject(a.object_id);s!==null&&s.addError(a)}}}catch(l){g.e(l)}finally{g.f()}c.length>0&&(this.deselectAll(!1),this.selectObject(c[0].object_id,!1),this.detailPanels[this.activeDetailPanel].scrollToFirstError())}},{key:"clearErrors",value:function(){var c,v=nt(document.querySelectorAll(".rbroMenuItem"));try{for(v.s();!(c=v.n()).done;)c.value.classList.remove("rbroError")}catch(y){v.e(y)}finally{v.f()}var x,g=nt(document.querySelectorAll(".rbroFormRow"));try{for(g.s();!(x=g.n()).done;)x.value.classList.remove("rbroError")}catch(y){g.e(y)}finally{g.f()}var a,s=nt(document.querySelectorAll(".rbroErrorMessage"));try{for(s.s();!(a=s.n()).done;)a.value.textContent=""}catch(y){s.e(y)}finally{s.f()}for(var l in this.objectMap)this.objectMap[l].clearErrors()}},{key:"destroy",value:function(){for(var c in this.popupWindow.destroy(),this.detailPanels)this.detailPanels[c].destroy();this.element.remove(),document.removeEventListener("keydown",this.keydownEventListener),document.removeEventListener("mouseup",this.mouseupEventListener)}},{key:"getUniqueId",value:function(){return this.nextId++}},{key:"getDocElementById",value:function(c){var v=this.getDataObject(c);return v instanceof $?v:null}},{key:"getParameterById",value:function(c){var v=this.getDataObject(c);return v instanceof N?v:null}},{key:"getParameterByName",value:function(c){var v,x=nt(this.getParameters());try{for(x.s();!(v=x.n()).done;){var g=v.value;if(g.getValue("name")===c)return g}}catch(a){x.e(a)}finally{x.f()}return null}},{key:"getStyleById",value:function(c){var v=this.getDataObject(c);return v instanceof ne?v:null}},{key:"createDocElement",value:function(c){var v=Tt.createElement(c.id,c,c.elementType,-1,!1,this),x=v.getMaxId();return x>=this.nextId&&(this.nextId=x+1),v}},{key:"createParameter",value:function(c){var v=new N(c.id,c,this),x=this.mainPanel.getParametersItem(),g=this.getProperty("adminMode"),a=new Ce("parameter",x,v,{hasChildren:!0,showAdd:g,showDelete:g,draggable:!0},this);v.setPanelItem(a),x.appendChild(a),v.setup(),v.getValue("type")!==N.type.array&&v.getValue("type")!==N.type.map&&(g&&(document.getElementById("rbro_menu_item_add".concat(v.getId())).style.display="none"),document.getElementById("rbro_menu_item_children".concat(v.getId())).style.display="none",document.getElementById("rbro_menu_item_children_toggle".concat(v.getId())).style.display="none"),this.addParameter(v);var s=v.getMaxId();return s>=this.nextId&&(this.nextId=s+1),v}},{key:"createStyle",value:function(c){var v=new ne(c.id,c,this),x=this.mainPanel.getStylesItem(),g=new Ce("style",x,v,{draggable:!0},this);return v.setPanelItem(g),x.appendChild(g),this.addStyle(v),c.id>=this.nextId&&(this.nextId=c.id+1),v}},{key:"deleteDocElement",value:function(c){for(var v=0;v<this.docElements.length;v++)if(this.docElements[v].getId()===c.getId()){this.docElements.splice(v,1),this.deleteDataObject(c),this.notifyEvent(c,w.operation.remove);break}}},{key:"deleteParameter",value:function(c){this.deleteDataObject(c),c.getPanelItem().getParent().removeChild(c.getPanelItem()),this.notifyEvent(c,w.operation.remove)}},{key:"deleteStyle",value:function(c){this.deleteDataObject(c),c.getPanelItem().getParent().removeChild(c.getPanelItem()),this.notifyEvent(c,w.operation.remove)}}]),R}();pt.ReportBro=Sn}()})()}).call(this,Fe("HDXh").Buffer)},bBst:function(_t,pt,Fe){(function(He){var Ye=He.CustomEvent;function ot(){try{var Qe=new Ye("cat",{detail:{foo:"bar"}});return Qe.type==="cat"&&Qe.detail.foo==="bar"}catch(J){}return!1}_t.exports=ot()?Ye:typeof document!="undefined"&&typeof document.createEvent=="function"?function(J,ae){var T=document.createEvent("CustomEvent");return ae?T.initCustomEvent(J,ae.bubbles,ae.cancelable,ae.detail):T.initCustomEvent(J,!1,!1,void 0),T}:function(J,ae){var T=document.createEventObject();return T.type=J,ae?(T.bubbles=Boolean(ae.bubbles),T.cancelable=Boolean(ae.cancelable),T.detail=ae.detail):(T.bubbles=!1,T.cancelable=!1,T.detail=void 0),T}}).call(this,Fe("IyRk"))},bXNp:function(_t,pt,Fe){},fu2T:function(_t,pt,Fe){"use strict";var He=Fe("EFp3"),Ye=Fe.n(He),ot=Fe("3dVZ"),Qe=Fe.n(ot)},gK9i:function(_t,pt,Fe){"use strict";var He=Fe("wx14"),Ye=Fe("rePB"),ot=Fe("UESt"),Qe=Fe("TSYQ"),J=Fe.n(Qe),ae=Fe("KQm4"),T=Fe("1OyB"),C=Fe("vuIU"),b=Fe("Ji7U"),h=Fe("LK+K"),p=Fe("U8pU"),f=Fe("Zm9Q"),w=Fe("q1tI"),m=Fe("Gytx"),o=Fe.n(m),i=Fe("Ff2n"),e=Fe("8XRh"),r=Fe("ODXe"),n=w.forwardRef(function(z,G){var H,D=z.prefixCls,Q=z.forceRender,ce=z.className,ne=z.style,me=z.children,de=z.isActive,ie=z.role,re=w.useState(de||Q),ge=Object(r.a)(re,2),we=ge[0],Ce=ge[1];return w.useEffect(function(){(Q||de)&&Ce(!0)},[Q,de]),we?w.createElement("div",{ref:G,className:J()("".concat(D,"-content"),(H={},Object(Ye.a)(H,"".concat(D,"-content-active"),de),Object(Ye.a)(H,"".concat(D,"-content-inactive"),!de),H),ce),style:ne,role:ie},w.createElement("div",{className:"".concat(D,"-content-box")},me)):null});n.displayName="PanelContent";var t=n,u=["className","id","style","prefixCls","headerClass","children","isActive","destroyInactivePanel","accordion","forceRender","openMotion","extra","collapsible"],d=function(z){Object(b.a)(H,z);var G=Object(h.a)(H);function H(){var D;Object(T.a)(this,H);for(var Q=arguments.length,ce=new Array(Q),ne=0;ne<Q;ne++)ce[ne]=arguments[ne];return D=G.call.apply(G,[this].concat(ce)),D.onItemClick=function(){var me=D.props,de=me.onItemClick,ie=me.panelKey;typeof de=="function"&&de(ie)},D.handleKeyPress=function(me){(me.key==="Enter"||me.keyCode===13||me.which===13)&&D.onItemClick()},D.renderIcon=function(){var me=D.props,de=me.showArrow,ie=me.expandIcon,re=me.prefixCls,ge=me.collapsible;if(!de)return null;var we=typeof ie=="function"?ie(D.props):w.createElement("i",{className:"arrow"});return we&&w.createElement("div",{className:"".concat(re,"-expand-icon"),onClick:ge==="header"||ge==="icon"?D.onItemClick:null},we)},D.renderTitle=function(){var me=D.props,de=me.header,ie=me.prefixCls,re=me.collapsible;return w.createElement("span",{className:"".concat(ie,"-header-text"),onClick:re==="header"?D.onItemClick:null},de)},D}return Object(C.a)(H,[{key:"shouldComponentUpdate",value:function(Q){return!o()(this.props,Q)}},{key:"render",value:function(){var Q,ce,ne=this.props,me=ne.className,de=ne.id,ie=ne.style,re=ne.prefixCls,ge=ne.headerClass,we=ne.children,Ce=ne.isActive,je=ne.destroyInactivePanel,V=ne.accordion,ye=ne.forceRender,K=ne.openMotion,k=ne.extra,I=ne.collapsible,N=Object(i.a)(ne,u),oe=I==="disabled",le=I==="header",$=I==="icon",xe=J()((Q={},Object(Ye.a)(Q,"".concat(re,"-item"),!0),Object(Ye.a)(Q,"".concat(re,"-item-active"),Ce),Object(Ye.a)(Q,"".concat(re,"-item-disabled"),oe),Q),me),Le=J()("".concat(re,"-header"),(ce={},Object(Ye.a)(ce,ge,ge),Object(Ye.a)(ce,"".concat(re,"-header-collapsible-only"),le),Object(Ye.a)(ce,"".concat(re,"-icon-collapsible-only"),$),ce)),Se={className:Le,"aria-expanded":Ce,"aria-disabled":oe,onKeyPress:this.handleKeyPress};!le&&!$&&(Se.onClick=this.onItemClick,Se.role=V?"tab":"button",Se.tabIndex=oe?-1:0);var Ue=k!=null&&typeof k!="boolean";return delete N.header,delete N.panelKey,delete N.onItemClick,delete N.showArrow,delete N.expandIcon,w.createElement("div",Object(He.a)({},N,{className:xe,style:ie,id:de}),w.createElement("div",Se,this.renderIcon(),this.renderTitle(),Ue&&w.createElement("div",{className:"".concat(re,"-extra")},k)),w.createElement(e.default,Object(He.a)({visible:Ce,leavedClassName:"".concat(re,"-content-hidden")},K,{forceRender:ye,removeOnLeave:je}),function(Ze,et){var ht=Ze.className,Ct=Ze.style;return w.createElement(t,{ref:et,prefixCls:re,className:ht,style:Ct,isActive:Ce,forceRender:ye,role:V?"tabpanel":null},we)}))}}]),H}(w.Component);d.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var _=d;function E(z){var G=z;if(!Array.isArray(G)){var H=Object(p.a)(G);G=H==="number"||H==="string"?[G]:[]}return G.map(function(D){return String(D)})}var A=function(z){Object(b.a)(H,z);var G=Object(h.a)(H);function H(D){var Q;Object(T.a)(this,H),Q=G.call(this,D),Q.onClickItem=function(de){var ie=Q.state.activeKey;if(Q.props.accordion)ie=ie[0]===de?[]:[de];else{ie=Object(ae.a)(ie);var re=ie.indexOf(de),ge=re>-1;ge?ie.splice(re,1):ie.push(de)}Q.setActiveKey(ie)},Q.getNewChild=function(de,ie){if(!de)return null;var re=Q.state.activeKey,ge=Q.props,we=ge.prefixCls,Ce=ge.openMotion,je=ge.accordion,V=ge.destroyInactivePanel,ye=ge.expandIcon,K=ge.collapsible,k=de.key||String(ie),I=de.props,N=I.header,oe=I.headerClass,le=I.destroyInactivePanel,$=I.collapsible,xe=!1;je?xe=re[0]===k:xe=re.indexOf(k)>-1;var Le=$!=null?$:K,Se={key:k,panelKey:k,header:N,headerClass:oe,isActive:xe,prefixCls:we,destroyInactivePanel:le!=null?le:V,openMotion:Ce,accordion:je,children:de.props.children,onItemClick:Le==="disabled"?null:Q.onClickItem,expandIcon:ye,collapsible:Le};return typeof de.type=="string"?de:(Object.keys(Se).forEach(function(Ue){typeof Se[Ue]=="undefined"&&delete Se[Ue]}),w.cloneElement(de,Se))},Q.getItems=function(){var de=Q.props.children;return Object(f.a)(de).map(Q.getNewChild)},Q.setActiveKey=function(de){"activeKey"in Q.props||Q.setState({activeKey:de}),Q.props.onChange(Q.props.accordion?de[0]:de)};var ce=D.activeKey,ne=D.defaultActiveKey,me=ne;return"activeKey"in D&&(me=ce),Q.state={activeKey:E(me)},Q}return Object(C.a)(H,[{key:"shouldComponentUpdate",value:function(Q,ce){return!o()(this.props,Q)||!o()(this.state,ce)}},{key:"render",value:function(){var Q,ce=this.props,ne=ce.prefixCls,me=ce.className,de=ce.style,ie=ce.accordion,re=J()((Q={},Object(Ye.a)(Q,ne,!0),Object(Ye.a)(Q,me,!!me),Q));return w.createElement("div",{className:re,style:de,role:ie?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(Q){var ce={};return"activeKey"in Q&&(ce.activeKey=E(Q.activeKey)),ce}}]),H}(w.Component);A.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},A.Panel=_;var S=A,L=S,P=S.Panel,M=Fe("bT9E"),q=Fe("H84U"),F=Fe("EXcs"),Z=Fe("0n0R"),B=function(G){var H=w.useContext(q.b),D=H.getPrefixCls,Q=G.prefixCls,ce=G.className,ne=ce===void 0?"":ce,me=G.showArrow,de=me===void 0?!0:me,ie=D("collapse",Q),re=J()(Object(Ye.a)({},"".concat(ie,"-no-arrow"),!de),ne);return w.createElement(L.Panel,Object(He.a)({},G,{prefixCls:ie,className:re}))},X=B,te=function(G){var H,D=w.useContext(q.b),Q=D.getPrefixCls,ce=D.direction,ne=G.prefixCls,me=G.className,de=me===void 0?"":me,ie=G.bordered,re=ie===void 0?!0:ie,ge=G.ghost,we=G.expandIconPosition,Ce=we===void 0?"start":we,je=Q("collapse",ne),V=w.useMemo(function(){return Ce==="left"?"start":Ce==="right"?"end":Ce},[Ce]),ye=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},le=G.expandIcon,$=le?le(oe):w.createElement(ot.a,{rotate:oe.isActive?90:void 0});return Object(Z.a)($,function(){return{className:J()($.props.className,"".concat(je,"-arrow"))}})},K=J()("".concat(je,"-icon-position-").concat(V),(H={},Object(Ye.a)(H,"".concat(je,"-borderless"),!re),Object(Ye.a)(H,"".concat(je,"-rtl"),ce==="rtl"),Object(Ye.a)(H,"".concat(je,"-ghost"),!!ge),H),de),k=Object(He.a)(Object(He.a)({},F.a),{motionAppear:!1,leavedClassName:"".concat(je,"-content-hidden")}),I=function(){var oe=G.children;return Object(f.a)(oe).map(function(le,$){var xe;if((xe=le.props)===null||xe===void 0?void 0:xe.disabled){var Le=le.key||String($),Se=le.props,Ue=Se.disabled,Ze=Se.collapsible,et=Object(He.a)(Object(He.a)({},Object(M.a)(le.props,["disabled"])),{key:Le,collapsible:Ze!=null?Ze:Ue?"disabled":void 0});return Object(Z.a)(le,et)}return le})};return w.createElement(L,Object(He.a)({openMotion:k},G,{expandIcon:ye,prefixCls:je,className:K}),I())};te.Panel=X;var W=te,Y=pt.a=W},"kVK+":function(_t,pt){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */pt.read=function(Fe,He,Ye,ot,Qe){var J,ae,T=Qe*8-ot-1,C=(1<<T)-1,b=C>>1,h=-7,p=Ye?Qe-1:0,f=Ye?-1:1,w=Fe[He+p];for(p+=f,J=w&(1<<-h)-1,w>>=-h,h+=T;h>0;J=J*256+Fe[He+p],p+=f,h-=8);for(ae=J&(1<<-h)-1,J>>=-h,h+=ot;h>0;ae=ae*256+Fe[He+p],p+=f,h-=8);if(J===0)J=1-b;else{if(J===C)return ae?NaN:(w?-1:1)*Infinity;ae=ae+Math.pow(2,ot),J=J-b}return(w?-1:1)*ae*Math.pow(2,J-ot)},pt.write=function(Fe,He,Ye,ot,Qe,J){var ae,T,C,b=J*8-Qe-1,h=(1<<b)-1,p=h>>1,f=Qe===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=ot?0:J-1,m=ot?1:-1,o=He<0||He===0&&1/He<0?1:0;for(He=Math.abs(He),isNaN(He)||He===Infinity?(T=isNaN(He)?1:0,ae=h):(ae=Math.floor(Math.log(He)/Math.LN2),He*(C=Math.pow(2,-ae))<1&&(ae--,C*=2),ae+p>=1?He+=f/C:He+=f*Math.pow(2,1-p),He*C>=2&&(ae++,C/=2),ae+p>=h?(T=0,ae=h):ae+p>=1?(T=(He*C-1)*Math.pow(2,Qe),ae=ae+p):(T=He*Math.pow(2,p-1)*Math.pow(2,Qe),ae=0));Qe>=8;Fe[Ye+w]=T&255,w+=m,T/=256,Qe-=8);for(ae=ae<<Qe|T,b+=Qe;b>0;Fe[Ye+w]=ae&255,w+=m,ae/=256,b-=8);Fe[Ye+w-m]|=o*128}},oOwn:function(_t,pt,Fe){(function(){var He=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],Ye=typeof window!="undefined",ot=Ye&&window.mozInnerScreenX!=null;function Qe(J,ae,T){if(!Ye)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var C=T&&T.debug||!1;if(C){var b=document.querySelector("#input-textarea-caret-position-mirror-div");b&&b.parentNode.removeChild(b)}var h=document.createElement("div");h.id="input-textarea-caret-position-mirror-div",document.body.appendChild(h);var p=h.style,f=window.getComputedStyle?getComputedStyle(J):J.currentStyle;p.whiteSpace="pre-wrap",J.nodeName!=="INPUT"&&(p.wordWrap="break-word"),p.position="absolute",C||(p.visibility="hidden"),He.forEach(function(o){p[o]=f[o]}),ot?J.scrollHeight>parseInt(f.height)&&(p.overflowY="scroll"):p.overflow="hidden",h.textContent=J.value.substring(0,ae),J.nodeName==="INPUT"&&(h.textContent=h.textContent.replace(/\s/g,"\xA0"));var w=document.createElement("span");w.textContent=J.value.substring(ae)||".",h.appendChild(w);var m={top:w.offsetTop+parseInt(f.borderTopWidth),left:w.offsetLeft+parseInt(f.borderLeftWidth)};return C?w.style.backgroundColor="#aaa":document.body.removeChild(h),m}typeof _t.exports!="undefined"?_t.exports=Qe:Ye&&(window.getCaretCoordinates=Qe)})()},tneF:function(_t,pt,Fe){"use strict";var He=Fe("sRBo"),Ye=Fe("kaz8"),ot=Fe("VTBJ"),Qe=Fe("Ff2n"),J=Fe("nKUr"),ae=Fe.n(J),T=Fe("uX+g"),C=Fe("q1tI"),b=Fe.n(C),h=Fe("WFLz"),p=Fe("adzw"),f=["options","fieldProps","proFieldProps","valueEnum"],w=b.a.forwardRef(function(e,r){var n=e.options,t=e.fieldProps,u=e.proFieldProps,d=e.valueEnum,_=Object(Qe.a)(e,f);return Object(J.jsx)(p.a,Object(ot.a)({ref:r,valueType:"checkbox",valueEnum:Object(T.a)(d,void 0),fieldProps:Object(ot.a)({options:n},t),lightProps:Object(ot.a)({labelFormatter:function(){return Object(J.jsx)(p.a,Object(ot.a)({ref:r,valueType:"checkbox",mode:"read",valueEnum:Object(T.a)(d,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(ot.a)({options:n},t),proFieldProps:u},_))}},_.lightProps),proFieldProps:u},_))}),m=b.a.forwardRef(function(e,r){var n=e.fieldProps,t=e.children;return Object(J.jsx)(Ye.a,Object(ot.a)(Object(ot.a)({ref:r},n),{},{children:t}))}),o=Object(h.a)(m,{valuePropName:"checked"}),i=o;i.Group=w,pt.a=i},v3Qx:function(_t,pt){var Fe={}.toString;_t.exports=Array.isArray||function(He){return Fe.call(He)=="[object Array]"}},xOOu:function(_t,pt,Fe){(function(He,Ye,ot){var Qe,Qe;/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(J){_t.exports=J()})(function(){return function J(ae,T,C){function b(f,w){if(!T[f]){if(!ae[f]){var m=typeof Qe=="function"&&Qe;if(!w&&m)return Qe(f,!0);if(h)return h(f,!0);var o=new Error("Cannot find module '"+f+"'");throw o.code="MODULE_NOT_FOUND",o}var i=T[f]={exports:{}};ae[f][0].call(i.exports,function(e){var r=ae[f][1][e];return b(r||e)},i,i.exports,J,ae,T,C)}return T[f].exports}for(var h=typeof Qe=="function"&&Qe,p=0;p<C.length;p++)b(C[p]);return b}({1:[function(J,ae,T){"use strict";var C=J("./utils"),b=J("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";T.encode=function(p){for(var f,w,m,o,i,e,r,n=[],t=0,u=p.length,d=u,_=C.getTypeOf(p)!=="string";t<p.length;)d=u-t,m=_?(f=p[t++],w=t<u?p[t++]:0,t<u?p[t++]:0):(f=p.charCodeAt(t++),w=t<u?p.charCodeAt(t++):0,t<u?p.charCodeAt(t++):0),o=f>>2,i=(3&f)<<4|w>>4,e=1<d?(15&w)<<2|m>>6:64,r=2<d?63&m:64,n.push(h.charAt(o)+h.charAt(i)+h.charAt(e)+h.charAt(r));return n.join("")},T.decode=function(p){var f,w,m,o,i,e,r=0,n=0,t="data:";if(p.substr(0,t.length)===t)throw new Error("Invalid base64 input, it looks like a data url.");var u,d=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===h.charAt(64)&&d--,p.charAt(p.length-2)===h.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(u=b.uint8array?new Uint8Array(0|d):new Array(0|d);r<p.length;)f=h.indexOf(p.charAt(r++))<<2|(o=h.indexOf(p.charAt(r++)))>>4,w=(15&o)<<4|(i=h.indexOf(p.charAt(r++)))>>2,m=(3&i)<<6|(e=h.indexOf(p.charAt(r++))),u[n++]=f,i!==64&&(u[n++]=w),e!==64&&(u[n++]=m);return u}},{"./support":30,"./utils":32}],2:[function(J,ae,T){"use strict";var C=J("./external"),b=J("./stream/DataWorker"),h=J("./stream/Crc32Probe"),p=J("./stream/DataLengthProbe");function f(w,m,o,i,e){this.compressedSize=w,this.uncompressedSize=m,this.crc32=o,this.compression=i,this.compressedContent=e}f.prototype={getContentWorker:function(){var m=new b(C.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),o=this;return m.on("end",function(){if(this.streamInfo.data_length!==o.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new b(C.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(w,m,o){return w.pipe(new h).pipe(new p("uncompressedSize")).pipe(m.compressWorker(o)).pipe(new p("compressedSize")).withStreamInfo("compression",m)},ae.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(J,ae,T){"use strict";var C=J("./stream/GenericWorker");T.STORE={magic:"\0\0",compressWorker:function(){return new C("STORE compression")},uncompressWorker:function(){return new C("STORE decompression")}},T.DEFLATE=J("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(J,ae,T){"use strict";var C=J("./utils"),b=function(){for(var h,p=[],f=0;f<256;f++){h=f;for(var w=0;w<8;w++)h=1&h?3988292384^h>>>1:h>>>1;p[f]=h}return p}();ae.exports=function(h,p){return h!==void 0&&h.length?C.getTypeOf(h)!=="string"?function(f,w,m,o){var i=b,e=o+m;f^=-1;for(var r=o;r<e;r++)f=f>>>8^i[255&(f^w[r])];return-1^f}(0|p,h,h.length,0):function(f,w,m,o){var i=b,e=o+m;f^=-1;for(var r=o;r<e;r++)f=f>>>8^i[255&(f^w.charCodeAt(r))];return-1^f}(0|p,h,h.length,0):0}},{"./utils":32}],5:[function(J,ae,T){"use strict";T.base64=!1,T.binary=!1,T.dir=!1,T.createFolders=!0,T.date=null,T.compression=null,T.compressionOptions=null,T.comment=null,T.unixPermissions=null,T.dosPermissions=null},{}],6:[function(J,ae,T){"use strict";var C=null;C=typeof Promise!="undefined"?Promise:J("lie"),ae.exports={Promise:C}},{lie:37}],7:[function(J,ae,T){"use strict";var C=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",b=J("pako"),h=J("./utils"),p=J("./stream/GenericWorker"),f=C?"uint8array":"array";function w(m,o){p.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=o,this.meta={}}T.magic="\b\0",h.inherits(w,p),w.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(f,m.data),!1)},w.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new b[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(o){m.push({data:o,meta:m.meta})}},T.compressWorker=function(m){return new w("Deflate",m)},T.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(J,ae,T){"use strict";function C(i,e){var r,n="";for(r=0;r<e;r++)n+=String.fromCharCode(255&i),i>>>=8;return n}function b(i,e,r,n,t,u){var d,_,E=i.file,A=i.compression,S=u!==f.utf8encode,L=h.transformTo("string",u(E.name)),P=h.transformTo("string",f.utf8encode(E.name)),M=E.comment,q=h.transformTo("string",u(M)),F=h.transformTo("string",f.utf8encode(M)),Z=P.length!==E.name.length,B=F.length!==M.length,X="",te="",W="",Y=E.dir,z=E.date,G={crc32:0,compressedSize:0,uncompressedSize:0};e&&!r||(G.crc32=i.crc32,G.compressedSize=i.compressedSize,G.uncompressedSize=i.uncompressedSize);var H=0;e&&(H|=8),S||!Z&&!B||(H|=2048);var D=0,Q=0;Y&&(D|=16),t==="UNIX"?(Q=798,D|=function(ne,me){var de=ne;return ne||(de=me?16893:33204),(65535&de)<<16}(E.unixPermissions,Y)):(Q=20,D|=function(ne){return 63&(ne||0)}(E.dosPermissions)),d=z.getUTCHours(),d<<=6,d|=z.getUTCMinutes(),d<<=5,d|=z.getUTCSeconds()/2,_=z.getUTCFullYear()-1980,_<<=4,_|=z.getUTCMonth()+1,_<<=5,_|=z.getUTCDate(),Z&&(te=C(1,1)+C(w(L),4)+P,X+="up"+C(te.length,2)+te),B&&(W=C(1,1)+C(w(q),4)+F,X+="uc"+C(W.length,2)+W);var ce="";return ce+=`
\0`,ce+=C(H,2),ce+=A.magic,ce+=C(d,2),ce+=C(_,2),ce+=C(G.crc32,4),ce+=C(G.compressedSize,4),ce+=C(G.uncompressedSize,4),ce+=C(L.length,2),ce+=C(X.length,2),{fileRecord:m.LOCAL_FILE_HEADER+ce+L+X,dirRecord:m.CENTRAL_FILE_HEADER+C(Q,2)+ce+C(q.length,2)+"\0\0\0\0"+C(D,4)+C(n,4)+L+X+q}}var h=J("../utils"),p=J("../stream/GenericWorker"),f=J("../utf8"),w=J("../crc32"),m=J("../signature");function o(i,e,r,n){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=i,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(o,p),o.prototype.push=function(i){var e=i.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(i):(this.bytesWritten+=i.data.length,p.prototype.push.call(this,{data:i.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-n-1))/r:100}}))},o.prototype.openedSource=function(i){this.currentSourceOffset=this.bytesWritten,this.currentFile=i.file.name;var e=this.streamFiles&&!i.file.dir;if(e){var r=b(i,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},o.prototype.closedSource=function(i){this.accumulate=!1;var e=this.streamFiles&&!i.file.dir,r=b(i,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:function(n){return m.DATA_DESCRIPTOR+C(n.crc32,4)+C(n.compressedSize,4)+C(n.uncompressedSize,4)}(i),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},o.prototype.flush=function(){for(var i=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-i,n=function(t,u,d,_,E){var A=h.transformTo("string",E(_));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+C(t,2)+C(t,2)+C(u,4)+C(d,4)+C(A.length,2)+A}(this.dirRecords.length,r,i,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},o.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},o.prototype.registerPrevious=function(i){this._sources.push(i);var e=this;return i.on("data",function(r){e.processChunk(r)}),i.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),i.on("error",function(r){e.error(r)}),this},o.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},o.prototype.error=function(i){var e=this._sources;if(!p.prototype.error.call(this,i))return!1;for(var r=0;r<e.length;r++)try{e[r].error(i)}catch(n){}return!0},o.prototype.lock=function(){p.prototype.lock.call(this);for(var i=this._sources,e=0;e<i.length;e++)i[e].lock()},ae.exports=o},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(J,ae,T){"use strict";var C=J("../compressions"),b=J("./ZipFileWorker");T.generateWorker=function(h,p,f){var w=new b(p.streamFiles,f,p.platform,p.encodeFileName),m=0;try{h.forEach(function(o,i){m++;var e=function(u,d){var _=u||d,E=C[_];if(!E)throw new Error(_+" is not a valid compression method !");return E}(i.options.compression,p.compression),r=i.options.compressionOptions||p.compressionOptions||{},n=i.dir,t=i.date;i._compressWorker(e,r).withStreamInfo("file",{name:o,dir:n,date:t,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(w)}),w.entriesCount=m}catch(o){w.error(o)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(J,ae,T){"use strict";function C(){if(!(this instanceof C))return new C;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var b=new C;for(var h in this)typeof this[h]!="function"&&(b[h]=this[h]);return b}}(C.prototype=J("./object")).loadAsync=J("./load"),C.support=J("./support"),C.defaults=J("./defaults"),C.version="3.10.1",C.loadAsync=function(b,h){return new C().loadAsync(b,h)},C.external=J("./external"),ae.exports=C},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(J,ae,T){"use strict";var C=J("./utils"),b=J("./external"),h=J("./utf8"),p=J("./zipEntries"),f=J("./stream/Crc32Probe"),w=J("./nodejsUtils");function m(o){return new b.Promise(function(i,e){var r=o.decompressed.getContentWorker().pipe(new f);r.on("error",function(n){e(n)}).on("end",function(){r.streamInfo.crc32!==o.decompressed.crc32?e(new Error("Corrupted zip : CRC32 mismatch")):i()}).resume()})}ae.exports=function(o,i){var e=this;return i=C.extend(i||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),w.isNode&&w.isStream(o)?b.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):C.prepareContent("the loaded zip file",o,!0,i.optimizedBinaryString,i.base64).then(function(r){var n=new p(i);return n.load(r),n}).then(function(r){var n=[b.Promise.resolve(r)],t=r.files;if(i.checkCRC32)for(var u=0;u<t.length;u++)n.push(m(t[u]));return b.Promise.all(n)}).then(function(r){for(var n=r.shift(),t=n.files,u=0;u<t.length;u++){var d=t[u],_=d.fileNameStr,E=C.resolve(d.fileNameStr);e.file(E,d.decompressed,{binary:!0,optimizedBinaryString:!0,date:d.date,dir:d.dir,comment:d.fileCommentStr.length?d.fileCommentStr:null,unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions,createFolders:i.createFolders}),d.dir||(e.file(E).unsafeOriginalName=_)}return n.zipComment.length&&(e.comment=n.zipComment),e})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(J,ae,T){"use strict";var C=J("../utils"),b=J("../stream/GenericWorker");function h(p,f){b.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(f)}C.inherits(h,b),h.prototype._bindStream=function(p){var f=this;(this._stream=p).pause(),p.on("data",function(w){f.push({data:w,meta:{percent:0}})}).on("error",function(w){f.isPaused?this.generatedError=w:f.error(w)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},h.prototype.pause=function(){return!!b.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},ae.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(J,ae,T){"use strict";var C=J("readable-stream").Readable;function b(h,p,f){C.call(this,p),this._helper=h;var w=this;h.on("data",function(m,o){w.push(m)||w._helper.pause(),f&&f(o)}).on("error",function(m){w.emit("error",m)}).on("end",function(){w.push(null)})}J("../utils").inherits(b,C),b.prototype._read=function(){this._helper.resume()},ae.exports=b},{"../utils":32,"readable-stream":16}],14:[function(J,ae,T){"use strict";ae.exports={isNode:typeof He!="undefined",newBufferFrom:function(b,h){if(He.from&&He.from!==Uint8Array.from)return He.from(b,h);if(typeof b=="number")throw new Error('The "data" argument must not be a number');return new He(b,h)},allocBuffer:function(b){if(He.alloc)return He.alloc(b);var h=new He(b);return h.fill(0),h},isBuffer:function(b){return He.isBuffer(b)},isStream:function(b){return b&&typeof b.on=="function"&&typeof b.pause=="function"&&typeof b.resume=="function"}}},{}],15:[function(J,ae,T){"use strict";function C(E,A,S){var L,P=h.getTypeOf(A),M=h.extend(S||{},w);M.date=M.date||new Date,M.compression!==null&&(M.compression=M.compression.toUpperCase()),typeof M.unixPermissions=="string"&&(M.unixPermissions=parseInt(M.unixPermissions,8)),M.unixPermissions&&16384&M.unixPermissions&&(M.dir=!0),M.dosPermissions&&16&M.dosPermissions&&(M.dir=!0),M.dir&&(E=t(E)),M.createFolders&&(L=n(E))&&u.call(this,L,!0);var q=P==="string"&&M.binary===!1&&M.base64===!1;S&&S.binary!==void 0||(M.binary=!q),(A instanceof m&&A.uncompressedSize===0||M.dir||!A||A.length===0)&&(M.base64=!1,M.binary=!0,A="",M.compression="STORE",P="string");var F=null;F=A instanceof m||A instanceof p?A:e.isNode&&e.isStream(A)?new r(E,A):h.prepareContent(E,A,M.binary,M.optimizedBinaryString,M.base64);var Z=new o(E,F,M);this.files[E]=Z}var b=J("./utf8"),h=J("./utils"),p=J("./stream/GenericWorker"),f=J("./stream/StreamHelper"),w=J("./defaults"),m=J("./compressedObject"),o=J("./zipObject"),i=J("./generate"),e=J("./nodejsUtils"),r=J("./nodejs/NodejsStreamInputAdapter"),n=function(A){A.slice(-1)==="/"&&(A=A.substring(0,A.length-1));var S=A.lastIndexOf("/");return 0<S?A.substring(0,S):""},t=function(A){return A.slice(-1)!=="/"&&(A+="/"),A},u=function(A,S){return S=S!==void 0?S:w.createFolders,A=t(A),this.files[A]||C.call(this,A,null,{dir:!0,createFolders:S}),this.files[A]};function d(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var _={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(A){var S,L,P;for(S in this.files)P=this.files[S],(L=S.slice(this.root.length,S.length))&&S.slice(0,this.root.length)===this.root&&A(L,P)},filter:function(A){var S=[];return this.forEach(function(L,P){A(L,P)&&S.push(P)}),S},file:function(A,S,L){if(arguments.length!==1)return A=this.root+A,C.call(this,A,S,L),this;if(d(A)){var P=A;return this.filter(function(q,F){return!F.dir&&P.test(q)})}var M=this.files[this.root+A];return M&&!M.dir?M:null},folder:function(A){if(!A)return this;if(d(A))return this.filter(function(M,q){return q.dir&&A.test(M)});var S=this.root+A,L=u.call(this,S),P=this.clone();return P.root=L.name,P},remove:function(A){A=this.root+A;var S=this.files[A];if(S||(A.slice(-1)!=="/"&&(A+="/"),S=this.files[A]),S&&!S.dir)delete this.files[A];else for(var L=this.filter(function(M,q){return q.name.slice(0,A.length)===A}),P=0;P<L.length;P++)delete this.files[L[P].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(A){var S,L={};try{if((L=h.extend(A||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:b.utf8encode})).type=L.type.toLowerCase(),L.compression=L.compression.toUpperCase(),L.type==="binarystring"&&(L.type="string"),!L.type)throw new Error("No output type specified.");h.checkSupport(L.type),L.platform!=="darwin"&&L.platform!=="freebsd"&&L.platform!=="linux"&&L.platform!=="sunos"||(L.platform="UNIX"),L.platform==="win32"&&(L.platform="DOS");var P=L.comment||this.comment||"";S=i.generateWorker(this,L,P)}catch(M){(S=new p("error")).error(M)}return new f(S,L.type||"string",L.mimeType)},generateAsync:function(A,S){return this.generateInternalStream(A).accumulate(S)},generateNodeStream:function(A,S){return(A=A||{}).type||(A.type="nodebuffer"),this.generateInternalStream(A).toNodejsStream(S)}};ae.exports=_},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(J,ae,T){"use strict";ae.exports=J("stream")},{stream:void 0}],17:[function(J,ae,T){"use strict";var C=J("./DataReader");function b(h){C.call(this,h);for(var p=0;p<this.data.length;p++)h[p]=255&h[p]}J("../utils").inherits(b,C),b.prototype.byteAt=function(h){return this.data[this.zero+h]},b.prototype.lastIndexOfSignature=function(h){for(var p=h.charCodeAt(0),f=h.charCodeAt(1),w=h.charCodeAt(2),m=h.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===p&&this.data[o+1]===f&&this.data[o+2]===w&&this.data[o+3]===m)return o-this.zero;return-1},b.prototype.readAndCheckSignature=function(h){var p=h.charCodeAt(0),f=h.charCodeAt(1),w=h.charCodeAt(2),m=h.charCodeAt(3),o=this.readData(4);return p===o[0]&&f===o[1]&&w===o[2]&&m===o[3]},b.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},ae.exports=b},{"../utils":32,"./DataReader":18}],18:[function(J,ae,T){"use strict";var C=J("../utils");function b(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}b.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var f,w=0;for(this.checkOffset(p),f=this.index+p-1;f>=this.index;f--)w=(w<<8)+this.byteAt(f);return this.index+=p,w},readString:function(p){return C.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},ae.exports=b},{"../utils":32}],19:[function(J,ae,T){"use strict";var C=J("./Uint8ArrayReader");function b(h){C.call(this,h)}J("../utils").inherits(b,C),b.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},ae.exports=b},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(J,ae,T){"use strict";var C=J("./DataReader");function b(h){C.call(this,h)}J("../utils").inherits(b,C),b.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},b.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},b.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},b.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},ae.exports=b},{"../utils":32,"./DataReader":18}],21:[function(J,ae,T){"use strict";var C=J("./ArrayReader");function b(h){C.call(this,h)}J("../utils").inherits(b,C),b.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},ae.exports=b},{"../utils":32,"./ArrayReader":17}],22:[function(J,ae,T){"use strict";var C=J("../utils"),b=J("../support"),h=J("./ArrayReader"),p=J("./StringReader"),f=J("./NodeBufferReader"),w=J("./Uint8ArrayReader");ae.exports=function(m){var o=C.getTypeOf(m);return C.checkSupport(o),o!=="string"||b.uint8array?o==="nodebuffer"?new f(m):b.uint8array?new w(C.transformTo("uint8array",m)):new h(C.transformTo("array",m)):new p(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(J,ae,T){"use strict";T.LOCAL_FILE_HEADER="PK",T.CENTRAL_FILE_HEADER="PK",T.CENTRAL_DIRECTORY_END="PK",T.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",T.ZIP64_CENTRAL_DIRECTORY_END="PK",T.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(J,ae,T){"use strict";var C=J("./GenericWorker"),b=J("../utils");function h(p){C.call(this,"ConvertWorker to "+p),this.destType=p}b.inherits(h,C),h.prototype.processChunk=function(p){this.push({data:b.transformTo(this.destType,p.data),meta:p.meta})},ae.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(J,ae,T){"use strict";var C=J("./GenericWorker"),b=J("../crc32");function h(){C.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}J("../utils").inherits(h,C),h.prototype.processChunk=function(p){this.streamInfo.crc32=b(p.data,this.streamInfo.crc32||0),this.push(p)},ae.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(J,ae,T){"use strict";var C=J("../utils"),b=J("./GenericWorker");function h(p){b.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}C.inherits(h,b),h.prototype.processChunk=function(p){if(p){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+p.data.length}b.prototype.processChunk.call(this,p)},ae.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(J,ae,T){"use strict";var C=J("../utils"),b=J("./GenericWorker");function h(p){b.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(w){f.dataIsReady=!0,f.data=w,f.max=w&&w.length||0,f.type=C.getTypeOf(w),f.isPaused||f._tickAndRepeat()},function(w){f.error(w)})}C.inherits(h,b),h.prototype.cleanUp=function(){b.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!b.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,C.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(C.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,f);break;case"uint8array":p=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":p=this.data.slice(this.index,f)}return this.index=f,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},ae.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(J,ae,T){"use strict";function C(b){this.name=b||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}C.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,p){return this._listeners[h].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,p){if(this._listeners[h])for(var f=0;f<this._listeners[h].length;f++)this._listeners[h][f].call(this,p)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var p=this;return h.on("data",function(f){p.processChunk(f)}),h.on("end",function(){p.end()}),h.on("error",function(f){p.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,p){return this.extraStreamInfo[h]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},ae.exports=C},{}],29:[function(J,ae,T){"use strict";var C=J("../utils"),b=J("./ConvertWorker"),h=J("./GenericWorker"),p=J("../base64"),f=J("../support"),w=J("../external"),m=null;if(f.nodestream)try{m=J("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function o(e,r){return new w.Promise(function(n,t){var u=[],d=e._internalType,_=e._outputType,E=e._mimeType;e.on("data",function(A,S){u.push(A),r&&r(S)}).on("error",function(A){u=[],t(A)}).on("end",function(){try{var A=function(S,L,P){switch(S){case"blob":return C.newBlob(C.transformTo("arraybuffer",L),P);case"base64":return p.encode(L);default:return C.transformTo(S,L)}}(_,function(S,L){var P,M=0,q=null,F=0;for(P=0;P<L.length;P++)F+=L[P].length;switch(S){case"string":return L.join("");case"array":return Array.prototype.concat.apply([],L);case"uint8array":for(q=new Uint8Array(F),P=0;P<L.length;P++)q.set(L[P],M),M+=L[P].length;return q;case"nodebuffer":return He.concat(L);default:throw new Error("concat : unsupported type '"+S+"'")}}(d,u),E);n(A)}catch(S){t(S)}u=[]}).resume()})}function i(e,r,n){var t=r;switch(r){case"blob":case"arraybuffer":t="uint8array";break;case"base64":t="string"}try{this._internalType=t,this._outputType=r,this._mimeType=n,C.checkSupport(t),this._worker=e.pipe(new b(t)),e.lock()}catch(u){this._worker=new h("error"),this._worker.error(u)}}i.prototype={accumulate:function(r){return o(this,r)},on:function(r,n){var t=this;return r==="data"?this._worker.on(r,function(u){n.call(t,u.data,u.meta)}):this._worker.on(r,function(){C.delay(n,arguments,t)}),this},resume:function(){return C.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(r){if(C.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},r)}},ae.exports=i},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(J,ae,T){"use strict";if(T.base64=!0,T.array=!0,T.string=!0,T.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",T.nodebuffer=typeof He!="undefined",T.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")T.blob=!1;else{var C=new ArrayBuffer(0);try{T.blob=new Blob([C],{type:"application/zip"}).size===0}catch(h){try{var b=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);b.append(C),T.blob=b.getBlob("application/zip").size===0}catch(p){T.blob=!1}}}try{T.nodestream=!!J("readable-stream").Readable}catch(h){T.nodestream=!1}},{"readable-stream":16}],31:[function(J,ae,T){"use strict";for(var C=J("./utils"),b=J("./support"),h=J("./nodejsUtils"),p=J("./stream/GenericWorker"),f=new Array(256),w=0;w<256;w++)f[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;f[254]=f[254]=1;function m(){p.call(this,"utf-8 decode"),this.leftOver=null}function o(){p.call(this,"utf-8 encode")}T.utf8encode=function(i){return b.nodebuffer?h.newBufferFrom(i,"utf-8"):function(e){var r,n,t,u,d,_=e.length,E=0;for(u=0;u<_;u++)(64512&(n=e.charCodeAt(u)))==55296&&u+1<_&&(64512&(t=e.charCodeAt(u+1)))==56320&&(n=65536+(n-55296<<10)+(t-56320),u++),E+=n<128?1:n<2048?2:n<65536?3:4;for(r=b.uint8array?new Uint8Array(E):new Array(E),u=d=0;d<E;u++)(64512&(n=e.charCodeAt(u)))==55296&&u+1<_&&(64512&(t=e.charCodeAt(u+1)))==56320&&(n=65536+(n-55296<<10)+(t-56320),u++),n<128?r[d++]=n:(n<2048?r[d++]=192|n>>>6:(n<65536?r[d++]=224|n>>>12:(r[d++]=240|n>>>18,r[d++]=128|n>>>12&63),r[d++]=128|n>>>6&63),r[d++]=128|63&n);return r}(i)},T.utf8decode=function(i){return b.nodebuffer?C.transformTo("nodebuffer",i).toString("utf-8"):function(e){var r,n,t,u,d=e.length,_=new Array(2*d);for(r=n=0;r<d;)if((t=e[r++])<128)_[n++]=t;else if(4<(u=f[t]))_[n++]=65533,r+=u-1;else{for(t&=u===2?31:u===3?15:7;1<u&&r<d;)t=t<<6|63&e[r++],u--;1<u?_[n++]=65533:t<65536?_[n++]=t:(t-=65536,_[n++]=55296|t>>10&1023,_[n++]=56320|1023&t)}return _.length!==n&&(_.subarray?_=_.subarray(0,n):_.length=n),C.applyFromCharCode(_)}(i=C.transformTo(b.uint8array?"uint8array":"array",i))},C.inherits(m,p),m.prototype.processChunk=function(i){var e=C.transformTo(b.uint8array?"uint8array":"array",i.data);if(this.leftOver&&this.leftOver.length){if(b.uint8array){var r=e;(e=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var n=function(u,d){var _;for((d=d||u.length)>u.length&&(d=u.length),_=d-1;0<=_&&(192&u[_])==128;)_--;return _<0||_===0?d:_+f[u[_]]>d?_:d}(e),t=e;n!==e.length&&(b.uint8array?(t=e.subarray(0,n),this.leftOver=e.subarray(n,e.length)):(t=e.slice(0,n),this.leftOver=e.slice(n,e.length))),this.push({data:T.utf8decode(t),meta:i.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:T.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},T.Utf8DecodeWorker=m,C.inherits(o,p),o.prototype.processChunk=function(i){this.push({data:T.utf8encode(i.data),meta:i.meta})},T.Utf8EncodeWorker=o},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(J,ae,T){"use strict";var C=J("./support"),b=J("./base64"),h=J("./nodejsUtils"),p=J("./external");function f(r){return r}function w(r,n){for(var t=0;t<r.length;++t)n[t]=255&r.charCodeAt(t);return n}J("setimmediate"),T.newBlob=function(r,n){T.checkSupport("blob");try{return new Blob([r],{type:n})}catch(u){try{var t=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return t.append(r),t.getBlob(n)}catch(d){throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(n,t,u){var d=[],_=0,E=n.length;if(E<=u)return String.fromCharCode.apply(null,n);for(;_<E;)t==="array"||t==="nodebuffer"?d.push(String.fromCharCode.apply(null,n.slice(_,Math.min(_+u,E)))):d.push(String.fromCharCode.apply(null,n.subarray(_,Math.min(_+u,E)))),_+=u;return d.join("")},stringifyByChar:function(n){for(var t="",u=0;u<n.length;u++)t+=String.fromCharCode(n[u]);return t},applyCanBeUsed:{uint8array:function(){try{return C.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(r){return!1}}(),nodebuffer:function(){try{return C.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch(r){return!1}}()}};function o(r){var n=65536,t=T.getTypeOf(r),u=!0;if(t==="uint8array"?u=m.applyCanBeUsed.uint8array:t==="nodebuffer"&&(u=m.applyCanBeUsed.nodebuffer),u)for(;1<n;)try{return m.stringifyByChunk(r,t,n)}catch(d){n=Math.floor(n/2)}return m.stringifyByChar(r)}function i(r,n){for(var t=0;t<r.length;t++)n[t]=r[t];return n}T.applyFromCharCode=o;var e={};e.string={string:f,array:function(n){return w(n,new Array(n.length))},arraybuffer:function(n){return e.string.uint8array(n).buffer},uint8array:function(n){return w(n,new Uint8Array(n.length))},nodebuffer:function(n){return w(n,h.allocBuffer(n.length))}},e.array={string:o,array:f,arraybuffer:function(n){return new Uint8Array(n).buffer},uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return h.newBufferFrom(n)}},e.arraybuffer={string:function(n){return o(new Uint8Array(n))},array:function(n){return i(new Uint8Array(n),new Array(n.byteLength))},arraybuffer:f,uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return h.newBufferFrom(new Uint8Array(n))}},e.uint8array={string:o,array:function(n){return i(n,new Array(n.length))},arraybuffer:function(n){return n.buffer},uint8array:f,nodebuffer:function(n){return h.newBufferFrom(n)}},e.nodebuffer={string:o,array:function(n){return i(n,new Array(n.length))},arraybuffer:function(n){return e.nodebuffer.uint8array(n).buffer},uint8array:function(n){return i(n,new Uint8Array(n.length))},nodebuffer:f},T.transformTo=function(r,n){if(n=n||"",!r)return n;T.checkSupport(r);var t=T.getTypeOf(n);return e[t][r](n)},T.resolve=function(r){for(var n=r.split("/"),t=[],u=0;u<n.length;u++){var d=n[u];d==="."||d===""&&u!==0&&u!==n.length-1||(d===".."?t.pop():t.push(d))}return t.join("/")},T.getTypeOf=function(r){return typeof r=="string"?"string":Object.prototype.toString.call(r)==="[object Array]"?"array":C.nodebuffer&&h.isBuffer(r)?"nodebuffer":C.uint8array&&r instanceof Uint8Array?"uint8array":C.arraybuffer&&r instanceof ArrayBuffer?"arraybuffer":void 0},T.checkSupport=function(r){if(!C[r.toLowerCase()])throw new Error(r+" is not supported by this platform")},T.MAX_VALUE_16BITS=65535,T.MAX_VALUE_32BITS=-1,T.pretty=function(r){var n,t,u="";for(t=0;t<(r||"").length;t++)u+="\\x"+((n=r.charCodeAt(t))<16?"0":"")+n.toString(16).toUpperCase();return u},T.delay=function(r,n,t){setImmediate(function(){r.apply(t||null,n||[])})},T.inherits=function(r,n){function t(){}t.prototype=n.prototype,r.prototype=new t},T.extend=function(){var r,n,t={};for(r=0;r<arguments.length;r++)for(n in arguments[r])Object.prototype.hasOwnProperty.call(arguments[r],n)&&t[n]===void 0&&(t[n]=arguments[r][n]);return t},T.prepareContent=function(r,n,t,u,d){return p.Promise.resolve(n).then(function(_){return C.blob&&(_ instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(_))!==-1)&&typeof FileReader!="undefined"?new p.Promise(function(E,A){var S=new FileReader;S.onload=function(L){E(L.target.result)},S.onerror=function(L){A(L.target.error)},S.readAsArrayBuffer(_)}):_}).then(function(_){var E=T.getTypeOf(_);return E?(E==="arraybuffer"?_=T.transformTo("uint8array",_):E==="string"&&(d?_=b.decode(_):t&&u!==!0&&(_=function(A){return w(A,C.uint8array?new Uint8Array(A.length):new Array(A.length))}(_))),_):p.Promise.reject(new Error("Can't read the data of '"+r+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(J,ae,T){"use strict";var C=J("./reader/readerFor"),b=J("./utils"),h=J("./signature"),p=J("./zipEntry"),f=J("./support");function w(m){this.files=[],this.loadOptions=m}w.prototype={checkSignature:function(o){if(!this.reader.readAndCheckSignature(o)){this.reader.index-=4;var i=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+b.pretty(i)+", expected "+b.pretty(o)+")")}},isSignature:function(o,i){var e=this.reader.index;this.reader.setIndex(o);var r=this.reader.readString(4)===i;return this.reader.setIndex(e),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var o=this.reader.readData(this.zipCommentLength),i=f.uint8array?"uint8array":"array",e=b.transformTo(i,o);this.zipComment=this.loadOptions.decodeFileName(e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var o,i,e,r=this.zip64EndOfCentralSize-44;0<r;)o=this.reader.readInt(2),i=this.reader.readInt(4),e=this.reader.readData(i),this.zip64ExtensibleData[o]={id:o,length:i,value:e}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var o,i;for(o=0;o<this.files.length;o++)i=this.files[o],this.reader.setIndex(i.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),i.readLocalPart(this.reader),i.handleUTF8(),i.processAttributes()},readCentralDir:function(){var o;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(o=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(o);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var o=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(o<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(o);var i=o;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===b.MAX_VALUE_16BITS||this.diskWithCentralDirStart===b.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===b.MAX_VALUE_16BITS||this.centralDirRecords===b.MAX_VALUE_16BITS||this.centralDirSize===b.MAX_VALUE_32BITS||this.centralDirOffset===b.MAX_VALUE_32BITS){if(this.zip64=!0,(o=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(o),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var e=this.centralDirOffset+this.centralDirSize;this.zip64&&(e+=20,e+=12+this.zip64EndOfCentralSize);var r=i-e;if(0<r)this.isSignature(i,h.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(o){this.reader=C(o)},load:function(o){this.prepareReader(o),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},ae.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(J,ae,T){"use strict";var C=J("./reader/readerFor"),b=J("./utils"),h=J("./compressedObject"),p=J("./crc32"),f=J("./utf8"),w=J("./compressions"),m=J("./support");function o(i,e){this.options=i,this.loadOptions=e}o.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(e){var r,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((r=function(t){for(var u in w)if(Object.prototype.hasOwnProperty.call(w,u)&&w[u].magic===t)return w[u];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+b.pretty(this.compressionMethod)+" unknown (inner file : "+b.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,r,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var r=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(r),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e==0&&(this.dosPermissions=63&this.externalFileAttributes),e==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=C(this.extraFields[1].value);this.uncompressedSize===b.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===b.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===b.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===b.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var r,n,t,u=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<u;)r=e.readInt(2),n=e.readInt(2),t=e.readData(n),this.extraFields[r]={id:r,length:n,value:t};e.setIndex(u)},handleUTF8:function(){var e=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var r=this.findExtraFieldUnicodePath();if(r!==null)this.fileNameStr=r;else{var n=b.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var t=this.findExtraFieldUnicodeComment();if(t!==null)this.fileCommentStr=t;else{var u=b.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(u)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var r=C(e.value);return r.readInt(1)!==1||p(this.fileName)!==r.readInt(4)?null:f.utf8decode(r.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var r=C(e.value);return r.readInt(1)!==1||p(this.fileComment)!==r.readInt(4)?null:f.utf8decode(r.readData(e.length-5))}return null}},ae.exports=o},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(J,ae,T){"use strict";function C(e,r,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=r,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var b=J("./stream/StreamHelper"),h=J("./stream/DataWorker"),p=J("./utf8"),f=J("./compressedObject"),w=J("./stream/GenericWorker");C.prototype={internalStream:function(r){var n=null,t="string";try{if(!r)throw new Error("No output type specified.");var u=(t=r.toLowerCase())==="string"||t==="text";t!=="binarystring"&&t!=="text"||(t="string"),n=this._decompressWorker();var d=!this._dataBinary;d&&!u&&(n=n.pipe(new p.Utf8EncodeWorker)),!d&&u&&(n=n.pipe(new p.Utf8DecodeWorker))}catch(_){(n=new w("error")).error(_)}return new b(n,t,"")},async:function(r,n){return this.internalStream(r).accumulate(n)},nodeStream:function(r,n){return this.internalStream(r||"nodebuffer").toNodejsStream(n)},_compressWorker:function(r,n){if(this._data instanceof f&&this._data.compression.magic===r.magic)return this._data.getCompressedWorker();var t=this._decompressWorker();return this._dataBinary||(t=t.pipe(new p.Utf8EncodeWorker)),f.createWorkerFrom(t,r,n)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof w?this._data:new h(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],o=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<m.length;i++)C.prototype[m[i]]=o;ae.exports=C},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(J,ae,T){(function(C){"use strict";var b,h,p=C.MutationObserver||C.WebKitMutationObserver;if(p){var f=0,w=new p(e),m=C.document.createTextNode("");w.observe(m,{characterData:!0}),b=function(){m.data=f=++f%2}}else if(C.setImmediate||C.MessageChannel===void 0)b="document"in C&&"onreadystatechange"in C.document.createElement("script")?function(){var r=C.document.createElement("script");r.onreadystatechange=function(){e(),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},C.document.documentElement.appendChild(r)}:function(){setTimeout(e,0)};else{var o=new C.MessageChannel;o.port1.onmessage=e,b=function(){o.port2.postMessage(0)}}var i=[];function e(){var r,n;h=!0;for(var t=i.length;t;){for(n=i,i=[],r=-1;++r<t;)n[r]();t=i.length}h=!1}ae.exports=function(r){i.push(r)!==1||h||b()}}).call(this,typeof Ye!="undefined"?Ye:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(J,ae,T){"use strict";var C=J("immediate");function b(){}var h={},p=["REJECTED"],f=["FULFILLED"],w=["PENDING"];function m(t){if(typeof t!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,t!==b&&r(this,t)}function o(t,u,d){this.promise=t,typeof u=="function"&&(this.onFulfilled=u,this.callFulfilled=this.otherCallFulfilled),typeof d=="function"&&(this.onRejected=d,this.callRejected=this.otherCallRejected)}function i(t,u,d){C(function(){var _;try{_=u(d)}catch(E){return h.reject(t,E)}_===t?h.reject(t,new TypeError("Cannot resolve promise with itself")):h.resolve(t,_)})}function e(t){var u=t&&t.then;if(t&&(typeof t=="object"||typeof t=="function")&&typeof u=="function")return function(){u.apply(t,arguments)}}function r(t,u){var d=!1;function _(S){d||(d=!0,h.reject(t,S))}function E(S){d||(d=!0,h.resolve(t,S))}var A=n(function(){u(E,_)});A.status==="error"&&_(A.value)}function n(t,u){var d={};try{d.value=t(u),d.status="success"}catch(_){d.status="error",d.value=_}return d}(ae.exports=m).prototype.finally=function(t){if(typeof t!="function")return this;var u=this.constructor;return this.then(function(d){return u.resolve(t()).then(function(){return d})},function(d){return u.resolve(t()).then(function(){throw d})})},m.prototype.catch=function(t){return this.then(null,t)},m.prototype.then=function(t,u){if(typeof t!="function"&&this.state===f||typeof u!="function"&&this.state===p)return this;var d=new this.constructor(b);return this.state!==w?i(d,this.state===f?t:u,this.outcome):this.queue.push(new o(d,t,u)),d},o.prototype.callFulfilled=function(t){h.resolve(this.promise,t)},o.prototype.otherCallFulfilled=function(t){i(this.promise,this.onFulfilled,t)},o.prototype.callRejected=function(t){h.reject(this.promise,t)},o.prototype.otherCallRejected=function(t){i(this.promise,this.onRejected,t)},h.resolve=function(t,u){var d=n(e,u);if(d.status==="error")return h.reject(t,d.value);var _=d.value;if(_)r(t,_);else{t.state=f,t.outcome=u;for(var E=-1,A=t.queue.length;++E<A;)t.queue[E].callFulfilled(u)}return t},h.reject=function(t,u){t.state=p,t.outcome=u;for(var d=-1,_=t.queue.length;++d<_;)t.queue[d].callRejected(u);return t},m.resolve=function(t){return t instanceof this?t:h.resolve(new this(b),t)},m.reject=function(t){var u=new this(b);return h.reject(u,t)},m.all=function(t){var u=this;if(Object.prototype.toString.call(t)!=="[object Array]")return this.reject(new TypeError("must be an array"));var d=t.length,_=!1;if(!d)return this.resolve([]);for(var E=new Array(d),A=0,S=-1,L=new this(b);++S<d;)P(t[S],S);return L;function P(M,q){u.resolve(M).then(function(F){E[q]=F,++A!==d||_||(_=!0,h.resolve(L,E))},function(F){_||(_=!0,h.reject(L,F))})}},m.race=function(t){var u=this;if(Object.prototype.toString.call(t)!=="[object Array]")return this.reject(new TypeError("must be an array"));var d=t.length,_=!1;if(!d)return this.resolve([]);for(var E=-1,A=new this(b);++E<d;)S=t[E],u.resolve(S).then(function(L){_||(_=!0,h.resolve(A,L))},function(L){_||(_=!0,h.reject(A,L))});var S;return A}},{immediate:36}],38:[function(J,ae,T){"use strict";var C={};(0,J("./lib/utils/common").assign)(C,J("./lib/deflate"),J("./lib/inflate"),J("./lib/zlib/constants")),ae.exports=C},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(J,ae,T){"use strict";var C=J("./zlib/deflate"),b=J("./utils/common"),h=J("./utils/strings"),p=J("./zlib/messages"),f=J("./zlib/zstream"),w=Object.prototype.toString,m=0,o=-1,i=0,e=8;function r(t){if(!(this instanceof r))return new r(t);this.options=b.assign({level:o,method:e,chunkSize:16384,windowBits:15,memLevel:8,strategy:i,to:""},t||{});var u=this.options;u.raw&&0<u.windowBits?u.windowBits=-u.windowBits:u.gzip&&0<u.windowBits&&u.windowBits<16&&(u.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var d=C.deflateInit2(this.strm,u.level,u.method,u.windowBits,u.memLevel,u.strategy);if(d!==m)throw new Error(p[d]);if(u.header&&C.deflateSetHeader(this.strm,u.header),u.dictionary){var _;if(_=typeof u.dictionary=="string"?h.string2buf(u.dictionary):w.call(u.dictionary)==="[object ArrayBuffer]"?new Uint8Array(u.dictionary):u.dictionary,(d=C.deflateSetDictionary(this.strm,_))!==m)throw new Error(p[d]);this._dict_set=!0}}function n(t,u){var d=new r(u);if(d.push(t,!0),d.err)throw d.msg||p[d.err];return d.result}r.prototype.push=function(t,u){var d,_,E=this.strm,A=this.options.chunkSize;if(this.ended)return!1;_=u===~~u?u:u===!0?4:0,typeof t=="string"?E.input=h.string2buf(t):w.call(t)==="[object ArrayBuffer]"?E.input=new Uint8Array(t):E.input=t,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new b.Buf8(A),E.next_out=0,E.avail_out=A),(d=C.deflate(E,_))!==1&&d!==m)return this.onEnd(d),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||_!==4&&_!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(b.shrinkBuf(E.output,E.next_out))):this.onData(b.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&d!==1);return _===4?(d=C.deflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===m):_!==2||(this.onEnd(m),!(E.avail_out=0))},r.prototype.onData=function(t){this.chunks.push(t)},r.prototype.onEnd=function(t){t===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=t,this.msg=this.strm.msg},T.Deflate=r,T.deflate=n,T.deflateRaw=function(t,u){return(u=u||{}).raw=!0,n(t,u)},T.gzip=function(t,u){return(u=u||{}).gzip=!0,n(t,u)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(J,ae,T){"use strict";var C=J("./zlib/inflate"),b=J("./utils/common"),h=J("./utils/strings"),p=J("./zlib/constants"),f=J("./zlib/messages"),w=J("./zlib/zstream"),m=J("./zlib/gzheader"),o=Object.prototype.toString;function i(r){if(!(this instanceof i))return new i(r);this.options=b.assign({chunkSize:16384,windowBits:0,to:""},r||{});var n=this.options;n.raw&&0<=n.windowBits&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),!(0<=n.windowBits&&n.windowBits<16)||r&&r.windowBits||(n.windowBits+=32),15<n.windowBits&&n.windowBits<48&&(15&n.windowBits)==0&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var t=C.inflateInit2(this.strm,n.windowBits);if(t!==p.Z_OK)throw new Error(f[t]);this.header=new m,C.inflateGetHeader(this.strm,this.header)}function e(r,n){var t=new i(n);if(t.push(r,!0),t.err)throw t.msg||f[t.err];return t.result}i.prototype.push=function(r,n){var t,u,d,_,E,A,S=this.strm,L=this.options.chunkSize,P=this.options.dictionary,M=!1;if(this.ended)return!1;u=n===~~n?n:n===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof r=="string"?S.input=h.binstring2buf(r):o.call(r)==="[object ArrayBuffer]"?S.input=new Uint8Array(r):S.input=r,S.next_in=0,S.avail_in=S.input.length;do{if(S.avail_out===0&&(S.output=new b.Buf8(L),S.next_out=0,S.avail_out=L),(t=C.inflate(S,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&P&&(A=typeof P=="string"?h.string2buf(P):o.call(P)==="[object ArrayBuffer]"?new Uint8Array(P):P,t=C.inflateSetDictionary(this.strm,A)),t===p.Z_BUF_ERROR&&M===!0&&(t=p.Z_OK,M=!1),t!==p.Z_STREAM_END&&t!==p.Z_OK)return this.onEnd(t),!(this.ended=!0);S.next_out&&(S.avail_out!==0&&t!==p.Z_STREAM_END&&(S.avail_in!==0||u!==p.Z_FINISH&&u!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(d=h.utf8border(S.output,S.next_out),_=S.next_out-d,E=h.buf2string(S.output,d),S.next_out=_,S.avail_out=L-_,_&&b.arraySet(S.output,S.output,d,_,0),this.onData(E)):this.onData(b.shrinkBuf(S.output,S.next_out)))),S.avail_in===0&&S.avail_out===0&&(M=!0)}while((0<S.avail_in||S.avail_out===0)&&t!==p.Z_STREAM_END);return t===p.Z_STREAM_END&&(u=p.Z_FINISH),u===p.Z_FINISH?(t=C.inflateEnd(this.strm),this.onEnd(t),this.ended=!0,t===p.Z_OK):u!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(S.avail_out=0))},i.prototype.onData=function(r){this.chunks.push(r)},i.prototype.onEnd=function(r){r===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=b.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg},T.Inflate=i,T.inflate=e,T.inflateRaw=function(r,n){return(n=n||{}).raw=!0,e(r,n)},T.ungzip=e},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(J,ae,T){"use strict";var C=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";T.assign=function(p){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var w=f.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var m in w)w.hasOwnProperty(m)&&(p[m]=w[m])}}return p},T.shrinkBuf=function(p,f){return p.length===f?p:p.subarray?p.subarray(0,f):(p.length=f,p)};var b={arraySet:function(f,w,m,o,i){if(w.subarray&&f.subarray)f.set(w.subarray(m,m+o),i);else for(var e=0;e<o;e++)f[i+e]=w[m+e]},flattenChunks:function(f){var w,m,o,i,e,r;for(w=o=0,m=f.length;w<m;w++)o+=f[w].length;for(r=new Uint8Array(o),w=i=0,m=f.length;w<m;w++)e=f[w],r.set(e,i),i+=e.length;return r}},h={arraySet:function(f,w,m,o,i){for(var e=0;e<o;e++)f[i+e]=w[m+e]},flattenChunks:function(f){return[].concat.apply([],f)}};T.setTyped=function(p){p?(T.Buf8=Uint8Array,T.Buf16=Uint16Array,T.Buf32=Int32Array,T.assign(T,b)):(T.Buf8=Array,T.Buf16=Array,T.Buf32=Array,T.assign(T,h))},T.setTyped(C)},{}],42:[function(J,ae,T){"use strict";var C=J("./common"),b=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch(m){b=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(m){h=!1}for(var p=new C.Buf8(256),f=0;f<256;f++)p[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function w(m,o){if(o<65537&&(m.subarray&&h||!m.subarray&&b))return String.fromCharCode.apply(null,C.shrinkBuf(m,o));for(var i="",e=0;e<o;e++)i+=String.fromCharCode(m[e]);return i}p[254]=p[254]=1,T.string2buf=function(m){var o,i,e,r,n,t=m.length,u=0;for(r=0;r<t;r++)(64512&(i=m.charCodeAt(r)))==55296&&r+1<t&&(64512&(e=m.charCodeAt(r+1)))==56320&&(i=65536+(i-55296<<10)+(e-56320),r++),u+=i<128?1:i<2048?2:i<65536?3:4;for(o=new C.Buf8(u),r=n=0;n<u;r++)(64512&(i=m.charCodeAt(r)))==55296&&r+1<t&&(64512&(e=m.charCodeAt(r+1)))==56320&&(i=65536+(i-55296<<10)+(e-56320),r++),i<128?o[n++]=i:(i<2048?o[n++]=192|i>>>6:(i<65536?o[n++]=224|i>>>12:(o[n++]=240|i>>>18,o[n++]=128|i>>>12&63),o[n++]=128|i>>>6&63),o[n++]=128|63&i);return o},T.buf2binstring=function(m){return w(m,m.length)},T.binstring2buf=function(m){for(var o=new C.Buf8(m.length),i=0,e=o.length;i<e;i++)o[i]=m.charCodeAt(i);return o},T.buf2string=function(m,o){var i,e,r,n,t=o||m.length,u=new Array(2*t);for(i=e=0;i<t;)if((r=m[i++])<128)u[e++]=r;else if(4<(n=p[r]))u[e++]=65533,i+=n-1;else{for(r&=n===2?31:n===3?15:7;1<n&&i<t;)r=r<<6|63&m[i++],n--;1<n?u[e++]=65533:r<65536?u[e++]=r:(r-=65536,u[e++]=55296|r>>10&1023,u[e++]=56320|1023&r)}return w(u,e)},T.utf8border=function(m,o){var i;for((o=o||m.length)>m.length&&(o=m.length),i=o-1;0<=i&&(192&m[i])==128;)i--;return i<0||i===0?o:i+p[m[i]]>o?i:o}},{"./common":41}],43:[function(J,ae,T){"use strict";ae.exports=function(C,b,h,p){for(var f=65535&C|0,w=C>>>16&65535|0,m=0;h!==0;){for(h-=m=2e3<h?2e3:h;w=w+(f=f+b[p++]|0)|0,--m;);f%=65521,w%=65521}return f|w<<16|0}},{}],44:[function(J,ae,T){"use strict";ae.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(J,ae,T){"use strict";var C=function(){for(var b,h=[],p=0;p<256;p++){b=p;for(var f=0;f<8;f++)b=1&b?3988292384^b>>>1:b>>>1;h[p]=b}return h}();ae.exports=function(b,h,p,f){var w=C,m=f+p;b^=-1;for(var o=f;o<m;o++)b=b>>>8^w[255&(b^h[o])];return-1^b}},{}],46:[function(J,ae,T){"use strict";var C,b=J("../utils/common"),h=J("./trees"),p=J("./adler32"),f=J("./crc32"),w=J("./messages"),m=0,o=4,i=0,e=-2,r=-1,n=4,t=2,u=8,d=9,_=286,E=30,A=19,S=2*_+1,L=15,P=3,M=258,q=M+P+1,F=42,Z=113,B=1,X=2,te=3,W=4;function Y(V,ye){return V.msg=w[ye],ye}function z(V){return(V<<1)-(4<V?9:0)}function G(V){for(var ye=V.length;0<=--ye;)V[ye]=0}function H(V){var ye=V.state,K=ye.pending;K>V.avail_out&&(K=V.avail_out),K!==0&&(b.arraySet(V.output,ye.pending_buf,ye.pending_out,K,V.next_out),V.next_out+=K,ye.pending_out+=K,V.total_out+=K,V.avail_out-=K,ye.pending-=K,ye.pending===0&&(ye.pending_out=0))}function D(V,ye){h._tr_flush_block(V,0<=V.block_start?V.block_start:-1,V.strstart-V.block_start,ye),V.block_start=V.strstart,H(V.strm)}function Q(V,ye){V.pending_buf[V.pending++]=ye}function ce(V,ye){V.pending_buf[V.pending++]=ye>>>8&255,V.pending_buf[V.pending++]=255&ye}function ne(V,ye){var K,k,I=V.max_chain_length,N=V.strstart,oe=V.prev_length,le=V.nice_match,$=V.strstart>V.w_size-q?V.strstart-(V.w_size-q):0,xe=V.window,Le=V.w_mask,Se=V.prev,Ue=V.strstart+M,Ze=xe[N+oe-1],et=xe[N+oe];V.prev_length>=V.good_match&&(I>>=2),le>V.lookahead&&(le=V.lookahead);do if(xe[(K=ye)+oe]===et&&xe[K+oe-1]===Ze&&xe[K]===xe[N]&&xe[++K]===xe[N+1]){N+=2,K++;do;while(xe[++N]===xe[++K]&&xe[++N]===xe[++K]&&xe[++N]===xe[++K]&&xe[++N]===xe[++K]&&xe[++N]===xe[++K]&&xe[++N]===xe[++K]&&xe[++N]===xe[++K]&&xe[++N]===xe[++K]&&N<Ue);if(k=M-(Ue-N),N=Ue-M,oe<k){if(V.match_start=ye,le<=(oe=k))break;Ze=xe[N+oe-1],et=xe[N+oe]}}while((ye=Se[ye&Le])>$&&--I!=0);return oe<=V.lookahead?oe:V.lookahead}function me(V){var ye,K,k,I,N,oe,le,$,xe,Le,Se=V.w_size;do{if(I=V.window_size-V.lookahead-V.strstart,V.strstart>=Se+(Se-q)){for(b.arraySet(V.window,V.window,Se,Se,0),V.match_start-=Se,V.strstart-=Se,V.block_start-=Se,ye=K=V.hash_size;k=V.head[--ye],V.head[ye]=Se<=k?k-Se:0,--K;);for(ye=K=Se;k=V.prev[--ye],V.prev[ye]=Se<=k?k-Se:0,--K;);I+=Se}if(V.strm.avail_in===0)break;if(oe=V.strm,le=V.window,$=V.strstart+V.lookahead,xe=I,Le=void 0,Le=oe.avail_in,xe<Le&&(Le=xe),K=Le===0?0:(oe.avail_in-=Le,b.arraySet(le,oe.input,oe.next_in,Le,$),oe.state.wrap===1?oe.adler=p(oe.adler,le,Le,$):oe.state.wrap===2&&(oe.adler=f(oe.adler,le,Le,$)),oe.next_in+=Le,oe.total_in+=Le,Le),V.lookahead+=K,V.lookahead+V.insert>=P)for(N=V.strstart-V.insert,V.ins_h=V.window[N],V.ins_h=(V.ins_h<<V.hash_shift^V.window[N+1])&V.hash_mask;V.insert&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[N+P-1])&V.hash_mask,V.prev[N&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=N,N++,V.insert--,!(V.lookahead+V.insert<P)););}while(V.lookahead<q&&V.strm.avail_in!==0)}function de(V,ye){for(var K,k;;){if(V.lookahead<q){if(me(V),V.lookahead<q&&ye===m)return B;if(V.lookahead===0)break}if(K=0,V.lookahead>=P&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+P-1])&V.hash_mask,K=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),K!==0&&V.strstart-K<=V.w_size-q&&(V.match_length=ne(V,K)),V.match_length>=P)if(k=h._tr_tally(V,V.strstart-V.match_start,V.match_length-P),V.lookahead-=V.match_length,V.match_length<=V.max_lazy_match&&V.lookahead>=P){for(V.match_length--;V.strstart++,V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+P-1])&V.hash_mask,K=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart,--V.match_length!=0;);V.strstart++}else V.strstart+=V.match_length,V.match_length=0,V.ins_h=V.window[V.strstart],V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+1])&V.hash_mask;else k=h._tr_tally(V,0,V.window[V.strstart]),V.lookahead--,V.strstart++;if(k&&(D(V,!1),V.strm.avail_out===0))return B}return V.insert=V.strstart<P-1?V.strstart:P-1,ye===o?(D(V,!0),V.strm.avail_out===0?te:W):V.last_lit&&(D(V,!1),V.strm.avail_out===0)?B:X}function ie(V,ye){for(var K,k,I;;){if(V.lookahead<q){if(me(V),V.lookahead<q&&ye===m)return B;if(V.lookahead===0)break}if(K=0,V.lookahead>=P&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+P-1])&V.hash_mask,K=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),V.prev_length=V.match_length,V.prev_match=V.match_start,V.match_length=P-1,K!==0&&V.prev_length<V.max_lazy_match&&V.strstart-K<=V.w_size-q&&(V.match_length=ne(V,K),V.match_length<=5&&(V.strategy===1||V.match_length===P&&4096<V.strstart-V.match_start)&&(V.match_length=P-1)),V.prev_length>=P&&V.match_length<=V.prev_length){for(I=V.strstart+V.lookahead-P,k=h._tr_tally(V,V.strstart-1-V.prev_match,V.prev_length-P),V.lookahead-=V.prev_length-1,V.prev_length-=2;++V.strstart<=I&&(V.ins_h=(V.ins_h<<V.hash_shift^V.window[V.strstart+P-1])&V.hash_mask,K=V.prev[V.strstart&V.w_mask]=V.head[V.ins_h],V.head[V.ins_h]=V.strstart),--V.prev_length!=0;);if(V.match_available=0,V.match_length=P-1,V.strstart++,k&&(D(V,!1),V.strm.avail_out===0))return B}else if(V.match_available){if((k=h._tr_tally(V,0,V.window[V.strstart-1]))&&D(V,!1),V.strstart++,V.lookahead--,V.strm.avail_out===0)return B}else V.match_available=1,V.strstart++,V.lookahead--}return V.match_available&&(k=h._tr_tally(V,0,V.window[V.strstart-1]),V.match_available=0),V.insert=V.strstart<P-1?V.strstart:P-1,ye===o?(D(V,!0),V.strm.avail_out===0?te:W):V.last_lit&&(D(V,!1),V.strm.avail_out===0)?B:X}function re(V,ye,K,k,I){this.good_length=V,this.max_lazy=ye,this.nice_length=K,this.max_chain=k,this.func=I}function ge(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=u,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new b.Buf16(2*S),this.dyn_dtree=new b.Buf16(2*(2*E+1)),this.bl_tree=new b.Buf16(2*(2*A+1)),G(this.dyn_ltree),G(this.dyn_dtree),G(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new b.Buf16(L+1),this.heap=new b.Buf16(2*_+1),G(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new b.Buf16(2*_+1),G(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function we(V){var ye;return V&&V.state?(V.total_in=V.total_out=0,V.data_type=t,(ye=V.state).pending=0,ye.pending_out=0,ye.wrap<0&&(ye.wrap=-ye.wrap),ye.status=ye.wrap?F:Z,V.adler=ye.wrap===2?0:1,ye.last_flush=m,h._tr_init(ye),i):Y(V,e)}function Ce(V){var ye=we(V);return ye===i&&function(K){K.window_size=2*K.w_size,G(K.head),K.max_lazy_match=C[K.level].max_lazy,K.good_match=C[K.level].good_length,K.nice_match=C[K.level].nice_length,K.max_chain_length=C[K.level].max_chain,K.strstart=0,K.block_start=0,K.lookahead=0,K.insert=0,K.match_length=K.prev_length=P-1,K.match_available=0,K.ins_h=0}(V.state),ye}function je(V,ye,K,k,I,N){if(!V)return e;var oe=1;if(ye===r&&(ye=6),k<0?(oe=0,k=-k):15<k&&(oe=2,k-=16),I<1||d<I||K!==u||k<8||15<k||ye<0||9<ye||N<0||n<N)return Y(V,e);k===8&&(k=9);var le=new ge;return(V.state=le).strm=V,le.wrap=oe,le.gzhead=null,le.w_bits=k,le.w_size=1<<le.w_bits,le.w_mask=le.w_size-1,le.hash_bits=I+7,le.hash_size=1<<le.hash_bits,le.hash_mask=le.hash_size-1,le.hash_shift=~~((le.hash_bits+P-1)/P),le.window=new b.Buf8(2*le.w_size),le.head=new b.Buf16(le.hash_size),le.prev=new b.Buf16(le.w_size),le.lit_bufsize=1<<I+6,le.pending_buf_size=4*le.lit_bufsize,le.pending_buf=new b.Buf8(le.pending_buf_size),le.d_buf=1*le.lit_bufsize,le.l_buf=3*le.lit_bufsize,le.level=ye,le.strategy=N,le.method=K,Ce(V)}C=[new re(0,0,0,0,function(V,ye){var K=65535;for(K>V.pending_buf_size-5&&(K=V.pending_buf_size-5);;){if(V.lookahead<=1){if(me(V),V.lookahead===0&&ye===m)return B;if(V.lookahead===0)break}V.strstart+=V.lookahead,V.lookahead=0;var k=V.block_start+K;if((V.strstart===0||V.strstart>=k)&&(V.lookahead=V.strstart-k,V.strstart=k,D(V,!1),V.strm.avail_out===0)||V.strstart-V.block_start>=V.w_size-q&&(D(V,!1),V.strm.avail_out===0))return B}return V.insert=0,ye===o?(D(V,!0),V.strm.avail_out===0?te:W):(V.strstart>V.block_start&&(D(V,!1),V.strm.avail_out),B)}),new re(4,4,8,4,de),new re(4,5,16,8,de),new re(4,6,32,32,de),new re(4,4,16,16,ie),new re(8,16,32,32,ie),new re(8,16,128,128,ie),new re(8,32,128,256,ie),new re(32,128,258,1024,ie),new re(32,258,258,4096,ie)],T.deflateInit=function(V,ye){return je(V,ye,u,15,8,0)},T.deflateInit2=je,T.deflateReset=Ce,T.deflateResetKeep=we,T.deflateSetHeader=function(V,ye){return V&&V.state?V.state.wrap!==2?e:(V.state.gzhead=ye,i):e},T.deflate=function(V,ye){var K,k,I,N;if(!V||!V.state||5<ye||ye<0)return V?Y(V,e):e;if(k=V.state,!V.output||!V.input&&V.avail_in!==0||k.status===666&&ye!==o)return Y(V,V.avail_out===0?-5:e);if(k.strm=V,K=k.last_flush,k.last_flush=ye,k.status===F)if(k.wrap===2)V.adler=0,Q(k,31),Q(k,139),Q(k,8),k.gzhead?(Q(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),Q(k,255&k.gzhead.time),Q(k,k.gzhead.time>>8&255),Q(k,k.gzhead.time>>16&255),Q(k,k.gzhead.time>>24&255),Q(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),Q(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(Q(k,255&k.gzhead.extra.length),Q(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(V.adler=f(V.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(Q(k,0),Q(k,0),Q(k,0),Q(k,0),Q(k,0),Q(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),Q(k,3),k.status=Z);else{var oe=u+(k.w_bits-8<<4)<<8;oe|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(oe|=32),oe+=31-oe%31,k.status=Z,ce(k,oe),k.strstart!==0&&(ce(k,V.adler>>>16),ce(k,65535&V.adler)),V.adler=1}if(k.status===69)if(k.gzhead.extra){for(I=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>I&&(V.adler=f(V.adler,k.pending_buf,k.pending-I,I)),H(V),I=k.pending,k.pending!==k.pending_buf_size));)Q(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>I&&(V.adler=f(V.adler,k.pending_buf,k.pending-I,I)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){I=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>I&&(V.adler=f(V.adler,k.pending_buf,k.pending-I,I)),H(V),I=k.pending,k.pending===k.pending_buf_size)){N=1;break}N=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,Q(k,N)}while(N!==0);k.gzhead.hcrc&&k.pending>I&&(V.adler=f(V.adler,k.pending_buf,k.pending-I,I)),N===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){I=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>I&&(V.adler=f(V.adler,k.pending_buf,k.pending-I,I)),H(V),I=k.pending,k.pending===k.pending_buf_size)){N=1;break}N=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,Q(k,N)}while(N!==0);k.gzhead.hcrc&&k.pending>I&&(V.adler=f(V.adler,k.pending_buf,k.pending-I,I)),N===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&H(V),k.pending+2<=k.pending_buf_size&&(Q(k,255&V.adler),Q(k,V.adler>>8&255),V.adler=0,k.status=Z)):k.status=Z),k.pending!==0){if(H(V),V.avail_out===0)return k.last_flush=-1,i}else if(V.avail_in===0&&z(ye)<=z(K)&&ye!==o)return Y(V,-5);if(k.status===666&&V.avail_in!==0)return Y(V,-5);if(V.avail_in!==0||k.lookahead!==0||ye!==m&&k.status!==666){var le=k.strategy===2?function($,xe){for(var Le;;){if($.lookahead===0&&(me($),$.lookahead===0)){if(xe===m)return B;break}if($.match_length=0,Le=h._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++,Le&&(D($,!1),$.strm.avail_out===0))return B}return $.insert=0,xe===o?(D($,!0),$.strm.avail_out===0?te:W):$.last_lit&&(D($,!1),$.strm.avail_out===0)?B:X}(k,ye):k.strategy===3?function($,xe){for(var Le,Se,Ue,Ze,et=$.window;;){if($.lookahead<=M){if(me($),$.lookahead<=M&&xe===m)return B;if($.lookahead===0)break}if($.match_length=0,$.lookahead>=P&&0<$.strstart&&(Se=et[Ue=$.strstart-1])===et[++Ue]&&Se===et[++Ue]&&Se===et[++Ue]){Ze=$.strstart+M;do;while(Se===et[++Ue]&&Se===et[++Ue]&&Se===et[++Ue]&&Se===et[++Ue]&&Se===et[++Ue]&&Se===et[++Ue]&&Se===et[++Ue]&&Se===et[++Ue]&&Ue<Ze);$.match_length=M-(Ze-Ue),$.match_length>$.lookahead&&($.match_length=$.lookahead)}if($.match_length>=P?(Le=h._tr_tally($,1,$.match_length-P),$.lookahead-=$.match_length,$.strstart+=$.match_length,$.match_length=0):(Le=h._tr_tally($,0,$.window[$.strstart]),$.lookahead--,$.strstart++),Le&&(D($,!1),$.strm.avail_out===0))return B}return $.insert=0,xe===o?(D($,!0),$.strm.avail_out===0?te:W):$.last_lit&&(D($,!1),$.strm.avail_out===0)?B:X}(k,ye):C[k.level].func(k,ye);if(le!==te&&le!==W||(k.status=666),le===B||le===te)return V.avail_out===0&&(k.last_flush=-1),i;if(le===X&&(ye===1?h._tr_align(k):ye!==5&&(h._tr_stored_block(k,0,0,!1),ye===3&&(G(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),H(V),V.avail_out===0))return k.last_flush=-1,i}return ye!==o?i:k.wrap<=0?1:(k.wrap===2?(Q(k,255&V.adler),Q(k,V.adler>>8&255),Q(k,V.adler>>16&255),Q(k,V.adler>>24&255),Q(k,255&V.total_in),Q(k,V.total_in>>8&255),Q(k,V.total_in>>16&255),Q(k,V.total_in>>24&255)):(ce(k,V.adler>>>16),ce(k,65535&V.adler)),H(V),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?i:1)},T.deflateEnd=function(V){var ye;return V&&V.state?(ye=V.state.status)!==F&&ye!==69&&ye!==73&&ye!==91&&ye!==103&&ye!==Z&&ye!==666?Y(V,e):(V.state=null,ye===Z?Y(V,-3):i):e},T.deflateSetDictionary=function(V,ye){var K,k,I,N,oe,le,$,xe,Le=ye.length;if(!V||!V.state||(N=(K=V.state).wrap)===2||N===1&&K.status!==F||K.lookahead)return e;for(N===1&&(V.adler=p(V.adler,ye,Le,0)),K.wrap=0,Le>=K.w_size&&(N===0&&(G(K.head),K.strstart=0,K.block_start=0,K.insert=0),xe=new b.Buf8(K.w_size),b.arraySet(xe,ye,Le-K.w_size,K.w_size,0),ye=xe,Le=K.w_size),oe=V.avail_in,le=V.next_in,$=V.input,V.avail_in=Le,V.next_in=0,V.input=ye,me(K);K.lookahead>=P;){for(k=K.strstart,I=K.lookahead-(P-1);K.ins_h=(K.ins_h<<K.hash_shift^K.window[k+P-1])&K.hash_mask,K.prev[k&K.w_mask]=K.head[K.ins_h],K.head[K.ins_h]=k,k++,--I;);K.strstart=k,K.lookahead=P-1,me(K)}return K.strstart+=K.lookahead,K.block_start=K.strstart,K.insert=K.lookahead,K.lookahead=0,K.match_length=K.prev_length=P-1,K.match_available=0,V.next_in=le,V.input=$,V.avail_in=oe,K.wrap=N,i},T.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(J,ae,T){"use strict";ae.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(J,ae,T){"use strict";ae.exports=function(C,b){var h,p,f,w,m,o,i,e,r,n,t,u,d,_,E,A,S,L,P,M,q,F,Z,B,X;h=C.state,p=C.next_in,B=C.input,f=p+(C.avail_in-5),w=C.next_out,X=C.output,m=w-(b-C.avail_out),o=w+(C.avail_out-257),i=h.dmax,e=h.wsize,r=h.whave,n=h.wnext,t=h.window,u=h.hold,d=h.bits,_=h.lencode,E=h.distcode,A=(1<<h.lenbits)-1,S=(1<<h.distbits)-1;e:do{d<15&&(u+=B[p++]<<d,d+=8,u+=B[p++]<<d,d+=8),L=_[u&A];t:for(;;){if(u>>>=P=L>>>24,d-=P,(P=L>>>16&255)==0)X[w++]=65535&L;else{if(!(16&P)){if((64&P)==0){L=_[(65535&L)+(u&(1<<P)-1)];continue t}if(32&P){h.mode=12;break e}C.msg="invalid literal/length code",h.mode=30;break e}M=65535&L,(P&=15)&&(d<P&&(u+=B[p++]<<d,d+=8),M+=u&(1<<P)-1,u>>>=P,d-=P),d<15&&(u+=B[p++]<<d,d+=8,u+=B[p++]<<d,d+=8),L=E[u&S];r:for(;;){if(u>>>=P=L>>>24,d-=P,!(16&(P=L>>>16&255))){if((64&P)==0){L=E[(65535&L)+(u&(1<<P)-1)];continue r}C.msg="invalid distance code",h.mode=30;break e}if(q=65535&L,d<(P&=15)&&(u+=B[p++]<<d,(d+=8)<P&&(u+=B[p++]<<d,d+=8)),i<(q+=u&(1<<P)-1)){C.msg="invalid distance too far back",h.mode=30;break e}if(u>>>=P,d-=P,(P=w-m)<q){if(r<(P=q-P)&&h.sane){C.msg="invalid distance too far back",h.mode=30;break e}if(Z=t,(F=0)===n){if(F+=e-P,P<M){for(M-=P;X[w++]=t[F++],--P;);F=w-q,Z=X}}else if(n<P){if(F+=e+n-P,(P-=n)<M){for(M-=P;X[w++]=t[F++],--P;);if(F=0,n<M){for(M-=P=n;X[w++]=t[F++],--P;);F=w-q,Z=X}}}else if(F+=n-P,P<M){for(M-=P;X[w++]=t[F++],--P;);F=w-q,Z=X}for(;2<M;)X[w++]=Z[F++],X[w++]=Z[F++],X[w++]=Z[F++],M-=3;M&&(X[w++]=Z[F++],1<M&&(X[w++]=Z[F++]))}else{for(F=w-q;X[w++]=X[F++],X[w++]=X[F++],X[w++]=X[F++],2<(M-=3););M&&(X[w++]=X[F++],1<M&&(X[w++]=X[F++]))}break}}break}}while(p<f&&w<o);p-=M=d>>3,u&=(1<<(d-=M<<3))-1,C.next_in=p,C.next_out=w,C.avail_in=p<f?f-p+5:5-(p-f),C.avail_out=w<o?o-w+257:257-(w-o),h.hold=u,h.bits=d}},{}],49:[function(J,ae,T){"use strict";var C=J("../utils/common"),b=J("./adler32"),h=J("./crc32"),p=J("./inffast"),f=J("./inftrees"),w=1,m=2,o=0,i=-2,e=1,r=852,n=592;function t(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function u(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new C.Buf16(320),this.work=new C.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(F){var Z;return F&&F.state?(Z=F.state,F.total_in=F.total_out=Z.total=0,F.msg="",Z.wrap&&(F.adler=1&Z.wrap),Z.mode=e,Z.last=0,Z.havedict=0,Z.dmax=32768,Z.head=null,Z.hold=0,Z.bits=0,Z.lencode=Z.lendyn=new C.Buf32(r),Z.distcode=Z.distdyn=new C.Buf32(n),Z.sane=1,Z.back=-1,o):i}function _(F){var Z;return F&&F.state?((Z=F.state).wsize=0,Z.whave=0,Z.wnext=0,d(F)):i}function E(F,Z){var B,X;return F&&F.state?(X=F.state,Z<0?(B=0,Z=-Z):(B=1+(Z>>4),Z<48&&(Z&=15)),Z&&(Z<8||15<Z)?i:(X.window!==null&&X.wbits!==Z&&(X.window=null),X.wrap=B,X.wbits=Z,_(F))):i}function A(F,Z){var B,X;return F?(X=new u,(F.state=X).window=null,(B=E(F,Z))!==o&&(F.state=null),B):i}var S,L,P=!0;function M(F){if(P){var Z;for(S=new C.Buf32(512),L=new C.Buf32(32),Z=0;Z<144;)F.lens[Z++]=8;for(;Z<256;)F.lens[Z++]=9;for(;Z<280;)F.lens[Z++]=7;for(;Z<288;)F.lens[Z++]=8;for(f(w,F.lens,0,288,S,0,F.work,{bits:9}),Z=0;Z<32;)F.lens[Z++]=5;f(m,F.lens,0,32,L,0,F.work,{bits:5}),P=!1}F.lencode=S,F.lenbits=9,F.distcode=L,F.distbits=5}function q(F,Z,B,X){var te,W=F.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new C.Buf8(W.wsize)),X>=W.wsize?(C.arraySet(W.window,Z,B-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(X<(te=W.wsize-W.wnext)&&(te=X),C.arraySet(W.window,Z,B-X,te,W.wnext),(X-=te)?(C.arraySet(W.window,Z,B-X,X,0),W.wnext=X,W.whave=W.wsize):(W.wnext+=te,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=te))),0}T.inflateReset=_,T.inflateReset2=E,T.inflateResetKeep=d,T.inflateInit=function(F){return A(F,15)},T.inflateInit2=A,T.inflate=function(F,Z){var B,X,te,W,Y,z,G,H,D,Q,ce,ne,me,de,ie,re,ge,we,Ce,je,V,ye,K,k,I=0,N=new C.Buf8(4),oe=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return i;(B=F.state).mode===12&&(B.mode=13),Y=F.next_out,te=F.output,G=F.avail_out,W=F.next_in,X=F.input,z=F.avail_in,H=B.hold,D=B.bits,Q=z,ce=G,ye=o;e:for(;;)switch(B.mode){case e:if(B.wrap===0){B.mode=13;break}for(;D<16;){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}if(2&B.wrap&&H===35615){N[B.check=0]=255&H,N[1]=H>>>8&255,B.check=h(B.check,N,2,0),D=H=0,B.mode=2;break}if(B.flags=0,B.head&&(B.head.done=!1),!(1&B.wrap)||(((255&H)<<8)+(H>>8))%31){F.msg="incorrect header check",B.mode=30;break}if((15&H)!=8){F.msg="unknown compression method",B.mode=30;break}if(D-=4,V=8+(15&(H>>>=4)),B.wbits===0)B.wbits=V;else if(V>B.wbits){F.msg="invalid window size",B.mode=30;break}B.dmax=1<<V,F.adler=B.check=1,B.mode=512&H?10:12,D=H=0;break;case 2:for(;D<16;){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}if(B.flags=H,(255&B.flags)!=8){F.msg="unknown compression method",B.mode=30;break}if(57344&B.flags){F.msg="unknown header flags set",B.mode=30;break}B.head&&(B.head.text=H>>8&1),512&B.flags&&(N[0]=255&H,N[1]=H>>>8&255,B.check=h(B.check,N,2,0)),D=H=0,B.mode=3;case 3:for(;D<32;){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}B.head&&(B.head.time=H),512&B.flags&&(N[0]=255&H,N[1]=H>>>8&255,N[2]=H>>>16&255,N[3]=H>>>24&255,B.check=h(B.check,N,4,0)),D=H=0,B.mode=4;case 4:for(;D<16;){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}B.head&&(B.head.xflags=255&H,B.head.os=H>>8),512&B.flags&&(N[0]=255&H,N[1]=H>>>8&255,B.check=h(B.check,N,2,0)),D=H=0,B.mode=5;case 5:if(1024&B.flags){for(;D<16;){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}B.length=H,B.head&&(B.head.extra_len=H),512&B.flags&&(N[0]=255&H,N[1]=H>>>8&255,B.check=h(B.check,N,2,0)),D=H=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(1024&B.flags&&(z<(ne=B.length)&&(ne=z),ne&&(B.head&&(V=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Array(B.head.extra_len)),C.arraySet(B.head.extra,X,W,ne,V)),512&B.flags&&(B.check=h(B.check,X,ne,W)),z-=ne,W+=ne,B.length-=ne),B.length))break e;B.length=0,B.mode=7;case 7:if(2048&B.flags){if(z===0)break e;for(ne=0;V=X[W+ne++],B.head&&V&&B.length<65536&&(B.head.name+=String.fromCharCode(V)),V&&ne<z;);if(512&B.flags&&(B.check=h(B.check,X,ne,W)),z-=ne,W+=ne,V)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=8;case 8:if(4096&B.flags){if(z===0)break e;for(ne=0;V=X[W+ne++],B.head&&V&&B.length<65536&&(B.head.comment+=String.fromCharCode(V)),V&&ne<z;);if(512&B.flags&&(B.check=h(B.check,X,ne,W)),z-=ne,W+=ne,V)break e}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(512&B.flags){for(;D<16;){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}if(H!==(65535&B.check)){F.msg="header crc mismatch",B.mode=30;break}D=H=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),F.adler=B.check=0,B.mode=12;break;case 10:for(;D<32;){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}F.adler=B.check=t(H),D=H=0,B.mode=11;case 11:if(B.havedict===0)return F.next_out=Y,F.avail_out=G,F.next_in=W,F.avail_in=z,B.hold=H,B.bits=D,2;F.adler=B.check=1,B.mode=12;case 12:if(Z===5||Z===6)break e;case 13:if(B.last){H>>>=7&D,D-=7&D,B.mode=27;break}for(;D<3;){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}switch(B.last=1&H,D-=1,3&(H>>>=1)){case 0:B.mode=14;break;case 1:if(M(B),B.mode=20,Z!==6)break;H>>>=2,D-=2;break e;case 2:B.mode=17;break;case 3:F.msg="invalid block type",B.mode=30}H>>>=2,D-=2;break;case 14:for(H>>>=7&D,D-=7&D;D<32;){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}if((65535&H)!=(H>>>16^65535)){F.msg="invalid stored block lengths",B.mode=30;break}if(B.length=65535&H,D=H=0,B.mode=15,Z===6)break e;case 15:B.mode=16;case 16:if(ne=B.length){if(z<ne&&(ne=z),G<ne&&(ne=G),ne===0)break e;C.arraySet(te,X,W,ne,Y),z-=ne,W+=ne,G-=ne,Y+=ne,B.length-=ne;break}B.mode=12;break;case 17:for(;D<14;){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}if(B.nlen=257+(31&H),H>>>=5,D-=5,B.ndist=1+(31&H),H>>>=5,D-=5,B.ncode=4+(15&H),H>>>=4,D-=4,286<B.nlen||30<B.ndist){F.msg="too many length or distance symbols",B.mode=30;break}B.have=0,B.mode=18;case 18:for(;B.have<B.ncode;){for(;D<3;){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}B.lens[oe[B.have++]]=7&H,H>>>=3,D-=3}for(;B.have<19;)B.lens[oe[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,K={bits:B.lenbits},ye=f(0,B.lens,0,19,B.lencode,0,B.work,K),B.lenbits=K.bits,ye){F.msg="invalid code lengths set",B.mode=30;break}B.have=0,B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;re=(I=B.lencode[H&(1<<B.lenbits)-1])>>>16&255,ge=65535&I,!((ie=I>>>24)<=D);){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}if(ge<16)H>>>=ie,D-=ie,B.lens[B.have++]=ge;else{if(ge===16){for(k=ie+2;D<k;){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}if(H>>>=ie,D-=ie,B.have===0){F.msg="invalid bit length repeat",B.mode=30;break}V=B.lens[B.have-1],ne=3+(3&H),H>>>=2,D-=2}else if(ge===17){for(k=ie+3;D<k;){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}D-=ie,V=0,ne=3+(7&(H>>>=ie)),H>>>=3,D-=3}else{for(k=ie+7;D<k;){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}D-=ie,V=0,ne=11+(127&(H>>>=ie)),H>>>=7,D-=7}if(B.have+ne>B.nlen+B.ndist){F.msg="invalid bit length repeat",B.mode=30;break}for(;ne--;)B.lens[B.have++]=V}}if(B.mode===30)break;if(B.lens[256]===0){F.msg="invalid code -- missing end-of-block",B.mode=30;break}if(B.lenbits=9,K={bits:B.lenbits},ye=f(w,B.lens,0,B.nlen,B.lencode,0,B.work,K),B.lenbits=K.bits,ye){F.msg="invalid literal/lengths set",B.mode=30;break}if(B.distbits=6,B.distcode=B.distdyn,K={bits:B.distbits},ye=f(m,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,K),B.distbits=K.bits,ye){F.msg="invalid distances set",B.mode=30;break}if(B.mode=20,Z===6)break e;case 20:B.mode=21;case 21:if(6<=z&&258<=G){F.next_out=Y,F.avail_out=G,F.next_in=W,F.avail_in=z,B.hold=H,B.bits=D,p(F,ce),Y=F.next_out,te=F.output,G=F.avail_out,W=F.next_in,X=F.input,z=F.avail_in,H=B.hold,D=B.bits,B.mode===12&&(B.back=-1);break}for(B.back=0;re=(I=B.lencode[H&(1<<B.lenbits)-1])>>>16&255,ge=65535&I,!((ie=I>>>24)<=D);){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}if(re&&(240&re)==0){for(we=ie,Ce=re,je=ge;re=(I=B.lencode[je+((H&(1<<we+Ce)-1)>>we)])>>>16&255,ge=65535&I,!(we+(ie=I>>>24)<=D);){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}H>>>=we,D-=we,B.back+=we}if(H>>>=ie,D-=ie,B.back+=ie,B.length=ge,re===0){B.mode=26;break}if(32&re){B.back=-1,B.mode=12;break}if(64&re){F.msg="invalid literal/length code",B.mode=30;break}B.extra=15&re,B.mode=22;case 22:if(B.extra){for(k=B.extra;D<k;){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}B.length+=H&(1<<B.extra)-1,H>>>=B.extra,D-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=23;case 23:for(;re=(I=B.distcode[H&(1<<B.distbits)-1])>>>16&255,ge=65535&I,!((ie=I>>>24)<=D);){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}if((240&re)==0){for(we=ie,Ce=re,je=ge;re=(I=B.distcode[je+((H&(1<<we+Ce)-1)>>we)])>>>16&255,ge=65535&I,!(we+(ie=I>>>24)<=D);){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}H>>>=we,D-=we,B.back+=we}if(H>>>=ie,D-=ie,B.back+=ie,64&re){F.msg="invalid distance code",B.mode=30;break}B.offset=ge,B.extra=15&re,B.mode=24;case 24:if(B.extra){for(k=B.extra;D<k;){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}B.offset+=H&(1<<B.extra)-1,H>>>=B.extra,D-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){F.msg="invalid distance too far back",B.mode=30;break}B.mode=25;case 25:if(G===0)break e;if(ne=ce-G,B.offset>ne){if((ne=B.offset-ne)>B.whave&&B.sane){F.msg="invalid distance too far back",B.mode=30;break}me=ne>B.wnext?(ne-=B.wnext,B.wsize-ne):B.wnext-ne,ne>B.length&&(ne=B.length),de=B.window}else de=te,me=Y-B.offset,ne=B.length;for(G<ne&&(ne=G),G-=ne,B.length-=ne;te[Y++]=de[me++],--ne;);B.length===0&&(B.mode=21);break;case 26:if(G===0)break e;te[Y++]=B.length,G--,B.mode=21;break;case 27:if(B.wrap){for(;D<32;){if(z===0)break e;z--,H|=X[W++]<<D,D+=8}if(ce-=G,F.total_out+=ce,B.total+=ce,ce&&(F.adler=B.check=B.flags?h(B.check,te,ce,Y-ce):b(B.check,te,ce,Y-ce)),ce=G,(B.flags?H:t(H))!==B.check){F.msg="incorrect data check",B.mode=30;break}D=H=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;D<32;){if(z===0)break e;z--,H+=X[W++]<<D,D+=8}if(H!==(4294967295&B.total)){F.msg="incorrect length check",B.mode=30;break}D=H=0}B.mode=29;case 29:ye=1;break e;case 30:ye=-3;break e;case 31:return-4;case 32:default:return i}return F.next_out=Y,F.avail_out=G,F.next_in=W,F.avail_in=z,B.hold=H,B.bits=D,(B.wsize||ce!==F.avail_out&&B.mode<30&&(B.mode<27||Z!==4))&&q(F,F.output,F.next_out,ce-F.avail_out)?(B.mode=31,-4):(Q-=F.avail_in,ce-=F.avail_out,F.total_in+=Q,F.total_out+=ce,B.total+=ce,B.wrap&&ce&&(F.adler=B.check=B.flags?h(B.check,te,ce,F.next_out-ce):b(B.check,te,ce,F.next_out-ce)),F.data_type=B.bits+(B.last?64:0)+(B.mode===12?128:0)+(B.mode===20||B.mode===15?256:0),(Q==0&&ce===0||Z===4)&&ye===o&&(ye=-5),ye)},T.inflateEnd=function(F){if(!F||!F.state)return i;var Z=F.state;return Z.window&&(Z.window=null),F.state=null,o},T.inflateGetHeader=function(F,Z){var B;return F&&F.state?(2&(B=F.state).wrap)==0?i:((B.head=Z).done=!1,o):i},T.inflateSetDictionary=function(F,Z){var B,X=Z.length;return F&&F.state?(B=F.state).wrap!==0&&B.mode!==11?i:B.mode===11&&b(1,Z,X,0)!==B.check?-3:q(F,Z,X,X)?(B.mode=31,-4):(B.havedict=1,o):i},T.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(J,ae,T){"use strict";var C=J("../utils/common"),b=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];ae.exports=function(w,m,o,i,e,r,n,t){var u,d,_,E,A,S,L,P,M,q=t.bits,F=0,Z=0,B=0,X=0,te=0,W=0,Y=0,z=0,G=0,H=0,D=null,Q=0,ce=new C.Buf16(16),ne=new C.Buf16(16),me=null,de=0;for(F=0;F<=15;F++)ce[F]=0;for(Z=0;Z<i;Z++)ce[m[o+Z]]++;for(te=q,X=15;1<=X&&ce[X]===0;X--);if(X<te&&(te=X),X===0)return e[r++]=20971520,e[r++]=20971520,t.bits=1,0;for(B=1;B<X&&ce[B]===0;B++);for(te<B&&(te=B),F=z=1;F<=15;F++)if(z<<=1,(z-=ce[F])<0)return-1;if(0<z&&(w===0||X!==1))return-1;for(ne[1]=0,F=1;F<15;F++)ne[F+1]=ne[F]+ce[F];for(Z=0;Z<i;Z++)m[o+Z]!==0&&(n[ne[m[o+Z]]++]=Z);if(S=w===0?(D=me=n,19):w===1?(D=b,Q-=257,me=h,de-=257,256):(D=p,me=f,-1),F=B,A=r,Y=Z=H=0,_=-1,E=(G=1<<(W=te))-1,w===1&&852<G||w===2&&592<G)return 1;for(;;){for(L=F-Y,M=n[Z]<S?(P=0,n[Z]):n[Z]>S?(P=me[de+n[Z]],D[Q+n[Z]]):(P=96,0),u=1<<F-Y,B=d=1<<W;e[A+(H>>Y)+(d-=u)]=L<<24|P<<16|M|0,d!==0;);for(u=1<<F-1;H&u;)u>>=1;if(u!==0?(H&=u-1,H+=u):H=0,Z++,--ce[F]==0){if(F===X)break;F=m[o+n[Z]]}if(te<F&&(H&E)!==_){for(Y===0&&(Y=te),A+=B,z=1<<(W=F-Y);W+Y<X&&!((z-=ce[W+Y])<=0);)W++,z<<=1;if(G+=1<<W,w===1&&852<G||w===2&&592<G)return 1;e[_=H&E]=te<<24|W<<16|A-r|0}}return H!==0&&(e[A+H]=F-Y<<24|64<<16|0),t.bits=te,0}},{"../utils/common":41}],51:[function(J,ae,T){"use strict";ae.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(J,ae,T){"use strict";var C=J("../utils/common"),b=0,h=1;function p(I){for(var N=I.length;0<=--N;)I[N]=0}var f=0,w=29,m=256,o=m+1+w,i=30,e=19,r=2*o+1,n=15,t=16,u=7,d=256,_=16,E=17,A=18,S=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],L=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],P=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],q=new Array(2*(o+2));p(q);var F=new Array(2*i);p(F);var Z=new Array(512);p(Z);var B=new Array(256);p(B);var X=new Array(w);p(X);var te,W,Y,z=new Array(i);function G(I,N,oe,le,$){this.static_tree=I,this.extra_bits=N,this.extra_base=oe,this.elems=le,this.max_length=$,this.has_stree=I&&I.length}function H(I,N){this.dyn_tree=I,this.max_code=0,this.stat_desc=N}function D(I){return I<256?Z[I]:Z[256+(I>>>7)]}function Q(I,N){I.pending_buf[I.pending++]=255&N,I.pending_buf[I.pending++]=N>>>8&255}function ce(I,N,oe){I.bi_valid>t-oe?(I.bi_buf|=N<<I.bi_valid&65535,Q(I,I.bi_buf),I.bi_buf=N>>t-I.bi_valid,I.bi_valid+=oe-t):(I.bi_buf|=N<<I.bi_valid&65535,I.bi_valid+=oe)}function ne(I,N,oe){ce(I,oe[2*N],oe[2*N+1])}function me(I,N){for(var oe=0;oe|=1&I,I>>>=1,oe<<=1,0<--N;);return oe>>>1}function de(I,N,oe){var le,$,xe=new Array(n+1),Le=0;for(le=1;le<=n;le++)xe[le]=Le=Le+oe[le-1]<<1;for($=0;$<=N;$++){var Se=I[2*$+1];Se!==0&&(I[2*$]=me(xe[Se]++,Se))}}function ie(I){var N;for(N=0;N<o;N++)I.dyn_ltree[2*N]=0;for(N=0;N<i;N++)I.dyn_dtree[2*N]=0;for(N=0;N<e;N++)I.bl_tree[2*N]=0;I.dyn_ltree[2*d]=1,I.opt_len=I.static_len=0,I.last_lit=I.matches=0}function re(I){8<I.bi_valid?Q(I,I.bi_buf):0<I.bi_valid&&(I.pending_buf[I.pending++]=I.bi_buf),I.bi_buf=0,I.bi_valid=0}function ge(I,N,oe,le){var $=2*N,xe=2*oe;return I[$]<I[xe]||I[$]===I[xe]&&le[N]<=le[oe]}function we(I,N,oe){for(var le=I.heap[oe],$=oe<<1;$<=I.heap_len&&($<I.heap_len&&ge(N,I.heap[$+1],I.heap[$],I.depth)&&$++,!ge(N,le,I.heap[$],I.depth));)I.heap[oe]=I.heap[$],oe=$,$<<=1;I.heap[oe]=le}function Ce(I,N,oe){var le,$,xe,Le,Se=0;if(I.last_lit!==0)for(;le=I.pending_buf[I.d_buf+2*Se]<<8|I.pending_buf[I.d_buf+2*Se+1],$=I.pending_buf[I.l_buf+Se],Se++,le===0?ne(I,$,N):(ne(I,(xe=B[$])+m+1,N),(Le=S[xe])!==0&&ce(I,$-=X[xe],Le),ne(I,xe=D(--le),oe),(Le=L[xe])!==0&&ce(I,le-=z[xe],Le)),Se<I.last_lit;);ne(I,d,N)}function je(I,N){var oe,le,$,xe=N.dyn_tree,Le=N.stat_desc.static_tree,Se=N.stat_desc.has_stree,Ue=N.stat_desc.elems,Ze=-1;for(I.heap_len=0,I.heap_max=r,oe=0;oe<Ue;oe++)xe[2*oe]!==0?(I.heap[++I.heap_len]=Ze=oe,I.depth[oe]=0):xe[2*oe+1]=0;for(;I.heap_len<2;)xe[2*($=I.heap[++I.heap_len]=Ze<2?++Ze:0)]=1,I.depth[$]=0,I.opt_len--,Se&&(I.static_len-=Le[2*$+1]);for(N.max_code=Ze,oe=I.heap_len>>1;1<=oe;oe--)we(I,xe,oe);for($=Ue;oe=I.heap[1],I.heap[1]=I.heap[I.heap_len--],we(I,xe,1),le=I.heap[1],I.heap[--I.heap_max]=oe,I.heap[--I.heap_max]=le,xe[2*$]=xe[2*oe]+xe[2*le],I.depth[$]=(I.depth[oe]>=I.depth[le]?I.depth[oe]:I.depth[le])+1,xe[2*oe+1]=xe[2*le+1]=$,I.heap[1]=$++,we(I,xe,1),2<=I.heap_len;);I.heap[--I.heap_max]=I.heap[1],function(et,ht){var Ct,It,$t,yt,Dt,Bt,Pt=ht.dyn_tree,nr=ht.max_code,Vt=ht.stat_desc.static_tree,Jt=ht.stat_desc.has_stree,Sr=ht.stat_desc.extra_bits,Or=ht.stat_desc.extra_base,qt=ht.stat_desc.max_length,dr=0;for(yt=0;yt<=n;yt++)et.bl_count[yt]=0;for(Pt[2*et.heap[et.heap_max]+1]=0,Ct=et.heap_max+1;Ct<r;Ct++)qt<(yt=Pt[2*Pt[2*(It=et.heap[Ct])+1]+1]+1)&&(yt=qt,dr++),Pt[2*It+1]=yt,nr<It||(et.bl_count[yt]++,Dt=0,Or<=It&&(Dt=Sr[It-Or]),Bt=Pt[2*It],et.opt_len+=Bt*(yt+Dt),Jt&&(et.static_len+=Bt*(Vt[2*It+1]+Dt)));if(dr!==0){do{for(yt=qt-1;et.bl_count[yt]===0;)yt--;et.bl_count[yt]--,et.bl_count[yt+1]+=2,et.bl_count[qt]--,dr-=2}while(0<dr);for(yt=qt;yt!==0;yt--)for(It=et.bl_count[yt];It!==0;)nr<($t=et.heap[--Ct])||(Pt[2*$t+1]!==yt&&(et.opt_len+=(yt-Pt[2*$t+1])*Pt[2*$t],Pt[2*$t+1]=yt),It--)}}(I,N),de(xe,Ze,I.bl_count)}function V(I,N,oe){var le,$,xe=-1,Le=N[1],Se=0,Ue=7,Ze=4;for(Le===0&&(Ue=138,Ze=3),N[2*(oe+1)+1]=65535,le=0;le<=oe;le++)$=Le,Le=N[2*(le+1)+1],++Se<Ue&&$===Le||(Se<Ze?I.bl_tree[2*$]+=Se:$!==0?($!==xe&&I.bl_tree[2*$]++,I.bl_tree[2*_]++):Se<=10?I.bl_tree[2*E]++:I.bl_tree[2*A]++,xe=$,Ze=(Se=0)===Le?(Ue=138,3):$===Le?(Ue=6,3):(Ue=7,4))}function ye(I,N,oe){var le,$,xe=-1,Le=N[1],Se=0,Ue=7,Ze=4;for(Le===0&&(Ue=138,Ze=3),le=0;le<=oe;le++)if($=Le,Le=N[2*(le+1)+1],!(++Se<Ue&&$===Le)){if(Se<Ze)for(;ne(I,$,I.bl_tree),--Se!=0;);else $!==0?($!==xe&&(ne(I,$,I.bl_tree),Se--),ne(I,_,I.bl_tree),ce(I,Se-3,2)):Se<=10?(ne(I,E,I.bl_tree),ce(I,Se-3,3)):(ne(I,A,I.bl_tree),ce(I,Se-11,7));xe=$,Ze=(Se=0)===Le?(Ue=138,3):$===Le?(Ue=6,3):(Ue=7,4)}}p(z);var K=!1;function k(I,N,oe,le){ce(I,(f<<1)+(le?1:0),3),function($,xe,Le,Se){re($),Se&&(Q($,Le),Q($,~Le)),C.arraySet($.pending_buf,$.window,xe,Le,$.pending),$.pending+=Le}(I,N,oe,!0)}T._tr_init=function(I){K||(function(){var N,oe,le,$,xe,Le=new Array(n+1);for($=le=0;$<w-1;$++)for(X[$]=le,N=0;N<1<<S[$];N++)B[le++]=$;for(B[le-1]=$,$=xe=0;$<16;$++)for(z[$]=xe,N=0;N<1<<L[$];N++)Z[xe++]=$;for(xe>>=7;$<i;$++)for(z[$]=xe<<7,N=0;N<1<<L[$]-7;N++)Z[256+xe++]=$;for(oe=0;oe<=n;oe++)Le[oe]=0;for(N=0;N<=143;)q[2*N+1]=8,N++,Le[8]++;for(;N<=255;)q[2*N+1]=9,N++,Le[9]++;for(;N<=279;)q[2*N+1]=7,N++,Le[7]++;for(;N<=287;)q[2*N+1]=8,N++,Le[8]++;for(de(q,o+1,Le),N=0;N<i;N++)F[2*N+1]=5,F[2*N]=me(N,5);te=new G(q,S,m+1,o,n),W=new G(F,L,0,i,n),Y=new G(new Array(0),P,0,e,u)}(),K=!0),I.l_desc=new H(I.dyn_ltree,te),I.d_desc=new H(I.dyn_dtree,W),I.bl_desc=new H(I.bl_tree,Y),I.bi_buf=0,I.bi_valid=0,ie(I)},T._tr_stored_block=k,T._tr_flush_block=function(I,N,oe,le){var $,xe,Le=0;0<I.level?(I.strm.data_type===2&&(I.strm.data_type=function(Se){var Ue,Ze=4093624447;for(Ue=0;Ue<=31;Ue++,Ze>>>=1)if(1&Ze&&Se.dyn_ltree[2*Ue]!==0)return b;if(Se.dyn_ltree[18]!==0||Se.dyn_ltree[20]!==0||Se.dyn_ltree[26]!==0)return h;for(Ue=32;Ue<m;Ue++)if(Se.dyn_ltree[2*Ue]!==0)return h;return b}(I)),je(I,I.l_desc),je(I,I.d_desc),Le=function(Se){var Ue;for(V(Se,Se.dyn_ltree,Se.l_desc.max_code),V(Se,Se.dyn_dtree,Se.d_desc.max_code),je(Se,Se.bl_desc),Ue=e-1;3<=Ue&&Se.bl_tree[2*M[Ue]+1]===0;Ue--);return Se.opt_len+=3*(Ue+1)+5+5+4,Ue}(I),$=I.opt_len+3+7>>>3,(xe=I.static_len+3+7>>>3)<=$&&($=xe)):$=xe=oe+5,oe+4<=$&&N!==-1?k(I,N,oe,le):I.strategy===4||xe===$?(ce(I,2+(le?1:0),3),Ce(I,q,F)):(ce(I,4+(le?1:0),3),function(Se,Ue,Ze,et){var ht;for(ce(Se,Ue-257,5),ce(Se,Ze-1,5),ce(Se,et-4,4),ht=0;ht<et;ht++)ce(Se,Se.bl_tree[2*M[ht]+1],3);ye(Se,Se.dyn_ltree,Ue-1),ye(Se,Se.dyn_dtree,Ze-1)}(I,I.l_desc.max_code+1,I.d_desc.max_code+1,Le+1),Ce(I,I.dyn_ltree,I.dyn_dtree)),ie(I),le&&re(I)},T._tr_tally=function(I,N,oe){return I.pending_buf[I.d_buf+2*I.last_lit]=N>>>8&255,I.pending_buf[I.d_buf+2*I.last_lit+1]=255&N,I.pending_buf[I.l_buf+I.last_lit]=255&oe,I.last_lit++,N===0?I.dyn_ltree[2*oe]++:(I.matches++,N--,I.dyn_ltree[2*(B[oe]+m+1)]++,I.dyn_dtree[2*D(N)]++),I.last_lit===I.lit_bufsize-1},T._tr_align=function(I){ce(I,2,3),ne(I,d,q),function(N){N.bi_valid===16?(Q(N,N.bi_buf),N.bi_buf=0,N.bi_valid=0):8<=N.bi_valid&&(N.pending_buf[N.pending++]=255&N.bi_buf,N.bi_buf>>=8,N.bi_valid-=8)}(I)}},{"../utils/common":41}],53:[function(J,ae,T){"use strict";ae.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(J,ae,T){(function(C){(function(b,h){"use strict";if(!b.setImmediate){var p,f,w,m,o=1,i={},e=!1,r=b.document,n=Object.getPrototypeOf&&Object.getPrototypeOf(b);n=n&&n.setTimeout?n:b,p={}.toString.call(b.process)==="[object process]"?function(_){ot.nextTick(function(){u(_)})}:function(){if(b.postMessage&&!b.importScripts){var _=!0,E=b.onmessage;return b.onmessage=function(){_=!1},b.postMessage("","*"),b.onmessage=E,_}}()?(m="setImmediate$"+Math.random()+"$",b.addEventListener?b.addEventListener("message",d,!1):b.attachEvent("onmessage",d),function(_){b.postMessage(m+_,"*")}):b.MessageChannel?((w=new MessageChannel).port1.onmessage=function(_){u(_.data)},function(_){w.port2.postMessage(_)}):r&&"onreadystatechange"in r.createElement("script")?(f=r.documentElement,function(_){var E=r.createElement("script");E.onreadystatechange=function(){u(_),E.onreadystatechange=null,f.removeChild(E),E=null},f.appendChild(E)}):function(_){setTimeout(u,0,_)},n.setImmediate=function(_){typeof _!="function"&&(_=new Function(""+_));for(var E=new Array(arguments.length-1),A=0;A<E.length;A++)E[A]=arguments[A+1];var S={callback:_,args:E};return i[o]=S,p(o),o++},n.clearImmediate=t}function t(_){delete i[_]}function u(_){if(e)setTimeout(u,0,_);else{var E=i[_];if(E){e=!0;try{(function(A){var S=A.callback,L=A.args;switch(L.length){case 0:S();break;case 1:S(L[0]);break;case 2:S(L[0],L[1]);break;case 3:S(L[0],L[1],L[2]);break;default:S.apply(h,L)}})(E)}finally{t(_),e=!1}}}}function d(_){_.source===b&&typeof _.data=="string"&&_.data.indexOf(m)===0&&u(+_.data.slice(m.length))}})(typeof self=="undefined"?C===void 0?this:C:self)}).call(this,typeof Ye!="undefined"?Ye:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})}).call(this,Fe("HDXh").Buffer,Fe("IyRk"),Fe("Q2Ig"))},"yj/a":function(_t,pt,Fe){"use strict";var He=Fe("VTBJ"),Ye=Fe("Ff2n"),ot=Fe("nKUr"),Qe=Fe.n(ot),J=Fe("uX+g"),ae=Fe("q1tI"),T=Fe.n(ae),C=Fe("lS/g"),b=Fe("adzw"),h=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],p=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],f=T.a.forwardRef(function(e,r){var n=e.fieldProps,t=e.children,u=e.params,d=e.proFieldProps,_=e.mode,E=e.valueEnum,A=e.request,S=e.showSearch,L=e.options,P=Object(Ye.a)(e,h),M=Object(ae.useContext)(C.b);return Object(ot.jsx)(b.a,Object(He.a)(Object(He.a)({valueEnum:Object(J.a)(E),request:A,params:u,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(He.a)({options:L,mode:_,showSearch:S,getPopupContainer:M.getPopupContainer},n),ref:r,proFieldProps:d},P),{},{children:t}))}),w=T.a.forwardRef(function(e,r){var n=e.fieldProps,t=e.children,u=e.params,d=e.proFieldProps,_=e.mode,E=e.valueEnum,A=e.request,S=e.options,L=Object(Ye.a)(e,p),P=Object(He.a)({options:S,mode:_||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},n),M=Object(ae.useContext)(C.b);return Object(ot.jsx)(b.a,Object(He.a)(Object(He.a)({valueEnum:Object(J.a)(E),request:A,params:u,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(He.a)({getPopupContainer:M.getPopupContainer},P),ref:r,proFieldProps:d},L),{},{children:t}))}),m=f,o=w,i=m;i.SearchSelect=o,i.displayName="ProFormComponent",pt.a=i}}]);
