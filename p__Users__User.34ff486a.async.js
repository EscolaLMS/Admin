(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"2MUX":function(a,h,e){var r=e("h875");function n(o,s){if(typeof s!="function"&&s!==null)throw new TypeError("Super expression must either be null or a function");o.prototype=Object.create(s&&s.prototype,{constructor:{value:o,writable:!0,configurable:!0}}),Object.defineProperty(o,"prototype",{writable:!1}),s&&r(o,s)}a.exports=n,a.exports.__esModule=!0,a.exports.default=a.exports},"59P8":function(a,h,e){"use strict";var r=e("k1fw"),n=e("PpiC"),o=e("tJVT"),s=e("q1tI"),c=e("9kvl"),M=e("Qiat"),i=e("sWYD"),_=e("mGZj"),D=e("qLMh"),E=e("9og8");function f(l,x){return g.apply(this,arguments)}function g(){return g=Object(E.a)(Object(D.a)().mark(function l(x,A){return Object(D.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(c.i)("/api/admin/tracks/routes",Object(r.a)({method:"GET",useCache:!1,params:Object(r.a)(Object(r.a)({},x),{},{per_page:x.pageSize,page:x.current})},A||{})));case 1:case"end":return d.stop()}},l)})),g.apply(this,arguments)}var B=e("Vpfc"),j=e("0WSk"),u=e("nKUr"),v=["type","defaultRender"],m=[{title:Object(u.jsx)(c.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{title:Object(u.jsx)(c.a,{id:"dateRange",defaultMessage:"Date Range"}),dataIndex:"dateRange",hideInSearch:!1,hideInForm:!0,hideInTable:!0,valueType:"dateRange",fieldProps:{allowEmpty:[!0,!0]}},{title:Object(u.jsx)(c.a,{id:"http_method",defaultMessage:"http_method"}),dataIndex:"method",hideInSearch:!1,sorter:!0,valueEnum:{GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH"}},{title:Object(u.jsx)(c.a,{id:"path",defaultMessage:"path"}),dataIndex:"path",sorter:!0,hideInSearch:!1}],P=function(x){var A=x.useAsWidget,G=x.userID,d=Object(s.useRef)(),p=Object(s.useState)(!1),ee=Object(o.a)(p,2),$=ee[0],Z=ee[1],ne=Object(c.l)();return Object(u.jsx)(M.a,{headerTitle:ne.formatMessage({id:"menu.Analytics.Logs",defaultMessage:"menu.Analytics.Logs"}),loading:$,actionRef:d,rowKey:"id",search:{layout:"vertical"},request:function(I,Q){var ce=I.user_id,ue=I.method,te=I.dateRange,de=I.path,se=I.pageSize,Oe=I.current,ie=Q&&Object.entries(Q)[0];Z(!0);var t=te&&te[0]?Object(i.a)(new Date(te[0]),_.a):void 0,me=te&&te[1]?Object(i.a)(new Date(te[1]),_.a):void 0;return f({user_id:A?G:ce,method:ue,pageSize:se,current:Oe,path:de,date_from:t,date_to:me,order_by:ie&&ie[0],order:ie?ie[1]==="ascend"?"ASC":"DESC":void 0}).then(function(je){return Z(!1),je.success?{data:je.data,total:je.meta.total,success:!0}:[]})},columns:[].concat(m,[{title:Object(u.jsx)(c.a,{id:"user",defaultMessage:"user"}),dataIndex:"user_id",key:"user_id",hideInSearch:A,sorter:!0,renderFormItem:function(I,Q,ce){var ue=Q.type,te=Q.defaultRender,de=Object(n.a)(Q,v);if(ue==="form")return null;var se=ce.getFieldValue("state");return Object(u.jsx)(j.a,Object(r.a)(Object(r.a)({},de),{},{state:{type:se}}))},render:function(I,Q){return Q.user&&Object(u.jsx)(B.a,{type:"App\\Models\\User",type_id:Q.user.id})}}])})},O=h.a=P},"5h2M":function(a,h){function e(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(r){return!1}}a.exports=e,a.exports.__esModule=!0,a.exports.default=a.exports},CS2o:function(a,h,e){var r=e("GXtI"),n=e("5h2M"),o=e("baxp");function s(c){var M=n();return function(){var _=r(c),D;if(M){var E=r(this).constructor;D=Reflect.construct(_,arguments,E)}else D=_.apply(this,arguments);return o(this,D)}}a.exports=s,a.exports.__esModule=!0,a.exports.default=a.exports},"G/Ub":function(a,h,e){"use strict";e.d(h,"d",function(){return c}),e.d(h,"a",function(){return i}),e.d(h,"b",function(){return D}),e.d(h,"c",function(){return f}),e.d(h,"e",function(){return B});var r=e("qLMh"),n=e("k1fw"),o=e("9og8"),s=e("9kvl");function c(u,v){return M.apply(this,arguments)}function M(){return M=Object(o.a)(Object(r.a)().mark(function u(v,m){return Object(r.a)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",Object(s.i)("/api/admin/roles",Object(n.a)({method:"GET",useCache:!1,params:v},m||{})));case 1:case"end":return O.stop()}},u)})),M.apply(this,arguments)}function i(u,v){return _.apply(this,arguments)}function _(){return _=Object(o.a)(Object(r.a)().mark(function u(v,m){return Object(r.a)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",Object(s.i)("/api/admin/roles",Object(n.a)({method:"POST",headers:{"Content-Type":"application/json"},data:v},m||{})));case 1:case"end":return O.stop()}},u)})),_.apply(this,arguments)}function D(u,v){return E.apply(this,arguments)}function E(){return E=Object(o.a)(Object(r.a)().mark(function u(v,m){return Object(r.a)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",Object(s.i)("/api/admin/roles/".concat(v),Object(n.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},m||{})));case 1:case"end":return O.stop()}},u)})),E.apply(this,arguments)}function f(u,v){return g.apply(this,arguments)}function g(){return g=Object(o.a)(Object(r.a)().mark(function u(v,m){return Object(r.a)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",Object(s.i)("/api/admin/roles/".concat(v),Object(n.a)({method:"GET",useCache:!1},m||{})));case 1:case"end":return O.stop()}},u)})),g.apply(this,arguments)}function B(u,v,m){return j.apply(this,arguments)}function j(){return j=Object(o.a)(Object(r.a)().mark(function u(v,m,P){return Object(r.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(s.i)("/api/admin/roles/".concat(v),Object(n.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:m},P||{})));case 1:case"end":return l.stop()}},u)})),j.apply(this,arguments)}},GXtI:function(a,h){function e(r){return a.exports=e=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(o){return o.__proto__||Object.getPrototypeOf(o)},a.exports.__esModule=!0,a.exports.default=a.exports,e(r)}a.exports=e,a.exports.__esModule=!0,a.exports.default=a.exports},Jfn2:function(a,h,e){"use strict";var r=e("k1fw"),n=e("XCrF"),o=e("1GRj"),s=e("PpiC"),c=e("q1tI"),M=e.n(c),i=e("nKUr"),_=e.n(i),D=["path","size","srcSizes","alt"],E=function(g){var B=g.path,j=g.size,u=g.srcSizes,v=g.alt,m=v===void 0?"LMS Image":v,P=Object(s.a)(g,D),O="".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(B,"&w=").concat(u?u[0]:j),l=u&&u.map(function(x){return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(B,"&w=").concat(x," ").concat(x,"w")});return Object(i.jsx)("div",{className:"escolalms-image",children:Object(i.jsx)(o.a,Object(r.a)({src:O,srcSet:l&&l.join(","),alt:m},P))})};h.a=E},Lw8S:function(a,h){function e(n,o){for(var s=0;s<o.length;s++){var c=o[s];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(n,c.key,c)}}function r(n,o,s){return o&&e(n.prototype,o),s&&e(n,s),Object.defineProperty(n,"prototype",{writable:!1}),n}a.exports=r,a.exports.__esModule=!0,a.exports.default=a.exports},TWax:function(a,h,e){"use strict";var r=e("ozfa"),n=e("MJZm"),o=e("T2oS"),s=e("W9HT"),c=e("tJVT"),M=e("q1tI"),i=e.n(M),_=e("JifO"),D=e("nKUr"),E=e.n(D),f=function B(j){return j.subcategories&&j.subcategories.length?{title:j.name,key:j.id,children:j.subcategories.map(function(u){return B(u)})}:{title:j.name,key:j.id}},g=function(j){var u=j.value,v=j.onChange,m=j.multiple,P=m===void 0?!0:m,O=Object(M.useState)([]),l=Object(c.a)(O,2),x=l[0],A=l[1];Object(M.useEffect)(function(){Object(_.c)().then(function(d){d.success&&A(d.data)})},[]);var G=Object(M.useMemo)(function(){return x.map(function(d){return f(d)})},[x]);return x.length===0?Object(D.jsx)(s.a,{}):Object(D.jsx)(n.a,{multiple:P,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,style:{width:"100%"},checkedKeys:u,onCheck:function(p){if(typeof p=="object"&&!Array.isArray(p)&&p.checked){var ee=p.checked;return v&&Array.isArray(ee)&&v(ee)}},treeData:G,disabled:x.length===0})};h.a=g},YDZB:function(a,h,e){"use strict";var r=e("2qtc"),n=e("kLXV"),o=e("7Kak"),s=e("9yH6"),c=e("+L6B"),M=e("2/Rp"),i=e("tJVT"),_=e("q1tI"),D=e.n(_),E=e("gU/Y"),f=e("9kvl"),g=e("u95b"),B=e.n(g),j=e("nKUr"),u=e.n(j),v=function(P){var O=P.value,l=P.onChange,x=Object(_.useState)(!1),A=Object(i.a)(x,2),G=A[0],d=A[1],p=Object(_.useCallback)(function(){d(!1)},[]),ee=Object(_.useState)("code"),$=Object(i.a)(ee,2),Z=$[0],ne=$[1];return Object(j.jsxs)("div",{children:[Object(j.jsx)(M.a,{type:"primary",onClick:function(){return d(!0)},size:"small",children:Object(j.jsx)(f.a,{id:"json_editor"})}),Object(j.jsxs)(n.a,{title:"JSON",open:G,onOk:p,onCancel:p,destroyOnClose:!0,children:[Object(j.jsxs)(s.a.Group,{onChange:function(I){return ne(I.target.value)},value:Z,children:[Object(j.jsx)(s.a,{value:"tree",children:"tree"}),Object(j.jsx)(s.a,{value:"view",children:"view"}),Object(j.jsx)(s.a,{value:"form",children:"form"}),Object(j.jsx)(s.a,{value:"code",children:"code"}),Object(j.jsx)(s.a,{value:"text",children:"text"})]}),Object(j.jsx)(E.a,{mode:Z,value:O,onChange:l},Z)]})]})};h.a=v},YDsB:function(a,h,e){"use strict";var r=e("YDZB"),n=e("/y+f"),o=e("FJDo"),s=e("tneF"),c=e("Qurx"),M=e("VMEa"),i=e("BiO0"),_=e("q1tI"),D=e.n(_),E=e("9kvl"),f=e("nKUr"),g=e.n(f),B=function(u){var v=u.field,m=Object(E.l)(),P=function(l){var x,A,G=Object(E.e)(),d=l==null||(x=l.extra)===null||x===void 0||(A=x.find(function(p){return p==null?void 0:p[G]}))===null||A===void 0?void 0:A[G];switch(l.type){case n.d.Number:return Object(f.jsx)(o.a,{width:"md",name:l.name,label:d!=null?d:Object(f.jsx)(E.a,{id:l.name}),tooltip:Object(f.jsx)(E.a,{id:l.name}),placeholder:m.formatMessage({id:l.name,defaultMessage:l.name}),min:1,max:1024,fieldProps:{step:1}});case n.d.Boolean:return Object(f.jsx)(s.a,{name:l.name,children:d!=null?d:Object(f.jsx)(E.a,{id:l.name})});case n.d.Varchar:return Object(f.jsx)(c.a,{width:"md",name:l.name,label:d!=null?d:Object(f.jsx)(E.a,{id:l.name}),tooltip:Object(f.jsx)(E.a,{id:l.name}),placeholder:m.formatMessage({id:l.name})});case n.d.Json:return Object(f.jsx)(M.a.Item,{name:l.name,label:d!=null?d:Object(f.jsx)(E.a,{id:l.name}),tooltip:Object(f.jsx)(E.a,{id:l.name}),valuePropName:"value",children:Object(f.jsx)(r.a,{})});case n.d.Text:default:return Object(f.jsx)(i.a,{width:"md",name:l.name,label:d!=null?d:Object(f.jsx)(E.a,{id:l.name}),tooltip:Object(f.jsx)(E.a,{id:l.name}),placeholder:m.formatMessage({id:l.name})})}};return Object(f.jsx)(f.Fragment,{children:P(v)})};h.a=B},baxp:function(a,h,e){var r=e("z01/").default,n=e("x49D");function o(s,c){if(c&&(r(c)==="object"||typeof c=="function"))return c;if(c!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n(s)}a.exports=o,a.exports.__esModule=!0,a.exports.default=a.exports},h875:function(a,h){function e(r,n){return a.exports=e=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(s,c){return s.__proto__=c,s},a.exports.__esModule=!0,a.exports.default=a.exports,e(r,n)}a.exports=e,a.exports.__esModule=!0,a.exports.default=a.exports},tneF:function(a,h,e){"use strict";var r=e("sRBo"),n=e("kaz8"),o=e("VTBJ"),s=e("Ff2n"),c=e("nKUr"),M=e.n(c),i=e("uX+g"),_=e("q1tI"),D=e.n(_),E=e("WFLz"),f=e("adzw"),g=["options","fieldProps","proFieldProps","valueEnum"],B=D.a.forwardRef(function(m,P){var O=m.options,l=m.fieldProps,x=m.proFieldProps,A=m.valueEnum,G=Object(s.a)(m,g);return Object(c.jsx)(f.a,Object(o.a)({ref:P,valueType:"checkbox",valueEnum:Object(i.a)(A,void 0),fieldProps:Object(o.a)({options:O},l),lightProps:Object(o.a)({labelFormatter:function(){return Object(c.jsx)(f.a,Object(o.a)({ref:P,valueType:"checkbox",mode:"read",valueEnum:Object(i.a)(A,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(o.a)({options:O},l),proFieldProps:x},G))}},G.lightProps),proFieldProps:x},G))}),j=D.a.forwardRef(function(m,P){var O=m.fieldProps,l=m.children;return Object(c.jsx)(n.a,Object(o.a)(Object(o.a)({ref:P},O),{},{children:l}))}),u=Object(E.a)(j,{valuePropName:"checked"}),v=u;v.Group=B,h.a=v},weGn:function(a,h,e){"use strict";e.r(h);var r=e("qLMh"),n=e("k1fw"),o=e("9og8"),s=e("tJVT"),c=e("nhC9"),M=e("Ty5D"),i=e("9kvl"),_=e("tMyG"),D=e("14J3"),E=e("BMrR"),f=e("/zsF"),g=e("PArb"),B=e("tU7J"),j=e("wFql"),u=e("DYRE"),v=e("zeV3"),m=e("y8nQ"),P=e("Vl3Y"),O=e("+L6B"),l=e("2/Rp"),x=e("T2oS"),A=e("W9HT"),G=e("miYZ"),d=e("tsqr"),p=e("q1tI"),ee=e.n(p),$=e("VMEa"),Z=e("Qurx"),ne=e("F/zT"),oe=e("tneF"),I=e("VK58"),Q=e("02ly"),ce=e("Jfn2"),ue=e("2ult"),te=e("55Ip"),de=e("G/Ub"),se=e("ri8c"),Oe=e("TpMl"),ie=e("YDsB"),t=e("nKUr");function me(S){var ae=Object(p.useState)([]),K=Object(s.a)(ae,2),F=K[0],w=K[1],Y=Object(p.useState)(!1),y=Object(s.a)(Y,2),k=y[0],b=y[1],U=Object(p.useCallback)(Object(o.a)(Object(r.a)().mark(function H(){var C;return Object(r.a)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.prev=0,b(!0),z.next=4,Object(se.h)({user_id:S});case 4:C=z.sent,C.success&&w(C.data.map(function(T){var fe=T.id;return fe}));case 6:return z.prev=6,b(!1),z.finish(6);case 9:case"end":return z.stop()}},H,null,[[0,,6,9]])})),[S]),V=Object(p.useCallback)(function(){var H=Object(o.a)(Object(r.a)().mark(function C(R){return Object(r.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(typeof R!="string"){T.next=2;break}return T.abrupt("return");case 2:return b(!0),T.next=5,Object(se.a)(R,S);case 5:return T.next=7,U();case 7:b(!1);case 8:case"end":return T.stop()}},C)}));return function(C){return H.apply(this,arguments)}}(),[S]),N=Object(p.useCallback)(function(){var H=Object(o.a)(Object(r.a)().mark(function C(R){return Object(r.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(typeof R!="string"){T.next=2;break}return T.abrupt("return");case 2:return b(!0),T.next=5,Object(se.d)(R,S);case 5:return T.next=7,U();case 7:b(!1);case 8:case"end":return T.stop()}},C)}));return function(C){return H.apply(this,arguments)}}(),[S]),q=Object(p.useCallback)(Object(o.a)(Object(r.a)().mark(function H(){return Object(r.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return b(!0),R.next=3,Promise.all(F.map(function(z){return Object(se.d)(z,S)}));case 3:return R.next=5,U();case 5:b(!1);case 6:case"end":return R.stop()}},H)})),[F]);return Object(p.useEffect)(function(){U()},[U]),{userGroups:F,userGroupsLoading:k,handleAddToGroup:V,handleRemoveFromGroup:N,handleClearAllGroups:q}}var je=function(S){var ae,K,F,w,Y=S.isNew,y=S.data,k=S.setData,b=Object(i.l)(),U=Object(M.l)(),V=U.user,N=Object(Oe.a)("EscolaLms\\Auth\\Models\\User"),q=Object(i.m)("@@initialState"),H=q.initialState,C=H==null||(ae=H.config)===null||ae===void 0||(K=ae.filter(function(L){return L.key==="frontURL"})[0])===null||K===void 0?void 0:K.data,R=me((F=y==null?void 0:y.id)!==null&&F!==void 0?F:0),z=R.userGroups,T=R.userGroupsLoading,fe=R.handleAddToGroup,Me=R.handleRemoveFromGroup,De=R.handleClearAllGroups,Ce=Object(p.useState)(),pe=Object(s.a)(Ce,2),be=pe[0],Te=pe[1],ye=$.a.useForm(),Ae=Object(s.a)(ye,1),ve=Ae[0],Re=Object(p.useCallback)(Object(o.a)(Object(r.a)().mark(function L(){var X,W;return Object(r.a)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,Object(de.d)();case 2:return X=J.sent,J.next=5,X;case 5:W=J.sent,W.success&&Te(W.data);case 7:case"end":return J.stop()}},L)})),[V]),Ie=function(){Object(I.d)(Number(V)).then(function(X){X.success&&(d.b.success(X.message),k(function(W){return Object(n.a)(Object(n.a)({},W),{},{avatar:"",path_avatar:""})}))}).catch(function(X){d.b.error(X.data.message)})};Object(p.useEffect)(function(){Re()},[V]);var Ue=Object(p.useMemo)(function(){return{form:ve,onFinish:function(){var L=Object(o.a)(Object(r.a)().mark(function W(he){var J,le;return Object(r.a)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(le=Object(n.a)({},he),(!le.password||le.password==="")&&delete le.password,!Y){re.next=9;break}return re.next=5,Object(I.a)(le);case 5:J=re.sent,J.success&&i.f.push("/users/".concat(J.data.id,"/user_info")),re.next=12;break;case 9:return re.next=11,Object(I.k)(Number(V),le);case 11:J=re.sent;case 12:d.b.success(J.message);case 13:case"end":return re.stop()}},W)}));function X(W){return L.apply(this,arguments)}return X}(),initialValues:y}},[y,V]);return y?Object(t.jsxs)($.a,Object(n.a)(Object(n.a)({},Ue),{},{children:[Object(t.jsxs)($.a.Group,{children:[Object(t.jsx)(Z.a,{width:"md",name:"first_name",label:Object(t.jsx)(i.a,{id:"first_name"}),tooltip:Object(t.jsx)(i.a,{id:"first_name"}),placeholder:b.formatMessage({id:"first_name"}),required:!0,rules:[{required:!0,message:b.formatMessage({id:"field_required"})}]}),Object(t.jsx)(Z.a,{width:"md",name:"last_name",label:Object(t.jsx)(i.a,{id:"last_name"}),tooltip:Object(t.jsx)(i.a,{id:"last_name"}),placeholder:b.formatMessage({id:"last_name"}),required:!0,rules:[{required:!0,message:b.formatMessage({id:"field_required"})}]}),Object(t.jsx)(Z.a,{width:"md",name:"email",label:Object(t.jsx)(i.a,{id:"email"}),tooltip:Object(t.jsx)(i.a,{id:"email"}),placeholder:b.formatMessage({id:"email"}),required:!0,rules:[{required:!0,message:b.formatMessage({id:"field_required"})}]}),Object(t.jsx)(Z.a.Password,{shouldUpdate:!0,width:"md",name:"password",label:Object(t.jsx)(i.a,{id:"password"}),tooltip:Object(t.jsx)(i.a,{id:"password"}),placeholder:b.formatMessage({id:"password"}),required:Y,rules:[{validator:function(X,W){return W&&!/(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,}$/i.test(W)?Promise.reject(new Error(b.formatMessage({id:"badPassword"}))):Promise.resolve()}},{required:Y,message:Object(t.jsx)(i.a,{id:"field_required"})}]}),N.state==="loaded"&&N.list.map(function(L){return Object(t.jsx)(ie.a,{field:L},L.id)})]}),Object(t.jsxs)($.a.Group,{children:[!Y&&Object(t.jsxs)(v.b,{direction:"vertical",children:[!((w=y.roles)!==null&&w!==void 0&&w.includes("admin"))&&Object(t.jsx)(ne.a,{initialValue:y.is_active,name:"email_verified",label:Object(t.jsx)(i.a,{id:"is_email_verified"})}),Object(t.jsx)(P.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){return ve.getFieldValue("email_verified")?Object(t.jsx)(ee.a.Fragment,{}):Object(t.jsxs)(t.Fragment,{children:[!C&&Object(t.jsxs)("p",{children:[Object(t.jsx)(i.a,{id:"no_base_url"}),Object(t.jsx)(te.a,{to:"/configuration/settings/escola_auth",children:"Settings"})]}),Object(t.jsx)(l.a,{disabled:!C,size:"small",onClick:function(){Object(I.g)(ve.getFieldValue("email"),"".concat(C,"email-verify")).then(function(){d.b.success(b.formatMessage({id:"email_resend"}))})},children:Object(t.jsx)(i.a,{id:"resend"})})]})}})]}),Object(t.jsx)(ne.a,{name:"is_active",label:Object(t.jsx)(i.a,{id:"is_active"})}),be&&Object(t.jsx)(oe.a.Group,{name:"roles",layout:"horizontal",label:Object(t.jsx)(i.a,{id:"roles"}),options:be.filter(function(L){return L.guard_name!=="web"}).map(function(L){return L.name})})]}),!Y&&Object(t.jsxs)(t.Fragment,{children:[Object(t.jsxs)($.a.Group,{children:[Object(t.jsx)($.a.Item,{name:"avatar",label:Object(t.jsx)(i.a,{id:"avatar"}),children:y.path_avatar?Object(t.jsx)(ce.a,{path:y.path_avatar,size:600,width:200}):Object(t.jsx)(j.a,{children:Object(t.jsx)(i.a,{id:"avatar_placeholder"})})}),Object(t.jsx)(P.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){return Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(Q.a,{folder:"avatars/".concat(V),wrapInForm:!1,url:"/api/admin/users/".concat(V,"/avatar"),name:"avatar",accept:"image/*",onChange:function(W){W.file.status==="done"&&W.file.response&&W.file.response.success&&k(W.file.response.data)}}),Object(t.jsx)(l.a,{danger:!0,onClick:Ie,children:Object(t.jsx)(i.a,{id:"delete"})})]})}})]}),Object(t.jsxs)(E.a,{children:[Object(t.jsx)(g.a,{}),Object(t.jsx)($.a.Item,{style:{width:"100%"},label:Object(t.jsx)(i.a,{id:"groups",defaultMessage:"Groups"}),children:Object(t.jsx)(ue.a,{multiple:!0,loading:T,disabled:T,value:z,onSelect:fe,onDeselect:Me,onClear:De})})]})]})]})):Object(t.jsx)(A.a,{})},Ee=e("TWax"),xe=function(ae){var K=ae.data,F=Object(p.useMemo)(function(){return{onFinish:function(){var w=Object(o.a)(Object(r.a)().mark(function y(k){var b,U;return Object(r.a)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return b=Object(n.a)({},k),N.next=3,Object(I.l)(Number(K==null?void 0:K.id),b);case 3:U=N.sent,d.b.success(U.message);case 5:case"end":return N.stop()}},y)}));function Y(y){return w.apply(this,arguments)}return Y}(),initialValues:K}},[K]);return Object(t.jsx)($.a,Object(n.a)(Object(n.a)({},F),{},{children:Object(t.jsx)($.a.Item,{label:Object(t.jsx)(i.a,{id:"categories"}),name:"interests",valuePropName:"value",children:Object(t.jsx)(Ee.a,{})})}))},Pe=xe,_e=e("c+yx"),ge=e("59P8"),Le=h.default=function(){var S=Object(M.l)(),ae=Object(p.useState)(),K=Object(s.a)(ae,2),F=K[0],w=K[1],Y=Object(i.l)(),y=S.tab,k=y===void 0?"user_info":y,b=S.user,U=typeof b=="undefined",V=Object(p.useCallback)(Object(o.a)(Object(r.a)().mark(function N(){var q;return Object(r.a)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,Object(I.m)(Number(b));case 2:q=C.sent,q.success&&w(Object(n.a)(Object(n.a)({},q.data),{},{interests:q.data.interests.map(_e.a)}));case 4:case"end":return C.stop()}},N)})),[b]);return Object(p.useEffect)(function(){if(U){w({});return}V()},[b,V]),Object(t.jsx)(_.a,{title:Object(t.jsx)(i.a,{id:"menu.Settings"}),header:{breadcrumb:{routes:[{path:"/users/".concat(b,"/user_info"),breadcrumbName:Y.formatMessage({id:"menu.Settings"})},{path:String(k),breadcrumbName:Y.formatMessage({id:String(k)})}]}},children:Object(t.jsxs)(c.a,{tabs:{type:"card",activeKey:k,onChange:function(q){return i.f.push("/users/".concat(b,"/").concat(q))}},children:[Object(t.jsx)(c.a.TabPane,{tab:U?Object(t.jsx)(i.a,{id:"new_user"}):Object(t.jsx)(i.a,{id:"edit_user"}),children:Object(t.jsx)(je,{isNew:U,data:F,setData:w})},"user_info"),!U&&Object(t.jsx)(c.a.TabPane,{tab:Object(t.jsx)("span",{children:Object(t.jsx)(i.a,{id:"categories"})}),children:(F==null?void 0:F.id)&&Object(t.jsx)(Pe,{data:F})},"categories"),!U&&Object(t.jsx)(c.a.TabPane,{tab:Object(t.jsx)("span",{children:Object(t.jsx)(i.a,{id:"user_logs"})}),children:b&&Object(t.jsx)(ge.a,{useAsWidget:!0,userID:Number(b)})},"logs")]})})}},x49D:function(a,h){function e(r){if(r===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return r}a.exports=e,a.exports.__esModule=!0,a.exports.default=a.exports},xbqb:function(a,h){function e(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}a.exports=e,a.exports.__esModule=!0,a.exports.default=a.exports}}]);

//# sourceMappingURL=p__Users__User.34ff486a.async.js.map