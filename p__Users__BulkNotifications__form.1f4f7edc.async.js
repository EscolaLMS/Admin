"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4512],{5966:function(X,D,r){var T=r(97685),t=r(1413),L=r(45987),l=r(21770),R=r(75842),d=r(55241),m=r(97435),I=r(67294),o=r(57021),v=r(85893),A=["fieldProps","proFieldProps"],g=["fieldProps","proFieldProps"],O="text",C=function(e){var _=e.fieldProps,b=e.proFieldProps,U=(0,L.Z)(e,A);return(0,v.jsx)(o.Z,(0,t.Z)({valueType:O,fieldProps:_,filedConfig:{valueType:O},proFieldProps:b},U))},h=function(e){var _=(0,l.Z)(e.open||!1,{value:e.open,onChange:e.onOpenChange}),b=(0,T.Z)(_,2),U=b[0],w=b[1];return(0,v.jsx)(R.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(B){var j,y=B.getFieldValue(e.name||[]);return(0,v.jsx)(d.Z,(0,t.Z)((0,t.Z)({getPopupContainer:function(E){return E&&E.parentNode?E.parentNode:E},onOpenChange:function(E){return w(E)},content:(0,v.jsxs)("div",{style:{padding:"4px 0"},children:[(j=e.statusRender)===null||j===void 0?void 0:j.call(e,y),e.strengthText?(0,v.jsx)("div",{style:{marginTop:10},children:(0,v.jsx)("span",{children:e.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},e.popoverProps),{},{open:U,children:e.children}))}})},c=function(e){var _=e.fieldProps,b=e.proFieldProps,U=(0,L.Z)(e,g),w=(0,I.useState)(!1),K=(0,T.Z)(w,2),B=K[0],j=K[1];return _!=null&&_.statusRender&&U.name?(0,v.jsx)(h,{name:U.name,statusRender:_==null?void 0:_.statusRender,popoverProps:_==null?void 0:_.popoverProps,strengthText:_==null?void 0:_.strengthText,open:B,onOpenChange:j,children:(0,v.jsx)("div",{children:(0,v.jsx)(o.Z,(0,t.Z)({valueType:"password",fieldProps:(0,t.Z)((0,t.Z)({},(0,m.Z)(_,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(S){var E;_==null||(E=_.onBlur)===null||E===void 0||E.call(_,S),j(!1)},onClick:function(S){var E;_==null||(E=_.onClick)===null||E===void 0||E.call(_,S),j(!0)}}),proFieldProps:b,filedConfig:{valueType:O}},U))})}):(0,v.jsx)(o.Z,(0,t.Z)({valueType:"password",fieldProps:_,proFieldProps:b,filedConfig:{valueType:O}},U))},i=C;i.Password=c,i.displayName="ProFormComponent",D.Z=i},90672:function(X,D,r){var T=r(1413),t=r(45987),L=r(67294),l=r(57021),R=r(85893),d=["fieldProps","proFieldProps"],m=function(o,v){var A=o.fieldProps,g=o.proFieldProps,O=(0,t.Z)(o,d);return(0,R.jsx)(l.Z,(0,T.Z)({ref:v,valueType:"textarea",fieldProps:A,proFieldProps:g},O))};D.Z=L.forwardRef(m)},44167:function(X,D,r){var T=r(52677),t=r.n(T),L=r(19632),l=r.n(L),R=r(5574),d=r.n(R),m=r(74656),I=r(74330),o=r(67294),v=r(30869),A=r(80854),g=r(85893),O=function(h){var c=h.value,i=h.onChange,p=h.multiple,e=p===void 0?!1:p,_=h.role,b=h.showEmail,U=h.disabled,w=(0,o.useState)([]),K=d()(w,2),B=K[0],j=K[1],y=(0,o.useState)(!1),S=d()(y,2),E=S[0],W=S[1],$=(0,o.useState)([]),k=d()($,2),G=k[0],H=k[1],z=(0,o.useRef)(),n=(0,o.useRef)(),a=(0,o.useCallback)(function(P){j(function(x){return[].concat(l()(x),l()(P)).filter(function(F,Z,N){return N.findIndex(function(Y){return b?Y.email===F.email:Y.id===F.id})===Z})})},[]);(0,o.useEffect)(function(){z.current=B},[B]);var u=(0,o.useCallback)(function(P){W(!0),n.current&&n.current.abort(),n.current=new AbortController,(0,v.rC)({search:P,role:_},{signal:n.current.signal}).then(function(x){x&&x.success&&(a(x.data),W(!1))}).catch(function(){return W(!1)})},[]),f=(0,o.useCallback)(function(P){u(P)},[u]),s=(0,o.useCallback)(function(){H([])},[]);(0,o.useEffect)(function(){var P=new AbortController;if(c){var x=Array.isArray(c)?c:[c],F=x.map(function(Z){return t()(Z)==="object"?Number(Z.id):Number(Z)});H(F),F.filter(function(Z){var N;return!((N=z.current)!==null&&N!==void 0&&N.find(function(Y){return Y.id===Z}))}).forEach(function(Z){(0,v.EA)(Number(Z),{signal:P.signal},!1).then(function(N){N&&N.success&&a([N.data])})})}return function(){P.abort()}},[c]);var M=(0,o.useCallback)(function(P,x){P||s(),i&&i(P,x)},[i,s]);return(0,g.jsx)(m.default,{disabled:U,onFocus:function(){return u()},allowClear:!0,style:{width:"100%",minWidth:"150px"},value:G,onChange:M,mode:e?"multiple":void 0,showSearch:!0,onSearch:f,onDeselect:s,placeholder:(0,g.jsx)(A.FormattedMessage,{id:"select_person",defaultMessage:"Select a person"}),optionFilterProp:"children",filterOption:function(x,F){return F&&F.children?String("".concat(F.user.name," ").concat(F.user.email)).toLowerCase().indexOf(x&&x.toLowerCase()||"")>=0:!0},notFoundContent:E?(0,g.jsx)(I.Z,{size:"small"}):null,children:B.map(function(P){return(0,g.jsxs)(m.default.Option,{value:P.id,user:P,children:[P.name," ",b&&" - ".concat(P.email)]},P.id)})})};D.Z=O},98615:function(X,D,r){r.r(D);var T=r(15009),t=r.n(T),L=r(99289),l=r.n(L),R=r(5574),d=r.n(R),m=r(44167),I=r(53302),o=r(31472),v=r(26271),A=r(74453),g=r(952),O=r(5966),C=r(90672),h=r(67294),c=r(80854),i=r(85893),p=function(_){return o.wg.PUSH};D.default=function(){var e=(0,c.useParams)(),_=e.template,b=e.id,U=b==="new",w=g.ZP.useForm(),K=d()(w,1),B=K[0],j=(0,c.useIntl)(),y=(0,h.useCallback)(function(){var S=l()(t()().mark(function E(W){var $,k,G,H;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if($=W.users_ids&&W.users_ids.length>0,k={title:"".concat(W.title),body:"".concat(W.body),image_url:W.image_url,redirect_url:W.redirect_url},!$){n.next=8;break}return n.next=5,(0,I.ol)({channel:p(_),sections:k,user_ids:W.users_ids});case 5:return G=n.sent,G.success&&c.history.push("/users/notifications/push"),n.abrupt("return");case 8:return n.next=10,(0,I.MH)({channel:p(_),sections:k});case 10:H=n.sent,H.success&&c.history.push("/users/notifications/push");case 12:case"end":return n.stop()}},E)}));return function(E){return S.apply(this,arguments)}}(),[_]);return(0,i.jsx)(A._z,{title:U?(0,i.jsxs)("span",{children:[(0,i.jsx)(c.FormattedMessage,{id:"new"})," ",_]}):(0,i.jsxs)("span",{children:[(0,i.jsx)(c.FormattedMessage,{id:"edit"})," ",_]}),children:(0,i.jsx)(v.ZP,{size:"small",children:(0,i.jsxs)(g.ZP,{initialValues:{},onFinish:y,form:B,children:[(0,i.jsx)(O.Z,{name:"title",label:(0,i.jsx)(c.FormattedMessage,{id:"title"}),placeholder:j.formatMessage({id:"title"}),rules:[{required:!0,message:(0,i.jsx)(c.FormattedMessage,{id:"select"})}]}),(0,i.jsx)(C.Z,{name:"body",label:(0,i.jsx)(c.FormattedMessage,{id:"content"}),placeholder:j.formatMessage({id:"content"}),rules:[{required:!0,message:(0,i.jsx)(c.FormattedMessage,{id:"select"})}]}),(0,i.jsx)(g.ZP.Item,{name:"users_ids",label:(0,i.jsx)(c.FormattedMessage,{id:"users"}),convertValue:function(E){return E},valuePropName:"value",children:(0,i.jsx)(m.Z,{multiple:!0})})]})})})}},53302:function(X,D,r){r.d(D,{MH:function(){return g},ol:function(){return v},xv:function(){return I}});var T=r(15009),t=r.n(T),L=r(97857),l=r.n(L),R=r(99289),d=r.n(R),m=r(80854);function I(C,h){return o.apply(this,arguments)}function o(){return o=d()(t()().mark(function C(h,c){return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,m.request)("/api/admin/bulk-notifications",l()({method:"GET",useCache:!1,params:h},c||{})));case 1:case"end":return p.stop()}},C)})),o.apply(this,arguments)}function v(C,h){return A.apply(this,arguments)}function A(){return A=d()(t()().mark(function C(h,c){return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,m.request)("/api/admin/bulk-notifications/send",l()({method:"POST",headers:{"Content-Type":"application/json"},data:h},c||{})));case 1:case"end":return p.stop()}},C)})),A.apply(this,arguments)}function g(C,h){return O.apply(this,arguments)}function O(){return O=d()(t()().mark(function C(h,c){return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,m.request)("/api/admin/bulk-notifications/send/multicast",l()({method:"POST",headers:{"Content-Type":"application/json"},data:h},c||{})));case 1:case"end":return p.stop()}},C)})),O.apply(this,arguments)}},31472:function(X,D,r){r.d(D,{Fh:function(){return A},UL:function(){return o},Yo:function(){return C},Zg:function(){return h},cX:function(){return I},ce:function(){return m},fS:function(){return O},fn:function(){return R},h5:function(){return c},hg:function(){return p},oz:function(){return T},rX:function(){return g},uT:function(){return l},wg:function(){return i},wl:function(){return v}});var T=function(e){return e.Unselected="",e.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",e.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",e.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",e.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",e.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",e.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",e.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",e.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",e.Project="EscolaLms\\TopicTypeProject\\Models\\Project",e.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz",e}({}),t=function(e){return e.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",e.UserLogged="EscolaLms\\Auth\\Events\\UserLogged",e}({}),L=function(e){return e.draft="draft",e.published="published",e.archived="archived",e}({}),l=function(e){return e.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",e.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",e.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel",e}({}),R=function(e){return e.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent",e}({}),d=function(e){return e.cart_fixed="cart_fixed",e.cart_percent="cart_percent",e.product_fixed="product_fixed",e.product_percent="product_percent",e}({}),m=function(e){return e.MULTIPLE_CHOICE="multiple_choice",e.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",e.TRUE_FALSE="true_false",e.SHORT_ANSWERS="short_answers",e.MATCHING="matching",e.NUMERICAL_QUESTION="numerical_question",e.ESSAY="essay",e.DESCRIPTION="description",e}({}),I=function(e){return e.PRESENT="present",e.PRESENT_NOT_EXERCISING="present_not_exercising",e.ABSENT="absent",e.EXCUSED_ABSENCE="excused_absence",e}({}),o=function(e){return e.Manual="manual",e.ManualPass="manual_pass",e.ManualGrades="manual_grades",e.TeamsForms="teams_forms",e.TeamsLecture="teams_lecture",e.TestPortal="test_portal",e}({}),v=function(e){return e.Passed="zal",e.Failed="nie zal",e}({}),A=function(e){return e.Simple="simple",e.Complex="complex",e}({}),g=function(e){return e.QuizSummary="EscolaLms\\Reports\\Stats\\Topic\\QuizSummaryForTopicTypeGIFT",e}({}),O=function(e){return e.Boolean="boolean",e.Number="number",e.Varchar="varchar",e.Text="text",e.Json="json",e}({}),C=function(e){return e.Rate="rate",e.Text="text",e.Review="review",e}({}),h=function(e){return e.Exercise="exercise",e.Course="course",e.Info="info",e}({}),c=function(e){return e.Group="EscolaLms\\PcgIntegration\\Models\\Group",e}({}),i=function(e){return e.PUSH="EscolaLms\\BulkNotifications\\Channels\\PushNotificationChannel",e}({}),p=function(e){return e.TITLE="title",e.BODY="body",e.IMAGE="image_url",e.REDIRECT_URL="redirect_url",e}({})},30869:function(X,D,r){r.d(D,{EA:function(){return v},Je:function(){return c},LS:function(){return H},N5:function(){return g},Nq:function(){return p},VB:function(){return W},WC:function(){return K},ck:function(){return C},h8:function(){return U},m9:function(){return S},nS:function(){return j},r4:function(){return _},rC:function(){return I},yi:function(){return k}});var T=r(15009),t=r.n(T),L=r(97857),l=r.n(L),R=r(99289),d=r.n(R),m=r(80854);function I(n,a){return o.apply(this,arguments)}function o(){return o=d()(t()().mark(function n(a,u){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,m.request)("/api/admin/users",l()({params:a,method:"GET",useCache:!1},u||{})));case 1:case"end":return s.stop()}},n)})),o.apply(this,arguments)}function v(n,a,u){return A.apply(this,arguments)}function A(){return A=d()(t()().mark(function n(a,u,f){return t()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,m.request)("/api/admin/users/".concat(a),l()({method:"GET",useCache:f!==void 0?f:!0},u||{})));case 1:case"end":return M.stop()}},n)})),A.apply(this,arguments)}function g(n){return O.apply(this,arguments)}function O(){return O=d()(t()().mark(function n(a){return t()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,m.request)("/api/profile/me",l()({method:"GET",useCache:!1},a||{})));case 1:case"end":return f.stop()}},n)})),O.apply(this,arguments)}function C(n,a){return h.apply(this,arguments)}function h(){return h=d()(t()().mark(function n(a,u){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,m.request)("/api/profile/me",l()({data:a,method:"PUT"},u||{})));case 1:case"end":return s.stop()}},n)})),h.apply(this,arguments)}function c(n,a){return i.apply(this,arguments)}function i(){return i=d()(t()().mark(function n(a,u){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,m.request)("/api/profile/password",l()({data:a,method:"PUT"},u||{})));case 1:case"end":return s.stop()}},n)})),i.apply(this,arguments)}function p(n,a,u){return e.apply(this,arguments)}function e(){return e=d()(t()().mark(function n(a,u,f){return t()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,m.request)("/api/admin/users/".concat(a),l()({data:u,method:"PUT"},f||{})));case 1:case"end":return M.stop()}},n)})),e.apply(this,arguments)}function _(n,a){return b.apply(this,arguments)}function b(){return b=d()(t()().mark(function n(a,u){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,m.request)("/api/admin/users",l()({data:a,method:"POST"},u||{})));case 1:case"end":return s.stop()}},n)})),b.apply(this,arguments)}function U(n,a){return w.apply(this,arguments)}function w(){return w=d()(t()().mark(function n(a,u){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,m.request)("/api/admin/users/".concat(a),l()({method:"DELETE"},u||{})));case 1:case"end":return s.stop()}},n)})),w.apply(this,arguments)}function K(n,a,u){return B.apply(this,arguments)}function B(){return B=d()(t()().mark(function n(a,u,f){return t()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,m.request)("/api/auth/email/resend",l()({method:"POST",data:{email:a,return_url:u}},f||{})));case 1:case"end":return M.stop()}},n)})),B.apply(this,arguments)}function j(n,a){return y.apply(this,arguments)}function y(){return y=d()(t()().mark(function n(a,u){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,m.request)("/api/admin/users/".concat(a,"/settings"),l()({method:"GET",useCache:!1},u||{})));case 1:case"end":return s.stop()}},n)})),y.apply(this,arguments)}function S(n,a,u,f){return E.apply(this,arguments)}function E(){return E=d()(t()().mark(function n(a,u,f,s){return t()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,m.request)("/api/admin/users/".concat(a,"/settings"),l()({method:u,data:{settings:[f]},useCache:!1},s||{})));case 1:case"end":return P.stop()}},n)})),E.apply(this,arguments)}function W(n,a){return $.apply(this,arguments)}function $(){return $=d()(t()().mark(function n(a,u){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,m.request)("/api/admin/users/".concat(a,"/avatar"),l()({method:"DELETE"},u||{})));case 1:case"end":return s.stop()}},n)})),$.apply(this,arguments)}function k(n,a,u){return G.apply(this,arguments)}function G(){return G=d()(t()().mark(function n(a,u,f){return t()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,m.request)("/api/admin/users/".concat(a,"/interests"),l()({data:u,method:"PUT"},f||{})));case 1:case"end":return M.stop()}},n)})),G.apply(this,arguments)}function H(n,a){return z.apply(this,arguments)}function z(){return z=d()(t()().mark(function n(a,u){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,m.request)("/api/admin/stats/date-range",l()({params:a,method:"GET"},u||{})));case 1:case"end":return s.stop()}},n)})),z.apply(this,arguments)}}}]);
