(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{BAh9:function(y,i,e){"use strict";e.d(i,"a",function(){return u}),e.d(i,"b",function(){return E}),e.d(i,"e",function(){return b}),e.d(i,"d",function(){return j}),e.d(i,"c",function(){return v});var n=e("qLMh"),l=e("k1fw"),c=e("9og8"),O=e("9kvl");function u(o,t){return m.apply(this,arguments)}function m(){return m=Object(c.a)(Object(n.a)().mark(function o(t,r){return Object(n.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(O.g)("/api/admin/file/list",Object(l.a)({method:"GET",params:t},r||{})));case 1:case"end":return a.stop()}},o)})),m.apply(this,arguments)}function E(o,t){return f.apply(this,arguments)}function f(){return f=Object(c.a)(Object(n.a)().mark(function o(t,r){return Object(n.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(O.g)("/api/admin/file/find",Object(l.a)({method:"GET",params:t},r||{})));case 1:case"end":return a.stop()}},o)})),f.apply(this,arguments)}function b(o,t,r){return h.apply(this,arguments)}function h(){return h=Object(c.a)(Object(n.a)().mark(function o(t,r,d){var a;return Object(n.a)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return a=new FormData,a.append("file[]",t),a.append("target",r),P.abrupt("return",Object(O.g)("/api/admin/file/upload",Object(l.a)({method:"POST",data:a},d||{})));case 4:case"end":return P.stop()}},o)})),h.apply(this,arguments)}var j=function(t){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(t,"&w=").concat(r)};function v(o,t){return p.apply(this,arguments)}function p(){return p=Object(c.a)(Object(n.a)().mark(function o(t,r){return Object(n.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(O.g)("/api/admin/file/delete",Object(l.a)({method:"DELETE",data:{url:t}},r||{})));case 1:case"end":return a.stop()}},o)})),p.apply(this,arguments)}},BBow:function(y,i,e){"use strict";e.d(i,"a",function(){return n});var n=function(c){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-",u=c.toString().toLowerCase().trim(),m=[{to:"a",from:"[\xC0\xC1\xC2\xC3\xC5\xC6\u0100\u0102\u0104\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6]"},{to:"ae",from:"[\xC4]"},{to:"c",from:"[\xC7\u0106\u0108\u010C]"},{to:"d",from:"[\xD0\u010E\u0110\xDE]"},{to:"e",from:"[\xC8\xC9\xCA\xCB\u0112\u0114\u0116\u0118\u011A\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6]"},{to:"g",from:"[\u011C\u011E\u0122\u01F4]"},{to:"h",from:"[\u0124\u1E26]"},{to:"i",from:"[\xCC\xCD\xCE\xCF\u0128\u012A\u012E\u0130\u1EC8\u1ECA]"},{to:"j",from:"[\u0134]"},{to:"ij",from:"[\u0132]"},{to:"k",from:"[\u0136]"},{to:"l",from:"[\u0139\u013B\u013D\u0141]"},{to:"m",from:"[\u1E3E]"},{to:"n",from:"[\xD1\u0143\u0145\u0147]"},{to:"o",from:"[\xD2\xD3\xD4\xD5\xD8\u014C\u014E\u0150\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u01EA\u01EC\u01A0]"},{to:"oe",from:"[\u0152\xD6]"},{to:"p",from:"[\u1E55]"},{to:"r",from:"[\u0154\u0156\u0158]"},{to:"s",from:"[\u015A\u015C\u015E\u0160]"},{to:"ss",from:"[\xDF]"},{to:"t",from:"[\u0162\u0164]"},{to:"u",from:"[\xD9\xDA\xDB\u0168\u016A\u016C\u016E\u0170\u0172\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u01AF]"},{to:"ue",from:"[\xDC]"},{to:"w",from:"[\u1E82\u0174\u1E80\u1E84]"},{to:"x",from:"[\u1E8D]"},{to:"y",from:"[\xDD\u0176\u0178\u1EF2\u1EF4\u1EF6\u1EF8]"},{to:"z",from:"[\u0179\u017B\u017D]"},{to:"-",from:"[\xB7/_,:;']"}];return m.forEach(function(E){u=u.replace(new RegExp(E.from,"gi"),E.to)}),u=u.toString().toLowerCase().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),typeof O!="undefined"&&O!=="-"&&(u=u.replace(/-/g,O)),u}},NqYW:function(y,i,e){"use strict";e.d(i,"d",function(){return u}),e.d(i,"c",function(){return E}),e.d(i,"a",function(){return b}),e.d(i,"e",function(){return j}),e.d(i,"b",function(){return p});var n=e("qLMh"),l=e("k1fw"),c=e("9og8"),O=e("9kvl");function u(t,r){return m.apply(this,arguments)}function m(){return m=Object(c.a)(Object(n.a)().mark(function t(r,d){return Object(n.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(O.g)("/api/admin/pages",Object(l.a)({method:"GET",useCache:!1,params:Object(l.a)(Object(l.a)({},r),{},{per_page:r.pageSize,page:r.current})},d||{})));case 1:case"end":return s.stop()}},t)})),m.apply(this,arguments)}function E(t,r){return f.apply(this,arguments)}function f(){return f=Object(c.a)(Object(n.a)().mark(function t(r,d){return Object(n.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(O.g)("/api/admin/pages/".concat(r),Object(l.a)({method:"GET"},d||{})));case 1:case"end":return s.stop()}},t)})),f.apply(this,arguments)}function b(t,r){return h.apply(this,arguments)}function h(){return h=Object(c.a)(Object(n.a)().mark(function t(r,d){return Object(n.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(O.g)("/api/admin/pages",Object(l.a)({method:"POST",headers:{"Content-Type":"application/json"},data:r},d||{})));case 1:case"end":return s.stop()}},t)})),h.apply(this,arguments)}function j(t,r,d){return v.apply(this,arguments)}function v(){return v=Object(c.a)(Object(n.a)().mark(function t(r,d,a){return Object(n.a)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",Object(O.g)("/api/admin/pages/".concat(r),Object(l.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:d},a||{})));case 1:case"end":return P.stop()}},t)})),v.apply(this,arguments)}function p(t,r){return o.apply(this,arguments)}function o(){return o=Object(c.a)(Object(n.a)().mark(function t(r,d){return Object(n.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(O.g)("/api/admin/pages/".concat(r),Object(l.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},d||{})));case 1:case"end":return s.stop()}},t)})),o.apply(this,arguments)}},Qurx:function(y,i,e){"use strict";var n=e("VTBJ"),l=e("Ff2n"),c=e("nKUr"),O=e.n(c),u=e("adzw"),m=["fieldProps","proFieldProps"],E=["fieldProps","proFieldProps"],f="text",b=function(p){var o=p.fieldProps,t=p.proFieldProps,r=Object(l.a)(p,m);return Object(c.jsx)(u.a,Object(n.a)({valueType:f,fieldProps:o,filedConfig:{valueType:f},proFieldProps:t},r))},h=function(p){var o=p.fieldProps,t=p.proFieldProps,r=Object(l.a)(p,E);return Object(c.jsx)(u.a,Object(n.a)({valueType:"password",fieldProps:o,proFieldProps:t,filedConfig:{valueType:f}},r))},j=b;j.Password=h,j.displayName="ProFormComponent",i.a=j},SWpp:function(y,i,e){"use strict";e.r(i);var n=e("T2oS"),l=e("W9HT"),c=e("miYZ"),O=e("tsqr"),u=e("qLMh"),m=e("k1fw"),E=e("9og8"),f=e("tJVT"),b=e("q1tI"),h=e.n(b),j=e("VMEa"),v=e("Qurx"),p=e("F/zT"),o=e("nhC9"),t=e("NqYW"),r=e("hd5d"),d=e("tMyG"),a=e("9kvl"),s=e("Ty5D"),P=e("BBow"),_=e("nKUr"),L=e.n(_);i.default=function(){var B=Object(a.j)(),C=Object(s.l)(),g=C.page,w=g==="new",M=Object(b.useState)(),x=Object(f.a)(M,2),R=x[0],F=x[1],G=j.a.useForm(),N=Object(f.a)(G,1),$=N[0],S=Object(b.useCallback)(Object(E.a)(Object(u.a)().mark(function I(){var D;return Object(u.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,Object(t.c)(Number(g));case 2:D=T.sent,D.success&&F(Object(m.a)(Object(m.a)({},D.data),{},{content:D.data.content||""}));case 4:case"end":return T.stop()}},I)})),[g]);Object(b.useEffect)(function(){if(g==="new"){F({active:!1});return}S()},[g,S]);var V=Object(b.useMemo)(function(){return{onFinish:function(){var I=Object(E.a)(Object(u.a)().mark(function U(T){var W,K;return Object(u.a)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(K=Object(m.a)(Object(m.a)({},T),{},{bio:T.bio?T.bio:void 0}),g!=="new"){A.next=8;break}return A.next=4,Object(t.a)(K);case 4:W=A.sent,W.success&&a.e.push("/pages/".concat(W.data.id)),A.next=11;break;case 8:return A.next=10,Object(t.e)(Number(g),K);case 10:W=A.sent;case 11:O.b.success(W.message);case 12:case"end":return A.stop()}},U)}));function D(U){return I.apply(this,arguments)}return D}(),initialValues:R}},[R,g]);return R?Object(_.jsx)(d.a,{title:w?Object(_.jsx)(a.a,{id:"new_page"}):Object(_.jsx)(a.a,{id:"edit_page"}),children:Object(_.jsx)(o.a,{children:Object(_.jsxs)(j.a,Object(m.a)(Object(m.a)({},V),{},{form:$,onValuesChange:function(D){D.title&&$.setFieldsValue({slug:Object(P.a)(D.title)})},children:[Object(_.jsxs)(j.a.Group,{children:[Object(_.jsx)(v.a,{width:"md",name:"title",label:Object(_.jsx)(a.a,{id:"title"}),tooltip:Object(_.jsx)(a.a,{id:"title"}),placeholder:B.formatMessage({id:"title"}),required:!0}),Object(_.jsx)(v.a,{width:"md",name:"slug",label:Object(_.jsx)(a.a,{id:"slug"}),tooltip:Object(_.jsx)(a.a,{id:"slug_tooltip"}),placeholder:B.formatMessage({id:"slug"}),disabled:!0,required:!0}),Object(_.jsx)(p.a,{name:"active",label:Object(_.jsx)(a.a,{id:"is_active"})})]}),Object(_.jsx)(j.a.Item,{name:"content",label:Object(_.jsx)(a.a,{id:"content"}),tooltip:Object(_.jsx)(a.a,{id:"content_tooltip"}),valuePropName:"value",required:!0,children:Object(_.jsx)(r.a,{directory:"pages/".concat(g,"/wysiwyg")})})]}))})}):Object(_.jsx)(l.a,{})}},hd5d:function(y,i,e){"use strict";var n=e("qLMh"),l=e("9og8"),c=e("q1tI"),O=e.n(c),u=e("3Ef1"),m=e.n(u),E=e("BAh9"),f=e("vtG9"),b=e.n(f),h=e("9kvl"),j=e("nKUr"),v=e.n(j),p=function(t){var r=t.value,d=t.onChange,a=t.directory,s=a===void 0?"/wysiwyg":a,P=Object(h.j)();return Object(j.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(j.jsx)(m.a,{uploadImage:function(){var _=Object(l.a)(Object(n.a)().mark(function L(B){var C,g;return Object(n.a)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.next=2,Object(E.e)(B,s);case 2:if(C=M.sent,!C.success){M.next=6;break}return g=C.data[0].name.includes("/")?C.data[0].name:"".concat(s).concat(C.data[0].name),M.abrupt("return",Object(E.d)(g,1e3));case 6:throw new Error("Error while uploading");case 7:case"end":return M.stop()}},L)}));return function(L){return _.apply(this,arguments)}}(),defaultValue:r||"",onChange:function(L){return d&&d(L())},placeholder:P.formatMessage({id:"wysiwyg_placeholder"})})})};i.a=p},vtG9:function(y,i,e){}}]);
