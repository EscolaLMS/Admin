(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{A6KM:function(ce,G,t){"use strict";t.d(G,"a",function(){return ae});var L=t("OaEy"),K=t("2fM7"),k=t("T2oS"),ue=t("W9HT"),ee=t("oBTY"),z=t("tJVT"),U=t("q1tI"),te=t.n(U),H=t("H6aw"),i=t("EmS3"),S=t("Gb5Y"),w=t("9kvl"),n=t("nKUr"),j=t.n(n),W=function(E){return E.map(function(R){return"name"in R?{id:Number(R.id),name:R.name}:{id:Number(R.id),name:R.title?R.title:""}})},ae=function(E){var R=E.value,Z=E.onChange,o=E.multiple,ne=o===void 0?!1:o,N=E.defaultValue,le=E.modelType,a=le===void 0?"COURSE":le,se=Object(U.useState)([]),X=Object(z.a)(se,2),A=X[0],ie=X[1],fe=Object(U.useState)(!1),me=Object(z.a)(fe,2),he=me[0],Oe=me[1],O=Object(U.useRef)(),pe=Object(U.useCallback)(function(b){var V,_,Q,e;switch(a){case"COURSE":return Object(H.e)(b,{signal:O==null||(V=O.current)===null||V===void 0?void 0:V.signal});case"WEBINAR":return Object(i.f)(b,{signal:O==null||(_=O.current)===null||_===void 0?void 0:_.signal});case"CONSULTATIONS":return Object(S.b)(b,{signal:O==null||(Q=O.current)===null||Q===void 0?void 0:Q.signal});default:return Object(H.e)(b,{signal:O==null||(e=O.current)===null||e===void 0?void 0:e.signal})}},[a,O]),ge=Object(U.useCallback)(function(b){var V,_,Q,e;switch(a){case"COURSE":return Object(H.k)(Number(b),{signal:(V=O.current)===null||V===void 0?void 0:V.signal});case"WEBINAR":return Object(i.d)(Number(b),{signal:(_=O.current)===null||_===void 0?void 0:_.signal});case"CONSULTATIONS":return Object(S.e)(Number(b),{signal:(Q=O.current)===null||Q===void 0?void 0:Q.signal});default:return Object(H.k)(Number(b),{signal:(e=O.current)===null||e===void 0?void 0:e.signal})}},[a,O]),de=Object(U.useCallback)(function(b){Oe(!0),O.current&&O.current.abort(),O.current=new AbortController,pe(b?{title:b}:{}).then(function(V){V.success&&ie(W(V.data)),Oe(!1)}).catch(function(){return Oe(!1)})},[a]),be=Object(U.useCallback)(function(b){de(b)},[de]);return Object(U.useEffect)(function(){return O.current=new AbortController,R&&ge(Number(R)).then(function(b){b&&b.success&&ie(function(V){return[].concat(Object(ee.a)(V),Object(ee.a)(W([b.data])))})}),function(){O.current&&O.current.abort()}},[R,a]),Object(n.jsx)(K.a,{defaultValue:N,onFocus:function(){return de()},allowClear:!0,style:{width:"100%"},value:R,onChange:Z,mode:ne?"multiple":void 0,showSearch:!0,onSearch:be,placeholder:Object(n.jsx)(w.a,{id:"select_content",defaultMessage:"select_content"}),optionFilterProp:"children",filterOption:function(V,_){if(_&&_.children){var Q;return(_==null||(Q=_.children)===null||Q===void 0?void 0:Q.toString().toLowerCase().indexOf(V.toLowerCase()))>=0}return!0},notFoundContent:he?Object(n.jsx)(ue.a,{size:"small"}):null,optionLabelProp:"label",children:A.map(function(b){return Object(n.jsx)(K.a.Option,{value:b.id,label:b.name,children:b.name},b.id)})})}},FJDo:function(ce,G,t){"use strict";var L=t("VTBJ"),K=t("Ff2n"),k=t("nKUr"),ue=t.n(k),ee=t("q1tI"),z=t.n(ee),U=t("adzw"),te=["fieldProps","min","proFieldProps","max"],H=function(S,w){var n=S.fieldProps,j=S.min,W=S.proFieldProps,ae=S.max,c=Object(K.a)(S,te);return Object(k.jsx)(U.a,Object(L.a)({valueType:"digit",fieldProps:Object(L.a)({min:j,max:ae},n),ref:w,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:W},c))};G.a=z.a.forwardRef(H)},FhbG:function(ce,G,t){"use strict";t.r(G),t.d(G,"ModelTypes",function(){return Me}),t.d(G,"QuestionareForm",function(){return ye});var L=t("+L6B"),K=t("2/Rp"),k=t("14J3"),ue=t("BMrR"),ee=t("jCWc"),z=t("kPKH"),U=t("T2oS"),te=t("W9HT"),H=t("miYZ"),i=t("tsqr"),S=t("oBTY"),w=t("jrin"),n=t("k1fw"),j=t("qLMh"),W=t("9og8"),ae=t("y8nQ"),c=t("Vl3Y"),E=t("tJVT"),R=t("tU7J"),Z=t("wFql"),o=t("q1tI"),ne=t("tMyG"),N=t("nhC9"),le=t("Ty5D"),a=t("9kvl"),se=t("Qurx"),X=t("F/zT"),A=t("HuWs"),ie=t("VMEa"),fe=t("A6KM"),me=t("P2fV"),he=t("NJEC"),Oe=t("5Dmo"),O=t("3S7+"),pe=t("xvlK"),ge=t("G3dp"),de=t("/MfK"),be=t("Qiat"),b=t("rmhi"),V=t("yj/a"),_=t("FJDo"),Q=t("/y+f"),e=t("nKUr"),Fe=function(P){var l=Object(a.l)(),D=P.visible,C=P.onVisibleChange,h=P.onFinish,d=P.id,Y=P.questionsList,F=c.a.useForm(),v=Object(E.a)(F,1),u=v[0];Object(o.useEffect)(function(){typeof d=="number"&&d>0?Object(A.h)(d).then(function(r){r.success&&u.setFieldsValue(r.data)}):u.resetFields()},[d,u]);var f=Object.values(Q.f).map(function(r){return{name:r,label:l.formatMessage({id:"QuestionType.".concat(r)}),value:r,disabled:r===Q.f.Review&&Y.findIndex(function($){var p=$.type;return p===Q.f.Review})!==-1}});return Object(e.jsxs)(b.a,{form:u,title:l.formatMessage({id:typeof d=="number"&&d>0?"question_edit":"question_add",defaultMessage:typeof d=="number"&&d>0?"question_edit":"question_add"}),width:"400px",visible:D,onVisibleChange:C,onFinish:h,children:[Object(e.jsx)(V.a,{name:"type",options:f,label:Object(e.jsx)(a.a,{id:"type"}),initialValue:Q.f.Rate}),Object(e.jsx)(se.a,{width:"lg",name:"title",label:Object(e.jsx)(a.a,{id:"title"}),tooltip:Object(e.jsx)(a.a,{id:"title"}),placeholder:l.formatMessage({id:"title"})}),Object(e.jsx)(se.a,{width:"lg",name:"description",label:Object(e.jsx)(a.a,{id:"description"}),tooltip:Object(e.jsx)(a.a,{id:"description"}),placeholder:l.formatMessage({id:"description"})}),Object(e.jsx)(_.a,{width:"lg",name:"position",label:Object(e.jsx)(a.a,{id:"position"}),tooltip:Object(e.jsx)(a.a,{id:"position"}),placeholder:l.formatMessage({id:"position",defaultMessage:"position"}),min:0,max:9999,fieldProps:{step:1}}),Object(e.jsx)(X.a,{initialValue:!0,name:"active",label:Object(e.jsx)(a.a,{id:"is_active",defaultMessage:"is_active"})}),Object(e.jsx)(X.a,{initialValue:!0,name:"public_answers",label:Object(e.jsx)(a.a,{id:"show_hide_on_front",defaultMessage:"show_hide_on_front"})})]})},Re=Fe,Ae=t("c+yx"),Le=function(P){var l=P.questionnaireId,D=P.questions,C=P.fetchData,h=Object(a.l)(),d=Object(o.useState)(!1),Y=Object(E.a)(d,2),F=Y[0],v=Y[1],u=Object(o.useMemo)(function(){return[{title:Object(e.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{title:Object(e.jsx)(a.a,{id:"title",defaultMessage:"title"}),dataIndex:"title",hideInSearch:!1,sorter:!0},{title:Object(e.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0,sorter:!0,renderText:function(g,M){return h.formatMessage({id:"QuestionType.".concat(M.type)})}},{title:Object(e.jsx)(a.a,{id:"description",defaultMessage:"description"}),dataIndex:"description",hideInSearch:!0,sorter:!0},{title:Object(e.jsx)(a.a,{id:"position",defaultMessage:"position"}),dataIndex:"position",hideInSearch:!0,sorter:!0}]},[]),f=Object(o.useRef)(),r=function(){var p=Object(W.a)(Object(j.a)().mark(function g(M,s){var q;return Object(j.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return q=i.b.loading(h.formatMessage({id:"loading"})),I.prev=1,I.next=4,s&&s!==-1?Object(A.g)(s,Object(n.a)(Object(n.a)({},M),{},{questionnaire_id:l})):Object(A.a)(Object(n.a)(Object(n.a)({},M),{},{questionnaire_id:l}));case 4:return q(),C(),i.b.success(h.formatMessage({id:"success"})),I.abrupt("return",!0);case 10:return I.prev=10,I.t0=I.catch(1),q(),i.b.error(h.formatMessage({id:"error"})),I.abrupt("return",!1);case 15:case"end":return I.stop()}},g,null,[[1,10]])}));return function(M,s){return p.apply(this,arguments)}}(),$=Object(o.useCallback)(function(){var p=Object(W.a)(Object(j.a)().mark(function g(M){var s;return Object(j.a)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return s=i.b.loading(h.formatMessage({id:"loading"})),y.prev=1,y.next=4,Object(A.e)(M);case 4:return s(),C(),y.abrupt("return",!0);case 9:return y.prev=9,y.t0=y.catch(1),s(),i.b.error(Object(e.jsx)(a.a,{id:"error",defaultMessage:"error"})),y.abrupt("return",!1);case 14:case"end":return y.stop()}},g,null,[[1,9]])}));return function(g){return p.apply(this,arguments)}}(),[f,h]);return Object(o.useEffect)(function(){var p;(p=f.current)===null||p===void 0||p.reload()},[D,C]),Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(be.a,{headerTitle:h.formatMessage({id:"question_list",defaultMessage:"question_list"}),actionRef:f,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[Object(e.jsxs)(K.a,{type:"primary",onClick:function(){v(-1)},children:[Object(e.jsx)(pe.a,{})," ",Object(e.jsx)(a.a,{id:"pages.searchTable.new",defaultMessage:"\u65B0\u5EFA"})]},"primary")]},columns:[].concat(Object(S.a)(u),[{title:Object(e.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",render:function(g,M){return[Object(e.jsx)(O.a,{title:Object(e.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(e.jsx)(K.a,{type:"primary",icon:Object(e.jsx)(ge.a,{}),onClick:function(){return M.id&&v(M.id)}})},"edit"),Object(e.jsx)(he.a,{title:Object(e.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return M.id&&$(M.id)},okText:Object(e.jsx)(a.a,{id:"yes"}),cancelText:Object(e.jsx)(a.a,{id:"no"}),children:Object(e.jsx)(O.a,{title:Object(e.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(e.jsx)(K.a,{type:"primary",icon:Object(e.jsx)(de.a,{}),danger:!0})})},"delete")]}}]),request:function(g,M){var s=g.title,q=M&&Object.entries(M)[0];return new Promise(function(y){var I=D?Object(S.a)(D):[];s&&(I=I.filter(function(Ee){return Ee.title.toLowerCase().includes(s.toLowerCase())})),q&&(I=Object(Ae.i)(I,q[0],q[1]!=="ascend")),y({data:I,success:!0,total:I.length})})}}),Object(e.jsx)(Re,{id:F,visible:Number.isInteger(F),onVisibleChange:function(g){return g===!1&&v(!1)},questionsList:D!=null?D:[],onFinish:function(){var p=Object(W.a)(Object(j.a)().mark(function g(M){var s;return Object(j.a)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.next=2,r(M,Number(F));case 2:s=y.sent,s&&v(!1);case 4:case"end":return y.stop()}},g)}));return function(g){return p.apply(this,arguments)}}()})]})},Ue=Le,Be=t("PpiC"),Ke=t("Vpfc"),We=t("0WSk"),Ne=t("sWYD"),Ve=t("mGZj"),Qe=["type"],$e=function(P){var l=P.record,D=c.a.useForm(),C=Object(E.a)(D,1),h=C[0],d=Object(a.l)(),Y=Object(o.useMemo)(function(){return{onValuesChange:function(v,u){var f=u,r=f.visible_on_front;Object(A.c)(l.id,{visible_on_front:r}).then(function($){i.b.success(Object(e.jsx)(a.a,{id:"question_answer_visibility_changed",defaultMessage:$.message}))}).catch(function(){return i.b.error(Object(e.jsx)(a.a,{id:"error",defaultMessage:"error"}))})},submitter:{render:function(){return null}}}},[]);return Object(e.jsx)(ie.a,Object(n.a)(Object(n.a)({form:h},Y),{},{children:Object(e.jsx)(X.a,{name:"visible_on_front",initialValue:l.visible_on_front,checkedChildren:d.formatMessage({id:"visible",defaultMessage:"visible"}),unCheckedChildren:d.formatMessage({id:"hidden",defaultMessage:"hidden"})})}))},_e=function(P){var l=P.questionnaireId,D=P.questions,C=Object(o.useMemo)(function(){return D&&D.reduce(function(F,v){return Object(n.a)(Object(n.a)({},F),{},Object(w.a)({},v.id,v.title))},{})},[D]),h=[{title:Object(e.jsx)(a.a,{id:"questions",defaultMessage:"questions"}),dataIndex:"question_id",hideInSearch:!1,valueEnum:C,valueType:"select"}],d=Object(a.l)(),Y=[{title:Object(e.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{title:Object(e.jsx)(a.a,{id:"updated_at",defaultMessage:"updated_at"}),dataIndex:"updated_at",hideInSearch:!0,render:function(v,u){return u.updated_at?new Date(u.updated_at).toLocaleString():"-"},sorter:!0},{title:Object(e.jsx)(a.a,{id:"updated_at",defaultMessage:"updated_at"}),dataIndex:"date",hideInSearch:!1,hideInForm:!0,hideInTable:!0,valueType:"date",fieldProps:{allowEmpty:[!0]}},{title:Object(e.jsx)(a.a,{id:"title",defaultMessage:"title"}),dataIndex:"question_title",hideInSearch:!0,sorter:!0},{title:Object(e.jsx)(a.a,{id:"note",defaultMessage:"note"}),dataIndex:"note",hideInSearch:!0,sorter:!0,render:function(v,u){var f,r;return u.note&&((f=u.note)===null||f===void 0?void 0:f.length)>64?((r=u.note)===null||r===void 0?void 0:r.slice(0,64))+"...":u.note}},{title:Object(e.jsx)(a.a,{id:"user",defaultMessage:"user"}),dataIndex:"user_id",hideInSearch:!1,render:function(v,u){var f,r;return Object(e.jsxs)("div",{children:[Object(e.jsx)(Ke.a,{type:"App\\Models\\User",type_id:u.user_id}),Object(e.jsx)("p",{className:"list-paragraph",children:(f=u.user)===null||f===void 0?void 0:f.name}),Object(e.jsx)("p",{className:"list-paragraph",children:(r=u.user)===null||r===void 0?void 0:r.email})]})},renderFormItem:function(v,u,f){var r=u.type,$=Object(Be.a)(u,Qe);if(r==="form")return null;var p=f.getFieldValue("state");return Object(e.jsx)(We.a,Object(n.a)(Object(n.a)({},$),{},{state:{type:p}}))}},{title:Object(e.jsx)(a.a,{id:"sum_rate",defaultMessage:"sum_rate"}),dataIndex:"rate",hideInSearch:!0,sorter:!0},{title:Object(e.jsx)(a.a,{id:"show_hide_on_front",defaultMessage:"show_hide_on_front"}),dataIndex:"visible_on_front",hideInSearch:!0,sorter:!1,render:function(v,u){return Object(e.jsx)($e,{record:u})}}];return Object(e.jsx)(be.a,{headerTitle:d.formatMessage({id:"answers",defaultMessage:"answers"}),search:{layout:"vertical"},rowKey:"id",request:function(v,u){var f=v.pageSize,r=v.current,$=v.question_id,p=v.user_id,g=v.date,M=u&&Object.entries(u)[0];return Object(A.i)(l,{per_page:f,page:r,question_id:$,user_id:p,updated_at:g?Object(Ne.a)(new Date(g),Ve.a):void 0,order_by:M&&M[0],order:M?M[1]==="ascend"?"ASC":"DESC":void 0}).then(function(s){return s.success?{data:s.data,success:!0}:[]})},columns:[].concat(Y,h)})},we=_e,at=t("OaEy"),Pe=t("2fM7"),rt=t("fOrg"),Je=t("+KLJ"),Ge=t("LDJE"),ze={isGroup:!0,xField:"label",yField:"value",seriesField:"type",marginRatio:0},He=function(P){var l=P.state,D=Object(a.l)();return Object(e.jsxs)(N.a,{headerBordered:!0,style:{height:"500px"},children:[l.mode==="loading"&&Object(e.jsx)(te.a,{}),l.mode==="loaded"&&l.value.length>0?Object(e.jsx)(Ge.a,Object(n.a)(Object(n.a)({},ze),{},{data:[].concat(Object(S.a)(l.value),Object(S.a)(l.value)).map(function(C,h){return{label:C.title,value:h>l.value.length-1?C.count_answers:Number(C.avg_rate),type:h>l.value.length-1?D.formatMessage({id:"answers"}):"Rating"}})})):l.mode!=="loading"&&Object(e.jsx)("p",{children:Object(e.jsx)(a.a,{id:"no_data",defaultMessage:"no_data"})}),l.mode==="error"&&Object(e.jsx)(Je.a,{message:l.error.data.message,type:"error"})]})},Ye=He,Ze=function(P){var l=P.questionnaireId,D=P.models,C=Object(o.useState)(""),h=Object(E.a)(C,2),d=h[0],Y=h[1],F=Object(o.useState)({mode:"init"}),v=Object(E.a)(F,2),u=v[0],f=v[1];return Object(o.useEffect)(function(){f({mode:"loading"});var r=function(){var $=Object(W.a)(Object(j.a)().mark(function p(){var g;return Object(j.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:if(s.prev=0,!d){s.next=7;break}return s.next=4,Object(A.m)(l,Number(d.split("/")[0]),Number(d.split("/")[1]));case 4:s.t0=s.sent,s.next=10;break;case 7:return s.next=9,Object(A.m)(l);case 9:s.t0=s.sent;case 10:g=s.t0,g.success&&f({mode:"loaded",value:g.data}),s.next=17;break;case 14:s.prev=14,s.t1=s.catch(0),f({mode:"error",error:s.t1});case 17:case"end":return s.stop()}},p,null,[[0,14]])}));return function(){return $.apply(this,arguments)}}();r()},[l,D,d]),Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(Z.a.Title,{level:5,children:Object(e.jsx)(a.a,{id:"questionnaire.raports.filter",defaultMessage:"questionnaire.raports.filter"})}),Object(e.jsx)(Pe.a,{allowClear:!0,style:{minWidth:"400px"},onChange:function($){return Y($)},children:D.map(function(r){return Object(e.jsxs)(Pe.a.Option,{value:"".concat(r.model_type_id,"/").concat(r.model_id),children:[Object(e.jsx)(a.a,{id:r.model_type_title,defaultMessage:r.model_type_title})," ","- ",r.model_title]},r.id)})}),Object(e.jsx)(N.a,{split:"vertical",children:Object(e.jsx)(N.a,{colSpan:24,layout:"center",children:Object(e.jsx)(Ye,{state:u})})})]})},Xe=Ze,nt=t("GCLz"),qe=Z.a.Title,Me;(function(oe){oe[oe.COURSE=1]="COURSE"})(Me||(Me={}));var ye=function(){var P,l,D=Object(le.l)(),C=D.questionnaireId,h=Object(a.l)(),d=C==="new",Y=c.a.useForm(),F=Object(E.a)(Y,1),v=F[0],u=Object(o.useState)(),f=Object(E.a)(u,2),r=f[0],$=f[1],p=Object(o.useState)("questionnaire"),g=Object(E.a)(p,2),M=g[0],s=g[1],q=Object(o.useState)(),y=Object(E.a)(q,2),I=y[0],Ee=y[1],ke=Object(o.useState)({}),Se=Object(E.a)(ke,2),Ce=Se[0],De=Se[1],Te=Object(o.useCallback)(Object(W.a)(Object(j.a)().mark(function T(){var m;return Object(j.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,Object(A.k)();case 2:m=x.sent,m.success&&Ee(m.data);case 4:case"end":return x.stop()}},T)})),[]),Ie=Object(o.useCallback)(function(T,m){return T.reduce(function(B,x){return(B[x[m]]=B[x[m]]||[]).push(x.model_id),B},{})},[]),je=Object(o.useCallback)(Object(W.a)(Object(j.a)().mark(function T(){var m;return Object(j.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,Object(A.j)(Number(C));case 2:m=x.sent,m.success&&($(Object(n.a)({},m.data)),m.data.models&&De(Ie(m.data.models,"model_type_id")));case 4:case"end":return x.stop()}},T)})),[C,Ie]);Object(o.useEffect)(function(){if(Te(),d){$({title:"new"});return}je()},[C,je,Te,d]);var et=Object(o.useCallback)(function(T,m){De(function(B){return Object(n.a)(Object(n.a)({},B),{},Object(w.a)({},m,T))})},[]),xe=Object(o.useCallback)(function(T){var m=[];return Object.keys(T).map(function(B){m.push.apply(m,Object(S.a)(T[B].map(function(x){return{model_id:x,model_type_id:Number(B)}})))}),m},[]),tt=Object(o.useMemo)(function(){return{onFinish:function(){var T=Object(W.a)(Object(j.a)().mark(function B(x){var re,ve;return Object(j.a)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:if(J.prev=0,!d){J.next=9;break}return J.next=4,Object(A.d)(Object(n.a)(Object(n.a)({},x),{},{models:xe(Ce)}));case 4:re=J.sent,re.success&&a.f.push("/other/questionnaire/".concat(re.data.id)),i.b.success(Object(e.jsx)(a.a,{id:"success",defaultMessage:"success"})),J.next=14;break;case 9:return J.next=11,Object(A.p)(Number(r==null?void 0:r.id),Object(n.a)(Object(n.a)({},x),{},{models:xe(Ce)}));case 11:ve=J.sent,ve.success&&je(),i.b.success(Object(e.jsx)(a.a,{id:"success",defaultMessage:"success"}));case 14:J.next=19;break;case 16:J.prev=16,J.t0=J.catch(0),i.b.error(Object(e.jsx)(a.a,{id:"error",defaultMessage:"error"}));case 19:case"end":return J.stop()}},B,null,[[0,16]])}));function m(B){return T.apply(this,arguments)}return m}(),initialValues:r}},[r,Ce,je,xe,d]);return r?Object(e.jsx)(ne.a,{title:Object(e.jsx)(e.Fragment,{children:Object(e.jsx)(a.a,{id:r!=null&&r.title?"questionnaire":"new_questionnaire"})}),header:{breadcrumb:{routes:[{path:"other/questionnaire",breadcrumbName:h.formatMessage({id:"menu.Other activities.Questionnaire"})},{path:String(C),breadcrumbName:h.formatMessage({id:"form"})},{path:"/",breadcrumbName:String(r==null?void 0:r.title)}]}},children:Object(e.jsxs)(N.a,{tabs:{type:"card",defaultActiveKey:"questionnaire",activeKey:M,onChange:function(m){return s(m)}},children:[Object(e.jsxs)(N.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"questionnaire",defaultMessage:"questionnaire"}),children:[Object(e.jsx)(qe,{level:3,children:Object(e.jsx)(a.a,{id:"questionnaire",defaultMessage:"questionnaire"})})," ",Object(e.jsx)(ie.a,Object(n.a)(Object(n.a)({},tt),{},{form:v,children:Object(e.jsxs)(ue.a,{children:[Object(e.jsx)(z.a,{span:6,children:Object(e.jsx)(se.a,{label:Object(e.jsx)(a.a,{id:"title",defaultMessage:"title"}),rules:[{required:!0}],width:"md",name:"title"})}),Object(e.jsx)(z.a,{children:Object(e.jsx)(X.a,{initialValue:!0,name:"active",label:Object(e.jsx)(a.a,{id:"is_active",defaultMessage:"is_active"})})})]})}))]},"questionnaire"),Object(e.jsx)(N.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"questions",defaultMessage:"questions"}),disabled:d,children:Object(e.jsx)(Ue,{questionnaireId:Number(C),questions:r.questions||[],fetchData:je})},"questions"),Object(e.jsx)(N.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"answers",defaultMessage:"answers"}),disabled:d,children:Object(e.jsx)(we,{questionnaireId:Number(C),questions:r.questions||[]})},"answers"),I&&I.map(function(T){var m,B,x;return Object(e.jsxs)(N.a.TabPane,{tab:"".concat(h.formatMessage({id:"assign"})," ").concat(h.formatMessage({id:"to"})," ").concat(h.formatMessage({id:(m=T.title)===null||m===void 0?void 0:m.replace(T.title.charAt(0),T.title.charAt(0).toUpperCase())})),disabled:d,children:[Object(e.jsx)(fe.a,{defaultValue:((B=r.models)===null||B===void 0?void 0:B.filter(function(re){return re.model_type_title===T.title}).map(function(re){return{value:re.model_id,label:re.model_title}}))||[],multiple:!0,onChange:function(ve){return et(ve,T.id)},modelType:(x=T.title)===null||x===void 0?void 0:x.toUpperCase()}),Object(e.jsx)(K.a,{className:"submit-btn",type:"primary",onClick:function(){return v.submit()},children:Object(e.jsx)(a.a,{id:"questionnaire.submit",defaultMessage:"questionnaire.submit"})})]},String(T.id))}),Object(e.jsx)(N.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"menu.reports",defaultMessage:"menu.reports"}),disabled:d||((P=r.models)===null||P===void 0?void 0:P.length)===0,children:(r==null?void 0:r.models)&&(r==null||(l=r.models)===null||l===void 0?void 0:l.length)>0&&Object(e.jsx)(Xe,{questionnaireId:Number(C),models:r.models})},"raport")]})}):Object(e.jsx)(te.a,{})},st=G.default=ye},GCLz:function(ce,G,t){},LDJE:function(ce,G,t){"use strict";var L=t("q1tI"),K=t.n(L),k=t("ma/q"),ue=t("ZIEt"),ee=t("QpZ9"),z=t("GzfL"),U=t("Scwr"),te=function(i,S){var w={};for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&S.indexOf(n)<0&&(w[n]=i[n]);if(i!=null&&typeof Object.getOwnPropertySymbols=="function")for(var j=0,n=Object.getOwnPropertySymbols(i);j<n.length;j++)S.indexOf(n[j])<0&&Object.prototype.propertyIsEnumerable.call(i,n[j])&&(w[n[j]]=i[n[j]]);return w},H=Object(L.forwardRef)(function(i,S){var w=i.chartRef,n=i.style,j=n===void 0?{height:"inherit"}:n,W=i.className,ae=i.loading,c=i.loadingTemplate,E=i.errorTemplate,R=te(i,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),Z=Object(ue.a)(k.a,R),o=Z.chart,ne=Z.container;return Object(L.useEffect)(function(){Object(ee.a)(w,o.current)},[o.current]),Object(L.useImperativeHandle)(S,function(){return{getChart:function(){return o.current}}}),K.a.createElement(z.a,{errorTemplate:E},ae&&K.a.createElement(U.a,{loadingTemplate:c,theme:i.theme}),K.a.createElement("div",{className:W,style:j,ref:ne}))});G.a=H},"yj/a":function(ce,G,t){"use strict";var L=t("VTBJ"),K=t("Ff2n"),k=t("nKUr"),ue=t.n(k),ee=t("uX+g"),z=t("q1tI"),U=t.n(z),te=t("lS/g"),H=t("adzw"),i=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],S=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],w=U.a.forwardRef(function(c,E){var R=c.fieldProps,Z=c.children,o=c.params,ne=c.proFieldProps,N=c.mode,le=c.valueEnum,a=c.request,se=c.showSearch,X=c.options,A=Object(K.a)(c,i),ie=Object(z.useContext)(te.b);return Object(k.jsx)(H.a,Object(L.a)(Object(L.a)({valueEnum:Object(ee.a)(le),request:a,params:o,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(L.a)({options:X,mode:N,showSearch:se,getPopupContainer:ie.getPopupContainer},R),ref:E,proFieldProps:ne},A),{},{children:Z}))}),n=U.a.forwardRef(function(c,E){var R=c.fieldProps,Z=c.children,o=c.params,ne=c.proFieldProps,N=c.mode,le=c.valueEnum,a=c.request,se=c.options,X=Object(K.a)(c,S),A=Object(L.a)({options:se,mode:N||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},R),ie=Object(z.useContext)(te.b);return Object(k.jsx)(H.a,Object(L.a)(Object(L.a)({valueEnum:Object(ee.a)(le),request:a,params:o,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(L.a)({getPopupContainer:ie.getPopupContainer},A),ref:E,proFieldProps:ne},X),{},{children:Z}))}),j=w,W=n,ae=j;ae.SearchSelect=W,ae.displayName="ProFormComponent",G.a=ae}}]);

//# sourceMappingURL=p__Questionnaire__form.0c6770e9.async.js.map