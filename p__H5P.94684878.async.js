(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"5YLw":function(K,m,e){"use strict";var c=e("DBJ/"),j=e("q1tI"),g=e.n(j),u=e("nKUr"),C=e.n(u),E=function(D){var f=D.onSuccess,_=D.onError;return Object(u.jsx)(c.a,{url:"/api/admin/hh5p/content/upload",name:"h5p_file",accept:".h5p",onChange:function(p){p.file.status==="done"&&p.file.response&&f(p.file.response),p.file.status==="error"&&_()}})};m.a=E},"DBJ/":function(K,m,e){"use strict";var c=e("k1fw"),j=e("y8nQ"),g=e("Vl3Y"),u=e("etVw"),C=e("9kvl"),E=e("qFDU"),M=e("nKUr"),D=e.n(M);function f(_){var I=_.onChange,p=_.onUpload,v=_.url,A=_.name,a=_.extra,P=_.accept,o=_.data,r=_.wrapInForm,l=r===void 0?!0:r,i=_.title,s=_.formProps,b=Object(C.j)();return o&&o[A]&&delete o[A],Object(M.jsx)(E.a,{condition:l,wrap:function(T){return Object(M.jsx)(g.a,Object(c.a)(Object(c.a)({},s),{},{children:T}))},children:Object(M.jsx)(u.a,{title:i||" ".concat(b.formatMessage({id:"upload_click_here"})),placeholder:b.formatMessage({id:"upload_click_here"}),onChange:function(T){I&&I(T),T.file.status==="done"&&p&&p(T.file.response)},label:Object(M.jsx)(C.a,{id:"upload"}),max:2,fieldProps:{data:o,accept:P,name:A,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(v),extra:a})})}m.a=f},Unir:function(K,m,e){"use strict";e.r(m);var c=e("P2fV"),j=e("NJEC"),g=e("5Dmo"),u=e("3S7+"),C=e("+L6B"),E=e("2/Rp"),M=e("qLMh"),D=e("miYZ"),f=e("tsqr"),_=e("9og8"),I=e("tJVT"),p=e("xvlK"),v=e("q1tI"),A=e.n(v),a=e("9kvl"),P=e("55Ip"),o=e("tMyG"),r=e("Qiat"),l=e("nzng"),i=e("G3dp"),s=e("/MfK"),b=e("2PG1"),y=e("4KAj"),T=e("5YLw"),t=e("nKUr"),F=e.n(t),S=function(){var H=Object(v.useState)(!1),B=Object(I.a)(H,2),G=B[0],R=B[1],U=Object(v.useRef)(),$=Object(a.j)(),w=Object(v.useCallback)(function(){var h=Object(_.a)(Object(M.a)().mark(function d(n){var x,L;return Object(M.a)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return R(!0),x=f.b.loading(Object(t.jsx)(a.a,{id:"loading",defaultMessage:"loading"})),O.prev=2,O.next=5,Object(l.e)(n);case 5:return x(),f.b.success(Object(t.jsx)(a.a,{id:"success",defaultMessage:"success"})),R(!1),(L=U.current)===null||L===void 0||L.reload(),O.abrupt("return",!0);case 12:return O.prev=12,O.t0=O.catch(2),x(),f.b.error(Object(t.jsx)(a.a,{id:"error",defaultMessage:"error"})),R(!1),O.abrupt("return",!1);case 18:case"end":return O.stop()}},d,null,[[2,12]])}));return function(d){return h.apply(this,arguments)}}(),[U]),z=[{title:Object(t.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",sorter:!1,search:!1},{title:Object(t.jsx)(a.a,{id:"newH5P",defaultMessage:"newH5P"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(T.a,{onSuccess:function(){U.current&&U.current.reload(),f.b.success(Object(t.jsx)(a.a,{id:"H5P_uploaded",defaultMessage:"new H5P uploaded successfully"}))},onError:function(){return f.b.error(Object(t.jsx)(a.a,{id:"error",defaultMessage:"error"}))}},"upload")]}},{title:Object(t.jsx)(a.a,{id:"title",defaultMessage:"title"}),dataIndex:"title",sorter:function(d,n){return d.title.length-n.title.length},render:function(d,n){return n.title}},{title:Object(t.jsx)(a.a,{id:"library",defaultMessage:"library"}),dataIndex:"library",sorter:function(d,n){return d.library.title.length-n.library.title.length},search:!1,render:function(d,n){return n.library.title}},{title:Object(t.jsx)(a.a,{id:"library_id",defaultMessage:"library_id"}),dataIndex:"library_id",sorter:function(d,n){return d.library.id-n.library.id},render:function(d,n){return n.library.id}},{title:Object(t.jsx)(a.a,{id:"count_h5p",defaultMessage:"count_h5p"}),dataIndex:"count_h5p",sorter:function(d,n){return d.count_h5p-n.count_h5p},search:!1,render:function(d,n){return n.count_h5p}},{title:Object(t.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",render:function(d,n){return[Object(t.jsx)(P.a,{to:"/courses/h5ps/".concat(n.id),children:Object(t.jsx)(u.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(E.a,{type:"primary",icon:Object(t.jsx)(i.a,{})})})},"edit"),Object(t.jsx)(j.a,{disabled:n.count_h5p!==0,title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return n.id&&w(n.id)},okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(u.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(E.a,{disabled:n.count_h5p!==0,type:"primary",icon:Object(t.jsx)(s.a,{}),danger:!0})})},"delete"),Object(t.jsx)(P.a,{to:"/courses/h5ps/preview/".concat(n.id),children:Object(t.jsx)(u.a,{title:Object(t.jsx)(a.a,{id:"preview",defaultMessage:"preview"}),children:Object(t.jsx)(E.a,{icon:Object(t.jsx)(b.a,{})})})},"preview"),Object(t.jsx)("a",{href:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/admin/hh5p/content/").concat(n.id,"/export"),download:!0,children:Object(t.jsx)(u.a,{title:Object(t.jsx)(a.a,{id:"export",defaultMessage:"export"}),children:Object(t.jsx)(E.a,{icon:Object(t.jsx)(y.a,{})})})},"export")]}}];return Object(t.jsx)(o.a,{children:Object(t.jsx)(r.a,{loading:G,headerTitle:$.formatMessage({id:"menu.Courses.H5Ps",defaultMessage:"H5Ps List"}),actionRef:U,rowKey:"id",search:{},toolBarRender:function(){return[Object(t.jsx)(P.a,{to:"/courses/h5ps/new",children:Object(t.jsxs)(E.a,{type:"primary",children:[Object(t.jsx)(p.a,{})," ",Object(t.jsx)(a.a,{id:"new",defaultMessage:"new"})]},"primary")},"new")]},request:function(d){var n=d.pageSize,x=d.current,L=d.title,W=d.library_id;return R(!0),Object(l.d)({title:L,library_id:W,pageSize:n,current:x}).then(function(O){return R(!1),O.success?{data:O.data,total:O.meta.total,success:!0}:[]})},columns:z})})};m.default=S},nzng:function(K,m,e){"use strict";e.d(m,"d",function(){return C}),e.d(m,"c",function(){return f}),e.d(m,"b",function(){return _}),e.d(m,"f",function(){return I}),e.d(m,"e",function(){return v}),e.d(m,"a",function(){return a});var c=e("qLMh"),j=e("k1fw"),g=e("9og8"),u=e("9kvl");function C(o,r){return E.apply(this,arguments)}function E(){return E=Object(g.a)(Object(c.a)().mark(function o(r,l){return Object(c.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(u.g)("/api/admin/hh5p/content",Object(j.a)({method:"GET",params:Object(j.a)(Object(j.a)({},r),{},{per_page:r.pageSize,page:r.current})},l||{})));case 1:case"end":return s.stop()}},o)})),E.apply(this,arguments)}function M(o,r){return D.apply(this,arguments)}function D(){return D=Object(g.a)(Object(c.a)().mark(function o(r,l){return Object(c.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(u.g)("/api/admin/hh5p/content/".concat(r),Object(j.a)({method:"GET"},l||{})));case 1:case"end":return s.stop()}},o)})),D.apply(this,arguments)}var f=function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en",i=arguments.length>2?arguments[2]:void 0,s=r?"/api/admin/hh5p/editor/".concat(r):"/api/admin/hh5p/editor";return s=l?"".concat(s,"?lang=").concat(l):s,Object(u.g)(s,Object(j.a)({method:"GET"},i||{}))},_=function(r){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en",i=arguments.length>2?arguments[2]:void 0,s="/api/admin/hh5p/content/".concat(r);return s=l?"".concat(s,"?lang=").concat(l):s,Object(u.g)(s,Object(j.a)({method:"GET"},i||{}))};function I(o,r,l){return p.apply(this,arguments)}function p(){return p=Object(g.a)(Object(c.a)().mark(function o(r,l,i){return Object(c.a)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",Object(u.g)(l?"/api/admin/hh5p/content/".concat(l):"/api/admin/hh5p/content",Object(j.a)({method:"POST",headers:{"Content-Type":"application/json"},data:r},i||{})));case 1:case"end":return b.stop()}},o)})),p.apply(this,arguments)}function v(o){return A.apply(this,arguments)}function A(){return A=Object(g.a)(Object(c.a)().mark(function o(r){return Object(c.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(u.g)("/api/admin/hh5p/content/".concat(r),{method:"DELETE"}));case 1:case"end":return i.stop()}},o)})),A.apply(this,arguments)}function a(o){return P.apply(this,arguments)}function P(){return P=Object(g.a)(Object(c.a)().mark(function o(r){return Object(c.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(u.g)("/api/admin/hh5p/content?per_page=0",Object(j.a)({method:"GET"},r||{})));case 1:case"end":return i.stop()}},o)})),P.apply(this,arguments)}}}]);
