(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"0TUn":function(se,h,t){"use strict";t.d(h,"c",function(){return F}),t.d(h,"a",function(){return O}),t.d(h,"b",function(){return P});var o=t("k1fw"),a=t("9og8"),W=t("WmNS"),r=t.n(W),R=t("9kvl");function F(i,d){return y.apply(this,arguments)}function y(){return y=Object(a.a)(r.a.mark(function i(d,s){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(R.f)("/api/model-fields",Object(o.a)({method:"GET",params:d},s||{})));case 1:case"end":return n.stop()}},i)})),y.apply(this,arguments)}function O(i,d){return U.apply(this,arguments)}function U(){return U=Object(a.a)(r.a.mark(function i(d,s){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(R.f)("/api/admin/model-fields",Object(o.a)({method:"POST",data:d},s||{})));case 1:case"end":return n.stop()}},i)})),U.apply(this,arguments)}function P(i,d){return _.apply(this,arguments)}function _(){return _=Object(a.a)(r.a.mark(function i(d,s){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(R.f)("/api/admin/model-fields",Object(o.a)({method:"DELETE",data:d},s||{})));case 1:case"end":return n.stop()}},i)})),_.apply(this,arguments)}},YDZB:function(se,h,t){"use strict";var o=t("2qtc"),a=t("kLXV"),W=t("7Kak"),r=t("9yH6"),R=t("+L6B"),F=t("2/Rp"),y=t("tJVT"),O=t("q1tI"),U=t.n(O),P=t("gU/Y"),_=t("9kvl"),i=t("u95b"),d=t.n(i),s=t("nKUr"),I=t.n(s),n=function(V){var k=V.value,J=V.onChange,B=Object(O.useState)(!1),K=Object(y.a)(B,2),le=K[0],N=K[1],$=Object(O.useCallback)(function(){N(!1)},[]),G=Object(O.useState)("code"),Y=Object(y.a)(G,2),T=Y[0],q=Y[1];return Object(s.jsxs)("div",{children:[Object(s.jsx)(F.a,{type:"primary",onClick:function(){return N(!0)},size:"small",children:Object(s.jsx)(_.a,{id:"json_editor"})}),Object(s.jsxs)(a.a,{title:"JSON",visible:le,onOk:$,onCancel:$,children:[Object(s.jsxs)(r.a.Group,{onChange:function(e){return q(e.target.value)},value:T,children:[Object(s.jsx)(r.a,{value:"tree",children:"tree"}),Object(s.jsx)(r.a,{value:"view",children:"view"}),Object(s.jsx)(r.a,{value:"form",children:"form"}),Object(s.jsx)(r.a,{value:"code",children:"code"}),Object(s.jsx)(r.a,{value:"text",children:"text"})]}),Object(s.jsx)(P.a,{mode:T,value:k,onChange:function(e){return J&&J(e)}},T)]})]})};h.a=n},i3PA:function(se,h,t){"use strict";t.r(h);var o=t("q1tI"),a=t("9kvl"),W=t("tMyG"),r=t("nhC9"),R=t("P2fV"),F=t("NJEC"),y=t("5Dmo"),O=t("3S7+"),U=t("+L6B"),P=t("2/Rp"),_=t("miYZ"),i=t("tsqr"),d=t("9og8"),s=t("tJVT"),I=t("WmNS"),n=t.n(I),ne=t("Qiat"),V=t("xvlK"),k=t("G3dp"),J=t("/MfK"),B=t("0TUn"),K=t("k1fw"),le=t("y8nQ"),N=t("Vl3Y"),$=t("rmhi"),G=t("Qurx"),Y=t("5qq5"),T=t("VMEa"),q=t("FJDo"),L=t("YDZB"),e=t("nKUr"),S;(function(M){M.BOOLEAN="boolean",M.NUMBER="number",M.VARCHAR="varchar",M.TEXT="text",M.JSON="json"})(S||(S={}));var oe=function(v){var p=v.visible,C=v.onVisibleChange,ee=v.onResponse,Q=v.class_type,Z=v.name,u=Z===void 0?"new":Z,H=v.fields,X=H===void 0?[]:H,g=Object(a.i)(),w=N.a.useForm(),A=Object(s.a)(w,1),D=A[0],z=Object(o.useCallback)(function(){var c=Object(d.a)(n.a.mark(function x(E){return n.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(B.a)(Object(K.a)(Object(K.a)({},E),{},{class_type:Q,rules:JSON.stringify(E.rules),extra:JSON.stringify(E.extra)})).then(function(m){m.success&&ee(m.data)});case 2:return l.abrupt("return",!1);case 3:case"end":return l.stop()}},x)}));return function(x){return c.apply(this,arguments)}}(),[D]);return Object(o.useEffect)(function(){if(u!=="new"){var c=X.find(function(x){return x.name===u});c&&D.setFieldsValue(c)}else D.resetFields()},[u,D,X]),Object(e.jsxs)($.a,{form:D,title:g.formatMessage({id:u==="new"?"newModelField":"editModelField",defaultMessage:u==="new"?"new Model Field":"edit Model Field"}),width:"800px",visible:p,onVisibleChange:C,onFinish:z,children:[Object(e.jsx)(G.a,{required:!0,label:Object(e.jsx)(a.a,{id:"name",defaultMessage:"name"}),tooltip:Object(e.jsx)(a.a,{id:"name_tooltip",defaultMessage:"name_tooltip"}),rules:[{required:!0}],width:"md",name:"name"}),Object(e.jsx)(Y.a.Group,{rules:[{required:!0}],name:"type",label:Object(e.jsx)(a.a,{id:"type",defaultMessage:"type"}),tooltip:Object(e.jsx)(a.a,{id:"type_tooltip",defaultMessage:"type_tooltip"}),options:Object.keys(S).map(function(c){return{label:g.formatMessage({id:S[c]}),value:S[c]}})}),Object(e.jsx)(G.a,{width:"md",name:"default",label:Object(e.jsx)(a.a,{id:"default",defaultMessage:"default"}),tooltip:Object(e.jsx)(a.a,{id:"default_tooltip",defaultMessage:"default_tooltip"}),placeholder:g.formatMessage({id:"default"})}),Object(e.jsx)(T.a.Item,{name:"rules",label:Object(e.jsxs)("span",{children:[Object(e.jsx)(a.a,{id:"rules",defaultMessage:"rules"})," ",Object(e.jsx)("a",{rel:"noreferrer",href:"https://laravel.com/docs/9.x/validation#available-validation-rules",target:"_blank",children:Object(e.jsx)(a.a,{id:"available-validation-rules",defaultMessage:"available-validation-rules"})})]}),tooltip:Object(e.jsx)(a.a,{id:"available-validation-rules"}),valuePropName:"value",children:Object(e.jsx)(L.a,{})}),Object(e.jsx)(q.a,{width:"md",name:"visibility",label:Object(e.jsx)(a.a,{id:"visibility"}),tooltip:Object(e.jsx)(a.a,{id:"visibility_tooltip"}),placeholder:g.formatMessage({id:"visibility",defaultMessage:"visibility"}),min:1,max:1024,fieldProps:{step:1},rules:[{validator:function(){var c=Object(d.a)(n.a.mark(function E(b,l){return n.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:if(!(Math.pow(2,Math.ceil(Math.log2(l)))-l)){j.next=2;break}return j.abrupt("return",Promise.reject(new Error(g.formatMessage({id:"notPowerOfTwo",defaultMessage:"notPowerOfTwo"}))));case 2:return j.abrupt("return",Promise.resolve());case 3:case"end":return j.stop()}},E)}));function x(E,b){return c.apply(this,arguments)}return x}()}]}),Object(e.jsx)(T.a.Item,{name:"extra",label:Object(e.jsx)(a.a,{id:"extra"}),tooltip:Object(e.jsx)(a.a,{id:"extra"}),valuePropName:"value",children:Object(e.jsx)(L.a,{})})]})},de=oe,ue=[{title:Object(e.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!0},{title:Object(e.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",sorter:!0},{title:Object(e.jsx)(a.a,{id:"default",defaultMessage:"default"}),dataIndex:"default",hideInSearch:!0}],ce=function(v){var p=v.class_type,C=Object(o.useRef)(),ee=Object(o.useState)(!1),Q=Object(s.a)(ee,2),Z=Q[0],u=Q[1],H=Object(a.i)(),X=Object(o.useState)(!1),g=Object(s.a)(X,2),w=g[0],A=g[1],D=Object(o.useState)([]),z=Object(s.a)(D,2),c=z[0],x=z[1],E=Object(o.useCallback)(function(){var b=Object(d.a)(n.a.mark(function l(m){var j,re,te,ae;return n.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return j=m.class_type_to_remove,re=m.name,u(!0),te=i.default.loading(Object(e.jsx)(a.a,{id:"loading",defaultMessage:"loading"})),f.prev=3,f.next=6,Object(B.b)({class_type:j,name:re}).then(function(ie){u(!1),ie.success&&i.default.success(ie.message)});case 6:return te(),u(!1),(ae=C.current)===null||ae===void 0||ae.reload(),f.abrupt("return",!0);case 12:return f.prev=12,f.t0=f.catch(3),te(),i.default.error(Object(e.jsx)(a.a,{id:"error",defaultMessage:"error"})),u(!1),f.abrupt("return",!1);case 18:case"end":return f.stop()}},l,null,[[3,12]])}));return function(l){return b.apply(this,arguments)}}(),[C]);return Object(e.jsxs)(o.Fragment,{children:[Object(e.jsx)(de,{fields:c,onResponse:function(){A(!1),C.current&&C.current.reload()},class_type:p,name:w,visible:typeof w=="string",onVisibleChange:function(l){return l===!1&&A(!1)}}),Object(e.jsx)(ne.a,{search:!1,headerTitle:H.formatMessage({id:"ModelFields",defaultMessage:"Model Fields"}),toolBarRender:function(){return[Object(e.jsxs)(P.a,{type:"primary",onClick:function(){return A("new")},children:[Object(e.jsx)(V.a,{})," ",Object(e.jsx)(a.a,{id:"new",defaultMessage:"new"})]},"new")]},loading:Z,actionRef:C,rowKey:"id",request:function(){return u(!0),Object(B.c)({class_type:p}).then(function(l){return u(!1),l.success?(x(l.data),{data:l.data,total:l.data.length,success:!0}):[]})},columns:[].concat(ue,[{title:Object(e.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(l,m){return[Object(e.jsx)(O.a,{title:Object(e.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(e.jsx)(P.a,{type:"primary",icon:Object(e.jsx)(k.a,{}),onClick:function(){return A(m.name)}})},"edit"),Object(e.jsx)(F.a,{title:Object(e.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return m.name&&E({class_type_to_remove:p,name:m.name})},okText:Object(e.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(e.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(e.jsx)(O.a,{title:Object(e.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(e.jsx)(P.a,{type:"primary",icon:Object(e.jsx)(J.a,{}),danger:!0})})},"delete")]}}])})]})},je=ce,me=function(){return Object(e.jsx)(W.a,{children:Object(e.jsxs)(r.a,{tabs:{type:"card",activeKey:"fields",onChange:function(p){switch(p){case"list":return a.d.push("/users");default:return a.d.push("/users/".concat(p))}}},children:[Object(e.jsx)(r.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"list"})},"list"),Object(e.jsx)(r.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"ModelFields"}),children:Object(e.jsx)(je,{class_type:"EscolaLms\\Auth\\Models\\User"})},"fields")]})})},fe=h.default=me}}]);
