"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7039],{48820:function(z,j){var e={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M832 64H296c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h496v688c0 4.4 3.6 8 8 8h56c4.4 0 8-3.6 8-8V96c0-17.7-14.3-32-32-32zM704 192H192c-17.7 0-32 14.3-32 32v530.7c0 8.5 3.4 16.6 9.4 22.6l173.3 173.3c2.2 2.2 4.7 4 7.4 5.5v1.9h4.2c3.5 1.3 7.2 2 11 2H704c17.7 0 32-14.3 32-32V224c0-17.7-14.3-32-32-32zM350 856.2L263.9 770H350v86.2zM664 888H414V746c0-22.1-17.9-40-40-40H232V264h432v624z"}}]},name:"copy",theme:"outlined"};j.Z=e},89825:function(z,j,e){e.d(j,{Z:function(){return i}});var P=e(26271),h=e(80854),I=e(5574),_=e.n(I),M=e(50227),O=e(2453),g=e(15746),L=e(71230),b=e(38925),A=e(75081),f=e(67294);function y(o){var n=(0,f.useRef)(o);(0,f.useEffect)(function(){var l=function(){var p=localStorage.getItem("TOKEN");n.current(p)};return window.addEventListener("token_change",l),function(){window.removeEventListener("token_change",l)}},[])}var T=e(97704),d=e(85893),r="h5p-editor",a=function(o){return o.TokenChanged="TOKEN_CHANGED",o}(a||{}),m=function(n){var l,x=document.getElementById(r);if(!x){console.error("There is no iframe with id '".concat(r,"'"));return}(l=x.contentWindow)===null||l===void 0||l.postMessage({type:a.TokenChanged,token:n},"*")},t=function(n){var l=n.id,x=n.onSubmitted,p=n.onLoaded,R=(0,f.useState)(),$=_()(R,2),E=$[0],w=$[1],Z=(0,f.useState)(!1),K=_()(Z,2),N=K[0],C=K[1],H=(0,f.useState)(),U=_()(H,2),B=U[0],D=U[1],W=(0,h.useIntl)(),G=W.locale.split("-")[0];y(m),(0,f.useEffect)(function(){l&&(C(!0),(0,T.RN)(l==="new"?void 0:l,G).then(function(S){S.success?(p&&p(S.data),w(S.data)):D(S.message)}).catch(function(S){return S&&D(S.toString())}).finally(function(){return C(!1)}))},[l]);var X=(0,f.useCallback)(function(S){C(!0),(0,T.x0)(S,l==="new"?void 0:l).then(function(v){v.success?(x(v.data.id),O.ZP.success((0,d.jsx)(h.FormattedMessage,{id:"h5p_edited",defaultMessage:"H5P Element edited and saved successfully"}))):D(v.message)}).catch(function(v){return v&&D(v.toString())}).finally(function(){return C(!1)})},[]);return E?(0,d.jsxs)(f.Fragment,{children:[B&&(0,d.jsx)(b.Z,{message:B,type:"error"}),E&&(0,d.jsx)(M.ContextlessEditor,{onError:function(v){return console.error(v)},state:E,allowSameOrigin:!0,onSubmit:X,loading:N,lang:G,iframeId:r})]}):(0,d.jsx)(g.Z,{children:(0,d.jsxs)(L.Z,{justify:"center",align:"middle",children:[B&&(0,d.jsx)(b.Z,{message:B,type:"error"}),(0,d.jsx)(A.Z,{})]})})},c=t,u=e(66340),s=function(n){var l=n.defaultCard,x=l===void 0?"edit":l,p=n.id,R=n.onSubmit,$=n.onLoaded;return(0,d.jsxs)(P.ZP,{tabs:{type:"card",defaultActiveKey:x},children:[(0,d.jsx)(P.ZP.TabPane,{disabled:!p,tab:(0,d.jsx)(h.FormattedMessage,{id:"edit"}),children:(0,d.jsx)(c,{id:p,onSubmitted:R,onLoaded:$},p)},"edit"),p!=="new"&&(0,d.jsx)(P.ZP.TabPane,{disabled:!p,tab:(0,d.jsx)(h.FormattedMessage,{id:"preview"}),children:(0,d.jsx)(u.Z,{id:p,onLoaded:$})},"preview")]})},i=s},66340:function(z,j,e){var P=e(19632),h=e.n(P),I=e(5574),_=e.n(I),M=e(97704),O=e(50227),g=e.n(O),L=e(25514),b=e(15746),A=e(71230),f=e(38925),y=e(75081),T=e(96074),d=e(67294),r=e(55171),a=e.n(r),m=e(80854),t=e(85893),c=L.Z.Title,u=function(i){var o=i.id,n=i.onXAPI,l=i.onLoaded,x=(0,d.useState)(),p=_()(x,2),R=p[0],$=p[1],E=(0,d.useState)(!1),w=_()(E,2),Z=w[0],K=w[1],N=(0,d.useState)([]),C=_()(N,2),H=C[0],U=C[1],B=(0,d.useState)(),D=_()(B,2),W=D[0],G=D[1],X=(0,m.useIntl)(),S=X.locale.split("-")[0];return(0,d.useEffect)(function(){o&&(K(!0),(0,M.LK)(o,S).then(function(v){v.success?(l&&l(v.data),$(v.data)):G(v.message)}).catch(function(v){return v&&G(v.toString())}).finally(function(){return K(!1)}))},[o]),R?(0,t.jsxs)(d.Fragment,{children:[W&&(0,t.jsx)(f.Z,{message:W,type:"error"}),(0,t.jsx)(O.ContextlessPlayer,{contentId:o,onError:function(F){return console.error(F)},state:R,allowSameOrigin:!0,loading:Z,onXAPI:function(F){n?n(F):U(function(V){return[].concat(h()(V),[F])})}}),!n&&(0,t.jsxs)(d.Fragment,{children:[(0,t.jsx)(T.Z,{}),(0,t.jsxs)("div",{style:{overflow:"auto",maxHeight:"400px"},children:[(0,t.jsx)(c,{level:5,children:"XAPI Events"}),(0,t.jsx)(a(),{src:H})]})]})]}):(0,t.jsx)(b.Z,{children:(0,t.jsxs)(A.Z,{justify:"center",align:"middle",children:[W&&(0,t.jsx)(f.Z,{message:W,type:"error"}),(0,t.jsx)(y.Z,{})]})})};j.Z=u},87501:function(z,j,e){e.r(j);var P=e(5574),h=e.n(P),I=e(67294),_=e(80854),M=e(89825),O=e(74453),g=e(85893);j.default=function(){var L=(0,_.useParams)(),b=(0,_.useIntl)(),A=L.h5p,f=(0,I.useState)(""),y=h()(f,2),T=y[0],d=y[1];return(0,g.jsx)(O._z,{title:(0,g.jsxs)(g.Fragment,{children:[T?(0,g.jsx)(_.FormattedMessage,{id:"H5P_edit_content_title"}):(0,g.jsx)(_.FormattedMessage,{id:"H5P_new_content_title"})," ".concat(T)]}),header:{breadcrumb:{routes:[{path:"h5ps",breadcrumbName:b.formatMessage({id:"H5P"})},{path:T,breadcrumbName:b.formatMessage({id:"form"})}]}},children:(0,g.jsx)(M.Z,{onLoaded:function(a){var m=a.contents&&a.contents["cid-".concat(A)];m&&m.title&&d(m.title)},onSubmit:function(a){return A==="new"&&_.history.push("/courses/h5ps/".concat(a))},id:A==="new"||!A?"new":Number(A)})})}},97704:function(z,j,e){e.d(j,{Kn:function(){return L},LK:function(){return T},RN:function(){return y},gq:function(){return t},jc:function(){return a},x0:function(){return d}});var P=e(15009),h=e.n(P),I=e(97857),_=e.n(I),M=e(99289),O=e.n(M),g=e(80854);function L(u,s){return b.apply(this,arguments)}function b(){return b=O()(h()().mark(function u(s,i){return h()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",(0,g.request)("/api/admin/hh5p/content",_()({method:"GET",params:s},i||{})));case 1:case"end":return n.stop()}},u)})),b.apply(this,arguments)}function A(u,s){return f.apply(this,arguments)}function f(){return f=_asyncToGenerator(_regeneratorRuntime().mark(function u(s,i){return _regeneratorRuntime().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",request("/api/admin/hh5p/content/".concat(s),_objectSpread({method:"GET"},i||{})));case 1:case"end":return n.stop()}},u)})),f.apply(this,arguments)}var y=function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en",o=arguments.length>2?arguments[2]:void 0,n=s?"/api/admin/hh5p/editor/".concat(s):"/api/admin/hh5p/editor";return n=i?"".concat(n,"?lang=").concat(i):n,(0,g.request)(n,_()({method:"GET"},o||{}))},T=function(s){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en",o=arguments.length>2?arguments[2]:void 0,n="/api/admin/hh5p/content/".concat(s);return n=i?"".concat(n,"?lang=").concat(i):n,(0,g.request)(n,_()({method:"GET"},o||{}))};function d(u,s,i){return r.apply(this,arguments)}function r(){return r=O()(h()().mark(function u(s,i,o){return h()().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",(0,g.request)(i?"/api/admin/hh5p/content/".concat(i):"/api/admin/hh5p/content",_()({method:"POST",headers:{"Content-Type":"application/json"},data:s},o||{})));case 1:case"end":return l.stop()}},u)})),r.apply(this,arguments)}function a(u){return m.apply(this,arguments)}function m(){return m=O()(h()().mark(function u(s){return h()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,g.request)("/api/admin/hh5p/content/".concat(s),{method:"DELETE"}));case 1:case"end":return o.stop()}},u)})),m.apply(this,arguments)}function t(u){return c.apply(this,arguments)}function c(){return c=O()(h()().mark(function u(s){return h()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,g.request)("/api/admin/hh5p/content?per_page=0",_()({method:"GET"},s||{})));case 1:case"end":return o.stop()}},u)})),c.apply(this,arguments)}},96074:function(z,j,e){e.d(j,{Z:function(){return d}});var P=e(67294),h=e(93967),I=e.n(h),_=e(53124),M=e(6731),O=e(14747),g=e(91945),L=e(45503);const b=r=>{const{componentCls:a,sizePaddingEdgeHorizontal:m,colorSplit:t,lineWidth:c,textPaddingInline:u,orientationMargin:s,verticalMarginInline:i}=r;return{[a]:Object.assign(Object.assign({},(0,O.Wf)(r)),{borderBlockStart:`${(0,M.unit)(c)} solid ${t}`,"&-vertical":{position:"relative",top:"-0.06em",display:"inline-block",height:"0.9em",marginInline:i,marginBlock:0,verticalAlign:"middle",borderTop:0,borderInlineStart:`${(0,M.unit)(c)} solid ${t}`},"&-horizontal":{display:"flex",clear:"both",width:"100%",minWidth:"100%",margin:`${(0,M.unit)(r.dividerHorizontalGutterMargin)} 0`},[`&-horizontal${a}-with-text`]:{display:"flex",alignItems:"center",margin:`${(0,M.unit)(r.dividerHorizontalWithTextGutterMargin)} 0`,color:r.colorTextHeading,fontWeight:500,fontSize:r.fontSizeLG,whiteSpace:"nowrap",textAlign:"center",borderBlockStart:`0 ${t}`,"&::before, &::after":{position:"relative",width:"50%",borderBlockStart:`${(0,M.unit)(c)} solid transparent`,borderBlockStartColor:"inherit",borderBlockEnd:0,transform:"translateY(50%)",content:"''"}},[`&-horizontal${a}-with-text-left`]:{"&::before":{width:`calc(${s} * 100%)`},"&::after":{width:`calc(100% - ${s} * 100%)`}},[`&-horizontal${a}-with-text-right`]:{"&::before":{width:`calc(100% - ${s} * 100%)`},"&::after":{width:`calc(${s} * 100%)`}},[`${a}-inner-text`]:{display:"inline-block",paddingBlock:0,paddingInline:u},"&-dashed":{background:"none",borderColor:t,borderStyle:"dashed",borderWidth:`${(0,M.unit)(c)} 0 0`},[`&-horizontal${a}-with-text${a}-dashed`]:{"&::before, &::after":{borderStyle:"dashed none none"}},[`&-vertical${a}-dashed`]:{borderInlineStartWidth:c,borderInlineEnd:0,borderBlockStart:0,borderBlockEnd:0},[`&-plain${a}-with-text`]:{color:r.colorText,fontWeight:"normal",fontSize:r.fontSize},[`&-horizontal${a}-with-text-left${a}-no-default-orientation-margin-left`]:{"&::before":{width:0},"&::after":{width:"100%"},[`${a}-inner-text`]:{paddingInlineStart:m}},[`&-horizontal${a}-with-text-right${a}-no-default-orientation-margin-right`]:{"&::before":{width:"100%"},"&::after":{width:0},[`${a}-inner-text`]:{paddingInlineEnd:m}}})}},A=r=>({textPaddingInline:"1em",orientationMargin:.05,verticalMarginInline:r.marginXS});var f=(0,g.I$)("Divider",r=>{const a=(0,L.TS)(r,{dividerHorizontalWithTextGutterMargin:r.margin,dividerHorizontalGutterMargin:r.marginLG,sizePaddingEdgeHorizontal:0});return[b(a)]},A,{unitless:{orientationMargin:!0}}),y=function(r,a){var m={};for(var t in r)Object.prototype.hasOwnProperty.call(r,t)&&a.indexOf(t)<0&&(m[t]=r[t]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var c=0,t=Object.getOwnPropertySymbols(r);c<t.length;c++)a.indexOf(t[c])<0&&Object.prototype.propertyIsEnumerable.call(r,t[c])&&(m[t[c]]=r[t[c]]);return m},d=r=>{const{getPrefixCls:a,direction:m,divider:t}=P.useContext(_.E_),{prefixCls:c,type:u="horizontal",orientation:s="center",orientationMargin:i,className:o,rootClassName:n,children:l,dashed:x,plain:p,style:R}=r,$=y(r,["prefixCls","type","orientation","orientationMargin","className","rootClassName","children","dashed","plain","style"]),E=a("divider",c),[w,Z,K]=f(E),N=s.length>0?`-${s}`:s,C=!!l,H=s==="left"&&i!=null,U=s==="right"&&i!=null,B=I()(E,t==null?void 0:t.className,Z,K,`${E}-${u}`,{[`${E}-with-text`]:C,[`${E}-with-text${N}`]:C,[`${E}-dashed`]:!!x,[`${E}-plain`]:!!p,[`${E}-rtl`]:m==="rtl",[`${E}-no-default-orientation-margin-left`]:H,[`${E}-no-default-orientation-margin-right`]:U},o,n),D=P.useMemo(()=>typeof i=="number"?i:/^\d+$/.test(i)?Number(i):i,[i]),W=Object.assign(Object.assign({},H&&{marginLeft:D}),U&&{marginRight:D});return w(P.createElement("div",Object.assign({className:B,style:Object.assign(Object.assign({},t==null?void 0:t.style),R)},$,{role:"separator"}),l&&u!=="vertical"&&P.createElement("span",{className:`${E}-inner-text`,style:W},l)))}}}]);
