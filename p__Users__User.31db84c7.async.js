(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"59P8":function(se,g,e){"use strict";var s=e("k1fw"),d=e("PpiC"),m=e("tJVT"),b=e("q1tI"),h=e("9kvl"),x=e("Qiat"),r=e("sWYD"),M=e("mGZj"),I=e("qLMh"),f=e("9og8");function u(t,p){return P.apply(this,arguments)}function P(){return P=Object(f.a)(Object(I.a)().mark(function t(p,A){return Object(I.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(h.i)("/api/admin/tracks/routes",Object(s.a)({method:"GET",useCache:!1,params:Object(s.a)(Object(s.a)({},p),{},{per_page:p.pageSize,page:p.current})},A||{})));case 1:case"end":return i.stop()}},t)})),P.apply(this,arguments)}var W=e("Vpfc"),l=e("0WSk"),n=e("nKUr"),j=["type","defaultRender"],c=[{title:Object(n.jsx)(h.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{title:Object(n.jsx)(h.a,{id:"dateRange",defaultMessage:"Date Range"}),dataIndex:"dateRange",hideInSearch:!1,hideInForm:!0,hideInTable:!0,valueType:"dateRange",fieldProps:{allowEmpty:[!0,!0]}},{title:Object(n.jsx)(h.a,{id:"http_method",defaultMessage:"http_method"}),dataIndex:"method",hideInSearch:!1,sorter:!0,valueEnum:{GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH"}},{title:Object(n.jsx)(h.a,{id:"path",defaultMessage:"path"}),dataIndex:"path",sorter:!0,hideInSearch:!1}],E=function(p){var A=p.useAsWidget,F=p.userID,i=Object(b.useRef)(),O=Object(b.useState)(!1),q=Object(m.a)(O,2),G=q[0],H=q[1],ie=Object(h.l)();return Object(n.jsx)(x.a,{headerTitle:ie.formatMessage({id:"menu.Analytics.Logs",defaultMessage:"menu.Analytics.Logs"}),loading:G,actionRef:i,rowKey:"id",search:{layout:"vertical"},request:function(C,Z){var ce=C.user_id,de=C.method,ee=C.dateRange,ue=C.path,re=C.pageSize,me=C.current,le=Z&&Object.entries(Z)[0];H(!0);var a=ee&&ee[0]?Object(r.a)(new Date(ee[0]),M.a):void 0,Oe=ee&&ee[1]?Object(r.a)(new Date(ee[1]),M.a):void 0;return u({user_id:A?F:ce,method:de,pageSize:re,current:me,path:ue,date_from:a,date_to:Oe,order_by:le&&le[0],order:le?le[1]==="ascend"?"ASC":"DESC":void 0}).then(function(je){return H(!1),je.success?{data:je.data,total:je.meta.total,success:!0}:[]})},columns:[].concat(c,[{title:Object(n.jsx)(h.a,{id:"user",defaultMessage:"user"}),dataIndex:"user_id",key:"user_id",hideInSearch:A,sorter:!0,renderFormItem:function(C,Z,ce){var de=Z.type,ee=Z.defaultRender,ue=Object(d.a)(Z,j);if(de==="form")return null;var re=ce.getFieldValue("state");return Object(n.jsx)(l.a,Object(s.a)(Object(s.a)({},ue),{},{state:{type:re}}))},render:function(C,Z){return Z.user&&Object(n.jsx)(W.a,{type:"App\\Models\\User",type_id:Z.user.id})}}])})},o=g.a=E},"G/Ub":function(se,g,e){"use strict";e.d(g,"d",function(){return h}),e.d(g,"a",function(){return r}),e.d(g,"b",function(){return I}),e.d(g,"c",function(){return u}),e.d(g,"e",function(){return W});var s=e("qLMh"),d=e("k1fw"),m=e("9og8"),b=e("9kvl");function h(n,j){return x.apply(this,arguments)}function x(){return x=Object(m.a)(Object(s.a)().mark(function n(j,c){return Object(s.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(b.i)("/api/admin/roles",Object(d.a)({method:"GET",useCache:!1,params:j},c||{})));case 1:case"end":return o.stop()}},n)})),x.apply(this,arguments)}function r(n,j){return M.apply(this,arguments)}function M(){return M=Object(m.a)(Object(s.a)().mark(function n(j,c){return Object(s.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(b.i)("/api/admin/roles",Object(d.a)({method:"POST",headers:{"Content-Type":"application/json"},data:j},c||{})));case 1:case"end":return o.stop()}},n)})),M.apply(this,arguments)}function I(n,j){return f.apply(this,arguments)}function f(){return f=Object(m.a)(Object(s.a)().mark(function n(j,c){return Object(s.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(b.i)("/api/admin/roles/".concat(j),Object(d.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},c||{})));case 1:case"end":return o.stop()}},n)})),f.apply(this,arguments)}function u(n,j){return P.apply(this,arguments)}function P(){return P=Object(m.a)(Object(s.a)().mark(function n(j,c){return Object(s.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(b.i)("/api/admin/roles/".concat(j),Object(d.a)({method:"GET",useCache:!1},c||{})));case 1:case"end":return o.stop()}},n)})),P.apply(this,arguments)}function W(n,j,c){return l.apply(this,arguments)}function l(){return l=Object(m.a)(Object(s.a)().mark(function n(j,c,E){return Object(s.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(b.i)("/api/admin/roles/".concat(j),Object(d.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:c},E||{})));case 1:case"end":return t.stop()}},n)})),l.apply(this,arguments)}},Jfn2:function(se,g,e){"use strict";var s=e("k1fw"),d=e("XCrF"),m=e("1GRj"),b=e("PpiC"),h=e("q1tI"),x=e.n(h),r=e("nKUr"),M=e.n(r),I=["path","size","srcSizes","alt"],f=function(P){var W=P.path,l=P.size,n=P.srcSizes,j=P.alt,c=j===void 0?"LMS Image":j,E=Object(b.a)(P,I),o="".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(W,"&w=").concat(n?n[0]:l),t=n&&n.map(function(p){return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(W,"&w=").concat(p," ").concat(p,"w")});return Object(r.jsx)("div",{className:"escolalms-image",children:Object(r.jsx)(m.a,Object(s.a)({src:o,srcSet:t&&t.join(","),alt:c},E))})};g.a=f},TWax:function(se,g,e){"use strict";var s=e("ozfa"),d=e("MJZm"),m=e("T2oS"),b=e("W9HT"),h=e("tJVT"),x=e("q1tI"),r=e.n(x),M=e("JifO"),I=e("nKUr"),f=e.n(I),u=function W(l){return l.subcategories&&l.subcategories.length?{title:l.name,key:l.id,children:l.subcategories.map(function(n){return W(n)})}:{title:l.name,key:l.id}},P=function(l){var n=l.value,j=l.onChange,c=l.multiple,E=c===void 0?!0:c,o=Object(x.useState)([]),t=Object(h.a)(o,2),p=t[0],A=t[1];Object(x.useEffect)(function(){Object(M.c)().then(function(i){i.success&&A(i.data)})},[]);var F=Object(x.useMemo)(function(){return p.map(function(i){return u(i)})},[p]);return p.length===0?Object(I.jsx)(b.a,{}):Object(I.jsx)(d.a,{multiple:E,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,style:{width:"100%"},checkedKeys:n,onCheck:function(O){if(typeof O=="object"&&!Array.isArray(O)&&O.checked){var q=O.checked;return j&&Array.isArray(q)&&j(q)}},treeData:F,disabled:p.length===0})};g.a=P},YDZB:function(se,g,e){"use strict";var s=e("2qtc"),d=e("kLXV"),m=e("7Kak"),b=e("9yH6"),h=e("+L6B"),x=e("2/Rp"),r=e("tJVT"),M=e("q1tI"),I=e.n(M),f=e("gU/Y"),u=e("9kvl"),P=e("u95b"),W=e.n(P),l=e("nKUr"),n=e.n(l),j=function(E){var o=E.value,t=E.onChange,p=Object(M.useState)(!1),A=Object(r.a)(p,2),F=A[0],i=A[1],O=Object(M.useCallback)(function(){i(!1)},[]),q=Object(M.useState)("code"),G=Object(r.a)(q,2),H=G[0],ie=G[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)(x.a,{type:"primary",onClick:function(){return i(!0)},size:"small",children:Object(l.jsx)(u.a,{id:"json_editor"})}),Object(l.jsxs)(d.a,{title:"JSON",visible:F,onOk:O,onCancel:O,children:[Object(l.jsxs)(b.a.Group,{onChange:function(C){return ie(C.target.value)},value:H,children:[Object(l.jsx)(b.a,{value:"tree",children:"tree"}),Object(l.jsx)(b.a,{value:"view",children:"view"}),Object(l.jsx)(b.a,{value:"form",children:"form"}),Object(l.jsx)(b.a,{value:"code",children:"code"}),Object(l.jsx)(b.a,{value:"text",children:"text"})]}),Object(l.jsx)(f.a,{mode:H,value:o,onChange:function(C){return t&&t(C)}},H)]})]})};g.a=j},YDsB:function(se,g,e){"use strict";var s=e("YDZB"),d=e("/y+f"),m=e("FJDo"),b=e("tneF"),h=e("Qurx"),x=e("VMEa"),r=e("BiO0"),M=e("q1tI"),I=e.n(M),f=e("9kvl"),u=e("nKUr"),P=e.n(u),W=function(n){var j=n.field,c=Object(f.l)(),E=function(t){var p,A,F=Object(f.e)(),i=t==null||(p=t.extra)===null||p===void 0||(A=p.find(function(O){return O==null?void 0:O[F]}))===null||A===void 0?void 0:A[F];switch(t.type){case d.d.Number:return Object(u.jsx)(m.a,{width:"md",name:t.name,label:i!=null?i:Object(u.jsx)(f.a,{id:t.name}),tooltip:Object(u.jsx)(f.a,{id:t.name}),placeholder:c.formatMessage({id:t.name,defaultMessage:t.name}),min:1,max:1024,fieldProps:{step:1}});case d.d.Boolean:return Object(u.jsx)(b.a,{name:t.name,children:i!=null?i:Object(u.jsx)(f.a,{id:t.name})});case d.d.Varchar:return Object(u.jsx)(h.a,{width:"md",name:t.name,label:i!=null?i:Object(u.jsx)(f.a,{id:t.name}),tooltip:Object(u.jsx)(f.a,{id:t.name}),placeholder:c.formatMessage({id:t.name})});case d.d.Json:return Object(u.jsx)(x.a.Item,{name:t.name,label:i!=null?i:Object(u.jsx)(f.a,{id:t.name}),tooltip:Object(u.jsx)(f.a,{id:t.name}),valuePropName:"value",children:Object(u.jsx)(s.a,{})});case d.d.Text:default:return Object(u.jsx)(r.a,{width:"md",name:t.name,label:i!=null?i:Object(u.jsx)(f.a,{id:t.name}),tooltip:Object(u.jsx)(f.a,{id:t.name}),placeholder:c.formatMessage({id:t.name})})}};return Object(u.jsx)(u.Fragment,{children:E(j)})};g.a=W},tneF:function(se,g,e){"use strict";var s=e("sRBo"),d=e("kaz8"),m=e("VTBJ"),b=e("Ff2n"),h=e("nKUr"),x=e.n(h),r=e("uX+g"),M=e("q1tI"),I=e.n(M),f=e("WFLz"),u=e("adzw"),P=["options","fieldProps","proFieldProps","valueEnum"],W=I.a.forwardRef(function(c,E){var o=c.options,t=c.fieldProps,p=c.proFieldProps,A=c.valueEnum,F=Object(b.a)(c,P);return Object(h.jsx)(u.a,Object(m.a)({ref:E,valueType:"checkbox",valueEnum:Object(r.a)(A,void 0),fieldProps:Object(m.a)({options:o},t),lightProps:Object(m.a)({labelFormatter:function(){return Object(h.jsx)(u.a,Object(m.a)({ref:E,valueType:"checkbox",mode:"read",valueEnum:Object(r.a)(A,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(m.a)({options:o},t),proFieldProps:p},F))}},F.lightProps),proFieldProps:p},F))}),l=I.a.forwardRef(function(c,E){var o=c.fieldProps,t=c.children;return Object(h.jsx)(d.a,Object(m.a)(Object(m.a)({ref:E},o),{},{children:t}))}),n=Object(f.a)(l,{valuePropName:"checked"}),j=n;j.Group=W,g.a=j},weGn:function(se,g,e){"use strict";e.r(g);var s=e("qLMh"),d=e("k1fw"),m=e("9og8"),b=e("tJVT"),h=e("nhC9"),x=e("Ty5D"),r=e("9kvl"),M=e("tMyG"),I=e("14J3"),f=e("BMrR"),u=e("/zsF"),P=e("PArb"),W=e("tU7J"),l=e("wFql"),n=e("DYRE"),j=e("zeV3"),c=e("y8nQ"),E=e("Vl3Y"),o=e("+L6B"),t=e("2/Rp"),p=e("T2oS"),A=e("W9HT"),F=e("miYZ"),i=e("tsqr"),O=e("q1tI"),q=e.n(O),G=e("VMEa"),H=e("Qurx"),ie=e("F/zT"),ne=e("tneF"),C=e("VK58"),Z=e("02ly"),ce=e("Jfn2"),de=e("2ult"),ee=e("55Ip"),ue=e("G/Ub"),re=e("ri8c"),me=e("TpMl"),le=e("YDsB"),a=e("nKUr");function Oe(B){var ae=Object(O.useState)([]),K=Object(b.a)(ae,2),S=K[0],Q=K[1],X=Object(O.useState)(!1),T=Object(b.a)(X,2),w=T[0],v=T[1],U=Object(O.useCallback)(Object(m.a)(Object(s.a)().mark(function N(){var _;return Object(s.a)().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.prev=0,v(!0),$.next=4,Object(re.h)({user_id:B});case 4:_=$.sent,_.success&&Q(_.data.map(function(D){var ve=D.id;return ve}));case 6:return $.prev=6,v(!1),$.finish(6);case 9:case"end":return $.stop()}},N,null,[[0,,6,9]])})),[B]),z=Object(O.useCallback)(function(){var N=Object(m.a)(Object(s.a)().mark(function _(R){return Object(s.a)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(typeof R!="string"){D.next=2;break}return D.abrupt("return");case 2:return v(!0),D.next=5,Object(re.a)(R,B);case 5:return D.next=7,U();case 7:v(!1);case 8:case"end":return D.stop()}},_)}));return function(_){return N.apply(this,arguments)}}(),[B]),V=Object(O.useCallback)(function(){var N=Object(m.a)(Object(s.a)().mark(function _(R){return Object(s.a)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(typeof R!="string"){D.next=2;break}return D.abrupt("return");case 2:return v(!0),D.next=5,Object(re.d)(R,B);case 5:return D.next=7,U();case 7:v(!1);case 8:case"end":return D.stop()}},_)}));return function(_){return N.apply(this,arguments)}}(),[B]),k=Object(O.useCallback)(Object(m.a)(Object(s.a)().mark(function N(){return Object(s.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return v(!0),R.next=3,Promise.all(S.map(function($){return Object(re.d)($,B)}));case 3:return R.next=5,U();case 5:v(!1);case 6:case"end":return R.stop()}},N)})),[S]);return Object(O.useEffect)(function(){U()},[U]),{userGroups:S,userGroupsLoading:w,handleAddToGroup:z,handleRemoveFromGroup:V,handleClearAllGroups:k}}var je=function(B){var ae,K,S,Q,X=B.isNew,T=B.data,w=B.setData,v=Object(r.l)(),U=Object(x.l)(),z=U.user,V=Object(me.a)("EscolaLms\\Auth\\Models\\User"),k=Object(r.m)("@@initialState"),N=k.initialState,_=N==null||(ae=N.config)===null||ae===void 0||(K=ae.filter(function(L){return L.key==="frontURL"})[0])===null||K===void 0?void 0:K.data,R=Oe((S=T==null?void 0:T.id)!==null&&S!==void 0?S:0),$=R.userGroups,D=R.userGroupsLoading,ve=R.handleAddToGroup,De=R.handleRemoveFromGroup,xe=R.handleClearAllGroups,Ce=Object(O.useState)(),he=Object(b.a)(Ce,2),fe=he[0],Te=he[1],Ae=G.a.useForm(),Re=Object(b.a)(Ae,1),be=Re[0],Ie=Object(O.useCallback)(Object(m.a)(Object(s.a)().mark(function L(){var Y,y;return Object(s.a)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,Object(ue.d)();case 2:return Y=J.sent,J.next=5,Y;case 5:y=J.sent,y.success&&Te(y.data);case 7:case"end":return J.stop()}},L)})),[z]),Ue=function(){Object(C.d)(Number(z)).then(function(Y){Y.success&&(i.b.success(Y.message),w(function(y){return Object(d.a)(Object(d.a)({},y),{},{avatar:"",path_avatar:""})}))}).catch(function(Y){i.b.error(Y.data.message)})};Object(O.useEffect)(function(){Ie()},[z]);var Le=Object(O.useMemo)(function(){return{form:be,onFinish:function(){var L=Object(m.a)(Object(s.a)().mark(function y(pe){var J,oe;return Object(s.a)().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(oe=Object(d.a)({},pe),(!oe.password||oe.password==="")&&delete oe.password,!X){te.next=9;break}return te.next=5,Object(C.a)(oe);case 5:J=te.sent,J.success&&r.f.push("/users/".concat(J.data.id,"/user_info")),te.next=12;break;case 9:return te.next=11,Object(C.k)(Number(z),oe);case 11:J=te.sent;case 12:i.b.success(J.message);case 13:case"end":return te.stop()}},y)}));function Y(y){return L.apply(this,arguments)}return Y}(),initialValues:T}},[T,z]);return T?Object(a.jsxs)(G.a,Object(d.a)(Object(d.a)({},Le),{},{children:[Object(a.jsxs)(G.a.Group,{children:[Object(a.jsx)(H.a,{width:"md",name:"first_name",label:Object(a.jsx)(r.a,{id:"first_name"}),tooltip:Object(a.jsx)(r.a,{id:"first_name"}),placeholder:v.formatMessage({id:"first_name"}),required:!0,rules:[{required:!0,message:v.formatMessage({id:"field_required"})}]}),Object(a.jsx)(H.a,{width:"md",name:"last_name",label:Object(a.jsx)(r.a,{id:"last_name"}),tooltip:Object(a.jsx)(r.a,{id:"last_name"}),placeholder:v.formatMessage({id:"last_name"}),required:!0,rules:[{required:!0,message:v.formatMessage({id:"field_required"})}]}),Object(a.jsx)(H.a,{width:"md",name:"email",label:Object(a.jsx)(r.a,{id:"email"}),tooltip:Object(a.jsx)(r.a,{id:"email"}),placeholder:v.formatMessage({id:"email"}),required:!0,rules:[{required:!0,message:v.formatMessage({id:"field_required"})}]}),Object(a.jsx)(H.a.Password,{shouldUpdate:!0,width:"md",name:"password",label:Object(a.jsx)(r.a,{id:"password"}),tooltip:Object(a.jsx)(r.a,{id:"password"}),placeholder:v.formatMessage({id:"password"}),required:X,rules:[{validator:function(Y,y){return y&&!/(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,}$/i.test(y)?Promise.reject(new Error(v.formatMessage({id:"badPassword"}))):Promise.resolve()}},{required:X,message:Object(a.jsx)(r.a,{id:"field_required"})}]}),V.state==="loaded"&&V.list.map(function(L){return Object(a.jsx)(le.a,{field:L},L.id)})]}),Object(a.jsxs)(G.a.Group,{children:[!X&&Object(a.jsxs)(j.b,{direction:"vertical",children:[!((Q=T.roles)!==null&&Q!==void 0&&Q.includes("admin"))&&Object(a.jsx)(ie.a,{initialValue:T.is_active,name:"email_verified",label:Object(a.jsx)(r.a,{id:"is_email_verified"})}),Object(a.jsx)(E.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){return be.getFieldValue("email_verified")?Object(a.jsx)(q.a.Fragment,{}):Object(a.jsxs)(a.Fragment,{children:[!_&&Object(a.jsxs)("p",{children:[Object(a.jsx)(r.a,{id:"no_base_url"}),Object(a.jsx)(ee.a,{to:"/configuration/settings/escola_auth",children:"Settings"})]}),Object(a.jsx)(t.a,{disabled:!_,size:"small",onClick:function(){Object(C.g)(be.getFieldValue("email"),"".concat(_,"email-verify")).then(function(){i.b.success(v.formatMessage({id:"email_resend"}))})},children:Object(a.jsx)(r.a,{id:"resend"})})]})}})]}),Object(a.jsx)(ie.a,{name:"is_active",label:Object(a.jsx)(r.a,{id:"is_active"})}),fe&&Object(a.jsx)(ne.a.Group,{name:"roles",layout:"horizontal",label:Object(a.jsx)(r.a,{id:"roles"}),options:fe.filter(function(L){return L.guard_name!=="web"}).map(function(L){return L.name})})]}),!X&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(G.a.Group,{children:[Object(a.jsx)(G.a.Item,{name:"avatar",label:Object(a.jsx)(r.a,{id:"avatar"}),children:T.path_avatar?Object(a.jsx)(ce.a,{path:T.path_avatar,size:600,width:200}):Object(a.jsx)(l.a,{children:Object(a.jsx)(r.a,{id:"avatar_placeholder"})})}),Object(a.jsx)(E.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Z.a,{folder:"avatars/".concat(z),wrapInForm:!1,url:"/api/admin/users/".concat(z,"/avatar"),name:"avatar",accept:"image/*",onChange:function(y){y.file.status==="done"&&y.file.response&&y.file.response.success&&w(y.file.response.data)}}),Object(a.jsx)(t.a,{danger:!0,onClick:Ue,children:Object(a.jsx)(r.a,{id:"delete"})})]})}})]}),Object(a.jsxs)(f.a,{children:[Object(a.jsx)(P.a,{}),Object(a.jsx)(G.a.Item,{style:{width:"100%"},label:Object(a.jsx)(r.a,{id:"groups",defaultMessage:"Groups"}),children:Object(a.jsx)(de.a,{multiple:!0,loading:D,disabled:D,value:$,onSelect:ve,onDeselect:De,onClear:xe})})]})]})]})):Object(a.jsx)(A.a,{})},Ee=e("TWax"),Pe=function(ae){var K=ae.data,S=Object(O.useMemo)(function(){return{onFinish:function(){var Q=Object(m.a)(Object(s.a)().mark(function T(w){var v,U;return Object(s.a)().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return v=Object(d.a)({},w),V.next=3,Object(C.l)(Number(K==null?void 0:K.id),v);case 3:U=V.sent,i.b.success(U.message);case 5:case"end":return V.stop()}},T)}));function X(T){return Q.apply(this,arguments)}return X}(),initialValues:K}},[K]);return Object(a.jsx)(G.a,Object(d.a)(Object(d.a)({},S),{},{children:Object(a.jsx)(G.a.Item,{label:Object(a.jsx)(r.a,{id:"categories"}),name:"interests",valuePropName:"value",children:Object(a.jsx)(Ee.a,{})})}))},ge=Pe,Me=e("c+yx"),_e=e("59P8"),ye=g.default=function(){var B=Object(x.l)(),ae=Object(O.useState)(),K=Object(b.a)(ae,2),S=K[0],Q=K[1],X=Object(r.l)(),T=B.tab,w=T===void 0?"user_info":T,v=B.user,U=typeof v=="undefined",z=Object(O.useCallback)(Object(m.a)(Object(s.a)().mark(function V(){var k;return Object(s.a)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,Object(C.m)(Number(v));case 2:k=_.sent,k.success&&Q(Object(d.a)(Object(d.a)({},k.data),{},{interests:k.data.interests.map(Me.a)}));case 4:case"end":return _.stop()}},V)})),[v]);return Object(O.useEffect)(function(){if(U){Q({});return}z()},[v,z]),Object(a.jsx)(M.a,{title:Object(a.jsx)(r.a,{id:"settings"}),header:{breadcrumb:{routes:[{path:"/users/".concat(v,"/user_info"),breadcrumbName:X.formatMessage({id:"menu.Settings"})},{path:String(w),breadcrumbName:String(w)}]}},children:Object(a.jsxs)(h.a,{tabs:{type:"card",activeKey:w,onChange:function(k){return r.f.push("/users/".concat(v,"/").concat(k))}},children:[Object(a.jsx)(h.a.TabPane,{tab:U?Object(a.jsx)(r.a,{id:"new_user"}):Object(a.jsx)(r.a,{id:"edit_user"}),children:Object(a.jsx)(je,{isNew:U,data:S,setData:Q})},"user_info"),!U&&Object(a.jsx)(h.a.TabPane,{tab:Object(a.jsx)("span",{children:Object(a.jsx)(r.a,{id:"categories"})}),children:(S==null?void 0:S.id)&&Object(a.jsx)(ge,{data:S})},"categories"),!U&&Object(a.jsx)(h.a.TabPane,{tab:Object(a.jsx)("span",{children:Object(a.jsx)(r.a,{id:"user_logs"})}),children:v&&Object(a.jsx)(_e.a,{useAsWidget:!0,userID:Number(v)})},"logs")]})})}}}]);

//# sourceMappingURL=p__Users__User.31db84c7.async.js.map