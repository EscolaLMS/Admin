(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{"5tKr":function(B,g,e){"use strict";e.d(g,"b",function(){return P}),e.d(g,"a",function(){return b});var m=e("qLMh"),f=e("k1fw"),D=e("9og8"),v=e("9kvl");function P(u,a){return O.apply(this,arguments)}function O(){return O=Object(D.a)(Object(m.a)().mark(function u(a,r){return Object(m.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(v.i)("/api/admin/scorm",Object(f.a)({params:a,method:"GET",useCache:!1},r||{})));case 1:case"end":return n.stop()}},u)})),O.apply(this,arguments)}function W(u,a){return p.apply(this,arguments)}function p(){return p=Object(D.a)(Object(m.a)().mark(function u(a,r){return Object(m.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(v.i)("/api/admin/scorm/scos",Object(f.a)({params:Object(f.a)(Object(f.a)({},a),{},{per_page:a.pageSize,page:a.current}),method:"GET",useCache:!1},r||{})));case 1:case"end":return n.stop()}},u)})),p.apply(this,arguments)}function b(u,a){return l.apply(this,arguments)}function l(){return l=Object(D.a)(Object(m.a)().mark(function u(a,r){return Object(m.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(v.i)("/api/admin/scorm/".concat(a),Object(f.a)({method:"DELETE"},r||{})));case 1:case"end":return n.stop()}},u)})),l.apply(this,arguments)}},"DBJ/":function(B,g,e){"use strict";var m=e("k1fw"),f=e("y8nQ"),D=e("Vl3Y"),v=e("tJVT"),P=e("etVw"),O=e("q1tI"),W=e.n(O),p=e("9kvl"),b=e("qFDU"),l=e("nKUr"),u=e.n(l);function a(r){var M=r.onChange,n=r.onUpload,y=r.url,S=r.name,A=r.extra,U=r.accept,t=r.data,C=r.wrapInForm,R=C===void 0?!0:C,L=r.title,K=r.formProps,T=r.maxFiles,x=r.clearListAfterUpload,c=r.hideLabel,E=Object(O.useState)(),_=Object(v.a)(E,2),s=_[0],j=_[1],o=Object(p.l)();return t&&t[S]&&delete t[S],Object(l.jsx)(b.a,{condition:R,wrap:function(d){return Object(l.jsx)(D.a,Object(m.a)(Object(m.a)({},K),{},{children:d}))},children:Object(l.jsx)(P.a,{title:L||" ".concat(o.formatMessage({id:"upload_click_here"})),placeholder:o.formatMessage({id:"upload_click_here"}),onChange:function(d){j(d),M&&M(d),d.file.status==="done"&&(n&&n(d.file.response),x&&j(void 0))},label:!c&&Object(l.jsx)(p.a,{id:"upload"}),max:T!=null?T:2,fieldProps:{data:t,accept:U,name:S,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(y),extra:A,fileList:s==null?void 0:s.fileList})})}g.a=a},"w76+":function(B,g,e){"use strict";e.r(g);var m=e("P2fV"),f=e("NJEC"),D=e("5Dmo"),v=e("3S7+"),P=e("+L6B"),O=e("2/Rp"),W=e("miYZ"),p=e("tsqr"),b=e("qLMh"),l=e("9og8"),u=e("q1tI"),a=e("9kvl"),r=e("55Ip"),M=e("tMyG"),n=e("Qiat"),y=e("Dx9A"),S=e("/MfK"),A=e("5tKr"),U=e("DBJ/"),t=e("nKUr"),C=function(c){var E=c.onSuccess,_=c.onError,s=c.hideLabel;return Object(t.jsx)(U.a,{url:"/api/admin/scorm/upload",name:"zip",accept:"application/zip",hideLabel:s,onChange:function(o){if(o.file.response){var i=o.file.response.response;i.success?E(i.data.model):_(i)}}})},R=C,L=function(){var x=Object(l.a)(Object(b.a)().mark(function c(E){return Object(b.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,Object(A.a)(E);case 2:return s.abrupt("return",!0);case 3:case"end":return s.stop()}},c)}));return function(E){return x.apply(this,arguments)}}(),K=function(){var c=Object(u.useRef)(),E=Object(a.l)(),_=[{title:Object(t.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0},{title:Object(t.jsx)(a.a,{id:"version",defaultMessage:"version"}),dataIndex:"version",hideInSearch:!0,sorter:!0},{title:Object(t.jsx)(a.a,{id:"newScorm",defaultMessage:"New Scorm"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(R,{hideLabel:!0,onSuccess:function(){c.current&&c.current.reload(),p.b.success(Object(t.jsx)(a.a,{id:"scorm_uploaded",defaultMessage:"scorm uploaded"}))},onError:function(o){return p.b.error(o.message||o.toString())}},"upload")]}},{title:Object(t.jsx)(a.a,{id:"SCOS",defaultMessage:"Sharable Content Objects"}),dataIndex:"SCOS",hideInSearch:!0,render:function(j,o){return[o.scos.map(function(i){return Object(t.jsx)(r.a,{to:"/courses/scorms/preview/".concat(i.uuid),children:Object(t.jsxs)(v.a,{title:Object(t.jsx)(a.a,{id:"preview",defaultMessage:"preview"}),children:[Object(t.jsx)(O.a,{size:"small",icon:Object(t.jsx)(y.a,{}),type:"primary",children:i.title})," "]})},i.uuid)})]}},{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(j,o){return[Object(t.jsx)(f.a,{title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(l.a)(Object(b.a)().mark(function i(){var d;return Object(b.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,L(o.id);case 2:d=h.sent,d&&c.current&&c.current.reload();case 4:case"end":return h.stop()}},i)})),okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(v.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(O.a,{type:"primary",icon:Object(t.jsx)(S.a,{}),danger:!0})})},"delete")]}}];return Object(t.jsx)(M.a,{children:Object(t.jsx)(n.a,{headerTitle:E.formatMessage({id:"menu.Courses.SCORMs",defaultMessage:"scorms"}),actionRef:c,rowKey:"id",search:{layout:"vertical"},request:function(j,o){var i=j.pageSize,d=j.current,I=o&&Object.entries(o)[0];return Object(A.b)({per_page:i,page:d,order_by:I&&I[0],order:I?I[1]==="ascend"?"ASC":"DESC":void 0}).then(function(h){return h.success?{data:h.data.data,total:h.data.total,success:!0}:[]})},columns:_})})},T=g.default=K}}]);
