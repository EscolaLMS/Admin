(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"F/zT":function(g,P,e){"use strict";var v=e("VTBJ"),M=e("Ff2n"),f=e("nKUr"),I=e.n(f),W=e("q1tI"),D=e.n(W),p=e("adzw"),C=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],K=D.a.forwardRef(function(i,L){var A=i.fieldProps,u=i.unCheckedChildren,s=i.checkedChildren,b=i.proFieldProps,T=Object(M.a)(i,C);return Object(f.jsx)(p.a,Object(v.a)({valueType:"switch",fieldProps:Object(v.a)({unCheckedChildren:u,checkedChildren:s},A),ref:L,valuePropName:"checked",proFieldProps:b,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},T))});P.a=K},UNho:function(g,P,e){"use strict";e.r(P);var v=e("Mwp2"),M=e("VXEj"),f=e("+L6B"),I=e("2/Rp"),W=e("/zsF"),D=e("PArb"),p=e("tU7J"),C=e("wFql"),K=e("T2oS"),i=e("W9HT"),L=e("miYZ"),A=e("tsqr"),u=e("qLMh"),s=e("k1fw"),b=e("9og8"),T=e("tJVT"),c=e("q1tI"),x=e.n(c),h=e("VMEa"),y=e("Qurx"),F=e("F/zT"),N=e("nhC9"),E=e("ri8c"),S=e("tMyG"),l=e("9kvl"),z=e("Ty5D"),G=e("/MfK"),J=e("0WSk"),V=e("2ult"),_=e("nKUr"),k=e.n(_);P.default=function(){var $=Object(l.l)(),H=Object(z.l)(),a=H.group,Q=a==="new",X=Object(c.useState)(),R=Object(T.a)(X,2),O=R[0],j=R[1],B=Object(c.useCallback)(Object(b.a)(Object(u.a)().mark(function r(){var t;return Object(u.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(E.f)(Number(a));case 2:t=d.sent,t.success&&j(Object(s.a)({},t.data));case 4:case"end":return d.stop()}},r)})),[a]),Y=Object(c.useCallback)(function(r){j(function(t){var n;return Object(s.a)(Object(s.a)({},t),{},{users:t?t==null||(n=t.users)===null||n===void 0?void 0:n.filter(function(d){return d.id!==r}):[]})}),Object(E.d)(Number(a),r).then(function(t){t.success&&j(function(n){return Object(s.a)(Object(s.a)({},n),{},{users:t.data})})})},[a]),Z=Object(c.useCallback)(function(r){var t;!r||O!=null&&(t=O.users)!==null&&t!==void 0&&t.find(function(n){return n.id===r})||Object(E.a)(Number(a),r).then(function(n){n.success&&j(function(d){return Object(s.a)(Object(s.a)({},d),{},{users:n.data})})})},[O,a]);Object(c.useEffect)(function(){if(a==="new"){j({});return}B()},[a,B]);var w=Object(c.useMemo)(function(){return{onFinish:function(){var r=Object(b.a)(Object(u.a)().mark(function n(d){var m,U;return Object(u.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:if(U=Object(s.a)({},d),a!=="new"){o.next=8;break}return o.next=4,Object(E.b)(U);case 4:m=o.sent,m.success&&l.f.push("/users/groups/".concat(m.data.id)),o.next=11;break;case 8:return o.next=10,Object(E.e)(Number(a),U);case 10:m=o.sent;case 11:A.b.success(m.message);case 12:case"end":return o.stop()}},n)}));function t(n){return r.apply(this,arguments)}return t}(),initialValues:O}},[O,a]);return O?Object(_.jsx)(S.a,{title:Q?Object(_.jsx)(l.a,{id:"new_user_group"}):Object(_.jsx)(l.a,{id:"edit_user_group"}),children:Object(_.jsx)(N.a,{children:Object(_.jsxs)(h.a,Object(s.a)(Object(s.a)({},w),{},{children:[Object(_.jsxs)(h.a.Group,{children:[Object(_.jsx)(y.a,{width:"md",name:"name",label:Object(_.jsx)(l.a,{id:"name"}),tooltip:Object(_.jsx)(l.a,{id:"name"}),placeholder:$.formatMessage({id:"name"}),required:!0}),Object(_.jsx)(h.a.Item,{style:{minWidth:"300px"},name:"parent_id",label:Object(_.jsx)(l.a,{id:"parent_id_group",defaultMessage:"parent_id_group"}),valuePropName:"value",children:Object(_.jsx)(V.a,{})}),Object(_.jsx)(F.a,{name:"registerable",label:Object(_.jsx)(l.a,{id:"registerable"})})]}),a!=="new"&&Object(_.jsxs)(x.a.Fragment,{children:[Object(_.jsxs)(h.a.Group,{children:[Object(_.jsx)(C.a,{children:Object(_.jsx)(l.a,{id:"add_person_to_group",defaultMessage:"Add User to group"})}),Object(_.jsx)(J.a,{onChange:function(t){return Z(Number(t))}})]}),Object(_.jsx)(D.a,{}),Object(_.jsx)(M.b,{size:"small",itemLayout:"horizontal",dataSource:O.users,renderItem:function(t){return Object(_.jsxs)(M.b.Item,{actions:[Object(_.jsxs)(I.a,{onClick:function(){return Y(t.id)},type:"primary",icon:Object(_.jsx)(G.a,{}),size:"small",danger:!0,children:[" ",Object(_.jsx)(l.a,{id:"delete"})]},"delete")],children:[t.first_name," ",t.last_name," ",Object(_.jsx)("small",{children:t.email})]})}})]}),Object(_.jsx)(D.a,{})]}))})}):Object(_.jsx)(i.a,{})}}}]);
