(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"/y+f":function($e,je,t){"use strict";t.d(je,"f",function(){return i}),t.d(je,"d",function(){return O}),t.d(je,"e",function(){return T}),t.d(je,"c",function(){return be}),t.d(je,"a",function(){return r}),t.d(je,"b",function(){return Ae});var i;(function(o){o.Unselected="",o.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",o.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",o.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",o.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",o.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",o.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",o.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",o.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",o.Project="EscolaLms\\TopicTypeProject\\Models\\Project",o.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz"})(i||(i={}));var Y;(function(o){o.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",o.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(Y||(Y={}));var F;(function(o){o.draft="draft",o.published="published",o.archived="archived"})(F||(F={}));var O;(function(o){o.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",o.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",o.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(O||(O={}));var T;(function(o){o.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(T||(T={}));var l;(function(o){o.cart_fixed="cart_fixed",o.cart_percent="cart_percent",o.product_fixed="product_fixed",o.product_percent="product_percent"})(l||(l={}));var be;(function(o){o.MULTIPLE_CHOICE="multiple_choice",o.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",o.TRUE_FALSE="true_false",o.SHORT_ANSWERS="short_answers",o.MATCHING="matching",o.NUMERICAL_QUESTION="numerical_question",o.ESSAY="essay",o.DESCRIPTION="description"})(be||(be={}));var r;(function(o){o.PRESENT="present",o.ABSENT="absent"})(r||(r={}));var Ae;(function(o){o.Manual="manual",o.TeamsForms="teams_forms",o.TeamsLecture="teams_lecture",o.TestPortal="test_portal"})(Ae||(Ae={}))},"0JQy":function($e,je){var t="\\ud800-\\udfff",i="\\u0300-\\u036f",Y="\\ufe20-\\ufe2f",F="\\u20d0-\\u20ff",O=i+Y+F,T="\\ufe0e\\ufe0f",l="["+t+"]",be="["+O+"]",r="\\ud83c[\\udffb-\\udfff]",Ae="(?:"+be+"|"+r+")",o="[^"+t+"]",ce="(?:\\ud83c[\\udde6-\\uddff]){2}",Se="[\\ud800-\\udbff][\\udc00-\\udfff]",pe="\\u200d",re=Ae+"?",Me="["+T+"]?",nt="(?:"+pe+"(?:"+[o,ce,Se].join("|")+")"+Me+re+")*",me=Me+re+nt,Ye="(?:"+[o+be+"?",be,ce,Se,l].join("|")+")",We=RegExp(r+"(?="+r+")|"+Ye+me,"g");function h(f){return f.match(We)||[]}$e.exports=h},"5R/X":function($e,je,t){},"5Syx":function($e,je,t){"use strict";t.d(je,"c",function(){return Be}),t.d(je,"b",function(){return ct}),t.d(je,"a",function(){return q});var i=t("OaEy"),Y=t("2fM7"),F=t("g9YV"),O=t("wCAj"),T=t("BoS7"),l=t("Sdc0"),be=t("jrin"),r=t("k1fw"),Ae=t("DYRE"),o=t("zeV3"),ce=t("+BJd"),Se=t("mr32"),pe=t("oBTY"),re=t("tJVT"),Me=t("q1tI"),nt=t.n(Me),me=t("9kvl"),Ye=t("Vpfc"),We=t("nhC9"),h=t("LDJE"),f=t("nKUr"),Je=t.n(f),Ze=function(W){return W.topicable.content.contents?Object.values(W.topicable.content.contents)[0].library:"H5P"},Be=function(W){var v=W.topics,H=W.stats,Oe=Object(Me.useState)(!1),L=Object(re.a)(Oe,2),b=L[0],ve=L[1],Ee=Object(Me.useMemo)(function(){return[{title:Object(f.jsx)(me.a,{id:"user"}),dataIndex:"id",render:function(Ie){return Object(f.jsx)(Ye.a,{type:"App\\Models\\User",type_id:Ie})}},{title:Object(f.jsx)(me.a,{id:"email"}),dataIndex:"email"}].concat(Object(pe.a)(v.map(function(xe){var Ie,ye=(Ie=xe.topicable_type)===null||Ie===void 0?void 0:Ie.split("\\").pop();return ye==="H5P"&&(ye=Ze(xe)),{render:function(P){var Z=0,he=0;switch(P&&(P.started_at&&P.finished_at?Z=1:P.started_at&&(Z=2),he=P.seconds/60),Z){case 1:return Object(f.jsxs)(o.b,{children:[Object(f.jsx)(Se.a,{color:"success",children:"F"}),b&&Object(f.jsxs)("small",{children:[he.toFixed(2),"m"]})]});case 2:return Object(f.jsxs)(o.b,{children:[Object(f.jsx)(Se.a,{color:"blue",children:"S"}),b&&Object(f.jsxs)("small",{children:[he.toFixed(2),"m"]})]});case 0:default:return Object(f.jsx)(nt.a.Fragment,{children:Object(f.jsx)(Se.a,{color:"error",children:"N"})})}},title:Object(f.jsxs)("small",{children:[Object(f.jsx)(Se.a,{children:ye})," ",xe.title]}),dataIndex:xe.id}})))},[v,b]),Re=Object(Me.useMemo)(function(){return H.map(function(xe){return v.reduce(function(Ie,ye){var we=xe.topics.find(function(P){return P.id===ye.id});return Object(r.a)(Object(r.a)({},Ie),{},Object(be.a)({},Number(ye.id),we!=null?we:0))},{email:xe.email,id:xe.id})})},[H,v]);return Object(f.jsx)(O.a,{title:function(){return Object(f.jsxs)(o.b,{children:[Object(f.jsx)(me.a,{id:"Finished",defaultMessage:"Finished:"})," ",Object(f.jsx)(Se.a,{color:"success",children:"F"}),Object(f.jsx)(me.a,{id:"Started",defaultMessage:"Started:"})," ",Object(f.jsx)(Se.a,{color:"blue",children:"S"}),Object(f.jsx)(me.a,{id:"NotStarted",defaultMessage:"Not Started:"})," ",Object(f.jsx)(Se.a,{color:"error",children:"N"}),Object(f.jsx)(me.a,{id:"ShowMinutes",defaultMessage:"Show minutes spent on topic:"})," ",Object(f.jsx)(l.a,{checked:b,onChange:function(ye){return ve(ye)}})]})},columns:Ee,dataSource:Re,size:"small",scroll:{x:1500}})},ct=function(W){var v=W.stats,H=Object(Me.useMemo)(function(){return[{title:"user",dataIndex:"id",render:function(b){return Object(f.jsx)(Ye.a,{type:"App\\Models\\User",type_id:b})}},{title:"email",dataIndex:"email"},{title:Object(f.jsx)(me.a,{id:"finished_at",defaultMessage:"Finished at"}),dataIndex:"finished_at"}]},[]),Oe=Object(Me.useMemo)(function(){return v.map(function(L){var b=L.id,ve=L.email,Ee=L.finished_at;return{id:b,email:ve,finished_at:Ee}})},[v]);return Object(f.jsx)(O.a,{title:function(){return Object(f.jsx)(o.b,{children:Object(f.jsx)(me.a,{id:"course.finished",defaultMessage:"Finished"})})},columns:H,dataSource:Oe,size:"small",scroll:{x:500}})},q=function(W){var v=W.stats,H=Object(Me.useState)(null),Oe=Object(re.a)(H,2),L=Oe[0],b=Oe[1],ve=Object(Me.useState)(null),Ee=Object(re.a)(ve,2),Re=Ee[0],xe=Ee[1],Ie=Object(me.l)(),ye=Object(Me.useMemo)(function(){return v.flatMap(function(P){return Object.values(P.attempts).flatMap(function(Z){var he=Z.dates,$=Z.attempt,it=Object.values(he).flatMap(function(Ve){var Qe=Ve.date,Ke=Ve.seconds_total;return{date:Qe,attempt:$,seconds_total:Ke,email:P.email}});return it})})},[v]),we={xField:"date",yField:"seconds_total",seriesField:"attempt",isStack:!0,xAxis:{label:{autoHide:!0,autoRotate:!1}},slider:{start:0,end:1},label:{position:"middle",layout:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"}]}};return Object(f.jsx)(We.a,{title:Object(f.jsxs)(o.b,{children:[Object(f.jsx)(me.a,{id:"course.interactions_time_in_days"}),Object(f.jsx)(Y.a,{showSearch:!0,value:L,onChange:function(Z){b(Z),xe(null)},placeholder:Object(f.jsx)(me.a,{id:"select_person",defaultMessage:"Select a person"}),children:v.map(function(P){var Z=P.id,he=P.email;return Object(f.jsx)(Y.a.Option,{value:he,children:he},Z)})}),Object(f.jsx)(Y.a,{value:Re,onChange:function(Z){return xe(Z)},disabled:L===null,placeholder:Object(f.jsx)(me.a,{id:"select_attempt",defaultMessage:"Select attempt"}),children:Object(pe.a)(new Set(ye.filter(function(P){var Z=P.email;return Z===L}).map(function(P){var Z=P.attempt;return Z}))).map(function(P){return Object(f.jsxs)(Y.a.Option,{value:P,children:[Object(f.jsx)(me.a,{id:"attempt",defaultMessage:"Attempt"})," ",P]},P)})})]}),colSpan:12,layout:"center",children:Object(f.jsx)("div",{style:{overflow:"auto",minHeight:"400px",width:"100%"},children:Object(f.jsx)(h.a,Object(r.a)(Object(r.a)({},we),{},{tooltip:{title:"".concat(Ie.formatMessage({id:"attempt"})),formatter:function(Z){var he=Math.floor(+Z.seconds_total/60),$=+Z.seconds_total>60?+Z.seconds_total-he*60:0;return{name:Z.attempt,value:"".concat(he,"m ").concat($,"s")}}},data:ye.filter(function(P){var Z=P.email;return Z===L}).filter(function(P){var Z=P.attempt;return Number.isInteger(Re)?Z===Re:!0})}))})})}},Em2t:function($e,je,t){var i=t("bahg"),Y=t("quyA"),F=t("0JQy");function O(T){return Y(T)?F(T):i(T)}$e.exports=O},Hn4i:function($e,je,t){"use strict";var i=t("y8nQ"),Y=t("Vl3Y"),F=t("+L6B"),O=t("2/Rp"),T=t("rePB"),l=t("ODXe"),be=t("Ff2n"),r=t("x+uP"),Ae=t("HaE+"),o=t("VTBJ"),ce=t("nKUr"),Se=t.n(ce),pe=t("xvlK"),re=t("WuYN"),Me=t("VMEa"),nt=t("LQCs"),me=t("ft2k"),Ye=t("uX+g"),We=t("+i8S"),h=t("ipCM"),f=t("6cGi"),Je=t("ub+h"),Ze=t("bG1m"),Be=t("q1tI"),ct=t.n(Be),q=t("mWMg"),Q=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef"],W=["record","position","creatorButtonText","newRecordType","parentKey","style"],v=ct.a.createContext(void 0);function H(b){var ve=b.children,Ee=b.record,Re=b.position,xe=b.newRecordType,Ie=b.parentKey,ye=Object(Be.useContext)(v);return ct.a.cloneElement(ve,Object(o.a)(Object(o.a)({},ve.props),{},{onClick:function(){var we=Object(Ae.a)(Object(r.a)().mark(function Z(he){var $,it,Ve,Qe;return Object(r.a)().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,($=(it=ve.props).onClick)===null||$===void 0?void 0:$.call(it,he);case 2:if(Qe=te.sent,Qe!==!1){te.next=5;break}return te.abrupt("return");case 5:ye==null||(Ve=ye.current)===null||Ve===void 0||Ve.addEditRecord(Ee,{position:Re,newRecordType:xe,parentKey:Ie});case 6:case"end":return te.stop()}},Z)}));function P(Z){return we.apply(this,arguments)}return P}()}))}function Oe(b){var ve,Ee,Re=Object(nt.d)(),xe=b.onTableChange,Ie=b.maxLength,ye=b.formItemProps,we=b.recordCreatorProps,P=b.rowKey,Z=b.controlled,he=b.defaultValue,$=b.onChange,it=b.editableFormRef,Ve=Object(be.a)(b,Q),Qe=Object(me.a)(b.value),Ke=Object(Be.useRef)(),te=Object(Be.useRef)();Object(Be.useImperativeHandle)(Ve.actionRef,function(){return Ke.current});var jt=Object(f.a)(function(){return b.value||he||[]},{value:b.value,onChange:b.onChange}),ot=Object(l.a)(jt,2),w=ot[0],vt=ot[1],Xe=ct.a.useMemo(function(){return typeof P=="function"?P:function(Pe,ae){return Pe[P]||ae}},[P]),U=function(ae){if(typeof ae=="number"&&!b.name){if(ae>=w.length)return ae;var se=w&&w[ae];return Xe==null?void 0:Xe(se,ae)}if((typeof ae=="string"||ae>=w.length)&&b.name){var le=w.findIndex(function(fe,Te){var De;return(Xe==null||(De=Xe(fe,Te))===null||De===void 0?void 0:De.toString())===(ae==null?void 0:ae.toString())});return le}return ae};Object(Be.useImperativeHandle)(it,function(){var Pe=function(le){var fe,Te;if(le==null)throw new Error("rowIndex is required");var De=U(le),rt=[b.name,(fe=De==null?void 0:De.toString())!==null&&fe!==void 0?fe:""].flat(1).filter(Boolean);return(Te=te.current)===null||Te===void 0?void 0:Te.getFieldValue(rt)},ae=function(){var le,fe=[b.name].flat(1).filter(Boolean);if(Array.isArray(fe)&&fe.length===0){var Te,De=(Te=te.current)===null||Te===void 0?void 0:Te.getFieldsValue();return Array.isArray(De)?De:Object.keys(De).map(function(rt){return De[rt]})}return(le=te.current)===null||le===void 0?void 0:le.getFieldValue(fe)};return Object(o.a)(Object(o.a)({},te.current),{},{getRowData:Pe,getRowsData:ae,setRowData:function(le,fe){var Te,De,rt,ft;if(le==null)throw new Error("rowIndex is required");var gt=U(le),ze=[b.name,(Te=gt==null?void 0:gt.toString())!==null&&Te!==void 0?Te:""].flat(1).filter(Boolean),mt=((De=te.current)===null||De===void 0||(rt=De.getFieldsValue)===null||rt===void 0?void 0:rt.call(De))||{},Ot=Object(Ze.a)(mt,ze,Object(o.a)(Object(o.a)({},Pe(le)),fe||{}));return(ft=te.current)===null||ft===void 0?void 0:ft.setFieldsValue(Ot)}})}),Object(Be.useEffect)(function(){!b.controlled||w.forEach(function(Pe,ae){var se;(se=te.current)===null||se===void 0||se.setFieldsValue(Object(T.a)({},Xe(Pe,ae),Pe))},{})},[w,b.controlled]),Object(Be.useEffect)(function(){if(b.name){var Pe;te.current=b==null||(Pe=b.editable)===null||Pe===void 0?void 0:Pe.form}},[(ve=b.editable)===null||ve===void 0?void 0:ve.form,b.name]);var A=we||{},C=A.record,R=A.position,e=A.creatorButtonText,X=A.newRecordType,Le=A.parentKey,He=A.style,_t=Object(be.a)(A,W),ht=R==="top",dt=Object(Be.useMemo)(function(){return Ie&&Ie<=(w==null?void 0:w.length)?!1:we!==!1&&Object(ce.jsx)(H,{record:Object(Ye.a)(C,w==null?void 0:w.length,w)||{},position:R,parentKey:Object(Ye.a)(Le,w==null?void 0:w.length,w),newRecordType:X,children:Object(ce.jsx)(O.a,Object(o.a)(Object(o.a)({type:"dashed",style:Object(o.a)({display:"block",margin:"10px 0",width:"100%"},He),icon:Object(ce.jsx)(pe.a,{})},_t),{},{children:e||Re.getMessage("editableTable.action.add","\u6DFB\u52A0\u4E00\u884C\u6570\u636E")}))})},[we,Ie,w==null?void 0:w.length]),St=Object(Be.useMemo)(function(){return dt?ht?{components:{header:{wrapper:function(ae){var se,le=ae.className,fe=ae.children;return Object(ce.jsxs)("thead",{className:le,children:[fe,Object(ce.jsxs)("tr",{style:{position:"relative"},children:[Object(ce.jsx)("td",{colSpan:0,style:{visibility:"hidden"},children:dt}),Object(ce.jsx)("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(se=Ve.columns)===null||se===void 0?void 0:se.length,children:dt})]})]})}}}}:{tableViewRender:function(ae,se){var le,fe;return Object(ce.jsxs)(ce.Fragment,{children:[(le=(fe=b.tableViewRender)===null||fe===void 0?void 0:fe.call(b,ae,se))!==null&&le!==void 0?le:se,dt]})}}:{}},[ht,dt]),bt=Object(o.a)({},b.editable),Et=Object(We.a)(function(Pe,ae){var se,le,fe;if((se=b.editable)===null||se===void 0||(le=se.onValuesChange)===null||le===void 0||le.call(se,Pe,ae),(fe=b.onValuesChange)===null||fe===void 0||fe.call(b,ae,Pe),b.controlled){var Te;b==null||(Te=b.onChange)===null||Te===void 0||Te.call(b,ae)}});return((b==null?void 0:b.onValuesChange)||((Ee=b.editable)===null||Ee===void 0?void 0:Ee.onValuesChange)||b.controlled&&(b==null?void 0:b.onChange))&&(bt.onValuesChange=Et),Object(ce.jsxs)(ce.Fragment,{children:[Object(ce.jsx)(v.Provider,{value:Ke,children:Object(ce.jsx)(q.a,Object(o.a)(Object(o.a)(Object(o.a)({search:!1,options:!1,pagination:!1,rowKey:P,revalidateOnFocus:!1},Ve),St),{},{tableLayout:"fixed",actionRef:Ke,onChange:xe,editable:Object(o.a)(Object(o.a)({},bt),{},{formProps:Object(o.a)({formRef:te},bt.formProps)}),dataSource:w,onDataSourceChange:function(ae){if(vt(ae),b.name&&R==="top"){var se,le=Object(Ze.a)({},[b.name].flat(1).filter(Boolean),ae);(se=te.current)===null||se===void 0||se.setFieldsValue(le)}}}))}),b.name?Object(ce.jsx)(re.a,{name:[b.name],children:function(ae){var se,le,fe=Object(Je.a)(ae,[b.name].flat(1)),Te=fe==null?void 0:fe.find(function(De,rt){return!Object(h.a)(De,Qe==null?void 0:Qe[rt])});return Te&&Qe&&(b==null||(se=b.editable)===null||se===void 0||(le=se.onValuesChange)===null||le===void 0||le.call(se,Te,fe)),null}}):null]})}function L(b){var ve=Me.a.useFormInstance();return b.name?Object(ce.jsx)(Y.a.Item,Object(o.a)(Object(o.a)({style:{maxWidth:"100%"}},b==null?void 0:b.formItemProps),{},{name:b.name,children:Object(ce.jsx)(Oe,Object(o.a)(Object(o.a)({},b),{},{editable:Object(o.a)(Object(o.a)({},b.editable),{},{form:ve})}))})):Object(ce.jsx)(Oe,Object(o.a)({},b))}L.RecordCreator=H,je.a=L},KxBF:function($e,je){function t(i,Y,F){var O=-1,T=i.length;Y<0&&(Y=-Y>T?0:T+Y),F=F>T?T:F,F<0&&(F+=T),T=Y>F?0:F-Y>>>0,Y>>>=0;for(var l=Array(T);++O<T;)l[O]=i[O+Y];return l}$e.exports=t},LDJE:function($e,je,t){"use strict";var i=t("q1tI"),Y=t.n(i),F=t("ma/q"),O=t("ZIEt"),T=t("QpZ9"),l=t("GzfL"),be=t("Scwr"),r=function(o,ce){var Se={};for(var pe in o)Object.prototype.hasOwnProperty.call(o,pe)&&ce.indexOf(pe)<0&&(Se[pe]=o[pe]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var re=0,pe=Object.getOwnPropertySymbols(o);re<pe.length;re++)ce.indexOf(pe[re])<0&&Object.prototype.propertyIsEnumerable.call(o,pe[re])&&(Se[pe[re]]=o[pe[re]]);return Se},Ae=Object(i.forwardRef)(function(o,ce){var Se=o.chartRef,pe=o.style,re=pe===void 0?{height:"inherit"}:pe,Me=o.className,nt=o.loading,me=o.loadingTemplate,Ye=o.errorTemplate,We=r(o,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),h=Object(O.a)(F.a,We),f=h.chart,Je=h.container;return Object(i.useEffect)(function(){Object(T.a)(Se,f.current)},[f.current]),Object(i.useImperativeHandle)(ce,function(){return{getChart:function(){return f.current}}}),Y.a.createElement(l.a,{errorTemplate:Ye},nt&&Y.a.createElement(be.a,{loadingTemplate:me,theme:o.theme}),Y.a.createElement("div",{className:Me,style:re,ref:Je}))});je.a=Ae},bahg:function($e,je){function t(i){return i.split("")}$e.exports=t},olry:function($e,je,t){"use strict";t.r(je);var i=t("k1fw"),Y=t("+L6B"),F=t("2/Rp"),O=t("T2oS"),T=t("W9HT"),l=t("q1tI"),be=t("nhC9"),r=t("9kvl"),Ae=t("55Ip"),o=t("Ty5D"),ce=t("tMyG"),Se=t("my69"),pe=t("huej"),re=t("mJ0o"),Me=t("EhlZ"),nt=t("P2fV"),me=t("NJEC"),Ye=t("5Dmo"),We=t("3S7+"),h=t("qLMh"),f=t("9og8"),Je=t("sWYD"),Ze=t("G3dp"),Be=t("lbgm"),ct=t("/MfK"),q=t("Qiat"),Q=t("mGZj");function W(d,c){return v.apply(this,arguments)}function v(){return v=Object(f.a)(Object(h.a)().mark(function d(c,n){return Object(h.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r.i)("/api/admin/exams",Object(i.a)({method:"GET",useCache:!1,params:c},n||{})));case 1:case"end":return a.stop()}},d)})),v.apply(this,arguments)}function H(d,c){return Oe.apply(this,arguments)}function Oe(){return Oe=Object(f.a)(Object(h.a)().mark(function d(c,n){return Object(h.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r.i)("/api/admin/exams",Object(i.a)({method:"POST",headers:{"Content-Type":"application/json"},data:c},n||{})));case 1:case"end":return a.stop()}},d)})),Oe.apply(this,arguments)}function L(d,c,n){return b.apply(this,arguments)}function b(){return b=Object(f.a)(Object(h.a)().mark(function d(c,n,s){return Object(h.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(r.i)("/api/admin/exams/".concat(c),Object(i.a)({method:"PUT",data:n,useCache:!1},s||{})));case 1:case"end":return u.stop()}},d)})),b.apply(this,arguments)}function ve(d,c){return Ee.apply(this,arguments)}function Ee(){return Ee=Object(f.a)(Object(h.a)().mark(function d(c,n){return Object(h.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r.i)("/api/admin/exams/".concat(c),Object(i.a)({method:"GET",useCache:!1},n||{})));case 1:case"end":return a.stop()}},d)})),Ee.apply(this,arguments)}function Re(d,c){return xe.apply(this,arguments)}function xe(){return xe=Object(f.a)(Object(h.a)().mark(function d(c,n){return Object(h.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r.i)("/api/admin/exams/".concat(c),Object(i.a)({method:"DELETE"},n||{})));case 1:case"end":return a.stop()}},d)})),xe.apply(this,arguments)}function Ie(d,c,n,s){return ye.apply(this,arguments)}function ye(){return ye=Object(f.a)(Object(h.a)().mark(function d(c,n,s,a){return Object(h.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(r.i)("/api/admin/exams/".concat(c,"/users/").concat(n),Object(i.a)({method:"POST",headers:{"Content-Type":"application/json"},data:s},a||{})));case 1:case"end":return j.stop()}},d)})),ye.apply(this,arguments)}function we(d,c,n){return P.apply(this,arguments)}function P(){return P=Object(f.a)(Object(h.a)().mark(function d(c,n,s){return Object(h.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(r.i)("/api/admin/exams/".concat(c,"/users/").concat(n),Object(i.a)({method:"DELETE"},s||{})));case 1:case"end":return u.stop()}},d)})),P.apply(this,arguments)}var Z=t("giR+"),he=t("fyUT"),$=t("tJVT"),it=t("14J3"),Ve=t("BMrR"),Qe=t("jCWc"),Ke=t("kPKH"),te=t("VMEa"),jt=t("Qurx"),ot=t("lR9U"),w=t("/y+f"),vt=t("2qtc"),Xe=t("kLXV"),U=t("OaEy"),A=t("2fM7"),C=t("oBTY"),R=t("DBJ/"),e=t("nKUr"),X=[w.b.TeamsLecture,w.b.TestPortal,w.b.TeamsForms];function Le(d){var c=d.showSelectAll,n=c===void 0?!0:c,s=d.options,a=s===void 0?[]:s,u=d.value,j=d.onChange,m=Object(l.useCallback)(function(){j==null||j(a.map(function(p){return p.value}),a)},[j,a]),g=Object(l.useCallback)(function(){j==null||j([],[])},[j]),_=Object(l.useMemo)(function(){return n?[{label:u!=null&&u.length?Object(e.jsx)(F.a,{type:"link",onClick:g,children:Object(e.jsx)(r.a,{id:"deselect_all"})}):Object(e.jsx)(F.a,{type:"link",onClick:m,children:Object(e.jsx)(r.a,{id:"select_all"})}),options:a}]:a},[m,g,a,n,u==null?void 0:u.length]);return{options:_,value:u,onChange:j}}var He=function(c){var n=c.open,s=c.closeModal,a=c.onSuccess,u=c.type,j=Object(re.b)(),m=j.teacherSubjectData,g=j.semester_subject_id,_=j.groupUsers,p=j.getGroupUsers,y=Object(l.useState)(),S=Object($.a)(y,2),I=S[0],E=S[1],K=Object(l.useState)([]),D=Object($.a)(K,2),B=D[0],_e=D[1],x={type:u,semester_subject_id:g},J=Object(l.useCallback)(function(G){G.success&&E(G.data.results)},[]),N=Object(l.useMemo)(function(){var G;return((G=m==null?void 0:m.groups)!==null&&G!==void 0?G:[]).map(function(ge){var Ce=ge.id,ne=ge.name;return{label:ne,value:Ce}})},[]),V=Object(l.useCallback)(function(G){_e(G);var ge=G.reduce(function(Ce,ne){var ee,de=(ee=_.byId)===null||ee===void 0?void 0:ee[ne];if(!de)return Ce;var z=de.users.map(function(k){var Fe=k.id,M=k.email,oe=k.first_name,ue=k.last_name;return{email:M,first_name:oe,last_name:ue,user_id:Fe,result:0}});return[].concat(Object(C.a)(Ce),Object(C.a)(z))},[]);E(ge!=null&&ge.length?ge:void 0)},[_.byId]),ie=Le({options:N,onChange:V,value:B});return Object(l.useEffect)(function(){if(u===w.b.Manual&&n){var G;m==null||(G=m.groups)===null||G===void 0||G.forEach(function(ge){var Ce=ge.id;return p(Ce)})}},[u,n]),Object(e.jsxs)(Xe.a,{title:Object(e.jsx)(r.a,{id:"TeacherSubjects.Exams.".concat(u,"Convert")}),width:"40vw",open:n,onCancel:s,onOk:function(){I&&a(I)},okButtonProps:{disabled:!I},children:[X.includes(u)&&Object(e.jsx)(R.a,{name:"file",url:"/api/admin/exams/parse",onUpload:J,onChange:function(ge){return!ge.fileList.length&&E(void 0)},maxFiles:1,data:x,hideLabel:!0}),u===w.b.Manual&&Object(e.jsx)(A.a,Object(i.a)(Object(i.a)({},ie),{},{placeholder:Object(e.jsx)(r.a,{id:"select_groups"}),mode:"multiple",style:{width:"100%"}}))]})},_t=function(c){var n=c.onSelect;return Object(e.jsxs)(Ve.a,{gutter:[16,16],children:[Object(e.jsx)(Ke.a,{span:12,children:Object(e.jsx)(F.a,{type:"primary",onClick:function(){return n(w.b.TeamsForms)},children:Object(e.jsx)(r.a,{id:"uploadFile.MsTeamsForms",defaultMessage:"uploadFile.MsTeamsForms"})})}),Object(e.jsx)(Ke.a,{span:12,children:Object(e.jsx)(F.a,{type:"primary",onClick:function(){return n(w.b.TestPortal)},children:Object(e.jsx)(r.a,{id:"uploadFile.TestPortal",defaultMessage:"uploadFile.TestPortal"})})}),Object(e.jsx)(Ke.a,{span:12,children:Object(e.jsx)(F.a,{type:"primary",onClick:function(){return n(w.b.TeamsLecture)},children:Object(e.jsx)(r.a,{id:"uploadFile.MsTeams",defaultMessage:"uploadFile.MsTeams"})})}),Object(e.jsx)(Ke.a,{span:12,children:Object(e.jsx)(F.a,{type:"primary",onClick:function(){return n(w.b.Manual)},children:Object(e.jsx)(r.a,{id:"uploadGradesManually",defaultMessage:"uploadGradesManually"})})})]})},ht=[{title:Object(e.jsx)(r.a,{id:"first_name"}),dataIndex:"first_name",editable:!1},{title:Object(e.jsx)(r.a,{id:"last_name"}),dataIndex:"last_name",editable:!1},{title:Object(e.jsx)(r.a,{id:"examResult"}),dataIndex:"result",valueType:"percent",formItemProps:{rules:[{required:!0,message:Object(e.jsx)(r.a,{id:"field_required"})},{type:"number",min:0,max:100,message:Object(e.jsx)(r.a,{id:"number_between",values:{min:0,max:100}})}]}}],dt=function(c){var n=c.exam_id,s=te.a.useForm(),a=Object($.a)(s,1),u=a[0],j=Object(l.useState)(),m=Object($.a)(j,2),g=m[0],_=m[1],p=Object(l.useState)(),y=Object($.a)(p,2),S=y[0],I=y[1],E=Object(l.useState)(!1),K=Object($.a)(E,2),D=K[0],B=K[1],_e=Object(re.b)(),x=_e.semester_subject_id,J=Object(l.useMemo)(function(){return(S!=null?S:[]).map(function(V){var ie=V.user_id;return ie})},[S]);Object(l.useEffect)(function(){var V=Number(n);n==="new"&&(_(void 0),I(void 0),u.resetFields()),n!=="new"&&!Number.isNaN(V)&&(B(!0),ve(V).then(function(ie){if(ie.success){var G=ie.data,ge=G.type,Ce=G.results,ne=G.title,ee=G.weight,de=G.passed_at;_(ge),I(Ce),u.setFieldsValue({title:ne,weight:ee,passed_at:de})}}).finally(function(){return B(!1)}))},[n]);var N=Object(l.useCallback)(function(){_(void 0),I(void 0)},[]);return D?Object(e.jsx)(T.a,{}):Object(e.jsxs)(e.Fragment,{children:[g&&Object(e.jsx)(He,{open:Boolean(g&&!S),type:g,closeModal:N,onSuccess:I}),Object(e.jsxs)(te.a,{form:u,submitter:g===void 0||!S?!1:void 0,onFinish:function(){var V=Object(f.a)(Object(h.a)().mark(function ie(G){var ge,Ce,ne,ee,de,z,k;return Object(h.a)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:if(ge=S==null?void 0:S.every(function(oe){var ue=oe.result;return typeof ue=="number"&&ue>=0&&ue<=100}),!(ge&&typeof x=="number")){M.next=16;break}if(Ce=G.title,ne=G.passed_at,ee=G.weight,de=Number(n),z={type:g,semester_subject_id:x,title:Ce,passed_at:ne,weight:ee,results:S},!Number.isNaN(de)){M.next=11;break}return M.next=8,H(z);case 8:M.t0=M.sent,M.next=14;break;case 11:return M.next=13,L(de,z);case 13:M.t0=M.sent;case 14:k=M.t0,k.success&&r.f.push("/teacher/subjects/".concat(x,"/exams"));case 16:return M.abrupt("return",!0);case 17:case"end":return M.stop()}},ie)}));return function(ie){return V.apply(this,arguments)}}(),onReset:N,children:[Object(e.jsxs)(te.a.Group,{children:[Object(e.jsx)(jt.a,{label:Object(e.jsx)(r.a,{id:"examTitle",defaultMessage:"examTitle"}),rules:[{required:!0,message:Object(e.jsx)(r.a,{id:"field_required"})}],width:"lg",name:"title"}),Object(e.jsx)(ot.a,{label:Object(e.jsx)(r.a,{id:"datePassingExam",defaultMessage:"datePassingExam"}),rules:[{required:!0,message:Object(e.jsx)(r.a,{id:"field_required"})}],width:"lg",name:"passed_at"}),Object(e.jsx)(te.a.Item,{name:"weight",label:Object(e.jsx)(r.a,{id:"examImportance",defaultMessage:"examImportance"}),rules:[{required:!0,message:Object(e.jsx)(r.a,{id:"field_required"})},{type:"number",min:1,max:100,message:Object(e.jsx)(r.a,{id:"number_between",values:{min:1,max:100}})}],children:Object(e.jsx)(he.a,{})})]}),g&&S&&Object(e.jsx)(q.a,{rowKey:"user_id",editable:{type:"single",editableKeys:J,onValuesChange:function(ie,G){return I(G)}},cardProps:{bodyStyle:{paddingInline:0}},search:!1,dataSource:S,columns:ht}),!S&&Object(e.jsx)(_t,{onSelect:_})]})]})},St=[{title:Object(e.jsx)(r.a,{id:"first_name"}),dataIndex:"first_name"},{title:Object(e.jsx)(r.a,{id:"last_name"}),dataIndex:"last_name"},{title:Object(e.jsx)(r.a,{id:"examResult"}),dataIndex:"result",hideInSearch:!0}],bt=function(c){var n=c.exam_id;return Object(e.jsx)(q.a,{rowKey:"user_id",search:!1,headerTitle:Object(e.jsx)(r.a,{id:"examResults"}),request:Object(f.a)(Object(h.a)().mark(function s(){var a;return Object(h.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,ve(n);case 2:if(a=j.sent,!a.success){j.next=5;break}return j.abrupt("return",{total:a.data.results.length,success:!0,data:a.data.results});case 5:return j.abrupt("return",[]);case 6:case"end":return j.stop()}},s)})),columns:St})},Et=[{title:Object(e.jsx)(r.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",sorter:!0},{title:Object(e.jsx)(r.a,{id:"title",defaultMessage:"title"}),dataIndex:"title",hideInSearch:!0,sorter:!0},{title:Object(e.jsx)(r.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",sorter:!0,render:function(c,n){return Object(e.jsx)(r.a,{id:"ExamGradeType.".concat(n.type)})}},{title:Object(e.jsx)(r.a,{id:"TeacherSubjects.Exams.exam_date",defaultMessage:"Exam date"}),dataIndex:"passed_at",sorter:!0,render:function(c,n){return n.passed_at&&Object(Je.a)(new Date(n.passed_at),Q.c)}},{title:Object(e.jsx)(r.a,{id:"TeacherSubjects.Exams.grade_weight",defaultMessage:"Weight"}),dataIndex:"weight",sorter:!0,render:function(c,n){return n.weight+"%"}},{title:Object(e.jsx)(r.a,{id:"created_at",defaultMessage:"Created at"}),dataIndex:"created_at",sorter:!0,render:function(c,n){return n.created_at&&Object(Je.a)(new Date(n.created_at),Q.c)}},{title:Object(e.jsx)(r.a,{id:"semester",defaultMessage:"Semester"}),dataIndex:"semester",sorter:!0,render:function(c,n){return Object(e.jsx)(r.a,{id:"SemesterType.".concat(n.semester.type),values:{year:n.semester.year}})}}],Pe=function(){var c,n,s=Object(l.useRef)(),a=Object(re.b)(),u=a.semester_subject_id,j=Object(o.k)(),m=Object(l.useMemo)(function(){var p,y,S;return{exam_id:(p=(y=j.query)===null||y===void 0?void 0:y.exam_id)!==null&&p!==void 0?p:null,results:(S=j.query)===null||S===void 0?void 0:S.results}},[(c=j.query)===null||c===void 0?void 0:c.exam_id,(n=j.query)===null||n===void 0?void 0:n.results]),g=m.exam_id,_=m.results;return _!==null&&!Number.isNaN(Number(_))?Object(e.jsx)(bt,{exam_id:Number(_)}):g!==null?Object(e.jsx)(dt,{exam_id:g}):Object(e.jsx)(q.a,{headerTitle:Object(e.jsx)(r.a,{id:"exams"}),actionRef:s,search:!1,rowKey:"id",request:function(){var p=Object(f.a)(Object(h.a)().mark(function y(S,I){var E,K,D,B;return Object(h.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(E=S.current,K=S.pageSize,u!==null){x.next=3;break}return x.abrupt("return",{data:[],total:0,success:!1});case 3:return D=I&&Object.entries(I)[0],x.next=6,W({per_page:K,page:E,semester_subject_id:Number.isNaN(u)?void 0:u,order_by:D&&D[0],order:D&&(D[1]==="ascend"?"ASC":"DESC")});case 6:if(B=x.sent,!B.success){x.next=9;break}return x.abrupt("return",{data:B.data,total:B.meta.total,success:!0});case 9:return x.abrupt("return",{data:[],total:0,success:!1});case 10:case"end":return x.stop()}},y)}));return function(y,S){return p.apply(this,arguments)}}(),columns:[].concat(Et,[{title:Object(e.jsx)(r.a,{id:"pages.searchTable.titleOption"}),dataIndex:"option",valueType:"option",render:function(y,S){return[Object(e.jsx)(Ae.a,{to:"/teacher/subjects/".concat(S.semester_subject_id,"/exams?exam_id=").concat(S.id),children:Object(e.jsx)(We.a,{title:Object(e.jsx)(r.a,{id:"edit",defaultMessage:"edit"}),children:Object(e.jsx)(F.a,{type:"primary",icon:Object(e.jsx)(Ze.a,{})})})},"edit"),Object(e.jsx)(Ae.a,{to:"/teacher/subjects/".concat(S.semester_subject_id,"/exams?results=").concat(S.id),children:Object(e.jsx)(We.a,{title:Object(e.jsx)(r.a,{id:"TeacherSubjects.Exams.results",defaultMessage:"results"}),children:Object(e.jsx)(F.a,{icon:Object(e.jsx)(Be.a,{})})})},"results"),Object(e.jsx)(me.a,{title:Object(e.jsx)(r.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(f.a)(Object(h.a)().mark(function I(){var E;return Object(h.a)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,Re(S.id);case 2:E=D.sent,E.success&&s.current&&s.current.reload();case 4:case"end":return D.stop()}},I)})),okText:Object(e.jsx)(r.a,{id:"yes"}),cancelText:Object(e.jsx)(r.a,{id:"no"}),children:Object(e.jsx)(We.a,{title:Object(e.jsx)(r.a,{id:"delete",defaultMessage:"delete"}),children:Object(e.jsx)(F.a,{type:"primary",icon:Object(e.jsx)(ct.a,{}),danger:!0})})},"delete")]}}])})},ae=t("4KAj"),se=t("o0Ox"),le=[{title:Object(e.jsx)(r.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"user_id",hideInSearch:!0},{title:Object(e.jsx)(r.a,{id:"first_name",defaultMessage:"First name"}),dataIndex:"first_name"},{title:Object(e.jsx)(r.a,{id:"last_name",defaultMessage:"Last name"}),dataIndex:"last_name"},{title:Object(e.jsx)(r.a,{id:"email",defaultMessage:"email"}),dataIndex:"email"},{title:Object(e.jsx)(r.a,{id:"groupName",defaultMessage:"Group name"}),dataIndex:"group_name",hideInSearch:!0}],fe=function(c){return c.map(function(n){var s=n.id,a=n.name;return{label:a,value:s}})},Te=function(c){return c.reduce(function(n,s){var a,u=s==null||(a=s.users)===null||a===void 0?void 0:a.map(function(j){return{group_id:s.id,group_name:s.name,user_id:j.id,first_name:j.first_name,last_name:j.last_name,email:j.email}});return[].concat(Object(C.a)(n),Object(C.a)(u))},[])},De=function(){var c=Object(re.b)(),n=c.teacherSubjectData,s=Object(l.useMemo)(function(){var a;return fe((a=n==null?void 0:n.groups)!==null&&a!==void 0?a:[])},[n==null?void 0:n.groups]);return Object(e.jsx)(q.a,{rowKey:function(u){return"".concat(u.group_id,"-").concat(u.user_id)},search:{layout:"vertical"},request:function(){var a=Object(f.a)(Object(h.a)().mark(function u(j){var m,g,_,p,y,S,I,E,K;return Object(h.a)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return m=j.groups,g=j.first_name,_=g===void 0?"":g,p=j.last_name,y=p===void 0?"":p,S=j.email,I=S===void 0?"":S,B.next=3,Object(se.a)({parent_id:n==null?void 0:n.group_id,"id[]":m});case 3:if(E=B.sent,E.success){B.next=6;break}return B.abrupt("return",{data:[],total:0,success:!1});case 6:return K=Te(E.data).filter(function(_e){return _e.first_name.toLowerCase().includes(_.toLowerCase())&&_e.last_name.toLowerCase().includes(y.toLowerCase())&&_e.email.toLowerCase().includes(I.toLowerCase())}),B.abrupt("return",{data:K,total:K.length,success:!0});case 8:case"end":return B.stop()}},u)}));return function(u){return a.apply(this,arguments)}}(),columns:[{title:Object(e.jsx)(r.a,{id:"groups",defaultMessage:"Groups"}),dataIndex:"groups",hideInTable:!0,filterMultiple:!0,valueType:"select",fieldProps:{options:s,mode:"multiple"}}].concat(le,[{hideInSearch:!0,title:Object(e.jsx)(r.a,{id:"msTeams"}),dataIndex:"teamsLink",valueType:"option",render:function(){return[Object(e.jsx)(Ae.a,{to:"#",children:Object(e.jsx)(We.a,{title:Object(e.jsx)(r.a,{id:"msTeams",defaultMessage:"teams"}),children:Object(e.jsx)(F.a,{type:"primary",icon:Object(e.jsx)(ae.a,{})})})},"teamsLink")]}}])})},rt=t("DYRE"),ft=t("zeV3"),gt=t("tU7J"),ze=t("wFql"),mt=t("jrin");function Ot(d,c){return yt.apply(this,arguments)}function yt(){return yt=Object(f.a)(Object(h.a)().mark(function d(c,n){return Object(h.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r.i)("/api/admin/schedules/groups/".concat(c),Object(i.a)({method:"GET",useCache:!1},n||{})));case 1:case"end":return a.stop()}},d)})),yt.apply(this,arguments)}function Kt(d,c,n,s){return Tt.apply(this,arguments)}function Tt(){return Tt=Object(f.a)(Object(h.a)().mark(function d(c,n,s,a){return Object(h.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(r.i)("/api/admin/schedules/".concat(c,"/attendances"),Object(i.a)({data:{attendances:[{user_id:n,value:s}]},method:"POST"},a||{})));case 1:case"end":return j.stop()}},d)})),Tt.apply(this,arguments)}var Ia=t("sRBo"),Bt=t("kaz8"),Ht=function(c){var n=c.currentData,s=c.recordData,a=c.groupId,u=c.onSuccess,j=Object(l.useState)(!1),m=Object($.a)(j,2),g=m[0],_=m[1],p=function(){_(!0),Kt(n.id,s.id,(s==null?void 0:s[String(n.date_from)])===w.a.PRESENT?w.a.ABSENT:w.a.PRESENT).then(function(S){S.success&&Ot(Number(a)).then(function(I){I.success&&(u(I.data),_(!1))})})};return g?Object(e.jsx)(T.a,{size:"small"}):Object(e.jsx)(Bt.a,{checked:(s==null?void 0:s[String(n.date_from)])===w.a.PRESENT,onChange:function(){return p()}})},Jt=Ht,zt=function(){var c,n,s,a,u,j=Object(re.b)(),m=j.teacherSubjectData,g=Object(l.useRef)(),_=Object(r.l)(),p=Object(l.useState)(!1),y=Object($.a)(p,2),S=y[0],I=y[1],E=Object(l.useState)(),K=Object($.a)(E,2),D=K[0],B=K[1],_e=Object(l.useState)(),x=Object($.a)(_e,2),J=x[0],N=x[1],V=Object(l.useState)({id:(c=m==null||(n=m.groups)===null||n===void 0?void 0:n[0].id)!==null&&c!==void 0?c:null,name:m==null||(s=m.groups)===null||s===void 0?void 0:s[0].name}),ie=Object($.a)(V,2),G=ie[0],ge=ie[1],Ce=Object(l.useMemo)(function(){var z;return((z=J==null?void 0:J.users)!==null&&z!==void 0?z:[]).reduce(function(k,Fe){var M={id:Fe.id,first_name:Fe.first_name,last_name:Fe.last_name,academic_teacher_id:Fe.academic_teacher_id},oe=(D!=null?D:[]).reduce(function(ue,Ge){var Ue=Ge.attendances.find(function(ke){return ke.user_id===Fe.id});return Object(i.a)(Object(i.a)({},ue),{},Object(mt.a)({},String(Ge.date_from),Ue==null?void 0:Ue.value))},{});return M.academic_teacher_id?Object(C.a)(k):[].concat(Object(C.a)(k),[Object(i.a)(Object(i.a)({},M),oe)])},[])},[J,D]),ne=Object(l.useMemo)(function(){var z=(D!=null?D:[]).reduce(function(k,Fe){return[].concat(Object(C.a)(k),[{title:String(Object(Je.a)(new Date(Fe.date_from),Q.c)),dataIndex:String(Fe.date_from),hideInSearch:!0,width:100,align:"center",render:function(oe,ue){return Object(e.jsx)(Jt,{currentData:Fe,recordData:ue,onSuccess:function(Ue){return B(Ue)},groupId:G.id})}}])},[]);return console.log({columns:ne}),I(!1),[{title:Object(e.jsx)(r.a,{id:"nameAndSurname",defaultMessage:"Name and surname"}),hideInSearch:!0,fixed:"left",render:function(Fe,M){return"".concat(M.first_name," ").concat(M.last_name)}}].concat(Object(C.a)(z))},[D]),ee=function(k){var Fe,M=m==null||(Fe=m.groups)===null||Fe===void 0?void 0:Fe.find(function(oe){return oe.id===k});return M?M==null?void 0:M.name:""},de=function(k){I(!0),ge({id:k,name:ee(k)})};return Object(l.useEffect)(function(){G.id&&(Ot(G.id).then(function(z){z.success&&B(z.data)}),Object(se.b)(G.id).then(function(z){z.success&&N(z.data)}))},[G]),console.log({studentAttendanceList:Ce}),Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(be.a,{children:Object(e.jsxs)(ft.b,{children:[Object(e.jsx)(ze.a.Title,{level:5,children:Object(e.jsx)(r.a,{id:"select_user_group",defaultMessage:"Select group"})}),Object(e.jsx)(A.a,{style:{minWidth:"400px"},onChange:de,defaultValue:m==null||(a=m.groups)===null||a===void 0?void 0:a[0].id,children:m==null||(u=m.groups)===null||u===void 0?void 0:u.map(function(z){return Object(e.jsx)(A.a.Option,{value:z.id,children:z.name},z.id)})})]})}),ne.length===1?Object(e.jsx)(r.a,{id:"noAttendanceSchedule",defaultMessage:"No attendance schedule for this group..."}):Object(e.jsx)(q.a,{headerTitle:"".concat(_.formatMessage({id:"attendances",defaultMessage:"Attendances"})," (").concat(G.name,")"),actionRef:g,rowKey:"group_id",search:!1,loading:S,dataSource:Ce!=null?Ce:[],scroll:{x:1500},columns:Object(C.a)(ne)})]})},Yt=zt,La=t("/zsF"),Ct=t("PArb"),Zt=t("Hn4i"),Qt=t("bRQS");function Nt(d,c,n){return Mt.apply(this,arguments)}function Mt(){return Mt=Object(f.a)(Object(h.a)().mark(function d(c,n,s){return Object(h.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(r.i)("/api/admin/semester-subjects/".concat(c,"/tutors/").concat(n,"/grades"),Object(i.a)({method:"GET",useCache:!1},s||{})));case 1:case"end":return u.stop()}},d)})),Mt.apply(this,arguments)}function Xt(d,c,n,s){return Pt.apply(this,arguments)}function Pt(){return Pt=Object(f.a)(Object(h.a)().mark(function d(c,n,s,a){return Object(h.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(r.i)("/api/admin/semester-subjects/".concat(c,"/tutors/").concat(n,"/grades"),Object(i.a)({method:"POST",data:s},a||{})));case 1:case"end":return j.stop()}},d)})),Pt.apply(this,arguments)}function kt(d,c){return Dt.apply(this,arguments)}function Dt(){return Dt=Object(f.a)(Object(h.a)().mark(function d(c,n){return Object(h.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r.i)("/api/admin/lesson-group-users",Object(i.a)({method:"GET",params:{"groups[]":c},useCache:!1},n||{})));case 1:case"end":return a.stop()}},d)})),Dt.apply(this,arguments)}function qt(d,c,n){return At.apply(this,arguments)}function At(){return At=Object(f.a)(Object(h.a)().mark(function d(c,n,s){return Object(h.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(r.i)("/api/admin/lesson-group-users/groups/".concat(c,"/users/").concat(n),Object(i.a)({method:"GET",useCache:!1},s||{})));case 1:case"end":return u.stop()}},d)})),At.apply(this,arguments)}function ea(d){return Rt.apply(this,arguments)}function Rt(){return Rt=Object(f.a)(Object(h.a)().mark(function d(c){return Object(h.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(r.i)("/api/admin/grade-terms",Object(i.a)({method:"GET",useCache:!1},c||{})));case 1:case"end":return s.stop()}},d)})),Rt.apply(this,arguments)}function ta(d,c){return It.apply(this,arguments)}function It(){return It=Object(f.a)(Object(h.a)().mark(function d(c,n){return Object(h.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r.i)("/api/admin/grade-scales/".concat(c),Object(i.a)({method:"GET",useCache:!1},n||{})));case 1:case"end":return a.stop()}},d)})),It.apply(this,arguments)}function aa(d,c){return Lt.apply(this,arguments)}function Lt(){return Lt=Object(f.a)(Object(h.a)().mark(function d(c,n){return Object(h.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r.i)("/api/admin/final-grades",Object(i.a)({method:"POST",data:c},n||{})));case 1:case"end":return a.stop()}},d)})),Lt.apply(this,arguments)}function na(d,c,n){return Gt.apply(this,arguments)}function Gt(){return Gt=Object(f.a)(Object(h.a)().mark(function d(c,n,s){return Object(h.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(r.i)("/api/admin/final-grades/".concat(c),Object(i.a)({method:"PATCH",data:n},s||{})));case 1:case"end":return u.stop()}},d)})),Gt.apply(this,arguments)}var ra=[{title:Object(e.jsx)(r.a,{id:"grade"}),dataIndex:"grade",editable:!1},{title:Object(e.jsx)(r.a,{id:"degree"}),dataIndex:"name",editable:!1},{title:Object(e.jsx)(r.a,{id:"min_percent"}),dataIndex:"grade_value",valueType:"percent",formItemProps:{rules:[{required:!0,message:Object(e.jsx)(r.a,{id:"field_required"})},{type:"number",min:0,max:100,message:Object(e.jsx)(r.a,{id:"number_between",values:{min:0,max:100}})}]}}],sa=function(){var c,n,s=Object(r.m)("@@initialState"),a=s.initialState,u=Object(re.b)(),j=u.semester_subject_id,m=u.tutors,g=te.a.useForm(),_=Object($.a)(g,1),p=_[0],y=Object(l.useState)([]),S=Object($.a)(y,2),I=S[0],E=S[1],K=Object(l.useRef)(),D=Object(l.useState)(!1),B=Object($.a)(D,2),_e=B[0],x=B[1],J=Object(l.useState)(null),N=Object($.a)(J,2),V=N[0],ie=N[1],G=Object(l.useMemo)(function(){return!!m.data.find(function(ne){var ee,de=ne.id;return de===(a==null||(ee=a.currentUser)===null||ee===void 0?void 0:ee.id)})},[m.data,a==null||(c=a.currentUser)===null||c===void 0?void 0:c.id]),ge=Object(l.useMemo)(function(){return m.data.map(function(ne){var ee=ne.id,de=ne.first_name,z=ne.last_name;return{label:"".concat(de," ").concat(z),value:ee}})},[m.data]);Object(l.useEffect)(function(){var ne,ee;if(!G||!(a!=null&&(ne=a.currentUser)!==null&&ne!==void 0&&ne.id)){var de;if((de=m.data)!==null&&de!==void 0&&de[0]){var z;ie((z=m.data)===null||z===void 0?void 0:z[0].id)}return}ie(a==null||(ee=a.currentUser)===null||ee===void 0?void 0:ee.id)},[a==null||(n=a.currentUser)===null||n===void 0?void 0:n.id,G]),Object(l.useEffect)(function(){j===null||V===null||(x(!0),Nt(j,V).then(function(ne){if(ne.success){var ee,de=((ee=ne.data.grade_scale)!==null&&ee!==void 0?ee:[]).map(function(z,k){return Object(i.a)(Object(i.a)({},z),{},{id:String((k+1)*100)})});p.setFieldValue("table",de)}}).finally(function(){x(!1)}))},[j,V]);var Ce=Object(l.useCallback)(function(){var ne=Object(f.a)(Object(h.a)().mark(function ee(de){return Object(h.a)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:if(!(j===null||V===null)){k.next=2;break}return k.abrupt("return");case 2:return k.next=4,Xt(j,V,{grade_scale:de.table});case 4:case"end":return k.stop()}},ee)}));return function(ee){return ne.apply(this,arguments)}}(),[V,j]);return m.loading?Object(e.jsx)(T.a,{}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(te.a.Item,{label:Object(e.jsx)(r.a,{id:"menu.Teacher"}),children:Object(e.jsx)(A.a,{disabled:G,placeholder:Object(e.jsx)(r.a,{id:"select"}),options:ge,value:V,onChange:function(ee){return ie(ee)}})}),Object(e.jsx)(Ct.a,{}),Object(e.jsx)(te.a,{form:p,onFinish:Ce,submitter:{render:function(ee,de){var z=Object($.a)(de,2),k=z[1];return[k]}},children:Object(e.jsx)(Zt.a,{name:"table",rowKey:"id",actionRef:K,formItemProps:{label:Object(e.jsx)(r.a,{id:"grades-scale"})},cardProps:{bodyStyle:{padding:0}},recordCreatorProps:!1,loading:_e,columns:[].concat(ra,[{title:Object(e.jsx)(r.a,{id:"options"}),valueType:"option",render:function(ee,de){return Object(e.jsx)(F.a,{type:"primary",onClick:function(){var k;return(k=K.current)===null||k===void 0?void 0:k.startEditable(de.id)},icon:Object(e.jsx)(Ze.a,{})})}}]),editable:{form:p,type:"multiple",editableKeys:I,saveText:Object(e.jsx)(F.a,{type:"primary",icon:Object(e.jsx)(Qt.a,{})}),onChange:E,actionRender:function(ee,de,z){return[z.save]}}})})]})},Ga=t("qbNl"),ca=t("JBPa"),Ua=t("Awhp"),ia=t("KrTs"),ua=t("wd/R"),tt=t.n(ua),Fa=t("5R/X");function la(d,c){return Ut.apply(this,arguments)}function Ut(){return Ut=Object(f.a)(Object(h.a)().mark(function d(c,n){return Object(h.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r.i)("/api/admin/schedules",Object(i.a)({params:c,method:"GET",useCache:!1},n||{})));case 1:case"end":return a.stop()}},d)})),Ut.apply(this,arguments)}var da=function(){var c=Object(l.useState)(null),n=Object($.a)(c,2),s=n[0],a=n[1],u=Object(l.useState)([]),j=Object($.a)(u,2),m=j[0],g=j[1],_=Object(re.b)(),p=_.semester_subject_id,y=tt()(),S=Object(l.useMemo)(function(){return m.map(function(x){return{id:x.id,title:"".concat(x.group.name," (").concat(x.term_status.name,")"),start:tt()(x.date_from).toDate(),end:tt()(x.date_to).toDate(),tutor_name:"".concat(x.tutor.first_name," ").concat(x.tutor.last_name),tutor_email:x.tutor.email,semester:x.semester.name,group:x.group.name,subject:x.subject.name}})},[m]),I=Object(l.useCallback)(function(x,J){la({semester_subject_id:p,date_form:x.toDate(),date_to:J.toDate()}).then(function(N){N.success&&g(N.data)})},[p]),E=Object(l.useCallback)(function(x){a(x)},[]),K=Object(l.useCallback)(function(){a(null)},[]),D=Object(l.useCallback)(function(x){return x.isSame(y,"day")?"warning":x.isAfter(y,"day")?"success":"error"},[]),B=Object(l.useCallback)(function(x){var J=S.filter(function(N){return tt()(N.start).isSame(x,"day")});return Object(e.jsx)("ul",{className:"events",children:J.map(function(N){return Object(e.jsx)("li",{onClick:function(){return E(N)},children:Object(e.jsx)(ia.a,{status:D(tt()(N.start)),text:N.title})},N.id)})})},[m]),_e=Object(l.useCallback)(function(x,J){var N=tt()(x).startOf(J).subtract(1,"month"),V=tt()(x).endOf(J).add(1,"month");I(N,V)},[]);return Object(l.useEffect)(function(){var x=tt()().startOf("month"),J=tt()().endOf("month");I(x,J)},[]),Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(ze.a.Title,{level:4,children:Object(e.jsx)(r.a,{id:"schedule",defaultMessage:"Schedule"})}),Object(e.jsx)(ca.a,{dateCellRender:B,onPanelChange:_e}),Object(e.jsxs)(Xe.a,{open:s!==null,title:"".concat(s==null?void 0:s.subject,": ").concat(s==null?void 0:s.title),onCancel:K,footer:null,children:[Object(e.jsxs)(ze.a.Paragraph,{children:[Object(e.jsx)(r.a,{id:"tutorName",defaultMessage:"Tutor"}),": ",s==null?void 0:s.tutor_name]}),Object(e.jsxs)(ze.a.Paragraph,{children:[Object(e.jsx)(r.a,{id:"email",defaultMessage:"Email"}),": ",s==null?void 0:s.tutor_email]}),Object(e.jsxs)(ze.a.Paragraph,{children:[Object(e.jsx)(r.a,{id:"group",defaultMessage:"Group"}),": ",s==null?void 0:s.group]}),Object(e.jsxs)(ze.a.Paragraph,{children:[Object(e.jsx)(r.a,{id:"semester",defaultMessage:"Semester"}),": ",s==null?void 0:s.semester]}),Object(e.jsxs)(ze.a.Paragraph,{children:[Object(e.jsx)(r.a,{id:"started_at",defaultMessage:"Start date"}),":",s&&tt()(s.start).format(Q.b)]}),Object(e.jsxs)(ze.a.Paragraph,{children:[Object(e.jsx)(r.a,{id:"end_at",defaultMessage:"End date"}),":",s&&tt()(s.end).format(Q.b)]})]})]})},oa=da,Ft=t("PpiC"),ja=t("Vpfc"),$a=t("miYZ"),pt=t("tsqr"),Wt=t("yj/a"),wt=t("5Syx"),$t=t("H6aw"),ba=t("p3I6"),fa=["attendances"],ma=["results"];function Oa(d,c){var n=Object(l.useState)({loading:!1}),s=Object($.a)(n,2),a=s[0],u=s[1];return Object(l.useEffect)(function(){u(function(j){return Object(i.a)(Object(i.a)({},j),{},{loading:!0})}),qt(d,c).then(function(j){j.success&&u(function(m){return Object(i.a)(Object(i.a)({},m),{},{data:j.data})})}).finally(function(){u(function(j){return Object(i.a)(Object(i.a)({},j),{},{loading:!1})})})},[c,d]),{finalGrades:a}}function va(){var d=Object(l.useState)({loading:!1}),c=Object($.a)(d,2),n=c[0],s=c[1];return Object(l.useEffect)(function(){s(function(a){return Object(i.a)(Object(i.a)({},a),{},{loading:!0})}),ea().then(function(a){a.success&&s(function(u){return Object(i.a)(Object(i.a)({},u),{},{data:a.data})})}).finally(function(){s(function(a){return Object(i.a)(Object(i.a)({},a),{},{loading:!1})})})},[]),{gradeTerms:n}}function ha(d){var c=Object(l.useState)({loading:!1}),n=Object($.a)(c,2),s=n[0],a=n[1];return Object(l.useEffect)(function(){d!==void 0&&(a(function(u){return Object(i.a)(Object(i.a)({},u),{},{loading:!0})}),ta(d).then(function(u){u.success&&a(function(j){return Object(i.a)(Object(i.a)({},j),{},{data:u.data})})}).finally(function(){a(function(u){return Object(i.a)(Object(i.a)({},u),{},{loading:!1})})}))},[d]),{subjectGradeScales:s}}function ga(d,c){var n=Object(l.useState)({loading:!1}),s=Object($.a)(n,2),a=s[0],u=s[1];return Object(l.useEffect)(function(){typeof d!="number"||typeof c!="number"||(u(function(j){return Object(i.a)(Object(i.a)({},j),{},{loading:!0})}),Nt(d,c).then(function(j){j.success&&u(function(m){return Object(i.a)(Object(i.a)({},m),{},{data:j.data.grade_scale})})}).finally(function(){u(function(j){return Object(i.a)(Object(i.a)({},j),{},{loading:!1})})}))},[d,c]),{tutorGradeScales:a}}function pa(d,c){var n=Object(l.useState)({loading:!1}),s=Object($.a)(n,2),a=s[0],u=s[1],j=Object(l.useCallback)(function(){u(function(g){return Object(i.a)(Object(i.a)({},g),{},{loading:!0})}),Ot(d).then(function(g){if(g.success){var _=g.data.reduce(function(p,y){var S=y.attendances,I=Object(Ft.a)(y,fa),E=S.find(function(K){return Boolean(K.user_id)});return E?[].concat(Object(C.a)(p),[Object(i.a)(Object(i.a)({},I),{},{attendance:E})]):p},[]);u(function(p){return Object(i.a)(Object(i.a)({},p),{},{data:_})})}}).finally(function(){u(function(g){return Object(i.a)(Object(i.a)({},g),{},{loading:!1})})})},[d,c]),m=Object(l.useCallback)(function(g,_){u(function(p){return Object(i.a)(Object(i.a)({},p),{},{loading:!0})}),Kt(g,c,_).then(function(p){p.success?pt.b.success(p.message):pt.b.error(p.message)}).finally(function(){j(),u(function(p){return Object(i.a)(Object(i.a)({},p),{},{loading:!1})})})},[j,c]);return Object(l.useEffect)(function(){j()},[j]),{userAttendanceSchedules:a,fetchUserAttendanceSchedules:j,updateUserAttendanceSchedules:m}}function xa(d){var c=Object(l.useState)({loading:!1}),n=Object($.a)(c,2),s=n[0],a=n[1];return Object(l.useEffect)(function(){a(function(u){return Object(i.a)(Object(i.a)({},u),{},{loading:!0})}),W({student_id:d}).then(function(u){if(u.success){var j=u.data.reduce(function(m,g){var _=Object($.a)(g.results,1),p=_[0],y=Object(Ft.a)(g,ma);return p?[].concat(Object(C.a)(m),[Object(i.a)(Object(i.a)({},y),{},{result:p})]):m},[]);a(function(m){return Object(i.a)(Object(i.a)({},m),{},{data:j})})}}).finally(function(){a(function(u){return Object(i.a)(Object(i.a)({},u),{},{loading:!1})})})},[d]),{studentExams:s}}function _a(d,c){var n=Object(l.useState)({loading:!1}),s=Object($.a)(n,2),a=s[0],u=s[1],j=Object(l.useState)({loading:!1}),m=Object($.a)(j,2),g=m[0],_=m[1],p=Object(l.useState)({loading:!1}),y=Object($.a)(p,2),S=y[0],I=y[1];return Object(l.useEffect)(function(){u(function(E){return Object(i.a)(Object(i.a)({},E),{},{loading:!0})}),Object($t.e)({group_id:d}).then(function(E){E.success&&u(function(K){return Object(i.a)(Object(i.a)({},K),{},{data:E.data})})}).finally(function(){u(function(E){return Object(i.a)(Object(i.a)({},E),{},{loading:!1})})})},[d]),Object(l.useEffect)(function(){!a.data||(I(function(E){return Object(i.a)(Object(i.a)({},E),{},{loading:!0})}),Promise.all(a.data.map(function(E){var K=E.id;return Object($t.m)(Number(K))})).then(function(E){E.forEach(function(K){K.success&&I(function(D){return Object(i.a)(Object(i.a)({},D),{},{data:Object(i.a)(Object(i.a)({},D.data),{},Object(mt.a)({},Number(K.data.id),Object(ba.c)(K.data.lessons)))})})})}).finally(function(){I(function(E){return Object(i.a)(Object(i.a)({},E),{},{loading:!1})})}),_(function(E){return Object(i.a)(Object(i.a)({},E),{},{loading:!0})}),Promise.all(a.data.map(function(E){var K=E.id;return Object($t.l)(Number(K),["EscolaLms\\Reports\\Stats\\Course\\FinishedTopics","EscolaLms\\Reports\\Stats\\Course\\AttendanceList"]).then(function(D){if(D.success){var B,_e,x=((B=D.data["EscolaLms\\Reports\\Stats\\Course\\FinishedTopics"])!==null&&B!==void 0?B:[]).filter(function(N){return N.id===c}),J=(_e=D.data["EscolaLms\\Reports\\Stats\\Course\\AttendanceList"])!==null&&_e!==void 0?_e:[];_(function(N){return Object(i.a)(Object(i.a)({},N),{},{data:Object(i.a)(Object(i.a)({},N.data),{},Object(mt.a)({},Number(K),{finishedTopics:x,attendanceList:J}))})})}})})).finally(function(){return _(function(E){return Object(i.a)(Object(i.a)({},E),{},{loading:!1})})}))},[a.data,c]),{userCourses:a,userCoursesStats:g,userCoursesTopics:S}}var Sa=[{title:Object(e.jsx)(r.a,{id:"grade"}),dataIndex:"grade"},{title:Object(e.jsx)(r.a,{id:"degree"}),dataIndex:"name"},{title:Object(e.jsx)(r.a,{id:"min_percent"}),dataIndex:"grade_value",valueType:"percent"}],Ea=[{title:Object(e.jsx)(r.a,{id:"date"}),dataIndex:"date_from",render:function(c,n){return Object(Je.a)(new Date(n.date_from),Q.c)}}],ya=[{title:Object(e.jsx)(r.a,{id:"name"}),dataIndex:"title"},{title:Object(e.jsx)(r.a,{id:"TeacherSubjects.Exams.grade_weight",defaultMessage:"Weight"}),dataIndex:"weight",valueType:"percent"},{title:Object(e.jsx)(r.a,{id:"created_at",defaultMessage:"Created at"}),dataIndex:"created_at",render:function(c,n){return Object(Je.a)(new Date(n.created_at),Q.c)}},{title:Object(e.jsx)(r.a,{id:"grade"}),dataIndex:"result",render:function(c,n){return"".concat(n.result.result,"%")}}],Ta=[{title:Object(e.jsx)(r.a,{id:"name"}),dataIndex:"name"},{title:Object(e.jsx)(r.a,{id:"issued_at"}),dataIndex:"grade",render:function(c,n){var s,a;return(s=n.grade)!==null&&s!==void 0&&s.grade_date?Object(Je.a)(new Date((a=n.grade)===null||a===void 0?void 0:a.grade_date),Q.c):"-"}},{title:Object(e.jsx)(r.a,{id:"grade"}),dataIndex:"grade",render:function(c,n){var s,a;return(s=(a=n.grade)===null||a===void 0?void 0:a.grade_name)!==null&&s!==void 0?s:"-"}}],xt=6,Ca=function(c){var n,s,a=c.user_id,u=c.group_id,j=Object(re.b)(),m=j.semester_subject_id,g=xa(a),_=g.studentExams,p=Oa(u,a),y=p.finalGrades,S=va(),I=S.gradeTerms,E=ha((n=y.data)===null||n===void 0?void 0:n.s_subject_scale_form_id),K=E.subjectGradeScales,D=ga(m,(s=y.data)===null||s===void 0?void 0:s.tutor_id),B=D.tutorGradeScales,_e=pa(u,a),x=_e.userAttendanceSchedules,J=_e.updateUserAttendanceSchedules,N=_a(u,a),V=N.userCourses,ie=N.userCoursesStats,G=N.userCoursesTopics,ge=te.a.useForm(),Ce=Object($.a)(ge,1),ne=Ce[0],ee=Object(l.useMemo)(function(){var M;return((M=I.data)!==null&&M!==void 0?M:[]).map(function(oe){var ue=oe.id,Ge=oe.name;return{label:Ge,value:ue}})},[I.data]),de=Object(l.useMemo)(function(){var M;return((M=K.data)!==null&&M!==void 0?M:[]).map(function(oe){var ue=oe.name,Ge=oe.id;return{label:ue,value:Ge}})},[K.data]),z=Object(l.useMemo)(function(){var M,oe,ue,Ge=((M=_.data)!==null&&M!==void 0?M:[]).reduce(function(et,at){var Ra=at.result,Vt=at.weight;return[et[0]+Ra.result*Vt,et[1]+Vt]},[0,0]),Ue=Object($.a)(Ge,2),ke=Ue[0],st=Ue[1],ut=Number.isNaN(ke/st)?0:ke/st,lt=((oe=B.data)!==null&&oe!==void 0?oe:[]).sort(function(et,at){return et.grade_value-at.grade_value}).reduce(function(et,at){return[].concat(Object(C.a)(et),[Object(i.a)(Object(i.a)({},at),{},{isWeightedAverageGreater:ut>=at.grade_value})])},[]);if(lt.every(function(et){var at=et.isWeightedAverageGreater;return at})){var Ne;return(Ne=lt.at(-1))===null||Ne===void 0?void 0:Ne.name}var qe=lt.findIndex(function(et){var at=et.isWeightedAverageGreater;return!at});return qe<0?"":(ue=lt[qe-1])===null||ue===void 0?void 0:ue.name},[_.data,B.data]),k=Object(l.useCallback)(function(){var M=Object(f.a)(Object(h.a)().mark(function oe(ue){var Ge,Ue,ke,st,ut;return Object(h.a)().wrap(function(Ne){for(;;)switch(Ne.prev=Ne.next){case 0:if(ke=ue.grade_scale_id,st=ue.grade_term_id,((Ge=y.data)===null||Ge===void 0?void 0:Ge.id)!==void 0){Ne.next=3;break}return Ne.abrupt("return");case 3:if(ut=(Ue=y.data)===null||Ue===void 0?void 0:Ue.grades.find(function(qe){var et=qe.grade_term;return et.id===st}),!ut){Ne.next=7;break}return na(ut.id,{grade_scale_id:ke}).then(function(qe){pt.b[qe.success?"success":"error"](qe.message),r.f.push("/teacher/subjects/".concat(m,"/final-grades"))}),Ne.abrupt("return");case 7:aa({grade_scale_id:ke,grade_term_id:st,lesson_group_user_id:y.data.id}).then(function(qe){pt.b[qe.success?"success":"error"](qe.message),r.f.push("/teacher/subjects/".concat(m,"/final-grades"))});case 8:case"end":return Ne.stop()}},oe)}));return function(oe){return M.apply(this,arguments)}}(),[y.data,m]),Fe=Object(l.useMemo)(function(){var M;return((M=I.data)!==null&&M!==void 0?M:[]).map(function(oe){var ue;return Object(i.a)(Object(i.a)({},oe),{},{grade:(ue=y.data)===null||ue===void 0?void 0:ue.grades.find(function(Ge){var Ue=Ge.grade_term;return Ue.id===oe.id})})})},[y.data,I.data]);return y.loading?Object(e.jsx)(T.a,{}):Object(e.jsxs)(e.Fragment,{children:[y.data&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(ze.a.Text,{style:{fontSize:"16px",fontWeight:500},children:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.Student",values:y.data.user})}),Object(e.jsx)(Ct.a,{})]}),Object(e.jsxs)(Ve.a,{gutter:[48,48],justify:"space-between",children:[Object(e.jsx)(Ke.a,{span:12,children:Object(e.jsx)(q.a,{rowKey:"id",headerTitle:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.StudentPartialGrades"}),search:!1,pagination:{pageSize:xt},dataSource:_.data,loading:_.loading,columns:ya,options:!1,cardProps:{bodyStyle:{padding:0}}})}),Object(e.jsx)(Ke.a,{span:12,children:Object(e.jsx)(q.a,{rowKey:"id",headerTitle:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.FinalGrades"}),search:!1,pagination:{pageSize:xt},dataSource:Fe,loading:y.loading||I.loading,columns:Ta,options:!1,cardProps:{bodyStyle:{padding:0}}})}),Object(e.jsx)(Ke.a,{span:12,children:Object(e.jsx)(q.a,{rowKey:"id",headerTitle:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.Attendances"}),search:!1,options:!1,pagination:{pageSize:xt},cardProps:{bodyStyle:{padding:0}},dataSource:x.data,loading:x.loading,columns:[].concat(Ea,[{title:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.Attendance"}),dataIndex:"attendance",render:function(oe,ue){return Object(e.jsx)(Bt.a,{onChange:function(Ue){return J(ue.id,Ue.target.checked?w.a.PRESENT:w.a.ABSENT)},checked:ue.attendance.value===w.a.PRESENT})}}])})}),Object(e.jsx)(Ke.a,{span:12,children:Object(e.jsx)(q.a,{rowKey:"id",headerTitle:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.GradesScale"}),search:!1,options:!1,pagination:{pageSize:xt},cardProps:{bodyStyle:{padding:0}},dataSource:B.data,loading:B.loading,columns:Sa})}),V.loading&&!V.data||ie.loading&&!ie.data||G.loading&&!G.data&&Object(e.jsx)(T.a,{}),V.data&&ie.data&&G.data&&V.data.map(function(M){var oe,ue,Ge,Ue,ke,st,ut,lt,Ne=M.id,qe=M.title;return Object(e.jsxs)(Ke.a,{span:24,children:[Object(e.jsx)(ze.a.Text,{style:{fontSize:"16px",fontWeight:500},children:qe}),Object(e.jsx)(wt.c,{topics:(oe=(ue=G.data)===null||ue===void 0?void 0:ue[Number(Ne)])!==null&&oe!==void 0?oe:[],stats:(Ge=(Ue=ie.data)===null||Ue===void 0||(ke=Ue[Number(Ne)])===null||ke===void 0?void 0:ke.finishedTopics)!==null&&Ge!==void 0?Ge:[]}),Object(e.jsx)(wt.a,{stats:(st=(ut=ie.data)===null||ut===void 0||(lt=ut[Number(Ne)])===null||lt===void 0?void 0:lt.attendanceList)!==null&&st!==void 0?st:[]})]},Ne)})]}),Object(e.jsx)(te.a,{form:ne,onFinish:k,children:Object(e.jsxs)(te.a.Group,{style:{display:"flex",flexDirection:"column",paddingTop:"48px"},title:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.IssueAssessment"}),titleStyle:{flex:"unset"},align:"center",children:[Object(e.jsx)(Wt.a,{name:"grade_term_id",rules:[{required:!0,message:Object(e.jsx)(r.a,{id:"field_required"})}],label:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.GradeTerm"}),options:ee,width:"sm",fieldProps:{loading:I.loading}}),Object(e.jsx)(Wt.a,{name:"grade_scale_id",rules:[{required:!0,message:Object(e.jsx)(r.a,{id:"field_required"})}],label:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.FinalGrade"}),options:de,fieldProps:{loading:y.loading||K.loading}}),Object(e.jsx)(te.a.Item,{children:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.ProposedGrade",values:{grade:z}})})]})})]})},Ma=["grades"],Pa=[{title:Object(e.jsx)(r.a,{id:"group"}),dataIndex:"group_id",render:function(c,n){return Object(e.jsx)(ja.a,{type:"Students",type_id:n.group_id},n.group_id)}},{title:Object(e.jsx)(r.a,{id:"first_name"}),dataIndex:"user",render:function(c,n){return n.user.first_name}},{title:Object(e.jsx)(r.a,{id:"last_name"}),dataIndex:"user",render:function(c,n){return n.user.last_name}},{title:Object(e.jsx)(r.a,{id:"grade"}),dataIndex:"grades",render:function(c,n){return Object(e.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:n.grades.length?n.grades.map(function(s){var a=s.grade_name,u=s.grade_term,j=s.id;return Object(e.jsxs)(ze.a.Text,{children:[u.name,": ",a]},j)}):"-"})}}],Da=function(){var c,n,s,a=Object(o.k)(),u=Object(l.useMemo)(function(){var J,N,V,ie;return{user_id:Number.isNaN(Number((J=a.query)===null||J===void 0?void 0:J.user_id))?null:Number((N=a.query)===null||N===void 0?void 0:N.user_id),group_id:Number.isNaN(Number((V=a.query)===null||V===void 0?void 0:V.group_id))?null:Number((ie=a.query)===null||ie===void 0?void 0:ie.group_id)}},[(c=a.query)===null||c===void 0?void 0:c.user_id,(n=a.query)===null||n===void 0?void 0:n.group_id]),j=u.user_id,m=u.group_id,g=Object(re.b)(),_=g.teacherSubjectData,p=g.semester_subject_id,y=Object(l.useState)({loading:!1}),S=Object($.a)(y,2),I=S[0],E=S[1],K=Object(l.useState)([Number(_==null||(s=_.groups)===null||s===void 0?void 0:s[0].id)]),D=Object($.a)(K,2),B=D[0],_e=D[1],x=Object(l.useMemo)(function(){var J;return((J=_==null?void 0:_.groups)!==null&&J!==void 0?J:[]).map(function(N){var V=N.id,ie=N.name;return{label:ie,value:V}})},[_==null?void 0:_.groups]);return Object(l.useEffect)(function(){if(typeof j!="number"){if(!B.length){E({loading:!1});return}E(function(J){return Object(i.a)(Object(i.a)({},J),{},{loading:!0})}),kt(B).then(function(J){if(J.success){var N=J.data.map(function(V){var ie=V.grades,G=Object(Ft.a)(V,Ma);return Object(i.a)(Object(i.a)({},G),{},{grades:ie.sort(function(ge,Ce){return new Date(Ce.grade_date).getTime()-new Date(ge.grade_date).getTime()})})});E(function(V){return Object(i.a)(Object(i.a)({},V),{},{dataSource:N})})}}).finally(function(){E(function(J){return Object(i.a)(Object(i.a)({},J),{},{loading:!1})})})}},[B,j]),j!==null&&m!==null?Object(e.jsx)(Ca,{user_id:j,group_id:m}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(te.a.Item,{label:Object(e.jsx)(r.a,{id:"group"}),children:Object(e.jsx)(A.a,{allowClear:!0,mode:"multiple",options:x,value:B,onChange:function(N){return _e(N)}})}),Object(e.jsx)(Ct.a,{}),Object(e.jsx)(q.a,{rowKey:"id",search:!1,loading:I.loading,dataSource:I.dataSource,columns:[].concat(Pa,[{title:Object(e.jsx)(r.a,{id:"options"}),render:function(N,V){return[Object(e.jsx)(Ae.a,{to:"/teacher/subjects/".concat(p,"/final-grades?user_id=").concat(V.user.id,"&group_id=").concat(V.group_id),children:Object(e.jsx)(We.a,{title:Object(e.jsx)(r.a,{id:"edit"}),children:Object(e.jsx)(F.a,{type:"primary",icon:Object(e.jsx)(Ze.a,{})})})},"edit")]}}])})]})},Aa=function(c){var n,s,a=c.tab,u=Object(r.l)(),j=Object(r.m)("@@initialState"),m=j.setInitialState,g=j.initialState,_=Object(re.b)(),p=_.teacherSubjectData,y=_.semester_subject_id,S=_.tutors,I=Object(l.useCallback)(Object(pe.a)(g==null?void 0:g.currentUser),[g==null?void 0:g.currentUser]),E=Object(l.useMemo)(function(){return!!S.data.find(function(K){var D,B=K.id;return B===(g==null||(D=g.currentUser)===null||D===void 0?void 0:D.id)})||I(Se.a.TeacherListGradeScale)},[]);return p?Object(e.jsx)(ce.a,{title:Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(r.a,{id:p==null||(n=p.subject)===null||n===void 0?void 0:n.name}),", ",Object(e.jsx)(r.a,{id:a})]}),tabBarExtraContent:Object(e.jsxs)("div",{style:{display:"flex",padding:"12px",gap:"12px"},children:[Object(e.jsx)(F.a,{type:"primary",onClick:function(){return console.log("MSTeams")},children:Object(e.jsx)(r.a,{id:"msTeams",defaultMessage:"msTeams"})}),Object(e.jsx)(Ae.a,{to:"/teacher/subjects/".concat(y,"/exams?exam_id=new"),children:Object(e.jsx)(F.a,{type:"primary",children:Object(e.jsx)(r.a,{id:"uploadGrades",defaultMessage:"uploadGrades"})})})]}),header:{breadcrumb:{routes:[{path:"teacher",breadcrumbName:u.formatMessage({id:"Teacher"})},{path:"subjects",breadcrumbName:u.formatMessage({id:"Subjects"})},{path:String(y),breadcrumbName:String((s=p.subject)===null||s===void 0?void 0:s.name)},{path:String(a),breadcrumbName:u.formatMessage({id:a,defaultMessage:String(a)})}]}},children:Object(e.jsxs)(be.a,{bodyStyle:{padding:"24px"},tabs:{type:"card",activeKey:a,onChange:function(D){m(Object(i.a)({},g)),r.f.push("/teacher/subjects/".concat(y,"/").concat(D))}},children:[Object(e.jsx)(be.a.TabPane,{tab:Object(e.jsx)(r.a,{id:"groups"}),children:Object(e.jsx)(Me.b,{})},"groups"),Object(e.jsx)(be.a.TabPane,{tab:Object(e.jsx)(r.a,{id:"students"}),children:Object(e.jsx)(De,{})},"students"),Object(e.jsx)(be.a.TabPane,{tab:Object(e.jsx)(r.a,{id:"exams"}),children:Object(e.jsx)(Pe,{})},"exams"),Object(e.jsx)(be.a.TabPane,{tab:Object(e.jsx)(r.a,{id:"schedule"}),children:Object(e.jsx)(oa,{})},"schedule"),Object(e.jsx)(be.a.TabPane,{tab:Object(e.jsx)(r.a,{id:"attendance"}),children:Object(e.jsx)(Yt,{})},"attendance"),E&&Object(e.jsx)(be.a.TabPane,{tab:Object(e.jsx)(r.a,{id:"grades-scale"}),children:Object(e.jsx)(sa,{})},"grades-scale"),Object(e.jsx)(be.a.TabPane,{tab:Object(e.jsx)(r.a,{id:"final-grades"}),children:Object(e.jsx)(Da,{})},"final-grades")]})}):Object(e.jsx)(T.a,{})},Ka=je.default=function(){var d=Object(o.l)(),c=d.subjectId,n=d.tab,s=n===void 0?"groups":n;return Object(e.jsx)(re.a,{semester_subject_id:Number(c),children:Object(e.jsx)(Aa,{tab:s})})}},p3I6:function($e,je,t){"use strict";t.d(je,"b",function(){return re}),t.d(je,"c",function(){return me}),t.d(je,"a",function(){return ct});var i=t("miYZ"),Y=t("tsqr"),F=t("tJVT"),O=t("k1fw"),T=t("oBTY"),l=t("q1tI"),be=t.n(l),r=t("9kvl"),Ae=t("Ty5D"),o=t("H6aw"),ce=t("/y+f"),Se=t("nKUr"),pe=t.n(Se),re=be.a.createContext({}),Me=function(){return Math.round(Math.random()*99999)},nt=function q(Q){return Q.reduce(function(W,v){return[].concat(Object(T.a)(W),Object(T.a)(v.lessons?q(v.lessons):[]),[v])},[])},me=function q(Q){return Q.reduce(function(W,v){var H;return[].concat(Object(T.a)(W),Object(T.a)(v.lessons?q(v.lessons):[]),Object(T.a)((H=v.topics)!==null&&H!==void 0?H:[]))},[])},Ye=function q(Q,W,v){return Q.map(function(H){var Oe,L;return Object(O.a)(Object(O.a)({},H),{},{lessons:H.lessons?q(H.lessons,W,v):[],topics:H.id===W?[].concat(Object(T.a)((Oe=H.topics)!==null&&Oe!==void 0?Oe:[]),[v]):(L=H.topics)!==null&&L!==void 0?L:[]})})},We=function q(Q,W,v){return Q.map(function(H){var Oe,L,b;return Object(O.a)(Object(O.a)({},H),{},{lessons:q((Oe=H.lessons)!==null&&Oe!==void 0?Oe:[],W,v),topics:(L=(b=H.topics)===null||b===void 0?void 0:b.map(function(ve){return ve.id===W?v:ve}))!==null&&L!==void 0?L:[]})})},h=function q(Q,W,v){return v?Q.map(function(H){return Object(O.a)(Object(O.a)({},H),{},{lessons:[].concat(Object(T.a)(H.lessons?q(H.lessons,W,v):[]),Object(T.a)(H.id===v?[W]:[]))})}):[].concat(Object(T.a)(Q),[W])},f=function q(Q,W,v){return Q.map(function(H){return Object(O.a)(Object(O.a)({},H.id===W?v:H),{},{lessons:H.lessons?q(H.lessons,W,v):[]})})},Je=function q(Q,W){return Q.map(function(v){return Object(O.a)(Object(O.a)({},v),{},{parent_id:W,lessons:v.lessons?q(v.lessons,v.id):[]})})},Ze=function q(Q,W){return Q.filter(function(v){return v.id!==W}).map(function(v){return Object(O.a)(Object(O.a)({},v),{},{lessons:v.lessons?q(v.lessons,W):[]})})},Be=function q(Q,W){return Q.map(function(v){return Object(O.a)(Object(O.a)({},v),{},{lessons:v.lessons?q(v.lessons,W):[],topics:v.topics?v.topics.filter(function(H){return H.id!==W}):[]})})},ct=function(Q){var W=Q.children,v=Q.id,H=Object(l.useState)(),Oe=Object(F.a)(H,2),L=Oe[0],b=Oe[1],ve=Object(r.l)(),Ee=Object(l.useMemo)(function(){return L&&L.lessons?me(L.lessons):[]},[L]),Re=Object(l.useMemo)(function(){return L&&L.lessons?nt(L.lessons):[]},[L]),xe=Object(l.useState)([]),Ie=Object(F.a)(xe,2),ye=Ie[0],we=Ie[1],P=Object(Ae.k)();Object(l.useEffect)(function(){we([])},[]);var Z=Object(l.useCallback)(function(){Object(o.m)(v).then(function(U){return U.success&&b(Object(O.a)(Object(O.a)({},U.data),{},{lessons:Je(U.data.lessons)}))})},[v]);Object(l.useEffect)(function(){Z()},[Z]);var he=Object(l.useCallback)(function(U){var A=Re.find(function(C){var R;return C==null||(R=C.topics)===null||R===void 0?void 0:R.find(function(e){return e.id===U})});return A?A.id:null},[Re]),$=Object(l.useMemo)(function(){var U,A;return(U=P.query)!==null&&U!==void 0&&U.lesson?{mode:"lesson",id:Number(P.query.lesson),value:Re.find(function(C){return C.id===Number(P.query.lesson)})}:(A=P.query)!==null&&A!==void 0&&A.topic?{mode:"topic",id:Number(P.query.topic),value:Ee.find(function(C){return C.id===Number(P.query.topic)})}:{mode:"init"}},[P.query,L,Re,Ee]),it=Object(l.useCallback)(function(U){var A={course_id:v,topics:[],isNew:!0,id:L?L.lessons.length+1:Me(),order:0,title:ve.formatMessage({id:"add_title_here"}),active:!0,parent_id:U};return b(function(C){var R;return Object(O.a)(Object(O.a)({},C),{},{lessons:h((R=C==null?void 0:C.lessons)!==null&&R!==void 0?R:[],A,U)})}),A},[v,L]),Ve=Object(l.useCallback)(function(U,A){var C=Re.find(function(e){return e.id===U}),R=C&&C.isNew;return(R?Object(o.g)(A):Object(o.u)(U,A)).then(function(e){return Y.b.success(e.message),Z(),e.success&&b(function(X){var Le;return Object(O.a)(Object(O.a)({},X),{},{lessons:f((Le=X==null?void 0:X.lessons)!==null&&Le!==void 0?Le:[],U,Object(O.a)(Object(O.a)({},e.data),{},{isNew:!1}))})})})},[L]),Qe=Object(l.useCallback)(function(U){var A=Re.find(function(R){return R.id===U});if(!!A){var C=A.isNew;C?b(function(R){var e;return Object(O.a)(Object(O.a)({},R),{},{lessons:Ze((e=R==null?void 0:R.lessons)!==null&&e!==void 0?e:[],U)})}):Object(o.o)(U).then(function(R){R.success&&(Y.b.success(R.message),b(function(e){var X;return Object(O.a)(Object(O.a)({},e),{},{lessons:Ze((X=e==null?void 0:e.lessons)!==null&&X!==void 0?X:[],U)})}))})}},[L]),Ke=Object(l.useCallback)(function(U,A){var C,R=he(U),e=Re.find(function(He){return He.id===R}),X=e&&((C=e.topics)===null||C===void 0?void 0:C.find(function(He){return He.id===U})),Le=X==null?void 0:X.isNew;return(Le?Object(o.h)(A):Object(o.v)(U,A)).then(function(He){He.success&&(Y.b.success(He.message),Z(),r.f.push("/courses/list/".concat(v,"/program/?topic=").concat(He.data.id)),(X==null?void 0:X.topicable_type)===ce.f.Video&&setTimeout(function(){Z()},5e3))})},[he,L,Z]),te=Object(l.useCallback)(function(U){var A=he(U),C=Re.find(function(X){return X.id===A});if(!!C){var R=Ee==null?void 0:Ee.find(function(X){return X.id===U}),e=R==null?void 0:R.isNew;e&&!R.topicable?b(function(X){var Le;return Object(O.a)(Object(O.a)({},X),{},{lessons:Be((Le=X==null?void 0:X.lessons)!==null&&Le!==void 0?Le:[],U)})}):Object(o.p)(U).then(function(X){X.success&&(Y.b.success(X.message),b(function(Le){var He;return Object(O.a)(Object(O.a)({},Le),{},{lessons:Be((He=Le==null?void 0:Le.lessons)!==null&&He!==void 0?He:[],U)})}))})}},[L,he]),jt=Object(l.useCallback)(function(U,A){var C={lesson_id:U,isNew:!0,id:Me(),title:ve.formatMessage({id:"add_title_here"}),active:!0,topicable_type:A};return b(function(R){var e;return Object(O.a)(Object(O.a)({},R),{},{lessons:Ye((e=R==null?void 0:R.lessons)!==null&&e!==void 0?e:[],U,C)})}),C},[]),ot=function(A,C){b(function(R){var e;return Object(O.a)(Object(O.a)({},R),{},{lessons:We((e=R==null?void 0:R.lessons)!==null&&e!==void 0?e:[],A,C.file.response.data)})}),r.f.push("/courses/list/".concat(v,"/program/?topic=").concat(C.file.response.data.id))},w=Object(l.useCallback)(function(U){return Object(o.d)(U).then(function(A){if(A.success){Y.b.success(A.message);var C=he(U);b(function(R){var e;return Object(O.a)(Object(O.a)({},R),{},{lessons:R?(e=R.lessons)===null||e===void 0?void 0:e.map(function(X){if(X.id===C){var Le=X.topics||[];return Object(O.a)(Object(O.a)({},X),{},{topics:[].concat(Object(T.a)(Le),[A.data])})}return X}):[]})})}})},[L,he]),vt=Object(l.useCallback)(function(U){return Object(o.c)(U).then(function(A){A.success&&(Y.b.success(A.message),b(function(C){return Object(O.a)(Object(O.a)({},C),{},{lessons:C?[].concat(Object(T.a)(C.lessons),[A.data]):[]})}))})},[]),Xe={state:L,h5ps:ye,id:v,addNewLesson:it,updateLesson:Ve,updateTopic:Ke,deleteLesson:Qe,addNewTopic:jt,deleteTopic:te,onTopicUploaded:ot,cloneTopic:w,cloneLesson:vt,currentEditMode:$,getLessons:Z};return Object(Se.jsx)(re.Provider,{value:Xe,children:W})}},quyA:function($e,je){var t="\\ud800-\\udfff",i="\\u0300-\\u036f",Y="\\ufe20-\\ufe2f",F="\\u20d0-\\u20ff",O=i+Y+F,T="\\ufe0e\\ufe0f",l="\\u200d",be=RegExp("["+l+t+O+T+"]");function r(Ae){return be.test(Ae)}$e.exports=r},wy8a:function($e,je,t){var i=t("KxBF");function Y(F,O,T){var l=F.length;return T=T===void 0?l:T,!O&&T>=l?F:i(F,O,T)}$e.exports=Y}}]);
