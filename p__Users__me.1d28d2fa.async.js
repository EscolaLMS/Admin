(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{fWLy:function(Y,v,a){"use strict";a.r(v);var Z=a("T2oS"),x=a("W9HT"),X=a("miYZ"),P=a("tsqr"),O=a("k1fw"),E=a("9og8"),f=a("tJVT"),U=a("WmNS"),o=a.n(U),l=a("q1tI"),k=a.n(l),u=a("VMEa"),b=a("Qurx"),h=a("nhC9"),p=a("VK58"),I=a("tMyG"),K=a("DBJ/"),R=a("Jfn2"),W=a("Ty5D"),t=a("9kvl"),B=a("5ddx"),L=a("+up7"),w=a("C8Qx"),e=a("nKUr"),q=a.n(e);v.default=function(){var S=Object(W.g)(),c=Object(t.i)(),D=S.tab,M=D===void 0?"general":D,y=Object(l.useState)(),g=Object(f.a)(y,2),_=g[0],A=g[1],F=Object(l.useState)([]),T=Object(f.a)(F,2),G=T[0],J=T[1],V=Object(l.useState)([]),C=Object(f.a)(V,2),$=C[0],N=C[1],Q=Object(l.useCallback)(Object(E.a)(o.a.mark(function i(){var s;return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(L.a)();case 2:s=r.sent,s.success&&(J(s.data.escola_auth.additional_fields_required.value),N(s.data.escola_auth.additional_fields.value));case 4:case"end":return r.stop()}},i)})),[]);Object(l.useEffect)(function(){var i=function(){var s=Object(E.a)(o.a.mark(function d(){var r;return o.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Object(p.e)();case 2:r=m.sent,r.success&&A(Object(O.a)(Object(O.a)({},r.data),{},{bio:r.data.bio||""}));case 4:case"end":return m.stop()}},d)}));return function(){return s.apply(this,arguments)}}();Q(),i()},[]);var z=Object(l.useMemo)(function(){return{onFinish:function(){var i=Object(E.a)(o.a.mark(function d(r){var j;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(p.h)(r);case 2:j=n.sent,P.default.success(j.message);case 4:case"end":return n.stop()}},d)}));function s(d){return i.apply(this,arguments)}return s}(),initialValues:_}},[_]),H=Object(l.useMemo)(function(){return{onFinish:function(){var i=Object(E.a)(o.a.mark(function d(r){var j;return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(p.i)(r);case 2:j=n.sent,P.default.success(j.message);case 4:case"end":return n.stop()}},d)}));function s(d){return i.apply(this,arguments)}return s}(),initialValues:_}},[_]);return _?Object(e.jsx)(I.a,{title:Object(e.jsx)(t.a,{id:"my_profile"}),header:{breadcrumb:{routes:[{path:"users",breadcrumbName:c.formatMessage({id:"menu.Users"})},{path:"me",breadcrumbName:c.formatMessage({id:"my_profile"})},{path:String(M),breadcrumbName:c.formatMessage({id:String(M)})}]}},children:Object(e.jsxs)(h.a,{tabs:{type:"card",activeKey:M,onChange:function(s){return t.d.push("/users/me/".concat(s))}},children:[Object(e.jsx)(h.a.TabPane,{tab:Object(e.jsx)(t.a,{id:"general"}),children:Object(e.jsxs)(u.a,Object(O.a)(Object(O.a)({},z),{},{children:[Object(e.jsxs)(u.a.Group,{children:[Object(e.jsx)(b.a,{width:"md",name:"first_name",label:Object(e.jsx)(t.a,{id:"first_name"}),tooltip:Object(e.jsx)(t.a,{id:"first_name"}),placeholder:c.formatMessage({id:"first_name"}),required:!0}),Object(e.jsx)(b.a,{width:"md",name:"last_name",label:Object(e.jsx)(t.a,{id:"last_name"}),tooltip:Object(e.jsx)(t.a,{id:"last_name"}),placeholder:c.formatMessage({id:"last_name"}),required:!0})]}),Object(e.jsx)(w.a,{additionalFields:$,requiredFields:G,id:_.id}),Object(e.jsx)(u.a.Group,{children:Object(e.jsxs)(u.a.Item,{name:"avatar",label:Object(e.jsx)(t.a,{id:"avatar"}),children:[_.path_avatar&&Object(e.jsx)(R.a,{path:_.path_avatar,size:600,width:200}),Object(e.jsx)(K.a,{url:"/api/profile/upload-avatar",name:"avatar",accept:"image/*",onChange:function(s){s.file.status==="done"&&s.file.response.success&&A(s.file.response.data)}})]})})]}))},"general"),Object(e.jsx)(h.a.TabPane,{tab:Object(e.jsx)(t.a,{id:"change_password"}),children:Object(e.jsxs)(u.a,Object(O.a)(Object(O.a)({},H),{},{children:[Object(e.jsx)(u.a.Group,{children:Object(e.jsx)(b.a.Password,{width:"md",name:"current_password",label:Object(e.jsx)(t.a,{id:"current_password"}),placeholder:c.formatMessage({id:"current_password"}),required:!0})}),Object(e.jsxs)(u.a.Group,{children:[Object(e.jsx)(b.a.Password,{width:"md",name:"new_password",label:Object(e.jsx)(t.a,{id:"new_password"}),placeholder:c.formatMessage({id:"new_password"}),required:!0}),Object(e.jsx)(b.a.Password,{width:"md",name:"new_confirm_password",label:Object(e.jsx)(t.a,{id:"new_confirm_password"}),placeholder:c.formatMessage({id:"new_confirm_password"}),required:!0})]})]}))},"change_password"),Object(e.jsx)(h.a.TabPane,{tab:Object(e.jsx)(t.a,{id:"user.settings"}),children:Object(e.jsx)(B.a,{user:String(_.id),isProfile:!0})},"user_settings")]})}):Object(e.jsx)(x.a,{})}}}]);
