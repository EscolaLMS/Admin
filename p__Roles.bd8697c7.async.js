(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"63za":function(B,d,e){"use strict";e.r(d),e.d(d,"TableColumns",function(){return U});var h=e("P2fV"),j=e("NJEC"),R=e("5Dmo"),s=e("3S7+"),c=e("9og8"),D=e("+L6B"),v=e("2/Rp"),P=e("tJVT"),E=e("WmNS"),g=e.n(E),p=e("q1tI"),n=e("9kvl"),l=e("55Ip"),y=e("Qiat"),b=e("tMyG"),a=e("xvlK"),o=e("G3dp"),m=e("/MfK"),i=e("G/Ub"),r=e("y8nQ"),T=e("Vl3Y"),L=e("rmhi"),V=e("VMEa"),G=e("Qurx"),t=e("nKUr"),$=function(O){var K=Object(n.i)(),A=O.visible,W=O.onVisibleChange,x=O.onFinish,I=O.id,M=T.a.useForm(),f=Object(P.a)(M,1),C=f[0];return Object(t.jsx)(L.a,{form:C,title:K.formatMessage({id:I?"editSetting":"newSetting",defaultMessage:I?"editSetting":"newSetting"}),width:"30vw",visible:A,onVisibleChange:W,onFinish:x,children:Object(t.jsxs)(V.b.Group,{children:[Object(t.jsx)(G.a,{label:Object(t.jsx)(n.a,{id:"name",defaultMessage:"name"}),rules:[{required:!0}],width:"md",name:"name"})," "]})})},Q=$,U=[{width:"10%",title:Object(t.jsx)(n.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{width:"80%",title:Object(t.jsx)(n.a,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!0}],w=function(){var O=Object(p.useRef)(),K=Object(p.useState)(!1),A=Object(P.a)(K,2),W=A[0],x=A[1],I=Object(n.i)();return Object(t.jsxs)(b.a,{children:[Object(t.jsx)(y.a,{headerTitle:I.formatMessage({id:"roles",defaultMessage:"roles"}),actionRef:O,rowKey:"id",search:!1,toolBarRender:function(){return[Object(t.jsxs)(v.a,{type:"primary",onClick:function(){return x(!0)},children:[Object(t.jsx)(a.a,{})," ",Object(t.jsx)(n.a,{id:"new",defaultMessage:"new"})]},"primary")]},request:function(){return Object(i.d)().then(function(f){return f.success?{data:f.data,success:!0}:[]})},columns:[].concat(U,[{hideInSearch:!0,title:Object(t.jsx)(n.a,{id:"pages.searchTable.titleOption"}),dataIndex:"option",valueType:"option",render:function(f,C){return[Object(t.jsx)(l.a,{to:"/roles/".concat(C.name),children:Object(t.jsx)(v.a,{type:"primary",icon:Object(t.jsx)(o.a,{})})},"new"),Object(t.jsx)(j.a,{title:Object(t.jsx)(n.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(c.a)(g.a.mark(function S(){var F;return g.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(i.b)(C.name);case 2:F=u.sent,F&&(x(!1),O.current&&O.current.reload());case 4:case"end":return u.stop()}},S)})),okText:Object(t.jsx)(n.a,{id:"yes"}),cancelText:Object(t.jsx)(n.a,{id:"no"}),children:Object(t.jsx)(s.a,{title:Object(t.jsx)(n.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(v.a,{type:"primary",icon:Object(t.jsx)(m.a,{}),danger:!0})})},"delete")]}}])}),Object(t.jsx)(Q,{visible:W,onVisibleChange:function(f){return f===!1&&x(!1)},onFinish:function(){var M=Object(c.a)(g.a.mark(function f(C){var S,F;return g.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(i.a)(C);case 2:return S=u.sent,u.next=5,S;case 5:F=u.sent,F.success&&(x(!1),O.current&&(O.current.reload(),n.d.push("/roles/".concat(F.data.name))));case 7:case"end":return u.stop()}},f)}));return function(f){return M.apply(this,arguments)}}()})]})},z=d.default=w},"G/Ub":function(B,d,e){"use strict";e.d(d,"d",function(){return D}),e.d(d,"a",function(){return P}),e.d(d,"b",function(){return g}),e.d(d,"c",function(){return n}),e.d(d,"e",function(){return y});var h=e("k1fw"),j=e("9og8"),R=e("WmNS"),s=e.n(R),c=e("9kvl");function D(a){return v.apply(this,arguments)}function v(){return v=Object(j.a)(s.a.mark(function a(o){return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(c.f)("/api/admin/roles",Object(h.a)({method:"GET",useCache:!1},o||{})));case 1:case"end":return i.stop()}},a)})),v.apply(this,arguments)}function P(a,o){return E.apply(this,arguments)}function E(){return E=Object(j.a)(s.a.mark(function a(o,m){return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(c.f)("/api/admin/roles",Object(h.a)({method:"POST",headers:{"Content-Type":"application/json"},data:o},m||{})));case 1:case"end":return r.stop()}},a)})),E.apply(this,arguments)}function g(a,o){return p.apply(this,arguments)}function p(){return p=Object(j.a)(s.a.mark(function a(o,m){return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(c.f)("/api/admin/roles/".concat(o),Object(h.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},m||{})));case 1:case"end":return r.stop()}},a)})),p.apply(this,arguments)}function n(a,o){return l.apply(this,arguments)}function l(){return l=Object(j.a)(s.a.mark(function a(o,m){return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(c.f)("/api/admin/roles/".concat(o),Object(h.a)({method:"GET",useCache:!1},m||{})));case 1:case"end":return r.stop()}},a)})),l.apply(this,arguments)}function y(a,o,m){return b.apply(this,arguments)}function b(){return b=Object(j.a)(s.a.mark(function a(o,m,i){return s.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",Object(c.f)("/api/admin/roles/".concat(o),Object(h.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:m},i||{})));case 1:case"end":return T.stop()}},a)})),b.apply(this,arguments)}},Qurx:function(B,d,e){"use strict";var h=e("wx14"),j=e("Ff2n"),R=e("q1tI"),s=e.n(R),c=e("adzw"),D=["fieldProps","proFieldProps"],v=["fieldProps","proFieldProps"],P="text",E=function(l){var y=l.fieldProps,b=l.proFieldProps,a=Object(j.a)(l,D);return s.a.createElement(c.a,Object(h.a)({mode:"edit",valueType:P,fieldProps:y,filedConfig:{valueType:P},proFieldProps:b},a))},g=function(l){var y=l.fieldProps,b=l.proFieldProps,a=Object(j.a)(l,v);return s.a.createElement(c.a,Object(h.a)({mode:"edit",valueType:"password",fieldProps:y,proFieldProps:b,filedConfig:{valueType:P}},a))},p=E;p.Password=g,p.displayName="ProFormComponent",d.a=p}}]);
