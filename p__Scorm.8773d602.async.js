(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"5tKr":function(L,h,e){"use strict";e.d(h,"b",function(){return I}),e.d(h,"a",function(){return p});var u=e("qLMh"),i=e("k1fw"),M=e("9og8"),j=e("9kvl");function I(s,t){return O.apply(this,arguments)}function O(){return O=Object(M.a)(Object(u.a)().mark(function s(t,d){return Object(u.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(j.g)("/api/admin/scorm",Object(i.a)({params:Object(i.a)(Object(i.a)({},t),{},{per_page:t.pageSize,page:t.current}),method:"GET",useCache:!1},d||{})));case 1:case"end":return r.stop()}},s)})),O.apply(this,arguments)}function v(s,t){return b.apply(this,arguments)}function b(){return b=Object(M.a)(Object(u.a)().mark(function s(t,d){return Object(u.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(j.g)("/api/admin/scorm/scos",Object(i.a)({params:Object(i.a)(Object(i.a)({},t),{},{per_page:t.pageSize,page:t.current}),method:"GET",useCache:!1},d||{})));case 1:case"end":return r.stop()}},s)})),b.apply(this,arguments)}function p(s,t){return n.apply(this,arguments)}function n(){return n=Object(M.a)(Object(u.a)().mark(function s(t,d){return Object(u.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(j.g)("/api/admin/scorm/".concat(t),Object(i.a)({method:"DELETE"},d||{})));case 1:case"end":return r.stop()}},s)})),n.apply(this,arguments)}},"DBJ/":function(L,h,e){"use strict";var u=e("k1fw"),i=e("y8nQ"),M=e("Vl3Y"),j=e("etVw"),I=e("9kvl"),O=e("qFDU"),v=e("nKUr"),b=e.n(v);function p(n){var s=n.onChange,t=n.onUpload,d=n.url,f=n.name,r=n.extra,y=n.accept,x=n.data,P=n.wrapInForm,R=P===void 0?!0:P,a=n.title,U=n.formProps,T=Object(I.j)();return x&&x[f]&&delete x[f],Object(v.jsx)(O.a,{condition:R,wrap:function(g){return Object(v.jsx)(M.a,Object(u.a)(Object(u.a)({},U),{},{children:g}))},children:Object(v.jsx)(j.a,{title:a||" ".concat(T.formatMessage({id:"upload_click_here"})),placeholder:T.formatMessage({id:"upload_click_here"}),onChange:function(g){s&&s(g),g.file.status==="done"&&t&&t(g.file.response)},label:Object(v.jsx)(I.a,{id:"upload"}),max:2,fieldProps:{data:x,accept:y,name:f,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(d),extra:r})})}h.a=p},"w76+":function(L,h,e){"use strict";e.r(h);var u=e("P2fV"),i=e("NJEC"),M=e("5Dmo"),j=e("3S7+"),I=e("+L6B"),O=e("2/Rp"),v=e("miYZ"),b=e("tsqr"),p=e("qLMh"),n=e("9og8"),s=e("q1tI"),t=e("9kvl"),d=e("55Ip"),f=e("tMyG"),r=e("Qiat"),y=e("Dx9A"),x=e("/MfK"),P=e("5tKr"),R=e("DBJ/"),a=e("nKUr"),U=function(c){var S=c.onSuccess,A=c.onError;return Object(a.jsx)(R.a,{url:"/api/admin/scorm/upload",name:"zip",accept:"application/zip",onChange:function(m){if(m.file.response){var o=m.file.response.response;o.success?S(o.data.model):A(o)}}})},T=U,_=function(){var K=Object(n.a)(Object(p.a)().mark(function c(S){return Object(p.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(P.a)(S);case 2:return l.abrupt("return",!0);case 3:case"end":return l.stop()}},c)}));return function(S){return K.apply(this,arguments)}}(),g=function(){var c=Object(s.useRef)(),S=Object(t.j)(),A=[{title:Object(a.jsx)(t.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(a.jsx)(t.a,{id:"version",defaultMessage:"version"}),dataIndex:"version",hideInSearch:!0},{title:Object(a.jsx)(t.a,{id:"newScorm",defaultMessage:"New Scorm"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(a.jsx)(T,{onSuccess:function(){c.current&&c.current.reload(),b.b.success(Object(a.jsx)(t.a,{id:"scorm_uploaded",defaultMessage:"scorm uploaded"}))},onError:function(o){return b.b.error(o.message||o.toString())}},"upload")]}},{title:Object(a.jsx)(t.a,{id:"SCOS",defaultMessage:"Sharable Content Objects"}),dataIndex:"SCOS",hideInSearch:!0,render:function(m,o){return[o.scos.map(function(E){return Object(a.jsx)(d.a,{to:"/courses/scorms/preview/".concat(E.uuid),children:Object(a.jsxs)(j.a,{title:Object(a.jsx)(t.a,{id:"preview",defaultMessage:"preview"}),children:[Object(a.jsx)(O.a,{size:"small",icon:Object(a.jsx)(y.a,{}),type:"primary",children:E.title})," "]})},E.uuid)})]}},{hideInSearch:!0,title:Object(a.jsx)(t.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(m,o){return[Object(a.jsx)(i.a,{title:Object(a.jsx)(t.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(n.a)(Object(p.a)().mark(function E(){var D;return Object(p.a)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,_(o.id);case 2:D=C.sent,D&&c.current&&c.current.reload();case 4:case"end":return C.stop()}},E)})),okText:Object(a.jsx)(t.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(a.jsx)(t.a,{id:"no",defaultMessage:"No"}),children:Object(a.jsx)(j.a,{title:Object(a.jsx)(t.a,{id:"delete",defaultMessage:"delete"}),children:Object(a.jsx)(O.a,{type:"primary",icon:Object(a.jsx)(x.a,{}),danger:!0})})},"delete")]}}];return Object(a.jsx)(f.a,{children:Object(a.jsx)(r.a,{headerTitle:S.formatMessage({id:"menu.Courses.SCORMs",defaultMessage:"scorms"}),actionRef:c,rowKey:"id",search:{},request:function(m){var o=m.pageSize,E=m.current;return Object(P.b)({pageSize:o,current:E}).then(function(D){return D.success?{data:D.data.data,total:D.data.total,success:!0}:[]})},columns:A})})},B=h.default=g}}]);
