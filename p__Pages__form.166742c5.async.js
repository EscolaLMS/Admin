(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{BAh9:function(y,u,e){"use strict";e.d(u,"a",function(){return m}),e.d(u,"b",function(){return f}),e.d(u,"e",function(){return b}),e.d(u,"d",function(){return E}),e.d(u,"c",function(){return P});var s=e("qLMh"),c=e("k1fw"),O=e("9og8"),d=e("9kvl");function m(i,a){return l.apply(this,arguments)}function l(){return l=Object(O.a)(Object(s.a)().mark(function i(a,n){return Object(s.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(d.g)("/api/admin/file/list",Object(c.a)({method:"GET",params:a},n||{})));case 1:case"end":return t.stop()}},i)})),l.apply(this,arguments)}function f(i,a){return p.apply(this,arguments)}function p(){return p=Object(O.a)(Object(s.a)().mark(function i(a,n){return Object(s.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(d.g)("/api/admin/file/find",Object(c.a)({method:"GET",params:a},n||{})));case 1:case"end":return t.stop()}},i)})),p.apply(this,arguments)}function b(i,a,n){return g.apply(this,arguments)}function g(){return g=Object(O.a)(Object(s.a)().mark(function i(a,n,o){var t;return Object(s.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return t=new FormData,t.append("file[]",a),t.append("target",n),j.abrupt("return",Object(d.g)("/api/admin/file/upload",Object(c.a)({method:"POST",data:t},o||{})));case 4:case"end":return j.stop()}},i)})),g.apply(this,arguments)}var E=function(a){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(a,"&w=").concat(n)};function P(i,a){return M.apply(this,arguments)}function M(){return M=Object(O.a)(Object(s.a)().mark(function i(a,n){return Object(s.a)().wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(d.g)("/api/admin/file/delete",Object(c.a)({method:"DELETE",data:{url:a}},n||{})));case 1:case"end":return t.stop()}},i)})),M.apply(this,arguments)}},BBow:function(y,u,e){"use strict";e.d(u,"a",function(){return s});var s=function(O){var d=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-",m=O.toString().toLowerCase().trim(),l=[{to:"a",from:"[\xC0\xC1\xC2\xC3\xC5\xC6\u0100\u0102\u0104\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6]"},{to:"ae",from:"[\xC4]"},{to:"c",from:"[\xC7\u0106\u0108\u010C]"},{to:"d",from:"[\xD0\u010E\u0110\xDE]"},{to:"e",from:"[\xC8\xC9\xCA\xCB\u0112\u0114\u0116\u0118\u011A\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6]"},{to:"g",from:"[\u011C\u011E\u0122\u01F4]"},{to:"h",from:"[\u0124\u1E26]"},{to:"i",from:"[\xCC\xCD\xCE\xCF\u0128\u012A\u012E\u0130\u1EC8\u1ECA]"},{to:"j",from:"[\u0134]"},{to:"ij",from:"[\u0132]"},{to:"k",from:"[\u0136]"},{to:"l",from:"[\u0139\u013B\u013D\u0141]"},{to:"m",from:"[\u1E3E]"},{to:"n",from:"[\xD1\u0143\u0145\u0147]"},{to:"o",from:"[\xD2\xD3\xD4\xD5\xD8\u014C\u014E\u0150\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u01EA\u01EC\u01A0]"},{to:"oe",from:"[\u0152\xD6]"},{to:"p",from:"[\u1E55]"},{to:"r",from:"[\u0154\u0156\u0158]"},{to:"s",from:"[\u015A\u015C\u015E\u0160]"},{to:"ss",from:"[\xDF]"},{to:"t",from:"[\u0162\u0164]"},{to:"u",from:"[\xD9\xDA\xDB\u0168\u016A\u016C\u016E\u0170\u0172\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u01AF]"},{to:"ue",from:"[\xDC]"},{to:"w",from:"[\u1E82\u0174\u1E80\u1E84]"},{to:"x",from:"[\u1E8D]"},{to:"y",from:"[\xDD\u0176\u0178\u1EF2\u1EF4\u1EF6\u1EF8]"},{to:"z",from:"[\u0179\u017B\u017D]"},{to:"-",from:"[\xB7/_,:;']"}];return l.forEach(function(f){m=m.replace(new RegExp(f.from,"gi"),f.to)}),m=m.toString().toLowerCase().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),typeof d!="undefined"&&d!=="-"&&(m=m.replace(/-/g,d)),m}},NqYW:function(y,u,e){"use strict";e.d(u,"d",function(){return m}),e.d(u,"c",function(){return f}),e.d(u,"a",function(){return b}),e.d(u,"e",function(){return E}),e.d(u,"b",function(){return M});var s=e("qLMh"),c=e("k1fw"),O=e("9og8"),d=e("9kvl");function m(a,n){return l.apply(this,arguments)}function l(){return l=Object(O.a)(Object(s.a)().mark(function a(n,o){return Object(s.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(d.g)("/api/admin/pages",Object(c.a)({method:"GET",useCache:!1,params:Object(c.a)(Object(c.a)({},n),{},{per_page:n.pageSize,page:n.current})},o||{})));case 1:case"end":return r.stop()}},a)})),l.apply(this,arguments)}function f(a,n){return p.apply(this,arguments)}function p(){return p=Object(O.a)(Object(s.a)().mark(function a(n,o){return Object(s.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(d.g)("/api/admin/pages/".concat(n),Object(c.a)({method:"GET"},o||{})));case 1:case"end":return r.stop()}},a)})),p.apply(this,arguments)}function b(a,n){return g.apply(this,arguments)}function g(){return g=Object(O.a)(Object(s.a)().mark(function a(n,o){return Object(s.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(d.g)("/api/admin/pages",Object(c.a)({method:"POST",headers:{"Content-Type":"application/json"},data:n},o||{})));case 1:case"end":return r.stop()}},a)})),g.apply(this,arguments)}function E(a,n,o){return P.apply(this,arguments)}function P(){return P=Object(O.a)(Object(s.a)().mark(function a(n,o,t){return Object(s.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(d.g)("/api/admin/pages/".concat(n),Object(c.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:o},t||{})));case 1:case"end":return j.stop()}},a)})),P.apply(this,arguments)}function M(a,n){return i.apply(this,arguments)}function i(){return i=Object(O.a)(Object(s.a)().mark(function a(n,o){return Object(s.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(d.g)("/api/admin/pages/".concat(n),Object(c.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},o||{})));case 1:case"end":return r.stop()}},a)})),i.apply(this,arguments)}},SWpp:function(y,u,e){"use strict";e.r(u);var s=e("T2oS"),c=e("W9HT"),O=e("miYZ"),d=e("tsqr"),m=e("qLMh"),l=e("k1fw"),f=e("9og8"),p=e("tJVT"),b=e("q1tI"),g=e.n(b),E=e("VMEa"),P=e("Qurx"),M=e("F/zT"),i=e("nhC9"),a=e("NqYW"),n=e("hd5d"),o=e("tMyG"),t=e("9kvl"),r=e("Ty5D"),j=e("BBow"),_=e("nKUr"),L=e.n(_);u.default=function(){var R=Object(t.j)(),C=Object(r.l)(),h=C.page,w=h==="new",v=Object(b.useState)(),x=Object(p.a)(v,2),B=x[0],$=x[1],G=E.a.useForm(),N=Object(p.a)(G,1),F=N[0],S=Object(b.useCallback)(Object(f.a)(Object(m.a)().mark(function W(){var D;return Object(m.a)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,Object(a.c)(Number(h));case 2:D=A.sent,D.success&&$(Object(l.a)(Object(l.a)({},D.data),{},{content:D.data.content||""}));case 4:case"end":return A.stop()}},W)})),[h]);Object(b.useEffect)(function(){if(h==="new"){$({active:!1});return}S()},[h,S]);var V=Object(b.useMemo)(function(){return{onFinish:function(){var W=Object(f.a)(Object(m.a)().mark(function U(A){var I,K;return Object(m.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(K=Object(l.a)(Object(l.a)({},A),{},{bio:A.bio?A.bio:void 0}),h!=="new"){T.next=8;break}return T.next=4,Object(a.a)(K);case 4:I=T.sent,I.success&&t.e.push("/pages/".concat(I.data.id)),T.next=11;break;case 8:return T.next=10,Object(a.e)(Number(h),K);case 10:I=T.sent;case 11:d.b.success(I.message);case 12:case"end":return T.stop()}},U)}));function D(U){return W.apply(this,arguments)}return D}(),initialValues:B}},[B,h]);return B?Object(_.jsx)(o.a,{title:w?Object(_.jsx)(t.a,{id:"new_page"}):Object(_.jsx)(t.a,{id:"edit_page"}),children:Object(_.jsx)(i.a,{children:Object(_.jsxs)(E.a,Object(l.a)(Object(l.a)({},V),{},{form:F,onValuesChange:function(D){D.title&&F.setFieldsValue({slug:Object(j.a)(D.title)})},children:[Object(_.jsxs)(E.a.Group,{children:[Object(_.jsx)(P.a,{width:"md",name:"title",label:Object(_.jsx)(t.a,{id:"title"}),tooltip:Object(_.jsx)(t.a,{id:"title"}),placeholder:R.formatMessage({id:"title"}),required:!0}),Object(_.jsx)(P.a,{width:"md",name:"slug",label:Object(_.jsx)(t.a,{id:"slug"}),tooltip:Object(_.jsx)(t.a,{id:"slug_tooltip"}),placeholder:R.formatMessage({id:"slug"}),disabled:!0,required:!0}),Object(_.jsx)(M.a,{name:"active",label:Object(_.jsx)(t.a,{id:"is_active"})})]}),Object(_.jsx)(E.a.Item,{name:"content",label:Object(_.jsx)(t.a,{id:"content"}),tooltip:Object(_.jsx)(t.a,{id:"content_tooltip"}),valuePropName:"value",required:!0,children:Object(_.jsx)(n.a,{directory:"pages/".concat(h,"/wysiwyg")})})]}))})}):Object(_.jsx)(c.a,{})}},hd5d:function(y,u,e){"use strict";var s=e("qLMh"),c=e("9og8"),O=e("q1tI"),d=e.n(O),m=e("3Ef1"),l=e.n(m),f=e("BAh9"),p=e("vtG9"),b=e.n(p),g=e("9kvl"),E=e("nKUr"),P=e.n(E),M=function(a){var n=a.value,o=a.onChange,t=a.directory,r=t===void 0?"/wysiwyg":t,j=Object(g.j)();return Object(E.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(E.jsx)(l.a,{uploadImage:function(){var _=Object(c.a)(Object(s.a)().mark(function L(R){var C,h;return Object(s.a)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,Object(f.e)(R,r);case 2:if(C=v.sent,!C.success){v.next=6;break}return h=C.data[0].name.includes("/")?C.data[0].name:"".concat(r).concat(C.data[0].name),v.abrupt("return",Object(f.d)(h,1e3));case 6:throw new Error("Error while uploading");case 7:case"end":return v.stop()}},L)}));return function(L){return _.apply(this,arguments)}}(),defaultValue:n||"",onChange:function(L){return o&&o(L())},placeholder:j.formatMessage({id:"wysiwyg_placeholder"})})})};u.a=M},vtG9:function(y,u,e){}}]);
