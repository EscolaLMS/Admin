(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{"0TUn":function(F,j,e){"use strict";e.d(j,"c",function(){return p}),e.d(j,"a",function(){return s}),e.d(j,"b",function(){return i});var d=e("k1fw"),f=e("9og8"),M=e("WmNS"),r=e.n(M),m=e("9kvl");function p(h,g){return v.apply(this,arguments)}function v(){return v=Object(f.a)(r.a.mark(function h(g,o){return r.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",Object(m.f)("/api/model-fields",Object(d.a)({method:"GET",params:g},o||{})));case 1:case"end":return c.stop()}},h)})),v.apply(this,arguments)}function s(h,g){return n.apply(this,arguments)}function n(){return n=Object(f.a)(r.a.mark(function h(g,o){return r.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",Object(m.f)("/api/admin/model-fields",Object(d.a)({method:"POST",data:g},o||{})));case 1:case"end":return c.stop()}},h)})),n.apply(this,arguments)}function i(h,g){return b.apply(this,arguments)}function b(){return b=Object(f.a)(r.a.mark(function h(g,o){return r.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",Object(m.f)("/api/admin/model-fields",Object(d.a)({method:"DELETE",data:g},o||{})));case 1:case"end":return c.stop()}},h)})),b.apply(this,arguments)}},"5ddx":function(F,j,e){"use strict";var d=e("9og8"),f=e("+L6B"),M=e("2/Rp"),r=e("tJVT"),m=e("WmNS"),p=e.n(m),v=e("q1tI"),s=e.n(v),n=e("9kvl"),i=e("Qiat"),b=e("VK58"),h=e("xvlK"),g=e("Xcxh"),o=e("y8nQ"),P=e("Vl3Y"),c=e("rmhi"),E=e("VMEa"),u=e("Qurx"),t=e("nKUr"),l=function(A){var U=Object(n.i)(),H=A.visible,y=A.onVisibleChange,Z=A.onFinish,k=P.a.useForm(),X=Object(r.a)(k,1),ee=X[0];return Object(v.useEffect)(function(){return function(){ee.resetFields()}},[]),Object(t.jsx)(c.a,{form:ee,title:U.formatMessage({id:"newSetting",defaultMessage:"newSetting"}),width:"30vw",visible:H,onVisibleChange:y,onFinish:Z,children:Object(t.jsxs)(E.a.Group,{children:[Object(t.jsx)(u.a,{label:Object(t.jsx)(n.a,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key"}),Object(t.jsx)(u.a,{label:Object(t.jsx)(n.a,{id:"value",defaultMessage:"value"}),rules:[{required:!0}],width:"md",name:"value"})]})})},O=l,_=function(A){var U=A.user,H=A.isProfile,y=H===void 0?!1:H,Z=Object(v.useRef)(),k=Object(n.i)(),X=Object(v.useState)(!1),ee=Object(r.a)(X,2),se=ee[0],ae=ee[1],le=Object(v.useState)("PATCH"),a=Object(r.a)(le,2),oe=a[0],ie=a[1],ce=[{title:Object(t.jsx)(n.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(t.jsx)(n.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInSearch:!0}],ue=Object(v.useCallback)(function(J){var V=J&&Object.entries(J).map(function(re){return{key:re[0],value:re[1]}});return V},[U]);return Object(t.jsxs)(s.a.Fragment,{children:[Object(t.jsx)(i.a,{headerTitle:k.formatMessage({id:"menu.settings"}),actionRef:Z,rowKey:"id",search:!1,toolBarRender:y?function(){return[Object(t.jsxs)(M.a,{type:"primary",onClick:function(){ae(-1),ie("PATCH")},children:[Object(t.jsx)(h.a,{})," ",Object(t.jsx)(n.a,{id:"pages.searchTable.new"})]},"primary"),Object(t.jsxs)(M.a,{color:"yellow",type:"primary",onClick:function(){ae(-1),ie("PUT")},children:[Object(t.jsx)(g.a,{})," ",Object(t.jsx)(n.a,{id:"user.settings.overwrite"})]},"primary")]}:!1,request:function(){return Object(b.d)(Number(U)).then(function(V){return V.success?{data:ue(V.data)}:[]})},columns:ce}),Object(t.jsx)(O,{id:se,visible:Number.isInteger(se),onVisibleChange:function(V){return V===!1&&ae(!1)},onFinish:function(){var J=Object(d.a)(p.a.mark(function V(re){var $;return p.a.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.next=2,Object(b.g)(Number(U),oe,re);case 2:$=D.sent,$.success&&(ae(!1),Z.current&&Z.current.reload());case 4:case"end":return D.stop()}},V)}));return function(V){return J.apply(this,arguments)}}()})]})},x=j.a=_},C8Qx:function(F,j,e){"use strict";var d=e("YDZB"),f=e("FJDo"),M=e("tneF"),r=e("Qurx"),m=e("BiO0"),p=e("VMEa"),v=e("q1tI"),s=e.n(v),n=e("9kvl"),i=e("nKUr"),b=e.n(i),h=function(o){var P=o.field,c=Object(n.i)(),E=function(t){var l=t&&t.extra&&t.extra.find(function(O){return O[Object(n.c)()]});switch(t.type){case"number":return Object(i.jsx)(f.a,{width:"md",name:t.name,label:l?l[Object(n.c)()]:Object(i.jsx)(n.a,{id:t.name}),tooltip:Object(i.jsx)(n.a,{id:t.name}),placeholder:c.formatMessage({id:t.name,defaultMessage:t.name}),min:1,max:1024,fieldProps:{step:1}});case"boolean":return Object(i.jsx)(M.a,{name:t.name,children:l?l[Object(n.c)()]:Object(i.jsx)(n.a,{id:t.name})});case"varchar":return Object(i.jsx)(r.a,{width:"md",name:t.name,label:l?l[Object(n.c)()]:Object(i.jsx)(n.a,{id:t.name}),tooltip:Object(i.jsx)(n.a,{id:t.name}),placeholder:c.formatMessage({id:t.name}),required:!0});case"text":return Object(i.jsx)(m.a,{width:"md",name:t.name,label:l?l[Object(n.c)()]:Object(i.jsx)(n.a,{id:t.name}),tooltip:Object(i.jsx)(n.a,{id:t.name}),placeholder:c.formatMessage({id:t.name}),required:!0});case"json":return Object(i.jsx)(p.a.Item,{name:t.name,label:l?l[Object(n.c)()]:Object(i.jsx)(n.a,{id:t.name}),tooltip:Object(i.jsx)(n.a,{id:t.name}),valuePropName:"value",children:Object(i.jsx)(d.a,{})})}};return Object(i.jsx)(i.Fragment,{children:E(P)})};j.a=h},"DBJ/":function(F,j,e){"use strict";var d=e("y8nQ"),f=e("Vl3Y"),M=e("etVw"),r=e("q1tI"),m=e.n(r),p=e("9kvl"),v=e("qFDU"),s=e("nKUr"),n=e.n(s),i=function(h){var g=h.onChange,o=h.url,P=h.name,c=h.extra,E=h.accept,u=h.data,t=h.wrapInForm,l=t===void 0?!0:t,O=h.title,_=Object(p.i)();return u&&u[P]&&delete u[P],Object(s.jsx)(v.a,{condition:l,wrap:function(C){return Object(s.jsx)(f.a,{children:C})},children:Object(s.jsx)(M.a,{title:O||Object(s.jsx)(p.a,{id:"upload_click_here"}),placeholder:_.formatMessage({id:"upload_click_here"}),onChange:g,label:Object(s.jsx)(p.a,{id:"upload"}),max:2,fieldProps:{data:u,accept:E,name:P,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(o),extra:c})})};j.a=i},"F/zT":function(F,j,e){"use strict";var d=e("wx14"),f=e("VTBJ"),M=e("Ff2n"),r=e("q1tI"),m=e.n(r),p=e("adzw"),v=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],s=m.a.forwardRef(function(n,i){var b=n.fieldProps,h=n.unCheckedChildren,g=n.checkedChildren,o=n.proFieldProps,P=Object(M.a)(n,v);return m.a.createElement(p.a,Object(d.a)({valueType:"switch",mode:"edit",fieldProps:Object(f.a)({unCheckedChildren:h,checkedChildren:g},b),ref:i,valuePropName:"checked",proFieldProps:o,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},P))});j.a=s},"G/Ub":function(F,j,e){"use strict";e.d(j,"d",function(){return p}),e.d(j,"a",function(){return s}),e.d(j,"b",function(){return i}),e.d(j,"c",function(){return h}),e.d(j,"e",function(){return o});var d=e("k1fw"),f=e("9og8"),M=e("WmNS"),r=e.n(M),m=e("9kvl");function p(c){return v.apply(this,arguments)}function v(){return v=Object(f.a)(r.a.mark(function c(E){return r.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(m.f)("/api/admin/roles",Object(d.a)({method:"GET",useCache:!1},E||{})));case 1:case"end":return t.stop()}},c)})),v.apply(this,arguments)}function s(c,E){return n.apply(this,arguments)}function n(){return n=Object(f.a)(r.a.mark(function c(E,u){return r.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(m.f)("/api/admin/roles",Object(d.a)({method:"POST",headers:{"Content-Type":"application/json"},data:E},u||{})));case 1:case"end":return l.stop()}},c)})),n.apply(this,arguments)}function i(c,E){return b.apply(this,arguments)}function b(){return b=Object(f.a)(r.a.mark(function c(E,u){return r.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(m.f)("/api/admin/roles/".concat(E),Object(d.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},u||{})));case 1:case"end":return l.stop()}},c)})),b.apply(this,arguments)}function h(c,E){return g.apply(this,arguments)}function g(){return g=Object(f.a)(r.a.mark(function c(E,u){return r.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(m.f)("/api/admin/roles/".concat(E),Object(d.a)({method:"GET",useCache:!1},u||{})));case 1:case"end":return l.stop()}},c)})),g.apply(this,arguments)}function o(c,E,u){return P.apply(this,arguments)}function P(){return P=Object(f.a)(r.a.mark(function c(E,u,t){return r.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",Object(m.f)("/api/admin/roles/".concat(E),Object(d.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:u},t||{})));case 1:case"end":return O.stop()}},c)})),P.apply(this,arguments)}},Jfn2:function(F,j,e){"use strict";var d=e("k1fw"),f=e("XCrF"),M=e("1GRj"),r=e("PpiC"),m=e("q1tI"),p=e.n(m),v=e("nKUr"),s=e.n(v),n=function(b){var h=b.path,g=b.size,o=b.srcSizes,P=b.alt,c=P===void 0?"LMS Image":P,E=Object(r.a)(b,["path","size","srcSizes","alt"]),u="".concat("https://api-stage.escolalms.com","/api/images/img?path=").concat(h,"&w=").concat(o?o[0]:g),t=o&&o.map(function(l){return"".concat("https://api-stage.escolalms.com","/api/images/img?path=").concat(h,"&w=").concat(l," ").concat(l,"w")});return Object(v.jsx)("div",{className:"escolalms-image",children:Object(v.jsx)(M.a,Object(d.a)({src:u,srcSet:t&&t.join(","),alt:c},E))})};j.a=n},JifO:function(F,j,e){"use strict";e.d(j,"c",function(){return p}),e.d(j,"a",function(){return s}),e.d(j,"b",function(){return i}),e.d(j,"d",function(){return h}),e.d(j,"f",function(){return o}),e.d(j,"e",function(){return c});var d=e("k1fw"),f=e("9og8"),M=e("WmNS"),r=e.n(M),m=e("9kvl");function p(u){return v.apply(this,arguments)}function v(){return v=Object(f.a)(r.a.mark(function u(t){return r.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",Object(m.f)("/api/admin/categories/tree",Object(d.a)({method:"GET",useCache:!1},t||{})));case 1:case"end":return O.stop()}},u)})),v.apply(this,arguments)}function s(u){return n.apply(this,arguments)}function n(){return n=Object(f.a)(r.a.mark(function u(t){return r.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",Object(m.f)("/api/admin/categories",Object(d.a)({method:"GET",useCache:!1},t||{})));case 1:case"end":return O.stop()}},u)})),n.apply(this,arguments)}function i(u,t){return b.apply(this,arguments)}function b(){return b=Object(f.a)(r.a.mark(function u(t,l){return r.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(m.f)("/api/admin/categories/".concat(t),Object(d.a)({method:"GET",useCache:!1},l||{})));case 1:case"end":return _.stop()}},u)})),b.apply(this,arguments)}function h(u,t){return g.apply(this,arguments)}function g(){return g=Object(f.a)(r.a.mark(function u(t,l){return r.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(m.f)("/api/admin/categories",Object(d.a)({method:"POST",headers:{"Content-Type":"application/json"},data:t},l||{})));case 1:case"end":return _.stop()}},u)})),g.apply(this,arguments)}function o(u,t,l){return P.apply(this,arguments)}function P(){return P=Object(f.a)(r.a.mark(function u(t,l,O){return r.a.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",Object(m.f)("/api/admin/categories/".concat(t),Object(d.a)({method:"PUT",headers:{"Content-Type":"application/json"},data:l},O||{})));case 1:case"end":return x.stop()}},u)})),P.apply(this,arguments)}function c(u,t,l){return E.apply(this,arguments)}function E(){return E=Object(f.a)(r.a.mark(function u(t,l,O){return r.a.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",Object(m.f)("/api/admin/categories/".concat(t),Object(d.a)({method:"DELETE",headers:{"Content-Type":"application/json"},data:l},O||{})));case 1:case"end":return x.stop()}},u)})),E.apply(this,arguments)}},TWax:function(F,j,e){"use strict";var d=e("ozfa"),f=e("MJZm"),M=e("T2oS"),r=e("W9HT"),m=e("tJVT"),p=e("q1tI"),v=e.n(p),s=e("JifO"),n=e("nKUr"),i=e.n(n),b=function g(o){return o.subcategories&&o.subcategories.length?{title:o.name,key:o.id,children:o.subcategories.map(function(P){return g(P)})}:{title:o.name,key:o.id}},h=function(o){var P=o.value,c=o.onChange,E=o.multiple,u=E===void 0?!0:E,t=Object(p.useState)([]),l=Object(m.a)(t,2),O=l[0],_=l[1];Object(p.useEffect)(function(){Object(s.c)().then(function(C){return _(C.data)})},[]);var x=Object(p.useMemo)(function(){return O.map(function(C){return b(C)})},[O]);return O.length===0?Object(n.jsx)(r.a,{}):Object(n.jsx)(f.a,{multiple:u,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,style:{width:"100%"},checkedKeys:P,onCheck:function(A){var U=A.checked;return c&&Array.isArray(U)&&c(U)},treeData:x,disabled:O.length===0})};j.a=h},YDZB:function(F,j,e){"use strict";var d=e("2qtc"),f=e("kLXV"),M=e("7Kak"),r=e("9yH6"),m=e("+L6B"),p=e("2/Rp"),v=e("tJVT"),s=e("q1tI"),n=e.n(s),i=e("gU/Y"),b=e("9kvl"),h=e("u95b"),g=e.n(h),o=e("nKUr"),P=e.n(o),c=function(u){var t=u.value,l=u.onChange,O=Object(s.useState)(!1),_=Object(v.a)(O,2),x=_[0],C=_[1],A=Object(s.useCallback)(function(){C(!1)},[]),U=Object(s.useState)("code"),H=Object(v.a)(U,2),y=H[0],Z=H[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)(p.a,{type:"primary",onClick:function(){return C(!0)},size:"small",children:Object(o.jsx)(b.a,{id:"json_editor"})}),Object(o.jsxs)(f.a,{title:"JSON",visible:x,onOk:A,onCancel:A,children:[Object(o.jsxs)(r.a.Group,{onChange:function(X){return Z(X.target.value)},value:y,children:[Object(o.jsx)(r.a,{value:"tree",children:"tree"}),Object(o.jsx)(r.a,{value:"view",children:"view"}),Object(o.jsx)(r.a,{value:"form",children:"form"}),Object(o.jsx)(r.a,{value:"code",children:"code"}),Object(o.jsx)(r.a,{value:"text",children:"text"})]}),Object(o.jsx)(i.a,{mode:y,value:t,onChange:function(X){return l&&l(X)}},y)]})]})};j.a=c},"c+yx":function(F,j,e){"use strict";e.d(j,"b",function(){return m}),e.d(j,"a",function(){return p}),e.d(j,"d",function(){return v}),e.d(j,"c",function(){return s});var d=/(((^https?:(?:\/\/)?)(?:[-;:&=\+\$,\w]+@)?[A-Za-z0-9.-]+(?::\d+)?|(?:www.|[-;:&=\+\$,\w]+@)[A-Za-z0-9.-]+)((?:\/[\+~%\/.\w-_]*)?\??(?:[-\+=&;%@.\w_]*)#?(?:[\w]*))?)$/,f=function(i){return d.test(i)},M=function(){return window.location.hostname==="preview.pro.ant.design"},r=function(){var i="production";return i==="development"?!0:M()},m=function(){var i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",b=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"";return i.toLowerCase().includes(b.toLowerCase())},p=function(i){return typeof i=="object"?i.id:i},v=function(i){return typeof i=="object"?i.title:i},s=function(i){return i==null?void 0:i.split("storage")[1]}},weGn:function(F,j,e){"use strict";e.r(j);var d=e("k1fw"),f=e("9og8"),M=e("tJVT"),r=e("WmNS"),m=e.n(r),p=e("nhC9"),v=e("Ty5D"),s=e("9kvl"),n=e("tMyG"),i=e("tU7J"),b=e("wFql"),h=e("DYRE"),g=e("zeV3"),o=e("y8nQ"),P=e("Vl3Y"),c=e("+L6B"),E=e("2/Rp"),u=e("T2oS"),t=e("W9HT"),l=e("miYZ"),O=e("tsqr"),_=e("q1tI"),x=e.n(_),C=e("VMEa"),A=e("Qurx"),U=e("F/zT"),H=e("tneF"),y=e("VK58"),Z=e("DBJ/"),k=e("Jfn2"),X=e("G/Ub"),ee=e("0TUn"),se=function(N){var D=Object(_.useState)({state:"initial"}),T=Object(M.a)(D,2),z=T[0],W=T[1];return Object(_.useEffect)(function(){W({state:"loading"}),Object(ee.c)({class_type:N}).then(function(Q){Q.success&&W({state:"loaded",list:Q.data})})},[N]),z},ae=se,le=e("C8Qx"),a=e("nKUr"),oe=function($){var N,D=$.isNew,T=$.data,z=$.setData,W=Object(s.i)(),Q=Object(v.h)(),B=Q.user,I=ae("EscolaLms\\Auth\\Models\\User"),Y=Object(_.useState)(),ne=Object(M.a)(Y,2),G=ne[0],q=ne[1],me=Object(_.useCallback)(Object(f.a)(m.a.mark(function S(){var R,K;return m.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,Object(X.d)();case 2:return R=L.sent,L.next=5,R;case 5:K=L.sent,K.success&&q(K.data);case 7:case"end":return L.stop()}},S)})),[B]),te=function(){Object(y.c)(Number(B)).then(function(R){R.success&&(O.default.success(R.message),z(function(K){return Object(d.a)(Object(d.a)({},K),{},{avatar:"",path_avatar:""})}))}).catch(function(R){O.default.error(R.data.message)})};Object(_.useEffect)(function(){me()},[B]);var je=Object(_.useMemo)(function(){return{onFinish:function(){var S=Object(f.a)(m.a.mark(function K(Oe){var L,de;return m.a.wrap(function(w){for(;;)switch(w.prev=w.next){case 0:if(de=Object(d.a)({},Oe),!D){w.next=8;break}return w.next=4,Object(y.a)(de);case 4:L=w.sent,L.success&&s.d.push("/users/".concat(L.data.id,"/user_info")),w.next=11;break;case 8:return w.next=10,Object(y.j)(Number(B),de);case 10:L=w.sent;case 11:O.default.success(L.message);case 12:case"end":return w.stop()}},K)}));function R(K){return S.apply(this,arguments)}return R}(),initialValues:T}},[T,B]);return T?Object(a.jsxs)(C.a,Object(d.a)(Object(d.a)({},je),{},{children:[Object(a.jsxs)(C.a.Group,{children:[Object(a.jsx)(A.a,{width:"md",name:"first_name",label:Object(a.jsx)(s.a,{id:"first_name"}),tooltip:Object(a.jsx)(s.a,{id:"first_name"}),placeholder:W.formatMessage({id:"first_name"}),required:!0}),Object(a.jsx)(A.a,{width:"md",name:"last_name",label:Object(a.jsx)(s.a,{id:"last_name"}),tooltip:Object(a.jsx)(s.a,{id:"last_name"}),placeholder:W.formatMessage({id:"last_name"}),required:!0}),Object(a.jsx)(A.a,{width:"md",name:"email",label:Object(a.jsx)(s.a,{id:"email"}),tooltip:Object(a.jsx)(s.a,{id:"email"}),placeholder:W.formatMessage({id:"email"}),required:!0}),Object(a.jsx)(A.a.Password,{width:"md",name:"password",label:Object(a.jsx)(s.a,{id:"password"}),tooltip:Object(a.jsx)(s.a,{id:"password"}),placeholder:W.formatMessage({id:"password"}),required:D}),I.state==="loaded"&&I.list.map(function(S){return Object(a.jsx)(le.a,{field:S})})]}),Object(a.jsxs)(C.a.Group,{children:[!D&&Object(a.jsxs)(g.b,{direction:"vertical",children:[!((N=T.roles)!==null&&N!==void 0&&N.includes("admin"))&&Object(a.jsx)(U.a,{initialValue:T.is_active,name:"email_verified",label:Object(a.jsx)(s.a,{id:"is_email_verified"})}),Object(a.jsx)(P.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(R){return R.getFieldValue("email_verified")?Object(a.jsx)(x.a.Fragment,{}):Object(a.jsx)(E.a,{size:"small",onClick:function(){Object(y.f)(R.getFieldValue("email")).then(function(){O.default.success(W.formatMessage({id:"email_resend"}))})},children:Object(a.jsx)(s.a,{id:"resend"})})}})]}),Object(a.jsx)(U.a,{name:"is_active",label:Object(a.jsx)(s.a,{id:"is_active"})}),G&&Object(a.jsx)(H.a.Group,{name:"roles",layout:"horizontal",label:Object(a.jsx)(s.a,{id:"roles"}),options:G.filter(function(S){return S.guard_name!=="web"}).map(function(S){return S.name})})]}),!D&&Object(a.jsxs)(C.a.Group,{children:[Object(a.jsx)(C.a.Item,{name:"avatar",label:Object(a.jsx)(s.a,{id:"avatar"}),children:T.path_avatar?Object(a.jsx)(k.a,{path:T.path_avatar,size:600,width:200}):Object(a.jsx)(b.a,{children:Object(a.jsx)(s.a,{id:"avatar_placeholder"})})}),Object(a.jsx)(P.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Z.a,{wrapInForm:!1,url:"/api/admin/users/".concat(B,"/avatar"),name:"avatar",accept:"image/*",onChange:function(K){K.file.status==="done"&&K.file.response.success&&z(K.file.response.data)}}),Object(a.jsx)(E.a,{danger:!0,onClick:te,children:Object(a.jsx)(s.a,{id:"delete"})})]})}})]})]})):Object(a.jsx)(t.a,{})},ie=e("5ddx"),ce=e("TWax"),ue=function(N){var D=N.data,T=Object(_.useMemo)(function(){return{onFinish:function(){var z=Object(f.a)(m.a.mark(function Q(B){var I,Y;return m.a.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return I=Object(d.a)({},B),G.next=3,Object(y.k)(Number(D==null?void 0:D.id),I);case 3:Y=G.sent,O.default.success(Y.message);case 5:case"end":return G.stop()}},Q)}));function W(Q){return z.apply(this,arguments)}return W}(),initialValues:D}},[D]);return Object(a.jsx)(C.a,Object(d.a)(Object(d.a)({},T),{},{children:Object(a.jsx)(C.a.Item,{label:Object(a.jsx)(s.a,{id:"categories"}),name:"interests",valuePropName:"value",children:Object(a.jsx)(ce.a,{})})}))},J=ue,V=e("c+yx"),re=j.default=function(){var $=Object(v.h)(),N=Object(_.useState)(),D=Object(M.a)(N,2),T=D[0],z=D[1],W=Object(s.i)(),Q=$.tab,B=Q===void 0?"user_info":Q,I=$.user,Y=typeof I=="undefined",ne=Object(_.useCallback)(Object(f.a)(m.a.mark(function G(){var q;return m.a.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,Object(y.l)(Number(I));case 2:q=te.sent,q.success&&z(Object(d.a)(Object(d.a)({},q.data),{},{interests:q.data.interests.map(V.a)}));case 4:case"end":return te.stop()}},G)})),[I]);return Object(_.useEffect)(function(){if(Y){z({});return}ne()},[I,ne]),Object(a.jsx)(n.a,{title:Object(a.jsx)(s.a,{id:"settings"}),header:{breadcrumb:{routes:[{path:"/users/".concat(I,"/user_info"),breadcrumbName:W.formatMessage({id:"menu.Settings"})},{path:String(B),breadcrumbName:String(B)}]}},children:Object(a.jsxs)(p.a,{tabs:{type:"card",activeKey:B,onChange:function(q){return s.d.push("/users/".concat(I,"/").concat(q))}},children:[Object(a.jsx)(p.a.TabPane,{tab:Y?Object(a.jsx)(s.a,{id:"new_user"}):Object(a.jsx)(s.a,{id:"edit_user"}),children:Object(a.jsx)(oe,{isNew:Y,data:T,setData:z})},"user_info"),!Y&&Object(a.jsx)(p.a.TabPane,{tab:Object(a.jsx)("span",{children:Object(a.jsx)(s.a,{id:"categories"})}),children:(T==null?void 0:T.id)&&Object(a.jsx)(J,{data:T})},"categories"),!Y&&Object(a.jsx)(p.a.TabPane,{tab:Object(a.jsx)("span",{children:Object(a.jsx)(s.a,{id:"user.settings"})}),children:I&&Object(a.jsx)(ie.a,{user:I,isProfile:!1})},"settings")]})})}}}]);
