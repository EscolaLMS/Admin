(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{"/y+f":function(de,p,e){"use strict";e.d(p,"f",function(){return A}),e.d(p,"d",function(){return B}),e.d(p,"e",function(){return D}),e.d(p,"c",function(){return F}),e.d(p,"a",function(){return f}),e.d(p,"b",function(){return C});var A;(function(t){t.Unselected="",t.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",t.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",t.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",t.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",t.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",t.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",t.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",t.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",t.Project="EscolaLms\\TopicTypeProject\\Models\\Project",t.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz"})(A||(A={}));var S;(function(t){t.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",t.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(S||(S={}));var h;(function(t){t.draft="draft",t.published="published",t.archived="archived"})(h||(h={}));var B;(function(t){t.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",t.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",t.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(B||(B={}));var D;(function(t){t.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(D||(D={}));var u;(function(t){t.cart_fixed="cart_fixed",t.cart_percent="cart_percent",t.product_fixed="product_fixed",t.product_percent="product_percent"})(u||(u={}));var F;(function(t){t.MULTIPLE_CHOICE="multiple_choice",t.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",t.TRUE_FALSE="true_false",t.SHORT_ANSWERS="short_answers",t.MATCHING="matching",t.NUMERICAL_QUESTION="numerical_question",t.ESSAY="essay",t.DESCRIPTION="description"})(F||(F={}));var f;(function(t){t.PRESENT="present",t.ABSENT="absent"})(f||(f={}));var C;(function(t){t.Manual="manual",t.TeamsForms="teams_forms",t.TeamsLecture="teams_lecture",t.TestPortal="test_portal"})(C||(C={}))},"3fxf":function(de,p,e){"use strict";var A=e("DjyN"),S=e("NUBc"),h=e("Mwp2"),B=e("VXEj"),D=e("+L6B"),u=e("2/Rp"),F=e("5NDa"),f=e("5rEg"),C=e("oBTY"),t=e("k1fw"),d=e("tJVT"),I=e("DYRE"),m=e("zeV3"),P=e("tU7J"),E=e("wFql"),l=e("q1tI"),s=e.n(l),i=e("BAh9"),Y=e("/MfK"),M=e("mAF4"),ie=e("dF/Y"),L=e("9kvl"),W=e("DBJ/"),Ee=e("lLVY"),c=e.n(Ee),j=e("nKUr"),Pe=e.n(j),K=function(re){var a=re.directory,pe=re.onUploaded;return Object(j.jsxs)(m.b,{align:"start",children:[Object(j.jsxs)(E.a.Text,{children:[Object(j.jsx)(L.a,{id:"pages.files.filesBrowser"}),Object(j.jsx)(E.a.Text,{code:!0,children:a})]}),Object(j.jsx)(W.a,{url:"/api/admin/file/upload",name:"file[]",data:{target:a},onUpload:function(Me){Me.success&&pe(a,Me.data)}})]})},ye=function(re){var a=re.defaultDirectory,pe=a===void 0?"/":a,q=re.onFile,Me=re.hideDeleteBtn,ee=Me===void 0?!1:Me,Ie=re.forceLoading,U=Ie===void 0?!1:Ie,H=Object(L.l)(),N=Object(l.useState)({loading:!1,name:"",directory:pe,current_page:1,data:void 0,per_page:1,last_page:1,total:0}),k=Object(d.a)(N,2),T=k[0],te=k[1],n=Object(l.useRef)(),se=Object(l.useCallback)(function(x){te(function(r){return Object(t.a)(Object(t.a)({},r),{},{loading:x})})},[]),ae=Object(l.useCallback)(function(x,r){x.success&&te(function(v){return Object(t.a)(Object(t.a)(Object(t.a)({},v),x.data),{},{data:[{url:r.split("/").slice(0,-1).join("/"),name:"..",created_at:"",mime:"directory"}].concat(Object(C.a)(x.data.data.map(function(O){return Object(t.a)(Object(t.a)({},O),{},{url:O.mime==="directory"?"".concat(r,"/").concat(O.name):O.url})}))).filter(function(O){return r==="/"||r===pe?O.name!=="..":!0}),directory:r,loading:!1})})},[se]),V=Object(l.useCallback)(function(x){var r,v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,O=function(){return n.current&&n.current.abort()};return O(),n.current=new AbortController,se(!0),Object(i.a)({directory:x,page:v},{signal:(r=n.current)===null||r===void 0?void 0:r.signal}).then(function(_){_.success&&ae(_,x)}).catch(function(){return se(!1)}),function(){O()}},[se]);Object(l.useEffect)(function(){return V(pe)},[pe,V]);var me=Object(l.useCallback)(function(x){se(!0),Object(i.c)(x).then(function(){V(T.directory)}).catch(function(){se(!1)})},[V,se,T.directory]),Q=Object(l.useCallback)(function(x,r){var v,O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_=function(){return n.current&&n.current.abort()};return _(),n.current=new AbortController,se(!0),Object(i.b)({directory:x,name:r,page:O},{signal:(v=n.current)===null||v===void 0?void 0:v.signal}).then(function(X){X.success&&ae(X,x)}).catch(function(){return se(!1)}),function(){_()}},[se]);return Object(j.jsxs)("div",{className:"file-browser",children:[Object(j.jsxs)("div",{className:"file-browser__header",children:[Object(j.jsx)(f.a,{placeholder:H.formatMessage({id:"search_file"}),className:"file-browser__input",onChange:function(r){return te(function(v){return Object(t.a)(Object(t.a)({},v),{},{name:r.target.value})})},value:T.name}),Object(j.jsxs)("div",{children:[Object(j.jsx)(u.a,{className:"file-browser__button",onClick:function(){return V(T.directory)},children:Object(j.jsx)(L.a,{id:"reset"})}),Object(j.jsx)(u.a,{className:"file-browser__button",type:"primary",onClick:function(){return Q(T.directory,T.name)},children:Object(j.jsx)(L.a,{id:"query"})})]})]}),Object(j.jsx)(B.b,{loading:T.loading||U,size:"small",itemLayout:"horizontal",dataSource:T.data,header:Object(j.jsx)(K,{directory:T.directory,onUploaded:function(r,v){v&&(V(r),q&&q(v,r))}}),footer:Object(j.jsx)(K,{directory:T.directory,onUploaded:function(r,v){V(r),v&&q&&q(v,r)}}),renderItem:function(r){return Object(j.jsx)(B.b.Item,{actions:r.mime!=="directory"&&!ee?[Object(j.jsx)(u.a,{type:"default",danger:!0,icon:Object(j.jsx)(Y.a,{}),size:"small",onClick:function(){return me(r.url)}},"dir")]:[],children:Object(j.jsx)(B.b.Item.Meta,{avatar:r.mime==="directory"?Object(j.jsx)(u.a,{type:"primary",icon:Object(j.jsx)(M.a,{}),size:"small",onClick:function(){return V(r.url)}}):Object(j.jsx)("a",{href:r.url,target:"_blank",rel:"noreferrer",children:Object(j.jsx)(u.a,{type:"default",icon:Object(j.jsx)(ie.a,{}),size:"small"})}),description:Object(j.jsx)(s.a.Fragment,{children:Object(j.jsx)(u.a,{type:"text",size:"small",onClick:function(){return r.mime==="directory"?V(r.url):q&&q(r,T.directory)},children:r.name})})})})}}),Object(j.jsx)(S.a,{pageSizeOptions:[],current:T.current_page,total:T.total,pageSize:T.per_page,onChange:function(r){return V(T.directory,r)}})]})};p.a=ye},"5qq5":function(de,p,e){"use strict";var A=e("7Kak"),S=e("9yH6"),h=e("VTBJ"),B=e("Ff2n"),D=e("nKUr"),u=e.n(D),F=e("uX+g"),f=e("q1tI"),C=e.n(f),t=e("WFLz"),d=e("adzw"),I=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],m=C.a.forwardRef(function(s,i){var Y=s.fieldProps,M=s.options,ie=s.radioType,L=s.layout,W=s.proFieldProps,Ee=s.valueEnum,c=Object(B.a)(s,I);return Object(D.jsx)(d.a,Object(h.a)(Object(h.a)({valueType:ie==="button"?"radioButton":"radio",ref:i,valueEnum:Object(F.a)(Ee,void 0)},c),{},{fieldProps:Object(h.a)({options:M,layout:L},Y),proFieldProps:W,filedConfig:{customLightMode:!0}}))}),P=C.a.forwardRef(function(s,i){var Y=s.fieldProps,M=s.children;return Object(D.jsx)(S.a,Object(h.a)(Object(h.a)({},Y),{},{ref:i,children:M}))}),E=Object(t.a)(P,{valuePropName:"checked",ignoreWidth:!0}),l=E;l.Group=m,l.Button=S.a.Button,l.displayName="ProFormComponent",p.a=l},BAh9:function(de,p,e){"use strict";e.d(p,"a",function(){return D}),e.d(p,"b",function(){return F}),e.d(p,"e",function(){return C}),e.d(p,"d",function(){return d}),e.d(p,"c",function(){return I});var A=e("qLMh"),S=e("k1fw"),h=e("9og8"),B=e("9kvl");function D(P,E){return u.apply(this,arguments)}function u(){return u=Object(h.a)(Object(A.a)().mark(function P(E,l){return Object(A.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(B.i)("/api/admin/file/list",Object(S.a)({method:"GET",params:E},l||{})));case 1:case"end":return i.stop()}},P)})),u.apply(this,arguments)}function F(P,E){return f.apply(this,arguments)}function f(){return f=Object(h.a)(Object(A.a)().mark(function P(E,l){return Object(A.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(B.i)("/api/admin/file/find",Object(S.a)({method:"GET",params:E},l||{})));case 1:case"end":return i.stop()}},P)})),f.apply(this,arguments)}function C(P,E,l){return t.apply(this,arguments)}function t(){return t=Object(h.a)(Object(A.a)().mark(function P(E,l,s){var i;return Object(A.a)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return i=new FormData,i.append("file[]",E),i.append("target",l),M.abrupt("return",Object(B.i)("/api/admin/file/upload",Object(S.a)({method:"POST",data:i},s||{})));case 4:case"end":return M.stop()}},P)})),t.apply(this,arguments)}var d=function(E){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(E,"&w=").concat(l)};function I(P,E){return m.apply(this,arguments)}function m(){return m=Object(h.a)(Object(A.a)().mark(function P(E,l){return Object(A.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(B.i)("/api/admin/file/delete",Object(S.a)({method:"DELETE",data:{url:E}},l||{})));case 1:case"end":return i.stop()}},P)})),m.apply(this,arguments)}},BiO0:function(de,p,e){"use strict";var A=e("VTBJ"),S=e("Ff2n"),h=e("nKUr"),B=e.n(h),D=e("q1tI"),u=e.n(D),F=e("adzw"),f=["fieldProps","proFieldProps"],C=function(d,I){var m=d.fieldProps,P=d.proFieldProps,E=Object(S.a)(d,f);return Object(h.jsx)(F.a,Object(A.a)({ref:I,valueType:"textarea",fieldProps:m,proFieldProps:P},E))};p.a=u.a.forwardRef(C)},"DBJ/":function(de,p,e){"use strict";var A=e("k1fw"),S=e("y8nQ"),h=e("Vl3Y"),B=e("tJVT"),D=e("etVw"),u=e("q1tI"),F=e.n(u),f=e("9kvl"),C=e("qFDU"),t=e("nKUr"),d=e.n(t);function I(m){var P=m.onChange,E=m.onUpload,l=m.url,s=m.name,i=m.extra,Y=m.accept,M=m.data,ie=m.wrapInForm,L=ie===void 0?!0:ie,W=m.title,Ee=m.formProps,c=m.maxFiles,j=m.clearListAfterUpload,Pe=m.hideLabel,K=Object(u.useState)(),ye=Object(B.a)(K,2),ge=ye[0],re=ye[1],a=Object(f.l)();return M&&M[s]&&delete M[s],Object(t.jsx)(C.a,{condition:L,wrap:function(q){return Object(t.jsx)(h.a,Object(A.a)(Object(A.a)({},Ee),{},{children:q}))},children:Object(t.jsx)(D.a,{title:W||" ".concat(a.formatMessage({id:"upload_click_here"})),placeholder:a.formatMessage({id:"upload_click_here"}),onChange:function(q){re(q),P&&P(q),q.file.status==="done"&&(E&&E(q.file.response),j&&re(void 0))},label:!Pe&&Object(t.jsx)(f.a,{id:"upload"}),max:c!=null?c:2,fieldProps:{data:M,accept:Y,name:s,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(l),extra:i,fileList:ge==null?void 0:ge.fileList})})}p.a=I},FJDo:function(de,p,e){"use strict";var A=e("VTBJ"),S=e("Ff2n"),h=e("nKUr"),B=e.n(h),D=e("q1tI"),u=e.n(D),F=e("adzw"),f=["fieldProps","min","proFieldProps","max"],C=function(d,I){var m=d.fieldProps,P=d.min,E=d.proFieldProps,l=d.max,s=Object(S.a)(d,f);return Object(h.jsx)(F.a,Object(A.a)({valueType:"digit",fieldProps:Object(A.a)({min:P,max:l},m),ref:I,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:E},s))};p.a=u.a.forwardRef(C)},HEzf:function(de,p,e){"use strict";var A=e("EFp3"),S=e("O/iA"),h=e("OaEy"),B=e("wx14"),D=e("U8pU"),u=e("ODXe"),F=e("TSYQ"),f=e.n(F),C=e("Zm9Q"),t=e("bT9E"),d=e("q1tI"),I=e.n(d),m=e("H84U"),P=e("2fM7"),E=e("0n0R"),l=P.a.Option;function s(me){return me&&me.type&&(me.type.isSelectOption||me.type.isSelectOptGroup)}var i=function(Q,x){var r=Q.prefixCls,v=Q.className,O=Q.popupClassName,_=Q.dropdownClassName,X=Q.children,z=Q.dataSource,Oe=Object(C.a)(X),je;if(Oe.length===1&&Object(E.c)(Oe[0])&&!s(Oe[0])){var he=Object(u.a)(Oe,1);je=he[0]}var Re=je?function(){return je}:void 0,Ue;return Oe.length&&s(Oe[0])?Ue=X:Ue=z?z.map(function(fe){if(Object(E.c)(fe))return fe;switch(Object(D.a)(fe)){case"string":return d.createElement(l,{key:fe,value:fe},fe);case"object":{var oe=fe.value;return d.createElement(l,{key:oe,value:oe},fe.text)}default:return}}):[],d.createElement(m.a,null,function(fe){var oe=fe.getPrefixCls,De=oe("select",r);return d.createElement(P.a,Object(B.a)({ref:x},Object(t.a)(Q,["dataSource"]),{prefixCls:De,popupClassName:O||_,className:f()("".concat(De,"-auto-complete"),v),mode:P.a.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:Re}),Ue)})},Y=d.forwardRef(i);Y.Option=l;var M=Y,ie=e("y8nQ"),L=e("Vl3Y"),W=e("+L6B"),Ee=e("2/Rp"),c=e("5NDa"),j=e("5rEg"),Pe=e("tJVT"),K=e("VMEa"),ye=e("rmhi"),ge=e("Qurx"),re=e("F/zT"),a=e("5qq5"),pe=e("BiO0"),q=e("tneF"),Me=e("FJDo"),ee=e("9kvl"),Ie=e("+up7"),U=e("hd5d"),H=e("3fxf"),N=e("ovOe"),k=e.n(N),T=e("bRQS"),te=e("4i/N"),n=e("nKUr"),se=function(Q){var x=Q.value,r=Q.onChange,v=Q.type,O=v===void 0?"file":v,_=Object(d.useState)(!1),X=Object(Pe.a)(_,2),z=X[0],Oe=X[1];return Object(n.jsxs)(I.a.Fragment,{children:[Object(n.jsxs)(K.a.Group,{children:[Object(n.jsx)(j.a,{value:x,readOnly:!0}),Object(n.jsxs)(Ee.a,{size:"small",type:"primary",onClick:function(){return Oe(!z)},children:["toggle ",O," browser"]})]}),z&&Object(n.jsx)(H.a,{onFile:function(he,Re){return r&&r("".concat(Re,"/").concat(he.name))}})]})},ae=function(Q){var x=Object(ee.l)(),r=Q.visible,v=Q.onVisibleChange,O=Q.onFinish,_=Q.id,X=Q.initialData,z=Q.groups,Oe=L.a.useForm(),je=Object(Pe.a)(Oe,1),he=je[0],Re=!_||_===-1,Ue=Object(d.useState)("text"),fe=Object(Pe.a)(Ue,2),oe=fe[0],De=fe[1],Be=Object(d.useCallback)(function(){return!!(he.getFieldValue("group")==="global"||X)},[he,X]),Fe=Object(d.useState)(""),w=Object(Pe.a)(Fe,2),b=w[0],o=w[1];Object(d.useEffect)(function(){if(typeof _=="object"){var g;he.setFieldsValue(_),De((g=_.type)!==null&&g!==void 0?g:"text")}else _&&_!==-1?Object(Ie.d)(Number(_)).then(function(G){G.success&&(he.setFieldsValue(G.data),De(G.data.type),o(G.data.group))}):(he.resetFields(),De("text"))},[_,he,X]);var y=Object(d.useCallback)(function(g){g.type&&g.type!==oe&&De(g.type)},[oe]);return Object(n.jsxs)(ye.a,{form:he,title:x.formatMessage({id:_?"editSetting":"newSetting",defaultMessage:_?"editSetting":"newSetting"}),width:"60vw",visible:!!r,onVisibleChange:v,onFinish:O,onValuesChange:y,children:[Object(n.jsxs)(K.a.Group,{children:[X?Object(n.jsx)(ge.a,{label:Object(n.jsx)(ee.a,{id:"group",defaultMessage:"group"}),rules:[{required:!0}],width:"md",name:"group",disabled:Be()}):Object(n.jsx)(K.a.Item,{label:Object(n.jsx)(ee.a,{id:"group",defaultMessage:"group"}),name:"group",children:Object(n.jsx)(M,{style:{width:"300px"},autoFocus:!0,value:b,onChange:function(G){return o(G)},filterOption:function(G,R){var Z;return(R==null||(Z=R.children)===null||Z===void 0?void 0:Z.toString().toLowerCase().indexOf(G.toLowerCase()))!==-1},children:z.map(function(g){return Object(n.jsx)(M.Option,{value:g,children:g},g)})})}),Object(n.jsx)(ge.a,{label:Object(n.jsx)(ee.a,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key",disabled:Be()})]}),Object(n.jsxs)(K.a.Group,{children:[Object(n.jsx)(re.a,{name:"enumerable",disabled:Be(),label:Object(n.jsx)(ee.a,{id:"enumerable",defaultMessage:"enumerable"})}),Object(n.jsx)(re.a,{name:"public",disabled:Be(),label:Object(n.jsx)(ee.a,{id:"public",defaultMessage:"public"})})]}),Object(n.jsx)(K.a.Group,{children:Object(n.jsx)(a.a.Group,{disabled:!!(!Re||X),name:"type",label:Object(n.jsx)(ee.a,{id:"type"}),options:[{label:"text",value:"text"},{label:"markdown",value:"markdown"},{label:"json",value:"json"},{label:"file",value:"file"},{label:"image",value:"image"},{label:"boolean",value:"boolean"},{label:"number",value:"number"}]})}),Object(n.jsxs)("div",{children:[oe==="text"&&Object(n.jsx)(ge.a,{width:"lg",name:"value",label:Object(n.jsx)(ee.a,{id:"value"})}),oe==="json"&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(pe.a,{width:"lg",name:"value",label:Object(n.jsx)(ee.a,{id:"value"}),tooltip:"".concat(x.formatMessage({id:"example_json"}),': {"name":"John", "age":30, "city":["New York","Warsaw"]}')}),Object(n.jsx)(K.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(n.jsx)(k.a,{src:JSON.parse(he.getFieldValue("value"))})}catch(G){return Object(n.jsx)(k.a,{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]}),(oe==="file"||oe==="image")&&Object(n.jsx)(K.a.Item,{name:"value",label:"value",tooltip:"select file from current repository or upload new one",valuePropName:"value",children:Object(n.jsx)(se,{type:oe})}),oe==="markdown"&&Object(n.jsx)(K.a.Item,{name:"value",label:"value",tooltip:"The editor is WYSIWYG and includes formatting tools whilst retaining the ability to write markdown shortcuts inline and output plain Markdown.",valuePropName:"value",children:Object(n.jsx)(U.a,{directory:"settings/wysiwyg"})}),oe==="boolean"?Object(n.jsx)(re.a,{name:"data",label:Object(n.jsx)(ee.a,{id:"value"}),checkedChildren:Object(n.jsx)(T.a,{}),unCheckedChildren:Object(n.jsx)(te.a,{})}):Object(n.jsx)(K.a.Item,{noStyle:!0,hidden:!0,children:Object(n.jsx)(q.a,{name:"data",valuePropName:"data"})}),oe==="number"&&Object(n.jsx)(Me.a,{name:"data",label:Object(n.jsx)(ee.a,{id:"value"})})]})]})},V=p.a=ae},"O/iA":function(de,p,e){},Qurx:function(de,p,e){"use strict";var A=e("VTBJ"),S=e("Ff2n"),h=e("nKUr"),B=e.n(h),D=e("adzw"),u=["fieldProps","proFieldProps"],F=["fieldProps","proFieldProps"],f="text",C=function(m){var P=m.fieldProps,E=m.proFieldProps,l=Object(S.a)(m,u);return Object(h.jsx)(D.a,Object(A.a)({valueType:f,fieldProps:P,filedConfig:{valueType:f},proFieldProps:E},l))},t=function(m){var P=m.fieldProps,E=m.proFieldProps,l=Object(S.a)(m,F);return Object(h.jsx)(D.a,Object(A.a)({valueType:"password",fieldProps:P,proFieldProps:E,filedConfig:{valueType:f}},l))},d=C;d.Password=t,d.displayName="ProFormComponent",p.a=d},YjuE:function(de,p,e){"use strict";e.r(p);var A=e("fOrg"),S=e("+KLJ"),h=e("T2oS"),B=e("W9HT"),D=e("tJVT"),u=e("q1tI"),F=e.n(u),f=e("nhC9"),C=e("Ty5D"),t=e("9kvl"),d=e("tMyG"),I=e("+up7"),m=e("P2fV"),P=e("NJEC"),E=e("5Dmo"),l=e("3S7+"),s=e("+L6B"),i=e("2/Rp"),Y=e("+BJd"),M=e("mr32"),ie=e("jrin"),L=e("qLMh"),W=e("k1fw"),Ee=e("miYZ"),c=e("tsqr"),j=e("9og8"),Pe=e("xvlK"),K=e("Qiat"),ye=e("HEzf"),ge=e("G3dp"),re=e("/MfK"),a=e("nKUr"),pe=function(){var w=Object(j.a)(Object(L.a)().mark(function b(o,y,g){var G;return Object(L.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return G=c.b.loading(o.formatMessage({id:"loading"})),Z.prev=1,Z.next=4,g&&g!==-1?Object(I.h)(g,Object(W.a)({},y)):Object(I.b)(Object(W.a)({},y));case 4:return G(),c.b.success(o.formatMessage({id:"success"})),Z.abrupt("return",!0);case 9:return Z.prev=9,Z.t0=Z.catch(1),G(),c.b.error(o.formatMessage({id:"error"})),Z.abrupt("return",!1);case 14:case"end":return Z.stop()}},b,null,[[1,9]])}));return function(o,y,g){return w.apply(this,arguments)}}(),q=function(){var w=Object(j.a)(Object(L.a)().mark(function b(o,y){var g;return Object(L.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return g=c.b.loading(o.formatMessage({id:"loading"})),R.prev=1,R.next=4,Object(I.c)(y);case 4:return g(),c.b.success(o.formatMessage({id:"success"})),R.abrupt("return",!0);case 9:return R.prev=9,R.t0=R.catch(1),g(),c.b.error(o.formatMessage({id:"error"})),R.abrupt("return",!1);case 14:case"end":return R.stop()}},b,null,[[1,9]])}));return function(o,y){return w.apply(this,arguments)}}(),Me=function(){var b=Object(u.useState)(!1),o=Object(D.a)(b,2),y=o[0],g=o[1],G=Object(u.useState)([]),R=Object(D.a)(G,2),Z=R[0],xe=R[1],le=Object(u.useRef)(),ue=Object(t.l)(),ve=Object(t.m)("@@initialState"),J=ve.setInitialState;Object(u.useEffect)(function(){Object(I.e)().then(function($){$.success&&xe($.data.filter(function(ne){return ne!=="global"}))})},[]);var _e=[{title:Object(a.jsx)(t.a,{id:"group",defaultMessage:"group"}),dataIndex:"group",hideInSearch:!1,key:"group",valueType:"select",width:100,valueEnum:Z.sort().reduce(function($,ne){return Object(W.a)(Object(W.a)({},$),{},Object(ie.a)({},ne,ne))},{})},{title:Object(a.jsx)(t.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(a.jsx)(t.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:Object(a.jsx)(t.a,{id:"enumerable",defaultMessage:"enumerable"}),dataIndex:"enumerable",hideInForm:!0,hideInSearch:!0,render:function(ne,ce){return Object(a.jsx)(M.a,{color:ce.enumerable?"success":"error",children:Object(a.jsx)(t.a,{id:ce.enumerable?"true":"false",defaultMessage:ce.enumerable?"true":"false"})})}},{title:Object(a.jsx)(t.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(ne,ce){return Object(a.jsx)(M.a,{color:ce.public?"success":"error",children:Object(a.jsx)(t.a,{id:ce.public?"true":"false",defaultMessage:ce.public?"true":"false"})})}},{hideInSearch:!0,title:Object(a.jsx)(t.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(ne,ce){return[Object(a.jsx)(l.a,{title:Object(a.jsx)(t.a,{id:"edit",defaultMessage:"edit"}),children:Object(a.jsx)(i.a,{type:"primary",icon:Object(a.jsx)(ge.a,{}),onClick:function(){return g(ce.id)}})},"edit"),Object(a.jsx)(P.a,{title:Object(a.jsx)(t.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(j.a)(Object(L.a)().mark(function be(){var Ce;return Object(L.a)().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Le.next=2,q(ue,ce.id);case 2:Ce=Le.sent,Ce&&(g(!1),le.current&&le.current.reload());case 4:case"end":return Le.stop()}},be)})),okText:Object(a.jsx)(t.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(a.jsx)(t.a,{id:"no",defaultMessage:"No"}),children:Object(a.jsx)(l.a,{title:Object(a.jsx)(t.a,{id:"delete",defaultMessage:"delete"}),children:Object(a.jsx)(i.a,{type:"primary",icon:Object(a.jsx)(re.a,{}),danger:!0})})},"delete")]}}];return Object(a.jsxs)(F.a.Fragment,{children:[Object(a.jsx)(K.a,{headerTitle:ue.formatMessage({id:"menu.settings"}),actionRef:le,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[Object(a.jsxs)(i.a,{type:"primary",onClick:function(){g(-1)},children:[Object(a.jsx)(Pe.a,{})," ",Object(a.jsx)(t.a,{id:"pages.searchTable.new"})]},"primary")]},request:function(ne){var ce=ne.pageSize,be=ne.current,Ce=ne.group;return Object(I.f)({pageSize:ce,current:be,group:Ce}).then(function(Ae){return Ae.success?{data:Ae.data.filter(function(Le){return Le.group!=="global"}),total:Ae.meta.total,success:!0}:[]})},columns:_e}),Object(a.jsx)(ye.a,{groups:Z,id:y,visible:Number.isInteger(y),onVisibleChange:function(ne){return!ne&&g(!1)},onFinish:function(){var $=Object(j.a)(Object(L.a)().mark(function ne(ce){var be,Ce,Ae;return Object(L.a)().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return be=ce,Te.next=3,pe(ue,be,Number(y));case 3:if(Ce=Te.sent,!Ce){Te.next=12;break}if(g(!1),le.current&&le.current.reload(),be.group!=="global"){Te.next=12;break}return Te.next=10,Object(I.f)({current:1,pageSize:100,group:"global"});case 10:Ae=Te.sent,J(function(Se){return Object(W.a)(Object(W.a)({},Se),{},{config:Ae.success?Ae.data:Se==null?void 0:Se.config})});case 12:case"end":return Te.stop()}},ne)}));return function(ne){return $.apply(this,arguments)}}()})]})},ee=Me,Ie=e("oBTY"),U=e("y8nQ"),H=e("Vl3Y"),N=e("tU7J"),k=e("wFql"),T=e("rmhi"),te=e("VMEa"),n=e("F/zT"),se=e("BiO0"),ae=e("ovOe"),V=e.n(ae),me=e("Fghh"),Q=e("Qurx"),x=function(b){var o=b.field,y=b.name;return o!=null&&o.includes("boolean")?Object(a.jsx)(n.a,{name:y,checkedChildren:Object(a.jsx)(me.a,{id:"true"}),unCheckedChildren:Object(a.jsx)(me.a,{id:"false"})}):Object(a.jsx)(Q.a,{width:"lg",name:y})},r=x,v=k.a.Text,O;(function(w){w.Array="array",w.String="string"})(O||(O={}));var _=function(b,o){return o===O.Array?b&&Array.isArray(b)?JSON.stringify(b):"[]":b},X=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0;if(o===O.Array){var y=JSON.parse(b);return y&&Array.isArray(y)?y:[]}return b},z=function(b){var o=Object(me.k)(),y=b.visible,g=b.onVisibleChange,G=b.onFinish,R=b.value,Z=H.a.useForm(),xe=Object(D.a)(Z,1),le=xe[0],ue=Object(u.useMemo)(function(){return(R.rules||[]).includes(O.Array)?O.Array:O.String},[R.rules]);return Object(u.useEffect)(function(){le.setFieldsValue(Object(W.a)(Object(W.a)({},R),{},{value:_(R.value,ue)}))},[ue,R,le]),Object(a.jsxs)(T.a,{form:le,title:R.full_key,width:"60vw",visible:y,onVisibleChange:g,onFinish:Object(j.a)(Object(L.a)().mark(function ve(){var J;return Object(L.a)().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,Object(I.g)({key:R.full_key,value:X(le.getFieldsValue().value,ue)});case 2:if(J=$.sent,!J.success){$.next=6;break}return G(J.success===!0),$.abrupt("return",J.success);case 6:return $.abrupt("return");case 7:case"end":return $.stop()}},ve)})),children:[Object(a.jsxs)(te.a.Group,{children:[Object(a.jsx)(n.a,{disabled:!0,name:"public",label:Object(a.jsx)(t.a,{id:"public",defaultMessage:"public"})}),Object(a.jsx)(n.a,{disabled:!0,name:"readonly",label:Object(a.jsx)(t.a,{id:"readonly",defaultMessage:"readonly"})}),Object(a.jsx)(te.a.Item,{shouldUpdate:!0,label:Object(a.jsx)(t.a,{id:"rules",defaultMessage:"rules"}),children:function(){return Object(a.jsx)(v,{code:!0,children:JSON.stringify(le.getFieldValue("rules"))})}})]}),ue===O.Array?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(se.a,{width:"lg",name:"value",label:Object(a.jsx)(t.a,{id:"value"}),tooltip:"".concat(o.formatMessage({id:"example_json"}),': ["first_field_name", "second_field_name"]')}),Object(a.jsx)(te.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(a.jsx)(V.a,{src:JSON.parse(le.getFieldValue("value"))})}catch(J){return Object(a.jsx)(V.a,{src:JSON.parse('{ "error": "cannot parse this array" }')})}}})]}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(te.a.Item,{shouldUpdate:!0,label:Object(a.jsx)(t.a,{id:"value"}),children:function(){return Object(a.jsx)(r,{field:le.getFieldValue("rules"),name:"value"})}})})]})},Oe=z,je=e("c+yx"),he=[{title:Object(a.jsx)(t.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!1,sorter:!0},{title:Object(a.jsx)(t.a,{id:"readonly",defaultMessage:"readonly"}),dataIndex:"readonly",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(b,o){return Object(a.jsx)(M.a,{color:o.readonly?"success":"error",children:Object(a.jsx)(t.a,{id:o.readonly?"true":"false",defaultMessage:o.readonly?"true":"false"})})}},{title:Object(a.jsx)(t.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(b,o){return Object(a.jsx)(M.a,{color:o.public?"success":"error",children:Object(a.jsx)(t.a,{id:o.public?"true":"false",defaultMessage:o.public?"true":"false"})})}},{title:Object(a.jsx)(t.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(b,o){return typeof o.value=="boolean"?Object(a.jsx)(M.a,{color:o.value?"success":"error",children:Object(a.jsx)(t.a,{id:o.value?"true":"false",defaultMessage:o.value?"true":"false"})}):Array.isArray(o.value)?o.value.map(function(y){return typeof y=="object"?F.a.Children.toArray(Object(a.jsx)("p",{children:Object.keys(y).map(function(g){return"".concat(g,": ").concat(y[g])}).join(", ")})):y}):o.value}}],Re=function w(b,o){var y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return!b||typeof b!="object"?!1:(Object.keys(b).forEach(function(g){var G=b[g];g===o?y.push(b):typeof G=="object"&&w(G,o,y)}),y)},Ue=function(b){var o=b.packageName,y=b.values,g=b.onValueUpdated,G=Object(t.l)(),R=Object(u.useState)(),Z=Object(D.a)(R,2),xe=Z[0],le=Z[1],ue=Object(u.useMemo)(function(){var ve=y[o];return Re(ve,"rules")},[y,o]);return Object(a.jsxs)(F.a.Fragment,{children:[Object(a.jsx)(K.a,{headerTitle:G.formatMessage({id:"menu.settings"}),rowKey:"key",search:{layout:"vertical"},columns:[].concat(he,[{hideInSearch:!0,title:Object(a.jsx)(t.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(J,_e){return[Object(a.jsx)(l.a,{title:Object(a.jsx)(t.a,{id:"edit",defaultMessage:"edit"}),children:Object(a.jsx)(i.a,{type:"primary",icon:Object(a.jsx)(ge.a,{}),onClick:function(){return le(_e)}})},"edit")]}}]),request:function(J,_e){var $=J.key,ne=_e&&Object.entries(_e)[0];return new Promise(function(ce){var be=ue?Object(Ie.a)(ue):[];$&&(be=be.filter(function(Ce){return Ce.key.toLowerCase().includes($.toLowerCase())})),ne&&(be=Object(je.g)(be,ne[0],ne[1]!=="ascend")),ce({data:be,success:!0,total:be.length})})}}),xe&&Object(a.jsx)(Oe,{value:xe,visible:xe!==void 0,onVisibleChange:function(J){return J===!1&&le(void 0)},onFinish:Object(j.a)(Object(L.a)().mark(function ve(){return Object(L.a)().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:g();case 1:case"end":return _e.stop()}},ve)}))})]})},fe=Ue,oe=e("t4ZK"),De=e("I5X1"),Be=function(b){return b.replaceAll("escolalms","").split("_").join("")},Fe=p.default=function(){var w=Object(C.l)(),b=Object(t.l)(),o=w.tab,y=o===void 0?"user_settings":o,g=Object(u.useState)(),G=Object(D.a)(g,2),R=G[0],Z=G[1],xe=Object(u.useCallback)(function(){Object(I.a)().then(function(J){J.success&&Z(J.data)})},[]),le=Object(De.a)("@@initialState"),ue=le.initialState,ve=Object(u.useCallback)(function(){var J;return(ue==null||(J=ue.config)===null||J===void 0?void 0:J.length)!==0},[ue]);return Object(u.useEffect)(function(){xe()},[]),R?Object(a.jsxs)(d.a,{title:Object(a.jsx)(t.a,{id:"settings"}),header:{breadcrumb:{routes:[{path:"settings",breadcrumbName:b.formatMessage({id:"menu.Configuration.settings"})},{path:String(y),breadcrumbName:String(y)}]}},children:[!ve()&&Object(a.jsx)(S.a,{message:Object(a.jsx)(t.a,{id:"global_settings_alert_title",defaultMessage:"Add global settings"}),description:Object(a.jsx)(t.a,{id:"global_settings_alert_description",defaultMessage:"Global settings are used to configure the entire LMS. You can add global settings by clicking the button below."}),type:"warning",showIcon:!0,style:{marginBottom:"20px"}}),Object(a.jsxs)(f.a,{tabs:{type:"card",activeKey:y,onChange:function(_e){return t.f.push("/configuration/settings/".concat(_e))}},children:[Object(a.jsx)(f.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"user.settings"}),children:Object(a.jsx)(ee,{})},"user_settings"),Object(a.jsx)(f.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"global_settings"}),children:Object(a.jsx)(oe.a,{})},"global_settings"),Object.keys(R).map(function(J){return Object(a.jsxs)(f.a.TabPane,{tab:Object(a.jsxs)("span",{children:[Object(a.jsx)(t.a,{id:"package"})," ",Be(J)]}),children:[Object(a.jsx)(fe,{values:R,packageName:J,onValueUpdated:function(){return xe()}}),J]},J)})]})]}):Object(a.jsx)(B.a,{})}},hd5d:function(de,p,e){"use strict";var A=e("qLMh"),S=e("9og8"),h=e("q1tI"),B=e.n(h),D=e("acco"),u=e.n(D),F=e("BAh9"),f=e("vtG9"),C=e.n(f),t=e("9kvl"),d=e("nKUr"),I=e.n(d),m=function(l){var s=l.attrs,i=s.href,Y=i.split("/").pop();return Object(d.jsx)("p",{children:Object(d.jsx)("a",{rel:"noreferrer",href:i,target:"_blank",children:Y})})},P=function(l){var s=l.value,i=l.onChange,Y=l.directory,M=Y===void 0?"/wysiwyg":Y,ie=Object(t.l)();return Object(d.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(d.jsx)(u.a,{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function(W){return!0},component:m}],uploadImage:function(){var L=Object(S.a)(Object(A.a)().mark(function W(Ee){var c,j;return Object(A.a)().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,Object(F.e)(Ee,M);case 2:if(c=K.sent,!c.success){K.next=8;break}if(!Ee.type.includes("image/")){K.next=7;break}return j=c.data[0].name.includes("/")?c.data[0].name:"".concat(M).concat(c.data[0].name),K.abrupt("return",Object(F.d)(j,1e3));case 7:return K.abrupt("return",c.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return K.stop()}},W)}));return function(W){return L.apply(this,arguments)}}(),defaultValue:s||"",onChange:function(W){return i&&i(W())},placeholder:ie.formatMessage({id:"wysiwyg_placeholder"})})})};p.a=P},lLVY:function(de,p,e){},t4ZK:function(de,p,e){"use strict";e.d(p,"b",function(){return q});var A=e("P2fV"),S=e("NJEC"),h=e("5Dmo"),B=e("3S7+"),D=e("+L6B"),u=e("2/Rp"),F=e("tJVT"),f=e("oBTY"),C=e("qLMh"),t=e("k1fw"),d=e("miYZ"),I=e("tsqr"),m=e("9og8"),P=e("xvlK"),E=e("q1tI"),l=e.n(E),s=e("9kvl"),i=e("Qiat"),Y=e("/y+f"),M=e("+up7"),ie=e("HEzf"),L=e("G3dp"),W=e("/MfK"),Ee=e("ujla"),c=e("nKUr"),j=e.n(c),Pe=function(){var U=Object(m.a)(Object(C.a)().mark(function H(N,k,T){var te,n;return Object(C.a)().wrap(function(ae){for(;;)switch(ae.prev=ae.next){case 0:return te=I.b.loading(N.formatMessage({id:"loading"})),ae.prev=1,ae.next=4,T&&T!==-1?Object(M.h)(T,Object(t.a)({},k)):Object(M.b)(Object(t.a)({},k));case 4:return n=ae.sent,te(),I.b.success(N.formatMessage({id:"success"})),ae.abrupt("return",{success:!0,updatedSettings:n});case 10:return ae.prev=10,ae.t0=ae.catch(1),te(),I.b.error(N.formatMessage({id:"error"})),ae.abrupt("return",{success:!1,updateSettings:null});case 15:case"end":return ae.stop()}},H,null,[[1,10]])}));return function(N,k,T){return U.apply(this,arguments)}}(),K=function(){var U=Object(m.a)(Object(C.a)().mark(function H(N,k){var T;return Object(C.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return T=I.b.loading(N.formatMessage({id:"loading"})),n.prev=1,n.next=4,Object(M.c)(k);case 4:return T(),I.b.success(N.formatMessage({id:"success"})),n.abrupt("return",!0);case 9:return n.prev=9,n.t0=n.catch(1),T(),I.b.error(N.formatMessage({id:"error"})),n.abrupt("return",!1);case 14:case"end":return n.stop()}},H,null,[[1,9]])}));return function(N,k){return U.apply(this,arguments)}}(),ye=function(H){return H.toLowerCase().replace(/(_\w)/g,function(N){return N.toUpperCase().substr(1)})},ge=function U(H){return H.reduce(function(N,k){return[].concat(Object(f.a)(N),Object(f.a)(k.routes?U(k.routes):[]),[k])},[]).filter(function(N){return N.layout!==!1&&N.hideInMenu!==!0})},re=["public"],a=["email","sms"],pe=function(H){return"hideInMenu-".concat(ye(H.split("/").join("_")))},q=function(H){return"disableTopicType-".concat(H)},Me=[].concat(Object(f.a)(Object.keys(Y.f).map(function(U){return{key:q(U),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(f.a)(ge(Object(Ee.a)()).filter(function(U){return U.path&&U.path!=="/"}).map(function(U){return{path:U.path,key:pe(U.path),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(f.a)(["ECommerce","Certificates"].map(function(U){return{key:"disable-".concat(U),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(f.a)(re.map(function(U){return{key:"showInCourseAdditionalSettings-".concat(U),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(f.a)(a.map(function(U){return{key:"hideTemplateTab-".concat(U),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}}))).reduce(function(U,H,N){return U[H.key]=Object(t.a)(Object(t.a)({},H),{},{id:-1*N}),U},{}),ee=Object(t.a)({logo:{id:-1,key:"logo",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},frontURL:{id:-2,key:"frontURL",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},maxLessonsNestingInProgram:{id:-4,key:"maxLessonsNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},minTopicNestingInProgram:{id:-5,key:"minTopicNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0}},Me),Ie=function(){var H=Object(E.useState)(!1),N=Object(F.a)(H,2),k=N[0],T=N[1],te=Object(E.useRef)(),n=Object(s.l)(),se=Object(s.m)("@@initialState"),ae=se.setInitialState,V=se.initialState,me=[{title:Object(c.jsx)(s.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(c.jsx)(s.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:Object(c.jsx)(s.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(r,v){return v.value}},{hideInSearch:!0,title:Object(c.jsx)(s.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(r,v){return[v.id>0?Object(c.jsx)(B.a,{title:Object(c.jsx)(s.a,{id:"edit",defaultMessage:"edit"}),children:Object(c.jsx)(u.a,{type:"primary",icon:Object(c.jsx)(L.a,{}),onClick:function(){return T(v.id)}})},"edit"):Object(c.jsx)(B.a,{title:Object(c.jsx)(s.a,{id:"create",defaultMessage:"create"}),children:Object(c.jsx)(u.a,{type:"primary",icon:Object(c.jsx)(P.a,{}),onClick:function(){T(ee[v.key]||-1)}})},"create"),Object(c.jsx)(S.a,{title:Object(c.jsx)(s.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(m.a)(Object(C.a)().mark(function O(){var _;return Object(C.a)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return z.next=2,K(n,v.id);case 2:_=z.sent,_&&(T(!1),te.current&&te.current.reload());case 4:case"end":return z.stop()}},O)})),okText:Object(c.jsx)(s.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(c.jsx)(s.a,{id:"no",defaultMessage:"No"}),children:v.id>0?Object(c.jsx)(B.a,{title:Object(c.jsx)(s.a,{id:"delete",defaultMessage:"delete"}),children:Object(c.jsx)(u.a,{type:"primary",icon:Object(c.jsx)(W.a,{}),danger:!0})}):null},"delete")]}}],Q=function(r){var v;if(!!r&&(!(V!=null&&(v=V.config)!==null&&v!==void 0&&v.length)&&r&&ae(Object(t.a)(Object(t.a)({},V),{},{config:[r]})),!!(V!=null&&V.config))){var O=V==null?void 0:V.config.map(function(_){return _.key===r.key?Object(t.a)(Object(t.a)({},_),r):_});ae(Object(t.a)(Object(t.a)({},V),{},{config:O}))}};return Object(c.jsxs)(l.a.Fragment,{children:[Object(c.jsx)(i.a,{headerTitle:n.formatMessage({id:"menu.settings"}),search:!1,toolBarRender:!1,actionRef:te,rowKey:"id",request:function(r){var v=r.pageSize,O=r.current;return Object(M.f)({pageSize:v,current:O,group:"global"}).then(function(_){if(_.success){var X=[].concat(Object(f.a)(Object.keys(ee).map(function(z){return _.data.find(function(Oe){return Oe.key===z})||ee[z]})),Object(f.a)(_.data.filter(function(z){return!Object.keys(ee).includes(z.key)})));return{data:X,total:X.length,success:!0}}return[]})},columns:me}),Object(c.jsx)(ie.a,{groups:[],id:k,visible:k,initialData:ee,onVisibleChange:function(r){return!r&&T(!1)},onFinish:function(){var x=Object(m.a)(Object(C.a)().mark(function r(v){var O,_,X,z;return Object(C.a)().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return O=v,O.type==="number"&&(O=Object(t.a)(Object(t.a)({},O),{},{value:String(O.data)})),O.type==="boolean"&&(O=Object(t.a)(Object(t.a)({},O),{},{value:O.data})),je.next=5,Pe(n,O,Number(k));case 5:_=je.sent,X=_.success,z=_.updatedSettings,X&&(z!=null&&z.success&&Q(z.data),T(!1),te.current&&te.current.reload());case 9:case"end":return je.stop()}},r)}));return function(r){return x.apply(this,arguments)}}()})]})};p.a=Ie},tneF:function(de,p,e){"use strict";var A=e("sRBo"),S=e("kaz8"),h=e("VTBJ"),B=e("Ff2n"),D=e("nKUr"),u=e.n(D),F=e("uX+g"),f=e("q1tI"),C=e.n(f),t=e("WFLz"),d=e("adzw"),I=["options","fieldProps","proFieldProps","valueEnum"],m=C.a.forwardRef(function(s,i){var Y=s.options,M=s.fieldProps,ie=s.proFieldProps,L=s.valueEnum,W=Object(B.a)(s,I);return Object(D.jsx)(d.a,Object(h.a)({ref:i,valueType:"checkbox",valueEnum:Object(F.a)(L,void 0),fieldProps:Object(h.a)({options:Y},M),lightProps:Object(h.a)({labelFormatter:function(){return Object(D.jsx)(d.a,Object(h.a)({ref:i,valueType:"checkbox",mode:"read",valueEnum:Object(F.a)(L,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(h.a)({options:Y},M),proFieldProps:ie},W))}},W.lightProps),proFieldProps:ie},W))}),P=C.a.forwardRef(function(s,i){var Y=s.fieldProps,M=s.children;return Object(D.jsx)(S.a,Object(h.a)(Object(h.a)({ref:i},Y),{},{children:M}))}),E=Object(t.a)(P,{valuePropName:"checked"}),l=E;l.Group=m,p.a=l},vtG9:function(de,p,e){}}]);
