"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7760],{47389:function(w,O,e){var M=e(1413),s=e(67294),C=e(27363),y=e(84089),j=function(R,o){return s.createElement(y.Z,(0,M.Z)((0,M.Z)({},R),{},{ref:o,icon:C.Z}))};j.displayName="EditOutlined",O.Z=s.forwardRef(j)},76971:function(w,O,e){e.d(O,{Z:function(){return R}});var M=e(1413),s=e(67294),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z"}}]},name:"plus-circle",theme:"filled"},y=C,j=e(84089),g=function(F,r){return s.createElement(j.Z,(0,M.Z)((0,M.Z)({},F),{},{ref:r,icon:y}))};g.displayName="PlusCircleFilled";var R=s.forwardRef(g)},5966:function(w,O,e){var M=e(97685),s=e(1413),C=e(45987),y=e(21770),j=e(75842),g=e(55241),R=e(97435),o=e(67294),F=e(41550),r=e(85893),I=["fieldProps","proFieldProps"],$=["fieldProps","proFieldProps"],v="text",q=function(a){var n=a.fieldProps,p=a.proFieldProps,d=(0,C.Z)(a,I);return(0,r.jsx)(F.Z,(0,s.Z)({valueType:v,fieldProps:n,filedConfig:{valueType:v},proFieldProps:p},d))},z=function(a){var n=(0,y.Z)(a.open||!1,{value:a.open,onChange:a.onOpenChange}),p=(0,M.Z)(n,2),d=p[0],u=p[1];return(0,r.jsx)(j.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(b){var t,T=b.getFieldValue(a.name||[]);return(0,r.jsx)(g.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(l){return l&&l.parentNode?l.parentNode:l},onOpenChange:u,content:(0,r.jsxs)("div",{style:{padding:"4px 0"},children:[(t=a.statusRender)===null||t===void 0?void 0:t.call(a,T),a.strengthText?(0,r.jsx)("div",{style:{marginTop:10},children:(0,r.jsx)("span",{children:a.strengthText})}):null]}),overlayStyle:{width:240},placement:"right"},a.popoverProps),{},{open:d,children:a.children}))}})},V=function(a){var n=a.fieldProps,p=a.proFieldProps,d=(0,C.Z)(a,$),u=(0,o.useState)(!1),K=(0,M.Z)(u,2),b=K[0],t=K[1];return n!=null&&n.statusRender&&d.name?(0,r.jsx)(z,{name:d.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:b,onOpenChange:t,children:(0,r.jsx)(F.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,R.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(A){var l;n==null||(l=n.onBlur)===null||l===void 0||l.call(n,A),t(!1)},onClick:function(A){var l;n==null||(l=n.onClick)===null||l===void 0||l.call(n,A),t(!0)}}),proFieldProps:p,filedConfig:{valueType:v}},d))}):(0,r.jsx)(F.Z,(0,s.Z)({valueType:"password",fieldProps:n,proFieldProps:p,filedConfig:{valueType:v}},d))},f=q;f.Password=V,f.displayName="ProFormComponent",O.Z=f},51457:function(w,O,e){e.r(O),e.d(O,{TableColumns:function(){return l},default:function(){return m}});var M=e(15009),s=e.n(M),C=e(99289),y=e.n(C),j=e(5574),g=e.n(j),R=e(9783),o=e.n(R),F=e(97857),r=e.n(F),I=e(15385),$=e(66419),v=e(43669),q=e(47389),z=e(74453),V=e(16894),f=e(83062),U=e(14726),a=e(67294),n=e(80854),p=e(37476),d=e(952),u=e(5966),K=e(75842),b=e(37550),t=e(85893),T=function(c){var D=c.visible,N=c.onVisibleChange,J=c.onFinish,W=c.langKey,ne=c.defaultValue,G=(0,n.useIntl)(),L=K.Z.useForm(),Y=g()(L,1),X=Y[0];return(0,a.useEffect)(function(){X.setFieldsValue({key:W,text:ne})},[W,X]),(0,t.jsxs)(p.Y,{form:X,title:G.formatMessage({id:"editTranslation",defaultMessage:"Edit Translation"}),width:"700px",visible:D,onVisibleChange:N,onFinish:function(ae){return J(r()({},ae))},children:[(0,t.jsxs)(d.ZP.Group,{children:[(0,t.jsx)(u.Z,{disabled:!0,label:(0,t.jsx)(n.FormattedMessage,{id:"group",defaultMessage:"group"}),name:"group",initialValue:"Admin"}),(0,t.jsx)(u.Z,{disabled:!0,name:"key",label:(0,t.jsx)(n.FormattedMessage,{id:"key"}),placeholder:G.formatMessage({id:"key"}),required:!0})]}),(0,t.jsx)(d.ZP.Item,{name:"text",label:(0,t.jsx)(n.FormattedMessage,{id:"translationJsonText"}),tooltip:(0,t.jsx)(n.FormattedMessage,{id:"translationJsonText_tooltip"}),valuePropName:"value",children:(0,t.jsx)(b.V,{})})]})},A=T,l=[{title:(0,t.jsx)(n.FormattedMessage,{id:"language",defaultMessage:"Language"}),dataIndex:"lang",sorter:!0,valueType:"select",valueEnum:(0,n.getAllLocales)().reduce(function(B,c){return r()(r()({},B),{},o()({},c,c))},{})},{title:(0,t.jsx)(n.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",sorter:!0},{title:(0,t.jsx)(n.FormattedMessage,{id:"value",defaultMessage:"value"}),dataIndex:"value",sorter:!0}],ee=function(){var c=(0,a.useState)(Math.random()),D=g()(c,2),N=D[0],J=D[1],W=(0,a.useRef)(),ne=(0,a.useState)(),G=g()(ne,2),L=G[0],Y=G[1],X=(0,n.useIntl)(),te=(0,a.useMemo)(function(){for(var x=[],h=Object.keys(v.H8),_=function(){var E=H[i],Q=v.H8[E].messages;Q&&Object.keys(Q).forEach(function(Z){x.push({id:"".concat(E,"-").concat(Z),lang:E,key:Z,value:Q[Z]||""})})},i=0,H=h;i<H.length;i++)_();return x},[N]),ae=(0,a.useCallback)(function(x){var h=te.reduce(function(_,i){return i.key===x?r()(r()({},_),{},o()({},i.lang,i.value)):_},{});Y({key:x,defaultValue:h})},[]);return(0,t.jsxs)(z._z,{children:[(0,t.jsx)(V.ZP,{headerTitle:X.formatMessage({id:"menu.Configuration.Translations",defaultMessage:"Translations"}),actionRef:W,search:{layout:"vertical"},rowKey:"id",request:function(h,_){var i=h.lang,H=h.key,P=h.value,E=_&&Object.entries(_)[0];return new Promise(function(Q){var Z=te.filter(function(k){var S=!0;return S&&i&&k.lang!==i&&(S=!1),S&&H&&!k.key.includes(H)&&(S=!1),S&&P&&typeof k.value=="string"&&k.value&&!k.value.includes(P)&&(S=!1),S});E&&(console.log("rows: ",Z),console.log("sortArr: ",E),Z=Z.sort((0,$.YC)(E[0],E[1]!=="ascend"))),Q({data:Z,success:!0,total:Z.length})})},columns:[].concat(l,[{title:(0,t.jsx)(n.FormattedMessage,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(h,_){return[(0,t.jsx)(f.Z,{title:(0,t.jsx)(n.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,t.jsx)(U.ZP,{type:"primary",icon:(0,t.jsx)(q.Z,{}),onClick:function(){return ae(_.key)}})},"edit"),,]}}])})," ",(0,t.jsx)(A,{langKey:L==null?void 0:L.key,defaultValue:L==null?void 0:L.defaultValue,visible:!!L,onVisibleChange:function(h){return h===!1&&Y(void 0)},onFinish:function(){var x=y()(s()().mark(function h(_){var i;return s()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return Object.entries(_.text).forEach(function(E){E[1]&&(0,n.addLocale)(E[0],o()({},_.key,E[1]),{antd:v.H8[E[0]].antd,momentLocale:v.H8[E[0]].momentLocale})}),W.current&&(J(Math.random()),W.current.reload()),P.next=4,(0,I.Iz)({group:"Admin",key:_.key});case 4:if(i=P.sent,!i.success){P.next=12;break}if(!(i.data.length>0&&i.data[0].id)){P.next=10;break}(0,I.KK)(i.data[0].id,_),P.next=12;break;case 10:return P.next=12,(0,I.vP)(_);case 12:return Y(void 0),P.abrupt("return",!0);case 14:case"end":return P.stop()}},h)}));return function(h){return x.apply(this,arguments)}}()})]})},m=ee},37550:function(w,O,e){e.d(O,{V:function(){return a}});var M=e(52677),s=e.n(M),C=e(5574),y=e.n(C),j=e(9783),g=e.n(j),R=e(97857),o=e.n(R),F=e(71230),r=e(15746),I=e(96365),$=e(14726),v=e(67294),q=e(45823),z=e(76971),V=e(80854),f=e(85893),U=function(){return(0,V.getAllLocales)().reduce(function(d,u){return o()(o()({},d),{},g()({},u,""))},{})},a=function(d){var u=d.value,K=d.onChange,b=(0,v.useState)(U()),t=y()(b,2),T=t[0],A=t[1];(0,v.useEffect)(function(){var m=s()(u)==="object"?u:JSON.parse(u!=null?u:"{}");A(Object.assign(U(),m))},[u]),(0,v.useEffect)(function(){K&&JSON.stringify(T)!==JSON.stringify(u)&&K(T)},[T]);var l=(0,v.useCallback)(function(){A(function(m){return o()(o()({},m),{},{lang:""})})},[]),ee=(0,v.useCallback)(function(m,B,c){A(function(D){return Object.entries(D).reduce(function(N,J,W){return W===m?o()(o()({},N),{},g()({},B,c)):o()(o()({},N),{},g()({},J[0],J[1]))},{})})},[]);return(0,f.jsxs)("div",{children:[Object.entries(T).map(function(m,B){return(0,f.jsxs)(F.Z,{children:[(0,f.jsx)(r.Z,{span:6,children:(0,f.jsx)(I.Z,{disabled:(0,V.getAllLocales)().includes(m[0]),value:m[0],maxLength:5,onChange:function(D){return ee(B,D.target.value,m[1])}})}),(0,f.jsx)(r.Z,{span:24-6,children:(0,f.jsx)(I.Z,{value:m[1],onChange:function(D){return ee(B,m[0],D.target.value)}})})]},m[0])}),(0,f.jsx)($.ZP,{onClick:function(){return l()},icon:(0,f.jsx)(z.Z,{})})]})},n=null},45823:function(){}}]);
