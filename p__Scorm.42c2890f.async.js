(window.webpackJsonp=window.webpackJsonp||[]).push([[20],{"5tKr":function(x,m,e){"use strict";e.d(m,"b",function(){return u}),e.d(m,"a",function(){return f});var _=e("k1fw"),E=e("9og8"),A=e("WmNS"),s=e.n(A),M=e("9kvl");function u(t,r){return i.apply(this,arguments)}function i(){return i=Object(E.a)(s.a.mark(function t(r,a){return s.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(M.f)("/api/admin/scorm",Object(_.a)({params:Object(_.a)(Object(_.a)({},r),{},{per_page:r.pageSize,page:r.current}),method:"GET",useCache:!1},a||{})));case 1:case"end":return o.stop()}},t)})),i.apply(this,arguments)}function d(t,r){return c.apply(this,arguments)}function c(){return c=Object(E.a)(s.a.mark(function t(r,a){return s.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(M.f)("/api/admin/scorm/scos",Object(_.a)({params:Object(_.a)(Object(_.a)({},r),{},{per_page:r.pageSize,page:r.current}),method:"GET",useCache:!1},a||{})));case 1:case"end":return o.stop()}},t)})),c.apply(this,arguments)}function f(t,r){return l.apply(this,arguments)}function l(){return l=Object(E.a)(s.a.mark(function t(r,a){return s.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(M.f)("/api/admin/scorm/".concat(r),Object(_.a)({method:"DELETE"},a||{})));case 1:case"end":return o.stop()}},t)})),l.apply(this,arguments)}},"DBJ/":function(x,m,e){"use strict";var _=e("y8nQ"),E=e("Vl3Y"),A=e("etVw"),s=e("q1tI"),M=e.n(s),u=e("9kvl"),i=function(l){var t=l.condition,r=l.children,a=l.wrap;return t?M.a.cloneElement(a(r)):r},d=e("nKUr"),c=function(t){var r=t.onChange,a=t.url,p=t.name,o=t.extra,R=t.accept,O=t.data,g=t.wrapInForm,b=g===void 0?!0:g,U=Object(u.i)();return O&&O[p]&&delete O[p],Object(d.jsx)(i,{condition:b,wrap:function(K){return Object(d.jsx)(E.a,{children:K})},children:Object(d.jsx)(A.a,{title:Object(d.jsx)(u.a,{id:"upload_click_here"}),placeholder:U.formatMessage({id:"upload_click_here"}),onChange:r,label:Object(d.jsx)(u.a,{id:"upload"}),max:2,fieldProps:{data:O,accept:R,name:p,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(a),extra:o})})},f=m.a=c},"RY+t":function(x,m,e){"use strict";var _=e("DBJ/"),E=e("q1tI"),A=e.n(E),s=e("nKUr"),M=e.n(s),u=function(d){var c=d.onSuccess,f=d.onError;return Object(s.jsx)(_.a,{url:"/api/admin/scorm/upload",name:"zip",accept:"application/zip",onChange:function(t){if(t.file.response){var r=t.file.response.response;r.success?c(r.data.model):f(r)}}})};m.a=u},etVw:function(x,m,e){"use strict";var _=e("DZo9"),E=e("8z0m"),A=e("+L6B"),s=e("2/Rp"),M=e("wx14"),u=e("q1tI"),i=e.n(u),d=e("z7Xi"),c=e("WFLz"),f=function(t,r){var a=t.fieldProps,p=t.name,o=t.action,R=t.accept,O=t.listType,g=t.title,b=g===void 0?"\u5355\u51FB\u4E0A\u4F20":g,U=t.max,n=t.icon,K=n===void 0?i.a.createElement(d.a,null):n,T=t.value,S=t.buttonProps,B=t.onChange,P=t.disabled,h=t.proFieldProps,L=t.fileList,v=(U===void 0||!T||(T==null?void 0:T.length)<U)&&(h==null?void 0:h.mode)!=="read",I=(O!=null?O:a==null?void 0:a.listType)==="picture-card";return i.a.createElement(E.a,Object(M.a)({action:o,accept:R,ref:r,name:p||"file",listType:O||"picture",fileList:L!=null?L:T},a,{onChange:function(j){var D;B==null||B(j),a==null||(D=a.onChange)===null||D===void 0||D.call(a,j)}}),v&&(I?i.a.createElement("span",null,K," ",b):i.a.createElement(s.a,Object(M.a)({disabled:P||(a==null?void 0:a.disabled)},S),K,b)))};m.a=Object(c.a)(i.a.forwardRef(f),{getValueFromEvent:function(t){return t.fileList}})},"w76+":function(x,m,e){"use strict";e.r(m);var _=e("P2fV"),E=e("NJEC"),A=e("5Dmo"),s=e("3S7+"),M=e("+L6B"),u=e("2/Rp"),i=e("miYZ"),d=e("tsqr"),c=e("9og8"),f=e("WmNS"),l=e.n(f),t=e("q1tI"),r=e.n(t),a=e("9kvl"),p=e("55Ip"),o=e("tMyG"),R=e("Qiat"),O=e("Dx9A"),g=e("/MfK"),b=e("5tKr"),U=e("RY+t"),n=e("nKUr"),K=e.n(n),T=function(){var B=Object(c.a)(l.a.mark(function P(h){return l.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.next=2,Object(b.a)(h);case 2:return v.abrupt("return",!0);case 3:case"end":return v.stop()}},P)}));return function(h){return B.apply(this,arguments)}}(),S=function(){var P=Object(t.useRef)(),h=Object(a.i)(),L=[{title:Object(n.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(n.jsx)(a.a,{id:"version",defaultMessage:"version"}),dataIndex:"version",hideInSearch:!0},{title:Object(n.jsx)(a.a,{id:"newScorm",defaultMessage:"New Scorm"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(n.jsx)(U.a,{onSuccess:function(){P.current&&P.current.reload(),d.default.success(Object(n.jsx)(a.a,{id:"scorm_uploaded",defaultMessage:"scorm uploaded"}))},onError:function(C){return d.default.error(C)}})]}},{title:Object(n.jsx)(a.a,{id:"SCOS",defaultMessage:"Sharable Content Objects"}),dataIndex:"SCOS",hideInSearch:!0,render:function(I,C){return[C.scos.map(function(j){return Object(n.jsx)(p.a,{to:"/scorms/preview/".concat(j.uuid),children:Object(n.jsx)(s.a,{title:Object(n.jsx)(a.a,{id:"preview",defaultMessage:"preview"}),children:Object(n.jsx)(u.a,{size:"small",icon:Object(n.jsx)(O.a,{}),type:"primary",children:j.title})})},j.uuid)})]}},{hideInSearch:!0,title:Object(n.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(I,C){return[Object(n.jsx)(E.a,{title:Object(n.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(c.a)(l.a.mark(function j(){var D;return l.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,T(C.id);case 2:D=W.sent,D&&P.current&&P.current.reload();case 4:case"end":return W.stop()}},j)})),okText:Object(n.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(n.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(n.jsx)(s.a,{title:Object(n.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(n.jsx)(u.a,{type:"primary",icon:Object(n.jsx)(g.a,{}),danger:!0})})},"delete")]}}];return Object(n.jsx)(o.a,{children:Object(n.jsx)(R.a,{headerTitle:h.formatMessage({id:"scorms",defaultMessage:"scorms"}),actionRef:P,rowKey:"id",search:{labelWidth:120},request:function(I){var C=I.pageSize,j=I.current;return Object(b.b)({pageSize:C,current:j}).then(function(D){return D.success?{data:D.data.data,total:D.data.total,success:!0}:[]})},columns:L})})};m.default=S}}]);
