"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[82],{7418:function(ue,Z,t){var K=t(52677),n=t.n(K),$=t(5574),l=t.n($),L=t(74330),o=t(68962),_=t(67294),I=t(94116),j=t(85893),g=function U(b){return b.subcategories&&b.subcategories.length?{title:b.name,key:b.id,children:b.subcategories.map(function(T){return U(T)})}:{title:b.name,key:b.id}},m=function(b){var T=b.value,p=b.onChange,C=b.multiple,E=C===void 0?!0:C,F=(0,_.useState)([]),a=l()(F,2),M=a[0],P=a[1];(0,_.useEffect)(function(){(0,I.CL)().then(function(S){S.success&&P(S.data)})},[]);var D=(0,_.useMemo)(function(){return M.map(function(S){return g(S)})},[M]);return M.length===0?(0,j.jsx)(L.Z,{}):(0,j.jsx)(o.Z,{multiple:E,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,style:{width:"100%"},checkedKeys:T,onCheck:function(A){if(n()(A)==="object"&&!Array.isArray(A)&&A.checked){var x=A.checked;return p&&Array.isArray(x)&&p(x)}},treeData:D,disabled:M.length===0})};Z.Z=m},25387:function(ue,Z,t){t.d(Z,{P:function(){return E}});var K=t(97857),n=t.n(K),$=t(9783),l=t.n($),L=t(5574),o=t.n(L),_=t(13769),I=t.n(_),j=t(34994),g=t(55102),m=t(67294),U=t(80854),b=t(85893),T=["name","form","onChange"],p=["label","defaultValue"],C=function(a,M){return a===null?"":(a/100).toFixed(M!=null?M:0)},E=function(a){var M,P=a.name,D=a.form,S=a.onChange,A=I()(a,T),x=A.label,u=A.defaultValue,r=u===void 0?0:u,h=I()(A,p),O=(0,m.useState)({dollars:"",cents:null}),s=o()(O,2),v=s[0],Q=s[1],le=(0,U.useModel)("@@initialState"),te=le.initialState,V=te==null||(M=te.config)===null||M===void 0||(M=M.find(function(f){var e=f.group,R=f.key;return e==="currencies"&&R==="default"}))===null||M===void 0?void 0:M.value,d=function(e){var R=e.target.value,W=R.replace(/[^0-9.]/,""),z=parseFloat(W),re=Math.round(z*100);Q({cents:re||r,dollars:R.trim()})},i=v.cents===null?"":C(v.cents,2);(0,m.useEffect)(function(){var f=D.getFieldValue(P)?C(D.getFieldValue(P),2):"";Q({dollars:f,cents:+f*100||r})},[D,P]),(0,m.useEffect)(function(){D&&P&&D.setFieldsValue(l()({},P,Number.isNaN(v.cents)?null:v.cents)),S&&S(v.cents)},[v]);var c=n()(n()({},x),{},{values:n()(n()({},x==null?void 0:x.values),{},{currency:V?"(".concat(V,")"):""})});return(0,b.jsx)(j.A.Item,n()(n()({name:P,initialValue:v.dollars,label:x?(0,b.jsx)(U.FormattedMessage,n()({},c)):void 0},h),{},{children:(0,b.jsx)(g.Z,{value:v.dollars,onChange:d,onBlur:function(){Q(function(e){return n()(n()({},e),{},{dollars:i!=="NaN"?i:""})})}})}))}},23535:function(ue,Z,t){var K=t(97857),n=t.n(K),$=t(9783),l=t.n($),L=t(14726),o=t(95830),_=t(67294),I=t(82238),j=t(34994),g=t(80854),m=t(85893),U=function(T){var p=T.title,C=T.action,E=T.form_name,F=T.src_name,a=T.getUploadedSrcField,M=T.setPath,P=T.wrapInForm,D=P===void 0?!0:P,S=T.folder,A=T.proFormGroupProps,x=T.hideLabel,u=x===void 0?!1:x;return(0,m.jsxs)(j.A.Group,n()(n()({title:(0,m.jsx)(g.FormattedMessage,{id:p})},A),{},{children:[(0,m.jsx)(j.A.Item,{shouldUpdate:!0,children:function(h){return(0,m.jsxs)(_.Fragment,{children:[(0,m.jsx)(I.Z,{folder:S,wrapInForm:D,accept:"image/*",name:E,url:C,onChange:function(s){if(s.file.status==="done"){var v;h.setFieldsValue(l()({},F,a(s))),(v=s.file.response)!==null&&v!==void 0&&v.success&&M(l()(l()({},"".concat(E,"_url"),s.file.response.data["".concat(E,"_url")]),"".concat(E,"_path"),s.file.response.data["".concat(E,"_path")]))}},hideLabel:u}),(0,m.jsx)(L.ZP,{danger:!0,onClick:function(){return[M(l()(l()({},"".concat(E,"_url"),""),"".concat(E,"_path"),"")),h.setFieldsValue(l()({},F,""))]},children:(0,m.jsx)(g.FormattedMessage,{id:"delete"})})]})}}),(0,m.jsx)(j.A.Item,{shouldUpdate:!0,children:function(h){return(0,m.jsx)(o.Z,{width:200,src:h.getFieldValue(F)})}})]}))};Z.Z=U},67541:function(ue,Z,t){var K=t(52677),n=t.n(K),$=t(5574),l=t.n($),L=t(74656),o=t(74330),_=t(66309),I=t(67294),j=t(80854),g=t(44837),m=t(85893),U=function(C){return"".concat(C.productable_type,":").concat(C.productable_id,":").concat(C.name)},b=function(C){return"".concat(C.class,":").concat(C.id,":").concat(C.name)},T=function(C){var E=C.value,F=C.onChange,a=C.multiple,M=a===void 0?!1:a,P=C.disabled,D=P===void 0?!1:P,S=(0,I.useState)([]),A=l()(S,2),x=A[0],u=A[1],r=(0,I.useState)(!1),h=l()(r,2),O=h[0],s=h[1],v=(0,I.useState)([]),Q=l()(v,2),le=Q[0],te=Q[1],V=(0,I.useRef)(),d=(0,I.useCallback)(function(){s(!0),V.current&&V.current.abort(),V.current=new AbortController,(0,g.rc)({signal:V.current.signal}).then(function(i){i.success&&u(i.data),s(!1)}).catch(function(){return s(!1)})},[]);return(0,I.useEffect)(function(){d()},[]),(0,I.useEffect)(function(){var i=new AbortController;if(E){var c=Array.isArray(E)?E:[E],f=c.map(function(e){return n()(e)==="object"?b(e):String(e)});te(f)}return function(){i.abort()}},[E]),(0,m.jsx)(L.default,{disabled:D,allowClear:!0,style:{width:"100%",minWidth:"150px"},value:le,onChange:F,mode:M?"multiple":void 0,showSearch:!0,placeholder:(0,m.jsx)(j.FormattedMessage,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(c,f){if(f&&f.children){var e;return(f==null||(e=f.children)===null||e===void 0?void 0:e.toString().toLowerCase().indexOf(c&&c.toLowerCase()||""))>=0}return!1},notFoundContent:O?(0,m.jsx)(o.Z,{size:"small"}):null,children:x.map(function(i){var c=U(i);return(0,m.jsxs)(L.default.Option,{value:c,children:[(0,m.jsx)(_.Z,{children:(0,m.jsx)(j.FormattedMessage,{id:i.productable_type.split("\\").pop(),defaultMessage:i.productable_type.split("\\").pop()})})," ",i.name," ",(0,m.jsxs)("small",{children:["id:",i.productable_id]})," "]},c)})})};Z.Z=T},81424:function(ue,Z,t){var K=t(52677),n=t.n(K),$=t(5574),l=t.n($),L=t(74656),o=t(74330),_=t(67294),I=t(44837),j=t(80854),g=t(85893),m=function(b){var T=b.value,p=b.onChange,C=b.multiple,E=C===void 0?!1:C,F=b.type,a=(0,_.useState)([]),M=l()(a,2),P=M[0],D=M[1],S=(0,_.useState)(!1),A=l()(S,2),x=A[0],u=A[1],r=(0,_.useState)([]),h=l()(r,2),O=h[0],s=h[1],v=(0,_.useRef)(),Q=(0,_.useCallback)(function(d){u(!0),v.current&&v.current.abort(),v.current=new AbortController,(0,I.RB)({productable_type:F,name:d||void 0},{signal:v.current.signal}).then(function(i){i.success&&D(F?i.data.filter(function(c){return c.type==="single"&&c.productables&&c.productables[0].id}):i.data),u(!1)}).catch(function(){return u(!1)})},[]);(0,_.useEffect)(function(){var d=new AbortController;if(T){var i=Array.isArray(T)?T:[T],c=i.map(function(f){return n()(f)==="object"?Number(f.id):Number(f)});s(c)}return function(){d.abort()}},[T]);var le=(0,_.useCallback)(function(d){Q(d)},[Q]),te=(0,_.useCallback)(function(){s([])},[]),V=(0,_.useCallback)(function(d){d||te(),p&&p(d)},[p,te]);return(0,g.jsx)(L.default,{onFocus:function(){return Q()},allowClear:!0,style:{width:"100%",minWidth:"150px"},value:O,onChange:V,mode:E?"multiple":void 0,showSearch:!0,onSearch:le,onDeselect:te,placeholder:(0,g.jsx)(j.FormattedMessage,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(i,c){if(c&&c.children){var f;return(c==null||(f=c.children)===null||f===void 0?void 0:f.toString().toLowerCase().indexOf(i&&i.toLowerCase()||""))>=0}return!1},notFoundContent:x?(0,g.jsx)(o.Z,{size:"small"}):null,children:P.map(function(d){return(0,g.jsx)(L.default.Option,{value:d.id,children:d.name},d.id)})})};Z.Z=m},39470:function(ue,Z,t){var K=t(5574),n=t.n(K),$=t(64532),l=t(74656),L=t(67294),o=t(85893),_=l.default.Option,I=function(g){var m=g.value,U=g.onChange,b=(0,L.useState)([]),T=n()(b,2),p=T[0],C=T[1];return(0,L.useEffect)(function(){(0,$.a)().then(function(E){return C(E.data)})},[]),(0,o.jsx)(l.default,{mode:"tags",showSearch:!0,style:{width:"100%"},placeholder:"Select a Tag",optionFilterProp:"children",onChange:U,value:m,children:p.map(function(E){return(0,o.jsx)(_,{value:E.title,children:E.title},E.title)})})};Z.Z=I},44167:function(ue,Z,t){var K=t(52677),n=t.n(K),$=t(19632),l=t.n($),L=t(5574),o=t.n(L),_=t(74656),I=t(74330),j=t(67294),g=t(30869),m=t(80854),U=t(85893),b=function(p){var C=p.value,E=p.onChange,F=p.multiple,a=F===void 0?!1:F,M=p.role,P=p.showEmail,D=p.disabled,S=(0,j.useState)([]),A=o()(S,2),x=A[0],u=A[1],r=(0,j.useState)(!1),h=o()(r,2),O=h[0],s=h[1],v=(0,j.useState)([]),Q=o()(v,2),le=Q[0],te=Q[1],V=(0,j.useRef)(),d=(0,j.useRef)(),i=(0,j.useCallback)(function(W){u(function(z){return[].concat(l()(z),l()(W)).filter(function(re,Y,ge){return ge.findIndex(function(we){return P?we.email===re.email:we.id===re.id})===Y})})},[]);(0,j.useEffect)(function(){V.current=x},[x]);var c=(0,j.useCallback)(function(W){s(!0),d.current&&d.current.abort(),d.current=new AbortController,(0,g.rC)({search:W,role:M},{signal:d.current.signal}).then(function(z){z&&z.success&&(i(z.data),s(!1))}).catch(function(){return s(!1)})},[]),f=(0,j.useCallback)(function(W){c(W)},[c]),e=(0,j.useCallback)(function(){te([])},[]);(0,j.useEffect)(function(){var W=new AbortController;if(C){var z=Array.isArray(C)?C:[C],re=z.map(function(Y){return n()(Y)==="object"?Number(Y.id):Number(Y)});te(re),re.filter(function(Y){var ge;return!((ge=V.current)!==null&&ge!==void 0&&ge.find(function(we){return we.id===Y}))}).forEach(function(Y){(0,g.EA)(Number(Y),{signal:W.signal},!1).then(function(ge){ge&&ge.success&&i([ge.data])})})}return function(){W.abort()}},[C]);var R=(0,j.useCallback)(function(W,z){W||e(),E&&E(W,z)},[E,e]);return(0,U.jsx)(_.default,{disabled:D,onFocus:function(){return c()},allowClear:!0,style:{width:"100%",minWidth:"150px"},value:le,onChange:R,mode:a?"multiple":void 0,showSearch:!0,onSearch:f,onDeselect:e,placeholder:(0,U.jsx)(m.FormattedMessage,{id:"select_person",defaultMessage:"Select a person"}),optionFilterProp:"children",filterOption:function(z,re){return re&&re.children?String("".concat(re.user.name," ").concat(re.user.email)).toLowerCase().indexOf(z&&z.toLowerCase()||"")>=0:!0},notFoundContent:O?(0,U.jsx)(I.Z,{size:"small"}):null,children:x.map(function(W){return(0,U.jsxs)(_.default.Option,{value:W.id,user:W,children:[W.name," ",P&&" - ".concat(W.email)]},W.id)})})};Z.Z=b},54434:function(ue,Z,t){t.d(Z,{ZP:function(){return V}});var K=t(97857),n=t.n(K),$=t(15009),l=t.n($),L=t(99289),o=t.n(L),_=t(5574),I=t.n(_),j=t(952),g=t(67294),m=t(80854),U=t(66309),b=t(14726),T=t(86738),p=t(83062),C=t(2453);function E(d,i){return F.apply(this,arguments)}function F(){return F=o()(l()().mark(function d(i,c){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/admin/user-submissions",n()({method:"GET",params:i},c||{})));case 1:case"end":return e.stop()}},d)})),F.apply(this,arguments)}function a(d,i){return M.apply(this,arguments)}function M(){return M=o()(l()().mark(function d(i,c){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/admin/user-submissions",n()({method:"POST",headers:{"Content-Type":"application/json"},data:i},c||{})));case 1:case"end":return e.stop()}},d)})),M.apply(this,arguments)}function P(d,i){return D.apply(this,arguments)}function D(){return D=o()(l()().mark(function d(i,c){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/admin/user-submissions/".concat(i),n()({method:"DELETE",headers:{"Content-Type":"application/json"}},c||{})));case 1:case"end":return e.stop()}},d)})),D.apply(this,arguments)}var S=t(66419),A=t(51042),x=t(82061),u=t(16894),r=t(37476),h=t(5966),O=t(75842),s=t(85893),v=function(i){var c=(0,m.useIntl)(),f=i.visible,e=i.onVisibleChange,R=i.onFinish,W=i.id,z=O.Z.useForm(),re=I()(z,1),Y=re[0];return(0,s.jsx)(r.Y,{form:Y,title:c.formatMessage({id:"email",defaultMessage:"email"}),width:"30vw",visible:f,onVisibleChange:e,onFinish:R,children:(0,s.jsx)(j.ZP.Group,{children:(0,s.jsx)(h.Z,{width:"md",name:"email",label:(0,s.jsx)(m.FormattedMessage,{id:"email"}),tooltip:(0,s.jsx)(m.FormattedMessage,{id:"email_tooltip"}),placeholder:c.formatMessage({id:"email",defaultMessage:"email"}),required:!0})})})},Q=v,le=[{title:(0,s.jsx)(m.FormattedMessage,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{title:(0,s.jsx)(m.FormattedMessage,{id:"email",defaultMessage:"email"}),dataIndex:"email",hideInSearch:!1,width:"70%",sorter:!0},{title:(0,s.jsx)(m.FormattedMessage,{id:"status",defaultMessage:"status"}),dataIndex:"status",hideInSearch:!0,sorter:!0,valueEnum:{sent:(0,s.jsx)(U.Z,{color:"processing",children:(0,s.jsx)(m.FormattedMessage,{id:"sent"})}),assigned:(0,s.jsx)(U.Z,{color:"default",children:(0,s.jsx)(m.FormattedMessage,{id:"assigned"})}),accepted:(0,s.jsx)(U.Z,{color:"success",children:(0,s.jsx)(m.FormattedMessage,{id:"accepted"})}),rejected:(0,s.jsx)(U.Z,{color:"error",children:(0,s.jsx)(m.FormattedMessage,{id:"rejected"})})}}],te=function(i){var c=i.id,f=i.type,e=(0,m.useIntl)(),R=(0,g.useRef)(),W=(0,g.useState)(!1),z=I()(W,2),re=z[0],Y=z[1],ge=j.ZP.useForm(),we=I()(ge,1),He=we[0],Ge=(0,g.useState)(!1),Ne=I()(Ge,2),Ve=Ne[0],Ke=Ne[1],Xe=(0,g.useCallback)(function(){var Ce=o()(l()().mark(function ce(be){var H;return l()().wrap(function(je){for(;;)switch(je.prev=je.next){case 0:return Y(!0),je.next=3,P(Number(be));case 3:(H=R.current)===null||H===void 0||H.reload(),Y(!1);case 5:case"end":return je.stop()}},ce)}));return function(ce){return Ce.apply(this,arguments)}}(),[c,f]);return(0,s.jsxs)(g.Fragment,{children:[(0,s.jsx)(u.ZP,{defaultSize:"small",loading:re,search:{layout:"vertical"},headerTitle:e.formatMessage({id:"user_submission",defaultMessage:"user_submission"}),actionRef:R,toolBarRender:function(){return[(0,s.jsxs)(b.ZP,{type:"primary",onClick:function(){return Ke(!0)},children:[(0,s.jsx)(A.Z,{})," ",(0,s.jsx)(m.FormattedMessage,{id:"email_to_add",defaultMessage:"email_to_add"})]},"primary")]},rowKey:"id",request:function(){var Ce=o()(l()().mark(function ce(be,H){var ie,je,se;return l()().wrap(function($e){for(;;)switch($e.prev=$e.next){case 0:return ie=be.email,je=be.pageSize,se=be.current,Y(!0),$e.abrupt("return",E(n()({email:ie,per_page:je,page:se,morphable_type:f,morphable_id:c},(0,S.di)(H,"created_at"))).then(function(X){return Y(!1),X.success?{data:X.data,total:X.data.length,success:!0}:X.success?[]:{data:[],total:0,success:!1}}));case 3:case"end":return $e.stop()}},ce)}));return function(ce,be){return Ce.apply(this,arguments)}}(),columns:[].concat(le,[{title:(0,s.jsx)(m.FormattedMessage,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(ce,be){return[(0,s.jsx)(T.Z,{title:(0,s.jsx)(m.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return Xe(be.id)},okText:(0,s.jsx)(m.FormattedMessage,{id:"yes"}),cancelText:(0,s.jsx)(m.FormattedMessage,{id:"no"}),children:(0,s.jsx)(p.Z,{title:(0,s.jsx)(m.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,s.jsx)(b.ZP,{type:"primary",icon:(0,s.jsx)(x.Z,{}),danger:!0})})},"delete")]}}])})," ",(0,s.jsx)(Q,{visible:Ve,onVisibleChange:function(ce){return ce===!1&&Ke(!1)},onFinish:function(){var Ce=o()(l()().mark(function ce(be){var H,ie;return l()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return Y(!0),se.prev=1,se.next=4,a(n()(n()({},be),{},{morphable_id:c,morphable_type:f}));case 4:H=se.sent,H.success&&(He.resetFields(),(ie=R.current)===null||ie===void 0||ie.reload(),Y(!1),Ke(!1)),se.next=13;break;case 8:se.prev=8,se.t0=se.catch(1),Ke(!1),C.ZP.error((0,s.jsx)(m.FormattedMessage,{id:"error",defaultMessage:"error"})),Y(!1);case 13:case"end":return se.stop()}},ce,null,[[1,8]])}));return function(ce){return Ce.apply(this,arguments)}}()})]})},V=te},19411:function(ue,Z,t){t.d(Z,{ZP:function(){return b}});var K=t(15009),n=t.n(K),$=t(99289),l=t.n($),L=t(17578),o=t(2800),_=t.n(o),I=t(67294),j=t(80854),g=t(85893),m=function(p){var C=p.attrs,E=C.href,F=E.split("/").pop();return(0,g.jsx)("p",{children:(0,g.jsx)("a",{rel:"noreferrer",href:E,target:"_blank",children:F})})},U=function(p){var C=p.value,E=p.onChange,F=p.directory,a=F===void 0?"/wysiwyg":F,M=(0,j.useIntl)();return(0,g.jsx)("div",{className:"form-wysiwyg-markdown",children:(0,g.jsx)(_(),{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function(){return!0},component:m}],uploadImage:function(){var P=l()(n()().mark(function D(S){var A,x;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,L.ws)(S,a);case 2:if(A=r.sent,!A.success){r.next=8;break}if(!S.type.includes("image/")){r.next=7;break}return x=A.data[0].name.includes("/")?A.data[0].name:"".concat(a).concat(A.data[0].name),r.abrupt("return",(0,L.pV)(x,1e3));case 7:return r.abrupt("return",A.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return r.stop()}},D)}));return function(D){return P.apply(this,arguments)}}(),defaultValue:C||"",onChange:function(D){return E&&E(D())},placeholder:M.formatMessage({id:"wysiwyg_placeholder"})})})},b=U},50082:function(ue,Z,t){t.d(Z,{Z:function(){return $e}});var K=t(19632),n=t.n(K),$=t(15009),l=t.n($),L=t(97857),o=t.n(L),_=t(99289),I=t.n(_),j=t(5574),g=t.n(j),m=t(52677),U=t.n(m),b=t(67541),T=t(26271),p=t(952),C=t(5966),E=t(86615),F=t(52688),a=t(31199),M=t(2453),P=t(74330),D=t(55102),S=t(66309),A=t(71230),x=t(15746),u=t(67294),r=t(80854),h=t(7418),O=t(23535),s=t(44837),v=t(25387),Q=t(81424),le=t(39470),te=t(31472),V=t(40658),d=t(78957),i=t(83062),c=t(14726),f=t(74656),e=t(85893),R=function(k){var N=k.value,ye=k.onChange,ne=k.multiple,We=ne===void 0?!1:ne,Se=k.params,G=(0,u.useState)([]),ae=g()(G,2),Ee=ae[0],xe=ae[1],w=(0,u.useState)(!1),Be=g()(w,2),pe=Be[0],B=Be[1],Me=(0,u.useState)([]),oe=g()(Me,2),q=oe[0],Ae=oe[1],ee=(0,u.useRef)(),fe=(0,u.useCallback)(function(){B(!0),ee.current&&ee.current.abort(),ee.current=new AbortController,(0,V.zd)(Se,{signal:ee.current.signal}).then(function(de){de.success&&xe(de.data),B(!1)}).catch(function(){return B(!1)})},[]);return(0,u.useEffect)(function(){var de=new AbortController;if(N){var Ze=Array.isArray(N)?N:[N],Ie=Ze.map(function(Ue){return U()(Ue)==="object"?Number(Ue.id):Number(Ue)});Ae(Ie)}return function(){de.abort()}},[N]),(0,e.jsx)(f.default,{onFocus:function(){return fe()},allowClear:!0,style:{width:"100%",minWidth:"400px"},value:q,onChange:ye,mode:We?"multiple":void 0,showSearch:!0,placeholder:(0,e.jsx)(r.FormattedMessage,{id:"select_template",defaultMessage:"Select a template"}),optionFilterProp:"children",filterOption:function(Ze,Ie){if(Ie&&Ie.children){var Ue;return(Ie==null||(Ue=Ie.children)===null||Ue===void 0?void 0:Ue.toString().toLowerCase().indexOf(Ze&&Ze.toLowerCase()||""))>=0}return!1},notFoundContent:pe?(0,e.jsx)(P.Z,{size:"small"}):null,children:Ee.map(function(de){return(0,e.jsxs)(f.default.Option,{value:de.id,children:[de.name," ",(0,e.jsxs)("small",{children:[(0,e.jsx)(r.FormattedMessage,{id:de.channel.split("\\").pop()}),":",de.event&&(0,e.jsx)(r.FormattedMessage,{id:de.event.split("\\").pop()})]})]},de.id)})})},W=null,z=function(k){var N=k.productId,ye=(0,u.useState)(!1),ne=g()(ye,2),We=ne[0],Se=ne[1],G=(0,u.useState)(),ae=g()(G,2),Ee=ae[0],xe=ae[1],w=(0,r.useIntl)(),Be=(0,u.useCallback)(function(){Se(!0),typeof Ee=="number"&&(0,V.zB)(Number(Ee),N).then(function(pe){pe.success?M.ZP.success(pe.message):M.ZP.error(pe.message)}).catch(function(pe){return M.ZP.error(pe.toString())}).finally(function(){return Se(!1)})},[Ee,N]);return(0,e.jsxs)(d.Z,{children:[(0,e.jsx)(R,{params:{event:te.fn.ManuallyTriggeredEvent},multiple:!1,value:Ee,onChange:function(B){return xe(B)}}),(0,e.jsx)(i.Z,{title:w.formatMessage({id:"generate_pdf_for_products_tooltip"}),children:(0,e.jsx)(c.ZP,{loading:We,onClick:function(){return Be()},disabled:!Ee,children:(0,e.jsx)(r.FormattedMessage,{id:"generate"})})})]})},re=z,Y=t(54434),ge=t(19411),we=t(57818),He=t(43458),Ge=t(66419),Ne=t(64317),Ve=t(16894),Ke=t(44167),Xe=t(82061),Ce=[{title:(0,e.jsx)(r.FormattedMessage,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:(0,e.jsx)(r.FormattedMessage,{id:"email",defaultMessage:"email"}),dataIndex:"email"}],ce=function(k){var N=k.id,ye=(0,r.useIntl)(),ne=(0,u.useRef)(),We=(0,u.useState)(!1),Se=g()(We,2),G=Se[0],ae=Se[1],Ee=p.ZP.useForm(),xe=g()(Ee,1),w=xe[0],Be=(0,u.useCallback)(function(){var B=I()(l()().mark(function Me(oe){var q;return l()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ae(!0),ee.next=3,(0,s.fw)(Number(N),{user_id:oe.user_id});case 3:w.resetFields(),(q=ne.current)===null||q===void 0||q.reload(),ae(!1);case 6:case"end":return ee.stop()}},Me)}));return function(Me){return B.apply(this,arguments)}}(),[N]),pe=(0,u.useCallback)(function(){var B=I()(l()().mark(function Me(oe){var q;return l()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return ae(!0),ee.next=3,(0,s.q5)(Number(N),{user_id:oe});case 3:(q=ne.current)===null||q===void 0||q.reload(),ae(!1);case 5:case"end":return ee.stop()}},Me)}));return function(Me){return B.apply(this,arguments)}}(),[N]);return(0,e.jsxs)(u.Fragment,{children:[(0,e.jsx)(p.ZP,{layout:"inline",onFinish:Be,form:w,labelWrap:!0,children:(0,e.jsx)(p.ZP.Group,{children:(0,e.jsx)(p.ZP.Item,{name:"user_id",label:(0,e.jsx)(r.FormattedMessage,{id:"users"}),valuePropName:"value",children:(0,e.jsx)(Ke.Z,{})})})}),(0,e.jsx)(Ve.ZP,{defaultSize:"small",loading:G,search:!1,headerTitle:ye.formatMessage({id:"users",defaultMessage:"Users"}),actionRef:ne,rowKey:"id",request:I()(l()().mark(function B(){return l()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return ae(!0),oe.abrupt("return",(0,s.wv)(Number(N)).then(function(q){return ae(!1),q.success&&q.data.users?{data:q.data.users,total:q.data.users.length,success:!0}:q.success?[]:{data:[],total:0,success:!1}}));case 2:case"end":return oe.stop()}},B)})),columns:[].concat(Ce,[{title:(0,e.jsx)(r.FormattedMessage,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(Me,oe){return[(0,e.jsx)(i.Z,{title:(0,e.jsx)(r.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,e.jsx)(c.ZP,{type:"primary",icon:(0,e.jsx)(Xe.Z,{}),danger:!0,onClick:function(){return pe(oe.id)}})},"delete")]}}])})]})},be=ce,H=function(X){return X.SINGLE="single",X.BUNDLE="bundle",X.SUBSCRIPTION="subscription",X.SUBSCRIPTION_ALL_IN="subscription-all-in",X}(H||{}),ie=function(X){return X.DAILY="daily",X.MONTHLY="monthly",X.YEARLY="yearly",X}(ie||{}),je=function(k){return k.map(function(N){return{class:N.productable_type,id:Number(N.productable_id),name:N.name,quantity:N.quantity}})},se=function(k){var N=Array.isArray(k)?k:[k],ye=N.map(function(ne){return U()(ne)==="object"?ne:{id:parseInt(ne.split(":")[1]),class:ne.split(":")[0],name:ne.split(":")[2]}});return ye},Qe=function(k){var N,ye=k.tab,ne=ye===void 0?"attributes":ye,We=k.onTabChange,Se=k.id,G=k.productable,ae=k.onProductSaved,Ee=k.type,xe=Ee===void 0?"card":Ee,w=(0,r.useIntl)(),Be=(0,u.useState)(Se),pe=g()(Be,2),B=pe[0],Me=pe[1],oe=(0,u.useState)([]),q=g()(oe,2),Ae=q[0],ee=q[1],fe=(0,u.useMemo)(function(){return B==="new"},[B]),de=(0,u.useState)(!0),Ze=g()(de,2),Ie=Ze[0],Ue=Ze[1],it=(0,u.useState)(null),qe=g()(it,2),et=qe[0],ot=qe[1],dt=(0,u.useState)({}),_t=g()(dt,2),mt=_t[1],ct=(0,u.useCallback)(function(){return mt({})},[]),pt=p.ZP.useForm(),ft=g()(pt,1),Te=ft[0],ht=(0,r.useModel)("@@initialState"),Fe=ht.initialState,ze=Fe==null||(N=Fe.config)===null||N===void 0||(N=N.find(function(J){var y=J.group,he=J.key;return y==="currencies"&&he==="default"}))===null||N===void 0?void 0:N.value,vt=(0,u.useState)(!1),tt=g()(vt,2),rt=tt[0],at=tt[1],gt=(0,u.useState)(H.BUNDLE),nt=g()(gt,2),ke=nt[0],st=nt[1],Mt=(0,u.useState)(!1),ut=g()(Mt,2),Ye=ut[0],lt=ut[1],bt=(0,u.useCallback)((0,He.a)(Fe==null?void 0:Fe.packages),[Fe==null?void 0:Fe.packages]);(0,u.useEffect)(function(){G&&G.class_id&&G.class_type&&((0,s.nS)({productable_id:Number(G.class_id),productable_type:G.class_type}).then(function(J){J.success&&Me(J.data.id)}).catch(function(){console.log("err"),Me("new")}),ee([{class:G.class_type,id:Number(G.class_id),name:G.name}]),Te.setFieldsValue({productables:[{class:G.class_type,id:G.class_id,name:G.name}]}))},[G]);var Et=(0,u.useCallback)(I()(l()().mark(function J(){var y,he,Pe,_e,ve,Le,me,Re;return l()().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:if(!(B&&B!=="new")){De.next=5;break}return De.next=3,(0,s.wv)(Number(B));case 3:y=De.sent,y.success&&(me=o()(o()({},y.data),{},{categories:(he=y.data.categories)===null||he===void 0?void 0:he.map(Ge.i4),tags:(Pe=y.data.tags)===null||Pe===void 0?void 0:Pe.map(function(Pt){return(0,Ge.ZR)(Pt)}),productables:y.data.productables?je(y.data.productables):[],app_store:(_e=y.data.fields)===null||_e===void 0||(_e=_e.in_app_purchase_ids)===null||_e===void 0||(_e=_e.revenuecat)===null||_e===void 0?void 0:_e.app_store,play_store:(ve=y.data.fields)===null||ve===void 0||(ve=ve.in_app_purchase_ids)===null||ve===void 0||(ve=ve.revenuecat)===null||ve===void 0?void 0:ve.play_store}),y.data&&y!==null&&y!==void 0&&(Le=y.data)!==null&&Le!==void 0&&Le.productables&&ot(y==null||(Re=y.data)===null||Re===void 0||(Re=Re.productables[0])===null||Re===void 0?void 0:Re.productable_type),ee(je(y.data.productables)),Te.setFieldsValue(me),at(y.data.type===H.BUNDLE),st(y.data.type),lt(!!y.data.has_trial));case 5:Ue(!1);case 6:case"end":return De.stop()}},J)})),[B]);(0,u.useEffect)(function(){B&&Et()},[B]);var Je=(0,u.useMemo)(function(){return{onValuesChange:function(y){y.type&&(at(y.type===H.BUNDLE),st(y.type)),typeof y.has_trial=="boolean"&&lt(y.has_trial)},onFinish:function(){var J=I()(l()().mark(function he(Pe){var _e,ve,Le,me;return l()().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(ve=(_e=Pe.related_products)!==null&&_e!==void 0&&_e.every(function(De){return U()(De)==="object"})?Pe.related_products.map(function(De){return De.id}):Pe.related_products,Le=o()(o()(o()({},Pe),{},{productables:Ae?se(Ae):void 0},Pe.related_products?{related_products:ve}:{}),{},{fields:{in_app_purchase_ids:{revenuecat:{app_store:Pe.app_store,play_store:Pe.play_store}}}}),!fe){Oe.next=9;break}return Oe.next=5,(0,s.ry)(Le);case 5:me=Oe.sent,me.success&&(ae&&ae(me.data),Me(me.data.id),Te.setFieldsValue(me.data)),Oe.next=13;break;case 9:return Oe.next=11,(0,s.nM)(Number(B),Le);case 11:me=Oe.sent,me.success&&ae&&ae(me.data);case 13:M.ZP.success(me.message);case 14:case"end":return Oe.stop()}},he)}));function y(he){return J.apply(this,arguments)}return y}()}},[B,ae,Ae]);return Ie?(0,e.jsx)(P.Z,{}):(0,e.jsxs)(T.ZP,{title:xe==="line"?(0,e.jsx)(r.FormattedMessage,{id:"product_widget_title",defaultMessage:"Product Attibutes"}):null,tooltip:xe==="line"?(0,e.jsx)(r.FormattedMessage,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,subTitle:xe==="line"?(0,e.jsx)(r.FormattedMessage,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,tabs:{type:xe,activeKey:ne,onChange:function(y){return We(y)}},children:[(0,e.jsxs)(T.ZP.TabPane,{tab:(0,e.jsx)(r.FormattedMessage,{id:"attributes"}),children:[(0,e.jsxs)(p.ZP,o()(o()({},Je),{},{form:Te,omitNil:!1,children:[(0,e.jsxs)(p.ZP.Group,{children:[(0,e.jsx)(C.Z,{width:"md",name:"name",initialValue:fe&&G?G.name:void 0,label:(0,e.jsx)(r.FormattedMessage,{id:"name"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"name_tooltip"}),placeholder:w.formatMessage({id:"name",defaultMessage:"name"}),required:!0}),(0,e.jsx)(p.ZP.Item,{shouldUpdate:!0,style:{minWidth:104*3},name:"productables",tooltip:(0,e.jsx)(r.FormattedMessage,{id:"productables_tooltip"}),label:(0,e.jsx)(r.FormattedMessage,{id:"productables"}),valuePropName:"value",children:(0,e.jsx)(b.Z,{multiple:rt,disabled:G!==void 0||ke===H.SUBSCRIPTION_ALL_IN,onChange:function(y){return ee(se(y))}})})]}),(0,e.jsxs)(p.ZP.Group,{children:[(0,e.jsx)(E.Z.Group,{disabled:G!==void 0,initialValue:B&&B!=="new"?void 0:"single",rules:[{required:!0}],name:"type",label:(0,e.jsx)(r.FormattedMessage,{id:"type"}),options:[{label:w.formatMessage({id:"single",defaultMessage:"single"}),value:H.SINGLE},{label:w.formatMessage({id:"bundle",defaultMessage:"bundle"}),value:H.BUNDLE},{label:w.formatMessage({id:"subscription",defaultMessage:"Subscription"}),value:H.SUBSCRIPTION},{label:w.formatMessage({id:"subscription_all_in",defaultMessage:"Subscription all in"}),value:H.SUBSCRIPTION_ALL_IN}],shouldUpdate:!0}),(0,e.jsx)(F.Z,{name:"purchasable",label:(0,e.jsx)(r.FormattedMessage,{id:"purchasable"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"purchasable_tooltip"})})]}),(0,e.jsxs)(p.ZP.Group,{title:(0,e.jsx)(r.FormattedMessage,{id:"prices"}),children:[(0,e.jsx)(v.P,{form:Te,width:"xs",name:"price",label:{id:"price"},tooltip:(0,e.jsx)(r.FormattedMessage,{id:"price_tooltip"}),placeholder:w.formatMessage({id:"price",defaultMessage:"price"}),fieldProps:{step:1}}),(0,e.jsx)(a.Z,{rules:[{required:!0}],width:"xs",name:"tax_rate",label:(0,e.jsx)(r.FormattedMessage,{id:"tax_rate"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"tax_rate_tooltip"}),placeholder:w.formatMessage({id:"tax_rate",defaultMessage:"tax_rate"}),initialValue:fe?23:void 0,min:0,max:100,fieldProps:{step:1,formatter:function(y){return"".concat(y,"%")},parser:function(y){return Number(y?y.replace("%",""):"")}}}),(0,e.jsx)(p.ZP.Item,{shouldUpdate:!0,label:(0,e.jsx)(r.FormattedMessage,{id:"price_brutto",values:{currency:ze?"(".concat(ze,")"):""}}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"price_brutto_tooltip"}),children:function(y){return(0,e.jsx)(D.Z,{disabled:!0,readOnly:!0,style:{width:"104px"},value:y.getFieldValue("price")?(Math.round(parseInt(y.getFieldValue("price"))*(1+parseInt(y.getFieldValue("tax_rate"))/100))/100).toFixed(2):void 0})}}),(0,e.jsx)(p.ZP.Item,{shouldUpdate:!0,label:(0,e.jsx)(r.FormattedMessage,{id:"tax_value",values:{currency:ze?"(".concat(ze,")"):""}}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"tax_value_tooltip"}),children:function(y){return(0,e.jsx)(D.Z,{disabled:!0,readOnly:!0,style:{width:"104px"},value:y.getFieldValue("price")?(Math.round(parseInt(y.getFieldValue("price"))*(parseInt(y.getFieldValue("tax_rate"))/100))/100).toFixed(2):void 0})}}),(0,e.jsx)(v.P,{form:Te,width:"xs",name:"price_old",label:{id:"price_old"},tooltip:(0,e.jsx)(r.FormattedMessage,{id:"price_old_tooltip"}),placeholder:w.formatMessage({id:"price",defaultMessage:"price"}),fieldProps:{step:1},defaultValue:null}),(0,e.jsx)(v.P,{form:Te,initialValue:fe?null:void 0,width:"xs",name:"extra_fees",label:{id:"extra_fees"},tooltip:(0,e.jsx)(r.FormattedMessage,{id:"extra_fees_tooltip"}),placeholder:w.formatMessage({id:"extra_fees",defaultMessage:"extra_fees"}),fieldProps:{step:1}})]}),(ke===H.SUBSCRIPTION||ke===H.SUBSCRIPTION_ALL_IN)&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(p.ZP.Group,{title:(0,e.jsx)(r.FormattedMessage,{id:"subscription"}),children:[(0,e.jsx)(Ne.Z,{name:"subscription_period",tooltip:(0,e.jsx)(r.FormattedMessage,{id:"subscription_period_tooltip"}),label:w.formatMessage({id:"subscription_period",defaultMessage:"Subscription period"}),options:[{label:w.formatMessage({id:"daily",defaultMessage:"Daily"}),value:ie.DAILY},{label:w.formatMessage({id:"monthly",defaultMessage:"Monthly"}),value:ie.MONTHLY},{label:w.formatMessage({id:"yearly",defaultMessage:"Yearly"}),value:ie.YEARLY}],placeholder:w.formatMessage({id:"select",defaultMessage:"Select"}),rules:[{required:!0}]}),(0,e.jsx)(a.Z,{width:"sm",name:"subscription_duration",label:(0,e.jsx)(r.FormattedMessage,{id:"subscription_duration"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"subscription_duration_tooltip"}),placeholder:w.formatMessage({id:"subscription_duration",defaultMessage:"subscription_duration"}),min:1,max:99999,fieldProps:{step:1},rules:[{required:!0}]}),(0,e.jsx)(F.Z,{name:"recursive",label:(0,e.jsx)(r.FormattedMessage,{id:"recursive"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"recursive_tooltip"})})]}),(0,e.jsxs)(p.ZP.Group,{children:[(0,e.jsx)(F.Z,{name:"has_trial",label:(0,e.jsx)(r.FormattedMessage,{id:"has_trial"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"has_trial_tooltip"})}),(0,e.jsx)(Ne.Z,{name:"trial_period",tooltip:(0,e.jsx)(r.FormattedMessage,{id:"trial_period_tooltip"}),label:w.formatMessage({id:"trial_period",defaultMessage:"Trial period"}),options:[{label:w.formatMessage({id:"daily",defaultMessage:"Daily"}),value:ie.DAILY},{label:w.formatMessage({id:"monthly",defaultMessage:"Monthly"}),value:ie.MONTHLY},{label:w.formatMessage({id:"yearly",defaultMessage:"Yearly"}),value:ie.YEARLY}],placeholder:w.formatMessage({id:"select",defaultMessage:"Select"}),rules:[{required:Ye}],disabled:!Ye}),(0,e.jsx)(a.Z,{width:"sm",name:"trial_duration",label:(0,e.jsx)(r.FormattedMessage,{id:"trial_duration"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"trial_duration_tooltip"}),placeholder:w.formatMessage({id:"trial_duration",defaultMessage:"trial_duration"}),min:1,max:99999,fieldProps:{step:1},rules:[{required:Ye}],disabled:!Ye})]})]}),(0,e.jsxs)(p.ZP.Group,{title:(0,e.jsx)(r.FormattedMessage,{id:"additional_fields"}),children:[(0,e.jsx)(C.Z,{width:"sm",name:"duration",label:(0,e.jsx)(r.FormattedMessage,{id:"duration"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"duration_tooltip"}),placeholder:w.formatMessage({id:"duration",defaultMessage:"duration"})}),(0,e.jsx)(a.Z,{initialValue:fe?null:void 0,width:"sm",name:"limit_per_user",label:(0,e.jsx)(r.FormattedMessage,{id:"limit_per_user"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"limit_per_user_tooltip"}),placeholder:w.formatMessage({id:"limit_per_user",defaultMessage:"limit_per_user"}),min:0,max:99999,fieldProps:{step:1}}),(0,e.jsx)(a.Z,{initialValue:fe?null:void 0,width:"sm",name:"limit_total",label:(0,e.jsx)(r.FormattedMessage,{id:"limit_total"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"limit_total_tooltip"}),placeholder:w.formatMessage({id:"limit_total",defaultMessage:"limit_total"}),min:0,max:99999,fieldProps:{step:1}}),(0,e.jsx)(C.Z,{width:"sm",name:"teaser_url",label:(0,e.jsx)(r.FormattedMessage,{id:"teaser_url"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"teaser_url_tooltip"}),placeholder:w.formatMessage({id:"teaser_url",defaultMessage:"teaser_url"})}),bt(we.Z.RevenuecatIntegration)&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(C.Z,{width:"sm",name:"app_store",label:(0,e.jsx)(r.FormattedMessage,{id:"app_store"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"app_store_tooltip"}),placeholder:w.formatMessage({id:"app_store",defaultMessage:"app_store"})}),(0,e.jsx)(C.Z,{width:"sm",name:"play_store",label:(0,e.jsx)(r.FormattedMessage,{id:"play_store"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"play_store_tooltip"}),placeholder:w.formatMessage({id:"play_store",defaultMessage:"play_store"})})]})]})," ",(0,e.jsx)(p.ZP.Item,{shouldUpdate:!0,name:"related_products",label:(0,e.jsx)(r.FormattedMessage,{id:"related_products"}),valuePropName:"value",children:et&&(0,e.jsx)(Q.Z,{type:et,multiple:!0})}),!fe&&(0,e.jsx)(p.ZP.Item,{style:{width:"100%"},name:"description",label:(0,e.jsx)(r.FormattedMessage,{id:"description"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"description_tooltip"}),valuePropName:"value",children:(0,e.jsx)(ge.ZP,{directory:"products/".concat(B,"/wysiwyg")})}),Ae.length>0&&rt&&(0,e.jsx)(Ve.ZP,{headerTitle:w.formatMessage({id:"selected_products",defaultMessage:"Selected Products"}),pagination:!1,search:!1,dataSource:n()(Ae),rowKey:"id",columns:[{title:(0,e.jsx)(r.FormattedMessage,{id:"id",defaultMessage:"id"}),dataIndex:"id",width:"80px"},{title:(0,e.jsx)(r.FormattedMessage,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:(0,e.jsx)(r.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"class",render:function(y,he){return(0,e.jsx)(S.Z,{children:(0,e.jsx)(r.FormattedMessage,{id:he.class.split("\\").pop(),defaultMessage:he.class.split("\\").pop()})})}},{title:(0,e.jsx)(r.FormattedMessage,{id:"quantity",defaultMessage:"quantity"}),dataIndex:"quantity",width:"10%",render:function(y,he){return(0,e.jsx)(D.Z,{min:1,type:"number",value:he.quantity||1,onChange:function(_e){var ve=_e.target.value,Le=Ae.findIndex(function(Re){return Re.id===he.id}),me=Ae;me[Le].quantity=Number(ve),ee(me),ct()}})}}]})]}))," "]},"attributes"),!fe&&(0,e.jsx)(T.ZP.TabPane,{tab:(0,e.jsx)(r.FormattedMessage,{id:"cart_media",defaultMessage:"Cart Media"}),children:(0,e.jsx)(p.ZP,o()(o()({},Je),{},{form:Te,children:(0,e.jsx)(O.Z,{folder:"products/".concat(B),wrapInForm:!1,title:"image",action:"/api/admin/products/".concat(B,"/?_method=PUT"),src_name:"poster_url",form_name:"poster",getUploadedSrcField:function(y){return y.file.response.data.poster_url},setPath:function(y){return Te.setFieldsValue(y)}})}))},"media"),!fe&&(0,e.jsx)(T.ZP.TabPane,{tab:(0,e.jsx)(r.FormattedMessage,{id:"product_categories_and_tags",defaultMessage:"Product Categories & Tags"}),children:(0,e.jsx)(p.ZP,o()(o()({},Je),{},{form:Te,children:(0,e.jsxs)(A.Z,{children:[(0,e.jsx)(x.Z,{span:12,children:(0,e.jsx)(p.ZP.Item,{label:(0,e.jsx)(r.FormattedMessage,{id:"categories"}),name:"categories",valuePropName:"value",children:(0,e.jsx)(h.Z,{})})}),(0,e.jsx)(x.Z,{span:12,children:(0,e.jsx)(p.ZP.Item,{label:(0,e.jsx)(r.FormattedMessage,{id:"tags"}),name:"tags",valuePropName:"value",children:(0,e.jsx)(le.Z,{})})})]})}))},"categories"),!fe&&(0,e.jsx)(T.ZP.TabPane,{tab:(0,e.jsx)(r.FormattedMessage,{id:"users_attached",defaultMessage:"Users Attached"}),children:(0,e.jsx)(A.Z,{children:(0,e.jsx)(x.Z,{span:24,children:B&&(0,e.jsx)(be,{id:B})})})},"users")," ",!fe&&(0,e.jsx)(T.ZP.TabPane,{tab:(0,e.jsx)(r.FormattedMessage,{id:"user_submission",defaultMessage:"Users Attached without Account"}),children:(0,e.jsx)(A.Z,{children:(0,e.jsx)(x.Z,{span:12,children:B&&(0,e.jsx)(Y.ZP,{id:Number(B),type:"EscolaLms\\Cart\\Models\\Product"})})})},"user_submission"),!fe&&B&&(0,e.jsx)(T.ZP.TabPane,{tab:(0,e.jsx)(r.FormattedMessage,{id:"template"}),children:(0,e.jsx)(A.Z,{children:(0,e.jsx)(x.Z,{span:12,children:(0,e.jsx)(re,{productId:Number(B)})})})},"template")]})},$e=Qe},94116:function(ue,Z,t){t.d(Z,{CL:function(){return I},W3:function(){return U},bd:function(){return g},k4:function(){return T},uu:function(){return F},yr:function(){return C}});var K=t(15009),n=t.n(K),$=t(97857),l=t.n($),L=t(99289),o=t.n(L),_=t(80854);function I(M){return j.apply(this,arguments)}function j(){return j=o()(n()().mark(function M(P){return n()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.abrupt("return",(0,_.request)("/api/admin/categories/tree",l()({method:"GET",useCache:!1},P||{})));case 1:case"end":return S.stop()}},M)})),j.apply(this,arguments)}function g(M,P){return m.apply(this,arguments)}function m(){return m=o()(n()().mark(function M(P,D){return n()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,_.request)("/api/admin/categories",l()({method:"GET",useCache:!1,params:P},D||{})));case 1:case"end":return A.stop()}},M)})),m.apply(this,arguments)}function U(M,P){return b.apply(this,arguments)}function b(){return b=o()(n()().mark(function M(P,D){return n()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,_.request)("/api/admin/categories/".concat(P),l()({method:"GET",useCache:!1},D||{})));case 1:case"end":return A.stop()}},M)})),b.apply(this,arguments)}function T(M,P){return p.apply(this,arguments)}function p(){return p=o()(n()().mark(function M(P,D){return n()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,_.request)("/api/admin/categories",l()({method:"POST",headers:{"Content-Type":"application/json"},data:P},D||{})));case 1:case"end":return A.stop()}},M)})),p.apply(this,arguments)}function C(M,P,D){return E.apply(this,arguments)}function E(){return E=o()(n()().mark(function M(P,D,S){return n()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,_.request)("/api/admin/categories/".concat(P),l()({method:"POST",headers:{"Content-Type":"application/json"},data:D},S||{})));case 1:case"end":return x.stop()}},M)})),E.apply(this,arguments)}function F(M,P,D){return a.apply(this,arguments)}function a(){return a=o()(n()().mark(function M(P,D,S){return n()().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",(0,_.request)("/api/admin/categories/".concat(P),l()({method:"DELETE",headers:{"Content-Type":"application/json"},data:D},S||{})));case 1:case"end":return x.stop()}},M)})),a.apply(this,arguments)}},31472:function(ue,Z,t){t.d(Z,{Fh:function(){return m},UL:function(){return j},Yo:function(){return T},Zg:function(){return p},cX:function(){return I},ce:function(){return _},fS:function(){return b},fn:function(){return L},h5:function(){return C},hg:function(){return F},oz:function(){return K},rX:function(){return U},uT:function(){return l},wg:function(){return E},wl:function(){return g}});var K=function(a){return a.Unselected="",a.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",a.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",a.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",a.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",a.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",a.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",a.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",a.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",a.Project="EscolaLms\\TopicTypeProject\\Models\\Project",a.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz",a}({}),n=function(a){return a.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",a.UserLogged="EscolaLms\\Auth\\Events\\UserLogged",a}({}),$=function(a){return a.draft="draft",a.published="published",a.archived="archived",a}({}),l=function(a){return a.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",a.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",a.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel",a}({}),L=function(a){return a.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent",a}({}),o=function(a){return a.cart_fixed="cart_fixed",a.cart_percent="cart_percent",a.product_fixed="product_fixed",a.product_percent="product_percent",a}({}),_=function(a){return a.MULTIPLE_CHOICE="multiple_choice",a.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",a.TRUE_FALSE="true_false",a.SHORT_ANSWERS="short_answers",a.MATCHING="matching",a.NUMERICAL_QUESTION="numerical_question",a.ESSAY="essay",a.DESCRIPTION="description",a}({}),I=function(a){return a.PRESENT="present",a.PRESENT_NOT_EXERCISING="present_not_exercising",a.ABSENT="absent",a.EXCUSED_ABSENCE="excused_absence",a}({}),j=function(a){return a.Manual="manual",a.ManualPass="manual_pass",a.ManualGrades="manual_grades",a.TeamsForms="teams_forms",a.TeamsLecture="teams_lecture",a.TestPortal="test_portal",a}({}),g=function(a){return a.Passed="zal",a.Failed="nie zal",a}({}),m=function(a){return a.Simple="simple",a.Complex="complex",a}({}),U=function(a){return a.QuizSummary="EscolaLms\\Reports\\Stats\\Topic\\QuizSummaryForTopicTypeGIFT",a}({}),b=function(a){return a.Boolean="boolean",a.Number="number",a.Varchar="varchar",a.Text="text",a.Json="json",a}({}),T=function(a){return a.Rate="rate",a.Text="text",a.Review="review",a}({}),p=function(a){return a.Exercise="exercise",a.Course="course",a.Info="info",a}({}),C=function(a){return a.Group="EscolaLms\\PcgIntegration\\Models\\Group",a}({}),E=function(a){return a.PUSH="EscolaLms\\BulkNotifications\\Channels\\PushNotificationChannel",a}({}),F=function(a){return a.TITLE="title",a.BODY="body",a.IMAGE="image_url",a.REDIRECT_URL="redirect_url",a}({})},44837:function(ue,Z,t){t.d(Z,{Ir:function(){return C},RB:function(){return I},fw:function(){return D},nM:function(){return T},nS:function(){return M},q5:function(){return A},rc:function(){return F},ry:function(){return g},wv:function(){return U}});var K=t(15009),n=t.n(K),$=t(97857),l=t.n($),L=t(99289),o=t.n(L),_=t(80854);function I(u,r){return j.apply(this,arguments)}function j(){return j=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/products",l()({method:"GET",params:l()(l()({},r),{},{free:typeof r.free!="undefined"?r.free==="true"?1:0:void 0,per_page:r.pageSize,page:r.current})},h||{})));case 1:case"end":return s.stop()}},u)})),j.apply(this,arguments)}function g(u,r){return m.apply(this,arguments)}function m(){return m=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/products",l()({method:"POST",data:r},h||{})));case 1:case"end":return s.stop()}},u)})),m.apply(this,arguments)}function U(u,r){return b.apply(this,arguments)}function b(){return b=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/products/".concat(r),l()({method:"GET"},h||{})));case 1:case"end":return s.stop()}},u)})),b.apply(this,arguments)}function T(u,r,h){return p.apply(this,arguments)}function p(){return p=o()(n()().mark(function u(r,h,O){return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,_.request)("/api/admin/products/".concat(r,"?_method=PUT"),l()({method:"POST",data:h},O||{})));case 1:case"end":return v.stop()}},u)})),p.apply(this,arguments)}function C(u,r){return E.apply(this,arguments)}function E(){return E=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/products/".concat(r),l()({method:"DELETE"},h||{})));case 1:case"end":return s.stop()}},u)})),E.apply(this,arguments)}function F(u){return a.apply(this,arguments)}function a(){return a=o()(n()().mark(function u(r){return n()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,_.request)("/api/admin/productables",l()({method:"GET"},r||{})));case 1:case"end":return O.stop()}},u)})),a.apply(this,arguments)}function M(u,r){return P.apply(this,arguments)}function P(){return P=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/productables/product",l()({method:"GET",params:r},h||{})));case 1:case"end":return s.stop()}},u)})),P.apply(this,arguments)}function D(u,r,h){return S.apply(this,arguments)}function S(){return S=o()(n()().mark(function u(r,h,O){return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,_.request)("/api/admin/products/".concat(r,"/attach"),l()({method:"POST",data:h},O||{})));case 1:case"end":return v.stop()}},u)})),S.apply(this,arguments)}function A(u,r,h){return x.apply(this,arguments)}function x(){return x=o()(n()().mark(function u(r,h,O){return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,_.request)("/api/admin/products/".concat(r,"/detach"),l()({method:"POST",data:h},O||{})));case 1:case"end":return v.stop()}},u)})),x.apply(this,arguments)}},64532:function(ue,Z,t){t.d(Z,{a:function(){return I}});var K=t(15009),n=t.n(K),$=t(97857),l=t.n($),L=t(99289),o=t.n(L),_=t(80854);function I(g){return j.apply(this,arguments)}function j(){return j=o()(n()().mark(function g(m){return n()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",(0,_.request)("/api/tags/unique",l()({method:"GET",useCache:!1},m||{})));case 1:case"end":return b.stop()}},g)})),j.apply(this,arguments)}},40658:function(ue,Z,t){t.d(Z,{MZ:function(){return D},Mn:function(){return U},QB:function(){return T},RN:function(){return M},Rl:function(){return F},XK:function(){return g},Xc:function(){return C},zB:function(){return A},zd:function(){return I}});var K=t(15009),n=t.n(K),$=t(97857),l=t.n($),L=t(99289),o=t.n(L),_=t(80854);function I(u,r){return j.apply(this,arguments)}function j(){return j=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/templates",l()({method:"GET",useCache:!1,params:r},h||{})));case 1:case"end":return s.stop()}},u)})),j.apply(this,arguments)}function g(u,r){return m.apply(this,arguments)}function m(){return m=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/templates/".concat(r),l()({method:"GET"},h||{})));case 1:case"end":return s.stop()}},u)})),m.apply(this,arguments)}function U(u,r){return b.apply(this,arguments)}function b(){return b=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/templates",l()({method:"POST",headers:{"Content-Type":"application/json"},data:r},h||{})));case 1:case"end":return s.stop()}},u)})),b.apply(this,arguments)}function T(u,r,h){return p.apply(this,arguments)}function p(){return p=o()(n()().mark(function u(r,h,O){return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,_.request)("/api/admin/templates/".concat(r),l()({method:"PATCH",headers:{"Content-Type":"application/json"},data:h},O||{})));case 1:case"end":return v.stop()}},u)})),p.apply(this,arguments)}function C(u,r){return E.apply(this,arguments)}function E(){return E=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/templates/".concat(r),l()({method:"DELETE",headers:{"Content-Type":"application/json"}},h||{})));case 1:case"end":return s.stop()}},u)})),E.apply(this,arguments)}function F(u){return a.apply(this,arguments)}function a(){return a=o()(n()().mark(function u(r){return n()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,_.request)("/api/admin/templates/variables",l()({method:"GET"},r||{})));case 1:case"end":return O.stop()}},u)})),a.apply(this,arguments)}function M(u,r){return P.apply(this,arguments)}function P(){return P=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/templates/".concat(r,"/preview"),l()({method:"GET"},h||{})));case 1:case"end":return s.stop()}},u)})),P.apply(this,arguments)}function D(u,r,h){return S.apply(this,arguments)}function S(){return S=o()(n()().mark(function u(r,h,O){return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,_.request)("/api/admin/events/trigger-manually/".concat(r),l()({method:"POST",headers:{"Content-Type":"application/json"},data:{users:h}},O||{})));case 1:case"end":return v.stop()}},u)})),S.apply(this,arguments)}function A(u,r,h){return x.apply(this,arguments)}function x(){return x=o()(n()().mark(function u(r,h,O){return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,_.request)("/api/admin/products/".concat(h,"/trigger-event-manually/").concat(r),l()({method:"POST",headers:{"Content-Type":"application/json"}},O||{})));case 1:case"end":return v.stop()}},u)})),x.apply(this,arguments)}},30869:function(ue,Z,t){t.d(Z,{EA:function(){return g},Je:function(){return C},LS:function(){return te},N5:function(){return U},Nq:function(){return F},VB:function(){return s},WC:function(){return A},ck:function(){return T},h8:function(){return D},m9:function(){return h},nS:function(){return u},r4:function(){return M},rC:function(){return I},yi:function(){return Q}});var K=t(15009),n=t.n(K),$=t(97857),l=t.n($),L=t(99289),o=t.n(L),_=t(80854);function I(d,i){return j.apply(this,arguments)}function j(){return j=o()(n()().mark(function d(i,c){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/admin/users",l()({params:i,method:"GET",useCache:!1},c||{})));case 1:case"end":return e.stop()}},d)})),j.apply(this,arguments)}function g(d,i,c){return m.apply(this,arguments)}function m(){return m=o()(n()().mark(function d(i,c,f){return n()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",(0,_.request)("/api/admin/users/".concat(i),l()({method:"GET",useCache:f!==void 0?f:!0},c||{})));case 1:case"end":return R.stop()}},d)})),m.apply(this,arguments)}function U(d){return b.apply(this,arguments)}function b(){return b=o()(n()().mark(function d(i){return n()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,_.request)("/api/profile/me",l()({method:"GET",useCache:!1},i||{})));case 1:case"end":return f.stop()}},d)})),b.apply(this,arguments)}function T(d,i){return p.apply(this,arguments)}function p(){return p=o()(n()().mark(function d(i,c){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/profile/me",l()({data:i,method:"PUT"},c||{})));case 1:case"end":return e.stop()}},d)})),p.apply(this,arguments)}function C(d,i){return E.apply(this,arguments)}function E(){return E=o()(n()().mark(function d(i,c){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/profile/password",l()({data:i,method:"PUT"},c||{})));case 1:case"end":return e.stop()}},d)})),E.apply(this,arguments)}function F(d,i,c){return a.apply(this,arguments)}function a(){return a=o()(n()().mark(function d(i,c,f){return n()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",(0,_.request)("/api/admin/users/".concat(i),l()({data:c,method:"PUT"},f||{})));case 1:case"end":return R.stop()}},d)})),a.apply(this,arguments)}function M(d,i){return P.apply(this,arguments)}function P(){return P=o()(n()().mark(function d(i,c){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/admin/users",l()({data:i,method:"POST"},c||{})));case 1:case"end":return e.stop()}},d)})),P.apply(this,arguments)}function D(d,i){return S.apply(this,arguments)}function S(){return S=o()(n()().mark(function d(i,c){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/admin/users/".concat(i),l()({method:"DELETE"},c||{})));case 1:case"end":return e.stop()}},d)})),S.apply(this,arguments)}function A(d,i,c){return x.apply(this,arguments)}function x(){return x=o()(n()().mark(function d(i,c,f){return n()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",(0,_.request)("/api/auth/email/resend",l()({method:"POST",data:{email:i,return_url:c}},f||{})));case 1:case"end":return R.stop()}},d)})),x.apply(this,arguments)}function u(d,i){return r.apply(this,arguments)}function r(){return r=o()(n()().mark(function d(i,c){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/admin/users/".concat(i,"/settings"),l()({method:"GET",useCache:!1},c||{})));case 1:case"end":return e.stop()}},d)})),r.apply(this,arguments)}function h(d,i,c,f){return O.apply(this,arguments)}function O(){return O=o()(n()().mark(function d(i,c,f,e){return n()().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",(0,_.request)("/api/admin/users/".concat(i,"/settings"),l()({method:c,data:{settings:[f]},useCache:!1},e||{})));case 1:case"end":return W.stop()}},d)})),O.apply(this,arguments)}function s(d,i){return v.apply(this,arguments)}function v(){return v=o()(n()().mark(function d(i,c){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/admin/users/".concat(i,"/avatar"),l()({method:"DELETE"},c||{})));case 1:case"end":return e.stop()}},d)})),v.apply(this,arguments)}function Q(d,i,c){return le.apply(this,arguments)}function le(){return le=o()(n()().mark(function d(i,c,f){return n()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",(0,_.request)("/api/admin/users/".concat(i,"/interests"),l()({data:c,method:"PUT"},f||{})));case 1:case"end":return R.stop()}},d)})),le.apply(this,arguments)}function te(d,i){return V.apply(this,arguments)}function V(){return V=o()(n()().mark(function d(i,c){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/admin/stats/date-range",l()({params:i,method:"GET"},c||{})));case 1:case"end":return e.stop()}},d)})),V.apply(this,arguments)}}}]);
