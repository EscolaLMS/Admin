{"version":3,"file":"p__TeacherSubjects__form.3e988165.async.js","mappings":"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","sources":["webpack://ant-design-pro/./node_modules/@ant-design/icons/es/icons/InfoCircleOutlined.js","webpack://ant-design-pro/./node_modules/@ant-design/plots/es/components/column/index.js","webpack://ant-design-pro/./node_modules/@ant-design/pro-table/node_modules/@ant-design/icons/es/icons/PlusOutlined.js","webpack://ant-design-pro/./node_modules/@ant-design/pro-table/es/components/EditableTable/index.js","webpack://ant-design-pro/./src/components/CourseStatistics/ExportStatsButton.tsx","webpack://ant-design-pro/./src/components/CourseStatistics/userProgress.tsx","webpack://ant-design-pro/./src/components/ProgramForm/Context/index.tsx","webpack://ant-design-pro/./src/services/escola-lms/bookmark_notes.ts","webpack://ant-design-pro/./src/components/BookmarkNoteModal/index.tsx","webpack://ant-design-pro/./src/services/escola-lms/attendances.ts","webpack://ant-design-pro/./src/services/escola-lms/exams.ts","webpack://ant-design-pro/./src/services/escola-lms/grades.ts","webpack://ant-design-pro/./src/pages/TeacherSubjects/components/FinalGradesDetails/utils.ts","webpack://ant-design-pro/./src/components/AttendanceCheckbox/utils.ts","webpack://ant-design-pro/./src/components/AttendanceCheckbox/index.tsx","webpack://ant-design-pro/./src/pages/TeacherSubjects/components/ExamGradeInput.tsx","webpack://ant-design-pro/./src/pages/TeacherSubjects/components/FinalGradeSelect.tsx","webpack://ant-design-pro/./src/pages/TeacherSubjects/components/ClassRegister/utils.tsx","webpack://ant-design-pro/./src/pages/TeacherSubjects/components/ClassRegister/index.tsx","webpack://ant-design-pro/./node_modules/@ant-design/icons-svg/es/asn/LineChartOutlined.js","webpack://ant-design-pro/./node_modules/@ant-design/icons/es/icons/LineChartOutlined.js","webpack://ant-design-pro/./src/pages/TeacherSubjects/components/ConvertGradesModal.tsx","webpack://ant-design-pro/./src/pages/TeacherSubjects/components/ExamForm.tsx","webpack://ant-design-pro/./src/pages/TeacherSubjects/components/ExamResults.tsx","webpack://ant-design-pro/./src/pages/TeacherSubjects/components/Exams.tsx","webpack://ant-design-pro/./src/pages/TeacherSubjects/components/FileExportsHistory.tsx","webpack://ant-design-pro/./src/pages/TeacherSubjects/components/FinalGradesDetails/hooks.ts","webpack://ant-design-pro/./src/pages/TeacherSubjects/components/FinalGradesDetails/index.tsx","webpack://ant-design-pro/./src/pages/TeacherSubjects/components/FinalGradesList.tsx","webpack://ant-design-pro/./src/pages/TeacherSubjects/components/GradesScale.tsx","webpack://ant-design-pro/./node_modules/rc-picker/es/generate/moment.js","webpack://ant-design-pro/./src/services/escola-lms/schedules.ts","webpack://ant-design-pro/./src/pages/TeacherSubjects/components/Schedule.tsx","webpack://ant-design-pro/./src/services/escola-lms/chats.ts","webpack://ant-design-pro/./src/pages/TeacherSubjects/components/CreateTeamsChatButton.tsx","webpack://ant-design-pro/./src/pages/TeacherSubjects/components/Students.tsx","webpack://ant-design-pro/./src/pages/TeacherSubjects/form.tsx","webpack://ant-design-pro/./src/services/escola-lms/reports.ts","webpack://ant-design-pro/./node_modules/react-indiana-drag-scroll/dist/index.es.js"],"sourcesContent":["import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport InfoCircleOutlinedSvg from \"@ant-design/icons-svg/es/asn/InfoCircleOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar InfoCircleOutlined = function InfoCircleOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: InfoCircleOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(InfoCircleOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'InfoCircleOutlined';\n}\nexport default RefIcon;","var __assign = (this && this.__assign) || function () {\n    __assign = Object.assign || function(t) {\n        for (var s, i = 1, n = arguments.length; i < n; i++) {\n            s = arguments[i];\n            for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\n                t[p] = s[p];\n        }\n        return t;\n    };\n    return __assign.apply(this, arguments);\n};\nimport React, { forwardRef } from 'react';\nimport { BaseChart } from '../base';\nvar ColumnChart = forwardRef(function (props, ref) { return React.createElement(BaseChart, __assign({}, props, { chartType: \"Column\", ref: ref })); });\nexport default ColumnChart;\n","import _extends from \"@babel/runtime/helpers/esm/extends\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\n\nimport * as React from 'react';\nimport PlusOutlinedSvg from \"@ant-design/icons-svg/es/asn/PlusOutlined\";\nimport AntdIcon from \"../components/AntdIcon\";\nvar PlusOutlined = function PlusOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _extends({}, props, {\n    ref: ref,\n    icon: PlusOutlinedSvg\n  }));\n};\n\n/**![plus](data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTAiIGhlaWdodD0iNTAiIGZpbGw9IiNjYWNhY2EiIHZpZXdCb3g9IjY0IDY0IDg5NiA4OTYiIGZvY3VzYWJsZT0iZmFsc2UiIHhtbG5zPSJodHRwOi8vd3d3LnczLm9yZy8yMDAwL3N2ZyI+PHBhdGggZD0iTTQ4MiAxNTJoNjBxOCAwIDggOHY3MDRxMCA4LTggOGgtNjBxLTggMC04LThWMTYwcTAtOCA4LTh6IiAvPjxwYXRoIGQ9Ik0xOTIgNDc0aDY3MnE4IDAgOCA4djYwcTAgOC04IDhIMTYwcS04IDAtOC04di02MHEwLTggOC04eiIgLz48L3N2Zz4=) */\nvar RefIcon = /*#__PURE__*/React.forwardRef(PlusOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'PlusOutlined';\n}\nexport default RefIcon;","import _defineProperty from \"@babel/runtime/helpers/esm/defineProperty\";\nimport _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport _objectWithoutProperties from \"@babel/runtime/helpers/esm/objectWithoutProperties\";\nimport _regeneratorRuntime from \"@babel/runtime/helpers/esm/regeneratorRuntime\";\nimport _asyncToGenerator from \"@babel/runtime/helpers/esm/asyncToGenerator\";\nimport _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\nvar _excluded = [\"onTableChange\", \"maxLength\", \"formItemProps\", \"recordCreatorProps\", \"rowKey\", \"controlled\", \"defaultValue\", \"onChange\", \"editableFormRef\"],\n  _excluded2 = [\"record\", \"position\", \"creatorButtonText\", \"newRecordType\", \"parentKey\", \"style\"];\nimport { PlusOutlined } from '@ant-design/icons';\nimport ProForm, { ProFormDependency } from '@ant-design/pro-form';\nimport { useIntl } from '@ant-design/pro-provider';\nimport { isDeepEqualReact, runFunction, stringify, useRefFunction } from '@ant-design/pro-utils';\nimport { Button, Form } from 'antd';\nimport useMergedState from \"rc-util/es/hooks/useMergedState\";\nimport get from \"rc-util/es/utils/get\";\nimport set from \"rc-util/es/utils/set\";\nimport React, { useContext, useEffect, useImperativeHandle, useMemo, useRef } from 'react';\nimport ProTable from \"../../Table\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-runtime\";\nvar EditableTableActionContext = /*#__PURE__*/React.createContext(undefined);\n\n/** 可编辑表格的按钮 */\nfunction RecordCreator(props) {\n  var children = props.children,\n    record = props.record,\n    position = props.position,\n    newRecordType = props.newRecordType,\n    parentKey = props.parentKey;\n  var actionRef = useContext(EditableTableActionContext);\n  return /*#__PURE__*/React.cloneElement(children, _objectSpread(_objectSpread({}, children.props), {}, {\n    onClick: function () {\n      var _onClick = _asyncToGenerator( /*#__PURE__*/_regeneratorRuntime().mark(function _callee(e) {\n        var _children$props$onCli, _children$props, _actionRef$current;\n        var isOk;\n        return _regeneratorRuntime().wrap(function _callee$(_context) {\n          while (1) switch (_context.prev = _context.next) {\n            case 0:\n              _context.next = 2;\n              return (_children$props$onCli = (_children$props = children.props).onClick) === null || _children$props$onCli === void 0 ? void 0 : _children$props$onCli.call(_children$props, e);\n            case 2:\n              isOk = _context.sent;\n              if (!(isOk === false)) {\n                _context.next = 5;\n                break;\n              }\n              return _context.abrupt(\"return\");\n            case 5:\n              actionRef === null || actionRef === void 0 || (_actionRef$current = actionRef.current) === null || _actionRef$current === void 0 || _actionRef$current.addEditRecord(record, {\n                position: position,\n                newRecordType: newRecordType,\n                parentKey: parentKey\n              });\n            case 6:\n            case \"end\":\n              return _context.stop();\n          }\n        }, _callee);\n      }));\n      function onClick(_x) {\n        return _onClick.apply(this, arguments);\n      }\n      return onClick;\n    }()\n  }));\n}\n\n/**\n * 可以直接放到 Form 中的可编辑表格\n * A React component that is used to create a table.\n * @param props\n */\nfunction EditableTable(props) {\n  var _props$editable2, _props$editable4;\n  var intl = useIntl();\n  var onTableChange = props.onTableChange,\n    maxLength = props.maxLength,\n    formItemProps = props.formItemProps,\n    recordCreatorProps = props.recordCreatorProps,\n    rowKey = props.rowKey,\n    controlled = props.controlled,\n    defaultValue = props.defaultValue,\n    onChange = props.onChange,\n    editableFormRef = props.editableFormRef,\n    rest = _objectWithoutProperties(props, _excluded);\n  var preData = useRef(undefined);\n  var actionRef = useRef();\n  var formRef = useRef();\n\n  // 设置 ref\n  useImperativeHandle(rest.actionRef, function () {\n    return actionRef.current;\n  }, [actionRef.current]);\n  var _useMergedState = useMergedState(function () {\n      return props.value || defaultValue || [];\n    }, {\n      value: props.value,\n      onChange: props.onChange\n    }),\n    _useMergedState2 = _slicedToArray(_useMergedState, 2),\n    value = _useMergedState2[0],\n    setValue = _useMergedState2[1];\n  var getRowKey = React.useMemo(function () {\n    if (typeof rowKey === 'function') {\n      return rowKey;\n    }\n    return function (record, index) {\n      return record[rowKey] || index;\n    };\n  }, [rowKey]);\n\n  /**\n   * 根据不同的情况返回不同的 rowKey\n   * @param finlayRowKey\n   * @returns string | number\n   */\n  var coverRowKey = useRefFunction(function (finlayRowKey) {\n    /**\n     * 如果是 prop.name 的模式，就需要把行号转化成具体的rowKey。\n     */\n    if (typeof finlayRowKey === 'number' && !props.name) {\n      if (finlayRowKey >= value.length) return finlayRowKey;\n      var rowData = value && value[finlayRowKey];\n      return getRowKey === null || getRowKey === void 0 ? void 0 : getRowKey(rowData, finlayRowKey);\n    }\n\n    /**\n     * 如果是 prop.name 的模式，就直接返回行号\n     */\n    if ((typeof finlayRowKey === 'string' || finlayRowKey >= value.length) && props.name) {\n      var _rowIndex = value.findIndex(function (item, index) {\n        var _getRowKey;\n        return (getRowKey === null || getRowKey === void 0 || (_getRowKey = getRowKey(item, index)) === null || _getRowKey === void 0 ? void 0 : _getRowKey.toString()) === (finlayRowKey === null || finlayRowKey === void 0 ? void 0 : finlayRowKey.toString());\n      });\n      if (_rowIndex !== -1) return _rowIndex;\n    }\n    return finlayRowKey;\n  });\n\n  // 设置 editableFormRef\n  useImperativeHandle(editableFormRef, function () {\n    /**\n     * 获取一行数据的\n     * @param rowIndex\n     * @returns T | undefined\n     */\n    var getRowData = function getRowData(rowIndex) {\n      var _finlayRowKey$toStrin, _formRef$current;\n      if (rowIndex == undefined) {\n        throw new Error('rowIndex is required');\n      }\n      var finlayRowKey = coverRowKey(rowIndex);\n      var rowKeyName = [props.name, (_finlayRowKey$toStrin = finlayRowKey === null || finlayRowKey === void 0 ? void 0 : finlayRowKey.toString()) !== null && _finlayRowKey$toStrin !== void 0 ? _finlayRowKey$toStrin : ''].flat(1).filter(Boolean);\n      return (_formRef$current = formRef.current) === null || _formRef$current === void 0 ? void 0 : _formRef$current.getFieldValue(rowKeyName);\n    };\n\n    /**\n     * 获取整个 table 的数据\n     * @returns T[] | undefined\n     */\n    var getRowsData = function getRowsData() {\n      var _formRef$current3;\n      var rowKeyName = [props.name].flat(1).filter(Boolean);\n      if (Array.isArray(rowKeyName) && rowKeyName.length === 0) {\n        var _formRef$current2;\n        var rowData = (_formRef$current2 = formRef.current) === null || _formRef$current2 === void 0 ? void 0 : _formRef$current2.getFieldsValue();\n        if (Array.isArray(rowData)) return rowData;\n        return Object.keys(rowData).map(function (key) {\n          return rowData[key];\n        });\n      }\n      return (_formRef$current3 = formRef.current) === null || _formRef$current3 === void 0 ? void 0 : _formRef$current3.getFieldValue(rowKeyName);\n    };\n    return _objectSpread(_objectSpread({}, formRef.current), {}, {\n      getRowData: getRowData,\n      getRowsData: getRowsData,\n      /**\n       * 设置一行的数据，会将数据进行简单的 merge\n       * @param rowIndex\n       * @param data\n       * @returns void\n       */\n      setRowData: function setRowData(rowIndex, data) {\n        var _finlayRowKey$toStrin2, _formRef$current4;\n        if (rowIndex == undefined) {\n          throw new Error('rowIndex is required');\n        }\n        var finlayRowKey = coverRowKey(rowIndex);\n        var rowKeyName = [props.name, (_finlayRowKey$toStrin2 = finlayRowKey === null || finlayRowKey === void 0 ? void 0 : finlayRowKey.toString()) !== null && _finlayRowKey$toStrin2 !== void 0 ? _finlayRowKey$toStrin2 : ''].flat(1).filter(Boolean);\n        var newRowData = Object.assign({}, _objectSpread(_objectSpread({}, getRowData(rowIndex)), data || {}));\n        var updateValues = set({}, rowKeyName, newRowData);\n        (_formRef$current4 = formRef.current) === null || _formRef$current4 === void 0 || _formRef$current4.setFieldsValue(updateValues);\n        return true;\n      }\n    });\n  }, [coverRowKey, props.name, formRef.current]);\n  useEffect(function () {\n    if (!props.controlled) return;\n    (value || []).forEach(function (current, index) {\n      var _formRef$current5;\n      (_formRef$current5 = formRef.current) === null || _formRef$current5 === void 0 || _formRef$current5.setFieldsValue(_defineProperty({}, \"\".concat(getRowKey(current, index)), current));\n    }, {});\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [stringify(value), props.controlled]);\n  useEffect(function () {\n    if (props.name) {\n      var _props$editable;\n      formRef.current = props === null || props === void 0 || (_props$editable = props.editable) === null || _props$editable === void 0 ? void 0 : _props$editable.form;\n    }\n  }, [(_props$editable2 = props.editable) === null || _props$editable2 === void 0 ? void 0 : _props$editable2.form, props.name]);\n  var _ref = recordCreatorProps || {},\n    record = _ref.record,\n    position = _ref.position,\n    creatorButtonText = _ref.creatorButtonText,\n    newRecordType = _ref.newRecordType,\n    parentKey = _ref.parentKey,\n    style = _ref.style,\n    restButtonProps = _objectWithoutProperties(_ref, _excluded2);\n  var isTop = position === 'top';\n  var creatorButtonDom = useMemo(function () {\n    if (typeof maxLength === 'number' && maxLength <= (value === null || value === void 0 ? void 0 : value.length)) {\n      return false;\n    }\n    return recordCreatorProps !== false && /*#__PURE__*/_jsx(RecordCreator, {\n      record: runFunction(record, value === null || value === void 0 ? void 0 : value.length, value) || {},\n      position: position,\n      parentKey: runFunction(parentKey, value === null || value === void 0 ? void 0 : value.length, value),\n      newRecordType: newRecordType,\n      children: /*#__PURE__*/_jsx(Button, _objectSpread(_objectSpread({\n        type: \"dashed\",\n        style: _objectSpread({\n          display: 'block',\n          margin: '10px 0',\n          width: '100%'\n        }, style),\n        icon: /*#__PURE__*/_jsx(PlusOutlined, {})\n      }, restButtonProps), {}, {\n        children: creatorButtonText || intl.getMessage('editableTable.action.add', '添加一行数据')\n      }))\n    });\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [recordCreatorProps, maxLength, value === null || value === void 0 ? void 0 : value.length]);\n  var buttonRenderProps = useMemo(function () {\n    if (!creatorButtonDom) {\n      return {};\n    }\n    if (isTop) {\n      return {\n        components: {\n          header: {\n            wrapper: function wrapper(_ref2) {\n              var _rest$columns;\n              var className = _ref2.className,\n                children = _ref2.children;\n              return /*#__PURE__*/_jsxs(\"thead\", {\n                className: className,\n                children: [children, /*#__PURE__*/_jsxs(\"tr\", {\n                  style: {\n                    position: 'relative'\n                  },\n                  children: [/*#__PURE__*/_jsx(\"td\", {\n                    colSpan: 0,\n                    style: {\n                      visibility: 'hidden'\n                    },\n                    children: creatorButtonDom\n                  }), /*#__PURE__*/_jsx(\"td\", {\n                    style: {\n                      position: 'absolute',\n                      left: 0,\n                      width: '100%'\n                    },\n                    colSpan: (_rest$columns = rest.columns) === null || _rest$columns === void 0 ? void 0 : _rest$columns.length,\n                    children: creatorButtonDom\n                  })]\n                })]\n              });\n            }\n          }\n        }\n      };\n    }\n    return {\n      tableViewRender: function tableViewRender(_, dom) {\n        var _props$tableViewRende, _props$tableViewRende2;\n        return /*#__PURE__*/_jsxs(_Fragment, {\n          children: [(_props$tableViewRende = (_props$tableViewRende2 = props.tableViewRender) === null || _props$tableViewRende2 === void 0 ? void 0 : _props$tableViewRende2.call(props, _, dom)) !== null && _props$tableViewRende !== void 0 ? _props$tableViewRende : dom, creatorButtonDom]\n        });\n      }\n    };\n    // eslint-disable-next-line react-hooks/exhaustive-deps\n  }, [isTop, creatorButtonDom]);\n  var editableProps = _objectSpread({}, props.editable);\n\n  /**\n   * 防止闭包的onchange\n   *\n   * >>>>>>为了性能好辛苦\n   */\n  var newOnValueChange = useRefFunction(function (r, dataSource) {\n    var _props$editable3, _props$editable3$onVa, _props$onValuesChange;\n    (_props$editable3 = props.editable) === null || _props$editable3 === void 0 || (_props$editable3$onVa = _props$editable3.onValuesChange) === null || _props$editable3$onVa === void 0 || _props$editable3$onVa.call(_props$editable3, r, dataSource);\n    (_props$onValuesChange = props.onValuesChange) === null || _props$onValuesChange === void 0 || _props$onValuesChange.call(props, dataSource, r);\n    if (props.controlled) {\n      var _props$onChange;\n      props === null || props === void 0 || (_props$onChange = props.onChange) === null || _props$onChange === void 0 || _props$onChange.call(props, dataSource);\n    }\n  });\n  if (props !== null && props !== void 0 && props.onValuesChange || (_props$editable4 = props.editable) !== null && _props$editable4 !== void 0 && _props$editable4.onValuesChange ||\n  // 受控模式需要触发 onchange\n  props.controlled && props !== null && props !== void 0 && props.onChange) {\n    editableProps.onValuesChange = newOnValueChange;\n  }\n  return /*#__PURE__*/_jsxs(_Fragment, {\n    children: [/*#__PURE__*/_jsx(EditableTableActionContext.Provider, {\n      value: actionRef,\n      children: /*#__PURE__*/_jsx(ProTable, _objectSpread(_objectSpread(_objectSpread({\n        search: false,\n        options: false,\n        pagination: false,\n        rowKey: rowKey,\n        revalidateOnFocus: false\n      }, rest), buttonRenderProps), {}, {\n        tableLayout: \"fixed\",\n        actionRef: actionRef,\n        onChange: onTableChange,\n        editable: _objectSpread(_objectSpread({}, editableProps), {}, {\n          formProps: _objectSpread({\n            formRef: formRef\n          }, editableProps.formProps)\n        }),\n        dataSource: value,\n        onDataSourceChange: function onDataSourceChange(dataSource) {\n          setValue(dataSource);\n          /**\n           * 如果是top，需要重新设置一下 form，不然会导致 id 相同数据混淆\n           */\n          if (props.name && position === 'top') {\n            var _formRef$current6;\n            var newValue = set({}, [props.name].flat(1).filter(Boolean), dataSource);\n            (_formRef$current6 = formRef.current) === null || _formRef$current6 === void 0 || _formRef$current6.setFieldsValue(newValue);\n          }\n        }\n      }))\n    }), props.name ? /*#__PURE__*/_jsx(ProFormDependency, {\n      name: [props.name],\n      children: function children(changeValue) {\n        var _props$editable5, _props$editable5$onVa;\n        if (!preData.current) {\n          preData.current = value;\n          return null;\n        }\n        var list = get(changeValue, [props.name].flat(1));\n        var changeItem = list === null || list === void 0 ? void 0 : list.find(function (item, index) {\n          var _preData$current;\n          return !isDeepEqualReact(item, (_preData$current = preData.current) === null || _preData$current === void 0 ? void 0 : _preData$current[index]);\n        });\n        preData.current = value;\n        if (!changeItem) return null;\n        // 如果不存在 preData 说明是初始化，此时不需要触发 onValuesChange\n        props === null || props === void 0 || (_props$editable5 = props.editable) === null || _props$editable5 === void 0 || (_props$editable5$onVa = _props$editable5.onValuesChange) === null || _props$editable5$onVa === void 0 || _props$editable5$onVa.call(_props$editable5, changeItem, list);\n        return null;\n      }\n    }) : null]\n  });\n}\n\n/**\n * 可以直接放到 Form 中的可编辑表格\n * A React component that is used to create a table.\n * @param props\n */\nfunction FieldEditableTable(props) {\n  var form = ProForm.useFormInstance();\n  if (!props.name) return /*#__PURE__*/_jsx(EditableTable, _objectSpread({\n    tableLayout: \"fixed\",\n    scroll: {\n      x: 'max-content'\n    }\n  }, props));\n  return /*#__PURE__*/_jsx(Form.Item, _objectSpread(_objectSpread({\n    style: {\n      maxWidth: '100%'\n    }\n  }, props === null || props === void 0 ? void 0 : props.formItemProps), {}, {\n    name: props.name,\n    shouldUpdate: function shouldUpdate(prev, next) {\n      var name = [props.name].flat(1);\n      try {\n        return JSON.stringify(get(prev, name)) !== JSON.stringify(get(next, name));\n      } catch (error) {\n        return true;\n      }\n    },\n    children: /*#__PURE__*/_jsx(EditableTable, _objectSpread(_objectSpread({\n      tableLayout: \"fixed\",\n      scroll: {\n        x: 'max-content'\n      }\n    }, props), {}, {\n      editable: _objectSpread(_objectSpread({}, props.editable), {}, {\n        form: form\n      })\n    }))\n  }));\n}\nFieldEditableTable.RecordCreator = RecordCreator;\nexport default FieldEditableTable;","import { ExportOutlined } from '@ant-design/icons';\nimport { Button } from 'antd';\nimport React, { useCallback, useState } from 'react';\nimport { FormattedMessage } from 'umi';\n\nimport { exportStatForCourse } from '@/services/escola-lms/reports';\n\ninterface Props {\n  course_id: number;\n  stat?: API.ExportStatForCourseStat;\n}\n\nexport const ExportStatsButton: React.FC<Props> = ({\n  course_id,\n  stat = 'EscolaLms\\\\Reports\\\\Stats\\\\Course\\\\FinishedTopics',\n}) => {\n  const [loading, setLoading] = useState(false);\n\n  const onClickFactory = useCallback(\n    (courseId: number) => async () => {\n      setLoading(true);\n      try {\n        const response = await exportStatForCourse(courseId, {\n          stat,\n        });\n\n        if (response instanceof Blob) {\n          const downloadLink = document.createElement('a');\n          downloadLink.href = window.URL.createObjectURL(response);\n          downloadLink.download = `finished_topics_${course_id}.xlsx`;\n          document.body.appendChild(downloadLink);\n          downloadLink.click();\n          document.body.removeChild(downloadLink);\n        }\n      } catch (error) {\n        console.error(error);\n      } finally {\n        setLoading(false);\n      }\n    },\n    [stat],\n  );\n\n  return (\n    <Button type=\"primary\" loading={loading} onClick={onClickFactory(course_id)}>\n      <ExportOutlined /> <FormattedMessage id=\"export\" />\n    </Button>\n  );\n};\n","import { DATETIME_FORMAT } from '@/consts/dates';\nimport { timeDisplay } from '@/utils/utils';\nimport { Column } from '@ant-design/plots';\nimport ProCard from '@ant-design/pro-card';\nimport { Row, Select, Space, Switch, Table, Tag } from 'antd';\nimport type { ColumnsType } from 'antd/es/table';\nimport { format } from 'date-fns';\nimport React, { useMemo, useState } from 'react';\nimport ScrollContainer from 'react-indiana-drag-scroll';\nimport { FormattedMessage, useIntl } from 'umi';\nimport TypeButtonDrawer from '../TypeButtonDrawer';\nimport { ExportStatsButton } from './ExportStatsButton';\n\ntype UserStatColumn = Record<string, number | string | API.FinishedTopicsUserStat> & {\n  email: string;\n  id: number;\n};\n\nconst findH5PType = (topic: API.TopicH5P) => {\n  if (topic.topicable.content.contents) {\n    return Object.values(topic.topicable.content.contents)[0].library;\n  }\n  return 'H5P';\n};\n\nexport const UserProgress: React.FC<{\n  course_id: number;\n  topics: API.Topic[];\n  stats: API.FinishedTopicsUserStats[];\n}> = ({ course_id, topics, stats }) => {\n  const [showSeconds, setShowSeconds] = useState(false);\n\n  const columns: ColumnsType<UserStatColumn> = useMemo(() => {\n    return [\n      {\n        title: <FormattedMessage id=\"user\" />,\n        dataIndex: 'id',\n        render: (id: number) => <TypeButtonDrawer type=\"App\\Models\\User\" type_id={id} />,\n      },\n      {\n        title: <FormattedMessage id=\"email\" />,\n        dataIndex: 'email',\n      },\n      ...topics.map((topic) => {\n        let type: string | undefined = topic.topicable_type?.split('\\\\').pop();\n\n        if (type === 'H5P') {\n          type = findH5PType(topic as API.TopicH5P);\n        }\n\n        return {\n          render: (row: API.FinishedTopicsUserStat | undefined) => {\n            let result = 0;\n\n            if (row) {\n              if (row.started_at && row.finished_at) {\n                result = 1;\n              } else if (row.started_at) {\n                result = 2;\n              }\n            }\n\n            switch (result) {\n              case 1:\n                return (\n                  <Space>\n                    <Tag color=\"success\">F</Tag>\n                    {showSeconds && row?.seconds && <small>{timeDisplay(row.seconds)}</small>}\n                  </Space>\n                );\n              case 2:\n                return (\n                  <Space>\n                    <Tag color=\"blue\">S</Tag>\n                    {showSeconds && row?.seconds && <small>{timeDisplay(row.seconds)}</small>}\n                  </Space>\n                );\n              case 0:\n              default:\n                return (\n                  <React.Fragment>\n                    <Tag color=\"error\">N</Tag>\n                  </React.Fragment>\n                );\n            }\n          },\n\n          title: (\n            <small>\n              <Tag>{type}</Tag> {topic.title}\n            </small>\n          ),\n          dataIndex: topic.id,\n        };\n      }),\n    ];\n  }, [topics, showSeconds]);\n\n  const dataSource: UserStatColumn[] = useMemo(() => {\n    return stats.map((userStat) =>\n      topics.reduce(\n        (acc, topic) => {\n          const result = userStat.topics.find((userStatTopic) => userStatTopic.id === topic.id);\n          return { ...acc, [Number(topic.id)]: result ?? 0 };\n        },\n        { email: userStat.email, id: userStat.id } as UserStatColumn,\n      ),\n    );\n  }, [stats, topics]);\n\n  return (\n    <Table\n      title={() => (\n        <Row justify=\"space-between\" align=\"middle\">\n          <Space>\n            <FormattedMessage id=\"Finished\" defaultMessage=\"Finished:\" />{' '}\n            <Tag color=\"success\">F</Tag>\n            <FormattedMessage id=\"Started\" defaultMessage=\"Started:\" /> <Tag color=\"blue\">S</Tag>\n            <FormattedMessage id=\"NotStarted\" defaultMessage=\"Not Started:\" />{' '}\n            <Tag color=\"error\">N</Tag>\n            <FormattedMessage id=\"ShowMinutes\" defaultMessage=\"Show minutes spent on topic:\" />{' '}\n            <Switch checked={showSeconds} onChange={(v) => setShowSeconds(v)} />\n          </Space>\n          <ExportStatsButton course_id={course_id} />\n        </Row>\n      )}\n      columns={columns}\n      dataSource={dataSource}\n      size=\"small\"\n      scroll={{ x: 1500 }}\n      components={{\n        table: (props: React.HTMLAttributes<HTMLTableElement>) => (\n          <ScrollContainer horizontal={true} style={{ maxWidth: 'auto' }} hideScrollbars={false}>\n            <table {...props} />\n          </ScrollContainer>\n        ),\n      }}\n    />\n  );\n};\n\nexport const UserCourseFinish: React.FC<{\n  stats: API.FinishedCourseUserStats[];\n  attempts: API.CourseAttempts[];\n}> = ({ stats, attempts }) => {\n  const columns: ColumnsType<{ email: string; finished_at: Date | string }> = useMemo(() => {\n    return [\n      {\n        title: <FormattedMessage id=\"user\" />,\n        dataIndex: 'id',\n        render: (id: number) => <TypeButtonDrawer type=\"App\\Models\\User\" type_id={id} />,\n      },\n      {\n        title: <FormattedMessage id=\"email\" />,\n        dataIndex: 'email',\n      },\n      {\n        title: <FormattedMessage id=\"attempt\" defaultMessage=\"Attempt\" />,\n        dataIndex: 'attempt',\n      },\n      {\n        title: <FormattedMessage id=\"finished_at\" defaultMessage=\"Finished at\" />,\n        dataIndex: 'finished_at',\n        render: (text) => (text ? format(new Date(text), DATETIME_FORMAT) : ''),\n      },\n    ];\n  }, []);\n\n  const dataSource: { email: string; finished_at: Date | string }[] = useMemo(() => {\n    return stats.map(({ id, email, finished_at }) => {\n      const courseAttempts = attempts?.find((attempt) => attempt.id === id);\n      const attemptCount = Array.isArray(courseAttempts?.attempts)\n        ? courseAttempts?.attempts.length\n        : 0;\n\n      return {\n        id,\n        email,\n        finished_at,\n        attempt: attemptCount,\n      };\n    });\n  }, [stats]);\n\n  return (\n    <Table\n      title={() => (\n        <Space>\n          <FormattedMessage id=\"course.finished\" defaultMessage=\"Finished\" />\n        </Space>\n      )}\n      columns={columns}\n      dataSource={dataSource}\n      size=\"small\"\n      scroll={{ x: 500 }}\n    />\n  );\n};\n\nexport const UserCourseAttempts: React.FC<{ stats: API.CourseAttempts[] }> = ({ stats }) => {\n  const [choosenUserEmail, setChoosenUserEmail] = useState<string | null>(null);\n  const [choosenAttempt, setChoosenAttempt] = useState<number | null>(null);\n  const intl = useIntl();\n\n  const dataSource = useMemo(() => {\n    return stats.flatMap((userStats) =>\n      Object.values(userStats.attempts).flatMap(({ dates, attempt }) => {\n        const datesValue = Object.values(dates).flatMap(({ date, seconds_total }) => {\n          return {\n            date,\n            attempt,\n            seconds_total,\n            email: userStats.email,\n          };\n        });\n\n        return datesValue;\n      }),\n    );\n  }, [stats]);\n\n  const config: any = {\n    xField: 'date',\n    yField: 'seconds_total',\n    seriesField: 'attempt',\n    isStack: true,\n    xAxis: {\n      label: {\n        autoHide: true,\n        autoRotate: false,\n      },\n    },\n    slider: {\n      start: 0,\n      end: 1,\n    },\n    label: {\n      position: 'middle',\n      layout: [\n        {\n          type: 'interval-adjust-position',\n        },\n        {\n          type: 'interval-hide-overlap',\n        },\n        {\n          type: 'adjust-color',\n        },\n      ],\n    },\n  };\n\n  return (\n    <ProCard\n      title={\n        <Space>\n          <FormattedMessage id=\"course.interactions_time_in_days\" />\n          <Select\n            showSearch\n            value={choosenUserEmail}\n            onChange={(newValue) => {\n              setChoosenUserEmail(newValue);\n              setChoosenAttempt(null);\n            }}\n            placeholder={<FormattedMessage id=\"select_person\" defaultMessage=\"Select a person\" />}\n          >\n            {stats.map(({ id, email }) => (\n              <Select.Option key={id} value={email}>\n                {email}\n              </Select.Option>\n            ))}\n          </Select>\n          <Select\n            value={choosenAttempt}\n            onChange={(newValue) => setChoosenAttempt(newValue)}\n            disabled={choosenUserEmail === null}\n            placeholder={<FormattedMessage id=\"select_attempt\" defaultMessage=\"Select attempt\" />}\n          >\n            {[\n              ...new Set(\n                dataSource\n                  .filter(({ email }) => email === choosenUserEmail)\n                  .map(({ attempt }) => attempt),\n              ),\n            ].map((attempt) => (\n              <Select.Option value={attempt} key={attempt}>\n                <FormattedMessage id=\"attempt\" defaultMessage=\"Attempt\" /> {attempt}\n              </Select.Option>\n            ))}\n          </Select>\n        </Space>\n      }\n      colSpan={12}\n      layout=\"center\"\n    >\n      <div style={{ overflow: 'auto', minHeight: '400px', width: '100%' }}>\n        <Column\n          {...config}\n          tooltip={{\n            title: `${intl.formatMessage({ id: 'attempt' })}`,\n            formatter: (datum: { seconds_total: number; attempt: string }) => {\n              const minutes = Math.floor(+datum.seconds_total / 60);\n              const seconds = +datum.seconds_total > 60 ? +datum.seconds_total - minutes * 60 : 0;\n\n              return {\n                name: datum.attempt,\n                value: `${minutes}m ${seconds}s`,\n              };\n            },\n          }}\n          data={dataSource\n            .filter(({ email }) => email === choosenUserEmail)\n            .filter(({ attempt }) =>\n              Number.isInteger(choosenAttempt) ? attempt === choosenAttempt : true,\n            )}\n        />\n      </div>\n    </ProCard>\n  );\n};\n","import { message } from 'antd';\nimport type { Location } from 'history';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { history, useIntl, useLocation } from 'umi';\n\nimport {\n  cloneLesson as apiCloneLesson,\n  cloneTopic as apiCloneTopic,\n  createLesson as apiCreateLesson,\n  createTopic as apiCreateTopic,\n  removeLesson as apiRemoveLesson,\n  removeTopic as apiRemoveTopic,\n  updateLesson as apiUpdateLesson,\n  updateTopic as apiUpdateTopic,\n  program,\n} from '@/services/escola-lms/course';\n\nimport { TopicType } from '@/services/escola-lms/enums';\nimport { fields } from '@/services/escola-lms/fields';\nimport type { UploadChangeParam } from 'antd/lib/upload';\n\ntype CurrentEditMode =\n  | { mode: 'lesson'; id: number; value?: API.Lesson | null }\n  | { mode: 'topic'; id: number; value?: API.Topic | null }\n  | { mode: 'init' };\n\ntype ProgramContext = {\n  currentEditMode?: CurrentEditMode;\n  state?: API.CourseProgram;\n  h5ps?: any[];\n  // token: credentials.token,\n  id?: number;\n  addNewLesson?: (parentId?: number) => API.Lesson;\n  updateLesson?: (lesson_id: number, data: FormData) => Promise<void | boolean>;\n  updateTopic?: (topic_id: number, data: FormData) => Promise<void>;\n  // addResource,\n  // removeResource,\n  deleteLesson?: (lesson_id: number) => void;\n  // updateH5P,\n  addNewTopic?: (lesson_id: number, type: API.TopicType) => API.Topic;\n  deleteTopic?: (topic_id: number) => void;\n  onTopicUploaded?: (prevTopicId: number, info: UploadChangeParam) => void;\n  cloneTopic?: (topic_id: number) => void;\n  cloneLesson?: (lesson_id: number) => void;\n  getLessons?: () => void;\n  isAssistant?: boolean;\n};\n\nexport const Context = React.createContext<ProgramContext>({});\n\nconst getRandomId = () => Math.round(Math.random() * 99999);\n\nconst getFlatLessons = (lessons: API.Lesson[]): API.Lesson[] => {\n  return lessons.reduce((acc, curr) => {\n    return [...acc, ...(curr.lessons ? getFlatLessons(curr.lessons) : []), curr];\n  }, [] as API.Lesson[]) as API.Lesson[];\n};\n\nexport const getFlatTopics = (lessons: API.Lesson[]): API.Topic[] => {\n  return lessons.reduce((acc, curr) => {\n    return [...acc, ...(curr.lessons ? getFlatTopics(curr.lessons) : []), ...(curr.topics ?? [])];\n  }, [] as API.Topic[]) as API.Topic[];\n};\n\nconst recursiveAddTopicToLessons = (\n  lessons: API.Lesson[],\n  lessonId: number,\n  topic: API.Topic,\n): API.Lesson[] => {\n  return lessons.map((lesson) => ({\n    ...lesson,\n    lessons: lesson.lessons ? recursiveAddTopicToLessons(lesson.lessons, lessonId, topic) : [],\n    topics: lesson.id === lessonId ? [...(lesson.topics ?? []), topic] : lesson.topics ?? [],\n  }));\n};\n\n// Probably should be removed\n// const recursiveEditTopic = (\n//   lessons: API.Lesson[],\n//   topicId: number,\n//   updatedTopic: API.Topic,\n// ): API.Lesson[] => {\n//   return lessons.map((lesson) => ({\n//     ...lesson,\n//     lessons: recursiveEditTopic(lesson.lessons ?? [], topicId, updatedTopic),\n//     topics: lesson.topics?.map((topic) => (topic.id === topicId ? updatedTopic : topic)) ?? [],\n//   }));\n// };\n\nconst recursiveAddLessonToLessons = (\n  lessons: API.Lesson[],\n  newLesson: API.Lesson,\n  lessonId?: number | null,\n): API.Lesson[] => {\n  if (!lessonId) {\n    return [...lessons, newLesson];\n  }\n  return lessons.map((lesson) => ({\n    ...lesson,\n    lessons: [\n      ...(lesson.lessons ? recursiveAddLessonToLessons(lesson.lessons, newLesson, lessonId) : []),\n      ...(lesson.id === lessonId ? [newLesson] : []),\n    ],\n  }));\n};\n\nconst recursiveEditLesson = (\n  lessons: API.Lesson[],\n  lessonId: number,\n  updatedLesson: API.Lesson,\n): API.Lesson[] => {\n  return lessons.map((lesson) => ({\n    ...(lesson.id === lessonId ? updatedLesson : lesson),\n    lessons: lesson.lessons ? recursiveEditLesson(lesson.lessons, lessonId, updatedLesson) : [],\n  }));\n};\n\nconst appendParentIdToLessons = (lessons: API.Lesson[], lessonParentId?: number): API.Lesson[] => {\n  return lessons.map((lesson) => ({\n    ...lesson,\n    parent_id: lessonParentId,\n    lessons: lesson.lessons ? appendParentIdToLessons(lesson.lessons, lesson.id) : [],\n  }));\n};\n\nconst recursiveDeleteLesson = (lessons: API.Lesson[], lessonId: number): API.Lesson[] => {\n  return lessons\n    .filter((lesson) => lesson.id !== lessonId)\n    .map((lesson) => ({\n      ...lesson,\n      lessons: lesson.lessons ? recursiveDeleteLesson(lesson.lessons, lessonId) : [],\n    }));\n};\n\nconst recursiveDeleteTopic = (lessons: API.Lesson[], topicId: number): API.Lesson[] => {\n  return lessons.map((lesson) => ({\n    ...lesson,\n    lessons: lesson.lessons ? recursiveDeleteTopic(lesson.lessons, topicId) : [],\n    topics: lesson.topics ? lesson.topics.filter((topic) => topic.id !== topicId) : [],\n  }));\n};\n\nconst recursiveTopicUploaded = (\n  prevTopicId: number,\n  info: UploadChangeParam,\n  lesson_id: number | null | undefined,\n  lessons: API.Lesson[],\n): API.Lesson[] => {\n  return lessons?.map((lesson) => {\n    if (lesson.id === lesson_id) {\n      return {\n        ...lesson,\n        topics: lesson.topics?.map((topic) => {\n          if (topic.id === prevTopicId) {\n            return info.file.response.data;\n          }\n          return topic;\n        }),\n      };\n    } else if (lesson.lessons) {\n      return {\n        ...lesson,\n        lessons: recursiveTopicUploaded(prevTopicId, info, lesson_id, lesson.lessons || []),\n      };\n    }\n    return lesson;\n  });\n};\n\nexport const AppContext: React.FC<{ children: React.ReactNode; id: number }> = ({\n  children,\n  id,\n}) => {\n  const [state, setState] = useState<API.CourseProgram>();\n  const intl = useIntl();\n\n  const flatTopics: API.Topic[] = useMemo(() => {\n    return state && state.lessons ? getFlatTopics(state.lessons) : [];\n  }, [state]);\n\n  const flatLessons: API.Lesson[] = useMemo(() => {\n    return state && state.lessons ? getFlatLessons(state.lessons) : [];\n  }, [state]);\n\n  const [h5ps, setH5ps] = useState([]);\n  const [isAssistant, setIsAssistant] = useState<boolean>(false);\n\n  const l = useLocation() as Location & { query: { lesson?: string; topic?: string } };\n\n  const params = useMemo(() => {\n    const urlParams = new URLSearchParams(l.search);\n\n    return {\n      lesson: urlParams.get('lesson'),\n      topic: urlParams.get('topic'),\n    };\n  }, [l]);\n\n  const getAssistantId = useCallback(async () => {\n    const res = await fields({\n      class_type: 'EscolaLms\\\\Courses\\\\Models\\\\Lesson',\n    });\n    if (res.success) {\n      const foundAssistantId = res.data.find(({ name }) => name === 'assistant_id');\n      setIsAssistant(!!foundAssistantId?.id);\n    }\n  }, []);\n\n  useEffect(() => {\n    getAssistantId();\n    setH5ps([]);\n  }, []);\n\n  /*\n  useEffect(() => {\n    API(`h5p`, token)\n      .then((response) => response.json())\n      .then((data) => {\n        setH5ps(data);\n      });\n    //.then(() => addNewLesson());\n  }, []);\n  */\n\n  const getLessons = useCallback(() => {\n    program(id).then((data) => {\n      return (\n        data.success &&\n        setState({\n          ...data.data,\n          lessons: appendParentIdToLessons(data.data.lessons),\n        })\n      );\n    });\n  }, [id]);\n\n  useEffect(() => {\n    getLessons();\n  }, [getLessons]);\n\n  const getLessonIdByTopicId = useCallback(\n    (topic_id: number) => {\n      const lesson = flatLessons.find((lesson_item) =>\n        lesson_item?.topics?.find((topic) => topic.id === topic_id),\n      );\n      return lesson ? lesson.id : null;\n    },\n    [flatLessons],\n  );\n\n  const currentEditMode = useMemo<CurrentEditMode>(() => {\n    if (params.lesson) {\n      return {\n        mode: 'lesson',\n        id: Number(params.lesson),\n        value: flatLessons.find((lesson) => lesson.id === Number(params.lesson)),\n      };\n    }\n    if (params.topic) {\n      return {\n        mode: 'topic',\n        id: Number(params.topic),\n        value: flatTopics.find((t) => t.id === Number(params.topic)),\n      };\n    }\n    return { mode: 'init' };\n  }, [params, state, flatLessons, flatTopics]);\n\n  const addNewLesson = useCallback(\n    (parentId?: number) => {\n      const newLesson: API.Lesson = {\n        course_id: id,\n        topics: [],\n        isNew: true,\n        id: state ? state.lessons.length + 1 : getRandomId(), // New Lesson\n        order: 0,\n        title: intl.formatMessage({ id: 'add_title_here' }),\n        active: true,\n        parent_id: parentId,\n      };\n\n      setState((prevState) => ({\n        ...prevState,\n        lessons: recursiveAddLessonToLessons(prevState?.lessons ?? [], newLesson, parentId),\n        //lessons: [...(prevState ? prevState.lessons : []), newLesson] as API.Lesson[],\n      }));\n\n      return newLesson;\n    },\n    [id, state],\n  );\n\n  const updateLesson = useCallback(\n    (lesson_id: number, formData: FormData) => {\n      const newLesson = flatLessons.find((lesson) => lesson.id === lesson_id);\n      const isNew = newLesson && newLesson.isNew;\n      return (isNew ? apiCreateLesson(formData) : apiUpdateLesson(lesson_id, formData)).then(\n        (data) => {\n          message.success(data.message);\n          getLessons();\n          return (\n            data.success &&\n            setState((prevState) => ({\n              ...prevState,\n              lessons: recursiveEditLesson(prevState?.lessons ?? [], lesson_id, {\n                ...data.data,\n                isNew: false,\n              }),\n              /*\n              lessons: prevState?.lessons\n                ? prevState.lessons.map((lesson) => {\n                    if (lesson.id === lesson_id) {\n                      return {\n                        ...lesson,\n                        ...data.data,\n                        isNew: false,\n                      };\n                    }\n                    return lesson;\n                  })\n                : [data.data],\n                */\n            }))\n          );\n        },\n      );\n    },\n    [state],\n  );\n\n  const deleteLesson = useCallback(\n    (lesson_id: number) => {\n      const lesson = flatLessons.find((lesson_item) => lesson_item.id === lesson_id);\n      if (!lesson) {\n        return;\n      }\n      const { isNew } = lesson;\n\n      if (isNew) {\n        setState((prevState) => ({\n          ...prevState,\n          lessons: recursiveDeleteLesson(prevState?.lessons ?? [], lesson_id),\n        }));\n      } else {\n        apiRemoveLesson(lesson_id).then((data) => {\n          if (data.success) {\n            message.success(data.message);\n            setState((prevState) => ({\n              ...prevState,\n              lessons: recursiveDeleteLesson(prevState?.lessons ?? [], lesson_id),\n            }));\n          }\n        });\n      }\n    },\n    [state],\n  );\n\n  const updateTopic = useCallback(\n    (topic_id: number, formData: FormData) => {\n      const lesson_id = getLessonIdByTopicId(topic_id);\n\n      const lesson = flatLessons.find((lesson_item) => lesson_item.id === lesson_id);\n\n      const topic = lesson && lesson.topics?.find((topic_item) => topic_item.id === topic_id);\n\n      const isNew = topic?.isNew;\n\n      return (isNew ? apiCreateTopic(formData) : apiUpdateTopic(topic_id, formData)).then(\n        (data) => {\n          if (data.success) {\n            message.success(data.message);\n            getLessons();\n\n            history.push(`/courses/list/${id}/program/?topic=${data.data.id}`);\n\n            if (topic?.topicable_type === TopicType.Video) {\n              setTimeout(() => {\n                getLessons();\n              }, 5000);\n            }\n          }\n        },\n      );\n    },\n    [getLessonIdByTopicId, state, getLessons],\n  );\n\n  const deleteTopic = useCallback(\n    (topic_id: number) => {\n      const lesson_id = getLessonIdByTopicId(topic_id);\n\n      const lesson = flatLessons.find((lesson_item) => lesson_item.id === lesson_id);\n      if (!lesson) {\n        return;\n      }\n\n      const topic = flatTopics?.find((topic_item) => topic_item.id === topic_id);\n\n      const isNew = topic?.isNew;\n      if (isNew && !topic.topicable) {\n        setState((prevState) => ({\n          ...prevState,\n          lessons: recursiveDeleteTopic(prevState?.lessons ?? [], topic_id),\n        }));\n      } else {\n        apiRemoveTopic(topic_id).then((data) => {\n          if (data.success) {\n            message.success(data.message);\n            setState((prevState) => ({\n              ...prevState,\n              lessons: recursiveDeleteTopic(prevState?.lessons ?? [], topic_id),\n            }));\n          }\n        });\n\n        // TODO #1018 call API to delete\n        /**\n         return API(`topic/delete/${id}`, token, 'POST')\n        .then((response) => response.json())\n        .then(() =>\n          setState((prevState) => ({\n            ...prevState,\n            lessons: prevState.lessons.map((lesson) => {\n              if (lesson.id == id) {\n                return {\n                  ...lesson,\n                  topics: lesson.topics.filter((topic) => topic.id !== id),\n                };\n              }\n              return lesson;\n            }),\n          })),\n        );\n         */\n      }\n    },\n    [state, getLessonIdByTopicId],\n  );\n\n  /*\n  const addResource = useCallback(\n    (id, formData) => {\n      const isNew = false;\n\n      const id = getLessonByTopicId(id);\n\n      return API(`topic/resource/save/${id}`, token, 'POST', formData)\n        .then((response) => response.json())\n        .then((data) =>\n          setState((prevState) => ({\n            ...prevState,\n            lessons: prevState.lessons.map((lesson) => {\n              if (lesson.id == id) {\n                return {\n                  ...lesson,\n                  topics: lesson.topics.map((topic) => {\n                    if (topic.id == id) {\n                      return {\n                        ...topic,\n                        resources: [...topic.resources, data],\n                      };\n                    }\n                    return topic;\n                  }),\n                };\n              }\n              return lesson;\n            }),\n          })),\n        );\n    },\n    [state],\n  );\n  */\n\n  /*\n  const removeResource = useCallback(\n    (resource_id) => {\n      // resource/delete/{courseFiles}\n\n      const id = getQuizIdByResourseId(resource_id);\n      const id = getLessonByTopicId(id);\n\n      return API(`topic/resource/delete/${resource_id}`, token, 'DELETE', null)\n        .then((response) => response.json())\n        .then(() =>\n          setState((prevState) => ({\n            ...prevState,\n            lessons: prevState.lessons.map((lesson) => {\n              if (lesson.id == id) {\n                return {\n                  ...lesson,\n                  topics: lesson.topics.map((topic) => {\n                    if (topic.id == id) {\n                      return {\n                        ...topic,\n                        resources: topic.resources.filter(\n                          (resource) => resource.id !== resource_id,\n                        ),\n                      };\n                    }\n                    return topic;\n                  }),\n                };\n              }\n              return lesson;\n            }),\n          })),\n        );\n    },\n    [state],\n  );\n  */\n\n  /*\n  const updateH5P = useCallback(\n    (id, h5p_id) => {\n      const id = getLessonByTopicId(id);\n      return API(`topic/h5p/save/${id}`, token, 'POST', getFormData({ media: h5p_id }))\n        .then((response) => response.json())\n        .then((data) =>\n          setState((prevState) => ({\n            ...prevState,\n            lessons: prevState.lessons.map((lesson) => {\n              if (lesson.id == id) {\n                return {\n                  ...lesson,\n                  topics: lesson.topics.map((topic) => {\n                    if (topic.id == id) {\n                      return {\n                        ...topic,\n                        media: data,\n                      };\n                    }\n                    return topic;\n                  }),\n                };\n              }\n              return lesson;\n            }),\n          })),\n        );\n    },\n    [state],\n  );\n  */\n\n  const addNewTopic = useCallback((lesson_id: number, type: API.TopicType) => {\n    const newTopic: API.Topic = {\n      lesson_id,\n      isNew: true,\n      id: getRandomId(),\n      title: intl.formatMessage({ id: 'add_title_here' }),\n      active: true,\n      topicable_type: type,\n    };\n\n    setState((prevState) => ({\n      ...prevState,\n      lessons: recursiveAddTopicToLessons(prevState?.lessons ?? [], lesson_id, newTopic),\n    }));\n    return newTopic;\n  }, []);\n\n  const onTopicUploaded = (prevTopicId: number, info: UploadChangeParam) => {\n    const lesson_id = getLessonIdByTopicId(prevTopicId);\n    setState((prevState) => ({\n      ...prevState,\n      lessons: prevState\n        ? recursiveTopicUploaded(prevTopicId, info, lesson_id, prevState.lessons || [])\n        : [],\n      // Probably should be removed\n      // lessons: recursiveEditTopic(prevState?.lessons ?? [], prevTopicId, info.file.response.data),\n    }));\n    // Update topic id in params after receiving from server\n    history.push(`/courses/list/${id}/program/?topic=${info.file.response.data.id}`);\n  };\n\n  const cloneTopic = useCallback(\n    (topic_id: number) => {\n      return apiCloneTopic(topic_id).then((response) => {\n        if (response.success) {\n          message.success(response.message);\n          const lesson_id = getLessonIdByTopicId(topic_id);\n\n          setState((prevState) => ({\n            ...prevState,\n            lessons: prevState\n              ? prevState.lessons?.map((lesson) => {\n                  if (lesson.id === lesson_id) {\n                    const topics = lesson.topics || [];\n                    return {\n                      ...lesson,\n                      topics: [...topics, response.data] as API.Topic[],\n                    };\n                  }\n                  return lesson;\n                })\n              : [],\n          }));\n        }\n      });\n    },\n    [state, getLessonIdByTopicId],\n  );\n\n  const cloneLesson = useCallback((lesson_id: number) => {\n    return apiCloneLesson(lesson_id).then((response) => {\n      if (response.success) {\n        message.success(response.message);\n\n        setState((prevState) => ({\n          ...prevState,\n          lessons: prevState ? [...prevState.lessons, response.data] : [],\n        }));\n      }\n    });\n  }, []);\n\n  const value = {\n    state,\n    h5ps,\n    // token: credentials.token,\n    id,\n    addNewLesson,\n    updateLesson,\n    updateTopic,\n    // addResource,\n    // removeResource,\n    deleteLesson,\n    // updateH5P,\n    addNewTopic,\n    deleteTopic,\n    onTopicUploaded,\n    cloneTopic,\n    cloneLesson,\n    currentEditMode,\n    getLessons,\n    isAssistant,\n  };\n\n  return <Context.Provider value={value}>{children}</Context.Provider>;\n};\n","import type { AxiosRequestConfig } from 'umi';\nimport { request } from 'umi';\n\nexport async function bookmarkNote(\n  params: API.PaginationParams & API.PageParams & API.BookmarkNoteParams,\n  options?: AxiosRequestConfig,\n) {\n  return request<API.BookmarkNoteList>('/api/admin/bookmarks', {\n    method: 'GET',\n    params,\n\n    ...(options || {}),\n  });\n}\n\nexport async function createBookmarkNote(\n  body?: Record<string, string | number>,\n  options?: AxiosRequestConfig,\n) {\n  return request<API.DefaultResponse<API.BookmarkNote>>(`/api/admin/bookmarks`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    data: body,\n    ...(options || {}),\n  });\n}\n\nexport async function updateBookmarkNote(\n  id: number,\n  body?: Record<string, string | number>,\n  options?: AxiosRequestConfig,\n) {\n  return request<API.DefaultResponse<API.BookmarkNote>>(`/api/admin/bookmarks/${id}`, {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    data: body,\n    ...(options || {}),\n  });\n}\n\nexport async function deleteBookmarkNote(\n  id: number,\n  body?: Record<string, string | number>,\n  options?: AxiosRequestConfig,\n) {\n  return request<API.DefaultResponse<API.BookmarkNote>>(`/api/admin/bookmarks/${id}`, {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    data: body,\n    ...(options || {}),\n  });\n}\n","import {\n  bookmarkNote,\n  createBookmarkNote,\n  deleteBookmarkNote,\n  updateBookmarkNote,\n} from '@/services/escola-lms/bookmark_notes';\nimport { BookmarkableType } from '@/services/escola-lms/enums';\nimport { Button, Form, Input, List, Modal, Space, Typography } from 'antd';\nimport type { FC } from 'react';\nimport { useEffect, useState } from 'react';\nimport { FormattedMessage } from 'umi';\n\ninterface UserProps {\n  name: string;\n  userId: number;\n  groupId: number;\n}\n\ninterface ModalProps {\n  visible: boolean;\n  onClose: () => void;\n  user: UserProps;\n}\n\ninterface EditingNote {\n  currentNoteId?: number;\n  currentText: string;\n}\n\ninterface NotePagination {\n  current_page: number;\n  per_page: number;\n  last_page: number;\n  total: number;\n}\n\nconst BookmarkNoteModal: FC<ModalProps> = ({ visible, onClose, user }) => {\n  const { Text } = Typography;\n  const { name, groupId, userId } = user;\n  const [noteText, setNoteText] = useState('');\n  const [newNote, setNewNote] = useState(false);\n  const [notes, setNotes] = useState<API.BookmarkNote[]>([]);\n  const [editingNote, setEditingNote] = useState<EditingNote | null>(null);\n  const [pagination, setPagination] = useState<NotePagination>({\n    current_page: 1,\n    per_page: 5,\n    last_page: 1,\n    total: 0,\n  });\n\n  const getNotes = async (page?: number) => {\n    const response = await bookmarkNote({\n      bookmarkable_id: groupId,\n      bookmarkable_type: BookmarkableType.Group,\n      user_id: userId,\n      page,\n      per_page: pagination.per_page,\n    });\n    if (response.success) {\n      setNotes(response.data);\n      setPagination(response.meta);\n    }\n  };\n\n  const handleSaveNote = async () => {\n    const response = await createBookmarkNote({\n      value: noteText,\n      bookmarkable_id: groupId,\n      bookmarkable_type: BookmarkableType.Group,\n      user_id: userId,\n    });\n    if (response.success) {\n      getNotes();\n      setNewNote(false);\n      setNoteText('');\n    }\n  };\n\n  const handleDeleteNote = async (noteId: number) => {\n    const response = await deleteBookmarkNote(noteId);\n\n    if (response.success) {\n      getNotes();\n    }\n  };\n\n  const handleEditNote = async (noteId: number) => {\n    const response = await updateBookmarkNote(noteId, {\n      value: editingNote?.currentText || '',\n      bookmarkable_id: groupId,\n      bookmarkable_type: BookmarkableType.Group,\n      user_id: userId,\n    });\n\n    if (response.success) {\n      getNotes();\n      setEditingNote(null);\n    }\n  };\n\n  useEffect(() => {\n    getNotes();\n  }, []);\n\n  return (\n    <Modal\n      title={\n        <Space>\n          <FormattedMessage id=\"notes\" />\n          <Text>{`(${name})`}</Text>\n        </Space>\n      }\n      open={visible}\n      onCancel={onClose}\n      footer={[\n        <Button key=\"cancel\" onClick={onClose}>\n          <FormattedMessage id=\"cancel\" />\n        </Button>,\n      ]}\n    >\n      <List\n        dataSource={notes}\n        pagination={{\n          onChange: (page) => getNotes(page),\n          pageSize: pagination.per_page,\n          total: pagination.total,\n          current: pagination.current_page,\n        }}\n        renderItem={(item) => (\n          <List.Item\n            actions={[\n              <Button key={item.id} danger onClick={() => handleDeleteNote(item.id)}>\n                <FormattedMessage id=\"delete\" />\n              </Button>,\n              editingNote?.currentNoteId === item.id ? (\n                <Space>\n                  <Button onClick={() => handleEditNote(item.id)}>\n                    <FormattedMessage id=\"save\" />\n                  </Button>\n\n                  <Button onClick={() => setEditingNote(null)}>\n                    <FormattedMessage id=\"cancel\" />\n                  </Button>\n                </Space>\n              ) : (\n                <Button\n                  key={item.id}\n                  onClick={() =>\n                    setEditingNote({ currentNoteId: item.id, currentText: item.value || '' })\n                  }\n                >\n                  <FormattedMessage id=\"edit\" />\n                </Button>\n              ),\n            ]}\n          >\n            {editingNote?.currentNoteId === item.id && editingNote?.currentText !== null ? (\n              <Input.TextArea\n                value={editingNote?.currentText}\n                onChange={(e) =>\n                  setEditingNote((prev) => ({\n                    ...prev,\n                    currentText: e.target.value,\n                  }))\n                }\n              />\n            ) : (\n              item.value\n            )}\n          </List.Item>\n        )}\n      />\n\n      {newNote ? (\n        <>\n          <Form layout=\"vertical\">\n            <Form.Item label={<FormattedMessage id=\"new_note\" />}>\n              <Input.TextArea\n                value={noteText}\n                onChange={(e) => setNoteText(e.target.value)}\n                autoSize={{ minRows: 3, maxRows: 6 }}\n              />\n            </Form.Item>\n          </Form>\n          <Space>\n            <Button type=\"primary\" onClick={handleSaveNote}>\n              <FormattedMessage id=\"save\" />\n            </Button>\n            <Button type=\"primary\" onClick={() => setNewNote(false)}>\n              <FormattedMessage id=\"cancel\" />\n            </Button>\n          </Space>\n        </>\n      ) : (\n        <Button key=\"new\" type=\"primary\" onClick={() => setNewNote(true)}>\n          <FormattedMessage id=\"add_note\" />\n        </Button>\n      )}\n    </Modal>\n  );\n};\n\nexport default BookmarkNoteModal;\n","import type { AxiosRequestConfig } from '@umijs/max';\nimport { request } from 'umi';\nimport type { AttendanceValue } from './enums';\n\nexport async function groupAttendanceSchedule(group_id: number, options?: AxiosRequestConfig) {\n  return request<API.AttendanceScheduleList>(`/api/admin/schedules/groups/${group_id}`, {\n    method: 'GET',\n    /* useCache: true */ useCache: false,\n    ...(options || {}),\n  });\n}\n\nexport async function changeStudentAttendance(\n  id: number,\n  user_id: number,\n  value: AttendanceValue,\n  options?: AxiosRequestConfig,\n) {\n  return request<API.ChangeStudentAttendance>(`/api/admin/schedules/${id}/attendances`, {\n    data: {\n      attendances: [\n        {\n          user_id,\n          value,\n        },\n      ],\n    },\n    method: 'POST',\n    ...(options || {}),\n  });\n}\n\nexport async function removeAttendanceColumn(id: number, options?: AxiosRequestConfig) {\n  return request<API.AttendanceScheduleList>(`/api/admin/schedules/${id}`, {\n    method: 'DELETE',\n    ...(options || {}),\n  });\n}\n","import type { AxiosRequestConfig } from '@umijs/max';\nimport { request } from 'umi';\n\n/**  GET /api/admin/exams */\nexport async function getExams(params?: API.ExamsParams, options?: AxiosRequestConfig) {\n  return request<API.DefaultMetaResponse<API.Exam>>(`/api/admin/exams`, {\n    method: 'GET',\n    /* useCache: true */ useCache: false,\n    params,\n    ...(options || {}),\n  });\n}\n\n/**  POST /api/admin/exams */\nexport async function createExam(body?: API.CreateExamRequest, options?: AxiosRequestConfig) {\n  return request<API.DefaultResponse<API.Exam>>(`/api/admin/exams`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    data: body,\n    ...(options || {}),\n  });\n}\n\n/**  PUT /api/admin/exams/:id */\nexport async function updateExam(\n  id: number,\n  body: API.CreateExamRequest,\n  options?: AxiosRequestConfig,\n) {\n  return request<API.DefaultResponse<API.Exam>>(`/api/admin/exams/${id}`, {\n    method: 'PUT',\n    data: body,\n    /* useCache: true */ useCache: false,\n    ...(options || {}),\n  });\n}\n\n/**  GET /api/admin/exams/:id */\nexport async function getExam(id: number, options?: AxiosRequestConfig) {\n  return request<API.DefaultResponse<API.Exam>>(`/api/admin/exams/${id}`, {\n    method: 'GET',\n    /* useCache: true */ useCache: false,\n    ...(options || {}),\n  });\n}\n\n/**  DELETE /api/admin/exams/:id */\nexport async function deleteExam(id: number, options?: AxiosRequestConfig) {\n  return request<API.DefaultResponse<undefined>>(`/api/admin/exams/${id}`, {\n    method: 'DELETE',\n    ...(options || {}),\n  });\n}\n\n/**  POST /api/admin/exams/:id/users/:user_id */\nexport async function createExamResult(\n  exam_id: number,\n  user_id: number,\n  body: API.CreateExamResultRequest,\n  options?: AxiosRequestConfig,\n) {\n  return request<API.DefaultResponse<API.Exam>>(`/api/admin/exams/${exam_id}/users/${user_id}`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    data: body,\n    ...(options || {}),\n  });\n}\n\n/**  DELETE /api/admin/exams/:id/users/:user_id */\nexport async function deleteExamResult(\n  exam_id: number,\n  user_id: number,\n  options?: AxiosRequestConfig,\n) {\n  return request<API.DefaultResponse<undefined>>(`/api/admin/exams/${exam_id}/users/${user_id}`, {\n    method: 'DELETE',\n    ...(options || {}),\n  });\n}\n","import type { AxiosRequestConfig } from '@umijs/max';\nimport { request } from 'umi';\n\n/**  GET /api/admin/semester-subjects/:semester_subject_id/tutors/:tutor_id/grades */\nexport async function getSubjectTutorGrades(\n  semester_subject_id: number,\n  tutor_id: number,\n  options?: AxiosRequestConfig,\n) {\n  return request<API.DefaultResponse<API.SubjectTutorGrades>>(\n    `/api/admin/semester-subjects/${semester_subject_id}/tutors/${tutor_id}/grades`,\n    {\n      method: 'GET',\n      /* useCache: true */ useCache: false,\n      ...(options || {}),\n    },\n  );\n}\n\n/**  POST /api/admin/semester-subjects/:semester_subject_id/tutors/:tutor_id/grades */\nexport async function createSubjectTutorGrades(\n  semester_subject_id: number,\n  tutor_id: number,\n  body: API.CreateSubjectTutorGradesRequest,\n  options?: AxiosRequestConfig,\n) {\n  return request<API.DefaultResponse<API.GradeScale[]>>(\n    `/api/admin/semester-subjects/${semester_subject_id}/tutors/${tutor_id}/grades`,\n    {\n      method: 'POST',\n      data: body,\n      ...(options || {}),\n    },\n  );\n}\n\n/**  GET /api/admin/lesson-group-users */\nexport async function getGroupFinalGrades(\n  group_id: number | number[],\n  options?: AxiosRequestConfig,\n) {\n  return request<API.DefaultResponse<API.FinalGradeItem[]>>(`/api/admin/lesson-group-users`, {\n    method: 'GET',\n    params: { groups: group_id },\n    /* useCache: true */ useCache: false,\n    ...(options || {}),\n  });\n}\n\n/**  GET /api/admin/lesson-group-users/groups/:group_id/users/:user_id */\nexport async function getUserFinalGrades(\n  group_id: number,\n  user_id: number,\n  options?: AxiosRequestConfig,\n) {\n  return request<API.DefaultResponse<API.FinalGradeItem>>(\n    `/api/admin/lesson-group-users/groups/${group_id}/users/${user_id}`,\n    {\n      method: 'GET',\n      /* useCache: true */ useCache: false,\n      ...(options || {}),\n    },\n  );\n}\n\n/** GET /api/admin/grade-terms */\nexport async function getGradeTerms(options?: AxiosRequestConfig) {\n  return request<API.DefaultResponse<API.GradeTerm[]>>(`/api/admin/grade-terms`, {\n    method: 'GET',\n    /* useCache: true */ useCache: false,\n    ...(options || {}),\n  });\n}\n\n/** GET /api/admin/grade-scales/:s_subject_scale_form_id */\nexport async function getSubjectGradeScales(\n  s_subject_scale_form_id: number,\n  options?: AxiosRequestConfig,\n) {\n  return request<API.DefaultResponse<API.SubjectGradeScale[]>>(\n    `/api/admin/grade-scales/${s_subject_scale_form_id}`,\n    {\n      method: 'GET',\n      /* useCache: true */ useCache: false,\n      ...(options || {}),\n    },\n  );\n}\n\n/** POST /api/admin/final-grades */\nexport async function createFinalGrade(\n  body: API.CreateFinalGradeRequest,\n  options?: AxiosRequestConfig,\n) {\n  return request<API.DefaultResponse<API.FinalGradeItem>>(`/api/admin/final-grades`, {\n    method: 'POST',\n    data: body,\n    ...(options || {}),\n  });\n}\n\n/** PATCH /api/admin/final-grades/:id */\nexport async function updateFinalGrade(\n  final_grade_id: number,\n  body: API.UpdateFinalGradeRequest,\n  options?: AxiosRequestConfig,\n) {\n  return request<API.DefaultResponse<API.FinalGradeItem>>(\n    `/api/admin/final-grades/${final_grade_id}`,\n    {\n      method: 'PATCH',\n      data: body,\n      ...(options || {}),\n    },\n  );\n}\n\n/** DELETE /api/admin/final-grades/:id */\nexport async function removeFinalGrade(final_grade_id: number, options?: AxiosRequestConfig) {\n  return request<API.DefaultResponse<undefined>>(`/api/admin/final-grades/${final_grade_id}`, {\n    method: 'DELETE',\n    ...(options || {}),\n  });\n}\n","import type { StudentExam } from './types';\n\nexport const getStudentExamsFromExams = (exams: API.Exam[], student_id: number): StudentExam[] =>\n  exams.reduce<StudentExam[]>((acc, { results, ...exam }) => {\n    const result = results.find((examResult) => examResult.user_id === student_id);\n    if (!result) return acc;\n\n    return [...acc, { ...exam, result }];\n  }, []);\n\nexport const getProposedGrade = (\n  studentExams: StudentExam[],\n  tutorGradeScales: API.GradeScale[],\n): string => {\n  const [sum, weightsSum] = studentExams.reduce<[number, number]>(\n    (acc, { result, weight }) => {\n      if (weight && typeof result.result === 'number') {\n        return [acc[0] + result.result * weight, acc[1] + weight];\n      } else {\n        return acc;\n      }\n    },\n    [0, 0],\n  );\n\n  const weightedAverage = Number.isNaN(sum / weightsSum) ? 0 : sum / weightsSum;\n\n  const sortedGradeScales = tutorGradeScales\n    .sort((a, b) => a.grade_value - b.grade_value)\n    .reduce<(API.GradeScale & { isWeightedAverageGreater: boolean })[]>(\n      (acc, curr) => [\n        ...acc,\n        {\n          ...curr,\n          isWeightedAverageGreater: weightedAverage >= curr.grade_value,\n        },\n      ],\n      [],\n    );\n\n  if (sortedGradeScales.every(({ isWeightedAverageGreater }) => isWeightedAverageGreater)) {\n    return sortedGradeScales.at(-1)?.name ?? '';\n  }\n\n  const firstFalseIndex = sortedGradeScales.findIndex(\n    ({ isWeightedAverageGreater }) => !isWeightedAverageGreater,\n  );\n  if (firstFalseIndex < 0) return '';\n\n  return sortedGradeScales[firstFalseIndex - 1]?.name;\n};\n\nexport const getScalesBySubjectScaleFormId = (\n  s_subject_scale_form_id: number,\n  tutorGrades: API.SubjectTutorGradeScale[],\n): API.GradeScale[] | undefined =>\n  tutorGrades.find(\n    (subjectTutorGradeScale) =>\n      subjectTutorGradeScale.s_subject_scale_form_id === s_subject_scale_form_id,\n  )?.scale;\n","import { AttendanceValue } from '@/services/escola-lms/enums';\nimport type { AttendanceMap, Status } from './types';\n\nexport function parseToStatus(attendance: AttendanceValue | null): Status {\n  const attendanceMapped = attendance === null ? AttendanceValue.ABSENT : attendance;\n\n  const attendanceMap: AttendanceMap = {\n    [AttendanceValue.PRESENT]: { ch1: true, ch2: false },\n    [AttendanceValue.PRESENT_NOT_EXERCISING]: { ch1: true, ch2: true },\n    [AttendanceValue.ABSENT]: { ch1: false, ch2: false },\n    [AttendanceValue.EXCUSED_ABSENCE]: { ch1: false, ch2: true },\n  };\n\n  return attendanceMap[attendanceMapped] ?? { ch1: false, ch2: false };\n}\n\nexport function parseToAttendanceValue({ ch1, ch2 }: Status): AttendanceValue {\n  const statusStr = `${ch1}_${ch2}`;\n\n  const statusMap = {\n    true_false: AttendanceValue.PRESENT,\n    true_true: AttendanceValue.PRESENT_NOT_EXERCISING,\n    false_false: AttendanceValue.ABSENT,\n    false_true: AttendanceValue.EXCUSED_ABSENCE,\n  };\n\n  //@ts-ignore\n  return statusMap[statusStr] ?? AttendanceValue.ABSENT;\n}\n","import { changeStudentAttendance } from '@/services/escola-lms/attendances';\nimport { Checkbox, Space, Tooltip } from 'antd';\nimport type { CheckboxChangeEvent } from 'antd/es/checkbox';\nimport React, { useCallback, useEffect, useRef, useState } from 'react';\nimport { FormattedMessage } from 'umi';\n\nimport type { Status } from './types';\nimport { parseToAttendanceValue, parseToStatus } from './utils';\n\ninterface AttendanceCheckboxProps {\n  groupAttendanceScheduleId: number;\n  studentId: number;\n  attendance: API.AttendanceValue | null;\n  onSuccess?: () => void;\n}\n\nconst AttendanceCheckbox: React.FC<AttendanceCheckboxProps> = ({\n  groupAttendanceScheduleId,\n  studentId,\n  attendance,\n  onSuccess,\n}) => {\n  const [status, setStatus] = useState<Status>(parseToStatus(attendance));\n\n  const [loading, setLoading] = useState(false);\n  const firstMount = useRef(true);\n\n  const handleChangeAttendance = useCallback((stat: Status) => {\n    setLoading(true);\n    changeStudentAttendance(groupAttendanceScheduleId, studentId, parseToAttendanceValue(stat))\n      .then((res) => {\n        if (res.success) {\n          onSuccess?.();\n        }\n      })\n      .finally(() => setLoading(false));\n  }, []);\n\n  const onCh1Change = useCallback(\n    (e: CheckboxChangeEvent) =>\n      setStatus(e.target.checked ? { ch1: true, ch2: false } : { ch1: false, ch2: false }),\n    [],\n  );\n\n  const onCh2Change = useCallback(\n    (e: CheckboxChangeEvent) => setStatus((prev) => ({ ...prev, ch2: e.target.checked })),\n    [],\n  );\n\n  useEffect(() => {\n    if (firstMount.current) {\n      firstMount.current = false;\n      return;\n    }\n\n    handleChangeAttendance(status);\n  }, [status, handleChangeAttendance]);\n\n  return (\n    <Space>\n      <Tooltip title={<FormattedMessage id=\"present\" />}>\n        <Checkbox disabled={loading} checked={status.ch1} onChange={onCh1Change} />\n      </Tooltip>\n      <Tooltip title={<FormattedMessage id={status.ch1 ? 'not_exercising' : 'excused_absence'} />}>\n        <Checkbox disabled={loading} checked={status.ch2} onChange={onCh2Change} />\n      </Tooltip>\n    </Space>\n  );\n};\n\nexport default AttendanceCheckbox;\n","import { InputNumber, Select } from 'antd';\nimport { debounce } from 'lodash';\nimport React, { useCallback } from 'react';\n\nimport { gradesOptions, passOptions } from '@/pages/TeacherSubjects/components/consts';\nimport { ExamGradeType } from '@/services/escola-lms/enums';\nimport { createExamResult } from '@/services/escola-lms/exams';\nimport { FormattedMessage, useIntl } from 'umi';\n\ninterface Props {\n  exam_id: number;\n  result: number | string | null;\n  student_id: number;\n  type: ExamGradeType;\n  onSuccess?: (exam: API.Exam) => void;\n}\n\nexport const ExamGradeInput: React.FC<Props> = ({\n  exam_id,\n  result,\n  student_id,\n  type,\n  onSuccess,\n}) => {\n  const intl = useIntl();\n  const onChange = useCallback(\n    debounce((value: number | string | null) => {\n      createExamResult(exam_id, student_id, { result: value }).then((res) => {\n        if (res.success) {\n          onSuccess?.(res.data);\n        }\n      });\n    }, 300),\n    [exam_id, result, student_id],\n  );\n\n  const getCorrectInput = () => {\n    switch (type) {\n      case ExamGradeType.ManualPass:\n        return (\n          <Select\n            allowClear\n            style={{ width: '100%' }}\n            onChange={onChange}\n            options={passOptions}\n            defaultValue={result ?? undefined}\n            placeholder={<FormattedMessage id=\"select_grade\" />}\n          />\n        );\n      case ExamGradeType.ManualGrades:\n        return (\n          <Select\n            allowClear\n            style={{ width: '100%' }}\n            onChange={onChange}\n            options={gradesOptions}\n            defaultValue={result ?? undefined}\n            placeholder={<FormattedMessage id=\"select_grade\" />}\n          />\n        );\n      default:\n        return (\n          <InputNumber\n            type=\"number\"\n            min={0}\n            max={100}\n            onChange={onChange}\n            defaultValue={result ?? undefined}\n            placeholder={intl.formatMessage({ id: 'select_grade' })}\n          />\n        );\n    }\n  };\n\n  return getCorrectInput();\n};\n","import { Select, message } from 'antd';\nimport React, { useCallback, useMemo, useState } from 'react';\nimport { FormattedMessage, useIntl } from 'umi';\n\nimport { createFinalGrade, removeFinalGrade, updateFinalGrade } from '@/services/escola-lms/grades';\nimport type { ResponseError } from 'umi-request';\n\ninterface Props {\n  term: API.GradeTerm;\n  gradeScales: API.SubjectGradeScale[];\n  defaultFinalGrade?: API.FinalGradeItemGrade;\n  finalGrades?: API.FinalGradeItem;\n}\n\nconst getGradeScaleId = (\n  gradeScales: API.SubjectGradeScale[],\n  name: string | undefined,\n): number | undefined => gradeScales.find((scale) => scale.name === name)?.id;\n\nexport const FinalGradeSelect: React.FC<Props> = ({\n  term,\n  gradeScales,\n  defaultFinalGrade,\n  finalGrades,\n}) => {\n  const [createdGrade, setCreatedGrade] = useState(defaultFinalGrade);\n  const [loading, setLoading] = useState(false);\n  const [errorStatus, setErrorStatus] = useState(false);\n\n  const intl = useIntl();\n  const options = useMemo(\n    () => gradeScales.map(({ name, id }) => ({ value: id, label: name })),\n    [gradeScales],\n  );\n\n  const onError = (error: ResponseError) => {\n    setErrorStatus(true);\n    message.error(\n      intl.formatMessage({\n        id: error.data.message,\n      }),\n    );\n  };\n\n  const onChange = useCallback(\n    (grade_scale_id: number | undefined) => {\n      if (!finalGrades?.id) return;\n      if (grade_scale_id === undefined) {\n        if (!createdGrade) return;\n        setLoading(true);\n        removeFinalGrade(createdGrade.id)\n          .then((res) => {\n            if (!res.success) return;\n            setCreatedGrade(undefined);\n          })\n          .finally(() => setLoading(false));\n        return;\n      }\n\n      if (createdGrade) {\n        setLoading(true);\n        updateFinalGrade(createdGrade.id, {\n          grade_scale_id,\n        })\n          .catch((error) => {\n            if (error?.data?.message) {\n              onError(error);\n            }\n          })\n          .finally(() => setLoading(false));\n        return;\n      }\n\n      setLoading(true);\n      createFinalGrade({\n        grade_term_id: term.id,\n        grade_scale_id,\n        lesson_group_user_id: finalGrades.id,\n      })\n        .then((res) => {\n          if (res.success) {\n            const recentGrade = res.data.grades.find((grade) => grade.grade_term.id === term.id);\n            setCreatedGrade(recentGrade);\n            if (errorStatus) setErrorStatus(false);\n          }\n        })\n        .catch((error) => {\n          if (error?.data?.message) {\n            onError(error);\n          }\n        })\n        .finally(() => setLoading(false));\n    },\n    [createdGrade, term.id, finalGrades?.id],\n  );\n\n  if (!finalGrades) return null;\n\n  return (\n    <Select\n      allowClear\n      status={errorStatus ? 'error' : ''}\n      loading={loading}\n      disabled={loading || finalGrades.semester_closed}\n      placeholder={<FormattedMessage id=\"select_final_grade\" />}\n      style={{ width: '100%' }}\n      onChange={onChange}\n      options={options}\n      defaultValue={getGradeScaleId(gradeScales, defaultFinalGrade?.grade_name)}\n    />\n  );\n};\n","import AttendanceCheckbox from '@/components/AttendanceCheckbox';\nimport { DAY_FORMAT } from '@/consts/dates';\nimport { ExamGradeType } from '@/services/escola-lms/enums';\nimport { DeleteOutlined } from '@ant-design/icons';\nimport type { ProColumns } from '@ant-design/pro-table';\nimport { Space } from 'antd';\nimport { format } from 'date-fns';\nimport { FormattedMessage } from 'umi';\nimport { ExamGradeInput } from '../ExamGradeInput';\nimport { FinalGradeSelect } from '../FinalGradeSelect';\nimport type { StudentExam } from '../FinalGradesDetails/types';\nimport type {\n  ClassRegisterTableItem,\n  ClassRegisterTableItemAttendance,\n  ClassRegisterTableItemExamResult,\n  ClassRegisterTableItemFinalGrade,\n} from './types';\n\n/* Attendance */\ninterface AttendanceProps {\n  groupAttendanceSchedule: API.GroupAttendanceSchedule[];\n  handleDeleteColumn: (columnIndex: number, columnTitle: string) => void;\n  scheduleDeletePermission?: boolean;\n}\n\nexport const getAttendanceCols = ({\n  groupAttendanceSchedule,\n  handleDeleteColumn,\n  scheduleDeletePermission = false,\n}: AttendanceProps): ProColumns<ClassRegisterTableItem> => {\n  const dynamicCols = groupAttendanceSchedule.reduce<ProColumns<ClassRegisterTableItem>[]>(\n    (acc, curr) => [\n      ...acc,\n      {\n        title: (\n          <Space>\n            {format(new Date(curr.date_from), DAY_FORMAT)}\n            {scheduleDeletePermission && curr.is_outdated && (\n              <DeleteOutlined\n                onClick={(e) => {\n                  e.stopPropagation();\n                  handleDeleteColumn(curr.id, format(new Date(curr.date_from), DAY_FORMAT));\n                }}\n              />\n            )}\n          </Space>\n        ),\n        dataIndex: `attendance-${curr.id}`,\n        hideInSearch: true,\n        width: 100,\n        align: 'center',\n        render: (_, record) => (\n          <AttendanceCheckbox\n            groupAttendanceScheduleId={curr.id}\n            attendance={record[`attendance-${curr?.id}`]}\n            studentId={record.id}\n          />\n        ),\n      },\n    ],\n    [],\n  );\n\n  if (!dynamicCols.length)\n    return { title: <FormattedMessage id=\"attendance\" />, hideInSearch: true, hideInTable: true };\n\n  return {\n    title: <FormattedMessage id=\"attendance\" />,\n    hideInSearch: true,\n    children: dynamicCols,\n  };\n};\n\nexport const getStudentAttendances = (\n  groupAttendanceSchedules: API.GroupAttendanceSchedule[],\n  student_id: number,\n): ClassRegisterTableItemAttendance =>\n  groupAttendanceSchedules.reduce((innerAcc, groupAttendanceSchedule) => {\n    const studentAttendance = groupAttendanceSchedule.attendances.find(\n      (attendance) => attendance.user_id === student_id,\n    );\n    if (!studentAttendance) return innerAcc;\n\n    return {\n      ...innerAcc,\n      [`attendance-${groupAttendanceSchedule.id}`]: studentAttendance.value,\n    };\n  }, {});\n\n/* Exams */\nexport const getExamsCols = (exams: API.Exam[]): ProColumns<ClassRegisterTableItem> => {\n  const dynamicCols = exams.reduce<ProColumns<ClassRegisterTableItem>[]>(\n    (acc, exam) => [\n      ...acc,\n      {\n        dataIndex: `exam-${exam.id}`,\n        title:\n          exam.type === ExamGradeType.Manual ? (\n            <FormattedMessage id=\"examTitleWithWeight\" values={exam} />\n          ) : (\n            <FormattedMessage id=\"examTitleWithoutWeight\" values={exam} />\n          ),\n        hideInSearch: true,\n        width: 100,\n        render: (_n, record) => (\n          <ExamGradeInput\n            type={exam.type}\n            result={record?.[`exam-${exam.id}`]?.result}\n            exam_id={exam.id}\n            student_id={record.id}\n          />\n        ),\n      },\n    ],\n    [],\n  );\n\n  if (!dynamicCols.length)\n    return { title: <FormattedMessage id=\"exams\" />, hideInSearch: true, hideInTable: true };\n\n  return { title: <FormattedMessage id=\"exams\" />, hideInSearch: true, children: dynamicCols };\n};\n\nexport const getStudentExamResults = (\n  studentExams: StudentExam[],\n): ClassRegisterTableItemExamResult =>\n  studentExams.reduce(\n    (innerAcc, { result, id: exam_id }) => ({\n      ...innerAcc,\n      [`exam-${exam_id}`]: result,\n    }),\n    {},\n  );\n\n/* Final grades */\nexport const getFinalGradesCols = (\n  gradeTerms: API.GradeTerm[],\n  subjectGradeScales: API.SubjectGradeScale[],\n): ProColumns<ClassRegisterTableItem> => ({\n  title: <FormattedMessage id=\"final-grades\" />,\n  hideInSearch: true,\n  children: gradeTerms.map((term) => ({\n    title: term.name,\n    hideInSearch: true,\n    width: 100,\n    align: 'center',\n    render: (_n, record) => (\n      <FinalGradeSelect\n        key={`${record?.final_grades?.group_id}-${term.id}`}\n        defaultFinalGrade={record[`final-grade-${term.id}`]}\n        finalGrades={record.final_grades}\n        term={term}\n        gradeScales={subjectGradeScales}\n      />\n    ),\n  })),\n});\n\nexport const getStudentFinalGrades = (\n  finalGrades: API.FinalGradeItem[],\n  student_id: number,\n): API.FinalGradeItem | undefined =>\n  finalGrades.find((finalGradeItem) => finalGradeItem.user.id === student_id);\n\nexport const getFinalGrades = (\n  studentFinalGrade?: API.FinalGradeItem,\n): ClassRegisterTableItemFinalGrade =>\n  (studentFinalGrade?.grades ?? []).reduce(\n    (acc, grade) => ({ ...acc, [`final-grade-${grade.grade_term.id}`]: grade }),\n    {},\n  );\n","import type { ActionType, ProColumns } from '@ant-design/pro-table';\nimport ProTable from '@ant-design/pro-table';\nimport { Button, Modal, Tooltip, message } from 'antd';\nimport React, { useMemo, useRef, useState } from 'react';\nimport { FormattedMessage, useIntl } from 'umi';\n\nimport BookmarkNoteModal from '@/components/BookmarkNoteModal';\nimport PERMISSIONS from '@/consts/permissions';\nimport { usePermissions } from '@/hooks/usePermissions';\nimport {\n  groupAttendanceSchedule as fetchGroupAttendanceSchedule,\n  removeAttendanceColumn,\n} from '@/services/escola-lms/attendances';\nimport { getExams as fetchExams } from '@/services/escola-lms/exams';\nimport {\n  getGradeTerms as fetchGradeTerms,\n  getGroupFinalGrades as fetchGroupFinalGrades,\n  getSubjectGradeScales as fetchSubjectGradeScales,\n  getSubjectTutorGrades as fetchSubjectTutorGrades,\n} from '@/services/escola-lms/grades';\nimport { studentUserGroup as fetchStudentUserGroup } from '@/services/escola-lms/student_user_groups';\nimport { EditOutlined } from '@ant-design/icons';\nimport { useTeacherSubject } from '../../context';\nimport {\n  getProposedGrade,\n  getScalesBySubjectScaleFormId,\n  getStudentExamsFromExams,\n} from '../FinalGradesDetails/utils';\nimport { TEACHER_SUBJECTS_PAGE_SIZE } from '../consts';\nimport type { ClassRegisterTableItem } from './types';\nimport {\n  getAttendanceCols,\n  getExamsCols,\n  getFinalGrades,\n  getFinalGradesCols,\n  getStudentAttendances,\n  getStudentExamResults,\n  getStudentFinalGrades,\n} from './utils';\n\nexport const ClassRegister: React.FC = () => {\n  const { teacherSubjectData, semester_subject_id } = useTeacherSubject();\n  const [dynamicCols, setDynamicCols] = useState<ProColumns<ClassRegisterTableItem>[]>([]);\n  const [selectedGroupName, setSelectedGroupName] = useState(teacherSubjectData?.groups?.[0]?.name);\n  const [userModalData, setUserModalData] = useState<{\n    userName: string;\n    userId: number;\n    groupId: number;\n  } | null>(null);\n  const intl = useIntl();\n  const actionRef = useRef<ActionType>();\n  const { checkPermission } = usePermissions();\n\n  const showDeleteConfirmationModal = (columnTitle: string, onConfirm: () => void) => {\n    Modal.confirm({\n      title: intl.formatMessage({ id: 'scheduleDeleteConfirm' }, { columnId: columnTitle }),\n      okText: intl.formatMessage({ id: 'delete' }),\n      cancelText: intl.formatMessage({ id: 'cancel' }),\n      onOk: onConfirm,\n    });\n  };\n\n  const handleDeleteColumn = (id: number, title: string) => {\n    showDeleteConfirmationModal(title, () => {\n      removeAttendanceColumn(id);\n      actionRef.current?.reload();\n    });\n  };\n\n  const groupOptions = useMemo(\n    () => (teacherSubjectData?.groups ?? []).map(({ id, name }) => ({ value: id, label: name })),\n    [teacherSubjectData?.groups],\n  );\n\n  const columns: ProColumns[] = useMemo(\n    () => [\n      {\n        title: <FormattedMessage id=\"group\" />,\n        dataIndex: 'group_id',\n        hideInTable: true,\n        valueType: 'select',\n        fieldProps: {\n          options: groupOptions,\n          defaultValue: groupOptions?.[0]?.value,\n          allowClear: false,\n        },\n      },\n      {\n        title: <FormattedMessage id=\"surnameAndName\" defaultMessage=\"Name and surname\" />,\n        dataIndex: 'full_name',\n        fixed: 'left',\n      },\n      ...dynamicCols,\n      {\n        hideInSearch: true,\n        title: <FormattedMessage id=\"pages.searchTable.titleOption\" />,\n        dataIndex: 'option',\n        valueType: 'option',\n        fixed: 'right',\n        width: 60,\n        render: (_n, record) => (\n          <>\n            <Tooltip title={<FormattedMessage id=\"notes\" defaultMessage=\"notes\" />}>\n              <Button\n                type=\"primary\"\n                icon={<EditOutlined />}\n                onClick={() =>\n                  setUserModalData({\n                    userName: record.full_name,\n                    userId: record.id,\n                    groupId: record.final_grades.group_id,\n                  })\n                }\n              />\n            </Tooltip>\n          </>\n        ),\n      },\n    ],\n    [groupOptions, dynamicCols],\n  );\n\n  return (\n    <>\n      {userModalData?.userId && (\n        <BookmarkNoteModal\n          visible={!!userModalData.userId}\n          onClose={() => setUserModalData(null)}\n          user={{\n            name: userModalData.userName,\n            userId: userModalData.userId,\n            groupId: userModalData.groupId,\n          }}\n        />\n      )}\n      <ProTable<ClassRegisterTableItem>\n        sticky\n        className=\"table-standalone\"\n        request={async ({ group_id = groupOptions[0]?.value, full_name = '' }) => {\n          const finalGradesRes = await fetchGroupFinalGrades([group_id]);\n          const selectedGroup = groupOptions.find(({ value }) => value === group_id);\n          if (\n            !finalGradesRes.success ||\n            finalGradesRes.data[0] === undefined ||\n            semester_subject_id === null\n          ) {\n            message.error(\n              intl.formatMessage({ id: 'groupDataMissing' }, { group_name: selectedGroup?.label }),\n            );\n\n            return { data: [], total: 0, success: false };\n          }\n\n          const [\n            studentUserGroupRes,\n            groupAttendanceScheduleRes,\n            examsRes,\n            tutorGradesRes,\n            gradeTermsRes,\n            subjectGradeScalesRes,\n          ] = await Promise.all([\n            fetchStudentUserGroup(group_id),\n            fetchGroupAttendanceSchedule(group_id),\n            fetchExams({ group_id, per_page: -1 }),\n            fetchSubjectTutorGrades(semester_subject_id, finalGradesRes.data?.[0]?.tutor_id),\n            fetchGradeTerms(),\n            fetchSubjectGradeScales(finalGradesRes.data?.[0]?.s_subject_scale_form_id),\n          ]);\n\n          if (\n            !studentUserGroupRes.success ||\n            !groupAttendanceScheduleRes.success ||\n            !examsRes.success ||\n            !tutorGradesRes.success ||\n            !gradeTermsRes.success ||\n            !subjectGradeScalesRes.success ||\n            !selectedGroup\n          ) {\n            message.error(\n              intl.formatMessage({ id: 'groupDataMissing' }, { group_name: selectedGroup?.label }),\n            );\n\n            return { data: [], total: 0, success: false };\n          }\n          setSelectedGroupName(selectedGroup.label);\n\n          /* COLS */\n          const attendanceCols = getAttendanceCols({\n            groupAttendanceSchedule: groupAttendanceScheduleRes.data,\n            handleDeleteColumn,\n            scheduleDeletePermission:\n              checkPermission(PERMISSIONS.PCGSchedulesDelete) ||\n              checkPermission(PERMISSIONS.PCGSchedulesDeleteOwn),\n          });\n          const examsCols = getExamsCols(examsRes.data);\n          const finalGradeCols = getFinalGradesCols(gradeTermsRes.data, subjectGradeScalesRes.data);\n\n          setDynamicCols([\n            attendanceCols,\n            examsCols,\n            finalGradeCols,\n            {\n              title: <FormattedMessage id=\"proposed_grade\" />,\n              hideInSearch: true,\n              dataIndex: 'proposed_grade',\n              align: 'center',\n              width: 100,\n            },\n          ]);\n\n          const data = studentUserGroupRes.data.users\n            .reduce<ClassRegisterTableItem[]>(\n              (acc, { id, academic_teacher_id, first_name, last_name }) => {\n                const studentFullName = `${last_name} ${first_name}`;\n                const studentInFinalGrades = finalGradesRes.data.some(\n                  (teacher) => teacher.user.id === id,\n                );\n\n                if (\n                  (academic_teacher_id !== null && !studentInFinalGrades) ||\n                  !studentFullName.toLowerCase().includes(full_name.toLowerCase())\n                )\n                  return acc;\n\n                const studentAttendances = getStudentAttendances(\n                  groupAttendanceScheduleRes.data,\n                  id,\n                );\n\n                const studentExams = getStudentExamsFromExams(examsRes.data, id);\n\n                const studentFinalGrades = getStudentFinalGrades(finalGradesRes.data, id);\n\n                const tutorScales =\n                  getScalesBySubjectScaleFormId(\n                    studentFinalGrades?.s_subject_scale_form_id ?? 0,\n                    tutorGradesRes.data.grade_scale ?? [],\n                  ) ?? [];\n\n                const proposed_grade = getProposedGrade(studentExams, tutorScales);\n\n                const studentExamResults = getStudentExamResults(studentExams);\n\n                const finalGrades = getFinalGrades(studentFinalGrades);\n\n                return [\n                  ...acc,\n                  {\n                    id,\n                    full_name: studentFullName,\n                    ...studentAttendances,\n                    ...studentExamResults,\n                    ...finalGrades,\n                    proposed_grade,\n                    final_grades: studentFinalGrades,\n                  },\n                ];\n              },\n              [],\n            )\n            // sort alphabetically\n            .sort((a, b) => a.full_name.localeCompare(b.full_name));\n\n          return { data, total: data.length, success: true };\n        }}\n        columns={columns}\n        headerTitle={\n          <FormattedMessage\n            id=\"classRegisterTitleWithGroupName\"\n            values={{ groupName: selectedGroupName }}\n          />\n        }\n        search={{ layout: 'vertical' }}\n        scroll={{ x: 1500 }}\n        actionRef={actionRef}\n        pagination={{\n          defaultPageSize: TEACHER_SUBJECTS_PAGE_SIZE,\n          onChange: () => actionRef.current?.reload(),\n        }}\n        rowKey=\"id\"\n      />\n    </>\n  );\n};\n","// This icon file is generated automatically.\nvar LineChartOutlined = { \"icon\": { \"tag\": \"svg\", \"attrs\": { \"viewBox\": \"64 64 896 896\", \"focusable\": \"false\" }, \"children\": [{ \"tag\": \"path\", \"attrs\": { \"d\": \"M888 792H200V168c0-4.4-3.6-8-8-8h-56c-4.4 0-8 3.6-8 8v688c0 4.4 3.6 8 8 8h752c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM305.8 637.7c3.1 3.1 8.1 3.1 11.3 0l138.3-137.6L583 628.5c3.1 3.1 8.2 3.1 11.3 0l275.4-275.3c3.1-3.1 3.1-8.2 0-11.3l-39.6-39.6a8.03 8.03 0 00-11.3 0l-230 229.9L461.4 404a8.03 8.03 0 00-11.3 0L266.3 586.7a8.03 8.03 0 000 11.3l39.5 39.7z\" } }] }, \"name\": \"line-chart\", \"theme\": \"outlined\" };\nexport default LineChartOutlined;\n","import _objectSpread from \"@babel/runtime/helpers/esm/objectSpread2\";\n// GENERATE BY ./scripts/generate.ts\n// DON NOT EDIT IT MANUALLY\nimport * as React from 'react';\nimport LineChartOutlinedSvg from \"@ant-design/icons-svg/es/asn/LineChartOutlined\";\nimport AntdIcon from '../components/AntdIcon';\nvar LineChartOutlined = function LineChartOutlined(props, ref) {\n  return /*#__PURE__*/React.createElement(AntdIcon, _objectSpread(_objectSpread({}, props), {}, {\n    ref: ref,\n    icon: LineChartOutlinedSvg\n  }));\n};\nvar RefIcon = /*#__PURE__*/React.forwardRef(LineChartOutlined);\nif (process.env.NODE_ENV !== 'production') {\n  RefIcon.displayName = 'LineChartOutlined';\n}\nexport default RefIcon;","import SecureUpload from '@/components/SecureUpload';\nimport { ExamGradeType } from '@/services/escola-lms/enums';\nimport { getGroupFinalGrades as fetchGroupFinalGrades } from '@/services/escola-lms/grades';\nimport { InfoCircleOutlined } from '@ant-design/icons';\nimport ProForm from '@ant-design/pro-form';\nimport { Button, Image, Modal, Select, Space, Tooltip } from 'antd';\nimport type { DefaultOptionType } from 'antd/lib/select';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { FormattedMessage } from 'umi';\nimport { useTeacherSubject } from '../context';\n\nconst checkManualExamType = (type: ExamGradeType) =>\n  type === ExamGradeType.Manual ||\n  type === ExamGradeType.ManualPass ||\n  type === ExamGradeType.ManualGrades;\n\nconst FileExamGradeType: React.FC<{\n  type: ExamGradeType;\n  groupSelectDisabled: boolean;\n  onDataConverted: (data: ConvertedData | undefined) => void;\n}> = ({ type, onDataConverted, groupSelectDisabled }) => {\n  const { semester_subject_id, teacherSubjectData } = useTeacherSubject();\n  const [selectedGroup, setSelectedGroup] = useState<number | null>(null);\n\n  const groupOptions: DefaultOptionType[] = useMemo(\n    () =>\n      (teacherSubjectData?.groups ?? []).map(({ id, name }) => ({\n        label: name,\n        value: id,\n      })),\n\n    [],\n  );\n  const reqData: API.ParseExamFileRequest = {\n    type,\n    group_id: selectedGroup!,\n    semester_subject_id: semester_subject_id!,\n  };\n\n  const onUploadFile = useCallback((response: API.DefaultResponse<API.Exam>) => {\n    if (response.success) {\n      // TODO #1037 error handling\n      // filter out users that are not in selected group\n      const exam_results = response.data.results.filter(({ user_id }) => user_id !== null);\n      if (!exam_results.length) return;\n\n      onDataConverted({ exam_results, group_id: response.data.group_id });\n    }\n  }, []);\n\n  return (\n    <>\n      <ProForm.Item label={<FormattedMessage id=\"group\" />}>\n        <Select\n          disabled={groupSelectDisabled}\n          value={selectedGroup}\n          onChange={(v) => setSelectedGroup(v)}\n          options={groupOptions}\n          placeholder={<FormattedMessage id=\"select_group\" />}\n          style={{ width: '100%' }}\n        />\n      </ProForm.Item>\n      <SecureUpload\n        name=\"file\"\n        url=\"/api/admin/exams/parse\"\n        onUpload={onUploadFile}\n        onChange={(info) => !info.fileList.length && onDataConverted(undefined)}\n        maxFiles={1}\n        data={reqData}\n        disabled={!selectedGroup}\n      />\n    </>\n  );\n};\n\nconst ManualExamGradeType: React.FC<{\n  onDataConverted: (convertedData: ConvertedData) => void;\n  examType: ExamGradeType;\n}> = ({ onDataConverted }) => {\n  const { teacherSubjectData, groupUsers } = useTeacherSubject();\n  const [selectedGroup, setSelectedGroup] = useState<number | null>(null);\n\n  const groupOptions: DefaultOptionType[] = useMemo(\n    () =>\n      (teacherSubjectData?.groups ?? []).map(({ id, name }) => ({\n        label: name,\n        value: id,\n      })),\n\n    [],\n  );\n\n  const onSelectedGroupChange = useCallback(\n    async (group_id: number) => {\n      setSelectedGroup(group_id);\n      const currGroup = groupUsers.byId?.[group_id];\n      if (!currGroup) return;\n\n      try {\n        const finalGradesRes = await fetchGroupFinalGrades([group_id]);\n        if (!finalGradesRes.success) return;\n\n        const exam_results = currGroup.users.reduce<API.ExamResult[]>(\n          (acc, { id, email, first_name, last_name, academic_teacher_id }) => {\n            const studentInFinalGrades = finalGradesRes.data.some(\n              (teacher) => teacher.user.id === id,\n            );\n\n            // filter out tutors\n            if (academic_teacher_id !== null && !studentInFinalGrades) return acc;\n\n            return [\n              ...acc,\n              {\n                email,\n                first_name,\n                last_name,\n                user_id: id,\n                result: null,\n              },\n            ];\n          },\n          [],\n        );\n\n        onDataConverted({ group_id, exam_results });\n      } catch (error) {\n        console.error('Error fetching final grades:', error);\n      }\n    },\n    [groupUsers.byId],\n  );\n\n  return (\n    <Select\n      value={selectedGroup}\n      onChange={onSelectedGroupChange}\n      options={groupOptions}\n      placeholder={<FormattedMessage id=\"select_group\" />}\n      style={{ width: '100%' }}\n    />\n  );\n};\n\nexport interface ConvertedData {\n  group_id: number;\n  exam_results: API.ExamResult[];\n}\n\ninterface Props {\n  open: boolean;\n  closeModal: () => void;\n  onSuccess: (convertedData: ConvertedData) => void;\n  type: ExamGradeType;\n}\n\nconst EXAM_GRADE_IMAGES: Record<ExamGradeType, string[]> = {\n  [ExamGradeType.TestPortal]: ['/teacher-examples/testPortal.png'],\n  [ExamGradeType.TeamsForms]: ['/teacher-examples/teamsForms.png'],\n  [ExamGradeType.TeamsLecture]: [\n    '/teacher-examples/teamsLecture.png',\n    '/teacher-examples/teamsLectureWithoutMail.png',\n  ],\n  [ExamGradeType.Manual]: [],\n  [ExamGradeType.ManualPass]: [],\n  [ExamGradeType.ManualGrades]: [],\n};\n\nconst ExampleImagesPreview: React.FC<{ images: string[] }> = ({ images }) => {\n  const [visible, setVisible] = useState(false);\n\n  const openImagePreview = useCallback(() => setVisible(true), []);\n\n  return (\n    <>\n      <Tooltip title={<FormattedMessage id=\"see_file_example_image\" />}>\n        <Button onClick={openImagePreview} icon={<InfoCircleOutlined />} />\n      </Tooltip>\n      <Image.PreviewGroup preview={{ visible, onVisibleChange: setVisible }}>\n        {images.map((src) => (\n          <Image key={src} style={{ display: 'none' }} src={src} />\n        ))}\n      </Image.PreviewGroup>\n    </>\n  );\n};\n\nconst ModalFooter: React.FC<{\n  type: ExamGradeType;\n  onOk: () => void;\n  onCancel: () => void;\n  okDisabled: boolean;\n}> = ({ type, onOk, onCancel, okDisabled }) => {\n  const currentImages = EXAM_GRADE_IMAGES?.[type] ?? EXAM_GRADE_IMAGES[ExamGradeType.Manual];\n\n  return (\n    <Space\n      style={{ width: '100%', justifyContent: currentImages.length ? 'space-between' : 'flex-end' }}\n    >\n      {!!currentImages.length && <ExampleImagesPreview images={currentImages} />}\n      <Space>\n        <Button onClick={onCancel}>\n          <FormattedMessage id=\"cancel\" />\n        </Button>\n        <Button type=\"primary\" disabled={okDisabled} onClick={onOk}>\n          <FormattedMessage id=\"ok\" />\n        </Button>\n      </Space>\n    </Space>\n  );\n};\n\nconst FILE_TYPES = [ExamGradeType.TeamsLecture, ExamGradeType.TestPortal, ExamGradeType.TeamsForms];\n\nexport const ConvertGradesModal: React.FC<Props> = ({ open, closeModal, onSuccess, type }) => {\n  const { teacherSubjectData, fetchGroupUsers } = useTeacherSubject();\n  const [convertedData, setConvertedData] = useState<ConvertedData>();\n\n  useEffect(() => {\n    if (checkManualExamType(type) && open) {\n      teacherSubjectData?.groups?.forEach(({ id }) => fetchGroupUsers(id));\n    }\n  }, [type, open]);\n\n  return (\n    <Modal\n      title={<FormattedMessage id={`TeacherSubjects.Exams.${type}Convert`} />}\n      width=\"40vw\"\n      open={open}\n      onCancel={closeModal}\n      footer={\n        <ModalFooter\n          type={type}\n          onOk={() => {\n            if (convertedData) {\n              onSuccess(convertedData);\n            }\n          }}\n          onCancel={closeModal}\n          okDisabled={!convertedData}\n        />\n      }\n    >\n      {FILE_TYPES.includes(type) && (\n        <FileExamGradeType\n          type={type}\n          onDataConverted={setConvertedData}\n          groupSelectDisabled={!!convertedData}\n        />\n      )}\n      {checkManualExamType(type) && (\n        <ManualExamGradeType onDataConverted={setConvertedData} examType={type} />\n      )}\n    </Modal>\n  );\n};\n","import { ExamGradeType } from '@/services/escola-lms/enums';\nimport { createExam, getExam, updateExam } from '@/services/escola-lms/exams';\nimport ProForm, { ProFormDatePicker, ProFormText } from '@ant-design/pro-form';\nimport ProTable, { type ProColumns } from '@ant-design/pro-table';\nimport { Button, Col, InputNumber, Row, Spin } from 'antd';\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { FormattedMessage, history } from 'umi';\n\nimport { useTeacherSubject } from '../context';\nimport { ConvertGradesModal, type ConvertedData } from './ConvertGradesModal';\nimport { TEACHER_SUBJECTS_PAGE_SIZE, gradesOptions, passOptions } from './consts';\n\nconst SelectTypeButtonsGroup: React.FC<{ onSelect: (type: ExamGradeType) => void }> = ({\n  onSelect,\n}) => (\n  <Row gutter={[16, 16]}>\n    <Col span={12}>\n      <Button type=\"primary\" onClick={() => onSelect(ExamGradeType.TeamsForms)}>\n        <FormattedMessage id=\"uploadFile.MsTeamsForms\" defaultMessage=\"uploadFile.MsTeamsForms\" />\n      </Button>\n    </Col>\n    <Col span={12}>\n      <Button type=\"primary\" onClick={() => onSelect(ExamGradeType.TestPortal)}>\n        <FormattedMessage id=\"uploadFile.TestPortal\" defaultMessage=\"uploadFile.TestPortal\" />\n      </Button>\n    </Col>\n    <Col span={12}>\n      <Button type=\"primary\" onClick={() => onSelect(ExamGradeType.TeamsLecture)}>\n        <FormattedMessage id=\"uploadFile.MsTeams\" defaultMessage=\"uploadFile.MsTeams\" />\n      </Button>\n    </Col>\n    <Col span={12}>\n      <Button type=\"primary\" onClick={() => onSelect(ExamGradeType.Manual)}>\n        <FormattedMessage id=\"uploadGradesManually\" defaultMessage=\"uploadGradesManually\" />\n      </Button>\n    </Col>\n    <Col span={12}>\n      <Button type=\"primary\" onClick={() => onSelect(ExamGradeType.ManualPass)}>\n        <FormattedMessage id=\"uploadGradesManuallyPass\" defaultMessage=\"uploadGradesManuallyPass\" />\n      </Button>\n    </Col>\n    <Col span={12}>\n      <Button type=\"primary\" onClick={() => onSelect(ExamGradeType.ManualGrades)}>\n        <FormattedMessage\n          id=\"uploadGradesManuallyGrades\"\n          defaultMessage=\"uploadGradesManuallyGrades\"\n        />\n      </Button>\n    </Col>\n  </Row>\n);\n\nconst staticColumns: ProColumns<API.ExamResult>[] = [\n  { title: <FormattedMessage id=\"first_name\" />, dataIndex: 'first_name', editable: false },\n  { title: <FormattedMessage id=\"last_name\" />, dataIndex: 'last_name', editable: false },\n];\n\ninterface ExamFormValues {\n  title: string;\n  weight: number;\n  passed_at: Date | string;\n}\n\ninterface Props {\n  exam_id: string;\n}\nexport const ExamForm: React.FC<Props> = ({ exam_id }) => {\n  const [form] = ProForm.useForm<ExamFormValues>();\n  const [selectedType, setSelectedType] = useState<ExamGradeType>();\n  const [convertedData, setConvertedData] = useState<ConvertedData>();\n  const [fetching, setFetching] = useState(false);\n  const { semester_subject_id, getGroupById } = useTeacherSubject();\n\n  const editableKeys = useMemo(\n    () => (convertedData?.exam_results ?? []).map(({ user_id }) => user_id),\n    [convertedData?.exam_results],\n  );\n\n  useEffect(() => {\n    const numExamId = Number(exam_id);\n\n    if (exam_id === 'new') {\n      setSelectedType(undefined);\n      setConvertedData(undefined);\n      form.resetFields();\n    }\n\n    if (exam_id !== 'new' && !Number.isNaN(numExamId)) {\n      setFetching(true);\n      getExam(numExamId)\n        .then((res) => {\n          if (res.success) {\n            const { type, results, title, weight, passed_at, group_id } = res.data;\n            setSelectedType(type);\n            setConvertedData({ group_id, exam_results: results });\n            form.setFieldsValue({ title, weight, passed_at });\n          }\n        })\n        .finally(() => setFetching(false));\n    }\n  }, [exam_id]);\n\n  const resetState = useCallback(() => {\n    setSelectedType(undefined);\n    setConvertedData(undefined);\n  }, []);\n\n  if (fetching) {\n    return <Spin />;\n  }\n\n  return (\n    <>\n      {selectedType && (\n        <ConvertGradesModal\n          open={Boolean(selectedType && !convertedData)}\n          type={selectedType}\n          closeModal={resetState}\n          onSuccess={setConvertedData}\n        />\n      )}\n      <ProForm\n        form={form}\n        submitter={selectedType === undefined || !convertedData ? false : undefined}\n        onFinish={async (formData: ExamFormValues) => {\n          if (convertedData && typeof semester_subject_id === 'number') {\n            const { title, passed_at, weight } = formData;\n            const numExamId = Number(exam_id);\n            const { exam_results, group_id } = convertedData;\n            const reqData: API.CreateExamRequest = {\n              type: selectedType!,\n              semester_subject_id,\n              title,\n              passed_at,\n              weight,\n              group_id,\n              results: exam_results,\n            };\n\n            const response = Number.isNaN(numExamId)\n              ? await createExam(reqData)\n              : await updateExam(numExamId, reqData);\n            if (response.success) {\n              history.push(`/teacher/subjects/${semester_subject_id}/exams`);\n            }\n          }\n          return true;\n        }}\n        onReset={resetState}\n      >\n        <ProForm.Group>\n          <ProFormText\n            label={<FormattedMessage id=\"examTitle\" defaultMessage=\"examTitle\" />}\n            rules={[\n              {\n                required: true,\n                message: <FormattedMessage id=\"field_required\" />,\n              },\n            ]}\n            width=\"lg\"\n            name=\"title\"\n          />\n          <ProFormDatePicker\n            label={<FormattedMessage id=\"datePassingExam\" defaultMessage=\"datePassingExam\" />}\n            rules={[\n              {\n                required: true,\n                message: <FormattedMessage id=\"field_required\" />,\n              },\n            ]}\n            width=\"lg\"\n            name=\"passed_at\"\n          />\n\n          {selectedType !== ExamGradeType.ManualGrades &&\n            selectedType !== ExamGradeType.ManualPass && (\n              <ProForm.Item\n                name=\"weight\"\n                label={<FormattedMessage id=\"examImportance\" defaultMessage=\"examImportance\" />}\n                rules={[\n                  { required: true, message: <FormattedMessage id=\"field_required\" /> },\n                  {\n                    type: 'number',\n                    min: 1,\n                    max: 100,\n                    message: <FormattedMessage id=\"number_between\" values={{ min: 1, max: 100 }} />,\n                  },\n                ]}\n              >\n                <InputNumber />\n              </ProForm.Item>\n            )}\n        </ProForm.Group>\n        {selectedType && convertedData && (\n          <ProTable\n            rowKey=\"user_id\"\n            headerTitle={getGroupById(convertedData.group_id)?.name}\n            editable={{\n              type: 'single',\n              editableKeys,\n              onValuesChange: (record, dataSource) =>\n                setConvertedData({ group_id: convertedData.group_id, exam_results: dataSource }),\n            }}\n            cardProps={{ bodyStyle: { paddingInline: 0 } }}\n            search={false}\n            dataSource={convertedData.exam_results.sort((a, b) =>\n              a.last_name.localeCompare(b.last_name),\n            )}\n            pagination={{ defaultPageSize: TEACHER_SUBJECTS_PAGE_SIZE }}\n            columns={[\n              ...staticColumns,\n              (() => {\n                switch (selectedType) {\n                  case ExamGradeType.ManualPass:\n                    return {\n                      title: <FormattedMessage id=\"examResult\" />,\n                      dataIndex: 'result',\n                      valueType: 'select',\n                      fieldProps: {\n                        options: passOptions,\n                      },\n                    };\n                  case ExamGradeType.ManualGrades:\n                    return {\n                      title: <FormattedMessage id=\"examResult\" />,\n                      dataIndex: 'result',\n                      valueType: 'select',\n                      fieldProps: {\n                        options: gradesOptions,\n                      },\n                    };\n                  default:\n                    return {\n                      title: <FormattedMessage id=\"examResult\" />,\n                      dataIndex: 'result',\n                      valueType: 'percent',\n                      formItemProps: {\n                        rules: [\n                          {\n                            required: true,\n                            message: <FormattedMessage id=\"field_required\" />,\n                          },\n                          {\n                            type: 'number',\n                            min: 0,\n                            max: 100,\n                            message: (\n                              <FormattedMessage id=\"number_between\" values={{ min: 0, max: 100 }} />\n                            ),\n                          },\n                        ],\n                      },\n                    };\n                }\n              })(),\n            ]}\n          />\n        )}\n        {!convertedData && <SelectTypeButtonsGroup onSelect={setSelectedType} />}\n      </ProForm>\n    </>\n  );\n};\n","import type { ProColumns } from '@ant-design/pro-table';\nimport ProTable from '@ant-design/pro-table';\nimport React, { useState } from 'react';\nimport { FormattedMessage } from 'umi';\n\nimport { getExam } from '@/services/escola-lms/exams';\nimport { TEACHER_SUBJECTS_PAGE_SIZE } from './consts';\n\ninterface Props {\n  exam_id: number;\n}\n\nconst columns: ProColumns<API.ExamResult>[] = [\n  { title: <FormattedMessage id=\"first_name\" />, dataIndex: 'first_name' },\n  { title: <FormattedMessage id=\"last_name\" />, dataIndex: 'last_name' },\n  { title: <FormattedMessage id=\"examResult\" />, dataIndex: 'result', hideInSearch: true },\n];\n\nexport const ExamResults: React.FC<Props> = ({ exam_id }) => {\n  const [title, setTitle] = useState('');\n\n  return (\n    <ProTable<API.ExamResult>\n      className=\"table-standalone\"\n      rowKey=\"user_id\"\n      search={false}\n      headerTitle={title}\n      pagination={{ defaultPageSize: TEACHER_SUBJECTS_PAGE_SIZE }}\n      request={async () => {\n        const response = await getExam(exam_id);\n\n        if (response.success) {\n          setTitle(response.data.title);\n\n          return {\n            total: response.data.results.length,\n            success: true,\n            data: response.data.results,\n          };\n        }\n\n        return [];\n      }}\n      columns={columns}\n    />\n  );\n};\n","import { DeleteOutlined, EditOutlined, LineChartOutlined } from '@ant-design/icons';\nimport type { ActionType, ProColumns } from '@ant-design/pro-table';\nimport ProTable from '@ant-design/pro-table';\nimport { Button, Popconfirm, Tooltip } from 'antd';\nimport { format } from 'date-fns';\nimport React, { useRef } from 'react';\nimport { FormattedMessage, Link, useLocation } from 'umi';\n\nimport TypeButtonDrawer from '@/components/TypeButtonDrawer';\nimport { DAY_FORMAT } from '@/consts/dates';\nimport { deleteExam, getExams } from '@/services/escola-lms/exams';\nimport { useTeacherSubject } from '../context';\nimport { ExamForm } from './ExamForm';\nimport { ExamResults } from './ExamResults';\nimport { TEACHER_SUBJECTS_PAGE_SIZE } from './consts';\n\nconst staticColumns: ProColumns<API.Exam>[] = [\n  {\n    title: <FormattedMessage id=\"ID\" defaultMessage=\"ID\" />,\n    dataIndex: 'id',\n    sorter: true,\n    width: '80px',\n  },\n  {\n    title: <FormattedMessage id=\"title\" defaultMessage=\"title\" />,\n    dataIndex: 'title',\n    hideInSearch: true,\n    sorter: true,\n  },\n  {\n    title: <FormattedMessage id=\"type\" defaultMessage=\"type\" />,\n    dataIndex: 'type',\n    sorter: true,\n    render: (_, record) => <FormattedMessage id={`ExamGradeType.${record.type}`} />,\n  },\n  {\n    title: <FormattedMessage id=\"TeacherSubjects.Exams.exam_date\" defaultMessage=\"Exam date\" />,\n    dataIndex: 'passed_at',\n    sorter: true,\n    render: (_, record) => record.passed_at && format(new Date(record.passed_at), DAY_FORMAT),\n  },\n  {\n    title: <FormattedMessage id=\"TeacherSubjects.Exams.grade_weight\" defaultMessage=\"Weight\" />,\n    dataIndex: 'weight',\n    sorter: true,\n    render: (_, record) => (record.weight ? record.weight + '%' : ''),\n  },\n  {\n    title: <FormattedMessage id=\"created_at\" defaultMessage=\"Created at\" />,\n    dataIndex: 'created_at',\n    sorter: true,\n    render: (_, record) => record.created_at && format(new Date(record.created_at), DAY_FORMAT),\n  },\n  {\n    title: <FormattedMessage id=\"semester\" defaultMessage=\"Semester\" />,\n    dataIndex: 'semester',\n    sorter: true,\n    render: (_, record) => (\n      <FormattedMessage\n        id={`SemesterType.${record.semester.type}`}\n        values={{ year: record.semester.year }}\n      />\n    ),\n  },\n  {\n    title: <FormattedMessage id=\"group\" defaultMessage=\"Group\" />,\n    dataIndex: 'group_id',\n    sorter: true,\n    render: (_, record) => (\n      <TypeButtonDrawer key={record.group_id} type=\"Students\" type_id={record.group_id} />\n    ),\n  },\n];\n\nexport const Exams: React.FC = () => {\n  const actionRef = useRef<ActionType>();\n  const { semester_subject_id } = useTeacherSubject();\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const exam_id = searchParams.get('exam_id') ?? null;\n  const results = searchParams.get('results');\n\n  if (results !== null && !Number.isNaN(Number(results))) {\n    return <ExamResults exam_id={Number(results)} />;\n  }\n\n  if (exam_id !== null) {\n    return <ExamForm exam_id={exam_id} />;\n  }\n\n  return (\n    <ProTable<API.Exam, API.ExamsParams>\n      className=\"table-standalone\"\n      headerTitle={<FormattedMessage id=\"exams\" />}\n      actionRef={actionRef}\n      search={false}\n      rowKey=\"id\"\n      pagination={{ defaultPageSize: TEACHER_SUBJECTS_PAGE_SIZE }}\n      request={async ({ current, pageSize }, sort) => {\n        if (semester_subject_id === null)\n          return {\n            data: [],\n            total: 0,\n            success: false,\n          };\n        const sortArr = sort && Object.entries(sort)[0];\n\n        const response = await getExams({\n          per_page: pageSize,\n          page: current,\n          semester_subject_id: !Number.isNaN(semester_subject_id) ? semester_subject_id : undefined,\n          order_by: sortArr && sortArr[0],\n          order: sortArr && (sortArr[1] === 'ascend' ? 'ASC' : 'DESC'),\n        });\n\n        if (response.success) {\n          return {\n            data: response.data,\n            total: response.meta.total,\n            success: true,\n          };\n        }\n\n        return {\n          data: [],\n          total: 0,\n          success: false,\n        };\n      }}\n      columns={[\n        ...staticColumns,\n        {\n          title: <FormattedMessage id=\"pages.searchTable.titleOption\" />,\n          dataIndex: 'option',\n          valueType: 'option',\n          render: (_, record) => [\n            <Link\n              to={`/teacher/subjects/${record.semester_subject_id}/exams?exam_id=${record.id}`}\n              key=\"edit\"\n            >\n              <Tooltip title={<FormattedMessage id=\"edit\" defaultMessage=\"edit\" />}>\n                <Button type=\"primary\" icon={<EditOutlined />} />\n              </Tooltip>\n            </Link>,\n            <Link\n              to={`/teacher/subjects/${record.semester_subject_id}/exams?results=${record.id}`}\n              key=\"results\"\n            >\n              <Tooltip\n                title={\n                  <FormattedMessage id=\"TeacherSubjects.Exams.results\" defaultMessage=\"results\" />\n                }\n              >\n                <Button icon={<LineChartOutlined />} />\n              </Tooltip>\n            </Link>,\n            <Popconfirm\n              key=\"delete\"\n              title={\n                <FormattedMessage\n                  id=\"deleteQuestion\"\n                  defaultMessage=\"Are you sure to delete this record?\"\n                />\n              }\n              onConfirm={async () => {\n                const response = await deleteExam(record.id);\n\n                if (response.success && actionRef.current) {\n                  actionRef.current.reload();\n                }\n              }}\n              okText={<FormattedMessage id=\"yes\" />}\n              cancelText={<FormattedMessage id=\"no\" />}\n            >\n              <Tooltip title={<FormattedMessage id=\"delete\" defaultMessage=\"delete\" />}>\n                <Button type=\"primary\" icon={<DeleteOutlined />} danger />\n              </Tooltip>\n            </Popconfirm>,\n          ],\n        },\n      ]}\n    />\n  );\n};\n","import { DownloadOutlined } from '@ant-design/icons';\nimport type { ProColumns } from '@ant-design/pro-table';\nimport ProTable from '@ant-design/pro-table';\nimport { Button, Tooltip } from 'antd';\nimport { format } from 'date-fns';\nimport React, { useMemo } from 'react';\nimport { FormattedMessage } from 'umi';\n\nimport TypeButtonDrawer from '@/components/TypeButtonDrawer';\nimport UserSelect from '@/components/UserSelect';\nimport { DATETIME_FORMAT } from '@/consts/dates';\nimport { getPCGExportsHistory } from '@/services/escola-lms/pcg-export';\nimport { useTeacherSubject } from '../context';\nimport { TEACHER_SUBJECTS_PAGE_SIZE } from './consts';\n\nconst DownloadButton: React.FC<{ url: string }> = ({ url }) => (\n  <Tooltip title={<FormattedMessage id=\"download\" />}>\n    <Button\n      type=\"primary\"\n      onClick={() => {\n        window.open(url, '_blank', 'noopener noreferrer');\n      }}\n      icon={<DownloadOutlined />}\n    />\n  </Tooltip>\n);\n\nconst staticColumns: ProColumns<API.PCGFileExportsHistoryItem>[] = [\n  {\n    title: <FormattedMessage id=\"ID\" />,\n    dataIndex: 'id',\n    hideInSearch: true,\n  },\n  {\n    title: <FormattedMessage id=\"created_at\" />,\n    dataIndex: 'created_at',\n    hideInSearch: true,\n    render: (_n, record) => format(new Date(record.created_at), DATETIME_FORMAT),\n  },\n  {\n    title: <FormattedMessage id=\"created_by\" />,\n    dataIndex: 'created_by',\n    renderFormItem: (item, { type, defaultRender, ...rest }, form) => {\n      if (type === 'form') {\n        return null;\n      }\n      const stateType = form.getFieldValue('state');\n      return (\n        <UserSelect\n          {...rest}\n          state={{\n            type: stateType,\n          }}\n        />\n      );\n    },\n    render: (_n, record) => (\n      <TypeButtonDrawer\n        key={record.created_by.id}\n        type=\"EscolaLms\\Core\\Models\\User\"\n        type_id={record.created_by.id}\n        text={\n          record?.created_by?.first_name && record?.created_by?.last_name\n            ? `${record.created_by.first_name} ${record.created_by.last_name}`\n            : undefined\n        }\n      />\n    ),\n  },\n  {\n    title: <FormattedMessage id=\"exported_at\" />,\n    dataIndex: 'exported_at',\n    hideInSearch: true,\n    render: (_n, record) => format(new Date(record.exported_at), DATETIME_FORMAT),\n  },\n  {\n    title: <FormattedMessage id=\"exported_by\" />,\n    dataIndex: 'exported_by',\n    renderFormItem: (item, { type, defaultRender, ...rest }, form) => {\n      if (type === 'form') {\n        return null;\n      }\n      const stateType = form.getFieldValue('state');\n      return (\n        <UserSelect\n          {...rest}\n          state={{\n            type: stateType,\n          }}\n        />\n      );\n    },\n    render: (_n, record) => (\n      <TypeButtonDrawer\n        key={record.exported_by.id}\n        type=\"EscolaLms\\Core\\Models\\User\"\n        type_id={record.exported_by.id}\n        text={\n          record?.exported_by?.first_name && record?.exported_by?.last_name\n            ? `${record.exported_by.first_name} ${record.exported_by.last_name}`\n            : undefined\n        }\n      />\n    ),\n  },\n  {\n    title: <FormattedMessage id=\"version\" />,\n    dataIndex: 'version',\n    hideInSearch: true,\n  },\n  {\n    title: <FormattedMessage id=\"options\" />,\n    valueType: 'option',\n    render: (_n, record) => [<DownloadButton key=\"download\" url={record.url} />],\n  },\n];\n\nexport const FileExportsHistory: React.FC = () => {\n  const { teacherSubjectData } = useTeacherSubject();\n\n  const groupOptions = useMemo(\n    () => (teacherSubjectData?.groups ?? []).map(({ id, name }) => ({ value: id, label: name })),\n    [teacherSubjectData?.groups],\n  );\n\n  const columns: ProColumns<API.PCGFileExportsHistoryItem>[] = useMemo(\n    () => [\n      {\n        title: <FormattedMessage id=\"group\" />,\n        dataIndex: 'group_id',\n        hideInTable: true,\n        valueType: 'select',\n        fieldProps: {\n          options: groupOptions,\n          defaultValue: teacherSubjectData?.groups?.[0]?.id,\n          allowClear: false,\n        },\n      },\n      ...staticColumns,\n    ],\n    [teacherSubjectData?.groups?.[0]?.id, groupOptions],\n  );\n\n  return (\n    <ProTable<API.PCGFileExportsHistoryItem, API.PCGFileExportsHistoryParams>\n      className=\"table-standalone\"\n      request={async ({\n        group_id = teacherSubjectData?.groups?.[0]?.id,\n        created_by,\n        exported_by,\n      }) => {\n        const response = await getPCGExportsHistory({ group_id, created_by, exported_by });\n\n        if (!response.success) {\n          return { success: false, data: [], total: 0 };\n        }\n\n        return { success: true, data: response.data, total: response.data.length };\n      }}\n      columns={columns}\n      search={{ layout: 'vertical' }}\n      scroll={{ x: 1500 }}\n      pagination={{ defaultPageSize: TEACHER_SUBJECTS_PAGE_SIZE }}\n    />\n  );\n};\n","import { getFlatTopics } from '@/components/ProgramForm/Context';\nimport { groupAttendanceSchedule } from '@/services/escola-lms/attendances';\nimport { course, getCourseStats, program } from '@/services/escola-lms/course';\nimport { getExams } from '@/services/escola-lms/exams';\nimport {\n  getGradeTerms,\n  getSubjectGradeScales,\n  getSubjectTutorGrades,\n  getUserFinalGrades,\n  removeFinalGrade,\n} from '@/services/escola-lms/grades';\nimport type React from 'react';\nimport { useCallback, useEffect, useState } from 'react';\nimport type { FetchedData, StudentExam } from './types';\nimport { getScalesBySubjectScaleFormId, getStudentExamsFromExams } from './utils';\n\ntype SetLoading = (loading: boolean) => void;\n\nfunction setLoadingFactory<T>(\n  setter: React.Dispatch<React.SetStateAction<FetchedData<T>>>,\n): SetLoading {\n  return function setLoading(loading) {\n    setter((prev) => ({ ...prev, loading }));\n  };\n}\n\nasync function withLoading<T>(setLoading: SetLoading, promiseCb: () => Promise<T>) {\n  setLoading(true);\n  try {\n    return promiseCb();\n  } finally {\n    setLoading(false);\n  }\n}\n\nexport function useFinalGrades(group_id: number, user_id: number) {\n  const [finalGrades, setFinalGrades] = useState<FetchedData<API.FinalGradeItem>>({\n    loading: false,\n  });\n\n  const setLoading = useCallback(setLoadingFactory(setFinalGrades), []);\n\n  const fetchFinalGrades = useCallback(async () => {\n    const res = await getUserFinalGrades(group_id, user_id);\n    if (!res.success) return res;\n\n    setFinalGrades((prev) => ({ ...prev, data: res.data }));\n    return res;\n  }, [user_id, group_id]);\n\n  const deleteFinalGrade = useCallback(\n    (final_grade_id: number) =>\n      withLoading(setLoading, () => removeFinalGrade(final_grade_id).then(fetchFinalGrades)),\n    [fetchFinalGrades],\n  );\n\n  useEffect(() => {\n    withLoading(setLoading, fetchFinalGrades);\n  }, [fetchFinalGrades]);\n\n  return { finalGrades, deleteFinalGrade };\n}\n\nexport function useGradeTerms() {\n  const [gradeTerms, setGradeTerms] = useState<FetchedData<API.GradeTerm[]>>({ loading: false });\n\n  useEffect(() => {\n    setGradeTerms((prev) => ({ ...prev, loading: true }));\n    getGradeTerms()\n      .then((response) => {\n        if (response.success) {\n          setGradeTerms((prev) => ({ ...prev, data: response.data }));\n        }\n      })\n      .finally(() => {\n        setGradeTerms((prev) => ({ ...prev, loading: false }));\n      });\n  }, []);\n\n  return { gradeTerms };\n}\n\nexport function useSubjectGradeScales(s_subject_scale_form_id: number | undefined) {\n  const [subjectGradeScales, setSubjectGradeScales] = useState<\n    FetchedData<API.SubjectGradeScale[]>\n  >({\n    loading: false,\n  });\n\n  useEffect(() => {\n    if (s_subject_scale_form_id === undefined) return;\n\n    setSubjectGradeScales((prev) => ({ ...prev, loading: true }));\n    getSubjectGradeScales(s_subject_scale_form_id)\n      .then((response) => {\n        if (response.success) {\n          setSubjectGradeScales((prev) => ({ ...prev, data: response.data }));\n        }\n      })\n      .finally(() => {\n        setSubjectGradeScales((prev) => ({ ...prev, loading: false }));\n      });\n  }, [s_subject_scale_form_id]);\n\n  return { subjectGradeScales };\n}\n\nexport function useTutorGradeScales(\n  semester_subject_id: number | undefined | null,\n  tutor_id: number | undefined | null,\n  s_subject_scale_form_id: number | undefined | null,\n) {\n  const [tutorGradeScales, setTutorGradeScales] = useState<FetchedData<API.GradeScale[]>>({\n    loading: false,\n  });\n\n  useEffect(() => {\n    if (\n      typeof semester_subject_id !== 'number' ||\n      typeof tutor_id !== 'number' ||\n      typeof s_subject_scale_form_id !== 'number'\n    )\n      return;\n\n    setTutorGradeScales((prev) => ({ ...prev, loading: true }));\n    getSubjectTutorGrades(semester_subject_id, tutor_id)\n      .then((response) => {\n        if (response.success) {\n          setTutorGradeScales((prev) => ({\n            ...prev,\n            data: getScalesBySubjectScaleFormId(\n              s_subject_scale_form_id,\n              response.data.grade_scale ?? [],\n            )?.map((v, i) => ({ ...v, id: i })),\n          }));\n        }\n      })\n      .finally(() => {\n        setTutorGradeScales((prev) => ({ ...prev, loading: false }));\n      });\n  }, [semester_subject_id, tutor_id]);\n\n  return { tutorGradeScales };\n}\n\nexport function useUserAttendanceSchedules(group_id: number, user_id: number) {\n  const [userAttendanceSchedules, setUserAttendanceSchedules] = useState<\n    FetchedData<API.UserAttendanceSchedule[]>\n  >({ loading: false });\n\n  const fetchUserAttendanceSchedules = useCallback(() => {\n    setUserAttendanceSchedules((prev) => ({ ...prev, loading: true }));\n    groupAttendanceSchedule(group_id)\n      .then((response) => {\n        if (response.success) {\n          const filteredSchedules = response.data.reduce<API.UserAttendanceSchedule[]>(\n            (acc, { attendances, ...rest }) => {\n              const attendance = attendances.find(\n                (attendanceItem) => attendanceItem.user_id === user_id,\n              );\n\n              if (!attendance) return acc;\n\n              return [...acc, { ...rest, attendance }];\n            },\n            [],\n          );\n\n          setUserAttendanceSchedules((prev) => ({ ...prev, data: filteredSchedules }));\n        }\n      })\n      .finally(() => {\n        setUserAttendanceSchedules((prev) => ({ ...prev, loading: false }));\n      });\n  }, [group_id, user_id]);\n\n  useEffect(() => {\n    fetchUserAttendanceSchedules();\n  }, [fetchUserAttendanceSchedules]);\n\n  return { userAttendanceSchedules, fetchUserAttendanceSchedules };\n}\n\nexport function useStudentExams(student_id: number, semester_subject_id: number | null) {\n  const [studentExams, setStudentExams] = useState<FetchedData<StudentExam[]>>({ loading: false });\n\n  useEffect(() => {\n    if (!semester_subject_id) return;\n    setStudentExams((prev) => ({ ...prev, loading: true }));\n    getExams({ student_id, semester_subject_id })\n      .then((response) => {\n        if (response.success) {\n          const data = getStudentExamsFromExams(response.data, student_id);\n\n          setStudentExams((prev) => ({ ...prev, data }));\n        }\n      })\n      .finally(() => {\n        setStudentExams((prev) => ({ ...prev, loading: false }));\n      });\n  }, [student_id, semester_subject_id]);\n\n  return { studentExams };\n}\n\nexport function useUserCoursesStats(group_id: number, user_id: number) {\n  const [userCourses, setUserCourses] = useState<FetchedData<API.Course[]>>({\n    loading: false,\n  });\n  const [userCoursesStats, setUserCoursesStats] = useState<\n    FetchedData<\n      Record<\n        string,\n        { finishedTopics: API.FinishedTopicsUserStats[]; attendanceList: API.CourseAttempts[] }\n      >\n    >\n  >({ loading: false });\n  const [userCoursesTopics, setUserCoursesTopics] = useState<\n    FetchedData<Record<string, API.Topic[]>>\n  >({ loading: false });\n\n  useEffect(() => {\n    setUserCourses((prev) => ({ ...prev, loading: true }));\n    course({ group_id })\n      .then((response) => {\n        if (response.success) {\n          setUserCourses((prev) => ({ ...prev, data: response.data }));\n        }\n      })\n      .finally(() => {\n        setUserCourses((prev) => ({ ...prev, loading: false }));\n      });\n  }, [group_id]);\n\n  useEffect(() => {\n    if (!userCourses.data) return;\n\n    setUserCoursesTopics((prev) => ({ ...prev, loading: true }));\n    Promise.all(userCourses.data.map(({ id }) => program(Number(id))))\n      .then((responses) => {\n        responses.forEach((response) => {\n          if (response.success) {\n            setUserCoursesTopics((prev) => ({\n              ...prev,\n              data: {\n                ...prev.data,\n                [Number(response.data.id)]: getFlatTopics(response.data.lessons),\n              },\n            }));\n          }\n        });\n      })\n      .finally(() => {\n        setUserCoursesTopics((prev) => ({ ...prev, loading: false }));\n      });\n\n    setUserCoursesStats((prev) => ({ ...prev, loading: true }));\n    Promise.all(\n      userCourses.data.map(({ id }) =>\n        getCourseStats(Number(id), [\n          'EscolaLms\\\\Reports\\\\Stats\\\\Course\\\\FinishedTopics',\n          'EscolaLms\\\\Reports\\\\Stats\\\\Course\\\\AttendanceList',\n        ]).then((response) => {\n          if (response.success) {\n            const finishedTopics = (\n              response.data['EscolaLms\\\\Reports\\\\Stats\\\\Course\\\\FinishedTopics'] ?? []\n            ).filter((userStat) => userStat.id === user_id);\n\n            const attendanceList =\n              response.data['EscolaLms\\\\Reports\\\\Stats\\\\Course\\\\AttendanceList'] ?? [];\n\n            setUserCoursesStats((prev) => ({\n              ...prev,\n              data: {\n                ...prev.data,\n                [Number(id)]: { finishedTopics, attendanceList },\n              },\n            }));\n          }\n        }),\n      ),\n    ).finally(() => setUserCoursesStats((prev) => ({ ...prev, loading: false })));\n  }, [userCourses.data, user_id]);\n\n  return { userCourses, userCoursesStats, userCoursesTopics };\n}\n","import { DeleteOutlined } from '@ant-design/icons';\nimport ProForm, { ProFormSelect } from '@ant-design/pro-form';\nimport ProTable, { type ProColumns } from '@ant-design/pro-table';\nimport { Button, Col, Divider, Popconfirm, Row, Spin, Tooltip, Typography, message } from 'antd';\nimport { format } from 'date-fns';\nimport React, { useCallback, useMemo } from 'react';\nimport { FormattedMessage, history } from 'umi';\n\nimport AttendanceCheckbox from '@/components/AttendanceCheckbox';\nimport { UserCourseAttempts, UserProgress } from '@/components/CourseStatistics/userProgress';\nimport { DAY_FORMAT } from '@/consts/dates';\nimport { createFinalGrade, updateFinalGrade } from '@/services/escola-lms/grades';\nimport { useTeacherSubject } from '../../context';\nimport {\n  useFinalGrades,\n  useGradeTerms,\n  useStudentExams,\n  useSubjectGradeScales,\n  useTutorGradeScales,\n  useUserAttendanceSchedules,\n  useUserCoursesStats,\n} from './hooks';\nimport type { StudentExam } from './types';\nimport { getProposedGrade } from './utils';\n\ninterface Props {\n  user_id: number;\n  group_id: number;\n}\n\ninterface FormData {\n  grade_term_id: number;\n  grade_scale_id: number;\n}\n\ntype FinalGradeTableItem = API.GradeTerm & { grade?: API.FinalGradeItemGrade };\n\nconst tutorGradeScalesColumns: ProColumns<API.GradeScale>[] = [\n  {\n    title: <FormattedMessage id=\"grade\" />,\n    dataIndex: 'grade',\n  },\n  {\n    title: <FormattedMessage id=\"degree\" />,\n    dataIndex: 'name',\n  },\n  {\n    title: <FormattedMessage id=\"min_percent\" />,\n    dataIndex: 'grade_value',\n    valueType: 'percent',\n  },\n];\n\nconst userAttendanceColumns: ProColumns<API.UserAttendanceSchedule>[] = [\n  {\n    title: <FormattedMessage id=\"date\" />,\n    dataIndex: 'date_from',\n    render: (_n, row) => format(new Date(row.date_from), DAY_FORMAT),\n  },\n];\n\nconst studentExamsColumns: ProColumns<StudentExam>[] = [\n  {\n    title: <FormattedMessage id=\"name\" />,\n    dataIndex: 'title',\n  },\n  {\n    title: <FormattedMessage id=\"TeacherSubjects.Exams.grade_weight\" defaultMessage=\"Weight\" />,\n    dataIndex: 'weight',\n    valueType: 'percent',\n  },\n  {\n    title: <FormattedMessage id=\"created_at\" defaultMessage=\"Created at\" />,\n    dataIndex: 'created_at',\n    render: (_n, row) => format(new Date(row.created_at), DAY_FORMAT),\n  },\n  {\n    title: <FormattedMessage id=\"grade\" />,\n    dataIndex: 'result',\n    render: (_n, row) => `${row.result.result} ${row.weight ? '%' : ''}`,\n  },\n];\n\nconst staticFinalGradesColumns: ProColumns<FinalGradeTableItem>[] = [\n  {\n    title: <FormattedMessage id=\"name\" />,\n    dataIndex: 'name',\n  },\n  {\n    title: <FormattedMessage id=\"issued_at\" />,\n    dataIndex: 'grade',\n    render: (_n, row) =>\n      row.grade?.grade_date ? format(new Date(row.grade?.grade_date), DAY_FORMAT) : '-',\n  },\n  {\n    title: <FormattedMessage id=\"grade\" />,\n    dataIndex: 'grade',\n    render: (_n, row) => row.grade?.grade_name ?? '-',\n  },\n];\n\nconst TABLE_PAGE_SIZE = 6;\n\nexport const FinalGradesDetails: React.FC<Props> = ({ user_id, group_id }) => {\n  const { semester_subject_id } = useTeacherSubject();\n  const { studentExams } = useStudentExams(user_id, semester_subject_id);\n  const { finalGrades, deleteFinalGrade } = useFinalGrades(group_id, user_id);\n  const { gradeTerms } = useGradeTerms();\n  const { subjectGradeScales } = useSubjectGradeScales(finalGrades.data?.s_subject_scale_form_id);\n  const { tutorGradeScales } = useTutorGradeScales(\n    semester_subject_id,\n    finalGrades.data?.tutor_id,\n    finalGrades.data?.s_subject_scale_form_id,\n  );\n  const { userAttendanceSchedules, fetchUserAttendanceSchedules } = useUserAttendanceSchedules(\n    group_id,\n    user_id,\n  );\n  const { userCourses, userCoursesStats, userCoursesTopics } = useUserCoursesStats(\n    group_id,\n    user_id,\n  );\n\n  const [form] = ProForm.useForm<FormData>();\n\n  const gradeTermsSelectOptions = useMemo(\n    () => (gradeTerms.data ?? []).map(({ id, name }) => ({ label: name, value: id })),\n    [gradeTerms.data],\n  );\n\n  const gradesSelectOptions = useMemo(\n    () =>\n      (subjectGradeScales.data ?? []).map(({ name, id }) => ({\n        label: name,\n        value: id,\n      })),\n    [subjectGradeScales.data],\n  );\n\n  const proposedGrade = useMemo(\n    () => getProposedGrade(studentExams.data ?? [], tutorGradeScales.data ?? []),\n    [studentExams.data, tutorGradeScales.data],\n  );\n\n  const onFinalGradeSubmit = useCallback(\n    async ({ grade_scale_id, grade_term_id }: FormData) => {\n      if (finalGrades.data?.id === undefined) return;\n\n      const existingFinalGrade = finalGrades.data?.grades.find(\n        ({ grade_term }) => grade_term.id === grade_term_id,\n      );\n\n      if (existingFinalGrade) {\n        const response = await updateFinalGrade(existingFinalGrade.id, { grade_scale_id });\n\n        message[response.success ? 'success' : 'error'](response.message);\n        if (response.success) {\n          history.push(`/teacher/subjects/${semester_subject_id}/final-grades`);\n        }\n        return;\n      }\n\n      const response = await createFinalGrade({\n        grade_scale_id,\n        grade_term_id,\n        lesson_group_user_id: finalGrades.data.id,\n      });\n\n      message[response.success ? 'success' : 'error'](response.message);\n\n      if (response.success) {\n        history.push(`/teacher/subjects/${semester_subject_id}/final-grades`);\n      }\n    },\n    [finalGrades.data, semester_subject_id],\n  );\n\n  const finalGradesColumns: ProColumns<FinalGradeTableItem>[] = useMemo(\n    () => [\n      ...staticFinalGradesColumns,\n      {\n        title: <FormattedMessage id=\"options\" defaultMessage=\"options\" />,\n        dataIndex: 'option',\n        valueType: 'option',\n        render: (_n, record) =>\n          typeof record?.grade?.id === 'number'\n            ? [\n                <Popconfirm\n                  key=\"delete\"\n                  title={\n                    <FormattedMessage\n                      id=\"deleteQuestion\"\n                      defaultMessage=\"Are you sure to delete this record?\"\n                    />\n                  }\n                  onConfirm={() => deleteFinalGrade(record.grade!.id)}\n                  okText={<FormattedMessage id=\"yes\" defaultMessage=\"Yes\" />}\n                  cancelText={<FormattedMessage id=\"no\" defaultMessage=\"No\" />}\n                >\n                  <Tooltip title={<FormattedMessage id=\"delete\" defaultMessage=\"delete\" />}>\n                    <Button type=\"primary\" icon={<DeleteOutlined />} danger />\n                  </Tooltip>\n                </Popconfirm>,\n              ]\n            : [],\n      },\n    ],\n    [],\n  );\n\n  const finalGradesTableData: FinalGradeTableItem[] = useMemo(\n    () =>\n      (gradeTerms.data ?? []).map((term) => ({\n        ...term,\n        grade: finalGrades.data?.grades.find(({ grade_term }) => grade_term.id === term.id),\n      })),\n    [finalGrades.data, gradeTerms.data],\n  );\n\n  const areStatisticsLoading =\n    (userCourses.loading && !userCourses.data) ||\n    (userCoursesStats.loading && !userCoursesStats.data) ||\n    (userCoursesTopics.loading && !userCoursesTopics.data);\n\n  const isStatisticDataPresent = Boolean(\n    userCourses.data && userCoursesStats.data && userCoursesTopics.data,\n  );\n\n  if (finalGrades.loading) {\n    return <Spin />;\n  }\n\n  return (\n    <>\n      {finalGrades.data && (\n        <>\n          <Typography.Text style={{ fontSize: '16px', fontWeight: 500 }}>\n            <FormattedMessage\n              id=\"TeacherSubjects.FinalGrades.Student\"\n              values={finalGrades.data.user}\n            />\n          </Typography.Text>\n          <Divider />\n        </>\n      )}\n      <Row gutter={[48, 48]} justify=\"space-between\">\n        <Col span={12}>\n          <ProTable\n            rowKey=\"id\"\n            headerTitle={<FormattedMessage id=\"TeacherSubjects.FinalGrades.StudentPartialGrades\" />}\n            search={false}\n            pagination={{ pageSize: TABLE_PAGE_SIZE }}\n            dataSource={studentExams.data}\n            loading={studentExams.loading}\n            columns={studentExamsColumns}\n            options={false}\n            cardProps={{ bodyStyle: { padding: 0 } }}\n          />\n        </Col>\n        <Col span={12}>\n          <ProTable\n            rowKey=\"id\"\n            headerTitle={<FormattedMessage id=\"TeacherSubjects.FinalGrades.FinalGrades\" />}\n            search={false}\n            pagination={{ pageSize: TABLE_PAGE_SIZE }}\n            dataSource={finalGradesTableData}\n            loading={finalGrades.loading || gradeTerms.loading}\n            columns={finalGradesColumns}\n            options={false}\n            cardProps={{ bodyStyle: { padding: 0 } }}\n          />\n        </Col>\n        <Col span={12}>\n          <ProTable<API.UserAttendanceSchedule>\n            rowKey=\"id\"\n            headerTitle={<FormattedMessage id=\"TeacherSubjects.FinalGrades.Attendances\" />}\n            search={false}\n            options={false}\n            pagination={{ pageSize: TABLE_PAGE_SIZE }}\n            cardProps={{ bodyStyle: { padding: 0 } }}\n            dataSource={userAttendanceSchedules.data}\n            loading={userAttendanceSchedules.loading}\n            columns={[\n              ...userAttendanceColumns,\n              {\n                title: <FormattedMessage id=\"TeacherSubjects.FinalGrades.Attendance\" />,\n                dataIndex: 'attendance',\n                render: (_n, row) => (\n                  <AttendanceCheckbox\n                    groupAttendanceScheduleId={row.id}\n                    studentId={user_id}\n                    attendance={row.attendance.value}\n                    onSuccess={fetchUserAttendanceSchedules}\n                  />\n                ),\n              },\n            ]}\n          />\n        </Col>\n        <Col span={12}>\n          <ProTable<API.GradeScale>\n            rowKey=\"id\"\n            headerTitle={<FormattedMessage id=\"TeacherSubjects.FinalGrades.GradesScale\" />}\n            search={false}\n            options={false}\n            pagination={{ pageSize: TABLE_PAGE_SIZE }}\n            cardProps={{ bodyStyle: { padding: 0 } }}\n            dataSource={tutorGradeScales.data}\n            loading={tutorGradeScales.loading}\n            columns={tutorGradeScalesColumns}\n          />\n        </Col>\n        {areStatisticsLoading && <Spin />}\n        {isStatisticDataPresent &&\n          userCourses.data?.map(({ id, title }) => (\n            <Col key={id} span={24}>\n              <Typography.Text style={{ fontSize: '16px', fontWeight: 500 }}>\n                {title}\n              </Typography.Text>\n              <UserProgress\n                course_id={Number(id)}\n                topics={userCoursesTopics.data?.[Number(id)] ?? []}\n                stats={userCoursesStats.data?.[Number(id)]?.finishedTopics ?? []}\n              />\n              <UserCourseAttempts\n                stats={userCoursesStats.data?.[Number(id)]?.attendanceList ?? []}\n              />\n            </Col>\n          ))}\n      </Row>\n      <ProForm<FormData> form={form} onFinish={onFinalGradeSubmit}>\n        <ProForm.Group\n          style={{ display: 'flex', flexDirection: 'column', paddingTop: '48px' }}\n          title={<FormattedMessage id=\"TeacherSubjects.FinalGrades.IssueAssessment\" />}\n          titleStyle={{ flex: 'unset' }}\n          align=\"center\"\n        >\n          <ProFormSelect\n            name=\"grade_term_id\"\n            rules={[{ required: true, message: <FormattedMessage id=\"field_required\" /> }]}\n            label={<FormattedMessage id=\"TeacherSubjects.FinalGrades.GradeTerm\" />}\n            options={gradeTermsSelectOptions}\n            width=\"sm\"\n            fieldProps={{ loading: gradeTerms.loading }}\n          />\n          <ProFormSelect\n            name=\"grade_scale_id\"\n            rules={[{ required: true, message: <FormattedMessage id=\"field_required\" /> }]}\n            label={<FormattedMessage id=\"TeacherSubjects.FinalGrades.FinalGrade\" />}\n            options={gradesSelectOptions}\n            fieldProps={{ loading: finalGrades.loading || subjectGradeScales.loading }}\n          />\n          <ProForm.Item>\n            <FormattedMessage\n              id=\"TeacherSubjects.FinalGrades.ProposedGrade\"\n              values={{ grade: proposedGrade }}\n            />\n          </ProForm.Item>\n        </ProForm.Group>\n      </ProForm>\n    </>\n  );\n};\n","import { EditOutlined } from '@ant-design/icons';\nimport type { ProColumns } from '@ant-design/pro-table';\nimport ProTable from '@ant-design/pro-table';\nimport { Button, Tooltip, Typography } from 'antd';\nimport React, { useMemo } from 'react';\nimport { FormattedMessage, Link, useLocation } from 'umi';\n\nimport TypeButtonDrawer from '@/components/TypeButtonDrawer';\nimport { getGroupFinalGrades } from '@/services/escola-lms/grades';\nimport { useTeacherSubject } from '../context';\nimport { FinalGradesDetails } from './FinalGradesDetails';\nimport { TEACHER_SUBJECTS_PAGE_SIZE } from './consts';\n\ninterface TableParams {\n  group_id?: number[];\n  first_name?: string;\n  last_name?: string;\n}\n\nconst staticColumns: ProColumns<API.FinalGradeItem>[] = [\n  {\n    title: <FormattedMessage id=\"first_name\" />,\n    dataIndex: 'first_name',\n    render: (_n, row) => row.user.first_name,\n  },\n  {\n    title: <FormattedMessage id=\"last_name\" />,\n    dataIndex: 'last_name',\n    render: (_n, row) => row.user.last_name,\n  },\n  {\n    title: <FormattedMessage id=\"grade\" />,\n    hideInSearch: true,\n    dataIndex: 'grades',\n    render: (_n, row) => (\n      <div style={{ display: 'flex', flexDirection: 'column', gap: '4px' }}>\n        {row.grades.length\n          ? row.grades.map(({ grade_name, grade_term, id }) => (\n              <Typography.Text key={id}>\n                {grade_term.name}: {grade_name}\n              </Typography.Text>\n            ))\n          : '-'}\n      </div>\n    ),\n  },\n];\n\nexport const FinalGradesList: React.FC = () => {\n  const location = useLocation();\n  const searchParams = new URLSearchParams(location.search);\n  const user_id = searchParams.get('user_id') ?? null;\n  const group_id = searchParams.get('group_id') ?? null;\n\n  const { teacherSubjectData, semester_subject_id } = useTeacherSubject();\n\n  const groupOptions = useMemo(\n    () => (teacherSubjectData?.groups ?? []).map(({ id, name }) => ({ label: name, value: id })),\n    [teacherSubjectData?.groups],\n  );\n\n  if (user_id !== null && group_id !== null) {\n    return <FinalGradesDetails user_id={Number(user_id)} group_id={Number(group_id)} />;\n  }\n\n  return (\n    <ProTable<API.FinalGradeItem, TableParams>\n      className=\"table-standalone\"\n      rowKey=\"id\"\n      search={{ layout: 'vertical' }}\n      pagination={{ defaultPageSize: TEACHER_SUBJECTS_PAGE_SIZE }}\n      request={async ({ group_id: group_ids = [], first_name = '', last_name = '' }) => {\n        const allGroups = (teacherSubjectData?.groups ?? []).map(({ id }) => id);\n\n        const response = await getGroupFinalGrades(group_ids.length === 0 ? allGroups : group_ids);\n\n        if (!response.success) {\n          return { success: false, total: 0, data: [] };\n        }\n\n        // TODO #1038 backend filter\n        const data = response.data.filter(\n          ({ user }) =>\n            user.first_name.toLowerCase().includes(first_name.toLowerCase()) &&\n            user.last_name.toLowerCase().includes(last_name.toLowerCase()),\n        );\n\n        return { success: true, total: data.length, data };\n      }}\n      columns={[\n        {\n          title: <FormattedMessage id=\"group\" />,\n          dataIndex: 'group_id',\n          valueType: 'select',\n          fieldProps: {\n            options: groupOptions,\n            mode: 'multiple',\n          },\n          render: (_n, row) => (\n            <TypeButtonDrawer key={row.group_id} type=\"Students\" type_id={row.group_id} />\n          ),\n        },\n        ...staticColumns,\n        {\n          title: <FormattedMessage id=\"options\" />,\n          hideInSearch: true,\n          render: (_n, row) => [\n            <Link\n              key=\"edit\"\n              to={`/teacher/subjects/${semester_subject_id}/final-grades?user_id=${row.user.id}&group_id=${row.group_id}`}\n            >\n              <Tooltip title={<FormattedMessage id=\"edit\" />}>\n                <Button type=\"primary\" icon={<EditOutlined />} />\n              </Tooltip>\n            </Link>,\n          ],\n        },\n      ]}\n    />\n  );\n};\n","import { CheckOutlined, EditOutlined } from '@ant-design/icons';\nimport ProForm from '@ant-design/pro-form';\nimport type { ActionType, ProColumns } from '@ant-design/pro-table';\nimport { EditableProTable } from '@ant-design/pro-table';\nimport { Button, Divider, Select, Spin, Typography } from 'antd';\nimport React, { useCallback, useEffect, useMemo, useRef, useState } from 'react';\nimport { FormattedMessage, useModel } from 'umi';\n\nimport { createSubjectTutorGrades, getSubjectTutorGrades } from '@/services/escola-lms/grades';\nimport { useTeacherSubject } from '../context';\n\ntype TableGradeScale = API.GradeScale & { id: string };\n\ninterface FormData {\n  table: TableGradeScale[];\n}\n\nconst staticColumns: ProColumns<TableGradeScale>[] = [\n  {\n    title: <FormattedMessage id=\"grade\" />,\n    dataIndex: 'grade',\n    editable: false,\n  },\n  {\n    title: <FormattedMessage id=\"degree\" />,\n    dataIndex: 'name',\n    editable: false,\n  },\n  {\n    title: <FormattedMessage id=\"min_percent\" />,\n    dataIndex: 'grade_value',\n    valueType: 'percent',\n    formItemProps: {\n      rules: [\n        {\n          required: true,\n          message: <FormattedMessage id=\"field_required\" />,\n        },\n        {\n          type: 'number',\n          min: 0,\n          max: 100,\n          message: <FormattedMessage id=\"number_between\" values={{ min: 0, max: 100 }} />,\n        },\n      ],\n    },\n  },\n];\n\ninterface GradeScaleTableProps {\n  subjectTutorGradeScale: API.SubjectTutorGradeScale;\n  onFormSubmit: (formData: FormData) => Promise<void>;\n}\n\nconst GradeScaleTable: React.FC<GradeScaleTableProps> = ({\n  subjectTutorGradeScale,\n  onFormSubmit,\n}) => {\n  const [editableKeys, setEditableKeys] = useState<React.Key[]>([]);\n  const actionRef = useRef<ActionType>();\n\n  const [form] = ProForm.useForm<FormData>();\n\n  useEffect(() => {\n    const gradeScaleWithIds = (subjectTutorGradeScale.scale ?? []).map((values, i) => ({\n      ...values,\n      id: String((i + 1) * 100),\n    }));\n\n    form.setFieldValue('table', gradeScaleWithIds);\n  }, []);\n\n  return (\n    <ProForm<FormData>\n      form={form}\n      onFinish={onFormSubmit}\n      submitter={{ render: (_p, [, submit]) => [submit] }}\n    >\n      <EditableProTable<TableGradeScale>\n        name=\"table\"\n        rowKey=\"id\"\n        actionRef={actionRef}\n        formItemProps={{ label: <FormattedMessage id=\"grades-scale\" /> }}\n        cardProps={{ bodyStyle: { padding: 0 } }}\n        recordCreatorProps={false}\n        columns={[\n          ...staticColumns,\n          {\n            title: <FormattedMessage id=\"options\" />,\n            valueType: 'option',\n            render: (_n, row) => (\n              <Button\n                type=\"primary\"\n                onClick={() => actionRef.current?.startEditable(row.id)}\n                icon={<EditOutlined />}\n              />\n            ),\n          },\n        ]}\n        editable={{\n          form,\n          type: 'multiple',\n          editableKeys,\n          saveText: <Button type=\"primary\" icon={<CheckOutlined />} />,\n          onChange: setEditableKeys,\n          actionRender: (_r, _c, dom) => [dom.save],\n        }}\n      />\n    </ProForm>\n  );\n};\n\nexport const GradesScale: React.FC = () => {\n  const { initialState } = useModel('@@initialState');\n  const { semester_subject_id, tutors } = useTeacherSubject();\n\n  const [subjectTutorGrades, setSubjectTutorGrades] = useState<API.SubjectTutorGrades>();\n  const [loading, setLoading] = useState(false);\n  const [selectedTutor, setSelectedTutor] = useState<number | null>(null);\n\n  const tutorViewing = useMemo(\n    () => !!tutors.data.find(({ id }) => id === initialState?.currentUser?.id),\n    [tutors.data, initialState?.currentUser?.id],\n  );\n  const tutorsSelectOptions = useMemo(\n    () =>\n      tutors.data.map(({ id, first_name, last_name }) => ({\n        label: `${first_name} ${last_name}`,\n        value: id,\n      })),\n    [tutors.data],\n  );\n\n  const refreshSubjectTutorGrades = useCallback(() => {\n    if (semester_subject_id === null || selectedTutor === null) return;\n\n    setLoading(true);\n    setSubjectTutorGrades(undefined);\n    getSubjectTutorGrades(semester_subject_id, selectedTutor)\n      .then((response) => {\n        if (response.success) {\n          setSubjectTutorGrades(response.data);\n        }\n      })\n      .finally(() => {\n        setLoading(false);\n      });\n  }, [semester_subject_id, selectedTutor]);\n\n  const onFormSubmitFactory = useCallback(\n    (subjectTutorGradeScales: API.SubjectTutorGradeScale[], s_subject_scale_form_id: number) =>\n      async (formData: FormData) => {\n        if (semester_subject_id === null || selectedTutor === null) return;\n\n        const grade_scale = subjectTutorGradeScales.reduce<API.SubjectTutorGradeScale[]>(\n          (acc, tutorGradeScale) =>\n            tutorGradeScale.s_subject_scale_form_id === s_subject_scale_form_id\n              ? [\n                  ...acc,\n                  {\n                    s_subject_scale_form_id,\n                    scale: formData.table.map(({ name, grade, grade_value }) => ({\n                      name,\n                      grade,\n                      grade_value,\n                    })),\n                  },\n                ]\n              : [...acc, tutorGradeScale],\n          [],\n        );\n\n        const res = await createSubjectTutorGrades(semester_subject_id, selectedTutor, {\n          grade_scale,\n        });\n\n        if (res.success) {\n          refreshSubjectTutorGrades();\n        }\n      },\n    [selectedTutor, semester_subject_id],\n  );\n\n  useEffect(() => {\n    if (!tutorViewing || !initialState?.currentUser?.id) {\n      if (tutors.data?.[0]) {\n        setSelectedTutor(tutors.data?.[0].id);\n      }\n      return;\n    }\n\n    setSelectedTutor(initialState?.currentUser?.id);\n  }, [initialState?.currentUser?.id, tutorViewing]);\n\n  useEffect(() => {\n    refreshSubjectTutorGrades();\n  }, [refreshSubjectTutorGrades]);\n\n  if (tutors.loading) {\n    return <Spin />;\n  }\n\n  return (\n    <>\n      <ProForm.Item label={<FormattedMessage id=\"menu.Teacher\" />}>\n        <Select\n          disabled={tutorViewing}\n          placeholder={<FormattedMessage id=\"select\" />}\n          options={tutorsSelectOptions}\n          value={selectedTutor}\n          onChange={(v) => setSelectedTutor(v)}\n        />\n      </ProForm.Item>\n      <Divider />\n      {loading && !subjectTutorGrades && <Spin />}\n      {subjectTutorGrades?.grade_scale ? (\n        subjectTutorGrades.grade_scale.map((subjectTutorGradeScale, i) => (\n          <React.Fragment key={subjectTutorGradeScale.s_subject_scale_form_id}>\n            {i > 0 && <Divider />}\n            <GradeScaleTable\n              subjectTutorGradeScale={subjectTutorGradeScale}\n              onFormSubmit={onFormSubmitFactory(\n                subjectTutorGrades.grade_scale ?? [],\n                subjectTutorGradeScale.s_subject_scale_form_id,\n              )}\n            />\n          </React.Fragment>\n        ))\n      ) : (\n        <Typography.Paragraph style={{ textAlign: 'center' }}>\n          <FormattedMessage id=\"gradesScalesMissing\" />\n        </Typography.Paragraph>\n      )}\n    </>\n  );\n};\n","import moment from 'moment';\nimport { noteOnce } from \"rc-util/es/warning\";\nvar generateConfig = {\n  // get\n  getNow: function getNow() {\n    return moment();\n  },\n  getFixedDate: function getFixedDate(string) {\n    return moment(string, 'YYYY-MM-DD');\n  },\n  getEndDate: function getEndDate(date) {\n    var clone = date.clone();\n    return clone.endOf('month');\n  },\n  getWeekDay: function getWeekDay(date) {\n    var clone = date.clone().locale('en_US');\n    return clone.weekday() + clone.localeData().firstDayOfWeek();\n  },\n  getYear: function getYear(date) {\n    return date.year();\n  },\n  getMonth: function getMonth(date) {\n    return date.month();\n  },\n  getDate: function getDate(date) {\n    return date.date();\n  },\n  getHour: function getHour(date) {\n    return date.hour();\n  },\n  getMinute: function getMinute(date) {\n    return date.minute();\n  },\n  getSecond: function getSecond(date) {\n    return date.second();\n  },\n  getMillisecond: function getMillisecond(date) {\n    return date.millisecond();\n  },\n  // set\n  addYear: function addYear(date, diff) {\n    var clone = date.clone();\n    return clone.add(diff, 'year');\n  },\n  addMonth: function addMonth(date, diff) {\n    var clone = date.clone();\n    return clone.add(diff, 'month');\n  },\n  addDate: function addDate(date, diff) {\n    var clone = date.clone();\n    return clone.add(diff, 'day');\n  },\n  setYear: function setYear(date, year) {\n    var clone = date.clone();\n    return clone.year(year);\n  },\n  setMonth: function setMonth(date, month) {\n    var clone = date.clone();\n    return clone.month(month);\n  },\n  setDate: function setDate(date, num) {\n    var clone = date.clone();\n    return clone.date(num);\n  },\n  setHour: function setHour(date, hour) {\n    var clone = date.clone();\n    return clone.hour(hour);\n  },\n  setMinute: function setMinute(date, minute) {\n    var clone = date.clone();\n    return clone.minute(minute);\n  },\n  setSecond: function setSecond(date, second) {\n    var clone = date.clone();\n    return clone.second(second);\n  },\n  setMillisecond: function setMillisecond(date, millisecond) {\n    var clone = date.clone();\n    return clone.millisecond(millisecond);\n  },\n  // Compare\n  isAfter: function isAfter(date1, date2) {\n    return date1.isAfter(date2);\n  },\n  isValidate: function isValidate(date) {\n    return date.isValid();\n  },\n  locale: {\n    getWeekFirstDay: function getWeekFirstDay(locale) {\n      var date = moment().locale(locale);\n      return date.localeData().firstDayOfWeek();\n    },\n    getWeekFirstDate: function getWeekFirstDate(locale, date) {\n      var clone = date.clone();\n      var result = clone.locale(locale);\n      return result.weekday(0);\n    },\n    getWeek: function getWeek(locale, date) {\n      var clone = date.clone();\n      var result = clone.locale(locale);\n      return result.week();\n    },\n    getShortWeekDays: function getShortWeekDays(locale) {\n      var date = moment().locale(locale);\n      return date.localeData().weekdaysMin();\n    },\n    getShortMonths: function getShortMonths(locale) {\n      var date = moment().locale(locale);\n      return date.localeData().monthsShort();\n    },\n    format: function format(locale, date, _format) {\n      var clone = date.clone();\n      var result = clone.locale(locale);\n      return result.format(_format);\n    },\n    parse: function parse(locale, text, formats) {\n      var fallbackFormatList = [];\n      for (var i = 0; i < formats.length; i += 1) {\n        var format = formats[i];\n        var formatText = text;\n        if (format.includes('wo') || format.includes('Wo')) {\n          format = format.replace(/wo/g, 'w').replace(/Wo/g, 'W');\n          var matchFormat = format.match(/[-YyMmDdHhSsWwGg]+/g);\n          var matchText = formatText.match(/[-\\d]+/g);\n          if (matchFormat && matchText) {\n            format = matchFormat.join('');\n            formatText = matchText.join('');\n          } else {\n            fallbackFormatList.push(format.replace(/o/g, ''));\n          }\n        }\n        var date = moment(formatText, format, locale, true);\n        if (date.isValid()) {\n          return date;\n        }\n      }\n\n      // Fallback to fuzzy matching, this should always not reach match or need fire a issue\n      for (var _i = 0; _i < fallbackFormatList.length; _i += 1) {\n        var _date = moment(text, fallbackFormatList[_i], locale, false);\n\n        /* istanbul ignore next */\n        if (_date.isValid()) {\n          noteOnce(false, 'Not match any format strictly and fallback to fuzzy match. Please help to fire a issue about this.');\n          return _date;\n        }\n      }\n      return null;\n    }\n  }\n};\nexport default generateConfig;","import type { AxiosRequestConfig } from '@umijs/max';\nimport { request } from 'umi';\n\nexport async function allSchedules(\n  params: API.PageParams &\n    API.PaginationParams & {\n      // query\n      semester_subject_id?: number | null;\n      date_form?: Date;\n      date_to?: Date;\n      group_id?: number;\n      term_status_id?: number;\n    },\n  options?: AxiosRequestConfig,\n) {\n  return request<API.ScheduleList>(`/api/admin/schedules`, {\n    params,\n    method: 'GET',\n    /* useCache: true */ useCache: false,\n    ...(options || {}),\n  });\n}\n","import { Badge, Button, Modal, Typography } from 'antd';\nimport generateCalendar from 'antd/es/calendar/generateCalendar';\nimport type { CalendarMode } from 'antd/lib/calendar/generateCalendar';\nimport type { Moment } from 'moment';\nimport moment from 'moment';\nimport momentGenerateConfig from 'rc-picker/es/generate/moment';\n\nimport React, { useCallback, useEffect, useMemo, useState } from 'react';\nimport { FormattedMessage } from 'umi';\n\nimport { DAYTIME_FORMAT } from '@/consts/dates';\nimport { allSchedules as fetchAllSchedules } from '@/services/escola-lms/schedules';\nimport { useTeacherSubject } from '../context';\nimport './index.css';\n\ninterface EventCalendarProps {\n  id: number;\n  title: string;\n  start: Date | string;\n  end: Date | string;\n  tutor_name: string;\n  tutor_email: string;\n  group: string;\n  semester: string;\n  subject: string;\n  ms_teams_join_url: string | null;\n}\n\nconst ScheduleCalendar = generateCalendar<Moment>(momentGenerateConfig);\n\nexport const Schedule: React.FC = () => {\n  const [selectedEvent, setSelectedEvent] = useState<EventCalendarProps | null>(null);\n  const [eventData, setEventData] = useState<API.ScheduleData[]>([]);\n  const { semester_subject_id } = useTeacherSubject();\n  const now = moment();\n\n  const events: EventCalendarProps[] = useMemo(\n    () =>\n      eventData.map((event) => ({\n        id: event.id,\n        title: `${event.group.name} (${event.term_status.name})`,\n        start: moment(event.date_from).toDate(),\n        end: moment(event.date_to).toDate(),\n        tutor_name: `${event.tutor.first_name} ${event.tutor.last_name}`,\n        tutor_email: event.tutor.email,\n        semester: event.semester.name,\n        group: event.group.name,\n        subject: event.subject.name,\n        ms_teams_join_url: event.ms_teams_join_url,\n      })),\n    [eventData],\n  );\n\n  const fetchEvents = useCallback(\n    (start: moment.Moment, end: moment.Moment) => {\n      fetchAllSchedules({\n        semester_subject_id: semester_subject_id,\n        date_form: start.toDate(),\n        date_to: end.toDate(),\n      }).then((response) => {\n        if (response.success) {\n          setEventData(response.data);\n        }\n      });\n    },\n    [semester_subject_id],\n  );\n\n  const handleEventClick = useCallback((event: EventCalendarProps) => {\n    setSelectedEvent(event);\n  }, []);\n\n  const handleModalClose = useCallback(() => {\n    setSelectedEvent(null);\n  }, []);\n\n  const checkDate = useCallback((date: moment.Moment) => {\n    if (date.isSame(now, 'day')) {\n      return 'warning';\n    }\n    return date.isAfter(now, 'day') ? 'success' : 'error';\n  }, []);\n\n  const dateCellRender = useCallback(\n    (date: moment.Moment) => {\n      const filteredEvents = events.filter((event) => moment(event.start).isSame(date, 'day'));\n\n      return (\n        <ul className=\"events\">\n          {filteredEvents.map((event) => (\n            <li key={event.id} onClick={() => handleEventClick(event)}>\n              <Badge status={checkDate(moment(event.start))} text={event.title} />\n            </li>\n          ))}\n        </ul>\n      );\n    },\n    [eventData],\n  );\n\n  const handlePanelChange = useCallback((date: moment.Moment, mode: CalendarMode) => {\n    const start = moment(date).startOf(mode).subtract(1, 'month');\n    const end = moment(date).endOf(mode).add(1, 'month');\n    fetchEvents(start, end);\n  }, []);\n\n  useEffect(() => {\n    const initialStartDate = moment().startOf('month');\n    const initialEndDate = moment().endOf('month');\n    fetchEvents(initialStartDate, initialEndDate);\n  }, []);\n  return (\n    <>\n      <Typography.Title level={4}>\n        <FormattedMessage id=\"schedule\" defaultMessage=\"Schedule\" />\n      </Typography.Title>\n\n      <ScheduleCalendar cellRender={dateCellRender} onPanelChange={handlePanelChange} />\n\n      <Modal\n        open={selectedEvent !== null}\n        title={`${selectedEvent?.subject}: ${selectedEvent?.title}`}\n        onCancel={handleModalClose}\n        footer={null}\n      >\n        <Typography.Paragraph>\n          <FormattedMessage id=\"tutorName\" defaultMessage=\"Tutor\" />: {selectedEvent?.tutor_name}\n        </Typography.Paragraph>\n        <Typography.Paragraph>\n          <FormattedMessage id=\"email\" defaultMessage=\"Email\" />: {selectedEvent?.tutor_email}\n        </Typography.Paragraph>\n        <Typography.Paragraph>\n          <FormattedMessage id=\"group\" defaultMessage=\"Group\" />: {selectedEvent?.group}\n        </Typography.Paragraph>\n        <Typography.Paragraph>\n          <FormattedMessage id=\"semester\" defaultMessage=\"Semester\" />: {selectedEvent?.semester}\n        </Typography.Paragraph>\n        <Typography.Paragraph>\n          <FormattedMessage id=\"started_at\" defaultMessage=\"Start date\" />:\n          {selectedEvent && moment(selectedEvent.start).format(DAYTIME_FORMAT)}\n        </Typography.Paragraph>\n        <Typography.Paragraph>\n          <FormattedMessage id=\"end_at\" defaultMessage=\"End date\" />:\n          {selectedEvent && moment(selectedEvent.end).format(DAYTIME_FORMAT)}\n        </Typography.Paragraph>\n        {selectedEvent?.ms_teams_join_url && (\n          <Typography.Paragraph>\n            <a\n              href={selectedEvent.ms_teams_join_url}\n              target=\"_blank\"\n              rel=\"noreferrer\"\n              key=\"teamsLink\"\n            >\n              <Button type=\"primary\">\n                <FormattedMessage id=\"msTeams\" />\n              </Button>\n            </a>\n          </Typography.Paragraph>\n        )}\n      </Modal>\n    </>\n  );\n};\n","import type { AxiosRequestConfig } from '@umijs/max';\nimport { request } from 'umi';\n\n/**  POST /api/admin/chats/ms-teams */\nexport async function createTeamsChat(\n  body: API.CreateTeamsChatRequest,\n  options?: AxiosRequestConfig,\n) {\n  return request<API.DefaultResponse<API.TeamsChat>>(`/api/admin/chats/ms-teams`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    data: body,\n    ...(options || {}),\n  });\n}\n","import { ExportOutlined } from '@ant-design/icons';\nimport { Button, Tooltip, message } from 'antd';\nimport React, { useCallback, useState } from 'react';\nimport { FormattedMessage } from 'umi';\n\nimport { createTeamsChat } from '@/services/escola-lms/chats';\n\ninterface Props {\n  student_id: number;\n}\n\nexport const CreateTeamsChatButton: React.FC<Props> = ({ student_id }) => {\n  const [loading, setLoading] = useState(false);\n\n  const onClick = useCallback(async () => {\n    setLoading(true);\n    const response = await createTeamsChat({ user_id: student_id });\n    if (!response.success) {\n      message.error(response.message);\n      setLoading(false);\n      return;\n    }\n\n    window.open(response.data.web_url, '_blank', 'noopener noreferrer');\n    setLoading(false);\n  }, []);\n\n  return (\n    <Tooltip title={<FormattedMessage id=\"msTeams\" defaultMessage=\"teams\" />}>\n      <Button loading={loading} type=\"primary\" icon={<ExportOutlined />} onClick={onClick} />\n    </Tooltip>\n  );\n};\n","import { getGroupFinalGrades as fetchGroupFinalGrades } from '@/services/escola-lms/grades';\nimport ProTable, { type ProColumns } from '@ant-design/pro-table';\nimport type { DefaultOptionType } from 'antd/lib/select';\nimport React, { useMemo } from 'react';\nimport { FormattedMessage } from 'umi';\n\nimport { allStudentsAndGroups as fetchAllStudentsAndGroups } from '@/services/escola-lms/student_user_groups';\nimport { useTeacherSubject } from '../context';\nimport { CreateTeamsChatButton } from './CreateTeamsChatButton';\nimport { TEACHER_SUBJECTS_PAGE_SIZE } from './consts';\n\ninterface TableDataProps {\n  group_id: number;\n  group_name: string;\n  user_id: number;\n  first_name: string;\n  last_name: string;\n  email: string;\n}\n\ninterface TableParams {\n  groups: number[];\n  first_name: string;\n  last_name: string;\n  email: string;\n}\n\nexport const TableColumns: ProColumns<TableDataProps>[] = [\n  {\n    title: <FormattedMessage id=\"ID\" defaultMessage=\"ID\" />,\n    dataIndex: 'user_id',\n    hideInSearch: true,\n    width: '80px',\n  },\n  {\n    title: <FormattedMessage id=\"first_name\" defaultMessage=\"First name\" />,\n    dataIndex: 'first_name',\n  },\n  {\n    title: <FormattedMessage id=\"last_name\" defaultMessage=\"Last name\" />,\n    dataIndex: 'last_name',\n  },\n  {\n    title: <FormattedMessage id=\"email\" defaultMessage=\"email\" />,\n    dataIndex: 'email',\n  },\n  {\n    title: <FormattedMessage id=\"groupName\" defaultMessage=\"Group name\" />,\n    dataIndex: 'group_name',\n    hideInSearch: true,\n  },\n];\n\nconst getGroupsOptions = (subjectGroups: API.SubjectGroups[]): DefaultOptionType[] =>\n  subjectGroups.map(({ id, name }) => ({\n    label: name,\n    value: id,\n  }));\n\nconst getTableData = (\n  studentUserGroups: API.StudentUserGroup[],\n  finalGrades: API.FinalGradeItem[],\n): TableDataProps[] =>\n  studentUserGroups.reduce<TableDataProps[]>((acc, curr) => {\n    if (!curr?.users) return acc;\n\n    const userTable = curr.users.reduce<TableDataProps[]>((innerAcc, currentUser) => {\n      const studentInFinalGrades = finalGrades.some((grade) => grade.user.id === currentUser.id);\n\n      return currentUser.academic_teacher_id !== null && !studentInFinalGrades\n        ? innerAcc\n        : [\n            ...innerAcc,\n            {\n              group_id: curr.id,\n              group_name: curr.name,\n              user_id: currentUser.id,\n              first_name: currentUser.first_name,\n              last_name: currentUser.last_name,\n              email: currentUser.email,\n            },\n          ];\n    }, []);\n\n    return [...acc, ...userTable];\n  }, []);\n\nexport const Students: React.FC = () => {\n  const { teacherSubjectData } = useTeacherSubject();\n\n  const groupOptions = useMemo(\n    () => getGroupsOptions(teacherSubjectData?.groups ?? []),\n    [teacherSubjectData?.groups],\n  );\n\n  return (\n    <ProTable<TableDataProps, TableParams>\n      className=\"table-standalone\"\n      rowKey={(record) => `${record.group_id}-${record.user_id}`}\n      search={{ layout: 'vertical' }}\n      pagination={{ defaultPageSize: TEACHER_SUBJECTS_PAGE_SIZE }}\n      request={async ({ groups, first_name = '', last_name = '', email = '' }) => {\n        const response = await fetchAllStudentsAndGroups({\n          parent_id: teacherSubjectData?.group_id,\n          id: groups,\n        });\n\n        if (!response.success) {\n          return { data: [], total: 0, success: false };\n        }\n\n        const finalGradesRes = await fetchGroupFinalGrades(response.data.map((group) => group.id));\n        if (!finalGradesRes.success) {\n          return { data: [], success: false };\n        }\n\n        const tableData = getTableData(response.data, finalGradesRes.data).filter(\n          (record) =>\n            record.first_name.toLowerCase().includes(first_name.toLowerCase()) &&\n            record.last_name.toLowerCase().includes(last_name.toLowerCase()) &&\n            record.email.toLowerCase().includes(email.toLowerCase()),\n        );\n\n        return { data: tableData, total: tableData.length, success: true };\n      }}\n      columns={[\n        {\n          title: <FormattedMessage id=\"groups\" defaultMessage=\"Groups\" />,\n          dataIndex: 'groups',\n          hideInTable: true,\n          filterMultiple: true,\n          valueType: 'select',\n          fieldProps: {\n            options: groupOptions,\n            mode: 'multiple',\n          },\n        },\n        ...TableColumns,\n        {\n          hideInSearch: true,\n          title: <FormattedMessage id=\"msTeams\" />,\n          dataIndex: 'teamsLink',\n          valueType: 'option',\n          render: (_n, record) => [\n            <CreateTeamsChatButton key=\"teamsChat\" student_id={record.user_id} />,\n          ],\n        },\n      ]}\n    />\n  );\n};\n","import PERMISSIONS from '@/consts/permissions';\nimport { isUserHavePermissions } from '@/services/escola-lms/permissions';\nimport ProCard from '@ant-design/pro-card';\nimport { PageContainer } from '@ant-design/pro-layout';\nimport { Button, Spin } from 'antd';\nimport React, { useCallback, useMemo } from 'react';\nimport { FormattedMessage, Link, history, useIntl, useModel, useParams } from 'umi';\nimport { ClassRegister } from './components/ClassRegister';\nimport { Exams } from './components/Exams';\nimport { FileExportsHistory } from './components/FileExportsHistory';\nimport { FinalGradesList } from './components/FinalGradesList';\nimport { GradesScale } from './components/GradesScale';\nimport { Groups } from './components/Groups';\nimport { Schedule } from './components/Schedule';\nimport { Students } from './components/Students';\nimport { TeacherSubjectContextProvider, useTeacherSubject } from './context';\n\nconst TeacherSubjectsFormContent: React.FC<{ tab: string }> = ({ tab }) => {\n  const intl = useIntl();\n  const { setInitialState, initialState } = useModel('@@initialState');\n  const { teacherSubjectData, semester_subject_id, tutors } = useTeacherSubject();\n\n  const currentUserHasPermissions = useCallback(\n    isUserHavePermissions(initialState?.currentUser as API.UserItem),\n    [initialState?.currentUser],\n  );\n\n  const showGradeScale = useMemo(\n    () =>\n      !!tutors.data.find(({ id }) => id === initialState?.currentUser?.id) ||\n      currentUserHasPermissions(PERMISSIONS.TeacherListGradeScale),\n    [],\n  );\n\n  if (!teacherSubjectData) {\n    return <Spin />;\n  }\n\n  return (\n    <PageContainer\n      title={\n        <>\n          <FormattedMessage id={teacherSubjectData?.subject?.name} />\n          {', '}\n          <FormattedMessage id={tab} />\n        </>\n      }\n      tabBarExtraContent={\n        <div style={{ display: 'flex', padding: '12px', gap: '12px' }}>\n          <Link to={`/teacher/subjects/${semester_subject_id}/exams?exam_id=new`}>\n            <Button type=\"primary\">\n              <FormattedMessage id=\"uploadGrades\" defaultMessage=\"uploadGrades\" />\n            </Button>\n          </Link>\n        </div>\n      }\n      header={{\n        breadcrumb: {\n          routes: [\n            {\n              path: 'teacher',\n              breadcrumbName: intl.formatMessage({\n                id: 'menu.Teacher',\n              }),\n            },\n            {\n              path: 'subjects',\n              breadcrumbName: intl.formatMessage({\n                id: 'menu.Teacher.Subjects',\n              }),\n            },\n            {\n              path: String(semester_subject_id),\n              breadcrumbName: String(teacherSubjectData.subject?.name),\n            },\n            {\n              path: String(tab),\n              breadcrumbName: intl.formatMessage({ id: tab, defaultMessage: String(tab) }),\n            },\n          ],\n        },\n      }}\n    >\n      <ProCard\n        bodyStyle={{ padding: '24px' }}\n        tabs={{\n          type: 'card',\n          activeKey: tab,\n          onChange: (key) => {\n            setInitialState({\n              ...initialState,\n            });\n\n            history.push(`/teacher/subjects/${semester_subject_id}/${key}`);\n          },\n        }}\n      >\n        <ProCard.TabPane key=\"groups\" tab={<FormattedMessage id=\"groups\" />}>\n          <Groups />\n        </ProCard.TabPane>\n        <ProCard.TabPane key=\"students\" tab={<FormattedMessage id=\"students\" />}>\n          <Students />\n        </ProCard.TabPane>\n        <ProCard.TabPane key=\"exams\" tab={<FormattedMessage id=\"exams\" />}>\n          <Exams />\n        </ProCard.TabPane>\n        <ProCard.TabPane key=\"schedule\" tab={<FormattedMessage id=\"schedule\" />}>\n          <Schedule />\n        </ProCard.TabPane>\n        <ProCard.TabPane key=\"class-register\" tab={<FormattedMessage id=\"class-register\" />}>\n          <ClassRegister />\n        </ProCard.TabPane>\n        {/* TODO: Uncomment when attendances tab needed */}\n        {/* <ProCard.TabPane key=\"attendance\" tab={<FormattedMessage id=\"attendance\" />}>\n          <Attendances />\n        </ProCard.TabPane> */}\n        {showGradeScale && (\n          <ProCard.TabPane key=\"grades-scale\" tab={<FormattedMessage id=\"grades-scale\" />}>\n            <GradesScale />\n          </ProCard.TabPane>\n        )}\n        <ProCard.TabPane key=\"final-grades\" tab={<FormattedMessage id=\"final-grades\" />}>\n          <FinalGradesList />\n        </ProCard.TabPane>\n        <ProCard.TabPane\n          key=\"file-exports-history\"\n          tab={<FormattedMessage id=\"file-exports-history\" />}\n        >\n          <FileExportsHistory />\n        </ProCard.TabPane>\n      </ProCard>\n    </PageContainer>\n  );\n};\n\nexport default () => {\n  const params = useParams<{ subjectId?: string; tab?: string }>();\n  const { subjectId, tab = 'groups' } = params;\n\n  return (\n    <TeacherSubjectContextProvider semester_subject_id={Number(subjectId)}>\n      <TeacherSubjectsFormContent tab={tab} />\n    </TeacherSubjectContextProvider>\n  );\n};\n","import type { AxiosRequestConfig } from '@umijs/max';\nimport { request } from 'umi';\n\nexport async function reports(\n  params: {\n    // query\n    metric: API.ReportType;\n    date?: string;\n    limit?: number;\n  },\n  options?: AxiosRequestConfig,\n) {\n  return request<API.ReportList>('/api/admin/reports/report', {\n    params,\n    method: 'GET',\n    /* useCache: true */ useCache: false,\n    ...(options || {}),\n  });\n}\n\n/* GET /api/admin/stats/course/:course_id/export */\nexport async function exportStatForCourse(\n  course_id: number,\n  params: API.ExportStatForCourseParams,\n  options?: AxiosRequestConfig,\n) {\n  return request<Blob | API.DefaultResponseError>(`/api/admin/stats/course/${course_id}/export`, {\n    params,\n    method: 'GET',\n    /* useCache: true */ useCache: false,\n    responseType: 'blob',\n    headers: {\n      accept: 'application/vnd.ms-excel',\n    },\n    ...(options || {}),\n  });\n}\n\n/* GET /api/admin/stats/topic/:topic_id/export */\nexport async function exportStatForTopic(\n  topic_id: number,\n  stat: API.TopicStatsKey,\n  options?: AxiosRequestConfig,\n) {\n  return request<Blob | API.DefaultResponseError>(`/api/admin/stats/topic/${topic_id}/export`, {\n    method: 'GET',\n    /* useCache: true */ useCache: false,\n    params: { stat },\n    responseType: 'blob',\n    headers: {\n      accept: 'application/vnd.ms-excel',\n    },\n    ...(options || {}),\n  });\n}\n","import t,{PureComponent as e}from\"react\";\n/*! *****************************************************************************\nCopyright (c) Microsoft Corporation.\n\nPermission to use, copy, modify, and/or distribute this software for any\npurpose with or without fee is hereby granted.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH\nREGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY\nAND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,\nINDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM\nLOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR\nOTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR\nPERFORMANCE OF THIS SOFTWARE.\n***************************************************************************** */var n=function(t,e){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])})(t,e)};var o,r,i=(function(t){\n/*!\n  Copyright (c) 2017 Jed Watson.\n  Licensed under the MIT License (MIT), see\n  http://jedwatson.github.io/classnames\n*/\n!function(){var e={}.hasOwnProperty;function n(){for(var t=[],o=0;o<arguments.length;o++){var r=arguments[o];if(r){var i=typeof r;if(\"string\"===i||\"number\"===i)t.push(r);else if(Array.isArray(r)&&r.length){var s=n.apply(null,r);s&&t.push(s)}else if(\"object\"===i)for(var l in r)e.call(r,l)&&r[l]&&t.push(l)}}return t.join(\" \")}t.exports?(n.default=n,t.exports=n):window.classNames=n}()}(r={path:o,exports:{},require:function(t,e){return function(){throw new Error(\"Dynamic requires are not currently supported by @rollup/plugin-commonjs\")}(null==e&&r.path)}},r.exports),r.exports);function s(t,e,n){var o,r,i,s,l;function a(){var c=Date.now()-s;c<e&&c>=0?o=setTimeout(a,e-c):(o=null,n||(l=t.apply(i,r),i=r=null))}null==e&&(e=100);var c=function(){i=this,r=arguments,s=Date.now();var c=n&&!o;return o||(o=setTimeout(a,e)),c&&(l=t.apply(i,r),i=r=null),l};return c.clear=function(){o&&(clearTimeout(o),o=null)},c.flush=function(){o&&(l=t.apply(i,r),i=r=null,clearTimeout(o),o=null)},c}s.debounce=s;var l=s;!function(t,e){void 0===e&&(e={});var n=e.insertAt;if(t&&\"undefined\"!=typeof document){var o=document.head||document.getElementsByTagName(\"head\")[0],r=document.createElement(\"style\");r.type=\"text/css\",\"top\"===n&&o.firstChild?o.insertBefore(r,o.firstChild):o.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}}(\".indiana-scroll-container {\\n  overflow: auto; }\\n  .indiana-scroll-container--dragging {\\n    scroll-behavior: auto !important; }\\n    .indiana-scroll-container--dragging > * {\\n      pointer-events: none;\\n      cursor: -webkit-grab;\\n      cursor: grab; }\\n  .indiana-scroll-container--hide-scrollbars {\\n    overflow: hidden;\\n    overflow: -moz-scrollbars-none;\\n    -ms-overflow-style: none;\\n    scrollbar-width: none; }\\n    .indiana-scroll-container--hide-scrollbars::-webkit-scrollbar {\\n      display: none !important;\\n      height: 0 !important;\\n      width: 0 !important;\\n      background: transparent !important;\\n      -webkit-appearance: none !important; }\\n  .indiana-scroll-container--native-scroll {\\n    overflow: auto; }\\n\\n.indiana-dragging {\\n  cursor: -webkit-grab;\\n  cursor: grab; }\\n\");var a,c=(a=\"indiana-scroll-container\",function(t,e){if(!t)return a;var n;\"string\"==typeof t?n=t:e=t;var o=a;return n&&(o+=\"__\"+n),o+(e?Object.keys(e).reduce((function(t,n){var r=e[n];return r&&(t+=\" \"+(\"boolean\"==typeof r?o+\"--\"+n:o+\"--\"+n+\"_\"+r)),t}),\"\"):\"\")}),p=function(e){function o(n){var o=e.call(this,n)||this;return o.onEndScroll=function(){o.scrolling=!1,!o.pressed&&o.started&&o.processEnd()},o.onScroll=function(t){var e=o.container.current;e.scrollLeft===o.scrollLeft&&e.scrollTop===o.scrollTop||(o.scrolling=!0,o.processScroll(t),o.onEndScroll())},o.onTouchStart=function(t){var e=o.props.nativeMobileScroll;if(o.isDraggable(t.target))if(o.internal=!0,e&&o.scrolling)o.pressed=!0;else{var n=t.touches[0];o.processClick(t,n.clientX,n.clientY),!e&&o.props.stopPropagation&&t.stopPropagation()}},o.onTouchEnd=function(t){var e=o.props.nativeMobileScroll;o.pressed&&(!o.started||o.scrolling&&e?o.pressed=!1:o.processEnd(),o.forceUpdate())},o.onTouchMove=function(t){var e=o.props.nativeMobileScroll;if(o.pressed&&(!e||!o.isMobile)){var n=t.touches[0];n&&o.processMove(t,n.clientX,n.clientY),t.preventDefault(),o.props.stopPropagation&&t.stopPropagation()}},o.onMouseDown=function(t){o.isDraggable(t.target)&&o.isScrollable()&&(o.internal=!0,-1!==o.props.buttons.indexOf(t.button)&&(o.processClick(t,t.clientX,t.clientY),t.preventDefault(),o.props.stopPropagation&&t.stopPropagation()))},o.onMouseMove=function(t){o.pressed&&(o.processMove(t,t.clientX,t.clientY),t.preventDefault(),o.props.stopPropagation&&t.stopPropagation())},o.onMouseUp=function(t){o.pressed&&(o.started?o.processEnd():(o.internal=!1,o.pressed=!1,o.forceUpdate(),o.props.onClick&&o.props.onClick(t)),t.preventDefault(),o.props.stopPropagation&&t.stopPropagation())},o.container=t.createRef(),o.onEndScroll=l(o.onEndScroll,300),o.scrolling=!1,o.started=!1,o.pressed=!1,o.internal=!1,o.getRef=o.getRef.bind(o),o}return function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}(o,e),o.prototype.componentDidMount=function(){var t=this.props.nativeMobileScroll,e=this.container.current;window.addEventListener(\"mouseup\",this.onMouseUp),window.addEventListener(\"mousemove\",this.onMouseMove),window.addEventListener(\"touchmove\",this.onTouchMove,{passive:!1}),window.addEventListener(\"touchend\",this.onTouchEnd),e.addEventListener(\"touchstart\",this.onTouchStart,{passive:!1}),e.addEventListener(\"mousedown\",this.onMouseDown,{passive:!1}),t&&(this.isMobile=this.isMobileDevice(),this.isMobile&&this.forceUpdate())},o.prototype.componentWillUnmount=function(){window.removeEventListener(\"mouseup\",this.onMouseUp),window.removeEventListener(\"mousemove\",this.onMouseMove),window.removeEventListener(\"touchmove\",this.onTouchMove),window.removeEventListener(\"touchend\",this.onTouchEnd)},o.prototype.getElement=function(){return this.container.current},o.prototype.isMobileDevice=function(){return void 0!==window.orientation||-1!==navigator.userAgent.indexOf(\"IEMobile\")},o.prototype.isDraggable=function(t){var e=this.props.ignoreElements;if(e){var n=t.closest(e);return null===n||n.contains(this.getElement())}return!0},o.prototype.isScrollable=function(){var t=this.container.current;return t&&(t.scrollWidth>t.clientWidth||t.scrollHeight>t.clientHeight)},o.prototype.processClick=function(t,e,n){var o=this.container.current;this.scrollLeft=o.scrollLeft,this.scrollTop=o.scrollTop,this.clientX=e,this.clientY=n,this.pressed=!0},o.prototype.processStart=function(t){void 0===t&&(t=!0);var e=this.props.onStartScroll;this.started=!0,t&&document.body.classList.add(\"indiana-dragging\"),e&&e({external:!this.internal}),this.forceUpdate()},o.prototype.processScroll=function(t){if(this.started){var e=this.props.onScroll;e&&e({external:!this.internal})}else this.processStart(!1)},o.prototype.processMove=function(t,e,n){var o=this.props,r=o.horizontal,i=o.vertical,s=o.activationDistance,l=o.onScroll,a=this.container.current;this.started?(r&&(a.scrollLeft-=e-this.clientX),i&&(a.scrollTop-=n-this.clientY),l&&l({external:!this.internal}),this.clientX=e,this.clientY=n,this.scrollLeft=a.scrollLeft,this.scrollTop=a.scrollTop):(r&&Math.abs(e-this.clientX)>s||i&&Math.abs(n-this.clientY)>s)&&(this.clientX=e,this.clientY=n,this.processStart())},o.prototype.processEnd=function(){var t=this.props.onEndScroll;this.container.current&&t&&t({external:!this.internal}),this.pressed=!1,this.started=!1,this.scrolling=!1,this.internal=!1,document.body.classList.remove(\"indiana-dragging\"),this.forceUpdate()},o.prototype.getRef=function(t){[this.container,this.props.innerRef].forEach((function(e){e&&(\"function\"==typeof e?e(t):e.current=t)}))},o.prototype.render=function(){var e=this.props,n=e.children,o=e.draggingClassName,r=e.className,s=e.style,l=e.hideScrollbars,a=e.component;return t.createElement(a,{className:i(r,this.pressed&&o,c({dragging:this.pressed,\"hide-scrollbars\":l,\"native-scroll\":this.isMobile})),style:s,ref:this.getRef,onScroll:this.onScroll},n)},o.defaultProps={nativeMobileScroll:!0,hideScrollbars:!0,activationDistance:10,vertical:!0,horizontal:!0,stopPropagation:!1,style:{},component:\"div\",buttons:[0]},o}(e);export default p;\n//# sourceMappingURL=index.es.js.map\n"],"names":["InfoCircleOutlined","props","ref","RefIcon","__assign","t","s","i","n","p","ColumnChart","PlusOutlined","AntdIcon","_excluded","_excluded2","EditableTableActionContext","RecordCreator","children","record","position","newRecordType","parentKey","actionRef","_onClick","_callee","e","_children$props$onCli","_children$props","_actionRef$current","isOk","_context","onClick","_x","EditableTable","_props$editable2","_props$editable4","intl","onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef","rest","preData","formRef","_useMergedState","useMergedState","_useMergedState2","value","setValue","getRowKey","index","coverRowKey","useRefFunction","finlayRowKey","rowData","_rowIndex","item","_getRowKey","getRowData","rowIndex","_finlayRowKey$toStrin","_formRef$current","rowKeyName","getRowsData","_formRef$current3","_formRef$current2","key","data","_finlayRowKey$toStrin2","_formRef$current4","newRowData","updateValues","set","current","_formRef$current5","stringify","_props$editable","_ref","creatorButtonText","style","restButtonProps","isTop","creatorButtonDom","runFunction","buttonRenderProps","_ref2","_rest$columns","className","_","dom","_props$tableViewRende","_props$tableViewRende2","editableProps","newOnValueChange","r","dataSource","_props$editable3","_props$editable3$onVa","_props$onValuesChange","_props$onChange","_formRef$current6","newValue","changeValue","_props$editable5","_props$editable5$onVa","list","get","changeItem","_preData$current","isDeepEqualReact","FieldEditableTable","form","prev","next","name","error","ExportStatsButton","course_id","_ref$stat","stat","_useState","useState","_useState2","_slicedToArray","loading","setLoading","onClickFactory","useCallback","courseId","_asyncToGenerator","_regeneratorRuntime","mark","response","downloadLink","wrap","exportStatForCourse","sent","Blob","document","createElement","href","window","URL","createObjectURL","download","concat","body","appendChild","click","removeChild","t0","console","finish","stop","_jsxs","Button","type","_jsx","ExportOutlined","FormattedMessage","id","findH5PType","topic","topicable","content","contents","Object","values","library","UserProgress","topics","stats","showSeconds","setShowSeconds","columns","useMemo","title","dataIndex","render","TypeButtonDrawer","type_id","_toConsumableArray","map","_topic$topicable_type","topicable_type","split","pop","row","result","started_at","finished_at","Space","Tag","color","seconds","timeDisplay","React","userStat","reduce","acc","find","userStatTopic","_objectSpread","_defineProperty","Number","email","Table","Row","justify","align","defaultMessage","Switch","checked","v","size","scroll","x","components","table","ScrollContainer","horizontal","maxWidth","hideScrollbars","UserCourseFinish","attempts","text","format","Date","DATETIME_FORMAT","_ref3","courseAttempts","attempt","attemptCount","Array","isArray","length","UserCourseAttempts","_ref4","_useState3","_useState4","choosenUserEmail","setChoosenUserEmail","_useState5","_useState6","choosenAttempt","setChoosenAttempt","useIntl","flatMap","userStats","_ref5","dates","datesValue","_ref6","date","seconds_total","config","xField","yField","seriesField","isStack","xAxis","label","autoHide","autoRotate","slider","start","end","layout","ProCard","Select","showSearch","placeholder","_ref7","Option","disabled","Set","filter","_ref8","_ref9","colSpan","overflow","minHeight","width","Column","tooltip","formatMessage","formatter","datum","minutes","Math","floor","_ref10","_ref11","isInteger","Context","getRandomId","round","random","getFlatLessons","lessons","curr","getFlatTopics","_curr$topics","recursiveAddTopicToLessons","lessonId","lesson","_lesson$topics","_lesson$topics2","recursiveAddLessonToLessons","newLesson","recursiveEditLesson","updatedLesson","appendParentIdToLessons","lessonParentId","parent_id","recursiveDeleteLesson","recursiveDeleteTopic","topicId","recursiveTopicUploaded","prevTopicId","info","lesson_id","_lesson$topics3","file","AppContext","state","setState","flatTopics","flatLessons","h5ps","setH5ps","isAssistant","setIsAssistant","l","useLocation","params","urlParams","URLSearchParams","search","getAssistantId","res","foundAssistantId","fields","class_type","success","useEffect","getLessons","program","then","getLessonIdByTopicId","topic_id","lesson_item","_lesson_item$topics","currentEditMode","mode","addNewLesson","parentId","isNew","order","active","prevState","_prevState$lessons","updateLesson","formData","apiCreateLesson","apiUpdateLesson","message","_prevState$lessons2","deleteLesson","_prevState$lessons3","apiRemoveLesson","_prevState$lessons4","updateTopic","_lesson$topics4","topic_item","apiCreateTopic","apiUpdateTopic","history","push","TopicType","Video","setTimeout","deleteTopic","_prevState$lessons5","apiRemoveTopic","_prevState$lessons6","addNewTopic","newTopic","_prevState$lessons7","onTopicUploaded","cloneTopic","apiCloneTopic","_prevState$lessons8","cloneLesson","apiCloneLesson","Provider","bookmarkNote","_x2","_bookmarkNote","apply","arguments","options","abrupt","request","method","createBookmarkNote","_x3","_x4","_createBookmarkNote","_callee2","_context2","headers","updateBookmarkNote","_x5","_x6","_x7","_updateBookmarkNote","_callee3","_context3","deleteBookmarkNote","_x8","_x9","_x10","_deleteBookmarkNote","_callee4","_context4","BookmarkNoteModal","visible","onClose","user","Text","Typography","groupId","userId","noteText","setNoteText","newNote","setNewNote","notes","setNotes","_useState7","_useState8","editingNote","setEditingNote","_useState9","current_page","per_page","last_page","total","_useState10","pagination","setPagination","getNotes","page","bookmarkable_id","bookmarkable_type","BookmarkableType","Group","user_id","meta","handleSaveNote","handleDeleteNote","noteId","handleEditNote","currentText","Modal","open","onCancel","footer","List","pageSize","renderItem","Item","actions","danger","currentNoteId","Input","TextArea","target","_Fragment","Form","autoSize","minRows","maxRows","groupAttendanceSchedule","_groupAttendanceSchedule","group_id","useCache","changeStudentAttendance","_changeStudentAttendance","attendances","removeAttendanceColumn","_removeAttendanceColumn","getExams","_getExams","createExam","_createExam","updateExam","_updateExam","getExam","_getExam","deleteExam","_x11","_deleteExam","_callee5","_context5","createExamResult","_x12","_x13","_x14","_x15","_createExamResult","_callee6","exam_id","_context6","deleteExamResult","_x16","_x17","_x18","_deleteExamResult","_callee7","_context7","getSubjectTutorGrades","_getSubjectTutorGrades","semester_subject_id","tutor_id","createSubjectTutorGrades","_createSubjectTutorGrades","getGroupFinalGrades","_getGroupFinalGrades","groups","getUserFinalGrades","_getUserFinalGrades","getGradeTerms","_getGradeTerms","getSubjectGradeScales","_getSubjectGradeScales","s_subject_scale_form_id","createFinalGrade","_createFinalGrade","updateFinalGrade","_x19","_x20","_updateFinalGrade","_callee8","final_grade_id","_context8","removeFinalGrade","_x21","_x22","_removeFinalGrade","_callee9","_context9","getStudentExamsFromExams","exams","student_id","results","exam","_objectWithoutProperties","examResult","getProposedGrade","studentExams","tutorGradeScales","_sortedGradeScales","_studentExams$reduce","weight","_studentExams$reduce2","sum","weightsSum","weightedAverage","isNaN","sortedGradeScales","sort","a","b","grade_value","isWeightedAverageGreater","every","_sortedGradeScales$at","_sortedGradeScales$at2","at","firstFalseIndex","findIndex","getScalesBySubjectScaleFormId","tutorGrades","_tutorGrades$find","subjectTutorGradeScale","scale","parseToStatus","attendance","_attendanceMap$attend","attendanceMapped","AttendanceValue","ABSENT","attendanceMap","PRESENT","ch1","ch2","PRESENT_NOT_EXERCISING","EXCUSED_ABSENCE","parseToAttendanceValue","_statusMap$statusStr","statusStr","statusMap","true_false","true_true","false_false","false_true","AttendanceCheckbox","groupAttendanceScheduleId","studentId","onSuccess","status","setStatus","firstMount","useRef","handleChangeAttendance","onCh1Change","onCh2Change","Tooltip","Checkbox","ExamGradeInput","debounce","getCorrectInput","ExamGradeType","ManualPass","allowClear","passOptions","undefined","ManualGrades","gradesOptions","InputNumber","min","max","getGradeScaleId","gradeScales","_gradeScales$find","FinalGradeSelect","term","defaultFinalGrade","finalGrades","createdGrade","setCreatedGrade","errorStatus","setErrorStatus","onError","grade_scale_id","_error$data","grade_term_id","lesson_group_user_id","recentGrade","grades","grade","grade_term","_error$data2","semester_closed","grade_name","getAttendanceCols","handleDeleteColumn","_ref$scheduleDeletePe","scheduleDeletePermission","dynamicCols","date_from","DAY_FORMAT","is_outdated","DeleteOutlined","stopPropagation","hideInSearch","hideInTable","getStudentAttendances","groupAttendanceSchedules","innerAcc","studentAttendance","getExamsCols","Manual","_n","_record","getStudentExamResults","getFinalGradesCols","gradeTerms","subjectGradeScales","_record$final_grades","final_grades","getStudentFinalGrades","finalGradeItem","getFinalGrades","studentFinalGrade","_studentFinalGrade$gr","ClassRegister","_teacherSubjectData$g","_useTeacherSubject","useTeacherSubject","teacherSubjectData","setDynamicCols","selectedGroupName","setSelectedGroupName","userModalData","setUserModalData","_usePermissions","usePermissions","checkPermission","showDeleteConfirmationModal","columnTitle","onConfirm","confirm","columnId","okText","cancelText","onOk","reload","groupOptions","_teacherSubjectData$g2","_groupOptions$","valueType","fieldProps","fixed","icon","EditOutlined","userName","full_name","ProTable","sticky","_groupOptions$2","_finalGradesRes$data","_finalGradesRes$data2","_ref2$group_id","_ref2$full_name","finalGradesRes","selectedGroup","_yield$Promise$all","_yield$Promise$all2","studentUserGroupRes","groupAttendanceScheduleRes","examsRes","tutorGradesRes","gradeTermsRes","subjectGradeScalesRes","attendanceCols","examsCols","finalGradeCols","fetchGroupFinalGrades","group_name","Promise","all","fetchStudentUserGroup","fetchGroupAttendanceSchedule","fetchExams","fetchSubjectTutorGrades","fetchGradeTerms","fetchSubjectGradeScales","PERMISSIONS","PCGSchedulesDelete","PCGSchedulesDeleteOwn","users","_getScalesBySubjectSc","_studentFinalGrades$s","_tutorGradesRes$data$","academic_teacher_id","first_name","last_name","studentFullName","studentInFinalGrades","some","teacher","toLowerCase","includes","studentAttendances","studentFinalGrades","tutorScales","grade_scale","proposed_grade","studentExamResults","localeCompare","headerTitle","groupName","defaultPageSize","TEACHER_SUBJECTS_PAGE_SIZE","_actionRef$current2","LineChartOutlined","checkManualExamType","FileExamGradeType","onDataConverted","groupSelectDisabled","setSelectedGroup","reqData","onUploadFile","exam_results","ProForm","SecureUpload","url","onUpload","fileList","maxFiles","ManualExamGradeType","_useTeacherSubject2","groupUsers","onSelectedGroupChange","_groupUsers$byId","currGroup","byId","EXAM_GRADE_IMAGES","TestPortal","TeamsForms","TeamsLecture","ExampleImagesPreview","images","setVisible","openImagePreview","Image","PreviewGroup","preview","onVisibleChange","src","display","ModalFooter","_EXAM_GRADE_IMAGES$ty","okDisabled","currentImages","justifyContent","FILE_TYPES","ConvertGradesModal","closeModal","_useTeacherSubject3","fetchGroupUsers","convertedData","setConvertedData","_teacherSubjectData$g3","forEach","examType","SelectTypeButtonsGroup","onSelect","gutter","Col","span","staticColumns","editable","ExamForm","_getGroupById","_ProForm$useForm","useForm","_ProForm$useForm2","selectedType","setSelectedType","fetching","setFetching","getGroupById","editableKeys","_convertedData$exam_r","numExamId","resetFields","_res$data","passed_at","setFieldsValue","resetState","Spin","Boolean","submitter","onFinish","onReset","ProFormText","rules","required","ProFormDatePicker","onValuesChange","cardProps","bodyStyle","paddingInline","ExamResults","setTitle","sorter","created_at","semester","year","Exams","_searchParams$get","location","searchParams","sortArr","entries","order_by","Link","to","Popconfirm","DownloadButton","DownloadOutlined","renderFormItem","defaultRender","stateType","getFieldValue","UserSelect","_record$created_by","_record$created_by2","created_by","exported_at","_record$exported_by","_record$exported_by2","exported_by","FileExportsHistory","_teacherSubjectData$g4","_ref5$group_id","getPCGExportsHistory","setLoadingFactory","setter","withLoading","_withLoading","promiseCb","useFinalGrades","setFinalGrades","fetchFinalGrades","deleteFinalGrade","useGradeTerms","setGradeTerms","useSubjectGradeScales","setSubjectGradeScales","useTutorGradeScales","setTutorGradeScales","_response$data$grade_","useUserAttendanceSchedules","userAttendanceSchedules","setUserAttendanceSchedules","fetchUserAttendanceSchedules","filteredSchedules","attendanceItem","useStudentExams","_useState11","_useState12","setStudentExams","useUserCoursesStats","_useState13","_useState14","userCourses","setUserCourses","_useState15","_useState16","userCoursesStats","setUserCoursesStats","_useState17","_useState18","userCoursesTopics","setUserCoursesTopics","course","responses","getCourseStats","_response$data$Escola","_response$data$Escola2","finishedTopics","attendanceList","tutorGradeScalesColumns","userAttendanceColumns","studentExamsColumns","staticFinalGradesColumns","_row$grade","_row$grade2","grade_date","_row$grade$grade_name","_row$grade3","TABLE_PAGE_SIZE","FinalGradesDetails","_finalGrades$data","_finalGrades$data2","_finalGrades$data3","_userCourses$data","_useStudentExams","_useFinalGrades","_useGradeTerms","_useSubjectGradeScale","_useTutorGradeScales","_useUserAttendanceSch","_useUserCoursesStats","gradeTermsSelectOptions","_gradeTerms$data","gradesSelectOptions","_subjectGradeScales$d","proposedGrade","_studentExams$data","_tutorGradeScales$dat","onFinalGradeSubmit","_finalGrades$data4","_finalGrades$data5","existingFinalGrade","_response","finalGradesColumns","_record$grade","finalGradesTableData","_gradeTerms$data2","_finalGrades$data6","areStatisticsLoading","isStatisticDataPresent","fontSize","fontWeight","Divider","padding","_userCoursesTopics$da","_userCoursesTopics$da2","_userCoursesStats$dat","_userCoursesStats$dat2","_userCoursesStats$dat3","_userCoursesStats$dat4","flexDirection","paddingTop","titleStyle","flex","ProFormSelect","gap","FinalGradesList","_searchParams$get2","_ref3$group_id","group_ids","_ref3$first_name","_ref3$last_name","allGroups","GradeScaleTable","onFormSubmit","setEditableKeys","_subjectTutorGradeSca","gradeScaleWithIds","String","setFieldValue","_p","submit","EditableProTable","startEditable","saveText","CheckOutlined","actionRender","_r","_c","save","GradesScale","_initialState$current2","_initialState$current5","_useModel","useModel","initialState","tutors","subjectTutorGrades","setSubjectTutorGrades","selectedTutor","setSelectedTutor","tutorViewing","_initialState$current","currentUser","tutorsSelectOptions","refreshSubjectTutorGrades","onFormSubmitFactory","subjectTutorGradeScales","tutorGradeScale","_initialState$current3","_initialState$current4","_tutors$data","_tutors$data2","_subjectTutorGrades$g","Paragraph","textAlign","generateConfig","string","clone","diff","month","num","hour","minute","second","millisecond","date1","date2","locale","_format","formats","fallbackFormatList","formatText","matchFormat","matchText","_i","_date","allSchedules","_allSchedules","ScheduleCalendar","generateCalendar","momentGenerateConfig","Schedule","selectedEvent","setSelectedEvent","eventData","setEventData","now","moment","events","event","group","term_status","toDate","date_to","tutor_name","tutor","tutor_email","subject","ms_teams_join_url","fetchEvents","fetchAllSchedules","date_form","handleEventClick","handleModalClose","checkDate","isSame","isAfter","dateCellRender","filteredEvents","Badge","handlePanelChange","startOf","subtract","endOf","add","initialStartDate","initialEndDate","Title","level","cellRender","onPanelChange","DAYTIME_FORMAT","rel","createTeamsChat","_createTeamsChat","CreateTeamsChatButton","web_url","TableColumns","getGroupsOptions","subjectGroups","getTableData","studentUserGroups","userTable","Students","_ref2$first_name","_ref2$last_name","_ref2$email","tableData","fetchAllStudentsAndGroups","filterMultiple","TeacherSubjectsFormContent","_teacherSubjectData$s","_teacherSubjectData$s2","tab","setInitialState","currentUserHasPermissions","isUserHavePermissions","showGradeScale","TeacherListGradeScale","PageContainer","tabBarExtraContent","header","breadcrumb","routes","path","breadcrumbName","tabs","activeKey","TabPane","Groups","useParams","subjectId","_params$tab","TeacherSubjectContextProvider","reports","_reports","_exportStatForCourse","responseType","accept","exportStatForTopic","_exportStatForTopic","o","c"],"sourceRoot":""}