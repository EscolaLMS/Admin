(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{"BGR+":function(P,f,e){"use strict";function h(m,v){for(var u=Object.assign({},m),c=0;c<v.length;c+=1){var O=v[c];delete u[O]}return u}f.a=h},MZhU:function(P,f,e){P.exports={container:"container___3DGcF",lang:"lang___18BEt",content:"content___24x6E",top:"top___Kmd6o",header:"header___1kD8J",logo:"logo___2Fmyt",title:"title___3pcso",desc:"desc___2QZoR",main:"main___3ipCw",icon:"icon___P3cg6",other:"other___3uIfA",register:"register___3Mz8E",prefixIcon:"prefixIcon___Tvd5H"}},Q9mQ:function(P,f,e){"use strict";var h=e("cIOH"),m=e.n(h),v=e("UADf"),u=e.n(v)},Qurx:function(P,f,e){"use strict";var h=e("q1tI"),m=e.n(h),v=e("/s86"),u=e("WFLz");function c(){return c=Object.assign||function(p){for(var l=1;l<arguments.length;l++){var g=arguments[l];for(var D in g)Object.prototype.hasOwnProperty.call(g,D)&&(p[D]=g[D])}return p},c.apply(this,arguments)}var O="text",y=Object(u.a)(function(p){var l=p.fieldProps,g=p.proFieldProps;return m.a.createElement(v.a,c({mode:"edit",valueType:O,fieldProps:l},g))},{valueType:O}),B=Object(u.a)(function(p){var l=p.fieldProps,g=p.proFieldProps;return m.a.createElement(v.a,c({mode:"edit",valueType:"password",fieldProps:l},g))},{valueType:O}),E=y;E.Password=B,f.a=E},Telt:function(P,f,e){"use strict";var h=e("cIOH"),m=e.n(h),v=e("ifDB"),u=e.n(v),c=e("Q9mQ")},UADf:function(P,f,e){},Z1IU:function(P,f,e){"use strict";e.r(f);var h=e("/zsF"),m=e("PArb"),v=e("miYZ"),u=e("tsqr"),c=e("k1fw"),O=e("9og8"),y=e("tJVT"),B=e("fOrg"),E=e("+KLJ"),p=e("WmNS"),l=e.n(p),g=e("cJ7L"),D=e("FY4R"),F=e("q1tI"),K=e("VMEa"),W=e("Qurx"),w=e("tneF"),d=e("9kvl"),R=e("QttV"),r=e("CwrG");function s(L,M){return a.apply(this,arguments)}function a(){return a=Object(O.a)(l.a.mark(function L(M,x){return l.a.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",Object(d.e)("/api/auth/login",Object(c.a)({method:"POST",headers:{"Content-Type":"application/json"},data:M},x||{})));case 1:case"end":return I.stop()}},L)})),a.apply(this,arguments)}var n=e("MZhU"),o=e.n(n),t=e("nKUr"),N=function(M){var x=M.content;return Object(t.jsx)(E.a,{style:{marginBottom:24},message:x,type:"error",showIcon:!0})},J=function(){!d.c||setTimeout(function(){var M=d.c.location.query,x=M,S=x.redirect;d.c.push(S||"/")},10)},Z=function(){var M=Object(F.useState)(!1),x=Object(y.a)(M,2),S=x[0],I=x[1],$=Object(F.useState)(),z=Object(y.a)($,2),Q=z[0],V=z[1],G=Object(d.i)("@@initialState"),U=G.initialState,H=G.setInitialState,A=Object(d.h)(),Y=function(){var T=Object(O.a)(l.a.mark(function _(){var j,b;return l.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,U==null||(j=U.fetchUserInfo)===null||j===void 0?void 0:j.call(U);case 2:b=i.sent,b&&H(Object(c.a)(Object(c.a)({},U),{},{currentUser:b}));case 4:case"end":return i.stop()}},_)}));return function(){return T.apply(this,arguments)}}(),X=function(){var T=Object(O.a)(l.a.mark(function _(j){var b;return l.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return I(!0),i.prev=1,i.next=4,s(Object(c.a)({},j));case 4:if(b=i.sent,!b.success){i.next=12;break}return localStorage.setItem("TOKEN",b.token),u.default.success("success"),i.next=10,Y();case 10:return J(),i.abrupt("return");case 12:V(b),i.next=18;break;case 15:i.prev=15,i.t0=i.catch(1),console.log(i.t0);case 18:I(!1);case 19:case"end":return i.stop()}},_,null,[[1,15]])}));return function(j){return T.apply(this,arguments)}}();return Object(t.jsxs)("div",{className:o.a.container,children:[Object(t.jsx)("div",{className:o.a.lang,children:d.b&&Object(t.jsx)(d.b,{})}),Object(t.jsxs)("div",{className:o.a.content,children:[Object(t.jsx)("div",{className:o.a.top,children:Object(t.jsx)("div",{className:o.a.header,children:Object(t.jsx)(R.a,{to:"/",children:Object(t.jsx)("img",{alt:"logo",className:o.a.logo,src:"/logo.svg"})})})}),Object(t.jsx)(m.a,{}),Object(t.jsx)("div",{className:o.a.main,children:Object(t.jsxs)(K.b,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:A.formatMessage({id:"pages.login.submit",defaultMessage:"submit"})},render:function(_,j){return j.pop()},submitButtonProps:{loading:S,size:"large",style:{width:"100%"}}},onFinish:function(){var T=Object(O.a)(l.a.mark(function _(j){return l.a.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:X(j);case 1:case"end":return C.stop()}},_)}));return function(_){return T.apply(this,arguments)}}(),children:[Q&&!Q.success&&Object(t.jsx)(N,{content:A.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\uFF08admin/ant.design)"})}),Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)("pre",{children:"email/password: admin@escola-lms.com/secret"}),Object(t.jsx)(W.a,{name:"email",fieldProps:{size:"large",prefix:Object(t.jsx)(g.a,{className:o.a.prefixIcon})},placeholder:A.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"admin or user"}),rules:[{required:!0,message:Object(t.jsx)(d.a,{id:"pages.login.username.required",defaultMessage:"required!"})}]}),Object(t.jsx)(W.a.Password,{name:"password",fieldProps:{size:"large",prefix:Object(t.jsx)(D.a,{className:o.a.prefixIcon})},placeholder:A.formatMessage({id:"pages.login.password.placeholder",defaultMessage:" ant.design"}),rules:[{required:!0,message:Object(t.jsx)(d.a,{id:"pages.login.password.required",defaultMessage:"required"})}]})]}),Object(t.jsxs)("div",{style:{marginBottom:24},children:[Object(t.jsx)(w.a,{noStyle:!0,name:"autoLogin",children:Object(t.jsx)(d.a,{id:"pages.login.rememberMe",defaultMessage:"rememberMe"})}),Object(t.jsx)("a",{style:{float:"right"},children:Object(t.jsx)(d.a,{id:"pages.login.forgotPassword",defaultMessage:"forgotPassword"})})]})]})})]}),Object(t.jsx)(r.a,{})]})},k=f.default=Z},ifDB:function(P,f,e){},tneF:function(P,f,e){"use strict";var h=e("sRBo"),m=e("kaz8"),v=e("q1tI"),u=e.n(v),c=e("/s86"),O=e("uX+g"),y=e("WFLz"),B=["options","fieldProps","proFieldProps","valueEnum"];function E(){return E=Object.assign||function(r){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=a[n])}return r},E.apply(this,arguments)}function p(r,s){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);s&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),a.push.apply(a,n)}return a}function l(r){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?p(Object(a),!0).forEach(function(n){g(r,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):p(Object(a)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(a,n))})}return r}function g(r,s,a){return s in r?Object.defineProperty(r,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[s]=a,r}function D(r,s){if(r==null)return{};var a=F(r,s),n,o;if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);for(o=0;o<t.length;o++)n=t[o],!(s.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(a[n]=r[n]))}return a}function F(r,s){if(r==null)return{};var a={},n=Object.keys(r),o,t;for(t=0;t<n.length;t++)o=n[t],!(s.indexOf(o)>=0)&&(a[o]=r[o]);return a}var K=u.a.forwardRef(function(r,s){var a=r.options,n=r.fieldProps,o=r.proFieldProps,t=r.valueEnum,N=D(r,B);return u.a.createElement(c.a,E({ref:s,valueType:"checkbox",mode:"edit",valueEnum:Object(O.a)(t,void 0)},N,{fieldProps:l({options:a},n)},o))}),W=u.a.forwardRef(function(r,s){var a=r.fieldProps,n=r.children;return u.a.createElement(m.a,E({ref:s},a),n)}),w=Object(y.a)(W,{valuePropName:"checked"}),d=Object(y.a)(K),R=w;R.Group=d,f.a=R}}]);
