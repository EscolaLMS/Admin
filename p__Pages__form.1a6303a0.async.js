(window.webpackJsonp=window.webpackJsonp||[]).push([[24],{BAh9:function(W,s,e){"use strict";e.d(s,"a",function(){return P}),e.d(s,"b",function(){return p}),e.d(s,"e",function(){return v}),e.d(s,"d",function(){return O}),e.d(s,"c",function(){return m});var d=e("k1fw"),u=e("9og8"),D=e("WmNS"),_=e.n(D),a=e("9kvl");function P(o,t){return l.apply(this,arguments)}function l(){return l=Object(u.a)(_.a.mark(function o(t,i){return _.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(a.f)("/api/admin/file/list",Object(d.a)({method:"GET",params:t},i||{})));case 1:case"end":return r.stop()}},o)})),l.apply(this,arguments)}function p(o,t){return c.apply(this,arguments)}function c(){return c=Object(u.a)(_.a.mark(function o(t,i){return _.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(a.f)("/api/admin/file/find",Object(d.a)({method:"GET",params:t},i||{})));case 1:case"end":return r.stop()}},o)})),c.apply(this,arguments)}function v(o,t,i){return j.apply(this,arguments)}function j(){return j=Object(u.a)(_.a.mark(function o(t,i,M){var r;return _.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return r=new FormData,r.append("file[]",t),r.append("target",i),T.abrupt("return",Object(a.f)("/api/admin/file/upload",Object(d.a)({method:"POST",data:r},M||{})));case 4:case"end":return T.stop()}},o)})),j.apply(this,arguments)}var O=function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat("https://api-stage.escolalms.com","/api/images/img?path=").concat(t,"&w=").concat(i)};function m(o,t){return f.apply(this,arguments)}function f(){return f=Object(u.a)(_.a.mark(function o(t,i){return _.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(a.f)("/api/admin/file/delete",Object(d.a)({method:"DELETE",data:{url:t}},i||{})));case 1:case"end":return r.stop()}},o)})),f.apply(this,arguments)}},BBow:function(W,s,e){"use strict";e.d(s,"a",function(){return d});var d=function(D){var _=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"-",a=D.toString().toLowerCase().trim(),P=[{to:"a",from:"[\xC0\xC1\xC2\xC3\xC5\xC6\u0100\u0102\u0104\u1EA0\u1EA2\u1EA4\u1EA6\u1EA8\u1EAA\u1EAC\u1EAE\u1EB0\u1EB2\u1EB4\u1EB6]"},{to:"ae",from:"[\xC4]"},{to:"c",from:"[\xC7\u0106\u0108\u010C]"},{to:"d",from:"[\xD0\u010E\u0110\xDE]"},{to:"e",from:"[\xC8\xC9\xCA\xCB\u0112\u0114\u0116\u0118\u011A\u1EB8\u1EBA\u1EBC\u1EBE\u1EC0\u1EC2\u1EC4\u1EC6]"},{to:"g",from:"[\u011C\u011E\u0122\u01F4]"},{to:"h",from:"[\u0124\u1E26]"},{to:"i",from:"[\xCC\xCD\xCE\xCF\u0128\u012A\u012E\u0130\u1EC8\u1ECA]"},{to:"j",from:"[\u0134]"},{to:"ij",from:"[\u0132]"},{to:"k",from:"[\u0136]"},{to:"l",from:"[\u0139\u013B\u013D\u0141]"},{to:"m",from:"[\u1E3E]"},{to:"n",from:"[\xD1\u0143\u0145\u0147]"},{to:"o",from:"[\xD2\xD3\xD4\xD5\xD8\u014C\u014E\u0150\u1ECC\u1ECE\u1ED0\u1ED2\u1ED4\u1ED6\u1ED8\u1EDA\u1EDC\u1EDE\u1EE0\u1EE2\u01EA\u01EC\u01A0]"},{to:"oe",from:"[\u0152\xD6]"},{to:"p",from:"[\u1E55]"},{to:"r",from:"[\u0154\u0156\u0158]"},{to:"s",from:"[\u015A\u015C\u015E\u0160]"},{to:"ss",from:"[\xDF]"},{to:"t",from:"[\u0162\u0164]"},{to:"u",from:"[\xD9\xDA\xDB\u0168\u016A\u016C\u016E\u0170\u0172\u1EE4\u1EE6\u1EE8\u1EEA\u1EEC\u1EEE\u1EF0\u01AF]"},{to:"ue",from:"[\xDC]"},{to:"w",from:"[\u1E82\u0174\u1E80\u1E84]"},{to:"x",from:"[\u1E8D]"},{to:"y",from:"[\xDD\u0176\u0178\u1EF2\u1EF4\u1EF6\u1EF8]"},{to:"z",from:"[\u0179\u017B\u017D]"},{to:"-",from:"[\xB7/_,:;']"}];return P.forEach(function(l){a=a.replace(new RegExp(l.from,"gi"),l.to)}),a=a.toString().toLowerCase().replace(/\s+/g,"-").replace(/&/g,"-and-").replace(/[^\w-]+/g,"").replace(/--+/g,"-").replace(/^-+/,"").replace(/-+$/,""),typeof _!="undefined"&&_!=="-"&&(a=a.replace(/-/g,_)),a}},Qurx:function(W,s,e){"use strict";var d=e("wx14"),u=e("Ff2n"),D=e("q1tI"),_=e.n(D),a=e("adzw"),P=["fieldProps","proFieldProps"],l=["fieldProps","proFieldProps"],p="text",c=function(m){var f=m.fieldProps,o=m.proFieldProps,t=Object(u.a)(m,P);return _.a.createElement(a.a,Object(d.a)({mode:"edit",valueType:p,fieldProps:f,filedConfig:{valueType:p},proFieldProps:o},t))},v=function(m){var f=m.fieldProps,o=m.proFieldProps,t=Object(u.a)(m,l);return _.a.createElement(a.a,Object(d.a)({mode:"edit",valueType:"password",fieldProps:f,proFieldProps:o,filedConfig:{valueType:p}},t))},j=c;j.Password=v,j.displayName="ProFormComponent",s.a=j},SWpp:function(W,s,e){"use strict";e.r(s);var d=e("T2oS"),u=e("W9HT"),D=e("miYZ"),_=e("tsqr"),a=e("k1fw"),P=e("9og8"),l=e("tJVT"),p=e("WmNS"),c=e.n(p),v=e("q1tI"),j=e.n(v),O=e("VMEa"),m=e("Qurx"),f=e("F/zT"),o=e("nhC9"),t=e("NqYW"),i=e("hd5d"),M=e("tMyG"),r=e("9kvl"),I=e("Ty5D"),T=e("BBow"),n=e("nKUr"),B=e.n(n);s.default=function(){var K=Object(r.i)(),C=Object(I.h)(),E=C.page,w=E==="new",h=Object(v.useState)(),F=Object(l.a)(h,2),y=F[0],S=F[1],G=O.a.useForm(),V=Object(l.a)(G,1),$=V[0],N=Object(v.useCallback)(Object(P.a)(c.a.mark(function U(){var b;return c.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,Object(t.c)(Number(E));case 2:b=g.sent,b.success&&S(Object(a.a)(Object(a.a)({},b.data),{},{content:b.data.content||""}));case 4:case"end":return g.stop()}},U)})),[E]);Object(v.useEffect)(function(){if(E==="new"){S({active:!1});return}N()},[E,N]);var z=Object(v.useMemo)(function(){return{onFinish:function(){var U=Object(P.a)(c.a.mark(function R(g){var L,x;return c.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:if(x=Object(a.a)(Object(a.a)({},g),{},{bio:g.bio?g.bio:void 0}),E!=="new"){A.next=8;break}return A.next=4,Object(t.a)(x);case 4:L=A.sent,L.success&&r.d.push("/pages/".concat(L.data.id)),A.next=11;break;case 8:return A.next=10,Object(t.e)(Number(E),x);case 10:L=A.sent;case 11:_.default.success(L.message);case 12:case"end":return A.stop()}},R)}));function b(R){return U.apply(this,arguments)}return b}(),initialValues:y}},[y,E]);return y?Object(n.jsx)(M.a,{title:w?Object(n.jsx)(r.a,{id:"new_page"}):Object(n.jsx)(r.a,{id:"edit_page"}),children:Object(n.jsx)(o.a,{children:Object(n.jsxs)(O.a,Object(a.a)(Object(a.a)({},z),{},{form:$,onValuesChange:function(b){b.title&&$.setFieldsValue({slug:Object(T.a)(b.title)})},children:[Object(n.jsxs)(O.a.Group,{children:[Object(n.jsx)(m.a,{width:"md",name:"title",label:Object(n.jsx)(r.a,{id:"title"}),tooltip:Object(n.jsx)(r.a,{id:"title"}),placeholder:K.formatMessage({id:"title"}),required:!0}),Object(n.jsx)(m.a,{width:"md",name:"slug",label:Object(n.jsx)(r.a,{id:"slug"}),tooltip:Object(n.jsx)(r.a,{id:"slug_tooltip"}),placeholder:K.formatMessage({id:"slug"}),disabled:!0,required:!0}),Object(n.jsx)(f.a,{name:"active",label:Object(n.jsx)(r.a,{id:"is_active"})})]}),Object(n.jsx)(O.a.Item,{name:"content",label:Object(n.jsx)(r.a,{id:"content"}),tooltip:Object(n.jsx)(r.a,{id:"content_tooltip"}),valuePropName:"value",required:!0,children:Object(n.jsx)(i.a,{directory:"pages/".concat(E,"/wysiwyg")})})]}))})}):Object(n.jsx)(u.a,{})}},hd5d:function(W,s,e){"use strict";var d=e("9og8"),u=e("WmNS"),D=e.n(u),_=e("q1tI"),a=e.n(_),P=e("3Ef1"),l=e.n(P),p=e("BAh9"),c=e("vtG9"),v=e.n(c),j=e("9kvl"),O=e("nKUr"),m=e.n(O),f=function(t){var i=t.value,M=t.onChange,r=t.directory,I=r===void 0?"/wysiwyg":r,T=Object(j.i)();return Object(O.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(O.jsx)(l.a,{uploadImage:function(){var n=Object(d.a)(D.a.mark(function B(K){var C,E;return D.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Object(p.e)(K,I);case 2:if(C=h.sent,!C.success){h.next=6;break}return E=C.data[0].name.includes("/")?C.data[0].name:"".concat(I).concat(C.data[0].name),h.abrupt("return",Object(p.d)(E,1e3));case 6:throw new Error("Error while uploading");case 7:case"end":return h.stop()}},B)}));return function(B){return n.apply(this,arguments)}}(),defaultValue:i||"",onChange:function(B){return M&&M(B())},placeholder:T.formatMessage({id:"wysiwyg_placeholder"})})})};s.a=f},vtG9:function(W,s,e){}}]);
