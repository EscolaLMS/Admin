(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"5tKr":function(A,g,e){"use strict";e.d(g,"b",function(){return C}),e.d(g,"a",function(){return b});var l=e("qLMh"),m=e("k1fw"),M=e("9og8"),f=e("9kvl");function C(c,t){return p.apply(this,arguments)}function p(){return p=Object(M.a)(Object(l.a)().mark(function c(t,j){return Object(l.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(f.i)("/api/admin/scorm",Object(m.a)({params:t,method:"GET",useCache:!1},j||{})));case 1:case"end":return a.stop()}},c)})),p.apply(this,arguments)}function R(c,t){return h.apply(this,arguments)}function h(){return h=Object(M.a)(Object(l.a)().mark(function c(t,j){return Object(l.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(f.i)("/api/admin/scorm/scos",Object(m.a)({params:Object(m.a)(Object(m.a)({},t),{},{per_page:t.pageSize,page:t.current}),method:"GET",useCache:!1},j||{})));case 1:case"end":return a.stop()}},c)})),h.apply(this,arguments)}function b(c,t){return v.apply(this,arguments)}function v(){return v=Object(M.a)(Object(l.a)().mark(function c(t,j){return Object(l.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(f.i)("/api/admin/scorm/".concat(t),Object(m.a)({method:"DELETE"},j||{})));case 1:case"end":return a.stop()}},c)})),v.apply(this,arguments)}},"w76+":function(A,g,e){"use strict";e.r(g);var l=e("P2fV"),m=e("NJEC"),M=e("5Dmo"),f=e("3S7+"),C=e("+L6B"),p=e("2/Rp"),R=e("miYZ"),h=e("tsqr"),b=e("qLMh"),v=e("9og8"),c=e("q1tI"),t=e("9kvl"),j=e("55Ip"),x=e("tMyG"),a=e("Qiat"),T=e("VTBJ"),P={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"defs",attrs:{},children:[{tag:"style",attrs:{}}]},{tag:"path",attrs:{d:"M931.4 498.9L94.9 79.5c-3.4-1.7-7.3-2.1-11-1.2a15.99 15.99 0 00-11.7 19.3l86.2 352.2c1.3 5.3 5.2 9.6 10.4 11.3l147.7 50.7-147.6 50.7c-5.2 1.8-9.1 6-10.3 11.3L72.2 926.5c-.9 3.7-.5 7.6 1.2 10.9 3.9 7.9 13.5 11.1 21.5 7.2l836.5-417c3.1-1.5 5.6-4.1 7.2-7.1 3.9-8 .7-17.6-7.2-21.6zM170.8 826.3l50.3-205.6 295.2-101.3c2.3-.8 4.2-2.6 5-5 1.4-4.2-.8-8.7-5-10.2L221.1 403 171 198.2l628 314.9-628.2 313.2z"}}]},name:"send",theme:"outlined"},B=P,K=e("6VBw"),L=function(n,i){return c.createElement(K.a,Object(T.a)(Object(T.a)({},n),{},{ref:i,icon:B}))};L.displayName="SendOutlined";var w=c.forwardRef(L),z=e("/MfK"),D=e("5tKr"),U=e("DBJ/"),r=e("nKUr"),G=function(n){var i=n.onSuccess,E=n.onError,u=n.hideLabel;return Object(r.jsx)(U.a,{url:"/api/admin/scorm/upload",name:"zip",accept:"application/zip",hideLabel:u,onChange:function(s){if(!(!s.file.response||s.file.status!=="done")){var o=s.file.response;if(!o.success){E(o);return}i(o.data.model)}}})},J=G,$=function(){var y=Object(v.a)(Object(b.a)().mark(function n(i){return Object(b.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(D.a)(i);case 2:return u.abrupt("return",!0);case 3:case"end":return u.stop()}},n)}));return function(i){return y.apply(this,arguments)}}(),N=function(){var n=Object(c.useRef)(),i=Object(t.l)(),E=[{title:Object(r.jsx)(t.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{title:Object(r.jsx)(t.a,{id:"version",defaultMessage:"version"}),dataIndex:"version",hideInSearch:!0,sorter:!0},{title:Object(r.jsx)(t.a,{id:"newScorm",defaultMessage:"New Scorm"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(r.jsx)(J,{hideLabel:!0,onSuccess:function(){n.current&&n.current.reload(),h.b.success(i.formatMessage({id:"scorm_uploaded",defaultMessage:"Scorm uploaded"}))},onError:function(s){return h.b.error(s.message||s.toString())}},"upload")]}},{title:Object(r.jsx)(t.a,{id:"SCOS",defaultMessage:"Sharable Content Objects"}),dataIndex:"SCOS",hideInSearch:!0,render:function(O,s){return[s.scos.map(function(o){return Object(r.jsx)(j.a,{to:"/courses/scorms/preview/".concat(o.uuid),children:Object(r.jsxs)(f.a,{title:Object(r.jsx)(t.a,{id:"preview",defaultMessage:"preview"}),children:[Object(r.jsx)(p.a,{size:"small",icon:Object(r.jsx)(w,{}),type:"primary",children:o.title})," "]})},o.uuid)})]}},{hideInSearch:!0,title:Object(r.jsx)(t.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(O,s){return[Object(r.jsx)(m.a,{title:Object(r.jsx)(t.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(v.a)(Object(b.a)().mark(function o(){var I;return Object(b.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,$(s.id);case 2:I=d.sent,I&&n.current&&n.current.reload();case 4:case"end":return d.stop()}},o)})),okText:Object(r.jsx)(t.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(r.jsx)(t.a,{id:"no",defaultMessage:"No"}),children:Object(r.jsx)(f.a,{title:Object(r.jsx)(t.a,{id:"delete",defaultMessage:"delete"}),children:Object(r.jsx)(p.a,{type:"primary",icon:Object(r.jsx)(z.a,{}),danger:!0})})},"delete")]}}];return Object(r.jsx)(x.a,{children:Object(r.jsx)(a.a,{headerTitle:i.formatMessage({id:"menu.Courses.SCORMs",defaultMessage:"scorms"}),actionRef:n,rowKey:"id",search:{layout:"vertical"},request:function(O,s){var o=O.pageSize,I=O.current,S=s&&Object.entries(s)[0];return Object(D.b)({per_page:o,page:I,order_by:S&&S[0],order:S?S[1]==="ascend"?"ASC":"DESC":void 0}).then(function(d){return d.success?{data:d.data.data,total:d.data.total,success:!0}:[]})},columns:E})})},W=g.default=N}}]);

//# sourceMappingURL=p__Scorm.10ef16b6.async.js.map