(window.webpackJsonp=window.webpackJsonp||[]).push([[42],{UNho:function($,b,e){"use strict";e.r(b);var H=e("Mwp2"),D=e("VXEj"),Q=e("+L6B"),A=e("2/Rp"),X=e("/zsF"),P=e("PArb"),Y=e("tU7J"),C=e("wFql"),Z=e("T2oS"),T=e("W9HT"),w=e("miYZ"),U=e("tsqr"),E=e("qLMh"),O=e("k1fw"),v=e("9og8"),I=e("tJVT"),i=e("q1tI"),L=e.n(i),m=e("VMEa"),W=e("Qurx"),g=e("F/zT"),K=e("nhC9"),u=e("ri8c"),R=e("tMyG"),d=e("9kvl"),B=e("Ty5D"),p=e("/MfK"),x=e("0WSk"),y=e("2ult"),t=e("nKUr"),k=e.n(t);b.default=function(){var N=Object(d.l)(),F=Object(B.l)(),n=F.group,S=n==="new",z=Object(i.useState)(),f=Object(I.a)(z,2),o=f[0],c=f[1],h=Object(i.useCallback)(Object(v.a)(Object(E.a)().mark(function a(){var _;return Object(E.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,Object(u.f)(Number(n));case 2:_=r.sent,_.success&&c(Object(O.a)({},_.data));case 4:case"end":return r.stop()}},a)})),[n]),G=Object(i.useCallback)(function(a){c(function(_){var s;return Object(O.a)(Object(O.a)({},_),{},{users:_?_==null||(s=_.users)===null||s===void 0?void 0:s.filter(function(r){return r.id!==a}):[]})}),Object(u.d)(Number(n),a).then(function(_){_.success&&c(function(s){return Object(O.a)(Object(O.a)({},s),{},{users:_.data})})})},[n]),J=Object(i.useCallback)(function(a){var _;!a||o!=null&&(_=o.users)!==null&&_!==void 0&&_.find(function(s){return s.id===a})||Object(u.a)(Number(n),a).then(function(s){s.success&&c(function(r){return Object(O.a)(Object(O.a)({},r),{},{users:s.data})})})},[o,n]);Object(i.useEffect)(function(){if(n==="new"){c({});return}h()},[n,h]);var V=Object(i.useMemo)(function(){return{onFinish:function(){var a=Object(v.a)(Object(E.a)().mark(function s(r){var j,M;return Object(E.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(M=Object(O.a)({},r),n!=="new"){l.next=8;break}return l.next=4,Object(u.b)(M);case 4:j=l.sent,j.success&&d.f.push("/users/groups/".concat(j.data.id)),l.next=11;break;case 8:return l.next=10,Object(u.e)(Number(n),M);case 10:j=l.sent;case 11:U.b.success(j.message);case 12:case"end":return l.stop()}},s)}));function _(s){return a.apply(this,arguments)}return _}(),initialValues:o}},[o,n]);return o?Object(t.jsx)(R.a,{title:S?Object(t.jsx)(d.a,{id:"new_user_group"}):Object(t.jsx)(d.a,{id:"edit_user_group"}),children:Object(t.jsx)(K.a,{children:Object(t.jsxs)(m.a,Object(O.a)(Object(O.a)({},V),{},{children:[Object(t.jsxs)(m.a.Group,{children:[Object(t.jsx)(W.a,{width:"md",name:"name",label:Object(t.jsx)(d.a,{id:"name"}),tooltip:Object(t.jsx)(d.a,{id:"name"}),placeholder:N.formatMessage({id:"name"}),required:!0}),Object(t.jsx)(m.a.Item,{style:{minWidth:"300px"},name:"parent_id",label:Object(t.jsx)(d.a,{id:"parent_id_group",defaultMessage:"parent_id_group"}),valuePropName:"value",children:Object(t.jsx)(y.a,{})}),Object(t.jsx)(g.a,{name:"registerable",label:Object(t.jsx)(d.a,{id:"registerable"})})]}),n!=="new"&&Object(t.jsxs)(L.a.Fragment,{children:[Object(t.jsxs)(m.a.Group,{children:[Object(t.jsx)(C.a,{children:Object(t.jsx)(d.a,{id:"add_person_to_group",defaultMessage:"Add User to group"})}),Object(t.jsx)(x.a,{onChange:function(_){return J(Number(_))}})]}),Object(t.jsx)(P.a,{}),Object(t.jsx)(D.b,{size:"small",itemLayout:"horizontal",dataSource:o.users,renderItem:function(_){return Object(t.jsxs)(D.b.Item,{actions:[Object(t.jsxs)(A.a,{onClick:function(){return G(_.id)},type:"primary",icon:Object(t.jsx)(p.a,{}),size:"small",danger:!0,children:[" ",Object(t.jsx)(d.a,{id:"delete"})]},"delete")],children:[_.first_name," ",_.last_name," ",Object(t.jsx)("small",{children:_.email})]})}})]}),Object(t.jsx)(P.a,{})]}))})}):Object(t.jsx)(T.a,{})}}}]);

//# sourceMappingURL=p__UserGroups__form.2f82711b.async.js.map