"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4471],{88284:function(ge,S,e){var o=e(1413),_=e(67294),I=e(32857),g=e(84089),y=function(a,C){return _.createElement(g.Z,(0,o.Z)((0,o.Z)({},a),{},{ref:C,icon:I.Z}))},O=_.forwardRef(y);S.Z=O},28508:function(ge,S,e){var o=e(1413),_=e(67294),I=e(89503),g=e(84089),y=function(a,C){return _.createElement(g.Z,(0,o.Z)((0,o.Z)({},a),{},{ref:C,icon:I.Z}))},O=_.forwardRef(y);S.Z=O},69753:function(ge,S,e){var o=e(1413),_=e(67294),I=e(49495),g=e(84089),y=function(a,C){return _.createElement(g.Z,(0,o.Z)((0,o.Z)({},a),{},{ref:C,icon:I.Z}))},O=_.forwardRef(y);S.Z=O},47389:function(ge,S,e){var o=e(1413),_=e(67294),I=e(27363),g=e(84089),y=function(a,C){return _.createElement(g.Z,(0,o.Z)((0,o.Z)({},a),{},{ref:C,icon:I.Z}))},O=_.forwardRef(y);S.Z=O},55725:function(ge,S,e){var o=e(1413),_=e(67294),I=e(85118),g=e(84089),y=function(a,C){return _.createElement(g.Z,(0,o.Z)((0,o.Z)({},a),{},{ref:C,icon:I.Z}))},O=_.forwardRef(y);S.Z=O},56717:function(ge,S,e){var o=e(1413),_=e(67294),I=e(93696),g=e(84089),y=function(a,C){return _.createElement(g.Z,(0,o.Z)((0,o.Z)({},a),{},{ref:C,icon:I.Z}))},O=_.forwardRef(y);S.Z=O},51042:function(ge,S,e){var o=e(1413),_=e(67294),I=e(42110),g=e(84089),y=function(a,C){return _.createElement(g.Z,(0,o.Z)((0,o.Z)({},a),{},{ref:C,icon:I.Z}))},O=_.forwardRef(y);S.Z=O},63434:function(ge,S,e){var o=e(1413),_=e(45987),I=e(22270),g=e(84567),y=e(67294),O=e(90789),v=e(57021),a=e(85893),C=["options","fieldProps","proFieldProps","valueEnum"],T=y.forwardRef(function(b,A){var Z=b.options,P=b.fieldProps,j=b.proFieldProps,t=b.valueEnum,M=(0,_.Z)(b,C);return(0,a.jsx)(v.Z,(0,o.Z)({ref:A,valueType:"checkbox",valueEnum:(0,I.h)(t,void 0),fieldProps:(0,o.Z)({options:Z},P),lightProps:(0,o.Z)({labelFormatter:function(){return(0,a.jsx)(v.Z,(0,o.Z)({ref:A,valueType:"checkbox",mode:"read",valueEnum:(0,I.h)(t,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,o.Z)({options:Z},P),proFieldProps:j},M))}},M.lightProps),proFieldProps:j},M))}),X=y.forwardRef(function(b,A){var Z=b.fieldProps,P=b.children;return(0,a.jsx)(g.Z,(0,o.Z)((0,o.Z)({ref:A},Z),{},{children:P}))}),E=(0,O.G)(X,{valuePropName:"checked"}),U=E;U.Group=T,S.Z=U},31199:function(ge,S,e){var o=e(1413),_=e(45987),I=e(67294),g=e(57021),y=e(85893),O=["fieldProps","min","proFieldProps","max"],v=function(T,X){var E=T.fieldProps,U=T.min,b=T.proFieldProps,A=T.max,Z=(0,_.Z)(T,O);return(0,y.jsx)(g.Z,(0,o.Z)({valueType:"digit",fieldProps:(0,o.Z)({min:U,max:A},E),ref:X,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:b},Z))},a=I.forwardRef(v);S.Z=a},86615:function(ge,S,e){var o=e(1413),_=e(45987),I=e(22270),g=e(55742),y=e(67294),O=e(90789),v=e(57021),a=e(85893),C=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],T=y.forwardRef(function(b,A){var Z=b.fieldProps,P=b.options,j=b.radioType,t=b.layout,M=b.proFieldProps,L=b.valueEnum,ee=(0,_.Z)(b,C);return(0,a.jsx)(v.Z,(0,o.Z)((0,o.Z)({valueType:j==="button"?"radioButton":"radio",ref:A,valueEnum:(0,I.h)(L,void 0)},ee),{},{fieldProps:(0,o.Z)({options:P,layout:t},Z),proFieldProps:M,filedConfig:{customLightMode:!0}}))}),X=y.forwardRef(function(b,A){var Z=b.fieldProps,P=b.children;return(0,a.jsx)(g.ZP,(0,o.Z)((0,o.Z)({},Z),{},{ref:A,children:P}))}),E=(0,O.G)(X,{valuePropName:"checked",ignoreWidth:!0}),U=E;U.Group=T,U.Button=g.ZP.Button,U.displayName="ProFormComponent",S.Z=U},90672:function(ge,S,e){var o=e(1413),_=e(45987),I=e(67294),g=e(57021),y=e(85893),O=["fieldProps","proFieldProps"],v=function(C,T){var X=C.fieldProps,E=C.proFieldProps,U=(0,_.Z)(C,O);return(0,y.jsx)(g.Z,(0,o.Z)({ref:T,valueType:"textarea",fieldProps:X,proFieldProps:E},U))};S.Z=I.forwardRef(v)},16894:function(ge,S,e){var o=e(48433);S.ZP=o.Z},20568:function(ge,S,e){e.d(S,{Z:function(){return se}});var o=e(19632),_=e.n(o),I=e(97857),g=e.n(I),y=e(5574),O=e.n(y),v=e(67294),a=e(17578),C=e(78957),T=e(96746),X=e(55102),E=e(14726),U=e(2487),b=e(72252),A=e(82061),Z=e(55725),P=e(69753),j=e(80854),t=e(29477),M=e(85893),L=function(te){var r=te.directory,J=te.onUploaded;return(0,M.jsxs)(C.Z,{align:"start",children:[(0,M.jsxs)(T.Z.Text,{children:[(0,M.jsx)(j.FormattedMessage,{id:"pages.files.filesBrowser"}),(0,M.jsx)(T.Z.Text,{code:!0,children:r})]}),(0,M.jsx)(t.Z,{url:"/api/admin/file/upload",name:"file[]",data:{target:r},onUpload:function(_e){_e.success&&J(r,_e.data)}})]})},ee=function(te){var r=te.defaultDirectory,J=r===void 0?"/":r,ue=te.onFile,_e=te.hideDeleteBtn,ie=_e===void 0?!1:_e,ne=te.forceLoading,s=ne===void 0?!1:ne,R=(0,j.useIntl)(),w=(0,v.useState)({loading:!1,name:"",directory:J,current_page:1,data:void 0,per_page:1,last_page:1,total:0}),n=O()(w,2),p=n[0],m=n[1],u=(0,v.useRef)(),l=(0,v.useCallback)(function(f){m(function(c){return g()(g()({},c),{},{loading:f})})},[]),i=(0,v.useCallback)(function(f,c){f.success&&m(function(F){return g()(g()(g()({},F),f.data),{},{data:[{url:c.split("/").slice(0,-1).join("/"),name:"..",created_at:"",mime:"directory"}].concat(_()(f.data.data.map(function(D){return g()(g()({},D),{},{url:D.mime==="directory"?"".concat(c,"/").concat(D.name):D.url})}))).filter(function(D){return c==="/"||c===J?D.name!=="..":!0}),directory:c,loading:!1})})},[l]),d=(0,v.useCallback)(function(f){var c,F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,D=function(){return u.current&&u.current.abort()};return D(),u.current=new AbortController,l(!0),(0,a.QZ)({directory:f,page:F},{signal:(c=u.current)===null||c===void 0?void 0:c.signal}).then(function(k){k.success&&i(k,f)}).catch(function(){return l(!1)}),function(){D()}},[l]);(0,v.useEffect)(function(){return d(J)},[J,d]);var W=(0,v.useCallback)(function(f){l(!0),(0,a.Od)(f).then(function(){d(p.directory)}).catch(function(){l(!1)})},[d,l,p.directory]),$=(0,v.useCallback)(function(f,c){var F,D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,k=function(){return u.current&&u.current.abort()};return k(),u.current=new AbortController,l(!0),(0,a.ht)({directory:f,name:c,page:D},{signal:(F=u.current)===null||F===void 0?void 0:F.signal}).then(function(pe){pe.success&&i(pe,f)}).catch(function(){return l(!1)}),function(){k()}},[l]);return(0,M.jsxs)("div",{className:"file-browser",children:[(0,M.jsxs)("div",{className:"file-browser__header",children:[(0,M.jsx)(X.Z,{placeholder:R.formatMessage({id:"search_file"}),className:"file-browser__input",onChange:function(c){return m(function(F){return g()(g()({},F),{},{name:c.target.value})})},value:p.name}),(0,M.jsxs)("div",{children:[(0,M.jsx)(E.ZP,{className:"file-browser__button",onClick:function(){return d(p.directory)},children:(0,M.jsx)(j.FormattedMessage,{id:"reset"})}),(0,M.jsx)(E.ZP,{className:"file-browser__button",type:"primary",onClick:function(){return $(p.directory,p.name)},children:(0,M.jsx)(j.FormattedMessage,{id:"query"})})]})]}),(0,M.jsx)(U.Z,{loading:p.loading||s,size:"small",itemLayout:"horizontal",dataSource:p.data,header:(0,M.jsx)(L,{directory:p.directory,onUploaded:function(c,F){F&&(d(c),ue&&ue(F,c))}}),footer:(0,M.jsx)(L,{directory:p.directory,onUploaded:function(c,F){d(c),F&&ue&&ue(F,c)}}),renderItem:function(c){return(0,M.jsx)(U.Z.Item,{actions:c.mime!=="directory"&&!ie?[(0,M.jsx)(E.ZP,{type:"default",danger:!0,icon:(0,M.jsx)(A.Z,{}),size:"small",onClick:function(){return W(c.url)}},"dir")]:[],children:(0,M.jsx)(U.Z.Item.Meta,{avatar:c.mime==="directory"?(0,M.jsx)(E.ZP,{type:"primary",icon:(0,M.jsx)(Z.Z,{}),size:"small",onClick:function(){return d(c.url)}}):(0,M.jsx)("a",{href:c.url,target:"_blank",rel:"noreferrer",children:(0,M.jsx)(E.ZP,{type:"default",icon:(0,M.jsx)(P.Z,{}),size:"small"})}),description:(0,M.jsx)(v.Fragment,{children:(0,M.jsx)(E.ZP,{type:"text",size:"small",onClick:function(){return c.mime==="directory"?d(c.url):ue&&ue(c,p.directory)},children:c.name})})})})}}),(0,M.jsx)(b.Z,{pageSizeOptions:[],current:p.current_page,total:p.total,pageSize:p.per_page,onChange:function(c){return d(p.directory,c)}})]})},se=ee},29477:function(ge,S,e){var o=e(97857),_=e.n(o),I=e(5574),g=e.n(I),y=e(55523),O=e(75842),v=e(21974),a=e(67294),C=e(80854),T=e(85893);function X(E){var U=E.onChange,b=E.onUpload,A=E.url,Z=E.name,P=E.extra,j=E.accept,t=E.data,M=E.wrapInForm,L=M===void 0?!0:M,ee=E.title,se=E.formProps,Y=E.maxFiles,te=E.clearListAfterUpload,r=E.hideLabel,J=E.disabled,ue=E.showUploadList,_e=(0,a.useState)(),ie=g()(_e,2),ne=ie[0],s=ie[1],R=(0,C.useIntl)();return t&&t[Z]&&delete t[Z],(0,T.jsx)(v.Z,{condition:L,wrap:function(n){return(0,T.jsx)(O.Z,_()(_()({},se),{},{children:n}))},children:(0,T.jsx)(y.Z,{title:ee||" ".concat(R.formatMessage({id:"upload_click_here"})),placeholder:R.formatMessage({id:"upload_click_here"}),label:!r&&(0,T.jsx)(C.FormattedMessage,{id:"upload"}),max:Y!=null?Y:2,fieldProps:{data:t,accept:j,name:Z,showUploadList:ue,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))},onChange:function(n){s(n),U&&U(n),n.file.status==="done"&&(b&&b(n.file.response),te&&s(void 0))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(A),extra:P,fileList:ne==null?void 0:ne.fileList,disabled:J})})}S.Z=X},19411:function(ge,S,e){e.d(S,{ZP:function(){return U}});var o=e(15009),_=e.n(o),I=e(99289),g=e.n(I),y=e(17578),O=e(2800),v=e.n(O),a=e(67294),C=e(80854),T=e(85893),X=function(A){var Z=A.attrs,P=Z.href,j=P.split("/").pop();return(0,T.jsx)("p",{children:(0,T.jsx)("a",{rel:"noreferrer",href:P,target:"_blank",children:j})})},E=function(A){var Z=A.value,P=A.onChange,j=A.directory,t=j===void 0?"/wysiwyg":j,M=(0,C.useIntl)();return(0,T.jsx)("div",{className:"form-wysiwyg-markdown",children:(0,T.jsx)(v(),{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function(){return!0},component:X}],uploadImage:function(){var L=g()(_()().mark(function ee(se){var Y,te;return _()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,(0,y.ws)(se,t);case 2:if(Y=J.sent,!Y.success){J.next=8;break}if(!se.type.includes("image/")){J.next=7;break}return te=Y.data[0].name.includes("/")?Y.data[0].name:"".concat(t).concat(Y.data[0].name),J.abrupt("return",(0,y.pV)(te,1e3));case 7:return J.abrupt("return",Y.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return J.stop()}},ee)}));return function(ee){return L.apply(this,arguments)}}(),defaultValue:Z||"",onChange:function(ee){return P&&P(ee())},placeholder:M.formatMessage({id:"wysiwyg_placeholder"})})})},U=E},62343:function(ge,S,e){var o=e(52677),_=e.n(o),I=e(5574),g=e.n(I),y=e(952),O=e(37476),v=e(5966),a=e(52688),C=e(86615),T=e(90672),X=e(63434),E=e(31199),U=e(55102),b=e(14726),A=e(75842),Z=e(49288),P=e(67294),j=e(43564),t=e(80854),M=e(20568),L=e(19411),ee=e(88284),se=e(28508),Y=e(55171),te=e.n(Y),r=e(85893),J=function(ie){var ne=ie.value,s=ie.onChange,R=ie.type,w=R===void 0?"file":R,n=(0,P.useState)(!1),p=g()(n,2),m=p[0],u=p[1];return(0,r.jsxs)(P.Fragment,{children:[(0,r.jsxs)(y.ZP.Group,{children:[(0,r.jsx)(U.Z,{value:ne,readOnly:!0}),(0,r.jsxs)(b.ZP,{size:"small",type:"primary",onClick:function(){return u(!m)},children:["toggle ",w," browser"]})]}),m&&(0,r.jsx)(M.Z,{onFile:function(i,d){return s&&s("".concat(d,"/").concat(i.name))}})]})},ue=function(ie){var ne=(0,t.useIntl)(),s=ie.visible,R=ie.onVisibleChange,w=ie.onFinish,n=ie.id,p=ie.initialData,m=ie.groups,u=A.Z.useForm(),l=g()(u,1),i=l[0],d=!n||n===-1,W=(0,P.useState)("text"),$=g()(W,2),f=$[0],c=$[1],F=(0,P.useCallback)(function(){return!!(i.getFieldValue("group")==="global"||p)},[i,p]),D=(0,P.useState)(""),k=g()(D,2),pe=k[0],ye=k[1];(0,P.useEffect)(function(){if(_()(n)==="object"){var z;i.setFieldsValue(n),c((z=n.type)!==null&&z!==void 0?z:"text")}else n&&n!==-1?(0,j.GF)(Number(n)).then(function(Q){Q.success&&(i.setFieldsValue(Q.data),c(Q.data.type),ye(Q.data.group))}):(i.resetFields(),c("text"))},[n,i,p]);var de=(0,P.useCallback)(function(z){z.type&&z.type!==f&&c(z.type)},[f]);return(0,r.jsxs)(O.Y,{form:i,title:ne.formatMessage({id:n?"editSetting":"newSetting",defaultMessage:n?"editSetting":"newSetting"}),width:"60vw",visible:!!s,onVisibleChange:R,onFinish:w,onValuesChange:de,children:[(0,r.jsxs)(y.ZP.Group,{children:[p?(0,r.jsx)(v.Z,{label:(0,r.jsx)(t.FormattedMessage,{id:"group",defaultMessage:"group"}),rules:[{required:!0}],width:"md",name:"group",disabled:F()}):(0,r.jsx)(y.ZP.Item,{label:(0,r.jsx)(t.FormattedMessage,{id:"group",defaultMessage:"group"}),name:"group",children:(0,r.jsx)(Z.Z,{style:{width:"300px"},autoFocus:!0,value:pe,onChange:function(Q){return ye(Q)},filterOption:function(Q,Ie){var re;return(Ie==null||(re=Ie.children)===null||re===void 0?void 0:re.toString().toLowerCase().indexOf(Q.toLowerCase()))!==-1},children:m.map(function(z){return(0,r.jsx)(Z.Z.Option,{value:z,children:z},z)})})}),(0,r.jsx)(v.Z,{label:(0,r.jsx)(t.FormattedMessage,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key",disabled:F()})]}),(0,r.jsxs)(y.ZP.Group,{children:[(0,r.jsx)(a.Z,{name:"enumerable",disabled:F(),label:(0,r.jsx)(t.FormattedMessage,{id:"enumerable",defaultMessage:"enumerable"})}),(0,r.jsx)(a.Z,{name:"public",disabled:F(),label:(0,r.jsx)(t.FormattedMessage,{id:"public",defaultMessage:"public"})})]}),(0,r.jsx)(y.ZP.Group,{children:(0,r.jsx)(C.Z.Group,{disabled:!!(!d||p),name:"type",label:(0,r.jsx)(t.FormattedMessage,{id:"type"}),options:[{label:"text",value:"text"},{label:"markdown",value:"markdown"},{label:"json",value:"json"},{label:"file",value:"file"},{label:"image",value:"image"},{label:"boolean",value:"boolean"},{label:"number",value:"number"},{label:"array",value:"array"}]})}),(0,r.jsxs)("div",{children:[f==="text"&&(0,r.jsx)(v.Z,{width:"lg",name:"value",label:(0,r.jsx)(t.FormattedMessage,{id:"value"})}),f==="json"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T.Z,{width:"lg",name:"value",label:(0,r.jsx)(t.FormattedMessage,{id:"value"}),tooltip:"".concat(ne.formatMessage({id:"example_json"}),': {"name":"John", "age":30, "city":["New York","Warsaw"]}')}),(0,r.jsx)(y.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,r.jsx)(te(),{src:JSON.parse(i.getFieldValue("value"))})}catch(Q){return(0,r.jsx)(te(),{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]}),(f==="file"||f==="image")&&(0,r.jsx)(y.ZP.Item,{name:"value",label:"value",tooltip:"select file from current repository or upload new one",valuePropName:"value",children:(0,r.jsx)(J,{type:f})}),f==="markdown"&&(0,r.jsx)(y.ZP.Item,{name:"value",label:"value",tooltip:"The editor is WYSIWYG and includes formatting tools whilst retaining the ability to write markdown shortcuts inline and output plain Markdown.",valuePropName:"value",children:(0,r.jsx)(L.ZP,{directory:"settings/wysiwyg"})}),f==="boolean"?(0,r.jsx)(a.Z,{name:"value",label:(0,r.jsx)(t.FormattedMessage,{id:"value"}),checkedChildren:(0,r.jsx)(ee.Z,{}),unCheckedChildren:(0,r.jsx)(se.Z,{})}):(0,r.jsx)(y.ZP.Item,{noStyle:!0,hidden:!0,children:(0,r.jsx)(X.Z,{name:"data",valuePropName:"data"})}),f==="number"&&(0,r.jsx)(E.Z,{name:"data",label:(0,r.jsx)(t.FormattedMessage,{id:"value"})}),f==="array"&&(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(T.Z,{width:"lg",name:"value",label:(0,r.jsx)(t.FormattedMessage,{id:"value"}),tooltip:"".concat(ne.formatMessage({id:"example_json"}),": ['tutor', 'student']")}),(0,r.jsx)(y.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,r.jsx)(te(),{src:JSON.parse(i.getFieldValue("value"))})}catch(Q){return(0,r.jsx)(te(),{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]})]})]})};S.ZP=ue},59234:function(ge,S,e){e.d(S,{Wg:function(){return w}});var o=e(5574),_=e.n(o),I=e(19632),g=e.n(I),y=e(15009),O=e.n(y),v=e(97857),a=e.n(v),C=e(99289),T=e.n(C),X=e(31472),E=e(51042),U=e(16894),b=e(2453),A=e(83062),Z=e(14726),P=e(86738),j=e(67294),t=e(80854),M=e(43564),L=e(56717),ee=e(47389),se=e(82061),Y=e(62343),te=e(20188),r=e(85893),J=function(){var l=T()(O()().mark(function i(d,W,$){var f,c;return O()().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return f=b.ZP.loading(d.formatMessage({id:"loading"})),D.prev=1,D.next=4,$&&$!==-1?(0,M.VP)($,a()({},W)):(0,M.oh)(a()({},W));case 4:return c=D.sent,f(),b.ZP.success(d.formatMessage({id:"success"})),D.abrupt("return",{success:!0,updatedSettings:c});case 10:return D.prev=10,D.t0=D.catch(1),f(),b.ZP.error(d.formatMessage({id:"error"})),D.abrupt("return",{success:!1,updateSettings:null});case 15:case"end":return D.stop()}},i,null,[[1,10]])}));return function(d,W,$){return l.apply(this,arguments)}}(),ue=function(){var l=T()(O()().mark(function i(d,W){var $;return O()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return $=b.ZP.loading(d.formatMessage({id:"loading"})),c.prev=1,c.next=4,(0,M.Rb)(W);case 4:return $(),b.ZP.success(d.formatMessage({id:"success"})),c.abrupt("return",!0);case 9:return c.prev=9,c.t0=c.catch(1),$(),b.ZP.error(d.formatMessage({id:"error"})),c.abrupt("return",!1);case 14:case"end":return c.stop()}},i,null,[[1,9]])}));return function(d,W){return l.apply(this,arguments)}}(),_e=function(i){return i.toLowerCase().replace(/(_\w)/g,function(d){return d.toUpperCase().substr(1)})},ie=["statistics","user_submission","user_projects"],ne=["public"],s=["email","sms"],R=function(i){return"hideInMenu-".concat(_e(i.split("/").join("_")))},w=function(i){return"disableTopicType-".concat(i)},n=[].concat(g()(Object.keys(X.oz).map(function(l){return{key:w(l),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),g()(["ECommerce","Certificates"].map(function(l){return{key:"disable-".concat(l),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),g()(ne.map(function(l){return{key:"showInCourseAdditionalSettings-".concat(l),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),g()(ie.map(function(l){return{key:"hideInCourseTabs-".concat(l),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),g()(s.map(function(l){return{key:"hideTemplateTab-".concat(l),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}}))).reduce(function(l,i,d){return l[i.key]=a()(a()({},i),{},{id:-100*d}),l},{}),p=a()({logo:{id:-1,key:"logo",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},frontURL:{id:-2,key:"frontURL",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},maxLessonsNestingInProgram:{id:-4,key:"maxLessonsNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},minTopicNestingInProgram:{id:-5,key:"minTopicNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},companyName:{id:-6,key:"companyName",group:"global",value:"Wellms",public:!0,enumerable:!0,sort:0,type:"text",data:"Wellms"},companyURL:{id:-7,key:"companyURL",group:"global",value:"https://www.wellms.io/",public:!0,enumerable:!0,sort:0,type:"text",data:"https://www.wellms.io/"},logoLogin:{id:-8,key:"logoLogin",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},logoFooter:{id:-9,key:"logoFooter",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},footerFontColor:{id:-10,key:"footerFontColor",group:"global",value:"#00000072",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},showLoginBackgroundImage:{id:-11,key:"showLoginBackgroundImage",group:"global",value:"true",public:!0,enumerable:!0,sort:0,type:"boolean",data:"EscolaLMS"},loginHeaderBackgroundColor:{id:-12,key:"loginHeaderBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},loginHeaderFontColor:{id:-13,key:"loginHeaderFontColor",group:"global",value:"#000000D8",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},loginFormBackgroundColor:{id:-14,key:"loginFormBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},contentBackgroundColor:{id:-15,key:"contentBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},technicalMaintenance:{id:-16,key:"technicalMaintenance",group:"global",value:"false",public:!0,enumerable:!0,sort:0,type:"boolean",data:"EscolaLMS"},technicalMaintenanceText:{id:-17,key:"technicalMaintenanceText",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"}},n),m=function(i){return typeof i.path=="string"},u=function(){var i=(0,j.useState)(!1),d=_()(i,2),W=d[0],$=d[1],f=(0,j.useRef)(),c=(0,t.useIntl)(),F=(0,j.useState)(p),D=_()(F,2),k=D[0],pe=D[1],ye=(0,t.useModel)("@@initialState"),de=ye.setInitialState,z=ye.initialState;(0,j.useEffect)(function(){(0,te.s)().then(function(re){var me=Object.values(re.routes).filter(m).filter(function(H){return H.path&&H.path!=="/"&&H.layout!==!1}).map(function(H){return{path:H.path,key:R(H.path),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}});pe(function(H){return a()(a()({},H),me)})})},[]),(0,j.useEffect)(function(){f.current&&f.current.reload()},[k]);var Q=[{title:(0,r.jsx)(t.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0,render:function(me,H){return(0,r.jsx)(j.Fragment,{children:(0,r.jsxs)(A.Z,{title:(0,r.jsx)(t.FormattedMessage,{id:"Settings.tooltip.".concat(H.key)}),children:[H.key," ",(0,r.jsx)(L.Z,{})]})})}},{title:(0,r.jsx)(t.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:(0,r.jsx)(t.FormattedMessage,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(me,H){return H.value}},{hideInSearch:!0,title:(0,r.jsx)(t.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(me,H){return[H.id>0?(0,r.jsx)(A.Z,{title:(0,r.jsx)(t.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,r.jsx)(Z.ZP,{type:"primary",icon:(0,r.jsx)(ee.Z,{}),onClick:function(){return $(H.id)}})},"edit"):(0,r.jsx)(A.Z,{title:(0,r.jsx)(t.FormattedMessage,{id:"create",defaultMessage:"create"}),children:(0,r.jsx)(Z.ZP,{type:"primary",icon:(0,r.jsx)(E.Z,{}),onClick:function(){$(k[H.key]||-1)}})},"create"),(0,r.jsx)(P.Z,{title:(0,r.jsx)(t.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:T()(O()().mark(function oe(){var he;return O()().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return fe.next=2,ue(c,H.id);case 2:he=fe.sent,he&&($(!1),f.current&&f.current.reload());case 4:case"end":return fe.stop()}},oe)})),okText:(0,r.jsx)(t.FormattedMessage,{id:"yes",defaultMessage:"Yes"}),cancelText:(0,r.jsx)(t.FormattedMessage,{id:"no",defaultMessage:"No"}),children:H.id>0?(0,r.jsx)(A.Z,{title:(0,r.jsx)(t.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,r.jsx)(Z.ZP,{type:"primary",icon:(0,r.jsx)(se.Z,{}),danger:!0})}):null},"delete")]}}],Ie=function(me){var H;if(me&&(!(z!=null&&(H=z.config)!==null&&H!==void 0&&H.length)&&me&&de(a()(a()({},z),{},{config:[me]})),!!(z!=null&&z.config))){var oe=z==null?void 0:z.config.map(function(he){return he.key===me.key?a()(a()({},he),me):he});de(a()(a()({},z),{},{config:oe}))}};return(0,r.jsxs)(j.Fragment,{children:[(0,r.jsx)(U.ZP,{headerTitle:c.formatMessage({id:"menu.settings"}),search:!1,toolBarRender:!1,actionRef:f,rowKey:"id",request:function(me){var H=me.pageSize,oe=me.current;return(0,M.Xd)({per_page:H,current:oe,group:"global"}).then(function(he){if(he.success){var xe=[].concat(g()(Object.keys(k).map(function(fe){return he.data.find(function(K){return K.key===fe})||k[fe]})),g()(he.data.filter(function(fe){return!Object.keys(k).includes(fe.key)})));return{data:xe,total:xe.length,success:!0}}return[]})},columns:Q}),(0,r.jsx)(Y.ZP,{groups:[],id:W,visible:W,initialData:k,onVisibleChange:function(me){return!me&&$(!1)},onFinish:function(){var re=T()(O()().mark(function me(H){var oe,he,xe,fe;return O()().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return oe=H,oe.type==="number"&&(oe=a()(a()({},oe),{},{value:String(oe.data)})),oe.type==="boolean"&&(oe=a()(a()({},oe),{},{value:oe.data})),oe.type==="array"&&(oe=a()(a()({},oe),{},{value:JSON.parse(oe.value)})),ce.next=6,J(c,oe,Number(W));case 6:he=ce.sent,xe=he.success,fe=he.updatedSettings,xe&&(fe!=null&&fe.success&&Ie(fe.data),$(!1),f.current&&f.current.reload());case 10:case"end":return ce.stop()}},me)}));return function(me){return re.apply(this,arguments)}}()})]})};S.ZP=u},85228:function(ge,S,e){e.r(S),e.d(S,{default:function(){return ce}});var o=e(5574),_=e.n(o),I=e(26271),g=e(74453),y=e(74330),O=e(38925),v=e(67294),a=e(80854),C=e(43564),T=e(59234),X=e(15009),E=e.n(X),U=e(99289),b=e.n(U),A=e(19632),Z=e.n(A),P=e(52677),j=e.n(P),t=e(66419),M=e(47389),L=e(16894),ee=e(66309),se=e(83062),Y=e(14726),te=e(97857),r=e.n(te),J=e(37476),ue=e(952),_e=e(52688),ie=e(90672),ne=e(96746),s=e(75842),R=e(43669),w=e(5966),n=e(85893),p=function(x){var h=x.field,B=x.name;return h!=null&&h.includes("boolean")?(0,n.jsx)(_e.Z,{name:B,checkedChildren:(0,n.jsx)(R._H,{id:"true"}),unCheckedChildren:(0,n.jsx)(R._H,{id:"false"})}):(0,n.jsx)(w.Z,{width:"lg",name:B})},m=p,u=e(55171),l=e.n(u),i=ne.Z.Text,d=function(q){return q.Array="array",q.String="string",q}(d||{}),W=function(x,h){return h===d.Array?x&&Array.isArray(x)?JSON.stringify(x):"[]":x},$=function(){var x=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",h=arguments.length>1?arguments[1]:void 0;if(h===d.Array){var B=JSON.parse(x);return B&&Array.isArray(B)?B:[]}return x},f=function(x){var h=(0,R.YB)(),B=x.visible,N=x.onVisibleChange,Ee=x.onFinish,G=x.value,ve=s.Z.useForm(),De=_()(ve,1),Pe=De[0],Ce=(0,v.useMemo)(function(){return(G.rules||[]).includes(d.Array)?d.Array:d.String},[G.rules]);return(0,v.useEffect)(function(){Pe.setFieldsValue(r()(r()({},G),{},{value:W(G.value,Ce)}))},[Ce,G,Pe]),(0,n.jsxs)(J.Y,{form:Pe,title:G.full_key,width:"60vw",visible:B,onVisibleChange:N,onFinish:b()(E()().mark(function ae(){var V;return E()().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return le.next=2,(0,C.rF)({key:G.full_key,value:$(Pe.getFieldsValue().value,Ce)});case 2:if(V=le.sent,!V.success){le.next=6;break}return Ee(V.success===!0),le.abrupt("return",V.success);case 6:return le.abrupt("return");case 7:case"end":return le.stop()}},ae)})),children:[(0,n.jsxs)(ue.ZP.Group,{children:[(0,n.jsx)(_e.Z,{disabled:!0,name:"public",label:(0,n.jsx)(a.FormattedMessage,{id:"public",defaultMessage:"public"})}),(0,n.jsx)(_e.Z,{disabled:!0,name:"readonly",label:(0,n.jsx)(a.FormattedMessage,{id:"readonly",defaultMessage:"readonly"})}),(0,n.jsx)(ue.ZP.Item,{shouldUpdate:!0,label:(0,n.jsx)(a.FormattedMessage,{id:"rules",defaultMessage:"rules"}),children:function(){return(0,n.jsx)(i,{code:!0,children:JSON.stringify(Pe.getFieldValue("rules"))})}})]}),Ce===d.Array?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(ie.Z,{width:"lg",name:"value",label:(0,n.jsx)(a.FormattedMessage,{id:"value"}),tooltip:"".concat(h.formatMessage({id:"example_json"}),': ["first_field_name", "second_field_name"]')}),(0,n.jsx)(ue.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,n.jsx)(l(),{src:JSON.parse(Pe.getFieldValue("value"))})}catch(V){return(0,n.jsx)(l(),{src:JSON.parse('{ "error": "cannot parse this array" }')})}}})]}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(ue.ZP.Item,{shouldUpdate:!0,label:(0,n.jsx)(a.FormattedMessage,{id:"value"}),children:function(){return(0,n.jsx)(m,{field:Pe.getFieldValue("rules"),name:"value"})}})})]})},c=f,F=[{title:(0,n.jsx)(a.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!1,sorter:!0},{title:(0,n.jsx)(a.FormattedMessage,{id:"readonly",defaultMessage:"readonly"}),dataIndex:"readonly",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(x,h){return(0,n.jsx)(ee.Z,{color:h.readonly?"success":"error",children:(0,n.jsx)(a.FormattedMessage,{id:h.readonly?"true":"false",defaultMessage:h.readonly?"true":"false"})})}},{title:(0,n.jsx)(a.FormattedMessage,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(x,h){return(0,n.jsx)(ee.Z,{color:h.public?"success":"error",children:(0,n.jsx)(a.FormattedMessage,{id:h.public?"true":"false",defaultMessage:h.public?"true":"false"})})}},{title:(0,n.jsx)(a.FormattedMessage,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(x,h){return typeof h.value=="boolean"?(0,n.jsx)(ee.Z,{color:h.value?"success":"error",children:(0,n.jsx)(a.FormattedMessage,{id:h.value?"true":"false",defaultMessage:h.value?"true":"false"})}):Array.isArray(h.value)?h.value.map(function(B){return j()(B)==="object"?v.Children.toArray((0,n.jsx)("p",{children:Object.keys(B).map(function(N){return"".concat(N,": ").concat(B[N])}).join(", ")})):B}):h.value}}],D=function q(x,h){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return!x||j()(x)!=="object"?!1:(Object.keys(x).forEach(function(N){var Ee=x[N];N===h?B.push(x):j()(Ee)==="object"&&q(Ee,h,B)}),B)},k=function(x){var h=x.packageName,B=x.values,N=x.onValueUpdated,Ee=(0,a.useIntl)(),G=(0,v.useState)(),ve=_()(G,2),De=ve[0],Pe=ve[1],Ce=(0,v.useMemo)(function(){var ae=B[h];return D(ae,"rules")},[B,h]);return(0,n.jsxs)(v.Fragment,{children:[(0,n.jsx)(L.ZP,{headerTitle:Ee.formatMessage({id:"menu.settings"}),rowKey:"key",search:{layout:"vertical"},columns:[].concat(F,[{hideInSearch:!0,title:(0,n.jsx)(a.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(V,be){return[(0,n.jsx)(se.Z,{title:(0,n.jsx)(a.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,n.jsx)(Y.ZP,{type:"primary",icon:(0,n.jsx)(M.Z,{}),onClick:function(){return Pe(be)}})},"edit")]}}]),request:function(V,be){var le=V.key,Me=be&&Object.entries(be)[0];return new Promise(function(Oe){var je=Ce?Z()(Ce):[];le&&(je=je.filter(function(Se){return Se.key.toLowerCase().includes(le.toLowerCase())})),Me&&(je=(0,t.Pf)(je,Me[0],Me[1]!=="ascend")),Oe({data:je,success:!0,total:je.length})})}}),De&&(0,n.jsx)(c,{value:De,visible:De!==void 0,onVisibleChange:function(V){return V===!1&&Pe(void 0)},onFinish:b()(E()().mark(function ae(){return E()().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:N();case 1:case"end":return be.stop()}},ae)}))})]})},pe=k,ye=e(9783),de=e.n(ye),z=e(51042),Q=e(2453),Ie=e(86738),re=e(82061),me=e(62343),H=function(){var q=b()(E()().mark(function x(h,B,N){var Ee;return E()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return Ee=Q.ZP.loading(h.formatMessage({id:"loading"})),ve.prev=1,ve.next=4,N&&N!==-1?(0,C.VP)(N,r()({},B)):(0,C.oh)(r()({},B));case 4:return Ee(),Q.ZP.success(h.formatMessage({id:"success"})),ve.abrupt("return",!0);case 9:return ve.prev=9,ve.t0=ve.catch(1),Ee(),Q.ZP.error(h.formatMessage({id:"error"})),ve.abrupt("return",!1);case 14:case"end":return ve.stop()}},x,null,[[1,9]])}));return function(h,B,N){return q.apply(this,arguments)}}(),oe=function(){var q=b()(E()().mark(function x(h,B){var N;return E()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return N=Q.ZP.loading(h.formatMessage({id:"loading"})),G.prev=1,G.next=4,(0,C.Rb)(B);case 4:return N(),Q.ZP.success(h.formatMessage({id:"success"})),G.abrupt("return",!0);case 9:return G.prev=9,G.t0=G.catch(1),N(),Q.ZP.error(h.formatMessage({id:"error"})),G.abrupt("return",!1);case 14:case"end":return G.stop()}},x,null,[[1,9]])}));return function(h,B){return q.apply(this,arguments)}}(),he=function(){var x=(0,v.useState)(!1),h=_()(x,2),B=h[0],N=h[1],Ee=(0,v.useState)([]),G=_()(Ee,2),ve=G[0],De=G[1],Pe=(0,v.useRef)(),Ce=(0,a.useIntl)(),ae=(0,a.useModel)("@@initialState"),V=ae.setInitialState;(0,v.useEffect)(function(){(0,C.FF)().then(function(le){le.success&&De(le.data.filter(function(Me){return Me!=="global"}))})},[]);var be=[{title:(0,n.jsx)(a.FormattedMessage,{id:"group",defaultMessage:"group"}),dataIndex:"group",hideInSearch:!1,key:"group",valueType:"select",width:100,valueEnum:ve.sort().reduce(function(le,Me){return r()(r()({},le),{},de()({},Me,Me))},{})},{title:(0,n.jsx)(a.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:(0,n.jsx)(a.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:(0,n.jsx)(a.FormattedMessage,{id:"enumerable",defaultMessage:"enumerable"}),dataIndex:"enumerable",hideInForm:!0,hideInSearch:!0,render:function(Me,Oe){return(0,n.jsx)(ee.Z,{color:Oe.enumerable?"success":"error",children:(0,n.jsx)(a.FormattedMessage,{id:Oe.enumerable?"true":"false",defaultMessage:Oe.enumerable?"true":"false"})})}},{title:(0,n.jsx)(a.FormattedMessage,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(Me,Oe){return(0,n.jsx)(ee.Z,{color:Oe.public?"success":"error",children:(0,n.jsx)(a.FormattedMessage,{id:Oe.public?"true":"false",defaultMessage:Oe.public?"true":"false"})})}},{hideInSearch:!0,title:(0,n.jsx)(a.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(Me,Oe){return[(0,n.jsx)(se.Z,{title:(0,n.jsx)(a.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,n.jsx)(Y.ZP,{type:"primary",icon:(0,n.jsx)(M.Z,{}),onClick:function(){return N(Oe.id)}})},"edit"),(0,n.jsx)(Ie.Z,{title:(0,n.jsx)(a.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:b()(E()().mark(function je(){var Se;return E()().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Le.next=2,oe(Ce,Oe.id);case 2:Se=Le.sent,Se&&(N(!1),Pe.current&&Pe.current.reload());case 4:case"end":return Le.stop()}},je)})),okText:(0,n.jsx)(a.FormattedMessage,{id:"yes",defaultMessage:"Yes"}),cancelText:(0,n.jsx)(a.FormattedMessage,{id:"no",defaultMessage:"No"}),children:(0,n.jsx)(se.Z,{title:(0,n.jsx)(a.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,n.jsx)(Y.ZP,{type:"primary",icon:(0,n.jsx)(re.Z,{}),danger:!0})})},"delete")]}}];return(0,n.jsxs)(v.Fragment,{children:[(0,n.jsx)(L.ZP,{headerTitle:Ce.formatMessage({id:"menu.settings"}),actionRef:Pe,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[(0,n.jsxs)(Y.ZP,{type:"primary",onClick:function(){N(-1)},children:[(0,n.jsx)(z.Z,{})," ",(0,n.jsx)(a.FormattedMessage,{id:"pages.searchTable.new"})]},"primary")]},request:function(Me){var Oe=Me.pageSize,je=Me.current,Se=Me.group;return(0,C.Xd)({per_page:Oe,current:je,group:Se}).then(function(Ae){return Ae.success?{data:Ae.data.filter(function(Le){return Le.group!=="global"}),total:Ae.meta.total,success:!0}:[]})},columns:be}),(0,n.jsx)(me.ZP,{groups:ve,id:B,visible:Number.isInteger(B),onVisibleChange:function(Me){return!Me&&N(!1)},onFinish:function(){var le=b()(E()().mark(function Me(Oe){var je,Se,Ae;return E()().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return je=Oe,Te.next=3,H(Ce,je,Number(B));case 3:if(Se=Te.sent,!Se){Te.next=12;break}if(N(!1),Pe.current&&Pe.current.reload(),je.group!=="global"){Te.next=12;break}return Te.next=10,(0,C.Xd)({current:1,per_page:100,group:"global"});case 10:Ae=Te.sent,V(function(Re){return r()(r()({},Re),{},{config:Ae.success?Ae.data:Re==null?void 0:Re.config})});case 12:case"end":return Te.stop()}},Me)}));return function(Me){return le.apply(this,arguments)}}()})]})},xe=he;function fe(q){var x=q.replaceAll("escolalms",""),h=x.split("_"),B=h.map(function(N){return N.charAt(0).toUpperCase()+N.slice(1)});return B.join(" ")}function K(q,x){var h=["global_settings","user_settings"];return h.includes(q)?x.formatMessage({id:String(q)}):x.formatMessage({id:"Settings.package"},{package:fe(q)})}var ce=function(){var q=(0,a.useParams)(),x=(0,a.useIntl)(),h=q.tab,B=h===void 0?"user_settings":h,N=(0,v.useState)(),Ee=_()(N,2),G=Ee[0],ve=Ee[1],De=(0,v.useCallback)(function(){(0,C.rH)().then(function(V){V.success&&ve(V.data)})},[]),Pe=(0,a.useModel)("@@initialState"),Ce=Pe.initialState,ae=(0,v.useCallback)(function(){var V;return(Ce==null||(V=Ce.config)===null||V===void 0?void 0:V.length)!==0},[Ce]);return(0,v.useEffect)(function(){De()},[]),G?(0,n.jsxs)(g._z,{title:K(B,x),header:{breadcrumb:{routes:[{path:"settings",breadcrumbName:x.formatMessage({id:"menu.Configuration.settings"})},{path:String(B),breadcrumbName:K(B,x)}]}},children:[!ae()&&(0,n.jsx)(O.Z,{message:(0,n.jsx)(a.FormattedMessage,{id:"global_settings_alert_title",defaultMessage:"Add global settings"}),description:(0,n.jsx)(a.FormattedMessage,{id:"global_settings_alert_description",defaultMessage:"Global settings are used to configure the entire LMS. You can add global settings by clicking the button below."}),type:"warning",showIcon:!0,style:{marginBottom:"20px"}}),(0,n.jsxs)(I.ZP,{tabs:{type:"card",activeKey:B,onChange:function(be){return a.history.push("/configuration/settings/".concat(be))}},children:[(0,n.jsx)(I.ZP.TabPane,{tab:(0,n.jsx)(a.FormattedMessage,{id:"user.settings"}),children:(0,n.jsx)(xe,{})},"user_settings"),(0,n.jsx)(I.ZP.TabPane,{tab:(0,n.jsx)(a.FormattedMessage,{id:"global_settings"}),children:(0,n.jsx)(T.ZP,{})},"global_settings"),Object.keys(G).map(function(V){return(0,n.jsxs)(I.ZP.TabPane,{tab:(0,n.jsx)("span",{children:(0,n.jsx)(a.FormattedMessage,{id:"Settings.package",values:{package:fe(V)}})}),children:[(0,n.jsx)(pe,{values:G,packageName:V,onValueUpdated:function(){return De()}}),V]},V)})]})]}):(0,n.jsx)(y.Z,{})}},31472:function(ge,S,e){e.d(S,{Fh:function(){return X},UL:function(){return C},Yo:function(){return b},Zg:function(){return A},cX:function(){return a},ce:function(){return v},fS:function(){return U},fn:function(){return y},h5:function(){return Z},hg:function(){return j},oz:function(){return o},rX:function(){return E},uT:function(){return g},wg:function(){return P},wl:function(){return T}});var o=function(t){return t.Unselected="",t.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",t.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",t.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",t.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",t.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",t.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",t.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",t.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",t.Project="EscolaLms\\TopicTypeProject\\Models\\Project",t.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz",t}({}),_=function(t){return t.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",t.UserLogged="EscolaLms\\Auth\\Events\\UserLogged",t}({}),I=function(t){return t.draft="draft",t.published="published",t.archived="archived",t}({}),g=function(t){return t.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",t.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",t.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel",t}({}),y=function(t){return t.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent",t}({}),O=function(t){return t.cart_fixed="cart_fixed",t.cart_percent="cart_percent",t.product_fixed="product_fixed",t.product_percent="product_percent",t}({}),v=function(t){return t.MULTIPLE_CHOICE="multiple_choice",t.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",t.TRUE_FALSE="true_false",t.SHORT_ANSWERS="short_answers",t.MATCHING="matching",t.NUMERICAL_QUESTION="numerical_question",t.ESSAY="essay",t.DESCRIPTION="description",t}({}),a=function(t){return t.PRESENT="present",t.PRESENT_NOT_EXERCISING="present_not_exercising",t.ABSENT="absent",t.EXCUSED_ABSENCE="excused_absence",t}({}),C=function(t){return t.Manual="manual",t.ManualPass="manual_pass",t.ManualGrades="manual_grades",t.TeamsForms="teams_forms",t.TeamsLecture="teams_lecture",t.TestPortal="test_portal",t}({}),T=function(t){return t.Passed="zal",t.Failed="nie zal",t}({}),X=function(t){return t.Simple="simple",t.Complex="complex",t}({}),E=function(t){return t.QuizSummary="EscolaLms\\Reports\\Stats\\Topic\\QuizSummaryForTopicTypeGIFT",t}({}),U=function(t){return t.Boolean="boolean",t.Number="number",t.Varchar="varchar",t.Text="text",t.Json="json",t}({}),b=function(t){return t.Rate="rate",t.Text="text",t.Review="review",t}({}),A=function(t){return t.Exercise="exercise",t.Course="course",t.Info="info",t}({}),Z=function(t){return t.Group="EscolaLms\\PcgIntegration\\Models\\Group",t}({}),P=function(t){return t.PUSH="EscolaLms\\BulkNotifications\\Channels\\PushNotificationChannel",t}({}),j=function(t){return t.TITLE="title",t.BODY="body",t.IMAGE="image_url",t.REDIRECT_URL="redirect_url",t}({})},17578:function(ge,S,e){e.d(S,{Od:function(){return A},QZ:function(){return a},ht:function(){return T},pV:function(){return b},ws:function(){return E}});var o=e(15009),_=e.n(o),I=e(97857),g=e.n(I),y=e(99289),O=e.n(y),v=e(80854);function a(P,j){return C.apply(this,arguments)}function C(){return C=O()(_()().mark(function P(j,t){return _()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",(0,v.request)("/api/admin/file/list",g()({method:"GET",params:j},t||{})));case 1:case"end":return L.stop()}},P)})),C.apply(this,arguments)}function T(P,j){return X.apply(this,arguments)}function X(){return X=O()(_()().mark(function P(j,t){return _()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",(0,v.request)("/api/admin/file/find",g()({method:"GET",params:j},t||{})));case 1:case"end":return L.stop()}},P)})),X.apply(this,arguments)}function E(P,j,t){return U.apply(this,arguments)}function U(){return U=O()(_()().mark(function P(j,t,M){var L;return _()().wrap(function(se){for(;;)switch(se.prev=se.next){case 0:return L=new FormData,L.append("file[]",j),L.append("target",t),se.abrupt("return",(0,v.request)("/api/admin/file/upload",g()({method:"POST",data:L},M||{})));case 4:case"end":return se.stop()}},P)})),U.apply(this,arguments)}var b=function(j){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(j,"&w=").concat(t)};function A(P,j){return Z.apply(this,arguments)}function Z(){return Z=O()(_()().mark(function P(j,t){return _()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",(0,v.request)("/api/admin/file/delete",g()({method:"DELETE",data:{url:j}},t||{})));case 1:case"end":return L.stop()}},P)})),Z.apply(this,arguments)}},38925:function(ge,S,e){e.d(S,{Z:function(){return p}});var o=e(67294),_=e(76278),I=e(17012),g=e(62208),y=e(26702),O=e(1558),v=e(93967),a=e.n(v),C=e(82225),T=e(42550),X=e(64217),E=e(96159),U=e(53124),b=e(6731),A=e(14747),Z=e(91945);const P=(m,u,l,i,d)=>({background:m,border:`${(0,b.unit)(i.lineWidth)} ${i.lineType} ${u}`,[`${d}-icon`]:{color:l}}),j=m=>{const{componentCls:u,motionDurationSlow:l,marginXS:i,marginSM:d,fontSize:W,fontSizeLG:$,lineHeight:f,borderRadiusLG:c,motionEaseInOutCirc:F,withDescriptionIconSize:D,colorText:k,colorTextHeading:pe,withDescriptionPadding:ye,defaultPadding:de}=m;return{[u]:Object.assign(Object.assign({},(0,A.Wf)(m)),{position:"relative",display:"flex",alignItems:"center",padding:de,wordWrap:"break-word",borderRadius:c,[`&${u}-rtl`]:{direction:"rtl"},[`${u}-content`]:{flex:1,minWidth:0},[`${u}-icon`]:{marginInlineEnd:i,lineHeight:0},"&-description":{display:"none",fontSize:W,lineHeight:f},"&-message":{color:pe},[`&${u}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${l} ${F}, opacity ${l} ${F},
        padding-top ${l} ${F}, padding-bottom ${l} ${F},
        margin-bottom ${l} ${F}`},[`&${u}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${u}-with-description`]:{alignItems:"flex-start",padding:ye,[`${u}-icon`]:{marginInlineEnd:d,fontSize:D,lineHeight:0},[`${u}-message`]:{display:"block",marginBottom:i,color:pe,fontSize:$},[`${u}-description`]:{display:"block",color:k}},[`${u}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},t=m=>{const{componentCls:u,colorSuccess:l,colorSuccessBorder:i,colorSuccessBg:d,colorWarning:W,colorWarningBorder:$,colorWarningBg:f,colorError:c,colorErrorBorder:F,colorErrorBg:D,colorInfo:k,colorInfoBorder:pe,colorInfoBg:ye}=m;return{[u]:{"&-success":P(d,i,l,m,u),"&-info":P(ye,pe,k,m,u),"&-warning":P(f,$,W,m,u),"&-error":Object.assign(Object.assign({},P(D,F,c,m,u)),{[`${u}-description > pre`]:{margin:0,padding:0}})}}},M=m=>{const{componentCls:u,iconCls:l,motionDurationMid:i,marginXS:d,fontSizeIcon:W,colorIcon:$,colorIconHover:f}=m;return{[u]:{"&-action":{marginInlineStart:d},[`${u}-close-icon`]:{marginInlineStart:d,padding:0,overflow:"hidden",fontSize:W,lineHeight:(0,b.unit)(W),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${l}-close`]:{color:$,transition:`color ${i}`,"&:hover":{color:f}}},"&-close-text":{color:$,transition:`color ${i}`,"&:hover":{color:f}}}}},L=m=>({withDescriptionIconSize:m.fontSizeHeading3,defaultPadding:`${m.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${m.paddingMD}px ${m.paddingContentHorizontalLG}px`});var ee=(0,Z.I$)("Alert",m=>[j(m),t(m),M(m)],L),se=function(m,u){var l={};for(var i in m)Object.prototype.hasOwnProperty.call(m,i)&&u.indexOf(i)<0&&(l[i]=m[i]);if(m!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,i=Object.getOwnPropertySymbols(m);d<i.length;d++)u.indexOf(i[d])<0&&Object.prototype.propertyIsEnumerable.call(m,i[d])&&(l[i[d]]=m[i[d]]);return l};const Y={success:_.Z,info:O.Z,error:I.Z,warning:y.Z},te=m=>{const{icon:u,prefixCls:l,type:i}=m,d=Y[i]||null;return u?(0,E.wm)(u,o.createElement("span",{className:`${l}-icon`},u),()=>({className:a()(`${l}-icon`,{[u.props.className]:u.props.className})})):o.createElement(d,{className:`${l}-icon`})},r=m=>{const{isClosable:u,prefixCls:l,closeIcon:i,handleClose:d,ariaProps:W}=m,$=i===!0||i===void 0?o.createElement(g.Z,null):i;return u?o.createElement("button",Object.assign({type:"button",onClick:d,className:`${l}-close-icon`,tabIndex:0},W),$):null};var ue=o.forwardRef((m,u)=>{const{description:l,prefixCls:i,message:d,banner:W,className:$,rootClassName:f,style:c,onMouseEnter:F,onMouseLeave:D,onClick:k,afterClose:pe,showIcon:ye,closable:de,closeText:z,closeIcon:Q,action:Ie,id:re}=m,me=se(m,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[H,oe]=o.useState(!1),he=o.useRef(null);o.useImperativeHandle(u,()=>({nativeElement:he.current}));const{getPrefixCls:xe,direction:fe,alert:K}=o.useContext(U.E_),ce=xe("alert",i),[q,x,h]=ee(ce),B=ae=>{var V;oe(!0),(V=m.onClose)===null||V===void 0||V.call(m,ae)},N=o.useMemo(()=>m.type!==void 0?m.type:W?"warning":"info",[m.type,W]),Ee=o.useMemo(()=>typeof de=="object"&&de.closeIcon||z?!0:typeof de=="boolean"?de:Q!==!1&&Q!==null&&Q!==void 0?!0:!!(K!=null&&K.closable),[z,Q,de,K==null?void 0:K.closable]),G=W&&ye===void 0?!0:ye,ve=a()(ce,`${ce}-${N}`,{[`${ce}-with-description`]:!!l,[`${ce}-no-icon`]:!G,[`${ce}-banner`]:!!W,[`${ce}-rtl`]:fe==="rtl"},K==null?void 0:K.className,$,f,h,x),De=(0,X.Z)(me,{aria:!0,data:!0}),Pe=o.useMemo(()=>{var ae,V;return typeof de=="object"&&de.closeIcon?de.closeIcon:z||(Q!==void 0?Q:typeof(K==null?void 0:K.closable)=="object"&&(!((ae=K==null?void 0:K.closable)===null||ae===void 0)&&ae.closeIcon)?(V=K==null?void 0:K.closable)===null||V===void 0?void 0:V.closeIcon:K==null?void 0:K.closeIcon)},[Q,de,z,K==null?void 0:K.closeIcon]),Ce=o.useMemo(()=>{const ae=de!=null?de:K==null?void 0:K.closable;if(typeof ae=="object"){const{closeIcon:V}=ae;return se(ae,["closeIcon"])}return{}},[de,K==null?void 0:K.closable]);return q(o.createElement(C.default,{visible:!H,motionName:`${ce}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:ae=>({maxHeight:ae.offsetHeight}),onLeaveEnd:pe},(ae,V)=>{let{className:be,style:le}=ae;return o.createElement("div",Object.assign({id:re,ref:(0,T.sQ)(he,V),"data-show":!H,className:a()(ve,be),style:Object.assign(Object.assign(Object.assign({},K==null?void 0:K.style),c),le),onMouseEnter:F,onMouseLeave:D,onClick:k,role:"alert"},De),G?o.createElement(te,{description:l,icon:m.icon,prefixCls:ce,type:N}):null,o.createElement("div",{className:`${ce}-content`},d?o.createElement("div",{className:`${ce}-message`},d):null,l?o.createElement("div",{className:`${ce}-description`},l):null),Ie?o.createElement("div",{className:`${ce}-action`},Ie):null,o.createElement(r,{isClosable:Ee,prefixCls:ce,closeIcon:Pe,handleClose:B,ariaProps:Ce}))}))}),_e=e(15671),ie=e(43144),ne=e(53640),s=e(60136),w=function(m){function u(){var l;return(0,_e.Z)(this,u),l=(0,ne.Z)(this,u,arguments),l.state={error:void 0,info:{componentStack:""}},l}return(0,s.Z)(u,m),(0,ie.Z)(u,[{key:"componentDidCatch",value:function(i,d){this.setState({error:i,info:d})}},{key:"render",value:function(){const{message:i,description:d,id:W,children:$}=this.props,{error:f,info:c}=this.state,F=c&&c.componentStack?c.componentStack:null,D=typeof i=="undefined"?(f||"").toString():i,k=typeof d=="undefined"?F:d;return f?o.createElement(ue,{id:W,type:"error",message:D,description:o.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},k)}):$}}])}(o.Component);const n=ue;n.ErrorBoundary=w;var p=n},49288:function(ge,S,e){var o=e(67294),_=e(93967),I=e.n(_),g=e(50344),y=e(98423),O=e(87263),v=e(8745),a=e(53124),C=e(74656);const{Option:T}=C.default;function X(A){return A&&A.type&&(A.type.isSelectOption||A.type.isSelectOptGroup)}const E=(A,Z)=>{var P;const{prefixCls:j,className:t,popupClassName:M,dropdownClassName:L,children:ee,dataSource:se}=A,Y=(0,g.Z)(ee);let te;Y.length===1&&o.isValidElement(Y[0])&&!X(Y[0])&&([te]=Y);const r=te?()=>te:void 0;let J;Y.length&&X(Y[0])?J=ee:J=se?se.map(ne=>{if(o.isValidElement(ne))return ne;switch(typeof ne){case"string":return o.createElement(T,{key:ne,value:ne},ne);case"object":{const{value:s}=ne;return o.createElement(T,{key:s,value:s},ne.text)}default:return}}):[];const{getPrefixCls:ue}=o.useContext(a.E_),_e=ue("select",j),[ie]=(0,O.Cn)("SelectLike",(P=A.dropdownStyle)===null||P===void 0?void 0:P.zIndex);return o.createElement(C.default,Object.assign({ref:Z,suffixIcon:null},(0,y.Z)(A,["dataSource","dropdownClassName"]),{prefixCls:_e,popupClassName:M||L,dropdownStyle:Object.assign(Object.assign({},A.dropdownStyle),{zIndex:ie}),className:I()(`${_e}-auto-complete`,t),mode:C.default.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:r}),J)},U=o.forwardRef(E),b=(0,v.Z)(U);U.Option=T,U._InternalPanelDoNotUseOrYouWillBeFired=b,S.Z=U},66309:function(ge,S,e){e.d(S,{Z:function(){return ne}});var o=e(67294),_=e(93967),I=e.n(_),g=e(98423),y=e(98787),O=e(69760),v=e(96159),a=e(45353),C=e(53124),T=e(6731),X=e(10274),E=e(14747),U=e(45503),b=e(91945);const A=s=>{const{paddingXXS:R,lineWidth:w,tagPaddingHorizontal:n,componentCls:p,calc:m}=s,u=m(n).sub(w).equal(),l=m(R).sub(w).equal();return{[p]:Object.assign(Object.assign({},(0,E.Wf)(s)),{display:"inline-block",height:"auto",marginInlineEnd:s.marginXS,paddingInline:u,fontSize:s.tagFontSize,lineHeight:s.tagLineHeight,whiteSpace:"nowrap",background:s.defaultBg,border:`${(0,T.unit)(s.lineWidth)} ${s.lineType} ${s.colorBorder}`,borderRadius:s.borderRadiusSM,opacity:1,transition:`all ${s.motionDurationMid}`,textAlign:"start",position:"relative",[`&${p}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:s.defaultColor},[`${p}-close-icon`]:{marginInlineStart:l,fontSize:s.tagIconSize,color:s.colorTextDescription,cursor:"pointer",transition:`all ${s.motionDurationMid}`,"&:hover":{color:s.colorTextHeading}},[`&${p}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${s.iconCls}-close, ${s.iconCls}-close:hover`]:{color:s.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${p}-checkable-checked):hover`]:{color:s.colorPrimary,backgroundColor:s.colorFillSecondary},"&:active, &-checked":{color:s.colorTextLightSolid},"&-checked":{backgroundColor:s.colorPrimary,"&:hover":{backgroundColor:s.colorPrimaryHover}},"&:active":{backgroundColor:s.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${s.iconCls} + span, > span + ${s.iconCls}`]:{marginInlineStart:u}}),[`${p}-borderless`]:{borderColor:"transparent",background:s.tagBorderlessBg}}},Z=s=>{const{lineWidth:R,fontSizeIcon:w,calc:n}=s,p=s.fontSizeSM;return(0,U.TS)(s,{tagFontSize:p,tagLineHeight:(0,T.unit)(n(s.lineHeightSM).mul(p).equal()),tagIconSize:n(w).sub(n(R).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:s.defaultBg})},P=s=>({defaultBg:new X.C(s.colorFillQuaternary).onBackground(s.colorBgContainer).toHexString(),defaultColor:s.colorText});var j=(0,b.I$)("Tag",s=>{const R=Z(s);return A(R)},P),t=function(s,R){var w={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&R.indexOf(n)<0&&(w[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,n=Object.getOwnPropertySymbols(s);p<n.length;p++)R.indexOf(n[p])<0&&Object.prototype.propertyIsEnumerable.call(s,n[p])&&(w[n[p]]=s[n[p]]);return w},L=o.forwardRef((s,R)=>{const{prefixCls:w,style:n,className:p,checked:m,onChange:u,onClick:l}=s,i=t(s,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:d,tag:W}=o.useContext(C.E_),$=pe=>{u==null||u(!m),l==null||l(pe)},f=d("tag",w),[c,F,D]=j(f),k=I()(f,`${f}-checkable`,{[`${f}-checkable-checked`]:m},W==null?void 0:W.className,p,F,D);return c(o.createElement("span",Object.assign({},i,{ref:R,style:Object.assign(Object.assign({},n),W==null?void 0:W.style),className:k,onClick:$})))}),ee=e(98719);const se=s=>(0,ee.Z)(s,(R,w)=>{let{textColor:n,lightBorderColor:p,lightColor:m,darkColor:u}=w;return{[`${s.componentCls}${s.componentCls}-${R}`]:{color:n,background:m,borderColor:p,"&-inverse":{color:s.colorTextLightSolid,background:u,borderColor:u},[`&${s.componentCls}-borderless`]:{borderColor:"transparent"}}}});var Y=(0,b.bk)(["Tag","preset"],s=>{const R=Z(s);return se(R)},P);function te(s){return typeof s!="string"?s:s.charAt(0).toUpperCase()+s.slice(1)}const r=(s,R,w)=>{const n=te(w);return{[`${s.componentCls}${s.componentCls}-${R}`]:{color:s[`color${w}`],background:s[`color${n}Bg`],borderColor:s[`color${n}Border`],[`&${s.componentCls}-borderless`]:{borderColor:"transparent"}}}};var J=(0,b.bk)(["Tag","status"],s=>{const R=Z(s);return[r(R,"success","Success"),r(R,"processing","Info"),r(R,"error","Error"),r(R,"warning","Warning")]},P),ue=function(s,R){var w={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&R.indexOf(n)<0&&(w[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var p=0,n=Object.getOwnPropertySymbols(s);p<n.length;p++)R.indexOf(n[p])<0&&Object.prototype.propertyIsEnumerable.call(s,n[p])&&(w[n[p]]=s[n[p]]);return w};const ie=o.forwardRef((s,R)=>{const{prefixCls:w,className:n,rootClassName:p,style:m,children:u,icon:l,color:i,onClose:d,bordered:W=!0,visible:$}=s,f=ue(s,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:c,direction:F,tag:D}=o.useContext(C.E_),[k,pe]=o.useState(!0),ye=(0,g.Z)(f,["closeIcon","closable"]);o.useEffect(()=>{$!==void 0&&pe($)},[$]);const de=(0,y.o2)(i),z=(0,y.yT)(i),Q=de||z,Ie=Object.assign(Object.assign({backgroundColor:i&&!Q?i:void 0},D==null?void 0:D.style),m),re=c("tag",w),[me,H,oe]=j(re),he=I()(re,D==null?void 0:D.className,{[`${re}-${i}`]:Q,[`${re}-has-color`]:i&&!Q,[`${re}-hidden`]:!k,[`${re}-rtl`]:F==="rtl",[`${re}-borderless`]:!W},n,p,H,oe),xe=h=>{h.stopPropagation(),d==null||d(h),!h.defaultPrevented&&pe(!1)},[,fe]=(0,O.Z)((0,O.w)(s),(0,O.w)(D),{closable:!1,closeIconRender:h=>{const B=o.createElement("span",{className:`${re}-close-icon`,onClick:xe},h);return(0,v.wm)(h,B,N=>({onClick:Ee=>{var G;(G=N==null?void 0:N.onClick)===null||G===void 0||G.call(N,Ee),xe(Ee)},className:I()(N==null?void 0:N.className,`${re}-close-icon`)}))}}),K=typeof f.onClick=="function"||u&&u.type==="a",ce=l||null,q=ce?o.createElement(o.Fragment,null,ce,u&&o.createElement("span",null,u)):u,x=o.createElement("span",Object.assign({},ye,{ref:R,className:he,style:Ie}),q,fe,de&&o.createElement(Y,{key:"preset",prefixCls:re}),z&&o.createElement(J,{key:"status",prefixCls:re}));return me(K?o.createElement(a.Z,{component:"Tag"},x):x)});ie.CheckableTag=L;var ne=ie}}]);
