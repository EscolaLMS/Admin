(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{"/y+f":function(Z,j,e){"use strict";e.d(j,"c",function(){return b}),e.d(j,"a",function(){return i}),e.d(j,"b",function(){return f});var b;(function(o){o.Unselected="",o.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",o.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",o.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",o.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",o.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",o.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",o.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",o.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco"})(b||(b={}));var c;(function(o){o.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",o.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(c||(c={}));var D;(function(o){o.draft="draft",o.published="published",o.archived="archived"})(D||(D={}));var i;(function(o){o.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",o.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",o.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(i||(i={}));var f;(function(o){o.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(f||(f={}));var x;(function(o){o.cart_fixed="cart_fixed",o.cart_percent="cart_percent",o.product_fixed="product_fixed",o.product_percent="product_percent"})(x||(x={}))},"0eZe":function(Z,j,e){"use strict";var b=e("14J3"),c=e("BMrR"),D=e("jCWc"),i=e("kPKH"),f=e("+BJd"),x=e("mr32"),o=e("oBTY"),A=e("5NDa"),g=e("5rEg"),I=e("T2oS"),C=e("W9HT"),M=e("miYZ"),O=e("tsqr"),p=e("k1fw"),P=e("9og8"),_=e("tJVT"),W=e("WmNS"),d=e.n(W),l=e("q1tI"),m=e("VMEa"),U=e("Qurx"),v=e("5qq5"),L=e("F/zT"),u=e("FJDo"),s=e("nhC9"),a=e("9kvl"),E=e("vzes"),n=e("DVQu"),T=e("Gn8c"),S=e("TWax"),Ae=e("90Xc"),je=e("5Dmo"),xe=e("3S7+"),q=e("+L6B"),ae=e("2/Rp"),me=e("0WSk"),R=e("Qiat"),w=e("/MfK"),t=e("nKUr"),X=[{title:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:Object(t.jsx)(a.a,{id:"email",defaultMessage:"email"}),dataIndex:"email"}],r=function(B){var N=B.id,Me=Object(a.i)(),ee=Object(l.useRef)(),he=Object(l.useState)(!1),K=Object(_.a)(he,2),F=K[0],H=K[1],G=m.a.useForm(),Q=Object(_.a)(G,1),se=Q[0],Te=Object(l.useCallback)(function(){var k=Object(P.a)(d.a.mark(function Pe(ce){var J;return d.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return H(!0),$.next=3,Object(n.d)(Number(N),{user_id:ce.user_id});case 3:se.resetFields(),(J=ee.current)===null||J===void 0||J.reload(),H(!1);case 6:case"end":return $.stop()}},Pe)}));return function(Pe){return k.apply(this,arguments)}}(),[N]),h=Object(l.useCallback)(function(){var k=Object(P.a)(d.a.mark(function Pe(ce){var J;return d.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return H(!0),$.next=3,Object(n.e)(Number(N),{user_id:ce});case 3:(J=ee.current)===null||J===void 0||J.reload(),H(!1);case 5:case"end":return $.stop()}},Pe)}));return function(Pe){return k.apply(this,arguments)}}(),[N]);return Object(t.jsxs)(l.Fragment,{children:[Object(t.jsx)(m.a,{layout:"inline",onFinish:Te,form:se,labelWrap:!0,children:Object(t.jsx)(m.a.Group,{children:Object(t.jsx)(m.a.Item,{name:"user_id",label:Object(t.jsx)(a.a,{id:"users"}),valuePropName:"value",children:Object(t.jsx)(me.a,{})})})}),Object(t.jsx)(R.a,{defaultSize:"small",loading:F,search:!1,headerTitle:Me.formatMessage({id:"users",defaultMessage:"Users"}),actionRef:ee,rowKey:"id",request:Object(P.a)(d.a.mark(function k(){return d.a.wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return H(!0),ce.abrupt("return",Object(n.c)(Number(N)).then(function(J){return H(!1),J.success&&J.data.users?{data:J.data.users,total:J.data.users.length,success:!0}:J.success?[]:{data:[],total:0,success:!1}}));case 2:case"end":return ce.stop()}},k)})),columns:[].concat(X,[{title:Object(t.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(Pe,ce){return[Object(t.jsx)(xe.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(ae.a,{type:"primary",icon:Object(t.jsx)(w.a,{}),danger:!0,onClick:function(){return h(ce.id)}})})]}}])})]})},le=r,Ue=e("5RzD"),Se=e("rnuo"),ue=e("c+yx"),Oe=e("hd5d"),Y=e("DYRE"),Ve=e("zeV3"),ne=e("rWUb"),ge=e("OaEy"),We=e("2fM7"),Le=function(B){var N=B.value,Me=B.onChange,ee=B.multiple,he=ee===void 0?!1:ee,K=B.params,F=Object(l.useState)([]),H=Object(_.a)(F,2),G=H[0],Q=H[1],se=Object(l.useState)(!1),Te=Object(_.a)(se,2),h=Te[0],k=Te[1],Pe=Object(l.useState)([]),ce=Object(_.a)(Pe,2),J=ce[0],Be=ce[1],$=Object(l.useRef)(),Ne=Object(l.useCallback)(function(){k(!0),$.current&&$.current.abort(),$.current=new AbortController,Object(ne.e)(K,{signal:$.current.signal}).then(function(de){de.success&&Q(de.data),k(!1)}).catch(function(){return k(!1)})},[]);return Object(l.useEffect)(function(){var de=new AbortController;if(N){var $e=Array.isArray(N)?N:[N],De=$e.map(function(Ce){return typeof Ce=="object"?Number(Ce.id):Number(Ce)});Be(De)}return function(){de.abort()}},[N]),Object(t.jsx)(We.a,{onFocus:function(){return Ne()},allowClear:!0,style:{width:"100%",minWidth:"400px"},value:J,onChange:Me,mode:he?"multiple":void 0,showSearch:!0,placeholder:Object(t.jsx)(a.a,{id:"select_template",defaultMessage:"Select a template"}),optionFilterProp:"children",filterOption:function($e,De){if(De&&De.children){var Ce;return(De==null||(Ce=De.children)===null||Ce===void 0?void 0:Ce.toString().toLowerCase().indexOf($e&&$e.toLowerCase()||""))>=0}return!1},notFoundContent:h?Object(t.jsx)(C.a,{size:"small"}):null,children:G.map(function(de){return Object(t.jsxs)(We.a.Option,{value:de.id,children:[de.name," ",Object(t.jsxs)("small",{children:[Object(t.jsx)(a.a,{id:de.channel.split("\\").pop()}),":",de.event&&Object(t.jsx)(a.a,{id:de.event.split("\\").pop()})]})]},de.id)})})},Ke=Le,Re=e("/y+f"),pe=function(B){var N=B.productId,Me=Object(l.useState)(!1),ee=Object(_.a)(Me,2),he=ee[0],K=ee[1],F=Object(l.useState)(),H=Object(_.a)(F,2),G=H[0],Q=H[1],se=Object(a.i)(),Te=Object(l.useCallback)(function(){K(!0),typeof G=="number"&&Object(ne.g)(Number(G),N).then(function(h){h.success?O.default.success(h.message):O.default.error(h.message)}).catch(function(h){return O.default.error(h.toString())}).finally(function(){return K(!1)})},[G,N]);return Object(t.jsxs)(Ve.b,{children:[Object(t.jsx)(Le,{params:{event:Re.b.ManuallyTriggeredEvent},multiple:!1,value:G,onChange:function(k){return Q(k)}}),Object(t.jsx)(xe.a,{title:se.formatMessage({id:"generate_pdf_for_products_tooltip"}),children:Object(t.jsx)(ae.a,{loading:he,onClick:function(){return Te()},disabled:!G,children:Object(t.jsx)(a.a,{id:"generate"})})})]})},re=pe,V=e("qSko"),te=function(B){return B.map(function(N){return{class:N.productable_type,id:Number(N.productable_id),name:N.name,quantity:N.quantity}})},be=function(B){var N=Array.isArray(B)?B:[B],Me=N.map(function(ee){return typeof ee=="object"?ee:{id:parseInt(ee.split(":")[1]),class:ee.split(":")[0],name:ee.split(":")[2]}});return Me},z=function(B){var N=B.tab,Me=N===void 0?"attributes":N,ee=B.onTabChange,he=B.id,K=B.productable,F=B.onProductSaved,H=B.type,G=H===void 0?"card":H,Q=Object(a.i)(),se=Object(l.useState)(he),Te=Object(_.a)(se,2),h=Te[0],k=Te[1],Pe=Object(l.useState)([]),ce=Object(_.a)(Pe,2),J=ce[0],Be=ce[1],$=Object(l.useMemo)(function(){return h==="new"},[h]),Ne=Object(l.useState)(!0),de=Object(_.a)(Ne,2),$e=de[0],De=de[1],Ce=Object(l.useState)(null),ze=Object(_.a)(Ce,2),Je=ze[0],Ze=ze[1],Xe=Object(l.useState)({}),ke=Object(_.a)(Xe,2),qe=ke[1],et=Object(l.useCallback)(function(){return qe({})},[]),tt=m.a.useForm(),at=Object(_.a)(tt,1),Fe=at[0],nt=Object(l.useState)(!1),He=Object(_.a)(nt,2),Qe=He[0],Ye=He[1];Object(l.useEffect)(function(){K&&K.class_id&&K.class_type&&(Object(n.f)({productable_id:Number(K.class_id),productable_type:K.class_type}).then(function(ie){ie.success&&k(ie.data.id)}).catch(function(){console.log("err"),k("new")}),Fe.setFieldsValue({productables:[{class:K.class_type,id:K.class_id,name:K.name}]}))},[K]);var rt=Object(l.useCallback)(Object(P.a)(d.a.mark(function ie(){var y,ve,we,Ie;return d.a.wrap(function(ye){for(;;)switch(ye.prev=ye.next){case 0:if(!(h&&h!=="new")){ye.next=5;break}return ye.next=3,Object(n.c)(Number(h));case 3:y=ye.sent,y.success&&(Ie=Object(p.a)(Object(p.a)({},y.data),{},{categories:(ve=y.data.categories)===null||ve===void 0?void 0:ve.map(ue.a),tags:(we=y.data.tags)===null||we===void 0?void 0:we.map(function(_e){return Object(ue.f)(_e)}),productables:y.data.productables?te(y.data.productables):[]}),y.data.productables&&Ze(y.data.productables[0].productable_type),Be(te(y.data.productables)),Fe.setFieldsValue(Ie),Ye(y.data.type==="bundle"));case 5:De(!1);case 6:case"end":return ye.stop()}},ie)})),[h]);Object(l.useEffect)(function(){h&&rt()},[h]);var Ge=Object(l.useMemo)(function(){return{onValuesChange:function(y){y.type&&Ye(y.type==="bundle")},onFinish:function(){var ie=Object(P.a)(d.a.mark(function ve(we){var Ie,Ee;return d.a.wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:if(Ie=Object(p.a)(Object(p.a)({},we),{},{productables:J?be(J):void 0}),!$){_e.next=8;break}return _e.next=4,Object(n.a)(Ie);case 4:Ee=_e.sent,Ee.success&&(F&&F(Ee.data),k(Ee.data.id),Fe.setFieldsValue(Ee.data)),_e.next=12;break;case 8:return _e.next=10,Object(n.i)(Number(h),Ie);case 10:Ee=_e.sent,Ee.success&&F&&F(Ee.data);case 12:O.default.success(Ee.message);case 13:case"end":return _e.stop()}},ve)}));function y(ve){return ie.apply(this,arguments)}return y}()}},[h,F,J]);return $e?Object(t.jsx)(C.a,{}):Object(t.jsxs)(s.a,{title:G==="line"?Object(t.jsx)(a.a,{id:"product_widget_title",defaultMessage:"Product Attibutes"}):null,tooltip:G==="line"?Object(t.jsx)(a.a,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,subTitle:G==="line"?Object(t.jsx)(a.a,{id:"product_widget_subtitle",defaultMessage:"All attributes below are related only to product"}):null,tabs:{type:G,activeKey:Me,onChange:function(y){return ee(y)}},children:[Object(t.jsxs)(s.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"attributes"}),children:[Object(t.jsxs)(m.a,Object(p.a)(Object(p.a)({},Ge),{},{form:Fe,children:[Object(t.jsxs)(m.a.Group,{children:[Object(t.jsx)(U.a,{width:"md",name:"name",initialValue:$&&K?K.name:void 0,label:Object(t.jsx)(a.a,{id:"name"}),tooltip:Object(t.jsx)(a.a,{id:"name_tooltip"}),placeholder:Q.formatMessage({id:"name",defaultMessage:"name"}),required:!0}),Object(t.jsx)(m.a.Item,{shouldUpdate:!0,style:{minWidth:104*3},name:"productables",tooltip:Object(t.jsx)(a.a,{id:"productables_tooltip"}),label:Object(t.jsx)(a.a,{id:"productables"}),valuePropName:"value",children:Object(t.jsx)(E.a,{multiple:Qe,disabled:K!==void 0,onChange:function(y){return Be(be(y))}})})]}),Object(t.jsxs)(m.a.Group,{children:[Object(t.jsx)(v.a.Group,{disabled:K!==void 0,initialValue:h&&h!=="new"?void 0:"single",rules:[{required:!0}],name:"type",label:Object(t.jsx)(a.a,{id:"type"}),options:[{label:Q.formatMessage({id:"single",defaultMessage:"single"}),value:"single"},{label:Q.formatMessage({id:"bundle",defaultMessage:"bundle"}),value:"bundle"}]}),Object(t.jsx)(L.a,{name:"purchasable",label:Object(t.jsx)(a.a,{id:"purchasable"}),tooltip:Object(t.jsx)(a.a,{id:"purchasable_tooltip"})})]}),Object(t.jsxs)(m.a.Group,{title:Object(t.jsx)(a.a,{id:"prices"}),children:[Object(t.jsx)(u.a,{rules:[{required:!0}],width:"xs",name:"price",label:Object(t.jsx)(a.a,{id:"price"}),tooltip:Object(t.jsx)(a.a,{id:"price_tooltip"}),placeholder:Q.formatMessage({id:"price",defaultMessage:"price"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(u.a,{rules:[{required:!0}],width:"xs",name:"tax_rate",label:Object(t.jsx)(a.a,{id:"tax_rate"}),tooltip:Object(t.jsx)(a.a,{id:"tax_rate_tooltip"}),placeholder:Q.formatMessage({id:"tax_rate",defaultMessage:"tax_rate"}),initialValue:$?23:void 0,min:0,max:100,fieldProps:{step:1,formatter:function(y){return"".concat(y,"%")},parser:function(y){return y?y.replace("%",""):""}}}),Object(t.jsx)(m.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"price_brutto"}),tooltip:Object(t.jsx)(a.a,{id:"price_brutto_tooltip"}),style:{width:104},children:function(y){return Object(t.jsx)(g.a,{disabled:!0,readOnly:!0,value:y.getFieldValue("price")?Math.round(parseInt(y.getFieldValue("price"))*(1+parseInt(y.getFieldValue("tax_rate"))/100)):void 0})}}),Object(t.jsx)(m.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"tax_value"}),tooltip:Object(t.jsx)(a.a,{id:"tax_value_tooltip"}),children:function(y){return Object(t.jsx)(g.a,{disabled:!0,readOnly:!0,value:y.getFieldValue("price")?Math.round(parseInt(y.getFieldValue("price"))*(parseInt(y.getFieldValue("tax_rate"))/100)):void 0})}}),Object(t.jsx)(u.a,{width:"xs",name:"price_old",label:Object(t.jsx)(a.a,{id:"price_old"}),tooltip:Object(t.jsx)(a.a,{id:"price_old_tooltip"}),placeholder:Q.formatMessage({id:"price",defaultMessage:"price"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(u.a,{initialValue:$?null:void 0,width:"xs",name:"extra_fees",label:Object(t.jsx)(a.a,{id:"extra_fees"}),tooltip:Object(t.jsx)(a.a,{id:"extra_fees_tooltip"}),placeholder:Q.formatMessage({id:"extra_fees",defaultMessage:"extra_fees"}),min:0,max:99999,fieldProps:{step:1}})]}),Object(t.jsxs)(m.a.Group,{title:Object(t.jsx)(a.a,{id:"additional_fields"}),children:[Object(t.jsx)(U.a,{width:"md",name:"duration",label:Object(t.jsx)(a.a,{id:"duration"}),tooltip:Object(t.jsx)(a.a,{id:"duration_tooltip"}),placeholder:Q.formatMessage({id:"duration",defaultMessage:"duration"})}),Object(t.jsx)(u.a,{initialValue:$?null:void 0,width:"xs",name:"limit_per_user",label:Object(t.jsx)(a.a,{id:"limit_per_user"}),tooltip:Object(t.jsx)(a.a,{id:"limit_per_user_tooltip"}),placeholder:Q.formatMessage({id:"limit_per_user",defaultMessage:"limit_per_user"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(u.a,{initialValue:$?null:void 0,width:"xs",name:"limit_total",label:Object(t.jsx)(a.a,{id:"limit_total"}),tooltip:Object(t.jsx)(a.a,{id:"limit_total_tooltip"}),placeholder:Q.formatMessage({id:"limit_total",defaultMessage:"limit_total"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(U.a,{width:"md",name:"teaser_url",label:Object(t.jsx)(a.a,{id:"teaser_url"}),tooltip:Object(t.jsx)(a.a,{id:"teaser_url_tooltip"}),placeholder:Q.formatMessage({id:"teaser_url",defaultMessage:"teaser_url"})})]})," ",Object(t.jsx)(m.a.Item,{shouldUpdate:!0,name:"related_products",label:Object(t.jsx)(a.a,{id:"related_products"}),valuePropName:"value",children:Je&&Object(t.jsx)(V.a,{type:Je,multiple:!0})}),!$&&Object(t.jsx)(m.a.Item,{style:{width:"100%"},name:"description",label:Object(t.jsx)(a.a,{id:"description"}),tooltip:Object(t.jsx)(a.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(t.jsx)(Oe.a,{directory:"products/".concat(h,"/wysiwyg")})}),J.length>0&&Qe&&Object(t.jsx)(R.a,{headerTitle:Q.formatMessage({id:"selected_products",defaultMessage:"Selected Products"}),pagination:!1,search:!1,dataSource:Object(o.a)(J),rowKey:"id",columns:[{title:Object(t.jsx)(a.a,{id:"id",defaultMessage:"id"}),dataIndex:"id",width:"10%"},{title:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:Object(t.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"class",render:function(y,ve){return Object(t.jsx)(x.a,{children:Object(t.jsx)(a.a,{id:ve.class.split("\\").pop(),defaultMessage:ve.class.split("\\").pop()})})}},{title:Object(t.jsx)(a.a,{id:"quantity",defaultMessage:"quantity"}),dataIndex:"quantity",width:"10%",render:function(y,ve){return Object(t.jsx)(g.a,{min:1,type:"number",value:ve.quantity||1,onChange:function(Ie){var Ee=Ie.target.value,ye=J.findIndex(function(st){return st.id===ve.id}),_e=J;_e[ye].quantity=Number(Ee),Be(_e),et()}})}}]})]}))," "]},"attributes"),!$&&Object(t.jsx)(s.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"cart_media",defaultMessage:"Cart Media"}),children:Object(t.jsx)(m.a,Object(p.a)(Object(p.a)({},Ge),{},{form:Fe,children:Object(t.jsx)(T.a,{folder:"products/".concat(h),wrapInForm:!1,title:"image",action:"/api/admin/products/".concat(h,"/?_method=PUT"),src_name:"poster_url",form_name:"poster",getUploadedSrcField:function(y){return y.file.response.data.poster_url},setPath:function(y){return Fe.setFieldsValue(y)}})}))},"media"),!$&&Object(t.jsx)(s.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"product_categories_and_tags",defaultMessage:"Product Categories & Tags"}),children:Object(t.jsx)(m.a,Object(p.a)(Object(p.a)({},Ge),{},{form:Fe,children:Object(t.jsxs)(c.a,{children:[Object(t.jsx)(i.a,{span:12,children:Object(t.jsx)(m.a.Item,{label:Object(t.jsx)(a.a,{id:"categories"}),name:"categories",valuePropName:"value",children:Object(t.jsx)(S.a,{})})}),Object(t.jsx)(i.a,{span:12,children:Object(t.jsx)(m.a.Item,{label:Object(t.jsx)(a.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(t.jsx)(Se.a,{})})})]})}))},"categories"),!$&&Object(t.jsx)(s.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"users_attached",defaultMessage:"Users Attached"}),children:Object(t.jsx)(c.a,{children:Object(t.jsx)(i.a,{span:24,children:h&&Object(t.jsx)(le,{id:h})})})},"users")," ",!$&&Object(t.jsx)(s.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"user_submission",defaultMessage:"Users Attached without Account"}),children:Object(t.jsx)(c.a,{children:Object(t.jsx)(i.a,{span:12,children:h&&Object(t.jsx)(Ue.a,{id:Number(h),type:"EscolaLms\\Cart\\Models\\Product"})})})},"user_submission"),!$&&h&&Object(t.jsx)(s.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"template"}),children:Object(t.jsx)(c.a,{children:Object(t.jsx)(i.a,{span:12,children:Object(t.jsx)(re,{productId:Number(h)})})})},"template")]})},oe=j.a=z},"4f6N":function(Z,j,e){"use strict";var b=e("2qtc"),c=e("kLXV"),D=e("9kvl"),i=e("nKUr"),f=e.n(i),x=function(A){var g=A.visible,I=A.setManage;return Object(i.jsx)(c.a,{width:"600px",title:Object(i.jsx)(D.a,{id:"course.validate_edit.header",defaultMessage:"course.validate_edit.header"}),visible:g,onOk:function(){return I({showModal:!1,disableEdit:!1,clicked:!0})},onCancel:function(){return I({showModal:!1,disableEdit:!0,clicked:!1})},okText:"OK",cancelText:"Cancel",children:Object(i.jsx)("p",{children:Object(i.jsx)(D.a,{id:"course.validate_edit.content",defaultMessage:"course.validate_edit.content"})})})};j.a=x},"5RzD":function(Z,j,e){"use strict";var b=e("miYZ"),c=e("tsqr"),D=e("k1fw"),i=e("P2fV"),f=e("NJEC"),x=e("5Dmo"),o=e("3S7+"),A=e("+L6B"),g=e("2/Rp"),I=e("9og8"),C=e("tJVT"),M=e("WmNS"),O=e.n(M),p=e("q1tI"),P=e("VMEa"),_=e("9kvl"),W=e("Qiat"),d=e("xvlK"),l=e("/MfK");function m(R,w){return U.apply(this,arguments)}function U(){return U=Object(I.a)(O.a.mark(function R(w,t){return O.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(_.f)("/api/admin/user-submissions",Object(D.a)({method:"GET",params:Object(D.a)(Object(D.a)({},w),{},{per_page:w&&w.pageSize,page:w&&w.current})},t||{})));case 1:case"end":return r.stop()}},R)})),U.apply(this,arguments)}function v(R,w){return L.apply(this,arguments)}function L(){return L=Object(I.a)(O.a.mark(function R(w,t){return O.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(_.f)("/api/admin/user-submissions",Object(D.a)({method:"POST",headers:{"Content-Type":"application/json"},data:w},t||{})));case 1:case"end":return r.stop()}},R)})),L.apply(this,arguments)}function u(R,w){return s.apply(this,arguments)}function s(){return s=Object(I.a)(O.a.mark(function R(w,t){return O.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(_.f)("/api/admin/user-submissions/".concat(w),Object(D.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},t||{})));case 1:case"end":return r.stop()}},R)})),s.apply(this,arguments)}var a=e("y8nQ"),E=e("Vl3Y"),n=e("rmhi"),T=e("Qurx"),S=e("nKUr"),Ae=function(w){var t=Object(_.i)(),X=w.visible,r=w.onVisibleChange,le=w.onFinish,Ue=w.id,Se=E.a.useForm(),ue=Object(C.a)(Se,1),Oe=ue[0];return Object(S.jsx)(n.a,{form:Oe,title:t.formatMessage({id:"email",defaultMessage:"email"}),width:"30vw",visible:X,onVisibleChange:r,onFinish:le,children:Object(S.jsx)(P.a.Group,{children:Object(S.jsx)(T.a,{width:"md",name:"email",label:Object(S.jsx)(_.a,{id:"email"}),tooltip:Object(S.jsx)(_.a,{id:"email_tooltip"}),placeholder:t.formatMessage({id:"email",defaultMessage:"email"}),required:!0})})})},je=Ae,xe=e("MvUh"),q=[{title:Object(S.jsx)(_.a,{id:"id",defaultMessage:"id"}),dataIndex:"id",hideInSearch:!0},{title:Object(S.jsx)(_.a,{id:"email",defaultMessage:"email"}),dataIndex:"email",hideInSearch:!1,width:"70%"},{title:Object(S.jsx)(_.a,{id:"status",defaultMessage:"status"}),dataIndex:"status",hideInSearch:!0}],ae=function(w){var t=w.id,X=w.type,r=Object(_.i)(),le=Object(p.useRef)(),Ue=Object(p.useState)(!1),Se=Object(C.a)(Ue,2),ue=Se[0],Oe=Se[1],Y=P.a.useForm(),Ve=Object(C.a)(Y,1),ne=Ve[0],ge=Object(p.useState)(!1),We=Object(C.a)(ge,2),Le=We[0],Ke=We[1],Re=Object(p.useCallback)(function(){var pe=Object(I.a)(O.a.mark(function re(V){var te;return O.a.wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return Oe(!0),z.next=3,u(Number(V));case 3:(te=le.current)===null||te===void 0||te.reload(),Oe(!1);case 5:case"end":return z.stop()}},re)}));return function(re){return pe.apply(this,arguments)}}(),[t,X]);return Object(S.jsxs)(p.Fragment,{children:[Object(S.jsx)(W.a,{defaultSize:"small",loading:ue,search:{},headerTitle:r.formatMessage({id:"user_submission",defaultMessage:"user_submission"}),actionRef:le,toolBarRender:function(){return[Object(S.jsxs)(g.a,{type:"primary",onClick:function(){return Ke(!0)},children:[Object(S.jsx)(d.a,{})," ",Object(S.jsx)(_.a,{id:"email_to_add",defaultMessage:"email_to_add"})]},"primary")]},rowKey:"id",request:function(){var pe=Object(I.a)(O.a.mark(function re(V){var te,be,z;return O.a.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return te=V.email,be=V.pageSize,z=V.current,Oe(!0),fe.abrupt("return",m({email:te,pageSize:be,current:z,morphable_type:X,morphable_id:t}).then(function(B){return Oe(!1),B.success?{data:B.data,total:B.data.length,success:!0}:B.success?[]:{data:[],total:0,success:!1}}));case 3:case"end":return fe.stop()}},re)}));return function(re){return pe.apply(this,arguments)}}(),columns:[].concat(q,[{title:Object(S.jsx)(_.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(re,V){return[Object(S.jsx)(f.a,{title:Object(S.jsx)(_.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return Re(V.id)},okText:Object(S.jsx)(_.a,{id:"yes"}),cancelText:Object(S.jsx)(_.a,{id:"no"}),children:Object(S.jsx)(o.a,{title:Object(S.jsx)(_.a,{id:"delete",defaultMessage:"delete"}),children:Object(S.jsx)(g.a,{type:"primary",icon:Object(S.jsx)(l.a,{}),danger:!0})})},"delete")]}}])})," ",Object(S.jsx)(je,{visible:Le,onVisibleChange:function(re){return re===!1&&Ke(!1)},onFinish:function(){var pe=Object(I.a)(O.a.mark(function re(V){var te,be;return O.a.wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return Oe(!0),oe.prev=1,oe.next=4,v(Object(D.a)(Object(D.a)({},V),{},{morphable_id:t,morphable_type:X}));case 4:te=oe.sent,te.success&&(ne.resetFields(),(be=le.current)===null||be===void 0||be.reload(),Oe(!1),Ke(!1)),oe.next=13;break;case 8:oe.prev=8,oe.t0=oe.catch(1),Ke(!1),c.default.error(Object(S.jsx)(_.a,{id:"error",defaultMessage:"error"})),Oe(!1);case 13:case"end":return oe.stop()}},re,null,[[1,8]])}));return function(re){return pe.apply(this,arguments)}}()})]})},me=j.a=ae},"90Xc":function(Z,j,e){},DVQu:function(Z,j,e){"use strict";e.d(j,"h",function(){return x}),e.d(j,"a",function(){return A}),e.d(j,"c",function(){return I}),e.d(j,"i",function(){return M}),e.d(j,"b",function(){return p}),e.d(j,"g",function(){return _}),e.d(j,"f",function(){return d}),e.d(j,"d",function(){return m}),e.d(j,"e",function(){return v});var b=e("k1fw"),c=e("9og8"),D=e("WmNS"),i=e.n(D),f=e("9kvl");function x(u,s){return o.apply(this,arguments)}function o(){return o=Object(c.a)(i.a.mark(function u(s,a){return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.f)("/api/admin/products",Object(b.a)({method:"GET",params:Object(b.a)(Object(b.a)({},s),{},{free:typeof s.free!="undefined"?s.free==="true"?1:0:void 0,per_page:s.pageSize,page:s.current})},a||{})));case 1:case"end":return n.stop()}},u)})),o.apply(this,arguments)}function A(u,s){return g.apply(this,arguments)}function g(){return g=Object(c.a)(i.a.mark(function u(s,a){return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.f)("/api/admin/products",Object(b.a)({method:"POST",data:s},a||{})));case 1:case"end":return n.stop()}},u)})),g.apply(this,arguments)}function I(u,s){return C.apply(this,arguments)}function C(){return C=Object(c.a)(i.a.mark(function u(s,a){return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.f)("/api/admin/products/".concat(s),Object(b.a)({method:"GET"},a||{})));case 1:case"end":return n.stop()}},u)})),C.apply(this,arguments)}function M(u,s,a){return O.apply(this,arguments)}function O(){return O=Object(c.a)(i.a.mark(function u(s,a,E){return i.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",Object(f.f)("/api/admin/products/".concat(s,"?_method=PUT"),Object(b.a)({method:"POST",data:a},E||{})));case 1:case"end":return T.stop()}},u)})),O.apply(this,arguments)}function p(u,s){return P.apply(this,arguments)}function P(){return P=Object(c.a)(i.a.mark(function u(s,a){return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.f)("/api/admin/products/".concat(s),Object(b.a)({method:"DELETE"},a||{})));case 1:case"end":return n.stop()}},u)})),P.apply(this,arguments)}function _(u){return W.apply(this,arguments)}function W(){return W=Object(c.a)(i.a.mark(function u(s){return i.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",Object(f.f)("/api/admin/productables",Object(b.a)({method:"GET"},s||{})));case 1:case"end":return E.stop()}},u)})),W.apply(this,arguments)}function d(u,s){return l.apply(this,arguments)}function l(){return l=Object(c.a)(i.a.mark(function u(s,a){return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.f)("/api/admin/productables/product",Object(b.a)({method:"GET",params:s},a||{})));case 1:case"end":return n.stop()}},u)})),l.apply(this,arguments)}function m(u,s,a){return U.apply(this,arguments)}function U(){return U=Object(c.a)(i.a.mark(function u(s,a,E){return i.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",Object(f.f)("/api/admin/products/".concat(s,"/attach"),Object(b.a)({method:"POST",data:a},E||{})));case 1:case"end":return T.stop()}},u)})),U.apply(this,arguments)}function v(u,s,a){return L.apply(this,arguments)}function L(){return L=Object(c.a)(i.a.mark(function u(s,a,E){return i.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",Object(f.f)("/api/admin/products/".concat(s,"/detach"),Object(b.a)({method:"POST",data:a},E||{})));case 1:case"end":return T.stop()}},u)})),L.apply(this,arguments)}},EmS3:function(Z,j,e){"use strict";e.d(j,"f",function(){return x}),e.d(j,"a",function(){return A}),e.d(j,"d",function(){return I}),e.d(j,"e",function(){return M}),e.d(j,"b",function(){return p}),e.d(j,"c",function(){return _});var b=e("k1fw"),c=e("9og8"),D=e("WmNS"),i=e.n(D),f=e("9kvl");function x(d,l){return o.apply(this,arguments)}function o(){return o=Object(c.a)(i.a.mark(function d(l,m){return i.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",Object(f.f)("/api/admin/webinars",Object(b.a)({method:"GET",useCache:!1,params:Object(b.a)(Object(b.a)({},l),{},{per_page:l&&l.pageSize,page:l&&l.current})},m||{})));case 1:case"end":return v.stop()}},d)})),o.apply(this,arguments)}function A(d,l){return g.apply(this,arguments)}function g(){return g=Object(c.a)(i.a.mark(function d(l,m){return i.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",Object(f.f)("/api/admin/webinars",Object(b.a)({method:"POST",headers:{"Content-Type":"application/json"},data:l},m||{})));case 1:case"end":return v.stop()}},d)})),g.apply(this,arguments)}function I(d,l){return C.apply(this,arguments)}function C(){return C=Object(c.a)(i.a.mark(function d(l,m){return i.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",Object(f.f)("/api/admin/webinars/".concat(l),Object(b.a)({method:"GET",useCache:!1},m||{})));case 1:case"end":return v.stop()}},d)})),C.apply(this,arguments)}function M(d,l,m){return O.apply(this,arguments)}function O(){return O=Object(c.a)(i.a.mark(function d(l,m,U){return i.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",Object(f.f)("/api/admin/webinars/".concat(l,"?method=PUT"),Object(b.a)({method:"POST",headers:{"Content-Type":"application/json"},data:m},U||{})));case 1:case"end":return L.stop()}},d)})),O.apply(this,arguments)}function p(d,l){return P.apply(this,arguments)}function P(){return P=Object(c.a)(i.a.mark(function d(l,m){return i.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",Object(f.f)("/api/admin/webinars/".concat(l),Object(b.a)({method:"DELETE",useCache:!1},m||{})));case 1:case"end":return v.stop()}},d)})),P.apply(this,arguments)}function _(d,l){return W.apply(this,arguments)}function W(){return W=Object(c.a)(i.a.mark(function d(l,m){return i.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",Object(f.f)("/api/admin/g-token/generate",Object(b.a)({method:"POST",headers:{"Content-Type":"application/json"},data:l},m||{})));case 1:case"end":return v.stop()}},d)})),W.apply(this,arguments)}},MvUh:function(Z,j,e){},TWax:function(Z,j,e){"use strict";var b=e("ozfa"),c=e("MJZm"),D=e("T2oS"),i=e("W9HT"),f=e("tJVT"),x=e("q1tI"),o=e.n(x),A=e("JifO"),g=e("nKUr"),I=e.n(g),C=function O(p){return p.subcategories&&p.subcategories.length?{title:p.name,key:p.id,children:p.subcategories.map(function(P){return O(P)})}:{title:p.name,key:p.id}},M=function(p){var P=p.value,_=p.onChange,W=p.multiple,d=W===void 0?!0:W,l=Object(x.useState)([]),m=Object(f.a)(l,2),U=m[0],v=m[1];Object(x.useEffect)(function(){Object(A.c)().then(function(u){return v(u.data)})},[]);var L=Object(x.useMemo)(function(){return U.map(function(u){return C(u)})},[U]);return U.length===0?Object(g.jsx)(i.a,{}):Object(g.jsx)(c.a,{multiple:d,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,style:{width:"100%"},checkedKeys:P,onCheck:function(s){if(typeof s=="object"&&!Array.isArray(s)&&s.checked){var a=s.checked;return _&&Array.isArray(a)&&_(a)}},treeData:L,disabled:U.length===0})};j.a=M},VlvL:function(Z,j,e){"use strict";var b=e("9kvl"),c=e("Ty5D"),D=e("nKUr"),i=e.n(D),f=function(o){var A=o.show,g=Object(b.i)();return Object(D.jsx)(c.b,{when:A,message:g.formatMessage({id:"unsaved_changes"})})};j.a=f},eFHa:function(Z,j,e){"use strict";e.d(j,"a",function(){return f});var b=e("tJVT"),c=e("q1tI"),D=e.n(c),i=e("HZtn");function f(){var x=Object(c.useState)({showModal:!1,disableEdit:!1,clicked:!1}),o=Object(b.a)(x,2),A=o[0],g=o[1],I=function(M){(M==null?void 0:M.status)==="published"&&M!==null&&M!==void 0&&M.active_from&&Object(i.a)(new Date(M==null?void 0:M.active_from))&&!A.clicked?g({showModal:!1,disableEdit:!0,clicked:!1}):g({showModal:!1,disableEdit:!1,clicked:!1})};return{manageCourseEdit:A,setManageCourseEdit:g,validateCourseEdit:I}}},hd5d:function(Z,j,e){"use strict";var b=e("9og8"),c=e("WmNS"),D=e.n(c),i=e("q1tI"),f=e.n(i),x=e("3Ef1"),o=e.n(x),A=e("BAh9"),g=e("vtG9"),I=e.n(g),C=e("9kvl"),M=e("nKUr"),O=e.n(M),p=function(_){var W=_.value,d=_.onChange,l=_.directory,m=l===void 0?"/wysiwyg":l,U=Object(C.i)();return Object(M.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(M.jsx)(o.a,{uploadImage:function(){var v=Object(b.a)(D.a.mark(function L(u){var s,a;return D.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(A.e)(u,m);case 2:if(s=n.sent,!s.success){n.next=6;break}return a=s.data[0].name.includes("/")?s.data[0].name:"".concat(m).concat(s.data[0].name),n.abrupt("return",Object(A.d)(a,1e3));case 6:throw new Error("Error while uploading");case 7:case"end":return n.stop()}},L)}));return function(L){return v.apply(this,arguments)}}(),defaultValue:W||"",onChange:function(L){return d&&d(L())},placeholder:U.formatMessage({id:"wysiwyg_placeholder"})})})};j.a=p},kMBS:function(Z,j,e){"use strict";e.d(j,"a",function(){return x});var b=e("k1fw"),c=e("9og8"),D=e("WmNS"),i=e.n(D),f=e("9kvl");function x(A){return o.apply(this,arguments)}function o(){return o=Object(c.a)(i.a.mark(function A(g){return i.a.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",Object(f.f)("/api/tags/unique",Object(b.a)({method:"GET",useCache:!1},g||{})));case 1:case"end":return C.stop()}},A)})),o.apply(this,arguments)}},q34N:function(Z,j,e){"use strict";var b=e("tJVT"),c=e("0eZe"),D=e("q1tI"),i=e.n(D),f=e("nKUr"),x=e.n(f),o=function(g){var I=g.productable,C=g.type,M=C===void 0?"card":C,O=Object(D.useState)("attributes"),p=Object(b.a)(O,2),P=p[0],_=p[1];return Object(f.jsx)(c.a,{productable:I,tab:P,onTabChange:function(d){return _(d)},type:M})};j.a=o},qSko:function(Z,j,e){"use strict";var b=e("OaEy"),c=e("2fM7"),D=e("T2oS"),i=e("W9HT"),f=e("tJVT"),x=e("q1tI"),o=e.n(x),A=e("DVQu"),g=e("9kvl"),I=e("nKUr"),C=e.n(I),M=function(p){var P=p.value,_=p.onChange,W=p.multiple,d=W===void 0?!1:W,l=p.type,m=Object(x.useState)([]),U=Object(f.a)(m,2),v=U[0],L=U[1],u=Object(x.useState)(!1),s=Object(f.a)(u,2),a=s[0],E=s[1],n=Object(x.useState)([]),T=Object(f.a)(n,2),S=T[0],Ae=T[1],je=Object(x.useRef)(),xe=Object(x.useCallback)(function(){E(!0),je.current&&je.current.abort(),je.current=new AbortController,Object(A.h)({productable_type:l},{signal:je.current.signal}).then(function(q){q.success&&L(l?q.data.filter(function(ae){return ae.type==="single"&&ae.productables&&ae.productables[0].id}):q.data),E(!1)}).catch(function(){return E(!1)})},[]);return Object(x.useEffect)(function(){var q=new AbortController;if(P){var ae=Array.isArray(P)?P:[P],me=ae.map(function(R){return typeof R=="object"?Number(R.id):Number(R)});Ae(me)}return function(){q.abort()}},[P]),Object(I.jsx)(c.a,{onFocus:function(){return xe()},allowClear:!0,style:{width:"100%",minWidth:"150px"},value:S,onChange:_,mode:d?"multiple":void 0,showSearch:!0,placeholder:Object(I.jsx)(g.a,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(ae,me){if(me&&me.children){var R;return(me==null||(R=me.children)===null||R===void 0?void 0:R.toString().toLowerCase().indexOf(ae&&ae.toLowerCase()||""))>=0}return!1},notFoundContent:a?Object(I.jsx)(i.a,{size:"small"}):null,children:v.map(function(q){return Object(I.jsx)(c.a.Option,{value:q.id,children:q.name},q.id)})})};j.a=M},rWUb:function(Z,j,e){"use strict";e.d(j,"e",function(){return x}),e.d(j,"d",function(){return A}),e.d(j,"a",function(){return I}),e.d(j,"h",function(){return M}),e.d(j,"b",function(){return p}),e.d(j,"i",function(){return _}),e.d(j,"c",function(){return d}),e.d(j,"f",function(){return m}),e.d(j,"g",function(){return v});var b=e("k1fw"),c=e("9og8"),D=e("WmNS"),i=e.n(D),f=e("9kvl");function x(u,s){return o.apply(this,arguments)}function o(){return o=Object(c.a)(i.a.mark(function u(s,a){return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.f)("/api/admin/templates",Object(b.a)({method:"GET",useCache:!1,params:Object(b.a)(Object(b.a)({},s),{},{per_page:s&&s.pageSize,page:s&&s.current})},a||{})));case 1:case"end":return n.stop()}},u)})),o.apply(this,arguments)}function A(u,s){return g.apply(this,arguments)}function g(){return g=Object(c.a)(i.a.mark(function u(s,a){return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.f)("/api/admin/templates/".concat(s),Object(b.a)({method:"GET"},a||{})));case 1:case"end":return n.stop()}},u)})),g.apply(this,arguments)}function I(u,s){return C.apply(this,arguments)}function C(){return C=Object(c.a)(i.a.mark(function u(s,a){return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.f)("/api/admin/templates",Object(b.a)({method:"POST",headers:{"Content-Type":"application/json"},data:s},a||{})));case 1:case"end":return n.stop()}},u)})),C.apply(this,arguments)}function M(u,s,a){return O.apply(this,arguments)}function O(){return O=Object(c.a)(i.a.mark(function u(s,a,E){return i.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",Object(f.f)("/api/admin/templates/".concat(s),Object(b.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:a},E||{})));case 1:case"end":return T.stop()}},u)})),O.apply(this,arguments)}function p(u,s){return P.apply(this,arguments)}function P(){return P=Object(c.a)(i.a.mark(function u(s,a){return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.f)("/api/admin/templates/".concat(s),Object(b.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},a||{})));case 1:case"end":return n.stop()}},u)})),P.apply(this,arguments)}function _(u){return W.apply(this,arguments)}function W(){return W=Object(c.a)(i.a.mark(function u(s){return i.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",Object(f.f)("/api/admin/templates/variables",Object(b.a)({method:"GET"},s||{})));case 1:case"end":return E.stop()}},u)})),W.apply(this,arguments)}function d(u,s){return l.apply(this,arguments)}function l(){return l=Object(c.a)(i.a.mark(function u(s,a){return i.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.f)("/api/admin/templates/".concat(s,"/preview"),Object(b.a)({method:"GET"},a||{})));case 1:case"end":return n.stop()}},u)})),l.apply(this,arguments)}function m(u,s,a){return U.apply(this,arguments)}function U(){return U=Object(c.a)(i.a.mark(function u(s,a,E){return i.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",Object(f.f)("/api/admin/events/trigger-manually/".concat(s),Object(b.a)({method:"POST",headers:{"Content-Type":"application/json"},data:{users:a}},E||{})));case 1:case"end":return T.stop()}},u)})),U.apply(this,arguments)}function v(u,s,a){return L.apply(this,arguments)}function L(){return L=Object(c.a)(i.a.mark(function u(s,a,E){return i.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",Object(f.f)("/api/admin/products/".concat(a,"/trigger-event-manually/").concat(s),Object(b.a)({method:"POST",headers:{"Content-Type":"application/json"}},E||{})));case 1:case"end":return T.stop()}},u)})),L.apply(this,arguments)}},rnuo:function(Z,j,e){"use strict";var b=e("tJVT"),c=e("OaEy"),D=e("2fM7"),i=e("q1tI"),f=e.n(i),x=e("kMBS"),o=e("nKUr"),A=e.n(o),g=D.a.Option,I=function(M){var O=M.value,p=M.onChange,P=Object(i.useState)([]),_=Object(b.a)(P,2),W=_[0],d=_[1];return Object(i.useEffect)(function(){Object(x.a)().then(function(l){return d(l.data)})},[]),Object(o.jsx)(D.a,{mode:"tags",showSearch:!0,style:{width:"100%"},placeholder:"Select a Tag",optionFilterProp:"children",onChange:p,value:O,children:W.map(function(l){return Object(o.jsx)(g,{value:l.title,children:l.title},l.title)})})};j.a=I},tixb:function(Z,j,e){"use strict";e.r(j);var b=e("14J3"),c=e("BMrR"),D=e("jCWc"),i=e("kPKH"),f=e("fOrg"),x=e("+KLJ"),o=e("+L6B"),A=e("2/Rp"),g=e("T2oS"),I=e("W9HT"),C=e("miYZ"),M=e("tsqr"),O=e("k1fw"),p=e("9og8"),P=e("tJVT"),_=e("WmNS"),W=e.n(_),d=e("q1tI"),l=e.n(d),m=e("VMEa"),U=e("Qurx"),v=e("yj/a"),L=e("CnWR"),u=e("BiO0"),s=e("nhC9"),a=e("hd5d"),E=e("tMyG"),n=e("9kvl"),T=e("Ty5D"),S=e("EmS3"),Ae=e("0WSk"),je=e("Gn8c"),xe=e("c+yx"),q=e("rnuo"),ae=e("VlvL"),me=e("viv7"),R=e("eFHa"),w=e("4f6N"),t=e("q34N"),X=e("5RzD"),r=e("nKUr"),le=e.n(r),Ue=function(){var ue=Object(n.i)(),Oe=Object(T.l)(),Y=Oe.webinar,Ve=Oe.tab,ne=Ve===void 0?"attributes":Ve,ge=Y==="new",We=Object(d.useState)(!1),Le=Object(P.a)(We,2),Ke=Le[0],Re=Le[1],pe=Object(d.useState)(),re=Object(P.a)(pe,2),V=re[0],te=re[1],be=Object(R.a)(),z=be.manageCourseEdit,oe=be.setManageCourseEdit,fe=be.validateCourseEdit,B=m.a.useForm(),N=Object(P.a)(B,1),Me=N[0],ee=Object(d.useCallback)(Object(p.a)(W.a.mark(function K(){var F;return W.a.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,Object(S.d)(Number(Y));case 2:F=G.sent,F.success&&(ne==="attributes"&&fe(F.data),te(Object(O.a)({},F.data)));case 4:case"end":return G.stop()}},K)})),[Y]);Object(d.useEffect)(function(){if(ge){te({name:"new"});return}ee()},[Y]);var he=Object(d.useMemo)(function(){return{onFinish:function(){var K=Object(p.a)(W.a.mark(function H(G){var Q,se;return W.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!z.disableEdit){h.next=3;break}return oe({showModal:!0,disableEdit:!0,clicked:!1}),h.abrupt("return");case 3:if(Q=Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)(Object(O.a)({},G),ne==="attributes"&&{active_from:new Date(String(G.active_from))}),ne==="attributes"&&{active_to:new Date(String(G.active_to))}),ne==="media"&&{image_url:V&&V.image_url}),ne==="media"&&{image_path:V&&V.image_url&&Object(xe.e)(V.image_url)}),ne==="branding"&&{logotype_url:V&&V.logotype_url}),ne==="branding"&&{logotype_path:V&&V.logotype_path&&Object(xe.e)(V.logotype_path)}),{},{trainers:G.trainers&&G.trainers.map(function(k){return typeof k=="object"?k.id:k})}),!ge){h.next=11;break}return h.next=7,Object(S.a)(Q);case 7:se=h.sent,se.success&&(Re(!1),n.d.push("/webinars/".concat(se.data.id))),h.next=15;break;case 11:return h.next=13,Object(S.e)(Number(Y),Q);case 13:se=h.sent,se.success&&(Re(!1),fe(se.data),n.d.push("/webinars/".concat(se.data.id,"/").concat(ne)));case 15:M.default.success(se.message);case 16:case"end":return h.stop()}},H)}));function F(H){return K.apply(this,arguments)}return F}(),initialValues:V}},[V,Y,ne,z]);return V?Object(r.jsx)(E.a,{title:ge?Object(r.jsx)(n.a,{id:"menu.webinars"}):Object(r.jsx)(n.a,{id:"webinar.edit"}),header:{breadcrumb:{routes:[{path:"webinars",breadcrumbName:ue.formatMessage({id:"menu.Webinars"})},{path:String(Y),breadcrumbName:ue.formatMessage({id:"form"})},{path:"/",breadcrumbName:ue.formatMessage({id:String(V.name)})},{path:String(ne),breadcrumbName:ue.formatMessage({id:String(ne)})}]}},children:Object(r.jsxs)(s.a,{tabs:{type:"card",activeKey:ne,onChange:function(F){return n.d.push("/webinars/".concat(Y,"/").concat(F))}},children:[Object(r.jsxs)(s.a.TabPane,{tab:Object(r.jsx)(n.a,{id:"attributes"}),children:[z.disableEdit&&Object(r.jsx)(x.a,{closable:!0,style:{marginBottom:"20px"},type:"warning",message:Object(r.jsx)(n.a,{id:"course_edit_warning_message",defaultMessage:"course_edit_warning_message"}),action:Object(r.jsx)(A.a,{onClick:function(){return oe({showModal:!0,disableEdit:!0,clicked:!0})},type:"primary",children:Object(r.jsx)(n.a,{id:"questionnaire.submit",defaultMessage:"questionnaire.submit"})})}),Object(r.jsx)(ae.a,{show:Ke}),Object(r.jsx)(w.a,{visible:z.showModal,setManage:oe}),Object(r.jsxs)(m.a,Object(O.a)(Object(O.a)({},he),{},{form:Me,onValuesChange:function(){Re(!0)},children:[Object(r.jsxs)(m.a.Group,{children:[Object(r.jsx)(U.a,{width:"md",name:"name",label:Object(r.jsx)(n.a,{id:"name"}),tooltip:Object(r.jsx)(n.a,{id:"name"}),placeholder:ue.formatMessage({id:"name",defaultMessage:"name"}),required:!0,disabled:z.disableEdit}),Object(r.jsx)(U.a,{width:"sm",name:"duration",label:Object(r.jsx)(n.a,{id:"duration"}),tooltip:Object(r.jsx)(n.a,{id:"duration"}),placeholder:ue.formatMessage({id:"duration",defaultMessage:"duration"}),disabled:z.disableEdit}),Object(r.jsx)(v.a,{name:"status",width:"xs",label:Object(r.jsx)(n.a,{id:"status"}),valueEnum:me.a,initialValue:me.a.draft,placeholder:ue.formatMessage({id:"status"}),rules:[{required:!0,message:Object(r.jsx)(n.a,{id:"select"})}],disabled:z.disableEdit})]}),Object(r.jsxs)(m.a.Group,{children:[Object(r.jsx)(L.a,{width:"sm",name:"active_from",label:Object(r.jsx)(n.a,{id:"active_from"}),tooltip:Object(r.jsx)(n.a,{id:"active_from"}),placeholder:ue.formatMessage({id:"active_from",defaultMessage:"active_from"}),disabled:z.disableEdit}),Object(r.jsx)(L.a,{width:"sm",name:"active_to",label:Object(r.jsx)(n.a,{id:"active_to"}),tooltip:Object(r.jsx)(n.a,{id:"active_to"}),placeholder:ue.formatMessage({id:"active_to",defaultMessage:"active_to"}),disabled:z.disableEdit}),Object(r.jsx)(m.a.Item,{name:"trainers",label:Object(r.jsx)(n.a,{id:"tutor"}),valuePropName:"value",children:Object(r.jsx)(Ae.a,{multiple:!0})})]}),Object(r.jsx)(m.a.Group,{children:Object(r.jsx)(u.a,{width:"lg",name:"short_desc",label:Object(r.jsx)(n.a,{id:"short_description"}),tooltip:Object(r.jsx)(n.a,{id:"short_description"})})}),Object(r.jsx)(m.a.Group,{children:Object(r.jsx)(m.a.Item,{name:"agenda",label:Object(r.jsx)(n.a,{id:"program"}),tooltip:Object(r.jsx)(n.a,{id:"program"}),valuePropName:"value",children:Object(r.jsx)(a.a,{directory:"webinars/".concat(Y,"/wysiwyg")})})}),Object(r.jsx)(m.a.Group,{children:Object(r.jsx)(m.a.Item,{name:"description",label:Object(r.jsx)(n.a,{id:"description"}),tooltip:Object(r.jsx)(n.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(r.jsx)(a.a,{directory:"webinars/".concat(Y,"/wysiwyg")})})})]}))]},"attributes")," ",!ge&&Object(r.jsx)(s.a.TabPane,{tab:Object(r.jsx)(n.a,{id:"product"}),disabled:z.disableEdit,children:Y&&Object(r.jsx)(t.a,{productable:{class_type:"App\\Models\\Webinar",class_id:Y,name:String(V.name)}})},"product"),!ge&&Object(r.jsx)(s.a.TabPane,{tab:Object(r.jsx)(n.a,{id:"media"}),disabled:z.disableEdit,children:Object(r.jsx)(m.a,Object(O.a)(Object(O.a)({},he),{},{children:Object(r.jsx)(je.a,{folder:"webinar/".concat(Y),title:"image",action:"/api/admin/webinars/".concat(Y),src_name:"image_url",form_name:"image",getUploadedSrcField:function(F){return F.file.response.data.image_url},setPath:function(F){return te(function(H){return Object(O.a)(Object(O.a)({},H),F)})}})}))},"media"),!ge&&Object(r.jsx)(s.a.TabPane,{tab:Object(r.jsx)(n.a,{id:"tags"}),disabled:z.disableEdit,children:Object(r.jsx)(c.a,{children:Object(r.jsx)(i.a,{span:12,children:Object(r.jsx)(m.a,Object(O.a)(Object(O.a)({},he),{},{children:Object(r.jsx)(m.a.Item,{label:Object(r.jsx)(n.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(r.jsx)(q.a,{})})}))})})},"tags")," ",!ge&&Object(r.jsx)(s.a.TabPane,{tab:Object(r.jsx)(n.a,{id:"branding"}),disabled:z.disableEdit,children:Object(r.jsx)(m.a,Object(O.a)(Object(O.a)({},he),{},{children:Object(r.jsx)(je.a,{folder:"webinar/".concat(Y),title:"logotype",action:"/api/admin/webinars/".concat(Y),src_name:"logotype_url",form_name:"logotype",getUploadedSrcField:function(F){return F.file.response.data.logotype_url},setPath:function(F){return te(function(H){return Object(O.a)(Object(O.a)({},H),F)})}})}))},"branding")," ",!ge&&Object(r.jsx)(s.a.TabPane,{tab:Object(r.jsx)(n.a,{id:"user_submission"}),disabled:z.disableEdit,children:Object(r.jsx)(c.a,{children:Object(r.jsx)(i.a,{span:12,children:Y&&Object(r.jsx)(X.a,{id:Number(Y),type:"App\\Models\\Webinar"})})})},"user_submission")]})}):Object(r.jsx)(I.a,{})};j.default=Ue},viv7:function(Z,j,e){"use strict";e.d(j,"a",function(){return b});var b;(function(c){c.draft="draft",c.published="published",c.archived="archived",c.published_unactivated="published_unactivated"})(b||(b={}))},vtG9:function(Z,j,e){},vzes:function(Z,j,e){"use strict";var b=e("OaEy"),c=e("2fM7"),D=e("+BJd"),i=e("mr32"),f=e("T2oS"),x=e("W9HT"),o=e("tJVT"),A=e("q1tI"),g=e.n(A),I=e("9kvl"),C=e("DVQu"),M=e("nKUr"),O=e.n(M),p=function(d){return"".concat(d.productable_type,":").concat(d.productable_id,":").concat(d.name)},P=function(d){return"".concat(d.class,":").concat(d.id,":").concat(d.name)},_=function(d){var l=d.value,m=d.onChange,U=d.multiple,v=U===void 0?!1:U,L=d.disabled,u=L===void 0?!1:L,s=Object(A.useState)([]),a=Object(o.a)(s,2),E=a[0],n=a[1],T=Object(A.useState)(!1),S=Object(o.a)(T,2),Ae=S[0],je=S[1],xe=Object(A.useState)([]),q=Object(o.a)(xe,2),ae=q[0],me=q[1],R=Object(A.useRef)(),w=Object(A.useCallback)(function(){je(!0),R.current&&R.current.abort(),R.current=new AbortController,Object(C.g)({signal:R.current.signal}).then(function(t){t.success&&n(t.data),je(!1)}).catch(function(){return je(!1)})},[]);return Object(A.useEffect)(function(){w()},[]),Object(A.useEffect)(function(){var t=new AbortController;if(l){var X=Array.isArray(l)?l:[l],r=X.map(function(le){return typeof le=="object"?P(le):String(le)});me(r)}return function(){t.abort()}},[l]),Object(M.jsx)(c.a,{disabled:u,allowClear:!0,style:{width:"100%",minWidth:"150px"},value:ae,onChange:m,mode:v?"multiple":void 0,showSearch:!0,placeholder:Object(M.jsx)(I.a,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(X,r){if(r&&r.children){var le;return(r==null||(le=r.children)===null||le===void 0?void 0:le.toString().toLowerCase().indexOf(X&&X.toLowerCase()||""))>=0}return!1},notFoundContent:Ae?Object(M.jsx)(x.a,{size:"small"}):null,children:E.map(function(t){var X=p(t);return Object(M.jsxs)(c.a.Option,{value:X,children:[Object(M.jsx)(i.a,{children:Object(M.jsx)(I.a,{id:t.productable_type.split("\\").pop(),defaultMessage:t.productable_type.split("\\").pop()})})," ",t.name," ",Object(M.jsxs)("small",{children:["id:",t.productable_id]})," "]},X)})})};j.a=_}}]);
