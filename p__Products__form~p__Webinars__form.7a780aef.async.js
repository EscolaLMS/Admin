(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"/y+f":function(re,j,e){"use strict";e.d(j,"f",function(){return u}),e.d(j,"d",function(){return p}),e.d(j,"e",function(){return $}),e.d(j,"c",function(){return C}),e.d(j,"a",function(){return M}),e.d(j,"b",function(){return A});var u;(function(r){r.Unselected="",r.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",r.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",r.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",r.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",r.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",r.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",r.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",r.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",r.Project="EscolaLms\\TopicTypeProject\\Models\\Project",r.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz"})(u||(u={}));var O;(function(r){r.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",r.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(O||(O={}));var h;(function(r){r.draft="draft",r.published="published",r.archived="archived"})(h||(h={}));var p;(function(r){r.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",r.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",r.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(p||(p={}));var $;(function(r){r.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})($||($={}));var v;(function(r){r.cart_fixed="cart_fixed",r.cart_percent="cart_percent",r.product_fixed="product_fixed",r.product_percent="product_percent"})(v||(v={}));var C;(function(r){r.MULTIPLE_CHOICE="multiple_choice",r.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",r.TRUE_FALSE="true_false",r.SHORT_ANSWERS="short_answers",r.MATCHING="matching",r.NUMERICAL_QUESTION="numerical_question",r.ESSAY="essay",r.DESCRIPTION="description"})(C||(C={}));var M;(function(r){r.PRESENT="present",r.ABSENT="absent"})(M||(M={}));var A;(function(r){r.Manual="manual",r.TeamsForms="teams_forms",r.TeamsLecture="teams_lecture",r.TestPortal="test_portal"})(A||(A={}))},"0eZe":function(re,j,e){"use strict";var u=e("14J3"),O=e("BMrR"),h=e("jCWc"),p=e("kPKH"),$=e("+BJd"),v=e("mr32"),C=e("oBTY"),M=e("5NDa"),A=e("5rEg"),r=e("T2oS"),I=e("W9HT"),y=e("miYZ"),K=e("tsqr"),b=e("qLMh"),c=e("k1fw"),P=e("9og8"),g=e("tJVT"),i=e("q1tI"),o=e("VMEa"),U=e("Qurx"),N=e("5qq5"),F=e("F/zT"),s=e("FJDo"),n=e("nhC9"),a=e("9kvl"),m=e("vzes"),l=e("DVQu"),d=e("Gn8c"),x=e("TWax"),ye=e("90Xc"),De=e("5Dmo"),le=e("3S7+"),Ae=e("+L6B"),w=e("2/Rp"),ne=e("0WSk"),B=e("Qiat"),E=e("/MfK"),t=e("nKUr"),V=[{title:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:Object(t.jsx)(a.a,{id:"email",defaultMessage:"email"}),dataIndex:"email"}],T=function(D){var L=D.id,he=Object(a.l)(),z=Object(i.useRef)(),Te=Object(i.useState)(!1),R=Object(g.a)(Te,2),de=R[0],q=R[1],ae=o.a.useForm(),G=Object(g.a)(ae,1),Pe=G[0],ve=Object(i.useCallback)(function(){var H=Object(P.a)(Object(b.a)().mark(function me(Q){var W;return Object(b.a)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return q(!0),S.next=3,Object(l.d)(Number(L),{user_id:Q.user_id});case 3:Pe.resetFields(),(W=z.current)===null||W===void 0||W.reload(),q(!1);case 6:case"end":return S.stop()}},me)}));return function(me){return H.apply(this,arguments)}}(),[L]),_=Object(i.useCallback)(function(){var H=Object(P.a)(Object(b.a)().mark(function me(Q){var W;return Object(b.a)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return q(!0),S.next=3,Object(l.e)(Number(L),{user_id:Q});case 3:(W=z.current)===null||W===void 0||W.reload(),q(!1);case 5:case"end":return S.stop()}},me)}));return function(me){return H.apply(this,arguments)}}(),[L]);return Object(t.jsxs)(i.Fragment,{children:[Object(t.jsx)(o.a,{layout:"inline",onFinish:ve,form:Pe,labelWrap:!0,children:Object(t.jsx)(o.a.Group,{children:Object(t.jsx)(o.a.Item,{name:"user_id",label:Object(t.jsx)(a.a,{id:"users"}),valuePropName:"value",children:Object(t.jsx)(ne.a,{})})})}),Object(t.jsx)(B.a,{defaultSize:"small",loading:de,search:!1,headerTitle:he.formatMessage({id:"users",defaultMessage:"Users"}),actionRef:z,rowKey:"id",request:Object(P.a)(Object(b.a)().mark(function H(){return Object(b.a)().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return q(!0),Q.abrupt("return",Object(l.c)(Number(L)).then(function(W){return q(!1),W.success&&W.data.users?{data:W.data.users,total:W.data.users.length,success:!0}:W.success?[]:{data:[],total:0,success:!1}}));case 2:case"end":return Q.stop()}},H)})),columns:[].concat(V,[{title:Object(t.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(me,Q){return[Object(t.jsx)(le.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(w.a,{type:"primary",icon:Object(t.jsx)(E.a,{}),danger:!0,onClick:function(){return _(Q.id)}})},"delete")]}}])})]})},k=T,ee=e("5RzD"),Ie=e("rnuo"),Ue=e("c+yx"),ce=e("hd5d"),ze=e("DYRE"),$e=e("zeV3"),Fe=e("rWUb"),Je=e("OaEy"),Re=e("2fM7"),Be=function(D){var L=D.value,he=D.onChange,z=D.multiple,Te=z===void 0?!1:z,R=D.params,de=Object(i.useState)([]),q=Object(g.a)(de,2),ae=q[0],G=q[1],Pe=Object(i.useState)(!1),ve=Object(g.a)(Pe,2),_=ve[0],H=ve[1],me=Object(i.useState)([]),Q=Object(g.a)(me,2),W=Q[0],xe=Q[1],S=Object(i.useRef)(),Ne=Object(i.useCallback)(function(){H(!0),S.current&&S.current.abort(),S.current=new AbortController,Object(Fe.e)(R,{signal:S.current.signal}).then(function(Y){Y.success&&G(Y.data),H(!1)}).catch(function(){return H(!1)})},[]);return Object(i.useEffect)(function(){var Y=new AbortController;if(L){var Le=Array.isArray(L)?L:[L],ge=Le.map(function(Ee){return typeof Ee=="object"?Number(Ee.id):Number(Ee)});xe(ge)}return function(){Y.abort()}},[L]),Object(t.jsx)(Re.a,{onFocus:function(){return Ne()},allowClear:!0,style:{width:"100%",minWidth:"400px"},value:W,onChange:he,mode:Te?"multiple":void 0,showSearch:!0,placeholder:Object(t.jsx)(a.a,{id:"select_template",defaultMessage:"Select a template"}),optionFilterProp:"children",filterOption:function(Le,ge){if(ge&&ge.children){var Ee;return(ge==null||(Ee=ge.children)===null||Ee===void 0?void 0:Ee.toString().toLowerCase().indexOf(Le&&Le.toLowerCase()||""))>=0}return!1},notFoundContent:_?Object(t.jsx)(I.a,{size:"small"}):null,children:ae.map(function(Y){return Object(t.jsxs)(Re.a.Option,{value:Y.id,children:[Y.name," ",Object(t.jsxs)("small",{children:[Object(t.jsx)(a.a,{id:Y.channel.split("\\").pop()}),":",Y.event&&Object(t.jsx)(a.a,{id:Y.event.split("\\").pop()})]})]},Y.id)})})},We=Be,Ve=e("/y+f"),je=function(D){var L=D.productId,he=Object(i.useState)(!1),z=Object(g.a)(he,2),Te=z[0],R=z[1],de=Object(i.useState)(),q=Object(g.a)(de,2),ae=q[0],G=q[1],Pe=Object(a.l)(),ve=Object(i.useCallback)(function(){R(!0),typeof ae=="number"&&Object(Fe.g)(Number(ae),L).then(function(_){_.success?K.b.success(_.message):K.b.error(_.message)}).catch(function(_){return K.b.error(_.toString())}).finally(function(){return R(!1)})},[ae,L]);return Object(t.jsxs)($e.b,{children:[Object(t.jsx)(Be,{params:{event:Ve.e.ManuallyTriggeredEvent},multiple:!1,value:ae,onChange:function(H){return G(H)}}),Object(t.jsx)(le.a,{title:Pe.formatMessage({id:"generate_pdf_for_products_tooltip"}),children:Object(t.jsx)(w.a,{loading:Te,onClick:function(){return ve()},disabled:!ae,children:Object(t.jsx)(a.a,{id:"generate"})})})]})},te=je,oe=e("qSko"),se=function(D){return D.map(function(L){return{class:L.productable_type,id:Number(L.productable_id),name:L.name,quantity:L.quantity}})},Oe=function(D){var L=Array.isArray(D)?D:[D],he=L.map(function(z){return typeof z=="object"?z:{id:parseInt(z.split(":")[1]),class:z.split(":")[0],name:z.split(":")[2]}});return he},be=function(D){var L=D.tab,he=L===void 0?"attributes":L,z=D.onTabChange,Te=D.id,R=D.productable,de=D.onProductSaved,q=D.type,ae=q===void 0?"card":q,G=Object(a.l)(),Pe=Object(i.useState)(Te),ve=Object(g.a)(Pe,2),_=ve[0],H=ve[1],me=Object(i.useState)([]),Q=Object(g.a)(me,2),W=Q[0],xe=Q[1],S=Object(i.useMemo)(function(){return _==="new"},[_]),Ne=Object(i.useState)(!0),Y=Object(g.a)(Ne,2),Le=Y[0],ge=Y[1],Ee=Object(i.useState)(null),He=Object(g.a)(Ee,2),Qe=He[0],ke=He[1],qe=Object(i.useState)({}),et=Object(g.a)(qe,2),tt=et[1],at=Object(i.useCallback)(function(){return tt({})},[]),rt=o.a.useForm(),nt=Object(g.a)(rt,1),Ce=nt[0],st=Object(i.useState)(!1),Ye=Object(g.a)(st,2),Ze=Ye[0],Xe=Ye[1];Object(i.useEffect)(function(){R&&R.class_id&&R.class_type&&(Object(l.f)({productable_id:Number(R.class_id),productable_type:R.class_type}).then(function(J){J.success&&H(J.data.id)}).catch(function(){console.log("err"),H("new")}),xe([{class:R.class_type,id:Number(R.class_id),name:R.name}]),Ce.setFieldsValue({productables:[{class:R.class_type,id:R.class_id,name:R.name}]}))},[R]);var lt=Object(i.useCallback)(Object(P.a)(Object(b.a)().mark(function J(){var f,ue,pe,_e,Se,Me,Z;return Object(b.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(!(_&&_!=="new")){X.next=5;break}return X.next=3,Object(l.c)(Number(_));case 3:f=X.sent,f.success&&(Se=Object(c.a)(Object(c.a)({},f.data),{},{categories:(ue=f.data.categories)===null||ue===void 0?void 0:ue.map(Ue.a),tags:(pe=f.data.tags)===null||pe===void 0?void 0:pe.map(function(Ke){return Object(Ue.j)(Ke)}),productables:f.data.productables?se(f.data.productables):[]}),f.data&&f!==null&&f!==void 0&&(_e=f.data)!==null&&_e!==void 0&&_e.productables&&ke(f==null||(Me=f.data)===null||Me===void 0||(Z=Me.productables[0])===null||Z===void 0?void 0:Z.productable_type),xe(se(f.data.productables)),Ce.setFieldsValue(Se),Xe(f.data.type==="bundle"));case 5:ge(!1);case 6:case"end":return X.stop()}},J)})),[_]);Object(i.useEffect)(function(){_&&lt()},[_]);var we=Object(i.useMemo)(function(){return{onValuesChange:function(f){f.type&&Xe(f.type==="bundle")},onFinish:function(){var J=Object(P.a)(Object(b.a)().mark(function ue(pe){var _e,Se,Me,Z;return Object(b.a)().wrap(function(X){for(;;)switch(X.prev=X.next){case 0:if(Se=(_e=pe.related_products)!==null&&_e!==void 0&&_e.every(function(Ke){return typeof Ke=="object"})?pe.related_products.map(function(Ke){return Ke.id}):pe.related_products,Me=Object(c.a)(Object(c.a)({},pe),{},{productables:W?Oe(W):void 0},pe.related_products?{related_products:Se}:{}),!S){X.next=9;break}return X.next=5,Object(l.a)(Me);case 5:Z=X.sent,Z.success&&(de&&de(Z.data),H(Z.data.id),Ce.setFieldsValue(Z.data)),X.next=13;break;case 9:return X.next=11,Object(l.i)(Number(_),Me);case 11:Z=X.sent,Z.success&&de&&de(Z.data);case 13:K.b.success(Z.message);case 14:case"end":return X.stop()}},ue)}));function f(ue){return J.apply(this,arguments)}return f}()}},[_,de,W]);return Le?Object(t.jsx)(I.a,{}):Object(t.jsxs)(n.a,{title:ae==="line"?Object(t.jsx)(a.a,{id:"product_widget_title",defaultMessage:"Product Attibutes"}):null,tooltip:ae==="line"?Object(t.jsx)(a.a,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,subTitle:ae==="line"?Object(t.jsx)(a.a,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,tabs:{type:ae,activeKey:he,onChange:function(f){return z(f)}},children:[Object(t.jsxs)(n.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"attributes"}),children:[Object(t.jsxs)(o.a,Object(c.a)(Object(c.a)({},we),{},{form:Ce,children:[Object(t.jsxs)(o.a.Group,{children:[Object(t.jsx)(U.a,{width:"md",name:"name",initialValue:S&&R?R.name:void 0,label:Object(t.jsx)(a.a,{id:"name"}),tooltip:Object(t.jsx)(a.a,{id:"name_tooltip"}),placeholder:G.formatMessage({id:"name",defaultMessage:"name"}),required:!0}),Object(t.jsx)(o.a.Item,{shouldUpdate:!0,style:{minWidth:104*3},name:"productables",tooltip:Object(t.jsx)(a.a,{id:"productables_tooltip"}),label:Object(t.jsx)(a.a,{id:"productables"}),valuePropName:"value",children:Object(t.jsx)(m.a,{multiple:Ze,disabled:R!==void 0,onChange:function(f){return xe(Oe(f))}})})]}),Object(t.jsxs)(o.a.Group,{children:[Object(t.jsx)(N.a.Group,{disabled:R!==void 0,initialValue:_&&_!=="new"?void 0:"single",rules:[{required:!0}],name:"type",label:Object(t.jsx)(a.a,{id:"type"}),options:[{label:G.formatMessage({id:"single",defaultMessage:"single"}),value:"single"},{label:G.formatMessage({id:"bundle",defaultMessage:"bundle"}),value:"bundle"}]}),Object(t.jsx)(F.a,{name:"purchasable",label:Object(t.jsx)(a.a,{id:"purchasable"}),tooltip:Object(t.jsx)(a.a,{id:"purchasable_tooltip"})})]}),Object(t.jsxs)(o.a.Group,{title:Object(t.jsx)(a.a,{id:"prices"}),children:[Object(t.jsx)(s.a,{rules:[{required:!0}],width:"xs",name:"price",label:Object(t.jsx)(a.a,{id:"price_in_cents"}),tooltip:Object(t.jsx)(a.a,{id:"price_tooltip"}),placeholder:G.formatMessage({id:"price",defaultMessage:"price"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(s.a,{rules:[{required:!0}],width:"xs",name:"tax_rate",label:Object(t.jsx)(a.a,{id:"tax_rate"}),tooltip:Object(t.jsx)(a.a,{id:"tax_rate_tooltip"}),placeholder:G.formatMessage({id:"tax_rate",defaultMessage:"tax_rate"}),initialValue:S?23:void 0,min:0,max:100,fieldProps:{step:1,formatter:function(f){return"".concat(f,"%")},parser:function(f){return f?f.replace("%",""):""}}}),Object(t.jsx)(o.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"price_brutto"}),tooltip:Object(t.jsx)(a.a,{id:"price_brutto_tooltip"}),children:function(f){return Object(t.jsx)(A.a,{disabled:!0,readOnly:!0,style:{width:"104px"},value:f.getFieldValue("price")?Math.round(parseInt(f.getFieldValue("price"))*(1+parseInt(f.getFieldValue("tax_rate"))/100)):void 0})}}),Object(t.jsx)(o.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"tax_value"}),tooltip:Object(t.jsx)(a.a,{id:"tax_value_tooltip"}),children:function(f){return Object(t.jsx)(A.a,{disabled:!0,readOnly:!0,style:{width:"104px"},value:f.getFieldValue("price")?Math.round(parseInt(f.getFieldValue("price"))*(parseInt(f.getFieldValue("tax_rate"))/100)):void 0})}}),Object(t.jsx)(s.a,{width:"xs",name:"price_old",label:Object(t.jsx)(a.a,{id:"price_old"}),tooltip:Object(t.jsx)(a.a,{id:"price_old_tooltip"}),placeholder:G.formatMessage({id:"price",defaultMessage:"price"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(s.a,{initialValue:S?null:void 0,width:"xs",name:"extra_fees",label:Object(t.jsx)(a.a,{id:"extra_fees"}),tooltip:Object(t.jsx)(a.a,{id:"extra_fees_tooltip"}),placeholder:G.formatMessage({id:"extra_fees",defaultMessage:"extra_fees"}),min:0,max:99999,fieldProps:{step:1}})]}),Object(t.jsxs)(o.a.Group,{title:Object(t.jsx)(a.a,{id:"additional_fields"}),children:[Object(t.jsx)(U.a,{width:"sm",name:"duration",label:Object(t.jsx)(a.a,{id:"duration"}),tooltip:Object(t.jsx)(a.a,{id:"duration_tooltip"}),placeholder:G.formatMessage({id:"duration",defaultMessage:"duration"})}),Object(t.jsx)(s.a,{initialValue:S?null:void 0,width:"sm",name:"limit_per_user",label:Object(t.jsx)(a.a,{id:"limit_per_user"}),tooltip:Object(t.jsx)(a.a,{id:"limit_per_user_tooltip"}),placeholder:G.formatMessage({id:"limit_per_user",defaultMessage:"limit_per_user"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(s.a,{initialValue:S?null:void 0,width:"sm",name:"limit_total",label:Object(t.jsx)(a.a,{id:"limit_total"}),tooltip:Object(t.jsx)(a.a,{id:"limit_total_tooltip"}),placeholder:G.formatMessage({id:"limit_total",defaultMessage:"limit_total"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(U.a,{width:"sm",name:"teaser_url",label:Object(t.jsx)(a.a,{id:"teaser_url"}),tooltip:Object(t.jsx)(a.a,{id:"teaser_url_tooltip"}),placeholder:G.formatMessage({id:"teaser_url",defaultMessage:"teaser_url"})})]})," ",Object(t.jsx)(o.a.Item,{shouldUpdate:!0,name:"related_products",label:Object(t.jsx)(a.a,{id:"related_products"}),valuePropName:"value",children:Qe&&Object(t.jsx)(oe.a,{type:Qe,multiple:!0})}),!S&&Object(t.jsx)(o.a.Item,{style:{width:"100%"},name:"description",label:Object(t.jsx)(a.a,{id:"description"}),tooltip:Object(t.jsx)(a.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(t.jsx)(ce.a,{directory:"products/".concat(_,"/wysiwyg")})}),W.length>0&&Ze&&Object(t.jsx)(B.a,{headerTitle:G.formatMessage({id:"selected_products",defaultMessage:"Selected Products"}),pagination:!1,search:!1,dataSource:Object(C.a)(W),rowKey:"id",columns:[{title:Object(t.jsx)(a.a,{id:"id",defaultMessage:"id"}),dataIndex:"id",width:"10%"},{title:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:Object(t.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"class",render:function(f,ue){return Object(t.jsx)(v.a,{children:Object(t.jsx)(a.a,{id:ue.class.split("\\").pop(),defaultMessage:ue.class.split("\\").pop()})})}},{title:Object(t.jsx)(a.a,{id:"quantity",defaultMessage:"quantity"}),dataIndex:"quantity",width:"10%",render:function(f,ue){return Object(t.jsx)(A.a,{min:1,type:"number",value:ue.quantity||1,onChange:function(_e){var Se=_e.target.value,Me=W.findIndex(function(Ge){return Ge.id===ue.id}),Z=W;Z[Me].quantity=Number(Se),xe(Z),at()}})}}]})]}))," "]},"attributes"),!S&&Object(t.jsx)(n.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"cart_media",defaultMessage:"Cart Media"}),children:Object(t.jsx)(o.a,Object(c.a)(Object(c.a)({},we),{},{form:Ce,children:Object(t.jsx)(d.a,{folder:"products/".concat(_),wrapInForm:!1,title:"image",action:"/api/admin/products/".concat(_,"/?_method=PUT"),src_name:"poster_url",form_name:"poster",getUploadedSrcField:function(f){return f.file.response.data.poster_url},setPath:function(f){return Ce.setFieldsValue(f)}})}))},"media"),!S&&Object(t.jsx)(n.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"product_categories_and_tags",defaultMessage:"Product Categories & Tags"}),children:Object(t.jsx)(o.a,Object(c.a)(Object(c.a)({},we),{},{form:Ce,children:Object(t.jsxs)(O.a,{children:[Object(t.jsx)(p.a,{span:12,children:Object(t.jsx)(o.a.Item,{label:Object(t.jsx)(a.a,{id:"categories"}),name:"categories",valuePropName:"value",children:Object(t.jsx)(x.a,{})})}),Object(t.jsx)(p.a,{span:12,children:Object(t.jsx)(o.a.Item,{label:Object(t.jsx)(a.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(t.jsx)(Ie.a,{})})})]})}))},"categories"),!S&&Object(t.jsx)(n.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"users_attached",defaultMessage:"Users Attached"}),children:Object(t.jsx)(O.a,{children:Object(t.jsx)(p.a,{span:24,children:_&&Object(t.jsx)(k,{id:_})})})},"users")," ",!S&&Object(t.jsx)(n.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"user_submission",defaultMessage:"Users Attached without Account"}),children:Object(t.jsx)(O.a,{children:Object(t.jsx)(p.a,{span:12,children:_&&Object(t.jsx)(ee.a,{id:Number(_),type:"EscolaLms\\Cart\\Models\\Product"})})})},"user_submission"),!S&&_&&Object(t.jsx)(n.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"template"}),children:Object(t.jsx)(O.a,{children:Object(t.jsx)(p.a,{span:12,children:Object(t.jsx)(te,{productId:Number(_)})})})},"template")]})},ie=j.a=be},"5RzD":function(re,j,e){"use strict";var u=e("miYZ"),O=e("tsqr"),h=e("k1fw"),p=e("P2fV"),$=e("NJEC"),v=e("5Dmo"),C=e("3S7+"),M=e("+L6B"),A=e("2/Rp"),r=e("qLMh"),I=e("9og8"),y=e("tJVT"),K=e("q1tI"),b=e("VMEa"),c=e("9kvl"),P=e("Qiat"),g=e("xvlK"),i=e("/MfK");function o(B,E){return U.apply(this,arguments)}function U(){return U=Object(I.a)(Object(r.a)().mark(function B(E,t){return Object(r.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",Object(c.i)("/api/admin/user-submissions",Object(h.a)({method:"GET",params:Object(h.a)(Object(h.a)({},E),{},{per_page:E&&E.pageSize,page:E&&E.current})},t||{})));case 1:case"end":return T.stop()}},B)})),U.apply(this,arguments)}function N(B,E){return F.apply(this,arguments)}function F(){return F=Object(I.a)(Object(r.a)().mark(function B(E,t){return Object(r.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",Object(c.i)("/api/admin/user-submissions",Object(h.a)({method:"POST",headers:{"Content-Type":"application/json"},data:E},t||{})));case 1:case"end":return T.stop()}},B)})),F.apply(this,arguments)}function s(B,E){return n.apply(this,arguments)}function n(){return n=Object(I.a)(Object(r.a)().mark(function B(E,t){return Object(r.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",Object(c.i)("/api/admin/user-submissions/".concat(E),Object(h.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},t||{})));case 1:case"end":return T.stop()}},B)})),n.apply(this,arguments)}var a=e("y8nQ"),m=e("Vl3Y"),l=e("rmhi"),d=e("Qurx"),x=e("nKUr"),ye=function(E){var t=Object(c.l)(),V=E.visible,T=E.onVisibleChange,k=E.onFinish,ee=E.id,Ie=m.a.useForm(),Ue=Object(y.a)(Ie,1),ce=Ue[0];return Object(x.jsx)(l.a,{form:ce,title:t.formatMessage({id:"email",defaultMessage:"email"}),width:"30vw",visible:V,onVisibleChange:T,onFinish:k,children:Object(x.jsx)(b.a.Group,{children:Object(x.jsx)(d.a,{width:"md",name:"email",label:Object(x.jsx)(c.a,{id:"email"}),tooltip:Object(x.jsx)(c.a,{id:"email_tooltip"}),placeholder:t.formatMessage({id:"email",defaultMessage:"email"}),required:!0})})})},De=ye,le=e("MvUh"),Ae=[{title:Object(x.jsx)(c.a,{id:"id",defaultMessage:"id"}),dataIndex:"id",hideInSearch:!0},{title:Object(x.jsx)(c.a,{id:"email",defaultMessage:"email"}),dataIndex:"email",hideInSearch:!1,width:"70%"},{title:Object(x.jsx)(c.a,{id:"status",defaultMessage:"status"}),dataIndex:"status",hideInSearch:!0}],w=function(E){var t=E.id,V=E.type,T=Object(c.l)(),k=Object(K.useRef)(),ee=Object(K.useState)(!1),Ie=Object(y.a)(ee,2),Ue=Ie[0],ce=Ie[1],ze=b.a.useForm(),$e=Object(y.a)(ze,1),Fe=$e[0],Je=Object(K.useState)(!1),Re=Object(y.a)(Je,2),Be=Re[0],We=Re[1],Ve=Object(K.useCallback)(function(){var je=Object(I.a)(Object(r.a)().mark(function te(oe){var se;return Object(r.a)().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return ce(!0),be.next=3,s(Number(oe));case 3:(se=k.current)===null||se===void 0||se.reload(),ce(!1);case 5:case"end":return be.stop()}},te)}));return function(te){return je.apply(this,arguments)}}(),[t,V]);return Object(x.jsxs)(K.Fragment,{children:[Object(x.jsx)(P.a,{defaultSize:"small",loading:Ue,search:{layout:"vertical"},headerTitle:T.formatMessage({id:"user_submission",defaultMessage:"user_submission"}),actionRef:k,toolBarRender:function(){return[Object(x.jsxs)(A.a,{type:"primary",onClick:function(){return We(!0)},children:[Object(x.jsx)(g.a,{})," ",Object(x.jsx)(c.a,{id:"email_to_add",defaultMessage:"email_to_add"})]},"primary")]},rowKey:"id",request:function(){var je=Object(I.a)(Object(r.a)().mark(function te(oe){var se,Oe,be;return Object(r.a)().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return se=oe.email,Oe=oe.pageSize,be=oe.current,ce(!0),fe.abrupt("return",o({email:se,pageSize:Oe,current:be,morphable_type:V,morphable_id:t}).then(function(D){return ce(!1),D.success?{data:D.data,total:D.data.length,success:!0}:D.success?[]:{data:[],total:0,success:!1}}));case 3:case"end":return fe.stop()}},te)}));return function(te){return je.apply(this,arguments)}}(),columns:[].concat(Ae,[{title:Object(x.jsx)(c.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(te,oe){return[Object(x.jsx)($.a,{title:Object(x.jsx)(c.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return Ve(oe.id)},okText:Object(x.jsx)(c.a,{id:"yes"}),cancelText:Object(x.jsx)(c.a,{id:"no"}),children:Object(x.jsx)(C.a,{title:Object(x.jsx)(c.a,{id:"delete",defaultMessage:"delete"}),children:Object(x.jsx)(A.a,{type:"primary",icon:Object(x.jsx)(i.a,{}),danger:!0})})},"delete")]}}])})," ",Object(x.jsx)(De,{visible:Be,onVisibleChange:function(te){return te===!1&&We(!1)},onFinish:function(){var je=Object(I.a)(Object(r.a)().mark(function te(oe){var se,Oe;return Object(r.a)().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ce(!0),ie.prev=1,ie.next=4,N(Object(h.a)(Object(h.a)({},oe),{},{morphable_id:t,morphable_type:V}));case 4:se=ie.sent,se.success&&(Fe.resetFields(),(Oe=k.current)===null||Oe===void 0||Oe.reload(),ce(!1),We(!1)),ie.next=13;break;case 8:ie.prev=8,ie.t0=ie.catch(1),We(!1),O.b.error(Object(x.jsx)(c.a,{id:"error",defaultMessage:"error"})),ce(!1);case 13:case"end":return ie.stop()}},te,null,[[1,8]])}));return function(te){return je.apply(this,arguments)}}()})]})},ne=j.a=w},"90Xc":function(re,j,e){},DVQu:function(re,j,e){"use strict";e.d(j,"h",function(){return $}),e.d(j,"a",function(){return C}),e.d(j,"c",function(){return A}),e.d(j,"i",function(){return I}),e.d(j,"b",function(){return K}),e.d(j,"g",function(){return c}),e.d(j,"f",function(){return g}),e.d(j,"d",function(){return o}),e.d(j,"e",function(){return N});var u=e("qLMh"),O=e("k1fw"),h=e("9og8"),p=e("9kvl");function $(s,n){return v.apply(this,arguments)}function v(){return v=Object(h.a)(Object(u.a)().mark(function s(n,a){return Object(u.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(p.i)("/api/admin/products",Object(O.a)({method:"GET",params:Object(O.a)(Object(O.a)({},n),{},{free:typeof n.free!="undefined"?n.free==="true"?1:0:void 0,per_page:n.pageSize,page:n.current})},a||{})));case 1:case"end":return l.stop()}},s)})),v.apply(this,arguments)}function C(s,n){return M.apply(this,arguments)}function M(){return M=Object(h.a)(Object(u.a)().mark(function s(n,a){return Object(u.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(p.i)("/api/admin/products",Object(O.a)({method:"POST",data:n},a||{})));case 1:case"end":return l.stop()}},s)})),M.apply(this,arguments)}function A(s,n){return r.apply(this,arguments)}function r(){return r=Object(h.a)(Object(u.a)().mark(function s(n,a){return Object(u.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(p.i)("/api/admin/products/".concat(n),Object(O.a)({method:"GET"},a||{})));case 1:case"end":return l.stop()}},s)})),r.apply(this,arguments)}function I(s,n,a){return y.apply(this,arguments)}function y(){return y=Object(h.a)(Object(u.a)().mark(function s(n,a,m){return Object(u.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(p.i)("/api/admin/products/".concat(n,"?_method=PUT"),Object(O.a)({method:"POST",data:a},m||{})));case 1:case"end":return d.stop()}},s)})),y.apply(this,arguments)}function K(s,n){return b.apply(this,arguments)}function b(){return b=Object(h.a)(Object(u.a)().mark(function s(n,a){return Object(u.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(p.i)("/api/admin/products/".concat(n),Object(O.a)({method:"DELETE"},a||{})));case 1:case"end":return l.stop()}},s)})),b.apply(this,arguments)}function c(s){return P.apply(this,arguments)}function P(){return P=Object(h.a)(Object(u.a)().mark(function s(n){return Object(u.a)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",Object(p.i)("/api/admin/productables",Object(O.a)({method:"GET"},n||{})));case 1:case"end":return m.stop()}},s)})),P.apply(this,arguments)}function g(s,n){return i.apply(this,arguments)}function i(){return i=Object(h.a)(Object(u.a)().mark(function s(n,a){return Object(u.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(p.i)("/api/admin/productables/product",Object(O.a)({method:"GET",params:n},a||{})));case 1:case"end":return l.stop()}},s)})),i.apply(this,arguments)}function o(s,n,a){return U.apply(this,arguments)}function U(){return U=Object(h.a)(Object(u.a)().mark(function s(n,a,m){return Object(u.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(p.i)("/api/admin/products/".concat(n,"/attach"),Object(O.a)({method:"POST",data:a},m||{})));case 1:case"end":return d.stop()}},s)})),U.apply(this,arguments)}function N(s,n,a){return F.apply(this,arguments)}function F(){return F=Object(h.a)(Object(u.a)().mark(function s(n,a,m){return Object(u.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(p.i)("/api/admin/products/".concat(n,"/detach"),Object(O.a)({method:"POST",data:a},m||{})));case 1:case"end":return d.stop()}},s)})),F.apply(this,arguments)}},MvUh:function(re,j,e){},TWax:function(re,j,e){"use strict";var u=e("ozfa"),O=e("MJZm"),h=e("T2oS"),p=e("W9HT"),$=e("tJVT"),v=e("q1tI"),C=e.n(v),M=e("JifO"),A=e("nKUr"),r=e.n(A),I=function K(b){return b.subcategories&&b.subcategories.length?{title:b.name,key:b.id,children:b.subcategories.map(function(c){return K(c)})}:{title:b.name,key:b.id}},y=function(b){var c=b.value,P=b.onChange,g=b.multiple,i=g===void 0?!0:g,o=Object(v.useState)([]),U=Object($.a)(o,2),N=U[0],F=U[1];Object(v.useEffect)(function(){Object(M.c)().then(function(n){n.success&&F(n.data)})},[]);var s=Object(v.useMemo)(function(){return N.map(function(n){return I(n)})},[N]);return N.length===0?Object(A.jsx)(p.a,{}):Object(A.jsx)(O.a,{multiple:i,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,style:{width:"100%"},checkedKeys:c,onCheck:function(a){if(typeof a=="object"&&!Array.isArray(a)&&a.checked){var m=a.checked;return P&&Array.isArray(m)&&P(m)}},treeData:s,disabled:N.length===0})};j.a=y},hd5d:function(re,j,e){"use strict";var u=e("qLMh"),O=e("9og8"),h=e("q1tI"),p=e.n(h),$=e("acco"),v=e.n($),C=e("BAh9"),M=e("vtG9"),A=e.n(M),r=e("9kvl"),I=e("nKUr"),y=e.n(I),K=function(P){var g=P.attrs,i=g.href,o=i.split("/").pop();return Object(I.jsx)("p",{children:Object(I.jsx)("a",{rel:"noreferrer",href:i,target:"_blank",children:o})})},b=function(P){var g=P.value,i=P.onChange,o=P.directory,U=o===void 0?"/wysiwyg":o,N=Object(r.l)();return Object(I.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(I.jsx)(v.a,{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function(s){return!0},component:K}],uploadImage:function(){var F=Object(O.a)(Object(u.a)().mark(function s(n){var a,m;return Object(u.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(C.e)(n,U);case 2:if(a=d.sent,!a.success){d.next=8;break}if(!n.type.includes("image/")){d.next=7;break}return m=a.data[0].name.includes("/")?a.data[0].name:"".concat(U).concat(a.data[0].name),d.abrupt("return",Object(C.d)(m,1e3));case 7:return d.abrupt("return",a.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return d.stop()}},s)}));return function(s){return F.apply(this,arguments)}}(),defaultValue:g||"",onChange:function(s){return i&&i(s())},placeholder:N.formatMessage({id:"wysiwyg_placeholder"})})})};j.a=b},kMBS:function(re,j,e){"use strict";e.d(j,"a",function(){return $});var u=e("qLMh"),O=e("k1fw"),h=e("9og8"),p=e("9kvl");function $(C){return v.apply(this,arguments)}function v(){return v=Object(h.a)(Object(u.a)().mark(function C(M){return Object(u.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(p.i)("/api/tags/unique",Object(O.a)({method:"GET",useCache:!1},M||{})));case 1:case"end":return r.stop()}},C)})),v.apply(this,arguments)}},qSko:function(re,j,e){"use strict";var u=e("OaEy"),O=e("2fM7"),h=e("T2oS"),p=e("W9HT"),$=e("tJVT"),v=e("q1tI"),C=e.n(v),M=e("DVQu"),A=e("9kvl"),r=e("nKUr"),I=e.n(r),y=function(b){var c=b.value,P=b.onChange,g=b.multiple,i=g===void 0?!1:g,o=b.type,U=Object(v.useState)([]),N=Object($.a)(U,2),F=N[0],s=N[1],n=Object(v.useState)(!1),a=Object($.a)(n,2),m=a[0],l=a[1],d=Object(v.useState)([]),x=Object($.a)(d,2),ye=x[0],De=x[1],le=Object(v.useRef)(),Ae=Object(v.useCallback)(function(){l(!0),le.current&&le.current.abort(),le.current=new AbortController,Object(M.h)({productable_type:o},{signal:le.current.signal}).then(function(w){w.success&&s(o?w.data.filter(function(ne){return ne.type==="single"&&ne.productables&&ne.productables[0].id}):w.data),l(!1)}).catch(function(){return l(!1)})},[]);return Object(v.useEffect)(function(){var w=new AbortController;if(c){var ne=Array.isArray(c)?c:[c],B=ne.map(function(E){return typeof E=="object"?Number(E.id):Number(E)});De(B)}return function(){w.abort()}},[c]),Object(r.jsx)(O.a,{onFocus:function(){return Ae()},allowClear:!0,style:{width:"100%",minWidth:"150px"},value:ye,onChange:P,mode:i?"multiple":void 0,showSearch:!0,placeholder:Object(r.jsx)(A.a,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(ne,B){if(B&&B.children){var E;return(B==null||(E=B.children)===null||E===void 0?void 0:E.toString().toLowerCase().indexOf(ne&&ne.toLowerCase()||""))>=0}return!1},notFoundContent:m?Object(r.jsx)(p.a,{size:"small"}):null,children:F.map(function(w){return Object(r.jsx)(O.a.Option,{value:w.id,children:w.name},w.id)})})};j.a=y},rWUb:function(re,j,e){"use strict";e.d(j,"e",function(){return $}),e.d(j,"d",function(){return C}),e.d(j,"a",function(){return A}),e.d(j,"h",function(){return I}),e.d(j,"b",function(){return K}),e.d(j,"i",function(){return c}),e.d(j,"c",function(){return g}),e.d(j,"f",function(){return o}),e.d(j,"g",function(){return N});var u=e("qLMh"),O=e("k1fw"),h=e("9og8"),p=e("9kvl");function $(s,n){return v.apply(this,arguments)}function v(){return v=Object(h.a)(Object(u.a)().mark(function s(n,a){return Object(u.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(p.i)("/api/admin/templates",Object(O.a)({method:"GET",useCache:!1,params:n},a||{})));case 1:case"end":return l.stop()}},s)})),v.apply(this,arguments)}function C(s,n){return M.apply(this,arguments)}function M(){return M=Object(h.a)(Object(u.a)().mark(function s(n,a){return Object(u.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(p.i)("/api/admin/templates/".concat(n),Object(O.a)({method:"GET"},a||{})));case 1:case"end":return l.stop()}},s)})),M.apply(this,arguments)}function A(s,n){return r.apply(this,arguments)}function r(){return r=Object(h.a)(Object(u.a)().mark(function s(n,a){return Object(u.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(p.i)("/api/admin/templates",Object(O.a)({method:"POST",headers:{"Content-Type":"application/json"},data:n},a||{})));case 1:case"end":return l.stop()}},s)})),r.apply(this,arguments)}function I(s,n,a){return y.apply(this,arguments)}function y(){return y=Object(h.a)(Object(u.a)().mark(function s(n,a,m){return Object(u.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(p.i)("/api/admin/templates/".concat(n),Object(O.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:a},m||{})));case 1:case"end":return d.stop()}},s)})),y.apply(this,arguments)}function K(s,n){return b.apply(this,arguments)}function b(){return b=Object(h.a)(Object(u.a)().mark(function s(n,a){return Object(u.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(p.i)("/api/admin/templates/".concat(n),Object(O.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},a||{})));case 1:case"end":return l.stop()}},s)})),b.apply(this,arguments)}function c(s){return P.apply(this,arguments)}function P(){return P=Object(h.a)(Object(u.a)().mark(function s(n){return Object(u.a)().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",Object(p.i)("/api/admin/templates/variables",Object(O.a)({method:"GET"},n||{})));case 1:case"end":return m.stop()}},s)})),P.apply(this,arguments)}function g(s,n){return i.apply(this,arguments)}function i(){return i=Object(h.a)(Object(u.a)().mark(function s(n,a){return Object(u.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(p.i)("/api/admin/templates/".concat(n,"/preview"),Object(O.a)({method:"GET"},a||{})));case 1:case"end":return l.stop()}},s)})),i.apply(this,arguments)}function o(s,n,a){return U.apply(this,arguments)}function U(){return U=Object(h.a)(Object(u.a)().mark(function s(n,a,m){return Object(u.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(p.i)("/api/admin/events/trigger-manually/".concat(n),Object(O.a)({method:"POST",headers:{"Content-Type":"application/json"},data:{users:a}},m||{})));case 1:case"end":return d.stop()}},s)})),U.apply(this,arguments)}function N(s,n,a){return F.apply(this,arguments)}function F(){return F=Object(h.a)(Object(u.a)().mark(function s(n,a,m){return Object(u.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(p.i)("/api/admin/products/".concat(a,"/trigger-event-manually/").concat(n),Object(O.a)({method:"POST",headers:{"Content-Type":"application/json"}},m||{})));case 1:case"end":return d.stop()}},s)})),F.apply(this,arguments)}},rnuo:function(re,j,e){"use strict";var u=e("tJVT"),O=e("OaEy"),h=e("2fM7"),p=e("q1tI"),$=e.n(p),v=e("kMBS"),C=e("nKUr"),M=e.n(C),A=h.a.Option,r=function(y){var K=y.value,b=y.onChange,c=Object(p.useState)([]),P=Object(u.a)(c,2),g=P[0],i=P[1];return Object(p.useEffect)(function(){Object(v.a)().then(function(o){return i(o.data)})},[]),Object(C.jsx)(h.a,{mode:"tags",showSearch:!0,style:{width:"100%"},placeholder:"Select a Tag",optionFilterProp:"children",onChange:b,value:K,children:g.map(function(o){return Object(C.jsx)(A,{value:o.title,children:o.title},o.title)})})};j.a=r},vtG9:function(re,j,e){},vzes:function(re,j,e){"use strict";var u=e("OaEy"),O=e("2fM7"),h=e("+BJd"),p=e("mr32"),$=e("T2oS"),v=e("W9HT"),C=e("tJVT"),M=e("q1tI"),A=e.n(M),r=e("9kvl"),I=e("DVQu"),y=e("nKUr"),K=e.n(y),b=function(i){return"".concat(i.productable_type,":").concat(i.productable_id,":").concat(i.name)},c=function(i){return"".concat(i.class,":").concat(i.id,":").concat(i.name)},P=function(i){var o=i.value,U=i.onChange,N=i.multiple,F=N===void 0?!1:N,s=i.disabled,n=s===void 0?!1:s,a=Object(M.useState)([]),m=Object(C.a)(a,2),l=m[0],d=m[1],x=Object(M.useState)(!1),ye=Object(C.a)(x,2),De=ye[0],le=ye[1],Ae=Object(M.useState)([]),w=Object(C.a)(Ae,2),ne=w[0],B=w[1],E=Object(M.useRef)(),t=Object(M.useCallback)(function(){le(!0),E.current&&E.current.abort(),E.current=new AbortController,Object(I.g)({signal:E.current.signal}).then(function(V){V.success&&d(V.data),le(!1)}).catch(function(){return le(!1)})},[]);return Object(M.useEffect)(function(){t()},[]),Object(M.useEffect)(function(){var V=new AbortController;if(o){var T=Array.isArray(o)?o:[o],k=T.map(function(ee){return typeof ee=="object"?c(ee):String(ee)});B(k)}return function(){V.abort()}},[o]),Object(y.jsx)(O.a,{disabled:n,allowClear:!0,style:{width:"100%",minWidth:"150px"},value:ne,onChange:U,mode:F?"multiple":void 0,showSearch:!0,placeholder:Object(y.jsx)(r.a,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(T,k){if(k&&k.children){var ee;return(k==null||(ee=k.children)===null||ee===void 0?void 0:ee.toString().toLowerCase().indexOf(T&&T.toLowerCase()||""))>=0}return!1},notFoundContent:De?Object(y.jsx)(v.a,{size:"small"}):null,children:l.map(function(V){var T=b(V);return Object(y.jsxs)(O.a.Option,{value:T,children:[Object(y.jsx)(p.a,{children:Object(y.jsx)(r.a,{id:V.productable_type.split("\\").pop(),defaultMessage:V.productable_type.split("\\").pop()})})," ",V.name," ",Object(y.jsxs)("small",{children:["id:",V.productable_id]})," "]},T)})})};j.a=P}}]);
