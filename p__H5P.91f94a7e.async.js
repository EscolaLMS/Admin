(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"5YLw":function(R,O,e){"use strict";var M=e("DBJ/"),E=e("q1tI"),h=e.n(E),r=e("nKUr"),m=e.n(r),c=function(_){var D=_.onSuccess,b=_.onError;return Object(r.jsx)(M.a,{url:"/api/admin/hh5p/content/upload",name:"h5p_file",accept:".h5p",onChange:function(n){n.file.status==="done"&&n.file.response&&D(n.file.response),n.file.status==="error"&&b()}})};O.a=c},"DBJ/":function(R,O,e){"use strict";var M=e("y8nQ"),E=e("Vl3Y"),h=e("etVw"),r=e("q1tI"),m=e.n(r),c=e("9kvl"),f=e("qFDU"),_=e("nKUr"),D=e.n(_),b=function(n){var C=n.onChange,i=n.url,v=n.name,a=n.extra,s=n.accept,l=n.data,o=n.wrapInForm,u=o===void 0?!0:o,p=n.title,U=Object(c.i)();return l&&l[v]&&delete l[v],Object(_.jsx)(f.a,{condition:u,wrap:function(I){return Object(_.jsx)(E.a,{children:I})},children:Object(_.jsx)(h.a,{title:p||Object(_.jsx)(c.a,{id:"upload_click_here"}),placeholder:U.formatMessage({id:"upload_click_here"}),onChange:C,label:Object(_.jsx)(c.a,{id:"upload"}),max:2,fieldProps:{data:l,accept:s,name:v,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(i),extra:a})})};O.a=b},Unir:function(R,O,e){"use strict";e.r(O);var M=e("P2fV"),E=e("NJEC"),h=e("5Dmo"),r=e("3S7+"),m=e("+L6B"),c=e("2/Rp"),f=e("miYZ"),_=e("tsqr"),D=e("9og8"),b=e("tJVT"),g=e("WmNS"),n=e.n(g),C=e("xvlK"),i=e("q1tI"),v=e.n(i),a=e("9kvl"),s=e("55Ip"),l=e("tMyG"),o=e("Qiat"),u=e("nzng"),p=e("G3dp"),U=e("/MfK"),K=e("2PG1"),I=e("4KAj"),F=e("5YLw"),t=e("nKUr"),$=e.n(t),x=function(){var H=Object(i.useState)(!1),S=Object(b.a)(H,2),z=S[0],L=S[1],T=Object(i.useRef)(),V=Object(a.i)(),J=Object(i.useCallback)(function(){var A=Object(D.a)(n.a.mark(function j(d){var B,W;return n.a.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return L(!0),B=_.default.loading(Object(t.jsx)(a.a,{id:"loading",defaultMessage:"loading"})),P.prev=2,P.next=5,Object(u.e)(d);case 5:return B(),_.default.success(Object(t.jsx)(a.a,{id:"success",defaultMessage:"success"})),L(!1),(W=T.current)===null||W===void 0||W.reload(),P.abrupt("return",!0);case 12:return P.prev=12,P.t0=P.catch(2),B(),_.default.error(Object(t.jsx)(a.a,{id:"error",defaultMessage:"error"})),L(!1),P.abrupt("return",!1);case 18:case"end":return P.stop()}},j,null,[[2,12]])}));return function(j){return A.apply(this,arguments)}}(),[T]),N=[{title:Object(t.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",sorter:!1,search:!1},{title:Object(t.jsx)(a.a,{id:"newH5P",defaultMessage:"newH5P"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(F.a,{onSuccess:function(){T.current&&T.current.reload(),_.default.success(Object(t.jsx)(a.a,{id:"H5P_uploaded",defaultMessage:"new H5P uploaded successfully"}))},onError:function(){return _.default.error(Object(t.jsx)(a.a,{id:"error",defaultMessage:"error"}))}})]}},{title:Object(t.jsx)(a.a,{id:"title",defaultMessage:"title"}),dataIndex:"title",sorter:!1,render:function(j,d){return d.title}},{title:Object(t.jsx)(a.a,{id:"library",defaultMessage:"library"}),dataIndex:"library",sorter:!1,search:!1,render:function(j,d){return d.library.title}},{title:Object(t.jsx)(a.a,{id:"library_id",defaultMessage:"library_id"}),dataIndex:"library_id",sorter:!1,render:function(j,d){return d.library.id}},{title:Object(t.jsx)(a.a,{id:"count_h5p",defaultMessage:"count_h5p"}),dataIndex:"count_h5p",sorter:!1,search:!1,render:function(j,d){return d.count_h5p}},{title:Object(t.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",render:function(j,d){return[Object(t.jsx)(s.a,{to:"/h5ps/".concat(d.id),children:Object(t.jsx)(r.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(c.a,{type:"primary",icon:Object(t.jsx)(p.a,{})})})}),Object(t.jsx)(E.a,{disabled:d.count_h5p!==0,title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return d.id&&J(d.id)},okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(r.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(c.a,{disabled:d.count_h5p!==0,type:"primary",icon:Object(t.jsx)(U.a,{}),danger:!0})})}),Object(t.jsx)(s.a,{to:"/h5ps/preview/".concat(d.id),children:Object(t.jsx)(r.a,{title:Object(t.jsx)(a.a,{id:"preview",defaultMessage:"preview"}),children:Object(t.jsx)(c.a,{icon:Object(t.jsx)(K.a,{})})})}),Object(t.jsx)("a",{href:"".concat("https://api-stage.escolalms.com","/api/admin/hh5p/content/").concat(d.id,"/export"),download:!0,children:Object(t.jsx)(r.a,{title:Object(t.jsx)(a.a,{id:"export",defaultMessage:"export"}),children:Object(t.jsx)(c.a,{icon:Object(t.jsx)(I.a,{})})})})]}}];return Object(t.jsx)(l.a,{children:Object(t.jsx)(o.a,{loading:z,headerTitle:V.formatMessage({id:"H5Ps",defaultMessage:"H5Ps List"}),actionRef:T,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[Object(t.jsx)(s.a,{to:"/h5ps/new",children:Object(t.jsxs)(c.a,{type:"primary",children:[Object(t.jsx)(C.a,{})," ",Object(t.jsx)(a.a,{id:"new",defaultMessage:"new"})]},"primary")})]},request:function(j){var d=j.pageSize,B=j.current,W=j.title,G=j.library_id;return L(!0),Object(u.d)({title:W,library_id:G,pageSize:d,current:B}).then(function(P){return L(!1),P.success?{data:P.data,total:P.meta.total,success:!0}:[]})},columns:N})})};O.default=x},etVw:function(R,O,e){"use strict";var M=e("DZo9"),E=e("8z0m"),h=e("+L6B"),r=e("2/Rp"),m=e("wx14"),c=e("q1tI"),f=e.n(c),_=e("z7Xi"),D=e("WFLz"),b=function(n,C){var i=n.fieldProps,v=n.name,a=n.action,s=n.accept,l=n.listType,o=n.title,u=o===void 0?"\u5355\u51FB\u4E0A\u4F20":o,p=n.max,U=n.icon,K=U===void 0?f.a.createElement(_.a,null):U,I=n.value,F=n.buttonProps,t=n.onChange,$=n.disabled,x=n.proFieldProps,y=n.fileList,H=(p===void 0||!I||(I==null?void 0:I.length)<p)&&(x==null?void 0:x.mode)!=="read",S=(l!=null?l:i==null?void 0:i.listType)==="picture-card";return f.a.createElement(E.a,Object(m.a)({action:a,accept:s,ref:C,name:v||"file",listType:l||"picture",fileList:y!=null?y:I},i,{onChange:function(L){var T;t==null||t(L),i==null||(T=i.onChange)===null||T===void 0||T.call(i,L)}}),H&&(S?f.a.createElement("span",null,K," ",u):f.a.createElement(r.a,Object(m.a)({disabled:$||(i==null?void 0:i.disabled)},F),K,u)))};O.a=Object(D.a)(f.a.forwardRef(b),{getValueFromEvent:function(n){return n.fileList}})},nzng:function(R,O,e){"use strict";e.d(O,"d",function(){return c}),e.d(O,"c",function(){return _}),e.d(O,"b",function(){return b}),e.d(O,"e",function(){return n}),e.d(O,"a",function(){return i});var M=e("k1fw"),E=e("9og8"),h=e("WmNS"),r=e.n(h),m=e("9kvl");function c(a,s){return f.apply(this,arguments)}function f(){return f=Object(E.a)(r.a.mark(function a(s,l){return r.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(m.f)("/api/admin/hh5p/content",Object(M.a)({method:"GET",useCache:!1,params:Object(M.a)(Object(M.a)({},s),{},{per_page:s.pageSize,page:s.current})},l||{})));case 1:case"end":return u.stop()}},a)})),f.apply(this,arguments)}function _(a,s){return D.apply(this,arguments)}function D(){return D=Object(E.a)(r.a.mark(function a(s,l){return r.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(m.f)("/api/admin/hh5p/content/".concat(s),Object(M.a)({method:"GET",useCache:!1},l||{})));case 1:case"end":return u.stop()}},a)})),D.apply(this,arguments)}function b(a,s,l){return g.apply(this,arguments)}function g(){return g=Object(E.a)(r.a.mark(function a(s,l,o){return r.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",Object(m.f)(l?"/api/admin/hh5p/content/".concat(l):"/api/admin/hh5p/content",Object(M.a)({method:"POST",headers:{"Content-Type":"application/json"},data:s,useCache:!1},o||{})));case 1:case"end":return p.stop()}},a)})),g.apply(this,arguments)}function n(a){return C.apply(this,arguments)}function C(){return C=Object(E.a)(r.a.mark(function a(s){return r.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(m.f)("/api/admin/hh5p/content/".concat(s),{method:"DELETE"}));case 1:case"end":return o.stop()}},a)})),C.apply(this,arguments)}function i(a){return v.apply(this,arguments)}function v(){return v=Object(E.a)(r.a.mark(function a(s){return r.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(m.f)("/api/admin/hh5p/content?per_page=0",Object(M.a)({method:"GET",useCache:!1},s||{})));case 1:case"end":return o.stop()}},a)})),v.apply(this,arguments)}},qFDU:function(R,O,e){"use strict";var M=e("q1tI"),E=e.n(M);O.a=function(h){var r=h.condition,m=h.children,c=h.wrap;return r?E.a.cloneElement(c(m)):m}}}]);
