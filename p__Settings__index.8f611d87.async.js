"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4471,5289],{88284:function(se,x,e){var o=e(1413),u=e(67294),O=e(32857),d=e(84089),c=function(i,n){return u.createElement(d.Z,(0,o.Z)((0,o.Z)({},i),{},{ref:n,icon:O.Z}))};c.displayName="CheckOutlined",x.Z=u.forwardRef(c)},28508:function(se,x,e){var o=e(1413),u=e(67294),O=e(89503),d=e(84089),c=function(i,n){return u.createElement(d.Z,(0,o.Z)((0,o.Z)({},i),{},{ref:n,icon:O.Z}))};c.displayName="CloseOutlined",x.Z=u.forwardRef(c)},69753:function(se,x,e){var o=e(1413),u=e(67294),O=e(49495),d=e(84089),c=function(i,n){return u.createElement(d.Z,(0,o.Z)((0,o.Z)({},i),{},{ref:n,icon:O.Z}))};c.displayName="DownloadOutlined",x.Z=u.forwardRef(c)},47389:function(se,x,e){var o=e(1413),u=e(67294),O=e(27363),d=e(84089),c=function(i,n){return u.createElement(d.Z,(0,o.Z)((0,o.Z)({},i),{},{ref:n,icon:O.Z}))};c.displayName="EditOutlined",x.Z=u.forwardRef(c)},55725:function(se,x,e){var o=e(1413),u=e(67294),O=e(85118),d=e(84089),c=function(i,n){return u.createElement(d.Z,(0,o.Z)((0,o.Z)({},i),{},{ref:n,icon:O.Z}))};c.displayName="FolderOutlined",x.Z=u.forwardRef(c)},56717:function(se,x,e){var o=e(1413),u=e(67294),O=e(93696),d=e(84089),c=function(i,n){return u.createElement(d.Z,(0,o.Z)((0,o.Z)({},i),{},{ref:n,icon:O.Z}))};c.displayName="InfoCircleOutlined",x.Z=u.forwardRef(c)},51042:function(se,x,e){var o=e(1413),u=e(67294),O=e(42110),d=e(84089),c=function(i,n){return u.createElement(d.Z,(0,o.Z)((0,o.Z)({},i),{},{ref:n,icon:O.Z}))};c.displayName="PlusOutlined",x.Z=u.forwardRef(c)},63434:function(se,x,e){var o=e(1413),u=e(45987),O=e(22270),d=e(84567),c=e(67294),I=e(90789),i=e(41550),n=e(85893),T=["options","fieldProps","proFieldProps","valueEnum"],f=c.forwardRef(function(g,b){var S=g.options,v=g.fieldProps,h=g.proFieldProps,t=g.valueEnum,l=(0,u.Z)(g,T);return(0,n.jsx)(i.Z,(0,o.Z)({ref:b,valueType:"checkbox",valueEnum:(0,O.h)(t,void 0),fieldProps:(0,o.Z)({options:S},v),lightProps:(0,o.Z)({labelFormatter:function(){return(0,n.jsx)(i.Z,(0,o.Z)({ref:b,valueType:"checkbox",mode:"read",valueEnum:(0,O.h)(t,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,o.Z)({options:S},v),proFieldProps:h},l))}},l.lightProps),proFieldProps:h},l))}),W=c.forwardRef(function(g,b){var S=g.fieldProps,v=g.children;return(0,n.jsx)(d.Z,(0,o.Z)((0,o.Z)({ref:b},S),{},{children:v}))}),_=(0,I.G)(W,{valuePropName:"checked"}),j=_;j.Group=f,x.Z=j},31199:function(se,x,e){var o=e(1413),u=e(45987),O=e(67294),d=e(41550),c=e(85893),I=["fieldProps","min","proFieldProps","max"],i=function(f,W){var _=f.fieldProps,j=f.min,g=f.proFieldProps,b=f.max,S=(0,u.Z)(f,I);return(0,c.jsx)(d.Z,(0,o.Z)({valueType:"digit",fieldProps:(0,o.Z)({min:j,max:b},_),ref:W,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:g},S))},n=O.forwardRef(i);x.Z=n},86615:function(se,x,e){var o=e(1413),u=e(45987),O=e(22270),d=e(55742),c=e(67294),I=e(90789),i=e(41550),n=e(85893),T=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],f=c.forwardRef(function(g,b){var S=g.fieldProps,v=g.options,h=g.radioType,t=g.layout,l=g.proFieldProps,M=g.valueEnum,U=(0,u.Z)(g,T);return(0,n.jsx)(i.Z,(0,o.Z)((0,o.Z)({valueType:h==="button"?"radioButton":"radio",ref:b,valueEnum:(0,O.h)(M,void 0)},U),{},{fieldProps:(0,o.Z)({options:v,layout:t},S),proFieldProps:l,filedConfig:{customLightMode:!0}}))}),W=c.forwardRef(function(g,b){var S=g.fieldProps,v=g.children;return(0,n.jsx)(d.ZP,(0,o.Z)((0,o.Z)({},S),{},{ref:b,children:v}))}),_=(0,I.G)(W,{valuePropName:"checked",ignoreWidth:!0}),j=_;j.Group=f,j.Button=d.ZP.Button,j.displayName="ProFormComponent",x.Z=j},52688:function(se,x,e){var o=e(1413),u=e(45987),O=e(67294),d=e(41550),c=e(85893),I=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],i=O.forwardRef(function(n,T){var f=n.fieldProps,W=n.unCheckedChildren,_=n.checkedChildren,j=n.proFieldProps,g=(0,u.Z)(n,I);return(0,c.jsx)(d.Z,(0,o.Z)({valueType:"switch",fieldProps:(0,o.Z)({unCheckedChildren:W,checkedChildren:_},f),ref:T,valuePropName:"checked",proFieldProps:j,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},g))});x.Z=i},5966:function(se,x,e){var o=e(97685),u=e(1413),O=e(45987),d=e(21770),c=e(75842),I=e(55241),i=e(97435),n=e(67294),T=e(41550),f=e(85893),W=["fieldProps","proFieldProps"],_=["fieldProps","proFieldProps"],j="text",g=function(t){var l=t.fieldProps,M=t.proFieldProps,U=(0,O.Z)(t,W);return(0,f.jsx)(T.Z,(0,u.Z)({valueType:j,fieldProps:l,filedConfig:{valueType:j},proFieldProps:M},U))},b=function(t){var l=(0,d.Z)(t.open||!1,{value:t.open,onChange:t.onOpenChange}),M=(0,o.Z)(l,2),U=M[0],J=M[1];return(0,f.jsx)(c.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(N){var a,$=N.getFieldValue(t.name||[]);return(0,f.jsx)(I.Z,(0,u.Z)((0,u.Z)({getPopupContainer:function(V){return V&&V.parentNode?V.parentNode:V},onOpenChange:J,content:(0,f.jsxs)("div",{style:{padding:"4px 0"},children:[(a=t.statusRender)===null||a===void 0?void 0:a.call(t,$),t.strengthText?(0,f.jsx)("div",{style:{marginTop:10},children:(0,f.jsx)("span",{children:t.strengthText})}):null]}),overlayStyle:{width:240},placement:"right"},t.popoverProps),{},{open:U,children:t.children}))}})},S=function(t){var l=t.fieldProps,M=t.proFieldProps,U=(0,O.Z)(t,_),J=(0,n.useState)(!1),K=(0,o.Z)(J,2),N=K[0],a=K[1];return l!=null&&l.statusRender&&U.name?(0,f.jsx)(b,{name:U.name,statusRender:l==null?void 0:l.statusRender,popoverProps:l==null?void 0:l.popoverProps,strengthText:l==null?void 0:l.strengthText,open:N,onOpenChange:a,children:(0,f.jsx)(T.Z,(0,u.Z)({valueType:"password",fieldProps:(0,u.Z)((0,u.Z)({},(0,i.Z)(l,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(q){var V;l==null||(V=l.onBlur)===null||V===void 0||V.call(l,q),a(!1)},onClick:function(q){var V;l==null||(V=l.onClick)===null||V===void 0||V.call(l,q),a(!0)}}),proFieldProps:M,filedConfig:{valueType:j}},U))}):(0,f.jsx)(T.Z,(0,u.Z)({valueType:"password",fieldProps:l,proFieldProps:M,filedConfig:{valueType:j}},U))},v=g;v.Password=S,v.displayName="ProFormComponent",x.Z=v},90672:function(se,x,e){var o=e(1413),u=e(45987),O=e(67294),d=e(41550),c=e(85893),I=["fieldProps","proFieldProps"],i=function(T,f){var W=T.fieldProps,_=T.proFieldProps,j=(0,u.Z)(T,I);return(0,c.jsx)(d.Z,(0,o.Z)({ref:f,valueType:"textarea",fieldProps:W,proFieldProps:_},j))};x.Z=O.forwardRef(i)},20568:function(se,x,e){e.d(x,{Z:function(){return J}});var o=e(19632),u=e.n(o),O=e(97857),d=e.n(O),c=e(5574),I=e.n(c),i=e(67294),n=e(17578),T=e(78957),f=e(25093),W=e(96365),_=e(14726),j=e(2487),g=e(72252),b=e(82061),S=e(55725),v=e(69753),h=e(80854),t=e(29477),l=e(85893),M=function(N){var a=N.directory,$=N.onUploaded;return(0,l.jsxs)(T.Z,{align:"start",children:[(0,l.jsxs)(f.Z.Text,{children:[(0,l.jsx)(h.FormattedMessage,{id:"pages.files.filesBrowser"}),(0,l.jsx)(f.Z.Text,{code:!0,children:a})]}),(0,l.jsx)(t.Z,{url:"/api/admin/file/upload",name:"file[]",data:{target:a},onUpload:function(V){V.success&&$(a,V.data)}})]})},U=function(N){var a=N.defaultDirectory,$=a===void 0?"/":a,q=N.onFile,V=N.hideDeleteBtn,ae=V===void 0?!1:V,s=N.forceLoading,A=s===void 0?!1:s,B=(0,h.useIntl)(),y=(0,i.useState)({loading:!1,name:"",directory:$,current_page:1,data:void 0,per_page:1,last_page:1,total:0}),r=I()(y,2),F=r[0],k=r[1],ne=(0,i.useRef)(),D=(0,i.useCallback)(function(p){k(function(m){return d()(d()({},m),{},{loading:p})})},[]),R=(0,i.useCallback)(function(p,m){p.success&&k(function(w){return d()(d()(d()({},w),p.data),{},{data:[{url:m.split("/").slice(0,-1).join("/"),name:"..",created_at:"",mime:"directory"}].concat(u()(p.data.data.map(function(L){return d()(d()({},L),{},{url:L.mime==="directory"?"".concat(m,"/").concat(L.name):L.url})}))).filter(function(L){return m==="/"||m===$?L.name!=="..":!0}),directory:m,loading:!1})})},[D]),C=(0,i.useCallback)(function(p){var m,w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,L=function(){return ne.current&&ne.current.abort()};return L(),ne.current=new AbortController,D(!0),(0,n.QZ)({directory:p,page:w},{signal:(m=ne.current)===null||m===void 0?void 0:m.signal}).then(function(oe){oe.success&&R(oe,p)}).catch(function(){return D(!1)}),function(){L()}},[D]);(0,i.useEffect)(function(){return C($)},[$,C]);var ce=(0,i.useCallback)(function(p){D(!0),(0,n.Od)(p).then(function(){C(F.directory)}).catch(function(){D(!1)})},[C,D,F.directory]),X=(0,i.useCallback)(function(p,m){var w,L=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,oe=function(){return ne.current&&ne.current.abort()};return oe(),ne.current=new AbortController,D(!0),(0,n.ht)({directory:p,name:m,page:L},{signal:(w=ne.current)===null||w===void 0?void 0:w.signal}).then(function(Oe){Oe.success&&R(Oe,p)}).catch(function(){return D(!1)}),function(){oe()}},[D]);return(0,l.jsxs)("div",{className:"file-browser",children:[(0,l.jsxs)("div",{className:"file-browser__header",children:[(0,l.jsx)(W.Z,{placeholder:B.formatMessage({id:"search_file"}),className:"file-browser__input",onChange:function(m){return k(function(w){return d()(d()({},w),{},{name:m.target.value})})},value:F.name}),(0,l.jsxs)("div",{children:[(0,l.jsx)(_.ZP,{className:"file-browser__button",onClick:function(){return C(F.directory)},children:(0,l.jsx)(h.FormattedMessage,{id:"reset"})}),(0,l.jsx)(_.ZP,{className:"file-browser__button",type:"primary",onClick:function(){return X(F.directory,F.name)},children:(0,l.jsx)(h.FormattedMessage,{id:"query"})})]})]}),(0,l.jsx)(j.Z,{loading:F.loading||A,size:"small",itemLayout:"horizontal",dataSource:F.data,header:(0,l.jsx)(M,{directory:F.directory,onUploaded:function(m,w){w&&(C(m),q&&q(w,m))}}),footer:(0,l.jsx)(M,{directory:F.directory,onUploaded:function(m,w){C(m),w&&q&&q(w,m)}}),renderItem:function(m){return(0,l.jsx)(j.Z.Item,{actions:m.mime!=="directory"&&!ae?[(0,l.jsx)(_.ZP,{type:"default",danger:!0,icon:(0,l.jsx)(b.Z,{}),size:"small",onClick:function(){return ce(m.url)}},"dir")]:[],children:(0,l.jsx)(j.Z.Item.Meta,{avatar:m.mime==="directory"?(0,l.jsx)(_.ZP,{type:"primary",icon:(0,l.jsx)(S.Z,{}),size:"small",onClick:function(){return C(m.url)}}):(0,l.jsx)("a",{href:m.url,target:"_blank",rel:"noreferrer",children:(0,l.jsx)(_.ZP,{type:"default",icon:(0,l.jsx)(v.Z,{}),size:"small"})}),description:(0,l.jsx)(i.Fragment,{children:(0,l.jsx)(_.ZP,{type:"text",size:"small",onClick:function(){return m.mime==="directory"?C(m.url):q&&q(m,F.directory)},children:m.name})})})})}}),(0,l.jsx)(g.Z,{pageSizeOptions:[],current:F.current_page,total:F.total,pageSize:F.per_page,onChange:function(m){return C(F.directory,m)}})]})},J=U},29477:function(se,x,e){var o=e(97857),u=e.n(o),O=e(5574),d=e.n(O),c=e(55523),I=e(75842),i=e(21974),n=e(67294),T=e(80854),f=e(85893);function W(_){var j=_.onChange,g=_.onUpload,b=_.url,S=_.name,v=_.extra,h=_.accept,t=_.data,l=_.wrapInForm,M=l===void 0?!0:l,U=_.title,J=_.formProps,K=_.maxFiles,N=_.clearListAfterUpload,a=_.hideLabel,$=_.disabled,q=_.showUploadList,V=(0,n.useState)(),ae=d()(V,2),s=ae[0],A=ae[1],B=(0,T.useIntl)();return t&&t[S]&&delete t[S],(0,f.jsx)(i.Z,{condition:M,wrap:function(r){return(0,f.jsx)(I.Z,u()(u()({},J),{},{children:r}))},children:(0,f.jsx)(c.Z,{title:U||" ".concat(B.formatMessage({id:"upload_click_here"})),placeholder:B.formatMessage({id:"upload_click_here"}),label:!a&&(0,f.jsx)(T.FormattedMessage,{id:"upload"}),max:K!=null?K:2,fieldProps:{data:t,accept:h,name:S,showUploadList:q,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))},onChange:function(r){A(r),j&&j(r),r.file.status==="done"&&(g&&g(r.file.response),N&&A(void 0))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(b),extra:v,fileList:s==null?void 0:s.fileList,disabled:$})})}x.Z=W},19411:function(se,x,e){e.d(x,{ZP:function(){return j}});var o=e(15009),u=e.n(o),O=e(99289),d=e.n(O),c=e(17578),I=e(2800),i=e.n(I),n=e(67294),T=e(80854),f=e(85893),W=function(b){var S=b.attrs,v=S.href,h=v.split("/").pop();return(0,f.jsx)("p",{children:(0,f.jsx)("a",{rel:"noreferrer",href:v,target:"_blank",children:h})})},_=function(b){var S=b.value,v=b.onChange,h=b.directory,t=h===void 0?"/wysiwyg":h,l=(0,T.useIntl)();return(0,f.jsx)("div",{className:"form-wysiwyg-markdown",children:(0,f.jsx)(i(),{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function(){return!0},component:W}],uploadImage:function(){var M=d()(u()().mark(function U(J){var K,N;return u()().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,(0,c.ws)(J,t);case 2:if(K=$.sent,!K.success){$.next=8;break}if(!J.type.includes("image/")){$.next=7;break}return N=K.data[0].name.includes("/")?K.data[0].name:"".concat(t).concat(K.data[0].name),$.abrupt("return",(0,c.pV)(N,1e3));case 7:return $.abrupt("return",K.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return $.stop()}},U)}));return function(U){return M.apply(this,arguments)}}(),defaultValue:S||"",onChange:function(U){return v&&v(U())},placeholder:l.formatMessage({id:"wysiwyg_placeholder"})})})},j=_},62343:function(se,x,e){var o=e(52677),u=e.n(o),O=e(5574),d=e.n(O),c=e(952),I=e(37476),i=e(5966),n=e(52688),T=e(86615),f=e(90672),W=e(63434),_=e(31199),j=e(96365),g=e(14726),b=e(75842),S=e(49288),v=e(67294),h=e(43564),t=e(80854),l=e(20568),M=e(19411),U=e(88284),J=e(28508),K=e(55171),N=e.n(K),a=e(85893),$=function(ae){var s=ae.value,A=ae.onChange,B=ae.type,y=B===void 0?"file":B,r=(0,v.useState)(!1),F=d()(r,2),k=F[0],ne=F[1];return(0,a.jsxs)(v.Fragment,{children:[(0,a.jsxs)(c.ZP.Group,{children:[(0,a.jsx)(j.Z,{value:s,readOnly:!0}),(0,a.jsxs)(g.ZP,{size:"small",type:"primary",onClick:function(){return ne(!k)},children:["toggle ",y," browser"]})]}),k&&(0,a.jsx)(l.Z,{onFile:function(R,C){return A&&A("".concat(C,"/").concat(R.name))}})]})},q=function(ae){var s=(0,t.useIntl)(),A=ae.visible,B=ae.onVisibleChange,y=ae.onFinish,r=ae.id,F=ae.initialData,k=ae.groups,ne=b.Z.useForm(),D=d()(ne,1),R=D[0],C=!r||r===-1,ce=(0,v.useState)("text"),X=d()(ce,2),p=X[0],m=X[1],w=(0,v.useCallback)(function(){return!!(R.getFieldValue("group")==="global"||F)},[R,F]),L=(0,v.useState)(""),oe=d()(L,2),Oe=oe[0],be=oe[1];(0,v.useEffect)(function(){if(u()(r)==="object"){var z;R.setFieldsValue(r),m((z=r.type)!==null&&z!==void 0?z:"text")}else r&&r!==-1?(0,h.GF)(Number(r)).then(function(ie){ie.success&&(R.setFieldsValue(ie.data),m(ie.data.type),be(ie.data.group))}):(R.resetFields(),m("text"))},[r,R,F]);var De=(0,v.useCallback)(function(z){z.type&&z.type!==p&&m(z.type)},[p]);return(0,a.jsxs)(I.Y,{form:R,title:s.formatMessage({id:r?"editSetting":"newSetting",defaultMessage:r?"editSetting":"newSetting"}),width:"60vw",visible:!!A,onVisibleChange:B,onFinish:y,onValuesChange:De,children:[(0,a.jsxs)(c.ZP.Group,{children:[F?(0,a.jsx)(i.Z,{label:(0,a.jsx)(t.FormattedMessage,{id:"group",defaultMessage:"group"}),rules:[{required:!0}],width:"md",name:"group",disabled:w()}):(0,a.jsx)(c.ZP.Item,{label:(0,a.jsx)(t.FormattedMessage,{id:"group",defaultMessage:"group"}),name:"group",children:(0,a.jsx)(S.Z,{style:{width:"300px"},autoFocus:!0,value:Oe,onChange:function(ie){return be(ie)},filterOption:function(ie,_e){var ve;return(_e==null||(ve=_e.children)===null||ve===void 0?void 0:ve.toString().toLowerCase().indexOf(ie.toLowerCase()))!==-1},children:k.map(function(z){return(0,a.jsx)(S.Z.Option,{value:z,children:z},z)})})}),(0,a.jsx)(i.Z,{label:(0,a.jsx)(t.FormattedMessage,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key",disabled:w()})]}),(0,a.jsxs)(c.ZP.Group,{children:[(0,a.jsx)(n.Z,{name:"enumerable",disabled:w(),label:(0,a.jsx)(t.FormattedMessage,{id:"enumerable",defaultMessage:"enumerable"})}),(0,a.jsx)(n.Z,{name:"public",disabled:w(),label:(0,a.jsx)(t.FormattedMessage,{id:"public",defaultMessage:"public"})})]}),(0,a.jsx)(c.ZP.Group,{children:(0,a.jsx)(T.Z.Group,{disabled:!!(!C||F),name:"type",label:(0,a.jsx)(t.FormattedMessage,{id:"type"}),options:[{label:"text",value:"text"},{label:"markdown",value:"markdown"},{label:"json",value:"json"},{label:"file",value:"file"},{label:"image",value:"image"},{label:"boolean",value:"boolean"},{label:"number",value:"number"},{label:"array",value:"array"}]})}),(0,a.jsxs)("div",{children:[p==="text"&&(0,a.jsx)(i.Z,{width:"lg",name:"value",label:(0,a.jsx)(t.FormattedMessage,{id:"value"})}),p==="json"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.Z,{width:"lg",name:"value",label:(0,a.jsx)(t.FormattedMessage,{id:"value"}),tooltip:"".concat(s.formatMessage({id:"example_json"}),': {"name":"John", "age":30, "city":["New York","Warsaw"]}')}),(0,a.jsx)(c.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,a.jsx)(N(),{src:JSON.parse(R.getFieldValue("value"))})}catch(ie){return(0,a.jsx)(N(),{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]}),(p==="file"||p==="image")&&(0,a.jsx)(c.ZP.Item,{name:"value",label:"value",tooltip:"select file from current repository or upload new one",valuePropName:"value",children:(0,a.jsx)($,{type:p})}),p==="markdown"&&(0,a.jsx)(c.ZP.Item,{name:"value",label:"value",tooltip:"The editor is WYSIWYG and includes formatting tools whilst retaining the ability to write markdown shortcuts inline and output plain Markdown.",valuePropName:"value",children:(0,a.jsx)(M.ZP,{directory:"settings/wysiwyg"})}),p==="boolean"?(0,a.jsx)(n.Z,{name:"data",label:(0,a.jsx)(t.FormattedMessage,{id:"value"}),checkedChildren:(0,a.jsx)(U.Z,{}),unCheckedChildren:(0,a.jsx)(J.Z,{})}):(0,a.jsx)(c.ZP.Item,{noStyle:!0,hidden:!0,children:(0,a.jsx)(W.Z,{name:"data",valuePropName:"data"})}),p==="number"&&(0,a.jsx)(_.Z,{name:"data",label:(0,a.jsx)(t.FormattedMessage,{id:"value"})}),p==="array"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(f.Z,{width:"lg",name:"value",label:(0,a.jsx)(t.FormattedMessage,{id:"value"}),tooltip:"".concat(s.formatMessage({id:"example_json"}),": ['tutor', 'student']")}),(0,a.jsx)(c.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,a.jsx)(N(),{src:JSON.parse(R.getFieldValue("value"))})}catch(ie){return(0,a.jsx)(N(),{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]})]})]})};x.ZP=q},59234:function(se,x,e){e.d(x,{Wg:function(){return y}});var o=e(5574),u=e.n(o),O=e(19632),d=e.n(O),c=e(15009),I=e.n(c),i=e(97857),n=e.n(i),T=e(99289),f=e.n(T),W=e(31472),_=e(51042),j=e(16894),g=e(2453),b=e(83062),S=e(14726),v=e(86738),h=e(67294),t=e(80854),l=e(43564),M=e(56717),U=e(47389),J=e(82061),K=e(62343),N=e(20188),a=e(85893),$=function(){var D=f()(I()().mark(function R(C,ce,X){var p,m;return I()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return p=g.ZP.loading(C.formatMessage({id:"loading"})),L.prev=1,L.next=4,X&&X!==-1?(0,l.VP)(X,n()({},ce)):(0,l.oh)(n()({},ce));case 4:return m=L.sent,p(),g.ZP.success(C.formatMessage({id:"success"})),L.abrupt("return",{success:!0,updatedSettings:m});case 10:return L.prev=10,L.t0=L.catch(1),p(),g.ZP.error(C.formatMessage({id:"error"})),L.abrupt("return",{success:!1,updateSettings:null});case 15:case"end":return L.stop()}},R,null,[[1,10]])}));return function(C,ce,X){return D.apply(this,arguments)}}(),q=function(){var D=f()(I()().mark(function R(C,ce){var X;return I()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return X=g.ZP.loading(C.formatMessage({id:"loading"})),m.prev=1,m.next=4,(0,l.Rb)(ce);case 4:return X(),g.ZP.success(C.formatMessage({id:"success"})),m.abrupt("return",!0);case 9:return m.prev=9,m.t0=m.catch(1),X(),g.ZP.error(C.formatMessage({id:"error"})),m.abrupt("return",!1);case 14:case"end":return m.stop()}},R,null,[[1,9]])}));return function(C,ce){return D.apply(this,arguments)}}(),V=function(R){return R.toLowerCase().replace(/(_\w)/g,function(C){return C.toUpperCase().substr(1)})},ae=["statistics","user_submission","user_projects"],s=["public"],A=["email","sms"],B=function(R){return"hideInMenu-".concat(V(R.split("/").join("_")))},y=function(R){return"disableTopicType-".concat(R)},r=[].concat(d()(Object.keys(W.oz).map(function(D){return{key:y(D),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),d()(["ECommerce","Certificates"].map(function(D){return{key:"disable-".concat(D),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),d()(s.map(function(D){return{key:"showInCourseAdditionalSettings-".concat(D),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),d()(ae.map(function(D){return{key:"hideInCourseTabs-".concat(D),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),d()(A.map(function(D){return{key:"hideTemplateTab-".concat(D),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}}))).reduce(function(D,R,C){return D[R.key]=n()(n()({},R),{},{id:-100*C}),D},{}),F=n()({logo:{id:-1,key:"logo",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},frontURL:{id:-2,key:"frontURL",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},maxLessonsNestingInProgram:{id:-4,key:"maxLessonsNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},minTopicNestingInProgram:{id:-5,key:"minTopicNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},companyName:{id:-6,key:"companyName",group:"global",value:"Wellms",public:!0,enumerable:!0,sort:0,type:"text",data:"Wellms"},companyURL:{id:-7,key:"companyURL",group:"global",value:"https://www.wellms.io/",public:!0,enumerable:!0,sort:0,type:"text",data:"https://www.wellms.io/"},logoLogin:{id:-8,key:"logoLogin",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},logoFooter:{id:-9,key:"logoFooter",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},footerFontColor:{id:-10,key:"footerFontColor",group:"global",value:"#00000072",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},showLoginBackgroundImage:{id:-11,key:"showLoginBackgroundImage",group:"global",value:"true",public:!0,enumerable:!0,sort:0,type:"boolean",data:"EscolaLMS"},loginHeaderBackgroundColor:{id:-12,key:"loginHeaderBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},loginHeaderFontColor:{id:-13,key:"loginHeaderFontColor",group:"global",value:"#000000D8",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},loginFormBackgroundColor:{id:-14,key:"loginFormBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},contentBackgroundColor:{id:-15,key:"contentBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},technicalMaintenance:{id:-16,key:"technicalMaintenance",group:"global",value:"false",public:!0,enumerable:!0,sort:0,type:"boolean",data:"EscolaLMS"},technicalMaintenanceText:{id:-17,key:"technicalMaintenanceText",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"}},r),k=function(R){return typeof R.path=="string"},ne=function(){var R=(0,h.useState)(!1),C=u()(R,2),ce=C[0],X=C[1],p=(0,h.useRef)(),m=(0,t.useIntl)(),w=(0,h.useState)(F),L=u()(w,2),oe=L[0],Oe=L[1],be=(0,t.useModel)("@@initialState"),De=be.setInitialState,z=be.initialState;(0,h.useEffect)(function(){(0,N.s)().then(function(ve){var le=Object.values(ve.routes).filter(k).filter(function(G){return G.path&&G.path!=="/"&&G.layout!==!1}).map(function(G){return{path:G.path,key:B(G.path),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}});Oe(function(G){return n()(n()({},G),le)})})},[]),(0,h.useEffect)(function(){p.current&&p.current.reload()},[oe]);var ie=[{title:(0,a.jsx)(t.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0,render:function(le,G){return(0,a.jsx)(h.Fragment,{children:(0,a.jsxs)(b.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"Settings.tooltip.".concat(G.key)}),children:[G.key," ",(0,a.jsx)(M.Z,{})]})})}},{title:(0,a.jsx)(t.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:(0,a.jsx)(t.FormattedMessage,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(le,G){return G.value}},{hideInSearch:!0,title:(0,a.jsx)(t.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(le,G){return[G.id>0?(0,a.jsx)(b.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,a.jsx)(S.ZP,{type:"primary",icon:(0,a.jsx)(U.Z,{}),onClick:function(){return X(G.id)}})},"edit"):(0,a.jsx)(b.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"create",defaultMessage:"create"}),children:(0,a.jsx)(S.ZP,{type:"primary",icon:(0,a.jsx)(_.Z,{}),onClick:function(){X(oe[G.key]||-1)}})},"create"),(0,a.jsx)(v.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:f()(I()().mark(function ee(){var fe;return I()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,q(m,G.id);case 2:fe=ue.sent,fe&&(X(!1),p.current&&p.current.reload());case 4:case"end":return ue.stop()}},ee)})),okText:(0,a.jsx)(t.FormattedMessage,{id:"yes",defaultMessage:"Yes"}),cancelText:(0,a.jsx)(t.FormattedMessage,{id:"no",defaultMessage:"No"}),children:G.id>0?(0,a.jsx)(b.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,a.jsx)(S.ZP,{type:"primary",icon:(0,a.jsx)(J.Z,{}),danger:!0})}):null},"delete")]}}],_e=function(le){var G;if(le&&(!(z!=null&&(G=z.config)!==null&&G!==void 0&&G.length)&&le&&De(n()(n()({},z),{},{config:[le]})),!!(z!=null&&z.config))){var ee=z==null?void 0:z.config.map(function(fe){return fe.key===le.key?n()(n()({},fe),le):fe});De(n()(n()({},z),{},{config:ee}))}};return(0,a.jsxs)(h.Fragment,{children:[(0,a.jsx)(j.ZP,{headerTitle:m.formatMessage({id:"menu.settings"}),search:!1,toolBarRender:!1,actionRef:p,rowKey:"id",request:function(le){var G=le.pageSize,ee=le.current;return(0,l.Xd)({per_page:G,current:ee,group:"global"}).then(function(fe){if(fe.success){var ye=[].concat(d()(Object.keys(oe).map(function(ue){return fe.data.find(function(Ae){return Ae.key===ue})||oe[ue]})),d()(fe.data.filter(function(ue){return!Object.keys(oe).includes(ue.key)})));return{data:ye,total:ye.length,success:!0}}return[]})},columns:ie}),(0,a.jsx)(K.ZP,{groups:[],id:ce,visible:ce,initialData:oe,onVisibleChange:function(le){return!le&&X(!1)},onFinish:function(){var ve=f()(I()().mark(function le(G){var ee,fe,ye,ue;return I()().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return ee=G,ee.type==="number"&&(ee=n()(n()({},ee),{},{value:String(ee.data)})),ee.type==="boolean"&&(ee=n()(n()({},ee),{},{value:ee.data})),ee.type==="array"&&(ee=n()(n()({},ee),{},{value:JSON.parse(ee.value)})),xe.next=6,$(m,ee,Number(ce));case 6:fe=xe.sent,ye=fe.success,ue=fe.updatedSettings,ye&&(ue!=null&&ue.success&&_e(ue.data),X(!1),p.current&&p.current.reload());case 10:case"end":return xe.stop()}},le)}));return function(le){return ve.apply(this,arguments)}}()})]})};x.ZP=ne},85228:function(se,x,e){e.r(x),e.d(x,{default:function(){return xe}});var o=e(5574),u=e.n(o),O=e(26271),d=e(74453),c=e(75081),I=e(38925),i=e(67294),n=e(80854),T=e(43564),f=e(59234),W=e(15009),_=e.n(W),j=e(99289),g=e.n(j),b=e(19632),S=e.n(b),v=e(52677),h=e.n(v),t=e(66419),l=e(47389),M=e(16894),U=e(66309),J=e(83062),K=e(14726),N=e(97857),a=e.n(N),$=e(37476),q=e(952),V=e(52688),ae=e(90672),s=e(25093),A=e(75842),B=e(43669),y=e(5966),r=e(85893),F=function(E){var P=E.field,Z=E.name;return P!=null&&P.includes("boolean")?(0,r.jsx)(V.Z,{name:Z,checkedChildren:(0,r.jsx)(B._H,{id:"true"}),unCheckedChildren:(0,r.jsx)(B._H,{id:"false"})}):(0,r.jsx)(y.Z,{width:"lg",name:Z})},k=F,ne=e(55171),D=e.n(ne),R=s.Z.Text,C=function(H){return H.Array="array",H.String="string",H}(C||{}),ce=function(E,P){return P===C.Array?E&&Array.isArray(E)?JSON.stringify(E):"[]":E},X=function(){var E=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",P=arguments.length>1?arguments[1]:void 0;if(P===C.Array){var Z=JSON.parse(E);return Z&&Array.isArray(Z)?Z:[]}return E},p=function(E){var P=(0,B.YB)(),Z=E.visible,Y=E.onVisibleChange,pe=E.onFinish,Q=E.value,me=A.Z.useForm(),je=u()(me,1),ge=je[0],he=(0,i.useMemo)(function(){return(Q.rules||[]).includes(C.Array)?C.Array:C.String},[Q.rules]);return(0,i.useEffect)(function(){ge.setFieldsValue(a()(a()({},Q),{},{value:ce(Q.value,he)}))},[he,Q,ge]),(0,r.jsxs)($.Y,{form:ge,title:Q.full_key,width:"60vw",visible:Z,onVisibleChange:Y,onFinish:g()(_()().mark(function Pe(){var te;return _()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,(0,T.rF)({key:Q.full_key,value:X(ge.getFieldsValue().value,he)});case 2:if(te=re.sent,!te.success){re.next=6;break}return pe(te.success===!0),re.abrupt("return",te.success);case 6:return re.abrupt("return");case 7:case"end":return re.stop()}},Pe)})),children:[(0,r.jsxs)(q.ZP.Group,{children:[(0,r.jsx)(V.Z,{disabled:!0,name:"public",label:(0,r.jsx)(n.FormattedMessage,{id:"public",defaultMessage:"public"})}),(0,r.jsx)(V.Z,{disabled:!0,name:"readonly",label:(0,r.jsx)(n.FormattedMessage,{id:"readonly",defaultMessage:"readonly"})}),(0,r.jsx)(q.ZP.Item,{shouldUpdate:!0,label:(0,r.jsx)(n.FormattedMessage,{id:"rules",defaultMessage:"rules"}),children:function(){return(0,r.jsx)(R,{code:!0,children:JSON.stringify(ge.getFieldValue("rules"))})}})]}),he===C.Array?(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(ae.Z,{width:"lg",name:"value",label:(0,r.jsx)(n.FormattedMessage,{id:"value"}),tooltip:"".concat(P.formatMessage({id:"example_json"}),': ["first_field_name", "second_field_name"]')}),(0,r.jsx)(q.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,r.jsx)(D(),{src:JSON.parse(ge.getFieldValue("value"))})}catch(te){return(0,r.jsx)(D(),{src:JSON.parse('{ "error": "cannot parse this array" }')})}}})]}):(0,r.jsx)(r.Fragment,{children:(0,r.jsx)(q.ZP.Item,{shouldUpdate:!0,label:(0,r.jsx)(n.FormattedMessage,{id:"value"}),children:function(){return(0,r.jsx)(k,{field:ge.getFieldValue("rules"),name:"value"})}})})]})},m=p,w=[{title:(0,r.jsx)(n.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!1,sorter:!0},{title:(0,r.jsx)(n.FormattedMessage,{id:"readonly",defaultMessage:"readonly"}),dataIndex:"readonly",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(E,P){return(0,r.jsx)(U.Z,{color:P.readonly?"success":"error",children:(0,r.jsx)(n.FormattedMessage,{id:P.readonly?"true":"false",defaultMessage:P.readonly?"true":"false"})})}},{title:(0,r.jsx)(n.FormattedMessage,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(E,P){return(0,r.jsx)(U.Z,{color:P.public?"success":"error",children:(0,r.jsx)(n.FormattedMessage,{id:P.public?"true":"false",defaultMessage:P.public?"true":"false"})})}},{title:(0,r.jsx)(n.FormattedMessage,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(E,P){return typeof P.value=="boolean"?(0,r.jsx)(U.Z,{color:P.value?"success":"error",children:(0,r.jsx)(n.FormattedMessage,{id:P.value?"true":"false",defaultMessage:P.value?"true":"false"})}):Array.isArray(P.value)?P.value.map(function(Z){return h()(Z)==="object"?i.Children.toArray((0,r.jsx)("p",{children:Object.keys(Z).map(function(Y){return"".concat(Y,": ").concat(Z[Y])}).join(", ")})):Z}):P.value}}],L=function H(E,P){var Z=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return!E||h()(E)!=="object"?!1:(Object.keys(E).forEach(function(Y){var pe=E[Y];Y===P?Z.push(E):h()(pe)==="object"&&H(pe,P,Z)}),Z)},oe=function(E){var P=E.packageName,Z=E.values,Y=E.onValueUpdated,pe=(0,n.useIntl)(),Q=(0,i.useState)(),me=u()(Q,2),je=me[0],ge=me[1],he=(0,i.useMemo)(function(){var Pe=Z[P];return L(Pe,"rules")},[Z,P]);return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(M.ZP,{headerTitle:pe.formatMessage({id:"menu.settings"}),rowKey:"key",search:{layout:"vertical"},columns:[].concat(w,[{hideInSearch:!0,title:(0,r.jsx)(n.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(te,Ce){return[(0,r.jsx)(J.Z,{title:(0,r.jsx)(n.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,r.jsx)(K.ZP,{type:"primary",icon:(0,r.jsx)(l.Z,{}),onClick:function(){return ge(Ce)}})},"edit")]}}]),request:function(te,Ce){var re=te.key,de=Ce&&Object.entries(Ce)[0];return new Promise(function(Ee){var Me=he?S()(he):[];re&&(Me=Me.filter(function(Ie){return Ie.key.toLowerCase().includes(re.toLowerCase())})),de&&(Me=(0,t.Pf)(Me,de[0],de[1]!=="ascend")),Ee({data:Me,success:!0,total:Me.length})})}}),je&&(0,r.jsx)(m,{value:je,visible:je!==void 0,onVisibleChange:function(te){return te===!1&&ge(void 0)},onFinish:g()(_()().mark(function Pe(){return _()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:Y();case 1:case"end":return Ce.stop()}},Pe)}))})]})},Oe=oe,be=e(9783),De=e.n(be),z=e(51042),ie=e(2453),_e=e(86738),ve=e(82061),le=e(62343),G=function(){var H=g()(_()().mark(function E(P,Z,Y){var pe;return _()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return pe=ie.ZP.loading(P.formatMessage({id:"loading"})),me.prev=1,me.next=4,Y&&Y!==-1?(0,T.VP)(Y,a()({},Z)):(0,T.oh)(a()({},Z));case 4:return pe(),ie.ZP.success(P.formatMessage({id:"success"})),me.abrupt("return",!0);case 9:return me.prev=9,me.t0=me.catch(1),pe(),ie.ZP.error(P.formatMessage({id:"error"})),me.abrupt("return",!1);case 14:case"end":return me.stop()}},E,null,[[1,9]])}));return function(P,Z,Y){return H.apply(this,arguments)}}(),ee=function(){var H=g()(_()().mark(function E(P,Z){var Y;return _()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Y=ie.ZP.loading(P.formatMessage({id:"loading"})),Q.prev=1,Q.next=4,(0,T.Rb)(Z);case 4:return Y(),ie.ZP.success(P.formatMessage({id:"success"})),Q.abrupt("return",!0);case 9:return Q.prev=9,Q.t0=Q.catch(1),Y(),ie.ZP.error(P.formatMessage({id:"error"})),Q.abrupt("return",!1);case 14:case"end":return Q.stop()}},E,null,[[1,9]])}));return function(P,Z){return H.apply(this,arguments)}}(),fe=function(){var E=(0,i.useState)(!1),P=u()(E,2),Z=P[0],Y=P[1],pe=(0,i.useState)([]),Q=u()(pe,2),me=Q[0],je=Q[1],ge=(0,i.useRef)(),he=(0,n.useIntl)(),Pe=(0,n.useModel)("@@initialState"),te=Pe.setInitialState;(0,i.useEffect)(function(){(0,T.FF)().then(function(re){re.success&&je(re.data.filter(function(de){return de!=="global"}))})},[]);var Ce=[{title:(0,r.jsx)(n.FormattedMessage,{id:"group",defaultMessage:"group"}),dataIndex:"group",hideInSearch:!1,key:"group",valueType:"select",width:100,valueEnum:me.sort().reduce(function(re,de){return a()(a()({},re),{},De()({},de,de))},{})},{title:(0,r.jsx)(n.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:(0,r.jsx)(n.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:(0,r.jsx)(n.FormattedMessage,{id:"enumerable",defaultMessage:"enumerable"}),dataIndex:"enumerable",hideInForm:!0,hideInSearch:!0,render:function(de,Ee){return(0,r.jsx)(U.Z,{color:Ee.enumerable?"success":"error",children:(0,r.jsx)(n.FormattedMessage,{id:Ee.enumerable?"true":"false",defaultMessage:Ee.enumerable?"true":"false"})})}},{title:(0,r.jsx)(n.FormattedMessage,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(de,Ee){return(0,r.jsx)(U.Z,{color:Ee.public?"success":"error",children:(0,r.jsx)(n.FormattedMessage,{id:Ee.public?"true":"false",defaultMessage:Ee.public?"true":"false"})})}},{hideInSearch:!0,title:(0,r.jsx)(n.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(de,Ee){return[(0,r.jsx)(J.Z,{title:(0,r.jsx)(n.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,r.jsx)(K.ZP,{type:"primary",icon:(0,r.jsx)(l.Z,{}),onClick:function(){return Y(Ee.id)}})},"edit"),(0,r.jsx)(_e.Z,{title:(0,r.jsx)(n.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:g()(_()().mark(function Me(){var Ie;return _()().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Le.next=2,ee(he,Ee.id);case 2:Ie=Le.sent,Ie&&(Y(!1),ge.current&&ge.current.reload());case 4:case"end":return Le.stop()}},Me)})),okText:(0,r.jsx)(n.FormattedMessage,{id:"yes",defaultMessage:"Yes"}),cancelText:(0,r.jsx)(n.FormattedMessage,{id:"no",defaultMessage:"No"}),children:(0,r.jsx)(J.Z,{title:(0,r.jsx)(n.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,r.jsx)(K.ZP,{type:"primary",icon:(0,r.jsx)(ve.Z,{}),danger:!0})})},"delete")]}}];return(0,r.jsxs)(i.Fragment,{children:[(0,r.jsx)(M.ZP,{headerTitle:he.formatMessage({id:"menu.settings"}),actionRef:ge,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[(0,r.jsxs)(K.ZP,{type:"primary",onClick:function(){Y(-1)},children:[(0,r.jsx)(z.Z,{})," ",(0,r.jsx)(n.FormattedMessage,{id:"pages.searchTable.new"})]},"primary")]},request:function(de){var Ee=de.pageSize,Me=de.current,Ie=de.group;return(0,T.Xd)({per_page:Ee,current:Me,group:Ie}).then(function(Se){return Se.success?{data:Se.data.filter(function(Le){return Le.group!=="global"}),total:Se.meta.total,success:!0}:[]})},columns:Ce}),(0,r.jsx)(le.ZP,{groups:me,id:Z,visible:Number.isInteger(Z),onVisibleChange:function(de){return!de&&Y(!1)},onFinish:function(){var re=g()(_()().mark(function de(Ee){var Me,Ie,Se;return _()().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Me=Ee,Te.next=3,G(he,Me,Number(Z));case 3:if(Ie=Te.sent,!Ie){Te.next=12;break}if(Y(!1),ge.current&&ge.current.reload(),Me.group!=="global"){Te.next=12;break}return Te.next=10,(0,T.Xd)({current:1,per_page:100,group:"global"});case 10:Se=Te.sent,te(function(Re){return a()(a()({},Re),{},{config:Se.success?Se.data:Re==null?void 0:Re.config})});case 12:case"end":return Te.stop()}},de)}));return function(de){return re.apply(this,arguments)}}()})]})},ye=fe;function ue(H){var E=H.replaceAll("escolalms",""),P=E.split("_"),Z=P.map(function(Y){return Y.charAt(0).toUpperCase()+Y.slice(1)});return Z.join(" ")}function Ae(H,E){var P=["global_settings","user_settings"];return P.includes(H)?E.formatMessage({id:String(H)}):E.formatMessage({id:"Settings.package"},{package:ue(H)})}var xe=function(){var H=(0,n.useParams)(),E=(0,n.useIntl)(),P=H.tab,Z=P===void 0?"user_settings":P,Y=(0,i.useState)(),pe=u()(Y,2),Q=pe[0],me=pe[1],je=(0,i.useCallback)(function(){(0,T.rH)().then(function(te){te.success&&me(te.data)})},[]),ge=(0,n.useModel)("@@initialState"),he=ge.initialState,Pe=(0,i.useCallback)(function(){var te;return(he==null||(te=he.config)===null||te===void 0?void 0:te.length)!==0},[he]);return(0,i.useEffect)(function(){je()},[]),Q?(0,r.jsxs)(d._z,{title:Ae(Z,E),header:{breadcrumb:{routes:[{path:"settings",breadcrumbName:E.formatMessage({id:"menu.Configuration.settings"})},{path:String(Z),breadcrumbName:Ae(Z,E)}]}},children:[!Pe()&&(0,r.jsx)(I.Z,{message:(0,r.jsx)(n.FormattedMessage,{id:"global_settings_alert_title",defaultMessage:"Add global settings"}),description:(0,r.jsx)(n.FormattedMessage,{id:"global_settings_alert_description",defaultMessage:"Global settings are used to configure the entire LMS. You can add global settings by clicking the button below."}),type:"warning",showIcon:!0,style:{marginBottom:"20px"}}),(0,r.jsxs)(O.ZP,{tabs:{type:"card",activeKey:Z,onChange:function(Ce){return n.history.push("/configuration/settings/".concat(Ce))}},children:[(0,r.jsx)(O.ZP.TabPane,{tab:(0,r.jsx)(n.FormattedMessage,{id:"user.settings"}),children:(0,r.jsx)(ye,{})},"user_settings"),(0,r.jsx)(O.ZP.TabPane,{tab:(0,r.jsx)(n.FormattedMessage,{id:"global_settings"}),children:(0,r.jsx)(f.ZP,{})},"global_settings"),Object.keys(Q).map(function(te){return(0,r.jsxs)(O.ZP.TabPane,{tab:(0,r.jsx)("span",{children:(0,r.jsx)(n.FormattedMessage,{id:"Settings.package",values:{package:ue(te)}})}),children:[(0,r.jsx)(Oe,{values:Q,packageName:te,onValueUpdated:function(){return je()}}),te]},te)})]})]}):(0,r.jsx)(c.Z,{})}},31472:function(se,x,e){e.d(x,{Fh:function(){return W},UL:function(){return T},Yo:function(){return g},Zg:function(){return b},cX:function(){return n},ce:function(){return i},fS:function(){return j},fn:function(){return c},h5:function(){return S},hg:function(){return h},oz:function(){return o},rX:function(){return _},uT:function(){return d},wg:function(){return v},wl:function(){return f}});var o=function(t){return t.Unselected="",t.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",t.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",t.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",t.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",t.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",t.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",t.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",t.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",t.Project="EscolaLms\\TopicTypeProject\\Models\\Project",t.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz",t}({}),u=function(t){return t.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",t.UserLogged="EscolaLms\\Auth\\Events\\UserLogged",t}({}),O=function(t){return t.draft="draft",t.published="published",t.archived="archived",t}({}),d=function(t){return t.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",t.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",t.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel",t}({}),c=function(t){return t.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent",t}({}),I=function(t){return t.cart_fixed="cart_fixed",t.cart_percent="cart_percent",t.product_fixed="product_fixed",t.product_percent="product_percent",t}({}),i=function(t){return t.MULTIPLE_CHOICE="multiple_choice",t.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",t.TRUE_FALSE="true_false",t.SHORT_ANSWERS="short_answers",t.MATCHING="matching",t.NUMERICAL_QUESTION="numerical_question",t.ESSAY="essay",t.DESCRIPTION="description",t}({}),n=function(t){return t.PRESENT="present",t.PRESENT_NOT_EXERCISING="present_not_exercising",t.ABSENT="absent",t.EXCUSED_ABSENCE="excused_absence",t}({}),T=function(t){return t.Manual="manual",t.ManualPass="manual_pass",t.ManualGrades="manual_grades",t.TeamsForms="teams_forms",t.TeamsLecture="teams_lecture",t.TestPortal="test_portal",t}({}),f=function(t){return t.Passed="zal",t.Failed="nie zal",t}({}),W=function(t){return t.Simple="simple",t.Complex="complex",t}({}),_=function(t){return t.QuizSummary="EscolaLms\\Reports\\Stats\\Topic\\QuizSummaryForTopicTypeGIFT",t}({}),j=function(t){return t.Boolean="boolean",t.Number="number",t.Varchar="varchar",t.Text="text",t.Json="json",t}({}),g=function(t){return t.Rate="rate",t.Text="text",t.Review="review",t}({}),b=function(t){return t.Exercise="exercise",t.Course="course",t.Info="info",t}({}),S=function(t){return t.Group="EscolaLms\\PcgIntegration\\Models\\Group",t}({}),v=function(t){return t.PUSH="EscolaLms\\BulkNotifications\\Channels\\PushNotificationChannel",t}({}),h=function(t){return t.TITLE="title",t.BODY="body",t.IMAGE="image_url",t.REDIRECT_URL="redirect_url",t}({})},17578:function(se,x,e){e.d(x,{Od:function(){return b},QZ:function(){return n},ht:function(){return f},pV:function(){return g},ws:function(){return _}});var o=e(15009),u=e.n(o),O=e(97857),d=e.n(O),c=e(99289),I=e.n(c),i=e(80854);function n(v,h){return T.apply(this,arguments)}function T(){return T=I()(u()().mark(function v(h,t){return u()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,i.request)("/api/admin/file/list",d()({method:"GET",params:h},t||{})));case 1:case"end":return M.stop()}},v)})),T.apply(this,arguments)}function f(v,h){return W.apply(this,arguments)}function W(){return W=I()(u()().mark(function v(h,t){return u()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,i.request)("/api/admin/file/find",d()({method:"GET",params:h},t||{})));case 1:case"end":return M.stop()}},v)})),W.apply(this,arguments)}function _(v,h,t){return j.apply(this,arguments)}function j(){return j=I()(u()().mark(function v(h,t,l){var M;return u()().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return M=new FormData,M.append("file[]",h),M.append("target",t),J.abrupt("return",(0,i.request)("/api/admin/file/upload",d()({method:"POST",data:M},l||{})));case 4:case"end":return J.stop()}},v)})),j.apply(this,arguments)}var g=function(h){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(h,"&w=").concat(t)};function b(v,h){return S.apply(this,arguments)}function S(){return S=I()(u()().mark(function v(h,t){return u()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,i.request)("/api/admin/file/delete",d()({method:"DELETE",data:{url:h}},t||{})));case 1:case"end":return M.stop()}},v)})),S.apply(this,arguments)}},49288:function(se,x,e){var o=e(67294),u=e(93967),O=e.n(u),d=e(50344),c=e(98423),I=e(87263),i=e(8745),n=e(53124),T=e(83863);const{Option:f}=T.default;function W(b){return b&&b.type&&(b.type.isSelectOption||b.type.isSelectOptGroup)}const _=(b,S)=>{var v;const{prefixCls:h,className:t,popupClassName:l,dropdownClassName:M,children:U,dataSource:J}=b,K=(0,d.Z)(U);let N;K.length===1&&o.isValidElement(K[0])&&!W(K[0])&&([N]=K);const a=N?()=>N:void 0;let $;K.length&&W(K[0])?$=U:$=J?J.map(s=>{if(o.isValidElement(s))return s;switch(typeof s){case"string":return o.createElement(f,{key:s,value:s},s);case"object":{const{value:A}=s;return o.createElement(f,{key:A,value:A},s.text)}default:return}}):[];const{getPrefixCls:q}=o.useContext(n.E_),V=q("select",h),[ae]=(0,I.Cn)("SelectLike",(v=b.dropdownStyle)===null||v===void 0?void 0:v.zIndex);return o.createElement(T.default,Object.assign({ref:S,suffixIcon:null},(0,c.Z)(b,["dataSource","dropdownClassName"]),{prefixCls:V,popupClassName:l||M,dropdownStyle:Object.assign(Object.assign({},b.dropdownStyle),{zIndex:ae}),className:O()(`${V}-auto-complete`,t),mode:T.default.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:a}),$)},j=o.forwardRef(_),g=(0,i.Z)(j);j.Option=f,j._InternalPanelDoNotUseOrYouWillBeFired=g,x.Z=j},66309:function(se,x,e){e.d(x,{Z:function(){return ae}});var o=e(67294),u=e(62208),O=e(93967),d=e.n(O),c=e(98787),I=e(69760),i=e(45353),n=e(53124),T=e(6731),f=e(10274),W=e(14747),_=e(45503),j=e(91945);const g=s=>{const{paddingXXS:A,lineWidth:B,tagPaddingHorizontal:y,componentCls:r,calc:F}=s,k=F(y).sub(B).equal(),ne=F(A).sub(B).equal();return{[r]:Object.assign(Object.assign({},(0,W.Wf)(s)),{display:"inline-block",height:"auto",marginInlineEnd:s.marginXS,paddingInline:k,fontSize:s.tagFontSize,lineHeight:s.tagLineHeight,whiteSpace:"nowrap",background:s.defaultBg,border:`${(0,T.unit)(s.lineWidth)} ${s.lineType} ${s.colorBorder}`,borderRadius:s.borderRadiusSM,opacity:1,transition:`all ${s.motionDurationMid}`,textAlign:"start",position:"relative",[`&${r}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:s.defaultColor},[`${r}-close-icon`]:{marginInlineStart:ne,fontSize:s.tagIconSize,color:s.colorTextDescription,cursor:"pointer",transition:`all ${s.motionDurationMid}`,"&:hover":{color:s.colorTextHeading}},[`&${r}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${s.iconCls}-close, ${s.iconCls}-close:hover`]:{color:s.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${r}-checkable-checked):hover`]:{color:s.colorPrimary,backgroundColor:s.colorFillSecondary},"&:active, &-checked":{color:s.colorTextLightSolid},"&-checked":{backgroundColor:s.colorPrimary,"&:hover":{backgroundColor:s.colorPrimaryHover}},"&:active":{backgroundColor:s.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${s.iconCls} + span, > span + ${s.iconCls}`]:{marginInlineStart:k}}),[`${r}-borderless`]:{borderColor:"transparent",background:s.tagBorderlessBg}}},b=s=>{const{lineWidth:A,fontSizeIcon:B,calc:y}=s,r=s.fontSizeSM;return(0,_.TS)(s,{tagFontSize:r,tagLineHeight:(0,T.unit)(y(s.lineHeightSM).mul(r).equal()),tagIconSize:y(B).sub(y(A).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:s.defaultBg})},S=s=>({defaultBg:new f.C(s.colorFillQuaternary).onBackground(s.colorBgContainer).toHexString(),defaultColor:s.colorText});var v=(0,j.I$)("Tag",s=>{const A=b(s);return g(A)},S),h=function(s,A){var B={};for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&A.indexOf(y)<0&&(B[y]=s[y]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,y=Object.getOwnPropertySymbols(s);r<y.length;r++)A.indexOf(y[r])<0&&Object.prototype.propertyIsEnumerable.call(s,y[r])&&(B[y[r]]=s[y[r]]);return B},l=o.forwardRef((s,A)=>{const{prefixCls:B,style:y,className:r,checked:F,onChange:k,onClick:ne}=s,D=h(s,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:R,tag:C}=o.useContext(n.E_),ce=oe=>{k==null||k(!F),ne==null||ne(oe)},X=R("tag",B),[p,m,w]=v(X),L=d()(X,`${X}-checkable`,{[`${X}-checkable-checked`]:F},C==null?void 0:C.className,r,m,w);return p(o.createElement("span",Object.assign({},D,{ref:A,style:Object.assign(Object.assign({},y),C==null?void 0:C.style),className:L,onClick:ce})))}),M=e(98719);const U=s=>(0,M.Z)(s,(A,B)=>{let{textColor:y,lightBorderColor:r,lightColor:F,darkColor:k}=B;return{[`${s.componentCls}${s.componentCls}-${A}`]:{color:y,background:F,borderColor:r,"&-inverse":{color:s.colorTextLightSolid,background:k,borderColor:k},[`&${s.componentCls}-borderless`]:{borderColor:"transparent"}}}});var J=(0,j.bk)(["Tag","preset"],s=>{const A=b(s);return U(A)},S);function K(s){return typeof s!="string"?s:s.charAt(0).toUpperCase()+s.slice(1)}const N=(s,A,B)=>{const y=K(B);return{[`${s.componentCls}${s.componentCls}-${A}`]:{color:s[`color${B}`],background:s[`color${y}Bg`],borderColor:s[`color${y}Border`],[`&${s.componentCls}-borderless`]:{borderColor:"transparent"}}}};var a=(0,j.bk)(["Tag","status"],s=>{const A=b(s);return[N(A,"success","Success"),N(A,"processing","Info"),N(A,"error","Error"),N(A,"warning","Warning")]},S),$=function(s,A){var B={};for(var y in s)Object.prototype.hasOwnProperty.call(s,y)&&A.indexOf(y)<0&&(B[y]=s[y]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var r=0,y=Object.getOwnPropertySymbols(s);r<y.length;r++)A.indexOf(y[r])<0&&Object.prototype.propertyIsEnumerable.call(s,y[r])&&(B[y[r]]=s[y[r]]);return B};const q=(s,A)=>{const{prefixCls:B,className:y,rootClassName:r,style:F,children:k,icon:ne,color:D,onClose:R,closeIcon:C,closable:ce,bordered:X=!0}=s,p=$(s,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:m,direction:w,tag:L}=o.useContext(n.E_),[oe,Oe]=o.useState(!0);o.useEffect(()=>{"visible"in p&&Oe(p.visible)},[p.visible]);const be=(0,c.o2)(D),De=(0,c.yT)(D),z=be||De,ie=Object.assign(Object.assign({backgroundColor:D&&!z?D:void 0},L==null?void 0:L.style),F),_e=m("tag",B),[ve,le,G]=v(_e),ee=d()(_e,L==null?void 0:L.className,{[`${_e}-${D}`]:z,[`${_e}-has-color`]:D&&!z,[`${_e}-hidden`]:!oe,[`${_e}-rtl`]:w==="rtl",[`${_e}-borderless`]:!X},y,r,le,G),fe=E=>{E.stopPropagation(),R==null||R(E),!E.defaultPrevented&&Oe(!1)},[,ye]=(0,I.Z)({closable:ce,closeIcon:C!=null?C:L==null?void 0:L.closeIcon,customCloseIconRender:E=>E===null?o.createElement(u.Z,{className:`${_e}-close-icon`,onClick:fe}):o.createElement("span",{className:`${_e}-close-icon`,onClick:fe},E),defaultCloseIcon:null,defaultClosable:!1}),ue=typeof p.onClick=="function"||k&&k.type==="a",Ae=ne||null,xe=Ae?o.createElement(o.Fragment,null,Ae,k&&o.createElement("span",null,k)):k,H=o.createElement("span",Object.assign({},p,{ref:A,className:ee,style:ie}),xe,ye,be&&o.createElement(J,{key:"preset",prefixCls:_e}),De&&o.createElement(a,{key:"status",prefixCls:_e}));return ve(ue?o.createElement(i.Z,{component:"Tag"},H):H)},V=o.forwardRef(q);V.CheckableTag=l;var ae=V}}]);
