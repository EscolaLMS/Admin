(window.webpackJsonp=window.webpackJsonp||[]).push([[13],{"5YLw":function(B,c,e){"use strict";var f=e("DBJ/"),E=e("q1tI"),A=e.n(E),o=e("nKUr"),P=e.n(o),u=function(i){var p=i.onSuccess,O=i.onError;return Object(o.jsx)(f.a,{url:"/api/hh5p/content/upload",name:"h5p_file",accept:".h5p",onChange:function(r){r.file.status==="done"&&r.file.response&&p(r.file.response),r.file.status==="error"&&O()}})};c.a=u},"DBJ/":function(B,c,e){"use strict";var f=e("y8nQ"),E=e("Vl3Y"),A=e("etVw"),o=e("q1tI"),P=e.n(o),u=e("9kvl"),g=function(_){var r=_.condition,j=_.children,s=_.wrap;return r?P.a.cloneElement(s(j)):j},i=e("nKUr"),p=function(r){var j=r.onChange,s=r.url,d=r.name,t=r.extra,l=r.accept,n=r.data,I=r.wrapInForm,T=I===void 0?!0:I,R=Object(u.i)();return n&&n[d]&&delete n[d],Object(i.jsx)(g,{condition:T,wrap:function(U){return Object(i.jsx)(E.a,{children:U})},children:Object(i.jsx)(A.a,{title:Object(i.jsx)(u.a,{id:"upload_click_here"}),placeholder:R.formatMessage({id:"upload_click_here"}),onChange:j,label:Object(i.jsx)(u.a,{id:"upload"}),max:2,fieldProps:{data:n,accept:l,name:d,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(s),extra:t})})},O=c.a=p},JGo8:function(B,c,e){},Unir:function(B,c,e){"use strict";e.r(c);var f=e("P2fV"),E=e("NJEC"),A=e("5Dmo"),o=e("3S7+"),P=e("+L6B"),u=e("2/Rp"),g=e("miYZ"),i=e("tsqr"),p=e("9og8"),O=e("tJVT"),_=e("WmNS"),r=e.n(_),j=e("xvlK"),s=e("q1tI"),d=e.n(s),t=e("9kvl"),l=e("55Ip"),n=e("tMyG"),I=e("Qiat"),T=e("nzng"),R=e("G3dp"),b=e("/MfK"),U=e("2PG1"),S=e("4KAj"),F=e("5YLw"),a=e("nKUr"),G=e.n(a),x=function(){var y=Object(s.useState)(!1),H=Object(O.a)(y,2),K=H[0],D=H[1],C=Object(s.useRef)(),$=Object(t.i)(),V=Object(s.useCallback)(function(){var v=Object(p.a)(r.a.mark(function h(m){var L,W;return r.a.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return D(!0),L=i.default.loading(Object(a.jsx)(t.a,{id:"loading",defaultMessage:"loading"})),M.prev=2,M.next=5,Object(T.c)(m);case 5:return L(),i.default.success(Object(a.jsx)(t.a,{id:"success",defaultMessage:"success"})),D(!1),(W=C.current)===null||W===void 0||W.reload(),M.abrupt("return",!0);case 12:return M.prev=12,M.t0=M.catch(2),L(),i.default.error(Object(a.jsx)(t.a,{id:"error",defaultMessage:"error"})),D(!1),M.abrupt("return",!1);case 18:case"end":return M.stop()}},h,null,[[2,12]])}));return function(h){return v.apply(this,arguments)}}(),[C]),z=[{title:Object(a.jsx)(t.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",sorter:!1,search:!1},{title:Object(a.jsx)(t.a,{id:"newH5P",defaultMessage:"newH5P"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(a.jsx)(F.a,{onSuccess:function(){C.current&&C.current.reload(),i.default.success(Object(a.jsx)(t.a,{id:"H5P_uploaded",defaultMessage:"new H5P uploaded successfully"}))},onError:function(){return i.default.error(Object(a.jsx)(t.a,{id:"error",defaultMessage:"error"}))}})]}},{title:Object(a.jsx)(t.a,{id:"title",defaultMessage:"title"}),dataIndex:"title",sorter:!1,search:!1,render:function(h,m){return m.title}},{title:Object(a.jsx)(t.a,{id:"library",defaultMessage:"library"}),dataIndex:"library",sorter:!1,search:!1,render:function(h,m){return m.library.title}},{title:Object(a.jsx)(t.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",render:function(h,m){return[Object(a.jsx)(l.a,{to:"/h5ps/".concat(m.id),children:Object(a.jsx)(o.a,{title:Object(a.jsx)(t.a,{id:"edit",defaultMessage:"edit"}),children:Object(a.jsx)(u.a,{type:"primary",icon:Object(a.jsx)(R.a,{})})})}),Object(a.jsx)(E.a,{title:Object(a.jsx)(t.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return m.id&&V(m.id)},okText:Object(a.jsx)(t.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(a.jsx)(t.a,{id:"no",defaultMessage:"No"}),children:Object(a.jsx)(o.a,{title:Object(a.jsx)(t.a,{id:"delete",defaultMessage:"delete"}),children:Object(a.jsx)(u.a,{type:"primary",icon:Object(a.jsx)(b.a,{}),danger:!0})})}),Object(a.jsx)(l.a,{to:"/h5ps/preview/".concat(m.id),children:Object(a.jsx)(o.a,{title:Object(a.jsx)(t.a,{id:"preview",defaultMessage:"preview"}),children:Object(a.jsx)(u.a,{icon:Object(a.jsx)(U.a,{})})})}),Object(a.jsx)("a",{href:"".concat("https://api-stage.escolalms.com","/api/hh5p/content/").concat(m.id,"/export"),download:!0,children:Object(a.jsx)(o.a,{title:Object(a.jsx)(t.a,{id:"export",defaultMessage:"export"}),children:Object(a.jsx)(u.a,{icon:Object(a.jsx)(S.a,{})})})})]}}];return Object(a.jsx)(n.a,{children:Object(a.jsx)(I.a,{loading:K,headerTitle:$.formatMessage({id:"H5Ps",defaultMessage:"H5Ps List"}),actionRef:C,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[Object(a.jsx)(l.a,{to:"/h5ps/new",children:Object(a.jsxs)(u.a,{type:"primary",children:[Object(a.jsx)(j.a,{})," ",Object(a.jsx)(t.a,{id:"new",defaultMessage:"new"})]},"primary")})]},request:function(h){var m=h.pageSize,L=h.current;return D(!0),Object(T.b)({pageSize:m,current:L}).then(function(W){return D(!1),W||[]})},columns:z})})};c.default=x},etVw:function(B,c,e){"use strict";var f=e("EFp3"),E=e("JGo8"),A=e("+L6B"),o=e("MXD1"),P=e("5Dmo"),u=e("8z0m"),g=e("2/Rp"),i=e("wx14"),p=e("q1tI"),O=e.n(p),_=e("z7Xi"),r=e("WFLz"),j=function(t,l){var n=t.fieldProps,I=t.name,T=t.action,R=t.accept,b=t.listType,U=t.title,S=U===void 0?"\u5355\u51FB\u4E0A\u4F20":U,F=t.max,a=t.icon,G=a===void 0?O.a.createElement(_.a,null):a,x=t.value,J=t.buttonProps,y=t.onChange,H=t.disabled,K=t.proFieldProps,D=t.fileList,C=(F===void 0||!x||(x==null?void 0:x.length)<F)&&(K==null?void 0:K.mode)!=="read",$=(b!=null?b:n==null?void 0:n.listType)==="picture-card";return O.a.createElement(u.a,Object(i.a)({action:T,accept:R,ref:l,name:I||"file",listType:b||"picture",fileList:D!=null?D:x},n,{onChange:function(z){var v;y==null||y(z),n==null||(v=n.onChange)===null||v===void 0||v.call(n,z)}}),C&&($?O.a.createElement("span",null,G," ",S):O.a.createElement(g.a,Object(i.a)({disabled:H||(n==null?void 0:n.disabled)},J),G,S)))},s=c.a=Object(r.a)(O.a.forwardRef(j),{getValueFromEvent:function(t){return t.fileList}})},nzng:function(B,c,e){"use strict";e.d(c,"b",function(){return u}),e.d(c,"c",function(){return O}),e.d(c,"a",function(){return r});var f=e("k1fw"),E=e("9og8"),A=e("WmNS"),o=e.n(A),P=e("9kvl");function u(s,d){return g.apply(this,arguments)}function g(){return g=Object(E.a)(o.a.mark(function s(d,t){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(P.f)("/api/hh5p/content",Object(f.a)({method:"GET",useCache:!1,params:Object(f.a)(Object(f.a)({},d),{},{per_page:d.pageSize,page:d.current})},t||{})));case 1:case"end":return n.stop()}},s)})),g.apply(this,arguments)}function i(s,d){return p.apply(this,arguments)}function p(){return p=Object(E.a)(o.a.mark(function s(d,t){return o.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(P.f)("/api/hh5p/content/".concat(d),Object(f.a)({method:"GET",useCache:!1},t||{})));case 1:case"end":return n.stop()}},s)})),p.apply(this,arguments)}function O(s){return _.apply(this,arguments)}function _(){return _=Object(E.a)(o.a.mark(function s(d){return o.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(P.f)("/api/hh5p/content/".concat(d),{method:"DELETE"}));case 1:case"end":return l.stop()}},s)})),_.apply(this,arguments)}function r(s){return j.apply(this,arguments)}function j(){return j=Object(E.a)(o.a.mark(function s(d){return o.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(P.f)("/api/hh5p/content?per_page=0",Object(f.a)({method:"GET",useCache:!1},d||{})));case 1:case"end":return l.stop()}},s)})),j.apply(this,arguments)}}}]);
