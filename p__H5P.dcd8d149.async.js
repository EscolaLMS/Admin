(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"5YLw":function(K,O,e){"use strict";var m=e("DBJ/"),M=e("q1tI"),b=e.n(M),s=e("nKUr"),j=e.n(s),p=function(h){var E=h.onSuccess,A=h.onError;return Object(s.jsx)(m.a,{url:"/api/admin/hh5p/content/upload",name:"h5p_file",accept:".h5p",onChange:function(a){a.file.status==="done"&&a.file.response&&E(a.file.response),a.file.status==="error"&&A()}})};O.a=p},"DBJ/":function(K,O,e){"use strict";var m=e("k1fw"),M=e("y8nQ"),b=e("Vl3Y"),s=e("etVw"),j=e("q1tI"),p=e.n(j),P=e("9kvl"),h=e("qFDU"),E=e("nKUr"),A=e.n(E),g=function(c){var _=c.onChange,T=c.url,n=c.name,l=c.extra,u=c.accept,o=c.data,d=c.wrapInForm,v=d===void 0?!0:d,U=c.title,B=c.formProps,C=Object(P.i)();return o&&o[n]&&delete o[n],Object(E.jsx)(h.a,{condition:v,wrap:function(t){return Object(E.jsx)(b.a,Object(m.a)(Object(m.a)({},B),{},{children:t}))},children:Object(E.jsx)(s.a,{title:U||Object(E.jsx)(P.a,{id:"upload_click_here"}),placeholder:C.formatMessage({id:"upload_click_here"}),onChange:_,label:Object(E.jsx)(P.a,{id:"upload"}),max:2,fieldProps:{data:o,accept:u,name:n,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(T),extra:l})})};O.a=g},Unir:function(K,O,e){"use strict";e.r(O);var m=e("P2fV"),M=e("NJEC"),b=e("5Dmo"),s=e("3S7+"),j=e("+L6B"),p=e("2/Rp"),P=e("miYZ"),h=e("tsqr"),E=e("9og8"),A=e("tJVT"),g=e("WmNS"),a=e.n(g),c=e("xvlK"),_=e("q1tI"),T=e.n(_),n=e("9kvl"),l=e("55Ip"),u=e("tMyG"),o=e("Qiat"),d=e("nzng"),v=e("G3dp"),U=e("/MfK"),B=e("2PG1"),C=e("4KAj"),y=e("5YLw"),t=e("nKUr"),$=e.n(t),x=function(){var H=Object(_.useState)(!1),F=Object(A.a)(H,2),z=F[0],L=F[1],I=Object(_.useRef)(),V=Object(n.i)(),J=Object(_.useCallback)(function(){var D=Object(E.a)(a.a.mark(function i(r){var R,W;return a.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return L(!0),R=h.default.loading(Object(t.jsx)(n.a,{id:"loading",defaultMessage:"loading"})),f.prev=2,f.next=5,Object(d.e)(r);case 5:return R(),h.default.success(Object(t.jsx)(n.a,{id:"success",defaultMessage:"success"})),L(!1),(W=I.current)===null||W===void 0||W.reload(),f.abrupt("return",!0);case 12:return f.prev=12,f.t0=f.catch(2),R(),h.default.error(Object(t.jsx)(n.a,{id:"error",defaultMessage:"error"})),L(!1),f.abrupt("return",!1);case 18:case"end":return f.stop()}},i,null,[[2,12]])}));return function(i){return D.apply(this,arguments)}}(),[I]),N=[{title:Object(t.jsx)(n.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",sorter:!1,search:!1},{title:Object(t.jsx)(n.a,{id:"newH5P",defaultMessage:"newH5P"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(y.a,{onSuccess:function(){I.current&&I.current.reload(),h.default.success(Object(t.jsx)(n.a,{id:"H5P_uploaded",defaultMessage:"new H5P uploaded successfully"}))},onError:function(){return h.default.error(Object(t.jsx)(n.a,{id:"error",defaultMessage:"error"}))}})]}},{title:Object(t.jsx)(n.a,{id:"title",defaultMessage:"title"}),dataIndex:"title",sorter:function(i,r){return i.title.length-r.title.length},render:function(i,r){return r.title}},{title:Object(t.jsx)(n.a,{id:"library",defaultMessage:"library"}),dataIndex:"library",sorter:function(i,r){return i.library.title.length-r.library.title.length},search:!1,render:function(i,r){return r.library.title}},{title:Object(t.jsx)(n.a,{id:"library_id",defaultMessage:"library_id"}),dataIndex:"library_id",sorter:function(i,r){return i.library.id-r.library.id},render:function(i,r){return r.library.id}},{title:Object(t.jsx)(n.a,{id:"count_h5p",defaultMessage:"count_h5p"}),dataIndex:"count_h5p",sorter:function(i,r){return i.count_h5p-r.count_h5p},search:!1,render:function(i,r){return r.count_h5p}},{title:Object(t.jsx)(n.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",render:function(i,r){return[Object(t.jsx)(l.a,{to:"/h5ps/".concat(r.id),children:Object(t.jsx)(s.a,{title:Object(t.jsx)(n.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(p.a,{type:"primary",icon:Object(t.jsx)(v.a,{})})})}),Object(t.jsx)(M.a,{disabled:r.count_h5p!==0,title:Object(t.jsx)(n.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return r.id&&J(r.id)},okText:Object(t.jsx)(n.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(n.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(s.a,{title:Object(t.jsx)(n.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(p.a,{disabled:r.count_h5p!==0,type:"primary",icon:Object(t.jsx)(U.a,{}),danger:!0})})}),Object(t.jsx)(l.a,{to:"/h5ps/preview/".concat(r.id),children:Object(t.jsx)(s.a,{title:Object(t.jsx)(n.a,{id:"preview",defaultMessage:"preview"}),children:Object(t.jsx)(p.a,{icon:Object(t.jsx)(B.a,{})})})}),Object(t.jsx)("a",{href:"".concat("https://api-stage.escolalms.com","/api/admin/hh5p/content/").concat(r.id,"/export"),download:!0,children:Object(t.jsx)(s.a,{title:Object(t.jsx)(n.a,{id:"export",defaultMessage:"export"}),children:Object(t.jsx)(p.a,{icon:Object(t.jsx)(C.a,{})})})})]}}];return Object(t.jsx)(u.a,{children:Object(t.jsx)(o.a,{loading:z,headerTitle:V.formatMessage({id:"H5Ps",defaultMessage:"H5Ps List"}),actionRef:I,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[Object(t.jsx)(l.a,{to:"/h5ps/new",children:Object(t.jsxs)(p.a,{type:"primary",children:[Object(t.jsx)(c.a,{})," ",Object(t.jsx)(n.a,{id:"new",defaultMessage:"new"})]},"primary")})]},request:function(i){var r=i.pageSize,R=i.current,W=i.title,G=i.library_id;return L(!0),Object(d.d)({title:W,library_id:G,pageSize:r,current:R}).then(function(f){return L(!1),f.success?{data:f.data,total:f.meta.total,success:!0}:[]})},columns:N})})};O.default=x},etVw:function(K,O,e){"use strict";var m=e("DZo9"),M=e("8z0m"),b=e("+L6B"),s=e("2/Rp"),j=e("wx14"),p=e("q1tI"),P=e.n(p),h=e("z7Xi"),E=e("WFLz"),A=function(a,c){var _=a.fieldProps,T=a.name,n=a.action,l=a.accept,u=a.listType,o=a.title,d=o===void 0?"\u5355\u51FB\u4E0A\u4F20":o,v=a.max,U=a.icon,B=U===void 0?P.a.createElement(h.a,null):U,C=a.value,y=a.buttonProps,t=a.onChange,$=a.disabled,x=a.proFieldProps,S=a.fileList,H=(v===void 0||!C||(C==null?void 0:C.length)<v)&&(x==null?void 0:x.mode)!=="read",F=(u!=null?u:_==null?void 0:_.listType)==="picture-card";return P.a.createElement(M.a,Object(j.a)({action:n,accept:l,ref:c,name:T||"file",listType:u||"picture",fileList:S!=null?S:C},_,{onChange:function(L){var I;t==null||t(L),_==null||(I=_.onChange)===null||I===void 0||I.call(_,L)}}),H&&(F?P.a.createElement("span",null,B," ",d):P.a.createElement(s.a,Object(j.a)({disabled:$||(_==null?void 0:_.disabled)},y),B,d)))};O.a=Object(E.a)(P.a.forwardRef(A),{getValueFromEvent:function(a){return a.fileList}})},nzng:function(K,O,e){"use strict";e.d(O,"d",function(){return p}),e.d(O,"c",function(){return h}),e.d(O,"b",function(){return A}),e.d(O,"e",function(){return a}),e.d(O,"a",function(){return _});var m=e("k1fw"),M=e("9og8"),b=e("WmNS"),s=e.n(b),j=e("9kvl");function p(n,l){return P.apply(this,arguments)}function P(){return P=Object(M.a)(s.a.mark(function n(l,u){return s.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(j.f)("/api/admin/hh5p/content",Object(m.a)({method:"GET",useCache:!1,params:Object(m.a)(Object(m.a)({},l),{},{per_page:l.pageSize,page:l.current})},u||{})));case 1:case"end":return d.stop()}},n)})),P.apply(this,arguments)}function h(n,l){return E.apply(this,arguments)}function E(){return E=Object(M.a)(s.a.mark(function n(l,u){return s.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(j.f)("/api/admin/hh5p/content/".concat(l),Object(m.a)({method:"GET",useCache:!1},u||{})));case 1:case"end":return d.stop()}},n)})),E.apply(this,arguments)}function A(n,l,u){return g.apply(this,arguments)}function g(){return g=Object(M.a)(s.a.mark(function n(l,u,o){return s.a.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",Object(j.f)(u?"/api/admin/hh5p/content/".concat(u):"/api/admin/hh5p/content",Object(m.a)({method:"POST",headers:{"Content-Type":"application/json"},data:l,useCache:!1},o||{})));case 1:case"end":return v.stop()}},n)})),g.apply(this,arguments)}function a(n){return c.apply(this,arguments)}function c(){return c=Object(M.a)(s.a.mark(function n(l){return s.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(j.f)("/api/admin/hh5p/content/".concat(l),{method:"DELETE"}));case 1:case"end":return o.stop()}},n)})),c.apply(this,arguments)}function _(n){return T.apply(this,arguments)}function T(){return T=Object(M.a)(s.a.mark(function n(l){return s.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(j.f)("/api/admin/hh5p/content?per_page=0",Object(m.a)({method:"GET",useCache:!1},l||{})));case 1:case"end":return o.stop()}},n)})),T.apply(this,arguments)}},qFDU:function(K,O,e){"use strict";var m=e("q1tI"),M=e.n(m);O.a=function(b){var s=b.condition,j=b.children,p=b.wrap;return s?M.a.cloneElement(p(j)):j}}}]);
