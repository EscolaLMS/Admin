(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"5tKr":function(K,c,e){"use strict";e.d(c,"b",function(){return O}),e.d(c,"a",function(){return l});var d=e("k1fw"),E=e("9og8"),D=e("WmNS"),o=e.n(D),i=e("9kvl");function O(t,r){return s.apply(this,arguments)}function s(){return s=Object(E.a)(o.a.mark(function t(r,a){return o.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(i.f)("/api/admin/scorm",Object(d.a)({params:Object(d.a)(Object(d.a)({},r),{},{per_page:r.pageSize,page:r.current}),method:"GET",useCache:!1},a||{})));case 1:case"end":return _.stop()}},t)})),s.apply(this,arguments)}function f(t,r){return M.apply(this,arguments)}function M(){return M=Object(E.a)(o.a.mark(function t(r,a){return o.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(i.f)("/api/admin/scorm/scos",Object(d.a)({params:Object(d.a)(Object(d.a)({},r),{},{per_page:r.pageSize,page:r.current}),method:"GET",useCache:!1},a||{})));case 1:case"end":return _.stop()}},t)})),M.apply(this,arguments)}function l(t,r){return u.apply(this,arguments)}function u(){return u=Object(E.a)(o.a.mark(function t(r,a){return o.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(i.f)("/api/admin/scorm/".concat(r),Object(d.a)({method:"DELETE"},a||{})));case 1:case"end":return _.stop()}},t)})),u.apply(this,arguments)}},"DBJ/":function(K,c,e){"use strict";var d=e("k1fw"),E=e("y8nQ"),D=e("Vl3Y"),o=e("etVw"),i=e("9kvl"),O=e("qFDU"),s=e("nKUr"),f=e.n(s);function M(l){var u=l.onChange,t=l.onUpload,r=l.url,a=l.name,I=l.extra,_=l.accept,C=l.data,h=l.wrapInForm,g=h===void 0?!0:h,A=l.title,L=l.formProps,n=Object(i.i)();return C&&C[a]&&delete C[a],Object(s.jsx)(O.a,{condition:g,wrap:function(m){return Object(s.jsx)(D.a,Object(d.a)(Object(d.a)({},L),{},{children:m}))},children:Object(s.jsx)(o.a,{title:A||Object(s.jsx)(i.a,{id:"upload_click_here"}),placeholder:n.formatMessage({id:"upload_click_here"}),onChange:function(m){u&&u(m),m.file.status==="done"&&t&&t(m.file.response)},label:Object(s.jsx)(i.a,{id:"upload"}),max:2,fieldProps:{data:C,accept:_,name:a,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(r),extra:I})})}c.a=M},"RY+t":function(K,c,e){"use strict";var d=e("DBJ/"),E=e("q1tI"),D=e.n(E),o=e("nKUr"),i=e.n(o),O=function(f){var M=f.onSuccess,l=f.onError;return Object(o.jsx)(d.a,{url:"/api/admin/scorm/upload",name:"zip",accept:"application/zip",onChange:function(t){if(t.file.response){var r=t.file.response.response;r.success?M(r.data.model):l(r)}}})};c.a=O},etVw:function(K,c,e){"use strict";var d=e("DZo9"),E=e("8z0m"),D=e("+L6B"),o=e("2/Rp"),i=e("wx14"),O=e("q1tI"),s=e.n(O),f=e("z7Xi"),M=e("WFLz"),l=function(t,r){var a=t.fieldProps,I=t.name,_=t.action,C=t.accept,h=t.listType,g=t.title,A=g===void 0?"\u5355\u51FB\u4E0A\u4F20":g,L=t.max,n=t.icon,W=n===void 0?s.a.createElement(f.a,null):n,m=t.value,S=t.buttonProps,R=t.onChange,v=t.disabled,T=t.proFieldProps,B=t.fileList,P=(L===void 0||!m||(m==null?void 0:m.length)<L)&&(T==null?void 0:T.mode)!=="read",U=(h!=null?h:a==null?void 0:a.listType)==="picture-card";return s.a.createElement(E.a,Object(i.a)({action:_,accept:C,ref:r,name:I||"file",listType:h||"picture",fileList:B!=null?B:m},a,{onChange:function(p){var j;R==null||R(p),a==null||(j=a.onChange)===null||j===void 0||j.call(a,p)}}),P&&(U?s.a.createElement("span",null,W," ",A):s.a.createElement(o.a,Object(i.a)({disabled:v||(a==null?void 0:a.disabled)},S),W,A)))};c.a=Object(M.a)(s.a.forwardRef(l),{getValueFromEvent:function(t){return t.fileList}})},qFDU:function(K,c,e){"use strict";var d=e("q1tI"),E=e.n(d);c.a=function(D){var o=D.condition,i=D.children,O=D.wrap;return o?E.a.cloneElement(O(i)):i}},"w76+":function(K,c,e){"use strict";e.r(c);var d=e("P2fV"),E=e("NJEC"),D=e("5Dmo"),o=e("3S7+"),i=e("+L6B"),O=e("2/Rp"),s=e("miYZ"),f=e("tsqr"),M=e("9og8"),l=e("WmNS"),u=e.n(l),t=e("q1tI"),r=e.n(t),a=e("9kvl"),I=e("55Ip"),_=e("tMyG"),C=e("Qiat"),h=e("Dx9A"),g=e("/MfK"),A=e("5tKr"),L=e("RY+t"),n=e("nKUr"),W=e.n(n),m=function(){var R=Object(M.a)(u.a.mark(function v(T){return u.a.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.next=2,Object(A.a)(T);case 2:return P.abrupt("return",!0);case 3:case"end":return P.stop()}},v)}));return function(T){return R.apply(this,arguments)}}(),S=function(){var v=Object(t.useRef)(),T=Object(a.i)(),B=[{title:Object(n.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(n.jsx)(a.a,{id:"version",defaultMessage:"version"}),dataIndex:"version",hideInSearch:!0},{title:Object(n.jsx)(a.a,{id:"newScorm",defaultMessage:"New Scorm"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(n.jsx)(L.a,{onSuccess:function(){v.current&&v.current.reload(),f.default.success(Object(n.jsx)(a.a,{id:"scorm_uploaded",defaultMessage:"scorm uploaded"}))},onError:function(b){return f.default.error(b)}})]}},{title:Object(n.jsx)(a.a,{id:"SCOS",defaultMessage:"Sharable Content Objects"}),dataIndex:"SCOS",hideInSearch:!0,render:function(U,b){return[b.scos.map(function(p){return Object(n.jsx)(I.a,{to:"/scorms/preview/".concat(p.uuid),children:Object(n.jsx)(o.a,{title:Object(n.jsx)(a.a,{id:"preview",defaultMessage:"preview"}),children:Object(n.jsx)(O.a,{size:"small",icon:Object(n.jsx)(h.a,{}),type:"primary",children:p.title})})},p.uuid)})]}},{hideInSearch:!0,title:Object(n.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(U,b){return[Object(n.jsx)(E.a,{title:Object(n.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(M.a)(u.a.mark(function p(){var j;return u.a.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,m(b.id);case 2:j=x.sent,j&&v.current&&v.current.reload();case 4:case"end":return x.stop()}},p)})),okText:Object(n.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(n.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(n.jsx)(o.a,{title:Object(n.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(n.jsx)(O.a,{type:"primary",icon:Object(n.jsx)(g.a,{}),danger:!0})})},"delete")]}}];return Object(n.jsx)(_.a,{children:Object(n.jsx)(C.a,{headerTitle:T.formatMessage({id:"scorms",defaultMessage:"scorms"}),actionRef:v,rowKey:"id",search:{labelWidth:120},request:function(U){var b=U.pageSize,p=U.current;return Object(A.b)({pageSize:b,current:p}).then(function(j){return j.success?{data:j.data.data,total:j.data.total,success:!0}:[]})},columns:B})})};c.default=S}}]);
