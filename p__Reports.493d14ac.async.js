(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{"Ecy+":function(L,d,e){"use strict";var m=e("fOrg"),M=e("+KLJ"),v=e("g9YV"),l=e("wCAj"),s=e("T2oS"),t=e("W9HT"),P=e("+L6B"),D=e("2/Rp"),i=e("k1fw"),T=e("tJVT"),o=e("q1tI"),N=e.n(o),U=e("I+Rq"),W=e("w/VK"),E=e("9kvl"),x=e("nhC9"),y=e("Mo4S"),h=e("8j+T"),X=e.n(h),a=e("nKUr"),Y=e.n(a),S=[{title:Object(a.jsx)(E.a,{id:"label",defaultMessage:"label"}),dataIndex:"label",key:"label"},{title:Object(a.jsx)(E.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",key:"value"}],V=function(O){var c=O.metric,R=O.header,C=R===void 0?!0:R,K=O.asDonut,F=K===void 0?!1:K,I=O.customLabelTitle,f=O.customLabelContent,J=Object(o.useState)({mode:"init"}),g=Object(T.a)(J,2),n=g[0],b=g[1],z=Object(E.j)(),B={appendPadding:10,angleField:"value",colorField:"label",radius:.9,label:{type:"inner",offset:"-30%",content:function(r){var u=r.percent;return u>=.01?"".concat((u*100).toFixed(0),"%"):""},style:{fontSize:14,textAlign:"center"}},interactions:[{type:"element-active"}],legend:{itemValue:{alignRight:!0,formatter:function(r,u){if(f&&"value"in n){var j=n.value.find(function(A){var p=A.label;return p===u.name});return j?f(j):r}return r}}}},G={appendPadding:20,innerRadius:.6,label:Object(i.a)(Object(i.a)({},B.label),{},{offset:"-50%"}),legend:{itemWidth:void 0,itemName:{formatter:function(r){return I?I(r):r}},offsetX:-24,itemValue:{formatter:function(r,u){if(f&&"value"in n){var j=n.value.find(function(A){var p=A.label;return p===u.value});return j?f(j):void 0}}}}},$=Object(i.a)(Object(i.a)({},B),F?G:{});Object(o.useEffect)(function(){b({mode:"loading"}),Object(W.a)({metric:c}).then(function(_){_.success?b({mode:"loaded",value:_.data}):b({mode:"error",error:_.message})}).catch(function(_){return b({mode:"error",error:_.toString()})})},[c]);var H=Object(o.useCallback)(function(){if(n.mode==="loaded"){var _={filename:c.split("\\").join("-"),fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!0,title:z.formatMessage({id:c.split("\\").pop()}),useTextFile:!1,useBom:!0,useKeysAsHeaders:!0},r=new h.ExportToCsv(_);r.generateCsv(n.value)}},[n]);return Object(a.jsxs)(x.a,{title:C&&Object(a.jsx)(E.a,{id:c.split("\\").pop(),defaultMessage:c.split("\\").pop()}),extra:C&&Object(a.jsxs)(D.a,{icon:Object(a.jsx)(y.a,{}),size:"small",onClick:function(){return H()},children:[" ",Object(a.jsx)(E.a,{id:"download"}),"\xA0","CSV"]}),headerBordered:!0,children:[n.mode==="loading"&&Object(a.jsx)(t.a,{}),n.mode==="loaded"&&Object(a.jsxs)("div",{children:[Object(a.jsx)(U.a,Object(i.a)(Object(i.a)({},$),{},{data:n.value})),C&&Object(a.jsx)(l.a,{pagination:!1,size:"small",dataSource:n.value,columns:S})]}),n.mode==="error"&&Object(a.jsx)(M.a,{message:n.error,type:"error"})]})};d.a=V},dgLD:function(L,d,e){"use strict";e.r(d);var m=e("q1tI"),M=e.n(m),v=e("tMyG"),l=e("Ecy+"),s=e("nhC9"),t=e("nKUr"),P=e.n(t);d.default=function(){return Object(t.jsxs)(v.a,{children:[Object(t.jsxs)(s.a,{split:"vertical",children:[Object(t.jsx)(s.a,{colSpan:12,layout:"center",children:Object(t.jsx)(l.a,{metric:"EscolaLms\\Reports\\Metrics\\CoursesMoneySpentMetric"})}),Object(t.jsx)(s.a,{colSpan:12,layout:"center",children:Object(t.jsx)(l.a,{metric:"EscolaLms\\Reports\\Metrics\\CoursesPopularityMetric"})})]}),Object(t.jsxs)(s.a,{split:"vertical",children:[Object(t.jsx)(s.a,{colSpan:12,layout:"center",children:Object(t.jsx)(l.a,{metric:"EscolaLms\\Reports\\Metrics\\CoursesSecondsSpentMetric"})}),Object(t.jsx)(s.a,{colSpan:12,layout:"center",children:Object(t.jsx)(l.a,{metric:"EscolaLms\\Reports\\Metrics\\TutorsPopularityMetric"})})]})]})}},"w/VK":function(L,d,e){"use strict";e.d(d,"a",function(){return s});var m=e("qLMh"),M=e("k1fw"),v=e("9og8"),l=e("9kvl");function s(P,D){return t.apply(this,arguments)}function t(){return t=Object(v.a)(Object(m.a)().mark(function P(D,i){return Object(m.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(l.g)("/api/admin/reports/report",Object(M.a)({params:D,method:"GET",useCache:!1},i||{})));case 1:case"end":return o.stop()}},P)})),t.apply(this,arguments)}}}]);
