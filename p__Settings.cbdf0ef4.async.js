(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"+up7":function(ae,h,e){"use strict";e.d(h,"f",function(){return y}),e.d(h,"d",function(){return a}),e.d(h,"b",function(){return p}),e.d(h,"h",function(){return c}),e.d(h,"c",function(){return D}),e.d(h,"e",function(){return m}),e.d(h,"a",function(){return C}),e.d(h,"g",function(){return N});var A=e("k1fw"),P=e("9og8"),I=e("WmNS"),r=e.n(I),f=e("9kvl");function y(l,u){return R.apply(this,arguments)}function R(){return R=Object(P.a)(r.a.mark(function l(u,x){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.f)("/api/admin/settings",Object(A.a)({method:"GET",useCache:!1,params:Object(A.a)(Object(A.a)({},u),{},{per_page:u.pageSize,page:u.current})},x||{})));case 1:case"end":return n.stop()}},l)})),R.apply(this,arguments)}function a(l,u){return U.apply(this,arguments)}function U(){return U=Object(P.a)(r.a.mark(function l(u,x){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.f)("/api/admin/settings/".concat(u),Object(A.a)({method:"GET",useCache:!1},x||{})));case 1:case"end":return n.stop()}},l)})),U.apply(this,arguments)}function p(l,u){return V.apply(this,arguments)}function V(){return V=Object(P.a)(r.a.mark(function l(u,x){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.f)("/api/admin/settings",Object(A.a)({method:"POST",headers:{"Content-Type":"application/json"},data:u},x||{})));case 1:case"end":return n.stop()}},l)})),V.apply(this,arguments)}function c(l,u,x){return J.apply(this,arguments)}function J(){return J=Object(P.a)(r.a.mark(function l(u,x,d){return r.a.wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.abrupt("return",Object(f.f)("/api/admin/settings/".concat(u),Object(A.a)({method:"PUT",headers:{"Content-Type":"application/json"},data:x},d||{})));case 1:case"end":return q.stop()}},l)})),J.apply(this,arguments)}function D(l,u){return M.apply(this,arguments)}function M(){return M=Object(P.a)(r.a.mark(function l(u,x){return r.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(f.f)("/api/admin/settings/".concat(u),Object(A.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},x||{})));case 1:case"end":return n.stop()}},l)})),M.apply(this,arguments)}function m(l){return W.apply(this,arguments)}function W(){return W=Object(P.a)(r.a.mark(function l(u){return r.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(f.f)("/api/admin/settings/groups",Object(A.a)({method:"GET",useCache:!1},u||{})));case 1:case"end":return d.stop()}},l)})),W.apply(this,arguments)}function C(l){return j.apply(this,arguments)}function j(){return j=Object(P.a)(r.a.mark(function l(u){return r.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(f.f)("/api/admin/config",Object(A.a)({method:"GET",useCache:!1},u||{})));case 1:case"end":return d.stop()}},l)})),j.apply(this,arguments)}function N(l,u){return $.apply(this,arguments)}function $(){return $=Object(P.a)(r.a.mark(function l(u,x){var d,n;return r.a.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return d=u.key,n=u.value,K.abrupt("return",Object(f.f)("/api/admin/config",Object(A.a)({method:"POST",data:{config:[{key:d,value:n}]}},x||{})));case 2:case"end":return K.stop()}},l)})),$.apply(this,arguments)}},"3fxf":function(ae,h,e){"use strict";var A=e("DjyN"),P=e("NUBc"),I=e("Mwp2"),r=e("VXEj"),f=e("+L6B"),y=e("2/Rp"),R=e("5NDa"),a=e("5rEg"),U=e("oBTY"),p=e("k1fw"),V=e("tJVT"),c=e("DYRE"),J=e("zeV3"),D=e("tU7J"),M=e("wFql"),m=e("q1tI"),W=e.n(m),C=e("BAh9"),j=e("/MfK"),N=e("mAF4"),$=e("dF/Y"),l=e("9kvl"),u=e("DBJ/"),x=e("lLVY"),d=e.n(x),n=e("nKUr"),q=e.n(n),K=function(ie){var w=ie.directory,ne=ie.onUploaded;return Object(n.jsxs)(J.b,{align:"start",children:[Object(n.jsxs)(M.a.Text,{children:[Object(n.jsx)(l.a,{id:"pages.files.filesBrowser"}),Object(n.jsx)(M.a.Text,{code:!0,children:w})]}),Object(n.jsx)(u.a,{url:"/api/admin/file/upload",name:"file[]",data:{target:w},onChange:function(le){return le.file.status==="done"&&ne(w,le.file)}})]})},ce=function(ie){var w=ie.defaultDirectory,ne=w===void 0?"/":w,X=ie.onFile,le=Object(l.i)(),Ee=Object(m.useState)({loading:!1,name:"",directory:ne,current_page:1,data:void 0,per_page:1,last_page:1,total:0}),me=Object(V.a)(Ee,2),G=me[0],je=me[1],se=Object(m.useRef)(),ee=Object(m.useCallback)(function(S){je(function(v){return Object(p.a)(Object(p.a)({},v),{},{loading:S})})},[]),he=Object(m.useCallback)(function(S,v){je(function(z){return Object(p.a)(Object(p.a)(Object(p.a)({},z),S.data),{},{data:[{url:v.split("/").slice(0,-1).join("/"),name:"..",created_at:"",mime:"directory"}].concat(Object(U.a)(S.data.data.map(function(k){return Object(p.a)(Object(p.a)({},k),{},{url:k.mime==="directory"?"".concat(v,"/").concat(k.name):k.url})}))).filter(function(k){return v==="/"?k.name!=="..":!0}),directory:v,loading:!1})})},[ee]),te=Object(m.useCallback)(function(S){var v,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,k=function(){return se.current&&se.current.abort()};return k(),se.current=new AbortController,ee(!0),Object(C.a)({directory:S,page:z},{signal:(v=se.current)===null||v===void 0?void 0:v.signal}).then(function(ue){ue.success&&he(ue,S)}).catch(function(){return ee(!1)}),function(){k()}},[ee]);Object(m.useEffect)(function(){return te(ne)},[ne,te]);var pe=Object(m.useCallback)(function(S){ee(!0),Object(C.c)(S).then(function(){te(G.directory)}).catch(function(){ee(!1)})},[te,ee,G.directory]),ge=Object(m.useCallback)(function(S,v){var z,k=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,ue=function(){return se.current&&se.current.abort()};return ue(),se.current=new AbortController,ee(!0),Object(C.b)({directory:S,name:v,page:k},{signal:(z=se.current)===null||z===void 0?void 0:z.signal}).then(function(Oe){Oe.success&&he(Oe,S)}).catch(function(){return ee(!1)}),function(){ue()}},[ee]);return Object(n.jsxs)("div",{className:"file-browser",children:[Object(n.jsxs)("div",{className:"file-browser__header",children:[Object(n.jsx)(a.a,{placeholder:le.formatMessage({id:"search_file"}),className:"file-browser__input",onChange:function(v){return je(function(z){return Object(p.a)(Object(p.a)({},z),{},{name:v.target.value})})},value:G.name}),Object(n.jsxs)("div",{children:[Object(n.jsx)(y.a,{className:"file-browser__button",onClick:function(){return te(G.directory)},children:Object(n.jsx)(l.a,{id:"reset"})}),Object(n.jsx)(y.a,{className:"file-browser__button",type:"primary",onClick:function(){return ge(G.directory,G.name)},children:Object(n.jsx)(l.a,{id:"query"})})]})]}),Object(n.jsx)(r.b,{loading:G.loading,size:"small",itemLayout:"horizontal",dataSource:G.data,header:Object(n.jsx)(K,{directory:G.directory,onUploaded:function(v,z){return te(v)&&X&&X(z,v)}}),footer:Object(n.jsx)(K,{directory:G.directory,onUploaded:function(v){return te(v)&&X&&X(name,v)}}),renderItem:function(v){return Object(n.jsx)(r.b.Item,{actions:v.mime!=="directory"?[Object(n.jsx)(y.a,{type:"default",danger:!0,icon:Object(n.jsx)(j.a,{}),size:"small",onClick:function(){return pe(v.url)}})]:[],children:Object(n.jsx)(r.b.Item.Meta,{avatar:v.mime==="directory"?Object(n.jsx)(y.a,{type:"primary",icon:Object(n.jsx)(N.a,{}),size:"small",onClick:function(){return te(v.url)}}):Object(n.jsx)("a",{href:v.url,target:"_blank",rel:"noreferrer",children:Object(n.jsx)(y.a,{type:"default",icon:Object(n.jsx)($.a,{}),size:"small"})}),description:Object(n.jsx)(W.a.Fragment,{children:Object(n.jsx)(y.a,{type:"text",size:"small",onClick:function(){return v.mime==="directory"?te(v.url):X&&X(v,G.directory)},children:v.name})})})})}}),Object(n.jsx)(P.a,{pageSizeOptions:[],current:G.current_page,total:G.total,pageSize:G.per_page,onChange:function(v){return te(G.directory,v)}})]})};h.a=ce},BAh9:function(ae,h,e){"use strict";e.d(h,"a",function(){return y}),e.d(h,"b",function(){return a}),e.d(h,"e",function(){return p}),e.d(h,"d",function(){return c}),e.d(h,"c",function(){return J});var A=e("k1fw"),P=e("9og8"),I=e("WmNS"),r=e.n(I),f=e("9kvl");function y(M,m){return R.apply(this,arguments)}function R(){return R=Object(P.a)(r.a.mark(function M(m,W){return r.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(f.f)("/api/admin/file/list",Object(A.a)({method:"GET",params:m},W||{})));case 1:case"end":return j.stop()}},M)})),R.apply(this,arguments)}function a(M,m){return U.apply(this,arguments)}function U(){return U=Object(P.a)(r.a.mark(function M(m,W){return r.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(f.f)("/api/admin/file/find",Object(A.a)({method:"GET",params:m},W||{})));case 1:case"end":return j.stop()}},M)})),U.apply(this,arguments)}function p(M,m,W){return V.apply(this,arguments)}function V(){return V=Object(P.a)(r.a.mark(function M(m,W,C){var j;return r.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return j=new FormData,j.append("file[]",m),j.append("target",W),$.abrupt("return",Object(f.f)("/api/admin/file/upload",Object(A.a)({method:"POST",data:j},C||{})));case 4:case"end":return $.stop()}},M)})),V.apply(this,arguments)}var c=function(m){var W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat("https://api-stage.escolalms.com","/api/images/img?path=").concat(m,"&w=").concat(W)};function J(M,m){return D.apply(this,arguments)}function D(){return D=Object(P.a)(r.a.mark(function M(m,W){return r.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(f.f)("/api/admin/file/delete",Object(A.a)({method:"DELETE",data:{url:m}},W||{})));case 1:case"end":return j.stop()}},M)})),D.apply(this,arguments)}},BiO0:function(ae,h,e){"use strict";var A=e("wx14"),P=e("Ff2n"),I=e("q1tI"),r=e.n(I),f=e("adzw"),y=["fieldProps","proFieldProps"],R=function(U,p){var V=U.fieldProps,c=U.proFieldProps,J=Object(P.a)(U,y);return r.a.createElement(f.a,Object(A.a)({ref:p,mode:"edit",valueType:"textarea",fieldProps:V,proFieldProps:c},J))};h.a=r.a.forwardRef(R)},"DBJ/":function(ae,h,e){"use strict";var A=e("y8nQ"),P=e("Vl3Y"),I=e("etVw"),r=e("q1tI"),f=e.n(r),y=e("9kvl"),R=e("qFDU"),a=e("nKUr"),U=e.n(a),p=function(c){var J=c.onChange,D=c.url,M=c.name,m=c.extra,W=c.accept,C=c.data,j=c.wrapInForm,N=j===void 0?!0:j,$=c.title,l=Object(y.i)();return C&&C[M]&&delete C[M],Object(a.jsx)(R.a,{condition:N,wrap:function(x){return Object(a.jsx)(P.a,{children:x})},children:Object(a.jsx)(I.a,{title:$||Object(a.jsx)(y.a,{id:"upload_click_here"}),placeholder:l.formatMessage({id:"upload_click_here"}),onChange:J,label:Object(a.jsx)(y.a,{id:"upload"}),max:2,fieldProps:{data:C,accept:W,name:M,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(D),extra:m})})};h.a=p},"F/zT":function(ae,h,e){"use strict";var A=e("wx14"),P=e("VTBJ"),I=e("Ff2n"),r=e("q1tI"),f=e.n(r),y=e("adzw"),R=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],a=f.a.forwardRef(function(U,p){var V=U.fieldProps,c=U.unCheckedChildren,J=U.checkedChildren,D=U.proFieldProps,M=Object(I.a)(U,R);return f.a.createElement(y.a,Object(A.a)({valueType:"switch",mode:"edit",fieldProps:Object(P.a)({unCheckedChildren:c,checkedChildren:J},V),ref:p,valuePropName:"checked",proFieldProps:D,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},M))});h.a=a},YjuE:function(ae,h,e){"use strict";e.r(h);var A=e("T2oS"),P=e("W9HT"),I=e("tJVT"),r=e("q1tI"),f=e.n(r),y=e("nhC9"),R=e("Ty5D"),a=e("9kvl"),U=e("tMyG"),p=e("+up7"),V=e("P2fV"),c=e("NJEC"),J=e("5Dmo"),D=e("3S7+"),M=e("+L6B"),m=e("2/Rp"),W=e("+BJd"),C=e("mr32"),j=e("jrin"),N=e("k1fw"),$=e("miYZ"),l=e("tsqr"),u=e("9og8"),x=e("WmNS"),d=e.n(x),n=e("xvlK"),q=e("Qiat"),K=e("y8nQ"),ce=e("Vl3Y"),ve=e("5NDa"),ie=e("5rEg"),w=e("VMEa"),ne=e("rmhi"),X=e("Qurx"),le=e("F/zT"),Ee=e("7Kak"),me=e("9yH6"),G=e("wx14"),je=e("VTBJ"),se=e("Ff2n"),ee=e("adzw"),he=e("uX+g"),te=e("WFLz"),pe=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],ge=f.a.forwardRef(function(g,s){var i=g.fieldProps,O=g.options,_=g.radioType,L=g.layout,o=g.proFieldProps,F=g.valueEnum,Y=Object(se.a)(g,pe);return f.a.createElement(ee.a,Object(G.a)({mode:"edit",valueType:_==="button"?"radioButton":"radio",ref:s,valueEnum:Object(he.a)(F,void 0)},Y,{fieldProps:Object(je.a)({options:O,layout:L},i),proFieldProps:o,filedConfig:{customLightMode:!0}}))}),S=f.a.forwardRef(function(g,s){var i=g.fieldProps,O=g.children;return f.a.createElement(me.a,Object(G.a)({},i,{ref:s}),O)}),v=Object(te.a)(S,{valuePropName:"checked",ignoreWidth:!0}),z=v;z.Group=ge,z.Button=me.a.Button,z.displayName="ProFormComponent";var k=z,ue=e("BiO0"),Oe=e("hd5d"),Pe=e("3fxf"),Me=e("ovOe"),be=e.n(Me),t=e("nKUr"),ye=function(s){var i=s.value,O=s.onChange,_=s.type,L=_===void 0?"file":_,o=Object(r.useState)(!1),F=Object(I.a)(o,2),Y=F[0],b=F[1];return Object(t.jsxs)(f.a.Fragment,{children:[Object(t.jsxs)(w.a.Group,{children:[Object(t.jsx)(ie.a,{value:i,readOnly:!0}),Object(t.jsxs)(m.a,{size:"small",type:"primary",onClick:function(){return b(!Y)},children:["toggle ",L," browser"]})]}),Y&&Object(t.jsx)(Pe.a,{onFile:function(H,B){return O&&O("".concat(B,"/").concat(H.name))}})]})},De=function(s){var i=Object(a.i)(),O=s.visible,_=s.onVisibleChange,L=s.onFinish,o=s.id,F=ce.a.useForm(),Y=Object(I.a)(F,1),b=Y[0],Q=!o||o===-1,H=Object(r.useState)("text"),B=Object(I.a)(H,2),E=B[0],T=B[1];Object(r.useEffect)(function(){o&&o!==-1?Object(p.d)(o).then(function(Z){Z.success&&(b.setFieldsValue(Z.data),T(Z.data.type))}):(b.resetFields(),T("text"))},[o,b]);var oe=Object(r.useCallback)(function(Z){Z.type&&Z.type!==E&&T(Z.type)},[E]);return Object(t.jsxs)(ne.a,{form:b,title:i.formatMessage({id:o?"editSetting":"newSetting",defaultMessage:o?"editSetting":"newSetting"}),width:"60vw",visible:O,onVisibleChange:_,onFinish:L,onValuesChange:oe,children:[Object(t.jsxs)(w.a.Group,{children:[Object(t.jsx)(X.a,{label:Object(t.jsx)(a.a,{id:"group",defaultMessage:"group"}),rules:[{required:!0}],width:"md",name:"group"})," ",Object(t.jsx)(X.a,{label:Object(t.jsx)(a.a,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key"})]}),Object(t.jsxs)(w.a.Group,{children:[Object(t.jsx)(le.a,{name:"enumerable",label:Object(t.jsx)(a.a,{id:"enumerable",defaultMessage:"enumerable"})}),Object(t.jsx)(le.a,{name:"public",label:Object(t.jsx)(a.a,{id:"public",defaultMessage:"public"})})]}),Object(t.jsx)(w.a.Group,{children:Object(t.jsx)(k.Group,{disabled:!Q,name:"type",label:Object(t.jsx)(a.a,{id:"type"}),options:[{label:"text",value:"text"},{label:"markdown",value:"markdown"},{label:"json",value:"json"},{label:"file",value:"file"},{label:"image",value:"image"}]})}),Object(t.jsxs)("div",{children:[E==="text"&&Object(t.jsx)(X.a,{width:"lg",name:"value",label:Object(t.jsx)(a.a,{id:"value"})}),E==="json"&&Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(ue.a,{width:"lg",name:"value",label:Object(t.jsx)(a.a,{id:"value"}),tooltip:"".concat(i.formatMessage({id:"example_json"}),': {"name":"John", "age":30, "city":["New York","Warsaw"]}')}),Object(t.jsx)(w.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(t.jsx)(be.a,{src:JSON.parse(b.getFieldValue("value"))})}catch(re){return Object(t.jsx)(be.a,{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]}),(E==="file"||E==="image")&&Object(t.jsx)(w.a.Item,{name:"value",label:"value",tooltip:"select file from current repository or upload new one",valuePropName:"value",children:Object(t.jsx)(ye,{type:E})}),E==="markdown"&&Object(t.jsx)(w.a.Item,{name:"value",label:"value",tooltip:"The editor is WYSIWYG and includes formatting tools whilst retaining the ability to write markdown shortcuts inline and output plain Markdown.",valuePropName:"value",children:Object(t.jsx)(Oe.a,{directory:"settings/wysiwyg"})})]})]})},Ce=De,_e=e("G3dp"),xe=e("/MfK"),Te=function(){var g=Object(u.a)(d.a.mark(function s(i,O,_){var L;return d.a.wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return L=l.default.loading(i.formatMessage({id:"loading"})),F.prev=1,F.next=4,_&&_!==-1?Object(p.h)(_,Object(N.a)({},O)):Object(p.b)(Object(N.a)({},O));case 4:return L(),l.default.success(i.formatMessage({id:"success"})),F.abrupt("return",!0);case 9:return F.prev=9,F.t0=F.catch(1),L(),l.default.error(i.formatMessage({id:"error"})),F.abrupt("return",!1);case 14:case"end":return F.stop()}},s,null,[[1,9]])}));return function(i,O,_){return g.apply(this,arguments)}}(),Ae=function(){var g=Object(u.a)(d.a.mark(function s(i,O){var _;return d.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return _=l.default.loading(i.formatMessage({id:"loading"})),o.prev=1,o.next=4,Object(p.c)(O);case 4:return _(),l.default.success(i.formatMessage({id:"success"})),o.abrupt("return",!0);case 9:return o.prev=9,o.t0=o.catch(1),_(),l.default.error(i.formatMessage({id:"error"})),o.abrupt("return",!1);case 14:case"end":return o.stop()}},s,null,[[1,9]])}));return function(i,O){return g.apply(this,arguments)}}(),Ie=function(){var s=Object(r.useState)(!1),i=Object(I.a)(s,2),O=i[0],_=i[1],L=Object(r.useState)([]),o=Object(I.a)(L,2),F=o[0],Y=o[1],b=Object(r.useRef)(),Q=Object(a.i)();Object(r.useEffect)(function(){Object(p.e)().then(function(B){B.success&&Y(B.data)})},[]);var H=[{title:Object(t.jsx)(a.a,{id:"group",defaultMessage:"group"}),dataIndex:"group",hideInSearch:!1,key:"group",valueType:"select",width:100,valueEnum:F.sort().reduce(function(B,E){return Object(N.a)(Object(N.a)({},B),{},Object(j.a)({},E,E))},{})},{title:Object(t.jsx)(a.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"enumerable",defaultMessage:"enumerable"}),dataIndex:"enumerable",hideInForm:!0,hideInSearch:!0,render:function(E,T){return Object(t.jsx)(C.a,{color:T.enumerable?"success":"error",children:Object(t.jsx)(a.a,{id:T.enumerable?"true":"false",defaultMessage:T.enumerable?"true":"false"})})}},{title:Object(t.jsx)(a.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(E,T){return Object(t.jsx)(C.a,{color:T.public?"success":"error",children:Object(t.jsx)(a.a,{id:T.public?"true":"false",defaultMessage:T.public?"true":"false"})})}},{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(E,T){return[Object(t.jsx)(D.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(m.a,{type:"primary",icon:Object(t.jsx)(_e.a,{}),onClick:function(){return _(T.id)}})},"edit"),Object(t.jsx)(c.a,{title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(u.a)(d.a.mark(function oe(){var Z;return d.a.wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return fe.next=2,Ae(Q,T.id);case 2:Z=fe.sent,Z&&(_(!1),b.current&&b.current.reload());case 4:case"end":return fe.stop()}},oe)})),okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(D.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(m.a,{type:"primary",icon:Object(t.jsx)(xe.a,{}),danger:!0})})},"delete")]}}];return Object(t.jsxs)(f.a.Fragment,{children:[Object(t.jsx)(q.a,{headerTitle:Q.formatMessage({id:"menu.settings"}),actionRef:b,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[Object(t.jsxs)(m.a,{type:"primary",onClick:function(){_(-1)},children:[Object(t.jsx)(n.a,{})," ",Object(t.jsx)(a.a,{id:"pages.searchTable.new"})]},"primary")]},request:function(E){var T=E.pageSize,oe=E.current,Z=E.group;return Object(p.f)({pageSize:T,current:oe,group:Z}).then(function(re){return re.success?{data:re.data,total:re.meta.total,success:!0}:[]})},columns:H}),Object(t.jsx)(Ce,{groups:F,id:O,visible:Number.isInteger(O),onVisibleChange:function(E){return E===!1&&_(!1)},onFinish:function(){var B=Object(u.a)(d.a.mark(function E(T){var oe;return d.a.wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,Te(Q,T,Number(O));case 2:oe=re.sent,oe&&(_(!1),b.current&&b.current.reload());case 4:case"end":return re.stop()}},E)}));return function(E){return B.apply(this,arguments)}}()})]})},Fe=Ie,Ge=e("tU7J"),Be=e("wFql"),Ue=e("Fghh"),Re=Be.a.Text,de;(function(g){g.Array="array",g.String="string"})(de||(de={}));var We=function(s,i){return i===de.Array?s&&Array.isArray(s)?JSON.stringify(s):"[]":s},Le=function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",i=arguments.length>1?arguments[1]:void 0;if(i===de.Array){var O=JSON.parse(s);return O&&Array.isArray(O)?O:[]}return s},Se=function(s){var i=Object(Ue.j)(),O=s.visible,_=s.onVisibleChange,L=s.onFinish,o=s.value,F=ce.a.useForm(),Y=Object(I.a)(F,1),b=Y[0],Q=Object(r.useMemo)(function(){return(o.rules||[]).includes(de.Array)?de.Array:de.String},[o.rules]);return Object(r.useEffect)(function(){b.setFieldsValue(Object(N.a)(Object(N.a)({},o),{},{value:We(o.value,Q)}))},[Q,o,b]),Object(t.jsxs)(ne.a,{form:b,title:o.full_key,width:"60vw",visible:O,onVisibleChange:_,onFinish:Object(u.a)(d.a.mark(function H(){var B;return d.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,Object(p.g)({key:o.full_key,value:Le(b.getFieldsValue().value,Q)});case 2:if(B=T.sent,!B.success){T.next=6;break}return L(B.success===!0),T.abrupt("return",B.success);case 6:return T.abrupt("return");case 7:case"end":return T.stop()}},H)})),children:[Object(t.jsxs)(w.a.Group,{children:[Object(t.jsx)(le.a,{disabled:!0,name:"public",label:Object(t.jsx)(a.a,{id:"public",defaultMessage:"public"})}),Object(t.jsx)(le.a,{disabled:!0,name:"readonly",label:Object(t.jsx)(a.a,{id:"readonly",defaultMessage:"readonly"})}),Object(t.jsx)(w.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"rules",defaultMessage:"rules"}),children:function(){return Object(t.jsx)(Re,{code:!0,children:JSON.stringify(b.getFieldValue("rules"))})}})]}),Q===de.Array?Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(ue.a,{width:"lg",name:"value",label:Object(t.jsx)(a.a,{id:"value"}),tooltip:"".concat(i.formatMessage({id:"example_json"}),': ["first_field_name", "second_field_name"]')}),Object(t.jsx)(w.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(t.jsx)(be.a,{src:JSON.parse(b.getFieldValue("value"))})}catch(B){return Object(t.jsx)(be.a,{src:JSON.parse('{ "error": "cannot parse this array" }')})}}})]}):Object(t.jsx)(X.a,{width:"lg",name:"value",label:Object(t.jsx)(a.a,{id:"value"})})]})},Ke=Se,Ve=[{title:Object(t.jsx)(a.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"readonly",defaultMessage:"readonly"}),dataIndex:"readonly",hideInForm:!0,hideInSearch:!0,render:function(s,i){return Object(t.jsx)(C.a,{color:i.readonly?"success":"error",children:Object(t.jsx)(a.a,{id:i.readonly?"true":"false",defaultMessage:i.readonly?"true":"false"})})}},{title:Object(t.jsx)(a.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(s,i){return Object(t.jsx)(C.a,{color:i.public?"success":"error",children:Object(t.jsx)(a.a,{id:i.public?"true":"false",defaultMessage:i.public?"true":"false"})})}},{title:Object(t.jsx)(a.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0}],Ne=function g(s,i){var O=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return!s||typeof s!="object"?!1:(Object.keys(s).forEach(function(_){var L=s[_];_===i?O.push(s):typeof L=="object"&&g(L,i,O)}),O)},$e=function(s){var i=s.packageName,O=s.values,_=s.onValueUpdated,L=Object(a.i)(),o=Object(r.useState)(),F=Object(I.a)(o,2),Y=F[0],b=F[1],Q=Object(r.useMemo)(function(){var H=O[i];return Ne(H,"rules")},[O,i]);return Object(t.jsxs)(f.a.Fragment,{children:[Object(t.jsx)(q.a,{headerTitle:L.formatMessage({id:"menu.settings"}),rowKey:"key",search:{labelWidth:120},dataSource:Q,columns:[].concat(Ve,[{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(B,E){return[Object(t.jsx)(D.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(m.a,{type:"primary",icon:Object(t.jsx)(_e.a,{}),onClick:function(){return b(E)}})},"edit")]}}])}),Y&&Object(t.jsx)(Ke,{value:Y,visible:Y!==void 0,onVisibleChange:function(B){return B===!1&&b(void 0)},onFinish:Object(u.a)(d.a.mark(function H(){return d.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:_();case 1:case"end":return E.stop()}},H)}))})]})},ze=$e,we=function(s){return s.replaceAll("escolalms","").split("_").join("")},Je=h.default=function(){var g=Object(R.g)(),s=Object(a.i)(),i=g.tab,O=i===void 0?"user_settings":i,_=Object(r.useState)(),L=Object(I.a)(_,2),o=L[0],F=L[1],Y=Object(r.useCallback)(function(){Object(p.a)().then(function(b){b.success&&F(b.data)})},[]);return Object(r.useEffect)(function(){Y()},[]),o?Object(t.jsx)(U.a,{title:Object(t.jsx)(a.a,{id:"settings"}),header:{breadcrumb:{routes:[{path:"settings",breadcrumbName:s.formatMessage({id:"menu.Settings"})},{path:String(O),breadcrumbName:String(O)}]}},children:Object(t.jsxs)(y.a,{tabs:{type:"card",activeKey:O,onChange:function(Q){return a.d.push("/settings/".concat(Q))}},children:[Object(t.jsx)(y.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"user.settings"}),children:Object(t.jsx)(Fe,{})},"user_settings"),Object.keys(o).map(function(b){return Object(t.jsxs)(y.a.TabPane,{tab:Object(t.jsxs)("span",{children:[Object(t.jsx)(a.a,{id:"package"})," ",we(b)]}),children:[Object(t.jsx)(ze,{values:o,packageName:b,onValueUpdated:function(){return Y()}}),b]},b)})]})}):Object(t.jsx)(P.a,{})}},etVw:function(ae,h,e){"use strict";var A=e("DZo9"),P=e("8z0m"),I=e("+L6B"),r=e("2/Rp"),f=e("wx14"),y=e("q1tI"),R=e.n(y),a=e("z7Xi"),U=e("WFLz"),p=function(c,J){var D=c.fieldProps,M=c.name,m=c.action,W=c.accept,C=c.listType,j=c.title,N=j===void 0?"\u5355\u51FB\u4E0A\u4F20":j,$=c.max,l=c.icon,u=l===void 0?R.a.createElement(a.a,null):l,x=c.value,d=c.buttonProps,n=c.onChange,q=c.disabled,K=c.proFieldProps,ce=c.fileList,ve=($===void 0||!x||(x==null?void 0:x.length)<$)&&(K==null?void 0:K.mode)!=="read",ie=(C!=null?C:D==null?void 0:D.listType)==="picture-card";return R.a.createElement(P.a,Object(f.a)({action:m,accept:W,ref:J,name:M||"file",listType:C||"picture",fileList:ce!=null?ce:x},D,{onChange:function(ne){var X;n==null||n(ne),D==null||(X=D.onChange)===null||X===void 0||X.call(D,ne)}}),ve&&(ie?R.a.createElement("span",null,u," ",N):R.a.createElement(r.a,Object(f.a)({disabled:q||(D==null?void 0:D.disabled)},d),u,N)))};h.a=Object(U.a)(R.a.forwardRef(p),{getValueFromEvent:function(c){return c.fileList}})},hd5d:function(ae,h,e){"use strict";var A=e("9og8"),P=e("WmNS"),I=e.n(P),r=e("q1tI"),f=e.n(r),y=e("3Ef1"),R=e.n(y),a=e("BAh9"),U=e("vtG9"),p=e.n(U),V=e("9kvl"),c=e("nKUr"),J=e.n(c),D=function(m){var W=m.value,C=m.onChange,j=m.directory,N=j===void 0?"/wysiwyg":j,$=Object(V.i)();return Object(c.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(c.jsx)(R.a,{uploadImage:function(){var l=Object(A.a)(I.a.mark(function u(x){var d,n;return I.a.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,Object(a.e)(x,N);case 2:if(d=K.sent,!d.success){K.next=6;break}return n=d.data[0].name.includes("/")?d.data[0].name:"".concat(N).concat(d.data[0].name),K.abrupt("return",Object(a.d)(n,1e3));case 6:throw new Error("Error while uploading");case 7:case"end":return K.stop()}},u)}));return function(u){return l.apply(this,arguments)}}(),defaultValue:W||"",onChange:function(u){return C&&C(u())},placeholder:$.formatMessage({id:"wysiwyg_placeholder"})})})};h.a=D},lLVY:function(ae,h,e){},qFDU:function(ae,h,e){"use strict";var A=e("q1tI"),P=e.n(A);h.a=function(I){var r=I.condition,f=I.children,y=I.wrap;return r?P.a.cloneElement(y(f)):f}},vtG9:function(ae,h,e){}}]);
