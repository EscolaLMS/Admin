"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4512],{5966:function(X,T,r){var j=r(97685),t=r(1413),L=r(45987),d=r(21770),R=r(75842),m=r(55241),c=r(97435),I=r(67294),i=r(41550),P=r(85893),A=["fieldProps","proFieldProps"],g=["fieldProps","proFieldProps"],M="text",C=function(e){var _=e.fieldProps,b=e.proFieldProps,U=(0,L.Z)(e,A);return(0,P.jsx)(i.Z,(0,t.Z)({valueType:M,fieldProps:_,filedConfig:{valueType:M},proFieldProps:b},U))},h=function(e){var _=(0,d.Z)(e.open||!1,{value:e.open,onChange:e.onOpenChange}),b=(0,j.Z)(_,2),U=b[0],w=b[1];return(0,P.jsx)(R.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(x){var D,y=x.getFieldValue(e.name||[]);return(0,P.jsx)(m.Z,(0,t.Z)((0,t.Z)({getPopupContainer:function(v){return v&&v.parentNode?v.parentNode:v},onOpenChange:w,content:(0,P.jsxs)("div",{style:{padding:"4px 0"},children:[(D=e.statusRender)===null||D===void 0?void 0:D.call(e,y),e.strengthText?(0,P.jsx)("div",{style:{marginTop:10},children:(0,P.jsx)("span",{children:e.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},e.popoverProps),{},{open:U,children:e.children}))}})},l=function(e){var _=e.fieldProps,b=e.proFieldProps,U=(0,L.Z)(e,g),w=(0,I.useState)(!1),K=(0,j.Z)(w,2),x=K[0],D=K[1];return _!=null&&_.statusRender&&U.name?(0,P.jsx)(h,{name:U.name,statusRender:_==null?void 0:_.statusRender,popoverProps:_==null?void 0:_.popoverProps,strengthText:_==null?void 0:_.strengthText,open:x,onOpenChange:D,children:(0,P.jsx)("div",{children:(0,P.jsx)(i.Z,(0,t.Z)({valueType:"password",fieldProps:(0,t.Z)((0,t.Z)({},(0,c.Z)(_,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(S){var v;_==null||(v=_.onBlur)===null||v===void 0||v.call(_,S),D(!1)},onClick:function(S){var v;_==null||(v=_.onClick)===null||v===void 0||v.call(_,S),D(!0)}}),proFieldProps:b,filedConfig:{valueType:M}},U))})}):(0,P.jsx)(i.Z,(0,t.Z)({valueType:"password",fieldProps:_,proFieldProps:b,filedConfig:{valueType:M}},U))},u=C;u.Password=l,u.displayName="ProFormComponent",T.Z=u},90672:function(X,T,r){var j=r(1413),t=r(45987),L=r(67294),d=r(41550),R=r(85893),m=["fieldProps","proFieldProps"],c=function(i,P){var A=i.fieldProps,g=i.proFieldProps,M=(0,t.Z)(i,m);return(0,R.jsx)(d.Z,(0,j.Z)({ref:P,valueType:"textarea",fieldProps:A,proFieldProps:g},M))};T.Z=L.forwardRef(c)},44167:function(X,T,r){var j=r(52677),t=r.n(j),L=r(19632),d=r.n(L),R=r(5574),m=r.n(R),c=r(83863),I=r(75081),i=r(67294),P=r(30869),A=r(80854),g=r(85893),M=function(h){var l=h.value,u=h.onChange,p=h.multiple,e=p===void 0?!1:p,_=h.role,b=h.showEmail,U=h.disabled,w=(0,i.useState)([]),K=m()(w,2),x=K[0],D=K[1],y=(0,i.useState)(!1),S=m()(y,2),v=S[0],B=S[1],$=(0,i.useState)([]),k=m()($,2),G=k[0],H=k[1],z=(0,i.useRef)(),n=(0,i.useRef)(),a=(0,i.useCallback)(function(E){D(function(W){return[].concat(d()(W),d()(E)).filter(function(F,Z,N){return N.findIndex(function(Y){return b?Y.email===F.email:Y.id===F.id})===Z})})},[]);(0,i.useEffect)(function(){z.current=x},[x]);var o=(0,i.useCallback)(function(E){B(!0),n.current&&n.current.abort(),n.current=new AbortController,(0,P.rC)({search:E,role:_},{signal:n.current.signal}).then(function(W){W&&W.success&&(a(W.data),B(!1))}).catch(function(){return B(!1)})},[]),f=(0,i.useCallback)(function(E){o(E)},[o]),s=(0,i.useCallback)(function(){H([])},[]);(0,i.useEffect)(function(){var E=new AbortController;if(l){var W=Array.isArray(l)?l:[l],F=W.map(function(Z){return t()(Z)==="object"?Number(Z.id):Number(Z)});H(F),F.filter(function(Z){var N;return!((N=z.current)!==null&&N!==void 0&&N.find(function(Y){return Y.id===Z}))}).forEach(function(Z){(0,P.EA)(Number(Z),{signal:E.signal},!1).then(function(N){N&&N.success&&a([N.data])})})}return function(){E.abort()}},[l]);var O=(0,i.useCallback)(function(E,W){E||s(),u&&u(E,W)},[u,s]);return(0,g.jsx)(c.default,{disabled:U,onFocus:function(){return o()},allowClear:!0,style:{width:"100%",minWidth:"150px"},value:G,onChange:O,mode:e?"multiple":void 0,showSearch:!0,onSearch:f,onDeselect:s,placeholder:(0,g.jsx)(A.FormattedMessage,{id:"select_person",defaultMessage:"Select a person"}),optionFilterProp:"children",filterOption:function(W,F){return F&&F.children?String("".concat(F.user.name," ").concat(F.user.email)).toLowerCase().indexOf(W&&W.toLowerCase()||"")>=0:!0},notFoundContent:v?(0,g.jsx)(I.Z,{size:"small"}):null,children:x.map(function(E){return(0,g.jsxs)(c.default.Option,{value:E.id,user:E,children:[E.name," ",b&&" - ".concat(E.email)]},E.id)})})};T.Z=M},98615:function(X,T,r){r.r(T);var j=r(15009),t=r.n(j),L=r(99289),d=r.n(L),R=r(5574),m=r.n(R),c=r(44167),I=r(53302),i=r(31472),P=r(26271),A=r(74453),g=r(952),M=r(5966),C=r(90672),h=r(67294),l=r(80854),u=r(85893),p=function(_){return i.wg.PUSH};T.default=function(){var e=(0,l.useParams)(),_=e.template,b=e.id,U=b==="new",w=g.ZP.useForm(),K=m()(w,1),x=K[0],D=(0,l.useIntl)(),y=(0,h.useCallback)(function(){var S=d()(t()().mark(function v(B){var $,k,G,H;return t()().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:if($=B.users_ids&&B.users_ids.length>0,k={title:"".concat(B.title),body:"".concat(B.body),image_url:B.image_url,redirect_url:B.redirect_url},!$){n.next=8;break}return n.next=5,(0,I.ol)({channel:p(_),sections:k,user_ids:B.users_ids});case 5:return G=n.sent,G.success&&l.history.push("/users/notifications/push"),n.abrupt("return");case 8:return n.next=10,(0,I.MH)({channel:p(_),sections:k});case 10:H=n.sent,H.success&&l.history.push("/users/notifications/push");case 12:case"end":return n.stop()}},v)}));return function(v){return S.apply(this,arguments)}}(),[_]);return(0,u.jsx)(A._z,{title:U?(0,u.jsxs)("span",{children:[(0,u.jsx)(l.FormattedMessage,{id:"new"})," ",_]}):(0,u.jsxs)("span",{children:[(0,u.jsx)(l.FormattedMessage,{id:"edit"})," ",_]}),children:(0,u.jsx)(P.ZP,{size:"small",children:(0,u.jsxs)(g.ZP,{initialValues:{},onFinish:y,form:x,children:[(0,u.jsx)(M.Z,{name:"title",label:(0,u.jsx)(l.FormattedMessage,{id:"title"}),placeholder:D.formatMessage({id:"title"}),rules:[{required:!0,message:(0,u.jsx)(l.FormattedMessage,{id:"select"})}]}),(0,u.jsx)(C.Z,{name:"body",label:(0,u.jsx)(l.FormattedMessage,{id:"content"}),placeholder:D.formatMessage({id:"content"}),rules:[{required:!0,message:(0,u.jsx)(l.FormattedMessage,{id:"select"})}]}),(0,u.jsx)(g.ZP.Item,{name:"users_ids",label:(0,u.jsx)(l.FormattedMessage,{id:"users"}),convertValue:function(v){return v},valuePropName:"value",children:(0,u.jsx)(c.Z,{multiple:!0})}),(0,u.jsx)(M.Z,{name:"redirect_url",label:(0,u.jsx)(l.FormattedMessage,{id:"redirect_url"}),placeholder:D.formatMessage({id:"redirect_url"})}),(0,u.jsx)(M.Z,{name:"image_url",label:(0,u.jsx)(l.FormattedMessage,{id:"image_url"}),placeholder:D.formatMessage({id:"image_url"})})]})})})}},53302:function(X,T,r){r.d(T,{MH:function(){return g},ol:function(){return P},xv:function(){return I}});var j=r(15009),t=r.n(j),L=r(97857),d=r.n(L),R=r(99289),m=r.n(R),c=r(80854);function I(C,h){return i.apply(this,arguments)}function i(){return i=m()(t()().mark(function C(h,l){return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,c.request)("/api/admin/bulk-notifications",d()({method:"GET",useCache:!1,params:h},l||{})));case 1:case"end":return p.stop()}},C)})),i.apply(this,arguments)}function P(C,h){return A.apply(this,arguments)}function A(){return A=m()(t()().mark(function C(h,l){return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,c.request)("/api/admin/bulk-notifications/send",d()({method:"POST",headers:{"Content-Type":"application/json"},data:h},l||{})));case 1:case"end":return p.stop()}},C)})),A.apply(this,arguments)}function g(C,h){return M.apply(this,arguments)}function M(){return M=m()(t()().mark(function C(h,l){return t()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.abrupt("return",(0,c.request)("/api/admin/bulk-notifications/send/multicast",d()({method:"POST",headers:{"Content-Type":"application/json"},data:h},l||{})));case 1:case"end":return p.stop()}},C)})),M.apply(this,arguments)}},31472:function(X,T,r){r.d(T,{Fh:function(){return A},UL:function(){return i},Yo:function(){return C},Zg:function(){return h},cX:function(){return I},ce:function(){return c},fS:function(){return M},fn:function(){return R},h5:function(){return l},hg:function(){return p},oz:function(){return j},rX:function(){return g},uT:function(){return d},wg:function(){return u},wl:function(){return P}});var j=function(e){return e.Unselected="",e.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",e.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",e.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",e.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",e.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",e.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",e.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",e.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",e.Project="EscolaLms\\TopicTypeProject\\Models\\Project",e.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz",e}({}),t=function(e){return e.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",e.UserLogged="EscolaLms\\Auth\\Events\\UserLogged",e}({}),L=function(e){return e.draft="draft",e.published="published",e.archived="archived",e}({}),d=function(e){return e.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",e.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",e.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel",e}({}),R=function(e){return e.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent",e}({}),m=function(e){return e.cart_fixed="cart_fixed",e.cart_percent="cart_percent",e.product_fixed="product_fixed",e.product_percent="product_percent",e}({}),c=function(e){return e.MULTIPLE_CHOICE="multiple_choice",e.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",e.TRUE_FALSE="true_false",e.SHORT_ANSWERS="short_answers",e.MATCHING="matching",e.NUMERICAL_QUESTION="numerical_question",e.ESSAY="essay",e.DESCRIPTION="description",e}({}),I=function(e){return e.PRESENT="present",e.PRESENT_NOT_EXERCISING="present_not_exercising",e.ABSENT="absent",e.EXCUSED_ABSENCE="excused_absence",e}({}),i=function(e){return e.Manual="manual",e.ManualPass="manual_pass",e.ManualGrades="manual_grades",e.TeamsForms="teams_forms",e.TeamsLecture="teams_lecture",e.TestPortal="test_portal",e}({}),P=function(e){return e.Passed="zal",e.Failed="nie zal",e}({}),A=function(e){return e.Simple="simple",e.Complex="complex",e}({}),g=function(e){return e.QuizSummary="EscolaLms\\Reports\\Stats\\Topic\\QuizSummaryForTopicTypeGIFT",e}({}),M=function(e){return e.Boolean="boolean",e.Number="number",e.Varchar="varchar",e.Text="text",e.Json="json",e}({}),C=function(e){return e.Rate="rate",e.Text="text",e.Review="review",e}({}),h=function(e){return e.Exercise="exercise",e.Course="course",e.Info="info",e}({}),l=function(e){return e.Group="EscolaLms\\PcgIntegration\\Models\\Group",e}({}),u=function(e){return e.PUSH="EscolaLms\\BulkNotifications\\Channels\\PushNotificationChannel",e}({}),p=function(e){return e.TITLE="title",e.BODY="body",e.IMAGE="image_url",e.REDIRECT_URL="redirect_url",e}({})},30869:function(X,T,r){r.d(T,{EA:function(){return P},Je:function(){return l},LS:function(){return H},N5:function(){return g},Nq:function(){return p},VB:function(){return B},WC:function(){return K},ck:function(){return C},h8:function(){return U},m9:function(){return S},nS:function(){return D},r4:function(){return _},rC:function(){return I},yi:function(){return k}});var j=r(15009),t=r.n(j),L=r(97857),d=r.n(L),R=r(99289),m=r.n(R),c=r(80854);function I(n,a){return i.apply(this,arguments)}function i(){return i=m()(t()().mark(function n(a,o){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,c.request)("/api/admin/users",d()({params:a,method:"GET",useCache:!1},o||{})));case 1:case"end":return s.stop()}},n)})),i.apply(this,arguments)}function P(n,a,o){return A.apply(this,arguments)}function A(){return A=m()(t()().mark(function n(a,o,f){return t()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,c.request)("/api/admin/users/".concat(a),d()({method:"GET",useCache:f!==void 0?f:!0},o||{})));case 1:case"end":return O.stop()}},n)})),A.apply(this,arguments)}function g(n){return M.apply(this,arguments)}function M(){return M=m()(t()().mark(function n(a){return t()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,c.request)("/api/profile/me",d()({method:"GET",useCache:!1},a||{})));case 1:case"end":return f.stop()}},n)})),M.apply(this,arguments)}function C(n,a){return h.apply(this,arguments)}function h(){return h=m()(t()().mark(function n(a,o){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,c.request)("/api/profile/me",d()({data:a,method:"PUT"},o||{})));case 1:case"end":return s.stop()}},n)})),h.apply(this,arguments)}function l(n,a){return u.apply(this,arguments)}function u(){return u=m()(t()().mark(function n(a,o){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,c.request)("/api/profile/password",d()({data:a,method:"PUT"},o||{})));case 1:case"end":return s.stop()}},n)})),u.apply(this,arguments)}function p(n,a,o){return e.apply(this,arguments)}function e(){return e=m()(t()().mark(function n(a,o,f){return t()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,c.request)("/api/admin/users/".concat(a),d()({data:o,method:"PUT"},f||{})));case 1:case"end":return O.stop()}},n)})),e.apply(this,arguments)}function _(n,a){return b.apply(this,arguments)}function b(){return b=m()(t()().mark(function n(a,o){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,c.request)("/api/admin/users",d()({data:a,method:"POST"},o||{})));case 1:case"end":return s.stop()}},n)})),b.apply(this,arguments)}function U(n,a){return w.apply(this,arguments)}function w(){return w=m()(t()().mark(function n(a,o){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,c.request)("/api/admin/users/".concat(a),d()({method:"DELETE"},o||{})));case 1:case"end":return s.stop()}},n)})),w.apply(this,arguments)}function K(n,a,o){return x.apply(this,arguments)}function x(){return x=m()(t()().mark(function n(a,o,f){return t()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,c.request)("/api/auth/email/resend",d()({method:"POST",data:{email:a,return_url:o}},f||{})));case 1:case"end":return O.stop()}},n)})),x.apply(this,arguments)}function D(n,a){return y.apply(this,arguments)}function y(){return y=m()(t()().mark(function n(a,o){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,c.request)("/api/admin/users/".concat(a,"/settings"),d()({method:"GET",useCache:!1},o||{})));case 1:case"end":return s.stop()}},n)})),y.apply(this,arguments)}function S(n,a,o,f){return v.apply(this,arguments)}function v(){return v=m()(t()().mark(function n(a,o,f,s){return t()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,c.request)("/api/admin/users/".concat(a,"/settings"),d()({method:o,data:{settings:[f]},useCache:!1},s||{})));case 1:case"end":return E.stop()}},n)})),v.apply(this,arguments)}function B(n,a){return $.apply(this,arguments)}function $(){return $=m()(t()().mark(function n(a,o){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,c.request)("/api/admin/users/".concat(a,"/avatar"),d()({method:"DELETE"},o||{})));case 1:case"end":return s.stop()}},n)})),$.apply(this,arguments)}function k(n,a,o){return G.apply(this,arguments)}function G(){return G=m()(t()().mark(function n(a,o,f){return t()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,c.request)("/api/admin/users/".concat(a,"/interests"),d()({data:o,method:"PUT"},f||{})));case 1:case"end":return O.stop()}},n)})),G.apply(this,arguments)}function H(n,a){return z.apply(this,arguments)}function z(){return z=m()(t()().mark(function n(a,o){return t()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,c.request)("/api/admin/stats/date-range",d()({params:a,method:"GET"},o||{})));case 1:case"end":return s.stop()}},n)})),z.apply(this,arguments)}}}]);
