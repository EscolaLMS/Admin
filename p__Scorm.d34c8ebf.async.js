(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"5tKr":function(K,i,e){"use strict";e.d(i,"b",function(){return M}),e.d(i,"a",function(){return s});var d=e("k1fw"),E=e("9og8"),A=e("WmNS"),o=e.n(A),m=e("9kvl");function M(_,n){return u.apply(this,arguments)}function u(){return u=Object(E.a)(o.a.mark(function _(n,a){return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(m.f)("/api/admin/scorm",Object(d.a)({params:Object(d.a)(Object(d.a)({},n),{},{per_page:n.pageSize,page:n.current}),method:"GET",useCache:!1},a||{})));case 1:case"end":return r.stop()}},_)})),u.apply(this,arguments)}function D(_,n){return c.apply(this,arguments)}function c(){return c=Object(E.a)(o.a.mark(function _(n,a){return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(m.f)("/api/admin/scorm/scos",Object(d.a)({params:Object(d.a)(Object(d.a)({},n),{},{per_page:n.pageSize,page:n.current}),method:"GET",useCache:!1},a||{})));case 1:case"end":return r.stop()}},_)})),c.apply(this,arguments)}function s(_,n){return l.apply(this,arguments)}function l(){return l=Object(E.a)(o.a.mark(function _(n,a){return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(m.f)("/api/admin/scorm/".concat(n),Object(d.a)({method:"DELETE"},a||{})));case 1:case"end":return r.stop()}},_)})),l.apply(this,arguments)}},"DBJ/":function(K,i,e){"use strict";var d=e("k1fw"),E=e("y8nQ"),A=e("Vl3Y"),o=e("etVw"),m=e("9kvl"),M=e("qFDU"),u=e("nKUr"),D=e.n(u);function c(s){var l=s.onChange,_=s.onUpload,n=s.url,a=s.name,h=s.extra,r=s.accept,v=s.data,g=s.wrapInForm,R=g===void 0?!0:g,C=s.title,B=s.formProps,t=Object(m.i)();return v&&v[a]&&delete v[a],Object(u.jsx)(M.a,{condition:R,wrap:function(P){return Object(u.jsx)(A.a,Object(d.a)(Object(d.a)({},B),{},{children:P}))},children:Object(u.jsx)(o.a,{title:C||Object(u.jsx)(m.a,{id:"upload_click_here"}),placeholder:t.formatMessage({id:"upload_click_here"}),onChange:function(P){l&&l(P),P.file.status==="done"&&_&&_(P.file.response)},label:Object(u.jsx)(m.a,{id:"upload"}),max:2,fieldProps:{data:v,accept:r,name:a,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(n),extra:h})})}i.a=c},"RY+t":function(K,i,e){"use strict";var d=e("DBJ/"),E=e("q1tI"),A=e.n(E),o=e("nKUr"),m=e.n(o),M=function(D){var c=D.onSuccess,s=D.onError;return Object(o.jsx)(d.a,{url:"/api/admin/scorm/upload",name:"zip",accept:"application/zip",onChange:function(_){if(_.file.response){var n=_.file.response.response;n.success?c(n.data.model):s(n)}}})};i.a=M},"w76+":function(K,i,e){"use strict";e.r(i);var d=e("P2fV"),E=e("NJEC"),A=e("5Dmo"),o=e("3S7+"),m=e("+L6B"),M=e("2/Rp"),u=e("miYZ"),D=e("tsqr"),c=e("9og8"),s=e("WmNS"),l=e.n(s),_=e("q1tI"),n=e.n(_),a=e("9kvl"),h=e("55Ip"),r=e("tMyG"),v=e("Qiat"),g=e("Dx9A"),R=e("/MfK"),C=e("5tKr"),B=e("RY+t"),t=e("nKUr"),L=e.n(t),P=function(){var W=Object(c.a)(l.a.mark(function j(U){return l.a.wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.next=2,Object(C.a)(U);case 2:return O.abrupt("return",!0);case 3:case"end":return O.stop()}},j)}));return function(U){return W.apply(this,arguments)}}(),S=function(){var j=Object(_.useRef)(),U=Object(a.i)(),x=[{title:Object(t.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"version",defaultMessage:"version"}),dataIndex:"version",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"newScorm",defaultMessage:"New Scorm"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(B.a,{onSuccess:function(){j.current&&j.current.reload(),D.default.success(Object(t.jsx)(a.a,{id:"scorm_uploaded",defaultMessage:"scorm uploaded"}))},onError:function(f){return D.default.error(f)}})]}},{title:Object(t.jsx)(a.a,{id:"SCOS",defaultMessage:"Sharable Content Objects"}),dataIndex:"SCOS",hideInSearch:!0,render:function(I,f){return[f.scos.map(function(p){return Object(t.jsx)(h.a,{to:"/scorms/preview/".concat(p.uuid),children:Object(t.jsx)(o.a,{title:Object(t.jsx)(a.a,{id:"preview",defaultMessage:"preview"}),children:Object(t.jsx)(M.a,{size:"small",icon:Object(t.jsx)(g.a,{}),type:"primary",children:p.title})})},p.uuid)})]}},{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(I,f){return[Object(t.jsx)(E.a,{title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(c.a)(l.a.mark(function p(){var b;return l.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,P(f.id);case 2:b=T.sent,b&&j.current&&j.current.reload();case 4:case"end":return T.stop()}},p)})),okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(o.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(M.a,{type:"primary",icon:Object(t.jsx)(R.a,{}),danger:!0})})},"delete")]}}];return Object(t.jsx)(r.a,{children:Object(t.jsx)(v.a,{headerTitle:U.formatMessage({id:"scorms",defaultMessage:"scorms"}),actionRef:j,rowKey:"id",search:{labelWidth:120},request:function(I){var f=I.pageSize,p=I.current;return Object(C.b)({pageSize:f,current:p}).then(function(b){return b.success?{data:b.data.data,total:b.data.total,success:!0}:[]})},columns:x})})};i.default=S}}]);
