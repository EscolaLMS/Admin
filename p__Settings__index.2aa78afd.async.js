"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4471],{88284:function(oe,D,e){var o=e(1413),u=e(67294),y=e(32857),i=e(84089),d=function(l,a){return u.createElement(i.Z,(0,o.Z)((0,o.Z)({},l),{},{ref:a,icon:y.Z}))};d.displayName="CheckOutlined",D.Z=u.forwardRef(d)},28508:function(oe,D,e){var o=e(1413),u=e(67294),y=e(89503),i=e(84089),d=function(l,a){return u.createElement(i.Z,(0,o.Z)((0,o.Z)({},l),{},{ref:a,icon:y.Z}))};d.displayName="CloseOutlined",D.Z=u.forwardRef(d)},69753:function(oe,D,e){var o=e(1413),u=e(67294),y=e(49495),i=e(84089),d=function(l,a){return u.createElement(i.Z,(0,o.Z)((0,o.Z)({},l),{},{ref:a,icon:y.Z}))};d.displayName="DownloadOutlined",D.Z=u.forwardRef(d)},47389:function(oe,D,e){var o=e(1413),u=e(67294),y=e(27363),i=e(84089),d=function(l,a){return u.createElement(i.Z,(0,o.Z)((0,o.Z)({},l),{},{ref:a,icon:y.Z}))};d.displayName="EditOutlined",D.Z=u.forwardRef(d)},55725:function(oe,D,e){var o=e(1413),u=e(67294),y=e(85118),i=e(84089),d=function(l,a){return u.createElement(i.Z,(0,o.Z)((0,o.Z)({},l),{},{ref:a,icon:y.Z}))};d.displayName="FolderOutlined",D.Z=u.forwardRef(d)},56717:function(oe,D,e){var o=e(1413),u=e(67294),y=e(93696),i=e(84089),d=function(l,a){return u.createElement(i.Z,(0,o.Z)((0,o.Z)({},l),{},{ref:a,icon:y.Z}))};d.displayName="InfoCircleOutlined",D.Z=u.forwardRef(d)},51042:function(oe,D,e){var o=e(1413),u=e(67294),y=e(42110),i=e(84089),d=function(l,a){return u.createElement(i.Z,(0,o.Z)((0,o.Z)({},l),{},{ref:a,icon:y.Z}))};d.displayName="PlusOutlined",D.Z=u.forwardRef(d)},63434:function(oe,D,e){var o=e(1413),u=e(45987),y=e(22270),i=e(84567),d=e(67294),x=e(90789),l=e(41550),a=e(85893),A=["options","fieldProps","proFieldProps","valueEnum"],j=d.forwardRef(function(f,F){var r=f.options,O=f.fieldProps,E=f.proFieldProps,g=f.valueEnum,_=(0,u.Z)(f,A);return(0,a.jsx)(l.Z,(0,o.Z)({ref:F,valueType:"checkbox",valueEnum:(0,y.h)(g,void 0),fieldProps:(0,o.Z)({options:r},O),lightProps:(0,o.Z)({labelFormatter:function(){return(0,a.jsx)(l.Z,(0,o.Z)({ref:F,valueType:"checkbox",mode:"read",valueEnum:(0,y.h)(g,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,o.Z)({options:r},O),proFieldProps:E},_))}},_.lightProps),proFieldProps:E},_))}),U=d.forwardRef(function(f,F){var r=f.fieldProps,O=f.children;return(0,a.jsx)(i.Z,(0,o.Z)((0,o.Z)({ref:F},r),{},{children:O}))}),m=(0,x.G)(U,{valuePropName:"checked"}),L=m;L.Group=j,D.Z=L},31199:function(oe,D,e){var o=e(1413),u=e(45987),y=e(67294),i=e(41550),d=e(85893),x=["fieldProps","min","proFieldProps","max"],l=function(j,U){var m=j.fieldProps,L=j.min,f=j.proFieldProps,F=j.max,r=(0,u.Z)(j,x);return(0,d.jsx)(i.Z,(0,o.Z)({valueType:"digit",fieldProps:(0,o.Z)({min:L,max:F},m),ref:U,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:f},r))},a=y.forwardRef(l);D.Z=a},86615:function(oe,D,e){var o=e(1413),u=e(45987),y=e(22270),i=e(55742),d=e(67294),x=e(90789),l=e(41550),a=e(85893),A=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],j=d.forwardRef(function(f,F){var r=f.fieldProps,O=f.options,E=f.radioType,g=f.layout,_=f.proFieldProps,I=f.valueEnum,J=(0,u.Z)(f,A);return(0,a.jsx)(l.Z,(0,o.Z)((0,o.Z)({valueType:E==="button"?"radioButton":"radio",ref:F,valueEnum:(0,y.h)(I,void 0)},J),{},{fieldProps:(0,o.Z)({options:O,layout:g},r),proFieldProps:_,filedConfig:{customLightMode:!0}}))}),U=d.forwardRef(function(f,F){var r=f.fieldProps,O=f.children;return(0,a.jsx)(i.ZP,(0,o.Z)((0,o.Z)({},r),{},{ref:F,children:O}))}),m=(0,x.G)(U,{valuePropName:"checked",ignoreWidth:!0}),L=m;L.Group=j,L.Button=i.ZP.Button,L.displayName="ProFormComponent",D.Z=L},52688:function(oe,D,e){var o=e(1413),u=e(45987),y=e(67294),i=e(41550),d=e(85893),x=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],l=y.forwardRef(function(a,A){var j=a.fieldProps,U=a.unCheckedChildren,m=a.checkedChildren,L=a.proFieldProps,f=(0,u.Z)(a,x);return(0,d.jsx)(i.Z,(0,o.Z)({valueType:"switch",fieldProps:(0,o.Z)({unCheckedChildren:U,checkedChildren:m},j),ref:A,valuePropName:"checked",proFieldProps:L,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},f))});D.Z=l},90672:function(oe,D,e){var o=e(1413),u=e(45987),y=e(67294),i=e(41550),d=e(85893),x=["fieldProps","proFieldProps"],l=function(A,j){var U=A.fieldProps,m=A.proFieldProps,L=(0,u.Z)(A,x);return(0,d.jsx)(i.Z,(0,o.Z)({ref:j,valueType:"textarea",fieldProps:U,proFieldProps:m},L))};D.Z=y.forwardRef(l)},20568:function(oe,D,e){e.d(D,{Z:function(){return ee}});var o=e(19632),u=e.n(o),y=e(97857),i=e.n(y),d=e(5574),x=e.n(d),l=e(67294),a=e(17578),A=e(78957),j=e(25514),U=e(96365),m=e(14726),L=e(2487),f=e(72252),F=e(82061),r=e(55725),O=e(69753),E=e(80854),g=e(29477),_=e(85893),I=function(W){var n=W.directory,G=W.onUploaded;return(0,_.jsxs)(A.Z,{align:"start",children:[(0,_.jsxs)(j.Z.Text,{children:[(0,_.jsx)(E.FormattedMessage,{id:"pages.files.filesBrowser"}),(0,_.jsx)(j.Z.Text,{code:!0,children:n})]}),(0,_.jsx)(g.Z,{url:"/api/admin/file/upload",name:"file[]",data:{target:n},onUpload:function(de){de.success&&G(n,de.data)}})]})},J=function(W){var n=W.defaultDirectory,G=n===void 0?"/":n,te=W.onFile,de=W.hideDeleteBtn,re=de===void 0?!1:de,s=W.forceLoading,P=s===void 0?!1:s,R=(0,E.useIntl)(),C=(0,l.useState)({loading:!1,name:"",directory:G,current_page:1,data:void 0,per_page:1,last_page:1,total:0}),t=x()(C,2),Z=t[0],w=t[1],ae=(0,l.useRef)(),b=(0,l.useCallback)(function(v){w(function(c){return i()(i()({},c),{},{loading:v})})},[]),S=(0,l.useCallback)(function(v,c){v.success&&w(function(N){return i()(i()(i()({},N),v.data),{},{data:[{url:c.split("/").slice(0,-1).join("/"),name:"..",created_at:"",mime:"directory"}].concat(u()(v.data.data.map(function(T){return i()(i()({},T),{},{url:T.mime==="directory"?"".concat(c,"/").concat(T.name):T.url})}))).filter(function(T){return c==="/"||c===G?T.name!=="..":!0}),directory:c,loading:!1})})},[b]),M=(0,l.useCallback)(function(v){var c,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,T=function(){return ae.current&&ae.current.abort()};return T(),ae.current=new AbortController,b(!0),(0,a.QZ)({directory:v,page:N},{signal:(c=ae.current)===null||c===void 0?void 0:c.signal}).then(function(ne){ne.success&&S(ne,v)}).catch(function(){return b(!1)}),function(){T()}},[b]);(0,l.useEffect)(function(){return M(G)},[G,M]);var ce=(0,l.useCallback)(function(v){b(!0),(0,a.Od)(v).then(function(){M(Z.directory)}).catch(function(){b(!1)})},[M,b,Z.directory]),H=(0,l.useCallback)(function(v,c){var N,T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,ne=function(){return ae.current&&ae.current.abort()};return ne(),ae.current=new AbortController,b(!0),(0,a.ht)({directory:v,name:c,page:T},{signal:(N=ae.current)===null||N===void 0?void 0:N.signal}).then(function(Oe){Oe.success&&S(Oe,v)}).catch(function(){return b(!1)}),function(){ne()}},[b]);return(0,_.jsxs)("div",{className:"file-browser",children:[(0,_.jsxs)("div",{className:"file-browser__header",children:[(0,_.jsx)(U.Z,{placeholder:R.formatMessage({id:"search_file"}),className:"file-browser__input",onChange:function(c){return w(function(N){return i()(i()({},N),{},{name:c.target.value})})},value:Z.name}),(0,_.jsxs)("div",{children:[(0,_.jsx)(m.ZP,{className:"file-browser__button",onClick:function(){return M(Z.directory)},children:(0,_.jsx)(E.FormattedMessage,{id:"reset"})}),(0,_.jsx)(m.ZP,{className:"file-browser__button",type:"primary",onClick:function(){return H(Z.directory,Z.name)},children:(0,_.jsx)(E.FormattedMessage,{id:"query"})})]})]}),(0,_.jsx)(L.Z,{loading:Z.loading||P,size:"small",itemLayout:"horizontal",dataSource:Z.data,header:(0,_.jsx)(I,{directory:Z.directory,onUploaded:function(c,N){N&&(M(c),te&&te(N,c))}}),footer:(0,_.jsx)(I,{directory:Z.directory,onUploaded:function(c,N){M(c),N&&te&&te(N,c)}}),renderItem:function(c){return(0,_.jsx)(L.Z.Item,{actions:c.mime!=="directory"&&!re?[(0,_.jsx)(m.ZP,{type:"default",danger:!0,icon:(0,_.jsx)(F.Z,{}),size:"small",onClick:function(){return ce(c.url)}},"dir")]:[],children:(0,_.jsx)(L.Z.Item.Meta,{avatar:c.mime==="directory"?(0,_.jsx)(m.ZP,{type:"primary",icon:(0,_.jsx)(r.Z,{}),size:"small",onClick:function(){return M(c.url)}}):(0,_.jsx)("a",{href:c.url,target:"_blank",rel:"noreferrer",children:(0,_.jsx)(m.ZP,{type:"default",icon:(0,_.jsx)(O.Z,{}),size:"small"})}),description:(0,_.jsx)(l.Fragment,{children:(0,_.jsx)(m.ZP,{type:"text",size:"small",onClick:function(){return c.mime==="directory"?M(c.url):te&&te(c,Z.directory)},children:c.name})})})})}}),(0,_.jsx)(f.Z,{pageSizeOptions:[],current:Z.current_page,total:Z.total,pageSize:Z.per_page,onChange:function(c){return M(Z.directory,c)}})]})},ee=J},29477:function(oe,D,e){var o=e(97857),u=e.n(o),y=e(5574),i=e.n(y),d=e(55523),x=e(75842),l=e(21974),a=e(67294),A=e(80854),j=e(85893);function U(m){var L=m.onChange,f=m.onUpload,F=m.url,r=m.name,O=m.extra,E=m.accept,g=m.data,_=m.wrapInForm,I=_===void 0?!0:_,J=m.title,ee=m.formProps,Y=m.maxFiles,W=m.clearListAfterUpload,n=m.hideLabel,G=m.disabled,te=m.showUploadList,de=(0,a.useState)(),re=i()(de,2),s=re[0],P=re[1],R=(0,A.useIntl)();return g&&g[r]&&delete g[r],(0,j.jsx)(l.Z,{condition:I,wrap:function(t){return(0,j.jsx)(x.Z,u()(u()({},ee),{},{children:t}))},children:(0,j.jsx)(d.Z,{title:J||" ".concat(R.formatMessage({id:"upload_click_here"})),placeholder:R.formatMessage({id:"upload_click_here"}),label:!n&&(0,j.jsx)(A.FormattedMessage,{id:"upload"}),max:Y!=null?Y:2,fieldProps:{data:g,accept:E,name:r,showUploadList:te,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))},onChange:function(t){P(t),L&&L(t),t.file.status==="done"&&(f&&f(t.file.response),W&&P(void 0))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(F),extra:O,fileList:s==null?void 0:s.fileList,disabled:G})})}D.Z=U},19411:function(oe,D,e){e.d(D,{ZP:function(){return L}});var o=e(15009),u=e.n(o),y=e(99289),i=e.n(y),d=e(17578),x=e(2800),l=e.n(x),a=e(67294),A=e(80854),j=e(85893),U=function(F){var r=F.attrs,O=r.href,E=O.split("/").pop();return(0,j.jsx)("p",{children:(0,j.jsx)("a",{rel:"noreferrer",href:O,target:"_blank",children:E})})},m=function(F){var r=F.value,O=F.onChange,E=F.directory,g=E===void 0?"/wysiwyg":E,_=(0,A.useIntl)();return(0,j.jsx)("div",{className:"form-wysiwyg-markdown",children:(0,j.jsx)(l(),{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function(){return!0},component:U}],uploadImage:function(){var I=i()(u()().mark(function J(ee){var Y,W;return u()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,(0,d.ws)(ee,g);case 2:if(Y=G.sent,!Y.success){G.next=8;break}if(!ee.type.includes("image/")){G.next=7;break}return W=Y.data[0].name.includes("/")?Y.data[0].name:"".concat(g).concat(Y.data[0].name),G.abrupt("return",(0,d.pV)(W,1e3));case 7:return G.abrupt("return",Y.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return G.stop()}},J)}));return function(J){return I.apply(this,arguments)}}(),defaultValue:r||"",onChange:function(J){return O&&O(J())},placeholder:_.formatMessage({id:"wysiwyg_placeholder"})})})},L=m},62343:function(oe,D,e){var o=e(52677),u=e.n(o),y=e(5574),i=e.n(y),d=e(952),x=e(37476),l=e(5966),a=e(52688),A=e(86615),j=e(90672),U=e(63434),m=e(31199),L=e(96365),f=e(14726),F=e(75842),r=e(49288),O=e(67294),E=e(43564),g=e(80854),_=e(20568),I=e(19411),J=e(88284),ee=e(28508),Y=e(55171),W=e.n(Y),n=e(85893),G=function(re){var s=re.value,P=re.onChange,R=re.type,C=R===void 0?"file":R,t=(0,O.useState)(!1),Z=i()(t,2),w=Z[0],ae=Z[1];return(0,n.jsxs)(O.Fragment,{children:[(0,n.jsxs)(d.ZP.Group,{children:[(0,n.jsx)(L.Z,{value:s,readOnly:!0}),(0,n.jsxs)(f.ZP,{size:"small",type:"primary",onClick:function(){return ae(!w)},children:["toggle ",C," browser"]})]}),w&&(0,n.jsx)(_.Z,{onFile:function(S,M){return P&&P("".concat(M,"/").concat(S.name))}})]})},te=function(re){var s=(0,g.useIntl)(),P=re.visible,R=re.onVisibleChange,C=re.onFinish,t=re.id,Z=re.initialData,w=re.groups,ae=F.Z.useForm(),b=i()(ae,1),S=b[0],M=!t||t===-1,ce=(0,O.useState)("text"),H=i()(ce,2),v=H[0],c=H[1],N=(0,O.useCallback)(function(){return!!(S.getFieldValue("group")==="global"||Z)},[S,Z]),T=(0,O.useState)(""),ne=i()(T,2),Oe=ne[0],be=ne[1];(0,O.useEffect)(function(){if(u()(t)==="object"){var K;S.setFieldsValue(t),c((K=t.type)!==null&&K!==void 0?K:"text")}else t&&t!==-1?(0,E.GF)(Number(t)).then(function(le){le.success&&(S.setFieldsValue(le.data),c(le.data.type),be(le.data.group))}):(S.resetFields(),c("text"))},[t,S,Z]);var De=(0,O.useCallback)(function(K){K.type&&K.type!==v&&c(K.type)},[v]);return(0,n.jsxs)(x.Y,{form:S,title:s.formatMessage({id:t?"editSetting":"newSetting",defaultMessage:t?"editSetting":"newSetting"}),width:"60vw",visible:!!P,onVisibleChange:R,onFinish:C,onValuesChange:De,children:[(0,n.jsxs)(d.ZP.Group,{children:[Z?(0,n.jsx)(l.Z,{label:(0,n.jsx)(g.FormattedMessage,{id:"group",defaultMessage:"group"}),rules:[{required:!0}],width:"md",name:"group",disabled:N()}):(0,n.jsx)(d.ZP.Item,{label:(0,n.jsx)(g.FormattedMessage,{id:"group",defaultMessage:"group"}),name:"group",children:(0,n.jsx)(r.Z,{style:{width:"300px"},autoFocus:!0,value:Oe,onChange:function(le){return be(le)},filterOption:function(le,_e){var ve;return(_e==null||(ve=_e.children)===null||ve===void 0?void 0:ve.toString().toLowerCase().indexOf(le.toLowerCase()))!==-1},children:w.map(function(K){return(0,n.jsx)(r.Z.Option,{value:K,children:K},K)})})}),(0,n.jsx)(l.Z,{label:(0,n.jsx)(g.FormattedMessage,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key",disabled:N()})]}),(0,n.jsxs)(d.ZP.Group,{children:[(0,n.jsx)(a.Z,{name:"enumerable",disabled:N(),label:(0,n.jsx)(g.FormattedMessage,{id:"enumerable",defaultMessage:"enumerable"})}),(0,n.jsx)(a.Z,{name:"public",disabled:N(),label:(0,n.jsx)(g.FormattedMessage,{id:"public",defaultMessage:"public"})})]}),(0,n.jsx)(d.ZP.Group,{children:(0,n.jsx)(A.Z.Group,{disabled:!!(!M||Z),name:"type",label:(0,n.jsx)(g.FormattedMessage,{id:"type"}),options:[{label:"text",value:"text"},{label:"markdown",value:"markdown"},{label:"json",value:"json"},{label:"file",value:"file"},{label:"image",value:"image"},{label:"boolean",value:"boolean"},{label:"number",value:"number"},{label:"array",value:"array"}]})}),(0,n.jsxs)("div",{children:[v==="text"&&(0,n.jsx)(l.Z,{width:"lg",name:"value",label:(0,n.jsx)(g.FormattedMessage,{id:"value"})}),v==="json"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.Z,{width:"lg",name:"value",label:(0,n.jsx)(g.FormattedMessage,{id:"value"}),tooltip:"".concat(s.formatMessage({id:"example_json"}),': {"name":"John", "age":30, "city":["New York","Warsaw"]}')}),(0,n.jsx)(d.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,n.jsx)(W(),{src:JSON.parse(S.getFieldValue("value"))})}catch(le){return(0,n.jsx)(W(),{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]}),(v==="file"||v==="image")&&(0,n.jsx)(d.ZP.Item,{name:"value",label:"value",tooltip:"select file from current repository or upload new one",valuePropName:"value",children:(0,n.jsx)(G,{type:v})}),v==="markdown"&&(0,n.jsx)(d.ZP.Item,{name:"value",label:"value",tooltip:"The editor is WYSIWYG and includes formatting tools whilst retaining the ability to write markdown shortcuts inline and output plain Markdown.",valuePropName:"value",children:(0,n.jsx)(I.ZP,{directory:"settings/wysiwyg"})}),v==="boolean"?(0,n.jsx)(a.Z,{name:"data",label:(0,n.jsx)(g.FormattedMessage,{id:"value"}),checkedChildren:(0,n.jsx)(J.Z,{}),unCheckedChildren:(0,n.jsx)(ee.Z,{})}):(0,n.jsx)(d.ZP.Item,{noStyle:!0,hidden:!0,children:(0,n.jsx)(U.Z,{name:"data",valuePropName:"data"})}),v==="number"&&(0,n.jsx)(m.Z,{name:"data",label:(0,n.jsx)(g.FormattedMessage,{id:"value"})}),v==="array"&&(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(j.Z,{width:"lg",name:"value",label:(0,n.jsx)(g.FormattedMessage,{id:"value"}),tooltip:"".concat(s.formatMessage({id:"example_json"}),": ['tutor', 'student']")}),(0,n.jsx)(d.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,n.jsx)(W(),{src:JSON.parse(S.getFieldValue("value"))})}catch(le){return(0,n.jsx)(W(),{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]})]})]})};D.ZP=te},59234:function(oe,D,e){e.d(D,{Wg:function(){return C}});var o=e(5574),u=e.n(o),y=e(19632),i=e.n(y),d=e(15009),x=e.n(d),l=e(97857),a=e.n(l),A=e(99289),j=e.n(A),U=e(31472),m=e(51042),L=e(16894),f=e(2453),F=e(83062),r=e(14726),O=e(86738),E=e(67294),g=e(80854),_=e(43564),I=e(56717),J=e(47389),ee=e(82061),Y=e(62343),W=e(20188),n=e(85893),G=function(){var b=j()(x()().mark(function S(M,ce,H){var v,c;return x()().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return v=f.ZP.loading(M.formatMessage({id:"loading"})),T.prev=1,T.next=4,H&&H!==-1?(0,_.VP)(H,a()({},ce)):(0,_.oh)(a()({},ce));case 4:return c=T.sent,v(),f.ZP.success(M.formatMessage({id:"success"})),T.abrupt("return",{success:!0,updatedSettings:c});case 10:return T.prev=10,T.t0=T.catch(1),v(),f.ZP.error(M.formatMessage({id:"error"})),T.abrupt("return",{success:!1,updateSettings:null});case 15:case"end":return T.stop()}},S,null,[[1,10]])}));return function(M,ce,H){return b.apply(this,arguments)}}(),te=function(){var b=j()(x()().mark(function S(M,ce){var H;return x()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return H=f.ZP.loading(M.formatMessage({id:"loading"})),c.prev=1,c.next=4,(0,_.Rb)(ce);case 4:return H(),f.ZP.success(M.formatMessage({id:"success"})),c.abrupt("return",!0);case 9:return c.prev=9,c.t0=c.catch(1),H(),f.ZP.error(M.formatMessage({id:"error"})),c.abrupt("return",!1);case 14:case"end":return c.stop()}},S,null,[[1,9]])}));return function(M,ce){return b.apply(this,arguments)}}(),de=function(S){return S.toLowerCase().replace(/(_\w)/g,function(M){return M.toUpperCase().substr(1)})},re=["statistics","user_submission","user_projects"],s=["public"],P=["email","sms"],R=function(S){return"hideInMenu-".concat(de(S.split("/").join("_")))},C=function(S){return"disableTopicType-".concat(S)},t=[].concat(i()(Object.keys(U.oz).map(function(b){return{key:C(b),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),i()(["ECommerce","Certificates"].map(function(b){return{key:"disable-".concat(b),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),i()(s.map(function(b){return{key:"showInCourseAdditionalSettings-".concat(b),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),i()(re.map(function(b){return{key:"hideInCourseTabs-".concat(b),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),i()(P.map(function(b){return{key:"hideTemplateTab-".concat(b),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}}))).reduce(function(b,S,M){return b[S.key]=a()(a()({},S),{},{id:-100*M}),b},{}),Z=a()({logo:{id:-1,key:"logo",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},frontURL:{id:-2,key:"frontURL",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},maxLessonsNestingInProgram:{id:-4,key:"maxLessonsNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},minTopicNestingInProgram:{id:-5,key:"minTopicNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},companyName:{id:-6,key:"companyName",group:"global",value:"Wellms",public:!0,enumerable:!0,sort:0,type:"text",data:"Wellms"},companyURL:{id:-7,key:"companyURL",group:"global",value:"https://www.wellms.io/",public:!0,enumerable:!0,sort:0,type:"text",data:"https://www.wellms.io/"},logoLogin:{id:-8,key:"logoLogin",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},logoFooter:{id:-9,key:"logoFooter",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},footerFontColor:{id:-10,key:"footerFontColor",group:"global",value:"#00000072",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},showLoginBackgroundImage:{id:-11,key:"showLoginBackgroundImage",group:"global",value:"true",public:!0,enumerable:!0,sort:0,type:"boolean",data:"EscolaLMS"},loginHeaderBackgroundColor:{id:-12,key:"loginHeaderBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},loginHeaderFontColor:{id:-13,key:"loginHeaderFontColor",group:"global",value:"#000000D8",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},loginFormBackgroundColor:{id:-14,key:"loginFormBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},contentBackgroundColor:{id:-15,key:"contentBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},technicalMaintenance:{id:-16,key:"technicalMaintenance",group:"global",value:"false",public:!0,enumerable:!0,sort:0,type:"boolean",data:"EscolaLMS"},technicalMaintenanceText:{id:-17,key:"technicalMaintenanceText",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"}},t),w=function(S){return typeof S.path=="string"},ae=function(){var S=(0,E.useState)(!1),M=u()(S,2),ce=M[0],H=M[1],v=(0,E.useRef)(),c=(0,g.useIntl)(),N=(0,E.useState)(Z),T=u()(N,2),ne=T[0],Oe=T[1],be=(0,g.useModel)("@@initialState"),De=be.setInitialState,K=be.initialState;(0,E.useEffect)(function(){(0,W.s)().then(function(ve){var se=Object.values(ve.routes).filter(w).filter(function($){return $.path&&$.path!=="/"&&$.layout!==!1}).map(function($){return{path:$.path,key:R($.path),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}});Oe(function($){return a()(a()({},$),se)})})},[]),(0,E.useEffect)(function(){v.current&&v.current.reload()},[ne]);var le=[{title:(0,n.jsx)(g.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0,render:function(se,$){return(0,n.jsx)(E.Fragment,{children:(0,n.jsxs)(F.Z,{title:(0,n.jsx)(g.FormattedMessage,{id:"Settings.tooltip.".concat($.key)}),children:[$.key," ",(0,n.jsx)(I.Z,{})]})})}},{title:(0,n.jsx)(g.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:(0,n.jsx)(g.FormattedMessage,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(se,$){return $.value}},{hideInSearch:!0,title:(0,n.jsx)(g.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(se,$){return[$.id>0?(0,n.jsx)(F.Z,{title:(0,n.jsx)(g.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,n.jsx)(r.ZP,{type:"primary",icon:(0,n.jsx)(J.Z,{}),onClick:function(){return H($.id)}})},"edit"):(0,n.jsx)(F.Z,{title:(0,n.jsx)(g.FormattedMessage,{id:"create",defaultMessage:"create"}),children:(0,n.jsx)(r.ZP,{type:"primary",icon:(0,n.jsx)(m.Z,{}),onClick:function(){H(ne[$.key]||-1)}})},"create"),(0,n.jsx)(O.Z,{title:(0,n.jsx)(g.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:j()(x()().mark(function X(){var fe;return x()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return ie.next=2,te(c,$.id);case 2:fe=ie.sent,fe&&(H(!1),v.current&&v.current.reload());case 4:case"end":return ie.stop()}},X)})),okText:(0,n.jsx)(g.FormattedMessage,{id:"yes",defaultMessage:"Yes"}),cancelText:(0,n.jsx)(g.FormattedMessage,{id:"no",defaultMessage:"No"}),children:$.id>0?(0,n.jsx)(F.Z,{title:(0,n.jsx)(g.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,n.jsx)(r.ZP,{type:"primary",icon:(0,n.jsx)(ee.Z,{}),danger:!0})}):null},"delete")]}}],_e=function(se){var $;if(se&&(!(K!=null&&($=K.config)!==null&&$!==void 0&&$.length)&&se&&De(a()(a()({},K),{},{config:[se]})),!!(K!=null&&K.config))){var X=K==null?void 0:K.config.map(function(fe){return fe.key===se.key?a()(a()({},fe),se):fe});De(a()(a()({},K),{},{config:X}))}};return(0,n.jsxs)(E.Fragment,{children:[(0,n.jsx)(L.ZP,{headerTitle:c.formatMessage({id:"menu.settings"}),search:!1,toolBarRender:!1,actionRef:v,rowKey:"id",request:function(se){var $=se.pageSize,X=se.current;return(0,_.Xd)({per_page:$,current:X,group:"global"}).then(function(fe){if(fe.success){var ye=[].concat(i()(Object.keys(ne).map(function(ie){return fe.data.find(function(Ae){return Ae.key===ie})||ne[ie]})),i()(fe.data.filter(function(ie){return!Object.keys(ne).includes(ie.key)})));return{data:ye,total:ye.length,success:!0}}return[]})},columns:le}),(0,n.jsx)(Y.ZP,{groups:[],id:ce,visible:ce,initialData:ne,onVisibleChange:function(se){return!se&&H(!1)},onFinish:function(){var ve=j()(x()().mark(function se($){var X,fe,ye,ie;return x()().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return X=$,X.type==="number"&&(X=a()(a()({},X),{},{value:String(X.data)})),X.type==="boolean"&&(X=a()(a()({},X),{},{value:X.data})),X.type==="array"&&(X=a()(a()({},X),{},{value:JSON.parse(X.value)})),xe.next=6,G(c,X,Number(ce));case 6:fe=xe.sent,ye=fe.success,ie=fe.updatedSettings,ye&&(ie!=null&&ie.success&&_e(ie.data),H(!1),v.current&&v.current.reload());case 10:case"end":return xe.stop()}},se)}));return function(se){return ve.apply(this,arguments)}}()})]})};D.ZP=ae},85228:function(oe,D,e){e.r(D),e.d(D,{default:function(){return xe}});var o=e(5574),u=e.n(o),y=e(26271),i=e(74453),d=e(75081),x=e(38925),l=e(67294),a=e(80854),A=e(43564),j=e(59234),U=e(15009),m=e.n(U),L=e(99289),f=e.n(L),F=e(19632),r=e.n(F),O=e(52677),E=e.n(O),g=e(66419),_=e(47389),I=e(16894),J=e(66309),ee=e(83062),Y=e(14726),W=e(97857),n=e.n(W),G=e(37476),te=e(952),de=e(52688),re=e(90672),s=e(25514),P=e(75842),R=e(54838),C=e(5966),t=e(85893),Z=function(p){var h=p.field,B=p.name;return h!=null&&h.includes("boolean")?(0,t.jsx)(de.Z,{name:B,checkedChildren:(0,t.jsx)(R._H,{id:"true"}),unCheckedChildren:(0,t.jsx)(R._H,{id:"false"})}):(0,t.jsx)(C.Z,{width:"lg",name:B})},w=Z,ae=e(55171),b=e.n(ae),S=s.Z.Text,M=function(V){return V.Array="array",V.String="string",V}(M||{}),ce=function(p,h){return h===M.Array?p&&Array.isArray(p)?JSON.stringify(p):"[]":p},H=function(){var p=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",h=arguments.length>1?arguments[1]:void 0;if(h===M.Array){var B=JSON.parse(p);return B&&Array.isArray(B)?B:[]}return p},v=function(p){var h=(0,R.YB)(),B=p.visible,z=p.onVisibleChange,pe=p.onFinish,k=p.value,me=P.Z.useForm(),je=u()(me,1),ge=je[0],he=(0,l.useMemo)(function(){return(k.rules||[]).includes(M.Array)?M.Array:M.String},[k.rules]);return(0,l.useEffect)(function(){ge.setFieldsValue(n()(n()({},k),{},{value:ce(k.value,he)}))},[he,k,ge]),(0,t.jsxs)(G.Y,{form:ge,title:k.full_key,width:"60vw",visible:B,onVisibleChange:z,onFinish:f()(m()().mark(function Pe(){var Q;return m()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,(0,A.rF)({key:k.full_key,value:H(ge.getFieldsValue().value,he)});case 2:if(Q=q.sent,!Q.success){q.next=6;break}return pe(Q.success===!0),q.abrupt("return",Q.success);case 6:return q.abrupt("return");case 7:case"end":return q.stop()}},Pe)})),children:[(0,t.jsxs)(te.ZP.Group,{children:[(0,t.jsx)(de.Z,{disabled:!0,name:"public",label:(0,t.jsx)(a.FormattedMessage,{id:"public",defaultMessage:"public"})}),(0,t.jsx)(de.Z,{disabled:!0,name:"readonly",label:(0,t.jsx)(a.FormattedMessage,{id:"readonly",defaultMessage:"readonly"})}),(0,t.jsx)(te.ZP.Item,{shouldUpdate:!0,label:(0,t.jsx)(a.FormattedMessage,{id:"rules",defaultMessage:"rules"}),children:function(){return(0,t.jsx)(S,{code:!0,children:JSON.stringify(ge.getFieldValue("rules"))})}})]}),he===M.Array?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(re.Z,{width:"lg",name:"value",label:(0,t.jsx)(a.FormattedMessage,{id:"value"}),tooltip:"".concat(h.formatMessage({id:"example_json"}),': ["first_field_name", "second_field_name"]')}),(0,t.jsx)(te.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,t.jsx)(b(),{src:JSON.parse(ge.getFieldValue("value"))})}catch(Q){return(0,t.jsx)(b(),{src:JSON.parse('{ "error": "cannot parse this array" }')})}}})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(te.ZP.Item,{shouldUpdate:!0,label:(0,t.jsx)(a.FormattedMessage,{id:"value"}),children:function(){return(0,t.jsx)(w,{field:ge.getFieldValue("rules"),name:"value"})}})})]})},c=v,N=[{title:(0,t.jsx)(a.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!1,sorter:!0},{title:(0,t.jsx)(a.FormattedMessage,{id:"readonly",defaultMessage:"readonly"}),dataIndex:"readonly",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(p,h){return(0,t.jsx)(J.Z,{color:h.readonly?"success":"error",children:(0,t.jsx)(a.FormattedMessage,{id:h.readonly?"true":"false",defaultMessage:h.readonly?"true":"false"})})}},{title:(0,t.jsx)(a.FormattedMessage,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(p,h){return(0,t.jsx)(J.Z,{color:h.public?"success":"error",children:(0,t.jsx)(a.FormattedMessage,{id:h.public?"true":"false",defaultMessage:h.public?"true":"false"})})}},{title:(0,t.jsx)(a.FormattedMessage,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(p,h){return typeof h.value=="boolean"?(0,t.jsx)(J.Z,{color:h.value?"success":"error",children:(0,t.jsx)(a.FormattedMessage,{id:h.value?"true":"false",defaultMessage:h.value?"true":"false"})}):Array.isArray(h.value)?h.value.map(function(B){return E()(B)==="object"?l.Children.toArray((0,t.jsx)("p",{children:Object.keys(B).map(function(z){return"".concat(z,": ").concat(B[z])}).join(", ")})):B}):h.value}}],T=function V(p,h){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return!p||E()(p)!=="object"?!1:(Object.keys(p).forEach(function(z){var pe=p[z];z===h?B.push(p):E()(pe)==="object"&&V(pe,h,B)}),B)},ne=function(p){var h=p.packageName,B=p.values,z=p.onValueUpdated,pe=(0,a.useIntl)(),k=(0,l.useState)(),me=u()(k,2),je=me[0],ge=me[1],he=(0,l.useMemo)(function(){var Pe=B[h];return T(Pe,"rules")},[B,h]);return(0,t.jsxs)(l.Fragment,{children:[(0,t.jsx)(I.ZP,{headerTitle:pe.formatMessage({id:"menu.settings"}),rowKey:"key",search:{layout:"vertical"},columns:[].concat(N,[{hideInSearch:!0,title:(0,t.jsx)(a.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(Q,Ce){return[(0,t.jsx)(ee.Z,{title:(0,t.jsx)(a.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,t.jsx)(Y.ZP,{type:"primary",icon:(0,t.jsx)(_.Z,{}),onClick:function(){return ge(Ce)}})},"edit")]}}]),request:function(Q,Ce){var q=Q.key,ue=Ce&&Object.entries(Ce)[0];return new Promise(function(Ee){var Me=he?r()(he):[];q&&(Me=Me.filter(function(Ie){return Ie.key.toLowerCase().includes(q.toLowerCase())})),ue&&(Me=(0,g.Pf)(Me,ue[0],ue[1]!=="ascend")),Ee({data:Me,success:!0,total:Me.length})})}}),je&&(0,t.jsx)(c,{value:je,visible:je!==void 0,onVisibleChange:function(Q){return Q===!1&&ge(void 0)},onFinish:f()(m()().mark(function Pe(){return m()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:z();case 1:case"end":return Ce.stop()}},Pe)}))})]})},Oe=ne,be=e(9783),De=e.n(be),K=e(51042),le=e(2453),_e=e(86738),ve=e(82061),se=e(62343),$=function(){var V=f()(m()().mark(function p(h,B,z){var pe;return m()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return pe=le.ZP.loading(h.formatMessage({id:"loading"})),me.prev=1,me.next=4,z&&z!==-1?(0,A.VP)(z,n()({},B)):(0,A.oh)(n()({},B));case 4:return pe(),le.ZP.success(h.formatMessage({id:"success"})),me.abrupt("return",!0);case 9:return me.prev=9,me.t0=me.catch(1),pe(),le.ZP.error(h.formatMessage({id:"error"})),me.abrupt("return",!1);case 14:case"end":return me.stop()}},p,null,[[1,9]])}));return function(h,B,z){return V.apply(this,arguments)}}(),X=function(){var V=f()(m()().mark(function p(h,B){var z;return m()().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return z=le.ZP.loading(h.formatMessage({id:"loading"})),k.prev=1,k.next=4,(0,A.Rb)(B);case 4:return z(),le.ZP.success(h.formatMessage({id:"success"})),k.abrupt("return",!0);case 9:return k.prev=9,k.t0=k.catch(1),z(),le.ZP.error(h.formatMessage({id:"error"})),k.abrupt("return",!1);case 14:case"end":return k.stop()}},p,null,[[1,9]])}));return function(h,B){return V.apply(this,arguments)}}(),fe=function(){var p=(0,l.useState)(!1),h=u()(p,2),B=h[0],z=h[1],pe=(0,l.useState)([]),k=u()(pe,2),me=k[0],je=k[1],ge=(0,l.useRef)(),he=(0,a.useIntl)(),Pe=(0,a.useModel)("@@initialState"),Q=Pe.setInitialState;(0,l.useEffect)(function(){(0,A.FF)().then(function(q){q.success&&je(q.data.filter(function(ue){return ue!=="global"}))})},[]);var Ce=[{title:(0,t.jsx)(a.FormattedMessage,{id:"group",defaultMessage:"group"}),dataIndex:"group",hideInSearch:!1,key:"group",valueType:"select",width:100,valueEnum:me.sort().reduce(function(q,ue){return n()(n()({},q),{},De()({},ue,ue))},{})},{title:(0,t.jsx)(a.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:(0,t.jsx)(a.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:(0,t.jsx)(a.FormattedMessage,{id:"enumerable",defaultMessage:"enumerable"}),dataIndex:"enumerable",hideInForm:!0,hideInSearch:!0,render:function(ue,Ee){return(0,t.jsx)(J.Z,{color:Ee.enumerable?"success":"error",children:(0,t.jsx)(a.FormattedMessage,{id:Ee.enumerable?"true":"false",defaultMessage:Ee.enumerable?"true":"false"})})}},{title:(0,t.jsx)(a.FormattedMessage,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(ue,Ee){return(0,t.jsx)(J.Z,{color:Ee.public?"success":"error",children:(0,t.jsx)(a.FormattedMessage,{id:Ee.public?"true":"false",defaultMessage:Ee.public?"true":"false"})})}},{hideInSearch:!0,title:(0,t.jsx)(a.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(ue,Ee){return[(0,t.jsx)(ee.Z,{title:(0,t.jsx)(a.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,t.jsx)(Y.ZP,{type:"primary",icon:(0,t.jsx)(_.Z,{}),onClick:function(){return z(Ee.id)}})},"edit"),(0,t.jsx)(_e.Z,{title:(0,t.jsx)(a.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:f()(m()().mark(function Me(){var Ie;return m()().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Le.next=2,X(he,Ee.id);case 2:Ie=Le.sent,Ie&&(z(!1),ge.current&&ge.current.reload());case 4:case"end":return Le.stop()}},Me)})),okText:(0,t.jsx)(a.FormattedMessage,{id:"yes",defaultMessage:"Yes"}),cancelText:(0,t.jsx)(a.FormattedMessage,{id:"no",defaultMessage:"No"}),children:(0,t.jsx)(ee.Z,{title:(0,t.jsx)(a.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,t.jsx)(Y.ZP,{type:"primary",icon:(0,t.jsx)(ve.Z,{}),danger:!0})})},"delete")]}}];return(0,t.jsxs)(l.Fragment,{children:[(0,t.jsx)(I.ZP,{headerTitle:he.formatMessage({id:"menu.settings"}),actionRef:ge,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[(0,t.jsxs)(Y.ZP,{type:"primary",onClick:function(){z(-1)},children:[(0,t.jsx)(K.Z,{})," ",(0,t.jsx)(a.FormattedMessage,{id:"pages.searchTable.new"})]},"primary")]},request:function(ue){var Ee=ue.pageSize,Me=ue.current,Ie=ue.group;return(0,A.Xd)({per_page:Ee,current:Me,group:Ie}).then(function(Se){return Se.success?{data:Se.data.filter(function(Le){return Le.group!=="global"}),total:Se.meta.total,success:!0}:[]})},columns:Ce}),(0,t.jsx)(se.ZP,{groups:me,id:B,visible:Number.isInteger(B),onVisibleChange:function(ue){return!ue&&z(!1)},onFinish:function(){var q=f()(m()().mark(function ue(Ee){var Me,Ie,Se;return m()().wrap(function(Te){for(;;)switch(Te.prev=Te.next){case 0:return Me=Ee,Te.next=3,$(he,Me,Number(B));case 3:if(Ie=Te.sent,!Ie){Te.next=12;break}if(z(!1),ge.current&&ge.current.reload(),Me.group!=="global"){Te.next=12;break}return Te.next=10,(0,A.Xd)({current:1,per_page:100,group:"global"});case 10:Se=Te.sent,Q(function(Re){return n()(n()({},Re),{},{config:Se.success?Se.data:Re==null?void 0:Re.config})});case 12:case"end":return Te.stop()}},ue)}));return function(ue){return q.apply(this,arguments)}}()})]})},ye=fe;function ie(V){var p=V.replaceAll("escolalms",""),h=p.split("_"),B=h.map(function(z){return z.charAt(0).toUpperCase()+z.slice(1)});return B.join(" ")}function Ae(V,p){var h=["global_settings","user_settings"];return h.includes(V)?p.formatMessage({id:String(V)}):p.formatMessage({id:"Settings.package"},{package:ie(V)})}var xe=function(){var V=(0,a.useParams)(),p=(0,a.useIntl)(),h=V.tab,B=h===void 0?"user_settings":h,z=(0,l.useState)(),pe=u()(z,2),k=pe[0],me=pe[1],je=(0,l.useCallback)(function(){(0,A.rH)().then(function(Q){Q.success&&me(Q.data)})},[]),ge=(0,a.useModel)("@@initialState"),he=ge.initialState,Pe=(0,l.useCallback)(function(){var Q;return(he==null||(Q=he.config)===null||Q===void 0?void 0:Q.length)!==0},[he]);return(0,l.useEffect)(function(){je()},[]),k?(0,t.jsxs)(i._z,{title:Ae(B,p),header:{breadcrumb:{routes:[{path:"settings",breadcrumbName:p.formatMessage({id:"menu.Configuration.settings"})},{path:String(B),breadcrumbName:Ae(B,p)}]}},children:[!Pe()&&(0,t.jsx)(x.Z,{message:(0,t.jsx)(a.FormattedMessage,{id:"global_settings_alert_title",defaultMessage:"Add global settings"}),description:(0,t.jsx)(a.FormattedMessage,{id:"global_settings_alert_description",defaultMessage:"Global settings are used to configure the entire LMS. You can add global settings by clicking the button below."}),type:"warning",showIcon:!0,style:{marginBottom:"20px"}}),(0,t.jsxs)(y.ZP,{tabs:{type:"card",activeKey:B,onChange:function(Ce){return a.history.push("/configuration/settings/".concat(Ce))}},children:[(0,t.jsx)(y.ZP.TabPane,{tab:(0,t.jsx)(a.FormattedMessage,{id:"user.settings"}),children:(0,t.jsx)(ye,{})},"user_settings"),(0,t.jsx)(y.ZP.TabPane,{tab:(0,t.jsx)(a.FormattedMessage,{id:"global_settings"}),children:(0,t.jsx)(j.ZP,{})},"global_settings"),Object.keys(k).map(function(Q){return(0,t.jsxs)(y.ZP.TabPane,{tab:(0,t.jsx)("span",{children:(0,t.jsx)(a.FormattedMessage,{id:"Settings.package",values:{package:ie(Q)}})}),children:[(0,t.jsx)(Oe,{values:k,packageName:Q,onValueUpdated:function(){return je()}}),Q]},Q)})]})]}):(0,t.jsx)(d.Z,{})}},31472:function(oe,D,e){e.d(D,{Fh:function(){return j},UL:function(){return A},Yo:function(){return L},Zg:function(){return f},cX:function(){return a},ce:function(){return l},fS:function(){return m},fn:function(){return d},h5:function(){return F},oz:function(){return o},rX:function(){return U},uT:function(){return i}});var o=function(r){return r.Unselected="",r.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",r.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",r.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",r.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",r.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",r.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",r.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",r.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",r.Project="EscolaLms\\TopicTypeProject\\Models\\Project",r.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz",r}({}),u=function(r){return r.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",r.UserLogged="EscolaLms\\Auth\\Events\\UserLogged",r}({}),y=function(r){return r.draft="draft",r.published="published",r.archived="archived",r}({}),i=function(r){return r.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",r.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",r.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel",r}({}),d=function(r){return r.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent",r}({}),x=function(r){return r.cart_fixed="cart_fixed",r.cart_percent="cart_percent",r.product_fixed="product_fixed",r.product_percent="product_percent",r}({}),l=function(r){return r.MULTIPLE_CHOICE="multiple_choice",r.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",r.TRUE_FALSE="true_false",r.SHORT_ANSWERS="short_answers",r.MATCHING="matching",r.NUMERICAL_QUESTION="numerical_question",r.ESSAY="essay",r.DESCRIPTION="description",r}({}),a=function(r){return r.PRESENT="present",r.PRESENT_NOT_EXERCISING="present_not_exercising",r.ABSENT="absent",r.EXCUSED_ABSENCE="excused_absence",r}({}),A=function(r){return r.Manual="manual",r.TeamsForms="teams_forms",r.TeamsLecture="teams_lecture",r.TestPortal="test_portal",r}({}),j=function(r){return r.Simple="simple",r.Complex="complex",r}({}),U=function(r){return r.QuizSummary="EscolaLms\\Reports\\Stats\\Topic\\QuizSummaryForTopicTypeGIFT",r}({}),m=function(r){return r.Boolean="boolean",r.Number="number",r.Varchar="varchar",r.Text="text",r.Json="json",r}({}),L=function(r){return r.Rate="rate",r.Text="text",r.Review="review",r}({}),f=function(r){return r.Exercise="exercise",r.Course="course",r.Info="info",r}({}),F=function(r){return r.Group="EscolaLms\\PcgIntegration\\Models\\Group",r}({})},17578:function(oe,D,e){e.d(D,{Od:function(){return F},QZ:function(){return a},ht:function(){return j},pV:function(){return f},ws:function(){return m}});var o=e(15009),u=e.n(o),y=e(97857),i=e.n(y),d=e(99289),x=e.n(d),l=e(80854);function a(O,E){return A.apply(this,arguments)}function A(){return A=x()(u()().mark(function O(E,g){return u()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",(0,l.request)("/api/admin/file/list",i()({method:"GET",params:E},g||{})));case 1:case"end":return I.stop()}},O)})),A.apply(this,arguments)}function j(O,E){return U.apply(this,arguments)}function U(){return U=x()(u()().mark(function O(E,g){return u()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",(0,l.request)("/api/admin/file/find",i()({method:"GET",params:E},g||{})));case 1:case"end":return I.stop()}},O)})),U.apply(this,arguments)}function m(O,E,g){return L.apply(this,arguments)}function L(){return L=x()(u()().mark(function O(E,g,_){var I;return u()().wrap(function(ee){for(;;)switch(ee.prev=ee.next){case 0:return I=new FormData,I.append("file[]",E),I.append("target",g),ee.abrupt("return",(0,l.request)("/api/admin/file/upload",i()({method:"POST",data:I},_||{})));case 4:case"end":return ee.stop()}},O)})),L.apply(this,arguments)}var f=function(E){var g=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(E,"&w=").concat(g)};function F(O,E){return r.apply(this,arguments)}function r(){return r=x()(u()().mark(function O(E,g){return u()().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",(0,l.request)("/api/admin/file/delete",i()({method:"DELETE",data:{url:E}},g||{})));case 1:case"end":return I.stop()}},O)})),r.apply(this,arguments)}},49288:function(oe,D,e){var o=e(67294),u=e(93967),y=e.n(u),i=e(50344),d=e(98423),x=e(87263),l=e(8745),a=e(96159),A=e(53124),j=e(83863);const{Option:U}=j.default;function m(r){return r&&r.type&&(r.type.isSelectOption||r.type.isSelectOptGroup)}const L=(r,O)=>{var E;const{prefixCls:g,className:_,popupClassName:I,dropdownClassName:J,children:ee,dataSource:Y}=r,W=(0,i.Z)(ee);let n;W.length===1&&(0,a.l$)(W[0])&&!m(W[0])&&([n]=W);const G=n?()=>n:void 0;let te;W.length&&m(W[0])?te=ee:te=Y?Y.map(P=>{if((0,a.l$)(P))return P;switch(typeof P){case"string":return o.createElement(U,{key:P,value:P},P);case"object":{const{value:R}=P;return o.createElement(U,{key:R,value:R},P.text)}default:return}}):[];const{getPrefixCls:de}=o.useContext(A.E_),re=de("select",g),[s]=(0,x.Cn)("SelectLike",(E=r.dropdownStyle)===null||E===void 0?void 0:E.zIndex);return o.createElement(j.default,Object.assign({ref:O,suffixIcon:null},(0,d.Z)(r,["dataSource","dropdownClassName"]),{prefixCls:re,popupClassName:I||J,dropdownStyle:Object.assign(Object.assign({},r.dropdownStyle),{zIndex:s}),className:y()(`${re}-auto-complete`,_),mode:j.default.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:G}),te)},f=o.forwardRef(L),F=(0,l.Z)(f);f.Option=U,f._InternalPanelDoNotUseOrYouWillBeFired=F,D.Z=f},66309:function(oe,D,e){e.d(D,{Z:function(){return re}});var o=e(67294),u=e(62208),y=e(93967),i=e.n(y),d=e(98787),x=e(69760),l=e(45353),a=e(53124),A=e(6731),j=e(10274),U=e(14747),m=e(45503),L=e(91945);const f=s=>{const{paddingXXS:P,lineWidth:R,tagPaddingHorizontal:C,componentCls:t,calc:Z}=s,w=Z(C).sub(R).equal(),ae=Z(P).sub(R).equal();return{[t]:Object.assign(Object.assign({},(0,U.Wf)(s)),{display:"inline-block",height:"auto",marginInlineEnd:s.marginXS,paddingInline:w,fontSize:s.tagFontSize,lineHeight:s.tagLineHeight,whiteSpace:"nowrap",background:s.defaultBg,border:`${(0,A.unit)(s.lineWidth)} ${s.lineType} ${s.colorBorder}`,borderRadius:s.borderRadiusSM,opacity:1,transition:`all ${s.motionDurationMid}`,textAlign:"start",position:"relative",[`&${t}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:s.defaultColor},[`${t}-close-icon`]:{marginInlineStart:ae,fontSize:s.tagIconSize,color:s.colorTextDescription,cursor:"pointer",transition:`all ${s.motionDurationMid}`,"&:hover":{color:s.colorTextHeading}},[`&${t}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${s.iconCls}-close, ${s.iconCls}-close:hover`]:{color:s.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${t}-checkable-checked):hover`]:{color:s.colorPrimary,backgroundColor:s.colorFillSecondary},"&:active, &-checked":{color:s.colorTextLightSolid},"&-checked":{backgroundColor:s.colorPrimary,"&:hover":{backgroundColor:s.colorPrimaryHover}},"&:active":{backgroundColor:s.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${s.iconCls} + span, > span + ${s.iconCls}`]:{marginInlineStart:w}}),[`${t}-borderless`]:{borderColor:"transparent",background:s.tagBorderlessBg}}},F=s=>{const{lineWidth:P,fontSizeIcon:R,calc:C}=s,t=s.fontSizeSM;return(0,m.TS)(s,{tagFontSize:t,tagLineHeight:(0,A.unit)(C(s.lineHeightSM).mul(t).equal()),tagIconSize:C(R).sub(C(P).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:s.defaultBg})},r=s=>({defaultBg:new j.C(s.colorFillQuaternary).onBackground(s.colorBgContainer).toHexString(),defaultColor:s.colorText});var O=(0,L.I$)("Tag",s=>{const P=F(s);return f(P)},r),E=function(s,P){var R={};for(var C in s)Object.prototype.hasOwnProperty.call(s,C)&&P.indexOf(C)<0&&(R[C]=s[C]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,C=Object.getOwnPropertySymbols(s);t<C.length;t++)P.indexOf(C[t])<0&&Object.prototype.propertyIsEnumerable.call(s,C[t])&&(R[C[t]]=s[C[t]]);return R},_=o.forwardRef((s,P)=>{const{prefixCls:R,style:C,className:t,checked:Z,onChange:w,onClick:ae}=s,b=E(s,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:S,tag:M}=o.useContext(a.E_),ce=ne=>{w==null||w(!Z),ae==null||ae(ne)},H=S("tag",R),[v,c,N]=O(H),T=i()(H,`${H}-checkable`,{[`${H}-checkable-checked`]:Z},M==null?void 0:M.className,t,c,N);return v(o.createElement("span",Object.assign({},b,{ref:P,style:Object.assign(Object.assign({},C),M==null?void 0:M.style),className:T,onClick:ce})))}),I=e(98719);const J=s=>(0,I.Z)(s,(P,R)=>{let{textColor:C,lightBorderColor:t,lightColor:Z,darkColor:w}=R;return{[`${s.componentCls}${s.componentCls}-${P}`]:{color:C,background:Z,borderColor:t,"&-inverse":{color:s.colorTextLightSolid,background:w,borderColor:w},[`&${s.componentCls}-borderless`]:{borderColor:"transparent"}}}});var ee=(0,L.bk)(["Tag","preset"],s=>{const P=F(s);return J(P)},r);function Y(s){return typeof s!="string"?s:s.charAt(0).toUpperCase()+s.slice(1)}const W=(s,P,R)=>{const C=Y(R);return{[`${s.componentCls}${s.componentCls}-${P}`]:{color:s[`color${R}`],background:s[`color${C}Bg`],borderColor:s[`color${C}Border`],[`&${s.componentCls}-borderless`]:{borderColor:"transparent"}}}};var n=(0,L.bk)(["Tag","status"],s=>{const P=F(s);return[W(P,"success","Success"),W(P,"processing","Info"),W(P,"error","Error"),W(P,"warning","Warning")]},r),G=function(s,P){var R={};for(var C in s)Object.prototype.hasOwnProperty.call(s,C)&&P.indexOf(C)<0&&(R[C]=s[C]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,C=Object.getOwnPropertySymbols(s);t<C.length;t++)P.indexOf(C[t])<0&&Object.prototype.propertyIsEnumerable.call(s,C[t])&&(R[C[t]]=s[C[t]]);return R};const te=(s,P)=>{const{prefixCls:R,className:C,rootClassName:t,style:Z,children:w,icon:ae,color:b,onClose:S,closeIcon:M,closable:ce,bordered:H=!0}=s,v=G(s,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:c,direction:N,tag:T}=o.useContext(a.E_),[ne,Oe]=o.useState(!0);o.useEffect(()=>{"visible"in v&&Oe(v.visible)},[v.visible]);const be=(0,d.o2)(b),De=(0,d.yT)(b),K=be||De,le=Object.assign(Object.assign({backgroundColor:b&&!K?b:void 0},T==null?void 0:T.style),Z),_e=c("tag",R),[ve,se,$]=O(_e),X=i()(_e,T==null?void 0:T.className,{[`${_e}-${b}`]:K,[`${_e}-has-color`]:b&&!K,[`${_e}-hidden`]:!ne,[`${_e}-rtl`]:N==="rtl",[`${_e}-borderless`]:!H},C,t,se,$),fe=p=>{p.stopPropagation(),S==null||S(p),!p.defaultPrevented&&Oe(!1)},[,ye]=(0,x.Z)(ce,M!=null?M:T==null?void 0:T.closeIcon,p=>p===null?o.createElement(u.Z,{className:`${_e}-close-icon`,onClick:fe}):o.createElement("span",{className:`${_e}-close-icon`,onClick:fe},p),null,!1),ie=typeof v.onClick=="function"||w&&w.type==="a",Ae=ae||null,xe=Ae?o.createElement(o.Fragment,null,Ae,w&&o.createElement("span",null,w)):w,V=o.createElement("span",Object.assign({},v,{ref:P,className:X,style:le}),xe,ye,be&&o.createElement(ee,{key:"preset",prefixCls:_e}),De&&o.createElement(n,{key:"status",prefixCls:_e}));return ve(ie?o.createElement(l.Z,{component:"Tag"},V):V)},de=o.forwardRef(te);de.CheckableTag=_;var re=de}}]);
