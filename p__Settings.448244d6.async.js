(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"5qq5":function(he,H,e){"use strict";var be=e("7Kak"),ie=e("9yH6"),U=e("VTBJ"),ue=e("Ff2n"),K=e("nKUr"),g=e.n(K),k=e("uX+g"),E=e("q1tI"),W=e.n(E),r=e("WFLz"),j=e("adzw"),S=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],te=W.a.forwardRef(function(s,L){var G=s.fieldProps,x=s.options,de=s.radioType,P=s.layout,R=s.proFieldProps,Oe=s.valueEnum,z=Object(ue.a)(s,S);return Object(K.jsx)(j.a,Object(U.a)(Object(U.a)({valueType:de==="button"?"radioButton":"radio",ref:L,valueEnum:Object(k.a)(Oe,void 0)},z),{},{fieldProps:Object(U.a)({options:x,layout:P},G),proFieldProps:R,filedConfig:{customLightMode:!0}}))}),ae=W.a.forwardRef(function(s,L){var G=s.fieldProps,x=s.children;return Object(K.jsx)(ie.a,Object(U.a)(Object(U.a)({},G),{},{ref:L,children:x}))}),Z=Object(r.a)(ae,{valuePropName:"checked",ignoreWidth:!0}),M=Z;M.Group=te,M.Button=ie.a.Button,M.displayName="ProFormComponent",H.a=M},FJDo:function(he,H,e){"use strict";var be=e("VTBJ"),ie=e("Ff2n"),U=e("nKUr"),ue=e.n(U),K=e("q1tI"),g=e.n(K),k=e("adzw"),E=["fieldProps","min","proFieldProps","max"],W=function(j,S){var te=j.fieldProps,ae=j.min,Z=j.proFieldProps,M=j.max,s=Object(ie.a)(j,E);return Object(U.jsx)(k.a,Object(be.a)({valueType:"digit",fieldProps:Object(be.a)({min:ae,max:M},te),ref:S,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:Z},s))};H.a=g.a.forwardRef(W)},HEzf:function(he,H,e){"use strict";var be=e("EFp3"),ie=e("O/iA"),U=e("OaEy"),ue=e("wx14"),K=e("U8pU"),g=e("ODXe"),k=e("TSYQ"),E=e.n(k),W=e("Zm9Q"),r=e("bT9E"),j=e("q1tI"),S=e.n(j),te=e("H84U"),ae=e("2fM7"),Z=e("0n0R"),M=ae.a.Option;function s(p){return p&&p.type&&(p.type.isSelectOption||p.type.isSelectOptGroup)}var L=function(b,je){var fe=b.prefixCls,w=b.className,m=b.popupClassName,c=b.dropdownClassName,d=b.children,F=b.dataSource,J=Object(W.a)(d),h;if(J.length===1&&Object(Z.c)(J[0])&&!s(J[0])){var $=Object(g.a)(J,1);h=$[0]}var ce=h?function(){return h}:void 0,Te;return J.length&&s(J[0])?Te=d:Te=F?F.map(function(re){if(Object(Z.c)(re))return re;switch(Object(K.a)(re)){case"string":return j.createElement(M,{key:re,value:re},re);case"object":{var Y=re.value;return j.createElement(M,{key:Y,value:Y},re.text)}default:return}}):[],j.createElement(te.a,null,function(re){var Y=re.getPrefixCls,ve=Y("select",fe);return j.createElement(ae.a,Object(ue.a)({ref:je},Object(r.a)(b,["dataSource"]),{prefixCls:ve,popupClassName:m||c,className:E()("".concat(ve,"-auto-complete"),w),mode:ae.a.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:ce}),Te)})},G=j.forwardRef(L);G.Option=M;var x=G,de=e("y8nQ"),P=e("Vl3Y"),R=e("+L6B"),Oe=e("2/Rp"),z=e("5NDa"),i=e("5rEg"),ye=e("tJVT"),C=e("VMEa"),Fe=e("rmhi"),Ee=e("Qurx"),Ce=e("F/zT"),t=e("5qq5"),Ie=e("BiO0"),Ae=e("tneF"),Le=e("FJDo"),X=e("9kvl"),Re=e("+up7"),Me=e("hd5d"),Be=e("3fxf"),f=e("ovOe"),D=e.n(f),T=e("bRQS"),_=e("4i/N"),a=e("nKUr"),le=function(b){var je=b.value,fe=b.onChange,w=b.type,m=w===void 0?"file":w,c=Object(j.useState)(!1),d=Object(ye.a)(c,2),F=d[0],J=d[1];return Object(a.jsxs)(S.a.Fragment,{children:[Object(a.jsxs)(C.a.Group,{children:[Object(a.jsx)(i.a,{value:je,readOnly:!0}),Object(a.jsxs)(Oe.a,{size:"small",type:"primary",onClick:function(){return J(!F)},children:["toggle ",m," browser"]})]}),F&&Object(a.jsx)(Be.a,{onFile:function($,ce){return fe&&fe("".concat(ce,"/").concat($.name))}})]})},N=function(b){var je=Object(X.l)(),fe=b.visible,w=b.onVisibleChange,m=b.onFinish,c=b.id,d=b.initialData,F=b.groups,J=P.a.useForm(),h=Object(ye.a)(J,1),$=h[0],ce=!c||c===-1,Te=Object(j.useState)("text"),re=Object(ye.a)(Te,2),Y=re[0],ve=re[1],Se=Object(j.useCallback)(function(){return!!($.getFieldValue("group")==="global"||d)},[$,d]),Ke=Object(j.useState)(""),B=Object(ye.a)(Ke,2),l=B[0],n=B[1];Object(j.useEffect)(function(){if(typeof c=="object"){var o;$.setFieldsValue(c),ve((o=c.type)!==null&&o!==void 0?o:"text")}else c&&c!==-1?Object(Re.e)(Number(c)).then(function(v){v.success&&($.setFieldsValue(v.data),ve(v.data.type),n(v.data.group))}):($.resetFields(),ve("text"))},[c,$,d]);var u=Object(j.useCallback)(function(o){o.type&&o.type!==Y&&ve(o.type)},[Y]);return Object(a.jsxs)(Fe.a,{form:$,title:je.formatMessage({id:c?"editSetting":"newSetting",defaultMessage:c?"editSetting":"newSetting"}),width:"60vw",visible:!!fe,onVisibleChange:w,onFinish:m,onValuesChange:u,children:[Object(a.jsxs)(C.a.Group,{children:[d?Object(a.jsx)(Ee.a,{label:Object(a.jsx)(X.a,{id:"group",defaultMessage:"group"}),rules:[{required:!0}],width:"md",name:"group",disabled:Se()}):Object(a.jsx)(C.a.Item,{label:Object(a.jsx)(X.a,{id:"group",defaultMessage:"group"}),name:"group",children:Object(a.jsx)(x,{style:{width:"300px"},autoFocus:!0,value:l,onChange:function(v){return n(v)},filterOption:function(v,O){var A;return(O==null||(A=O.children)===null||A===void 0?void 0:A.toString().toLowerCase().indexOf(v.toLowerCase()))!==-1},children:F.map(function(o){return Object(a.jsx)(x.Option,{value:o,children:o},o)})})}),Object(a.jsx)(Ee.a,{label:Object(a.jsx)(X.a,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key",disabled:Se()})]}),Object(a.jsxs)(C.a.Group,{children:[Object(a.jsx)(Ce.a,{name:"enumerable",disabled:Se(),label:Object(a.jsx)(X.a,{id:"enumerable",defaultMessage:"enumerable"})}),Object(a.jsx)(Ce.a,{name:"public",disabled:Se(),label:Object(a.jsx)(X.a,{id:"public",defaultMessage:"public"})})]}),Object(a.jsx)(C.a.Group,{children:Object(a.jsx)(t.a.Group,{disabled:!!(!ce||d),name:"type",label:Object(a.jsx)(X.a,{id:"type"}),options:[{label:"text",value:"text"},{label:"markdown",value:"markdown"},{label:"json",value:"json"},{label:"file",value:"file"},{label:"image",value:"image"},{label:"boolean",value:"boolean"},{label:"number",value:"number"},{label:"array",value:"array"}]})}),Object(a.jsxs)("div",{children:[Y==="text"&&Object(a.jsx)(Ee.a,{width:"lg",name:"value",label:Object(a.jsx)(X.a,{id:"value"})}),Y==="json"&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ie.a,{width:"lg",name:"value",label:Object(a.jsx)(X.a,{id:"value"}),tooltip:"".concat(je.formatMessage({id:"example_json"}),': {"name":"John", "age":30, "city":["New York","Warsaw"]}')}),Object(a.jsx)(C.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(a.jsx)(D.a,{src:JSON.parse($.getFieldValue("value"))})}catch(v){return Object(a.jsx)(D.a,{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]}),(Y==="file"||Y==="image")&&Object(a.jsx)(C.a.Item,{name:"value",label:"value",tooltip:"select file from current repository or upload new one",valuePropName:"value",children:Object(a.jsx)(le,{type:Y})}),Y==="markdown"&&Object(a.jsx)(C.a.Item,{name:"value",label:"value",tooltip:"The editor is WYSIWYG and includes formatting tools whilst retaining the ability to write markdown shortcuts inline and output plain Markdown.",valuePropName:"value",children:Object(a.jsx)(Me.a,{directory:"settings/wysiwyg"})}),Y==="boolean"?Object(a.jsx)(Ce.a,{name:"data",label:Object(a.jsx)(X.a,{id:"value"}),checkedChildren:Object(a.jsx)(T.a,{}),unCheckedChildren:Object(a.jsx)(_.a,{})}):Object(a.jsx)(C.a.Item,{noStyle:!0,hidden:!0,children:Object(a.jsx)(Ae.a,{name:"data",valuePropName:"data"})}),Y==="number"&&Object(a.jsx)(Le.a,{name:"data",label:Object(a.jsx)(X.a,{id:"value"})}),Y==="array"&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Ie.a,{width:"lg",name:"value",label:Object(a.jsx)(X.a,{id:"value"}),tooltip:"".concat(je.formatMessage({id:"example_json"}),": ['tutor', 'student']")}),Object(a.jsx)(C.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(a.jsx)(D.a,{src:JSON.parse($.getFieldValue("value"))})}catch(v){return Object(a.jsx)(D.a,{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]})]})]})},De=H.a=N},"O/iA":function(he,H,e){},YjuE:function(he,H,e){"use strict";e.r(H);var be=e("fOrg"),ie=e("+KLJ"),U=e("T2oS"),ue=e("W9HT"),K=e("tJVT"),g=e("q1tI"),k=e.n(g),E=e("nhC9"),W=e("Ty5D"),r=e("9kvl"),j=e("tMyG"),S=e("+up7"),te=e("P2fV"),ae=e("NJEC"),Z=e("5Dmo"),M=e("3S7+"),s=e("+L6B"),L=e("2/Rp"),G=e("+BJd"),x=e("mr32"),de=e("jrin"),P=e("qLMh"),R=e("k1fw"),Oe=e("miYZ"),z=e("tsqr"),i=e("9og8"),ye=e("xvlK"),C=e("Qiat"),Fe=e("HEzf"),Ee=e("G3dp"),Ce=e("/MfK"),t=e("nKUr"),Ie=function(){var B=Object(i.a)(Object(P.a)().mark(function l(n,u,o){var v;return Object(P.a)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return v=z.b.loading(n.formatMessage({id:"loading"})),A.prev=1,A.next=4,o&&o!==-1?Object(S.i)(o,Object(R.a)({},u)):Object(S.b)(Object(R.a)({},u));case 4:return v(),z.b.success(n.formatMessage({id:"success"})),A.abrupt("return",!0);case 9:return A.prev=9,A.t0=A.catch(1),v(),z.b.error(n.formatMessage({id:"error"})),A.abrupt("return",!1);case 14:case"end":return A.stop()}},l,null,[[1,9]])}));return function(n,u,o){return B.apply(this,arguments)}}(),Ae=function(){var B=Object(i.a)(Object(P.a)().mark(function l(n,u){var o;return Object(P.a)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return o=z.b.loading(n.formatMessage({id:"loading"})),O.prev=1,O.next=4,Object(S.c)(u);case 4:return o(),z.b.success(n.formatMessage({id:"success"})),O.abrupt("return",!0);case 9:return O.prev=9,O.t0=O.catch(1),o(),z.b.error(n.formatMessage({id:"error"})),O.abrupt("return",!1);case 14:case"end":return O.stop()}},l,null,[[1,9]])}));return function(n,u){return B.apply(this,arguments)}}(),Le=function(){var l=Object(g.useState)(!1),n=Object(K.a)(l,2),u=n[0],o=n[1],v=Object(g.useState)([]),O=Object(K.a)(v,2),A=O[0],me=O[1],Q=Object(g.useRef)(),q=Object(r.l)(),ne=Object(r.m)("@@initialState"),y=ne.setInitialState;Object(g.useEffect)(function(){Object(S.f)().then(function(I){I.success&&me(I.data.filter(function(V){return V!=="global"}))})},[]);var oe=[{title:Object(t.jsx)(r.a,{id:"group",defaultMessage:"group"}),dataIndex:"group",hideInSearch:!1,key:"group",valueType:"select",width:100,valueEnum:A.sort().reduce(function(I,V){return Object(R.a)(Object(R.a)({},I),{},Object(de.a)({},V,V))},{})},{title:Object(t.jsx)(r.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(t.jsx)(r.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:Object(t.jsx)(r.a,{id:"enumerable",defaultMessage:"enumerable"}),dataIndex:"enumerable",hideInForm:!0,hideInSearch:!0,render:function(V,ee){return Object(t.jsx)(x.a,{color:ee.enumerable?"success":"error",children:Object(t.jsx)(r.a,{id:ee.enumerable?"true":"false",defaultMessage:ee.enumerable?"true":"false"})})}},{title:Object(t.jsx)(r.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(V,ee){return Object(t.jsx)(x.a,{color:ee.public?"success":"error",children:Object(t.jsx)(r.a,{id:ee.public?"true":"false",defaultMessage:ee.public?"true":"false"})})}},{hideInSearch:!0,title:Object(t.jsx)(r.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(V,ee){return[Object(t.jsx)(M.a,{title:Object(t.jsx)(r.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(L.a,{type:"primary",icon:Object(t.jsx)(Ee.a,{}),onClick:function(){return o(ee.id)}})},"edit"),Object(t.jsx)(ae.a,{title:Object(t.jsx)(r.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(i.a)(Object(P.a)().mark(function se(){var ge;return Object(P.a)().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,Ae(q,ee.id);case 2:ge=Pe.sent,ge&&(o(!1),Q.current&&Q.current.reload());case 4:case"end":return Pe.stop()}},se)})),okText:Object(t.jsx)(r.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(r.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(M.a,{title:Object(t.jsx)(r.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(L.a,{type:"primary",icon:Object(t.jsx)(Ce.a,{}),danger:!0})})},"delete")]}}];return Object(t.jsxs)(k.a.Fragment,{children:[Object(t.jsx)(C.a,{headerTitle:q.formatMessage({id:"menu.settings"}),actionRef:Q,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[Object(t.jsxs)(L.a,{type:"primary",onClick:function(){o(-1)},children:[Object(t.jsx)(ye.a,{})," ",Object(t.jsx)(r.a,{id:"pages.searchTable.new"})]},"primary")]},request:function(V){var ee=V.pageSize,se=V.current,ge=V.group;return Object(S.g)({per_page:ee,current:se,group:ge}).then(function(xe){return xe.success?{data:xe.data.filter(function(Pe){return Pe.group!=="global"}),total:xe.meta.total,success:!0}:[]})},columns:oe}),Object(t.jsx)(Fe.a,{groups:A,id:u,visible:Number.isInteger(u),onVisibleChange:function(V){return!V&&o(!1)},onFinish:function(){var I=Object(i.a)(Object(P.a)().mark(function V(ee){var se,ge,xe;return Object(P.a)().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return se=ee,pe.next=3,Ie(q,se,Number(u));case 3:if(ge=pe.sent,!ge){pe.next=12;break}if(o(!1),Q.current&&Q.current.reload(),se.group!=="global"){pe.next=12;break}return pe.next=10,Object(S.g)({current:1,per_page:100,group:"global"});case 10:xe=pe.sent,y(function(Ue){return Object(R.a)(Object(R.a)({},Ue),{},{config:xe.success?xe.data:Ue==null?void 0:Ue.config})});case 12:case"end":return pe.stop()}},V)}));return function(V){return I.apply(this,arguments)}}()})]})},X=Le,Re=e("oBTY"),Me=e("y8nQ"),Be=e("Vl3Y"),f=e("tU7J"),D=e("wFql"),T=e("rmhi"),_=e("VMEa"),a=e("F/zT"),le=e("BiO0"),N=e("ovOe"),De=e.n(N),p=e("Fghh"),b=e("Qurx"),je=function(l){var n=l.field,u=l.name;return n!=null&&n.includes("boolean")?Object(t.jsx)(a.a,{name:u,checkedChildren:Object(t.jsx)(p.a,{id:"true"}),unCheckedChildren:Object(t.jsx)(p.a,{id:"false"})}):Object(t.jsx)(b.a,{width:"lg",name:u})},fe=je,w=D.a.Text,m;(function(B){B.Array="array",B.String="string"})(m||(m={}));var c=function(l,n){return n===m.Array?l&&Array.isArray(l)?JSON.stringify(l):"[]":l},d=function(){var l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",n=arguments.length>1?arguments[1]:void 0;if(n===m.Array){var u=JSON.parse(l);return u&&Array.isArray(u)?u:[]}return l},F=function(l){var n=Object(p.k)(),u=l.visible,o=l.onVisibleChange,v=l.onFinish,O=l.value,A=Be.a.useForm(),me=Object(K.a)(A,1),Q=me[0],q=Object(g.useMemo)(function(){return(O.rules||[]).includes(m.Array)?m.Array:m.String},[O.rules]);return Object(g.useEffect)(function(){Q.setFieldsValue(Object(R.a)(Object(R.a)({},O),{},{value:c(O.value,q)}))},[q,O,Q]),Object(t.jsxs)(T.a,{form:Q,title:O.full_key,width:"60vw",visible:u,onVisibleChange:o,onFinish:Object(i.a)(Object(P.a)().mark(function ne(){var y;return Object(P.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,Object(S.h)({key:O.full_key,value:d(Q.getFieldsValue().value,q)});case 2:if(y=I.sent,!y.success){I.next=6;break}return v(y.success===!0),I.abrupt("return",y.success);case 6:return I.abrupt("return");case 7:case"end":return I.stop()}},ne)})),children:[Object(t.jsxs)(_.a.Group,{children:[Object(t.jsx)(a.a,{disabled:!0,name:"public",label:Object(t.jsx)(r.a,{id:"public",defaultMessage:"public"})}),Object(t.jsx)(a.a,{disabled:!0,name:"readonly",label:Object(t.jsx)(r.a,{id:"readonly",defaultMessage:"readonly"})}),Object(t.jsx)(_.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(r.a,{id:"rules",defaultMessage:"rules"}),children:function(){return Object(t.jsx)(w,{code:!0,children:JSON.stringify(Q.getFieldValue("rules"))})}})]}),q===m.Array?Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(le.a,{width:"lg",name:"value",label:Object(t.jsx)(r.a,{id:"value"}),tooltip:"".concat(n.formatMessage({id:"example_json"}),': ["first_field_name", "second_field_name"]')}),Object(t.jsx)(_.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(t.jsx)(De.a,{src:JSON.parse(Q.getFieldValue("value"))})}catch(y){return Object(t.jsx)(De.a,{src:JSON.parse('{ "error": "cannot parse this array" }')})}}})]}):Object(t.jsx)(t.Fragment,{children:Object(t.jsx)(_.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(r.a,{id:"value"}),children:function(){return Object(t.jsx)(fe,{field:Q.getFieldValue("rules"),name:"value"})}})})]})},J=F,h=e("c+yx"),$=[{title:Object(t.jsx)(r.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!1,sorter:!0},{title:Object(t.jsx)(r.a,{id:"readonly",defaultMessage:"readonly"}),dataIndex:"readonly",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(l,n){return Object(t.jsx)(x.a,{color:n.readonly?"success":"error",children:Object(t.jsx)(r.a,{id:n.readonly?"true":"false",defaultMessage:n.readonly?"true":"false"})})}},{title:Object(t.jsx)(r.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(l,n){return Object(t.jsx)(x.a,{color:n.public?"success":"error",children:Object(t.jsx)(r.a,{id:n.public?"true":"false",defaultMessage:n.public?"true":"false"})})}},{title:Object(t.jsx)(r.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(l,n){return typeof n.value=="boolean"?Object(t.jsx)(x.a,{color:n.value?"success":"error",children:Object(t.jsx)(r.a,{id:n.value?"true":"false",defaultMessage:n.value?"true":"false"})}):Array.isArray(n.value)?n.value.map(function(u){return typeof u=="object"?k.a.Children.toArray(Object(t.jsx)("p",{children:Object.keys(u).map(function(o){return"".concat(o,": ").concat(u[o])}).join(", ")})):u}):n.value}}],ce=function B(l,n){var u=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return!l||typeof l!="object"?!1:(Object.keys(l).forEach(function(o){var v=l[o];o===n?u.push(l):typeof v=="object"&&B(v,n,u)}),u)},Te=function(l){var n=l.packageName,u=l.values,o=l.onValueUpdated,v=Object(r.l)(),O=Object(g.useState)(),A=Object(K.a)(O,2),me=A[0],Q=A[1],q=Object(g.useMemo)(function(){var ne=u[n];return ce(ne,"rules")},[u,n]);return Object(t.jsxs)(k.a.Fragment,{children:[Object(t.jsx)(C.a,{headerTitle:v.formatMessage({id:"menu.settings"}),rowKey:"key",search:{layout:"vertical"},columns:[].concat($,[{hideInSearch:!0,title:Object(t.jsx)(r.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(y,oe){return[Object(t.jsx)(M.a,{title:Object(t.jsx)(r.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(L.a,{type:"primary",icon:Object(t.jsx)(Ee.a,{}),onClick:function(){return Q(oe)}})},"edit")]}}]),request:function(y,oe){var I=y.key,V=oe&&Object.entries(oe)[0];return new Promise(function(ee){var se=q?Object(Re.a)(q):[];I&&(se=se.filter(function(ge){return ge.key.toLowerCase().includes(I.toLowerCase())})),V&&(se=Object(h.i)(se,V[0],V[1]!=="ascend")),ee({data:se,success:!0,total:se.length})})}}),me&&Object(t.jsx)(J,{value:me,visible:me!==void 0,onVisibleChange:function(y){return y===!1&&Q(void 0)},onFinish:Object(i.a)(Object(P.a)().mark(function ne(){return Object(P.a)().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:o();case 1:case"end":return oe.stop()}},ne)}))})]})},re=Te,Y=e("t4ZK"),ve=e("I5X1"),Se=function(l){return l.replaceAll("escolalms","").split("_").join("")},Ke=H.default=function(){var B=Object(W.l)(),l=Object(r.l)(),n=B.tab,u=n===void 0?"user_settings":n,o=Object(g.useState)(),v=Object(K.a)(o,2),O=v[0],A=v[1],me=Object(g.useCallback)(function(){Object(S.a)().then(function(y){y.success&&A(y.data)})},[]),Q=Object(ve.a)("@@initialState"),q=Q.initialState,ne=Object(g.useCallback)(function(){var y;return(q==null||(y=q.config)===null||y===void 0?void 0:y.length)!==0},[q]);return Object(g.useEffect)(function(){me()},[]),O?Object(t.jsxs)(j.a,{title:Object(t.jsx)(r.a,{id:"settings"}),header:{breadcrumb:{routes:[{path:"settings",breadcrumbName:l.formatMessage({id:"menu.Configuration.settings"})},{path:String(u),breadcrumbName:String(u)}]}},children:[!ne()&&Object(t.jsx)(ie.a,{message:Object(t.jsx)(r.a,{id:"global_settings_alert_title",defaultMessage:"Add global settings"}),description:Object(t.jsx)(r.a,{id:"global_settings_alert_description",defaultMessage:"Global settings are used to configure the entire LMS. You can add global settings by clicking the button below."}),type:"warning",showIcon:!0,style:{marginBottom:"20px"}}),Object(t.jsxs)(E.a,{tabs:{type:"card",activeKey:u,onChange:function(oe){return r.f.push("/configuration/settings/".concat(oe))}},children:[Object(t.jsx)(E.a.TabPane,{tab:Object(t.jsx)(r.a,{id:"user.settings"}),children:Object(t.jsx)(X,{})},"user_settings"),Object(t.jsx)(E.a.TabPane,{tab:Object(t.jsx)(r.a,{id:"global_settings"}),children:Object(t.jsx)(Y.a,{})},"global_settings"),Object.keys(O).map(function(y){return Object(t.jsxs)(E.a.TabPane,{tab:Object(t.jsxs)("span",{children:[Object(t.jsx)(r.a,{id:"package"})," ",Se(y)]}),children:[Object(t.jsx)(re,{values:O,packageName:y,onValueUpdated:function(){return me()}}),y]},y)})]})]}):Object(t.jsx)(ue.a,{})}},hd5d:function(he,H,e){"use strict";var be=e("qLMh"),ie=e("9og8"),U=e("q1tI"),ue=e.n(U),K=e("acco"),g=e.n(K),k=e("BAh9"),E=e("vtG9"),W=e.n(E),r=e("9kvl"),j=e("nKUr"),S=e.n(j),te=function(M){var s=M.attrs,L=s.href,G=L.split("/").pop();return Object(j.jsx)("p",{children:Object(j.jsx)("a",{rel:"noreferrer",href:L,target:"_blank",children:G})})},ae=function(M){var s=M.value,L=M.onChange,G=M.directory,x=G===void 0?"/wysiwyg":G,de=Object(r.l)();return Object(j.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(j.jsx)(g.a,{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function(R){return!0},component:te}],uploadImage:function(){var P=Object(ie.a)(Object(be.a)().mark(function R(Oe){var z,i;return Object(be.a)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,Object(k.e)(Oe,x);case 2:if(z=C.sent,!z.success){C.next=8;break}if(!Oe.type.includes("image/")){C.next=7;break}return i=z.data[0].name.includes("/")?z.data[0].name:"".concat(x).concat(z.data[0].name),C.abrupt("return",Object(k.d)(i,1e3));case 7:return C.abrupt("return",z.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return C.stop()}},R)}));return function(R){return P.apply(this,arguments)}}(),defaultValue:s||"",onChange:function(R){return L&&L(R())},placeholder:de.formatMessage({id:"wysiwyg_placeholder"})})})};H.a=ae},t4ZK:function(he,H,e){"use strict";e.d(H,"b",function(){return X});var be=e("P2fV"),ie=e("NJEC"),U=e("+L6B"),ue=e("2/Rp"),K=e("5Dmo"),g=e("3S7+"),k=e("tJVT"),E=e("oBTY"),W=e("qLMh"),r=e("k1fw"),j=e("miYZ"),S=e("tsqr"),te=e("9og8"),ae=e("xvlK"),Z=e("q1tI"),M=e.n(Z),s=e("9kvl"),L=e("Qiat"),G=e("/y+f"),x=e("+up7"),de=e("HEzf"),P=e("+YFz"),R=e("G3dp"),Oe=e("/MfK"),z=e("ujla"),i=e("nKUr"),ye=e.n(i),C=function(){var f=Object(te.a)(Object(W.a)().mark(function D(T,_,a){var le,N;return Object(W.a)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return le=S.b.loading(T.formatMessage({id:"loading"})),p.prev=1,p.next=4,a&&a!==-1?Object(x.i)(a,Object(r.a)({},_)):Object(x.b)(Object(r.a)({},_));case 4:return N=p.sent,le(),S.b.success(T.formatMessage({id:"success"})),p.abrupt("return",{success:!0,updatedSettings:N});case 10:return p.prev=10,p.t0=p.catch(1),le(),S.b.error(T.formatMessage({id:"error"})),p.abrupt("return",{success:!1,updateSettings:null});case 15:case"end":return p.stop()}},D,null,[[1,10]])}));return function(T,_,a){return f.apply(this,arguments)}}(),Fe=function(){var f=Object(te.a)(Object(W.a)().mark(function D(T,_){var a;return Object(W.a)().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return a=S.b.loading(T.formatMessage({id:"loading"})),N.prev=1,N.next=4,Object(x.c)(_);case 4:return a(),S.b.success(T.formatMessage({id:"success"})),N.abrupt("return",!0);case 9:return N.prev=9,N.t0=N.catch(1),a(),S.b.error(T.formatMessage({id:"error"})),N.abrupt("return",!1);case 14:case"end":return N.stop()}},D,null,[[1,9]])}));return function(T,_){return f.apply(this,arguments)}}(),Ee=function(D){return D.toLowerCase().replace(/(_\w)/g,function(T){return T.toUpperCase().substr(1)})},Ce=function f(D){return D.reduce(function(T,_){return[].concat(Object(E.a)(T),Object(E.a)(_.routes?f(_.routes):[]),[_])},[]).filter(function(T){return T.layout!==!1&&T.hideInMenu!==!0})},t=["statistics","user_submission","user_projects"],Ie=["public"],Ae=["email","sms"],Le=function(D){return"hideInMenu-".concat(Ee(D.split("/").join("_")))},X=function(D){return"disableTopicType-".concat(D)},Re=[].concat(Object(E.a)(Object.keys(G.i).map(function(f){return{key:X(f),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(E.a)(Ce(Object(z.a)()).filter(function(f){return f.path&&f.path!=="/"}).map(function(f){return{path:f.path,key:Le(f.path),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(E.a)(["ECommerce","Certificates"].map(function(f){return{key:"disable-".concat(f),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(E.a)(Ie.map(function(f){return{key:"showInCourseAdditionalSettings-".concat(f),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(E.a)(t.map(function(f){return{key:"hideInCourseTabs-".concat(f),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(E.a)(Ae.map(function(f){return{key:"hideTemplateTab-".concat(f),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}}))).reduce(function(f,D,T){return f[D.key]=Object(r.a)(Object(r.a)({},D),{},{id:-100*T}),f},{}),Me=Object(r.a)({logo:{id:-1,key:"logo",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},frontURL:{id:-2,key:"frontURL",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},maxLessonsNestingInProgram:{id:-4,key:"maxLessonsNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},minTopicNestingInProgram:{id:-5,key:"minTopicNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},companyName:{id:-6,key:"companyName",group:"global",value:"Wellms",public:!0,enumerable:!0,sort:0,type:"text",data:"Wellms"},companyURL:{id:-7,key:"companyURL",group:"global",value:"https://www.wellms.io/",public:!0,enumerable:!0,sort:0,type:"text",data:"https://www.wellms.io/"},logoLogin:{id:-8,key:"logoLogin",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},logoFooter:{id:-9,key:"logoFooter",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},footerFontColor:{id:-10,key:"footerFontColor",group:"global",value:"#00000072",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},showLoginBackgroundImage:{id:-11,key:"showLoginBackgroundImage",group:"global",value:"true",public:!0,enumerable:!0,sort:0,type:"boolean",data:"EscolaLMS"},loginHeaderBackgroundColor:{id:-12,key:"loginHeaderBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},loginHeaderFontColor:{id:-13,key:"loginHeaderFontColor",group:"global",value:"#000000D8",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},loginFormBackgroundColor:{id:-14,key:"loginFormBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},contentBackgroundColor:{id:-15,key:"contentBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},technicalMaintenance:{id:-16,key:"technicalMaintenance",group:"global",value:"false",public:!0,enumerable:!0,sort:0,type:"boolean",data:"EscolaLMS"},technicalMaintenanceText:{id:-17,key:"technicalMaintenanceText",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"}},Re),Be=function(){var D=Object(Z.useState)(!1),T=Object(k.a)(D,2),_=T[0],a=T[1],le=Object(Z.useRef)(),N=Object(s.l)(),De=Object(s.m)("@@initialState"),p=De.setInitialState,b=De.initialState,je=[{title:Object(i.jsx)(s.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0,render:function(m,c){return Object(i.jsx)(Z.Fragment,{children:Object(i.jsxs)(g.a,{title:Object(i.jsx)(s.a,{id:"Settings.tooltip.".concat(c.key)}),children:[c.key," ",Object(i.jsx)(P.a,{})]})})}},{title:Object(i.jsx)(s.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:Object(i.jsx)(s.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(m,c){return c.value}},{hideInSearch:!0,title:Object(i.jsx)(s.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(m,c){return[c.id>0?Object(i.jsx)(g.a,{title:Object(i.jsx)(s.a,{id:"edit",defaultMessage:"edit"}),children:Object(i.jsx)(ue.a,{type:"primary",icon:Object(i.jsx)(R.a,{}),onClick:function(){return a(c.id)}})},"edit"):Object(i.jsx)(g.a,{title:Object(i.jsx)(s.a,{id:"create",defaultMessage:"create"}),children:Object(i.jsx)(ue.a,{type:"primary",icon:Object(i.jsx)(ae.a,{}),onClick:function(){a(Me[c.key]||-1)}})},"create"),Object(i.jsx)(ie.a,{title:Object(i.jsx)(s.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(te.a)(Object(W.a)().mark(function d(){var F;return Object(W.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,Fe(N,c.id);case 2:F=h.sent,F&&(a(!1),le.current&&le.current.reload());case 4:case"end":return h.stop()}},d)})),okText:Object(i.jsx)(s.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(i.jsx)(s.a,{id:"no",defaultMessage:"No"}),children:c.id>0?Object(i.jsx)(g.a,{title:Object(i.jsx)(s.a,{id:"delete",defaultMessage:"delete"}),children:Object(i.jsx)(ue.a,{type:"primary",icon:Object(i.jsx)(Oe.a,{}),danger:!0})}):null},"delete")]}}],fe=function(m){var c;if(!!m&&(!(b!=null&&(c=b.config)!==null&&c!==void 0&&c.length)&&m&&p(Object(r.a)(Object(r.a)({},b),{},{config:[m]})),!!(b!=null&&b.config))){var d=b==null?void 0:b.config.map(function(F){return F.key===m.key?Object(r.a)(Object(r.a)({},F),m):F});p(Object(r.a)(Object(r.a)({},b),{},{config:d}))}};return Object(i.jsxs)(M.a.Fragment,{children:[Object(i.jsx)(L.a,{headerTitle:N.formatMessage({id:"menu.settings"}),search:!1,toolBarRender:!1,actionRef:le,rowKey:"id",request:function(m){var c=m.pageSize,d=m.current;return Object(x.g)({per_page:c,current:d,group:"global"}).then(function(F){if(F.success){var J=[].concat(Object(E.a)(Object.keys(Me).map(function(h){return F.data.find(function($){return $.key===h})||Me[h]})),Object(E.a)(F.data.filter(function(h){return!Object.keys(Me).includes(h.key)})));return{data:J,total:J.length,success:!0}}return[]})},columns:je}),Object(i.jsx)(de.a,{groups:[],id:_,visible:_,initialData:Me,onVisibleChange:function(m){return!m&&a(!1)},onFinish:function(){var w=Object(te.a)(Object(W.a)().mark(function m(c){var d,F,J,h;return Object(W.a)().wrap(function(ce){for(;;)switch(ce.prev=ce.next){case 0:return d=c,d.type==="number"&&(d=Object(r.a)(Object(r.a)({},d),{},{value:String(d.data)})),d.type==="boolean"&&(d=Object(r.a)(Object(r.a)({},d),{},{value:d.data})),d.type==="array"&&(d=Object(r.a)(Object(r.a)({},d),{},{value:JSON.parse(d.value)})),ce.next=6,C(N,d,Number(_));case 6:F=ce.sent,J=F.success,h=F.updatedSettings,J&&(h!=null&&h.success&&fe(h.data),a(!1),le.current&&le.current.reload());case 10:case"end":return ce.stop()}},m)}));return function(m){return w.apply(this,arguments)}}()})]})};H.a=Be},tneF:function(he,H,e){"use strict";var be=e("sRBo"),ie=e("kaz8"),U=e("VTBJ"),ue=e("Ff2n"),K=e("nKUr"),g=e.n(K),k=e("uX+g"),E=e("q1tI"),W=e.n(E),r=e("WFLz"),j=e("adzw"),S=["options","fieldProps","proFieldProps","valueEnum"],te=W.a.forwardRef(function(s,L){var G=s.options,x=s.fieldProps,de=s.proFieldProps,P=s.valueEnum,R=Object(ue.a)(s,S);return Object(K.jsx)(j.a,Object(U.a)({ref:L,valueType:"checkbox",valueEnum:Object(k.a)(P,void 0),fieldProps:Object(U.a)({options:G},x),lightProps:Object(U.a)({labelFormatter:function(){return Object(K.jsx)(j.a,Object(U.a)({ref:L,valueType:"checkbox",mode:"read",valueEnum:Object(k.a)(P,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(U.a)({options:G},x),proFieldProps:de},R))}},R.lightProps),proFieldProps:de},R))}),ae=W.a.forwardRef(function(s,L){var G=s.fieldProps,x=s.children;return Object(K.jsx)(ie.a,Object(U.a)(Object(U.a)({ref:L},G),{},{children:x}))}),Z=Object(r.a)(ae,{valuePropName:"checked"}),M=Z;M.Group=te,H.a=M},vtG9:function(he,H,e){}}]);

//# sourceMappingURL=p__Settings.448244d6.async.js.map