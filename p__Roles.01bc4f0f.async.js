(window.webpackJsonp=window.webpackJsonp||[]).push([[30],{"63za":function(B,d,e){"use strict";e.r(d),e.d(d,"TableColumns",function(){return U});var D=e("P2fV"),s=e("NJEC"),b=e("5Dmo"),f=e("3S7+"),j=e("WmNS"),P=e.n(j),g=e("9og8"),M=e("+L6B"),h=e("2/Rp"),T=e("tJVT"),p=e("q1tI"),n=e("9kvl"),l=e("55Ip"),E=e("Qiat"),v=e("tMyG"),a=e("xvlK"),o=e("G3dp"),c=e("/MfK"),i=e("G/Ub"),r=e("y8nQ"),x=e("Vl3Y"),L=e("rmhi"),V=e("VMEa"),G=e("Qurx"),t=e("nKUr"),$=function(O){var K=Object(n.i)(),A=O.visible,W=O.onVisibleChange,C=O.onFinish,I=O.id,y=x.a.useForm(),m=Object(T.a)(y,1),F=m[0];return Object(t.jsx)(L.a,{form:F,title:K.formatMessage({id:I?"editSetting":"newSetting",defaultMessage:I?"editSetting":"newSetting"}),width:"30vw",visible:A,onVisibleChange:W,onFinish:C,children:Object(t.jsxs)(V.a.Group,{children:[Object(t.jsx)(G.a,{label:Object(t.jsx)(n.a,{id:"name",defaultMessage:"name"}),rules:[{required:!0}],width:"md",name:"name"})," "]})})},Q=$,U=[{width:"10%",title:Object(t.jsx)(n.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{width:"80%",title:Object(t.jsx)(n.a,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!0}],w=function(){var O=Object(p.useRef)(),K=Object(p.useState)(!1),A=Object(T.a)(K,2),W=A[0],C=A[1],I=Object(n.i)();return Object(t.jsxs)(v.a,{children:[Object(t.jsx)(E.a,{headerTitle:I.formatMessage({id:"roles",defaultMessage:"roles"}),actionRef:O,rowKey:"id",search:!1,toolBarRender:function(){return[Object(t.jsxs)(h.a,{type:"primary",onClick:function(){return C(!0)},children:[Object(t.jsx)(a.a,{})," ",Object(t.jsx)(n.a,{id:"new",defaultMessage:"new"})]},"primary")]},request:function(){return Object(i.d)().then(function(m){return m.success?{data:m.data,success:!0}:[]})},columns:[].concat(U,[{hideInSearch:!0,title:Object(t.jsx)(n.a,{id:"pages.searchTable.titleOption"}),dataIndex:"option",valueType:"option",render:function(m,F){return[Object(t.jsx)(l.a,{to:"/roles/".concat(F.name),children:Object(t.jsx)(h.a,{type:"primary",icon:Object(t.jsx)(o.a,{})})},"new"),Object(t.jsx)(s.a,{title:Object(t.jsx)(n.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(g.a)(P.a.mark(function S(){var R;return P.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(i.b)(F.name);case 2:R=u.sent,R&&(C(!1),O.current&&O.current.reload());case 4:case"end":return u.stop()}},S)})),okText:Object(t.jsx)(n.a,{id:"yes"}),cancelText:Object(t.jsx)(n.a,{id:"no"}),children:Object(t.jsx)(f.a,{title:Object(t.jsx)(n.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(h.a,{type:"primary",icon:Object(t.jsx)(c.a,{}),danger:!0})})},"delete")]}}])}),Object(t.jsx)(Q,{visible:W,onVisibleChange:function(m){return m===!1&&C(!1)},onFinish:function(){var y=Object(g.a)(P.a.mark(function m(F){var S,R;return P.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.next=2,Object(i.a)(F);case 2:return S=u.sent,u.next=5,S;case 5:R=u.sent,R.success&&(C(!1),O.current&&(O.current.reload(),n.d.push("/roles/".concat(R.data.name))));case 7:case"end":return u.stop()}},m)}));return function(m){return y.apply(this,arguments)}}()})]})},z=d.default=w},"G/Ub":function(B,d,e){"use strict";e.d(d,"d",function(){return P}),e.d(d,"a",function(){return M}),e.d(d,"b",function(){return T}),e.d(d,"c",function(){return n}),e.d(d,"e",function(){return E});var D=e("WmNS"),s=e.n(D),b=e("k1fw"),f=e("9og8"),j=e("9kvl");function P(a){return g.apply(this,arguments)}function g(){return g=Object(f.a)(s.a.mark(function a(o){return s.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(j.f)("/api/admin/roles",Object(b.a)({method:"GET",useCache:!1},o||{})));case 1:case"end":return i.stop()}},a)})),g.apply(this,arguments)}function M(a,o){return h.apply(this,arguments)}function h(){return h=Object(f.a)(s.a.mark(function a(o,c){return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(j.f)("/api/admin/roles",Object(b.a)({method:"POST",headers:{"Content-Type":"application/json"},data:o},c||{})));case 1:case"end":return r.stop()}},a)})),h.apply(this,arguments)}function T(a,o){return p.apply(this,arguments)}function p(){return p=Object(f.a)(s.a.mark(function a(o,c){return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(j.f)("/api/admin/roles/".concat(o),Object(b.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},c||{})));case 1:case"end":return r.stop()}},a)})),p.apply(this,arguments)}function n(a,o){return l.apply(this,arguments)}function l(){return l=Object(f.a)(s.a.mark(function a(o,c){return s.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(j.f)("/api/admin/roles/".concat(o),Object(b.a)({method:"GET",useCache:!1},c||{})));case 1:case"end":return r.stop()}},a)})),l.apply(this,arguments)}function E(a,o,c){return v.apply(this,arguments)}function v(){return v=Object(f.a)(s.a.mark(function a(o,c,i){return s.a.wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",Object(j.f)("/api/admin/roles/".concat(o),Object(b.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:c},i||{})));case 1:case"end":return x.stop()}},a)})),v.apply(this,arguments)}},Qurx:function(B,d,e){"use strict";var D=e("wx14"),s=e("Ff2n"),b=e("q1tI"),f=e.n(b),j=e("adzw"),P=["fieldProps","proFieldProps"],g=["fieldProps","proFieldProps"],M="text",h=function(l){var E=l.fieldProps,v=l.proFieldProps,a=Object(s.a)(l,P);return f.a.createElement(j.a,Object(D.a)({mode:"edit",valueType:M,fieldProps:E,filedConfig:{valueType:M},proFieldProps:v},a))},T=function(l){var E=l.fieldProps,v=l.proFieldProps,a=Object(s.a)(l,g);return f.a.createElement(j.a,Object(D.a)({mode:"edit",valueType:"password",fieldProps:E,proFieldProps:v,filedConfig:{valueType:M}},a))},p=h;p.Password=T,p.displayName="ProFormComponent",d.a=p}}]);
