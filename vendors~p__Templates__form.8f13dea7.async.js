(window.webpackJsonp=window.webpackJsonp||[]).push([[56],{"3dVZ":function(wt,ft,ze){},"D6/r":function(wt,ft,ze){},H7XF:function(wt,ft,ze){"use strict";ft.byteLength=C,ft.toByteArray=h,ft.fromByteArray=w;for(var qe=[],Xe=[],ot=typeof Uint8Array!="undefined"?Uint8Array:Array,Je="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",J=0,re=Je.length;J<re;++J)qe[J]=Je[J],Xe[Je.charCodeAt(J)]=J;Xe["-".charCodeAt(0)]=62,Xe["_".charCodeAt(0)]=63;function L(m){var o=m.length;if(o%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=m.indexOf("=");i===-1&&(i=o);var e=i===o?0:4-i%4;return[i,e]}function C(m){var o=L(m),i=o[0],e=o[1];return(i+e)*3/4-e}function _(m,o,i){return(o+i)*3/4-i}function h(m){var o,i=L(m),e=i[0],r=i[1],n=new ot(_(m,e,r)),c=0,t=r>0?e-4:e,d;for(d=0;d<t;d+=4)o=Xe[m.charCodeAt(d)]<<18|Xe[m.charCodeAt(d+1)]<<12|Xe[m.charCodeAt(d+2)]<<6|Xe[m.charCodeAt(d+3)],n[c++]=o>>16&255,n[c++]=o>>8&255,n[c++]=o&255;return r===2&&(o=Xe[m.charCodeAt(d)]<<2|Xe[m.charCodeAt(d+1)]>>4,n[c++]=o&255),r===1&&(o=Xe[m.charCodeAt(d)]<<10|Xe[m.charCodeAt(d+1)]<<4|Xe[m.charCodeAt(d+2)]>>2,n[c++]=o>>8&255,n[c++]=o&255),n}function p(m){return qe[m>>18&63]+qe[m>>12&63]+qe[m>>6&63]+qe[m&63]}function f(m,o,i){for(var e,r=[],n=o;n<i;n+=3)e=(m[n]<<16&16711680)+(m[n+1]<<8&65280)+(m[n+2]&255),r.push(p(e));return r.join("")}function w(m){for(var o,i=m.length,e=i%3,r=[],n=16383,c=0,t=i-e;c<t;c+=n)r.push(f(m,c,c+n>t?t:c+n));return e===1?(o=m[i-1],r.push(qe[o>>2]+qe[o<<4&63]+"==")):e===2&&(o=(m[i-2]<<8)+m[i-1],r.push(qe[o>>10]+qe[o>>4&63]+qe[o<<2&63]+"=")),r.join("")}},HDXh:function(wt,ft,ze){"use strict";(function(qe){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/var Xe=ze("H7XF"),ot=ze("kVK+"),Je=ze("v3Qx");ft.Buffer=C,ft.SlowBuffer=r,ft.INSPECT_MAX_BYTES=50,C.TYPED_ARRAY_SUPPORT=qe.TYPED_ARRAY_SUPPORT!==void 0?qe.TYPED_ARRAY_SUPPORT:J(),ft.kMaxLength=re();function J(){try{var Z=new Uint8Array(1);return Z.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},Z.foo()===42&&typeof Z.subarray=="function"&&Z.subarray(1,1).byteLength===0}catch(k){return!1}}function re(){return C.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function L(Z,k){if(re()<k)throw new RangeError("Invalid typed array length");return C.TYPED_ARRAY_SUPPORT?(Z=new Uint8Array(k),Z.__proto__=C.prototype):(Z===null&&(Z=new C(k)),Z.length=k),Z}function C(Z,k,I){if(!C.TYPED_ARRAY_SUPPORT&&!(this instanceof C))return new C(Z,k,I);if(typeof Z=="number"){if(typeof k=="string")throw new Error("If encoding is specified then the first argument must be a string");return f(this,Z)}return _(this,Z,k,I)}C.poolSize=8192,C._augment=function(Z){return Z.__proto__=C.prototype,Z};function _(Z,k,I,q){if(typeof k=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&k instanceof ArrayBuffer?o(Z,k,I,q):typeof k=="string"?w(Z,k,I):i(Z,k)}C.from=function(Z,k,I){return _(null,Z,k,I)},C.TYPED_ARRAY_SUPPORT&&(C.prototype.__proto__=Uint8Array.prototype,C.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&C[Symbol.species]===C&&Object.defineProperty(C,Symbol.species,{value:null,configurable:!0}));function h(Z){if(typeof Z!="number")throw new TypeError('"size" argument must be a number');if(Z<0)throw new RangeError('"size" argument must not be negative')}function p(Z,k,I,q){return h(k),k<=0?L(Z,k):I!==void 0?typeof q=="string"?L(Z,k).fill(I,q):L(Z,k).fill(I):L(Z,k)}C.alloc=function(Z,k,I){return p(null,Z,k,I)};function f(Z,k){if(h(k),Z=L(Z,k<0?0:e(k)|0),!C.TYPED_ARRAY_SUPPORT)for(var I=0;I<k;++I)Z[I]=0;return Z}C.allocUnsafe=function(Z){return f(null,Z)},C.allocUnsafeSlow=function(Z){return f(null,Z)};function w(Z,k,I){if((typeof I!="string"||I==="")&&(I="utf8"),!C.isEncoding(I))throw new TypeError('"encoding" must be a valid string encoding');var q=n(k,I)|0;Z=L(Z,q);var G=Z.write(k,I);return G!==q&&(Z=Z.slice(0,G)),Z}function m(Z,k){var I=k.length<0?0:e(k.length)|0;Z=L(Z,I);for(var q=0;q<I;q+=1)Z[q]=k[q]&255;return Z}function o(Z,k,I,q){if(k.byteLength,I<0||k.byteLength<I)throw new RangeError("'offset' is out of bounds");if(k.byteLength<I+(q||0))throw new RangeError("'length' is out of bounds");return I===void 0&&q===void 0?k=new Uint8Array(k):q===void 0?k=new Uint8Array(k,I):k=new Uint8Array(k,I,q),C.TYPED_ARRAY_SUPPORT?(Z=k,Z.__proto__=C.prototype):Z=m(Z,k),Z}function i(Z,k){if(C.isBuffer(k)){var I=e(k.length)|0;return Z=L(Z,I),Z.length===0||k.copy(Z,0,0,I),Z}if(k){if(typeof ArrayBuffer!="undefined"&&k.buffer instanceof ArrayBuffer||"length"in k)return typeof k.length!="number"||ge(k.length)?L(Z,0):m(Z,k);if(k.type==="Buffer"&&Je(k.data))return m(Z,k.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function e(Z){if(Z>=re())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+re().toString(16)+" bytes");return Z|0}function r(Z){return+Z!=Z&&(Z=0),C.alloc(+Z)}C.isBuffer=function(k){return!!(k!=null&&k._isBuffer)},C.compare=function(k,I){if(!C.isBuffer(k)||!C.isBuffer(I))throw new TypeError("Arguments must be Buffers");if(k===I)return 0;for(var q=k.length,G=I.length,oe=0,ae=Math.min(q,G);oe<ae;++oe)if(k[oe]!==I[oe]){q=k[oe],G=I[oe];break}return q<G?-1:G<q?1:0},C.isEncoding=function(k){switch(String(k).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},C.concat=function(k,I){if(!Je(k))throw new TypeError('"list" argument must be an Array of Buffers');if(k.length===0)return C.alloc(0);var q;if(I===void 0)for(I=0,q=0;q<k.length;++q)I+=k[q].length;var G=C.allocUnsafe(I),oe=0;for(q=0;q<k.length;++q){var ae=k[q];if(!C.isBuffer(ae))throw new TypeError('"list" argument must be an Array of Buffers');ae.copy(G,oe),oe+=ae.length}return G};function n(Z,k){if(C.isBuffer(Z))return Z.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(Z)||Z instanceof ArrayBuffer))return Z.byteLength;typeof Z!="string"&&(Z=""+Z);var I=Z.length;if(I===0)return 0;for(var q=!1;;)switch(k){case"ascii":case"latin1":case"binary":return I;case"utf8":case"utf-8":case void 0:return le(Z).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return I*2;case"hex":return I>>>1;case"base64":return Le(Z).length;default:if(q)return le(Z).length;k=(""+k).toLowerCase(),q=!0}}C.byteLength=n;function c(Z,k,I){var q=!1;if((k===void 0||k<0)&&(k=0),k>this.length||((I===void 0||I>this.length)&&(I=this.length),I<=0)||(I>>>=0,k>>>=0,I<=k))return"";for(Z||(Z="utf8");;)switch(Z){case"hex":return W(this,k,I);case"utf8":case"utf-8":return F(this,k,I);case"ascii":return te(this,k,I);case"latin1":case"binary":return $(this,k,I);case"base64":return U(this,k,I);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return X(this,k,I);default:if(q)throw new TypeError("Unknown encoding: "+Z);Z=(Z+"").toLowerCase(),q=!0}}C.prototype._isBuffer=!0;function t(Z,k,I){var q=Z[k];Z[k]=Z[I],Z[I]=q}C.prototype.swap16=function(){var k=this.length;if(k%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var I=0;I<k;I+=2)t(this,I,I+1);return this},C.prototype.swap32=function(){var k=this.length;if(k%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var I=0;I<k;I+=4)t(this,I,I+3),t(this,I+1,I+2);return this},C.prototype.swap64=function(){var k=this.length;if(k%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var I=0;I<k;I+=8)t(this,I,I+7),t(this,I+1,I+6),t(this,I+2,I+5),t(this,I+3,I+4);return this},C.prototype.toString=function(){var k=this.length|0;return k===0?"":arguments.length===0?F(this,0,k):c.apply(this,arguments)},C.prototype.equals=function(k){if(!C.isBuffer(k))throw new TypeError("Argument must be a Buffer");return this===k?!0:C.compare(this,k)===0},C.prototype.inspect=function(){var k="",I=ft.INSPECT_MAX_BYTES;return this.length>0&&(k=this.toString("hex",0,I).match(/.{2}/g).join(" "),this.length>I&&(k+=" ... ")),"<Buffer "+k+">"},C.prototype.compare=function(k,I,q,G,oe){if(!C.isBuffer(k))throw new TypeError("Argument must be a Buffer");if(I===void 0&&(I=0),q===void 0&&(q=k?k.length:0),G===void 0&&(G=0),oe===void 0&&(oe=this.length),I<0||q>k.length||G<0||oe>this.length)throw new RangeError("out of range index");if(G>=oe&&I>=q)return 0;if(G>=oe)return-1;if(I>=q)return 1;if(I>>>=0,q>>>=0,G>>>=0,oe>>>=0,this===k)return 0;for(var ae=oe-G,se=q-I,Re=Math.min(ae,se),ke=this.slice(G,oe),Ve=k.slice(I,q),Ze=0;Ze<Re;++Ze)if(ke[Ze]!==Ve[Ze]){ae=ke[Ze],se=Ve[Ze];break}return ae<se?-1:se<ae?1:0};function d(Z,k,I,q,G){if(Z.length===0)return-1;if(typeof I=="string"?(q=I,I=0):I>2147483647?I=2147483647:I<-2147483648&&(I=-2147483648),I=+I,isNaN(I)&&(I=G?0:Z.length-1),I<0&&(I=Z.length+I),I>=Z.length){if(G)return-1;I=Z.length-1}else if(I<0)if(G)I=0;else return-1;if(typeof k=="string"&&(k=C.from(k,q)),C.isBuffer(k))return k.length===0?-1:g(Z,k,I,q,G);if(typeof k=="number")return k=k&255,C.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?G?Uint8Array.prototype.indexOf.call(Z,k,I):Uint8Array.prototype.lastIndexOf.call(Z,k,I):g(Z,[k],I,q,G);throw new TypeError("val must be string, number or Buffer")}function g(Z,k,I,q,G){var oe=1,ae=Z.length,se=k.length;if(q!==void 0&&(q=String(q).toLowerCase(),q==="ucs2"||q==="ucs-2"||q==="utf16le"||q==="utf-16le")){if(Z.length<2||k.length<2)return-1;oe=2,ae/=2,se/=2,I/=2}function Re(ht,It){return oe===1?ht[It]:ht.readUInt16BE(It*oe)}var ke;if(G){var Ve=-1;for(ke=I;ke<ae;ke++)if(Re(Z,ke)===Re(k,Ve===-1?0:ke-Ve)){if(Ve===-1&&(Ve=ke),ke-Ve+1===se)return Ve*oe}else Ve!==-1&&(ke-=ke-Ve),Ve=-1}else for(I+se>ae&&(I=ae-se),ke=I;ke>=0;ke--){for(var Ze=!0,et=0;et<se;et++)if(Re(Z,ke+et)!==Re(k,et)){Ze=!1;break}if(Ze)return ke}return-1}C.prototype.includes=function(k,I,q){return this.indexOf(k,I,q)!==-1},C.prototype.indexOf=function(k,I,q){return d(this,k,I,q,!0)},C.prototype.lastIndexOf=function(k,I,q){return d(this,k,I,q,!1)};function E(Z,k,I,q){I=Number(I)||0;var G=Z.length-I;q?(q=Number(q),q>G&&(q=G)):q=G;var oe=k.length;if(oe%2!=0)throw new TypeError("Invalid hex string");q>oe/2&&(q=oe/2);for(var ae=0;ae<q;++ae){var se=parseInt(k.substr(ae*2,2),16);if(isNaN(se))return ae;Z[I+ae]=se}return ae}function D(Z,k,I,q){return z(le(k,Z.length-I),Z,I,q)}function T(Z,k,I,q){return z(Ee(k),Z,I,q)}function A(Z,k,I,q){return T(Z,k,I,q)}function O(Z,k,I,q){return z(Le(k),Z,I,q)}function N(Z,k,I,q){return z(Se(k,Z.length-I),Z,I,q)}C.prototype.write=function(k,I,q,G){if(I===void 0)G="utf8",q=this.length,I=0;else if(q===void 0&&typeof I=="string")G=I,q=this.length,I=0;else if(isFinite(I))I=I|0,isFinite(q)?(q=q|0,G===void 0&&(G="utf8")):(G=q,q=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var oe=this.length-I;if((q===void 0||q>oe)&&(q=oe),k.length>0&&(q<0||I<0)||I>this.length)throw new RangeError("Attempt to write outside buffer bounds");G||(G="utf8");for(var ae=!1;;)switch(G){case"hex":return E(this,k,I,q);case"utf8":case"utf-8":return D(this,k,I,q);case"ascii":return T(this,k,I,q);case"latin1":case"binary":return A(this,k,I,q);case"base64":return O(this,k,I,q);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return N(this,k,I,q);default:if(ae)throw new TypeError("Unknown encoding: "+G);G=(""+G).toLowerCase(),ae=!0}},C.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function U(Z,k,I){return k===0&&I===Z.length?Xe.fromByteArray(Z):Xe.fromByteArray(Z.slice(k,I))}function F(Z,k,I){I=Math.min(Z.length,I);for(var q=[],G=k;G<I;){var oe=Z[G],ae=null,se=oe>239?4:oe>223?3:oe>191?2:1;if(G+se<=I){var Re,ke,Ve,Ze;switch(se){case 1:oe<128&&(ae=oe);break;case 2:Re=Z[G+1],(Re&192)==128&&(Ze=(oe&31)<<6|Re&63,Ze>127&&(ae=Ze));break;case 3:Re=Z[G+1],ke=Z[G+2],(Re&192)==128&&(ke&192)==128&&(Ze=(oe&15)<<12|(Re&63)<<6|ke&63,Ze>2047&&(Ze<55296||Ze>57343)&&(ae=Ze));break;case 4:Re=Z[G+1],ke=Z[G+2],Ve=Z[G+3],(Re&192)==128&&(ke&192)==128&&(Ve&192)==128&&(Ze=(oe&15)<<18|(Re&63)<<12|(ke&63)<<6|Ve&63,Ze>65535&&Ze<1114112&&(ae=Ze))}}ae===null?(ae=65533,se=1):ae>65535&&(ae-=65536,q.push(ae>>>10&1023|55296),ae=56320|ae&1023),q.push(ae),G+=se}return B(q)}var Y=4096;function B(Z){var k=Z.length;if(k<=Y)return String.fromCharCode.apply(String,Z);for(var I="",q=0;q<k;)I+=String.fromCharCode.apply(String,Z.slice(q,q+=Y));return I}function te(Z,k,I){var q="";I=Math.min(Z.length,I);for(var G=k;G<I;++G)q+=String.fromCharCode(Z[G]&127);return q}function $(Z,k,I){var q="";I=Math.min(Z.length,I);for(var G=k;G<I;++G)q+=String.fromCharCode(Z[G]);return q}function W(Z,k,I){var q=Z.length;(!k||k<0)&&(k=0),(!I||I<0||I>q)&&(I=q);for(var G="",oe=k;oe<I;++oe)G+=he(Z[oe]);return G}function X(Z,k,I){for(var q=Z.slice(k,I),G="",oe=0;oe<q.length;oe+=2)G+=String.fromCharCode(q[oe]+q[oe+1]*256);return G}C.prototype.slice=function(k,I){var q=this.length;k=~~k,I=I===void 0?q:~~I,k<0?(k+=q,k<0&&(k=0)):k>q&&(k=q),I<0?(I+=q,I<0&&(I=0)):I>q&&(I=q),I<k&&(I=k);var G;if(C.TYPED_ARRAY_SUPPORT)G=this.subarray(k,I),G.__proto__=C.prototype;else{var oe=I-k;G=new C(oe,void 0);for(var ae=0;ae<oe;++ae)G[ae]=this[ae+k]}return G};function M(Z,k,I){if(Z%1!=0||Z<0)throw new RangeError("offset is not uint");if(Z+k>I)throw new RangeError("Trying to access beyond buffer length")}C.prototype.readUIntLE=function(k,I,q){k=k|0,I=I|0,q||M(k,I,this.length);for(var G=this[k],oe=1,ae=0;++ae<I&&(oe*=256);)G+=this[k+ae]*oe;return G},C.prototype.readUIntBE=function(k,I,q){k=k|0,I=I|0,q||M(k,I,this.length);for(var G=this[k+--I],oe=1;I>0&&(oe*=256);)G+=this[k+--I]*oe;return G},C.prototype.readUInt8=function(k,I){return I||M(k,1,this.length),this[k]},C.prototype.readUInt16LE=function(k,I){return I||M(k,2,this.length),this[k]|this[k+1]<<8},C.prototype.readUInt16BE=function(k,I){return I||M(k,2,this.length),this[k]<<8|this[k+1]},C.prototype.readUInt32LE=function(k,I){return I||M(k,4,this.length),(this[k]|this[k+1]<<8|this[k+2]<<16)+this[k+3]*16777216},C.prototype.readUInt32BE=function(k,I){return I||M(k,4,this.length),this[k]*16777216+(this[k+1]<<16|this[k+2]<<8|this[k+3])},C.prototype.readIntLE=function(k,I,q){k=k|0,I=I|0,q||M(k,I,this.length);for(var G=this[k],oe=1,ae=0;++ae<I&&(oe*=256);)G+=this[k+ae]*oe;return oe*=128,G>=oe&&(G-=Math.pow(2,8*I)),G},C.prototype.readIntBE=function(k,I,q){k=k|0,I=I|0,q||M(k,I,this.length);for(var G=I,oe=1,ae=this[k+--G];G>0&&(oe*=256);)ae+=this[k+--G]*oe;return oe*=128,ae>=oe&&(ae-=Math.pow(2,8*I)),ae},C.prototype.readInt8=function(k,I){return I||M(k,1,this.length),this[k]&128?(255-this[k]+1)*-1:this[k]},C.prototype.readInt16LE=function(k,I){I||M(k,2,this.length);var q=this[k]|this[k+1]<<8;return q&32768?q|4294901760:q},C.prototype.readInt16BE=function(k,I){I||M(k,2,this.length);var q=this[k+1]|this[k]<<8;return q&32768?q|4294901760:q},C.prototype.readInt32LE=function(k,I){return I||M(k,4,this.length),this[k]|this[k+1]<<8|this[k+2]<<16|this[k+3]<<24},C.prototype.readInt32BE=function(k,I){return I||M(k,4,this.length),this[k]<<24|this[k+1]<<16|this[k+2]<<8|this[k+3]},C.prototype.readFloatLE=function(k,I){return I||M(k,4,this.length),ot.read(this,k,!0,23,4)},C.prototype.readFloatBE=function(k,I){return I||M(k,4,this.length),ot.read(this,k,!1,23,4)},C.prototype.readDoubleLE=function(k,I){return I||M(k,8,this.length),ot.read(this,k,!0,52,8)},C.prototype.readDoubleBE=function(k,I){return I||M(k,8,this.length),ot.read(this,k,!1,52,8)};function K(Z,k,I,q,G,oe){if(!C.isBuffer(Z))throw new TypeError('"buffer" argument must be a Buffer instance');if(k>G||k<oe)throw new RangeError('"value" argument is out of bounds');if(I+q>Z.length)throw new RangeError("Index out of range")}C.prototype.writeUIntLE=function(k,I,q,G){if(k=+k,I=I|0,q=q|0,!G){var oe=Math.pow(2,8*q)-1;K(this,k,I,q,oe,0)}var ae=1,se=0;for(this[I]=k&255;++se<q&&(ae*=256);)this[I+se]=k/ae&255;return I+q},C.prototype.writeUIntBE=function(k,I,q,G){if(k=+k,I=I|0,q=q|0,!G){var oe=Math.pow(2,8*q)-1;K(this,k,I,q,oe,0)}var ae=q-1,se=1;for(this[I+ae]=k&255;--ae>=0&&(se*=256);)this[I+ae]=k/se&255;return I+q},C.prototype.writeUInt8=function(k,I,q){return k=+k,I=I|0,q||K(this,k,I,1,255,0),C.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),this[I]=k&255,I+1};function H(Z,k,I,q){k<0&&(k=65535+k+1);for(var G=0,oe=Math.min(Z.length-I,2);G<oe;++G)Z[I+G]=(k&255<<8*(q?G:1-G))>>>(q?G:1-G)*8}C.prototype.writeUInt16LE=function(k,I,q){return k=+k,I=I|0,q||K(this,k,I,2,65535,0),C.TYPED_ARRAY_SUPPORT?(this[I]=k&255,this[I+1]=k>>>8):H(this,k,I,!0),I+2},C.prototype.writeUInt16BE=function(k,I,q){return k=+k,I=I|0,q||K(this,k,I,2,65535,0),C.TYPED_ARRAY_SUPPORT?(this[I]=k>>>8,this[I+1]=k&255):H(this,k,I,!1),I+2};function P(Z,k,I,q){k<0&&(k=4294967295+k+1);for(var G=0,oe=Math.min(Z.length-I,4);G<oe;++G)Z[I+G]=k>>>(q?G:3-G)*8&255}C.prototype.writeUInt32LE=function(k,I,q){return k=+k,I=I|0,q||K(this,k,I,4,4294967295,0),C.TYPED_ARRAY_SUPPORT?(this[I+3]=k>>>24,this[I+2]=k>>>16,this[I+1]=k>>>8,this[I]=k&255):P(this,k,I,!0),I+4},C.prototype.writeUInt32BE=function(k,I,q){return k=+k,I=I|0,q||K(this,k,I,4,4294967295,0),C.TYPED_ARRAY_SUPPORT?(this[I]=k>>>24,this[I+1]=k>>>16,this[I+2]=k>>>8,this[I+3]=k&255):P(this,k,I,!1),I+4},C.prototype.writeIntLE=function(k,I,q,G){if(k=+k,I=I|0,!G){var oe=Math.pow(2,8*q-1);K(this,k,I,q,oe-1,-oe)}var ae=0,se=1,Re=0;for(this[I]=k&255;++ae<q&&(se*=256);)k<0&&Re===0&&this[I+ae-1]!==0&&(Re=1),this[I+ae]=(k/se>>0)-Re&255;return I+q},C.prototype.writeIntBE=function(k,I,q,G){if(k=+k,I=I|0,!G){var oe=Math.pow(2,8*q-1);K(this,k,I,q,oe-1,-oe)}var ae=q-1,se=1,Re=0;for(this[I+ae]=k&255;--ae>=0&&(se*=256);)k<0&&Re===0&&this[I+ae+1]!==0&&(Re=1),this[I+ae]=(k/se>>0)-Re&255;return I+q},C.prototype.writeInt8=function(k,I,q){return k=+k,I=I|0,q||K(this,k,I,1,127,-128),C.TYPED_ARRAY_SUPPORT||(k=Math.floor(k)),k<0&&(k=255+k+1),this[I]=k&255,I+1},C.prototype.writeInt16LE=function(k,I,q){return k=+k,I=I|0,q||K(this,k,I,2,32767,-32768),C.TYPED_ARRAY_SUPPORT?(this[I]=k&255,this[I+1]=k>>>8):H(this,k,I,!0),I+2},C.prototype.writeInt16BE=function(k,I,q){return k=+k,I=I|0,q||K(this,k,I,2,32767,-32768),C.TYPED_ARRAY_SUPPORT?(this[I]=k>>>8,this[I+1]=k&255):H(this,k,I,!1),I+2},C.prototype.writeInt32LE=function(k,I,q){return k=+k,I=I|0,q||K(this,k,I,4,2147483647,-2147483648),C.TYPED_ARRAY_SUPPORT?(this[I]=k&255,this[I+1]=k>>>8,this[I+2]=k>>>16,this[I+3]=k>>>24):P(this,k,I,!0),I+4},C.prototype.writeInt32BE=function(k,I,q){return k=+k,I=I|0,q||K(this,k,I,4,2147483647,-2147483648),k<0&&(k=4294967295+k+1),C.TYPED_ARRAY_SUPPORT?(this[I]=k>>>24,this[I+1]=k>>>16,this[I+2]=k>>>8,this[I+3]=k&255):P(this,k,I,!1),I+4};function ee(Z,k,I,q,G,oe){if(I+q>Z.length)throw new RangeError("Index out of range");if(I<0)throw new RangeError("Index out of range")}function ue(Z,k,I,q,G){return G||ee(Z,k,I,4,34028234663852886e22,-34028234663852886e22),ot.write(Z,k,I,q,23,4),I+4}C.prototype.writeFloatLE=function(k,I,q){return ue(this,k,I,!0,q)},C.prototype.writeFloatBE=function(k,I,q){return ue(this,k,I,!1,q)};function de(Z,k,I,q,G){return G||ee(Z,k,I,8,17976931348623157e292,-17976931348623157e292),ot.write(Z,k,I,q,52,8),I+8}C.prototype.writeDoubleLE=function(k,I,q){return de(this,k,I,!0,q)},C.prototype.writeDoubleBE=function(k,I,q){return de(this,k,I,!1,q)},C.prototype.copy=function(k,I,q,G){if(q||(q=0),!G&&G!==0&&(G=this.length),I>=k.length&&(I=k.length),I||(I=0),G>0&&G<q&&(G=q),G===q||k.length===0||this.length===0)return 0;if(I<0)throw new RangeError("targetStart out of bounds");if(q<0||q>=this.length)throw new RangeError("sourceStart out of bounds");if(G<0)throw new RangeError("sourceEnd out of bounds");G>this.length&&(G=this.length),k.length-I<G-q&&(G=k.length-I+q);var oe=G-q,ae;if(this===k&&q<I&&I<G)for(ae=oe-1;ae>=0;--ae)k[ae+I]=this[ae+q];else if(oe<1e3||!C.TYPED_ARRAY_SUPPORT)for(ae=0;ae<oe;++ae)k[ae+I]=this[ae+q];else Uint8Array.prototype.set.call(k,this.subarray(q,q+oe),I);return oe},C.prototype.fill=function(k,I,q,G){if(typeof k=="string"){if(typeof I=="string"?(G=I,I=0,q=this.length):typeof q=="string"&&(G=q,q=this.length),k.length===1){var oe=k.charCodeAt(0);oe<256&&(k=oe)}if(G!==void 0&&typeof G!="string")throw new TypeError("encoding must be a string");if(typeof G=="string"&&!C.isEncoding(G))throw new TypeError("Unknown encoding: "+G)}else typeof k=="number"&&(k=k&255);if(I<0||this.length<I||this.length<q)throw new RangeError("Out of range index");if(q<=I)return this;I=I>>>0,q=q===void 0?this.length:q>>>0,k||(k=0);var ae;if(typeof k=="number")for(ae=I;ae<q;++ae)this[ae]=k;else{var se=C.isBuffer(k)?k:le(new C(k,G).toString()),Re=se.length;for(ae=0;ae<q-I;++ae)this[ae+I]=se[ae%Re]}return this};var pe=/[^+\/0-9A-Za-z-_]/g;function fe(Z){if(Z=ne(Z).replace(pe,""),Z.length<2)return"";for(;Z.length%4!=0;)Z=Z+"=";return Z}function ne(Z){return Z.trim?Z.trim():Z.replace(/^\s+|\s+$/g,"")}function he(Z){return Z<16?"0"+Z.toString(16):Z.toString(16)}function le(Z,k){k=k||Infinity;for(var I,q=Z.length,G=null,oe=[],ae=0;ae<q;++ae){if(I=Z.charCodeAt(ae),I>55295&&I<57344){if(!G){if(I>56319){(k-=3)>-1&&oe.push(239,191,189);continue}else if(ae+1===q){(k-=3)>-1&&oe.push(239,191,189);continue}G=I;continue}if(I<56320){(k-=3)>-1&&oe.push(239,191,189),G=I;continue}I=(G-55296<<10|I-56320)+65536}else G&&(k-=3)>-1&&oe.push(239,191,189);if(G=null,I<128){if((k-=1)<0)break;oe.push(I)}else if(I<2048){if((k-=2)<0)break;oe.push(I>>6|192,I&63|128)}else if(I<65536){if((k-=3)<0)break;oe.push(I>>12|224,I>>6&63|128,I&63|128)}else if(I<1114112){if((k-=4)<0)break;oe.push(I>>18|240,I>>12&63|128,I>>6&63|128,I&63|128)}else throw new Error("Invalid code point")}return oe}function Ee(Z){for(var k=[],I=0;I<Z.length;++I)k.push(Z.charCodeAt(I)&255);return k}function Se(Z,k){for(var I,q,G,oe=[],ae=0;ae<Z.length&&!((k-=2)<0);++ae)I=Z.charCodeAt(ae),q=I>>8,G=I%256,oe.push(G),oe.push(q);return oe}function Le(Z){return Xe.toByteArray(fe(Z))}function z(Z,k,I,q){for(var G=0;G<q&&!(G+I>=k.length||G>=Z.length);++G)k[G+I]=Z[G];return G}function ge(Z){return Z!==Z}}).call(this,ze("IyRk"))},Iab2:function(wt,ft,ze){(function(qe){var Xe,ot,Je;(function(J,re){ot=[],Xe=re,Je=typeof Xe=="function"?Xe.apply(ft,ot):Xe,Je!==void 0&&(wt.exports=Je)})(this,function(){"use strict";function J(f,w){return typeof w=="undefined"?w={autoBom:!1}:typeof w!="object"&&(console.warn("Deprecated: Expected third argument to be a object"),w={autoBom:!w}),w.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(f.type)?new Blob(["\uFEFF",f],{type:f.type}):f}function re(f,w,m){var o=new XMLHttpRequest;o.open("GET",f),o.responseType="blob",o.onload=function(){p(o.response,w,m)},o.onerror=function(){console.error("could not download file")},o.send()}function L(f){var w=new XMLHttpRequest;w.open("HEAD",f,!1);try{w.send()}catch(m){}return 200<=w.status&&299>=w.status}function C(f){try{f.dispatchEvent(new MouseEvent("click"))}catch(m){var w=document.createEvent("MouseEvents");w.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),f.dispatchEvent(w)}}var _=typeof window=="object"&&window.window===window?window:typeof self=="object"&&self.self===self?self:typeof qe=="object"&&qe.global===qe?qe:void 0,h=_.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),p=_.saveAs||(typeof window!="object"||window!==_?function(){}:"download"in HTMLAnchorElement.prototype&&!h?function(f,w,m){var o=_.URL||_.webkitURL,i=document.createElement("a");w=w||f.name||"download",i.download=w,i.rel="noopener",typeof f=="string"?(i.href=f,i.origin===location.origin?C(i):L(i.href)?re(f,w,m):C(i,i.target="_blank")):(i.href=o.createObjectURL(f),setTimeout(function(){o.revokeObjectURL(i.href)},4e4),setTimeout(function(){C(i)},0))}:"msSaveOrOpenBlob"in navigator?function(f,w,m){if(w=w||f.name||"download",typeof f!="string")navigator.msSaveOrOpenBlob(J(f,m),w);else if(L(f))re(f,w,m);else{var o=document.createElement("a");o.href=f,o.target="_blank",setTimeout(function(){C(o)})}}:function(f,w,m,o){if(o=o||open("","_blank"),o&&(o.document.title=o.document.body.innerText="downloading..."),typeof f=="string")return re(f,w,m);var i=f.type==="application/octet-stream",e=/constructor/i.test(_.HTMLElement)||_.safari,r=/CriOS\/[\d]+/.test(navigator.userAgent);if((r||i&&e||h)&&typeof FileReader!="undefined"){var n=new FileReader;n.onloadend=function(){var d=n.result;d=r?d:d.replace(/^data:[^;]*;/,"data:attachment/file;"),o?o.location.href=d:location=d,o=null},n.readAsDataURL(f)}else{var c=_.URL||_.webkitURL,t=c.createObjectURL(f);o?o.location=t:location.href=t,o=null,setTimeout(function(){c.revokeObjectURL(t)},4e4)}});_.saveAs=p.saveAs=p,wt.exports=p})}).call(this,ze("IyRk"))},PGov:function(wt,ft,ze){"use strict";var qe=ze("i8i4"),Xe=ze.n(qe),ot=ze("oOwn"),Je=ze.n(ot),J=ze("bBst"),re=ze.n(J),L=ze("q1tI"),C=ze.n(L);function _(M,K,H){return K in M?Object.defineProperty(M,K,{value:H,enumerable:!0,configurable:!0,writable:!0}):M[K]=H,M}function h(M){for(var K=1;K<arguments.length;K++){var H=arguments[K]!=null?arguments[K]:{},P=Object.keys(H);typeof Object.getOwnPropertySymbols=="function"&&(P=P.concat(Object.getOwnPropertySymbols(H).filter(function(ee){return Object.getOwnPropertyDescriptor(H,ee).enumerable}))),P.forEach(function(ee){_(M,ee,H[ee])})}return M}function p(M,K){if(!(M instanceof K))throw new TypeError("Cannot call a class as a function")}function f(M,K){for(var H=0;H<K.length;H++){var P=K[H];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(M,P.key,P)}}function w(M,K,H){return K&&f(M.prototype,K),H&&f(M,H),M}function m(M){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?m=function(H){return typeof H}:m=function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":typeof H},m(M)}function o(M){return typeof Symbol=="function"&&m(Symbol.iterator)==="symbol"?o=function(H){return m(H)}:o=function(H){return H&&typeof Symbol=="function"&&H.constructor===Symbol&&H!==Symbol.prototype?"symbol":m(H)},o(M)}function i(M){if(M===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return M}function e(M,K){return K&&(o(K)==="object"||typeof K=="function")?K:i(M)}function r(M){return r=Object.setPrototypeOf?Object.getPrototypeOf:function(H){return H.__proto__||Object.getPrototypeOf(H)},r(M)}function n(M,K){return n=Object.setPrototypeOf||function(P,ee){return P.__proto__=ee,P},n(M,K)}function c(M,K){if(typeof K!="function"&&K!==null)throw new TypeError("Super expression must either be null or a function");M.prototype=Object.create(K&&K.prototype,{constructor:{value:M,writable:!0,configurable:!0}}),K&&n(M,K)}function t(M){if(Array.isArray(M)){for(var K=0,H=new Array(M.length);K<M.length;K++)H[K]=M[K];return H}}function d(M){if(Symbol.iterator in Object(M)||Object.prototype.toString.call(M)==="[object Arguments]")return Array.from(M)}function g(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function E(M){return t(M)||d(M)||g()}var D={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},T=function M(){var K=this;p(this,M),this.startListen=function(H){!H||H.addEventListener("keydown",K.f)},this.stopListen=function(H){!H||H.removeEventListener("keydown",K.f)},this.add=function(H,P){var ee=H;return typeof ee!="object"&&(ee=[ee]),K.listeners[K.index]={keyCode:ee,fn:P},K.index++},this.remove=function(H){delete K.listeners[H]},this.removeAll=function(){K.listeners={},K.index=1},this.index=1,this.listeners={},this.f=function(H){if(!!H){var P=H.keyCode||H.which;Object.values(K.listeners).forEach(function(ee){var ue=ee.keyCode,de=ee.fn;ue.includes(P)&&(H.stopPropagation(),H.preventDefault(),de(H))})}}},A=new T,O=function(M){c(K,M);function K(){var H,P;p(this,K);for(var ee=arguments.length,ue=new Array(ee),de=0;de<ee;de++)ue[de]=arguments[de];return P=e(this,(H=r(K)).call.apply(H,[this].concat(ue))),P.selectItem=function(){var pe=P.props,fe=pe.item,ne=pe.onSelectHandler;ne(fe)},P}return w(K,[{key:"shouldComponentUpdate",value:function(P){return this.props.item!==P.item||this.props.selected!==P.selected||this.props.style!==P.style||this.props.className!==P.className}},{key:"render",value:function(){var P=this,ee=this.props,ue=ee.component,de=ee.style,pe=ee.onClickHandler,fe=ee.item,ne=ee.selected,he=ee.className,le=ee.innerRef;return C.a.createElement("li",{className:"rta__item  ".concat(ne===!0?"rta__item--selected":""," ").concat(he||""),style:de},C.a.createElement("div",{className:"rta__entity ".concat(ne===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:pe,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){P.clicked=!0,P.selectItem()},onTouchEnd:function(Se){Se.preventDefault(),P.clicked&&pe(Se)},onTouchMove:function(){P.clicked=!1},onTouchCancel:function(){P.clicked=!1},ref:le},C.a.createElement(ue,{selected:ne,entity:fe})))}}]),K}(C.a.Component),N=function(M){c(K,M);function K(){var H,P;p(this,K);for(var ee=arguments.length,ue=new Array(ee),de=0;de<ee;de++)ue[de]=arguments[de];return P=e(this,(H=r(K)).call.apply(H,[this].concat(ue))),P.state={selectedItem:null},P.cachedIdOfItems=new Map,P.onPressEnter=function(pe){typeof pe!="undefined"&&pe.preventDefault();var fe=P.props.values;P.modifyText(fe[P.getPositionInList()])},P.getPositionInList=function(){var pe=P.props.values,fe=P.state.selectedItem;return fe?pe.findIndex(function(ne){return P.getId(ne)===P.getId(fe)}):0},P.getId=function(pe){if(P.cachedIdOfItems.has(pe))return P.cachedIdOfItems.get(pe);var fe=P.props.getTextToReplace(pe),ne=function(){if(fe){if(fe.key)return fe.key;if(typeof pe=="string"||!pe.key)return fe.text}if(!pe.key)throw new Error("Item ".concat(JSON.stringify(pe),' has to have defined "key" property'));return pe.key},he=ne();return P.cachedIdOfItems.set(pe,he),he},P.listeners=[],P.itemsRef={},P.modifyText=function(pe){if(!!pe){var fe=P.props.onSelect;fe(pe)}},P.selectItem=function(pe){var fe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,ne=P.props.onItemHighlighted;P.state.selectedItem!==pe&&P.setState({selectedItem:pe},function(){ne(pe),fe&&P.props.dropdownScroll(P.itemsRef[P.getId(pe)])})},P.scroll=function(pe){pe.preventDefault();var fe=P.props.values,ne=pe.keyCode||pe.which,he=P.getPositionInList(),le;switch(ne){case D.DOWN:le=he+1;break;case D.UP:le=he-1;break;default:le=he;break}le=(le%fe.length+fe.length)%fe.length,P.selectItem(fe[le],[D.DOWN,D.UP].includes(ne))},P.isSelected=function(pe){var fe=P.state.selectedItem;return fe?P.getId(fe)===P.getId(pe):!1},P}return w(K,[{key:"componentDidMount",value:function(){this.listeners.push(A.add([D.DOWN,D.UP],this.scroll),A.add([D.ENTER,D.TAB],this.onPressEnter));var P=this.props.values;P&&P[0]&&this.selectItem(P[0])}},{key:"componentDidUpdate",value:function(P){var ee=this,ue=P.values,de=this.props.values,pe=ue.map(function(ne){return ee.getId(ne)}).join(""),fe=de.map(function(ne){return ee.getId(ne)}).join("");pe!==fe&&de&&de[0]&&this.selectItem(de[0])}},{key:"componentWillUnmount",value:function(){for(var P;this.listeners.length;)P=this.listeners.pop(),A.remove(P)}},{key:"render",value:function(){var P=this,ee=this.props,ue=ee.values,de=ee.component,pe=ee.style,fe=ee.itemClassName,ne=ee.className,he=ee.itemStyle;return C.a.createElement("ul",{className:"rta__list ".concat(ne||""),style:pe},ue.map(function(le){return C.a.createElement(O,{key:P.getId(le),innerRef:function(Se){P.itemsRef[P.getId(le)]=Se},selected:P.isSelected(le),item:le,className:fe,style:he,onClickHandler:P.onPressEnter,onSelectHandler:P.selectItem,component:de})}))}}]),K}(C.a.Component);function U(M,K){var H=parseInt(getComputedStyle(K).getPropertyValue("height"),10),P=parseInt(getComputedStyle(M).getPropertyValue("height"),10)-H,ee=K.offsetTop,ue=M.scrollTop;ee<ue+P&&ue<ee||(M.scrollTop=ee)}var F="next",Y={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},B=function(K){return console.error("RTA: dataProvider fails: ".concat(K,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},te=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],$=function(K){return E(K).map(function(H){return te.includes(H)?"\\".concat(H):H}).join("")},W=function(M){c(K,M);function K(){return p(this,K),e(this,r(K).apply(this,arguments))}return w(K,[{key:"componentDidMount",value:function(){var P=this.props.boundariesElement;if(typeof P=="string"){var ee=document.querySelector(P);if(!ee)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=ee}else if(P instanceof HTMLElement)this.containerElem=P;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var P,ee,ue=this.props.top||0,de=this.props.left||0,pe=[],fe=[],ne=0,he=0,le=this.containerElem.getBoundingClientRect(),Ee=this.ref.getBoundingClientRect(),Se=this.props.textareaRef.getBoundingClientRect(),Le=window.getComputedStyle(this.ref),z=parseInt(Le.getPropertyValue("margin-top"),10),ge=parseInt(Le.getPropertyValue("margin-bottom"),10),Z=parseInt(Le.getPropertyValue("margin-left"),10),k=parseInt(Le.getPropertyValue("margin-right"),10),I=z+ge+Se.top+ue+Ee.height,q=Z+k+Se.left+de+Ee.width;q>le.right&&Se.left+de>Ee.width?(he=de-Ee.width,pe.push(Y.X.LEFT),fe.push(Y.X.RIGHT)):(he=de,pe.push(Y.X.RIGHT),fe.push(Y.X.LEFT)),I>le.bottom&&Se.top+ue>Ee.height?(ne=ue-Ee.height,pe.push(Y.Y.TOP),fe.push(Y.Y.BOTTOM)):(ne=ue,pe.push(Y.Y.BOTTOM),fe.push(Y.Y.TOP)),this.props.renderToBody&&(ne+=Se.top,he+=Se.left),this.ref.style.top="".concat(ne,"px"),this.ref.style.left="".concat(he,"px"),(P=this.ref.classList).remove.apply(P,fe),(ee=this.ref.classList).add.apply(ee,pe)}},{key:"render",value:function(){var P=this,ee=this.props,ue=ee.style,de=ee.className,pe=ee.innerRef,fe=ee.children,ne=ee.renderToBody,he=document.body,le=C.a.createElement("div",{ref:function(Se){P.ref=Se,pe(Se)},className:"rta__autocomplete ".concat(de||""),style:ue},fe);return ne&&he!==null?Xe.a.createPortal(le,he):le}}]),K}(C.a.Component),X=function(M){c(K,M);function K(H){var P;p(this,K),P=e(this,r(K).call(this,H)),P.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},P.escListenerInit=function(){P.escListener||(P.escListener=A.add(D.ESC,P._closeAutocomplete))},P.escListenerDestroy=function(){P.escListener&&(A.remove(P.escListener),P.escListener=null)},P.getSelectionPosition=function(){return P.textareaRef?{selectionStart:P.textareaRef.selectionStart,selectionEnd:P.textareaRef.selectionEnd}:null},P.getSelectedText=function(){if(!P.textareaRef)return null;var fe=P.textareaRef,ne=fe.selectionStart,he=fe.selectionEnd;return ne===he?null:P.state.value.substr(ne,he-ne)},P.setCaretPosition=function(){var fe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;!P.textareaRef||(P.textareaRef.focus(),P.textareaRef.setSelectionRange(fe,fe))},P.getCaretPosition=function(){if(!P.textareaRef)return 0;var fe=P.textareaRef.selectionEnd;return fe},P._handleCaretChange=function(fe){var ne=function(){var Ee=P.getCaretPosition()-1;P.lastTrigger=P.lastTrigger?Ee:0};if(fe.type==="keydown"){var he=fe.keyCode||fe.which;switch(he){case D.UP:case D.DOWN:P._isAutocompleteOpen()||ne();break;case D.LEFT:case D.RIGHT:ne();break;default:}return}ne()},P._onSelect=function(fe){var ne=P.state,he=ne.selectionEnd,le=ne.currentTrigger,Ee=ne.value,Se=P.props.onItemSelected;if(!!le){var Le=P._getTextToReplace(le);if(!Le){P._closeAutocomplete();return}var z=Le(fe);if(!z){P._closeAutocomplete();return}Se&&Se({currentTrigger:le,item:fe});var ge=function(ke,Ve,Ze){switch(ke){case"start":return Ze;case"next":case"end":return Ze+Ve.length;default:if(!Number.isInteger(ke))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return ke}},Z=Ee.slice(0,he),k=$(le),I=Z.length-Z.lastIndexOf(le),q=Z.search(new RegExp("(?!".concat(k,")$")))-I,G=z.caretPosition==="next"?"".concat(z.text," "):z.text,oe=ge(z.caretPosition,G,q),ae=Z.substring(0,q)+G,se=Ee.replace(Z,ae);P.setState({value:se,dataLoading:!1},function(){var Re=P.tokenRegExpEnding.exec(G),ke=Re?Re[0].length:1;P.lastTrigger=oe&&oe-ke,P.textareaRef.value=se,P.textareaRef.selectionEnd=oe,P._changeHandler();var Ve=P.textareaRef.scrollTop;P.setCaretPosition(oe),window.chrome&&(P.textareaRef.scrollTop=Ve)})}},P._getTextToReplace=function(fe){var ne=P.props.trigger[fe];if(!fe||!ne)return null;var he=ne.output;return function(le){if(typeof le=="object"&&(!he||typeof he!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if(he){var Ee=he(le,fe);if(Ee===void 0||typeof Ee=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(Ee),'". Check the implementation for trigger "').concat(fe,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(Ee===null)return null;if(typeof Ee=="string")return{text:Ee,caretPosition:F};if(!Ee.text&&typeof Ee.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(fe,`"
`));if(!Ee.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(fe,`"
`));return Ee}if(typeof le!="string")throw new Error(`Output item should be string
`);return{text:"".concat(fe).concat(le).concat(fe),caretPosition:F}}},P._getCurrentTriggerSettings=function(){var fe=P.state.currentTrigger;return fe?P.props.trigger[fe]:null},P._getValuesFromProvider=function(){var fe=P.state,ne=fe.currentTrigger,he=fe.actualToken,le=P._getCurrentTriggerSettings();if(!(!ne||!le)){var Ee=le.dataProvider,Se=le.component;if(typeof Ee!="function")throw new Error("Trigger provider has to be a function!");P.setState({dataLoading:!0});var Le=Ee(he);Le instanceof Promise||(Le=Promise.resolve(Le)),Le.then(function(z){if(!Array.isArray(z))throw new Error("Trigger provider has to provide an array!");if(typeof Se!="function")throw new Error("Component should be defined!");if(ne===P.state.currentTrigger){if(!z.length){P._closeAutocomplete();return}P.setState({dataLoading:!1,data:z,component:Se})}}).catch(function(z){return B(z.message)})}},P._getSuggestions=function(){var fe=P.state,ne=fe.currentTrigger,he=fe.data;return!ne||!he||he&&!he.length?null:he},P._createRegExp=function(){var fe=P.props.trigger;P.tokenRegExp=new RegExp("(".concat(Object.keys(fe).sort(function(ne,he){return ne<he?1:ne>he?-1:0}).map(function(ne){return $(ne)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),P.tokenRegExpEnding=new RegExp("(".concat(Object.keys(fe).sort(function(ne,he){return ne<he?1:ne>he?-1:0}).map(function(ne){return $(ne)}).join("|"),")$"))},P._closeAutocomplete=function(){var fe=P.state.currentTrigger;P.escListenerDestroy(),P.setState({data:null,dataLoading:!1,currentTrigger:null},function(){fe&&P._onItemHighlightedHandler(null)})},P._cleanUpProps=function(){var fe=h({},P.props),ne=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var he in fe)ne.includes(he)&&delete fe[he];return fe},P._changeHandler=function(fe){var ne=P.props,he=ne.trigger,le=ne.onChange,Ee=ne.minChar,Se=ne.onCaretPositionChange,Le=ne.movePopupAsYouType,z=P.state,ge=z.top,Z=z.left,k=fe;k||(k=new re.a("change",{bubbles:!0}),P.textareaRef.dispatchEvent(k));var I=k.target||P.textareaRef,q=I.selectionEnd,G=I.value;if(P.lastValueBubbledEvent=G,le&&k&&(k.persist&&k.persist(),le(new Proxy(k,{get:function(jt,At,or){return At==="target"?I:Reflect.get(jt,At,or)}}))),Se){var oe=P.getCaretPosition();Se(oe)}P.setState({value:G});var ae=function(){var jt=Je()(I,q),At=jt.top,or=jt.left;P.setState({top:At-P.textareaRef.scrollTop||0,left:or})},se=function(jt){P.lastTrigger=q-jt,P._closeAutocomplete(),ae()};if(q<=P.lastTrigger){var Re=G.slice(0,q),ke=P.tokenRegExp.exec(Re);se(ke?ke[0].length:0)}var Ve=G.slice(P.lastTrigger,q),Ze=P.tokenRegExp.exec(Ve),et=Ze&&Ze[0],ht=Ze&&Ze[1]||null,It=ht?ht.length-1:0,kt=P.tokenRegExpEnding.exec(Ve);if(kt?se(kt[0].length):P._isAutocompleteOpen()||P._closeAutocomplete(),(!et||et.length<=Ee+It)&&(P.state.currentTrigger&&!he[P.state.currentTrigger].allowWhitespace||!P.state.currentTrigger)){P._closeAutocomplete();return}if(ht&&he[ht].afterWhitespace&&!/\s/.test(G[q-et.length-1])&&G[q-et.length-1]!==void 0){P._closeAutocomplete();return}if(P.state.currentTrigger&&he[P.state.currentTrigger].allowWhitespace){if(Ze=new RegExp("".concat($(P.state.currentTrigger),".*$")).exec(G.slice(0,q)),et=Ze&&Ze[0],!et){P._closeAutocomplete();return}ht=Object.keys(he).find(function(Rt){return Rt.slice(0,It+1)===et.slice(0,It+1)})||null}var qt=et.slice(1);if(!!ht){(Le||ge===null&&Z===null||P.state.currentTrigger!==ht)&&ae(),P.escListenerInit();var vt=P._getTextToReplace(ht);P.setState({selectionEnd:q,currentTrigger:ht,textToReplace:vt,actualToken:qt},function(){try{P._getValuesFromProvider()}catch(Rt){B(Rt.message)}})}},P._selectHandler=function(fe){var ne=P.props,he=ne.onCaretPositionChange,le=ne.onSelect;if(he){var Ee=P.getCaretPosition();he(Ee)}le&&(fe.persist(),le(fe))},P._shouldStayOpen=function(fe){var ne=fe.relatedTarget;return ne===null&&(ne=document.activeElement),!!(P.dropdownRef&&ne instanceof Node&&P.dropdownRef.contains(ne))},P._onClick=function(fe){var ne=P.props.onClick;ne&&(fe.persist(),ne(fe)),!P._shouldStayOpen(fe)&&P._closeAutocomplete()},P._onBlur=function(fe){var ne=P.props.onBlur;ne&&(fe.persist(),ne(fe)),!P._shouldStayOpen(fe)&&P._closeAutocomplete()},P._onScrollHandler=function(){P._closeAutocomplete()},P._onItemHighlightedHandler=function(fe){var ne=P.props.onItemHighlighted,he=P.state.currentTrigger;if(ne)if(typeof ne=="function")ne({currentTrigger:he,item:fe});else throw new Error("`onItemHighlighted` has to be a function")},P._dropdownScroll=function(fe){var ne=P.props.scrollToItem;if(!!ne){if(ne===!0){U(P.dropdownRef,fe);return}if(typeof ne!="function"||ne.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");ne(P.dropdownRef,fe)}},P._isAutocompleteOpen=function(){var fe=P.state,ne=fe.dataLoading,he=fe.currentTrigger,le=P._getSuggestions();return!!((ne||le)&&he)},P._textareaRef=function(fe){P.props.innerRef&&P.props.innerRef(fe),P.textareaRef=fe},P.lastTrigger=0,P.escListener=null;var ee=P.props,ue=ee.loadingComponent,de=ee.trigger,pe=ee.value;if(pe&&(P.state.value=pe),P._createRegExp(),!ue)throw new Error("RTA: loadingComponent is not defined");if(!de)throw new Error("RTA: trigger is not defined");return P}return w(K,[{key:"componentDidMount",value:function(){A.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(P){var ee=P.trigger,ue=P.value,de=this.props,pe=de.trigger,fe=de.value;Object.keys(pe).join("")!==Object.keys(ee).join("")&&this._createRegExp(),ue!==fe&&this.lastValueBubbledEvent!==fe&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),A.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var P=this,ee=this.props,ue=ee.loadingComponent,de=ee.style,pe=ee.className,fe=ee.listStyle,ne=ee.itemStyle,he=ee.boundariesElement,le=ee.movePopupAsYouType,Ee=ee.listClassName,Se=ee.itemClassName,Le=ee.dropdownClassName,z=ee.dropdownStyle,ge=ee.containerStyle,Z=ee.containerClassName,k=ee.loaderStyle,I=ee.loaderClassName,q=ee.textAreaComponent,G=ee.renderToBody,oe=this.state,ae=oe.left,se=oe.top,Re=oe.dataLoading,ke=oe.component,Ve=oe.value,Ze=oe.textToReplace,et=this._isAutocompleteOpen(),ht=this._getSuggestions(),It={},kt;return q.component?(kt=q.component,It[q.ref]=this._textareaRef):(kt=q,It.ref=this._textareaRef),C.a.createElement("div",{className:"rta ".concat(Re===!0?"rta--loading":""," ").concat(Z||""),style:ge},C.a.createElement(kt,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(pe||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:Ve,style:de},It)),et&&C.a.createElement(W,{innerRef:function(vt){P.dropdownRef=vt},top:se,left:ae,style:z,className:Le,movePopupAsYouType:le,boundariesElement:he,textareaRef:this.textareaRef,renderToBody:G},ht&&ke&&Ze&&C.a.createElement(N,{values:ht,component:ke,style:fe,className:Ee,itemClassName:Se,itemStyle:ne,getTextToReplace:Ze,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),Re&&C.a.createElement("div",{className:"rta__loader ".concat(ht!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(I||""),style:k},C.a.createElement(ue,{data:ht}))))}}],[{key:"getDerivedStateFromProps",value:function(P){var ee=P.value;return ee==null?null:{value:ee}}}]),K}(C.a.Component);X.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1},ft.a=X},UF3W:function(wt,ft,ze){(function(qe){/*! For license information please see reportbro.js.LICENSE.txt */(function(){var Xe={1924:function(re,L,C){"use strict";var _=C(210),h=C(5559),p=h(_("String.prototype.indexOf"));re.exports=function(f,w){var m=_(f,!!w);return typeof m=="function"&&p(f,".prototype.")>-1?h(m):m}},5559:function(re,L,C){"use strict";var _=C(8612),h=C(210),p=h("%Function.prototype.apply%"),f=h("%Function.prototype.call%"),w=h("%Reflect.apply%",!0)||_.call(f,p),m=h("%Object.getOwnPropertyDescriptor%",!0),o=h("%Object.defineProperty%",!0),i=h("%Math.max%");if(o)try{o({},"a",{value:1})}catch(r){o=null}re.exports=function(r){var n=w(_,f,arguments);if(m&&o){var c=m(n,"length");c.configurable&&o(n,"length",{value:1+i(0,r.length-(arguments.length-1))})}return n};var e=function(){return w(_,p,arguments)};o?o(re.exports,"apply",{value:e}):re.exports.apply=e},251:function(re,L,C){var _=C(2215),h=C(2584),p=C(609),f=C(8420),w=C(2847),m=C(8923),o=Date.prototype.getTime;function i(r){return r==null}function e(r){return!(!r||typeof r!="object"||typeof r.length!="number"||typeof r.copy!="function"||typeof r.slice!="function"||r.length>0&&typeof r[0]!="number")}re.exports=function r(n,c,t){var d=t||{};return!!(d.strict?p(n,c):n===c)||(!n||!c||typeof n!="object"&&typeof c!="object"?d.strict?p(n,c):n==c:function(g,E,D){var T,A;if(typeof g!=typeof E||i(g)||i(E)||g.prototype!==E.prototype||h(g)!==h(E))return!1;var O=f(g),N=f(E);if(O!==N)return!1;if(O||N)return g.source===E.source&&w(g)===w(E);if(m(g)&&m(E))return o.call(g)===o.call(E);var U=e(g),F=e(E);if(U!==F)return!1;if(U||F){if(g.length!==E.length)return!1;for(T=0;T<g.length;T++)if(g[T]!==E[T])return!1;return!0}if(typeof g!=typeof E)return!1;try{var Y=_(g),B=_(E)}catch(te){return!1}if(Y.length!==B.length)return!1;for(Y.sort(),B.sort(),T=Y.length-1;T>=0;T--)if(Y[T]!=B[T])return!1;for(T=Y.length-1;T>=0;T--)if(!r(g[A=Y[T]],E[A],D))return!1;return!0}(n,c,d))}},4289:function(re,L,C){"use strict";var _=C(2215),h=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",p=Object.prototype.toString,f=Array.prototype.concat,w=Object.defineProperty,m=w&&function(){var e={};try{for(var r in w(e,"x",{enumerable:!1,value:e}),e)return!1;return e.x===e}catch(n){return!1}}(),o=function(r,n,c,t){var d;(!(n in r)||typeof(d=t)=="function"&&p.call(d)==="[object Function]"&&t())&&(m?w(r,n,{configurable:!0,enumerable:!1,value:c,writable:!0}):r[n]=c)},i=function(r,n){var c=arguments.length>2?arguments[2]:{},t=_(n);h&&(t=f.call(t,Object.getOwnPropertySymbols(n)));for(var d=0;d<t.length;d+=1)o(r,t[d],n[t[d]],c[t[d]])};i.supportsDescriptors=!!m,re.exports=i},5987:function(re){"use strict";var L={single_source_shortest_paths:function(_,h,p){var f={},w={};w[h]=0;var m,o,i,e,r,n,c,t=L.PriorityQueue.make();for(t.push(h,0);!t.empty();)for(i in o=(m=t.pop()).value,e=m.cost,r=_[o]||{})r.hasOwnProperty(i)&&(n=e+r[i],c=w[i],(w[i]===void 0||c>n)&&(w[i]=n,t.push(i,n),f[i]=o));if(p!==void 0&&w[p]===void 0){var d=["Could not find a path from ",h," to ",p,"."].join("");throw new Error(d)}return f},extract_shortest_path_from_predecessor_list:function(_,h){for(var p=[],f=h;f;)p.push(f),_[f],f=_[f];return p.reverse(),p},find_path:function(_,h,p){var f=L.single_source_shortest_paths(_,h,p);return L.extract_shortest_path_from_predecessor_list(f,p)},PriorityQueue:{make:function(_){var h,p=L.PriorityQueue,f={};for(h in _=_||{},p)p.hasOwnProperty(h)&&(f[h]=p[h]);return f.queue=[],f.sorter=_.sorter||p.default_sorter,f},default_sorter:function(_,h){return _.cost-h.cost},push:function(_,h){var p={value:_,cost:h};this.queue.push(p),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};re.exports=L},2378:function(re){"use strict";re.exports=function(L){for(var C=[],_=L.length,h=0;h<_;h++){var p=L.charCodeAt(h);if(p>=55296&&p<=56319&&_>h+1){var f=L.charCodeAt(h+1);f>=56320&&f<=57343&&(p=1024*(p-55296)+f-56320+65536,h+=1)}p<128?C.push(p):p<2048?(C.push(p>>6|192),C.push(63&p|128)):p<55296||p>=57344&&p<65536?(C.push(p>>12|224),C.push(p>>6&63|128),C.push(63&p|128)):p>=65536&&p<=1114111?(C.push(p>>18|240),C.push(p>>12&63|128),C.push(p>>6&63|128),C.push(63&p|128)):C.push(239,191,189)}return new Uint8Array(C).buffer}},4470:function(re){"use strict";var L=Object.prototype.hasOwnProperty,C=Object.prototype.toString,_=Object.defineProperty,h=Object.getOwnPropertyDescriptor,p=function(i){return typeof Array.isArray=="function"?Array.isArray(i):C.call(i)==="[object Array]"},f=function(i){if(!i||C.call(i)!=="[object Object]")return!1;var e,r=L.call(i,"constructor"),n=i.constructor&&i.constructor.prototype&&L.call(i.constructor.prototype,"isPrototypeOf");if(i.constructor&&!r&&!n)return!1;for(e in i);return e===void 0||L.call(i,e)},w=function(i,e){_&&e.name==="__proto__"?_(i,e.name,{enumerable:!0,configurable:!0,value:e.newValue,writable:!0}):i[e.name]=e.newValue},m=function(i,e){if(e==="__proto__"){if(!L.call(i,e))return;if(h)return h(i,e).value}return i[e]};re.exports=function o(){var i,e,r,n,c,t,d=arguments[0],g=1,E=arguments.length,D=!1;for(typeof d=="boolean"&&(D=d,d=arguments[1]||{},g=2),(d==null||typeof d!="object"&&typeof d!="function")&&(d={});g<E;++g)if((i=arguments[g])!=null)for(e in i)r=m(d,e),d!==(n=m(i,e))&&(D&&n&&(f(n)||(c=p(n)))?(c?(c=!1,t=r&&p(r)?r:[]):t=r&&f(r)?r:{},w(d,{name:e,newValue:o(D,t,n)})):n!==void 0&&w(d,{name:e,newValue:n}));return d}},7529:function(re){var L=-1;function C(o,i,e){if(o==i)return o?[[0,o]]:[];(e<0||o.length<e)&&(e=null);var r=h(o,i),n=o.substring(0,r);r=p(o=o.substring(r),i=i.substring(r));var c=o.substring(o.length-r),t=function(d,g){var E;if(!d)return[[1,g]];if(!g)return[[L,d]];var D=d.length>g.length?d:g,T=d.length>g.length?g:d,A=D.indexOf(T);if(A!=-1)return E=[[1,D.substring(0,A)],[0,T],[1,D.substring(A+T.length)]],d.length>g.length&&(E[0][0]=E[2][0]=L),E;if(T.length==1)return[[L,d],[1,g]];var O=function(W,X){var M=W.length>X.length?W:X,K=W.length>X.length?X:W;if(M.length<4||2*K.length<M.length)return null;function H(he,le,Ee){for(var Se,Le,z,ge,Z=he.substring(Ee,Ee+Math.floor(he.length/4)),k=-1,I="";(k=le.indexOf(Z,k+1))!=-1;){var q=h(he.substring(Ee),le.substring(k)),G=p(he.substring(0,Ee),le.substring(0,k));I.length<G+q&&(I=le.substring(k-G,k)+le.substring(k,k+q),Se=he.substring(0,Ee-G),Le=he.substring(Ee+q),z=le.substring(0,k-G),ge=le.substring(k+q))}return 2*I.length>=he.length?[Se,Le,z,ge,I]:null}var P,ee,ue,de,pe,fe=H(M,K,Math.ceil(M.length/4)),ne=H(M,K,Math.ceil(M.length/2));return fe||ne?(P=ne?fe&&fe[4].length>ne[4].length?fe:ne:fe,W.length>X.length?(ee=P[0],ue=P[1],de=P[2],pe=P[3]):(de=P[0],pe=P[1],ee=P[2],ue=P[3]),[ee,ue,de,pe,P[4]]):null}(d,g);if(O){var N=O[0],U=O[1],F=O[2],Y=O[3],B=O[4],te=C(N,F),$=C(U,Y);return te.concat([[0,B]],$)}return function(W,X){for(var M=W.length,K=X.length,H=Math.ceil((M+K)/2),P=H,ee=2*H,ue=new Array(ee),de=new Array(ee),pe=0;pe<ee;pe++)ue[pe]=-1,de[pe]=-1;ue[P+1]=0,de[P+1]=0;for(var fe=M-K,ne=fe%2!=0,he=0,le=0,Ee=0,Se=0,Le=0;Le<H;Le++){for(var z=-Le+he;z<=Le-le;z+=2){for(var ge=P+z,Z=(oe=z==-Le||z!=Le&&ue[ge-1]<ue[ge+1]?ue[ge+1]:ue[ge-1]+1)-z;oe<M&&Z<K&&W.charAt(oe)==X.charAt(Z);)oe++,Z++;if(ue[ge]=oe,oe>M)le+=2;else if(Z>K)he+=2;else if(ne&&(q=P+fe-z)>=0&&q<ee&&de[q]!=-1&&oe>=(I=M-de[q]))return _(W,X,oe,Z)}for(var k=-Le+Ee;k<=Le-Se;k+=2){for(var I,q=P+k,G=(I=k==-Le||k!=Le&&de[q-1]<de[q+1]?de[q+1]:de[q-1]+1)-k;I<M&&G<K&&W.charAt(M-I-1)==X.charAt(K-G-1);)I++,G++;if(de[q]=I,I>M)Se+=2;else if(G>K)Ee+=2;else if(!ne){var oe;if((ge=P+fe-k)>=0&&ge<ee&&ue[ge]!=-1&&(Z=P+(oe=ue[ge])-ge,oe>=(I=M-I)))return _(W,X,oe,Z)}}}return[[L,W],[1,X]]}(d,g)}(o=o.substring(0,o.length-r),i=i.substring(0,i.length-r));return n&&t.unshift([0,n]),c&&t.push([0,c]),f(t),e!=null&&(t=function(d,g){var E=function(U,F){if(F===0)return[0,U];for(var Y=0,B=0;B<U.length;B++){var te=U[B];if(te[0]===L||te[0]===0){var $=Y+te[1].length;if(F===$)return[B+1,U];if(F<$){U=U.slice();var W=F-Y,X=[te[0],te[1].slice(0,W)],M=[te[0],te[1].slice(W)];return U.splice(B,1,X,M),[B+1,U]}Y=$}}throw new Error("cursor_pos is out of bounds!")}(d,g),D=E[1],T=E[0],A=D[T],O=D[T+1];if(A==null||A[0]!==0)return d;if(O!=null&&A[1]+O[1]===O[1]+A[1])return D.splice(T,2,O,A),m(D,T,2);if(O!=null&&O[1].indexOf(A[1])===0){D.splice(T,2,[O[0],A[1]],[0,A[1]]);var N=O[1].slice(A[1].length);return N.length>0&&D.splice(T+2,0,[O[0],N]),m(D,T,3)}return d}(t,e)),function(d){for(var g=!1,E=function(N){return N.charCodeAt(0)>=56320&&N.charCodeAt(0)<=57343},D=2;D<d.length;D+=1)d[D-2][0]===0&&(T=d[D-2][1]).charCodeAt(T.length-1)>=55296&&T.charCodeAt(T.length-1)<=56319&&d[D-1][0]===L&&E(d[D-1][1])&&d[D][0]===1&&E(d[D][1])&&(g=!0,d[D-1][1]=d[D-2][1].slice(-1)+d[D-1][1],d[D][1]=d[D-2][1].slice(-1)+d[D][1],d[D-2][1]=d[D-2][1].slice(0,-1));var T;if(!g)return d;var A=[];for(D=0;D<d.length;D+=1)d[D][1].length>0&&A.push(d[D]);return A}(t)}function _(o,i,e,r){var n=o.substring(0,e),c=i.substring(0,r),t=o.substring(e),d=i.substring(r),g=C(n,c),E=C(t,d);return g.concat(E)}function h(o,i){if(!o||!i||o.charAt(0)!=i.charAt(0))return 0;for(var e=0,r=Math.min(o.length,i.length),n=r,c=0;e<n;)o.substring(c,n)==i.substring(c,n)?c=e=n:r=n,n=Math.floor((r-e)/2+e);return n}function p(o,i){if(!o||!i||o.charAt(o.length-1)!=i.charAt(i.length-1))return 0;for(var e=0,r=Math.min(o.length,i.length),n=r,c=0;e<n;)o.substring(o.length-n,o.length-c)==i.substring(i.length-n,i.length-c)?c=e=n:r=n,n=Math.floor((r-e)/2+e);return n}function f(o){o.push([0,""]);for(var i,e=0,r=0,n=0,c="",t="";e<o.length;)switch(o[e][0]){case 1:n++,t+=o[e][1],e++;break;case L:r++,c+=o[e][1],e++;break;case 0:r+n>1?(r!==0&&n!==0&&((i=h(t,c))!==0&&(e-r-n>0&&o[e-r-n-1][0]==0?o[e-r-n-1][1]+=t.substring(0,i):(o.splice(0,0,[0,t.substring(0,i)]),e++),t=t.substring(i),c=c.substring(i)),(i=p(t,c))!==0&&(o[e][1]=t.substring(t.length-i)+o[e][1],t=t.substring(0,t.length-i),c=c.substring(0,c.length-i))),r===0?o.splice(e-n,r+n,[1,t]):n===0?o.splice(e-r,r+n,[L,c]):o.splice(e-r-n,r+n,[L,c],[1,t]),e=e-r-n+(r?1:0)+(n?1:0)+1):e!==0&&o[e-1][0]==0?(o[e-1][1]+=o[e][1],o.splice(e,1)):e++,n=0,r=0,c="",t=""}o[o.length-1][1]===""&&o.pop();var d=!1;for(e=1;e<o.length-1;)o[e-1][0]==0&&o[e+1][0]==0&&(o[e][1].substring(o[e][1].length-o[e-1][1].length)==o[e-1][1]?(o[e][1]=o[e-1][1]+o[e][1].substring(0,o[e][1].length-o[e-1][1].length),o[e+1][1]=o[e-1][1]+o[e+1][1],o.splice(e-1,1),d=!0):o[e][1].substring(0,o[e+1][1].length)==o[e+1][1]&&(o[e-1][1]+=o[e+1][1],o[e][1]=o[e][1].substring(o[e+1][1].length)+o[e+1][1],o.splice(e+1,1),d=!0)),e++;d&&f(o)}var w=C;function m(o,i,e){for(var r=i+e-1;r>=0&&r>=i-1;r--)if(r+1<o.length){var n=o[r],c=o[r+1];n[0]===c[1]&&o.splice(r,2,[n[0],n[1]+c[1]])}return o}w.INSERT=1,w.DELETE=L,w.EQUAL=0,re.exports=w},7648:function(re){"use strict";var L="Function.prototype.bind called on incompatible ",C=Array.prototype.slice,_=Object.prototype.toString,h="[object Function]";re.exports=function(p){var f=this;if(typeof f!="function"||_.call(f)!==h)throw new TypeError(L+f);for(var w,m=C.call(arguments,1),o=function(){if(this instanceof w){var t=f.apply(this,m.concat(C.call(arguments)));return Object(t)===t?t:this}return f.apply(p,m.concat(C.call(arguments)))},i=Math.max(0,f.length-m.length),e=[],r=0;r<i;r++)e.push("$"+r);if(w=Function("binder","return function ("+e.join(",")+"){ return binder.apply(this,arguments); }")(o),f.prototype){var n=function(){};n.prototype=f.prototype,w.prototype=new n,n.prototype=null}return w}},8612:function(re,L,C){"use strict";var _=C(7648);re.exports=Function.prototype.bind||_},5972:function(re){"use strict";var L=function(){return typeof function(){}.name=="string"},C=Object.getOwnPropertyDescriptor;if(C)try{C([],"length")}catch(h){C=null}L.functionsHaveConfigurableNames=function(){if(!L()||!C)return!1;var h=C(function(){},"name");return!!h&&!!h.configurable};var _=Function.prototype.bind;L.boundFunctionsHaveNames=function(){return L()&&typeof _=="function"&&function(){}.bind().name!==""},re.exports=L},210:function(re,L,C){"use strict";var _,h=SyntaxError,p=Function,f=TypeError,w=function($){try{return p('"use strict"; return ('+$+").constructor;")()}catch(W){}},m=Object.getOwnPropertyDescriptor;if(m)try{m({},"")}catch(te){m=null}var o=function(){throw new f},i=m?function(){try{return o}catch(te){try{return m(arguments,"callee").get}catch($){return o}}}():o,e=C(1405)(),r=Object.getPrototypeOf||function(te){return te.__proto__},n={},c=typeof Uint8Array=="undefined"?_:r(Uint8Array),t={"%AggregateError%":typeof AggregateError=="undefined"?_:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?_:ArrayBuffer,"%ArrayIteratorPrototype%":e?r([][Symbol.iterator]()):_,"%AsyncFromSyncIteratorPrototype%":_,"%AsyncFunction%":n,"%AsyncGenerator%":n,"%AsyncGeneratorFunction%":n,"%AsyncIteratorPrototype%":n,"%Atomics%":typeof Atomics=="undefined"?_:Atomics,"%BigInt%":typeof BigInt=="undefined"?_:BigInt,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?_:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":typeof Float32Array=="undefined"?_:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?_:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?_:FinalizationRegistry,"%Function%":p,"%GeneratorFunction%":n,"%Int8Array%":typeof Int8Array=="undefined"?_:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?_:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?_:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":e?r(r([][Symbol.iterator]())):_,"%JSON%":typeof JSON=="object"?JSON:_,"%Map%":typeof Map=="undefined"?_:Map,"%MapIteratorPrototype%":typeof Map!="undefined"&&e?r(new Map()[Symbol.iterator]()):_,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?_:Promise,"%Proxy%":typeof Proxy=="undefined"?_:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":typeof Reflect=="undefined"?_:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?_:Set,"%SetIteratorPrototype%":typeof Set!="undefined"&&e?r(new Set()[Symbol.iterator]()):_,"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?_:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":e?r(""[Symbol.iterator]()):_,"%Symbol%":e?Symbol:_,"%SyntaxError%":h,"%ThrowTypeError%":i,"%TypedArray%":c,"%TypeError%":f,"%Uint8Array%":typeof Uint8Array=="undefined"?_:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?_:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?_:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?_:Uint32Array,"%URIError%":URIError,"%WeakMap%":typeof WeakMap=="undefined"?_:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?_:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?_:WeakSet},d=function te($){var W;if($==="%AsyncFunction%")W=w("async function () {}");else if($==="%GeneratorFunction%")W=w("function* () {}");else if($==="%AsyncGeneratorFunction%")W=w("async function* () {}");else if($==="%AsyncGenerator%"){var X=te("%AsyncGeneratorFunction%");X&&(W=X.prototype)}else if($==="%AsyncIteratorPrototype%"){var M=te("%AsyncGenerator%");M&&(W=r(M.prototype))}return t[$]=W,W},g={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},E=C(8612),D=C(7642),T=E.call(Function.call,Array.prototype.concat),A=E.call(Function.apply,Array.prototype.splice),O=E.call(Function.call,String.prototype.replace),N=E.call(Function.call,String.prototype.slice),U=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,F=/\\(\\)?/g,Y=function($){var W=N($,0,1),X=N($,-1);if(W==="%"&&X!=="%")throw new h("invalid intrinsic syntax, expected closing `%`");if(X==="%"&&W!=="%")throw new h("invalid intrinsic syntax, expected opening `%`");var M=[];return O($,U,function(K,H,P,ee){M[M.length]=P?O(ee,F,"$1"):H||K}),M},B=function($,W){var X,M=$;if(D(g,M)&&(M="%"+(X=g[M])[0]+"%"),D(t,M)){var K=t[M];if(K===n&&(K=d(M)),K===void 0&&!W)throw new f("intrinsic "+$+" exists, but is not available. Please file an issue!");return{alias:X,name:M,value:K}}throw new h("intrinsic "+$+" does not exist!")};re.exports=function(te,$){if(typeof te!="string"||te.length===0)throw new f("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof $!="boolean")throw new f('"allowMissing" argument must be a boolean');var W=Y(te),X=W.length>0?W[0]:"",M=B("%"+X+"%",$),K=M.name,H=M.value,P=!1,ee=M.alias;ee&&(X=ee[0],A(W,T([0,1],ee)));for(var ue=1,de=!0;ue<W.length;ue+=1){var pe=W[ue],fe=N(pe,0,1),ne=N(pe,-1);if((fe==='"'||fe==="'"||fe==="`"||ne==='"'||ne==="'"||ne==="`")&&fe!==ne)throw new h("property names with quotes must have matching quotes");if(pe!=="constructor"&&de||(P=!0),D(t,K="%"+(X+="."+pe)+"%"))H=t[K];else if(H!=null){if(!(pe in H)){if(!$)throw new f("base intrinsic for "+te+" exists, but the property is not available.");return}if(m&&ue+1>=W.length){var he=m(H,pe);H=(de=!!he)&&"get"in he&&!("originalValue"in he.get)?he.get:H[pe]}else de=D(H,pe),H=H[pe];de&&!P&&(t[K]=H)}}return H}},1405:function(re,L,C){"use strict";var _=typeof Symbol!="undefined"&&Symbol,h=C(5419);re.exports=function(){return typeof _=="function"&&typeof Symbol=="function"&&typeof _("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&h()}},5419:function(re){"use strict";re.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var L={},C=Symbol("test"),_=Object(C);if(typeof C=="string"||Object.prototype.toString.call(C)!=="[object Symbol]"||Object.prototype.toString.call(_)!=="[object Symbol]")return!1;for(C in L[C]=42,L)return!1;if(typeof Object.keys=="function"&&Object.keys(L).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(L).length!==0)return!1;var h=Object.getOwnPropertySymbols(L);if(h.length!==1||h[0]!==C||!Object.prototype.propertyIsEnumerable.call(L,C))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var p=Object.getOwnPropertyDescriptor(L,C);if(p.value!==42||p.enumerable!==!0)return!1}return!0}},7642:function(re,L,C){"use strict";var _=C(8612);re.exports=_.call(Function.call,Object.prototype.hasOwnProperty)},2584:function(re,L,C){"use strict";var _=typeof Symbol=="function"&&typeof Symbol.toStringTag=="symbol",h=C(1924)("Object.prototype.toString"),p=function(o){return!(_&&o&&typeof o=="object"&&Symbol.toStringTag in o)&&h(o)==="[object Arguments]"},f=function(o){return!!p(o)||o!==null&&typeof o=="object"&&typeof o.length=="number"&&o.length>=0&&h(o)!=="[object Array]"&&h(o.callee)==="[object Function]"},w=function(){return p(arguments)}();p.isLegacyArguments=f,re.exports=w?p:f},8923:function(re){"use strict";var L=Date.prototype.getDay,C=Object.prototype.toString,_=typeof Symbol=="function"&&!!Symbol.toStringTag;re.exports=function(h){return typeof h=="object"&&h!==null&&(_?function(p){try{return L.call(p),!0}catch(f){return!1}}(h):C.call(h)==="[object Date]")}},8420:function(re,L,C){"use strict";var _,h,p,f,w=C(1924),m=C(5419)()&&!!Symbol.toStringTag;if(m){_=w("Object.prototype.hasOwnProperty"),h=w("RegExp.prototype.exec"),p={};var o=function(){throw p};f={toString:o,valueOf:o},typeof Symbol.toPrimitive=="symbol"&&(f[Symbol.toPrimitive]=o)}var i=w("Object.prototype.toString"),e=Object.getOwnPropertyDescriptor;re.exports=m?function(r){if(!r||typeof r!="object")return!1;var n=e(r,"lastIndex");if(!n||!_(n,"value"))return!1;try{h(r,f)}catch(c){return c===p}}:function(r){return!(!r||typeof r!="object"&&typeof r!="function")&&i(r)==="[object RegExp]"}},5961:function(re,L,C){"use strict";var _=r(C(2289)),h=r(C(2276)),p=r(C(5443)),f=r(C(7044)),w=r(C(9972)),m=r(C(5065)),o=r(C(8532)),i=C(2362),e=r(C(6025));function r(T){return T&&T.__esModule?T:{default:T}}var n=function(){},c=function(A,O,N){var U=new n;if(A===void 0)throw Error("No element to render on was provided.");return U._renderProperties=(0,w.default)(A),U._encodings=[],U._options=e.default,U._errorHandler=new o.default(U),O!==void 0&&((N=N||{}).format||(N.format=E()),U.options(N)[N.format](O,N).render()),U};for(var t in c.getModule=function(T){return _.default[T]},_.default)_.default.hasOwnProperty(t)&&d(_.default,t);function d(T,A){n.prototype[A]=n.prototype[A.toUpperCase()]=n.prototype[A.toLowerCase()]=function(O,N){var U=this;return U._errorHandler.wrapBarcodeCall(function(){N.text=N.text===void 0?void 0:""+N.text;var F=(0,h.default)(U._options,N);F=(0,m.default)(F);var Y=T[A],B=g(O,Y,F);return U._encodings.push(B),U})}}function g(T,A,O){var N=new A(T=""+T,O);if(!N.valid())throw new i.InvalidInputException(N.constructor.name,T);var U=N.encode();U=(0,p.default)(U);for(var F=0;F<U.length;F++)U[F].options=(0,h.default)(O,U[F].options);return U}function E(){return _.default.CODE128?"CODE128":Object.keys(_.default)[0]}function D(T,A,O){A=(0,p.default)(A);for(var N=0;N<A.length;N++)A[N].options=(0,h.default)(O,A[N].options),(0,f.default)(A[N].options);(0,f.default)(O),new T.renderer(T.element,A,O).render(),T.afterRender&&T.afterRender()}n.prototype.options=function(T){return this._options=(0,h.default)(this._options,T),this},n.prototype.blank=function(T){var A=new Array(T+1).join("0");return this._encodings.push({data:A}),this},n.prototype.init=function(){var T;if(this._renderProperties)for(var A in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){T=this._renderProperties[A];var O=(0,h.default)(this._options,T.options);O.format=="auto"&&(O.format=E()),this._errorHandler.wrapBarcodeCall(function(){var N=g(O.value,_.default[O.format.toUpperCase()],O);D(T,N,O)})}},n.prototype.render=function(){if(!this._renderProperties)throw new i.NoElementException;if(Array.isArray(this._renderProperties))for(var T=0;T<this._renderProperties.length;T++)D(this._renderProperties[T],this._encodings,this._options);else D(this._renderProperties,this._encodings,this._options);return this},n.prototype._defaults=e.default,typeof window!="undefined"&&(window.JsBarcode=c),typeof jQuery!="undefined"&&(jQuery.fn.JsBarcode=function(T,A){var O=[];return jQuery(this).each(function(){O.push(this)}),c(O,T,A)}),re.exports=c},8012:function(re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.default=function C(_,h){(function(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,C),this.data=_,this.text=h.text||_,this.options=h}},2089:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _,h=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=(_=C(8012))&&_.__esModule?_:{default:_},f=C(4602),w=function(m){function o(i,e){(function(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o);var r=function(n,c){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?n:c}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i.substring(1),e));return r.bytes=i.split("").map(function(n){return n.charCodeAt(0)}),r}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),h(o,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var e=this.bytes,r=e.shift()-105,n=f.SET_BY_CODE[r];if(n===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&e.unshift(f.FNC1);var c=o.next(e,1,n);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:o.getBar(r)+c.result+o.getBar((c.checksum+r)%f.MODULO)+o.getBar(f.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var e=this.options.ean128||!1;return typeof e=="string"&&(e=e.toLowerCase()==="true"),e}}],[{key:"getBar",value:function(e){return f.BARS[e]?f.BARS[e].toString():""}},{key:"correctIndex",value:function(e,r){if(r===f.SET_A){var n=e.shift();return n<32?n+64:n-32}return r===f.SET_B?e.shift()-32:10*(e.shift()-48)+e.shift()-48}},{key:"next",value:function(e,r,n){if(!e.length)return{result:"",checksum:0};var c=void 0,t=void 0;if(e[0]>=200){t=e.shift()-105;var d=f.SWAP[t];d!==void 0?c=o.next(e,r+1,d):(n!==f.SET_A&&n!==f.SET_B||t!==f.SHIFT||(e[0]=n===f.SET_A?e[0]>95?e[0]-96:e[0]:e[0]<32?e[0]+96:e[0]),c=o.next(e,r+1,n))}else t=o.correctIndex(e,n),c=o.next(e,r+1,n);var g=t*r;return{result:o.getBar(t)+c.result,checksum:g+c.checksum}}}]),o}(p.default);L.default=w},8238:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _,h=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=(_=C(2089))&&_.__esModule?_:{default:_},f=C(4602),w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,f.A_START_CHAR+i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),h(o,[{key:"valid",value:function(){return new RegExp("^"+f.A_CHARS+"+$").test(this.data)}}]),o}(p.default);L.default=w},1180:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _,h=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=(_=C(2089))&&_.__esModule?_:{default:_},f=C(4602),w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,f.B_START_CHAR+i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),h(o,[{key:"valid",value:function(){return new RegExp("^"+f.B_CHARS+"+$").test(this.data)}}]),o}(p.default);L.default=w},944:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _,h=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=(_=C(2089))&&_.__esModule?_:{default:_},f=C(4602),w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,f.C_START_CHAR+i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),h(o,[{key:"valid",value:function(){return new RegExp("^"+f.C_CHARS+"+$").test(this.data)}}]),o}(p.default);L.default=w},8845:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _=p(C(2089)),h=p(C(7293));function p(m){return m&&m.__esModule?m:{default:m}}function f(m,o){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?m:o}var w=function(m){function o(i,e){if(function(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")}(this,o),/^[\x00-\x7F\xC8-\xD3]+$/.test(i))var r=f(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,(0,h.default)(i),e));else r=f(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e));return f(r)}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),o}(_.default);L.default=w},7293:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _=C(4602),h=function(i){return i.match(new RegExp("^"+_.A_CHARS+"*"))[0].length},p=function(i){return i.match(new RegExp("^"+_.B_CHARS+"*"))[0].length},f=function(i){return i.match(new RegExp("^"+_.C_CHARS+"*"))[0]};function w(o,i){var e=i?_.A_CHARS:_.B_CHARS,r=o.match(new RegExp("^("+e+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(r)return r[1]+String.fromCharCode(204)+m(o.substring(r[1].length));var n=o.match(new RegExp("^"+e+"+"))[0];return n.length===o.length?o:n+String.fromCharCode(i?205:206)+w(o.substring(n.length),!i)}function m(o){var i=f(o),e=i.length;if(e===o.length)return o;o=o.substring(e);var r=h(o)>=p(o);return i+String.fromCharCode(r?206:205)+w(o,r)}L.default=function(o){var i=void 0;if(f(o).length>=2)i=_.C_START_CHAR+m(o);else{var e=h(o)>p(o);i=(e?_.A_START_CHAR:_.B_START_CHAR)+w(o,e)}return i.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(r,n){return String.fromCharCode(203)+n})}},4602:function(re,L){"use strict";var C;function _(i,e,r){return e in i?Object.defineProperty(i,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):i[e]=r,i}Object.defineProperty(L,"__esModule",{value:!0});var h=L.SET_A=0,p=L.SET_B=1,f=L.SET_C=2,w=(L.SHIFT=98,L.START_A=103),m=L.START_B=104,o=L.START_C=105;L.MODULO=103,L.STOP=106,L.FNC1=207,L.SET_BY_CODE=(_(C={},w,h),_(C,m,p),_(C,o,f),C),L.SWAP={101:h,100:p,99:f},L.A_START_CHAR=String.fromCharCode(208),L.B_START_CHAR=String.fromCharCode(209),L.C_START_CHAR=String.fromCharCode(210),L.A_CHARS="[\0-_\xC8-\xCF]",L.B_CHARS="[ -\x7F\xC8-\xCF]",L.C_CHARS="(\xCF*[0-9]{2}\xCF*)",L.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},4935:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.CODE128C=L.CODE128B=L.CODE128A=L.CODE128=void 0;var _=w(C(8845)),h=w(C(8238)),p=w(C(1180)),f=w(C(944));function w(m){return m&&m.__esModule?m:{default:m}}L.CODE128=_.default,L.CODE128A=h.default,L.CODE128B=p.default,L.CODE128C=f.default},3361:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.CODE39=void 0;var _,h=function(){function i(e,r){for(var n=0;n<r.length;n++){var c=r[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}return function(e,r,n){return r&&i(e.prototype,r),n&&i(e,n),e}}(),p=function(i){function e(r,n){return function(c,t){if(!(c instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e),r=r.toUpperCase(),n.mod43&&(r+=function(c){return f[c]}(function(c){for(var t=0,d=0;d<c.length;d++)t+=o(c[d]);return t%43}(r))),function(c,t){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?c:t}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),h(e,[{key:"encode",value:function(){for(var n=m("*"),c=0;c<this.data.length;c++)n+=m(this.data[c])+"0";return{data:n+=m("*"),text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),e}(((_=C(8012))&&_.__esModule?_:{default:_}).default),f=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],w=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function m(i){return function(e){return w[e].toString(2)}(o(i))}function o(i){return f.indexOf(i)}L.CODE39=p},6454:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),h=C(1239),p=f(C(5532));function f(m){return m&&m.__esModule?m:{default:m}}var w=function(m){function o(i,e){(function(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o);var r=function(n,c){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?n:c}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e));return r.fontSize=!e.flat&&e.fontSize>10*e.width?10*e.width:e.fontSize,r.guardHeight=e.height+r.fontSize/2+e.textMargin,r}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),_(o,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(e,r){return this.text.substr(e,r)}},{key:"leftEncode",value:function(e,r){return(0,p.default)(e,r)}},{key:"rightText",value:function(e,r){return this.text.substr(e,r)}},{key:"rightEncode",value:function(e,r){return(0,p.default)(e,r)}},{key:"encodeGuarded",value:function(){var e={fontSize:this.fontSize},r={height:this.guardHeight};return[{data:h.SIDE_BIN,options:r},{data:this.leftEncode(),text:this.leftText(),options:e},{data:h.MIDDLE_BIN,options:r},{data:this.rightEncode(),text:this.rightText(),options:e},{data:h.SIDE_BIN,options:r}]}},{key:"encodeFlat",value:function(){return{data:[h.SIDE_BIN,this.leftEncode(),h.MIDDLE_BIN,this.rightEncode(),h.SIDE_BIN].join(""),text:this.text}}}]),o}(f(C(8012)).default);L.default=w},23:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _,h=function(){function i(e,r){for(var n=0;n<r.length;n++){var c=r[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}return function(e,r,n){return r&&i(e.prototype,r),n&&i(e,n),e}}(),p=function i(e,r,n){e===null&&(e=Function.prototype);var c=Object.getOwnPropertyDescriptor(e,r);if(c===void 0){var t=Object.getPrototypeOf(e);return t===null?void 0:i(t,r,n)}if("value"in c)return c.value;var d=c.get;return d!==void 0?d.call(n):void 0},f=C(1239),w=(_=C(6454))&&_.__esModule?_:{default:_},m=function(e){return(10-e.substr(0,12).split("").map(function(r){return+r}).reduce(function(r,n,c){return c%2?r+3*n:r+n},0)%10)%10},o=function(i){function e(r,n){(function(t,d){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e),r.search(/^[0-9]{12}$/)!==-1&&(r+=m(r));var c=function(t,d){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?t:d}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r,n));return c.lastChar=n.lastChar,c}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),h(e,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===m(this.data)}},{key:"leftText",value:function(){return p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var n=this.data.substr(1,6),c=f.EAN13_STRUCTURE[this.data[0]];return p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"leftEncode",this).call(this,n,c)}},{key:"rightText",value:function(){return p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var n=this.data.substr(7,6);return p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"rightEncode",this).call(this,n,"RRRRRR")}},{key:"encodeGuarded",value:function(){var n=p(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(n.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(n.push({data:"00"}),n.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),n}}]),e}(w.default);L.default=o},6552:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),h=C(1239),p=f(C(5532));function f(m){return m&&m.__esModule?m:{default:m}}var w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),_(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var e=h.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,p.default)(this.data,e,"01"),text:this.text}}}]),o}(f(C(8012)).default);L.default=w},9668:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),h=C(1239),p=f(C(5532));function f(m){return m&&m.__esModule?m:{default:m}}var w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),_(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var e,r=h.EAN5_STRUCTURE[e=this.data,e.split("").map(function(n){return+n}).reduce(function(n,c,t){return t%2?n+9*c:n+3*c},0)%10];return{data:"1011"+(0,p.default)(this.data,r,"01"),text:this.text}}}]),o}(f(C(8012)).default);L.default=w},5218:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _,h=function(){function o(i,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,e,r){return e&&o(i.prototype,e),r&&o(i,r),i}}(),p=function o(i,e,r){i===null&&(i=Function.prototype);var n=Object.getOwnPropertyDescriptor(i,e);if(n===void 0){var c=Object.getPrototypeOf(i);return c===null?void 0:o(c,e,r)}if("value"in n)return n.value;var t=n.get;return t!==void 0?t.call(r):void 0},f=(_=C(6454))&&_.__esModule?_:{default:_},w=function(i){return(10-i.substr(0,7).split("").map(function(e){return+e}).reduce(function(e,r,n){return n%2?e+r:e+3*r},0)%10)%10},m=function(o){function i(e,r){return function(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")}(this,i),e.search(/^[0-9]{7}$/)!==-1&&(e+=w(e)),function(n,c){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?n:c}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,e,r))}return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(i,o),h(i,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===w(this.data)}},{key:"leftText",value:function(){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var r=this.data.substr(0,4);return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"leftEncode",this).call(this,r,"LLLL")}},{key:"rightText",value:function(){return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var r=this.data.substr(4,4);return p(i.prototype.__proto__||Object.getPrototypeOf(i.prototype),"rightEncode",this).call(this,r,"RRRR")}}]),i}(f.default);L.default=m},5314:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}();L.checksum=w;var h=p(C(5532));function p(m){return m&&m.__esModule?m:{default:m}}var f=function(m){function o(i,e){(function(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),i.search(/^[0-9]{11}$/)!==-1&&(i+=w(i));var r=function(n,c){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?n:c}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e));return r.displayValue=e.displayValue,e.fontSize>10*e.width?r.fontSize=10*e.width:r.fontSize=e.fontSize,r.guardHeight=e.height+r.fontSize/2+e.textMargin,r}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),_(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==w(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var e="";return e+="101",e+=(0,h.default)(this.data.substr(0,6),"LLLLLL"),e+="01010",e+=(0,h.default)(this.data.substr(6,6),"RRRRRR"),{data:e+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var e=[];return this.displayValue&&e.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),e.push({data:"101"+(0,h.default)(this.data[0],"L"),options:{height:this.guardHeight}}),e.push({data:(0,h.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),e.push({data:"01010",options:{height:this.guardHeight}}),e.push({data:(0,h.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),e.push({data:(0,h.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&e.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),e}}]),o}(p(C(8012)).default);function w(m){var o,i=0;for(o=1;o<11;o+=2)i+=parseInt(m[o]);for(o=0;o<11;o+=2)i+=3*parseInt(m[o]);return(10-i%10)%10}L.default=f},930:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _=function(){function n(c,t){for(var d=0;d<t.length;d++){var g=t[d];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}return function(c,t,d){return t&&n(c.prototype,t),d&&n(c,d),c}}(),h=w(C(5532)),p=w(C(8012)),f=C(5314);function w(n){return n&&n.__esModule?n:{default:n}}function m(n,c){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?n:c}var o=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],i=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],e=function(n){function c(t,d){(function(E,D){if(!(E instanceof D))throw new TypeError("Cannot call a class as a function")})(this,c);var g=m(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,t,d));if(g.isValid=!1,t.search(/^[0-9]{6}$/)!==-1)g.middleDigits=t,g.upcA=r(t,"0"),g.text=d.text||""+g.upcA[0]+t+g.upcA[g.upcA.length-1],g.isValid=!0;else{if(t.search(/^[01][0-9]{7}$/)===-1||(g.middleDigits=t.substring(1,t.length-1),g.upcA=r(g.middleDigits,t[0]),g.upcA[g.upcA.length-1]!==t[t.length-1]))return m(g);g.isValid=!0}return g.displayValue=d.displayValue,d.fontSize>10*d.width?g.fontSize=10*d.width:g.fontSize=d.fontSize,g.guardHeight=d.height+g.fontSize/2+d.textMargin,g}return function(t,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);t.prototype=Object.create(d&&d.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(t,d):t.__proto__=d)}(c,n),_(c,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var d="";return d+="101",d+=this.encodeMiddleDigits(),{data:d+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var d=[];return this.displayValue&&d.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),d.push({data:"101",options:{height:this.guardHeight}}),d.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),d.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&d.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),d}},{key:"encodeMiddleDigits",value:function(){var d=this.upcA[0],g=this.upcA[this.upcA.length-1],E=i[parseInt(g)][parseInt(d)];return(0,h.default)(this.middleDigits,E)}}]),c}(p.default);function r(n,c){for(var t=parseInt(n[n.length-1]),d=o[t],g="",E=0,D=0;D<d.length;D++){var T=d[D];g+=T==="X"?n[E++]:T}return(g=""+c+g)+(0,f.checksum)(g)}L.default=e},1239:function(re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.SIDE_BIN="101",L.MIDDLE_BIN="01010",L.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},L.EAN2_STRUCTURE=["LL","LG","GL","GG"],L.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],L.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},5532:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _=C(1239);L.default=function(h,p,f){var w=h.split("").map(function(o,i){return _.BINARIES[p[i]]}).map(function(o,i){return o?o[h[i]]:""});if(f){var m=h.length-1;w=w.map(function(o,i){return i<m?o+f:o})}return w.join("")}},5321:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.UPCE=L.UPC=L.EAN2=L.EAN5=L.EAN8=L.EAN13=void 0;var _=o(C(23)),h=o(C(5218)),p=o(C(9668)),f=o(C(6552)),w=o(C(5314)),m=o(C(930));function o(i){return i&&i.__esModule?i:{default:i}}L.EAN13=_.default,L.EAN8=h.default,L.EAN5=p.default,L.EAN2=f.default,L.UPC=w.default,L.UPCE=m.default},6447:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.GenericBarcode=void 0;var _,h=function(){function f(w,m){for(var o=0;o<m.length;o++){var i=m[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(w,i.key,i)}}return function(w,m,o){return m&&f(w.prototype,m),o&&f(w,o),w}}(),p=function(f){function w(m,o){return function(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}(this,w),function(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,m,o))}return function(m,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);m.prototype=Object.create(o&&o.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(m,o):m.__proto__=o)}(w,f),h(w,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),w}(((_=C(8012))&&_.__esModule?_:{default:_}).default);L.GenericBarcode=p},3074:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _,h=function(){function o(i,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,e,r){return e&&o(i.prototype,e),r&&o(i,r),i}}(),p=C(4477);function f(o,i){if(!(o instanceof i))throw new TypeError("Cannot call a class as a function")}function w(o,i){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||typeof i!="object"&&typeof i!="function"?o:i}var m=function(o){function i(){return f(this,i),w(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(e,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof r);e.prototype=Object.create(r&&r.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),r&&(Object.setPrototypeOf?Object.setPrototypeOf(e,r):e.__proto__=r)}(i,o),h(i,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var r=this,n=this.data.match(/.{2}/g).map(function(c){return r.encodePair(c)}).join("");return{data:p.START_BIN+n+p.END_BIN,text:this.text}}},{key:"encodePair",value:function(r){var n=p.BINARIES[r[1]];return p.BINARIES[r[0]].split("").map(function(c,t){return(c==="1"?"111":"1")+(n[t]==="1"?"000":"0")}).join("")}}]),i}(((_=C(8012))&&_.__esModule?_:{default:_}).default);L.default=m},6972:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _,h=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=(_=C(3074))&&_.__esModule?_:{default:_},f=function(o){var i=o.substr(0,13).split("").map(function(e){return parseInt(e,10)}).reduce(function(e,r,n){return e+r*(3-n%2*2)},0);return 10*Math.ceil(i/10)-i},w=function(m){function o(i,e){return function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}(this,o),i.search(/^[0-9]{13}$/)!==-1&&(i+=f(i)),function(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,i,e))}return function(i,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof e);i.prototype=Object.create(e&&e.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(i,e):i.__proto__=e)}(o,m),h(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===f(this.data)}}]),o}(p.default);L.default=w},4477:function(re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.START_BIN="1010",L.END_BIN="11101",L.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},5984:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.ITF14=L.ITF=void 0;var _=p(C(3074)),h=p(C(6972));function p(f){return f&&f.__esModule?f:{default:f}}L.ITF=_.default,L.ITF14=h.default},2582:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _,h=function(){function w(m,o){for(var i=0;i<o.length;i++){var e=o[i];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(m,e.key,e)}}return function(m,o,i){return o&&w(m.prototype,o),i&&w(m,i),m}}(),p=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o,i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),h(m,[{key:"encode",value:function(){for(var i="110",e=0;e<this.data.length;e++){var r=parseInt(this.data[e]).toString(2);r=f(r,4-r.length);for(var n=0;n<r.length;n++)i+=r[n]=="0"?"100":"110"}return{data:i+="1001",text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),m}(((_=C(8012))&&_.__esModule?_:{default:_}).default);function f(w,m){for(var o=0;o<m;o++)w="0"+w;return w}L.default=p},7839:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _,h=(_=C(2582))&&_.__esModule?_:{default:_},p=C(4348),f=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o+(0,p.mod10)(o),i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),m}(h.default);L.default=f},8035:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _,h=(_=C(2582))&&_.__esModule?_:{default:_},p=C(4348),f=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),o+=(0,p.mod10)(o),o+=(0,p.mod10)(o),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o,i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),m}(h.default);L.default=f},5883:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _,h=(_=C(2582))&&_.__esModule?_:{default:_},p=C(4348),f=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o+(0,p.mod11)(o),i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),m}(h.default);L.default=f},6287:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _,h=(_=C(2582))&&_.__esModule?_:{default:_},p=C(4348),f=function(w){function m(o,i){return function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}(this,m),o+=(0,p.mod11)(o),o+=(0,p.mod10)(o),function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(m.__proto__||Object.getPrototypeOf(m)).call(this,o,i))}return function(o,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);o.prototype=Object.create(i&&i.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(o,i):o.__proto__=i)}(m,w),m}(h.default);L.default=f},4348:function(re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.mod10=function(C){for(var _=0,h=0;h<C.length;h++){var p=parseInt(C[h]);(h+C.length)%2==0?_+=p:_+=2*p%10+Math.floor(2*p/10)}return(10-_%10)%10},L.mod11=function(C){for(var _=0,h=[2,3,4,5,6,7],p=0;p<C.length;p++){var f=parseInt(C[C.length-1-p]);_+=h[p%h.length]*f}return(11-_%11)%11}},8458:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.MSI1110=L.MSI1010=L.MSI11=L.MSI10=L.MSI=void 0;var _=m(C(2582)),h=m(C(7839)),p=m(C(5883)),f=m(C(8035)),w=m(C(6287));function m(o){return o&&o.__esModule?o:{default:o}}L.MSI=_.default,L.MSI10=h.default,L.MSI11=p.default,L.MSI1010=f.default,L.MSI1110=w.default},123:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.codabar=void 0;var _,h=function(){function f(w,m){for(var o=0;o<m.length;o++){var i=m[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(w,i.key,i)}}return function(w,m,o){return m&&f(w.prototype,m),o&&f(w,o),w}}(),p=function(f){function w(m,o){(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,w),m.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(m="A"+m+"A");var i=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,m.toUpperCase(),o));return i.text=i.options.text||i.text.replace(/[A-D]/g,""),i}return function(m,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);m.prototype=Object.create(o&&o.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(m,o):m.__proto__=o)}(w,f),h(w,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var o=[],i=this.getEncodings(),e=0;e<this.data.length;e++)o.push(i[this.data.charAt(e)]),e!==this.data.length-1&&o.push("0");return{text:this.text,data:o.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),w}(((_=C(8012))&&_.__esModule?_:{default:_}).default);L.codabar=p},2289:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _=C(3361),h=C(4935),p=C(5321),f=C(5984),w=C(8458),m=C(3840),o=C(123),i=C(6447);L.default={CODE39:_.CODE39,CODE128:h.CODE128,CODE128A:h.CODE128A,CODE128B:h.CODE128B,CODE128C:h.CODE128C,EAN13:p.EAN13,EAN8:p.EAN8,EAN5:p.EAN5,EAN2:p.EAN2,UPC:p.UPC,UPCE:p.UPCE,ITF14:f.ITF14,ITF:f.ITF,MSI:w.MSI,MSI10:w.MSI10,MSI11:w.MSI11,MSI1010:w.MSI1010,MSI1110:w.MSI1110,pharmacode:m.pharmacode,codabar:o.codabar,GenericBarcode:i.GenericBarcode}},3840:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.pharmacode=void 0;var _,h=function(){function f(w,m){for(var o=0;o<m.length;o++){var i=m[o];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(w,i.key,i)}}return function(w,m,o){return m&&f(w.prototype,m),o&&f(w,o),w}}(),p=function(f){function w(m,o){(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,w);var i=function(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}(this,(w.__proto__||Object.getPrototypeOf(w)).call(this,m,o));return i.number=parseInt(m,10),i}return function(m,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);m.prototype=Object.create(o&&o.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(m,o):m.__proto__=o)}(w,f),h(w,[{key:"encode",value:function(){for(var o=this.number,i="";!isNaN(o)&&o!=0;)o%2==0?(i="11100"+i,o=(o-2)/2):(i="100"+i,o=(o-1)/2);return{data:i=i.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),w}(((_=C(8012))&&_.__esModule?_:{default:_}).default);L.pharmacode=p},8532:function(re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var C=function(){function h(p,f){for(var w=0;w<f.length;w++){var m=f[w];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,f,w){return f&&h(p.prototype,f),w&&h(p,w),p}}(),_=function(){function h(p){(function(f,w){if(!(f instanceof w))throw new TypeError("Cannot call a class as a function")})(this,h),this.api=p}return C(h,[{key:"handleCatch",value:function(f){if(f.name!=="InvalidInputException")throw f;if(this.api._options.valid===this.api._defaults.valid)throw f.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(f){try{var w=f.apply(void 0,arguments);return this.api._options.valid(!0),w}catch(m){return this.handleCatch(m),this.api}}}]),h}();L.default=_},2362:function(re,L){"use strict";function C(m,o){if(!(m instanceof o))throw new TypeError("Cannot call a class as a function")}function _(m,o){if(!m)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?m:o}function h(m,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);m.prototype=Object.create(o&&o.prototype,{constructor:{value:m,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(m,o):m.__proto__=o)}Object.defineProperty(L,"__esModule",{value:!0});var p=function(m){function o(i,e){C(this,o);var r=_(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return r.name="InvalidInputException",r.symbology=i,r.input=e,r.message='"'+r.input+'" is not a valid input for '+r.symbology,r}return h(o,Error),o}(),f=function(m){function o(){C(this,o);var i=_(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return i.name="InvalidElementException",i.message="Not supported type to render on",i}return h(o,Error),o}(),w=function(m){function o(){C(this,o);var i=_(this,(o.__proto__||Object.getPrototypeOf(o)).call(this));return i.name="NoElementException",i.message="No element to render on.",i}return h(o,Error),o}();L.InvalidInputException=p,L.InvalidElementException=f,L.NoElementException=w},7044:function(re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.default=function(C){return C.marginTop=C.marginTop||C.margin,C.marginBottom=C.marginBottom||C.margin,C.marginRight=C.marginRight||C.margin,C.marginLeft=C.marginLeft||C.margin,C}},3898:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _=p(C(5065)),h=p(C(6025));function p(f){return f&&f.__esModule?f:{default:f}}L.default=function(f){var w={};for(var m in h.default)h.default.hasOwnProperty(m)&&(f.hasAttribute("jsbarcode-"+m.toLowerCase())&&(w[m]=f.getAttribute("jsbarcode-"+m.toLowerCase())),f.hasAttribute("data-"+m.toLowerCase())&&(w[m]=f.getAttribute("data-"+m.toLowerCase())));return w.value=f.getAttribute("jsbarcode-value")||f.getAttribute("data-value"),(0,_.default)(w)}},9972:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(m){return typeof m}:function(m){return m&&typeof Symbol=="function"&&m.constructor===Symbol&&m!==Symbol.prototype?"symbol":typeof m},h=w(C(3898)),p=w(C(2804)),f=C(2362);function w(m){return m&&m.__esModule?m:{default:m}}L.default=function m(o){if(typeof o=="string")return function(c){var t=document.querySelectorAll(c);if(t.length!==0){for(var d=[],g=0;g<t.length;g++)d.push(m(t[g]));return d}}(o);if(Array.isArray(o)){for(var i=[],e=0;e<o.length;e++)i.push(m(o[e]));return i}if(typeof HTMLCanvasElement!="undefined"&&o instanceof HTMLImageElement)return r=o,{element:n=document.createElement("canvas"),options:(0,h.default)(r),renderer:p.default.CanvasRenderer,afterRender:function(){r.setAttribute("src",n.toDataURL())}};if(o&&o.nodeName&&o.nodeName.toLowerCase()==="svg"||typeof SVGElement!="undefined"&&o instanceof SVGElement)return{element:o,options:(0,h.default)(o),renderer:p.default.SVGRenderer};if(typeof HTMLCanvasElement!="undefined"&&o instanceof HTMLCanvasElement)return{element:o,options:(0,h.default)(o),renderer:p.default.CanvasRenderer};if(o&&o.getContext)return{element:o,renderer:p.default.CanvasRenderer};if(o&&(o===void 0?"undefined":_(o))==="object"&&!o.nodeName)return{element:o,renderer:p.default.ObjectRenderer};throw new f.InvalidElementException;var r,n}},5443:function(re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.default=function(C){var _=[];return function h(p){if(Array.isArray(p))for(var f=0;f<p.length;f++)h(p[f]);else p.text=p.text||"",p.data=p.data||"",_.push(p)}(C),_}},2276:function(re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var C=Object.assign||function(_){for(var h=1;h<arguments.length;h++){var p=arguments[h];for(var f in p)Object.prototype.hasOwnProperty.call(p,f)&&(_[f]=p[f])}return _};L.default=function(_,h){return C({},_,h)}},5065:function(re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.default=function(C){var _=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var h in _)_.hasOwnProperty(h)&&typeof C[h=_[h]]=="string"&&(C[h]=parseInt(C[h],10));return typeof C.displayValue=="string"&&(C.displayValue=C.displayValue!="false"),C}},6025:function(re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},8204:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _,h=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),p=(_=C(2276))&&_.__esModule?_:{default:_},f=C(7899),w=function(){function m(o,i,e){(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,m),this.canvas=o,this.encodings=i,this.options=e}return h(m,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var i=0;i<this.encodings.length;i++){var e=(0,p.default)(this.options,this.encodings[i].options);this.drawCanvasBarcode(e,this.encodings[i]),this.drawCanvasText(e,this.encodings[i]),this.moveCanvasDrawing(this.encodings[i])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var i=this.canvas.getContext("2d");i.save(),(0,f.calculateEncodingAttributes)(this.encodings,this.options,i);var e=(0,f.getTotalWidthOfEncodings)(this.encodings),r=(0,f.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=e+this.options.marginLeft+this.options.marginRight,this.canvas.height=r,i.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(i.fillStyle=this.options.background,i.fillRect(0,0,this.canvas.width,this.canvas.height)),i.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(i,e){var r,n=this.canvas.getContext("2d"),c=e.data;r=i.textPosition=="top"?i.marginTop+i.fontSize+i.textMargin:i.marginTop,n.fillStyle=i.lineColor;for(var t=0;t<c.length;t++){var d=t*i.width+e.barcodePadding;c[t]==="1"?n.fillRect(d,r,i.width,i.height):c[t]&&n.fillRect(d,r,i.width,i.height*c[t])}}},{key:"drawCanvasText",value:function(i,e){var r,n,c=this.canvas.getContext("2d"),t=i.fontOptions+" "+i.fontSize+"px "+i.font;i.displayValue&&(n=i.textPosition=="top"?i.marginTop+i.fontSize-i.textMargin:i.height+i.textMargin+i.marginTop+i.fontSize,c.font=t,i.textAlign=="left"||e.barcodePadding>0?(r=0,c.textAlign="left"):i.textAlign=="right"?(r=e.width-1,c.textAlign="right"):(r=e.width/2,c.textAlign="center"),c.fillText(e.text,r,n))}},{key:"moveCanvasDrawing",value:function(i){this.canvas.getContext("2d").translate(i.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),m}();L.default=w},2804:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _=f(C(8204)),h=f(C(6917)),p=f(C(8652));function f(w){return w&&w.__esModule?w:{default:w}}L.default={CanvasRenderer:_.default,SVGRenderer:h.default,ObjectRenderer:p.default}},8652:function(re,L){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var C=function(){function h(p,f){for(var w=0;w<f.length;w++){var m=f[w];m.enumerable=m.enumerable||!1,m.configurable=!0,"value"in m&&(m.writable=!0),Object.defineProperty(p,m.key,m)}}return function(p,f,w){return f&&h(p.prototype,f),w&&h(p,w),p}}(),_=function(){function h(p,f,w){(function(m,o){if(!(m instanceof o))throw new TypeError("Cannot call a class as a function")})(this,h),this.object=p,this.encodings=f,this.options=w}return C(h,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),h}();L.default=_},7899:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0}),L.getTotalWidthOfEncodings=L.calculateEncodingAttributes=L.getBarcodePadding=L.getEncodingHeight=L.getMaximumHeightOfEncodings=void 0;var _,h=(_=C(2276))&&_.__esModule?_:{default:_};function p(m,o){return o.height+(o.displayValue&&m.text.length>0?o.fontSize+o.textMargin:0)+o.marginTop+o.marginBottom}function f(m,o,i){if(i.displayValue&&o<m){if(i.textAlign=="center")return Math.floor((m-o)/2);if(i.textAlign=="left")return 0;if(i.textAlign=="right")return Math.floor(m-o)}return 0}function w(m,o,i){var e;if(i)e=i;else{if(typeof document=="undefined")return 0;e=document.createElement("canvas").getContext("2d")}e.font=o.fontOptions+" "+o.fontSize+"px "+o.font;var r=e.measureText(m);return r?r.width:0}L.getMaximumHeightOfEncodings=function(m){for(var o=0,i=0;i<m.length;i++)m[i].height>o&&(o=m[i].height);return o},L.getEncodingHeight=p,L.getBarcodePadding=f,L.calculateEncodingAttributes=function(m,o,i){for(var e=0;e<m.length;e++){var r,n=m[e],c=(0,h.default)(o,n.options);r=c.displayValue?w(n.text,c,i):0;var t=n.data.length*c.width;n.width=Math.ceil(Math.max(r,t)),n.height=p(n,c),n.barcodePadding=f(r,t,c)}},L.getTotalWidthOfEncodings=function(m){for(var o=0,i=0;i<m.length;i++)o+=m[i].width;return o}},6917:function(re,L,C){"use strict";Object.defineProperty(L,"__esModule",{value:!0});var _,h=function(){function o(i,e){for(var r=0;r<e.length;r++){var n=e[r];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(i,n.key,n)}}return function(i,e,r){return e&&o(i.prototype,e),r&&o(i,r),i}}(),p=(_=C(2276))&&_.__esModule?_:{default:_},f=C(7899),w="http://www.w3.org/2000/svg",m=function(){function o(i,e,r){(function(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")})(this,o),this.svg=i,this.encodings=e,this.options=r,this.document=r.xmlDocument||document}return h(o,[{key:"render",value:function(){var e=this.options.marginLeft;this.prepareSVG();for(var r=0;r<this.encodings.length;r++){var n=this.encodings[r],c=(0,p.default)(this.options,n.options),t=this.createGroup(e,c.marginTop,this.svg);this.setGroupOptions(t,c),this.drawSvgBarcode(t,c,n),this.drawSVGText(t,c,n),e+=n.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,f.calculateEncodingAttributes)(this.encodings,this.options);var e=(0,f.getTotalWidthOfEncodings)(this.encodings),r=(0,f.getMaximumHeightOfEncodings)(this.encodings),n=e+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(n,r),this.options.background&&this.drawRect(0,0,n,r,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(e,r,n){var c,t=n.data;c=r.textPosition=="top"?r.fontSize+r.textMargin:0;for(var d=0,g=0,E=0;E<t.length;E++)g=E*r.width+n.barcodePadding,t[E]==="1"?d++:d>0&&(this.drawRect(g-r.width*d,c,r.width*d,r.height,e),d=0);d>0&&this.drawRect(g-r.width*(d-1),c,r.width*d,r.height,e)}},{key:"drawSVGText",value:function(e,r,n){var c,t,d=this.document.createElementNS(w,"text");r.displayValue&&(d.setAttribute("style","font:"+r.fontOptions+" "+r.fontSize+"px "+r.font),t=r.textPosition=="top"?r.fontSize-r.textMargin:r.height+r.textMargin+r.fontSize,r.textAlign=="left"||n.barcodePadding>0?(c=0,d.setAttribute("text-anchor","start")):r.textAlign=="right"?(c=n.width-1,d.setAttribute("text-anchor","end")):(c=n.width/2,d.setAttribute("text-anchor","middle")),d.setAttribute("x",c),d.setAttribute("y",t),d.appendChild(this.document.createTextNode(n.text)),e.appendChild(d))}},{key:"setSvgAttributes",value:function(e,r){var n=this.svg;n.setAttribute("width",e+"px"),n.setAttribute("height",r+"px"),n.setAttribute("x","0px"),n.setAttribute("y","0px"),n.setAttribute("viewBox","0 0 "+e+" "+r),n.setAttribute("xmlns",w),n.setAttribute("version","1.1"),n.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(e,r,n){var c=this.document.createElementNS(w,"g");return c.setAttribute("transform","translate("+e+", "+r+")"),n.appendChild(c),c}},{key:"setGroupOptions",value:function(e,r){e.setAttribute("style","fill:"+r.lineColor+";")}},{key:"drawRect",value:function(e,r,n,c,t){var d=this.document.createElementNS(w,"rect");return d.setAttribute("x",e),d.setAttribute("y",r),d.setAttribute("width",n),d.setAttribute("height",c),t.appendChild(d),d}}]),o}();L.default=m},4244:function(re){"use strict";var L=function(_){return _!=_};re.exports=function(C,_){return C===0&&_===0?1/C==1/_:C===_||!(!L(C)||!L(_))}},609:function(re,L,C){"use strict";var _=C(4289),h=C(5559),p=C(4244),f=C(5624),w=C(2281),m=h(f(),Object);_(m,{getPolyfill:f,implementation:p,shim:w}),re.exports=m},5624:function(re,L,C){"use strict";var _=C(4244);re.exports=function(){return typeof Object.is=="function"?Object.is:_}},2281:function(re,L,C){"use strict";var _=C(5624),h=C(4289);re.exports=function(){var p=_();return h(Object,{is:p},{is:function(){return Object.is!==p}}),p}},8987:function(re,L,C){"use strict";var _;if(!Object.keys){var h=Object.prototype.hasOwnProperty,p=Object.prototype.toString,f=C(1414),w=Object.prototype.propertyIsEnumerable,m=!w.call({toString:null},"toString"),o=w.call(function(){},"prototype"),i=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],e=function(t){var d=t.constructor;return d&&d.prototype===t},r={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},n=function(){if(typeof window=="undefined")return!1;for(var c in window)try{if(!r["$"+c]&&h.call(window,c)&&window[c]!==null&&typeof window[c]=="object")try{e(window[c])}catch(t){return!0}}catch(t){return!0}return!1}();_=function(t){var d=t!==null&&typeof t=="object",g=p.call(t)==="[object Function]",E=f(t),D=d&&p.call(t)==="[object String]",T=[];if(!d&&!g&&!E)throw new TypeError("Object.keys called on a non-object");var A=o&&g;if(D&&t.length>0&&!h.call(t,0))for(var O=0;O<t.length;++O)T.push(String(O));if(E&&t.length>0)for(var N=0;N<t.length;++N)T.push(String(N));else for(var U in t)A&&U==="prototype"||!h.call(t,U)||T.push(String(U));if(m)for(var F=function(B){if(typeof window=="undefined"||!n)return e(B);try{return e(B)}catch(te){return!1}}(t),Y=0;Y<i.length;++Y)F&&i[Y]==="constructor"||!h.call(t,i[Y])||T.push(i[Y]);return T}}re.exports=_},2215:function(re,L,C){"use strict";var _=Array.prototype.slice,h=C(1414),p=Object.keys,f=p?function(m){return p(m)}:C(8987),w=Object.keys;f.shim=function(){if(Object.keys){var m=function(){var o=Object.keys(arguments);return o&&o.length===arguments.length}(1,2);m||(Object.keys=function(o){return h(o)?w(_.call(o)):w(o)})}else Object.keys=f;return Object.keys||f},re.exports=f},1414:function(re){"use strict";var L=Object.prototype.toString;re.exports=function(C){var _=L.call(C),h=_==="[object Arguments]";return h||(h=_!=="[object Array]"&&C!==null&&typeof C=="object"&&typeof C.length=="number"&&C.length>=0&&L.call(C.callee)==="[object Function]"),h}},2592:function(re,L,C){var _=C(7138),h=C(5115),p=C(6907),f=C(3776);function w(m,o,i,e,r){var n=[].slice.call(arguments,1),c=n.length,t=typeof n[c-1]=="function";if(!t&&!_())throw new Error("Callback required as last argument");if(!t){if(c<1)throw new Error("Too few arguments provided");return c===1?(i=o,o=e=void 0):c!==2||o.getContext||(e=i,i=o,o=void 0),new Promise(function(g,E){try{var D=h.create(i,e);g(m(D,o,e))}catch(T){E(T)}})}if(c<2)throw new Error("Too few arguments provided");c===2?(r=i,i=o,o=e=void 0):c===3&&(o.getContext&&r===void 0?(r=e,e=void 0):(r=e,e=i,i=o,o=void 0));try{var d=h.create(i,e);r(null,m(d,o,e))}catch(g){r(g)}}L.create=h.create,L.toCanvas=w.bind(null,p.render),L.toDataURL=w.bind(null,p.renderToDataURL),L.toString=w.bind(null,function(m,o,i){return f.render(m,i)})},7138:function(re){re.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}},1845:function(re,L,C){var _=C(242).getSymbolSize;L.getRowColCoords=function(h){if(h===1)return[];for(var p=Math.floor(h/7)+2,f=_(h),w=f===145?26:2*Math.ceil((f-13)/(2*p-2)),m=[f-7],o=1;o<p-1;o++)m[o]=m[o-1]-w;return m.push(6),m.reverse()},L.getPositions=function(h){for(var p=[],f=L.getRowColCoords(h),w=f.length,m=0;m<w;m++)for(var o=0;o<w;o++)m===0&&o===0||m===0&&o===w-1||m===w-1&&o===0||p.push([f[m],f[o]]);return p}},8260:function(re,L,C){var _=C(6910),h=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function p(f){this.mode=_.ALPHANUMERIC,this.data=f}p.getBitsLength=function(f){return 11*Math.floor(f/2)+f%2*6},p.prototype.getLength=function(){return this.data.length},p.prototype.getBitsLength=function(){return p.getBitsLength(this.data.length)},p.prototype.write=function(f){var w;for(w=0;w+2<=this.data.length;w+=2){var m=45*h.indexOf(this.data[w]);m+=h.indexOf(this.data[w+1]),f.put(m,11)}this.data.length%2&&f.put(h.indexOf(this.data[w]),6)},re.exports=p},7245:function(re){function L(){this.buffer=[],this.length=0}L.prototype={get:function(_){var h=Math.floor(_/8);return(this.buffer[h]>>>7-_%8&1)==1},put:function(_,h){for(var p=0;p<h;p++)this.putBit((_>>>h-p-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(_){var h=Math.floor(this.length/8);this.buffer.length<=h&&this.buffer.push(0),_&&(this.buffer[h]|=128>>>this.length%8),this.length++}},re.exports=L},3280:function(re){function L(C){if(!C||C<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=C,this.data=new Uint8Array(C*C),this.reservedBit=new Uint8Array(C*C)}L.prototype.set=function(C,_,h,p){var f=C*this.size+_;this.data[f]=h,p&&(this.reservedBit[f]=!0)},L.prototype.get=function(C,_){return this.data[C*this.size+_]},L.prototype.xor=function(C,_,h){this.data[C*this.size+_]^=h},L.prototype.isReserved=function(C,_){return this.reservedBit[C*this.size+_]},re.exports=L},3424:function(re,L,C){var _=C(2378),h=C(6910);function p(f){this.mode=h.BYTE,this.data=new Uint8Array(_(f))}p.getBitsLength=function(f){return 8*f},p.prototype.getLength=function(){return this.data.length},p.prototype.getBitsLength=function(){return p.getBitsLength(this.data.length)},p.prototype.write=function(f){for(var w=0,m=this.data.length;w<m;w++)f.put(this.data[w],8)},re.exports=p},5393:function(re,L,C){var _=C(4908),h=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],p=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];L.getBlocksCount=function(f,w){switch(w){case _.L:return h[4*(f-1)+0];case _.M:return h[4*(f-1)+1];case _.Q:return h[4*(f-1)+2];case _.H:return h[4*(f-1)+3];default:return}},L.getTotalCodewordsCount=function(f,w){switch(w){case _.L:return p[4*(f-1)+0];case _.M:return p[4*(f-1)+1];case _.Q:return p[4*(f-1)+2];case _.H:return p[4*(f-1)+3];default:return}}},4908:function(re,L){L.L={bit:1},L.M={bit:0},L.Q={bit:3},L.H={bit:2},L.isValid=function(C){return C&&C.bit!==void 0&&C.bit>=0&&C.bit<4},L.from=function(C,_){if(L.isValid(C))return C;try{return function(h){if(typeof h!="string")throw new Error("Param is not a string");switch(h.toLowerCase()){case"l":case"low":return L.L;case"m":case"medium":return L.M;case"q":case"quartile":return L.Q;case"h":case"high":return L.H;default:throw new Error("Unknown EC Level: "+h)}}(C)}catch(h){return _}}},6526:function(re,L,C){var _=C(242).getSymbolSize;L.getPositions=function(h){var p=_(h);return[[0,0],[p-7,0],[0,p-7]]}},1642:function(re,L,C){var _=C(242),h=_.getBCHDigit(1335);L.getEncodedBits=function(p,f){for(var w=p.bit<<3|f,m=w<<10;_.getBCHDigit(m)-h>=0;)m^=1335<<_.getBCHDigit(m)-h;return 21522^(w<<10|m)}},9729:function(re,L){var C=new Uint8Array(512),_=new Uint8Array(256);(function(){for(var h=1,p=0;p<255;p++)C[p]=h,_[h]=p,h<<=1,256&h&&(h^=285);for(var f=255;f<512;f++)C[f]=C[f-255]})(),L.log=function(h){if(h<1)throw new Error("log("+h+")");return _[h]},L.exp=function(h){return C[h]},L.mul=function(h,p){return h===0||p===0?0:C[_[h]+_[p]]}},5442:function(re,L,C){var _=C(6910),h=C(242);function p(f){this.mode=_.KANJI,this.data=f}p.getBitsLength=function(f){return 13*f},p.prototype.getLength=function(){return this.data.length},p.prototype.getBitsLength=function(){return p.getBitsLength(this.data.length)},p.prototype.write=function(f){var w;for(w=0;w<this.data.length;w++){var m=h.toSJIS(this.data[w]);if(m>=33088&&m<=40956)m-=33088;else{if(!(m>=57408&&m<=60351))throw new Error("Invalid SJIS character: "+this.data[w]+`
Make sure your charset is UTF-8`);m-=49472}m=192*(m>>>8&255)+(255&m),f.put(m,13)}},re.exports=p},7126:function(re,L){L.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function C(_,h,p){switch(_){case L.Patterns.PATTERN000:return(h+p)%2==0;case L.Patterns.PATTERN001:return h%2==0;case L.Patterns.PATTERN010:return p%3==0;case L.Patterns.PATTERN011:return(h+p)%3==0;case L.Patterns.PATTERN100:return(Math.floor(h/2)+Math.floor(p/3))%2==0;case L.Patterns.PATTERN101:return h*p%2+h*p%3==0;case L.Patterns.PATTERN110:return(h*p%2+h*p%3)%2==0;case L.Patterns.PATTERN111:return(h*p%3+(h+p)%2)%2==0;default:throw new Error("bad maskPattern:"+_)}}L.isValid=function(_){return _!=null&&_!==""&&!isNaN(_)&&_>=0&&_<=7},L.from=function(_){return L.isValid(_)?parseInt(_,10):void 0},L.getPenaltyN1=function(_){for(var h=_.size,p=0,f=0,w=0,m=null,o=null,i=0;i<h;i++){f=w=0,m=o=null;for(var e=0;e<h;e++){var r=_.get(i,e);r===m?f++:(f>=5&&(p+=f-5+3),m=r,f=1),r=_.get(e,i),r===o?w++:(w>=5&&(p+=w-5+3),o=r,w=1)}f>=5&&(p+=f-5+3),w>=5&&(p+=w-5+3)}return p},L.getPenaltyN2=function(_){for(var h=_.size,p=0,f=0;f<h-1;f++)for(var w=0;w<h-1;w++){var m=_.get(f,w)+_.get(f,w+1)+_.get(f+1,w)+_.get(f+1,w+1);m!==4&&m!==0||p++}return 3*p},L.getPenaltyN3=function(_){for(var h=_.size,p=0,f=0,w=0,m=0;m<h;m++){f=w=0;for(var o=0;o<h;o++)f=f<<1&2047|_.get(m,o),o>=10&&(f===1488||f===93)&&p++,w=w<<1&2047|_.get(o,m),o>=10&&(w===1488||w===93)&&p++}return 40*p},L.getPenaltyN4=function(_){for(var h=0,p=_.data.length,f=0;f<p;f++)h+=_.data[f];return 10*Math.abs(Math.ceil(100*h/p/5)-10)},L.applyMask=function(_,h){for(var p=h.size,f=0;f<p;f++)for(var w=0;w<p;w++)h.isReserved(w,f)||h.xor(w,f,C(_,w,f))},L.getBestMask=function(_,h){for(var p=Object.keys(L.Patterns).length,f=0,w=1/0,m=0;m<p;m++){h(m),L.applyMask(m,_);var o=L.getPenaltyN1(_)+L.getPenaltyN2(_)+L.getPenaltyN3(_)+L.getPenaltyN4(_);L.applyMask(m,_),o<w&&(w=o,f=m)}return f}},6910:function(re,L,C){var _=C(3114),h=C(7007);L.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},L.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},L.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},L.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},L.MIXED={bit:-1},L.getCharCountIndicator=function(p,f){if(!p.ccBits)throw new Error("Invalid mode: "+p);if(!_.isValid(f))throw new Error("Invalid version: "+f);return f>=1&&f<10?p.ccBits[0]:f<27?p.ccBits[1]:p.ccBits[2]},L.getBestModeForData=function(p){return h.testNumeric(p)?L.NUMERIC:h.testAlphanumeric(p)?L.ALPHANUMERIC:h.testKanji(p)?L.KANJI:L.BYTE},L.toString=function(p){if(p&&p.id)return p.id;throw new Error("Invalid mode")},L.isValid=function(p){return p&&p.bit&&p.ccBits},L.from=function(p,f){if(L.isValid(p))return p;try{return function(w){if(typeof w!="string")throw new Error("Param is not a string");switch(w.toLowerCase()){case"numeric":return L.NUMERIC;case"alphanumeric":return L.ALPHANUMERIC;case"kanji":return L.KANJI;case"byte":return L.BYTE;default:throw new Error("Unknown mode: "+w)}}(p)}catch(w){return f}}},1085:function(re,L,C){var _=C(6910);function h(p){this.mode=_.NUMERIC,this.data=p.toString()}h.getBitsLength=function(p){return 10*Math.floor(p/3)+(p%3?p%3*3+1:0)},h.prototype.getLength=function(){return this.data.length},h.prototype.getBitsLength=function(){return h.getBitsLength(this.data.length)},h.prototype.write=function(p){var f,w,m;for(f=0;f+3<=this.data.length;f+=3)w=this.data.substr(f,3),m=parseInt(w,10),p.put(m,10);var o=this.data.length-f;o>0&&(w=this.data.substr(f),m=parseInt(w,10),p.put(m,3*o+1))},re.exports=h},6143:function(re,L,C){var _=C(9729);L.mul=function(h,p){for(var f=new Uint8Array(h.length+p.length-1),w=0;w<h.length;w++)for(var m=0;m<p.length;m++)f[w+m]^=_.mul(h[w],p[m]);return f},L.mod=function(h,p){for(var f=new Uint8Array(h);f.length-p.length>=0;){for(var w=f[0],m=0;m<p.length;m++)f[m]^=_.mul(p[m],w);for(var o=0;o<f.length&&f[o]===0;)o++;f=f.slice(o)}return f},L.generateECPolynomial=function(h){for(var p=new Uint8Array([1]),f=0;f<h;f++)p=L.mul(p,new Uint8Array([1,_.exp(f)]));return p}},5115:function(re,L,C){var _=C(242),h=C(4908),p=C(7245),f=C(3280),w=C(1845),m=C(6526),o=C(7126),i=C(5393),e=C(2882),r=C(3103),n=C(1642),c=C(6910),t=C(6130);function d(E,D,T){var A=E.size,O=n.getEncodedBits(D,T),N,U;for(N=0;N<15;N++)U=(O>>N&1)==1,N<6?E.set(N,8,U,!0):N<8?E.set(N+1,8,U,!0):E.set(A-15+N,8,U,!0),N<8?E.set(8,A-N-1,U,!0):N<9?E.set(8,15-N-1+1,U,!0):E.set(8,15-N-1,U,!0);E.set(A-8,8,1,!0)}function g(E,D,T,A){var O;if(Array.isArray(E))O=t.fromArray(E);else{if(typeof E!="string")throw new Error("Invalid data");{var N=D;if(!N){var U=t.rawSplit(E);N=r.getBestVersionForData(U,T)}O=t.fromString(E,N||40)}}var F=r.getBestVersionForData(O,T);if(!F)throw new Error("The amount of data is too big to be stored in a QR Code");if(D){if(D<F)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+F+`.
`)}else D=F;var Y=function($,W,X){var M=new p;X.forEach(function(ee){M.put(ee.mode.bit,4),M.put(ee.getLength(),c.getCharCountIndicator(ee.mode,$)),ee.write(M)});var K=8*(_.getSymbolTotalCodewords($)-i.getTotalCodewordsCount($,W));for(M.getLengthInBits()+4<=K&&M.put(0,4);M.getLengthInBits()%8!=0;)M.putBit(0);for(var H=(K-M.getLengthInBits())/8,P=0;P<H;P++)M.put(P%2?17:236,8);return function(ee,ue,de){for(var pe=_.getSymbolTotalCodewords(ue),fe=pe-i.getTotalCodewordsCount(ue,de),ne=i.getBlocksCount(ue,de),he=ne-pe%ne,le=Math.floor(pe/ne),Ee=Math.floor(fe/ne),Se=Ee+1,Le=le-Ee,z=new e(Le),ge=0,Z=new Array(ne),k=new Array(ne),I=0,q=new Uint8Array(ee.buffer),G=0;G<ne;G++){var oe=G<he?Ee:Se;Z[G]=q.slice(ge,ge+oe),k[G]=z.encode(Z[G]),ge+=oe,I=Math.max(I,oe)}var ae=new Uint8Array(pe),se,Re,ke=0;for(se=0;se<I;se++)for(Re=0;Re<ne;Re++)se<Z[Re].length&&(ae[ke++]=Z[Re][se]);for(se=0;se<Le;se++)for(Re=0;Re<ne;Re++)ae[ke++]=k[Re][se];return ae}(M,$,W)}(D,T,O),B=_.getSymbolSize(D),te=new f(B);return function($,W){for(var X=$.size,M=m.getPositions(W),K=0;K<M.length;K++)for(var H=M[K][0],P=M[K][1],ee=-1;ee<=7;ee++)if(!(H+ee<=-1||X<=H+ee))for(var ue=-1;ue<=7;ue++)P+ue<=-1||X<=P+ue||(ee>=0&&ee<=6&&(ue===0||ue===6)||ue>=0&&ue<=6&&(ee===0||ee===6)||ee>=2&&ee<=4&&ue>=2&&ue<=4?$.set(H+ee,P+ue,!0,!0):$.set(H+ee,P+ue,!1,!0))}(te,D),function($){for(var W=$.size,X=8;X<W-8;X++){var M=X%2==0;$.set(X,6,M,!0),$.set(6,X,M,!0)}}(te),function($,W){for(var X=w.getPositions(W),M=0;M<X.length;M++)for(var K=X[M][0],H=X[M][1],P=-2;P<=2;P++)for(var ee=-2;ee<=2;ee++)P===-2||P===2||ee===-2||ee===2||P===0&&ee===0?$.set(K+P,H+ee,!0,!0):$.set(K+P,H+ee,!1,!0)}(te,D),d(te,T,0),D>=7&&function($,W){for(var X=$.size,M=r.getEncodedBits(W),K,H,P,ee=0;ee<18;ee++)K=Math.floor(ee/3),H=ee%3+X-8-3,P=(M>>ee&1)==1,$.set(K,H,P,!0),$.set(H,K,P,!0)}(te,D),function($,W){for(var X=$.size,M=-1,K=X-1,H=7,P=0,ee=X-1;ee>0;ee-=2)for(ee===6&&ee--;;){for(var ue=0;ue<2;ue++)if(!$.isReserved(K,ee-ue)){var de=!1;P<W.length&&(de=(W[P]>>>H&1)==1),$.set(K,ee-ue,de),H--,H===-1&&(P++,H=7)}if(K+=M,K<0||X<=K){K-=M,M=-M;break}}}(te,Y),isNaN(A)&&(A=o.getBestMask(te,d.bind(null,te,T))),o.applyMask(A,te),d(te,T,A),{modules:te,version:D,errorCorrectionLevel:T,maskPattern:A,segments:O}}L.create=function(E,D){if(E===void 0||E==="")throw new Error("No input text");var T,A,O=h.M;return D!==void 0&&(O=h.from(D.errorCorrectionLevel,h.M),T=r.from(D.version),A=o.from(D.maskPattern),D.toSJISFunc&&_.setToSJISFunction(D.toSJISFunc)),g(E,T,O,A)}},2882:function(re,L,C){var _=C(6143);function h(p){this.genPoly=void 0,this.degree=p,this.degree&&this.initialize(this.degree)}h.prototype.initialize=function(p){this.degree=p,this.genPoly=_.generateECPolynomial(this.degree)},h.prototype.encode=function(p){if(!this.genPoly)throw new Error("Encoder not initialized");var f=new Uint8Array(p.length+this.degree);f.set(p);var w=_.mod(f,this.genPoly),m=this.degree-w.length;if(m>0){var o=new Uint8Array(this.degree);return o.set(w,m),o}return w},re.exports=h},7007:function(re,L){var C="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";C=C.replace(/u/g,"\\u");var _="(?:(?![A-Z0-9 $%*+\\-./:]|"+C+`)(?:.|[\r
]))+`;L.KANJI=new RegExp(C,"g"),L.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),L.BYTE=new RegExp(_,"g"),L.NUMERIC=new RegExp("[0-9]+","g"),L.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");var h=new RegExp("^"+C+"$"),p=new RegExp("^[0-9]+$"),f=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");L.testKanji=function(w){return h.test(w)},L.testNumeric=function(w){return p.test(w)},L.testAlphanumeric=function(w){return f.test(w)}},6130:function(re,L,C){var _=C(6910),h=C(1085),p=C(8260),f=C(3424),w=C(5442),m=C(7007),o=C(242),i=C(5987);function e(d){return unescape(encodeURIComponent(d)).length}function r(d,g,E){for(var D=[],T;(T=d.exec(E))!==null;)D.push({data:T[0],index:T.index,mode:g,length:T[0].length});return D}function n(d){var g=r(m.NUMERIC,_.NUMERIC,d),E=r(m.ALPHANUMERIC,_.ALPHANUMERIC,d),D,T;return o.isKanjiModeEnabled()?(D=r(m.BYTE,_.BYTE,d),T=r(m.KANJI,_.KANJI,d)):(D=r(m.BYTE_KANJI,_.BYTE,d),T=[]),g.concat(E,D,T).sort(function(A,O){return A.index-O.index}).map(function(A){return{data:A.data,mode:A.mode,length:A.length}})}function c(d,g){switch(g){case _.NUMERIC:return h.getBitsLength(d);case _.ALPHANUMERIC:return p.getBitsLength(d);case _.KANJI:return w.getBitsLength(d);case _.BYTE:return f.getBitsLength(d)}}function t(d,g){var E,D=_.getBestModeForData(d);if(E=_.from(g,D),E!==_.BYTE&&E.bit<D.bit)throw new Error('"'+d+'" cannot be encoded with mode '+_.toString(E)+`.
 Suggested mode is: `+_.toString(D));switch(E!==_.KANJI||o.isKanjiModeEnabled()||(E=_.BYTE),E){case _.NUMERIC:return new h(d);case _.ALPHANUMERIC:return new p(d);case _.KANJI:return new w(d);case _.BYTE:return new f(d)}}L.fromArray=function(d){return d.reduce(function(g,E){return typeof E=="string"?g.push(t(E,null)):E.data&&g.push(t(E.data,E.mode)),g},[])},L.fromString=function(d,g){for(var E=function(N){for(var U=[],F=0;F<N.length;F++){var Y=N[F];switch(Y.mode){case _.NUMERIC:U.push([Y,{data:Y.data,mode:_.ALPHANUMERIC,length:Y.length},{data:Y.data,mode:_.BYTE,length:Y.length}]);break;case _.ALPHANUMERIC:U.push([Y,{data:Y.data,mode:_.BYTE,length:Y.length}]);break;case _.KANJI:U.push([Y,{data:Y.data,mode:_.BYTE,length:e(Y.data)}]);break;case _.BYTE:U.push([{data:Y.data,mode:_.BYTE,length:e(Y.data)}])}}return U}(n(d,o.isKanjiModeEnabled())),D=function(N,U){for(var F={},Y={start:{}},B=["start"],te=0;te<N.length;te++){for(var $=N[te],W=[],X=0;X<$.length;X++){var M=$[X],K=""+te+X;W.push(K),F[K]={node:M,lastCount:0},Y[K]={};for(var H=0;H<B.length;H++){var P=B[H];F[P]&&F[P].node.mode===M.mode?(Y[P][K]=c(F[P].lastCount+M.length,M.mode)-c(F[P].lastCount,M.mode),F[P].lastCount+=M.length):(F[P]&&(F[P].lastCount=M.length),Y[P][K]=c(M.length,M.mode)+4+_.getCharCountIndicator(M.mode,U))}}B=W}for(var ee=0;ee<B.length;ee++)Y[B[ee]].end=0;return{map:Y,table:F}}(E,g),T=i.find_path(D.map,"start","end"),A=[],O=1;O<T.length-1;O++)A.push(D.table[T[O]].node);return L.fromArray(A.reduce(function(N,U){var F=N.length-1>=0?N[N.length-1]:null;return F&&F.mode===U.mode?(N[N.length-1].data+=U.data,N):(N.push(U),N)},[]))},L.rawSplit=function(d){return L.fromArray(n(d,o.isKanjiModeEnabled()))}},242:function(re,L){var C,_=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];L.getSymbolSize=function(h){if(!h)throw new Error('"version" cannot be null or undefined');if(h<1||h>40)throw new Error('"version" should be in range from 1 to 40');return 4*h+17},L.getSymbolTotalCodewords=function(h){return _[h]},L.getBCHDigit=function(h){for(var p=0;h!==0;)p++,h>>>=1;return p},L.setToSJISFunction=function(h){if(typeof h!="function")throw new Error('"toSJISFunc" is not a valid function.');C=h},L.isKanjiModeEnabled=function(){return C!==void 0},L.toSJIS=function(h){return C(h)}},3114:function(re,L){L.isValid=function(C){return!isNaN(C)&&C>=1&&C<=40}},3103:function(re,L,C){var _=C(242),h=C(5393),p=C(4908),f=C(6910),w=C(3114),m=_.getBCHDigit(7973);function o(e,r){return f.getCharCountIndicator(e,r)+4}function i(e,r){var n=0;return e.forEach(function(c){var t=o(c.mode,r);n+=t+c.getBitsLength()}),n}L.from=function(e,r){return w.isValid(e)?parseInt(e,10):r},L.getCapacity=function(e,r,n){if(!w.isValid(e))throw new Error("Invalid QR Code version");n===void 0&&(n=f.BYTE);var c=8*(_.getSymbolTotalCodewords(e)-h.getTotalCodewordsCount(e,r));if(n===f.MIXED)return c;var t=c-o(n,e);switch(n){case f.NUMERIC:return Math.floor(t/10*3);case f.ALPHANUMERIC:return Math.floor(t/11*2);case f.KANJI:return Math.floor(t/13);case f.BYTE:default:return Math.floor(t/8)}},L.getBestVersionForData=function(e,r){var n,c=p.from(r,p.M);if(Array.isArray(e)){if(e.length>1)return function(t,d){for(var g=1;g<=40;g++)if(i(t,g)<=L.getCapacity(g,d,f.MIXED))return g}(e,c);if(e.length===0)return 1;n=e[0]}else n=e;return function(t,d,g){for(var E=1;E<=40;E++)if(d<=L.getCapacity(E,g,t))return E}(n.mode,n.getLength(),c)},L.getEncodedBits=function(e){if(!w.isValid(e)||e<7)throw new Error("Invalid QR Code version");for(var r=e<<12;_.getBCHDigit(r)-m>=0;)r^=7973<<_.getBCHDigit(r)-m;return e<<12|r}},6907:function(re,L,C){var _=C(9653);L.render=function(h,p,f){var w=f,m=p;w!==void 0||p&&p.getContext||(w=p,p=void 0),p||(m=function(){try{return document.createElement("canvas")}catch(r){throw new Error("You need to specify a canvas element")}}()),w=_.getOptions(w);var o=_.getImageWidth(h.modules.size,w),i=m.getContext("2d"),e=i.createImageData(o,o);return _.qrToImageData(e.data,h,w),function(r,n,c){r.clearRect(0,0,n.width,n.height),n.style||(n.style={}),n.height=c,n.width=c,n.style.height=c+"px",n.style.width=c+"px"}(i,m,o),i.putImageData(e,0,0),m},L.renderToDataURL=function(h,p,f){var w=f;w!==void 0||p&&p.getContext||(w=p,p=void 0),w||(w={});var m=L.render(h,p,w),o=w.type||"image/png",i=w.rendererOpts||{};return m.toDataURL(o,i.quality)}},3776:function(re,L,C){var _=C(9653);function h(f,w){var m=f.a/255,o=w+'="'+f.hex+'"';return m<1?o+" "+w+'-opacity="'+m.toFixed(2).slice(1)+'"':o}function p(f,w,m){var o=f+w;return m!==void 0&&(o+=" "+m),o}L.render=function(f,w,m){var o=_.getOptions(w),i=f.modules.size,e=f.modules.data,r=i+2*o.margin,n=o.color.light.a?"<path "+h(o.color.light,"fill")+' d="M0 0h'+r+"v"+r+'H0z"/>':"",c="<path "+h(o.color.dark,"stroke")+' d="'+function(g,E,D){for(var T="",A=0,O=!1,N=0,U=0;U<g.length;U++){var F=Math.floor(U%E),Y=Math.floor(U/E);F||O||(O=!0),g[U]?(N++,U>0&&F>0&&g[U-1]||(T+=O?p("M",F+D,.5+Y+D):p("m",A,0),A=0,O=!1),F+1<E&&g[U+1]||(T+=p("h",N),N=0)):A++}return T}(e,i,o.margin)+'"/>',t='viewBox="0 0 '+r+" "+r+'"',d='<svg xmlns="http://www.w3.org/2000/svg" '+(o.width?'width="'+o.width+'" height="'+o.width+'" ':"")+t+' shape-rendering="crispEdges">'+n+c+`</svg>
`;return typeof m=="function"&&m(null,d),d}},9653:function(re,L){function C(_){if(typeof _=="number"&&(_=_.toString()),typeof _!="string")throw new Error("Color should be defined as hex string");var h=_.slice().replace("#","").split("");if(h.length<3||h.length===5||h.length>8)throw new Error("Invalid hex color: "+_);h.length!==3&&h.length!==4||(h=Array.prototype.concat.apply([],h.map(function(f){return[f,f]}))),h.length===6&&h.push("F","F");var p=parseInt(h.join(""),16);return{r:p>>24&255,g:p>>16&255,b:p>>8&255,a:255&p,hex:"#"+h.slice(0,6).join("")}}L.getOptions=function(_){_||(_={}),_.color||(_.color={});var h=_.margin===void 0||_.margin===null||_.margin<0?4:_.margin,p=_.width&&_.width>=21?_.width:void 0,f=_.scale||4;return{width:p,scale:p?4:f,margin:h,color:{dark:C(_.color.dark||"#000000ff"),light:C(_.color.light||"#ffffffff")},type:_.type,rendererOpts:_.rendererOpts||{}}},L.getScale=function(_,h){return h.width&&h.width>=_+2*h.margin?h.width/(_+2*h.margin):h.scale},L.getImageWidth=function(_,h){var p=L.getScale(_,h);return Math.floor((_+2*h.margin)*p)},L.qrToImageData=function(_,h,p){for(var f=h.modules.size,w=h.modules.data,m=L.getScale(f,p),o=Math.floor((f+2*p.margin)*m),i=p.margin*m,e=[p.color.light,p.color.dark],r=0;r<o;r++)for(var n=0;n<o;n++){var c=4*(r*o+n),t=p.color.light;r>=i&&n>=i&&r<o-i&&n<o-i&&(t=e[w[Math.floor((r-i)/m)*f+Math.floor((n-i)/m)]?1:0]),_[c++]=t.r,_[c++]=t.g,_[c++]=t.b,_[c]=t.a}}},4175:function(re,L,C){var _=C(7529),h=C(251),p=C(4470),f=C(4644),w=String.fromCharCode(0),m=function(i){Array.isArray(i)?this.ops=i:i!=null&&Array.isArray(i.ops)?this.ops=i.ops:this.ops=[]};m.prototype.insert=function(o,i){var e={};return o.length===0?this:(e.insert=o,i!=null&&typeof i=="object"&&Object.keys(i).length>0&&(e.attributes=i),this.push(e))},m.prototype.delete=function(o){return o<=0?this:this.push({delete:o})},m.prototype.retain=function(o,i){if(o<=0)return this;var e={retain:o};return i!=null&&typeof i=="object"&&Object.keys(i).length>0&&(e.attributes=i),this.push(e)},m.prototype.push=function(o){var i=this.ops.length,e=this.ops[i-1];if(o=p(!0,{},o),typeof e=="object"){if(typeof o.delete=="number"&&typeof e.delete=="number")return this.ops[i-1]={delete:e.delete+o.delete},this;if(typeof e.delete=="number"&&o.insert!=null&&(i-=1,typeof(e=this.ops[i-1])!="object"))return this.ops.unshift(o),this;if(h(o.attributes,e.attributes)){if(typeof o.insert=="string"&&typeof e.insert=="string")return this.ops[i-1]={insert:e.insert+o.insert},typeof o.attributes=="object"&&(this.ops[i-1].attributes=o.attributes),this;if(typeof o.retain=="number"&&typeof e.retain=="number")return this.ops[i-1]={retain:e.retain+o.retain},typeof o.attributes=="object"&&(this.ops[i-1].attributes=o.attributes),this}}return i===this.ops.length?this.ops.push(o):this.ops.splice(i,0,o),this},m.prototype.chop=function(){var o=this.ops[this.ops.length-1];return o&&o.retain&&!o.attributes&&this.ops.pop(),this},m.prototype.filter=function(o){return this.ops.filter(o)},m.prototype.forEach=function(o){this.ops.forEach(o)},m.prototype.map=function(o){return this.ops.map(o)},m.prototype.partition=function(o){var i=[],e=[];return this.forEach(function(r){(o(r)?i:e).push(r)}),[i,e]},m.prototype.reduce=function(o,i){return this.ops.reduce(o,i)},m.prototype.changeLength=function(){return this.reduce(function(o,i){return i.insert?o+f.length(i):i.delete?o-i.delete:o},0)},m.prototype.length=function(){return this.reduce(function(o,i){return o+f.length(i)},0)},m.prototype.slice=function(o,i){o=o||0,typeof i!="number"&&(i=1/0);for(var e=[],r=f.iterator(this.ops),n=0;n<i&&r.hasNext();){var c;n<o?c=r.next(o-n):(c=r.next(i-n),e.push(c)),n+=f.length(c)}return new m(e)},m.prototype.compose=function(o){var i=f.iterator(this.ops),e=f.iterator(o.ops),r=[],n=e.peek();if(n!=null&&typeof n.retain=="number"&&n.attributes==null){for(var c=n.retain;i.peekType()==="insert"&&i.peekLength()<=c;)c-=i.peekLength(),r.push(i.next());n.retain-c>0&&e.next(n.retain-c)}for(var t=new m(r);i.hasNext()||e.hasNext();)if(e.peekType()==="insert")t.push(e.next());else if(i.peekType()==="delete")t.push(i.next());else{var d=Math.min(i.peekLength(),e.peekLength()),g=i.next(d),E=e.next(d);if(typeof E.retain=="number"){var D={};typeof g.retain=="number"?D.retain=d:D.insert=g.insert;var T=f.attributes.compose(g.attributes,E.attributes,typeof g.retain=="number");if(T&&(D.attributes=T),t.push(D),!e.hasNext()&&h(t.ops[t.ops.length-1],D)){var A=new m(i.rest());return t.concat(A).chop()}}else typeof E.delete=="number"&&typeof g.retain=="number"&&t.push(E)}return t.chop()},m.prototype.concat=function(o){var i=new m(this.ops.slice());return o.ops.length>0&&(i.push(o.ops[0]),i.ops=i.ops.concat(o.ops.slice(1))),i},m.prototype.diff=function(o,i){if(this.ops===o.ops)return new m;var e=[this,o].map(function(d){return d.map(function(g){if(g.insert!=null)return typeof g.insert=="string"?g.insert:w;throw new Error("diff() called "+(d===o?"on":"with")+" non-document")}).join("")}),r=new m,n=_(e[0],e[1],i),c=f.iterator(this.ops),t=f.iterator(o.ops);return n.forEach(function(d){for(var g=d[1].length;g>0;){var E=0;switch(d[0]){case _.INSERT:E=Math.min(t.peekLength(),g),r.push(t.next(E));break;case _.DELETE:E=Math.min(g,c.peekLength()),c.next(E),r.delete(E);break;case _.EQUAL:E=Math.min(c.peekLength(),t.peekLength(),g);var D=c.next(E),T=t.next(E);h(D.insert,T.insert)?r.retain(E,f.attributes.diff(D.attributes,T.attributes)):r.push(T).delete(E)}g-=E}}),r.chop()},m.prototype.eachLine=function(o,i){i=i||`
`;for(var e=f.iterator(this.ops),r=new m,n=0;e.hasNext();){if(e.peekType()!=="insert")return;var c=e.peek(),t=f.length(c)-e.peekLength(),d=typeof c.insert=="string"?c.insert.indexOf(i,t)-t:-1;if(d<0)r.push(e.next());else if(d>0)r.push(e.next(d));else{if(o(r,e.next(1).attributes||{},n)===!1)return;n+=1,r=new m}}r.length()>0&&o(r,{},n)},m.prototype.transform=function(o,i){if(i=!!i,typeof o=="number")return this.transformPosition(o,i);for(var e=f.iterator(this.ops),r=f.iterator(o.ops),n=new m;e.hasNext()||r.hasNext();)if(e.peekType()!=="insert"||!i&&r.peekType()==="insert")if(r.peekType()==="insert")n.push(r.next());else{var c=Math.min(e.peekLength(),r.peekLength()),t=e.next(c),d=r.next(c);if(t.delete)continue;d.delete?n.push(d):n.retain(c,f.attributes.transform(t.attributes,d.attributes,i))}else n.retain(f.length(e.next()));return n.chop()},m.prototype.transformPosition=function(o,i){i=!!i;for(var e=f.iterator(this.ops),r=0;e.hasNext()&&r<=o;){var n=e.peekLength(),c=e.peekType();e.next(),c!=="delete"?(c==="insert"&&(r<o||!i)&&(o+=n),r+=n):o-=Math.min(n,o-r)}return o},re.exports=m},4644:function(re,L,C){var _=C(251),h=C(4470),p={attributes:{compose:function(m,o,i){typeof m!="object"&&(m={}),typeof o!="object"&&(o={});var e=h(!0,{},o);for(var r in i||(e=Object.keys(e).reduce(function(n,c){return e[c]!=null&&(n[c]=e[c]),n},{})),m)m[r]!==void 0&&o[r]===void 0&&(e[r]=m[r]);return Object.keys(e).length>0?e:void 0},diff:function(m,o){typeof m!="object"&&(m={}),typeof o!="object"&&(o={});var i=Object.keys(m).concat(Object.keys(o)).reduce(function(e,r){return _(m[r],o[r])||(e[r]=o[r]===void 0?null:o[r]),e},{});return Object.keys(i).length>0?i:void 0},transform:function(m,o,i){if(typeof m!="object")return o;if(typeof o=="object"){if(!i)return o;var e=Object.keys(o).reduce(function(r,n){return m[n]===void 0&&(r[n]=o[n]),r},{});return Object.keys(e).length>0?e:void 0}}},iterator:function(m){return new f(m)},length:function(m){return typeof m.delete=="number"?m.delete:typeof m.retain=="number"?m.retain:typeof m.insert=="string"?m.insert.length:1}};function f(w){this.ops=w,this.index=0,this.offset=0}f.prototype.hasNext=function(){return this.peekLength()<1/0},f.prototype.next=function(w){w||(w=1/0);var m=this.ops[this.index];if(m){var o=this.offset,i=p.length(m);if(w>=i-o?(w=i-o,this.index+=1,this.offset=0):this.offset+=w,typeof m.delete=="number")return{delete:w};var e={};return m.attributes&&(e.attributes=m.attributes),typeof m.retain=="number"?e.retain=w:typeof m.insert=="string"?e.insert=m.insert.substr(o,w):e.insert=m.insert,e}return{retain:1/0}},f.prototype.peek=function(){return this.ops[this.index]},f.prototype.peekLength=function(){return this.ops[this.index]?p.length(this.ops[this.index])-this.offset:1/0},f.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},f.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var w=this.offset,m=this.index,o=this.next(),i=this.ops.slice(this.index);return this.offset=w,this.index=m,[o].concat(i)}return[]},re.exports=p},6095:function(re){var L;L=function(){return function(_){var h={};function p(f){if(h[f])return h[f].exports;var w=h[f]={i:f,l:!1,exports:{}};return _[f].call(w.exports,w,w.exports,p),w.l=!0,w.exports}return p.m=_,p.c=h,p.d=function(f,w,m){p.o(f,w)||Object.defineProperty(f,w,{configurable:!1,enumerable:!0,get:m})},p.n=function(f){var w=f&&f.__esModule?function(){return f.default}:function(){return f};return p.d(w,"a",w),w},p.o=function(f,w){return Object.prototype.hasOwnProperty.call(f,w)},p.p="",p(p.s=109)}([function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=p(17),w=p(18),m=p(19),o=p(45),i=p(46),e=p(47),r=p(48),n=p(49),c=p(12),t=p(32),d=p(33),g=p(31),E=p(1),D={Scope:E.Scope,create:E.create,find:E.find,query:E.query,register:E.register,Container:f.default,Format:w.default,Leaf:m.default,Embed:r.default,Scroll:o.default,Block:e.default,Inline:i.default,Text:n.default,Attributor:{Attribute:c.default,Class:t.default,Style:d.default,Store:g.default}};h.default=D},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,d){t.__proto__=d}||function(t,d){for(var g in d)d.hasOwnProperty(g)&&(t[g]=d[g])},function(t,d){function g(){this.constructor=t}f(t,d),t.prototype=d===null?Object.create(d):(g.prototype=d.prototype,new g)});Object.defineProperty(h,"__esModule",{value:!0});var m=function(t){function d(g){var E=this;return g="[Parchment] "+g,(E=t.call(this,g)||this).message=g,E.name=E.constructor.name,E}return w(d,t),d}(Error);h.ParchmentError=m;var o,i={},e={},r={},n={};function c(t,d){var g;if(d===void 0&&(d=o.ANY),typeof t=="string")g=n[t]||i[t];else if(t instanceof Text||t.nodeType===Node.TEXT_NODE)g=n.text;else if(typeof t=="number")t&o.LEVEL&o.BLOCK?g=n.block:t&o.LEVEL&o.INLINE&&(g=n.inline);else if(t instanceof HTMLElement){var E=(t.getAttribute("class")||"").split(/\s+/);for(var D in E)if(g=e[E[D]])break;g=g||r[t.tagName]}return g==null?null:d&o.LEVEL&g.scope&&d&o.TYPE&g.scope?g:null}h.DATA_KEY="__blot",function(t){t[t.TYPE=3]="TYPE",t[t.LEVEL=12]="LEVEL",t[t.ATTRIBUTE=13]="ATTRIBUTE",t[t.BLOT=14]="BLOT",t[t.INLINE=7]="INLINE",t[t.BLOCK=11]="BLOCK",t[t.BLOCK_BLOT=10]="BLOCK_BLOT",t[t.INLINE_BLOT=6]="INLINE_BLOT",t[t.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",t[t.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",t[t.ANY=15]="ANY"}(o=h.Scope||(h.Scope={})),h.create=function(t,d){var g=c(t);if(g==null)throw new m("Unable to create "+t+" blot");var E=g,D=t instanceof Node||t.nodeType===Node.TEXT_NODE?t:E.create(d);return new E(D,d)},h.find=function t(d,g){return g===void 0&&(g=!1),d==null?null:d[h.DATA_KEY]!=null?d[h.DATA_KEY].blot:g?t(d.parentNode,g):null},h.query=c,h.register=function t(){for(var d=[],g=0;g<arguments.length;g++)d[g]=arguments[g];if(d.length>1)return d.map(function(T){return t(T)});var E=d[0];if(typeof E.blotName!="string"&&typeof E.attrName!="string")throw new m("Invalid definition");if(E.blotName==="abstract")throw new m("Cannot register abstract class");if(n[E.blotName||E.attrName]=E,typeof E.keyName=="string")i[E.keyName]=E;else if(E.className!=null&&(e[E.className]=E),E.tagName!=null){Array.isArray(E.tagName)?E.tagName=E.tagName.map(function(T){return T.toUpperCase()}):E.tagName=E.tagName.toUpperCase();var D=Array.isArray(E.tagName)?E.tagName:[E.tagName];D.forEach(function(T){r[T]!=null&&E.className!=null||(r[T]=E)})}return E}},function(_,h,p){var f=p(51),w=p(11),m=p(3),o=p(20),i=String.fromCharCode(0),e=function(n){Array.isArray(n)?this.ops=n:n!=null&&Array.isArray(n.ops)?this.ops=n.ops:this.ops=[]};e.prototype.insert=function(r,n){var c={};return r.length===0?this:(c.insert=r,n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(c.attributes=n),this.push(c))},e.prototype.delete=function(r){return r<=0?this:this.push({delete:r})},e.prototype.retain=function(r,n){if(r<=0)return this;var c={retain:r};return n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(c.attributes=n),this.push(c)},e.prototype.push=function(r){var n=this.ops.length,c=this.ops[n-1];if(r=m(!0,{},r),typeof c=="object"){if(typeof r.delete=="number"&&typeof c.delete=="number")return this.ops[n-1]={delete:c.delete+r.delete},this;if(typeof c.delete=="number"&&r.insert!=null&&(n-=1,typeof(c=this.ops[n-1])!="object"))return this.ops.unshift(r),this;if(w(r.attributes,c.attributes)){if(typeof r.insert=="string"&&typeof c.insert=="string")return this.ops[n-1]={insert:c.insert+r.insert},typeof r.attributes=="object"&&(this.ops[n-1].attributes=r.attributes),this;if(typeof r.retain=="number"&&typeof c.retain=="number")return this.ops[n-1]={retain:c.retain+r.retain},typeof r.attributes=="object"&&(this.ops[n-1].attributes=r.attributes),this}}return n===this.ops.length?this.ops.push(r):this.ops.splice(n,0,r),this},e.prototype.chop=function(){var r=this.ops[this.ops.length-1];return r&&r.retain&&!r.attributes&&this.ops.pop(),this},e.prototype.filter=function(r){return this.ops.filter(r)},e.prototype.forEach=function(r){this.ops.forEach(r)},e.prototype.map=function(r){return this.ops.map(r)},e.prototype.partition=function(r){var n=[],c=[];return this.forEach(function(t){(r(t)?n:c).push(t)}),[n,c]},e.prototype.reduce=function(r,n){return this.ops.reduce(r,n)},e.prototype.changeLength=function(){return this.reduce(function(r,n){return n.insert?r+o.length(n):n.delete?r-n.delete:r},0)},e.prototype.length=function(){return this.reduce(function(r,n){return r+o.length(n)},0)},e.prototype.slice=function(r,n){r=r||0,typeof n!="number"&&(n=1/0);for(var c=[],t=o.iterator(this.ops),d=0;d<n&&t.hasNext();){var g;d<r?g=t.next(r-d):(g=t.next(n-d),c.push(g)),d+=o.length(g)}return new e(c)},e.prototype.compose=function(r){var n=o.iterator(this.ops),c=o.iterator(r.ops),t=[],d=c.peek();if(d!=null&&typeof d.retain=="number"&&d.attributes==null){for(var g=d.retain;n.peekType()==="insert"&&n.peekLength()<=g;)g-=n.peekLength(),t.push(n.next());d.retain-g>0&&c.next(d.retain-g)}for(var E=new e(t);n.hasNext()||c.hasNext();)if(c.peekType()==="insert")E.push(c.next());else if(n.peekType()==="delete")E.push(n.next());else{var D=Math.min(n.peekLength(),c.peekLength()),T=n.next(D),A=c.next(D);if(typeof A.retain=="number"){var O={};typeof T.retain=="number"?O.retain=D:O.insert=T.insert;var N=o.attributes.compose(T.attributes,A.attributes,typeof T.retain=="number");if(N&&(O.attributes=N),E.push(O),!c.hasNext()&&w(E.ops[E.ops.length-1],O)){var U=new e(n.rest());return E.concat(U).chop()}}else typeof A.delete=="number"&&typeof T.retain=="number"&&E.push(A)}return E.chop()},e.prototype.concat=function(r){var n=new e(this.ops.slice());return r.ops.length>0&&(n.push(r.ops[0]),n.ops=n.ops.concat(r.ops.slice(1))),n},e.prototype.diff=function(r,n){if(this.ops===r.ops)return new e;var c=[this,r].map(function(D){return D.map(function(T){if(T.insert!=null)return typeof T.insert=="string"?T.insert:i;throw new Error("diff() called "+(D===r?"on":"with")+" non-document")}).join("")}),t=new e,d=f(c[0],c[1],n),g=o.iterator(this.ops),E=o.iterator(r.ops);return d.forEach(function(D){for(var T=D[1].length;T>0;){var A=0;switch(D[0]){case f.INSERT:A=Math.min(E.peekLength(),T),t.push(E.next(A));break;case f.DELETE:A=Math.min(T,g.peekLength()),g.next(A),t.delete(A);break;case f.EQUAL:A=Math.min(g.peekLength(),E.peekLength(),T);var O=g.next(A),N=E.next(A);w(O.insert,N.insert)?t.retain(A,o.attributes.diff(O.attributes,N.attributes)):t.push(N).delete(A)}T-=A}}),t.chop()},e.prototype.eachLine=function(r,n){n=n||`
`;for(var c=o.iterator(this.ops),t=new e,d=0;c.hasNext();){if(c.peekType()!=="insert")return;var g=c.peek(),E=o.length(g)-c.peekLength(),D=typeof g.insert=="string"?g.insert.indexOf(n,E)-E:-1;if(D<0)t.push(c.next());else if(D>0)t.push(c.next(D));else{if(r(t,c.next(1).attributes||{},d)===!1)return;d+=1,t=new e}}t.length()>0&&r(t,{},d)},e.prototype.transform=function(r,n){if(n=!!n,typeof r=="number")return this.transformPosition(r,n);for(var c=o.iterator(this.ops),t=o.iterator(r.ops),d=new e;c.hasNext()||t.hasNext();)if(c.peekType()!=="insert"||!n&&t.peekType()==="insert")if(t.peekType()==="insert")d.push(t.next());else{var g=Math.min(c.peekLength(),t.peekLength()),E=c.next(g),D=t.next(g);if(E.delete)continue;D.delete?d.push(D):d.retain(g,o.attributes.transform(E.attributes,D.attributes,n))}else d.retain(o.length(c.next()));return d.chop()},e.prototype.transformPosition=function(r,n){n=!!n;for(var c=o.iterator(this.ops),t=0;c.hasNext()&&t<=r;){var d=c.peekLength(),g=c.peekType();c.next(),g!=="delete"?(g==="insert"&&(t<r||!n)&&(r+=d),t+=d):r-=Math.min(d,r-t)}return r},_.exports=e},function(_,h){"use strict";var p=Object.prototype.hasOwnProperty,f=Object.prototype.toString,w=Object.defineProperty,m=Object.getOwnPropertyDescriptor,o=function(c){return typeof Array.isArray=="function"?Array.isArray(c):f.call(c)==="[object Array]"},i=function(c){if(!c||f.call(c)!=="[object Object]")return!1;var t,d=p.call(c,"constructor"),g=c.constructor&&c.constructor.prototype&&p.call(c.constructor.prototype,"isPrototypeOf");if(c.constructor&&!d&&!g)return!1;for(t in c);return t===void 0||p.call(c,t)},e=function(c,t){w&&t.name==="__proto__"?w(c,t.name,{enumerable:!0,configurable:!0,value:t.newValue,writable:!0}):c[t.name]=t.newValue},r=function(c,t){if(t==="__proto__"){if(!p.call(c,t))return;if(m)return m(c,t).value}return c[t]};_.exports=function n(){var c,t,d,g,E,D,T=arguments[0],A=1,O=arguments.length,N=!1;for(typeof T=="boolean"&&(N=T,T=arguments[1]||{},A=2),(T==null||typeof T!="object"&&typeof T!="function")&&(T={});A<O;++A)if((c=arguments[A])!=null)for(t in c)d=r(T,t),T!==(g=r(c,t))&&(N&&g&&(i(g)||(E=o(g)))?(E?(E=!1,D=d&&o(d)?d:[]):D=d&&i(d)?d:{},e(T,{name:t,newValue:n(N,D,g)})):g!==void 0&&e(T,{name:t,newValue:g}));return T}},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.BlockEmbed=h.bubbleFormats=void 0;var f=function(){function A(O,N){for(var U=0;U<N.length;U++){var F=N[U];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(O,F.key,F)}}return function(O,N,U){return N&&A(O.prototype,N),U&&A(O,U),O}}(),w=function A(O,N,U){O===null&&(O=Function.prototype);var F=Object.getOwnPropertyDescriptor(O,N);if(F===void 0){var Y=Object.getPrototypeOf(O);return Y===null?void 0:A(Y,N,U)}if("value"in F)return F.value;var B=F.get;return B!==void 0?B.call(U):void 0},m=c(p(3)),o=c(p(2)),i=c(p(0)),e=c(p(16)),r=c(p(6)),n=c(p(7));function c(A){return A&&A.__esModule?A:{default:A}}function t(A,O){if(!(A instanceof O))throw new TypeError("Cannot call a class as a function")}function d(A,O){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||typeof O!="object"&&typeof O!="function"?A:O}function g(A,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);A.prototype=Object.create(O&&O.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(A,O):A.__proto__=O)}var E=function(A){function O(){return t(this,O),d(this,(O.__proto__||Object.getPrototypeOf(O)).apply(this,arguments))}return g(O,A),f(O,[{key:"attach",value:function(){w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"attach",this).call(this),this.attributes=new i.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new o.default().insert(this.value(),(0,m.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(U,F){var Y=i.default.query(U,i.default.Scope.BLOCK_ATTRIBUTE);Y!=null&&this.attributes.attribute(Y,F)}},{key:"formatAt",value:function(U,F,Y,B){this.format(Y,B)}},{key:"insertAt",value:function(U,F,Y){if(typeof F=="string"&&F.endsWith(`
`)){var B=i.default.create(D.blotName);this.parent.insertBefore(B,U===0?this:this.next),B.insertAt(0,F.slice(0,-1))}else w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,U,F,Y)}}]),O}(i.default.Embed);E.scope=i.default.Scope.BLOCK_BLOT;var D=function(A){function O(N){t(this,O);var U=d(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,N));return U.cache={},U}return g(O,A),f(O,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(i.default.Leaf).reduce(function(U,F){return F.length()===0?U:U.insert(F.value(),T(F))},new o.default).insert(`
`,T(this))),this.cache.delta}},{key:"deleteAt",value:function(U,F){w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"deleteAt",this).call(this,U,F),this.cache={}}},{key:"formatAt",value:function(U,F,Y,B){F<=0||(i.default.query(Y,i.default.Scope.BLOCK)?U+F===this.length()&&this.format(Y,B):w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"formatAt",this).call(this,U,Math.min(F,this.length()-U-1),Y,B),this.cache={})}},{key:"insertAt",value:function(U,F,Y){if(Y!=null)return w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,U,F,Y);if(F.length!==0){var B=F.split(`
`),te=B.shift();te.length>0&&(U<this.length()-1||this.children.tail==null?w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertAt",this).call(this,Math.min(U,this.length()-1),te):this.children.tail.insertAt(this.children.tail.length(),te),this.cache={});var $=this;B.reduce(function(W,X){return($=$.split(W,!0)).insertAt(0,X),X.length},U+te.length)}}},{key:"insertBefore",value:function(U,F){var Y=this.children.head;w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"insertBefore",this).call(this,U,F),Y instanceof e.default&&Y.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(U,F){w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"moveChildren",this).call(this,U,F),this.cache={}}},{key:"optimize",value:function(U){w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"optimize",this).call(this,U),this.cache={}}},{key:"path",value:function(U){return w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"path",this).call(this,U,!0)}},{key:"removeChild",value:function(U){w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"removeChild",this).call(this,U),this.cache={}}},{key:"split",value:function(U){var F=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(F&&(U===0||U>=this.length()-1)){var Y=this.clone();return U===0?(this.parent.insertBefore(Y,this),this):(this.parent.insertBefore(Y,this.next),Y)}var B=w(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"split",this).call(this,U,F);return this.cache={},B}}]),O}(i.default.Block);function T(A){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return A==null?O:(typeof A.formats=="function"&&(O=(0,m.default)(O,A.formats())),A.parent==null||A.parent.blotName=="scroll"||A.parent.statics.scope!==A.statics.scope?O:T(A.parent,O))}D.blotName="block",D.tagName="P",D.defaultChild="break",D.allowedChildren=[r.default,i.default.Embed,n.default],h.bubbleFormats=T,h.BlockEmbed=E,h.default=D},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.overload=h.expandConfig=void 0;var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(te){return typeof te}:function(te){return te&&typeof Symbol=="function"&&te.constructor===Symbol&&te!==Symbol.prototype?"symbol":typeof te},w=function($,W){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return function(X,M){var K=[],H=!0,P=!1,ee=void 0;try{for(var ue,de=X[Symbol.iterator]();!(H=(ue=de.next()).done)&&(K.push(ue.value),!M||K.length!==M);H=!0);}catch(pe){P=!0,ee=pe}finally{try{!H&&de.return&&de.return()}finally{if(P)throw ee}}return K}($,W);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=function(){function te($,W){for(var X=0;X<W.length;X++){var M=W[X];M.enumerable=M.enumerable||!1,M.configurable=!0,"value"in M&&(M.writable=!0),Object.defineProperty($,M.key,M)}}return function($,W,X){return W&&te($.prototype,W),X&&te($,X),$}}();p(50);var o=D(p(2)),i=D(p(14)),e=D(p(8)),r=D(p(9)),n=D(p(0)),c=p(15),t=D(c),d=D(p(3)),g=D(p(10)),E=D(p(34));function D(te){return te&&te.__esModule?te:{default:te}}function T(te,$,W){return $ in te?Object.defineProperty(te,$,{value:W,enumerable:!0,configurable:!0,writable:!0}):te[$]=W,te}function A(te,$){if(!(te instanceof $))throw new TypeError("Cannot call a class as a function")}var O=(0,g.default)("quill"),N=function(){function te($){var W=this,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(A(this,te),this.options=U($,X),this.container=this.options.container,this.container==null)return O.error("Invalid Quill container",$);this.options.debug&&te.debug(this.options.debug);var M=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new e.default,this.scroll=n.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new i.default(this.scroll),this.selection=new t.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(e.default.events.EDITOR_CHANGE,function(H){H===e.default.events.TEXT_CHANGE&&W.root.classList.toggle("ql-blank",W.editor.isBlank())}),this.emitter.on(e.default.events.SCROLL_UPDATE,function(H,P){var ee=W.selection.lastRange,ue=ee&&ee.length===0?ee.index:void 0;F.call(W,function(){return W.editor.update(null,P,ue)},H)});var K=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+M+"<p><br></p></div>");this.setContents(K),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return m(te,null,[{key:"debug",value:function(W){W===!0&&(W="log"),g.default.level(W)}},{key:"find",value:function(W){return W.__quill||n.default.find(W)}},{key:"import",value:function(W){return this.imports[W]==null&&O.error("Cannot import "+W+". Are you sure it was registered?"),this.imports[W]}},{key:"register",value:function(W,X){var M=this,K=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(typeof W!="string"){var H=W.attrName||W.blotName;typeof H=="string"?this.register("formats/"+H,W,X):Object.keys(W).forEach(function(P){M.register(P,W[P],X)})}else this.imports[W]==null||K||O.warn("Overwriting "+W+" with",X),this.imports[W]=X,(W.startsWith("blots/")||W.startsWith("formats/"))&&X.blotName!=="abstract"?n.default.register(X):W.startsWith("modules")&&typeof X.register=="function"&&X.register()}}]),m(te,[{key:"addContainer",value:function(W){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof W=="string"){var M=W;(W=document.createElement("div")).classList.add(M)}return this.container.insertBefore(W,X),W}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(W,X,M){var K=this,H=Y(W,X,M),P=w(H,4);return W=P[0],X=P[1],M=P[3],F.call(this,function(){return K.editor.deleteText(W,X)},M,W,-1*X)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var W=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(W),this.container.classList.toggle("ql-disabled",!W)}},{key:"focus",value:function(){var W=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=W,this.scrollIntoView()}},{key:"format",value:function(W,X){var M=this,K=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.default.sources.API;return F.call(this,function(){var H=M.getSelection(!0),P=new o.default;if(H==null)return P;if(n.default.query(W,n.default.Scope.BLOCK))P=M.editor.formatLine(H.index,H.length,T({},W,X));else{if(H.length===0)return M.selection.format(W,X),P;P=M.editor.formatText(H.index,H.length,T({},W,X))}return M.setSelection(H,e.default.sources.SILENT),P},K)}},{key:"formatLine",value:function(W,X,M,K,H){var P,ee=this,ue=Y(W,X,M,K,H),de=w(ue,4);return W=de[0],X=de[1],P=de[2],H=de[3],F.call(this,function(){return ee.editor.formatLine(W,X,P)},H,W,0)}},{key:"formatText",value:function(W,X,M,K,H){var P,ee=this,ue=Y(W,X,M,K,H),de=w(ue,4);return W=de[0],X=de[1],P=de[2],H=de[3],F.call(this,function(){return ee.editor.formatText(W,X,P)},H,W,0)}},{key:"getBounds",value:function(W){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=void 0;M=typeof W=="number"?this.selection.getBounds(W,X):this.selection.getBounds(W.index,W.length);var K=this.container.getBoundingClientRect();return{bottom:M.bottom-K.top,height:M.height,left:M.left-K.left,right:M.right-K.left,top:M.top-K.top,width:M.width}}},{key:"getContents",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-W,M=Y(W,X),K=w(M,2);return W=K[0],X=K[1],this.editor.getContents(W,X)}},{key:"getFormat",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof W=="number"?this.editor.getFormat(W,X):this.editor.getFormat(W.index,W.length)}},{key:"getIndex",value:function(W){return W.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(W){return this.scroll.leaf(W)}},{key:"getLine",value:function(W){return this.scroll.line(W)}},{key:"getLines",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof W!="number"?this.scroll.lines(W.index,W.length):this.scroll.lines(W,X)}},{key:"getModule",value:function(W){return this.theme.modules[W]}},{key:"getSelection",value:function(){var W=arguments.length>0&&arguments[0]!==void 0&&arguments[0];return W&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-W,M=Y(W,X),K=w(M,2);return W=K[0],X=K[1],this.editor.getText(W,X)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(W,X,M){var K=this,H=arguments.length>3&&arguments[3]!==void 0?arguments[3]:te.sources.API;return F.call(this,function(){return K.editor.insertEmbed(W,X,M)},H,W)}},{key:"insertText",value:function(W,X,M,K,H){var P,ee=this,ue=Y(W,0,M,K,H),de=w(ue,4);return W=de[0],P=de[2],H=de[3],F.call(this,function(){return ee.editor.insertText(W,X,P)},H,W,X.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(W,X,M){this.clipboard.dangerouslyPasteHTML(W,X,M)}},{key:"removeFormat",value:function(W,X,M){var K=this,H=Y(W,X,M),P=w(H,4);return W=P[0],X=P[1],M=P[3],F.call(this,function(){return K.editor.removeFormat(W,X)},M,W)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(W){var X=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.default.sources.API;return F.call(this,function(){W=new o.default(W);var K=X.getLength(),H=X.editor.deleteText(0,K),P=X.editor.applyDelta(W),ee=P.ops[P.ops.length-1];return ee!=null&&typeof ee.insert=="string"&&ee.insert[ee.insert.length-1]===`
`&&(X.editor.deleteText(X.getLength()-1,1),P.delete(1)),H.compose(P)},M)}},{key:"setSelection",value:function(W,X,M){if(W==null)this.selection.setRange(null,X||te.sources.API);else{var K=Y(W,X,M),H=w(K,4);W=H[0],X=H[1],M=H[3],this.selection.setRange(new c.Range(W,X),M),M!==e.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(W){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.default.sources.API,M=new o.default().insert(W);return this.setContents(M,X)}},{key:"update",value:function(){var W=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.default.sources.USER,X=this.scroll.update(W);return this.selection.update(W),X}},{key:"updateContents",value:function(W){var X=this,M=arguments.length>1&&arguments[1]!==void 0?arguments[1]:e.default.sources.API;return F.call(this,function(){return W=new o.default(W),X.editor.applyDelta(W,M)},M,!0)}}]),te}();function U(te,$){if(($=(0,d.default)(!0,{container:te,modules:{clipboard:!0,keyboard:!0,history:!0}},$)).theme&&$.theme!==N.DEFAULTS.theme){if($.theme=N.import("themes/"+$.theme),$.theme==null)throw new Error("Invalid theme "+$.theme+". Did you register it?")}else $.theme=E.default;var W=(0,d.default)(!0,{},$.theme.DEFAULTS);[W,$].forEach(function(M){M.modules=M.modules||{},Object.keys(M.modules).forEach(function(K){M.modules[K]===!0&&(M.modules[K]={})})});var X=Object.keys(W.modules).concat(Object.keys($.modules)).reduce(function(M,K){var H=N.import("modules/"+K);return H==null?O.error("Cannot load "+K+" module. Are you sure you registered it?"):M[K]=H.DEFAULTS||{},M},{});return $.modules!=null&&$.modules.toolbar&&$.modules.toolbar.constructor!==Object&&($.modules.toolbar={container:$.modules.toolbar}),$=(0,d.default)(!0,{},N.DEFAULTS,{modules:X},W,$),["bounds","container","scrollingContainer"].forEach(function(M){typeof $[M]=="string"&&($[M]=document.querySelector($[M]))}),$.modules=Object.keys($.modules).reduce(function(M,K){return $.modules[K]&&(M[K]=$.modules[K]),M},{}),$}function F(te,$,W,X){if(this.options.strict&&!this.isEnabled()&&$===e.default.sources.USER)return new o.default;var M=W==null?null:this.getSelection(),K=this.editor.delta,H=te();if(M!=null&&(W===!0&&(W=M.index),X==null?M=B(M,H,$):X!==0&&(M=B(M,W,X,$)),this.setSelection(M,e.default.sources.SILENT)),H.length()>0){var P,ee,ue=[e.default.events.TEXT_CHANGE,H,K,$];(P=this.emitter).emit.apply(P,[e.default.events.EDITOR_CHANGE].concat(ue)),$!==e.default.sources.SILENT&&(ee=this.emitter).emit.apply(ee,ue)}return H}function Y(te,$,W,X,M){var K={};return typeof te.index=="number"&&typeof te.length=="number"?typeof $!="number"?(M=X,X=W,W=$,$=te.length,te=te.index):($=te.length,te=te.index):typeof $!="number"&&(M=X,X=W,W=$,$=0),(W===void 0?"undefined":f(W))==="object"?(K=W,M=X):typeof W=="string"&&(X!=null?K[W]=X:M=W),[te,$,K,M=M||e.default.sources.API]}function B(te,$,W,X){if(te==null)return null;var M=void 0,K=void 0;if($ instanceof o.default){var H=[te.index,te.index+te.length].map(function(de){return $.transformPosition(de,X!==e.default.sources.USER)}),P=w(H,2);M=P[0],K=P[1]}else{var ee=[te.index,te.index+te.length].map(function(de){return de<$||de===$&&X===e.default.sources.USER?de:W>=0?de+W:Math.max($,de+W)}),ue=w(ee,2);M=ue[0],K=ue[1]}return new c.Range(M,K-M)}N.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},N.events=e.default.events,N.sources=e.default.sources,N.version="1.3.7",N.imports={delta:o.default,parchment:n.default,"core/module":r.default,"core/theme":E.default},h.expandConfig=U,h.overload=Y,h.default=N},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function c(t,d){for(var g=0;g<d.length;g++){var E=d[g];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(t,E.key,E)}}return function(t,d,g){return d&&c(t.prototype,d),g&&c(t,g),t}}(),w=function c(t,d,g){t===null&&(t=Function.prototype);var E=Object.getOwnPropertyDescriptor(t,d);if(E===void 0){var D=Object.getPrototypeOf(t);return D===null?void 0:c(D,d,g)}if("value"in E)return E.value;var T=E.get;return T!==void 0?T.call(g):void 0},m=i(p(7)),o=i(p(0));function i(c){return c&&c.__esModule?c:{default:c}}function e(c,t){if(!(c instanceof t))throw new TypeError("Cannot call a class as a function")}function r(c,t){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?c:t}var n=function(c){function t(){return e(this,t),r(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}(t,c),f(t,[{key:"formatAt",value:function(g,E,D,T){if(t.compare(this.statics.blotName,D)<0&&o.default.query(D,o.default.Scope.BLOT)){var A=this.isolate(g,E);T&&A.wrap(D,T)}else w(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"formatAt",this).call(this,g,E,D,T)}},{key:"optimize",value:function(g){if(w(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"optimize",this).call(this,g),this.parent instanceof t&&t.compare(this.statics.blotName,this.parent.statics.blotName)>0){var E=this.parent.isolate(this.offset(),this.length());this.moveChildren(E),E.wrap(this)}}}],[{key:"compare",value:function(g,E){var D=t.order.indexOf(g),T=t.order.indexOf(E);return D>=0||T>=0?D-T:g===E?0:g<E?-1:1}}]),t}(o.default.Inline);n.allowedChildren=[n,o.default.Embed,m.default],n.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],h.default=n},function(_,h,p){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=p(0))&&f.__esModule?f:{default:f}).default.Text);h.default=o},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function r(n,c){for(var t=0;t<c.length;t++){var d=c[t];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,c,t){return c&&r(n.prototype,c),t&&r(n,t),n}}(),w=function r(n,c,t){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,c);if(d===void 0){var g=Object.getPrototypeOf(n);return g===null?void 0:r(g,c,t)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(t):void 0},m=o(p(54));function o(r){return r&&r.__esModule?r:{default:r}}var i=(0,o(p(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(r){document.addEventListener(r,function(){for(var n=arguments.length,c=Array(n),t=0;t<n;t++)c[t]=arguments[t];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(d){var g;d.__quill&&d.__quill.emitter&&(g=d.__quill.emitter).handleDOM.apply(g,c)})})});var e=function(r){function n(){(function(t,d){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")})(this,n);var c=function(t,d){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?t:d}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this));return c.listeners={},c.on("error",i.error),c}return function(c,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);c.prototype=Object.create(t&&t.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(c,t):c.__proto__=t)}(n,r),f(n,[{key:"emit",value:function(){i.log.apply(i,arguments),w(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(t){for(var d=arguments.length,g=Array(d>1?d-1:0),E=1;E<d;E++)g[E-1]=arguments[E];(this.listeners[t.type]||[]).forEach(function(D){var T=D.node,A=D.handler;(t.target===T||T.contains(t.target))&&A.apply(void 0,[t].concat(g))})}},{key:"listenDOM",value:function(t,d,g){this.listeners[t]||(this.listeners[t]=[]),this.listeners[t].push({node:d,handler:g})}}]),n}(m.default);e.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},e.sources={API:"api",SILENT:"silent",USER:"user"},h.default=e},function(_,h,p){"use strict";function f(m,o){if(!(m instanceof o))throw new TypeError("Cannot call a class as a function")}Object.defineProperty(h,"__esModule",{value:!0});var w=function m(o){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};f(this,m),this.quill=o,this.options=i};w.DEFAULTS={},h.default=w},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=["error","warn","log","info"],w="warn";function m(i){if(f.indexOf(i)<=f.indexOf(w)){for(var e,r=arguments.length,n=Array(r>1?r-1:0),c=1;c<r;c++)n[c-1]=arguments[c];(e=console)[i].apply(e,n)}}function o(i){return f.reduce(function(e,r){return e[r]=m.bind(console,r,i),e},{})}m.level=o.level=function(i){w=i},h.default=o},function(_,h,p){var f=Array.prototype.slice,w=p(52),m=p(53),o=_.exports=function(r,n,c){return c||(c={}),r===n||(r instanceof Date&&n instanceof Date?r.getTime()===n.getTime():!r||!n||typeof r!="object"&&typeof n!="object"?c.strict?r===n:r==n:function(t,d,g){var E,D;if(i(t)||i(d)||t.prototype!==d.prototype)return!1;if(m(t))return!!m(d)&&(t=f.call(t),d=f.call(d),o(t,d,g));if(e(t)){if(!e(d)||t.length!==d.length)return!1;for(E=0;E<t.length;E++)if(t[E]!==d[E])return!1;return!0}try{var T=w(t),A=w(d)}catch(O){return!1}if(T.length!=A.length)return!1;for(T.sort(),A.sort(),E=T.length-1;E>=0;E--)if(T[E]!=A[E])return!1;for(E=T.length-1;E>=0;E--)if(D=T[E],!o(t[D],d[D],g))return!1;return typeof t==typeof d}(r,n,c))};function i(r){return r==null}function e(r){return!(!r||typeof r!="object"||typeof r.length!="number"||typeof r.copy!="function"||typeof r.slice!="function"||r.length>0&&typeof r[0]!="number")}},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=p(1),w=function(){function m(o,i,e){e===void 0&&(e={}),this.attrName=o,this.keyName=i;var r=f.Scope.TYPE&f.Scope.ATTRIBUTE;e.scope!=null?this.scope=e.scope&f.Scope.LEVEL|r:this.scope=f.Scope.ATTRIBUTE,e.whitelist!=null&&(this.whitelist=e.whitelist)}return m.keys=function(o){return[].map.call(o.attributes,function(i){return i.name})},m.prototype.add=function(o,i){return!!this.canAdd(o,i)&&(o.setAttribute(this.keyName,i),!0)},m.prototype.canAdd=function(o,i){return f.query(o,f.Scope.BLOT&(this.scope|f.Scope.TYPE))!=null&&(this.whitelist==null||(typeof i=="string"?this.whitelist.indexOf(i.replace(/["']/g,""))>-1:this.whitelist.indexOf(i)>-1))},m.prototype.remove=function(o){o.removeAttribute(this.keyName)},m.prototype.value=function(o){var i=o.getAttribute(this.keyName);return this.canAdd(o,i)&&i?i:""},m}();h.default=w},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.Code=void 0;var f=function(A,O){if(Array.isArray(A))return A;if(Symbol.iterator in Object(A))return function(N,U){var F=[],Y=!0,B=!1,te=void 0;try{for(var $,W=N[Symbol.iterator]();!(Y=($=W.next()).done)&&(F.push($.value),!U||F.length!==U);Y=!0);}catch(X){B=!0,te=X}finally{try{!Y&&W.return&&W.return()}finally{if(B)throw te}}return F}(A,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function T(A,O){for(var N=0;N<O.length;N++){var U=O[N];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(A,U.key,U)}}return function(A,O,N){return O&&T(A.prototype,O),N&&T(A,N),A}}(),m=function T(A,O,N){A===null&&(A=Function.prototype);var U=Object.getOwnPropertyDescriptor(A,O);if(U===void 0){var F=Object.getPrototypeOf(A);return F===null?void 0:T(F,O,N)}if("value"in U)return U.value;var Y=U.get;return Y!==void 0?Y.call(N):void 0},o=c(p(2)),i=c(p(0)),e=c(p(4)),r=c(p(6)),n=c(p(7));function c(T){return T&&T.__esModule?T:{default:T}}function t(T,A){if(!(T instanceof A))throw new TypeError("Cannot call a class as a function")}function d(T,A){if(!T)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!A||typeof A!="object"&&typeof A!="function"?T:A}function g(T,A){if(typeof A!="function"&&A!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof A);T.prototype=Object.create(A&&A.prototype,{constructor:{value:T,enumerable:!1,writable:!0,configurable:!0}}),A&&(Object.setPrototypeOf?Object.setPrototypeOf(T,A):T.__proto__=A)}var E=function(T){function A(){return t(this,A),d(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return g(A,T),A}(r.default);E.blotName="code",E.tagName="CODE";var D=function(T){function A(){return t(this,A),d(this,(A.__proto__||Object.getPrototypeOf(A)).apply(this,arguments))}return g(A,T),w(A,[{key:"delta",value:function(){var N=this,U=this.domNode.textContent;return U.endsWith(`
`)&&(U=U.slice(0,-1)),U.split(`
`).reduce(function(F,Y){return F.insert(Y).insert(`
`,N.formats())},new o.default)}},{key:"format",value:function(N,U){if(N!==this.statics.blotName||!U){var F=this.descendant(n.default,this.length()-1),Y=f(F,1)[0];Y!=null&&Y.deleteAt(Y.length()-1,1),m(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"format",this).call(this,N,U)}}},{key:"formatAt",value:function(N,U,F,Y){if(U!==0&&i.default.query(F,i.default.Scope.BLOCK)!=null&&(F!==this.statics.blotName||Y!==this.statics.formats(this.domNode))){var B=this.newlineIndex(N);if(!(B<0||B>=N+U)){var te=this.newlineIndex(N,!0)+1,$=B-te+1,W=this.isolate(te,$),X=W.next;W.format(F,Y),X instanceof A&&X.formatAt(0,N-te+U-$,F,Y)}}}},{key:"insertAt",value:function(N,U,F){if(F==null){var Y=this.descendant(n.default,N),B=f(Y,2),te=B[0],$=B[1];te.insertAt($,U)}}},{key:"length",value:function(){var N=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?N:N+1}},{key:"newlineIndex",value:function(N){var U=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(U)return this.domNode.textContent.slice(0,N).lastIndexOf(`
`);var F=this.domNode.textContent.slice(N).indexOf(`
`);return F>-1?N+F:-1}},{key:"optimize",value:function(N){this.domNode.textContent.endsWith(`
`)||this.appendChild(i.default.create("text",`
`)),m(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"optimize",this).call(this,N);var U=this.next;U!=null&&U.prev===this&&U.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===U.statics.formats(U.domNode)&&(U.optimize(N),U.moveChildren(this),U.remove())}},{key:"replace",value:function(N){m(A.prototype.__proto__||Object.getPrototypeOf(A.prototype),"replace",this).call(this,N),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(U){var F=i.default.find(U);F==null?U.parentNode.removeChild(U):F instanceof i.default.Embed?F.remove():F.unwrap()})}}],[{key:"create",value:function(N){var U=m(A.__proto__||Object.getPrototypeOf(A),"create",this).call(this,N);return U.setAttribute("spellcheck",!1),U}},{key:"formats",value:function(){return!0}}]),A}(e.default);D.blotName="code-block",D.tagName="PRE",D.TAB="  ",h.Code=E,h.default=D},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U},w=function(F,Y){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return function(B,te){var $=[],W=!0,X=!1,M=void 0;try{for(var K,H=B[Symbol.iterator]();!(W=(K=H.next()).done)&&($.push(K.value),!te||$.length!==te);W=!0);}catch(P){X=!0,M=P}finally{try{!W&&H.return&&H.return()}finally{if(X)throw M}}return $}(F,Y);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=function(){function U(F,Y){for(var B=0;B<Y.length;B++){var te=Y[B];te.enumerable=te.enumerable||!1,te.configurable=!0,"value"in te&&(te.writable=!0),Object.defineProperty(F,te.key,te)}}return function(F,Y,B){return Y&&U(F.prototype,Y),B&&U(F,B),F}}(),o=T(p(2)),i=T(p(20)),e=T(p(0)),r=T(p(13)),n=T(p(24)),c=p(4),t=T(c),d=T(p(16)),g=T(p(21)),E=T(p(11)),D=T(p(3));function T(U){return U&&U.__esModule?U:{default:U}}var A=/^[ -~]*$/,O=function(){function U(F){(function(Y,B){if(!(Y instanceof B))throw new TypeError("Cannot call a class as a function")})(this,U),this.scroll=F,this.delta=this.getDelta()}return m(U,[{key:"applyDelta",value:function(Y){var B=this,te=!1;this.scroll.update();var $=this.scroll.length();return this.scroll.batchStart(),(Y=function(W){return W.reduce(function(X,M){if(M.insert===1){var K=(0,g.default)(M.attributes);return delete K.image,X.insert({image:M.attributes.image},K)}if(M.attributes==null||M.attributes.list!==!0&&M.attributes.bullet!==!0||((M=(0,g.default)(M)).attributes.list?M.attributes.list="ordered":(M.attributes.list="bullet",delete M.attributes.bullet)),typeof M.insert=="string"){var H=M.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return X.insert(H,M.attributes)}return X.push(M)},new o.default)}(Y)).reduce(function(W,X){var M=X.retain||X.delete||X.insert.length||1,K=X.attributes||{};if(X.insert!=null){if(typeof X.insert=="string"){var H=X.insert;H.endsWith(`
`)&&te&&(te=!1,H=H.slice(0,-1)),W>=$&&!H.endsWith(`
`)&&(te=!0),B.scroll.insertAt(W,H);var P=B.scroll.line(W),ee=w(P,2),ue=ee[0],de=ee[1],pe=(0,D.default)({},(0,c.bubbleFormats)(ue));if(ue instanceof t.default){var fe=ue.descendant(e.default.Leaf,de),ne=w(fe,1)[0];pe=(0,D.default)(pe,(0,c.bubbleFormats)(ne))}K=i.default.attributes.diff(pe,K)||{}}else if(f(X.insert)==="object"){var he=Object.keys(X.insert)[0];if(he==null)return W;B.scroll.insertAt(W,he,X.insert[he])}$+=M}return Object.keys(K).forEach(function(le){B.scroll.formatAt(W,M,le,K[le])}),W+M},0),Y.reduce(function(W,X){return typeof X.delete=="number"?(B.scroll.deleteAt(W,X.delete),W):W+(X.retain||X.insert.length||1)},0),this.scroll.batchEnd(),this.update(Y)}},{key:"deleteText",value:function(Y,B){return this.scroll.deleteAt(Y,B),this.update(new o.default().retain(Y).delete(B))}},{key:"formatLine",value:function(Y,B){var te=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys($).forEach(function(W){if(te.scroll.whitelist==null||te.scroll.whitelist[W]){var X=te.scroll.lines(Y,Math.max(B,1)),M=B;X.forEach(function(K){var H=K.length();if(K instanceof r.default){var P=Y-K.offset(te.scroll),ee=K.newlineIndex(P+M)-P+1;K.formatAt(P,ee,W,$[W])}else K.format(W,$[W]);M-=H})}}),this.scroll.optimize(),this.update(new o.default().retain(Y).retain(B,(0,g.default)($)))}},{key:"formatText",value:function(Y,B){var te=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys($).forEach(function(W){te.scroll.formatAt(Y,B,W,$[W])}),this.update(new o.default().retain(Y).retain(B,(0,g.default)($)))}},{key:"getContents",value:function(Y,B){return this.delta.slice(Y,Y+B)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(Y,B){return Y.concat(B.delta())},new o.default)}},{key:"getFormat",value:function(Y){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,te=[],$=[];B===0?this.scroll.path(Y).forEach(function(X){var M=w(X,1)[0];M instanceof t.default?te.push(M):M instanceof e.default.Leaf&&$.push(M)}):(te=this.scroll.lines(Y,B),$=this.scroll.descendants(e.default.Leaf,Y,B));var W=[te,$].map(function(X){if(X.length===0)return{};for(var M=(0,c.bubbleFormats)(X.shift());Object.keys(M).length>0;){var K=X.shift();if(K==null)return M;M=N((0,c.bubbleFormats)(K),M)}return M});return D.default.apply(D.default,W)}},{key:"getText",value:function(Y,B){return this.getContents(Y,B).filter(function(te){return typeof te.insert=="string"}).map(function(te){return te.insert}).join("")}},{key:"insertEmbed",value:function(Y,B,te){return this.scroll.insertAt(Y,B,te),this.update(new o.default().retain(Y).insert(function($,W,X){return W in $?Object.defineProperty($,W,{value:X,enumerable:!0,configurable:!0,writable:!0}):$[W]=X,$}({},B,te)))}},{key:"insertText",value:function(Y,B){var te=this,$=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return B=B.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(Y,B),Object.keys($).forEach(function(W){te.scroll.formatAt(Y,B.length,W,$[W])}),this.update(new o.default().retain(Y).insert(B,(0,g.default)($)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var Y=this.scroll.children.head;return Y.statics.blotName===t.default.blotName&&!(Y.children.length>1)&&Y.children.head instanceof d.default}},{key:"removeFormat",value:function(Y,B){var te=this.getText(Y,B),$=this.scroll.line(Y+B),W=w($,2),X=W[0],M=W[1],K=0,H=new o.default;X!=null&&(K=X instanceof r.default?X.newlineIndex(M)-M+1:X.length()-M,H=X.delta().slice(M,M+K-1).insert(`
`));var P=this.getContents(Y,B+K).diff(new o.default().insert(te).concat(H)),ee=new o.default().retain(Y).concat(P);return this.applyDelta(ee)}},{key:"update",value:function(Y){var B=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],te=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,$=this.delta;if(B.length===1&&B[0].type==="characterData"&&B[0].target.data.match(A)&&e.default.find(B[0].target)){var W=e.default.find(B[0].target),X=(0,c.bubbleFormats)(W),M=W.offset(this.scroll),K=B[0].oldValue.replace(n.default.CONTENTS,""),H=new o.default().insert(K),P=new o.default().insert(W.value()),ee=new o.default().retain(M).concat(H.diff(P,te));Y=ee.reduce(function(ue,de){return de.insert?ue.insert(de.insert,X):ue.push(de)},new o.default),this.delta=$.compose(Y)}else this.delta=this.getDelta(),Y&&(0,E.default)($.compose(Y),this.delta)||(Y=$.diff(this.delta,te));return Y}}]),U}();function N(U,F){return Object.keys(F).reduce(function(Y,B){return U[B]==null||(F[B]===U[B]?Y[B]=F[B]:Array.isArray(F[B])?F[B].indexOf(U[B])<0&&(Y[B]=F[B].concat([U[B]])):Y[B]=[F[B],U[B]]),Y},{})}h.default=O},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.Range=void 0;var f=function(T,A){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return function(O,N){var U=[],F=!0,Y=!1,B=void 0;try{for(var te,$=O[Symbol.iterator]();!(F=(te=$.next()).done)&&(U.push(te.value),!N||U.length!==N);F=!0);}catch(W){Y=!0,B=W}finally{try{!F&&$.return&&$.return()}finally{if(Y)throw B}}return U}(T,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function D(T,A){for(var O=0;O<A.length;O++){var N=A[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(T,N.key,N)}}return function(T,A,O){return A&&D(T.prototype,A),O&&D(T,O),T}}(),m=r(p(0)),o=r(p(21)),i=r(p(11)),e=r(p(8));function r(D){return D&&D.__esModule?D:{default:D}}function n(D){if(Array.isArray(D)){for(var T=0,A=Array(D.length);T<D.length;T++)A[T]=D[T];return A}return Array.from(D)}function c(D,T){if(!(D instanceof T))throw new TypeError("Cannot call a class as a function")}var t=(0,r(p(10)).default)("quill:selection"),d=function D(T){var A=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;c(this,D),this.index=T,this.length=A},g=function(){function D(T,A){var O=this;c(this,D),this.emitter=A,this.scroll=T,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=m.default.create("cursor",this),this.lastRange=this.savedRange=new d(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){O.mouseDown||setTimeout(O.update.bind(O,e.default.sources.USER),1)}),this.emitter.on(e.default.events.EDITOR_CHANGE,function(N,U){N===e.default.events.TEXT_CHANGE&&U.length()>0&&O.update(e.default.sources.SILENT)}),this.emitter.on(e.default.events.SCROLL_BEFORE_UPDATE,function(){if(O.hasFocus()){var N=O.getNativeRange();N!=null&&N.start.node!==O.cursor.textNode&&O.emitter.once(e.default.events.SCROLL_UPDATE,function(){try{O.setNativeRange(N.start.node,N.start.offset,N.end.node,N.end.offset)}catch(U){}})}}),this.emitter.on(e.default.events.SCROLL_OPTIMIZE,function(N,U){if(U.range){var F=U.range,Y=F.startNode,B=F.startOffset,te=F.endNode,$=F.endOffset;O.setNativeRange(Y,B,te,$)}}),this.update(e.default.sources.SILENT)}return w(D,[{key:"handleComposition",value:function(){var A=this;this.root.addEventListener("compositionstart",function(){A.composing=!0}),this.root.addEventListener("compositionend",function(){if(A.composing=!1,A.cursor.parent){var O=A.cursor.restore();if(!O)return;setTimeout(function(){A.setNativeRange(O.startNode,O.startOffset,O.endNode,O.endOffset)},1)}})}},{key:"handleDragging",value:function(){var A=this;this.emitter.listenDOM("mousedown",document.body,function(){A.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){A.mouseDown=!1,A.update(e.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(A,O){if(this.scroll.whitelist==null||this.scroll.whitelist[A]){this.scroll.update();var N=this.getNativeRange();if(N!=null&&N.native.collapsed&&!m.default.query(A,m.default.Scope.BLOCK)){if(N.start.node!==this.cursor.textNode){var U=m.default.find(N.start.node,!1);if(U==null)return;if(U instanceof m.default.Leaf){var F=U.split(N.start.offset);U.parent.insertBefore(this.cursor,F)}else U.insertBefore(this.cursor,N.start.node);this.cursor.attach()}this.cursor.format(A,O),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(A){var O=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,N=this.scroll.length();A=Math.min(A,N-1),O=Math.min(A+O,N-1)-A;var U=void 0,F=this.scroll.leaf(A),Y=f(F,2),B=Y[0],te=Y[1];if(B==null)return null;var $=B.position(te,!0),W=f($,2);U=W[0],te=W[1];var X=document.createRange();if(O>0){X.setStart(U,te);var M=this.scroll.leaf(A+O),K=f(M,2);if(B=K[0],te=K[1],B==null)return null;var H=B.position(te,!0),P=f(H,2);return U=P[0],te=P[1],X.setEnd(U,te),X.getBoundingClientRect()}var ee="left",ue=void 0;return U instanceof Text?(te<U.data.length?(X.setStart(U,te),X.setEnd(U,te+1)):(X.setStart(U,te-1),X.setEnd(U,te),ee="right"),ue=X.getBoundingClientRect()):(ue=B.domNode.getBoundingClientRect(),te>0&&(ee="right")),{bottom:ue.top+ue.height,height:ue.height,left:ue[ee],right:ue[ee],top:ue.top,width:0}}},{key:"getNativeRange",value:function(){var A=document.getSelection();if(A==null||A.rangeCount<=0)return null;var O=A.getRangeAt(0);if(O==null)return null;var N=this.normalizeNative(O);return t.info("getNativeRange",N),N}},{key:"getRange",value:function(){var A=this.getNativeRange();return A==null?[null,null]:[this.normalizedToRange(A),A]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(A){var O=this,N=[[A.start.node,A.start.offset]];A.native.collapsed||N.push([A.end.node,A.end.offset]);var U=N.map(function(B){var te=f(B,2),$=te[0],W=te[1],X=m.default.find($,!0),M=X.offset(O.scroll);return W===0?M:X instanceof m.default.Container?M+X.length():M+X.index($,W)}),F=Math.min(Math.max.apply(Math,n(U)),this.scroll.length()-1),Y=Math.min.apply(Math,[F].concat(n(U)));return new d(Y,F-Y)}},{key:"normalizeNative",value:function(A){if(!E(this.root,A.startContainer)||!A.collapsed&&!E(this.root,A.endContainer))return null;var O={start:{node:A.startContainer,offset:A.startOffset},end:{node:A.endContainer,offset:A.endOffset},native:A};return[O.start,O.end].forEach(function(N){for(var U=N.node,F=N.offset;!(U instanceof Text)&&U.childNodes.length>0;)if(U.childNodes.length>F)U=U.childNodes[F],F=0;else{if(U.childNodes.length!==F)break;F=(U=U.lastChild)instanceof Text?U.data.length:U.childNodes.length+1}N.node=U,N.offset=F}),O}},{key:"rangeToNative",value:function(A){var O=this,N=A.collapsed?[A.index]:[A.index,A.index+A.length],U=[],F=this.scroll.length();return N.forEach(function(Y,B){Y=Math.min(F-1,Y);var te,$=O.scroll.leaf(Y),W=f($,2),X=W[0],M=W[1],K=X.position(M,B!==0),H=f(K,2);te=H[0],M=H[1],U.push(te,M)}),U.length<2&&(U=U.concat(U)),U}},{key:"scrollIntoView",value:function(A){var O=this.lastRange;if(O!=null){var N=this.getBounds(O.index,O.length);if(N!=null){var U=this.scroll.length()-1,F=this.scroll.line(Math.min(O.index,U)),Y=f(F,1)[0],B=Y;if(O.length>0){var te=this.scroll.line(Math.min(O.index+O.length,U));B=f(te,1)[0]}if(Y!=null&&B!=null){var $=A.getBoundingClientRect();N.top<$.top?A.scrollTop-=$.top-N.top:N.bottom>$.bottom&&(A.scrollTop+=N.bottom-$.bottom)}}}}},{key:"setNativeRange",value:function(A,O){var N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:A,U=arguments.length>3&&arguments[3]!==void 0?arguments[3]:O,F=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(t.info("setNativeRange",A,O,N,U),A==null||this.root.parentNode!=null&&A.parentNode!=null&&N.parentNode!=null){var Y=document.getSelection();if(Y!=null)if(A!=null){this.hasFocus()||this.root.focus();var B=(this.getNativeRange()||{}).native;if(B==null||F||A!==B.startContainer||O!==B.startOffset||N!==B.endContainer||U!==B.endOffset){A.tagName=="BR"&&(O=[].indexOf.call(A.parentNode.childNodes,A),A=A.parentNode),N.tagName=="BR"&&(U=[].indexOf.call(N.parentNode.childNodes,N),N=N.parentNode);var te=document.createRange();te.setStart(A,O),te.setEnd(N,U),Y.removeAllRanges(),Y.addRange(te)}}else Y.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(A){var O=arguments.length>1&&arguments[1]!==void 0&&arguments[1],N=arguments.length>2&&arguments[2]!==void 0?arguments[2]:e.default.sources.API;if(typeof O=="string"&&(N=O,O=!1),t.info("setRange",A),A!=null){var U=this.rangeToNative(A);this.setNativeRange.apply(this,n(U).concat([O]))}else this.setNativeRange(null);this.update(N)}},{key:"update",value:function(){var A=arguments.length>0&&arguments[0]!==void 0?arguments[0]:e.default.sources.USER,O=this.lastRange,N=this.getRange(),U=f(N,2),F=U[0],Y=U[1];if(this.lastRange=F,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,i.default)(O,this.lastRange)){var B;!this.composing&&Y!=null&&Y.native.collapsed&&Y.start.node!==this.cursor.textNode&&this.cursor.restore();var te,$=[e.default.events.SELECTION_CHANGE,(0,o.default)(this.lastRange),(0,o.default)(O),A];(B=this.emitter).emit.apply(B,[e.default.events.EDITOR_CHANGE].concat($)),A!==e.default.sources.SILENT&&(te=this.emitter).emit.apply(te,$)}}}]),D}();function E(D,T){try{T.parentNode}catch(A){return!1}return T instanceof Text&&(T=T.parentNode),D.contains(T)}h.Range=d,h.default=g},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function r(n,c){for(var t=0;t<c.length;t++){var d=c[t];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,c,t){return c&&r(n.prototype,c),t&&r(n,t),n}}(),m=function r(n,c,t){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,c);if(d===void 0){var g=Object.getPrototypeOf(n);return g===null?void 0:r(g,c,t)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(t):void 0};function o(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function i(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}var e=function(r){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(c,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);c.prototype=Object.create(t&&t.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(c,t):c.__proto__=t)}(n,r),w(n,[{key:"insertInto",value:function(t,d){t.children.length===0?m(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"insertInto",this).call(this,t,d):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),n}(((f=p(0))&&f.__esModule?f:{default:f}).default.Embed);e.blotName="break",e.tagName="BR",h.default=e},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,c){n.__proto__=c}||function(n,c){for(var t in c)c.hasOwnProperty(t)&&(n[t]=c[t])},function(n,c){function t(){this.constructor=n}f(n,c),n.prototype=c===null?Object.create(c):(t.prototype=c.prototype,new t)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(44),o=p(30),i=p(1),e=function(n){function c(t){var d=n.call(this,t)||this;return d.build(),d}return w(c,n),c.prototype.appendChild=function(t){this.insertBefore(t)},c.prototype.attach=function(){n.prototype.attach.call(this),this.children.forEach(function(t){t.attach()})},c.prototype.build=function(){var t=this;this.children=new m.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(d){try{var g=r(d);t.insertBefore(g,t.children.head||void 0)}catch(E){if(E instanceof i.ParchmentError)return;throw E}})},c.prototype.deleteAt=function(t,d){if(t===0&&d===this.length())return this.remove();this.children.forEachAt(t,d,function(g,E,D){g.deleteAt(E,D)})},c.prototype.descendant=function(t,d){var g=this.children.find(d),E=g[0],D=g[1];return t.blotName==null&&t(E)||t.blotName!=null&&E instanceof t?[E,D]:E instanceof c?E.descendant(t,D):[null,-1]},c.prototype.descendants=function(t,d,g){d===void 0&&(d=0),g===void 0&&(g=Number.MAX_VALUE);var E=[],D=g;return this.children.forEachAt(d,g,function(T,A,O){(t.blotName==null&&t(T)||t.blotName!=null&&T instanceof t)&&E.push(T),T instanceof c&&(E=E.concat(T.descendants(t,A,D))),D-=O}),E},c.prototype.detach=function(){this.children.forEach(function(t){t.detach()}),n.prototype.detach.call(this)},c.prototype.formatAt=function(t,d,g,E){this.children.forEachAt(t,d,function(D,T,A){D.formatAt(T,A,g,E)})},c.prototype.insertAt=function(t,d,g){var E=this.children.find(t),D=E[0],T=E[1];if(D)D.insertAt(T,d,g);else{var A=g==null?i.create("text",d):i.create(d,g);this.appendChild(A)}},c.prototype.insertBefore=function(t,d){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(g){return t instanceof g}))throw new i.ParchmentError("Cannot insert "+t.statics.blotName+" into "+this.statics.blotName);t.insertInto(this,d)},c.prototype.length=function(){return this.children.reduce(function(t,d){return t+d.length()},0)},c.prototype.moveChildren=function(t,d){this.children.forEach(function(g){t.insertBefore(g,d)})},c.prototype.optimize=function(t){if(n.prototype.optimize.call(this,t),this.children.length===0)if(this.statics.defaultChild!=null){var d=i.create(this.statics.defaultChild);this.appendChild(d),d.optimize(t)}else this.remove()},c.prototype.path=function(t,d){d===void 0&&(d=!1);var g=this.children.find(t,d),E=g[0],D=g[1],T=[[this,t]];return E instanceof c?T.concat(E.path(D,d)):(E!=null&&T.push([E,D]),T)},c.prototype.removeChild=function(t){this.children.remove(t)},c.prototype.replace=function(t){t instanceof c&&t.moveChildren(this),n.prototype.replace.call(this,t)},c.prototype.split=function(t,d){if(d===void 0&&(d=!1),!d){if(t===0)return this;if(t===this.length())return this.next}var g=this.clone();return this.parent.insertBefore(g,this.next),this.children.forEachAt(t,this.length(),function(E,D,T){E=E.split(D,d),g.appendChild(E)}),g},c.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},c.prototype.update=function(t,d){var g=this,E=[],D=[];t.forEach(function(T){T.target===g.domNode&&T.type==="childList"&&(E.push.apply(E,T.addedNodes),D.push.apply(D,T.removedNodes))}),D.forEach(function(T){if(!(T.parentNode!=null&&T.tagName!=="IFRAME"&&document.body.compareDocumentPosition(T)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var A=i.find(T);A!=null&&(A.domNode.parentNode!=null&&A.domNode.parentNode!==g.domNode||A.detach())}}),E.filter(function(T){return T.parentNode==g.domNode}).sort(function(T,A){return T===A?0:T.compareDocumentPosition(A)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(T){var A=null;T.nextSibling!=null&&(A=i.find(T.nextSibling));var O=r(T);O.next==A&&O.next!=null||(O.parent!=null&&O.parent.removeChild(g),g.insertBefore(O,A||void 0))})},c}(o.default);function r(n){var c=i.find(n);if(c==null)try{c=i.create(n)}catch(t){c=i.create(i.Scope.INLINE),[].slice.call(n.childNodes).forEach(function(d){c.domNode.appendChild(d)}),n.parentNode&&n.parentNode.replaceChild(c.domNode,n),c.attach()}return c}h.default=e},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,c){n.__proto__=c}||function(n,c){for(var t in c)c.hasOwnProperty(t)&&(n[t]=c[t])},function(n,c){function t(){this.constructor=n}f(n,c),n.prototype=c===null?Object.create(c):(t.prototype=c.prototype,new t)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(12),o=p(31),i=p(17),e=p(1),r=function(n){function c(t){var d=n.call(this,t)||this;return d.attributes=new o.default(d.domNode),d}return w(c,n),c.formats=function(t){return typeof this.tagName=="string"||(Array.isArray(this.tagName)?t.tagName.toLowerCase():void 0)},c.prototype.format=function(t,d){var g=e.query(t);g instanceof m.default?this.attributes.attribute(g,d):d&&(g==null||t===this.statics.blotName&&this.formats()[t]===d||this.replaceWith(t,d))},c.prototype.formats=function(){var t=this.attributes.values(),d=this.statics.formats(this.domNode);return d!=null&&(t[this.statics.blotName]=d),t},c.prototype.replaceWith=function(t,d){var g=n.prototype.replaceWith.call(this,t,d);return this.attributes.copy(g),g},c.prototype.update=function(t,d){var g=this;n.prototype.update.call(this,t,d),t.some(function(E){return E.target===g.domNode&&E.type==="attributes"})&&this.attributes.build()},c.prototype.wrap=function(t,d){var g=n.prototype.wrap.call(this,t,d);return g instanceof c&&g.statics.scope===this.statics.scope&&this.attributes.move(g),g},c}(i.default);h.default=r},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])},function(e,r){function n(){this.constructor=e}f(e,r),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(30),o=p(1),i=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return w(r,e),r.value=function(n){return!0},r.prototype.index=function(n,c){return this.domNode===n||this.domNode.compareDocumentPosition(n)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(c,1):-1},r.prototype.position=function(n,c){var t=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return n>0&&(t+=1),[this.parent.domNode,t]},r.prototype.value=function(){var n;return(n={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,n},r.scope=o.Scope.INLINE_BLOT,r}(m.default);h.default=i},function(_,h,p){var f=p(11),w=p(3),m={attributes:{compose:function(e,r,n){typeof e!="object"&&(e={}),typeof r!="object"&&(r={});var c=w(!0,{},r);for(var t in n||(c=Object.keys(c).reduce(function(d,g){return c[g]!=null&&(d[g]=c[g]),d},{})),e)e[t]!==void 0&&r[t]===void 0&&(c[t]=e[t]);return Object.keys(c).length>0?c:void 0},diff:function(e,r){typeof e!="object"&&(e={}),typeof r!="object"&&(r={});var n=Object.keys(e).concat(Object.keys(r)).reduce(function(c,t){return f(e[t],r[t])||(c[t]=r[t]===void 0?null:r[t]),c},{});return Object.keys(n).length>0?n:void 0},transform:function(e,r,n){if(typeof e!="object")return r;if(typeof r=="object"){if(!n)return r;var c=Object.keys(r).reduce(function(t,d){return e[d]===void 0&&(t[d]=r[d]),t},{});return Object.keys(c).length>0?c:void 0}}},iterator:function(e){return new o(e)},length:function(e){return typeof e.delete=="number"?e.delete:typeof e.retain=="number"?e.retain:typeof e.insert=="string"?e.insert.length:1}};function o(i){this.ops=i,this.index=0,this.offset=0}o.prototype.hasNext=function(){return this.peekLength()<1/0},o.prototype.next=function(i){i||(i=1/0);var e=this.ops[this.index];if(e){var r=this.offset,n=m.length(e);if(i>=n-r?(i=n-r,this.index+=1,this.offset=0):this.offset+=i,typeof e.delete=="number")return{delete:i};var c={};return e.attributes&&(c.attributes=e.attributes),typeof e.retain=="number"?c.retain=i:typeof e.insert=="string"?c.insert=e.insert.substr(r,i):c.insert=e.insert,c}return{retain:1/0}},o.prototype.peek=function(){return this.ops[this.index]},o.prototype.peekLength=function(){return this.ops[this.index]?m.length(this.ops[this.index])-this.offset:1/0},o.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},o.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,e=this.index,r=this.next(),n=this.ops.slice(this.index);return this.offset=i,this.index=e,[r].concat(n)}return[]},_.exports=m},function(_,h){var p=function(){"use strict";function f(n,c){return c!=null&&n instanceof c}var w,m,o;try{w=Map}catch(n){w=function(){}}try{m=Set}catch(n){m=function(){}}try{o=Promise}catch(n){o=function(){}}function i(n,c,t,d,g){typeof c=="object"&&(t=c.depth,d=c.prototype,g=c.includeNonEnumerable,c=c.circular);var E=[],D=[],T=typeof qe!="undefined";return c===void 0&&(c=!0),t===void 0&&(t=1/0),function A(O,N){if(O===null)return null;if(N===0)return O;var U,F;if(typeof O!="object")return O;if(f(O,w))U=new w;else if(f(O,m))U=new m;else if(f(O,o))U=new o(function(H,P){O.then(function(ee){H(A(ee,N-1))},function(ee){P(A(ee,N-1))})});else if(i.__isArray(O))U=[];else if(i.__isRegExp(O))U=new RegExp(O.source,r(O)),O.lastIndex&&(U.lastIndex=O.lastIndex);else if(i.__isDate(O))U=new Date(O.getTime());else{if(T&&qe.isBuffer(O))return U=qe.allocUnsafe?qe.allocUnsafe(O.length):new qe(O.length),O.copy(U),U;f(O,Error)?U=Object.create(O):d===void 0?(F=Object.getPrototypeOf(O),U=Object.create(F)):(U=Object.create(d),F=d)}if(c){var Y=E.indexOf(O);if(Y!=-1)return D[Y];E.push(O),D.push(U)}for(var B in f(O,w)&&O.forEach(function(H,P){var ee=A(P,N-1),ue=A(H,N-1);U.set(ee,ue)}),f(O,m)&&O.forEach(function(H){var P=A(H,N-1);U.add(P)}),O){var te;F&&(te=Object.getOwnPropertyDescriptor(F,B)),te&&te.set==null||(U[B]=A(O[B],N-1))}if(Object.getOwnPropertySymbols){var $=Object.getOwnPropertySymbols(O);for(B=0;B<$.length;B++){var W=$[B];(!(M=Object.getOwnPropertyDescriptor(O,W))||M.enumerable||g)&&(U[W]=A(O[W],N-1),M.enumerable||Object.defineProperty(U,W,{enumerable:!1}))}}if(g){var X=Object.getOwnPropertyNames(O);for(B=0;B<X.length;B++){var M,K=X[B];(M=Object.getOwnPropertyDescriptor(O,K))&&M.enumerable||(U[K]=A(O[K],N-1),Object.defineProperty(U,K,{enumerable:!1}))}}return U}(n,t)}function e(n){return Object.prototype.toString.call(n)}function r(n){var c="";return n.global&&(c+="g"),n.ignoreCase&&(c+="i"),n.multiline&&(c+="m"),c}return i.clonePrototype=function(n){if(n===null)return null;var c=function(){};return c.prototype=n,new c},i.__objToStr=e,i.__isDate=function(n){return typeof n=="object"&&e(n)==="[object Date]"},i.__isArray=function(n){return typeof n=="object"&&e(n)==="[object Array]"},i.__isRegExp=function(n){return typeof n=="object"&&e(n)==="[object RegExp]"},i.__getRegExpFlags=r,i}();typeof _=="object"&&_.exports&&(_.exports=p)},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(T,A){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return function(O,N){var U=[],F=!0,Y=!1,B=void 0;try{for(var te,$=O[Symbol.iterator]();!(F=(te=$.next()).done)&&(U.push(te.value),!N||U.length!==N);F=!0);}catch(W){Y=!0,B=W}finally{try{!F&&$.return&&$.return()}finally{if(Y)throw B}}return U}(T,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function D(T,A){for(var O=0;O<A.length;O++){var N=A[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(T,N.key,N)}}return function(T,A,O){return A&&D(T.prototype,A),O&&D(T,O),T}}(),m=function D(T,A,O){T===null&&(T=Function.prototype);var N=Object.getOwnPropertyDescriptor(T,A);if(N===void 0){var U=Object.getPrototypeOf(T);return U===null?void 0:D(U,A,O)}if("value"in N)return N.value;var F=N.get;return F!==void 0?F.call(O):void 0},o=d(p(0)),i=d(p(8)),e=p(4),r=d(e),n=d(p(16)),c=d(p(13)),t=d(p(25));function d(D){return D&&D.__esModule?D:{default:D}}function g(D){return D instanceof r.default||D instanceof e.BlockEmbed}var E=function(D){function T(A,O){(function(U,F){if(!(U instanceof F))throw new TypeError("Cannot call a class as a function")})(this,T);var N=function(U,F){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!F||typeof F!="object"&&typeof F!="function"?U:F}(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A));return N.emitter=O.emitter,Array.isArray(O.whitelist)&&(N.whitelist=O.whitelist.reduce(function(U,F){return U[F]=!0,U},{})),N.domNode.addEventListener("DOMNodeInserted",function(){}),N.optimize(),N.enable(),N}return function(A,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);A.prototype=Object.create(O&&O.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(A,O):A.__proto__=O)}(T,D),w(T,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(O,N){var U=this.line(O),F=f(U,2),Y=F[0],B=F[1],te=this.line(O+N),$=f(te,1)[0];if(m(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"deleteAt",this).call(this,O,N),$!=null&&Y!==$&&B>0){if(Y instanceof e.BlockEmbed||$ instanceof e.BlockEmbed)return void this.optimize();if(Y instanceof c.default){var W=Y.newlineIndex(Y.length(),!0);if(W>-1&&(Y=Y.split(W+1))===$)return void this.optimize()}else if($ instanceof c.default){var X=$.newlineIndex(0);X>-1&&$.split(X+1)}var M=$.children.head instanceof n.default?null:$.children.head;Y.moveChildren($,M),Y.remove()}this.optimize()}},{key:"enable",value:function(){var O=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",O)}},{key:"formatAt",value:function(O,N,U,F){(this.whitelist==null||this.whitelist[U])&&(m(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"formatAt",this).call(this,O,N,U,F),this.optimize())}},{key:"insertAt",value:function(O,N,U){if(U==null||this.whitelist==null||this.whitelist[N]){if(O>=this.length())if(U==null||o.default.query(N,o.default.Scope.BLOCK)==null){var F=o.default.create(this.statics.defaultChild);this.appendChild(F),U==null&&N.endsWith(`
`)&&(N=N.slice(0,-1)),F.insertAt(0,N,U)}else{var Y=o.default.create(N,U);this.appendChild(Y)}else m(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertAt",this).call(this,O,N,U);this.optimize()}}},{key:"insertBefore",value:function(O,N){if(O.statics.scope===o.default.Scope.INLINE_BLOT){var U=o.default.create(this.statics.defaultChild);U.appendChild(O),O=U}m(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"insertBefore",this).call(this,O,N)}},{key:"leaf",value:function(O){return this.path(O).pop()||[null,-1]}},{key:"line",value:function(O){return O===this.length()?this.line(O-1):this.descendant(g,O)}},{key:"lines",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE,U=function F(Y,B,te){var $=[],W=te;return Y.children.forEachAt(B,te,function(X,M,K){g(X)?$.push(X):X instanceof o.default.Container&&($=$.concat(F(X,M,W))),W-=K}),$};return U(this,O,N)}},{key:"optimize",value:function(){var O=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(m(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"optimize",this).call(this,O,N),O.length>0&&this.emitter.emit(i.default.events.SCROLL_OPTIMIZE,O,N))}},{key:"path",value:function(O){return m(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"path",this).call(this,O).slice(1)}},{key:"update",value:function(O){if(this.batch!==!0){var N=i.default.sources.USER;typeof O=="string"&&(N=O),Array.isArray(O)||(O=this.observer.takeRecords()),O.length>0&&this.emitter.emit(i.default.events.SCROLL_BEFORE_UPDATE,N,O),m(T.prototype.__proto__||Object.getPrototypeOf(T.prototype),"update",this).call(this,O.concat([])),O.length>0&&this.emitter.emit(i.default.events.SCROLL_UPDATE,N,O)}}}]),T}(o.default.Scroll);E.blotName="scroll",E.className="ql-editor",E.tagName="DIV",E.defaultChild="block",E.allowedChildren=[r.default,e.BlockEmbed,t.default],h.default=E},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SHORTKEY=h.default=void 0;var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(X){return typeof X}:function(X){return X&&typeof Symbol=="function"&&X.constructor===Symbol&&X!==Symbol.prototype?"symbol":typeof X},w=function(M,K){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return function(H,P){var ee=[],ue=!0,de=!1,pe=void 0;try{for(var fe,ne=H[Symbol.iterator]();!(ue=(fe=ne.next()).done)&&(ee.push(fe.value),!P||ee.length!==P);ue=!0);}catch(he){de=!0,pe=he}finally{try{!ue&&ne.return&&ne.return()}finally{if(de)throw pe}}return ee}(M,K);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=function(){function X(M,K){for(var H=0;H<K.length;H++){var P=K[H];P.enumerable=P.enumerable||!1,P.configurable=!0,"value"in P&&(P.writable=!0),Object.defineProperty(M,P.key,P)}}return function(M,K,H){return K&&X(M.prototype,K),H&&X(M,H),M}}(),o=E(p(21)),i=E(p(11)),e=E(p(3)),r=E(p(2)),n=E(p(20)),c=E(p(0)),t=E(p(5)),d=E(p(10)),g=E(p(9));function E(X){return X&&X.__esModule?X:{default:X}}function D(X,M,K){return M in X?Object.defineProperty(X,M,{value:K,enumerable:!0,configurable:!0,writable:!0}):X[M]=K,X}var T=(0,d.default)("quill:keyboard"),A=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",O=function(X){function M(K,H){(function(ee,ue){if(!(ee instanceof ue))throw new TypeError("Cannot call a class as a function")})(this,M);var P=function(ee,ue){if(!ee)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ue||typeof ue!="object"&&typeof ue!="function"?ee:ue}(this,(M.__proto__||Object.getPrototypeOf(M)).call(this,K,H));return P.bindings={},Object.keys(P.options.bindings).forEach(function(ee){(ee!=="list autofill"||K.scroll.whitelist==null||K.scroll.whitelist.list)&&P.options.bindings[ee]&&P.addBinding(P.options.bindings[ee])}),P.addBinding({key:M.keys.ENTER,shiftKey:null},B),P.addBinding({key:M.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(P.addBinding({key:M.keys.BACKSPACE},{collapsed:!0},U),P.addBinding({key:M.keys.DELETE},{collapsed:!0},F)):(P.addBinding({key:M.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},U),P.addBinding({key:M.keys.DELETE},{collapsed:!0,suffix:/^.?$/},F)),P.addBinding({key:M.keys.BACKSPACE},{collapsed:!1},Y),P.addBinding({key:M.keys.DELETE},{collapsed:!1},Y),P.addBinding({key:M.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},U),P.listen(),P}return function(K,H){if(typeof H!="function"&&H!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof H);K.prototype=Object.create(H&&H.prototype,{constructor:{value:K,enumerable:!1,writable:!0,configurable:!0}}),H&&(Object.setPrototypeOf?Object.setPrototypeOf(K,H):K.__proto__=H)}(M,X),m(M,null,[{key:"match",value:function(H,P){return P=W(P),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(ee){return!!P[ee]!==H[ee]&&P[ee]!==null})&&P.key===(H.which||H.keyCode)}}]),m(M,[{key:"addBinding",value:function(H){var P=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},ee=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},ue=W(H);if(ue==null||ue.key==null)return T.warn("Attempted to add invalid keyboard binding",ue);typeof P=="function"&&(P={handler:P}),typeof ee=="function"&&(ee={handler:ee}),ue=(0,e.default)(ue,P,ee),this.bindings[ue.key]=this.bindings[ue.key]||[],this.bindings[ue.key].push(ue)}},{key:"listen",value:function(){var H=this;this.quill.root.addEventListener("keydown",function(P){if(!P.defaultPrevented){var ee=P.which||P.keyCode,ue=(H.bindings[ee]||[]).filter(function(oe){return M.match(P,oe)});if(ue.length!==0){var de=H.quill.getSelection();if(de!=null&&H.quill.hasFocus()){var pe=H.quill.getLine(de.index),fe=w(pe,2),ne=fe[0],he=fe[1],le=H.quill.getLeaf(de.index),Ee=w(le,2),Se=Ee[0],Le=Ee[1],z=de.length===0?[Se,Le]:H.quill.getLeaf(de.index+de.length),ge=w(z,2),Z=ge[0],k=ge[1],I=Se instanceof c.default.Text?Se.value().slice(0,Le):"",q=Z instanceof c.default.Text?Z.value().slice(k):"",G={collapsed:de.length===0,empty:de.length===0&&ne.length()<=1,format:H.quill.getFormat(de),offset:he,prefix:I,suffix:q};ue.some(function(oe){if(oe.collapsed!=null&&oe.collapsed!==G.collapsed||oe.empty!=null&&oe.empty!==G.empty||oe.offset!=null&&oe.offset!==G.offset)return!1;if(Array.isArray(oe.format)){if(oe.format.every(function(ae){return G.format[ae]==null}))return!1}else if(f(oe.format)==="object"&&!Object.keys(oe.format).every(function(ae){return oe.format[ae]===!0?G.format[ae]!=null:oe.format[ae]===!1?G.format[ae]==null:(0,i.default)(oe.format[ae],G.format[ae])}))return!1;return!(oe.prefix!=null&&!oe.prefix.test(G.prefix)||oe.suffix!=null&&!oe.suffix.test(G.suffix)||oe.handler.call(H,de,G)===!0)})&&P.preventDefault()}}}})}}]),M}(g.default);function N(X,M){var K,H=X===O.keys.LEFT?"prefix":"suffix";return D(K={key:X,shiftKey:M,altKey:null},H,/^$/),D(K,"handler",function(P){var ee=P.index;X===O.keys.RIGHT&&(ee+=P.length+1);var ue=this.quill.getLeaf(ee);return!(w(ue,1)[0]instanceof c.default.Embed&&(X===O.keys.LEFT?M?this.quill.setSelection(P.index-1,P.length+1,t.default.sources.USER):this.quill.setSelection(P.index-1,t.default.sources.USER):M?this.quill.setSelection(P.index,P.length+1,t.default.sources.USER):this.quill.setSelection(P.index+P.length+1,t.default.sources.USER),1))}),K}function U(X,M){if(!(X.index===0||this.quill.getLength()<=1)){var K=this.quill.getLine(X.index),H=w(K,1)[0],P={};if(M.offset===0){var ee=this.quill.getLine(X.index-1),ue=w(ee,1)[0];if(ue!=null&&ue.length()>1){var de=H.formats(),pe=this.quill.getFormat(X.index-1,1);P=n.default.attributes.diff(de,pe)||{}}}var fe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(M.prefix)?2:1;this.quill.deleteText(X.index-fe,fe,t.default.sources.USER),Object.keys(P).length>0&&this.quill.formatLine(X.index-fe,fe,P,t.default.sources.USER),this.quill.focus()}}function F(X,M){var K=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(M.suffix)?2:1;if(!(X.index>=this.quill.getLength()-K)){var H={},P=0,ee=this.quill.getLine(X.index),ue=w(ee,1)[0];if(M.offset>=ue.length()-1){var de=this.quill.getLine(X.index+1),pe=w(de,1)[0];if(pe){var fe=ue.formats(),ne=this.quill.getFormat(X.index,1);H=n.default.attributes.diff(fe,ne)||{},P=pe.length()}}this.quill.deleteText(X.index,K,t.default.sources.USER),Object.keys(H).length>0&&this.quill.formatLine(X.index+P-1,K,H,t.default.sources.USER)}}function Y(X){var M=this.quill.getLines(X),K={};if(M.length>1){var H=M[0].formats(),P=M[M.length-1].formats();K=n.default.attributes.diff(P,H)||{}}this.quill.deleteText(X,t.default.sources.USER),Object.keys(K).length>0&&this.quill.formatLine(X.index,1,K,t.default.sources.USER),this.quill.setSelection(X.index,t.default.sources.SILENT),this.quill.focus()}function B(X,M){var K=this;X.length>0&&this.quill.scroll.deleteAt(X.index,X.length);var H=Object.keys(M.format).reduce(function(P,ee){return c.default.query(ee,c.default.Scope.BLOCK)&&!Array.isArray(M.format[ee])&&(P[ee]=M.format[ee]),P},{});this.quill.insertText(X.index,`
`,H,t.default.sources.USER),this.quill.setSelection(X.index+1,t.default.sources.SILENT),this.quill.focus(),Object.keys(M.format).forEach(function(P){H[P]==null&&(Array.isArray(M.format[P])||P!=="link"&&K.quill.format(P,M.format[P],t.default.sources.USER))})}function te(X){return{key:O.keys.TAB,shiftKey:!X,format:{"code-block":!0},handler:function(K){var H=c.default.query("code-block"),P=K.index,ee=K.length,ue=this.quill.scroll.descendant(H,P),de=w(ue,2),pe=de[0],fe=de[1];if(pe!=null){var ne=this.quill.getIndex(pe),he=pe.newlineIndex(fe,!0)+1,le=pe.newlineIndex(ne+fe+ee),Ee=pe.domNode.textContent.slice(he,le).split(`
`);fe=0,Ee.forEach(function(Se,Le){X?(pe.insertAt(he+fe,H.TAB),fe+=H.TAB.length,Le===0?P+=H.TAB.length:ee+=H.TAB.length):Se.startsWith(H.TAB)&&(pe.deleteAt(he+fe,H.TAB.length),fe-=H.TAB.length,Le===0?P-=H.TAB.length:ee-=H.TAB.length),fe+=Se.length+1}),this.quill.update(t.default.sources.USER),this.quill.setSelection(P,ee,t.default.sources.SILENT)}}}}function $(X){return{key:X[0].toUpperCase(),shortKey:!0,handler:function(K,H){this.quill.format(X,!H.format[X],t.default.sources.USER)}}}function W(X){if(typeof X=="string"||typeof X=="number")return W({key:X});if((X===void 0?"undefined":f(X))==="object"&&(X=(0,o.default)(X,!1)),typeof X.key=="string")if(O.keys[X.key.toUpperCase()]!=null)X.key=O.keys[X.key.toUpperCase()];else{if(X.key.length!==1)return null;X.key=X.key.toUpperCase().charCodeAt(0)}return X.shortKey&&(X[A]=X.shortKey,delete X.shortKey),X}O.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},O.DEFAULTS={bindings:{bold:$("bold"),italic:$("italic"),underline:$("underline"),indent:{key:O.keys.TAB,format:["blockquote","indent","list"],handler:function(M,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","+1",t.default.sources.USER)}},outdent:{key:O.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(M,K){if(K.collapsed&&K.offset!==0)return!0;this.quill.format("indent","-1",t.default.sources.USER)}},"outdent backspace":{key:O.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(M,K){K.format.indent!=null?this.quill.format("indent","-1",t.default.sources.USER):K.format.list!=null&&this.quill.format("list",!1,t.default.sources.USER)}},"indent code-block":te(!0),"outdent code-block":te(!1),"remove tab":{key:O.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(M){this.quill.deleteText(M.index-1,1,t.default.sources.USER)}},tab:{key:O.keys.TAB,handler:function(M){this.quill.history.cutoff();var K=new r.default().retain(M.index).delete(M.length).insert("	");this.quill.updateContents(K,t.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(M.index+1,t.default.sources.SILENT)}},"list empty enter":{key:O.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(M,K){this.quill.format("list",!1,t.default.sources.USER),K.format.indent&&this.quill.format("indent",!1,t.default.sources.USER)}},"checklist enter":{key:O.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(M){var K=this.quill.getLine(M.index),H=w(K,2),P=H[0],ee=H[1],ue=(0,e.default)({},P.formats(),{list:"checked"}),de=new r.default().retain(M.index).insert(`
`,ue).retain(P.length()-ee-1).retain(1,{list:"unchecked"});this.quill.updateContents(de,t.default.sources.USER),this.quill.setSelection(M.index+1,t.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:O.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(M,K){var H=this.quill.getLine(M.index),P=w(H,2),ee=P[0],ue=P[1],de=new r.default().retain(M.index).insert(`
`,K.format).retain(ee.length()-ue-1).retain(1,{header:null});this.quill.updateContents(de,t.default.sources.USER),this.quill.setSelection(M.index+1,t.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(M,K){var H=K.prefix.length,P=this.quill.getLine(M.index),ee=w(P,2),ue=ee[0],de=ee[1];if(de>H)return!0;var pe=void 0;switch(K.prefix.trim()){case"[]":case"[ ]":pe="unchecked";break;case"[x]":pe="checked";break;case"-":case"*":pe="bullet";break;default:pe="ordered"}this.quill.insertText(M.index," ",t.default.sources.USER),this.quill.history.cutoff();var fe=new r.default().retain(M.index-de).delete(H+1).retain(ue.length()-2-de).retain(1,{list:pe});this.quill.updateContents(fe,t.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(M.index-H,t.default.sources.SILENT)}},"code exit":{key:O.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(M){var K=this.quill.getLine(M.index),H=w(K,2),P=H[0],ee=H[1],ue=new r.default().retain(M.index+P.length()-ee-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(ue,t.default.sources.USER)}},"embed left":N(O.keys.LEFT,!1),"embed left shift":N(O.keys.LEFT,!0),"embed right":N(O.keys.RIGHT,!1),"embed right shift":N(O.keys.RIGHT,!0)}},h.default=O,h.SHORTKEY=A},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function r(n,c,t){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,c);if(d===void 0){var g=Object.getPrototypeOf(n);return g===null?void 0:r(g,c,t)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(t):void 0},w=function(){function r(n,c){for(var t=0;t<c.length;t++){var d=c[t];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,c,t){return c&&r(n.prototype,c),t&&r(n,t),n}}(),m=i(p(0)),o=i(p(7));function i(r){return r&&r.__esModule?r:{default:r}}var e=function(r){function n(c,t){(function(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")})(this,n);var d=function(g,E){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?g:E}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,c));return d.selection=t,d.textNode=document.createTextNode(n.CONTENTS),d.domNode.appendChild(d.textNode),d._length=0,d}return function(c,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);c.prototype=Object.create(t&&t.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(c,t):c.__proto__=t)}(n,r),w(n,null,[{key:"value",value:function(){}}]),w(n,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(t,d){if(this._length!==0)return f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"format",this).call(this,t,d);for(var g=this,E=0;g!=null&&g.statics.scope!==m.default.Scope.BLOCK_BLOT;)E+=g.offset(g.parent),g=g.parent;g!=null&&(this._length=n.CONTENTS.length,g.optimize(),g.formatAt(E,n.CONTENTS.length,t,d),this._length=0)}},{key:"index",value:function(t,d){return t===this.textNode?0:f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"index",this).call(this,t,d)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){f(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&this.parent!=null){var t=this.textNode,d=this.selection.getNativeRange(),g=void 0,E=void 0,D=void 0;if(d!=null&&d.start.node===t&&d.end.node===t){var T=[t,d.start.offset,d.end.offset];g=T[0],E=T[1],D=T[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==n.CONTENTS){var A=this.textNode.data.split(n.CONTENTS).join("");this.next instanceof o.default?(g=this.next.domNode,this.next.insertAt(0,A),this.textNode.data=n.CONTENTS):(this.textNode.data=A,this.parent.insertBefore(m.default.create(this.textNode),this),this.textNode=document.createTextNode(n.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),E!=null){var O=function(N,U){if(Array.isArray(N))return N;if(Symbol.iterator in Object(N))return function(F,Y){var B=[],te=!0,$=!1,W=void 0;try{for(var X,M=F[Symbol.iterator]();!(te=(X=M.next()).done)&&(B.push(X.value),!Y||B.length!==Y);te=!0);}catch(K){$=!0,W=K}finally{try{!te&&M.return&&M.return()}finally{if($)throw W}}return B}(N,U);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([E,D].map(function(N){return Math.max(0,Math.min(g.data.length,N-1))}),2);return E=O[0],D=O[1],{startNode:g,startOffset:E,endNode:g,endOffset:D}}}}},{key:"update",value:function(t,d){var g=this;if(t.some(function(D){return D.type==="characterData"&&D.target===g.textNode})){var E=this.restore();E&&(d.range=E)}}},{key:"value",value:function(){return""}}]),n}(m.default.Embed);e.blotName="cursor",e.className="ql-cursor",e.tagName="span",e.CONTENTS="\uFEFF",h.default=e},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=o(p(0)),w=p(4),m=o(w);function o(n){return n&&n.__esModule?n:{default:n}}function i(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")}function e(n,c){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?n:c}var r=function(n){function c(){return i(this,c),e(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return function(t,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);t.prototype=Object.create(d&&d.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(t,d):t.__proto__=d)}(c,n),c}(f.default.Container);r.allowedChildren=[m.default,w.BlockEmbed,r],h.default=r},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.ColorStyle=h.ColorClass=h.ColorAttributor=void 0;var f,w=function(){function t(d,g){for(var E=0;E<g.length;E++){var D=g[E];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(d,D.key,D)}}return function(d,g,E){return g&&t(d.prototype,g),E&&t(d,E),d}}(),m=function t(d,g,E){d===null&&(d=Function.prototype);var D=Object.getOwnPropertyDescriptor(d,g);if(D===void 0){var T=Object.getPrototypeOf(d);return T===null?void 0:t(T,g,E)}if("value"in D)return D.value;var A=D.get;return A!==void 0?A.call(E):void 0},o=(f=p(0))&&f.__esModule?f:{default:f};function i(t,d){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")}function e(t,d){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?t:d}var r=function(t){function d(){return i(this,d),e(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return function(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);g.prototype=Object.create(E&&E.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(g,E):g.__proto__=E)}(d,t),w(d,[{key:"value",value:function(E){var D=m(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"value",this).call(this,E);return D.startsWith("rgb(")?"#"+(D=D.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(T){return("00"+parseInt(T).toString(16)).slice(-2)}).join(""):D}}]),d}(o.default.Attributor.Style),n=new o.default.Attributor.Class("color","ql-color",{scope:o.default.Scope.INLINE}),c=new r("color","color",{scope:o.default.Scope.INLINE});h.ColorAttributor=r,h.ColorClass=n,h.ColorStyle=c},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.sanitize=h.default=void 0;var f,w=function(){function n(c,t){for(var d=0;d<t.length;d++){var g=t[d];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}return function(c,t,d){return t&&n(c.prototype,t),d&&n(c,d),c}}(),m=function n(c,t,d){c===null&&(c=Function.prototype);var g=Object.getOwnPropertyDescriptor(c,t);if(g===void 0){var E=Object.getPrototypeOf(c);return E===null?void 0:n(E,t,d)}if("value"in g)return g.value;var D=g.get;return D!==void 0?D.call(d):void 0};function o(n,c){if(!(n instanceof c))throw new TypeError("Cannot call a class as a function")}function i(n,c){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?n:c}var e=function(n){function c(){return o(this,c),i(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return function(t,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);t.prototype=Object.create(d&&d.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(t,d):t.__proto__=d)}(c,n),w(c,[{key:"format",value:function(d,g){if(d!==this.statics.blotName||!g)return m(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"format",this).call(this,d,g);g=this.constructor.sanitize(g),this.domNode.setAttribute("href",g)}}],[{key:"create",value:function(d){var g=m(c.__proto__||Object.getPrototypeOf(c),"create",this).call(this,d);return d=this.sanitize(d),g.setAttribute("href",d),g.setAttribute("rel","noopener noreferrer"),g.setAttribute("target","_blank"),g}},{key:"formats",value:function(d){return d.getAttribute("href")}},{key:"sanitize",value:function(d){return r(d,this.PROTOCOL_WHITELIST)?d:this.SANITIZED_URL}}]),c}(((f=p(6))&&f.__esModule?f:{default:f}).default);function r(n,c){var t=document.createElement("a");t.href=n;var d=t.href.slice(0,t.href.indexOf(":"));return c.indexOf(d)>-1}e.blotName="link",e.tagName="A",e.SANITIZED_URL="about:blank",e.PROTOCOL_WHITELIST=["http","https","mailto","tel"],h.default=e,h.sanitize=r},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(c){return typeof c}:function(c){return c&&typeof Symbol=="function"&&c.constructor===Symbol&&c!==Symbol.prototype?"symbol":typeof c},w=function(){function c(t,d){for(var g=0;g<d.length;g++){var E=d[g];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(t,E.key,E)}}return function(t,d,g){return d&&c(t.prototype,d),g&&c(t,g),t}}(),m=i(p(23)),o=i(p(107));function i(c){return c&&c.__esModule?c:{default:c}}var e=0;function r(c,t){c.setAttribute(t,c.getAttribute(t)!=="true")}var n=function(){function c(t){var d=this;(function(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")})(this,c),this.select=t,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){d.togglePicker()}),this.label.addEventListener("keydown",function(g){switch(g.keyCode){case m.default.keys.ENTER:d.togglePicker();break;case m.default.keys.ESCAPE:d.escape(),g.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return w(c,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),r(this.label,"aria-expanded"),r(this.options,"aria-hidden")}},{key:"buildItem",value:function(d){var g=this,E=document.createElement("span");return E.tabIndex="0",E.setAttribute("role","button"),E.classList.add("ql-picker-item"),d.hasAttribute("value")&&E.setAttribute("data-value",d.getAttribute("value")),d.textContent&&E.setAttribute("data-label",d.textContent),E.addEventListener("click",function(){g.selectItem(E,!0)}),E.addEventListener("keydown",function(D){switch(D.keyCode){case m.default.keys.ENTER:g.selectItem(E,!0),D.preventDefault();break;case m.default.keys.ESCAPE:g.escape(),D.preventDefault()}}),E}},{key:"buildLabel",value:function(){var d=document.createElement("span");return d.classList.add("ql-picker-label"),d.innerHTML=o.default,d.tabIndex="0",d.setAttribute("role","button"),d.setAttribute("aria-expanded","false"),this.container.appendChild(d),d}},{key:"buildOptions",value:function(){var d=this,g=document.createElement("span");g.classList.add("ql-picker-options"),g.setAttribute("aria-hidden","true"),g.tabIndex="-1",g.id="ql-picker-options-"+e,e+=1,this.label.setAttribute("aria-controls",g.id),this.options=g,[].slice.call(this.select.options).forEach(function(E){var D=d.buildItem(E);g.appendChild(D),E.selected===!0&&d.selectItem(D)}),this.container.appendChild(g)}},{key:"buildPicker",value:function(){var d=this;[].slice.call(this.select.attributes).forEach(function(g){d.container.setAttribute(g.name,g.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var d=this;this.close(),setTimeout(function(){return d.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(d){var g=arguments.length>1&&arguments[1]!==void 0&&arguments[1],E=this.container.querySelector(".ql-selected");if(d!==E&&(E!=null&&E.classList.remove("ql-selected"),d!=null&&(d.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(d.parentNode.children,d),d.hasAttribute("data-value")?this.label.setAttribute("data-value",d.getAttribute("data-value")):this.label.removeAttribute("data-value"),d.hasAttribute("data-label")?this.label.setAttribute("data-label",d.getAttribute("data-label")):this.label.removeAttribute("data-label"),g))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event=="undefined"?"undefined":f(Event))==="object"){var D=document.createEvent("Event");D.initEvent("change",!0,!0),this.select.dispatchEvent(D)}this.close()}}},{key:"update",value:function(){var d=void 0;if(this.select.selectedIndex>-1){var g=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];d=this.select.options[this.select.selectedIndex],this.selectItem(g)}else this.selectItem(null);var E=d!=null&&d!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",E)}}]),c}();h.default=n},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=T(p(0)),w=T(p(5)),m=p(4),o=T(m),i=T(p(16)),e=T(p(25)),r=T(p(24)),n=T(p(35)),c=T(p(6)),t=T(p(22)),d=T(p(7)),g=T(p(55)),E=T(p(42)),D=T(p(23));function T(A){return A&&A.__esModule?A:{default:A}}w.default.register({"blots/block":o.default,"blots/block/embed":m.BlockEmbed,"blots/break":i.default,"blots/container":e.default,"blots/cursor":r.default,"blots/embed":n.default,"blots/inline":c.default,"blots/scroll":t.default,"blots/text":d.default,"modules/clipboard":g.default,"modules/history":E.default,"modules/keyboard":D.default}),f.default.register(o.default,i.default,r.default,c.default,t.default,d.default),h.default=w.default},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=p(1),w=function(){function m(o){this.domNode=o,this.domNode[f.DATA_KEY]={blot:this}}return Object.defineProperty(m.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),m.create=function(o){if(this.tagName==null)throw new f.ParchmentError("Blot definition missing tagName");var i;return Array.isArray(this.tagName)?(typeof o=="string"&&(o=o.toUpperCase(),parseInt(o).toString()===o&&(o=parseInt(o))),i=typeof o=="number"?document.createElement(this.tagName[o-1]):this.tagName.indexOf(o)>-1?document.createElement(o):document.createElement(this.tagName[0])):i=document.createElement(this.tagName),this.className&&i.classList.add(this.className),i},m.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},m.prototype.clone=function(){var o=this.domNode.cloneNode(!1);return f.create(o)},m.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[f.DATA_KEY]},m.prototype.deleteAt=function(o,i){this.isolate(o,i).remove()},m.prototype.formatAt=function(o,i,e,r){var n=this.isolate(o,i);if(f.query(e,f.Scope.BLOT)!=null&&r)n.wrap(e,r);else if(f.query(e,f.Scope.ATTRIBUTE)!=null){var c=f.create(this.statics.scope);n.wrap(c),c.format(e,r)}},m.prototype.insertAt=function(o,i,e){var r=e==null?f.create("text",i):f.create(i,e),n=this.split(o);this.parent.insertBefore(r,n)},m.prototype.insertInto=function(o,i){i===void 0&&(i=null),this.parent!=null&&this.parent.children.remove(this);var e=null;o.children.insertBefore(this,i),i!=null&&(e=i.domNode),this.domNode.parentNode==o.domNode&&this.domNode.nextSibling==e||o.domNode.insertBefore(this.domNode,e),this.parent=o,this.attach()},m.prototype.isolate=function(o,i){var e=this.split(o);return e.split(i),e},m.prototype.length=function(){return 1},m.prototype.offset=function(o){return o===void 0&&(o=this.parent),this.parent==null||this==o?0:this.parent.children.offset(this)+this.parent.offset(o)},m.prototype.optimize=function(o){this.domNode[f.DATA_KEY]!=null&&delete this.domNode[f.DATA_KEY].mutations},m.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},m.prototype.replace=function(o){o.parent!=null&&(o.parent.insertBefore(this,o.next),o.remove())},m.prototype.replaceWith=function(o,i){var e=typeof o=="string"?f.create(o,i):o;return e.replace(this),e},m.prototype.split=function(o,i){return o===0?this:this.next},m.prototype.update=function(o,i){},m.prototype.wrap=function(o,i){var e=typeof o=="string"?f.create(o,i):o;return this.parent!=null&&this.parent.insertBefore(e,this.next),e.appendChild(this),e},m.blotName="abstract",m}();h.default=w},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=p(12),w=p(32),m=p(33),o=p(1),i=function(){function e(r){this.attributes={},this.domNode=r,this.build()}return e.prototype.attribute=function(r,n){n?r.add(this.domNode,n)&&(r.value(this.domNode)!=null?this.attributes[r.attrName]=r:delete this.attributes[r.attrName]):(r.remove(this.domNode),delete this.attributes[r.attrName])},e.prototype.build=function(){var r=this;this.attributes={};var n=f.default.keys(this.domNode),c=w.default.keys(this.domNode),t=m.default.keys(this.domNode);n.concat(c).concat(t).forEach(function(d){var g=o.query(d,o.Scope.ATTRIBUTE);g instanceof f.default&&(r.attributes[g.attrName]=g)})},e.prototype.copy=function(r){var n=this;Object.keys(this.attributes).forEach(function(c){var t=n.attributes[c].value(n.domNode);r.format(c,t)})},e.prototype.move=function(r){var n=this;this.copy(r),Object.keys(this.attributes).forEach(function(c){n.attributes[c].remove(n.domNode)}),this.attributes={}},e.prototype.values=function(){var r=this;return Object.keys(this.attributes).reduce(function(n,c){return n[c]=r.attributes[c].value(r.domNode),n},{})},e}();h.default=i},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r])},function(i,e){function r(){this.constructor=i}f(i,e),i.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)});function m(i,e){return(i.getAttribute("class")||"").split(/\s+/).filter(function(r){return r.indexOf(e+"-")===0})}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return w(e,i),e.keys=function(r){return(r.getAttribute("class")||"").split(/\s+/).map(function(n){return n.split("-").slice(0,-1).join("-")})},e.prototype.add=function(r,n){return!!this.canAdd(r,n)&&(this.remove(r),r.classList.add(this.keyName+"-"+n),!0)},e.prototype.remove=function(r){m(r,this.keyName).forEach(function(n){r.classList.remove(n)}),r.classList.length===0&&r.removeAttribute("class")},e.prototype.value=function(r){var n=(m(r,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(r,n)?n:""},e}(p(12).default);h.default=o},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,e){i.__proto__=e}||function(i,e){for(var r in e)e.hasOwnProperty(r)&&(i[r]=e[r])},function(i,e){function r(){this.constructor=i}f(i,e),i.prototype=e===null?Object.create(e):(r.prototype=e.prototype,new r)});function m(i){var e=i.split("-"),r=e.slice(1).map(function(n){return n[0].toUpperCase()+n.slice(1)}).join("");return e[0]+r}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return i!==null&&i.apply(this,arguments)||this}return w(e,i),e.keys=function(r){return(r.getAttribute("style")||"").split(";").map(function(n){return n.split(":")[0].trim()})},e.prototype.add=function(r,n){return!!this.canAdd(r,n)&&(r.style[m(this.keyName)]=n,!0)},e.prototype.remove=function(r){r.style[m(this.keyName)]="",r.getAttribute("style")||r.removeAttribute("style")},e.prototype.value=function(r){var n=r.style[m(this.keyName)];return this.canAdd(r,n)?n:""},e}(p(12).default);h.default=o},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),w=function(){function m(o,i){(function(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")})(this,m),this.quill=o,this.options=i,this.modules={}}return f(m,[{key:"init",value:function(){var i=this;Object.keys(this.options.modules).forEach(function(e){i.modules[e]==null&&i.addModule(e)})}},{key:"addModule",value:function(i){var e=this.quill.constructor.import("modules/"+i);return this.modules[i]=new e(this.quill,this.options.modules[i]||{}),this.modules[i]}}]),m}();w.DEFAULTS={modules:{}},w.themes={default:w},h.default=w},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function n(c,t){for(var d=0;d<t.length;d++){var g=t[d];g.enumerable=g.enumerable||!1,g.configurable=!0,"value"in g&&(g.writable=!0),Object.defineProperty(c,g.key,g)}}return function(c,t,d){return t&&n(c.prototype,t),d&&n(c,d),c}}(),w=function n(c,t,d){c===null&&(c=Function.prototype);var g=Object.getOwnPropertyDescriptor(c,t);if(g===void 0){var E=Object.getPrototypeOf(c);return E===null?void 0:n(E,t,d)}if("value"in g)return g.value;var D=g.get;return D!==void 0?D.call(d):void 0},m=i(p(0)),o=i(p(7));function i(n){return n&&n.__esModule?n:{default:n}}var e="\uFEFF",r=function(n){function c(t){(function(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")})(this,c);var d=function(g,E){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?g:E}(this,(c.__proto__||Object.getPrototypeOf(c)).call(this,t));return d.contentNode=document.createElement("span"),d.contentNode.setAttribute("contenteditable",!1),[].slice.call(d.domNode.childNodes).forEach(function(g){d.contentNode.appendChild(g)}),d.leftGuard=document.createTextNode(e),d.rightGuard=document.createTextNode(e),d.domNode.appendChild(d.leftGuard),d.domNode.appendChild(d.contentNode),d.domNode.appendChild(d.rightGuard),d}return function(t,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);t.prototype=Object.create(d&&d.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(t,d):t.__proto__=d)}(c,n),f(c,[{key:"index",value:function(d,g){return d===this.leftGuard?0:d===this.rightGuard?1:w(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"index",this).call(this,d,g)}},{key:"restore",value:function(d){var g=void 0,E=void 0,D=d.data.split(e).join("");if(d===this.leftGuard)if(this.prev instanceof o.default){var T=this.prev.length();this.prev.insertAt(T,D),g={startNode:this.prev.domNode,startOffset:T+D.length}}else E=document.createTextNode(D),this.parent.insertBefore(m.default.create(E),this),g={startNode:E,startOffset:D.length};else d===this.rightGuard&&(this.next instanceof o.default?(this.next.insertAt(0,D),g={startNode:this.next.domNode,startOffset:D.length}):(E=document.createTextNode(D),this.parent.insertBefore(m.default.create(E),this.next),g={startNode:E,startOffset:D.length}));return d.data=e,g}},{key:"update",value:function(d,g){var E=this;d.forEach(function(D){if(D.type==="characterData"&&(D.target===E.leftGuard||D.target===E.rightGuard)){var T=E.restore(D.target);T&&(g.range=T)}})}}]),c}(m.default.Embed);h.default=r},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.AlignStyle=h.AlignClass=h.AlignAttribute=void 0;var f,w=(f=p(0))&&f.__esModule?f:{default:f},m={scope:w.default.Scope.BLOCK,whitelist:["right","center","justify"]},o=new w.default.Attributor.Attribute("align","align",m),i=new w.default.Attributor.Class("align","ql-align",m),e=new w.default.Attributor.Style("align","text-align",m);h.AlignAttribute=o,h.AlignClass=i,h.AlignStyle=e},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.BackgroundStyle=h.BackgroundClass=void 0;var f,w=(f=p(0))&&f.__esModule?f:{default:f},m=p(26),o=new w.default.Attributor.Class("background","ql-bg",{scope:w.default.Scope.INLINE}),i=new m.ColorAttributor("background","background-color",{scope:w.default.Scope.INLINE});h.BackgroundClass=o,h.BackgroundStyle=i},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.DirectionStyle=h.DirectionClass=h.DirectionAttribute=void 0;var f,w=(f=p(0))&&f.__esModule?f:{default:f},m={scope:w.default.Scope.BLOCK,whitelist:["rtl"]},o=new w.default.Attributor.Attribute("direction","dir",m),i=new w.default.Attributor.Class("direction","ql-direction",m),e=new w.default.Attributor.Style("direction","direction",m);h.DirectionAttribute=o,h.DirectionClass=i,h.DirectionStyle=e},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.FontClass=h.FontStyle=void 0;var f,w=function(){function d(g,E){for(var D=0;D<E.length;D++){var T=E[D];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(g,T.key,T)}}return function(g,E,D){return E&&d(g.prototype,E),D&&d(g,D),g}}(),m=function d(g,E,D){g===null&&(g=Function.prototype);var T=Object.getOwnPropertyDescriptor(g,E);if(T===void 0){var A=Object.getPrototypeOf(g);return A===null?void 0:d(A,E,D)}if("value"in T)return T.value;var O=T.get;return O!==void 0?O.call(D):void 0},o=(f=p(0))&&f.__esModule?f:{default:f};function i(d,g){if(!(d instanceof g))throw new TypeError("Cannot call a class as a function")}function e(d,g){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!g||typeof g!="object"&&typeof g!="function"?d:g}var r={scope:o.default.Scope.INLINE,whitelist:["serif","monospace"]},n=new o.default.Attributor.Class("font","ql-font",r),c=function(d){function g(){return i(this,g),e(this,(g.__proto__||Object.getPrototypeOf(g)).apply(this,arguments))}return function(E,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);E.prototype=Object.create(D&&D.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(E,D):E.__proto__=D)}(g,d),w(g,[{key:"value",value:function(D){return m(g.prototype.__proto__||Object.getPrototypeOf(g.prototype),"value",this).call(this,D).replace(/["']/g,"")}}]),g}(o.default.Attributor.Style),t=new c("font","font-family",r);h.FontStyle=t,h.FontClass=n},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.SizeStyle=h.SizeClass=void 0;var f,w=(f=p(0))&&f.__esModule?f:{default:f},m=new w.default.Attributor.Class("size","ql-size",{scope:w.default.Scope.INLINE,whitelist:["small","large","huge"]}),o=new w.default.Attributor.Style("size","font-size",{scope:w.default.Scope.INLINE,whitelist:["10px","18px","32px"]});h.SizeClass=m,h.SizeStyle=o},function(_,h,p){"use strict";_.exports={align:{"":p(76),center:p(77),right:p(78),justify:p(79)},background:p(80),blockquote:p(81),bold:p(82),clean:p(83),code:p(58),"code-block":p(58),color:p(84),direction:{"":p(85),rtl:p(86)},float:{center:p(87),full:p(88),left:p(89),right:p(90)},formula:p(91),header:{1:p(92),2:p(93)},italic:p(94),image:p(95),indent:{"+1":p(96),"-1":p(97)},link:p(98),list:{ordered:p(99),bullet:p(100),check:p(101)},script:{sub:p(102),super:p(103)},strike:p(104),underline:p(105),video:p(106)}},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.getLastChangeIndex=h.default=void 0;var f=function(){function r(n,c){for(var t=0;t<c.length;t++){var d=c[t];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,c,t){return c&&r(n.prototype,c),t&&r(n,t),n}}(),w=o(p(0)),m=o(p(5));function o(r){return r&&r.__esModule?r:{default:r}}var i=function(r){function n(c,t){(function(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")})(this,n);var d=function(g,E){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?g:E}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,c,t));return d.lastRecorded=0,d.ignoreChange=!1,d.clear(),d.quill.on(m.default.events.EDITOR_CHANGE,function(g,E,D,T){g!==m.default.events.TEXT_CHANGE||d.ignoreChange||(d.options.userOnly&&T!==m.default.sources.USER?d.transform(E):d.record(E,D))}),d.quill.keyboard.addBinding({key:"Z",shortKey:!0},d.undo.bind(d)),d.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},d.redo.bind(d)),/Win/i.test(navigator.platform)&&d.quill.keyboard.addBinding({key:"Y",shortKey:!0},d.redo.bind(d)),d}return function(c,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);c.prototype=Object.create(t&&t.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(c,t):c.__proto__=t)}(n,r),f(n,[{key:"change",value:function(t,d){if(this.stack[t].length!==0){var g=this.stack[t].pop();this.stack[d].push(g),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(g[t],m.default.sources.USER),this.ignoreChange=!1;var E=e(g[t]);this.quill.setSelection(E)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(t,d){if(t.ops.length!==0){this.stack.redo=[];var g=this.quill.getContents().diff(d),E=Date.now();if(this.lastRecorded+this.options.delay>E&&this.stack.undo.length>0){var D=this.stack.undo.pop();g=g.compose(D.undo),t=D.redo.compose(t)}else this.lastRecorded=E;this.stack.undo.push({redo:t,undo:g}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(t){this.stack.undo.forEach(function(d){d.undo=t.transform(d.undo,!0),d.redo=t.transform(d.redo,!0)}),this.stack.redo.forEach(function(d){d.undo=t.transform(d.undo,!0),d.redo=t.transform(d.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),n}(o(p(9)).default);function e(r){var n=r.reduce(function(t,d){return t+(d.delete||0)},0),c=r.length()-n;return function(t){var d=t.ops[t.ops.length-1];return d!=null&&(d.insert!=null?typeof d.insert=="string"&&d.insert.endsWith(`
`):d.attributes!=null&&Object.keys(d.attributes).some(function(g){return w.default.query(g,w.default.Scope.BLOCK)!=null}))}(r)&&(c-=1),c}i.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},h.default=i,h.getLastChangeIndex=e},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.BaseTooltip=void 0;var f=function(){function $(W,X){for(var M=0;M<X.length;M++){var K=X[M];K.enumerable=K.enumerable||!1,K.configurable=!0,"value"in K&&(K.writable=!0),Object.defineProperty(W,K.key,K)}}return function(W,X,M){return X&&$(W.prototype,X),M&&$(W,M),W}}(),w=function $(W,X,M){W===null&&(W=Function.prototype);var K=Object.getOwnPropertyDescriptor(W,X);if(K===void 0){var H=Object.getPrototypeOf(W);return H===null?void 0:$(H,X,M)}if("value"in K)return K.value;var P=K.get;return P!==void 0?P.call(M):void 0},m=g(p(3)),o=g(p(2)),i=g(p(8)),e=g(p(23)),r=g(p(34)),n=g(p(59)),c=g(p(60)),t=g(p(28)),d=g(p(61));function g($){return $&&$.__esModule?$:{default:$}}function E($,W){if(!($ instanceof W))throw new TypeError("Cannot call a class as a function")}function D($,W){if(!$)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!W||typeof W!="object"&&typeof W!="function"?$:W}function T($,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);$.prototype=Object.create(W&&W.prototype,{constructor:{value:$,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf($,W):$.__proto__=W)}var A=[!1,"center","right","justify"],O=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],N=[!1,"serif","monospace"],U=["1","2","3",!1],F=["small",!1,"large","huge"],Y=function($){function W(X,M){E(this,W);var K=D(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,X,M));return X.emitter.listenDOM("click",document.body,function H(P){if(!document.body.contains(X.root))return document.body.removeEventListener("click",H);K.tooltip==null||K.tooltip.root.contains(P.target)||document.activeElement===K.tooltip.textbox||K.quill.hasFocus()||K.tooltip.hide(),K.pickers!=null&&K.pickers.forEach(function(ee){ee.container.contains(P.target)||ee.close()})}),K}return T(W,$),f(W,[{key:"addModule",value:function(M){var K=w(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"addModule",this).call(this,M);return M==="toolbar"&&this.extendToolbar(K),K}},{key:"buildButtons",value:function(M,K){M.forEach(function(H){(H.getAttribute("class")||"").split(/\s+/).forEach(function(P){if(P.startsWith("ql-")&&(P=P.slice("ql-".length),K[P]!=null))if(P==="direction")H.innerHTML=K[P][""]+K[P].rtl;else if(typeof K[P]=="string")H.innerHTML=K[P];else{var ee=H.value||"";ee!=null&&K[P][ee]&&(H.innerHTML=K[P][ee])}})})}},{key:"buildPickers",value:function(M,K){var H=this;this.pickers=M.map(function(P){if(P.classList.contains("ql-align"))return P.querySelector("option")==null&&te(P,A),new c.default(P,K.align);if(P.classList.contains("ql-background")||P.classList.contains("ql-color")){var ee=P.classList.contains("ql-background")?"background":"color";return P.querySelector("option")==null&&te(P,O,ee==="background"?"#ffffff":"#000000"),new n.default(P,K[ee])}return P.querySelector("option")==null&&(P.classList.contains("ql-font")?te(P,N):P.classList.contains("ql-header")?te(P,U):P.classList.contains("ql-size")&&te(P,F)),new t.default(P)}),this.quill.on(i.default.events.EDITOR_CHANGE,function(){H.pickers.forEach(function(P){P.update()})})}}]),W}(r.default);Y.DEFAULTS=(0,m.default)(!0,{},r.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var W=this,X=this.container.querySelector("input.ql-image[type=file]");X==null&&((X=document.createElement("input")).setAttribute("type","file"),X.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),X.classList.add("ql-image"),X.addEventListener("change",function(){if(X.files!=null&&X.files[0]!=null){var M=new FileReader;M.onload=function(K){var H=W.quill.getSelection(!0);W.quill.updateContents(new o.default().retain(H.index).delete(H.length).insert({image:K.target.result}),i.default.sources.USER),W.quill.setSelection(H.index+1,i.default.sources.SILENT),X.value=""},M.readAsDataURL(X.files[0])}}),this.container.appendChild(X)),X.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var B=function($){function W(X,M){E(this,W);var K=D(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,X,M));return K.textbox=K.root.querySelector('input[type="text"]'),K.listen(),K}return T(W,$),f(W,[{key:"listen",value:function(){var M=this;this.textbox.addEventListener("keydown",function(K){e.default.match(K,"enter")?(M.save(),K.preventDefault()):e.default.match(K,"escape")&&(M.cancel(),K.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var M=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",K=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),K!=null?this.textbox.value=K:M!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+M)||""),this.root.setAttribute("data-mode",M)}},{key:"restoreFocus",value:function(){var M=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=M}},{key:"save",value:function(){var M,K,H=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var P=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",H,i.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",H,i.default.sources.USER)),this.quill.root.scrollTop=P;break;case"video":H=(K=(M=H).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||M.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(K[1]||"https")+"://www.youtube.com/embed/"+K[2]+"?showinfo=0":(K=M.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(K[1]||"https")+"://player.vimeo.com/video/"+K[2]+"/":M;case"formula":if(!H)break;var ee=this.quill.getSelection(!0);if(ee!=null){var ue=ee.index+ee.length;this.quill.insertEmbed(ue,this.root.getAttribute("data-mode"),H,i.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(ue+1," ",i.default.sources.USER),this.quill.setSelection(ue+2,i.default.sources.USER)}}this.textbox.value="",this.hide()}}]),W}(d.default);function te($,W){var X=arguments.length>2&&arguments[2]!==void 0&&arguments[2];W.forEach(function(M){var K=document.createElement("option");M===X?K.setAttribute("selected","selected"):K.setAttribute("value",M),$.appendChild(K)})}h.BaseTooltip=B,h.default=Y},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function w(){this.head=this.tail=null,this.length=0}return w.prototype.append=function(){for(var m=[],o=0;o<arguments.length;o++)m[o]=arguments[o];this.insertBefore(m[0],null),m.length>1&&this.append.apply(this,m.slice(1))},w.prototype.contains=function(m){for(var o,i=this.iterator();o=i();)if(o===m)return!0;return!1},w.prototype.insertBefore=function(m,o){m&&(m.next=o,o!=null?(m.prev=o.prev,o.prev!=null&&(o.prev.next=m),o.prev=m,o===this.head&&(this.head=m)):this.tail!=null?(this.tail.next=m,m.prev=this.tail,this.tail=m):(m.prev=null,this.head=this.tail=m),this.length+=1)},w.prototype.offset=function(m){for(var o=0,i=this.head;i!=null;){if(i===m)return o;o+=i.length(),i=i.next}return-1},w.prototype.remove=function(m){this.contains(m)&&(m.prev!=null&&(m.prev.next=m.next),m.next!=null&&(m.next.prev=m.prev),m===this.head&&(this.head=m.next),m===this.tail&&(this.tail=m.prev),this.length-=1)},w.prototype.iterator=function(m){return m===void 0&&(m=this.head),function(){var o=m;return m!=null&&(m=m.next),o}},w.prototype.find=function(m,o){o===void 0&&(o=!1);for(var i,e=this.iterator();i=e();){var r=i.length();if(m<r||o&&m===r&&(i.next==null||i.next.length()!==0))return[i,m];m-=r}return[null,0]},w.prototype.forEach=function(m){for(var o,i=this.iterator();o=i();)m(o)},w.prototype.forEachAt=function(m,o,i){if(!(o<=0))for(var e,r=this.find(m),n=r[0],c=m-r[1],t=this.iterator(n);(e=t())&&c<m+o;){var d=e.length();m>c?i(e,m-c,Math.min(o,c+d-m)):i(e,0,Math.min(d,m+o-c)),c+=d}},w.prototype.map=function(m){return this.reduce(function(o,i){return o.push(m(i)),o},[])},w.prototype.reduce=function(m,o){for(var i,e=this.iterator();i=e();)o=m(o,i);return o},w}();h.default=f},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(r,n){r.__proto__=n}||function(r,n){for(var c in n)n.hasOwnProperty(c)&&(r[c]=n[c])},function(r,n){function c(){this.constructor=r}f(r,n),r.prototype=n===null?Object.create(n):(c.prototype=n.prototype,new c)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(17),o=p(1),i={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},e=function(r){function n(c){var t=r.call(this,c)||this;return t.scroll=t,t.observer=new MutationObserver(function(d){t.update(d)}),t.observer.observe(t.domNode,i),t.attach(),t}return w(n,r),n.prototype.detach=function(){r.prototype.detach.call(this),this.observer.disconnect()},n.prototype.deleteAt=function(c,t){this.update(),c===0&&t===this.length()?this.children.forEach(function(d){d.remove()}):r.prototype.deleteAt.call(this,c,t)},n.prototype.formatAt=function(c,t,d,g){this.update(),r.prototype.formatAt.call(this,c,t,d,g)},n.prototype.insertAt=function(c,t,d){this.update(),r.prototype.insertAt.call(this,c,t,d)},n.prototype.optimize=function(c,t){var d=this;c===void 0&&(c=[]),t===void 0&&(t={}),r.prototype.optimize.call(this,t);for(var g=[].slice.call(this.observer.takeRecords());g.length>0;)c.push(g.pop());for(var E=function O(N,U){U===void 0&&(U=!0),N!=null&&N!==d&&N.domNode.parentNode!=null&&(N.domNode[o.DATA_KEY].mutations==null&&(N.domNode[o.DATA_KEY].mutations=[]),U&&O(N.parent))},D=function O(N){N.domNode[o.DATA_KEY]!=null&&N.domNode[o.DATA_KEY].mutations!=null&&(N instanceof m.default&&N.children.forEach(O),N.optimize(t))},T=c,A=0;T.length>0;A+=1){if(A>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(T.forEach(function(O){var N=o.find(O.target,!0);N!=null&&(N.domNode===O.target&&(O.type==="childList"?(E(o.find(O.previousSibling,!1)),[].forEach.call(O.addedNodes,function(U){var F=o.find(U,!1);E(F,!1),F instanceof m.default&&F.children.forEach(function(Y){E(Y,!1)})})):O.type==="attributes"&&E(N.prev)),E(N))}),this.children.forEach(D),g=(T=[].slice.call(this.observer.takeRecords())).slice();g.length>0;)c.push(g.pop())}},n.prototype.update=function(c,t){var d=this;t===void 0&&(t={}),(c=c||this.observer.takeRecords()).map(function(g){var E=o.find(g.target,!0);return E==null?null:E.domNode[o.DATA_KEY].mutations==null?(E.domNode[o.DATA_KEY].mutations=[g],E):(E.domNode[o.DATA_KEY].mutations.push(g),null)}).forEach(function(g){g!=null&&g!==d&&g.domNode[o.DATA_KEY]!=null&&g.update(g.domNode[o.DATA_KEY].mutations||[],t)}),this.domNode[o.DATA_KEY].mutations!=null&&r.prototype.update.call(this,this.domNode[o.DATA_KEY].mutations,t),this.optimize(c,t)},n.blotName="scroll",n.defaultChild="block",n.scope=o.Scope.BLOCK_BLOT,n.tagName="DIV",n}(m.default);h.default=e},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])},function(e,r){function n(){this.constructor=e}f(e,r),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(18),o=p(1),i=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return w(r,e),r.formats=function(n){if(n.tagName!==r.tagName)return e.formats.call(this,n)},r.prototype.format=function(n,c){var t=this;n!==this.statics.blotName||c?e.prototype.format.call(this,n,c):(this.children.forEach(function(d){d instanceof m.default||(d=d.wrap(r.blotName,!0)),t.attributes.copy(d)}),this.unwrap())},r.prototype.formatAt=function(n,c,t,d){this.formats()[t]!=null||o.query(t,o.Scope.ATTRIBUTE)?this.isolate(n,c).format(t,d):e.prototype.formatAt.call(this,n,c,t,d)},r.prototype.optimize=function(n){e.prototype.optimize.call(this,n);var c=this.formats();if(Object.keys(c).length===0)return this.unwrap();var t=this.next;t instanceof r&&t.prev===this&&function(d,g){if(Object.keys(d).length!==Object.keys(g).length)return!1;for(var E in d)if(d[E]!==g[E])return!1;return!0}(c,t.formats())&&(t.moveChildren(this),t.remove())},r.blotName="inline",r.scope=o.Scope.INLINE_BLOT,r.tagName="SPAN",r}(m.default);h.default=i},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])},function(e,r){function n(){this.constructor=e}f(e,r),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(18),o=p(1),i=function(e){function r(){return e!==null&&e.apply(this,arguments)||this}return w(r,e),r.formats=function(n){var c=o.query(r.blotName).tagName;if(n.tagName!==c)return e.formats.call(this,n)},r.prototype.format=function(n,c){o.query(n,o.Scope.BLOCK)!=null&&(n!==this.statics.blotName||c?e.prototype.format.call(this,n,c):this.replaceWith(r.blotName))},r.prototype.formatAt=function(n,c,t,d){o.query(t,o.Scope.BLOCK)!=null?this.format(t,d):e.prototype.formatAt.call(this,n,c,t,d)},r.prototype.insertAt=function(n,c,t){if(t==null||o.query(c,o.Scope.INLINE)!=null)e.prototype.insertAt.call(this,n,c,t);else{var d=this.split(n),g=o.create(c,t);d.parent.insertBefore(g,d)}},r.prototype.update=function(n,c){navigator.userAgent.match(/Trident/)?this.build():e.prototype.update.call(this,n,c)},r.blotName="block",r.scope=o.Scope.BLOCK_BLOT,r.tagName="P",r}(m.default);h.default=i},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,i){o.__proto__=i}||function(o,i){for(var e in i)i.hasOwnProperty(e)&&(o[e]=i[e])},function(o,i){function e(){this.constructor=o}f(o,i),o.prototype=i===null?Object.create(i):(e.prototype=i.prototype,new e)});Object.defineProperty(h,"__esModule",{value:!0});var m=function(o){function i(){return o!==null&&o.apply(this,arguments)||this}return w(i,o),i.formats=function(e){},i.prototype.format=function(e,r){o.prototype.formatAt.call(this,0,this.length(),e,r)},i.prototype.formatAt=function(e,r,n,c){e===0&&r===this.length()?this.format(n,c):o.prototype.formatAt.call(this,e,r,n,c)},i.prototype.formats=function(){return this.statics.formats(this.domNode)},i}(p(19).default);h.default=m},function(_,h,p){"use strict";var f,w=this&&this.__extends||(f=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,r){e.__proto__=r}||function(e,r){for(var n in r)r.hasOwnProperty(n)&&(e[n]=r[n])},function(e,r){function n(){this.constructor=e}f(e,r),e.prototype=r===null?Object.create(r):(n.prototype=r.prototype,new n)});Object.defineProperty(h,"__esModule",{value:!0});var m=p(19),o=p(1),i=function(e){function r(n){var c=e.call(this,n)||this;return c.text=c.statics.value(c.domNode),c}return w(r,e),r.create=function(n){return document.createTextNode(n)},r.value=function(n){var c=n.data;return c.normalize&&(c=c.normalize()),c},r.prototype.deleteAt=function(n,c){this.domNode.data=this.text=this.text.slice(0,n)+this.text.slice(n+c)},r.prototype.index=function(n,c){return this.domNode===n?c:-1},r.prototype.insertAt=function(n,c,t){t==null?(this.text=this.text.slice(0,n)+c+this.text.slice(n),this.domNode.data=this.text):e.prototype.insertAt.call(this,n,c,t)},r.prototype.length=function(){return this.text.length},r.prototype.optimize=function(n){e.prototype.optimize.call(this,n),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof r&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},r.prototype.position=function(n,c){return c===void 0&&(c=!1),[this.domNode,n]},r.prototype.split=function(n,c){if(c===void 0&&(c=!1),!c){if(n===0)return this;if(n===this.length())return this.next}var t=o.create(this.domNode.splitText(n));return this.parent.insertBefore(t,this.next),this.text=this.statics.value(this.domNode),t},r.prototype.update=function(n,c){var t=this;n.some(function(d){return d.type==="characterData"&&d.target===t.domNode})&&(this.text=this.statics.value(this.domNode))},r.prototype.value=function(){return this.text},r.blotName="text",r.scope=o.Scope.INLINE_BLOT,r}(m.default);h.default=i},function(_,h,p){"use strict";var f=document.createElement("div");if(f.classList.toggle("test-class",!1),f.classList.contains("test-class")){var w=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(m,o){return arguments.length>1&&!this.contains(m)==!o?o:w.call(this,m)}}String.prototype.startsWith||(String.prototype.startsWith=function(m,o){return o=o||0,this.substr(o,m.length)===m}),String.prototype.endsWith||(String.prototype.endsWith=function(m,o){var i=this.toString();(typeof o!="number"||!isFinite(o)||Math.floor(o)!==o||o>i.length)&&(o=i.length),o-=m.length;var e=i.indexOf(m,o);return e!==-1&&e===o}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(o){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof o!="function")throw new TypeError("predicate must be a function");for(var i,e=Object(this),r=e.length>>>0,n=arguments[1],c=0;c<r;c++)if(i=e[c],o.call(n,i,c,e))return i}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(_,h){var p=-1;function f(n,c,t){if(n==c)return n?[[0,n]]:[];(t<0||n.length<t)&&(t=null);var d=m(n,c),g=n.substring(0,d);d=o(n=n.substring(d),c=c.substring(d));var E=n.substring(n.length-d),D=function(T,A){var O;if(!T)return[[1,A]];if(!A)return[[p,T]];var N=T.length>A.length?T:A,U=T.length>A.length?A:T,F=N.indexOf(U);if(F!=-1)return O=[[1,N.substring(0,F)],[0,U],[1,N.substring(F+U.length)]],T.length>A.length&&(O[0][0]=O[2][0]=p),O;if(U.length==1)return[[p,T],[1,A]];var Y=function(H,P){var ee=H.length>P.length?H:P,ue=H.length>P.length?P:H;if(ee.length<4||2*ue.length<ee.length)return null;function de(Le,z,ge){for(var Z,k,I,q,G=Le.substring(ge,ge+Math.floor(Le.length/4)),oe=-1,ae="";(oe=z.indexOf(G,oe+1))!=-1;){var se=m(Le.substring(ge),z.substring(oe)),Re=o(Le.substring(0,ge),z.substring(0,oe));ae.length<Re+se&&(ae=z.substring(oe-Re,oe)+z.substring(oe,oe+se),Z=Le.substring(0,ge-Re),k=Le.substring(ge+se),I=z.substring(0,oe-Re),q=z.substring(oe+se))}return 2*ae.length>=Le.length?[Z,k,I,q,ae]:null}var pe,fe,ne,he,le,Ee=de(ee,ue,Math.ceil(ee.length/4)),Se=de(ee,ue,Math.ceil(ee.length/2));return Ee||Se?(pe=Se?Ee&&Ee[4].length>Se[4].length?Ee:Se:Ee,H.length>P.length?(fe=pe[0],ne=pe[1],he=pe[2],le=pe[3]):(he=pe[0],le=pe[1],fe=pe[2],ne=pe[3]),[fe,ne,he,le,pe[4]]):null}(T,A);if(Y){var B=Y[0],te=Y[1],$=Y[2],W=Y[3],X=Y[4],M=f(B,$),K=f(te,W);return M.concat([[0,X]],K)}return function(H,P){for(var ee=H.length,ue=P.length,de=Math.ceil((ee+ue)/2),pe=de,fe=2*de,ne=new Array(fe),he=new Array(fe),le=0;le<fe;le++)ne[le]=-1,he[le]=-1;ne[pe+1]=0,he[pe+1]=0;for(var Ee=ee-ue,Se=Ee%2!=0,Le=0,z=0,ge=0,Z=0,k=0;k<de;k++){for(var I=-k+Le;I<=k-z;I+=2){for(var q=pe+I,G=(ke=I==-k||I!=k&&ne[q-1]<ne[q+1]?ne[q+1]:ne[q-1]+1)-I;ke<ee&&G<ue&&H.charAt(ke)==P.charAt(G);)ke++,G++;if(ne[q]=ke,ke>ee)z+=2;else if(G>ue)Le+=2;else if(Se&&(se=pe+Ee-I)>=0&&se<fe&&he[se]!=-1&&ke>=(ae=ee-he[se]))return w(H,P,ke,G)}for(var oe=-k+ge;oe<=k-Z;oe+=2){for(var ae,se=pe+oe,Re=(ae=oe==-k||oe!=k&&he[se-1]<he[se+1]?he[se+1]:he[se-1]+1)-oe;ae<ee&&Re<ue&&H.charAt(ee-ae-1)==P.charAt(ue-Re-1);)ae++,Re++;if(he[se]=ae,ae>ee)Z+=2;else if(Re>ue)ge+=2;else if(!Se){var ke;if((q=pe+Ee-oe)>=0&&q<fe&&ne[q]!=-1&&(G=pe+(ke=ne[q])-q,ke>=(ae=ee-ae)))return w(H,P,ke,G)}}}return[[p,H],[1,P]]}(T,A)}(n=n.substring(0,n.length-d),c=c.substring(0,c.length-d));return g&&D.unshift([0,g]),E&&D.push([0,E]),i(D),t!=null&&(D=function(T,A){var O=function(te,$){if($===0)return[0,te];for(var W=0,X=0;X<te.length;X++){var M=te[X];if(M[0]===p||M[0]===0){var K=W+M[1].length;if($===K)return[X+1,te];if($<K){te=te.slice();var H=$-W,P=[M[0],M[1].slice(0,H)],ee=[M[0],M[1].slice(H)];return te.splice(X,1,P,ee),[X+1,te]}W=K}}throw new Error("cursor_pos is out of bounds!")}(T,A),N=O[1],U=O[0],F=N[U],Y=N[U+1];if(F==null||F[0]!==0)return T;if(Y!=null&&F[1]+Y[1]===Y[1]+F[1])return N.splice(U,2,Y,F),r(N,U,2);if(Y!=null&&Y[1].indexOf(F[1])===0){N.splice(U,2,[Y[0],F[1]],[0,F[1]]);var B=Y[1].slice(F[1].length);return B.length>0&&N.splice(U+2,0,[Y[0],B]),r(N,U,3)}return T}(D,t)),function(T){for(var A=!1,O=function(B){return B.charCodeAt(0)>=56320&&B.charCodeAt(0)<=57343},N=2;N<T.length;N+=1)T[N-2][0]===0&&(U=T[N-2][1]).charCodeAt(U.length-1)>=55296&&U.charCodeAt(U.length-1)<=56319&&T[N-1][0]===p&&O(T[N-1][1])&&T[N][0]===1&&O(T[N][1])&&(A=!0,T[N-1][1]=T[N-2][1].slice(-1)+T[N-1][1],T[N][1]=T[N-2][1].slice(-1)+T[N][1],T[N-2][1]=T[N-2][1].slice(0,-1));var U;if(!A)return T;var F=[];for(N=0;N<T.length;N+=1)T[N][1].length>0&&F.push(T[N]);return F}(D)}function w(n,c,t,d){var g=n.substring(0,t),E=c.substring(0,d),D=n.substring(t),T=c.substring(d),A=f(g,E),O=f(D,T);return A.concat(O)}function m(n,c){if(!n||!c||n.charAt(0)!=c.charAt(0))return 0;for(var t=0,d=Math.min(n.length,c.length),g=d,E=0;t<g;)n.substring(E,g)==c.substring(E,g)?E=t=g:d=g,g=Math.floor((d-t)/2+t);return g}function o(n,c){if(!n||!c||n.charAt(n.length-1)!=c.charAt(c.length-1))return 0;for(var t=0,d=Math.min(n.length,c.length),g=d,E=0;t<g;)n.substring(n.length-g,n.length-E)==c.substring(c.length-g,c.length-E)?E=t=g:d=g,g=Math.floor((d-t)/2+t);return g}function i(n){n.push([0,""]);for(var c,t=0,d=0,g=0,E="",D="";t<n.length;)switch(n[t][0]){case 1:g++,D+=n[t][1],t++;break;case p:d++,E+=n[t][1],t++;break;case 0:d+g>1?(d!==0&&g!==0&&((c=m(D,E))!==0&&(t-d-g>0&&n[t-d-g-1][0]==0?n[t-d-g-1][1]+=D.substring(0,c):(n.splice(0,0,[0,D.substring(0,c)]),t++),D=D.substring(c),E=E.substring(c)),(c=o(D,E))!==0&&(n[t][1]=D.substring(D.length-c)+n[t][1],D=D.substring(0,D.length-c),E=E.substring(0,E.length-c))),d===0?n.splice(t-g,d+g,[1,D]):g===0?n.splice(t-d,d+g,[p,E]):n.splice(t-d-g,d+g,[p,E],[1,D]),t=t-d-g+(d?1:0)+(g?1:0)+1):t!==0&&n[t-1][0]==0?(n[t-1][1]+=n[t][1],n.splice(t,1)):t++,g=0,d=0,E="",D=""}n[n.length-1][1]===""&&n.pop();var T=!1;for(t=1;t<n.length-1;)n[t-1][0]==0&&n[t+1][0]==0&&(n[t][1].substring(n[t][1].length-n[t-1][1].length)==n[t-1][1]?(n[t][1]=n[t-1][1]+n[t][1].substring(0,n[t][1].length-n[t-1][1].length),n[t+1][1]=n[t-1][1]+n[t+1][1],n.splice(t-1,1),T=!0):n[t][1].substring(0,n[t+1][1].length)==n[t+1][1]&&(n[t-1][1]+=n[t+1][1],n[t][1]=n[t][1].substring(n[t+1][1].length)+n[t+1][1],n.splice(t+1,1),T=!0)),t++;T&&i(n)}var e=f;function r(n,c,t){for(var d=c+t-1;d>=0&&d>=c-1;d--)if(d+1<n.length){var g=n[d],E=n[d+1];g[0]===E[1]&&n.splice(d,2,[g[0],g[1]+E[1]])}return n}e.INSERT=1,e.DELETE=p,e.EQUAL=0,_.exports=e},function(_,h){function p(f){var w=[];for(var m in f)w.push(m);return w}(_.exports=typeof Object.keys=="function"?Object.keys:p).shim=p},function(_,h){var p=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function f(m){return Object.prototype.toString.call(m)=="[object Arguments]"}function w(m){return m&&typeof m=="object"&&typeof m.length=="number"&&Object.prototype.hasOwnProperty.call(m,"callee")&&!Object.prototype.propertyIsEnumerable.call(m,"callee")||!1}(h=_.exports=p?f:w).supported=f,h.unsupported=w},function(_,h){"use strict";var p=Object.prototype.hasOwnProperty,f="~";function w(){}function m(i,e,r){this.fn=i,this.context=e,this.once=r||!1}function o(){this._events=new w,this._eventsCount=0}Object.create&&(w.prototype=Object.create(null),new w().__proto__||(f=!1)),o.prototype.eventNames=function(){var i,e,r=[];if(this._eventsCount===0)return r;for(e in i=this._events)p.call(i,e)&&r.push(f?e.slice(1):e);return Object.getOwnPropertySymbols?r.concat(Object.getOwnPropertySymbols(i)):r},o.prototype.listeners=function(i,e){var r=f?f+i:i,n=this._events[r];if(e)return!!n;if(!n)return[];if(n.fn)return[n.fn];for(var c=0,t=n.length,d=new Array(t);c<t;c++)d[c]=n[c].fn;return d},o.prototype.emit=function(i,e,r,n,c,t){var d=f?f+i:i;if(!this._events[d])return!1;var g,E,D=this._events[d],T=arguments.length;if(D.fn){switch(D.once&&this.removeListener(i,D.fn,void 0,!0),T){case 1:return D.fn.call(D.context),!0;case 2:return D.fn.call(D.context,e),!0;case 3:return D.fn.call(D.context,e,r),!0;case 4:return D.fn.call(D.context,e,r,n),!0;case 5:return D.fn.call(D.context,e,r,n,c),!0;case 6:return D.fn.call(D.context,e,r,n,c,t),!0}for(E=1,g=new Array(T-1);E<T;E++)g[E-1]=arguments[E];D.fn.apply(D.context,g)}else{var A,O=D.length;for(E=0;E<O;E++)switch(D[E].once&&this.removeListener(i,D[E].fn,void 0,!0),T){case 1:D[E].fn.call(D[E].context);break;case 2:D[E].fn.call(D[E].context,e);break;case 3:D[E].fn.call(D[E].context,e,r);break;case 4:D[E].fn.call(D[E].context,e,r,n);break;default:if(!g)for(A=1,g=new Array(T-1);A<T;A++)g[A-1]=arguments[A];D[E].fn.apply(D[E].context,g)}}return!0},o.prototype.on=function(i,e,r){var n=new m(e,r||this),c=f?f+i:i;return this._events[c]?this._events[c].fn?this._events[c]=[this._events[c],n]:this._events[c].push(n):(this._events[c]=n,this._eventsCount++),this},o.prototype.once=function(i,e,r){var n=new m(e,r||this,!0),c=f?f+i:i;return this._events[c]?this._events[c].fn?this._events[c]=[this._events[c],n]:this._events[c].push(n):(this._events[c]=n,this._eventsCount++),this},o.prototype.removeListener=function(i,e,r,n){var c=f?f+i:i;if(!this._events[c])return this;if(!e)return--this._eventsCount==0?this._events=new w:delete this._events[c],this;var t=this._events[c];if(t.fn)t.fn!==e||n&&!t.once||r&&t.context!==r||(--this._eventsCount==0?this._events=new w:delete this._events[c]);else{for(var d=0,g=[],E=t.length;d<E;d++)(t[d].fn!==e||n&&!t[d].once||r&&t[d].context!==r)&&g.push(t[d]);g.length?this._events[c]=g.length===1?g[0]:g:--this._eventsCount==0?this._events=new w:delete this._events[c]}return this},o.prototype.removeAllListeners=function(i){var e;return i?(e=f?f+i:i,this._events[e]&&(--this._eventsCount==0?this._events=new w:delete this._events[e])):(this._events=new w,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prototype.setMaxListeners=function(){return this},o.prefixed=f,o.EventEmitter=o,_!==void 0&&(_.exports=o)},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.matchText=h.matchSpacing=h.matchNewline=h.matchBlot=h.matchAttributor=h.default=void 0;var f=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(ne){return typeof ne}:function(ne){return ne&&typeof Symbol=="function"&&ne.constructor===Symbol&&ne!==Symbol.prototype?"symbol":typeof ne},w=function(he,le){if(Array.isArray(he))return he;if(Symbol.iterator in Object(he))return function(Ee,Se){var Le=[],z=!0,ge=!1,Z=void 0;try{for(var k,I=Ee[Symbol.iterator]();!(z=(k=I.next()).done)&&(Le.push(k.value),!Se||Le.length!==Se);z=!0);}catch(q){ge=!0,Z=q}finally{try{!z&&I.return&&I.return()}finally{if(ge)throw Z}}return Le}(he,le);throw new TypeError("Invalid attempt to destructure non-iterable instance")},m=function(){function ne(he,le){for(var Ee=0;Ee<le.length;Ee++){var Se=le[Ee];Se.enumerable=Se.enumerable||!1,Se.configurable=!0,"value"in Se&&(Se.writable=!0),Object.defineProperty(he,Se.key,Se)}}return function(he,le,Ee){return le&&ne(he.prototype,le),Ee&&ne(he,Ee),he}}(),o=O(p(3)),i=O(p(2)),e=O(p(0)),r=O(p(5)),n=O(p(10)),c=O(p(9)),t=p(36),d=p(37),g=O(p(13)),E=p(26),D=p(38),T=p(39),A=p(40);function O(ne){return ne&&ne.__esModule?ne:{default:ne}}function N(ne,he,le){return he in ne?Object.defineProperty(ne,he,{value:le,enumerable:!0,configurable:!0,writable:!0}):ne[he]=le,ne}var U=(0,n.default)("quill:clipboard"),F="__ql-matcher",Y=[[Node.TEXT_NODE,fe],[Node.TEXT_NODE,de],["br",function(ne,he){return M(he,`
`)||he.insert(`
`),he}],[Node.ELEMENT_NODE,de],[Node.ELEMENT_NODE,ue],[Node.ELEMENT_NODE,pe],[Node.ELEMENT_NODE,ee],[Node.ELEMENT_NODE,function(ne,he){var le={},Ee=ne.style||{};return Ee.fontStyle&&X(ne).fontStyle==="italic"&&(le.italic=!0),Ee.fontWeight&&(X(ne).fontWeight.startsWith("bold")||parseInt(X(ne).fontWeight)>=700)&&(le.bold=!0),Object.keys(le).length>0&&(he=W(he,le)),parseFloat(Ee.textIndent||0)>0&&(he=new i.default().insert("	").concat(he)),he}],["li",function(ne,he){var le=e.default.query(ne);if(le==null||le.blotName!=="list-item"||!M(he,`
`))return he;for(var Ee=-1,Se=ne.parentNode;!Se.classList.contains("ql-clipboard");)(e.default.query(Se)||{}).blotName==="list"&&(Ee+=1),Se=Se.parentNode;return Ee<=0?he:he.compose(new i.default().retain(he.length()-1).retain(1,{indent:Ee}))}],["b",P.bind(P,"bold")],["i",P.bind(P,"italic")],["style",function(){return new i.default}]],B=[t.AlignAttribute,D.DirectionAttribute].reduce(function(ne,he){return ne[he.keyName]=he,ne},{}),te=[t.AlignStyle,d.BackgroundStyle,E.ColorStyle,D.DirectionStyle,T.FontStyle,A.SizeStyle].reduce(function(ne,he){return ne[he.keyName]=he,ne},{}),$=function(ne){function he(le,Ee){(function(Le,z){if(!(Le instanceof z))throw new TypeError("Cannot call a class as a function")})(this,he);var Se=function(Le,z){if(!Le)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!z||typeof z!="object"&&typeof z!="function"?Le:z}(this,(he.__proto__||Object.getPrototypeOf(he)).call(this,le,Ee));return Se.quill.root.addEventListener("paste",Se.onPaste.bind(Se)),Se.container=Se.quill.addContainer("ql-clipboard"),Se.container.setAttribute("contenteditable",!0),Se.container.setAttribute("tabindex",-1),Se.matchers=[],Y.concat(Se.options.matchers).forEach(function(Le){var z=w(Le,2),ge=z[0],Z=z[1];(Ee.matchVisual||Z!==pe)&&Se.addMatcher(ge,Z)}),Se}return function(le,Ee){if(typeof Ee!="function"&&Ee!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof Ee);le.prototype=Object.create(Ee&&Ee.prototype,{constructor:{value:le,enumerable:!1,writable:!0,configurable:!0}}),Ee&&(Object.setPrototypeOf?Object.setPrototypeOf(le,Ee):le.__proto__=Ee)}(he,ne),m(he,[{key:"addMatcher",value:function(Ee,Se){this.matchers.push([Ee,Se])}},{key:"convert",value:function(Ee){if(typeof Ee=="string")return this.container.innerHTML=Ee.replace(/\>\r?\n +\</g,"><"),this.convert();var Se=this.quill.getFormat(this.quill.selection.savedRange.index);if(Se[g.default.blotName]){var Le=this.container.innerText;return this.container.innerHTML="",new i.default().insert(Le,N({},g.default.blotName,Se[g.default.blotName]))}var z=this.prepareMatching(),ge=w(z,2),Z=ge[0],k=ge[1],I=H(this.container,Z,k);return M(I,`
`)&&I.ops[I.ops.length-1].attributes==null&&(I=I.compose(new i.default().retain(I.length()-1).delete(1))),U.log("convert",this.container.innerHTML,I),this.container.innerHTML="",I}},{key:"dangerouslyPasteHTML",value:function(Ee,Se){var Le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:r.default.sources.API;if(typeof Ee=="string")this.quill.setContents(this.convert(Ee),Se),this.quill.setSelection(0,r.default.sources.SILENT);else{var z=this.convert(Se);this.quill.updateContents(new i.default().retain(Ee).concat(z),Le),this.quill.setSelection(Ee+z.length(),r.default.sources.SILENT)}}},{key:"onPaste",value:function(Ee){var Se=this;if(!Ee.defaultPrevented&&this.quill.isEnabled()){var Le=this.quill.getSelection(),z=new i.default().retain(Le.index),ge=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(r.default.sources.SILENT),setTimeout(function(){z=z.concat(Se.convert()).delete(Le.length),Se.quill.updateContents(z,r.default.sources.USER),Se.quill.setSelection(z.length()-Le.length,r.default.sources.SILENT),Se.quill.scrollingContainer.scrollTop=ge,Se.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var Ee=this,Se=[],Le=[];return this.matchers.forEach(function(z){var ge=w(z,2),Z=ge[0],k=ge[1];switch(Z){case Node.TEXT_NODE:Le.push(k);break;case Node.ELEMENT_NODE:Se.push(k);break;default:[].forEach.call(Ee.container.querySelectorAll(Z),function(I){I[F]=I[F]||[],I[F].push(k)})}}),[Se,Le]}}]),he}(c.default);function W(ne,he,le){return(he===void 0?"undefined":f(he))==="object"?Object.keys(he).reduce(function(Ee,Se){return W(Ee,Se,he[Se])},ne):ne.reduce(function(Ee,Se){return Se.attributes&&Se.attributes[he]?Ee.push(Se):Ee.insert(Se.insert,(0,o.default)({},N({},he,le),Se.attributes))},new i.default)}function X(ne){if(ne.nodeType!==Node.ELEMENT_NODE)return{};var he="__ql-computed-style";return ne[he]||(ne[he]=window.getComputedStyle(ne))}function M(ne,he){for(var le="",Ee=ne.ops.length-1;Ee>=0&&le.length<he.length;--Ee){var Se=ne.ops[Ee];if(typeof Se.insert!="string")break;le=Se.insert+le}return le.slice(-1*he.length)===he}function K(ne){if(ne.childNodes.length===0)return!1;var he=X(ne);return["block","list-item"].indexOf(he.display)>-1}function H(ne,he,le){return ne.nodeType===ne.TEXT_NODE?le.reduce(function(Ee,Se){return Se(ne,Ee)},new i.default):ne.nodeType===ne.ELEMENT_NODE?[].reduce.call(ne.childNodes||[],function(Ee,Se){var Le=H(Se,he,le);return Se.nodeType===ne.ELEMENT_NODE&&(Le=he.reduce(function(z,ge){return ge(Se,z)},Le),Le=(Se[F]||[]).reduce(function(z,ge){return ge(Se,z)},Le)),Ee.concat(Le)},new i.default):new i.default}function P(ne,he,le){return W(le,ne,!0)}function ee(ne,he){var le=e.default.Attributor.Attribute.keys(ne),Ee=e.default.Attributor.Class.keys(ne),Se=e.default.Attributor.Style.keys(ne),Le={};return le.concat(Ee).concat(Se).forEach(function(z){var ge=e.default.query(z,e.default.Scope.ATTRIBUTE);ge!=null&&(Le[ge.attrName]=ge.value(ne),Le[ge.attrName])||((ge=B[z])==null||ge.attrName!==z&&ge.keyName!==z||(Le[ge.attrName]=ge.value(ne)||void 0),(ge=te[z])==null||ge.attrName!==z&&ge.keyName!==z||(ge=te[z],Le[ge.attrName]=ge.value(ne)||void 0))}),Object.keys(Le).length>0&&(he=W(he,Le)),he}function ue(ne,he){var le=e.default.query(ne);if(le==null)return he;if(le.prototype instanceof e.default.Embed){var Ee={},Se=le.value(ne);Se!=null&&(Ee[le.blotName]=Se,he=new i.default().insert(Ee,le.formats(ne)))}else typeof le.formats=="function"&&(he=W(he,le.blotName,le.formats(ne)));return he}function de(ne,he){return M(he,`
`)||(K(ne)||he.length()>0&&ne.nextSibling&&K(ne.nextSibling))&&he.insert(`
`),he}function pe(ne,he){if(K(ne)&&ne.nextElementSibling!=null&&!M(he,`

`)){var le=ne.offsetHeight+parseFloat(X(ne).marginTop)+parseFloat(X(ne).marginBottom);ne.nextElementSibling.offsetTop>ne.offsetTop+1.5*le&&he.insert(`
`)}return he}function fe(ne,he){var le=ne.data;if(ne.parentNode.tagName==="O:P")return he.insert(le.trim());if(le.trim().length===0&&ne.parentNode.classList.contains("ql-clipboard"))return he;if(!X(ne.parentNode).whiteSpace.startsWith("pre")){var Ee=function(Le,z){return(z=z.replace(/[^\u00a0]/g,"")).length<1&&Le?" ":z};le=(le=le.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,Ee.bind(Ee,!0)),(ne.previousSibling==null&&K(ne.parentNode)||ne.previousSibling!=null&&K(ne.previousSibling))&&(le=le.replace(/^\s+/,Ee.bind(Ee,!1))),(ne.nextSibling==null&&K(ne.parentNode)||ne.nextSibling!=null&&K(ne.nextSibling))&&(le=le.replace(/\s+$/,Ee.bind(Ee,!1)))}return he.insert(le)}$.DEFAULTS={matchers:[],matchVisual:!0},h.default=$,h.matchAttributor=ee,h.matchBlot=ue,h.matchNewline=de,h.matchSpacing=pe,h.matchText=fe},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function r(n,c){for(var t=0;t<c.length;t++){var d=c[t];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,c,t){return c&&r(n.prototype,c),t&&r(n,t),n}}(),m=function r(n,c,t){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,c);if(d===void 0){var g=Object.getPrototypeOf(n);return g===null?void 0:r(g,c,t)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(t):void 0};function o(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function i(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}var e=function(r){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(c,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);c.prototype=Object.create(t&&t.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(c,t):c.__proto__=t)}(n,r),w(n,[{key:"optimize",value:function(t){m(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"optimize",this).call(this,t),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return m(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),n}(((f=p(6))&&f.__esModule?f:{default:f}).default);e.blotName="bold",e.tagName=["STRONG","B"],h.default=e},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.addControls=h.default=void 0;var f=function(T,A){if(Array.isArray(T))return T;if(Symbol.iterator in Object(T))return function(O,N){var U=[],F=!0,Y=!1,B=void 0;try{for(var te,$=O[Symbol.iterator]();!(F=(te=$.next()).done)&&(U.push(te.value),!N||U.length!==N);F=!0);}catch(W){Y=!0,B=W}finally{try{!F&&$.return&&$.return()}finally{if(Y)throw B}}return U}(T,A);throw new TypeError("Invalid attempt to destructure non-iterable instance")},w=function(){function D(T,A){for(var O=0;O<A.length;O++){var N=A[O];N.enumerable=N.enumerable||!1,N.configurable=!0,"value"in N&&(N.writable=!0),Object.defineProperty(T,N.key,N)}}return function(T,A,O){return A&&D(T.prototype,A),O&&D(T,O),T}}(),m=n(p(2)),o=n(p(0)),i=n(p(5)),e=n(p(10)),r=n(p(9));function n(D){return D&&D.__esModule?D:{default:D}}function c(D,T){if(!D)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!T||typeof T!="object"&&typeof T!="function"?D:T}var t=(0,e.default)("quill:toolbar"),d=function(D){function T(A,O){(function(Y,B){if(!(Y instanceof B))throw new TypeError("Cannot call a class as a function")})(this,T);var N,U=c(this,(T.__proto__||Object.getPrototypeOf(T)).call(this,A,O));if(Array.isArray(U.options.container)){var F=document.createElement("div");E(F,U.options.container),A.container.parentNode.insertBefore(F,A.container),U.container=F}else typeof U.options.container=="string"?U.container=document.querySelector(U.options.container):U.container=U.options.container;return U.container instanceof HTMLElement?(U.container.classList.add("ql-toolbar"),U.controls=[],U.handlers={},Object.keys(U.options.handlers).forEach(function(Y){U.addHandler(Y,U.options.handlers[Y])}),[].forEach.call(U.container.querySelectorAll("button, select"),function(Y){U.attach(Y)}),U.quill.on(i.default.events.EDITOR_CHANGE,function(Y,B){Y===i.default.events.SELECTION_CHANGE&&U.update(B)}),U.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){var Y=U.quill.selection.getRange(),B=f(Y,1)[0];U.update(B)}),U):(N=t.error("Container required for toolbar",U.options),c(U,N))}return function(A,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);A.prototype=Object.create(O&&O.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(A,O):A.__proto__=O)}(T,D),w(T,[{key:"addHandler",value:function(O,N){this.handlers[O]=N}},{key:"attach",value:function(O){var N=this,U=[].find.call(O.classList,function(Y){return Y.indexOf("ql-")===0});if(U){if(U=U.slice("ql-".length),O.tagName==="BUTTON"&&O.setAttribute("type","button"),this.handlers[U]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[U]==null)return void t.warn("ignoring attaching to disabled format",U,O);if(o.default.query(U)==null)return void t.warn("ignoring attaching to nonexistent format",U,O)}var F=O.tagName==="SELECT"?"change":"click";O.addEventListener(F,function(Y){var B=void 0;if(O.tagName==="SELECT"){if(O.selectedIndex<0)return;var te=O.options[O.selectedIndex];B=!te.hasAttribute("selected")&&(te.value||!1)}else B=!O.classList.contains("ql-active")&&(O.value||!O.hasAttribute("value")),Y.preventDefault();N.quill.focus();var $=N.quill.selection.getRange(),W=f($,1)[0];if(N.handlers[U]!=null)N.handlers[U].call(N,B);else if(o.default.query(U).prototype instanceof o.default.Embed){if(!(B=prompt("Enter "+U)))return;N.quill.updateContents(new m.default().retain(W.index).delete(W.length).insert(function(X,M,K){return M in X?Object.defineProperty(X,M,{value:K,enumerable:!0,configurable:!0,writable:!0}):X[M]=K,X}({},U,B)),i.default.sources.USER)}else N.quill.format(U,B,i.default.sources.USER);N.update(W)}),this.controls.push([U,O])}}},{key:"update",value:function(O){var N=O==null?{}:this.quill.getFormat(O);this.controls.forEach(function(U){var F=f(U,2),Y=F[0],B=F[1];if(B.tagName==="SELECT"){var te=void 0;if(O==null)te=null;else if(N[Y]==null)te=B.querySelector("option[selected]");else if(!Array.isArray(N[Y])){var $=N[Y];typeof $=="string"&&($=$.replace(/\"/g,'\\"')),te=B.querySelector('option[value="'+$+'"]')}te==null?(B.value="",B.selectedIndex=-1):te.selected=!0}else if(O==null)B.classList.remove("ql-active");else if(B.hasAttribute("value")){var W=N[Y]===B.getAttribute("value")||N[Y]!=null&&N[Y].toString()===B.getAttribute("value")||N[Y]==null&&!B.getAttribute("value");B.classList.toggle("ql-active",W)}else B.classList.toggle("ql-active",N[Y]!=null)})}}]),T}(r.default);function g(D,T,A){var O=document.createElement("button");O.setAttribute("type","button"),O.classList.add("ql-"+T),A!=null&&(O.value=A),D.appendChild(O)}function E(D,T){Array.isArray(T[0])||(T=[T]),T.forEach(function(A){var O=document.createElement("span");O.classList.add("ql-formats"),A.forEach(function(N){if(typeof N=="string")g(O,N);else{var U=Object.keys(N)[0],F=N[U];Array.isArray(F)?function(Y,B,te){var $=document.createElement("select");$.classList.add("ql-"+B),te.forEach(function(W){var X=document.createElement("option");W!==!1?X.setAttribute("value",W):X.setAttribute("selected","selected"),$.appendChild(X)}),Y.appendChild($)}(O,U,F):g(O,U,F)}}),D.appendChild(O)})}d.DEFAULTS={},d.DEFAULTS={container:null,handlers:{clean:function(){var T=this,A=this.quill.getSelection();if(A!=null)if(A.length==0){var O=this.quill.getFormat();Object.keys(O).forEach(function(N){o.default.query(N,o.default.Scope.INLINE)!=null&&T.quill.format(N,!1)})}else this.quill.removeFormat(A,i.default.sources.USER)},direction:function(T){var A=this.quill.getFormat().align;T==="rtl"&&A==null?this.quill.format("align","right",i.default.sources.USER):T||A!=="right"||this.quill.format("align",!1,i.default.sources.USER),this.quill.format("direction",T,i.default.sources.USER)},indent:function(T){var A=this.quill.getSelection(),O=this.quill.getFormat(A),N=parseInt(O.indent||0);if(T==="+1"||T==="-1"){var U=T==="+1"?1:-1;O.direction==="rtl"&&(U*=-1),this.quill.format("indent",N+U,i.default.sources.USER)}},link:function(T){T===!0&&(T=prompt("Enter link URL:")),this.quill.format("link",T,i.default.sources.USER)},list:function(T){var A=this.quill.getSelection(),O=this.quill.getFormat(A);T==="check"?O.list==="checked"||O.list==="unchecked"?this.quill.format("list",!1,i.default.sources.USER):this.quill.format("list","unchecked",i.default.sources.USER):this.quill.format("list",T,i.default.sources.USER)}}},h.default=d,h.addControls=E},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function i(e,r){for(var n=0;n<r.length;n++){var c=r[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}return function(e,r,n){return r&&i(e.prototype,r),n&&i(e,n),e}}(),m=function i(e,r,n){e===null&&(e=Function.prototype);var c=Object.getOwnPropertyDescriptor(e,r);if(c===void 0){var t=Object.getPrototypeOf(e);return t===null?void 0:i(t,r,n)}if("value"in c)return c.value;var d=c.get;return d!==void 0?d.call(n):void 0},o=function(i){function e(r,n){(function(t,d){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e);var c=function(t,d){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?t:d}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return c.label.innerHTML=n,c.container.classList.add("ql-color-picker"),[].slice.call(c.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(t){t.classList.add("ql-primary")}),c}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),w(e,[{key:"buildItem",value:function(n){var c=m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"buildItem",this).call(this,n);return c.style.backgroundColor=n.getAttribute("value")||"",c}},{key:"selectItem",value:function(n,c){m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,n,c);var t=this.label.querySelector(".ql-color-label"),d=n&&n.getAttribute("data-value")||"";t&&(t.tagName==="line"?t.style.stroke=d:t.style.fill=d)}}]),e}(((f=p(28))&&f.__esModule?f:{default:f}).default);h.default=o},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function i(e,r){for(var n=0;n<r.length;n++){var c=r[n];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(e,c.key,c)}}return function(e,r,n){return r&&i(e.prototype,r),n&&i(e,n),e}}(),m=function i(e,r,n){e===null&&(e=Function.prototype);var c=Object.getOwnPropertyDescriptor(e,r);if(c===void 0){var t=Object.getPrototypeOf(e);return t===null?void 0:i(t,r,n)}if("value"in c)return c.value;var d=c.get;return d!==void 0?d.call(n):void 0},o=function(i){function e(r,n){(function(t,d){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")})(this,e);var c=function(t,d){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?t:d}(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,r));return c.container.classList.add("ql-icon-picker"),[].forEach.call(c.container.querySelectorAll(".ql-picker-item"),function(t){t.innerHTML=n[t.getAttribute("data-value")||""]}),c.defaultItem=c.container.querySelector(".ql-selected"),c.selectItem(c.defaultItem),c}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),w(e,[{key:"selectItem",value:function(n,c){m(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"selectItem",this).call(this,n,c),n=n||this.defaultItem,this.label.innerHTML=n.innerHTML}}]),e}(((f=p(28))&&f.__esModule?f:{default:f}).default);h.default=o},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function(){function m(o,i){for(var e=0;e<i.length;e++){var r=i[e];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(o,r.key,r)}}return function(o,i,e){return i&&m(o.prototype,i),e&&m(o,e),o}}(),w=function(){function m(o,i){var e=this;(function(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")})(this,m),this.quill=o,this.boundsContainer=i||document.body,this.root=o.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){e.root.style.marginTop=-1*e.quill.root.scrollTop+"px"}),this.hide()}return f(m,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(i){var e=i.left+i.width/2-this.root.offsetWidth/2,r=i.bottom+this.quill.root.scrollTop;this.root.style.left=e+"px",this.root.style.top=r+"px",this.root.classList.remove("ql-flip");var n=this.boundsContainer.getBoundingClientRect(),c=this.root.getBoundingClientRect(),t=0;if(c.right>n.right&&(t=n.right-c.right,this.root.style.left=e+t+"px"),c.left<n.left&&(t=n.left-c.left,this.root.style.left=e+t+"px"),c.bottom>n.bottom){var d=c.bottom-c.top,g=i.bottom-i.top+d;this.root.style.top=r-g+"px",this.root.classList.add("ql-flip")}return t}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),m}();h.default=w},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=function O(N,U,F){N===null&&(N=Function.prototype);var Y=Object.getOwnPropertyDescriptor(N,U);if(Y===void 0){var B=Object.getPrototypeOf(N);return B===null?void 0:O(B,U,F)}if("value"in Y)return Y.value;var te=Y.get;return te!==void 0?te.call(F):void 0},w=function(){function O(N,U){for(var F=0;F<U.length;F++){var Y=U[F];Y.enumerable=Y.enumerable||!1,Y.configurable=!0,"value"in Y&&(Y.writable=!0),Object.defineProperty(N,Y.key,Y)}}return function(N,U,F){return U&&O(N.prototype,U),F&&O(N,F),N}}(),m=t(p(3)),o=t(p(8)),i=p(43),e=t(i),r=t(p(27)),n=p(15),c=t(p(41));function t(O){return O&&O.__esModule?O:{default:O}}function d(O,N){if(!(O instanceof N))throw new TypeError("Cannot call a class as a function")}function g(O,N){if(!O)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!N||typeof N!="object"&&typeof N!="function"?O:N}function E(O,N){if(typeof N!="function"&&N!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof N);O.prototype=Object.create(N&&N.prototype,{constructor:{value:O,enumerable:!1,writable:!0,configurable:!0}}),N&&(Object.setPrototypeOf?Object.setPrototypeOf(O,N):O.__proto__=N)}var D=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],T=function(O){function N(U,F){d(this,N),F.modules.toolbar!=null&&F.modules.toolbar.container==null&&(F.modules.toolbar.container=D);var Y=g(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,U,F));return Y.quill.container.classList.add("ql-snow"),Y}return E(N,O),w(N,[{key:"extendToolbar",value:function(F){F.container.classList.add("ql-snow"),this.buildButtons([].slice.call(F.container.querySelectorAll("button")),c.default),this.buildPickers([].slice.call(F.container.querySelectorAll("select")),c.default),this.tooltip=new A(this.quill,this.options.bounds),F.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(Y,B){F.handlers.link.call(F,!B.format.link)})}}]),N}(e.default);T.DEFAULTS=(0,m.default)(!0,{},e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(N){if(N){var U=this.quill.getSelection();if(U==null||U.length==0)return;var F=this.quill.getText(U);/^\S+@\S+\.\S+$/.test(F)&&F.indexOf("mailto:")!==0&&(F="mailto:"+F),this.quill.theme.tooltip.edit("link",F)}else this.quill.format("link",!1)}}}}});var A=function(O){function N(U,F){d(this,N);var Y=g(this,(N.__proto__||Object.getPrototypeOf(N)).call(this,U,F));return Y.preview=Y.root.querySelector("a.ql-preview"),Y}return E(N,O),w(N,[{key:"listen",value:function(){var F=this;f(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(Y){F.root.classList.contains("ql-editing")?F.save():F.edit("link",F.preview.textContent),Y.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(Y){if(F.linkRange!=null){var B=F.linkRange;F.restoreFocus(),F.quill.formatText(B,"link",!1,o.default.sources.USER),delete F.linkRange}Y.preventDefault(),F.hide()}),this.quill.on(o.default.events.SELECTION_CHANGE,function(Y,B,te){if(Y!=null){if(Y.length===0&&te===o.default.sources.USER){var $=function(K,H){if(Array.isArray(K))return K;if(Symbol.iterator in Object(K))return function(P,ee){var ue=[],de=!0,pe=!1,fe=void 0;try{for(var ne,he=P[Symbol.iterator]();!(de=(ne=he.next()).done)&&(ue.push(ne.value),!ee||ue.length!==ee);de=!0);}catch(le){pe=!0,fe=le}finally{try{!de&&he.return&&he.return()}finally{if(pe)throw fe}}return ue}(K,H);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(F.quill.scroll.descendant(r.default,Y.index),2),W=$[0],X=$[1];if(W!=null){F.linkRange=new n.Range(Y.index-X,W.length());var M=r.default.formats(W.domNode);return F.preview.textContent=M,F.preview.setAttribute("href",M),F.show(),void F.position(F.quill.getBounds(F.linkRange))}}else delete F.linkRange;F.hide()}})}},{key:"show",value:function(){f(N.prototype.__proto__||Object.getPrototypeOf(N.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),N}(i.BaseTooltip);A.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),h.default=T},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f=de(p(29)),w=p(36),m=p(38),o=p(64),i=de(p(65)),e=de(p(66)),r=p(67),n=de(r),c=p(37),t=p(26),d=p(39),g=p(40),E=de(p(56)),D=de(p(68)),T=de(p(27)),A=de(p(69)),O=de(p(70)),N=de(p(71)),U=de(p(72)),F=de(p(73)),Y=p(13),B=de(Y),te=de(p(74)),$=de(p(75)),W=de(p(57)),X=de(p(41)),M=de(p(28)),K=de(p(59)),H=de(p(60)),P=de(p(61)),ee=de(p(108)),ue=de(p(62));function de(pe){return pe&&pe.__esModule?pe:{default:pe}}f.default.register({"attributors/attribute/direction":m.DirectionAttribute,"attributors/class/align":w.AlignClass,"attributors/class/background":c.BackgroundClass,"attributors/class/color":t.ColorClass,"attributors/class/direction":m.DirectionClass,"attributors/class/font":d.FontClass,"attributors/class/size":g.SizeClass,"attributors/style/align":w.AlignStyle,"attributors/style/background":c.BackgroundStyle,"attributors/style/color":t.ColorStyle,"attributors/style/direction":m.DirectionStyle,"attributors/style/font":d.FontStyle,"attributors/style/size":g.SizeStyle},!0),f.default.register({"formats/align":w.AlignClass,"formats/direction":m.DirectionClass,"formats/indent":o.IndentClass,"formats/background":c.BackgroundStyle,"formats/color":t.ColorStyle,"formats/font":d.FontClass,"formats/size":g.SizeClass,"formats/blockquote":i.default,"formats/code-block":B.default,"formats/header":e.default,"formats/list":n.default,"formats/bold":E.default,"formats/code":Y.Code,"formats/italic":D.default,"formats/link":T.default,"formats/script":A.default,"formats/strike":O.default,"formats/underline":N.default,"formats/image":U.default,"formats/video":F.default,"formats/list/item":r.ListItem,"modules/formula":te.default,"modules/syntax":$.default,"modules/toolbar":W.default,"themes/bubble":ee.default,"themes/snow":ue.default,"ui/icons":X.default,"ui/picker":M.default,"ui/icon-picker":H.default,"ui/color-picker":K.default,"ui/tooltip":P.default},!0),h.default=f.default},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.IndentClass=void 0;var f,w=function(){function c(t,d){for(var g=0;g<d.length;g++){var E=d[g];E.enumerable=E.enumerable||!1,E.configurable=!0,"value"in E&&(E.writable=!0),Object.defineProperty(t,E.key,E)}}return function(t,d,g){return d&&c(t.prototype,d),g&&c(t,g),t}}(),m=function c(t,d,g){t===null&&(t=Function.prototype);var E=Object.getOwnPropertyDescriptor(t,d);if(E===void 0){var D=Object.getPrototypeOf(t);return D===null?void 0:c(D,d,g)}if("value"in E)return E.value;var T=E.get;return T!==void 0?T.call(g):void 0},o=(f=p(0))&&f.__esModule?f:{default:f};function i(c,t){if(!(c instanceof t))throw new TypeError("Cannot call a class as a function")}function e(c,t){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!t||typeof t!="object"&&typeof t!="function"?c:t}var r=function(c){function t(){return i(this,t),e(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return function(d,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);d.prototype=Object.create(g&&g.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(d,g):d.__proto__=g)}(t,c),w(t,[{key:"add",value:function(g,E){if(E==="+1"||E==="-1"){var D=this.value(g)||0;E=E==="+1"?D+1:D-1}return E===0?(this.remove(g),!0):m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"add",this).call(this,g,E)}},{key:"canAdd",value:function(g,E){return m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,g,E)||m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"canAdd",this).call(this,g,parseInt(E))}},{key:"value",value:function(g){return parseInt(m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),"value",this).call(this,g))||void 0}}]),t}(o.default.Attributor.Class),n=new r("indent","ql-indent",{scope:o.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});h.IndentClass=n},function(_,h,p){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=p(4))&&f.__esModule?f:{default:f}).default);o.blotName="blockquote",o.tagName="blockquote",h.default=o},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function e(r,n){for(var c=0;c<n.length;c++){var t=n[c];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(r,t.key,t)}}return function(r,n,c){return n&&e(r.prototype,n),c&&e(r,c),r}}();function m(e,r){if(!(e instanceof r))throw new TypeError("Cannot call a class as a function")}function o(e,r){if(!e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!r||typeof r!="object"&&typeof r!="function"?e:r}var i=function(e){function r(){return m(this,r),o(this,(r.__proto__||Object.getPrototypeOf(r)).apply(this,arguments))}return function(n,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);n.prototype=Object.create(c&&c.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(n,c):n.__proto__=c)}(r,e),w(r,null,[{key:"formats",value:function(c){return this.tagName.indexOf(c.tagName)+1}}]),r}(((f=p(4))&&f.__esModule?f:{default:f}).default);i.blotName="header",i.tagName=["H1","H2","H3","H4","H5","H6"],h.default=i},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.ListItem=void 0;var f=function(){function g(E,D){for(var T=0;T<D.length;T++){var A=D[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,D,T){return D&&g(E.prototype,D),T&&g(E,T),E}}(),w=function g(E,D,T){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,D);if(A===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:g(O,D,T)}if("value"in A)return A.value;var N=A.get;return N!==void 0?N.call(T):void 0},m=e(p(0)),o=e(p(4)),i=e(p(25));function e(g){return g&&g.__esModule?g:{default:g}}function r(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")}function n(g,E){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?g:E}function c(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);g.prototype=Object.create(E&&E.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(g,E):g.__proto__=E)}var t=function(g){function E(){return r(this,E),n(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return c(E,g),f(E,[{key:"format",value:function(T,A){T!==d.blotName||A?w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"format",this).call(this,T,A):this.replaceWith(m.default.create(this.statics.scope))}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(T,A){return this.parent.isolate(this.offset(this.parent),this.length()),T===this.parent.statics.blotName?(this.parent.replaceWith(T,A),this):(this.parent.unwrap(),w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replaceWith",this).call(this,T,A))}}],[{key:"formats",value:function(T){return T.tagName===this.tagName?void 0:w(E.__proto__||Object.getPrototypeOf(E),"formats",this).call(this,T)}}]),E}(o.default);t.blotName="list-item",t.tagName="LI";var d=function(g){function E(D){r(this,E);var T=n(this,(E.__proto__||Object.getPrototypeOf(E)).call(this,D)),A=function(N){if(N.target.parentNode===D){var U=T.statics.formats(D),F=m.default.find(N.target);U==="checked"?F.format("list","unchecked"):U==="unchecked"&&F.format("list","checked")}};return D.addEventListener("touchstart",A),D.addEventListener("mousedown",A),T}return c(E,g),f(E,null,[{key:"create",value:function(T){var A=T==="ordered"?"OL":"UL",O=w(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,A);return T!=="checked"&&T!=="unchecked"||O.setAttribute("data-checked",T==="checked"),O}},{key:"formats",value:function(T){return T.tagName==="OL"?"ordered":T.tagName==="UL"?T.hasAttribute("data-checked")?T.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet":void 0}}]),f(E,[{key:"format",value:function(T,A){this.children.length>0&&this.children.tail.format(T,A)}},{key:"formats",value:function(){return T={},A=this.statics.blotName,O=this.statics.formats(this.domNode),A in T?Object.defineProperty(T,A,{value:O,enumerable:!0,configurable:!0,writable:!0}):T[A]=O,T;var T,A,O}},{key:"insertBefore",value:function(T,A){if(T instanceof t)w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"insertBefore",this).call(this,T,A);else{var O=A==null?this.length():A.offset(this),N=this.split(O);N.parent.insertBefore(T,N)}}},{key:"optimize",value:function(T){w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"optimize",this).call(this,T);var A=this.next;A!=null&&A.prev===this&&A.statics.blotName===this.statics.blotName&&A.domNode.tagName===this.domNode.tagName&&A.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(A.moveChildren(this),A.remove())}},{key:"replace",value:function(T){if(T.statics.blotName!==this.statics.blotName){var A=m.default.create(this.statics.defaultChild);T.moveChildren(A),this.appendChild(A)}w(E.prototype.__proto__||Object.getPrototypeOf(E.prototype),"replace",this).call(this,T)}}]),E}(i.default);d.blotName="list",d.scope=m.default.Scope.BLOCK_BLOT,d.tagName=["OL","UL"],d.defaultChild="list-item",d.allowedChildren=[t],h.ListItem=t,h.default=d},function(_,h,p){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=p(56))&&f.__esModule?f:{default:f}).default);o.blotName="italic",o.tagName=["EM","I"],h.default=o},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function r(n,c){for(var t=0;t<c.length;t++){var d=c[t];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,c,t){return c&&r(n.prototype,c),t&&r(n,t),n}}(),m=function r(n,c,t){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,c);if(d===void 0){var g=Object.getPrototypeOf(n);return g===null?void 0:r(g,c,t)}if("value"in d)return d.value;var E=d.get;return E!==void 0?E.call(t):void 0};function o(r,n){if(!(r instanceof n))throw new TypeError("Cannot call a class as a function")}function i(r,n){if(!r)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?r:n}var e=function(r){function n(){return o(this,n),i(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(c,t){if(typeof t!="function"&&t!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof t);c.prototype=Object.create(t&&t.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(c,t):c.__proto__=t)}(n,r),w(n,null,[{key:"create",value:function(t){return t==="super"?document.createElement("sup"):t==="sub"?document.createElement("sub"):m(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,t)}},{key:"formats",value:function(t){return t.tagName==="SUB"?"sub":t.tagName==="SUP"?"super":void 0}}]),n}(((f=p(6))&&f.__esModule?f:{default:f}).default);e.blotName="script",e.tagName=["SUB","SUP"],h.default=e},function(_,h,p){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=p(6))&&f.__esModule?f:{default:f}).default);o.blotName="strike",o.tagName="S",h.default=o},function(_,h,p){"use strict";var f;function w(i,e){if(!(i instanceof e))throw new TypeError("Cannot call a class as a function")}function m(i,e){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||typeof e!="object"&&typeof e!="function"?i:e}Object.defineProperty(h,"__esModule",{value:!0});var o=function(i){function e(){return w(this,e),m(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return function(r,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);r.prototype=Object.create(n&&n.prototype,{constructor:{value:r,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(r,n):r.__proto__=n)}(e,i),e}(((f=p(6))&&f.__esModule?f:{default:f}).default);o.blotName="underline",o.tagName="U",h.default=o},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function t(d,g){for(var E=0;E<g.length;E++){var D=g[E];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(d,D.key,D)}}return function(d,g,E){return g&&t(d.prototype,g),E&&t(d,E),d}}(),m=function t(d,g,E){d===null&&(d=Function.prototype);var D=Object.getOwnPropertyDescriptor(d,g);if(D===void 0){var T=Object.getPrototypeOf(d);return T===null?void 0:t(T,g,E)}if("value"in D)return D.value;var A=D.get;return A!==void 0?A.call(E):void 0},o=(f=p(0))&&f.__esModule?f:{default:f},i=p(27);function e(t,d){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")}function r(t,d){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?t:d}var n=["alt","height","width"],c=function(t){function d(){return e(this,d),r(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return function(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);g.prototype=Object.create(E&&E.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(g,E):g.__proto__=E)}(d,t),w(d,[{key:"format",value:function(E,D){n.indexOf(E)>-1?D?this.domNode.setAttribute(E,D):this.domNode.removeAttribute(E):m(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"format",this).call(this,E,D)}}],[{key:"create",value:function(E){var D=m(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this,E);return typeof E=="string"&&D.setAttribute("src",this.sanitize(E)),D}},{key:"formats",value:function(E){return n.reduce(function(D,T){return E.hasAttribute(T)&&(D[T]=E.getAttribute(T)),D},{})}},{key:"match",value:function(E){return/\.(jpe?g|gif|png)$/.test(E)||/^data:image\/.+;base64/.test(E)}},{key:"sanitize",value:function(E){return(0,i.sanitize)(E,["http","https","data"])?E:"//:0"}},{key:"value",value:function(E){return E.getAttribute("src")}}]),d}(o.default.Embed);c.blotName="image",c.tagName="IMG",h.default=c},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0});var f,w=function(){function t(d,g){for(var E=0;E<g.length;E++){var D=g[E];D.enumerable=D.enumerable||!1,D.configurable=!0,"value"in D&&(D.writable=!0),Object.defineProperty(d,D.key,D)}}return function(d,g,E){return g&&t(d.prototype,g),E&&t(d,E),d}}(),m=function t(d,g,E){d===null&&(d=Function.prototype);var D=Object.getOwnPropertyDescriptor(d,g);if(D===void 0){var T=Object.getPrototypeOf(d);return T===null?void 0:t(T,g,E)}if("value"in D)return D.value;var A=D.get;return A!==void 0?A.call(E):void 0},o=p(4),i=(f=p(27))&&f.__esModule?f:{default:f};function e(t,d){if(!(t instanceof d))throw new TypeError("Cannot call a class as a function")}function r(t,d){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?t:d}var n=["height","width"],c=function(t){function d(){return e(this,d),r(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return function(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);g.prototype=Object.create(E&&E.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(g,E):g.__proto__=E)}(d,t),w(d,[{key:"format",value:function(E,D){n.indexOf(E)>-1?D?this.domNode.setAttribute(E,D):this.domNode.removeAttribute(E):m(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"format",this).call(this,E,D)}}],[{key:"create",value:function(E){var D=m(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this,E);return D.setAttribute("frameborder","0"),D.setAttribute("allowfullscreen",!0),D.setAttribute("src",this.sanitize(E)),D}},{key:"formats",value:function(E){return n.reduce(function(D,T){return E.hasAttribute(T)&&(D[T]=E.getAttribute(T)),D},{})}},{key:"sanitize",value:function(E){return i.default.sanitize(E)}},{key:"value",value:function(E){return E.getAttribute("src")}}]),d}(o.BlockEmbed);c.blotName="video",c.className="ql-video",c.tagName="IFRAME",h.default=c},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.FormulaBlot=void 0;var f=function(){function g(E,D){for(var T=0;T<D.length;T++){var A=D[T];A.enumerable=A.enumerable||!1,A.configurable=!0,"value"in A&&(A.writable=!0),Object.defineProperty(E,A.key,A)}}return function(E,D,T){return D&&g(E.prototype,D),T&&g(E,T),E}}(),w=function g(E,D,T){E===null&&(E=Function.prototype);var A=Object.getOwnPropertyDescriptor(E,D);if(A===void 0){var O=Object.getPrototypeOf(E);return O===null?void 0:g(O,D,T)}if("value"in A)return A.value;var N=A.get;return N!==void 0?N.call(T):void 0},m=e(p(35)),o=e(p(5)),i=e(p(9));function e(g){return g&&g.__esModule?g:{default:g}}function r(g,E){if(!(g instanceof E))throw new TypeError("Cannot call a class as a function")}function n(g,E){if(!g)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!E||typeof E!="object"&&typeof E!="function"?g:E}function c(g,E){if(typeof E!="function"&&E!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof E);g.prototype=Object.create(E&&E.prototype,{constructor:{value:g,enumerable:!1,writable:!0,configurable:!0}}),E&&(Object.setPrototypeOf?Object.setPrototypeOf(g,E):g.__proto__=E)}var t=function(g){function E(){return r(this,E),n(this,(E.__proto__||Object.getPrototypeOf(E)).apply(this,arguments))}return c(E,g),f(E,null,[{key:"create",value:function(T){var A=w(E.__proto__||Object.getPrototypeOf(E),"create",this).call(this,T);return typeof T=="string"&&(window.katex.render(T,A,{throwOnError:!1,errorColor:"#f00"}),A.setAttribute("data-value",T)),A}},{key:"value",value:function(T){return T.getAttribute("data-value")}}]),E}(m.default);t.blotName="formula",t.className="ql-formula",t.tagName="SPAN";var d=function(g){function E(){r(this,E);var D=n(this,(E.__proto__||Object.getPrototypeOf(E)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return D}return c(E,g),f(E,null,[{key:"register",value:function(){o.default.register(t,!0)}}]),E}(i.default);h.FormulaBlot=t,h.default=d},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.CodeToken=h.CodeBlock=void 0;var f=function(){function E(D,T){for(var A=0;A<T.length;A++){var O=T[A];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(D,O.key,O)}}return function(D,T,A){return T&&E(D.prototype,T),A&&E(D,A),D}}(),w=function E(D,T,A){D===null&&(D=Function.prototype);var O=Object.getOwnPropertyDescriptor(D,T);if(O===void 0){var N=Object.getPrototypeOf(D);return N===null?void 0:E(N,T,A)}if("value"in O)return O.value;var U=O.get;return U!==void 0?U.call(A):void 0},m=e(p(0)),o=e(p(5)),i=e(p(9));function e(E){return E&&E.__esModule?E:{default:E}}function r(E,D){if(!(E instanceof D))throw new TypeError("Cannot call a class as a function")}function n(E,D){if(!E)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!D||typeof D!="object"&&typeof D!="function"?E:D}function c(E,D){if(typeof D!="function"&&D!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof D);E.prototype=Object.create(D&&D.prototype,{constructor:{value:E,enumerable:!1,writable:!0,configurable:!0}}),D&&(Object.setPrototypeOf?Object.setPrototypeOf(E,D):E.__proto__=D)}var t=function(E){function D(){return r(this,D),n(this,(D.__proto__||Object.getPrototypeOf(D)).apply(this,arguments))}return c(D,E),f(D,[{key:"replaceWith",value:function(A){this.domNode.textContent=this.domNode.textContent,this.attach(),w(D.prototype.__proto__||Object.getPrototypeOf(D.prototype),"replaceWith",this).call(this,A)}},{key:"highlight",value:function(A){var O=this.domNode.textContent;this.cachedText!==O&&((O.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=A(O),this.domNode.normalize(),this.attach()),this.cachedText=O)}}]),D}(e(p(13)).default);t.className="ql-syntax";var d=new m.default.Attributor.Class("token","hljs",{scope:m.default.Scope.INLINE}),g=function(E){function D(T,A){r(this,D);var O=n(this,(D.__proto__||Object.getPrototypeOf(D)).call(this,T,A));if(typeof O.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var N=null;return O.quill.on(o.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(N),N=setTimeout(function(){O.highlight(),N=null},O.options.interval)}),O.highlight(),O}return c(D,E),f(D,null,[{key:"register",value:function(){o.default.register(d,!0),o.default.register(t,!0)}}]),f(D,[{key:"highlight",value:function(){var A=this;if(!this.quill.selection.composing){this.quill.update(o.default.sources.USER);var O=this.quill.getSelection();this.quill.scroll.descendants(t).forEach(function(N){N.highlight(A.options.highlight)}),this.quill.update(o.default.sources.SILENT),O!=null&&this.quill.setSelection(O,o.default.sources.SILENT)}}}]),D}(i.default);g.DEFAULTS={highlight:window.hljs==null?null:function(E){return window.hljs.highlightAuto(E).value},interval:1e3},h.CodeBlock=t,h.CodeToken=d,h.default=g},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(_,h){_.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(_,h){_.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(_,h){_.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(_,h){_.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(_,h){_.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(_,h,p){"use strict";Object.defineProperty(h,"__esModule",{value:!0}),h.default=h.BubbleTooltip=void 0;var f=function A(O,N,U){O===null&&(O=Function.prototype);var F=Object.getOwnPropertyDescriptor(O,N);if(F===void 0){var Y=Object.getPrototypeOf(O);return Y===null?void 0:A(Y,N,U)}if("value"in F)return F.value;var B=F.get;return B!==void 0?B.call(U):void 0},w=function(){function A(O,N){for(var U=0;U<N.length;U++){var F=N[U];F.enumerable=F.enumerable||!1,F.configurable=!0,"value"in F&&(F.writable=!0),Object.defineProperty(O,F.key,F)}}return function(O,N,U){return N&&A(O.prototype,N),U&&A(O,U),O}}(),m=c(p(3)),o=c(p(8)),i=p(43),e=c(i),r=p(15),n=c(p(41));function c(A){return A&&A.__esModule?A:{default:A}}function t(A,O){if(!(A instanceof O))throw new TypeError("Cannot call a class as a function")}function d(A,O){if(!A)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||typeof O!="object"&&typeof O!="function"?A:O}function g(A,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);A.prototype=Object.create(O&&O.prototype,{constructor:{value:A,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(A,O):A.__proto__=O)}var E=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],D=function(A){function O(N,U){t(this,O),U.modules.toolbar!=null&&U.modules.toolbar.container==null&&(U.modules.toolbar.container=E);var F=d(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,N,U));return F.quill.container.classList.add("ql-bubble"),F}return g(O,A),w(O,[{key:"extendToolbar",value:function(U){this.tooltip=new T(this.quill,this.options.bounds),this.tooltip.root.appendChild(U.container),this.buildButtons([].slice.call(U.container.querySelectorAll("button")),n.default),this.buildPickers([].slice.call(U.container.querySelectorAll("select")),n.default)}}]),O}(e.default);D.DEFAULTS=(0,m.default)(!0,{},e.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(O){O?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var T=function(A){function O(N,U){t(this,O);var F=d(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,N,U));return F.quill.on(o.default.events.EDITOR_CHANGE,function(Y,B,te,$){if(Y===o.default.events.SELECTION_CHANGE)if(B!=null&&B.length>0&&$===o.default.sources.USER){F.show(),F.root.style.left="0px",F.root.style.width="",F.root.style.width=F.root.offsetWidth+"px";var W=F.quill.getLines(B.index,B.length);if(W.length===1)F.position(F.quill.getBounds(B));else{var X=W[W.length-1],M=F.quill.getIndex(X),K=Math.min(X.length()-1,B.index+B.length-M),H=F.quill.getBounds(new r.Range(M,K));F.position(H)}}else document.activeElement!==F.textbox&&F.quill.hasFocus()&&F.hide()}),F}return g(O,A),w(O,[{key:"listen",value:function(){var U=this;f(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){U.root.classList.remove("ql-editing")}),this.quill.on(o.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!U.root.classList.contains("ql-hidden")){var F=U.quill.getSelection();F!=null&&U.position(U.quill.getBounds(F))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(U){var F=f(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"position",this).call(this,U),Y=this.root.querySelector(".ql-tooltip-arrow");if(Y.style.marginLeft="",F===0)return F;Y.style.marginLeft=-1*F-Y.offsetWidth/2+"px"}}]),O}(i.BaseTooltip);T.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),h.BubbleTooltip=T,h.default=D},function(_,h,p){_.exports=p(63)}]).default},re.exports=L()},3697:function(re,L,C){"use strict";var _=C(5972).functionsHaveConfigurableNames(),h=Object,p=TypeError;re.exports=function(){if(this!=null&&this!==h(this))throw new p("RegExp.prototype.flags getter called on non-object");var f="";return this.hasIndices&&(f+="d"),this.global&&(f+="g"),this.ignoreCase&&(f+="i"),this.multiline&&(f+="m"),this.dotAll&&(f+="s"),this.unicode&&(f+="u"),this.sticky&&(f+="y"),f},_&&Object.defineProperty&&Object.defineProperty(re.exports,"name",{value:"get flags"})},2847:function(re,L,C){"use strict";var _=C(4289),h=C(5559),p=C(3697),f=C(1721),w=C(2753),m=h(f());_(m,{getPolyfill:f,implementation:p,shim:w}),re.exports=m},1721:function(re,L,C){"use strict";var _=C(3697),h=C(4289).supportsDescriptors,p=Object.getOwnPropertyDescriptor;re.exports=function(){if(h&&/a/gim.flags==="gim"){var f=p(RegExp.prototype,"flags");if(f&&typeof f.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var w="",m={};if(Object.defineProperty(m,"hasIndices",{get:function(){w+="d"}}),Object.defineProperty(m,"sticky",{get:function(){w+="y"}}),w==="dy")return f.get}}return _}},2753:function(re,L,C){"use strict";var _=C(4289).supportsDescriptors,h=C(1721),p=Object.getOwnPropertyDescriptor,f=Object.defineProperty,w=TypeError,m=Object.getPrototypeOf,o=/a/;re.exports=function(){if(!_||!m)throw new w("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var i=h(),e=m(o),r=p(e,"flags");return r&&r.get===i||f(e,"flags",{configurable:!0,enumerable:!1,get:i}),i}}},ot={};function Je(J){var re=ot[J];if(re!==void 0)return re.exports;var L=ot[J]={exports:{}};return Xe[J].call(L.exports,L,L.exports,Je),L.exports}Je.n=function(J){var re=J&&J.__esModule?function(){return J.default}:function(){return J};return Je.d(re,{a:re}),re},Je.d=function(J,re){for(var L in re)Je.o(re,L)&&!Je.o(J,L)&&Object.defineProperty(J,L,{enumerable:!0,get:re[L]})},Je.o=function(J,re){return Object.prototype.hasOwnProperty.call(J,re)},function(){"use strict";function J(R,S){if(!(R instanceof S))throw new TypeError("Cannot call a class as a function")}function re(R,S){for(var u=0;u<S.length;u++){var b=S[u];b.enumerable=b.enumerable||!1,b.configurable=!0,"value"in b&&(b.writable=!0),Object.defineProperty(R,b.key,b)}}function L(R,S,u){return S&&re(R.prototype,S),u&&re(R,u),Object.defineProperty(R,"prototype",{writable:!1}),R}function C(R,S){return C=Object.setPrototypeOf||function(u,b){return u.__proto__=b,u},C(R,S)}function _(R,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function");R.prototype=Object.create(S&&S.prototype,{constructor:{value:R,writable:!0,configurable:!0}}),Object.defineProperty(R,"prototype",{writable:!1}),S&&C(R,S)}function h(R){return h=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(S){return typeof S}:function(S){return S&&typeof Symbol=="function"&&S.constructor===Symbol&&S!==Symbol.prototype?"symbol":typeof S},h(R)}function p(R,S){if(S&&(h(S)==="object"||typeof S=="function"))return S;if(S!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(u){if(u===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return u}(R)}function f(R){return f=Object.setPrototypeOf?Object.getPrototypeOf:function(S){return S.__proto__||Object.getPrototypeOf(S)},f(R)}var w=function(){function R(){J(this,R)}return L(R,[{key:"getName",value:function(){}},{key:"do",value:function(){}},{key:"undo",value:function(){}},{key:"allowReplace",value:function(u){return!1}},{key:"replace",value:function(u){}}]),R}();function m(R,S){for(;!Object.prototype.hasOwnProperty.call(R,S)&&(R=f(R))!==null;);return R}function o(){return o=typeof Reflect!="undefined"&&Reflect.get?Reflect.get:function(R,S,u){var b=m(R,S);if(b){var x=Object.getOwnPropertyDescriptor(b,S);return x.get?x.get.call(arguments.length<3?R:u):x.value}},o.apply(this,arguments)}w.operation={rename:"rename",change:"change",add:"add",remove:"remove",move:"move"};var i=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s,l){var y;if(J(this,x),(y=b.call(this)).objId=v.getId(),y.moveToParentId=a.getId(),y.moveToPosition=s,y.oldParentId=v.getParent().getId(),y.oldPosition=v.getSiblingPosition(),y.oldContainerId=null,y.moveToContainerId=null,v.getData()instanceof se){var j=v.getData();y.oldContainerId=j.getValue("containerId");var V=l.getMainPanel().getContainerByItem(a);V!==null&&(y.moveToContainerId=V.getId())}return y.rb=l,y}return L(x,[{key:"getName",value:function(){return"Move panel item"}},{key:"do",value:function(){var a=this.moveToPosition;this.moveToParentId===this.oldParentId&&this.oldPosition<a&&a--,this.moveTo(this.moveToParentId,a,this.moveToContainerId!==this.oldContainerId?this.moveToContainerId:null)}},{key:"undo",value:function(){this.moveTo(this.oldParentId,this.oldPosition,this.moveToContainerId!==this.oldContainerId?this.oldContainerId:null)}},{key:"moveTo",value:function(a,s,l){var y=this.rb.getDataObject(this.objId),j=this.rb.getDataObject(a);y!==null&&j!==null&&(y.getPanelItem().moveToPosition(j.getPanelItem(),s),y.getPanelItem().openParentItems(),this.rb.notifyEvent(y,w.operation.move))}},{key:"getClassName",value:function(){return"MovePanelItemCmd"}}]),x}(w),e=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s,l,y){var j;J(this,x),(j=b.call(this)).objId=v,j.field=a,j.value=s,j.type=l,j.rb=y;var V=y.getDataObject(v);return j.oldValue=V.getValue(a),j.firstExecution=!0,j.select=!0,j.notifyChange=!0,j}return L(x,[{key:"getName",value:function(){return"Set value"}},{key:"getObjId",value:function(){return this.objId}},{key:"do",value:function(){!this.firstExecution&&this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.value),this.firstExecution=!1}},{key:"undo",value:function(){this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.oldValue)}},{key:"setValue",value:function(a){var s=this.rb.getDataObject(this.objId);if(s.setValue(this.field,a),this.field==="name"){var l=document.getElementById("rbro_menu_item_name".concat(this.objId));l.textContent=a,l.setAttribute("title",a),this.rb.notifyEvent(s,w.operation.rename)}!this.notifyChange||this.type===x.type.richText&&this.firstExecution||this.rb.notifyEvent(s,w.operation.change,this.field)}},{key:"disableSelect",value:function(){this.select=!1}},{key:"setNotifyChange",value:function(a){this.notifyChange=a}},{key:"allowReplace",value:function(a){return a instanceof x&&(this.type===x.type.text||this.type===x.type.richText)&&this.objId===a.objId&&this.field===a.field}},{key:"replace",value:function(a){this.oldValue=a.oldValue}},{key:"getClassName",value:function(){return"SetValueCmd"}}]),x}(w);e.type={text:"text",richText:"richText",select:"select",file:"file",filename:"filename",checkbox:"checkbox",button:"button",buttonGroup:"buttonGroup",color:"color",internal:"internal"};var r=function(){function R(S,u,b){J(this,R),this.rb=b,this.id=S,this.panelItem=null,this.name=u,this.el=null,this.elContent=null,this.owner=null,this.level=0,this.parent=null}return L(R,[{key:"init",value:function(u){this.owner=u,this.el=u.getElement(),this.elContent=u.getContentElement(),this.panelItem=u.getPanelItem(),this.parent=u.getContainer(),this.initLevel()}},{key:"initLevel",value:function(){this.level=0;for(var u=this.parent;u!==null;)this.level++,u=u.getParent()}},{key:"setup",value:function(){}},{key:"remove",value:function(){}},{key:"appendElement",value:function(u){this.elContent!==null&&this.elContent.append(u)}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(u){this.panelItem=u}},{key:"getLevel",value:function(){return this.level}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(u){this.parent=u,this.initLevel()}},{key:"isChildOf",value:function(u){for(var b=this.getParent();b!==null;){if(b===u)return!0;b=b.getParent()}return!1}},{key:"isSelected",value:function(){return!(this.owner===null||!this.rb.isSelectedObject(this.owner.getId()))}},{key:"isElementAllowed",value:function(u){return!1}},{key:"dragOver",value:function(){this.el!==null&&this.el.classList.add("rbroElementDragOver")}},{key:"getOffset",value:function(){return{x:0,y:0}}},{key:"getOffsetTo",value:function(u){if(u!==null&&u!==this){var b=this.getOffset(),x=u.getOffset();return{x:b.x-x.x,y:b.y-x.y}}return{x:0,y:0}}},{key:"getSize",value:function(){return{width:0,height:0}}},{key:"getContentSize",value:function(){return{width:0,height:0}}},{key:"isInside",value:function(u,b){var x=this.getOffset(),v=this.getSize();return u-=x.x,b-=x.y,u>=0&&b>=0&&u<v.width&&b<v.height}},{key:"clearErrors",value:function(){}}]),R}();function n(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,y){if(l){if(typeof l=="string")return c(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?c(l,y):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var y=u.next();return a=y.done,y},e:function(y){s=!0,v=y},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function c(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}function t(R,S,u){var b=document.createElement(R);if(S)for(var x in S)S.hasOwnProperty(x)&&b.setAttribute(x,S[x]);return u&&(b.textContent=u),b}function d(R){for(;R.firstChild;)R.removeChild(R.firstChild)}function g(R,S,u,b){var x=b||{};u&&(x.for=u),R.append(t("label",x,S+":"))}function E(R){var S=R.getBoundingClientRect();return{top:S.top+window.scrollY,left:S.left+window.scrollX}}function D(R){R.addEventListener("keyup",function(S){var u=S.target.value,b=u.replace(/[^0-9]/g,"");u!==b&&(S.target.value=b)})}function T(R,S,u){var b=parseFloat(R.replace(",","."));return isNaN(b)||b<S?""+S:b>u?""+u:R}function A(R){if(typeof R=="number")return R;if(typeof R=="string"&&R!==""){var S=parseFloat(R.replace(",","."));if(!isNaN(S))return S}return 0}function O(R,S){var u=Math.ceil(R/S)*S;return u-R<=S>>1?u:u-S}function N(R,S){return Math.floor(R/S)*S}function U(R,S){return Math.ceil(R/S)*S}function F(R,S,u,b){var x,v={shown:!1,paletteId:S.getAttribute("id")+"_select"},a=b.getProperty("colors"),s=t("div",{class:"rbroColorPalette rbroHidden"}),l=n(a);try{for(l.s();!(x=l.n()).done;){var y=x.value;s.append(t("span",{style:"color: ".concat(y),"data-value":y,class:"rbroColorPaletteItem"}))}}catch(V){l.e(V)}finally{l.f()}u&&s.append(t("span",{"data-value":"clear",class:"rbroClearColorPalette"},b.getLabel("clear"))),s.addEventListener("click",function(V){var Q=V.target.dataset.value;Q&&(Q==="clear"?(S.value="",S.dispatchEvent(new Event("change"))):S.value=Q,S.dispatchEvent(new Event("change"))),s.classList.add("rbroHidden"),V.stopImmediatePropagation()});var j=t("div",{id:v.paletteId,class:"rbroColorPicker"});return j.addEventListener("click",function(V){s.classList.toggle("rbroHidden"),v.shown=!v.shown}),R.prepend(j),R.append(s),S.addEventListener("focus",function(V){R.classList.add("rbroActive")}),S.addEventListener("blur",function(V){R.classList.remove("rbroActive")}),v.documentClickListener=function(V){var Q=V.target.id;v.shown&&Q!==v.paletteId&&(s.classList.add("rbroHidden"),v.shown=!1)},document.addEventListener("click",v.documentClickListener),v.destroy=function(){v.documentClickListener&&(document.removeEventListener("click",v.documentClickListener),v.documentClickListener=null)},v}function Y(R){return!R||/^#[0-9A-F]{6}$/i.test(R)}function B(R){if(!(window.TouchEvent&&R instanceof TouchEvent))return{x:R.pageX,y:R.pageY};if(R.touches.length>0){var S=R.touches[R.touches.length-1];return{x:S.pageX,y:S.pageY}}return null}function te(R,S,u){var b=u.getStyles();d(R),R.append(t("option",{value:""},u.getLabel("styleNone")));var x,v=n(b);try{for(v.s();!(x=v.n()).done;){var a=x.value,s=t("option",{value:a.getId()},a.getName());S&&S===String(a.getId())&&(s.selected=!0),R.append(s)}}catch(l){v.e(l)}finally{v.f()}}String.prototype.reverse=function(){return this.split("").reverse().join("")};var $=L(function R(S,u){J(this,R),this.value=S,this.type=u});function W(R,S){for(var u=0,b=[];u<R.length;){var x=R[u];if(/[0-9]/.test(x)){for(var v="";u<R.length&&/[0-9.]/.test(R[u]);)v+=R[u++];var a=parseFloat(v);b.push(new $(a,$.type.number))}else if(/[a-zA-Z]/.test(x)){for(var s="";u<R.length&&/[a-zA-Z0-9]/.test(R[u]);)s+=R[u++];if(s==="true")b.push(new $(!0,$.type.boolean));else if(s==="false")b.push(new $(!1,$.type.boolean));else if(s==="type")S!==null?b.push(new $(S.getElementType(),$.type.string)):b.push(new $("type",$.type.string));else if(S===null)b.push(new $(s,$.type.field));else{var l,y=S.getValue(s);l=y instanceof Number?$.type.number:y instanceof String?$.type.string:y instanceof Boolean?$.type.boolean:$.type.undefined,b.push(new $(y,l))}}else if(x!=="'")if(x!=="("&&x!==")")if(/[!=|&]/.test(x)){if(u++,x==="!"&&(u>=R.length||R[u]!=="=")){b.push(new $($.operator.negate,$.type.operator));continue}if(!(u<R.length))throw new Error("Invalid token ".concat(x," at end of input"));var j=R[u];if(x==="!"&&j==="=")b.push(new $($.operator.notEqual,$.type.operator)),u++;else if(x==="="&&j==="=")b.push(new $($.operator.equal,$.type.operator)),u++;else if(x==="|"&&j==="|")b.push(new $($.operator.or,$.type.operator)),u++;else{if(x!=="&"||j!=="&")throw new Error("Invalid token ".concat(j," at position ").concat(u));b.push(new $($.operator.and,$.type.operator)),u++}}else{if(x!==" ")throw new Error("Invalid token ".concat(x," at position ").concat(u));u++}else b.push(new $(x,x==="("?$.type.bracketOpen:$.type.bracketClose)),u++;else{var V="";for(u++;u<R.length&&R[u]!=="'";)V+=R[u++];if(u>=R.length)throw new Error("Unterminated string token in input ".concat(R));b.push(new $(V,$.type.string)),u++}}return b}$.type={operator:"operator",bracketOpen:"bracketOpen",bracketClose:"bracketClose",boolean:"boolean",number:"number",string:"string",undefined:"undefined",field:"field"},$.operator={and:"&&",or:"||",equal:"==",notEqual:"!=",negate:"!"};var X={"!":4,"!=":3,"==":3,"||":2,"&&":1};function M(R,S){if(R.length===0)return!1;var u=R[R.length-1];return X[u.value]>=X[S.value]}function K(R,S){var u,b=S.pop().value;switch(R.value!==$.operator.negate&&(u=S.pop().value),R.value){case $.operator.and:return new $(u&&b,$.type.boolean);case $.operator.or:return new $(u||b,$.type.boolean);case $.operator.equal:return new $(u===b,$.type.boolean);case $.operator.notEqual:return new $(u!==b,$.type.boolean);case $.operator.negate:return new $(!b,$.type.boolean);default:throw new Error("Invalid operator: ".concat(R))}}function H(R,S){return function(u){for(var b=[],x=0;x<u.length;x++){var v=u[x];v.type!==$.type.operator?b.push(v):b.push(K(v,b))}var a=b.pop();return a.type===$.type.boolean?a.value:!!a.value}(function(u){for(var b=[],x=[],v=0;v<u.length;v++){var a=u[v];if(a.type===$.type.operator){for(;M(b,a);)x.push(b.pop());b.push(a)}else if(a.type===$.type.bracketOpen)b.push(a);else if(a.type===$.type.bracketClose){for(;b.length>0&&b[b.length-1]!==$.type.bracketOpen;)x.push(b.pop());b.pop()}else x.push(a)}for(var s=b.length-1;s>=0;s--)x.push(b[s]);return x}(W(R,S)))}var P=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s,l,y){var j;return J(this,x),(j=b.call(this,s,l,y)).panelItem=null,j.bandType=v,j.section=a,a||(v===x.bandType.header?(j.id="0_header",j.name=y.getLabel("bandHeader")):v===x.bandType.content?(j.id="0_content",j.name=y.getLabel("bandContent"),j.allowAllElements=!0):v===x.bandType.footer&&(j.id="0_footer",j.name=y.getLabel("bandFooter"))),j.el=null,j}return L(x,[{key:"setup",value:function(){this.section||(this.el=this.rb.getDocument().getElement(this.bandType),this.elContent=this.el)}},{key:"isElementAllowed",value:function(a){return a!==se.type.tableText&&(this.bandType===x.bandType.content||a!==se.type.pageBreak&&a!==se.type.table&&a!==se.type.section)}},{key:"getOffset",value:function(){var a=0;if(this.section)this.owner!==null&&(a=this.owner.getAbsolutePosition().y);else{var s=this.rb.getDocumentProperties();this.bandType===x.bandType.content&&s.getValue("header")?a=A(s.getValue("headerSize")):this.bandType===x.bandType.footer&&(a=this.rb.getDocument().getHeight()-A(s.getValue("footerSize")))}return{x:0,y:a}}},{key:"getSize",value:function(){var a=this.rb.getDocumentProperties(),s=a.getValue("width")-a.getValue("marginLeftVal")-a.getValue("marginRightVal"),l=0;return this.section?this.owner!==null&&(l=this.owner.getValue("heightVal")):this.bandType===x.bandType.header?l=a.getValue("headerSizeVal"):this.bandType===x.bandType.content?l=a.getValue("height")-a.getValue("headerSizeVal")-a.getValue("footerSizeVal")-a.getValue("marginTopVal")-a.getValue("marginBottomVal"):this.bandType===x.bandType.footer&&(l=a.getValue("footerSizeVal")),{width:s,height:l}}},{key:"getContentSize",value:function(){return this.getSize()}},{key:"isInside",value:function(a,s){return!(this.section&&this.owner!==null&&this.owner&&!this.owner.isVisible())&&o(f(x.prototype),"isInside",this).call(this,a,s)}}]),x}(r);function ee(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}function ue(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,y){if(l){if(typeof l=="string")return de(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?de(l,y):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var y=u.next();return a=y.done,y},e:function(y){s=!0,v=y},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function de(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}P.bandType={header:"header",content:"content",footer:"footer"};var pe=function(){function R(S,u,b){J(this,R),this.rb=b,this.id=S,this.name=b.getLabel("style"),this.panelItem=null,this.errors=[],this.bold=!1,this.italic=!1,this.underline=!1,this.strikethrough=!1,this.horizontalAlignment=R.alignment.left,this.verticalAlignment=R.alignment.top,this.textColor="#000000",this.backgroundColor="",this.font=b.getProperty("defaultFont"),this.fontSize=12,this.lineSpacing=1,this.borderColor="#000000",this.borderWidth="1",this.borderAll=!1,this.borderLeft=!1,this.borderTop=!1,this.borderRight=!1,this.borderBottom=!1,this.paddingLeft="",this.paddingTop="",this.paddingRight="",this.paddingBottom="",this.borderWidthVal=0,this.setInitialData(u)}return L(R,[{key:"setInitialData",value:function(u){for(var b in u)u.hasOwnProperty(b)&&this.hasOwnProperty(b)&&(this[b]=u[b]);this.borderWidthVal=A(this.borderWidth)}},{key:"getFields",value:function(){return["id","name","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(u){this.panelItem=u}},{key:"getValue",value:function(u){return this[u]}},{key:"setValue",value:function(u,b){if(this[u]=b,u.indexOf("border")!==-1&&(u==="borderWidth"&&(this.borderWidthVal=A(b)),R.setBorderValue(this,u,"",b,this.rb)),u!=="name"){var x,v=ue(this.rb.getDocElements(!0));try{for(v.s();!(x=v.n()).done;)x.value.updateChangedStyle(this.getId())}catch(a){v.e(a)}finally{v.f()}}}},{key:"addCommandsForChangedProperty",value:function(u,b,x,v){var a,s=""+this.getId(),l=ue(this.rb.getDocElements(!0));try{for(l.s();!(a=l.n()).done;){var y=a.value;if(y.hasProperty("styleId")){if(y.getValue("styleId")===s&&y.getValue(u)!==b){var j=new e(y.getId(),u,b,x,this.rb);j.disableSelect(),v.addCommand(j)}if(y.getValue("cs_styleId")===s&&y.getValue("cs_"+u)!==b){var V=new e(y.getId(),"cs_"+u,b,x,this.rb);V.disableSelect(),v.addCommand(V)}}}}catch(Q){l.e(Q)}finally{l.f()}}},{key:"addCommandsForDelete",value:function(u){var b,x,v=ue(this.rb.getDocElements(!0));try{for(v.s();!(x=v.n()).done;){var a=x.value;a.getElementType()!==se.type.text&&a.getElementType()!==se.type.tableText||!a.getValue("styleId")||A(a.getValue("styleId"))!==this.id||(b=new e(a.getId(),"styleId","",e.type.text,this.rb),u.addCommand(b))}}catch(s){v.e(s)}finally{v.f()}b=new fe(!1,this.toJS(),this.getId(),this.getPanelItem().getParent().getId(),this.getPanelItem().getSiblingPosition(),this.rb),u.addCommand(b)}},{key:"addError",value:function(u){this.errors.push(u)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var u,b={},x=ue(this.getFields());try{for(x.s();!(u=x.n()).done;){var v=u.value;b[v]=this.getValue(v)}}catch(a){x.e(a)}finally{x.f()}return b}},{key:"getClassName",value:function(){return"Style"}}],[{key:"setBorderValue",value:function(u,b,x,v,a){var s=b;if(x.length>0&&(s=s.substr(x.length)),s==="borderLeft"||s==="borderTop"||s==="borderRight"||s==="borderBottom"){var l=u.getValue("".concat(x,"borderLeft"))&&u.getValue("".concat(x,"borderTop"))&&u.getValue("".concat(x,"borderRight"))&&u.getValue("".concat(x,"borderBottom")),y="".concat(x,"borderAll");l!==u[y]&&(u[y]=l,a.notifyEvent(u,w.operation.change,y))}}}]),R}();pe.font={courier:"courier",helvetica:"helvetica",times:"times"},pe.alignment={left:"left",center:"center",right:"right",justify:"justify",top:"top",middle:"middle",bottom:"bottom"};var fe=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s,l,y,j){var V;return J(this,x),(V=b.call(this)).add=v,V.initialData=a,V.parentId=l,V.position=y,V.rb=j,V.id=s,V}return L(x,[{key:"getName",value:function(){return this.add?"Add style":"Delete style"}},{key:"do",value:function(){this.add?this.addStyle():this.deleteStyle()}},{key:"undo",value:function(){this.add?this.deleteStyle():this.addStyle()}},{key:"addStyle",value:function(){var a=this.rb.getDataObject(this.parentId);if(a!==null){var s=new pe(this.id,this.initialData,this.rb),l=new Le("style",a.getPanelItem(),s,{draggable:!0},this.rb);l.openParentItems(),s.setPanelItem(l),a.getPanelItem().insertChild(this.position,l),this.rb.addStyle(s)}}},{key:"deleteStyle",value:function(){var a=this.rb.getDataObject(this.id);a!==null&&(this.initialData=a.toJS(),this.rb.deleteStyle(a))}},{key:"getClassName",value:function(){return"AddDeleteStyleCmd"}}]),x}(w);function ne(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,y){if(l){if(typeof l=="string")return he(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?he(l,y):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var y=u.next();return a=y.done,y},e:function(y){s=!0,v=y},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function he(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var le=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a){var s;return J(this,x),(s=b.call(this)).name=v,s.rb=a,s.commands=[],s.selectObjectIds=[],s.selectionCmdIndex=[],s}return L(x,[{key:"getName",value:function(){return this.name}},{key:"do",value:function(){if(this.selectionCmdIndex.length>0)for(var a=this.selectionCmdIndex[this.selectionCmdIndex.length-1],s=0;s<this.commands.length;s++){var l=this.commands[s];l instanceof e&&l.setNotifyChange(s>=a)}for(var y=0;y<this.commands.length;y++)this.commands[y].do();this.selectObjects()}},{key:"undo",value:function(){if(this.selectionCmdIndex.length>0)for(var a=this.selectionCmdIndex.length>1?this.selectionCmdIndex[1]:this.commands.length,s=this.commands.length-1;s>=0;s--){var l=this.commands[s];l instanceof e&&l.setNotifyChange(s<a)}for(var y=this.commands.length-1;y>=0;y--)this.commands[y].undo();this.selectObjects()}},{key:"addCommand",value:function(a){a instanceof e&&a.disableSelect(),this.commands.push(a)}},{key:"addSelection",value:function(a){this.selectObjectIds.indexOf(a)===-1&&this.selectObjectIds.push(a),this.selectionCmdIndex.push(this.commands.length)}},{key:"isEmpty",value:function(){return this.commands.length===0}},{key:"getCommands",value:function(){return this.commands}},{key:"selectObjects",value:function(){var a,s=!0,l=ne(this.selectObjectIds);try{for(l.s();!(a=l.n()).done;){var y=a.value;if(!this.rb.isSelectedObject(y)){s=!1;break}}}catch(be){l.e(be)}finally{l.f()}if(!s){var j,V=!0,Q=ne(this.selectObjectIds);try{for(Q.s();!(j=Q.n()).done;){var ie=j.value;this.rb.selectObject(ie,V),V=!1}}catch(be){Q.e(be)}finally{Q.f()}}}},{key:"allowReplace",value:function(a){if(a instanceof x){var s=a.getCommands();if(this.commands.length===s.length){for(var l=0;l<this.commands.length;l++)if(!this.commands[l].allowReplace(s[l]))return!1;return!0}}return!1}},{key:"replace",value:function(a){for(var s=a.getCommands(),l=0;l<this.commands.length;l++)this.commands[l].replace(s[l])}},{key:"getClassName",value:function(){return"CommandGroupCmd"}}]),x}(w);function Ee(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,y){if(l){if(typeof l=="string")return Se(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?Se(l,y):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var y=u.next();return a=y.done,y},e:function(y){s=!0,v=y},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function Se(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var Le=function(){function R(S,u,b,x,v){var a=this;J(this,R),this.properties={hasChildren:!1,showAdd:!1,showDelete:!0,hasDetails:!0,visible:!0,draggable:!1},Object.assign(this.properties,x),this.panelName=S;var s=b!==null?b.getName():"";this.id=b!==null?b.getId():x.id,this.parent=u,this.data=b,this.rb=v,this.children=[],this.dragEnterCount=0,this.element=t("li"),this.properties.visible||this.element.classList.add("rbroHidden");var l=t("div",{id:"rbro_menu_item".concat(this.id),class:"rbroMenuItem"});this.properties.draggable&&(l.setAttribute("draggable","true"),l.addEventListener("dragstart",function(Q){Q.dataTransfer.setData("text/plain",""),Q.dataTransfer.effectAllowed="move",a.rb.startBrowserDrag("panelItem",null,a.id),Q.stopPropagation()})),l.addEventListener("dragover",function(Q){a.rb.isBrowserDragActive("panelItem")&&a.rb.getBrowserDragId()!==a.id&&a.getDropObjectInfo().allowDrop&&(Q.preventDefault(),Q.stopPropagation())}),l.addEventListener("dragenter",function(Q){a.rb.isBrowserDragActive("panelItem")&&a.rb.getBrowserDragId()!==a.id&&a.getDropObjectInfo().allowDrop&&(l.classList.add("rbroMenuItemDragOver"),a.dragEnterCount++,Q.preventDefault())}),l.addEventListener("dragleave",function(Q){a.rb.isBrowserDragActive("panelItem")&&a.rb.getBrowserDragId()!==a.id&&a.getDropObjectInfo().allowDrop&&(a.dragEnterCount--,a.dragEnterCount===0&&l.classList.remove("rbroMenuItemDragOver"))}),l.addEventListener("drop",function(Q){if(a.rb.isBrowserDragActive("panelItem")&&a.rb.getBrowserDragId()!==a.id){var ie=a.getDropObjectInfo();if(ie.allowDrop){a.dragEnterCount--,l.classList.remove("rbroMenuItemDragOver");var be=new le("Move panel item",a.rb),_e=a.rb.getDataObject(a.rb.getBrowserDragId());if(_e instanceof se&&_e.getValue("containerId")!==ie.container.getId()){_e.checkBounds(_e.getValue("xVal"),_e.getValue("yVal"),_e.getValue("widthVal"),_e.getValue("heightVal"),ie.container.getSize(),be);var we=new e(_e.getId(),"containerId",ie.container.getId(),e.type.internal,a.rb);be.addCommand(we)}var Oe=new i(_e.getPanelItem(),ie.panel,ie.position,a.rb);return be.addCommand(Oe),a.rb.executeCommand(be),Q.preventDefault(),!1}}});var y=t("div",{class:"rbroMenuItemText"});if(y.append(t("span",{id:"rbro_menu_item_name".concat(this.id)},s)),this.properties.showAdd){var j=t("div",{id:"rbro_menu_item_add".concat(this.id),class:"rbroButton rbroRoundButton rbroIcon-plus"});j.addEventListener("click",function(Q){if(S==="parameter"){var ie=new z(!0,{},a.rb.getUniqueId(),a.getId(),-1,a.rb);a.rb.executeCommand(ie)}else if(S==="style"){var be=new fe(!0,{},a.rb.getUniqueId(),a.getId(),-1,a.rb);a.rb.executeCommand(be)}var _e=a.children[a.children.length-1];a.rb.selectObject(_e.getId(),!0),Q.stopPropagation()}),l.append(j)}if(this.properties.showDelete){var V=t("div",{class:"rbroButton rbroDeleteButton rbroIcon-cancel"});V.addEventListener("click",function(Q){var ie=null;S==="parameter"?ie=new z(!1,a.getData().toJS(),a.getId(),a.parent.getId(),a.getSiblingPosition(),a.rb):(S==="style"||a.isDocElementPanel()&&a.getData()instanceof se)&&(ie=new le("Delete",a),a.getData().addCommandsForDelete(ie)),ie!==null&&a.rb.executeCommand(ie),Q.stopPropagation()}),l.append(V)}l.addEventListener("click",function(Q){if(!a.properties.hasDetails||document.getElementById("rbro_menu_item".concat(a.id)).classList.contains("rbroMenuItemActive")){var ie=document.getElementById("rbro_menu_item_children".concat(a.id));ie&&(l.classList.toggle("rbroMenuItemOpen"),ie.classList.toggle("rbroHidden"))}if(a.properties.hasDetails)if(a.rb.isSelectedObject(a.id))Q.shiftKey&&a.rb.deselectObject(a.id);else{var be=!0;a.isDocElementPanel()&&(be=!Q.shiftKey),a.rb.selectObject(a.id,be)}}),this.properties.hasChildren&&(l.classList.add("rbroMenuItemNoChildren"),y.append(t("div",{id:"rbro_menu_item_children_toggle".concat(this.id),class:"rbroMenuArrow rbroIcon-arrow-right"})),this.element.append(t("ul",{id:"rbro_menu_item_children".concat(this.id),class:"rbroHidden"}))),l.prepend(y),this.element.prepend(l)}return L(R,[{key:"getId",value:function(){return this.id}},{key:"getElement",value:function(){return this.element}},{key:"show",value:function(){this.element.classList.remove("rbroHidden")}},{key:"hide",value:function(){this.element.classList.add("rbroHidden")}},{key:"getPanelName",value:function(){return this.panelName}},{key:"getParent",value:function(){return this.parent}},{key:"getData",value:function(){return this.data}},{key:"setData",value:function(u){this.data=u,document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=u!==null?u.getName():""}},{key:"setActive",value:function(){document.getElementById("rbro_menu_item".concat(this.id)).classList.add("rbroMenuItemActive")}},{key:"setInactive",value:function(){document.getElementById("rbro_menu_item".concat(this.id)).classList.remove("rbroMenuItemActive")}},{key:"getParentIds",value:function(){for(var u=[],b=this.getParent();b!==null;)u.push(b.id),b=b.getParent();return u}},{key:"openParentItems",value:function(){for(var u=this.getParent();u!==null;)u.open(),u=u.getParent()}},{key:"open",value:function(){var u=document.getElementById("rbro_menu_item_children".concat(this.getId()));u&&(document.getElementById("rbro_menu_item".concat(this.getId())).classList.add("rbroMenuItemOpen"),u.classList.remove("rbroHidden"))}},{key:"close",value:function(){var u=document.getElementById("rbro_menu_item_children".concat(this.getId()));u&&(document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemOpen"),u.classList.add("rbroHidden"))}},{key:"appendChild",value:function(u){this.children.length===0&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemNoChildren"),this.children.push(u),document.getElementById("rbro_menu_item_children".concat(this.getId())).append(u.getElement())}},{key:"insertChild",value:function(u,b){this.children.length===0&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemNoChildren"),u!==-1?this.children.splice(u,0,b):this.children.push(b);var x=document.querySelectorAll("#rbro_menu_item_children".concat(this.getId()," > li"));u>=0&&u<x.length?x[u].before(b.getElement()):document.getElementById("rbro_menu_item_children".concat(this.getId())).append(b.getElement())}},{key:"getChildren",value:function(){return this.children}},{key:"getChildByName",value:function(u){return this.getChildByNameExclude(u,null)}},{key:"getChildByNameExclude",value:function(u,b){var x,v=Ee(this.children);try{for(v.s();!(x=v.n()).done;){var a=x.value;if(a.getData()!==null&&a.getData()!==b&&a.getData().getName()===u)return a}}catch(s){v.e(s)}finally{v.f()}return null}},{key:"removeChild",value:function(u){this.removeChildInternal(u,!0)}},{key:"removeChildInternal",value:function(u,b){for(var x=0;x<this.children.length;x++)if(u.getId()===this.children[x].getId()){if(this.children.splice(x,1),b&&u.getElement().remove(),this.children.length===0){var v=document.getElementById("rbro_menu_item".concat(this.getId()));v!==null&&v.classList.add("rbroMenuItemNoChildren")}break}}},{key:"getSiblingPosition",value:function(){if(this.getParent()!==null){for(var u=this.getParent().getChildren(),b=0;b<u.length;b++)if(u[b]===this)return b}return 0}},{key:"moveTo",value:function(u){this.element.parentElement.removeChild(this.element),this.parent.removeChildInternal(this,!1),this.parent=u,u.appendChild(this)}},{key:"moveToPosition",value:function(u,b){this.element.parentElement.removeChild(this.element),this.parent.removeChildInternal(this,!1),this.parent=u,u.insertChild(b,this)}},{key:"clear",value:function(){this.children.length>0&&(d(document.getElementById("rbro_menu_item_children".concat(this.id))),this.children=[])}},{key:"getDropObjectInfo",value:function(){var u={allowDrop:!1,panel:null,position:-1,container:null},b=this.rb.getDataObject(this.rb.getBrowserDragId());if(b!==null){var x=!1;if(b instanceof se){if(this.data instanceof se&&this.data.isDroppingAllowed()?(u.container=this.data.getLinkedContainer(),u.container===null&&(u.container=this.data.getContainer(),x=!0)):this.panelName==="band"&&(u.container=this.data),u.container!==null&&u.container.isElementAllowed(b.getElementType())){u.allowDrop=!0;var v,a=Ee(b.getLinkedContainers());try{for(a.s();!(v=a.n()).done;){var s=v.value;if(s===u.container||u.container.isChildOf(s)){u.allowDrop=!1;break}}}catch(y){a.e(y)}finally{a.f()}}}else if(b instanceof G)if(this.data instanceof G){var l=this.data.getParent();l!==null?l.getValue("type")===G.type.array?b.getValue("type")!==G.type.array&&b.getValue("type")!==G.type.map&&b.getValue("type")!==G.type.sum&&b.getValue("type")!==G.type.average&&(u.allowDrop=!0,x=!0):l.getValue("type")===G.type.map&&b.getValue("type")!==G.type.array&&b.getValue("type")!==G.type.map&&(u.allowDrop=!0,x=!0):(u.allowDrop=!0,x=!0)}else this.panelName==="parameter"&&(u.allowDrop=!0);else b instanceof pe&&(this.data instanceof pe?(u.allowDrop=!0,x=!0):this.panelName==="style"&&(u.allowDrop=!0));u.allowDrop&&(x?(u.panel=this.getParent(),u.position=this.getSiblingPosition()+1):(u.panel=this,u.position=0),(u.panel===null||u.panel===b.getPanelItem().getParent()&&u.position===b.getPanelItem().getSiblingPosition())&&(u.allowDrop=!1))}return u}},{key:"isDocElementPanel",value:function(){return this.panelName===se.type.text||this.panelName===se.type.image||this.panelName===se.type.line||this.panelName===se.type.table||this.panelName===se.type.pageBreak||this.panelName===se.type.barCode||this.panelName===se.type.frame||this.panelName===se.type.section}}]),R}(),z=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s,l,y,j){var V;return J(this,x),(V=b.call(this)).add=v,V.initialData=a,V.parentId=l,V.position=y,V.rb=j,V.id=s,V.showDelete=!0,V}return L(x,[{key:"getName",value:function(){return this.add?"Add parameter":"Delete parameter"}},{key:"setShowDelete",value:function(a){this.showDelete=a}},{key:"do",value:function(){this.add?this.addParameter():this.deleteParameter()}},{key:"undo",value:function(){this.add?this.deleteParameter():this.addParameter()}},{key:"addParameter",value:function(){var a=this.rb.getDataObject(this.parentId);if(a!==null){var s=new G(this.id,this.initialData,this.rb);this.rb.addParameter(s);var l=new Le("parameter",a.getPanelItem(),s,{hasChildren:!0,showAdd:!0,showDelete:this.showDelete,draggable:!0},this.rb);l.openParentItems(),s.setPanelItem(l),a.getPanelItem().insertChild(this.position,l),s.setup(),this.rb.notifyEvent(s,w.operation.add)}}},{key:"deleteParameter",value:function(){var a=this.rb.getDataObject(this.id);a!==null&&(this.initialData=a.toJS(),this.rb.deleteParameter(a))}},{key:"getClassName",value:function(){return"AddDeleteParameterCmd"}}]),x}(w);function ge(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,y){if(l){if(typeof l=="string")return Z(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?Z(l,y):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var y=u.next();return a=y.done,y},e:function(y){s=!0,v=y},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function Z(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var k,I,q,G=function(){function R(S,u,b){J(this,R),this.rb=b,this.id=S,this.name=b.getLabel("parameter"),this.panelItem=null,this.errors=[],this.type=R.type.string,this.arrayItemType=R.type.string,this.eval=!b.getProperty("adminMode"),this.nullable=!1,this.pattern="",this.expression="",this.testData="",this.testDataBoolean=!1,this.testDataImage="",this.testDataImageFilename="",this.children=[],this.editable=b.getProperty("adminMode"),this.showOnlyNameType=!1,this.setInitialData(u)}return L(R,[{key:"setInitialData",value:function(u){for(var b in u)u.hasOwnProperty(b)&&this.hasOwnProperty(b)&&(this[b]=u[b]);"showOnlyNameType"in u&&u.showOnlyNameType&&(this.editable=!1)}},{key:"setHighlightUnused",value:function(u){u?document.getElementById("rbro_menu_item".concat(this.panelItem.getId())).classList.add("rbroUnusedParameter"):document.getElementById("rbro_menu_item".concat(this.panelItem.getId())).classList.remove("rbroUnusedParameter")}},{key:"setup",value:function(){if(this.type===R.type.array||this.type===R.type.map){var u,b=this.rb.getProperty("adminMode"),x=ge(this.children);try{for(x.s();!(u=x.n()).done;){var v=u.value,a=new R(v.id||this.rb.getUniqueId(),v,this.rb);this.rb.addParameter(a);var s=new Le("parameter",this.panelItem,a,{hasChildren:!0,showAdd:b,showDelete:b,draggable:!0},this.rb);a.setPanelItem(s),this.panelItem.appendChild(s),a.setup(),this.rb.notifyEvent(a,w.operation.add)}}catch(l){x.e(l)}finally{x.f()}}this.updateMenuItemDisplay()}},{key:"getFields",value:function(){return["id","name","type","arrayItemType","eval","nullable","pattern","expression","showOnlyNameType","testData","testDataBoolean","testDataImage","testDataImageFilename"]}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){var u,b=this.id;if(this.type===R.type.array||this.type===R.type.map)for(var x=this.children.slice(),v=0;v<x.length;){var a=x[v];a.id>b&&(b=a.id),a.type!==R.type.array&&a.type!==R.type.map||x.push.apply(x,function(s){if(Array.isArray(s))return ee(s)}(u=a.children)||function(s){if(typeof Symbol!="undefined"&&s[Symbol.iterator]!=null||s["@@iterator"]!=null)return Array.from(s)}(u)||function(s,l){if(s){if(typeof s=="string")return ee(s,l);var y=Object.prototype.toString.call(s).slice(8,-1);return y==="Object"&&s.constructor&&(y=s.constructor.name),y==="Map"||y==="Set"?Array.from(s):y==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(y)?ee(s,l):void 0}}(u)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),v++}return b}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(u){this.panelItem=u}},{key:"getValue",value:function(u){return this[u]}},{key:"setValue",value:function(u,b){this[u]=b,u==="type"&&this.updateMenuItemDisplay()}},{key:"updateMenuItemDisplay",value:function(){this.rb.getProperty("adminMode")&&(this.type===R.type.array||this.type===R.type.map?(document.getElementById("rbro_menu_item_add".concat(this.getId())).removeAttribute("style"),document.getElementById("rbro_menu_item_children".concat(this.getId())).style.display="block",document.getElementById("rbro_menu_item_children_toggle".concat(this.getId())).removeAttribute("style")):(document.getElementById("rbro_menu_item_add".concat(this.getId())).style.display="none",document.getElementById("rbro_menu_item_children".concat(this.getId())).style.display="none",document.getElementById("rbro_menu_item_children_toggle".concat(this.getId())).style.display="none"))}},{key:"getParent",value:function(){return this.panelItem!==null&&this.panelItem.getParent().getData()instanceof R?this.panelItem.getParent().getData():null}},{key:"addError",value:function(u){this.errors.push(u)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"addCommandsForChangedParameterName",value:function(u,b,x){this.addCommandForChangedParameterName(u,b,"expression",x);var v,a=ge(this.getChildren());try{for(a.s();!(v=a.n()).done;)v.value.addCommandsForChangedParameterName(u,b,x)}catch(s){a.e(s)}finally{a.f()}}},{key:"addCommandForChangedParameterName",value:function(u,b,x,v){var a,s,l=u.getParent();if(l!==null&&l.getValue("type")===R.type.map?(a="${"+l.getName()+"."+u.getName()+"}",s="${"+l.getName()+"."+b+"}"):u.getValue("type")===R.type.map?(a="${"+u.getName()+".",s="${"+b+"."):(a="${"+u.getName()+"}",s="${"+b+"}"),this.getValue(x).indexOf(a)!==-1){var y=new e(this.id,x,this.getValue(x).replaceAll(a,s),e.type.text,this.rb);v.addCommand(y)}}},{key:"addUpdateTestDataCmdForChangedParameterName",value:function(u,b,x){var v=b.length>0?b[0]:null;if(v!==null&&(v.type===R.type.array||v.type===R.type.map))try{var a=v.getTestData(!0);this.renameTestDataParameter(a,this.getName(),u,b,0);var s=JSON.stringify(a);if(this.testData!==s){var l=new e(v.getId(),"testData",s,e.type.text,this.rb);x.addCommand(l)}}catch(y){}}},{key:"renameTestDataParameter",value:function(u,b,x,v,a){var s,l=a+1,y=l<v.length,j=y?v[l].getName():b,V=ge(u);try{for(V.s();!(s=V.n()).done;){var Q=s.value;j in Q&&(y?this.renameTestDataParameter(Q[j],b,x,v,l):(Q[x]=Q[j],delete Q[j]))}}catch(ie){V.e(ie)}finally{V.f()}}},{key:"addCommandsForChangedParameterType",value:function(u,b){if(this.type===R.type.array||this.type===R.type.simpleArray||this.type===R.type.map||u===R.type.array||u===R.type.simpleArray||u===R.type.map){var x=new e(this.getId(),"testData","",e.type.text,this.rb);b.addCommand(x)}if(this.type!==R.type.array&&u===R.type.array){var v={name:"row_number",type:R.type.number,eval:!1,editable:!1,showOnlyNameType:!0},a=new z(!0,v,this.rb.getUniqueId(),this.getId(),0,this.rb);a.setShowDelete(!1),b.addCommand(a)}else if(this.type===R.type.array&&u!==R.type.array){var s,l=ge(this.getChildren());try{for(l.s();!(s=l.n()).done;){var y=s.value;if(y.getValue("name")==="row_number"&&!y.getValue("editable")){var j=new z(!1,y.toJS(),y.getId(),this.getId(),y.getPanelItem().getSiblingPosition(),this.rb);b.addCommand(j);break}}}catch(V){l.e(V)}finally{l.f()}}}},{key:"toJS",value:function(){var u,b={},x=ge(this.getFields());try{for(x.s();!(u=x.n()).done;){var v=u.value;b[v]=this.getValue(v)}}catch(j){x.e(j)}finally{x.f()}if(this.type===R.type.array||this.type===R.type.map){var a,s=[],l=ge(this.panelItem.getChildren());try{for(l.s();!(a=l.n()).done;){var y=a.value;s.push(y.getData().toJS())}}catch(j){l.e(j)}finally{l.f()}b.children=s}return b}},{key:"getChildren",value:function(){var u=[];if(this.type===R.type.array||this.type===R.type.map){var b,x=ge(this.panelItem.getChildren());try{for(x.s();!(b=x.n()).done;){var v=b.value;u.push(v.getData())}}catch(a){x.e(a)}finally{x.f()}}return u}},{key:"appendParameterItems",value:function(u,b,x){this.appendParameterItemsWithPrefix(u,b,x,"")}},{key:"appendParameterItemsWithPrefix",value:function(u,b,x,v){if(this.type===R.type.map){var a,s=[],l=[],y=ge(this.getChildren());try{for(y.s();!(a=y.n()).done;){var j=a.value;j.type===R.type.map?l.push(j):j.isAllowed(b)&&s.push(j)}}catch(Oe){y.e(Oe)}finally{y.f()}if(s.length>0){u.push({separator:!0,id:this.id,separatorClass:"rbroParameterGroup",name:v+this.name});var V,Q=ge(s);try{for(Q.s();!(V=Q.n()).done;){var ie=V.value,be=v+this.name+"."+ie.getName();u.push({name:be,nameLowerCase:be.toLowerCase(),id:ie.getId(),description:"",dataSourceName:x})}}catch(Oe){Q.e(Oe)}finally{Q.f()}}for(var _e=0,we=l;_e<we.length;_e++)we[_e].appendParameterItemsWithPrefix(u,b,x,v+this.name+".")}else this.isAllowed(b)&&u.push({name:v+this.name,nameLowerCase:this.name.toLowerCase(),id:this.id,description:"",dataSourceName:x})}},{key:"isAllowed",value:function(u){return this.type!==R.type.array?!Array.isArray(u)||u.indexOf(this.type)!==-1:Array.isArray(u)&&u.indexOf(this.type)!==-1}},{key:"appendFieldParameterItems",value:function(u,b,x){if(this.type===R.type.array){var v,a=!0,s=ge(this.panelItem.getChildren());try{for(s.s();!(v=s.n()).done;){var l=v.value.getData();if(!Array.isArray(b)||b.indexOf(l.getValue("type"))!==-1){if(x){a&&u.push({separator:!0,id:this.id,separatorClass:"rbroParameterRowGroup",name:this.rb.getLabel("parameterRowParams")});var y=l.getName();u.push({name:y,nameLowerCase:y.toLowerCase(),id:l.getId(),description:""})}else{var j=this.name+"."+l.getName();u.push({name:j,nameLowerCase:j.toLowerCase(),id:l.getId(),description:""})}a=!1}}}catch(Q){s.e(Q)}finally{s.f()}}if(x){var V=this.getParent();V!==null&&V.appendFieldParameterItems(u,b,x)}}},{key:"getParameterFields",value:function(){var u=[];if(this.type===R.type.array||this.type===R.type.simpleArray||this.type===R.type.map)if(this.type===R.type.simpleArray)u.push({name:"data",type:this.arrayItemType,parameter:this});else{var b,x=ge(this.getChildren());try{for(x.s();!(b=x.n()).done;){var v=b.value;v.showOnlyNameType||u.push({name:v.getName(),type:v.getValue("type"),parameter:v})}}catch(a){x.e(a)}finally{x.f()}}return u}},{key:"getTestData",value:function(u){var b=null;try{b=JSON.parse(this.testData)}catch(x){}return this.type!==R.type.array&&this.type!==R.type.simpleArray&&this.type!==R.type.map||!b?null:R.getSanitizedTestData(this,b,u)}},{key:"getClassName",value:function(){return"Parameter"}}],[{key:"getSanitizedTestData",value:function(u,b,x){var v;if(u.type===R.type.map)b&&Object.getPrototypeOf(b)===Object.prototype||(b={}),v=R.getSanitizedTestDataMap(u,b,x);else if(u.type===R.type.simpleArray)v=R.getSanitizedTestDataSimpleArray(u,b,x);else if(u.type===R.type.array){Array.isArray(b)||(b=[]),v=[];var a,s=ge(b);try{for(s.s();!(a=s.n()).done;){var l=a.value;l&&Object.getPrototypeOf(l)===Object.prototype||(l={}),v.push(R.getSanitizedTestDataMap(u,l,x))}}catch(y){s.e(y)}finally{s.f()}}return v}},{key:"getSanitizedTestDataMap",value:function(u,b,x){var v,a={},s=ge(u.getChildren());try{for(s.s();!(v=s.n()).done;){var l=v.value;if(!l.showOnlyNameType){var y=l.name in b?b[l.name]:null;l.type===R.type.array||l.type===R.type.map?a[l.name]=R.getSanitizedTestData(l,y,x):l.type===R.type.simpleArray?a[l.name]=R.getSanitizedTestDataSimpleArray(l,y,x):a[l.name]=R.getSanitizedTestDataValue(l.type,y,x)}}}catch(j){s.e(j)}finally{s.f()}return a}},{key:"getSanitizedTestDataSimpleArray",value:function(u,b,x){var v=b;Array.isArray(v)||(v=[]);var a,s=[],l=ge(v);try{for(l.s();!(a=l.n()).done;){var y=a.value;if(Object.getPrototypeOf(y)===Object.prototype){var j=R.getSanitizedTestDataValue(u.arrayItemType,y.data,x);x?s.push({data:j}):s.push(j)}}}catch(V){l.e(V)}finally{l.f()}return s}},{key:"getSanitizedTestDataValue",value:function(u,b,x){var v=null;if(u===R.type.string)typeof b=="string"&&(v=b);else if(u===R.type.number){if(typeof b=="number")v=b;else if(typeof b=="string"){var a=Number(b.replaceAll(",","."));isNaN(a)||(v=a)}}else u===R.type.boolean?v=typeof b=="boolean"?b:Boolean(b):u===R.type.date?typeof b=="string"&&R.dateRegex.test(b)&&(v=b):u===R.type.image&&(v=b&&Object.getPrototypeOf(b)===Object.prototype&&"data"in b&&"filename"in b?x?b:b.data:x?{data:"",filename:""}:"");return v}},{key:"removeIds",value:function(u){if(u.children){var b,x=ge(u.children);try{for(x.s();!(b=x.n()).done;){var v=b.value;"id"in v&&delete v.id}}catch(a){x.e(a)}finally{x.f()}}}}]),R}();function oe(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,y){if(l){if(typeof l=="string")return ae(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?ae(l,y):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var y=u.next();return a=y.done,y},e:function(y){s=!0,v=y},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function ae(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}q=/^(\d{4})-(\d{1,2})-(\d{1,2})( (\d{1,2}):(\d{2})(:(\d{2}))?)?$/,(I="dateRegex")in(k=G)?Object.defineProperty(k,I,{value:q,enumerable:!0,configurable:!0,writable:!0}):k[I]=q,G.type={none:"none",string:"string",number:"number",boolean:"boolean",date:"date",image:"image",array:"array",simpleArray:"simple_array",map:"map",sum:"sum",average:"average"};var se=function(){function R(S,u,b,x,v){J(this,R),this.rb=v,this.id=u,this.name=S,this.panelItem=null,this.x="0",this.y="0",this.width=""+b,this.height=""+x,this.containerId=null,this.linkedContainerId=null,this.printIf="",this.removeEmptyElement=!1,this.el=null,this.selected=!1,this.xVal=0,this.yVal=0,this.widthVal=0,this.heightVal=0,this.errors=[]}return L(R,[{key:"setInitialData",value:function(u){for(var b in u)u.hasOwnProperty(b)&&this.hasOwnProperty(b)&&(this[b]=u[b]);this.x=""+this.x,this.y=""+this.y,this.width=""+this.width,this.height=""+this.height,this.xVal=A(this.x),this.yVal=A(this.y),this.widthVal=A(this.width),this.heightVal=A(this.height)}},{key:"setup",value:function(u){var b=this.getContainer();if(b!==null){var x=b.getContentSize();this.xVal+this.widthVal>x.width&&(this.xVal=x.width-this.widthVal),this.xVal<0&&(this.xVal=0),this.yVal+this.heightVal>x.height&&(this.yVal=x.height-this.heightVal),this.yVal<0&&(this.yVal=0),this.x=""+this.xVal,this.y=""+this.yVal}}},{key:"registerContainerEventHandlers",value:function(){var u=this;this.el.addEventListener("dblclick",function(b){u.rb.isSelectedObject(u.id)||(u.rb.selectObject(u.id,!0),b.stopPropagation())}),this.el.addEventListener("mousedown",function(b){b.shiftKey?(u.rb.deselectObject(u.id),b.stopPropagation()):u.rb.isSelectedObject(u.id)?(u.rb.getDocument().startDrag(b.pageX,b.pageY,u.id,u.containerId,u.getElementType(),R.dragType.element),b.stopPropagation()):u.rb.deselectAll(!0)}),this.el.addEventListener("touchstart",function(b){if(u.rb.isSelectedObject(u.id)){var x=B(b);u.rb.getDocument().startDrag(x.x,x.y,u.id,u.containerId,u.getElementType(),R.dragType.element)}b.preventDefault()}),this.el.addEventListener("touchmove",function(b){u.rb.getDocument().processDrag(b)}),this.el.addEventListener("touchend",function(b){u.rb.getDocument().stopDrag()})}},{key:"registerEventHandlers",value:function(){var u=this;this.el.addEventListener("dblclick",function(b){u.handleDoubleClick(b)}),this.el.addEventListener("mousedown",function(b){u.handleClick(b,!1)}),this.el.addEventListener("touchstart",function(b){if(u.rb.isSelectedObject(u.id)){var x=B(b);u.rb.getDocument().startDrag(x.x,x.y,u.id,u.containerId,u.getElementType(),R.dragType.element),b.preventDefault()}else u.handleClick(b,!0)}),this.el.addEventListener("touchmove",function(b){u.rb.isSelectedObject(u.id)&&u.rb.getDocument().processDrag(b)}),this.el.addEventListener("touchend",function(b){u.rb.isSelectedObject(u.id)&&u.rb.getDocument().stopDrag()})}},{key:"handleDoubleClick",value:function(u){this.handleClick(u,!0)}},{key:"handleClick",value:function(u,b){if(this.rb.isSelectedObject(this.id))u.shiftKey?this.rb.deselectObject(this.id):b||this.rb.getDocument().startDrag(u.pageX,u.pageY,this.id,this.containerId,this.getElementType(),R.dragType.element),u.stopPropagation();else if(b||!this.isContainerSelected()){var x=!0;if(u.shiftKey){var v=[];this.appendContainerChildren(v);for(var a=0,s=v;a<s.length;a++){var l=s[a];if(this.rb.isSelectedObject(l.getId())){x=!1;break}}}x&&this.rb.selectObject(this.id,!u.shiftKey),u.stopPropagation()}}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(u){this.panelItem=u}},{key:"getContainerId",value:function(){return this.containerId}},{key:"getContainer",value:function(){return this.rb.getDataObject(this.getContainerId())}},{key:"getLinkedContainer",value:function(){return this.linkedContainerId!==null?this.rb.getDataObject(this.linkedContainerId):null}},{key:"getLinkedContainers",value:function(){var u=this.getLinkedContainer();return u?[u]:[]}},{key:"getContainerContentSize",value:function(){var u=this.getContainer();return u!==null?u.getContentSize():{width:0,height:0}}},{key:"appendToContainer",value:function(){var u=this.getContainer();u!==null&&u.appendElement(this.el)}},{key:"isContainerSelected",value:function(){var u=this.getContainer();return u!==null&&u.isSelected()}},{key:"appendContainerChildren",value:function(u){if(this.linkedContainerId!==null&&this.panelItem!==null){var b,x=oe(this.panelItem.getChildren());try{for(x.s();!(b=x.n()).done;){var v=b.value;v.getData()instanceof R&&(u.push(v.getData()),v.getData().appendContainerChildren(u))}}catch(a){x.e(a)}finally{x.f()}}}},{key:"getAbsolutePosition",value:function(){var u={x:this.xVal,y:this.yVal},b=this.getContainer();if(b!==null){var x=b.getOffset();u.x+=x.x,u.y+=x.y}return u}},{key:"checkBounds",value:function(u,b,x,v,a,s){if(u+x>a.width&&(u=a.width-x),u<0&&(u=0),u+x>a.width&&(x=a.width-u),b+v>a.height&&(b=a.height-v),b<0&&(b=0),b+v>a.height&&(v=a.height-b),u!==this.xVal&&this.hasProperty("x")){var l=new e(this.id,"x",""+u,e.type.text,this.rb);l.disableSelect(),s.addCommand(l)}if(b!==this.yVal&&this.hasProperty("y")){var y=new e(this.id,"y",""+b,e.type.text,this.rb);y.disableSelect(),s.addCommand(y)}if(x!==this.getDisplayWidth()&&this.hasProperty("width")&&this.addCommandsForChangedWidth(x,!0,s),v!==this.getDisplayHeight()&&this.hasProperty("height")){var j=new e(this.id,"height",""+v,e.type.text,this.rb);j.disableSelect(),s.addCommand(j)}var V=this.getLinkedContainer();if(V!==null&&V.getPanelItem()!==null){var Q,ie={width:x,height:v},be=oe(V.getPanelItem().getChildren());try{for(be.s();!(Q=be.n()).done;){var _e=Q.value;if(_e.getData()instanceof R){var we=_e.getData();we.checkBounds(we.getValue("xVal"),we.getValue("yVal"),we.getDisplayWidth(),we.getDisplayHeight(),ie,s)}}}catch(Oe){be.e(Oe)}finally{be.f()}}}},{key:"getValue",value:function(u){return this[u]}},{key:"setValue",value:function(u,b){if(this[u]=b,u==="x"||u==="y"||u==="width"||u==="height")this[u+"Val"]=A(b),this.updateDisplay();else if(u==="containerId"){this.el!==null&&(this.el.parentElement.removeChild(this.el),this.appendToContainer());var x=this.getLinkedContainers();if(x.length>0){var v,a=this.getContainer(),s=oe(x);try{for(s.s();!(v=s.n()).done;)v.value.setParent(a)}catch(j){s.e(j)}finally{s.f()}}var l,y=oe(this.rb.getContainers());try{for(y.s();!(l=y.n()).done;)l.value.initLevel()}catch(j){y.e(j)}finally{y.f()}this.updateDisplay()}else["styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(u)!==-1&&(this.updateStyle(),["borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(u)!==-1&&this.updateDisplay())}},{key:"getUpdateValue",value:function(u,b){return b}},{key:"getDisplayWidth",value:function(){return this.widthVal}},{key:"getDisplayHeight",value:function(){return this.heightVal}},{key:"getFields",value:function(){var u=this.getProperties();return u.splice(0,0,"id","containerId"),u}},{key:"getProperties",value:function(){return[]}},{key:"hasProperty",value:function(u){return this.getProperties().indexOf(u)!==-1}},{key:"getElementType",value:function(){return R.type.none}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.widthVal,this.heightVal)}},{key:"updateDisplayInternal",value:function(u,b,x,v){this.el!==null&&(this.el.style.left=this.rb.toPixel(u),this.el.style.top=this.rb.toPixel(b),this.el.style.width=this.rb.toPixel(x),this.el.style.height=this.rb.toPixel(v))}},{key:"updateStyle",value:function(){}},{key:"updateChangedStyle",value:function(u){A(this.styleId)===u&&this.updateStyle()}},{key:"getDragDiff",value:function(u,b,x,v){var a,s,l={x:0,y:0},y=this.xVal,j=this.yVal,V=y+this.getDisplayWidth(),Q=j+this.getDisplayHeight(),ie=this.getMinWidth(),be=this.getMaxWidth(),_e=this.getMinHeight();if(x===R.dragType.element)a=y+u,v!==0&&(a=O(a,v)),s=j+b,v!==0&&(s=O(s,v)),l.x=a-y,l.y=s-j;else{var we=this.getContainerContentSize();x!==R.dragType.sizerNW&&x!==R.dragType.sizerN&&x!==R.dragType.sizerNE||(s=j+b,v!==0&&(s=O(s,v)),s>Q-_e?s=v!==0?N(Q-_e,v):Q-_e:s<0&&(s=0),l.y=s-j),x!==R.dragType.sizerNE&&x!==R.dragType.sizerE&&x!==R.dragType.sizerSE||(a=V+u,v!==0&&(a=O(a,v)),a<y+ie?a=v!==0?U(y+ie,v):y+ie:a>be&&(a=be),l.x=a-V),x!==R.dragType.sizerSE&&x!==R.dragType.sizerS&&x!==R.dragType.sizerSW||(s=Q+b,v!==0&&(s=O(s,v)),s<j+_e?s=v!==0?U(j+_e,v):j+_e:s>we.height&&(s=we.height),l.y=s-Q),x!==R.dragType.sizerSW&&x!==R.dragType.sizerW&&x!==R.dragType.sizerNW||(a=y+u,v!==0&&(a=O(a,v)),a>V-ie?a=v!==0?N(V-ie,v):V-ie:a<0&&(a=0),l.x=a-y)}return l}},{key:"updateDrag",value:function(u,b,x,v,a){var s=this.xVal,l=this.yVal,y=s+this.getDisplayWidth(),j=l+this.getDisplayHeight(),V=this.getMaxWidth(),Q=this.getContainerContentSize();x===R.dragType.element?(y=(s+=u)+this.getDisplayWidth(),j=(l+=b)+this.getDisplayHeight()):(x!==R.dragType.sizerNW&&x!==R.dragType.sizerN&&x!==R.dragType.sizerNE||(l+=b),x!==R.dragType.sizerNE&&x!==R.dragType.sizerE&&x!==R.dragType.sizerSE||(y+=u),x!==R.dragType.sizerSE&&x!==R.dragType.sizerS&&x!==R.dragType.sizerSW||(j+=b),x!==R.dragType.sizerSW&&x!==R.dragType.sizerW&&x!==R.dragType.sizerNW||(s+=u),s<0&&(s=0),y<s&&(y=s),l<0&&(l=0),j<l&&(j=l),y>V&&(y=V),j>Q.height&&(j=Q.height));var ie=y-s,be=j-l;if(a!==null){var _e=!1,we=this.getContainer(),Oe={width:0,height:0};if(v!==null&&v.getId()!==this.getContainerId()){if(_e=!0,Oe=v.getContentSize(),we!==null){var Pe=v.getOffsetTo(we);s-=Pe.x,l-=Pe.y}}else Oe=we.getContentSize();if(!_e||v.isElementAllowed(this.getElementType())){var Be=a.getCommands().length;if(this.checkBounds(s,l,ie,be,Oe,a),_e){var He=new e(this.id,"containerId",v.getId(),e.type.internal,this.rb);a.addCommand(He),He=new i(this.getPanelItem(),v.getPanelItem(),v.getPanelItem().getChildren().length,this.rb),a.addCommand(He)}a.getCommands().length===Be&&this.updateDisplay()}else this.updateDisplay()}else this.updateDisplayInternal(s,l,ie,be)}},{key:"select",value:function(){var u=this;if(this.el!==null){var b,x=this.getSizerContainerElement(),v=oe(this.getSizers());try{var a=function(){var l=b.value,y=l,j=t("div",{class:"rbroSizer rbroSizer".concat(l)});j.addEventListener("mousedown",function(V){u.rb.getDocument().startDrag(V.pageX,V.pageY,u.id,u.containerId,u.getElementType(),R.dragType["sizer"+y]),V.stopPropagation()}),j.addEventListener("touchstart",function(V){if(u.rb.isSelectedObject(u.id)){var Q=B(V);u.rb.getDocument().startDrag(Q.x,Q.y,u.id,u.containerId,u.getElementType(),R.dragType["sizer"+y])}V.preventDefault(),V.stopPropagation()}),j.addEventListener("touchmove",function(V){u.rb.getDocument().processDrag(V)}),j.addEventListener("touchend",function(V){u.rb.getDocument().stopDrag()}),x.append(j)};for(v.s();!(b=v.n()).done;)a()}catch(s){v.e(s)}finally{v.f()}this.el.classList.add("rbroSelected"),this.el.style.zIndex="10"}this.selected=!0}},{key:"deselect",value:function(){if(this.el!==null){var u,b=oe(this.getSizerContainerElement().querySelectorAll(".rbroSizer"));try{for(b.s();!(u=b.n()).done;)u.value.remove()}catch(x){b.e(x)}finally{b.f()}this.el.style.zIndex="",this.el.classList.remove("rbroSelected")}this.selected=!1}},{key:"getSizers",value:function(){return["N","NE","E","SE","S","SW","W","NW"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isAreaSelectionAllowed",value:function(){return!0}},{key:"isDraggingAllowed",value:function(){return!0}},{key:"isDroppingAllowed",value:function(){return!0}},{key:"getMinWidth",value:function(){return 20}},{key:"getMaxWidth",value:function(){return this.getContainerContentSize().width}},{key:"getMinHeight",value:function(){return 20}},{key:"createElement",value:function(){}},{key:"getElement",value:function(){return this.el}},{key:"getSizerContainerElement",value:function(){return this.el}},{key:"getContentElement",value:function(){return null}},{key:"hasDataSource",value:function(){return!1}},{key:"getDataSourceParameterName",value:function(){if(this.hasDataSource()){var u=this.getValue("dataSource").trim();if(u.length>=3&&u.substr(0,2)==="${"&&u.charAt(u.length-1)==="}")return u.substring(2,u.length-1)}return null}},{key:"getAllDataSources",value:function(){var u=[],b=[];this.getAllDataSourceParameterNames(b,null);for(var x=b.length-1;x>=0;x--){var v,a=b[x],s=null,l=oe(u);try{for(l.s();!(v=l.n()).done;){var y,j=oe(v.value.parameters);try{for(j.s();!(y=j.n()).done;){var V=y.value;if(V.getName()===a){s=V;break}}}catch(Q){j.e(Q)}finally{j.f()}}}catch(Q){l.e(Q)}finally{l.f()}s===null&&(s=this.rb.getParameterByName(a)),s!==null&&s.getValue("type")===G.type.array&&u.unshift({name:a,parameters:s.getChildren()})}return u}},{key:"getAllDataSourceParameterNames",value:function(u,b){if((this.getElementType()===R.type.table||this.getElementType()===R.type.section)&&b&&b.getValue("bandType")===P.bandType.content){var x=this.getDataSourceParameterName();x!==null&&u.push(x)}var v=this.getPanelItem();if(v!==null){var a=v.getParent();a!==null&&a.getData()instanceof R&&a.getData().getAllDataSourceParameterNames(u,this)}}},{key:"addCommandsForChangedParameterName",value:function(u,b,x){}},{key:"addCommandForChangedParameterName",value:function(u,b,x,v){for(var a=u.getParent(),s=this.getAllDataSources(),l=!1,y="",j=null,V=null;a!==null;){if(a.getValue("type")!==G.type.map){if(a.getValue("type")===G.type.array){l=!0,j=a.getName();break}return}y=a.getName()+"."+y,V=a.getName(),a=a.getParent()}var Q="${"+y+u.getName(),ie="${"+y+b;u.getValue("type")===G.type.map?(Q+=".",ie+="."):(Q+="}",ie+="}");var be=!1;if(s.length>0){var _e,we=V||u.getName(),Oe=oe(s[0].parameters);try{for(Oe.s();!(_e=Oe.n()).done;)if(_e.value.getName()===we){be=!0;break}}catch(He){Oe.e(He)}finally{Oe.f()}}if(l){for(var Pe=-1,Be=0;Be<s.length;Be++)if(s[Be].name===j){Pe=Be;break}Pe===0&&be&&s[0].name===j?this.addCommandForChangedText(Q,ie,x,v):Pe>0&&(Q="${"+j+":"+Q.substring(2),ie="${"+j+":"+ie.substring(2),this.addCommandForChangedText(Q,ie,x,v))}else be||this.addCommandForChangedText(Q,ie,x,v)}},{key:"addCommandForChangedText",value:function(u,b,x,v){var a=this.getValue(x),s=e.type.text;if(h(a)==="object"&&(a=JSON.stringify(a),s=e.type.richText),a.indexOf(u)!==-1){var l=a.replaceAll(u,b);s===e.type.richText&&(l=JSON.parse(l));var y=new e(this.id,x,l,s,this.rb);v.addCommand(y)}}},{key:"addCommandsForDelete",value:function(u){var b=[];this.appendContainerChildren(b),b.push(this);for(var x=0,v=b;x<v.length;x++){var a=v[x],s=new Tt(!1,a.getPanelItem().getPanelName(),a.toJS(),a.getId(),a.getContainerId(),a.getPanelItem().getSiblingPosition(),this.rb);u.addCommand(s)}}},{key:"addCommandsForChangedWidth",value:function(u,b,x){var v=new e(this.id,"width",""+u,e.type.text,this.rb);b&&v.disableSelect(),x.addCommand(v)}},{key:"addChildren",value:function(u){}},{key:"addError",value:function(u){this.errors.push(u)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){this.el!==null&&(this.el.remove(),this.el=null),this.panelItem!==null&&(this.panelItem.getParent().removeChild(this.panelItem),this.panelItem=null)}},{key:"toJS",value:function(){var u,b={elementType:this.getElementType()},x=oe(this.getFields());try{for(x.s();!(u=x.n()).done;){var v=u.value;["x","y","width","height"].indexOf(v)===-1?b[v]=this.getValue(v):b[v]=this.getValue(v+"Val")}}catch(a){x.e(a)}finally{x.f()}return b}}]),R}();se.type={none:"none",text:"text",image:"image",line:"line",table:"table",pageBreak:"page_break",tableText:"table_text",barCode:"bar_code",frame:"frame",section:"section"},se.dragType={none:-1,element:0,sizerN:1,sizerNE:2,sizerE:3,sizerSE:4,sizerS:5,sizerSW:6,sizerW:7,sizerNW:8};var Re=Je(5961),ke=Je.n(Re),Ve=Je(2592),Ze=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){var l;return J(this,x),(l=b.call(this,s.getLabel("docElementImage"),v,80,80,s)).elBarCode=null,l.elContent=null,l.content="",l.format="CODE128",l.displayValue=!1,l.barWidth="2",l.guardBar=!1,l.errorCorrectionLevel="M",l.rotate=!1,l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_colspan="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(a),l.name=l.rb.getLabel("docElementBarCode"),l}return L(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.content!==""&&this.updateBarCode(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(a,s){o(f(x.prototype),"setValue",this).call(this,a,s),a!=="content"&&a!=="format"&&a!=="displayValue"&&a!=="barWidth"&&a!=="guardBar"&&a!=="width"&&a!=="height"&&a!=="errorCorrectionLevel"&&a!=="rotate"||(this.updateBarCode(),this.updateDisplay(),a==="rotate"&&this.rb.isSelectedObject(this.getId())&&(this.rb.deselectObject(this.getId()),this.rb.selectObject(this.getId())))}},{key:"getProperties",value:function(){return["x","y","width","height","content","format","displayValue","barWidth","guardBar","errorCorrectionLevel","printIf","removeEmptyElement","rotate","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return se.type.barCode}},{key:"updateDisplayInternal",value:function(a,s,l,y){this.el!==null&&(this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(s),this.el.style.width=this.rb.toPixel(l),this.el.style.height=this.rb.toPixel(y))}},{key:"getSizers",value:function(){return this.format!=="QRCode"&&this.rotate?["N","NE","E","SE","S","SW","W","NW"]:["N","S"]}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroBarCodeElement"}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),style:"height: 100%"}),this.elBarCode=t("canvas",{id:"rbro_el_barcode".concat(this.id)}),this.elContent.append(this.elBarCode),this.el.append(this.elContent),this.appendToContainer(),this.updateBarCode(),o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){o(f(x.prototype),"remove",this).call(this)}},{key:"updateBarCode",value:function(){if(this.format==="QRCode"){this.widthVal=this.heightVal,this.width=""+this.widthVal;var a=this.content;a===""&&(a="https://www.reportbro.com");var s={width:this.widthVal,margin:0,errorCorrectionLevel:this.errorCorrectionLevel};this.clearRotateStyle(),Ve.toCanvas(this.elBarCode,a,s)}else{var l=!1,y=this.rotate?this.widthVal:this.heightVal;this.displayValue&&(y-=22),this.format!=="EAN8"&&this.format!=="EAN13"||!this.guardBar||(y-=12);var j={format:this.format,height:y,margin:0,displayValue:this.displayValue,width:2};this.format==="EAN8"||this.format==="EAN13"?j.flat=!this.guardBar:this.format==="UPC"&&(j.flat=!0);var V=A(this.barWidth);if(V&&(j.width=V),this.elBarCode.style.width="",this.elBarCode.style.height="",this.content!==""&&this.content.indexOf("${")===-1)try{ke()("#"+this.elBarCode.id,this.content,j),l=!0}catch(_e){}if(!l){var Q="";this.format==="CODE39"||this.format==="CODE128"?Q="12345678":this.format==="EAN13"?Q="5901234123457":this.format==="EAN8"?Q="96385074":this.format==="EAN5"?Q="12345":this.format==="EAN2"?Q="12":this.format==="ITF14"?Q="12345678901231":this.format==="UPC"?Q="036000291452":this.format!=="MSI"&&this.format!=="MSI10"&&this.format!=="MSI11"&&this.format!=="MSI1010"&&this.format!=="MSI1110"&&this.format!=="pharmacode"||(Q="1234"),ke()("#"+this.elBarCode.id,Q,j)}if(this.rotate){var ie=-(this.elBarCode.clientWidth-this.widthVal)/2,be=-ie;this.elBarCode.style.transform="translate(".concat(ie,"px, ").concat(be,"px) rotate(90deg)"),this.elContent.style.overflow="hidden"}else this.widthVal=this.elBarCode.clientWidth,this.width=""+this.widthVal,this.clearRotateStyle()}}},{key:"clearRotateStyle",value:function(){this.elBarCode.style.transform="",this.elContent.style.overflow=""}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"content",l),this.addCommandForChangedParameterName(a,s,"printIf",l)}},{key:"getClassName",value:function(){return"BarCodeElement"}}]),x}(se),et=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){return J(this,x),b.call(this,v,a,s)}return L(x,[{key:"setup",value:function(){this.el=this.rb.getDocument().getElement(this.band)}},{key:"isElementAllowed",value:function(a){return a!==se.type.pageBreak&&a!==se.type.frame&&a!==se.type.section}},{key:"getOffset",value:function(){var a=0,s=0;if(this.owner!==null&&(a=this.owner.getValue("xVal"),s=this.owner.getValue("yVal")),this.parent!==null){var l=this.parent.getOffset();a+=l.x,s+=l.y}return{x:a,y:s}}},{key:"getSize",value:function(){var a=0,s=0;return this.owner!==null&&(a=this.owner.getValue("widthVal"),s=this.owner.getValue("heightVal")),{width:a,height:s}}},{key:"getContentSize",value:function(){var a=0,s=0;if(this.owner!==null){a=this.owner.getValue("widthVal"),s=this.owner.getValue("heightVal");var l=this.owner.getValue("borderWidthVal");this.owner.getValue("borderLeft")&&(a-=l),this.owner.getValue("borderRight")&&(a-=l),this.owner.getValue("borderTop")&&(s-=l),this.owner.getValue("borderBottom")&&(s-=l)}return{width:a,height:s}}}]),x}(r),ht=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){var l;return J(this,x),(l=b.call(this,s.getLabel("docElementFrame"),v,100,100,s)).frame=null,l.setupComplete=!1,l.elContent=null,l.elContentFrame=null,l.label="",l.backgroundColor="",l.borderAll=!1,l.borderLeft=!1,l.borderTop=!1,l.borderRight=!1,l.borderBottom=!1,l.borderColor="#000000",l.borderWidth="1",l.shrinkToContentHeight=!1,l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(a),l.borderWidthVal=A(l.borderWidth),l}return L(x,[{key:"setup",value:function(a){this.borderWidthVal=A(this.borderWidth),o(f(x.prototype),"setup",this).call(this),this.createElement(),this.updateDisplay(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.frame=new et(this.linkedContainerId,"frame_"+this.linkedContainerId,this.rb),this.frame.init(this),this.rb.addContainer(this.frame),this.setupComplete=!0,this.updateStyle(),this.updateName(),a&&this.panelItem.open()}},{key:"registerEventHandlers",value:function(){o(f(x.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"setValue",value:function(a,s){a.indexOf("border")!==-1&&(this[a]=s,a==="borderWidth"&&(this.borderWidthVal=A(s)),pe.setBorderValue(this,a,"",s,this.rb)),o(f(x.prototype),"setValue",this).call(this,a,s),a==="label"&&this.updateName()}},{key:"updateDisplayInternal",value:function(a,s,l,y){this.el!==null&&(this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(s),this.el.style.width=this.rb.toPixel(l),this.el.style.height=this.rb.toPixel(y)),this.borderLeft&&(l-=this.borderWidthVal),this.borderRight&&(l-=this.borderWidthVal),this.borderTop&&(y-=this.borderWidthVal),this.borderBottom&&(y-=this.borderWidthVal),this.elContentFrame.style.width=this.rb.toPixel(l),this.elContentFrame.style.height=this.rb.toPixel(y)}},{key:"updateStyle",value:function(){var a;this.getValue("borderLeft")||this.getValue("borderTop")||this.getValue("borderRight")||this.getValue("borderBottom")?(a=this.getValue("borderTop")?"solid":"none",a+=this.getValue("borderRight")?" solid":" none",a+=this.getValue("borderBottom")?" solid":" none",a+=this.getValue("borderLeft")?" solid":" none",this.elContent.style.borderWidth=this.getValue("borderWidthVal")+"px",this.elContent.style.borderColor=this.getValue("borderColor")):a="none",this.elContent.style.borderStyle=a,this.el.style.backgroundColor=this.getValue("backgroundColor")}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,0,"id","containerId","linkedContainerId"),a}},{key:"getProperties",value:function(){return["label","x","y","width","height","backgroundColor","borderAll","borderLeft","borderTop","borderRight","borderBottom","borderColor","borderWidth","printIf","removeEmptyElement","shrinkToContentHeight","alignToPageBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return se.type.frame}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroFrameElement rbroElementContainer"}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentFrame=t("div",{id:"rbro_el_content_frame".concat(this.id),class:"rbroDocElementContentFrame"}),this.elContent.append(this.elContentFrame),this.el.append(this.elContent),this.appendToContainer(),this.registerEventHandlers()}},{key:"getContentElement",value:function(){return this.elContentFrame}},{key:"remove",value:function(){o(f(x.prototype),"remove",this).call(this),this.rb.deleteContainer(this.frame)}},{key:"updateName",value:function(){this.label.trim()!==""?this.name=this.label:this.name=this.rb.getLabel("docElementFrame"),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"printIf",l)}},{key:"getClassName",value:function(){return"FrameElement"}}]),x}(se),It=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){var l;return J(this,x),(l=b.call(this,s.getLabel("docElementImage"),v,80,80,s)).source="",l.image="",l.imageWidth=0,l.imageHeight=0,l.imageRatio=0,l.imageFilename="",l.elImg=null,l.elContent=null,l.horizontalAlignment=pe.alignment.left,l.verticalAlignment=pe.alignment.top,l.backgroundColor="",l.link="",l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(a),l}return L(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.setImage(),this.updateDisplay(),this.updateStyle(),this.updateName()}},{key:"setValue",value:function(a,s){o(f(x.prototype),"setValue",this).call(this,a,s),a!=="source"&&a!=="imageFilename"||this.updateName(),a!=="source"&&a!=="image"||this.setImage()}},{key:"getProperties",value:function(){return["x","y","width","height","source","image","imageFilename","horizontalAlignment","verticalAlignment","backgroundColor","printIf","removeEmptyElement","link","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return se.type.image}},{key:"updateDisplayInternal",value:function(a,s,l,y){if(this.el!==null){this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(s),this.el.style.width=this.rb.toPixel(l),this.el.style.height=this.rb.toPixel(y);var j=0,V=0;if(this.imageRatio!==0&&(j=this.imageWidth<l?this.imageWidth:l,V=this.imageHeight<y?this.imageHeight:y,j!==this.imageWidth||V!==this.imageHeight)){var Q=Math.floor(V*this.imageRatio);Q<l?j=Q:V=Math.floor(j/this.imageRatio)}this.elImg.style.width=this.rb.toPixel(j),this.elImg.style.height=this.rb.toPixel(V)}}},{key:"updateStyle",value:function(){var a=this.getValue("horizontalAlignment"),s=this.getValue("verticalAlignment"),l="rbroDocElementAlign"+a.charAt(0).toUpperCase()+a.slice(1),y="rbroDocElementVAlign"+s.charAt(0).toUpperCase()+s.slice(1);this.elContent.style.textAlign=a,this.elContent.style.verticalAlign=s,this.elContent.style.backgroundColor=this.getValue("backgroundColor"),this.elContent.className="",this.elContent.classList.add("rbroContentContainerHelper"),this.elContent.classList.add(l),this.elContent.classList.add(y)}},{key:"createElement",value:function(){var a=this;this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroImageElement"}),this.elImg=t("img",{src:""}),this.elImg.addEventListener("load",function(s){a.imageWidth=a.elImg.naturalWidth,a.imageHeight=a.elImg.naturalHeight,a.imageHeight!==0?a.imageRatio=a.imageWidth/a.imageHeight:a.imageRatio=0,a.updateDisplay()}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContent.append(this.elImg),this.el.append(this.elContent),this.appendToContainer(),o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){this.elImg=null,o(f(x.prototype),"remove",this).call(this)}},{key:"setImage",value:function(){this.elImg.setAttribute("src",""),this.source.startsWith("https://")||this.source.startsWith("http://")?this.elImg.setAttribute("src",this.source):this.image!==""?this.elImg.setAttribute("src",this.image):(this.imageWidth=0,this.imageHeight=0,this.imageRatio=0,this.updateDisplay())}},{key:"updateName",value:function(){this.getValue("imageFilename").trim()!==""?this.name=this.getValue("imageFilename"):this.getValue("source").trim()!==""?this.name=this.getValue("source"):this.name=this.rb.getLabel("docElementImage");var a=document.getElementById("rbro_menu_item_name".concat(this.id));a.textContent=this.name,a.setAttribute("title",this.name)}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"source",l),this.addCommandForChangedParameterName(a,s,"printIf",l)}},{key:"getClassName",value:function(){return"ImageElement"}}]),x}(se),kt=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){var l;return J(this,x),(l=b.call(this,s.getLabel("docElementLine"),v,100,1,s)).color="#000000",l.setInitialData(a),l}return L(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(a,s){o(f(x.prototype),"setValue",this).call(this,a,s),a==="color"&&this.updateStyle()}},{key:"getProperties",value:function(){return["x","y","width","height","color","printIf"]}},{key:"getElementType",value:function(){return se.type.line}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.getValue("color")}},{key:"getSizers",value:function(){return["E","W"]}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroLineElement"}),this.appendToContainer(),o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"printIf",l)}},{key:"getClassName",value:function(){return"LineElement"}}]),x}(se),qt=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){var l;return J(this,x),(l=b.call(this,s.getLabel("docElementPageBreak"),v,-1,1,s)).setInitialData(a),l}return L(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(a,s){o(f(x.prototype),"setValue",this).call(this,a,s)}},{key:"getProperties",value:function(){return["y","printIf"]}},{key:"getElementType",value:function(){return se.type.pageBreak}},{key:"updateDisplayInternal",value:function(a,s,l,y){this.el!==null&&(this.el.style.left=this.rb.toPixel(0),this.el.style.top=this.rb.toPixel(s),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(1))}},{key:"getSizers",value:function(){return[]}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroPageBreakElement"}),this.appendToContainer(),o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"getClassName",value:function(){return"PageBreakElement"}}]),x}(se),vt=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s,l){var y;J(this,x);var j=s===P.bandType.header?l.getLabel("bandHeader"):s===P.bandType.footer?l.getLabel("bandFooter"):l.getLabel("bandContent");return(y=b.call(this,j,v,0,100,l)).setupComplete=!1,y.band=null,y.bandType=s,y.repeatHeader=!1,y.alwaysPrintOnSamePage=!0,y.shrinkToContentHeight=!1,y.parentId=a.parentId,y.heightVal=0,y.visible=s===P.bandType.content,y.setInitialData(a),y}return L(x,[{key:"setup",value:function(){this.createElement(),this.updateDisplay(),this.updateStyle(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.band=new P(this.bandType,!0,this.linkedContainerId,"section_"+this.bandType+"_"+this.linkedContainerId,this.rb),this.band.init(this),this.rb.addContainer(this.band),this.setupComplete=!0}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"getAbsolutePosition",value:function(){var a={x:0,y:0},s=this.getParent();return s!==null&&(a=s.getAbsolutePosition()),a.y+=this.yVal,a}},{key:"setValue",value:function(a,s){if(o(f(x.prototype),"setValue",this).call(this,a,s),a==="height"){this[a+"Val"]=A(s);var l=this.getParent();l!==null&&l.updateBands(this)}}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,0,"id","containerId","linkedContainerId"),a}},{key:"getProperties",value:function(){return this.bandType===P.bandType.header?["height","repeatHeader","shrinkToContentHeight"]:["height","alwaysPrintOnSamePage","shrinkToContentHeight"]}},{key:"updateDisplayInternal",value:function(a,s,l,y){if(this.el!==null&&(this.el.style.top=this.rb.toPixel(s),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(y),this.setupComplete)){var j=this.getParent();j!==null&&j.updateHeight(this,y)}}},{key:"select",value:function(){o(f(x.prototype),"select",this).call(this),this.el.classList.add("rbroHighlightBandDescription")}},{key:"deselect",value:function(){o(f(x.prototype),"deselect",this).call(this),this.el.classList.remove("rbroHighlightBandDescription")}},{key:"getSizers",value:function(){return["S"]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroSectionBandElement rbroElementContainer"}),this.el.append(t("div",{id:"rbro_el_band_description".concat(this.id),class:"rbroDocumentBandDescription"})),document.getElementById("rbro_el".concat(this.parentId)).append(this.el)}},{key:"getContentElement",value:function(){return this.el}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"show",value:function(a){this.visible=a,a?this.el.classList.remove("rbroHidden"):this.el.classList.add("rbroHidden")}},{key:"isVisible",value:function(){return this.visible}},{key:"getClassName",value:function(){return"SectionBandElement"}}]),x}(se);function Rt(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var jt=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){var l;return J(this,x),(l=b.call(this,s.getLabel("docElementSection"),v,-1,60,s)).setupComplete=!1,l.elDividerHeader=null,l.elDividerFooter=null,l.elDividerBottom=null,l.dataSource="",l.label="",l.header=!1,l.footer=!1,l.headerData=null,l.contentData=null,l.footerData=null,l.setInitialData(a),l}return L(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.headerData=this.createBand(P.bandType.header,null),this.contentData=this.createBand(P.bandType.content,null),this.footerData=this.createBand(P.bandType.footer,null),this.updateHeight(null,-1),this.setWidth(this.getContainerContentSize().width),this.setupComplete=!0,this.updateName(),a&&this.panelItem.open()}},{key:"createBand",value:function(a,s){var l,y,j=a+"Data",V={hasChildren:!0,showDelete:!1};s?l=s:this[j]?y=(l=this[j]).id:l={},l.parentId=this.id,l.containerId=this.containerId,y||(y=this.rb.getUniqueId());var Q=0;a===P.bandType.header?l.y=""+Q:a===P.bandType.content?(this.header&&this.headerData!==null&&(Q+=this.headerData.getValue("heightVal")),l.y=""+Q):a===P.bandType.footer&&(this.header&&this.headerData!==null&&(Q+=this.headerData.getValue("heightVal")),this.contentData!==null&&(Q+=this.contentData.getValue("heightVal")),l.y=""+Q),(a===P.bandType.header&&!this.header||a===P.bandType.footer&&!this.footer)&&(V.visible=!1);var ie=new vt(y,l,a,this.rb);this.rb.addDataObject(ie);var be=new Le("section_band",this.panelItem,ie,V,this.rb);return ie.setPanelItem(be),this.panelItem.appendChild(be),ie.setup(),a===P.bandType.header?ie.show(this.header):a===P.bandType.footer&&ie.show(this.footer),ie}},{key:"registerEventHandlers",value:function(){o(f(x.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){var a=this.id;return this.footerData!==null&&(a=this.footerData.getMaxId()),a}},{key:"appendContainerChildren",value:function(a){this.headerData!==null&&this.headerData.appendContainerChildren(a),this.contentData!==null&&this.contentData.appendContainerChildren(a),this.footerData!==null&&this.footerData.appendContainerChildren(a)}},{key:"setValue",value:function(a,s){o(f(x.prototype),"setValue",this).call(this,a,s),a==="label"||a==="dataSource"?this.updateName():a==="header"?(this.headerData.show(s),s?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):a==="footer"?(this.footerData.show(s),s?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):a==="containerId"&&(this.headerData.containerId=s,this.contentData.containerId=s,this.footerData.containerId=s),a!=="header"&&a!=="footer"||this.updateBands(null)}},{key:"updateDisplayInternal",value:function(a,s,l,y){this.el!==null&&(this.el.style.top=this.rb.toPixel(s),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(y))}},{key:"getProperties",value:function(){return["y","label","dataSource","header","footer","printIf"]}},{key:"getElementType",value:function(){return se.type.section}},{key:"select",value:function(){o(f(x.prototype),"select",this).call(this);for(var a=this.getSizerContainerElement(),s=0,l=["N","S"];s<l.length;s++){var y=l[s];a.append(t("div",{class:"rbroSizer rbroSizer".concat(y," rbroSizerMove")}))}this.headerData!==null&&document.getElementById("rbro_el".concat(this.headerData.getId())).classList.add("rbroHighlightBandDescription"),this.contentData!==null&&document.getElementById("rbro_el".concat(this.contentData.getId())).classList.add("rbroHighlightBandDescription"),this.footerData!==null&&document.getElementById("rbro_el".concat(this.footerData.getId())).classList.add("rbroHighlightBandDescription")}},{key:"deselect",value:function(){o(f(x.prototype),"deselect",this).call(this);var a,s=function(l,y){var j=typeof Symbol!="undefined"&&l[Symbol.iterator]||l["@@iterator"];if(!j){if(Array.isArray(l)||(j=function(we,Oe){if(we){if(typeof we=="string")return Rt(we,Oe);var Pe=Object.prototype.toString.call(we).slice(8,-1);return Pe==="Object"&&we.constructor&&(Pe=we.constructor.name),Pe==="Map"||Pe==="Set"?Array.from(we):Pe==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Pe)?Rt(we,Oe):void 0}}(l))||y&&l&&typeof l.length=="number"){j&&(l=j);var V=0,Q=function(){};return{s:Q,n:function(){return V>=l.length?{done:!0}:{done:!1,value:l[V++]}},e:function(Oe){throw Oe},f:Q}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ie,be=!0,_e=!1;return{s:function(){j=j.call(l)},n:function(){var Oe=j.next();return be=Oe.done,Oe},e:function(Oe){_e=!0,ie=Oe},f:function(){try{be||j.return==null||j.return()}finally{if(_e)throw ie}}}}(this.el.querySelectorAll(".rbroSectionBandElement"));try{for(s.s();!(a=s.n()).done;)a.value.classList.remove("rbroHighlightBandDescription")}catch(l){s.e(l)}finally{s.f()}}},{key:"getSizers",value:function(){return[]}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroSectionElement"}),this.el.append(t("div",{id:"rbro_divider_section_top".concat(this.id),class:"rbroDivider rbroDividerSection",style:"top: 0px"})),this.elDividerHeader=t("div",{id:"rbro_divider_section_header".concat(this.id),class:"rbroDivider rbroDividerSectionBand rbroHidden"}),this.el.append(this.elDividerHeader),this.elDividerFooter=t("div",{id:"rbro_divider_section_footer".concat(this.id),class:"rbroDivider rbroDividerSectionBand rbroHidden"}),this.el.append(this.elDividerFooter),this.elDividerBottom=t("div",{id:"rbro_divider_section_bottom".concat(this.id),class:"rbroDivider rbroDividerSection"}),this.el.append(this.elDividerBottom),this.appendToContainer(),this.registerEventHandlers()}},{key:"remove",value:function(){o(f(x.prototype),"remove",this).call(this),this.headerData!==null&&this.rb.deleteContainer(this.headerData.getLinkedContainer()),this.contentData!==null&&this.rb.deleteContainer(this.contentData.getLinkedContainer()),this.footerData!==null&&this.rb.deleteContainer(this.footerData.getLinkedContainer())}},{key:"updateName",value:function(){this.label.trim()!==""?this.name=this.label:(this.name=this.rb.getLabel("docElementSection"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource)),this.headerData!==null&&(document.getElementById("rbro_el_band_description".concat(this.headerData.getId())).textContent=this.name+" "+this.headerData.getName()),this.contentData!==null&&(document.getElementById("rbro_el_band_description".concat(this.contentData.getId())).textContent=this.name+" "+this.contentData.getName()),this.footerData!==null&&(document.getElementById("rbro_el_band_description".concat(this.footerData.getId())).textContent=this.name+" "+this.footerData.getName()),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"setWidth",value:function(a){this.widthVal=a,this.width=""+a,this.headerData!==null&&(this.headerData.widthVal=a,this.headerData.width=""+a),this.contentData!==null&&(this.contentData.widthVal=a,this.contentData.width=""+a),this.footerData!==null&&(this.footerData.widthVal=a,this.footerData.width=""+a)}},{key:"updateHeight",value:function(a,s){var l=0;this.header&&this.headerData!==null?(a===this.headerData?l+=s:l+=this.headerData.getValue("heightVal"),this.elDividerHeader.style.top=this.rb.toPixel(l),this.elDividerHeader.classList.remove("rbroHidden")):this.elDividerHeader.classList.add("rbroHidden"),this.contentData!==null&&(a===this.contentData?l+=s:l+=this.contentData.getValue("heightVal")),this.footer&&this.footerData!==null?(this.elDividerFooter.style.top=this.rb.toPixel(l),this.elDividerFooter.classList.remove("rbroHidden"),a===this.footerData?l+=s:l+=this.footerData.getValue("heightVal")):document.getElementById("rbro_divider_section_footer".concat(this.id)).classList.add("rbroHidden"),this.elDividerBottom.style.top=this.rb.toPixel(l),this.height=""+l,this.heightVal=l,this.updateDisplay()}},{key:"updateBands",value:function(a){if(this.setupComplete){var s=0;this.header&&(this.headerData!==a&&this.headerData.setValue("y",""+s),s+=this.headerData.getValue("heightVal")),this.contentData!==a&&this.contentData.setValue("y",""+s),s+=this.contentData.getValue("heightVal"),this.footer&&this.footerData!==a&&this.footerData.setValue("y",""+s)}this.updateHeight(null,-1)}},{key:"getLinkedContainers",value:function(){for(var a,s=[],l=0,y=["headerData","contentData","footerData"];l<y.length;l++){var j=y[l];this[j]!==null&&(a=this[j].getLinkedContainer())!==null&&s.push(a)}return s}},{key:"hasDataSource",value:function(){return!0}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"dataSource",l),this.addCommandForChangedParameterName(a,s,"printIf",l)}},{key:"toJS",value:function(){var a=o(f(x.prototype),"toJS",this).call(this);return a.headerData=this.headerData.toJS(),a.contentData=this.contentData.toJS(),a.footerData=this.footerData.toJS(),a}},{key:"getClassName",value:function(){return"SectionElement"}}]),x}(se);function At(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,y){if(l){if(typeof l=="string")return or(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?or(l,y):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var y=u.next();return a=y.done,y},e:function(y){s=!0,v=y},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function or(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var Pr=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){var l;return J(this,x),(l=b.call(this,s.getLabel("docElementText"),v,100,20,s)).elContent=null,l.elContentText=null,l.elContentTextData=null,l.content="",l.richText=!1,l.richTextContent=null,l.richTextHtml="",l.eval=!1,l.styleId="",l.bold=!1,l.italic=!1,l.underline=!1,l.strikethrough=!1,l.horizontalAlignment=pe.alignment.left,l.verticalAlignment=pe.alignment.top,l.textColor="#000000",l.backgroundColor="",l.font=s.getProperty("defaultFont"),l.fontSize=12,l.lineSpacing=1,l.borderColor="#000000",l.borderWidth="1",l.borderAll=!1,l.borderLeft=!1,l.borderTop=!1,l.borderRight=!1,l.borderBottom=!1,l.paddingLeft="2",l.paddingTop="2",l.paddingRight="2",l.paddingBottom="2",l.cs_condition="",l.cs_styleId="",l.cs_additionalRules="",l.cs_bold=!1,l.cs_italic=!1,l.cs_underline=!1,l.cs_strikethrough=!1,l.cs_horizontalAlignment=pe.alignment.left,l.cs_verticalAlignment=pe.alignment.top,l.cs_textColor="#000000",l.cs_backgroundColor="",l.cs_font=pe.font.helvetica,l.cs_fontSize=12,l.cs_lineSpacing=1,l.cs_borderColor="#000000",l.cs_borderWidth="1",l.cs_borderAll=!1,l.cs_borderLeft=!1,l.cs_borderTop=!1,l.cs_borderRight=!1,l.cs_borderBottom=!1,l.cs_paddingLeft="2",l.cs_paddingTop="2",l.cs_paddingRight="2",l.cs_paddingBottom="2",l.alwaysPrintOnSamePage=!0,l.pattern="",l.link="",l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_colspan="",l.spreadsheet_addEmptyRow=!1,l.spreadsheet_textWrap=!1,l.setInitialData(a),l.borderWidthVal=A(l.borderWidth),l}return L(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.updateStyle(),this.richText?this.setupRichText():this.updateContent(this.content)}},{key:"handleDoubleClick",value:function(a){o(f(x.prototype),"handleDoubleClick",this).call(this,a);var s=document.getElementById("rbro_doc_element_content");s.focus(),typeof s.selectionStart=="number"&&(s.selectionStart=s.selectionEnd=s.value.length)}},{key:"setValue",value:function(a,s){a.indexOf("border")!==-1&&(this[a]=s,a.substr(0,3)==="cs_"?(a==="cs_borderWidth"&&(this.borderWidthVal=A(s)),pe.setBorderValue(this,a,"cs_",s,this.rb)):(a==="borderWidth"&&(this.borderWidthVal=A(s)),pe.setBorderValue(this,a,"",s,this.rb))),o(f(x.prototype),"setValue",this).call(this,a,s),a==="content"?this.updateContent(s):a==="width"||a==="height"?this.updateDisplay():a==="richText"?(s?this.setupRichText():this.updateContent(this.content),this.updateStyle()):a==="richTextContent"?this.updateRichTextContent(s):a==="richTextHtml"&&(document.getElementById("rbro_el_content_text_data".concat(this.id)).innerHTML=s)}},{key:"getProperties",value:function(){return["x","y","width","height","content","richText","richTextContent","richTextHtml","eval","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom","printIf","removeEmptyElement","alwaysPrintOnSamePage","pattern","link","cs_condition","cs_styleId","cs_additionalRules","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_borderColor","cs_borderWidth","cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow","spreadsheet_textWrap"]}},{key:"getElementType",value:function(){return se.type.text}},{key:"updateDisplayInternal",value:function(a,s,l,y){this.el!==null&&(this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(s),this.el.style.width=this.rb.toPixel(l),this.el.style.height=this.rb.toPixel(y));var j=this.getContentSize(l,y,this.getStyle());this.elContentText.style.width=this.rb.toPixel(j.width),this.elContentText.style.height=this.rb.toPixel(j.height)}},{key:"getStyle",value:function(){var a=this;if(this.styleId!==""){var s=this.rb.getDataObject(this.styleId);s!==null&&(a=s)}return a}},{key:"addCommandsForChangedStyle",value:function(a,s,l,y){if(a!==""){var j=this.rb.getStyleById(a);if(j!==null){var V,Q=At(j.getFields().slice(2));try{for(Q.s();!(V=Q.n()).done;){var ie=V.value,be=s+ie,_e=j.getValue(ie);if(_e!==this.getValue(be)){var we=l[be],Oe=new e(this.getId(),be,_e,we.type,this.rb);Oe.disableSelect(),y.addCommand(Oe)}}}catch(Pe){Q.e(Pe)}finally{Q.f()}}}y.addCommand(new e(this.getId(),s+"styleId",a,e.type.select,this.rb))}},{key:"getContentSize",value:function(a,s,l){var y=l.getValue("borderWidthVal");return a-=A(l.getValue("paddingLeft"))+A(l.getValue("paddingRight")),l.getValue("borderLeft")&&(a-=y),l.getValue("borderRight")&&(a-=y),s-=A(l.getValue("paddingTop"))+A(l.getValue("paddingBottom")),l.getValue("borderTop")&&(s-=y),l.getValue("borderBottom")&&(s-=y),{width:a,height:s}}},{key:"updateStyle",value:function(){var a,s={},l=this.getStyle(),y="",j="",V=this.getContentSize(this.getDisplayWidth(),this.getDisplayHeight(),l);s.width=this.rb.toPixel(V.width),s.height=this.rb.toPixel(V.height);var Q=l.getValue("horizontalAlignment"),ie=l.getValue("verticalAlignment"),be="rbroDocElementAlign"+Q.charAt(0).toUpperCase()+Q.slice(1),_e="rbroDocElementVAlign"+ie.charAt(0).toUpperCase()+ie.slice(1);s["vertical-align"]=ie,s["background-color"]=l.getValue("backgroundColor"),this.richText?(s["font-weight"]="unset",s["font-style"]="normal",s["text-decoration"]="none",s["text-align"]="unset",s.color="#000000",s["font-family"]=this.rb.getProperty("defaultFont"),s["font-size"]="12px"):(s["font-weight"]=l.getValue("bold")?"bold":"",s["font-style"]=l.getValue("italic")?"italic":"normal",l.getValue("underline")&&l.getValue("strikethrough")?s["text-decoration"]="underline line-through":l.getValue("underline")?s["text-decoration"]="underline":l.getValue("strikethrough")?s["text-decoration"]="line-through":s["text-decoration"]="none",s["text-align"]=Q,s.color=l.getValue("textColor"),s["font-family"]=l.getValue("font"),s["font-size"]=l.getValue("fontSize")+"px"),s["line-height"]=l.getValue("lineSpacing"),l.getValue("borderLeft")||l.getValue("borderTop")||l.getValue("borderRight")||l.getValue("borderBottom")?(a=l.getValue("borderTop")?"solid":"none",a+=l.getValue("borderRight")?" solid":" none",a+=l.getValue("borderBottom")?" solid":" none",a+=l.getValue("borderLeft")?" solid":" none",y=l.getValue("borderWidthVal")+"px",j=l.getValue("borderColor")):a="none",l.getValue("paddingLeft")!==""||l.getValue("paddingTop")!==""||l.getValue("paddingRight")!==""||l.getValue("paddingBottom")!==""?(s.padding=this.rb.toPixel(l.getValue("paddingTop")),s.padding+=" "+this.rb.toPixel(l.getValue("paddingRight")),s.padding+=" "+this.rb.toPixel(l.getValue("paddingBottom")),s.padding+=" "+this.rb.toPixel(l.getValue("paddingLeft"))):s.padding="",this.elContent.style.borderStyle=a,this.elContent.style.borderWidth=y,this.elContent.style.borderColor=j,this.elContent.className="",this.elContent.classList.add("rbroContentContainerHelper"),this.elContent.classList.add(be),this.elContent.classList.add(_e);var we="";for(var Oe in s)we+=Oe+": "+s[Oe]+";";this.elContentText.style.cssText=we}},{key:"hasBorderSettings",value:function(){return!0}},{key:"createElement",value:function(){this.el=t("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroTextElement"}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentText=t("div",{id:"rbro_el_content_text".concat(this.id),class:"rbroDocElementContentText"}),this.elContentTextData=t("span",{id:"rbro_el_content_text_data".concat(this.id)}),this.elContentText.append(this.elContentTextData),this.elContent.append(this.elContentText),this.el.append(this.elContent),this.appendToContainer(),this.elContentTextData.textContent=this.content,o(f(x.prototype),"registerEventHandlers",this).call(this)}},{key:"updateContent",value:function(a){a.trim()===""?this.name=this.rb.getLabel("docElementText"):this.name=a;var s=document.getElementById("rbro_menu_item_name".concat(this.id));s.textContent=this.name,s.setAttribute("title",this.name),this.elContentTextData.textContent=a}},{key:"updateRichTextContent",value:function(a){var s="";if(a&&a.ops){var l,y=At(a.ops);try{for(y.s();!(l=y.n()).done;){var j=l.value;"insert"in j&&(s+=j.insert)}}catch(Q){y.e(Q)}finally{y.f()}(s=s.replace(/(?:\r\n|\r|\n)/g," ")).length>80&&(s=s.substr(0,80)),s=s.trim()}this.name=s===""?this.rb.getLabel("docElementText"):s;var V=document.getElementById("rbro_menu_item_name".concat(this.id));V.textContent=this.name,V.setAttribute("title",this.name)}},{key:"setupRichText",value:function(){this.updateRichTextContent(this.richTextContent),this.elContentTextData.innerHTML=this.richTextHtml}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"content",l),this.addCommandForChangedParameterName(a,s,"richTextContent",l),this.addCommandForChangedParameterName(a,s,"richTextHtml",l),this.addCommandForChangedParameterName(a,s,"printIf",l),this.addCommandForChangedParameterName(a,s,"cs_condition",l)}},{key:"toJS",value:function(){for(var a=o(f(x.prototype),"toJS",this).call(this),s=0,l=["borderWidth","paddingLeft","paddingTop","paddingRight","paddingBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom"];s<l.length;s++){var y=l[s];a[y]=A(this.getValue(y))}return a}},{key:"getClassName",value:function(){return"TextElement"}}]),x}(se),zt=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){var l;return J(this,x),(l=b.call(this,v,a,s)).elContent=null,l.elContentText=null,l.elContentTextData=null,l.colspan=a.colspan||"",l.colspanVal=1,l.columnIndex=a.columnIndex,l.parentId=a.parentId,l.tableId=a.tableId,l.displayWidth=l.widthVal,l.lastTouchStartTime=0,l.updateColspanVal(),l}return L(x,[{key:"setInitialData",value:function(a){this.growWeight=0,o(f(x.prototype),"setInitialData",this).call(this,a)}},{key:"registerEventHandlers",value:function(){var a=this;this.el.addEventListener("dblclick",function(s){a.rb.isSelectedObject(a.id)||a.rb.isSelectedObject(a.tableId)&&(a.rb.selectObject(a.id,!s.shiftKey),s.stopPropagation())}),this.el.addEventListener("mousedown",function(s){a.rb.isSelectedObject(a.id)?(s.shiftKey&&a.rb.deselectObject(a.id),s.stopPropagation()):a.rb.isTableElementSelected(a.tableId)&&(a.rb.selectObject(a.id,!s.shiftKey),s.stopPropagation())}),this.el.addEventListener("touchstart",function(s){a.rb.isSelectedObject(a.id)||(new Date().getTime()-a.lastTouchStartTime<1e3?a.rb.isSelectedObject(a.tableId)&&(a.rb.selectObject(a.id,!0),s.stopPropagation()):a.rb.isTableElementSelected(a.tableId)&&(a.rb.selectObject(a.id,!0),s.stopPropagation())),a.lastTouchStartTime=new Date().getTime()})}},{key:"getContainerId",value:function(){var a=this.getTable();return a!==null?a.getContainerId():null}},{key:"getValue",value:function(a){return a==="xReadOnly"?this.getOffsetX():o(f(x.prototype),"getValue",this).call(this,a)}},{key:"setValue",value:function(a,s){if(o(f(x.prototype),"setValue",this).call(this,a,s),a==="width"){var l=this.getTable();l!==null&&(l.updateColumnWidth(this.columnIndex,s),l.updateColumnDisplay())}else if(a==="height")this.updateDisplayInternalNotify(0,0,this.displayWidth,this.heightVal,!1);else if(a==="colspan"){this.updateColspanVal();var y=this.rb.getDataObject(this.tableId);y!==null&&y.updateColumnDisplay()}}},{key:"getUpdateValue",value:function(a,s){if(a==="width"){var l=A(s);if(this.colspanVal>1){var y=this.rb.getDataObject(this.parentId);if(y!==null){var j=this.getNextCellIndex(),V=y.getSingleCellWidths();j>V.length&&(j=V.length);for(var Q=this.columnIndex+1;Q<j;Q++)l+=V[Q]}}return s===""&&l===0?"":""+l}return s}},{key:"setWidth",value:function(a){this.width=a,this.widthVal=A(a)}},{key:"getDisplayWidth",value:function(){return this.displayWidth}},{key:"setDisplayWidth",value:function(a){this.displayWidth=a}},{key:"getDisplayWidthSplit",value:function(a){if(this.colspanVal===1)return[a];var s=[20],l=20,y=this.rb.getDataObject(this.parentId);if(y!==null){var j=this.getNextCellIndex(),V=y.getSingleCellWidths();j>V.length&&(j=V.length);for(var Q=this.columnIndex+1;Q<j;Q++)s.push(V[Q]),l+=V[Q];var ie=a-l;if(ie>0)s[0]+=ie;else if(ie<0){var be=1;for(ie=-ie;be<s.length;){if(s[be]-20>ie){s[be]-=ie;break}ie-=s[be]-20,s[be]=20,be++}}}return s}},{key:"updateColspanVal",value:function(){this.colspanVal=A(this.colspan),this.colspanVal<=0&&(this.colspanVal=1),this.el!==null&&this.el.setAttribute("colspan",this.colspanVal)}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,1,"id"),a}},{key:"getProperties",value:function(){var a=["xReadOnly","width","content","eval","colspan","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","paddingLeft","paddingTop","paddingRight","paddingBottom","pattern","link","cs_condition","cs_styleId","cs_additionalRules","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_textWrap"],s=this.rb.getDataObject(this.parentId);return s!==null&&s.getValue("bandType")===P.bandType.header&&(a.push("printIf"),a.push("growWeight")),a}},{key:"getElementType",value:function(){return se.type.tableText}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.displayWidth,this.heightVal)}},{key:"updateDisplayInternal",value:function(a,s,l,y){this.updateDisplayInternalNotify(a,s,l,y,!0)}},{key:"updateDisplayInternalNotify",value:function(a,s,l,y,j){this.el!==null&&(this.el.style.width=this.rb.toPixel(l-1));var V=this.getContentSize(l,y,this.getStyle());if(this.elContentText.style.width=this.rb.toPixel(V.width),this.elContentText.style.height=this.rb.toPixel(V.height),j){var Q=this.rb.getDataObject(this.tableId);if(Q!==null){for(var ie=this.rb.getDataObject(this.parentId),be=l,_e=ie.getSingleCellWidths(),we=0;we<_e.length;we++)(we<this.columnIndex||we>=this.columnIndex+this.colspanVal)&&(be+=_e[we]);for(var Oe=this.getDisplayWidthSplit(l),Pe=0;Pe<Oe.length;Pe++)Q.notifyColumnWidthResized(ie,this.columnIndex+Pe,Oe[Pe],be)}}}},{key:"getSizers",value:function(){return["E"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"getMinWidth",value:function(){return 20*this.colspanVal}},{key:"getMaxWidth",value:function(){var a=this.rb.getDataObject(this.tableId),s=this.rb.getDataObject(this.parentId);if(a!==null&&s!==null){for(var l=this.rb.getDocumentProperties().getContentSize().width,y=s.getSingleCellWidths(),j=0,V=0;V<y.length;V++)(V<this.columnIndex||V>=this.columnIndex+this.colspanVal)&&(j+=y[V]);return l-j-a.xVal}return 0}},{key:"getOffsetX",value:function(){var a=this.rb.getDataObject(this.parentId);if(a!==null){for(var s=a.getSingleCellWidths(),l=0,y=0;y<this.columnIndex;y++)l+=s[y];return l}return 0}},{key:"getCellIndex",value:function(){return this.columnIndex}},{key:"getNextCellIndex",value:function(){return this.columnIndex+this.colspanVal}},{key:"createElement",value:function(){this.el=t("td",{id:"rbro_el".concat(this.id),class:"rbroTableTextElement"}),this.elContent=t("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentText=t("div",{id:"rbro_el_content_text".concat(this.id),class:"rbroDocElementContentText"}),this.elContentTextData=t("span",{id:"rbro_el_content_text_data".concat(this.id)}),this.elContentText.append(this.elContentTextData),this.elContent.append(this.elContentText),this.el.append(this.elContent),this.colspanVal>1&&this.el.setAttribute("colspan",this.colspanVal),document.getElementById("rbro_el_table_band".concat(this.parentId)).append(this.el),document.getElementById("rbro_el_content_text_data".concat(this.id)).textContent=this.content,this.registerEventHandlers()}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"getTable",value:function(){return this.rb.getDataObject(this.tableId)}},{key:"addCommandsForChangedWidth",value:function(a,s,l){var y=this.getDisplayWidthSplit(a),j=this.getParent();if(j!==null)for(var V=y.length-1;V>=0;V--){var Q=new e(j.getColumn(this.columnIndex+V).getId(),"width",""+y[V],e.type.text,this.rb);(s||V>0)&&Q.disableSelect(),l.addCommand(Q)}}},{key:"insertColumn",value:function(a){var s=this.getParent(),l=this.getTable();if(s!==null&&l!==null){var y=s.getColumnIndex(this);if(y!==-1){var j=new le("Insert column"),V=new Tt(!1,l.getPanelItem().getPanelName(),l.toJS(),l.getId(),l.getContainerId(),-1,this.rb);j.addCommand(V);var Q=A(l.getValue("columns"))+1;l.setValue("columns",Q),l.getValue("headerData").createColumns(Q,!0,y,a);for(var ie=0;ie<l.getValue("contentDataRows").length;ie++)l.getValue("contentDataRows")[ie].createColumns(Q,!0,y,a);l.getValue("footerData").createColumns(Q,!0,y,a),V=new Tt(!0,l.getPanelItem().getPanelName(),l.toJS(),l.getId(),l.getContainerId(),-1,this.rb),j.addCommand(V),this.rb.executeCommand(j),this.rb.selectObject(this.getParent().getValue("columnData")[a?y:y+1].getId(),!0)}}}},{key:"deleteColumn",value:function(){var a=this.getParent(),s=this.getTable();if(a!==null&&s!==null){var l=a.getColumnIndex(this);if(l!==-1){var y=new le("Delete column"),j=new Tt(!1,s.getPanelItem().getPanelName(),s.toJS(),s.getId(),s.getContainerId(),-1,this.rb);y.addCommand(j);var V=A(s.getValue("columns"))-1;s.setValue("columns",V);var Q=s.getValue("widthVal");s.setValue("width",Q-this.widthVal),s.getValue("headerData").deleteColumn(l);for(var ie=0;ie<s.getValue("contentDataRows").length;ie++)s.getValue("contentDataRows")[ie].deleteColumn(l);s.getValue("footerData").deleteColumn(l),j=new Tt(!0,s.getPanelItem().getPanelName(),s.toJS(),s.getId(),s.getContainerId(),-1,this.rb),y.addCommand(j),this.rb.executeCommand(y)}}}},{key:"toJS",value:function(){var a=o(f(x.prototype),"toJS",this).call(this);return a.growWeight=A(a.growWeight),a}},{key:"getClassName",value:function(){return"TableTextElement"}}]),x}(Pr);function $t(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,y){if(l){if(typeof l=="string")return xr(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?xr(l,y):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var y=u.next();return a=y.done,y},e:function(y){s=!0,v=y},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function xr(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var dr=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s,l){var y;J(this,x);var j=s==="header"?l.getLabel("bandHeader"):s==="footer"?l.getLabel("bandFooter"):l.getLabel("bandContent");return(y=b.call(this,j,v,0,20,l)).bandType=s,y.repeatHeader=!1,y.alwaysPrintOnSamePage=!0,y.pageBreak=!1,y.backgroundColor="",y.alternateBackgroundColor="",y.groupExpression="",y.repeatGroupHeader=!1,y.parentId=a.parentId,y.columnData=[],y.heightVal=0,y.setInitialData(a),y}return L(x,[{key:"setInitialData",value:function(a){for(var s in a)a.hasOwnProperty(s)&&this.hasOwnProperty(s)&&(this[s]=a[s]);this.heightVal=A(this.height)}},{key:"setup",value:function(){this.createElement(),this.updateStyle()}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){var a,s=this.id,l=$t(this.columnData);try{for(l.s();!(a=l.n()).done;){var y=a.value;y.getId()>s&&(s=y.getId())}}catch(j){l.e(j)}finally{l.f()}return s}},{key:"getContainerId",value:function(){var a=this.getParent();return a!==null?a.getContainerId():null}},{key:"setValue",value:function(a,s){if(this[a]=s,a==="height"){var l=A(s);this[a+"Val"]=l;var y,j=$t(this.getElement().querySelectorAll("td"));try{for(j.s();!(y=j.n()).done;)y.value.style.height=this.rb.toPixel(l)}catch(be){j.e(be)}finally{j.f()}var V,Q=$t(this.columnData);try{for(Q.s();!(V=Q.n()).done;)V.value.setValue(a,s)}catch(be){Q.e(be)}finally{Q.f()}var ie=this.getParent();ie!==null&&ie.updateHeight()}else a==="backgroundColor"&&this.updateStyle()}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,0,"id"),a}},{key:"getProperties",value:function(){var a=["height","backgroundColor"];return this.bandType===P.bandType.header?a.push("repeatHeader"):this.bandType===P.bandType.content&&(a.push("alternateBackgroundColor"),a.push("groupExpression"),a.push("printIf"),a.push("alwaysPrintOnSamePage"),a.push("pageBreak"),a.push("repeatGroupHeader")),a}},{key:"updateDisplayInternal",value:function(a,s,l,y){}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.backgroundColor}},{key:"getSizers",value:function(){return[]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("tr",{id:"rbro_el_table_band".concat(this.id),class:"rbroTableBandElement"}),document.getElementById("rbro_el_table_".concat(this.bandType).concat(this.parentId)).append(this.el)}},{key:"remove",value:function(){for(var a=0;a<this.columnData.length;a++)this.rb.deleteDataObject(this.columnData[a]);o(f(x.prototype),"remove",this).call(this)}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"createColumns",value:function(a,s,l,y){if(this.panelItem!==null){if(s)for(var j=0;j<this.columnData.length;j++)this.columnData[j].remove(),j>=a&&this.rb.deleteDataObject(this.columnData[j]);for(var V=[],Q=0;Q<a;Q++){var ie=void 0,be=void 0,_e=s?20:100,we=Q;l!==-1&&(y?Q===l?(_e=this.columnData[l].getValue("widthVal"),we=-1):Q>=l&&we--:Q===l+1?(_e=this.columnData[l].getValue("widthVal"),we=-1):Q>l&&we--),we!==-1&&we<this.columnData.length?((ie=this.columnData[we]).columnIndex=Q,be=ie.id,s||(ie.band=this.band,ie.parentId=this.id,ie.tableId=this.parentId,ie.height=this.height)):ie={band:this.band,columnIndex:Q,parentId:this.id,tableId:this.parentId,width:_e,height:this.height},be||(be=this.rb.getUniqueId());var Oe=new zt(be,ie,this.rb);V.push(Oe),this.rb.addDataObject(Oe);var Pe=new Le(se.type.text,this.panelItem,Oe,{showDelete:!1},this.rb);Oe.setPanelItem(Pe),this.panelItem.appendChild(Pe)}this.columnData=V;for(var Be=0,He=V;Be<He.length;Be++)He[Be].setup(!0);this.updateColumnDisplay();var Fe,je=$t(this.getElement().querySelectorAll("td"));try{for(je.s();!(Fe=je.n()).done;)Fe.value.style.height=this.rb.toPixel(this.heightVal)}catch(We){je.e(We)}finally{je.f()}}}},{key:"deleteColumn",value:function(a){a<this.columnData.length&&(this.columnData[a].remove(),this.rb.deleteDataObject(this.columnData[a]),this.columnData.splice(a,1))}},{key:"show",value:function(a){a?this.el.classList.remove("rbroHidden"):this.el.classList.add("rbroHidden")}},{key:"updateColumnWidth",value:function(a,s){a<this.columnData.length&&this.columnData[a].setWidth(s)}},{key:"updateColumnDisplay",value:function(){for(var a=0;a<this.columnData.length;){var s=this.columnData[a],l=s.getValue("widthVal"),y=s.getValue("colspanVal");if(s.getElement().style.display="",y>1){var j=a+y<this.columnData.length?a+y:this.columnData.length;for(a++;a<j;)l+=this.columnData[a].getValue("widthVal"),this.columnData[a].getElement().style.display="none",a++}else a++;s.setDisplayWidth(l),s.updateDisplay()}}},{key:"getColumn",value:function(a){return a>=0&&a<this.columnData.length?this.columnData[a]:null}},{key:"getColumns",value:function(){return this.columnData}},{key:"notifyColumnWidthResized",value:function(a,s){for(var l=0;l<this.columnData.length;){var y=this.columnData[l],j=y.getNextCellIndex();if(j>a){if(j>l+1)for(var V=l;V<j&&V<this.columnData.length;V++)V!==a&&(s+=this.columnData[V].getValue("widthVal"));y.updateDisplayInternalNotify(0,0,s,y.getValue("heightVal"),!1);break}l=j}}},{key:"getColumnIndex",value:function(a){for(var s=0;s<this.columnData.length;s++)if(a===this.columnData[s])return s;return-1}},{key:"getWidth",value:function(){for(var a=0,s=0;s<this.columnData.length;){var l=this.columnData[s];a+=l.getDisplayWidth();var y=l.getValue("colspanVal");y>1?s+=y:s++}return a}},{key:"getSingleCellWidths",value:function(){var a,s=[],l=$t(this.columnData);try{for(l.s();!(a=l.n()).done;){var y=a.value;s.push(y.getValue("widthVal"))}}catch(j){l.e(j)}finally{l.f()}return s}},{key:"insertRow",value:function(a){var s=this.getParent();if(s!==null){var l=s.getContentRowIndex(this);if(l!==-1){var y=new le("Insert row"),j=new Tt(!1,s.getPanelItem().getPanelName(),s.toJS(),s.getId(),s.getContainerId(),-1,this.rb);y.addCommand(j);var V=A(s.getValue("contentRows"))+1;s.setValue("contentRows",V);var Q,ie=s.getValue("contentDataRows")[l],be={height:ie.height,columnData:[]},_e=$t(ie.columnData);try{for(_e.s();!(Q=_e.n()).done;){var we=Q.value;be.columnData.push({width:we.width})}}catch(Pe){_e.e(Pe)}finally{_e.f()}var Oe=s.createBand("content",-1,be);s.getValue("contentDataRows").splice(a?l:l+1,0,Oe),j=new Tt(!0,s.getPanelItem().getPanelName(),s.toJS(),s.getId(),s.getContainerId(),-1,this.rb),y.addCommand(j),this.rb.executeCommand(y),this.rb.selectObject(Oe.getValue("columnData")[0].getId(),!0)}}}},{key:"deleteRow",value:function(){var a=this.getParent();if(a!==null){var s=a.getContentRowIndex(this),l=A(a.getValue("contentRows"));if(s!==-1&&l>1){var y=new le("Delete row"),j=new Tt(!1,a.getPanelItem().getPanelName(),a.toJS(),a.getId(),a.getContainerId(),-1,this.rb);y.addCommand(j),a.setValue("contentRows",l-1),a.getValue("contentDataRows").splice(s,1),j=new Tt(!0,a.getPanelItem().getPanelName(),a.toJS(),a.getId(),a.getContainerId(),-1,this.rb),y.addCommand(j),this.rb.executeCommand(y)}}}},{key:"addChildren",value:function(a){var s,l=$t(this.columnData);try{for(l.s();!(s=l.n()).done;){var y=s.value;a.push(y)}}catch(j){l.e(j)}finally{l.f()}}},{key:"toJS",value:function(){var a=o(f(x.prototype),"toJS",this).call(this);a.columnData=[];var s,l=$t(this.columnData);try{for(l.s();!(s=l.n()).done;){var y=s.value;a.columnData.push(y.toJS())}}catch(j){l.e(j)}finally{l.f()}return a}},{key:"getClassName",value:function(){return"TableBandElement"}}]),x}(se);function Jt(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,y){if(l){if(typeof l=="string")return Jr(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?Jr(l,y):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var y=u.next();return a=y.done,y},e:function(y){s=!0,v=y},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function Jr(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var lr=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s){var l;return J(this,x),(l=b.call(this,s.getLabel("docElementTable"),v,200,40,s)).setupComplete=!1,l.dataSource="",l.borderColor="#000000",l.borderWidth="1",l.border=x.border.grid,l.header=!0,l.footer=!1,l.contentRows="1",l.columns="2",l.headerData=null,l.contentDataRows=[],l.footerData=null,l.spreadsheet_hide=!1,l.spreadsheet_column="",l.spreadsheet_addEmptyRow=!1,l.setInitialData(a),l.borderWidthVal=A(l.borderWidth),l}return L(x,[{key:"setup",value:function(a){o(f(x.prototype),"setup",this).call(this,a),this.createElement(),this.updateDisplay(),this.headerData=this.createBand("header",-1,null);var s=A(this.contentRows);s<1&&(s=1);for(var l=[],y=0;y<s;y++)l.push(this.createBand("content",y,null));this.contentDataRows=l,this.footerData=this.createBand("footer",-1,null),this.setupComplete=!0,this.updateHeight(),this.updateStyle(),this.updateName(),a&&this.panelItem.open()}},{key:"createBand",value:function(a,s,l){var y,j,V=a+(a==="content"?"DataRows":"Data"),Q={hasChildren:!0,showDelete:!1};l?y=l:this[V]&&(a!=="content"||s!==-1&&s<this[V].length)?j=(y=a==="content"?this[V][s]:this[V]).id:y={},y.parentId=this.id,j||(j=this.rb.getUniqueId()),(a==="header"&&!this.header||a==="footer"&&!this.footer)&&(Q.visible=!1);var ie=new dr(j,y,a,this.rb);this.rb.addDataObject(ie);var be=new Le("table_band",this.panelItem,ie,Q,this.rb);ie.setPanelItem(be),this.panelItem.appendChild(be),ie.setup();var _e=A(this.columns);return ie.createColumns(_e,!1,-1,!1),be.open(),a==="header"?ie.show(this.header):a==="footer"&&ie.show(this.footer),ie}},{key:"getMaxId",value:function(){var a,s=this.id;(a=this.headerData.getMaxId())>s&&(s=a);for(var l=0;l<this.contentDataRows.length;l++)(a=this.contentDataRows[l].getMaxId())>s&&(s=a);return(a=this.footerData.getMaxId())>s&&(s=a),s}},{key:"setValue",value:function(a,s){o(f(x.prototype),"setValue",this).call(this,a,s),a==="dataSource"?this.updateName():a==="header"?(this.headerData.show(s),s?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):a==="footer"?(this.footerData.show(s),s?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):a.indexOf("border")!==-1&&(a==="borderWidth"&&(this.borderWidthVal=A(s)),this.updateStyle()),a!=="header"&&a!=="footer"&&a!=="contentRows"||this.updateHeight()}},{key:"updateDisplayInternal",value:function(a,s,l,y){this.el!==null&&(this.el.style.left=this.rb.toPixel(a),this.el.style.top=this.rb.toPixel(s))}},{key:"updateStyle",value:function(){var a,s=this.el.querySelector("table");this.border===x.border.grid||this.border===x.border.frameRow||this.border===x.border.frame?(s.style.borderStyle="solid",s.style.borderWidth=this.borderWidthVal+"px",s.style.borderColor=this.borderColor):s.style.borderStyle="none";var l="",y="",j="";this.border===x.border.grid||this.border===x.border.frameRow||this.border===x.border.row?(l="solid none solid none",y=this.borderWidthVal+"px",j=this.borderColor):l="none";var V=this.headerData.getElement();for(V.style.borderStyle=l,V.style.borderWidth=y,V.style.borderColor=j,a=0;a<this.contentDataRows.length;a++){var Q=this.contentDataRows[a].getElement();Q.style.borderStyle=l,Q.style.borderWidth=y,Q.style.borderColor=j}var ie=this.footerData.getElement();ie.style.borderStyle=l,ie.style.borderWidth=y,ie.style.borderColor=j,this.border===x.border.grid?(l="none solid none solid",y=this.borderWidthVal+"px",j=this.borderColor):l="none";var be,_e=Jt(this.headerData.getElement().querySelectorAll("td"));try{for(_e.s();!(be=_e.n()).done;){var we=be.value;we.style.borderStyle=l,we.style.borderWidth=y,we.style.borderColor=j}}catch(Qe){_e.e(Qe)}finally{_e.f()}for(a=0;a<this.contentDataRows.length;a++){var Oe,Pe=Jt(this.contentDataRows[a].getElement().querySelectorAll("td"));try{for(Pe.s();!(Oe=Pe.n()).done;){var Be=Oe.value;Be.style.borderStyle=l,Be.style.borderWidth=y,Be.style.borderColor=j}}catch(Qe){Pe.e(Qe)}finally{Pe.f()}}var He,Fe=Jt(this.footerData.getElement().querySelectorAll("td"));try{for(Fe.s();!(He=Fe.n()).done;){var je=He.value;je.style.borderStyle=l,je.style.borderWidth=y,je.style.borderColor=j}}catch(Qe){Fe.e(Qe)}finally{Fe.f()}for(var We=0,Ye=["rbroBorderTableGrid","rbroBorderTableFrameRow","rbroBorderTableFrame","rbroBorderTableRow","rbroBorderTableNone"];We<Ye.length;We++){var Ke=Ye[We];this.el.classList.remove(Ke)}this.el.classList.add("rbroBorderTable"+this.border.charAt(0).toUpperCase()+this.border.slice(1))}},{key:"getFields",value:function(){var a=this.getProperties();return a.splice(0,0,"id","containerId","width"),a}},{key:"getProperties",value:function(){return["x","y","dataSource","columns","header","contentRows","footer","border","borderColor","borderWidth","printIf","removeEmptyElement","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return se.type.table}},{key:"select",value:function(){o(f(x.prototype),"select",this).call(this);for(var a=this.getSizerContainerElement(),s=0,l=["NE","SE","SW","NW"];s<l.length;s++){var y=l[s];a.append(t("div",{class:"rbroSizer rbroSizer".concat(y," rbroSizerMove")}))}}},{key:"getSizers",value:function(){return[]}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=t("div",{class:"rbroDocElement rbroTableElement"});var a=t("table",{id:"rbro_el_table".concat(this.id)});a.append(t("thead",{id:"rbro_el_table_header".concat(this.id)})),a.append(t("tbody",{id:"rbro_el_table_content".concat(this.id)})),a.append(t("tfoot",{id:"rbro_el_table_footer".concat(this.id)})),this.el.append(a),this.appendToContainer(),this.registerEventHandlers(),a.style.width=this.widthVal+1+"px"}},{key:"remove",value:function(){this.rb.deleteDataObject(this.headerData),this.headerData.remove(),this.headerData=null;for(var a=0;a<this.contentDataRows.length;a++)this.rb.deleteDataObject(this.contentDataRows[a]),this.contentDataRows[a].remove();this.contentDataRows=[],this.rb.deleteDataObject(this.footerData),this.footerData.remove(),this.footerData=null,o(f(x.prototype),"remove",this).call(this)}},{key:"updateColumnWidth",value:function(a,s){if(this.setupComplete){this.headerData.updateColumnWidth(a,s);for(var l=0;l<this.contentDataRows.length;l++)this.contentDataRows[l].updateColumnWidth(a,s);this.footerData.updateColumnWidth(a,s)}}},{key:"updateColumnDisplay",value:function(){if(this.setupComplete){this.headerData.updateColumnDisplay();for(var a=0;a<this.contentDataRows.length;a++)this.contentDataRows[a].updateColumnDisplay();this.footerData.updateColumnDisplay()}}},{key:"updateHeight",value:function(){if(this.setupComplete){var a=0;this.header&&(a+=this.headerData.getHeight());for(var s=0;s<this.contentDataRows.length;s++)a+=this.contentDataRows[s].getHeight();this.footer&&(a+=this.footerData.getHeight()),this.height=""+a,this.heightVal=a}}},{key:"notifyColumnWidthResized",value:function(a,s,l,y){if(this.setupComplete){a!==this.headerData&&this.headerData.notifyColumnWidthResized(s,l);for(var j=0;j<this.contentDataRows.length;j++)a!==this.contentDataRows[j]&&this.contentDataRows[j].notifyColumnWidthResized(s,l);a!==this.footerData&&this.footerData.notifyColumnWidthResized(s,l),this.width=""+y,this.widthVal=y,document.getElementById("rbro_el_table".concat(this.id)).style.width=y+1+"px"}}},{key:"updateName",value:function(){this.name=this.rb.getLabel("docElementTable"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"hasDataSource",value:function(){return!0}},{key:"getContentRowIndex",value:function(a){for(var s=0;s<this.contentDataRows.length;s++)if(a===this.contentDataRows[s])return s;return-1}},{key:"addChildren",value:function(a){var s;for(a.push(this.headerData),s=0;s<this.contentDataRows.length;s++)a.push(this.contentDataRows[s]);for(a.push(this.footerData),this.headerData.addChildren(a),s=0;s<this.contentDataRows.length;s++)this.contentDataRows[s].addChildren(a);this.footerData.addChildren(a)}},{key:"addCommandsForChangedParameterName",value:function(a,s,l){this.addCommandForChangedParameterName(a,s,"dataSource",l)}},{key:"createSpaceForNewColumns",value:function(a,s){for(var l=x.getColumnMinWidth(),y=a*l,j=s-1;j>=0;){var V=this.headerData.getColumn(j),Q=V.getValue("widthVal")-l,ie=l;if(Q>y&&(ie=V.getValue("widthVal")-y),this.updateColumnWidth(j,ie),(y-=Q)<=0)break;j--}}},{key:"hasEnoughAvailableSpace",value:function(a){var s=A(this.columns),l=Math.floor(this.widthVal/x.getColumnMinWidth());return!(a>s&&a>l)}},{key:"addCommandsForChangedColumns",value:function(a,s){if(this.hasEnoughAvailableSpace(a)){var l=A(this.columns),y=new Tt(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(s.addCommand(y),a>l)this.createSpaceForNewColumns(a-l,l);else if(a<l){for(var j=0,V=0;V<a;V++)j+=this.headerData.getColumn(V).getValue("widthVal");var Q=this.headerData.getColumn(a-1);this.widthVal-j>0&&this.updateColumnWidth(a-1,Q.getValue("widthVal")+(this.widthVal-j))}this.columns=a,this.headerData.createColumns(a,!0,-1,!1);for(var ie=0;ie<this.contentDataRows.length;ie++)this.contentDataRows[ie].createColumns(a,!0,-1,!1);this.footerData.createColumns(a,!0,-1,!1),y=new Tt(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),s.addCommand(y)}}},{key:"addCommandsForChangedContentRows",value:function(a,s){if(a!==A(this.contentRows)){var l,y=new Tt(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(s.addCommand(y),a<this.contentDataRows.length){for(l=a;l<this.contentDataRows.length;l++)this.rb.deleteDataObject(this.contentDataRows[l]),this.contentDataRows[l].remove();this.contentDataRows.splice(a,this.contentDataRows.length-a)}else{var j;if(this.contentDataRows.length>0){j={height:this.contentDataRows[this.contentDataRows.length-1].height,columnData:[]};var V,Q=Jt(this.contentDataRows[0].columnData);try{for(Q.s();!(V=Q.n()).done;){var ie=V.value;j.columnData.push({width:ie.width})}}catch(be){Q.e(be)}finally{Q.f()}}for(l=this.contentDataRows.length;l<a;l++)this.contentDataRows.push(this.createBand("content",l,j))}this.contentRows=""+a,y=new Tt(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),s.addCommand(y)}}},{key:"toJS",value:function(){var a=o(f(x.prototype),"toJS",this).call(this);a.headerData=this.headerData.toJS();for(var s=[],l=0;l<this.contentDataRows.length;l++)s.push(this.contentDataRows[l].toJS());return a.contentDataRows=s,a.footerData=this.footerData.toJS(),a}},{key:"getClassName",value:function(){return"TableElement"}}],[{key:"removeIds",value:function(a){for(var s=0,l=["headerData","footerData"];s<l.length;s++){var y=l[s];x.removeBandIds(a[y])}for(var j=0;j<a.contentDataRows.length;j++)x.removeBandIds(a.contentDataRows[j])}},{key:"removeBandIds",value:function(a){delete a.id;var s,l=Jt(a.columnData);try{for(l.s();!(s=l.n()).done;)delete s.value.id}catch(y){l.e(y)}finally{l.f()}}},{key:"getColumnMinWidth",value:function(){return 20}}]),x}(se);lr.border={grid:"grid",frameRow:"frame_row",frame:"frame",row:"row",none:"none"};var Tt=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a,s,l,y,j,V){var Q;return J(this,x),(Q=b.call(this)).add=v,Q.elementType=a,Q.initialData=s,Q.parentId=y,Q.position=j,Q.rb=V,Q.id=l,Q.firstExecution=!0,Q}return L(x,[{key:"getName",value:function(){return this.add?"Add element":"Delete element"}},{key:"do",value:function(){this.add?this.addElement():this.deleteElement(),this.firstExecution=!1}},{key:"undo",value:function(){this.add?this.deleteElement():this.addElement()}},{key:"addElement",value:function(){if(this.rb.getDataObject(this.parentId)!==null){var a=x.createElement(this.id,this.initialData,this.elementType,this.position,!0,this.rb);this.rb.notifyEvent(a,w.operation.add),this.rb.selectObject(this.id,!0),this.add&&this.firstExecution&&(this.initialData=a.toJS())}}},{key:"deleteElement",value:function(){var a=this.rb.getDataObject(this.id);a!==null&&this.rb.deleteDocElement(a)}},{key:"getClassName",value:function(){return"AddDeleteDocElementCmd"}}],[{key:"createElement",value:function(a,s,l,y,j,V){var Q,ie={draggable:!0};l===se.type.text?Q=new Pr(a,s,V):l===se.type.line?Q=new kt(a,s,V):l===se.type.image?Q=new It(a,s,V):l===se.type.pageBreak?Q=new qt(a,s,V):l===se.type.table?(Q=new lr(a,s,V),ie.hasChildren=!0):l===se.type.frame?(Q=new ht(a,s,V),ie.hasChildren=!0):l===se.type.section?(Q=new jt(a,s,V),ie.hasChildren=!0):l===se.type.barCode&&(Q=new Ze(a,s,V)),V.addDocElement(Q);var be=Q.getContainer().getPanelItem(),_e=new Le(l,be,Q,ie,V);return Q.setPanelItem(_e),be.insertChild(y,_e),Q.setup(j),Q}}]),x}(w);function Wt(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,y){if(l){if(typeof l=="string")return Qr(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?Qr(l,y):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var y=u.next();return a=y.done,y},e:function(y){s=!0,v=y},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function Qr(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var en=function(){function R(S,u,b){J(this,R),this.rootElement=S,this.rb=b,this.elPanel=null,this.elTabPdfLayout=null,this.elTabPdfPreview=null,this.elDoc=null,this.elDocContent=null,this.elHeader=null,this.elContent=null,this.elFooter=null,this.elSelectionArea=null,this.elDividerMarginLeft=null,this.elDividerMarginTop=null,this.elDividerMarginRight=null,this.elDividerMarginBottom=null,this.elDividerHeader=null,this.elDividerFooter=null,this.elPdfPreview=null,this.gridVisible=u,this.gridSize=10,this.zoom=100,this.zoomLevels=[25,50,75,100,150,200,400],this.pdfPreviewExists=!1,this.pdfPreviewObjectURL=null,this.dragging=!1,this.dragElementType=null,this.dragType=se.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainers=[],this.dragCurrentContainerId=null,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0,this.dragSnapToGrid=!1,this.dragEnterCount=0,this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0}return L(R,[{key:"render",value:function(){var u=this;this.elPanel=document.getElementById("rbro_document_panel"),this.elPanel.addEventListener("mousedown",function(l){u.rb.isDocElementSelected()&&!l.shiftKey&&u.rb.deselectAll(!0);var y=E(u.elDocContent);u.startSelectionArea(u.getCoordWithoutZoom(l.pageX-y.left),u.getCoordWithoutZoom(l.pageY-y.top))});var b=t("div",{id:"rbro_document_tabs",class:"rbroDocumentTabs"});if(b.addEventListener("mousedown",function(l){l.stopPropagation()}),this.elTabPdfLayout=t("div",{id:"rbro_document_tab_pdf_layout",class:"rbroDocumentTab rbroButton rbroTabButton"},this.rb.getLabel("documentTabPdfLayout")),this.elTabPdfLayout.addEventListener("click",function(l){u.setDocumentTab(R.tab.pdfLayout)}),b.append(this.elTabPdfLayout),this.elTabPdfPreview=t("div",{id:"rbro_document_tab_pdf_preview",class:"rbroDocumentTab rbroButton rbroTabButton rbroHidden rbroPdfPreview"+(this.rb.getProperty("enableSpreadsheet")?" rbroXlsxDownload":"")},this.rb.getLabel("documentTabPdfPreview")),this.elTabPdfPreview.addEventListener("click",function(l){u.setDocumentTab(R.tab.pdfPreview)}),this.rb.getProperty("enableSpreadsheet")){var x=t("span",{class:"rbroIcon-xlsx rbroXlsxDownloadButton",title:this.rb.getLabel("documentTabXlsxDownload")});x.addEventListener("click",function(l){u.rb.downloadSpreadsheet()}),this.elTabPdfPreview.append(x)}var v=t("span",{class:"rbroIcon-cancel",title:this.rb.getLabel("documentTabClose")});v.addEventListener("click",function(l){u.closePdfPreviewTab()}),this.elTabPdfPreview.append(v),b.append(this.elTabPdfPreview),this.elPanel.append(b);var a=this.rb.getDocumentProperties();this.elDoc=t("div",{id:"rbro_document_pdf",class:"rbroDocument rbroDragTarget rbroHidden"}),this.elDocContent=t("div",{id:"rbro_document_content",class:"rbroDocumentContent"+(this.gridVisible?" rbroDocumentGrid":"")}),this.elHeader=t("div",{id:"rbro_header",class:"rbroDocumentBand rbroElementContainer",style:"top: 0px; left: 0px;"}),this.elHeader.append(t("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandHeader"))),this.elDocContent.append(this.elHeader),this.elContent=t("div",{id:"rbro_content",class:"rbroDocumentBand rbroElementContainer"}),this.elContent.append(t("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandContent"))),this.elDocContent.append(this.elContent),this.elFooter=t("div",{id:"rbro_footer",class:"rbroDocumentBand rbroElementContainer",style:"bottom: 0px; left 0px;"}),this.elFooter.append(t("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandFooter"))),this.elDocContent.append(this.elFooter),this.elDoc.append(this.elDocContent),this.elSelectionArea=t("div",{id:"rbro_selection_area",class:"rbroHidden rbroSelectionArea"}),this.elDocContent.append(this.elSelectionArea),this.initializeEventHandlers(),this.elDividerMarginLeft=t("div",{id:"rbro_divider_margin_left",class:"rbroDivider rbroDividerMarginLeft"}),this.elDoc.append(this.elDividerMarginLeft),this.elDividerMarginTop=t("div",{id:"rbro_divider_margin_top",class:"rbroDivider rbroDividerMarginTop"}),this.elDoc.append(this.elDividerMarginTop),this.elDividerMarginRight=t("div",{id:"rbro_divider_margin_right",class:"rbroDivider rbroDividerMarginRight"}),this.elDoc.append(this.elDividerMarginRight),this.elDividerMarginBottom=t("div",{id:"rbro_divider_margin_bottom",class:"rbroDivider rbroDividerMarginBottom"}),this.elDoc.append(this.elDividerMarginBottom),this.elDividerHeader=t("div",{id:"rbro_divider_header",class:"rbroDivider rbroDividerHeader"}),this.elDoc.append(this.elDividerHeader),this.elDividerFooter=t("div",{id:"rbro_divider_footer",class:"rbroDivider rbroDividerFooter"}),this.elDoc.append(this.elDividerFooter),this.elPanel.append(this.elDoc),this.elPdfPreview=t("div",{id:"rbro_document_pdf_preview",class:"rbroDocumentPreview"}),this.elPanel.append(this.elPdfPreview);var s=a.getPageSize();this.updatePageSize(s.width,s.height),this.updateHeader(),this.updateFooter(),this.updatePageMargins(),this.updateDocumentTabs(),this.setDocumentTab(R.tab.pdfLayout)}},{key:"initializeEventHandlers",value:function(){var u=this;this.elDocContent.addEventListener("dragover",function(b){u.processDragover(b)}),this.elDocContent.addEventListener("dragenter",function(b){u.rb.isBrowserDragActive("docElement")&&(u.dragEnterCount++,b.preventDefault())}),this.elDocContent.addEventListener("dragleave",function(b){if(u.rb.isBrowserDragActive("docElement")&&(u.dragEnterCount--,u.dragEnterCount===0)){var x,v=Wt(document.querySelectorAll(".rbroElementContainer"));try{for(v.s();!(x=v.n()).done;)x.value.classList.remove("rbroElementDragOver")}catch(a){v.e(a)}finally{v.f()}u.dragContainerId=null}}),this.elDocContent.addEventListener("drop",function(b){return u.processDrop(b),!1})}},{key:"processMouseMove",value:function(u){if(this.dragging)this.processDrag(u);else if(this.selectionAreaStarted){var b=E(this.elDocContent),x=this.getSelectionArea(this.getCoordWithoutZoom(u.pageX-b.left),this.getCoordWithoutZoom(u.pageY-b.top));this.elSelectionArea.style.left=this.rb.toPixel(x.left),this.elSelectionArea.style.top=this.rb.toPixel(x.top),this.elSelectionArea.style.width=this.rb.toPixel(x.width),this.elSelectionArea.style.height=this.rb.toPixel(x.height),this.elSelectionArea.classList.contains("rbroHidden")&&this.elSelectionArea.classList.remove("rbroHidden")}}},{key:"processDragover",value:function(u){if(this.rb.isBrowserDragActive("docElement")){var b=B(u),x=null;b!==null&&(x=this.getContainer(b.x,b.y,this.dragElementType,[]),this.dragCurrentX=b.x,this.dragCurrentY=b.y);var v=x!==null?x.getId():null;if(v!==this.dragContainerId){var a,s=Wt(document.querySelectorAll(".rbroElementContainer"));try{for(s.s();!(a=s.n()).done;)a.value.classList.remove("rbroElementDragOver")}catch(l){s.e(l)}finally{s.f()}x!==null&&x.dragOver(),this.dragContainerId=v}u.preventDefault(),u.stopPropagation()}}},{key:"processDrop",value:function(u){if(this.rb.isBrowserDragActive("docElement")){var b=B(u);b!==null&&(this.dragCurrentX=b.x,this.dragCurrentY=b.y);var x,v=Wt(document.querySelectorAll(".rbroElementContainer"));try{for(v.s();!(x=v.n()).done;)x.value.classList.remove("rbroElementDragOver")}catch(be){v.e(be)}finally{v.f()}for(var a=this.getContainer(this.dragCurrentX,this.dragCurrentY,this.dragElementType,[]);a!==null&&!a.isElementAllowed(this.dragElementType);)a=a.getParent();if(a!==null&&a.isElementAllowed(this.dragElementType)){var s=E(this.elDocContent),l=this.getCoordWithoutZoom(this.dragCurrentX-s.left),y=this.getCoordWithoutZoom(this.dragCurrentY-s.top),j=a.getOffset();if(l-=j.x,y-=j.y,!u.ctrlKey&&this.rb.getDocument().isGridVisible()){var V=this.rb.getDocument().getGridSize();l=O(l,V),y=O(y,V)}var Q={x:""+l,y:""+y,containerId:a.getId()},ie=new Tt(!0,this.dragElementType,Q,this.rb.getUniqueId(),a.getId(),-1,this.rb);this.rb.executeCommand(ie)}u.preventDefault()}}},{key:"processDrag",value:function(u){var b=B(u);if(this.dragType===se.dragType.element){var x=this.getContainer(b.x,b.y,this.dragElementType,this.dragLinkedContainers),v=x!==null?x.getId():null;if(v!==this.dragCurrentContainerId){var a,s=Wt(document.querySelectorAll(".rbroElementContainer"));try{for(s.s();!(a=s.n()).done;)a.value.classList.remove("rbroElementDragOver")}catch(j){s.e(j)}finally{s.f()}x!==null&&v!==this.dragContainerId&&x.dragOver()}this.dragCurrentContainerId=v}this.dragCurrentX=b.x,this.dragCurrentY=b.y,this.dragSnapToGrid=!u.ctrlKey;var l=this.rb.getDataObject(this.dragObjectId);if(l!==null){var y=l.getDragDiff(this.getCoordWithoutZoom(b.x-this.dragStartX),this.getCoordWithoutZoom(b.y-this.dragStartY),this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(y.x,y.y,this.dragType,null,!1)}}},{key:"updatePageSize",value:function(u,b){this.elDoc.style.width=this.rb.toPixel(u),this.elDoc.style.height=this.rb.toPixel(b)}},{key:"updatePageMargins",value:function(){var u=this.rb.getDocumentProperties(),b=A(u.getValue("marginLeft")),x=A(u.getValue("marginTop")),v=A(u.getValue("marginRight")),a=A(u.getValue("marginBottom")),s=this.rb.toPixel(b),l=this.rb.toPixel(x-1),y=this.rb.toPixel(v),j=this.rb.toPixel(a);this.elDividerMarginLeft.style.left=s,this.elDividerMarginTop.style.top=l,b!==0?(this.elDividerMarginLeft.style.left=s,this.elDividerMarginLeft.style.display="block"):this.elDividerMarginLeft.style.display="none",x!==0?(this.elDividerMarginTop.style.top=l,this.elDividerMarginTop.style.display="block"):this.elDividerMarginTop.style.display="none",v!==0?(this.elDividerMarginRight.style.right=y,this.elDividerMarginRight.style.display="block"):this.elDividerMarginRight.style.display="none",a!==0?(this.elDividerMarginBottom.style.bottom=j,this.elDividerMarginBottom.style.display="block"):this.elDividerMarginBottom.style.display="none",this.elDocContent.style.left=s,this.elDocContent.style.top=l,this.elDocContent.style.right=y,this.elDocContent.style.bottom=j}},{key:"updateHeader",value:function(){var u=this.rb.getDocumentProperties();if(u.getValue("header")){var b=this.rb.toPixel(u.getValue("headerSize"));this.elHeader.style.height=b,this.elHeader.style.display="block",this.elDividerHeader.style.top=this.rb.toPixel(A(u.getValue("marginTop"))+A(u.getValue("headerSize"))-1),this.elDividerHeader.style.display="block",this.elContent.style.top=b}else this.elHeader.style.display="none",this.elDividerHeader.style.display="none",this.elContent.style.top=this.rb.toPixel(0)}},{key:"updateFooter",value:function(){var u=this.rb.getDocumentProperties();if(u.getValue("footer")){var b=this.rb.toPixel(u.getValue("footerSize"));this.elFooter.style.height=b,this.elFooter.style.display="block",this.elDividerFooter.style.bottom=this.rb.toPixel(A(u.getValue("marginBottom"))+A(u.getValue("footerSize"))),this.elDividerFooter.style.display="block",this.elContent.style.bottom=b}else this.elFooter.style.display="none",this.elDividerFooter.style.display="none",this.elContent.style.bottom=this.rb.toPixel(0)}},{key:"setDocumentTab",value:function(u){var b,x=document.querySelectorAll("#rbro_document_tabs .rbroDocumentTab"),v=document.querySelectorAll(".rbroElementButtons .rbroMenuButton"),a=document.querySelectorAll(".rbroActionButtons .rbroActionButton"),s=Wt(x);try{for(s.s();!(b=s.n()).done;)b.value.classList.remove("rbroActive")}catch(Pe){s.e(Pe)}finally{s.f()}if(u===R.tab.pdfLayout){this.elTabPdfLayout.classList.add("rbroActive"),this.elDoc.classList.remove("rbroHidden"),this.elPdfPreview.style.zIndex="",this.elPdfPreview.style.height="0";var l,y=Wt(v);try{for(y.s();!(l=y.n()).done;){var j=l.value;j.classList.remove("rbroDisabled"),j.draggable=!0}}catch(Pe){y.e(Pe)}finally{y.f()}var V,Q=Wt(a);try{for(Q.s();!(V=Q.n()).done;)V.value.disabled=!1}catch(Pe){Q.e(Pe)}finally{Q.f()}}else if(this.pdfPreviewExists&&u===R.tab.pdfPreview){this.elTabPdfPreview.classList.add("rbroActive"),this.elDoc.classList.add("rbroHidden"),this.elPdfPreview.style.zIndex="1",this.elPdfPreview.style.height="";var ie,be=Wt(v);try{for(be.s();!(ie=be.n()).done;){var _e=ie.value;_e.classList.add("rbroDisabled"),_e.draggable=!1}}catch(Pe){be.e(Pe)}finally{be.f()}var we,Oe=Wt(a);try{for(Oe.s();!(we=Oe.n()).done;)we.value.disabled=!0}catch(Pe){Oe.e(Pe)}finally{Oe.f()}}}},{key:"openPdfPreviewTab",value:function(u,b){if(d(this.elPdfPreview),this.pdfPreviewObjectURL&&(URL.revokeObjectURL(this.pdfPreviewObjectURL),this.pdfPreviewObjectURL=null),b&&Object.keys(b).length>0){var x=this,v=new XMLHttpRequest;for(var a in v.responseType="blob",v.onreadystatechange=function(){if(v.readyState===XMLHttpRequest.DONE)if(v.status===200){var l=document.createElement("object");l.type="application/pdf",l.width="100%",l.height="100%",x.pdfPreviewObjectURL=URL.createObjectURL(v.response),l.data=x.pdfPreviewObjectURL,x.elPdfPreview.append(l)}else alert("preview failed")},v.open("GET",u,!0),b)b.hasOwnProperty(a)&&v.setRequestHeader(a,b[a]);v.send()}else{var s=t("object",{data:u,type:"application/pdf",width:"100%",height:"100%"});this.elPdfPreview.append(s)}this.pdfPreviewExists=!0,this.setDocumentTab(R.tab.pdfPreview),this.updateDocumentTabs()}},{key:"closePdfPreviewTab",value:function(){this.pdfPreviewExists=!1,d(this.elPdfPreview),this.setDocumentTab(R.tab.pdfLayout),this.updateDocumentTabs()}},{key:"updateDocumentTabs",value:function(){var u=1;this.pdfPreviewExists?(this.elTabPdfPreview.classList.remove("rbroHidden"),u++):this.elTabPdfPreview.classList.add("rbroHidden"),u>1?(document.getElementById("rbro_document_tabs").style.display="block",this.elPanel.classList.add("rbroHasTabs")):(document.getElementById("rbro_document_tabs").style.display="none",this.elPanel.classList.remove("rbroHasTabs"))}},{key:"getContainer",value:function(u,b,x,v){var a=E(this.elDocContent);return this.rb.getContainer(this.getCoordWithoutZoom(u-a.left),this.getCoordWithoutZoom(b-a.top),x,v)}},{key:"getContentScrollPosY",value:function(){var u=E(this.elDocContent);return E(this.elPanel).top-u.top}},{key:"isGridVisible",value:function(){return this.gridVisible}},{key:"toggleGrid",value:function(){this.gridVisible=!this.gridVisible,this.gridVisible?this.elDocContent.classList.add("rbroDocumentGrid"):this.elDocContent.classList.remove("rbroDocumentGrid")}},{key:"zoomIn",value:function(){for(var u=0;u<this.zoomLevels.length-1;u++)if(this.zoom===this.zoomLevels[u]){this.updateZoomLevel(this.zoomLevels[u+1]);break}}},{key:"zoomOut",value:function(){for(var u=1;u<this.zoomLevels.length;u++)if(this.zoom===this.zoomLevels[u]){this.updateZoomLevel(this.zoomLevels[u-1]);break}}},{key:"isZoomInPossible",value:function(){return this.zoom<this.zoomLevels[this.zoomLevels.length-1]}},{key:"isZoomOutPossible",value:function(){return this.zoom>this.zoomLevels[0]}},{key:"pageSizeChanged",value:function(){this.updateZoomLevel(this.zoom)}},{key:"updateZoomLevel",value:function(u){this.zoom=u;var b=this.rb.getDocumentProperties().getPageSize(),x=b.width*(u/100),v=b.height*(u/100),a=this.rb.getWidth()-this.rb.getMainPanel().getTotalPanelWidth(),s=getComputedStyle(this.elPanel),l=parseInt(s.paddingTop)||0,y=parseInt(s.paddingBottom)||0,j=this.elPanel.clientHeight-l-y,V=0;u!==100?(b.width>a?(this.elDoc.style.transformOrigin="",u<100&&x<a&&(V=Math.round((a-x)/2))):x>a?(this.elDoc.style.margin="0",this.elDoc.style.transformOrigin=""):(this.elDoc.style.margin="",this.elDoc.style.transformOrigin="top center"),this.elDoc.style.transform="translateX(".concat(V,"px) scale(").concat(this.zoom/100,")")):(this.elDoc.style.margin="",this.elDoc.style.transform="",this.elDoc.style.transformOrigin=""),document.getElementById("rbro_menu_zoom_level").textContent=u+" %",this.rb.getMenuPanel().updateZoomButtons(this.isZoomInPossible(),this.isZoomOutPossible()),this.elPanel.style.overflowX=x<a?"hidden":"",this.elPanel.style.overflowY=v<j?"hidden":""}},{key:"getCoordWithoutZoom",value:function(u){return Math.round(u*(100/this.zoom))}},{key:"getGridSize",value:function(){return this.gridSize}},{key:"getHeight",value:function(){return this.elDocContent.clientHeight}},{key:"getElement",value:function(u){return u===P.bandType.header?this.elHeader:u===P.bandType.content?this.elContent:u===P.bandType.footer?this.elFooter:null}},{key:"isDragging",value:function(){return this.dragging}},{key:"isDragged",value:function(){return this.dragging&&(this.dragStartX!==this.dragCurrentX||this.dragStartY!==this.dragCurrentY)}},{key:"startDrag",value:function(u,b,x,v,a,s){this.dragging=!0,this.dragStartX=this.dragCurrentX=u,this.dragStartY=this.dragCurrentY=b,this.dragElementType=a,this.dragType=s,this.dragObjectId=x,this.dragContainerId=v,this.dragLinkedContainers=[],this.dragCurrentContainerId=null,this.dragSnapToGrid=!1;var l=this.rb.getDataObject(this.dragObjectId);l&&(this.dragLinkedContainers=l.getLinkedContainers())}},{key:"stopDrag",value:function(){var u=this.getCoordWithoutZoom(this.dragCurrentX-this.dragStartX),b=this.getCoordWithoutZoom(this.dragCurrentY-this.dragStartY),x=this.rb.getDataObject(this.dragObjectId);if(x===null||u===0&&b===0)this.rb.updateSelectionDrag(0,0,this.dragType,null,!1);else{var v=null;this.dragType===se.dragType.element&&(v=this.rb.getDataObject(this.dragCurrentContainerId));var a=this.rb.getSelectedObjects();if(a.length>1&&v!==null){for(var s=a[0].getContainerId(),l=1;l<a.length;l++)if(a[l].getContainerId()!==s){v=null;break}}var y=x.getDragDiff(u,b,this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(y.x,y.y,this.dragType,v,!0)}this.dragging=!1,this.dragType=se.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragCurrentContainerId=null;var j,V=Wt(document.querySelectorAll(".rbroElementContainer"));try{for(V.s();!(j=V.n()).done;)j.value.classList.remove("rbroElementDragOver")}catch(Q){V.e(Q)}finally{V.f()}}},{key:"startBrowserDrag",value:function(u){this.dragEnterCount=0,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainers=[],this.dragElementType=u,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0}},{key:"startSelectionArea",value:function(u,b){this.selectionAreaStarted=!0,this.selectionAreaStartX=u,this.selectionAreaStartY=b}},{key:"stopSelectionArea",value:function(u,b,x){var v=this.getSelectionArea(u,b);if(v.width>10&&v.height>10){var a,s=Wt(this.rb.getDocElements(!0));try{for(s.s();!(a=s.n()).done;){var l=a.value;if(l.isAreaSelectionAllowed()){var y=l.getAbsolutePosition();if(v.left<y.x+l.getValue("widthVal")&&v.left+v.width>=y.x&&v.top<y.y+l.getValue("heightVal")&&v.top+v.height>=y.y){var j=!0;if(l.getContainerId()){var V=l.getContainer();V!==null&&V.isSelected()&&(j=!1)}j&&(this.rb.selectObject(l.getId(),x),x=!1)}}}}catch(Q){s.e(Q)}finally{s.f()}}this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0,this.elSelectionArea.classList.add("rbroHidden")}},{key:"getSelectionArea",value:function(u,b){var x={};return u>this.selectionAreaStartX?(x.left=this.selectionAreaStartX,x.width=u-this.selectionAreaStartX):(x.left=u,x.width=this.selectionAreaStartX-u),b>this.selectionAreaStartY?(x.top=this.selectionAreaStartY,x.height=b-this.selectionAreaStartY):(x.top=b,x.height=this.selectionAreaStartY-b),x}},{key:"mouseUp",value:function(u){if(this.isDragging()&&this.stopDrag(),this.selectionAreaStarted){var b=E(this.elDocContent);this.stopSelectionArea(this.getCoordWithoutZoom(u.pageX-b.left),this.getCoordWithoutZoom(u.pageY-b.top),!u.shiftKey)}}},{key:"windowResized",value:function(){this.updateZoomLevel(this.zoom)}}]),R}();en.tab={pdfLayout:"pdfLayout",pdfPreview:"pdfPreview"};var pr,Ar,Cr=typeof Map=="function"?new Map:(pr=[],Ar=[],{has:function(S){return pr.indexOf(S)>-1},get:function(S){return Ar[pr.indexOf(S)]},set:function(S,u){pr.indexOf(S)===-1&&(pr.push(S),Ar.push(u))},delete:function(S){var u=pr.indexOf(S);u>-1&&(pr.splice(u,1),Ar.splice(u,1))}}),tn=function(S){return new Event(S,{bubbles:!0})};try{new Event("test")}catch(R){tn=function(u){var b=document.createEvent("Event");return b.initEvent(u,!0,!1),b}}function vn(R){var S=Cr.get(R);S&&S.destroy()}function bn(R){var S=Cr.get(R);S&&S.update()}var Ir=null;typeof window=="undefined"||typeof window.getComputedStyle!="function"?((Ir=function(S){return S}).destroy=function(R){return R},Ir.update=function(R){return R}):((Ir=function(S,u){return S&&Array.prototype.forEach.call(S.length?S:[S],function(b){return function(x){if(x&&x.nodeName&&x.nodeName==="TEXTAREA"&&!Cr.has(x)){var v,a=null,s=null,l=null,y=function(){x.clientWidth!==s&&ie()},j=function(be){window.removeEventListener("resize",y,!1),x.removeEventListener("input",ie,!1),x.removeEventListener("keyup",ie,!1),x.removeEventListener("autosize:destroy",j,!1),x.removeEventListener("autosize:update",ie,!1),Object.keys(be).forEach(function(_e){x.style[_e]=be[_e]}),Cr.delete(x)}.bind(x,{height:x.style.height,resize:x.style.resize,overflowY:x.style.overflowY,overflowX:x.style.overflowX,wordWrap:x.style.wordWrap});x.addEventListener("autosize:destroy",j,!1),"onpropertychange"in x&&"oninput"in x&&x.addEventListener("keyup",ie,!1),window.addEventListener("resize",y,!1),x.addEventListener("input",ie,!1),x.addEventListener("autosize:update",ie,!1),x.style.overflowX="hidden",x.style.wordWrap="break-word",Cr.set(x,{destroy:j,update:ie}),(v=window.getComputedStyle(x,null)).resize==="vertical"?x.style.resize="none":v.resize==="both"&&(x.style.resize="horizontal"),a=v.boxSizing==="content-box"?-(parseFloat(v.paddingTop)+parseFloat(v.paddingBottom)):parseFloat(v.borderTopWidth)+parseFloat(v.borderBottomWidth),isNaN(a)&&(a=0),ie()}function V(be){var _e=x.style.width;x.style.width="0px",x.style.width=_e,x.style.overflowY=be}function Q(){if(x.scrollHeight!==0){var be=function(we){for(var Oe=[];we&&we.parentNode&&we.parentNode instanceof Element;)we.parentNode.scrollTop&&Oe.push({node:we.parentNode,scrollTop:we.parentNode.scrollTop}),we=we.parentNode;return Oe}(x),_e=document.documentElement&&document.documentElement.scrollTop;x.style.height="",x.style.height=x.scrollHeight+a+"px",s=x.clientWidth,be.forEach(function(we){we.node.scrollTop=we.scrollTop}),_e&&(document.documentElement.scrollTop=_e)}}function ie(){Q();var be=Math.round(parseFloat(x.style.height)),_e=window.getComputedStyle(x,null),we=_e.boxSizing==="content-box"?Math.round(parseFloat(_e.height)):x.offsetHeight;if(we<be?_e.overflowY==="hidden"&&(V("scroll"),Q(),we=_e.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(x,null).height)):x.offsetHeight):_e.overflowY!=="hidden"&&(V("hidden"),Q(),we=_e.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(x,null).height)):x.offsetHeight),l!==we){l=we;var Oe=tn("autosize:resized");try{x.dispatchEvent(Oe)}catch(Pe){}}}}(b)}),S}).destroy=function(R){return R&&Array.prototype.forEach.call(R.length?R:[R],vn),R},Ir.update=function(R){return R&&Array.prototype.forEach.call(R.length?R:[R],bn),R});var St=Ir;function Qt(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,y){if(l){if(typeof l=="string")return rn(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?rn(l,y):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var y=u.next();return a=y.done,y},e:function(y){s=!0,v=y},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function rn(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var Dt=function(){function R(S,u){J(this,R),this.rootElement=S,this.rb=u,this.elWindow=null,this.elContent=null,this.input=null,this.objId=null,this.field=null,this.type=null,this.visible=!1,this.items=null,this.rootParameter=null,this.rootDataType=null,this.rootFields=null,this.dataEmptyBeforeEdit=!0,this.nextRowId=-1,this.rowMap=null}return L(R,[{key:"render",value:function(){var u=this;this.elWindow=t("div",{class:"rbroPopupWindow rbroHidden"}),this.elContent=t("div",{class:"rbroPopupWindowContent"}),this.elContent.addEventListener("mouseup",function(x){x.stopPropagation()}),this.elWindow.append(this.elContent);var b=t("div",{class:"rbroButton rbroRoundButton rbroPopupWindowCancel rbroIcon-cancel"});b.addEventListener("click",function(x){u.hide()}),this.elWindow.append(b),document.body.append(this.elWindow)}},{key:"destroy",value:function(){this.elWindow.remove()}},{key:"show",value:function(u,b,x,v,a,s,l,y,j,V){var Q=this,ie=window.innerWidth,be=window.innerHeight,_e=null,we=null;if(this.input=x!==""?document.getElementById(x):null,this.objId=b,this.field=v,this.type=a,this.items=u,d(this.elContent),this.rootParameter=l,this.rootDataType=y,this.rootFields=j,this.nextRowId=1,this.rowMap={},s&&(we=s.getSelection()),a===R.type.data){l?(console.assert(y===null&&j===null&&V===null),y=l.type,j=l.getParameterFields(),V=l.getTestData(!0)):y===G.type.map?this.dataEmptyBeforeEdit=Object.keys(V).length===0:y!==G.type.array&&y!==G.type.simpleArray||!Array.isArray(V)?this.dataEmptyBeforeEdit=!1:this.dataEmptyBeforeEdit=V.length===0,this.createDataTable(this.elContent,l,y,j,V);var Oe=Math.round(.8*ie),Pe=Math.round(.8*be),Be=document.querySelector("html").scrollTop;this.elWindow.style.left=Math.round((ie-Oe)/2)+"px",this.elWindow.style.top=Math.round((be-Pe)/2)+Be+"px",this.elWindow.style.width=Oe+"px",this.elWindow.style.height=Pe+"px",document.body.append(t("div",{id:"rbro_background_overlay",class:"rbroBackgroundOverlay"})),document.body.classList.add("rbroFixedBackground")}else{a!==R.type.parameterSet&&a!==R.type.parameterAppend||((_e=t("input",{class:"rbroPopupSearch",placeholder:this.rb.getLabel("parameterSearchPlaceholder"),autocomplete:"off"})).addEventListener("input",function(at){Q.filterParameters(_e.value)}),this.elContent.append(_e));var He=t("ul");He.addEventListener("mousedown",function(at){at.preventDefault()});var Fe,je=Qt(u);try{var We=function(){var rt=Fe.value,ve=t("li");if(rt.separator){a!==R.type.parameterSet&&a!==R.type.parameterAppend||!rt.id||ve.setAttribute("id","parameter_group_"+rt.id);var Ue="rbroPopupItemSeparator";rt.separatorClass&&(Ue+=" "+rt.separatorClass),ve.setAttribute("class",Ue)}else a!==R.type.parameterSet&&a!==R.type.parameterAppend||!rt.id||ve.setAttribute("id","parameter_"+rt.id),ve.addEventListener("mousedown",function(Ge){if(a===R.type.pattern)Q.input.value=rt.name,Q.input.dispatchEvent(new Event("input")),Q.hide();else if(a===R.type.parameterSet||a===R.type.parameterAppend){var gt="${"+(rt.dataSourceName?rt.dataSourceName+":":"")+rt.name+"}";a===R.type.parameterSet?(Q.input.value=gt,Q.input.dispatchEvent(new Event("input")),St.update(Q.input)):s?we&&s.insertText(we.index,gt):(function(st,it){if(document.selection)st.focus(),document.selection.createRange().text=it,st.focus();else if(st.selectionStart||st.selectionStart===0){var ct=st.selectionStart,xt=st.selectionEnd,Et=st.scrollTop;st.value=st.value.substring(0,ct)+it+st.value.substring(xt,st.value.length),st.focus(),st.selectionStart=ct+it.length,st.selectionEnd=ct+it.length,st.scrollTop=Et}else st.value+=it,st.focus()}(Q.input,gt),St.update(Q.input),Q.input.dispatchEvent(new Event("input"))),Q.hide()}Ge.preventDefault()});ve.append(t("div",{class:"rbroPopupItemHeader"},rt.name)),rt.description&&rt.description!==""&&ve.append(t("div",{class:"rbroPopupItemDescription"},rt.description)),He.append(ve)};for(je.s();!(Fe=je.n()).done;)We()}catch(at){je.e(at)}finally{je.f()}this.elContent.append(He);var Ye=E(this.input),Ke=Ye.top;Ke<be/2||Ke<300?Ke+this.input.clientHeight+300<be&&(Ke+=this.input.clientHeight):Ke-=300,this.elWindow.style.left=Ye.left+"px",this.elWindow.style.top=Ke+"px",this.elWindow.style.width="400px",this.elWindow.style.height="300px"}this.elWindow.classList.remove("rbroHidden"),this.visible=!0,_e!==null&&_e.focus();var Qe,ut=Qt(this.elWindow.querySelectorAll("textarea"));try{for(ut.s();!(Qe=ut.n()).done;){var lt=Qe.value;St.update(lt)}}catch(at){ut.e(at)}finally{ut.f()}}},{key:"hide",value:function(){if(this.visible){if(this.input!==null&&this.input.focus(),this.type===R.type.data){var u,b=!0;if(this.rootParameter?u=this.getTestData(this.elContent,this.rootParameter):(u=this.getData(this.elContent,this.rootDataType,this.rootFields),this.dataEmptyBeforeEdit&&(this.rootDataType===G.type.map?b=this.isDataEmpty(u,this.rootFields):this.rootDataType!==G.type.array&&this.rootDataType!==G.type.simpleArray||!Array.isArray(u)||(u.length===0?b=!1:u.length===1&&(b=!this.isDataEmpty(u[0],this.rootFields))))),b){var x=this.rb.getDataObject(this.objId),v=JSON.stringify(u);if(x!==null&&x.getValue(this.field)!==v){var a=new e(this.objId,this.field,v,e.type.text,this.rb);this.rb.executeCommand(a)}}document.getElementById("rbro_background_overlay").remove()}this.elWindow.classList.add("rbroHidden"),d(this.elContent),document.body.classList.remove("rbroFixedBackground"),this.visible=!1,this.items=null}}},{key:"isDataEmpty",value:function(u,b){var x,v=!0,a=Qt(b);try{for(a.s();!(x=a.n()).done;){var s=x.value;if(s.name in u){var l=u[s.name];s.type===G.type.string||s.type===G.type.number||s.type===G.type.date?l!==""&&(v=!1):s.type===G.type.boolean?l&&(v=!1):s.type===G.type.image?h(l)==="object"&&"filename"in l&&l.filename!==""&&(v=!1):s.type===G.type.array||s.type===G.type.simpleArray?l.length>0&&(v=!1):s.type===G.type.map&&Object.keys(l).length>0&&(v=!1)}}}catch(y){a.e(y)}finally{a.f()}return v}},{key:"createDataTable",value:function(u,b,x,v,a){var s,l=this,y=t("div"),j=t("table"),V=t("tr"),Q=t("tbody");x===G.type.array||x===G.type.simpleArray?Array.isArray(a)||(a=[]):x===G.type.map&&(a&&Object.getPrototypeOf(a)===Object.prototype||(a={}));var ie=t("th");x===G.type.map&&(ie.style.display="none"),V.append(ie);var be,_e=Qt(v);try{for(_e.s();!(be=_e.n()).done;){var we=be.value,Oe=t("th",{},we.label?we.label:we.name);we.type===G.type.image&&Oe.append(t("span",{title:this.rb.getLabel("parameterTestDataImageInfo"),class:"rbroIcon-info"})),V.append(Oe)}}catch(je){_e.e(je)}finally{_e.f()}var Pe=t("thead");if(Pe.append(V),j.append(Pe),x===G.type.map){var Be=[a];this.addDataRow(Q,b,x,v,Be,0)}else{var He=Array.isArray(a)?a:[];if(He.length===0)this.addEmptyDataRow(Q,b,x,v);else for(s=0;s<He.length;s++)this.addDataRow(Q,b,x,v,He,s)}if(j.append(Q),y.append(j),x!==G.type.map){var Fe=t("div",{class:"rbroButton rbroFullWidthButton"});Fe.append(t("div",{class:"rbroButton rbroPopupWindowButton"},this.rb.getLabel("popupWindowAddDataRow"))),Fe.addEventListener("click",function(je){l.addEmptyDataRow(Q,b,x,v)}),y.append(Fe)}d(u),u.append(y)}},{key:"addEmptyDataRow",value:function(u,b,x,v){var a,s={},l=Qt(v);try{for(l.s();!(a=l.n()).done;){var y=a.value;y.type===G.type.array||y.type===G.type.simpleArray?s[y.name]=[]:y.type===G.type.map?s[y.name]={}:s[y.name]=""}}catch(V){l.e(V)}finally{l.f()}var j=[s];this.addDataRow(u,b,x,v,j,0)}},{key:"addDataRow",value:function(u,b,x,v,a,s){var l=this,y=a[s],j=t("tr");j.dataset.rowId=String(this.nextRowId),this.rowMap[String(this.nextRowId)]={type:"row",data:y},this.nextRowId++;var V=t("td");if(x!==G.type.map){var Q=t("div",{class:"rbroButton rbroDeleteButton rbroIcon-cancel"});Q.addEventListener("click",function(Pe){var Be=Pe.target.parentElement.parentElement,He=Be.dataset.rowId;Be.remove();var Fe=l.rowMap[He];a.splice(a.indexOf(Fe.data),1),delete l.rowMap[He]}),V.append(Q)}else V.style.display="none";j.append(V);var ie,be=v.length,_e=Qt(v);try{for(_e.s();!(ie=_e.n()).done;){var we=ie.value,Oe=we.type===G.type.array||we.type===G.type.simpleArray?[]:"";y!==null&&we.name in y&&(Oe=y[we.name]),this.appendColumn(j,we,Oe,y,be)}}catch(Pe){_e.e(Pe)}finally{_e.f()}u.append(j)}},{key:"appendColumn",value:function(u,b,x,v,a){var s=this,l=t("td");if(b.type===G.type.array||b.type===G.type.simpleArray||b.type===G.type.map){var y=t("div",{class:"expandableCell"}),j=t("span",{class:"rbroIcon-plus"});y.append(j);var V=t("span");if(y.append(V),y.addEventListener("click",function(Be){var He=!y.classList.contains("rbroExpandedCell"),Fe=u.nextElementSibling;if(Fe&&Fe.tagName==="TR"){var je=Fe.querySelector("td table");if(je){var We,Ye=Qt(u.querySelectorAll(".expandableCell"));try{for(Ye.s();!(We=Ye.n()).done;){var Ke=We.value;if(Ke.classList.contains("rbroExpandedCell")){Ke.classList.remove("rbroExpandedCell");var Qe=Ke.children[0],ut=Ke.children[1];Qe.classList.remove("rbroIcon-minus"),Qe.classList.add("rbroIcon-plus");var lt=s.rowMap[Fe.dataset.rowId];if(lt.type==="table"&&(lt.parentData[lt.field.name]=s.getTestData(je,lt.field.parameter),lt.field.type===G.type.array||lt.field.type===G.type.simpleArray)){var at=lt.field.name in v&&Array.isArray(v[lt.field.name])?v[lt.field.name].length:0;s.setTableRowCount(ut,at)}break}}}catch(gt){Ye.e(gt)}finally{Ye.f()}Fe.remove()}}if(He){var rt=t("tr");rt.dataset.rowId=String(s.nextRowId),s.rowMap[String(s.nextRowId)]={type:"table",field:b,parentData:v},s.nextRowId++;var ve=t("td",{colspan:String(a+1)}),Ue=b.parameter.getParameterFields();if(Ue.length>0){var Ge=v[b.name];s.createDataTable(ve,b.parameter,b.parameter.type,Ue,Ge),rt.append(ve),u.insertAdjacentElement("afterend",rt),y.classList.add("rbroExpandedCell"),j.classList.remove("rbroIcon-plus"),j.classList.add("rbroIcon-minus"),V.textContent=""}else b.parameter.getValue("type")===G.type.map?alert(s.rb.getLabel("parameterEditTestDataMapNoFields")):alert(s.rb.getLabel("parameterEditTestDataArrayNoFields"))}}),b.type===G.type.array||b.type===G.type.simpleArray){var Q=b.name in v&&Array.isArray(v[b.name])?v[b.name].length:0;this.setTableRowCount(V,Q)}l.append(y)}else if(b.type===G.type.image){var ie=t("div",{class:"rbroImageFileContainer"}),be=t("input",{type:"file"});be.addEventListener("change",function(Be){var He=Be.target.files;if(He&&He[0]){var Fe=new FileReader,je=s.rb,We=He[0].name;Fe.onload=function(Ye){v[b.name]={data:Ye.target.result,filename:We},_e.classList.remove("rbroHidden"),we.textContent=We},Fe.onerror=function(Ye){alert(je.getLabel("docElementLoadImageErrorMsg"))},Fe.readAsDataURL(He[0])}}),ie.append(be);var _e=t("div",{class:"rbroImageFile rbroHidden"}),we=t("div");_e.append(we);var Oe=t("div",{class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});Oe.addEventListener("click",function(Be){be.value="",v[b.name]={data:"",filename:""},_e.classList.add("rbroHidden"),we.textContent=""}),_e.append(Oe),ie.append(_e),x.filename&&(we.textContent=x.filename,_e.classList.remove("rbroHidden")),l.append(ie)}else{var Pe;b.attributes&&b.attributes.multiLine?(console.assert(b.type===G.type.string),Pe=t("textarea",{rows:1}),x&&(Pe.value=x),St(Pe)):b.attributes&&b.attributes.select?(console.assert(b.type===G.type.string||b.type===G.type.number),Pe=t("select"),b.attributes.select==="style"&&te(Pe,x||null,this.rb)):(Pe=t("input"),b.type===G.type.boolean?(Pe.setAttribute("type","checkbox"),x&&(Pe.checked=!0),l.classList.add("rbroDataCheckbox")):(Pe.setAttribute("type","text"),x&&Pe.setAttribute("value",x),b.type===G.type.number?function(Be){var He=this;Be.addEventListener("keyup",function(Fe){var je=Fe.target.value,We=je.reverse().replace(/[^0-9\-\.,]|[\-](?=.)|[\.,](?=[0-9]*[\.,])/g,"").reverse(),Ye=He.className,Ke=Ye?Ye.indexOf("decimalPlaces"):-1;if(Ke!==-1){Ke+=13;var Qe,ut=Ye.indexOf(" ",Ke);Qe=parseInt(ut!==-1?Ye.substring(Ke,ut):Ye.substr(Ke),10),isNaN(Qe)||((Ke=We.indexOf("."))===-1&&(Ke=We.indexOf(",")),Ke!==-1&&We.length-1-Ke>Qe&&(We=We.substring(0,Ke+Qe+1)))}je!==We&&(Fe.target.value=We)})}(Pe):b.type===G.type.date&&Pe.setAttribute("placeholder",this.rb.getLabel("parameterTestDataDatePattern")))),Pe.addEventListener("focus",function(Be){Pe.parentElement.classList.add("rbroHasFocus")}),Pe.addEventListener("blur",function(Be){Pe.parentElement.classList.remove("rbroHasFocus")}),l.append(Pe)}u.append(l)}},{key:"getTestData",value:function(u,b){return this.getData(u,b.type,b.getParameterFields())}},{key:"getData",value:function(u,b,x){var v=[];if(b===G.type.map)v={};else if(b!==G.type.array&&b!==G.type.simpleArray)return console.assert(!1),null;var a,s=Qt(u.querySelector("tbody").children);try{for(s.s();!(a=s.n()).done;){var l=a.value,y=this.rowMap[l.dataset.rowId];if(y.type==="table"){var j=y.field.parameter;y.parentData[y.field.name]=this.getData(l,j.type,j.getParameterFields())}else{var V,Q=y.data,ie=l.querySelectorAll("input,textarea,select"),be=0,_e=Qt(x);try{for(_e.s();!(V=_e.n()).done;){var we=V.value;if(we.type!==G.type.array&&we.type!==G.type.simpleArray&&we.type!==G.type.map){var Oe=ie[be];we.type===G.type.boolean?Q[we.name]=Oe.checked:we.type!==G.type.image&&(Q[we.name]=Oe.value.trim()),be++}}}catch(Pe){_e.e(Pe)}finally{_e.f()}b===G.type.array||b===G.type.simpleArray?v.push(Q):b===G.type.map&&(v=Q)}}}catch(Pe){s.e(Pe)}finally{s.f()}return v}},{key:"setTableRowCount",value:function(u,b){u.textContent=b===0?this.rb.getLabel("parameterTestDataRowCountEmpty"):b===1?this.rb.getLabel("parameterTestDataRowCountOne"):this.rb.getLabel("parameterTestDataRowCount").replace("${count}",String(b))}},{key:"filterParameters",value:function(u){var b=null,x=0;if(this.items!==null){u=u.toLowerCase();var v,a=Qt(this.items);try{for(a.s();!(v=a.n()).done;){var s=v.value;s.separator?(b!==null&&(document.getElementById("parameter_group_"+b).style.display=x>0?"block":"none"),b=s.id?s.id:null,x=0):s.nameLowerCase.indexOf(u)!==-1?(document.getElementById("parameter_"+s.id).style.display="block",b!==-1&&x++):document.getElementById("parameter_"+s.id).style.display="none"}}catch(l){a.e(l)}finally{a.f()}b!==null&&(document.getElementById("parameter_group_"+b).style.display=x>0?"block":"none")}}}]),R}();function nn(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,y){if(l){if(typeof l=="string")return on(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?on(l,y):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var y=u.next();return a=y.done,y},e:function(y){s=!0,v=y},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function on(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}Dt.type={parameterSet:0,parameterAppend:1,pattern:2,data:3};var Gt=function(){function R(S){J(this,R),this.rb=S,this.id="0_document_properties",this.panelItem=null,this.errors=[],this.pageFormat=R.pageFormat.A4,this.pageWidth="",this.pageHeight="",this.unit=R.unit.mm,this.orientation=R.orientation.portrait,this.contentHeight="",this.marginLeft="",this.marginLeftVal=0,this.marginTop="",this.marginTopVal=0,this.marginRight="",this.marginRightVal=0,this.marginBottom="",this.marginBottomVal=0,this.header=!0,this.headerSize="80",this.headerDisplay=R.display.always,this.footer=!0,this.footerSize="80",this.footerDisplay=R.display.always,this.headerSizeVal=this.header?A(this.headerSize):0,this.footerSizeVal=this.footer?A(this.footerSize):0,this.patternLocale=S.getProperty("patternLocale"),this.patternCurrencySymbol=S.getProperty("patternCurrencySymbol"),this.patternNumberGroupSymbol=S.getProperty("patternNumberGroupSymbol"),this.width=0,this.height=0}return L(R,[{key:"setInitialData",value:function(u){for(var b in u)u.hasOwnProperty(b)&&this.hasOwnProperty(b)&&(this[b]=u[b]);this.headerSizeVal=this.header?A(this.headerSize):0,this.footerSizeVal=this.footer?A(this.footerSize):0,this.marginLeftVal=A(this.marginLeft),this.marginTopVal=A(this.marginTop),this.marginRightVal=A(this.marginRight),this.marginBottomVal=A(this.marginBottom)}},{key:"setup",value:function(){var u=this.getPageSize();this.updatePageSize(u),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter(),this.updateHeader(),this.updateFooter()}},{key:"getFields",value:function(){return["pageFormat","pageWidth","pageHeight","unit","orientation","contentHeight","marginLeft","marginTop","marginRight","marginBottom","header","headerSize","headerDisplay","footer","footerSize","footerDisplay","patternLocale","patternCurrencySymbol","patternNumberGroupSymbol"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.rb.getLabel("documentProperties")}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(u){this.panelItem=u}},{key:"getValue",value:function(u){return this[u]}},{key:"setValue",value:function(u,b){if(this[u]=b,u==="marginLeft"||u==="marginTop"||u==="marginRight"||u==="marginBottom"?(this[u+"Val"]=A(b),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter()):u==="header"?this.updateHeader():u==="footer"&&this.updateFooter(),u!=="header"&&u!=="headerSize"||(this.rb.getDocument().updateHeader(),this.headerSizeVal=this.header?A(this.headerSize):0),u!=="footer"&&u!=="footerSize"||(this.rb.getDocument().updateFooter(),this.footerSizeVal=this.footer?A(this.footerSize):0),u==="pageFormat"||u==="pageWidth"||u==="pageHeight"||u==="unit"||u==="orientation"||u==="contentHeight"||u==="marginTop"||u==="marginBottom"){var x=this.getPageSize();this.updatePageSize(x)}}},{key:"updatePageSize",value:function(u){this.width=u.width,this.height=u.height,this.rb.getDocument().updatePageSize(u.width,u.height);var b,x=nn(this.rb.getDocElements(!0));try{for(x.s();!(b=x.n()).done;){var v=b.value;v instanceof jt&&v.setWidth(u.width)}}catch(a){x.e(a)}finally{x.f()}this.rb.getDocument().pageSizeChanged()}},{key:"updateHeader",value:function(){this.header?this.rb.getMainPanel().showHeader():this.rb.getMainPanel().hideHeader()}},{key:"updateFooter",value:function(){this.footer?this.rb.getMainPanel().showFooter():this.rb.getMainPanel().hideFooter()}},{key:"getPageSize",value:function(){var u,b,x;return this.pageFormat===R.pageFormat.A4?(this.orientation===R.orientation.portrait?(u=210,b=297):(u=297,b=210),x=R.unit.mm):this.pageFormat===R.pageFormat.A5?(this.orientation===R.orientation.portrait?(u=148,b=210):(u=210,b=148),x=R.unit.mm):this.pageFormat===R.pageFormat.letter?(this.orientation===R.orientation.portrait?(u=8.5,b=11):(u=11,b=8.5),x=R.unit.inch):(u=A(this.pageWidth),b=A(this.pageHeight),x=this.unit),x===R.unit.mm?(u=Math.round(72*u/25.4),b=Math.round(72*b/25.4)):(u=Math.round(72*u),b=Math.round(72*b)),this.contentHeight.trim()!==""&&(b=A(this.contentHeight)+this.marginTopVal+this.marginBottomVal+this.headerSizeVal+this.footerSizeVal),{width:u,height:b}}},{key:"getContentSize",value:function(){var u,b=this.getPageSize();return u=this.contentHeight.trim()!==""?A(this.contentHeight):b.height-this.marginTopVal-this.marginBottomVal-this.headerSizeVal-this.footerSizeVal,{width:b.width-this.marginLeftVal-this.marginRightVal,height:u}}},{key:"addError",value:function(u){this.errors.push(u)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var u,b={},x=nn(this.getFields());try{for(x.s();!(u=x.n()).done;){var v=u.value;b[v]=this.getValue(v)}}catch(a){x.e(a)}finally{x.f()}return b}},{key:"getClassName",value:function(){return"DocumentProperties"}}]),R}();Gt.outputFormat={pdf:"pdf",xlsx:"xlsx"},Gt.pageFormat={A4:"A4",A5:"A5",letter:"letter",userDefined:"user_defined"},Gt.unit={mm:"mm",inch:"inch"},Gt.orientation={portrait:"portrait",landscape:"landscape"},Gt.display={always:"always",notOnFirstPage:"not_on_first_page"};var _n={de_de:{bandContent:"Inhalt",bandFooter:"Fu\xDFzeile",bandHeader:"Kopfzeile",clear:"L\xF6schen",contentHeight:"Inhaltsh\xF6he",contentHeightInfo:"H\xF6he des Inhaltsbereichs, um Elemente zu platzieren (betrifft nicht die tats\xE4chliche Seitengr\xF6\xDFe)",differentFiles:"versch. Dateien...",differentValues:"versch. Werte...",docElementAdditionalStyles:"Zus\xE4tzliche Formatvorlagen",docElementAlignToPageBottom:"Am unteren Seitenrand ausrichten",docElementAlternateBackgroundColor:"Abwechselnde Hintergrundfarbe",docElementAlwaysPrintOnSamePage:"Immer zusammen auf einer Seite",docElementBarCode:"Barcode",docElementBarWidth:"Balkenbreite",docElementBorderFrame:"au\xDFen",docElementBorderFrameRow:"Rahmen und Zeile",docElementBorderGrid:"Alle Rahmenlinien",docElementBorderNone:"Keiner",docElementBorderRow:"Zeilen",docElementColor:"Farbe",docElementColspan:"Anz. verbundene Zellen",docElementColumns:"Spalten",docElementConditionalStyle:"Bedingte Formatierung",docElementConditionalStyleCondition:"Bedingung",docElementContent:"Text",docElementContentRows:"Inhaltszeilen",docElementDataSource:"Datenquelle",docElementDisplayValue:"Wert anzeigen",docElementEditMultipleSelectionNotSupported:"Bearbeiten von Mehrfachauswahl wird f\xFCr diese Einstellung nicht unterst\xFCtzt",docElementErrorCorrectionLevel:"Fehlerkorrektur",docElementErrorCorrectionLevelHigh:"Hoch",docElementErrorCorrectionLevelLow:"Niedrig",docElementErrorCorrectionLevelMedium:"Mittel",docElementErrorCorrectionLevelQuartile:"Quartil",docElementEval:"Auswerten",docElementFormat:"Format",docElementFrame:"Rahmen",docElementGroupExpression:"Gruppen Ausdruck",docElementGrowWeight:"Wachstums-Gewicht",docElementGrowWeightInfo:"Wachstumsfaktor zur Verwendung des Platzes von ausgeblendeten Spalten",docElementGrowWeightHigh:"hoch",docElementGrowWeightLow:"niedrig",docElementGuardBar:"Rand-/Trennzeichen",docElementHeight:"H\xF6he",docElementImage:"Bild",docElementImageFile:"Bilddatei",docElementLabel:"Bezeichnung",docElementLine:"Linie",docElementLink:"Link",docElementLoadImageErrorMsg:"Bild laden fehlgeschlagen",docElementPageBreak:"Seitenumbruch",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Anzeigen wenn",docElementPrintSettings:"Anzeige",docElementRemoveEmptyElement:"Entfernen wenn nicht vorhanden",docElementRepeatGroupHeader:"Gruppe auf jeder Seite wiederholen",docElementRepeatHeader:"Auf jeder Seite wiederholen",docElementRichText:"Rich Text",docElementRoot:"Dokument",docElementRotate:"Drehen",docElementSection:"Sektion",docElementShrinkToContentHeight:"Auf Inhaltsh\xF6he reduzieren",docElementSize:"Gr\xF6\xDFe (Breite, H\xF6he)",docElementSource:"Bildquelle",docElementSpreadsheet:"Tabellenkalkulation",docElementSpreadsheetAddEmptyRow:"Leere Zeile unterhalb einf\xFCgen",docElementSpreadsheetColspan:"Anz. verbundene Zellen",docElementSpreadsheetColumn:"Fixe Spalte",docElementSpreadsheetHide:"Ausblenden",docElementSpreadsheetTextWrap:"Zeilenumbruch",docElementStyle:"Formatvorlage",docElementTable:"Tabelle",docElementTableBandPageBreak:"Seitenumbruch mit jeder neuen Gruppe",docElementText:"Text",docElementWidth:"Breite",documentProperties:"Dokumenteinstellungen",documentTabClose:"Schlie\xDFen",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Vorschau",documentTabXlsxDownload:"XLSX Download",editData:"Bearbeiten",emptyPanel:"Leer",errorMsgAddtionalRulesNoStyleSelected:"Keine Formatvorlage f\xFCr Regel {info} ausgew\xE4hlt",errorMsgDuplicateParameter:"Parameter existiert bereits",errorMsgDuplicateParameterField:"Feld existiert bereits",errorMsgFontNotAvailable:"Schrift ist am Server nicht vorhanden",errorMsgGroupExpressionWithoutDataSource:"Gruppen Ausdruck ben\xF6tigt Tabelle mit Datenquelle",errorMsgLoadingImageFailed:"Bild laden fehlgeschlagen: ${info}",errorMsgInvalidArray:"Ung\xFCltige Liste",errorMsgInvalidAvgSumExpression:"Ausdruck muss ein Zahl-Feld einer Liste enthalten",errorMsgInvalidBarCode:"Ung\xFCltiger Barcode Inhalt",errorMsgInvalidDataSource:"Ung\xFCltige Datenquelle",errorMsgInvalidDataSourceParameter:"Parameter muss eine Liste sein",errorMsgInvalidDate:"Ung\xFCltiges Datum, erwartetes Format ist JJJJ-MM-TT (bzw. JJJJ-MM-TT hh:mm f\xFCr Datum mit Uhrzeit)",errorMsgInvalidStringData:"Ung\xFCltiger Inhalt f\xFCr Text Parameter ${info}",errorMsgInvalidExpression:"Ung\xFCltiger Ausdruck: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Funktion ${info} ist nicht definiert",errorMsgInvalidExpressionNameNotDefined:"Name ${info} ist nicht definiert",errorMsgInvalidExpressionType:"Ausdruck liefert ung\xFCltigen Typ",errorMsgInvalidLink:"Link muss mit http:// oder https:// beginnen",errorMsgInvalidImage:"Ung\xFCltige Bilddaten, Bild muss base64 kodiert sein",errorMsgInvalidImageSource:"Ung\xFCltige Bildquelle, Url beginnend mit http:// bzw. https:// erwartet",errorMsgInvalidImageSourceParameter:"Parameter vom Typ Bild oder String (mit einer Url) notwendig",errorMsgInvalidMap:"Ung\xFCltige Auflistung",errorMsgInvalidNumber:"Ung\xFCltige Zahl",errorMsgInvalidPageSize:"Ung\xFCltige Seitengr\xF6\xDFe",errorMsgInvalidParameterData:"Daten stimmen nicht mit Parameter \xFCberein",errorMsgInvalidParameterName:"Name muss mit einem Zeichen oder Unterstrich beginnen und darf nur Zeichen, Ziffern und Unterstriche enthalten",errorMsgInvalidPattern:"Ung\xFCltiges Pattern",errorMsgInvalidPosition:"Die Position ist au\xDFerhalb des Bereichs",errorMsgInvalidSize:"Das Element ist au\xDFerhalb des Bereichs",errorMsgInvalidTestData:"Ung\xFCltige Testdaten",errorMsgMissingData:"Fehlende Daten",errorMsgMissingDataSourceParameter:"Datenquelle Parameter nicht gefunden",errorMsgMissingExpression:"Ausdruck muss gesetzt sein",errorMsgMissingImage:"Fehlendes Bild: Keine Bildquelle oder -datei angegeben",errorMsgMissingParameter:"Parameter nicht gefunden",errorMsgMissingParameterData:"Daten f\xFCr Parameter {info} nicht gefunden",errorMsgRepeatGroupHeaderAfterContent:"Nicht erlaubt f\xFCr Gruppe nach Inhaltszeile",errorMsgPlusVersionRequired:"Ben\xF6tigt kommerzielle PLUS Version",errorMsgSectionBandNotOnSamePage:"Abschnittsbereich passt nicht auf eine Seite",errorMsgSectionBandPageBreakNotAllowed:"Manueller Seitenumbruch ist nicht erlaubt",errorMsgUnicodeEncodeError:"Text enth\xE4lt nicht druckbare Zeichen",errorMsgUnsupportedImageType:"Bildtyp wird nicht unterst\xFCtzt (nur .jpg und .png erlaubt)",footer:"Fu\xDFzeile",footerDisplay:"Anzeige",footerSize:"H\xF6he Fu\xDFzeile",header:"Kopfzeile",headerDisplay:"Anzeige",headerFooterDisplayAlways:"Immer",headerFooterDisplayNotOnFirstPage:"Nicht auf erster Seite",headerSize:"H\xF6he Kopfzeile",menuColumnAddLeft:"Spalte links hinzuf\xFCgen",menuColumnAddRight:"Spalte rechts hinzuf\xFCgen",menuColumnDelete:"Spalte l\xF6schen",menuAlignBottom:"Unten ausrichten",menuAlignCenter:"Zentriert ausrichten",menuAlignLeft:"Links ausrichten",menuAlignMiddle:"Mittig ausrichten",menuAlignRight:"Rechts ausrichten",menuAlignTop:"Oben ausrichten",menuInsertReport:"EINF.",menuInsertReportTip:"Report-Vorlage einf\xFCgen",menuLogReport:"LOG",menuLogReportTip:"Report-Vorlage in Konsole ausgeben",menuPreview:"VORSCHAU",menuPreviewTip:"Report-Vorschau",menuRedo:"WIEDERH.",menuRedoTip:"Letzten r\xFCckg\xE4ngig gemachten Befehl wiederholen",menuRowAddAbove:"Zeile oberhalb hinzuf\xFCgen",menuRowAddBelow:"Zeile unterhalb hinzuf\xFCgen",menuRowDelete:"Zeile l\xF6schen",menuSave:"SPEICHERN",menuSaveTip:"Report speichern",menuToggleGrid:"Raster ein-/ausblenden",menuUndo:"R\xDCCKG.",menuUndoTip:"Letzten Befehl r\xFCckg\xE4ngig machen",menuZoomIn:"Vergr\xF6\xDFern",menuZoomOut:"Verkleinern",nameCopySuffix:"Kopie",orientation:"Ausrichtung",orientationBottom:"unten",orientationLandscape:"Querformat",orientationLeft:"links",orientationPortrait:"Hochformat",orientationRight:"rechts",orientationTop:"oben",pageFormat:"Seitenformat",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Brief (216 x 279 mm)",pageFormatUserDefined:"Eigene Einstellung",pageHeight:"H\xF6he",pageMargins:"Seitenr\xE4nder",pageWidth:"Breite",parameter:"Parameter",parameterArrayItemType:"Listenelement-Typ",parameterEditTestData:"Bearbeiten",parameterEditTestDataArrayNoFields:"Keine Felder f\xFCr diese Liste definiert",parameterEditTestDataMapNoFields:"Keine Felder f\xFCr diese Gruppierung definiert",parameterEval:"Text auswerten",parameterExpression:"Ausdruck",parameterListType:"Listen-Typ",parameterName:"Name",parameterNullable:"NULL-Wert erlaubt",parameterPattern:"Pattern",parameterRowParams:"Parameter in Zeile",parameterSearchPlaceholder:"Parameter durchsuchen...",parameterTestData:"Testdaten",parameterTestDataDatePattern:"JJJJ-MM-TT",parameterTestDataImageInfo:"Bilder werden in der Berichtsvorlage gespeichert und k\xF6nnen die Gr\xF6\xDFe der Berichtsvorlage erheblich erh\xF6hen",parameterTestDataRowCount:"${count} Zeilen",parameterTestDataRowCountEmpty:"leer",parameterTestDataRowCountOne:"1 Zeile",parameterType:"Typ",parameterTypeArray:"Liste",parameterTypeAverage:"Durchschnitt",parameterTypeBoolean:"Boolean",parameterTypeDate:"Datum",parameterTypeImage:"Bild",parameterTypeMap:"Gruppierung",parameterTypeNumber:"Zahl",parameterTypeSimpleArray:"Einfache Liste",parameterTypeString:"String",parameterTypeSum:"Summe",parameters:"Parameter",parametersDataSource:"Datenquelle Parameter",parametersDataSourceName:"{name} Parameter",patternCurrencySymbol:"W\xE4hrungssymbol",patternDate1:"Tag.Monat.Jahr, z.B. 1.6.1980",patternDate2:"Tag.Monat.Jahr (2-stellig), Stunde(24h):Minute, z.B. 1.6.80, 14:30",patternDate3:"Tag/Monat/Jahr (Monat abgek\xFCrzt), z.B. 1/Jun/1980",patternDate4:"Monat/Tag/Jahr (Tag und Monat mit f\xFChrender Null, falls einstellig), z.B. 06/01/1980",patternLocale:"Pattern Locale",patternNumber1:"Tausender-Trennzeichen",patternNumber2:"Dezimalpunkt gefolgt von 3 Dezimalstellen",patternNumber3:"Dezimalpunkt gefolgt von mind. 2 und max. 4 Dezimalstellen",patternNumber4:"Tausender-Trennzeichen und Dezimalpunkt gefolgt von 2 Dezimalstellen",patternNumber5:"W\xE4hrungssymbol vor Zahl",patternNumberGroupSymbol:"Tausender-Trennzeichen",patternNumberGroupSymbolInfo:"leer lassen f\xFCr Standardzeichen",patternSeparatorDates:"--- Datum Pattern ---",patternSeparatorNumbers:"--- Zahlen Pattern ---",plusFeatureInfo:'Ben\xF6tigt kommerzielle <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS Version</a>',plusFeatureInfoNestedParameter:'Verschachtelter Parameter ben\xF6tigt kommerzielle <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS Version</a>',popupWindowAddDataRow:"Zeile hinzuf\xFCgen",select:"ausw\xE4hlen...",style:"Formatvorlage",styleAlignment:"Ausrichtung",styleBackgroundColor:"Hintergrundfarbe",styleBold:"Fett",styleBorder:"Rahmen",styleBorderAll:"vollst\xE4ndig",styleBorderColor:"Rahmenfarbe",styleBorderWidth:"Rahmenbreite",styleFont:"Schrift",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Zentriert",styleHAlignmentLeft:"Links",styleHAlignmentJustify:"Blocksatz",styleHAlignmentRight:"Rechts",styleItalic:"Kursiv",styleLineSpacing:"Linienabstand",styleName:"Name",styleNone:"Keine",stylePadding:"Innenabstand",styleStrikethrough:"Durchgestrichen",styleTextColor:"Textfarbe",styleTextStyle:"Formatierung",styleUnderline:"Unterstreichen",styleVAlignmentBottom:"Unten",styleVAlignmentMiddle:"Mittig",styleVAlignmentTop:"Oben",styles:"Formatvorlagen"},en_us:{bandContent:"Content",bandFooter:"Footer",bandHeader:"Header",clear:"Clear",contentHeight:"Content height",contentHeightInfo:"affects only GUI size to place elements and not the real page size",differentFiles:"different files...",differentValues:"different values...",docElementAdditionalRules:"Additional rules",docElementAlignToPageBottom:"Align to bottom of page",docElementAlternateBackgroundColor:"Alternate background color",docElementAlwaysPrintOnSamePage:"Always on same page",docElementBarCode:"Bar code",docElementBarWidth:"Bar width",docElementBorderFrame:"Frame",docElementBorderFrameRow:"Frame and row",docElementBorderGrid:"Grid",docElementBorderNone:"None",docElementBorderRow:"Row",docElementColor:"Color",docElementColspan:"Colspan",docElementColumns:"Columns",docElementConditionalStyle:"Conditional style",docElementConditionalStyleCondition:"Condition",docElementContent:"Text",docElementContentRows:"Content rows",docElementDataSource:"Data source",docElementDisplayValue:"Display value",docElementEditMultipleSelectionNotSupported:"Edit multiple selection is not supported for this setting",docElementErrorCorrectionLevel:"Error correction",docElementErrorCorrectionLevelHigh:"High",docElementErrorCorrectionLevelLow:"Low",docElementErrorCorrectionLevelMedium:"Medium",docElementErrorCorrectionLevelQuartile:"Quartile",docElementEval:"Evaluate",docElementFormat:"Format",docElementFrame:"Frame",docElementGroupExpression:"Group expression",docElementGrowWeight:"Grow weight",docElementGrowWeightInfo:"Grow factor to take space of hidden columns",docElementGrowWeightHigh:"high",docElementGrowWeightLow:"low",docElementGuardBar:"Guard bars",docElementHeight:"Height",docElementImage:"Image",docElementImageFile:"Image file",docElementLabel:"Label",docElementLine:"Line",docElementLink:"Link",docElementLoadImageErrorMsg:"Loading image failed",docElementPageBreak:"Page break",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Print if",docElementPrintSettings:"Print settings",docElementRemoveEmptyElement:"Remove when empty",docElementRepeatGroupHeader:"Repeat group on each page",docElementRepeatHeader:"Repeat header",docElementRichText:"Rich text",docElementRoot:"Document",docElementRotate:"Rotate",docElementSection:"Section",docElementShrinkToContentHeight:"Shrink to content height",docElementSize:"Size (width, height)",docElementSource:"Source",docElementSpreadsheet:"Spreadsheet",docElementSpreadsheetAddEmptyRow:"Add empty row below",docElementSpreadsheetColspan:"Colspan",docElementSpreadsheetColumn:"Fixed column",docElementSpreadsheetHide:"Hide",docElementSpreadsheetTextWrap:"Text wrap",docElementStyle:"Style",docElementTable:"Table",docElementTableBandPageBreak:"Page break with each new group",docElementText:"Text",docElementWidth:"Width",documentProperties:"Document properties",documentTabClose:"Close",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Preview",documentTabXlsxDownload:"XLSX Download",editData:"Edit",emptyPanel:"Empty panel",errorMsgAddtionalRulesNoStyleSelected:"No style selected for rule ${info}",errorMsgDuplicateParameter:"Parameter already exists",errorMsgDuplicateParameterField:"Field already exists",errorMsgFontNotAvailable:"Font not available on server",errorMsgGroupExpressionWithoutDataSource:"Group expression requires table with data source",errorMsgLoadingImageFailed:"Loading image failed: ${info}",errorMsgInvalidArray:"Invalid list",errorMsgInvalidAvgSumExpression:"Expression must contain number field of a list parameter",errorMsgInvalidBarCode:"Invalid bar code content",errorMsgInvalidDataSource:"Invalid data source",errorMsgInvalidDataSourceParameter:"Parameter must be a list",errorMsgInvalidDate:"Invalid date, expected format is YYYY-MM-DD (or YYYY-MM-DD hh:mm for date with time)",errorMsgInvalidStringData:"Invalid data for text parameter ${info}",errorMsgInvalidExpression:"Invalid expression: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Function ${info} not defined",errorMsgInvalidExpressionNameNotDefined:"Name ${info} not defined",errorMsgInvalidExpressionType:"Expression returns invalid type",errorMsgInvalidLink:"Link must start with http:// or https://",errorMsgInvalidImage:"Invalid image data, image must be base64 encoded",errorMsgInvalidImageSource:"Invalid source, expected url starting with http:// or https:// respectively",errorMsgInvalidImageSourceParameter:"Parameter must be an image or string (containing a url)",errorMsgInvalidMap:"Invalid collection",errorMsgInvalidNumber:"Invalid number",errorMsgInvalidPageSize:"Invalid page size",errorMsgInvalidParameterData:"Data does not match parameter",errorMsgInvalidParameterName:"Name must start with a character or underscore, and must only contain characters, digits and underscores (_)",errorMsgInvalidPattern:"Invalid pattern",errorMsgInvalidPosition:"The position is outside the area",errorMsgInvalidSize:"The element is outside the area",errorMsgInvalidTestData:"Invalid test data",errorMsgMissingData:"Missing data",errorMsgMissingDataSourceParameter:"Data source parameter not found",errorMsgMissingExpression:"Expression must be set",errorMsgMissingImage:"Missing image, no source or image file specified",errorMsgMissingParameter:"Parameter not found",errorMsgMissingParameterData:"Data for parameter {info} not found",errorMsgRepeatGroupHeaderAfterContent:"Not allowed for group after content row",errorMsgPlusVersionRequired:"Requires commerical PLUS version",errorMsgSectionBandNotOnSamePage:"Section band does not fit on same page",errorMsgSectionBandPageBreakNotAllowed:"Manual page break not allowed",errorMsgUnicodeEncodeError:"Text contains non printable character",errorMsgUnsupportedImageType:"Image does not have supported image type (.jpg, .png)",footer:"Footer",footerDisplay:"Display",footerSize:"Footer size",header:"Header",headerDisplay:"Display",headerFooterDisplayAlways:"Always",headerFooterDisplayNotOnFirstPage:"Do not show on first page",headerSize:"Header size",menuColumnAddLeft:"Add column to the left",menuColumnAddRight:"Add column to the right",menuColumnDelete:"Delete column",menuAlignBottom:"Align bottom",menuAlignCenter:"Align center",menuAlignLeft:"Align left",menuAlignMiddle:"Align middle",menuAlignRight:"Align right",menuAlignTop:"Align top",menuInsertReport:"INSERT",menuInsertReportTip:"Insert report template",menuLogReport:"LOG",menuLogReportTip:"Log report template to console",menuPreview:"PREVIEW",menuPreviewTip:"Preview report",menuRedo:"REDO",menuRedoTip:"Repeat last undone command",menuRowAddAbove:"Add row above",menuRowAddBelow:"Add row below",menuRowDelete:"Delete row",menuSave:"SAVE",menuSaveTip:"Save report",menuToggleGrid:"Show/Hide grid",menuUndo:"UNDO",menuUndoTip:"Undo last command",menuZoomIn:"Zoom in",menuZoomOut:"Zoom out",nameCopySuffix:"copy",orientation:"Orientation",orientationBottom:"bottom",orientationLandscape:"Landscape",orientationLeft:"left",orientationPortrait:"Portrait",orientationRight:"right",orientationTop:"top",pageFormat:"Page format",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Letter (8.5 x 11.0 inches)",pageFormatUserDefined:"Own dimensions",pageHeight:"height",pageMargins:"Page margins",pageWidth:"width",parameter:"Parameter",parameterArrayItemType:"List item type",parameterEditTestData:"Edit",parameterEditTestDataArrayNoFields:"No fields defined for this list",parameterEditTestDataMapNoFields:"No fields defined for this collection",parameterEval:"Evaluate text",parameterExpression:"Expression",parameterListType:"List type",parameterName:"Name",parameterNullable:"Nullable",parameterPattern:"Pattern",parameterRowParams:"Row parameters",parameterSearchPlaceholder:"Search parameters...",parameterTestData:"Test data",parameterTestDataDatePattern:"YYYY-MM-DD",parameterTestDataImageInfo:"Images are saved in the report template and could significantly increase report template size",parameterTestDataRowCount:"${count} rows",parameterTestDataRowCountEmpty:"empty",parameterTestDataRowCountOne:"1 row",parameterType:"Type",parameterTypeArray:"List",parameterTypeAverage:"Average",parameterTypeBoolean:"Boolean",parameterTypeDate:"Date",parameterTypeImage:"Image",parameterTypeMap:"Collection",parameterTypeNumber:"Number",parameterTypeSimpleArray:"Simple List",parameterTypeString:"Text",parameterTypeSum:"Sum",parameters:"Parameters",parametersDataSource:"Data source parameters",parametersDataSourceName:"{name} parameters",patternCurrencySymbol:"Pattern currency symbol",patternDate1:"day.month.year, e.g. 1.6.1980",patternDate2:"day.month.year (2-digit), hour(24h):minute, e.g. 1.6.80, 14:30",patternDate3:"day/month/year (month abbreviation), e.g. 1/Jun/1980",patternDate4:"month/day/year (day and month with leading zero if single digit), e.g. 06/01/1980",patternLocale:"Pattern locale",patternNumber1:"Show thousand separator",patternNumber2:"Show decimal point followed by 3 decimal places",patternNumber3:"Show decimal point followed by minimum of 2 and maximum of 4 decimal places",patternNumber4:"Show thousand separator and decimal point followed by 2 decimal places",patternNumber5:"Show currency symbol in front of number",patternNumberGroupSymbol:"Thousands separator",patternNumberGroupSymbolInfo:"leave empty for default",patternSeparatorDates:"--- Date patterns ---",patternSeparatorNumbers:"--- Number patterns ---",plusFeatureInfo:'Requires commerical <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS version</a>',plusFeatureInfoNestedParameter:'Nested parameter requires commerical <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS version</a>',popupWindowAddDataRow:"Add row",select:"select...",style:"Style",styleAlignment:"Alignment",styleBackgroundColor:"Background color",styleBold:"Bold",styleBorder:"Border",styleBorderAll:"borders",styleBorderColor:"Border color",styleBorderWidth:"Border width",styleFont:"Font",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Center",styleHAlignmentLeft:"Left",styleHAlignmentJustify:"Justify",styleHAlignmentRight:"Right",styleItalic:"Italic",styleLineSpacing:"Line spacing",styleName:"Name",styleNone:"None",stylePadding:"Padding",styleStrikethrough:"Strikethrough",styleTextColor:"Text color",styleTextStyle:"Text style",styleUnderline:"Underline",styleVAlignmentBottom:"Bottom",styleVAlignmentMiddle:"Middle",styleVAlignmentTop:"Top",styles:"Styles"}};function br(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,y){if(l){if(typeof l=="string")return an(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?an(l,y):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var y=u.next();return a=y.done,y},e:function(y){s=!0,v=y},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function an(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var Tr=function(){function R(S,u,b,x){J(this,R),this.idPrefix=S,this.dataBaseClass=u,this.panelId=S+"_panel",this.rootElement=b,this.rb=x,this.propertyDescriptors={},this.differentValuesLabel=this.rb.getLabel("differentValues"),this.differentFilesLabel=this.rb.getLabel("differentFiles"),this.quill=null,this.controls={}}return L(R,[{key:"render",value:function(u){}},{key:"destroy",value:function(){}},{key:"setValue",value:function(u,b,x){var v="".concat(this.idPrefix,"_").concat(u.fieldId);x?document.getElementById(v).classList.add("rbroDifferentValues"):document.getElementById(v).classList.remove("rbroDifferentValues");var a=document.getElementById(v);if(u.type===e.type.text)x?(a.value="",a.setAttribute("placeholder",this.differentValuesLabel)):(a.value=b,a.setAttribute("placeholder",""));else if(u.type===e.type.richText)this.quill&&(x||!b?this.quill.setContents({},"silent"):this.quill.setContents(b,"silent"));else if(u.type===e.type.select)a.value=b;else if(u.type===e.type.checkbox)a.checked=!x&&b;else if(u.type===e.type.button)x?a.classList.remove("rbroButtonActive"):b?a.classList.add("rbroButtonActive"):a.classList.remove("rbroButtonActive");else if(u.type===e.type.buttonGroup){var s,l=br(a.querySelectorAll("button"));try{for(l.s();!(s=l.n()).done;)s.value.classList.remove("rbroButtonActive")}catch(j){l.e(j)}finally{l.f()}x||a.querySelector('button[value="'.concat(b,'"]')).classList.add("rbroButtonActive")}else if(u.type===e.type.color){var y=document.getElementById(v+"_select");x?u.allowEmpty?(a.value="",y.style.color="",y.classList.add("rbroTransparentColorSelect")):(a.value="#000000",y.style.color="#000000",y.classList.remove("rbroTransparentColorSelect")):(a.value=b,y.style.color=b,b?y.classList.remove("rbroTransparentColorSelect"):y.classList.add("rbroTransparentColorSelect"))}else u.type===e.type.filename&&(x?(a.textContent=this.differentFilesLabel,document.getElementById(v+"_container").classList.remove("rbroHidden")):(a.textContent=b,b===""?document.getElementById(v+"_container").classList.add("rbroHidden"):document.getElementById(v+"_container").classList.remove("rbroHidden")))}},{key:"updateDisplay",value:function(u){}},{key:"show",value:function(){document.getElementById(this.panelId).classList.remove("rbroHidden")}},{key:"hide",value:function(){document.getElementById(this.panelId).classList.add("rbroHidden")}},{key:"isKeyEventDisabled",value:function(){return this.quill&&this.quill.hasFocus()}},{key:"notifyEvent",value:function(u,b,x){u instanceof this.dataBaseClass&&this.rb.isSelectedObject(u.id)&&b===w.operation.change&&this.updateDisplay(x)}},{key:"updateErrors",value:function(){var u,b=document.getElementById(this.panelId),x=b.querySelectorAll(".rbroFormRow"),v=b.querySelectorAll(".rbroErrorMessage"),a=br(x);try{for(a.s();!(u=a.n()).done;)u.value.classList.remove("rbroError")}catch(Pe){a.e(Pe)}finally{a.f()}var s,l=br(v);try{for(l.s();!(s=l.n()).done;)s.value.textContent=""}catch(Pe){l.e(Pe)}finally{l.f()}var y=this.rb.getSelectedObject();if(y!==null){var j,V=br(y.getErrors());try{for(V.s();!(j=V.n()).done;){var Q=j.value,ie=this.propertyDescriptors[Q.field];if(ie){if("section"in ie){var be=ie.section;document.getElementById("".concat(this.idPrefix,"_").concat(be,"_header")).classList.add("rbroError")}var _e=this.rb.getLabel(Q.msg_key);Q.info&&(_e=_e.replace("${info}",'<span class="rbroErrorMessageInfo">'+Q.info.replace("<","&lt;").replace(">","&gt;")+"</span>"));var we=this.getRowId(ie);document.getElementById(we).classList.add("rbroError");var Oe;Oe="errorMsgId"in ie?ie.errorMsgId:"".concat(this.idPrefix,"_").concat(ie.fieldId,"_error"),document.getElementById(Oe).innerHTML=_e}}}catch(Pe){V.e(Pe)}finally{V.f()}}}},{key:"selectionChanged",value:function(){this.updateDisplay(null),this.updateErrors()}},{key:"scrollToFirstError",value:function(){var u=this.rb.getSelectedObject();if(u!==null){var b,x=br(u.getErrors());try{for(x.s();!(b=x.n()).done;){var v=b.value,a=this.propertyDescriptors[v.field];if(a&&"section"in a){var s=a.section,l=document.getElementById("".concat(this.idPrefix,"_").concat(s,"_header"));l.classList.contains("rbroPanelSectionHeaderOpen")||l.dispatchEvent(new Event("click"))}}}catch(Oe){x.e(Oe)}finally{x.f()}var y,j="",V=-1,Q=br(u.getErrors());try{for(Q.s();!(y=Q.n()).done;){var ie=y.value,be=this.propertyDescriptors[ie.field];if(be){var _e=this.getRowId(be),we=E(document.getElementById(_e)).top;(j===""||we<V)&&(j=_e,V=we)}}}catch(Oe){Q.e(Oe)}finally{Q.f()}j!==""&&document.getElementById(j).scrollIntoView({behavior:"smooth"})}}},{key:"getRowId",value:function(u){return"rowId"in u?u.rowId:"".concat(this.idPrefix,"_").concat(u.fieldId,"_row")}}]),R}();function ln(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,y){if(l){if(typeof l=="string")return sn(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?sn(l,y):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var y=u.next();return a=y.done,y},e:function(y){s=!0,v=y},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function sn(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var kr=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a){var s;return J(this,x),(s=b.call(this,"rbro_style",pe,v,a)).propertyDescriptors={name:{type:e.type.text,fieldId:"name"},bold:{type:e.type.button,fieldId:"bold",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},italic:{type:e.type.button,fieldId:"italic",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},underline:{type:e.type.button,fieldId:"underline",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},strikethrough:{type:e.type.button,fieldId:"strikethrough",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},horizontalAlignment:{type:e.type.buttonGroup,fieldId:"halignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"]},verticalAlignment:{type:e.type.buttonGroup,fieldId:"valignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1},textColor:{type:e.type.color,allowEmpty:!1,fieldId:"text_color"},backgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"background_color"},font:{type:e.type.select,fieldId:"font",rowId:"rbro_style_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"]},fontSize:{type:e.type.select,fieldId:"font_size",rowId:"rbro_style_font_row",singleRowProperty:!1},lineSpacing:{type:e.type.select,fieldId:"line_spacing"},borderAll:{type:e.type.button,fieldId:"border_all",rowId:"rbro_style_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"]},borderLeft:{type:e.type.button,fieldId:"border_left",rowId:"rbro_style_border_row",singleRowProperty:!1},borderTop:{type:e.type.button,fieldId:"border_top",rowId:"rbro_style_border_row",singleRowProperty:!1},borderRight:{type:e.type.button,fieldId:"border_right",rowId:"rbro_style_border_row",singleRowProperty:!1},borderBottom:{type:e.type.button,fieldId:"border_bottom",rowId:"rbro_style_border_row",singleRowProperty:!1},borderColor:{type:e.type.color,allowEmpty:!1,fieldId:"border_color"},borderWidth:{type:e.type.text,fieldId:"border_width"},paddingLeft:{type:e.type.text,fieldId:"padding_left",rowId:"rbro_style_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"]},paddingTop:{type:e.type.text,fieldId:"padding_top",rowId:"rbro_style_padding_row",singleRowProperty:!1},paddingRight:{type:e.type.text,fieldId:"padding_right",rowId:"rbro_style_padding_row",singleRowProperty:!1},paddingBottom:{type:e.type.text,fieldId:"padding_bottom",rowId:"rbro_style_padding_row",singleRowProperty:!1}},s}return L(x,[{key:"render",value:function(){var a=this,s=t("div",{id:"rbro_style_panel",class:"rbroHidden"}),l=t("div",{class:"rbroFormRow"});g(l,this.rb.getLabel("styleName"),"rbro_style_name");var y=t("div",{class:"rbroFormField"}),j=t("input",{id:"rbro_style_name",autocomplete:"off"});j.addEventListener("input",function(V){var Q=a.rb.getSelectedObject();Q!==null&&(j.value.trim()!==""?a.rb.executeCommand(new e(Q.getId(),"name",j.value,e.type.text,a.rb)):j.value=Q.getName())}),y.append(j),l.append(y),s.append(l),x.renderStyle(s,"style_","",!1,this.controls,this.rb),document.getElementById("rbro_detail_panel").append(s)}},{key:"destroy",value:function(){x.destroyStyle("",this.controls)}},{key:"updateDisplay",value:function(a){var s=this.rb.getSelectedObject();if(s!==null&&s instanceof pe){for(var l in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(l)&&(a===null||l===a)){var y=this.propertyDescriptors[l],j=s.getValue(l);o(f(x.prototype),"setValue",this).call(this,y,j,!1)}}}}],[{key:"renderStyle",value:function(a,s,l,y,j,V){var Q,ie;g(Q=t("div",{id:"rbro_".concat(s,"textstyle_row"),class:"rbroFormRow"}),V.getLabel("styleTextStyle")),ie=t("div",{class:"rbroFormField"});var be=t("div",{id:"rbro_".concat(s,"textstyle")}),_e=t("button",{id:"rbro_".concat(s,"bold"),class:"rbroButton rbroActionButton rbroIcon-bold",type:"button",title:V.getLabel("styleBold")});_e.addEventListener("click",function(pt){for(var Ie=!_e.classList.contains("rbroButtonActive"),ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"bold"),Ie,e.type.button,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"bold"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("bold",Ie,e.type.button,ye)}ye.isEmpty()||V.executeCommand(ye)}),be.append(_e);var we=t("button",{id:"rbro_".concat(s,"italic"),class:"rbroButton rbroActionButton rbroIcon-italic",type:"button",title:V.getLabel("styleItalic")});we.addEventListener("click",function(pt){for(var Ie=!we.classList.contains("rbroButtonActive"),ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"italic"),Ie,e.type.button,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"italic"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("italic",Ie,e.type.button,ye)}ye.isEmpty()||V.executeCommand(ye)}),be.append(we);var Oe=t("button",{id:"rbro_".concat(s,"underline"),class:"rbroButton rbroActionButton rbroIcon-underline",type:"button",title:V.getLabel("styleUnderline")});Oe.addEventListener("click",function(pt){for(var Ie=!Oe.classList.contains("rbroButtonActive"),ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"underline"),Ie,e.type.button,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"underline"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("underline",Ie,e.type.button,ye)}ye.isEmpty()||V.executeCommand(ye)}),be.append(Oe);var Pe=t("button",{id:"rbro_".concat(s,"strikethrough"),class:"rbroButton rbroActionButton rbroIcon-strikethrough",type:"button",title:V.getLabel("styleStrikethrough")});Pe.addEventListener("click",function(pt){for(var Ie=!Pe.classList.contains("rbroButtonActive"),ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"strikethrough"),Ie,e.type.button,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"strikethrough"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("strikethrough",Ie,e.type.button,ye)}ye.isEmpty()||V.executeCommand(ye)}),be.append(Pe),ie.append(be),Q.append(ie),a.append(Q),g(Q=t("div",{id:"rbro_".concat(s,"alignment_row"),class:"rbroFormRow"}),V.getLabel("styleAlignment")),ie=t("div",{class:"rbroFormField"});var Be=t("div",{id:"rbro_".concat(s,"halignment")}),He=t("button",{id:"rbro_".concat(s,"halignment_left"),class:"rbroButton rbroActionButton rbroIcon-text-align-left",type:"button",value:"left",title:V.getLabel("styleHAlignmentLeft")});He.addEventListener("click",function(pt){for(var Ie=pe.alignment.left,ye=V.getSelectedObjects(),Ne=!1,Ae=ye.length-1;Ae>=0;Ae--)if(ye[Ae].getValue("".concat(l,"horizontalAlignment"))!==Ie){Ne=!0;break}if(Ne){for(var ce=new le("Set value",V),tt=ye.length-1;tt>=0;tt--){var Me=ye[tt];ce.addSelection(Me.getId()),ce.addCommand(new e(Me.getId(),"".concat(l,"horizontalAlignment"),Ie,e.type.buttonGroup,V)),Me instanceof se&&Me.getValue("".concat(l,"styleId"))!==""?Me.getValue("".concat(l,"horizontalAlignment"))!==Ie&&ce.addCommand(new e(Me.getId(),"".concat(l,"styleId"),"",e.type.select,V)):Me instanceof pe&&Me.addCommandsForChangedProperty("horizontalAlignment",Ie,e.type.buttonGroup,ce)}ce.isEmpty()||V.executeCommand(ce)}}),Be.append(He);var Fe=t("button",{id:"rbro_".concat(s,"halignment_center"),class:"rbroButton rbroActionButton rbroIcon-text-align-center",type:"button",value:"center",title:V.getLabel("styleHAlignmentCenter")});Fe.addEventListener("click",function(pt){for(var Ie=pe.alignment.center,ye=V.getSelectedObjects(),Ne=!1,Ae=ye.length-1;Ae>=0;Ae--)if(ye[Ae].getValue("".concat(l,"horizontalAlignment"))!==Ie){Ne=!0;break}if(Ne){for(var ce=new le("Set value",V),tt=ye.length-1;tt>=0;tt--){var Me=ye[tt];ce.addSelection(Me.getId()),ce.addCommand(new e(Me.getId(),"".concat(l,"horizontalAlignment"),Ie,e.type.buttonGroup,V)),Me instanceof se&&Me.getValue("".concat(l,"styleId"))!==""?Me.getValue("".concat(l,"horizontalAlignment"))!==Ie&&ce.addCommand(new e(Me.getId(),"".concat(l,"styleId"),"",e.type.select,V)):Me instanceof pe&&Me.addCommandsForChangedProperty("horizontalAlignment",Ie,e.type.buttonGroup,ce)}ce.isEmpty()||V.executeCommand(ce)}}),Be.append(Fe);var je=t("button",{id:"rbro_".concat(s,"halignment_right"),class:"rbroButton rbroActionButton rbroIcon-text-align-right",type:"button",value:"right",title:V.getLabel("styleHAlignmentRight")});je.addEventListener("click",function(pt){for(var Ie=pe.alignment.right,ye=V.getSelectedObjects(),Ne=!1,Ae=ye.length-1;Ae>=0;Ae--)if(ye[Ae].getValue("".concat(l,"horizontalAlignment"))!==Ie){Ne=!0;break}if(Ne){for(var ce=new le("Set value",V),tt=ye.length-1;tt>=0;tt--){var Me=ye[tt];ce.addSelection(Me.getId()),ce.addCommand(new e(Me.getId(),"".concat(l,"horizontalAlignment"),Ie,e.type.buttonGroup,V)),Me instanceof se&&Me.getValue("".concat(l,"styleId"))!==""?Me.getValue("".concat(l,"horizontalAlignment"))!==Ie&&ce.addCommand(new e(Me.getId(),"".concat(l,"styleId"),"",e.type.select,V)):Me instanceof pe&&Me.addCommandsForChangedProperty("horizontalAlignment",Ie,e.type.buttonGroup,ce)}ce.isEmpty()||V.executeCommand(ce)}}),Be.append(je);var We=t("button",{id:"rbro_".concat(s,"halignment_justify"),class:"rbroButton rbroActionButton rbroIcon-text-align-justify",type:"button",value:"justify",title:V.getLabel("styleHAlignmentJustify")});We.addEventListener("click",function(pt){for(var Ie=pe.alignment.justify,ye=V.getSelectedObjects(),Ne=!1,Ae=ye.length-1;Ae>=0;Ae--)if(ye[Ae].getValue("".concat(l,"horizontalAlignment"))!==Ie){Ne=!0;break}if(Ne){for(var ce=new le("Set value",V),tt=ye.length-1;tt>=0;tt--){var Me=ye[tt];ce.addSelection(Me.getId()),ce.addCommand(new e(Me.getId(),"".concat(l,"horizontalAlignment"),Ie,e.type.buttonGroup,V)),Me instanceof se&&Me.getValue("".concat(l,"styleId"))!==""?Me.getValue("".concat(l,"horizontalAlignment"))!==Ie&&ce.addCommand(new e(Me.getId(),"".concat(l,"styleId"),"",e.type.select,V)):Me instanceof pe&&Me.addCommandsForChangedProperty("horizontalAlignment",Ie,e.type.buttonGroup,ce)}ce.isEmpty()||V.executeCommand(ce)}}),Be.append(We),ie.append(Be);var Ye=t("div",{id:"rbro_".concat(s,"valignment")}),Ke=t("button",{id:"rbro_".concat(s,"valignment_top"),class:"rbroButton rbroActionButton rbroIcon-align-top",type:"button",value:"top",title:V.getLabel("styleVAlignmentTop")});Ke.addEventListener("click",function(pt){for(var Ie=pe.alignment.top,ye=V.getSelectedObjects(),Ne=!1,Ae=ye.length-1;Ae>=0;Ae--)if(ye[Ae].getValue("".concat(l,"verticalAlignment"))!==Ie){Ne=!0;break}if(Ne){for(var ce=new le("Set value",V),tt=ye.length-1;tt>=0;tt--){var Me=ye[tt];ce.addSelection(Me.getId()),ce.addCommand(new e(Me.getId(),"".concat(l,"verticalAlignment"),Ie,e.type.buttonGroup,V)),Me instanceof se&&Me.getValue("".concat(l,"styleId"))!==""?Me.getValue("".concat(l,"verticalAlignment"))!==Ie&&ce.addCommand(new e(Me.getId(),"".concat(l,"styleId"),"",e.type.select,V)):Me instanceof pe&&Me.addCommandsForChangedProperty("verticalAlignment",Ie,e.type.buttonGroup,ce)}ce.isEmpty()||V.executeCommand(ce)}}),Ye.append(Ke);var Qe=t("button",{id:"rbro_".concat(s,"valignment_middle"),class:"rbroButton rbroActionButton rbroIcon-align-middle",type:"button",value:"middle",title:V.getLabel("styleVAlignmentMiddle")});Qe.addEventListener("click",function(pt){for(var Ie=pe.alignment.middle,ye=V.getSelectedObjects(),Ne=!1,Ae=ye.length-1;Ae>=0;Ae--)if(ye[Ae].getValue("".concat(l,"verticalAlignment"))!==Ie){Ne=!0;break}if(Ne){for(var ce=new le("Set value",V),tt=ye.length-1;tt>=0;tt--){var Me=ye[tt];ce.addSelection(Me.getId()),ce.addCommand(new e(Me.getId(),"".concat(l,"verticalAlignment"),Ie,e.type.buttonGroup,V)),Me instanceof se&&Me.getValue("".concat(l,"styleId"))!==""?Me.getValue("".concat(l,"verticalAlignment"))!==Ie&&ce.addCommand(new e(Me.getId(),"".concat(l,"styleId"),"",e.type.select,V)):Me instanceof pe&&Me.addCommandsForChangedProperty("verticalAlignment",Ie,e.type.buttonGroup,ce)}ce.isEmpty()||V.executeCommand(ce)}}),Ye.append(Qe);var ut=t("button",{id:"rbro_".concat(s,"valignment_bottom"),class:"rbroButton rbroActionButton rbroIcon-align-bottom",type:"button",value:"bottom",title:V.getLabel("styleVAlignmentBottom")});ut.addEventListener("click",function(pt){for(var Ie=pe.alignment.bottom,ye=V.getSelectedObjects(),Ne=!1,Ae=ye.length-1;Ae>=0;Ae--)if(ye[Ae].getValue("".concat(l,"verticalAlignment"))!==Ie){Ne=!0;break}if(Ne){for(var ce=new le("Set value",V),tt=ye.length-1;tt>=0;tt--){var Me=ye[tt];ce.addSelection(Me.getId()),ce.addCommand(new e(Me.getId(),"".concat(l,"verticalAlignment"),Ie,e.type.buttonGroup,V)),Me instanceof se&&Me.getValue("".concat(l,"styleId"))!==""?Me.getValue("".concat(l,"verticalAlignment"))!==Ie&&ce.addCommand(new e(Me.getId(),"".concat(l,"styleId"),"",e.type.select,V)):Me instanceof pe&&Me.addCommandsForChangedProperty("verticalAlignment",Ie,e.type.buttonGroup,ce)}ce.isEmpty()||V.executeCommand(ce)}}),Ye.append(ut),ie.append(Ye),Q.append(ie),a.append(Q),g(Q=t("div",{id:"rbro_".concat(s,"text_color_row"),class:"rbroFormRow"}),V.getLabel("styleTextColor"),"rbro_".concat(s,"text_color")),ie=t("div",{class:"rbroFormField"});var lt=t("div",{class:"rbroColorPickerContainer"}),at=t("input",{id:"rbro_".concat(s,"text_color"),autocomplete:"off"});at.addEventListener("change",function(pt){var Ie=at.value;if(Y(Ie)){for(var ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"textColor"),Ie,e.type.color,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"textColor"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("textColor",Ie,e.type.color,ye)}ye.isEmpty()||V.executeCommand(ye)}}),lt.append(at),j[l+"textColor"]=F(lt,at,!1,V),ie.append(lt),Q.append(ie),a.append(Q),g(Q=t("div",{id:"rbro_".concat(s,"background_color_row"),class:"rbroFormRow"}),V.getLabel("styleBackgroundColor"),"rbro_".concat(s,"background_color")),ie=t("div",{class:"rbroFormField"});var rt=t("div",{class:"rbroColorPickerContainer"}),ve=t("input",{id:"rbro_".concat(s,"background_color"),autocomplete:"off"});if(ve.addEventListener("change",function(pt){var Ie=ve.value;if(Y(Ie)){for(var ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"backgroundColor"),Ie,e.type.color,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"backgroundColor"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("backgroundColor",Ie,e.type.color,ye)}ye.isEmpty()||V.executeCommand(ye)}}),rt.append(ve),j[l+"backgroundColor"]=F(rt,ve,!0,V),ie.append(rt),Q.append(ie),a.append(Q),y){g(Q=t("div",{id:"rbro_".concat(s,"alternate_background_color_row"),class:"rbroFormRow"}),V.getLabel("docElementAlternateBackgroundColor"),"rbro_".concat(s,"alternate_background_color")),ie=t("div",{class:"rbroFormField"});var Ue=t("div",{class:"rbroColorPickerContainer"}),Ge=t("input",{id:"rbro_".concat(s,"alternate_background_color")});Ge.addEventListener("change",function(pt){var Ie=Ge.value;if(Y(Ie)){for(var ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"alternateBackgroundColor"),Ie,e.type.color,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"alternateBackgroundColor"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("alternateBackgroundColor",Ie,e.type.color,ye)}ye.isEmpty()||V.executeCommand(ye)}}),Ue.append(Ge),j[l+"alternateBackgroundColor"]=F(Ue,Ge,!0,V),ie.append(Ue),Q.append(ie),a.append(Q)}g(Q=t("div",{id:"rbro_".concat(s,"font_row"),class:"rbroFormRow"}),V.getLabel("styleFont"),"rbro_".concat(s,"font")),ie=t("div",{class:"rbroFormField"});var gt,st=t("div",{class:"rbroSplit rbroSelectFont"}),it=t("select",{id:"rbro_".concat(s,"font")}),ct=ln(V.getFonts());try{for(ct.s();!(gt=ct.n()).done;){var xt=gt.value;it.append(t("option",{value:xt.value},xt.name))}}catch(pt){ct.e(pt)}finally{ct.f()}it.addEventListener("change",function(pt){for(var Ie=it.value,ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"font"),Ie,e.type.select,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"font"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("font",Ie,e.type.select,ye)}ye.isEmpty()||V.executeCommand(ye)}),st.append(it);var Et,yt=t("select",{id:"rbro_".concat(s,"font_size")}),_t=ln(V.getProperty("fontSizes"));try{for(_t.s();!(Et=_t.n()).done;){var mt=Et.value;yt.append(t("option",{value:mt},String(mt)))}}catch(pt){_t.e(pt)}finally{_t.f()}yt.addEventListener("change",function(pt){for(var Ie=yt.value,ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"fontSize"),Ie,e.type.select,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"fontSize"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("fontSize",Ie,e.type.select,ye)}ye.isEmpty()||V.executeCommand(ye)}),st.append(yt),st.append(t("span",{},V.getLabel("styleFontSizeUnit"))),ie.append(st),ie.append(t("div",{id:"rbro_".concat(s,"font_error"),class:"rbroErrorMessage"})),Q.append(ie),a.append(Q),g(Q=t("div",{id:"rbro_".concat(s,"line_spacing_row"),class:"rbroFormRow"}),V.getLabel("styleLineSpacing"),"rbro_".concat(s,"line_spacing")),ie=t("div",{class:"rbroFormField"});for(var dt=t("select",{id:"rbro_".concat(s,"line_spacing")}),er=0,Lt=["1","1.1","1.2","1.3","1.4","1.5","1.6","1.7","1.8","1.9","2"];er<Lt.length;er++){var ar=Lt[er];dt.append(t("option",{value:ar},ar))}dt.addEventListener("change",function(pt){for(var Ie=dt.value,ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"lineSpacing"),Ie,e.type.select,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"lineSpacing"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("lineSpacing",Ie,e.type.select,ye),ye.isEmpty()||V.executeCommand(ye)}}),ie.append(dt),Q.append(ie),a.append(Q);var Ut=t("div",{id:"rbro_".concat(s,"border_div")});g(Q=t("div",{id:"rbro_".concat(s,"border_row"),class:"rbroFormRow"}),V.getLabel("styleBorder")),ie=t("div",{class:"rbroFormField"});var Bt=t("div",{id:"rbro_".concat(s,"border")}),Kt=t("button",{id:"rbro_".concat(s,"border_all"),class:"rbroButton rbroActionButton rbroIcon-border-all",type:"button",value:"".concat(l,"borderAll"),title:V.getLabel("styleBorderAll")});Kt.addEventListener("click",function(pt){for(var Ie=!Kt.classList.contains("rbroButtonActive"),ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"borderLeft"),Ie,e.type.button,V)),ye.addCommand(new e(ce.getId(),"".concat(l,"borderTop"),Ie,e.type.button,V)),ye.addCommand(new e(ce.getId(),"".concat(l,"borderRight"),Ie,e.type.button,V)),ye.addCommand(new e(ce.getId(),"".concat(l,"borderBottom"),Ie,e.type.button,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"borderLeft"))===Ie&&ce.getValue("".concat(l,"borderTop"))===Ie&&ce.getValue("".concat(l,"borderRight"))===Ie&&ce.getValue("".concat(l,"borderBottom"))===Ie||ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&(ce.addCommandsForChangedProperty("borderLeft",Ie,e.type.button,ye),ce.addCommandsForChangedProperty("borderTop",Ie,e.type.button,ye),ce.addCommandsForChangedProperty("borderRight",Ie,e.type.button,ye),ce.addCommandsForChangedProperty("borderBottom",Ie,e.type.button,ye))}ye.isEmpty()||V.executeCommand(ye)}),Bt.append(Kt);var hr=t("button",{id:"rbro_".concat(s,"border_left"),class:"rbroButton rbroActionButton rbroIcon-border-left",type:"button",value:"".concat(l,"borderLeft"),title:V.getLabel("orientationLeft")});hr.addEventListener("click",function(pt){for(var Ie=!hr.classList.contains("rbroButtonActive"),ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"borderLeft"),Ie,e.type.button,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"borderLeft"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("borderLeft",Ie,e.type.button,ye)}ye.isEmpty()||V.executeCommand(ye)}),Bt.append(hr);var tr=t("button",{id:"rbro_".concat(s,"border_top"),class:"rbroButton rbroActionButton rbroIcon-border-top",type:"button",value:"".concat(l,"borderTop"),title:V.getLabel("orientationTop")});tr.addEventListener("click",function(pt){for(var Ie=!tr.classList.contains("rbroButtonActive"),ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"borderTop"),Ie,e.type.button,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"borderTop"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("borderTop",Ie,e.type.button,ye)}ye.isEmpty()||V.executeCommand(ye)}),Bt.append(tr);var rr=t("button",{id:"rbro_".concat(s,"border_right"),class:"rbroButton rbroActionButton rbroIcon-border-right",type:"button",value:"".concat(l,"borderRight"),title:V.getLabel("orientationRight")});rr.addEventListener("click",function(pt){for(var Ie=!rr.classList.contains("rbroButtonActive"),ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"borderRight"),Ie,e.type.button,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"borderRight"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("borderRight",Ie,e.type.button,ye)}ye.isEmpty()||V.executeCommand(ye)}),Bt.append(rr);var Zt=t("button",{id:"rbro_".concat(s,"border_bottom"),class:"rbroButton rbroActionButton rbroIcon-border-bottom",type:"button",value:"".concat(l,"borderBottom"),title:V.getLabel("orientationBottom")});if(Zt.addEventListener("click",function(pt){for(var Ie=!Zt.classList.contains("rbroButtonActive"),ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"borderBottom"),Ie,e.type.button,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"borderBottom"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("borderBottom",Ie,e.type.button,ye)}ye.isEmpty()||V.executeCommand(ye)}),Bt.append(Zt),ie.append(Bt),Q.append(ie),Ut.append(Q),y){g(Q=t("div",{id:"rbro_".concat(s,"table_border_row"),class:"rbroFormRow"}),V.getLabel("styleBorder")),ie=t("div",{class:"rbroFormField"});var Nt=t("div",{id:"rbro_".concat(s,"table_border")}),Ft=t("button",{id:"rbro_".concat(s,"table_border_grid"),class:"rbroButton rbroActionButton rbroIcon-border-table-grid",type:"button",value:"".concat(l,"grid"),title:V.getLabel("docElementBorderGrid")});Ft.addEventListener("click",function(pt){for(var Ie=lr.border.grid,ye=V.getSelectedObjects(),Ne=!1,Ae=ye.length-1;Ae>=0;Ae--)if(ye[Ae].getValue("".concat(l,"border"))!==Ie){Ne=!0;break}if(Ne){for(var ce=new le("Set value",V),tt=ye.length-1;tt>=0;tt--){var Me=ye[tt];ce.addSelection(Me.getId()),ce.addCommand(new e(Me.getId(),"".concat(l,"border"),Ie,e.type.buttonGroup,V))}ce.isEmpty()||V.executeCommand(ce)}}),Nt.append(Ft);var Ht=t("button",{id:"rbro_".concat(s,"table_border_frame_row"),class:"rbroButton rbroActionButton rbroIcon-border-table-frame-row",type:"button",value:"".concat(l,"frame_row"),title:V.getLabel("docElementBorderFrameRow")});Ht.addEventListener("click",function(pt){for(var Ie=lr.border.frameRow,ye=V.getSelectedObjects(),Ne=!1,Ae=ye.length-1;Ae>=0;Ae--)if(ye[Ae].getValue("".concat(l,"border"))!==Ie){Ne=!0;break}if(Ne){for(var ce=new le("Set value",V),tt=ye.length-1;tt>=0;tt--){var Me=ye[tt];ce.addSelection(Me.getId()),ce.addCommand(new e(Me.getId(),"".concat(l,"border"),Ie,e.type.buttonGroup,V))}ce.isEmpty()||V.executeCommand(ce)}}),Nt.append(Ht);var Ct=t("button",{id:"rbro_".concat(s,"table_border_frame"),class:"rbroButton rbroActionButton rbroIcon-border-table-frame",type:"button",value:"".concat(l,"frame"),title:V.getLabel("docElementBorderFrame")});Ct.addEventListener("click",function(pt){for(var Ie=lr.border.frame,ye=V.getSelectedObjects(),Ne=!1,Ae=ye.length-1;Ae>=0;Ae--)if(ye[Ae].getValue("".concat(l,"border"))!==Ie){Ne=!0;break}if(Ne){for(var ce=new le("Set value",V),tt=ye.length-1;tt>=0;tt--){var Me=ye[tt];ce.addSelection(Me.getId()),ce.addCommand(new e(Me.getId(),"".concat(l,"border"),Ie,e.type.buttonGroup,V))}ce.isEmpty()||V.executeCommand(ce)}}),Nt.append(Ct);var Mt=t("button",{id:"rbro_".concat(s,"table_border_row"),class:"rbroButton rbroActionButton rbroIcon-border-table-row",type:"button",value:"".concat(l,"row"),title:V.getLabel("docElementBorderRow")});Mt.addEventListener("click",function(pt){for(var Ie=lr.border.row,ye=V.getSelectedObjects(),Ne=!1,Ae=ye.length-1;Ae>=0;Ae--)if(ye[Ae].getValue("".concat(l,"border"))!==Ie){Ne=!0;break}if(Ne){for(var ce=new le("Set value",V),tt=ye.length-1;tt>=0;tt--){var Me=ye[tt];ce.addSelection(Me.getId()),ce.addCommand(new e(Me.getId(),"".concat(l,"border"),Ie,e.type.buttonGroup,V))}ce.isEmpty()||V.executeCommand(ce)}}),Nt.append(Mt);var ir=t("button",{id:"rbro_".concat(s,"table_border_none"),class:"rbroButton rbroActionButton rbroIcon-border-table-none",type:"button",value:"".concat(l,"none"),title:V.getLabel("docElementBorderNone")});ir.addEventListener("click",function(pt){for(var Ie=lr.border.none,ye=V.getSelectedObjects(),Ne=!1,Ae=ye.length-1;Ae>=0;Ae--)if(ye[Ae].getValue("".concat(l,"border"))!==Ie){Ne=!0;break}if(Ne){for(var ce=new le("Set value",V),tt=ye.length-1;tt>=0;tt--){var Me=ye[tt];ce.addSelection(Me.getId()),ce.addCommand(new e(Me.getId(),"".concat(l,"border"),Ie,e.type.buttonGroup,V))}ce.isEmpty()||V.executeCommand(ce)}}),Nt.append(ir),ie.append(Nt),Q.append(ie),Ut.append(Q)}g(Q=t("div",{id:"rbro_".concat(s,"border_color_row"),class:"rbroFormRow"}),V.getLabel("styleBorderColor"),"rbro_".concat(s,"border_color")),ie=t("div",{class:"rbroFormField"});var Yt=t("div",{class:"rbroColorPickerContainer"}),nr=t("input",{id:"rbro_".concat(s,"border_color"),autocomplete:"off"});nr.addEventListener("change",function(pt){var Ie=nr.value;if(Y(Ie)){for(var ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"borderColor"),Ie,e.type.color,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"borderColor"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("borderColor",Ie,e.type.color,ye)}ye.isEmpty()||V.executeCommand(ye)}}),Yt.append(nr),j[l+"borderColor"]=F(Yt,nr,!1,V),ie.append(Yt),Q.append(ie),Ut.append(Q),g(Q=t("div",{id:"rbro_".concat(s,"border_width_row"),class:"rbroFormRow"}),V.getLabel("styleBorderWidth"),"rbro_".concat(s,"border_width")),ie=t("div",{class:"rbroFormField"});var Ot=t("input",{id:"rbro_".concat(s,"border_width"),type:"number",step:"0.5",autocomplete:"off"});Ot.addEventListener("input",function(pt){var Ie=Ot.value;Ie!==""&&(Ie=T(Ie,.5,99)),Ie!==Ot.value&&(Ot.value=Ie);for(var ye=V.getSelectedObjects(),Ne=!1,Ae=ye.length-1;Ae>=0;Ae--)if(ye[Ae].getValue("".concat(l,"borderWidth"))!==Ie){Ne=!0;break}if(Ne){for(var ce=new le("Set value",V),tt=ye.length-1;tt>=0;tt--){var Me=ye[tt];ce.addSelection(Me.getId()),ce.addCommand(new e(Me.getId(),"".concat(l,"borderWidth"),Ie,e.type.text,V)),Me instanceof se&&Me.getValue("".concat(l,"styleId"))!==""?Me.getValue("".concat(l,"borderWidth"))!==Ie&&ce.addCommand(new e(Me.getId(),"".concat(l,"styleId"),"",e.type.select,V)):Me instanceof pe&&Me.addCommandsForChangedProperty("borderWidth",Ie,e.type.text,ce)}ce.isEmpty()||V.executeCommand(ce)}}),ie.append(Ot),Q.append(ie),Ut.append(Q),a.append(Ut),g(Q=t("div",{id:"rbro_".concat(s,"padding_row"),class:"rbroFormRow"}),V.getLabel("stylePadding"),"rbro_".concat(s,"padding")),ie=t("div",{class:"rbroFormField rbroSmallInput"});var fr=t("div",{class:"rbroColumnCenter"}),mr=t("input",{id:"rbro_".concat(s,"padding_top"),placeholder:V.getLabel("orientationTop"),type:"number",autocomplete:"off"});mr.addEventListener("input",function(pt){for(var Ie=mr.value,ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"paddingTop"),Ie,e.type.text,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"paddingTop"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("paddingTop",Ie,e.type.text,ye)}ye.isEmpty()||V.executeCommand(ye)}),fr.append(mr),ie.append(fr);var yr=t("div",{class:"rbroSplit"}),sr=t("input",{id:"rbro_".concat(s,"padding_left"),placeholder:V.getLabel("orientationLeft"),type:"number",autocomplete:"off"});sr.addEventListener("input",function(pt){for(var Ie=sr.value,ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"paddingLeft"),Ie,e.type.text,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"paddingLeft"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("paddingLeft",Ie,e.type.text,ye)}ye.isEmpty()||V.executeCommand(ye)}),yr.append(sr);var ur=t("input",{id:"rbro_".concat(s,"padding_right"),placeholder:V.getLabel("orientationRight"),type:"number",autocomplete:"off"});ur.addEventListener("input",function(pt){for(var Ie=ur.value,ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"paddingRight"),Ie,e.type.text,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"paddingRight"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("paddingRight",Ie,e.type.text,ye)}ye.isEmpty()||V.executeCommand(ye)}),yr.append(ur),ie.append(yr);var wr=t("div",{class:"rbroColumnCenter"}),cr=t("input",{id:"rbro_".concat(s,"padding_bottom"),placeholder:V.getLabel("orientationBottom"),type:"number",autocomplete:"off"});cr.addEventListener("input",function(pt){for(var Ie=cr.value,ye=new le("Set value",V),Ne=V.getSelectedObjects(),Ae=Ne.length-1;Ae>=0;Ae--){var ce=Ne[Ae];ye.addSelection(ce.getId()),ye.addCommand(new e(ce.getId(),"".concat(l,"paddingBottom"),Ie,e.type.text,V)),ce instanceof se&&ce.getValue("".concat(l,"styleId"))!==""?ce.getValue("".concat(l,"paddingBottom"))!==Ie&&ye.addCommand(new e(ce.getId(),"".concat(l,"styleId"),"",e.type.select,V)):ce instanceof pe&&ce.addCommandsForChangedProperty("paddingBottom",Ie,e.type.text,ye)}ye.isEmpty()||V.executeCommand(ye)}),wr.append(cr),ie.append(wr),Q.append(ie),a.append(Q)}},{key:"destroyStyle",value:function(a,s){s[a+"textColor"].destroy(),s[a+"backgroundColor"].destroy(),a+"alternateBackgroundColor"in s&&s[a+"alternateBackgroundColor"].destroy(),s[a+"borderColor"].destroy()}}]),x}(Tr),wn=Je(6095),_r=Je.n(wn),En=Je(4175),un=Je.n(En);function Vt(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,y){if(l){if(typeof l=="string")return cn(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?cn(l,y):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var y=u.next();return a=y.done,y},e:function(y){s=!0,v=y},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function cn(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var xn=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a){var s;for(var l in J(this,x),(s=b.call(this,"rbro_doc_element",se,v,a)).propertyDescriptors={label:{type:e.type.text,fieldId:"label"},content:{type:e.type.text,fieldId:"content",visibleIf:"!richText"},richText:{type:e.type.checkbox,fieldId:"rich_text"},richTextContent:{type:e.type.richText,fieldId:"rich_text_content",visibleIf:"richText"},eval:{type:e.type.checkbox,fieldId:"eval",visibleIf:"!richText"},dataSource:{type:e.type.text,fieldId:"data_source"},xReadOnly:{type:e.type.text,fieldId:"x_read_only"},x:{type:e.type.text,fieldId:"x",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,rowProperties:["x","y"],labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionX"},y:{type:e.type.text,fieldId:"y",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionY"},width:{type:e.type.text,fieldId:"width",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,rowProperties:["width","height"],labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementWidth",visibleIf:"type != 'bar_code' || (format != 'QRCode' && rotate)"},height:{type:e.type.text,fieldId:"height",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementHeight"},colspan:{type:e.type.text,fieldId:"colspan"},format:{type:e.type.select,fieldId:"format",allowEmpty:!1},displayValue:{type:e.type.checkbox,fieldId:"display_value",visibleIf:"format != 'QRCode'"},barWidth:{type:e.type.text,fieldId:"bar_width",visibleIf:"format != 'QRCode'"},guardBar:{type:e.type.checkbox,fieldId:"guard_bar",visibleIf:"format == 'EAN8' || format == 'EAN13'"},rotate:{type:e.type.checkbox,fieldId:"rotate",section:"print",visibleIf:"format != 'QRCode'"},errorCorrectionLevel:{type:e.type.select,fieldId:"error_correction_level",visibleIf:"format == 'QRCode'"},source:{type:e.type.text,fieldId:"source"},image:{type:e.type.file,fieldId:"image",rowId:"rbro_doc_element_image_row",singleRowProperty:!1,rowProperties:["image","imageFilename"]},imageFilename:{type:e.type.filename,fieldId:"image_filename",rowId:"rbro_doc_element_image_row",singleRowProperty:!1},columns:{type:e.type.text,fieldId:"columns"},header:{type:e.type.checkbox,fieldId:"header"},contentRows:{type:e.type.text,fieldId:"content_rows"},footer:{type:e.type.checkbox,fieldId:"footer"},color:{type:e.type.color,allowEmpty:!1,fieldId:"color",section:"style"},styleId:{type:e.type.select,fieldId:"style_id",section:"style",allowEmpty:!0},bold:{type:e.type.button,fieldId:"bold",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"],section:"style",visibleIf:"!richText"},italic:{type:e.type.button,fieldId:"italic",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},underline:{type:e.type.button,fieldId:"underline",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},strikethrough:{type:e.type.button,fieldId:"strikethrough",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},horizontalAlignment:{type:e.type.buttonGroup,fieldId:"halignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"],section:"style",visibleIf:"!richText"},verticalAlignment:{type:e.type.buttonGroup,fieldId:"valignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,section:"style"},textColor:{type:e.type.color,allowEmpty:!1,fieldId:"text_color",section:"style",visibleIf:"!richText"},backgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"background_color",section:"style"},alternateBackgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"alternate_background_color",section:"style"},font:{type:e.type.select,fieldId:"font",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"],section:"style",allowEmpty:!1,visibleIf:"!richText"},fontSize:{type:e.type.select,fieldId:"font_size",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,section:"style",allowEmpty:!1,visibleIf:"!richText"},lineSpacing:{type:e.type.select,fieldId:"line_spacing",section:"style",allowEmpty:!1},borderAll:{type:e.type.button,fieldId:"border_all",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"],section:"style"},borderLeft:{type:e.type.button,fieldId:"border_left",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderTop:{type:e.type.button,fieldId:"border_top",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderRight:{type:e.type.button,fieldId:"border_right",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderBottom:{type:e.type.button,fieldId:"border_bottom",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},border:{type:e.type.buttonGroup,fieldId:"table_border",rowId:"rbro_doc_element_table_border_row",section:"style"},borderColor:{type:e.type.color,allowEmpty:!1,fieldId:"border_color",section:"style"},borderWidth:{type:e.type.text,fieldId:"border_width",section:"style"},paddingLeft:{type:e.type.text,fieldId:"padding_left",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"style"},paddingTop:{type:e.type.text,fieldId:"padding_top",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingRight:{type:e.type.text,fieldId:"padding_right",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingBottom:{type:e.type.text,fieldId:"padding_bottom",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},groupExpression:{type:e.type.text,fieldId:"group_expression",section:"print"},pageBreak:{type:e.type.checkbox,fieldId:"page_break",visibleIf:"groupExpression",section:"print"},repeatGroupHeader:{type:e.type.checkbox,fieldId:"repeat_group_header",visibleIf:"groupExpression",section:"print"},printIf:{type:e.type.text,fieldId:"print_if",section:"print"},repeatHeader:{type:e.type.checkbox,fieldId:"repeat_header",section:"print"},removeEmptyElement:{type:e.type.checkbox,fieldId:"remove_empty_element",section:"print"},alwaysPrintOnSamePage:{type:e.type.checkbox,fieldId:"always_print_on_same_page",section:"print"},shrinkToContentHeight:{type:e.type.checkbox,fieldId:"shrink_to_content_height",section:"print"},alignToPageBottom:{type:e.type.checkbox,fieldId:"align_to_page_bottom",section:"print"},growWeight:{type:e.type.select,allowEmpty:!1,fieldId:"grow_weight",section:"print"},pattern:{type:e.type.text,fieldId:"pattern",section:"print",visibleIf:"!richText"},link:{type:e.type.text,fieldId:"link",section:"print",visibleIf:"!richText"},cs_condition:{type:e.type.text,fieldId:"cs_condition",section:"cs_style"},cs_styleId:{type:e.type.select,fieldId:"cs_style_id",section:"cs_style",allowEmpty:!0},cs_additionalRules:{type:e.type.internal,fieldId:"cs_additional_rules",section:"cs_style",allowEmpty:!0},cs_bold:{type:e.type.button,fieldId:"cs_bold",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,rowProperties:["cs_bold","cs_italic","cs_underline","cs_strikethrough"],section:"cs_style",visibleIf:"!richText"},cs_italic:{type:e.type.button,fieldId:"cs_italic",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_underline:{type:e.type.button,fieldId:"cs_underline",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_strikethrough:{type:e.type.button,fieldId:"cs_strikethrough",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_horizontalAlignment:{type:e.type.buttonGroup,fieldId:"cs_halignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,rowProperties:["cs_horizontalAlignment","cs_verticalAlignment"],section:"cs_style",visibleIf:"!richText"},cs_verticalAlignment:{type:e.type.buttonGroup,fieldId:"cs_valignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,section:"cs_style"},cs_textColor:{type:e.type.color,allowEmpty:!1,fieldId:"cs_text_color",section:"cs_style",visibleIf:"!richText"},cs_backgroundColor:{type:e.type.color,allowEmpty:!0,fieldId:"cs_background_color",section:"cs_style"},cs_font:{type:e.type.select,fieldId:"cs_font",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,rowProperties:["cs_font","cs_fontSize"],section:"cs_style",allowEmpty:!1,visibleIf:"!richText"},cs_fontSize:{type:e.type.select,fieldId:"cs_font_size",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,section:"cs_style",allowEmpty:!1,visibleIf:"!richText"},cs_lineSpacing:{type:e.type.select,fieldId:"cs_line_spacing",section:"cs_style",allowEmpty:!1},cs_borderAll:{type:e.type.button,fieldId:"cs_border_all",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,rowProperties:["cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom"],section:"cs_style"},cs_borderLeft:{type:e.type.button,fieldId:"cs_border_left",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderTop:{type:e.type.button,fieldId:"cs_border_top",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderRight:{type:e.type.button,fieldId:"cs_border_right",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderBottom:{type:e.type.button,fieldId:"cs_border_bottom",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderColor:{type:e.type.color,allowEmpty:!1,fieldId:"cs_border_color",section:"cs_style"},cs_borderWidth:{type:e.type.text,fieldId:"cs_border_width",section:"cs_style"},cs_paddingLeft:{type:e.type.text,fieldId:"cs_padding_left",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"cs_style"},cs_paddingTop:{type:e.type.text,fieldId:"cs_padding_top",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingRight:{type:e.type.text,fieldId:"cs_padding_right",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingBottom:{type:e.type.text,fieldId:"cs_padding_bottom",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},spreadsheet_hide:{type:e.type.checkbox,fieldId:"spreadsheet_hide",section:"spreadsheet"},spreadsheet_column:{type:e.type.text,fieldId:"spreadsheet_column",section:"spreadsheet"},spreadsheet_colspan:{type:e.type.text,fieldId:"spreadsheet_colspan",section:"spreadsheet"},spreadsheet_addEmptyRow:{type:e.type.checkbox,fieldId:"spreadsheet_add_empty_row",section:"spreadsheet"},spreadsheet_textWrap:{type:e.type.checkbox,fieldId:"spreadsheet_text_wrap",section:"spreadsheet"}},a.getProperty("showPlusFeatures")||(delete s.propertyDescriptors.richText,delete s.propertyDescriptors.richTextContent),s.visibleIfFields=[],s.propertyDescriptors)if(s.propertyDescriptors.hasOwnProperty(l)){var y=s.propertyDescriptors[l];if("visibleIf"in y){var j,V=Vt(W(y.visibleIf,null));try{for(V.s();!(j=V.n()).done;){var Q=j.value;Q.type==="field"&&("visibleIfFields"in y?y.visibleIfFields.includes(Q.value)||y.visibleIfFields.push(Q.value):y.visibleIfFields=[Q.value],s.visibleIfFields.includes(Q.value)||s.visibleIfFields.push(Q.value))}}catch(ie){V.e(ie)}finally{V.f()}}}return s}return L(x,[{key:"render",value:function(){var a,s,l,y=this,j=t("div",{id:"rbro_doc_element_panel",class:"rbroHidden"});g(a=t("div",{id:"rbro_doc_element_label_row",class:"rbroFormRow"}),this.rb.getLabel("docElementLabel"),"rbro_doc_element_label"),s=t("div",{class:"rbroFormField"});var V=t("input",{id:"rbro_doc_element_label",autocomplete:"off"});V.addEventListener("input",function($e){for(var Ce=V.value,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"label",Ce,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),s.append(V),a.append(s),j.append(a),g(a=t("div",{id:"rbro_doc_element_data_source_row",class:"rbroFormRow"}),this.rb.getLabel("docElementDataSource"),"rbro_doc_element_data_source"),s=t("div",{class:"rbroFormField"});var Q=t("div",{class:"rbroSplit rbroSelector"}),ie=t("textarea",{id:"rbro_doc_element_data_source",rows:1});ie.addEventListener("input",function($e){for(var Ce=ie.value,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"dataSource",Ce,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),St(ie),Q.append(ie),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function($e){var Ce=y.rb.getSelectedObjects(),me=Ce.length===1?Ce[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(me,[G.type.array]),null,"rbro_doc_element_data_source","dataSource",Dt.type.parameterSet)}),Q.append(l),s.append(Q),s.append(t("div",{id:"rbro_doc_element_data_source_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),g(a=t("div",{id:"rbro_doc_element_content_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementContent"),"rbro_doc_element_content"),s=t("div",{class:"rbroFormField"}),Q=t("div",{class:"rbroSplit rbroSelector"});var be=t("textarea",{id:"rbro_doc_element_content",rows:1});if(be.addEventListener("input",function($e){for(var Ce=be.value,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"content",Ce,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),be.addEventListener("blur",function($e){y.rb.getPopupWindow().hide()}),St(be),Q.append(be),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function($e){var Ce=y.rb.getSelectedObjects(),me=Ce.length===1?Ce[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(me,null),null,"rbro_doc_element_content","content",Dt.type.parameterAppend)}),Q.append(l),s.append(Q),s.append(t("div",{id:"rbro_doc_element_content_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),this.rb.getProperty("showPlusFeatures")){g(a=t("div",{id:"rbro_doc_element_rich_text_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRichText"),"rbro_doc_element_rich_text"),s=t("div",{class:"rbroFormField"});var _e=t("label",{class:"switch-light switch-material"}),we=t("input",{id:"rbro_doc_element_rich_text",type:"checkbox"});we.addEventListener("change",function($e){for(var Ce=we.checked,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"richText",Ce,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),_e.append(we);var Oe=t("span");if(Oe.append(t("span")),Oe.append(t("span")),Oe.append(t("a")),_e.append(Oe),s.append(_e),s.append(t("div",{id:"rbro_doc_element_rich_text_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var Pe=t("div",{class:"rbroInfo"});Pe.innerHTML=this.rb.getLabel("plusFeatureInfo"),s.append(Pe)}a.append(s),j.append(a),a=t("div",{id:"rbro_doc_element_rich_text_content_row",class:"rbroFormRow rbroRichTextEditor rbroHidden"});var Be,He=this.rb.getProperty("colors"),Fe=t("select",{class:"ql-color",title:this.rb.getLabel("styleTextColor")}),je=t("select",{class:"ql-background",title:this.rb.getLabel("styleBackgroundColor")}),We=Vt(He);try{for(We.s();!(Be=We.n()).done;){var Ye=Be.value;Fe.append(t("option",{value:Ye},Ye)),je.append(t("option",{value:Ye},Ye))}}catch($e){We.e($e)}finally{We.f()}Fe.append(t("option",{value:"clear-color"})),je.append(t("option",{value:"clear-color"}));var Ke,Qe=t("select",{class:"ql-font"}),ut=this.rb.getProperty("defaultFont"),lt=Vt(this.rb.getFonts());try{for(lt.s();!(Ke=lt.n()).done;){var at=Ke.value,rt={value:at.value};at.value===ut&&(rt.selected="selected"),Qe.append(t("option",rt,at.name))}}catch($e){lt.e($e)}finally{lt.f()}var ve,Ue=t("select",{class:"ql-size"}),Ge=Vt(this.rb.getProperty("fontSizes"));try{for(Ge.s();!(ve=Ge.n()).done;){var gt=ve.value,st={value:gt+"px"};gt===12&&(st.selected="selected"),Ue.append(t("option",st,gt+"pt"))}}catch($e){Ge.e($e)}finally{Ge.f()}var it=t("div",{id:"rbro_doc_element_rich_text_content_toolbar"}),ct=t("span",{class:"ql-formats"});ct.append(t("button",{class:"ql-bold",title:this.rb.getLabel("styleBold")})),ct.append(t("button",{class:"ql-italic",title:this.rb.getLabel("styleItalic")})),ct.append(t("button",{class:"ql-underline",title:this.rb.getLabel("styleUnderline")})),ct.append(t("button",{class:"ql-strike",title:this.rb.getLabel("styleStrikethrough")})),it.append(ct),(ct=t("span",{class:"ql-formats"})).append(t("button",{class:"ql-link"})),it.append(ct),(ct=t("span",{class:"ql-formats"})).append(t("select",{class:"ql-align",title:this.rb.getLabel("styleAlignment")})),it.append(ct),(ct=t("span",{class:"ql-formats"})).append(Fe),ct.append(je),it.append(ct),it.append(Qe),it.append(Ue),it.append(t("div",{id:"rbro_doc_element_rich_text_content_toolbar_parameter",class:"rbroButton rbroRoundButton rbroIcon-select"})),a.append(it);var xt=t("div",{id:"rbro_doc_element_rich_text_content"});a.append(xt),s.append(t("div",{id:"rbro_doc_element_rich_text_content_error",class:"rbroErrorMessage"})),j.append(a)}g(a=t("div",{id:"rbro_doc_element_eval_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementEval"),"rbro_doc_element_eval"),s=t("div",{class:"rbroFormField"});var Et=t("input",{id:"rbro_doc_element_eval",type:"checkbox"});Et.addEventListener("change",function($e){for(var Ce=new le("Set value",y.rb),me=y.rb.getSelectedObjects(),Te=Et.checked,xe=me.length-1;xe>=0;xe--){var De=me[xe];Ce.addSelection(De.getId()),Ce.addCommand(new e(De.getId(),"eval",Te,e.type.checkbox,y.rb))}Ce.isEmpty()||y.rb.executeCommand(Ce)}),s.append(Et),a.append(s),j.append(a),g(a=t("div",{id:"rbro_doc_element_format_row",class:"rbroFormRow"}),this.rb.getLabel("docElementFormat"),"rbro_doc_element_format"),s=t("div",{class:"rbroFormField"});var yt=t("select",{id:"rbro_doc_element_format"});yt.append(t("option",{value:"CODE39"},"CODE39")),yt.append(t("option",{value:"CODE128"},"CODE128")),yt.append(t("option",{value:"EAN8"},"EAN-8")),yt.append(t("option",{value:"EAN13"},"EAN-13")),yt.append(t("option",{value:"UPC"},"UPC")),yt.append(t("option",{value:"QRCode"},"QR Code")),yt.addEventListener("change",function($e){for(var Ce=yt.value,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"format",Ce,e.type.select,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),s.append(yt),a.append(s),j.append(a),g(a=t("div",{id:"rbro_doc_element_display_value_row",class:"rbroFormRow"}),this.rb.getLabel("docElementDisplayValue"),"rbro_doc_element_display_value"),s=t("div",{class:"rbroFormField"});var _t=t("input",{id:"rbro_doc_element_display_value",type:"checkbox"});_t.addEventListener("change",function($e){for(var Ce=_t.checked,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"displayValue",Ce,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),s.append(_t),a.append(s),j.append(a),g(a=t("div",{id:"rbro_doc_element_bar_width_row",class:"rbroFormRow"}),this.rb.getLabel("docElementBarWidth"),"rbro_doc_element_bar_width"),s=t("div",{class:"rbroFormField"});var mt=t("input",{id:"rbro_doc_element_bar_width",type:"number",step:"0.1",autocomplete:"off"});mt.addEventListener("input",function($e){var Ce=mt.value;Ce!==""&&(Ce=T(Ce,.3,3)),Ce!==mt.value&&(mt.value=Ce);for(var me=y.rb.getSelectedObjects(),Te=!1,xe=me.length-1;xe>=0;xe--)if(me[xe].getValue("barWidth")!==Ce){Te=!0;break}if(Te){for(var De=new le("Set value",y.rb),bt=me.length-1;bt>=0;bt--){var Pt=me[bt];De.addSelection(Pt.getId()),De.addCommand(new e(Pt.getId(),"barWidth",Ce,e.type.text,y.rb))}De.isEmpty()||y.rb.executeCommand(De)}}),s.append(mt),a.append(s),j.append(a),g(a=t("div",{id:"rbro_doc_element_guard_bar_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGuardBar"),"rbro_doc_element_guard_bar"),s=t("div",{class:"rbroFormField"});var dt=t("input",{id:"rbro_doc_element_guard_bar",type:"checkbox"});dt.addEventListener("change",function($e){for(var Ce=dt.checked,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"guardBar",Ce,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),s.append(dt),a.append(s),j.append(a),g(a=t("div",{id:"rbro_doc_element_rotate_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRotate"),"rbro_doc_element_rotate"),s=t("div",{class:"rbroFormField"});var er=t("input",{id:"rbro_doc_element_rotate",type:"checkbox"});er.addEventListener("change",function($e){for(var Ce=er.checked,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"rotate",Ce,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),s.append(er),a.append(s),j.append(a),g(a=t("div",{id:"rbro_doc_element_error_correction_level_row",class:"rbroFormRow"}),this.rb.getLabel("docElementErrorCorrectionLevel"),"rbro_doc_element_error_correction_level"),s=t("div",{class:"rbroFormField"});var Lt=t("select",{id:"rbro_doc_element_error_correction_level"});Lt.append(t("option",{value:"L"},this.rb.getLabel("docElementErrorCorrectionLevelLow"))),Lt.append(t("option",{value:"M"},this.rb.getLabel("docElementErrorCorrectionLevelMedium"))),Lt.append(t("option",{value:"Q"},this.rb.getLabel("docElementErrorCorrectionLevelQuartile"))),Lt.append(t("option",{value:"H"},this.rb.getLabel("docElementErrorCorrectionLevelHigh"))),Lt.addEventListener("change",function($e){for(var Ce=Lt.value,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"errorCorrectionLevel",Ce,e.type.select,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),s.append(Lt),a.append(s),j.append(a),g(a=t("div",{id:"rbro_doc_element_source_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSource"),"rbro_doc_element_source"),s=t("div",{class:"rbroFormField"}),Q=t("div",{class:"rbroSplit rbroSelector"});var ar=t("textarea",{id:"rbro_doc_element_source",rows:1});ar.addEventListener("input",function($e){for(var Ce=ar.value,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"source",Ce,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),St(ar),Q.append(ar),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function($e){var Ce=y.rb.getSelectedObjects(),me=Ce.length===1?Ce[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(me,[G.type.image,G.type.string]),null,"rbro_doc_element_source","source",Dt.type.parameterSet)}),Q.append(l),s.append(Q),s.append(t("div",{id:"rbro_doc_element_source_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),g(a=t("div",{id:"rbro_doc_element_image_row",class:"rbroFormRow"}),this.rb.getLabel("docElementImageFile"),"rbro_doc_element_image"),s=t("div",{class:"rbroFormField"});var Ut=t("input",{id:"rbro_doc_element_image",type:"file"});Ut.addEventListener("change",function($e){var Ce=$e.target.files;if(Ce&&Ce[0]){var me=new FileReader,Te=y.rb,xe=Ce[0].name;me.onload=function(De){for(var bt=new le("Load image",Te),Pt=Te.getSelectedObjects(),Xt=Pt.length-1;Xt>=0;Xt--){var vr=Pt[Xt];bt.addSelection(vr.getId()),bt.addCommand(new e(vr.getId(),"image",De.target.result,e.type.file,Te)),bt.addCommand(new e(vr.getId(),"imageFilename",xe,e.type.filename,Te))}bt.isEmpty()||Te.executeCommand(bt)},me.onerror=function(De){alert(Te.getLabel("docElementLoadImageErrorMsg"))},me.readAsDataURL(Ce[0])}}),s.append(Ut);var Bt=t("div",{id:"rbro_doc_element_image_filename_container",class:"rbroImageFile rbroHidden"});Bt.append(t("div",{id:"rbro_doc_element_image_filename"}));var Kt=t("div",{id:"rbro_doc_element_image_filename_clear",class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});Kt.addEventListener("click",function($e){Ut.value="";for(var Ce=new le("Clear image",y.rb),me=y.rb.getSelectedObjects(),Te=me.length-1;Te>=0;Te--){var xe=me[Te];Ce.addSelection(xe.getId()),Ce.addCommand(new e(xe.getId(),"image","",e.type.file,y.rb)),Ce.addCommand(new e(xe.getId(),"imageFilename","",e.type.filename,y.rb))}Ce.isEmpty()||y.rb.executeCommand(Ce)}),Bt.append(Kt),s.append(Bt),s.append(t("div",{id:"rbro_doc_element_image_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),g(a=t("div",{id:"rbro_doc_element_x_read_only_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPositionX"),"rbro_doc_element_x_read_only",{class:"rbroDisabled"}),s=t("div",{class:"rbroFormField"});var hr=t("input",{id:"rbro_doc_element_x_read_only",disabled:"disabled"});s.append(hr),a.append(s),j.append(a),g(a=t("div",{id:"rbro_doc_element_position_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementPosition"),"rbro_doc_element_x",{id:"rbro_doc_element_position_label"}),s=t("div",{class:"rbroFormField"}),Q=t("div",{class:"rbroSplit"});var tr=t("input",{id:"rbro_doc_element_x",type:"number",autocomplete:"off"});tr.addEventListener("input",function($e){for(var Ce=tr.value,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"x",Ce,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),Q.append(tr);var rr=t("input",{id:"rbro_doc_element_y",type:"number",autocomplete:"off"});rr.addEventListener("input",function($e){for(var Ce=rr.value,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"y",Ce,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),Q.append(rr),s.append(Q),s.append(t("div",{id:"rbro_doc_element_position_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),g(a=t("div",{id:"rbro_doc_element_size_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementSize"),"rbro_doc_element_size",{id:"rbro_doc_element_size_label"}),s=t("div",{class:"rbroFormField"}),Q=t("div",{class:"rbroSplit"});var Zt=t("input",{id:"rbro_doc_element_width",type:"number",autocomplete:"off"});Zt.addEventListener("input",function($e){for(var Ce=Zt.value,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"width",Ce,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),Q.append(Zt);var Nt=t("input",{id:"rbro_doc_element_height",type:"number",autocomplete:"off"});Nt.addEventListener("input",function($e){for(var Ce=Nt.value,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"height",Ce,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),Q.append(Nt),s.append(Q),s.append(t("div",{id:"rbro_doc_element_size_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),g(a=t("div",{id:"rbro_doc_element_colspan_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColspan"),"rbro_doc_element_colspan"),s=t("div",{class:"rbroFormField"});var Ft=t("input",{id:"rbro_doc_element_colspan",type:"number",autocomplete:"off"});Ft.addEventListener("change",function($e){var Ce=Ft.value.trim();Ce!==""&&(Ce=T(Ce,1,9)),Ce!==Ft.value&&(Ft.value=Ce);for(var me=y.rb.getSelectedObjects(),Te=!1,xe=me.length-1;xe>=0;xe--)if(me[xe].getValue("colspan")!==Ce){Te=!0;break}if(Te){for(var De=new le("Set value",y.rb),bt=me.length-1;bt>=0;bt--){var Pt=me[bt];De.addSelection(Pt.getId()),De.addCommand(new e(Pt.getId(),"colspan",Ce,e.type.text,y.rb))}De.isEmpty()||y.rb.executeCommand(De)}}),s.append(Ft),s.append(t("div",{id:"rbro_doc_element_colspan_error",class:"rbroErrorMessage"})),a.append(s),j.append(a),g(a=t("div",{id:"rbro_doc_element_columns_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColumns"),"rbro_doc_element_columns"),s=t("div",{class:"rbroFormField"});var Ht=t("input",{id:"rbro_doc_element_columns",type:"number",autocomplete:"off"});Ht.addEventListener("change",function($e){var Ce=T(Ht.value,1,99);Ce!==Ht.value&&(Ht.value=Ce);for(var me=A(Ce),Te=y.rb.getSelectedObjects(),xe=!1,De=!0,bt=Te.length-1;bt>=0;bt--){var Pt=Te[bt];Pt.getValue("columns")!==Ce&&(xe=!0),Pt.hasEnoughAvailableSpace(me)||(De=!1)}if(De||Te.length!==1||(Ht.value=Te[0].getValue("columns")),xe&&De){for(var Xt=new le("Set value",y.rb),vr=Te.length-1;vr>=0;vr--){var gn=Te[vr];Xt.addSelection(gn.getId()),gn.addCommandsForChangedColumns(me,Xt)}Xt.isEmpty()||y.rb.executeCommand(Xt)}}),s.append(Ht),a.append(s),j.append(a),g(a=t("div",{id:"rbro_doc_element_header_row",class:"rbroFormRow"}),this.rb.getLabel("header"),"rbro_doc_element_header"),s=t("div",{class:"rbroFormField"});var Ct=t("label",{class:"switch-light switch-material"}),Mt=t("input",{id:"rbro_doc_element_header",type:"checkbox"});Mt.addEventListener("change",function($e){for(var Ce=Mt.checked,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"header",Ce,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),Ct.append(Mt);var ir=t("span");ir.append(t("span")),ir.append(t("span")),ir.append(t("a")),Ct.append(ir),s.append(Ct),a.append(s),j.append(a),g(a=t("div",{id:"rbro_doc_element_content_rows_row",class:"rbroFormRow"}),this.rb.getLabel("docElementContentRows"),"rbro_doc_element_content_rows"),s=t("div",{class:"rbroFormField"});var Yt=t("input",{id:"rbro_doc_element_content_rows",type:"number",autocomplete:"off"});Yt.addEventListener("change",function($e){var Ce=T(Yt.value,1,99),me=A(Ce);Ce!==Yt.value&&(Yt.value=Ce);for(var Te=y.rb.getSelectedObjects(),xe=!1,De=Te.length-1;De>=0;De--)if(Te[De].getValue("contentRows")!==Ce){xe=!0;break}if(xe){for(var bt=new le("Set value",y.rb),Pt=Te.length-1;Pt>=0;Pt--){var Xt=Te[Pt];bt.addSelection(Xt.getId()),Xt.addCommandsForChangedContentRows(me,bt)}bt.isEmpty()||y.rb.executeCommand(bt)}}),s.append(Yt),a.append(s),j.append(a),g(a=t("div",{id:"rbro_doc_element_footer_row",class:"rbroFormRow"}),this.rb.getLabel("footer"),"rbro_doc_element_footer"),s=t("div",{class:"rbroFormField"});var nr=t("label",{class:"switch-light switch-material"}),Ot=t("input",{id:"rbro_doc_element_footer",type:"checkbox"});Ot.addEventListener("change",function($e){for(var Ce=Ot.checked,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"footer",Ce,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),nr.append(Ot);var fr=t("span");fr.append(t("span")),fr.append(t("span")),fr.append(t("a")),nr.append(fr),s.append(nr),a.append(s),j.append(a);var mr=t("div",{id:"rbro_doc_element_style_section_container"}),yr=t("div",{class:"rbroPanelSectionHeader"}),sr=t("span",{id:"rbro_doc_element_style_header_icon",class:"rbroIcon-minus"});(a=t("div",{id:"rbro_doc_element_style_header",class:"rbroFormRow rbroPanelSection rbroPanelSectionHeaderOpen"})).addEventListener("click",function($e){if(document.getElementById("rbro_doc_element_style_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_style_section").classList.toggle("rbroHidden"),sr.classList.toggle("rbroIcon-plus"),sr.classList.toggle("rbroIcon-minus"),sr.classList.contains("rbroIcon-minus")){var Ce=document.getElementById("rbro_doc_element_style_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=Ce}}),yr.append(sr),yr.append(t("span",{},this.rb.getLabel("docElementStyle"))),a.append(yr),mr.append(a);var ur=t("div",{id:"rbro_doc_element_style_section"});g(a=t("div",{id:"rbro_doc_element_color_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColor"),"rbro_doc_element_color"),s=t("div",{class:"rbroFormField"});var wr=t("div",{class:"rbroColorPickerContainer"}),cr=t("input",{id:"rbro_doc_element_color",autocomplete:"off"});cr.addEventListener("change",function($e){var Ce=cr.value;if(Y(Ce)){for(var me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"color",Ce,e.type.color,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}}),wr.append(cr),this.controls.color=F(wr,cr,!1,this.rb),s.append(wr),a.append(s),ur.append(a),g(a=t("div",{id:"rbro_doc_element_style_id_row",class:"rbroFormRow"}),this.rb.getLabel("docElementStyle"),"rbro_doc_element_style_id"),s=t("div",{class:"rbroFormField"}),this.elStyle=t("select",{id:"rbro_doc_element_style_id"}),this.elStyle.addEventListener("change",function($e){for(var Ce=new le("Set value",y.rb),me=y.rb.getSelectedObjects(),Te=me.length-1;Te>=0;Te--){var xe=me[Te];Ce.addSelection(xe.getId()),xe.addCommandsForChangedStyle(y.elStyle.value,"",y.propertyDescriptors,Ce)}Ce.isEmpty()||y.rb.executeCommand(Ce)}),s.append(this.elStyle),a.append(s),ur.append(a);var pt=t("div",{id:"rbro_doc_element_style_settings"});kr.renderStyle(pt,"doc_element_","",!0,this.controls,this.rb),ur.append(pt),mr.append(ur),j.append(mr);var Ie=t("div",{id:"rbro_doc_element_print_section_container"}),ye=t("div",{class:"rbroPanelSectionHeader"}),Ne=t("span",{id:"rbro_doc_element_print_header_icon",class:"rbroIcon-plus"});(a=t("div",{id:"rbro_doc_element_print_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function($e){if(document.getElementById("rbro_doc_element_print_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_print_section").classList.toggle("rbroHidden"),Ne.classList.toggle("rbroIcon-plus"),Ne.classList.toggle("rbroIcon-minus"),Ne.classList.contains("rbroIcon-minus")){var Ce=document.getElementById("rbro_doc_element_print_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=Ce}St.update(document.getElementById("rbro_doc_element_print_if"))}),ye.append(Ne),ye.append(t("span",{},this.rb.getLabel("docElementPrintSettings"))),a.append(ye),Ie.append(a);var Ae=t("div",{id:"rbro_doc_element_print_section",class:"rbroHidden"});g(a=t("div",{id:"rbro_doc_element_group_expression_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGroupExpression"),"rbro_doc_element_group_expression"),s=t("div",{class:"rbroFormField"}),Q=t("div",{class:"rbroSplit rbroSelector"});var ce=t("textarea",{id:"rbro_doc_element_group_expression",rows:1});ce.addEventListener("input",function($e){for(var Ce=ce.value,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"groupExpression",Ce,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),ce.addEventListener("blur",function($e){y.rb.getPopupWindow().hide()}),St(ce),Q.append(ce),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function($e){var Ce=y.rb.getSelectedObjects(),me=Ce.length===1?Ce[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(me,null),null,"rbro_doc_element_group_expression","groupExpression",Dt.type.parameterSet)}),Q.append(l),s.append(Q),s.append(t("div",{id:"rbro_doc_element_group_expression_error",class:"rbroErrorMessage"})),a.append(s),Ae.append(a),g(a=t("div",{id:"rbro_doc_element_page_break_row",class:"rbroFormRow"}),this.rb.getLabel("docElementTableBandPageBreak"),"rbro_doc_element_page_break"),s=t("div",{class:"rbroFormField"});var tt=t("input",{id:"rbro_doc_element_page_break",type:"checkbox"});tt.addEventListener("change",function($e){for(var Ce=tt.checked,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"pageBreak",Ce,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),s.append(tt),a.append(s),Ae.append(a),g(a=t("div",{id:"rbro_doc_element_repeat_group_header_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRepeatGroupHeader"),"rbro_doc_element_repeat_group_header"),s=t("div",{class:"rbroFormField"});var Me=t("input",{id:"rbro_doc_element_repeat_group_header",type:"checkbox"});Me.addEventListener("change",function($e){for(var Ce=Me.checked,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"repeatGroupHeader",Ce,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),s.append(Me),s.append(t("div",{id:"rbro_doc_element_repeat_group_header_error",class:"rbroErrorMessage"})),a.append(s),Ae.append(a),g(a=t("div",{id:"rbro_doc_element_print_if_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPrintIf"),"rbro_doc_element_print_if"),s=t("div",{class:"rbroFormField"}),Q=t("div",{class:"rbroSplit rbroSelector"});var Dr=t("textarea",{id:"rbro_doc_element_print_if",rows:1});Dr.addEventListener("input",function($e){for(var Ce=Dr.value,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"printIf",Ce,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),St(Dr),Q.append(Dr),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function($e){var Ce=y.rb.getSelectedObjects(),me=Ce.length===1?Ce[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(me,null),null,"rbro_doc_element_print_if","printIf",Dt.type.parameterAppend)}),Q.append(l),s.append(Q),s.append(t("div",{id:"rbro_doc_element_print_if_error",class:"rbroErrorMessage"})),a.append(s),Ae.append(a),g(a=t("div",{id:"rbro_doc_element_repeat_header_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRepeatHeader"),"rbro_doc_element_repeat_header"),s=t("div",{class:"rbroFormField"});var Fr=t("input",{id:"rbro_doc_element_repeat_header",type:"checkbox"});Fr.addEventListener("change",function($e){for(var Ce=Fr.checked,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"repeatHeader",Ce,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),s.append(Fr),a.append(s),Ae.append(a),g(a=t("div",{id:"rbro_doc_element_remove_empty_element_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRemoveEmptyElement"),"rbro_doc_element_remove_empty_element"),s=t("div",{class:"rbroFormField"});var Mr=t("input",{id:"rbro_doc_element_remove_empty_element",type:"checkbox"});Mr.addEventListener("change",function($e){for(var Ce=Mr.checked,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"removeEmptyElement",Ce,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),s.append(Mr),a.append(s),Ae.append(a),g(a=t("div",{id:"rbro_doc_element_always_print_on_same_page_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAlwaysPrintOnSamePage"),"rbro_doc_element_always_print_on_same_page"),s=t("div",{class:"rbroFormField"});var zr=t("input",{id:"rbro_doc_element_always_print_on_same_page",type:"checkbox"});zr.addEventListener("change",function($e){for(var Ce=zr.checked,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"alwaysPrintOnSamePage",Ce,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),s.append(zr),s.append(t("div",{id:"rbro_doc_element_always_print_on_same_page_error",class:"rbroErrorMessage"})),a.append(s),Ae.append(a),g(a=t("div",{id:"rbro_doc_element_shrink_to_content_height_row",class:"rbroFormRow"}),this.rb.getLabel("docElementShrinkToContentHeight"),"rbro_doc_element_shrink_to_content_height"),s=t("div",{class:"rbroFormField"});var Vr=t("input",{id:"rbro_doc_element_shrink_to_content_height",type:"checkbox"});Vr.addEventListener("change",function($e){for(var Ce=Vr.checked,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"shrinkToContentHeight",Ce,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),s.append(Vr),a.append(s),Ae.append(a),g(a=t("div",{id:"rbro_doc_element_align_to_page_bottom_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAlignToPageBottom"),"rbro_doc_element_align_to_page_bottom"),s=t("div",{class:"rbroFormField"});var Ur=t("input",{id:"rbro_doc_element_align_to_page_bottom",type:"checkbox"});Ur.addEventListener("change",function($e){for(var Ce=Ur.checked,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"alignToPageBottom",Ce,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),s.append(Ur),a.append(s),Ae.append(a),g(a=t("div",{id:"rbro_doc_element_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPattern"),"rbro_doc_element_pattern"),s=t("div",{class:"rbroFormField"}),Q=t("div",{class:"rbroSplit rbroSelector"});var Hr=t("input",{id:"rbro_doc_element_pattern",autocomplete:"off"});Hr.addEventListener("input",function($e){for(var Ce=Hr.value,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"pattern",Ce,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),Q.append(Hr),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function($e){y.rb.getPopupWindow().show(y.rb.getPatterns(),null,"rbro_doc_element_pattern","pattern",Dt.type.pattern)}),Q.append(l),s.append(Q),s.append(t("div",{id:"rbro_doc_element_pattern_error",class:"rbroErrorMessage"})),a.append(s),Ae.append(a),g(a=t("div",{id:"rbro_doc_element_link_row",class:"rbroFormRow"}),this.rb.getLabel("docElementLink"),"rbro_doc_element_link"),s=t("div",{class:"rbroFormField"}),Q=t("div",{class:"rbroSplit rbroSelector"});var qr=t("input",{id:"rbro_doc_element_link",autocomplete:"off"});qr.addEventListener("input",function($e){for(var Ce=qr.value,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"link",Ce,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),Q.append(qr),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function($e){var Ce=y.rb.getSelectedObjects(),me=Ce.length===1?Ce[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(me,null),null,"rbro_doc_element_link","link",Dt.type.parameterSet)}),Q.append(l),s.append(Q),s.append(t("div",{id:"rbro_doc_element_link_error",class:"rbroErrorMessage"})),a.append(s),Ae.append(a),g(a=t("div",{id:"rbro_doc_element_grow_weight_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGrowWeight"),"rbro_doc_element_grow_weight"),s=t("div",{class:"rbroFormField"});var gr=t("select",{id:"rbro_doc_element_grow_weight"});gr.append(t("option",{value:"0"},"-")),gr.append(t("option",{value:"1"},"1 (".concat(this.rb.getLabel("docElementGrowWeightLow"),")"))),gr.append(t("option",{value:"2"},"2")),gr.append(t("option",{value:"3"},"3 (".concat(this.rb.getLabel("docElementGrowWeightHigh"),")"))),gr.addEventListener("change",function($e){for(var Ce=gr.value,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"growWeight",Ce,e.type.select,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),s.append(gr),s.append(t("div",{class:"rbroInfo"},this.rb.getLabel("docElementGrowWeightInfo"))),a.append(s),Ae.append(a),Ie.append(Ae),j.append(Ie);var Wr=t("div",{id:"rbro_doc_element_cs_style_section_container"}),Gr=t("div",{class:"rbroPanelSectionHeader"}),Lr=t("span",{id:"rbro_doc_element_cs_style_header_icon",class:"rbroIcon-plus"});(a=t("div",{id:"rbro_doc_element_cs_style_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function($e){if(document.getElementById("rbro_doc_element_cs_style_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_cs_style_section").classList.toggle("rbroHidden"),Lr.classList.toggle("rbroIcon-plus"),Lr.classList.toggle("rbroIcon-minus"),Lr.classList.contains("rbroIcon-minus")){var Ce=document.getElementById("rbro_doc_element_cs_style_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=Ce}}),Gr.append(Lr),Gr.append(t("span",{},this.rb.getLabel("docElementConditionalStyle"))),a.append(Gr),Wr.append(a);var Sr=t("div",{id:"rbro_doc_element_cs_style_section",class:"rbroHidden"});g(a=t("div",{id:"rbro_doc_element_cs_condition_row",class:"rbroFormRow"}),this.rb.getLabel("docElementConditionalStyleCondition"),"rbro_doc_element_cs_condition"),s=t("div",{class:"rbroFormField"}),Q=t("div",{class:"rbroSplit rbroSelector"});var Rr=t("textarea",{id:"rbro_doc_element_cs_condition",rows:1});Rr.addEventListener("input",function($e){for(var Ce=Rr.value,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"cs_condition",Ce,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),St(Rr),Q.append(Rr),(l=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function($e){var Ce=y.rb.getSelectedObjects(),me=Ce.length===1?Ce[0]:null;y.rb.getPopupWindow().show(y.rb.getParameterItems(me,null),null,"rbro_doc_element_cs_condition","cs_condition",Dt.type.parameterAppend)}),Q.append(l),s.append(Q),s.append(t("div",{id:"rbro_doc_element_cs_condition_error",class:"rbroErrorMessage"})),a.append(s),Sr.append(a),g(a=t("div",{id:"rbro_doc_element_cs_style_id_row",class:"rbroFormRow"}),this.rb.getLabel("docElementStyle"),"rbro_doc_element_cs_style_id"),s=t("div",{class:"rbroFormField"}),this.elCsStyle=t("select",{id:"rbro_doc_element_cs_style_id"}),this.elCsStyle.addEventListener("change",function($e){for(var Ce=y.elCsStyle.value,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),De.addCommandsForChangedStyle(Ce,"cs_",y.propertyDescriptors,me)}me.isEmpty()||y.rb.executeCommand(me)}),s.append(this.elCsStyle),a.append(s),Sr.append(a),g(a=t("div",{id:"rbro_doc_element_cs_additional_rules_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAdditionalRules")),s=t("div",{class:"rbroFormField"});var jr=t("button",{id:"rbro_doc_element_cs_additional_rules",class:"rbroButton rbroActionButton"});jr.append(t("span",{},this.rb.getLabel("editData"))),jr.append(t("span",{class:"rbroIcon-edit"})),jr.addEventListener("click",function($e){var Ce=y.rb.getSelectedObjects();if(Ce.length===1){var me=Ce[0],Te=[{name:"condition",label:y.rb.getLabel("docElementConditionalStyleCondition"),type:G.type.string,parameter:null,attributes:{multiLine:!0}},{name:"style_id",label:y.rb.getLabel("docElementStyle"),type:G.type.string,parameter:null,attributes:{select:"style"}}],xe=[];if(me.getValue("cs_additionalRules"))try{xe=JSON.parse(me.getValue("cs_additionalRules"))}catch(De){}y.rb.getPopupWindow().show(null,me.getId(),"","cs_additionalRules",Dt.type.data,null,null,G.type.array,Te,xe)}else Ce.length>1&&alert(y.rb.getLabel("docElementEditMultipleSelectionNotSupported"))}),s.append(jr),s.append(t("div",{id:"rbro_doc_element_cs_additional_rules_error",class:"rbroErrorMessage"})),a.append(s),Sr.append(a);var yn=t("div",{id:"rbro_doc_element_cs_style_settings"});kr.renderStyle(yn,"doc_element_cs_","cs_",!1,this.controls,this.rb),Sr.append(yn),Wr.append(Sr),j.append(Wr);var Br=t("div",{id:"rbro_doc_element_spreadsheet_section_container"}),Kr=t("div",{class:"rbroPanelSectionHeader"}),Nr=t("span",{id:"rbro_doc_element_spreadsheet_header_icon",class:"rbroIcon-plus"});(a=t("div",{id:"rbro_doc_element_spreadsheet_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function($e){if(document.getElementById("rbro_doc_element_spreadsheet_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_spreadsheet_section").classList.toggle("rbroHidden"),Nr.classList.toggle("rbroIcon-plus"),Nr.classList.toggle("rbroIcon-minus"),Nr.classList.contains("rbroIcon-minus")){var Ce=document.getElementById("rbro_doc_element_spreadsheet_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=Ce}}),Kr.append(Nr),Kr.append(t("span",{},this.rb.getLabel("docElementSpreadsheet"))),a.append(Kr),Br.append(a);var Er=t("div",{id:"rbro_doc_element_spreadsheet_section",class:"rbroHidden"});g(a=t("div",{id:"rbro_doc_element_spreadsheet_hide_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetHide"),"rbro_doc_element_spreadsheet_hide"),s=t("div",{class:"rbroFormField"});var Zr=t("input",{id:"rbro_doc_element_spreadsheet_hide",type:"checkbox"});Zr.addEventListener("change",function($e){for(var Ce=Zr.checked,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"spreadsheet_hide",Ce,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),s.append(Zr),a.append(s),Er.append(a),g(a=t("div",{id:"rbro_doc_element_spreadsheet_column_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetColumn"),"rbro_doc_element_spreadsheet_column"),s=t("div",{class:"rbroFormField"});var Or=t("input",{id:"rbro_doc_element_spreadsheet_column",type:"number",autocomplete:"off"});Or.addEventListener("input",function($e){var Ce=Or.value;Ce!==""&&(Ce=T(Ce,1,99)),Ce!==Or.value&&(Or.value=Ce);for(var me=y.rb.getSelectedObjects(),Te=!1,xe=me.length-1;xe>=0;xe--)if(me[xe].getValue("spreadsheet_column")!==Ce){Te=!0;break}if(Te){for(var De=new le("Set value",y.rb),bt=me.length-1;bt>=0;bt--){var Pt=me[bt];De.addSelection(Pt.getId()),De.addCommand(new e(Pt.getId(),"spreadsheet_column",Ce,e.type.text,y.rb))}De.isEmpty()||y.rb.executeCommand(De)}}),s.append(Or),s.append(t("div",{id:"rbro_doc_element_spreadsheet_column_error",class:"rbroErrorMessage"})),a.append(s),Er.append(a),g(a=t("div",{id:"rbro_doc_element_spreadsheet_colspan_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetColspan"),"rbro_doc_element_spreadsheet_colspan"),s=t("div",{class:"rbroFormField"});var Yr=t("input",{id:"rbro_doc_element_spreadsheet_colspan",type:"number",autocomplete:"off"});Yr.addEventListener("input",function($e){for(var Ce=Yr.value,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"spreadsheet_colspan",Ce,e.type.text,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),s.append(Yr),s.append(t("div",{id:"rbro_doc_element_spreadsheet_colspan_error",class:"rbroErrorMessage"})),a.append(s),Er.append(a),g(a=t("div",{id:"rbro_doc_element_spreadsheet_add_empty_row_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetAddEmptyRow"),"rbro_doc_element_spreadsheet_add_empty_row"),s=t("div",{class:"rbroFormField"});var Xr=t("input",{id:"rbro_doc_element_spreadsheet_add_empty_row",type:"checkbox"});Xr.addEventListener("change",function($e){for(var Ce=Xr.checked,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"spreadsheet_addEmptyRow",Ce,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),s.append(Xr),a.append(s),Er.append(a),g(a=t("div",{id:"rbro_doc_element_spreadsheet_text_wrap_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetTextWrap"),"rbro_doc_element_spreadsheet_text_wrap"),s=t("div",{class:"rbroFormField"});var $r=t("input",{id:"rbro_doc_element_spreadsheet_text_wrap",type:"checkbox"});$r.addEventListener("change",function($e){for(var Ce=$r.checked,me=new le("Set value",y.rb),Te=y.rb.getSelectedObjects(),xe=Te.length-1;xe>=0;xe--){var De=Te[xe];me.addSelection(De.getId()),me.addCommand(new e(De.getId(),"spreadsheet_textWrap",Ce,e.type.checkbox,y.rb))}me.isEmpty()||y.rb.executeCommand(me)}),s.append($r),a.append(s),Er.append(a),Br.append(Er),this.rb.getProperty("enableSpreadsheet")||(Br.style.display="none"),j.append(Br),document.getElementById("rbro_detail_panel").append(j),this.rb.getProperty("showPlusFeatures")&&this.setupRichText()}},{key:"renderStyleSelect",value:function(){te(this.elStyle,null,this.rb),te(this.elCsStyle,null,this.rb)}},{key:"setupRichText",value:function(){var a=this,s=_r().import("formats/link"),l=s.sanitize;s.sanitize=function(Fe){var je=Fe;return/^\w+:/.test(je)||je.startsWith("${")?je:(/^https?:/.test(je)||(je=je.startsWith("/")?"http:"+je:"http://"+je),l.call(this,je))},document.getElementById("rbro_doc_element_rich_text_content_toolbar_parameter").addEventListener("click",function(Fe){var je=a.rb.getSelectedObjects(),We=je.length===1?je[0]:null;a.rb.getPopupWindow().show(a.rb.getParameterItems(We,null),null,"rbro_doc_element_rich_text_content","richTextContent",Dt.type.parameterAppend,a.quill)});var y,j=_r().import("formats/font"),V=[],Q=Vt(this.rb.getFonts());try{for(Q.s();!(y=Q.n()).done;){var ie=y.value;V.push(ie.value)}}catch(Fe){Q.e(Fe)}finally{Q.f()}j.whitelist=V,_r().register(j,!0);var be,_e=_r().import("attributors/style/size"),we=[],Oe=Vt(this.rb.getProperty("fontSizes"));try{for(Oe.s();!(be=Oe.n()).done;){var Pe=be.value;we.push(Pe+"px")}}catch(Fe){Oe.e(Fe)}finally{Oe.f()}_e.whitelist=we,_r().register(_e,!0);var Be=new(_r())("#rbro_doc_element_rich_text_content",{modules:{toolbar:"#rbro_doc_element_rich_text_content_toolbar"},placeholder:"",theme:"snow"});Be.getModule("toolbar").addHandler("color",function(Fe){Fe==="clear-color"?Be.format("color",""):Be.format("color",Fe)}),Be.getModule("toolbar").addHandler("background",function(Fe){Fe==="clear-color"?Be.format("background",""):Be.format("background",Fe)});var He=this.rb;Be.on("text-change",function(Fe,je,We){for(var Ye=Be.getContents(),Ke=Be.root.innerHTML,Qe=new le("Set value",He),ut=He.getSelectedObjects(),lt=ut.length-1;lt>=0;lt--){var at=ut[lt];Qe.addSelection(at.getId()),Qe.addCommand(new e(at.getId(),"richTextContent",Ye,e.type.richText,He)),Qe.addCommand(new e(at.getId(),"richTextHtml",Ke,e.type.text,He))}Qe.isEmpty()||He.executeCommand(Qe)}),this.quill=Be}},{key:"destroy",value:function(){this.controls.color.destroy(),kr.destroyStyle("",this.controls),kr.destroyStyle("cs_",this.controls)}},{key:"updateDisplay",value:function(a){var s,l=this.rb.getSelectedObjects(),y={},j={},V=Vt(l);try{for(V.s();!(s=V.n()).done;){var Q,ie=Vt(s.value.getProperties());try{for(ie.s();!(Q=ie.n()).done;){var be=Q.value;be in j?j[be]+=1:j[be]=1}}catch(mt){ie.e(mt)}finally{ie.f()}}}catch(mt){V.e(mt)}finally{V.f()}for(var _e in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(_e)){var we=this.propertyDescriptors[_e],Oe="";if("visibleIf"in we&&(Oe=we.visibleIf),a===null||_e===a||Oe&&we.visibleIfFields.includes(a)){var Pe=!1;if(_e in j)if(j[_e]===l.length){var Be,He=null,Fe=!1,je=Vt(l);try{for(je.s();!(Be=je.n()).done;){var We=Be.value,Ye=We.getUpdateValue(_e,We.getValue(_e));if(He===null)He=Ye;else if(we.type===e.type.richText){if(Ye&&He&&new(un())(Ye).diff(new(un())(He)).ops.length>0){Fe=!0;break}}else if(Ye!==He){Fe=!0;break}}}catch(mt){je.e(mt)}finally{je.f()}if(Fe&&we.type===e.type.select&&we.allowEmpty&&(He=""),o(f(x.prototype),"setValue",this).call(this,we,He,Fe),"section"in we){var Ke=we.section;Ke in y?y[Ke]+=1:y[Ke]=1}Pe=!0}else delete j[_e];if(Pe&&Oe){var Qe,ut=Vt(l);try{for(ut.s();!(Qe=ut.n()).done;)if(!H(Oe,Qe.value)){Pe=!1,delete j[_e];break}}catch(mt){ut.e(mt)}finally{ut.f()}}if("singleRowProperty"in we&&!we.singleRowProperty){var lt="rbro_doc_element_".concat(we.fieldId);Pe?document.getElementById(lt).classList.remove("rbroHidden"):document.getElementById(lt).classList.add("rbroHidden")}else{var at=this.getRowId(we);Pe?document.getElementById(at).classList.remove("rbroHidden"):document.getElementById(at).classList.add("rbroHidden")}}}if(a===null||this.visibleIfFields.includes(a)){for(var rt in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(rt)){var ve=this.propertyDescriptors[rt];if("rowId"in ve&&"rowProperties"in ve){var Ue,Ge=0,gt=Vt(ve.rowProperties);try{for(gt.s();!(Ue=gt.n()).done;)Ue.value in j&&Ge++}catch(mt){gt.e(mt)}finally{gt.f()}if("labelId"in ve){var st=ve.defaultLabel;if(Ge===1){var it,ct=Vt(ve.rowProperties);try{for(ct.s();!(it=ct.n()).done;){var xt=it.value;if(xt in j){st=this.propertyDescriptors[xt].singlePropertyLabel;break}}}catch(mt){ct.e(mt)}finally{ct.f()}}document.getElementById(ve.labelId).textContent=this.rb.getLabel(st)+":"}Ge>0?document.getElementById(ve.rowId).classList.remove("rbroHidden"):document.getElementById(ve.rowId).classList.add("rbroHidden")}}for(var Et=0,yt=["style","print","cs_style","spreadsheet"];Et<yt.length;Et++){var _t=yt[Et];_t in y?document.getElementById("rbro_doc_element_".concat(_t,"_section_container")).classList.remove("rbroHidden"):document.getElementById("rbro_doc_element_".concat(_t,"_section_container")).classList.add("rbroHidden")}}x.updateAutosizeInputs(a)}},{key:"show",value:function(){this.renderStyleSelect(),o(f(x.prototype),"show",this).call(this)}},{key:"notifyEvent",value:function(a,s,l){a instanceof pe?(s===w.operation.add||s===w.operation.remove||s===w.operation.move||s===w.operation.change&&l==="name")&&this.renderStyleSelect():o(f(x.prototype),"notifyEvent",this).call(this,a,s,l)}}],[{key:"updateAutosizeInputs",value:function(a){a!==null&&a!=="dataSource"||St.update(document.getElementById("rbro_doc_element_data_source")),a!==null&&a!=="content"||St.update(document.getElementById("rbro_doc_element_content")),a!==null&&a!=="source"||St.update(document.getElementById("rbro_doc_element_source")),a!==null&&a!=="groupExpression"||St.update(document.getElementById("rbro_doc_element_group_expression")),a!==null&&a!=="printIf"||St.update(document.getElementById("rbro_doc_element_print_if")),a!==null&&a!=="cs_condition"||St.update(document.getElementById("rbro_doc_element_cs_condition"))}}]),x}(Tr),Cn=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a){var s;return J(this,x),(s=b.call(this,"rbro_document_properties",Gt,v,a)).propertyDescriptors={pageFormat:{type:e.type.text,fieldId:"page_format"},pageWidth:{type:e.type.text,fieldId:"page_width"},pageHeight:{type:e.type.text,fieldId:"page_height"},unit:{type:e.type.select,fieldId:"unit"},orientation:{type:e.type.select,fieldId:"orientation"},contentHeight:{type:e.type.text,fieldId:"content_height"},marginLeft:{type:e.type.text,fieldId:"page_margin_left"},marginTop:{type:e.type.text,fieldId:"page_margin_top"},marginRight:{type:e.type.text,fieldId:"page_margin_right"},marginBottom:{type:e.type.text,fieldId:"page_margin_bottom"},header:{type:e.type.checkbox,fieldId:"header"},headerSize:{type:e.type.text,fieldId:"header_size"},headerDisplay:{type:e.type.select,fieldId:"header_display"},footer:{type:e.type.checkbox,fieldId:"footer"},footerSize:{type:e.type.text,fieldId:"footer_size"},footerDisplay:{type:e.type.select,fieldId:"footer_display"},patternLocale:{type:e.type.select,fieldId:"pattern_locale"},patternCurrencySymbol:{type:e.type.text,fieldId:"pattern_currency_symbol"},patternNumberGroupSymbol:{type:e.type.text,fieldId:"pattern_number_group_symbol"}},s}return L(x,[{key:"render",value:function(a){var s=this,l=t("div",{id:"rbro_document_properties_panel",class:"rbroHidden"}),y=t("div",{id:"rbro_document_properties_page_row",class:"rbroFormRow"});g(y,this.rb.getLabel("pageFormat"),"rbro_document_properties_page_format");var j=t("div",{class:"rbroFormField"}),V=t("select",{id:"rbro_document_properties_page_format"});V.append(t("option",{value:"A4"},this.rb.getLabel("pageFormatA4"))),V.append(t("option",{value:"A5"},this.rb.getLabel("pageFormatA5"))),V.append(t("option",{value:"letter"},this.rb.getLabel("pageFormatLetter"))),V.append(t("option",{value:"user_defined"},this.rb.getLabel("pageFormatUserDefined"))),V.addEventListener("change",function(Fe){var je=s.rb.getSelectedObject();if(je!==null){var We=new e(je.getId(),"pageFormat",V.value,e.type.select,s.rb);s.rb.executeCommand(We)}}),j.append(V);var Q=t("div",{id:"rbro_document_properties_page_size_row",class:"rbroTripleSplit"}),ie=t("input",{id:"rbro_document_properties_page_width",maxlength:"5",type:"number",autocomplete:"off"});ie.addEventListener("change",function(Fe){var je=s.rb.getSelectedObject();if(je!==null){var We=new e(je.getId(),"pageWidth",ie.value,e.type.select,s.rb);s.rb.executeCommand(We)}}),D(ie),Q.append(ie);var be=t("input",{id:"rbro_document_properties_page_height",maxlength:"5",type:"number",autocomplete:"off"});be.addEventListener("change",function(Fe){var je=s.rb.getSelectedObject();if(je!==null){var We=new e(je.getId(),"pageHeight",be.value,e.type.text,s.rb);s.rb.executeCommand(We)}}),D(be),Q.append(be);var _e=t("select",{id:"rbro_document_properties_unit"});_e.append(t("option",{value:"mm"},"mm")),_e.append(t("option",{value:"inch"},"inch")),Q.addEventListener("change",function(Fe){var je=s.rb.getSelectedObject();if(je!==null){var We=new e(je.getId(),"unit",_e.value,e.type.select,s.rb);s.rb.executeCommand(We)}}),Q.append(_e),j.append(Q),j.append(t("div",{id:"rbro_document_properties_page_error",class:"rbroErrorMessage"})),y.append(j),l.append(y),g(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("orientation"),"rbro_document_properties_orientation"),j=t("div",{class:"rbroFormField"});var we=t("select",{id:"rbro_document_properties_orientation"});we.append(t("option",{value:"portrait"},this.rb.getLabel("orientationPortrait"))),we.append(t("option",{value:"landscape"},this.rb.getLabel("orientationLandscape"))),we.addEventListener("change",function(Fe){var je=s.rb.getSelectedObject();if(je!==null){var We=new e(je.getId(),"orientation",we.value,e.type.select,s.rb);s.rb.executeCommand(We)}}),j.append(we),y.append(j),l.append(y),g(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("contentHeight"),"rbro_document_properties_content_height"),j=t("div",{class:"rbroFormField"});var Oe=t("input",{id:"rbro_document_properties_content_height",type:"number",autocomplete:"off"});Oe.addEventListener("change",function(Fe){var je=s.rb.getSelectedObject();if(je!==null){var We=new e(je.getId(),"contentHeight",Oe.value,e.type.text,s.rb);s.rb.executeCommand(We)}}),D(Oe),j.append(Oe),j.append(t("div",{class:"rbroInfo"},this.rb.getLabel("contentHeightInfo"))),y.append(j),l.append(y),this.renderMarginControls(l),this.renderHeaderFooter(l),g(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("patternLocale"),"rbro_document_properties_pattern_locale"),j=t("div",{class:"rbroFormField"});var Pe=t("select",{id:"rbro_document_properties_pattern_locale"});Pe.append(t("option",{value:"de"},"de")),Pe.append(t("option",{value:"en"},"en")),Pe.append(t("option",{value:"es"},"es")),Pe.append(t("option",{value:"fr"},"fr")),Pe.append(t("option",{value:"it"},"it")),Pe.addEventListener("change",function(Fe){var je=s.rb.getSelectedObject();if(je!==null){var We=new e(je.getId(),"patternLocale",Pe.value,e.type.select,s.rb);s.rb.executeCommand(We)}}),j.append(Pe),y.append(j),l.append(y),g(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("patternCurrencySymbol"),"rbro_document_properties_pattern_currency_symbol"),j=t("div",{class:"rbroFormField"});var Be=t("input",{id:"rbro_document_properties_pattern_currency_symbol",autocomplete:"off"});Be.addEventListener("change",function(Fe){var je=s.rb.getSelectedObject();if(je!==null){var We=new e(je.getId(),"patternCurrencySymbol",Be.value,e.type.text,s.rb);s.rb.executeCommand(We)}}),j.append(Be),y.append(j),l.append(y),g(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("patternNumberGroupSymbol"),"rbro_document_properties_pattern_number_group_symbol"),j=t("div",{class:"rbroFormField"});var He=t("input",{id:"rbro_document_properties_pattern_number_group_symbol",maxlength:"1",autocomplete:"off"});He.addEventListener("change",function(Fe){var je=s.rb.getSelectedObject();if(je!==null){var We=new e(je.getId(),"patternNumberGroupSymbol",He.value,e.type.text,s.rb);s.rb.executeCommand(We)}}),j.append(He),j.append(t("div",{class:"rbroInfo"},this.rb.getLabel("patternNumberGroupSymbolInfo"))),y.append(j),l.append(y),document.getElementById("rbro_detail_panel").append(l)}},{key:"renderMarginControls",value:function(a){var s=this,l=t("div",{class:"rbroFormRow"});g(l,this.rb.getLabel("pageMargins"),"rbro_document_properties_page_margin_top");var y=t("div",{class:"rbroFormField rbroSmallInput"}),j=t("div",{class:"rbroColumnCenter"}),V=t("input",{id:"rbro_document_properties_page_margin_top",placeholder:this.rb.getLabel("orientationTop"),type:"number",autocomplete:"off"});V.addEventListener("change",function(Oe){var Pe=s.rb.getSelectedObject();if(Pe!==null){var Be=new e(Pe.getId(),"marginTop",V.value,e.type.text,s.rb);s.rb.executeCommand(Be)}}),D(V),j.append(V),y.append(j);var Q=t("div",{class:"rbroSplit"}),ie=t("input",{id:"rbro_document_properties_page_margin_left",placeholder:this.rb.getLabel("orientationLeft"),type:"number",autocomplete:"off"});ie.addEventListener("change",function(Oe){var Pe=s.rb.getSelectedObject();if(Pe!==null){var Be=new e(Pe.getId(),"marginLeft",ie.value,e.type.text,s.rb);s.rb.executeCommand(Be)}}),D(ie),Q.append(ie);var be=t("input",{id:"rbro_document_properties_page_margin_right",placeholder:this.rb.getLabel("orientationRight"),type:"number",autocomplete:"off"});be.addEventListener("change",function(Oe){var Pe=s.rb.getSelectedObject();if(Pe!==null){var Be=new e(Pe.getId(),"marginRight",be.value,e.type.text,s.rb);s.rb.executeCommand(Be)}}),D(be),Q.append(be),y.append(Q);var _e=t("div",{class:"rbroColumnCenter"}),we=t("input",{id:"rbro_document_properties_page_margin_bottom",placeholder:this.rb.getLabel("orientationBottom"),type:"number",autocomplete:"off"});we.addEventListener("change",function(Oe){var Pe=s.rb.getSelectedObject();if(Pe!==null){var Be=new e(Pe.getId(),"marginBottom",we.value,e.type.text,s.rb);s.rb.executeCommand(Be)}}),D(we),_e.append(we),y.append(_e),l.append(y),a.append(l)}},{key:"renderHeaderFooter",value:function(a){var s=this,l=t("div",{class:"rbroFormRowContainer"}),y=t("div",{class:"rbroFormRow"});g(y,this.rb.getLabel("header"),"rbro_document_properties_header");var j=t("div",{class:"rbroFormField"}),V=t("label",{class:"switch-light switch-material"}),Q=t("input",{id:"rbro_document_properties_header",type:"checkbox"});Q.addEventListener("change",function(Ye){var Ke=s.rb.getSelectedObject();if(Ke!==null){var Qe=new e(Ke.getId(),"header",Q.checked,e.type.checkbox,s.rb);s.rb.executeCommand(Qe)}}),V.append(Q);var ie=t("span");ie.append(t("span")),ie.append(t("span")),ie.append(t("a")),V.append(ie),j.append(V),y.append(j),l.append(y);var be=t("div",{id:"rbro_document_properties_header_settings"});g(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("headerSize"),"rbro_document_properties_header_size"),j=t("div",{class:"rbroFormField"});var _e=t("input",{id:"rbro_document_properties_header_size",type:"number",autocomplete:"off"});_e.addEventListener("change",function(Ye){var Ke=s.rb.getSelectedObject();if(Ke!==null){var Qe=new e(Ke.getId(),"headerSize",_e.value,e.type.text,s.rb);s.rb.executeCommand(Qe)}}),D(_e),j.append(_e),y.append(j),be.append(y),g(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("headerDisplay"),"rbro_document_properties_header_display"),j=t("div",{class:"rbroFormField"});var we=t("select",{id:"rbro_document_properties_header_display"});we.append(t("option",{value:"always"},this.rb.getLabel("headerFooterDisplayAlways"))),we.append(t("option",{value:"not_on_first_page"},this.rb.getLabel("headerFooterDisplayNotOnFirstPage"))),we.addEventListener("change",function(Ye){var Ke=s.rb.getSelectedObject();if(Ke!==null){var Qe=new e(Ke.getId(),"headerDisplay",we.value,e.type.select,s.rb);s.rb.executeCommand(Qe)}}),j.append(we),y.append(j),be.append(y),l.append(be),a.append(l);var Oe=t("div",{class:"rbroFormRowContainer"});g(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("footer"),"rbro_document_properties_footer"),j=t("div",{class:"rbroFormField"});var Pe=t("label",{class:"switch-light switch-material"}),Be=t("input",{id:"rbro_document_properties_footer",type:"checkbox"});Be.addEventListener("change",function(Ye){var Ke=s.rb.getSelectedObject();if(Ke!==null){var Qe=new e(Ke.getId(),"footer",Be.checked,e.type.checkbox,s.rb);s.rb.executeCommand(Qe)}}),Pe.append(Be);var He=t("span");He.append(t("span")),He.append(t("span")),He.append(t("a")),Pe.append(He),j.append(Pe),y.append(j),Oe.append(y);var Fe=t("div",{id:"rbro_document_properties_footer_settings"});g(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("footerSize"),"rbro_document_properties_footer_size"),j=t("div",{class:"rbroFormField"});var je=t("input",{id:"rbro_document_properties_footer_size",type:"number",autocomplete:"off"});je.addEventListener("change",function(Ye){var Ke=s.rb.getSelectedObject();if(Ke!==null){var Qe=new e(Ke.getId(),"footerSize",je.value,e.type.text,s.rb);s.rb.executeCommand(Qe)}}),D(je),j.append(je),y.append(j),Fe.append(y),g(y=t("div",{class:"rbroFormRow"}),this.rb.getLabel("footerDisplay"),"rbro_document_properties_footer_display"),j=t("div",{class:"rbroFormField"});var We=t("select",{id:"rbro_document_properties_footer_display"});We.append(t("option",{value:"always"},this.rb.getLabel("headerFooterDisplayAlways"))),We.append(t("option",{value:"not_on_first_page"},this.rb.getLabel("headerFooterDisplayNotOnFirstPage"))),We.addEventListener("change",function(Ye){var Ke=s.rb.getSelectedObject();if(Ke!==null){var Qe=new e(Ke.getId(),"footerDisplay",We.value,e.type.select,s.rb);s.rb.executeCommand(Qe)}}),j.append(We),y.append(j),Fe.append(y),Oe.append(Fe),a.append(Oe)}},{key:"updateDisplay",value:function(a){var s=this.rb.getSelectedObject();if(s!==null&&s instanceof Gt){for(var l in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(l)&&(a===null||l===a)){var y=this.propertyDescriptors[l],j=s.getValue(l);o(f(x.prototype),"setValue",this).call(this,y,j,!1)}x.updateVisibileRows(s,a)}}}],[{key:"updateVisibileRows",value:function(a,s){s!==null&&s!=="pageFormat"||(a.getValue("pageFormat")===Gt.pageFormat.userDefined?document.getElementById("rbro_document_properties_page_size_row").style.display="flex":document.getElementById("rbro_document_properties_page_size_row").style.display="none"),s!==null&&s!=="header"||(a.getValue("header")?document.getElementById("rbro_document_properties_header_settings").style.display="block":document.getElementById("rbro_document_properties_header_settings").style.display="none"),s!==null&&s!=="footer"||(a.getValue("footer")?document.getElementById("rbro_document_properties_footer_settings").style.display="block":document.getElementById("rbro_document_properties_footer_settings").style.display="none")}}]),x}(Tr),In=function(){function R(S,u){J(this,R),this.rootElement=S,this.rb=u}return L(R,[{key:"render",value:function(){var u=t("div",{id:"rbro_empty_detail_panel",class:"rbroEmptyDetailPanel rbroHidden"});u.append(t("div",{class:"rbroLogo"})),document.getElementById("rbro_detail_panel").append(u)}},{key:"destroy",value:function(){}},{key:"show",value:function(u){document.getElementById("rbro_empty_detail_panel").classList.remove("rbroHidden")}},{key:"hide",value:function(){document.getElementById("rbro_empty_detail_panel").classList.add("rbroHidden")}},{key:"isKeyEventDisabled",value:function(){return!1}},{key:"notifyEvent",value:function(u,b){}},{key:"updateErrors",value:function(){}}]),R}();function dn(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,y){if(l){if(typeof l=="string")return pn(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?pn(l,y):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var y=u.next();return a=y.done,y},e:function(y){s=!0,v=y},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function pn(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var kn=function(R){_(x,R);var S,u,b=(S=x,u=function(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch(v){return!1}}(),function(){var v,a=f(S);if(u){var s=f(this).constructor;v=Reflect.construct(a,arguments,s)}else v=a.apply(this,arguments);return p(this,v)});function x(v,a){var s;return J(this,x),(s=b.call(this,"rbro_parameter",G,v,a)).propertyDescriptors={name:{type:e.type.text,fieldId:"name"},type:{type:e.type.select,fieldId:"type"},arrayItemType:{type:e.type.select,fieldId:"array_item_type"},eval:{type:e.type.checkbox,fieldId:"eval"},nullable:{type:e.type.checkbox,fieldId:"nullable"},pattern:{type:e.type.text,fieldId:"pattern"},expression:{type:e.type.text,fieldId:"expression"},testData:{type:e.type.text,fieldId:"test_data"},testDataBoolean:{type:e.type.checkbox,fieldId:"test_data_boolean"},testDataImage:{type:e.type.file,fieldId:"test_data_image",rowId:"rbro_parameter_test_data_image_row",singleRowProperty:!1,rowProperties:["testDataImage","testDataImageFilename"]},testDataImageFilename:{type:e.type.filename,fieldId:"test_data_image_filename",rowId:"rbro_parameter_test_data_image_row",singleRowProperty:!1}},s.parameterTypeOptions=[],s}return L(x,[{key:"render",value:function(a){var s=this,l=t("div",{id:"rbro_parameter_panel",class:"rbroHidden"}),y=t("div",{id:"rbro_parameter_name_row",class:"rbroFormRow"});g(y,this.rb.getLabel("parameterName"),"rbro_parameter_name");var j=t("div",{class:"rbroFormField"}),V=t("input",{id:"rbro_parameter_name",autocomplete:"off"});V.addEventListener("input",function(rt){var ve=s.rb.getSelectedObject();if(ve!==null){var Ue=V.value;if(Ue!==ve.getName()){var Ge=new le("Rename parameter"),gt=new e(ve.getId(),"name",Ue,e.type.text,s.rb);Ge.addCommand(gt);for(var st=[],it=null,ct=ve.getParent();ct!==null;)it=ct,st.unshift(it),ct=it.getParent();ve.addUpdateTestDataCmdForChangedParameterName(Ue,st,Ge);var xt=null;if((xt=it!==null?it.getPanelItem():s.rb.getMainPanel().getParametersItem())!==null&&xt.getChildByNameExclude(ve.getName(),ve)===null&&xt.getChildByNameExclude(Ue,ve)===null){var Et,yt=dn(s.rb.getDocElements(!0));try{for(yt.s();!(Et=yt.n()).done;)Et.value.addCommandsForChangedParameterName(ve,Ue,Ge)}catch(dt){yt.e(dt)}finally{yt.f()}var _t,mt=dn(s.rb.getParameters());try{for(mt.s();!(_t=mt.n()).done;)_t.value.addCommandsForChangedParameterName(ve,Ue,Ge)}catch(dt){mt.e(dt)}finally{mt.f()}}s.rb.executeCommand(Ge)}}}),j.append(V),j.append(t("div",{id:"rbro_parameter_name_error",class:"rbroErrorMessage"})),y.append(j),l.append(y),g(y=t("div",{id:"rbro_parameter_type_row",class:"rbroFormRow"}),this.rb.getLabel("parameterType"),"rbro_parameter_type"),j=t("div",{class:"rbroFormField"});var Q=t("select",{id:"rbro_parameter_type"});if(Q.addEventListener("change",function(rt){var ve=s.rb.getSelectedObject();if(ve!==null){var Ue=new le("Set parameter type"),Ge=Q.value,gt=new e(ve.getId(),"type",Ge,e.type.select,s.rb);Ue.addCommand(gt),ve.addCommandsForChangedParameterType(Ge,Ue),s.rb.executeCommand(Ue)}}),j.append(Q),j.append(t("div",{id:"rbro_parameter_type_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var ie=t("div",{id:"rbro_parameter_type_nested_plus_info",class:"rbroInfo"});ie.innerHTML=this.rb.getLabel("plusFeatureInfoNestedParameter"),j.append(ie)}y.append(j),l.append(y),g(y=t("div",{id:"rbro_parameter_array_item_type_row",class:"rbroFormRow"}),this.rb.getLabel("parameterArrayItemType"),"rbro_parameter_array_item_type_row"),j=t("div",{class:"rbroFormField"});var be=t("select",{id:"rbro_parameter_array_item_type"});be.append(t("option",{value:"string"},this.rb.getLabel("parameterTypeString"))),be.append(t("option",{value:"number"},this.rb.getLabel("parameterTypeNumber"))),be.append(t("option",{value:"boolean"},this.rb.getLabel("parameterTypeBoolean"))),be.append(t("option",{value:"date"},this.rb.getLabel("parameterTypeDate"))),be.addEventListener("change",function(rt){var ve=s.rb.getSelectedObject();if(ve!==null){var Ue=new e(ve.getId(),"arrayItemType",be.value,e.type.select,s.rb);s.rb.executeCommand(Ue)}}),j.append(be),j.append(t("div",{id:"rbro_parameter_array_item_type_error",class:"rbroErrorMessage"})),y.append(j),l.append(y);var _e={};this.rb.getProperty("adminMode")||(_e.style="display: none");var we=t("div",_e);g(y=t("div",{id:"rbro_parameter_eval_row",class:"rbroFormRow"}),this.rb.getLabel("parameterEval"),"rbro_parameter_eval"),j=t("div",{class:"rbroFormField"});var Oe=t("input",{id:"rbro_parameter_eval",type:"checkbox"});Oe.addEventListener("change",function(rt){var ve=s.rb.getSelectedObject();if(ve!==null){var Ue=new e(ve.getId(),"eval",Oe.checked,e.type.checkbox,s.rb);s.rb.executeCommand(Ue)}}),j.append(Oe),y.append(j),we.append(y),l.append(we),g(y=t("div",{id:"rbro_parameter_nullable_row",class:"rbroFormRow"}),this.rb.getLabel("parameterNullable"),"rbro_parameter_nullable"),j=t("div",{class:"rbroFormField"});var Pe=t("input",{id:"rbro_parameter_nullable",type:"checkbox"});Pe.addEventListener("change",function(rt){var ve=s.rb.getSelectedObject();if(ve!==null){var Ue=new e(ve.getId(),"nullable",Pe.checked,e.type.checkbox,s.rb);s.rb.executeCommand(Ue)}}),j.append(Pe),y.append(j),l.append(y),g(y=t("div",{id:"rbro_parameter_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("parameterPattern"),"rbro_parameter_pattern"),j=t("div",{class:"rbroFormField"});var Be=t("div",{class:"rbroSplit rbroSelector"}),He=t("input",{id:"rbro_parameter_pattern",autocomplete:"off"});He.addEventListener("input",function(rt){var ve=s.rb.getSelectedObject();if(ve!==null){var Ue=new e(ve.getId(),"pattern",He.value,e.type.text,s.rb);s.rb.executeCommand(Ue)}}),Be.append(He);var Fe=t("div",{class:"rbroButton rbroRoundButton rbroIcon-select"});Fe.addEventListener("click",function(rt){var ve=s.rb.getSelectedObject();if(ve!==null){var Ue,Ge=ve.getValue("type");Ue=(Ge===G.type.simpleArray?ve.getValue("arrayItemType"):Ge)===G.type.date?s.rb.getProperty("patternDates"):s.rb.getProperty("patternNumbers"),s.rb.getPopupWindow().show(Ue,ve.getId(),"rbro_parameter_pattern","pattern",Dt.type.pattern)}}),Be.append(Fe),j.append(Be),j.append(t("div",{id:"rbro_parameter_pattern_error",class:"rbroErrorMessage"})),y.append(j),l.append(y),g(y=t("div",{id:"rbro_parameter_expression_row",class:"rbroFormRow"}),this.rb.getLabel("parameterExpression"),"rbro_parameter_expression"),j=t("div",{class:"rbroFormField"}),Be=t("div",{class:"rbroSplit rbroSelector"});var je=t("textarea",{id:"rbro_parameter_expression",rows:"1"});je.addEventListener("input",function(rt){var ve=s.rb.getSelectedObject();if(ve!==null){var Ue=new e(ve.getId(),"expression",je.value,e.type.text,s.rb);s.rb.executeCommand(Ue)}}),St(je),Be.append(je),(Fe=t("div",{id:"rbro_parameter_expression_param_button",class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(rt){var ve,Ue,Ge=s.rb.getSelectedObject();Ge!==null&&(Ge.getValue("type")===G.type.sum||Ge.getValue("type")===G.type.average?(ve=s.rb.getArrayFieldParameterItems([G.type.number]),Ue=Dt.type.parameterSet):(ve=s.rb.getParameterItems(Ge),Ue=Dt.type.parameterAppend),s.rb.getPopupWindow().show(ve,Ge.getId(),"rbro_parameter_expression","expression",Ue))}),Be.append(Fe),j.append(Be),j.append(t("div",{id:"rbro_parameter_expression_error",class:"rbroErrorMessage"})),y.append(j),l.append(y);var We=t("div",{id:"rbro_parameter_test_data_container"});g(y=t("div",{id:"rbro_parameter_test_data_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data"),j=t("div",{class:"rbroFormField"});var Ye=t("input",{id:"rbro_parameter_test_data",autocomplete:"off"});Ye.addEventListener("change",function(rt){var ve=s.rb.getSelectedObject();if(ve!==null){var Ue=new e(ve.getId(),"testData",Ye.value,e.type.text,s.rb);s.rb.executeCommand(Ue)}}),j.append(Ye),j.append(t("div",{id:"rbro_parameter_test_data_error",class:"rbroErrorMessage"})),y.append(j),We.append(y),g(y=t("div",{id:"rbro_parameter_edit_test_data_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData")),j=t("div",{class:"rbroFormField"});var Ke=t("button",{id:"rbro_parameter_edit_test_data",class:"rbroButton rbroActionButton"});Ke.append(t("span",{},this.rb.getLabel("parameterEditTestData"))),Ke.append(t("span",{class:"rbroIcon-edit"})),Ke.addEventListener("click",function(rt){var ve=s.rb.getSelectedObject();ve!==null&&(ve.getParameterFields().length>0?s.rb.getPopupWindow().show(null,ve.getId(),"","testData",Dt.type.data,null,ve,null,null,null):ve.getValue("type")===G.type.map?alert(s.rb.getLabel("parameterEditTestDataMapNoFields")):alert(s.rb.getLabel("parameterEditTestDataArrayNoFields")))}),j.append(Ke),j.append(t("div",{id:"rbro_parameter_edit_test_data_error",class:"rbroErrorMessage"})),y.append(j),We.append(y),g(y=t("div",{id:"rbro_parameter_test_data_boolean_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_boolean"),j=t("div",{class:"rbroFormField"});var Qe=t("input",{id:"rbro_parameter_test_data_boolean",type:"checkbox"});Qe.addEventListener("change",function(rt){var ve=Qe.checked,Ue=rb.getSelectedObject();if(Ue!==null){var Ge=new e(Ue.getId(),"testDataBoolean",ve,e.type.checkbox,s.rb);s.rb.executeCommand(Ge)}}),j.append(Qe),y.append(j),We.append(y),g(y=t("div",{id:"rbro_parameter_test_data_image_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_image"),j=t("div",{class:"rbroFormField"});var ut=t("input",{id:"rbro_parameter_test_data_image",type:"file"});ut.addEventListener("change",function(rt){var ve=rt.target.files;if(ve&&ve[0]){var Ue=new FileReader,Ge=s.rb,gt=ve[0].name;Ue.onload=function(st){var it=new le("Load image",Ge),ct=Ge.getSelectedObject();ct!==null&&(it.addSelection(ct.getId()),it.addCommand(new e(ct.getId(),"testDataImage",st.target.result,e.type.file,Ge)),it.addCommand(new e(ct.getId(),"testDataImageFilename",gt,e.type.filename,Ge))),it.isEmpty()||Ge.executeCommand(it)},Ue.onerror=function(st){alert(Ge.getLabel("docElementLoadImageErrorMsg"))},Ue.readAsDataURL(ve[0])}}),j.append(ut);var lt=t("div",{id:"rbro_parameter_test_data_image_filename_container",class:"rbroSplit rbroHidden"});lt.append(t("div",{id:"rbro_parameter_test_data_image_filename"}));var at=t("div",{id:"rbro_parameter_test_data_image_filename_clear",class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});at.addEventListener("click",function(rt){ut.value="";var ve=new le("Clear image",s.rb),Ue=rb.getSelectedObject();Ue!==null&&(ve.addSelection(Ue.getId()),ve.addCommand(new e(Ue.getId(),"testDataImage","",e.type.file,s.rb)),ve.addCommand(new e(Ue.getId(),"testDataImageFilename","",e.type.filename,s.rb))),ve.isEmpty()||s.rb.executeCommand(ve)}),lt.append(at),j.append(lt),j.append(t("div",{id:"rbro_parameter_test_data_image_error",class:"rbroErrorMessage"})),j.append(t("div",{class:"rbroInfo"},this.rb.getLabel("parameterTestDataImageInfo"))),y.append(j),We.append(y),l.append(We),document.getElementById("rbro_detail_panel").append(l)}},{key:"updateVisibileRows",value:function(a,s){var l=a.getValue("type"),y=l===G.type.simpleArray?a.getValue("arrayItemType"):l,j=a.getValue("showOnlyNameType"),V=null;if(a.getPanelItem()!==null&&a.getPanelItem().getParent().getData()instanceof G&&(V=a.getPanelItem().getParent().getData()),s===null){var Q=a.getValue("editable");document.getElementById("rbro_parameter_name").disabled=!Q,document.getElementById("rbro_parameter_type").disabled=!Q,document.getElementById("rbro_parameter_eval").disabled=!Q,document.getElementById("rbro_parameter_nullable").disabled=!Q,document.getElementById("rbro_parameter_pattern").disabled=!Q,document.getElementById("rbro_parameter_expression").disabled=!Q,Q?(document.querySelector("#rbro_parameter_name_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_type_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_eval_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_nullable_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_pattern_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_expression_row label").classList.remove("rbroDisabled")):(document.querySelector("#rbro_parameter_name_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_type_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_eval_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_nullable_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_pattern_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_expression_row label").classList.add("rbroDisabled"))}if(s!==null&&s!=="type"||(l===G.type.simpleArray?document.getElementById("rbro_parameter_array_item_type_row").removeAttribute("style"):document.getElementById("rbro_parameter_array_item_type_row").style.display="none",l===G.type.string||l===G.type.number||l===G.type.boolean||l===G.type.date||l===G.type.array||l===G.type.simpleArray||l===G.type.map?document.getElementById("rbro_parameter_nullable_row").removeAttribute("style"):document.getElementById("rbro_parameter_nullable_row").style.display="none"),s!==null&&s!=="type"&&s!=="arrayItemType"||(y!==G.type.number&&y!==G.type.date&&y!==G.type.sum&&y!==G.type.average||j?document.getElementById("rbro_parameter_pattern_row").style.display="none":document.getElementById("rbro_parameter_pattern_row").removeAttribute("style")),s!==null&&s!=="type"&&s!=="eval"||(l===G.type.sum||l===G.type.average||j?(document.getElementById("rbro_parameter_eval_row").style.display="none",document.getElementById("rbro_parameter_test_data_container").style.display="none"):(l===G.type.image||l===G.type.array||l===G.type.simpleArray||l===G.type.map?document.getElementById("rbro_parameter_eval_row").style.display="none":document.getElementById("rbro_parameter_eval_row").removeAttribute("style"),V!==null||a.getValue("eval")&&(l===G.type.string||l===G.type.number||l===G.type.boolean||l===G.type.date)?document.getElementById("rbro_parameter_test_data_container").style.display="none":document.getElementById("rbro_parameter_test_data_container").removeAttribute("style"),l===G.type.array||l===G.type.simpleArray||l===G.type.map?document.getElementById("rbro_parameter_edit_test_data_row").removeAttribute("style"):document.getElementById("rbro_parameter_edit_test_data_row").style.display="none",l===G.type.string||l===G.type.number||l===G.type.date?document.getElementById("rbro_parameter_test_data_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_row").style.display="none",l===G.type.boolean?document.getElementById("rbro_parameter_test_data_boolean_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_boolean_row").style.display="none",l===G.type.image?document.getElementById("rbro_parameter_test_data_image_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_image_row").style.display="none"),this.rb.getProperty("showPlusFeaturesInfo")&&(V===null||l!==G.type.map&&l!==G.type.array?document.getElementById("rbro_parameter_type_nested_plus_info").style.display="none":document.getElementById("rbro_parameter_type_nested_plus_info").removeAttribute("style")),(!a.getValue("eval")||l!==G.type.string&&l!==G.type.number&&l!==G.type.boolean&&l!==G.type.date)&&l!==G.type.sum&&l!==G.type.average||j?document.getElementById("rbro_parameter_expression_row").style.display="none":document.getElementById("rbro_parameter_expression_row").removeAttribute("style")),s===null){var ie=[],be=V!==null&&V.getValue("type")===G.type.array;ie.push({value:"string",label:this.rb.getLabel("parameterTypeString")}),ie.push({value:"number",label:this.rb.getLabel("parameterTypeNumber")}),ie.push({value:"boolean",label:this.rb.getLabel("parameterTypeBoolean")}),ie.push({value:"date",label:this.rb.getLabel("parameterTypeDate")}),ie.push({value:"image",label:this.rb.getLabel("parameterTypeImage")}),(V===null||this.rb.getProperty("showPlusFeatures"))&&ie.push({value:"array",label:this.rb.getLabel("parameterTypeArray")}),ie.push({value:"simple_array",label:this.rb.getLabel("parameterTypeSimpleArray")}),(V===null||this.rb.getProperty("showPlusFeatures"))&&ie.push({value:"map",label:this.rb.getLabel("parameterTypeMap")}),be||(ie.push({value:"sum",label:this.rb.getLabel("parameterTypeSum")}),ie.push({value:"average",label:this.rb.getLabel("parameterTypeAverage")}));var _e=!1;if(ie.length!==this.parameterTypeOptions.length)_e=!0;else for(var we=0;we<ie.length;we++)if(ie[we].value!==this.parameterTypeOptions[we].value){_e=!0;break}if(_e){var Oe=document.getElementById("rbro_parameter_type");d(Oe);for(var Pe=0;Pe<ie.length;Pe++){var Be=ie[Pe];Oe.append(t("option",{value:Be.value},Be.label))}this.parameterTypeOptions=ie}}}},{key:"updateDisplay",value:function(a){var s=this.rb.getSelectedObject();if(s!==null&&s instanceof G){for(var l in this.updateVisibileRows(s,a),this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(l)&&(a===null||l===a)){var y=this.propertyDescriptors[l],j=s.getValue(l);o(f(x.prototype),"setValue",this).call(this,y,j,!1)}a!==null&&a!=="type"||(s.getValue("type")===G.type.date?document.getElementById("rbro_parameter_test_data").setAttribute("placeholder",this.rb.getLabel("parameterTestDataDatePattern")):document.getElementById("rbro_parameter_test_data").setAttribute("placeholder","")),x.updateAutosizeInputs(a)}}}],[{key:"updateAutosizeInputs",value:function(a){a!==null&&a!=="expression"||St.update(document.getElementById("rbro_parameter_expression"))}}]),x}(Tr);function hn(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,y){if(l){if(typeof l=="string")return fn(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?fn(l,y):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var y=u.next();return a=y.done,y},e:function(y){s=!0,v=y},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function fn(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var Sn=function(){function R(S,u,b,x,v,a,s){J(this,R),this.rootElement=S,this.rb=s,this.headerItem=new Le("band",null,u,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("header")},s),this.documentItem=new Le("band",null,b,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1},s),this.footerItem=new Le("band",null,x,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("footer")},s),this.parametersItem=new Le("parameter",null,v,{hasChildren:!0,showAdd:s.getProperty("adminMode"),showDelete:!1,hasDetails:!1},s),this.stylesItem=new Le("style",null,a,{hasChildren:!0,showAdd:!0,showDelete:!1,hasDetails:!1},s),this.documentPropertiesItem=new Le("documentProperties",null,s.getDocumentProperties(),{showDelete:!1,hasDetails:!0},s),this.items=[this.headerItem,this.documentItem,this.footerItem,this.parametersItem,this.stylesItem,this.documentPropertiesItem],this.dragMainPanelSizer=!1,this.dragMainPanelSizerStartX=0,this.mainPanelWidth=230,this.mainPanelSizerWidth=3,u.setPanelItem(this.headerItem),b.setPanelItem(this.documentItem),x.setPanelItem(this.footerItem),v.setPanelItem(this.parametersItem),a.setPanelItem(this.stylesItem)}return L(R,[{key:"getHeaderItem",value:function(){return this.headerItem}},{key:"getDocumentItem",value:function(){return this.documentItem}},{key:"getFooterItem",value:function(){return this.footerItem}},{key:"getParametersItem",value:function(){return this.parametersItem}},{key:"getStylesItem",value:function(){return this.stylesItem}},{key:"getContainerByItem",value:function(u){for(;u!==null;){if(u.getData()instanceof r)return u.getData();u=u.getParent()}return null}},{key:"getDocumentPropertiesItem",value:function(){return this.documentPropertiesItem}},{key:"render",value:function(){var u=this,b=document.getElementById("rbro_main_panel_list");this.appendChildren(b,this.items),document.getElementById("rbro_main_panel_sizer").addEventListener("mousedown",function(x){u.dragMainPanelSizer=!0,u.dragMainPanelSizerStartX=x.pageX}),this.updateMainPanelWidth(this.mainPanelWidth)}},{key:"appendChildren",value:function(u,b){var x,v=hn(b);try{for(v.s();!(x=v.n()).done;){var a=x.value;u.append(a.getElement());var s=a.getChildren();s.length>0&&this.appendChildren(u,s)}}catch(l){v.e(l)}finally{v.f()}}},{key:"processMouseMove",value:function(u){if(this.dragMainPanelSizer){var b=this.mainPanelWidth+(u.pageX-this.dragMainPanelSizerStartX);return b=this.checkMainPanelWidth(b),this.updateMainPanelWidth(b),!0}return!1}},{key:"mouseUp",value:function(u){this.dragMainPanelSizer&&(this.dragMainPanelSizer=!1,this.mainPanelWidth=this.mainPanelWidth+(u.pageX-this.dragMainPanelSizerStartX),this.mainPanelWidth=this.checkMainPanelWidth(this.mainPanelWidth),this.updateMainPanelWidth(this.mainPanelWidth))}},{key:"getTotalPanelWidth",value:function(){var u=this.mainPanelWidth+this.mainPanelSizerWidth+390;return this.rb.getProperty("menuSidebar")&&(u+=92),u}},{key:"updateMainPanelWidth",value:function(u){document.getElementById("rbro_main_panel").style.width=u+"px",document.getElementById("rbro_main_panel_sizer").style.left=u+"px",document.getElementById("rbro_detail_panel").style.left=u+this.mainPanelSizerWidth+"px";var b=u+this.mainPanelSizerWidth+390;this.rb.getProperty("menuSidebar")&&(b+=92,document.getElementById("reportbro").querySelector(".rbroLogo").style.width=u+"px"),document.getElementById("rbro_document_panel").style.width="calc(100% - ".concat(b,"px)")}},{key:"checkMainPanelWidth",value:function(u){return u<150?150:u>500?500:u}},{key:"showHeader",value:function(){this.headerItem.show()}},{key:"hideHeader",value:function(){this.headerItem.hide()}},{key:"showFooter",value:function(){this.footerItem.show()}},{key:"hideFooter",value:function(){this.footerItem.hide()}},{key:"clearAll",value:function(){var u,b=hn(this.items);try{for(b.s();!(u=b.n()).done;)u.value.clear()}catch(x){b.e(x)}finally{b.f()}}}]),R}(),On=function(){function R(S,u){J(this,R),this.rootElement=S,this.rb=u}return L(R,[{key:"render",value:function(){var u,b=this,x=this.rb.getProperty("menuShowButtonLabels")?"":"rbroHidden",v=document.getElementById("rbro_menu_panel"),a=t("div",{class:"rbroToolButtonContainer"});(u=t("button",{id:"rbro_menu_save",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuSaveTip")})).append(t("span",{class:"rbroIcon-save"})),u.append(t("span",{class:x},this.rb.getLabel("menuSave"))),u.addEventListener("click",function(ve){b.rb.save()}),this.rb.getProperty("saveCallback")||this.rb.getProperty("localStorageReportKey")||(u.style.display="none"),a.append(u),this.rb.getProperty("menuShowDebug")&&((u=t("button",{id:"rbro_menu_log_report",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuLogReportTip")})).append(t("span",{class:"rbroIcon-console"})),u.append(t("span",{class:"rbroHidden"},this.rb.getLabel("menuLogReport"))),u.addEventListener("click",function(ve){console.log(JSON.stringify(b.rb.getReport()))}),a.append(u),(u=t("button",{id:"rbro_menu_insert_report",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuInsertReportTip")})).append(t("span",{class:"rbroIcon-insert-report"})),u.append(t("span",{class:"rbroHidden"},this.rb.getLabel("menuInsertReport"))),u.addEventListener("click",function(ve){var Ue=prompt("Paste report template here to load report");if(Ue)try{var Ge=JSON.parse(Ue);h(Ge.docElements)==="object"&&h(Ge.parameters)==="object"&&h(Ge.styles)==="object"&&h(Ge.documentProperties)==="object"?(b.rb.load(Ge),b.rb.setModified(!0)):alert("Invalid report template data")}catch(gt){alert("Invalid report template data")}}),a.append(u)),(u=t("button",{id:"rbro_menu_undo",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuUndoTip")})).append(t("span",{class:"rbroIcon-undo"})),u.append(t("span",{class:x},this.rb.getLabel("menuUndo"))),u.addEventListener("click",function(ve){b.rb.undoCommand()}),a.append(u),(u=t("button",{id:"rbro_menu_redo",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuRedoTip")})).append(t("span",{class:"rbroIcon-redo"})),u.append(t("span",{class:x},this.rb.getLabel("menuRedo"))),u.addEventListener("click",function(ve){b.rb.redoCommand()}),a.append(u),(u=t("button",{id:"rbro_menu_preview",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuPreviewTip")})).append(t("span",{class:"rbroIcon-play"})),u.append(t("span",{class:x},this.rb.getLabel("menuPreview"))),u.addEventListener("click",function(ve){b.rb.preview()}),a.append(u),v.append(a);var s,l=t("div",{class:"rbroElementButtonContainer"}),y=t("div",{id:"rbo_menu_elements",class:"rbroElementButtons"});(s=t("div",{id:"rbro_menu_element_text",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementText")})).append(t("span",{class:"rbroIcon-text"})),s.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",b.rb.startBrowserDrag("docElement",se.type.text,""),ve.stopPropagation()}),s.addEventListener("touchstart",function(ve){b.rb.startBrowserDrag("docElement",se.type.text,""),ve.preventDefault()}),s.addEventListener("touchmove",function(ve){b.rb.getDocument().processDragover(ve)}),s.addEventListener("touchend",function(ve){b.rb.getDocument().processDrop(ve)}),y.append(s),(s=t("div",{id:"rbro_menu_element_line",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementLine")})).append(t("span",{class:"rbroIcon-line"})),s.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",b.rb.startBrowserDrag("docElement",se.type.line,""),ve.stopPropagation()}),s.addEventListener("touchstart",function(ve){b.rb.startBrowserDrag("docElement",se.type.line,""),ve.preventDefault()}),s.addEventListener("touchmove",function(ve){b.rb.getDocument().processDragover(ve)}),s.addEventListener("touchend",function(ve){b.rb.getDocument().processDrop(ve)}),y.append(s),(s=t("div",{id:"rbro_menu_element_image",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementImage")})).append(t("span",{class:"rbroIcon-image"})),s.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",b.rb.startBrowserDrag("docElement",se.type.image,""),ve.stopPropagation()}),s.addEventListener("touchstart",function(ve){b.rb.startBrowserDrag("docElement",se.type.image,""),ve.preventDefault()}),s.addEventListener("touchmove",function(ve){b.rb.getDocument().processDragover(ve)}),s.addEventListener("touchend",function(ve){b.rb.getDocument().processDrop(ve)}),y.append(s),(s=t("div",{id:"rbro_menu_element_bar_code",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementBarCode")})).append(t("span",{class:"rbroIcon-barcode"})),s.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",b.rb.startBrowserDrag("docElement",se.type.barCode,""),ve.stopPropagation()}),s.addEventListener("touchstart",function(ve){b.rb.startBrowserDrag("docElement",se.type.barCode,""),ve.preventDefault()}),s.addEventListener("touchmove",function(ve){b.rb.getDocument().processDragover(ve)}),s.addEventListener("touchend",function(ve){b.rb.getDocument().processDrop(ve)}),y.append(s),(s=t("div",{id:"rbro_menu_element_table",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementTable")})).append(t("span",{class:"rbroIcon-table"})),s.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",b.rb.startBrowserDrag("docElement",se.type.table,""),ve.stopPropagation()}),s.addEventListener("touchstart",function(ve){b.rb.startBrowserDrag("docElement",se.type.table,""),ve.preventDefault()}),s.addEventListener("touchmove",function(ve){b.rb.getDocument().processDragover(ve)}),s.addEventListener("touchend",function(ve){b.rb.getDocument().processDrop(ve)}),y.append(s),(s=t("div",{id:"rbro_menu_element_frame",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementFrame")})).append(t("span",{class:"rbroIcon-frame"})),s.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",b.rb.startBrowserDrag("docElement",se.type.frame,""),ve.stopPropagation()}),s.addEventListener("touchstart",function(ve){b.rb.startBrowserDrag("docElement",se.type.frame,""),ve.preventDefault()}),s.addEventListener("touchmove",function(ve){b.rb.getDocument().processDragover(ve)}),s.addEventListener("touchend",function(ve){b.rb.getDocument().processDrop(ve)}),y.append(s),(s=t("div",{id:"rbro_menu_element_section",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementSection")})).append(t("span",{class:"rbroIcon-section"})),s.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",b.rb.startBrowserDrag("docElement",se.type.section,""),ve.stopPropagation()}),s.addEventListener("touchstart",function(ve){b.rb.startBrowserDrag("docElement",se.type.section,""),ve.preventDefault()}),s.addEventListener("touchmove",function(ve){b.rb.getDocument().processDragover(ve)}),s.addEventListener("touchend",function(ve){b.rb.getDocument().processDrop(ve)}),y.append(s),(s=t("div",{id:"rbro_menu_element_page_break",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementPageBreak")})).append(t("span",{class:"rbroIcon-page-break"})),s.addEventListener("dragstart",function(ve){ve.dataTransfer.setData("text/plain",""),ve.dataTransfer.effectAllowed="copy",b.rb.startBrowserDrag("docElement",se.type.pageBreak,""),ve.stopPropagation()}),s.addEventListener("touchstart",function(ve){b.rb.startBrowserDrag("docElement",se.type.pageBreak,""),ve.preventDefault()}),s.addEventListener("touchmove",function(ve){b.rb.getDocument().processDragover(ve)}),s.addEventListener("touchend",function(ve){b.rb.getDocument().processDrop(ve)}),y.append(s),l.append(y);var j=t("div",{class:"rbroActionButtons"}),V=t("div",{id:"rbro_menu_align",style:"display: none;"}),Q=t("button",{id:"rbro_menu_align_left",class:"rbroButton rbroActionButton rbroIcon-align-left",type:"button",title:this.rb.getLabel("menuAlignLeft")});Q.addEventListener("click",function(ve){b.rb.alignSelections(pe.alignment.left)}),V.append(Q);var ie=t("button",{id:"rbro_menu_align_center",class:"rbroButton rbroActionButton rbroIcon-align-center",type:"button",title:this.rb.getLabel("menuAlignCenter")});ie.addEventListener("click",function(ve){b.rb.alignSelections(pe.alignment.center)}),V.append(ie);var be=t("button",{id:"rbro_menu_align_right",class:"rbroButton rbroActionButton rbroIcon-align-right",type:"button",title:this.rb.getLabel("menuAlignRight")});be.addEventListener("click",function(ve){b.rb.alignSelections(pe.alignment.right)}),V.append(be),j.append(V);var _e=t("div",{id:"rbro_menu_valign",style:"display: none;"}),we=t("button",{id:"rbro_menu_align_top",class:"rbroButton rbroActionButton rbroIcon-align-top",type:"button",title:this.rb.getLabel("menuAlignTop")});we.addEventListener("click",function(ve){b.rb.alignSelections(pe.alignment.top)}),_e.append(we);var Oe=t("button",{id:"rbro_menu_align_middle",class:"rbroButton rbroActionButton rbroIcon-align-middle",type:"button",title:this.rb.getLabel("menuAlignMiddle")});Oe.addEventListener("click",function(ve){b.rb.alignSelections(pe.alignment.middle)}),_e.append(Oe);var Pe=t("button",{id:"rbro_menu_align_bottom",class:"rbroButton rbroActionButton rbroIcon-align-bottom",type:"button",title:this.rb.getLabel("menuAlignBottom")});Pe.addEventListener("click",function(ve){b.rb.alignSelections(pe.alignment.bottom)}),_e.append(Pe),j.append(_e);var Be=t("div",{id:"rbro_menu_column_actions",style:"display: none;"}),He=t("button",{id:"rbro_menu_column_add_left",class:"rbroButton rbroActionButton rbroIcon-column-add-left",type:"button",title:this.rb.getLabel("menuColumnAddLeft")});He.addEventListener("click",function(ve){var Ue=b.rb.getSelectedObject();Ue instanceof zt&&Ue.insertColumn(!0)}),Be.append(He);var Fe=t("button",{id:"rbro_menu_column_add_right",class:"rbroButton rbroActionButton rbroIcon-column-add-right",type:"button",title:this.rb.getLabel("menuColumnAddRight")});Fe.addEventListener("click",function(ve){var Ue=b.rb.getSelectedObject();Ue instanceof zt&&Ue.insertColumn(!1)}),Be.append(Fe);var je=t("button",{id:"rbro_menu_column_delete",class:"rbroButton rbroActionButton rbroIcon-column-delete",type:"button",title:this.rb.getLabel("menuColumnDelete")});je.addEventListener("click",function(ve){var Ue=b.rb.getSelectedObject();Ue instanceof zt&&Ue.deleteColumn()}),Be.append(je),j.append(Be);var We=t("div",{id:"rbro_menu_row_actions",style:"display: none;"}),Ye=t("button",{id:"rbro_menu_row_add_above",class:"rbroButton rbroActionButton rbroIcon-row-add-above",type:"button",title:this.rb.getLabel("menuRowAddAbove")});Ye.addEventListener("click",function(ve){var Ue=b.rb.getSelectedObject();Ue instanceof zt&&Ue.getParent()!==null&&Ue.getParent().insertRow(!0)}),We.append(Ye);var Ke=t("button",{id:"rbro_menu_row_add_below",class:"rbroButton rbroActionButton rbroIcon-row-add-below",type:"button",title:this.rb.getLabel("menuRowAddBelow")});Ke.addEventListener("click",function(ve){var Ue=b.rb.getSelectedObject();Ue instanceof zt&&Ue.getParent()!==null&&Ue.getParent().insertRow(!1)}),We.append(Ke);var Qe=t("button",{id:"rbro_menu_row_delete",class:"rbroButton rbroActionButton rbroIcon-row-delete",type:"button",title:this.rb.getLabel("menuRowDelete")});Qe.addEventListener("click",function(ve){var Ue=b.rb.getSelectedObject();Ue instanceof zt&&Ue.getParent()!==null&&Ue.getParent().deleteRow()}),We.append(Qe),j.append(We);var ut=t("div",{id:"rbro_menu_zoom",class:"rbroZoom"});ut.append(t("span",{id:"rbro_menu_zoom_level",class:"rbroZoomLevel"}));var lt=t("button",{id:"rbro_menu_zoom_in",class:"rbroButton rbroRoundButton rbroZoomButton rbroIcon-plus"+(this.rb.getDocument().isZoomInPossible()?"":" rbroButtonInactive"),type:"button",title:this.rb.getLabel("menuZoomIn")});lt.addEventListener("click",function(ve){b.rb.getDocument().zoomIn()}),ut.append(lt);var at=t("button",{id:"rbro_menu_zoom_out",class:"rbroButton rbroRoundButton rbroZoomButton rbroIcon-minus"+(this.rb.getDocument().isZoomOutPossible()?"":" rbroButtonInactive"),type:"button",title:this.rb.getLabel("menuZoomOut")});at.addEventListener("click",function(ve){b.rb.getDocument().zoomOut()}),ut.append(at),j.append(ut);var rt=t("button",{id:"rbro_menu_toggle_grid",class:"rbroButton rbroGridButton rbroActionButton rbroIcon-grid"+(this.rb.getProperty("showGrid")?" rbroButtonActive":""),type:"button",title:this.rb.getLabel("menuToggleGrid")});rt.addEventListener("click",function(ve){rt.classList.toggle("rbroButtonActive"),b.rb.getDocument().toggleGrid()}),j.append(rt),l.append(j),v.append(l)}},{key:"updateZoomButtons",value:function(u,b){u?document.getElementById("rbro_menu_zoom_in").removeAttribute("disabled"):document.getElementById("rbro_menu_zoom_in").setAttribute("disabled","disabled"),b?document.getElementById("rbro_menu_zoom_out").removeAttribute("disabled"):document.getElementById("rbro_menu_zoom_out").setAttribute("disabled","disabled")}}]),R}();function nt(R,S){var u=typeof Symbol!="undefined"&&R[Symbol.iterator]||R["@@iterator"];if(!u){if(Array.isArray(R)||(u=function(l,y){if(l){if(typeof l=="string")return mn(l,y);var j=Object.prototype.toString.call(l).slice(8,-1);return j==="Object"&&l.constructor&&(j=l.constructor.name),j==="Map"||j==="Set"?Array.from(l):j==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(j)?mn(l,y):void 0}}(R))||S&&R&&typeof R.length=="number"){u&&(R=u);var b=0,x=function(){};return{s:x,n:function(){return b>=R.length?{done:!0}:{done:!1,value:R[b++]}},e:function(y){throw y},f:x}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var v,a=!0,s=!1;return{s:function(){u=u.call(R)},n:function(){var y=u.next();return a=y.done,y},e:function(y){s=!0,v=y},f:function(){try{a||u.return==null||u.return()}finally{if(s)throw v}}}}function mn(R,S){(S==null||S>R.length)&&(S=R.length);for(var u=0,b=new Array(S);u<S;u++)b[u]=R[u];return b}var Pn=function(){function R(S,u){var b=this;if(J(this,R),this.element=S,this.nextId=1,this.locale=_n[u&&u.localeKey||"en_us"],u&&u.locale&&Object.assign(this.locale,u.locale),this.properties={additionalFonts:[],adminMode:!0,cmdExecutedCallback:null,colors:["#000000","#444444","#666666","#999999","#cccccc","#eeeeee","#f3f3f3","#ffffff","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#0000ff","#9900ff","#ff00ff","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#990000","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47","#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"],defaultFont:pe.font.helvetica,enableSpreadsheet:!0,fontSizes:[4,5,6,7,8,9,10,11,12,13,14,15,16,18,20,22,24,26,28,32,36,40,44,48,54,60,66,72,80],fonts:[{name:"Courier",value:pe.font.courier},{name:"Helvetica",value:pe.font.helvetica},{name:"Times New Roman",value:pe.font.times}],highlightUnusedParameters:!1,localStorageReportKey:null,menuShowButtonLabels:!1,menuShowDebug:!1,menuSidebar:!1,patternAdditionalDates:[],patternAdditionalNumbers:[],patternCurrencySymbol:"$",patternDates:[{name:"d.M.yyyy",description:this.locale.patternDate1},{name:"d.M.yy, H:mm",description:this.locale.patternDate2},{name:"d/MMM/yyyy",description:this.locale.patternDate3},{name:"MM/dd/yyyy",description:this.locale.patternDate4}],patternLocale:"en",patternNumberGroupSymbol:"",patternNumbers:[{name:"#,##0",description:this.locale.patternNumber1},{name:"0.000",description:this.locale.patternNumber2},{name:"0.00##",description:this.locale.patternNumber3},{name:"#,##0.00",description:this.locale.patternNumber4},{name:"$ #,##0.00",description:this.locale.patternNumber5}],reportServerBasicAuth:null,reportServerHeaders:{},reportServerTimeout:2e4,reportServerUrl:"https://www.reportbro.com/report/run",reportServerUrlCrossDomain:!1,requestCallback:null,saveCallback:null,selectCallback:null,showGrid:!0,showPlusFeatures:!0,showPlusFeaturesInfo:!0,theme:""},u)for(var x in u)this.properties.hasOwnProperty(x)&&(this.properties[x]=u[x]);this.properties.additionalFonts.length>0&&(this.properties.fonts=this.properties.fonts.concat(this.properties.additionalFonts));var v,a=!1,s=nt(this.properties.fonts);try{for(s.s();!(v=s.n()).done;){var l=v.value;if(this.properties.defaultFont===l.value){a=!0;break}}}catch(y){s.e(y)}finally{s.f()}if(a||(this.properties.fonts.length>0?this.properties.defaultFont=this.properties.fonts[0].value:this.properties.defaultFont=""),this.properties.patternAdditionalDates.length>0&&(this.properties.patternDates=this.properties.patternDates.concat(this.properties.patternAdditionalDates)),this.properties.patternAdditionalNumbers.length>0&&(this.properties.patternNumbers=this.properties.patternNumbers.concat(this.properties.patternAdditionalNumbers)),!this.validateProperties(this.properties))throw"Invalid properties for ReportBro instance, check console error log for further details";this.document=new en(S,this.properties.showGrid,this),this.popupWindow=new Dt(S,this),this.docElements=[],this.headerBand=new P(P.bandType.header,!1,"","",this),this.contentBand=new P(P.bandType.content,!1,"","",this),this.footerBand=new P(P.bandType.footer,!1,"","",this),this.parameterContainer=new r("0_parameters",this.getLabel("parameters"),this),this.styleContainer=new r("0_styles",this.getLabel("styles"),this),this.documentProperties=new Gt(this),this.clipboardElements=[],this.mainPanel=new Sn(S,this.headerBand,this.contentBand,this.footerBand,this.parameterContainer,this.styleContainer,this),this.menuPanel=new On(S,this),this.activeDetailPanel="none",this.detailPanels={none:new In(S,this),docElement:new xn(S,this),parameter:new kn(S,this),style:new kr(S,this),documentProperties:new Cn(S,this)},this.commandStack=[],this.lastCommandIndex=-1,this.modified=!1,this.selectionSinceLastCommand=!1,this.objectMap={},this.containers=[this.headerBand,this.contentBand,this.footerBand],this.selections=[],this.reportKey=null,this.browserDragType="",this.browserDragId="",this.documentProperties.setPanelItem(this.mainPanel.getDocumentPropertiesItem()),this.initObjectMap(),this.keydownEventListener=function(y){if(!b.detailPanels[b.activeDetailPanel].isKeyEventDisabled()){if(y.metaKey||y.ctrlKey)switch(y.which){case 67:if(!(y.target instanceof HTMLInputElement||y.target instanceof HTMLTextAreaElement)){var j,V,Q,ie=!1,be={},_e=nt(b.selections);try{for(_e.s();!(Q=_e.n()).done;){var we=Q.value,Oe=b.getDataObject(we);if((Oe instanceof se&&!(Oe instanceof zt)||Oe instanceof G&&!Oe.showOnlyNameType||Oe instanceof pe)&&(ie||(b.clipboardElements=[],ie=!0),!(Oe.getId()in be)))if(be[Oe.getId()]=!0,j=Oe.toJS(),b.clipboardElements.push(j),Oe instanceof se){if(j.baseClass="DocElement",Oe instanceof ht){var Pe=[];Oe.appendContainerChildren(Pe);for(var Be=0,He=Pe;Be<He.length;Be++){var Fe=He[Be];if(Fe.getId()in be){for(V=0;V<b.clipboardElements.length;V++)if(Fe.getId()===b.clipboardElements[V].id){b.clipboardElements.splice(V,1);break}}else be[Fe.getId()]=!0;(j=Fe.toJS()).baseClass="DocElement",b.clipboardElements.push(j)}}}else Oe instanceof G?j.baseClass="Parameter":Oe instanceof pe&&(j.baseClass="Style")}}catch(Ot){_e.e(Ot)}finally{_e.f()}y.preventDefault()}break;case 86:if(!(y.target instanceof HTMLInputElement||y.target instanceof HTMLTextAreaElement)){var je,We,Ye=new le("Paste from clipboard",b),Ke={},Qe=[],ut=nt(b.clipboardElements);try{for(ut.s();!(We=ut.n()).done;){var lt=We.value,at=Object.assign({},lt);if(at.id=b.getUniqueId(),Qe.push(at),at.baseClass==="DocElement"){if(at.linkedContainerId){var rt=b.getUniqueId();Ke[at.linkedContainerId]=rt,at.linkedContainerId=rt}at.elementType===se.type.table&&lr.removeIds(at)}}}catch(Ot){ut.e(Ot)}finally{ut.f()}for(var ve=0,Ue=Qe;ve<Ue.length;ve++){var Ge=Ue[ve];if(Ge.baseClass==="DocElement"){if(Ge.containerId in Ke)Ge.containerId=Ke[Ge.containerId];else{var gt=0,st=b.getDataObject(Ge.containerId);if(st!==null){var it=st.getOffset(),ct=st.getContentSize(),xt=b.getDocument().getContentScrollPosY();xt>it.y&&xt+Ge.height<it.y+ct.height&&(gt=xt-it.y)}Ge.x=0,Ge.y=gt}je=new Tt(!0,Ge.elementType,Ge,Ge.id,Ge.containerId,-1,b),Ye.addCommand(je)}else if(Ge.baseClass==="Parameter"||Ge.baseClass==="Style"){var Et=b.getLabel("nameCopySuffix"),yt=Ge.name+" (".concat(Et,")"),_t=Ge.baseClass==="Parameter"?b.parameterContainer.getPanelItem():b.styleContainer.getPanelItem();if(_t!==null&&_t.getChildByName(yt))for(var mt=2;mt<=99&&(yt=Ge.name+" (".concat(Et," ").concat(mt,")"),_t.getChildByName(yt)!==null);mt++);Ge.name=yt,Ge.baseClass==="Parameter"?(G.removeIds(Ge),je=new z(!0,Ge,Ge.id,b.parameterContainer.getId(),-1,b),Ye.addCommand(je)):Ge.baseClass==="Style"&&(je=new fe(!0,Ge,Ge.id,b.styleContainer.getId(),-1,b),Ye.addCommand(je))}}if(!Ye.isEmpty()){b.executeCommand(Ye);var dt,er=!0,Lt=nt(Qe);try{for(Lt.s();!(dt=Lt.n()).done;){var ar=dt.value;b.selectObject(ar.id,er),er=!1}}catch(Ot){Lt.e(Ot)}finally{Lt.f()}}y.preventDefault()}break;case 89:b.redoCommand(),y.preventDefault();break;case 90:b.undoCommand(),y.preventDefault()}else if(y.which===27)b.popupWindow.hide();else if(!(y.target instanceof HTMLInputElement||y.target instanceof HTMLTextAreaElement))switch(y.which){case 8:case 46:var Ut,Bt=new le("Delete",b),Kt=nt(b.selections);try{for(Kt.s();!(Ut=Kt.n()).done;){var hr=Ut.value,tr=b.getDataObject(hr);tr instanceof se&&tr.addCommandsForDelete(Bt)}}catch(Ot){Kt.e(Ot)}finally{Kt.f()}Bt.isEmpty()||b.executeCommand(Bt),y.preventDefault();break;case 37:case 38:case 39:case 40:var rr,Zt=new le("Move element",b),Nt=y.which===37||y.which===39?"x":"y",Ft=(b.getDocumentProperties().getContentSize().width,nt(b.selections));try{for(Ft.s();!(rr=Ft.n()).done;){var Ht=rr.value,Ct=b.getDataObject(Ht);if(Ct instanceof se&&Ct.hasProperty(Nt)){var Mt=null;if(y.which===37)Ct.getValue("xVal")>0&&(Mt=Ct.getValue("xVal")-1);else if(y.which===38)Ct.getValue("yVal")>0&&(Mt=Ct.getValue("yVal")-1);else if(y.which===39){var ir=Ct.getContainerContentSize();Ct.getValue("xVal")+Ct.getValue("widthVal")<ir.width&&(Mt=Ct.getValue("xVal")+1)}else if(y.which===40){var Yt=Ct.getContainerContentSize();Ct.getValue("yVal")+Ct.getValue("heightVal")<Yt.height&&(Mt=Ct.getValue("yVal")+1)}if(Mt!==null){var nr=new e(Ht,Nt,Mt,e.type.text,b);Zt.addCommand(nr)}}}}catch(Ot){Ft.e(Ot)}finally{Ft.f()}Zt.isEmpty()||b.executeCommand(Zt),y.preventDefault()}}},document.addEventListener("keydown",this.keydownEventListener),this.render(),this.setup()}return L(R,[{key:"validateProperties",value:function(u){if(!Array.isArray(u.colors))return console.error('"colors" property must be an array'),!1;var b,x=!1,v=nt(u.colors);try{for(v.s();!(b=v.n()).done;){var a=b.value;if(!a||!Y(a))return console.error('"colors" property contains invalid color value'),!1;a==="#000000"&&(x=!0)}}catch(j){v.e(j)}finally{v.f()}if(!x)return console.error('"colors" property is missing black color "#000000"'),!1;if(!Array.isArray(u.fontSizes))return console.error('"fontSizes" property must be an array'),!1;var s,l=nt(u.fontSizes);try{for(l.s();!(s=l.n()).done;){var y=s.value;if(typeof y!="number"||y<1)return console.error('"fontSizes" property must contain only numbers (> 0)'),!1}}catch(j){l.e(j)}finally{l.f()}return!0}},{key:"addDefaultParameters",value:function(){for(var u=0,b=[{name:"page_count",type:G.type.number,eval:!1,editable:!1,showOnlyNameType:!0},{name:"page_number",type:G.type.number,eval:!1,editable:!1,showOnlyNameType:!0}];u<b.length;u++){var x=b[u],v=new G(this.getUniqueId(),x,this),a=this.mainPanel.getParametersItem(),s=new Le("parameter",a,v,{hasChildren:!0,showAdd:!0,showDelete:!0,draggable:!1},this);v.setPanelItem(s),a.appendChild(s),v.setup(),this.addParameter(v)}}},{key:"render",value:function(){var u=this;d(this.element),this.getProperty("menuSidebar")&&this.element.classList.add("rbroMenuPanelSidebar"),this.getProperty("theme")==="classic"?document.body.classList.add("rbroClassicTheme"):document.body.classList.add("rbroDefaultTheme"),this.element.append(t("div",{class:"rbroLogo"})),this.element.append(t("div",{id:"rbro_menu_panel",class:"rbroMenuPanel"}));var b=t("div",{class:"rbroContainer"}),x=t("div",{id:"rbro_main_panel",class:"rbroMainPanel"});for(var v in x.append(t("ul",{id:"rbro_main_panel_list"})),b.append(x),b.append(t("div",{id:"rbro_main_panel_sizer",class:"rbroMainPanelSizer"})),b.append(t("div",{id:"rbro_detail_panel",class:"rbroDetailPanel"})),b.append(t("div",{id:"rbro_document_panel",class:"rbroDocumentPanel"})),this.element.append(b),this.mainPanel.render(),this.menuPanel.render(),this.detailPanels)this.detailPanels[v].render();this.detailPanels[this.activeDetailPanel].show(),this.document.render(),this.popupWindow.render(),this.updateMenuButtons(),this.mouseupEventListener=function(a){u.mainPanel.mouseUp(a),u.document.mouseUp(a),u.popupWindow.hide()},document.addEventListener("mouseup",this.mouseupEventListener),window.addEventListener("resize",function(a){u.document.windowResized()}),this.element.addEventListener("dragstart",function(a){a.preventDefault()}),this.element.addEventListener("mousemove",function(a){u.mainPanel.processMouseMove(a)||u.document.processMouseMove(a)})}},{key:"getWidth",value:function(){return this.element.clientWidth}},{key:"setup",value:function(){this.addDefaultParameters(),this.headerBand.setup(),this.contentBand.setup(),this.footerBand.setup(),this.documentProperties.setup()}},{key:"initObjectMap",value:function(){this.addDataObject(this.headerBand),this.addDataObject(this.contentBand),this.addDataObject(this.footerBand),this.addDataObject(this.parameterContainer),this.addDataObject(this.styleContainer),this.addDataObject(this.documentProperties)}},{key:"getLabel",value:function(u){return u in this.locale?this.locale[u]:u}},{key:"getProperty",value:function(u){return this.properties[u]}},{key:"getMainPanel",value:function(){return this.mainPanel}},{key:"getMenuPanel",value:function(){return this.menuPanel}},{key:"getDocument",value:function(){return this.document}},{key:"getPopupWindow",value:function(){return this.popupWindow}},{key:"getFonts",value:function(){return this.properties.fonts}},{key:"getPatterns",value:function(){var u=[];if(this.properties.patternNumbers.length>0){u.push({separator:!0,name:this.getLabel("patternSeparatorNumbers")});var b,x=nt(this.properties.patternNumbers);try{for(x.s();!(b=x.n()).done;){var v=b.value;u.push(v)}}catch(y){x.e(y)}finally{x.f()}}if(this.properties.patternDates.length>0){u.push({separator:!0,name:this.getLabel("patternSeparatorDates")});var a,s=nt(this.properties.patternDates);try{for(s.s();!(a=s.n()).done;){var l=a.value;u.push(l)}}catch(y){s.e(y)}finally{s.f()}}return u}},{key:"getParameterItems",value:function(u,b){var x=[],v=this.getMainPanel().getParametersItem().getChildren(),a=0;if(u instanceof se){var s,l=!0,y=nt(u.getAllDataSources());try{for(y.s();!(s=y.n()).done;){var j=s.value;if(j.parameters.length>0){var V;V=l?this.getLabel("parametersDataSource"):this.getLabel("parametersDataSourceName").replace("{name}",j.name),x.push({separator:!0,separatorClass:"rbroParameterDataSourceGroup",id:"ds"+a,name:V}),a++;var Q,ie=[],be=l?null:j.name,_e=nt(j.parameters);try{for(_e.s();!(Q=_e.n()).done;){var we=Q.value;we.type===G.type.map?we.appendParameterItems(ie,b,be):we.appendParameterItems(x,b,be)}}catch(Ye){_e.e(Ye)}finally{_e.f()}for(var Oe=0,Pe=ie;Oe<Pe.length;Oe++){var Be=Pe[Oe];x.push(Be)}}l=!1}}catch(Ye){y.e(Ye)}finally{y.f()}}else u instanceof G&&u.appendFieldParameterItems(x,b,!0);x.push({separator:!0,name:this.getLabel("parameters")});var He,Fe=[],je=nt(v);try{for(je.s();!(He=je.n()).done;){var We=He.value.getData();We.getValue("type")===G.type.map?We.appendParameterItems(Fe,b,null):We.appendParameterItems(x,b,null)}}catch(Ye){je.e(Ye)}finally{je.f()}return x.concat(Fe)}},{key:"getArrayFieldParameterItems",value:function(u){var b=[],x=this.getMainPanel().getParametersItem().getChildren();b.push({separator:!0,name:this.getLabel("parameters")});var v,a=nt(x);try{for(a.s();!(v=a.n()).done;){var s=v.value.getData();s.getValue("type")===G.type.array&&s.appendFieldParameterItems(b,u,!1)}}catch(l){a.e(l)}finally{a.f()}return b}},{key:"appendContainerDocElements",value:function(u,b,x){var v,a=nt(u.getPanelItem().getChildren());try{for(a.s();!(v=a.n()).done;){var s=v.value;if(s.getData()instanceof se){var l=s.getData();b?(x.push(l),l.addChildren(x)):x.push(l.toJS());var y=[];if(l instanceof jt)y=l.getLinkedContainers();else{var j=l.getLinkedContainer();j!==null&&y.push(j)}var V,Q=nt(y);try{for(Q.s();!(V=Q.n()).done;){var ie=V.value;this.appendContainerDocElements(ie,b,x)}}catch(be){Q.e(be)}finally{Q.f()}}}}catch(be){a.e(be)}finally{a.f()}}},{key:"getDocElements",value:function(u){var b=[];return this.appendContainerDocElements(this.headerBand,u,b),this.appendContainerDocElements(this.contentBand,u,b),this.appendContainerDocElements(this.footerBand,u,b),b}},{key:"setDetailPanel",value:function(u){u!==this.activeDetailPanel&&(this.detailPanels[this.activeDetailPanel].hide(),this.activeDetailPanel=u,this.detailPanels[u].show())}},{key:"notifyEvent",value:function(u,b,x){this.detailPanels[this.activeDetailPanel].notifyEvent(u,b,x)}},{key:"addParameter",value:function(u){this.addDataObject(u)}},{key:"addStyle",value:function(u){this.addDataObject(u),this.notifyEvent(u,w.operation.add)}},{key:"getStyles",value:function(){var u,b=[],x=nt(this.getMainPanel().getStylesItem().getChildren());try{for(x.s();!(u=x.n()).done;){var v=u.value;b.push(v.getData())}}catch(a){x.e(a)}finally{x.f()}return b}},{key:"getParameters",value:function(){var u,b=[],x=nt(this.getMainPanel().getParametersItem().getChildren());try{for(x.s();!(u=x.n()).done;){var v=u.value;b.push(v.getData())}}catch(a){x.e(a)}finally{x.f()}return b}},{key:"addDocElement",value:function(u){this.docElements.push(u),this.addDataObject(u)}},{key:"deleteDocElements",value:function(){for(var u=0;u<this.docElements.length;u++)this.deleteDataObject(this.docElements[u]);this.docElements=[]}},{key:"getDocumentProperties",value:function(){return this.documentProperties}},{key:"executeCommand",value:function(u){if(u.do(),this.lastCommandIndex<this.commandStack.length-1&&(this.commandStack=this.commandStack.slice(0,this.lastCommandIndex+1)),!this.selectionSinceLastCommand&&this.commandStack.length>0){var b=this.commandStack[this.commandStack.length-1];u.allowReplace(b)&&(u.replace(b),this.commandStack=this.commandStack.slice(0,this.commandStack.length-1),this.lastCommandIndex--)}this.commandStack.push(u),this.lastCommandIndex++,this.modified=!0,this.selectionSinceLastCommand=!1,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(u,!0)}},{key:"undoCommand",value:function(){if(this.lastCommandIndex>=0){var u=this.commandStack[this.lastCommandIndex];u.undo(),this.lastCommandIndex--,this.modified=this.lastCommandIndex>=0,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(u,!1)}}},{key:"redoCommand",value:function(){if(this.lastCommandIndex<this.commandStack.length-1){this.lastCommandIndex++;var u=this.commandStack[this.lastCommandIndex];u.do(),this.modified=!0,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(u,!1)}}},{key:"updateMenuButtons",value:function(){document.getElementById("rbro_menu_save").disabled=!this.modified,document.getElementById("rbro_menu_undo").disabled=this.lastCommandIndex<0,document.getElementById("rbro_menu_redo").disabled=this.lastCommandIndex>=this.commandStack.length-1}},{key:"updateMenuActionButtons",value:function(){var u,b=0,x={x:0,y:0},v=!0,a=!0,s=nt(this.selections);try{for(s.s();!(u=s.n()).done;){var l=u.value,y=this.getDataObject(l);if(y instanceof se&&y.hasProperty("x")){b++;var j=y.getContainer().getOffset();b===1?x=j:(j.x!==x.x&&(v=!1),j.y!==x.y&&(a=!1))}}}catch(Fe){s.e(Fe)}finally{s.f()}var V=document.getElementById("rbo_menu_elements").querySelectorAll(".rbroMenuButton");if(b>1){v?document.getElementById("rbro_menu_align").removeAttribute("style"):document.getElementById("rbro_menu_align").style.display="none",a?document.getElementById("rbro_menu_valign").removeAttribute("style"):document.getElementById("rbro_menu_valign").style.display="none";var Q,ie=nt(V);try{for(ie.s();!(Q=ie.n()).done;)Q.value.style.display="none"}catch(Fe){ie.e(Fe)}finally{ie.f()}document.getElementById("rbro_menu_column_actions").style.display="none",document.getElementById("rbro_menu_row_actions").style.display="none"}else{var be=null;if(this.selections.length===1&&(be=this.getDataObject(this.selections[0])),document.getElementById("rbro_menu_align").style.display="none",document.getElementById("rbro_menu_valign").style.display="none",be instanceof zt){var _e,we=nt(V);try{for(we.s();!(_e=we.n()).done;)_e.value.style.display="none"}catch(Fe){we.e(Fe)}finally{we.f()}var Oe=be.getTable(),Pe=be.getParent();Oe!==null&&A(Oe.getValue("columns"))!==1?document.getElementById("rbro_menu_column_delete").removeAttribute("style"):document.getElementById("rbro_menu_column_delete").style.display="none",document.getElementById("rbro_menu_column_actions").removeAttribute("style"),Oe!==null&&Pe!==null&&Pe.getValue("bandType")===P.bandType.content?(A(Oe.getValue("contentRows"))!==1?document.getElementById("rbro_menu_row_delete").removeAttribute("style"):document.getElementById("rbro_menu_row_delete").style.display="none",document.getElementById("rbro_menu_row_actions").removeAttribute("style")):document.getElementById("rbro_menu_row_actions").style.display="none"}else{var Be,He=nt(V);try{for(He.s();!(Be=He.n()).done;)Be.value.removeAttribute("style")}catch(Fe){He.e(Fe)}finally{He.f()}document.getElementById("rbro_menu_column_actions").style.display="none",document.getElementById("rbro_menu_row_actions").style.display="none"}}}},{key:"debugCommandStack",value:function(){console.clear();for(var u=0;u<this.commandStack.length;u++)u>this.lastCommandIndex?console.log("( "+u+" "+this.commandStack[u].getName()+" )"):console.log(u+" "+this.commandStack[u].getName())}},{key:"addDataObject",value:function(u){this.objectMap[u.getId()]=u}},{key:"deleteDataObject",value:function(u){this.isSelectedObject(u.getId())&&this.deselectObject(u.getId()),u.getId()in this.objectMap&&(u.remove(),delete this.objectMap[u.getId()])}},{key:"getDataObject",value:function(u){return u!==null&&u in this.objectMap?this.objectMap[u]:null}},{key:"getSelectedObjects",value:function(){var u,b=[],x=nt(this.selections);try{for(x.s();!(u=x.n()).done;){var v=u.value,a=this.getDataObject(v);a!==null&&b.push(a)}}catch(s){x.e(s)}finally{x.f()}return b}},{key:"getSelectedObject",value:function(){return this.selections.length===1?this.getDataObject(this.selections[0]):null}},{key:"isSelectedObject",value:function(u){return this.selections.indexOf(u)!==-1}},{key:"isDocElementSelected",value:function(){var u,b=nt(this.selections);try{for(b.s();!(u=b.n()).done;){var x=u.value;if(this.getDataObject(x)instanceof se)return!0}}catch(v){b.e(v)}finally{b.f()}return!1}},{key:"isTableElementSelected",value:function(u){var b,x=nt(this.selections);try{for(x.s();!(b=x.n()).done;){var v=b.value,a=this.getDataObject(v);if(a instanceof zt&&a.getValue("tableId")===u)return!0}}catch(s){x.e(s)}finally{x.f()}return!1}},{key:"selectObject",value:function(u,b){var x="none",v=this.getDataObject(u);if(b){if(v!==null&&this.selections.length===1&&this.selections[0]===u)return;this.deselectAll(!0)}v!==null&&(v instanceof se?x="docElement":v instanceof G?x="parameter":v instanceof pe?x="style":v instanceof Gt&&(x="documentProperties"),this.selections.push(u),v.select(),v.getPanelItem()!==null&&(v.getPanelItem().openParentItems(),v.getPanelItem().setActive()),x!==this.activeDetailPanel&&this.setDetailPanel(x),this.detailPanels[this.activeDetailPanel].selectionChanged(),this.properties.selectCallback&&this.properties.selectCallback(v,!0)),this.selectionSinceLastCommand=!0,this.updateMenuActionButtons()}},{key:"deselectObject",value:function(u){this.deselectObjectInternal(u,!0),this.updateMenuActionButtons()}},{key:"deselectObjectInternal",value:function(u,b){var x=this.getDataObject(u);if(x!==null&&(x.deselect(),x.getPanelItem()!==null&&x.getPanelItem().setInactive()),b){var v=this.selections.indexOf(u);v!==-1&&this.selections.splice(v,1),this.selections.length>0?this.detailPanels[this.activeDetailPanel].selectionChanged():this.setDetailPanel("none")}x!==null&&this.properties.selectCallback&&this.properties.selectCallback(x,!1)}},{key:"deselectAll",value:function(u){var b,x=nt(this.selections);try{for(x.s();!(b=x.n()).done;){var v=b.value;this.deselectObjectInternal(v,!1)}}catch(a){x.e(a)}finally{x.f()}this.selections=[],u&&this.setDetailPanel("none"),this.updateMenuActionButtons()}},{key:"getContainer",value:function(u,b,x,v){for(var a=null,s=-1,l=0;l<this.containers.length;l++){var y=this.containers[l];if(y.getLevel()>s&&y.isElementAllowed(x)&&y.isInside(u,b)){var j,V=!1,Q=nt(v);try{for(Q.s();!(j=Q.n()).done;){var ie=j.value;if(y===ie||y.isChildOf(ie)){V=!0;break}}}catch(be){Q.e(be)}finally{Q.f()}V||(a=y,s=y.getLevel())}}return a}},{key:"getContainers",value:function(){return this.containers}},{key:"addContainer",value:function(u){this.containers.push(u),this.addDataObject(u)}},{key:"deleteContainer",value:function(u){for(var b=0;b<this.containers.length;b++)if(this.containers[b].getId()===u.getId()){this.containers.splice(b,1);break}this.deleteDataObject(u)}},{key:"startBrowserDrag",value:function(u,b,x){this.browserDragType=u,this.browserDragId=x,this.getDocument().startBrowserDrag(b)}},{key:"isBrowserDragActive",value:function(u){return this.browserDragType===u}},{key:"getBrowserDragId",value:function(){return this.browserDragId}},{key:"updateSelectionDrag",value:function(u,b,x,v,a){var s;a&&(s=new le(x===se.dragType.element?"Update position":"Resize",this));var l,y=nt(this.selections);try{for(y.s();!(l=y.n()).done;){var j=l.value,V=this.getDataObject(j);V!==null&&(x!==se.dragType.element||V.isDraggingAllowed())&&V.updateDrag(u,b,x,v,a?s:null)}}catch(Q){y.e(Q)}finally{y.f()}a&&!s.isEmpty()&&this.executeCommand(s)}},{key:"alignSelections",value:function(u){var b,x,v,a,s,l=Number.MAX_VALUE,y=Number.MIN_VALUE,j=Number.MAX_VALUE,V=Number.MIN_VALUE,Q=0,ie=nt(this.selections);try{for(ie.s();!(s=ie.n()).done;){var be=s.value,_e=this.getDataObject(be);_e instanceof se&&_e.hasProperty("x")&&(Q++,b=_e.getValue("xVal"),x=_e.getValue("yVal"),v=_e.getValue("widthVal"),a=_e.getValue("heightVal"),b<l&&(l=b),b+v>y&&(y=b+v),x<j&&(j=x),x+a>V&&(V=x+a))}}catch(at){ie.e(at)}finally{ie.f()}var we=l+(y-l)/2,Oe=j+(V-j)/2;if(Q>1){var Pe,Be=new le("Align elements",this),He=nt(this.selections);try{for(He.s();!(Pe=He.n()).done;){var Fe=Pe.value,je=this.getDataObject(Fe);if(je instanceof se&&!(je instanceof qt))switch(u){case pe.alignment.left:var We=new e(je.getId(),"x",""+l,e.type.text,this);Be.addCommand(We);break;case pe.alignment.center:var Ye=new e(je.getId(),"x",""+(we-je.getValue("widthVal")/2),e.type.text,this);Be.addCommand(Ye);break;case pe.alignment.right:var Ke=new e(je.getId(),"x",""+(y-je.getValue("widthVal")),e.type.text,this);Be.addCommand(Ke);break;case pe.alignment.top:var Qe=new e(je.getId(),"y",""+j,e.type.text,this);Be.addCommand(Qe);break;case pe.alignment.middle:var ut=new e(je.getId(),"y",""+(Oe-je.getValue("heightVal")/2),e.type.text,this);Be.addCommand(ut);break;case pe.alignment.bottom:var lt=new e(je.getId(),"y",""+(V-je.getValue("heightVal")),e.type.text,this);Be.addCommand(lt)}}}catch(at){He.e(at)}finally{He.f()}this.executeCommand(Be)}}},{key:"toPixel",value:function(u){return u===""||typeof u=="string"&&(u=parseFloat(u.replace(",",".")),isNaN(u))?"0px":u+"px"}},{key:"showLoading",value:function(){document.getElementById("rbro_loading_div")||document.body.append(t("div",{id:"rbro_loading_div",class:"rbroLoadingIndicator"}))}},{key:"hideLoading",value:function(){var u=document.getElementById("rbro_loading_div");u&&u.remove()}},{key:"getTestData",value:function(){var u,b={},x=nt(this.getParameters());try{for(x.s();!(u=x.n()).done;){var v=u.value;if(!v.getValue("showOnlyNameType")){var a=v.getValue("type");a===G.type.array||a===G.type.simpleArray||a===G.type.map?b[v.getName()]=v.getTestData(!1):a===G.type.string||a===G.type.number||a===G.type.date?b[v.getName()]=v.getValue("testData"):a===G.type.boolean?b[v.getName()]=v.getValue("testDataBoolean"):a===G.type.image&&(b[v.getName()]=v.getValue("testDataImage"))}}}catch(s){x.e(s)}finally{x.f()}return b}},{key:"previewInternal",value:function(u,b){var x=this,v=this.getRequestParameters();this.clearErrors();var a=v.reportServerHeaders;a["Content-Type"]="application/json",v.reportServerBasicAuth&&(a.Authorization="Basic "+btoa(v.reportServerBasicAuth.username+":"+v.reportServerBasicAuth.password)),this.showLoading();var s=new AbortController,l=setTimeout(function(){return s.abort()},v.reportServerTimeout);fetch(v.reportServerUrl,{signal:s.signal,method:"PUT",headers:a,body:JSON.stringify({report:this.getReport(),outputFormat:Gt.outputFormat.pdf,data:u,isTestData:b})}).then(function(y){if(!y.ok)throw Error(y.statusText);return y}).then(function(y){return y.text()}).then(function(y){if(clearTimeout(l),x.hideLoading(),y.substring(0,4)==="key:")x.reportKey=y.substring(4),x.getDocument().openPdfPreviewTab(v.reportServerUrl+"?key="+x.reportKey+"&outputFormat=pdf",a);else{x.reportKey=null;try{var j=JSON.parse(y);j.errors.length>0&&x.processErrors(j.errors,!1)}catch(V){alert("preview failed")}}}).catch(function(y){clearTimeout(l),x.hideLoading(),alert("preview failed")})}},{key:"getRequestParameters",value:function(){var u={reportServerUrl:this.properties.reportServerUrl,reportServerTimeout:this.properties.reportServerTimeout,reportServerUrlCrossDomain:this.properties.reportServerUrlCrossDomain,reportServerBasicAuth:this.properties.reportServerBasicAuth,reportServerHeaders:this.properties.reportServerHeaders};return this.properties.requestCallback&&this.properties.requestCallback(u),u}},{key:"setModified",value:function(u){this.modified=u,this.updateMenuButtons()}},{key:"isModified",value:function(){return this.modified}},{key:"getReport",value:function(){var u={docElements:[],parameters:[],styles:[],version:4};u.docElements=this.getDocElements(!1);var b,x=nt(this.getParameters());try{for(x.s();!(b=x.n()).done;){var v=b.value;u.parameters.push(v.toJS())}}catch(y){x.e(y)}finally{x.f()}var a,s=nt(this.getStyles());try{for(s.s();!(a=s.n()).done;){var l=a.value;u.styles.push(l.toJS())}}catch(y){s.e(y)}finally{s.f()}return u.documentProperties=this.documentProperties.toJS(),u}},{key:"save",value:function(){if(this.properties.saveCallback)this.properties.saveCallback();else if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null)try{var u=this.getReport();window.localStorage.setItem(this.properties.localStorageReportKey,JSON.stringify(u)),this.modified=!1}catch(a){}if(this.getProperty("highlightUnusedParameters")){var b,x=nt(this.getParameters());try{for(x.s();!(b=x.n()).done;){var v=b.value;v.editable&&v.setHighlightUnused(!1)}}catch(a){x.e(a)}finally{x.f()}}this.updateMenuButtons()}},{key:"load",value:function(u){var b,x=nt(this.getParameters());try{for(x.s();!(b=x.n()).done;){var v=b.value;this.deleteDataObject(v)}}catch(dt){x.e(dt)}finally{x.f()}var a,s=nt(this.getStyles());try{for(s.s();!(a=s.n()).done;){var l=a.value;this.deleteDataObject(l)}}catch(dt){s.e(dt)}finally{s.f()}if(this.deleteDocElements(),this.nextId=1,this.docElements=[],this.objectMap={},this.initObjectMap(),this.selections=[],this.getMainPanel().clearAll(),this.getMainPanel().getHeaderItem().close(),this.getMainPanel().getDocumentItem().close(),this.getMainPanel().getFooterItem().close(),this.getMainPanel().getParametersItem().close(),this.getMainPanel().getStylesItem().close(),u.version<2){var y,j=nt(u.docElements);try{for(j.s();!(y=j.n()).done;){var V=y.value;V.elementType===se.type.table&&(V.contentDataRows=[V.contentData],V.contentRows="1")}}catch(dt){j.e(dt)}finally{j.f()}}if(u.version<3){var Q,ie=nt(u.docElements);try{for(ie.s();!(Q=ie.n()).done;){var be=Q.value;if(be.elementType===se.type.table){for(var _e=0,we=0;we<be.headerData.columnData.length;we++)_e+=be.headerData.columnData[we].width;be.width=_e}}}catch(dt){ie.e(dt)}finally{ie.f()}}if(u.version<4){var Oe,Pe=nt(u.parameters);try{for(Pe.s();!(Oe=Pe.n()).done;){var Be=Oe.value;if(Be.type===G.type.map){var He,Fe={},je=nt(Be.children);try{for(je.s();!(He=je.n()).done;){var We=He.value;Fe[We.name]=We.testData,We.testData=""}}catch(dt){je.e(dt)}finally{je.f()}Be.testData=JSON.stringify(Fe)}else Be.type===G.type.boolean&&(Be.testDataBoolean=Boolean(Be.testData))}}catch(dt){Pe.e(dt)}finally{Pe.f()}}this.documentProperties.setInitialData(u.documentProperties),this.documentProperties.setup();var Ye,Ke=nt(u.styles);try{for(Ke.s();!(Ye=Ke.n()).done;){var Qe=Ye.value;this.createStyle(Qe)}}catch(dt){Ke.e(dt)}finally{Ke.f()}var ut,lt=nt(u.parameters);try{for(lt.s();!(ut=lt.n()).done;){var at=ut.value;this.createParameter(at)}}catch(dt){lt.e(dt)}finally{lt.f()}var rt,ve=nt(u.docElements);try{for(ve.s();!(rt=ve.n()).done;){var Ue=rt.value;this.createDocElement(Ue)}}catch(dt){ve.e(dt)}finally{ve.f()}if(this.getProperty("highlightUnusedParameters")){var Ge,gt=this.getDocElements(!0),st=nt(this.getParameters());try{for(st.s();!(Ge=st.n()).done;){var it=Ge.value;if(it.editable){var ct,xt=new le("Temp group"),Et=nt(gt);try{for(Et.s();!(ct=Et.n()).done;)ct.value.addCommandsForChangedParameterName(it,it.getName(),xt)}catch(dt){Et.e(dt)}finally{Et.f()}var yt,_t=nt(this.getParameters());try{for(_t.s();!(yt=_t.n()).done;){var mt=yt.value;mt.getId()!==it.getId()&&mt.addCommandsForChangedParameterName(it,it.getName(),xt)}}catch(dt){_t.e(dt)}finally{_t.f()}xt.isEmpty()&&it.setHighlightUnused(!0)}}}catch(dt){st.e(dt)}finally{st.f()}}this.browserDragType="",this.browserDragId="",this.commandStack=[],this.lastCommandIndex=-1,this.modified=!1,this.updateMenuButtons()}},{key:"loadLocalReport",value:function(){if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null){var u=null;try{u=JSON.parse(window.localStorage[this.properties.localStorageReportKey])}catch(b){}u!==null&&this.load(u)}}},{key:"preview",value:function(){this.previewInternal(this.getTestData(),!0)}},{key:"previewWithData",value:function(u){this.previewInternal(u,!1)}},{key:"downloadSpreadsheet",value:function(){var u=this.getRequestParameters(),b=u.reportServerUrl+"?key="+this.reportKey+"&outputFormat=xlsx",x=u.reportServerHeaders;if(this.reportKey!==null)if(x&&Object.keys(x).length>0){var v=new XMLHttpRequest;for(var a in v.responseType="blob",v.onreadystatechange=function(){if(v.readyState===XMLHttpRequest.DONE)if(v.status===200){var s=URL.createObjectURL(v.response);window.open(s,"_blank")}else alert("download failed")},v.open("GET",b,!0),x)x.hasOwnProperty(a)&&v.setRequestHeader(a,x[a]);v.send()}else window.open(b,"_blank")}},{key:"processErrors",value:function(u,b){(b===void 0||b)&&this.clearErrors();var x,v=nt(u);try{for(v.s();!(x=v.n()).done;){var a=x.value;if(a.object_id){document.getElementById("rbro_menu_item".concat(a.object_id)).classList.add("rbroError");var s=this.getDataObject(a.object_id);s!==null&&s.addError(a)}}}catch(l){v.e(l)}finally{v.f()}u.length>0&&(this.deselectAll(!1),this.selectObject(u[0].object_id,!1),this.detailPanels[this.activeDetailPanel].scrollToFirstError())}},{key:"clearErrors",value:function(){var u,b=nt(document.querySelectorAll(".rbroMenuItem"));try{for(b.s();!(u=b.n()).done;)u.value.classList.remove("rbroError")}catch(y){b.e(y)}finally{b.f()}var x,v=nt(document.querySelectorAll(".rbroFormRow"));try{for(v.s();!(x=v.n()).done;)x.value.classList.remove("rbroError")}catch(y){v.e(y)}finally{v.f()}var a,s=nt(document.querySelectorAll(".rbroErrorMessage"));try{for(s.s();!(a=s.n()).done;)a.value.textContent=""}catch(y){s.e(y)}finally{s.f()}for(var l in this.objectMap)this.objectMap[l].clearErrors()}},{key:"destroy",value:function(){for(var u in this.popupWindow.destroy(),this.detailPanels)this.detailPanels[u].destroy();this.element.remove(),document.removeEventListener("keydown",this.keydownEventListener),document.removeEventListener("mouseup",this.mouseupEventListener)}},{key:"getUniqueId",value:function(){return this.nextId++}},{key:"getDocElementById",value:function(u){var b=this.getDataObject(u);return b instanceof se?b:null}},{key:"getParameterById",value:function(u){var b=this.getDataObject(u);return b instanceof G?b:null}},{key:"getParameterByName",value:function(u){return this.getParameterByNameInternal(u,null)}},{key:"getParameterByNameInternal",value:function(u,b){var x=null,v=null,a=u.indexOf(".");a!==-1&&(x=u.substring(0,a),v=u.substring(a+1));var s,l=nt(b?b.getChildren():this.getParameters());try{for(l.s();!(s=l.n()).done;){var y=s.value;if(x!==null&&y.getValue("type")===G.type.map&&y.getValue("name")===x)return this.getParameterByNameInternal(v,y);if(x===null&&y.getValue("name")===u)return y}}catch(j){l.e(j)}finally{l.f()}return null}},{key:"getStyleById",value:function(u){var b=this.getDataObject(u);return b instanceof pe?b:null}},{key:"createDocElement",value:function(u){var b=Tt.createElement(u.id,u,u.elementType,-1,!1,this),x=b.getMaxId();return x>=this.nextId&&(this.nextId=x+1),b}},{key:"createParameter",value:function(u){var b=new G(u.id,u,this),x=this.mainPanel.getParametersItem(),v=this.getProperty("adminMode"),a=new Le("parameter",x,b,{hasChildren:!0,showAdd:v,showDelete:v,draggable:!0},this);b.setPanelItem(a),x.appendChild(a),b.setup(),b.getValue("type")!==G.type.array&&b.getValue("type")!==G.type.map&&(v&&(document.getElementById("rbro_menu_item_add".concat(b.getId())).style.display="none"),document.getElementById("rbro_menu_item_children".concat(b.getId())).style.display="none",document.getElementById("rbro_menu_item_children_toggle".concat(b.getId())).style.display="none"),this.addParameter(b);var s=b.getMaxId();return s>=this.nextId&&(this.nextId=s+1),b}},{key:"createStyle",value:function(u){var b=new pe(u.id,u,this),x=this.mainPanel.getStylesItem(),v=new Le("style",x,b,{draggable:!0},this);return b.setPanelItem(v),x.appendChild(v),this.addStyle(b),u.id>=this.nextId&&(this.nextId=u.id+1),b}},{key:"deleteDocElement",value:function(u){for(var b=0;b<this.docElements.length;b++)if(this.docElements[b].getId()===u.getId()){this.docElements.splice(b,1),this.deleteDataObject(u),this.notifyEvent(u,w.operation.remove);break}}},{key:"deleteParameter",value:function(u){this.deleteDataObject(u),u.getPanelItem().getParent().removeChild(u.getPanelItem()),this.notifyEvent(u,w.operation.remove)}},{key:"deleteStyle",value:function(u){this.deleteDataObject(u),u.getPanelItem().getParent().removeChild(u.getPanelItem()),this.notifyEvent(u,w.operation.remove)}}]),R}();ft.ReportBro=Pn}()})()}).call(this,ze("HDXh").Buffer)},bBst:function(wt,ft,ze){(function(qe){var Xe=qe.CustomEvent;function ot(){try{var Je=new Xe("cat",{detail:{foo:"bar"}});return Je.type==="cat"&&Je.detail.foo==="bar"}catch(J){}return!1}wt.exports=ot()?Xe:typeof document!="undefined"&&typeof document.createEvent=="function"?function(J,re){var L=document.createEvent("CustomEvent");return re?L.initCustomEvent(J,re.bubbles,re.cancelable,re.detail):L.initCustomEvent(J,!1,!1,void 0),L}:function(J,re){var L=document.createEventObject();return L.type=J,re?(L.bubbles=Boolean(re.bubbles),L.cancelable=Boolean(re.cancelable),L.detail=re.detail):(L.bubbles=!1,L.cancelable=!1,L.detail=void 0),L}}).call(this,ze("IyRk"))},bXNp:function(wt,ft,ze){},fu2T:function(wt,ft,ze){"use strict";var qe=ze("EFp3"),Xe=ze.n(qe),ot=ze("3dVZ"),Je=ze.n(ot)},gK9i:function(wt,ft,ze){"use strict";var qe=ze("wx14"),Xe=ze("rePB"),ot=ze("UESt"),Je=ze("TSYQ"),J=ze.n(Je),re=ze("KQm4"),L=ze("1OyB"),C=ze("vuIU"),_=ze("Ji7U"),h=ze("LK+K"),p=ze("U8pU"),f=ze("Zm9Q"),w=ze("q1tI"),m=ze("Gytx"),o=ze.n(m),i=ze("Ff2n"),e=ze("8XRh"),r=ze("ODXe"),n=w.forwardRef(function(M,K){var H,P=M.prefixCls,ee=M.forceRender,ue=M.className,de=M.style,pe=M.children,fe=M.isActive,ne=M.role,he=w.useState(fe||ee),le=Object(r.a)(he,2),Ee=le[0],Se=le[1];return w.useEffect(function(){(ee||fe)&&Se(!0)},[ee,fe]),Ee?w.createElement("div",{ref:K,className:J()("".concat(P,"-content"),(H={},Object(Xe.a)(H,"".concat(P,"-content-active"),fe),Object(Xe.a)(H,"".concat(P,"-content-inactive"),!fe),H),ue),style:de,role:ne},w.createElement("div",{className:"".concat(P,"-content-box")},pe)):null});n.displayName="PanelContent";var c=n,t=["className","id","style","prefixCls","headerClass","children","isActive","destroyInactivePanel","accordion","forceRender","openMotion","extra","collapsible"],d=function(M){Object(_.a)(H,M);var K=Object(h.a)(H);function H(){var P;Object(L.a)(this,H);for(var ee=arguments.length,ue=new Array(ee),de=0;de<ee;de++)ue[de]=arguments[de];return P=K.call.apply(K,[this].concat(ue)),P.onItemClick=function(){var pe=P.props,fe=pe.onItemClick,ne=pe.panelKey;typeof fe=="function"&&fe(ne)},P.handleKeyPress=function(pe){(pe.key==="Enter"||pe.keyCode===13||pe.which===13)&&P.onItemClick()},P.renderIcon=function(){var pe=P.props,fe=pe.showArrow,ne=pe.expandIcon,he=pe.prefixCls,le=pe.collapsible;if(!fe)return null;var Ee=typeof ne=="function"?ne(P.props):w.createElement("i",{className:"arrow"});return Ee&&w.createElement("div",{className:"".concat(he,"-expand-icon"),onClick:le==="header"||le==="icon"?P.onItemClick:null},Ee)},P.renderTitle=function(){var pe=P.props,fe=pe.header,ne=pe.prefixCls,he=pe.collapsible;return w.createElement("span",{className:"".concat(ne,"-header-text"),onClick:he==="header"?P.onItemClick:null},fe)},P}return Object(C.a)(H,[{key:"shouldComponentUpdate",value:function(ee){return!o()(this.props,ee)}},{key:"render",value:function(){var ee,ue,de=this.props,pe=de.className,fe=de.id,ne=de.style,he=de.prefixCls,le=de.headerClass,Ee=de.children,Se=de.isActive,Le=de.destroyInactivePanel,z=de.accordion,ge=de.forceRender,Z=de.openMotion,k=de.extra,I=de.collapsible,q=Object(i.a)(de,t),G=I==="disabled",oe=I==="header",ae=I==="icon",se=J()((ee={},Object(Xe.a)(ee,"".concat(he,"-item"),!0),Object(Xe.a)(ee,"".concat(he,"-item-active"),Se),Object(Xe.a)(ee,"".concat(he,"-item-disabled"),G),ee),pe),Re=J()("".concat(he,"-header"),(ue={},Object(Xe.a)(ue,le,le),Object(Xe.a)(ue,"".concat(he,"-header-collapsible-only"),oe),Object(Xe.a)(ue,"".concat(he,"-icon-collapsible-only"),ae),ue)),ke={className:Re,"aria-expanded":Se,"aria-disabled":G,onKeyPress:this.handleKeyPress};!oe&&!ae&&(ke.onClick=this.onItemClick,ke.role=z?"tab":"button",ke.tabIndex=G?-1:0);var Ve=k!=null&&typeof k!="boolean";return delete q.header,delete q.panelKey,delete q.onItemClick,delete q.showArrow,delete q.expandIcon,w.createElement("div",Object(qe.a)({},q,{className:se,style:ne,id:fe}),w.createElement("div",ke,this.renderIcon(),this.renderTitle(),Ve&&w.createElement("div",{className:"".concat(he,"-extra")},k)),w.createElement(e.default,Object(qe.a)({visible:Se,leavedClassName:"".concat(he,"-content-hidden")},Z,{forceRender:ge,removeOnLeave:Le}),function(Ze,et){var ht=Ze.className,It=Ze.style;return w.createElement(c,{ref:et,prefixCls:he,className:ht,style:It,isActive:Se,forceRender:ge,role:z?"tabpanel":null},Ee)}))}}]),H}(w.Component);d.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var g=d;function E(M){var K=M;if(!Array.isArray(K)){var H=Object(p.a)(K);K=H==="number"||H==="string"?[K]:[]}return K.map(function(P){return String(P)})}var D=function(M){Object(_.a)(H,M);var K=Object(h.a)(H);function H(P){var ee;Object(L.a)(this,H),ee=K.call(this,P),ee.onClickItem=function(fe){var ne=ee.state.activeKey;if(ee.props.accordion)ne=ne[0]===fe?[]:[fe];else{ne=Object(re.a)(ne);var he=ne.indexOf(fe),le=he>-1;le?ne.splice(he,1):ne.push(fe)}ee.setActiveKey(ne)},ee.getNewChild=function(fe,ne){if(!fe)return null;var he=ee.state.activeKey,le=ee.props,Ee=le.prefixCls,Se=le.openMotion,Le=le.accordion,z=le.destroyInactivePanel,ge=le.expandIcon,Z=le.collapsible,k=fe.key||String(ne),I=fe.props,q=I.header,G=I.headerClass,oe=I.destroyInactivePanel,ae=I.collapsible,se=!1;Le?se=he[0]===k:se=he.indexOf(k)>-1;var Re=ae!=null?ae:Z,ke={key:k,panelKey:k,header:q,headerClass:G,isActive:se,prefixCls:Ee,destroyInactivePanel:oe!=null?oe:z,openMotion:Se,accordion:Le,children:fe.props.children,onItemClick:Re==="disabled"?null:ee.onClickItem,expandIcon:ge,collapsible:Re};return typeof fe.type=="string"?fe:(Object.keys(ke).forEach(function(Ve){typeof ke[Ve]=="undefined"&&delete ke[Ve]}),w.cloneElement(fe,ke))},ee.getItems=function(){var fe=ee.props.children;return Object(f.a)(fe).map(ee.getNewChild)},ee.setActiveKey=function(fe){"activeKey"in ee.props||ee.setState({activeKey:fe}),ee.props.onChange(ee.props.accordion?fe[0]:fe)};var ue=P.activeKey,de=P.defaultActiveKey,pe=de;return"activeKey"in P&&(pe=ue),ee.state={activeKey:E(pe)},ee}return Object(C.a)(H,[{key:"shouldComponentUpdate",value:function(ee,ue){return!o()(this.props,ee)||!o()(this.state,ue)}},{key:"render",value:function(){var ee,ue=this.props,de=ue.prefixCls,pe=ue.className,fe=ue.style,ne=ue.accordion,he=J()((ee={},Object(Xe.a)(ee,de,!0),Object(Xe.a)(ee,pe,!!pe),ee));return w.createElement("div",{className:he,style:fe,role:ne?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(ee){var ue={};return"activeKey"in ee&&(ue.activeKey=E(ee.activeKey)),ue}}]),H}(w.Component);D.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},D.Panel=g;var T=D,A=T,O=T.Panel,N=ze("bT9E"),U=ze("H84U"),F=ze("EXcs"),Y=ze("0n0R"),B=function(K){var H=w.useContext(U.b),P=H.getPrefixCls,ee=K.prefixCls,ue=K.className,de=ue===void 0?"":ue,pe=K.showArrow,fe=pe===void 0?!0:pe,ne=P("collapse",ee),he=J()(Object(Xe.a)({},"".concat(ne,"-no-arrow"),!fe),de);return w.createElement(A.Panel,Object(qe.a)({},K,{prefixCls:ne,className:he}))},te=B,$=function(K){var H,P=w.useContext(U.b),ee=P.getPrefixCls,ue=P.direction,de=K.prefixCls,pe=K.className,fe=pe===void 0?"":pe,ne=K.bordered,he=ne===void 0?!0:ne,le=K.ghost,Ee=K.expandIconPosition,Se=Ee===void 0?"start":Ee,Le=ee("collapse",de),z=w.useMemo(function(){return Se==="left"?"start":Se==="right"?"end":Se},[Se]),ge=function(){var G=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},oe=K.expandIcon,ae=oe?oe(G):w.createElement(ot.a,{rotate:G.isActive?90:void 0});return Object(Y.a)(ae,function(){return{className:J()(ae.props.className,"".concat(Le,"-arrow"))}})},Z=J()("".concat(Le,"-icon-position-").concat(z),(H={},Object(Xe.a)(H,"".concat(Le,"-borderless"),!he),Object(Xe.a)(H,"".concat(Le,"-rtl"),ue==="rtl"),Object(Xe.a)(H,"".concat(Le,"-ghost"),!!le),H),fe),k=Object(qe.a)(Object(qe.a)({},F.a),{motionAppear:!1,leavedClassName:"".concat(Le,"-content-hidden")}),I=function(){var G=K.children;return Object(f.a)(G).map(function(oe,ae){var se;if((se=oe.props)===null||se===void 0?void 0:se.disabled){var Re=oe.key||String(ae),ke=oe.props,Ve=ke.disabled,Ze=ke.collapsible,et=Object(qe.a)(Object(qe.a)({},Object(N.a)(oe.props,["disabled"])),{key:Re,collapsible:Ze!=null?Ze:Ve?"disabled":void 0});return Object(Y.a)(oe,et)}return oe})};return w.createElement(A,Object(qe.a)({openMotion:k},K,{expandIcon:ge,prefixCls:Le,className:Z}),I())};$.Panel=te;var W=$,X=ft.a=W},"kVK+":function(wt,ft){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */ft.read=function(ze,qe,Xe,ot,Je){var J,re,L=Je*8-ot-1,C=(1<<L)-1,_=C>>1,h=-7,p=Xe?Je-1:0,f=Xe?-1:1,w=ze[qe+p];for(p+=f,J=w&(1<<-h)-1,w>>=-h,h+=L;h>0;J=J*256+ze[qe+p],p+=f,h-=8);for(re=J&(1<<-h)-1,J>>=-h,h+=ot;h>0;re=re*256+ze[qe+p],p+=f,h-=8);if(J===0)J=1-_;else{if(J===C)return re?NaN:(w?-1:1)*Infinity;re=re+Math.pow(2,ot),J=J-_}return(w?-1:1)*re*Math.pow(2,J-ot)},ft.write=function(ze,qe,Xe,ot,Je,J){var re,L,C,_=J*8-Je-1,h=(1<<_)-1,p=h>>1,f=Je===23?Math.pow(2,-24)-Math.pow(2,-77):0,w=ot?0:J-1,m=ot?1:-1,o=qe<0||qe===0&&1/qe<0?1:0;for(qe=Math.abs(qe),isNaN(qe)||qe===Infinity?(L=isNaN(qe)?1:0,re=h):(re=Math.floor(Math.log(qe)/Math.LN2),qe*(C=Math.pow(2,-re))<1&&(re--,C*=2),re+p>=1?qe+=f/C:qe+=f*Math.pow(2,1-p),qe*C>=2&&(re++,C/=2),re+p>=h?(L=0,re=h):re+p>=1?(L=(qe*C-1)*Math.pow(2,Je),re=re+p):(L=qe*Math.pow(2,p-1)*Math.pow(2,Je),re=0));Je>=8;ze[Xe+w]=L&255,w+=m,L/=256,Je-=8);for(re=re<<Je|L,_+=Je;_>0;ze[Xe+w]=re&255,w+=m,re/=256,_-=8);ze[Xe+w-m]|=o*128}},oOwn:function(wt,ft,ze){(function(){var qe=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],Xe=typeof window!="undefined",ot=Xe&&window.mozInnerScreenX!=null;function Je(J,re,L){if(!Xe)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var C=L&&L.debug||!1;if(C){var _=document.querySelector("#input-textarea-caret-position-mirror-div");_&&_.parentNode.removeChild(_)}var h=document.createElement("div");h.id="input-textarea-caret-position-mirror-div",document.body.appendChild(h);var p=h.style,f=window.getComputedStyle?getComputedStyle(J):J.currentStyle;p.whiteSpace="pre-wrap",J.nodeName!=="INPUT"&&(p.wordWrap="break-word"),p.position="absolute",C||(p.visibility="hidden"),qe.forEach(function(o){p[o]=f[o]}),ot?J.scrollHeight>parseInt(f.height)&&(p.overflowY="scroll"):p.overflow="hidden",h.textContent=J.value.substring(0,re),J.nodeName==="INPUT"&&(h.textContent=h.textContent.replace(/\s/g,"\xA0"));var w=document.createElement("span");w.textContent=J.value.substring(re)||".",h.appendChild(w);var m={top:w.offsetTop+parseInt(f.borderTopWidth),left:w.offsetLeft+parseInt(f.borderLeftWidth)};return C?w.style.backgroundColor="#aaa":document.body.removeChild(h),m}typeof wt.exports!="undefined"?wt.exports=Je:Xe&&(window.getCaretCoordinates=Je)})()},tneF:function(wt,ft,ze){"use strict";var qe=ze("sRBo"),Xe=ze("kaz8"),ot=ze("VTBJ"),Je=ze("Ff2n"),J=ze("nKUr"),re=ze.n(J),L=ze("uX+g"),C=ze("q1tI"),_=ze.n(C),h=ze("WFLz"),p=ze("adzw"),f=["options","fieldProps","proFieldProps","valueEnum"],w=_.a.forwardRef(function(e,r){var n=e.options,c=e.fieldProps,t=e.proFieldProps,d=e.valueEnum,g=Object(Je.a)(e,f);return Object(J.jsx)(p.a,Object(ot.a)({ref:r,valueType:"checkbox",valueEnum:Object(L.a)(d,void 0),fieldProps:Object(ot.a)({options:n},c),lightProps:Object(ot.a)({labelFormatter:function(){return Object(J.jsx)(p.a,Object(ot.a)({ref:r,valueType:"checkbox",mode:"read",valueEnum:Object(L.a)(d,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(ot.a)({options:n},c),proFieldProps:t},g))}},g.lightProps),proFieldProps:t},g))}),m=_.a.forwardRef(function(e,r){var n=e.fieldProps,c=e.children;return Object(J.jsx)(Xe.a,Object(ot.a)(Object(ot.a)({ref:r},n),{},{children:c}))}),o=Object(h.a)(m,{valuePropName:"checked"}),i=o;i.Group=w,ft.a=i},v3Qx:function(wt,ft){var ze={}.toString;wt.exports=Array.isArray||function(qe){return ze.call(qe)=="[object Array]"}},xOOu:function(wt,ft,ze){(function(qe,Xe,ot){var Je,Je;/*!

JSZip v3.10.1 - A JavaScript class for generating and reading zip files
<http://stuartk.com/jszip>

(c) 2009-2016 Stuart Knightley <stuart [at] stuartk.com>
Dual licenced under the MIT license or GPLv3. See https://raw.github.com/Stuk/jszip/main/LICENSE.markdown.

JSZip uses the library pako released under the MIT license :
https://github.com/nodeca/pako/blob/main/LICENSE
*/(function(J){wt.exports=J()})(function(){return function J(re,L,C){function _(f,w){if(!L[f]){if(!re[f]){var m=typeof Je=="function"&&Je;if(!w&&m)return Je(f,!0);if(h)return h(f,!0);var o=new Error("Cannot find module '"+f+"'");throw o.code="MODULE_NOT_FOUND",o}var i=L[f]={exports:{}};re[f][0].call(i.exports,function(e){var r=re[f][1][e];return _(r||e)},i,i.exports,J,re,L,C)}return L[f].exports}for(var h=typeof Je=="function"&&Je,p=0;p<C.length;p++)_(C[p]);return _}({1:[function(J,re,L){"use strict";var C=J("./utils"),_=J("./support"),h="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";L.encode=function(p){for(var f,w,m,o,i,e,r,n=[],c=0,t=p.length,d=t,g=C.getTypeOf(p)!=="string";c<p.length;)d=t-c,m=g?(f=p[c++],w=c<t?p[c++]:0,c<t?p[c++]:0):(f=p.charCodeAt(c++),w=c<t?p.charCodeAt(c++):0,c<t?p.charCodeAt(c++):0),o=f>>2,i=(3&f)<<4|w>>4,e=1<d?(15&w)<<2|m>>6:64,r=2<d?63&m:64,n.push(h.charAt(o)+h.charAt(i)+h.charAt(e)+h.charAt(r));return n.join("")},L.decode=function(p){var f,w,m,o,i,e,r=0,n=0,c="data:";if(p.substr(0,c.length)===c)throw new Error("Invalid base64 input, it looks like a data url.");var t,d=3*(p=p.replace(/[^A-Za-z0-9+/=]/g,"")).length/4;if(p.charAt(p.length-1)===h.charAt(64)&&d--,p.charAt(p.length-2)===h.charAt(64)&&d--,d%1!=0)throw new Error("Invalid base64 input, bad content length.");for(t=_.uint8array?new Uint8Array(0|d):new Array(0|d);r<p.length;)f=h.indexOf(p.charAt(r++))<<2|(o=h.indexOf(p.charAt(r++)))>>4,w=(15&o)<<4|(i=h.indexOf(p.charAt(r++)))>>2,m=(3&i)<<6|(e=h.indexOf(p.charAt(r++))),t[n++]=f,i!==64&&(t[n++]=w),e!==64&&(t[n++]=m);return t}},{"./support":30,"./utils":32}],2:[function(J,re,L){"use strict";var C=J("./external"),_=J("./stream/DataWorker"),h=J("./stream/Crc32Probe"),p=J("./stream/DataLengthProbe");function f(w,m,o,i,e){this.compressedSize=w,this.uncompressedSize=m,this.crc32=o,this.compression=i,this.compressedContent=e}f.prototype={getContentWorker:function(){var m=new _(C.Promise.resolve(this.compressedContent)).pipe(this.compression.uncompressWorker()).pipe(new p("data_length")),o=this;return m.on("end",function(){if(this.streamInfo.data_length!==o.uncompressedSize)throw new Error("Bug : uncompressed data size mismatch")}),m},getCompressedWorker:function(){return new _(C.Promise.resolve(this.compressedContent)).withStreamInfo("compressedSize",this.compressedSize).withStreamInfo("uncompressedSize",this.uncompressedSize).withStreamInfo("crc32",this.crc32).withStreamInfo("compression",this.compression)}},f.createWorkerFrom=function(w,m,o){return w.pipe(new h).pipe(new p("uncompressedSize")).pipe(m.compressWorker(o)).pipe(new p("compressedSize")).withStreamInfo("compression",m)},re.exports=f},{"./external":6,"./stream/Crc32Probe":25,"./stream/DataLengthProbe":26,"./stream/DataWorker":27}],3:[function(J,re,L){"use strict";var C=J("./stream/GenericWorker");L.STORE={magic:"\0\0",compressWorker:function(){return new C("STORE compression")},uncompressWorker:function(){return new C("STORE decompression")}},L.DEFLATE=J("./flate")},{"./flate":7,"./stream/GenericWorker":28}],4:[function(J,re,L){"use strict";var C=J("./utils"),_=function(){for(var h,p=[],f=0;f<256;f++){h=f;for(var w=0;w<8;w++)h=1&h?3988292384^h>>>1:h>>>1;p[f]=h}return p}();re.exports=function(h,p){return h!==void 0&&h.length?C.getTypeOf(h)!=="string"?function(f,w,m,o){var i=_,e=o+m;f^=-1;for(var r=o;r<e;r++)f=f>>>8^i[255&(f^w[r])];return-1^f}(0|p,h,h.length,0):function(f,w,m,o){var i=_,e=o+m;f^=-1;for(var r=o;r<e;r++)f=f>>>8^i[255&(f^w.charCodeAt(r))];return-1^f}(0|p,h,h.length,0):0}},{"./utils":32}],5:[function(J,re,L){"use strict";L.base64=!1,L.binary=!1,L.dir=!1,L.createFolders=!0,L.date=null,L.compression=null,L.compressionOptions=null,L.comment=null,L.unixPermissions=null,L.dosPermissions=null},{}],6:[function(J,re,L){"use strict";var C=null;C=typeof Promise!="undefined"?Promise:J("lie"),re.exports={Promise:C}},{lie:37}],7:[function(J,re,L){"use strict";var C=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Uint32Array!="undefined",_=J("pako"),h=J("./utils"),p=J("./stream/GenericWorker"),f=C?"uint8array":"array";function w(m,o){p.call(this,"FlateWorker/"+m),this._pako=null,this._pakoAction=m,this._pakoOptions=o,this.meta={}}L.magic="\b\0",h.inherits(w,p),w.prototype.processChunk=function(m){this.meta=m.meta,this._pako===null&&this._createPako(),this._pako.push(h.transformTo(f,m.data),!1)},w.prototype.flush=function(){p.prototype.flush.call(this),this._pako===null&&this._createPako(),this._pako.push([],!0)},w.prototype.cleanUp=function(){p.prototype.cleanUp.call(this),this._pako=null},w.prototype._createPako=function(){this._pako=new _[this._pakoAction]({raw:!0,level:this._pakoOptions.level||-1});var m=this;this._pako.onData=function(o){m.push({data:o,meta:m.meta})}},L.compressWorker=function(m){return new w("Deflate",m)},L.uncompressWorker=function(){return new w("Inflate",{})}},{"./stream/GenericWorker":28,"./utils":32,pako:38}],8:[function(J,re,L){"use strict";function C(i,e){var r,n="";for(r=0;r<e;r++)n+=String.fromCharCode(255&i),i>>>=8;return n}function _(i,e,r,n,c,t){var d,g,E=i.file,D=i.compression,T=t!==f.utf8encode,A=h.transformTo("string",t(E.name)),O=h.transformTo("string",f.utf8encode(E.name)),N=E.comment,U=h.transformTo("string",t(N)),F=h.transformTo("string",f.utf8encode(N)),Y=O.length!==E.name.length,B=F.length!==N.length,te="",$="",W="",X=E.dir,M=E.date,K={crc32:0,compressedSize:0,uncompressedSize:0};e&&!r||(K.crc32=i.crc32,K.compressedSize=i.compressedSize,K.uncompressedSize=i.uncompressedSize);var H=0;e&&(H|=8),T||!Y&&!B||(H|=2048);var P=0,ee=0;X&&(P|=16),c==="UNIX"?(ee=798,P|=function(de,pe){var fe=de;return de||(fe=pe?16893:33204),(65535&fe)<<16}(E.unixPermissions,X)):(ee=20,P|=function(de){return 63&(de||0)}(E.dosPermissions)),d=M.getUTCHours(),d<<=6,d|=M.getUTCMinutes(),d<<=5,d|=M.getUTCSeconds()/2,g=M.getUTCFullYear()-1980,g<<=4,g|=M.getUTCMonth()+1,g<<=5,g|=M.getUTCDate(),Y&&($=C(1,1)+C(w(A),4)+O,te+="up"+C($.length,2)+$),B&&(W=C(1,1)+C(w(U),4)+F,te+="uc"+C(W.length,2)+W);var ue="";return ue+=`
\0`,ue+=C(H,2),ue+=D.magic,ue+=C(d,2),ue+=C(g,2),ue+=C(K.crc32,4),ue+=C(K.compressedSize,4),ue+=C(K.uncompressedSize,4),ue+=C(A.length,2),ue+=C(te.length,2),{fileRecord:m.LOCAL_FILE_HEADER+ue+A+te,dirRecord:m.CENTRAL_FILE_HEADER+C(ee,2)+ue+C(U.length,2)+"\0\0\0\0"+C(P,4)+C(n,4)+A+te+U}}var h=J("../utils"),p=J("../stream/GenericWorker"),f=J("../utf8"),w=J("../crc32"),m=J("../signature");function o(i,e,r,n){p.call(this,"ZipFileWorker"),this.bytesWritten=0,this.zipComment=e,this.zipPlatform=r,this.encodeFileName=n,this.streamFiles=i,this.accumulate=!1,this.contentBuffer=[],this.dirRecords=[],this.currentSourceOffset=0,this.entriesCount=0,this.currentFile=null,this._sources=[]}h.inherits(o,p),o.prototype.push=function(i){var e=i.meta.percent||0,r=this.entriesCount,n=this._sources.length;this.accumulate?this.contentBuffer.push(i):(this.bytesWritten+=i.data.length,p.prototype.push.call(this,{data:i.data,meta:{currentFile:this.currentFile,percent:r?(e+100*(r-n-1))/r:100}}))},o.prototype.openedSource=function(i){this.currentSourceOffset=this.bytesWritten,this.currentFile=i.file.name;var e=this.streamFiles&&!i.file.dir;if(e){var r=_(i,e,!1,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);this.push({data:r.fileRecord,meta:{percent:0}})}else this.accumulate=!0},o.prototype.closedSource=function(i){this.accumulate=!1;var e=this.streamFiles&&!i.file.dir,r=_(i,e,!0,this.currentSourceOffset,this.zipPlatform,this.encodeFileName);if(this.dirRecords.push(r.dirRecord),e)this.push({data:function(n){return m.DATA_DESCRIPTOR+C(n.crc32,4)+C(n.compressedSize,4)+C(n.uncompressedSize,4)}(i),meta:{percent:100}});else for(this.push({data:r.fileRecord,meta:{percent:0}});this.contentBuffer.length;)this.push(this.contentBuffer.shift());this.currentFile=null},o.prototype.flush=function(){for(var i=this.bytesWritten,e=0;e<this.dirRecords.length;e++)this.push({data:this.dirRecords[e],meta:{percent:100}});var r=this.bytesWritten-i,n=function(c,t,d,g,E){var D=h.transformTo("string",E(g));return m.CENTRAL_DIRECTORY_END+"\0\0\0\0"+C(c,2)+C(c,2)+C(t,4)+C(d,4)+C(D.length,2)+D}(this.dirRecords.length,r,i,this.zipComment,this.encodeFileName);this.push({data:n,meta:{percent:100}})},o.prototype.prepareNextSource=function(){this.previous=this._sources.shift(),this.openedSource(this.previous.streamInfo),this.isPaused?this.previous.pause():this.previous.resume()},o.prototype.registerPrevious=function(i){this._sources.push(i);var e=this;return i.on("data",function(r){e.processChunk(r)}),i.on("end",function(){e.closedSource(e.previous.streamInfo),e._sources.length?e.prepareNextSource():e.end()}),i.on("error",function(r){e.error(r)}),this},o.prototype.resume=function(){return!!p.prototype.resume.call(this)&&(!this.previous&&this._sources.length?(this.prepareNextSource(),!0):this.previous||this._sources.length||this.generatedError?void 0:(this.end(),!0))},o.prototype.error=function(i){var e=this._sources;if(!p.prototype.error.call(this,i))return!1;for(var r=0;r<e.length;r++)try{e[r].error(i)}catch(n){}return!0},o.prototype.lock=function(){p.prototype.lock.call(this);for(var i=this._sources,e=0;e<i.length;e++)i[e].lock()},re.exports=o},{"../crc32":4,"../signature":23,"../stream/GenericWorker":28,"../utf8":31,"../utils":32}],9:[function(J,re,L){"use strict";var C=J("../compressions"),_=J("./ZipFileWorker");L.generateWorker=function(h,p,f){var w=new _(p.streamFiles,f,p.platform,p.encodeFileName),m=0;try{h.forEach(function(o,i){m++;var e=function(t,d){var g=t||d,E=C[g];if(!E)throw new Error(g+" is not a valid compression method !");return E}(i.options.compression,p.compression),r=i.options.compressionOptions||p.compressionOptions||{},n=i.dir,c=i.date;i._compressWorker(e,r).withStreamInfo("file",{name:o,dir:n,date:c,comment:i.comment||"",unixPermissions:i.unixPermissions,dosPermissions:i.dosPermissions}).pipe(w)}),w.entriesCount=m}catch(o){w.error(o)}return w}},{"../compressions":3,"./ZipFileWorker":8}],10:[function(J,re,L){"use strict";function C(){if(!(this instanceof C))return new C;if(arguments.length)throw new Error("The constructor with parameters has been removed in JSZip 3.0, please check the upgrade guide.");this.files=Object.create(null),this.comment=null,this.root="",this.clone=function(){var _=new C;for(var h in this)typeof this[h]!="function"&&(_[h]=this[h]);return _}}(C.prototype=J("./object")).loadAsync=J("./load"),C.support=J("./support"),C.defaults=J("./defaults"),C.version="3.10.1",C.loadAsync=function(_,h){return new C().loadAsync(_,h)},C.external=J("./external"),re.exports=C},{"./defaults":5,"./external":6,"./load":11,"./object":15,"./support":30}],11:[function(J,re,L){"use strict";var C=J("./utils"),_=J("./external"),h=J("./utf8"),p=J("./zipEntries"),f=J("./stream/Crc32Probe"),w=J("./nodejsUtils");function m(o){return new _.Promise(function(i,e){var r=o.decompressed.getContentWorker().pipe(new f);r.on("error",function(n){e(n)}).on("end",function(){r.streamInfo.crc32!==o.decompressed.crc32?e(new Error("Corrupted zip : CRC32 mismatch")):i()}).resume()})}re.exports=function(o,i){var e=this;return i=C.extend(i||{},{base64:!1,checkCRC32:!1,optimizedBinaryString:!1,createFolders:!1,decodeFileName:h.utf8decode}),w.isNode&&w.isStream(o)?_.Promise.reject(new Error("JSZip can't accept a stream when loading a zip file.")):C.prepareContent("the loaded zip file",o,!0,i.optimizedBinaryString,i.base64).then(function(r){var n=new p(i);return n.load(r),n}).then(function(r){var n=[_.Promise.resolve(r)],c=r.files;if(i.checkCRC32)for(var t=0;t<c.length;t++)n.push(m(c[t]));return _.Promise.all(n)}).then(function(r){for(var n=r.shift(),c=n.files,t=0;t<c.length;t++){var d=c[t],g=d.fileNameStr,E=C.resolve(d.fileNameStr);e.file(E,d.decompressed,{binary:!0,optimizedBinaryString:!0,date:d.date,dir:d.dir,comment:d.fileCommentStr.length?d.fileCommentStr:null,unixPermissions:d.unixPermissions,dosPermissions:d.dosPermissions,createFolders:i.createFolders}),d.dir||(e.file(E).unsafeOriginalName=g)}return n.zipComment.length&&(e.comment=n.zipComment),e})}},{"./external":6,"./nodejsUtils":14,"./stream/Crc32Probe":25,"./utf8":31,"./utils":32,"./zipEntries":33}],12:[function(J,re,L){"use strict";var C=J("../utils"),_=J("../stream/GenericWorker");function h(p,f){_.call(this,"Nodejs stream input adapter for "+p),this._upstreamEnded=!1,this._bindStream(f)}C.inherits(h,_),h.prototype._bindStream=function(p){var f=this;(this._stream=p).pause(),p.on("data",function(w){f.push({data:w,meta:{percent:0}})}).on("error",function(w){f.isPaused?this.generatedError=w:f.error(w)}).on("end",function(){f.isPaused?f._upstreamEnded=!0:f.end()})},h.prototype.pause=function(){return!!_.prototype.pause.call(this)&&(this._stream.pause(),!0)},h.prototype.resume=function(){return!!_.prototype.resume.call(this)&&(this._upstreamEnded?this.end():this._stream.resume(),!0)},re.exports=h},{"../stream/GenericWorker":28,"../utils":32}],13:[function(J,re,L){"use strict";var C=J("readable-stream").Readable;function _(h,p,f){C.call(this,p),this._helper=h;var w=this;h.on("data",function(m,o){w.push(m)||w._helper.pause(),f&&f(o)}).on("error",function(m){w.emit("error",m)}).on("end",function(){w.push(null)})}J("../utils").inherits(_,C),_.prototype._read=function(){this._helper.resume()},re.exports=_},{"../utils":32,"readable-stream":16}],14:[function(J,re,L){"use strict";re.exports={isNode:typeof qe!="undefined",newBufferFrom:function(_,h){if(qe.from&&qe.from!==Uint8Array.from)return qe.from(_,h);if(typeof _=="number")throw new Error('The "data" argument must not be a number');return new qe(_,h)},allocBuffer:function(_){if(qe.alloc)return qe.alloc(_);var h=new qe(_);return h.fill(0),h},isBuffer:function(_){return qe.isBuffer(_)},isStream:function(_){return _&&typeof _.on=="function"&&typeof _.pause=="function"&&typeof _.resume=="function"}}},{}],15:[function(J,re,L){"use strict";function C(E,D,T){var A,O=h.getTypeOf(D),N=h.extend(T||{},w);N.date=N.date||new Date,N.compression!==null&&(N.compression=N.compression.toUpperCase()),typeof N.unixPermissions=="string"&&(N.unixPermissions=parseInt(N.unixPermissions,8)),N.unixPermissions&&16384&N.unixPermissions&&(N.dir=!0),N.dosPermissions&&16&N.dosPermissions&&(N.dir=!0),N.dir&&(E=c(E)),N.createFolders&&(A=n(E))&&t.call(this,A,!0);var U=O==="string"&&N.binary===!1&&N.base64===!1;T&&T.binary!==void 0||(N.binary=!U),(D instanceof m&&D.uncompressedSize===0||N.dir||!D||D.length===0)&&(N.base64=!1,N.binary=!0,D="",N.compression="STORE",O="string");var F=null;F=D instanceof m||D instanceof p?D:e.isNode&&e.isStream(D)?new r(E,D):h.prepareContent(E,D,N.binary,N.optimizedBinaryString,N.base64);var Y=new o(E,F,N);this.files[E]=Y}var _=J("./utf8"),h=J("./utils"),p=J("./stream/GenericWorker"),f=J("./stream/StreamHelper"),w=J("./defaults"),m=J("./compressedObject"),o=J("./zipObject"),i=J("./generate"),e=J("./nodejsUtils"),r=J("./nodejs/NodejsStreamInputAdapter"),n=function(D){D.slice(-1)==="/"&&(D=D.substring(0,D.length-1));var T=D.lastIndexOf("/");return 0<T?D.substring(0,T):""},c=function(D){return D.slice(-1)!=="/"&&(D+="/"),D},t=function(D,T){return T=T!==void 0?T:w.createFolders,D=c(D),this.files[D]||C.call(this,D,null,{dir:!0,createFolders:T}),this.files[D]};function d(E){return Object.prototype.toString.call(E)==="[object RegExp]"}var g={load:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},forEach:function(D){var T,A,O;for(T in this.files)O=this.files[T],(A=T.slice(this.root.length,T.length))&&T.slice(0,this.root.length)===this.root&&D(A,O)},filter:function(D){var T=[];return this.forEach(function(A,O){D(A,O)&&T.push(O)}),T},file:function(D,T,A){if(arguments.length!==1)return D=this.root+D,C.call(this,D,T,A),this;if(d(D)){var O=D;return this.filter(function(U,F){return!F.dir&&O.test(U)})}var N=this.files[this.root+D];return N&&!N.dir?N:null},folder:function(D){if(!D)return this;if(d(D))return this.filter(function(N,U){return U.dir&&D.test(N)});var T=this.root+D,A=t.call(this,T),O=this.clone();return O.root=A.name,O},remove:function(D){D=this.root+D;var T=this.files[D];if(T||(D.slice(-1)!=="/"&&(D+="/"),T=this.files[D]),T&&!T.dir)delete this.files[D];else for(var A=this.filter(function(N,U){return U.name.slice(0,D.length)===D}),O=0;O<A.length;O++)delete this.files[A[O].name];return this},generate:function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},generateInternalStream:function(D){var T,A={};try{if((A=h.extend(D||{},{streamFiles:!1,compression:"STORE",compressionOptions:null,type:"",platform:"DOS",comment:null,mimeType:"application/zip",encodeFileName:_.utf8encode})).type=A.type.toLowerCase(),A.compression=A.compression.toUpperCase(),A.type==="binarystring"&&(A.type="string"),!A.type)throw new Error("No output type specified.");h.checkSupport(A.type),A.platform!=="darwin"&&A.platform!=="freebsd"&&A.platform!=="linux"&&A.platform!=="sunos"||(A.platform="UNIX"),A.platform==="win32"&&(A.platform="DOS");var O=A.comment||this.comment||"";T=i.generateWorker(this,A,O)}catch(N){(T=new p("error")).error(N)}return new f(T,A.type||"string",A.mimeType)},generateAsync:function(D,T){return this.generateInternalStream(D).accumulate(T)},generateNodeStream:function(D,T){return(D=D||{}).type||(D.type="nodebuffer"),this.generateInternalStream(D).toNodejsStream(T)}};re.exports=g},{"./compressedObject":2,"./defaults":5,"./generate":9,"./nodejs/NodejsStreamInputAdapter":12,"./nodejsUtils":14,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31,"./utils":32,"./zipObject":35}],16:[function(J,re,L){"use strict";re.exports=J("stream")},{stream:void 0}],17:[function(J,re,L){"use strict";var C=J("./DataReader");function _(h){C.call(this,h);for(var p=0;p<this.data.length;p++)h[p]=255&h[p]}J("../utils").inherits(_,C),_.prototype.byteAt=function(h){return this.data[this.zero+h]},_.prototype.lastIndexOfSignature=function(h){for(var p=h.charCodeAt(0),f=h.charCodeAt(1),w=h.charCodeAt(2),m=h.charCodeAt(3),o=this.length-4;0<=o;--o)if(this.data[o]===p&&this.data[o+1]===f&&this.data[o+2]===w&&this.data[o+3]===m)return o-this.zero;return-1},_.prototype.readAndCheckSignature=function(h){var p=h.charCodeAt(0),f=h.charCodeAt(1),w=h.charCodeAt(2),m=h.charCodeAt(3),o=this.readData(4);return p===o[0]&&f===o[1]&&w===o[2]&&m===o[3]},_.prototype.readData=function(h){if(this.checkOffset(h),h===0)return[];var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},re.exports=_},{"../utils":32,"./DataReader":18}],18:[function(J,re,L){"use strict";var C=J("../utils");function _(h){this.data=h,this.length=h.length,this.index=0,this.zero=0}_.prototype={checkOffset:function(p){this.checkIndex(this.index+p)},checkIndex:function(p){if(this.length<this.zero+p||p<0)throw new Error("End of data reached (data length = "+this.length+", asked index = "+p+"). Corrupted zip ?")},setIndex:function(p){this.checkIndex(p),this.index=p},skip:function(p){this.setIndex(this.index+p)},byteAt:function(){},readInt:function(p){var f,w=0;for(this.checkOffset(p),f=this.index+p-1;f>=this.index;f--)w=(w<<8)+this.byteAt(f);return this.index+=p,w},readString:function(p){return C.transformTo("string",this.readData(p))},readData:function(){},lastIndexOfSignature:function(){},readAndCheckSignature:function(){},readDate:function(){var p=this.readInt(4);return new Date(Date.UTC(1980+(p>>25&127),(p>>21&15)-1,p>>16&31,p>>11&31,p>>5&63,(31&p)<<1))}},re.exports=_},{"../utils":32}],19:[function(J,re,L){"use strict";var C=J("./Uint8ArrayReader");function _(h){C.call(this,h)}J("../utils").inherits(_,C),_.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},re.exports=_},{"../utils":32,"./Uint8ArrayReader":21}],20:[function(J,re,L){"use strict";var C=J("./DataReader");function _(h){C.call(this,h)}J("../utils").inherits(_,C),_.prototype.byteAt=function(h){return this.data.charCodeAt(this.zero+h)},_.prototype.lastIndexOfSignature=function(h){return this.data.lastIndexOf(h)-this.zero},_.prototype.readAndCheckSignature=function(h){return h===this.readData(4)},_.prototype.readData=function(h){this.checkOffset(h);var p=this.data.slice(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},re.exports=_},{"../utils":32,"./DataReader":18}],21:[function(J,re,L){"use strict";var C=J("./ArrayReader");function _(h){C.call(this,h)}J("../utils").inherits(_,C),_.prototype.readData=function(h){if(this.checkOffset(h),h===0)return new Uint8Array(0);var p=this.data.subarray(this.zero+this.index,this.zero+this.index+h);return this.index+=h,p},re.exports=_},{"../utils":32,"./ArrayReader":17}],22:[function(J,re,L){"use strict";var C=J("../utils"),_=J("../support"),h=J("./ArrayReader"),p=J("./StringReader"),f=J("./NodeBufferReader"),w=J("./Uint8ArrayReader");re.exports=function(m){var o=C.getTypeOf(m);return C.checkSupport(o),o!=="string"||_.uint8array?o==="nodebuffer"?new f(m):_.uint8array?new w(C.transformTo("uint8array",m)):new h(C.transformTo("array",m)):new p(m)}},{"../support":30,"../utils":32,"./ArrayReader":17,"./NodeBufferReader":19,"./StringReader":20,"./Uint8ArrayReader":21}],23:[function(J,re,L){"use strict";L.LOCAL_FILE_HEADER="PK",L.CENTRAL_FILE_HEADER="PK",L.CENTRAL_DIRECTORY_END="PK",L.ZIP64_CENTRAL_DIRECTORY_LOCATOR="PK\x07",L.ZIP64_CENTRAL_DIRECTORY_END="PK",L.DATA_DESCRIPTOR="PK\x07\b"},{}],24:[function(J,re,L){"use strict";var C=J("./GenericWorker"),_=J("../utils");function h(p){C.call(this,"ConvertWorker to "+p),this.destType=p}_.inherits(h,C),h.prototype.processChunk=function(p){this.push({data:_.transformTo(this.destType,p.data),meta:p.meta})},re.exports=h},{"../utils":32,"./GenericWorker":28}],25:[function(J,re,L){"use strict";var C=J("./GenericWorker"),_=J("../crc32");function h(){C.call(this,"Crc32Probe"),this.withStreamInfo("crc32",0)}J("../utils").inherits(h,C),h.prototype.processChunk=function(p){this.streamInfo.crc32=_(p.data,this.streamInfo.crc32||0),this.push(p)},re.exports=h},{"../crc32":4,"../utils":32,"./GenericWorker":28}],26:[function(J,re,L){"use strict";var C=J("../utils"),_=J("./GenericWorker");function h(p){_.call(this,"DataLengthProbe for "+p),this.propName=p,this.withStreamInfo(p,0)}C.inherits(h,_),h.prototype.processChunk=function(p){if(p){var f=this.streamInfo[this.propName]||0;this.streamInfo[this.propName]=f+p.data.length}_.prototype.processChunk.call(this,p)},re.exports=h},{"../utils":32,"./GenericWorker":28}],27:[function(J,re,L){"use strict";var C=J("../utils"),_=J("./GenericWorker");function h(p){_.call(this,"DataWorker");var f=this;this.dataIsReady=!1,this.index=0,this.max=0,this.data=null,this.type="",this._tickScheduled=!1,p.then(function(w){f.dataIsReady=!0,f.data=w,f.max=w&&w.length||0,f.type=C.getTypeOf(w),f.isPaused||f._tickAndRepeat()},function(w){f.error(w)})}C.inherits(h,_),h.prototype.cleanUp=function(){_.prototype.cleanUp.call(this),this.data=null},h.prototype.resume=function(){return!!_.prototype.resume.call(this)&&(!this._tickScheduled&&this.dataIsReady&&(this._tickScheduled=!0,C.delay(this._tickAndRepeat,[],this)),!0)},h.prototype._tickAndRepeat=function(){this._tickScheduled=!1,this.isPaused||this.isFinished||(this._tick(),this.isFinished||(C.delay(this._tickAndRepeat,[],this),this._tickScheduled=!0))},h.prototype._tick=function(){if(this.isPaused||this.isFinished)return!1;var p=null,f=Math.min(this.max,this.index+16384);if(this.index>=this.max)return this.end();switch(this.type){case"string":p=this.data.substring(this.index,f);break;case"uint8array":p=this.data.subarray(this.index,f);break;case"array":case"nodebuffer":p=this.data.slice(this.index,f)}return this.index=f,this.push({data:p,meta:{percent:this.max?this.index/this.max*100:0}})},re.exports=h},{"../utils":32,"./GenericWorker":28}],28:[function(J,re,L){"use strict";function C(_){this.name=_||"default",this.streamInfo={},this.generatedError=null,this.extraStreamInfo={},this.isPaused=!0,this.isFinished=!1,this.isLocked=!1,this._listeners={data:[],end:[],error:[]},this.previous=null}C.prototype={push:function(h){this.emit("data",h)},end:function(){if(this.isFinished)return!1;this.flush();try{this.emit("end"),this.cleanUp(),this.isFinished=!0}catch(h){this.emit("error",h)}return!0},error:function(h){return!this.isFinished&&(this.isPaused?this.generatedError=h:(this.isFinished=!0,this.emit("error",h),this.previous&&this.previous.error(h),this.cleanUp()),!0)},on:function(h,p){return this._listeners[h].push(p),this},cleanUp:function(){this.streamInfo=this.generatedError=this.extraStreamInfo=null,this._listeners=[]},emit:function(h,p){if(this._listeners[h])for(var f=0;f<this._listeners[h].length;f++)this._listeners[h][f].call(this,p)},pipe:function(h){return h.registerPrevious(this)},registerPrevious:function(h){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.streamInfo=h.streamInfo,this.mergeStreamInfo(),this.previous=h;var p=this;return h.on("data",function(f){p.processChunk(f)}),h.on("end",function(){p.end()}),h.on("error",function(f){p.error(f)}),this},pause:function(){return!this.isPaused&&!this.isFinished&&(this.isPaused=!0,this.previous&&this.previous.pause(),!0)},resume:function(){if(!this.isPaused||this.isFinished)return!1;var h=this.isPaused=!1;return this.generatedError&&(this.error(this.generatedError),h=!0),this.previous&&this.previous.resume(),!h},flush:function(){},processChunk:function(h){this.push(h)},withStreamInfo:function(h,p){return this.extraStreamInfo[h]=p,this.mergeStreamInfo(),this},mergeStreamInfo:function(){for(var h in this.extraStreamInfo)Object.prototype.hasOwnProperty.call(this.extraStreamInfo,h)&&(this.streamInfo[h]=this.extraStreamInfo[h])},lock:function(){if(this.isLocked)throw new Error("The stream '"+this+"' has already been used.");this.isLocked=!0,this.previous&&this.previous.lock()},toString:function(){var h="Worker "+this.name;return this.previous?this.previous+" -> "+h:h}},re.exports=C},{}],29:[function(J,re,L){"use strict";var C=J("../utils"),_=J("./ConvertWorker"),h=J("./GenericWorker"),p=J("../base64"),f=J("../support"),w=J("../external"),m=null;if(f.nodestream)try{m=J("../nodejs/NodejsStreamOutputAdapter")}catch(e){}function o(e,r){return new w.Promise(function(n,c){var t=[],d=e._internalType,g=e._outputType,E=e._mimeType;e.on("data",function(D,T){t.push(D),r&&r(T)}).on("error",function(D){t=[],c(D)}).on("end",function(){try{var D=function(T,A,O){switch(T){case"blob":return C.newBlob(C.transformTo("arraybuffer",A),O);case"base64":return p.encode(A);default:return C.transformTo(T,A)}}(g,function(T,A){var O,N=0,U=null,F=0;for(O=0;O<A.length;O++)F+=A[O].length;switch(T){case"string":return A.join("");case"array":return Array.prototype.concat.apply([],A);case"uint8array":for(U=new Uint8Array(F),O=0;O<A.length;O++)U.set(A[O],N),N+=A[O].length;return U;case"nodebuffer":return qe.concat(A);default:throw new Error("concat : unsupported type '"+T+"'")}}(d,t),E);n(D)}catch(T){c(T)}t=[]}).resume()})}function i(e,r,n){var c=r;switch(r){case"blob":case"arraybuffer":c="uint8array";break;case"base64":c="string"}try{this._internalType=c,this._outputType=r,this._mimeType=n,C.checkSupport(c),this._worker=e.pipe(new _(c)),e.lock()}catch(t){this._worker=new h("error"),this._worker.error(t)}}i.prototype={accumulate:function(r){return o(this,r)},on:function(r,n){var c=this;return r==="data"?this._worker.on(r,function(t){n.call(c,t.data,t.meta)}):this._worker.on(r,function(){C.delay(n,arguments,c)}),this},resume:function(){return C.delay(this._worker.resume,[],this._worker),this},pause:function(){return this._worker.pause(),this},toNodejsStream:function(r){if(C.checkSupport("nodestream"),this._outputType!=="nodebuffer")throw new Error(this._outputType+" is not supported by this method");return new m(this,{objectMode:this._outputType!=="nodebuffer"},r)}},re.exports=i},{"../base64":1,"../external":6,"../nodejs/NodejsStreamOutputAdapter":13,"../support":30,"../utils":32,"./ConvertWorker":24,"./GenericWorker":28}],30:[function(J,re,L){"use strict";if(L.base64=!0,L.array=!0,L.string=!0,L.arraybuffer=typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined",L.nodebuffer=typeof qe!="undefined",L.uint8array=typeof Uint8Array!="undefined",typeof ArrayBuffer=="undefined")L.blob=!1;else{var C=new ArrayBuffer(0);try{L.blob=new Blob([C],{type:"application/zip"}).size===0}catch(h){try{var _=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);_.append(C),L.blob=_.getBlob("application/zip").size===0}catch(p){L.blob=!1}}}try{L.nodestream=!!J("readable-stream").Readable}catch(h){L.nodestream=!1}},{"readable-stream":16}],31:[function(J,re,L){"use strict";for(var C=J("./utils"),_=J("./support"),h=J("./nodejsUtils"),p=J("./stream/GenericWorker"),f=new Array(256),w=0;w<256;w++)f[w]=252<=w?6:248<=w?5:240<=w?4:224<=w?3:192<=w?2:1;f[254]=f[254]=1;function m(){p.call(this,"utf-8 decode"),this.leftOver=null}function o(){p.call(this,"utf-8 encode")}L.utf8encode=function(i){return _.nodebuffer?h.newBufferFrom(i,"utf-8"):function(e){var r,n,c,t,d,g=e.length,E=0;for(t=0;t<g;t++)(64512&(n=e.charCodeAt(t)))==55296&&t+1<g&&(64512&(c=e.charCodeAt(t+1)))==56320&&(n=65536+(n-55296<<10)+(c-56320),t++),E+=n<128?1:n<2048?2:n<65536?3:4;for(r=_.uint8array?new Uint8Array(E):new Array(E),t=d=0;d<E;t++)(64512&(n=e.charCodeAt(t)))==55296&&t+1<g&&(64512&(c=e.charCodeAt(t+1)))==56320&&(n=65536+(n-55296<<10)+(c-56320),t++),n<128?r[d++]=n:(n<2048?r[d++]=192|n>>>6:(n<65536?r[d++]=224|n>>>12:(r[d++]=240|n>>>18,r[d++]=128|n>>>12&63),r[d++]=128|n>>>6&63),r[d++]=128|63&n);return r}(i)},L.utf8decode=function(i){return _.nodebuffer?C.transformTo("nodebuffer",i).toString("utf-8"):function(e){var r,n,c,t,d=e.length,g=new Array(2*d);for(r=n=0;r<d;)if((c=e[r++])<128)g[n++]=c;else if(4<(t=f[c]))g[n++]=65533,r+=t-1;else{for(c&=t===2?31:t===3?15:7;1<t&&r<d;)c=c<<6|63&e[r++],t--;1<t?g[n++]=65533:c<65536?g[n++]=c:(c-=65536,g[n++]=55296|c>>10&1023,g[n++]=56320|1023&c)}return g.length!==n&&(g.subarray?g=g.subarray(0,n):g.length=n),C.applyFromCharCode(g)}(i=C.transformTo(_.uint8array?"uint8array":"array",i))},C.inherits(m,p),m.prototype.processChunk=function(i){var e=C.transformTo(_.uint8array?"uint8array":"array",i.data);if(this.leftOver&&this.leftOver.length){if(_.uint8array){var r=e;(e=new Uint8Array(r.length+this.leftOver.length)).set(this.leftOver,0),e.set(r,this.leftOver.length)}else e=this.leftOver.concat(e);this.leftOver=null}var n=function(t,d){var g;for((d=d||t.length)>t.length&&(d=t.length),g=d-1;0<=g&&(192&t[g])==128;)g--;return g<0||g===0?d:g+f[t[g]]>d?g:d}(e),c=e;n!==e.length&&(_.uint8array?(c=e.subarray(0,n),this.leftOver=e.subarray(n,e.length)):(c=e.slice(0,n),this.leftOver=e.slice(n,e.length))),this.push({data:L.utf8decode(c),meta:i.meta})},m.prototype.flush=function(){this.leftOver&&this.leftOver.length&&(this.push({data:L.utf8decode(this.leftOver),meta:{}}),this.leftOver=null)},L.Utf8DecodeWorker=m,C.inherits(o,p),o.prototype.processChunk=function(i){this.push({data:L.utf8encode(i.data),meta:i.meta})},L.Utf8EncodeWorker=o},{"./nodejsUtils":14,"./stream/GenericWorker":28,"./support":30,"./utils":32}],32:[function(J,re,L){"use strict";var C=J("./support"),_=J("./base64"),h=J("./nodejsUtils"),p=J("./external");function f(r){return r}function w(r,n){for(var c=0;c<r.length;++c)n[c]=255&r.charCodeAt(c);return n}J("setimmediate"),L.newBlob=function(r,n){L.checkSupport("blob");try{return new Blob([r],{type:n})}catch(t){try{var c=new(self.BlobBuilder||self.WebKitBlobBuilder||self.MozBlobBuilder||self.MSBlobBuilder);return c.append(r),c.getBlob(n)}catch(d){throw new Error("Bug : can't construct the Blob.")}}};var m={stringifyByChunk:function(n,c,t){var d=[],g=0,E=n.length;if(E<=t)return String.fromCharCode.apply(null,n);for(;g<E;)c==="array"||c==="nodebuffer"?d.push(String.fromCharCode.apply(null,n.slice(g,Math.min(g+t,E)))):d.push(String.fromCharCode.apply(null,n.subarray(g,Math.min(g+t,E)))),g+=t;return d.join("")},stringifyByChar:function(n){for(var c="",t=0;t<n.length;t++)c+=String.fromCharCode(n[t]);return c},applyCanBeUsed:{uint8array:function(){try{return C.uint8array&&String.fromCharCode.apply(null,new Uint8Array(1)).length===1}catch(r){return!1}}(),nodebuffer:function(){try{return C.nodebuffer&&String.fromCharCode.apply(null,h.allocBuffer(1)).length===1}catch(r){return!1}}()}};function o(r){var n=65536,c=L.getTypeOf(r),t=!0;if(c==="uint8array"?t=m.applyCanBeUsed.uint8array:c==="nodebuffer"&&(t=m.applyCanBeUsed.nodebuffer),t)for(;1<n;)try{return m.stringifyByChunk(r,c,n)}catch(d){n=Math.floor(n/2)}return m.stringifyByChar(r)}function i(r,n){for(var c=0;c<r.length;c++)n[c]=r[c];return n}L.applyFromCharCode=o;var e={};e.string={string:f,array:function(n){return w(n,new Array(n.length))},arraybuffer:function(n){return e.string.uint8array(n).buffer},uint8array:function(n){return w(n,new Uint8Array(n.length))},nodebuffer:function(n){return w(n,h.allocBuffer(n.length))}},e.array={string:o,array:f,arraybuffer:function(n){return new Uint8Array(n).buffer},uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return h.newBufferFrom(n)}},e.arraybuffer={string:function(n){return o(new Uint8Array(n))},array:function(n){return i(new Uint8Array(n),new Array(n.byteLength))},arraybuffer:f,uint8array:function(n){return new Uint8Array(n)},nodebuffer:function(n){return h.newBufferFrom(new Uint8Array(n))}},e.uint8array={string:o,array:function(n){return i(n,new Array(n.length))},arraybuffer:function(n){return n.buffer},uint8array:f,nodebuffer:function(n){return h.newBufferFrom(n)}},e.nodebuffer={string:o,array:function(n){return i(n,new Array(n.length))},arraybuffer:function(n){return e.nodebuffer.uint8array(n).buffer},uint8array:function(n){return i(n,new Uint8Array(n.length))},nodebuffer:f},L.transformTo=function(r,n){if(n=n||"",!r)return n;L.checkSupport(r);var c=L.getTypeOf(n);return e[c][r](n)},L.resolve=function(r){for(var n=r.split("/"),c=[],t=0;t<n.length;t++){var d=n[t];d==="."||d===""&&t!==0&&t!==n.length-1||(d===".."?c.pop():c.push(d))}return c.join("/")},L.getTypeOf=function(r){return typeof r=="string"?"string":Object.prototype.toString.call(r)==="[object Array]"?"array":C.nodebuffer&&h.isBuffer(r)?"nodebuffer":C.uint8array&&r instanceof Uint8Array?"uint8array":C.arraybuffer&&r instanceof ArrayBuffer?"arraybuffer":void 0},L.checkSupport=function(r){if(!C[r.toLowerCase()])throw new Error(r+" is not supported by this platform")},L.MAX_VALUE_16BITS=65535,L.MAX_VALUE_32BITS=-1,L.pretty=function(r){var n,c,t="";for(c=0;c<(r||"").length;c++)t+="\\x"+((n=r.charCodeAt(c))<16?"0":"")+n.toString(16).toUpperCase();return t},L.delay=function(r,n,c){setImmediate(function(){r.apply(c||null,n||[])})},L.inherits=function(r,n){function c(){}c.prototype=n.prototype,r.prototype=new c},L.extend=function(){var r,n,c={};for(r=0;r<arguments.length;r++)for(n in arguments[r])Object.prototype.hasOwnProperty.call(arguments[r],n)&&c[n]===void 0&&(c[n]=arguments[r][n]);return c},L.prepareContent=function(r,n,c,t,d){return p.Promise.resolve(n).then(function(g){return C.blob&&(g instanceof Blob||["[object File]","[object Blob]"].indexOf(Object.prototype.toString.call(g))!==-1)&&typeof FileReader!="undefined"?new p.Promise(function(E,D){var T=new FileReader;T.onload=function(A){E(A.target.result)},T.onerror=function(A){D(A.target.error)},T.readAsArrayBuffer(g)}):g}).then(function(g){var E=L.getTypeOf(g);return E?(E==="arraybuffer"?g=L.transformTo("uint8array",g):E==="string"&&(d?g=_.decode(g):c&&t!==!0&&(g=function(D){return w(D,C.uint8array?new Uint8Array(D.length):new Array(D.length))}(g))),g):p.Promise.reject(new Error("Can't read the data of '"+r+"'. Is it in a supported JavaScript type (String, Blob, ArrayBuffer, etc) ?"))})}},{"./base64":1,"./external":6,"./nodejsUtils":14,"./support":30,setimmediate:54}],33:[function(J,re,L){"use strict";var C=J("./reader/readerFor"),_=J("./utils"),h=J("./signature"),p=J("./zipEntry"),f=J("./support");function w(m){this.files=[],this.loadOptions=m}w.prototype={checkSignature:function(o){if(!this.reader.readAndCheckSignature(o)){this.reader.index-=4;var i=this.reader.readString(4);throw new Error("Corrupted zip or bug: unexpected signature ("+_.pretty(i)+", expected "+_.pretty(o)+")")}},isSignature:function(o,i){var e=this.reader.index;this.reader.setIndex(o);var r=this.reader.readString(4)===i;return this.reader.setIndex(e),r},readBlockEndOfCentral:function(){this.diskNumber=this.reader.readInt(2),this.diskWithCentralDirStart=this.reader.readInt(2),this.centralDirRecordsOnThisDisk=this.reader.readInt(2),this.centralDirRecords=this.reader.readInt(2),this.centralDirSize=this.reader.readInt(4),this.centralDirOffset=this.reader.readInt(4),this.zipCommentLength=this.reader.readInt(2);var o=this.reader.readData(this.zipCommentLength),i=f.uint8array?"uint8array":"array",e=_.transformTo(i,o);this.zipComment=this.loadOptions.decodeFileName(e)},readBlockZip64EndOfCentral:function(){this.zip64EndOfCentralSize=this.reader.readInt(8),this.reader.skip(4),this.diskNumber=this.reader.readInt(4),this.diskWithCentralDirStart=this.reader.readInt(4),this.centralDirRecordsOnThisDisk=this.reader.readInt(8),this.centralDirRecords=this.reader.readInt(8),this.centralDirSize=this.reader.readInt(8),this.centralDirOffset=this.reader.readInt(8),this.zip64ExtensibleData={};for(var o,i,e,r=this.zip64EndOfCentralSize-44;0<r;)o=this.reader.readInt(2),i=this.reader.readInt(4),e=this.reader.readData(i),this.zip64ExtensibleData[o]={id:o,length:i,value:e}},readBlockZip64EndOfCentralLocator:function(){if(this.diskWithZip64CentralDirStart=this.reader.readInt(4),this.relativeOffsetEndOfZip64CentralDir=this.reader.readInt(8),this.disksCount=this.reader.readInt(4),1<this.disksCount)throw new Error("Multi-volumes zip are not supported")},readLocalFiles:function(){var o,i;for(o=0;o<this.files.length;o++)i=this.files[o],this.reader.setIndex(i.localHeaderOffset),this.checkSignature(h.LOCAL_FILE_HEADER),i.readLocalPart(this.reader),i.handleUTF8(),i.processAttributes()},readCentralDir:function(){var o;for(this.reader.setIndex(this.centralDirOffset);this.reader.readAndCheckSignature(h.CENTRAL_FILE_HEADER);)(o=new p({zip64:this.zip64},this.loadOptions)).readCentralPart(this.reader),this.files.push(o);if(this.centralDirRecords!==this.files.length&&this.centralDirRecords!==0&&this.files.length===0)throw new Error("Corrupted zip or bug: expected "+this.centralDirRecords+" records in central dir, got "+this.files.length)},readEndOfCentral:function(){var o=this.reader.lastIndexOfSignature(h.CENTRAL_DIRECTORY_END);if(o<0)throw this.isSignature(0,h.LOCAL_FILE_HEADER)?new Error("Corrupted zip: can't find end of central directory"):new Error("Can't find end of central directory : is this a zip file ? If it is, see https://stuk.github.io/jszip/documentation/howto/read_zip.html");this.reader.setIndex(o);var i=o;if(this.checkSignature(h.CENTRAL_DIRECTORY_END),this.readBlockEndOfCentral(),this.diskNumber===_.MAX_VALUE_16BITS||this.diskWithCentralDirStart===_.MAX_VALUE_16BITS||this.centralDirRecordsOnThisDisk===_.MAX_VALUE_16BITS||this.centralDirRecords===_.MAX_VALUE_16BITS||this.centralDirSize===_.MAX_VALUE_32BITS||this.centralDirOffset===_.MAX_VALUE_32BITS){if(this.zip64=!0,(o=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR))<0)throw new Error("Corrupted zip: can't find the ZIP64 end of central directory locator");if(this.reader.setIndex(o),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_LOCATOR),this.readBlockZip64EndOfCentralLocator(),!this.isSignature(this.relativeOffsetEndOfZip64CentralDir,h.ZIP64_CENTRAL_DIRECTORY_END)&&(this.relativeOffsetEndOfZip64CentralDir=this.reader.lastIndexOfSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.relativeOffsetEndOfZip64CentralDir<0))throw new Error("Corrupted zip: can't find the ZIP64 end of central directory");this.reader.setIndex(this.relativeOffsetEndOfZip64CentralDir),this.checkSignature(h.ZIP64_CENTRAL_DIRECTORY_END),this.readBlockZip64EndOfCentral()}var e=this.centralDirOffset+this.centralDirSize;this.zip64&&(e+=20,e+=12+this.zip64EndOfCentralSize);var r=i-e;if(0<r)this.isSignature(i,h.CENTRAL_FILE_HEADER)||(this.reader.zero=r);else if(r<0)throw new Error("Corrupted zip: missing "+Math.abs(r)+" bytes.")},prepareReader:function(o){this.reader=C(o)},load:function(o){this.prepareReader(o),this.readEndOfCentral(),this.readCentralDir(),this.readLocalFiles()}},re.exports=w},{"./reader/readerFor":22,"./signature":23,"./support":30,"./utils":32,"./zipEntry":34}],34:[function(J,re,L){"use strict";var C=J("./reader/readerFor"),_=J("./utils"),h=J("./compressedObject"),p=J("./crc32"),f=J("./utf8"),w=J("./compressions"),m=J("./support");function o(i,e){this.options=i,this.loadOptions=e}o.prototype={isEncrypted:function(){return(1&this.bitFlag)==1},useUTF8:function(){return(2048&this.bitFlag)==2048},readLocalPart:function(e){var r,n;if(e.skip(22),this.fileNameLength=e.readInt(2),n=e.readInt(2),this.fileName=e.readData(this.fileNameLength),e.skip(n),this.compressedSize===-1||this.uncompressedSize===-1)throw new Error("Bug or corrupted zip : didn't get enough information from the central directory (compressedSize === -1 || uncompressedSize === -1)");if((r=function(c){for(var t in w)if(Object.prototype.hasOwnProperty.call(w,t)&&w[t].magic===c)return w[t];return null}(this.compressionMethod))===null)throw new Error("Corrupted zip : compression "+_.pretty(this.compressionMethod)+" unknown (inner file : "+_.transformTo("string",this.fileName)+")");this.decompressed=new h(this.compressedSize,this.uncompressedSize,this.crc32,r,e.readData(this.compressedSize))},readCentralPart:function(e){this.versionMadeBy=e.readInt(2),e.skip(2),this.bitFlag=e.readInt(2),this.compressionMethod=e.readString(2),this.date=e.readDate(),this.crc32=e.readInt(4),this.compressedSize=e.readInt(4),this.uncompressedSize=e.readInt(4);var r=e.readInt(2);if(this.extraFieldsLength=e.readInt(2),this.fileCommentLength=e.readInt(2),this.diskNumberStart=e.readInt(2),this.internalFileAttributes=e.readInt(2),this.externalFileAttributes=e.readInt(4),this.localHeaderOffset=e.readInt(4),this.isEncrypted())throw new Error("Encrypted zip are not supported");e.skip(r),this.readExtraFields(e),this.parseZIP64ExtraField(e),this.fileComment=e.readData(this.fileCommentLength)},processAttributes:function(){this.unixPermissions=null,this.dosPermissions=null;var e=this.versionMadeBy>>8;this.dir=!!(16&this.externalFileAttributes),e==0&&(this.dosPermissions=63&this.externalFileAttributes),e==3&&(this.unixPermissions=this.externalFileAttributes>>16&65535),this.dir||this.fileNameStr.slice(-1)!=="/"||(this.dir=!0)},parseZIP64ExtraField:function(){if(this.extraFields[1]){var e=C(this.extraFields[1].value);this.uncompressedSize===_.MAX_VALUE_32BITS&&(this.uncompressedSize=e.readInt(8)),this.compressedSize===_.MAX_VALUE_32BITS&&(this.compressedSize=e.readInt(8)),this.localHeaderOffset===_.MAX_VALUE_32BITS&&(this.localHeaderOffset=e.readInt(8)),this.diskNumberStart===_.MAX_VALUE_32BITS&&(this.diskNumberStart=e.readInt(4))}},readExtraFields:function(e){var r,n,c,t=e.index+this.extraFieldsLength;for(this.extraFields||(this.extraFields={});e.index+4<t;)r=e.readInt(2),n=e.readInt(2),c=e.readData(n),this.extraFields[r]={id:r,length:n,value:c};e.setIndex(t)},handleUTF8:function(){var e=m.uint8array?"uint8array":"array";if(this.useUTF8())this.fileNameStr=f.utf8decode(this.fileName),this.fileCommentStr=f.utf8decode(this.fileComment);else{var r=this.findExtraFieldUnicodePath();if(r!==null)this.fileNameStr=r;else{var n=_.transformTo(e,this.fileName);this.fileNameStr=this.loadOptions.decodeFileName(n)}var c=this.findExtraFieldUnicodeComment();if(c!==null)this.fileCommentStr=c;else{var t=_.transformTo(e,this.fileComment);this.fileCommentStr=this.loadOptions.decodeFileName(t)}}},findExtraFieldUnicodePath:function(){var e=this.extraFields[28789];if(e){var r=C(e.value);return r.readInt(1)!==1||p(this.fileName)!==r.readInt(4)?null:f.utf8decode(r.readData(e.length-5))}return null},findExtraFieldUnicodeComment:function(){var e=this.extraFields[25461];if(e){var r=C(e.value);return r.readInt(1)!==1||p(this.fileComment)!==r.readInt(4)?null:f.utf8decode(r.readData(e.length-5))}return null}},re.exports=o},{"./compressedObject":2,"./compressions":3,"./crc32":4,"./reader/readerFor":22,"./support":30,"./utf8":31,"./utils":32}],35:[function(J,re,L){"use strict";function C(e,r,n){this.name=e,this.dir=n.dir,this.date=n.date,this.comment=n.comment,this.unixPermissions=n.unixPermissions,this.dosPermissions=n.dosPermissions,this._data=r,this._dataBinary=n.binary,this.options={compression:n.compression,compressionOptions:n.compressionOptions}}var _=J("./stream/StreamHelper"),h=J("./stream/DataWorker"),p=J("./utf8"),f=J("./compressedObject"),w=J("./stream/GenericWorker");C.prototype={internalStream:function(r){var n=null,c="string";try{if(!r)throw new Error("No output type specified.");var t=(c=r.toLowerCase())==="string"||c==="text";c!=="binarystring"&&c!=="text"||(c="string"),n=this._decompressWorker();var d=!this._dataBinary;d&&!t&&(n=n.pipe(new p.Utf8EncodeWorker)),!d&&t&&(n=n.pipe(new p.Utf8DecodeWorker))}catch(g){(n=new w("error")).error(g)}return new _(n,c,"")},async:function(r,n){return this.internalStream(r).accumulate(n)},nodeStream:function(r,n){return this.internalStream(r||"nodebuffer").toNodejsStream(n)},_compressWorker:function(r,n){if(this._data instanceof f&&this._data.compression.magic===r.magic)return this._data.getCompressedWorker();var c=this._decompressWorker();return this._dataBinary||(c=c.pipe(new p.Utf8EncodeWorker)),f.createWorkerFrom(c,r,n)},_decompressWorker:function(){return this._data instanceof f?this._data.getContentWorker():this._data instanceof w?this._data:new h(this._data)}};for(var m=["asText","asBinary","asNodeBuffer","asUint8Array","asArrayBuffer"],o=function(){throw new Error("This method has been removed in JSZip 3.0, please check the upgrade guide.")},i=0;i<m.length;i++)C.prototype[m[i]]=o;re.exports=C},{"./compressedObject":2,"./stream/DataWorker":27,"./stream/GenericWorker":28,"./stream/StreamHelper":29,"./utf8":31}],36:[function(J,re,L){(function(C){"use strict";var _,h,p=C.MutationObserver||C.WebKitMutationObserver;if(p){var f=0,w=new p(e),m=C.document.createTextNode("");w.observe(m,{characterData:!0}),_=function(){m.data=f=++f%2}}else if(C.setImmediate||C.MessageChannel===void 0)_="document"in C&&"onreadystatechange"in C.document.createElement("script")?function(){var r=C.document.createElement("script");r.onreadystatechange=function(){e(),r.onreadystatechange=null,r.parentNode.removeChild(r),r=null},C.document.documentElement.appendChild(r)}:function(){setTimeout(e,0)};else{var o=new C.MessageChannel;o.port1.onmessage=e,_=function(){o.port2.postMessage(0)}}var i=[];function e(){var r,n;h=!0;for(var c=i.length;c;){for(n=i,i=[],r=-1;++r<c;)n[r]();c=i.length}h=!1}re.exports=function(r){i.push(r)!==1||h||_()}}).call(this,typeof Xe!="undefined"?Xe:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}],37:[function(J,re,L){"use strict";var C=J("immediate");function _(){}var h={},p=["REJECTED"],f=["FULFILLED"],w=["PENDING"];function m(c){if(typeof c!="function")throw new TypeError("resolver must be a function");this.state=w,this.queue=[],this.outcome=void 0,c!==_&&r(this,c)}function o(c,t,d){this.promise=c,typeof t=="function"&&(this.onFulfilled=t,this.callFulfilled=this.otherCallFulfilled),typeof d=="function"&&(this.onRejected=d,this.callRejected=this.otherCallRejected)}function i(c,t,d){C(function(){var g;try{g=t(d)}catch(E){return h.reject(c,E)}g===c?h.reject(c,new TypeError("Cannot resolve promise with itself")):h.resolve(c,g)})}function e(c){var t=c&&c.then;if(c&&(typeof c=="object"||typeof c=="function")&&typeof t=="function")return function(){t.apply(c,arguments)}}function r(c,t){var d=!1;function g(T){d||(d=!0,h.reject(c,T))}function E(T){d||(d=!0,h.resolve(c,T))}var D=n(function(){t(E,g)});D.status==="error"&&g(D.value)}function n(c,t){var d={};try{d.value=c(t),d.status="success"}catch(g){d.status="error",d.value=g}return d}(re.exports=m).prototype.finally=function(c){if(typeof c!="function")return this;var t=this.constructor;return this.then(function(d){return t.resolve(c()).then(function(){return d})},function(d){return t.resolve(c()).then(function(){throw d})})},m.prototype.catch=function(c){return this.then(null,c)},m.prototype.then=function(c,t){if(typeof c!="function"&&this.state===f||typeof t!="function"&&this.state===p)return this;var d=new this.constructor(_);return this.state!==w?i(d,this.state===f?c:t,this.outcome):this.queue.push(new o(d,c,t)),d},o.prototype.callFulfilled=function(c){h.resolve(this.promise,c)},o.prototype.otherCallFulfilled=function(c){i(this.promise,this.onFulfilled,c)},o.prototype.callRejected=function(c){h.reject(this.promise,c)},o.prototype.otherCallRejected=function(c){i(this.promise,this.onRejected,c)},h.resolve=function(c,t){var d=n(e,t);if(d.status==="error")return h.reject(c,d.value);var g=d.value;if(g)r(c,g);else{c.state=f,c.outcome=t;for(var E=-1,D=c.queue.length;++E<D;)c.queue[E].callFulfilled(t)}return c},h.reject=function(c,t){c.state=p,c.outcome=t;for(var d=-1,g=c.queue.length;++d<g;)c.queue[d].callRejected(t);return c},m.resolve=function(c){return c instanceof this?c:h.resolve(new this(_),c)},m.reject=function(c){var t=new this(_);return h.reject(t,c)},m.all=function(c){var t=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var d=c.length,g=!1;if(!d)return this.resolve([]);for(var E=new Array(d),D=0,T=-1,A=new this(_);++T<d;)O(c[T],T);return A;function O(N,U){t.resolve(N).then(function(F){E[U]=F,++D!==d||g||(g=!0,h.resolve(A,E))},function(F){g||(g=!0,h.reject(A,F))})}},m.race=function(c){var t=this;if(Object.prototype.toString.call(c)!=="[object Array]")return this.reject(new TypeError("must be an array"));var d=c.length,g=!1;if(!d)return this.resolve([]);for(var E=-1,D=new this(_);++E<d;)T=c[E],t.resolve(T).then(function(A){g||(g=!0,h.resolve(D,A))},function(A){g||(g=!0,h.reject(D,A))});var T;return D}},{immediate:36}],38:[function(J,re,L){"use strict";var C={};(0,J("./lib/utils/common").assign)(C,J("./lib/deflate"),J("./lib/inflate"),J("./lib/zlib/constants")),re.exports=C},{"./lib/deflate":39,"./lib/inflate":40,"./lib/utils/common":41,"./lib/zlib/constants":44}],39:[function(J,re,L){"use strict";var C=J("./zlib/deflate"),_=J("./utils/common"),h=J("./utils/strings"),p=J("./zlib/messages"),f=J("./zlib/zstream"),w=Object.prototype.toString,m=0,o=-1,i=0,e=8;function r(c){if(!(this instanceof r))return new r(c);this.options=_.assign({level:o,method:e,chunkSize:16384,windowBits:15,memLevel:8,strategy:i,to:""},c||{});var t=this.options;t.raw&&0<t.windowBits?t.windowBits=-t.windowBits:t.gzip&&0<t.windowBits&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new f,this.strm.avail_out=0;var d=C.deflateInit2(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(d!==m)throw new Error(p[d]);if(t.header&&C.deflateSetHeader(this.strm,t.header),t.dictionary){var g;if(g=typeof t.dictionary=="string"?h.string2buf(t.dictionary):w.call(t.dictionary)==="[object ArrayBuffer]"?new Uint8Array(t.dictionary):t.dictionary,(d=C.deflateSetDictionary(this.strm,g))!==m)throw new Error(p[d]);this._dict_set=!0}}function n(c,t){var d=new r(t);if(d.push(c,!0),d.err)throw d.msg||p[d.err];return d.result}r.prototype.push=function(c,t){var d,g,E=this.strm,D=this.options.chunkSize;if(this.ended)return!1;g=t===~~t?t:t===!0?4:0,typeof c=="string"?E.input=h.string2buf(c):w.call(c)==="[object ArrayBuffer]"?E.input=new Uint8Array(c):E.input=c,E.next_in=0,E.avail_in=E.input.length;do{if(E.avail_out===0&&(E.output=new _.Buf8(D),E.next_out=0,E.avail_out=D),(d=C.deflate(E,g))!==1&&d!==m)return this.onEnd(d),!(this.ended=!0);E.avail_out!==0&&(E.avail_in!==0||g!==4&&g!==2)||(this.options.to==="string"?this.onData(h.buf2binstring(_.shrinkBuf(E.output,E.next_out))):this.onData(_.shrinkBuf(E.output,E.next_out)))}while((0<E.avail_in||E.avail_out===0)&&d!==1);return g===4?(d=C.deflateEnd(this.strm),this.onEnd(d),this.ended=!0,d===m):g!==2||(this.onEnd(m),!(E.avail_out=0))},r.prototype.onData=function(c){this.chunks.push(c)},r.prototype.onEnd=function(c){c===m&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_.flattenChunks(this.chunks)),this.chunks=[],this.err=c,this.msg=this.strm.msg},L.Deflate=r,L.deflate=n,L.deflateRaw=function(c,t){return(t=t||{}).raw=!0,n(c,t)},L.gzip=function(c,t){return(t=t||{}).gzip=!0,n(c,t)}},{"./utils/common":41,"./utils/strings":42,"./zlib/deflate":46,"./zlib/messages":51,"./zlib/zstream":53}],40:[function(J,re,L){"use strict";var C=J("./zlib/inflate"),_=J("./utils/common"),h=J("./utils/strings"),p=J("./zlib/constants"),f=J("./zlib/messages"),w=J("./zlib/zstream"),m=J("./zlib/gzheader"),o=Object.prototype.toString;function i(r){if(!(this instanceof i))return new i(r);this.options=_.assign({chunkSize:16384,windowBits:0,to:""},r||{});var n=this.options;n.raw&&0<=n.windowBits&&n.windowBits<16&&(n.windowBits=-n.windowBits,n.windowBits===0&&(n.windowBits=-15)),!(0<=n.windowBits&&n.windowBits<16)||r&&r.windowBits||(n.windowBits+=32),15<n.windowBits&&n.windowBits<48&&(15&n.windowBits)==0&&(n.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new w,this.strm.avail_out=0;var c=C.inflateInit2(this.strm,n.windowBits);if(c!==p.Z_OK)throw new Error(f[c]);this.header=new m,C.inflateGetHeader(this.strm,this.header)}function e(r,n){var c=new i(n);if(c.push(r,!0),c.err)throw c.msg||f[c.err];return c.result}i.prototype.push=function(r,n){var c,t,d,g,E,D,T=this.strm,A=this.options.chunkSize,O=this.options.dictionary,N=!1;if(this.ended)return!1;t=n===~~n?n:n===!0?p.Z_FINISH:p.Z_NO_FLUSH,typeof r=="string"?T.input=h.binstring2buf(r):o.call(r)==="[object ArrayBuffer]"?T.input=new Uint8Array(r):T.input=r,T.next_in=0,T.avail_in=T.input.length;do{if(T.avail_out===0&&(T.output=new _.Buf8(A),T.next_out=0,T.avail_out=A),(c=C.inflate(T,p.Z_NO_FLUSH))===p.Z_NEED_DICT&&O&&(D=typeof O=="string"?h.string2buf(O):o.call(O)==="[object ArrayBuffer]"?new Uint8Array(O):O,c=C.inflateSetDictionary(this.strm,D)),c===p.Z_BUF_ERROR&&N===!0&&(c=p.Z_OK,N=!1),c!==p.Z_STREAM_END&&c!==p.Z_OK)return this.onEnd(c),!(this.ended=!0);T.next_out&&(T.avail_out!==0&&c!==p.Z_STREAM_END&&(T.avail_in!==0||t!==p.Z_FINISH&&t!==p.Z_SYNC_FLUSH)||(this.options.to==="string"?(d=h.utf8border(T.output,T.next_out),g=T.next_out-d,E=h.buf2string(T.output,d),T.next_out=g,T.avail_out=A-g,g&&_.arraySet(T.output,T.output,d,g,0),this.onData(E)):this.onData(_.shrinkBuf(T.output,T.next_out)))),T.avail_in===0&&T.avail_out===0&&(N=!0)}while((0<T.avail_in||T.avail_out===0)&&c!==p.Z_STREAM_END);return c===p.Z_STREAM_END&&(t=p.Z_FINISH),t===p.Z_FINISH?(c=C.inflateEnd(this.strm),this.onEnd(c),this.ended=!0,c===p.Z_OK):t!==p.Z_SYNC_FLUSH||(this.onEnd(p.Z_OK),!(T.avail_out=0))},i.prototype.onData=function(r){this.chunks.push(r)},i.prototype.onEnd=function(r){r===p.Z_OK&&(this.options.to==="string"?this.result=this.chunks.join(""):this.result=_.flattenChunks(this.chunks)),this.chunks=[],this.err=r,this.msg=this.strm.msg},L.Inflate=i,L.inflate=e,L.inflateRaw=function(r,n){return(n=n||{}).raw=!0,e(r,n)},L.ungzip=e},{"./utils/common":41,"./utils/strings":42,"./zlib/constants":44,"./zlib/gzheader":47,"./zlib/inflate":49,"./zlib/messages":51,"./zlib/zstream":53}],41:[function(J,re,L){"use strict";var C=typeof Uint8Array!="undefined"&&typeof Uint16Array!="undefined"&&typeof Int32Array!="undefined";L.assign=function(p){for(var f=Array.prototype.slice.call(arguments,1);f.length;){var w=f.shift();if(w){if(typeof w!="object")throw new TypeError(w+"must be non-object");for(var m in w)w.hasOwnProperty(m)&&(p[m]=w[m])}}return p},L.shrinkBuf=function(p,f){return p.length===f?p:p.subarray?p.subarray(0,f):(p.length=f,p)};var _={arraySet:function(f,w,m,o,i){if(w.subarray&&f.subarray)f.set(w.subarray(m,m+o),i);else for(var e=0;e<o;e++)f[i+e]=w[m+e]},flattenChunks:function(f){var w,m,o,i,e,r;for(w=o=0,m=f.length;w<m;w++)o+=f[w].length;for(r=new Uint8Array(o),w=i=0,m=f.length;w<m;w++)e=f[w],r.set(e,i),i+=e.length;return r}},h={arraySet:function(f,w,m,o,i){for(var e=0;e<o;e++)f[i+e]=w[m+e]},flattenChunks:function(f){return[].concat.apply([],f)}};L.setTyped=function(p){p?(L.Buf8=Uint8Array,L.Buf16=Uint16Array,L.Buf32=Int32Array,L.assign(L,_)):(L.Buf8=Array,L.Buf16=Array,L.Buf32=Array,L.assign(L,h))},L.setTyped(C)},{}],42:[function(J,re,L){"use strict";var C=J("./common"),_=!0,h=!0;try{String.fromCharCode.apply(null,[0])}catch(m){_=!1}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(m){h=!1}for(var p=new C.Buf8(256),f=0;f<256;f++)p[f]=252<=f?6:248<=f?5:240<=f?4:224<=f?3:192<=f?2:1;function w(m,o){if(o<65537&&(m.subarray&&h||!m.subarray&&_))return String.fromCharCode.apply(null,C.shrinkBuf(m,o));for(var i="",e=0;e<o;e++)i+=String.fromCharCode(m[e]);return i}p[254]=p[254]=1,L.string2buf=function(m){var o,i,e,r,n,c=m.length,t=0;for(r=0;r<c;r++)(64512&(i=m.charCodeAt(r)))==55296&&r+1<c&&(64512&(e=m.charCodeAt(r+1)))==56320&&(i=65536+(i-55296<<10)+(e-56320),r++),t+=i<128?1:i<2048?2:i<65536?3:4;for(o=new C.Buf8(t),r=n=0;n<t;r++)(64512&(i=m.charCodeAt(r)))==55296&&r+1<c&&(64512&(e=m.charCodeAt(r+1)))==56320&&(i=65536+(i-55296<<10)+(e-56320),r++),i<128?o[n++]=i:(i<2048?o[n++]=192|i>>>6:(i<65536?o[n++]=224|i>>>12:(o[n++]=240|i>>>18,o[n++]=128|i>>>12&63),o[n++]=128|i>>>6&63),o[n++]=128|63&i);return o},L.buf2binstring=function(m){return w(m,m.length)},L.binstring2buf=function(m){for(var o=new C.Buf8(m.length),i=0,e=o.length;i<e;i++)o[i]=m.charCodeAt(i);return o},L.buf2string=function(m,o){var i,e,r,n,c=o||m.length,t=new Array(2*c);for(i=e=0;i<c;)if((r=m[i++])<128)t[e++]=r;else if(4<(n=p[r]))t[e++]=65533,i+=n-1;else{for(r&=n===2?31:n===3?15:7;1<n&&i<c;)r=r<<6|63&m[i++],n--;1<n?t[e++]=65533:r<65536?t[e++]=r:(r-=65536,t[e++]=55296|r>>10&1023,t[e++]=56320|1023&r)}return w(t,e)},L.utf8border=function(m,o){var i;for((o=o||m.length)>m.length&&(o=m.length),i=o-1;0<=i&&(192&m[i])==128;)i--;return i<0||i===0?o:i+p[m[i]]>o?i:o}},{"./common":41}],43:[function(J,re,L){"use strict";re.exports=function(C,_,h,p){for(var f=65535&C|0,w=C>>>16&65535|0,m=0;h!==0;){for(h-=m=2e3<h?2e3:h;w=w+(f=f+_[p++]|0)|0,--m;);f%=65521,w%=65521}return f|w<<16|0}},{}],44:[function(J,re,L){"use strict";re.exports={Z_NO_FLUSH:0,Z_PARTIAL_FLUSH:1,Z_SYNC_FLUSH:2,Z_FULL_FLUSH:3,Z_FINISH:4,Z_BLOCK:5,Z_TREES:6,Z_OK:0,Z_STREAM_END:1,Z_NEED_DICT:2,Z_ERRNO:-1,Z_STREAM_ERROR:-2,Z_DATA_ERROR:-3,Z_BUF_ERROR:-5,Z_NO_COMPRESSION:0,Z_BEST_SPEED:1,Z_BEST_COMPRESSION:9,Z_DEFAULT_COMPRESSION:-1,Z_FILTERED:1,Z_HUFFMAN_ONLY:2,Z_RLE:3,Z_FIXED:4,Z_DEFAULT_STRATEGY:0,Z_BINARY:0,Z_TEXT:1,Z_UNKNOWN:2,Z_DEFLATED:8}},{}],45:[function(J,re,L){"use strict";var C=function(){for(var _,h=[],p=0;p<256;p++){_=p;for(var f=0;f<8;f++)_=1&_?3988292384^_>>>1:_>>>1;h[p]=_}return h}();re.exports=function(_,h,p,f){var w=C,m=f+p;_^=-1;for(var o=f;o<m;o++)_=_>>>8^w[255&(_^h[o])];return-1^_}},{}],46:[function(J,re,L){"use strict";var C,_=J("../utils/common"),h=J("./trees"),p=J("./adler32"),f=J("./crc32"),w=J("./messages"),m=0,o=4,i=0,e=-2,r=-1,n=4,c=2,t=8,d=9,g=286,E=30,D=19,T=2*g+1,A=15,O=3,N=258,U=N+O+1,F=42,Y=113,B=1,te=2,$=3,W=4;function X(z,ge){return z.msg=w[ge],ge}function M(z){return(z<<1)-(4<z?9:0)}function K(z){for(var ge=z.length;0<=--ge;)z[ge]=0}function H(z){var ge=z.state,Z=ge.pending;Z>z.avail_out&&(Z=z.avail_out),Z!==0&&(_.arraySet(z.output,ge.pending_buf,ge.pending_out,Z,z.next_out),z.next_out+=Z,ge.pending_out+=Z,z.total_out+=Z,z.avail_out-=Z,ge.pending-=Z,ge.pending===0&&(ge.pending_out=0))}function P(z,ge){h._tr_flush_block(z,0<=z.block_start?z.block_start:-1,z.strstart-z.block_start,ge),z.block_start=z.strstart,H(z.strm)}function ee(z,ge){z.pending_buf[z.pending++]=ge}function ue(z,ge){z.pending_buf[z.pending++]=ge>>>8&255,z.pending_buf[z.pending++]=255&ge}function de(z,ge){var Z,k,I=z.max_chain_length,q=z.strstart,G=z.prev_length,oe=z.nice_match,ae=z.strstart>z.w_size-U?z.strstart-(z.w_size-U):0,se=z.window,Re=z.w_mask,ke=z.prev,Ve=z.strstart+N,Ze=se[q+G-1],et=se[q+G];z.prev_length>=z.good_match&&(I>>=2),oe>z.lookahead&&(oe=z.lookahead);do if(se[(Z=ge)+G]===et&&se[Z+G-1]===Ze&&se[Z]===se[q]&&se[++Z]===se[q+1]){q+=2,Z++;do;while(se[++q]===se[++Z]&&se[++q]===se[++Z]&&se[++q]===se[++Z]&&se[++q]===se[++Z]&&se[++q]===se[++Z]&&se[++q]===se[++Z]&&se[++q]===se[++Z]&&se[++q]===se[++Z]&&q<Ve);if(k=N-(Ve-q),q=Ve-N,G<k){if(z.match_start=ge,oe<=(G=k))break;Ze=se[q+G-1],et=se[q+G]}}while((ge=ke[ge&Re])>ae&&--I!=0);return G<=z.lookahead?G:z.lookahead}function pe(z){var ge,Z,k,I,q,G,oe,ae,se,Re,ke=z.w_size;do{if(I=z.window_size-z.lookahead-z.strstart,z.strstart>=ke+(ke-U)){for(_.arraySet(z.window,z.window,ke,ke,0),z.match_start-=ke,z.strstart-=ke,z.block_start-=ke,ge=Z=z.hash_size;k=z.head[--ge],z.head[ge]=ke<=k?k-ke:0,--Z;);for(ge=Z=ke;k=z.prev[--ge],z.prev[ge]=ke<=k?k-ke:0,--Z;);I+=ke}if(z.strm.avail_in===0)break;if(G=z.strm,oe=z.window,ae=z.strstart+z.lookahead,se=I,Re=void 0,Re=G.avail_in,se<Re&&(Re=se),Z=Re===0?0:(G.avail_in-=Re,_.arraySet(oe,G.input,G.next_in,Re,ae),G.state.wrap===1?G.adler=p(G.adler,oe,Re,ae):G.state.wrap===2&&(G.adler=f(G.adler,oe,Re,ae)),G.next_in+=Re,G.total_in+=Re,Re),z.lookahead+=Z,z.lookahead+z.insert>=O)for(q=z.strstart-z.insert,z.ins_h=z.window[q],z.ins_h=(z.ins_h<<z.hash_shift^z.window[q+1])&z.hash_mask;z.insert&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[q+O-1])&z.hash_mask,z.prev[q&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=q,q++,z.insert--,!(z.lookahead+z.insert<O)););}while(z.lookahead<U&&z.strm.avail_in!==0)}function fe(z,ge){for(var Z,k;;){if(z.lookahead<U){if(pe(z),z.lookahead<U&&ge===m)return B;if(z.lookahead===0)break}if(Z=0,z.lookahead>=O&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+O-1])&z.hash_mask,Z=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),Z!==0&&z.strstart-Z<=z.w_size-U&&(z.match_length=de(z,Z)),z.match_length>=O)if(k=h._tr_tally(z,z.strstart-z.match_start,z.match_length-O),z.lookahead-=z.match_length,z.match_length<=z.max_lazy_match&&z.lookahead>=O){for(z.match_length--;z.strstart++,z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+O-1])&z.hash_mask,Z=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart,--z.match_length!=0;);z.strstart++}else z.strstart+=z.match_length,z.match_length=0,z.ins_h=z.window[z.strstart],z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+1])&z.hash_mask;else k=h._tr_tally(z,0,z.window[z.strstart]),z.lookahead--,z.strstart++;if(k&&(P(z,!1),z.strm.avail_out===0))return B}return z.insert=z.strstart<O-1?z.strstart:O-1,ge===o?(P(z,!0),z.strm.avail_out===0?$:W):z.last_lit&&(P(z,!1),z.strm.avail_out===0)?B:te}function ne(z,ge){for(var Z,k,I;;){if(z.lookahead<U){if(pe(z),z.lookahead<U&&ge===m)return B;if(z.lookahead===0)break}if(Z=0,z.lookahead>=O&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+O-1])&z.hash_mask,Z=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),z.prev_length=z.match_length,z.prev_match=z.match_start,z.match_length=O-1,Z!==0&&z.prev_length<z.max_lazy_match&&z.strstart-Z<=z.w_size-U&&(z.match_length=de(z,Z),z.match_length<=5&&(z.strategy===1||z.match_length===O&&4096<z.strstart-z.match_start)&&(z.match_length=O-1)),z.prev_length>=O&&z.match_length<=z.prev_length){for(I=z.strstart+z.lookahead-O,k=h._tr_tally(z,z.strstart-1-z.prev_match,z.prev_length-O),z.lookahead-=z.prev_length-1,z.prev_length-=2;++z.strstart<=I&&(z.ins_h=(z.ins_h<<z.hash_shift^z.window[z.strstart+O-1])&z.hash_mask,Z=z.prev[z.strstart&z.w_mask]=z.head[z.ins_h],z.head[z.ins_h]=z.strstart),--z.prev_length!=0;);if(z.match_available=0,z.match_length=O-1,z.strstart++,k&&(P(z,!1),z.strm.avail_out===0))return B}else if(z.match_available){if((k=h._tr_tally(z,0,z.window[z.strstart-1]))&&P(z,!1),z.strstart++,z.lookahead--,z.strm.avail_out===0)return B}else z.match_available=1,z.strstart++,z.lookahead--}return z.match_available&&(k=h._tr_tally(z,0,z.window[z.strstart-1]),z.match_available=0),z.insert=z.strstart<O-1?z.strstart:O-1,ge===o?(P(z,!0),z.strm.avail_out===0?$:W):z.last_lit&&(P(z,!1),z.strm.avail_out===0)?B:te}function he(z,ge,Z,k,I){this.good_length=z,this.max_lazy=ge,this.nice_length=Z,this.max_chain=k,this.func=I}function le(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=t,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new _.Buf16(2*T),this.dyn_dtree=new _.Buf16(2*(2*E+1)),this.bl_tree=new _.Buf16(2*(2*D+1)),K(this.dyn_ltree),K(this.dyn_dtree),K(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new _.Buf16(A+1),this.heap=new _.Buf16(2*g+1),K(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new _.Buf16(2*g+1),K(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}function Ee(z){var ge;return z&&z.state?(z.total_in=z.total_out=0,z.data_type=c,(ge=z.state).pending=0,ge.pending_out=0,ge.wrap<0&&(ge.wrap=-ge.wrap),ge.status=ge.wrap?F:Y,z.adler=ge.wrap===2?0:1,ge.last_flush=m,h._tr_init(ge),i):X(z,e)}function Se(z){var ge=Ee(z);return ge===i&&function(Z){Z.window_size=2*Z.w_size,K(Z.head),Z.max_lazy_match=C[Z.level].max_lazy,Z.good_match=C[Z.level].good_length,Z.nice_match=C[Z.level].nice_length,Z.max_chain_length=C[Z.level].max_chain,Z.strstart=0,Z.block_start=0,Z.lookahead=0,Z.insert=0,Z.match_length=Z.prev_length=O-1,Z.match_available=0,Z.ins_h=0}(z.state),ge}function Le(z,ge,Z,k,I,q){if(!z)return e;var G=1;if(ge===r&&(ge=6),k<0?(G=0,k=-k):15<k&&(G=2,k-=16),I<1||d<I||Z!==t||k<8||15<k||ge<0||9<ge||q<0||n<q)return X(z,e);k===8&&(k=9);var oe=new le;return(z.state=oe).strm=z,oe.wrap=G,oe.gzhead=null,oe.w_bits=k,oe.w_size=1<<oe.w_bits,oe.w_mask=oe.w_size-1,oe.hash_bits=I+7,oe.hash_size=1<<oe.hash_bits,oe.hash_mask=oe.hash_size-1,oe.hash_shift=~~((oe.hash_bits+O-1)/O),oe.window=new _.Buf8(2*oe.w_size),oe.head=new _.Buf16(oe.hash_size),oe.prev=new _.Buf16(oe.w_size),oe.lit_bufsize=1<<I+6,oe.pending_buf_size=4*oe.lit_bufsize,oe.pending_buf=new _.Buf8(oe.pending_buf_size),oe.d_buf=1*oe.lit_bufsize,oe.l_buf=3*oe.lit_bufsize,oe.level=ge,oe.strategy=q,oe.method=Z,Se(z)}C=[new he(0,0,0,0,function(z,ge){var Z=65535;for(Z>z.pending_buf_size-5&&(Z=z.pending_buf_size-5);;){if(z.lookahead<=1){if(pe(z),z.lookahead===0&&ge===m)return B;if(z.lookahead===0)break}z.strstart+=z.lookahead,z.lookahead=0;var k=z.block_start+Z;if((z.strstart===0||z.strstart>=k)&&(z.lookahead=z.strstart-k,z.strstart=k,P(z,!1),z.strm.avail_out===0)||z.strstart-z.block_start>=z.w_size-U&&(P(z,!1),z.strm.avail_out===0))return B}return z.insert=0,ge===o?(P(z,!0),z.strm.avail_out===0?$:W):(z.strstart>z.block_start&&(P(z,!1),z.strm.avail_out),B)}),new he(4,4,8,4,fe),new he(4,5,16,8,fe),new he(4,6,32,32,fe),new he(4,4,16,16,ne),new he(8,16,32,32,ne),new he(8,16,128,128,ne),new he(8,32,128,256,ne),new he(32,128,258,1024,ne),new he(32,258,258,4096,ne)],L.deflateInit=function(z,ge){return Le(z,ge,t,15,8,0)},L.deflateInit2=Le,L.deflateReset=Se,L.deflateResetKeep=Ee,L.deflateSetHeader=function(z,ge){return z&&z.state?z.state.wrap!==2?e:(z.state.gzhead=ge,i):e},L.deflate=function(z,ge){var Z,k,I,q;if(!z||!z.state||5<ge||ge<0)return z?X(z,e):e;if(k=z.state,!z.output||!z.input&&z.avail_in!==0||k.status===666&&ge!==o)return X(z,z.avail_out===0?-5:e);if(k.strm=z,Z=k.last_flush,k.last_flush=ge,k.status===F)if(k.wrap===2)z.adler=0,ee(k,31),ee(k,139),ee(k,8),k.gzhead?(ee(k,(k.gzhead.text?1:0)+(k.gzhead.hcrc?2:0)+(k.gzhead.extra?4:0)+(k.gzhead.name?8:0)+(k.gzhead.comment?16:0)),ee(k,255&k.gzhead.time),ee(k,k.gzhead.time>>8&255),ee(k,k.gzhead.time>>16&255),ee(k,k.gzhead.time>>24&255),ee(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),ee(k,255&k.gzhead.os),k.gzhead.extra&&k.gzhead.extra.length&&(ee(k,255&k.gzhead.extra.length),ee(k,k.gzhead.extra.length>>8&255)),k.gzhead.hcrc&&(z.adler=f(z.adler,k.pending_buf,k.pending,0)),k.gzindex=0,k.status=69):(ee(k,0),ee(k,0),ee(k,0),ee(k,0),ee(k,0),ee(k,k.level===9?2:2<=k.strategy||k.level<2?4:0),ee(k,3),k.status=Y);else{var G=t+(k.w_bits-8<<4)<<8;G|=(2<=k.strategy||k.level<2?0:k.level<6?1:k.level===6?2:3)<<6,k.strstart!==0&&(G|=32),G+=31-G%31,k.status=Y,ue(k,G),k.strstart!==0&&(ue(k,z.adler>>>16),ue(k,65535&z.adler)),z.adler=1}if(k.status===69)if(k.gzhead.extra){for(I=k.pending;k.gzindex<(65535&k.gzhead.extra.length)&&(k.pending!==k.pending_buf_size||(k.gzhead.hcrc&&k.pending>I&&(z.adler=f(z.adler,k.pending_buf,k.pending-I,I)),H(z),I=k.pending,k.pending!==k.pending_buf_size));)ee(k,255&k.gzhead.extra[k.gzindex]),k.gzindex++;k.gzhead.hcrc&&k.pending>I&&(z.adler=f(z.adler,k.pending_buf,k.pending-I,I)),k.gzindex===k.gzhead.extra.length&&(k.gzindex=0,k.status=73)}else k.status=73;if(k.status===73)if(k.gzhead.name){I=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>I&&(z.adler=f(z.adler,k.pending_buf,k.pending-I,I)),H(z),I=k.pending,k.pending===k.pending_buf_size)){q=1;break}q=k.gzindex<k.gzhead.name.length?255&k.gzhead.name.charCodeAt(k.gzindex++):0,ee(k,q)}while(q!==0);k.gzhead.hcrc&&k.pending>I&&(z.adler=f(z.adler,k.pending_buf,k.pending-I,I)),q===0&&(k.gzindex=0,k.status=91)}else k.status=91;if(k.status===91)if(k.gzhead.comment){I=k.pending;do{if(k.pending===k.pending_buf_size&&(k.gzhead.hcrc&&k.pending>I&&(z.adler=f(z.adler,k.pending_buf,k.pending-I,I)),H(z),I=k.pending,k.pending===k.pending_buf_size)){q=1;break}q=k.gzindex<k.gzhead.comment.length?255&k.gzhead.comment.charCodeAt(k.gzindex++):0,ee(k,q)}while(q!==0);k.gzhead.hcrc&&k.pending>I&&(z.adler=f(z.adler,k.pending_buf,k.pending-I,I)),q===0&&(k.status=103)}else k.status=103;if(k.status===103&&(k.gzhead.hcrc?(k.pending+2>k.pending_buf_size&&H(z),k.pending+2<=k.pending_buf_size&&(ee(k,255&z.adler),ee(k,z.adler>>8&255),z.adler=0,k.status=Y)):k.status=Y),k.pending!==0){if(H(z),z.avail_out===0)return k.last_flush=-1,i}else if(z.avail_in===0&&M(ge)<=M(Z)&&ge!==o)return X(z,-5);if(k.status===666&&z.avail_in!==0)return X(z,-5);if(z.avail_in!==0||k.lookahead!==0||ge!==m&&k.status!==666){var oe=k.strategy===2?function(ae,se){for(var Re;;){if(ae.lookahead===0&&(pe(ae),ae.lookahead===0)){if(se===m)return B;break}if(ae.match_length=0,Re=h._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++,Re&&(P(ae,!1),ae.strm.avail_out===0))return B}return ae.insert=0,se===o?(P(ae,!0),ae.strm.avail_out===0?$:W):ae.last_lit&&(P(ae,!1),ae.strm.avail_out===0)?B:te}(k,ge):k.strategy===3?function(ae,se){for(var Re,ke,Ve,Ze,et=ae.window;;){if(ae.lookahead<=N){if(pe(ae),ae.lookahead<=N&&se===m)return B;if(ae.lookahead===0)break}if(ae.match_length=0,ae.lookahead>=O&&0<ae.strstart&&(ke=et[Ve=ae.strstart-1])===et[++Ve]&&ke===et[++Ve]&&ke===et[++Ve]){Ze=ae.strstart+N;do;while(ke===et[++Ve]&&ke===et[++Ve]&&ke===et[++Ve]&&ke===et[++Ve]&&ke===et[++Ve]&&ke===et[++Ve]&&ke===et[++Ve]&&ke===et[++Ve]&&Ve<Ze);ae.match_length=N-(Ze-Ve),ae.match_length>ae.lookahead&&(ae.match_length=ae.lookahead)}if(ae.match_length>=O?(Re=h._tr_tally(ae,1,ae.match_length-O),ae.lookahead-=ae.match_length,ae.strstart+=ae.match_length,ae.match_length=0):(Re=h._tr_tally(ae,0,ae.window[ae.strstart]),ae.lookahead--,ae.strstart++),Re&&(P(ae,!1),ae.strm.avail_out===0))return B}return ae.insert=0,se===o?(P(ae,!0),ae.strm.avail_out===0?$:W):ae.last_lit&&(P(ae,!1),ae.strm.avail_out===0)?B:te}(k,ge):C[k.level].func(k,ge);if(oe!==$&&oe!==W||(k.status=666),oe===B||oe===$)return z.avail_out===0&&(k.last_flush=-1),i;if(oe===te&&(ge===1?h._tr_align(k):ge!==5&&(h._tr_stored_block(k,0,0,!1),ge===3&&(K(k.head),k.lookahead===0&&(k.strstart=0,k.block_start=0,k.insert=0))),H(z),z.avail_out===0))return k.last_flush=-1,i}return ge!==o?i:k.wrap<=0?1:(k.wrap===2?(ee(k,255&z.adler),ee(k,z.adler>>8&255),ee(k,z.adler>>16&255),ee(k,z.adler>>24&255),ee(k,255&z.total_in),ee(k,z.total_in>>8&255),ee(k,z.total_in>>16&255),ee(k,z.total_in>>24&255)):(ue(k,z.adler>>>16),ue(k,65535&z.adler)),H(z),0<k.wrap&&(k.wrap=-k.wrap),k.pending!==0?i:1)},L.deflateEnd=function(z){var ge;return z&&z.state?(ge=z.state.status)!==F&&ge!==69&&ge!==73&&ge!==91&&ge!==103&&ge!==Y&&ge!==666?X(z,e):(z.state=null,ge===Y?X(z,-3):i):e},L.deflateSetDictionary=function(z,ge){var Z,k,I,q,G,oe,ae,se,Re=ge.length;if(!z||!z.state||(q=(Z=z.state).wrap)===2||q===1&&Z.status!==F||Z.lookahead)return e;for(q===1&&(z.adler=p(z.adler,ge,Re,0)),Z.wrap=0,Re>=Z.w_size&&(q===0&&(K(Z.head),Z.strstart=0,Z.block_start=0,Z.insert=0),se=new _.Buf8(Z.w_size),_.arraySet(se,ge,Re-Z.w_size,Z.w_size,0),ge=se,Re=Z.w_size),G=z.avail_in,oe=z.next_in,ae=z.input,z.avail_in=Re,z.next_in=0,z.input=ge,pe(Z);Z.lookahead>=O;){for(k=Z.strstart,I=Z.lookahead-(O-1);Z.ins_h=(Z.ins_h<<Z.hash_shift^Z.window[k+O-1])&Z.hash_mask,Z.prev[k&Z.w_mask]=Z.head[Z.ins_h],Z.head[Z.ins_h]=k,k++,--I;);Z.strstart=k,Z.lookahead=O-1,pe(Z)}return Z.strstart+=Z.lookahead,Z.block_start=Z.strstart,Z.insert=Z.lookahead,Z.lookahead=0,Z.match_length=Z.prev_length=O-1,Z.match_available=0,z.next_in=oe,z.input=ae,z.avail_in=G,Z.wrap=q,i},L.deflateInfo="pako deflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./messages":51,"./trees":52}],47:[function(J,re,L){"use strict";re.exports=function(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}},{}],48:[function(J,re,L){"use strict";re.exports=function(C,_){var h,p,f,w,m,o,i,e,r,n,c,t,d,g,E,D,T,A,O,N,U,F,Y,B,te;h=C.state,p=C.next_in,B=C.input,f=p+(C.avail_in-5),w=C.next_out,te=C.output,m=w-(_-C.avail_out),o=w+(C.avail_out-257),i=h.dmax,e=h.wsize,r=h.whave,n=h.wnext,c=h.window,t=h.hold,d=h.bits,g=h.lencode,E=h.distcode,D=(1<<h.lenbits)-1,T=(1<<h.distbits)-1;e:do{d<15&&(t+=B[p++]<<d,d+=8,t+=B[p++]<<d,d+=8),A=g[t&D];t:for(;;){if(t>>>=O=A>>>24,d-=O,(O=A>>>16&255)==0)te[w++]=65535&A;else{if(!(16&O)){if((64&O)==0){A=g[(65535&A)+(t&(1<<O)-1)];continue t}if(32&O){h.mode=12;break e}C.msg="invalid literal/length code",h.mode=30;break e}N=65535&A,(O&=15)&&(d<O&&(t+=B[p++]<<d,d+=8),N+=t&(1<<O)-1,t>>>=O,d-=O),d<15&&(t+=B[p++]<<d,d+=8,t+=B[p++]<<d,d+=8),A=E[t&T];r:for(;;){if(t>>>=O=A>>>24,d-=O,!(16&(O=A>>>16&255))){if((64&O)==0){A=E[(65535&A)+(t&(1<<O)-1)];continue r}C.msg="invalid distance code",h.mode=30;break e}if(U=65535&A,d<(O&=15)&&(t+=B[p++]<<d,(d+=8)<O&&(t+=B[p++]<<d,d+=8)),i<(U+=t&(1<<O)-1)){C.msg="invalid distance too far back",h.mode=30;break e}if(t>>>=O,d-=O,(O=w-m)<U){if(r<(O=U-O)&&h.sane){C.msg="invalid distance too far back",h.mode=30;break e}if(Y=c,(F=0)===n){if(F+=e-O,O<N){for(N-=O;te[w++]=c[F++],--O;);F=w-U,Y=te}}else if(n<O){if(F+=e+n-O,(O-=n)<N){for(N-=O;te[w++]=c[F++],--O;);if(F=0,n<N){for(N-=O=n;te[w++]=c[F++],--O;);F=w-U,Y=te}}}else if(F+=n-O,O<N){for(N-=O;te[w++]=c[F++],--O;);F=w-U,Y=te}for(;2<N;)te[w++]=Y[F++],te[w++]=Y[F++],te[w++]=Y[F++],N-=3;N&&(te[w++]=Y[F++],1<N&&(te[w++]=Y[F++]))}else{for(F=w-U;te[w++]=te[F++],te[w++]=te[F++],te[w++]=te[F++],2<(N-=3););N&&(te[w++]=te[F++],1<N&&(te[w++]=te[F++]))}break}}break}}while(p<f&&w<o);p-=N=d>>3,t&=(1<<(d-=N<<3))-1,C.next_in=p,C.next_out=w,C.avail_in=p<f?f-p+5:5-(p-f),C.avail_out=w<o?o-w+257:257-(w-o),h.hold=t,h.bits=d}},{}],49:[function(J,re,L){"use strict";var C=J("../utils/common"),_=J("./adler32"),h=J("./crc32"),p=J("./inffast"),f=J("./inftrees"),w=1,m=2,o=0,i=-2,e=1,r=852,n=592;function c(F){return(F>>>24&255)+(F>>>8&65280)+((65280&F)<<8)+((255&F)<<24)}function t(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new C.Buf16(320),this.work=new C.Buf16(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}function d(F){var Y;return F&&F.state?(Y=F.state,F.total_in=F.total_out=Y.total=0,F.msg="",Y.wrap&&(F.adler=1&Y.wrap),Y.mode=e,Y.last=0,Y.havedict=0,Y.dmax=32768,Y.head=null,Y.hold=0,Y.bits=0,Y.lencode=Y.lendyn=new C.Buf32(r),Y.distcode=Y.distdyn=new C.Buf32(n),Y.sane=1,Y.back=-1,o):i}function g(F){var Y;return F&&F.state?((Y=F.state).wsize=0,Y.whave=0,Y.wnext=0,d(F)):i}function E(F,Y){var B,te;return F&&F.state?(te=F.state,Y<0?(B=0,Y=-Y):(B=1+(Y>>4),Y<48&&(Y&=15)),Y&&(Y<8||15<Y)?i:(te.window!==null&&te.wbits!==Y&&(te.window=null),te.wrap=B,te.wbits=Y,g(F))):i}function D(F,Y){var B,te;return F?(te=new t,(F.state=te).window=null,(B=E(F,Y))!==o&&(F.state=null),B):i}var T,A,O=!0;function N(F){if(O){var Y;for(T=new C.Buf32(512),A=new C.Buf32(32),Y=0;Y<144;)F.lens[Y++]=8;for(;Y<256;)F.lens[Y++]=9;for(;Y<280;)F.lens[Y++]=7;for(;Y<288;)F.lens[Y++]=8;for(f(w,F.lens,0,288,T,0,F.work,{bits:9}),Y=0;Y<32;)F.lens[Y++]=5;f(m,F.lens,0,32,A,0,F.work,{bits:5}),O=!1}F.lencode=T,F.lenbits=9,F.distcode=A,F.distbits=5}function U(F,Y,B,te){var $,W=F.state;return W.window===null&&(W.wsize=1<<W.wbits,W.wnext=0,W.whave=0,W.window=new C.Buf8(W.wsize)),te>=W.wsize?(C.arraySet(W.window,Y,B-W.wsize,W.wsize,0),W.wnext=0,W.whave=W.wsize):(te<($=W.wsize-W.wnext)&&($=te),C.arraySet(W.window,Y,B-te,$,W.wnext),(te-=$)?(C.arraySet(W.window,Y,B-te,te,0),W.wnext=te,W.whave=W.wsize):(W.wnext+=$,W.wnext===W.wsize&&(W.wnext=0),W.whave<W.wsize&&(W.whave+=$))),0}L.inflateReset=g,L.inflateReset2=E,L.inflateResetKeep=d,L.inflateInit=function(F){return D(F,15)},L.inflateInit2=D,L.inflate=function(F,Y){var B,te,$,W,X,M,K,H,P,ee,ue,de,pe,fe,ne,he,le,Ee,Se,Le,z,ge,Z,k,I=0,q=new C.Buf8(4),G=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!F||!F.state||!F.output||!F.input&&F.avail_in!==0)return i;(B=F.state).mode===12&&(B.mode=13),X=F.next_out,$=F.output,K=F.avail_out,W=F.next_in,te=F.input,M=F.avail_in,H=B.hold,P=B.bits,ee=M,ue=K,ge=o;e:for(;;)switch(B.mode){case e:if(B.wrap===0){B.mode=13;break}for(;P<16;){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}if(2&B.wrap&&H===35615){q[B.check=0]=255&H,q[1]=H>>>8&255,B.check=h(B.check,q,2,0),P=H=0,B.mode=2;break}if(B.flags=0,B.head&&(B.head.done=!1),!(1&B.wrap)||(((255&H)<<8)+(H>>8))%31){F.msg="incorrect header check",B.mode=30;break}if((15&H)!=8){F.msg="unknown compression method",B.mode=30;break}if(P-=4,z=8+(15&(H>>>=4)),B.wbits===0)B.wbits=z;else if(z>B.wbits){F.msg="invalid window size",B.mode=30;break}B.dmax=1<<z,F.adler=B.check=1,B.mode=512&H?10:12,P=H=0;break;case 2:for(;P<16;){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}if(B.flags=H,(255&B.flags)!=8){F.msg="unknown compression method",B.mode=30;break}if(57344&B.flags){F.msg="unknown header flags set",B.mode=30;break}B.head&&(B.head.text=H>>8&1),512&B.flags&&(q[0]=255&H,q[1]=H>>>8&255,B.check=h(B.check,q,2,0)),P=H=0,B.mode=3;case 3:for(;P<32;){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}B.head&&(B.head.time=H),512&B.flags&&(q[0]=255&H,q[1]=H>>>8&255,q[2]=H>>>16&255,q[3]=H>>>24&255,B.check=h(B.check,q,4,0)),P=H=0,B.mode=4;case 4:for(;P<16;){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}B.head&&(B.head.xflags=255&H,B.head.os=H>>8),512&B.flags&&(q[0]=255&H,q[1]=H>>>8&255,B.check=h(B.check,q,2,0)),P=H=0,B.mode=5;case 5:if(1024&B.flags){for(;P<16;){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}B.length=H,B.head&&(B.head.extra_len=H),512&B.flags&&(q[0]=255&H,q[1]=H>>>8&255,B.check=h(B.check,q,2,0)),P=H=0}else B.head&&(B.head.extra=null);B.mode=6;case 6:if(1024&B.flags&&(M<(de=B.length)&&(de=M),de&&(B.head&&(z=B.head.extra_len-B.length,B.head.extra||(B.head.extra=new Array(B.head.extra_len)),C.arraySet(B.head.extra,te,W,de,z)),512&B.flags&&(B.check=h(B.check,te,de,W)),M-=de,W+=de,B.length-=de),B.length))break e;B.length=0,B.mode=7;case 7:if(2048&B.flags){if(M===0)break e;for(de=0;z=te[W+de++],B.head&&z&&B.length<65536&&(B.head.name+=String.fromCharCode(z)),z&&de<M;);if(512&B.flags&&(B.check=h(B.check,te,de,W)),M-=de,W+=de,z)break e}else B.head&&(B.head.name=null);B.length=0,B.mode=8;case 8:if(4096&B.flags){if(M===0)break e;for(de=0;z=te[W+de++],B.head&&z&&B.length<65536&&(B.head.comment+=String.fromCharCode(z)),z&&de<M;);if(512&B.flags&&(B.check=h(B.check,te,de,W)),M-=de,W+=de,z)break e}else B.head&&(B.head.comment=null);B.mode=9;case 9:if(512&B.flags){for(;P<16;){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}if(H!==(65535&B.check)){F.msg="header crc mismatch",B.mode=30;break}P=H=0}B.head&&(B.head.hcrc=B.flags>>9&1,B.head.done=!0),F.adler=B.check=0,B.mode=12;break;case 10:for(;P<32;){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}F.adler=B.check=c(H),P=H=0,B.mode=11;case 11:if(B.havedict===0)return F.next_out=X,F.avail_out=K,F.next_in=W,F.avail_in=M,B.hold=H,B.bits=P,2;F.adler=B.check=1,B.mode=12;case 12:if(Y===5||Y===6)break e;case 13:if(B.last){H>>>=7&P,P-=7&P,B.mode=27;break}for(;P<3;){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}switch(B.last=1&H,P-=1,3&(H>>>=1)){case 0:B.mode=14;break;case 1:if(N(B),B.mode=20,Y!==6)break;H>>>=2,P-=2;break e;case 2:B.mode=17;break;case 3:F.msg="invalid block type",B.mode=30}H>>>=2,P-=2;break;case 14:for(H>>>=7&P,P-=7&P;P<32;){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}if((65535&H)!=(H>>>16^65535)){F.msg="invalid stored block lengths",B.mode=30;break}if(B.length=65535&H,P=H=0,B.mode=15,Y===6)break e;case 15:B.mode=16;case 16:if(de=B.length){if(M<de&&(de=M),K<de&&(de=K),de===0)break e;C.arraySet($,te,W,de,X),M-=de,W+=de,K-=de,X+=de,B.length-=de;break}B.mode=12;break;case 17:for(;P<14;){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}if(B.nlen=257+(31&H),H>>>=5,P-=5,B.ndist=1+(31&H),H>>>=5,P-=5,B.ncode=4+(15&H),H>>>=4,P-=4,286<B.nlen||30<B.ndist){F.msg="too many length or distance symbols",B.mode=30;break}B.have=0,B.mode=18;case 18:for(;B.have<B.ncode;){for(;P<3;){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}B.lens[G[B.have++]]=7&H,H>>>=3,P-=3}for(;B.have<19;)B.lens[G[B.have++]]=0;if(B.lencode=B.lendyn,B.lenbits=7,Z={bits:B.lenbits},ge=f(0,B.lens,0,19,B.lencode,0,B.work,Z),B.lenbits=Z.bits,ge){F.msg="invalid code lengths set",B.mode=30;break}B.have=0,B.mode=19;case 19:for(;B.have<B.nlen+B.ndist;){for(;he=(I=B.lencode[H&(1<<B.lenbits)-1])>>>16&255,le=65535&I,!((ne=I>>>24)<=P);){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}if(le<16)H>>>=ne,P-=ne,B.lens[B.have++]=le;else{if(le===16){for(k=ne+2;P<k;){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}if(H>>>=ne,P-=ne,B.have===0){F.msg="invalid bit length repeat",B.mode=30;break}z=B.lens[B.have-1],de=3+(3&H),H>>>=2,P-=2}else if(le===17){for(k=ne+3;P<k;){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}P-=ne,z=0,de=3+(7&(H>>>=ne)),H>>>=3,P-=3}else{for(k=ne+7;P<k;){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}P-=ne,z=0,de=11+(127&(H>>>=ne)),H>>>=7,P-=7}if(B.have+de>B.nlen+B.ndist){F.msg="invalid bit length repeat",B.mode=30;break}for(;de--;)B.lens[B.have++]=z}}if(B.mode===30)break;if(B.lens[256]===0){F.msg="invalid code -- missing end-of-block",B.mode=30;break}if(B.lenbits=9,Z={bits:B.lenbits},ge=f(w,B.lens,0,B.nlen,B.lencode,0,B.work,Z),B.lenbits=Z.bits,ge){F.msg="invalid literal/lengths set",B.mode=30;break}if(B.distbits=6,B.distcode=B.distdyn,Z={bits:B.distbits},ge=f(m,B.lens,B.nlen,B.ndist,B.distcode,0,B.work,Z),B.distbits=Z.bits,ge){F.msg="invalid distances set",B.mode=30;break}if(B.mode=20,Y===6)break e;case 20:B.mode=21;case 21:if(6<=M&&258<=K){F.next_out=X,F.avail_out=K,F.next_in=W,F.avail_in=M,B.hold=H,B.bits=P,p(F,ue),X=F.next_out,$=F.output,K=F.avail_out,W=F.next_in,te=F.input,M=F.avail_in,H=B.hold,P=B.bits,B.mode===12&&(B.back=-1);break}for(B.back=0;he=(I=B.lencode[H&(1<<B.lenbits)-1])>>>16&255,le=65535&I,!((ne=I>>>24)<=P);){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}if(he&&(240&he)==0){for(Ee=ne,Se=he,Le=le;he=(I=B.lencode[Le+((H&(1<<Ee+Se)-1)>>Ee)])>>>16&255,le=65535&I,!(Ee+(ne=I>>>24)<=P);){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}H>>>=Ee,P-=Ee,B.back+=Ee}if(H>>>=ne,P-=ne,B.back+=ne,B.length=le,he===0){B.mode=26;break}if(32&he){B.back=-1,B.mode=12;break}if(64&he){F.msg="invalid literal/length code",B.mode=30;break}B.extra=15&he,B.mode=22;case 22:if(B.extra){for(k=B.extra;P<k;){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}B.length+=H&(1<<B.extra)-1,H>>>=B.extra,P-=B.extra,B.back+=B.extra}B.was=B.length,B.mode=23;case 23:for(;he=(I=B.distcode[H&(1<<B.distbits)-1])>>>16&255,le=65535&I,!((ne=I>>>24)<=P);){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}if((240&he)==0){for(Ee=ne,Se=he,Le=le;he=(I=B.distcode[Le+((H&(1<<Ee+Se)-1)>>Ee)])>>>16&255,le=65535&I,!(Ee+(ne=I>>>24)<=P);){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}H>>>=Ee,P-=Ee,B.back+=Ee}if(H>>>=ne,P-=ne,B.back+=ne,64&he){F.msg="invalid distance code",B.mode=30;break}B.offset=le,B.extra=15&he,B.mode=24;case 24:if(B.extra){for(k=B.extra;P<k;){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}B.offset+=H&(1<<B.extra)-1,H>>>=B.extra,P-=B.extra,B.back+=B.extra}if(B.offset>B.dmax){F.msg="invalid distance too far back",B.mode=30;break}B.mode=25;case 25:if(K===0)break e;if(de=ue-K,B.offset>de){if((de=B.offset-de)>B.whave&&B.sane){F.msg="invalid distance too far back",B.mode=30;break}pe=de>B.wnext?(de-=B.wnext,B.wsize-de):B.wnext-de,de>B.length&&(de=B.length),fe=B.window}else fe=$,pe=X-B.offset,de=B.length;for(K<de&&(de=K),K-=de,B.length-=de;$[X++]=fe[pe++],--de;);B.length===0&&(B.mode=21);break;case 26:if(K===0)break e;$[X++]=B.length,K--,B.mode=21;break;case 27:if(B.wrap){for(;P<32;){if(M===0)break e;M--,H|=te[W++]<<P,P+=8}if(ue-=K,F.total_out+=ue,B.total+=ue,ue&&(F.adler=B.check=B.flags?h(B.check,$,ue,X-ue):_(B.check,$,ue,X-ue)),ue=K,(B.flags?H:c(H))!==B.check){F.msg="incorrect data check",B.mode=30;break}P=H=0}B.mode=28;case 28:if(B.wrap&&B.flags){for(;P<32;){if(M===0)break e;M--,H+=te[W++]<<P,P+=8}if(H!==(4294967295&B.total)){F.msg="incorrect length check",B.mode=30;break}P=H=0}B.mode=29;case 29:ge=1;break e;case 30:ge=-3;break e;case 31:return-4;case 32:default:return i}return F.next_out=X,F.avail_out=K,F.next_in=W,F.avail_in=M,B.hold=H,B.bits=P,(B.wsize||ue!==F.avail_out&&B.mode<30&&(B.mode<27||Y!==4))&&U(F,F.output,F.next_out,ue-F.avail_out)?(B.mode=31,-4):(ee-=F.avail_in,ue-=F.avail_out,F.total_in+=ee,F.total_out+=ue,B.total+=ue,B.wrap&&ue&&(F.adler=B.check=B.flags?h(B.check,$,ue,F.next_out-ue):_(B.check,$,ue,F.next_out-ue)),F.data_type=B.bits+(B.last?64:0)+(B.mode===12?128:0)+(B.mode===20||B.mode===15?256:0),(ee==0&&ue===0||Y===4)&&ge===o&&(ge=-5),ge)},L.inflateEnd=function(F){if(!F||!F.state)return i;var Y=F.state;return Y.window&&(Y.window=null),F.state=null,o},L.inflateGetHeader=function(F,Y){var B;return F&&F.state?(2&(B=F.state).wrap)==0?i:((B.head=Y).done=!1,o):i},L.inflateSetDictionary=function(F,Y){var B,te=Y.length;return F&&F.state?(B=F.state).wrap!==0&&B.mode!==11?i:B.mode===11&&_(1,Y,te,0)!==B.check?-3:U(F,Y,te,te)?(B.mode=31,-4):(B.havedict=1,o):i},L.inflateInfo="pako inflate (from Nodeca project)"},{"../utils/common":41,"./adler32":43,"./crc32":45,"./inffast":48,"./inftrees":50}],50:[function(J,re,L){"use strict";var C=J("../utils/common"),_=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],h=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],p=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],f=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];re.exports=function(w,m,o,i,e,r,n,c){var t,d,g,E,D,T,A,O,N,U=c.bits,F=0,Y=0,B=0,te=0,$=0,W=0,X=0,M=0,K=0,H=0,P=null,ee=0,ue=new C.Buf16(16),de=new C.Buf16(16),pe=null,fe=0;for(F=0;F<=15;F++)ue[F]=0;for(Y=0;Y<i;Y++)ue[m[o+Y]]++;for($=U,te=15;1<=te&&ue[te]===0;te--);if(te<$&&($=te),te===0)return e[r++]=20971520,e[r++]=20971520,c.bits=1,0;for(B=1;B<te&&ue[B]===0;B++);for($<B&&($=B),F=M=1;F<=15;F++)if(M<<=1,(M-=ue[F])<0)return-1;if(0<M&&(w===0||te!==1))return-1;for(de[1]=0,F=1;F<15;F++)de[F+1]=de[F]+ue[F];for(Y=0;Y<i;Y++)m[o+Y]!==0&&(n[de[m[o+Y]]++]=Y);if(T=w===0?(P=pe=n,19):w===1?(P=_,ee-=257,pe=h,fe-=257,256):(P=p,pe=f,-1),F=B,D=r,X=Y=H=0,g=-1,E=(K=1<<(W=$))-1,w===1&&852<K||w===2&&592<K)return 1;for(;;){for(A=F-X,N=n[Y]<T?(O=0,n[Y]):n[Y]>T?(O=pe[fe+n[Y]],P[ee+n[Y]]):(O=96,0),t=1<<F-X,B=d=1<<W;e[D+(H>>X)+(d-=t)]=A<<24|O<<16|N|0,d!==0;);for(t=1<<F-1;H&t;)t>>=1;if(t!==0?(H&=t-1,H+=t):H=0,Y++,--ue[F]==0){if(F===te)break;F=m[o+n[Y]]}if($<F&&(H&E)!==g){for(X===0&&(X=$),D+=B,M=1<<(W=F-X);W+X<te&&!((M-=ue[W+X])<=0);)W++,M<<=1;if(K+=1<<W,w===1&&852<K||w===2&&592<K)return 1;e[g=H&E]=$<<24|W<<16|D-r|0}}return H!==0&&(e[D+H]=F-X<<24|64<<16|0),c.bits=$,0}},{"../utils/common":41}],51:[function(J,re,L){"use strict";re.exports={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"}},{}],52:[function(J,re,L){"use strict";var C=J("../utils/common"),_=0,h=1;function p(I){for(var q=I.length;0<=--q;)I[q]=0}var f=0,w=29,m=256,o=m+1+w,i=30,e=19,r=2*o+1,n=15,c=16,t=7,d=256,g=16,E=17,D=18,T=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],A=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],O=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],N=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],U=new Array(2*(o+2));p(U);var F=new Array(2*i);p(F);var Y=new Array(512);p(Y);var B=new Array(256);p(B);var te=new Array(w);p(te);var $,W,X,M=new Array(i);function K(I,q,G,oe,ae){this.static_tree=I,this.extra_bits=q,this.extra_base=G,this.elems=oe,this.max_length=ae,this.has_stree=I&&I.length}function H(I,q){this.dyn_tree=I,this.max_code=0,this.stat_desc=q}function P(I){return I<256?Y[I]:Y[256+(I>>>7)]}function ee(I,q){I.pending_buf[I.pending++]=255&q,I.pending_buf[I.pending++]=q>>>8&255}function ue(I,q,G){I.bi_valid>c-G?(I.bi_buf|=q<<I.bi_valid&65535,ee(I,I.bi_buf),I.bi_buf=q>>c-I.bi_valid,I.bi_valid+=G-c):(I.bi_buf|=q<<I.bi_valid&65535,I.bi_valid+=G)}function de(I,q,G){ue(I,G[2*q],G[2*q+1])}function pe(I,q){for(var G=0;G|=1&I,I>>>=1,G<<=1,0<--q;);return G>>>1}function fe(I,q,G){var oe,ae,se=new Array(n+1),Re=0;for(oe=1;oe<=n;oe++)se[oe]=Re=Re+G[oe-1]<<1;for(ae=0;ae<=q;ae++){var ke=I[2*ae+1];ke!==0&&(I[2*ae]=pe(se[ke]++,ke))}}function ne(I){var q;for(q=0;q<o;q++)I.dyn_ltree[2*q]=0;for(q=0;q<i;q++)I.dyn_dtree[2*q]=0;for(q=0;q<e;q++)I.bl_tree[2*q]=0;I.dyn_ltree[2*d]=1,I.opt_len=I.static_len=0,I.last_lit=I.matches=0}function he(I){8<I.bi_valid?ee(I,I.bi_buf):0<I.bi_valid&&(I.pending_buf[I.pending++]=I.bi_buf),I.bi_buf=0,I.bi_valid=0}function le(I,q,G,oe){var ae=2*q,se=2*G;return I[ae]<I[se]||I[ae]===I[se]&&oe[q]<=oe[G]}function Ee(I,q,G){for(var oe=I.heap[G],ae=G<<1;ae<=I.heap_len&&(ae<I.heap_len&&le(q,I.heap[ae+1],I.heap[ae],I.depth)&&ae++,!le(q,oe,I.heap[ae],I.depth));)I.heap[G]=I.heap[ae],G=ae,ae<<=1;I.heap[G]=oe}function Se(I,q,G){var oe,ae,se,Re,ke=0;if(I.last_lit!==0)for(;oe=I.pending_buf[I.d_buf+2*ke]<<8|I.pending_buf[I.d_buf+2*ke+1],ae=I.pending_buf[I.l_buf+ke],ke++,oe===0?de(I,ae,q):(de(I,(se=B[ae])+m+1,q),(Re=T[se])!==0&&ue(I,ae-=te[se],Re),de(I,se=P(--oe),G),(Re=A[se])!==0&&ue(I,oe-=M[se],Re)),ke<I.last_lit;);de(I,d,q)}function Le(I,q){var G,oe,ae,se=q.dyn_tree,Re=q.stat_desc.static_tree,ke=q.stat_desc.has_stree,Ve=q.stat_desc.elems,Ze=-1;for(I.heap_len=0,I.heap_max=r,G=0;G<Ve;G++)se[2*G]!==0?(I.heap[++I.heap_len]=Ze=G,I.depth[G]=0):se[2*G+1]=0;for(;I.heap_len<2;)se[2*(ae=I.heap[++I.heap_len]=Ze<2?++Ze:0)]=1,I.depth[ae]=0,I.opt_len--,ke&&(I.static_len-=Re[2*ae+1]);for(q.max_code=Ze,G=I.heap_len>>1;1<=G;G--)Ee(I,se,G);for(ae=Ve;G=I.heap[1],I.heap[1]=I.heap[I.heap_len--],Ee(I,se,1),oe=I.heap[1],I.heap[--I.heap_max]=G,I.heap[--I.heap_max]=oe,se[2*ae]=se[2*G]+se[2*oe],I.depth[ae]=(I.depth[G]>=I.depth[oe]?I.depth[G]:I.depth[oe])+1,se[2*G+1]=se[2*oe+1]=ae,I.heap[1]=ae++,Ee(I,se,1),2<=I.heap_len;);I.heap[--I.heap_max]=I.heap[1],function(et,ht){var It,kt,qt,vt,Rt,jt,At=ht.dyn_tree,or=ht.max_code,Pr=ht.stat_desc.static_tree,zt=ht.stat_desc.has_stree,$t=ht.stat_desc.extra_bits,xr=ht.stat_desc.extra_base,dr=ht.stat_desc.max_length,Jt=0;for(vt=0;vt<=n;vt++)et.bl_count[vt]=0;for(At[2*et.heap[et.heap_max]+1]=0,It=et.heap_max+1;It<r;It++)dr<(vt=At[2*At[2*(kt=et.heap[It])+1]+1]+1)&&(vt=dr,Jt++),At[2*kt+1]=vt,or<kt||(et.bl_count[vt]++,Rt=0,xr<=kt&&(Rt=$t[kt-xr]),jt=At[2*kt],et.opt_len+=jt*(vt+Rt),zt&&(et.static_len+=jt*(Pr[2*kt+1]+Rt)));if(Jt!==0){do{for(vt=dr-1;et.bl_count[vt]===0;)vt--;et.bl_count[vt]--,et.bl_count[vt+1]+=2,et.bl_count[dr]--,Jt-=2}while(0<Jt);for(vt=dr;vt!==0;vt--)for(kt=et.bl_count[vt];kt!==0;)or<(qt=et.heap[--It])||(At[2*qt+1]!==vt&&(et.opt_len+=(vt-At[2*qt+1])*At[2*qt],At[2*qt+1]=vt),kt--)}}(I,q),fe(se,Ze,I.bl_count)}function z(I,q,G){var oe,ae,se=-1,Re=q[1],ke=0,Ve=7,Ze=4;for(Re===0&&(Ve=138,Ze=3),q[2*(G+1)+1]=65535,oe=0;oe<=G;oe++)ae=Re,Re=q[2*(oe+1)+1],++ke<Ve&&ae===Re||(ke<Ze?I.bl_tree[2*ae]+=ke:ae!==0?(ae!==se&&I.bl_tree[2*ae]++,I.bl_tree[2*g]++):ke<=10?I.bl_tree[2*E]++:I.bl_tree[2*D]++,se=ae,Ze=(ke=0)===Re?(Ve=138,3):ae===Re?(Ve=6,3):(Ve=7,4))}function ge(I,q,G){var oe,ae,se=-1,Re=q[1],ke=0,Ve=7,Ze=4;for(Re===0&&(Ve=138,Ze=3),oe=0;oe<=G;oe++)if(ae=Re,Re=q[2*(oe+1)+1],!(++ke<Ve&&ae===Re)){if(ke<Ze)for(;de(I,ae,I.bl_tree),--ke!=0;);else ae!==0?(ae!==se&&(de(I,ae,I.bl_tree),ke--),de(I,g,I.bl_tree),ue(I,ke-3,2)):ke<=10?(de(I,E,I.bl_tree),ue(I,ke-3,3)):(de(I,D,I.bl_tree),ue(I,ke-11,7));se=ae,Ze=(ke=0)===Re?(Ve=138,3):ae===Re?(Ve=6,3):(Ve=7,4)}}p(M);var Z=!1;function k(I,q,G,oe){ue(I,(f<<1)+(oe?1:0),3),function(ae,se,Re,ke){he(ae),ke&&(ee(ae,Re),ee(ae,~Re)),C.arraySet(ae.pending_buf,ae.window,se,Re,ae.pending),ae.pending+=Re}(I,q,G,!0)}L._tr_init=function(I){Z||(function(){var q,G,oe,ae,se,Re=new Array(n+1);for(ae=oe=0;ae<w-1;ae++)for(te[ae]=oe,q=0;q<1<<T[ae];q++)B[oe++]=ae;for(B[oe-1]=ae,ae=se=0;ae<16;ae++)for(M[ae]=se,q=0;q<1<<A[ae];q++)Y[se++]=ae;for(se>>=7;ae<i;ae++)for(M[ae]=se<<7,q=0;q<1<<A[ae]-7;q++)Y[256+se++]=ae;for(G=0;G<=n;G++)Re[G]=0;for(q=0;q<=143;)U[2*q+1]=8,q++,Re[8]++;for(;q<=255;)U[2*q+1]=9,q++,Re[9]++;for(;q<=279;)U[2*q+1]=7,q++,Re[7]++;for(;q<=287;)U[2*q+1]=8,q++,Re[8]++;for(fe(U,o+1,Re),q=0;q<i;q++)F[2*q+1]=5,F[2*q]=pe(q,5);$=new K(U,T,m+1,o,n),W=new K(F,A,0,i,n),X=new K(new Array(0),O,0,e,t)}(),Z=!0),I.l_desc=new H(I.dyn_ltree,$),I.d_desc=new H(I.dyn_dtree,W),I.bl_desc=new H(I.bl_tree,X),I.bi_buf=0,I.bi_valid=0,ne(I)},L._tr_stored_block=k,L._tr_flush_block=function(I,q,G,oe){var ae,se,Re=0;0<I.level?(I.strm.data_type===2&&(I.strm.data_type=function(ke){var Ve,Ze=4093624447;for(Ve=0;Ve<=31;Ve++,Ze>>>=1)if(1&Ze&&ke.dyn_ltree[2*Ve]!==0)return _;if(ke.dyn_ltree[18]!==0||ke.dyn_ltree[20]!==0||ke.dyn_ltree[26]!==0)return h;for(Ve=32;Ve<m;Ve++)if(ke.dyn_ltree[2*Ve]!==0)return h;return _}(I)),Le(I,I.l_desc),Le(I,I.d_desc),Re=function(ke){var Ve;for(z(ke,ke.dyn_ltree,ke.l_desc.max_code),z(ke,ke.dyn_dtree,ke.d_desc.max_code),Le(ke,ke.bl_desc),Ve=e-1;3<=Ve&&ke.bl_tree[2*N[Ve]+1]===0;Ve--);return ke.opt_len+=3*(Ve+1)+5+5+4,Ve}(I),ae=I.opt_len+3+7>>>3,(se=I.static_len+3+7>>>3)<=ae&&(ae=se)):ae=se=G+5,G+4<=ae&&q!==-1?k(I,q,G,oe):I.strategy===4||se===ae?(ue(I,2+(oe?1:0),3),Se(I,U,F)):(ue(I,4+(oe?1:0),3),function(ke,Ve,Ze,et){var ht;for(ue(ke,Ve-257,5),ue(ke,Ze-1,5),ue(ke,et-4,4),ht=0;ht<et;ht++)ue(ke,ke.bl_tree[2*N[ht]+1],3);ge(ke,ke.dyn_ltree,Ve-1),ge(ke,ke.dyn_dtree,Ze-1)}(I,I.l_desc.max_code+1,I.d_desc.max_code+1,Re+1),Se(I,I.dyn_ltree,I.dyn_dtree)),ne(I),oe&&he(I)},L._tr_tally=function(I,q,G){return I.pending_buf[I.d_buf+2*I.last_lit]=q>>>8&255,I.pending_buf[I.d_buf+2*I.last_lit+1]=255&q,I.pending_buf[I.l_buf+I.last_lit]=255&G,I.last_lit++,q===0?I.dyn_ltree[2*G]++:(I.matches++,q--,I.dyn_ltree[2*(B[G]+m+1)]++,I.dyn_dtree[2*P(q)]++),I.last_lit===I.lit_bufsize-1},L._tr_align=function(I){ue(I,2,3),de(I,d,U),function(q){q.bi_valid===16?(ee(q,q.bi_buf),q.bi_buf=0,q.bi_valid=0):8<=q.bi_valid&&(q.pending_buf[q.pending++]=255&q.bi_buf,q.bi_buf>>=8,q.bi_valid-=8)}(I)}},{"../utils/common":41}],53:[function(J,re,L){"use strict";re.exports=function(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}},{}],54:[function(J,re,L){(function(C){(function(_,h){"use strict";if(!_.setImmediate){var p,f,w,m,o=1,i={},e=!1,r=_.document,n=Object.getPrototypeOf&&Object.getPrototypeOf(_);n=n&&n.setTimeout?n:_,p={}.toString.call(_.process)==="[object process]"?function(g){ot.nextTick(function(){t(g)})}:function(){if(_.postMessage&&!_.importScripts){var g=!0,E=_.onmessage;return _.onmessage=function(){g=!1},_.postMessage("","*"),_.onmessage=E,g}}()?(m="setImmediate$"+Math.random()+"$",_.addEventListener?_.addEventListener("message",d,!1):_.attachEvent("onmessage",d),function(g){_.postMessage(m+g,"*")}):_.MessageChannel?((w=new MessageChannel).port1.onmessage=function(g){t(g.data)},function(g){w.port2.postMessage(g)}):r&&"onreadystatechange"in r.createElement("script")?(f=r.documentElement,function(g){var E=r.createElement("script");E.onreadystatechange=function(){t(g),E.onreadystatechange=null,f.removeChild(E),E=null},f.appendChild(E)}):function(g){setTimeout(t,0,g)},n.setImmediate=function(g){typeof g!="function"&&(g=new Function(""+g));for(var E=new Array(arguments.length-1),D=0;D<E.length;D++)E[D]=arguments[D+1];var T={callback:g,args:E};return i[o]=T,p(o),o++},n.clearImmediate=c}function c(g){delete i[g]}function t(g){if(e)setTimeout(t,0,g);else{var E=i[g];if(E){e=!0;try{(function(D){var T=D.callback,A=D.args;switch(A.length){case 0:T();break;case 1:T(A[0]);break;case 2:T(A[0],A[1]);break;case 3:T(A[0],A[1],A[2]);break;default:T.apply(h,A)}})(E)}finally{c(g),e=!1}}}}function d(g){g.source===_&&typeof g.data=="string"&&g.data.indexOf(m)===0&&t(+g.data.slice(m.length))}})(typeof self=="undefined"?C===void 0?this:C:self)}).call(this,typeof Xe!="undefined"?Xe:typeof self!="undefined"?self:typeof window!="undefined"?window:{})},{}]},{},[10])(10)})}).call(this,ze("HDXh").Buffer,ze("IyRk"),ze("Q2Ig"))},"yj/a":function(wt,ft,ze){"use strict";var qe=ze("VTBJ"),Xe=ze("Ff2n"),ot=ze("nKUr"),Je=ze.n(ot),J=ze("uX+g"),re=ze("q1tI"),L=ze.n(re),C=ze("lS/g"),_=ze("adzw"),h=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],p=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],f=L.a.forwardRef(function(e,r){var n=e.fieldProps,c=e.children,t=e.params,d=e.proFieldProps,g=e.mode,E=e.valueEnum,D=e.request,T=e.showSearch,A=e.options,O=Object(Xe.a)(e,h),N=Object(re.useContext)(C.b);return Object(ot.jsx)(_.a,Object(qe.a)(Object(qe.a)({valueEnum:Object(J.a)(E),request:D,params:t,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(qe.a)({options:A,mode:g,showSearch:T,getPopupContainer:N.getPopupContainer},n),ref:r,proFieldProps:d},O),{},{children:c}))}),w=L.a.forwardRef(function(e,r){var n=e.fieldProps,c=e.children,t=e.params,d=e.proFieldProps,g=e.mode,E=e.valueEnum,D=e.request,T=e.options,A=Object(Xe.a)(e,p),O=Object(qe.a)({options:T,mode:g||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},n),N=Object(re.useContext)(C.b);return Object(ot.jsx)(_.a,Object(qe.a)(Object(qe.a)({valueEnum:Object(J.a)(E),request:D,params:t,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(qe.a)({getPopupContainer:N.getPopupContainer},O),ref:r,proFieldProps:d},A),{},{children:c}))}),m=f,o=w,i=m;i.SearchSelect=o,i.displayName="ProFormComponent",ft.a=i}}]);

//# sourceMappingURL=vendors~p__Templates__form.8f13dea7.async.js.map