(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{Qurx:function(A,M,e){"use strict";var T=e("wx14"),P=e("Ff2n"),c=e("q1tI"),m=e.n(c),_=e("adzw"),j=["fieldProps","proFieldProps"],v=["fieldProps","proFieldProps"],s="text",i=function(O){var h=O.fieldProps,p=O.proFieldProps,l=Object(P.a)(O,j);return m.a.createElement(_.a,Object(T.a)({mode:"edit",valueType:s,fieldProps:h,filedConfig:{valueType:s},proFieldProps:p},l))},D=function(O){var h=O.fieldProps,p=O.proFieldProps,l=Object(P.a)(O,v);return m.a.createElement(_.a,Object(T.a)({mode:"edit",valueType:"password",fieldProps:h,proFieldProps:p,filedConfig:{valueType:s}},l))},g=i;g.Password=D,g.displayName="ProFormComponent",M.a=g},Z1IU:function(A,M,e){"use strict";e.r(M);var T=e("miYZ"),P=e("tsqr"),c=e("k1fw"),m=e("9og8"),_=e("tJVT"),j=e("fOrg"),v=e("+KLJ"),s=e("WmNS"),i=e.n(s),D=e("cJ7L"),g=e("FY4R"),f=e("q1tI"),O=e.n(f),h=e("VMEa"),p=e("Qurx"),l=e("tneF"),d=e("9kvl"),L=e("Wznp"),C=e("rZsG"),R=e.n(C),x=e("nZnz"),r=e("nKUr"),re=e.n(r),Z=function(U){var I=U.content;return Object(r.jsx)(v.a,{style:{marginBottom:24},message:I,type:"error",showIcon:!0})},J=function(){!d.d||setTimeout(function(){var U=d.d.location.query,I=U,F=I.redirect;d.d.push(F||"/")},10)},Q=function(){var U=Object(f.useState)(!1),I=Object(_.a)(U,2),F=I[0],y=I[1],V=Object(f.useState)(),N=Object(_.a)(V,2),z=N[0],X=N[1],w=Object(d.j)("@@initialState"),B=w.initialState,Y=w.setInitialState,H=Object(f.useState)(!1),G=Object(_.a)(H,2),K=G[0],$=G[1],W=Object(d.i)(),k=function(){var E=Object(m.a)(i.a.mark(function t(){var n,u;return i.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,B==null||(n=B.fetchUserInfo)===null||n===void 0?void 0:n.call(B);case 2:u=b.sent,u&&Y(Object(c.a)(Object(c.a)({},B),{},{currentUser:u}));case 4:case"end":return b.stop()}},t)}));return function(){return E.apply(this,arguments)}}(),q=function(){var E=Object(m.a)(i.a.mark(function t(n){var u,o;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(L.b)(Object(c.a)({},n));case 3:if(u=a.sent,!u.success){a.next=11;break}return localStorage.setItem("TOKEN",u.data.token),P.default.success("success"),a.next=9,k();case 9:return J(),a.abrupt("return");case 11:X(u),a.next=17;break;case 14:a.prev=14,a.t0=a.catch(0),P.default.error((a.t0===null||a.t0===void 0||(o=a.t0.data)===null||o===void 0?void 0:o.message)||"Error");case 17:return a.prev=17,y(!1),a.finish(17);case 20:case"end":return a.stop()}},t,null,[[0,14,17,20]])}));return function(n){return E.apply(this,arguments)}}(),ee=function(){var E=Object(m.a)(i.a.mark(function t(n){var u,o;return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.prev=0,a.next=3,Object(L.a)(Object(c.a)({},n));case 3:if(u=a.sent,!u.success){a.next=7;break}return P.default.success(u.message),a.abrupt("return");case 7:a.next=12;break;case 9:a.prev=9,a.t0=a.catch(0),P.default.error((a.t0===null||a.t0===void 0||(o=a.t0.data)===null||o===void 0?void 0:o.message)||"Error");case 12:return a.prev=12,y(!1),a.finish(12);case 15:case"end":return a.stop()}},t,null,[[0,9,12,15]])}));return function(n){return E.apply(this,arguments)}}(),ae=function(){var E=Object(m.a)(i.a.mark(function t(n){return i.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:y(!0),"password"in n?q(n):ee(Object(c.a)(Object(c.a)({},n),{},{return_url:"".concat(window.location.origin,"/#/user/reset-password")}));case 2:case"end":return o.stop()}},t)}));return function(n){return E.apply(this,arguments)}}();return Object(r.jsx)(x.a,{children:Object(r.jsxs)(h.b,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:K?W.formatMessage({id:"send",defaultMessage:"send"}):W.formatMessage({id:"pages.login.submit",defaultMessage:"submit"})},render:function(t,n){return n.pop()},submitButtonProps:{loading:F,size:"large",style:{width:"100%"}}},onFinish:function(){var E=Object(m.a)(i.a.mark(function t(n){return i.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:ae(n);case 1:case"end":return o.stop()}},t)}));return function(t){return E.apply(this,arguments)}}(),children:[z&&!z.success&&Object(r.jsx)(Z,{content:W.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\uFF08admin/ant.design)"})}),Object(r.jsxs)(r.Fragment,{children:[Object(r.jsx)("pre",{children:"email/password: admin@escola-lms.com/secret"}),Object(r.jsx)(p.a,{name:"email",fieldProps:{size:"large",prefix:Object(r.jsx)(D.a,{className:R.a.prefixIcon})},placeholder:W.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"admin or user"}),rules:[{required:!0,message:Object(r.jsx)(d.a,{id:"pages.login.username.required",defaultMessage:"required!"})}]}),!K&&Object(r.jsx)(p.a.Password,{name:"password",fieldProps:{size:"large",prefix:Object(r.jsx)(g.a,{className:R.a.prefixIcon})},placeholder:W.formatMessage({id:"pages.login.password.placeholder",defaultMessage:" ant.design"}),rules:[{required:!0,message:Object(r.jsx)(d.a,{id:"pages.login.password.required",defaultMessage:"required"})}]})]}),Object(r.jsxs)("div",{style:{marginBottom:24},children:[K?Object(r.jsx)("a",{onClick:function(t){t.preventDefault(),$(!1)},children:Object(r.jsx)(d.a,{id:"back",defaultMessage:"back"})}):Object(r.jsx)(l.a,{noStyle:!0,name:"autoLogin",children:Object(r.jsx)(d.a,{id:"pages.login.rememberMe",defaultMessage:"rememberMe"})}),!K&&Object(r.jsx)("a",{style:{float:"right"},onClick:function(t){t.preventDefault(),$(!0)},children:Object(r.jsx)(d.a,{id:"pages.login.forgotPassword",defaultMessage:"forgotPassword"})})]})]})})};M.default=Q},nZnz:function(A,M,e){"use strict";var T=e("/zsF"),P=e("PArb"),c=e("CwrG"),m=e("rZsG"),_=e.n(m),j=e("9kvl"),v=e("55Ip"),s=e("nKUr"),i=e.n(s),D=function(f){var O=f.children;return Object(s.jsxs)("div",{className:_.a.container,children:[Object(s.jsx)("div",{className:_.a.lang,children:j.b&&Object(s.jsx)(j.b,{})}),Object(s.jsxs)("div",{className:_.a.content,children:[Object(s.jsx)("div",{className:_.a.top,children:Object(s.jsx)("div",{className:_.a.header,children:Object(s.jsx)(v.a,{to:"/",children:Object(s.jsx)("img",{alt:"logo",className:_.a.logo,src:"/logo.svg"})})})}),Object(s.jsx)(P.a,{}),Object(s.jsx)("div",{className:_.a.main,children:O})]}),Object(s.jsx)(c.a,{})]})};M.a=D},rZsG:function(A,M,e){A.exports={container:"container___2MqLM",lang:"lang___GQeBj",content:"content___1PX29",top:"top___3TdAd",header:"header___2LHxh",logo:"logo___3MAcQ",title:"title___3Wr7O",desc:"desc___22Mec",main:"main___1ht25",icon:"icon___ki6v1",other:"other___3NR7b",register:"register___1-tB1",prefixIcon:"prefixIcon___2LycM"}},tneF:function(A,M,e){"use strict";var T=e("sRBo"),P=e("kaz8"),c=e("wx14"),m=e("VTBJ"),_=e("Ff2n"),j=e("q1tI"),v=e.n(j),s=e("adzw"),i=e("uX+g"),D=e("WFLz"),g=["options","fieldProps","proFieldProps","valueEnum"],f=v.a.forwardRef(function(l,d){var L=l.options,C=l.fieldProps,R=l.proFieldProps,x=l.valueEnum,r=Object(_.a)(l,g);return v.a.createElement(s.a,Object(c.a)({ref:d,valueType:"checkbox",mode:"edit",valueEnum:Object(i.a)(x,void 0),fieldProps:Object(m.a)({options:L},C),proFieldProps:R},r))}),O=v.a.forwardRef(function(l,d){var L=l.fieldProps,C=l.children;return v.a.createElement(P.a,Object(c.a)({ref:d},L),C)}),h=Object(D.a)(O,{valuePropName:"checked"}),p=h;p.Group=f,M.a=p}}]);
