"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7760],{47389:function($,p,e){var f=e(1413),s=e(67294),C=e(27363),R=e(84089),F=function(o,j){return s.createElement(R.Z,(0,f.Z)((0,f.Z)({},o),{},{ref:j,icon:C.Z}))},h=s.forwardRef(F);p.Z=h},76971:function($,p,e){e.d(p,{Z:function(){return o}});var f=e(1413),s=e(67294),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z"}}]},name:"plus-circle",theme:"filled"},R=C,F=e(84089),h=function(r,T){return s.createElement(F.Z,(0,f.Z)((0,f.Z)({},r),{},{ref:T,icon:R}))},I=s.forwardRef(h),o=I},5966:function($,p,e){var f=e(97685),s=e(1413),C=e(45987),R=e(21770),F=e(75842),h=e(55241),I=e(97435),o=e(67294),j=e(41550),r=e(85893),T=["fieldProps","proFieldProps"],z=["fieldProps","proFieldProps"],v="text",q=function(a){var n=a.fieldProps,O=a.proFieldProps,d=(0,C.Z)(a,T);return(0,r.jsx)(j.Z,(0,s.Z)({valueType:v,fieldProps:n,filedConfig:{valueType:v},proFieldProps:O},d))},G=function(a){var n=(0,R.Z)(a.open||!1,{value:a.open,onChange:a.onOpenChange}),O=(0,f.Z)(n,2),d=O[0],u=O[1];return(0,r.jsx)(F.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(U){var t,A=U.getFieldValue(a.name||[]);return(0,r.jsx)(h.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(l){return l&&l.parentNode?l.parentNode:l},onOpenChange:u,content:(0,r.jsxs)("div",{style:{padding:"4px 0"},children:[(t=a.statusRender)===null||t===void 0?void 0:t.call(a,A),a.strengthText?(0,r.jsx)("div",{style:{marginTop:10},children:(0,r.jsx)("span",{children:a.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},a.popoverProps),{},{open:d,children:a.children}))}})},V=function(a){var n=a.fieldProps,O=a.proFieldProps,d=(0,C.Z)(a,z),u=(0,o.useState)(!1),K=(0,f.Z)(u,2),U=K[0],t=K[1];return n!=null&&n.statusRender&&d.name?(0,r.jsx)(G,{name:d.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:U,onOpenChange:t,children:(0,r.jsx)("div",{children:(0,r.jsx)(j.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,I.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(D){var l;n==null||(l=n.onBlur)===null||l===void 0||l.call(n,D),t(!1)},onClick:function(D){var l;n==null||(l=n.onClick)===null||l===void 0||l.call(n,D),t(!0)}}),proFieldProps:O,filedConfig:{valueType:v}},d))})}):(0,r.jsx)(j.Z,(0,s.Z)({valueType:"password",fieldProps:n,proFieldProps:O,filedConfig:{valueType:v}},d))},c=q;c.Password=V,c.displayName="ProFormComponent",p.Z=c},16894:function($,p,e){var f=e(72717);p.ZP=f.Z},51457:function($,p,e){e.r(p),e.d(p,{TableColumns:function(){return l},default:function(){return _}});var f=e(15009),s=e.n(f),C=e(99289),R=e.n(C),F=e(5574),h=e.n(F),I=e(9783),o=e.n(I),j=e(97857),r=e.n(j),T=e(15385),z=e(66419),v=e(43669),q=e(47389),G=e(74453),V=e(16894),c=e(83062),b=e(14726),a=e(67294),n=e(80854),O=e(37476),d=e(952),u=e(5966),K=e(75842),U=e(37550),t=e(85893),A=function(P){var x=P.visible,J=P.onVisibleChange,N=P.onFinish,W=P.langKey,ne=P.defaultValue,Y=(0,n.useIntl)(),L=K.Z.useForm(),X=h()(L,1),Q=X[0];return(0,a.useEffect)(function(){Q.setFieldsValue({key:W,text:ne})},[W,Q]),(0,t.jsxs)(O.Y,{form:Q,title:Y.formatMessage({id:"editTranslation",defaultMessage:"Edit Translation"}),width:"700px",visible:x,onVisibleChange:J,onFinish:function(ae){return N(r()({},ae))},children:[(0,t.jsxs)(d.ZP.Group,{children:[(0,t.jsx)(u.Z,{disabled:!0,label:(0,t.jsx)(n.FormattedMessage,{id:"group",defaultMessage:"group"}),name:"group",initialValue:"Admin"}),(0,t.jsx)(u.Z,{disabled:!0,name:"key",label:(0,t.jsx)(n.FormattedMessage,{id:"key"}),placeholder:Y.formatMessage({id:"key"}),required:!0})]}),(0,t.jsx)(d.ZP.Item,{name:"text",label:(0,t.jsx)(n.FormattedMessage,{id:"translationJsonText"}),tooltip:(0,t.jsx)(n.FormattedMessage,{id:"translationJsonText_tooltip"}),valuePropName:"value",children:(0,t.jsx)(U.V,{})})]})},D=A,l=[{title:(0,t.jsx)(n.FormattedMessage,{id:"language",defaultMessage:"Language"}),dataIndex:"lang",sorter:!0,valueType:"select",valueEnum:(0,n.getAllLocales)().reduce(function(B,P){return r()(r()({},B),{},o()({},P,P))},{})},{title:(0,t.jsx)(n.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",sorter:!0},{title:(0,t.jsx)(n.FormattedMessage,{id:"value",defaultMessage:"value"}),dataIndex:"value",sorter:!0}],ee=function(){var P=(0,a.useState)(Math.random()),x=h()(P,2),J=x[0],N=x[1],W=(0,a.useRef)(),ne=(0,a.useState)(),Y=h()(ne,2),L=Y[0],X=Y[1],Q=(0,n.useIntl)(),te=(0,a.useMemo)(function(){for(var y=[],M=Object.keys(v.H8),m=function(){var g=H[i],k=v.H8[g].messages;k&&Object.keys(k).forEach(function(Z){y.push({id:"".concat(g,"-").concat(Z),lang:g,key:Z,value:k[Z]||""})})},i=0,H=M;i<H.length;i++)m();return y},[J]),ae=(0,a.useCallback)(function(y){var M=te.reduce(function(m,i){return i.key===y?r()(r()({},m),{},o()({},i.lang,i.value)):m},{});X({key:y,defaultValue:M})},[]);return(0,t.jsxs)(G._z,{children:[(0,t.jsx)(V.ZP,{headerTitle:Q.formatMessage({id:"menu.Configuration.Translations",defaultMessage:"Translations"}),actionRef:W,search:{layout:"vertical"},rowKey:"id",request:function(M,m){var i=M.lang,H=M.key,E=M.value,g=m&&Object.entries(m)[0];return new Promise(function(k){var Z=te.filter(function(w){var S=!0;return S&&i&&w.lang!==i&&(S=!1),S&&H&&!w.key.includes(H)&&(S=!1),S&&E&&typeof w.value=="string"&&w.value&&!w.value.includes(E)&&(S=!1),S});g&&(console.log("rows: ",Z),console.log("sortArr: ",g),Z=Z.sort((0,z.YC)(g[0],g[1]!=="ascend"))),k({data:Z,success:!0,total:Z.length})})},columns:[].concat(l,[{title:(0,t.jsx)(n.FormattedMessage,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(M,m){return[(0,t.jsx)(c.Z,{title:(0,t.jsx)(n.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,t.jsx)(b.ZP,{type:"primary",icon:(0,t.jsx)(q.Z,{}),onClick:function(){return ae(m.key)}})},"edit"),,]}}])})," ",(0,t.jsx)(D,{langKey:L==null?void 0:L.key,defaultValue:L==null?void 0:L.defaultValue,visible:!!L,onVisibleChange:function(M){return M===!1&&X(void 0)},onFinish:function(){var y=R()(s()().mark(function M(m){var i;return s()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return Object.entries(m.text).forEach(function(g){g[1]&&(0,n.addLocale)(g[0],o()({},m.key,g[1]),{antd:v.H8[g[0]].antd,momentLocale:v.H8[g[0]].momentLocale})}),W.current&&(N(Math.random()),W.current.reload()),E.next=4,(0,T.Iz)({group:"Admin",key:m.key});case 4:if(i=E.sent,!i.success){E.next=12;break}if(!(i.data.length>0&&i.data[0].id)){E.next=10;break}(0,T.KK)(i.data[0].id,m),E.next=12;break;case 10:return E.next=12,(0,T.vP)(m);case 12:return X(void 0),E.abrupt("return",!0);case 14:case"end":return E.stop()}},M)}));return function(M){return y.apply(this,arguments)}}()})]})},_=ee},37550:function($,p,e){e.d(p,{V:function(){return a}});var f=e(52677),s=e.n(f),C=e(5574),R=e.n(C),F=e(9783),h=e.n(F),I=e(97857),o=e.n(I),j=e(71230),r=e(15746),T=e(55102),z=e(14726),v=e(67294),q=e(45823),G=e(76971),V=e(80854),c=e(85893),b=function(){return(0,V.getAllLocales)().reduce(function(d,u){return o()(o()({},d),{},h()({},u,""))},{})},a=function(d){var u=d.value,K=d.onChange,U=(0,v.useState)(b()),t=R()(U,2),A=t[0],D=t[1];(0,v.useEffect)(function(){var _=s()(u)==="object"?u:JSON.parse(u!=null?u:"{}");D(Object.assign(b(),_))},[u]),(0,v.useEffect)(function(){K&&JSON.stringify(A)!==JSON.stringify(u)&&K(A)},[A]);var l=(0,v.useCallback)(function(){D(function(_){return o()(o()({},_),{},{lang:""})})},[]),ee=(0,v.useCallback)(function(_,B,P){D(function(x){return Object.entries(x).reduce(function(J,N,W){return W===_?o()(o()({},J),{},h()({},B,P)):o()(o()({},J),{},h()({},N[0],N[1]))},{})})},[]);return(0,c.jsxs)("div",{children:[Object.entries(A).map(function(_,B){return(0,c.jsxs)(j.Z,{children:[(0,c.jsx)(r.Z,{span:6,children:(0,c.jsx)(T.Z,{disabled:(0,V.getAllLocales)().includes(_[0]),value:_[0],maxLength:5,onChange:function(x){return ee(B,x.target.value,_[1])}})}),(0,c.jsx)(r.Z,{span:24-6,children:(0,c.jsx)(T.Z,{value:_[1],onChange:function(x){return ee(B,_[0],x.target.value)}})})]},_[0])}),(0,c.jsx)(z.ZP,{onClick:function(){return l()},icon:(0,c.jsx)(G.Z,{})})]})},n=null},45823:function(){}}]);
