(window.webpackJsonp=window.webpackJsonp||[]).push([[35],{"/y+f":function(Ue,oe,t){"use strict";t.d(oe,"f",function(){return u}),t.d(oe,"d",function(){return v}),t.d(oe,"e",function(){return T}),t.d(oe,"c",function(){return r}),t.d(oe,"a",function(){return le}),t.d(oe,"b",function(){return Fe});var u;(function(d){d.Unselected="",d.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",d.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",d.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",d.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",d.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",d.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",d.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",d.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",d.Project="EscolaLms\\TopicTypeProject\\Models\\Project",d.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz"})(u||(u={}));var J;(function(d){d.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",d.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(J||(J={}));var U;(function(d){d.draft="draft",d.published="published",d.archived="archived"})(U||(U={}));var v;(function(d){d.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",d.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",d.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(v||(v={}));var T;(function(d){d.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(T||(T={}));var l;(function(d){d.cart_fixed="cart_fixed",d.cart_percent="cart_percent",d.product_fixed="product_fixed",d.product_percent="product_percent"})(l||(l={}));var r;(function(d){d.MULTIPLE_CHOICE="multiple_choice",d.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",d.TRUE_FALSE="true_false",d.SHORT_ANSWERS="short_answers",d.MATCHING="matching",d.NUMERICAL_QUESTION="numerical_question",d.ESSAY="essay",d.DESCRIPTION="description"})(r||(r={}));var le;(function(d){d.PRESENT="present",d.ABSENT="absent"})(le||(le={}));var Fe;(function(d){d.Manual="manual",d.TeamsForms="teams_forms",d.TeamsLecture="teams_lecture",d.TestPortal="test_portal"})(Fe||(Fe={}))},"0JQy":function(Ue,oe){var t="\\ud800-\\udfff",u="\\u0300-\\u036f",J="\\ufe20-\\ufe2f",U="\\u20d0-\\u20ff",v=u+J+U,T="\\ufe0e\\ufe0f",l="["+t+"]",r="["+v+"]",le="\\ud83c[\\udffb-\\udfff]",Fe="(?:"+r+"|"+le+")",d="[^"+t+"]",ie="(?:\\ud83c[\\udde6-\\uddff]){2}",ye="[\\ud800-\\udbff][\\udc00-\\udfff]",Ee="\\u200d",re=Fe+"?",Pe="["+T+"]?",rt="(?:"+Ee+"(?:"+[d,ie,ye].join("|")+")"+Pe+re+")*",me=Pe+re+rt,qe="(?:"+[d+r+"?",r,ie,ye,l].join("|")+")",Ne=RegExp(le+"(?="+le+")|"+qe+me,"g");function p(f){return f.match(Ne)||[]}Ue.exports=p},"5R/X":function(Ue,oe,t){},"5Syx":function(Ue,oe,t){"use strict";t.d(oe,"c",function(){return Be}),t.d(oe,"b",function(){return it}),t.d(oe,"a",function(){return ee});var u=t("OaEy"),J=t("2fM7"),U=t("g9YV"),v=t("wCAj"),T=t("BoS7"),l=t("Sdc0"),r=t("jrin"),le=t("k1fw"),Fe=t("DYRE"),d=t("zeV3"),ie=t("+BJd"),ye=t("mr32"),Ee=t("oBTY"),re=t("tJVT"),Pe=t("q1tI"),rt=t.n(Pe),me=t("9kvl"),qe=t("Vpfc"),Ne=t("nhC9"),p=t("LDJE"),f=t("nKUr"),Xe=t.n(f),et=function(N){return N.topicable.content.contents?Object.values(N.topicable.content.contents)[0].library:"H5P"},Be=function(N){var h=N.topics,w=N.stats,ve=Object(Pe.useState)(!1),I=Object(re.a)(ve,2),b=I[0],Oe=I[1],Te=Object(Pe.useMemo)(function(){return[{title:Object(f.jsx)(me.a,{id:"user"}),dataIndex:"id",render:function(Le){return Object(f.jsx)(qe.a,{type:"App\\Models\\User",type_id:Le})}},{title:Object(f.jsx)(me.a,{id:"email"}),dataIndex:"email"}].concat(Object(Ee.a)(h.map(function(Se){var Le,Ce=(Le=Se.topicable_type)===null||Le===void 0?void 0:Le.split("\\").pop();return Ce==="H5P"&&(Ce=et(Se)),{render:function(C){var z=0,he=0;switch(C&&(C.started_at&&C.finished_at?z=1:C.started_at&&(z=2),he=C.seconds/60),z){case 1:return Object(f.jsxs)(d.b,{children:[Object(f.jsx)(ye.a,{color:"success",children:"F"}),b&&Object(f.jsxs)("small",{children:[he.toFixed(2),"m"]})]});case 2:return Object(f.jsxs)(d.b,{children:[Object(f.jsx)(ye.a,{color:"blue",children:"S"}),b&&Object(f.jsxs)("small",{children:[he.toFixed(2),"m"]})]});case 0:default:return Object(f.jsx)(rt.a.Fragment,{children:Object(f.jsx)(ye.a,{color:"error",children:"N"})})}},title:Object(f.jsxs)("small",{children:[Object(f.jsx)(ye.a,{children:Ce})," ",Se.title]}),dataIndex:Se.id}})))},[h,b]),Re=Object(Pe.useMemo)(function(){return w.map(function(Se){return h.reduce(function(Le,Ce){var We=Se.topics.find(function(C){return C.id===Ce.id});return Object(le.a)(Object(le.a)({},Le),{},Object(r.a)({},Number(Ce.id),We!=null?We:0))},{email:Se.email,id:Se.id})})},[w,h]);return Object(f.jsx)(v.a,{title:function(){return Object(f.jsxs)(d.b,{children:[Object(f.jsx)(me.a,{id:"Finished",defaultMessage:"Finished:"})," ",Object(f.jsx)(ye.a,{color:"success",children:"F"}),Object(f.jsx)(me.a,{id:"Started",defaultMessage:"Started:"})," ",Object(f.jsx)(ye.a,{color:"blue",children:"S"}),Object(f.jsx)(me.a,{id:"NotStarted",defaultMessage:"Not Started:"})," ",Object(f.jsx)(ye.a,{color:"error",children:"N"}),Object(f.jsx)(me.a,{id:"ShowMinutes",defaultMessage:"Show minutes spent on topic:"})," ",Object(f.jsx)(l.a,{checked:b,onChange:function(Ce){return Oe(Ce)}})]})},columns:Te,dataSource:Re,size:"small",scroll:{x:1500}})},it=function(N){var h=N.stats,w=Object(Pe.useMemo)(function(){return[{title:"user",dataIndex:"id",render:function(b){return Object(f.jsx)(qe.a,{type:"App\\Models\\User",type_id:b})}},{title:"email",dataIndex:"email"},{title:Object(f.jsx)(me.a,{id:"finished_at",defaultMessage:"Finished at"}),dataIndex:"finished_at"}]},[]),ve=Object(Pe.useMemo)(function(){return h.map(function(I){var b=I.id,Oe=I.email,Te=I.finished_at;return{id:b,email:Oe,finished_at:Te}})},[h]);return Object(f.jsx)(v.a,{title:function(){return Object(f.jsx)(d.b,{children:Object(f.jsx)(me.a,{id:"course.finished",defaultMessage:"Finished"})})},columns:w,dataSource:ve,size:"small",scroll:{x:500}})},ee=function(N){var h=N.stats,w=Object(Pe.useState)(null),ve=Object(re.a)(w,2),I=ve[0],b=ve[1],Oe=Object(Pe.useState)(null),Te=Object(re.a)(Oe,2),Re=Te[0],Se=Te[1],Le=Object(me.l)(),Ce=Object(Pe.useMemo)(function(){return h.flatMap(function(C){return Object.values(C.attempts).flatMap(function(z){var he=z.dates,K=z.attempt,ut=Object.values(he).flatMap(function(we){var tt=we.date,$e=we.seconds_total;return{date:tt,attempt:K,seconds_total:$e,email:C.email}});return ut})})},[h]),We={xField:"date",yField:"seconds_total",seriesField:"attempt",isStack:!0,xAxis:{label:{autoHide:!0,autoRotate:!1}},slider:{start:0,end:1},label:{position:"middle",layout:[{type:"interval-adjust-position"},{type:"interval-hide-overlap"},{type:"adjust-color"}]}};return Object(f.jsx)(Ne.a,{title:Object(f.jsxs)(d.b,{children:[Object(f.jsx)(me.a,{id:"course.interactions_time_in_days"}),Object(f.jsx)(J.a,{showSearch:!0,value:I,onChange:function(z){b(z),Se(null)},placeholder:Object(f.jsx)(me.a,{id:"select_person",defaultMessage:"Select a person"}),children:h.map(function(C){var z=C.id,he=C.email;return Object(f.jsx)(J.a.Option,{value:he,children:he},z)})}),Object(f.jsx)(J.a,{value:Re,onChange:function(z){return Se(z)},disabled:I===null,placeholder:Object(f.jsx)(me.a,{id:"select_attempt",defaultMessage:"Select attempt"}),children:Object(Ee.a)(new Set(Ce.filter(function(C){var z=C.email;return z===I}).map(function(C){var z=C.attempt;return z}))).map(function(C){return Object(f.jsxs)(J.a.Option,{value:C,children:[Object(f.jsx)(me.a,{id:"attempt",defaultMessage:"Attempt"})," ",C]},C)})})]}),colSpan:12,layout:"center",children:Object(f.jsx)("div",{style:{overflow:"auto",minHeight:"400px",width:"100%"},children:Object(f.jsx)(p.a,Object(le.a)(Object(le.a)({},We),{},{tooltip:{title:"".concat(Le.formatMessage({id:"attempt"})),formatter:function(z){var he=Math.floor(+z.seconds_total/60),K=+z.seconds_total>60?+z.seconds_total-he*60:0;return{name:z.attempt,value:"".concat(he,"m ").concat(K,"s")}}},data:Ce.filter(function(C){var z=C.email;return z===I}).filter(function(C){var z=C.attempt;return Number.isInteger(Re)?z===Re:!0})}))})})}},Em2t:function(Ue,oe,t){var u=t("bahg"),J=t("quyA"),U=t("0JQy");function v(T){return J(T)?U(T):u(T)}Ue.exports=v},Hn4i:function(Ue,oe,t){"use strict";var u=t("y8nQ"),J=t("Vl3Y"),U=t("+L6B"),v=t("2/Rp"),T=t("rePB"),l=t("ODXe"),r=t("Ff2n"),le=t("x+uP"),Fe=t("HaE+"),d=t("VTBJ"),ie=t("nKUr"),ye=t.n(ie),Ee=t("xvlK"),re=t("WuYN"),Pe=t("VMEa"),rt=t("LQCs"),me=t("ft2k"),qe=t("uX+g"),Ne=t("+i8S"),p=t("ipCM"),f=t("6cGi"),Xe=t("ub+h"),et=t("bG1m"),Be=t("q1tI"),it=t.n(Be),ee=t("mWMg"),Z=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef"],N=["record","position","creatorButtonText","newRecordType","parentKey","style"],h=it.a.createContext(void 0);function w(b){var Oe=b.children,Te=b.record,Re=b.position,Se=b.newRecordType,Le=b.parentKey,Ce=Object(Be.useContext)(h);return it.a.cloneElement(Oe,Object(d.a)(Object(d.a)({},Oe.props),{},{onClick:function(){var We=Object(Fe.a)(Object(le.a)().mark(function z(he){var K,ut,we,tt;return Object(le.a)().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:return te.next=2,(K=(ut=Oe.props).onClick)===null||K===void 0?void 0:K.call(ut,he);case 2:if(tt=te.sent,tt!==!1){te.next=5;break}return te.abrupt("return");case 5:Ce==null||(we=Ce.current)===null||we===void 0||we.addEditRecord(Te,{position:Re,newRecordType:Se,parentKey:Le});case 6:case"end":return te.stop()}},z)}));function C(z){return We.apply(this,arguments)}return C}()}))}function ve(b){var Oe,Te,Re=Object(rt.d)(),Se=b.onTableChange,Le=b.maxLength,Ce=b.formItemProps,We=b.recordCreatorProps,C=b.rowKey,z=b.controlled,he=b.defaultValue,K=b.onChange,ut=b.editableFormRef,we=Object(r.a)(b,Z),tt=Object(me.a)(b.value),$e=Object(Be.useRef)(),te=Object(Be.useRef)();Object(Be.useImperativeHandle)(we.actionRef,function(){return $e.current});var ft=Object(f.a)(function(){return b.value||he||[]},{value:b.value,onChange:b.onChange}),jt=Object(l.a)(ft,2),W=jt[0],gt=jt[1],at=it.a.useMemo(function(){return typeof C=="function"?C:function(De,ae){return De[C]||ae}},[C]),R=function(ae){if(typeof ae=="number"&&!b.name){if(ae>=W.length)return ae;var se=W&&W[ae];return at==null?void 0:at(se,ae)}if((typeof ae=="string"||ae>=W.length)&&b.name){var ue=W.findIndex(function(je,Me){var Ae;return(at==null||(Ae=at(je,Me))===null||Ae===void 0?void 0:Ae.toString())===(ae==null?void 0:ae.toString())});return ue}return ae};Object(Be.useImperativeHandle)(ut,function(){var De=function(ue){var je,Me;if(ue==null)throw new Error("rowIndex is required");var Ae=R(ue),st=[b.name,(je=Ae==null?void 0:Ae.toString())!==null&&je!==void 0?je:""].flat(1).filter(Boolean);return(Me=te.current)===null||Me===void 0?void 0:Me.getFieldValue(st)},ae=function(){var ue,je=[b.name].flat(1).filter(Boolean);if(Array.isArray(je)&&je.length===0){var Me,Ae=(Me=te.current)===null||Me===void 0?void 0:Me.getFieldsValue();return Array.isArray(Ae)?Ae:Object.keys(Ae).map(function(st){return Ae[st]})}return(ue=te.current)===null||ue===void 0?void 0:ue.getFieldValue(je)};return Object(d.a)(Object(d.a)({},te.current),{},{getRowData:De,getRowsData:ae,setRowData:function(ue,je){var Me,Ae,st,dt;if(ue==null)throw new Error("rowIndex is required");var ot=R(ue),vt=[b.name,(Me=ot==null?void 0:ot.toString())!==null&&Me!==void 0?Me:""].flat(1).filter(Boolean),Ot=((Ae=te.current)===null||Ae===void 0||(st=Ae.getFieldsValue)===null||st===void 0?void 0:st.call(Ae))||{},_t=Object(et.a)(Ot,vt,Object(d.a)(Object(d.a)({},De(ue)),je||{}));return(dt=te.current)===null||dt===void 0?void 0:dt.setFieldsValue(_t)}})}),Object(Be.useEffect)(function(){!b.controlled||W.forEach(function(De,ae){var se;(se=te.current)===null||se===void 0||se.setFieldsValue(Object(T.a)({},at(De,ae),De))},{})},[W,b.controlled]),Object(Be.useEffect)(function(){if(b.name){var De;te.current=b==null||(De=b.editable)===null||De===void 0?void 0:De.form}},[(Oe=b.editable)===null||Oe===void 0?void 0:Oe.form,b.name]);var L=We||{},M=L.record,A=L.position,e=L.creatorButtonText,Q=L.newRecordType,Ge=L.parentKey,Ve=L.style,yt=Object(r.a)(L,N),pt=A==="top",lt=Object(Be.useMemo)(function(){return Le&&Le<=(W==null?void 0:W.length)?!1:We!==!1&&Object(ie.jsx)(w,{record:Object(qe.a)(M,W==null?void 0:W.length,W)||{},position:A,parentKey:Object(qe.a)(Ge,W==null?void 0:W.length,W),newRecordType:Q,children:Object(ie.jsx)(v.a,Object(d.a)(Object(d.a)({type:"dashed",style:Object(d.a)({display:"block",margin:"10px 0",width:"100%"},Ve),icon:Object(ie.jsx)(Ee.a,{})},yt),{},{children:e||Re.getMessage("editableTable.action.add","\u6DFB\u52A0\u4E00\u884C\u6570\u636E")}))})},[We,Le,W==null?void 0:W.length]),Tt=Object(Be.useMemo)(function(){return lt?pt?{components:{header:{wrapper:function(ae){var se,ue=ae.className,je=ae.children;return Object(ie.jsxs)("thead",{className:ue,children:[je,Object(ie.jsxs)("tr",{style:{position:"relative"},children:[Object(ie.jsx)("td",{colSpan:0,style:{visibility:"hidden"},children:lt}),Object(ie.jsx)("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(se=we.columns)===null||se===void 0?void 0:se.length,children:lt})]})]})}}}}:{tableViewRender:function(ae,se){var ue,je;return Object(ie.jsxs)(ie.Fragment,{children:[(ue=(je=b.tableViewRender)===null||je===void 0?void 0:je.call(b,ae,se))!==null&&ue!==void 0?ue:se,lt]})}}:{}},[pt,lt]),mt=Object(d.a)({},b.editable),Ct=Object(Ne.a)(function(De,ae){var se,ue,je;if((se=b.editable)===null||se===void 0||(ue=se.onValuesChange)===null||ue===void 0||ue.call(se,De,ae),(je=b.onValuesChange)===null||je===void 0||je.call(b,ae,De),b.controlled){var Me;b==null||(Me=b.onChange)===null||Me===void 0||Me.call(b,ae)}});return((b==null?void 0:b.onValuesChange)||((Te=b.editable)===null||Te===void 0?void 0:Te.onValuesChange)||b.controlled&&(b==null?void 0:b.onChange))&&(mt.onValuesChange=Ct),Object(ie.jsxs)(ie.Fragment,{children:[Object(ie.jsx)(h.Provider,{value:$e,children:Object(ie.jsx)(ee.a,Object(d.a)(Object(d.a)(Object(d.a)({search:!1,options:!1,pagination:!1,rowKey:C,revalidateOnFocus:!1},we),Tt),{},{tableLayout:"fixed",actionRef:$e,onChange:Se,editable:Object(d.a)(Object(d.a)({},mt),{},{formProps:Object(d.a)({formRef:te},mt.formProps)}),dataSource:W,onDataSourceChange:function(ae){if(gt(ae),b.name&&A==="top"){var se,ue=Object(et.a)({},[b.name].flat(1).filter(Boolean),ae);(se=te.current)===null||se===void 0||se.setFieldsValue(ue)}}}))}),b.name?Object(ie.jsx)(re.a,{name:[b.name],children:function(ae){var se,ue,je=Object(Xe.a)(ae,[b.name].flat(1)),Me=je==null?void 0:je.find(function(Ae,st){return!Object(p.a)(Ae,tt==null?void 0:tt[st])});return Me&&tt&&(b==null||(se=b.editable)===null||se===void 0||(ue=se.onValuesChange)===null||ue===void 0||ue.call(se,Me,je)),null}}):null]})}function I(b){var Oe=Pe.a.useFormInstance();return b.name?Object(ie.jsx)(J.a.Item,Object(d.a)(Object(d.a)({style:{maxWidth:"100%"}},b==null?void 0:b.formItemProps),{},{name:b.name,children:Object(ie.jsx)(ve,Object(d.a)(Object(d.a)({},b),{},{editable:Object(d.a)(Object(d.a)({},b.editable),{},{form:Oe})}))})):Object(ie.jsx)(ve,Object(d.a)({},b))}I.RecordCreator=w,oe.a=I},KxBF:function(Ue,oe){function t(u,J,U){var v=-1,T=u.length;J<0&&(J=-J>T?0:T+J),U=U>T?T:U,U<0&&(U+=T),T=J>U?0:U-J>>>0,J>>>=0;for(var l=Array(T);++v<T;)l[v]=u[v+J];return l}Ue.exports=t},LDJE:function(Ue,oe,t){"use strict";var u=t("q1tI"),J=t.n(u),U=t("ma/q"),v=t("ZIEt"),T=t("QpZ9"),l=t("GzfL"),r=t("Scwr"),le=function(d,ie){var ye={};for(var Ee in d)Object.prototype.hasOwnProperty.call(d,Ee)&&ie.indexOf(Ee)<0&&(ye[Ee]=d[Ee]);if(d!=null&&typeof Object.getOwnPropertySymbols=="function")for(var re=0,Ee=Object.getOwnPropertySymbols(d);re<Ee.length;re++)ie.indexOf(Ee[re])<0&&Object.prototype.propertyIsEnumerable.call(d,Ee[re])&&(ye[Ee[re]]=d[Ee[re]]);return ye},Fe=Object(u.forwardRef)(function(d,ie){var ye=d.chartRef,Ee=d.style,re=Ee===void 0?{height:"inherit"}:Ee,Pe=d.className,rt=d.loading,me=d.loadingTemplate,qe=d.errorTemplate,Ne=le(d,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),p=Object(v.a)(U.a,Ne),f=p.chart,Xe=p.container;return Object(u.useEffect)(function(){Object(T.a)(ye,f.current)},[f.current]),Object(u.useImperativeHandle)(ie,function(){return{getChart:function(){return f.current}}}),J.a.createElement(l.a,{errorTemplate:qe},rt&&J.a.createElement(r.a,{loadingTemplate:me,theme:d.theme}),J.a.createElement("div",{className:Pe,style:re,ref:Xe}))});oe.a=Fe},bahg:function(Ue,oe){function t(u){return u.split("")}Ue.exports=t},olry:function(Ue,oe,t){"use strict";t.r(oe);var u=t("k1fw"),J=t("+L6B"),U=t("2/Rp"),v=t("T2oS"),T=t("W9HT"),l=t("q1tI"),r=t("9kvl"),le=t("55Ip"),Fe=t("Ty5D"),d=t("nhC9"),ie=t("tMyG"),ye=t("my69"),Ee=t("huej"),re=t("mJ0o"),Pe=t("EhlZ"),rt=t("P2fV"),me=t("NJEC"),qe=t("5Dmo"),Ne=t("3S7+"),p=t("qLMh"),f=t("9og8"),Xe=t("sWYD"),et=t("G3dp"),Be=t("lbgm"),it=t("/MfK"),ee=t("Qiat"),Z=t("mGZj");function N(o,c){return h.apply(this,arguments)}function h(){return h=Object(f.a)(Object(p.a)().mark(function o(c,n){return Object(p.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r.i)("/api/admin/exams",Object(u.a)({method:"GET",useCache:!1,params:c},n||{})));case 1:case"end":return a.stop()}},o)})),h.apply(this,arguments)}function w(o,c){return ve.apply(this,arguments)}function ve(){return ve=Object(f.a)(Object(p.a)().mark(function o(c,n){return Object(p.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r.i)("/api/admin/exams",Object(u.a)({method:"POST",headers:{"Content-Type":"application/json"},data:c},n||{})));case 1:case"end":return a.stop()}},o)})),ve.apply(this,arguments)}function I(o,c,n){return b.apply(this,arguments)}function b(){return b=Object(f.a)(Object(p.a)().mark(function o(c,n,s){return Object(p.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.i)("/api/admin/exams/".concat(c),Object(u.a)({method:"PUT",data:n,useCache:!1},s||{})));case 1:case"end":return i.stop()}},o)})),b.apply(this,arguments)}function Oe(o,c){return Te.apply(this,arguments)}function Te(){return Te=Object(f.a)(Object(p.a)().mark(function o(c,n){return Object(p.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r.i)("/api/admin/exams/".concat(c),Object(u.a)({method:"GET",useCache:!1},n||{})));case 1:case"end":return a.stop()}},o)})),Te.apply(this,arguments)}function Re(o,c){return Se.apply(this,arguments)}function Se(){return Se=Object(f.a)(Object(p.a)().mark(function o(c,n){return Object(p.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r.i)("/api/admin/exams/".concat(c),Object(u.a)({method:"DELETE"},n||{})));case 1:case"end":return a.stop()}},o)})),Se.apply(this,arguments)}function Le(o,c,n,s){return Ce.apply(this,arguments)}function Ce(){return Ce=Object(f.a)(Object(p.a)().mark(function o(c,n,s,a){return Object(p.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(r.i)("/api/admin/exams/".concat(c,"/users/").concat(n),Object(u.a)({method:"POST",headers:{"Content-Type":"application/json"},data:s},a||{})));case 1:case"end":return j.stop()}},o)})),Ce.apply(this,arguments)}function We(o,c,n){return C.apply(this,arguments)}function C(){return C=Object(f.a)(Object(p.a)().mark(function o(c,n,s){return Object(p.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.i)("/api/admin/exams/".concat(c,"/users/").concat(n),Object(u.a)({method:"DELETE"},s||{})));case 1:case"end":return i.stop()}},o)})),C.apply(this,arguments)}var z=t("giR+"),he=t("fyUT"),K=t("tJVT"),ut=t("14J3"),we=t("BMrR"),tt=t("jCWc"),$e=t("kPKH"),te=t("VMEa"),ft=t("Qurx"),jt=t("lR9U"),W=t("/y+f"),gt=t("2qtc"),at=t("kLXV"),R=t("OaEy"),L=t("2fM7"),M=t("oBTY"),A=t("DBJ/"),e=t("nKUr"),Q=[W.b.TeamsLecture,W.b.TestPortal,W.b.TeamsForms];function Ge(o){var c=o.showSelectAll,n=c===void 0?!0:c,s=o.options,a=s===void 0?[]:s,i=o.value,j=o.onChange,E=Object(l.useCallback)(function(){j==null||j(a.map(function(S){return S.value}),a)},[j,a]),m=Object(l.useCallback)(function(){j==null||j([],[])},[j]),P=Object(l.useMemo)(function(){return n?[{label:i!=null&&i.length?Object(e.jsx)(U.a,{type:"link",onClick:m,children:Object(e.jsx)(r.a,{id:"deselect_all"})}):Object(e.jsx)(U.a,{type:"link",onClick:E,children:Object(e.jsx)(r.a,{id:"select_all"})}),options:a}]:a},[E,m,a,n,i==null?void 0:i.length]);return{options:P,value:i,onChange:j}}var Ve=function(c){var n=c.open,s=c.closeModal,a=c.onSuccess,i=c.type,j=Object(re.b)(),E=j.teacherSubjectData,m=j.semester_subject_id,P=j.groupUsers,S=j.getGroupUsers,_=Object(l.useState)(),g=Object(K.a)(_,2),O=g[0],x=g[1],G=Object(l.useState)([]),F=Object(K.a)(G,2),$=F[0],ge=F[1],y={type:i,semester_subject_id:m},pe=Object(l.useCallback)(function(V){V.success&&x(V.data.results)},[]),X=Object(l.useMemo)(function(){var V;return((V=E==null?void 0:E.groups)!==null&&V!==void 0?V:[]).map(function(Y){var Ie=Y.id,k=Y.name;return{label:k,value:Ie}})},[]),ce=Object(l.useCallback)(function(V){ge(V);var Y=V.reduce(function(Ie,k){var q,de=(q=P.byId)===null||q===void 0?void 0:q[k];if(!de)return Ie;var _e=de.users.map(function(fe){var bt=fe.id,H=fe.email,D=fe.first_name,B=fe.last_name;return{email:H,first_name:D,last_name:B,user_id:bt,result:0}});return[].concat(Object(M.a)(Ie),Object(M.a)(_e))},[]);x(Y!=null&&Y.length?Y:void 0)},[P.byId]),be=Ge({options:X,onChange:ce,value:$});return Object(l.useEffect)(function(){if(i===W.b.Manual&&n){var V;E==null||(V=E.groups)===null||V===void 0||V.forEach(function(Y){var Ie=Y.id;return S(Ie)})}},[i,n]),Object(e.jsxs)(at.a,{title:Object(e.jsx)(r.a,{id:"TeacherSubjects.Exams.".concat(i,"Convert")}),width:"40vw",open:n,onCancel:s,onOk:function(){O&&a(O)},okButtonProps:{disabled:!O},children:[Q.includes(i)&&Object(e.jsx)(A.a,{name:"file",url:"/api/admin/exams/parse",onUpload:pe,onChange:function(Y){return!Y.fileList.length&&x(void 0)},maxFiles:1,data:y,hideLabel:!0}),i===W.b.Manual&&Object(e.jsx)(L.a,Object(u.a)(Object(u.a)({},be),{},{placeholder:Object(e.jsx)(r.a,{id:"select_groups"}),mode:"multiple",style:{width:"100%"}}))]})},yt=function(c){var n=c.onSelect;return Object(e.jsxs)(we.a,{gutter:[16,16],children:[Object(e.jsx)($e.a,{span:12,children:Object(e.jsx)(U.a,{type:"primary",onClick:function(){return n(W.b.TeamsForms)},children:Object(e.jsx)(r.a,{id:"uploadFile.MsTeamsForms",defaultMessage:"uploadFile.MsTeamsForms"})})}),Object(e.jsx)($e.a,{span:12,children:Object(e.jsx)(U.a,{type:"primary",onClick:function(){return n(W.b.TestPortal)},children:Object(e.jsx)(r.a,{id:"uploadFile.TestPortal",defaultMessage:"uploadFile.TestPortal"})})}),Object(e.jsx)($e.a,{span:12,children:Object(e.jsx)(U.a,{type:"primary",onClick:function(){return n(W.b.TeamsLecture)},children:Object(e.jsx)(r.a,{id:"uploadFile.MsTeams",defaultMessage:"uploadFile.MsTeams"})})}),Object(e.jsx)($e.a,{span:12,children:Object(e.jsx)(U.a,{type:"primary",onClick:function(){return n(W.b.Manual)},children:Object(e.jsx)(r.a,{id:"uploadGradesManually",defaultMessage:"uploadGradesManually"})})})]})},pt=[{title:Object(e.jsx)(r.a,{id:"first_name"}),dataIndex:"first_name",editable:!1},{title:Object(e.jsx)(r.a,{id:"last_name"}),dataIndex:"last_name",editable:!1},{title:Object(e.jsx)(r.a,{id:"examResult"}),dataIndex:"result",valueType:"percent",formItemProps:{rules:[{required:!0,message:Object(e.jsx)(r.a,{id:"field_required"})},{type:"number",min:0,max:100,message:Object(e.jsx)(r.a,{id:"number_between",values:{min:0,max:100}})}]}}],lt=function(c){var n=c.exam_id,s=te.a.useForm(),a=Object(K.a)(s,1),i=a[0],j=Object(l.useState)(),E=Object(K.a)(j,2),m=E[0],P=E[1],S=Object(l.useState)(),_=Object(K.a)(S,2),g=_[0],O=_[1],x=Object(l.useState)(!1),G=Object(K.a)(x,2),F=G[0],$=G[1],ge=Object(re.b)(),y=ge.semester_subject_id,pe=Object(l.useMemo)(function(){return(g!=null?g:[]).map(function(ce){var be=ce.user_id;return be})},[g]);Object(l.useEffect)(function(){var ce=Number(n);n==="new"&&(P(void 0),O(void 0),i.resetFields()),n!=="new"&&!Number.isNaN(ce)&&($(!0),Oe(ce).then(function(be){if(be.success){var V=be.data,Y=V.type,Ie=V.results,k=V.title,q=V.weight,de=V.passed_at;P(Y),O(Ie),i.setFieldsValue({title:k,weight:q,passed_at:de})}}).finally(function(){return $(!1)}))},[n]);var X=Object(l.useCallback)(function(){P(void 0),O(void 0)},[]);return F?Object(e.jsx)(T.a,{}):Object(e.jsxs)(e.Fragment,{children:[m&&Object(e.jsx)(Ve,{open:Boolean(m&&!g),type:m,closeModal:X,onSuccess:O}),Object(e.jsxs)(te.a,{form:i,submitter:m===void 0||!g?!1:void 0,onFinish:function(){var ce=Object(f.a)(Object(p.a)().mark(function be(V){var Y,Ie,k,q,de,_e,fe;return Object(p.a)().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:if(Y=g==null?void 0:g.every(function(D){var B=D.result;return typeof B=="number"&&B>=0&&B<=100}),!(Y&&typeof y=="number")){H.next=16;break}if(Ie=V.title,k=V.passed_at,q=V.weight,de=Number(n),_e={type:m,semester_subject_id:y,title:Ie,passed_at:k,weight:q,results:g},!Number.isNaN(de)){H.next=11;break}return H.next=8,w(_e);case 8:H.t0=H.sent,H.next=14;break;case 11:return H.next=13,I(de,_e);case 13:H.t0=H.sent;case 14:fe=H.t0,fe.success&&r.f.push("/teacher/subjects/".concat(y,"/exams"));case 16:return H.abrupt("return",!0);case 17:case"end":return H.stop()}},be)}));return function(be){return ce.apply(this,arguments)}}(),onReset:X,children:[Object(e.jsxs)(te.a.Group,{children:[Object(e.jsx)(ft.a,{label:Object(e.jsx)(r.a,{id:"examTitle",defaultMessage:"examTitle"}),rules:[{required:!0,message:Object(e.jsx)(r.a,{id:"field_required"})}],width:"lg",name:"title"}),Object(e.jsx)(jt.a,{label:Object(e.jsx)(r.a,{id:"datePassingExam",defaultMessage:"datePassingExam"}),rules:[{required:!0,message:Object(e.jsx)(r.a,{id:"field_required"})}],width:"lg",name:"passed_at"}),Object(e.jsx)(te.a.Item,{name:"weight",label:Object(e.jsx)(r.a,{id:"examImportance",defaultMessage:"examImportance"}),rules:[{required:!0,message:Object(e.jsx)(r.a,{id:"field_required"})},{type:"number",min:1,max:100,message:Object(e.jsx)(r.a,{id:"number_between",values:{min:1,max:100}})}],children:Object(e.jsx)(he.a,{})})]}),m&&g&&Object(e.jsx)(ee.a,{rowKey:"user_id",editable:{type:"single",editableKeys:pe,onValuesChange:function(be,V){return O(V)}},cardProps:{bodyStyle:{paddingInline:0}},search:!1,dataSource:g,columns:pt}),!g&&Object(e.jsx)(yt,{onSelect:P})]})]})},Tt=[{title:Object(e.jsx)(r.a,{id:"first_name"}),dataIndex:"first_name"},{title:Object(e.jsx)(r.a,{id:"last_name"}),dataIndex:"last_name"},{title:Object(e.jsx)(r.a,{id:"examResult"}),dataIndex:"result",hideInSearch:!0}],mt=function(c){var n=c.exam_id;return Object(e.jsx)(ee.a,{rowKey:"user_id",search:!1,headerTitle:Object(e.jsx)(r.a,{id:"examResults"}),request:Object(f.a)(Object(p.a)().mark(function s(){var a;return Object(p.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.next=2,Oe(n);case 2:if(a=j.sent,!a.success){j.next=5;break}return j.abrupt("return",{total:a.data.results.length,success:!0,data:a.data.results});case 5:return j.abrupt("return",[]);case 6:case"end":return j.stop()}},s)})),columns:Tt})},Ct=[{title:Object(e.jsx)(r.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",sorter:!0},{title:Object(e.jsx)(r.a,{id:"title",defaultMessage:"title"}),dataIndex:"title",hideInSearch:!0,sorter:!0},{title:Object(e.jsx)(r.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",sorter:!0,render:function(c,n){return Object(e.jsx)(r.a,{id:"ExamGradeType.".concat(n.type)})}},{title:Object(e.jsx)(r.a,{id:"TeacherSubjects.Exams.exam_date",defaultMessage:"Exam date"}),dataIndex:"passed_at",sorter:!0,render:function(c,n){return n.passed_at&&Object(Xe.a)(new Date(n.passed_at),Z.c)}},{title:Object(e.jsx)(r.a,{id:"TeacherSubjects.Exams.grade_weight",defaultMessage:"Weight"}),dataIndex:"weight",sorter:!0,render:function(c,n){return n.weight+"%"}},{title:Object(e.jsx)(r.a,{id:"created_at",defaultMessage:"Created at"}),dataIndex:"created_at",sorter:!0,render:function(c,n){return n.created_at&&Object(Xe.a)(new Date(n.created_at),Z.c)}},{title:Object(e.jsx)(r.a,{id:"semester",defaultMessage:"Semester"}),dataIndex:"semester",sorter:!0,render:function(c,n){return Object(e.jsx)(r.a,{id:"SemesterType.".concat(n.semester.type),values:{year:n.semester.year}})}}],De=function(){var c,n,s=Object(l.useRef)(),a=Object(re.b)(),i=a.semester_subject_id,j=Object(Fe.k)(),E=Object(l.useMemo)(function(){var S,_,g;return{exam_id:(S=(_=j.query)===null||_===void 0?void 0:_.exam_id)!==null&&S!==void 0?S:null,results:(g=j.query)===null||g===void 0?void 0:g.results}},[(c=j.query)===null||c===void 0?void 0:c.exam_id,(n=j.query)===null||n===void 0?void 0:n.results]),m=E.exam_id,P=E.results;return P!==null&&!Number.isNaN(Number(P))?Object(e.jsx)(mt,{exam_id:Number(P)}):m!==null?Object(e.jsx)(lt,{exam_id:m}):Object(e.jsx)(ee.a,{headerTitle:Object(e.jsx)(r.a,{id:"exams"}),actionRef:s,search:!1,rowKey:"id",request:function(){var S=Object(f.a)(Object(p.a)().mark(function _(g,O){var x,G,F,$;return Object(p.a)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if(x=g.current,G=g.pageSize,i!==null){y.next=3;break}return y.abrupt("return",{data:[],total:0,success:!1});case 3:return F=O&&Object.entries(O)[0],y.next=6,N({per_page:G,page:x,semester_subject_id:Number.isNaN(i)?void 0:i,order_by:F&&F[0],order:F&&(F[1]==="ascend"?"ASC":"DESC")});case 6:if($=y.sent,!$.success){y.next=9;break}return y.abrupt("return",{data:$.data,total:$.meta.total,success:!0});case 9:return y.abrupt("return",{data:[],total:0,success:!1});case 10:case"end":return y.stop()}},_)}));return function(_,g){return S.apply(this,arguments)}}(),columns:[].concat(Ct,[{title:Object(e.jsx)(r.a,{id:"pages.searchTable.titleOption"}),dataIndex:"option",valueType:"option",render:function(_,g){return[Object(e.jsx)(le.a,{to:"/teacher/subjects/".concat(g.semester_subject_id,"/exams?exam_id=").concat(g.id),children:Object(e.jsx)(Ne.a,{title:Object(e.jsx)(r.a,{id:"edit",defaultMessage:"edit"}),children:Object(e.jsx)(U.a,{type:"primary",icon:Object(e.jsx)(et.a,{})})})},"edit"),Object(e.jsx)(le.a,{to:"/teacher/subjects/".concat(g.semester_subject_id,"/exams?results=").concat(g.id),children:Object(e.jsx)(Ne.a,{title:Object(e.jsx)(r.a,{id:"TeacherSubjects.Exams.results",defaultMessage:"results"}),children:Object(e.jsx)(U.a,{icon:Object(e.jsx)(Be.a,{})})})},"results"),Object(e.jsx)(me.a,{title:Object(e.jsx)(r.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(f.a)(Object(p.a)().mark(function O(){var x;return Object(p.a)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,Re(g.id);case 2:x=F.sent,x.success&&s.current&&s.current.reload();case 4:case"end":return F.stop()}},O)})),okText:Object(e.jsx)(r.a,{id:"yes"}),cancelText:Object(e.jsx)(r.a,{id:"no"}),children:Object(e.jsx)(Ne.a,{title:Object(e.jsx)(r.a,{id:"delete",defaultMessage:"delete"}),children:Object(e.jsx)(U.a,{type:"primary",icon:Object(e.jsx)(it.a,{}),danger:!0})})},"delete")]}}])})},ae=t("4KAj"),se=t("o0Ox"),ue=[{title:Object(e.jsx)(r.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"user_id",hideInSearch:!0},{title:Object(e.jsx)(r.a,{id:"first_name",defaultMessage:"First name"}),dataIndex:"first_name"},{title:Object(e.jsx)(r.a,{id:"last_name",defaultMessage:"Last name"}),dataIndex:"last_name"},{title:Object(e.jsx)(r.a,{id:"email",defaultMessage:"email"}),dataIndex:"email"},{title:Object(e.jsx)(r.a,{id:"groupName",defaultMessage:"Group name"}),dataIndex:"group_name",hideInSearch:!0}],je=function(c){return c.map(function(n){var s=n.id,a=n.name;return{label:a,value:s}})},Me=function(c){return c.reduce(function(n,s){var a,i=s==null||(a=s.users)===null||a===void 0?void 0:a.map(function(j){return{group_id:s.id,group_name:s.name,user_id:j.id,first_name:j.first_name,last_name:j.last_name,email:j.email}});return[].concat(Object(M.a)(n),Object(M.a)(i))},[])},Ae=function(){var c=Object(re.b)(),n=c.teacherSubjectData,s=Object(l.useMemo)(function(){var a;return je((a=n==null?void 0:n.groups)!==null&&a!==void 0?a:[])},[n==null?void 0:n.groups]);return Object(e.jsx)(ee.a,{rowKey:function(i){return"".concat(i.group_id,"-").concat(i.user_id)},search:{layout:"vertical"},request:function(){var a=Object(f.a)(Object(p.a)().mark(function i(j){var E,m,P,S,_,g,O,x,G;return Object(p.a)().wrap(function($){for(;;)switch($.prev=$.next){case 0:return E=j.groups,m=j.first_name,P=m===void 0?"":m,S=j.last_name,_=S===void 0?"":S,g=j.email,O=g===void 0?"":g,$.next=3,Object(se.a)({parent_id:n==null?void 0:n.group_id,"id[]":E});case 3:if(x=$.sent,x.success){$.next=6;break}return $.abrupt("return",{data:[],total:0,success:!1});case 6:return G=Me(x.data).filter(function(ge){return ge.first_name.toLowerCase().includes(P.toLowerCase())&&ge.last_name.toLowerCase().includes(_.toLowerCase())&&ge.email.toLowerCase().includes(O.toLowerCase())}),$.abrupt("return",{data:G,total:G.length,success:!0});case 8:case"end":return $.stop()}},i)}));return function(i){return a.apply(this,arguments)}}(),columns:[{title:Object(e.jsx)(r.a,{id:"groups",defaultMessage:"Groups"}),dataIndex:"groups",hideInTable:!0,filterMultiple:!0,valueType:"select",fieldProps:{options:s,mode:"multiple"}}].concat(ue,[{hideInSearch:!0,title:Object(e.jsx)(r.a,{id:"msTeams"}),dataIndex:"teamsLink",valueType:"option",render:function(){return[Object(e.jsx)(le.a,{to:"#",children:Object(e.jsx)(Ne.a,{title:Object(e.jsx)(r.a,{id:"msTeams",defaultMessage:"teams"}),children:Object(e.jsx)(U.a,{type:"primary",icon:Object(e.jsx)(ae.a,{})})})},"teamsLink")]}}])})},st=t("/zsF"),dt=t("PArb"),ot=t("jrin");function vt(o,c){return Ot.apply(this,arguments)}function Ot(){return Ot=Object(f.a)(Object(p.a)().mark(function o(c,n){return Object(p.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r.i)("/api/admin/schedules/groups/".concat(c),Object(u.a)({method:"GET",useCache:!1},n||{})));case 1:case"end":return a.stop()}},o)})),Ot.apply(this,arguments)}function _t(o,c,n,s){return Mt.apply(this,arguments)}function Mt(){return Mt=Object(f.a)(Object(p.a)().mark(function o(c,n,s,a){return Object(p.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(r.i)("/api/admin/schedules/".concat(c,"/attendances"),Object(u.a)({data:{attendances:[{user_id:n,value:s}]},method:"POST"},a||{})));case 1:case"end":return j.stop()}},o)})),Mt.apply(this,arguments)}var Ma=t("sRBo"),Kt=t("kaz8"),Vt=function(c){var n=c.currentData,s=c.recordData,a=c.groupId,i=c.onSuccess,j=Object(l.useState)(!1),E=Object(K.a)(j,2),m=E[0],P=E[1],S=function(){P(!0),_t(n.id,s.id,(s==null?void 0:s[String(n.date_from)])===W.a.PRESENT?W.a.ABSENT:W.a.PRESENT).then(function(g){g.success&&vt(Number(a)).then(function(O){O.success&&(i(O.data),P(!1))})})};return m?Object(e.jsx)(T.a,{size:"small"}):Object(e.jsx)(Kt.a,{checked:(s==null?void 0:s[String(n.date_from)])===W.a.PRESENT,onChange:function(){return S()}})},Ht=Vt,Jt=function(){var c,n,s,a=Object(re.b)(),i=a.teacherSubjectData,j=Object(r.l)(),E=Object(l.useState)(!1),m=Object(K.a)(E,2),P=m[0],S=m[1],_=Object(l.useState)(),g=Object(K.a)(_,2),O=g[0],x=g[1],G=Object(l.useState)(),F=Object(K.a)(G,2),$=F[0],ge=F[1],y=Object(l.useState)({full_name:""}),pe=Object(K.a)(y,2),X=pe[0],ce=pe[1],be=Object(l.useState)((c=i==null||(n=i.groups)===null||n===void 0||(s=n[0])===null||s===void 0?void 0:s.id)!==null&&c!==void 0?c:null),V=Object(K.a)(be,2),Y=V[0],Ie=V[1],k=Object(l.useMemo)(function(){var D;return((D=$==null?void 0:$.users)!==null&&D!==void 0?D:[]).reduce(function(B,ne){var xe=ne.id,He=ne.first_name,Je=ne.last_name,ke=ne.academic_teacher_id,ze={id:xe,full_name:"".concat(He," ").concat(Je),academic_teacher_id:ke};if(!ze.full_name.toLowerCase().includes(X.full_name.toLowerCase())||ke!==null)return B;var Ke=(O!=null?O:[]).reduce(function(Ze,Qe){var ht=Qe.attendances.find(function(St){return St.user_id===xe});return Object(u.a)(Object(u.a)({},Ze),{},Object(ot.a)({},String(Qe.date_from),ht==null?void 0:ht.value))},{}),Ye=Object(u.a)(Object(u.a)({},ze),Ke);return[].concat(Object(M.a)(B),[Ye])},[])},[$,O,X==null?void 0:X.full_name]),q=Object(l.useMemo)(function(){var D=(O!=null?O:[]).reduce(function(B,ne){return[].concat(Object(M.a)(B),[{title:String(Object(Xe.a)(new Date(ne.date_from),Z.c)),dataIndex:String(ne.date_from),hideInSearch:!0,width:100,align:"center",render:function(He,Je){return Object(e.jsx)(Ht,{currentData:ne,recordData:Je,onSuccess:function(ze){return x(ze)},groupId:Y})}}])},[]);return S(!1),[{title:Object(e.jsx)(r.a,{id:"nameAndSurname",defaultMessage:"Name and surname"}),dataIndex:"full_name",fixed:"left"}].concat(Object(M.a)(D))},[O]),de=Object(l.useCallback)(function(D){var B,ne;if(D===null)return"";var xe=i==null||(B=i.groups)===null||B===void 0?void 0:B.find(function(He){return He.id===D});return(ne=xe==null?void 0:xe.name)!==null&&ne!==void 0?ne:""},[i==null?void 0:i.groups]),_e=Object(l.useCallback)(function(){return ce({full_name:""})},[]),fe=Object(l.useCallback)(function(D){var B=D.full_name,ne=B===void 0?"":B;return ce({full_name:ne})},[]),bt=Object(l.useMemo)(function(){var D;return((D=i==null?void 0:i.groups)!==null&&D!==void 0?D:[]).map(function(B){var ne=B.id,xe=B.name;return{value:ne,label:xe}})},[i==null?void 0:i.groups]),H=Object(l.useCallback)(function(D){_e(),S(!0),Ie(D)},[]);return Object(l.useEffect)(function(){Y!==null&&(vt(Y).then(function(D){D.success&&x(D.data)}),Object(se.b)(Y).then(function(D){D.success&&ge(D.data)}))},[Y]),Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(te.a.Item,{label:Object(e.jsx)(r.a,{id:"group"}),children:Object(e.jsx)(L.a,{onChange:H,value:Y,options:bt})}),Object(e.jsx)(dt.a,{}),q.length===1?Object(e.jsx)(r.a,{id:"noAttendanceSchedule",defaultMessage:"No attendance schedule for this group..."}):Object(e.jsx)(ee.a,{className:"attendances-table",headerTitle:"".concat(j.formatMessage({id:"attendances",defaultMessage:"Attendances"})," (").concat(de(Y),")"),rowKey:"id",onSubmit:fe,onReset:_e,search:{layout:"vertical"},loading:P,dataSource:k,scroll:{x:1500},columns:q})]})},zt=t("Hn4i"),Yt=t("bRQS");function Bt(o,c,n){return Pt.apply(this,arguments)}function Pt(){return Pt=Object(f.a)(Object(p.a)().mark(function o(c,n,s){return Object(p.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.i)("/api/admin/semester-subjects/".concat(c,"/tutors/").concat(n,"/grades"),Object(u.a)({method:"GET",useCache:!1},s||{})));case 1:case"end":return i.stop()}},o)})),Pt.apply(this,arguments)}function Zt(o,c,n,s){return Dt.apply(this,arguments)}function Dt(){return Dt=Object(f.a)(Object(p.a)().mark(function o(c,n,s,a){return Object(p.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(r.i)("/api/admin/semester-subjects/".concat(c,"/tutors/").concat(n,"/grades"),Object(u.a)({method:"POST",data:s},a||{})));case 1:case"end":return j.stop()}},o)})),Dt.apply(this,arguments)}function Qt(o,c){return At.apply(this,arguments)}function At(){return At=Object(f.a)(Object(p.a)().mark(function o(c,n){return Object(p.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r.i)("/api/admin/lesson-group-users",Object(u.a)({method:"GET",params:{"groups[]":c},useCache:!1},n||{})));case 1:case"end":return a.stop()}},o)})),At.apply(this,arguments)}function Xt(o,c,n){return It.apply(this,arguments)}function It(){return It=Object(f.a)(Object(p.a)().mark(function o(c,n,s){return Object(p.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.i)("/api/admin/lesson-group-users/groups/".concat(c,"/users/").concat(n),Object(u.a)({method:"GET",useCache:!1},s||{})));case 1:case"end":return i.stop()}},o)})),It.apply(this,arguments)}function kt(o){return Rt.apply(this,arguments)}function Rt(){return Rt=Object(f.a)(Object(p.a)().mark(function o(c){return Object(p.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(r.i)("/api/admin/grade-terms",Object(u.a)({method:"GET",useCache:!1},c||{})));case 1:case"end":return s.stop()}},o)})),Rt.apply(this,arguments)}function qt(o,c){return Lt.apply(this,arguments)}function Lt(){return Lt=Object(f.a)(Object(p.a)().mark(function o(c,n){return Object(p.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r.i)("/api/admin/grade-scales/".concat(c),Object(u.a)({method:"GET",useCache:!1},n||{})));case 1:case"end":return a.stop()}},o)})),Lt.apply(this,arguments)}function ea(o,c){return Gt.apply(this,arguments)}function Gt(){return Gt=Object(f.a)(Object(p.a)().mark(function o(c,n){return Object(p.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r.i)("/api/admin/final-grades",Object(u.a)({method:"POST",data:c},n||{})));case 1:case"end":return a.stop()}},o)})),Gt.apply(this,arguments)}function ta(o,c,n){return Ut.apply(this,arguments)}function Ut(){return Ut=Object(f.a)(Object(p.a)().mark(function o(c,n,s){return Object(p.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(r.i)("/api/admin/final-grades/".concat(c),Object(u.a)({method:"PATCH",data:n},s||{})));case 1:case"end":return i.stop()}},o)})),Ut.apply(this,arguments)}var aa=[{title:Object(e.jsx)(r.a,{id:"grade"}),dataIndex:"grade",editable:!1},{title:Object(e.jsx)(r.a,{id:"degree"}),dataIndex:"name",editable:!1},{title:Object(e.jsx)(r.a,{id:"min_percent"}),dataIndex:"grade_value",valueType:"percent",formItemProps:{rules:[{required:!0,message:Object(e.jsx)(r.a,{id:"field_required"})},{type:"number",min:0,max:100,message:Object(e.jsx)(r.a,{id:"number_between",values:{min:0,max:100}})}]}}],na=function(){var c,n,s=Object(r.m)("@@initialState"),a=s.initialState,i=Object(re.b)(),j=i.semester_subject_id,E=i.tutors,m=te.a.useForm(),P=Object(K.a)(m,1),S=P[0],_=Object(l.useState)([]),g=Object(K.a)(_,2),O=g[0],x=g[1],G=Object(l.useRef)(),F=Object(l.useState)(!1),$=Object(K.a)(F,2),ge=$[0],y=$[1],pe=Object(l.useState)(null),X=Object(K.a)(pe,2),ce=X[0],be=X[1],V=Object(l.useMemo)(function(){return!!E.data.find(function(k){var q,de=k.id;return de===(a==null||(q=a.currentUser)===null||q===void 0?void 0:q.id)})},[E.data,a==null||(c=a.currentUser)===null||c===void 0?void 0:c.id]),Y=Object(l.useMemo)(function(){return E.data.map(function(k){var q=k.id,de=k.first_name,_e=k.last_name;return{label:"".concat(de," ").concat(_e),value:q}})},[E.data]);Object(l.useEffect)(function(){var k,q;if(!V||!(a!=null&&(k=a.currentUser)!==null&&k!==void 0&&k.id)){var de;if((de=E.data)!==null&&de!==void 0&&de[0]){var _e;be((_e=E.data)===null||_e===void 0?void 0:_e[0].id)}return}be(a==null||(q=a.currentUser)===null||q===void 0?void 0:q.id)},[a==null||(n=a.currentUser)===null||n===void 0?void 0:n.id,V]),Object(l.useEffect)(function(){j===null||ce===null||(y(!0),Bt(j,ce).then(function(k){if(k.success){var q,de=((q=k.data.grade_scale)!==null&&q!==void 0?q:[]).map(function(_e,fe){return Object(u.a)(Object(u.a)({},_e),{},{id:String((fe+1)*100)})});S.setFieldValue("table",de)}}).finally(function(){y(!1)}))},[j,ce]);var Ie=Object(l.useCallback)(function(){var k=Object(f.a)(Object(p.a)().mark(function q(de){return Object(p.a)().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:if(!(j===null||ce===null)){fe.next=2;break}return fe.abrupt("return");case 2:return fe.next=4,Zt(j,ce,{grade_scale:de.table});case 4:case"end":return fe.stop()}},q)}));return function(q){return k.apply(this,arguments)}}(),[ce,j]);return E.loading?Object(e.jsx)(T.a,{}):Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(te.a.Item,{label:Object(e.jsx)(r.a,{id:"menu.Teacher"}),children:Object(e.jsx)(L.a,{disabled:V,placeholder:Object(e.jsx)(r.a,{id:"select"}),options:Y,value:ce,onChange:function(q){return be(q)}})}),Object(e.jsx)(dt.a,{}),Object(e.jsx)(te.a,{form:S,onFinish:Ie,submitter:{render:function(q,de){var _e=Object(K.a)(de,2),fe=_e[1];return[fe]}},children:Object(e.jsx)(zt.a,{name:"table",rowKey:"id",actionRef:G,formItemProps:{label:Object(e.jsx)(r.a,{id:"grades-scale"})},cardProps:{bodyStyle:{padding:0}},recordCreatorProps:!1,loading:ge,columns:[].concat(aa,[{title:Object(e.jsx)(r.a,{id:"options"}),valueType:"option",render:function(q,de){return Object(e.jsx)(U.a,{type:"primary",onClick:function(){var fe;return(fe=G.current)===null||fe===void 0?void 0:fe.startEditable(de.id)},icon:Object(e.jsx)(et.a,{})})}}]),editable:{form:S,type:"multiple",editableKeys:O,saveText:Object(e.jsx)(U.a,{type:"primary",icon:Object(e.jsx)(Yt.a,{})}),onChange:x,actionRender:function(q,de,_e){return[_e.save]}}})})]})},Pa=t("qbNl"),ra=t("JBPa"),Da=t("tU7J"),ct=t("wFql"),Aa=t("Awhp"),sa=t("KrTs"),ca=t("wd/R"),nt=t.n(ca);function ia(o,c){return Ft.apply(this,arguments)}function Ft(){return Ft=Object(f.a)(Object(p.a)().mark(function o(c,n){return Object(p.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(r.i)("/api/admin/schedules",Object(u.a)({params:c,method:"GET",useCache:!1},n||{})));case 1:case"end":return a.stop()}},o)})),Ft.apply(this,arguments)}var Ia=t("5R/X"),ua=function(){var c=Object(l.useState)(null),n=Object(K.a)(c,2),s=n[0],a=n[1],i=Object(l.useState)([]),j=Object(K.a)(i,2),E=j[0],m=j[1],P=Object(re.b)(),S=P.semester_subject_id,_=nt()(),g=Object(l.useMemo)(function(){return E.map(function(y){return{id:y.id,title:"".concat(y.group.name," (").concat(y.term_status.name,")"),start:nt()(y.date_from).toDate(),end:nt()(y.date_to).toDate(),tutor_name:"".concat(y.tutor.first_name," ").concat(y.tutor.last_name),tutor_email:y.tutor.email,semester:y.semester.name,group:y.group.name,subject:y.subject.name}})},[E]),O=Object(l.useCallback)(function(y,pe){ia({semester_subject_id:S,date_form:y.toDate(),date_to:pe.toDate()}).then(function(X){X.success&&m(X.data)})},[S]),x=Object(l.useCallback)(function(y){a(y)},[]),G=Object(l.useCallback)(function(){a(null)},[]),F=Object(l.useCallback)(function(y){return y.isSame(_,"day")?"warning":y.isAfter(_,"day")?"success":"error"},[]),$=Object(l.useCallback)(function(y){var pe=g.filter(function(X){return nt()(X.start).isSame(y,"day")});return Object(e.jsx)("ul",{className:"events",children:pe.map(function(X){return Object(e.jsx)("li",{onClick:function(){return x(X)},children:Object(e.jsx)(sa.a,{status:F(nt()(X.start)),text:X.title})},X.id)})})},[E]),ge=Object(l.useCallback)(function(y,pe){var X=nt()(y).startOf(pe).subtract(1,"month"),ce=nt()(y).endOf(pe).add(1,"month");O(X,ce)},[]);return Object(l.useEffect)(function(){var y=nt()().startOf("month"),pe=nt()().endOf("month");O(y,pe)},[]),Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(ct.a.Title,{level:4,children:Object(e.jsx)(r.a,{id:"schedule",defaultMessage:"Schedule"})}),Object(e.jsx)(ra.a,{dateCellRender:$,onPanelChange:ge}),Object(e.jsxs)(at.a,{open:s!==null,title:"".concat(s==null?void 0:s.subject,": ").concat(s==null?void 0:s.title),onCancel:G,footer:null,children:[Object(e.jsxs)(ct.a.Paragraph,{children:[Object(e.jsx)(r.a,{id:"tutorName",defaultMessage:"Tutor"}),": ",s==null?void 0:s.tutor_name]}),Object(e.jsxs)(ct.a.Paragraph,{children:[Object(e.jsx)(r.a,{id:"email",defaultMessage:"Email"}),": ",s==null?void 0:s.tutor_email]}),Object(e.jsxs)(ct.a.Paragraph,{children:[Object(e.jsx)(r.a,{id:"group",defaultMessage:"Group"}),": ",s==null?void 0:s.group]}),Object(e.jsxs)(ct.a.Paragraph,{children:[Object(e.jsx)(r.a,{id:"semester",defaultMessage:"Semester"}),": ",s==null?void 0:s.semester]}),Object(e.jsxs)(ct.a.Paragraph,{children:[Object(e.jsx)(r.a,{id:"started_at",defaultMessage:"Start date"}),":",s&&nt()(s.start).format(Z.b)]}),Object(e.jsxs)(ct.a.Paragraph,{children:[Object(e.jsx)(r.a,{id:"end_at",defaultMessage:"End date"}),":",s&&nt()(s.end).format(Z.b)]})]})]})},la=t("Vpfc"),Ra=t("miYZ"),xt=t("tsqr"),Nt=t("yj/a"),Wt=t("5Syx"),wt=t("PpiC"),$t=t("H6aw"),da=t("p3I6"),oa=["attendances"],ja=["results"];function ba(o,c){var n=Object(l.useState)({loading:!1}),s=Object(K.a)(n,2),a=s[0],i=s[1];return Object(l.useEffect)(function(){i(function(j){return Object(u.a)(Object(u.a)({},j),{},{loading:!0})}),Xt(o,c).then(function(j){j.success&&i(function(E){return Object(u.a)(Object(u.a)({},E),{},{data:j.data})})}).finally(function(){i(function(j){return Object(u.a)(Object(u.a)({},j),{},{loading:!1})})})},[c,o]),{finalGrades:a}}function fa(){var o=Object(l.useState)({loading:!1}),c=Object(K.a)(o,2),n=c[0],s=c[1];return Object(l.useEffect)(function(){s(function(a){return Object(u.a)(Object(u.a)({},a),{},{loading:!0})}),kt().then(function(a){a.success&&s(function(i){return Object(u.a)(Object(u.a)({},i),{},{data:a.data})})}).finally(function(){s(function(a){return Object(u.a)(Object(u.a)({},a),{},{loading:!1})})})},[]),{gradeTerms:n}}function ma(o){var c=Object(l.useState)({loading:!1}),n=Object(K.a)(c,2),s=n[0],a=n[1];return Object(l.useEffect)(function(){o!==void 0&&(a(function(i){return Object(u.a)(Object(u.a)({},i),{},{loading:!0})}),qt(o).then(function(i){i.success&&a(function(j){return Object(u.a)(Object(u.a)({},j),{},{data:i.data})})}).finally(function(){a(function(i){return Object(u.a)(Object(u.a)({},i),{},{loading:!1})})}))},[o]),{subjectGradeScales:s}}function va(o,c){var n=Object(l.useState)({loading:!1}),s=Object(K.a)(n,2),a=s[0],i=s[1];return Object(l.useEffect)(function(){typeof o!="number"||typeof c!="number"||(i(function(j){return Object(u.a)(Object(u.a)({},j),{},{loading:!0})}),Bt(o,c).then(function(j){j.success&&i(function(E){return Object(u.a)(Object(u.a)({},E),{},{data:j.data.grade_scale.map(function(m,P){return Object(u.a)(Object(u.a)({},m),{},{id:P})})})})}).finally(function(){i(function(j){return Object(u.a)(Object(u.a)({},j),{},{loading:!1})})}))},[o,c]),{tutorGradeScales:a}}function Oa(o,c){var n=Object(l.useState)({loading:!1}),s=Object(K.a)(n,2),a=s[0],i=s[1],j=Object(l.useCallback)(function(){i(function(m){return Object(u.a)(Object(u.a)({},m),{},{loading:!0})}),vt(o).then(function(m){if(m.success){var P=m.data.reduce(function(S,_){var g=_.attendances,O=Object(wt.a)(_,oa),x=g.find(function(G){return G.user_id===c});return x?[].concat(Object(M.a)(S),[Object(u.a)(Object(u.a)({},O),{},{attendance:x})]):S},[]);i(function(S){return Object(u.a)(Object(u.a)({},S),{},{data:P})})}}).finally(function(){i(function(m){return Object(u.a)(Object(u.a)({},m),{},{loading:!1})})})},[o,c]),E=Object(l.useCallback)(function(m,P){i(function(S){return Object(u.a)(Object(u.a)({},S),{},{loading:!0})}),_t(m,c,P).then(function(S){S.success?xt.b.success(S.message):xt.b.error(S.message)}).finally(function(){j(),i(function(S){return Object(u.a)(Object(u.a)({},S),{},{loading:!1})})})},[j,c]);return Object(l.useEffect)(function(){j()},[j]),{userAttendanceSchedules:a,fetchUserAttendanceSchedules:j,updateUserAttendanceSchedules:E}}function ha(o){var c=Object(l.useState)({loading:!1}),n=Object(K.a)(c,2),s=n[0],a=n[1];return Object(l.useEffect)(function(){a(function(i){return Object(u.a)(Object(u.a)({},i),{},{loading:!0})}),N({student_id:o}).then(function(i){if(i.success){var j=i.data.reduce(function(E,m){var P=Object(K.a)(m.results,1),S=P[0],_=Object(wt.a)(m,ja);return S?[].concat(Object(M.a)(E),[Object(u.a)(Object(u.a)({},_),{},{result:S})]):E},[]);a(function(E){return Object(u.a)(Object(u.a)({},E),{},{data:j})})}}).finally(function(){a(function(i){return Object(u.a)(Object(u.a)({},i),{},{loading:!1})})})},[o]),{studentExams:s}}function ga(o,c){var n=Object(l.useState)({loading:!1}),s=Object(K.a)(n,2),a=s[0],i=s[1],j=Object(l.useState)({loading:!1}),E=Object(K.a)(j,2),m=E[0],P=E[1],S=Object(l.useState)({loading:!1}),_=Object(K.a)(S,2),g=_[0],O=_[1];return Object(l.useEffect)(function(){i(function(x){return Object(u.a)(Object(u.a)({},x),{},{loading:!0})}),Object($t.e)({group_id:o}).then(function(x){x.success&&i(function(G){return Object(u.a)(Object(u.a)({},G),{},{data:x.data})})}).finally(function(){i(function(x){return Object(u.a)(Object(u.a)({},x),{},{loading:!1})})})},[o]),Object(l.useEffect)(function(){!a.data||(O(function(x){return Object(u.a)(Object(u.a)({},x),{},{loading:!0})}),Promise.all(a.data.map(function(x){var G=x.id;return Object($t.m)(Number(G))})).then(function(x){x.forEach(function(G){G.success&&O(function(F){return Object(u.a)(Object(u.a)({},F),{},{data:Object(u.a)(Object(u.a)({},F.data),{},Object(ot.a)({},Number(G.data.id),Object(da.c)(G.data.lessons)))})})})}).finally(function(){O(function(x){return Object(u.a)(Object(u.a)({},x),{},{loading:!1})})}),P(function(x){return Object(u.a)(Object(u.a)({},x),{},{loading:!0})}),Promise.all(a.data.map(function(x){var G=x.id;return Object($t.l)(Number(G),["EscolaLms\\Reports\\Stats\\Course\\FinishedTopics","EscolaLms\\Reports\\Stats\\Course\\AttendanceList"]).then(function(F){if(F.success){var $,ge,y=(($=F.data["EscolaLms\\Reports\\Stats\\Course\\FinishedTopics"])!==null&&$!==void 0?$:[]).filter(function(X){return X.id===c}),pe=(ge=F.data["EscolaLms\\Reports\\Stats\\Course\\AttendanceList"])!==null&&ge!==void 0?ge:[];P(function(X){return Object(u.a)(Object(u.a)({},X),{},{data:Object(u.a)(Object(u.a)({},X.data),{},Object(ot.a)({},Number(G),{finishedTopics:y,attendanceList:pe}))})})}})})).finally(function(){return P(function(x){return Object(u.a)(Object(u.a)({},x),{},{loading:!1})})}))},[a.data,c]),{userCourses:a,userCoursesStats:m,userCoursesTopics:g}}var pa=[{title:Object(e.jsx)(r.a,{id:"grade"}),dataIndex:"grade"},{title:Object(e.jsx)(r.a,{id:"degree"}),dataIndex:"name"},{title:Object(e.jsx)(r.a,{id:"min_percent"}),dataIndex:"grade_value",valueType:"percent"}],_a=[{title:Object(e.jsx)(r.a,{id:"date"}),dataIndex:"date_from",render:function(c,n){return Object(Xe.a)(new Date(n.date_from),Z.c)}}],xa=[{title:Object(e.jsx)(r.a,{id:"name"}),dataIndex:"title"},{title:Object(e.jsx)(r.a,{id:"TeacherSubjects.Exams.grade_weight",defaultMessage:"Weight"}),dataIndex:"weight",valueType:"percent"},{title:Object(e.jsx)(r.a,{id:"created_at",defaultMessage:"Created at"}),dataIndex:"created_at",render:function(c,n){return Object(Xe.a)(new Date(n.created_at),Z.c)}},{title:Object(e.jsx)(r.a,{id:"grade"}),dataIndex:"result",render:function(c,n){return"".concat(n.result.result,"%")}}],Ea=[{title:Object(e.jsx)(r.a,{id:"name"}),dataIndex:"name"},{title:Object(e.jsx)(r.a,{id:"issued_at"}),dataIndex:"grade",render:function(c,n){var s,a;return(s=n.grade)!==null&&s!==void 0&&s.grade_date?Object(Xe.a)(new Date((a=n.grade)===null||a===void 0?void 0:a.grade_date),Z.c):"-"}},{title:Object(e.jsx)(r.a,{id:"grade"}),dataIndex:"grade",render:function(c,n){var s,a;return(s=(a=n.grade)===null||a===void 0?void 0:a.grade_name)!==null&&s!==void 0?s:"-"}}],Et=6,Sa=function(c){var n,s,a=c.user_id,i=c.group_id,j=Object(re.b)(),E=j.semester_subject_id,m=ha(a),P=m.studentExams,S=ba(i,a),_=S.finalGrades,g=fa(),O=g.gradeTerms,x=ma((n=_.data)===null||n===void 0?void 0:n.s_subject_scale_form_id),G=x.subjectGradeScales,F=va(E,(s=_.data)===null||s===void 0?void 0:s.tutor_id),$=F.tutorGradeScales,ge=Oa(i,a),y=ge.userAttendanceSchedules,pe=ge.updateUserAttendanceSchedules,X=ga(i,a),ce=X.userCourses,be=X.userCoursesStats,V=X.userCoursesTopics,Y=te.a.useForm(),Ie=Object(K.a)(Y,1),k=Ie[0],q=Object(l.useMemo)(function(){var H;return((H=O.data)!==null&&H!==void 0?H:[]).map(function(D){var B=D.id,ne=D.name;return{label:ne,value:B}})},[O.data]),de=Object(l.useMemo)(function(){var H;return((H=G.data)!==null&&H!==void 0?H:[]).map(function(D){var B=D.name,ne=D.id;return{label:B,value:ne}})},[G.data]),_e=Object(l.useMemo)(function(){var H,D,B,ne=((H=P.data)!==null&&H!==void 0?H:[]).reduce(function(Ze,Qe){var ht=Qe.result,St=Qe.weight;return[Ze[0]+ht.result*St,Ze[1]+St]},[0,0]),xe=Object(K.a)(ne,2),He=xe[0],Je=xe[1],ke=Number.isNaN(He/Je)?0:He/Je,ze=((D=$.data)!==null&&D!==void 0?D:[]).sort(function(Ze,Qe){return Ze.grade_value-Qe.grade_value}).reduce(function(Ze,Qe){return[].concat(Object(M.a)(Ze),[Object(u.a)(Object(u.a)({},Qe),{},{isWeightedAverageGreater:ke>=Qe.grade_value})])},[]);if(ze.every(function(Ze){var Qe=Ze.isWeightedAverageGreater;return Qe})){var Ke;return(Ke=ze.at(-1))===null||Ke===void 0?void 0:Ke.name}var Ye=ze.findIndex(function(Ze){var Qe=Ze.isWeightedAverageGreater;return!Qe});return Ye<0?"":(B=ze[Ye-1])===null||B===void 0?void 0:B.name},[P.data,$.data]),fe=Object(l.useCallback)(function(){var H=Object(f.a)(Object(p.a)().mark(function D(B){var ne,xe,He,Je,ke;return Object(p.a)().wrap(function(Ke){for(;;)switch(Ke.prev=Ke.next){case 0:if(He=B.grade_scale_id,Je=B.grade_term_id,((ne=_.data)===null||ne===void 0?void 0:ne.id)!==void 0){Ke.next=3;break}return Ke.abrupt("return");case 3:if(ke=(xe=_.data)===null||xe===void 0?void 0:xe.grades.find(function(Ye){var Ze=Ye.grade_term;return Ze.id===Je}),!ke){Ke.next=7;break}return ta(ke.id,{grade_scale_id:He}).then(function(Ye){xt.b[Ye.success?"success":"error"](Ye.message),r.f.push("/teacher/subjects/".concat(E,"/final-grades"))}),Ke.abrupt("return");case 7:ea({grade_scale_id:He,grade_term_id:Je,lesson_group_user_id:_.data.id}).then(function(Ye){xt.b[Ye.success?"success":"error"](Ye.message),r.f.push("/teacher/subjects/".concat(E,"/final-grades"))});case 8:case"end":return Ke.stop()}},D)}));return function(D){return H.apply(this,arguments)}}(),[_.data,E]),bt=Object(l.useMemo)(function(){var H;return((H=O.data)!==null&&H!==void 0?H:[]).map(function(D){var B;return Object(u.a)(Object(u.a)({},D),{},{grade:(B=_.data)===null||B===void 0?void 0:B.grades.find(function(ne){var xe=ne.grade_term;return xe.id===D.id})})})},[_.data,O.data]);return _.loading?Object(e.jsx)(T.a,{}):Object(e.jsxs)(e.Fragment,{children:[_.data&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(ct.a.Text,{style:{fontSize:"16px",fontWeight:500},children:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.Student",values:_.data.user})}),Object(e.jsx)(dt.a,{})]}),Object(e.jsxs)(we.a,{gutter:[48,48],justify:"space-between",children:[Object(e.jsx)($e.a,{span:12,children:Object(e.jsx)(ee.a,{rowKey:"id",headerTitle:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.StudentPartialGrades"}),search:!1,pagination:{pageSize:Et},dataSource:P.data,loading:P.loading,columns:xa,options:!1,cardProps:{bodyStyle:{padding:0}}})}),Object(e.jsx)($e.a,{span:12,children:Object(e.jsx)(ee.a,{rowKey:"id",headerTitle:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.FinalGrades"}),search:!1,pagination:{pageSize:Et},dataSource:bt,loading:_.loading||O.loading,columns:Ea,options:!1,cardProps:{bodyStyle:{padding:0}}})}),Object(e.jsx)($e.a,{span:12,children:Object(e.jsx)(ee.a,{rowKey:"id",headerTitle:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.Attendances"}),search:!1,options:!1,pagination:{pageSize:Et},cardProps:{bodyStyle:{padding:0}},dataSource:y.data,loading:y.loading,columns:[].concat(_a,[{title:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.Attendance"}),dataIndex:"attendance",render:function(D,B){return Object(e.jsx)(Kt.a,{onChange:function(xe){return pe(B.id,xe.target.checked?W.a.PRESENT:W.a.ABSENT)},checked:B.attendance.value===W.a.PRESENT})}}])})}),Object(e.jsx)($e.a,{span:12,children:Object(e.jsx)(ee.a,{rowKey:"id",headerTitle:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.GradesScale"}),search:!1,options:!1,pagination:{pageSize:Et},cardProps:{bodyStyle:{padding:0}},dataSource:$.data,loading:$.loading,columns:pa})}),ce.loading&&!ce.data||be.loading&&!be.data||V.loading&&!V.data&&Object(e.jsx)(T.a,{}),ce.data&&be.data&&V.data&&ce.data.map(function(H){var D,B,ne,xe,He,Je,ke,ze,Ke=H.id,Ye=H.title;return Object(e.jsxs)($e.a,{span:24,children:[Object(e.jsx)(ct.a.Text,{style:{fontSize:"16px",fontWeight:500},children:Ye}),Object(e.jsx)(Wt.c,{topics:(D=(B=V.data)===null||B===void 0?void 0:B[Number(Ke)])!==null&&D!==void 0?D:[],stats:(ne=(xe=be.data)===null||xe===void 0||(He=xe[Number(Ke)])===null||He===void 0?void 0:He.finishedTopics)!==null&&ne!==void 0?ne:[]}),Object(e.jsx)(Wt.a,{stats:(Je=(ke=be.data)===null||ke===void 0||(ze=ke[Number(Ke)])===null||ze===void 0?void 0:ze.attendanceList)!==null&&Je!==void 0?Je:[]})]},Ke)})]}),Object(e.jsx)(te.a,{form:k,onFinish:fe,children:Object(e.jsxs)(te.a.Group,{style:{display:"flex",flexDirection:"column",paddingTop:"48px"},title:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.IssueAssessment"}),titleStyle:{flex:"unset"},align:"center",children:[Object(e.jsx)(Nt.a,{name:"grade_term_id",rules:[{required:!0,message:Object(e.jsx)(r.a,{id:"field_required"})}],label:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.GradeTerm"}),options:q,width:"sm",fieldProps:{loading:O.loading}}),Object(e.jsx)(Nt.a,{name:"grade_scale_id",rules:[{required:!0,message:Object(e.jsx)(r.a,{id:"field_required"})}],label:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.FinalGrade"}),options:de,fieldProps:{loading:_.loading||G.loading}}),Object(e.jsx)(te.a.Item,{children:Object(e.jsx)(r.a,{id:"TeacherSubjects.FinalGrades.ProposedGrade",values:{grade:_e}})})]})})]})},ya=[{title:Object(e.jsx)(r.a,{id:"first_name"}),dataIndex:"first_name",render:function(c,n){return n.user.first_name}},{title:Object(e.jsx)(r.a,{id:"last_name"}),dataIndex:"last_name",render:function(c,n){return n.user.last_name}},{title:Object(e.jsx)(r.a,{id:"grade"}),hideInSearch:!0,dataIndex:"grades",render:function(c,n){return Object(e.jsx)("div",{style:{display:"flex",flexDirection:"column",gap:"4px"},children:n.grades.length?n.grades.map(function(s){var a=s.grade_name,i=s.grade_term,j=s.id;return Object(e.jsxs)(ct.a.Text,{children:[i.name,": ",a]},j)}):"-"})}}],Ta=function(){var c,n,s=Object(Fe.k)(),a=Object(l.useMemo)(function(){var _,g,O,x;return{user_id:Number.isNaN(Number((_=s.query)===null||_===void 0?void 0:_.user_id))?null:Number((g=s.query)===null||g===void 0?void 0:g.user_id),group_id:Number.isNaN(Number((O=s.query)===null||O===void 0?void 0:O.group_id))?null:Number((x=s.query)===null||x===void 0?void 0:x.group_id)}},[(c=s.query)===null||c===void 0?void 0:c.user_id,(n=s.query)===null||n===void 0?void 0:n.group_id]),i=a.user_id,j=a.group_id,E=Object(re.b)(),m=E.teacherSubjectData,P=E.semester_subject_id,S=Object(l.useMemo)(function(){var _;return((_=m==null?void 0:m.groups)!==null&&_!==void 0?_:[]).map(function(g){var O=g.id,x=g.name;return{label:x,value:O}})},[m==null?void 0:m.groups]);return i!==null&&j!==null?Object(e.jsx)(Sa,{user_id:i,group_id:j}):Object(e.jsx)(ee.a,{rowKey:"id",search:{layout:"vertical"},request:function(){var _=Object(f.a)(Object(p.a)().mark(function g(O){var x,G,F,$,ge,y,pe,X,ce,be;return Object(p.a)().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return G=O.group_id,F=G===void 0?[]:G,$=O.first_name,ge=$===void 0?"":$,y=O.last_name,pe=y===void 0?"":y,X=((x=m==null?void 0:m.groups)!==null&&x!==void 0?x:[]).map(function(Ie){var k=Ie.id;return k}),Y.next=4,Qt(F.length===0?X:F);case 4:if(ce=Y.sent,ce.success){Y.next=7;break}return Y.abrupt("return",{success:!1,total:0,data:[]});case 7:return be=ce.data.filter(function(Ie){var k=Ie.user;return k.first_name.toLowerCase().includes(ge.toLowerCase())&&k.last_name.toLowerCase().includes(pe.toLowerCase())}),Y.abrupt("return",{success:!0,total:be.length,data:be});case 9:case"end":return Y.stop()}},g)}));return function(g){return _.apply(this,arguments)}}(),columns:[{title:Object(e.jsx)(r.a,{id:"group"}),dataIndex:"group_id",valueType:"select",fieldProps:{options:S,mode:"multiple"},render:function(g,O){return Object(e.jsx)(la.a,{type:"Students",type_id:O.group_id},O.group_id)}}].concat(ya,[{title:Object(e.jsx)(r.a,{id:"options"}),hideInSearch:!0,render:function(g,O){return[Object(e.jsx)(le.a,{to:"/teacher/subjects/".concat(P,"/final-grades?user_id=").concat(O.user.id,"&group_id=").concat(O.group_id),children:Object(e.jsx)(Ne.a,{title:Object(e.jsx)(r.a,{id:"edit"}),children:Object(e.jsx)(U.a,{type:"primary",icon:Object(e.jsx)(et.a,{})})})},"edit")]}}])})},Ca=function(c){var n,s,a=c.tab,i=Object(r.l)(),j=Object(r.m)("@@initialState"),E=j.setInitialState,m=j.initialState,P=Object(re.b)(),S=P.teacherSubjectData,_=P.semester_subject_id,g=P.tutors,O=Object(l.useCallback)(Object(Ee.a)(m==null?void 0:m.currentUser),[m==null?void 0:m.currentUser]),x=Object(l.useMemo)(function(){return!!g.data.find(function(G){var F,$=G.id;return $===(m==null||(F=m.currentUser)===null||F===void 0?void 0:F.id)})||O(ye.a.TeacherListGradeScale)},[]);return S?Object(e.jsx)(ie.a,{title:Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(r.a,{id:S==null||(n=S.subject)===null||n===void 0?void 0:n.name}),", ",Object(e.jsx)(r.a,{id:a})]}),tabBarExtraContent:Object(e.jsxs)("div",{style:{display:"flex",padding:"12px",gap:"12px"},children:[Object(e.jsx)(U.a,{type:"primary",onClick:function(){return console.log("MSTeams")},children:Object(e.jsx)(r.a,{id:"msTeams",defaultMessage:"msTeams"})}),Object(e.jsx)(le.a,{to:"/teacher/subjects/".concat(_,"/exams?exam_id=new"),children:Object(e.jsx)(U.a,{type:"primary",children:Object(e.jsx)(r.a,{id:"uploadGrades",defaultMessage:"uploadGrades"})})})]}),header:{breadcrumb:{routes:[{path:"teacher",breadcrumbName:i.formatMessage({id:"Teacher"})},{path:"subjects",breadcrumbName:i.formatMessage({id:"Subjects"})},{path:String(_),breadcrumbName:String((s=S.subject)===null||s===void 0?void 0:s.name)},{path:String(a),breadcrumbName:i.formatMessage({id:a,defaultMessage:String(a)})}]}},children:Object(e.jsxs)(d.a,{bodyStyle:{padding:"24px"},tabs:{type:"card",activeKey:a,onChange:function(F){E(Object(u.a)({},m)),r.f.push("/teacher/subjects/".concat(_,"/").concat(F))}},children:[Object(e.jsx)(d.a.TabPane,{tab:Object(e.jsx)(r.a,{id:"groups"}),children:Object(e.jsx)(Pe.a,{})},"groups"),Object(e.jsx)(d.a.TabPane,{tab:Object(e.jsx)(r.a,{id:"students"}),children:Object(e.jsx)(Ae,{})},"students"),Object(e.jsx)(d.a.TabPane,{tab:Object(e.jsx)(r.a,{id:"exams"}),children:Object(e.jsx)(De,{})},"exams"),Object(e.jsx)(d.a.TabPane,{tab:Object(e.jsx)(r.a,{id:"schedule"}),children:Object(e.jsx)(ua,{})},"schedule"),Object(e.jsx)(d.a.TabPane,{tab:Object(e.jsx)(r.a,{id:"attendance"}),children:Object(e.jsx)(Jt,{})},"attendance"),x&&Object(e.jsx)(d.a.TabPane,{tab:Object(e.jsx)(r.a,{id:"grades-scale"}),children:Object(e.jsx)(na,{})},"grades-scale"),Object(e.jsx)(d.a.TabPane,{tab:Object(e.jsx)(r.a,{id:"final-grades"}),children:Object(e.jsx)(Ta,{})},"final-grades")]})}):Object(e.jsx)(T.a,{})},La=oe.default=function(){var o=Object(Fe.l)(),c=o.subjectId,n=o.tab,s=n===void 0?"groups":n;return Object(e.jsx)(re.a,{semester_subject_id:Number(c),children:Object(e.jsx)(Ca,{tab:s})})}},p3I6:function(Ue,oe,t){"use strict";t.d(oe,"b",function(){return re}),t.d(oe,"c",function(){return me}),t.d(oe,"a",function(){return it});var u=t("miYZ"),J=t("tsqr"),U=t("tJVT"),v=t("k1fw"),T=t("oBTY"),l=t("q1tI"),r=t.n(l),le=t("9kvl"),Fe=t("Ty5D"),d=t("H6aw"),ie=t("/y+f"),ye=t("nKUr"),Ee=t.n(ye),re=r.a.createContext({}),Pe=function(){return Math.round(Math.random()*99999)},rt=function ee(Z){return Z.reduce(function(N,h){return[].concat(Object(T.a)(N),Object(T.a)(h.lessons?ee(h.lessons):[]),[h])},[])},me=function ee(Z){return Z.reduce(function(N,h){var w;return[].concat(Object(T.a)(N),Object(T.a)(h.lessons?ee(h.lessons):[]),Object(T.a)((w=h.topics)!==null&&w!==void 0?w:[]))},[])},qe=function ee(Z,N,h){return Z.map(function(w){var ve,I;return Object(v.a)(Object(v.a)({},w),{},{lessons:w.lessons?ee(w.lessons,N,h):[],topics:w.id===N?[].concat(Object(T.a)((ve=w.topics)!==null&&ve!==void 0?ve:[]),[h]):(I=w.topics)!==null&&I!==void 0?I:[]})})},Ne=function ee(Z,N,h){return Z.map(function(w){var ve,I,b;return Object(v.a)(Object(v.a)({},w),{},{lessons:ee((ve=w.lessons)!==null&&ve!==void 0?ve:[],N,h),topics:(I=(b=w.topics)===null||b===void 0?void 0:b.map(function(Oe){return Oe.id===N?h:Oe}))!==null&&I!==void 0?I:[]})})},p=function ee(Z,N,h){return h?Z.map(function(w){return Object(v.a)(Object(v.a)({},w),{},{lessons:[].concat(Object(T.a)(w.lessons?ee(w.lessons,N,h):[]),Object(T.a)(w.id===h?[N]:[]))})}):[].concat(Object(T.a)(Z),[N])},f=function ee(Z,N,h){return Z.map(function(w){return Object(v.a)(Object(v.a)({},w.id===N?h:w),{},{lessons:w.lessons?ee(w.lessons,N,h):[]})})},Xe=function ee(Z,N){return Z.map(function(h){return Object(v.a)(Object(v.a)({},h),{},{parent_id:N,lessons:h.lessons?ee(h.lessons,h.id):[]})})},et=function ee(Z,N){return Z.filter(function(h){return h.id!==N}).map(function(h){return Object(v.a)(Object(v.a)({},h),{},{lessons:h.lessons?ee(h.lessons,N):[]})})},Be=function ee(Z,N){return Z.map(function(h){return Object(v.a)(Object(v.a)({},h),{},{lessons:h.lessons?ee(h.lessons,N):[],topics:h.topics?h.topics.filter(function(w){return w.id!==N}):[]})})},it=function(Z){var N=Z.children,h=Z.id,w=Object(l.useState)(),ve=Object(U.a)(w,2),I=ve[0],b=ve[1],Oe=Object(le.l)(),Te=Object(l.useMemo)(function(){return I&&I.lessons?me(I.lessons):[]},[I]),Re=Object(l.useMemo)(function(){return I&&I.lessons?rt(I.lessons):[]},[I]),Se=Object(l.useState)([]),Le=Object(U.a)(Se,2),Ce=Le[0],We=Le[1],C=Object(Fe.k)();Object(l.useEffect)(function(){We([])},[]);var z=Object(l.useCallback)(function(){Object(d.m)(h).then(function(R){return R.success&&b(Object(v.a)(Object(v.a)({},R.data),{},{lessons:Xe(R.data.lessons)}))})},[h]);Object(l.useEffect)(function(){z()},[z]);var he=Object(l.useCallback)(function(R){var L=Re.find(function(M){var A;return M==null||(A=M.topics)===null||A===void 0?void 0:A.find(function(e){return e.id===R})});return L?L.id:null},[Re]),K=Object(l.useMemo)(function(){var R,L;return(R=C.query)!==null&&R!==void 0&&R.lesson?{mode:"lesson",id:Number(C.query.lesson),value:Re.find(function(M){return M.id===Number(C.query.lesson)})}:(L=C.query)!==null&&L!==void 0&&L.topic?{mode:"topic",id:Number(C.query.topic),value:Te.find(function(M){return M.id===Number(C.query.topic)})}:{mode:"init"}},[C.query,I,Re,Te]),ut=Object(l.useCallback)(function(R){var L={course_id:h,topics:[],isNew:!0,id:I?I.lessons.length+1:Pe(),order:0,title:Oe.formatMessage({id:"add_title_here"}),active:!0,parent_id:R};return b(function(M){var A;return Object(v.a)(Object(v.a)({},M),{},{lessons:p((A=M==null?void 0:M.lessons)!==null&&A!==void 0?A:[],L,R)})}),L},[h,I]),we=Object(l.useCallback)(function(R,L){var M=Re.find(function(e){return e.id===R}),A=M&&M.isNew;return(A?Object(d.g)(L):Object(d.u)(R,L)).then(function(e){return J.b.success(e.message),z(),e.success&&b(function(Q){var Ge;return Object(v.a)(Object(v.a)({},Q),{},{lessons:f((Ge=Q==null?void 0:Q.lessons)!==null&&Ge!==void 0?Ge:[],R,Object(v.a)(Object(v.a)({},e.data),{},{isNew:!1}))})})})},[I]),tt=Object(l.useCallback)(function(R){var L=Re.find(function(A){return A.id===R});if(!!L){var M=L.isNew;M?b(function(A){var e;return Object(v.a)(Object(v.a)({},A),{},{lessons:et((e=A==null?void 0:A.lessons)!==null&&e!==void 0?e:[],R)})}):Object(d.o)(R).then(function(A){A.success&&(J.b.success(A.message),b(function(e){var Q;return Object(v.a)(Object(v.a)({},e),{},{lessons:et((Q=e==null?void 0:e.lessons)!==null&&Q!==void 0?Q:[],R)})}))})}},[I]),$e=Object(l.useCallback)(function(R,L){var M,A=he(R),e=Re.find(function(Ve){return Ve.id===A}),Q=e&&((M=e.topics)===null||M===void 0?void 0:M.find(function(Ve){return Ve.id===R})),Ge=Q==null?void 0:Q.isNew;return(Ge?Object(d.h)(L):Object(d.v)(R,L)).then(function(Ve){Ve.success&&(J.b.success(Ve.message),z(),le.f.push("/courses/list/".concat(h,"/program/?topic=").concat(Ve.data.id)),(Q==null?void 0:Q.topicable_type)===ie.f.Video&&setTimeout(function(){z()},5e3))})},[he,I,z]),te=Object(l.useCallback)(function(R){var L=he(R),M=Re.find(function(Q){return Q.id===L});if(!!M){var A=Te==null?void 0:Te.find(function(Q){return Q.id===R}),e=A==null?void 0:A.isNew;e&&!A.topicable?b(function(Q){var Ge;return Object(v.a)(Object(v.a)({},Q),{},{lessons:Be((Ge=Q==null?void 0:Q.lessons)!==null&&Ge!==void 0?Ge:[],R)})}):Object(d.p)(R).then(function(Q){Q.success&&(J.b.success(Q.message),b(function(Ge){var Ve;return Object(v.a)(Object(v.a)({},Ge),{},{lessons:Be((Ve=Ge==null?void 0:Ge.lessons)!==null&&Ve!==void 0?Ve:[],R)})}))})}},[I,he]),ft=Object(l.useCallback)(function(R,L){var M={lesson_id:R,isNew:!0,id:Pe(),title:Oe.formatMessage({id:"add_title_here"}),active:!0,topicable_type:L};return b(function(A){var e;return Object(v.a)(Object(v.a)({},A),{},{lessons:qe((e=A==null?void 0:A.lessons)!==null&&e!==void 0?e:[],R,M)})}),M},[]),jt=function(L,M){b(function(A){var e;return Object(v.a)(Object(v.a)({},A),{},{lessons:Ne((e=A==null?void 0:A.lessons)!==null&&e!==void 0?e:[],L,M.file.response.data)})}),le.f.push("/courses/list/".concat(h,"/program/?topic=").concat(M.file.response.data.id))},W=Object(l.useCallback)(function(R){return Object(d.d)(R).then(function(L){if(L.success){J.b.success(L.message);var M=he(R);b(function(A){var e;return Object(v.a)(Object(v.a)({},A),{},{lessons:A?(e=A.lessons)===null||e===void 0?void 0:e.map(function(Q){if(Q.id===M){var Ge=Q.topics||[];return Object(v.a)(Object(v.a)({},Q),{},{topics:[].concat(Object(T.a)(Ge),[L.data])})}return Q}):[]})})}})},[I,he]),gt=Object(l.useCallback)(function(R){return Object(d.c)(R).then(function(L){L.success&&(J.b.success(L.message),b(function(M){return Object(v.a)(Object(v.a)({},M),{},{lessons:M?[].concat(Object(T.a)(M.lessons),[L.data]):[]})}))})},[]),at={state:I,h5ps:Ce,id:h,addNewLesson:ut,updateLesson:we,updateTopic:$e,deleteLesson:tt,addNewTopic:ft,deleteTopic:te,onTopicUploaded:jt,cloneTopic:W,cloneLesson:gt,currentEditMode:K,getLessons:z};return Object(ye.jsx)(re.Provider,{value:at,children:N})}},quyA:function(Ue,oe){var t="\\ud800-\\udfff",u="\\u0300-\\u036f",J="\\ufe20-\\ufe2f",U="\\u20d0-\\u20ff",v=u+J+U,T="\\ufe0e\\ufe0f",l="\\u200d",r=RegExp("["+l+t+v+T+"]");function le(Fe){return r.test(Fe)}Ue.exports=le},wy8a:function(Ue,oe,t){var u=t("KxBF");function J(U,v,T){var l=U.length;return T=T===void 0?l:T,!v&&T>=l?U:u(U,v,T)}Ue.exports=J}}]);
