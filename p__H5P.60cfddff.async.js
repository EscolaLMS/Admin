(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"5YLw":function(L,E,e){"use strict";var v=e("DBJ/"),l=e("q1tI"),p=e.n(l),d=e("nKUr"),j=e.n(d),f=function(D){var b=D.onSuccess,_=D.onError;return Object(d.jsx)(v.a,{url:"/api/admin/hh5p/content/upload",name:"h5p_file",accept:".h5p",onChange:function(h){h.file.status==="done"&&h.file.response&&b(h.file.response),h.file.status==="error"&&_()}})};E.a=f},"DBJ/":function(L,E,e){"use strict";var v=e("k1fw"),l=e("y8nQ"),p=e("Vl3Y"),d=e("etVw"),j=e("9kvl"),f=e("qFDU"),m=e("nKUr"),D=e.n(m);function b(_){var P=_.onChange,h=_.onUpload,A=_.url,M=_.name,T=_.extra,n=_.accept,r=_.data,u=_.wrapInForm,o=u===void 0?!0:u,i=_.title,g=_.formProps,R=Object(j.i)();return r&&r[M]&&delete r[M],Object(m.jsx)(f.a,{condition:o,wrap:function(I){return Object(m.jsx)(p.a,Object(v.a)(Object(v.a)({},g),{},{children:I}))},children:Object(m.jsx)(d.a,{title:i||Object(m.jsx)(j.a,{id:"upload_click_here"}),placeholder:R.formatMessage({id:"upload_click_here"}),onChange:function(I){P&&P(I),I.file.status==="done"&&h&&h(I.file.response)},label:Object(m.jsx)(j.a,{id:"upload"}),max:2,fieldProps:{data:r,accept:n,name:M,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(A),extra:T})})}E.a=b},Unir:function(L,E,e){"use strict";e.r(E);var v=e("P2fV"),l=e("NJEC"),p=e("5Dmo"),d=e("3S7+"),j=e("+L6B"),f=e("2/Rp"),m=e("WmNS"),D=e.n(m),b=e("miYZ"),_=e("tsqr"),P=e("9og8"),h=e("tJVT"),A=e("xvlK"),M=e("q1tI"),T=e.n(M),n=e("9kvl"),r=e("55Ip"),u=e("tMyG"),o=e("Qiat"),i=e("nzng"),g=e("G3dp"),R=e("/MfK"),B=e("2PG1"),I=e("4KAj"),S=e("5YLw"),t=e("nKUr"),N=e.n(t),H=function(){var G=Object(M.useState)(!1),y=Object(h.a)(G,2),$=y[0],x=y[1],U=Object(M.useRef)(),z=Object(n.i)(),F=Object(M.useCallback)(function(){var O=Object(P.a)(D.a.mark(function s(a){var C,K;return D.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return x(!0),C=_.default.loading(Object(t.jsx)(n.a,{id:"loading",defaultMessage:"loading"})),c.prev=2,c.next=5,Object(i.e)(a);case 5:return C(),_.default.success(Object(t.jsx)(n.a,{id:"success",defaultMessage:"success"})),x(!1),(K=U.current)===null||K===void 0||K.reload(),c.abrupt("return",!0);case 12:return c.prev=12,c.t0=c.catch(2),C(),_.default.error(Object(t.jsx)(n.a,{id:"error",defaultMessage:"error"})),x(!1),c.abrupt("return",!1);case 18:case"end":return c.stop()}},s,null,[[2,12]])}));return function(s){return O.apply(this,arguments)}}(),[U]),J=[{title:Object(t.jsx)(n.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",sorter:!1,search:!1},{title:Object(t.jsx)(n.a,{id:"newH5P",defaultMessage:"newH5P"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(S.a,{onSuccess:function(){U.current&&U.current.reload(),_.default.success(Object(t.jsx)(n.a,{id:"H5P_uploaded",defaultMessage:"new H5P uploaded successfully"}))},onError:function(){return _.default.error(Object(t.jsx)(n.a,{id:"error",defaultMessage:"error"}))}})]}},{title:Object(t.jsx)(n.a,{id:"title",defaultMessage:"title"}),dataIndex:"title",sorter:function(s,a){return s.title.length-a.title.length},render:function(s,a){return a.title}},{title:Object(t.jsx)(n.a,{id:"library",defaultMessage:"library"}),dataIndex:"library",sorter:function(s,a){return s.library.title.length-a.library.title.length},search:!1,render:function(s,a){return a.library.title}},{title:Object(t.jsx)(n.a,{id:"library_id",defaultMessage:"library_id"}),dataIndex:"library_id",sorter:function(s,a){return s.library.id-a.library.id},render:function(s,a){return a.library.id}},{title:Object(t.jsx)(n.a,{id:"count_h5p",defaultMessage:"count_h5p"}),dataIndex:"count_h5p",sorter:function(s,a){return s.count_h5p-a.count_h5p},search:!1,render:function(s,a){return a.count_h5p}},{title:Object(t.jsx)(n.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",render:function(s,a){return[Object(t.jsx)(r.a,{to:"/h5ps/".concat(a.id),children:Object(t.jsx)(d.a,{title:Object(t.jsx)(n.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(f.a,{type:"primary",icon:Object(t.jsx)(g.a,{})})})}),Object(t.jsx)(l.a,{disabled:a.count_h5p!==0,title:Object(t.jsx)(n.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return a.id&&F(a.id)},okText:Object(t.jsx)(n.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(n.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(d.a,{title:Object(t.jsx)(n.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(f.a,{disabled:a.count_h5p!==0,type:"primary",icon:Object(t.jsx)(R.a,{}),danger:!0})})}),Object(t.jsx)(r.a,{to:"/h5ps/preview/".concat(a.id),children:Object(t.jsx)(d.a,{title:Object(t.jsx)(n.a,{id:"preview",defaultMessage:"preview"}),children:Object(t.jsx)(f.a,{icon:Object(t.jsx)(B.a,{})})})}),Object(t.jsx)("a",{href:"".concat("https://api-stage.escolalms.com","/api/admin/hh5p/content/").concat(a.id,"/export"),download:!0,children:Object(t.jsx)(d.a,{title:Object(t.jsx)(n.a,{id:"export",defaultMessage:"export"}),children:Object(t.jsx)(f.a,{icon:Object(t.jsx)(I.a,{})})})})]}}];return Object(t.jsx)(u.a,{children:Object(t.jsx)(o.a,{loading:$,headerTitle:z.formatMessage({id:"H5Ps",defaultMessage:"H5Ps List"}),actionRef:U,rowKey:"id",search:{},toolBarRender:function(){return[Object(t.jsx)(r.a,{to:"/h5ps/new",children:Object(t.jsxs)(f.a,{type:"primary",children:[Object(t.jsx)(A.a,{})," ",Object(t.jsx)(n.a,{id:"new",defaultMessage:"new"})]},"primary")})]},request:function(s){var a=s.pageSize,C=s.current,K=s.title,W=s.library_id;return x(!0),Object(i.d)({title:K,library_id:W,pageSize:a,current:C}).then(function(c){return x(!1),c.success?{data:c.data,total:c.meta.total,success:!0}:[]})},columns:J})})};E.default=H},nzng:function(L,E,e){"use strict";e.d(E,"d",function(){return f}),e.d(E,"c",function(){return D}),e.d(E,"b",function(){return _}),e.d(E,"e",function(){return h}),e.d(E,"a",function(){return M});var v=e("WmNS"),l=e.n(v),p=e("k1fw"),d=e("9og8"),j=e("9kvl");function f(n,r){return m.apply(this,arguments)}function m(){return m=Object(d.a)(l.a.mark(function n(r,u){return l.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(j.f)("/api/admin/hh5p/content",Object(p.a)({method:"GET",useCache:!1,params:Object(p.a)(Object(p.a)({},r),{},{per_page:r.pageSize,page:r.current})},u||{})));case 1:case"end":return i.stop()}},n)})),m.apply(this,arguments)}function D(n,r){return b.apply(this,arguments)}function b(){return b=Object(d.a)(l.a.mark(function n(r,u){return l.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(j.f)("/api/admin/hh5p/content/".concat(r),Object(p.a)({method:"GET",useCache:!1},u||{})));case 1:case"end":return i.stop()}},n)})),b.apply(this,arguments)}function _(n,r,u){return P.apply(this,arguments)}function P(){return P=Object(d.a)(l.a.mark(function n(r,u,o){return l.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",Object(j.f)(u?"/api/admin/hh5p/content/".concat(u):"/api/admin/hh5p/content",Object(p.a)({method:"POST",headers:{"Content-Type":"application/json"},data:r,useCache:!1},o||{})));case 1:case"end":return g.stop()}},n)})),P.apply(this,arguments)}function h(n){return A.apply(this,arguments)}function A(){return A=Object(d.a)(l.a.mark(function n(r){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(j.f)("/api/admin/hh5p/content/".concat(r),{method:"DELETE"}));case 1:case"end":return o.stop()}},n)})),A.apply(this,arguments)}function M(n){return T.apply(this,arguments)}function T(){return T=Object(d.a)(l.a.mark(function n(r){return l.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(j.f)("/api/admin/hh5p/content?per_page=0",Object(p.a)({method:"GET",useCache:!1},r||{})));case 1:case"end":return o.stop()}},n)})),T.apply(this,arguments)}}}]);
