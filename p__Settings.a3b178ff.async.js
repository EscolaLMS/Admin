(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{"/y+f":function(ue,g,e){"use strict";e.d(g,"f",function(){return A}),e.d(g,"d",function(){return U}),e.d(g,"e",function(){return C}),e.d(g,"c",function(){return F}),e.d(g,"a",function(){return f}),e.d(g,"b",function(){return T});var A;(function(t){t.Unselected="",t.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",t.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",t.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",t.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",t.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",t.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",t.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",t.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",t.Project="EscolaLms\\TopicTypeProject\\Models\\Project",t.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz"})(A||(A={}));var S;(function(t){t.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",t.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(S||(S={}));var p;(function(t){t.draft="draft",t.published="published",t.archived="archived"})(p||(p={}));var U;(function(t){t.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",t.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",t.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(U||(U={}));var C;(function(t){t.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(C||(C={}));var c;(function(t){t.cart_fixed="cart_fixed",t.cart_percent="cart_percent",t.product_fixed="product_fixed",t.product_percent="product_percent"})(c||(c={}));var F;(function(t){t.MULTIPLE_CHOICE="multiple_choice",t.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",t.TRUE_FALSE="true_false",t.SHORT_ANSWERS="short_answers",t.MATCHING="matching",t.NUMERICAL_QUESTION="numerical_question",t.ESSAY="essay",t.DESCRIPTION="description"})(F||(F={}));var f;(function(t){t.PRESENT="present",t.ABSENT="absent"})(f||(f={}));var T;(function(t){t.Manual="manual",t.TeamsForms="teams_forms",t.TeamsLecture="teams_lecture",t.TestPortal="test_portal"})(T||(T={}))},"3fxf":function(ue,g,e){"use strict";var A=e("DjyN"),S=e("NUBc"),p=e("Mwp2"),U=e("VXEj"),C=e("+L6B"),c=e("2/Rp"),F=e("5NDa"),f=e("5rEg"),T=e("oBTY"),t=e("k1fw"),m=e("tJVT"),I=e("DYRE"),O=e("zeV3"),_=e("tU7J"),E=e("wFql"),l=e("q1tI"),s=e.n(l),u=e("BAh9"),$=e("/MfK"),M=e("mAF4"),oe=e("dF/Y"),L=e("9kvl"),N=e("DBJ/"),je=e("lLVY"),d=e.n(je),j=e("nKUr"),_e=e.n(j),K=function(ne){var a=ne.directory,ve=ne.onUploaded;return Object(j.jsxs)(O.b,{align:"start",children:[Object(j.jsxs)(E.a.Text,{children:[Object(j.jsx)(L.a,{id:"pages.files.filesBrowser"}),Object(j.jsx)(E.a.Text,{code:!0,children:a})]}),Object(j.jsx)(N.a,{url:"/api/admin/file/upload",name:"file[]",data:{target:a},onUpload:function(Pe){Pe.success&&ve(a,Pe.data)}})]})},ye=function(ne){var a=ne.defaultDirectory,ve=a===void 0?"/":a,ee=ne.onFile,Pe=ne.hideDeleteBtn,te=Pe===void 0?!1:Pe,Ae=ne.forceLoading,R=Ae===void 0?!1:Ae,X=Object(L.l)(),V=Object(l.useState)({loading:!1,name:"",directory:ve,current_page:1,data:void 0,per_page:1,last_page:1,total:0}),Z=Object(m.a)(V,2),y=Z[0],ae=Z[1],n=Object(l.useRef)(),re=Object(l.useCallback)(function(x){ae(function(r){return Object(t.a)(Object(t.a)({},r),{},{loading:x})})},[]),w=Object(l.useCallback)(function(x,r){x.success&&ae(function(i){return Object(t.a)(Object(t.a)(Object(t.a)({},i),x.data),{},{data:[{url:r.split("/").slice(0,-1).join("/"),name:"..",created_at:"",mime:"directory"}].concat(Object(T.a)(x.data.data.map(function(P){return Object(t.a)(Object(t.a)({},P),{},{url:P.mime==="directory"?"".concat(r,"/").concat(P.name):P.url})}))).filter(function(P){return r==="/"||r===ve?P.name!=="..":!0}),directory:r,loading:!1})})},[re]),z=Object(l.useCallback)(function(x){var r,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,P=function(){return n.current&&n.current.abort()};return P(),n.current=new AbortController,re(!0),Object(u.a)({directory:x,page:i},{signal:(r=n.current)===null||r===void 0?void 0:r.signal}).then(function(h){h.success&&w(h,x)}).catch(function(){return re(!1)}),function(){P()}},[re]);Object(l.useEffect)(function(){return z(ve)},[ve,z]);var he=Object(l.useCallback)(function(x){re(!0),Object(u.c)(x).then(function(){z(y.directory)}).catch(function(){re(!1)})},[z,re,y.directory]),Y=Object(l.useCallback)(function(x,r){var i,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,h=function(){return n.current&&n.current.abort()};return h(),n.current=new AbortController,re(!0),Object(u.b)({directory:x,name:r,page:P},{signal:(i=n.current)===null||i===void 0?void 0:i.signal}).then(function(H){H.success&&w(H,x)}).catch(function(){return re(!1)}),function(){h()}},[re]);return Object(j.jsxs)("div",{className:"file-browser",children:[Object(j.jsxs)("div",{className:"file-browser__header",children:[Object(j.jsx)(f.a,{placeholder:X.formatMessage({id:"search_file"}),className:"file-browser__input",onChange:function(r){return ae(function(i){return Object(t.a)(Object(t.a)({},i),{},{name:r.target.value})})},value:y.name}),Object(j.jsxs)("div",{children:[Object(j.jsx)(c.a,{className:"file-browser__button",onClick:function(){return z(y.directory)},children:Object(j.jsx)(L.a,{id:"reset"})}),Object(j.jsx)(c.a,{className:"file-browser__button",type:"primary",onClick:function(){return Y(y.directory,y.name)},children:Object(j.jsx)(L.a,{id:"query"})})]})]}),Object(j.jsx)(U.b,{loading:y.loading||R,size:"small",itemLayout:"horizontal",dataSource:y.data,header:Object(j.jsx)(K,{directory:y.directory,onUploaded:function(r,i){i&&(z(r),ee&&ee(i,r))}}),footer:Object(j.jsx)(K,{directory:y.directory,onUploaded:function(r,i){z(r),i&&ee&&ee(i,r)}}),renderItem:function(r){return Object(j.jsx)(U.b.Item,{actions:r.mime!=="directory"&&!te?[Object(j.jsx)(c.a,{type:"default",danger:!0,icon:Object(j.jsx)($.a,{}),size:"small",onClick:function(){return he(r.url)}},"dir")]:[],children:Object(j.jsx)(U.b.Item.Meta,{avatar:r.mime==="directory"?Object(j.jsx)(c.a,{type:"primary",icon:Object(j.jsx)(M.a,{}),size:"small",onClick:function(){return z(r.url)}}):Object(j.jsx)("a",{href:r.url,target:"_blank",rel:"noreferrer",children:Object(j.jsx)(c.a,{type:"default",icon:Object(j.jsx)(oe.a,{}),size:"small"})}),description:Object(j.jsx)(s.a.Fragment,{children:Object(j.jsx)(c.a,{type:"text",size:"small",onClick:function(){return r.mime==="directory"?z(r.url):ee&&ee(r,y.directory)},children:r.name})})})})}}),Object(j.jsx)(S.a,{pageSizeOptions:[],current:y.current_page,total:y.total,pageSize:y.per_page,onChange:function(r){return z(y.directory,r)}})]})};g.a=ye},"5qq5":function(ue,g,e){"use strict";var A=e("7Kak"),S=e("9yH6"),p=e("VTBJ"),U=e("Ff2n"),C=e("nKUr"),c=e.n(C),F=e("uX+g"),f=e("q1tI"),T=e.n(f),t=e("WFLz"),m=e("adzw"),I=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],O=T.a.forwardRef(function(s,u){var $=s.fieldProps,M=s.options,oe=s.radioType,L=s.layout,N=s.proFieldProps,je=s.valueEnum,d=Object(U.a)(s,I);return Object(C.jsx)(m.a,Object(p.a)(Object(p.a)({valueType:oe==="button"?"radioButton":"radio",ref:u,valueEnum:Object(F.a)(je,void 0)},d),{},{fieldProps:Object(p.a)({options:M,layout:L},$),proFieldProps:N,filedConfig:{customLightMode:!0}}))}),_=T.a.forwardRef(function(s,u){var $=s.fieldProps,M=s.children;return Object(C.jsx)(S.a,Object(p.a)(Object(p.a)({},$),{},{ref:u,children:M}))}),E=Object(t.a)(_,{valuePropName:"checked",ignoreWidth:!0}),l=E;l.Group=O,l.Button=S.a.Button,l.displayName="ProFormComponent",g.a=l},BAh9:function(ue,g,e){"use strict";e.d(g,"a",function(){return C}),e.d(g,"b",function(){return F}),e.d(g,"e",function(){return T}),e.d(g,"d",function(){return m}),e.d(g,"c",function(){return I});var A=e("qLMh"),S=e("k1fw"),p=e("9og8"),U=e("9kvl");function C(_,E){return c.apply(this,arguments)}function c(){return c=Object(p.a)(Object(A.a)().mark(function _(E,l){return Object(A.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(U.i)("/api/admin/file/list",Object(S.a)({method:"GET",params:E},l||{})));case 1:case"end":return u.stop()}},_)})),c.apply(this,arguments)}function F(_,E){return f.apply(this,arguments)}function f(){return f=Object(p.a)(Object(A.a)().mark(function _(E,l){return Object(A.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(U.i)("/api/admin/file/find",Object(S.a)({method:"GET",params:E},l||{})));case 1:case"end":return u.stop()}},_)})),f.apply(this,arguments)}function T(_,E,l){return t.apply(this,arguments)}function t(){return t=Object(p.a)(Object(A.a)().mark(function _(E,l,s){var u;return Object(A.a)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return u=new FormData,u.append("file[]",E),u.append("target",l),M.abrupt("return",Object(U.i)("/api/admin/file/upload",Object(S.a)({method:"POST",data:u},s||{})));case 4:case"end":return M.stop()}},_)})),t.apply(this,arguments)}var m=function(E){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(E,"&w=").concat(l)};function I(_,E){return O.apply(this,arguments)}function O(){return O=Object(p.a)(Object(A.a)().mark(function _(E,l){return Object(A.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(U.i)("/api/admin/file/delete",Object(S.a)({method:"DELETE",data:{url:E}},l||{})));case 1:case"end":return u.stop()}},_)})),O.apply(this,arguments)}},BiO0:function(ue,g,e){"use strict";var A=e("VTBJ"),S=e("Ff2n"),p=e("nKUr"),U=e.n(p),C=e("q1tI"),c=e.n(C),F=e("adzw"),f=["fieldProps","proFieldProps"],T=function(m,I){var O=m.fieldProps,_=m.proFieldProps,E=Object(S.a)(m,f);return Object(p.jsx)(F.a,Object(A.a)({ref:I,valueType:"textarea",fieldProps:O,proFieldProps:_},E))};g.a=c.a.forwardRef(T)},"DBJ/":function(ue,g,e){"use strict";var A=e("k1fw"),S=e("y8nQ"),p=e("Vl3Y"),U=e("tJVT"),C=e("etVw"),c=e("q1tI"),F=e.n(c),f=e("9kvl"),T=e("qFDU"),t=e("nKUr"),m=e.n(t);function I(O){var _=O.onChange,E=O.onUpload,l=O.url,s=O.name,u=O.extra,$=O.accept,M=O.data,oe=O.wrapInForm,L=oe===void 0?!0:oe,N=O.title,je=O.formProps,d=O.maxFiles,j=O.clearListAfterUpload,_e=O.hideLabel,K=Object(c.useState)(),ye=Object(U.a)(K,2),fe=ye[0],ne=ye[1],a=Object(f.l)();return M&&M[s]&&delete M[s],Object(t.jsx)(T.a,{condition:L,wrap:function(ee){return Object(t.jsx)(p.a,Object(A.a)(Object(A.a)({},je),{},{children:ee}))},children:Object(t.jsx)(C.a,{title:N||" ".concat(a.formatMessage({id:"upload_click_here"})),placeholder:a.formatMessage({id:"upload_click_here"}),onChange:function(ee){ne(ee),_&&_(ee),ee.file.status==="done"&&(E&&E(ee.file.response),j&&ne(void 0))},label:!_e&&Object(t.jsx)(f.a,{id:"upload"}),max:d!=null?d:2,fieldProps:{data:M,accept:$,name:s,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(l),extra:u,fileList:fe==null?void 0:fe.fileList})})}g.a=I},FJDo:function(ue,g,e){"use strict";var A=e("VTBJ"),S=e("Ff2n"),p=e("nKUr"),U=e.n(p),C=e("q1tI"),c=e.n(C),F=e("adzw"),f=["fieldProps","min","proFieldProps","max"],T=function(m,I){var O=m.fieldProps,_=m.min,E=m.proFieldProps,l=m.max,s=Object(S.a)(m,f);return Object(p.jsx)(F.a,Object(A.a)({valueType:"digit",fieldProps:Object(A.a)({min:_,max:l},O),ref:I,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:E},s))};g.a=c.a.forwardRef(T)},HEzf:function(ue,g,e){"use strict";var A=e("EFp3"),S=e("O/iA"),p=e("OaEy"),U=e("wx14"),C=e("U8pU"),c=e("ODXe"),F=e("TSYQ"),f=e.n(F),T=e("Zm9Q"),t=e("bT9E"),m=e("q1tI"),I=e.n(m),O=e("H84U"),_=e("2fM7"),E=e("0n0R"),l=_.a.Option;function s(he){return he&&he.type&&(he.type.isSelectOption||he.type.isSelectOptGroup)}var u=function(Y,x){var r=Y.prefixCls,i=Y.className,P=Y.popupClassName,h=Y.dropdownClassName,H=Y.children,G=Y.dataSource,ce=Object(T.a)(H),de;if(ce.length===1&&Object(E.c)(ce[0])&&!s(ce[0])){var be=Object(c.a)(ce,1);de=be[0]}var Le=de?function(){return de}:void 0,Re;return ce.length&&s(ce[0])?Re=H:Re=G?G.map(function(me){if(Object(E.c)(me))return me;switch(Object(C.a)(me)){case"string":return m.createElement(l,{key:me,value:me},me);case"object":{var le=me.value;return m.createElement(l,{key:le,value:le},me.text)}default:return}}):[],m.createElement(O.a,null,function(me){var le=me.getPrefixCls,xe=le("select",r);return m.createElement(_.a,Object(U.a)({ref:x},Object(t.a)(Y,["dataSource"]),{prefixCls:xe,popupClassName:P||h,className:f()("".concat(xe,"-auto-complete"),i),mode:_.a.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:Le}),Re)})},$=m.forwardRef(u);$.Option=l;var M=$,oe=e("y8nQ"),L=e("Vl3Y"),N=e("+L6B"),je=e("2/Rp"),d=e("5NDa"),j=e("5rEg"),_e=e("tJVT"),K=e("VMEa"),ye=e("rmhi"),fe=e("Qurx"),ne=e("F/zT"),a=e("5qq5"),ve=e("BiO0"),ee=e("tneF"),Pe=e("FJDo"),te=e("9kvl"),Ae=e("+up7"),R=e("hd5d"),X=e("3fxf"),V=e("ovOe"),Z=e.n(V),y=e("bRQS"),ae=e("4i/N"),n=e("nKUr"),re=function(Y){var x=Y.value,r=Y.onChange,i=Y.type,P=i===void 0?"file":i,h=Object(m.useState)(!1),H=Object(_e.a)(h,2),G=H[0],ce=H[1];return Object(n.jsxs)(I.a.Fragment,{children:[Object(n.jsxs)(K.a.Group,{children:[Object(n.jsx)(j.a,{value:x,readOnly:!0}),Object(n.jsxs)(je.a,{size:"small",type:"primary",onClick:function(){return ce(!G)},children:["toggle ",P," browser"]})]}),G&&Object(n.jsx)(X.a,{onFile:function(be,Le){return r&&r("".concat(Le,"/").concat(be.name))}})]})},w=function(Y){var x=Object(te.l)(),r=Y.visible,i=Y.onVisibleChange,P=Y.onFinish,h=Y.id,H=Y.initialData,G=Y.groups,ce=L.a.useForm(),de=Object(_e.a)(ce,1),be=de[0],Le=!h||h===-1,Re=Object(m.useState)("text"),me=Object(_e.a)(Re,2),le=me[0],xe=me[1],J=Object(m.useCallback)(function(){return!!(be.getFieldValue("group")==="global"||H)},[be,H]),b=Object(m.useState)(""),o=Object(_e.a)(b,2),D=o[0],W=o[1];Object(m.useEffect)(function(){if(typeof h=="object"){var v;be.setFieldsValue(h),xe((v=h.type)!==null&&v!==void 0?v:"text")}else h&&h!==-1?Object(Ae.d)(Number(h)).then(function(B){B.success&&(be.setFieldsValue(B.data),xe(B.data.type),W(B.data.group))}):(be.resetFields(),xe("text"))},[h,be,H]);var se=Object(m.useCallback)(function(v){v.type&&v.type!==le&&xe(v.type)},[le]);return Object(n.jsxs)(ye.a,{form:be,title:x.formatMessage({id:h?"editSetting":"newSetting",defaultMessage:h?"editSetting":"newSetting"}),width:"60vw",visible:!!r,onVisibleChange:i,onFinish:P,onValuesChange:se,children:[Object(n.jsxs)(K.a.Group,{children:[H?Object(n.jsx)(fe.a,{label:Object(n.jsx)(te.a,{id:"group",defaultMessage:"group"}),rules:[{required:!0}],width:"md",name:"group",disabled:J()}):Object(n.jsx)(K.a.Item,{label:Object(n.jsx)(te.a,{id:"group",defaultMessage:"group"}),name:"group",children:Object(n.jsx)(M,{style:{width:"300px"},autoFocus:!0,value:D,onChange:function(B){return W(B)},filterOption:function(B,Ee){var k;return(Ee==null||(k=Ee.children)===null||k===void 0?void 0:k.toString().toLowerCase().indexOf(B.toLowerCase()))!==-1},children:G.map(function(v){return Object(n.jsx)(M.Option,{value:v,children:v},v)})})}),Object(n.jsx)(fe.a,{label:Object(n.jsx)(te.a,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key",disabled:J()})]}),Object(n.jsxs)(K.a.Group,{children:[Object(n.jsx)(ne.a,{name:"enumerable",disabled:J(),label:Object(n.jsx)(te.a,{id:"enumerable",defaultMessage:"enumerable"})}),Object(n.jsx)(ne.a,{name:"public",disabled:J(),label:Object(n.jsx)(te.a,{id:"public",defaultMessage:"public"})})]}),Object(n.jsx)(K.a.Group,{children:Object(n.jsx)(a.a.Group,{disabled:!!(!Le||H),name:"type",label:Object(n.jsx)(te.a,{id:"type"}),options:[{label:"text",value:"text"},{label:"markdown",value:"markdown"},{label:"json",value:"json"},{label:"file",value:"file"},{label:"image",value:"image"},{label:"boolean",value:"boolean"},{label:"number",value:"number"}]})}),Object(n.jsxs)("div",{children:[le==="text"&&Object(n.jsx)(fe.a,{width:"lg",name:"value",label:Object(n.jsx)(te.a,{id:"value"})}),le==="json"&&Object(n.jsxs)(n.Fragment,{children:[Object(n.jsx)(ve.a,{width:"lg",name:"value",label:Object(n.jsx)(te.a,{id:"value"}),tooltip:"".concat(x.formatMessage({id:"example_json"}),': {"name":"John", "age":30, "city":["New York","Warsaw"]}')}),Object(n.jsx)(K.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(n.jsx)(Z.a,{src:JSON.parse(be.getFieldValue("value"))})}catch(B){return Object(n.jsx)(Z.a,{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]}),(le==="file"||le==="image")&&Object(n.jsx)(K.a.Item,{name:"value",label:"value",tooltip:"select file from current repository or upload new one",valuePropName:"value",children:Object(n.jsx)(re,{type:le})}),le==="markdown"&&Object(n.jsx)(K.a.Item,{name:"value",label:"value",tooltip:"The editor is WYSIWYG and includes formatting tools whilst retaining the ability to write markdown shortcuts inline and output plain Markdown.",valuePropName:"value",children:Object(n.jsx)(R.a,{directory:"settings/wysiwyg"})}),le==="boolean"?Object(n.jsx)(ne.a,{name:"data",label:Object(n.jsx)(te.a,{id:"value"}),checkedChildren:Object(n.jsx)(y.a,{}),unCheckedChildren:Object(n.jsx)(ae.a,{})}):Object(n.jsx)(K.a.Item,{noStyle:!0,hidden:!0,children:Object(n.jsx)(ee.a,{name:"data",valuePropName:"data"})}),le==="number"&&Object(n.jsx)(Pe.a,{name:"data",label:Object(n.jsx)(te.a,{id:"value"})})]})]})},z=g.a=w},"O/iA":function(ue,g,e){},Qurx:function(ue,g,e){"use strict";var A=e("VTBJ"),S=e("Ff2n"),p=e("nKUr"),U=e.n(p),C=e("adzw"),c=["fieldProps","proFieldProps"],F=["fieldProps","proFieldProps"],f="text",T=function(O){var _=O.fieldProps,E=O.proFieldProps,l=Object(S.a)(O,c);return Object(p.jsx)(C.a,Object(A.a)({valueType:f,fieldProps:_,filedConfig:{valueType:f},proFieldProps:E},l))},t=function(O){var _=O.fieldProps,E=O.proFieldProps,l=Object(S.a)(O,F);return Object(p.jsx)(C.a,Object(A.a)({valueType:"password",fieldProps:_,proFieldProps:E,filedConfig:{valueType:f}},l))},m=T;m.Password=t,m.displayName="ProFormComponent",g.a=m},YjuE:function(ue,g,e){"use strict";e.r(g);var A=e("fOrg"),S=e("+KLJ"),p=e("T2oS"),U=e("W9HT"),C=e("tJVT"),c=e("q1tI"),F=e.n(c),f=e("nhC9"),T=e("Ty5D"),t=e("9kvl"),m=e("tMyG"),I=e("+up7"),O=e("P2fV"),_=e("NJEC"),E=e("5Dmo"),l=e("3S7+"),s=e("+L6B"),u=e("2/Rp"),$=e("+BJd"),M=e("mr32"),oe=e("jrin"),L=e("qLMh"),N=e("k1fw"),je=e("miYZ"),d=e("tsqr"),j=e("9og8"),_e=e("xvlK"),K=e("Qiat"),ye=e("HEzf"),fe=e("G3dp"),ne=e("/MfK"),a=e("nKUr"),ve=function(){var J=Object(j.a)(Object(L.a)().mark(function b(o,D,W){var se;return Object(L.a)().wrap(function(B){for(;;)switch(B.prev=B.next){case 0:return se=d.b.loading(o.formatMessage({id:"loading"})),B.prev=1,B.next=4,W&&W!==-1?Object(I.h)(W,Object(N.a)({},D)):Object(I.b)(Object(N.a)({},D));case 4:return se(),d.b.success(o.formatMessage({id:"success"})),B.abrupt("return",!0);case 9:return B.prev=9,B.t0=B.catch(1),se(),d.b.error(o.formatMessage({id:"error"})),B.abrupt("return",!1);case 14:case"end":return B.stop()}},b,null,[[1,9]])}));return function(o,D,W){return J.apply(this,arguments)}}(),ee=function(){var J=Object(j.a)(Object(L.a)().mark(function b(o,D){var W;return Object(L.a)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return W=d.b.loading(o.formatMessage({id:"loading"})),v.prev=1,v.next=4,Object(I.c)(D);case 4:return W(),d.b.success(o.formatMessage({id:"success"})),v.abrupt("return",!0);case 9:return v.prev=9,v.t0=v.catch(1),W(),d.b.error(o.formatMessage({id:"error"})),v.abrupt("return",!1);case 14:case"end":return v.stop()}},b,null,[[1,9]])}));return function(o,D){return J.apply(this,arguments)}}(),Pe=function(){var b=Object(c.useState)(!1),o=Object(C.a)(b,2),D=o[0],W=o[1],se=Object(c.useState)([]),v=Object(C.a)(se,2),B=v[0],Ee=v[1],k=Object(c.useRef)(),Oe=Object(t.l)(),ge=Object(t.m)("@@initialState"),Q=ge.setInitialState;Object(c.useEffect)(function(){Object(I.e)().then(function(q){q.success&&Ee(q.data.filter(function(ie){return ie!=="global"}))})},[]);var Me=[{title:Object(a.jsx)(t.a,{id:"group",defaultMessage:"group"}),dataIndex:"group",hideInSearch:!1,key:"group",valueType:"select",width:100,valueEnum:B.sort().reduce(function(q,ie){return Object(N.a)(Object(N.a)({},q),{},Object(oe.a)({},ie,ie))},{})},{title:Object(a.jsx)(t.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(a.jsx)(t.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:Object(a.jsx)(t.a,{id:"enumerable",defaultMessage:"enumerable"}),dataIndex:"enumerable",hideInForm:!0,hideInSearch:!0,render:function(ie,pe){return Object(a.jsx)(M.a,{color:pe.enumerable?"success":"error",children:Object(a.jsx)(t.a,{id:pe.enumerable?"true":"false",defaultMessage:pe.enumerable?"true":"false"})})}},{title:Object(a.jsx)(t.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(ie,pe){return Object(a.jsx)(M.a,{color:pe.public?"success":"error",children:Object(a.jsx)(t.a,{id:pe.public?"true":"false",defaultMessage:pe.public?"true":"false"})})}},{hideInSearch:!0,title:Object(a.jsx)(t.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(ie,pe){return[Object(a.jsx)(l.a,{title:Object(a.jsx)(t.a,{id:"edit",defaultMessage:"edit"}),children:Object(a.jsx)(u.a,{type:"primary",icon:Object(a.jsx)(fe.a,{}),onClick:function(){return W(pe.id)}})},"edit"),Object(a.jsx)(_.a,{title:Object(a.jsx)(t.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(j.a)(Object(L.a)().mark(function Ce(){var Ue;return Object(L.a)().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Ie.next=2,ee(Oe,pe.id);case 2:Ue=Ie.sent,Ue&&(W(!1),k.current&&k.current.reload());case 4:case"end":return Ie.stop()}},Ce)})),okText:Object(a.jsx)(t.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(a.jsx)(t.a,{id:"no",defaultMessage:"No"}),children:Object(a.jsx)(l.a,{title:Object(a.jsx)(t.a,{id:"delete",defaultMessage:"delete"}),children:Object(a.jsx)(u.a,{type:"primary",icon:Object(a.jsx)(ne.a,{}),danger:!0})})},"delete")]}}];return Object(a.jsxs)(F.a.Fragment,{children:[Object(a.jsx)(K.a,{headerTitle:Oe.formatMessage({id:"menu.settings"}),actionRef:k,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[Object(a.jsxs)(u.a,{type:"primary",onClick:function(){W(-1)},children:[Object(a.jsx)(_e.a,{})," ",Object(a.jsx)(t.a,{id:"pages.searchTable.new"})]},"primary")]},request:function(ie){var pe=ie.pageSize,Ce=ie.current,Ue=ie.group;return Object(I.f)({pageSize:pe,current:Ce,group:Ue}).then(function(Te){return Te.success?{data:Te.data.filter(function(Ie){return Ie.group!=="global"}),total:Te.meta.total,success:!0}:[]})},columns:Me}),Object(a.jsx)(ye.a,{groups:B,id:D,visible:Number.isInteger(D),onVisibleChange:function(ie){return!ie&&W(!1)},onFinish:function(){var q=Object(j.a)(Object(L.a)().mark(function ie(pe){var Ce,Ue,Te;return Object(L.a)().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return Ce=pe,De.next=3,ve(Oe,Ce,Number(D));case 3:if(Ue=De.sent,!Ue){De.next=12;break}if(W(!1),k.current&&k.current.reload(),Ce.group!=="global"){De.next=12;break}return De.next=10,Object(I.f)({current:1,pageSize:100,group:"global"});case 10:Te=De.sent,Q(function(Be){return Object(N.a)(Object(N.a)({},Be),{},{config:Te.success?Te.data:Be==null?void 0:Be.config})});case 12:case"end":return De.stop()}},ie)}));return function(ie){return q.apply(this,arguments)}}()})]})},te=Pe,Ae=e("y8nQ"),R=e("Vl3Y"),X=e("tU7J"),V=e("wFql"),Z=e("rmhi"),y=e("VMEa"),ae=e("F/zT"),n=e("BiO0"),re=e("ovOe"),w=e.n(re),z=e("Fghh"),he=e("Qurx"),Y=function(b){var o=b.field,D=b.name;return o!=null&&o.includes("boolean")?Object(a.jsx)(ae.a,{name:D,checkedChildren:Object(a.jsx)(z.a,{id:"true"}),unCheckedChildren:Object(a.jsx)(z.a,{id:"false"})}):Object(a.jsx)(he.a,{width:"lg",name:D})},x=Y,r=V.a.Text,i;(function(J){J.Array="array",J.String="string"})(i||(i={}));var P=function(b,o){return o===i.Array?b&&Array.isArray(b)?JSON.stringify(b):"[]":b},h=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",o=arguments.length>1?arguments[1]:void 0;if(o===i.Array){var D=JSON.parse(b);return D&&Array.isArray(D)?D:[]}return b},H=function(b){var o=Object(z.k)(),D=b.visible,W=b.onVisibleChange,se=b.onFinish,v=b.value,B=R.a.useForm(),Ee=Object(C.a)(B,1),k=Ee[0],Oe=Object(c.useMemo)(function(){return(v.rules||[]).includes(i.Array)?i.Array:i.String},[v.rules]);return Object(c.useEffect)(function(){k.setFieldsValue(Object(N.a)(Object(N.a)({},v),{},{value:P(v.value,Oe)}))},[Oe,v,k]),Object(a.jsxs)(Z.a,{form:k,title:v.full_key,width:"60vw",visible:D,onVisibleChange:W,onFinish:Object(j.a)(Object(L.a)().mark(function ge(){var Q;return Object(L.a)().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return q.next=2,Object(I.g)({key:v.full_key,value:h(k.getFieldsValue().value,Oe)});case 2:if(Q=q.sent,!Q.success){q.next=6;break}return se(Q.success===!0),q.abrupt("return",Q.success);case 6:return q.abrupt("return");case 7:case"end":return q.stop()}},ge)})),children:[Object(a.jsxs)(y.a.Group,{children:[Object(a.jsx)(ae.a,{disabled:!0,name:"public",label:Object(a.jsx)(t.a,{id:"public",defaultMessage:"public"})}),Object(a.jsx)(ae.a,{disabled:!0,name:"readonly",label:Object(a.jsx)(t.a,{id:"readonly",defaultMessage:"readonly"})}),Object(a.jsx)(y.a.Item,{shouldUpdate:!0,label:Object(a.jsx)(t.a,{id:"rules",defaultMessage:"rules"}),children:function(){return Object(a.jsx)(r,{code:!0,children:JSON.stringify(k.getFieldValue("rules"))})}})]}),Oe===i.Array?Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(n.a,{width:"lg",name:"value",label:Object(a.jsx)(t.a,{id:"value"}),tooltip:"".concat(o.formatMessage({id:"example_json"}),': ["first_field_name", "second_field_name"]')}),Object(a.jsx)(y.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(a.jsx)(w.a,{src:JSON.parse(k.getFieldValue("value"))})}catch(Q){return Object(a.jsx)(w.a,{src:JSON.parse('{ "error": "cannot parse this array" }')})}}})]}):Object(a.jsx)(a.Fragment,{children:Object(a.jsx)(y.a.Item,{shouldUpdate:!0,label:Object(a.jsx)(t.a,{id:"value"}),children:function(){return Object(a.jsx)(x,{field:k.getFieldValue("rules"),name:"value"})}})})]})},G=H,ce=[{title:Object(a.jsx)(t.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(a.jsx)(t.a,{id:"readonly",defaultMessage:"readonly"}),dataIndex:"readonly",hideInForm:!0,hideInSearch:!0,render:function(b,o){return Object(a.jsx)(M.a,{color:o.readonly?"success":"error",children:Object(a.jsx)(t.a,{id:o.readonly?"true":"false",defaultMessage:o.readonly?"true":"false"})})}},{title:Object(a.jsx)(t.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(b,o){return Object(a.jsx)(M.a,{color:o.public?"success":"error",children:Object(a.jsx)(t.a,{id:o.public?"true":"false",defaultMessage:o.public?"true":"false"})})}},{title:Object(a.jsx)(t.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(b,o){return typeof o.value=="boolean"?Object(a.jsx)(M.a,{color:o.value?"success":"error",children:Object(a.jsx)(t.a,{id:o.value?"true":"false",defaultMessage:o.value?"true":"false"})}):Array.isArray(o.value)?o.value.map(function(D){return typeof D=="object"?F.a.Children.toArray(Object(a.jsx)("p",{children:Object.keys(D).map(function(W){return"".concat(W,": ").concat(D[W])}).join(", ")})):D}):o.value}}],de=function J(b,o){var D=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return!b||typeof b!="object"?!1:(Object.keys(b).forEach(function(W){var se=b[W];W===o?D.push(b):typeof se=="object"&&J(se,o,D)}),D)},be=function(b){var o=b.packageName,D=b.values,W=b.onValueUpdated,se=Object(t.l)(),v=Object(c.useState)(),B=Object(C.a)(v,2),Ee=B[0],k=B[1],Oe=Object(c.useMemo)(function(){var ge=D[o];return de(ge,"rules")},[D,o]);return Object(a.jsxs)(F.a.Fragment,{children:[Object(a.jsx)(K.a,{headerTitle:se.formatMessage({id:"menu.settings"}),rowKey:"key",search:{layout:"vertical"},dataSource:Oe,columns:[].concat(ce,[{hideInSearch:!0,title:Object(a.jsx)(t.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(Q,Me){return[Object(a.jsx)(l.a,{title:Object(a.jsx)(t.a,{id:"edit",defaultMessage:"edit"}),children:Object(a.jsx)(u.a,{type:"primary",icon:Object(a.jsx)(fe.a,{}),onClick:function(){return k(Me)}})},"edit")]}}])}),Ee&&Object(a.jsx)(G,{value:Ee,visible:Ee!==void 0,onVisibleChange:function(Q){return Q===!1&&k(void 0)},onFinish:Object(j.a)(Object(L.a)().mark(function ge(){return Object(L.a)().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:W();case 1:case"end":return Me.stop()}},ge)}))})]})},Le=be,Re=e("t4ZK"),me=e("I5X1"),le=function(b){return b.replaceAll("escolalms","").split("_").join("")},xe=g.default=function(){var J=Object(T.l)(),b=Object(t.l)(),o=J.tab,D=o===void 0?"user_settings":o,W=Object(c.useState)(),se=Object(C.a)(W,2),v=se[0],B=se[1],Ee=Object(c.useCallback)(function(){Object(I.a)().then(function(Q){Q.success&&B(Q.data)})},[]),k=Object(me.a)("@@initialState"),Oe=k.initialState,ge=Object(c.useCallback)(function(){var Q;return(Oe==null||(Q=Oe.config)===null||Q===void 0?void 0:Q.length)!==0},[Oe]);return Object(c.useEffect)(function(){Ee()},[]),v?Object(a.jsxs)(m.a,{title:Object(a.jsx)(t.a,{id:"settings"}),header:{breadcrumb:{routes:[{path:"settings",breadcrumbName:b.formatMessage({id:"menu.Configuration.settings"})},{path:String(D),breadcrumbName:String(D)}]}},children:[!ge()&&Object(a.jsx)(S.a,{message:Object(a.jsx)(t.a,{id:"global_settings_alert_title",defaultMessage:"Add global settings"}),description:Object(a.jsx)(t.a,{id:"global_settings_alert_description",defaultMessage:"Global settings are used to configure the entire LMS. You can add global settings by clicking the button below."}),type:"warning",showIcon:!0,style:{marginBottom:"20px"}}),Object(a.jsxs)(f.a,{tabs:{type:"card",activeKey:D,onChange:function(Me){return t.f.push("/configuration/settings/".concat(Me))}},children:[Object(a.jsx)(f.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"user.settings"}),children:Object(a.jsx)(te,{})},"user_settings"),Object(a.jsx)(f.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"global_settings"}),children:Object(a.jsx)(Re.a,{})},"global_settings"),Object.keys(v).map(function(Q){return Object(a.jsxs)(f.a.TabPane,{tab:Object(a.jsxs)("span",{children:[Object(a.jsx)(t.a,{id:"package"})," ",le(Q)]}),children:[Object(a.jsx)(Le,{values:v,packageName:Q,onValueUpdated:function(){return Ee()}}),Q]},Q)})]})]}):Object(a.jsx)(U.a,{})}},hd5d:function(ue,g,e){"use strict";var A=e("qLMh"),S=e("9og8"),p=e("q1tI"),U=e.n(p),C=e("acco"),c=e.n(C),F=e("BAh9"),f=e("vtG9"),T=e.n(f),t=e("9kvl"),m=e("nKUr"),I=e.n(m),O=function(l){var s=l.attrs,u=s.href,$=u.split("/").pop();return Object(m.jsx)("p",{children:Object(m.jsx)("a",{rel:"noreferrer",href:u,target:"_blank",children:$})})},_=function(l){var s=l.value,u=l.onChange,$=l.directory,M=$===void 0?"/wysiwyg":$,oe=Object(t.l)();return Object(m.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(m.jsx)(c.a,{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function(N){return!0},component:O}],uploadImage:function(){var L=Object(S.a)(Object(A.a)().mark(function N(je){var d,j;return Object(A.a)().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.next=2,Object(F.e)(je,M);case 2:if(d=K.sent,!d.success){K.next=8;break}if(!je.type.includes("image/")){K.next=7;break}return j=d.data[0].name.includes("/")?d.data[0].name:"".concat(M).concat(d.data[0].name),K.abrupt("return",Object(F.d)(j,1e3));case 7:return K.abrupt("return",d.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return K.stop()}},N)}));return function(N){return L.apply(this,arguments)}}(),defaultValue:s||"",onChange:function(N){return u&&u(N())},placeholder:oe.formatMessage({id:"wysiwyg_placeholder"})})})};g.a=_},lLVY:function(ue,g,e){},t4ZK:function(ue,g,e){"use strict";e.d(g,"b",function(){return ee});var A=e("P2fV"),S=e("NJEC"),p=e("5Dmo"),U=e("3S7+"),C=e("+L6B"),c=e("2/Rp"),F=e("tJVT"),f=e("oBTY"),T=e("qLMh"),t=e("k1fw"),m=e("miYZ"),I=e("tsqr"),O=e("9og8"),_=e("xvlK"),E=e("q1tI"),l=e.n(E),s=e("9kvl"),u=e("Qiat"),$=e("/y+f"),M=e("+up7"),oe=e("HEzf"),L=e("G3dp"),N=e("/MfK"),je=e("ujla"),d=e("nKUr"),j=e.n(d),_e=function(){var R=Object(O.a)(Object(T.a)().mark(function X(V,Z,y){var ae,n;return Object(T.a)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return ae=I.b.loading(V.formatMessage({id:"loading"})),w.prev=1,w.next=4,y&&y!==-1?Object(M.h)(y,Object(t.a)({},Z)):Object(M.b)(Object(t.a)({},Z));case 4:return n=w.sent,ae(),I.b.success(V.formatMessage({id:"success"})),w.abrupt("return",{success:!0,updatedSettings:n});case 10:return w.prev=10,w.t0=w.catch(1),ae(),I.b.error(V.formatMessage({id:"error"})),w.abrupt("return",{success:!1,updateSettings:null});case 15:case"end":return w.stop()}},X,null,[[1,10]])}));return function(V,Z,y){return R.apply(this,arguments)}}(),K=function(){var R=Object(O.a)(Object(T.a)().mark(function X(V,Z){var y;return Object(T.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return y=I.b.loading(V.formatMessage({id:"loading"})),n.prev=1,n.next=4,Object(M.c)(Z);case 4:return y(),I.b.success(V.formatMessage({id:"success"})),n.abrupt("return",!0);case 9:return n.prev=9,n.t0=n.catch(1),y(),I.b.error(V.formatMessage({id:"error"})),n.abrupt("return",!1);case 14:case"end":return n.stop()}},X,null,[[1,9]])}));return function(V,Z){return R.apply(this,arguments)}}(),ye=function(X){return X.toLowerCase().replace(/(_\w)/g,function(V){return V.toUpperCase().substr(1)})},fe=function R(X){return X.reduce(function(V,Z){return[].concat(Object(f.a)(V),Object(f.a)(Z.routes?R(Z.routes):[]),[Z])},[]).filter(function(V){return V.layout!==!1&&V.hideInMenu!==!0})},ne=["public"],a=["email","sms"],ve=function(X){return"hideInMenu-".concat(ye(X.split("/").join("_")))},ee=function(X){return"disableTopicType-".concat(X)},Pe=[].concat(Object(f.a)(Object.keys($.f).map(function(R){return{key:ee(R),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(f.a)(fe(Object(je.a)()).filter(function(R){return R.path&&R.path!=="/"}).map(function(R){return{path:R.path,key:ve(R.path),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(f.a)(["ECommerce","Certificates"].map(function(R){return{key:"disable-".concat(R),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(f.a)(ne.map(function(R){return{key:"showInCourseAdditionalSettings-".concat(R),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(f.a)(a.map(function(R){return{key:"hideTemplateTab-".concat(R),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}}))).reduce(function(R,X,V){return R[X.key]=Object(t.a)(Object(t.a)({},X),{},{id:-1*V}),R},{}),te=Object(t.a)({logo:{id:-1,key:"logo",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},frontURL:{id:-2,key:"frontURL",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},maxLessonsNestingInProgram:{id:-4,key:"maxLessonsNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},minTopicNestingInProgram:{id:-5,key:"minTopicNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0}},Pe),Ae=function(){var X=Object(E.useState)(!1),V=Object(F.a)(X,2),Z=V[0],y=V[1],ae=Object(E.useRef)(),n=Object(s.l)(),re=Object(s.m)("@@initialState"),w=re.setInitialState,z=re.initialState,he=[{title:Object(d.jsx)(s.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(d.jsx)(s.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:Object(d.jsx)(s.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(r,i){return i.value}},{hideInSearch:!0,title:Object(d.jsx)(s.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(r,i){return[i.id>0?Object(d.jsx)(U.a,{title:Object(d.jsx)(s.a,{id:"edit",defaultMessage:"edit"}),children:Object(d.jsx)(c.a,{type:"primary",icon:Object(d.jsx)(L.a,{}),onClick:function(){return y(i.id)}})},"edit"):Object(d.jsx)(U.a,{title:Object(d.jsx)(s.a,{id:"create",defaultMessage:"create"}),children:Object(d.jsx)(c.a,{type:"primary",icon:Object(d.jsx)(_.a,{}),onClick:function(){y(te[i.key]||-1)}})},"create"),Object(d.jsx)(S.a,{title:Object(d.jsx)(s.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(O.a)(Object(T.a)().mark(function P(){var h;return Object(T.a)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.next=2,K(n,i.id);case 2:h=G.sent,h&&(y(!1),ae.current&&ae.current.reload());case 4:case"end":return G.stop()}},P)})),okText:Object(d.jsx)(s.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(d.jsx)(s.a,{id:"no",defaultMessage:"No"}),children:i.id>0?Object(d.jsx)(U.a,{title:Object(d.jsx)(s.a,{id:"delete",defaultMessage:"delete"}),children:Object(d.jsx)(c.a,{type:"primary",icon:Object(d.jsx)(N.a,{}),danger:!0})}):null},"delete")]}}],Y=function(r){var i;if(!!r&&(!(z!=null&&(i=z.config)!==null&&i!==void 0&&i.length)&&r&&w(Object(t.a)(Object(t.a)({},z),{},{config:[r]})),!!(z!=null&&z.config))){var P=z==null?void 0:z.config.map(function(h){return h.key===r.key?Object(t.a)(Object(t.a)({},h),r):h});w(Object(t.a)(Object(t.a)({},z),{},{config:P}))}};return Object(d.jsxs)(l.a.Fragment,{children:[Object(d.jsx)(u.a,{headerTitle:n.formatMessage({id:"menu.settings"}),search:!1,toolBarRender:!1,actionRef:ae,rowKey:"id",request:function(r){var i=r.pageSize,P=r.current;return Object(M.f)({pageSize:i,current:P,group:"global"}).then(function(h){if(h.success){var H=[].concat(Object(f.a)(Object.keys(te).map(function(G){return h.data.find(function(ce){return ce.key===G})||te[G]})),Object(f.a)(h.data.filter(function(G){return!Object.keys(te).includes(G.key)})));return{data:H,total:H.length,success:!0}}return[]})},columns:he}),Object(d.jsx)(oe.a,{groups:[],id:Z,visible:Z,initialData:te,onVisibleChange:function(r){return!r&&y(!1)},onFinish:function(){var x=Object(O.a)(Object(T.a)().mark(function r(i){var P,h,H,G;return Object(T.a)().wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return P=i,P.type==="number"&&(P=Object(t.a)(Object(t.a)({},P),{},{value:String(P.data)})),P.type==="boolean"&&(P=Object(t.a)(Object(t.a)({},P),{},{value:P.data})),de.next=5,_e(n,P,Number(Z));case 5:h=de.sent,H=h.success,G=h.updatedSettings,H&&(G!=null&&G.success&&Y(G.data),y(!1),ae.current&&ae.current.reload());case 9:case"end":return de.stop()}},r)}));return function(r){return x.apply(this,arguments)}}()})]})};g.a=Ae},tneF:function(ue,g,e){"use strict";var A=e("sRBo"),S=e("kaz8"),p=e("VTBJ"),U=e("Ff2n"),C=e("nKUr"),c=e.n(C),F=e("uX+g"),f=e("q1tI"),T=e.n(f),t=e("WFLz"),m=e("adzw"),I=["options","fieldProps","proFieldProps","valueEnum"],O=T.a.forwardRef(function(s,u){var $=s.options,M=s.fieldProps,oe=s.proFieldProps,L=s.valueEnum,N=Object(U.a)(s,I);return Object(C.jsx)(m.a,Object(p.a)({ref:u,valueType:"checkbox",valueEnum:Object(F.a)(L,void 0),fieldProps:Object(p.a)({options:$},M),lightProps:Object(p.a)({labelFormatter:function(){return Object(C.jsx)(m.a,Object(p.a)({ref:u,valueType:"checkbox",mode:"read",valueEnum:Object(F.a)(L,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(p.a)({options:$},M),proFieldProps:oe},N))}},N.lightProps),proFieldProps:oe},N))}),_=T.a.forwardRef(function(s,u){var $=s.fieldProps,M=s.children;return Object(C.jsx)(S.a,Object(p.a)(Object(p.a)({ref:u},$),{},{children:M}))}),E=Object(t.a)(_,{valuePropName:"checked"}),l=E;l.Group=O,g.a=l},vtG9:function(ue,g,e){}}]);
