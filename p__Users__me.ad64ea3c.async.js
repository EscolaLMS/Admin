(window.webpackJsonp=window.webpackJsonp||[]).push([[43],{"+up7":function(G,v,e){"use strict";e.d(v,"f",function(){return P}),e.d(v,"d",function(){return f}),e.d(v,"b",function(){return r}),e.d(v,"h",function(){return c}),e.d(v,"c",function(){return d}),e.d(v,"e",function(){return C}),e.d(v,"a",function(){return D}),e.d(v,"g",function(){return _});var h=e("k1fw"),b=e("9og8"),U=e("WmNS"),n=e.n(U),O=e("9kvl");function P(l,o){return m.apply(this,arguments)}function m(){return m=Object(b.a)(n.a.mark(function l(o,a){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(O.f)("/api/admin/settings",Object(h.a)({method:"GET",useCache:!1,params:Object(h.a)(Object(h.a)({},o),{},{per_page:o.pageSize,page:o.current})},a||{})));case 1:case"end":return i.stop()}},l)})),m.apply(this,arguments)}function f(l,o){return s.apply(this,arguments)}function s(){return s=Object(b.a)(n.a.mark(function l(o,a){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(O.f)("/api/admin/settings/".concat(o),Object(h.a)({method:"GET",useCache:!1},a||{})));case 1:case"end":return i.stop()}},l)})),s.apply(this,arguments)}function r(l,o){return g.apply(this,arguments)}function g(){return g=Object(b.a)(n.a.mark(function l(o,a){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(O.f)("/api/admin/settings",Object(h.a)({method:"POST",headers:{"Content-Type":"application/json"},data:o},a||{})));case 1:case"end":return i.stop()}},l)})),g.apply(this,arguments)}function c(l,o,a){return p.apply(this,arguments)}function p(){return p=Object(b.a)(n.a.mark(function l(o,a,u){return n.a.wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(O.f)("/api/admin/settings/".concat(o),Object(h.a)({method:"PUT",headers:{"Content-Type":"application/json"},data:a},u||{})));case 1:case"end":return j.stop()}},l)})),p.apply(this,arguments)}function d(l,o){return M.apply(this,arguments)}function M(){return M=Object(b.a)(n.a.mark(function l(o,a){return n.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(O.f)("/api/admin/settings/".concat(o),Object(h.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},a||{})));case 1:case"end":return i.stop()}},l)})),M.apply(this,arguments)}function C(l){return x.apply(this,arguments)}function x(){return x=Object(b.a)(n.a.mark(function l(o){return n.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(O.f)("/api/admin/settings/groups",Object(h.a)({method:"GET",useCache:!1},o||{})));case 1:case"end":return u.stop()}},l)})),x.apply(this,arguments)}function D(l){return t.apply(this,arguments)}function t(){return t=Object(b.a)(n.a.mark(function l(o){return n.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",Object(O.f)("/api/admin/config",Object(h.a)({method:"GET",useCache:!1},o||{})));case 1:case"end":return u.stop()}},l)})),t.apply(this,arguments)}function _(l,o){return K.apply(this,arguments)}function K(){return K=Object(b.a)(n.a.mark(function l(o,a){var u,i;return n.a.wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return u=o.key,i=o.value,A.abrupt("return",Object(O.f)("/api/admin/config",Object(h.a)({method:"POST",data:{config:[{key:u,value:i}]}},a||{})));case 2:case"end":return A.stop()}},l)})),K.apply(this,arguments)}},"5ddx":function(G,v,e){"use strict";var h=e("9og8"),b=e("+L6B"),U=e("2/Rp"),n=e("tJVT"),O=e("WmNS"),P=e.n(O),m=e("q1tI"),f=e.n(m),s=e("9kvl"),r=e("Qiat"),g=e("VK58"),c=e("xvlK"),p=e("Xcxh"),d=e("y8nQ"),M=e("Vl3Y"),C=e("rmhi"),x=e("VMEa"),D=e("Qurx"),t=e("nKUr"),_=function(u){var i=Object(s.i)(),j=u.visible,A=u.onVisibleChange,R=u.onFinish,V=M.a.useForm(),W=Object(n.a)(V,1),T=W[0];return Object(m.useEffect)(function(){return function(){T.resetFields()}},[]),Object(t.jsx)(C.a,{form:T,title:i.formatMessage({id:"newSetting",defaultMessage:"newSetting"}),width:"30vw",visible:j,onVisibleChange:A,onFinish:R,children:Object(t.jsxs)(x.a.Group,{children:[Object(t.jsx)(D.a,{label:Object(t.jsx)(s.a,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key"}),Object(t.jsx)(D.a,{label:Object(t.jsx)(s.a,{id:"value",defaultMessage:"value"}),rules:[{required:!0}],width:"md",name:"value"})]})})},K=_,l=function(u){var i=u.user,j=u.isProfile,A=j===void 0?!1:j,R=Object(m.useRef)(),V=Object(s.i)(),W=Object(m.useState)(!1),T=Object(n.a)(W,2),z=T[0],J=T[1],Q=Object(m.useState)("PATCH"),Y=Object(n.a)(Q,2),k=Y[0],H=Y[1],X=[{title:Object(t.jsx)(s.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(t.jsx)(s.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInSearch:!0}],q=Object(m.useCallback)(function(y){var B=y&&Object.entries(y).map(function(N){return{key:N[0],value:N[1]}});return B},[i]);return Object(t.jsxs)(f.a.Fragment,{children:[Object(t.jsx)(r.a,{headerTitle:V.formatMessage({id:"menu.settings"}),actionRef:R,rowKey:"id",search:!1,toolBarRender:A?function(){return[Object(t.jsxs)(U.a,{type:"primary",onClick:function(){J(-1),H("PATCH")},children:[Object(t.jsx)(c.a,{})," ",Object(t.jsx)(s.a,{id:"pages.searchTable.new"})]},"primary"),Object(t.jsxs)(U.a,{color:"yellow",type:"primary",onClick:function(){J(-1),H("PUT")},children:[Object(t.jsx)(p.a,{})," ",Object(t.jsx)(s.a,{id:"user.settings.overwrite"})]},"primary")]}:!1,request:function(){return Object(g.d)(Number(i)).then(function(B){return B.success?{data:q(B.data)}:[]})},columns:X}),Object(t.jsx)(K,{id:z,visible:Number.isInteger(z),onVisibleChange:function(B){return B===!1&&J(!1)},onFinish:function(){var y=Object(h.a)(P.a.mark(function B(N){var Z;return P.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,Object(g.g)(Number(i),k,N);case 2:Z=E.sent,Z.success&&(J(!1),R.current&&R.current.reload());case 4:case"end":return E.stop()}},B)}));return function(B){return y.apply(this,arguments)}}()})]})},o=v.a=l},C8Qx:function(G,v,e){"use strict";var h=e("YDZB"),b=e("FJDo"),U=e("tneF"),n=e("Qurx"),O=e("BiO0"),P=e("VMEa"),m=e("q1tI"),f=e.n(m),s=e("9kvl"),r=e("nKUr"),g=e.n(r),c=function(d){var M=d.field,C=Object(s.i)(),x=function(t){switch(t.type){case"number":return Object(r.jsx)(b.a,{width:"md",name:t.name,label:Object(r.jsx)(s.a,{id:t.name}),tooltip:Object(r.jsx)(s.a,{id:t.name}),placeholder:C.formatMessage({id:t.name,defaultMessage:t.name}),min:1,max:1024,fieldProps:{step:1}});case"boolean":return Object(r.jsx)(U.a,{name:t.name,children:Object(r.jsx)(s.a,{id:t.name})});case"varchar":return Object(r.jsx)(n.a,{width:"md",name:t.name,label:Object(r.jsx)(s.a,{id:t.name}),tooltip:Object(r.jsx)(s.a,{id:t.name}),placeholder:C.formatMessage({id:t.name}),required:!0});case"text":return Object(r.jsx)(O.a,{width:"md",name:t.name,label:Object(r.jsx)(s.a,{id:t.name}),tooltip:Object(r.jsx)(s.a,{id:t.name}),placeholder:C.formatMessage({id:t.name}),required:!0});case"json":return Object(r.jsx)(P.a.Item,{name:t.name,label:Object(r.jsx)(s.a,{id:t.name}),tooltip:Object(r.jsx)(s.a,{id:t.name}),valuePropName:"value",children:Object(r.jsx)(h.a,{})})}};return Object(r.jsx)(r.Fragment,{children:x(M)})};v.a=c},"DBJ/":function(G,v,e){"use strict";var h=e("y8nQ"),b=e("Vl3Y"),U=e("etVw"),n=e("q1tI"),O=e.n(n),P=e("9kvl"),m=e("qFDU"),f=e("nKUr"),s=e.n(f),r=function(c){var p=c.onChange,d=c.url,M=c.name,C=c.extra,x=c.accept,D=c.data,t=c.wrapInForm,_=t===void 0?!0:t,K=c.title,l=Object(P.i)();return D&&D[M]&&delete D[M],Object(f.jsx)(m.a,{condition:_,wrap:function(a){return Object(f.jsx)(b.a,{children:a})},children:Object(f.jsx)(U.a,{title:K||Object(f.jsx)(P.a,{id:"upload_click_here"}),placeholder:l.formatMessage({id:"upload_click_here"}),onChange:p,label:Object(f.jsx)(P.a,{id:"upload"}),max:2,fieldProps:{data:D,accept:x,name:M,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(d),extra:C})})};v.a=r},Jfn2:function(G,v,e){"use strict";var h=e("k1fw"),b=e("XCrF"),U=e("1GRj"),n=e("PpiC"),O=e("q1tI"),P=e.n(O),m=e("nKUr"),f=e.n(m),s=function(g){var c=g.path,p=g.size,d=g.srcSizes,M=g.alt,C=M===void 0?"LMS Image":M,x=Object(n.a)(g,["path","size","srcSizes","alt"]),D="".concat("https://api-stage.escolalms.com","/api/images/img?path=").concat(c,"&w=").concat(d?d[0]:p),t=d&&d.map(function(_){return"".concat("https://api-stage.escolalms.com","/api/images/img?path=").concat(c,"&w=").concat(_," ").concat(_,"w")});return Object(m.jsx)("div",{className:"escolalms-image",children:Object(m.jsx)(U.a,Object(h.a)({src:D,srcSet:t&&t.join(","),alt:C},x))})};v.a=s},YDZB:function(G,v,e){"use strict";var h=e("2qtc"),b=e("kLXV"),U=e("7Kak"),n=e("9yH6"),O=e("+L6B"),P=e("2/Rp"),m=e("tJVT"),f=e("q1tI"),s=e.n(f),r=e("gU/Y"),g=e("9kvl"),c=e("u95b"),p=e.n(c),d=e("nKUr"),M=e.n(d),C=function(D){var t=D.value,_=D.onChange,K=Object(f.useState)(!1),l=Object(m.a)(K,2),o=l[0],a=l[1],u=Object(f.useCallback)(function(){a(!1)},[]),i=Object(f.useState)("code"),j=Object(m.a)(i,2),A=j[0],R=j[1];return Object(d.jsxs)("div",{children:[Object(d.jsx)(P.a,{type:"primary",onClick:function(){return a(!0)},size:"small",children:Object(d.jsx)(g.a,{id:"json_editor"})}),Object(d.jsxs)(b.a,{title:"JSON",visible:o,onOk:u,onCancel:u,children:[Object(d.jsxs)(n.a.Group,{onChange:function(W){return R(W.target.value)},value:A,children:[Object(d.jsx)(n.a,{value:"tree",children:"tree"}),Object(d.jsx)(n.a,{value:"view",children:"view"}),Object(d.jsx)(n.a,{value:"form",children:"form"}),Object(d.jsx)(n.a,{value:"code",children:"code"}),Object(d.jsx)(n.a,{value:"text",children:"text"})]}),Object(d.jsx)(r.a,{mode:A,value:t,onChange:function(W){return _&&_(W)}},A)]})]})};v.a=C},fWLy:function(G,v,e){"use strict";e.r(v);var h=e("T2oS"),b=e("W9HT"),U=e("miYZ"),n=e("tsqr"),O=e("k1fw"),P=e("9og8"),m=e("tJVT"),f=e("WmNS"),s=e.n(f),r=e("q1tI"),g=e.n(r),c=e("VMEa"),p=e("Qurx"),d=e("nhC9"),M=e("VK58"),C=e("tMyG"),x=e("DBJ/"),D=e("Jfn2"),t=e("Ty5D"),_=e("9kvl"),K=e("5ddx"),l=e("+up7"),o=e("C8Qx"),a=e("nKUr"),u=e.n(a);v.default=function(){var i=Object(t.h)(),j=Object(_.i)(),A=i.tab,R=A===void 0?"general":A,V=Object(r.useState)(),W=Object(m.a)(V,2),T=W[0],z=W[1],J=Object(r.useState)([]),Q=Object(m.a)(J,2),Y=Q[0],k=Q[1],H=Object(r.useState)([]),X=Object(m.a)(H,2),q=X[0],y=X[1],B=Object(r.useCallback)(Object(P.a)(s.a.mark(function S(){var E;return s.a.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,Object(l.a)();case 2:E=I.sent,E.success&&(k(E.data.escola_auth.additional_fields_required.value),y(E.data.escola_auth.additional_fields.value));case 4:case"end":return I.stop()}},S)})),[]);Object(r.useEffect)(function(){var S=function(){var E=Object(P.a)(s.a.mark(function F(){var I;return s.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,Object(M.e)();case 2:I=$.sent,I.success&&z(Object(O.a)(Object(O.a)({},I.data),{},{bio:I.data.bio||""}));case 4:case"end":return $.stop()}},F)}));return function(){return E.apply(this,arguments)}}();B(),S()},[]);var N=Object(r.useMemo)(function(){return{onFinish:function(){var S=Object(P.a)(s.a.mark(function F(I){var w;return s.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,Object(M.h)(I);case 2:w=L.sent,n.default.success(w.message);case 4:case"end":return L.stop()}},F)}));function E(F){return S.apply(this,arguments)}return E}(),initialValues:T}},[T]),Z=Object(r.useMemo)(function(){return{onFinish:function(){var S=Object(P.a)(s.a.mark(function F(I){var w;return s.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.next=2,Object(M.i)(I);case 2:w=L.sent,n.default.success(w.message);case 4:case"end":return L.stop()}},F)}));function E(F){return S.apply(this,arguments)}return E}(),initialValues:T}},[T]);return T?Object(a.jsx)(C.a,{title:Object(a.jsx)(_.a,{id:"my_profile"}),header:{breadcrumb:{routes:[{path:"users",breadcrumbName:j.formatMessage({id:"menu.Users"})},{path:"me",breadcrumbName:j.formatMessage({id:"my_profile"})},{path:String(R),breadcrumbName:j.formatMessage({id:String(R)})}]}},children:Object(a.jsxs)(d.a,{tabs:{type:"card",activeKey:R,onChange:function(E){return _.d.push("/users/me/".concat(E))}},children:[Object(a.jsx)(d.a.TabPane,{tab:Object(a.jsx)(_.a,{id:"general"}),children:Object(a.jsxs)(c.a,Object(O.a)(Object(O.a)({},N),{},{children:[Object(a.jsxs)(c.a.Group,{children:[Object(a.jsx)(p.a,{width:"md",name:"first_name",label:Object(a.jsx)(_.a,{id:"first_name"}),tooltip:Object(a.jsx)(_.a,{id:"first_name"}),placeholder:j.formatMessage({id:"first_name"}),required:!0}),Object(a.jsx)(p.a,{width:"md",name:"last_name",label:Object(a.jsx)(_.a,{id:"last_name"}),tooltip:Object(a.jsx)(_.a,{id:"last_name"}),placeholder:j.formatMessage({id:"last_name"}),required:!0})]}),Object(a.jsx)(o.a,{additionalFields:q,requiredFields:Y,id:T.id}),Object(a.jsx)(c.a.Group,{children:Object(a.jsxs)(c.a.Item,{name:"avatar",label:Object(a.jsx)(_.a,{id:"avatar"}),children:[T.path_avatar&&Object(a.jsx)(D.a,{path:T.path_avatar,size:600,width:200}),Object(a.jsx)(x.a,{url:"/api/profile/upload-avatar",name:"avatar",accept:"image/*",onChange:function(E){E.file.status==="done"&&E.file.response.success&&z(E.file.response.data)}})]})})]}))},"general"),Object(a.jsx)(d.a.TabPane,{tab:Object(a.jsx)(_.a,{id:"change_password"}),children:Object(a.jsxs)(c.a,Object(O.a)(Object(O.a)({},Z),{},{children:[Object(a.jsx)(c.a.Group,{children:Object(a.jsx)(p.a.Password,{width:"md",name:"current_password",label:Object(a.jsx)(_.a,{id:"current_password"}),placeholder:j.formatMessage({id:"current_password"}),required:!0})}),Object(a.jsxs)(c.a.Group,{children:[Object(a.jsx)(p.a.Password,{width:"md",name:"new_password",label:Object(a.jsx)(_.a,{id:"new_password"}),placeholder:j.formatMessage({id:"new_password"}),required:!0}),Object(a.jsx)(p.a.Password,{width:"md",name:"new_confirm_password",label:Object(a.jsx)(_.a,{id:"new_confirm_password"}),placeholder:j.formatMessage({id:"new_confirm_password"}),required:!0})]})]}))},"change_password"),Object(a.jsx)(d.a.TabPane,{tab:Object(a.jsx)(_.a,{id:"user.settings"}),children:Object(a.jsx)(K.a,{user:String(T.id),isProfile:!0})},"user_settings")]})}):Object(a.jsx)(b.a,{})}}}]);
