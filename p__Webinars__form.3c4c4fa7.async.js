(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{"4f6N":function(V,E,e){"use strict";var d=e("2qtc"),P=e("kLXV"),l=e("9kvl"),c=e("nKUr"),M=e.n(c),g=function(o){var v=o.visible,O=o.setManage;return Object(c.jsx)(P.a,{width:"600px",title:Object(c.jsx)(l.a,{id:"course.validate_edit.header",defaultMessage:"course.validate_edit.header"}),visible:v,onOk:function(){return O({showModal:!1,disableEdit:!1,clicked:!0})},onCancel:function(){return O({showModal:!1,disableEdit:!0,clicked:!1})},okText:"OK",cancelText:"Cancel",children:Object(c.jsx)("p",{children:Object(c.jsx)(l.a,{id:"course.validate_edit.content",defaultMessage:"course.validate_edit.content"})})})};E.a=g},CiXh:function(V,E,e){"use strict";var d=e("2qtc"),P=e("kLXV"),l=e("9kvl"),c=e("nKUr"),M=e.n(c),g=function(o){var v=o.open,O=o.onOk,j=o.onCancel,h=o.title,f=o.content,t=o.okText,I=o.loading;return Object(c.jsx)(P.a,{width:"600px",title:h!=null?h:Object(c.jsx)(l.a,{id:"confirmModal.title"}),open:v,onOk:O,onCancel:j,okText:t!=null?t:Object(c.jsx)(l.a,{id:"save"}),cancelText:Object(c.jsx)(l.a,{id:"cancel"}),confirmLoading:I,children:f!=null?f:Object(c.jsx)("p",{children:Object(c.jsx)(l.a,{id:"confirmModal.content"})})})};E.a=g},FJDo:function(V,E,e){"use strict";var d=e("VTBJ"),P=e("Ff2n"),l=e("nKUr"),c=e.n(l),M=e("q1tI"),g=e.n(M),C=e("adzw"),o=["fieldProps","min","proFieldProps","max"],v=function(j,h){var f=j.fieldProps,t=j.min,I=j.proFieldProps,U=j.max,r=Object(P.a)(j,o);return Object(l.jsx)(C.a,Object(d.a)({valueType:"digit",fieldProps:Object(d.a)({min:t,max:U},f),ref:h,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:I},r))};E.a=g.a.forwardRef(v)},eFHa:function(V,E,e){"use strict";e.d(E,"a",function(){return C});var d=e("k1fw"),P=e("tJVT"),l=e("q1tI"),c=e("/Tr7"),M=e("jIYg");function g(o){return Object(M.a)(1,arguments),Object(c.a)(o).getTime()<Date.now()}function C(){var o=Object(l.useState)({showModal:!1,disableEdit:!1,clicked:!1}),v=Object(P.a)(o,2),O=v[0],j=v[1],h=function(t){(t==null?void 0:t.status)==="published"&&t!==null&&t!==void 0&&t.active_from&&g(new Date(t==null?void 0:t.active_from))&&!O.clicked?j(Object(d.a)(Object(d.a)({},O),{},{showModal:!1,disableEdit:!0,clicked:!1})):j(Object(d.a)(Object(d.a)({},O),{},{showModal:!1,disableEdit:!1,clicked:!1}))};return{manageCourseEdit:O,setManageCourseEdit:j,validateCourseEdit:h}}},q34N:function(V,E,e){"use strict";var d=e("tJVT"),P=e("0eZe"),l=e("q1tI"),c=e.n(l),M=e("nKUr"),g=e.n(M),C=function(v){var O=v.productable,j=v.type,h=j===void 0?"card":j,f=Object(l.useState)("attributes"),t=Object(d.a)(f,2),I=t[0],U=t[1];return Object(M.jsx)(P.a,{productable:O,tab:I,onTabChange:function(K){return U(K)},type:h})};E.a=C},tixb:function(V,E,e){"use strict";e.r(E);var d=e("14J3"),P=e("BMrR"),l=e("jCWc"),c=e("kPKH"),M=e("fOrg"),g=e("+KLJ"),C=e("+L6B"),o=e("2/Rp"),v=e("T2oS"),O=e("W9HT"),j=e("miYZ"),h=e("tsqr"),f=e("qLMh"),t=e("k1fw"),I=e("9og8"),U=e("tJVT"),r=e("q1tI"),K=e.n(r),b=e("VMEa"),N=e("Qurx"),w=e("yj/a"),J=e("VTBJ"),X=e("Ff2n"),a=e("nKUr"),z=e("lS/g"),H=e("adzw"),Y=["fieldProps","proFieldProps"],G="dateTime",Z=K.a.forwardRef(function(D,p){var Q=D.fieldProps,u=D.proFieldProps,_=Object(X.a)(D,Y),F=Object(r.useContext)(z.b);return Object(a.jsx)(H.a,Object(J.a)({ref:p,fieldProps:Object(J.a)({getPopupContainer:F.getPopupContainer},Q),valueType:G,proFieldProps:u,filedConfig:{valueType:G,customLightMode:!0}},_))}),ie=Z,ce=e("BiO0"),L=e("nhC9"),oe=e("hd5d"),ue=e("tMyG"),s=e("9kvl"),je=e("Ty5D"),ee=e("EmS3"),me=e("0WSk"),ne=e("Gn8c"),ae=e("c+yx"),Oe=e("rnuo"),be=e("eFHa"),ve=e("4f6N"),fe=e("q34N"),pe=e("5RzD"),Ee=e("CiXh"),T;(function(D){D.ATTRIBUTES="attributes",D.PRODUCT="product",D.MEDIA="media",D.TAGS="tags",D.BRANDING="branding",D.USER_SUBMISSION="user_submission"})(T||(T={}));var Pe=function(){var p=Object(s.l)(),Q=Object(je.l)(),u=Q.webinar,_=Q.tab,F=_===void 0?T.ATTRIBUTES:_,R=u==="new",ge=Object(r.useState)(),de=Object(U.a)(ge,2),i=de[0],k=de[1],te=Object(be.a)(),n=te.manageCourseEdit,W=te.setManageCourseEdit,le=te.validateCourseEdit,he=b.a.useForm(),Me=Object(U.a)(he,1),se=Me[0],xe=Object(r.useCallback)(Object(I.a)(Object(f.a)().mark(function x(){var m,y;return Object(f.a)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.next=2,Object(ee.d)(Number(u));case 2:m=A.sent,m.success&&(F===T.ATTRIBUTES&&le(m.data),k(Object(t.a)(Object(t.a)({},m.data),{},{tags:(y=m.data.tags)===null||y===void 0?void 0:y.map(ae.l)})));case 4:case"end":return A.stop()}},x)})),[u]);Object(r.useEffect)(function(){if(R){k({name:"new"});return}xe()},[u]);var q=Object(r.useMemo)(function(){return{onValuesChange:function(){W(Object(t.a)(Object(t.a)({},n),{},{valuesChanged:!0}))},onFinish:function(){var x=Object(I.a)(Object(f.a)().mark(function y($){var A,B;return Object(f.a)().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:if(!n.disableEdit){S.next=3;break}return W({showModal:!0,disableEdit:!0,clicked:!1}),S.abrupt("return");case 3:if(A=Object(t.a)(Object(t.a)({},$),{},{active_from:new Date(String($.active_from))||(i==null?void 0:i.active_from)||null,active_to:new Date(String($.active_to))||(i==null?void 0:i.active_to)||null,image_url:i==null?void 0:i.image_url,image_path:(i==null?void 0:i.image_url)&&Object(ae.k)(i.image_url),logotype_url:i==null?void 0:i.logotype_url,logotype_path:(i==null?void 0:i.logotype_path)&&Object(ae.k)(i.logotype_path),trainers:$.trainers&&$.trainers.map(function(re){return typeof re=="object"?re.id:re})}),!R){S.next=11;break}return S.next=7,Object(ee.a)(A);case 7:B=S.sent,B.success&&s.f.push("/courses/webinars/".concat(B.data.id)),S.next=15;break;case 11:return S.next=13,Object(ee.e)(Number(u),A);case 13:B=S.sent,B.success&&(le(B.data),s.f.push("/courses/webinars/".concat(B.data.id,"/").concat(F)));case 15:h.b.success(B.message),W(Object(t.a)(Object(t.a)({},n),{},{showConfirmModal:!1,loading:!1,valuesChanged:!1}));case 17:case"end":return S.stop()}},y)}));function m(y){return x.apply(this,arguments)}return m}(),initialValues:i,form:se}},[i,u,F,n,se]);return i?Object(a.jsxs)(ue.a,{title:R?Object(a.jsx)(s.a,{id:"menu.Webinars"}):Object(a.jsx)(s.a,{id:"webinar.edit"}),header:{breadcrumb:{routes:[{path:"webinars",breadcrumbName:p.formatMessage({id:"menu.Webinars"})},{path:String(u),breadcrumbName:p.formatMessage({id:"form"})},{path:"/",breadcrumbName:p.formatMessage({id:String(i.name)})},{path:String(F),breadcrumbName:p.formatMessage({id:String(F)})}]}},children:[Object(a.jsxs)(L.a,{tabs:{type:"card",activeKey:F,onChange:function(m){m!==T.ATTRIBUTES&&n.valuesChanged?W(Object(t.a)(Object(t.a)({},n),{},{showConfirmModal:!0})):s.f.push("/courses/webinars/".concat(u,"/").concat(m))}},children:[Object(a.jsxs)(L.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"attributes"}),children:[n.disableEdit&&Object(a.jsx)(g.a,{closable:!0,style:{marginBottom:"20px"},type:"warning",message:Object(a.jsx)(s.a,{id:"course_edit_warning_message",defaultMessage:"course_edit_warning_message"}),action:Object(a.jsx)(o.a,{onClick:function(){return W({showModal:!0,disableEdit:!0,clicked:!0})},type:"primary",children:Object(a.jsx)(s.a,{id:"questionnaire.submit",defaultMessage:"questionnaire.submit"})})}),Object(a.jsx)(ve.a,{visible:n.showModal,setManage:W}),Object(a.jsxs)(b.a,Object(t.a)(Object(t.a)({},q),{},{children:[Object(a.jsxs)(b.a.Group,{children:[Object(a.jsx)(N.a,{width:"md",name:"name",label:Object(a.jsx)(s.a,{id:"name"}),tooltip:Object(a.jsx)(s.a,{id:"name"}),placeholder:p.formatMessage({id:"name",defaultMessage:"name"}),required:!0,disabled:n.disableEdit}),Object(a.jsx)(N.a,{width:"sm",name:"duration",label:Object(a.jsx)(s.a,{id:"duration_freemode"}),tooltip:Object(a.jsx)(s.a,{id:"duration_freemode_description"}),placeholder:p.formatMessage({id:"duration_freemode",defaultMessage:"duration_freemode"}),disabled:n.disableEdit}),Object(a.jsx)(w.a,{name:"status",width:"sm",label:Object(a.jsx)(s.a,{id:"status"}),valueEnum:{draft:p.formatMessage({id:"draft",defaultMessage:"draft"}),published:p.formatMessage({id:"published",defaultMessage:"published"}),archived:p.formatMessage({id:"archived",defaultMessage:"archived"})},initialValue:{draft:p.formatMessage({id:"draft",defaultMessage:"draft"})},placeholder:p.formatMessage({id:"status"}),rules:[{required:!0,message:Object(a.jsx)(s.a,{id:"select"})}],disabled:n.disableEdit})]}),Object(a.jsxs)(b.a.Group,{children:[Object(a.jsx)(ie,{width:"sm",name:"active_from",label:Object(a.jsx)(s.a,{id:"active_from"}),tooltip:Object(a.jsx)(s.a,{id:"active_from"}),placeholder:p.formatMessage({id:"active_from",defaultMessage:"active_from"}),disabled:n.disableEdit}),Object(a.jsx)(ie,{width:"sm",name:"active_to",label:Object(a.jsx)(s.a,{id:"active_to"}),tooltip:Object(a.jsx)(s.a,{id:"active_to"}),placeholder:p.formatMessage({id:"active_to",defaultMessage:"active_to"}),disabled:n.disableEdit}),Object(a.jsx)(b.a.Item,{name:"trainers",label:Object(a.jsx)(s.a,{id:"tutor"}),valuePropName:"value",children:Object(a.jsx)(me.a,{multiple:!0})})]}),Object(a.jsx)(b.a.Group,{children:Object(a.jsx)(ce.a,{name:"short_desc",label:Object(a.jsx)(s.a,{id:"short_description"}),tooltip:Object(a.jsx)(s.a,{id:"short_description"}),width:"lg"})}),Object(a.jsx)(b.a.Item,{name:"agenda",label:Object(a.jsx)(s.a,{id:"program"}),tooltip:Object(a.jsx)(s.a,{id:"program"}),valuePropName:"value",children:Object(a.jsx)(oe.a,{directory:"webinars/".concat(u,"/wysiwyg")})}),Object(a.jsx)(b.a.Item,{name:"description",label:Object(a.jsx)(s.a,{id:"description"}),tooltip:Object(a.jsx)(s.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(a.jsx)(oe.a,{directory:"webinars/".concat(u,"/wysiwyg")})})]}))]},T.ATTRIBUTES)," ",!R&&Object(a.jsx)(L.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"product"}),disabled:n.disableEdit,children:u&&Object(a.jsx)(fe.a,{productable:{class_type:"App\\Models\\Webinar",class_id:u,name:String(i.name),quantity:1}})},T.PRODUCT),!R&&Object(a.jsx)(L.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"media"}),disabled:n.disableEdit,children:Object(a.jsx)(b.a,Object(t.a)(Object(t.a)({},q),{},{children:Object(a.jsx)(ne.a,{folder:"webinar/".concat(u),title:"image",action:"/api/admin/webinars/".concat(u),src_name:"image_url",form_name:"image",getUploadedSrcField:function(m){return m.file.response.data.image_url},setPath:function(m){return k(function(y){return Object(t.a)(Object(t.a)({},y),m)})}})}))},T.MEDIA),!R&&Object(a.jsx)(L.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"tags"}),disabled:n.disableEdit,children:Object(a.jsx)(P.a,{children:Object(a.jsx)(c.a,{span:12,children:Object(a.jsx)(b.a,Object(t.a)(Object(t.a)({},q),{},{children:Object(a.jsx)(b.a.Item,{label:Object(a.jsx)(s.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(a.jsx)(Oe.a,{})})}))})})},T.TAGS)," ",!R&&Object(a.jsx)(L.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"branding"}),disabled:n.disableEdit,children:Object(a.jsx)(b.a,Object(t.a)(Object(t.a)({},q),{},{children:Object(a.jsx)(ne.a,{folder:"webinar/".concat(u),title:"logotype",action:"/api/admin/webinars/".concat(u),src_name:"logotype_url",form_name:"logotype",getUploadedSrcField:function(m){return m.file.response.data.logotype_url},setPath:function(m){return k(function(y){return Object(t.a)(Object(t.a)({},y),m)})}})}))},T.BRANDING)," ",!R&&Object(a.jsx)(L.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"user_submission"}),disabled:n.disableEdit,children:u&&Object(a.jsx)(pe.a,{id:Number(u),type:"App\\Models\\Webinar"})},T.USER_SUBMISSION)]}),Object(a.jsx)(Ee.a,{open:!!n.showConfirmModal,onOk:function(){W(Object(t.a)(Object(t.a)({},n),{},{loading:!0})),se.submit()},onCancel:function(){W(Object(t.a)(Object(t.a)({},n),{},{showConfirmModal:!1}))},loading:!!n.loading})]}):Object(a.jsx)(O.a,{})},Ce=E.default=Pe},"yj/a":function(V,E,e){"use strict";var d=e("VTBJ"),P=e("Ff2n"),l=e("nKUr"),c=e.n(l),M=e("uX+g"),g=e("q1tI"),C=e.n(g),o=e("lS/g"),v=e("adzw"),O=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],j=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],h=C.a.forwardRef(function(r,K){var b=r.fieldProps,N=r.children,w=r.params,J=r.proFieldProps,X=r.mode,a=r.valueEnum,z=r.request,H=r.showSearch,Y=r.options,G=Object(P.a)(r,O),Z=Object(g.useContext)(o.b);return Object(l.jsx)(v.a,Object(d.a)(Object(d.a)({valueEnum:Object(M.a)(a),request:z,params:w,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(d.a)({options:Y,mode:X,showSearch:H,getPopupContainer:Z.getPopupContainer},b),ref:K,proFieldProps:J},G),{},{children:N}))}),f=C.a.forwardRef(function(r,K){var b=r.fieldProps,N=r.children,w=r.params,J=r.proFieldProps,X=r.mode,a=r.valueEnum,z=r.request,H=r.options,Y=Object(P.a)(r,j),G=Object(d.a)({options:H,mode:X||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},b),Z=Object(g.useContext)(o.b);return Object(l.jsx)(v.a,Object(d.a)(Object(d.a)({valueEnum:Object(M.a)(a),request:z,params:w,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(d.a)({getPopupContainer:Z.getPopupContainer},G),ref:K,proFieldProps:J},Y),{},{children:N}))}),t=h,I=f,U=t;U.SearchSelect=I,U.displayName="ProFormComponent",E.a=U}}]);

//# sourceMappingURL=p__Webinars__form.3c4c4fa7.async.js.map