(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{"0TUn":function(se,h,e){"use strict";e.d(h,"c",function(){return I}),e.d(h,"a",function(){return L}),e.d(h,"b",function(){return J});var i=e("qLMh"),a=e("k1fw"),m=e("9og8"),o=e("9kvl");function I(r,u){return x.apply(this,arguments)}function x(){return x=Object(m.a)(Object(i.a)().mark(function r(u,f){return Object(i.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(o.i)("/api/model-fields",Object(a.a)({method:"GET",params:u},f||{})));case 1:case"end":return s.stop()}},r)})),x.apply(this,arguments)}function L(r,u){return d.apply(this,arguments)}function d(){return d=Object(m.a)(Object(i.a)().mark(function r(u,f){return Object(i.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(o.i)("/api/admin/model-fields",Object(a.a)({method:"POST",data:u},f||{})));case 1:case"end":return s.stop()}},r)})),d.apply(this,arguments)}function J(r,u){return b.apply(this,arguments)}function b(){return b=Object(m.a)(Object(i.a)().mark(function r(u,f){return Object(i.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(o.i)("/api/admin/model-fields",Object(a.a)({method:"DELETE",data:u},f||{})));case 1:case"end":return s.stop()}},r)})),b.apply(this,arguments)}},"5qq5":function(se,h,e){"use strict";var i=e("7Kak"),a=e("9yH6"),m=e("VTBJ"),o=e("Ff2n"),I=e("nKUr"),x=e.n(I),L=e("uX+g"),d=e("q1tI"),J=e.n(d),b=e("WFLz"),r=e("adzw"),u=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],f=J.a.forwardRef(function(c,D){var K=c.fieldProps,p=c.options,N=c.radioType,Y=c.layout,z=c.proFieldProps,$=c.valueEnum,W=Object(o.a)(c,u);return Object(I.jsx)(r.a,Object(m.a)(Object(m.a)({valueType:N==="button"?"radioButton":"radio",ref:D,valueEnum:Object(L.a)($,void 0)},W),{},{fieldProps:Object(m.a)({options:p,layout:Y},K),proFieldProps:z,filedConfig:{customLightMode:!0}}))}),n=J.a.forwardRef(function(c,D){var K=c.fieldProps,p=c.children;return Object(I.jsx)(a.a,Object(m.a)(Object(m.a)({},K),{},{ref:D,children:p}))}),s=Object(b.a)(n,{valuePropName:"checked",ignoreWidth:!0}),y=s;y.Group=f,y.Button=a.a.Button,y.displayName="ProFormComponent",h.a=y},YDZB:function(se,h,e){"use strict";var i=e("2qtc"),a=e("kLXV"),m=e("7Kak"),o=e("9yH6"),I=e("+L6B"),x=e("2/Rp"),L=e("tJVT"),d=e("q1tI"),J=e.n(d),b=e("gU/Y"),r=e("9kvl"),u=e("u95b"),f=e.n(u),n=e("nKUr"),s=e.n(n),y=function(D){var K=D.value,p=D.onChange,N=Object(d.useState)(!1),Y=Object(L.a)(N,2),z=Y[0],$=Y[1],W=Object(d.useCallback)(function(){$(!1)},[]),ne=Object(d.useState)("code"),Q=Object(L.a)(ne,2),H=Q[0],X=Q[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)(x.a,{type:"primary",onClick:function(){return $(!0)},size:"small",children:Object(n.jsx)(r.a,{id:"json_editor"})}),Object(n.jsxs)(a.a,{title:"JSON",visible:z,onOk:W,onCancel:W,children:[Object(n.jsxs)(o.a.Group,{onChange:function(P){return X(P.target.value)},value:H,children:[Object(n.jsx)(o.a,{value:"tree",children:"tree"}),Object(n.jsx)(o.a,{value:"view",children:"view"}),Object(n.jsx)(o.a,{value:"form",children:"form"}),Object(n.jsx)(o.a,{value:"code",children:"code"}),Object(n.jsx)(o.a,{value:"text",children:"text"})]}),Object(n.jsx)(b.a,{mode:H,value:K,onChange:function(P){return p&&p(P)}},H)]})]})};h.a=y},i3PA:function(se,h,e){"use strict";e.r(h);var i=e("q1tI"),a=e("9kvl"),m=e("tMyG"),o=e("nhC9"),I=e("P2fV"),x=e("NJEC"),L=e("5Dmo"),d=e("3S7+"),J=e("+L6B"),b=e("2/Rp"),r=e("qLMh"),u=e("miYZ"),f=e("tsqr"),n=e("9og8"),s=e("tJVT"),y=e("Qiat"),c=e("xvlK"),D=e("G3dp"),K=e("/MfK"),p=e("0TUn"),N=e("k1fw"),Y=e("y8nQ"),z=e("Vl3Y"),$=e("rmhi"),W=e("Qurx"),ne=e("5qq5"),Q=e("VMEa"),H=e("FJDo"),X=e("YDZB"),t=e("nKUr"),P;(function(C){C.BOOLEAN="boolean",C.NUMBER="number",C.VARCHAR="varchar",C.TEXT="text",C.JSON="json"})(P||(P={}));var ie=function(g){var R=g.visible,S=g.onVisibleChange,re=g.onResponse,Z=g.class_type,w=g.name,v=w===void 0?"new":w,k=g.fields,q=k===void 0?[]:k,T=Object(a.l)(),ee=z.a.useForm(),G=Object(s.a)(ee,1),V=G[0],te=Object(i.useCallback)(function(){var M=Object(n.a)(Object(r.a)().mark(function A(F){return Object(r.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,Object(p.a)(Object(N.a)(Object(N.a)({},F),{},{class_type:Z,rules:JSON.stringify(F.rules),extra:JSON.stringify(F.extra)})).then(function(j){j.success&&re(j.data)});case 2:return l.abrupt("return",!1);case 3:case"end":return l.stop()}},A)}));return function(A){return M.apply(this,arguments)}}(),[V]);return Object(i.useEffect)(function(){if(v!=="new"){var M=q.find(function(A){return A.name===v});M&&V.setFieldsValue(M)}else V.resetFields()},[v,V,q]),Object(t.jsxs)($.a,{form:V,title:T.formatMessage({id:v==="new"?"newModelField":"editModelField",defaultMessage:v==="new"?"new Model Field":"edit Model Field"}),width:"800px",visible:R,onVisibleChange:S,onFinish:te,children:[Object(t.jsx)(W.a,{required:!0,label:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),tooltip:Object(t.jsx)(a.a,{id:"name_tooltip",defaultMessage:"name_tooltip"}),rules:[{required:!0}],width:"md",name:"name"}),Object(t.jsx)(ne.a.Group,{rules:[{required:!0}],name:"type",label:Object(t.jsx)(a.a,{id:"type",defaultMessage:"type"}),tooltip:Object(t.jsx)(a.a,{id:"type_tooltip",defaultMessage:"type_tooltip"}),options:Object.keys(P).map(function(M){return{label:T.formatMessage({id:"model.".concat(P[M])}),value:P[M]}})}),Object(t.jsx)(W.a,{width:"md",name:"default",label:Object(t.jsx)(a.a,{id:"default",defaultMessage:"default"}),tooltip:Object(t.jsx)(a.a,{id:"default_tooltip",defaultMessage:"default_tooltip"}),placeholder:T.formatMessage({id:"default"})}),Object(t.jsx)(Q.a.Item,{name:"rules",label:Object(t.jsxs)("span",{children:[Object(t.jsx)(a.a,{id:"rules",defaultMessage:"rules"})," ",Object(t.jsx)("a",{rel:"noreferrer",href:"https://laravel.com/docs/9.x/validation#available-validation-rules",target:"_blank",children:Object(t.jsx)(a.a,{id:"available-validation-rules",defaultMessage:"available-validation-rules"})})]}),tooltip:Object(t.jsx)(a.a,{id:"available-validation-rules-tooltip"}),valuePropName:"value",children:Object(t.jsx)(X.a,{})}),Object(t.jsx)(H.a,{width:"md",name:"visibility",label:Object(t.jsx)(a.a,{id:"visibility"}),tooltip:Object(t.jsx)(a.a,{id:"visibility_tooltip"}),placeholder:T.formatMessage({id:"visibility",defaultMessage:"visibility"}),min:1,max:1024,fieldProps:{step:1},rules:[{validator:function(){var M=Object(n.a)(Object(r.a)().mark(function F(_,l){return Object(r.a)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!(Math.pow(2,Math.ceil(Math.log2(l)))-l)){O.next=2;break}return O.abrupt("return",Promise.reject(new Error(T.formatMessage({id:"notPowerOfTwo",defaultMessage:"notPowerOfTwo"}))));case 2:return O.abrupt("return",Promise.resolve());case 3:case"end":return O.stop()}},F)}));function A(F,_){return M.apply(this,arguments)}return A}()}]}),Object(t.jsx)(Q.a.Item,{name:"extra",label:Object(t.jsx)(a.a,{id:"extra"}),tooltip:Object(t.jsx)(a.a,{id:"extra_tooltip"}),valuePropName:"value",children:Object(t.jsx)(X.a,{})})]})},oe=ie,de=[{title:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!0,sorter:!0},{title:Object(t.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",sorter:!0},{title:Object(t.jsx)(a.a,{id:"default",defaultMessage:"default"}),dataIndex:"default",hideInSearch:!0}],ue=function(g){var R=g.class_type,S=Object(i.useRef)(),re=Object(i.useState)(!1),Z=Object(s.a)(re,2),w=Z[0],v=Z[1],k=Object(a.l)(),q=Object(i.useState)(!1),T=Object(s.a)(q,2),ee=T[0],G=T[1],V=Object(i.useState)([]),te=Object(s.a)(V,2),M=te[0],A=te[1],F=Object(i.useCallback)(function(){var _=Object(n.a)(Object(r.a)().mark(function l(j){var O,ae,B,U;return Object(r.a)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return O=j.class_type_to_remove,ae=j.name,v(!0),B=f.b.loading(Object(t.jsx)(a.a,{id:"loading",defaultMessage:"loading"})),E.prev=3,E.next=6,Object(p.b)({class_type:O,name:ae}).then(function(le){v(!1),le.success&&f.b.success(le.message)});case 6:return B(),v(!1),(U=S.current)===null||U===void 0||U.reload(),E.abrupt("return",!0);case 12:return E.prev=12,E.t0=E.catch(3),B(),f.b.error(Object(t.jsx)(a.a,{id:"error",defaultMessage:"error"})),v(!1),E.abrupt("return",!1);case 18:case"end":return E.stop()}},l,null,[[3,12]])}));return function(l){return _.apply(this,arguments)}}(),[S]);return Object(t.jsxs)(i.Fragment,{children:[Object(t.jsx)(oe,{fields:M,onResponse:function(){G(!1),S.current&&S.current.reload()},class_type:R,name:ee,visible:typeof ee=="string",onVisibleChange:function(l){return l===!1&&G(!1)}}),Object(t.jsx)(y.a,{search:!1,headerTitle:k.formatMessage({id:"ModelFields",defaultMessage:"Model Fields"}),toolBarRender:function(){return[Object(t.jsxs)(b.a,{type:"primary",onClick:function(){return G("new")},children:[Object(t.jsx)(c.a,{})," ",Object(t.jsx)(a.a,{id:"new",defaultMessage:"new"})]},"new")]},loading:w,actionRef:S,rowKey:"id",request:function(l,j){var O=l.pageSize,ae=l.current,B=j&&Object.entries(j)[0];return v(!0),Object(p.c)({page:ae,per_page:O,class_type:R,order_by:B&&B[0],order:B?B[1]==="ascend"?"ASC":"DESC":void 0}).then(function(U){return v(!1),U.success?(A(U.data),{data:U.data,total:U.data.length,success:!0}):[]})},columns:[].concat(de,[{title:Object(t.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(l,j){return[Object(t.jsx)(d.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(b.a,{type:"primary",icon:Object(t.jsx)(D.a,{}),onClick:function(){return G(j.name)}})},"edit"),Object(t.jsx)(x.a,{title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return j.name&&F({class_type_to_remove:R,name:j.name})},okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(d.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(b.a,{type:"primary",icon:Object(t.jsx)(K.a,{}),danger:!0})})},"delete")]}}])})]})},ce=ue,je=function(){return Object(t.jsx)(m.a,{children:Object(t.jsxs)(o.a,{tabs:{type:"card",activeKey:"fields",onChange:function(R){switch(R){case"list":return a.f.push("/users");default:return a.f.push("/users/".concat(R))}}},children:[Object(t.jsx)(o.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"list"})},"list"),Object(t.jsx)(o.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"ModelFields"}),children:Object(t.jsx)(ce,{class_type:"EscolaLms\\Auth\\Models\\User"})},"fields")]})})},Oe=h.default=je}}]);
