(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"8j+T":function(j,_,e){"use strict";function s(u){for(var O in u)_.hasOwnProperty(O)||(_[O]=u[O])}Object.defineProperty(_,"__esModule",{value:!0}),s(e("Xljc"))},"Ecy+":function(j,_,e){"use strict";var s=e("fOrg"),u=e("+KLJ"),O=e("g9YV"),m=e("wCAj"),f=e("T2oS"),i=e("W9HT"),r=e("+L6B"),t=e("2/Rp"),n=e("k1fw"),a=e("tJVT"),o=e("q1tI"),c=e.n(o),l=e("I+Rq"),d=e("w/VK"),v=e("9kvl"),D=e("nhC9"),U=e("Mo4S"),g=e("8j+T"),x=e.n(g),E=e("nKUr"),P=e.n(E),R=[{title:Object(E.jsx)(v.a,{id:"label",defaultMessage:"label"}),dataIndex:"label",key:"label"},{title:Object(E.jsx)(v.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",key:"value"}],K=function(b){var M=b.metric,F=b.header,I=F===void 0?!0:F,W=b.asDonut,z=W===void 0?!1:W,H=b.customLabelTitle,C=b.customLabelContent,J=Object(o.useState)({mode:"init"}),V=Object(a.a)(J,2),h=V[0],y=V[1],G=Object(v.l)(),N={appendPadding:10,angleField:"value",colorField:"label",radius:.9,label:{type:"inner",offset:"-30%",content:function(T){var A=T.percent;return A>=.01?"".concat((A*100).toFixed(0),"%"):""},style:{fontSize:14,textAlign:"center"}},interactions:[{type:"element-active"}],legend:{itemValue:{alignRight:!0,formatter:function(T,A){if(C&&"value"in h){var L=h.value.find(function(S){var B=S.label;return B===A.name});return L?C(L):T}return T}}}},X={appendPadding:20,innerRadius:.6,label:Object(n.a)(Object(n.a)({},N.label),{},{offset:"-50%"}),legend:{itemWidth:void 0,itemName:{formatter:function(T){return H?H(T):T}},offsetX:-24,itemValue:{formatter:function(T,A){if(C&&"value"in h){var L=h.value.find(function(S){var B=S.label;return B===A.value});return L?C(L):void 0}}}}},w=Object(n.a)(Object(n.a)({},N),z?X:{});Object(o.useEffect)(function(){y({mode:"loading"}),Object(d.a)({metric:M}).then(function(p){p.success?y({mode:"loaded",value:p.data}):y({mode:"error",error:p.message})}).catch(function(p){return y({mode:"error",error:p.toString()})})},[M]);var Q=Object(o.useCallback)(function(){if(h.mode==="loaded"){var p={filename:M.split("\\").join("-"),fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!0,title:G.formatMessage({id:M.split("\\").pop()}),useTextFile:!1,useBom:!0,useKeysAsHeaders:!0},T=new g.ExportToCsv(p);T.generateCsv(h.value)}},[h]);return Object(E.jsxs)(D.a,{title:I&&Object(E.jsx)(v.a,{id:M.split("\\").pop(),defaultMessage:M.split("\\").pop()}),extra:I&&Object(E.jsxs)(t.a,{icon:Object(E.jsx)(U.a,{}),size:"small",onClick:function(){return Q()},children:[" ",Object(E.jsx)(v.a,{id:"download"}),"\xA0","CSV"]}),headerBordered:!0,children:[h.mode==="loading"&&Object(E.jsx)(i.a,{}),h.mode==="loaded"&&Object(E.jsxs)("div",{children:[Object(E.jsx)(l.a,Object(n.a)(Object(n.a)({},w),{},{data:h.value})),I&&Object(E.jsx)(m.a,{pagination:!1,size:"small",dataSource:h.value,columns:R})]}),h.mode==="error"&&Object(E.jsx)(u.a,{message:h.error,type:"error"})]})};_.a=K},"I+Rq":function(j,_,e){"use strict";var s=e("q1tI"),u=e.n(s),O=e("ma/q"),m=e("ZIEt"),f=e("QpZ9"),i=e("GzfL"),r=e("Scwr"),t=function(a,o){var c={};for(var l in a)Object.prototype.hasOwnProperty.call(a,l)&&o.indexOf(l)<0&&(c[l]=a[l]);if(a!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,l=Object.getOwnPropertySymbols(a);d<l.length;d++)o.indexOf(l[d])<0&&Object.prototype.propertyIsEnumerable.call(a,l[d])&&(c[l[d]]=a[l[d]]);return c},n=Object(s.forwardRef)(function(a,o){var c=a.chartRef,l=a.style,d=l===void 0?{height:"inherit"}:l,v=a.className,D=a.loading,U=a.loadingTemplate,g=a.errorTemplate,x=t(a,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),E=Object(m.a)(O.b,x),P=E.chart,R=E.container;return Object(s.useEffect)(function(){Object(f.a)(c,P.current)},[P.current]),Object(s.useImperativeHandle)(o,function(){return{getChart:function(){return P.current}}}),u.a.createElement(i.a,{errorTemplate:g},D&&u.a.createElement(r.a,{loadingTemplate:U,theme:a.theme}),u.a.createElement("div",{className:v,style:d,ref:R}))});_.a=n},Mo4S:function(j,_,e){"use strict";var s=e("VTBJ"),u=e("q1tI"),O={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8a12.04 12.04 0 0010.2 18.4h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5a12.04 12.04 0 00-10.1-18.5h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z"}}]},name:"file-excel",theme:"outlined"},m=O,f=e("6VBw"),i=function(n,a){return u.createElement(f.a,Object(s.a)(Object(s.a)({},n),{},{ref:a,icon:m}))};i.displayName="FileExcelOutlined";var r=_.a=u.forwardRef(i)},Xljc:function(j,_,e){"use strict";Object.defineProperty(_,"__esModule",{value:!0});var s=function(){function r(){}return r.EOL=`\r
`,r.BOM="\uFEFF",r.DEFAULT_FIELD_SEPARATOR=",",r.DEFAULT_DECIMAL_SEPARATOR=".",r.DEFAULT_QUOTE='"',r.DEFAULT_SHOW_TITLE=!1,r.DEFAULT_TITLE="My Generated Report",r.DEFAULT_FILENAME="generated",r.DEFAULT_SHOW_LABELS=!1,r.DEFAULT_USE_TEXT_FILE=!1,r.DEFAULT_USE_BOM=!0,r.DEFAULT_HEADER=[],r.DEFAULT_KEYS_AS_HEADERS=!1,r}();_.CsvConfigConsts=s,_.ConfigDefaults={filename:s.DEFAULT_FILENAME,fieldSeparator:s.DEFAULT_FIELD_SEPARATOR,quoteStrings:s.DEFAULT_QUOTE,decimalSeparator:s.DEFAULT_DECIMAL_SEPARATOR,showLabels:s.DEFAULT_SHOW_LABELS,showTitle:s.DEFAULT_SHOW_TITLE,title:s.DEFAULT_TITLE,useTextFile:s.DEFAULT_USE_TEXT_FILE,useBom:s.DEFAULT_USE_BOM,headers:s.DEFAULT_HEADER,useKeysAsHeaders:s.DEFAULT_KEYS_AS_HEADERS};var u=function(){function r(t){this._csv="";var n=t||{};this._options=i({},_.ConfigDefaults,n),this._options.useKeysAsHeaders&&this._options.headers&&this._options.headers.length>0&&console.warn("Option to use object keys as headers was set, but headers were still passed!")}return Object.defineProperty(r.prototype,"options",{get:function(){return this._options},set:function(n){this._options=i({},_.ConfigDefaults,n)},enumerable:!0,configurable:!0}),r.prototype.generateCsv=function(t,n){if(n===void 0&&(n=!1),this._csv="",this._parseData(t),this._options.useBom&&(this._csv+=s.BOM),this._options.showTitle&&(this._csv+=this._options.title+`\r

`),this._getHeaders(),this._getBody(),this._csv==""){console.log("Invalid data");return}if(n)return this._csv;var a=this._options.useTextFile?"plain":"csv",o=this._options.useTextFile?".txt":".csv",c=new Blob([this._csv],{type:"text/"+a+";charset=utf8;"});if(navigator.msSaveBlob){var l=this._options.filename.replace(/ /g,"_")+o;navigator.msSaveBlob(c,l)}else{var d=this._options.useTextFile?"text":"csv",v="data:attachment/"+d+";charset=utf-8,"+encodeURI(this._csv),D=document.createElement("a");D.href=URL.createObjectURL(c),D.setAttribute("visibility","hidden"),D.download=this._options.filename.replace(/ /g,"_")+o,document.body.appendChild(D),D.click(),document.body.removeChild(D)}},r.prototype._getHeaders=function(){if(!(!this._options.showLabels&&!this._options.useKeysAsHeaders)){var t=this._options.useKeysAsHeaders,n=t?Object.keys(this._data[0]):this._options.headers;if(n.length>0){for(var a="",o=0;o<n.length;o++)a+=n[o]+this._options.fieldSeparator;a=a.slice(0,-1),this._csv+=a+s.EOL}}},r.prototype._getBody=function(){for(var t=Object.keys(this._data[0]),n=0;n<this._data.length;n++){for(var a="",o=0;o<t.length;o++){var c=t[o];a+=this._formatData(this._data[n][c])+this._options.fieldSeparator}a=a.slice(0,-1),this._csv+=a+s.EOL}},r.prototype._formatData=function(t){return this._options.decimalSeparator==="locale"&&this._isFloat(t)?t.toLocaleString():this._options.decimalSeparator!=="."&&this._isFloat(t)?t.toString().replace(".",this._options.decimalSeparator):typeof t=="string"?(t=t.replace(/"/g,'""'),(this._options.quoteStrings||t.indexOf(",")>-1||t.indexOf(`
`)>-1||t.indexOf("\r")>-1)&&(t=this._options.quoteStrings+t+this._options.quoteStrings),t):typeof t=="boolean"?t?"TRUE":"FALSE":t},r.prototype._isFloat=function(t){return+t===t&&(!isFinite(t)||Boolean(t%1))},r.prototype._parseData=function(t){return this._data=typeof t!="object"?JSON.parse(t):t,this._data},r}();_.ExportToCsv=u;var O=Object.prototype.hasOwnProperty,m=Object.prototype.propertyIsEnumerable;function f(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function i(r){for(var t=[],n=1;n<arguments.length;n++)t[n-1]=arguments[n];for(var a,o=f(r),c,l=1;l<arguments.length;l++){a=Object(arguments[l]);for(var d in a)O.call(a,d)&&(o[d]=a[d]);if(Object.getOwnPropertySymbols){c=Object.getOwnPropertySymbols(a);for(var v=0;v<c.length;v++)m.call(a,c[v])&&(o[c[v]]=a[c[v]])}}return o}},dgLD:function(j,_,e){"use strict";e.r(_);var s=e("q1tI"),u=e.n(s),O=e("tMyG"),m=e("Ecy+"),f=e("nhC9"),i=e("nKUr"),r=e.n(i);_.default=function(){return Object(i.jsxs)(O.a,{children:[Object(i.jsxs)(f.a,{split:"vertical",children:[Object(i.jsx)(f.a,{colSpan:12,layout:"center",children:Object(i.jsx)(m.a,{metric:"EscolaLms\\Reports\\Metrics\\CoursesMoneySpentMetric"})}),Object(i.jsx)(f.a,{colSpan:12,layout:"center",children:Object(i.jsx)(m.a,{metric:"EscolaLms\\Reports\\Metrics\\CoursesPopularityMetric"})})]}),Object(i.jsxs)(f.a,{split:"vertical",children:[Object(i.jsx)(f.a,{colSpan:12,layout:"center",children:Object(i.jsx)(m.a,{metric:"EscolaLms\\Reports\\Metrics\\CoursesSecondsSpentMetric"})}),Object(i.jsx)(f.a,{colSpan:12,layout:"center",children:Object(i.jsx)(m.a,{metric:"EscolaLms\\Reports\\Metrics\\TutorsPopularityMetric"})})]})]})}},"w/VK":function(j,_,e){"use strict";e.d(_,"a",function(){return f});var s=e("qLMh"),u=e("k1fw"),O=e("9og8"),m=e("9kvl");function f(r,t){return i.apply(this,arguments)}function i(){return i=Object(O.a)(Object(s.a)().mark(function r(t,n){return Object(s.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(m.i)("/api/admin/reports/report",Object(u.a)({params:t,method:"GET",useCache:!1},n||{})));case 1:case"end":return o.stop()}},r)})),i.apply(this,arguments)}}}]);
