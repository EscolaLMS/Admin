(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{"+up7":function(y,O,e){"use strict";e.d(O,"f",function(){return D}),e.d(O,"d",function(){return _}),e.d(O,"b",function(){return T}),e.d(O,"h",function(){return n}),e.d(O,"c",function(){return s}),e.d(O,"e",function(){return r}),e.d(O,"a",function(){return v}),e.d(O,"g",function(){return u});var h=e("k1fw"),P=e("9og8"),g=e("WmNS"),a=e.n(g),f=e("9kvl");function D(d,c){return l.apply(this,arguments)}function l(){return l=Object(P.a)(a.a.mark(function d(c,M){return a.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(f.f)("/api/admin/settings",Object(h.a)({method:"GET",useCache:!1,params:Object(h.a)(Object(h.a)({},c),{},{per_page:c.pageSize,page:c.current})},M||{})));case 1:case"end":return o.stop()}},d)})),l.apply(this,arguments)}function _(d,c){return j.apply(this,arguments)}function j(){return j=Object(P.a)(a.a.mark(function d(c,M){return a.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(f.f)("/api/admin/settings/".concat(c),Object(h.a)({method:"GET",useCache:!1},M||{})));case 1:case"end":return o.stop()}},d)})),j.apply(this,arguments)}function T(d,c){return p.apply(this,arguments)}function p(){return p=Object(P.a)(a.a.mark(function d(c,M){return a.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(f.f)("/api/admin/settings",Object(h.a)({method:"POST",headers:{"Content-Type":"application/json"},data:c},M||{})));case 1:case"end":return o.stop()}},d)})),p.apply(this,arguments)}function n(d,c,M){return A.apply(this,arguments)}function A(){return A=Object(P.a)(a.a.mark(function d(c,M,m){return a.a.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",Object(f.f)("/api/admin/settings/".concat(c),Object(h.a)({method:"PUT",headers:{"Content-Type":"application/json"},data:M},m||{})));case 1:case"end":return I.stop()}},d)})),A.apply(this,arguments)}function s(d,c){return i.apply(this,arguments)}function i(){return i=Object(P.a)(a.a.mark(function d(c,M){return a.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(f.f)("/api/admin/settings/".concat(c),Object(h.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},M||{})));case 1:case"end":return o.stop()}},d)})),i.apply(this,arguments)}function r(d){return E.apply(this,arguments)}function E(){return E=Object(P.a)(a.a.mark(function d(c){return a.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",Object(f.f)("/api/admin/settings/groups",Object(h.a)({method:"GET",useCache:!1},c||{})));case 1:case"end":return m.stop()}},d)})),E.apply(this,arguments)}function v(d){return t.apply(this,arguments)}function t(){return t=Object(P.a)(a.a.mark(function d(c){return a.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",Object(f.f)("/api/admin/config",Object(h.a)({method:"GET",useCache:!1},c||{})));case 1:case"end":return m.stop()}},d)})),t.apply(this,arguments)}function u(d,c){return b.apply(this,arguments)}function b(){return b=Object(P.a)(a.a.mark(function d(c,M){var m,o;return a.a.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return m=c.key,o=c.value,C.abrupt("return",Object(f.f)("/api/admin/config",Object(h.a)({method:"POST",data:{config:[{key:m,value:o}]}},M||{})));case 2:case"end":return C.stop()}},d)})),b.apply(this,arguments)}},"5ddx":function(y,O,e){"use strict";var h=e("9og8"),P=e("+L6B"),g=e("2/Rp"),a=e("tJVT"),f=e("WmNS"),D=e.n(f),l=e("q1tI"),_=e.n(l),j=e("9kvl"),T=e("Qiat"),p=e("VK58"),n=e("xvlK"),A=e("Xcxh"),s=e("y8nQ"),i=e("Vl3Y"),r=e("rmhi"),E=e("VMEa"),v=e("Qurx"),t=e("nKUr"),u=function(m){var o=Object(j.i)(),I=m.visible,C=m.onVisibleChange,B=m.onFinish,K=i.a.useForm(),x=Object(a.a)(K,1),R=x[0];return Object(l.useEffect)(function(){return function(){R.resetFields()}},[]),Object(t.jsx)(r.a,{form:R,title:o.formatMessage({id:"newSetting",defaultMessage:"newSetting"}),width:"30vw",visible:I,onVisibleChange:C,onFinish:B,children:Object(t.jsxs)(E.a.Group,{children:[Object(t.jsx)(v.a,{label:Object(t.jsx)(j.a,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key"}),Object(t.jsx)(v.a,{label:Object(t.jsx)(j.a,{id:"value",defaultMessage:"value"}),rules:[{required:!0}],width:"md",name:"value"})]})})},b=u,d=function(m){var o=m.user,I=m.isProfile,C=I===void 0?!1:I,B=Object(l.useRef)(),K=Object(j.i)(),x=Object(l.useState)(!1),R=Object(a.a)(x,2),F=R[0],W=R[1],z=Object(l.useState)("PATCH"),G=Object(a.a)(z,2),N=G[0],V=G[1],J=[{title:Object(t.jsx)(j.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(t.jsx)(j.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInSearch:!0}],Q=Object(l.useCallback)(function(L){var U=L&&Object.entries(L).map(function($){return{key:$[0],value:$[1]}});return U},[o]);return Object(t.jsxs)(_.a.Fragment,{children:[Object(t.jsx)(T.a,{headerTitle:K.formatMessage({id:"menu.settings"}),actionRef:B,rowKey:"id",search:!1,toolBarRender:C?function(){return[Object(t.jsxs)(g.a,{type:"primary",onClick:function(){W(-1),V("PATCH")},children:[Object(t.jsx)(n.a,{})," ",Object(t.jsx)(j.a,{id:"pages.searchTable.new"})]},"primary"),Object(t.jsxs)(g.a,{color:"yellow",type:"primary",onClick:function(){W(-1),V("PUT")},children:[Object(t.jsx)(A.a,{})," ",Object(t.jsx)(j.a,{id:"user.settings.overwrite"})]},"primary")]}:!1,request:function(){return Object(p.d)(Number(o)).then(function(U){return U.success?{data:Q(U.data)}:[]})},columns:J}),Object(t.jsx)(b,{id:F,visible:Number.isInteger(F),onVisibleChange:function(U){return U===!1&&W(!1)},onFinish:function(){var L=Object(h.a)(D.a.mark(function U($){var w;return D.a.wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.next=2,Object(p.g)(Number(o),N,$);case 2:w=S.sent,w.success&&(W(!1),B.current&&B.current.reload());case 4:case"end":return S.stop()}},U)}));return function(U){return L.apply(this,arguments)}}()})]})},c=O.a=d},BAh9:function(y,O,e){"use strict";e.d(O,"a",function(){return D}),e.d(O,"b",function(){return _}),e.d(O,"e",function(){return T}),e.d(O,"d",function(){return n}),e.d(O,"c",function(){return A});var h=e("k1fw"),P=e("9og8"),g=e("WmNS"),a=e.n(g),f=e("9kvl");function D(i,r){return l.apply(this,arguments)}function l(){return l=Object(P.a)(a.a.mark(function i(r,E){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(f.f)("/api/admin/file/list",Object(h.a)({method:"GET",params:r},E||{})));case 1:case"end":return t.stop()}},i)})),l.apply(this,arguments)}function _(i,r){return j.apply(this,arguments)}function j(){return j=Object(P.a)(a.a.mark(function i(r,E){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(f.f)("/api/admin/file/find",Object(h.a)({method:"GET",params:r},E||{})));case 1:case"end":return t.stop()}},i)})),j.apply(this,arguments)}function T(i,r,E){return p.apply(this,arguments)}function p(){return p=Object(P.a)(a.a.mark(function i(r,E,v){var t;return a.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return t=new FormData,t.append("file[]",r),t.append("target",E),b.abrupt("return",Object(f.f)("/api/admin/file/upload",Object(h.a)({method:"POST",data:t},v||{})));case 4:case"end":return b.stop()}},i)})),p.apply(this,arguments)}var n=function(r){var E=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat("https://api-stage.escolalms.com","/api/images/img?path=").concat(r,"&w=").concat(E)};function A(i,r){return s.apply(this,arguments)}function s(){return s=Object(P.a)(a.a.mark(function i(r,E){return a.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(f.f)("/api/admin/file/delete",Object(h.a)({method:"DELETE",data:{url:r}},E||{})));case 1:case"end":return t.stop()}},i)})),s.apply(this,arguments)}},C8Qx:function(y,O,e){"use strict";var h=e("q1tI"),P=e.n(h),g=e("VMEa"),a=e("Qurx"),f=e("tneF"),D=e("9kvl"),l=e("hd5d"),_=e("nKUr"),j=e.n(_),T;(function(s){s.text="text",s.option="option",s.richtext="richtext"})(T||(T={}));var p=function(i){return i.split("_")[1]},n=function(i){return i.split("_")[0]},A=function(i){var r=i.additionalFields,E=i.requiredFields,v=i.id,t=Object(D.i)();return Object(_.jsxs)(P.a.Fragment,{children:[Object(_.jsxs)(g.a.Group,{children:[r&&r.filter(function(u){return n(u)===T.text}).map(function(u){return Object(_.jsx)(a.a,{required:E.includes(u),width:"md",name:u,label:Object(_.jsx)(D.a,{id:p(u)}),tooltip:Object(_.jsx)(D.a,{id:p(u)}),placeholder:t.formatMessage({id:u})})}),r&&r.filter(function(u){return n(u)===T.option}).map(function(u){return Object(_.jsx)(f.a,{name:u,children:Object(_.jsx)(D.a,{id:p(u)})})})]}),Object(_.jsx)(g.a.Group,{children:r&&r.filter(function(u){return n(u)===T.richtext}).map(function(u){return Object(_.jsx)(g.a.Item,{name:u,label:p(u),tooltip:"The editor is WYSIWYG and includes formatting tools whilst retaining the ability to write markdown shortcuts inline and output plain Markdown.",valuePropName:"value",children:Object(_.jsx)(l.a,{directory:"users/".concat(v,"/wysiwyg")})})})})]})};O.a=A},"DBJ/":function(y,O,e){"use strict";var h=e("y8nQ"),P=e("Vl3Y"),g=e("etVw"),a=e("q1tI"),f=e.n(a),D=e("9kvl"),l=e("qFDU"),_=e("nKUr"),j=e.n(_),T=function(n){var A=n.onChange,s=n.url,i=n.name,r=n.extra,E=n.accept,v=n.data,t=n.wrapInForm,u=t===void 0?!0:t,b=n.title,d=Object(D.i)();return v&&v[i]&&delete v[i],Object(_.jsx)(l.a,{condition:u,wrap:function(M){return Object(_.jsx)(P.a,{children:M})},children:Object(_.jsx)(g.a,{title:b||Object(_.jsx)(D.a,{id:"upload_click_here"}),placeholder:d.formatMessage({id:"upload_click_here"}),onChange:A,label:Object(_.jsx)(D.a,{id:"upload"}),max:2,fieldProps:{data:v,accept:E,name:i,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(s),extra:r})})};O.a=T},Jfn2:function(y,O,e){"use strict";var h=e("k1fw"),P=e("XCrF"),g=e("1GRj"),a=e("PpiC"),f=e("q1tI"),D=e.n(f),l=e("nKUr"),_=e.n(l),j=function(p){var n=p.path,A=p.size,s=p.srcSizes,i=p.alt,r=i===void 0?"LMS Image":i,E=Object(a.a)(p,["path","size","srcSizes","alt"]),v="".concat("https://api-stage.escolalms.com","/api/images/img?path=").concat(n,"&w=").concat(s?s[0]:A),t=s&&s.map(function(u){return"".concat("https://api-stage.escolalms.com","/api/images/img?path=").concat(n,"&w=").concat(u," ").concat(u,"w")});return Object(l.jsx)("div",{className:"escolalms-image",children:Object(l.jsx)(g.a,Object(h.a)({src:v,srcSet:t&&t.join(","),alt:r},E))})};O.a=j},etVw:function(y,O,e){"use strict";var h=e("DZo9"),P=e("8z0m"),g=e("+L6B"),a=e("2/Rp"),f=e("wx14"),D=e("q1tI"),l=e.n(D),_=e("z7Xi"),j=e("WFLz"),T=function(n,A){var s=n.fieldProps,i=n.name,r=n.action,E=n.accept,v=n.listType,t=n.title,u=t===void 0?"\u5355\u51FB\u4E0A\u4F20":t,b=n.max,d=n.icon,c=d===void 0?l.a.createElement(_.a,null):d,M=n.value,m=n.buttonProps,o=n.onChange,I=n.disabled,C=n.proFieldProps,B=n.fileList,K=(b===void 0||!M||(M==null?void 0:M.length)<b)&&(C==null?void 0:C.mode)!=="read",x=(v!=null?v:s==null?void 0:s.listType)==="picture-card";return l.a.createElement(P.a,Object(f.a)({action:r,accept:E,ref:A,name:i||"file",listType:v||"picture",fileList:B!=null?B:M},s,{onChange:function(F){var W;o==null||o(F),s==null||(W=s.onChange)===null||W===void 0||W.call(s,F)}}),K&&(x?l.a.createElement("span",null,c," ",u):l.a.createElement(a.a,Object(f.a)({disabled:I||(s==null?void 0:s.disabled)},m),c,u)))};O.a=Object(j.a)(l.a.forwardRef(T),{getValueFromEvent:function(n){return n.fileList}})},hd5d:function(y,O,e){"use strict";var h=e("9og8"),P=e("WmNS"),g=e.n(P),a=e("q1tI"),f=e.n(a),D=e("3Ef1"),l=e.n(D),_=e("BAh9"),j=e("vtG9"),T=e.n(j),p=e("9kvl"),n=e("nKUr"),A=e.n(n),s=function(r){var E=r.value,v=r.onChange,t=r.directory,u=t===void 0?"/wysiwyg":t,b=Object(p.i)();return Object(n.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(n.jsx)(l.a,{uploadImage:function(){var d=Object(h.a)(g.a.mark(function c(M){var m,o;return g.a.wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,Object(_.e)(M,u);case 2:if(m=C.sent,!m.success){C.next=6;break}return o=m.data[0].name.includes("/")?m.data[0].name:"".concat(u).concat(m.data[0].name),C.abrupt("return",Object(_.d)(o,1e3));case 6:throw new Error("Error while uploading");case 7:case"end":return C.stop()}},c)}));return function(c){return d.apply(this,arguments)}}(),defaultValue:E||"",onChange:function(c){return v&&v(c())},placeholder:b.formatMessage({id:"wysiwyg_placeholder"})})})};O.a=s},qFDU:function(y,O,e){"use strict";var h=e("q1tI"),P=e.n(h);O.a=function(g){var a=g.condition,f=g.children,D=g.wrap;return a?P.a.cloneElement(D(f)):f}},tneF:function(y,O,e){"use strict";var h=e("sRBo"),P=e("kaz8"),g=e("wx14"),a=e("VTBJ"),f=e("Ff2n"),D=e("q1tI"),l=e.n(D),_=e("adzw"),j=e("uX+g"),T=e("WFLz"),p=["options","fieldProps","proFieldProps","valueEnum"],n=l.a.forwardRef(function(r,E){var v=r.options,t=r.fieldProps,u=r.proFieldProps,b=r.valueEnum,d=Object(f.a)(r,p);return l.a.createElement(_.a,Object(g.a)({ref:E,valueType:"checkbox",mode:"edit",valueEnum:Object(j.a)(b,void 0),fieldProps:Object(a.a)({options:v},t),proFieldProps:u},d))}),A=l.a.forwardRef(function(r,E){var v=r.fieldProps,t=r.children;return l.a.createElement(P.a,Object(g.a)({ref:E},v),t)}),s=Object(T.a)(A,{valuePropName:"checked"}),i=s;i.Group=n,O.a=i},vtG9:function(y,O,e){}}]);
