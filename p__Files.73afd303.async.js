(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"/qDX":function(E,l,t){},"14J3":function(E,l,t){"use strict";var d=t("cIOH"),m=t.n(d),_=t("1GLa")},"3wW7":function(E,l,t){},BAh9:function(E,l,t){"use strict";t.d(l,"a",function(){return f}),t.d(l,"d",function(){return B}),t.d(l,"c",function(){return P}),t.d(l,"b",function(){return y});var d=t("k1fw"),m=t("9og8"),_=t("WmNS"),c=t.n(_),u=t("9kvl");function f(i,O){return p.apply(this,arguments)}function p(){return p=Object(m.a)(c.a.mark(function i(O,a){return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(u.e)("/api/admin/file/list",Object(d.a)({method:"GET",params:O},a||{})));case 1:case"end":return o.stop()}},i)})),p.apply(this,arguments)}function B(i,O,a){return D.apply(this,arguments)}function D(){return D=Object(m.a)(c.a.mark(function i(O,a,e){var o;return c.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return o=new FormData,o.append("file[]",O),o.append("target",a),g.abrupt("return",Object(u.e)("/api/admin/file/upload",Object(d.a)({method:"POST",data:o},e||{})));case 4:case"end":return g.stop()}},i)})),D.apply(this,arguments)}var P=function(O){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat("https://escola-lms-api.stage.etd24.pl","/api/images/img?path=").concat(O,"&w=").concat(a)};function y(i,O){return j.apply(this,arguments)}function j(){return j=Object(m.a)(c.a.mark(function i(O,a){return c.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(u.e)("/api/admin/file/delete",Object(d.a)({method:"DELETE",data:{url:O}},a||{})));case 1:case"end":return o.stop()}},i)})),j.apply(this,arguments)}},"DBJ/":function(E,l,t){"use strict";var d=t("y8nQ"),m=t("Vl3Y"),_=t("etVw"),c=t("q1tI"),u=t.n(c),f=t("nKUr"),p=t.n(f),B=function(P){var y=P.onChange,j=P.url,i=P.name,O=P.extra,a=P.accept,e=P.data;return Object(f.jsx)(m.a,{children:Object(f.jsx)(_.a,{title:"Click here to upload",placeholder:"Click here to upload",onChange:y,name:i,label:"Upload",max:2,fieldProps:{data:e,accept:a,name:i,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://escola-lms-api.stage.etd24.pl").concat(j),extra:O})})};l.a=B},DjyN:function(E,l,t){"use strict";var d=t("cIOH"),m=t.n(d),_=t("Urep"),c=t.n(_),u=t("OaEy")},IzEo:function(E,l,t){"use strict";var d=t("cIOH"),m=t.n(d),_=t("lnY3"),c=t.n(_),u=t("Znn+"),f=t("14J3"),p=t("jCWc")},JGo8:function(E,l,t){},Mwp2:function(E,l,t){"use strict";var d=t("cIOH"),m=t.n(d),_=t("3wW7"),c=t.n(_),u=t("R9oj"),f=t("T2oS"),p=t("DjyN"),B=t("1GLa")},Urep:function(E,l,t){},etVw:function(E,l,t){"use strict";var d=t("cIOH"),m=t("JGo8"),_=t("+L6B"),c=t("MXD1"),u=t("5Dmo"),f=t("8z0m"),p=t("2/Rp"),B=t("q1tI"),D=t.n(B),P=t("z7Xi"),y=t("WFLz");function j(){return j=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var s in o)Object.prototype.hasOwnProperty.call(o,s)&&(a[s]=o[s])}return a},j.apply(this,arguments)}var i=function(e,o){var s=e.fieldProps,g=e.name,H=e.action,$=e.accept,A=e.listType,F=e.title,n=F===void 0?"\u5355\u51FB\u4E0A\u4F20":F,W=e.max,z=e.icon,S=z===void 0?D.a.createElement(P.a,null):z,T=e.value,Y=e.buttonProps,h=e.onChange,U=e.disabled,C=e.proFieldProps,I=e.fileList,K=(W===void 0||!T||(T==null?void 0:T.length)<W)&&(C==null?void 0:C.mode)!=="read",J=(A!=null?A:s==null?void 0:s.listType)==="picture-card";return D.a.createElement(f.a,j({action:H,accept:$,ref:o,name:g||"file",listType:A||"picture",fileList:I!=null?I:T},s,{onChange:function(b){h==null||h(b),(s==null?void 0:s.onChange)&&(s==null||s.onChange(b))}}),K&&(J?D.a.createElement("span",null,S," ",n):D.a.createElement(p.a,j({disabled:U||(s==null?void 0:s.disabled)},Y),S,n)))},O=l.a=Object(y.a)(D.a.forwardRef(i),{getValueFromEvent:function(e){return e.fileList}})},jCWc:function(E,l,t){"use strict";var d=t("cIOH"),m=t.n(d),_=t("1GLa")},lnY3:function(E,l,t){},tU7J:function(E,l,t){"use strict";var d=t("cIOH"),m=t.n(d),_=t("/qDX"),c=t.n(_),u=t("5Dmo"),f=t("5NDa")},u4ym:function(E,l,t){"use strict";t.r(l);var d=t("IzEo"),m=t("bx4M"),_=t("tU7J"),c=t("wFql"),u=t("q1tI"),f=t.n(u),p=t("tMyG"),B=t("DjyN"),D=t("NUBc"),P=t("Mwp2"),y=t("VXEj"),j=t("+L6B"),i=t("2/Rp"),O=t("oBTY"),a=t("k1fw"),e=t("tJVT"),o=t("DYRE"),s=t("zeV3"),g=t("BAh9"),H=t("/MfK"),$=t("mAF4"),A=t("dF/Y"),F=t("DBJ/"),n=t("nKUr"),W=function(h){var U=h.directory,C=h.onUploaded;return Object(n.jsxs)(s.b,{align:"start",children:[Object(n.jsxs)(c.a.Text,{children:["Current dir is ",Object(n.jsx)(c.a.Text,{code:!0,children:U})]}),Object(n.jsx)(F.a,{url:"/api/admin/file/upload",name:"file[]",data:{target:U},onChange:function(K){return K.file.status==="done"&&C(U)}})]})},z=function(h){var U=h.defaultDirectory,C=U===void 0?"/":U,I=h.onFile,K=Object(u.useState)({loading:!1,directory:C,current_page:1,data:void 0,per_page:1,last_page:1,total:0}),J=Object(e.a)(K,2),M=J[0],b=J[1],G=Object(u.useRef)(),L=Object(u.useCallback)(function(v){b(function(r){return Object(a.a)(Object(a.a)({},r),{},{loading:v})})},[]),x=Object(u.useCallback)(function(v){var r,N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,X=function(){return G.current&&G.current.abort()};return X(),G.current=new AbortController,L(!0),Object(g.a)({directory:v,page:N},{signal:(r=G.current)===null||r===void 0?void 0:r.signal}).then(function(V){V.success&&b(function(Z){return Object(a.a)(Object(a.a)(Object(a.a)({},Z),V.data),{},{data:[{url:v.split("/").slice(0,-1).join("/"),name:"..",created_at:"",mime:"directory"}].concat(Object(O.a)(V.data.data.map(function(R){return Object(a.a)(Object(a.a)({},R),{},{url:R.mime==="directory"?"".concat(v,"/").concat(R.name):R.url})}))).filter(function(R){return v==="/"?R.name!=="..":!0}),directory:v,loading:!1})})}).catch(function(){return L(!1)}),function(){X()}},[L]);Object(u.useEffect)(function(){return x(C)},[C,x]);var Q=Object(u.useCallback)(function(v){L(!0),Object(g.b)(v).then(function(){x(M.directory)}).catch(function(){L(!1)})},[x,L,M.directory]);return Object(n.jsxs)("div",{className:"file-browser",children:[Object(n.jsx)(y.b,{loading:M.loading,size:"small",itemLayout:"horizontal",dataSource:M.data,header:Object(n.jsx)(W,{directory:M.directory,onUploaded:function(r){return x(r)}}),footer:Object(n.jsx)(W,{directory:M.directory,onUploaded:function(r){return x(r)}}),renderItem:function(r){return Object(n.jsx)(y.b.Item,{actions:r.mime!=="directory"?[Object(n.jsx)(i.a,{type:"default",danger:!0,icon:Object(n.jsx)(H.a,{}),size:"small",onClick:function(){return Q(r.url)}})]:[],children:Object(n.jsx)(y.b.Item.Meta,{avatar:r.mime==="directory"?Object(n.jsx)(i.a,{type:"primary",icon:Object(n.jsx)($.a,{}),size:"small",onClick:function(){return x(r.url)}}):Object(n.jsx)("a",{href:r.url,target:"_blank",children:Object(n.jsx)(i.a,{type:"default",icon:Object(n.jsx)(A.a,{}),size:"small"})}),description:Object(n.jsx)(f.a.Fragment,{children:Object(n.jsx)(i.a,{type:"text",size:"small",onClick:function(){return r.mime==="directory"?x(r.url):I&&I(r.url)},children:r.name})})})})}}),Object(n.jsx)(D.a,{pageSizeOptions:[],current:M.current_page,total:M.total,pageSize:M.per_page,onChange:function(r){return x(M.directory,r)}})]})},S=z,T=l.default=function(){return Object(n.jsx)(p.a,{children:Object(n.jsxs)(m.a,{children:[Object(n.jsx)(c.a.Text,{strong:!0,children:"Pages files list will be here"}),Object(n.jsx)(S,{})]})})}}}]);
