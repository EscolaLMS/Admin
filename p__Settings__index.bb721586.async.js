"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4471],{88284:function(ge,x,e){var r=e(1413),_=e(67294),y=e(32857),g=e(84089),v=function(o,C){return _.createElement(g.Z,(0,r.Z)((0,r.Z)({},o),{},{ref:C,icon:y.Z}))},h=_.forwardRef(v);x.Z=h},28508:function(ge,x,e){var r=e(1413),_=e(67294),y=e(89503),g=e(84089),v=function(o,C){return _.createElement(g.Z,(0,r.Z)((0,r.Z)({},o),{},{ref:C,icon:y.Z}))},h=_.forwardRef(v);x.Z=h},69753:function(ge,x,e){var r=e(1413),_=e(67294),y=e(49495),g=e(84089),v=function(o,C){return _.createElement(g.Z,(0,r.Z)((0,r.Z)({},o),{},{ref:C,icon:y.Z}))},h=_.forwardRef(v);x.Z=h},47389:function(ge,x,e){var r=e(1413),_=e(67294),y=e(27363),g=e(84089),v=function(o,C){return _.createElement(g.Z,(0,r.Z)((0,r.Z)({},o),{},{ref:C,icon:y.Z}))},h=_.forwardRef(v);x.Z=h},55725:function(ge,x,e){var r=e(1413),_=e(67294),y=e(85118),g=e(84089),v=function(o,C){return _.createElement(g.Z,(0,r.Z)((0,r.Z)({},o),{},{ref:C,icon:y.Z}))},h=_.forwardRef(v);x.Z=h},56717:function(ge,x,e){var r=e(1413),_=e(67294),y=e(93696),g=e(84089),v=function(o,C){return _.createElement(g.Z,(0,r.Z)((0,r.Z)({},o),{},{ref:C,icon:y.Z}))},h=_.forwardRef(v);x.Z=h},51042:function(ge,x,e){var r=e(1413),_=e(67294),y=e(42110),g=e(84089),v=function(o,C){return _.createElement(g.Z,(0,r.Z)((0,r.Z)({},o),{},{ref:C,icon:y.Z}))},h=_.forwardRef(v);x.Z=h},63434:function(ge,x,e){var r=e(1413),_=e(45987),y=e(22270),g=e(84567),v=e(67294),h=e(90789),m=e(11547),o=e(85893),C=["options","fieldProps","proFieldProps","valueEnum"],A=v.forwardRef(function(O,D){var F=O.options,P=O.fieldProps,b=O.proFieldProps,t=O.valueEnum,M=(0,_.Z)(O,C);return(0,o.jsx)(m.Z,(0,r.Z)({ref:D,valueType:"checkbox",valueEnum:(0,y.h)(t,void 0),fieldProps:(0,r.Z)({options:F},P),lightProps:(0,r.Z)({labelFormatter:function(){return(0,o.jsx)(m.Z,(0,r.Z)({ref:D,valueType:"checkbox",mode:"read",valueEnum:(0,y.h)(t,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,r.Z)({options:F},P),proFieldProps:b},M))}},M.lightProps),proFieldProps:b},M))}),Y=v.forwardRef(function(O,D){var F=O.fieldProps,P=O.children;return(0,o.jsx)(g.Z,(0,r.Z)((0,r.Z)({ref:D},F),{},{children:P}))}),E=(0,h.G)(Y,{valuePropName:"checked"}),K=E;K.Group=A,x.Z=K},31199:function(ge,x,e){var r=e(1413),_=e(45987),y=e(67294),g=e(11547),v=e(85893),h=["fieldProps","min","proFieldProps","max"],m=function(A,Y){var E=A.fieldProps,K=A.min,O=A.proFieldProps,D=A.max,F=(0,_.Z)(A,h);return(0,v.jsx)(g.Z,(0,r.Z)({valueType:"digit",fieldProps:(0,r.Z)({min:K,max:D},E),ref:Y,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:O},F))},o=y.forwardRef(m);x.Z=o},86615:function(ge,x,e){var r=e(1413),_=e(45987),y=e(22270),g=e(55742),v=e(67294),h=e(90789),m=e(11547),o=e(85893),C=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],A=v.forwardRef(function(O,D){var F=O.fieldProps,P=O.options,b=O.radioType,t=O.layout,M=O.proFieldProps,Z=O.valueEnum,te=(0,_.Z)(O,C);return(0,o.jsx)(m.Z,(0,r.Z)((0,r.Z)({valueType:b==="button"?"radioButton":"radio",ref:D,valueEnum:(0,y.h)(Z,void 0)},te),{},{fieldProps:(0,r.Z)({options:P,layout:t},F),proFieldProps:M,filedConfig:{customLightMode:!0}}))}),Y=v.forwardRef(function(O,D){var F=O.fieldProps,P=O.children;return(0,o.jsx)(g.ZP,(0,r.Z)((0,r.Z)({},F),{},{ref:D,children:P}))}),E=(0,h.G)(Y,{valuePropName:"checked",ignoreWidth:!0}),K=E;K.Group=A,K.Button=g.ZP.Button,K.displayName="ProFormComponent",x.Z=K},90672:function(ge,x,e){var r=e(1413),_=e(45987),y=e(67294),g=e(11547),v=e(85893),h=["fieldProps","proFieldProps"],m=function(C,A){var Y=C.fieldProps,E=C.proFieldProps,K=(0,_.Z)(C,h);return(0,v.jsx)(g.Z,(0,r.Z)({ref:A,valueType:"textarea",fieldProps:Y,proFieldProps:E},K))};x.Z=y.forwardRef(m)},16894:function(ge,x,e){var r=e(7807);x.ZP=r.Z},20568:function(ge,x,e){e.d(x,{Z:function(){return ie}});var r=e(19632),_=e.n(r),y=e(97857),g=e.n(y),v=e(5574),h=e.n(v),m=e(67294),o=e(17578),C=e(78957),A=e(71471),Y=e(55102),E=e(14726),K=e(2487),O=e(72252),D=e(82061),F=e(55725),P=e(69753),b=e(80854),t=e(29477),M=e(85893),Z=function(q){var a=q.directory,Q=q.onUploaded;return(0,M.jsxs)(C.Z,{align:"start",children:[(0,M.jsxs)(A.Z.Text,{children:[(0,M.jsx)(b.FormattedMessage,{id:"pages.files.filesBrowser"}),(0,M.jsx)(A.Z.Text,{code:!0,children:a})]}),(0,M.jsx)(t.Z,{url:"/api/admin/file/upload",name:"file[]",data:{target:a},onUpload:function(he){he.success&&Q(a,he.data)}})]})},te=function(q){var a=q.defaultDirectory,Q=a===void 0?"/":a,ce=q.onFile,he=q.hideDeleteBtn,de=he===void 0?!1:he,ne=q.forceLoading,s=ne===void 0?!1:ne,R=q.hideAddBtn,w=R===void 0?!1:R,n=(0,b.useIntl)(),S=(0,m.useState)({loading:!1,name:"",directory:Q,current_page:1,data:void 0,per_page:1,last_page:1,total:0}),f=h()(S,2),i=f[0],u=f[1],l=(0,m.useRef)(),d=(0,m.useCallback)(function(L){u(function(c){return g()(g()({},c),{},{loading:L})})},[]),B=(0,m.useCallback)(function(L,c){L.success&&u(function(U){return g()(g()(g()({},U),L.data),{},{data:[{url:c.split("/").slice(0,-1).join("/"),name:"..",created_at:"",mime:"directory"}].concat(_()(L.data.data.map(function(re){return g()(g()({},re),{},{url:re.mime==="directory"?"".concat(c,"/").concat(re.name):re.url})}))).filter(function(re){return c==="/"||c===Q?re.name!=="..":!0}),directory:c,loading:!1})})},[d]),I=(0,m.useCallback)(function(L){var c,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,re=function(){return l.current&&l.current.abort()};return re(),l.current=new AbortController,d(!0),(0,o.QZ)({directory:L,page:U},{signal:(c=l.current)===null||c===void 0?void 0:c.signal}).then(function(_e){_e.success&&B(_e,L)}).catch(function(){return d(!1)}),function(){re()}},[d]);(0,m.useEffect)(function(){return I(Q)},[Q,I]);var T=(0,m.useCallback)(function(L){d(!0),(0,o.Od)(L).then(function(){I(i.directory)}).catch(function(){d(!1)})},[I,d,i.directory]),N=(0,m.useCallback)(function(L,c){var U,re=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,_e=function(){return l.current&&l.current.abort()};return _e(),l.current=new AbortController,d(!0),(0,o.ht)({directory:L,name:c,page:re},{signal:(U=l.current)===null||U===void 0?void 0:U.signal}).then(function(ae){ae.success&&B(ae,L)}).catch(function(){return d(!1)}),function(){_e()}},[d]);return(0,M.jsxs)("div",{className:"file-browser",children:[(0,M.jsxs)("div",{className:"file-browser__header",children:[(0,M.jsx)(Y.Z,{placeholder:n.formatMessage({id:"search_file"}),className:"file-browser__input",onChange:function(c){return u(function(U){return g()(g()({},U),{},{name:c.target.value})})},value:i.name}),(0,M.jsxs)("div",{children:[(0,M.jsx)(E.ZP,{className:"file-browser__button",onClick:function(){return I(i.directory)},children:(0,M.jsx)(b.FormattedMessage,{id:"reset"})}),(0,M.jsx)(E.ZP,{className:"file-browser__button",type:"primary",onClick:function(){return N(i.directory,i.name)},children:(0,M.jsx)(b.FormattedMessage,{id:"query"})})]})]}),(0,M.jsx)(K.Z,{loading:i.loading||s,size:"small",itemLayout:"horizontal",dataSource:i.data,header:w?null:(0,M.jsx)(Z,{directory:i.directory,onUploaded:function(c,U){U&&(I(c),ce&&ce(U,c))}}),footer:w?null:(0,M.jsx)(Z,{directory:i.directory,onUploaded:function(c,U){I(c),U&&ce&&ce(U,c)}}),renderItem:function(c){return(0,M.jsx)(K.Z.Item,{actions:c.mime!=="directory"&&!de?[(0,M.jsx)(E.ZP,{type:"default",danger:!0,icon:(0,M.jsx)(D.Z,{}),size:"small",onClick:function(){return T(c.url)}},"dir")]:[],children:(0,M.jsx)(K.Z.Item.Meta,{avatar:c.mime==="directory"?(0,M.jsx)(E.ZP,{type:"primary",icon:(0,M.jsx)(F.Z,{}),size:"small",onClick:function(){return I(c.url)}}):(0,M.jsx)("a",{href:c.url,target:"_blank",rel:"noreferrer",children:(0,M.jsx)(E.ZP,{type:"default",icon:(0,M.jsx)(P.Z,{}),size:"small"})}),description:(0,M.jsx)(m.Fragment,{children:(0,M.jsx)(E.ZP,{type:"text",size:"small",onClick:function(){return c.mime==="directory"?I(c.url):ce&&ce(c,i.directory)},children:c.name})})})})}}),(0,M.jsx)(O.Z,{pageSizeOptions:[],current:i.current_page,total:i.total,pageSize:i.per_page,onChange:function(c){return I(i.directory,c)}})]})},ie=te},29477:function(ge,x,e){var r=e(97857),_=e.n(r),y=e(5574),g=e.n(y),v=e(55523),h=e(75842),m=e(21974),o=e(67294),C=e(80854),A=e(85893);function Y(E){var K=E.onChange,O=E.onUpload,D=E.url,F=E.name,P=E.extra,b=E.accept,t=E.data,M=E.wrapInForm,Z=M===void 0?!0:M,te=E.title,ie=E.formProps,J=E.maxFiles,q=E.clearListAfterUpload,a=E.hideLabel,Q=E.disabled,ce=E.showUploadList,he=(0,o.useState)(),de=g()(he,2),ne=de[0],s=de[1],R=(0,C.useIntl)();return t&&t[F]&&delete t[F],(0,A.jsx)(m.Z,{condition:Z,wrap:function(n){return(0,A.jsx)(h.Z,_()(_()({},ie),{},{children:n}))},children:(0,A.jsx)(v.Z,{title:te||" ".concat(R.formatMessage({id:"upload_click_here"})),placeholder:R.formatMessage({id:"upload_click_here"}),label:!a&&(0,A.jsx)(C.FormattedMessage,{id:"upload"}),max:J!=null?J:2,fieldProps:{data:t,accept:b,name:F,showUploadList:ce,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))},onChange:function(n){s(n),K&&K(n),n.file.status==="done"&&(O&&O(n.file.response),q&&s(void 0))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(D),extra:P,fileList:ne==null?void 0:ne.fileList,disabled:Q})})}x.Z=Y},19411:function(ge,x,e){e.d(x,{ZP:function(){return K}});var r=e(15009),_=e.n(r),y=e(99289),g=e.n(y),v=e(17578),h=e(2800),m=e.n(h),o=e(67294),C=e(80854),A=e(85893),Y=function(D){var F=D.attrs,P=F.href,b=P.split("/").pop();return(0,A.jsx)("p",{children:(0,A.jsx)("a",{rel:"noreferrer",href:P,target:"_blank",children:b})})},E=function(D){var F=D.value,P=D.onChange,b=D.directory,t=b===void 0?"/wysiwyg":b,M=(0,C.useIntl)();return(0,A.jsx)("div",{className:"form-wysiwyg-markdown",children:(0,A.jsx)(m(),{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function(){return!0},component:Y}],uploadImage:function(){var Z=g()(_()().mark(function te(ie){var J,q;return _()().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return Q.next=2,(0,v.ws)(ie,t);case 2:if(J=Q.sent,!J.success){Q.next=8;break}if(!ie.type.includes("image/")){Q.next=7;break}return q=J.data[0].name.includes("/")?J.data[0].name:"".concat(t).concat(J.data[0].name),Q.abrupt("return",(0,v.pV)(q,1e3));case 7:return Q.abrupt("return",J.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return Q.stop()}},te)}));return function(te){return Z.apply(this,arguments)}}(),defaultValue:F||"",onChange:function(te){return P&&P(te())},placeholder:M.formatMessage({id:"wysiwyg_placeholder"})})})},K=E},62343:function(ge,x,e){var r=e(52677),_=e.n(r),y=e(5574),g=e.n(y),v=e(952),h=e(37476),m=e(5966),o=e(52688),C=e(86615),A=e(90672),Y=e(63434),E=e(31199),K=e(55102),O=e(14726),D=e(75842),F=e(49288),P=e(67294),b=e(43564),t=e(80854),M=e(20568),Z=e(19411),te=e(88284),ie=e(28508),J=e(55171),q=e.n(J),a=e(85893),Q=function(de){var ne=de.value,s=de.onChange,R=de.type,w=R===void 0?"file":R,n=(0,P.useState)(!1),S=g()(n,2),f=S[0],i=S[1];return(0,a.jsxs)(P.Fragment,{children:[(0,a.jsxs)(v.ZP.Group,{children:[(0,a.jsx)(K.Z,{value:ne,readOnly:!0}),(0,a.jsxs)(O.ZP,{size:"small",type:"primary",onClick:function(){return i(!f)},children:["toggle ",w," browser"]})]}),f&&(0,a.jsx)(M.Z,{onFile:function(l,d){return s&&s("".concat(d,"/").concat(l.name))}})]})},ce=function(de){var ne=(0,t.useIntl)(),s=de.visible,R=de.onVisibleChange,w=de.onFinish,n=de.id,S=de.initialData,f=de.groups,i=D.Z.useForm(),u=g()(i,1),l=u[0],d=!n||n===-1,B=(0,P.useState)("text"),I=g()(B,2),T=I[0],N=I[1],L=(0,P.useCallback)(function(){return!!(l.getFieldValue("group")==="global"||S)},[l,S]),c=(0,P.useState)(""),U=g()(c,2),re=U[0],_e=U[1];(0,P.useEffect)(function(){if(_()(n)==="object"){var V;l.setFieldsValue(n),N((V=n.type)!==null&&V!==void 0?V:"text")}else n&&n!==-1?(0,b.GF)(Number(n)).then(function(k){k.success&&(l.setFieldsValue(k.data),N(k.data.type),_e(k.data.group))}):(l.resetFields(),N("text"))},[n,l,S]);var ae=(0,P.useCallback)(function(V){V.type&&V.type!==T&&N(V.type)},[T]);return(0,a.jsxs)(h.Y,{form:l,title:ne.formatMessage({id:n?"editSetting":"newSetting",defaultMessage:n?"editSetting":"newSetting"}),width:"60vw",visible:!!s,onVisibleChange:R,onFinish:w,onValuesChange:ae,children:[(0,a.jsxs)(v.ZP.Group,{children:[S?(0,a.jsx)(m.Z,{label:(0,a.jsx)(t.FormattedMessage,{id:"group",defaultMessage:"group"}),rules:[{required:!0}],width:"md",name:"group",disabled:L()}):(0,a.jsx)(v.ZP.Item,{label:(0,a.jsx)(t.FormattedMessage,{id:"group",defaultMessage:"group"}),name:"group",children:(0,a.jsx)(F.Z,{style:{width:"300px"},autoFocus:!0,value:re,onChange:function(k){return _e(k)},filterOption:function(k,Ie){var oe;return(Ie==null||(oe=Ie.children)===null||oe===void 0?void 0:oe.toString().toLowerCase().indexOf(k.toLowerCase()))!==-1},children:f.map(function(V){return(0,a.jsx)(F.Z.Option,{value:V,children:V},V)})})}),(0,a.jsx)(m.Z,{label:(0,a.jsx)(t.FormattedMessage,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key",disabled:L()})]}),(0,a.jsxs)(v.ZP.Group,{children:[(0,a.jsx)(o.Z,{name:"enumerable",disabled:L(),label:(0,a.jsx)(t.FormattedMessage,{id:"enumerable",defaultMessage:"enumerable"})}),(0,a.jsx)(o.Z,{name:"public",disabled:L(),label:(0,a.jsx)(t.FormattedMessage,{id:"public",defaultMessage:"public"})})]}),(0,a.jsx)(v.ZP.Group,{children:(0,a.jsx)(C.Z.Group,{disabled:!!(!d||S),name:"type",label:(0,a.jsx)(t.FormattedMessage,{id:"type"}),options:[{label:"text",value:"text"},{label:"markdown",value:"markdown"},{label:"json",value:"json"},{label:"file",value:"file"},{label:"image",value:"image"},{label:"boolean",value:"boolean"},{label:"number",value:"number"},{label:"array",value:"array"}]})}),(0,a.jsxs)("div",{children:[T==="text"&&(0,a.jsx)(m.Z,{width:"lg",name:"value",label:(0,a.jsx)(t.FormattedMessage,{id:"value"})}),T==="json"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.Z,{width:"lg",name:"value",label:(0,a.jsx)(t.FormattedMessage,{id:"value"}),tooltip:"".concat(ne.formatMessage({id:"example_json"}),': {"name":"John", "age":30, "city":["New York","Warsaw"]}')}),(0,a.jsx)(v.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,a.jsx)(q(),{src:JSON.parse(l.getFieldValue("value"))})}catch(k){return(0,a.jsx)(q(),{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]}),(T==="file"||T==="image")&&(0,a.jsx)(v.ZP.Item,{name:"value",label:"value",tooltip:"select file from current repository or upload new one",valuePropName:"value",children:(0,a.jsx)(Q,{type:T})}),T==="markdown"&&(0,a.jsx)(v.ZP.Item,{name:"value",label:"value",tooltip:"The editor is WYSIWYG and includes formatting tools whilst retaining the ability to write markdown shortcuts inline and output plain Markdown.",valuePropName:"value",children:(0,a.jsx)(Z.ZP,{directory:"settings/wysiwyg"})}),T==="boolean"?(0,a.jsx)(o.Z,{name:"value",label:(0,a.jsx)(t.FormattedMessage,{id:"value"}),checkedChildren:(0,a.jsx)(te.Z,{}),unCheckedChildren:(0,a.jsx)(ie.Z,{})}):(0,a.jsx)(v.ZP.Item,{noStyle:!0,hidden:!0,children:(0,a.jsx)(Y.Z,{name:"data",valuePropName:"data"})}),T==="number"&&(0,a.jsx)(E.Z,{name:"data",label:(0,a.jsx)(t.FormattedMessage,{id:"value"})}),T==="array"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(A.Z,{width:"lg",name:"value",label:(0,a.jsx)(t.FormattedMessage,{id:"value"}),tooltip:"".concat(ne.formatMessage({id:"example_json"}),": ['tutor', 'student']")}),(0,a.jsx)(v.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,a.jsx)(q(),{src:JSON.parse(l.getFieldValue("value"))})}catch(k){return(0,a.jsx)(q(),{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]})]})]})};x.ZP=ce},59234:function(ge,x,e){e.d(x,{Wg:function(){return w}});var r=e(5574),_=e.n(r),y=e(19632),g=e.n(y),v=e(15009),h=e.n(v),m=e(97857),o=e.n(m),C=e(99289),A=e.n(C),Y=e(31472),E=e(51042),K=e(16894),O=e(2453),D=e(83062),F=e(14726),P=e(86738),b=e(67294),t=e(80854),M=e(43564),Z=e(56717),te=e(47389),ie=e(82061),J=e(62343),q=e(20188),a=e(85893),Q=function(){var u=A()(h()().mark(function l(d,B,I){var T,N;return h()().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return T=O.ZP.loading(d.formatMessage({id:"loading"})),c.prev=1,c.next=4,I&&I!==-1?(0,M.VP)(I,o()({},B)):(0,M.oh)(o()({},B));case 4:return N=c.sent,T(),O.ZP.success(d.formatMessage({id:"success"})),c.abrupt("return",{success:!0,updatedSettings:N});case 10:return c.prev=10,c.t0=c.catch(1),T(),O.ZP.error(d.formatMessage({id:"error"})),c.abrupt("return",{success:!1,updateSettings:null});case 15:case"end":return c.stop()}},l,null,[[1,10]])}));return function(d,B,I){return u.apply(this,arguments)}}(),ce=function(){var u=A()(h()().mark(function l(d,B){var I;return h()().wrap(function(N){for(;;)switch(N.prev=N.next){case 0:return I=O.ZP.loading(d.formatMessage({id:"loading"})),N.prev=1,N.next=4,(0,M.Rb)(B);case 4:return I(),O.ZP.success(d.formatMessage({id:"success"})),N.abrupt("return",!0);case 9:return N.prev=9,N.t0=N.catch(1),I(),O.ZP.error(d.formatMessage({id:"error"})),N.abrupt("return",!1);case 14:case"end":return N.stop()}},l,null,[[1,9]])}));return function(d,B){return u.apply(this,arguments)}}(),he=function(l){return l.toLowerCase().replace(/(_\w)/g,function(d){return d.toUpperCase().substr(1)})},de=["statistics","user_submission","user_projects"],ne=["public"],s=["email","sms"],R=function(l){return"hideInMenu-".concat(he(l.split("/").join("_")))},w=function(l){return"disableTopicType-".concat(l)},n=[].concat(g()(Object.keys(Y.oz).map(function(u){return{key:w(u),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),g()(["ECommerce","Certificates"].map(function(u){return{key:"disable-".concat(u),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),g()(ne.map(function(u){return{key:"showInCourseAdditionalSettings-".concat(u),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),g()(de.map(function(u){return{key:"hideInCourseTabs-".concat(u),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),g()(s.map(function(u){return{key:"hideTemplateTab-".concat(u),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}}))).reduce(function(u,l,d){return u[l.key]=o()(o()({},l),{},{id:-100*d}),u},{}),S=o()({logo:{id:-1,key:"logo",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},frontURL:{id:-2,key:"frontURL",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},maxLessonsNestingInProgram:{id:-4,key:"maxLessonsNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},minTopicNestingInProgram:{id:-5,key:"minTopicNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},companyName:{id:-6,key:"companyName",group:"global",value:"Wellms",public:!0,enumerable:!0,sort:0,type:"text",data:"Wellms"},companyURL:{id:-7,key:"companyURL",group:"global",value:"https://www.wellms.io/",public:!0,enumerable:!0,sort:0,type:"text",data:"https://www.wellms.io/"},logoLogin:{id:-8,key:"logoLogin",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},logoFooter:{id:-9,key:"logoFooter",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},footerFontColor:{id:-10,key:"footerFontColor",group:"global",value:"#00000072",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},showLoginBackgroundImage:{id:-11,key:"showLoginBackgroundImage",group:"global",value:"true",public:!0,enumerable:!0,sort:0,type:"boolean",data:"EscolaLMS"},loginHeaderBackgroundColor:{id:-12,key:"loginHeaderBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},loginHeaderFontColor:{id:-13,key:"loginHeaderFontColor",group:"global",value:"#000000D8",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},loginFormBackgroundColor:{id:-14,key:"loginFormBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},contentBackgroundColor:{id:-15,key:"contentBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},technicalMaintenance:{id:-16,key:"technicalMaintenance",group:"global",value:"false",public:!0,enumerable:!0,sort:0,type:"boolean",data:"EscolaLMS"},technicalMaintenanceText:{id:-17,key:"technicalMaintenanceText",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"}},n),f=function(l){return typeof l.path=="string"},i=function(){var l=(0,b.useState)(!1),d=_()(l,2),B=d[0],I=d[1],T=(0,b.useRef)(),N=(0,t.useIntl)(),L=(0,b.useState)(S),c=_()(L,2),U=c[0],re=c[1],_e=(0,t.useModel)("@@initialState"),ae=_e.setInitialState,V=_e.initialState;(0,b.useEffect)(function(){(0,q.s)().then(function(oe){var fe=Object.values(oe.routes).filter(f).filter(function(X){return X.path&&X.path!=="/"&&X.layout!==!1}).map(function(X){return{path:X.path,key:R(X.path),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}});re(function(X){return o()(o()({},X),fe)})})},[]),(0,b.useEffect)(function(){T.current&&T.current.reload()},[U]);var k=[{title:(0,a.jsx)(t.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0,render:function(fe,X){return(0,a.jsx)(b.Fragment,{children:(0,a.jsxs)(D.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"Settings.tooltip.".concat(X.key)}),children:[X.key," ",(0,a.jsx)(Z.Z,{})]})})}},{title:(0,a.jsx)(t.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:(0,a.jsx)(t.FormattedMessage,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(fe,X){return X.value}},{hideInSearch:!0,title:(0,a.jsx)(t.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(fe,X){return[X.id>0?(0,a.jsx)(D.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,a.jsx)(F.ZP,{type:"primary",icon:(0,a.jsx)(te.Z,{}),onClick:function(){return I(X.id)}})},"edit"):(0,a.jsx)(D.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"create",defaultMessage:"create"}),children:(0,a.jsx)(F.ZP,{type:"primary",icon:(0,a.jsx)(E.Z,{}),onClick:function(){I(U[X.key]||-1)}})},"create"),(0,a.jsx)(P.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:A()(h()().mark(function le(){var Ee;return h()().wrap(function(ve){for(;;)switch(ve.prev=ve.next){case 0:return ve.next=2,ce(N,X.id);case 2:Ee=ve.sent,Ee&&(I(!1),T.current&&T.current.reload());case 4:case"end":return ve.stop()}},le)})),okText:(0,a.jsx)(t.FormattedMessage,{id:"yes",defaultMessage:"Yes"}),cancelText:(0,a.jsx)(t.FormattedMessage,{id:"no",defaultMessage:"No"}),children:X.id>0?(0,a.jsx)(D.Z,{title:(0,a.jsx)(t.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,a.jsx)(F.ZP,{type:"primary",icon:(0,a.jsx)(ie.Z,{}),danger:!0})}):null},"delete")]}}],Ie=function(fe){var X;if(fe&&(!(V!=null&&(X=V.config)!==null&&X!==void 0&&X.length)&&fe&&ae(o()(o()({},V),{},{config:[fe]})),!!(V!=null&&V.config))){var le=V==null?void 0:V.config.map(function(Ee){return Ee.key===fe.key?o()(o()({},Ee),fe):Ee});ae(o()(o()({},V),{},{config:le}))}};return(0,a.jsxs)(b.Fragment,{children:[(0,a.jsx)(K.ZP,{headerTitle:N.formatMessage({id:"menu.settings"}),search:!1,toolBarRender:!1,actionRef:T,rowKey:"id",request:function(fe){var X=fe.pageSize,le=fe.current;return(0,M.Xd)({per_page:X,current:le,group:"global"}).then(function(Ee){if(Ee.success){var xe=[].concat(g()(Object.keys(U).map(function(ve){return Ee.data.find(function($){return $.key===ve})||U[ve]})),g()(Ee.data.filter(function(ve){return!Object.keys(U).includes(ve.key)})));return{data:xe,total:xe.length,success:!0}}return[]})},columns:k}),(0,a.jsx)(J.ZP,{groups:[],id:B,visible:B,initialData:U,onVisibleChange:function(fe){return!fe&&I(!1)},onFinish:function(){var oe=A()(h()().mark(function fe(X){var le,Ee,xe,ve;return h()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return le=X,le.type==="number"&&(le=o()(o()({},le),{},{value:String(le.data)})),le.type==="boolean"&&(le=o()(o()({},le),{},{value:le.data})),le.type==="array"&&(le=o()(o()({},le),{},{value:JSON.parse(le.value)})),me.next=6,Q(N,le,Number(B));case 6:Ee=me.sent,xe=Ee.success,ve=Ee.updatedSettings,xe&&(ve!=null&&ve.success&&Ie(ve.data),I(!1),T.current&&T.current.reload());case 10:case"end":return me.stop()}},fe)}));return function(fe){return oe.apply(this,arguments)}}()})]})};x.ZP=i},85228:function(ge,x,e){e.r(x),e.d(x,{default:function(){return me}});var r=e(5574),_=e.n(r),y=e(78715),g=e(74453),v=e(74330),h=e(38925),m=e(67294),o=e(80854),C=e(43564),A=e(59234),Y=e(15009),E=e.n(Y),K=e(99289),O=e.n(K),D=e(19632),F=e.n(D),P=e(52677),b=e.n(P),t=e(66419),M=e(47389),Z=e(16894),te=e(66309),ie=e(83062),J=e(14726),q=e(97857),a=e.n(q),Q=e(37476),ce=e(952),he=e(52688),de=e(90672),ne=e(71471),s=e(75842),R=e(43669),w=e(5966),n=e(85893),S=function(j){var p=j.field,W=j.name;return p!=null&&p.includes("boolean")?(0,n.jsx)(he.Z,{name:W,checkedChildren:(0,n.jsx)(R._H,{id:"true"}),unCheckedChildren:(0,n.jsx)(R._H,{id:"false"})}):(0,n.jsx)(w.Z,{width:"lg",name:W})},f=S,i=e(55171),u=e.n(i),l=ne.Z.Text,d=function(ee){return ee.Array="array",ee.String="string",ee}(d||{}),B=function(j,p){return p===d.Array?j&&Array.isArray(j)?JSON.stringify(j):"[]":j},I=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",p=arguments.length>1?arguments[1]:void 0;if(p===d.Array){var W=JSON.parse(j);return W&&Array.isArray(W)?W:[]}return j},T=function(j){var p=(0,R.YB)(),W=j.visible,z=j.onVisibleChange,Me=j.onFinish,H=j.value,pe=s.Z.useForm(),De=_()(pe,1),Ce=De[0],Oe=(0,m.useMemo)(function(){return(H.rules||[]).includes(d.Array)?d.Array:d.String},[H.rules]);return(0,m.useEffect)(function(){Ce.setFieldsValue(a()(a()({},H),{},{value:B(H.value,Oe)}))},[Oe,H,Ce]),(0,n.jsxs)(Q.Y,{form:Ce,title:H.full_key,width:"60vw",visible:W,onVisibleChange:z,onFinish:O()(E()().mark(function se(){var G;return E()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,(0,C.rF)({key:H.full_key,value:I(Ce.getFieldsValue().value,Oe)});case 2:if(G=ue.sent,!G.success){ue.next=6;break}return Me(G.success===!0),ue.abrupt("return",G.success);case 6:return ue.abrupt("return");case 7:case"end":return ue.stop()}},se)})),children:[(0,n.jsxs)(ce.ZP.Group,{children:[(0,n.jsx)(he.Z,{disabled:!0,name:"public",label:(0,n.jsx)(o.FormattedMessage,{id:"public",defaultMessage:"public"})}),(0,n.jsx)(he.Z,{disabled:!0,name:"readonly",label:(0,n.jsx)(o.FormattedMessage,{id:"readonly",defaultMessage:"readonly"})}),(0,n.jsx)(ce.ZP.Item,{shouldUpdate:!0,label:(0,n.jsx)(o.FormattedMessage,{id:"rules",defaultMessage:"rules"}),children:function(){return(0,n.jsx)(l,{code:!0,children:JSON.stringify(Ce.getFieldValue("rules"))})}})]}),Oe===d.Array?(0,n.jsxs)(n.Fragment,{children:[(0,n.jsx)(de.Z,{width:"lg",name:"value",label:(0,n.jsx)(o.FormattedMessage,{id:"value"}),tooltip:"".concat(p.formatMessage({id:"example_json"}),': ["first_field_name", "second_field_name"]')}),(0,n.jsx)(ce.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,n.jsx)(u(),{src:JSON.parse(Ce.getFieldValue("value"))})}catch(G){return(0,n.jsx)(u(),{src:JSON.parse('{ "error": "cannot parse this array" }')})}}})]}):(0,n.jsx)(n.Fragment,{children:(0,n.jsx)(ce.ZP.Item,{shouldUpdate:!0,label:(0,n.jsx)(o.FormattedMessage,{id:"value"}),children:function(){return(0,n.jsx)(f,{field:Ce.getFieldValue("rules"),name:"value"})}})})]})},N=T,L=[{title:(0,n.jsx)(o.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!1,sorter:!0},{title:(0,n.jsx)(o.FormattedMessage,{id:"readonly",defaultMessage:"readonly"}),dataIndex:"readonly",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(j,p){return(0,n.jsx)(te.Z,{color:p.readonly?"success":"error",children:(0,n.jsx)(o.FormattedMessage,{id:p.readonly?"true":"false",defaultMessage:p.readonly?"true":"false"})})}},{title:(0,n.jsx)(o.FormattedMessage,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(j,p){return(0,n.jsx)(te.Z,{color:p.public?"success":"error",children:(0,n.jsx)(o.FormattedMessage,{id:p.public?"true":"false",defaultMessage:p.public?"true":"false"})})}},{title:(0,n.jsx)(o.FormattedMessage,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(j,p){return typeof p.value=="boolean"?(0,n.jsx)(te.Z,{color:p.value?"success":"error",children:(0,n.jsx)(o.FormattedMessage,{id:p.value?"true":"false",defaultMessage:p.value?"true":"false"})}):Array.isArray(p.value)?p.value.map(function(W){return b()(W)==="object"?m.Children.toArray((0,n.jsx)("p",{children:Object.keys(W).map(function(z){return"".concat(z,": ").concat(W[z])}).join(", ")})):W}):p.value}}],c=function ee(j,p){var W=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return!j||b()(j)!=="object"?!1:(Object.keys(j).forEach(function(z){var Me=j[z];z===p?W.push(j):b()(Me)==="object"&&ee(Me,p,W)}),W)},U=function(j){var p=j.packageName,W=j.values,z=j.onValueUpdated,Me=(0,o.useIntl)(),H=(0,m.useState)(),pe=_()(H,2),De=pe[0],Ce=pe[1],Oe=(0,m.useMemo)(function(){var se=W[p];return c(se,"rules")},[W,p]);return(0,n.jsxs)(m.Fragment,{children:[(0,n.jsx)(Z.ZP,{headerTitle:Me.formatMessage({id:"menu.settings"}),rowKey:"key",search:{layout:"vertical"},columns:[].concat(L,[{hideInSearch:!0,title:(0,n.jsx)(o.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(G,be){return[(0,n.jsx)(ie.Z,{title:(0,n.jsx)(o.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,n.jsx)(J.ZP,{type:"primary",icon:(0,n.jsx)(M.Z,{}),onClick:function(){return Ce(be)}})},"edit")]}}]),request:function(G,be){var ue=G.key,Pe=be&&Object.entries(be)[0];return new Promise(function(ye){var je=Oe?F()(Oe):[];ue&&(je=je.filter(function(Te){return Te.key.toLowerCase().includes(ue.toLowerCase())})),Pe&&(je=(0,t.Pf)(je,Pe[0],Pe[1]!=="ascend")),ye({data:je,success:!0,total:je.length})})}}),De&&(0,n.jsx)(N,{value:De,visible:De!==void 0,onVisibleChange:function(G){return G===!1&&Ce(void 0)},onFinish:O()(E()().mark(function se(){return E()().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:z();case 1:case"end":return be.stop()}},se)}))})]})},re=U,_e=e(9783),ae=e.n(_e),V=e(51042),k=e(2453),Ie=e(86738),oe=e(82061),fe=e(62343),X=function(){var ee=O()(E()().mark(function j(p,W,z){var Me;return E()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:return Me=k.ZP.loading(p.formatMessage({id:"loading"})),pe.prev=1,pe.next=4,z&&z!==-1?(0,C.VP)(z,a()({},W)):(0,C.oh)(a()({},W));case 4:return Me(),k.ZP.success(p.formatMessage({id:"success"})),pe.abrupt("return",!0);case 9:return pe.prev=9,pe.t0=pe.catch(1),Me(),k.ZP.error(p.formatMessage({id:"error"})),pe.abrupt("return",!1);case 14:case"end":return pe.stop()}},j,null,[[1,9]])}));return function(p,W,z){return ee.apply(this,arguments)}}(),le=function(){var ee=O()(E()().mark(function j(p,W){var z;return E()().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return z=k.ZP.loading(p.formatMessage({id:"loading"})),H.prev=1,H.next=4,(0,C.Rb)(W);case 4:return z(),k.ZP.success(p.formatMessage({id:"success"})),H.abrupt("return",!0);case 9:return H.prev=9,H.t0=H.catch(1),z(),k.ZP.error(p.formatMessage({id:"error"})),H.abrupt("return",!1);case 14:case"end":return H.stop()}},j,null,[[1,9]])}));return function(p,W){return ee.apply(this,arguments)}}(),Ee=function(){var j=(0,m.useState)(!1),p=_()(j,2),W=p[0],z=p[1],Me=(0,m.useState)([]),H=_()(Me,2),pe=H[0],De=H[1],Ce=(0,m.useRef)(),Oe=(0,o.useIntl)(),se=(0,o.useModel)("@@initialState"),G=se.setInitialState;(0,m.useEffect)(function(){(0,C.FF)().then(function(ue){ue.success&&De(ue.data.filter(function(Pe){return Pe!=="global"}))})},[]);var be=[{title:(0,n.jsx)(o.FormattedMessage,{id:"group",defaultMessage:"group"}),dataIndex:"group",hideInSearch:!1,key:"group",valueType:"select",width:100,valueEnum:pe.sort().reduce(function(ue,Pe){return a()(a()({},ue),{},ae()({},Pe,Pe))},{})},{title:(0,n.jsx)(o.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:(0,n.jsx)(o.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:(0,n.jsx)(o.FormattedMessage,{id:"enumerable",defaultMessage:"enumerable"}),dataIndex:"enumerable",hideInForm:!0,hideInSearch:!0,render:function(Pe,ye){return(0,n.jsx)(te.Z,{color:ye.enumerable?"success":"error",children:(0,n.jsx)(o.FormattedMessage,{id:ye.enumerable?"true":"false",defaultMessage:ye.enumerable?"true":"false"})})}},{title:(0,n.jsx)(o.FormattedMessage,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(Pe,ye){return(0,n.jsx)(te.Z,{color:ye.public?"success":"error",children:(0,n.jsx)(o.FormattedMessage,{id:ye.public?"true":"false",defaultMessage:ye.public?"true":"false"})})}},{hideInSearch:!0,title:(0,n.jsx)(o.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(Pe,ye){return[(0,n.jsx)(ie.Z,{title:(0,n.jsx)(o.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,n.jsx)(J.ZP,{type:"primary",icon:(0,n.jsx)(M.Z,{}),onClick:function(){return z(ye.id)}})},"edit"),(0,n.jsx)(Ie.Z,{title:(0,n.jsx)(o.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:O()(E()().mark(function je(){var Te;return E()().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Le.next=2,le(Oe,ye.id);case 2:Te=Le.sent,Te&&(z(!1),Ce.current&&Ce.current.reload());case 4:case"end":return Le.stop()}},je)})),okText:(0,n.jsx)(o.FormattedMessage,{id:"yes",defaultMessage:"Yes"}),cancelText:(0,n.jsx)(o.FormattedMessage,{id:"no",defaultMessage:"No"}),children:(0,n.jsx)(ie.Z,{title:(0,n.jsx)(o.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,n.jsx)(J.ZP,{type:"primary",icon:(0,n.jsx)(oe.Z,{}),danger:!0})})},"delete")]}}];return(0,n.jsxs)(m.Fragment,{children:[(0,n.jsx)(Z.ZP,{headerTitle:Oe.formatMessage({id:"menu.settings"}),actionRef:Ce,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[(0,n.jsxs)(J.ZP,{type:"primary",onClick:function(){z(-1)},children:[(0,n.jsx)(V.Z,{})," ",(0,n.jsx)(o.FormattedMessage,{id:"pages.searchTable.new"})]},"primary")]},request:function(Pe){var ye=Pe.pageSize,je=Pe.current,Te=Pe.group;return(0,C.Xd)({per_page:ye,current:je,group:Te}).then(function(Se){return Se.success?{data:Se.data.filter(function(Le){return Le.group!=="global"}),total:Se.meta.total,success:!0}:[]})},columns:be}),(0,n.jsx)(fe.ZP,{groups:pe,id:W,visible:Number.isInteger(W),onVisibleChange:function(Pe){return!Pe&&z(!1)},onFinish:function(){var ue=O()(E()().mark(function Pe(ye){var je,Te,Se;return E()().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return je=ye,Ae.next=3,X(Oe,je,Number(W));case 3:if(Te=Ae.sent,!Te){Ae.next=12;break}if(z(!1),Ce.current&&Ce.current.reload(),je.group!=="global"){Ae.next=12;break}return Ae.next=10,(0,C.Xd)({current:1,per_page:100,group:"global"});case 10:Se=Ae.sent,G(function(Re){return a()(a()({},Re),{},{config:Se.success?Se.data:Re==null?void 0:Re.config})});case 12:case"end":return Ae.stop()}},Pe)}));return function(Pe){return ue.apply(this,arguments)}}()})]})},xe=Ee;function ve(ee){var j=ee.replaceAll("escolalms",""),p=j.split("_"),W=p.map(function(z){return z.charAt(0).toUpperCase()+z.slice(1)});return W.join(" ")}function $(ee,j){var p=["global_settings","user_settings"];return p.includes(ee)?j.formatMessage({id:String(ee)}):j.formatMessage({id:"Settings.package"},{package:ve(ee)})}var me=function(){var ee=(0,o.useParams)(),j=(0,o.useIntl)(),p=ee.tab,W=p===void 0?"user_settings":p,z=(0,m.useState)(),Me=_()(z,2),H=Me[0],pe=Me[1],De=(0,m.useCallback)(function(){(0,C.rH)().then(function(G){G.success&&pe(G.data)})},[]),Ce=(0,o.useModel)("@@initialState"),Oe=Ce.initialState,se=(0,m.useCallback)(function(){var G;return(Oe==null||(G=Oe.config)===null||G===void 0?void 0:G.length)!==0},[Oe]);return(0,m.useEffect)(function(){De()},[]),H?(0,n.jsxs)(g._z,{title:$(W,j),header:{breadcrumb:{routes:[{path:"settings",breadcrumbName:j.formatMessage({id:"menu.Configuration.settings"})},{path:String(W),breadcrumbName:$(W,j)}]}},children:[!se()&&(0,n.jsx)(h.Z,{message:(0,n.jsx)(o.FormattedMessage,{id:"global_settings_alert_title",defaultMessage:"Add global settings"}),description:(0,n.jsx)(o.FormattedMessage,{id:"global_settings_alert_description",defaultMessage:"Global settings are used to configure the entire LMS. You can add global settings by clicking the button below."}),type:"warning",showIcon:!0,style:{marginBottom:"20px"}}),(0,n.jsxs)(y.ZP,{tabs:{type:"card",activeKey:W,onChange:function(be){return o.history.push("/configuration/settings/".concat(be))}},children:[(0,n.jsx)(y.ZP.TabPane,{tab:(0,n.jsx)(o.FormattedMessage,{id:"user.settings"}),children:(0,n.jsx)(xe,{})},"user_settings"),(0,n.jsx)(y.ZP.TabPane,{tab:(0,n.jsx)(o.FormattedMessage,{id:"global_settings"}),children:(0,n.jsx)(A.ZP,{})},"global_settings"),Object.keys(H).map(function(G){return(0,n.jsxs)(y.ZP.TabPane,{tab:(0,n.jsx)("span",{children:(0,n.jsx)(o.FormattedMessage,{id:"Settings.package",values:{package:ve(G)}})}),children:[(0,n.jsx)(re,{values:H,packageName:G,onValueUpdated:function(){return De()}}),G]},G)})]})]}):(0,n.jsx)(v.Z,{})}},31472:function(ge,x,e){e.d(x,{Fh:function(){return Y},UL:function(){return C},Yo:function(){return O},Zg:function(){return D},cX:function(){return o},ce:function(){return m},fS:function(){return K},fn:function(){return v},h5:function(){return F},hg:function(){return b},oz:function(){return r},rX:function(){return E},uT:function(){return g},wg:function(){return P},wl:function(){return A}});var r=function(t){return t.Unselected="",t.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",t.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",t.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",t.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",t.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",t.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",t.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",t.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",t.Project="EscolaLms\\TopicTypeProject\\Models\\Project",t.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz",t}({}),_=function(t){return t.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",t.UserLogged="EscolaLms\\Auth\\Events\\UserLogged",t}({}),y=function(t){return t.draft="draft",t.published="published",t.archived="archived",t}({}),g=function(t){return t.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",t.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",t.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel",t}({}),v=function(t){return t.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent",t}({}),h=function(t){return t.cart_fixed="cart_fixed",t.cart_percent="cart_percent",t.product_fixed="product_fixed",t.product_percent="product_percent",t}({}),m=function(t){return t.MULTIPLE_CHOICE="multiple_choice",t.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",t.TRUE_FALSE="true_false",t.SHORT_ANSWERS="short_answers",t.MATCHING="matching",t.NUMERICAL_QUESTION="numerical_question",t.ESSAY="essay",t.DESCRIPTION="description",t}({}),o=function(t){return t.PRESENT="present",t.PRESENT_NOT_EXERCISING="present_not_exercising",t.ABSENT="absent",t.EXCUSED_ABSENCE="excused_absence",t}({}),C=function(t){return t.Manual="manual",t.ManualPass="manual_pass",t.ManualGrades="manual_grades",t.TeamsForms="teams_forms",t.TeamsLecture="teams_lecture",t.TestPortal="test_portal",t}({}),A=function(t){return t.Passed="zal",t.Failed="nie zal",t}({}),Y=function(t){return t.Simple="simple",t.Complex="complex",t}({}),E=function(t){return t.QuizSummary="EscolaLms\\Reports\\Stats\\Topic\\QuizSummaryForTopicTypeGIFT",t}({}),K=function(t){return t.Boolean="boolean",t.Number="number",t.Varchar="varchar",t.Text="text",t.Json="json",t}({}),O=function(t){return t.Rate="rate",t.Text="text",t.Review="review",t}({}),D=function(t){return t.Exercise="exercise",t.Course="course",t.Info="info",t}({}),F=function(t){return t.Group="EscolaLms\\PcgIntegration\\Models\\Group",t}({}),P=function(t){return t.PUSH="EscolaLms\\BulkNotifications\\Channels\\PushNotificationChannel",t}({}),b=function(t){return t.TITLE="title",t.BODY="body",t.IMAGE="image_url",t.REDIRECT_URL="redirect_url",t}({})},17578:function(ge,x,e){e.d(x,{Od:function(){return D},QZ:function(){return o},ht:function(){return A},pV:function(){return O},ws:function(){return E}});var r=e(15009),_=e.n(r),y=e(97857),g=e.n(y),v=e(99289),h=e.n(v),m=e(80854);function o(P,b){return C.apply(this,arguments)}function C(){return C=h()(_()().mark(function P(b,t){return _()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,m.request)("/api/admin/file/list",g()({method:"GET",params:b},t||{})));case 1:case"end":return Z.stop()}},P)})),C.apply(this,arguments)}function A(P,b){return Y.apply(this,arguments)}function Y(){return Y=h()(_()().mark(function P(b,t){return _()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,m.request)("/api/admin/file/find",g()({method:"GET",params:b},t||{})));case 1:case"end":return Z.stop()}},P)})),Y.apply(this,arguments)}function E(P,b,t){return K.apply(this,arguments)}function K(){return K=h()(_()().mark(function P(b,t,M){var Z;return _()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return Z=new FormData,Z.append("file[]",b),Z.append("target",t),ie.abrupt("return",(0,m.request)("/api/admin/file/upload",g()({method:"POST",data:Z},M||{})));case 4:case"end":return ie.stop()}},P)})),K.apply(this,arguments)}var O=function(b){var t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(b,"&w=").concat(t)};function D(P,b){return F.apply(this,arguments)}function F(){return F=h()(_()().mark(function P(b,t){return _()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,m.request)("/api/admin/file/delete",g()({method:"DELETE",data:{url:b}},t||{})));case 1:case"end":return Z.stop()}},P)})),F.apply(this,arguments)}},38925:function(ge,x,e){e.d(x,{Z:function(){return S}});var r=e(67294),_=e(76278),y=e(17012),g=e(62208),v=e(26702),h=e(1558),m=e(93967),o=e.n(m),C=e(29372),A=e(64217),Y=e(42550),E=e(96159),K=e(53124),O=e(85982),D=e(14747),F=e(83559);const P=(f,i,u,l,d)=>({background:f,border:`${(0,O.unit)(l.lineWidth)} ${l.lineType} ${i}`,[`${d}-icon`]:{color:u}}),b=f=>{const{componentCls:i,motionDurationSlow:u,marginXS:l,marginSM:d,fontSize:B,fontSizeLG:I,lineHeight:T,borderRadiusLG:N,motionEaseInOutCirc:L,withDescriptionIconSize:c,colorText:U,colorTextHeading:re,withDescriptionPadding:_e,defaultPadding:ae}=f;return{[i]:Object.assign(Object.assign({},(0,D.Wf)(f)),{position:"relative",display:"flex",alignItems:"center",padding:ae,wordWrap:"break-word",borderRadius:N,[`&${i}-rtl`]:{direction:"rtl"},[`${i}-content`]:{flex:1,minWidth:0},[`${i}-icon`]:{marginInlineEnd:l,lineHeight:0},"&-description":{display:"none",fontSize:B,lineHeight:T},"&-message":{color:re},[`&${i}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${u} ${L}, opacity ${u} ${L},
        padding-top ${u} ${L}, padding-bottom ${u} ${L},
        margin-bottom ${u} ${L}`},[`&${i}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${i}-with-description`]:{alignItems:"flex-start",padding:_e,[`${i}-icon`]:{marginInlineEnd:d,fontSize:c,lineHeight:0},[`${i}-message`]:{display:"block",marginBottom:l,color:re,fontSize:I},[`${i}-description`]:{display:"block",color:U}},[`${i}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},t=f=>{const{componentCls:i,colorSuccess:u,colorSuccessBorder:l,colorSuccessBg:d,colorWarning:B,colorWarningBorder:I,colorWarningBg:T,colorError:N,colorErrorBorder:L,colorErrorBg:c,colorInfo:U,colorInfoBorder:re,colorInfoBg:_e}=f;return{[i]:{"&-success":P(d,l,u,f,i),"&-info":P(_e,re,U,f,i),"&-warning":P(T,I,B,f,i),"&-error":Object.assign(Object.assign({},P(c,L,N,f,i)),{[`${i}-description > pre`]:{margin:0,padding:0}})}}},M=f=>{const{componentCls:i,iconCls:u,motionDurationMid:l,marginXS:d,fontSizeIcon:B,colorIcon:I,colorIconHover:T}=f;return{[i]:{"&-action":{marginInlineStart:d},[`${i}-close-icon`]:{marginInlineStart:d,padding:0,overflow:"hidden",fontSize:B,lineHeight:(0,O.unit)(B),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${u}-close`]:{color:I,transition:`color ${l}`,"&:hover":{color:T}}},"&-close-text":{color:I,transition:`color ${l}`,"&:hover":{color:T}}}}},Z=f=>({withDescriptionIconSize:f.fontSizeHeading3,defaultPadding:`${f.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${f.paddingMD}px ${f.paddingContentHorizontalLG}px`});var te=(0,F.I$)("Alert",f=>[b(f),t(f),M(f)],Z),ie=function(f,i){var u={};for(var l in f)Object.prototype.hasOwnProperty.call(f,l)&&i.indexOf(l)<0&&(u[l]=f[l]);if(f!=null&&typeof Object.getOwnPropertySymbols=="function")for(var d=0,l=Object.getOwnPropertySymbols(f);d<l.length;d++)i.indexOf(l[d])<0&&Object.prototype.propertyIsEnumerable.call(f,l[d])&&(u[l[d]]=f[l[d]]);return u};const J={success:_.Z,info:h.Z,error:y.Z,warning:v.Z},q=f=>{const{icon:i,prefixCls:u,type:l}=f,d=J[l]||null;return i?(0,E.wm)(i,r.createElement("span",{className:`${u}-icon`},i),()=>({className:o()(`${u}-icon`,{[i.props.className]:i.props.className})})):r.createElement(d,{className:`${u}-icon`})},a=f=>{const{isClosable:i,prefixCls:u,closeIcon:l,handleClose:d,ariaProps:B}=f,I=l===!0||l===void 0?r.createElement(g.Z,null):l;return i?r.createElement("button",Object.assign({type:"button",onClick:d,className:`${u}-close-icon`,tabIndex:0},B),I):null};var ce=r.forwardRef((f,i)=>{const{description:u,prefixCls:l,message:d,banner:B,className:I,rootClassName:T,style:N,onMouseEnter:L,onMouseLeave:c,onClick:U,afterClose:re,showIcon:_e,closable:ae,closeText:V,closeIcon:k,action:Ie,id:oe}=f,fe=ie(f,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action","id"]),[X,le]=r.useState(!1),Ee=r.useRef(null);r.useImperativeHandle(i,()=>({nativeElement:Ee.current}));const{getPrefixCls:xe,direction:ve,alert:$}=r.useContext(K.E_),me=xe("alert",l),[ee,j,p]=te(me),W=se=>{var G;le(!0),(G=f.onClose)===null||G===void 0||G.call(f,se)},z=r.useMemo(()=>f.type!==void 0?f.type:B?"warning":"info",[f.type,B]),Me=r.useMemo(()=>typeof ae=="object"&&ae.closeIcon||V?!0:typeof ae=="boolean"?ae:k!==!1&&k!==null&&k!==void 0?!0:!!($!=null&&$.closable),[V,k,ae,$==null?void 0:$.closable]),H=B&&_e===void 0?!0:_e,pe=o()(me,`${me}-${z}`,{[`${me}-with-description`]:!!u,[`${me}-no-icon`]:!H,[`${me}-banner`]:!!B,[`${me}-rtl`]:ve==="rtl"},$==null?void 0:$.className,I,T,p,j),De=(0,A.Z)(fe,{aria:!0,data:!0}),Ce=r.useMemo(()=>{var se,G;return typeof ae=="object"&&ae.closeIcon?ae.closeIcon:V||(k!==void 0?k:typeof($==null?void 0:$.closable)=="object"&&(!((se=$==null?void 0:$.closable)===null||se===void 0)&&se.closeIcon)?(G=$==null?void 0:$.closable)===null||G===void 0?void 0:G.closeIcon:$==null?void 0:$.closeIcon)},[k,ae,V,$==null?void 0:$.closeIcon]),Oe=r.useMemo(()=>{const se=ae!=null?ae:$==null?void 0:$.closable;if(typeof se=="object"){const{closeIcon:G}=se;return ie(se,["closeIcon"])}return{}},[ae,$==null?void 0:$.closable]);return ee(r.createElement(C.default,{visible:!X,motionName:`${me}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:se=>({maxHeight:se.offsetHeight}),onLeaveEnd:re},(se,G)=>{let{className:be,style:ue}=se;return r.createElement("div",Object.assign({id:oe,ref:(0,Y.sQ)(Ee,G),"data-show":!X,className:o()(pe,be),style:Object.assign(Object.assign(Object.assign({},$==null?void 0:$.style),N),ue),onMouseEnter:L,onMouseLeave:c,onClick:U,role:"alert"},De),H?r.createElement(q,{description:u,icon:f.icon,prefixCls:me,type:z}):null,r.createElement("div",{className:`${me}-content`},d?r.createElement("div",{className:`${me}-message`},d):null,u?r.createElement("div",{className:`${me}-description`},u):null),Ie?r.createElement("div",{className:`${me}-action`},Ie):null,r.createElement(a,{isClosable:Me,prefixCls:me,closeIcon:Ce,handleClose:W,ariaProps:Oe}))}))}),he=e(15671),de=e(43144),ne=e(53640),s=e(60136),w=function(f){function i(){var u;return(0,he.Z)(this,i),u=(0,ne.Z)(this,i,arguments),u.state={error:void 0,info:{componentStack:""}},u}return(0,s.Z)(i,f),(0,de.Z)(i,[{key:"componentDidCatch",value:function(l,d){this.setState({error:l,info:d})}},{key:"render",value:function(){const{message:l,description:d,id:B,children:I}=this.props,{error:T,info:N}=this.state,L=(N==null?void 0:N.componentStack)||null,c=typeof l=="undefined"?(T||"").toString():l,U=typeof d=="undefined"?L:d;return T?r.createElement(ce,{id:B,type:"error",message:c,description:r.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},U)}):I}}])}(r.Component);const n=ce;n.ErrorBoundary=w;var S=n},49288:function(ge,x,e){var r=e(67294),_=e(93967),y=e.n(_),g=e(50344),v=e(98423),h=e(87263),m=e(8745),o=e(53124),C=e(74656);const{Option:A}=C.default;function Y(D){return(D==null?void 0:D.type)&&(D.type.isSelectOption||D.type.isSelectOptGroup)}const E=(D,F)=>{var P;const{prefixCls:b,className:t,popupClassName:M,dropdownClassName:Z,children:te,dataSource:ie}=D,J=(0,g.Z)(te);let q;J.length===1&&r.isValidElement(J[0])&&!Y(J[0])&&([q]=J);const a=q?()=>q:void 0;let Q;J.length&&Y(J[0])?Q=te:Q=ie?ie.map(ne=>{if(r.isValidElement(ne))return ne;switch(typeof ne){case"string":return r.createElement(A,{key:ne,value:ne},ne);case"object":{const{value:s}=ne;return r.createElement(A,{key:s,value:s},ne.text)}default:return}}):[];const{getPrefixCls:ce}=r.useContext(o.E_),he=ce("select",b),[de]=(0,h.Cn)("SelectLike",(P=D.dropdownStyle)===null||P===void 0?void 0:P.zIndex);return r.createElement(C.default,Object.assign({ref:F,suffixIcon:null},(0,v.Z)(D,["dataSource","dropdownClassName"]),{prefixCls:he,popupClassName:M||Z,dropdownStyle:Object.assign(Object.assign({},D.dropdownStyle),{zIndex:de}),className:y()(`${he}-auto-complete`,t),mode:C.default.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:a}),Q)},K=r.forwardRef(E),O=(0,m.Z)(K);K.Option=A,K._InternalPanelDoNotUseOrYouWillBeFired=O,x.Z=K},66309:function(ge,x,e){e.d(x,{Z:function(){return ne}});var r=e(67294),_=e(93967),y=e.n(_),g=e(98423),v=e(98787),h=e(69760),m=e(96159),o=e(45353),C=e(53124),A=e(85982),Y=e(10274),E=e(14747),K=e(83262),O=e(83559);const D=s=>{const{paddingXXS:R,lineWidth:w,tagPaddingHorizontal:n,componentCls:S,calc:f}=s,i=f(n).sub(w).equal(),u=f(R).sub(w).equal();return{[S]:Object.assign(Object.assign({},(0,E.Wf)(s)),{display:"inline-block",height:"auto",marginInlineEnd:s.marginXS,paddingInline:i,fontSize:s.tagFontSize,lineHeight:s.tagLineHeight,whiteSpace:"nowrap",background:s.defaultBg,border:`${(0,A.unit)(s.lineWidth)} ${s.lineType} ${s.colorBorder}`,borderRadius:s.borderRadiusSM,opacity:1,transition:`all ${s.motionDurationMid}`,textAlign:"start",position:"relative",[`&${S}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:s.defaultColor},[`${S}-close-icon`]:{marginInlineStart:u,fontSize:s.tagIconSize,color:s.colorTextDescription,cursor:"pointer",transition:`all ${s.motionDurationMid}`,"&:hover":{color:s.colorTextHeading}},[`&${S}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${s.iconCls}-close, ${s.iconCls}-close:hover`]:{color:s.colorTextLightSolid}},"&-checkable":{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${S}-checkable-checked):hover`]:{color:s.colorPrimary,backgroundColor:s.colorFillSecondary},"&:active, &-checked":{color:s.colorTextLightSolid},"&-checked":{backgroundColor:s.colorPrimary,"&:hover":{backgroundColor:s.colorPrimaryHover}},"&:active":{backgroundColor:s.colorPrimaryActive}},"&-hidden":{display:"none"},[`> ${s.iconCls} + span, > span + ${s.iconCls}`]:{marginInlineStart:i}}),[`${S}-borderless`]:{borderColor:"transparent",background:s.tagBorderlessBg}}},F=s=>{const{lineWidth:R,fontSizeIcon:w,calc:n}=s,S=s.fontSizeSM;return(0,K.mergeToken)(s,{tagFontSize:S,tagLineHeight:(0,A.unit)(n(s.lineHeightSM).mul(S).equal()),tagIconSize:n(w).sub(n(R).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:s.defaultBg})},P=s=>({defaultBg:new Y.C(s.colorFillQuaternary).onBackground(s.colorBgContainer).toHexString(),defaultColor:s.colorText});var b=(0,O.I$)("Tag",s=>{const R=F(s);return D(R)},P),t=function(s,R){var w={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&R.indexOf(n)<0&&(w[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,n=Object.getOwnPropertySymbols(s);S<n.length;S++)R.indexOf(n[S])<0&&Object.prototype.propertyIsEnumerable.call(s,n[S])&&(w[n[S]]=s[n[S]]);return w},Z=r.forwardRef((s,R)=>{const{prefixCls:w,style:n,className:S,checked:f,onChange:i,onClick:u}=s,l=t(s,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:d,tag:B}=r.useContext(C.E_),I=re=>{i==null||i(!f),u==null||u(re)},T=d("tag",w),[N,L,c]=b(T),U=y()(T,`${T}-checkable`,{[`${T}-checkable-checked`]:f},B==null?void 0:B.className,S,L,c);return N(r.createElement("span",Object.assign({},l,{ref:R,style:Object.assign(Object.assign({},n),B==null?void 0:B.style),className:U,onClick:I})))}),te=e(98719);const ie=s=>(0,te.Z)(s,(R,w)=>{let{textColor:n,lightBorderColor:S,lightColor:f,darkColor:i}=w;return{[`${s.componentCls}${s.componentCls}-${R}`]:{color:n,background:f,borderColor:S,"&-inverse":{color:s.colorTextLightSolid,background:i,borderColor:i},[`&${s.componentCls}-borderless`]:{borderColor:"transparent"}}}});var J=(0,O.bk)(["Tag","preset"],s=>{const R=F(s);return ie(R)},P);function q(s){return typeof s!="string"?s:s.charAt(0).toUpperCase()+s.slice(1)}const a=(s,R,w)=>{const n=q(w);return{[`${s.componentCls}${s.componentCls}-${R}`]:{color:s[`color${w}`],background:s[`color${n}Bg`],borderColor:s[`color${n}Border`],[`&${s.componentCls}-borderless`]:{borderColor:"transparent"}}}};var Q=(0,O.bk)(["Tag","status"],s=>{const R=F(s);return[a(R,"success","Success"),a(R,"processing","Info"),a(R,"error","Error"),a(R,"warning","Warning")]},P),ce=function(s,R){var w={};for(var n in s)Object.prototype.hasOwnProperty.call(s,n)&&R.indexOf(n)<0&&(w[n]=s[n]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var S=0,n=Object.getOwnPropertySymbols(s);S<n.length;S++)R.indexOf(n[S])<0&&Object.prototype.propertyIsEnumerable.call(s,n[S])&&(w[n[S]]=s[n[S]]);return w};const de=r.forwardRef((s,R)=>{const{prefixCls:w,className:n,rootClassName:S,style:f,children:i,icon:u,color:l,onClose:d,bordered:B=!0,visible:I}=s,T=ce(s,["prefixCls","className","rootClassName","style","children","icon","color","onClose","bordered","visible"]),{getPrefixCls:N,direction:L,tag:c}=r.useContext(C.E_),[U,re]=r.useState(!0),_e=(0,g.Z)(T,["closeIcon","closable"]);r.useEffect(()=>{I!==void 0&&re(I)},[I]);const ae=(0,v.o2)(l),V=(0,v.yT)(l),k=ae||V,Ie=Object.assign(Object.assign({backgroundColor:l&&!k?l:void 0},c==null?void 0:c.style),f),oe=N("tag",w),[fe,X,le]=b(oe),Ee=y()(oe,c==null?void 0:c.className,{[`${oe}-${l}`]:k,[`${oe}-has-color`]:l&&!k,[`${oe}-hidden`]:!U,[`${oe}-rtl`]:L==="rtl",[`${oe}-borderless`]:!B},n,S,X,le),xe=p=>{p.stopPropagation(),d==null||d(p),!p.defaultPrevented&&re(!1)},[,ve]=(0,h.Z)((0,h.w)(s),(0,h.w)(c),{closable:!1,closeIconRender:p=>{const W=r.createElement("span",{className:`${oe}-close-icon`,onClick:xe},p);return(0,m.wm)(p,W,z=>({onClick:Me=>{var H;(H=z==null?void 0:z.onClick)===null||H===void 0||H.call(z,Me),xe(Me)},className:y()(z==null?void 0:z.className,`${oe}-close-icon`)}))}}),$=typeof T.onClick=="function"||i&&i.type==="a",me=u||null,ee=me?r.createElement(r.Fragment,null,me,i&&r.createElement("span",null,i)):i,j=r.createElement("span",Object.assign({},_e,{ref:R,className:Ee,style:Ie}),ee,ve,ae&&r.createElement(J,{key:"preset",prefixCls:oe}),V&&r.createElement(Q,{key:"status",prefixCls:oe}));return fe($?r.createElement(o.Z,{component:"Tag"},j):j)});de.CheckableTag=Z;var ne=de},53640:function(ge,x,e){e.d(x,{Z:function(){return g}});var r=e(61120),_=e(78814),y=e(82963);function g(v,h,m){return h=(0,r.Z)(h),(0,y.Z)(v,(0,_.Z)()?Reflect.construct(h,m||[],(0,r.Z)(v).constructor):h.apply(v,m))}}}]);
