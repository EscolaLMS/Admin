(window.webpackJsonp=window.webpackJsonp||[]).push([[40],{"2ise":function(k,D,e){"use strict";e.r(D),e.d(D,"TableColumns",function(){return I});var S=e("qLMh"),p=e("9og8"),q=e("5Dmo"),J=e("3S7+"),ee=e("+L6B"),_=e("2/Rp"),W=e("tJVT"),T=e("jrin"),h=e("k1fw"),f=e("q1tI"),t=e("9kvl"),E=e("Qiat"),w=e("tMyG"),N=e("G3dp"),V=e("twdk"),G=e("y8nQ"),Q=e("Vl3Y"),j=e("rmhi"),$=e("VMEa"),K=e("Qurx"),F=e("Dmw0"),a=e("nKUr"),Y=function(o){var A=o.visible,L=o.onVisibleChange,s=o.onFinish,d=o.langKey,y=o.defaultValue,v=Object(t.l)(),c=Q.a.useForm(),M=Object(W.a)(c,1),C=M[0];return Object(f.useEffect)(function(){C.setFieldsValue({key:d,text:y})},[d,C]),Object(a.jsxs)(j.a,{form:C,title:v.formatMessage({id:"editTranslation",defaultMessage:"Edit Translation"}),width:"700px",visible:A,onVisibleChange:L,onFinish:function(Z){return s(Object(h.a)({},Z))},children:[Object(a.jsxs)($.a.Group,{children:[Object(a.jsx)(K.a,{disabled:!0,label:Object(a.jsx)(t.a,{id:"group",defaultMessage:"group"}),name:"group",initialValue:"Admin"}),Object(a.jsx)(K.a,{disabled:!0,name:"key",label:Object(a.jsx)(t.a,{id:"key"}),placeholder:v.formatMessage({id:"key"}),required:!0})]}),Object(a.jsx)($.a.Item,{name:"text",label:Object(a.jsx)(t.a,{id:"translationJsonText"}),tooltip:Object(a.jsx)(t.a,{id:"translationJsonText_tooltip"}),valuePropName:"value",children:Object(a.jsx)(F.a,{})})]})},x=Y,O=e("c+yx"),I=[{title:Object(a.jsx)(t.a,{id:"language",defaultMessage:"Language"}),dataIndex:"lang",sorter:!0,valueType:"select",valueEnum:Object(t.d)().reduce(function(g,o){return Object(h.a)(Object(h.a)({},g),{},Object(T.a)({},o,o))},{})},{title:Object(a.jsx)(t.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",sorter:!0},{title:Object(a.jsx)(t.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",sorter:!0}],H=function(){var o=Object(f.useState)(Math.random()),A=Object(W.a)(o,2),L=A[0],s=A[1],d=Object(f.useRef)(),y=Object(f.useState)(),v=Object(W.a)(y,2),c=v[0],M=v[1],C=Object(t.l)(),X=Object(f.useMemo)(function(){for(var m=[],u=Object.keys(t.g),r=function(){var i=R[n],B=t.g[i].messages;B&&Object.keys(B).forEach(function(b){m.push({id:"".concat(i,"-").concat(b),lang:i,key:b,value:B[b]})})},n=0,R=u;n<R.length;n++)r();return m},[L]),Z=Object(f.useCallback)(function(m){var u=X.reduce(function(r,n){return n.key===m?Object(h.a)(Object(h.a)({},r),{},Object(T.a)({},n.lang,n.value)):r},{});M({key:m,defaultValue:u})},[]);return Object(a.jsxs)(w.a,{children:[Object(a.jsx)(E.a,{headerTitle:C.formatMessage({id:"menu.Configuration.Translations",defaultMessage:"Translations"}),actionRef:d,search:{layout:"vertical"},rowKey:"id",request:function(u,r){var n=u.lang,R=u.key,l=u.value,i=r&&Object.entries(r)[0];return new Promise(function(B){var b=X.filter(function(U){var P=!0;return P&&n&&U.lang!==n&&(P=!1),P&&R&&!U.key.includes(R)&&(P=!1),P&&l&&typeof U.value=="string"&&U.value&&!U.value.includes(l)&&(P=!1),P});i&&(console.log("rows: ",b),console.log("sortArr: ",i),b=b.sort(Object(O.j)(i[0],i[1]!=="ascend"))),B({data:b,success:!0,total:b.length})})},columns:[].concat(I,[{title:Object(a.jsx)(t.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(u,r){return[Object(a.jsx)(J.a,{title:Object(a.jsx)(t.a,{id:"edit",defaultMessage:"edit"}),children:Object(a.jsx)(_.a,{type:"primary",icon:Object(a.jsx)(N.a,{}),onClick:function(){return Z(r.key)}})},"edit"),,]}}])})," ",Object(a.jsx)(x,{langKey:c==null?void 0:c.key,defaultValue:c==null?void 0:c.defaultValue,visible:!!c,onVisibleChange:function(u){return u===!1&&M(void 0)},onFinish:function(){var m=Object(p.a)(Object(S.a)().mark(function u(r){var n;return Object(S.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return Object.entries(r.text).forEach(function(i){i[1]&&Object(t.c)(i[0],Object(T.a)({},r.key,i[1]),{antd:t.g[i[0]].antd,momentLocale:t.g[i[0]].momentLocale})}),d.current&&(s(Math.random()),d.current.reload()),l.next=4,Object(V.e)({group:"Admin",key:r.key});case 4:if(n=l.sent,!n.success){l.next=12;break}if(!(n.data.length>0&&n.data[0].id)){l.next=10;break}Object(V.f)(n.data[0].id,r),l.next=12;break;case 10:return l.next=12,Object(V.a)(r);case 12:return M(void 0),l.abrupt("return",!0);case 14:case"end":return l.stop()}},u)}));return function(u){return m.apply(this,arguments)}}()})]})},z=D.default=H},Dmw0:function(k,D,e){"use strict";e.d(D,"a",function(){return F});var S=e("+L6B"),p=e("2/Rp"),q=e("14J3"),J=e("BMrR"),ee=e("jCWc"),_=e("kPKH"),W=e("5NDa"),T=e("5rEg"),h=e("tJVT"),f=e("jrin"),t=e("k1fw"),E=e("q1tI"),w=e.n(E),N=e("u95b"),V=e.n(N),G=e("9kvl"),Q=e("cYEv"),j=e("nKUr"),$=e.n(j),K=function(){return Object(G.d)().reduce(function(x,O){return Object(t.a)(Object(t.a)({},x),{},Object(f.a)({},O,""))},{})},F=function(x){var O=x.value,I=x.onChange,H=Object(E.useState)(K()),z=Object(h.a)(H,2),g=z[0],o=z[1];Object(E.useEffect)(function(){var s=typeof O=="object"?O:JSON.parse(O!=null?O:"{}");o(Object.assign(K(),s))},[O]),Object(E.useEffect)(function(){I&&JSON.stringify(g)!==JSON.stringify(O)&&I(g)},[g]);var A=Object(E.useCallback)(function(){o(function(s){return Object(t.a)(Object(t.a)({},s),{},{lang:""})})},[]),L=Object(E.useCallback)(function(s,d,y){o(function(v){return Object.entries(v).reduce(function(c,M,C){return C===s?Object(t.a)(Object(t.a)({},c),{},Object(f.a)({},d,y)):Object(t.a)(Object(t.a)({},c),{},Object(f.a)({},M[0],M[1]))},{})})},[]);return Object(j.jsxs)("div",{children:[Object.entries(g).map(function(s,d){return Object(j.jsxs)(J.a,{children:[Object(j.jsx)(_.a,{span:6,children:Object(j.jsx)(T.a,{disabled:Object(G.d)().includes(s[0]),value:s[0],maxLength:5,onChange:function(v){return L(d,v.target.value,s[1])}})}),Object(j.jsx)(_.a,{span:24-6,children:Object(j.jsx)(T.a,{value:s[1],onChange:function(v){return L(d,s[0],v.target.value)}})})]},d)}),Object(j.jsx)(p.a,{onClick:function(){return A()},icon:Object(j.jsx)(Q.a,{})})]})},a=F},u95b:function(k,D,e){}}]);
