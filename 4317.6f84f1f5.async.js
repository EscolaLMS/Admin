(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4317],{46936:function(){"use strict"},4554:function(){"use strict"},57913:function(cr,dr,xt){"use strict";var Ot=xt(73935),Yt=xt(16496),vt=xt.n(Yt),st=xt(49638),K=xt.n(st),A=xt(67294);function x(F,V,z){return V in F?Object.defineProperty(F,V,{value:z,enumerable:!0,configurable:!0,writable:!0}):F[V]=z,F}function m(F){for(var V=1;V<arguments.length;V++){var z=arguments[V]!=null?arguments[V]:{},T=Object.keys(z);typeof Object.getOwnPropertySymbols=="function"&&(T=T.concat(Object.getOwnPropertySymbols(z).filter(function(q){return Object.getOwnPropertyDescriptor(z,q).enumerable}))),T.forEach(function(q){x(F,q,z[q])})}return F}function y(F,V){if(!(F instanceof V))throw new TypeError("Cannot call a class as a function")}function _(F,V){for(var z=0;z<V.length;z++){var T=V[z];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(F,T.key,T)}}function v(F,V,z){return V&&_(F.prototype,V),z&&_(F,z),F}function I(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?I=function(z){return typeof z}:I=function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":typeof z},I(F)}function h(F){return typeof Symbol=="function"&&I(Symbol.iterator)==="symbol"?h=function(z){return I(z)}:h=function(z){return z&&typeof Symbol=="function"&&z.constructor===Symbol&&z!==Symbol.prototype?"symbol":I(z)},h(F)}function i(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}function n(F,V){return V&&(h(V)==="object"||typeof V=="function")?V:i(F)}function o(F){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(z){return z.__proto__||Object.getPrototypeOf(z)},o(F)}function a(F,V){return a=Object.setPrototypeOf||function(T,q){return T.__proto__=q,T},a(F,V)}function d(F,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function");F.prototype=Object.create(V&&V.prototype,{constructor:{value:F,writable:!0,configurable:!0}}),V&&a(F,V)}function p(F){if(Array.isArray(F)){for(var V=0,z=new Array(F.length);V<F.length;V++)z[V]=F[V];return z}}function f(F){if(Symbol.iterator in Object(F)||Object.prototype.toString.call(F)==="[object Arguments]")return Array.from(F)}function l(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function S(F){return p(F)||f(F)||l()}var k={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},P=function F(){var V=this;y(this,F),this.startListen=function(z){z&&z.addEventListener("keydown",V.f)},this.stopListen=function(z){z&&z.removeEventListener("keydown",V.f)},this.add=function(z,T){var q=z;return typeof q!="object"&&(q=[q]),V.listeners[V.index]={keyCode:q,fn:T},V.index++},this.remove=function(z){delete V.listeners[z]},this.removeAll=function(){V.listeners={},V.index=1},this.index=1,this.listeners={},this.f=function(z){if(z){var T=z.keyCode||z.which;Object.values(V.listeners).forEach(function(q){var ge=q.keyCode,de=q.fn;ge.includes(T)&&(z.stopPropagation(),z.preventDefault(),de(z))})}}},c=new P,C=function(F){d(V,F);function V(){var z,T;y(this,V);for(var q=arguments.length,ge=new Array(q),de=0;de<q;de++)ge[de]=arguments[de];return T=n(this,(z=o(V)).call.apply(z,[this].concat(ge))),T.selectItem=function(){var ve=T.props,oe=ve.item,$=ve.onSelectHandler;$(oe)},T}return v(V,[{key:"shouldComponentUpdate",value:function(T){return this.props.item!==T.item||this.props.selected!==T.selected||this.props.style!==T.style||this.props.className!==T.className}},{key:"render",value:function(){var T=this,q=this.props,ge=q.component,de=q.style,ve=q.onClickHandler,oe=q.item,$=q.selected,ee=q.className,se=q.innerRef;return A.createElement("li",{className:"rta__item  ".concat($===!0?"rta__item--selected":""," ").concat(ee||""),style:de},A.createElement("div",{className:"rta__entity ".concat($===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:ve,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){T.clicked=!0,T.selectItem()},onTouchEnd:function(_e){_e.preventDefault(),T.clicked&&ve(_e)},onTouchMove:function(){T.clicked=!1},onTouchCancel:function(){T.clicked=!1},ref:se},A.createElement(ge,{selected:$,entity:oe})))}}]),V}(A.Component),O=function(F){d(V,F);function V(){var z,T;y(this,V);for(var q=arguments.length,ge=new Array(q),de=0;de<q;de++)ge[de]=arguments[de];return T=n(this,(z=o(V)).call.apply(z,[this].concat(ge))),T.state={selectedItem:null},T.cachedIdOfItems=new Map,T.onPressEnter=function(ve){typeof ve!="undefined"&&ve.preventDefault();var oe=T.props.values;T.modifyText(oe[T.getPositionInList()])},T.getPositionInList=function(){var ve=T.props.values,oe=T.state.selectedItem;return oe?ve.findIndex(function($){return T.getId($)===T.getId(oe)}):0},T.getId=function(ve){if(T.cachedIdOfItems.has(ve))return T.cachedIdOfItems.get(ve);var oe=T.props.getTextToReplace(ve),$=function(){if(oe){if(oe.key)return oe.key;if(typeof ve=="string"||!ve.key)return oe.text}if(!ve.key)throw new Error("Item ".concat(JSON.stringify(ve),' has to have defined "key" property'));return ve.key},ee=$();return T.cachedIdOfItems.set(ve,ee),ee},T.listeners=[],T.itemsRef={},T.modifyText=function(ve){if(ve){var oe=T.props.onSelect;oe(ve)}},T.selectItem=function(ve){var oe=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,$=T.props.onItemHighlighted;T.state.selectedItem!==ve&&T.setState({selectedItem:ve},function(){$(ve),oe&&T.props.dropdownScroll(T.itemsRef[T.getId(ve)])})},T.scroll=function(ve){ve.preventDefault();var oe=T.props.values,$=ve.keyCode||ve.which,ee=T.getPositionInList(),se;switch($){case k.DOWN:se=ee+1;break;case k.UP:se=ee-1;break;default:se=ee;break}se=(se%oe.length+oe.length)%oe.length,T.selectItem(oe[se],[k.DOWN,k.UP].includes($))},T.isSelected=function(ve){var oe=T.state.selectedItem;return oe?T.getId(oe)===T.getId(ve):!1},T}return v(V,[{key:"componentDidMount",value:function(){this.listeners.push(c.add([k.DOWN,k.UP],this.scroll),c.add([k.ENTER,k.TAB],this.onPressEnter));var T=this.props.values;T&&T[0]&&this.selectItem(T[0])}},{key:"componentDidUpdate",value:function(T){var q=this,ge=T.values,de=this.props.values,ve=ge.map(function($){return q.getId($)}).join(""),oe=de.map(function($){return q.getId($)}).join("");ve!==oe&&de&&de[0]&&this.selectItem(de[0])}},{key:"componentWillUnmount",value:function(){for(var T;this.listeners.length;)T=this.listeners.pop(),c.remove(T)}},{key:"render",value:function(){var T=this,q=this.props,ge=q.values,de=q.component,ve=q.style,oe=q.itemClassName,$=q.className,ee=q.itemStyle;return A.createElement("ul",{className:"rta__list ".concat($||""),style:ve},ge.map(function(se){return A.createElement(C,{key:T.getId(se),innerRef:function(_e){T.itemsRef[T.getId(se)]=_e},selected:T.isSelected(se),item:se,className:oe,style:ee,onClickHandler:T.onPressEnter,onSelectHandler:T.selectItem,component:de})}))}}]),V}(A.Component);function L(F,V){var z=parseInt(getComputedStyle(V).getPropertyValue("height"),10),T=parseInt(getComputedStyle(F).getPropertyValue("height"),10)-z,q=V.offsetTop,ge=F.scrollTop;q<ge+T&&ge<q||(F.scrollTop=q)}var j="next",H={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},M=function(V){return console.error("RTA: dataProvider fails: ".concat(V,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},B=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],U=function(V){return S(V).map(function(z){return B.includes(z)?"\\".concat(z):z}).join("")},W=function(F){d(V,F);function V(){return y(this,V),n(this,o(V).apply(this,arguments))}return v(V,[{key:"componentDidMount",value:function(){var T=this.props.boundariesElement;if(typeof T=="string"){var q=document.querySelector(T);if(!q)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=q}else if(T instanceof HTMLElement)this.containerElem=T;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var T,q,ge=this.props.top||0,de=this.props.left||0,ve=[],oe=[],$=0,ee=0,se=this.containerElem.getBoundingClientRect(),re=this.ref.getBoundingClientRect(),_e=this.props.textareaRef.getBoundingClientRect(),ke=window.getComputedStyle(this.ref),Oe=parseInt(ke.getPropertyValue("margin-top"),10),ye=parseInt(ke.getPropertyValue("margin-bottom"),10),Ve=parseInt(ke.getPropertyValue("margin-left"),10),Me=parseInt(ke.getPropertyValue("margin-right"),10),Ge=Oe+ye+_e.top+ge+re.height,je=Ve+Me+_e.left+de+re.width;je>se.right&&_e.left+de>re.width?(ee=de-re.width,ve.push(H.X.LEFT),oe.push(H.X.RIGHT)):(ee=de,ve.push(H.X.RIGHT),oe.push(H.X.LEFT)),Ge>se.bottom&&_e.top+ge>re.height?($=ge-re.height,ve.push(H.Y.TOP),oe.push(H.Y.BOTTOM)):($=ge,ve.push(H.Y.BOTTOM),oe.push(H.Y.TOP)),this.props.renderToBody&&($+=_e.top,ee+=_e.left),this.ref.style.top="".concat($,"px"),this.ref.style.left="".concat(ee,"px"),(T=this.ref.classList).remove.apply(T,oe),(q=this.ref.classList).add.apply(q,ve)}},{key:"render",value:function(){var T=this,q=this.props,ge=q.style,de=q.className,ve=q.innerRef,oe=q.children,$=q.renderToBody,ee=document.body,se=A.createElement("div",{ref:function(_e){T.ref=_e,ve(_e)},className:"rta__autocomplete ".concat(de||""),style:ge},oe);return $&&ee!==null?Ot.createPortal(se,ee):se}}]),V}(A.Component),R=function(F){d(V,F);function V(z){var T;y(this,V),T=n(this,o(V).call(this,z)),T.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},T.escListenerInit=function(){T.escListener||(T.escListener=c.add(k.ESC,T._closeAutocomplete))},T.escListenerDestroy=function(){T.escListener&&(c.remove(T.escListener),T.escListener=null)},T.getSelectionPosition=function(){return T.textareaRef?{selectionStart:T.textareaRef.selectionStart,selectionEnd:T.textareaRef.selectionEnd}:null},T.getSelectedText=function(){if(!T.textareaRef)return null;var oe=T.textareaRef,$=oe.selectionStart,ee=oe.selectionEnd;return $===ee?null:T.state.value.substr($,ee-$)},T.setCaretPosition=function(){var oe=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;T.textareaRef&&(T.textareaRef.focus(),T.textareaRef.setSelectionRange(oe,oe))},T.getCaretPosition=function(){if(!T.textareaRef)return 0;var oe=T.textareaRef.selectionEnd;return oe},T._handleCaretChange=function(oe){var $=function(){var re=T.getCaretPosition()-1;T.lastTrigger=T.lastTrigger?re:0};if(oe.type==="keydown"){var ee=oe.keyCode||oe.which;switch(ee){case k.UP:case k.DOWN:T._isAutocompleteOpen()||$();break;case k.LEFT:case k.RIGHT:$();break;default:}return}$()},T._onSelect=function(oe){var $=T.state,ee=$.selectionEnd,se=$.currentTrigger,re=$.value,_e=T.props.onItemSelected;if(se){var ke=T._getTextToReplace(se);if(!ke){T._closeAutocomplete();return}var Oe=ke(oe);if(!Oe){T._closeAutocomplete();return}_e&&_e({currentTrigger:se,item:oe});var ye=function(at,et,lt){switch(at){case"start":return lt;case"next":case"end":return lt+et.length;default:if(!Number.isInteger(at))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return at}},Ve=re.slice(0,ee),Me=U(se),Ge=Ve.length-Ve.lastIndexOf(se),je=Ve.search(new RegExp("(?!".concat(Me,")$")))-Ge,Te=Oe.caretPosition==="next"?"".concat(Oe.text," "):Oe.text,qe=ye(Oe.caretPosition,Te,je),Xe=Ve.substring(0,je)+Te,be=re.replace(Ve,Xe);T.setState({value:be,dataLoading:!1},function(){var Ze=T.tokenRegExpEnding.exec(Te),at=Ze?Ze[0].length:1;T.lastTrigger=qe&&qe-at,T.textareaRef.value=be,T.textareaRef.selectionEnd=qe,T._changeHandler();var et=T.textareaRef.scrollTop;T.setCaretPosition(qe),window.chrome&&(T.textareaRef.scrollTop=et)})}},T._getTextToReplace=function(oe){var $=T.props.trigger[oe];if(!oe||!$)return null;var ee=$.output;return function(se){if(typeof se=="object"&&(!ee||typeof ee!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if(ee){var re=ee(se,oe);if(re===void 0||typeof re=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(re),'". Check the implementation for trigger "').concat(oe,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(re===null)return null;if(typeof re=="string")return{text:re,caretPosition:j};if(!re.text&&typeof re.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(oe,`"
`));if(!re.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(oe,`"
`));return re}if(typeof se!="string")throw new Error(`Output item should be string
`);return{text:"".concat(oe).concat(se).concat(oe),caretPosition:j}}},T._getCurrentTriggerSettings=function(){var oe=T.state.currentTrigger;return oe?T.props.trigger[oe]:null},T._getValuesFromProvider=function(){var oe=T.state,$=oe.currentTrigger,ee=oe.actualToken,se=T._getCurrentTriggerSettings();if(!(!$||!se)){var re=se.dataProvider,_e=se.component;if(typeof re!="function")throw new Error("Trigger provider has to be a function!");T.setState({dataLoading:!0});var ke=re(ee);ke instanceof Promise||(ke=Promise.resolve(ke)),ke.then(function(Oe){if(!Array.isArray(Oe))throw new Error("Trigger provider has to provide an array!");if(typeof _e!="function")throw new Error("Component should be defined!");if($===T.state.currentTrigger){if(!Oe.length){T._closeAutocomplete();return}T.setState({dataLoading:!1,data:Oe,component:_e})}}).catch(function(Oe){return M(Oe.message)})}},T._getSuggestions=function(){var oe=T.state,$=oe.currentTrigger,ee=oe.data;return!$||!ee||ee&&!ee.length?null:ee},T._createRegExp=function(){var oe=T.props.trigger;T.tokenRegExp=new RegExp("(".concat(Object.keys(oe).sort(function($,ee){return $<ee?1:$>ee?-1:0}).map(function($){return U($)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),T.tokenRegExpEnding=new RegExp("(".concat(Object.keys(oe).sort(function($,ee){return $<ee?1:$>ee?-1:0}).map(function($){return U($)}).join("|"),")$"))},T._closeAutocomplete=function(){var oe=T.state.currentTrigger;T.escListenerDestroy(),T.setState({data:null,dataLoading:!1,currentTrigger:null},function(){oe&&T._onItemHighlightedHandler(null)})},T._cleanUpProps=function(){var oe=m({},T.props),$=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var ee in oe)$.includes(ee)&&delete oe[ee];return oe},T._changeHandler=function(oe){var $=T.props,ee=$.trigger,se=$.onChange,re=$.minChar,_e=$.onCaretPositionChange,ke=$.movePopupAsYouType,Oe=T.state,ye=Oe.top,Ve=Oe.left,Me=oe;Me||(Me=new(K())("change",{bubbles:!0}),T.textareaRef.dispatchEvent(Me));var Ge=Me.target||T.textareaRef,je=Ge.selectionEnd,Te=Ge.value;if(T.lastValueBubbledEvent=Te,se&&Me&&(Me.persist&&Me.persist(),se(new Proxy(Me,{get:function(ne,Ct,pr){return Ct==="target"?Ge:Reflect.get(ne,Ct,pr)}}))),_e){var qe=T.getCaretPosition();_e(qe)}T.setState({value:Te});var Xe=function(){var ne=vt()(Ge,je),Ct=ne.top,pr=ne.left;T.setState({top:Ct-T.textareaRef.scrollTop||0,left:pr})},be=function(ne){T.lastTrigger=je-ne,T._closeAutocomplete(),Xe()};if(je<=T.lastTrigger){var Ze=Te.slice(0,je),at=T.tokenRegExp.exec(Ze);be(at?at[0].length:0)}var et=Te.slice(T.lastTrigger,je),lt=T.tokenRegExp.exec(et),St=lt&&lt[0],gt=lt&&lt[1]||null,ut=gt?gt.length-1:0,$t=T.tokenRegExpEnding.exec(et);if($t?be($t[0].length):T._isAutocompleteOpen()||T._closeAutocomplete(),(!St||St.length<=re+ut)&&(T.state.currentTrigger&&!ee[T.state.currentTrigger].allowWhitespace||!T.state.currentTrigger)){T._closeAutocomplete();return}if(gt&&ee[gt].afterWhitespace&&!/\s/.test(Te[je-St.length-1])&&Te[je-St.length-1]!==void 0){T._closeAutocomplete();return}if(T.state.currentTrigger&&ee[T.state.currentTrigger].allowWhitespace){if(lt=new RegExp("".concat(U(T.state.currentTrigger),".*$")).exec(Te.slice(0,je)),St=lt&&lt[0],!St){T._closeAutocomplete();return}gt=Object.keys(ee).find(function(zt){return zt.slice(0,ut+1)===St.slice(0,ut+1)})||null}var ir=St.slice(1);if(gt){(ke||ye===null&&Ve===null||T.state.currentTrigger!==gt)&&Xe(),T.escListenerInit();var Qt=T._getTextToReplace(gt);T.setState({selectionEnd:je,currentTrigger:gt,textToReplace:Qt,actualToken:ir},function(){try{T._getValuesFromProvider()}catch(zt){M(zt.message)}})}},T._selectHandler=function(oe){var $=T.props,ee=$.onCaretPositionChange,se=$.onSelect;if(ee){var re=T.getCaretPosition();ee(re)}se&&(oe.persist(),se(oe))},T._shouldStayOpen=function(oe){var $=oe.relatedTarget;return $===null&&($=document.activeElement),!!(T.dropdownRef&&$ instanceof Node&&T.dropdownRef.contains($))},T._onClick=function(oe){var $=T.props.onClick;$&&(oe.persist(),$(oe)),!T._shouldStayOpen(oe)&&T._closeAutocomplete()},T._onBlur=function(oe){var $=T.props.onBlur;$&&(oe.persist(),$(oe)),!T._shouldStayOpen(oe)&&T._closeAutocomplete()},T._onScrollHandler=function(){T._closeAutocomplete()},T._onItemHighlightedHandler=function(oe){var $=T.props.onItemHighlighted,ee=T.state.currentTrigger;if($)if(typeof $=="function")$({currentTrigger:ee,item:oe});else throw new Error("`onItemHighlighted` has to be a function")},T._dropdownScroll=function(oe){var $=T.props.scrollToItem;if($){if($===!0){L(T.dropdownRef,oe);return}if(typeof $!="function"||$.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");$(T.dropdownRef,oe)}},T._isAutocompleteOpen=function(){var oe=T.state,$=oe.dataLoading,ee=oe.currentTrigger,se=T._getSuggestions();return!!(($||se)&&ee)},T._textareaRef=function(oe){T.props.innerRef&&T.props.innerRef(oe),T.textareaRef=oe},T.lastTrigger=0,T.escListener=null;var q=T.props,ge=q.loadingComponent,de=q.trigger,ve=q.value;if(ve&&(T.state.value=ve),T._createRegExp(),!ge)throw new Error("RTA: loadingComponent is not defined");if(!de)throw new Error("RTA: trigger is not defined");return T}return v(V,[{key:"componentDidMount",value:function(){c.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(T){var q=T.trigger,ge=T.value,de=this.props,ve=de.trigger,oe=de.value;Object.keys(ve).join("")!==Object.keys(q).join("")&&this._createRegExp(),ge!==oe&&this.lastValueBubbledEvent!==oe&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),c.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var T=this,q=this.props,ge=q.loadingComponent,de=q.style,ve=q.className,oe=q.listStyle,$=q.itemStyle,ee=q.boundariesElement,se=q.movePopupAsYouType,re=q.listClassName,_e=q.itemClassName,ke=q.dropdownClassName,Oe=q.dropdownStyle,ye=q.containerStyle,Ve=q.containerClassName,Me=q.loaderStyle,Ge=q.loaderClassName,je=q.textAreaComponent,Te=q.renderToBody,qe=this.state,Xe=qe.left,be=qe.top,Ze=qe.dataLoading,at=qe.component,et=qe.value,lt=qe.textToReplace,St=this._isAutocompleteOpen(),gt=this._getSuggestions(),ut={},$t;return je.component?($t=je.component,ut[je.ref]=this._textareaRef):($t=je,ut.ref=this._textareaRef),A.createElement("div",{className:"rta ".concat(Ze===!0?"rta--loading":""," ").concat(Ve||""),style:ye},A.createElement($t,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(ve||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:et,style:de},ut)),St&&A.createElement(W,{innerRef:function(Qt){T.dropdownRef=Qt},top:be,left:Xe,style:Oe,className:ke,movePopupAsYouType:se,boundariesElement:ee,textareaRef:this.textareaRef,renderToBody:Te},gt&&at&&lt&&A.createElement(O,{values:gt,component:at,style:oe,className:re,itemClassName:_e,itemStyle:$,getTextToReplace:lt,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),Ze&&A.createElement("div",{className:"rta__loader ".concat(gt!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(Ge||""),style:Me},A.createElement(ge,{data:gt}))))}}],[{key:"getDerivedStateFromProps",value:function(T){var q=T.value;return q==null?null:{value:q}}}]),V}(A.Component);R.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1},dr.Z=R},49638:function(cr,dr,xt){var Ot=xt.g.CustomEvent;function Yt(){try{var vt=new Ot("cat",{detail:{foo:"bar"}});return vt.type==="cat"&&vt.detail.foo==="bar"}catch(st){}return!1}cr.exports=Yt()?Ot:typeof document!="undefined"&&typeof document.createEvent=="function"?function(st,K){var A=document.createEvent("CustomEvent");return K?A.initCustomEvent(st,K.bubbles,K.cancelable,K.detail):A.initCustomEvent(st,!1,!1,void 0),A}:function(st,K){var A=document.createEventObject();return A.type=st,K?(A.bubbles=!!K.bubbles,A.cancelable=!!K.cancelable,A.detail=K.detail):(A.bubbles=!1,A.cancelable=!1,A.detail=void 0),A}},79031:function(cr,dr,xt){var Ot=xt(48764).lW;(()=>{var Yt={456:(K,A,x)=>{"use strict";var m=x(453),y=x(487),_=y(m("String.prototype.indexOf"));K.exports=function(v,I){var h=m(v,!!I);return typeof h=="function"&&_(v,".prototype.")>-1?y(h):h}},487:(K,A,x)=>{"use strict";var m=x(6743),y=x(453),_=x(6897),v=x(9675),I=y("%Function.prototype.apply%"),h=y("%Function.prototype.call%"),i=y("%Reflect.apply%",!0)||m.call(h,I),n=x(655),o=y("%Math.max%");K.exports=function(d){if(typeof d!="function")throw new v("a function is required");var p=i(m,h,arguments);return _(p,1+o(0,d.length-(arguments.length-1)),!0)};var a=function(){return i(m,I,arguments)};n?n(K.exports,"apply",{value:a}):K.exports.apply=a},4982:(K,A,x)=>{var m=x(1189),y=x(7244),_=x(7653),v=x(4035),I=x(1589),h=x(2120),i=Date.prototype.getTime;function n(a){return a==null}function o(a){return!(!a||typeof a!="object"||typeof a.length!="number"||typeof a.copy!="function"||typeof a.slice!="function"||a.length>0&&typeof a[0]!="number")}K.exports=function a(d,p,f){var l=f||{};return!!(l.strict?_(d,p):d===p)||(!d||!p||typeof d!="object"&&typeof p!="object"?l.strict?_(d,p):d==p:function(S,k,P){var c,C;if(typeof S!=typeof k||n(S)||n(k)||S.prototype!==k.prototype||y(S)!==y(k))return!1;var O=v(S),L=v(k);if(O!==L)return!1;if(O||L)return S.source===k.source&&I(S)===I(k);if(h(S)&&h(k))return i.call(S)===i.call(k);var j=o(S),H=o(k);if(j!==H)return!1;if(j||H){if(S.length!==k.length)return!1;for(c=0;c<S.length;c++)if(S[c]!==k[c])return!1;return!0}if(typeof S!=typeof k)return!1;try{var M=m(S),B=m(k)}catch(U){return!1}if(M.length!==B.length)return!1;for(M.sort(),B.sort(),c=M.length-1;c>=0;c--)if(M[c]!=B[c])return!1;for(c=M.length-1;c>=0;c--)if(!a(S[C=M[c]],k[C],P))return!1;return!0}(d,p,l))}},41:(K,A,x)=>{"use strict";var m=x(655),y=x(8068),_=x(9675),v=x(5795);K.exports=function(I,h,i){if(!I||typeof I!="object"&&typeof I!="function")throw new _("`obj` must be an object or a function`");if(typeof h!="string"&&typeof h!="symbol")throw new _("`property` must be a string or a symbol`");if(arguments.length>3&&typeof arguments[3]!="boolean"&&arguments[3]!==null)throw new _("`nonEnumerable`, if provided, must be a boolean or null");if(arguments.length>4&&typeof arguments[4]!="boolean"&&arguments[4]!==null)throw new _("`nonWritable`, if provided, must be a boolean or null");if(arguments.length>5&&typeof arguments[5]!="boolean"&&arguments[5]!==null)throw new _("`nonConfigurable`, if provided, must be a boolean or null");if(arguments.length>6&&typeof arguments[6]!="boolean")throw new _("`loose`, if provided, must be a boolean");var n=arguments.length>3?arguments[3]:null,o=arguments.length>4?arguments[4]:null,a=arguments.length>5?arguments[5]:null,d=arguments.length>6&&arguments[6],p=!!v&&v(I,h);if(m)m(I,h,{configurable:a===null&&p?p.configurable:!a,enumerable:n===null&&p?p.enumerable:!n,value:i,writable:o===null&&p?p.writable:!o});else{if(!d&&(n||o||a))throw new y("This environment does not support defining a property as non-configurable, non-writable, or non-enumerable.");I[h]=i}}},8452:(K,A,x)=>{"use strict";var m=x(1189),y=typeof Symbol=="function"&&typeof Symbol("foo")=="symbol",_=Object.prototype.toString,v=Array.prototype.concat,I=x(41),h=x(592)(),i=function(o,a,d,p){if(a in o){if(p===!0){if(o[a]===d)return}else if(typeof(f=p)!="function"||_.call(f)!=="[object Function]"||!p())return}var f;h?I(o,a,d,!0):I(o,a,d)},n=function(o,a){var d=arguments.length>2?arguments[2]:{},p=m(a);y&&(p=v.call(p,Object.getOwnPropertySymbols(a)));for(var f=0;f<p.length;f+=1)i(o,p[f],a[p[f]],d[p[f]])};n.supportsDescriptors=!!h,K.exports=n},3939:K=>{"use strict";var A={single_source_shortest_paths:function(x,m,y){var _={},v={};v[m]=0;var I,h,i,n,o,a,d,p=A.PriorityQueue.make();for(p.push(m,0);!p.empty();)for(i in h=(I=p.pop()).value,n=I.cost,o=x[h]||{})o.hasOwnProperty(i)&&(a=n+o[i],d=v[i],(v[i]===void 0||d>a)&&(v[i]=a,p.push(i,a),_[i]=h));if(y!==void 0&&v[y]===void 0){var f=["Could not find a path from ",m," to ",y,"."].join("");throw new Error(f)}return _},extract_shortest_path_from_predecessor_list:function(x,m){for(var y=[],_=m;_;)y.push(_),x[_],_=x[_];return y.reverse(),y},find_path:function(x,m,y){var _=A.single_source_shortest_paths(x,m,y);return A.extract_shortest_path_from_predecessor_list(_,y)},PriorityQueue:{make:function(x){var m,y=A.PriorityQueue,_={};for(m in x=x||{},y)y.hasOwnProperty(m)&&(_[m]=y[m]);return _.queue=[],_.sorter=x.sorter||y.default_sorter,_},default_sorter:function(x,m){return x.cost-m.cost},push:function(x,m){var y={value:x,cost:m};this.queue.push(y),this.queue.sort(this.sorter)},pop:function(){return this.queue.shift()},empty:function(){return this.queue.length===0}}};K.exports=A},9049:K=>{"use strict";K.exports=function(A){for(var x=[],m=A.length,y=0;y<m;y++){var _=A.charCodeAt(y);if(_>=55296&&_<=56319&&m>y+1){var v=A.charCodeAt(y+1);v>=56320&&v<=57343&&(_=1024*(_-55296)+v-56320+65536,y+=1)}_<128?x.push(_):_<2048?(x.push(_>>6|192),x.push(63&_|128)):_<55296||_>=57344&&_<65536?(x.push(_>>12|224),x.push(_>>6&63|128),x.push(63&_|128)):_>=65536&&_<=1114111?(x.push(_>>18|240),x.push(_>>12&63|128),x.push(_>>6&63|128),x.push(63&_|128)):x.push(239,191,189)}return new Uint8Array(x).buffer}},655:(K,A,x)=>{"use strict";var m=x(453)("%Object.defineProperty%",!0)||!1;if(m)try{m({},"a",{value:1})}catch(y){m=!1}K.exports=m},1237:K=>{"use strict";K.exports=EvalError},9383:K=>{"use strict";K.exports=Error},9290:K=>{"use strict";K.exports=RangeError},9538:K=>{"use strict";K.exports=ReferenceError},8068:K=>{"use strict";K.exports=SyntaxError},9675:K=>{"use strict";K.exports=TypeError},5345:K=>{"use strict";K.exports=URIError},2849:K=>{"use strict";var A=Object.prototype.hasOwnProperty,x=Object.prototype.toString,m=Object.defineProperty,y=Object.getOwnPropertyDescriptor,_=function(i){return typeof Array.isArray=="function"?Array.isArray(i):x.call(i)==="[object Array]"},v=function(i){if(!i||x.call(i)!=="[object Object]")return!1;var n,o=A.call(i,"constructor"),a=i.constructor&&i.constructor.prototype&&A.call(i.constructor.prototype,"isPrototypeOf");if(i.constructor&&!o&&!a)return!1;for(n in i);return n===void 0||A.call(i,n)},I=function(i,n){m&&n.name==="__proto__"?m(i,n.name,{enumerable:!0,configurable:!0,value:n.newValue,writable:!0}):i[n.name]=n.newValue},h=function(i,n){if(n==="__proto__"){if(!A.call(i,n))return;if(y)return y(i,n).value}return i[n]};K.exports=function i(){var n,o,a,d,p,f,l=arguments[0],S=1,k=arguments.length,P=!1;for(typeof l=="boolean"&&(P=l,l=arguments[1]||{},S=2),(l==null||typeof l!="object"&&typeof l!="function")&&(l={});S<k;++S)if((n=arguments[S])!=null)for(o in n)a=h(l,o),l!==(d=h(n,o))&&(P&&d&&(v(d)||(p=_(d)))?(p?(p=!1,f=a&&_(a)?a:[]):f=a&&v(a)?a:{},I(l,{name:o,newValue:i(P,f,d)})):d!==void 0&&I(l,{name:o,newValue:d}));return l}},5606:K=>{var A=-1,x=1,m=0;function y(o,a,d){if(o==a)return o?[[m,o]]:[];(d<0||o.length<d)&&(d=null);var p=v(o,a),f=o.substring(0,p);p=I(o=o.substring(p),a=a.substring(p));var l=o.substring(o.length-p),S=function(k,P){var c;if(!k)return[[x,P]];if(!P)return[[A,k]];var C=k.length>P.length?k:P,O=k.length>P.length?P:k,L=C.indexOf(O);if(L!=-1)return c=[[x,C.substring(0,L)],[m,O],[x,C.substring(L+O.length)]],k.length>P.length&&(c[0][0]=c[2][0]=A),c;if(O.length==1)return[[A,k],[x,P]];var j=function(V,z){var T=V.length>z.length?V:z,q=V.length>z.length?z:V;if(T.length<4||2*q.length<T.length)return null;function ge(_e,ke,Oe){for(var ye,Ve,Me,Ge,je=_e.substring(Oe,Oe+Math.floor(_e.length/4)),Te=-1,qe="";(Te=ke.indexOf(je,Te+1))!=-1;){var Xe=v(_e.substring(Oe),ke.substring(Te)),be=I(_e.substring(0,Oe),ke.substring(0,Te));qe.length<be+Xe&&(qe=ke.substring(Te-be,Te)+ke.substring(Te,Te+Xe),ye=_e.substring(0,Oe-be),Ve=_e.substring(Oe+Xe),Me=ke.substring(0,Te-be),Ge=ke.substring(Te+Xe))}return 2*qe.length>=_e.length?[ye,Ve,Me,Ge,qe]:null}var de,ve,oe,$,ee,se=ge(T,q,Math.ceil(T.length/4)),re=ge(T,q,Math.ceil(T.length/2));return se||re?(de=re?se&&se[4].length>re[4].length?se:re:se,V.length>z.length?(ve=de[0],oe=de[1],$=de[2],ee=de[3]):($=de[0],ee=de[1],ve=de[2],oe=de[3]),[ve,oe,$,ee,de[4]]):null}(k,P);if(j){var H=j[0],M=j[1],B=j[2],U=j[3],W=j[4],R=y(H,B),F=y(M,U);return R.concat([[m,W]],F)}return function(V,z){for(var T=V.length,q=z.length,ge=Math.ceil((T+q)/2),de=ge,ve=2*ge,oe=new Array(ve),$=new Array(ve),ee=0;ee<ve;ee++)oe[ee]=-1,$[ee]=-1;oe[de+1]=0,$[de+1]=0;for(var se=T-q,re=se%2!=0,_e=0,ke=0,Oe=0,ye=0,Ve=0;Ve<ge;Ve++){for(var Me=-Ve+_e;Me<=Ve-ke;Me+=2){for(var Ge=de+Me,je=(Ze=Me==-Ve||Me!=Ve&&oe[Ge-1]<oe[Ge+1]?oe[Ge+1]:oe[Ge-1]+1)-Me;Ze<T&&je<q&&V.charAt(Ze)==z.charAt(je);)Ze++,je++;if(oe[Ge]=Ze,Ze>T)ke+=2;else if(je>q)_e+=2;else if(re&&(Xe=de+se-Me)>=0&&Xe<ve&&$[Xe]!=-1&&Ze>=(qe=T-$[Xe]))return _(V,z,Ze,je)}for(var Te=-Ve+Oe;Te<=Ve-ye;Te+=2){for(var qe,Xe=de+Te,be=(qe=Te==-Ve||Te!=Ve&&$[Xe-1]<$[Xe+1]?$[Xe+1]:$[Xe-1]+1)-Te;qe<T&&be<q&&V.charAt(T-qe-1)==z.charAt(q-be-1);)qe++,be++;if($[Xe]=qe,qe>T)ye+=2;else if(be>q)Oe+=2;else if(!re){var Ze;if((Ge=de+se-Te)>=0&&Ge<ve&&oe[Ge]!=-1&&(je=de+(Ze=oe[Ge])-Ge,Ze>=(qe=T-qe)))return _(V,z,Ze,je)}}}return[[A,V],[x,z]]}(k,P)}(o=o.substring(0,o.length-p),a=a.substring(0,a.length-p));return f&&S.unshift([m,f]),l&&S.push([m,l]),h(S),d!=null&&(S=function(k,P){var c=function(M,B){if(B===0)return[m,M];for(var U=0,W=0;W<M.length;W++){var R=M[W];if(R[0]===A||R[0]===m){var F=U+R[1].length;if(B===F)return[W+1,M];if(B<F){M=M.slice();var V=B-U,z=[R[0],R[1].slice(0,V)],T=[R[0],R[1].slice(V)];return M.splice(W,1,z,T),[W+1,M]}U=F}}throw new Error("cursor_pos is out of bounds!")}(k,P),C=c[1],O=c[0],L=C[O],j=C[O+1];if(L==null||L[0]!==m)return k;if(j!=null&&L[1]+j[1]===j[1]+L[1])return C.splice(O,2,j,L),n(C,O,2);if(j!=null&&j[1].indexOf(L[1])===0){C.splice(O,2,[j[0],L[1]],[0,L[1]]);var H=j[1].slice(L[1].length);return H.length>0&&C.splice(O+2,0,[j[0],H]),n(C,O,3)}return k}(S,d)),function(k){for(var P=!1,c=function(j){return j.charCodeAt(0)>=56320&&j.charCodeAt(0)<=57343},C=2;C<k.length;C+=1)k[C-2][0]===m&&(O=k[C-2][1]).charCodeAt(O.length-1)>=55296&&O.charCodeAt(O.length-1)<=56319&&k[C-1][0]===A&&c(k[C-1][1])&&k[C][0]===x&&c(k[C][1])&&(P=!0,k[C-1][1]=k[C-2][1].slice(-1)+k[C-1][1],k[C][1]=k[C-2][1].slice(-1)+k[C][1],k[C-2][1]=k[C-2][1].slice(0,-1));var O;if(!P)return k;var L=[];for(C=0;C<k.length;C+=1)k[C][1].length>0&&L.push(k[C]);return L}(S)}function _(o,a,d,p){var f=o.substring(0,d),l=a.substring(0,p),S=o.substring(d),k=a.substring(p),P=y(f,l),c=y(S,k);return P.concat(c)}function v(o,a){if(!o||!a||o.charAt(0)!=a.charAt(0))return 0;for(var d=0,p=Math.min(o.length,a.length),f=p,l=0;d<f;)o.substring(l,f)==a.substring(l,f)?l=d=f:p=f,f=Math.floor((p-d)/2+d);return f}function I(o,a){if(!o||!a||o.charAt(o.length-1)!=a.charAt(a.length-1))return 0;for(var d=0,p=Math.min(o.length,a.length),f=p,l=0;d<f;)o.substring(o.length-f,o.length-l)==a.substring(a.length-f,a.length-l)?l=d=f:p=f,f=Math.floor((p-d)/2+d);return f}function h(o){o.push([m,""]);for(var a,d=0,p=0,f=0,l="",S="";d<o.length;)switch(o[d][0]){case x:f++,S+=o[d][1],d++;break;case A:p++,l+=o[d][1],d++;break;case m:p+f>1?(p!==0&&f!==0&&((a=v(S,l))!==0&&(d-p-f>0&&o[d-p-f-1][0]==m?o[d-p-f-1][1]+=S.substring(0,a):(o.splice(0,0,[m,S.substring(0,a)]),d++),S=S.substring(a),l=l.substring(a)),(a=I(S,l))!==0&&(o[d][1]=S.substring(S.length-a)+o[d][1],S=S.substring(0,S.length-a),l=l.substring(0,l.length-a))),p===0?o.splice(d-f,p+f,[x,S]):f===0?o.splice(d-p,p+f,[A,l]):o.splice(d-p-f,p+f,[A,l],[x,S]),d=d-p-f+(p?1:0)+(f?1:0)+1):d!==0&&o[d-1][0]==m?(o[d-1][1]+=o[d][1],o.splice(d,1)):d++,f=0,p=0,l="",S=""}o[o.length-1][1]===""&&o.pop();var k=!1;for(d=1;d<o.length-1;)o[d-1][0]==m&&o[d+1][0]==m&&(o[d][1].substring(o[d][1].length-o[d-1][1].length)==o[d-1][1]?(o[d][1]=o[d-1][1]+o[d][1].substring(0,o[d][1].length-o[d-1][1].length),o[d+1][1]=o[d-1][1]+o[d+1][1],o.splice(d-1,1),k=!0):o[d][1].substring(0,o[d+1][1].length)==o[d+1][1]&&(o[d-1][1]+=o[d+1][1],o[d][1]=o[d][1].substring(o[d+1][1].length)+o[d+1][1],o.splice(d+1,1),k=!0)),d++;k&&h(o)}var i=y;function n(o,a,d){for(var p=a+d-1;p>=0&&p>=a-1;p--)if(p+1<o.length){var f=o[p],l=o[p+1];f[0]===l[1]&&o.splice(p,2,[f[0],f[1]+l[1]])}return o}i.INSERT=x,i.DELETE=A,i.EQUAL=m,K.exports=i},9353:K=>{"use strict";var A=Object.prototype.toString,x=Math.max,m=function(y,_){for(var v=[],I=0;I<y.length;I+=1)v[I]=y[I];for(var h=0;h<_.length;h+=1)v[h+y.length]=_[h];return v};K.exports=function(y){var _=this;if(typeof _!="function"||A.apply(_)!=="[object Function]")throw new TypeError("Function.prototype.bind called on incompatible "+_);for(var v,I=function(a,d){for(var p=[],f=1,l=0;f<a.length;f+=1,l+=1)p[l]=a[f];return p}(arguments),h=x(0,_.length-I.length),i=[],n=0;n<h;n++)i[n]="$"+n;if(v=Function("binder","return function ("+function(a,d){for(var p="",f=0;f<a.length;f+=1)p+=a[f],f+1<a.length&&(p+=",");return p}(i)+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof v){var a=_.apply(this,m(I,arguments));return Object(a)===a?a:this}return _.apply(y,m(I,arguments))}),_.prototype){var o=function(){};o.prototype=_.prototype,v.prototype=new o,o.prototype=null}return v}},6743:(K,A,x)=>{"use strict";var m=x(9353);K.exports=Function.prototype.bind||m},4462:K=>{"use strict";var A=function(){return typeof function(){}.name=="string"},x=Object.getOwnPropertyDescriptor;if(x)try{x([],"length")}catch(y){x=null}A.functionsHaveConfigurableNames=function(){if(!A()||!x)return!1;var y=x(function(){},"name");return!!y&&!!y.configurable};var m=Function.prototype.bind;A.boundFunctionsHaveNames=function(){return A()&&typeof m=="function"&&function(){}.bind().name!==""},K.exports=A},453:(K,A,x)=>{"use strict";var m,y=x(9383),_=x(1237),v=x(9290),I=x(9538),h=x(8068),i=x(9675),n=x(5345),o=Function,a=function(q){try{return o('"use strict"; return ('+q+").constructor;")()}catch(ge){}},d=Object.getOwnPropertyDescriptor;if(d)try{d({},"")}catch(q){d=null}var p=function(){throw new i},f=d?function(){try{return p}catch(q){try{return d(arguments,"callee").get}catch(ge){return p}}}():p,l=x(4039)(),S=x(24)(),k=Object.getPrototypeOf||(S?function(q){return q.__proto__}:null),P={},c=typeof Uint8Array!="undefined"&&k?k(Uint8Array):m,C={__proto__:null,"%AggregateError%":typeof AggregateError=="undefined"?m:AggregateError,"%Array%":Array,"%ArrayBuffer%":typeof ArrayBuffer=="undefined"?m:ArrayBuffer,"%ArrayIteratorPrototype%":l&&k?k([][Symbol.iterator]()):m,"%AsyncFromSyncIteratorPrototype%":m,"%AsyncFunction%":P,"%AsyncGenerator%":P,"%AsyncGeneratorFunction%":P,"%AsyncIteratorPrototype%":P,"%Atomics%":typeof Atomics=="undefined"?m:Atomics,"%BigInt%":typeof BigInt=="undefined"?m:BigInt,"%BigInt64Array%":typeof BigInt64Array=="undefined"?m:BigInt64Array,"%BigUint64Array%":typeof BigUint64Array=="undefined"?m:BigUint64Array,"%Boolean%":Boolean,"%DataView%":typeof DataView=="undefined"?m:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":y,"%eval%":eval,"%EvalError%":_,"%Float32Array%":typeof Float32Array=="undefined"?m:Float32Array,"%Float64Array%":typeof Float64Array=="undefined"?m:Float64Array,"%FinalizationRegistry%":typeof FinalizationRegistry=="undefined"?m:FinalizationRegistry,"%Function%":o,"%GeneratorFunction%":P,"%Int8Array%":typeof Int8Array=="undefined"?m:Int8Array,"%Int16Array%":typeof Int16Array=="undefined"?m:Int16Array,"%Int32Array%":typeof Int32Array=="undefined"?m:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":l&&k?k(k([][Symbol.iterator]())):m,"%JSON%":typeof JSON=="object"?JSON:m,"%Map%":typeof Map=="undefined"?m:Map,"%MapIteratorPrototype%":typeof Map!="undefined"&&l&&k?k(new Map()[Symbol.iterator]()):m,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":typeof Promise=="undefined"?m:Promise,"%Proxy%":typeof Proxy=="undefined"?m:Proxy,"%RangeError%":v,"%ReferenceError%":I,"%Reflect%":typeof Reflect=="undefined"?m:Reflect,"%RegExp%":RegExp,"%Set%":typeof Set=="undefined"?m:Set,"%SetIteratorPrototype%":typeof Set!="undefined"&&l&&k?k(new Set()[Symbol.iterator]()):m,"%SharedArrayBuffer%":typeof SharedArrayBuffer=="undefined"?m:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":l&&k?k(""[Symbol.iterator]()):m,"%Symbol%":l?Symbol:m,"%SyntaxError%":h,"%ThrowTypeError%":f,"%TypedArray%":c,"%TypeError%":i,"%Uint8Array%":typeof Uint8Array=="undefined"?m:Uint8Array,"%Uint8ClampedArray%":typeof Uint8ClampedArray=="undefined"?m:Uint8ClampedArray,"%Uint16Array%":typeof Uint16Array=="undefined"?m:Uint16Array,"%Uint32Array%":typeof Uint32Array=="undefined"?m:Uint32Array,"%URIError%":n,"%WeakMap%":typeof WeakMap=="undefined"?m:WeakMap,"%WeakRef%":typeof WeakRef=="undefined"?m:WeakRef,"%WeakSet%":typeof WeakSet=="undefined"?m:WeakSet};if(k)try{null.error}catch(q){var O=k(k(q));C["%Error.prototype%"]=O}var L=function q(ge){var de;if(ge==="%AsyncFunction%")de=a("async function () {}");else if(ge==="%GeneratorFunction%")de=a("function* () {}");else if(ge==="%AsyncGeneratorFunction%")de=a("async function* () {}");else if(ge==="%AsyncGenerator%"){var ve=q("%AsyncGeneratorFunction%");ve&&(de=ve.prototype)}else if(ge==="%AsyncIteratorPrototype%"){var oe=q("%AsyncGenerator%");oe&&k&&(de=k(oe.prototype))}return C[ge]=de,de},j={__proto__:null,"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},H=x(6743),M=x(9957),B=H.call(Function.call,Array.prototype.concat),U=H.call(Function.apply,Array.prototype.splice),W=H.call(Function.call,String.prototype.replace),R=H.call(Function.call,String.prototype.slice),F=H.call(Function.call,RegExp.prototype.exec),V=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,z=/\\(\\)?/g,T=function(q,ge){var de,ve=q;if(M(j,ve)&&(ve="%"+(de=j[ve])[0]+"%"),M(C,ve)){var oe=C[ve];if(oe===P&&(oe=L(ve)),oe===void 0&&!ge)throw new i("intrinsic "+q+" exists, but is not available. Please file an issue!");return{alias:de,name:ve,value:oe}}throw new h("intrinsic "+q+" does not exist!")};K.exports=function(q,ge){if(typeof q!="string"||q.length===0)throw new i("intrinsic name must be a non-empty string");if(arguments.length>1&&typeof ge!="boolean")throw new i('"allowMissing" argument must be a boolean');if(F(/^%?[^%]*%?$/,q)===null)throw new h("`%` may not be present anywhere but at the beginning and end of the intrinsic name");var de=function(Ge){var je=R(Ge,0,1),Te=R(Ge,-1);if(je==="%"&&Te!=="%")throw new h("invalid intrinsic syntax, expected closing `%`");if(Te==="%"&&je!=="%")throw new h("invalid intrinsic syntax, expected opening `%`");var qe=[];return W(Ge,V,function(Xe,be,Ze,at){qe[qe.length]=Ze?W(at,z,"$1"):be||Xe}),qe}(q),ve=de.length>0?de[0]:"",oe=T("%"+ve+"%",ge),$=oe.name,ee=oe.value,se=!1,re=oe.alias;re&&(ve=re[0],U(de,B([0,1],re)));for(var _e=1,ke=!0;_e<de.length;_e+=1){var Oe=de[_e],ye=R(Oe,0,1),Ve=R(Oe,-1);if((ye==='"'||ye==="'"||ye==="`"||Ve==='"'||Ve==="'"||Ve==="`")&&ye!==Ve)throw new h("property names with quotes must have matching quotes");if(Oe!=="constructor"&&ke||(se=!0),M(C,$="%"+(ve+="."+Oe)+"%"))ee=C[$];else if(ee!=null){if(!(Oe in ee)){if(!ge)throw new i("base intrinsic for "+q+" exists, but the property is not available.");return}if(d&&_e+1>=de.length){var Me=d(ee,Oe);ee=(ke=!!Me)&&"get"in Me&&!("originalValue"in Me.get)?Me.get:ee[Oe]}else ke=M(ee,Oe),ee=ee[Oe];ke&&!se&&(C[$]=ee)}}return ee}},5795:(K,A,x)=>{"use strict";var m=x(453)("%Object.getOwnPropertyDescriptor%",!0);if(m)try{m([],"length")}catch(y){m=null}K.exports=m},592:(K,A,x)=>{"use strict";var m=x(655),y=function(){return!!m};y.hasArrayLengthDefineBug=function(){if(!m)return null;try{return m([],"length",{value:1}).length!==1}catch(_){return!0}},K.exports=y},24:K=>{"use strict";var A={__proto__:null,foo:{}},x=Object;K.exports=function(){return{__proto__:A}.foo===A.foo&&!(A instanceof x)}},4039:(K,A,x)=>{"use strict";var m=typeof Symbol!="undefined"&&Symbol,y=x(3714);K.exports=function(){return typeof m=="function"&&typeof Symbol=="function"&&typeof m("foo")=="symbol"&&typeof Symbol("bar")=="symbol"&&y()}},3714:K=>{"use strict";K.exports=function(){if(typeof Symbol!="function"||typeof Object.getOwnPropertySymbols!="function")return!1;if(typeof Symbol.iterator=="symbol")return!0;var A={},x=Symbol("test"),m=Object(x);if(typeof x=="string"||Object.prototype.toString.call(x)!=="[object Symbol]"||Object.prototype.toString.call(m)!=="[object Symbol]")return!1;for(x in A[x]=42,A)return!1;if(typeof Object.keys=="function"&&Object.keys(A).length!==0||typeof Object.getOwnPropertyNames=="function"&&Object.getOwnPropertyNames(A).length!==0)return!1;var y=Object.getOwnPropertySymbols(A);if(y.length!==1||y[0]!==x||!Object.prototype.propertyIsEnumerable.call(A,x))return!1;if(typeof Object.getOwnPropertyDescriptor=="function"){var _=Object.getOwnPropertyDescriptor(A,x);if(_.value!==42||_.enumerable!==!0)return!1}return!0}},9092:(K,A,x)=>{"use strict";var m=x(3714);K.exports=function(){return m()&&!!Symbol.toStringTag}},9957:(K,A,x)=>{"use strict";var m=Function.prototype.call,y=Object.prototype.hasOwnProperty,_=x(6743);K.exports=_.call(m,y)},7244:(K,A,x)=>{"use strict";var m=x(9092)(),y=x(456)("Object.prototype.toString"),_=function(h){return!(m&&h&&typeof h=="object"&&Symbol.toStringTag in h)&&y(h)==="[object Arguments]"},v=function(h){return!!_(h)||h!==null&&typeof h=="object"&&typeof h.length=="number"&&h.length>=0&&y(h)!=="[object Array]"&&y(h.callee)==="[object Function]"},I=function(){return _(arguments)}();_.isLegacyArguments=v,K.exports=I?_:v},2120:(K,A,x)=>{"use strict";var m=Date.prototype.getDay,y=Object.prototype.toString,_=x(9092)();K.exports=function(v){return typeof v=="object"&&v!==null&&(_?function(I){try{return m.call(I),!0}catch(h){return!1}}(v):y.call(v)==="[object Date]")}},4035:(K,A,x)=>{"use strict";var m,y,_,v,I=x(456),h=x(9092)();if(h){m=I("Object.prototype.hasOwnProperty"),y=I("RegExp.prototype.exec"),_={};var i=function(){throw _};v={toString:i,valueOf:i},typeof Symbol.toPrimitive=="symbol"&&(v[Symbol.toPrimitive]=i)}var n=I("Object.prototype.toString"),o=Object.getOwnPropertyDescriptor;K.exports=h?function(a){if(!a||typeof a!="object")return!1;var d=o(a,"lastIndex");if(!d||!m(d,"value"))return!1;try{y(a,v)}catch(p){return p===_}}:function(a){return!(!a||typeof a!="object"&&typeof a!="function")&&n(a)==="[object RegExp]"}},6129:(K,A,x)=>{"use strict";var m=a(x(9368)),y=a(x(1490)),_=a(x(8165)),v=a(x(3623)),I=a(x(8179)),h=a(x(9796)),i=a(x(4205)),n=x(8157),o=a(x(5099));function a(c){return c&&c.__esModule?c:{default:c}}var d=function(){},p=function(c,C,O){var L=new d;if(c===void 0)throw Error("No element to render on was provided.");return L._renderProperties=(0,I.default)(c),L._encodings=[],L._options=o.default,L._errorHandler=new i.default(L),C!==void 0&&((O=O||{}).format||(O.format=k()),L.options(O)[O.format](C,O).render()),L};for(var f in p.getModule=function(c){return m.default[c]},m.default)m.default.hasOwnProperty(f)&&l(m.default,f);function l(c,C){d.prototype[C]=d.prototype[C.toUpperCase()]=d.prototype[C.toLowerCase()]=function(O,L){var j=this;return j._errorHandler.wrapBarcodeCall(function(){L.text=L.text===void 0?void 0:""+L.text;var H=(0,y.default)(j._options,L);H=(0,h.default)(H);var M=c[C],B=S(O,M,H);return j._encodings.push(B),j})}}function S(c,C,O){var L=new C(c=""+c,O);if(!L.valid())throw new n.InvalidInputException(L.constructor.name,c);var j=L.encode();j=(0,_.default)(j);for(var H=0;H<j.length;H++)j[H].options=(0,y.default)(O,j[H].options);return j}function k(){return m.default.CODE128?"CODE128":Object.keys(m.default)[0]}function P(c,C,O){C=(0,_.default)(C);for(var L=0;L<C.length;L++)C[L].options=(0,y.default)(O,C[L].options),(0,v.default)(C[L].options);(0,v.default)(O),new c.renderer(c.element,C,O).render(),c.afterRender&&c.afterRender()}d.prototype.options=function(c){return this._options=(0,y.default)(this._options,c),this},d.prototype.blank=function(c){var C=new Array(c+1).join("0");return this._encodings.push({data:C}),this},d.prototype.init=function(){var c;if(this._renderProperties)for(var C in Array.isArray(this._renderProperties)||(this._renderProperties=[this._renderProperties]),this._renderProperties){c=this._renderProperties[C];var O=(0,y.default)(this._options,c.options);O.format=="auto"&&(O.format=k()),this._errorHandler.wrapBarcodeCall(function(){var L=S(O.value,m.default[O.format.toUpperCase()],O);P(c,L,O)})}},d.prototype.render=function(){if(!this._renderProperties)throw new n.NoElementException;if(Array.isArray(this._renderProperties))for(var c=0;c<this._renderProperties.length;c++)P(this._renderProperties[c],this._encodings,this._options);else P(this._renderProperties,this._encodings,this._options);return this},d.prototype._defaults=o.default,typeof window!="undefined"&&(window.JsBarcode=p),typeof jQuery!="undefined"&&(jQuery.fn.JsBarcode=function(c,C){var O=[];return jQuery(this).each(function(){O.push(this)}),p(O,c,C)}),K.exports=p},2444:(K,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=function x(m,y){(function(_,v){if(!(_ instanceof v))throw new TypeError("Cannot call a class as a function")})(this,x),this.data=m,this.text=y.text||m,this.options=y}},3651:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m,y=function(){function h(i,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}return function(i,n,o){return n&&h(i.prototype,n),o&&h(i,o),i}}(),_=(m=x(2444))&&m.__esModule?m:{default:m},v=x(2700),I=function(h){function i(n,o){(function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")})(this,i);var a=function(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?d:p}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n.substring(1),o));return a.bytes=n.split("").map(function(d){return d.charCodeAt(0)}),a}return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(n,o):n.__proto__=o)}(i,h),y(i,[{key:"valid",value:function(){return/^[\x00-\x7F\xC8-\xD3]+$/.test(this.data)}},{key:"encode",value:function(){var n=this.bytes,o=n.shift()-105,a=v.SET_BY_CODE[o];if(a===void 0)throw new RangeError("The encoding does not start with a start character.");this.shouldEncodeAsEan128()===!0&&n.unshift(v.FNC1);var d=i.next(n,1,a);return{text:this.text===this.data?this.text.replace(/[^\x20-\x7E]/g,""):this.text,data:i.getBar(o)+d.result+i.getBar((d.checksum+o)%v.MODULO)+i.getBar(v.STOP)}}},{key:"shouldEncodeAsEan128",value:function(){var n=this.options.ean128||!1;return typeof n=="string"&&(n=n.toLowerCase()==="true"),n}}],[{key:"getBar",value:function(n){return v.BARS[n]?v.BARS[n].toString():""}},{key:"correctIndex",value:function(n,o){if(o===v.SET_A){var a=n.shift();return a<32?a+64:a-32}return o===v.SET_B?n.shift()-32:10*(n.shift()-48)+n.shift()-48}},{key:"next",value:function(n,o,a){if(!n.length)return{result:"",checksum:0};var d=void 0,p=void 0;if(n[0]>=200){p=n.shift()-105;var f=v.SWAP[p];f!==void 0?d=i.next(n,o+1,f):(a!==v.SET_A&&a!==v.SET_B||p!==v.SHIFT||(n[0]=a===v.SET_A?n[0]>95?n[0]-96:n[0]:n[0]<32?n[0]+96:n[0]),d=i.next(n,o+1,a))}else p=i.correctIndex(n,a),d=i.next(n,o+1,a);var l=p*o;return{result:i.getBar(p)+d.result,checksum:l+d.checksum}}}]),i}(_.default);A.default=I},3804:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m,y=function(){function h(i,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}return function(i,n,o){return n&&h(i.prototype,n),o&&h(i,o),i}}(),_=(m=x(3651))&&m.__esModule?m:{default:m},v=x(2700),I=function(h){function i(n,o){return function(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")}(this,i),function(a,d){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?a:d}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,v.A_START_CHAR+n,o))}return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(n,o):n.__proto__=o)}(i,h),y(i,[{key:"valid",value:function(){return new RegExp("^"+v.A_CHARS+"+$").test(this.data)}}]),i}(_.default);A.default=I},3541:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m,y=function(){function h(i,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}return function(i,n,o){return n&&h(i.prototype,n),o&&h(i,o),i}}(),_=(m=x(3651))&&m.__esModule?m:{default:m},v=x(2700),I=function(h){function i(n,o){return function(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")}(this,i),function(a,d){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?a:d}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,v.B_START_CHAR+n,o))}return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(n,o):n.__proto__=o)}(i,h),y(i,[{key:"valid",value:function(){return new RegExp("^"+v.B_CHARS+"+$").test(this.data)}}]),i}(_.default);A.default=I},5798:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m,y=function(){function h(i,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}return function(i,n,o){return n&&h(i.prototype,n),o&&h(i,o),i}}(),_=(m=x(3651))&&m.__esModule?m:{default:m},v=x(2700),I=function(h){function i(n,o){return function(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")}(this,i),function(a,d){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?a:d}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,v.C_START_CHAR+n,o))}return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(n,o):n.__proto__=o)}(i,h),y(i,[{key:"valid",value:function(){return new RegExp("^"+v.C_CHARS+"+$").test(this.data)}}]),i}(_.default);A.default=I},4845:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m=_(x(3651)),y=_(x(4802));function _(h){return h&&h.__esModule?h:{default:h}}function v(h,i){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||typeof i!="object"&&typeof i!="function"?h:i}var I=function(h){function i(n,o){if(function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,i),/^[\x00-\x7F\xC8-\xD3]+$/.test(n))var a=v(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,(0,y.default)(n),o));else a=v(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n,o));return v(a)}return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(n,o):n.__proto__=o)}(i,h),i}(m.default);A.default=I},4802:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m=x(2700),y=function(i){return i.match(new RegExp("^"+m.A_CHARS+"*"))[0].length},_=function(i){return i.match(new RegExp("^"+m.B_CHARS+"*"))[0].length},v=function(i){return i.match(new RegExp("^"+m.C_CHARS+"*"))[0]};function I(i,n){var o=n?m.A_CHARS:m.B_CHARS,a=i.match(new RegExp("^("+o+"+?)(([0-9]{2}){2,})([^0-9]|$)"));if(a)return a[1]+"\xCC"+h(i.substring(a[1].length));var d=i.match(new RegExp("^"+o+"+"))[0];return d.length===i.length?i:d+String.fromCharCode(n?205:206)+I(i.substring(d.length),!n)}function h(i){var n=v(i),o=n.length;if(o===i.length)return i;i=i.substring(o);var a=y(i)>=_(i);return n+String.fromCharCode(a?206:205)+I(i,a)}A.default=function(i){var n=void 0;if(v(i).length>=2)n=m.C_START_CHAR+h(i);else{var o=y(i)>_(i);n=(o?m.A_START_CHAR:m.B_START_CHAR)+I(i,o)}return n.replace(/[\xCD\xCE]([^])[\xCD\xCE]/,function(a,d){return"\xCB"+d})}},2700:(K,A)=>{"use strict";var x;function m(n,o,a){return o in n?Object.defineProperty(n,o,{value:a,enumerable:!0,configurable:!0,writable:!0}):n[o]=a,n}Object.defineProperty(A,"__esModule",{value:!0});var y=A.SET_A=0,_=A.SET_B=1,v=A.SET_C=2,I=(A.SHIFT=98,A.START_A=103),h=A.START_B=104,i=A.START_C=105;A.MODULO=103,A.STOP=106,A.FNC1=207,A.SET_BY_CODE=(m(x={},I,y),m(x,h,_),m(x,i,v),x),A.SWAP={101:y,100:_,99:v},A.A_START_CHAR="\xD0",A.B_START_CHAR="\xD1",A.C_START_CHAR="\xD2",A.A_CHARS="[\0-_\xC8-\xCF]",A.B_CHARS="[ -\x7F\xC8-\xCF]",A.C_CHARS="(\xCF*[0-9]{2}\xCF*)",A.BARS=[11011001100,11001101100,11001100110,10010011e3,10010001100,10001001100,10011001e3,10011000100,10001100100,11001001e3,11001000100,11000100100,10110011100,10011011100,10011001110,10111001100,10011101100,10011100110,11001110010,11001011100,11001001110,11011100100,11001110100,11101101110,11101001100,11100101100,11100100110,11101100100,11100110100,11100110010,11011011e3,11011000110,11000110110,10100011e3,10001011e3,10001000110,10110001e3,10001101e3,10001100010,11010001e3,11000101e3,11000100010,10110111e3,10110001110,10001101110,10111011e3,10111000110,10001110110,11101110110,11010001110,11000101110,11011101e3,11011100010,11011101110,11101011e3,11101000110,11100010110,11101101e3,11101100010,11100011010,11101111010,11001000010,11110001010,1010011e4,10100001100,1001011e4,10010000110,10000101100,10000100110,1011001e4,10110000100,1001101e4,10011000010,10000110100,10000110010,11000010010,1100101e4,11110111010,11000010100,10001111010,10100111100,10010111100,10010011110,10111100100,10011110100,10011110010,11110100100,11110010100,11110010010,11011011110,11011110110,11110110110,10101111e3,10100011110,10001011110,10111101e3,10111100010,11110101e3,11110100010,10111011110,10111101110,11101011110,11110101110,11010000100,1101001e4,11010011100,1100011101011]},1509:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.CODE128C=A.CODE128B=A.CODE128A=A.CODE128=void 0;var m=I(x(4845)),y=I(x(3804)),_=I(x(3541)),v=I(x(5798));function I(h){return h&&h.__esModule?h:{default:h}}A.CODE128=m.default,A.CODE128A=y.default,A.CODE128B=_.default,A.CODE128C=v.default},1428:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.CODE39=void 0;var m,y=function(){function n(o,a){for(var d=0;d<a.length;d++){var p=a[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(o,p.key,p)}}return function(o,a,d){return a&&n(o.prototype,a),d&&n(o,d),o}}(),_=function(n){function o(a,d){return function(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,o),a=a.toUpperCase(),d.mod43&&(a+=function(p){return v[p]}(function(p){for(var f=0,l=0;l<p.length;l++)f+=i(p[l]);return f%43}(a))),function(p,f){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?p:f}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a,d))}return function(a,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}(o,n),y(o,[{key:"encode",value:function(){for(var a=h("*"),d=0;d<this.data.length;d++)a+=h(this.data[d])+"0";return{data:a+=h("*"),text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9A-Z\-\.\ \$\/\+\%]+$/)!==-1}}]),o}(((m=x(2444))&&m.__esModule?m:{default:m}).default),v=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z","-","."," ","$","/","+","%","*"],I=[20957,29783,23639,30485,20951,29813,23669,20855,29789,23645,29975,23831,30533,22295,30149,24005,21623,29981,23837,22301,30023,23879,30545,22343,30161,24017,21959,30065,23921,22385,29015,18263,29141,17879,29045,18293,17783,29021,18269,17477,17489,17681,20753,35770];function h(n){return function(o){return I[o].toString(2)}(i(n))}function i(n){return v.indexOf(n)}A.CODE39=_},4754:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m=function(){function h(i,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}return function(i,n,o){return n&&h(i.prototype,n),o&&h(i,o),i}}(),y=x(6575),_=v(x(6350));function v(h){return h&&h.__esModule?h:{default:h}}var I=function(h){function i(n,o){(function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")})(this,i);var a=function(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?d:p}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n,o));return a.fontSize=!o.flat&&o.fontSize>10*o.width?10*o.width:o.fontSize,a.guardHeight=o.height+a.fontSize/2+o.textMargin,a}return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(n,o):n.__proto__=o)}(i,h),m(i,[{key:"encode",value:function(){return this.options.flat?this.encodeFlat():this.encodeGuarded()}},{key:"leftText",value:function(n,o){return this.text.substr(n,o)}},{key:"leftEncode",value:function(n,o){return(0,_.default)(n,o)}},{key:"rightText",value:function(n,o){return this.text.substr(n,o)}},{key:"rightEncode",value:function(n,o){return(0,_.default)(n,o)}},{key:"encodeGuarded",value:function(){var n={fontSize:this.fontSize},o={height:this.guardHeight};return[{data:y.SIDE_BIN,options:o},{data:this.leftEncode(),text:this.leftText(),options:n},{data:y.MIDDLE_BIN,options:o},{data:this.rightEncode(),text:this.rightText(),options:n},{data:y.SIDE_BIN,options:o}]}},{key:"encodeFlat",value:function(){return{data:[y.SIDE_BIN,this.leftEncode(),y.MIDDLE_BIN,this.rightEncode(),y.SIDE_BIN].join(""),text:this.text}}}]),i}(v(x(2444)).default);A.default=I},4250:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m,y=function(){function n(o,a){for(var d=0;d<a.length;d++){var p=a[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(o,p.key,p)}}return function(o,a,d){return a&&n(o.prototype,a),d&&n(o,d),o}}(),_=function n(o,a,d){o===null&&(o=Function.prototype);var p=Object.getOwnPropertyDescriptor(o,a);if(p===void 0){var f=Object.getPrototypeOf(o);return f===null?void 0:n(f,a,d)}if("value"in p)return p.value;var l=p.get;return l!==void 0?l.call(d):void 0},v=x(6575),I=(m=x(4754))&&m.__esModule?m:{default:m},h=function(n){return(10-n.substr(0,12).split("").map(function(o){return+o}).reduce(function(o,a,d){return d%2?o+3*a:o+a},0)%10)%10},i=function(n){function o(a,d){(function(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")})(this,o),a.search(/^[0-9]{12}$/)!==-1&&(a+=h(a));var p=function(f,l){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||typeof l!="object"&&typeof l!="function"?f:l}(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,a,d));return p.lastChar=d.lastChar,p}return function(a,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}(o,n),y(o,[{key:"valid",value:function(){return this.data.search(/^[0-9]{13}$/)!==-1&&+this.data[12]===h(this.data)}},{key:"leftText",value:function(){return _(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"leftText",this).call(this,1,6)}},{key:"leftEncode",value:function(){var a=this.data.substr(1,6),d=v.EAN13_STRUCTURE[this.data[0]];return _(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"leftEncode",this).call(this,a,d)}},{key:"rightText",value:function(){return _(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"rightText",this).call(this,7,6)}},{key:"rightEncode",value:function(){var a=this.data.substr(7,6);return _(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"rightEncode",this).call(this,a,"RRRRRR")}},{key:"encodeGuarded",value:function(){var a=_(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"encodeGuarded",this).call(this);return this.options.displayValue&&(a.unshift({data:"000000000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),this.options.lastChar&&(a.push({data:"00"}),a.push({data:"00000",text:this.options.lastChar,options:{fontSize:this.fontSize}}))),a}}]),o}(I.default);A.default=i},7570:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m=function(){function h(i,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}return function(i,n,o){return n&&h(i.prototype,n),o&&h(i,o),i}}(),y=x(6575),_=v(x(6350));function v(h){return h&&h.__esModule?h:{default:h}}var I=function(h){function i(n,o){return function(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")}(this,i),function(a,d){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?a:d}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n,o))}return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(n,o):n.__proto__=o)}(i,h),m(i,[{key:"valid",value:function(){return this.data.search(/^[0-9]{2}$/)!==-1}},{key:"encode",value:function(){var n=y.EAN2_STRUCTURE[parseInt(this.data)%4];return{data:"1011"+(0,_.default)(this.data,n,"01"),text:this.text}}}]),i}(v(x(2444)).default);A.default=I},8075:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m=function(){function h(i,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}return function(i,n,o){return n&&h(i.prototype,n),o&&h(i,o),i}}(),y=x(6575),_=v(x(6350));function v(h){return h&&h.__esModule?h:{default:h}}var I=function(h){function i(n,o){return function(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")}(this,i),function(a,d){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?a:d}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n,o))}return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(n,o):n.__proto__=o)}(i,h),m(i,[{key:"valid",value:function(){return this.data.search(/^[0-9]{5}$/)!==-1}},{key:"encode",value:function(){var n,o=y.EAN5_STRUCTURE[n=this.data,n.split("").map(function(a){return+a}).reduce(function(a,d,p){return p%2?a+9*d:a+3*d},0)%10];return{data:"1011"+(0,_.default)(this.data,o,"01"),text:this.text}}}]),i}(v(x(2444)).default);A.default=I},8784:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m,y=function(){function i(n,o){for(var a=0;a<o.length;a++){var d=o[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,o,a){return o&&i(n.prototype,o),a&&i(n,a),n}}(),_=function i(n,o,a){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,o);if(d===void 0){var p=Object.getPrototypeOf(n);return p===null?void 0:i(p,o,a)}if("value"in d)return d.value;var f=d.get;return f!==void 0?f.call(a):void 0},v=(m=x(4754))&&m.__esModule?m:{default:m},I=function(i){return(10-i.substr(0,7).split("").map(function(n){return+n}).reduce(function(n,o,a){return a%2?n+o:n+3*o},0)%10)%10},h=function(i){function n(o,a){return function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,n),o.search(/^[0-9]{7}$/)!==-1&&(o+=I(o)),function(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?d:p}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,o,a))}return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(o,a):o.__proto__=a)}(n,i),y(n,[{key:"valid",value:function(){return this.data.search(/^[0-9]{8}$/)!==-1&&+this.data[7]===I(this.data)}},{key:"leftText",value:function(){return _(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftText",this).call(this,0,4)}},{key:"leftEncode",value:function(){var o=this.data.substr(0,4);return _(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"leftEncode",this).call(this,o,"LLLL")}},{key:"rightText",value:function(){return _(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightText",this).call(this,4,4)}},{key:"rightEncode",value:function(){var o=this.data.substr(4,4);return _(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"rightEncode",this).call(this,o,"RRRR")}}]),n}(v.default);A.default=h},7960:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m=function(){function h(i,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}return function(i,n,o){return n&&h(i.prototype,n),o&&h(i,o),i}}();A.checksum=I;var y=_(x(6350));function _(h){return h&&h.__esModule?h:{default:h}}var v=function(h){function i(n,o){(function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")})(this,i),n.search(/^[0-9]{11}$/)!==-1&&(n+=I(n));var a=function(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?d:p}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n,o));return a.displayValue=o.displayValue,o.fontSize>10*o.width?a.fontSize=10*o.width:a.fontSize=o.fontSize,a.guardHeight=o.height+a.fontSize/2+o.textMargin,a}return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(n,o):n.__proto__=o)}(i,h),m(i,[{key:"valid",value:function(){return this.data.search(/^[0-9]{12}$/)!==-1&&this.data[11]==I(this.data)}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var n="";return n+="101",n+=(0,y.default)(this.data.substr(0,6),"LLLLLL"),n+="01010",n+=(0,y.default)(this.data.substr(6,6),"RRRRRR"),{data:n+="101",text:this.text}}},{key:"guardedEncoding",value:function(){var n=[];return this.displayValue&&n.push({data:"00000000",text:this.text.substr(0,1),options:{textAlign:"left",fontSize:this.fontSize}}),n.push({data:"101"+(0,y.default)(this.data[0],"L"),options:{height:this.guardHeight}}),n.push({data:(0,y.default)(this.data.substr(1,5),"LLLLL"),text:this.text.substr(1,5),options:{fontSize:this.fontSize}}),n.push({data:"01010",options:{height:this.guardHeight}}),n.push({data:(0,y.default)(this.data.substr(6,5),"RRRRR"),text:this.text.substr(6,5),options:{fontSize:this.fontSize}}),n.push({data:(0,y.default)(this.data[11],"R")+"101",options:{height:this.guardHeight}}),this.displayValue&&n.push({data:"00000000",text:this.text.substr(11,1),options:{textAlign:"right",fontSize:this.fontSize}}),n}}]),i}(_(x(2444)).default);function I(h){var i,n=0;for(i=1;i<11;i+=2)n+=parseInt(h[i]);for(i=0;i<11;i+=2)n+=3*parseInt(h[i]);return(10-n%10)%10}A.default=v},3781:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m=function(){function d(p,f){for(var l=0;l<f.length;l++){var S=f[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,f,l){return f&&d(p.prototype,f),l&&d(p,l),p}}(),y=I(x(6350)),_=I(x(2444)),v=x(7960);function I(d){return d&&d.__esModule?d:{default:d}}function h(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?d:p}var i=["XX00000XXX","XX10000XXX","XX20000XXX","XXX00000XX","XXXX00000X","XXXXX00005","XXXXX00006","XXXXX00007","XXXXX00008","XXXXX00009"],n=[["EEEOOO","OOOEEE"],["EEOEOO","OOEOEE"],["EEOOEO","OOEEOE"],["EEOOOE","OOEEEO"],["EOEEOO","OEOOEE"],["EOOEEO","OEEOOE"],["EOOOEE","OEEEOO"],["EOEOEO","OEOEOE"],["EOEOOE","OEOEEO"],["EOOEOE","OEEOEO"]],o=function(d){function p(f,l){(function(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")})(this,p);var S=h(this,(p.__proto__||Object.getPrototypeOf(p)).call(this,f,l));if(S.isValid=!1,f.search(/^[0-9]{6}$/)!==-1)S.middleDigits=f,S.upcA=a(f,"0"),S.text=l.text||""+S.upcA[0]+f+S.upcA[S.upcA.length-1],S.isValid=!0;else{if(f.search(/^[01][0-9]{7}$/)===-1||(S.middleDigits=f.substring(1,f.length-1),S.upcA=a(S.middleDigits,f[0]),S.upcA[S.upcA.length-1]!==f[f.length-1]))return h(S);S.isValid=!0}return S.displayValue=l.displayValue,l.fontSize>10*l.width?S.fontSize=10*l.width:S.fontSize=l.fontSize,S.guardHeight=l.height+S.fontSize/2+l.textMargin,S}return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(f,l):f.__proto__=l)}(p,d),m(p,[{key:"valid",value:function(){return this.isValid}},{key:"encode",value:function(){return this.options.flat?this.flatEncoding():this.guardedEncoding()}},{key:"flatEncoding",value:function(){var f="";return f+="101",f+=this.encodeMiddleDigits(),{data:f+="010101",text:this.text}}},{key:"guardedEncoding",value:function(){var f=[];return this.displayValue&&f.push({data:"00000000",text:this.text[0],options:{textAlign:"left",fontSize:this.fontSize}}),f.push({data:"101",options:{height:this.guardHeight}}),f.push({data:this.encodeMiddleDigits(),text:this.text.substring(1,7),options:{fontSize:this.fontSize}}),f.push({data:"010101",options:{height:this.guardHeight}}),this.displayValue&&f.push({data:"00000000",text:this.text[7],options:{textAlign:"right",fontSize:this.fontSize}}),f}},{key:"encodeMiddleDigits",value:function(){var f=this.upcA[0],l=this.upcA[this.upcA.length-1],S=n[parseInt(l)][parseInt(f)];return(0,y.default)(this.middleDigits,S)}}]),p}(_.default);function a(d,p){for(var f=parseInt(d[d.length-1]),l=i[f],S="",k=0,P=0;P<l.length;P++){var c=l[P];S+=c==="X"?d[k++]:c}return(S=""+p+S)+(0,v.checksum)(S)}A.default=o},6575:(K,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.SIDE_BIN="101",A.MIDDLE_BIN="01010",A.BINARIES={L:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],G:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"],R:["1110010","1100110","1101100","1000010","1011100","1001110","1010000","1000100","1001000","1110100"],O:["0001101","0011001","0010011","0111101","0100011","0110001","0101111","0111011","0110111","0001011"],E:["0100111","0110011","0011011","0100001","0011101","0111001","0000101","0010001","0001001","0010111"]},A.EAN2_STRUCTURE=["LL","LG","GL","GG"],A.EAN5_STRUCTURE=["GGLLL","GLGLL","GLLGL","GLLLG","LGGLL","LLGGL","LLLGG","LGLGL","LGLLG","LLGLG"],A.EAN13_STRUCTURE=["LLLLLL","LLGLGG","LLGGLG","LLGGGL","LGLLGG","LGGLLG","LGGGLL","LGLGLG","LGLGGL","LGGLGL"]},6350:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m=x(6575);A.default=function(y,_,v){var I=y.split("").map(function(i,n){return m.BINARIES[_[n]]}).map(function(i,n){return i?i[y[n]]:""});if(v){var h=y.length-1;I=I.map(function(i,n){return n<h?i+v:i})}return I.join("")}},5726:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.UPCE=A.UPC=A.EAN2=A.EAN5=A.EAN8=A.EAN13=void 0;var m=i(x(4250)),y=i(x(8784)),_=i(x(8075)),v=i(x(7570)),I=i(x(7960)),h=i(x(3781));function i(n){return n&&n.__esModule?n:{default:n}}A.EAN13=m.default,A.EAN8=y.default,A.EAN5=_.default,A.EAN2=v.default,A.UPC=I.default,A.UPCE=h.default},1886:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.GenericBarcode=void 0;var m,y=function(){function v(I,h){for(var i=0;i<h.length;i++){var n=h[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(I,n.key,n)}}return function(I,h,i){return h&&v(I.prototype,h),i&&v(I,i),I}}(),_=function(v){function I(h,i){return function(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}(this,I),function(n,o){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?n:o}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,h,i))}return function(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);h.prototype=Object.create(i&&i.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(h,i):h.__proto__=i)}(I,v),y(I,[{key:"encode",value:function(){return{data:"10101010101010101010101010101010101010101",text:this.text}}},{key:"valid",value:function(){return!0}}]),I}(((m=x(2444))&&m.__esModule?m:{default:m}).default);A.GenericBarcode=_},739:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m,y=function(){function I(h,i){for(var n=0;n<i.length;n++){var o=i[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}return function(h,i,n){return i&&I(h.prototype,i),n&&I(h,n),h}}(),_=x(1135),v=function(I){function h(){return function(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}(this,h),function(i,n){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?i:n}(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(i,n):i.__proto__=n)}(h,I),y(h,[{key:"valid",value:function(){return this.data.search(/^([0-9]{2})+$/)!==-1}},{key:"encode",value:function(){var i=this,n=this.data.match(/.{2}/g).map(function(o){return i.encodePair(o)}).join("");return{data:_.START_BIN+n+_.END_BIN,text:this.text}}},{key:"encodePair",value:function(i){var n=_.BINARIES[i[1]];return _.BINARIES[i[0]].split("").map(function(o,a){return(o==="1"?"111":"1")+(n[a]==="1"?"000":"0")}).join("")}}]),h}(((m=x(2444))&&m.__esModule?m:{default:m}).default);A.default=v},8122:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m,y=function(){function h(i,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}return function(i,n,o){return n&&h(i.prototype,n),o&&h(i,o),i}}(),_=(m=x(739))&&m.__esModule?m:{default:m},v=function(h){var i=h.substr(0,13).split("").map(function(n){return parseInt(n,10)}).reduce(function(n,o,a){return n+o*(3-a%2*2)},0);return 10*Math.ceil(i/10)-i},I=function(h){function i(n,o){return function(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")}(this,i),n.search(/^[0-9]{13}$/)!==-1&&(n+=v(n)),function(a,d){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?a:d}(this,(i.__proto__||Object.getPrototypeOf(i)).call(this,n,o))}return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(n,o):n.__proto__=o)}(i,h),y(i,[{key:"valid",value:function(){return this.data.search(/^[0-9]{14}$/)!==-1&&+this.data[13]===v(this.data)}}]),i}(_.default);A.default=I},1135:(K,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.START_BIN="1010",A.END_BIN="11101",A.BINARIES=["00110","10001","01001","11000","00101","10100","01100","00011","10010","01010"]},5070:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.ITF14=A.ITF=void 0;var m=_(x(739)),y=_(x(8122));function _(v){return v&&v.__esModule?v:{default:v}}A.ITF=m.default,A.ITF14=y.default},3551:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m,y=function(){function I(h,i){for(var n=0;n<i.length;n++){var o=i[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}return function(h,i,n){return i&&I(h.prototype,i),n&&I(h,n),h}}(),_=function(I){function h(i,n){return function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}(this,h),function(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?o:a}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,i,n))}return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(i,n):i.__proto__=n)}(h,I),y(h,[{key:"encode",value:function(){for(var i="110",n=0;n<this.data.length;n++){var o=parseInt(this.data[n]).toString(2);o=v(o,4-o.length);for(var a=0;a<o.length;a++)i+=o[a]=="0"?"100":"110"}return{data:i+="1001",text:this.text}}},{key:"valid",value:function(){return this.data.search(/^[0-9]+$/)!==-1}}]),h}(((m=x(2444))&&m.__esModule?m:{default:m}).default);function v(I,h){for(var i=0;i<h;i++)I="0"+I;return I}A.default=_},6338:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m,y=(m=x(3551))&&m.__esModule?m:{default:m},_=x(6320),v=function(I){function h(i,n){return function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}(this,h),function(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?o:a}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,i+(0,_.mod10)(i),n))}return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(i,n):i.__proto__=n)}(h,I),h}(y.default);A.default=v},23:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m,y=(m=x(3551))&&m.__esModule?m:{default:m},_=x(6320),v=function(I){function h(i,n){return function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}(this,h),i+=(0,_.mod10)(i),i+=(0,_.mod10)(i),function(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?o:a}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,i,n))}return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(i,n):i.__proto__=n)}(h,I),h}(y.default);A.default=v},6065:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m,y=(m=x(3551))&&m.__esModule?m:{default:m},_=x(6320),v=function(I){function h(i,n){return function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}(this,h),function(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?o:a}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,i+(0,_.mod11)(i),n))}return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(i,n):i.__proto__=n)}(h,I),h}(y.default);A.default=v},7052:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m,y=(m=x(3551))&&m.__esModule?m:{default:m},_=x(6320),v=function(I){function h(i,n){return function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}(this,h),i+=(0,_.mod11)(i),i+=(0,_.mod10)(i),function(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?o:a}(this,(h.__proto__||Object.getPrototypeOf(h)).call(this,i,n))}return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(i,n):i.__proto__=n)}(h,I),h}(y.default);A.default=v},6320:(K,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.mod10=function(x){for(var m=0,y=0;y<x.length;y++){var _=parseInt(x[y]);(y+x.length)%2==0?m+=_:m+=2*_%10+Math.floor(2*_/10)}return(10-m%10)%10},A.mod11=function(x){for(var m=0,y=[2,3,4,5,6,7],_=0;_<x.length;_++){var v=parseInt(x[x.length-1-_]);m+=y[_%y.length]*v}return(11-m%11)%11}},8248:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.MSI1110=A.MSI1010=A.MSI11=A.MSI10=A.MSI=void 0;var m=h(x(3551)),y=h(x(6338)),_=h(x(6065)),v=h(x(23)),I=h(x(7052));function h(i){return i&&i.__esModule?i:{default:i}}A.MSI=m.default,A.MSI10=y.default,A.MSI11=_.default,A.MSI1010=v.default,A.MSI1110=I.default},1133:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.codabar=void 0;var m,y=function(){function v(I,h){for(var i=0;i<h.length;i++){var n=h[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(I,n.key,n)}}return function(I,h,i){return h&&v(I.prototype,h),i&&v(I,i),I}}(),_=function(v){function I(h,i){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,I),h.search(/^[0-9\-\$\:\.\+\/]+$/)===0&&(h="A"+h+"A");var n=function(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?o:a}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,h.toUpperCase(),i));return n.text=n.options.text||n.text.replace(/[A-D]/g,""),n}return function(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);h.prototype=Object.create(i&&i.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(h,i):h.__proto__=i)}(I,v),y(I,[{key:"valid",value:function(){return this.data.search(/^[A-D][0-9\-\$\:\.\+\/]+[A-D]$/)!==-1}},{key:"encode",value:function(){for(var h=[],i=this.getEncodings(),n=0;n<this.data.length;n++)h.push(i[this.data.charAt(n)]),n!==this.data.length-1&&h.push("0");return{text:this.text,data:h.join("")}}},{key:"getEncodings",value:function(){return{0:"101010011",1:"101011001",2:"101001011",3:"110010101",4:"101101001",5:"110101001",6:"100101011",7:"100101101",8:"100110101",9:"110100101","-":"101001101",$:"101100101",":":"1101011011","/":"1101101011",".":"1101101101","+":"1011011011",A:"1011001001",B:"1001001011",C:"1010010011",D:"1010011001"}}}]),I}(((m=x(2444))&&m.__esModule?m:{default:m}).default);A.codabar=_},9368:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m=x(1428),y=x(1509),_=x(5726),v=x(5070),I=x(8248),h=x(2889),i=x(1133),n=x(1886);A.default={CODE39:m.CODE39,CODE128:y.CODE128,CODE128A:y.CODE128A,CODE128B:y.CODE128B,CODE128C:y.CODE128C,EAN13:_.EAN13,EAN8:_.EAN8,EAN5:_.EAN5,EAN2:_.EAN2,UPC:_.UPC,UPCE:_.UPCE,ITF14:v.ITF14,ITF:v.ITF,MSI:I.MSI,MSI10:I.MSI10,MSI11:I.MSI11,MSI1010:I.MSI1010,MSI1110:I.MSI1110,pharmacode:h.pharmacode,codabar:i.codabar,GenericBarcode:n.GenericBarcode}},2889:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.pharmacode=void 0;var m,y=function(){function v(I,h){for(var i=0;i<h.length;i++){var n=h[i];n.enumerable=n.enumerable||!1,n.configurable=!0,"value"in n&&(n.writable=!0),Object.defineProperty(I,n.key,n)}}return function(I,h,i){return h&&v(I.prototype,h),i&&v(I,i),I}}(),_=function(v){function I(h,i){(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,I);var n=function(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?o:a}(this,(I.__proto__||Object.getPrototypeOf(I)).call(this,h,i));return n.number=parseInt(h,10),n}return function(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);h.prototype=Object.create(i&&i.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(h,i):h.__proto__=i)}(I,v),y(I,[{key:"encode",value:function(){for(var h=this.number,i="";!isNaN(h)&&h!=0;)h%2==0?(i="11100"+i,h=(h-2)/2):(i="100"+i,h=(h-1)/2);return{data:i=i.slice(0,-2),text:this.text}}},{key:"valid",value:function(){return this.number>=3&&this.number<=131070}}]),I}(((m=x(2444))&&m.__esModule?m:{default:m}).default);A.pharmacode=_},4205:(K,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var x=function(){function y(_,v){for(var I=0;I<v.length;I++){var h=v[I];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(_,h.key,h)}}return function(_,v,I){return v&&y(_.prototype,v),I&&y(_,I),_}}(),m=function(){function y(_){(function(v,I){if(!(v instanceof I))throw new TypeError("Cannot call a class as a function")})(this,y),this.api=_}return x(y,[{key:"handleCatch",value:function(_){if(_.name!=="InvalidInputException")throw _;if(this.api._options.valid===this.api._defaults.valid)throw _.message;this.api._options.valid(!1),this.api.render=function(){}}},{key:"wrapBarcodeCall",value:function(_){try{var v=_.apply(void 0,arguments);return this.api._options.valid(!0),v}catch(I){return this.handleCatch(I),this.api}}}]),y}();A.default=m},8157:(K,A)=>{"use strict";function x(h,i){if(!(h instanceof i))throw new TypeError("Cannot call a class as a function")}function m(h,i){if(!h)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!i||typeof i!="object"&&typeof i!="function"?h:i}function y(h,i){if(typeof i!="function"&&i!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof i);h.prototype=Object.create(i&&i.prototype,{constructor:{value:h,enumerable:!1,writable:!0,configurable:!0}}),i&&(Object.setPrototypeOf?Object.setPrototypeOf(h,i):h.__proto__=i)}Object.defineProperty(A,"__esModule",{value:!0});var _=function(h){function i(n,o){x(this,i);var a=m(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return a.name="InvalidInputException",a.symbology=n,a.input=o,a.message='"'+a.input+'" is not a valid input for '+a.symbology,a}return y(i,Error),i}(),v=function(h){function i(){x(this,i);var n=m(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.name="InvalidElementException",n.message="Not supported type to render on",n}return y(i,Error),i}(),I=function(h){function i(){x(this,i);var n=m(this,(i.__proto__||Object.getPrototypeOf(i)).call(this));return n.name="NoElementException",n.message="No element to render on.",n}return y(i,Error),i}();A.InvalidInputException=_,A.InvalidElementException=v,A.NoElementException=I},3623:(K,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=function(x){return x.marginTop=x.marginTop||x.margin,x.marginBottom=x.marginBottom||x.margin,x.marginRight=x.marginRight||x.margin,x.marginLeft=x.marginLeft||x.margin,x}},892:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m=_(x(9796)),y=_(x(5099));function _(v){return v&&v.__esModule?v:{default:v}}A.default=function(v){var I={};for(var h in y.default)y.default.hasOwnProperty(h)&&(v.hasAttribute("jsbarcode-"+h.toLowerCase())&&(I[h]=v.getAttribute("jsbarcode-"+h.toLowerCase())),v.hasAttribute("data-"+h.toLowerCase())&&(I[h]=v.getAttribute("data-"+h.toLowerCase())));return I.value=v.getAttribute("jsbarcode-value")||v.getAttribute("data-value"),(0,m.default)(I)}},8179:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(h){return typeof h}:function(h){return h&&typeof Symbol=="function"&&h.constructor===Symbol&&h!==Symbol.prototype?"symbol":typeof h},y=I(x(892)),_=I(x(2727)),v=x(8157);function I(h){return h&&h.__esModule?h:{default:h}}A.default=function h(i){if(typeof i=="string")return function(p){var f=document.querySelectorAll(p);if(f.length!==0){for(var l=[],S=0;S<f.length;S++)l.push(h(f[S]));return l}}(i);if(Array.isArray(i)){for(var n=[],o=0;o<i.length;o++)n.push(h(i[o]));return n}if(typeof HTMLCanvasElement!="undefined"&&i instanceof HTMLImageElement)return a=i,{element:d=document.createElement("canvas"),options:(0,y.default)(a),renderer:_.default.CanvasRenderer,afterRender:function(){a.setAttribute("src",d.toDataURL())}};if(i&&i.nodeName&&i.nodeName.toLowerCase()==="svg"||typeof SVGElement!="undefined"&&i instanceof SVGElement)return{element:i,options:(0,y.default)(i),renderer:_.default.SVGRenderer};if(typeof HTMLCanvasElement!="undefined"&&i instanceof HTMLCanvasElement)return{element:i,options:(0,y.default)(i),renderer:_.default.CanvasRenderer};if(i&&i.getContext)return{element:i,renderer:_.default.CanvasRenderer};if(i&&(i===void 0?"undefined":m(i))==="object"&&!i.nodeName)return{element:i,renderer:_.default.ObjectRenderer};throw new v.InvalidElementException;var a,d}},8165:(K,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=function(x){var m=[];return function y(_){if(Array.isArray(_))for(var v=0;v<_.length;v++)y(_[v]);else _.text=_.text||"",_.data=_.data||"",m.push(_)}(x),m}},1490:(K,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var x=Object.assign||function(m){for(var y=1;y<arguments.length;y++){var _=arguments[y];for(var v in _)Object.prototype.hasOwnProperty.call(_,v)&&(m[v]=_[v])}return m};A.default=function(m,y){return x({},m,y)}},9796:(K,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default=function(x){var m=["width","height","textMargin","fontSize","margin","marginTop","marginBottom","marginLeft","marginRight"];for(var y in m)m.hasOwnProperty(y)&&typeof x[y=m[y]]=="string"&&(x[y]=parseInt(x[y],10));return typeof x.displayValue=="string"&&(x.displayValue=x.displayValue!="false"),x}},5099:(K,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.default={width:2,height:100,format:"auto",displayValue:!0,fontOptions:"",font:"monospace",text:void 0,textAlign:"center",textPosition:"bottom",textMargin:2,fontSize:20,background:"#ffffff",lineColor:"#000000",margin:10,marginTop:void 0,marginBottom:void 0,marginLeft:void 0,marginRight:void 0,valid:function(){}}},1687:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m,y=function(){function h(i,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}return function(i,n,o){return n&&h(i.prototype,n),o&&h(i,o),i}}(),_=(m=x(1490))&&m.__esModule?m:{default:m},v=x(6258),I=function(){function h(i,n,o){(function(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")})(this,h),this.canvas=i,this.encodings=n,this.options=o}return y(h,[{key:"render",value:function(){if(!this.canvas.getContext)throw new Error("The browser does not support canvas.");this.prepareCanvas();for(var i=0;i<this.encodings.length;i++){var n=(0,_.default)(this.options,this.encodings[i].options);this.drawCanvasBarcode(n,this.encodings[i]),this.drawCanvasText(n,this.encodings[i]),this.moveCanvasDrawing(this.encodings[i])}this.restoreCanvas()}},{key:"prepareCanvas",value:function(){var i=this.canvas.getContext("2d");i.save(),(0,v.calculateEncodingAttributes)(this.encodings,this.options,i);var n=(0,v.getTotalWidthOfEncodings)(this.encodings),o=(0,v.getMaximumHeightOfEncodings)(this.encodings);this.canvas.width=n+this.options.marginLeft+this.options.marginRight,this.canvas.height=o,i.clearRect(0,0,this.canvas.width,this.canvas.height),this.options.background&&(i.fillStyle=this.options.background,i.fillRect(0,0,this.canvas.width,this.canvas.height)),i.translate(this.options.marginLeft,0)}},{key:"drawCanvasBarcode",value:function(i,n){var o,a=this.canvas.getContext("2d"),d=n.data;o=i.textPosition=="top"?i.marginTop+i.fontSize+i.textMargin:i.marginTop,a.fillStyle=i.lineColor;for(var p=0;p<d.length;p++){var f=p*i.width+n.barcodePadding;d[p]==="1"?a.fillRect(f,o,i.width,i.height):d[p]&&a.fillRect(f,o,i.width,i.height*d[p])}}},{key:"drawCanvasText",value:function(i,n){var o,a,d=this.canvas.getContext("2d"),p=i.fontOptions+" "+i.fontSize+"px "+i.font;i.displayValue&&(a=i.textPosition=="top"?i.marginTop+i.fontSize-i.textMargin:i.height+i.textMargin+i.marginTop+i.fontSize,d.font=p,i.textAlign=="left"||n.barcodePadding>0?(o=0,d.textAlign="left"):i.textAlign=="right"?(o=n.width-1,d.textAlign="right"):(o=n.width/2,d.textAlign="center"),d.fillText(n.text,o,a))}},{key:"moveCanvasDrawing",value:function(i){this.canvas.getContext("2d").translate(i.width,0)}},{key:"restoreCanvas",value:function(){this.canvas.getContext("2d").restore()}}]),h}();A.default=I},2727:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m=v(x(1687)),y=v(x(5965)),_=v(x(3528));function v(I){return I&&I.__esModule?I:{default:I}}A.default={CanvasRenderer:m.default,SVGRenderer:y.default,ObjectRenderer:_.default}},3528:(K,A)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var x=function(){function y(_,v){for(var I=0;I<v.length;I++){var h=v[I];h.enumerable=h.enumerable||!1,h.configurable=!0,"value"in h&&(h.writable=!0),Object.defineProperty(_,h.key,h)}}return function(_,v,I){return v&&y(_.prototype,v),I&&y(_,I),_}}(),m=function(){function y(_,v,I){(function(h,i){if(!(h instanceof i))throw new TypeError("Cannot call a class as a function")})(this,y),this.object=_,this.encodings=v,this.options=I}return x(y,[{key:"render",value:function(){this.object.encodings=this.encodings}}]),y}();A.default=m},6258:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0}),A.getTotalWidthOfEncodings=A.calculateEncodingAttributes=A.getBarcodePadding=A.getEncodingHeight=A.getMaximumHeightOfEncodings=void 0;var m,y=(m=x(1490))&&m.__esModule?m:{default:m};function _(h,i){return i.height+(i.displayValue&&h.text.length>0?i.fontSize+i.textMargin:0)+i.marginTop+i.marginBottom}function v(h,i,n){if(n.displayValue&&i<h){if(n.textAlign=="center")return Math.floor((h-i)/2);if(n.textAlign=="left")return 0;if(n.textAlign=="right")return Math.floor(h-i)}return 0}function I(h,i,n){var o;if(n)o=n;else{if(typeof document=="undefined")return 0;o=document.createElement("canvas").getContext("2d")}o.font=i.fontOptions+" "+i.fontSize+"px "+i.font;var a=o.measureText(h);return a?a.width:0}A.getMaximumHeightOfEncodings=function(h){for(var i=0,n=0;n<h.length;n++)h[n].height>i&&(i=h[n].height);return i},A.getEncodingHeight=_,A.getBarcodePadding=v,A.calculateEncodingAttributes=function(h,i,n){for(var o=0;o<h.length;o++){var a,d=h[o],p=(0,y.default)(i,d.options);a=p.displayValue?I(d.text,p,n):0;var f=d.data.length*p.width;d.width=Math.ceil(Math.max(a,f)),d.height=_(d,p),d.barcodePadding=v(a,f,p)}},A.getTotalWidthOfEncodings=function(h){for(var i=0,n=0;n<h.length;n++)i+=h[n].width;return i}},5965:(K,A,x)=>{"use strict";Object.defineProperty(A,"__esModule",{value:!0});var m,y=function(){function i(n,o){for(var a=0;a<o.length;a++){var d=o[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,o,a){return o&&i(n.prototype,o),a&&i(n,a),n}}(),_=(m=x(1490))&&m.__esModule?m:{default:m},v=x(6258),I="http://www.w3.org/2000/svg",h=function(){function i(n,o,a){(function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")})(this,i),this.svg=n,this.encodings=o,this.options=a,this.document=a.xmlDocument||document}return y(i,[{key:"render",value:function(){var n=this.options.marginLeft;this.prepareSVG();for(var o=0;o<this.encodings.length;o++){var a=this.encodings[o],d=(0,_.default)(this.options,a.options),p=this.createGroup(n,d.marginTop,this.svg);this.setGroupOptions(p,d),this.drawSvgBarcode(p,d,a),this.drawSVGText(p,d,a),n+=a.width}}},{key:"prepareSVG",value:function(){for(;this.svg.firstChild;)this.svg.removeChild(this.svg.firstChild);(0,v.calculateEncodingAttributes)(this.encodings,this.options);var n=(0,v.getTotalWidthOfEncodings)(this.encodings),o=(0,v.getMaximumHeightOfEncodings)(this.encodings),a=n+this.options.marginLeft+this.options.marginRight;this.setSvgAttributes(a,o),this.options.background&&this.drawRect(0,0,a,o,this.svg).setAttribute("style","fill:"+this.options.background+";")}},{key:"drawSvgBarcode",value:function(n,o,a){var d,p=a.data;d=o.textPosition=="top"?o.fontSize+o.textMargin:0;for(var f=0,l=0,S=0;S<p.length;S++)l=S*o.width+a.barcodePadding,p[S]==="1"?f++:f>0&&(this.drawRect(l-o.width*f,d,o.width*f,o.height,n),f=0);f>0&&this.drawRect(l-o.width*(f-1),d,o.width*f,o.height,n)}},{key:"drawSVGText",value:function(n,o,a){var d,p,f=this.document.createElementNS(I,"text");o.displayValue&&(f.setAttribute("style","font:"+o.fontOptions+" "+o.fontSize+"px "+o.font),p=o.textPosition=="top"?o.fontSize-o.textMargin:o.height+o.textMargin+o.fontSize,o.textAlign=="left"||a.barcodePadding>0?(d=0,f.setAttribute("text-anchor","start")):o.textAlign=="right"?(d=a.width-1,f.setAttribute("text-anchor","end")):(d=a.width/2,f.setAttribute("text-anchor","middle")),f.setAttribute("x",d),f.setAttribute("y",p),f.appendChild(this.document.createTextNode(a.text)),n.appendChild(f))}},{key:"setSvgAttributes",value:function(n,o){var a=this.svg;a.setAttribute("width",n+"px"),a.setAttribute("height",o+"px"),a.setAttribute("x","0px"),a.setAttribute("y","0px"),a.setAttribute("viewBox","0 0 "+n+" "+o),a.setAttribute("xmlns",I),a.setAttribute("version","1.1"),a.setAttribute("style","transform: translate(0,0)")}},{key:"createGroup",value:function(n,o,a){var d=this.document.createElementNS(I,"g");return d.setAttribute("transform","translate("+n+", "+o+")"),a.appendChild(d),d}},{key:"setGroupOptions",value:function(n,o){n.setAttribute("style","fill:"+o.lineColor+";")}},{key:"drawRect",value:function(n,o,a,d,p){var f=this.document.createElementNS(I,"rect");return f.setAttribute("x",n),f.setAttribute("y",o),f.setAttribute("width",a),f.setAttribute("height",d),p.appendChild(f),f}}]),i}();A.default=h},9211:K=>{"use strict";var A=function(x){return x!=x};K.exports=function(x,m){return x===0&&m===0?1/x==1/m:x===m||!(!A(x)||!A(m))}},7653:(K,A,x)=>{"use strict";var m=x(8452),y=x(487),_=x(9211),v=x(9394),I=x(6576),h=y(v(),Object);m(h,{getPolyfill:v,implementation:_,shim:I}),K.exports=h},9394:(K,A,x)=>{"use strict";var m=x(9211);K.exports=function(){return typeof Object.is=="function"?Object.is:m}},6576:(K,A,x)=>{"use strict";var m=x(9394),y=x(8452);K.exports=function(){var _=m();return y(Object,{is:_},{is:function(){return Object.is!==_}}),_}},8875:(K,A,x)=>{"use strict";var m;if(!Object.keys){var y=Object.prototype.hasOwnProperty,_=Object.prototype.toString,v=x(1093),I=Object.prototype.propertyIsEnumerable,h=!I.call({toString:null},"toString"),i=I.call(function(){},"prototype"),n=["toString","toLocaleString","valueOf","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","constructor"],o=function(p){var f=p.constructor;return f&&f.prototype===p},a={$applicationCache:!0,$console:!0,$external:!0,$frame:!0,$frameElement:!0,$frames:!0,$innerHeight:!0,$innerWidth:!0,$onmozfullscreenchange:!0,$onmozfullscreenerror:!0,$outerHeight:!0,$outerWidth:!0,$pageXOffset:!0,$pageYOffset:!0,$parent:!0,$scrollLeft:!0,$scrollTop:!0,$scrollX:!0,$scrollY:!0,$self:!0,$webkitIndexedDB:!0,$webkitStorageInfo:!0,$window:!0},d=function(){if(typeof window=="undefined")return!1;for(var p in window)try{if(!a["$"+p]&&y.call(window,p)&&window[p]!==null&&typeof window[p]=="object")try{o(window[p])}catch(f){return!0}}catch(f){return!0}return!1}();m=function(p){var f=p!==null&&typeof p=="object",l=_.call(p)==="[object Function]",S=v(p),k=f&&_.call(p)==="[object String]",P=[];if(!f&&!l&&!S)throw new TypeError("Object.keys called on a non-object");var c=i&&l;if(k&&p.length>0&&!y.call(p,0))for(var C=0;C<p.length;++C)P.push(String(C));if(S&&p.length>0)for(var O=0;O<p.length;++O)P.push(String(O));else for(var L in p)c&&L==="prototype"||!y.call(p,L)||P.push(String(L));if(h)for(var j=function(M){if(typeof window=="undefined"||!d)return o(M);try{return o(M)}catch(B){return!1}}(p),H=0;H<n.length;++H)j&&n[H]==="constructor"||!y.call(p,n[H])||P.push(n[H]);return P}}K.exports=m},1189:(K,A,x)=>{"use strict";var m=Array.prototype.slice,y=x(1093),_=Object.keys,v=_?function(h){return _(h)}:x(8875),I=Object.keys;v.shim=function(){if(Object.keys){var h=function(){var i=Object.keys(arguments);return i&&i.length===arguments.length}(1,2);h||(Object.keys=function(i){return y(i)?I(m.call(i)):I(i)})}else Object.keys=v;return Object.keys||v},K.exports=v},1093:K=>{"use strict";var A=Object.prototype.toString;K.exports=function(x){var m=A.call(x),y=m==="[object Arguments]";return y||(y=m!=="[object Array]"&&x!==null&&typeof x=="object"&&typeof x.length=="number"&&x.length>=0&&A.call(x.callee)==="[object Function]"),y}},7583:(K,A,x)=>{const m=x(1333),y=x(157),_=x(7899),v=x(6756);function I(h,i,n,o,a){const d=[].slice.call(arguments,1),p=d.length,f=typeof d[p-1]=="function";if(!f&&!m())throw new Error("Callback required as last argument");if(!f){if(p<1)throw new Error("Too few arguments provided");return p===1?(n=i,i=o=void 0):p!==2||i.getContext||(o=n,n=i,i=void 0),new Promise(function(l,S){try{const k=y.create(n,o);l(h(k,i,o))}catch(k){S(k)}})}if(p<2)throw new Error("Too few arguments provided");p===2?(a=n,n=i,i=o=void 0):p===3&&(i.getContext&&a===void 0?(a=o,o=void 0):(a=o,o=n,n=i,i=void 0));try{const l=y.create(n,o);a(null,h(l,i,o))}catch(l){a(l)}}A.create=y.create,A.toCanvas=I.bind(null,_.render),A.toDataURL=I.bind(null,_.renderToDataURL),A.toString=I.bind(null,function(h,i,n){return v.render(h,n)})},1333:K=>{K.exports=function(){return typeof Promise=="function"&&Promise.prototype&&Promise.prototype.then}},6421:(K,A,x)=>{const m=x(6886).getSymbolSize;A.getRowColCoords=function(y){if(y===1)return[];const _=Math.floor(y/7)+2,v=m(y),I=v===145?26:2*Math.ceil((v-13)/(2*_-2)),h=[v-7];for(let i=1;i<_-1;i++)h[i]=h[i-1]-I;return h.push(6),h.reverse()},A.getPositions=function(y){const _=[],v=A.getRowColCoords(y),I=v.length;for(let h=0;h<I;h++)for(let i=0;i<I;i++)h===0&&i===0||h===0&&i===I-1||h===I-1&&i===0||_.push([v[h],v[i]]);return _}},1433:(K,A,x)=>{const m=x(208),y=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function _(v){this.mode=m.ALPHANUMERIC,this.data=v}_.getBitsLength=function(v){return 11*Math.floor(v/2)+v%2*6},_.prototype.getLength=function(){return this.data.length},_.prototype.getBitsLength=function(){return _.getBitsLength(this.data.length)},_.prototype.write=function(v){let I;for(I=0;I+2<=this.data.length;I+=2){let h=45*y.indexOf(this.data[I]);h+=y.indexOf(this.data[I+1]),v.put(h,11)}this.data.length%2&&v.put(y.indexOf(this.data[I]),6)},K.exports=_},9899:K=>{function A(){this.buffer=[],this.length=0}A.prototype={get:function(x){const m=Math.floor(x/8);return(this.buffer[m]>>>7-x%8&1)==1},put:function(x,m){for(let y=0;y<m;y++)this.putBit((x>>>m-y-1&1)==1)},getLengthInBits:function(){return this.length},putBit:function(x){const m=Math.floor(this.length/8);this.buffer.length<=m&&this.buffer.push(0),x&&(this.buffer[m]|=128>>>this.length%8),this.length++}},K.exports=A},8820:K=>{function A(x){if(!x||x<1)throw new Error("BitMatrix size must be defined and greater than 0");this.size=x,this.data=new Uint8Array(x*x),this.reservedBit=new Uint8Array(x*x)}A.prototype.set=function(x,m,y,_){const v=x*this.size+m;this.data[v]=y,_&&(this.reservedBit[v]=!0)},A.prototype.get=function(x,m){return this.data[x*this.size+m]},A.prototype.xor=function(x,m,y){this.data[x*this.size+m]^=y},A.prototype.isReserved=function(x,m){return this.reservedBit[x*this.size+m]},K.exports=A},5822:(K,A,x)=>{const m=x(9049),y=x(208);function _(v){this.mode=y.BYTE,typeof v=="string"&&(v=m(v)),this.data=new Uint8Array(v)}_.getBitsLength=function(v){return 8*v},_.prototype.getLength=function(){return this.data.length},_.prototype.getBitsLength=function(){return _.getBitsLength(this.data.length)},_.prototype.write=function(v){for(let I=0,h=this.data.length;I<h;I++)v.put(this.data[I],8)},K.exports=_},7518:(K,A,x)=>{const m=x(9953),y=[1,1,1,1,1,1,1,1,1,1,2,2,1,2,2,4,1,2,4,4,2,4,4,4,2,4,6,5,2,4,6,6,2,5,8,8,4,5,8,8,4,5,8,11,4,8,10,11,4,9,12,16,4,9,16,16,6,10,12,18,6,10,17,16,6,11,16,19,6,13,18,21,7,14,21,25,8,16,20,25,8,17,23,25,9,17,23,34,9,18,25,30,10,20,27,32,12,21,29,35,12,23,34,37,12,25,34,40,13,26,35,42,14,28,38,45,15,29,40,48,16,31,43,51,17,33,45,54,18,35,48,57,19,37,51,60,19,38,53,63,20,40,56,66,21,43,59,70,22,45,62,74,24,47,65,77,25,49,68,81],_=[7,10,13,17,10,16,22,28,15,26,36,44,20,36,52,64,26,48,72,88,36,64,96,112,40,72,108,130,48,88,132,156,60,110,160,192,72,130,192,224,80,150,224,264,96,176,260,308,104,198,288,352,120,216,320,384,132,240,360,432,144,280,408,480,168,308,448,532,180,338,504,588,196,364,546,650,224,416,600,700,224,442,644,750,252,476,690,816,270,504,750,900,300,560,810,960,312,588,870,1050,336,644,952,1110,360,700,1020,1200,390,728,1050,1260,420,784,1140,1350,450,812,1200,1440,480,868,1290,1530,510,924,1350,1620,540,980,1440,1710,570,1036,1530,1800,570,1064,1590,1890,600,1120,1680,1980,630,1204,1770,2100,660,1260,1860,2220,720,1316,1950,2310,750,1372,2040,2430];A.getBlocksCount=function(v,I){switch(I){case m.L:return y[4*(v-1)+0];case m.M:return y[4*(v-1)+1];case m.Q:return y[4*(v-1)+2];case m.H:return y[4*(v-1)+3];default:return}},A.getTotalCodewordsCount=function(v,I){switch(I){case m.L:return _[4*(v-1)+0];case m.M:return _[4*(v-1)+1];case m.Q:return _[4*(v-1)+2];case m.H:return _[4*(v-1)+3];default:return}}},9953:(K,A)=>{A.L={bit:1},A.M={bit:0},A.Q={bit:3},A.H={bit:2},A.isValid=function(x){return x&&x.bit!==void 0&&x.bit>=0&&x.bit<4},A.from=function(x,m){if(A.isValid(x))return x;try{return function(y){if(typeof y!="string")throw new Error("Param is not a string");switch(y.toLowerCase()){case"l":case"low":return A.L;case"m":case"medium":return A.M;case"q":case"quartile":return A.Q;case"h":case"high":return A.H;default:throw new Error("Unknown EC Level: "+y)}}(x)}catch(y){return m}}},7756:(K,A,x)=>{const m=x(6886).getSymbolSize;A.getPositions=function(y){const _=m(y);return[[0,0],[_-7,0],[0,_-7]]}},4565:(K,A,x)=>{const m=x(6886),y=m.getBCHDigit(1335);A.getEncodedBits=function(_,v){const I=_.bit<<3|v;let h=I<<10;for(;m.getBCHDigit(h)-y>=0;)h^=1335<<m.getBCHDigit(h)-y;return 21522^(I<<10|h)}},2731:(K,A)=>{const x=new Uint8Array(512),m=new Uint8Array(256);(function(){let y=1;for(let _=0;_<255;_++)x[_]=y,m[y]=_,y<<=1,256&y&&(y^=285);for(let _=255;_<512;_++)x[_]=x[_-255]})(),A.log=function(y){if(y<1)throw new Error("log("+y+")");return m[y]},A.exp=function(y){return x[y]},A.mul=function(y,_){return y===0||_===0?0:x[m[y]+m[_]]}},4861:(K,A,x)=>{const m=x(208),y=x(6886);function _(v){this.mode=m.KANJI,this.data=v}_.getBitsLength=function(v){return 13*v},_.prototype.getLength=function(){return this.data.length},_.prototype.getBitsLength=function(){return _.getBitsLength(this.data.length)},_.prototype.write=function(v){let I;for(I=0;I<this.data.length;I++){let h=y.toSJIS(this.data[I]);if(h>=33088&&h<=40956)h-=33088;else{if(!(h>=57408&&h<=60351))throw new Error("Invalid SJIS character: "+this.data[I]+`
Make sure your charset is UTF-8`);h-=49472}h=192*(h>>>8&255)+(255&h),v.put(h,13)}},K.exports=_},1332:(K,A)=>{A.Patterns={PATTERN000:0,PATTERN001:1,PATTERN010:2,PATTERN011:3,PATTERN100:4,PATTERN101:5,PATTERN110:6,PATTERN111:7};function x(m,y,_){switch(m){case A.Patterns.PATTERN000:return(y+_)%2==0;case A.Patterns.PATTERN001:return y%2==0;case A.Patterns.PATTERN010:return _%3==0;case A.Patterns.PATTERN011:return(y+_)%3==0;case A.Patterns.PATTERN100:return(Math.floor(y/2)+Math.floor(_/3))%2==0;case A.Patterns.PATTERN101:return y*_%2+y*_%3==0;case A.Patterns.PATTERN110:return(y*_%2+y*_%3)%2==0;case A.Patterns.PATTERN111:return(y*_%3+(y+_)%2)%2==0;default:throw new Error("bad maskPattern:"+m)}}A.isValid=function(m){return m!=null&&m!==""&&!isNaN(m)&&m>=0&&m<=7},A.from=function(m){return A.isValid(m)?parseInt(m,10):void 0},A.getPenaltyN1=function(m){const y=m.size;let _=0,v=0,I=0,h=null,i=null;for(let n=0;n<y;n++){v=I=0,h=i=null;for(let o=0;o<y;o++){let a=m.get(n,o);a===h?v++:(v>=5&&(_+=v-5+3),h=a,v=1),a=m.get(o,n),a===i?I++:(I>=5&&(_+=I-5+3),i=a,I=1)}v>=5&&(_+=v-5+3),I>=5&&(_+=I-5+3)}return _},A.getPenaltyN2=function(m){const y=m.size;let _=0;for(let v=0;v<y-1;v++)for(let I=0;I<y-1;I++){const h=m.get(v,I)+m.get(v,I+1)+m.get(v+1,I)+m.get(v+1,I+1);h!==4&&h!==0||_++}return 3*_},A.getPenaltyN3=function(m){const y=m.size;let _=0,v=0,I=0;for(let h=0;h<y;h++){v=I=0;for(let i=0;i<y;i++)v=v<<1&2047|m.get(h,i),i>=10&&(v===1488||v===93)&&_++,I=I<<1&2047|m.get(i,h),i>=10&&(I===1488||I===93)&&_++}return 40*_},A.getPenaltyN4=function(m){let y=0;const _=m.data.length;for(let v=0;v<_;v++)y+=m.data[v];return 10*Math.abs(Math.ceil(100*y/_/5)-10)},A.applyMask=function(m,y){const _=y.size;for(let v=0;v<_;v++)for(let I=0;I<_;I++)y.isReserved(I,v)||y.xor(I,v,x(m,I,v))},A.getBestMask=function(m,y){const _=Object.keys(A.Patterns).length;let v=0,I=1/0;for(let h=0;h<_;h++){y(h),A.applyMask(h,m);const i=A.getPenaltyN1(m)+A.getPenaltyN2(m)+A.getPenaltyN3(m)+A.getPenaltyN4(m);A.applyMask(h,m),i<I&&(I=i,v=h)}return v}},208:(K,A,x)=>{const m=x(1878),y=x(7044);A.NUMERIC={id:"Numeric",bit:1,ccBits:[10,12,14]},A.ALPHANUMERIC={id:"Alphanumeric",bit:2,ccBits:[9,11,13]},A.BYTE={id:"Byte",bit:4,ccBits:[8,16,16]},A.KANJI={id:"Kanji",bit:8,ccBits:[8,10,12]},A.MIXED={bit:-1},A.getCharCountIndicator=function(_,v){if(!_.ccBits)throw new Error("Invalid mode: "+_);if(!m.isValid(v))throw new Error("Invalid version: "+v);return v>=1&&v<10?_.ccBits[0]:v<27?_.ccBits[1]:_.ccBits[2]},A.getBestModeForData=function(_){return y.testNumeric(_)?A.NUMERIC:y.testAlphanumeric(_)?A.ALPHANUMERIC:y.testKanji(_)?A.KANJI:A.BYTE},A.toString=function(_){if(_&&_.id)return _.id;throw new Error("Invalid mode")},A.isValid=function(_){return _&&_.bit&&_.ccBits},A.from=function(_,v){if(A.isValid(_))return _;try{return function(I){if(typeof I!="string")throw new Error("Param is not a string");switch(I.toLowerCase()){case"numeric":return A.NUMERIC;case"alphanumeric":return A.ALPHANUMERIC;case"kanji":return A.KANJI;case"byte":return A.BYTE;default:throw new Error("Unknown mode: "+I)}}(_)}catch(I){return v}}},4357:(K,A,x)=>{const m=x(208);function y(_){this.mode=m.NUMERIC,this.data=_.toString()}y.getBitsLength=function(_){return 10*Math.floor(_/3)+(_%3?_%3*3+1:0)},y.prototype.getLength=function(){return this.data.length},y.prototype.getBitsLength=function(){return y.getBitsLength(this.data.length)},y.prototype.write=function(_){let v,I,h;for(v=0;v+3<=this.data.length;v+=3)I=this.data.substr(v,3),h=parseInt(I,10),_.put(h,10);const i=this.data.length-v;i>0&&(I=this.data.substr(v),h=parseInt(I,10),_.put(h,3*i+1))},K.exports=y},4713:(K,A,x)=>{const m=x(2731);A.mul=function(y,_){const v=new Uint8Array(y.length+_.length-1);for(let I=0;I<y.length;I++)for(let h=0;h<_.length;h++)v[I+h]^=m.mul(y[I],_[h]);return v},A.mod=function(y,_){let v=new Uint8Array(y);for(;v.length-_.length>=0;){const I=v[0];for(let i=0;i<_.length;i++)v[i]^=m.mul(_[i],I);let h=0;for(;h<v.length&&v[h]===0;)h++;v=v.slice(h)}return v},A.generateECPolynomial=function(y){let _=new Uint8Array([1]);for(let v=0;v<y;v++)_=A.mul(_,new Uint8Array([1,m.exp(v)]));return _}},157:(K,A,x)=>{const m=x(6886),y=x(9953),_=x(9899),v=x(8820),I=x(6421),h=x(7756),i=x(1332),n=x(7518),o=x(4764),a=x(1427),d=x(4565),p=x(208),f=x(9801);function l(k,P,c){const C=k.size,O=d.getEncodedBits(P,c);let L,j;for(L=0;L<15;L++)j=(O>>L&1)==1,L<6?k.set(L,8,j,!0):L<8?k.set(L+1,8,j,!0):k.set(C-15+L,8,j,!0),L<8?k.set(8,C-L-1,j,!0):L<9?k.set(8,15-L-1+1,j,!0):k.set(8,15-L-1,j,!0);k.set(C-8,8,1,!0)}function S(k,P,c,C){let O;if(Array.isArray(k))O=f.fromArray(k);else{if(typeof k!="string")throw new Error("Invalid data");{let B=P;if(!B){const U=f.rawSplit(k);B=a.getBestVersionForData(U,c)}O=f.fromString(k,B||40)}}const L=a.getBestVersionForData(O,c);if(!L)throw new Error("The amount of data is too big to be stored in a QR Code");if(P){if(P<L)throw new Error(`
The chosen QR Code version cannot contain this amount of data.
Minimum version required to store current data is: `+L+`.
`)}else P=L;const j=function(B,U,W){const R=new _;W.forEach(function(z){R.put(z.mode.bit,4),R.put(z.getLength(),p.getCharCountIndicator(z.mode,B)),z.write(R)});const F=8*(m.getSymbolTotalCodewords(B)-n.getTotalCodewordsCount(B,U));for(R.getLengthInBits()+4<=F&&R.put(0,4);R.getLengthInBits()%8!=0;)R.putBit(0);const V=(F-R.getLengthInBits())/8;for(let z=0;z<V;z++)R.put(z%2?17:236,8);return function(z,T,q){const ge=m.getSymbolTotalCodewords(T),de=ge-n.getTotalCodewordsCount(T,q),ve=n.getBlocksCount(T,q),oe=ve-ge%ve,$=Math.floor(ge/ve),ee=Math.floor(de/ve),se=ee+1,re=$-ee,_e=new o(re);let ke=0;const Oe=new Array(ve),ye=new Array(ve);let Ve=0;const Me=new Uint8Array(z.buffer);for(let Xe=0;Xe<ve;Xe++){const be=Xe<oe?ee:se;Oe[Xe]=Me.slice(ke,ke+be),ye[Xe]=_e.encode(Oe[Xe]),ke+=be,Ve=Math.max(Ve,be)}const Ge=new Uint8Array(ge);let je,Te,qe=0;for(je=0;je<Ve;je++)for(Te=0;Te<ve;Te++)je<Oe[Te].length&&(Ge[qe++]=Oe[Te][je]);for(je=0;je<re;je++)for(Te=0;Te<ve;Te++)Ge[qe++]=ye[Te][je];return Ge}(R,B,U)}(P,c,O),H=m.getSymbolSize(P),M=new v(H);return function(B,U){const W=B.size,R=h.getPositions(U);for(let F=0;F<R.length;F++){const V=R[F][0],z=R[F][1];for(let T=-1;T<=7;T++)if(!(V+T<=-1||W<=V+T))for(let q=-1;q<=7;q++)z+q<=-1||W<=z+q||(T>=0&&T<=6&&(q===0||q===6)||q>=0&&q<=6&&(T===0||T===6)||T>=2&&T<=4&&q>=2&&q<=4?B.set(V+T,z+q,!0,!0):B.set(V+T,z+q,!1,!0))}}(M,P),function(B){const U=B.size;for(let W=8;W<U-8;W++){const R=W%2==0;B.set(W,6,R,!0),B.set(6,W,R,!0)}}(M),function(B,U){const W=I.getPositions(U);for(let R=0;R<W.length;R++){const F=W[R][0],V=W[R][1];for(let z=-2;z<=2;z++)for(let T=-2;T<=2;T++)z===-2||z===2||T===-2||T===2||z===0&&T===0?B.set(F+z,V+T,!0,!0):B.set(F+z,V+T,!1,!0)}}(M,P),l(M,c,0),P>=7&&function(B,U){const W=B.size,R=a.getEncodedBits(U);let F,V,z;for(let T=0;T<18;T++)F=Math.floor(T/3),V=T%3+W-8-3,z=(R>>T&1)==1,B.set(F,V,z,!0),B.set(V,F,z,!0)}(M,P),function(B,U){const W=B.size;let R=-1,F=W-1,V=7,z=0;for(let T=W-1;T>0;T-=2)for(T===6&&T--;;){for(let q=0;q<2;q++)if(!B.isReserved(F,T-q)){let ge=!1;z<U.length&&(ge=(U[z]>>>V&1)==1),B.set(F,T-q,ge),V--,V===-1&&(z++,V=7)}if(F+=R,F<0||W<=F){F-=R,R=-R;break}}}(M,j),isNaN(C)&&(C=i.getBestMask(M,l.bind(null,M,c))),i.applyMask(C,M),l(M,c,C),{modules:M,version:P,errorCorrectionLevel:c,maskPattern:C,segments:O}}A.create=function(k,P){if(k===void 0||k==="")throw new Error("No input text");let c,C,O=y.M;return P!==void 0&&(O=y.from(P.errorCorrectionLevel,y.M),c=a.from(P.version),C=i.from(P.maskPattern),P.toSJISFunc&&m.setToSJISFunction(P.toSJISFunc)),S(k,c,O,C)}},4764:(K,A,x)=>{const m=x(4713);function y(_){this.genPoly=void 0,this.degree=_,this.degree&&this.initialize(this.degree)}y.prototype.initialize=function(_){this.degree=_,this.genPoly=m.generateECPolynomial(this.degree)},y.prototype.encode=function(_){if(!this.genPoly)throw new Error("Encoder not initialized");const v=new Uint8Array(_.length+this.degree);v.set(_);const I=m.mod(v,this.genPoly),h=this.degree-I.length;if(h>0){const i=new Uint8Array(this.degree);return i.set(I,h),i}return I},K.exports=y},7044:(K,A)=>{const x="[0-9]+";let m="(?:[u3000-u303F]|[u3040-u309F]|[u30A0-u30FF]|[uFF00-uFFEF]|[u4E00-u9FAF]|[u2605-u2606]|[u2190-u2195]|u203B|[u2010u2015u2018u2019u2025u2026u201Cu201Du2225u2260]|[u0391-u0451]|[u00A7u00A8u00B1u00B4u00D7u00F7])+";m=m.replace(/u/g,"\\u");const y="(?:(?![A-Z0-9 $%*+\\-./:]|"+m+`)(?:.|[\r
]))+`;A.KANJI=new RegExp(m,"g"),A.BYTE_KANJI=new RegExp("[^A-Z0-9 $%*+\\-./:]+","g"),A.BYTE=new RegExp(y,"g"),A.NUMERIC=new RegExp(x,"g"),A.ALPHANUMERIC=new RegExp("[A-Z $%*+\\-./:]+","g");const _=new RegExp("^"+m+"$"),v=new RegExp("^"+x+"$"),I=new RegExp("^[A-Z0-9 $%*+\\-./:]+$");A.testKanji=function(h){return _.test(h)},A.testNumeric=function(h){return v.test(h)},A.testAlphanumeric=function(h){return I.test(h)}},9801:(K,A,x)=>{const m=x(208),y=x(4357),_=x(1433),v=x(5822),I=x(4861),h=x(7044),i=x(6886),n=x(3939);function o(l){return unescape(encodeURIComponent(l)).length}function a(l,S,k){const P=[];let c;for(;(c=l.exec(k))!==null;)P.push({data:c[0],index:c.index,mode:S,length:c[0].length});return P}function d(l){const S=a(h.NUMERIC,m.NUMERIC,l),k=a(h.ALPHANUMERIC,m.ALPHANUMERIC,l);let P,c;return i.isKanjiModeEnabled()?(P=a(h.BYTE,m.BYTE,l),c=a(h.KANJI,m.KANJI,l)):(P=a(h.BYTE_KANJI,m.BYTE,l),c=[]),S.concat(k,P,c).sort(function(C,O){return C.index-O.index}).map(function(C){return{data:C.data,mode:C.mode,length:C.length}})}function p(l,S){switch(S){case m.NUMERIC:return y.getBitsLength(l);case m.ALPHANUMERIC:return _.getBitsLength(l);case m.KANJI:return I.getBitsLength(l);case m.BYTE:return v.getBitsLength(l)}}function f(l,S){let k;const P=m.getBestModeForData(l);if(k=m.from(S,P),k!==m.BYTE&&k.bit<P.bit)throw new Error('"'+l+'" cannot be encoded with mode '+m.toString(k)+`.
 Suggested mode is: `+m.toString(P));switch(k!==m.KANJI||i.isKanjiModeEnabled()||(k=m.BYTE),k){case m.NUMERIC:return new y(l);case m.ALPHANUMERIC:return new _(l);case m.KANJI:return new I(l);case m.BYTE:return new v(l)}}A.fromArray=function(l){return l.reduce(function(S,k){return typeof k=="string"?S.push(f(k,null)):k.data&&S.push(f(k.data,k.mode)),S},[])},A.fromString=function(l,S){const k=function(O){const L=[];for(let j=0;j<O.length;j++){const H=O[j];switch(H.mode){case m.NUMERIC:L.push([H,{data:H.data,mode:m.ALPHANUMERIC,length:H.length},{data:H.data,mode:m.BYTE,length:H.length}]);break;case m.ALPHANUMERIC:L.push([H,{data:H.data,mode:m.BYTE,length:H.length}]);break;case m.KANJI:L.push([H,{data:H.data,mode:m.BYTE,length:o(H.data)}]);break;case m.BYTE:L.push([{data:H.data,mode:m.BYTE,length:o(H.data)}])}}return L}(d(l,i.isKanjiModeEnabled())),P=function(O,L){const j={},H={start:{}};let M=["start"];for(let B=0;B<O.length;B++){const U=O[B],W=[];for(let R=0;R<U.length;R++){const F=U[R],V=""+B+R;W.push(V),j[V]={node:F,lastCount:0},H[V]={};for(let z=0;z<M.length;z++){const T=M[z];j[T]&&j[T].node.mode===F.mode?(H[T][V]=p(j[T].lastCount+F.length,F.mode)-p(j[T].lastCount,F.mode),j[T].lastCount+=F.length):(j[T]&&(j[T].lastCount=F.length),H[T][V]=p(F.length,F.mode)+4+m.getCharCountIndicator(F.mode,L))}}M=W}for(let B=0;B<M.length;B++)H[M[B]].end=0;return{map:H,table:j}}(k,S),c=n.find_path(P.map,"start","end"),C=[];for(let O=1;O<c.length-1;O++)C.push(P.table[c[O]].node);return A.fromArray(C.reduce(function(O,L){const j=O.length-1>=0?O[O.length-1]:null;return j&&j.mode===L.mode?(O[O.length-1].data+=L.data,O):(O.push(L),O)},[]))},A.rawSplit=function(l){return A.fromArray(d(l,i.isKanjiModeEnabled()))}},6886:(K,A)=>{let x;const m=[0,26,44,70,100,134,172,196,242,292,346,404,466,532,581,655,733,815,901,991,1085,1156,1258,1364,1474,1588,1706,1828,1921,2051,2185,2323,2465,2611,2761,2876,3034,3196,3362,3532,3706];A.getSymbolSize=function(y){if(!y)throw new Error('"version" cannot be null or undefined');if(y<1||y>40)throw new Error('"version" should be in range from 1 to 40');return 4*y+17},A.getSymbolTotalCodewords=function(y){return m[y]},A.getBCHDigit=function(y){let _=0;for(;y!==0;)_++,y>>>=1;return _},A.setToSJISFunction=function(y){if(typeof y!="function")throw new Error('"toSJISFunc" is not a valid function.');x=y},A.isKanjiModeEnabled=function(){return x!==void 0},A.toSJIS=function(y){return x(y)}},1878:(K,A)=>{A.isValid=function(x){return!isNaN(x)&&x>=1&&x<=40}},1427:(K,A,x)=>{const m=x(6886),y=x(7518),_=x(9953),v=x(208),I=x(1878),h=m.getBCHDigit(7973);function i(o,a){return v.getCharCountIndicator(o,a)+4}function n(o,a){let d=0;return o.forEach(function(p){const f=i(p.mode,a);d+=f+p.getBitsLength()}),d}A.from=function(o,a){return I.isValid(o)?parseInt(o,10):a},A.getCapacity=function(o,a,d){if(!I.isValid(o))throw new Error("Invalid QR Code version");d===void 0&&(d=v.BYTE);const p=8*(m.getSymbolTotalCodewords(o)-y.getTotalCodewordsCount(o,a));if(d===v.MIXED)return p;const f=p-i(d,o);switch(d){case v.NUMERIC:return Math.floor(f/10*3);case v.ALPHANUMERIC:return Math.floor(f/11*2);case v.KANJI:return Math.floor(f/13);case v.BYTE:default:return Math.floor(f/8)}},A.getBestVersionForData=function(o,a){let d;const p=_.from(a,_.M);if(Array.isArray(o)){if(o.length>1)return function(f,l){for(let S=1;S<=40;S++)if(n(f,S)<=A.getCapacity(S,l,v.MIXED))return S}(o,p);if(o.length===0)return 1;d=o[0]}else d=o;return function(f,l,S){for(let k=1;k<=40;k++)if(l<=A.getCapacity(k,S,f))return k}(d.mode,d.getLength(),p)},A.getEncodedBits=function(o){if(!I.isValid(o)||o<7)throw new Error("Invalid QR Code version");let a=o<<12;for(;m.getBCHDigit(a)-h>=0;)a^=7973<<m.getBCHDigit(a)-h;return o<<12|a}},7899:(K,A,x)=>{const m=x(2726);A.render=function(y,_,v){let I=v,h=_;I!==void 0||_&&_.getContext||(I=_,_=void 0),_||(h=function(){try{return document.createElement("canvas")}catch(a){throw new Error("You need to specify a canvas element")}}()),I=m.getOptions(I);const i=m.getImageWidth(y.modules.size,I),n=h.getContext("2d"),o=n.createImageData(i,i);return m.qrToImageData(o.data,y,I),function(a,d,p){a.clearRect(0,0,d.width,d.height),d.style||(d.style={}),d.height=p,d.width=p,d.style.height=p+"px",d.style.width=p+"px"}(n,h,i),n.putImageData(o,0,0),h},A.renderToDataURL=function(y,_,v){let I=v;I!==void 0||_&&_.getContext||(I=_,_=void 0),I||(I={});const h=A.render(y,_,I),i=I.type||"image/png",n=I.rendererOpts||{};return h.toDataURL(i,n.quality)}},6756:(K,A,x)=>{const m=x(2726);function y(v,I){const h=v.a/255,i=I+'="'+v.hex+'"';return h<1?i+" "+I+'-opacity="'+h.toFixed(2).slice(1)+'"':i}function _(v,I,h){let i=v+I;return h!==void 0&&(i+=" "+h),i}A.render=function(v,I,h){const i=m.getOptions(I),n=v.modules.size,o=v.modules.data,a=n+2*i.margin,d=i.color.light.a?"<path "+y(i.color.light,"fill")+' d="M0 0h'+a+"v"+a+'H0z"/>':"",p="<path "+y(i.color.dark,"stroke")+' d="'+function(S,k,P){let c="",C=0,O=!1,L=0;for(let j=0;j<S.length;j++){const H=Math.floor(j%k),M=Math.floor(j/k);H||O||(O=!0),S[j]?(L++,j>0&&H>0&&S[j-1]||(c+=O?_("M",H+P,.5+M+P):_("m",C,0),C=0,O=!1),H+1<k&&S[j+1]||(c+=_("h",L),L=0)):C++}return c}(o,n,i.margin)+'"/>',f='viewBox="0 0 '+a+" "+a+'"',l='<svg xmlns="http://www.w3.org/2000/svg" '+(i.width?'width="'+i.width+'" height="'+i.width+'" ':"")+f+' shape-rendering="crispEdges">'+d+p+`</svg>
`;return typeof h=="function"&&h(null,l),l}},2726:(K,A)=>{function x(m){if(typeof m=="number"&&(m=m.toString()),typeof m!="string")throw new Error("Color should be defined as hex string");let y=m.slice().replace("#","").split("");if(y.length<3||y.length===5||y.length>8)throw new Error("Invalid hex color: "+m);y.length!==3&&y.length!==4||(y=Array.prototype.concat.apply([],y.map(function(v){return[v,v]}))),y.length===6&&y.push("F","F");const _=parseInt(y.join(""),16);return{r:_>>24&255,g:_>>16&255,b:_>>8&255,a:255&_,hex:"#"+y.slice(0,6).join("")}}A.getOptions=function(m){m||(m={}),m.color||(m.color={});const y=m.margin===void 0||m.margin===null||m.margin<0?4:m.margin,_=m.width&&m.width>=21?m.width:void 0,v=m.scale||4;return{width:_,scale:_?4:v,margin:y,color:{dark:x(m.color.dark||"#000000ff"),light:x(m.color.light||"#ffffffff")},type:m.type,rendererOpts:m.rendererOpts||{}}},A.getScale=function(m,y){return y.width&&y.width>=m+2*y.margin?y.width/(m+2*y.margin):y.scale},A.getImageWidth=function(m,y){const _=A.getScale(m,y);return Math.floor((m+2*y.margin)*_)},A.qrToImageData=function(m,y,_){const v=y.modules.size,I=y.modules.data,h=A.getScale(v,_),i=Math.floor((v+2*_.margin)*h),n=_.margin*h,o=[_.color.light,_.color.dark];for(let a=0;a<i;a++)for(let d=0;d<i;d++){let p=4*(a*i+d),f=_.color.light;a>=n&&d>=n&&a<i-n&&d<i-n&&(f=o[I[Math.floor((a-n)/h)*v+Math.floor((d-n)/h)]?1:0]),m[p++]=f.r,m[p++]=f.g,m[p++]=f.b,m[p]=f.a}}},5815:(K,A,x)=>{var m=x(5606),y=x(4982),_=x(2849),v=x(226),I="\0",h=function(i){Array.isArray(i)?this.ops=i:i!=null&&Array.isArray(i.ops)?this.ops=i.ops:this.ops=[]};h.prototype.insert=function(i,n){var o={};return i.length===0?this:(o.insert=i,n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(o.attributes=n),this.push(o))},h.prototype.delete=function(i){return i<=0?this:this.push({delete:i})},h.prototype.retain=function(i,n){if(i<=0)return this;var o={retain:i};return n!=null&&typeof n=="object"&&Object.keys(n).length>0&&(o.attributes=n),this.push(o)},h.prototype.push=function(i){var n=this.ops.length,o=this.ops[n-1];if(i=_(!0,{},i),typeof o=="object"){if(typeof i.delete=="number"&&typeof o.delete=="number")return this.ops[n-1]={delete:o.delete+i.delete},this;if(typeof o.delete=="number"&&i.insert!=null&&(n-=1,typeof(o=this.ops[n-1])!="object"))return this.ops.unshift(i),this;if(y(i.attributes,o.attributes)){if(typeof i.insert=="string"&&typeof o.insert=="string")return this.ops[n-1]={insert:o.insert+i.insert},typeof i.attributes=="object"&&(this.ops[n-1].attributes=i.attributes),this;if(typeof i.retain=="number"&&typeof o.retain=="number")return this.ops[n-1]={retain:o.retain+i.retain},typeof i.attributes=="object"&&(this.ops[n-1].attributes=i.attributes),this}}return n===this.ops.length?this.ops.push(i):this.ops.splice(n,0,i),this},h.prototype.chop=function(){var i=this.ops[this.ops.length-1];return i&&i.retain&&!i.attributes&&this.ops.pop(),this},h.prototype.filter=function(i){return this.ops.filter(i)},h.prototype.forEach=function(i){this.ops.forEach(i)},h.prototype.map=function(i){return this.ops.map(i)},h.prototype.partition=function(i){var n=[],o=[];return this.forEach(function(a){(i(a)?n:o).push(a)}),[n,o]},h.prototype.reduce=function(i,n){return this.ops.reduce(i,n)},h.prototype.changeLength=function(){return this.reduce(function(i,n){return n.insert?i+v.length(n):n.delete?i-n.delete:i},0)},h.prototype.length=function(){return this.reduce(function(i,n){return i+v.length(n)},0)},h.prototype.slice=function(i,n){i=i||0,typeof n!="number"&&(n=1/0);for(var o=[],a=v.iterator(this.ops),d=0;d<n&&a.hasNext();){var p;d<i?p=a.next(i-d):(p=a.next(n-d),o.push(p)),d+=v.length(p)}return new h(o)},h.prototype.compose=function(i){var n=v.iterator(this.ops),o=v.iterator(i.ops),a=[],d=o.peek();if(d!=null&&typeof d.retain=="number"&&d.attributes==null){for(var p=d.retain;n.peekType()==="insert"&&n.peekLength()<=p;)p-=n.peekLength(),a.push(n.next());d.retain-p>0&&o.next(d.retain-p)}for(var f=new h(a);n.hasNext()||o.hasNext();)if(o.peekType()==="insert")f.push(o.next());else if(n.peekType()==="delete")f.push(n.next());else{var l=Math.min(n.peekLength(),o.peekLength()),S=n.next(l),k=o.next(l);if(typeof k.retain=="number"){var P={};typeof S.retain=="number"?P.retain=l:P.insert=S.insert;var c=v.attributes.compose(S.attributes,k.attributes,typeof S.retain=="number");if(c&&(P.attributes=c),f.push(P),!o.hasNext()&&y(f.ops[f.ops.length-1],P)){var C=new h(n.rest());return f.concat(C).chop()}}else typeof k.delete=="number"&&typeof S.retain=="number"&&f.push(k)}return f.chop()},h.prototype.concat=function(i){var n=new h(this.ops.slice());return i.ops.length>0&&(n.push(i.ops[0]),n.ops=n.ops.concat(i.ops.slice(1))),n},h.prototype.diff=function(i,n){if(this.ops===i.ops)return new h;var o=[this,i].map(function(l){return l.map(function(S){if(S.insert!=null)return typeof S.insert=="string"?S.insert:I;throw new Error("diff() called "+(l===i?"on":"with")+" non-document")}).join("")}),a=new h,d=m(o[0],o[1],n),p=v.iterator(this.ops),f=v.iterator(i.ops);return d.forEach(function(l){for(var S=l[1].length;S>0;){var k=0;switch(l[0]){case m.INSERT:k=Math.min(f.peekLength(),S),a.push(f.next(k));break;case m.DELETE:k=Math.min(S,p.peekLength()),p.next(k),a.delete(k);break;case m.EQUAL:k=Math.min(p.peekLength(),f.peekLength(),S);var P=p.next(k),c=f.next(k);y(P.insert,c.insert)?a.retain(k,v.attributes.diff(P.attributes,c.attributes)):a.push(c).delete(k)}S-=k}}),a.chop()},h.prototype.eachLine=function(i,n){n=n||`
`;for(var o=v.iterator(this.ops),a=new h,d=0;o.hasNext();){if(o.peekType()!=="insert")return;var p=o.peek(),f=v.length(p)-o.peekLength(),l=typeof p.insert=="string"?p.insert.indexOf(n,f)-f:-1;if(l<0)a.push(o.next());else if(l>0)a.push(o.next(l));else{if(i(a,o.next(1).attributes||{},d)===!1)return;d+=1,a=new h}}a.length()>0&&i(a,{},d)},h.prototype.transform=function(i,n){if(n=!!n,typeof i=="number")return this.transformPosition(i,n);for(var o=v.iterator(this.ops),a=v.iterator(i.ops),d=new h;o.hasNext()||a.hasNext();)if(o.peekType()!=="insert"||!n&&a.peekType()==="insert")if(a.peekType()==="insert")d.push(a.next());else{var p=Math.min(o.peekLength(),a.peekLength()),f=o.next(p),l=a.next(p);if(f.delete)continue;l.delete?d.push(l):d.retain(p,v.attributes.transform(f.attributes,l.attributes,n))}else d.retain(v.length(o.next()));return d.chop()},h.prototype.transformPosition=function(i,n){n=!!n;for(var o=v.iterator(this.ops),a=0;o.hasNext()&&a<=i;){var d=o.peekLength(),p=o.peekType();o.next(),p!=="delete"?(p==="insert"&&(a<i||!n)&&(i+=d),a+=d):i-=Math.min(d,i-a)}return i},K.exports=h},226:(K,A,x)=>{var m=x(4982),y=x(2849),_={attributes:{compose:function(I,h,i){typeof I!="object"&&(I={}),typeof h!="object"&&(h={});var n=y(!0,{},h);for(var o in i||(n=Object.keys(n).reduce(function(a,d){return n[d]!=null&&(a[d]=n[d]),a},{})),I)I[o]!==void 0&&h[o]===void 0&&(n[o]=I[o]);return Object.keys(n).length>0?n:void 0},diff:function(I,h){typeof I!="object"&&(I={}),typeof h!="object"&&(h={});var i=Object.keys(I).concat(Object.keys(h)).reduce(function(n,o){return m(I[o],h[o])||(n[o]=h[o]===void 0?null:h[o]),n},{});return Object.keys(i).length>0?i:void 0},transform:function(I,h,i){if(typeof I!="object")return h;if(typeof h=="object"){if(!i)return h;var n=Object.keys(h).reduce(function(o,a){return I[a]===void 0&&(o[a]=h[a]),o},{});return Object.keys(n).length>0?n:void 0}}},iterator:function(I){return new v(I)},length:function(I){return typeof I.delete=="number"?I.delete:typeof I.retain=="number"?I.retain:typeof I.insert=="string"?I.insert.length:1}};function v(I){this.ops=I,this.index=0,this.offset=0}v.prototype.hasNext=function(){return this.peekLength()<1/0},v.prototype.next=function(I){I||(I=1/0);var h=this.ops[this.index];if(h){var i=this.offset,n=_.length(h);if(I>=n-i?(I=n-i,this.index+=1,this.offset=0):this.offset+=I,typeof h.delete=="number")return{delete:I};var o={};return h.attributes&&(o.attributes=h.attributes),typeof h.retain=="number"?o.retain=I:typeof h.insert=="string"?o.insert=h.insert.substr(i,I):o.insert=h.insert,o}return{retain:1/0}},v.prototype.peek=function(){return this.ops[this.index]},v.prototype.peekLength=function(){return this.ops[this.index]?_.length(this.ops[this.index])-this.offset:1/0},v.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},v.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var I=this.offset,h=this.index,i=this.next(),n=this.ops.slice(this.index);return this.offset=I,this.index=h,[i].concat(n)}return[]},K.exports=_},1574:function(K){var A;A=function(){return function(x){var m={};function y(_){if(m[_])return m[_].exports;var v=m[_]={i:_,l:!1,exports:{}};return x[_].call(v.exports,v,v.exports,y),v.l=!0,v.exports}return y.m=x,y.c=m,y.d=function(_,v,I){y.o(_,v)||Object.defineProperty(_,v,{configurable:!1,enumerable:!0,get:I})},y.n=function(_){var v=_&&_.__esModule?function(){return _.default}:function(){return _};return y.d(v,"a",v),v},y.o=function(_,v){return Object.prototype.hasOwnProperty.call(_,v)},y.p="",y(y.s=109)}([function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=y(17),v=y(18),I=y(19),h=y(45),i=y(46),n=y(47),o=y(48),a=y(49),d=y(12),p=y(32),f=y(33),l=y(31),S=y(1),k={Scope:S.Scope,create:S.create,find:S.find,query:S.query,register:S.register,Container:_.default,Format:v.default,Leaf:I.default,Embed:o.default,Scroll:h.default,Block:n.default,Inline:i.default,Text:a.default,Attributor:{Attribute:d.default,Class:p.default,Style:f.default,Store:l.default}};m.default=k},function(x,m,y){"use strict";var _,v=this&&this.__extends||(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(p,f){p.__proto__=f}||function(p,f){for(var l in f)f.hasOwnProperty(l)&&(p[l]=f[l])},function(p,f){function l(){this.constructor=p}_(p,f),p.prototype=f===null?Object.create(f):(l.prototype=f.prototype,new l)});Object.defineProperty(m,"__esModule",{value:!0});var I=function(p){function f(l){var S=this;return l="[Parchment] "+l,(S=p.call(this,l)||this).message=l,S.name=S.constructor.name,S}return v(f,p),f}(Error);m.ParchmentError=I;var h,i={},n={},o={},a={};function d(p,f){var l;if(f===void 0&&(f=h.ANY),typeof p=="string")l=a[p]||i[p];else if(p instanceof Text||p.nodeType===Node.TEXT_NODE)l=a.text;else if(typeof p=="number")p&h.LEVEL&h.BLOCK?l=a.block:p&h.LEVEL&h.INLINE&&(l=a.inline);else if(p instanceof HTMLElement){var S=(p.getAttribute("class")||"").split(/\s+/);for(var k in S)if(l=n[S[k]])break;l=l||o[p.tagName]}return l==null?null:f&h.LEVEL&l.scope&&f&h.TYPE&l.scope?l:null}m.DATA_KEY="__blot",function(p){p[p.TYPE=3]="TYPE",p[p.LEVEL=12]="LEVEL",p[p.ATTRIBUTE=13]="ATTRIBUTE",p[p.BLOT=14]="BLOT",p[p.INLINE=7]="INLINE",p[p.BLOCK=11]="BLOCK",p[p.BLOCK_BLOT=10]="BLOCK_BLOT",p[p.INLINE_BLOT=6]="INLINE_BLOT",p[p.BLOCK_ATTRIBUTE=9]="BLOCK_ATTRIBUTE",p[p.INLINE_ATTRIBUTE=5]="INLINE_ATTRIBUTE",p[p.ANY=15]="ANY"}(h=m.Scope||(m.Scope={})),m.create=function(p,f){var l=d(p);if(l==null)throw new I("Unable to create "+p+" blot");var S=l,k=p instanceof Node||p.nodeType===Node.TEXT_NODE?p:S.create(f);return new S(k,f)},m.find=function p(f,l){return l===void 0&&(l=!1),f==null?null:f[m.DATA_KEY]!=null?f[m.DATA_KEY].blot:l?p(f.parentNode,l):null},m.query=d,m.register=function p(){for(var f=[],l=0;l<arguments.length;l++)f[l]=arguments[l];if(f.length>1)return f.map(function(k){return p(k)});var S=f[0];if(typeof S.blotName!="string"&&typeof S.attrName!="string")throw new I("Invalid definition");if(S.blotName==="abstract")throw new I("Cannot register abstract class");return a[S.blotName||S.attrName]=S,typeof S.keyName=="string"?i[S.keyName]=S:(S.className!=null&&(n[S.className]=S),S.tagName!=null&&(Array.isArray(S.tagName)?S.tagName=S.tagName.map(function(k){return k.toUpperCase()}):S.tagName=S.tagName.toUpperCase(),(Array.isArray(S.tagName)?S.tagName:[S.tagName]).forEach(function(k){o[k]!=null&&S.className!=null||(o[k]=S)}))),S}},function(x,m,y){var _=y(51),v=y(11),I=y(3),h=y(20),i="\0",n=function(o){Array.isArray(o)?this.ops=o:o!=null&&Array.isArray(o.ops)?this.ops=o.ops:this.ops=[]};n.prototype.insert=function(o,a){var d={};return o.length===0?this:(d.insert=o,a!=null&&typeof a=="object"&&Object.keys(a).length>0&&(d.attributes=a),this.push(d))},n.prototype.delete=function(o){return o<=0?this:this.push({delete:o})},n.prototype.retain=function(o,a){if(o<=0)return this;var d={retain:o};return a!=null&&typeof a=="object"&&Object.keys(a).length>0&&(d.attributes=a),this.push(d)},n.prototype.push=function(o){var a=this.ops.length,d=this.ops[a-1];if(o=I(!0,{},o),typeof d=="object"){if(typeof o.delete=="number"&&typeof d.delete=="number")return this.ops[a-1]={delete:d.delete+o.delete},this;if(typeof d.delete=="number"&&o.insert!=null&&(a-=1,typeof(d=this.ops[a-1])!="object"))return this.ops.unshift(o),this;if(v(o.attributes,d.attributes)){if(typeof o.insert=="string"&&typeof d.insert=="string")return this.ops[a-1]={insert:d.insert+o.insert},typeof o.attributes=="object"&&(this.ops[a-1].attributes=o.attributes),this;if(typeof o.retain=="number"&&typeof d.retain=="number")return this.ops[a-1]={retain:d.retain+o.retain},typeof o.attributes=="object"&&(this.ops[a-1].attributes=o.attributes),this}}return a===this.ops.length?this.ops.push(o):this.ops.splice(a,0,o),this},n.prototype.chop=function(){var o=this.ops[this.ops.length-1];return o&&o.retain&&!o.attributes&&this.ops.pop(),this},n.prototype.filter=function(o){return this.ops.filter(o)},n.prototype.forEach=function(o){this.ops.forEach(o)},n.prototype.map=function(o){return this.ops.map(o)},n.prototype.partition=function(o){var a=[],d=[];return this.forEach(function(p){(o(p)?a:d).push(p)}),[a,d]},n.prototype.reduce=function(o,a){return this.ops.reduce(o,a)},n.prototype.changeLength=function(){return this.reduce(function(o,a){return a.insert?o+h.length(a):a.delete?o-a.delete:o},0)},n.prototype.length=function(){return this.reduce(function(o,a){return o+h.length(a)},0)},n.prototype.slice=function(o,a){o=o||0,typeof a!="number"&&(a=1/0);for(var d=[],p=h.iterator(this.ops),f=0;f<a&&p.hasNext();){var l;f<o?l=p.next(o-f):(l=p.next(a-f),d.push(l)),f+=h.length(l)}return new n(d)},n.prototype.compose=function(o){var a=h.iterator(this.ops),d=h.iterator(o.ops),p=[],f=d.peek();if(f!=null&&typeof f.retain=="number"&&f.attributes==null){for(var l=f.retain;a.peekType()==="insert"&&a.peekLength()<=l;)l-=a.peekLength(),p.push(a.next());f.retain-l>0&&d.next(f.retain-l)}for(var S=new n(p);a.hasNext()||d.hasNext();)if(d.peekType()==="insert")S.push(d.next());else if(a.peekType()==="delete")S.push(a.next());else{var k=Math.min(a.peekLength(),d.peekLength()),P=a.next(k),c=d.next(k);if(typeof c.retain=="number"){var C={};typeof P.retain=="number"?C.retain=k:C.insert=P.insert;var O=h.attributes.compose(P.attributes,c.attributes,typeof P.retain=="number");if(O&&(C.attributes=O),S.push(C),!d.hasNext()&&v(S.ops[S.ops.length-1],C)){var L=new n(a.rest());return S.concat(L).chop()}}else typeof c.delete=="number"&&typeof P.retain=="number"&&S.push(c)}return S.chop()},n.prototype.concat=function(o){var a=new n(this.ops.slice());return o.ops.length>0&&(a.push(o.ops[0]),a.ops=a.ops.concat(o.ops.slice(1))),a},n.prototype.diff=function(o,a){if(this.ops===o.ops)return new n;var d=[this,o].map(function(k){return k.map(function(P){if(P.insert!=null)return typeof P.insert=="string"?P.insert:i;throw new Error("diff() called "+(k===o?"on":"with")+" non-document")}).join("")}),p=new n,f=_(d[0],d[1],a),l=h.iterator(this.ops),S=h.iterator(o.ops);return f.forEach(function(k){for(var P=k[1].length;P>0;){var c=0;switch(k[0]){case _.INSERT:c=Math.min(S.peekLength(),P),p.push(S.next(c));break;case _.DELETE:c=Math.min(P,l.peekLength()),l.next(c),p.delete(c);break;case _.EQUAL:c=Math.min(l.peekLength(),S.peekLength(),P);var C=l.next(c),O=S.next(c);v(C.insert,O.insert)?p.retain(c,h.attributes.diff(C.attributes,O.attributes)):p.push(O).delete(c)}P-=c}}),p.chop()},n.prototype.eachLine=function(o,a){a=a||`
`;for(var d=h.iterator(this.ops),p=new n,f=0;d.hasNext();){if(d.peekType()!=="insert")return;var l=d.peek(),S=h.length(l)-d.peekLength(),k=typeof l.insert=="string"?l.insert.indexOf(a,S)-S:-1;if(k<0)p.push(d.next());else if(k>0)p.push(d.next(k));else{if(o(p,d.next(1).attributes||{},f)===!1)return;f+=1,p=new n}}p.length()>0&&o(p,{},f)},n.prototype.transform=function(o,a){if(a=!!a,typeof o=="number")return this.transformPosition(o,a);for(var d=h.iterator(this.ops),p=h.iterator(o.ops),f=new n;d.hasNext()||p.hasNext();)if(d.peekType()!=="insert"||!a&&p.peekType()==="insert")if(p.peekType()==="insert")f.push(p.next());else{var l=Math.min(d.peekLength(),p.peekLength()),S=d.next(l),k=p.next(l);if(S.delete)continue;k.delete?f.push(k):f.retain(l,h.attributes.transform(S.attributes,k.attributes,a))}else f.retain(h.length(d.next()));return f.chop()},n.prototype.transformPosition=function(o,a){a=!!a;for(var d=h.iterator(this.ops),p=0;d.hasNext()&&p<=o;){var f=d.peekLength(),l=d.peekType();d.next(),l!=="delete"?(l==="insert"&&(p<o||!a)&&(o+=f),p+=f):o-=Math.min(f,o-p)}return o},x.exports=n},function(x,m){"use strict";var y=Object.prototype.hasOwnProperty,_=Object.prototype.toString,v=Object.defineProperty,I=Object.getOwnPropertyDescriptor,h=function(a){return typeof Array.isArray=="function"?Array.isArray(a):_.call(a)==="[object Array]"},i=function(a){if(!a||_.call(a)!=="[object Object]")return!1;var d,p=y.call(a,"constructor"),f=a.constructor&&a.constructor.prototype&&y.call(a.constructor.prototype,"isPrototypeOf");if(a.constructor&&!p&&!f)return!1;for(d in a);return d===void 0||y.call(a,d)},n=function(a,d){v&&d.name==="__proto__"?v(a,d.name,{enumerable:!0,configurable:!0,value:d.newValue,writable:!0}):a[d.name]=d.newValue},o=function(a,d){if(d==="__proto__"){if(!y.call(a,d))return;if(I)return I(a,d).value}return a[d]};x.exports=function a(){var d,p,f,l,S,k,P=arguments[0],c=1,C=arguments.length,O=!1;for(typeof P=="boolean"&&(O=P,P=arguments[1]||{},c=2),(P==null||typeof P!="object"&&typeof P!="function")&&(P={});c<C;++c)if((d=arguments[c])!=null)for(p in d)f=o(P,p),P!==(l=o(d,p))&&(O&&l&&(i(l)||(S=h(l)))?(S?(S=!1,k=f&&h(f)?f:[]):k=f&&i(f)?f:{},n(P,{name:p,newValue:a(O,k,l)})):l!==void 0&&n(P,{name:p,newValue:l}));return P}},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.default=m.BlockEmbed=m.bubbleFormats=void 0;var _=function(){function c(C,O){for(var L=0;L<O.length;L++){var j=O[L];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(C,j.key,j)}}return function(C,O,L){return O&&c(C.prototype,O),L&&c(C,L),C}}(),v=function c(C,O,L){C===null&&(C=Function.prototype);var j=Object.getOwnPropertyDescriptor(C,O);if(j===void 0){var H=Object.getPrototypeOf(C);return H===null?void 0:c(H,O,L)}if("value"in j)return j.value;var M=j.get;return M!==void 0?M.call(L):void 0},I=d(y(3)),h=d(y(2)),i=d(y(0)),n=d(y(16)),o=d(y(6)),a=d(y(7));function d(c){return c&&c.__esModule?c:{default:c}}function p(c,C){if(!(c instanceof C))throw new TypeError("Cannot call a class as a function")}function f(c,C){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||typeof C!="object"&&typeof C!="function"?c:C}function l(c,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);c.prototype=Object.create(C&&C.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(c,C):c.__proto__=C)}var S=function(c){function C(){return p(this,C),f(this,(C.__proto__||Object.getPrototypeOf(C)).apply(this,arguments))}return l(C,c),_(C,[{key:"attach",value:function(){v(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"attach",this).call(this),this.attributes=new i.default.Attributor.Store(this.domNode)}},{key:"delta",value:function(){return new h.default().insert(this.value(),(0,I.default)(this.formats(),this.attributes.values()))}},{key:"format",value:function(O,L){var j=i.default.query(O,i.default.Scope.BLOCK_ATTRIBUTE);j!=null&&this.attributes.attribute(j,L)}},{key:"formatAt",value:function(O,L,j,H){this.format(j,H)}},{key:"insertAt",value:function(O,L,j){if(typeof L=="string"&&L.endsWith(`
`)){var H=i.default.create(k.blotName);this.parent.insertBefore(H,O===0?this:this.next),H.insertAt(0,L.slice(0,-1))}else v(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertAt",this).call(this,O,L,j)}}]),C}(i.default.Embed);S.scope=i.default.Scope.BLOCK_BLOT;var k=function(c){function C(O){p(this,C);var L=f(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,O));return L.cache={},L}return l(C,c),_(C,[{key:"delta",value:function(){return this.cache.delta==null&&(this.cache.delta=this.descendants(i.default.Leaf).reduce(function(O,L){return L.length()===0?O:O.insert(L.value(),P(L))},new h.default).insert(`
`,P(this))),this.cache.delta}},{key:"deleteAt",value:function(O,L){v(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"deleteAt",this).call(this,O,L),this.cache={}}},{key:"formatAt",value:function(O,L,j,H){L<=0||(i.default.query(j,i.default.Scope.BLOCK)?O+L===this.length()&&this.format(j,H):v(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"formatAt",this).call(this,O,Math.min(L,this.length()-O-1),j,H),this.cache={})}},{key:"insertAt",value:function(O,L,j){if(j!=null)return v(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertAt",this).call(this,O,L,j);if(L.length!==0){var H=L.split(`
`),M=H.shift();M.length>0&&(O<this.length()-1||this.children.tail==null?v(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertAt",this).call(this,Math.min(O,this.length()-1),M):this.children.tail.insertAt(this.children.tail.length(),M),this.cache={});var B=this;H.reduce(function(U,W){return(B=B.split(U,!0)).insertAt(0,W),W.length},O+M.length)}}},{key:"insertBefore",value:function(O,L){var j=this.children.head;v(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"insertBefore",this).call(this,O,L),j instanceof n.default&&j.remove(),this.cache={}}},{key:"length",value:function(){return this.cache.length==null&&(this.cache.length=v(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"length",this).call(this)+1),this.cache.length}},{key:"moveChildren",value:function(O,L){v(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"moveChildren",this).call(this,O,L),this.cache={}}},{key:"optimize",value:function(O){v(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"optimize",this).call(this,O),this.cache={}}},{key:"path",value:function(O){return v(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"path",this).call(this,O,!0)}},{key:"removeChild",value:function(O){v(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"removeChild",this).call(this,O),this.cache={}}},{key:"split",value:function(O){var L=arguments.length>1&&arguments[1]!==void 0&&arguments[1];if(L&&(O===0||O>=this.length()-1)){var j=this.clone();return O===0?(this.parent.insertBefore(j,this),this):(this.parent.insertBefore(j,this.next),j)}var H=v(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"split",this).call(this,O,L);return this.cache={},H}}]),C}(i.default.Block);function P(c){var C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return c==null?C:(typeof c.formats=="function"&&(C=(0,I.default)(C,c.formats())),c.parent==null||c.parent.blotName=="scroll"||c.parent.statics.scope!==c.statics.scope?C:P(c.parent,C))}k.blotName="block",k.tagName="P",k.defaultChild="break",k.allowedChildren=[o.default,i.default.Embed,a.default],m.bubbleFormats=P,m.BlockEmbed=S,m.default=k},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.default=m.overload=m.expandConfig=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(M){return typeof M}:function(M){return M&&typeof Symbol=="function"&&M.constructor===Symbol&&M!==Symbol.prototype?"symbol":typeof M},v=function(M,B){if(Array.isArray(M))return M;if(Symbol.iterator in Object(M))return function(U,W){var R=[],F=!0,V=!1,z=void 0;try{for(var T,q=U[Symbol.iterator]();!(F=(T=q.next()).done)&&(R.push(T.value),!W||R.length!==W);F=!0);}catch(ge){V=!0,z=ge}finally{try{!F&&q.return&&q.return()}finally{if(V)throw z}}return R}(M,B);throw new TypeError("Invalid attempt to destructure non-iterable instance")},I=function(){function M(B,U){for(var W=0;W<U.length;W++){var R=U[W];R.enumerable=R.enumerable||!1,R.configurable=!0,"value"in R&&(R.writable=!0),Object.defineProperty(B,R.key,R)}}return function(B,U,W){return U&&M(B.prototype,U),W&&M(B,W),B}}();y(50);var h=k(y(2)),i=k(y(14)),n=k(y(8)),o=k(y(9)),a=k(y(0)),d=y(15),p=k(d),f=k(y(3)),l=k(y(10)),S=k(y(34));function k(M){return M&&M.__esModule?M:{default:M}}function P(M,B,U){return B in M?Object.defineProperty(M,B,{value:U,enumerable:!0,configurable:!0,writable:!0}):M[B]=U,M}var c=(0,l.default)("quill"),C=function(){function M(B){var U=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(function(V,z){if(!(V instanceof z))throw new TypeError("Cannot call a class as a function")}(this,M),this.options=O(B,W),this.container=this.options.container,this.container==null)return c.error("Invalid Quill container",B);this.options.debug&&M.debug(this.options.debug);var R=this.container.innerHTML.trim();this.container.classList.add("ql-container"),this.container.innerHTML="",this.container.__quill=this,this.root=this.addContainer("ql-editor"),this.root.classList.add("ql-blank"),this.root.setAttribute("data-gramm",!1),this.scrollingContainer=this.options.scrollingContainer||this.root,this.emitter=new n.default,this.scroll=a.default.create(this.root,{emitter:this.emitter,whitelist:this.options.formats}),this.editor=new i.default(this.scroll),this.selection=new p.default(this.scroll,this.emitter),this.theme=new this.options.theme(this,this.options),this.keyboard=this.theme.addModule("keyboard"),this.clipboard=this.theme.addModule("clipboard"),this.history=this.theme.addModule("history"),this.theme.init(),this.emitter.on(n.default.events.EDITOR_CHANGE,function(V){V===n.default.events.TEXT_CHANGE&&U.root.classList.toggle("ql-blank",U.editor.isBlank())}),this.emitter.on(n.default.events.SCROLL_UPDATE,function(V,z){var T=U.selection.lastRange,q=T&&T.length===0?T.index:void 0;L.call(U,function(){return U.editor.update(null,z,q)},V)});var F=this.clipboard.convert(`<div class='ql-editor' style="white-space: normal;">`+R+"<p><br></p></div>");this.setContents(F),this.history.clear(),this.options.placeholder&&this.root.setAttribute("data-placeholder",this.options.placeholder),this.options.readOnly&&this.disable()}return I(M,null,[{key:"debug",value:function(B){B===!0&&(B="log"),l.default.level(B)}},{key:"find",value:function(B){return B.__quill||a.default.find(B)}},{key:"import",value:function(B){return this.imports[B]==null&&c.error("Cannot import "+B+". Are you sure it was registered?"),this.imports[B]}},{key:"register",value:function(B,U){var W=this,R=arguments.length>2&&arguments[2]!==void 0&&arguments[2];if(typeof B!="string"){var F=B.attrName||B.blotName;typeof F=="string"?this.register("formats/"+F,B,U):Object.keys(B).forEach(function(V){W.register(V,B[V],U)})}else this.imports[B]==null||R||c.warn("Overwriting "+B+" with",U),this.imports[B]=U,(B.startsWith("blots/")||B.startsWith("formats/"))&&U.blotName!=="abstract"?a.default.register(U):B.startsWith("modules")&&typeof U.register=="function"&&U.register()}}]),I(M,[{key:"addContainer",value:function(B){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(typeof B=="string"){var W=B;(B=document.createElement("div")).classList.add(W)}return this.container.insertBefore(B,U),B}},{key:"blur",value:function(){this.selection.setRange(null)}},{key:"deleteText",value:function(B,U,W){var R=this,F=j(B,U,W),V=v(F,4);return B=V[0],U=V[1],W=V[3],L.call(this,function(){return R.editor.deleteText(B,U)},W,B,-1*U)}},{key:"disable",value:function(){this.enable(!1)}},{key:"enable",value:function(){var B=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.scroll.enable(B),this.container.classList.toggle("ql-disabled",!B)}},{key:"focus",value:function(){var B=this.scrollingContainer.scrollTop;this.selection.focus(),this.scrollingContainer.scrollTop=B,this.scrollIntoView()}},{key:"format",value:function(B,U){var W=this,R=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n.default.sources.API;return L.call(this,function(){var F=W.getSelection(!0),V=new h.default;if(F==null)return V;if(a.default.query(B,a.default.Scope.BLOCK))V=W.editor.formatLine(F.index,F.length,P({},B,U));else{if(F.length===0)return W.selection.format(B,U),V;V=W.editor.formatText(F.index,F.length,P({},B,U))}return W.setSelection(F,n.default.sources.SILENT),V},R)}},{key:"formatLine",value:function(B,U,W,R,F){var V,z=this,T=j(B,U,W,R,F),q=v(T,4);return B=q[0],U=q[1],V=q[2],F=q[3],L.call(this,function(){return z.editor.formatLine(B,U,V)},F,B,0)}},{key:"formatText",value:function(B,U,W,R,F){var V,z=this,T=j(B,U,W,R,F),q=v(T,4);return B=q[0],U=q[1],V=q[2],F=q[3],L.call(this,function(){return z.editor.formatText(B,U,V)},F,B,0)}},{key:"getBounds",value:function(B){var U,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;U=typeof B=="number"?this.selection.getBounds(B,W):this.selection.getBounds(B.index,B.length);var R=this.container.getBoundingClientRect();return{bottom:U.bottom-R.top,height:U.height,left:U.left-R.left,right:U.right-R.left,top:U.top-R.top,width:U.width}}},{key:"getContents",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,W=j(B,U),R=v(W,2);return B=R[0],U=R[1],this.editor.getContents(B,U)}},{key:"getFormat",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.getSelection(!0),U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return typeof B=="number"?this.editor.getFormat(B,U):this.editor.getFormat(B.index,B.length)}},{key:"getIndex",value:function(B){return B.offset(this.scroll)}},{key:"getLength",value:function(){return this.scroll.length()}},{key:"getLeaf",value:function(B){return this.scroll.leaf(B)}},{key:"getLine",value:function(B){return this.scroll.line(B)}},{key:"getLines",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE;return typeof B!="number"?this.scroll.lines(B.index,B.length):this.scroll.lines(B,U)}},{key:"getModule",value:function(B){return this.theme.modules[B]}},{key:"getSelection",value:function(){return arguments.length>0&&arguments[0]!==void 0&&arguments[0]&&this.focus(),this.update(),this.selection.getRange()[0]}},{key:"getText",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.getLength()-B,W=j(B,U),R=v(W,2);return B=R[0],U=R[1],this.editor.getText(B,U)}},{key:"hasFocus",value:function(){return this.selection.hasFocus()}},{key:"insertEmbed",value:function(B,U,W){var R=this,F=arguments.length>3&&arguments[3]!==void 0?arguments[3]:M.sources.API;return L.call(this,function(){return R.editor.insertEmbed(B,U,W)},F,B)}},{key:"insertText",value:function(B,U,W,R,F){var V,z=this,T=j(B,0,W,R,F),q=v(T,4);return B=q[0],V=q[2],F=q[3],L.call(this,function(){return z.editor.insertText(B,U,V)},F,B,U.length)}},{key:"isEnabled",value:function(){return!this.container.classList.contains("ql-disabled")}},{key:"off",value:function(){return this.emitter.off.apply(this.emitter,arguments)}},{key:"on",value:function(){return this.emitter.on.apply(this.emitter,arguments)}},{key:"once",value:function(){return this.emitter.once.apply(this.emitter,arguments)}},{key:"pasteHTML",value:function(B,U,W){this.clipboard.dangerouslyPasteHTML(B,U,W)}},{key:"removeFormat",value:function(B,U,W){var R=this,F=j(B,U,W),V=v(F,4);return B=V[0],U=V[1],W=V[3],L.call(this,function(){return R.editor.removeFormat(B,U)},W,B)}},{key:"scrollIntoView",value:function(){this.selection.scrollIntoView(this.scrollingContainer)}},{key:"setContents",value:function(B){var U=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.default.sources.API;return L.call(this,function(){B=new h.default(B);var R=U.getLength(),F=U.editor.deleteText(0,R),V=U.editor.applyDelta(B),z=V.ops[V.ops.length-1];return z!=null&&typeof z.insert=="string"&&z.insert[z.insert.length-1]===`
`&&(U.editor.deleteText(U.getLength()-1,1),V.delete(1)),F.compose(V)},W)}},{key:"setSelection",value:function(B,U,W){if(B==null)this.selection.setRange(null,U||M.sources.API);else{var R=j(B,U,W),F=v(R,4);B=F[0],U=F[1],W=F[3],this.selection.setRange(new d.Range(B,U),W),W!==n.default.sources.SILENT&&this.selection.scrollIntoView(this.scrollingContainer)}}},{key:"setText",value:function(B){var U=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.default.sources.API,W=new h.default().insert(B);return this.setContents(W,U)}},{key:"update",value:function(){var B=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.default.sources.USER,U=this.scroll.update(B);return this.selection.update(B),U}},{key:"updateContents",value:function(B){var U=this,W=arguments.length>1&&arguments[1]!==void 0?arguments[1]:n.default.sources.API;return L.call(this,function(){return B=new h.default(B),U.editor.applyDelta(B,W)},W,!0)}}]),M}();function O(M,B){if((B=(0,f.default)(!0,{container:M,modules:{clipboard:!0,keyboard:!0,history:!0}},B)).theme&&B.theme!==C.DEFAULTS.theme){if(B.theme=C.import("themes/"+B.theme),B.theme==null)throw new Error("Invalid theme "+B.theme+". Did you register it?")}else B.theme=S.default;var U=(0,f.default)(!0,{},B.theme.DEFAULTS);[U,B].forEach(function(R){R.modules=R.modules||{},Object.keys(R.modules).forEach(function(F){R.modules[F]===!0&&(R.modules[F]={})})});var W=Object.keys(U.modules).concat(Object.keys(B.modules)).reduce(function(R,F){var V=C.import("modules/"+F);return V==null?c.error("Cannot load "+F+" module. Are you sure you registered it?"):R[F]=V.DEFAULTS||{},R},{});return B.modules!=null&&B.modules.toolbar&&B.modules.toolbar.constructor!==Object&&(B.modules.toolbar={container:B.modules.toolbar}),B=(0,f.default)(!0,{},C.DEFAULTS,{modules:W},U,B),["bounds","container","scrollingContainer"].forEach(function(R){typeof B[R]=="string"&&(B[R]=document.querySelector(B[R]))}),B.modules=Object.keys(B.modules).reduce(function(R,F){return B.modules[F]&&(R[F]=B.modules[F]),R},{}),B}function L(M,B,U,W){if(this.options.strict&&!this.isEnabled()&&B===n.default.sources.USER)return new h.default;var R=U==null?null:this.getSelection(),F=this.editor.delta,V=M();if(R!=null&&(U===!0&&(U=R.index),W==null?R=H(R,V,B):W!==0&&(R=H(R,U,W,B)),this.setSelection(R,n.default.sources.SILENT)),V.length()>0){var z,T,q=[n.default.events.TEXT_CHANGE,V,F,B];(z=this.emitter).emit.apply(z,[n.default.events.EDITOR_CHANGE].concat(q)),B!==n.default.sources.SILENT&&(T=this.emitter).emit.apply(T,q)}return V}function j(M,B,U,W,R){var F={};return typeof M.index=="number"&&typeof M.length=="number"?typeof B!="number"?(R=W,W=U,U=B,B=M.length,M=M.index):(B=M.length,M=M.index):typeof B!="number"&&(R=W,W=U,U=B,B=0),(U===void 0?"undefined":_(U))==="object"?(F=U,R=W):typeof U=="string"&&(W!=null?F[U]=W:R=U),[M,B,F,R=R||n.default.sources.API]}function H(M,B,U,W){if(M==null)return null;var R=void 0,F=void 0;if(B instanceof h.default){var V=[M.index,M.index+M.length].map(function(ge){return B.transformPosition(ge,W!==n.default.sources.USER)}),z=v(V,2);R=z[0],F=z[1]}else{var T=[M.index,M.index+M.length].map(function(ge){return ge<B||ge===B&&W===n.default.sources.USER?ge:U>=0?ge+U:Math.max(B,ge+U)}),q=v(T,2);R=q[0],F=q[1]}return new d.Range(R,F-R)}C.DEFAULTS={bounds:null,formats:null,modules:{},placeholder:"",readOnly:!1,scrollingContainer:null,strict:!0,theme:"default"},C.events=n.default.events,C.sources=n.default.sources,C.version="1.3.7",C.imports={delta:h.default,parchment:a.default,"core/module":o.default,"core/theme":S.default},m.expandConfig=O,m.overload=j,m.default=C},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=function(){function o(a,d){for(var p=0;p<d.length;p++){var f=d[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}return function(a,d,p){return d&&o(a.prototype,d),p&&o(a,p),a}}(),v=function o(a,d,p){a===null&&(a=Function.prototype);var f=Object.getOwnPropertyDescriptor(a,d);if(f===void 0){var l=Object.getPrototypeOf(a);return l===null?void 0:o(l,d,p)}if("value"in f)return f.value;var S=f.get;return S!==void 0?S.call(p):void 0},I=i(y(7)),h=i(y(0));function i(o){return o&&o.__esModule?o:{default:o}}var n=function(o){function a(){return function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,a),function(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?d:p}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}(a,o),_(a,[{key:"formatAt",value:function(d,p,f,l){if(a.compare(this.statics.blotName,f)<0&&h.default.query(f,h.default.Scope.BLOT)){var S=this.isolate(d,p);l&&S.wrap(f,l)}else v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"formatAt",this).call(this,d,p,f,l)}},{key:"optimize",value:function(d){if(v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"optimize",this).call(this,d),this.parent instanceof a&&a.compare(this.statics.blotName,this.parent.statics.blotName)>0){var p=this.parent.isolate(this.offset(),this.length());this.moveChildren(p),p.wrap(this)}}}],[{key:"compare",value:function(d,p){var f=a.order.indexOf(d),l=a.order.indexOf(p);return f>=0||l>=0?f-l:d===p?0:d<p?-1:1}}]),a}(h.default.Inline);n.allowedChildren=[n,h.default.Embed,I.default],n.order=["cursor","inline","underline","strike","italic","bold","script","link","code"],m.default=n},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _,v=function(I){function h(){return function(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}(this,h),function(i,n){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?i:n}(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(i,n):i.__proto__=n)}(h,I),h}(((_=y(0))&&_.__esModule?_:{default:_}).default.Text);m.default=v},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=function(){function o(a,d){for(var p=0;p<d.length;p++){var f=d[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}return function(a,d,p){return d&&o(a.prototype,d),p&&o(a,p),a}}(),v=function o(a,d,p){a===null&&(a=Function.prototype);var f=Object.getOwnPropertyDescriptor(a,d);if(f===void 0){var l=Object.getPrototypeOf(a);return l===null?void 0:o(l,d,p)}if("value"in f)return f.value;var S=f.get;return S!==void 0?S.call(p):void 0},I=h(y(54));function h(o){return o&&o.__esModule?o:{default:o}}var i=(0,h(y(10)).default)("quill:events");["selectionchange","mousedown","mouseup","click"].forEach(function(o){document.addEventListener(o,function(){for(var a=arguments.length,d=Array(a),p=0;p<a;p++)d[p]=arguments[p];[].slice.call(document.querySelectorAll(".ql-container")).forEach(function(f){var l;f.__quill&&f.__quill.emitter&&(l=f.__quill.emitter).handleDOM.apply(l,d)})})});var n=function(o){function a(){(function(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,a);var d=function(p,f){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?p:f}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this));return d.listeners={},d.on("error",i.error),d}return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}(a,o),_(a,[{key:"emit",value:function(){i.log.apply(i,arguments),v(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"emit",this).apply(this,arguments)}},{key:"handleDOM",value:function(d){for(var p=arguments.length,f=Array(p>1?p-1:0),l=1;l<p;l++)f[l-1]=arguments[l];(this.listeners[d.type]||[]).forEach(function(S){var k=S.node,P=S.handler;(d.target===k||k.contains(d.target))&&P.apply(void 0,[d].concat(f))})}},{key:"listenDOM",value:function(d,p,f){this.listeners[d]||(this.listeners[d]=[]),this.listeners[d].push({node:p,handler:f})}}]),a}(I.default);n.events={EDITOR_CHANGE:"editor-change",SCROLL_BEFORE_UPDATE:"scroll-before-update",SCROLL_OPTIMIZE:"scroll-optimize",SCROLL_UPDATE:"scroll-update",SELECTION_CHANGE:"selection-change",TEXT_CHANGE:"text-change"},n.sources={API:"api",SILENT:"silent",USER:"user"},m.default=n},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=function v(I){var h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};(function(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")})(this,v),this.quill=I,this.options=h};_.DEFAULTS={},m.default=_},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=["error","warn","log","info"],v="warn";function I(i){if(_.indexOf(i)<=_.indexOf(v)){for(var n,o=arguments.length,a=Array(o>1?o-1:0),d=1;d<o;d++)a[d-1]=arguments[d];(n=console)[i].apply(n,a)}}function h(i){return _.reduce(function(n,o){return n[o]=I.bind(console,o,i),n},{})}I.level=h.level=function(i){v=i},m.default=h},function(x,m,y){var _=Array.prototype.slice,v=y(52),I=y(53),h=x.exports=function(o,a,d){return d||(d={}),o===a||(o instanceof Date&&a instanceof Date?o.getTime()===a.getTime():!o||!a||typeof o!="object"&&typeof a!="object"?d.strict?o===a:o==a:function(p,f,l){var S,k;if(i(p)||i(f)||p.prototype!==f.prototype)return!1;if(I(p))return!!I(f)&&(p=_.call(p),f=_.call(f),h(p,f,l));if(n(p)){if(!n(f)||p.length!==f.length)return!1;for(S=0;S<p.length;S++)if(p[S]!==f[S])return!1;return!0}try{var P=v(p),c=v(f)}catch(C){return!1}if(P.length!=c.length)return!1;for(P.sort(),c.sort(),S=P.length-1;S>=0;S--)if(P[S]!=c[S])return!1;for(S=P.length-1;S>=0;S--)if(k=P[S],!h(p[k],f[k],l))return!1;return typeof p==typeof f}(o,a,d))};function i(o){return o==null}function n(o){return!(!o||typeof o!="object"||typeof o.length!="number"||typeof o.copy!="function"||typeof o.slice!="function"||o.length>0&&typeof o[0]!="number")}},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=y(1),v=function(){function I(h,i,n){n===void 0&&(n={}),this.attrName=h,this.keyName=i;var o=_.Scope.TYPE&_.Scope.ATTRIBUTE;n.scope!=null?this.scope=n.scope&_.Scope.LEVEL|o:this.scope=_.Scope.ATTRIBUTE,n.whitelist!=null&&(this.whitelist=n.whitelist)}return I.keys=function(h){return[].map.call(h.attributes,function(i){return i.name})},I.prototype.add=function(h,i){return!!this.canAdd(h,i)&&(h.setAttribute(this.keyName,i),!0)},I.prototype.canAdd=function(h,i){return _.query(h,_.Scope.BLOT&(this.scope|_.Scope.TYPE))!=null&&(this.whitelist==null||(typeof i=="string"?this.whitelist.indexOf(i.replace(/["']/g,""))>-1:this.whitelist.indexOf(i)>-1))},I.prototype.remove=function(h){h.removeAttribute(this.keyName)},I.prototype.value=function(h){var i=h.getAttribute(this.keyName);return this.canAdd(h,i)&&i?i:""},I}();m.default=v},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.default=m.Code=void 0;var _=function(P,c){if(Array.isArray(P))return P;if(Symbol.iterator in Object(P))return function(C,O){var L=[],j=!0,H=!1,M=void 0;try{for(var B,U=C[Symbol.iterator]();!(j=(B=U.next()).done)&&(L.push(B.value),!O||L.length!==O);j=!0);}catch(W){H=!0,M=W}finally{try{!j&&U.return&&U.return()}finally{if(H)throw M}}return L}(P,c);throw new TypeError("Invalid attempt to destructure non-iterable instance")},v=function(){function P(c,C){for(var O=0;O<C.length;O++){var L=C[O];L.enumerable=L.enumerable||!1,L.configurable=!0,"value"in L&&(L.writable=!0),Object.defineProperty(c,L.key,L)}}return function(c,C,O){return C&&P(c.prototype,C),O&&P(c,O),c}}(),I=function P(c,C,O){c===null&&(c=Function.prototype);var L=Object.getOwnPropertyDescriptor(c,C);if(L===void 0){var j=Object.getPrototypeOf(c);return j===null?void 0:P(j,C,O)}if("value"in L)return L.value;var H=L.get;return H!==void 0?H.call(O):void 0},h=d(y(2)),i=d(y(0)),n=d(y(4)),o=d(y(6)),a=d(y(7));function d(P){return P&&P.__esModule?P:{default:P}}function p(P,c){if(!(P instanceof c))throw new TypeError("Cannot call a class as a function")}function f(P,c){if(!P)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!c||typeof c!="object"&&typeof c!="function"?P:c}function l(P,c){if(typeof c!="function"&&c!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof c);P.prototype=Object.create(c&&c.prototype,{constructor:{value:P,enumerable:!1,writable:!0,configurable:!0}}),c&&(Object.setPrototypeOf?Object.setPrototypeOf(P,c):P.__proto__=c)}var S=function(P){function c(){return p(this,c),f(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return l(c,P),c}(o.default);S.blotName="code",S.tagName="CODE";var k=function(P){function c(){return p(this,c),f(this,(c.__proto__||Object.getPrototypeOf(c)).apply(this,arguments))}return l(c,P),v(c,[{key:"delta",value:function(){var C=this,O=this.domNode.textContent;return O.endsWith(`
`)&&(O=O.slice(0,-1)),O.split(`
`).reduce(function(L,j){return L.insert(j).insert(`
`,C.formats())},new h.default)}},{key:"format",value:function(C,O){if(C!==this.statics.blotName||!O){var L=this.descendant(a.default,this.length()-1),j=_(L,1)[0];j!=null&&j.deleteAt(j.length()-1,1),I(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"format",this).call(this,C,O)}}},{key:"formatAt",value:function(C,O,L,j){if(O!==0&&i.default.query(L,i.default.Scope.BLOCK)!=null&&(L!==this.statics.blotName||j!==this.statics.formats(this.domNode))){var H=this.newlineIndex(C);if(!(H<0||H>=C+O)){var M=this.newlineIndex(C,!0)+1,B=H-M+1,U=this.isolate(M,B),W=U.next;U.format(L,j),W instanceof c&&W.formatAt(0,C-M+O-B,L,j)}}}},{key:"insertAt",value:function(C,O,L){if(L==null){var j=this.descendant(a.default,C),H=_(j,2),M=H[0],B=H[1];M.insertAt(B,O)}}},{key:"length",value:function(){var C=this.domNode.textContent.length;return this.domNode.textContent.endsWith(`
`)?C:C+1}},{key:"newlineIndex",value:function(C){if(arguments.length>1&&arguments[1]!==void 0&&arguments[1])return this.domNode.textContent.slice(0,C).lastIndexOf(`
`);var O=this.domNode.textContent.slice(C).indexOf(`
`);return O>-1?C+O:-1}},{key:"optimize",value:function(C){this.domNode.textContent.endsWith(`
`)||this.appendChild(i.default.create("text",`
`)),I(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"optimize",this).call(this,C);var O=this.next;O!=null&&O.prev===this&&O.statics.blotName===this.statics.blotName&&this.statics.formats(this.domNode)===O.statics.formats(O.domNode)&&(O.optimize(C),O.moveChildren(this),O.remove())}},{key:"replace",value:function(C){I(c.prototype.__proto__||Object.getPrototypeOf(c.prototype),"replace",this).call(this,C),[].slice.call(this.domNode.querySelectorAll("*")).forEach(function(O){var L=i.default.find(O);L==null?O.parentNode.removeChild(O):L instanceof i.default.Embed?L.remove():L.unwrap()})}}],[{key:"create",value:function(C){var O=I(c.__proto__||Object.getPrototypeOf(c),"create",this).call(this,C);return O.setAttribute("spellcheck",!1),O}},{key:"formats",value:function(){return!0}}]),c}(n.default);k.blotName="code-block",k.tagName="PRE",k.TAB="  ",m.Code=S,m.default=k},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(L){return typeof L}:function(L){return L&&typeof Symbol=="function"&&L.constructor===Symbol&&L!==Symbol.prototype?"symbol":typeof L},v=function(L,j){if(Array.isArray(L))return L;if(Symbol.iterator in Object(L))return function(H,M){var B=[],U=!0,W=!1,R=void 0;try{for(var F,V=H[Symbol.iterator]();!(U=(F=V.next()).done)&&(B.push(F.value),!M||B.length!==M);U=!0);}catch(z){W=!0,R=z}finally{try{!U&&V.return&&V.return()}finally{if(W)throw R}}return B}(L,j);throw new TypeError("Invalid attempt to destructure non-iterable instance")},I=function(){function L(j,H){for(var M=0;M<H.length;M++){var B=H[M];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(j,B.key,B)}}return function(j,H,M){return H&&L(j.prototype,H),M&&L(j,M),j}}(),h=P(y(2)),i=P(y(20)),n=P(y(0)),o=P(y(13)),a=P(y(24)),d=y(4),p=P(d),f=P(y(16)),l=P(y(21)),S=P(y(11)),k=P(y(3));function P(L){return L&&L.__esModule?L:{default:L}}var c=/^[ -~]*$/,C=function(){function L(j){(function(H,M){if(!(H instanceof M))throw new TypeError("Cannot call a class as a function")})(this,L),this.scroll=j,this.delta=this.getDelta()}return I(L,[{key:"applyDelta",value:function(j){var H=this,M=!1;this.scroll.update();var B=this.scroll.length();return this.scroll.batchStart(),(j=function(U){return U.reduce(function(W,R){if(R.insert===1){var F=(0,l.default)(R.attributes);return delete F.image,W.insert({image:R.attributes.image},F)}if(R.attributes==null||R.attributes.list!==!0&&R.attributes.bullet!==!0||((R=(0,l.default)(R)).attributes.list?R.attributes.list="ordered":(R.attributes.list="bullet",delete R.attributes.bullet)),typeof R.insert=="string"){var V=R.insert.replace(/\r\n/g,`
`).replace(/\r/g,`
`);return W.insert(V,R.attributes)}return W.push(R)},new h.default)}(j)).reduce(function(U,W){var R=W.retain||W.delete||W.insert.length||1,F=W.attributes||{};if(W.insert!=null){if(typeof W.insert=="string"){var V=W.insert;V.endsWith(`
`)&&M&&(M=!1,V=V.slice(0,-1)),U>=B&&!V.endsWith(`
`)&&(M=!0),H.scroll.insertAt(U,V);var z=H.scroll.line(U),T=v(z,2),q=T[0],ge=T[1],de=(0,k.default)({},(0,d.bubbleFormats)(q));if(q instanceof p.default){var ve=q.descendant(n.default.Leaf,ge),oe=v(ve,1)[0];de=(0,k.default)(de,(0,d.bubbleFormats)(oe))}F=i.default.attributes.diff(de,F)||{}}else if(_(W.insert)==="object"){var $=Object.keys(W.insert)[0];if($==null)return U;H.scroll.insertAt(U,$,W.insert[$])}B+=R}return Object.keys(F).forEach(function(ee){H.scroll.formatAt(U,R,ee,F[ee])}),U+R},0),j.reduce(function(U,W){return typeof W.delete=="number"?(H.scroll.deleteAt(U,W.delete),U):U+(W.retain||W.insert.length||1)},0),this.scroll.batchEnd(),this.update(j)}},{key:"deleteText",value:function(j,H){return this.scroll.deleteAt(j,H),this.update(new h.default().retain(j).delete(H))}},{key:"formatLine",value:function(j,H){var M=this,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this.scroll.update(),Object.keys(B).forEach(function(U){if(M.scroll.whitelist==null||M.scroll.whitelist[U]){var W=M.scroll.lines(j,Math.max(H,1)),R=H;W.forEach(function(F){var V=F.length();if(F instanceof o.default){var z=j-F.offset(M.scroll),T=F.newlineIndex(z+R)-z+1;F.formatAt(z,T,U,B[U])}else F.format(U,B[U]);R-=V})}}),this.scroll.optimize(),this.update(new h.default().retain(j).retain(H,(0,l.default)(B)))}},{key:"formatText",value:function(j,H){var M=this,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return Object.keys(B).forEach(function(U){M.scroll.formatAt(j,H,U,B[U])}),this.update(new h.default().retain(j).retain(H,(0,l.default)(B)))}},{key:"getContents",value:function(j,H){return this.delta.slice(j,j+H)}},{key:"getDelta",value:function(){return this.scroll.lines().reduce(function(j,H){return j.concat(H.delta())},new h.default)}},{key:"getFormat",value:function(j){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,M=[],B=[];H===0?this.scroll.path(j).forEach(function(W){var R=v(W,1)[0];R instanceof p.default?M.push(R):R instanceof n.default.Leaf&&B.push(R)}):(M=this.scroll.lines(j,H),B=this.scroll.descendants(n.default.Leaf,j,H));var U=[M,B].map(function(W){if(W.length===0)return{};for(var R=(0,d.bubbleFormats)(W.shift());Object.keys(R).length>0;){var F=W.shift();if(F==null)return R;R=O((0,d.bubbleFormats)(F),R)}return R});return k.default.apply(k.default,U)}},{key:"getText",value:function(j,H){return this.getContents(j,H).filter(function(M){return typeof M.insert=="string"}).map(function(M){return M.insert}).join("")}},{key:"insertEmbed",value:function(j,H,M){return this.scroll.insertAt(j,H,M),this.update(new h.default().retain(j).insert(function(B,U,W){return U in B?Object.defineProperty(B,U,{value:W,enumerable:!0,configurable:!0,writable:!0}):B[U]=W,B}({},H,M)))}},{key:"insertText",value:function(j,H){var M=this,B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return H=H.replace(/\r\n/g,`
`).replace(/\r/g,`
`),this.scroll.insertAt(j,H),Object.keys(B).forEach(function(U){M.scroll.formatAt(j,H.length,U,B[U])}),this.update(new h.default().retain(j).insert(H,(0,l.default)(B)))}},{key:"isBlank",value:function(){if(this.scroll.children.length==0)return!0;if(this.scroll.children.length>1)return!1;var j=this.scroll.children.head;return j.statics.blotName===p.default.blotName&&!(j.children.length>1)&&j.children.head instanceof f.default}},{key:"removeFormat",value:function(j,H){var M=this.getText(j,H),B=this.scroll.line(j+H),U=v(B,2),W=U[0],R=U[1],F=0,V=new h.default;W!=null&&(F=W instanceof o.default?W.newlineIndex(R)-R+1:W.length()-R,V=W.delta().slice(R,R+F-1).insert(`
`));var z=this.getContents(j,H+F).diff(new h.default().insert(M).concat(V)),T=new h.default().retain(j).concat(z);return this.applyDelta(T)}},{key:"update",value:function(j){var H=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0,B=this.delta;if(H.length===1&&H[0].type==="characterData"&&H[0].target.data.match(c)&&n.default.find(H[0].target)){var U=n.default.find(H[0].target),W=(0,d.bubbleFormats)(U),R=U.offset(this.scroll),F=H[0].oldValue.replace(a.default.CONTENTS,""),V=new h.default().insert(F),z=new h.default().insert(U.value());j=new h.default().retain(R).concat(V.diff(z,M)).reduce(function(T,q){return q.insert?T.insert(q.insert,W):T.push(q)},new h.default),this.delta=B.compose(j)}else this.delta=this.getDelta(),j&&(0,S.default)(B.compose(j),this.delta)||(j=B.diff(this.delta,M));return j}}]),L}();function O(L,j){return Object.keys(j).reduce(function(H,M){return L[M]==null||(j[M]===L[M]?H[M]=j[M]:Array.isArray(j[M])?j[M].indexOf(L[M])<0&&(H[M]=j[M].concat([L[M]])):H[M]=[j[M],L[M]]),H},{})}m.default=C},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.default=m.Range=void 0;var _=function(k,P){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return function(c,C){var O=[],L=!0,j=!1,H=void 0;try{for(var M,B=c[Symbol.iterator]();!(L=(M=B.next()).done)&&(O.push(M.value),!C||O.length!==C);L=!0);}catch(U){j=!0,H=U}finally{try{!L&&B.return&&B.return()}finally{if(j)throw H}}return O}(k,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")},v=function(){function k(P,c){for(var C=0;C<c.length;C++){var O=c[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,c,C){return c&&k(P.prototype,c),C&&k(P,C),P}}(),I=o(y(0)),h=o(y(21)),i=o(y(11)),n=o(y(8));function o(k){return k&&k.__esModule?k:{default:k}}function a(k){if(Array.isArray(k)){for(var P=0,c=Array(k.length);P<k.length;P++)c[P]=k[P];return c}return Array.from(k)}function d(k,P){if(!(k instanceof P))throw new TypeError("Cannot call a class as a function")}var p=(0,o(y(10)).default)("quill:selection"),f=function k(P){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;d(this,k),this.index=P,this.length=c},l=function(){function k(P,c){var C=this;d(this,k),this.emitter=c,this.scroll=P,this.composing=!1,this.mouseDown=!1,this.root=this.scroll.domNode,this.cursor=I.default.create("cursor",this),this.lastRange=this.savedRange=new f(0,0),this.handleComposition(),this.handleDragging(),this.emitter.listenDOM("selectionchange",document,function(){C.mouseDown||setTimeout(C.update.bind(C,n.default.sources.USER),1)}),this.emitter.on(n.default.events.EDITOR_CHANGE,function(O,L){O===n.default.events.TEXT_CHANGE&&L.length()>0&&C.update(n.default.sources.SILENT)}),this.emitter.on(n.default.events.SCROLL_BEFORE_UPDATE,function(){if(C.hasFocus()){var O=C.getNativeRange();O!=null&&O.start.node!==C.cursor.textNode&&C.emitter.once(n.default.events.SCROLL_UPDATE,function(){try{C.setNativeRange(O.start.node,O.start.offset,O.end.node,O.end.offset)}catch(L){}})}}),this.emitter.on(n.default.events.SCROLL_OPTIMIZE,function(O,L){if(L.range){var j=L.range,H=j.startNode,M=j.startOffset,B=j.endNode,U=j.endOffset;C.setNativeRange(H,M,B,U)}}),this.update(n.default.sources.SILENT)}return v(k,[{key:"handleComposition",value:function(){var P=this;this.root.addEventListener("compositionstart",function(){P.composing=!0}),this.root.addEventListener("compositionend",function(){if(P.composing=!1,P.cursor.parent){var c=P.cursor.restore();if(!c)return;setTimeout(function(){P.setNativeRange(c.startNode,c.startOffset,c.endNode,c.endOffset)},1)}})}},{key:"handleDragging",value:function(){var P=this;this.emitter.listenDOM("mousedown",document.body,function(){P.mouseDown=!0}),this.emitter.listenDOM("mouseup",document.body,function(){P.mouseDown=!1,P.update(n.default.sources.USER)})}},{key:"focus",value:function(){this.hasFocus()||(this.root.focus(),this.setRange(this.savedRange))}},{key:"format",value:function(P,c){if(this.scroll.whitelist==null||this.scroll.whitelist[P]){this.scroll.update();var C=this.getNativeRange();if(C!=null&&C.native.collapsed&&!I.default.query(P,I.default.Scope.BLOCK)){if(C.start.node!==this.cursor.textNode){var O=I.default.find(C.start.node,!1);if(O==null)return;if(O instanceof I.default.Leaf){var L=O.split(C.start.offset);O.parent.insertBefore(this.cursor,L)}else O.insertBefore(this.cursor,C.start.node);this.cursor.attach()}this.cursor.format(P,c),this.scroll.optimize(),this.setNativeRange(this.cursor.textNode,this.cursor.textNode.data.length),this.update()}}}},{key:"getBounds",value:function(P){var c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,C=this.scroll.length();P=Math.min(P,C-1),c=Math.min(P+c,C-1)-P;var O=void 0,L=this.scroll.leaf(P),j=_(L,2),H=j[0],M=j[1];if(H==null)return null;var B=H.position(M,!0),U=_(B,2);O=U[0],M=U[1];var W=document.createRange();if(c>0){W.setStart(O,M);var R=this.scroll.leaf(P+c),F=_(R,2);if(H=F[0],M=F[1],H==null)return null;var V=H.position(M,!0),z=_(V,2);return O=z[0],M=z[1],W.setEnd(O,M),W.getBoundingClientRect()}var T="left",q=void 0;return O instanceof Text?(M<O.data.length?(W.setStart(O,M),W.setEnd(O,M+1)):(W.setStart(O,M-1),W.setEnd(O,M),T="right"),q=W.getBoundingClientRect()):(q=H.domNode.getBoundingClientRect(),M>0&&(T="right")),{bottom:q.top+q.height,height:q.height,left:q[T],right:q[T],top:q.top,width:0}}},{key:"getNativeRange",value:function(){var P=document.getSelection();if(P==null||P.rangeCount<=0)return null;var c=P.getRangeAt(0);if(c==null)return null;var C=this.normalizeNative(c);return p.info("getNativeRange",C),C}},{key:"getRange",value:function(){var P=this.getNativeRange();return P==null?[null,null]:[this.normalizedToRange(P),P]}},{key:"hasFocus",value:function(){return document.activeElement===this.root}},{key:"normalizedToRange",value:function(P){var c=this,C=[[P.start.node,P.start.offset]];P.native.collapsed||C.push([P.end.node,P.end.offset]);var O=C.map(function(H){var M=_(H,2),B=M[0],U=M[1],W=I.default.find(B,!0),R=W.offset(c.scroll);return U===0?R:W instanceof I.default.Container?R+W.length():R+W.index(B,U)}),L=Math.min(Math.max.apply(Math,a(O)),this.scroll.length()-1),j=Math.min.apply(Math,[L].concat(a(O)));return new f(j,L-j)}},{key:"normalizeNative",value:function(P){if(!S(this.root,P.startContainer)||!P.collapsed&&!S(this.root,P.endContainer))return null;var c={start:{node:P.startContainer,offset:P.startOffset},end:{node:P.endContainer,offset:P.endOffset},native:P};return[c.start,c.end].forEach(function(C){for(var O=C.node,L=C.offset;!(O instanceof Text)&&O.childNodes.length>0;)if(O.childNodes.length>L)O=O.childNodes[L],L=0;else{if(O.childNodes.length!==L)break;L=(O=O.lastChild)instanceof Text?O.data.length:O.childNodes.length+1}C.node=O,C.offset=L}),c}},{key:"rangeToNative",value:function(P){var c=this,C=P.collapsed?[P.index]:[P.index,P.index+P.length],O=[],L=this.scroll.length();return C.forEach(function(j,H){j=Math.min(L-1,j);var M,B=c.scroll.leaf(j),U=_(B,2),W=U[0],R=U[1],F=W.position(R,H!==0),V=_(F,2);M=V[0],R=V[1],O.push(M,R)}),O.length<2&&(O=O.concat(O)),O}},{key:"scrollIntoView",value:function(P){var c=this.lastRange;if(c!=null){var C=this.getBounds(c.index,c.length);if(C!=null){var O=this.scroll.length()-1,L=this.scroll.line(Math.min(c.index,O)),j=_(L,1)[0],H=j;if(c.length>0){var M=this.scroll.line(Math.min(c.index+c.length,O));H=_(M,1)[0]}if(j!=null&&H!=null){var B=P.getBoundingClientRect();C.top<B.top?P.scrollTop-=B.top-C.top:C.bottom>B.bottom&&(P.scrollTop+=C.bottom-B.bottom)}}}}},{key:"setNativeRange",value:function(P,c){var C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:P,O=arguments.length>3&&arguments[3]!==void 0?arguments[3]:c,L=arguments.length>4&&arguments[4]!==void 0&&arguments[4];if(p.info("setNativeRange",P,c,C,O),P==null||this.root.parentNode!=null&&P.parentNode!=null&&C.parentNode!=null){var j=document.getSelection();if(j!=null)if(P!=null){this.hasFocus()||this.root.focus();var H=(this.getNativeRange()||{}).native;if(H==null||L||P!==H.startContainer||c!==H.startOffset||C!==H.endContainer||O!==H.endOffset){P.tagName=="BR"&&(c=[].indexOf.call(P.parentNode.childNodes,P),P=P.parentNode),C.tagName=="BR"&&(O=[].indexOf.call(C.parentNode.childNodes,C),C=C.parentNode);var M=document.createRange();M.setStart(P,c),M.setEnd(C,O),j.removeAllRanges(),j.addRange(M)}}else j.removeAllRanges(),this.root.blur(),document.body.focus()}}},{key:"setRange",value:function(P){var c=arguments.length>1&&arguments[1]!==void 0&&arguments[1],C=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n.default.sources.API;if(typeof c=="string"&&(C=c,c=!1),p.info("setRange",P),P!=null){var O=this.rangeToNative(P);this.setNativeRange.apply(this,a(O).concat([c]))}else this.setNativeRange(null);this.update(C)}},{key:"update",value:function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:n.default.sources.USER,c=this.lastRange,C=this.getRange(),O=_(C,2),L=O[0],j=O[1];if(this.lastRange=L,this.lastRange!=null&&(this.savedRange=this.lastRange),!(0,i.default)(c,this.lastRange)){var H;!this.composing&&j!=null&&j.native.collapsed&&j.start.node!==this.cursor.textNode&&this.cursor.restore();var M,B=[n.default.events.SELECTION_CHANGE,(0,h.default)(this.lastRange),(0,h.default)(c),P];(H=this.emitter).emit.apply(H,[n.default.events.EDITOR_CHANGE].concat(B)),P!==n.default.sources.SILENT&&(M=this.emitter).emit.apply(M,B)}}}]),k}();function S(k,P){try{P.parentNode}catch(c){return!1}return P instanceof Text&&(P=P.parentNode),k.contains(P)}m.Range=f,m.default=l},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _,v=function(){function i(n,o){for(var a=0;a<o.length;a++){var d=o[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,o,a){return o&&i(n.prototype,o),a&&i(n,a),n}}(),I=function i(n,o,a){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,o);if(d===void 0){var p=Object.getPrototypeOf(n);return p===null?void 0:i(p,o,a)}if("value"in d)return d.value;var f=d.get;return f!==void 0?f.call(a):void 0},h=function(i){function n(){return function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}(this,n),function(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?o:a}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(o,a):o.__proto__=a)}(n,i),v(n,[{key:"insertInto",value:function(o,a){o.children.length===0?I(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"insertInto",this).call(this,o,a):this.remove()}},{key:"length",value:function(){return 0}},{key:"value",value:function(){return""}}],[{key:"value",value:function(){}}]),n}(((_=y(0))&&_.__esModule?_:{default:_}).default.Embed);h.blotName="break",h.tagName="BR",m.default=h},function(x,m,y){"use strict";var _,v=this&&this.__extends||(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var p in d)d.hasOwnProperty(p)&&(a[p]=d[p])},function(a,d){function p(){this.constructor=a}_(a,d),a.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)});Object.defineProperty(m,"__esModule",{value:!0});var I=y(44),h=y(30),i=y(1),n=function(a){function d(p){var f=a.call(this,p)||this;return f.build(),f}return v(d,a),d.prototype.appendChild=function(p){this.insertBefore(p)},d.prototype.attach=function(){a.prototype.attach.call(this),this.children.forEach(function(p){p.attach()})},d.prototype.build=function(){var p=this;this.children=new I.default,[].slice.call(this.domNode.childNodes).reverse().forEach(function(f){try{var l=o(f);p.insertBefore(l,p.children.head||void 0)}catch(S){if(S instanceof i.ParchmentError)return;throw S}})},d.prototype.deleteAt=function(p,f){if(p===0&&f===this.length())return this.remove();this.children.forEachAt(p,f,function(l,S,k){l.deleteAt(S,k)})},d.prototype.descendant=function(p,f){var l=this.children.find(f),S=l[0],k=l[1];return p.blotName==null&&p(S)||p.blotName!=null&&S instanceof p?[S,k]:S instanceof d?S.descendant(p,k):[null,-1]},d.prototype.descendants=function(p,f,l){f===void 0&&(f=0),l===void 0&&(l=Number.MAX_VALUE);var S=[],k=l;return this.children.forEachAt(f,l,function(P,c,C){(p.blotName==null&&p(P)||p.blotName!=null&&P instanceof p)&&S.push(P),P instanceof d&&(S=S.concat(P.descendants(p,c,k))),k-=C}),S},d.prototype.detach=function(){this.children.forEach(function(p){p.detach()}),a.prototype.detach.call(this)},d.prototype.formatAt=function(p,f,l,S){this.children.forEachAt(p,f,function(k,P,c){k.formatAt(P,c,l,S)})},d.prototype.insertAt=function(p,f,l){var S=this.children.find(p),k=S[0],P=S[1];if(k)k.insertAt(P,f,l);else{var c=l==null?i.create("text",f):i.create(f,l);this.appendChild(c)}},d.prototype.insertBefore=function(p,f){if(this.statics.allowedChildren!=null&&!this.statics.allowedChildren.some(function(l){return p instanceof l}))throw new i.ParchmentError("Cannot insert "+p.statics.blotName+" into "+this.statics.blotName);p.insertInto(this,f)},d.prototype.length=function(){return this.children.reduce(function(p,f){return p+f.length()},0)},d.prototype.moveChildren=function(p,f){this.children.forEach(function(l){p.insertBefore(l,f)})},d.prototype.optimize=function(p){if(a.prototype.optimize.call(this,p),this.children.length===0)if(this.statics.defaultChild!=null){var f=i.create(this.statics.defaultChild);this.appendChild(f),f.optimize(p)}else this.remove()},d.prototype.path=function(p,f){f===void 0&&(f=!1);var l=this.children.find(p,f),S=l[0],k=l[1],P=[[this,p]];return S instanceof d?P.concat(S.path(k,f)):(S!=null&&P.push([S,k]),P)},d.prototype.removeChild=function(p){this.children.remove(p)},d.prototype.replace=function(p){p instanceof d&&p.moveChildren(this),a.prototype.replace.call(this,p)},d.prototype.split=function(p,f){if(f===void 0&&(f=!1),!f){if(p===0)return this;if(p===this.length())return this.next}var l=this.clone();return this.parent.insertBefore(l,this.next),this.children.forEachAt(p,this.length(),function(S,k,P){S=S.split(k,f),l.appendChild(S)}),l},d.prototype.unwrap=function(){this.moveChildren(this.parent,this.next),this.remove()},d.prototype.update=function(p,f){var l=this,S=[],k=[];p.forEach(function(P){P.target===l.domNode&&P.type==="childList"&&(S.push.apply(S,P.addedNodes),k.push.apply(k,P.removedNodes))}),k.forEach(function(P){if(!(P.parentNode!=null&&P.tagName!=="IFRAME"&&document.body.compareDocumentPosition(P)&Node.DOCUMENT_POSITION_CONTAINED_BY)){var c=i.find(P);c!=null&&(c.domNode.parentNode!=null&&c.domNode.parentNode!==l.domNode||c.detach())}}),S.filter(function(P){return P.parentNode==l.domNode}).sort(function(P,c){return P===c?0:P.compareDocumentPosition(c)&Node.DOCUMENT_POSITION_FOLLOWING?1:-1}).forEach(function(P){var c=null;P.nextSibling!=null&&(c=i.find(P.nextSibling));var C=o(P);C.next==c&&C.next!=null||(C.parent!=null&&C.parent.removeChild(l),l.insertBefore(C,c||void 0))})},d}(h.default);function o(a){var d=i.find(a);if(d==null)try{d=i.create(a)}catch(p){d=i.create(i.Scope.INLINE),[].slice.call(a.childNodes).forEach(function(f){d.domNode.appendChild(f)}),a.parentNode&&a.parentNode.replaceChild(d.domNode,a),d.attach()}return d}m.default=n},function(x,m,y){"use strict";var _,v=this&&this.__extends||(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(a,d){a.__proto__=d}||function(a,d){for(var p in d)d.hasOwnProperty(p)&&(a[p]=d[p])},function(a,d){function p(){this.constructor=a}_(a,d),a.prototype=d===null?Object.create(d):(p.prototype=d.prototype,new p)});Object.defineProperty(m,"__esModule",{value:!0});var I=y(12),h=y(31),i=y(17),n=y(1),o=function(a){function d(p){var f=a.call(this,p)||this;return f.attributes=new h.default(f.domNode),f}return v(d,a),d.formats=function(p){return typeof this.tagName=="string"||(Array.isArray(this.tagName)?p.tagName.toLowerCase():void 0)},d.prototype.format=function(p,f){var l=n.query(p);l instanceof I.default?this.attributes.attribute(l,f):f&&(l==null||p===this.statics.blotName&&this.formats()[p]===f||this.replaceWith(p,f))},d.prototype.formats=function(){var p=this.attributes.values(),f=this.statics.formats(this.domNode);return f!=null&&(p[this.statics.blotName]=f),p},d.prototype.replaceWith=function(p,f){var l=a.prototype.replaceWith.call(this,p,f);return this.attributes.copy(l),l},d.prototype.update=function(p,f){var l=this;a.prototype.update.call(this,p,f),p.some(function(S){return S.target===l.domNode&&S.type==="attributes"})&&this.attributes.build()},d.prototype.wrap=function(p,f){var l=a.prototype.wrap.call(this,p,f);return l instanceof d&&l.statics.scope===this.statics.scope&&this.attributes.move(l),l},d}(i.default);m.default=o},function(x,m,y){"use strict";var _,v=this&&this.__extends||(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},function(n,o){function a(){this.constructor=n}_(n,o),n.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)});Object.defineProperty(m,"__esModule",{value:!0});var I=y(30),h=y(1),i=function(n){function o(){return n!==null&&n.apply(this,arguments)||this}return v(o,n),o.value=function(a){return!0},o.prototype.index=function(a,d){return this.domNode===a||this.domNode.compareDocumentPosition(a)&Node.DOCUMENT_POSITION_CONTAINED_BY?Math.min(d,1):-1},o.prototype.position=function(a,d){var p=[].indexOf.call(this.parent.domNode.childNodes,this.domNode);return a>0&&(p+=1),[this.parent.domNode,p]},o.prototype.value=function(){var a;return(a={})[this.statics.blotName]=this.statics.value(this.domNode)||!0,a},o.scope=h.Scope.INLINE_BLOT,o}(I.default);m.default=i},function(x,m,y){var _=y(11),v=y(3),I={attributes:{compose:function(i,n,o){typeof i!="object"&&(i={}),typeof n!="object"&&(n={});var a=v(!0,{},n);for(var d in o||(a=Object.keys(a).reduce(function(p,f){return a[f]!=null&&(p[f]=a[f]),p},{})),i)i[d]!==void 0&&n[d]===void 0&&(a[d]=i[d]);return Object.keys(a).length>0?a:void 0},diff:function(i,n){typeof i!="object"&&(i={}),typeof n!="object"&&(n={});var o=Object.keys(i).concat(Object.keys(n)).reduce(function(a,d){return _(i[d],n[d])||(a[d]=n[d]===void 0?null:n[d]),a},{});return Object.keys(o).length>0?o:void 0},transform:function(i,n,o){if(typeof i!="object")return n;if(typeof n=="object"){if(!o)return n;var a=Object.keys(n).reduce(function(d,p){return i[p]===void 0&&(d[p]=n[p]),d},{});return Object.keys(a).length>0?a:void 0}}},iterator:function(i){return new h(i)},length:function(i){return typeof i.delete=="number"?i.delete:typeof i.retain=="number"?i.retain:typeof i.insert=="string"?i.insert.length:1}};function h(i){this.ops=i,this.index=0,this.offset=0}h.prototype.hasNext=function(){return this.peekLength()<1/0},h.prototype.next=function(i){i||(i=1/0);var n=this.ops[this.index];if(n){var o=this.offset,a=I.length(n);if(i>=a-o?(i=a-o,this.index+=1,this.offset=0):this.offset+=i,typeof n.delete=="number")return{delete:i};var d={};return n.attributes&&(d.attributes=n.attributes),typeof n.retain=="number"?d.retain=i:typeof n.insert=="string"?d.insert=n.insert.substr(o,i):d.insert=n.insert,d}return{retain:1/0}},h.prototype.peek=function(){return this.ops[this.index]},h.prototype.peekLength=function(){return this.ops[this.index]?I.length(this.ops[this.index])-this.offset:1/0},h.prototype.peekType=function(){return this.ops[this.index]?typeof this.ops[this.index].delete=="number"?"delete":typeof this.ops[this.index].retain=="number"?"retain":"insert":"retain"},h.prototype.rest=function(){if(this.hasNext()){if(this.offset===0)return this.ops.slice(this.index);var i=this.offset,n=this.index,o=this.next(),a=this.ops.slice(this.index);return this.offset=i,this.index=n,[o].concat(a)}return[]},x.exports=I},function(x,m){var y=function(){"use strict";function _(a,d){return d!=null&&a instanceof d}var v,I,h;try{v=Map}catch(a){v=function(){}}try{I=Set}catch(a){I=function(){}}try{h=Promise}catch(a){h=function(){}}function i(a,d,p,f,l){typeof d=="object"&&(p=d.depth,f=d.prototype,l=d.includeNonEnumerable,d=d.circular);var S=[],k=[],P=typeof Ot!="undefined";return d===void 0&&(d=!0),p===void 0&&(p=1/0),function c(C,O){if(C===null)return null;if(O===0)return C;var L,j;if(typeof C!="object")return C;if(_(C,v))L=new v;else if(_(C,I))L=new I;else if(_(C,h))L=new h(function(z,T){C.then(function(q){z(c(q,O-1))},function(q){T(c(q,O-1))})});else if(i.__isArray(C))L=[];else if(i.__isRegExp(C))L=new RegExp(C.source,o(C)),C.lastIndex&&(L.lastIndex=C.lastIndex);else if(i.__isDate(C))L=new Date(C.getTime());else{if(P&&Ot.isBuffer(C))return L=Ot.allocUnsafe?Ot.allocUnsafe(C.length):new Ot(C.length),C.copy(L),L;_(C,Error)?L=Object.create(C):f===void 0?(j=Object.getPrototypeOf(C),L=Object.create(j)):(L=Object.create(f),j=f)}if(d){var H=S.indexOf(C);if(H!=-1)return k[H];S.push(C),k.push(L)}for(var M in _(C,v)&&C.forEach(function(z,T){var q=c(T,O-1),ge=c(z,O-1);L.set(q,ge)}),_(C,I)&&C.forEach(function(z){var T=c(z,O-1);L.add(T)}),C){var B;j&&(B=Object.getOwnPropertyDescriptor(j,M)),B&&B.set==null||(L[M]=c(C[M],O-1))}if(Object.getOwnPropertySymbols){var U=Object.getOwnPropertySymbols(C);for(M=0;M<U.length;M++){var W=U[M];(!(F=Object.getOwnPropertyDescriptor(C,W))||F.enumerable||l)&&(L[W]=c(C[W],O-1),F.enumerable||Object.defineProperty(L,W,{enumerable:!1}))}}if(l){var R=Object.getOwnPropertyNames(C);for(M=0;M<R.length;M++){var F,V=R[M];(F=Object.getOwnPropertyDescriptor(C,V))&&F.enumerable||(L[V]=c(C[V],O-1),Object.defineProperty(L,V,{enumerable:!1}))}}return L}(a,p)}function n(a){return Object.prototype.toString.call(a)}function o(a){var d="";return a.global&&(d+="g"),a.ignoreCase&&(d+="i"),a.multiline&&(d+="m"),d}return i.clonePrototype=function(a){if(a===null)return null;var d=function(){};return d.prototype=a,new d},i.__objToStr=n,i.__isDate=function(a){return typeof a=="object"&&n(a)==="[object Date]"},i.__isArray=function(a){return typeof a=="object"&&n(a)==="[object Array]"},i.__isRegExp=function(a){return typeof a=="object"&&n(a)==="[object RegExp]"},i.__getRegExpFlags=o,i}();typeof x=="object"&&x.exports&&(x.exports=y)},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=function(k,P){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return function(c,C){var O=[],L=!0,j=!1,H=void 0;try{for(var M,B=c[Symbol.iterator]();!(L=(M=B.next()).done)&&(O.push(M.value),!C||O.length!==C);L=!0);}catch(U){j=!0,H=U}finally{try{!L&&B.return&&B.return()}finally{if(j)throw H}}return O}(k,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")},v=function(){function k(P,c){for(var C=0;C<c.length;C++){var O=c[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,c,C){return c&&k(P.prototype,c),C&&k(P,C),P}}(),I=function k(P,c,C){P===null&&(P=Function.prototype);var O=Object.getOwnPropertyDescriptor(P,c);if(O===void 0){var L=Object.getPrototypeOf(P);return L===null?void 0:k(L,c,C)}if("value"in O)return O.value;var j=O.get;return j!==void 0?j.call(C):void 0},h=f(y(0)),i=f(y(8)),n=y(4),o=f(n),a=f(y(16)),d=f(y(13)),p=f(y(25));function f(k){return k&&k.__esModule?k:{default:k}}function l(k){return k instanceof o.default||k instanceof n.BlockEmbed}var S=function(k){function P(c,C){(function(L,j){if(!(L instanceof j))throw new TypeError("Cannot call a class as a function")})(this,P);var O=function(L,j){if(!L)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!j||typeof j!="object"&&typeof j!="function"?L:j}(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,c));return O.emitter=C.emitter,Array.isArray(C.whitelist)&&(O.whitelist=C.whitelist.reduce(function(L,j){return L[j]=!0,L},{})),O.domNode.addEventListener("DOMNodeInserted",function(){}),O.optimize(),O.enable(),O}return function(c,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);c.prototype=Object.create(C&&C.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(c,C):c.__proto__=C)}(P,k),v(P,[{key:"batchStart",value:function(){this.batch=!0}},{key:"batchEnd",value:function(){this.batch=!1,this.optimize()}},{key:"deleteAt",value:function(c,C){var O=this.line(c),L=_(O,2),j=L[0],H=L[1],M=this.line(c+C),B=_(M,1)[0];if(I(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"deleteAt",this).call(this,c,C),B!=null&&j!==B&&H>0){if(j instanceof n.BlockEmbed||B instanceof n.BlockEmbed)return void this.optimize();if(j instanceof d.default){var U=j.newlineIndex(j.length(),!0);if(U>-1&&(j=j.split(U+1))===B)return void this.optimize()}else if(B instanceof d.default){var W=B.newlineIndex(0);W>-1&&B.split(W+1)}var R=B.children.head instanceof a.default?null:B.children.head;j.moveChildren(B,R),j.remove()}this.optimize()}},{key:"enable",value:function(){var c=!(arguments.length>0&&arguments[0]!==void 0)||arguments[0];this.domNode.setAttribute("contenteditable",c)}},{key:"formatAt",value:function(c,C,O,L){(this.whitelist==null||this.whitelist[O])&&(I(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"formatAt",this).call(this,c,C,O,L),this.optimize())}},{key:"insertAt",value:function(c,C,O){if(O==null||this.whitelist==null||this.whitelist[C]){if(c>=this.length())if(O==null||h.default.query(C,h.default.Scope.BLOCK)==null){var L=h.default.create(this.statics.defaultChild);this.appendChild(L),O==null&&C.endsWith(`
`)&&(C=C.slice(0,-1)),L.insertAt(0,C,O)}else{var j=h.default.create(C,O);this.appendChild(j)}else I(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertAt",this).call(this,c,C,O);this.optimize()}}},{key:"insertBefore",value:function(c,C){if(c.statics.scope===h.default.Scope.INLINE_BLOT){var O=h.default.create(this.statics.defaultChild);O.appendChild(c),c=O}I(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"insertBefore",this).call(this,c,C)}},{key:"leaf",value:function(c){return this.path(c).pop()||[null,-1]}},{key:"line",value:function(c){return c===this.length()?this.line(c-1):this.descendant(l,c)}},{key:"lines",value:function(){return function c(C,O,L){var j=[],H=L;return C.children.forEachAt(O,L,function(M,B,U){l(M)?j.push(M):M instanceof h.default.Container&&(j=j.concat(c(M,B,H))),H-=U}),j}(this,arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.MAX_VALUE)}},{key:"optimize",value:function(){var c=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],C=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.batch!==!0&&(I(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"optimize",this).call(this,c,C),c.length>0&&this.emitter.emit(i.default.events.SCROLL_OPTIMIZE,c,C))}},{key:"path",value:function(c){return I(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"path",this).call(this,c).slice(1)}},{key:"update",value:function(c){if(this.batch!==!0){var C=i.default.sources.USER;typeof c=="string"&&(C=c),Array.isArray(c)||(c=this.observer.takeRecords()),c.length>0&&this.emitter.emit(i.default.events.SCROLL_BEFORE_UPDATE,C,c),I(P.prototype.__proto__||Object.getPrototypeOf(P.prototype),"update",this).call(this,c.concat([])),c.length>0&&this.emitter.emit(i.default.events.SCROLL_UPDATE,C,c)}}}]),P}(h.default.Scroll);S.blotName="scroll",S.className="ql-editor",S.tagName="DIV",S.defaultChild="block",S.allowedChildren=[o.default,n.BlockEmbed,p.default],m.default=S},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SHORTKEY=m.default=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(R){return typeof R}:function(R){return R&&typeof Symbol=="function"&&R.constructor===Symbol&&R!==Symbol.prototype?"symbol":typeof R},v=function(R,F){if(Array.isArray(R))return R;if(Symbol.iterator in Object(R))return function(V,z){var T=[],q=!0,ge=!1,de=void 0;try{for(var ve,oe=V[Symbol.iterator]();!(q=(ve=oe.next()).done)&&(T.push(ve.value),!z||T.length!==z);q=!0);}catch($){ge=!0,de=$}finally{try{!q&&oe.return&&oe.return()}finally{if(ge)throw de}}return T}(R,F);throw new TypeError("Invalid attempt to destructure non-iterable instance")},I=function(){function R(F,V){for(var z=0;z<V.length;z++){var T=V[z];T.enumerable=T.enumerable||!1,T.configurable=!0,"value"in T&&(T.writable=!0),Object.defineProperty(F,T.key,T)}}return function(F,V,z){return V&&R(F.prototype,V),z&&R(F,z),F}}(),h=S(y(21)),i=S(y(11)),n=S(y(3)),o=S(y(2)),a=S(y(20)),d=S(y(0)),p=S(y(5)),f=S(y(10)),l=S(y(9));function S(R){return R&&R.__esModule?R:{default:R}}function k(R,F,V){return F in R?Object.defineProperty(R,F,{value:V,enumerable:!0,configurable:!0,writable:!0}):R[F]=V,R}var P=(0,f.default)("quill:keyboard"),c=/Mac/i.test(navigator.platform)?"metaKey":"ctrlKey",C=function(R){function F(V,z){(function(q,ge){if(!(q instanceof ge))throw new TypeError("Cannot call a class as a function")})(this,F);var T=function(q,ge){if(!q)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!ge||typeof ge!="object"&&typeof ge!="function"?q:ge}(this,(F.__proto__||Object.getPrototypeOf(F)).call(this,V,z));return T.bindings={},Object.keys(T.options.bindings).forEach(function(q){(q!=="list autofill"||V.scroll.whitelist==null||V.scroll.whitelist.list)&&T.options.bindings[q]&&T.addBinding(T.options.bindings[q])}),T.addBinding({key:F.keys.ENTER,shiftKey:null},M),T.addBinding({key:F.keys.ENTER,metaKey:null,ctrlKey:null,altKey:null},function(){}),/Firefox/i.test(navigator.userAgent)?(T.addBinding({key:F.keys.BACKSPACE},{collapsed:!0},L),T.addBinding({key:F.keys.DELETE},{collapsed:!0},j)):(T.addBinding({key:F.keys.BACKSPACE},{collapsed:!0,prefix:/^.?$/},L),T.addBinding({key:F.keys.DELETE},{collapsed:!0,suffix:/^.?$/},j)),T.addBinding({key:F.keys.BACKSPACE},{collapsed:!1},H),T.addBinding({key:F.keys.DELETE},{collapsed:!1},H),T.addBinding({key:F.keys.BACKSPACE,altKey:null,ctrlKey:null,metaKey:null,shiftKey:null},{collapsed:!0,offset:0},L),T.listen(),T}return function(V,z){if(typeof z!="function"&&z!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof z);V.prototype=Object.create(z&&z.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),z&&(Object.setPrototypeOf?Object.setPrototypeOf(V,z):V.__proto__=z)}(F,R),I(F,null,[{key:"match",value:function(V,z){return z=W(z),!["altKey","ctrlKey","metaKey","shiftKey"].some(function(T){return!!z[T]!==V[T]&&z[T]!==null})&&z.key===(V.which||V.keyCode)}}]),I(F,[{key:"addBinding",value:function(V){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},T=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},q=W(V);if(q==null||q.key==null)return P.warn("Attempted to add invalid keyboard binding",q);typeof z=="function"&&(z={handler:z}),typeof T=="function"&&(T={handler:T}),q=(0,n.default)(q,z,T),this.bindings[q.key]=this.bindings[q.key]||[],this.bindings[q.key].push(q)}},{key:"listen",value:function(){var V=this;this.quill.root.addEventListener("keydown",function(z){if(!z.defaultPrevented){var T=z.which||z.keyCode,q=(V.bindings[T]||[]).filter(function(Te){return F.match(z,Te)});if(q.length!==0){var ge=V.quill.getSelection();if(ge!=null&&V.quill.hasFocus()){var de=V.quill.getLine(ge.index),ve=v(de,2),oe=ve[0],$=ve[1],ee=V.quill.getLeaf(ge.index),se=v(ee,2),re=se[0],_e=se[1],ke=ge.length===0?[re,_e]:V.quill.getLeaf(ge.index+ge.length),Oe=v(ke,2),ye=Oe[0],Ve=Oe[1],Me=re instanceof d.default.Text?re.value().slice(0,_e):"",Ge=ye instanceof d.default.Text?ye.value().slice(Ve):"",je={collapsed:ge.length===0,empty:ge.length===0&&oe.length()<=1,format:V.quill.getFormat(ge),offset:$,prefix:Me,suffix:Ge};q.some(function(Te){if(Te.collapsed!=null&&Te.collapsed!==je.collapsed||Te.empty!=null&&Te.empty!==je.empty||Te.offset!=null&&Te.offset!==je.offset)return!1;if(Array.isArray(Te.format)){if(Te.format.every(function(qe){return je.format[qe]==null}))return!1}else if(_(Te.format)==="object"&&!Object.keys(Te.format).every(function(qe){return Te.format[qe]===!0?je.format[qe]!=null:Te.format[qe]===!1?je.format[qe]==null:(0,i.default)(Te.format[qe],je.format[qe])}))return!1;return!(Te.prefix!=null&&!Te.prefix.test(je.prefix)||Te.suffix!=null&&!Te.suffix.test(je.suffix)||Te.handler.call(V,ge,je)===!0)})&&z.preventDefault()}}}})}}]),F}(l.default);function O(R,F){var V,z=R===C.keys.LEFT?"prefix":"suffix";return k(V={key:R,shiftKey:F,altKey:null},z,/^$/),k(V,"handler",function(T){var q=T.index;R===C.keys.RIGHT&&(q+=T.length+1);var ge=this.quill.getLeaf(q);return!(v(ge,1)[0]instanceof d.default.Embed&&(R===C.keys.LEFT?F?this.quill.setSelection(T.index-1,T.length+1,p.default.sources.USER):this.quill.setSelection(T.index-1,p.default.sources.USER):F?this.quill.setSelection(T.index,T.length+1,p.default.sources.USER):this.quill.setSelection(T.index+T.length+1,p.default.sources.USER),1))}),V}function L(R,F){if(!(R.index===0||this.quill.getLength()<=1)){var V=this.quill.getLine(R.index),z=v(V,1)[0],T={};if(F.offset===0){var q=this.quill.getLine(R.index-1),ge=v(q,1)[0];if(ge!=null&&ge.length()>1){var de=z.formats(),ve=this.quill.getFormat(R.index-1,1);T=a.default.attributes.diff(de,ve)||{}}}var oe=/[\uD800-\uDBFF][\uDC00-\uDFFF]$/.test(F.prefix)?2:1;this.quill.deleteText(R.index-oe,oe,p.default.sources.USER),Object.keys(T).length>0&&this.quill.formatLine(R.index-oe,oe,T,p.default.sources.USER),this.quill.focus()}}function j(R,F){var V=/^[\uD800-\uDBFF][\uDC00-\uDFFF]/.test(F.suffix)?2:1;if(!(R.index>=this.quill.getLength()-V)){var z={},T=0,q=this.quill.getLine(R.index),ge=v(q,1)[0];if(F.offset>=ge.length()-1){var de=this.quill.getLine(R.index+1),ve=v(de,1)[0];if(ve){var oe=ge.formats(),$=this.quill.getFormat(R.index,1);z=a.default.attributes.diff(oe,$)||{},T=ve.length()}}this.quill.deleteText(R.index,V,p.default.sources.USER),Object.keys(z).length>0&&this.quill.formatLine(R.index+T-1,V,z,p.default.sources.USER)}}function H(R){var F=this.quill.getLines(R),V={};if(F.length>1){var z=F[0].formats(),T=F[F.length-1].formats();V=a.default.attributes.diff(T,z)||{}}this.quill.deleteText(R,p.default.sources.USER),Object.keys(V).length>0&&this.quill.formatLine(R.index,1,V,p.default.sources.USER),this.quill.setSelection(R.index,p.default.sources.SILENT),this.quill.focus()}function M(R,F){var V=this;R.length>0&&this.quill.scroll.deleteAt(R.index,R.length);var z=Object.keys(F.format).reduce(function(T,q){return d.default.query(q,d.default.Scope.BLOCK)&&!Array.isArray(F.format[q])&&(T[q]=F.format[q]),T},{});this.quill.insertText(R.index,`
`,z,p.default.sources.USER),this.quill.setSelection(R.index+1,p.default.sources.SILENT),this.quill.focus(),Object.keys(F.format).forEach(function(T){z[T]==null&&(Array.isArray(F.format[T])||T!=="link"&&V.quill.format(T,F.format[T],p.default.sources.USER))})}function B(R){return{key:C.keys.TAB,shiftKey:!R,format:{"code-block":!0},handler:function(F){var V=d.default.query("code-block"),z=F.index,T=F.length,q=this.quill.scroll.descendant(V,z),ge=v(q,2),de=ge[0],ve=ge[1];if(de!=null){var oe=this.quill.getIndex(de),$=de.newlineIndex(ve,!0)+1,ee=de.newlineIndex(oe+ve+T),se=de.domNode.textContent.slice($,ee).split(`
`);ve=0,se.forEach(function(re,_e){R?(de.insertAt($+ve,V.TAB),ve+=V.TAB.length,_e===0?z+=V.TAB.length:T+=V.TAB.length):re.startsWith(V.TAB)&&(de.deleteAt($+ve,V.TAB.length),ve-=V.TAB.length,_e===0?z-=V.TAB.length:T-=V.TAB.length),ve+=re.length+1}),this.quill.update(p.default.sources.USER),this.quill.setSelection(z,T,p.default.sources.SILENT)}}}}function U(R){return{key:R[0].toUpperCase(),shortKey:!0,handler:function(F,V){this.quill.format(R,!V.format[R],p.default.sources.USER)}}}function W(R){if(typeof R=="string"||typeof R=="number")return W({key:R});if((R===void 0?"undefined":_(R))==="object"&&(R=(0,h.default)(R,!1)),typeof R.key=="string")if(C.keys[R.key.toUpperCase()]!=null)R.key=C.keys[R.key.toUpperCase()];else{if(R.key.length!==1)return null;R.key=R.key.toUpperCase().charCodeAt(0)}return R.shortKey&&(R[c]=R.shortKey,delete R.shortKey),R}C.keys={BACKSPACE:8,TAB:9,ENTER:13,ESCAPE:27,LEFT:37,UP:38,RIGHT:39,DOWN:40,DELETE:46},C.DEFAULTS={bindings:{bold:U("bold"),italic:U("italic"),underline:U("underline"),indent:{key:C.keys.TAB,format:["blockquote","indent","list"],handler:function(R,F){if(F.collapsed&&F.offset!==0)return!0;this.quill.format("indent","+1",p.default.sources.USER)}},outdent:{key:C.keys.TAB,shiftKey:!0,format:["blockquote","indent","list"],handler:function(R,F){if(F.collapsed&&F.offset!==0)return!0;this.quill.format("indent","-1",p.default.sources.USER)}},"outdent backspace":{key:C.keys.BACKSPACE,collapsed:!0,shiftKey:null,metaKey:null,ctrlKey:null,altKey:null,format:["indent","list"],offset:0,handler:function(R,F){F.format.indent!=null?this.quill.format("indent","-1",p.default.sources.USER):F.format.list!=null&&this.quill.format("list",!1,p.default.sources.USER)}},"indent code-block":B(!0),"outdent code-block":B(!1),"remove tab":{key:C.keys.TAB,shiftKey:!0,collapsed:!0,prefix:/\t$/,handler:function(R){this.quill.deleteText(R.index-1,1,p.default.sources.USER)}},tab:{key:C.keys.TAB,handler:function(R){this.quill.history.cutoff();var F=new o.default().retain(R.index).delete(R.length).insert("	");this.quill.updateContents(F,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(R.index+1,p.default.sources.SILENT)}},"list empty enter":{key:C.keys.ENTER,collapsed:!0,format:["list"],empty:!0,handler:function(R,F){this.quill.format("list",!1,p.default.sources.USER),F.format.indent&&this.quill.format("indent",!1,p.default.sources.USER)}},"checklist enter":{key:C.keys.ENTER,collapsed:!0,format:{list:"checked"},handler:function(R){var F=this.quill.getLine(R.index),V=v(F,2),z=V[0],T=V[1],q=(0,n.default)({},z.formats(),{list:"checked"}),ge=new o.default().retain(R.index).insert(`
`,q).retain(z.length()-T-1).retain(1,{list:"unchecked"});this.quill.updateContents(ge,p.default.sources.USER),this.quill.setSelection(R.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"header enter":{key:C.keys.ENTER,collapsed:!0,format:["header"],suffix:/^$/,handler:function(R,F){var V=this.quill.getLine(R.index),z=v(V,2),T=z[0],q=z[1],ge=new o.default().retain(R.index).insert(`
`,F.format).retain(T.length()-q-1).retain(1,{header:null});this.quill.updateContents(ge,p.default.sources.USER),this.quill.setSelection(R.index+1,p.default.sources.SILENT),this.quill.scrollIntoView()}},"list autofill":{key:" ",collapsed:!0,format:{list:!1},prefix:/^\s*?(\d+\.|-|\*|\[ ?\]|\[x\])$/,handler:function(R,F){var V=F.prefix.length,z=this.quill.getLine(R.index),T=v(z,2),q=T[0],ge=T[1];if(ge>V)return!0;var de=void 0;switch(F.prefix.trim()){case"[]":case"[ ]":de="unchecked";break;case"[x]":de="checked";break;case"-":case"*":de="bullet";break;default:de="ordered"}this.quill.insertText(R.index," ",p.default.sources.USER),this.quill.history.cutoff();var ve=new o.default().retain(R.index-ge).delete(V+1).retain(q.length()-2-ge).retain(1,{list:de});this.quill.updateContents(ve,p.default.sources.USER),this.quill.history.cutoff(),this.quill.setSelection(R.index-V,p.default.sources.SILENT)}},"code exit":{key:C.keys.ENTER,collapsed:!0,format:["code-block"],prefix:/\n\n$/,suffix:/^\s+$/,handler:function(R){var F=this.quill.getLine(R.index),V=v(F,2),z=V[0],T=V[1],q=new o.default().retain(R.index+z.length()-T-2).retain(1,{"code-block":null}).delete(1);this.quill.updateContents(q,p.default.sources.USER)}},"embed left":O(C.keys.LEFT,!1),"embed left shift":O(C.keys.LEFT,!0),"embed right":O(C.keys.RIGHT,!1),"embed right shift":O(C.keys.RIGHT,!0)}},m.default=C,m.SHORTKEY=c},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=function o(a,d,p){a===null&&(a=Function.prototype);var f=Object.getOwnPropertyDescriptor(a,d);if(f===void 0){var l=Object.getPrototypeOf(a);return l===null?void 0:o(l,d,p)}if("value"in f)return f.value;var S=f.get;return S!==void 0?S.call(p):void 0},v=function(){function o(a,d){for(var p=0;p<d.length;p++){var f=d[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}return function(a,d,p){return d&&o(a.prototype,d),p&&o(a,p),a}}(),I=i(y(0)),h=i(y(7));function i(o){return o&&o.__esModule?o:{default:o}}var n=function(o){function a(d,p){(function(l,S){if(!(l instanceof S))throw new TypeError("Cannot call a class as a function")})(this,a);var f=function(l,S){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?l:S}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,d));return f.selection=p,f.textNode=document.createTextNode(a.CONTENTS),f.domNode.appendChild(f.textNode),f._length=0,f}return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}(a,o),v(a,null,[{key:"value",value:function(){}}]),v(a,[{key:"detach",value:function(){this.parent!=null&&this.parent.removeChild(this)}},{key:"format",value:function(d,p){if(this._length!==0)return _(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"format",this).call(this,d,p);for(var f=this,l=0;f!=null&&f.statics.scope!==I.default.Scope.BLOCK_BLOT;)l+=f.offset(f.parent),f=f.parent;f!=null&&(this._length=a.CONTENTS.length,f.optimize(),f.formatAt(l,a.CONTENTS.length,d,p),this._length=0)}},{key:"index",value:function(d,p){return d===this.textNode?0:_(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"index",this).call(this,d,p)}},{key:"length",value:function(){return this._length}},{key:"position",value:function(){return[this.textNode,this.textNode.data.length]}},{key:"remove",value:function(){_(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"remove",this).call(this),this.parent=null}},{key:"restore",value:function(){if(!this.selection.composing&&this.parent!=null){var d=this.textNode,p=this.selection.getNativeRange(),f=void 0,l=void 0,S=void 0;if(p!=null&&p.start.node===d&&p.end.node===d){var k=[d,p.start.offset,p.end.offset];f=k[0],l=k[1],S=k[2]}for(;this.domNode.lastChild!=null&&this.domNode.lastChild!==this.textNode;)this.domNode.parentNode.insertBefore(this.domNode.lastChild,this.domNode);if(this.textNode.data!==a.CONTENTS){var P=this.textNode.data.split(a.CONTENTS).join("");this.next instanceof h.default?(f=this.next.domNode,this.next.insertAt(0,P),this.textNode.data=a.CONTENTS):(this.textNode.data=P,this.parent.insertBefore(I.default.create(this.textNode),this),this.textNode=document.createTextNode(a.CONTENTS),this.domNode.appendChild(this.textNode))}if(this.remove(),l!=null){var c=function(C,O){if(Array.isArray(C))return C;if(Symbol.iterator in Object(C))return function(L,j){var H=[],M=!0,B=!1,U=void 0;try{for(var W,R=L[Symbol.iterator]();!(M=(W=R.next()).done)&&(H.push(W.value),!j||H.length!==j);M=!0);}catch(F){B=!0,U=F}finally{try{!M&&R.return&&R.return()}finally{if(B)throw U}}return H}(C,O);throw new TypeError("Invalid attempt to destructure non-iterable instance")}([l,S].map(function(C){return Math.max(0,Math.min(f.data.length,C-1))}),2);return l=c[0],S=c[1],{startNode:f,startOffset:l,endNode:f,endOffset:S}}}}},{key:"update",value:function(d,p){var f=this;if(d.some(function(S){return S.type==="characterData"&&S.target===f.textNode})){var l=this.restore();l&&(p.range=l)}}},{key:"value",value:function(){return""}}]),a}(I.default.Embed);n.blotName="cursor",n.className="ql-cursor",n.tagName="span",n.CONTENTS="\uFEFF",m.default=n},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=h(y(0)),v=y(4),I=h(v);function h(n){return n&&n.__esModule?n:{default:n}}var i=function(n){function o(){return function(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),function(a,d){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?a:d}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function(a,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}(o,n),o}(_.default.Container);i.allowedChildren=[I.default,v.BlockEmbed,i],m.default=i},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.ColorStyle=m.ColorClass=m.ColorAttributor=void 0;var _,v=function(){function a(d,p){for(var f=0;f<p.length;f++){var l=p[f];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(d,l.key,l)}}return function(d,p,f){return p&&a(d.prototype,p),f&&a(d,f),d}}(),I=function a(d,p,f){d===null&&(d=Function.prototype);var l=Object.getOwnPropertyDescriptor(d,p);if(l===void 0){var S=Object.getPrototypeOf(d);return S===null?void 0:a(S,p,f)}if("value"in l)return l.value;var k=l.get;return k!==void 0?k.call(f):void 0},h=(_=y(0))&&_.__esModule?_:{default:_},i=function(a){function d(){return function(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,d),function(p,f){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?p:f}(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return function(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}(d,a),v(d,[{key:"value",value:function(p){var f=I(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"value",this).call(this,p);return f.startsWith("rgb(")?"#"+(f=f.replace(/^[^\d]+/,"").replace(/[^\d]+$/,"")).split(",").map(function(l){return("00"+parseInt(l).toString(16)).slice(-2)}).join(""):f}}]),d}(h.default.Attributor.Style),n=new h.default.Attributor.Class("color","ql-color",{scope:h.default.Scope.INLINE}),o=new i("color","color",{scope:h.default.Scope.INLINE});m.ColorAttributor=i,m.ColorClass=n,m.ColorStyle=o},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.sanitize=m.default=void 0;var _,v=function(){function n(o,a){for(var d=0;d<a.length;d++){var p=a[d];p.enumerable=p.enumerable||!1,p.configurable=!0,"value"in p&&(p.writable=!0),Object.defineProperty(o,p.key,p)}}return function(o,a,d){return a&&n(o.prototype,a),d&&n(o,d),o}}(),I=function n(o,a,d){o===null&&(o=Function.prototype);var p=Object.getOwnPropertyDescriptor(o,a);if(p===void 0){var f=Object.getPrototypeOf(o);return f===null?void 0:n(f,a,d)}if("value"in p)return p.value;var l=p.get;return l!==void 0?l.call(d):void 0},h=function(n){function o(){return function(a,d){if(!(a instanceof d))throw new TypeError("Cannot call a class as a function")}(this,o),function(a,d){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!d||typeof d!="object"&&typeof d!="function"?a:d}(this,(o.__proto__||Object.getPrototypeOf(o)).apply(this,arguments))}return function(a,d){if(typeof d!="function"&&d!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof d);a.prototype=Object.create(d&&d.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),d&&(Object.setPrototypeOf?Object.setPrototypeOf(a,d):a.__proto__=d)}(o,n),v(o,[{key:"format",value:function(a,d){if(a!==this.statics.blotName||!d)return I(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),"format",this).call(this,a,d);d=this.constructor.sanitize(d),this.domNode.setAttribute("href",d)}}],[{key:"create",value:function(a){var d=I(o.__proto__||Object.getPrototypeOf(o),"create",this).call(this,a);return a=this.sanitize(a),d.setAttribute("href",a),d.setAttribute("rel","noopener noreferrer"),d.setAttribute("target","_blank"),d}},{key:"formats",value:function(a){return a.getAttribute("href")}},{key:"sanitize",value:function(a){return i(a,this.PROTOCOL_WHITELIST)?a:this.SANITIZED_URL}}]),o}(((_=y(6))&&_.__esModule?_:{default:_}).default);function i(n,o){var a=document.createElement("a");a.href=n;var d=a.href.slice(0,a.href.indexOf(":"));return o.indexOf(d)>-1}h.blotName="link",h.tagName="A",h.SANITIZED_URL="about:blank",h.PROTOCOL_WHITELIST=["http","https","mailto","tel"],m.default=h,m.sanitize=i},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(d){return typeof d}:function(d){return d&&typeof Symbol=="function"&&d.constructor===Symbol&&d!==Symbol.prototype?"symbol":typeof d},v=function(){function d(p,f){for(var l=0;l<f.length;l++){var S=f[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,f,l){return f&&d(p.prototype,f),l&&d(p,l),p}}(),I=i(y(23)),h=i(y(107));function i(d){return d&&d.__esModule?d:{default:d}}var n=0;function o(d,p){d.setAttribute(p,d.getAttribute(p)!=="true")}var a=function(){function d(p){var f=this;(function(l,S){if(!(l instanceof S))throw new TypeError("Cannot call a class as a function")})(this,d),this.select=p,this.container=document.createElement("span"),this.buildPicker(),this.select.style.display="none",this.select.parentNode.insertBefore(this.container,this.select),this.label.addEventListener("mousedown",function(){f.togglePicker()}),this.label.addEventListener("keydown",function(l){switch(l.keyCode){case I.default.keys.ENTER:f.togglePicker();break;case I.default.keys.ESCAPE:f.escape(),l.preventDefault()}}),this.select.addEventListener("change",this.update.bind(this))}return v(d,[{key:"togglePicker",value:function(){this.container.classList.toggle("ql-expanded"),o(this.label,"aria-expanded"),o(this.options,"aria-hidden")}},{key:"buildItem",value:function(p){var f=this,l=document.createElement("span");return l.tabIndex="0",l.setAttribute("role","button"),l.classList.add("ql-picker-item"),p.hasAttribute("value")&&l.setAttribute("data-value",p.getAttribute("value")),p.textContent&&l.setAttribute("data-label",p.textContent),l.addEventListener("click",function(){f.selectItem(l,!0)}),l.addEventListener("keydown",function(S){switch(S.keyCode){case I.default.keys.ENTER:f.selectItem(l,!0),S.preventDefault();break;case I.default.keys.ESCAPE:f.escape(),S.preventDefault()}}),l}},{key:"buildLabel",value:function(){var p=document.createElement("span");return p.classList.add("ql-picker-label"),p.innerHTML=h.default,p.tabIndex="0",p.setAttribute("role","button"),p.setAttribute("aria-expanded","false"),this.container.appendChild(p),p}},{key:"buildOptions",value:function(){var p=this,f=document.createElement("span");f.classList.add("ql-picker-options"),f.setAttribute("aria-hidden","true"),f.tabIndex="-1",f.id="ql-picker-options-"+n,n+=1,this.label.setAttribute("aria-controls",f.id),this.options=f,[].slice.call(this.select.options).forEach(function(l){var S=p.buildItem(l);f.appendChild(S),l.selected===!0&&p.selectItem(S)}),this.container.appendChild(f)}},{key:"buildPicker",value:function(){var p=this;[].slice.call(this.select.attributes).forEach(function(f){p.container.setAttribute(f.name,f.value)}),this.container.classList.add("ql-picker"),this.label=this.buildLabel(),this.buildOptions()}},{key:"escape",value:function(){var p=this;this.close(),setTimeout(function(){return p.label.focus()},1)}},{key:"close",value:function(){this.container.classList.remove("ql-expanded"),this.label.setAttribute("aria-expanded","false"),this.options.setAttribute("aria-hidden","true")}},{key:"selectItem",value:function(p){var f=arguments.length>1&&arguments[1]!==void 0&&arguments[1],l=this.container.querySelector(".ql-selected");if(p!==l&&(l!=null&&l.classList.remove("ql-selected"),p!=null&&(p.classList.add("ql-selected"),this.select.selectedIndex=[].indexOf.call(p.parentNode.children,p),p.hasAttribute("data-value")?this.label.setAttribute("data-value",p.getAttribute("data-value")):this.label.removeAttribute("data-value"),p.hasAttribute("data-label")?this.label.setAttribute("data-label",p.getAttribute("data-label")):this.label.removeAttribute("data-label"),f))){if(typeof Event=="function")this.select.dispatchEvent(new Event("change"));else if((typeof Event=="undefined"?"undefined":_(Event))==="object"){var S=document.createEvent("Event");S.initEvent("change",!0,!0),this.select.dispatchEvent(S)}this.close()}}},{key:"update",value:function(){var p=void 0;if(this.select.selectedIndex>-1){var f=this.container.querySelector(".ql-picker-options").children[this.select.selectedIndex];p=this.select.options[this.select.selectedIndex],this.selectItem(f)}else this.selectItem(null);var l=p!=null&&p!==this.select.querySelector("option[selected]");this.label.classList.toggle("ql-active",l)}}]),d}();m.default=a},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=P(y(0)),v=P(y(5)),I=y(4),h=P(I),i=P(y(16)),n=P(y(25)),o=P(y(24)),a=P(y(35)),d=P(y(6)),p=P(y(22)),f=P(y(7)),l=P(y(55)),S=P(y(42)),k=P(y(23));function P(c){return c&&c.__esModule?c:{default:c}}v.default.register({"blots/block":h.default,"blots/block/embed":I.BlockEmbed,"blots/break":i.default,"blots/container":n.default,"blots/cursor":o.default,"blots/embed":a.default,"blots/inline":d.default,"blots/scroll":p.default,"blots/text":f.default,"modules/clipboard":l.default,"modules/history":S.default,"modules/keyboard":k.default}),_.default.register(h.default,i.default,o.default,d.default,p.default,f.default),m.default=v.default},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=y(1),v=function(){function I(h){this.domNode=h,this.domNode[_.DATA_KEY]={blot:this}}return Object.defineProperty(I.prototype,"statics",{get:function(){return this.constructor},enumerable:!0,configurable:!0}),I.create=function(h){if(this.tagName==null)throw new _.ParchmentError("Blot definition missing tagName");var i;return Array.isArray(this.tagName)?(typeof h=="string"&&(h=h.toUpperCase(),parseInt(h).toString()===h&&(h=parseInt(h))),i=typeof h=="number"?document.createElement(this.tagName[h-1]):this.tagName.indexOf(h)>-1?document.createElement(h):document.createElement(this.tagName[0])):i=document.createElement(this.tagName),this.className&&i.classList.add(this.className),i},I.prototype.attach=function(){this.parent!=null&&(this.scroll=this.parent.scroll)},I.prototype.clone=function(){var h=this.domNode.cloneNode(!1);return _.create(h)},I.prototype.detach=function(){this.parent!=null&&this.parent.removeChild(this),delete this.domNode[_.DATA_KEY]},I.prototype.deleteAt=function(h,i){this.isolate(h,i).remove()},I.prototype.formatAt=function(h,i,n,o){var a=this.isolate(h,i);if(_.query(n,_.Scope.BLOT)!=null&&o)a.wrap(n,o);else if(_.query(n,_.Scope.ATTRIBUTE)!=null){var d=_.create(this.statics.scope);a.wrap(d),d.format(n,o)}},I.prototype.insertAt=function(h,i,n){var o=n==null?_.create("text",i):_.create(i,n),a=this.split(h);this.parent.insertBefore(o,a)},I.prototype.insertInto=function(h,i){i===void 0&&(i=null),this.parent!=null&&this.parent.children.remove(this);var n=null;h.children.insertBefore(this,i),i!=null&&(n=i.domNode),this.domNode.parentNode==h.domNode&&this.domNode.nextSibling==n||h.domNode.insertBefore(this.domNode,n),this.parent=h,this.attach()},I.prototype.isolate=function(h,i){var n=this.split(h);return n.split(i),n},I.prototype.length=function(){return 1},I.prototype.offset=function(h){return h===void 0&&(h=this.parent),this.parent==null||this==h?0:this.parent.children.offset(this)+this.parent.offset(h)},I.prototype.optimize=function(h){this.domNode[_.DATA_KEY]!=null&&delete this.domNode[_.DATA_KEY].mutations},I.prototype.remove=function(){this.domNode.parentNode!=null&&this.domNode.parentNode.removeChild(this.domNode),this.detach()},I.prototype.replace=function(h){h.parent!=null&&(h.parent.insertBefore(this,h.next),h.remove())},I.prototype.replaceWith=function(h,i){var n=typeof h=="string"?_.create(h,i):h;return n.replace(this),n},I.prototype.split=function(h,i){return h===0?this:this.next},I.prototype.update=function(h,i){},I.prototype.wrap=function(h,i){var n=typeof h=="string"?_.create(h,i):h;return this.parent!=null&&this.parent.insertBefore(n,this.next),n.appendChild(this),n},I.blotName="abstract",I}();m.default=v},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=y(12),v=y(32),I=y(33),h=y(1),i=function(){function n(o){this.attributes={},this.domNode=o,this.build()}return n.prototype.attribute=function(o,a){a?o.add(this.domNode,a)&&(o.value(this.domNode)!=null?this.attributes[o.attrName]=o:delete this.attributes[o.attrName]):(o.remove(this.domNode),delete this.attributes[o.attrName])},n.prototype.build=function(){var o=this;this.attributes={};var a=_.default.keys(this.domNode),d=v.default.keys(this.domNode),p=I.default.keys(this.domNode);a.concat(d).concat(p).forEach(function(f){var l=h.query(f,h.Scope.ATTRIBUTE);l instanceof _.default&&(o.attributes[l.attrName]=l)})},n.prototype.copy=function(o){var a=this;Object.keys(this.attributes).forEach(function(d){var p=a.attributes[d].value(a.domNode);o.format(d,p)})},n.prototype.move=function(o){var a=this;this.copy(o),Object.keys(this.attributes).forEach(function(d){a.attributes[d].remove(a.domNode)}),this.attributes={}},n.prototype.values=function(){var o=this;return Object.keys(this.attributes).reduce(function(a,d){return a[d]=o.attributes[d].value(o.domNode),a},{})},n}();m.default=i},function(x,m,y){"use strict";var _,v=this&&this.__extends||(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},function(i,n){function o(){this.constructor=i}_(i,n),i.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)});function I(i,n){return(i.getAttribute("class")||"").split(/\s+/).filter(function(o){return o.indexOf(n+"-")===0})}Object.defineProperty(m,"__esModule",{value:!0});var h=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return v(n,i),n.keys=function(o){return(o.getAttribute("class")||"").split(/\s+/).map(function(a){return a.split("-").slice(0,-1).join("-")})},n.prototype.add=function(o,a){return!!this.canAdd(o,a)&&(this.remove(o),o.classList.add(this.keyName+"-"+a),!0)},n.prototype.remove=function(o){I(o,this.keyName).forEach(function(a){o.classList.remove(a)}),o.classList.length===0&&o.removeAttribute("class")},n.prototype.value=function(o){var a=(I(o,this.keyName)[0]||"").slice(this.keyName.length+1);return this.canAdd(o,a)?a:""},n}(y(12).default);m.default=h},function(x,m,y){"use strict";var _,v=this&&this.__extends||(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(i,n){i.__proto__=n}||function(i,n){for(var o in n)n.hasOwnProperty(o)&&(i[o]=n[o])},function(i,n){function o(){this.constructor=i}_(i,n),i.prototype=n===null?Object.create(n):(o.prototype=n.prototype,new o)});function I(i){var n=i.split("-"),o=n.slice(1).map(function(a){return a[0].toUpperCase()+a.slice(1)}).join("");return n[0]+o}Object.defineProperty(m,"__esModule",{value:!0});var h=function(i){function n(){return i!==null&&i.apply(this,arguments)||this}return v(n,i),n.keys=function(o){return(o.getAttribute("style")||"").split(";").map(function(a){return a.split(":")[0].trim()})},n.prototype.add=function(o,a){return!!this.canAdd(o,a)&&(o.style[I(this.keyName)]=a,!0)},n.prototype.remove=function(o){o.style[I(this.keyName)]="",o.getAttribute("style")||o.removeAttribute("style")},n.prototype.value=function(o){var a=o.style[I(this.keyName)];return this.canAdd(o,a)?a:""},n}(y(12).default);m.default=h},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=function(){function I(h,i){for(var n=0;n<i.length;n++){var o=i[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}return function(h,i,n){return i&&I(h.prototype,i),n&&I(h,n),h}}(),v=function(){function I(h,i){(function(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")})(this,I),this.quill=h,this.options=i,this.modules={}}return _(I,[{key:"init",value:function(){var h=this;Object.keys(this.options.modules).forEach(function(i){h.modules[i]==null&&h.addModule(i)})}},{key:"addModule",value:function(h){var i=this.quill.constructor.import("modules/"+h);return this.modules[h]=new i(this.quill,this.options.modules[h]||{}),this.modules[h]}}]),I}();v.DEFAULTS={modules:{}},v.themes={default:v},m.default=v},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=function(){function a(d,p){for(var f=0;f<p.length;f++){var l=p[f];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(d,l.key,l)}}return function(d,p,f){return p&&a(d.prototype,p),f&&a(d,f),d}}(),v=function a(d,p,f){d===null&&(d=Function.prototype);var l=Object.getOwnPropertyDescriptor(d,p);if(l===void 0){var S=Object.getPrototypeOf(d);return S===null?void 0:a(S,p,f)}if("value"in l)return l.value;var k=l.get;return k!==void 0?k.call(f):void 0},I=i(y(0)),h=i(y(7));function i(a){return a&&a.__esModule?a:{default:a}}var n="\uFEFF",o=function(a){function d(p){(function(l,S){if(!(l instanceof S))throw new TypeError("Cannot call a class as a function")})(this,d);var f=function(l,S){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?l:S}(this,(d.__proto__||Object.getPrototypeOf(d)).call(this,p));return f.contentNode=document.createElement("span"),f.contentNode.setAttribute("contenteditable",!1),[].slice.call(f.domNode.childNodes).forEach(function(l){f.contentNode.appendChild(l)}),f.leftGuard=document.createTextNode(n),f.rightGuard=document.createTextNode(n),f.domNode.appendChild(f.leftGuard),f.domNode.appendChild(f.contentNode),f.domNode.appendChild(f.rightGuard),f}return function(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}(d,a),_(d,[{key:"index",value:function(p,f){return p===this.leftGuard?0:p===this.rightGuard?1:v(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"index",this).call(this,p,f)}},{key:"restore",value:function(p){var f=void 0,l=void 0,S=p.data.split(n).join("");if(p===this.leftGuard)if(this.prev instanceof h.default){var k=this.prev.length();this.prev.insertAt(k,S),f={startNode:this.prev.domNode,startOffset:k+S.length}}else l=document.createTextNode(S),this.parent.insertBefore(I.default.create(l),this),f={startNode:l,startOffset:S.length};else p===this.rightGuard&&(this.next instanceof h.default?(this.next.insertAt(0,S),f={startNode:this.next.domNode,startOffset:S.length}):(l=document.createTextNode(S),this.parent.insertBefore(I.default.create(l),this.next),f={startNode:l,startOffset:S.length}));return p.data=n,f}},{key:"update",value:function(p,f){var l=this;p.forEach(function(S){if(S.type==="characterData"&&(S.target===l.leftGuard||S.target===l.rightGuard)){var k=l.restore(S.target);k&&(f.range=k)}})}}]),d}(I.default.Embed);m.default=o},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.AlignStyle=m.AlignClass=m.AlignAttribute=void 0;var _,v=(_=y(0))&&_.__esModule?_:{default:_},I={scope:v.default.Scope.BLOCK,whitelist:["right","center","justify"]},h=new v.default.Attributor.Attribute("align","align",I),i=new v.default.Attributor.Class("align","ql-align",I),n=new v.default.Attributor.Style("align","text-align",I);m.AlignAttribute=h,m.AlignClass=i,m.AlignStyle=n},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.BackgroundStyle=m.BackgroundClass=void 0;var _,v=(_=y(0))&&_.__esModule?_:{default:_},I=y(26),h=new v.default.Attributor.Class("background","ql-bg",{scope:v.default.Scope.INLINE}),i=new I.ColorAttributor("background","background-color",{scope:v.default.Scope.INLINE});m.BackgroundClass=h,m.BackgroundStyle=i},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.DirectionStyle=m.DirectionClass=m.DirectionAttribute=void 0;var _,v=(_=y(0))&&_.__esModule?_:{default:_},I={scope:v.default.Scope.BLOCK,whitelist:["rtl"]},h=new v.default.Attributor.Attribute("direction","dir",I),i=new v.default.Attributor.Class("direction","ql-direction",I),n=new v.default.Attributor.Style("direction","direction",I);m.DirectionAttribute=h,m.DirectionClass=i,m.DirectionStyle=n},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.FontClass=m.FontStyle=void 0;var _,v=function(){function d(p,f){for(var l=0;l<f.length;l++){var S=f[l];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(p,S.key,S)}}return function(p,f,l){return f&&d(p.prototype,f),l&&d(p,l),p}}(),I=function d(p,f,l){p===null&&(p=Function.prototype);var S=Object.getOwnPropertyDescriptor(p,f);if(S===void 0){var k=Object.getPrototypeOf(p);return k===null?void 0:d(k,f,l)}if("value"in S)return S.value;var P=S.get;return P!==void 0?P.call(l):void 0},h=(_=y(0))&&_.__esModule?_:{default:_},i={scope:h.default.Scope.INLINE,whitelist:["serif","monospace"]},n=new h.default.Attributor.Class("font","ql-font",i),o=function(d){function p(){return function(f,l){if(!(f instanceof l))throw new TypeError("Cannot call a class as a function")}(this,p),function(f,l){if(!f)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!l||typeof l!="object"&&typeof l!="function"?f:l}(this,(p.__proto__||Object.getPrototypeOf(p)).apply(this,arguments))}return function(f,l){if(typeof l!="function"&&l!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof l);f.prototype=Object.create(l&&l.prototype,{constructor:{value:f,enumerable:!1,writable:!0,configurable:!0}}),l&&(Object.setPrototypeOf?Object.setPrototypeOf(f,l):f.__proto__=l)}(p,d),v(p,[{key:"value",value:function(f){return I(p.prototype.__proto__||Object.getPrototypeOf(p.prototype),"value",this).call(this,f).replace(/["']/g,"")}}]),p}(h.default.Attributor.Style),a=new o("font","font-family",i);m.FontStyle=a,m.FontClass=n},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.SizeStyle=m.SizeClass=void 0;var _,v=(_=y(0))&&_.__esModule?_:{default:_},I=new v.default.Attributor.Class("size","ql-size",{scope:v.default.Scope.INLINE,whitelist:["small","large","huge"]}),h=new v.default.Attributor.Style("size","font-size",{scope:v.default.Scope.INLINE,whitelist:["10px","18px","32px"]});m.SizeClass=I,m.SizeStyle=h},function(x,m,y){"use strict";x.exports={align:{"":y(76),center:y(77),right:y(78),justify:y(79)},background:y(80),blockquote:y(81),bold:y(82),clean:y(83),code:y(58),"code-block":y(58),color:y(84),direction:{"":y(85),rtl:y(86)},float:{center:y(87),full:y(88),left:y(89),right:y(90)},formula:y(91),header:{1:y(92),2:y(93)},italic:y(94),image:y(95),indent:{"+1":y(96),"-1":y(97)},link:y(98),list:{ordered:y(99),bullet:y(100),check:y(101)},script:{sub:y(102),super:y(103)},strike:y(104),underline:y(105),video:y(106)}},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.getLastChangeIndex=m.default=void 0;var _=function(){function o(a,d){for(var p=0;p<d.length;p++){var f=d[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}return function(a,d,p){return d&&o(a.prototype,d),p&&o(a,p),a}}(),v=h(y(0)),I=h(y(5));function h(o){return o&&o.__esModule?o:{default:o}}var i=function(o){function a(d,p){(function(l,S){if(!(l instanceof S))throw new TypeError("Cannot call a class as a function")})(this,a);var f=function(l,S){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?l:S}(this,(a.__proto__||Object.getPrototypeOf(a)).call(this,d,p));return f.lastRecorded=0,f.ignoreChange=!1,f.clear(),f.quill.on(I.default.events.EDITOR_CHANGE,function(l,S,k,P){l!==I.default.events.TEXT_CHANGE||f.ignoreChange||(f.options.userOnly&&P!==I.default.sources.USER?f.transform(S):f.record(S,k))}),f.quill.keyboard.addBinding({key:"Z",shortKey:!0},f.undo.bind(f)),f.quill.keyboard.addBinding({key:"Z",shortKey:!0,shiftKey:!0},f.redo.bind(f)),/Win/i.test(navigator.platform)&&f.quill.keyboard.addBinding({key:"Y",shortKey:!0},f.redo.bind(f)),f}return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}(a,o),_(a,[{key:"change",value:function(d,p){if(this.stack[d].length!==0){var f=this.stack[d].pop();this.stack[p].push(f),this.lastRecorded=0,this.ignoreChange=!0,this.quill.updateContents(f[d],I.default.sources.USER),this.ignoreChange=!1;var l=n(f[d]);this.quill.setSelection(l)}}},{key:"clear",value:function(){this.stack={undo:[],redo:[]}}},{key:"cutoff",value:function(){this.lastRecorded=0}},{key:"record",value:function(d,p){if(d.ops.length!==0){this.stack.redo=[];var f=this.quill.getContents().diff(p),l=Date.now();if(this.lastRecorded+this.options.delay>l&&this.stack.undo.length>0){var S=this.stack.undo.pop();f=f.compose(S.undo),d=S.redo.compose(d)}else this.lastRecorded=l;this.stack.undo.push({redo:d,undo:f}),this.stack.undo.length>this.options.maxStack&&this.stack.undo.shift()}}},{key:"redo",value:function(){this.change("redo","undo")}},{key:"transform",value:function(d){this.stack.undo.forEach(function(p){p.undo=d.transform(p.undo,!0),p.redo=d.transform(p.redo,!0)}),this.stack.redo.forEach(function(p){p.undo=d.transform(p.undo,!0),p.redo=d.transform(p.redo,!0)})}},{key:"undo",value:function(){this.change("undo","redo")}}]),a}(h(y(9)).default);function n(o){var a=o.reduce(function(p,f){return p+(f.delete||0)},0),d=o.length()-a;return function(p){var f=p.ops[p.ops.length-1];return f!=null&&(f.insert!=null?typeof f.insert=="string"&&f.insert.endsWith(`
`):f.attributes!=null&&Object.keys(f.attributes).some(function(l){return v.default.query(l,v.default.Scope.BLOCK)!=null}))}(o)&&(d-=1),d}i.DEFAULTS={delay:1e3,maxStack:100,userOnly:!1},m.default=i,m.getLastChangeIndex=n},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.default=m.BaseTooltip=void 0;var _=function(){function U(W,R){for(var F=0;F<R.length;F++){var V=R[F];V.enumerable=V.enumerable||!1,V.configurable=!0,"value"in V&&(V.writable=!0),Object.defineProperty(W,V.key,V)}}return function(W,R,F){return R&&U(W.prototype,R),F&&U(W,F),W}}(),v=function U(W,R,F){W===null&&(W=Function.prototype);var V=Object.getOwnPropertyDescriptor(W,R);if(V===void 0){var z=Object.getPrototypeOf(W);return z===null?void 0:U(z,R,F)}if("value"in V)return V.value;var T=V.get;return T!==void 0?T.call(F):void 0},I=l(y(3)),h=l(y(2)),i=l(y(8)),n=l(y(23)),o=l(y(34)),a=l(y(59)),d=l(y(60)),p=l(y(28)),f=l(y(61));function l(U){return U&&U.__esModule?U:{default:U}}function S(U,W){if(!(U instanceof W))throw new TypeError("Cannot call a class as a function")}function k(U,W){if(!U)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!W||typeof W!="object"&&typeof W!="function"?U:W}function P(U,W){if(typeof W!="function"&&W!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof W);U.prototype=Object.create(W&&W.prototype,{constructor:{value:U,enumerable:!1,writable:!0,configurable:!0}}),W&&(Object.setPrototypeOf?Object.setPrototypeOf(U,W):U.__proto__=W)}var c=[!1,"center","right","justify"],C=["#000000","#e60000","#ff9900","#ffff00","#008a00","#0066cc","#9933ff","#ffffff","#facccc","#ffebcc","#ffffcc","#cce8cc","#cce0f5","#ebd6ff","#bbbbbb","#f06666","#ffc266","#ffff66","#66b966","#66a3e0","#c285ff","#888888","#a10000","#b26b00","#b2b200","#006100","#0047b2","#6b24b2","#444444","#5c0000","#663d00","#666600","#003700","#002966","#3d1466"],O=[!1,"serif","monospace"],L=["1","2","3",!1],j=["small",!1,"large","huge"],H=function(U){function W(R,F){S(this,W);var V=k(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,R,F));return R.emitter.listenDOM("click",document.body,function z(T){if(!document.body.contains(R.root))return document.body.removeEventListener("click",z);V.tooltip==null||V.tooltip.root.contains(T.target)||document.activeElement===V.tooltip.textbox||V.quill.hasFocus()||V.tooltip.hide(),V.pickers!=null&&V.pickers.forEach(function(q){q.container.contains(T.target)||q.close()})}),V}return P(W,U),_(W,[{key:"addModule",value:function(R){var F=v(W.prototype.__proto__||Object.getPrototypeOf(W.prototype),"addModule",this).call(this,R);return R==="toolbar"&&this.extendToolbar(F),F}},{key:"buildButtons",value:function(R,F){R.forEach(function(V){(V.getAttribute("class")||"").split(/\s+/).forEach(function(z){if(z.startsWith("ql-")&&(z=z.slice(3),F[z]!=null))if(z==="direction")V.innerHTML=F[z][""]+F[z].rtl;else if(typeof F[z]=="string")V.innerHTML=F[z];else{var T=V.value||"";T!=null&&F[z][T]&&(V.innerHTML=F[z][T])}})})}},{key:"buildPickers",value:function(R,F){var V=this;this.pickers=R.map(function(z){if(z.classList.contains("ql-align"))return z.querySelector("option")==null&&B(z,c),new d.default(z,F.align);if(z.classList.contains("ql-background")||z.classList.contains("ql-color")){var T=z.classList.contains("ql-background")?"background":"color";return z.querySelector("option")==null&&B(z,C,T==="background"?"#ffffff":"#000000"),new a.default(z,F[T])}return z.querySelector("option")==null&&(z.classList.contains("ql-font")?B(z,O):z.classList.contains("ql-header")?B(z,L):z.classList.contains("ql-size")&&B(z,j)),new p.default(z)}),this.quill.on(i.default.events.EDITOR_CHANGE,function(){V.pickers.forEach(function(z){z.update()})})}}]),W}(o.default);H.DEFAULTS=(0,I.default)(!0,{},o.default.DEFAULTS,{modules:{toolbar:{handlers:{formula:function(){this.quill.theme.tooltip.edit("formula")},image:function(){var U=this,W=this.container.querySelector("input.ql-image[type=file]");W==null&&((W=document.createElement("input")).setAttribute("type","file"),W.setAttribute("accept","image/png, image/gif, image/jpeg, image/bmp, image/x-icon"),W.classList.add("ql-image"),W.addEventListener("change",function(){if(W.files!=null&&W.files[0]!=null){var R=new FileReader;R.onload=function(F){var V=U.quill.getSelection(!0);U.quill.updateContents(new h.default().retain(V.index).delete(V.length).insert({image:F.target.result}),i.default.sources.USER),U.quill.setSelection(V.index+1,i.default.sources.SILENT),W.value=""},R.readAsDataURL(W.files[0])}}),this.container.appendChild(W)),W.click()},video:function(){this.quill.theme.tooltip.edit("video")}}}}});var M=function(U){function W(R,F){S(this,W);var V=k(this,(W.__proto__||Object.getPrototypeOf(W)).call(this,R,F));return V.textbox=V.root.querySelector('input[type="text"]'),V.listen(),V}return P(W,U),_(W,[{key:"listen",value:function(){var R=this;this.textbox.addEventListener("keydown",function(F){n.default.match(F,"enter")?(R.save(),F.preventDefault()):n.default.match(F,"escape")&&(R.cancel(),F.preventDefault())})}},{key:"cancel",value:function(){this.hide()}},{key:"edit",value:function(){var R=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"link",F=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;this.root.classList.remove("ql-hidden"),this.root.classList.add("ql-editing"),F!=null?this.textbox.value=F:R!==this.root.getAttribute("data-mode")&&(this.textbox.value=""),this.position(this.quill.getBounds(this.quill.selection.savedRange)),this.textbox.select(),this.textbox.setAttribute("placeholder",this.textbox.getAttribute("data-"+R)||""),this.root.setAttribute("data-mode",R)}},{key:"restoreFocus",value:function(){var R=this.quill.scrollingContainer.scrollTop;this.quill.focus(),this.quill.scrollingContainer.scrollTop=R}},{key:"save",value:function(){var R,F,V=this.textbox.value;switch(this.root.getAttribute("data-mode")){case"link":var z=this.quill.root.scrollTop;this.linkRange?(this.quill.formatText(this.linkRange,"link",V,i.default.sources.USER),delete this.linkRange):(this.restoreFocus(),this.quill.format("link",V,i.default.sources.USER)),this.quill.root.scrollTop=z;break;case"video":V=(F=(R=V).match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtube\.com\/watch.*v=([a-zA-Z0-9_-]+)/)||R.match(/^(?:(https?):\/\/)?(?:(?:www|m)\.)?youtu\.be\/([a-zA-Z0-9_-]+)/))?(F[1]||"https")+"://www.youtube.com/embed/"+F[2]+"?showinfo=0":(F=R.match(/^(?:(https?):\/\/)?(?:www\.)?vimeo\.com\/(\d+)/))?(F[1]||"https")+"://player.vimeo.com/video/"+F[2]+"/":R;case"formula":if(!V)break;var T=this.quill.getSelection(!0);if(T!=null){var q=T.index+T.length;this.quill.insertEmbed(q,this.root.getAttribute("data-mode"),V,i.default.sources.USER),this.root.getAttribute("data-mode")==="formula"&&this.quill.insertText(q+1," ",i.default.sources.USER),this.quill.setSelection(q+2,i.default.sources.USER)}}this.textbox.value="",this.hide()}}]),W}(f.default);function B(U,W){var R=arguments.length>2&&arguments[2]!==void 0&&arguments[2];W.forEach(function(F){var V=document.createElement("option");F===R?V.setAttribute("selected","selected"):V.setAttribute("value",F),U.appendChild(V)})}m.BaseTooltip=M,m.default=H},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=function(){function v(){this.head=this.tail=null,this.length=0}return v.prototype.append=function(){for(var I=[],h=0;h<arguments.length;h++)I[h]=arguments[h];this.insertBefore(I[0],null),I.length>1&&this.append.apply(this,I.slice(1))},v.prototype.contains=function(I){for(var h,i=this.iterator();h=i();)if(h===I)return!0;return!1},v.prototype.insertBefore=function(I,h){I&&(I.next=h,h!=null?(I.prev=h.prev,h.prev!=null&&(h.prev.next=I),h.prev=I,h===this.head&&(this.head=I)):this.tail!=null?(this.tail.next=I,I.prev=this.tail,this.tail=I):(I.prev=null,this.head=this.tail=I),this.length+=1)},v.prototype.offset=function(I){for(var h=0,i=this.head;i!=null;){if(i===I)return h;h+=i.length(),i=i.next}return-1},v.prototype.remove=function(I){this.contains(I)&&(I.prev!=null&&(I.prev.next=I.next),I.next!=null&&(I.next.prev=I.prev),I===this.head&&(this.head=I.next),I===this.tail&&(this.tail=I.prev),this.length-=1)},v.prototype.iterator=function(I){return I===void 0&&(I=this.head),function(){var h=I;return I!=null&&(I=I.next),h}},v.prototype.find=function(I,h){h===void 0&&(h=!1);for(var i,n=this.iterator();i=n();){var o=i.length();if(I<o||h&&I===o&&(i.next==null||i.next.length()!==0))return[i,I];I-=o}return[null,0]},v.prototype.forEach=function(I){for(var h,i=this.iterator();h=i();)I(h)},v.prototype.forEachAt=function(I,h,i){if(!(h<=0))for(var n,o=this.find(I),a=o[0],d=I-o[1],p=this.iterator(a);(n=p())&&d<I+h;){var f=n.length();I>d?i(n,I-d,Math.min(h,d+f-I)):i(n,0,Math.min(f,I+h-d)),d+=f}},v.prototype.map=function(I){return this.reduce(function(h,i){return h.push(I(i)),h},[])},v.prototype.reduce=function(I,h){for(var i,n=this.iterator();i=n();)h=I(h,i);return h},v}();m.default=_},function(x,m,y){"use strict";var _,v=this&&this.__extends||(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(o,a){o.__proto__=a}||function(o,a){for(var d in a)a.hasOwnProperty(d)&&(o[d]=a[d])},function(o,a){function d(){this.constructor=o}_(o,a),o.prototype=a===null?Object.create(a):(d.prototype=a.prototype,new d)});Object.defineProperty(m,"__esModule",{value:!0});var I=y(17),h=y(1),i={attributes:!0,characterData:!0,characterDataOldValue:!0,childList:!0,subtree:!0},n=function(o){function a(d){var p=o.call(this,d)||this;return p.scroll=p,p.observer=new MutationObserver(function(f){p.update(f)}),p.observer.observe(p.domNode,i),p.attach(),p}return v(a,o),a.prototype.detach=function(){o.prototype.detach.call(this),this.observer.disconnect()},a.prototype.deleteAt=function(d,p){this.update(),d===0&&p===this.length()?this.children.forEach(function(f){f.remove()}):o.prototype.deleteAt.call(this,d,p)},a.prototype.formatAt=function(d,p,f,l){this.update(),o.prototype.formatAt.call(this,d,p,f,l)},a.prototype.insertAt=function(d,p,f){this.update(),o.prototype.insertAt.call(this,d,p,f)},a.prototype.optimize=function(d,p){var f=this;d===void 0&&(d=[]),p===void 0&&(p={}),o.prototype.optimize.call(this,p);for(var l=[].slice.call(this.observer.takeRecords());l.length>0;)d.push(l.pop());for(var S=function(C,O){O===void 0&&(O=!0),C!=null&&C!==f&&C.domNode.parentNode!=null&&(C.domNode[h.DATA_KEY].mutations==null&&(C.domNode[h.DATA_KEY].mutations=[]),O&&S(C.parent))},k=function(C){C.domNode[h.DATA_KEY]!=null&&C.domNode[h.DATA_KEY].mutations!=null&&(C instanceof I.default&&C.children.forEach(k),C.optimize(p))},P=d,c=0;P.length>0;c+=1){if(c>=100)throw new Error("[Parchment] Maximum optimize iterations reached");for(P.forEach(function(C){var O=h.find(C.target,!0);O!=null&&(O.domNode===C.target&&(C.type==="childList"?(S(h.find(C.previousSibling,!1)),[].forEach.call(C.addedNodes,function(L){var j=h.find(L,!1);S(j,!1),j instanceof I.default&&j.children.forEach(function(H){S(H,!1)})})):C.type==="attributes"&&S(O.prev)),S(O))}),this.children.forEach(k),l=(P=[].slice.call(this.observer.takeRecords())).slice();l.length>0;)d.push(l.pop())}},a.prototype.update=function(d,p){var f=this;p===void 0&&(p={}),(d=d||this.observer.takeRecords()).map(function(l){var S=h.find(l.target,!0);return S==null?null:S.domNode[h.DATA_KEY].mutations==null?(S.domNode[h.DATA_KEY].mutations=[l],S):(S.domNode[h.DATA_KEY].mutations.push(l),null)}).forEach(function(l){l!=null&&l!==f&&l.domNode[h.DATA_KEY]!=null&&l.update(l.domNode[h.DATA_KEY].mutations||[],p)}),this.domNode[h.DATA_KEY].mutations!=null&&o.prototype.update.call(this,this.domNode[h.DATA_KEY].mutations,p),this.optimize(d,p)},a.blotName="scroll",a.defaultChild="block",a.scope=h.Scope.BLOCK_BLOT,a.tagName="DIV",a}(I.default);m.default=n},function(x,m,y){"use strict";var _,v=this&&this.__extends||(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},function(n,o){function a(){this.constructor=n}_(n,o),n.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)});Object.defineProperty(m,"__esModule",{value:!0});var I=y(18),h=y(1),i=function(n){function o(){return n!==null&&n.apply(this,arguments)||this}return v(o,n),o.formats=function(a){if(a.tagName!==o.tagName)return n.formats.call(this,a)},o.prototype.format=function(a,d){var p=this;a!==this.statics.blotName||d?n.prototype.format.call(this,a,d):(this.children.forEach(function(f){f instanceof I.default||(f=f.wrap(o.blotName,!0)),p.attributes.copy(f)}),this.unwrap())},o.prototype.formatAt=function(a,d,p,f){this.formats()[p]!=null||h.query(p,h.Scope.ATTRIBUTE)?this.isolate(a,d).format(p,f):n.prototype.formatAt.call(this,a,d,p,f)},o.prototype.optimize=function(a){n.prototype.optimize.call(this,a);var d=this.formats();if(Object.keys(d).length===0)return this.unwrap();var p=this.next;p instanceof o&&p.prev===this&&function(f,l){if(Object.keys(f).length!==Object.keys(l).length)return!1;for(var S in f)if(f[S]!==l[S])return!1;return!0}(d,p.formats())&&(p.moveChildren(this),p.remove())},o.blotName="inline",o.scope=h.Scope.INLINE_BLOT,o.tagName="SPAN",o}(I.default);m.default=i},function(x,m,y){"use strict";var _,v=this&&this.__extends||(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},function(n,o){function a(){this.constructor=n}_(n,o),n.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)});Object.defineProperty(m,"__esModule",{value:!0});var I=y(18),h=y(1),i=function(n){function o(){return n!==null&&n.apply(this,arguments)||this}return v(o,n),o.formats=function(a){var d=h.query(o.blotName).tagName;if(a.tagName!==d)return n.formats.call(this,a)},o.prototype.format=function(a,d){h.query(a,h.Scope.BLOCK)!=null&&(a!==this.statics.blotName||d?n.prototype.format.call(this,a,d):this.replaceWith(o.blotName))},o.prototype.formatAt=function(a,d,p,f){h.query(p,h.Scope.BLOCK)!=null?this.format(p,f):n.prototype.formatAt.call(this,a,d,p,f)},o.prototype.insertAt=function(a,d,p){if(p==null||h.query(d,h.Scope.INLINE)!=null)n.prototype.insertAt.call(this,a,d,p);else{var f=this.split(a),l=h.create(d,p);f.parent.insertBefore(l,f)}},o.prototype.update=function(a,d){navigator.userAgent.match(/Trident/)?this.build():n.prototype.update.call(this,a,d)},o.blotName="block",o.scope=h.Scope.BLOCK_BLOT,o.tagName="P",o}(I.default);m.default=i},function(x,m,y){"use strict";var _,v=this&&this.__extends||(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(h,i){h.__proto__=i}||function(h,i){for(var n in i)i.hasOwnProperty(n)&&(h[n]=i[n])},function(h,i){function n(){this.constructor=h}_(h,i),h.prototype=i===null?Object.create(i):(n.prototype=i.prototype,new n)});Object.defineProperty(m,"__esModule",{value:!0});var I=function(h){function i(){return h!==null&&h.apply(this,arguments)||this}return v(i,h),i.formats=function(n){},i.prototype.format=function(n,o){h.prototype.formatAt.call(this,0,this.length(),n,o)},i.prototype.formatAt=function(n,o,a,d){n===0&&o===this.length()?this.format(a,d):h.prototype.formatAt.call(this,n,o,a,d)},i.prototype.formats=function(){return this.statics.formats(this.domNode)},i}(y(19).default);m.default=I},function(x,m,y){"use strict";var _,v=this&&this.__extends||(_=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,o){n.__proto__=o}||function(n,o){for(var a in o)o.hasOwnProperty(a)&&(n[a]=o[a])},function(n,o){function a(){this.constructor=n}_(n,o),n.prototype=o===null?Object.create(o):(a.prototype=o.prototype,new a)});Object.defineProperty(m,"__esModule",{value:!0});var I=y(19),h=y(1),i=function(n){function o(a){var d=n.call(this,a)||this;return d.text=d.statics.value(d.domNode),d}return v(o,n),o.create=function(a){return document.createTextNode(a)},o.value=function(a){var d=a.data;return d.normalize&&(d=d.normalize()),d},o.prototype.deleteAt=function(a,d){this.domNode.data=this.text=this.text.slice(0,a)+this.text.slice(a+d)},o.prototype.index=function(a,d){return this.domNode===a?d:-1},o.prototype.insertAt=function(a,d,p){p==null?(this.text=this.text.slice(0,a)+d+this.text.slice(a),this.domNode.data=this.text):n.prototype.insertAt.call(this,a,d,p)},o.prototype.length=function(){return this.text.length},o.prototype.optimize=function(a){n.prototype.optimize.call(this,a),this.text=this.statics.value(this.domNode),this.text.length===0?this.remove():this.next instanceof o&&this.next.prev===this&&(this.insertAt(this.length(),this.next.value()),this.next.remove())},o.prototype.position=function(a,d){return d===void 0&&(d=!1),[this.domNode,a]},o.prototype.split=function(a,d){if(d===void 0&&(d=!1),!d){if(a===0)return this;if(a===this.length())return this.next}var p=h.create(this.domNode.splitText(a));return this.parent.insertBefore(p,this.next),this.text=this.statics.value(this.domNode),p},o.prototype.update=function(a,d){var p=this;a.some(function(f){return f.type==="characterData"&&f.target===p.domNode})&&(this.text=this.statics.value(this.domNode))},o.prototype.value=function(){return this.text},o.blotName="text",o.scope=h.Scope.INLINE_BLOT,o}(I.default);m.default=i},function(x,m,y){"use strict";var _=document.createElement("div");if(_.classList.toggle("test-class",!1),_.classList.contains("test-class")){var v=DOMTokenList.prototype.toggle;DOMTokenList.prototype.toggle=function(I,h){return arguments.length>1&&!this.contains(I)==!h?h:v.call(this,I)}}String.prototype.startsWith||(String.prototype.startsWith=function(I,h){return h=h||0,this.substr(h,I.length)===I}),String.prototype.endsWith||(String.prototype.endsWith=function(I,h){var i=this.toString();(typeof h!="number"||!isFinite(h)||Math.floor(h)!==h||h>i.length)&&(h=i.length),h-=I.length;var n=i.indexOf(I,h);return n!==-1&&n===h}),Array.prototype.find||Object.defineProperty(Array.prototype,"find",{value:function(I){if(this===null)throw new TypeError("Array.prototype.find called on null or undefined");if(typeof I!="function")throw new TypeError("predicate must be a function");for(var h,i=Object(this),n=i.length>>>0,o=arguments[1],a=0;a<n;a++)if(h=i[a],I.call(o,h,a,i))return h}}),document.addEventListener("DOMContentLoaded",function(){document.execCommand("enableObjectResizing",!1,!1),document.execCommand("autoUrlDetect",!1,!1)})},function(x,m){var y=-1,_=1,v=0;function I(p,f,l){if(p==f)return p?[[v,p]]:[];(l<0||p.length<l)&&(l=null);var S=i(p,f),k=p.substring(0,S);S=n(p=p.substring(S),f=f.substring(S));var P=p.substring(p.length-S),c=function(C,O){var L;if(!C)return[[_,O]];if(!O)return[[y,C]];var j=C.length>O.length?C:O,H=C.length>O.length?O:C,M=j.indexOf(H);if(M!=-1)return L=[[_,j.substring(0,M)],[v,H],[_,j.substring(M+H.length)]],C.length>O.length&&(L[0][0]=L[2][0]=y),L;if(H.length==1)return[[y,C],[_,O]];var B=function(q,ge){var de=q.length>ge.length?q:ge,ve=q.length>ge.length?ge:q;if(de.length<4||2*ve.length<de.length)return null;function oe(ye,Ve,Me){for(var Ge,je,Te,qe,Xe=ye.substring(Me,Me+Math.floor(ye.length/4)),be=-1,Ze="";(be=Ve.indexOf(Xe,be+1))!=-1;){var at=i(ye.substring(Me),Ve.substring(be)),et=n(ye.substring(0,Me),Ve.substring(0,be));Ze.length<et+at&&(Ze=Ve.substring(be-et,be)+Ve.substring(be,be+at),Ge=ye.substring(0,Me-et),je=ye.substring(Me+at),Te=Ve.substring(0,be-et),qe=Ve.substring(be+at))}return 2*Ze.length>=ye.length?[Ge,je,Te,qe,Ze]:null}var $,ee,se,re,_e,ke=oe(de,ve,Math.ceil(de.length/4)),Oe=oe(de,ve,Math.ceil(de.length/2));return ke||Oe?($=Oe?ke&&ke[4].length>Oe[4].length?ke:Oe:ke,q.length>ge.length?(ee=$[0],se=$[1],re=$[2],_e=$[3]):(re=$[0],_e=$[1],ee=$[2],se=$[3]),[ee,se,re,_e,$[4]]):null}(C,O);if(B){var U=B[0],W=B[1],R=B[2],F=B[3],V=B[4],z=I(U,R),T=I(W,F);return z.concat([[v,V]],T)}return function(q,ge){for(var de=q.length,ve=ge.length,oe=Math.ceil((de+ve)/2),$=oe,ee=2*oe,se=new Array(ee),re=new Array(ee),_e=0;_e<ee;_e++)se[_e]=-1,re[_e]=-1;se[$+1]=0,re[$+1]=0;for(var ke=de-ve,Oe=ke%2!=0,ye=0,Ve=0,Me=0,Ge=0,je=0;je<oe;je++){for(var Te=-je+ye;Te<=je-Ve;Te+=2){for(var qe=$+Te,Xe=(lt=Te==-je||Te!=je&&se[qe-1]<se[qe+1]?se[qe+1]:se[qe-1]+1)-Te;lt<de&&Xe<ve&&q.charAt(lt)==ge.charAt(Xe);)lt++,Xe++;if(se[qe]=lt,lt>de)Ve+=2;else if(Xe>ve)ye+=2;else if(Oe&&(at=$+ke-Te)>=0&&at<ee&&re[at]!=-1&&lt>=(Ze=de-re[at]))return h(q,ge,lt,Xe)}for(var be=-je+Me;be<=je-Ge;be+=2){for(var Ze,at=$+be,et=(Ze=be==-je||be!=je&&re[at-1]<re[at+1]?re[at+1]:re[at-1]+1)-be;Ze<de&&et<ve&&q.charAt(de-Ze-1)==ge.charAt(ve-et-1);)Ze++,et++;if(re[at]=Ze,Ze>de)Ge+=2;else if(et>ve)Me+=2;else if(!Oe){var lt;if((qe=$+ke-be)>=0&&qe<ee&&se[qe]!=-1&&(Xe=$+(lt=se[qe])-qe,lt>=(Ze=de-Ze)))return h(q,ge,lt,Xe)}}}return[[y,q],[_,ge]]}(C,O)}(p=p.substring(0,p.length-S),f=f.substring(0,f.length-S));return k&&c.unshift([v,k]),P&&c.push([v,P]),o(c),l!=null&&(c=function(C,O){var L=function(W,R){if(R===0)return[v,W];for(var F=0,V=0;V<W.length;V++){var z=W[V];if(z[0]===y||z[0]===v){var T=F+z[1].length;if(R===T)return[V+1,W];if(R<T){W=W.slice();var q=R-F,ge=[z[0],z[1].slice(0,q)],de=[z[0],z[1].slice(q)];return W.splice(V,1,ge,de),[V+1,W]}F=T}}throw new Error("cursor_pos is out of bounds!")}(C,O),j=L[1],H=L[0],M=j[H],B=j[H+1];if(M==null||M[0]!==v)return C;if(B!=null&&M[1]+B[1]===B[1]+M[1])return j.splice(H,2,B,M),d(j,H,2);if(B!=null&&B[1].indexOf(M[1])===0){j.splice(H,2,[B[0],M[1]],[0,M[1]]);var U=B[1].slice(M[1].length);return U.length>0&&j.splice(H+2,0,[B[0],U]),d(j,H,3)}return C}(c,l)),function(C){for(var O=!1,L=function(B){return B.charCodeAt(0)>=56320&&B.charCodeAt(0)<=57343},j=2;j<C.length;j+=1)C[j-2][0]===v&&(H=C[j-2][1]).charCodeAt(H.length-1)>=55296&&H.charCodeAt(H.length-1)<=56319&&C[j-1][0]===y&&L(C[j-1][1])&&C[j][0]===_&&L(C[j][1])&&(O=!0,C[j-1][1]=C[j-2][1].slice(-1)+C[j-1][1],C[j][1]=C[j-2][1].slice(-1)+C[j][1],C[j-2][1]=C[j-2][1].slice(0,-1));var H;if(!O)return C;var M=[];for(j=0;j<C.length;j+=1)C[j][1].length>0&&M.push(C[j]);return M}(c)}function h(p,f,l,S){var k=p.substring(0,l),P=f.substring(0,S),c=p.substring(l),C=f.substring(S),O=I(k,P),L=I(c,C);return O.concat(L)}function i(p,f){if(!p||!f||p.charAt(0)!=f.charAt(0))return 0;for(var l=0,S=Math.min(p.length,f.length),k=S,P=0;l<k;)p.substring(P,k)==f.substring(P,k)?P=l=k:S=k,k=Math.floor((S-l)/2+l);return k}function n(p,f){if(!p||!f||p.charAt(p.length-1)!=f.charAt(f.length-1))return 0;for(var l=0,S=Math.min(p.length,f.length),k=S,P=0;l<k;)p.substring(p.length-k,p.length-P)==f.substring(f.length-k,f.length-P)?P=l=k:S=k,k=Math.floor((S-l)/2+l);return k}function o(p){p.push([v,""]);for(var f,l=0,S=0,k=0,P="",c="";l<p.length;)switch(p[l][0]){case _:k++,c+=p[l][1],l++;break;case y:S++,P+=p[l][1],l++;break;case v:S+k>1?(S!==0&&k!==0&&((f=i(c,P))!==0&&(l-S-k>0&&p[l-S-k-1][0]==v?p[l-S-k-1][1]+=c.substring(0,f):(p.splice(0,0,[v,c.substring(0,f)]),l++),c=c.substring(f),P=P.substring(f)),(f=n(c,P))!==0&&(p[l][1]=c.substring(c.length-f)+p[l][1],c=c.substring(0,c.length-f),P=P.substring(0,P.length-f))),S===0?p.splice(l-k,S+k,[_,c]):k===0?p.splice(l-S,S+k,[y,P]):p.splice(l-S-k,S+k,[y,P],[_,c]),l=l-S-k+(S?1:0)+(k?1:0)+1):l!==0&&p[l-1][0]==v?(p[l-1][1]+=p[l][1],p.splice(l,1)):l++,k=0,S=0,P="",c=""}p[p.length-1][1]===""&&p.pop();var C=!1;for(l=1;l<p.length-1;)p[l-1][0]==v&&p[l+1][0]==v&&(p[l][1].substring(p[l][1].length-p[l-1][1].length)==p[l-1][1]?(p[l][1]=p[l-1][1]+p[l][1].substring(0,p[l][1].length-p[l-1][1].length),p[l+1][1]=p[l-1][1]+p[l+1][1],p.splice(l-1,1),C=!0):p[l][1].substring(0,p[l+1][1].length)==p[l+1][1]&&(p[l-1][1]+=p[l+1][1],p[l][1]=p[l][1].substring(p[l+1][1].length)+p[l+1][1],p.splice(l+1,1),C=!0)),l++;C&&o(p)}var a=I;function d(p,f,l){for(var S=f+l-1;S>=0&&S>=f-1;S--)if(S+1<p.length){var k=p[S],P=p[S+1];k[0]===P[1]&&p.splice(S,2,[k[0],k[1]+P[1]])}return p}a.INSERT=_,a.DELETE=y,a.EQUAL=v,x.exports=a},function(x,m){function y(_){var v=[];for(var I in _)v.push(I);return v}(x.exports=typeof Object.keys=="function"?Object.keys:y).shim=y},function(x,m){var y=function(){return Object.prototype.toString.call(arguments)}()=="[object Arguments]";function _(I){return Object.prototype.toString.call(I)=="[object Arguments]"}function v(I){return I&&typeof I=="object"&&typeof I.length=="number"&&Object.prototype.hasOwnProperty.call(I,"callee")&&!Object.prototype.propertyIsEnumerable.call(I,"callee")||!1}(m=x.exports=y?_:v).supported=_,m.unsupported=v},function(x,m){"use strict";var y=Object.prototype.hasOwnProperty,_="~";function v(){}function I(i,n,o){this.fn=i,this.context=n,this.once=o||!1}function h(){this._events=new v,this._eventsCount=0}Object.create&&(v.prototype=Object.create(null),new v().__proto__||(_=!1)),h.prototype.eventNames=function(){var i,n,o=[];if(this._eventsCount===0)return o;for(n in i=this._events)y.call(i,n)&&o.push(_?n.slice(1):n);return Object.getOwnPropertySymbols?o.concat(Object.getOwnPropertySymbols(i)):o},h.prototype.listeners=function(i,n){var o=_?_+i:i,a=this._events[o];if(n)return!!a;if(!a)return[];if(a.fn)return[a.fn];for(var d=0,p=a.length,f=new Array(p);d<p;d++)f[d]=a[d].fn;return f},h.prototype.emit=function(i,n,o,a,d,p){var f=_?_+i:i;if(!this._events[f])return!1;var l,S,k=this._events[f],P=arguments.length;if(k.fn){switch(k.once&&this.removeListener(i,k.fn,void 0,!0),P){case 1:return k.fn.call(k.context),!0;case 2:return k.fn.call(k.context,n),!0;case 3:return k.fn.call(k.context,n,o),!0;case 4:return k.fn.call(k.context,n,o,a),!0;case 5:return k.fn.call(k.context,n,o,a,d),!0;case 6:return k.fn.call(k.context,n,o,a,d,p),!0}for(S=1,l=new Array(P-1);S<P;S++)l[S-1]=arguments[S];k.fn.apply(k.context,l)}else{var c,C=k.length;for(S=0;S<C;S++)switch(k[S].once&&this.removeListener(i,k[S].fn,void 0,!0),P){case 1:k[S].fn.call(k[S].context);break;case 2:k[S].fn.call(k[S].context,n);break;case 3:k[S].fn.call(k[S].context,n,o);break;case 4:k[S].fn.call(k[S].context,n,o,a);break;default:if(!l)for(c=1,l=new Array(P-1);c<P;c++)l[c-1]=arguments[c];k[S].fn.apply(k[S].context,l)}}return!0},h.prototype.on=function(i,n,o){var a=new I(n,o||this),d=_?_+i:i;return this._events[d]?this._events[d].fn?this._events[d]=[this._events[d],a]:this._events[d].push(a):(this._events[d]=a,this._eventsCount++),this},h.prototype.once=function(i,n,o){var a=new I(n,o||this,!0),d=_?_+i:i;return this._events[d]?this._events[d].fn?this._events[d]=[this._events[d],a]:this._events[d].push(a):(this._events[d]=a,this._eventsCount++),this},h.prototype.removeListener=function(i,n,o,a){var d=_?_+i:i;if(!this._events[d])return this;if(!n)return--this._eventsCount==0?this._events=new v:delete this._events[d],this;var p=this._events[d];if(p.fn)p.fn!==n||a&&!p.once||o&&p.context!==o||(--this._eventsCount==0?this._events=new v:delete this._events[d]);else{for(var f=0,l=[],S=p.length;f<S;f++)(p[f].fn!==n||a&&!p[f].once||o&&p[f].context!==o)&&l.push(p[f]);l.length?this._events[d]=l.length===1?l[0]:l:--this._eventsCount==0?this._events=new v:delete this._events[d]}return this},h.prototype.removeAllListeners=function(i){var n;return i?(n=_?_+i:i,this._events[n]&&(--this._eventsCount==0?this._events=new v:delete this._events[n])):(this._events=new v,this._eventsCount=0),this},h.prototype.off=h.prototype.removeListener,h.prototype.addListener=h.prototype.on,h.prototype.setMaxListeners=function(){return this},h.prefixed=_,h.EventEmitter=h,x!==void 0&&(x.exports=h)},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.matchText=m.matchSpacing=m.matchNewline=m.matchBlot=m.matchAttributor=m.default=void 0;var _=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function($){return typeof $}:function($){return $&&typeof Symbol=="function"&&$.constructor===Symbol&&$!==Symbol.prototype?"symbol":typeof $},v=function($,ee){if(Array.isArray($))return $;if(Symbol.iterator in Object($))return function(se,re){var _e=[],ke=!0,Oe=!1,ye=void 0;try{for(var Ve,Me=se[Symbol.iterator]();!(ke=(Ve=Me.next()).done)&&(_e.push(Ve.value),!re||_e.length!==re);ke=!0);}catch(Ge){Oe=!0,ye=Ge}finally{try{!ke&&Me.return&&Me.return()}finally{if(Oe)throw ye}}return _e}($,ee);throw new TypeError("Invalid attempt to destructure non-iterable instance")},I=function(){function $(ee,se){for(var re=0;re<se.length;re++){var _e=se[re];_e.enumerable=_e.enumerable||!1,_e.configurable=!0,"value"in _e&&(_e.writable=!0),Object.defineProperty(ee,_e.key,_e)}}return function(ee,se,re){return se&&$(ee.prototype,se),re&&$(ee,re),ee}}(),h=C(y(3)),i=C(y(2)),n=C(y(0)),o=C(y(5)),a=C(y(10)),d=C(y(9)),p=y(36),f=y(37),l=C(y(13)),S=y(26),k=y(38),P=y(39),c=y(40);function C($){return $&&$.__esModule?$:{default:$}}function O($,ee,se){return ee in $?Object.defineProperty($,ee,{value:se,enumerable:!0,configurable:!0,writable:!0}):$[ee]=se,$}var L=(0,a.default)("quill:clipboard"),j="__ql-matcher",H=[[Node.TEXT_NODE,oe],[Node.TEXT_NODE,de],["br",function($,ee){return F(ee,`
`)||ee.insert(`
`),ee}],[Node.ELEMENT_NODE,de],[Node.ELEMENT_NODE,ge],[Node.ELEMENT_NODE,ve],[Node.ELEMENT_NODE,q],[Node.ELEMENT_NODE,function($,ee){var se={},re=$.style||{};return re.fontStyle&&R($).fontStyle==="italic"&&(se.italic=!0),re.fontWeight&&(R($).fontWeight.startsWith("bold")||parseInt(R($).fontWeight)>=700)&&(se.bold=!0),Object.keys(se).length>0&&(ee=W(ee,se)),parseFloat(re.textIndent||0)>0&&(ee=new i.default().insert("	").concat(ee)),ee}],["li",function($,ee){var se=n.default.query($);if(se==null||se.blotName!=="list-item"||!F(ee,`
`))return ee;for(var re=-1,_e=$.parentNode;!_e.classList.contains("ql-clipboard");)(n.default.query(_e)||{}).blotName==="list"&&(re+=1),_e=_e.parentNode;return re<=0?ee:ee.compose(new i.default().retain(ee.length()-1).retain(1,{indent:re}))}],["b",T.bind(T,"bold")],["i",T.bind(T,"italic")],["style",function(){return new i.default}]],M=[p.AlignAttribute,k.DirectionAttribute].reduce(function($,ee){return $[ee.keyName]=ee,$},{}),B=[p.AlignStyle,f.BackgroundStyle,S.ColorStyle,k.DirectionStyle,P.FontStyle,c.SizeStyle].reduce(function($,ee){return $[ee.keyName]=ee,$},{}),U=function($){function ee(se,re){(function(ke,Oe){if(!(ke instanceof Oe))throw new TypeError("Cannot call a class as a function")})(this,ee);var _e=function(ke,Oe){if(!ke)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!Oe||typeof Oe!="object"&&typeof Oe!="function"?ke:Oe}(this,(ee.__proto__||Object.getPrototypeOf(ee)).call(this,se,re));return _e.quill.root.addEventListener("paste",_e.onPaste.bind(_e)),_e.container=_e.quill.addContainer("ql-clipboard"),_e.container.setAttribute("contenteditable",!0),_e.container.setAttribute("tabindex",-1),_e.matchers=[],H.concat(_e.options.matchers).forEach(function(ke){var Oe=v(ke,2),ye=Oe[0],Ve=Oe[1];(re.matchVisual||Ve!==ve)&&_e.addMatcher(ye,Ve)}),_e}return function(se,re){if(typeof re!="function"&&re!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof re);se.prototype=Object.create(re&&re.prototype,{constructor:{value:se,enumerable:!1,writable:!0,configurable:!0}}),re&&(Object.setPrototypeOf?Object.setPrototypeOf(se,re):se.__proto__=re)}(ee,$),I(ee,[{key:"addMatcher",value:function(se,re){this.matchers.push([se,re])}},{key:"convert",value:function(se){if(typeof se=="string")return this.container.innerHTML=se.replace(/\>\r?\n +\</g,"><"),this.convert();var re=this.quill.getFormat(this.quill.selection.savedRange.index);if(re[l.default.blotName]){var _e=this.container.innerText;return this.container.innerHTML="",new i.default().insert(_e,O({},l.default.blotName,re[l.default.blotName]))}var ke=this.prepareMatching(),Oe=v(ke,2),ye=Oe[0],Ve=Oe[1],Me=z(this.container,ye,Ve);return F(Me,`
`)&&Me.ops[Me.ops.length-1].attributes==null&&(Me=Me.compose(new i.default().retain(Me.length()-1).delete(1))),L.log("convert",this.container.innerHTML,Me),this.container.innerHTML="",Me}},{key:"dangerouslyPasteHTML",value:function(se,re){var _e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:o.default.sources.API;if(typeof se=="string")this.quill.setContents(this.convert(se),re),this.quill.setSelection(0,o.default.sources.SILENT);else{var ke=this.convert(re);this.quill.updateContents(new i.default().retain(se).concat(ke),_e),this.quill.setSelection(se+ke.length(),o.default.sources.SILENT)}}},{key:"onPaste",value:function(se){var re=this;if(!se.defaultPrevented&&this.quill.isEnabled()){var _e=this.quill.getSelection(),ke=new i.default().retain(_e.index),Oe=this.quill.scrollingContainer.scrollTop;this.container.focus(),this.quill.selection.update(o.default.sources.SILENT),setTimeout(function(){ke=ke.concat(re.convert()).delete(_e.length),re.quill.updateContents(ke,o.default.sources.USER),re.quill.setSelection(ke.length()-_e.length,o.default.sources.SILENT),re.quill.scrollingContainer.scrollTop=Oe,re.quill.focus()},1)}}},{key:"prepareMatching",value:function(){var se=this,re=[],_e=[];return this.matchers.forEach(function(ke){var Oe=v(ke,2),ye=Oe[0],Ve=Oe[1];switch(ye){case Node.TEXT_NODE:_e.push(Ve);break;case Node.ELEMENT_NODE:re.push(Ve);break;default:[].forEach.call(se.container.querySelectorAll(ye),function(Me){Me[j]=Me[j]||[],Me[j].push(Ve)})}}),[re,_e]}}]),ee}(d.default);function W($,ee,se){return(ee===void 0?"undefined":_(ee))==="object"?Object.keys(ee).reduce(function(re,_e){return W(re,_e,ee[_e])},$):$.reduce(function(re,_e){return _e.attributes&&_e.attributes[ee]?re.push(_e):re.insert(_e.insert,(0,h.default)({},O({},ee,se),_e.attributes))},new i.default)}function R($){if($.nodeType!==Node.ELEMENT_NODE)return{};var ee="__ql-computed-style";return $[ee]||($[ee]=window.getComputedStyle($))}function F($,ee){for(var se="",re=$.ops.length-1;re>=0&&se.length<ee.length;--re){var _e=$.ops[re];if(typeof _e.insert!="string")break;se=_e.insert+se}return se.slice(-1*ee.length)===ee}function V($){if($.childNodes.length===0)return!1;var ee=R($);return["block","list-item"].indexOf(ee.display)>-1}function z($,ee,se){return $.nodeType===$.TEXT_NODE?se.reduce(function(re,_e){return _e($,re)},new i.default):$.nodeType===$.ELEMENT_NODE?[].reduce.call($.childNodes||[],function(re,_e){var ke=z(_e,ee,se);return _e.nodeType===$.ELEMENT_NODE&&(ke=ee.reduce(function(Oe,ye){return ye(_e,Oe)},ke),ke=(_e[j]||[]).reduce(function(Oe,ye){return ye(_e,Oe)},ke)),re.concat(ke)},new i.default):new i.default}function T($,ee,se){return W(se,$,!0)}function q($,ee){var se=n.default.Attributor.Attribute.keys($),re=n.default.Attributor.Class.keys($),_e=n.default.Attributor.Style.keys($),ke={};return se.concat(re).concat(_e).forEach(function(Oe){var ye=n.default.query(Oe,n.default.Scope.ATTRIBUTE);ye!=null&&(ke[ye.attrName]=ye.value($),ke[ye.attrName])||((ye=M[Oe])==null||ye.attrName!==Oe&&ye.keyName!==Oe||(ke[ye.attrName]=ye.value($)||void 0),(ye=B[Oe])==null||ye.attrName!==Oe&&ye.keyName!==Oe||(ye=B[Oe],ke[ye.attrName]=ye.value($)||void 0))}),Object.keys(ke).length>0&&(ee=W(ee,ke)),ee}function ge($,ee){var se=n.default.query($);if(se==null)return ee;if(se.prototype instanceof n.default.Embed){var re={},_e=se.value($);_e!=null&&(re[se.blotName]=_e,ee=new i.default().insert(re,se.formats($)))}else typeof se.formats=="function"&&(ee=W(ee,se.blotName,se.formats($)));return ee}function de($,ee){return F(ee,`
`)||(V($)||ee.length()>0&&$.nextSibling&&V($.nextSibling))&&ee.insert(`
`),ee}function ve($,ee){if(V($)&&$.nextElementSibling!=null&&!F(ee,`

`)){var se=$.offsetHeight+parseFloat(R($).marginTop)+parseFloat(R($).marginBottom);$.nextElementSibling.offsetTop>$.offsetTop+1.5*se&&ee.insert(`
`)}return ee}function oe($,ee){var se=$.data;if($.parentNode.tagName==="O:P")return ee.insert(se.trim());if(se.trim().length===0&&$.parentNode.classList.contains("ql-clipboard"))return ee;if(!R($.parentNode).whiteSpace.startsWith("pre")){var re=function(_e,ke){return(ke=ke.replace(/[^\u00a0]/g,"")).length<1&&_e?" ":ke};se=(se=se.replace(/\r\n/g," ").replace(/\n/g," ")).replace(/\s\s+/g,re.bind(re,!0)),($.previousSibling==null&&V($.parentNode)||$.previousSibling!=null&&V($.previousSibling))&&(se=se.replace(/^\s+/,re.bind(re,!1))),($.nextSibling==null&&V($.parentNode)||$.nextSibling!=null&&V($.nextSibling))&&(se=se.replace(/\s+$/,re.bind(re,!1)))}return ee.insert(se)}U.DEFAULTS={matchers:[],matchVisual:!0},m.default=U,m.matchAttributor=q,m.matchBlot=ge,m.matchNewline=de,m.matchSpacing=ve,m.matchText=oe},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _,v=function(){function i(n,o){for(var a=0;a<o.length;a++){var d=o[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,o,a){return o&&i(n.prototype,o),a&&i(n,a),n}}(),I=function i(n,o,a){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,o);if(d===void 0){var p=Object.getPrototypeOf(n);return p===null?void 0:i(p,o,a)}if("value"in d)return d.value;var f=d.get;return f!==void 0?f.call(a):void 0},h=function(i){function n(){return function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}(this,n),function(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?o:a}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(o,a):o.__proto__=a)}(n,i),v(n,[{key:"optimize",value:function(o){I(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"optimize",this).call(this,o),this.domNode.tagName!==this.statics.tagName[0]&&this.replaceWith(this.statics.blotName)}}],[{key:"create",value:function(){return I(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this)}},{key:"formats",value:function(){return!0}}]),n}(((_=y(6))&&_.__esModule?_:{default:_}).default);h.blotName="bold",h.tagName=["STRONG","B"],m.default=h},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.addControls=m.default=void 0;var _=function(k,P){if(Array.isArray(k))return k;if(Symbol.iterator in Object(k))return function(c,C){var O=[],L=!0,j=!1,H=void 0;try{for(var M,B=c[Symbol.iterator]();!(L=(M=B.next()).done)&&(O.push(M.value),!C||O.length!==C);L=!0);}catch(U){j=!0,H=U}finally{try{!L&&B.return&&B.return()}finally{if(j)throw H}}return O}(k,P);throw new TypeError("Invalid attempt to destructure non-iterable instance")},v=function(){function k(P,c){for(var C=0;C<c.length;C++){var O=c[C];O.enumerable=O.enumerable||!1,O.configurable=!0,"value"in O&&(O.writable=!0),Object.defineProperty(P,O.key,O)}}return function(P,c,C){return c&&k(P.prototype,c),C&&k(P,C),P}}(),I=a(y(2)),h=a(y(0)),i=a(y(5)),n=a(y(10)),o=a(y(9));function a(k){return k&&k.__esModule?k:{default:k}}function d(k,P){if(!k)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!P||typeof P!="object"&&typeof P!="function"?k:P}var p=(0,n.default)("quill:toolbar"),f=function(k){function P(c,C){(function(H,M){if(!(H instanceof M))throw new TypeError("Cannot call a class as a function")})(this,P);var O,L=d(this,(P.__proto__||Object.getPrototypeOf(P)).call(this,c,C));if(Array.isArray(L.options.container)){var j=document.createElement("div");S(j,L.options.container),c.container.parentNode.insertBefore(j,c.container),L.container=j}else typeof L.options.container=="string"?L.container=document.querySelector(L.options.container):L.container=L.options.container;return L.container instanceof HTMLElement?(L.container.classList.add("ql-toolbar"),L.controls=[],L.handlers={},Object.keys(L.options.handlers).forEach(function(H){L.addHandler(H,L.options.handlers[H])}),[].forEach.call(L.container.querySelectorAll("button, select"),function(H){L.attach(H)}),L.quill.on(i.default.events.EDITOR_CHANGE,function(H,M){H===i.default.events.SELECTION_CHANGE&&L.update(M)}),L.quill.on(i.default.events.SCROLL_OPTIMIZE,function(){var H=L.quill.selection.getRange(),M=_(H,1)[0];L.update(M)}),L):(O=p.error("Container required for toolbar",L.options),d(L,O))}return function(c,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);c.prototype=Object.create(C&&C.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(c,C):c.__proto__=C)}(P,k),v(P,[{key:"addHandler",value:function(c,C){this.handlers[c]=C}},{key:"attach",value:function(c){var C=this,O=[].find.call(c.classList,function(j){return j.indexOf("ql-")===0});if(O){if(O=O.slice(3),c.tagName==="BUTTON"&&c.setAttribute("type","button"),this.handlers[O]==null){if(this.quill.scroll.whitelist!=null&&this.quill.scroll.whitelist[O]==null)return void p.warn("ignoring attaching to disabled format",O,c);if(h.default.query(O)==null)return void p.warn("ignoring attaching to nonexistent format",O,c)}var L=c.tagName==="SELECT"?"change":"click";c.addEventListener(L,function(j){var H=void 0;if(c.tagName==="SELECT"){if(c.selectedIndex<0)return;var M=c.options[c.selectedIndex];H=!M.hasAttribute("selected")&&(M.value||!1)}else H=!c.classList.contains("ql-active")&&(c.value||!c.hasAttribute("value")),j.preventDefault();C.quill.focus();var B=C.quill.selection.getRange(),U=_(B,1)[0];if(C.handlers[O]!=null)C.handlers[O].call(C,H);else if(h.default.query(O).prototype instanceof h.default.Embed){if(!(H=prompt("Enter "+O)))return;C.quill.updateContents(new I.default().retain(U.index).delete(U.length).insert(function(W,R,F){return R in W?Object.defineProperty(W,R,{value:F,enumerable:!0,configurable:!0,writable:!0}):W[R]=F,W}({},O,H)),i.default.sources.USER)}else C.quill.format(O,H,i.default.sources.USER);C.update(U)}),this.controls.push([O,c])}}},{key:"update",value:function(c){var C=c==null?{}:this.quill.getFormat(c);this.controls.forEach(function(O){var L=_(O,2),j=L[0],H=L[1];if(H.tagName==="SELECT"){var M=void 0;if(c==null)M=null;else if(C[j]==null)M=H.querySelector("option[selected]");else if(!Array.isArray(C[j])){var B=C[j];typeof B=="string"&&(B=B.replace(/\"/g,'\\"')),M=H.querySelector('option[value="'+B+'"]')}M==null?(H.value="",H.selectedIndex=-1):M.selected=!0}else if(c==null)H.classList.remove("ql-active");else if(H.hasAttribute("value")){var U=C[j]===H.getAttribute("value")||C[j]!=null&&C[j].toString()===H.getAttribute("value")||C[j]==null&&!H.getAttribute("value");H.classList.toggle("ql-active",U)}else H.classList.toggle("ql-active",C[j]!=null)})}}]),P}(o.default);function l(k,P,c){var C=document.createElement("button");C.setAttribute("type","button"),C.classList.add("ql-"+P),c!=null&&(C.value=c),k.appendChild(C)}function S(k,P){Array.isArray(P[0])||(P=[P]),P.forEach(function(c){var C=document.createElement("span");C.classList.add("ql-formats"),c.forEach(function(O){if(typeof O=="string")l(C,O);else{var L=Object.keys(O)[0],j=O[L];Array.isArray(j)?function(H,M,B){var U=document.createElement("select");U.classList.add("ql-"+M),B.forEach(function(W){var R=document.createElement("option");W!==!1?R.setAttribute("value",W):R.setAttribute("selected","selected"),U.appendChild(R)}),H.appendChild(U)}(C,L,j):l(C,L,j)}}),k.appendChild(C)})}f.DEFAULTS={},f.DEFAULTS={container:null,handlers:{clean:function(){var k=this,P=this.quill.getSelection();if(P!=null)if(P.length==0){var c=this.quill.getFormat();Object.keys(c).forEach(function(C){h.default.query(C,h.default.Scope.INLINE)!=null&&k.quill.format(C,!1)})}else this.quill.removeFormat(P,i.default.sources.USER)},direction:function(k){var P=this.quill.getFormat().align;k==="rtl"&&P==null?this.quill.format("align","right",i.default.sources.USER):k||P!=="right"||this.quill.format("align",!1,i.default.sources.USER),this.quill.format("direction",k,i.default.sources.USER)},indent:function(k){var P=this.quill.getSelection(),c=this.quill.getFormat(P),C=parseInt(c.indent||0);if(k==="+1"||k==="-1"){var O=k==="+1"?1:-1;c.direction==="rtl"&&(O*=-1),this.quill.format("indent",C+O,i.default.sources.USER)}},link:function(k){k===!0&&(k=prompt("Enter link URL:")),this.quill.format("link",k,i.default.sources.USER)},list:function(k){var P=this.quill.getSelection(),c=this.quill.getFormat(P);k==="check"?c.list==="checked"||c.list==="unchecked"?this.quill.format("list",!1,i.default.sources.USER):this.quill.format("list","unchecked",i.default.sources.USER):this.quill.format("list",k,i.default.sources.USER)}}},m.default=f,m.addControls=S},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <polyline class="ql-even ql-stroke" points="5 7 3 9 5 11"></polyline> <polyline class="ql-even ql-stroke" points="13 7 15 9 13 11"></polyline> <line class=ql-stroke x1=10 x2=8 y1=5 y2=13></line> </svg>'},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _,v=function(){function i(n,o){for(var a=0;a<o.length;a++){var d=o[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,o,a){return o&&i(n.prototype,o),a&&i(n,a),n}}(),I=function i(n,o,a){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,o);if(d===void 0){var p=Object.getPrototypeOf(n);return p===null?void 0:i(p,o,a)}if("value"in d)return d.value;var f=d.get;return f!==void 0?f.call(a):void 0},h=function(i){function n(o,a){(function(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,n);var d=function(p,f){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?p:f}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,o));return d.label.innerHTML=a,d.container.classList.add("ql-color-picker"),[].slice.call(d.container.querySelectorAll(".ql-picker-item"),0,7).forEach(function(p){p.classList.add("ql-primary")}),d}return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(o,a):o.__proto__=a)}(n,i),v(n,[{key:"buildItem",value:function(o){var a=I(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"buildItem",this).call(this,o);return a.style.backgroundColor=o.getAttribute("value")||"",a}},{key:"selectItem",value:function(o,a){I(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"selectItem",this).call(this,o,a);var d=this.label.querySelector(".ql-color-label"),p=o&&o.getAttribute("data-value")||"";d&&(d.tagName==="line"?d.style.stroke=p:d.style.fill=p)}}]),n}(((_=y(28))&&_.__esModule?_:{default:_}).default);m.default=h},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _,v=function(){function i(n,o){for(var a=0;a<o.length;a++){var d=o[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,o,a){return o&&i(n.prototype,o),a&&i(n,a),n}}(),I=function i(n,o,a){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,o);if(d===void 0){var p=Object.getPrototypeOf(n);return p===null?void 0:i(p,o,a)}if("value"in d)return d.value;var f=d.get;return f!==void 0?f.call(a):void 0},h=function(i){function n(o,a){(function(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")})(this,n);var d=function(p,f){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?p:f}(this,(n.__proto__||Object.getPrototypeOf(n)).call(this,o));return d.container.classList.add("ql-icon-picker"),[].forEach.call(d.container.querySelectorAll(".ql-picker-item"),function(p){p.innerHTML=a[p.getAttribute("data-value")||""]}),d.defaultItem=d.container.querySelector(".ql-selected"),d.selectItem(d.defaultItem),d}return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(o,a):o.__proto__=a)}(n,i),v(n,[{key:"selectItem",value:function(o,a){I(n.prototype.__proto__||Object.getPrototypeOf(n.prototype),"selectItem",this).call(this,o,a),o=o||this.defaultItem,this.label.innerHTML=o.innerHTML}}]),n}(((_=y(28))&&_.__esModule?_:{default:_}).default);m.default=h},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=function(){function I(h,i){for(var n=0;n<i.length;n++){var o=i[n];o.enumerable=o.enumerable||!1,o.configurable=!0,"value"in o&&(o.writable=!0),Object.defineProperty(h,o.key,o)}}return function(h,i,n){return i&&I(h.prototype,i),n&&I(h,n),h}}(),v=function(){function I(h,i){var n=this;(function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")})(this,I),this.quill=h,this.boundsContainer=i||document.body,this.root=h.addContainer("ql-tooltip"),this.root.innerHTML=this.constructor.TEMPLATE,this.quill.root===this.quill.scrollingContainer&&this.quill.root.addEventListener("scroll",function(){n.root.style.marginTop=-1*n.quill.root.scrollTop+"px"}),this.hide()}return _(I,[{key:"hide",value:function(){this.root.classList.add("ql-hidden")}},{key:"position",value:function(h){var i=h.left+h.width/2-this.root.offsetWidth/2,n=h.bottom+this.quill.root.scrollTop;this.root.style.left=i+"px",this.root.style.top=n+"px",this.root.classList.remove("ql-flip");var o=this.boundsContainer.getBoundingClientRect(),a=this.root.getBoundingClientRect(),d=0;if(a.right>o.right&&(d=o.right-a.right,this.root.style.left=i+d+"px"),a.left<o.left&&(d=o.left-a.left,this.root.style.left=i+d+"px"),a.bottom>o.bottom){var p=a.bottom-a.top,f=h.bottom-h.top+p;this.root.style.top=n-f+"px",this.root.classList.add("ql-flip")}return d}},{key:"show",value:function(){this.root.classList.remove("ql-editing"),this.root.classList.remove("ql-hidden")}}]),I}();m.default=v},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=function C(O,L,j){O===null&&(O=Function.prototype);var H=Object.getOwnPropertyDescriptor(O,L);if(H===void 0){var M=Object.getPrototypeOf(O);return M===null?void 0:C(M,L,j)}if("value"in H)return H.value;var B=H.get;return B!==void 0?B.call(j):void 0},v=function(){function C(O,L){for(var j=0;j<L.length;j++){var H=L[j];H.enumerable=H.enumerable||!1,H.configurable=!0,"value"in H&&(H.writable=!0),Object.defineProperty(O,H.key,H)}}return function(O,L,j){return L&&C(O.prototype,L),j&&C(O,j),O}}(),I=p(y(3)),h=p(y(8)),i=y(43),n=p(i),o=p(y(27)),a=y(15),d=p(y(41));function p(C){return C&&C.__esModule?C:{default:C}}function f(C,O){if(!(C instanceof O))throw new TypeError("Cannot call a class as a function")}function l(C,O){if(!C)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!O||typeof O!="object"&&typeof O!="function"?C:O}function S(C,O){if(typeof O!="function"&&O!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof O);C.prototype=Object.create(O&&O.prototype,{constructor:{value:C,enumerable:!1,writable:!0,configurable:!0}}),O&&(Object.setPrototypeOf?Object.setPrototypeOf(C,O):C.__proto__=O)}var k=[[{header:["1","2","3",!1]}],["bold","italic","underline","link"],[{list:"ordered"},{list:"bullet"}],["clean"]],P=function(C){function O(L,j){f(this,O),j.modules.toolbar!=null&&j.modules.toolbar.container==null&&(j.modules.toolbar.container=k);var H=l(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,L,j));return H.quill.container.classList.add("ql-snow"),H}return S(O,C),v(O,[{key:"extendToolbar",value:function(L){L.container.classList.add("ql-snow"),this.buildButtons([].slice.call(L.container.querySelectorAll("button")),d.default),this.buildPickers([].slice.call(L.container.querySelectorAll("select")),d.default),this.tooltip=new c(this.quill,this.options.bounds),L.container.querySelector(".ql-link")&&this.quill.keyboard.addBinding({key:"K",shortKey:!0},function(j,H){L.handlers.link.call(L,!H.format.link)})}}]),O}(n.default);P.DEFAULTS=(0,I.default)(!0,{},n.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(C){if(C){var O=this.quill.getSelection();if(O==null||O.length==0)return;var L=this.quill.getText(O);/^\S+@\S+\.\S+$/.test(L)&&L.indexOf("mailto:")!==0&&(L="mailto:"+L),this.quill.theme.tooltip.edit("link",L)}else this.quill.format("link",!1)}}}}});var c=function(C){function O(L,j){f(this,O);var H=l(this,(O.__proto__||Object.getPrototypeOf(O)).call(this,L,j));return H.preview=H.root.querySelector("a.ql-preview"),H}return S(O,C),v(O,[{key:"listen",value:function(){var L=this;_(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"listen",this).call(this),this.root.querySelector("a.ql-action").addEventListener("click",function(j){L.root.classList.contains("ql-editing")?L.save():L.edit("link",L.preview.textContent),j.preventDefault()}),this.root.querySelector("a.ql-remove").addEventListener("click",function(j){if(L.linkRange!=null){var H=L.linkRange;L.restoreFocus(),L.quill.formatText(H,"link",!1,h.default.sources.USER),delete L.linkRange}j.preventDefault(),L.hide()}),this.quill.on(h.default.events.SELECTION_CHANGE,function(j,H,M){if(j!=null){if(j.length===0&&M===h.default.sources.USER){var B=function(F,V){if(Array.isArray(F))return F;if(Symbol.iterator in Object(F))return function(z,T){var q=[],ge=!0,de=!1,ve=void 0;try{for(var oe,$=z[Symbol.iterator]();!(ge=(oe=$.next()).done)&&(q.push(oe.value),!T||q.length!==T);ge=!0);}catch(ee){de=!0,ve=ee}finally{try{!ge&&$.return&&$.return()}finally{if(de)throw ve}}return q}(F,V);throw new TypeError("Invalid attempt to destructure non-iterable instance")}(L.quill.scroll.descendant(o.default,j.index),2),U=B[0],W=B[1];if(U!=null){L.linkRange=new a.Range(j.index-W,U.length());var R=o.default.formats(U.domNode);return L.preview.textContent=R,L.preview.setAttribute("href",R),L.show(),void L.position(L.quill.getBounds(L.linkRange))}}else delete L.linkRange;L.hide()}})}},{key:"show",value:function(){_(O.prototype.__proto__||Object.getPrototypeOf(O.prototype),"show",this).call(this),this.root.removeAttribute("data-mode")}}]),O}(i.BaseTooltip);c.TEMPLATE=['<a class="ql-preview" rel="noopener noreferrer" target="_blank" href="about:blank"></a>','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-action"></a>','<a class="ql-remove"></a>'].join(""),m.default=P},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _=de(y(29)),v=y(36),I=y(38),h=y(64),i=de(y(65)),n=de(y(66)),o=y(67),a=de(o),d=y(37),p=y(26),f=y(39),l=y(40),S=de(y(56)),k=de(y(68)),P=de(y(27)),c=de(y(69)),C=de(y(70)),O=de(y(71)),L=de(y(72)),j=de(y(73)),H=y(13),M=de(H),B=de(y(74)),U=de(y(75)),W=de(y(57)),R=de(y(41)),F=de(y(28)),V=de(y(59)),z=de(y(60)),T=de(y(61)),q=de(y(108)),ge=de(y(62));function de(ve){return ve&&ve.__esModule?ve:{default:ve}}_.default.register({"attributors/attribute/direction":I.DirectionAttribute,"attributors/class/align":v.AlignClass,"attributors/class/background":d.BackgroundClass,"attributors/class/color":p.ColorClass,"attributors/class/direction":I.DirectionClass,"attributors/class/font":f.FontClass,"attributors/class/size":l.SizeClass,"attributors/style/align":v.AlignStyle,"attributors/style/background":d.BackgroundStyle,"attributors/style/color":p.ColorStyle,"attributors/style/direction":I.DirectionStyle,"attributors/style/font":f.FontStyle,"attributors/style/size":l.SizeStyle},!0),_.default.register({"formats/align":v.AlignClass,"formats/direction":I.DirectionClass,"formats/indent":h.IndentClass,"formats/background":d.BackgroundStyle,"formats/color":p.ColorStyle,"formats/font":f.FontClass,"formats/size":l.SizeClass,"formats/blockquote":i.default,"formats/code-block":M.default,"formats/header":n.default,"formats/list":a.default,"formats/bold":S.default,"formats/code":H.Code,"formats/italic":k.default,"formats/link":P.default,"formats/script":c.default,"formats/strike":C.default,"formats/underline":O.default,"formats/image":L.default,"formats/video":j.default,"formats/list/item":o.ListItem,"modules/formula":B.default,"modules/syntax":U.default,"modules/toolbar":W.default,"themes/bubble":q.default,"themes/snow":ge.default,"ui/icons":R.default,"ui/picker":F.default,"ui/icon-picker":z.default,"ui/color-picker":V.default,"ui/tooltip":T.default},!0),m.default=_.default},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.IndentClass=void 0;var _,v=function(){function o(a,d){for(var p=0;p<d.length;p++){var f=d[p];f.enumerable=f.enumerable||!1,f.configurable=!0,"value"in f&&(f.writable=!0),Object.defineProperty(a,f.key,f)}}return function(a,d,p){return d&&o(a.prototype,d),p&&o(a,p),a}}(),I=function o(a,d,p){a===null&&(a=Function.prototype);var f=Object.getOwnPropertyDescriptor(a,d);if(f===void 0){var l=Object.getPrototypeOf(a);return l===null?void 0:o(l,d,p)}if("value"in f)return f.value;var S=f.get;return S!==void 0?S.call(p):void 0},h=(_=y(0))&&_.__esModule?_:{default:_},i=function(o){function a(){return function(d,p){if(!(d instanceof p))throw new TypeError("Cannot call a class as a function")}(this,a),function(d,p){if(!d)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!p||typeof p!="object"&&typeof p!="function"?d:p}(this,(a.__proto__||Object.getPrototypeOf(a)).apply(this,arguments))}return function(d,p){if(typeof p!="function"&&p!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof p);d.prototype=Object.create(p&&p.prototype,{constructor:{value:d,enumerable:!1,writable:!0,configurable:!0}}),p&&(Object.setPrototypeOf?Object.setPrototypeOf(d,p):d.__proto__=p)}(a,o),v(a,[{key:"add",value:function(d,p){if(p==="+1"||p==="-1"){var f=this.value(d)||0;p=p==="+1"?f+1:f-1}return p===0?(this.remove(d),!0):I(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"add",this).call(this,d,p)}},{key:"canAdd",value:function(d,p){return I(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"canAdd",this).call(this,d,p)||I(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"canAdd",this).call(this,d,parseInt(p))}},{key:"value",value:function(d){return parseInt(I(a.prototype.__proto__||Object.getPrototypeOf(a.prototype),"value",this).call(this,d))||void 0}}]),a}(h.default.Attributor.Class),n=new i("indent","ql-indent",{scope:h.default.Scope.BLOCK,whitelist:[1,2,3,4,5,6,7,8]});m.IndentClass=n},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _,v=function(I){function h(){return function(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}(this,h),function(i,n){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?i:n}(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(i,n):i.__proto__=n)}(h,I),h}(((_=y(4))&&_.__esModule?_:{default:_}).default);v.blotName="blockquote",v.tagName="blockquote",m.default=v},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _,v=function(){function h(i,n){for(var o=0;o<n.length;o++){var a=n[o];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(i,a.key,a)}}return function(i,n,o){return n&&h(i.prototype,n),o&&h(i,o),i}}(),I=function(h){function i(){return function(n,o){if(!(n instanceof o))throw new TypeError("Cannot call a class as a function")}(this,i),function(n,o){if(!n)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!o||typeof o!="object"&&typeof o!="function"?n:o}(this,(i.__proto__||Object.getPrototypeOf(i)).apply(this,arguments))}return function(n,o){if(typeof o!="function"&&o!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof o);n.prototype=Object.create(o&&o.prototype,{constructor:{value:n,enumerable:!1,writable:!0,configurable:!0}}),o&&(Object.setPrototypeOf?Object.setPrototypeOf(n,o):n.__proto__=o)}(i,h),v(i,null,[{key:"formats",value:function(n){return this.tagName.indexOf(n.tagName)+1}}]),i}(((_=y(4))&&_.__esModule?_:{default:_}).default);I.blotName="header",I.tagName=["H1","H2","H3","H4","H5","H6"],m.default=I},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.default=m.ListItem=void 0;var _=function(){function l(S,k){for(var P=0;P<k.length;P++){var c=k[P];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(S,c.key,c)}}return function(S,k,P){return k&&l(S.prototype,k),P&&l(S,P),S}}(),v=function l(S,k,P){S===null&&(S=Function.prototype);var c=Object.getOwnPropertyDescriptor(S,k);if(c===void 0){var C=Object.getPrototypeOf(S);return C===null?void 0:l(C,k,P)}if("value"in c)return c.value;var O=c.get;return O!==void 0?O.call(P):void 0},I=n(y(0)),h=n(y(4)),i=n(y(25));function n(l){return l&&l.__esModule?l:{default:l}}function o(l,S){if(!(l instanceof S))throw new TypeError("Cannot call a class as a function")}function a(l,S){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?l:S}function d(l,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);l.prototype=Object.create(S&&S.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(l,S):l.__proto__=S)}var p=function(l){function S(){return o(this,S),a(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return d(S,l),_(S,[{key:"format",value:function(k,P){k!==f.blotName||P?v(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"format",this).call(this,k,P):this.replaceWith(I.default.create(this.statics.scope))}},{key:"remove",value:function(){this.prev==null&&this.next==null?this.parent.remove():v(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"remove",this).call(this)}},{key:"replaceWith",value:function(k,P){return this.parent.isolate(this.offset(this.parent),this.length()),k===this.parent.statics.blotName?(this.parent.replaceWith(k,P),this):(this.parent.unwrap(),v(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replaceWith",this).call(this,k,P))}}],[{key:"formats",value:function(k){return k.tagName===this.tagName?void 0:v(S.__proto__||Object.getPrototypeOf(S),"formats",this).call(this,k)}}]),S}(h.default);p.blotName="list-item",p.tagName="LI";var f=function(l){function S(k){o(this,S);var P=a(this,(S.__proto__||Object.getPrototypeOf(S)).call(this,k)),c=function(C){if(C.target.parentNode===k){var O=P.statics.formats(k),L=I.default.find(C.target);O==="checked"?L.format("list","unchecked"):O==="unchecked"&&L.format("list","checked")}};return k.addEventListener("touchstart",c),k.addEventListener("mousedown",c),P}return d(S,l),_(S,null,[{key:"create",value:function(k){var P=k==="ordered"?"OL":"UL",c=v(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,P);return k!=="checked"&&k!=="unchecked"||c.setAttribute("data-checked",k==="checked"),c}},{key:"formats",value:function(k){return k.tagName==="OL"?"ordered":k.tagName==="UL"?k.hasAttribute("data-checked")?k.getAttribute("data-checked")==="true"?"checked":"unchecked":"bullet":void 0}}]),_(S,[{key:"format",value:function(k,P){this.children.length>0&&this.children.tail.format(k,P)}},{key:"formats",value:function(){return k={},P=this.statics.blotName,c=this.statics.formats(this.domNode),P in k?Object.defineProperty(k,P,{value:c,enumerable:!0,configurable:!0,writable:!0}):k[P]=c,k;var k,P,c}},{key:"insertBefore",value:function(k,P){if(k instanceof p)v(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"insertBefore",this).call(this,k,P);else{var c=P==null?this.length():P.offset(this),C=this.split(c);C.parent.insertBefore(k,C)}}},{key:"optimize",value:function(k){v(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"optimize",this).call(this,k);var P=this.next;P!=null&&P.prev===this&&P.statics.blotName===this.statics.blotName&&P.domNode.tagName===this.domNode.tagName&&P.domNode.getAttribute("data-checked")===this.domNode.getAttribute("data-checked")&&(P.moveChildren(this),P.remove())}},{key:"replace",value:function(k){if(k.statics.blotName!==this.statics.blotName){var P=I.default.create(this.statics.defaultChild);k.moveChildren(P),this.appendChild(P)}v(S.prototype.__proto__||Object.getPrototypeOf(S.prototype),"replace",this).call(this,k)}}]),S}(i.default);f.blotName="list",f.scope=I.default.Scope.BLOCK_BLOT,f.tagName=["OL","UL"],f.defaultChild="list-item",f.allowedChildren=[p],m.ListItem=p,m.default=f},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _,v=function(I){function h(){return function(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}(this,h),function(i,n){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?i:n}(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(i,n):i.__proto__=n)}(h,I),h}(((_=y(56))&&_.__esModule?_:{default:_}).default);v.blotName="italic",v.tagName=["EM","I"],m.default=v},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _,v=function(){function i(n,o){for(var a=0;a<o.length;a++){var d=o[a];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(n,d.key,d)}}return function(n,o,a){return o&&i(n.prototype,o),a&&i(n,a),n}}(),I=function i(n,o,a){n===null&&(n=Function.prototype);var d=Object.getOwnPropertyDescriptor(n,o);if(d===void 0){var p=Object.getPrototypeOf(n);return p===null?void 0:i(p,o,a)}if("value"in d)return d.value;var f=d.get;return f!==void 0?f.call(a):void 0},h=function(i){function n(){return function(o,a){if(!(o instanceof a))throw new TypeError("Cannot call a class as a function")}(this,n),function(o,a){if(!o)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!a||typeof a!="object"&&typeof a!="function"?o:a}(this,(n.__proto__||Object.getPrototypeOf(n)).apply(this,arguments))}return function(o,a){if(typeof a!="function"&&a!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof a);o.prototype=Object.create(a&&a.prototype,{constructor:{value:o,enumerable:!1,writable:!0,configurable:!0}}),a&&(Object.setPrototypeOf?Object.setPrototypeOf(o,a):o.__proto__=a)}(n,i),v(n,null,[{key:"create",value:function(o){return o==="super"?document.createElement("sup"):o==="sub"?document.createElement("sub"):I(n.__proto__||Object.getPrototypeOf(n),"create",this).call(this,o)}},{key:"formats",value:function(o){return o.tagName==="SUB"?"sub":o.tagName==="SUP"?"super":void 0}}]),n}(((_=y(6))&&_.__esModule?_:{default:_}).default);h.blotName="script",h.tagName=["SUB","SUP"],m.default=h},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _,v=function(I){function h(){return function(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}(this,h),function(i,n){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?i:n}(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(i,n):i.__proto__=n)}(h,I),h}(((_=y(6))&&_.__esModule?_:{default:_}).default);v.blotName="strike",v.tagName="S",m.default=v},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _,v=function(I){function h(){return function(i,n){if(!(i instanceof n))throw new TypeError("Cannot call a class as a function")}(this,h),function(i,n){if(!i)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!n||typeof n!="object"&&typeof n!="function"?i:n}(this,(h.__proto__||Object.getPrototypeOf(h)).apply(this,arguments))}return function(i,n){if(typeof n!="function"&&n!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof n);i.prototype=Object.create(n&&n.prototype,{constructor:{value:i,enumerable:!1,writable:!0,configurable:!0}}),n&&(Object.setPrototypeOf?Object.setPrototypeOf(i,n):i.__proto__=n)}(h,I),h}(((_=y(6))&&_.__esModule?_:{default:_}).default);v.blotName="underline",v.tagName="U",m.default=v},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _,v=function(){function a(d,p){for(var f=0;f<p.length;f++){var l=p[f];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(d,l.key,l)}}return function(d,p,f){return p&&a(d.prototype,p),f&&a(d,f),d}}(),I=function a(d,p,f){d===null&&(d=Function.prototype);var l=Object.getOwnPropertyDescriptor(d,p);if(l===void 0){var S=Object.getPrototypeOf(d);return S===null?void 0:a(S,p,f)}if("value"in l)return l.value;var k=l.get;return k!==void 0?k.call(f):void 0},h=(_=y(0))&&_.__esModule?_:{default:_},i=y(27),n=["alt","height","width"],o=function(a){function d(){return function(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,d),function(p,f){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?p:f}(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return function(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}(d,a),v(d,[{key:"format",value:function(p,f){n.indexOf(p)>-1?f?this.domNode.setAttribute(p,f):this.domNode.removeAttribute(p):I(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"format",this).call(this,p,f)}}],[{key:"create",value:function(p){var f=I(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this,p);return typeof p=="string"&&f.setAttribute("src",this.sanitize(p)),f}},{key:"formats",value:function(p){return n.reduce(function(f,l){return p.hasAttribute(l)&&(f[l]=p.getAttribute(l)),f},{})}},{key:"match",value:function(p){return/\.(jpe?g|gif|png)$/.test(p)||/^data:image\/.+;base64/.test(p)}},{key:"sanitize",value:function(p){return(0,i.sanitize)(p,["http","https","data"])?p:"//:0"}},{key:"value",value:function(p){return p.getAttribute("src")}}]),d}(h.default.Embed);o.blotName="image",o.tagName="IMG",m.default=o},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0});var _,v=function(){function a(d,p){for(var f=0;f<p.length;f++){var l=p[f];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),Object.defineProperty(d,l.key,l)}}return function(d,p,f){return p&&a(d.prototype,p),f&&a(d,f),d}}(),I=function a(d,p,f){d===null&&(d=Function.prototype);var l=Object.getOwnPropertyDescriptor(d,p);if(l===void 0){var S=Object.getPrototypeOf(d);return S===null?void 0:a(S,p,f)}if("value"in l)return l.value;var k=l.get;return k!==void 0?k.call(f):void 0},h=y(4),i=(_=y(27))&&_.__esModule?_:{default:_},n=["height","width"],o=function(a){function d(){return function(p,f){if(!(p instanceof f))throw new TypeError("Cannot call a class as a function")}(this,d),function(p,f){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!f||typeof f!="object"&&typeof f!="function"?p:f}(this,(d.__proto__||Object.getPrototypeOf(d)).apply(this,arguments))}return function(p,f){if(typeof f!="function"&&f!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof f);p.prototype=Object.create(f&&f.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),f&&(Object.setPrototypeOf?Object.setPrototypeOf(p,f):p.__proto__=f)}(d,a),v(d,[{key:"format",value:function(p,f){n.indexOf(p)>-1?f?this.domNode.setAttribute(p,f):this.domNode.removeAttribute(p):I(d.prototype.__proto__||Object.getPrototypeOf(d.prototype),"format",this).call(this,p,f)}}],[{key:"create",value:function(p){var f=I(d.__proto__||Object.getPrototypeOf(d),"create",this).call(this,p);return f.setAttribute("frameborder","0"),f.setAttribute("allowfullscreen",!0),f.setAttribute("src",this.sanitize(p)),f}},{key:"formats",value:function(p){return n.reduce(function(f,l){return p.hasAttribute(l)&&(f[l]=p.getAttribute(l)),f},{})}},{key:"sanitize",value:function(p){return i.default.sanitize(p)}},{key:"value",value:function(p){return p.getAttribute("src")}}]),d}(h.BlockEmbed);o.blotName="video",o.className="ql-video",o.tagName="IFRAME",m.default=o},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.default=m.FormulaBlot=void 0;var _=function(){function l(S,k){for(var P=0;P<k.length;P++){var c=k[P];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(S,c.key,c)}}return function(S,k,P){return k&&l(S.prototype,k),P&&l(S,P),S}}(),v=function l(S,k,P){S===null&&(S=Function.prototype);var c=Object.getOwnPropertyDescriptor(S,k);if(c===void 0){var C=Object.getPrototypeOf(S);return C===null?void 0:l(C,k,P)}if("value"in c)return c.value;var O=c.get;return O!==void 0?O.call(P):void 0},I=n(y(35)),h=n(y(5)),i=n(y(9));function n(l){return l&&l.__esModule?l:{default:l}}function o(l,S){if(!(l instanceof S))throw new TypeError("Cannot call a class as a function")}function a(l,S){if(!l)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!S||typeof S!="object"&&typeof S!="function"?l:S}function d(l,S){if(typeof S!="function"&&S!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof S);l.prototype=Object.create(S&&S.prototype,{constructor:{value:l,enumerable:!1,writable:!0,configurable:!0}}),S&&(Object.setPrototypeOf?Object.setPrototypeOf(l,S):l.__proto__=S)}var p=function(l){function S(){return o(this,S),a(this,(S.__proto__||Object.getPrototypeOf(S)).apply(this,arguments))}return d(S,l),_(S,null,[{key:"create",value:function(k){var P=v(S.__proto__||Object.getPrototypeOf(S),"create",this).call(this,k);return typeof k=="string"&&(window.katex.render(k,P,{throwOnError:!1,errorColor:"#f00"}),P.setAttribute("data-value",k)),P}},{key:"value",value:function(k){return k.getAttribute("data-value")}}]),S}(I.default);p.blotName="formula",p.className="ql-formula",p.tagName="SPAN";var f=function(l){function S(){o(this,S);var k=a(this,(S.__proto__||Object.getPrototypeOf(S)).call(this));if(window.katex==null)throw new Error("Formula module requires KaTeX.");return k}return d(S,l),_(S,null,[{key:"register",value:function(){h.default.register(p,!0)}}]),S}(i.default);m.FormulaBlot=p,m.default=f},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.default=m.CodeToken=m.CodeBlock=void 0;var _=function(){function S(k,P){for(var c=0;c<P.length;c++){var C=P[c];C.enumerable=C.enumerable||!1,C.configurable=!0,"value"in C&&(C.writable=!0),Object.defineProperty(k,C.key,C)}}return function(k,P,c){return P&&S(k.prototype,P),c&&S(k,c),k}}(),v=function S(k,P,c){k===null&&(k=Function.prototype);var C=Object.getOwnPropertyDescriptor(k,P);if(C===void 0){var O=Object.getPrototypeOf(k);return O===null?void 0:S(O,P,c)}if("value"in C)return C.value;var L=C.get;return L!==void 0?L.call(c):void 0},I=n(y(0)),h=n(y(5)),i=n(y(9));function n(S){return S&&S.__esModule?S:{default:S}}function o(S,k){if(!(S instanceof k))throw new TypeError("Cannot call a class as a function")}function a(S,k){if(!S)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!k||typeof k!="object"&&typeof k!="function"?S:k}function d(S,k){if(typeof k!="function"&&k!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof k);S.prototype=Object.create(k&&k.prototype,{constructor:{value:S,enumerable:!1,writable:!0,configurable:!0}}),k&&(Object.setPrototypeOf?Object.setPrototypeOf(S,k):S.__proto__=k)}var p=function(S){function k(){return o(this,k),a(this,(k.__proto__||Object.getPrototypeOf(k)).apply(this,arguments))}return d(k,S),_(k,[{key:"replaceWith",value:function(P){this.domNode.textContent=this.domNode.textContent,this.attach(),v(k.prototype.__proto__||Object.getPrototypeOf(k.prototype),"replaceWith",this).call(this,P)}},{key:"highlight",value:function(P){var c=this.domNode.textContent;this.cachedText!==c&&((c.trim().length>0||this.cachedText==null)&&(this.domNode.innerHTML=P(c),this.domNode.normalize(),this.attach()),this.cachedText=c)}}]),k}(n(y(13)).default);p.className="ql-syntax";var f=new I.default.Attributor.Class("token","hljs",{scope:I.default.Scope.INLINE}),l=function(S){function k(P,c){o(this,k);var C=a(this,(k.__proto__||Object.getPrototypeOf(k)).call(this,P,c));if(typeof C.options.highlight!="function")throw new Error("Syntax module requires highlight.js. Please include the library on the page before Quill.");var O=null;return C.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){clearTimeout(O),O=setTimeout(function(){C.highlight(),O=null},C.options.interval)}),C.highlight(),C}return d(k,S),_(k,null,[{key:"register",value:function(){h.default.register(f,!0),h.default.register(p,!0)}}]),_(k,[{key:"highlight",value:function(){var P=this;if(!this.quill.selection.composing){this.quill.update(h.default.sources.USER);var c=this.quill.getSelection();this.quill.scroll.descendants(p).forEach(function(C){C.highlight(P.options.highlight)}),this.quill.update(h.default.sources.SILENT),c!=null&&this.quill.setSelection(c,h.default.sources.SILENT)}}}]),k}(i.default);l.DEFAULTS={highlight:window.hljs==null?null:function(S){return window.hljs.highlightAuto(S).value},interval:1e3},m.CodeBlock=p,m.CodeToken=f,m.default=l},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=13 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=9 y1=4 y2=4></line> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=14 x2=4 y1=14 y2=14></line> <line class=ql-stroke x1=12 x2=6 y1=4 y2=4></line> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=5 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=9 y1=4 y2=4></line> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=15 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=15 x2=3 y1=14 y2=14></line> <line class=ql-stroke x1=15 x2=3 y1=4 y2=4></line> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <g class="ql-fill ql-color-label"> <polygon points="6 6.868 6 6 5 6 5 7 5.942 7 6 6.868"></polygon> <rect height=1 width=1 x=4 y=4></rect> <polygon points="6.817 5 6 5 6 6 6.38 6 6.817 5"></polygon> <rect height=1 width=1 x=2 y=6></rect> <rect height=1 width=1 x=3 y=5></rect> <rect height=1 width=1 x=4 y=7></rect> <polygon points="4 11.439 4 11 3 11 3 12 3.755 12 4 11.439"></polygon> <rect height=1 width=1 x=2 y=12></rect> <rect height=1 width=1 x=2 y=9></rect> <rect height=1 width=1 x=2 y=15></rect> <polygon points="4.63 10 4 10 4 11 4.192 11 4.63 10"></polygon> <rect height=1 width=1 x=3 y=8></rect> <path d=M10.832,4.2L11,4.582V4H10.708A1.948,1.948,0,0,1,10.832,4.2Z></path> <path d=M7,4.582L7.168,4.2A1.929,1.929,0,0,1,7.292,4H7V4.582Z></path> <path d=M8,13H7.683l-0.351.8a1.933,1.933,0,0,1-.124.2H8V13Z></path> <rect height=1 width=1 x=12 y=2></rect> <rect height=1 width=1 x=11 y=3></rect> <path d=M9,3H8V3.282A1.985,1.985,0,0,1,9,3Z></path> <rect height=1 width=1 x=2 y=3></rect> <rect height=1 width=1 x=6 y=2></rect> <rect height=1 width=1 x=3 y=2></rect> <rect height=1 width=1 x=5 y=3></rect> <rect height=1 width=1 x=9 y=2></rect> <rect height=1 width=1 x=15 y=14></rect> <polygon points="13.447 10.174 13.469 10.225 13.472 10.232 13.808 11 14 11 14 10 13.37 10 13.447 10.174"></polygon> <rect height=1 width=1 x=13 y=7></rect> <rect height=1 width=1 x=15 y=5></rect> <rect height=1 width=1 x=14 y=6></rect> <rect height=1 width=1 x=15 y=8></rect> <rect height=1 width=1 x=14 y=9></rect> <path d=M3.775,14H3v1H4V14.314A1.97,1.97,0,0,1,3.775,14Z></path> <rect height=1 width=1 x=14 y=3></rect> <polygon points="12 6.868 12 6 11.62 6 12 6.868"></polygon> <rect height=1 width=1 x=15 y=2></rect> <rect height=1 width=1 x=12 y=5></rect> <rect height=1 width=1 x=13 y=4></rect> <polygon points="12.933 9 13 9 13 8 12.495 8 12.933 9"></polygon> <rect height=1 width=1 x=9 y=14></rect> <rect height=1 width=1 x=8 y=15></rect> <path d=M6,14.926V15H7V14.316A1.993,1.993,0,0,1,6,14.926Z></path> <rect height=1 width=1 x=5 y=15></rect> <path d=M10.668,13.8L10.317,13H10v1h0.792A1.947,1.947,0,0,1,10.668,13.8Z></path> <rect height=1 width=1 x=11 y=15></rect> <path d=M14.332,12.2a1.99,1.99,0,0,1,.166.8H15V12H14.245Z></path> <rect height=1 width=1 x=14 y=15></rect> <rect height=1 width=1 x=15 y=11></rect> </g> <polyline class=ql-stroke points="5.5 13 9 5 12.5 13"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=11 y2=11></line> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <rect class="ql-fill ql-stroke" height=3 width=3 x=4 y=5></rect> <rect class="ql-fill ql-stroke" height=3 width=3 x=11 y=5></rect> <path class="ql-even ql-fill ql-stroke" d=M7,8c0,4.031-3,5-3,5></path> <path class="ql-even ql-fill ql-stroke" d=M14,8c0,4.031-3,5-3,5></path> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,4H9.5A2.5,2.5,0,0,1,12,6.5v0A2.5,2.5,0,0,1,9.5,9H5A0,0,0,0,1,5,9V4A0,0,0,0,1,5,4Z></path> <path class=ql-stroke d=M5,9h5.5A2.5,2.5,0,0,1,13,11.5v0A2.5,2.5,0,0,1,10.5,14H5a0,0,0,0,1,0,0V9A0,0,0,0,1,5,9Z></path> </svg>'},function(x,m){x.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=5 x2=13 y1=3 y2=3></line> <line class=ql-stroke x1=6 x2=9.35 y1=12 y2=3></line> <line class=ql-stroke x1=11 x2=15 y1=11 y2=15></line> <line class=ql-stroke x1=15 x2=11 y1=11 y2=15></line> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=7 x=2 y=14></rect> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <line class="ql-color-label ql-stroke ql-transparent" x1=3 x2=15 y1=15 y2=15></line> <polyline class=ql-stroke points="5.5 11 9 3 12.5 11"></polyline> <line class=ql-stroke x1=11.63 x2=6.38 y1=9 y2=9></line> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="3 11 5 9 3 7 3 11"></polygon> <line class="ql-stroke ql-fill" x1=15 x2=11 y1=4 y2=4></line> <path class=ql-fill d=M11,3a3,3,0,0,0,0,6h1V3H11Z></path> <rect class=ql-fill height=11 width=1 x=11 y=4></rect> <rect class=ql-fill height=11 width=1 x=13 y=4></rect> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <polygon class="ql-stroke ql-fill" points="15 12 13 10 15 8 15 12"></polygon> <line class="ql-stroke ql-fill" x1=9 x2=5 y1=4 y2=4></line> <path class=ql-fill d=M5,3A3,3,0,0,0,5,9H6V3H5Z></path> <rect class=ql-fill height=11 width=1 x=5 y=4></rect> <rect class=ql-fill height=11 width=1 x=7 y=4></rect> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M14,16H4a1,1,0,0,1,0-2H14A1,1,0,0,1,14,16Z /> <path class=ql-fill d=M14,4H4A1,1,0,0,1,4,2H14A1,1,0,0,1,14,4Z /> <rect class=ql-fill x=3 y=6 width=12 height=6 rx=1 ry=1 /> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M13,16H5a1,1,0,0,1,0-2h8A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H5A1,1,0,0,1,5,2h8A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=2 y=6 width=14 height=6 rx=1 ry=1 /> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15,8H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,8Z /> <path class=ql-fill d=M15,12H13a1,1,0,0,1,0-2h2A1,1,0,0,1,15,12Z /> <path class=ql-fill d=M15,16H5a1,1,0,0,1,0-2H15A1,1,0,0,1,15,16Z /> <path class=ql-fill d=M15,4H5A1,1,0,0,1,5,2H15A1,1,0,0,1,15,4Z /> <rect class=ql-fill x=2 y=6 width=8 height=6 rx=1 ry=1 /> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M5,8H3A1,1,0,0,1,3,6H5A1,1,0,0,1,5,8Z /> <path class=ql-fill d=M5,12H3a1,1,0,0,1,0-2H5A1,1,0,0,1,5,12Z /> <path class=ql-fill d=M13,16H3a1,1,0,0,1,0-2H13A1,1,0,0,1,13,16Z /> <path class=ql-fill d=M13,4H3A1,1,0,0,1,3,2H13A1,1,0,0,1,13,4Z /> <rect class=ql-fill x=8 y=6 width=8 height=6 rx=1 ry=1 transform="translate(24 18) rotate(-180)"/> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M11.759,2.482a2.561,2.561,0,0,0-3.53.607A7.656,7.656,0,0,0,6.8,6.2C6.109,9.188,5.275,14.677,4.15,14.927a1.545,1.545,0,0,0-1.3-.933A0.922,0.922,0,0,0,2,15.036S1.954,16,4.119,16s3.091-2.691,3.7-5.553c0.177-.826.36-1.726,0.554-2.6L8.775,6.2c0.381-1.421.807-2.521,1.306-2.676a1.014,1.014,0,0,0,1.02.56A0.966,0.966,0,0,0,11.759,2.482Z></path> <rect class=ql-fill height=1.6 rx=0.8 ry=0.8 width=5 x=5.15 y=6.2></rect> <path class=ql-fill d=M13.663,12.027a1.662,1.662,0,0,1,.266-0.276q0.193,0.069.456,0.138a2.1,2.1,0,0,0,.535.069,1.075,1.075,0,0,0,.767-0.3,1.044,1.044,0,0,0,.314-0.8,0.84,0.84,0,0,0-.238-0.619,0.8,0.8,0,0,0-.594-0.239,1.154,1.154,0,0,0-.781.3,4.607,4.607,0,0,0-.781,1q-0.091.15-.218,0.346l-0.246.38c-0.068-.288-0.137-0.582-0.212-0.885-0.459-1.847-2.494-.984-2.941-0.8-0.482.2-.353,0.647-0.094,0.529a0.869,0.869,0,0,1,1.281.585c0.217,0.751.377,1.436,0.527,2.038a5.688,5.688,0,0,1-.362.467,2.69,2.69,0,0,1-.264.271q-0.221-.08-0.471-0.147a2.029,2.029,0,0,0-.522-0.066,1.079,1.079,0,0,0-.768.3A1.058,1.058,0,0,0,9,15.131a0.82,0.82,0,0,0,.832.852,1.134,1.134,0,0,0,.787-0.3,5.11,5.11,0,0,0,.776-0.993q0.141-.219.215-0.34c0.046-.076.122-0.194,0.223-0.346a2.786,2.786,0,0,0,.918,1.726,2.582,2.582,0,0,0,2.376-.185c0.317-.181.212-0.565,0-0.494A0.807,0.807,0,0,1,14.176,15a5.159,5.159,0,0,1-.913-2.446l0,0Q13.487,12.24,13.663,12.027Z></path> </svg>'},function(x,m){x.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M10,4V14a1,1,0,0,1-2,0V10H3v4a1,1,0,0,1-2,0V4A1,1,0,0,1,3,4V8H8V4a1,1,0,0,1,2,0Zm6.06787,9.209H14.98975V7.59863a.54085.54085,0,0,0-.605-.60547h-.62744a1.01119,1.01119,0,0,0-.748.29688L11.645,8.56641a.5435.5435,0,0,0-.022.8584l.28613.30762a.53861.53861,0,0,0,.84717.0332l.09912-.08789a1.2137,1.2137,0,0,0,.2417-.35254h.02246s-.01123.30859-.01123.60547V13.209H12.041a.54085.54085,0,0,0-.605.60547v.43945a.54085.54085,0,0,0,.605.60547h4.02686a.54085.54085,0,0,0,.605-.60547v-.43945A.54085.54085,0,0,0,16.06787,13.209Z /> </svg>'},function(x,m){x.exports='<svg viewBox="0 0 18 18"> <path class=ql-fill d=M16.73975,13.81445v.43945a.54085.54085,0,0,1-.605.60547H11.855a.58392.58392,0,0,1-.64893-.60547V14.0127c0-2.90527,3.39941-3.42187,3.39941-4.55469a.77675.77675,0,0,0-.84717-.78125,1.17684,1.17684,0,0,0-.83594.38477c-.2749.26367-.561.374-.85791.13184l-.4292-.34082c-.30811-.24219-.38525-.51758-.1543-.81445a2.97155,2.97155,0,0,1,2.45361-1.17676,2.45393,2.45393,0,0,1,2.68408,2.40918c0,2.45312-3.1792,2.92676-3.27832,3.93848h2.79443A.54085.54085,0,0,1,16.73975,13.81445ZM9,3A.99974.99974,0,0,0,8,4V8H3V4A1,1,0,0,0,1,4V14a1,1,0,0,0,2,0V10H8v4a1,1,0,0,0,2,0V4A.99974.99974,0,0,0,9,3Z /> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=13 y1=4 y2=4></line> <line class=ql-stroke x1=5 x2=11 y1=14 y2=14></line> <line class=ql-stroke x1=8 x2=10 y1=14 y2=4></line> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=10 width=12 x=3 y=4></rect> <circle class=ql-fill cx=6 cy=7 r=1></circle> <polyline class="ql-even ql-fill" points="5 12 5 11 7 9 8 10 11 7 13 9 13 12 5 12"></polyline> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class="ql-fill ql-stroke" points="3 7 3 11 5 9 3 7"></polyline> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=3 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="5 7 5 11 3 9 5 7"></polyline> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=11 y1=7 y2=11></line> <path class="ql-even ql-stroke" d=M8.9,4.577a3.476,3.476,0,0,1,.36,4.679A3.476,3.476,0,0,1,4.577,8.9C3.185,7.5,2.035,6.4,4.217,4.217S7.5,3.185,8.9,4.577Z></path> <path class="ql-even ql-stroke" d=M13.423,9.1a3.476,3.476,0,0,0-4.679-.36,3.476,3.476,0,0,0,.36,4.679c1.392,1.392,2.5,2.542,4.679.36S14.815,10.5,13.423,9.1Z></path> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=7 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=7 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=7 x2=15 y1=14 y2=14></line> <line class="ql-stroke ql-thin" x1=2.5 x2=4.5 y1=5.5 y2=5.5></line> <path class=ql-fill d=M3.5,6A0.5,0.5,0,0,1,3,5.5V3.085l-0.276.138A0.5,0.5,0,0,1,2.053,3c-0.124-.247-0.023-0.324.224-0.447l1-.5A0.5,0.5,0,0,1,4,2.5v3A0.5,0.5,0,0,1,3.5,6Z></path> <path class="ql-stroke ql-thin" d=M4.5,10.5h-2c0-.234,1.85-1.076,1.85-2.234A0.959,0.959,0,0,0,2.5,8.156></path> <path class="ql-stroke ql-thin" d=M2.5,14.846a0.959,0.959,0,0,0,1.85-.109A0.7,0.7,0,0,0,3.75,14a0.688,0.688,0,0,0,.6-0.736,0.959,0.959,0,0,0-1.85-.109></path> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <line class=ql-stroke x1=6 x2=15 y1=4 y2=4></line> <line class=ql-stroke x1=6 x2=15 y1=9 y2=9></line> <line class=ql-stroke x1=6 x2=15 y1=14 y2=14></line> <line class=ql-stroke x1=3 x2=3 y1=4 y2=4></line> <line class=ql-stroke x1=3 x2=3 y1=9 y2=9></line> <line class=ql-stroke x1=3 x2=3 y1=14 y2=14></line> </svg>'},function(x,m){x.exports='<svg class="" viewbox="0 0 18 18"> <line class=ql-stroke x1=9 x2=15 y1=4 y2=4></line> <polyline class=ql-stroke points="3 4 4 5 6 3"></polyline> <line class=ql-stroke x1=9 x2=15 y1=14 y2=14></line> <polyline class=ql-stroke points="3 14 4 15 6 13"></polyline> <line class=ql-stroke x1=9 x2=15 y1=9 y2=9></line> <polyline class=ql-stroke points="3 9 4 10 6 8"></polyline> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,15H13.861a3.858,3.858,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.921,1.921,0,0,0,12.021,11.7a0.50013,0.50013,0,1,0,.957.291h0a0.914,0.914,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.076-1.16971,1.86982-1.93971,2.43082A1.45639,1.45639,0,0,0,12,15.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,15Z /> <path class=ql-fill d=M9.65,5.241a1,1,0,0,0-1.409.108L6,7.964,3.759,5.349A1,1,0,0,0,2.192,6.59178Q2.21541,6.6213,2.241,6.649L4.684,9.5,2.241,12.35A1,1,0,0,0,3.71,13.70722q0.02557-.02768.049-0.05722L6,11.036,8.241,13.65a1,1,0,1,0,1.567-1.24277Q9.78459,12.3777,9.759,12.35L7.316,9.5,9.759,6.651A1,1,0,0,0,9.65,5.241Z /> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <path class=ql-fill d=M15.5,7H13.861a4.015,4.015,0,0,0,1.914-2.975,1.8,1.8,0,0,0-1.6-1.751A1.922,1.922,0,0,0,12.021,3.7a0.5,0.5,0,1,0,.957.291,0.917,0.917,0,0,1,1.053-.725,0.81,0.81,0,0,1,.744.762c0,1.077-1.164,1.925-1.934,2.486A1.423,1.423,0,0,0,12,7.5a0.5,0.5,0,0,0,.5.5h3A0.5,0.5,0,0,0,15.5,7Z /> <path class=ql-fill d=M9.651,5.241a1,1,0,0,0-1.41.108L6,7.964,3.759,5.349a1,1,0,1,0-1.519,1.3L4.683,9.5,2.241,12.35a1,1,0,1,0,1.519,1.3L6,11.036,8.241,13.65a1,1,0,0,0,1.519-1.3L7.317,9.5,9.759,6.651A1,1,0,0,0,9.651,5.241Z /> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <line class="ql-stroke ql-thin" x1=15.5 x2=2.5 y1=8.5 y2=9.5></line> <path class=ql-fill d=M9.007,8C6.542,7.791,6,7.519,6,6.5,6,5.792,7.283,5,9,5c1.571,0,2.765.679,2.969,1.309a1,1,0,0,0,1.9-.617C13.356,4.106,11.354,3,9,3,6.2,3,4,4.538,4,6.5a3.2,3.2,0,0,0,.5,1.843Z></path> <path class=ql-fill d=M8.984,10C11.457,10.208,12,10.479,12,11.5c0,0.708-1.283,1.5-3,1.5-1.571,0-2.765-.679-2.969-1.309a1,1,0,1,0-1.9.617C4.644,13.894,6.646,15,9,15c2.8,0,5-1.538,5-3.5a3.2,3.2,0,0,0-.5-1.843Z></path> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <path class=ql-stroke d=M5,3V9a4.012,4.012,0,0,0,4,4H9a4.012,4.012,0,0,0,4-4V3></path> <rect class=ql-fill height=1 rx=0.5 ry=0.5 width=12 x=3 y=15></rect> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <rect class=ql-stroke height=12 width=12 x=3 y=3></rect> <rect class=ql-fill height=12 width=1 x=5 y=3></rect> <rect class=ql-fill height=12 width=1 x=12 y=3></rect> <rect class=ql-fill height=2 width=8 x=5 y=8></rect> <rect class=ql-fill height=1 width=3 x=3 y=5></rect> <rect class=ql-fill height=1 width=3 x=3 y=7></rect> <rect class=ql-fill height=1 width=3 x=3 y=10></rect> <rect class=ql-fill height=1 width=3 x=3 y=12></rect> <rect class=ql-fill height=1 width=3 x=12 y=5></rect> <rect class=ql-fill height=1 width=3 x=12 y=7></rect> <rect class=ql-fill height=1 width=3 x=12 y=10></rect> <rect class=ql-fill height=1 width=3 x=12 y=12></rect> </svg>'},function(x,m){x.exports='<svg viewbox="0 0 18 18"> <polygon class=ql-stroke points="7 11 9 13 11 11 7 11"></polygon> <polygon class=ql-stroke points="7 7 9 5 11 7 7 7"></polygon> </svg>'},function(x,m,y){"use strict";Object.defineProperty(m,"__esModule",{value:!0}),m.default=m.BubbleTooltip=void 0;var _=function c(C,O,L){C===null&&(C=Function.prototype);var j=Object.getOwnPropertyDescriptor(C,O);if(j===void 0){var H=Object.getPrototypeOf(C);return H===null?void 0:c(H,O,L)}if("value"in j)return j.value;var M=j.get;return M!==void 0?M.call(L):void 0},v=function(){function c(C,O){for(var L=0;L<O.length;L++){var j=O[L];j.enumerable=j.enumerable||!1,j.configurable=!0,"value"in j&&(j.writable=!0),Object.defineProperty(C,j.key,j)}}return function(C,O,L){return O&&c(C.prototype,O),L&&c(C,L),C}}(),I=d(y(3)),h=d(y(8)),i=y(43),n=d(i),o=y(15),a=d(y(41));function d(c){return c&&c.__esModule?c:{default:c}}function p(c,C){if(!(c instanceof C))throw new TypeError("Cannot call a class as a function")}function f(c,C){if(!c)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!C||typeof C!="object"&&typeof C!="function"?c:C}function l(c,C){if(typeof C!="function"&&C!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof C);c.prototype=Object.create(C&&C.prototype,{constructor:{value:c,enumerable:!1,writable:!0,configurable:!0}}),C&&(Object.setPrototypeOf?Object.setPrototypeOf(c,C):c.__proto__=C)}var S=[["bold","italic","link"],[{header:1},{header:2},"blockquote"]],k=function(c){function C(O,L){p(this,C),L.modules.toolbar!=null&&L.modules.toolbar.container==null&&(L.modules.toolbar.container=S);var j=f(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,O,L));return j.quill.container.classList.add("ql-bubble"),j}return l(C,c),v(C,[{key:"extendToolbar",value:function(O){this.tooltip=new P(this.quill,this.options.bounds),this.tooltip.root.appendChild(O.container),this.buildButtons([].slice.call(O.container.querySelectorAll("button")),a.default),this.buildPickers([].slice.call(O.container.querySelectorAll("select")),a.default)}}]),C}(n.default);k.DEFAULTS=(0,I.default)(!0,{},n.default.DEFAULTS,{modules:{toolbar:{handlers:{link:function(c){c?this.quill.theme.tooltip.edit():this.quill.format("link",!1)}}}}});var P=function(c){function C(O,L){p(this,C);var j=f(this,(C.__proto__||Object.getPrototypeOf(C)).call(this,O,L));return j.quill.on(h.default.events.EDITOR_CHANGE,function(H,M,B,U){if(H===h.default.events.SELECTION_CHANGE)if(M!=null&&M.length>0&&U===h.default.sources.USER){j.show(),j.root.style.left="0px",j.root.style.width="",j.root.style.width=j.root.offsetWidth+"px";var W=j.quill.getLines(M.index,M.length);if(W.length===1)j.position(j.quill.getBounds(M));else{var R=W[W.length-1],F=j.quill.getIndex(R),V=Math.min(R.length()-1,M.index+M.length-F),z=j.quill.getBounds(new o.Range(F,V));j.position(z)}}else document.activeElement!==j.textbox&&j.quill.hasFocus()&&j.hide()}),j}return l(C,c),v(C,[{key:"listen",value:function(){var O=this;_(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"listen",this).call(this),this.root.querySelector(".ql-close").addEventListener("click",function(){O.root.classList.remove("ql-editing")}),this.quill.on(h.default.events.SCROLL_OPTIMIZE,function(){setTimeout(function(){if(!O.root.classList.contains("ql-hidden")){var L=O.quill.getSelection();L!=null&&O.position(O.quill.getBounds(L))}},1)})}},{key:"cancel",value:function(){this.show()}},{key:"position",value:function(O){var L=_(C.prototype.__proto__||Object.getPrototypeOf(C.prototype),"position",this).call(this,O),j=this.root.querySelector(".ql-tooltip-arrow");if(j.style.marginLeft="",L===0)return L;j.style.marginLeft=-1*L-j.offsetWidth/2+"px"}}]),C}(i.BaseTooltip);P.TEMPLATE=['<span class="ql-tooltip-arrow"></span>','<div class="ql-tooltip-editor">','<input type="text" data-formula="e=mc^2" data-link="https://quilljs.com" data-video="Embed URL">','<a class="ql-close"></a>',"</div>"].join(""),m.BubbleTooltip=P,m.default=k},function(x,m,y){x.exports=y(63)}]).default},K.exports=A()},7675:(K,A,x)=>{"use strict";var m=x(3206),y=x(9675),_=Object;K.exports=m(function(){if(this==null||this!==_(this))throw new y("RegExp.prototype.flags getter called on non-object");var v="";return this.hasIndices&&(v+="d"),this.global&&(v+="g"),this.ignoreCase&&(v+="i"),this.multiline&&(v+="m"),this.dotAll&&(v+="s"),this.unicode&&(v+="u"),this.unicodeSets&&(v+="v"),this.sticky&&(v+="y"),v},"get flags",!0)},1589:(K,A,x)=>{"use strict";var m=x(8452),y=x(487),_=x(7675),v=x(5330),I=x(3984),h=y(v());m(h,{getPolyfill:v,implementation:_,shim:I}),K.exports=h},5330:(K,A,x)=>{"use strict";var m=x(7675),y=x(8452).supportsDescriptors,_=Object.getOwnPropertyDescriptor;K.exports=function(){if(y&&/a/gim.flags==="gim"){var v=_(RegExp.prototype,"flags");if(v&&typeof v.get=="function"&&typeof RegExp.prototype.dotAll=="boolean"&&typeof RegExp.prototype.hasIndices=="boolean"){var I="",h={};if(Object.defineProperty(h,"hasIndices",{get:function(){I+="d"}}),Object.defineProperty(h,"sticky",{get:function(){I+="y"}}),I==="dy")return v.get}}return m}},3984:(K,A,x)=>{"use strict";var m=x(8452).supportsDescriptors,y=x(5330),_=Object.getOwnPropertyDescriptor,v=Object.defineProperty,I=TypeError,h=Object.getPrototypeOf,i=/a/;K.exports=function(){if(!m||!h)throw new I("RegExp.prototype.flags requires a true ES5 environment that supports property descriptors");var n=y(),o=h(i),a=_(o,"flags");return a&&a.get===n||v(o,"flags",{configurable:!0,enumerable:!1,get:n}),n}},6897:(K,A,x)=>{"use strict";var m=x(453),y=x(41),_=x(592)(),v=x(5795),I=x(9675),h=m("%Math.floor%");K.exports=function(i,n){if(typeof i!="function")throw new I("`fn` is not a function");if(typeof n!="number"||n<0||n>4294967295||h(n)!==n)throw new I("`length` must be a positive 32-bit integer");var o=arguments.length>2&&!!arguments[2],a=!0,d=!0;if("length"in i&&v){var p=v(i,"length");p&&!p.configurable&&(a=!1),p&&!p.writable&&(d=!1)}return(a||d||!o)&&(_?y(i,"length",n,!0,!0):y(i,"length",n)),i}},3206:(K,A,x)=>{"use strict";var m=x(41),y=x(592)(),_=x(4462).functionsHaveConfigurableNames(),v=x(9675);K.exports=function(I,h){if(typeof I!="function")throw new v("`fn` is not a function");return arguments.length>2&&arguments[2]&&!_||(y?m(I,"name",h,!0,!0):m(I,"name",h)),I}}},vt={};function st(K){var A=vt[K];if(A!==void 0)return A.exports;var x=vt[K]={exports:{}};return Yt[K].call(x.exports,x,x.exports,st),x.exports}st.n=K=>{var A=K&&K.__esModule?()=>K.default:()=>K;return st.d(A,{a:A}),A},st.d=(K,A)=>{for(var x in A)st.o(A,x)&&!st.o(K,x)&&Object.defineProperty(K,x,{enumerable:!0,get:A[x]})},st.o=(K,A)=>Object.prototype.hasOwnProperty.call(K,A),(()=>{"use strict";function K(w,r){if(!(w instanceof r))throw new TypeError("Cannot call a class as a function")}function A(w){return A=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(r){return typeof r}:function(r){return r&&typeof Symbol=="function"&&r.constructor===Symbol&&r!==Symbol.prototype?"symbol":typeof r},A(w)}function x(w){var r=function(e,t){if(A(e)!="object"||!e)return e;var s=e[Symbol.toPrimitive];if(s!==void 0){var u=s.call(e,"string");if(A(u)!="object")return u;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(w);return A(r)=="symbol"?r:String(r)}function m(w,r){for(var e=0;e<r.length;e++){var t=r[e];t.enumerable=t.enumerable||!1,t.configurable=!0,"value"in t&&(t.writable=!0),Object.defineProperty(w,x(t.key),t)}}function y(w,r,e){return r&&m(w.prototype,r),e&&m(w,e),Object.defineProperty(w,"prototype",{writable:!1}),w}function _(w,r){if(r&&(A(r)==="object"||typeof r=="function"))return r;if(r!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return function(e){if(e===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(w)}function v(w){return v=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(r){return r.__proto__||Object.getPrototypeOf(r)},v(w)}function I(w,r){return I=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},I(w,r)}function h(w,r){if(typeof r!="function"&&r!==null)throw new TypeError("Super expression must either be null or a function");w.prototype=Object.create(r&&r.prototype,{constructor:{value:w,writable:!0,configurable:!0}}),Object.defineProperty(w,"prototype",{writable:!1}),r&&I(w,r)}var i=function(){function w(){K(this,w)}return y(w,[{key:"getName",value:function(){}},{key:"do",value:function(){}},{key:"undo",value:function(){}},{key:"allowReplace",value:function(r){return!1}},{key:"replace",value:function(r){}}]),w}();function n(){return n=typeof Reflect!="undefined"&&Reflect.get?Reflect.get.bind():function(w,r,e){var t=function(u,g){for(;!Object.prototype.hasOwnProperty.call(u,g)&&(u=v(u))!==null;);return u}(w,r);if(t){var s=Object.getOwnPropertyDescriptor(t,r);return s.get?s.get.call(arguments.length<3?w:e):s.value}},n.apply(this,arguments)}function o(w,r,e){return r=v(r),_(w,a()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function a(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(a=function(){return!!w})()}i.operation={rename:"rename",change:"change",add:"add",remove:"remove",move:"move"};var d=function(w){function r(e,t,s,u){var g;if(K(this,r),(g=o(this,r)).objId=e.getId(),g.moveToParentId=t.getId(),g.moveToPosition=s,g.oldParentId=e.getParent().getId(),g.oldPosition=e.getSiblingPosition(),g.oldContainerId=null,g.moveToContainerId=null,e.getData()instanceof Ee){var E=e.getData();g.oldContainerId=E.getValue("containerId");var b=u.getMainPanel().getContainerByItem(t);b!==null&&(g.moveToContainerId=b.getId())}return g.rb=u,g}return h(r,w),y(r,[{key:"getName",value:function(){return"Move panel item"}},{key:"do",value:function(){var e=this.moveToPosition;this.moveToParentId===this.oldParentId&&this.oldPosition<e&&e--,this.moveTo(this.moveToParentId,e,this.moveToContainerId!==this.oldContainerId?this.moveToContainerId:null)}},{key:"undo",value:function(){this.moveTo(this.oldParentId,this.oldPosition,this.moveToContainerId!==this.oldContainerId?this.oldContainerId:null)}},{key:"moveTo",value:function(e,t,s){var u=this.rb.getDataObject(this.objId),g=this.rb.getDataObject(e);u!==null&&g!==null&&(u.getPanelItem().moveToPosition(g.getPanelItem(),t),u.getPanelItem().openParentItems(),this.rb.notifyEvent(u,i.operation.move))}},{key:"getClassName",value:function(){return"MovePanelItemCmd"}}]),r}(i);function p(w,r,e){return r=v(r),_(w,f()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function f(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(f=function(){return!!w})()}var l=function(w){function r(e,t,s,u,g){var E;K(this,r),(E=p(this,r)).objId=e,E.field=t,E.value=s,E.type=u,E.rb=g;var b=g.getDataObject(e);return E.oldValue=b.getValue(t),E.firstExecution=!0,E.select=!0,E.notifyChange=!0,E}return h(r,w),y(r,[{key:"getName",value:function(){return"Set value"}},{key:"getObjId",value:function(){return this.objId}},{key:"do",value:function(){!this.firstExecution&&this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.value),this.firstExecution=!1}},{key:"undo",value:function(){this.select&&this.rb.selectObject(this.objId,!0),this.setValue(this.oldValue)}},{key:"setValue",value:function(e){var t=this.rb.getDataObject(this.objId);if(t.setValue(this.field,e),this.field==="name"){var s=document.getElementById("rbro_menu_item_name".concat(this.objId));s.textContent=e,s.setAttribute("title",e),this.rb.notifyEvent(t,i.operation.rename)}!this.notifyChange||this.type===r.type.richText&&this.firstExecution||this.rb.notifyEvent(t,i.operation.change,this.field)}},{key:"disableSelect",value:function(){this.select=!1}},{key:"setNotifyChange",value:function(e){this.notifyChange=e}},{key:"allowReplace",value:function(e){return e instanceof r&&(this.type===r.type.text||this.type===r.type.richText)&&this.objId===e.objId&&this.field===e.field}},{key:"replace",value:function(e){this.oldValue=e.oldValue}},{key:"getClassName",value:function(){return"SetValueCmd"}}]),r}(i);l.type={text:"text",richText:"richText",select:"select",file:"file",filename:"filename",checkbox:"checkbox",button:"button",buttonGroup:"buttonGroup",color:"color",internal:"internal"};var S=function(){function w(r,e,t){K(this,w),this.rb=t,this.id=r,this.panelItem=null,this.name=e,this.el=null,this.elContent=null,this.owner=null,this.level=0,this.parent=null}return y(w,[{key:"init",value:function(r){this.owner=r,this.el=r.getElement(),this.elContent=r.getContentElement(),this.panelItem=r.getPanelItem(),this.parent=r.getContainer(),this.initLevel()}},{key:"initLevel",value:function(){this.level=0;for(var r=this.parent;r!==null;)this.level++,r=r.getParent()}},{key:"setup",value:function(){}},{key:"remove",value:function(){}},{key:"appendElement",value:function(r){this.elContent!==null&&this.elContent.append(r)}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(r){this.panelItem=r}},{key:"getLevel",value:function(){return this.level}},{key:"getParent",value:function(){return this.parent}},{key:"setParent",value:function(r){this.parent=r,this.initLevel()}},{key:"isChildOf",value:function(r){for(var e=this.getParent();e!==null;){if(e===r)return!0;e=e.getParent()}return!1}},{key:"isSelected",value:function(){return!(this.owner===null||!this.rb.isSelectedObject(this.owner.getId()))}},{key:"isElementAllowed",value:function(r){return!1}},{key:"dragOver",value:function(){this.el!==null&&this.el.classList.add("rbroElementDragOver")}},{key:"getOffset",value:function(){return{x:0,y:0}}},{key:"getOffsetTo",value:function(r){if(r!==null&&r!==this){var e=this.getOffset(),t=r.getOffset();return{x:e.x-t.x,y:e.y-t.y}}return{x:0,y:0}}},{key:"getSize",value:function(){return{width:0,height:0}}},{key:"getContentSize",value:function(){return{width:0,height:0}}},{key:"isInside",value:function(r,e){var t=this.getOffset(),s=this.getSize();return r-=t.x,e-=t.y,r>=0&&e>=0&&r<s.width&&e<s.height}},{key:"clearErrors",value:function(){}}]),w}();function k(w,r){var e=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!e){if(Array.isArray(w)||(e=function(b,D){if(b){if(typeof b=="string")return P(b,D);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?P(b,D):void 0}}(w))||r&&w&&typeof w.length=="number"){e&&(w=e);var t=0,s=function(){};return{s,n:function(){return t>=w.length?{done:!0}:{done:!1,value:w[t++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,g=!0,E=!1;return{s:function(){e=e.call(w)},n:function(){var b=e.next();return g=b.done,b},e:function(b){E=!0,u=b},f:function(){try{g||e.return==null||e.return()}finally{if(E)throw u}}}}function P(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}function c(w,r,e){var t=document.createElement(w);if(r)for(var s in r)r.hasOwnProperty(s)&&t.setAttribute(s,r[s]);return e&&(t.textContent=e),t}function C(w){for(;w.firstChild;)w.removeChild(w.firstChild)}function O(w,r,e,t){var s=t||{};e&&(s.for=e),w.append(c("label",s,r+":"))}function L(w){var r=w.getBoundingClientRect();return{top:r.top+window.scrollY,left:r.left+window.scrollX}}function j(w){w.addEventListener("keyup",function(r){var e=r.target.value,t=e.replace(/[^0-9]/g,"");e!==t&&(r.target.value=t)})}function H(w,r,e){var t=parseFloat(w.replace(",","."));return isNaN(t)||t<r?""+r:t>e?""+e:w}function M(w){if(typeof w=="number")return w;if(typeof w=="string"&&w!==""){var r=parseFloat(w.replace(",","."));if(!isNaN(r))return r}return 0}function B(w,r){var e=Math.ceil(w/r)*r;return e-w<=r>>1?e:e-r}function U(w,r){return Math.floor(w/r)*r}function W(w,r){return Math.ceil(w/r)*r}function R(w,r,e,t){var s,u={shown:!1,paletteId:r.getAttribute("id")+"_select"},g=t.getProperty("colors"),E=c("div",{class:"rbroColorPalette rbroHidden"}),b=k(g);try{for(b.s();!(s=b.n()).done;){var D=s.value;E.append(c("span",{style:"color: ".concat(D),"data-value":D,class:"rbroColorPaletteItem"}))}}catch(Z){b.e(Z)}finally{b.f()}e&&E.append(c("span",{"data-value":"clear",class:"rbroClearColorPalette"},t.getLabel("clear"))),E.addEventListener("click",function(Z){var J=Z.target.dataset.value;J&&(J==="clear"?(r.value="",r.dispatchEvent(new Event("change"))):r.value=J,r.dispatchEvent(new Event("change"))),E.classList.add("rbroHidden"),Z.stopImmediatePropagation()});var N=c("div",{id:u.paletteId,class:"rbroColorPicker"});return N.addEventListener("click",function(Z){E.classList.toggle("rbroHidden"),u.shown=!u.shown}),w.prepend(N),w.append(E),r.addEventListener("focus",function(Z){w.classList.add("rbroActive")}),r.addEventListener("blur",function(Z){w.classList.remove("rbroActive")}),u.documentClickListener=function(Z){var J=Z.target.id;u.shown&&J!==u.paletteId&&(E.classList.add("rbroHidden"),u.shown=!1)},document.addEventListener("click",u.documentClickListener),u.destroy=function(){u.documentClickListener&&(document.removeEventListener("click",u.documentClickListener),u.documentClickListener=null)},u}function F(w){return!w||/^#[0-9A-F]{6}$/i.test(w)}function V(w){if(!(window.TouchEvent&&w instanceof TouchEvent))return{x:w.pageX,y:w.pageY};if(w.touches.length>0){var r=w.touches[w.touches.length-1];return{x:r.pageX,y:r.pageY}}return null}function z(w,r,e){var t=new FileReader;t.onload=function(s){var u=new Image;u.onload=function(){var g=document.createElement("canvas"),E=e.getProperty("imageMaxSize");E&&(u.width>E||u.height>E)&&(u.width>u.height?(u.height=u.height*(E/u.width),u.width=E):(u.width=u.width*(E/u.height),u.height=E));var b=g.getContext("2d");b.clearRect(0,0,g.width,g.height),g.width=u.width,g.height=u.height,b.drawImage(u,0,0,u.width,u.height);var D=g.toDataURL("image/webp");D.substring(0,15)!=="data:image/webp"&&(e.getProperty("imageRequireWebPFormat")?(D=null,alert(e.getLabel("docElementLoadImageWebPErrorMsg"))):D.length>s.target.result.length&&(D=s.target.result)),D&&r(D,w.name)},u.src=s.target.result},t.onerror=function(s){alert(e.getLabel("docElementLoadImageErrorMsg"))},t.readAsDataURL(w)}function T(w,r,e){var t=e.getStyles();C(w),w.append(c("option",{value:""},e.getLabel("styleNone")));var s,u=k(t);try{for(u.s();!(s=u.n()).done;){var g=s.value,E=c("option",{value:g.getId()},g.getName());r&&r===String(g.getId())&&(E.selected=!0),w.append(E)}}catch(b){u.e(b)}finally{u.f()}}String.prototype.reverse=function(){return this.split("").reverse().join("")};var q=y(function w(r,e){K(this,w),this.value=r,this.type=e});function ge(w,r){for(var e=0,t=[];e<w.length;){var s=w[e];if(/[0-9]/.test(s)){for(var u="";e<w.length&&/[0-9.]/.test(w[e]);)u+=w[e++];var g=parseFloat(u);t.push(new q(g,q.type.number))}else if(/[a-zA-Z]/.test(s)){for(var E="";e<w.length&&/[a-zA-Z0-9_]/.test(w[e]);)E+=w[e++];if(E==="true")t.push(new q(!0,q.type.boolean));else if(E==="false")t.push(new q(!1,q.type.boolean));else if(E==="type")r!==null?t.push(new q(r.getElementType(),q.type.string)):t.push(new q("type",q.type.string));else if(r===null)t.push(new q(E,q.type.field));else{var b,D=r.getValue(E);b=D instanceof Number?q.type.number:D instanceof String?q.type.string:D instanceof Boolean?q.type.boolean:q.type.undefined,t.push(new q(D,b))}}else if(s!=="'")if(s!=="("&&s!==")")if(/[!=|&]/.test(s)){if(e++,s==="!"&&(e>=w.length||w[e]!=="=")){t.push(new q(q.operator.negate,q.type.operator));continue}if(!(e<w.length))throw new Error("Invalid token ".concat(s," at end of input"));var N=w[e];if(s==="!"&&N==="=")t.push(new q(q.operator.notEqual,q.type.operator)),e++;else if(s==="="&&N==="=")t.push(new q(q.operator.equal,q.type.operator)),e++;else if(s==="|"&&N==="|")t.push(new q(q.operator.or,q.type.operator)),e++;else{if(s!=="&"||N!=="&")throw new Error("Invalid token ".concat(N," at position ").concat(e));t.push(new q(q.operator.and,q.type.operator)),e++}}else{if(s!==" ")throw new Error("Invalid token ".concat(s," at position ").concat(e));e++}else t.push(new q(s,s==="("?q.type.bracketOpen:q.type.bracketClose)),e++;else{var Z="";for(e++;e<w.length&&w[e]!=="'";)Z+=w[e++];if(e>=w.length)throw new Error("Unterminated string token in input ".concat(w));t.push(new q(Z,q.type.string)),e++}}return t}q.type={operator:"operator",bracketOpen:"bracketOpen",bracketClose:"bracketClose",boolean:"boolean",number:"number",string:"string",undefined:"undefined",field:"field"},q.operator={and:"&&",or:"||",equal:"==",notEqual:"!=",negate:"!"};var de={"!":4,"!=":3,"==":3,"||":2,"&&":1};function ve(w,r){if(w.length===0)return!1;var e=w[w.length-1];return de[e.value]>=de[r.value]}function oe(w,r){var e,t=r.pop().value;switch(w.value!==q.operator.negate&&(e=r.pop().value),w.value){case q.operator.and:return new q(e&&t,q.type.boolean);case q.operator.or:return new q(e||t,q.type.boolean);case q.operator.equal:return new q(e===t,q.type.boolean);case q.operator.notEqual:return new q(e!==t,q.type.boolean);case q.operator.negate:return new q(!t,q.type.boolean);default:throw new Error("Invalid operator: ".concat(w))}}function $(w,r){return function(e){for(var t=[],s=0;s<e.length;s++){var u=e[s];u.type!==q.type.operator?t.push(u):t.push(oe(u,t))}var g=t.pop();return g.type===q.type.boolean?g.value:!!g.value}(function(e){for(var t=[],s=[],u=0;u<e.length;u++){var g=e[u];if(g.type===q.type.operator){for(;ve(t,g);)s.push(t.pop());t.push(g)}else if(g.type===q.type.bracketOpen)t.push(g);else if(g.type===q.type.bracketClose){for(;t.length>0&&t[t.length-1]!==q.type.bracketOpen;)s.push(t.pop());t.pop()}else s.push(g)}for(var E=t.length-1;E>=0;E--)s.push(t[E]);return s}(ge(w,r)))}function ee(w,r,e){return r=v(r),_(w,se()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function se(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(se=function(){return!!w})()}var re=function(w){function r(e,t,s,u,g){var E;return K(this,r),(E=ee(this,r,[s,u,g])).panelItem=null,E.bandType=e,E.section=t,t||(e===r.bandType.header?(E.id="0_header",E.name=g.getLabel("bandHeader")):e===r.bandType.content?(E.id="0_content",E.name=g.getLabel("bandContent"),E.allowAllElements=!0):e===r.bandType.footer&&(E.id="0_footer",E.name=g.getLabel("bandFooter"))),E.el=null,E}return h(r,w),y(r,[{key:"setup",value:function(){this.section||(this.el=this.rb.getDocument().getElement(this.bandType),this.elContent=this.el)}},{key:"isElementAllowed",value:function(e){return e!==Ee.type.tableText&&(this.bandType===r.bandType.content||e!==Ee.type.pageBreak&&e!==Ee.type.table&&e!==Ee.type.section)}},{key:"getOffset",value:function(){var e=0;if(this.section)this.owner!==null&&(e=this.owner.getAbsolutePosition().y);else{var t=this.rb.getDocumentProperties();this.bandType===r.bandType.content&&t.getValue("header")?e=M(t.getValue("headerSize")):this.bandType===r.bandType.footer&&(e=this.rb.getDocument().getHeight()-M(t.getValue("footerSize")))}return{x:0,y:e}}},{key:"getSize",value:function(){var e=this.rb.getDocumentProperties(),t=e.getValue("width")-e.getValue("marginLeftVal")-e.getValue("marginRightVal"),s=0;return this.section?this.owner!==null&&(s=this.owner.getValue("heightVal")):this.bandType===r.bandType.header?s=e.getValue("headerSizeVal"):this.bandType===r.bandType.content?s=e.getValue("height")-e.getValue("headerSizeVal")-e.getValue("footerSizeVal")-e.getValue("marginTopVal")-e.getValue("marginBottomVal"):this.bandType===r.bandType.footer&&(s=e.getValue("footerSizeVal")),{width:t,height:s}}},{key:"getContentSize",value:function(){return this.getSize()}},{key:"isInside",value:function(e,t){return!(this.section&&this.owner!==null&&this.owner&&!this.owner.isVisible())&&n(v(r.prototype),"isInside",this).call(this,e,t)}}]),r}(S);function _e(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}function ke(w,r){var e=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!e){if(Array.isArray(w)||(e=function(b,D){if(b){if(typeof b=="string")return Oe(b,D);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?Oe(b,D):void 0}}(w))||r&&w&&typeof w.length=="number"){e&&(w=e);var t=0,s=function(){};return{s,n:function(){return t>=w.length?{done:!0}:{done:!1,value:w[t++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,g=!0,E=!1;return{s:function(){e=e.call(w)},n:function(){var b=e.next();return g=b.done,b},e:function(b){E=!0,u=b},f:function(){try{g||e.return==null||e.return()}finally{if(E)throw u}}}}function Oe(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}re.bandType={header:"header",content:"content",footer:"footer"};var ye=function(){function w(r,e,t){K(this,w),this.rb=t,this.id=r,this.name=t.getLabel("style"),this.panelItem=null,this.errors=[],this.bold=!1,this.italic=!1,this.underline=!1,this.strikethrough=!1,this.horizontalAlignment=w.alignment.left,this.verticalAlignment=w.alignment.top,this.textColor="#000000",this.backgroundColor="",this.font=t.getProperty("defaultFont"),this.fontSize=12,this.lineSpacing=1,this.borderColor="#000000",this.borderWidth="1",this.borderAll=!1,this.borderLeft=!1,this.borderTop=!1,this.borderRight=!1,this.borderBottom=!1,this.paddingLeft="",this.paddingTop="",this.paddingRight="",this.paddingBottom="",this.borderWidthVal=0,this.setInitialData(e)}return y(w,[{key:"setInitialData",value:function(r){for(var e in r)r.hasOwnProperty(e)&&this.hasOwnProperty(e)&&(this[e]=r[e]);this.borderWidthVal=M(this.borderWidth)}},{key:"getFields",value:function(){return["id","name","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(r){this.panelItem=r}},{key:"getValue",value:function(r){return this[r]}},{key:"setValue",value:function(r,e){if(this[r]=e,r.indexOf("border")!==-1&&(r==="borderWidth"&&(this.borderWidthVal=M(e)),w.setBorderValue(this,r,"",e,this.rb)),r!=="name"){var t,s=ke(this.rb.getDocElements(!0));try{for(s.s();!(t=s.n()).done;)t.value.updateChangedStyle(this.getId())}catch(u){s.e(u)}finally{s.f()}}}},{key:"addCommandsForChangedProperty",value:function(r,e,t,s){var u,g=""+this.getId(),E=ke(this.rb.getDocElements(!0));try{for(E.s();!(u=E.n()).done;){var b=u.value;if(b.hasProperty("styleId")){if(b.getValue("styleId")===g&&b.getValue(r)!==e){var D=new l(b.getId(),r,e,t,this.rb);D.disableSelect(),s.addCommand(D)}if(b.getValue("cs_styleId")===g&&b.getValue("cs_"+r)!==e){var N=new l(b.getId(),"cs_"+r,e,t,this.rb);N.disableSelect(),s.addCommand(N)}}}}catch(Z){E.e(Z)}finally{E.f()}}},{key:"addCommandsForDelete",value:function(r){var e,t,s=ke(this.rb.getDocElements(!0));try{for(s.s();!(t=s.n()).done;){var u=t.value;u.getElementType()!==Ee.type.text&&u.getElementType()!==Ee.type.tableText||!u.getValue("styleId")||M(u.getValue("styleId"))!==this.id||(e=new l(u.getId(),"styleId","",l.type.text,this.rb),r.addCommand(e))}}catch(g){s.e(g)}finally{s.f()}e=new Ge(!1,this.toJS(),this.getId(),this.getPanelItem().getParent().getId(),this.getPanelItem().getSiblingPosition(),this.rb),r.addCommand(e)}},{key:"addError",value:function(r){this.errors.push(r)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var r,e={},t=ke(this.getFields());try{for(t.s();!(r=t.n()).done;){var s=r.value;e[s]=this.getValue(s)}}catch(u){t.e(u)}finally{t.f()}return e}},{key:"getClassName",value:function(){return"Style"}}],[{key:"setBorderValue",value:function(r,e,t,s,u){var g=e;if(t.length>0&&(g=g.substr(t.length)),g==="borderLeft"||g==="borderTop"||g==="borderRight"||g==="borderBottom"){var E=r.getValue("".concat(t,"borderLeft"))&&r.getValue("".concat(t,"borderTop"))&&r.getValue("".concat(t,"borderRight"))&&r.getValue("".concat(t,"borderBottom")),b="".concat(t,"borderAll");E!==r[b]&&(r[b]=E,u.notifyEvent(r,i.operation.change,b))}}}]),w}();function Ve(w,r,e){return r=v(r),_(w,Me()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function Me(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(Me=function(){return!!w})()}ye.font={courier:"courier",helvetica:"helvetica",times:"times"},ye.alignment={left:"left",center:"center",right:"right",justify:"justify",top:"top",middle:"middle",bottom:"bottom"};var Ge=function(w){function r(e,t,s,u,g,E){var b;return K(this,r),(b=Ve(this,r)).add=e,b.initialData=t,b.parentId=u,b.position=g,b.rb=E,b.id=s,b}return h(r,w),y(r,[{key:"getName",value:function(){return this.add?"Add style":"Delete style"}},{key:"do",value:function(){this.add?this.addStyle():this.deleteStyle()}},{key:"undo",value:function(){this.add?this.deleteStyle():this.addStyle()}},{key:"addStyle",value:function(){var e=this.rb.getDataObject(this.parentId);if(e!==null){var t=new ye(this.id,this.initialData,this.rb),s=new et("style",e.getPanelItem(),t,{draggable:!0},this.rb);s.openParentItems(),t.setPanelItem(s),e.getPanelItem().insertChild(this.position,s),this.rb.addStyle(t)}}},{key:"deleteStyle",value:function(){var e=this.rb.getDataObject(this.id);e!==null&&(this.initialData=e.toJS(),this.rb.deleteStyle(e))}},{key:"getClassName",value:function(){return"AddDeleteStyleCmd"}}]),r}(i);function je(w,r){var e=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!e){if(Array.isArray(w)||(e=function(b,D){if(b){if(typeof b=="string")return Te(b,D);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?Te(b,D):void 0}}(w))||r&&w&&typeof w.length=="number"){e&&(w=e);var t=0,s=function(){};return{s,n:function(){return t>=w.length?{done:!0}:{done:!1,value:w[t++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,g=!0,E=!1;return{s:function(){e=e.call(w)},n:function(){var b=e.next();return g=b.done,b},e:function(b){E=!0,u=b},f:function(){try{g||e.return==null||e.return()}finally{if(E)throw u}}}}function Te(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}function qe(w,r,e){return r=v(r),_(w,Xe()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function Xe(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(Xe=function(){return!!w})()}var be=function(w){function r(e,t){var s;return K(this,r),(s=qe(this,r)).name=e,s.rb=t,s.commands=[],s.selectObjectIds=[],s.selectionCmdIndex=[],s}return h(r,w),y(r,[{key:"getName",value:function(){return this.name}},{key:"do",value:function(){if(this.selectionCmdIndex.length>0)for(var e=this.selectionCmdIndex[this.selectionCmdIndex.length-1],t=0;t<this.commands.length;t++){var s=this.commands[t];s instanceof l&&s.setNotifyChange(t>=e)}for(var u=0;u<this.commands.length;u++)this.commands[u].do();this.selectObjects()}},{key:"undo",value:function(){if(this.selectionCmdIndex.length>0)for(var e=this.selectionCmdIndex.length>1?this.selectionCmdIndex[1]:this.commands.length,t=this.commands.length-1;t>=0;t--){var s=this.commands[t];s instanceof l&&s.setNotifyChange(t<e)}for(var u=this.commands.length-1;u>=0;u--)this.commands[u].undo();this.selectObjects()}},{key:"addCommand",value:function(e){e instanceof l&&e.disableSelect(),this.commands.push(e)}},{key:"addSelection",value:function(e){this.selectObjectIds.indexOf(e)===-1&&this.selectObjectIds.push(e),this.selectionCmdIndex.push(this.commands.length)}},{key:"isEmpty",value:function(){return this.commands.length===0}},{key:"getCommands",value:function(){return this.commands}},{key:"selectObjects",value:function(){var e,t=!0,s=je(this.selectObjectIds);try{for(s.s();!(e=s.n()).done;){var u=e.value;if(!this.rb.isSelectedObject(u)){t=!1;break}}}catch(N){s.e(N)}finally{s.f()}if(!t){var g,E=!0,b=je(this.selectObjectIds);try{for(b.s();!(g=b.n()).done;){var D=g.value;this.rb.selectObject(D,E),E=!1}}catch(N){b.e(N)}finally{b.f()}}}},{key:"allowReplace",value:function(e){if(e instanceof r){var t=e.getCommands();if(this.commands.length===t.length){for(var s=0;s<this.commands.length;s++)if(!this.commands[s].allowReplace(t[s]))return!1;return!0}}return!1}},{key:"replace",value:function(e){for(var t=e.getCommands(),s=0;s<this.commands.length;s++)this.commands[s].replace(t[s])}},{key:"getClassName",value:function(){return"CommandGroupCmd"}}]),r}(i);function Ze(w,r){var e=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!e){if(Array.isArray(w)||(e=function(b,D){if(b){if(typeof b=="string")return at(b,D);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?at(b,D):void 0}}(w))||r&&w&&typeof w.length=="number"){e&&(w=e);var t=0,s=function(){};return{s,n:function(){return t>=w.length?{done:!0}:{done:!1,value:w[t++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,g=!0,E=!1;return{s:function(){e=e.call(w)},n:function(){var b=e.next();return g=b.done,b},e:function(b){E=!0,u=b},f:function(){try{g||e.return==null||e.return()}finally{if(E)throw u}}}}function at(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}var et=function(){function w(r,e,t,s,u){var g=this;K(this,w),this.properties={hasChildren:!1,showAdd:!1,showDelete:!0,hasDetails:!0,visible:!0,draggable:!1},Object.assign(this.properties,s),this.panelName=r;var E=t!==null?t.getName():"";this.id=t!==null?t.getId():s.id,this.parent=e,this.data=t,this.rb=u,this.children=[],this.dragEnterCount=0,this.element=c("li"),this.properties.visible||this.element.classList.add("rbroHidden");var b=c("div",{id:"rbro_menu_item".concat(this.id),class:"rbroMenuItem"});this.properties.draggable&&(b.setAttribute("draggable","true"),b.addEventListener("dragstart",function(J){J.dataTransfer.setData("text/plain",""),J.dataTransfer.effectAllowed="move",g.rb.startBrowserDrag("panelItem",null,g.id),J.stopPropagation()})),b.addEventListener("dragover",function(J){g.rb.isBrowserDragActive("panelItem")&&g.rb.getBrowserDragId()!==g.id&&g.getDropObjectInfo().allowDrop&&(J.preventDefault(),J.stopPropagation())}),b.addEventListener("dragenter",function(J){g.rb.isBrowserDragActive("panelItem")&&g.rb.getBrowserDragId()!==g.id&&g.getDropObjectInfo().allowDrop&&(b.classList.add("rbroMenuItemDragOver"),g.dragEnterCount++,J.preventDefault())}),b.addEventListener("dragleave",function(J){g.rb.isBrowserDragActive("panelItem")&&g.rb.getBrowserDragId()!==g.id&&g.getDropObjectInfo().allowDrop&&(g.dragEnterCount--,g.dragEnterCount===0&&b.classList.remove("rbroMenuItemDragOver"))}),b.addEventListener("drop",function(J){if(g.rb.isBrowserDragActive("panelItem")&&g.rb.getBrowserDragId()!==g.id){var le=g.getDropObjectInfo();if(le.allowDrop){g.dragEnterCount--,b.classList.remove("rbroMenuItemDragOver");var Q=new be("Move panel item",g.rb),ue=g.rb.getDataObject(g.rb.getBrowserDragId());if(ue instanceof Ee&&ue.getValue("containerId")!==le.container.getId()){ue.checkBounds(ue.getValue("xVal"),ue.getValue("yVal"),ue.getValue("widthVal"),ue.getValue("heightVal"),le.container.getSize(),Q);var Ie=new l(ue.getId(),"containerId",le.container.getId(),l.type.internal,g.rb);Q.addCommand(Ie)}var fe=new d(ue.getPanelItem(),le.panel,le.position,g.rb);return Q.addCommand(fe),g.rb.executeCommand(Q),J.preventDefault(),!1}}});var D=c("div",{class:"rbroMenuItemText"});if(D.append(c("span",{id:"rbro_menu_item_name".concat(this.id)},E)),this.properties.showAdd){var N=c("div",{id:"rbro_menu_item_add".concat(this.id),class:"rbroButton rbroRoundButton rbroIcon-plus"});N.addEventListener("click",function(J){if(r==="parameter"){var le=new gt(!0,{},g.rb.getUniqueId(),g.getId(),-1,g.rb);g.rb.executeCommand(le)}else if(r==="style"){var Q=new Ge(!0,{},g.rb.getUniqueId(),g.getId(),-1,g.rb);g.rb.executeCommand(Q)}var ue=g.children[g.children.length-1];g.rb.selectObject(ue.getId(),!0),J.stopPropagation()}),b.append(N)}if(this.properties.showDelete){var Z=c("div",{class:"rbroButton rbroDeleteButton rbroIcon-cancel"});Z.addEventListener("click",function(J){var le=null;r==="parameter"?le=new gt(!1,g.getData().toJS(),g.getId(),g.parent.getId(),g.getSiblingPosition(),g.rb):(r==="style"||g.isDocElementPanel()&&g.getData()instanceof Ee)&&(le=new be("Delete",g),g.getData().addCommandsForDelete(le)),le!==null&&g.rb.executeCommand(le),J.stopPropagation()}),b.append(Z)}b.addEventListener("click",function(J){if(!g.properties.hasDetails||document.getElementById("rbro_menu_item".concat(g.id)).classList.contains("rbroMenuItemActive")){var le=document.getElementById("rbro_menu_item_children".concat(g.id));le&&(b.classList.toggle("rbroMenuItemOpen"),le.classList.toggle("rbroHidden"))}if(g.properties.hasDetails)if(g.rb.isSelectedObject(g.id))J.shiftKey&&g.rb.deselectObject(g.id);else{var Q=!0;g.isDocElementPanel()&&(Q=!J.shiftKey),g.rb.selectObject(g.id,Q)}}),this.properties.hasChildren&&(b.classList.add("rbroMenuItemNoChildren"),D.append(c("div",{id:"rbro_menu_item_children_toggle".concat(this.id),class:"rbroMenuArrow rbroIcon-arrow-right"})),this.element.append(c("ul",{id:"rbro_menu_item_children".concat(this.id),class:"rbroHidden"}))),b.prepend(D),this.element.prepend(b)}return y(w,[{key:"getId",value:function(){return this.id}},{key:"getElement",value:function(){return this.element}},{key:"show",value:function(){this.element.classList.remove("rbroHidden")}},{key:"hide",value:function(){this.element.classList.add("rbroHidden")}},{key:"getPanelName",value:function(){return this.panelName}},{key:"getParent",value:function(){return this.parent}},{key:"getData",value:function(){return this.data}},{key:"setData",value:function(r){this.data=r,document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=r!==null?r.getName():""}},{key:"setActive",value:function(){document.getElementById("rbro_menu_item".concat(this.id)).classList.add("rbroMenuItemActive")}},{key:"setInactive",value:function(){document.getElementById("rbro_menu_item".concat(this.id)).classList.remove("rbroMenuItemActive")}},{key:"getParentIds",value:function(){for(var r=[],e=this.getParent();e!==null;)r.push(e.id),e=e.getParent();return r}},{key:"openParentItems",value:function(){for(var r=this.getParent();r!==null;)r.open(),r=r.getParent()}},{key:"open",value:function(){var r=document.getElementById("rbro_menu_item_children".concat(this.getId()));r&&(document.getElementById("rbro_menu_item".concat(this.getId())).classList.add("rbroMenuItemOpen"),r.classList.remove("rbroHidden"))}},{key:"close",value:function(){var r=document.getElementById("rbro_menu_item_children".concat(this.getId()));r&&(document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemOpen"),r.classList.add("rbroHidden"))}},{key:"appendChild",value:function(r){this.children.length===0&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemNoChildren"),this.children.push(r),document.getElementById("rbro_menu_item_children".concat(this.getId())).append(r.getElement())}},{key:"insertChild",value:function(r,e){this.children.length===0&&document.getElementById("rbro_menu_item".concat(this.getId())).classList.remove("rbroMenuItemNoChildren"),r!==-1?this.children.splice(r,0,e):this.children.push(e);var t=document.querySelectorAll("#rbro_menu_item_children".concat(this.getId()," > li"));r>=0&&r<t.length?t[r].before(e.getElement()):document.getElementById("rbro_menu_item_children".concat(this.getId())).append(e.getElement())}},{key:"getChildren",value:function(){return this.children}},{key:"getChildByName",value:function(r){return this.getChildByNameExclude(r,null)}},{key:"getChildByNameExclude",value:function(r,e){var t,s=Ze(this.children);try{for(s.s();!(t=s.n()).done;){var u=t.value;if(u.getData()!==null&&u.getData()!==e&&u.getData().getName()===r)return u}}catch(g){s.e(g)}finally{s.f()}return null}},{key:"removeChild",value:function(r){this.removeChildInternal(r,!0)}},{key:"removeChildInternal",value:function(r,e){for(var t=0;t<this.children.length;t++)if(r.getId()===this.children[t].getId()){if(this.children.splice(t,1),e&&r.getElement().remove(),this.children.length===0){var s=document.getElementById("rbro_menu_item".concat(this.getId()));s!==null&&s.classList.add("rbroMenuItemNoChildren")}break}}},{key:"getSiblingPosition",value:function(){if(this.getParent()!==null){for(var r=this.getParent().getChildren(),e=0;e<r.length;e++)if(r[e]===this)return e}return 0}},{key:"moveTo",value:function(r){this.element.parentElement.removeChild(this.element),this.parent.removeChildInternal(this,!1),this.parent=r,r.appendChild(this)}},{key:"moveToPosition",value:function(r,e){this.element.parentElement.removeChild(this.element),this.parent.removeChildInternal(this,!1),this.parent=r,r.insertChild(e,this)}},{key:"clear",value:function(){this.children.length>0&&(C(document.getElementById("rbro_menu_item_children".concat(this.id))),this.children=[])}},{key:"getDropObjectInfo",value:function(){var r={allowDrop:!1,panel:null,position:-1,container:null},e=this.rb.getDataObject(this.rb.getBrowserDragId());if(e!==null){var t=!1;if(e instanceof Ee){if(this.data instanceof Ee&&this.data.isDroppingAllowed()?(r.container=this.data.getLinkedContainer(),r.container===null&&(r.container=this.data.getContainer(),t=!0)):this.panelName==="band"&&(r.container=this.data),r.container!==null&&r.container.isElementAllowed(e.getElementType())){r.allowDrop=!0;var s,u=Ze(e.getLinkedContainers());try{for(u.s();!(s=u.n()).done;){var g=s.value;if(g===r.container||r.container.isChildOf(g)){r.allowDrop=!1;break}}}catch(b){u.e(b)}finally{u.f()}}}else if(e instanceof ne)if(this.data instanceof ne){var E=this.data.getParent();E!==null?E.getValue("type")===ne.type.array?e.getValue("type")!==ne.type.array&&e.getValue("type")!==ne.type.map&&e.getValue("type")!==ne.type.sum&&e.getValue("type")!==ne.type.average&&(r.allowDrop=!0,t=!0):E.getValue("type")===ne.type.map&&e.getValue("type")!==ne.type.array&&e.getValue("type")!==ne.type.map&&(r.allowDrop=!0,t=!0):(r.allowDrop=!0,t=!0)}else this.panelName==="parameter"&&(r.allowDrop=!0);else e instanceof ye&&(this.data instanceof ye?(r.allowDrop=!0,t=!0):this.panelName==="style"&&(r.allowDrop=!0));r.allowDrop&&(t?(r.panel=this.getParent(),r.position=this.getSiblingPosition()+1):(r.panel=this,r.position=0),(r.panel===null||r.panel===e.getPanelItem().getParent()&&r.position===e.getPanelItem().getSiblingPosition())&&(r.allowDrop=!1))}return r}},{key:"isDocElementPanel",value:function(){return this.panelName===Ee.type.text||this.panelName===Ee.type.image||this.panelName===Ee.type.line||this.panelName===Ee.type.table||this.panelName===Ee.type.pageBreak||this.panelName===Ee.type.barCode||this.panelName===Ee.type.frame||this.panelName===Ee.type.section}}]),w}();function lt(w,r,e){return r=v(r),_(w,St()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function St(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(St=function(){return!!w})()}var gt=function(w){function r(e,t,s,u,g,E){var b;return K(this,r),(b=lt(this,r)).add=e,b.initialData=t,b.parentId=u,b.position=g,b.rb=E,b.id=s,b.showDelete=!0,b}return h(r,w),y(r,[{key:"getName",value:function(){return this.add?"Add parameter":"Delete parameter"}},{key:"setShowDelete",value:function(e){this.showDelete=e}},{key:"do",value:function(){this.add?this.addParameter():this.deleteParameter()}},{key:"undo",value:function(){this.add?this.deleteParameter():this.addParameter()}},{key:"addParameter",value:function(){var e=this.rb.getDataObject(this.parentId);if(e!==null){var t=new ne(this.id,this.initialData,this.rb);this.rb.addParameter(t);var s=new et("parameter",e.getPanelItem(),t,{hasChildren:!0,showAdd:!0,showDelete:this.showDelete,draggable:!0},this.rb);s.openParentItems(),t.setPanelItem(s),e.getPanelItem().insertChild(this.position,s),t.setup(),this.rb.notifyEvent(t,i.operation.add)}}},{key:"deleteParameter",value:function(){var e=this.rb.getDataObject(this.id);e!==null&&(this.initialData=e.toJS(),this.rb.deleteParameter(e))}},{key:"getClassName",value:function(){return"AddDeleteParameterCmd"}}]),r}(i);function ut(w,r){var e=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!e){if(Array.isArray(w)||(e=function(b,D){if(b){if(typeof b=="string")return $t(b,D);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?$t(b,D):void 0}}(w))||r&&w&&typeof w.length=="number"){e&&(w=e);var t=0,s=function(){};return{s,n:function(){return t>=w.length?{done:!0}:{done:!1,value:w[t++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,g=!0,E=!1;return{s:function(){e=e.call(w)},n:function(){var b=e.next();return g=b.done,b},e:function(b){E=!0,u=b},f:function(){try{g||e.return==null||e.return()}finally{if(E)throw u}}}}function $t(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}var ir,Qt,zt,ne=function(){function w(r,e,t){K(this,w),this.rb=t,this.id=r,this.name=t.getLabel("parameter"),this.panelItem=null,this.errors=[],this.type=w.type.string,this.arrayItemType=w.type.string,this.eval=!t.getProperty("adminMode"),this.nullable=!1,this.pattern="",this.expression="",this.testData="",this.testDataBoolean=!1,this.testDataImage="",this.testDataImageFilename="",this.testDataRichText="",this.children=[],this.editable=t.getProperty("adminMode"),this.showOnlyNameType=!1,this.setInitialData(e)}return y(w,[{key:"setInitialData",value:function(r){for(var e in r)r.hasOwnProperty(e)&&this.hasOwnProperty(e)&&(this[e]=r[e]);"showOnlyNameType"in r&&r.showOnlyNameType&&(this.editable=!1)}},{key:"setHighlightUnused",value:function(r){r?document.getElementById("rbro_menu_item".concat(this.panelItem.getId())).classList.add("rbroUnusedParameter"):document.getElementById("rbro_menu_item".concat(this.panelItem.getId())).classList.remove("rbroUnusedParameter")}},{key:"setup",value:function(){if(this.type===w.type.array||this.type===w.type.map){var r,e=this.rb.getProperty("adminMode"),t=ut(this.children);try{for(t.s();!(r=t.n()).done;){var s=r.value,u=new w(s.id||this.rb.getUniqueId(),s,this.rb);this.rb.addParameter(u);var g=new et("parameter",this.panelItem,u,{hasChildren:!0,showAdd:e,showDelete:e,draggable:!0},this.rb);u.setPanelItem(g),this.panelItem.appendChild(g),u.setup(),this.rb.notifyEvent(u,i.operation.add)}}catch(E){t.e(E)}finally{t.f()}}this.updateMenuItemDisplay()}},{key:"isRangeFunction",value:function(){return this.type===w.type.average||this.type===w.type.sum}},{key:"getFields",value:function(){return["id","name","type","arrayItemType","eval","nullable","pattern","expression","showOnlyNameType","testData","testDataBoolean","testDataImage","testDataImageFilename","testDataRichText"]}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){var r,e=this.id;if(this.type===w.type.array||this.type===w.type.map)for(var t=this.children.slice(),s=0;s<t.length;){var u=t[s];u.id>e&&(e=u.id),u.type!==w.type.array&&u.type!==w.type.map||t.push.apply(t,function(g){if(Array.isArray(g))return _e(g)}(r=u.children)||function(g){if(typeof Symbol!="undefined"&&g[Symbol.iterator]!=null||g["@@iterator"]!=null)return Array.from(g)}(r)||function(g,E){if(g){if(typeof g=="string")return _e(g,E);var b=Object.prototype.toString.call(g).slice(8,-1);return b==="Object"&&g.constructor&&(b=g.constructor.name),b==="Map"||b==="Set"?Array.from(g):b==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(b)?_e(g,E):void 0}}(r)||function(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}()),s++}return e}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(r){this.panelItem=r}},{key:"getValue",value:function(r){return this[r]}},{key:"setValue",value:function(r,e){this[r]=e,r==="type"&&this.updateMenuItemDisplay()}},{key:"updateMenuItemDisplay",value:function(){this.rb.getProperty("adminMode")&&(this.type===w.type.array||this.type===w.type.map?(document.getElementById("rbro_menu_item_add".concat(this.getId())).removeAttribute("style"),document.getElementById("rbro_menu_item_children".concat(this.getId())).style.display="block",document.getElementById("rbro_menu_item_children_toggle".concat(this.getId())).removeAttribute("style")):(document.getElementById("rbro_menu_item_add".concat(this.getId())).style.display="none",document.getElementById("rbro_menu_item_children".concat(this.getId())).style.display="none",document.getElementById("rbro_menu_item_children_toggle".concat(this.getId())).style.display="none"))}},{key:"getParent",value:function(){return this.panelItem!==null&&this.panelItem.getParent().getData()instanceof w?this.panelItem.getParent().getData():null}},{key:"addError",value:function(r){this.errors.push(r)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"addCommandsForChangedParameterName",value:function(r,e,t){this.addCommandForChangedParameterName(r,e,"expression",t);var s,u=ut(this.getChildren());try{for(u.s();!(s=u.n()).done;)s.value.addCommandsForChangedParameterName(r,e,t)}catch(g){u.e(g)}finally{u.f()}}},{key:"addCommandForChangedParameterName",value:function(r,e,t,s){var u,g,E=r.getParent();if(E!==null&&E.getValue("type")===w.type.map?(u="${"+E.getName()+"."+r.getName()+"}",g="${"+E.getName()+"."+e+"}"):r.getValue("type")===w.type.map?(u="${"+r.getName()+".",g="${"+e+"."):(u="${"+r.getName()+"}",g="${"+e+"}"),this.getValue(t).indexOf(u)!==-1){var b=new l(this.id,t,this.getValue(t).replaceAll(u,g),l.type.text,this.rb);s.addCommand(b)}}},{key:"addUpdateTestDataCmdForChangedParameterName",value:function(r,e,t){var s=e.length>0?e[0]:null;if(s!==null&&(s.type===w.type.array||s.type===w.type.map))try{var u=s.getTestData(!0);this.renameTestDataParameter(u,this.getName(),r,e,0);var g=JSON.stringify(u);if(this.testData!==g){var E=new l(s.getId(),"testData",g,l.type.text,this.rb);t.addCommand(E)}}catch(b){}}},{key:"renameTestDataParameter",value:function(r,e,t,s,u){var g,E=u+1,b=E<s.length,D=b?s[E].getName():e,N=ut(r);try{for(N.s();!(g=N.n()).done;){var Z=g.value;D in Z&&(b?this.renameTestDataParameter(Z[D],e,t,s,E):(Z[t]=Z[D],delete Z[D]))}}catch(J){N.e(J)}finally{N.f()}}},{key:"addCommandsForChangedParameterType",value:function(r,e){if(this.type===w.type.array||this.type===w.type.simpleArray||this.type===w.type.map||r===w.type.array||r===w.type.simpleArray||r===w.type.map){var t=new l(this.getId(),"testData","",l.type.text,this.rb);e.addCommand(t)}if(this.type!==w.type.array&&r===w.type.array){var s={name:"row_number",type:w.type.number,eval:!1,editable:!1,showOnlyNameType:!0},u=new gt(!0,s,this.rb.getUniqueId(),this.getId(),0,this.rb);u.setShowDelete(!1),e.addCommand(u)}else if(this.type===w.type.array&&r!==w.type.array){var g,E=ut(this.getChildren());try{for(E.s();!(g=E.n()).done;){var b=g.value;if(b.getValue("name")==="row_number"&&!b.getValue("editable")){var D=new gt(!1,b.toJS(),b.getId(),this.getId(),b.getPanelItem().getSiblingPosition(),this.rb);e.addCommand(D);break}}}catch(N){E.e(N)}finally{E.f()}}}},{key:"toJS",value:function(){var r,e={},t=ut(this.getFields());try{for(t.s();!(r=t.n()).done;){var s=r.value;e[s]=this.getValue(s)}}catch(D){t.e(D)}finally{t.f()}if(this.type===w.type.array||this.type===w.type.map){var u,g=[],E=ut(this.panelItem.getChildren());try{for(E.s();!(u=E.n()).done;){var b=u.value;g.push(b.getData().toJS())}}catch(D){E.e(D)}finally{E.f()}e.children=g}return e}},{key:"getChildren",value:function(){var r=[];if(this.type===w.type.array||this.type===w.type.map){var e,t=ut(this.panelItem.getChildren());try{for(t.s();!(e=t.n()).done;){var s=e.value;r.push(s.getData())}}catch(u){t.e(u)}finally{t.f()}}return r}},{key:"appendParameterItems",value:function(r,e,t){this.appendParameterItemsWithPrefix(r,e,t,"")}},{key:"appendParameterItemsWithPrefix",value:function(r,e,t,s){if(this.type===w.type.map){var u,g=[],E=[],b=ut(this.getChildren());try{for(b.s();!(u=b.n()).done;){var D=u.value;D.type===w.type.map?E.push(D):D.isAllowed(e)&&g.push(D)}}catch(Ie){b.e(Ie)}finally{b.f()}if(g.length>0){r.push({separator:!0,id:this.id,separatorClass:"rbroParameterGroup",name:s+this.name});var N,Z=ut(g);try{for(Z.s();!(N=Z.n()).done;){var J=N.value,le=s+this.name+"."+J.getName();r.push({name:le,nameLowerCase:le.toLowerCase(),id:J.getId(),description:"",dataSourceName:t})}}catch(Ie){Z.e(Ie)}finally{Z.f()}}for(var Q=0,ue=E;Q<ue.length;Q++)ue[Q].appendParameterItemsWithPrefix(r,e,t,s+this.name+".")}else this.isAllowed(e)&&r.push({name:s+this.name,nameLowerCase:this.name.toLowerCase(),id:this.id,description:"",dataSourceName:t})}},{key:"isAllowed",value:function(r){return this.type!==w.type.array?!Array.isArray(r)||r.indexOf(this.type)!==-1:Array.isArray(r)&&r.indexOf(this.type)!==-1}},{key:"appendFieldParameterItems",value:function(r,e,t,s){if(this.type===w.type.array){var u,g=!0,E=ut(this.panelItem.getChildren());try{for(E.s();!(u=E.n()).done;){var b=u.value.getData();if(!Array.isArray(e)||e.indexOf(b.getValue("type"))!==-1){if(t){g&&r.push({separator:!0,id:this.id,separatorClass:"rbroParameterRowGroup",name:this.rb.getLabel("parameterRowParams")});var D=b.getName();r.push({name:D,nameLowerCase:D.toLowerCase(),id:b.getId(),description:"",dataSourceName:s})}else{var N=this.name+"."+b.getName();r.push({name:N,nameLowerCase:N.toLowerCase(),id:b.getId(),description:"",dataSourceName:s})}g=!1}}}catch(J){E.e(J)}finally{E.f()}}if(t)for(var Z=this.getParent();Z!==null;){if(Z.type===w.type.array){Z.appendFieldParameterItems(r,e,t,Z.name);break}Z=Z.getParent()}}},{key:"getParameterFields",value:function(){var r=[];if(this.type===w.type.array||this.type===w.type.simpleArray||this.type===w.type.map)if(this.type===w.type.simpleArray)r.push({name:"data",type:this.arrayItemType,parameter:this});else{var e,t=ut(this.getChildren());try{for(t.s();!(e=t.n()).done;){var s=e.value;s.showOnlyNameType||s.eval||s.isRangeFunction()||r.push({name:s.getName(),type:s.getValue("type"),parameter:s})}}catch(u){t.e(u)}finally{t.f()}}return r}},{key:"getTestData",value:function(r){var e=null;try{e=JSON.parse(this.testData)}catch(t){}return this.type!==w.type.array&&this.type!==w.type.simpleArray&&this.type!==w.type.map||!e?null:w.getSanitizedTestData(this,e,r)}},{key:"getClassName",value:function(){return"Parameter"}}],[{key:"getSanitizedTestData",value:function(r,e,t){var s;if(r.type===w.type.map)e&&Object.getPrototypeOf(e)===Object.prototype||(e={}),s=w.getSanitizedTestDataMap(r,e,t);else if(r.type===w.type.simpleArray)s=w.getSanitizedTestDataSimpleArray(r,e,t);else if(r.type===w.type.array){Array.isArray(e)||(e=[]),s=[];var u,g=ut(e);try{for(g.s();!(u=g.n()).done;){var E=u.value;E&&Object.getPrototypeOf(E)===Object.prototype||(E={}),s.push(w.getSanitizedTestDataMap(r,E,t))}}catch(b){g.e(b)}finally{g.f()}}return s}},{key:"getSanitizedTestDataMap",value:function(r,e,t){var s,u={},g=ut(r.getChildren());try{for(g.s();!(s=g.n()).done;){var E=s.value;if(!E.showOnlyNameType){var b=E.name in e?e[E.name]:null;E.type===w.type.array||E.type===w.type.map?u[E.name]=w.getSanitizedTestData(E,b,t):E.type===w.type.simpleArray?u[E.name]=w.getSanitizedTestDataSimpleArray(E,b,t):u[E.name]=w.getSanitizedTestDataValue(E.type,b,t)}}}catch(D){g.e(D)}finally{g.f()}return u}},{key:"getSanitizedTestDataSimpleArray",value:function(r,e,t){var s=e;Array.isArray(s)||(s=[]);var u,g=[],E=ut(s);try{for(E.s();!(u=E.n()).done;){var b=u.value;if(Object.getPrototypeOf(b)===Object.prototype){var D=w.getSanitizedTestDataValue(r.arrayItemType,b.data,t);t?g.push({data:D}):g.push(D)}}}catch(N){E.e(N)}finally{E.f()}return g}},{key:"getSanitizedTestDataValue",value:function(r,e,t){var s=null;if(r===w.type.string)typeof e=="string"&&(s=e);else if(r===w.type.number){if(typeof e=="number")s=e;else if(typeof e=="string"){var u=Number(e.replaceAll(",","."));isNaN(u)||(s=u)}}else r===w.type.boolean?s=typeof e=="boolean"?e:!!e:r===w.type.date?typeof e=="string"&&w.dateRegex.test(e)&&(s=e):r===w.type.image?s=e&&Object.getPrototypeOf(e)===Object.prototype&&"data"in e&&"filename"in e?t?e:e.data:t?{data:"",filename:""}:"":r===w.type.richText&&typeof e=="string"&&(s=e);return s}},{key:"removeIds",value:function(r){if(r.children){var e,t=ut(r.children);try{for(t.s();!(e=t.n()).done;){var s=e.value;"id"in s&&delete s.id}}catch(u){t.e(u)}finally{t.f()}}}}]),w}();function Ct(w,r){var e=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!e){if(Array.isArray(w)||(e=function(b,D){if(b){if(typeof b=="string")return pr(b,D);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?pr(b,D):void 0}}(w))||r&&w&&typeof w.length=="number"){e&&(w=e);var t=0,s=function(){};return{s,n:function(){return t>=w.length?{done:!0}:{done:!1,value:w[t++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,g=!0,E=!1;return{s:function(){e=e.call(w)},n:function(){var b=e.next();return g=b.done,b},e:function(b){E=!0,u=b},f:function(){try{g||e.return==null||e.return()}finally{if(E)throw u}}}}function pr(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}ir=ne,zt=/^(\d{4})-(\d{1,2})-(\d{1,2})( (\d{1,2}):(\d{2})(:(\d{2}))?)?$/,(Qt=x(Qt="dateRegex"))in ir?Object.defineProperty(ir,Qt,{value:zt,enumerable:!0,configurable:!0,writable:!0}):ir[Qt]=zt,ne.type={none:"none",string:"string",number:"number",boolean:"boolean",date:"date",image:"image",richText:"rich_text",array:"array",simpleArray:"simple_array",map:"map",sum:"sum",average:"average"};var Ee=function(){function w(r,e,t,s,u){K(this,w),this.rb=u,this.id=e,this.name=r,this.panelItem=null,this.x="0",this.y="0",this.width=""+t,this.height=""+s,this.containerId=null,this.linkedContainerId=null,this.printIf="",this.removeEmptyElement=!1,this.el=null,this.selected=!1,this.xVal=0,this.yVal=0,this.widthVal=0,this.heightVal=0,this.errors=[]}return y(w,[{key:"setInitialData",value:function(r){for(var e in r)r.hasOwnProperty(e)&&this.hasOwnProperty(e)&&(this[e]=r[e]);this.x=""+this.x,this.y=""+this.y,this.width=""+this.width,this.height=""+this.height,this.xVal=M(this.x),this.yVal=M(this.y),this.widthVal=M(this.width),this.heightVal=M(this.height)}},{key:"setup",value:function(r){var e=this.getContainer();if(e!==null){var t=e.getContentSize();this.xVal+this.widthVal>t.width&&(this.xVal=t.width-this.widthVal),this.xVal<0&&(this.xVal=0),this.yVal+this.heightVal>t.height&&(this.yVal=t.height-this.heightVal),this.yVal<0&&(this.yVal=0),this.x=""+this.xVal,this.y=""+this.yVal}}},{key:"registerContainerEventHandlers",value:function(){var r=this;this.el.addEventListener("dblclick",function(e){r.rb.isSelectedObject(r.id)||(r.rb.selectObject(r.id,!0),e.stopPropagation())}),this.el.addEventListener("mousedown",function(e){e.shiftKey?(r.rb.deselectObject(r.id),e.stopPropagation()):r.rb.isSelectedObject(r.id)?(r.rb.getDocument().startDrag(e.pageX,e.pageY,r.id,r.containerId,r.getElementType(),w.dragType.element),e.stopPropagation()):r.rb.deselectAll(!0)}),this.el.addEventListener("touchstart",function(e){if(r.rb.isSelectedObject(r.id)){var t=V(e);r.rb.getDocument().startDrag(t.x,t.y,r.id,r.containerId,r.getElementType(),w.dragType.element)}e.preventDefault()}),this.el.addEventListener("touchmove",function(e){r.rb.getDocument().processDrag(e)}),this.el.addEventListener("touchend",function(e){r.rb.getDocument().stopDrag()})}},{key:"registerEventHandlers",value:function(){var r=this;this.el.addEventListener("dblclick",function(e){r.handleDoubleClick(e)}),this.el.addEventListener("mousedown",function(e){r.handleClick(e,!1)}),this.el.addEventListener("touchstart",function(e){if(r.rb.isSelectedObject(r.id)){var t=V(e);r.rb.getDocument().startDrag(t.x,t.y,r.id,r.containerId,r.getElementType(),w.dragType.element),e.preventDefault()}else r.handleClick(e,!0)}),this.el.addEventListener("touchmove",function(e){r.rb.isSelectedObject(r.id)&&r.rb.getDocument().processDrag(e)}),this.el.addEventListener("touchend",function(e){r.rb.isSelectedObject(r.id)&&r.rb.getDocument().stopDrag()})}},{key:"handleDoubleClick",value:function(r){this.handleClick(r,!0)}},{key:"handleClick",value:function(r,e){if(this.rb.isSelectedObject(this.id))r.shiftKey?this.rb.deselectObject(this.id):e||this.rb.getDocument().startDrag(r.pageX,r.pageY,this.id,this.containerId,this.getElementType(),w.dragType.element),r.stopPropagation();else if(e||!this.isContainerSelected()){var t=!0;if(r.shiftKey){var s=[];this.appendContainerChildren(s);for(var u=0,g=s;u<g.length;u++){var E=g[u];if(this.rb.isSelectedObject(E.getId())){t=!1;break}}}t&&this.rb.selectObject(this.id,!r.shiftKey),r.stopPropagation()}}},{key:"getId",value:function(){return this.id}},{key:"getMaxId",value:function(){return this.id}},{key:"getName",value:function(){return this.name}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(r){this.panelItem=r}},{key:"getContainerId",value:function(){return this.containerId}},{key:"getContainer",value:function(){return this.rb.getDataObject(this.getContainerId())}},{key:"getLinkedContainer",value:function(){return this.linkedContainerId!==null?this.rb.getDataObject(this.linkedContainerId):null}},{key:"getLinkedContainers",value:function(){var r=this.getLinkedContainer();return r?[r]:[]}},{key:"getContainerContentSize",value:function(){var r=this.getContainer();return r!==null?r.getContentSize():{width:0,height:0}}},{key:"appendToContainer",value:function(){var r=this.getContainer();r!==null&&r.appendElement(this.el)}},{key:"isContainerSelected",value:function(){var r=this.getContainer();return r!==null&&r.isSelected()}},{key:"appendContainerChildren",value:function(r){if(this.linkedContainerId!==null&&this.panelItem!==null){var e,t=Ct(this.panelItem.getChildren());try{for(t.s();!(e=t.n()).done;){var s=e.value;s.getData()instanceof w&&(r.push(s.getData()),s.getData().appendContainerChildren(r))}}catch(u){t.e(u)}finally{t.f()}}}},{key:"getAbsolutePosition",value:function(){var r={x:this.xVal,y:this.yVal},e=this.getContainer();if(e!==null){var t=e.getOffset();r.x+=t.x,r.y+=t.y}return r}},{key:"checkBounds",value:function(r,e,t,s,u,g){if(r+t>u.width&&(r=u.width-t),r<0&&(r=0),r+t>u.width&&(t=u.width-r),e+s>u.height&&(e=u.height-s),e<0&&(e=0),e+s>u.height&&(s=u.height-e),r!==this.xVal&&this.hasProperty("x")){var E=new l(this.id,"x",""+r,l.type.text,this.rb);E.disableSelect(),g.addCommand(E)}if(e!==this.yVal&&this.hasProperty("y")){var b=new l(this.id,"y",""+e,l.type.text,this.rb);b.disableSelect(),g.addCommand(b)}if(t!==this.getDisplayWidth()&&this.hasProperty("width")&&this.addCommandsForChangedWidth(t,!0,g),s!==this.getDisplayHeight()&&this.hasProperty("height")){var D=new l(this.id,"height",""+s,l.type.text,this.rb);D.disableSelect(),g.addCommand(D)}var N=this.getLinkedContainer();if(N!==null&&N.getPanelItem()!==null){var Z,J={width:t,height:s},le=Ct(N.getPanelItem().getChildren());try{for(le.s();!(Z=le.n()).done;){var Q=Z.value;if(Q.getData()instanceof w){var ue=Q.getData();ue.checkBounds(ue.getValue("xVal"),ue.getValue("yVal"),ue.getDisplayWidth(),ue.getDisplayHeight(),J,g)}}}catch(Ie){le.e(Ie)}finally{le.f()}}}},{key:"getValue",value:function(r){return this[r]}},{key:"setValue",value:function(r,e){if(this[r]=e,r==="x"||r==="y"||r==="width"||r==="height")this[r+"Val"]=M(e),this.updateDisplay();else if(r==="containerId"){this.el!==null&&(this.el.parentElement.removeChild(this.el),this.appendToContainer());var t=this.getLinkedContainers();if(t.length>0){var s,u=this.getContainer(),g=Ct(t);try{for(g.s();!(s=g.n()).done;)s.value.setParent(u)}catch(D){g.e(D)}finally{g.f()}}var E,b=Ct(this.rb.getContainers());try{for(b.s();!(E=b.n()).done;)E.value.initLevel()}catch(D){b.e(D)}finally{b.f()}this.updateDisplay()}else["styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(r)!==-1&&(this.updateStyle(),["borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom"].indexOf(r)!==-1&&this.updateDisplay())}},{key:"getUpdateValue",value:function(r,e){return e}},{key:"getDisplayWidth",value:function(){return this.widthVal}},{key:"getDisplayHeight",value:function(){return this.heightVal}},{key:"getFields",value:function(){var r=this.getProperties();return r.splice(0,0,"id","containerId"),r}},{key:"getProperties",value:function(){return[]}},{key:"hasProperty",value:function(r){return this.getProperties().indexOf(r)!==-1}},{key:"getElementType",value:function(){return w.type.none}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.widthVal,this.heightVal)}},{key:"updateDisplayInternal",value:function(r,e,t,s){this.el!==null&&(this.el.style.left=this.rb.toPixel(r),this.el.style.top=this.rb.toPixel(e),this.el.style.width=this.rb.toPixel(t),this.el.style.height=this.rb.toPixel(s))}},{key:"updateStyle",value:function(){}},{key:"updateChangedStyle",value:function(r){M(this.styleId)===r&&this.updateStyle()}},{key:"getDragDiff",value:function(r,e,t,s){var u,g,E={x:0,y:0},b=this.xVal,D=this.yVal,N=b+this.getDisplayWidth(),Z=D+this.getDisplayHeight(),J=this.getMinWidth(),le=this.getMaxWidth(),Q=this.getMinHeight();if(t===w.dragType.element)u=b+r,s!==0&&(u=B(u,s)),g=D+e,s!==0&&(g=B(g,s)),E.x=u-b,E.y=g-D;else{var ue=this.getContainerContentSize();t!==w.dragType.sizerNW&&t!==w.dragType.sizerN&&t!==w.dragType.sizerNE||(g=D+e,s!==0&&(g=B(g,s)),g>Z-Q?g=s!==0?U(Z-Q,s):Z-Q:g<0&&(g=0),E.y=g-D),t!==w.dragType.sizerNE&&t!==w.dragType.sizerE&&t!==w.dragType.sizerSE||(u=N+r,s!==0&&(u=B(u,s)),u<b+J?u=s!==0?W(b+J,s):b+J:u>le&&(u=le),E.x=u-N),t!==w.dragType.sizerSE&&t!==w.dragType.sizerS&&t!==w.dragType.sizerSW||(g=Z+e,s!==0&&(g=B(g,s)),g<D+Q?g=s!==0?W(D+Q,s):D+Q:g>ue.height&&(g=ue.height),E.y=g-Z),t!==w.dragType.sizerSW&&t!==w.dragType.sizerW&&t!==w.dragType.sizerNW||(u=b+r,s!==0&&(u=B(u,s)),u>N-J?u=s!==0?U(N-J,s):N-J:u<0&&(u=0),E.x=u-b)}return E}},{key:"updateDrag",value:function(r,e,t,s,u){var g=this.xVal,E=this.yVal,b=g+this.getDisplayWidth(),D=E+this.getDisplayHeight(),N=this.getMaxWidth(),Z=this.getContainerContentSize();t===w.dragType.element?(b=(g+=r)+this.getDisplayWidth(),D=(E+=e)+this.getDisplayHeight()):(t!==w.dragType.sizerNW&&t!==w.dragType.sizerN&&t!==w.dragType.sizerNE||(E+=e),t!==w.dragType.sizerNE&&t!==w.dragType.sizerE&&t!==w.dragType.sizerSE||(b+=r),t!==w.dragType.sizerSE&&t!==w.dragType.sizerS&&t!==w.dragType.sizerSW||(D+=e),t!==w.dragType.sizerSW&&t!==w.dragType.sizerW&&t!==w.dragType.sizerNW||(g+=r),g<0&&(g=0),b<g&&(b=g),E<0&&(E=0),D<E&&(D=E),b>N&&(b=N),D>Z.height&&(D=Z.height));var J=b-g,le=D-E;if(u!==null){var Q=!1,ue=this.getContainer(),Ie={width:0,height:0};if(s!==null&&s.getId()!==this.getContainerId()){if(Q=!0,Ie=s.getContentSize(),ue!==null){var fe=s.getOffsetTo(ue);g-=fe.x,E-=fe.y}}else Ie=ue.getContentSize();if(!Q||s.isElementAllowed(this.getElementType())){var we=u.getCommands().length;if(this.checkBounds(g,E,J,le,Ie,u),Q){var Se=new l(this.id,"containerId",s.getId(),l.type.internal,this.rb);u.addCommand(Se),Se=new d(this.getPanelItem(),s.getPanelItem(),s.getPanelItem().getChildren().length,this.rb),u.addCommand(Se)}u.getCommands().length===we&&this.updateDisplay()}else this.updateDisplay()}else this.updateDisplayInternal(g,E,J,le)}},{key:"select",value:function(){var r=this;if(this.el!==null){var e,t=this.getSizerContainerElement(),s=Ct(this.getSizers());try{var u=function(){var g=e.value,E=g,b=c("div",{class:"rbroSizer rbroSizer".concat(g)});b.addEventListener("mousedown",function(D){r.rb.getDocument().startDrag(D.pageX,D.pageY,r.id,r.containerId,r.getElementType(),w.dragType["sizer"+E]),D.stopPropagation()}),b.addEventListener("touchstart",function(D){if(r.rb.isSelectedObject(r.id)){var N=V(D);r.rb.getDocument().startDrag(N.x,N.y,r.id,r.containerId,r.getElementType(),w.dragType["sizer"+E])}D.preventDefault(),D.stopPropagation()}),b.addEventListener("touchmove",function(D){r.rb.getDocument().processDrag(D)}),b.addEventListener("touchend",function(D){r.rb.getDocument().stopDrag()}),t.append(b)};for(s.s();!(e=s.n()).done;)u()}catch(g){s.e(g)}finally{s.f()}this.el.classList.add("rbroSelected"),this.el.style.zIndex="10"}this.selected=!0}},{key:"deselect",value:function(){if(this.el!==null){var r,e=Ct(this.getSizerContainerElement().querySelectorAll(".rbroSizer"));try{for(e.s();!(r=e.n()).done;)r.value.remove()}catch(t){e.e(t)}finally{e.f()}this.el.style.zIndex="",this.el.classList.remove("rbroSelected")}this.selected=!1}},{key:"getSizers",value:function(){return["N","NE","E","SE","S","SW","W","NW"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isAreaSelectionAllowed",value:function(){return!0}},{key:"isDraggingAllowed",value:function(){return!0}},{key:"isDroppingAllowed",value:function(){return!0}},{key:"getMinWidth",value:function(){return 20}},{key:"getMaxWidth",value:function(){return this.getContainerContentSize().width}},{key:"getMinHeight",value:function(){return 20}},{key:"createElement",value:function(){}},{key:"getElement",value:function(){return this.el}},{key:"getSizerContainerElement",value:function(){return this.el}},{key:"getContentElement",value:function(){return null}},{key:"hasDataSource",value:function(){return!1}},{key:"getDataSourceParameterName",value:function(){if(this.hasDataSource()){var r=this.getValue("dataSource").trim();if(r.length>=3&&r.substr(0,2)==="${"&&r.charAt(r.length-1)==="}")return r.substring(2,r.length-1)}return null}},{key:"getAllDataSources",value:function(){var r=[],e=[];this.getAllDataSourceParameterNames(e,null);for(var t=e.length-1;t>=0;t--){var s,u=e[t],g=null,E=Ct(r);try{for(E.s();!(s=E.n()).done;){var b,D=Ct(s.value.parameters);try{for(D.s();!(b=D.n()).done;){var N=b.value;if(N.getName()===u){g=N;break}}}catch(Z){D.e(Z)}finally{D.f()}}}catch(Z){E.e(Z)}finally{E.f()}g===null&&(g=this.rb.getParameterByName(u)),g!==null&&g.getValue("type")===ne.type.array&&r.unshift({name:u,parameters:g.getChildren()})}return r}},{key:"getAllDataSourceParameterNames",value:function(r,e){if((this.getElementType()===w.type.table||this.getElementType()===w.type.section)&&e&&e.getValue("bandType")===re.bandType.content){var t=this.getDataSourceParameterName();t!==null&&r.push(t)}var s=this.getPanelItem();if(s!==null){var u=s.getParent();u!==null&&u.getData()instanceof w&&u.getData().getAllDataSourceParameterNames(r,this)}}},{key:"addCommandsForChangedParameterName",value:function(r,e,t){}},{key:"addCommandForChangedParameterName",value:function(r,e,t,s){for(var u=r.getParent(),g=this.getAllDataSources(),E=!1,b="",D=null,N=null;u!==null;){if(u.getValue("type")!==ne.type.map){if(u.getValue("type")===ne.type.array){E=!0,D=u.getName();break}return}b=u.getName()+"."+b,N=u.getName(),u=u.getParent()}var Z="${"+b+r.getName(),J="${"+b+e;r.getValue("type")===ne.type.map?(Z+=".",J+="."):(Z+="}",J+="}");var le=!1;if(g.length>0){var Q,ue=N||r.getName(),Ie=Ct(g[0].parameters);try{for(Ie.s();!(Q=Ie.n()).done;)if(Q.value.getName()===ue){le=!0;break}}catch(Se){Ie.e(Se)}finally{Ie.f()}}if(E){for(var fe=-1,we=0;we<g.length;we++)if(g[we].name===D){fe=we;break}fe===0&&le&&g[0].name===D?this.addCommandForChangedText(Z,J,t,s):fe>0&&(Z="${"+D+":"+Z.substring(2),J="${"+D+":"+J.substring(2),this.addCommandForChangedText(Z,J,t,s))}else le||(g.length>0&&(Z="${:"+Z.substring(2),J="${:"+J.substring(2)),this.addCommandForChangedText(Z,J,t,s))}},{key:"addCommandForChangedText",value:function(r,e,t,s){var u=this.getValue(t),g=l.type.text;if(A(u)==="object"&&(u=JSON.stringify(u),g=l.type.richText),u.indexOf(r)!==-1){var E=u.replaceAll(r,e);g===l.type.richText&&(E=JSON.parse(E));var b=new l(this.id,t,E,g,this.rb);s.addCommand(b)}}},{key:"addCommandsForDelete",value:function(r){var e=[];this.appendContainerChildren(e),e.push(this);for(var t=0,s=e;t<s.length;t++){var u=s[t],g=new Et(!1,u.getPanelItem().getPanelName(),u.toJS(),u.getId(),u.getContainerId(),u.getPanelItem().getSiblingPosition(),this.rb);r.addCommand(g)}}},{key:"addCommandsForChangedWidth",value:function(r,e,t){var s=new l(this.id,"width",""+r,l.type.text,this.rb);e&&s.disableSelect(),t.addCommand(s)}},{key:"addChildren",value:function(r){}},{key:"addError",value:function(r){this.errors.push(r)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){this.el!==null&&(this.el.remove(),this.el=null),this.panelItem!==null&&(this.panelItem.getParent().removeChild(this.panelItem),this.panelItem=null)}},{key:"toJS",value:function(){var r,e={elementType:this.getElementType()},t=Ct(this.getFields());try{for(t.s();!(r=t.n()).done;){var s=r.value;["x","y","width","height"].indexOf(s)===-1?e[s]=this.getValue(s):e[s]=this.getValue(s+"Val")}}catch(u){t.e(u)}finally{t.f()}return e}}]),w}();Ee.type={none:"none",text:"text",image:"image",line:"line",table:"table",pageBreak:"page_break",tableText:"table_text",barCode:"bar_code",frame:"frame",section:"section"},Ee.dragType={none:-1,element:0,sizerN:1,sizerNE:2,sizerE:3,sizerSE:4,sizerS:5,sizerSW:6,sizerW:7,sizerNW:8};var Mn=st(6129),$r=st.n(Mn),Fn=st(7583);function Vn(w,r,e){return r=v(r),_(w,Kr()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function Kr(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(Kr=function(){return!!w})()}var qn=function(w){function r(e,t,s){var u;return K(this,r),(u=Vn(this,r,[s.getLabel("docElementImage"),e,80,80,s])).elBarCode=null,u.elContent=null,u.content="",u.format="CODE128",u.displayValue=!1,u.barWidth="2",u.guardBar=!1,u.errorCorrectionLevel="M",u.rotate=!1,u.spreadsheet_hide=!1,u.spreadsheet_column="",u.spreadsheet_colspan="",u.spreadsheet_addEmptyRow=!1,u.setInitialData(t),u.name=u.rb.getLabel("docElementBarCode"),u}return h(r,w),y(r,[{key:"setup",value:function(e){n(v(r.prototype),"setup",this).call(this,e),this.createElement(),this.content!==""&&this.updateBarCode(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(e,t){n(v(r.prototype),"setValue",this).call(this,e,t),e!=="content"&&e!=="format"&&e!=="displayValue"&&e!=="barWidth"&&e!=="guardBar"&&e!=="width"&&e!=="height"&&e!=="errorCorrectionLevel"&&e!=="rotate"||(this.updateBarCode(),this.updateDisplay(),e==="rotate"&&this.rb.isSelectedObject(this.getId())&&(this.rb.deselectObject(this.getId()),this.rb.selectObject(this.getId())))}},{key:"getProperties",value:function(){return["x","y","width","height","content","format","displayValue","barWidth","guardBar","errorCorrectionLevel","printIf","removeEmptyElement","rotate","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return Ee.type.barCode}},{key:"updateDisplayInternal",value:function(e,t,s,u){this.el!==null&&(this.el.style.left=this.rb.toPixel(e),this.el.style.top=this.rb.toPixel(t),this.el.style.width=this.rb.toPixel(s),this.el.style.height=this.rb.toPixel(u))}},{key:"getSizers",value:function(){return this.format!=="QRCode"&&this.rotate?["N","NE","E","SE","S","SW","W","NW"]:["N","S"]}},{key:"createElement",value:function(){this.el=c("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroBarCodeElement"}),this.elContent=c("div",{id:"rbro_el_content".concat(this.id),style:"height: 100%"}),this.elBarCode=c("canvas",{id:"rbro_el_barcode".concat(this.id)}),this.elContent.append(this.elBarCode),this.el.append(this.elContent),this.appendToContainer(),this.updateBarCode(),n(v(r.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){n(v(r.prototype),"remove",this).call(this)}},{key:"updateBarCode",value:function(){if(this.format==="QRCode"){this.widthVal=this.heightVal,this.width=""+this.widthVal;var e=this.content;e===""&&(e="https://www.reportbro.com");var t={width:this.widthVal,margin:0,errorCorrectionLevel:this.errorCorrectionLevel};this.clearRotateStyle(),Fn.toCanvas(this.elBarCode,e,t)}else{var s=!1,u=this.rotate?this.widthVal:this.heightVal;this.displayValue&&(u-=22),this.format!=="EAN8"&&this.format!=="EAN13"||!this.guardBar||(u-=12);var g={format:this.format,height:u,margin:0,displayValue:this.displayValue,width:2};this.format==="EAN8"||this.format==="EAN13"?g.flat=!this.guardBar:this.format==="UPC"&&(g.flat=!0);var E=M(this.barWidth);if(E&&(g.width=E),this.elBarCode.style.width="",this.elBarCode.style.height="",this.content!==""&&this.content.indexOf("${")===-1)try{$r()("#"+this.elBarCode.id,this.content,g),s=!0}catch(Z){}if(!s){var b="";this.format==="CODE39"||this.format==="CODE128"?b="12345678":this.format==="EAN13"?b="5901234123457":this.format==="EAN8"?b="96385074":this.format==="EAN5"?b="12345":this.format==="EAN2"?b="12":this.format==="ITF14"?b="12345678901231":this.format==="UPC"?b="036000291452":this.format!=="MSI"&&this.format!=="MSI10"&&this.format!=="MSI11"&&this.format!=="MSI1010"&&this.format!=="MSI1110"&&this.format!=="pharmacode"||(b="1234"),$r()("#"+this.elBarCode.id,b,g)}if(this.rotate){var D=-(this.elBarCode.clientWidth-this.widthVal)/2,N=-D;this.elBarCode.style.transform="translate(".concat(D,"px, ").concat(N,"px) rotate(90deg)"),this.elContent.style.overflow="hidden"}else this.widthVal=this.elBarCode.clientWidth,this.width=""+this.widthVal,this.clearRotateStyle()}}},{key:"clearRotateStyle",value:function(){this.elBarCode.style.transform="",this.elContent.style.overflow=""}},{key:"addCommandsForChangedParameterName",value:function(e,t,s){this.addCommandForChangedParameterName(e,t,"content",s),this.addCommandForChangedParameterName(e,t,"printIf",s)}},{key:"getClassName",value:function(){return"BarCodeElement"}}]),r}(Ee);function zn(w,r,e){return r=v(r),_(w,Xr()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function Xr(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(Xr=function(){return!!w})()}var Hn=function(w){function r(e,t,s){return K(this,r),zn(this,r,[e,t,s])}return h(r,w),y(r,[{key:"setup",value:function(){this.el=this.rb.getDocument().getElement(this.band)}},{key:"isElementAllowed",value:function(e){return e!==Ee.type.pageBreak&&e!==Ee.type.frame&&e!==Ee.type.section}},{key:"getOffset",value:function(){var e=0,t=0;if(this.owner!==null&&(e=this.owner.getValue("xVal"),t=this.owner.getValue("yVal")),this.parent!==null){var s=this.parent.getOffset();e+=s.x,t+=s.y}return{x:e,y:t}}},{key:"getSize",value:function(){var e=0,t=0;return this.owner!==null&&(e=this.owner.getValue("widthVal"),t=this.owner.getValue("heightVal")),{width:e,height:t}}},{key:"getContentSize",value:function(){var e=0,t=0;if(this.owner!==null){e=this.owner.getValue("widthVal"),t=this.owner.getValue("heightVal");var s=this.owner.getValue("borderWidthVal");this.owner.getValue("borderLeft")&&(e-=s),this.owner.getValue("borderRight")&&(e-=s),this.owner.getValue("borderTop")&&(t-=s),this.owner.getValue("borderBottom")&&(t-=s)}return{width:e,height:t}}}]),r}(S);function Un(w,r,e){return r=v(r),_(w,Zr()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function Zr(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(Zr=function(){return!!w})()}var Jr=function(w){function r(e,t,s){var u;return K(this,r),(u=Un(this,r,[s.getLabel("docElementFrame"),e,100,100,s])).frame=null,u.setupComplete=!1,u.elContent=null,u.elContentFrame=null,u.label="",u.backgroundColor="",u.borderAll=!1,u.borderLeft=!1,u.borderTop=!1,u.borderRight=!1,u.borderBottom=!1,u.borderColor="#000000",u.borderWidth="1",u.shrinkToContentHeight=!1,u.spreadsheet_hide=!1,u.spreadsheet_column="",u.spreadsheet_addEmptyRow=!1,u.setInitialData(t),u.borderWidthVal=M(u.borderWidth),u}return h(r,w),y(r,[{key:"setup",value:function(e){this.borderWidthVal=M(this.borderWidth),n(v(r.prototype),"setup",this).call(this),this.createElement(),this.updateDisplay(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.frame=new Hn(this.linkedContainerId,"frame_"+this.linkedContainerId,this.rb),this.frame.init(this),this.rb.addContainer(this.frame),this.setupComplete=!0,this.updateStyle(),this.updateName(),e&&this.panelItem.open()}},{key:"registerEventHandlers",value:function(){n(v(r.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"setValue",value:function(e,t){e.indexOf("border")!==-1&&(this[e]=t,e==="borderWidth"&&(this.borderWidthVal=M(t)),ye.setBorderValue(this,e,"",t,this.rb)),n(v(r.prototype),"setValue",this).call(this,e,t),e==="label"&&this.updateName()}},{key:"updateDisplayInternal",value:function(e,t,s,u){this.el!==null&&(this.el.style.left=this.rb.toPixel(e),this.el.style.top=this.rb.toPixel(t),this.el.style.width=this.rb.toPixel(s),this.el.style.height=this.rb.toPixel(u)),this.borderLeft&&(s-=this.borderWidthVal),this.borderRight&&(s-=this.borderWidthVal),this.borderTop&&(u-=this.borderWidthVal),this.borderBottom&&(u-=this.borderWidthVal),this.elContentFrame.style.width=this.rb.toPixel(s),this.elContentFrame.style.height=this.rb.toPixel(u)}},{key:"updateStyle",value:function(){var e;this.getValue("borderLeft")||this.getValue("borderTop")||this.getValue("borderRight")||this.getValue("borderBottom")?(e=this.getValue("borderTop")?"solid":"none",e+=this.getValue("borderRight")?" solid":" none",e+=this.getValue("borderBottom")?" solid":" none",e+=this.getValue("borderLeft")?" solid":" none",this.elContent.style.borderWidth=this.getValue("borderWidthVal")+"px",this.elContent.style.borderColor=this.getValue("borderColor")):e="none",this.elContent.style.borderStyle=e,this.el.style.backgroundColor=this.getValue("backgroundColor")}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id","containerId","linkedContainerId"),e}},{key:"getProperties",value:function(){return["label","x","y","width","height","backgroundColor","borderAll","borderLeft","borderTop","borderRight","borderBottom","borderColor","borderWidth","printIf","removeEmptyElement","shrinkToContentHeight","alignToPageBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return Ee.type.frame}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=c("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroFrameElement rbroElementContainer"}),this.elContent=c("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentFrame=c("div",{id:"rbro_el_content_frame".concat(this.id),class:"rbroDocElementContentFrame"}),this.elContent.append(this.elContentFrame),this.el.append(this.elContent),this.appendToContainer(),this.registerEventHandlers()}},{key:"getContentElement",value:function(){return this.elContentFrame}},{key:"remove",value:function(){n(v(r.prototype),"remove",this).call(this),this.rb.deleteContainer(this.frame)}},{key:"updateName",value:function(){this.label.trim()!==""?this.name=this.label:this.name=this.rb.getLabel("docElementFrame"),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"addCommandsForChangedParameterName",value:function(e,t,s){this.addCommandForChangedParameterName(e,t,"printIf",s)}},{key:"getClassName",value:function(){return"FrameElement"}}]),r}(Ee);function Wn(w,r,e){return r=v(r),_(w,Yr()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function Yr(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(Yr=function(){return!!w})()}var Gn=function(w){function r(e,t,s){var u;return K(this,r),(u=Wn(this,r,[s.getLabel("docElementImage"),e,80,80,s])).source="",u.image="",u.imageWidth=0,u.imageHeight=0,u.imageRatio=0,u.imageFilename="",u.elImg=null,u.elContent=null,u.horizontalAlignment=ye.alignment.left,u.verticalAlignment=ye.alignment.top,u.backgroundColor="",u.link="",u.spreadsheet_hide=!1,u.spreadsheet_column="",u.spreadsheet_addEmptyRow=!1,u.setInitialData(t),u}return h(r,w),y(r,[{key:"setup",value:function(e){n(v(r.prototype),"setup",this).call(this,e),this.createElement(),this.setImage(),this.updateDisplay(),this.updateStyle(),this.updateName()}},{key:"setValue",value:function(e,t){n(v(r.prototype),"setValue",this).call(this,e,t),e!=="source"&&e!=="imageFilename"||this.updateName(),e!=="source"&&e!=="image"||this.setImage()}},{key:"getProperties",value:function(){return["x","y","width","height","source","image","imageFilename","horizontalAlignment","verticalAlignment","backgroundColor","printIf","removeEmptyElement","link","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return Ee.type.image}},{key:"updateDisplayInternal",value:function(e,t,s,u){if(this.el!==null){this.el.style.left=this.rb.toPixel(e),this.el.style.top=this.rb.toPixel(t),this.el.style.width=this.rb.toPixel(s),this.el.style.height=this.rb.toPixel(u);var g=0,E=0;if(this.imageRatio!==0&&(g=this.imageWidth<s?this.imageWidth:s,E=this.imageHeight<u?this.imageHeight:u,g!==this.imageWidth||E!==this.imageHeight)){var b=Math.floor(E*this.imageRatio);b<s?g=b:E=Math.floor(g/this.imageRatio)}this.elImg.style.width=this.rb.toPixel(g),this.elImg.style.height=this.rb.toPixel(E)}}},{key:"updateStyle",value:function(){var e=this.getValue("horizontalAlignment"),t=this.getValue("verticalAlignment"),s="rbroDocElementAlign"+e.charAt(0).toUpperCase()+e.slice(1),u="rbroDocElementVAlign"+t.charAt(0).toUpperCase()+t.slice(1);this.elContent.style.textAlign=e,this.elContent.style.verticalAlign=t,this.elContent.style.backgroundColor=this.getValue("backgroundColor"),this.elContent.className="",this.elContent.classList.add("rbroContentContainerHelper"),this.elContent.classList.add(s),this.elContent.classList.add(u)}},{key:"createElement",value:function(){var e=this;this.el=c("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroImageElement"}),this.elImg=c("img",{src:""}),this.elImg.addEventListener("load",function(t){e.imageWidth=e.elImg.naturalWidth,e.imageHeight=e.elImg.naturalHeight,e.imageHeight!==0?e.imageRatio=e.imageWidth/e.imageHeight:e.imageRatio=0,e.updateDisplay()}),this.elContent=c("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContent.append(this.elImg),this.el.append(this.elContent),this.appendToContainer(),n(v(r.prototype),"registerEventHandlers",this).call(this)}},{key:"remove",value:function(){this.elImg=null,n(v(r.prototype),"remove",this).call(this)}},{key:"setImage",value:function(){this.elImg.setAttribute("src",""),this.source.startsWith("https://")||this.source.startsWith("http://")?this.elImg.setAttribute("src",this.source):this.image!==""?this.elImg.setAttribute("src",this.image):(this.imageWidth=0,this.imageHeight=0,this.imageRatio=0,this.updateDisplay())}},{key:"updateName",value:function(){this.getValue("imageFilename").trim()!==""?this.name=this.getValue("imageFilename"):this.getValue("source").trim()!==""?this.name=this.getValue("source"):this.name=this.rb.getLabel("docElementImage");var e=document.getElementById("rbro_menu_item_name".concat(this.id));e.textContent=this.name,e.setAttribute("title",this.name)}},{key:"addCommandsForChangedParameterName",value:function(e,t,s){this.addCommandForChangedParameterName(e,t,"source",s),this.addCommandForChangedParameterName(e,t,"printIf",s)}},{key:"getClassName",value:function(){return"ImageElement"}}]),r}(Ee);function $n(w,r,e){return r=v(r),_(w,Qr()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function Qr(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(Qr=function(){return!!w})()}var Kn=function(w){function r(e,t,s){var u;return K(this,r),(u=$n(this,r,[s.getLabel("docElementLine"),e,100,1,s])).color="#000000",u.setInitialData(t),u}return h(r,w),y(r,[{key:"setup",value:function(e){n(v(r.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(e,t){n(v(r.prototype),"setValue",this).call(this,e,t),e==="color"&&this.updateStyle()}},{key:"getProperties",value:function(){return["x","y","width","height","color","printIf"]}},{key:"getElementType",value:function(){return Ee.type.line}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.getValue("color")}},{key:"getSizers",value:function(){return["E","W"]}},{key:"createElement",value:function(){this.el=c("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroLineElement"}),this.appendToContainer(),n(v(r.prototype),"registerEventHandlers",this).call(this)}},{key:"addCommandsForChangedParameterName",value:function(e,t,s){this.addCommandForChangedParameterName(e,t,"printIf",s)}},{key:"getClassName",value:function(){return"LineElement"}}]),r}(Ee);function Xn(w,r,e){return r=v(r),_(w,en()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function en(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(en=function(){return!!w})()}var tn=function(w){function r(e,t,s){var u;return K(this,r),(u=Xn(this,r,[s.getLabel("docElementPageBreak"),e,-1,1,s])).setInitialData(t),u}return h(r,w),y(r,[{key:"setup",value:function(e){n(v(r.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.updateStyle()}},{key:"setValue",value:function(e,t){n(v(r.prototype),"setValue",this).call(this,e,t)}},{key:"getProperties",value:function(){return["y","printIf"]}},{key:"getElementType",value:function(){return Ee.type.pageBreak}},{key:"updateDisplayInternal",value:function(e,t,s,u){this.el!==null&&(this.el.style.left=this.rb.toPixel(0),this.el.style.top=this.rb.toPixel(t),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(1))}},{key:"getSizers",value:function(){return[]}},{key:"createElement",value:function(){this.el=c("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroPageBreakElement"}),this.appendToContainer(),n(v(r.prototype),"registerEventHandlers",this).call(this)}},{key:"getClassName",value:function(){return"PageBreakElement"}}]),r}(Ee);function Zn(w,r,e){return r=v(r),_(w,rn()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function rn(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(rn=function(){return!!w})()}var Jn=function(w){function r(e,t,s,u){var g;return K(this,r),(g=Zn(this,r,[s===re.bandType.header?u.getLabel("bandHeader"):s===re.bandType.footer?u.getLabel("bandFooter"):u.getLabel("bandContent"),e,0,100,u])).setupComplete=!1,g.band=null,g.bandType=s,g.repeatHeader=!1,g.backgroundColor="",g.alternateBackgroundColor="",g.alwaysPrintOnSamePage=!0,g.shrinkToContentHeight=!1,g.parentId=t.parentId,g.heightVal=0,g.visible=s===re.bandType.content,g.setInitialData(t),g}return h(r,w),y(r,[{key:"setup",value:function(){this.createElement(),this.updateDisplay(),this.updateStyle(),this.linkedContainerId===null&&(this.linkedContainerId=this.rb.getUniqueId()),this.band=new re(this.bandType,!0,this.linkedContainerId,"section_"+this.bandType+"_"+this.linkedContainerId,this.rb),this.band.init(this),this.rb.addContainer(this.band),this.setupComplete=!0}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){return this.linkedContainerId}},{key:"getAbsolutePosition",value:function(){var e={x:0,y:0},t=this.getParent();return t!==null&&(e=t.getAbsolutePosition()),e.y+=this.yVal,e}},{key:"setValue",value:function(e,t){if(n(v(r.prototype),"setValue",this).call(this,e,t),e==="height"){this[e+"Val"]=M(t);var s=this.getParent();s!==null&&s.updateBands(this)}else e==="backgroundColor"&&this.updateStyle()}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id","containerId","linkedContainerId"),e}},{key:"getProperties",value:function(){var e=["height","backgroundColor","shrinkToContentHeight"];return this.bandType===re.bandType.header?e.push("repeatHeader"):(e.push("alwaysPrintOnSamePage"),e.push("shrinkToContentHeight"),this.bandType===re.bandType.content&&e.push("alternateBackgroundColor")),e}},{key:"updateDisplayInternal",value:function(e,t,s,u){if(this.el!==null&&(this.el.style.top=this.rb.toPixel(t),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(u),this.setupComplete)){var g=this.getParent();g!==null&&g.updateHeight(this,u)}}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.backgroundColor}},{key:"select",value:function(){n(v(r.prototype),"select",this).call(this),this.el.classList.add("rbroHighlightBandDescription")}},{key:"deselect",value:function(){n(v(r.prototype),"deselect",this).call(this),this.el.classList.remove("rbroHighlightBandDescription")}},{key:"getSizers",value:function(){return["S"]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=c("div",{id:"rbro_el".concat(this.id),class:"rbroSectionBandElement rbroElementContainer"}),this.el.append(c("div",{id:"rbro_el_band_description".concat(this.id),class:"rbroDocumentBandDescription"})),document.getElementById("rbro_el".concat(this.parentId)).append(this.el)}},{key:"getContentElement",value:function(){return this.el}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"show",value:function(e){this.visible=e,e?this.el.classList.remove("rbroHidden"):this.el.classList.add("rbroHidden")}},{key:"isVisible",value:function(){return this.visible}},{key:"getClassName",value:function(){return"SectionBandElement"}}]),r}(Ee);function nn(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}function Yn(w,r,e){return r=v(r),_(w,on()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function on(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(on=function(){return!!w})()}var Ar=function(w){function r(e,t,s){var u;return K(this,r),(u=Yn(this,r,[s.getLabel("docElementSection"),e,-1,60,s])).setupComplete=!1,u.elDividerHeader=null,u.elDividerFooter=null,u.elDividerBottom=null,u.dataSource="",u.label="",u.header=!1,u.footer=!1,u.headerData=null,u.contentData=null,u.footerData=null,u.setInitialData(t),u}return h(r,w),y(r,[{key:"setup",value:function(e){n(v(r.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.headerData=this.createBand(re.bandType.header,null),this.contentData=this.createBand(re.bandType.content,null),this.footerData=this.createBand(re.bandType.footer,null),this.updateHeight(null,-1),this.setWidth(this.getContainerContentSize().width),this.setupComplete=!0,this.updateName(),e&&this.panelItem.open()}},{key:"createBand",value:function(e,t){var s,u,g=e+"Data",E={hasChildren:!0,showDelete:!1};t?s=t:this[g]?u=(s=this[g]).id:s={},s.parentId=this.id,s.containerId=this.containerId,u||(u=this.rb.getUniqueId());var b=0;e===re.bandType.header?s.y=""+b:e===re.bandType.content?(this.header&&this.headerData!==null&&(b+=this.headerData.getValue("heightVal")),s.y=""+b):e===re.bandType.footer&&(this.header&&this.headerData!==null&&(b+=this.headerData.getValue("heightVal")),this.contentData!==null&&(b+=this.contentData.getValue("heightVal")),s.y=""+b),(e===re.bandType.header&&!this.header||e===re.bandType.footer&&!this.footer)&&(E.visible=!1);var D=new Jn(u,s,e,this.rb);this.rb.addDataObject(D);var N=new et("section_band",this.panelItem,D,E,this.rb);return D.setPanelItem(N),this.panelItem.appendChild(N),D.setup(),e===re.bandType.header?D.show(this.header):e===re.bandType.footer&&D.show(this.footer),D}},{key:"registerEventHandlers",value:function(){n(v(r.prototype),"registerContainerEventHandlers",this).call(this)}},{key:"getMaxId",value:function(){var e=this.id;return this.footerData!==null&&(e=this.footerData.getMaxId()),e}},{key:"appendContainerChildren",value:function(e){this.headerData!==null&&this.headerData.appendContainerChildren(e),this.contentData!==null&&this.contentData.appendContainerChildren(e),this.footerData!==null&&this.footerData.appendContainerChildren(e)}},{key:"setValue",value:function(e,t){n(v(r.prototype),"setValue",this).call(this,e,t),e==="label"||e==="dataSource"?this.updateName():e==="header"?(this.headerData.show(t),t?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):e==="footer"?(this.footerData.show(t),t?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):e==="containerId"&&(this.headerData.containerId=t,this.contentData.containerId=t,this.footerData.containerId=t),e!=="header"&&e!=="footer"||this.updateBands(null)}},{key:"updateDisplayInternal",value:function(e,t,s,u){this.el!==null&&(this.el.style.top=this.rb.toPixel(t),this.el.style.width="100%",this.el.style.height=this.rb.toPixel(u))}},{key:"getProperties",value:function(){return["y","label","dataSource","header","footer","printIf"]}},{key:"getElementType",value:function(){return Ee.type.section}},{key:"select",value:function(){n(v(r.prototype),"select",this).call(this);for(var e=this.getSizerContainerElement(),t=0,s=["N","S"];t<s.length;t++){var u=s[t];e.append(c("div",{class:"rbroSizer rbroSizer".concat(u," rbroSizerMove")}))}this.headerData!==null&&document.getElementById("rbro_el".concat(this.headerData.getId())).classList.add("rbroHighlightBandDescription"),this.contentData!==null&&document.getElementById("rbro_el".concat(this.contentData.getId())).classList.add("rbroHighlightBandDescription"),this.footerData!==null&&document.getElementById("rbro_el".concat(this.footerData.getId())).classList.add("rbroHighlightBandDescription")}},{key:"deselect",value:function(){n(v(r.prototype),"deselect",this).call(this);var e,t=function(s,u){var g=typeof Symbol!="undefined"&&s[Symbol.iterator]||s["@@iterator"];if(!g){if(Array.isArray(s)||(g=function(J,le){if(J){if(typeof J=="string")return nn(J,le);var Q=Object.prototype.toString.call(J).slice(8,-1);return Q==="Object"&&J.constructor&&(Q=J.constructor.name),Q==="Map"||Q==="Set"?Array.from(J):Q==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(Q)?nn(J,le):void 0}}(s))||u&&s&&typeof s.length=="number"){g&&(s=g);var E=0,b=function(){};return{s:b,n:function(){return E>=s.length?{done:!0}:{done:!1,value:s[E++]}},e:function(J){throw J},f:b}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D,N=!0,Z=!1;return{s:function(){g=g.call(s)},n:function(){var J=g.next();return N=J.done,J},e:function(J){Z=!0,D=J},f:function(){try{N||g.return==null||g.return()}finally{if(Z)throw D}}}}(this.el.querySelectorAll(".rbroSectionBandElement"));try{for(t.s();!(e=t.n()).done;)e.value.classList.remove("rbroHighlightBandDescription")}catch(s){t.e(s)}finally{t.f()}}},{key:"getSizers",value:function(){return[]}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=c("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroSectionElement"}),this.el.append(c("div",{id:"rbro_divider_section_top".concat(this.id),class:"rbroDivider rbroDividerSection",style:"top: 0px"})),this.elDividerHeader=c("div",{id:"rbro_divider_section_header".concat(this.id),class:"rbroDivider rbroDividerSectionBand rbroHidden"}),this.el.append(this.elDividerHeader),this.elDividerFooter=c("div",{id:"rbro_divider_section_footer".concat(this.id),class:"rbroDivider rbroDividerSectionBand rbroHidden"}),this.el.append(this.elDividerFooter),this.elDividerBottom=c("div",{id:"rbro_divider_section_bottom".concat(this.id),class:"rbroDivider rbroDividerSection"}),this.el.append(this.elDividerBottom),this.appendToContainer(),this.registerEventHandlers()}},{key:"remove",value:function(){n(v(r.prototype),"remove",this).call(this),this.headerData!==null&&this.rb.deleteContainer(this.headerData.getLinkedContainer()),this.contentData!==null&&this.rb.deleteContainer(this.contentData.getLinkedContainer()),this.footerData!==null&&this.rb.deleteContainer(this.footerData.getLinkedContainer())}},{key:"updateName",value:function(){this.label.trim()!==""?this.name=this.label:(this.name=this.rb.getLabel("docElementSection"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource)),this.headerData!==null&&(document.getElementById("rbro_el_band_description".concat(this.headerData.getId())).textContent=this.name+" "+this.headerData.getName()),this.contentData!==null&&(document.getElementById("rbro_el_band_description".concat(this.contentData.getId())).textContent=this.name+" "+this.contentData.getName()),this.footerData!==null&&(document.getElementById("rbro_el_band_description".concat(this.footerData.getId())).textContent=this.name+" "+this.footerData.getName()),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"setWidth",value:function(e){this.widthVal=e,this.width=""+e,this.headerData!==null&&(this.headerData.widthVal=e,this.headerData.width=""+e),this.contentData!==null&&(this.contentData.widthVal=e,this.contentData.width=""+e),this.footerData!==null&&(this.footerData.widthVal=e,this.footerData.width=""+e)}},{key:"updateHeight",value:function(e,t){var s=0;this.header&&this.headerData!==null?(e===this.headerData?s+=t:s+=this.headerData.getValue("heightVal"),this.elDividerHeader.style.top=this.rb.toPixel(s),this.elDividerHeader.classList.remove("rbroHidden")):this.elDividerHeader.classList.add("rbroHidden"),this.contentData!==null&&(e===this.contentData?s+=t:s+=this.contentData.getValue("heightVal")),this.footer&&this.footerData!==null?(this.elDividerFooter.style.top=this.rb.toPixel(s),this.elDividerFooter.classList.remove("rbroHidden"),e===this.footerData?s+=t:s+=this.footerData.getValue("heightVal")):document.getElementById("rbro_divider_section_footer".concat(this.id)).classList.add("rbroHidden"),this.elDividerBottom.style.top=this.rb.toPixel(s),this.height=""+s,this.heightVal=s,this.updateDisplay()}},{key:"updateBands",value:function(e){if(this.setupComplete){var t=0;this.header&&(this.headerData!==e&&this.headerData.setValue("y",""+t),t+=this.headerData.getValue("heightVal")),this.contentData!==e&&this.contentData.setValue("y",""+t),t+=this.contentData.getValue("heightVal"),this.footer&&this.footerData!==e&&this.footerData.setValue("y",""+t)}this.updateHeight(null,-1)}},{key:"getLinkedContainers",value:function(){for(var e,t=[],s=0,u=["headerData","contentData","footerData"];s<u.length;s++){var g=u[s];this[g]!==null&&(e=this[g].getLinkedContainer())!==null&&t.push(e)}return t}},{key:"hasDataSource",value:function(){return!0}},{key:"addCommandsForChangedParameterName",value:function(e,t,s){this.addCommandForChangedParameterName(e,t,"dataSource",s),this.addCommandForChangedParameterName(e,t,"printIf",s)}},{key:"toJS",value:function(){var e=n(v(r.prototype),"toJS",this).call(this);return e.headerData=this.headerData.toJS(),e.contentData=this.contentData.toJS(),e.footerData=this.footerData.toJS(),e}},{key:"getClassName",value:function(){return"SectionElement"}}]),r}(Ee);function an(w,r){var e=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!e){if(Array.isArray(w)||(e=function(b,D){if(b){if(typeof b=="string")return ln(b,D);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?ln(b,D):void 0}}(w))||r&&w&&typeof w.length=="number"){e&&(w=e);var t=0,s=function(){};return{s,n:function(){return t>=w.length?{done:!0}:{done:!1,value:w[t++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,g=!0,E=!1;return{s:function(){e=e.call(w)},n:function(){var b=e.next();return g=b.done,b},e:function(b){E=!0,u=b},f:function(){try{g||e.return==null||e.return()}finally{if(E)throw u}}}}function ln(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}function Qn(w,r,e){return r=v(r),_(w,sn()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function sn(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(sn=function(){return!!w})()}var un=function(w){function r(e,t,s){var u;return K(this,r),(u=Qn(this,r,[s.getLabel("docElementText"),e,100,20,s])).elContent=null,u.elContentText=null,u.elContentTextData=null,u.content="",u.richText=!1,u.richTextContent=null,u.richTextHtml="",u.eval=!1,u.styleId="",u.bold=!1,u.italic=!1,u.underline=!1,u.strikethrough=!1,u.horizontalAlignment=ye.alignment.left,u.verticalAlignment=ye.alignment.top,u.textColor="#000000",u.backgroundColor="",u.font=s.getProperty("defaultFont"),u.fontSize=12,u.lineSpacing=1,u.borderColor="#000000",u.borderWidth="1",u.borderAll=!1,u.borderLeft=!1,u.borderTop=!1,u.borderRight=!1,u.borderBottom=!1,u.paddingLeft="2",u.paddingTop="2",u.paddingRight="2",u.paddingBottom="2",u.cs_condition="",u.cs_styleId="",u.cs_additionalRules="",u.cs_bold=!1,u.cs_italic=!1,u.cs_underline=!1,u.cs_strikethrough=!1,u.cs_horizontalAlignment=ye.alignment.left,u.cs_verticalAlignment=ye.alignment.top,u.cs_textColor="#000000",u.cs_backgroundColor="",u.cs_font=ye.font.helvetica,u.cs_fontSize=12,u.cs_lineSpacing=1,u.cs_borderColor="#000000",u.cs_borderWidth="1",u.cs_borderAll=!1,u.cs_borderLeft=!1,u.cs_borderTop=!1,u.cs_borderRight=!1,u.cs_borderBottom=!1,u.cs_paddingLeft="2",u.cs_paddingTop="2",u.cs_paddingRight="2",u.cs_paddingBottom="2",u.alwaysPrintOnSamePage=!0,u.pattern="",u.link="",u.spreadsheet_hide=!1,u.spreadsheet_column="",u.spreadsheet_colspan="",u.spreadsheet_addEmptyRow=!1,u.spreadsheet_type="",u.spreadsheet_pattern="",u.spreadsheet_textWrap=!1,u.setInitialData(t),u.borderWidthVal=M(u.borderWidth),u}return h(r,w),y(r,[{key:"setup",value:function(e){n(v(r.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.updateStyle(),this.richText?this.setupRichText():this.updateContent(this.content)}},{key:"handleDoubleClick",value:function(e){n(v(r.prototype),"handleDoubleClick",this).call(this,e);var t=document.getElementById("rbro_doc_element_content");t.focus(),typeof t.selectionStart=="number"&&(t.selectionStart=t.selectionEnd=t.value.length)}},{key:"setValue",value:function(e,t){e.indexOf("border")!==-1&&(this[e]=t,e.substr(0,3)==="cs_"?(e==="cs_borderWidth"&&(this.borderWidthVal=M(t)),ye.setBorderValue(this,e,"cs_",t,this.rb)):(e==="borderWidth"&&(this.borderWidthVal=M(t)),ye.setBorderValue(this,e,"",t,this.rb))),n(v(r.prototype),"setValue",this).call(this,e,t),e==="content"?this.updateContent(t):e==="width"||e==="height"?this.updateDisplay():e==="richText"?(t?this.setupRichText():this.updateContent(this.content),this.updateStyle()):e==="richTextContent"?this.updateRichTextContent(t):e==="richTextHtml"&&(document.getElementById("rbro_el_content_text_data".concat(this.id)).innerHTML=t)}},{key:"getProperties",value:function(){return["x","y","width","height","content","richText","richTextContent","richTextHtml","eval","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","borderColor","borderWidth","borderAll","borderLeft","borderTop","borderRight","borderBottom","paddingLeft","paddingTop","paddingRight","paddingBottom","printIf","removeEmptyElement","alwaysPrintOnSamePage","pattern","link","cs_condition","cs_styleId","cs_additionalRules","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_borderColor","cs_borderWidth","cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_hide","spreadsheet_column","spreadsheet_colspan","spreadsheet_addEmptyRow","spreadsheet_type","spreadsheet_pattern","spreadsheet_textWrap"]}},{key:"getElementType",value:function(){return Ee.type.text}},{key:"updateDisplayInternal",value:function(e,t,s,u){this.el!==null&&(this.el.style.left=this.rb.toPixel(e),this.el.style.top=this.rb.toPixel(t),this.el.style.width=this.rb.toPixel(s),this.el.style.height=this.rb.toPixel(u));var g=this.getContentSize(s,u,this.getStyle());this.elContentText.style.width=this.rb.toPixel(g.width),this.elContentText.style.height=this.rb.toPixel(g.height)}},{key:"getStyle",value:function(){var e=this;if(this.styleId!==""){var t=this.rb.getDataObject(this.styleId);t!==null&&(e=t)}return e}},{key:"addCommandsForChangedStyle",value:function(e,t,s,u){if(e!==""){var g=this.rb.getStyleById(e);if(g!==null){var E,b=an(g.getFields().slice(2));try{for(b.s();!(E=b.n()).done;){var D=E.value,N=t+D,Z=g.getValue(D);if(Z!==this.getValue(N)){var J=s[N],le=new l(this.getId(),N,Z,J.type,this.rb);le.disableSelect(),u.addCommand(le)}}}catch(Q){b.e(Q)}finally{b.f()}}}u.addCommand(new l(this.getId(),t+"styleId",e,l.type.select,this.rb))}},{key:"getContentSize",value:function(e,t,s){var u=s.getValue("borderWidthVal");return e-=M(s.getValue("paddingLeft"))+M(s.getValue("paddingRight")),s.getValue("borderLeft")&&(e-=u),s.getValue("borderRight")&&(e-=u),t-=M(s.getValue("paddingTop"))+M(s.getValue("paddingBottom")),s.getValue("borderTop")&&(t-=u),s.getValue("borderBottom")&&(t-=u),{width:e,height:t}}},{key:"updateStyle",value:function(){var e,t={},s=this.getStyle(),u="",g="",E=this.getContentSize(this.getDisplayWidth(),this.getDisplayHeight(),s);t.width=this.rb.toPixel(E.width),t.height=this.rb.toPixel(E.height);var b=s.getValue("horizontalAlignment"),D=s.getValue("verticalAlignment"),N="rbroDocElementAlign"+b.charAt(0).toUpperCase()+b.slice(1),Z="rbroDocElementVAlign"+D.charAt(0).toUpperCase()+D.slice(1);t["vertical-align"]=D,t["background-color"]=s.getValue("backgroundColor"),this.richText?(t["font-weight"]="unset",t["font-style"]="normal",t["text-decoration"]="none",t["text-align"]="unset",t.color="#000000",t["font-family"]=this.rb.getProperty("defaultFont"),t["font-size"]="12px"):(t["font-weight"]=s.getValue("bold")?"bold":"",t["font-style"]=s.getValue("italic")?"italic":"normal",s.getValue("underline")&&s.getValue("strikethrough")?t["text-decoration"]="underline line-through":s.getValue("underline")?t["text-decoration"]="underline":s.getValue("strikethrough")?t["text-decoration"]="line-through":t["text-decoration"]="none",t["text-align"]=b,t.color=s.getValue("textColor"),t["font-family"]=s.getValue("font"),t["font-size"]=s.getValue("fontSize")+"px"),t["line-height"]=s.getValue("lineSpacing"),s.getValue("borderLeft")||s.getValue("borderTop")||s.getValue("borderRight")||s.getValue("borderBottom")?(e=s.getValue("borderTop")?"solid":"none",e+=s.getValue("borderRight")?" solid":" none",e+=s.getValue("borderBottom")?" solid":" none",e+=s.getValue("borderLeft")?" solid":" none",u=s.getValue("borderWidthVal")+"px",g=s.getValue("borderColor")):e="none",s.getValue("paddingLeft")!==""||s.getValue("paddingTop")!==""||s.getValue("paddingRight")!==""||s.getValue("paddingBottom")!==""?(t.padding=this.rb.toPixel(s.getValue("paddingTop")),t.padding+=" "+this.rb.toPixel(s.getValue("paddingRight")),t.padding+=" "+this.rb.toPixel(s.getValue("paddingBottom")),t.padding+=" "+this.rb.toPixel(s.getValue("paddingLeft"))):t.padding="",this.elContent.style.borderStyle=e,this.elContent.style.borderWidth=u,this.elContent.style.borderColor=g,this.elContent.className="",this.elContent.classList.add("rbroContentContainerHelper"),this.elContent.classList.add(N),this.elContent.classList.add(Z);var J="";for(var le in t)J+=le+": "+t[le]+";";this.elContentText.style.cssText=J}},{key:"hasBorderSettings",value:function(){return!0}},{key:"createElement",value:function(){this.el=c("div",{id:"rbro_el".concat(this.id),class:"rbroDocElement rbroTextElement"}),this.elContent=c("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentText=c("div",{id:"rbro_el_content_text".concat(this.id),class:"rbroDocElementContentText"}),this.elContentTextData=c("span",{id:"rbro_el_content_text_data".concat(this.id)}),this.elContentText.append(this.elContentTextData),this.elContent.append(this.elContentText),this.el.append(this.elContent),this.appendToContainer(),this.elContentTextData.textContent=this.content,n(v(r.prototype),"registerEventHandlers",this).call(this)}},{key:"updateContent",value:function(e){e.trim()===""?this.name=this.rb.getLabel("docElementText"):this.name=e;var t=document.getElementById("rbro_menu_item_name".concat(this.id));t.textContent=this.name,t.setAttribute("title",this.name),this.elContentTextData.textContent=e}},{key:"updateRichTextContent",value:function(e){var t="";if(e&&e.ops){var s,u=an(e.ops);try{for(u.s();!(s=u.n()).done;){var g=s.value;"insert"in g&&(t+=g.insert)}}catch(b){u.e(b)}finally{u.f()}(t=t.replace(/(?:\r\n|\r|\n)/g," ")).length>80&&(t=t.substr(0,80)),t=t.trim()}this.name=t===""?this.rb.getLabel("docElementText"):t;var E=document.getElementById("rbro_menu_item_name".concat(this.id));E.textContent=this.name,E.setAttribute("title",this.name)}},{key:"setupRichText",value:function(){this.updateRichTextContent(this.richTextContent),this.elContentTextData.innerHTML=this.richTextHtml}},{key:"addCommandsForChangedParameterName",value:function(e,t,s){this.addCommandForChangedParameterName(e,t,"content",s),this.addCommandForChangedParameterName(e,t,"richTextContent",s),this.addCommandForChangedParameterName(e,t,"richTextHtml",s),this.addCommandForChangedParameterName(e,t,"printIf",s),this.addCommandForChangedParameterName(e,t,"cs_condition",s)}},{key:"toJS",value:function(){for(var e=n(v(r.prototype),"toJS",this).call(this),t=0,s=["borderWidth","paddingLeft","paddingTop","paddingRight","paddingBottom","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom"];t<s.length;t++){var u=s[t];e[u]=M(this.getValue(u))}return e}},{key:"getClassName",value:function(){return"TextElement"}}]),r}(Ee);function eo(w,r,e){return r=v(r),_(w,cn()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function cn(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(cn=function(){return!!w})()}var Ht=function(w){function r(e,t,s){var u;return K(this,r),(u=eo(this,r,[e,t,s])).elContent=null,u.elContentText=null,u.elContentTextData=null,u.colspan=t.colspan||"",u.colspanVal=1,u.columnIndex=t.columnIndex,u.parentId=t.parentId,u.tableId=t.tableId,u.displayWidth=u.widthVal,u.lastTouchStartTime=0,u.updateColspanVal(),u}return h(r,w),y(r,[{key:"setInitialData",value:function(e){this.growWeight=0,n(v(r.prototype),"setInitialData",this).call(this,e)}},{key:"registerEventHandlers",value:function(){var e=this;this.el.addEventListener("dblclick",function(t){e.rb.isSelectedObject(e.id)||e.rb.isSelectedObject(e.tableId)&&(e.rb.selectObject(e.id,!t.shiftKey),t.stopPropagation())}),this.el.addEventListener("mousedown",function(t){e.rb.isSelectedObject(e.id)?(t.shiftKey&&e.rb.deselectObject(e.id),t.stopPropagation()):e.rb.isTableElementSelected(e.tableId)&&(e.rb.selectObject(e.id,!t.shiftKey),t.stopPropagation())}),this.el.addEventListener("touchstart",function(t){e.rb.isSelectedObject(e.id)||(new Date().getTime()-e.lastTouchStartTime<1e3?e.rb.isSelectedObject(e.tableId)&&(e.rb.selectObject(e.id,!0),t.stopPropagation()):e.rb.isTableElementSelected(e.tableId)&&(e.rb.selectObject(e.id,!0),t.stopPropagation())),e.lastTouchStartTime=new Date().getTime()})}},{key:"getContainerId",value:function(){var e=this.getTable();return e!==null?e.getContainerId():null}},{key:"getValue",value:function(e){return e==="xReadOnly"?this.getOffsetX():n(v(r.prototype),"getValue",this).call(this,e)}},{key:"setValue",value:function(e,t){if(n(v(r.prototype),"setValue",this).call(this,e,t),e==="width"){var s=this.getTable();s!==null&&(s.updateColumnWidth(this.columnIndex,t),s.updateColumnDisplay())}else if(e==="height")this.updateDisplayInternalNotify(0,0,this.displayWidth,this.heightVal,!1);else if(e==="colspan"){this.updateColspanVal();var u=this.rb.getDataObject(this.tableId);u!==null&&u.updateColumnDisplay()}}},{key:"getUpdateValue",value:function(e,t){if(e==="width"){var s=M(t);if(this.colspanVal>1){var u=this.rb.getDataObject(this.parentId);if(u!==null){var g=this.getNextCellIndex(),E=u.getSingleCellWidths();g>E.length&&(g=E.length);for(var b=this.columnIndex+1;b<g;b++)s+=E[b]}}return t===""&&s===0?"":""+s}return t}},{key:"setWidth",value:function(e){this.width=e,this.widthVal=M(e)}},{key:"getDisplayWidth",value:function(){return this.displayWidth}},{key:"setDisplayWidth",value:function(e){this.displayWidth=e}},{key:"getDisplayWidthSplit",value:function(e){if(this.colspanVal===1)return[e];var t=[20],s=20,u=this.rb.getDataObject(this.parentId);if(u!==null){var g=this.getNextCellIndex(),E=u.getSingleCellWidths();g>E.length&&(g=E.length);for(var b=this.columnIndex+1;b<g;b++)t.push(E[b]),s+=E[b];var D=e-s;if(D>0)t[0]+=D;else if(D<0){var N=1;for(D=-D;N<t.length;){if(t[N]-20>D){t[N]-=D;break}D-=t[N]-20,t[N]=20,N++}}}return t}},{key:"updateColspanVal",value:function(){this.colspanVal=M(this.colspan),this.colspanVal<=0&&(this.colspanVal=1),this.el!==null&&this.el.setAttribute("colspan",this.colspanVal)}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,1,"id"),e}},{key:"getProperties",value:function(){var e=["xReadOnly","width","content","richText","richTextContent","richTextHtml","eval","colspan","styleId","bold","italic","underline","strikethrough","horizontalAlignment","verticalAlignment","textColor","backgroundColor","font","fontSize","lineSpacing","paddingLeft","paddingTop","paddingRight","paddingBottom","pattern","link","cs_condition","cs_styleId","cs_additionalRules","cs_bold","cs_italic","cs_underline","cs_strikethrough","cs_horizontalAlignment","cs_verticalAlignment","cs_textColor","cs_backgroundColor","cs_font","cs_fontSize","cs_lineSpacing","cs_paddingLeft","cs_paddingTop","cs_paddingRight","cs_paddingBottom","spreadsheet_type","spreadsheet_pattern","spreadsheet_textWrap"],t=this.rb.getDataObject(this.parentId);return t!==null&&t.getValue("bandType")===re.bandType.header&&(e.push("printIf"),e.push("growWeight")),e}},{key:"getElementType",value:function(){return Ee.type.tableText}},{key:"updateDisplay",value:function(){this.updateDisplayInternal(this.xVal,this.yVal,this.displayWidth,this.heightVal)}},{key:"updateDisplayInternal",value:function(e,t,s,u){this.updateDisplayInternalNotify(e,t,s,u,!0)}},{key:"updateDisplayInternalNotify",value:function(e,t,s,u,g){this.el!==null&&(this.el.style.width=this.rb.toPixel(s-1));var E=this.getContentSize(s,u,this.getStyle());if(this.elContentText.style.width=this.rb.toPixel(E.width),this.elContentText.style.height=this.rb.toPixel(E.height),g){var b=this.rb.getDataObject(this.tableId);if(b!==null){for(var D=this.rb.getDataObject(this.parentId),N=s,Z=D.getSingleCellWidths(),J=0;J<Z.length;J++)(J<this.columnIndex||J>=this.columnIndex+this.colspanVal)&&(N+=Z[J]);for(var le=this.getDisplayWidthSplit(s),Q=0;Q<le.length;Q++)b.notifyColumnWidthResized(D,this.columnIndex+Q,le[Q],N)}}}},{key:"getSizers",value:function(){return["E"]}},{key:"hasBorderSettings",value:function(){return!1}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"getMinWidth",value:function(){return 20*this.colspanVal}},{key:"getMaxWidth",value:function(){var e=this.rb.getDataObject(this.tableId),t=this.rb.getDataObject(this.parentId);if(e!==null&&t!==null){for(var s=this.rb.getDocumentProperties().getContentSize().width,u=t.getSingleCellWidths(),g=0,E=0;E<u.length;E++)(E<this.columnIndex||E>=this.columnIndex+this.colspanVal)&&(g+=u[E]);return s-g-e.xVal}return 0}},{key:"getOffsetX",value:function(){var e=this.rb.getDataObject(this.parentId);if(e!==null){for(var t=e.getSingleCellWidths(),s=0,u=0;u<this.columnIndex;u++)s+=t[u];return s}return 0}},{key:"getCellIndex",value:function(){return this.columnIndex}},{key:"getNextCellIndex",value:function(){return this.columnIndex+this.colspanVal}},{key:"createElement",value:function(){this.el=c("td",{id:"rbro_el".concat(this.id),class:"rbroTableTextElement"}),this.elContent=c("div",{id:"rbro_el_content".concat(this.id),class:"rbroContentContainerHelper"}),this.elContentText=c("div",{id:"rbro_el_content_text".concat(this.id),class:"rbroDocElementContentText"}),this.elContentTextData=c("span",{id:"rbro_el_content_text_data".concat(this.id)}),this.elContentText.append(this.elContentTextData),this.elContent.append(this.elContentText),this.el.append(this.elContent),this.colspanVal>1&&this.el.setAttribute("colspan",this.colspanVal),document.getElementById("rbro_el_table_band".concat(this.parentId)).append(this.el),document.getElementById("rbro_el_content_text_data".concat(this.id)).textContent=this.content,this.registerEventHandlers()}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"getTable",value:function(){return this.rb.getDataObject(this.tableId)}},{key:"addCommandsForChangedWidth",value:function(e,t,s){var u=this.getDisplayWidthSplit(e),g=this.getParent();if(g!==null)for(var E=u.length-1;E>=0;E--){var b=new l(g.getColumn(this.columnIndex+E).getId(),"width",""+u[E],l.type.text,this.rb);(t||E>0)&&b.disableSelect(),s.addCommand(b)}}},{key:"insertColumn",value:function(e){var t=this.getParent(),s=this.getTable();if(t!==null&&s!==null){var u=t.getColumnIndex(this);if(u!==-1){var g=new be("Insert column"),E=new Et(!1,s.getPanelItem().getPanelName(),s.toJS(),s.getId(),s.getContainerId(),-1,this.rb);g.addCommand(E);var b=M(s.getValue("columns"))+1;s.setValue("columns",b),s.getValue("headerData").createColumns(b,!0,u,e);for(var D=0;D<s.getValue("contentDataRows").length;D++)s.getValue("contentDataRows")[D].createColumns(b,!0,u,e);s.getValue("footerData").createColumns(b,!0,u,e),E=new Et(!0,s.getPanelItem().getPanelName(),s.toJS(),s.getId(),s.getContainerId(),-1,this.rb),g.addCommand(E),this.rb.executeCommand(g),this.rb.selectObject(this.getParent().getValue("columnData")[e?u:u+1].getId(),!0)}}}},{key:"deleteColumn",value:function(){var e=this.getParent(),t=this.getTable();if(e!==null&&t!==null){var s=e.getColumnIndex(this);if(s!==-1){var u=new be("Delete column"),g=new Et(!1,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb);u.addCommand(g);var E=M(t.getValue("columns"))-1;t.setValue("columns",E);var b=t.getValue("widthVal");t.setValue("width",b-this.widthVal),t.getValue("headerData").deleteColumn(s);for(var D=0;D<t.getValue("contentDataRows").length;D++)t.getValue("contentDataRows")[D].deleteColumn(s);t.getValue("footerData").deleteColumn(s),g=new Et(!0,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb),u.addCommand(g),this.rb.executeCommand(u)}}}},{key:"toJS",value:function(){var e=n(v(r.prototype),"toJS",this).call(this);return e.growWeight=M(e.growWeight),e}},{key:"getClassName",value:function(){return"TableTextElement"}}]),r}(un);function er(w,r){var e=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!e){if(Array.isArray(w)||(e=function(b,D){if(b){if(typeof b=="string")return dn(b,D);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?dn(b,D):void 0}}(w))||r&&w&&typeof w.length=="number"){e&&(w=e);var t=0,s=function(){};return{s,n:function(){return t>=w.length?{done:!0}:{done:!1,value:w[t++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,g=!0,E=!1;return{s:function(){e=e.call(w)},n:function(){var b=e.next();return g=b.done,b},e:function(b){E=!0,u=b},f:function(){try{g||e.return==null||e.return()}finally{if(E)throw u}}}}function dn(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}function to(w,r,e){return r=v(r),_(w,pn()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function pn(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(pn=function(){return!!w})()}var ro=function(w){function r(e,t,s,u){var g;return K(this,r),(g=to(this,r,[s==="header"?u.getLabel("bandHeader"):s==="footer"?u.getLabel("bandFooter"):u.getLabel("bandContent"),e,0,20,u])).bandType=s,g.repeatHeader=!1,g.alwaysPrintOnSamePage=!0,g.pageBreak=!1,g.backgroundColor="",g.alternateBackgroundColor="",g.groupExpression="",g.repeatGroupHeader=!1,g.parentId=t.parentId,g.columnData=[],g.heightVal=0,g.setInitialData(t),g}return h(r,w),y(r,[{key:"setInitialData",value:function(e){for(var t in e)e.hasOwnProperty(t)&&this.hasOwnProperty(t)&&(this[t]=e[t]);this.heightVal=M(this.height)}},{key:"setup",value:function(){this.createElement(),this.updateStyle()}},{key:"registerEventHandlers",value:function(){}},{key:"getMaxId",value:function(){var e,t=this.id,s=er(this.columnData);try{for(s.s();!(e=s.n()).done;){var u=e.value;u.getId()>t&&(t=u.getId())}}catch(g){s.e(g)}finally{s.f()}return t}},{key:"getContainerId",value:function(){var e=this.getParent();return e!==null?e.getContainerId():null}},{key:"setValue",value:function(e,t){if(this[e]=t,e==="height"){var s=M(t);this[e+"Val"]=s;var u,g=er(this.getElement().querySelectorAll("td"));try{for(g.s();!(u=g.n()).done;)u.value.style.height=this.rb.toPixel(s)}catch(N){g.e(N)}finally{g.f()}var E,b=er(this.columnData);try{for(b.s();!(E=b.n()).done;)E.value.setValue(e,t)}catch(N){b.e(N)}finally{b.f()}var D=this.getParent();D!==null&&D.updateHeight()}else e==="backgroundColor"&&this.updateStyle()}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id"),e}},{key:"getProperties",value:function(){var e=["height","backgroundColor"];return this.bandType===re.bandType.header?e.push("repeatHeader"):this.bandType===re.bandType.content&&(e.push("alternateBackgroundColor"),e.push("groupExpression"),e.push("printIf"),e.push("alwaysPrintOnSamePage"),e.push("pageBreak"),e.push("repeatGroupHeader")),e}},{key:"updateDisplayInternal",value:function(e,t,s,u){}},{key:"updateStyle",value:function(){this.el.style.backgroundColor=this.backgroundColor}},{key:"getSizers",value:function(){return[]}},{key:"getHeight",value:function(){return this.heightVal}},{key:"isAreaSelectionAllowed",value:function(){return!1}},{key:"isDraggingAllowed",value:function(){return!1}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=c("tr",{id:"rbro_el_table_band".concat(this.id),class:"rbroTableBandElement"}),document.getElementById("rbro_el_table_".concat(this.bandType).concat(this.parentId)).append(this.el)}},{key:"remove",value:function(){for(var e=0;e<this.columnData.length;e++)this.rb.deleteDataObject(this.columnData[e]);n(v(r.prototype),"remove",this).call(this)}},{key:"getParent",value:function(){return this.rb.getDataObject(this.parentId)}},{key:"createColumns",value:function(e,t,s,u){if(this.panelItem!==null){if(t)for(var g=0;g<this.columnData.length;g++)this.columnData[g].remove(),g>=e&&this.rb.deleteDataObject(this.columnData[g]);for(var E=[],b=0;b<e;b++){var D=void 0,N=void 0,Z=t?20:100,J=b;s!==-1&&(u?b===s?(Z=this.columnData[s].getValue("widthVal"),J=-1):b>=s&&J--:b===s+1?(Z=this.columnData[s].getValue("widthVal"),J=-1):b>s&&J--),J!==-1&&J<this.columnData.length?((D=this.columnData[J]).columnIndex=b,N=D.id,t||(D.band=this.band,D.parentId=this.id,D.tableId=this.parentId,D.height=this.height)):D={band:this.band,columnIndex:b,parentId:this.id,tableId:this.parentId,width:Z,height:this.height},N||(N=this.rb.getUniqueId());var le=new Ht(N,D,this.rb);E.push(le),this.rb.addDataObject(le);var Q=new et(Ee.type.text,this.panelItem,le,{showDelete:!1},this.rb);le.setPanelItem(Q),this.panelItem.appendChild(Q)}this.columnData=E;for(var ue=0,Ie=E;ue<Ie.length;ue++)Ie[ue].setup(!0);this.updateColumnDisplay();var fe,we=er(this.getElement().querySelectorAll("td"));try{for(we.s();!(fe=we.n()).done;)fe.value.style.height=this.rb.toPixel(this.heightVal)}catch(Se){we.e(Se)}finally{we.f()}}}},{key:"deleteColumn",value:function(e){e<this.columnData.length&&(this.columnData[e].remove(),this.rb.deleteDataObject(this.columnData[e]),this.columnData.splice(e,1))}},{key:"show",value:function(e){e?this.el.classList.remove("rbroHidden"):this.el.classList.add("rbroHidden")}},{key:"updateColumnWidth",value:function(e,t){e<this.columnData.length&&this.columnData[e].setWidth(t)}},{key:"updateColumnDisplay",value:function(){for(var e=0;e<this.columnData.length;){var t=this.columnData[e],s=t.getValue("widthVal"),u=t.getValue("colspanVal");if(t.getElement().style.display="",u>1){var g=e+u<this.columnData.length?e+u:this.columnData.length;for(e++;e<g;)s+=this.columnData[e].getValue("widthVal"),this.columnData[e].getElement().style.display="none",e++}else e++;t.setDisplayWidth(s),t.updateDisplay()}}},{key:"getColumn",value:function(e){return e>=0&&e<this.columnData.length?this.columnData[e]:null}},{key:"getColumns",value:function(){return this.columnData}},{key:"notifyColumnWidthResized",value:function(e,t){for(var s=0;s<this.columnData.length;){var u=this.columnData[s],g=u.getNextCellIndex();if(g>e){if(g>s+1)for(var E=s;E<g&&E<this.columnData.length;E++)E!==e&&(t+=this.columnData[E].getValue("widthVal"));u.updateDisplayInternalNotify(0,0,t,u.getValue("heightVal"),!1);break}s=g}}},{key:"getColumnIndex",value:function(e){for(var t=0;t<this.columnData.length;t++)if(e===this.columnData[t])return t;return-1}},{key:"getWidth",value:function(){for(var e=0,t=0;t<this.columnData.length;){var s=this.columnData[t];e+=s.getDisplayWidth();var u=s.getValue("colspanVal");u>1?t+=u:t++}return e}},{key:"getSingleCellWidths",value:function(){var e,t=[],s=er(this.columnData);try{for(s.s();!(e=s.n()).done;){var u=e.value;t.push(u.getValue("widthVal"))}}catch(g){s.e(g)}finally{s.f()}return t}},{key:"insertRow",value:function(e){var t=this.getParent();if(t!==null){var s=t.getContentRowIndex(this);if(s!==-1){var u=new be("Insert row"),g=new Et(!1,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb);u.addCommand(g);var E=M(t.getValue("contentRows"))+1;t.setValue("contentRows",E);var b,D=t.getValue("contentDataRows")[s],N={height:D.height,columnData:[]},Z=er(D.columnData);try{for(Z.s();!(b=Z.n()).done;){var J=b.value;N.columnData.push({width:J.width})}}catch(Q){Z.e(Q)}finally{Z.f()}var le=t.createBand("content",-1,N);t.getValue("contentDataRows").splice(e?s:s+1,0,le),g=new Et(!0,t.getPanelItem().getPanelName(),t.toJS(),t.getId(),t.getContainerId(),-1,this.rb),u.addCommand(g),this.rb.executeCommand(u),this.rb.selectObject(le.getValue("columnData")[0].getId(),!0)}}}},{key:"deleteRow",value:function(){var e=this.getParent();if(e!==null){var t=e.getContentRowIndex(this),s=M(e.getValue("contentRows"));if(t!==-1&&s>1){var u=new be("Delete row"),g=new Et(!1,e.getPanelItem().getPanelName(),e.toJS(),e.getId(),e.getContainerId(),-1,this.rb);u.addCommand(g);var E=e.toJS();E.contentRows=s-1,E.contentDataRows.splice(t,1),g=new Et(!0,e.getPanelItem().getPanelName(),E,e.getId(),e.getContainerId(),-1,this.rb),u.addCommand(g),this.rb.executeCommand(u)}}}},{key:"addChildren",value:function(e){var t,s=er(this.columnData);try{for(s.s();!(t=s.n()).done;){var u=t.value;e.push(u)}}catch(g){s.e(g)}finally{s.f()}}},{key:"toJS",value:function(){var e=n(v(r.prototype),"toJS",this).call(this);e.columnData=[];var t,s=er(this.columnData);try{for(s.s();!(t=s.n()).done;){var u=t.value;e.columnData.push(u.toJS())}}catch(g){s.e(g)}finally{s.f()}return e}},{key:"getClassName",value:function(){return"TableBandElement"}}]),r}(Ee);function gr(w,r){var e=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!e){if(Array.isArray(w)||(e=function(b,D){if(b){if(typeof b=="string")return hn(b,D);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?hn(b,D):void 0}}(w))||r&&w&&typeof w.length=="number"){e&&(w=e);var t=0,s=function(){};return{s,n:function(){return t>=w.length?{done:!0}:{done:!1,value:w[t++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,g=!0,E=!1;return{s:function(){e=e.call(w)},n:function(){var b=e.next();return g=b.done,b},e:function(b){E=!0,u=b},f:function(){try{g||e.return==null||e.return()}finally{if(E)throw u}}}}function hn(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}function no(w,r,e){return r=v(r),_(w,fn()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function fn(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(fn=function(){return!!w})()}var tr=function(w){function r(e,t,s){var u;return K(this,r),(u=no(this,r,[s.getLabel("docElementTable"),e,200,40,s])).setupComplete=!1,u.dataSource="",u.borderColor="#000000",u.borderWidth="1",u.border=r.border.grid,u.header=!0,u.footer=!1,u.contentRows="1",u.columns="2",u.headerData=null,u.contentDataRows=[],u.footerData=null,u.spreadsheet_hide=!1,u.spreadsheet_column="",u.spreadsheet_addEmptyRow=!1,u.setInitialData(t),u.borderWidthVal=M(u.borderWidth),u}return h(r,w),y(r,[{key:"setup",value:function(e){n(v(r.prototype),"setup",this).call(this,e),this.createElement(),this.updateDisplay(),this.headerData=this.createBand("header",-1,null);var t=M(this.contentRows);t<1&&(t=1);for(var s=[],u=0;u<t;u++)s.push(this.createBand("content",u,null));this.contentDataRows=s,this.footerData=this.createBand("footer",-1,null),this.setupComplete=!0,this.updateHeight(),this.updateStyle(),this.updateName(),e&&this.panelItem.open()}},{key:"createBand",value:function(e,t,s){var u,g,E=e+(e==="content"?"DataRows":"Data"),b={hasChildren:!0,showDelete:!1};s?u=s:this[E]&&(e!=="content"||t!==-1&&t<this[E].length)?g=(u=e==="content"?this[E][t]:this[E]).id:u={},u.parentId=this.id,g||(g=this.rb.getUniqueId()),(e==="header"&&!this.header||e==="footer"&&!this.footer)&&(b.visible=!1);var D=new ro(g,u,e,this.rb);this.rb.addDataObject(D);var N=new et("table_band",this.panelItem,D,b,this.rb);D.setPanelItem(N),this.panelItem.appendChild(N),D.setup();var Z=M(this.columns);return D.createColumns(Z,!1,-1,!1),N.open(),e==="header"?D.show(this.header):e==="footer"&&D.show(this.footer),D}},{key:"getMaxId",value:function(){var e,t=this.id;(e=this.headerData.getMaxId())>t&&(t=e);for(var s=0;s<this.contentDataRows.length;s++)(e=this.contentDataRows[s].getMaxId())>t&&(t=e);return(e=this.footerData.getMaxId())>t&&(t=e),t}},{key:"setValue",value:function(e,t){n(v(r.prototype),"setValue",this).call(this,e,t),e==="dataSource"?this.updateName():e==="header"?(this.headerData.show(t),t?this.headerData.getPanelItem().show():this.headerData.getPanelItem().hide()):e==="footer"?(this.footerData.show(t),t?this.footerData.getPanelItem().show():this.footerData.getPanelItem().hide()):e.indexOf("border")!==-1&&(e==="borderWidth"&&(this.borderWidthVal=M(t)),this.updateStyle()),e!=="header"&&e!=="footer"&&e!=="contentRows"||this.updateHeight()}},{key:"updateDisplayInternal",value:function(e,t,s,u){this.el!==null&&(this.el.style.left=this.rb.toPixel(e),this.el.style.top=this.rb.toPixel(t))}},{key:"updateStyle",value:function(){var e,t=this.el.querySelector("table");this.border===r.border.grid||this.border===r.border.frameRow||this.border===r.border.frame?(t.style.borderStyle="solid",t.style.borderWidth=this.borderWidthVal+"px",t.style.borderColor=this.borderColor):t.style.borderStyle="none";var s="",u="",g="";this.border===r.border.grid||this.border===r.border.frameRow||this.border===r.border.row?(s="solid none solid none",u=this.borderWidthVal+"px",g=this.borderColor):s="none";var E=this.headerData.getElement();for(E.style.borderStyle=s,E.style.borderWidth=u,E.style.borderColor=g,e=0;e<this.contentDataRows.length;e++){var b=this.contentDataRows[e].getElement();b.style.borderStyle=s,b.style.borderWidth=u,b.style.borderColor=g}var D=this.footerData.getElement();D.style.borderStyle=s,D.style.borderWidth=u,D.style.borderColor=g,this.border===r.border.grid?(s="none solid none solid",u=this.borderWidthVal+"px",g=this.borderColor):s="none";var N,Z=gr(this.headerData.getElement().querySelectorAll("td"));try{for(Z.s();!(N=Z.n()).done;){var J=N.value;J.style.borderStyle=s,J.style.borderWidth=u,J.style.borderColor=g}}catch(Be){Z.e(Be)}finally{Z.f()}for(e=0;e<this.contentDataRows.length;e++){var le,Q=gr(this.contentDataRows[e].getElement().querySelectorAll("td"));try{for(Q.s();!(le=Q.n()).done;){var ue=le.value;ue.style.borderStyle=s,ue.style.borderWidth=u,ue.style.borderColor=g}}catch(Be){Q.e(Be)}finally{Q.f()}}var Ie,fe=gr(this.footerData.getElement().querySelectorAll("td"));try{for(fe.s();!(Ie=fe.n()).done;){var we=Ie.value;we.style.borderStyle=s,we.style.borderWidth=u,we.style.borderColor=g}}catch(Be){fe.e(Be)}finally{fe.f()}for(var Se=0,Le=["rbroBorderTableGrid","rbroBorderTableFrameRow","rbroBorderTableFrame","rbroBorderTableRow","rbroBorderTableNone"];Se<Le.length;Se++){var Ae=Le[Se];this.el.classList.remove(Ae)}this.el.classList.add("rbroBorderTable"+this.border.charAt(0).toUpperCase()+this.border.slice(1))}},{key:"getFields",value:function(){var e=this.getProperties();return e.splice(0,0,"id","containerId","width"),e}},{key:"getProperties",value:function(){return["x","y","dataSource","columns","header","contentRows","footer","border","borderColor","borderWidth","printIf","removeEmptyElement","spreadsheet_hide","spreadsheet_column","spreadsheet_addEmptyRow"]}},{key:"getElementType",value:function(){return Ee.type.table}},{key:"select",value:function(){n(v(r.prototype),"select",this).call(this);for(var e=this.getSizerContainerElement(),t=0,s=["NE","SE","SW","NW"];t<s.length;t++){var u=s[t];e.append(c("div",{class:"rbroSizer rbroSizer".concat(u," rbroSizerMove")}))}}},{key:"getSizers",value:function(){return[]}},{key:"isDroppingAllowed",value:function(){return!1}},{key:"createElement",value:function(){this.el=c("div",{class:"rbroDocElement rbroTableElement"});var e=c("table",{id:"rbro_el_table".concat(this.id)});e.append(c("thead",{id:"rbro_el_table_header".concat(this.id)})),e.append(c("tbody",{id:"rbro_el_table_content".concat(this.id)})),e.append(c("tfoot",{id:"rbro_el_table_footer".concat(this.id)})),this.el.append(e),this.appendToContainer(),this.registerEventHandlers(),e.style.width=this.widthVal+1+"px"}},{key:"remove",value:function(){this.rb.deleteDataObject(this.headerData),this.headerData.remove(),this.headerData=null;for(var e=0;e<this.contentDataRows.length;e++)this.rb.deleteDataObject(this.contentDataRows[e]),this.contentDataRows[e].remove();this.contentDataRows=[],this.rb.deleteDataObject(this.footerData),this.footerData.remove(),this.footerData=null,n(v(r.prototype),"remove",this).call(this)}},{key:"updateColumnWidth",value:function(e,t){if(this.setupComplete){this.headerData.updateColumnWidth(e,t);for(var s=0;s<this.contentDataRows.length;s++)this.contentDataRows[s].updateColumnWidth(e,t);this.footerData.updateColumnWidth(e,t)}}},{key:"updateColumnDisplay",value:function(){if(this.setupComplete){this.headerData.updateColumnDisplay();for(var e=0;e<this.contentDataRows.length;e++)this.contentDataRows[e].updateColumnDisplay();this.footerData.updateColumnDisplay()}}},{key:"updateHeight",value:function(){if(this.setupComplete){var e=0;this.header&&(e+=this.headerData.getHeight());for(var t=0;t<this.contentDataRows.length;t++)e+=this.contentDataRows[t].getHeight();this.footer&&(e+=this.footerData.getHeight()),this.height=""+e,this.heightVal=e}}},{key:"notifyColumnWidthResized",value:function(e,t,s,u){if(this.setupComplete){e!==this.headerData&&this.headerData.notifyColumnWidthResized(t,s);for(var g=0;g<this.contentDataRows.length;g++)e!==this.contentDataRows[g]&&this.contentDataRows[g].notifyColumnWidthResized(t,s);e!==this.footerData&&this.footerData.notifyColumnWidthResized(t,s),this.width=""+u,this.widthVal=u,document.getElementById("rbro_el_table".concat(this.id)).style.width=u+1+"px"}}},{key:"updateName",value:function(){this.name=this.rb.getLabel("docElementTable"),this.dataSource.trim()!==""&&(this.name+=" "+this.dataSource),document.getElementById("rbro_menu_item_name".concat(this.id)).textContent=this.name}},{key:"hasDataSource",value:function(){return!0}},{key:"getContentRowIndex",value:function(e){for(var t=0;t<this.contentDataRows.length;t++)if(e===this.contentDataRows[t])return t;return-1}},{key:"addChildren",value:function(e){var t;for(e.push(this.headerData),t=0;t<this.contentDataRows.length;t++)e.push(this.contentDataRows[t]);for(e.push(this.footerData),this.headerData.addChildren(e),t=0;t<this.contentDataRows.length;t++)this.contentDataRows[t].addChildren(e);this.footerData.addChildren(e)}},{key:"addCommandsForChangedParameterName",value:function(e,t,s){this.addCommandForChangedParameterName(e,t,"dataSource",s)}},{key:"createSpaceForNewColumns",value:function(e,t){for(var s=r.getColumnMinWidth(),u=e*s,g=t-1;g>=0;){var E=this.headerData.getColumn(g),b=E.getValue("widthVal")-s,D=s;if(b>u&&(D=E.getValue("widthVal")-u),this.updateColumnWidth(g,D),(u-=b)<=0)break;g--}}},{key:"hasEnoughAvailableSpace",value:function(e){var t=M(this.columns),s=Math.floor(this.widthVal/r.getColumnMinWidth());return!(e>t&&e>s)}},{key:"addCommandsForChangedColumns",value:function(e,t){if(this.hasEnoughAvailableSpace(e)){var s=M(this.columns),u=new Et(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(t.addCommand(u),e>s)this.createSpaceForNewColumns(e-s,s);else if(e<s){for(var g=0,E=0;E<e;E++)g+=this.headerData.getColumn(E).getValue("widthVal");var b=this.headerData.getColumn(e-1);this.widthVal-g>0&&this.updateColumnWidth(e-1,b.getValue("widthVal")+(this.widthVal-g))}this.columns=e,this.headerData.createColumns(e,!0,-1,!1);for(var D=0;D<this.contentDataRows.length;D++)this.contentDataRows[D].createColumns(e,!0,-1,!1);this.footerData.createColumns(e,!0,-1,!1),u=new Et(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),t.addCommand(u)}}},{key:"addCommandsForChangedContentRows",value:function(e,t){if(e!==M(this.contentRows)){var s,u=new Et(!1,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb);if(t.addCommand(u),e<this.contentDataRows.length){for(s=e;s<this.contentDataRows.length;s++)this.rb.deleteDataObject(this.contentDataRows[s]),this.contentDataRows[s].remove();this.contentDataRows.splice(e,this.contentDataRows.length-e)}else{var g;if(this.contentDataRows.length>0){g={height:this.contentDataRows[this.contentDataRows.length-1].height,columnData:[]};var E,b=gr(this.contentDataRows[0].columnData);try{for(b.s();!(E=b.n()).done;){var D=E.value;g.columnData.push({width:D.width})}}catch(N){b.e(N)}finally{b.f()}}for(s=this.contentDataRows.length;s<e;s++)this.contentDataRows.push(this.createBand("content",s,g))}this.contentRows=""+e,u=new Et(!0,this.getPanelItem().getPanelName(),this.toJS(),this.id,this.getContainerId(),-1,this.rb),t.addCommand(u)}}},{key:"toJS",value:function(){var e=n(v(r.prototype),"toJS",this).call(this);e.headerData=this.headerData.toJS();for(var t=[],s=0;s<this.contentDataRows.length;s++)t.push(this.contentDataRows[s].toJS());return e.contentDataRows=t,e.footerData=this.footerData.toJS(),e}},{key:"getClassName",value:function(){return"TableElement"}}],[{key:"removeIds",value:function(e){for(var t=0,s=["headerData","footerData"];t<s.length;t++){var u=s[t];r.removeBandIds(e[u])}for(var g=0;g<e.contentDataRows.length;g++)r.removeBandIds(e.contentDataRows[g])}},{key:"removeBandIds",value:function(e){delete e.id;var t,s=gr(e.columnData);try{for(s.s();!(t=s.n()).done;)delete t.value.id}catch(u){s.e(u)}finally{s.f()}}},{key:"getColumnMinWidth",value:function(){return 20}}]),r}(Ee);function oo(w,r,e){return r=v(r),_(w,mn()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function mn(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(mn=function(){return!!w})()}tr.border={grid:"grid",frameRow:"frame_row",frame:"frame",row:"row",none:"none"};var Et=function(w){function r(e,t,s,u,g,E,b){var D;return K(this,r),(D=oo(this,r)).add=e,D.elementType=t,D.initialData=s,D.parentId=g,D.position=E,D.rb=b,D.id=u,D.firstExecution=!0,D}return h(r,w),y(r,[{key:"getName",value:function(){return this.add?"Add element":"Delete element"}},{key:"do",value:function(){this.add?this.addElement():this.deleteElement(),this.firstExecution=!1}},{key:"undo",value:function(){this.add?this.deleteElement():this.addElement()}},{key:"addElement",value:function(){if(this.rb.getDataObject(this.parentId)!==null){var e=r.createElement(this.id,this.initialData,this.elementType,this.position,!0,this.rb);this.rb.notifyEvent(e,i.operation.add),this.rb.selectObject(this.id,!0),this.add&&this.firstExecution&&(this.initialData=e.toJS())}}},{key:"deleteElement",value:function(){var e=this.rb.getDataObject(this.id);e!==null&&this.rb.deleteDocElement(e)}},{key:"getClassName",value:function(){return"AddDeleteDocElementCmd"}}],[{key:"createElement",value:function(e,t,s,u,g,E){var b,D={draggable:!0};s===Ee.type.text?b=new un(e,t,E):s===Ee.type.line?b=new Kn(e,t,E):s===Ee.type.image?b=new Gn(e,t,E):s===Ee.type.pageBreak?b=new tn(e,t,E):s===Ee.type.table?(b=new tr(e,t,E),D.hasChildren=!0):s===Ee.type.frame?(b=new Jr(e,t,E),D.hasChildren=!0):s===Ee.type.section?(b=new Ar(e,t,E),D.hasChildren=!0):s===Ee.type.barCode&&(b=new qn(e,t,E)),E.addDocElement(b);var N=b.getContainer().getPanelItem(),Z=new et(s,N,b,D,E);return b.setPanelItem(Z),N.insertChild(u,Z),b.setup(g),b}}]),r}(i);function Pt(w,r){var e=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!e){if(Array.isArray(w)||(e=function(b,D){if(b){if(typeof b=="string")return gn(b,D);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?gn(b,D):void 0}}(w))||r&&w&&typeof w.length=="number"){e&&(w=e);var t=0,s=function(){};return{s,n:function(){return t>=w.length?{done:!0}:{done:!1,value:w[t++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,g=!0,E=!1;return{s:function(){e=e.call(w)},n:function(){var b=e.next();return g=b.done,b},e:function(b){E=!0,u=b},f:function(){try{g||e.return==null||e.return()}finally{if(E)throw u}}}}function gn(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}var yn=function(){function w(r,e,t){K(this,w),this.rootElement=r,this.rb=t,this.elPanel=null,this.elTabPdfLayout=null,this.elTabPdfPreview=null,this.elDoc=null,this.elDocContent=null,this.elHeader=null,this.elContent=null,this.elFooter=null,this.elSelectionArea=null,this.elDividerMarginLeft=null,this.elDividerMarginTop=null,this.elDividerMarginRight=null,this.elDividerMarginBottom=null,this.elDividerHeader=null,this.elDividerFooter=null,this.elPdfPreview=null,this.gridVisible=e,this.gridSize=10,this.zoom=100,this.zoomLevels=[25,50,75,100,150,200,400],this.pdfPreviewExists=!1,this.pdfPreviewObjectURL=null,this.dragging=!1,this.dragElementType=null,this.dragType=Ee.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainers=[],this.dragCurrentContainerId=null,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0,this.dragSnapToGrid=!1,this.dragEnterCount=0,this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0}return y(w,[{key:"render",value:function(){var r=this;this.elPanel=document.getElementById("rbro_document_panel"),this.elPanel.addEventListener("mousedown",function(E){r.rb.isDocElementSelected()&&!E.shiftKey&&r.rb.deselectAll(!0);var b=L(r.elDocContent);r.startSelectionArea(r.getCoordWithoutZoom(E.pageX-b.left),r.getCoordWithoutZoom(E.pageY-b.top))});var e=c("div",{id:"rbro_document_tabs",class:"rbroDocumentTabs"});if(e.addEventListener("mousedown",function(E){E.stopPropagation()}),this.elTabPdfLayout=c("div",{id:"rbro_document_tab_pdf_layout",class:"rbroDocumentTab rbroButton rbroTabButton"},this.rb.getLabel("documentTabPdfLayout")),this.elTabPdfLayout.addEventListener("click",function(E){r.setDocumentTab(w.tab.pdfLayout)}),e.append(this.elTabPdfLayout),this.elTabPdfPreview=c("div",{id:"rbro_document_tab_pdf_preview",class:"rbroDocumentTab rbroButton rbroTabButton rbroHidden rbroPdfPreview"+(this.rb.getProperty("enableSpreadsheet")?" rbroXlsxDownload":"")},this.rb.getLabel("documentTabPdfPreview")),this.elTabPdfPreview.addEventListener("click",function(E){r.setDocumentTab(w.tab.pdfPreview)}),this.rb.getProperty("enableSpreadsheet")){var t=c("span",{class:"rbroIcon-xlsx rbroXlsxDownloadButton",title:this.rb.getLabel("documentTabXlsxDownload")});t.addEventListener("click",function(E){r.rb.downloadSpreadsheet()}),this.elTabPdfPreview.append(t)}var s=c("span",{class:"rbroIcon-cancel",title:this.rb.getLabel("documentTabClose")});s.addEventListener("click",function(E){r.closePdfPreviewTab()}),this.elTabPdfPreview.append(s),e.append(this.elTabPdfPreview),this.elPanel.append(e);var u=this.rb.getDocumentProperties();this.elDoc=c("div",{id:"rbro_document_pdf",class:"rbroDocument rbroDragTarget rbroHidden"}),this.elDocContent=c("div",{id:"rbro_document_content",class:"rbroDocumentContent"+(this.gridVisible?" rbroDocumentGrid":"")}),this.elHeader=c("div",{id:"rbro_header",class:"rbroDocumentBand rbroElementContainer",style:"top: 0px; left: 0px;"}),this.elHeader.append(c("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandHeader"))),this.elDocContent.append(this.elHeader),this.elContent=c("div",{id:"rbro_content",class:"rbroDocumentBand rbroElementContainer"}),this.elContent.append(c("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandContent"))),this.elDocContent.append(this.elContent),this.elFooter=c("div",{id:"rbro_footer",class:"rbroDocumentBand rbroElementContainer",style:"bottom: 0px; left 0px;"}),this.elFooter.append(c("div",{class:"rbroDocumentBandDescription"},this.rb.getLabel("bandFooter"))),this.elDocContent.append(this.elFooter),this.elDoc.append(this.elDocContent),this.elSelectionArea=c("div",{id:"rbro_selection_area",class:"rbroHidden rbroSelectionArea"}),this.elDocContent.append(this.elSelectionArea),this.initializeEventHandlers(),this.elDividerMarginLeft=c("div",{id:"rbro_divider_margin_left",class:"rbroDivider rbroDividerMarginLeft"}),this.elDoc.append(this.elDividerMarginLeft),this.elDividerMarginTop=c("div",{id:"rbro_divider_margin_top",class:"rbroDivider rbroDividerMarginTop"}),this.elDoc.append(this.elDividerMarginTop),this.elDividerMarginRight=c("div",{id:"rbro_divider_margin_right",class:"rbroDivider rbroDividerMarginRight"}),this.elDoc.append(this.elDividerMarginRight),this.elDividerMarginBottom=c("div",{id:"rbro_divider_margin_bottom",class:"rbroDivider rbroDividerMarginBottom"}),this.elDoc.append(this.elDividerMarginBottom),this.elDividerHeader=c("div",{id:"rbro_divider_header",class:"rbroDivider rbroDividerHeader"}),this.elDoc.append(this.elDividerHeader),this.elDividerFooter=c("div",{id:"rbro_divider_footer",class:"rbroDivider rbroDividerFooter"}),this.elDoc.append(this.elDividerFooter),this.elPanel.append(this.elDoc),this.elPdfPreview=c("div",{id:"rbro_document_pdf_preview",class:"rbroDocumentPreview"}),this.elPanel.append(this.elPdfPreview);var g=u.getPageSize();this.updatePageSize(g.width,g.height),this.updateHeader(),this.updateFooter(),this.updatePageMargins(),this.updateDocumentTabs(),this.setDocumentTab(w.tab.pdfLayout)}},{key:"initializeEventHandlers",value:function(){var r=this;this.elDocContent.addEventListener("dragover",function(e){r.processDragover(e)}),this.elDocContent.addEventListener("dragenter",function(e){r.rb.isBrowserDragActive("docElement")&&(r.dragEnterCount++,e.preventDefault())}),this.elDocContent.addEventListener("dragleave",function(e){if(r.rb.isBrowserDragActive("docElement")&&(r.dragEnterCount--,r.dragEnterCount===0)){var t,s=Pt(document.querySelectorAll(".rbroElementContainer"));try{for(s.s();!(t=s.n()).done;)t.value.classList.remove("rbroElementDragOver")}catch(u){s.e(u)}finally{s.f()}r.dragContainerId=null}}),this.elDocContent.addEventListener("drop",function(e){return r.processDrop(e),!1})}},{key:"processMouseMove",value:function(r){if(this.dragging)this.processDrag(r);else if(this.selectionAreaStarted){var e=L(this.elDocContent),t=this.getSelectionArea(this.getCoordWithoutZoom(r.pageX-e.left),this.getCoordWithoutZoom(r.pageY-e.top));this.elSelectionArea.style.left=this.rb.toPixel(t.left),this.elSelectionArea.style.top=this.rb.toPixel(t.top),this.elSelectionArea.style.width=this.rb.toPixel(t.width),this.elSelectionArea.style.height=this.rb.toPixel(t.height),this.elSelectionArea.classList.contains("rbroHidden")&&this.elSelectionArea.classList.remove("rbroHidden")}}},{key:"processDragover",value:function(r){if(this.rb.isBrowserDragActive("docElement")){var e=V(r),t=null;e!==null&&(t=this.getContainer(e.x,e.y,this.dragElementType,[]),this.dragCurrentX=e.x,this.dragCurrentY=e.y);var s=t!==null?t.getId():null;if(s!==this.dragContainerId){var u,g=Pt(document.querySelectorAll(".rbroElementContainer"));try{for(g.s();!(u=g.n()).done;)u.value.classList.remove("rbroElementDragOver")}catch(E){g.e(E)}finally{g.f()}t!==null&&t.dragOver(),this.dragContainerId=s}r.preventDefault(),r.stopPropagation()}}},{key:"processDrop",value:function(r){if(this.rb.isBrowserDragActive("docElement")){r.preventDefault();var e,t=Pt(document.querySelectorAll(".rbroElementContainer"));try{for(t.s();!(e=t.n()).done;)e.value.classList.remove("rbroElementDragOver")}catch(Ie){t.e(Ie)}finally{t.f()}if(this.dragElementType===Ee.type.image&&this.rb.getProperty("imageLimit")!==null){var s,u=0,g=Pt(this.rb.getDocElements(!0));try{for(g.s();!(s=g.n()).done;)s.value.getElementType()===Ee.type.image&&u++}catch(Ie){g.e(Ie)}finally{g.f()}if(u>=this.rb.getProperty("imageLimit"))return void alert(this.rb.getLabel("docElementImageCountExceeded").replace("${count}",this.rb.getProperty("imageLimit")))}var E=V(r);E!==null&&(this.dragCurrentX=E.x,this.dragCurrentY=E.y);for(var b=this.getContainer(this.dragCurrentX,this.dragCurrentY,this.dragElementType,[]);b!==null&&!b.isElementAllowed(this.dragElementType);)b=b.getParent();if(b!==null&&b.isElementAllowed(this.dragElementType)){var D=L(this.elDocContent),N=this.getCoordWithoutZoom(this.dragCurrentX-D.left),Z=this.getCoordWithoutZoom(this.dragCurrentY-D.top),J=b.getOffset();if(N-=J.x,Z-=J.y,!r.ctrlKey&&this.rb.getDocument().isGridVisible()){var le=this.rb.getDocument().getGridSize();N=B(N,le),Z=B(Z,le)}var Q={x:""+N,y:""+Z,containerId:b.getId()},ue=new Et(!0,this.dragElementType,Q,this.rb.getUniqueId(),b.getId(),-1,this.rb);this.rb.executeCommand(ue)}}}},{key:"processDrag",value:function(r){var e=V(r);if(this.dragType===Ee.dragType.element){var t=this.getContainer(e.x,e.y,this.dragElementType,this.dragLinkedContainers),s=t!==null?t.getId():null;if(s!==this.dragCurrentContainerId){var u,g=Pt(document.querySelectorAll(".rbroElementContainer"));try{for(g.s();!(u=g.n()).done;)u.value.classList.remove("rbroElementDragOver")}catch(D){g.e(D)}finally{g.f()}t!==null&&s!==this.dragContainerId&&t.dragOver()}this.dragCurrentContainerId=s}this.dragCurrentX=e.x,this.dragCurrentY=e.y,this.dragSnapToGrid=!r.ctrlKey;var E=this.rb.getDataObject(this.dragObjectId);if(E!==null){var b=E.getDragDiff(this.getCoordWithoutZoom(e.x-this.dragStartX),this.getCoordWithoutZoom(e.y-this.dragStartY),this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(b.x,b.y,this.dragType,null,!1)}}},{key:"updatePageSize",value:function(r,e){this.elDoc.style.width=this.rb.toPixel(r),this.elDoc.style.height=this.rb.toPixel(e)}},{key:"updatePageMargins",value:function(){var r=this.rb.getDocumentProperties(),e=M(r.getValue("marginLeft")),t=M(r.getValue("marginTop")),s=M(r.getValue("marginRight")),u=M(r.getValue("marginBottom")),g=this.rb.toPixel(e),E=this.rb.toPixel(t-1),b=this.rb.toPixel(s),D=this.rb.toPixel(u);this.elDividerMarginLeft.style.left=g,this.elDividerMarginTop.style.top=E,e!==0?(this.elDividerMarginLeft.style.left=g,this.elDividerMarginLeft.style.display="block"):this.elDividerMarginLeft.style.display="none",t!==0?(this.elDividerMarginTop.style.top=E,this.elDividerMarginTop.style.display="block"):this.elDividerMarginTop.style.display="none",s!==0?(this.elDividerMarginRight.style.right=b,this.elDividerMarginRight.style.display="block"):this.elDividerMarginRight.style.display="none",u!==0?(this.elDividerMarginBottom.style.bottom=D,this.elDividerMarginBottom.style.display="block"):this.elDividerMarginBottom.style.display="none",this.elDocContent.style.left=g,this.elDocContent.style.top=E,this.elDocContent.style.right=b,this.elDocContent.style.bottom=D}},{key:"updateHeader",value:function(){var r=this.rb.getDocumentProperties();if(r.getValue("header")){var e=this.rb.toPixel(r.getValue("headerSize"));this.elHeader.style.height=e,this.elHeader.style.display="block",this.elDividerHeader.style.top=this.rb.toPixel(M(r.getValue("marginTop"))+M(r.getValue("headerSize"))-1),this.elDividerHeader.style.display="block",this.elContent.style.top=e}else this.elHeader.style.display="none",this.elDividerHeader.style.display="none",this.elContent.style.top=this.rb.toPixel(0)}},{key:"updateFooter",value:function(){var r=this.rb.getDocumentProperties();if(r.getValue("footer")){var e=this.rb.toPixel(r.getValue("footerSize"));this.elFooter.style.height=e,this.elFooter.style.display="block",this.elDividerFooter.style.bottom=this.rb.toPixel(M(r.getValue("marginBottom"))+M(r.getValue("footerSize"))),this.elDividerFooter.style.display="block",this.elContent.style.bottom=e}else this.elFooter.style.display="none",this.elDividerFooter.style.display="none",this.elContent.style.bottom=this.rb.toPixel(0)}},{key:"setDocumentTab",value:function(r){var e,t=document.querySelectorAll("#rbro_document_tabs .rbroDocumentTab"),s=document.querySelectorAll(".rbroElementButtons .rbroMenuButton"),u=document.querySelectorAll(".rbroActionButtons .rbroActionButton"),g=Pt(t);try{for(g.s();!(e=g.n()).done;)e.value.classList.remove("rbroActive")}catch(fe){g.e(fe)}finally{g.f()}if(r===w.tab.pdfLayout){this.elTabPdfLayout.classList.add("rbroActive"),this.elDoc.classList.remove("rbroHidden"),this.elPdfPreview.style.zIndex="",this.elPdfPreview.style.height="0";var E,b=Pt(s);try{for(b.s();!(E=b.n()).done;){var D=E.value;D.classList.remove("rbroDisabled"),D.draggable=!0}}catch(fe){b.e(fe)}finally{b.f()}var N,Z=Pt(u);try{for(Z.s();!(N=Z.n()).done;)N.value.disabled=!1}catch(fe){Z.e(fe)}finally{Z.f()}}else if(this.pdfPreviewExists&&r===w.tab.pdfPreview){this.elTabPdfPreview.classList.add("rbroActive"),this.elDoc.classList.add("rbroHidden"),this.elPdfPreview.style.zIndex="1",this.elPdfPreview.style.height="";var J,le=Pt(s);try{for(le.s();!(J=le.n()).done;){var Q=J.value;Q.classList.add("rbroDisabled"),Q.draggable=!1}}catch(fe){le.e(fe)}finally{le.f()}var ue,Ie=Pt(u);try{for(Ie.s();!(ue=Ie.n()).done;)ue.value.disabled=!0}catch(fe){Ie.e(fe)}finally{Ie.f()}}}},{key:"openPdfPreviewTab",value:function(r,e){if(C(this.elPdfPreview),this.pdfPreviewObjectURL&&(URL.revokeObjectURL(this.pdfPreviewObjectURL),this.pdfPreviewObjectURL=null),e&&Object.keys(e).length>0){var t=this,s=new XMLHttpRequest;for(var u in s.responseType="blob",s.onreadystatechange=function(){if(s.readyState===XMLHttpRequest.DONE)if(s.status===200){var E=document.createElement("object");E.type="application/pdf",E.width="100%",E.height="100%",t.pdfPreviewObjectURL=URL.createObjectURL(s.response),E.data=t.pdfPreviewObjectURL,t.elPdfPreview.append(E)}else alert("preview failed")},s.open("GET",r,!0),e)e.hasOwnProperty(u)&&s.setRequestHeader(u,e[u]);s.send()}else{var g=c("object",{data:r,type:"application/pdf",width:"100%",height:"100%"});this.elPdfPreview.append(g)}this.pdfPreviewExists=!0,this.setDocumentTab(w.tab.pdfPreview),this.updateDocumentTabs()}},{key:"closePdfPreviewTab",value:function(){this.pdfPreviewExists=!1,C(this.elPdfPreview),this.setDocumentTab(w.tab.pdfLayout),this.updateDocumentTabs()}},{key:"updateDocumentTabs",value:function(){var r=1;this.pdfPreviewExists?(this.elTabPdfPreview.classList.remove("rbroHidden"),r++):this.elTabPdfPreview.classList.add("rbroHidden"),r>1?(document.getElementById("rbro_document_tabs").style.display="block",this.elPanel.classList.add("rbroHasTabs")):(document.getElementById("rbro_document_tabs").style.display="none",this.elPanel.classList.remove("rbroHasTabs"))}},{key:"getContainer",value:function(r,e,t,s){var u=L(this.elDocContent);return this.rb.getContainer(this.getCoordWithoutZoom(r-u.left),this.getCoordWithoutZoom(e-u.top),t,s)}},{key:"getContentScrollPosY",value:function(){var r=L(this.elDocContent);return L(this.elPanel).top-r.top}},{key:"isGridVisible",value:function(){return this.gridVisible}},{key:"toggleGrid",value:function(){this.gridVisible=!this.gridVisible,this.gridVisible?this.elDocContent.classList.add("rbroDocumentGrid"):this.elDocContent.classList.remove("rbroDocumentGrid")}},{key:"zoomIn",value:function(){for(var r=0;r<this.zoomLevels.length-1;r++)if(this.zoom===this.zoomLevels[r]){this.updateZoomLevel(this.zoomLevels[r+1]);break}}},{key:"zoomOut",value:function(){for(var r=1;r<this.zoomLevels.length;r++)if(this.zoom===this.zoomLevels[r]){this.updateZoomLevel(this.zoomLevels[r-1]);break}}},{key:"isZoomInPossible",value:function(){return this.zoom<this.zoomLevels[this.zoomLevels.length-1]}},{key:"isZoomOutPossible",value:function(){return this.zoom>this.zoomLevels[0]}},{key:"pageSizeChanged",value:function(){this.updateZoomLevel(this.zoom)}},{key:"updateZoomLevel",value:function(r){this.zoom=r;var e=this.rb.getDocumentProperties().getPageSize(),t=e.width*(r/100),s=e.height*(r/100),u=this.rb.getWidth()-this.rb.getMainPanel().getTotalPanelWidth(),g=getComputedStyle(this.elPanel),E=parseInt(g.paddingTop)||0,b=parseInt(g.paddingBottom)||0,D=this.elPanel.clientHeight-E-b,N=0;r!==100?(e.width>u?(this.elDoc.style.transformOrigin="",r<100&&t<u&&(N=Math.round((u-t)/2))):t>u?(this.elDoc.style.margin="0",this.elDoc.style.transformOrigin=""):(this.elDoc.style.margin="",this.elDoc.style.transformOrigin="top center"),this.elDoc.style.transform="translateX(".concat(N,"px) scale(").concat(this.zoom/100,")")):(this.elDoc.style.margin="",this.elDoc.style.transform="",this.elDoc.style.transformOrigin=""),document.getElementById("rbro_menu_zoom_level").textContent=r+" %",this.rb.getMenuPanel().updateZoomButtons(this.isZoomInPossible(),this.isZoomOutPossible()),this.elPanel.style.overflowX=t<u?"hidden":"",this.elPanel.style.overflowY=s<D?"hidden":""}},{key:"getCoordWithoutZoom",value:function(r){return Math.round(r*(100/this.zoom))}},{key:"getGridSize",value:function(){return this.gridSize}},{key:"getHeight",value:function(){return this.elDocContent.clientHeight}},{key:"getElement",value:function(r){return r===re.bandType.header?this.elHeader:r===re.bandType.content?this.elContent:r===re.bandType.footer?this.elFooter:null}},{key:"isDragging",value:function(){return this.dragging}},{key:"isDragged",value:function(){return this.dragging&&(this.dragStartX!==this.dragCurrentX||this.dragStartY!==this.dragCurrentY)}},{key:"startDrag",value:function(r,e,t,s,u,g){this.dragging=!0,this.dragStartX=this.dragCurrentX=r,this.dragStartY=this.dragCurrentY=e,this.dragElementType=u,this.dragType=g,this.dragObjectId=t,this.dragContainerId=s,this.dragLinkedContainers=[],this.dragCurrentContainerId=null,this.dragSnapToGrid=!1;var E=this.rb.getDataObject(this.dragObjectId);E&&(this.dragLinkedContainers=E.getLinkedContainers())}},{key:"stopDrag",value:function(){var r=this.getCoordWithoutZoom(this.dragCurrentX-this.dragStartX),e=this.getCoordWithoutZoom(this.dragCurrentY-this.dragStartY),t=this.rb.getDataObject(this.dragObjectId);if(t===null||r===0&&e===0)this.rb.updateSelectionDrag(0,0,this.dragType,null,!1);else{var s=null;this.dragType===Ee.dragType.element&&(s=this.rb.getDataObject(this.dragCurrentContainerId));var u=this.rb.getSelectedObjects();if(u.length>1&&s!==null){for(var g=u[0].getContainerId(),E=1;E<u.length;E++)if(u[E].getContainerId()!==g){s=null;break}}var b=t.getDragDiff(r,e,this.dragType,this.dragSnapToGrid&&this.isGridVisible()?this.getGridSize():0);this.rb.updateSelectionDrag(b.x,b.y,this.dragType,s,!0)}this.dragging=!1,this.dragType=Ee.dragType.none,this.dragObjectId=null,this.dragContainerId=null,this.dragCurrentContainerId=null;var D,N=Pt(document.querySelectorAll(".rbroElementContainer"));try{for(N.s();!(D=N.n()).done;)D.value.classList.remove("rbroElementDragOver")}catch(Z){N.e(Z)}finally{N.f()}}},{key:"startBrowserDrag",value:function(r){this.dragEnterCount=0,this.dragObjectId=null,this.dragContainerId=null,this.dragLinkedContainers=[],this.dragElementType=r,this.dragStartX=0,this.dragStartY=0,this.dragCurrentX=0,this.dragCurrentY=0}},{key:"startSelectionArea",value:function(r,e){this.selectionAreaStarted=!0,this.selectionAreaStartX=r,this.selectionAreaStartY=e}},{key:"stopSelectionArea",value:function(r,e,t){var s=this.getSelectionArea(r,e);if(s.width>10&&s.height>10){var u,g=Pt(this.rb.getDocElements(!0));try{for(g.s();!(u=g.n()).done;){var E=u.value;if(E.isAreaSelectionAllowed()){var b=E.getAbsolutePosition();if(s.left<b.x+E.getValue("widthVal")&&s.left+s.width>=b.x&&s.top<b.y+E.getValue("heightVal")&&s.top+s.height>=b.y){var D=!0;if(E.getContainerId()){var N=E.getContainer();N!==null&&N.isSelected()&&(D=!1)}D&&(this.rb.selectObject(E.getId(),t),t=!1)}}}}catch(Z){g.e(Z)}finally{g.f()}}this.selectionAreaStarted=!1,this.selectionAreaStartX=0,this.selectionAreaStartY=0,this.elSelectionArea.classList.add("rbroHidden")}},{key:"getSelectionArea",value:function(r,e){var t={};return r>this.selectionAreaStartX?(t.left=this.selectionAreaStartX,t.width=r-this.selectionAreaStartX):(t.left=r,t.width=this.selectionAreaStartX-r),e>this.selectionAreaStartY?(t.top=this.selectionAreaStartY,t.height=e-this.selectionAreaStartY):(t.top=e,t.height=this.selectionAreaStartY-e),t}},{key:"mouseUp",value:function(r){if(this.isDragging()&&this.stopDrag(),this.selectionAreaStarted){var e=L(this.elDocContent);this.stopSelectionArea(this.getCoordWithoutZoom(r.pageX-e.left),this.getCoordWithoutZoom(r.pageY-e.top),!r.shiftKey)}}},{key:"windowResized",value:function(){this.updateZoomLevel(this.zoom)}}]),w}();yn.tab={pdfLayout:"pdfLayout",pdfPreview:"pdfPreview"};var lr,Er,yr=typeof Map=="function"?new Map:(lr=[],Er=[],{has:function(w){return lr.indexOf(w)>-1},get:function(w){return Er[lr.indexOf(w)]},set:function(w,r){lr.indexOf(w)===-1&&(lr.push(w),Er.push(r))},delete:function(w){var r=lr.indexOf(w);r>-1&&(lr.splice(r,1),Er.splice(r,1))}}),bn=function(w){return new Event(w,{bubbles:!0})};try{new Event("test")}catch(w){bn=function(r){var e=document.createEvent("Event");return e.initEvent(r,!0,!1),e}}function ao(w){var r=yr.get(w);r&&r.destroy()}function io(w){var r=yr.get(w);r&&r.update()}var br=null;typeof window=="undefined"||typeof window.getComputedStyle!="function"?((br=function(w){return w}).destroy=function(w){return w},br.update=function(w){return w}):((br=function(w,r){return w&&Array.prototype.forEach.call(w.length?w:[w],function(e){return function(t){if(t&&t.nodeName&&t.nodeName==="TEXTAREA"&&!yr.has(t)){var s,u=null,g=null,E=null,b=function(){t.clientWidth!==g&&J()},D=function(le){window.removeEventListener("resize",b,!1),t.removeEventListener("input",J,!1),t.removeEventListener("keyup",J,!1),t.removeEventListener("autosize:destroy",D,!1),t.removeEventListener("autosize:update",J,!1),Object.keys(le).forEach(function(Q){t.style[Q]=le[Q]}),yr.delete(t)}.bind(t,{height:t.style.height,resize:t.style.resize,overflowY:t.style.overflowY,overflowX:t.style.overflowX,wordWrap:t.style.wordWrap});t.addEventListener("autosize:destroy",D,!1),"onpropertychange"in t&&"oninput"in t&&t.addEventListener("keyup",J,!1),window.addEventListener("resize",b,!1),t.addEventListener("input",J,!1),t.addEventListener("autosize:update",J,!1),t.style.overflowX="hidden",t.style.wordWrap="break-word",yr.set(t,{destroy:D,update:J}),(s=window.getComputedStyle(t,null)).resize==="vertical"?t.style.resize="none":s.resize==="both"&&(t.style.resize="horizontal"),u=s.boxSizing==="content-box"?-(parseFloat(s.paddingTop)+parseFloat(s.paddingBottom)):parseFloat(s.borderTopWidth)+parseFloat(s.borderBottomWidth),isNaN(u)&&(u=0),J()}function N(le){var Q=t.style.width;t.style.width="0px",t.style.width=Q,t.style.overflowY=le}function Z(){if(t.scrollHeight!==0){var le=function(Q){for(var ue=[];Q&&Q.parentNode&&Q.parentNode instanceof Element;)Q.parentNode.scrollTop&&(Q.parentNode.style.scrollBehavior="auto",ue.push([Q.parentNode,Q.parentNode.scrollTop])),Q=Q.parentNode;return function(){return ue.forEach(function(Ie){var fe=Ie[0];fe.scrollTop=Ie[1],fe.style.scrollBehavior=null})}}(t);t.style.height="",t.style.height=t.scrollHeight+u+"px",g=t.clientWidth,le()}}function J(){Z();var le=Math.round(parseFloat(t.style.height)),Q=window.getComputedStyle(t,null),ue=Q.boxSizing==="content-box"?Math.round(parseFloat(Q.height)):t.offsetHeight;if(ue<le?Q.overflowY==="hidden"&&(N("scroll"),Z(),ue=Q.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight):Q.overflowY!=="hidden"&&(N("hidden"),Z(),ue=Q.boxSizing==="content-box"?Math.round(parseFloat(window.getComputedStyle(t,null).height)):t.offsetHeight),E!==ue){E=ue;var Ie=bn("autosize:resized");try{t.dispatchEvent(Ie)}catch(fe){}}}}(e)}),w}).destroy=function(w){return w&&Array.prototype.forEach.call(w.length?w:[w],ao),w},br.update=function(w){return w&&Array.prototype.forEach.call(w.length?w:[w],io),w});const ft=br;function Ut(w,r){var e=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!e){if(Array.isArray(w)||(e=function(b,D){if(b){if(typeof b=="string")return vn(b,D);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?vn(b,D):void 0}}(w))||r&&w&&typeof w.length=="number"){e&&(w=e);var t=0,s=function(){};return{s,n:function(){return t>=w.length?{done:!0}:{done:!1,value:w[t++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,g=!0,E=!1;return{s:function(){e=e.call(w)},n:function(){var b=e.next();return g=b.done,b},e:function(b){E=!0,u=b},f:function(){try{g||e.return==null||e.return()}finally{if(E)throw u}}}}function vn(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}var _t=function(){function w(r,e){K(this,w),this.rootElement=r,this.rb=e,this.elWindow=null,this.elContent=null,this.input=null,this.objId=null,this.field=null,this.type=null,this.visible=!1,this.items=null,this.rootParameter=null,this.rootDataType=null,this.rootFields=null,this.dataEmptyBeforeEdit=!0,this.nextRowId=-1,this.rowMap=null}return y(w,[{key:"render",value:function(){var r=this;this.elWindow=c("div",{class:"rbroPopupWindow rbroHidden"}),this.elContent=c("div",{class:"rbroPopupWindowContent"}),this.elContent.addEventListener("mouseup",function(t){t.stopPropagation()}),this.elWindow.append(this.elContent);var e=c("div",{class:"rbroButton rbroRoundButton rbroPopupWindowCancel rbroIcon-cancel"});e.addEventListener("click",function(t){r.hide()}),this.elWindow.append(e),document.body.append(this.elWindow)}},{key:"destroy",value:function(){this.elWindow.remove()}},{key:"show",value:function(r,e,t,s,u,g,E,b,D,N){var Z=this,J=window.innerWidth,le=window.innerHeight,Q=null,ue=null;if(this.input=t!==""?document.getElementById(t):null,this.objId=e,this.field=s,this.type=u,this.items=r,C(this.elContent),this.rootParameter=E,this.rootDataType=b,this.rootFields=D,this.nextRowId=1,this.rowMap={},g&&(ue=g.getSelection()),u===w.type.data){E?(console.assert(b===null&&D===null&&N===null),b=E.type,D=E.getParameterFields(),N=E.getTestData(!0)):b===ne.type.map?this.dataEmptyBeforeEdit=Object.keys(N).length===0:b!==ne.type.array&&b!==ne.type.simpleArray||!Array.isArray(N)?this.dataEmptyBeforeEdit=!1:this.dataEmptyBeforeEdit=N.length===0,this.createDataTable(this.elContent,E,b,D,N);var Ie=Math.round(.8*J),fe=Math.round(.8*le),we=document.querySelector("html").scrollTop;this.elWindow.style.left=Math.round((J-Ie)/2)+"px",this.elWindow.style.top=Math.round((le-fe)/2)+we+"px",this.elWindow.style.width=Ie+"px",this.elWindow.style.height=fe+"px",document.body.append(c("div",{id:"rbro_background_overlay",class:"rbroBackgroundOverlay"})),document.body.classList.add("rbroFixedBackground")}else{u!==w.type.parameterSet&&u!==w.type.parameterAppend||((Q=c("input",{class:"rbroPopupSearch",placeholder:this.rb.getLabel("parameterSearchPlaceholder"),autocomplete:"off"})).addEventListener("input",function(ze){Z.filterParameters(Q.value)}),this.elContent.append(Q));var Se=c("ul");Se.addEventListener("mousedown",function(ze){ze.preventDefault()});var Le,Ae=Ut(r);try{var Be=function(){var ze=Le.value,Ce=c("li");if(ze.separator){u!==w.type.parameterSet&&u!==w.type.parameterAppend||!ze.id||Ce.setAttribute("id","parameter_group_"+ze.id);var ae="rbroPopupItemSeparator";ze.separatorClass&&(ae+=" "+ze.separatorClass),Ce.setAttribute("class",ae)}else u!==w.type.parameterSet&&u!==w.type.parameterAppend||!ze.id||Ce.setAttribute("id","parameter_"+ze.id),Ce.addEventListener("mousedown",function(Ne){if(u===w.type.pattern)Z.input.value=ze.name,Z.input.dispatchEvent(new Event("input")),Z.hide();else if(u===w.type.parameterSet||u===w.type.parameterAppend){var Je="${"+(ze.dataSourceName!==null?ze.dataSourceName+":":"")+ze.name+"}";u===w.type.parameterSet?(Z.input.value=Je,Z.input.dispatchEvent(new Event("input")),ft.update(Z.input)):g?ue&&g.insertText(ue.index,Je):(function(De,it){if(document.selection)De.focus(),document.selection.createRange().text=it,De.focus();else if(De.selectionStart||De.selectionStart===0){var rt=De.selectionStart,nt=De.selectionEnd,ct=De.scrollTop;De.value=De.value.substring(0,rt)+it+De.value.substring(nt,De.value.length),De.focus(),De.selectionStart=rt+it.length,De.selectionEnd=rt+it.length,De.scrollTop=ct}else De.value+=it,De.focus()}(Z.input,Je),ft.update(Z.input),Z.input.dispatchEvent(new Event("input"))),Z.hide()}Ne.preventDefault()});Ce.append(c("div",{class:"rbroPopupItemHeader"},ze.name)),ze.description&&ze.description!==""&&Ce.append(c("div",{class:"rbroPopupItemDescription"},ze.description)),Se.append(Ce)};for(Ae.s();!(Le=Ae.n()).done;)Be()}catch(ze){Ae.e(ze)}finally{Ae.f()}this.elContent.append(Se);var $e=L(this.input),Fe=$e.top;Fe<le/2||Fe<300?Fe+this.input.clientHeight+300<le&&(Fe+=this.input.clientHeight):Fe-=300,this.elWindow.style.left=$e.left+"px",this.elWindow.style.top=Fe+"px",this.elWindow.style.width="400px",this.elWindow.style.height="300px"}this.elWindow.classList.remove("rbroHidden"),this.visible=!0,Q!==null&&Q.focus();var Ke,Qe=Ut(this.elWindow.querySelectorAll("textarea"));try{for(Qe.s();!(Ke=Qe.n()).done;){var We=Ke.value;ft.update(We)}}catch(ze){Qe.e(ze)}finally{Qe.f()}}},{key:"hide",value:function(){if(this.visible){if(this.input!==null&&this.input.focus(),this.type===w.type.data){var r,e=!0;if(this.rootParameter?r=this.getTestData(this.elContent,this.rootParameter):(r=this.getData(this.elContent,this.rootDataType,this.rootFields),this.dataEmptyBeforeEdit&&(this.rootDataType===ne.type.map?e=this.isDataEmpty(r,this.rootFields):this.rootDataType!==ne.type.array&&this.rootDataType!==ne.type.simpleArray||!Array.isArray(r)||(r.length===0?e=!1:r.length===1&&(e=!this.isDataEmpty(r[0],this.rootFields))))),e){var t=this.rb.getDataObject(this.objId),s=JSON.stringify(r);if(t!==null&&t.getValue(this.field)!==s){var u=new l(this.objId,this.field,s,l.type.text,this.rb);this.rb.executeCommand(u)}}document.getElementById("rbro_background_overlay").remove()}this.elWindow.classList.add("rbroHidden"),C(this.elContent),document.body.classList.remove("rbroFixedBackground"),this.visible=!1,this.items=null}}},{key:"isDataEmpty",value:function(r,e){var t,s=!0,u=Ut(e);try{for(u.s();!(t=u.n()).done;){var g=t.value;if(g.name in r){var E=r[g.name];g.type===ne.type.string||g.type===ne.type.number||g.type===ne.type.date?E!==""&&(s=!1):g.type===ne.type.boolean?E&&(s=!1):g.type===ne.type.image?A(E)==="object"&&"filename"in E&&E.filename!==""&&(s=!1):g.type===ne.type.array||g.type===ne.type.simpleArray?E.length>0&&(s=!1):g.type===ne.type.map&&Object.keys(E).length>0&&(s=!1)}}}catch(b){u.e(b)}finally{u.f()}return s}},{key:"createDataTable",value:function(r,e,t,s,u){var g,E=this,b=c("div"),D=c("table"),N=c("tr"),Z=c("tbody");t===ne.type.array||t===ne.type.simpleArray?Array.isArray(u)||(u=[]):t===ne.type.map&&(u&&Object.getPrototypeOf(u)===Object.prototype||(u={}));var J=c("th");t===ne.type.map&&(J.style.display="none"),N.append(J);var le,Q=Ut(s);try{for(Q.s();!(le=Q.n()).done;){var ue=le.value,Ie=c("th",{},ue.label?ue.label:ue.name);ue.type===ne.type.image&&Ie.append(c("span",{title:this.rb.getLabel("parameterTestDataImageInfo"),class:"rbroIcon-info"})),N.append(Ie)}}catch(Ae){Q.e(Ae)}finally{Q.f()}var fe=c("thead");if(fe.append(N),D.append(fe),t===ne.type.map){var we=[u];this.addDataRow(Z,e,t,s,we,0)}else{var Se=Array.isArray(u)?u:[];if(Se.length===0)this.addEmptyDataRow(Z,e,t,s);else for(g=0;g<Se.length;g++)this.addDataRow(Z,e,t,s,Se,g)}if(D.append(Z),b.append(D),t!==ne.type.map){var Le=c("div",{class:"rbroButton rbroFullWidthButton"});Le.append(c("div",{class:"rbroButton rbroPopupWindowButton"},this.rb.getLabel("popupWindowAddDataRow"))),Le.addEventListener("click",function(Ae){E.addEmptyDataRow(Z,e,t,s)}),b.append(Le)}C(r),r.append(b)}},{key:"addEmptyDataRow",value:function(r,e,t,s){var u,g={},E=Ut(s);try{for(E.s();!(u=E.n()).done;){var b=u.value;b.type===ne.type.array||b.type===ne.type.simpleArray?g[b.name]=[]:b.type===ne.type.map?g[b.name]={}:g[b.name]=""}}catch(N){E.e(N)}finally{E.f()}var D=[g];this.addDataRow(r,e,t,s,D,0)}},{key:"addDataRow",value:function(r,e,t,s,u,g){var E=this,b=u[g],D=c("tr");D.dataset.rowId=String(this.nextRowId),this.rowMap[String(this.nextRowId)]={type:"row",data:b},this.nextRowId++;var N=c("td");if(t!==ne.type.map){var Z=c("div",{class:"rbroButton rbroDeleteButton rbroIcon-cancel"});Z.addEventListener("click",function(fe){var we=fe.target.parentElement.parentElement,Se=we.dataset.rowId;we.remove();var Le=E.rowMap[Se];u.splice(u.indexOf(Le.data),1),delete E.rowMap[Se]}),N.append(Z)}else N.style.display="none";D.append(N);var J,le=s.length,Q=Ut(s);try{for(Q.s();!(J=Q.n()).done;){var ue=J.value,Ie=ue.type===ne.type.array||ue.type===ne.type.simpleArray?[]:"";b!==null&&ue.name in b&&(Ie=b[ue.name]),this.appendColumn(D,ue,Ie,b,le)}}catch(fe){Q.e(fe)}finally{Q.f()}r.append(D)}},{key:"appendColumn",value:function(r,e,t,s,u){var g=this,E=c("td");if(e.type===ne.type.array||e.type===ne.type.simpleArray||e.type===ne.type.map){var b=c("div",{class:"expandableCell"}),D=c("span",{class:"rbroIcon-plus"});b.append(D);var N=c("span");if(b.append(N),b.addEventListener("click",function(we){var Se=!b.classList.contains("rbroExpandedCell"),Le=r.nextElementSibling;if(Le&&Le.tagName==="TR"){var Ae=Le.querySelector("td table");if(Ae){var Be,$e=Ut(r.querySelectorAll(".expandableCell"));try{for($e.s();!(Be=$e.n()).done;){var Fe=Be.value;if(Fe.classList.contains("rbroExpandedCell")){Fe.classList.remove("rbroExpandedCell");var Ke=Fe.children[0],Qe=Fe.children[1];Ke.classList.remove("rbroIcon-minus"),Ke.classList.add("rbroIcon-plus");var We=g.rowMap[Le.dataset.rowId];if(We.type==="table"&&(We.parentData[We.field.name]=g.getTestData(Ae,We.field.parameter),We.field.type===ne.type.array||We.field.type===ne.type.simpleArray)){var ze=We.field.name in s&&Array.isArray(s[We.field.name])?s[We.field.name].length:0;g.setTableRowCount(Qe,ze)}break}}}catch(De){$e.e(De)}finally{$e.f()}Le.remove()}}if(Se){var Ce=c("tr");Ce.dataset.rowId=String(g.nextRowId),g.rowMap[String(g.nextRowId)]={type:"table",field:e,parentData:s},g.nextRowId++;var ae=c("td",{colspan:String(u+1)}),Ne=e.parameter.getParameterFields();if(Ne.length>0){var Je=s[e.name];g.createDataTable(ae,e.parameter,e.parameter.type,Ne,Je),Ce.append(ae),r.insertAdjacentElement("afterend",Ce),b.classList.add("rbroExpandedCell"),D.classList.remove("rbroIcon-plus"),D.classList.add("rbroIcon-minus"),N.textContent=""}else e.parameter.getValue("type")===ne.type.map?alert(g.rb.getLabel("parameterEditTestDataMapNoFields")):alert(g.rb.getLabel("parameterEditTestDataArrayNoFields"))}}),e.type===ne.type.array||e.type===ne.type.simpleArray){var Z=e.name in s&&Array.isArray(s[e.name])?s[e.name].length:0;this.setTableRowCount(N,Z)}E.append(b)}else if(e.type===ne.type.image){var J=c("div",{class:"rbroImageFileContainer"}),le=c("input",{type:"file"});le.addEventListener("change",function(we){var Se=we.target.files;Se&&Se[0]&&z(Se[0],function(Le,Ae){s[e.name]={data:Le,filename:Ae},Q.classList.remove("rbroHidden"),ue.textContent=Ae},g.rb)}),J.append(le);var Q=c("div",{class:"rbroImageFile rbroHidden"}),ue=c("div");Q.append(ue);var Ie=c("div",{class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});Ie.addEventListener("click",function(we){le.value="",s[e.name]={data:"",filename:""},Q.classList.add("rbroHidden"),ue.textContent=""}),Q.append(Ie),J.append(Q),t.filename&&(ue.textContent=t.filename,Q.classList.remove("rbroHidden")),E.append(J)}else{var fe;e.attributes&&e.attributes.multiLine?(console.assert(e.type===ne.type.string),fe=c("textarea",{rows:1}),t&&(fe.value=t),ft(fe)):e.attributes&&e.attributes.select?(console.assert(e.type===ne.type.string||e.type===ne.type.number),fe=c("select"),e.attributes.select==="style"&&T(fe,t||null,this.rb)):(fe=c("input"),e.type===ne.type.boolean?(fe.setAttribute("type","checkbox"),t&&(fe.checked=!0),E.classList.add("rbroDataCheckbox")):(fe.setAttribute("type","text"),t&&fe.setAttribute("value",t),e.type===ne.type.number?function(we){var Se=this;we.addEventListener("keyup",function(Le){var Ae=Le.target.value,Be=Ae.reverse().replace(/[^0-9\-\.,]|[\-](?=.)|[\.,](?=[0-9]*[\.,])/g,"").reverse(),$e=Se.className,Fe=$e?$e.indexOf("decimalPlaces"):-1;if(Fe!==-1){Fe+=13;var Ke,Qe=$e.indexOf(" ",Fe);Ke=parseInt(Qe!==-1?$e.substring(Fe,Qe):$e.substr(Fe),10),isNaN(Ke)||((Fe=Be.indexOf("."))===-1&&(Fe=Be.indexOf(",")),Fe!==-1&&Be.length-1-Fe>Ke&&(Be=Be.substring(0,Fe+Ke+1)))}Ae!==Be&&(Le.target.value=Be)})}(fe):e.type===ne.type.date&&fe.setAttribute("placeholder",this.rb.getLabel("parameterTestDataDatePattern")))),fe.addEventListener("focus",function(we){fe.parentElement.classList.add("rbroHasFocus")}),fe.addEventListener("blur",function(we){fe.parentElement.classList.remove("rbroHasFocus")}),E.append(fe)}r.append(E)}},{key:"getTestData",value:function(r,e){return this.getData(r,e.type,e.getParameterFields())}},{key:"getData",value:function(r,e,t){var s=[];if(e===ne.type.map)s={};else if(e!==ne.type.array&&e!==ne.type.simpleArray)return console.assert(!1),null;var u,g=Ut(r.querySelector("tbody").children);try{for(g.s();!(u=g.n()).done;){var E=u.value,b=this.rowMap[E.dataset.rowId];if(b.type==="table"){var D=b.field.parameter;b.parentData[b.field.name]=this.getData(E,D.type,D.getParameterFields())}else{var N,Z=b.data,J=E.querySelectorAll("input,textarea,select"),le=0,Q=Ut(t);try{for(Q.s();!(N=Q.n()).done;){var ue=N.value;if(ue.type!==ne.type.array&&ue.type!==ne.type.simpleArray&&ue.type!==ne.type.map){var Ie=J[le];ue.type===ne.type.boolean?Z[ue.name]=Ie.checked:ue.type!==ne.type.image&&(Z[ue.name]=Ie.value.trim()),le++}}}catch(fe){Q.e(fe)}finally{Q.f()}e===ne.type.array||e===ne.type.simpleArray?s.push(Z):e===ne.type.map&&(s=Z)}}}catch(fe){g.e(fe)}finally{g.f()}return s}},{key:"setTableRowCount",value:function(r,e){r.textContent=e===0?this.rb.getLabel("parameterTestDataRowCountEmpty"):e===1?this.rb.getLabel("parameterTestDataRowCountOne"):this.rb.getLabel("parameterTestDataRowCount").replace("${count}",String(e))}},{key:"filterParameters",value:function(r){var e=null,t=0;if(this.items!==null){r=r.toLowerCase();var s,u=Ut(this.items);try{for(u.s();!(s=u.n()).done;){var g=s.value;g.separator?(e!==null&&(document.getElementById("parameter_group_"+e).style.display=t>0?"block":"none"),e=g.id?g.id:null,t=0):g.nameLowerCase.indexOf(r)!==-1?(document.getElementById("parameter_"+g.id).style.display="block",e!==-1&&t++):document.getElementById("parameter_"+g.id).style.display="none"}}catch(E){u.e(E)}finally{u.f()}e!==null&&(document.getElementById("parameter_group_"+e).style.display=t>0?"block":"none")}}}]),w}();function _n(w,r){var e=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!e){if(Array.isArray(w)||(e=function(b,D){if(b){if(typeof b=="string")return wn(b,D);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?wn(b,D):void 0}}(w))||r&&w&&typeof w.length=="number"){e&&(w=e);var t=0,s=function(){};return{s,n:function(){return t>=w.length?{done:!0}:{done:!1,value:w[t++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,g=!0,E=!1;return{s:function(){e=e.call(w)},n:function(){var b=e.next();return g=b.done,b},e:function(b){E=!0,u=b},f:function(){try{g||e.return==null||e.return()}finally{if(E)throw u}}}}function wn(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}_t.type={parameterSet:0,parameterAppend:1,pattern:2,data:3};var Nt=function(){function w(r){K(this,w),this.rb=r,this.id="0_document_properties",this.panelItem=null,this.errors=[],this.pageFormat=w.pageFormat.A4,this.pageWidth="",this.pageHeight="",this.unit=w.unit.mm,this.orientation=w.orientation.portrait,this.contentHeight="",this.marginLeft="",this.marginLeftVal=0,this.marginTop="",this.marginTopVal=0,this.marginRight="",this.marginRightVal=0,this.marginBottom="",this.marginBottomVal=0,this.header=!0,this.headerSize="80",this.headerDisplay=w.display.always,this.footer=!0,this.footerSize="80",this.footerDisplay=w.display.always,this.headerSizeVal=this.header?M(this.headerSize):0,this.footerSizeVal=this.footer?M(this.footerSize):0,this.patternLocale=r.getProperty("patternLocale"),this.patternCurrencySymbol=r.getProperty("patternCurrencySymbol"),this.patternNumberGroupSymbol=r.getProperty("patternNumberGroupSymbol"),this.width=0,this.height=0}return y(w,[{key:"setInitialData",value:function(r){for(var e in r)r.hasOwnProperty(e)&&this.hasOwnProperty(e)&&(this[e]=r[e]);this.headerSizeVal=this.header?M(this.headerSize):0,this.footerSizeVal=this.footer?M(this.footerSize):0,this.marginLeftVal=M(this.marginLeft),this.marginTopVal=M(this.marginTop),this.marginRightVal=M(this.marginRight),this.marginBottomVal=M(this.marginBottom)}},{key:"setup",value:function(){var r=this.getPageSize();this.updatePageSize(r),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter(),this.updateHeader(),this.updateFooter()}},{key:"getFields",value:function(){return["pageFormat","pageWidth","pageHeight","unit","orientation","contentHeight","marginLeft","marginTop","marginRight","marginBottom","header","headerSize","headerDisplay","footer","footerSize","footerDisplay","patternLocale","patternCurrencySymbol","patternNumberGroupSymbol"]}},{key:"getId",value:function(){return this.id}},{key:"getName",value:function(){return this.rb.getLabel("documentProperties")}},{key:"getPanelItem",value:function(){return this.panelItem}},{key:"setPanelItem",value:function(r){this.panelItem=r}},{key:"getValue",value:function(r){return this[r]}},{key:"setValue",value:function(r,e){if(this[r]=e,r==="marginLeft"||r==="marginTop"||r==="marginRight"||r==="marginBottom"?(this[r+"Val"]=M(e),this.rb.getDocument().updatePageMargins(),this.rb.getDocument().updateHeader(),this.rb.getDocument().updateFooter()):r==="header"?this.updateHeader():r==="footer"&&this.updateFooter(),r!=="header"&&r!=="headerSize"||(this.rb.getDocument().updateHeader(),this.headerSizeVal=this.header?M(this.headerSize):0),r!=="footer"&&r!=="footerSize"||(this.rb.getDocument().updateFooter(),this.footerSizeVal=this.footer?M(this.footerSize):0),r==="pageFormat"||r==="pageWidth"||r==="pageHeight"||r==="unit"||r==="orientation"||r==="contentHeight"||r==="marginTop"||r==="marginBottom"){var t=this.getPageSize();this.updatePageSize(t)}}},{key:"updatePageSize",value:function(r){this.width=r.width,this.height=r.height,this.rb.getDocument().updatePageSize(r.width,r.height);var e,t=_n(this.rb.getDocElements(!0));try{for(t.s();!(e=t.n()).done;){var s=e.value;s instanceof Ar&&s.setWidth(r.width)}}catch(u){t.e(u)}finally{t.f()}this.rb.getDocument().pageSizeChanged()}},{key:"updateHeader",value:function(){this.header?this.rb.getMainPanel().showHeader():this.rb.getMainPanel().hideHeader()}},{key:"updateFooter",value:function(){this.footer?this.rb.getMainPanel().showFooter():this.rb.getMainPanel().hideFooter()}},{key:"getPageSize",value:function(){var r,e,t;return this.pageFormat===w.pageFormat.A4?(this.orientation===w.orientation.portrait?(r=210,e=297):(r=297,e=210),t=w.unit.mm):this.pageFormat===w.pageFormat.A5?(this.orientation===w.orientation.portrait?(r=148,e=210):(r=210,e=148),t=w.unit.mm):this.pageFormat===w.pageFormat.letter?(this.orientation===w.orientation.portrait?(r=8.5,e=11):(r=11,e=8.5),t=w.unit.inch):(r=M(this.pageWidth),e=M(this.pageHeight),t=this.unit),t===w.unit.mm?(r=Math.round(72*r/25.4),e=Math.round(72*e/25.4)):(r=Math.round(72*r),e=Math.round(72*e)),this.contentHeight.trim()!==""&&(e=M(this.contentHeight)+this.marginTopVal+this.marginBottomVal+this.headerSizeVal+this.footerSizeVal),{width:r,height:e}}},{key:"getContentSize",value:function(){var r,e=this.getPageSize();return r=this.contentHeight.trim()!==""?M(this.contentHeight):e.height-this.marginTopVal-this.marginBottomVal-this.headerSizeVal-this.footerSizeVal,{width:e.width-this.marginLeftVal-this.marginRightVal,height:r}}},{key:"addError",value:function(r){this.errors.push(r)}},{key:"clearErrors",value:function(){this.errors=[]}},{key:"getErrors",value:function(){return this.errors}},{key:"remove",value:function(){}},{key:"select",value:function(){}},{key:"deselect",value:function(){}},{key:"toJS",value:function(){var r,e={},t=_n(this.getFields());try{for(t.s();!(r=t.n()).done;){var s=r.value;e[s]=this.getValue(s)}}catch(u){t.e(u)}finally{t.f()}return e}},{key:"getClassName",value:function(){return"DocumentProperties"}}]),w}();Nt.outputFormat={pdf:"pdf",xlsx:"xlsx"},Nt.pageFormat={A4:"A4",A5:"A5",letter:"letter",userDefined:"user_defined"},Nt.unit={mm:"mm",inch:"inch"},Nt.orientation={portrait:"portrait",landscape:"landscape"},Nt.display={always:"always",notOnFirstPage:"not_on_first_page"};const lo={de_de:{bandContent:"Inhalt",bandFooter:"Fu\xDFzeile",bandHeader:"Kopfzeile",clear:"L\xF6schen",contentHeight:"Inhaltsh\xF6he",contentHeightInfo:"H\xF6he des Inhaltsbereichs, um Elemente zu platzieren (betrifft nicht die tats\xE4chliche Seitengr\xF6\xDFe)",differentFiles:"versch. Dateien...",differentValues:"versch. Werte...",docElementAdditionalStyles:"Zus\xE4tzliche Formatvorlagen",docElementAlignToPageBottom:"Am unteren Seitenrand ausrichten",docElementAlternateBackgroundColor:"Abwechselnde Hintergrundfarbe",docElementAlwaysPrintOnSamePage:"Immer zusammen auf einer Seite",docElementBarCode:"Barcode",docElementBarWidth:"Balkenbreite",docElementBorderFrame:"au\xDFen",docElementBorderFrameRow:"Rahmen und Zeile",docElementBorderGrid:"Alle Rahmenlinien",docElementBorderNone:"Keiner",docElementBorderRow:"Zeilen",docElementColor:"Farbe",docElementColspan:"Anz. verbundene Zellen",docElementColumns:"Spalten",docElementConditionalStyle:"Bedingte Formatierung",docElementConditionalStyleCondition:"Bedingung",docElementContent:"Text",docElementContentRows:"Inhaltszeilen",docElementDataSource:"Datenquelle",docElementDisplayValue:"Wert anzeigen",docElementEditMultipleSelectionNotSupported:"Bearbeiten von Mehrfachauswahl wird f\xFCr diese Einstellung nicht unterst\xFCtzt",docElementErrorCorrectionLevel:"Fehlerkorrektur",docElementErrorCorrectionLevelHigh:"Hoch",docElementErrorCorrectionLevelLow:"Niedrig",docElementErrorCorrectionLevelMedium:"Mittel",docElementErrorCorrectionLevelQuartile:"Quartil",docElementEval:"Auswerten",docElementFormat:"Format",docElementFrame:"Rahmen",docElementGroupExpression:"Gruppen Ausdruck",docElementGrowWeight:"Wachstums-Gewicht",docElementGrowWeightInfo:"Wachstumsfaktor zur Verwendung des Platzes von ausgeblendeten Spalten",docElementGrowWeightHigh:"hoch",docElementGrowWeightLow:"niedrig",docElementGuardBar:"Rand-/Trennzeichen",docElementHeight:"H\xF6he",docElementImage:"Bild",docElementImageCountExceeded:"Es sind nur bis zu ${count} Bilder erlaubt",docElementImageFile:"Bilddatei",docElementLabel:"Bezeichnung",docElementLine:"Linie",docElementLink:"Link",docElementLoadImageErrorMsg:"Bild laden fehlgeschlagen",docElementLoadImageWebPErrorMsg:"Bild laden fehlgeschlagen, aktueller Browser ben\xF6tigt",docElementPageBreak:"Seitenumbruch",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Anzeigen wenn",docElementPrintSettings:"Anzeige",docElementRemoveEmptyElement:"Entfernen wenn nicht vorhanden",docElementRepeatGroupHeader:"Gruppe auf jeder Seite wiederholen",docElementRepeatHeader:"Auf jeder Seite wiederholen",docElementRichText:"Rich Text",docElementRoot:"Dokument",docElementRotate:"Drehen",docElementSection:"Sektion",docElementShrinkToContentHeight:"Auf Inhaltsh\xF6he reduzieren",docElementSize:"Gr\xF6\xDFe (Breite, H\xF6he)",docElementSource:"Bildquelle",docElementSpreadsheet:"Tabellenkalkulation",docElementSpreadsheetAddEmptyRow:"Leere Zeile unterhalb einf\xFCgen",docElementSpreadsheetColspan:"Anz. verbundene Zellen",docElementSpreadsheetColumn:"Fixe Spalte",docElementSpreadsheetHide:"Ausblenden",docElementSpreadsheetPattern:"Pattern",docElementSpreadsheetTextWrap:"Zeilenumbruch",docElementSpreadsheetType:"Typ",docElementSpreadsheetTypeDate:"Datum",docElementSpreadsheetTypeNone:"Standard",docElementSpreadsheetTypeNumber:"Number",docElementStyle:"Formatvorlage",docElementTable:"Tabelle",docElementTableBandPageBreak:"Seitenumbruch mit jeder neuen Gruppe",docElementText:"Text",docElementWidth:"Breite",documentProperties:"Dokumenteinstellungen",documentTabClose:"Schlie\xDFen",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Vorschau",documentTabXlsxDownload:"XLSX Download",editData:"Bearbeiten",emptyPanel:"Leer",errorMsgAddtionalRulesNoStyleSelected:"Keine Formatvorlage f\xFCr Regel {info} ausgew\xE4hlt",errorMsgDuplicateParameter:"Parameter existiert bereits",errorMsgDuplicateParameterField:"Feld existiert bereits",errorMsgExternalImageNotAllowed:"Server unterst\xFCtzt das Laden von Bildern von externen Resourcen nicht",errorMsgFontNotAvailable:"Schrift ist am Server nicht vorhanden",errorMsgGroupExpressionWithoutDataSource:"Gruppen Ausdruck ben\xF6tigt Tabelle mit Datenquelle",errorMsgLoadingImageFailed:"Bild laden fehlgeschlagen: ${info}",errorMsgInvalidArray:"Ung\xFCltige Liste",errorMsgInvalidAvgSumExpression:"Ausdruck muss ein Zahl-Feld einer Liste enthalten",errorMsgInvalidBarCode:"Ung\xFCltiger Barcode Inhalt",errorMsgInvalidDataSource:"Ung\xFCltige Datenquelle",errorMsgInvalidDataSourceParameter:"Parameter muss eine Liste sein",errorMsgInvalidDate:"Ung\xFCltiges Datum, erwartetes Format ist JJJJ-MM-TT (bzw. JJJJ-MM-TT hh:mm f\xFCr Datum mit Uhrzeit)",errorMsgInvalidStringData:"Ung\xFCltiger Inhalt f\xFCr Text Parameter ${info}",errorMsgInvalidExpression:"Ung\xFCltiger Ausdruck: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Funktion ${info} ist nicht definiert",errorMsgInvalidExpressionNameNotDefined:"Name ${info} ist nicht definiert",errorMsgInvalidExpressionType:"Ausdruck liefert ung\xFCltigen Typ",errorMsgInvalidLink:"Link muss mit http:// oder https:// beginnen",errorMsgInvalidImage:"Ung\xFCltige Bilddaten, Bild muss base64 kodiert sein",errorMsgInvalidImageSource:"Ung\xFCltige Bildquelle, Url beginnend mit http:// bzw. https:// erwartet",errorMsgInvalidImageSourceParameter:"Parameter vom Typ Bild oder String (mit einer Url) notwendig",errorMsgInvalidMap:"Ung\xFCltige Auflistung",errorMsgInvalidNumber:"Ung\xFCltige Zahl",errorMsgInvalidPageSize:"Ung\xFCltige Seitengr\xF6\xDFe",errorMsgInvalidParameterData:"Daten stimmen nicht mit Parameter \xFCberein",errorMsgInvalidParameterName:"Name muss mit einem Zeichen oder Unterstrich beginnen und darf nur Zeichen, Ziffern und Unterstriche enthalten",errorMsgInvalidPattern:"Ung\xFCltiges Pattern",errorMsgInvalidPosition:"Die Position ist au\xDFerhalb des Bereichs",errorMsgInvalidRichTextFontNotAvailable:"Der Rich Text enth\xE4lt eine Schrift, welche am Server nicht vorhanden ist",errorMsgInvalidRichTextParameter:"Der Rich Text enth\xE4lt ung\xFCltige Tags",errorMsgInvalidSize:"Das Element ist au\xDFerhalb des Bereichs",errorMsgInvalidSpreadsheetDate:"Inhalt kann nicht zu Datum konvertiert werden, erwartetes Format ist JJJJ-MM-TT (bzw. JJJJ-MM-TT hh:mm f\xFCr Datum mit Uhrzeit)",errorMsgInvalidSpreadsheetNumber:"Inhalt kann nicht zu Zahl konvertiert werden",errorMsgInvalidTestData:"Ung\xFCltige Testdaten",errorMsgMissingData:"Fehlende Daten",errorMsgMissingDataSourceParameter:"Datenquelle Parameter nicht gefunden",errorMsgMissingExpression:"Ausdruck muss gesetzt sein",errorMsgMissingGlyph:"Text enth\xE4lt Zeichen, die in der ausgew\xE4hlten Schrift nicht verf\xFCgbar sind",errorMsgMissingImage:"Fehlendes Bild: Keine Bildquelle oder -datei angegeben",errorMsgMissingParameter:"Parameter nicht gefunden",errorMsgMissingParameterData:"Daten f\xFCr Parameter ${info} nicht gefunden",errorMsgRepeatGroupHeaderAfterContent:"Nicht erlaubt f\xFCr Gruppe nach Inhaltszeile",errorMsgPlusVersionRequired:"Ben\xF6tigt kommerzielle PLUS Version",errorMsgSectionBandNotOnSamePage:"Abschnittsbereich passt nicht auf eine Seite",errorMsgSectionBandPageBreakNotAllowed:"Manueller Seitenumbruch ist nicht erlaubt",errorMsgUnicodeEncodeError:"Text enth\xE4lt nicht druckbare Zeichen",errorMsgUnsupportedImageType:"Bildtyp wird nicht unterst\xFCtzt (nur .jpg und .png erlaubt)",footer:"Fu\xDFzeile",footerDisplay:"Anzeige",footerSize:"H\xF6he Fu\xDFzeile",header:"Kopfzeile",headerDisplay:"Anzeige",headerFooterDisplayAlways:"Immer",headerFooterDisplayNotOnFirstPage:"Nicht auf erster Seite",headerSize:"H\xF6he Kopfzeile",menuColumnAddLeft:"Spalte links hinzuf\xFCgen",menuColumnAddRight:"Spalte rechts hinzuf\xFCgen",menuColumnDelete:"Spalte l\xF6schen",menuAlignBottom:"Unten ausrichten",menuAlignCenter:"Zentriert ausrichten",menuAlignLeft:"Links ausrichten",menuAlignMiddle:"Mittig ausrichten",menuAlignRight:"Rechts ausrichten",menuAlignTop:"Oben ausrichten",menuInsertReport:"EINF.",menuInsertReportTip:"Report-Vorlage einf\xFCgen",menuLogReport:"LOG",menuLogReportTip:"Report-Vorlage in Konsole ausgeben",menuPreview:"VORSCHAU",menuPreviewTip:"Report-Vorschau",menuRedo:"WIEDERH.",menuRedoTip:"Letzten r\xFCckg\xE4ngig gemachten Befehl wiederholen",menuRowAddAbove:"Zeile oberhalb hinzuf\xFCgen",menuRowAddBelow:"Zeile unterhalb hinzuf\xFCgen",menuRowDelete:"Zeile l\xF6schen",menuSave:"SPEICHERN",menuSaveTip:"Report speichern",menuToggleGrid:"Raster ein-/ausblenden",menuUndo:"R\xDCCKG.",menuUndoTip:"Letzten Befehl r\xFCckg\xE4ngig machen",menuZoomIn:"Vergr\xF6\xDFern",menuZoomOut:"Verkleinern",nameCopySuffix:"Kopie",orientation:"Ausrichtung",orientationBottom:"unten",orientationLandscape:"Querformat",orientationLeft:"links",orientationPortrait:"Hochformat",orientationRight:"rechts",orientationTop:"oben",pageFormat:"Seitenformat",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Brief (216 x 279 mm)",pageFormatUserDefined:"Eigene Einstellung",pageHeight:"H\xF6he",pageMargins:"Seitenr\xE4nder",pageWidth:"Breite",parameter:"Parameter",parameterArrayItemType:"Listenelement-Typ",parameterEditTestData:"Bearbeiten",parameterEditTestDataArrayNoFields:"Keine Datenfelder f\xFCr diese Liste definiert",parameterEditTestDataMapNoFields:"Keine Datenfelder f\xFCr diese Gruppierung definiert",parameterEval:"Text auswerten",parameterExpression:"Ausdruck",parameterListType:"Listen-Typ",parameterName:"Name",parameterNullable:"NULL-Wert erlaubt",parameterPattern:"Pattern",parameterRowParams:"Parameter in Zeile",parameterSearchPlaceholder:"Parameter durchsuchen...",parameterTestData:"Testdaten",parameterTestDataDatePattern:"JJJJ-MM-TT",parameterTestDataImageInfo:"Bilder werden in der Berichtsvorlage gespeichert und k\xF6nnen die Gr\xF6\xDFe der Berichtsvorlage erheblich erh\xF6hen",parameterTestDataRichTextInfo:'Rich Text kann Html-Tags zur Formatierung enthalten. Siehe <a href="https://www.reportbro.com/doc/userguide#parameter_type_rich_text" target="_blank" rel="noreferrer">erlaubte Tags</a>',parameterTestDataRowCount:"${count} Zeilen",parameterTestDataRowCountEmpty:"leer",parameterTestDataRowCountOne:"1 Zeile",parameterType:"Typ",parameterTypeArray:"Liste",parameterTypeAverage:"Durchschnitt",parameterTypeBoolean:"Boolean",parameterTypeDate:"Datum",parameterTypeImage:"Bild",parameterTypeMap:"Gruppierung",parameterTypeNumber:"Zahl",parameterTypeRichText:"Rich Text",parameterTypeSimpleArray:"Einfache Liste",parameterTypeString:"String",parameterTypeSum:"Summe",parameters:"Parameter",parametersDataSource:"Datenquelle Parameter",parametersDataSourceName:"${name} Parameter",patternCurrencySymbol:"W\xE4hrungssymbol",patternDate1:"Tag.Monat.Jahr, z.B. 1.6.1980",patternDate2:"Tag.Monat.Jahr (2-stellig), Stunde(24h):Minute, z.B. 1.6.80, 14:30",patternDate3:"Tag/Monat/Jahr (Monat abgek\xFCrzt), z.B. 1/Jun/1980",patternDate4:"Monat/Tag/Jahr (Tag und Monat mit f\xFChrender Null, falls einstellig), z.B. 06/01/1980",patternLocale:"Pattern Locale",patternNumber1:"Tausender-Trennzeichen",patternNumber2:"Dezimalpunkt gefolgt von 3 Dezimalstellen",patternNumber3:"Dezimalpunkt gefolgt von mind. 2 und max. 4 Dezimalstellen",patternNumber4:"Tausender-Trennzeichen und Dezimalpunkt gefolgt von 2 Dezimalstellen",patternNumber5:"W\xE4hrungssymbol vor Zahl",patternNumberGroupSymbol:"Tausender-Trennzeichen",patternNumberGroupSymbolInfo:"leer lassen f\xFCr Standardzeichen",patternSeparatorDates:"--- Datum Pattern ---",patternSeparatorNumbers:"--- Zahlen Pattern ---",plusFeatureInfo:'Ben\xF6tigt kommerzielle <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS Version</a>',plusFeatureInfoNestedParameter:'Verschachtelter Parameter ben\xF6tigt kommerzielle <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS Version</a>',popupWindowAddDataRow:"Zeile hinzuf\xFCgen",select:"ausw\xE4hlen...",style:"Formatvorlage",styleAlignment:"Ausrichtung",styleBackgroundColor:"Hintergrundfarbe",styleBold:"Fett",styleBorder:"Rahmen",styleBorderAll:"vollst\xE4ndig",styleBorderColor:"Rahmenfarbe",styleBorderWidth:"Rahmenbreite",styleFont:"Schrift",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Zentriert",styleHAlignmentLeft:"Links",styleHAlignmentJustify:"Blocksatz",styleHAlignmentRight:"Rechts",styleItalic:"Kursiv",styleLineSpacing:"Linienabstand",styleName:"Name",styleNone:"Keine",stylePadding:"Innenabstand",styleStrikethrough:"Durchgestrichen",styleTextColor:"Textfarbe",styleTextStyle:"Formatierung",styleUnderline:"Unterstreichen",styleVAlignmentBottom:"Unten",styleVAlignmentMiddle:"Mittig",styleVAlignmentTop:"Oben",styles:"Formatvorlagen"},en_us:{bandContent:"Content",bandFooter:"Footer",bandHeader:"Header",clear:"Clear",contentHeight:"Content height",contentHeightInfo:"affects only GUI size to place elements and not the real page size",differentFiles:"different files...",differentValues:"different values...",docElementAdditionalRules:"Additional rules",docElementAlignToPageBottom:"Align to bottom of page",docElementAlternateBackgroundColor:"Alternate background color",docElementAlwaysPrintOnSamePage:"Always on same page",docElementBarCode:"Bar code",docElementBarWidth:"Bar width",docElementBorderFrame:"Frame",docElementBorderFrameRow:"Frame and row",docElementBorderGrid:"Grid",docElementBorderNone:"None",docElementBorderRow:"Row",docElementColor:"Color",docElementColspan:"Colspan",docElementColumns:"Columns",docElementConditionalStyle:"Conditional style",docElementConditionalStyleCondition:"Condition",docElementContent:"Text",docElementContentRows:"Content rows",docElementDataSource:"Data source",docElementDisplayValue:"Display value",docElementEditMultipleSelectionNotSupported:"Edit multiple selection is not supported for this setting",docElementErrorCorrectionLevel:"Error correction",docElementErrorCorrectionLevelHigh:"High",docElementErrorCorrectionLevelLow:"Low",docElementErrorCorrectionLevelMedium:"Medium",docElementErrorCorrectionLevelQuartile:"Quartile",docElementEval:"Evaluate",docElementFormat:"Format",docElementFrame:"Frame",docElementGroupExpression:"Group expression",docElementGrowWeight:"Grow weight",docElementGrowWeightInfo:"Grow factor to take space of hidden columns",docElementGrowWeightHigh:"high",docElementGrowWeightLow:"low",docElementGuardBar:"Guard bars",docElementHeight:"Height",docElementImage:"Image",docElementImageCountExceeded:"Reached maximum number of ${count} allowed images",docElementImageFile:"Image file",docElementLabel:"Label",docElementLine:"Line",docElementLink:"Link",docElementLoadImageErrorMsg:"Loading image failed",docElementLoadImageWebPErrorMsg:"Loading image failed, upgrade browser to latest version",docElementPageBreak:"Page break",docElementPattern:"Pattern",docElementPosition:"Position (x, y)",docElementPositionX:"Position (x)",docElementPositionY:"Position (y)",docElementPrintIf:"Print if",docElementPrintSettings:"Print settings",docElementRemoveEmptyElement:"Remove when empty",docElementRepeatGroupHeader:"Repeat group on each page",docElementRepeatHeader:"Repeat header",docElementRichText:"Rich text",docElementRoot:"Document",docElementRotate:"Rotate",docElementSection:"Section",docElementShrinkToContentHeight:"Shrink to content height",docElementSize:"Size (width, height)",docElementSource:"Source",docElementSpreadsheet:"Spreadsheet",docElementSpreadsheetAddEmptyRow:"Add empty row below",docElementSpreadsheetColspan:"Colspan",docElementSpreadsheetColumn:"Fixed column",docElementSpreadsheetHide:"Hide",docElementSpreadsheetPattern:"Pattern",docElementSpreadsheetTextWrap:"Text wrap",docElementSpreadsheetType:"Type",docElementSpreadsheetTypeDate:"Date",docElementSpreadsheetTypeNone:"Default",docElementSpreadsheetTypeNumber:"Number",docElementStyle:"Style",docElementTable:"Table",docElementTableBandPageBreak:"Page break with each new group",docElementText:"Text",docElementWidth:"Width",documentProperties:"Document properties",documentTabClose:"Close",documentTabPdfLayout:"PDF Layout",documentTabPdfPreview:"PDF Preview",documentTabXlsxDownload:"XLSX Download",editData:"Edit",emptyPanel:"Empty panel",errorMsgAddtionalRulesNoStyleSelected:"No style selected for rule ${info}",errorMsgDuplicateParameter:"Parameter already exists",errorMsgDuplicateParameterField:"Field already exists",errorMsgExternalImageNotAllowed:"Server does not support loading images from external resources",errorMsgFontNotAvailable:"Font not available on server",errorMsgGroupExpressionWithoutDataSource:"Group expression requires table with data source",errorMsgLoadingImageFailed:"Loading image failed: ${info}",errorMsgInvalidArray:"Invalid list",errorMsgInvalidAvgSumExpression:"Expression must contain number field of a list parameter",errorMsgInvalidBarCode:"Invalid bar code content",errorMsgInvalidDataSource:"Invalid data source",errorMsgInvalidDataSourceParameter:"Parameter must be a list",errorMsgInvalidDate:"Invalid date, expected format is YYYY-MM-DD (or YYYY-MM-DD hh:mm for date with time)",errorMsgInvalidStringData:"Invalid data for text parameter ${info}",errorMsgInvalidExpression:"Invalid expression: ${info}",errorMsgInvalidExpressionFuncNotDefined:"Function ${info} not defined",errorMsgInvalidExpressionNameNotDefined:"Name ${info} not defined",errorMsgInvalidExpressionType:"Expression returns invalid type",errorMsgInvalidLink:"Link must start with http:// or https://",errorMsgInvalidImage:"Invalid image data, image must be base64 encoded",errorMsgInvalidImageSource:"Invalid source, expected url starting with http:// or https:// respectively",errorMsgInvalidImageSourceParameter:"Parameter must be an image or string (containing a url)",errorMsgInvalidMap:"Invalid collection",errorMsgInvalidNumber:"Invalid number",errorMsgInvalidPageSize:"Invalid page size",errorMsgInvalidParameterData:"Data does not match parameter",errorMsgInvalidParameterName:"Name must start with a character or underscore, and must only contain characters, digits and underscores (_)",errorMsgInvalidPattern:"Invalid pattern",errorMsgInvalidPosition:"The position is outside the area",errorMsgInvalidRichTextFontNotAvailable:"The rich text contains a font which is not available on server",errorMsgInvalidRichTextParameter:"The rich text contains invalid tags",errorMsgInvalidSize:"The element is outside the area",errorMsgInvalidSpreadsheetDate:"The data cannot be converted to date, expected format is YYYY-MM-DD (or YYYY-MM-DD hh:mm for date with time)",errorMsgInvalidSpreadsheetNumber:"The data cannot be converted to number",errorMsgInvalidTestData:"Invalid test data",errorMsgMissingData:"Missing data",errorMsgMissingDataSourceParameter:"Data source parameter not found",errorMsgMissingExpression:"Expression must be set",errorMsgMissingGlyph:"Text contains characters that are not available in the selected font",errorMsgMissingImage:"Missing image, no source or image file specified",errorMsgMissingParameter:"Parameter not found",errorMsgMissingParameterData:"Data for parameter ${info} not found",errorMsgRepeatGroupHeaderAfterContent:"Not allowed for group after content row",errorMsgPlusVersionRequired:"Requires commerical PLUS version",errorMsgSectionBandNotOnSamePage:"Section band does not fit on same page",errorMsgSectionBandPageBreakNotAllowed:"Manual page break not allowed",errorMsgUnicodeEncodeError:"Text contains non printable character",errorMsgUnsupportedImageType:"Image does not have supported image type (.jpg, .png)",footer:"Footer",footerDisplay:"Display",footerSize:"Footer size",header:"Header",headerDisplay:"Display",headerFooterDisplayAlways:"Always",headerFooterDisplayNotOnFirstPage:"Do not show on first page",headerSize:"Header size",menuColumnAddLeft:"Add column to the left",menuColumnAddRight:"Add column to the right",menuColumnDelete:"Delete column",menuAlignBottom:"Align bottom",menuAlignCenter:"Align center",menuAlignLeft:"Align left",menuAlignMiddle:"Align middle",menuAlignRight:"Align right",menuAlignTop:"Align top",menuInsertReport:"INSERT",menuInsertReportTip:"Insert report template",menuLogReport:"LOG",menuLogReportTip:"Log report template to console",menuPreview:"PREVIEW",menuPreviewTip:"Preview report",menuRedo:"REDO",menuRedoTip:"Repeat last undone command",menuRowAddAbove:"Add row above",menuRowAddBelow:"Add row below",menuRowDelete:"Delete row",menuSave:"SAVE",menuSaveTip:"Save report",menuToggleGrid:"Show/Hide grid",menuUndo:"UNDO",menuUndoTip:"Undo last command",menuZoomIn:"Zoom in",menuZoomOut:"Zoom out",nameCopySuffix:"copy",orientation:"Orientation",orientationBottom:"bottom",orientationLandscape:"Landscape",orientationLeft:"left",orientationPortrait:"Portrait",orientationRight:"right",orientationTop:"top",pageFormat:"Page format",pageFormatA4:"DIN A4 (210 x 297 mm)",pageFormatA5:"DIN A5 (148 x 210 mm)",pageFormatLetter:"Letter (8.5 x 11.0 inches)",pageFormatUserDefined:"Own dimensions",pageHeight:"height",pageMargins:"Page margins",pageWidth:"width",parameter:"Parameter",parameterArrayItemType:"List item type",parameterEditTestData:"Edit",parameterEditTestDataArrayNoFields:"No data fields defined for this list",parameterEditTestDataMapNoFields:"No data fields defined for this collection",parameterEval:"Evaluate text",parameterExpression:"Expression",parameterListType:"List type",parameterName:"Name",parameterNullable:"Nullable",parameterPattern:"Pattern",parameterRowParams:"Row parameters",parameterSearchPlaceholder:"Search parameters...",parameterTestData:"Test data",parameterTestDataDatePattern:"YYYY-MM-DD",parameterTestDataImageInfo:"Images are saved in the report template and could significantly increase report template size",parameterTestDataRichTextInfo:'Rich text can contain html tags for formatting. See <a href="https://www.reportbro.com/doc/userguide#parameter_type_rich_text" target="_blank" rel="noreferrer">allowed tags</a>',parameterTestDataRowCount:"${count} rows",parameterTestDataRowCountEmpty:"empty",parameterTestDataRowCountOne:"1 row",parameterType:"Type",parameterTypeArray:"List",parameterTypeAverage:"Average",parameterTypeBoolean:"Boolean",parameterTypeDate:"Date",parameterTypeImage:"Image",parameterTypeMap:"Collection",parameterTypeNumber:"Number",parameterTypeRichText:"Rich Text",parameterTypeSimpleArray:"Simple List",parameterTypeString:"Text",parameterTypeSum:"Sum",parameters:"Parameters",parametersDataSource:"Data source parameters",parametersDataSourceName:"${name} parameters",patternCurrencySymbol:"Pattern currency symbol",patternDate1:"day.month.year, e.g. 1.6.1980",patternDate2:"day.month.year (2-digit), hour(24h):minute, e.g. 1.6.80, 14:30",patternDate3:"day/month/year (month abbreviation), e.g. 1/Jun/1980",patternDate4:"month/day/year (day and month with leading zero if single digit), e.g. 06/01/1980",patternLocale:"Pattern locale",patternNumber1:"Show thousand separator",patternNumber2:"Show decimal point followed by 3 decimal places",patternNumber3:"Show decimal point followed by minimum of 2 and maximum of 4 decimal places",patternNumber4:"Show thousand separator and decimal point followed by 2 decimal places",patternNumber5:"Show currency symbol in front of number",patternNumberGroupSymbol:"Thousands separator",patternNumberGroupSymbolInfo:"leave empty for default",patternSeparatorDates:"--- Date patterns ---",patternSeparatorNumbers:"--- Number patterns ---",plusFeatureInfo:'Requires commerical <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS version</a>',plusFeatureInfoNestedParameter:'Nested parameter requires commerical <a href="https://www.reportbro.com/license/index" target="_blank" rel="noreferrer">PLUS version</a>',popupWindowAddDataRow:"Add row",select:"select...",style:"Style",styleAlignment:"Alignment",styleBackgroundColor:"Background color",styleBold:"Bold",styleBorder:"Border",styleBorderAll:"borders",styleBorderColor:"Border color",styleBorderWidth:"Border width",styleFont:"Font",styleFontSizeUnit:"pt",styleHAlignmentCenter:"Center",styleHAlignmentLeft:"Left",styleHAlignmentJustify:"Justify",styleHAlignmentRight:"Right",styleItalic:"Italic",styleLineSpacing:"Line spacing",styleName:"Name",styleNone:"None",stylePadding:"Padding",styleStrikethrough:"Strikethrough",styleTextColor:"Text color",styleTextStyle:"Text style",styleUnderline:"Underline",styleVAlignmentBottom:"Bottom",styleVAlignmentMiddle:"Middle",styleVAlignmentTop:"Top",styles:"Styles"}};function hr(w,r){var e=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!e){if(Array.isArray(w)||(e=function(b,D){if(b){if(typeof b=="string")return En(b,D);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?En(b,D):void 0}}(w))||r&&w&&typeof w.length=="number"){e&&(w=e);var t=0,s=function(){};return{s,n:function(){return t>=w.length?{done:!0}:{done:!1,value:w[t++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,g=!0,E=!1;return{s:function(){e=e.call(w)},n:function(){var b=e.next();return g=b.done,b},e:function(b){E=!0,u=b},f:function(){try{g||e.return==null||e.return()}finally{if(E)throw u}}}}function En(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}var Ir=function(){function w(r,e,t,s){K(this,w),this.idPrefix=r,this.dataBaseClass=e,this.panelId=r+"_panel",this.rootElement=t,this.rb=s,this.propertyDescriptors={},this.differentValuesLabel=this.rb.getLabel("differentValues"),this.differentFilesLabel=this.rb.getLabel("differentFiles"),this.quill=null,this.controls={}}return y(w,[{key:"render",value:function(r){}},{key:"destroy",value:function(){}},{key:"setValue",value:function(r,e,t){var s="".concat(this.idPrefix,"_").concat(r.fieldId);t?document.getElementById(s).classList.add("rbroDifferentValues"):document.getElementById(s).classList.remove("rbroDifferentValues");var u=document.getElementById(s);if(r.type===l.type.text)t?(u.value="",u.setAttribute("placeholder",this.differentValuesLabel)):(u.value=e,u.setAttribute("placeholder",""));else if(r.type===l.type.richText)this.quill&&(t||!e?this.quill.setContents({},"silent"):this.quill.setContents(e,"silent"));else if(r.type===l.type.select)u.value=e;else if(r.type===l.type.checkbox)u.checked=!t&&e;else if(r.type===l.type.button)t?u.classList.remove("rbroButtonActive"):e?u.classList.add("rbroButtonActive"):u.classList.remove("rbroButtonActive");else if(r.type===l.type.buttonGroup){var g,E=hr(u.querySelectorAll("button"));try{for(E.s();!(g=E.n()).done;)g.value.classList.remove("rbroButtonActive")}catch(D){E.e(D)}finally{E.f()}t||u.querySelector('button[value="'.concat(e,'"]')).classList.add("rbroButtonActive")}else if(r.type===l.type.color){var b=document.getElementById(s+"_select");t?r.allowEmpty?(u.value="",b.style.color="",b.classList.add("rbroTransparentColorSelect")):(u.value="#000000",b.style.color="#000000",b.classList.remove("rbroTransparentColorSelect")):(u.value=e,b.style.color=e,e?b.classList.remove("rbroTransparentColorSelect"):b.classList.add("rbroTransparentColorSelect"))}else r.type===l.type.filename&&(t?(u.textContent=this.differentFilesLabel,document.getElementById(s+"_container").classList.remove("rbroHidden")):(u.textContent=e,e===""?document.getElementById(s+"_container").classList.add("rbroHidden"):document.getElementById(s+"_container").classList.remove("rbroHidden")))}},{key:"updateDisplay",value:function(r){}},{key:"show",value:function(){document.getElementById(this.panelId).classList.remove("rbroHidden")}},{key:"hide",value:function(){document.getElementById(this.panelId).classList.add("rbroHidden")}},{key:"isKeyEventDisabled",value:function(){return this.quill&&this.quill.hasFocus()}},{key:"notifyEvent",value:function(r,e,t){r instanceof this.dataBaseClass&&this.rb.isSelectedObject(r.id)&&e===i.operation.change&&this.updateDisplay(t)}},{key:"updateErrors",value:function(){var r,e=document.getElementById(this.panelId),t=e.querySelectorAll(".rbroFormRow"),s=e.querySelectorAll(".rbroErrorMessage"),u=hr(t);try{for(u.s();!(r=u.n()).done;)r.value.classList.remove("rbroError")}catch(fe){u.e(fe)}finally{u.f()}var g,E=hr(s);try{for(E.s();!(g=E.n()).done;)g.value.textContent=""}catch(fe){E.e(fe)}finally{E.f()}var b=this.rb.getSelectedObject();if(b!==null){var D,N=hr(b.getErrors());try{for(N.s();!(D=N.n()).done;){var Z=D.value,J=this.propertyDescriptors[Z.field];if(J){if("section"in J){var le=J.section;document.getElementById("".concat(this.idPrefix,"_").concat(le,"_header")).classList.add("rbroError")}var Q=this.rb.getLabel(Z.msg_key);Z.info&&(Q=Q.replaceAll("${info}",'<span class="rbroErrorMessageInfo">'+Z.info.replaceAll("<","&lt;").replaceAll(">","&gt;")+"</span>"));var ue=this.getRowId(J);document.getElementById(ue).classList.add("rbroError");var Ie;Ie="errorMsgId"in J?J.errorMsgId:"".concat(this.idPrefix,"_").concat(J.fieldId,"_error"),document.getElementById(Ie).innerHTML=Q}}}catch(fe){N.e(fe)}finally{N.f()}}}},{key:"selectionChanged",value:function(){this.updateDisplay(null),this.updateErrors()}},{key:"scrollToFirstError",value:function(){var r=this.rb.getSelectedObject();if(r!==null){var e,t=hr(r.getErrors());try{for(t.s();!(e=t.n()).done;){var s=e.value,u=this.propertyDescriptors[s.field];if(u&&"section"in u){var g=u.section,E=document.getElementById("".concat(this.idPrefix,"_").concat(g,"_header"));E.classList.contains("rbroPanelSectionHeaderOpen")||E.dispatchEvent(new Event("click"))}}}catch(Ie){t.e(Ie)}finally{t.f()}var b,D="",N=-1,Z=hr(r.getErrors());try{for(Z.s();!(b=Z.n()).done;){var J=b.value,le=this.propertyDescriptors[J.field];if(le){var Q=this.getRowId(le),ue=L(document.getElementById(Q)).top;(D===""||ue<N)&&(D=Q,N=ue)}}}catch(Ie){Z.e(Ie)}finally{Z.f()}D!==""&&document.getElementById(D).scrollIntoView({behavior:"smooth"})}}},{key:"getRowId",value:function(r){return"rowId"in r?r.rowId:"".concat(this.idPrefix,"_").concat(r.fieldId,"_row")}}]),w}();function In(w,r){var e=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!e){if(Array.isArray(w)||(e=function(b,D){if(b){if(typeof b=="string")return Cn(b,D);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?Cn(b,D):void 0}}(w))||r&&w&&typeof w.length=="number"){e&&(w=e);var t=0,s=function(){};return{s,n:function(){return t>=w.length?{done:!0}:{done:!1,value:w[t++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,g=!0,E=!1;return{s:function(){e=e.call(w)},n:function(){var b=e.next();return g=b.done,b},e:function(b){E=!0,u=b},f:function(){try{g||e.return==null||e.return()}finally{if(E)throw u}}}}function Cn(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}function so(w,r,e){return r=v(r),_(w,xn()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function xn(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(xn=function(){return!!w})()}var vr=function(w){function r(e,t){var s;return K(this,r),(s=so(this,r,["rbro_style",ye,e,t])).propertyDescriptors={name:{type:l.type.text,fieldId:"name"},bold:{type:l.type.button,fieldId:"bold",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},italic:{type:l.type.button,fieldId:"italic",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},underline:{type:l.type.button,fieldId:"underline",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},strikethrough:{type:l.type.button,fieldId:"strikethrough",rowId:"rbro_style_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"]},horizontalAlignment:{type:l.type.buttonGroup,fieldId:"halignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"]},verticalAlignment:{type:l.type.buttonGroup,fieldId:"valignment",rowId:"rbro_style_alignment_row",singleRowProperty:!1},textColor:{type:l.type.color,allowEmpty:!1,fieldId:"text_color"},backgroundColor:{type:l.type.color,allowEmpty:!0,fieldId:"background_color"},font:{type:l.type.select,fieldId:"font",rowId:"rbro_style_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"]},fontSize:{type:l.type.select,fieldId:"font_size",rowId:"rbro_style_font_row",singleRowProperty:!1},lineSpacing:{type:l.type.select,fieldId:"line_spacing"},borderAll:{type:l.type.button,fieldId:"border_all",rowId:"rbro_style_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"]},borderLeft:{type:l.type.button,fieldId:"border_left",rowId:"rbro_style_border_row",singleRowProperty:!1},borderTop:{type:l.type.button,fieldId:"border_top",rowId:"rbro_style_border_row",singleRowProperty:!1},borderRight:{type:l.type.button,fieldId:"border_right",rowId:"rbro_style_border_row",singleRowProperty:!1},borderBottom:{type:l.type.button,fieldId:"border_bottom",rowId:"rbro_style_border_row",singleRowProperty:!1},borderColor:{type:l.type.color,allowEmpty:!1,fieldId:"border_color"},borderWidth:{type:l.type.text,fieldId:"border_width"},paddingLeft:{type:l.type.text,fieldId:"padding_left",rowId:"rbro_style_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"]},paddingTop:{type:l.type.text,fieldId:"padding_top",rowId:"rbro_style_padding_row",singleRowProperty:!1},paddingRight:{type:l.type.text,fieldId:"padding_right",rowId:"rbro_style_padding_row",singleRowProperty:!1},paddingBottom:{type:l.type.text,fieldId:"padding_bottom",rowId:"rbro_style_padding_row",singleRowProperty:!1}},s}return h(r,w),y(r,[{key:"render",value:function(){var e=this,t=c("div",{id:"rbro_style_panel",class:"rbroHidden"}),s=c("div",{class:"rbroFormRow"});O(s,this.rb.getLabel("styleName"),"rbro_style_name");var u=c("div",{class:"rbroFormField"}),g=c("input",{id:"rbro_style_name",autocomplete:"off"});g.addEventListener("input",function(E){var b=e.rb.getSelectedObject();b!==null&&(g.value.trim()!==""?e.rb.executeCommand(new l(b.getId(),"name",g.value,l.type.text,e.rb)):g.value=b.getName())}),u.append(g),s.append(u),t.append(s),r.renderStyle(t,"style_","",!1,this.controls,this.rb),document.getElementById("rbro_detail_panel").append(t)}},{key:"destroy",value:function(){r.destroyStyle("",this.controls)}},{key:"updateDisplay",value:function(e){var t=this.rb.getSelectedObject();if(t!==null&&t instanceof ye){for(var s in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(s)&&(e===null||s===e)){var u=this.propertyDescriptors[s],g=t.getValue(s);n(v(r.prototype),"setValue",this).call(this,u,g,!1)}}}}],[{key:"renderStyle",value:function(e,t,s,u,g,E){var b,D;O(b=c("div",{id:"rbro_".concat(t,"textstyle_row"),class:"rbroFormRow"}),E.getLabel("styleTextStyle")),D=c("div",{class:"rbroFormField"});var N=c("div",{id:"rbro_".concat(t,"textstyle")}),Z=c("button",{id:"rbro_".concat(t,"bold"),class:"rbroButton rbroActionButton rbroIcon-bold",type:"button",title:E.getLabel("styleBold")});Z.addEventListener("click",function(Ye){for(var ce=!Z.classList.contains("rbroButtonActive"),Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"bold"),ce,l.type.button,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"bold"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("bold",ce,l.type.button,Y)}Y.isEmpty()||E.executeCommand(Y)}),N.append(Z);var J=c("button",{id:"rbro_".concat(t,"italic"),class:"rbroButton rbroActionButton rbroIcon-italic",type:"button",title:E.getLabel("styleItalic")});J.addEventListener("click",function(Ye){for(var ce=!J.classList.contains("rbroButtonActive"),Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"italic"),ce,l.type.button,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"italic"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("italic",ce,l.type.button,Y)}Y.isEmpty()||E.executeCommand(Y)}),N.append(J);var le=c("button",{id:"rbro_".concat(t,"underline"),class:"rbroButton rbroActionButton rbroIcon-underline",type:"button",title:E.getLabel("styleUnderline")});le.addEventListener("click",function(Ye){for(var ce=!le.classList.contains("rbroButtonActive"),Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"underline"),ce,l.type.button,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"underline"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("underline",ce,l.type.button,Y)}Y.isEmpty()||E.executeCommand(Y)}),N.append(le);var Q=c("button",{id:"rbro_".concat(t,"strikethrough"),class:"rbroButton rbroActionButton rbroIcon-strikethrough",type:"button",title:E.getLabel("styleStrikethrough")});Q.addEventListener("click",function(Ye){for(var ce=!Q.classList.contains("rbroButtonActive"),Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"strikethrough"),ce,l.type.button,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"strikethrough"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("strikethrough",ce,l.type.button,Y)}Y.isEmpty()||E.executeCommand(Y)}),N.append(Q),D.append(N),b.append(D),e.append(b),O(b=c("div",{id:"rbro_".concat(t,"alignment_row"),class:"rbroFormRow"}),E.getLabel("styleAlignment")),D=c("div",{class:"rbroFormField"});var ue=c("div",{id:"rbro_".concat(t,"halignment")}),Ie=c("button",{id:"rbro_".concat(t,"halignment_left"),class:"rbroButton rbroActionButton rbroIcon-text-align-left",type:"button",value:"left",title:E.getLabel("styleHAlignmentLeft")});Ie.addEventListener("click",function(Ye){for(var ce=ye.alignment.left,Y=E.getSelectedObjects(),xe=!1,pe=Y.length-1;pe>=0;pe--)if(Y[pe].getValue("".concat(s,"horizontalAlignment"))!==ce){xe=!0;break}if(xe){for(var G=new be("Set value",E),He=Y.length-1;He>=0;He--){var Pe=Y[He];G.addSelection(Pe.getId()),G.addCommand(new l(Pe.getId(),"".concat(s,"horizontalAlignment"),ce,l.type.buttonGroup,E)),Pe instanceof Ee&&Pe.getValue("".concat(s,"styleId"))!==""?Pe.getValue("".concat(s,"horizontalAlignment"))!==ce&&G.addCommand(new l(Pe.getId(),"".concat(s,"styleId"),"",l.type.select,E)):Pe instanceof ye&&Pe.addCommandsForChangedProperty("horizontalAlignment",ce,l.type.buttonGroup,G)}G.isEmpty()||E.executeCommand(G)}}),ue.append(Ie);var fe=c("button",{id:"rbro_".concat(t,"halignment_center"),class:"rbroButton rbroActionButton rbroIcon-text-align-center",type:"button",value:"center",title:E.getLabel("styleHAlignmentCenter")});fe.addEventListener("click",function(Ye){for(var ce=ye.alignment.center,Y=E.getSelectedObjects(),xe=!1,pe=Y.length-1;pe>=0;pe--)if(Y[pe].getValue("".concat(s,"horizontalAlignment"))!==ce){xe=!0;break}if(xe){for(var G=new be("Set value",E),He=Y.length-1;He>=0;He--){var Pe=Y[He];G.addSelection(Pe.getId()),G.addCommand(new l(Pe.getId(),"".concat(s,"horizontalAlignment"),ce,l.type.buttonGroup,E)),Pe instanceof Ee&&Pe.getValue("".concat(s,"styleId"))!==""?Pe.getValue("".concat(s,"horizontalAlignment"))!==ce&&G.addCommand(new l(Pe.getId(),"".concat(s,"styleId"),"",l.type.select,E)):Pe instanceof ye&&Pe.addCommandsForChangedProperty("horizontalAlignment",ce,l.type.buttonGroup,G)}G.isEmpty()||E.executeCommand(G)}}),ue.append(fe);var we=c("button",{id:"rbro_".concat(t,"halignment_right"),class:"rbroButton rbroActionButton rbroIcon-text-align-right",type:"button",value:"right",title:E.getLabel("styleHAlignmentRight")});we.addEventListener("click",function(Ye){for(var ce=ye.alignment.right,Y=E.getSelectedObjects(),xe=!1,pe=Y.length-1;pe>=0;pe--)if(Y[pe].getValue("".concat(s,"horizontalAlignment"))!==ce){xe=!0;break}if(xe){for(var G=new be("Set value",E),He=Y.length-1;He>=0;He--){var Pe=Y[He];G.addSelection(Pe.getId()),G.addCommand(new l(Pe.getId(),"".concat(s,"horizontalAlignment"),ce,l.type.buttonGroup,E)),Pe instanceof Ee&&Pe.getValue("".concat(s,"styleId"))!==""?Pe.getValue("".concat(s,"horizontalAlignment"))!==ce&&G.addCommand(new l(Pe.getId(),"".concat(s,"styleId"),"",l.type.select,E)):Pe instanceof ye&&Pe.addCommandsForChangedProperty("horizontalAlignment",ce,l.type.buttonGroup,G)}G.isEmpty()||E.executeCommand(G)}}),ue.append(we);var Se=c("button",{id:"rbro_".concat(t,"halignment_justify"),class:"rbroButton rbroActionButton rbroIcon-text-align-justify",type:"button",value:"justify",title:E.getLabel("styleHAlignmentJustify")});Se.addEventListener("click",function(Ye){for(var ce=ye.alignment.justify,Y=E.getSelectedObjects(),xe=!1,pe=Y.length-1;pe>=0;pe--)if(Y[pe].getValue("".concat(s,"horizontalAlignment"))!==ce){xe=!0;break}if(xe){for(var G=new be("Set value",E),He=Y.length-1;He>=0;He--){var Pe=Y[He];G.addSelection(Pe.getId()),G.addCommand(new l(Pe.getId(),"".concat(s,"horizontalAlignment"),ce,l.type.buttonGroup,E)),Pe instanceof Ee&&Pe.getValue("".concat(s,"styleId"))!==""?Pe.getValue("".concat(s,"horizontalAlignment"))!==ce&&G.addCommand(new l(Pe.getId(),"".concat(s,"styleId"),"",l.type.select,E)):Pe instanceof ye&&Pe.addCommandsForChangedProperty("horizontalAlignment",ce,l.type.buttonGroup,G)}G.isEmpty()||E.executeCommand(G)}}),ue.append(Se),D.append(ue);var Le=c("div",{id:"rbro_".concat(t,"valignment")}),Ae=c("button",{id:"rbro_".concat(t,"valignment_top"),class:"rbroButton rbroActionButton rbroIcon-align-top",type:"button",value:"top",title:E.getLabel("styleVAlignmentTop")});Ae.addEventListener("click",function(Ye){for(var ce=ye.alignment.top,Y=E.getSelectedObjects(),xe=!1,pe=Y.length-1;pe>=0;pe--)if(Y[pe].getValue("".concat(s,"verticalAlignment"))!==ce){xe=!0;break}if(xe){for(var G=new be("Set value",E),He=Y.length-1;He>=0;He--){var Pe=Y[He];G.addSelection(Pe.getId()),G.addCommand(new l(Pe.getId(),"".concat(s,"verticalAlignment"),ce,l.type.buttonGroup,E)),Pe instanceof Ee&&Pe.getValue("".concat(s,"styleId"))!==""?Pe.getValue("".concat(s,"verticalAlignment"))!==ce&&G.addCommand(new l(Pe.getId(),"".concat(s,"styleId"),"",l.type.select,E)):Pe instanceof ye&&Pe.addCommandsForChangedProperty("verticalAlignment",ce,l.type.buttonGroup,G)}G.isEmpty()||E.executeCommand(G)}}),Le.append(Ae);var Be=c("button",{id:"rbro_".concat(t,"valignment_middle"),class:"rbroButton rbroActionButton rbroIcon-align-middle",type:"button",value:"middle",title:E.getLabel("styleVAlignmentMiddle")});Be.addEventListener("click",function(Ye){for(var ce=ye.alignment.middle,Y=E.getSelectedObjects(),xe=!1,pe=Y.length-1;pe>=0;pe--)if(Y[pe].getValue("".concat(s,"verticalAlignment"))!==ce){xe=!0;break}if(xe){for(var G=new be("Set value",E),He=Y.length-1;He>=0;He--){var Pe=Y[He];G.addSelection(Pe.getId()),G.addCommand(new l(Pe.getId(),"".concat(s,"verticalAlignment"),ce,l.type.buttonGroup,E)),Pe instanceof Ee&&Pe.getValue("".concat(s,"styleId"))!==""?Pe.getValue("".concat(s,"verticalAlignment"))!==ce&&G.addCommand(new l(Pe.getId(),"".concat(s,"styleId"),"",l.type.select,E)):Pe instanceof ye&&Pe.addCommandsForChangedProperty("verticalAlignment",ce,l.type.buttonGroup,G)}G.isEmpty()||E.executeCommand(G)}}),Le.append(Be);var $e=c("button",{id:"rbro_".concat(t,"valignment_bottom"),class:"rbroButton rbroActionButton rbroIcon-align-bottom",type:"button",value:"bottom",title:E.getLabel("styleVAlignmentBottom")});$e.addEventListener("click",function(Ye){for(var ce=ye.alignment.bottom,Y=E.getSelectedObjects(),xe=!1,pe=Y.length-1;pe>=0;pe--)if(Y[pe].getValue("".concat(s,"verticalAlignment"))!==ce){xe=!0;break}if(xe){for(var G=new be("Set value",E),He=Y.length-1;He>=0;He--){var Pe=Y[He];G.addSelection(Pe.getId()),G.addCommand(new l(Pe.getId(),"".concat(s,"verticalAlignment"),ce,l.type.buttonGroup,E)),Pe instanceof Ee&&Pe.getValue("".concat(s,"styleId"))!==""?Pe.getValue("".concat(s,"verticalAlignment"))!==ce&&G.addCommand(new l(Pe.getId(),"".concat(s,"styleId"),"",l.type.select,E)):Pe instanceof ye&&Pe.addCommandsForChangedProperty("verticalAlignment",ce,l.type.buttonGroup,G)}G.isEmpty()||E.executeCommand(G)}}),Le.append($e),D.append(Le),b.append(D),e.append(b),O(b=c("div",{id:"rbro_".concat(t,"text_color_row"),class:"rbroFormRow"}),E.getLabel("styleTextColor"),"rbro_".concat(t,"text_color")),D=c("div",{class:"rbroFormField"});var Fe=c("div",{class:"rbroColorPickerContainer"}),Ke=c("input",{id:"rbro_".concat(t,"text_color"),autocomplete:"off"});Ke.addEventListener("change",function(Ye){var ce=Ke.value;if(F(ce)){for(var Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"textColor"),ce,l.type.color,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"textColor"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("textColor",ce,l.type.color,Y)}Y.isEmpty()||E.executeCommand(Y)}}),Fe.append(Ke),g[s+"textColor"]=R(Fe,Ke,!1,E),D.append(Fe),b.append(D),e.append(b),O(b=c("div",{id:"rbro_".concat(t,"background_color_row"),class:"rbroFormRow"}),E.getLabel("styleBackgroundColor"),"rbro_".concat(t,"background_color")),D=c("div",{class:"rbroFormField"});var Qe=c("div",{class:"rbroColorPickerContainer"}),We=c("input",{id:"rbro_".concat(t,"background_color"),autocomplete:"off"});if(We.addEventListener("change",function(Ye){var ce=We.value;if(F(ce)){for(var Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"backgroundColor"),ce,l.type.color,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"backgroundColor"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("backgroundColor",ce,l.type.color,Y)}Y.isEmpty()||E.executeCommand(Y)}}),Qe.append(We),g[s+"backgroundColor"]=R(Qe,We,!0,E),D.append(Qe),b.append(D),e.append(b),u){O(b=c("div",{id:"rbro_".concat(t,"alternate_background_color_row"),class:"rbroFormRow"}),E.getLabel("docElementAlternateBackgroundColor"),"rbro_".concat(t,"alternate_background_color")),D=c("div",{class:"rbroFormField"});var ze=c("div",{class:"rbroColorPickerContainer"}),Ce=c("input",{id:"rbro_".concat(t,"alternate_background_color")});Ce.addEventListener("change",function(Ye){var ce=Ce.value;if(F(ce)){for(var Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"alternateBackgroundColor"),ce,l.type.color,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"alternateBackgroundColor"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("alternateBackgroundColor",ce,l.type.color,Y)}Y.isEmpty()||E.executeCommand(Y)}}),ze.append(Ce),g[s+"alternateBackgroundColor"]=R(ze,Ce,!0,E),D.append(ze),b.append(D),e.append(b)}O(b=c("div",{id:"rbro_".concat(t,"font_row"),class:"rbroFormRow"}),E.getLabel("styleFont"),"rbro_".concat(t,"font")),D=c("div",{class:"rbroFormField"});var ae,Ne=c("div",{class:"rbroSplit rbroSelectFont"}),Je=c("select",{id:"rbro_".concat(t,"font")}),De=In(E.getFonts());try{for(De.s();!(ae=De.n()).done;){var it=ae.value;Je.append(c("option",{value:it.value},it.name))}}catch(Ye){De.e(Ye)}finally{De.f()}Je.addEventListener("change",function(Ye){for(var ce=Je.value,Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"font"),ce,l.type.select,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"font"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("font",ce,l.type.select,Y)}Y.isEmpty()||E.executeCommand(Y)}),Ne.append(Je);var rt,nt=c("select",{id:"rbro_".concat(t,"font_size")}),ct=In(E.getProperty("fontSizes"));try{for(ct.s();!(rt=ct.n()).done;){var ot=rt.value;nt.append(c("option",{value:ot},String(ot)))}}catch(Ye){ct.e(Ye)}finally{ct.f()}nt.addEventListener("change",function(Ye){for(var ce=nt.value,Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"fontSize"),ce,l.type.select,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"fontSize"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("fontSize",ce,l.type.select,Y)}Y.isEmpty()||E.executeCommand(Y)}),Ne.append(nt),Ne.append(c("span",{},E.getLabel("styleFontSizeUnit"))),D.append(Ne),D.append(c("div",{id:"rbro_".concat(t,"font_error"),class:"rbroErrorMessage"})),b.append(D),e.append(b),O(b=c("div",{id:"rbro_".concat(t,"line_spacing_row"),class:"rbroFormRow"}),E.getLabel("styleLineSpacing"),"rbro_".concat(t,"line_spacing")),D=c("div",{class:"rbroFormField"});for(var wt=c("select",{id:"rbro_".concat(t,"line_spacing")}),ht=0,mt=["1","1.1","1.2","1.3","1.4","1.5","1.6","1.7","1.8","1.9","2"];ht<mt.length;ht++){var tt=mt[ht];wt.append(c("option",{value:tt},tt))}wt.addEventListener("change",function(Ye){for(var ce=wt.value,Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"lineSpacing"),ce,l.type.select,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"lineSpacing"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("lineSpacing",ce,l.type.select,Y),Y.isEmpty()||E.executeCommand(Y)}}),D.append(wt),b.append(D),e.append(b);var Tt=c("div",{id:"rbro_".concat(t,"border_div")});O(b=c("div",{id:"rbro_".concat(t,"border_row"),class:"rbroFormRow"}),E.getLabel("styleBorder")),D=c("div",{class:"rbroFormField"});var kt=c("div",{id:"rbro_".concat(t,"border")}),Mt=c("button",{id:"rbro_".concat(t,"border_all"),class:"rbroButton rbroActionButton rbroIcon-border-all",type:"button",value:"".concat(s,"borderAll"),title:E.getLabel("styleBorderAll")});Mt.addEventListener("click",function(Ye){for(var ce=!Mt.classList.contains("rbroButtonActive"),Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"borderLeft"),ce,l.type.button,E)),Y.addCommand(new l(G.getId(),"".concat(s,"borderTop"),ce,l.type.button,E)),Y.addCommand(new l(G.getId(),"".concat(s,"borderRight"),ce,l.type.button,E)),Y.addCommand(new l(G.getId(),"".concat(s,"borderBottom"),ce,l.type.button,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"borderLeft"))===ce&&G.getValue("".concat(s,"borderTop"))===ce&&G.getValue("".concat(s,"borderRight"))===ce&&G.getValue("".concat(s,"borderBottom"))===ce||Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&(G.addCommandsForChangedProperty("borderLeft",ce,l.type.button,Y),G.addCommandsForChangedProperty("borderTop",ce,l.type.button,Y),G.addCommandsForChangedProperty("borderRight",ce,l.type.button,Y),G.addCommandsForChangedProperty("borderBottom",ce,l.type.button,Y))}Y.isEmpty()||E.executeCommand(Y)}),kt.append(Mt);var sr=c("button",{id:"rbro_".concat(t,"border_left"),class:"rbroButton rbroActionButton rbroIcon-border-left",type:"button",value:"".concat(s,"borderLeft"),title:E.getLabel("orientationLeft")});sr.addEventListener("click",function(Ye){for(var ce=!sr.classList.contains("rbroButtonActive"),Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"borderLeft"),ce,l.type.button,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"borderLeft"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("borderLeft",ce,l.type.button,Y)}Y.isEmpty()||E.executeCommand(Y)}),kt.append(sr);var Wt=c("button",{id:"rbro_".concat(t,"border_top"),class:"rbroButton rbroActionButton rbroIcon-border-top",type:"button",value:"".concat(s,"borderTop"),title:E.getLabel("orientationTop")});Wt.addEventListener("click",function(Ye){for(var ce=!Wt.classList.contains("rbroButtonActive"),Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"borderTop"),ce,l.type.button,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"borderTop"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("borderTop",ce,l.type.button,Y)}Y.isEmpty()||E.executeCommand(Y)}),kt.append(Wt);var Ft=c("button",{id:"rbro_".concat(t,"border_right"),class:"rbroButton rbroActionButton rbroIcon-border-right",type:"button",value:"".concat(s,"borderRight"),title:E.getLabel("orientationRight")});Ft.addEventListener("click",function(Ye){for(var ce=!Ft.classList.contains("rbroButtonActive"),Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"borderRight"),ce,l.type.button,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"borderRight"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("borderRight",ce,l.type.button,Y)}Y.isEmpty()||E.executeCommand(Y)}),kt.append(Ft);var Dt=c("button",{id:"rbro_".concat(t,"border_bottom"),class:"rbroButton rbroActionButton rbroIcon-border-bottom",type:"button",value:"".concat(s,"borderBottom"),title:E.getLabel("orientationBottom")});if(Dt.addEventListener("click",function(Ye){for(var ce=!Dt.classList.contains("rbroButtonActive"),Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"borderBottom"),ce,l.type.button,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"borderBottom"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("borderBottom",ce,l.type.button,Y)}Y.isEmpty()||E.executeCommand(Y)}),kt.append(Dt),D.append(kt),b.append(D),Tt.append(b),u){O(b=c("div",{id:"rbro_".concat(t,"table_border_row"),class:"rbroFormRow"}),E.getLabel("styleBorder")),D=c("div",{class:"rbroFormField"});var Lt=c("div",{id:"rbro_".concat(t,"table_border")}),Vt=c("button",{id:"rbro_".concat(t,"table_border_grid"),class:"rbroButton rbroActionButton rbroIcon-border-table-grid",type:"button",value:"".concat(s,"grid"),title:E.getLabel("docElementBorderGrid")});Vt.addEventListener("click",function(Ye){for(var ce=tr.border.grid,Y=E.getSelectedObjects(),xe=!1,pe=Y.length-1;pe>=0;pe--)if(Y[pe].getValue("".concat(s,"border"))!==ce){xe=!0;break}if(xe){for(var G=new be("Set value",E),He=Y.length-1;He>=0;He--){var Pe=Y[He];G.addSelection(Pe.getId()),G.addCommand(new l(Pe.getId(),"".concat(s,"border"),ce,l.type.buttonGroup,E))}G.isEmpty()||E.executeCommand(G)}}),Lt.append(Vt);var jt=c("button",{id:"rbro_".concat(t,"table_border_frame_row"),class:"rbroButton rbroActionButton rbroIcon-border-table-frame-row",type:"button",value:"".concat(s,"frame_row"),title:E.getLabel("docElementBorderFrameRow")});jt.addEventListener("click",function(Ye){for(var ce=tr.border.frameRow,Y=E.getSelectedObjects(),xe=!1,pe=Y.length-1;pe>=0;pe--)if(Y[pe].getValue("".concat(s,"border"))!==ce){xe=!0;break}if(xe){for(var G=new be("Set value",E),He=Y.length-1;He>=0;He--){var Pe=Y[He];G.addSelection(Pe.getId()),G.addCommand(new l(Pe.getId(),"".concat(s,"border"),ce,l.type.buttonGroup,E))}G.isEmpty()||E.executeCommand(G)}}),Lt.append(jt);var Gt=c("button",{id:"rbro_".concat(t,"table_border_frame"),class:"rbroButton rbroActionButton rbroIcon-border-table-frame",type:"button",value:"".concat(s,"frame"),title:E.getLabel("docElementBorderFrame")});Gt.addEventListener("click",function(Ye){for(var ce=tr.border.frame,Y=E.getSelectedObjects(),xe=!1,pe=Y.length-1;pe>=0;pe--)if(Y[pe].getValue("".concat(s,"border"))!==ce){xe=!0;break}if(xe){for(var G=new be("Set value",E),He=Y.length-1;He>=0;He--){var Pe=Y[He];G.addSelection(Pe.getId()),G.addCommand(new l(Pe.getId(),"".concat(s,"border"),ce,l.type.buttonGroup,E))}G.isEmpty()||E.executeCommand(G)}}),Lt.append(Gt);var Kt=c("button",{id:"rbro_".concat(t,"table_border_row"),class:"rbroButton rbroActionButton rbroIcon-border-table-row",type:"button",value:"".concat(s,"row"),title:E.getLabel("docElementBorderRow")});Kt.addEventListener("click",function(Ye){for(var ce=tr.border.row,Y=E.getSelectedObjects(),xe=!1,pe=Y.length-1;pe>=0;pe--)if(Y[pe].getValue("".concat(s,"border"))!==ce){xe=!0;break}if(xe){for(var G=new be("Set value",E),He=Y.length-1;He>=0;He--){var Pe=Y[He];G.addSelection(Pe.getId()),G.addCommand(new l(Pe.getId(),"".concat(s,"border"),ce,l.type.buttonGroup,E))}G.isEmpty()||E.executeCommand(G)}}),Lt.append(Kt);var Bt=c("button",{id:"rbro_".concat(t,"table_border_none"),class:"rbroButton rbroActionButton rbroIcon-border-table-none",type:"button",value:"".concat(s,"none"),title:E.getLabel("docElementBorderNone")});Bt.addEventListener("click",function(Ye){for(var ce=tr.border.none,Y=E.getSelectedObjects(),xe=!1,pe=Y.length-1;pe>=0;pe--)if(Y[pe].getValue("".concat(s,"border"))!==ce){xe=!0;break}if(xe){for(var G=new be("Set value",E),He=Y.length-1;He>=0;He--){var Pe=Y[He];G.addSelection(Pe.getId()),G.addCommand(new l(Pe.getId(),"".concat(s,"border"),ce,l.type.buttonGroup,E))}G.isEmpty()||E.executeCommand(G)}}),Lt.append(Bt),D.append(Lt),b.append(D),Tt.append(b)}O(b=c("div",{id:"rbro_".concat(t,"border_color_row"),class:"rbroFormRow"}),E.getLabel("styleBorderColor"),"rbro_".concat(t,"border_color")),D=c("div",{class:"rbroFormField"});var Rt=c("div",{class:"rbroColorPickerContainer"}),dt=c("input",{id:"rbro_".concat(t,"border_color"),autocomplete:"off"});dt.addEventListener("change",function(Ye){var ce=dt.value;if(F(ce)){for(var Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"borderColor"),ce,l.type.color,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"borderColor"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("borderColor",ce,l.type.color,Y)}Y.isEmpty()||E.executeCommand(Y)}}),Rt.append(dt),g[s+"borderColor"]=R(Rt,dt,!1,E),D.append(Rt),b.append(D),Tt.append(b),O(b=c("div",{id:"rbro_".concat(t,"border_width_row"),class:"rbroFormRow"}),E.getLabel("styleBorderWidth"),"rbro_".concat(t,"border_width")),D=c("div",{class:"rbroFormField"});var It=c("input",{id:"rbro_".concat(t,"border_width"),type:"number",step:"0.5",autocomplete:"off"});It.addEventListener("input",function(Ye){var ce=It.value;ce!==""&&(ce=H(ce,.5,99)),ce!==It.value&&(It.value=ce);for(var Y=E.getSelectedObjects(),xe=!1,pe=Y.length-1;pe>=0;pe--)if(Y[pe].getValue("".concat(s,"borderWidth"))!==ce){xe=!0;break}if(xe){for(var G=new be("Set value",E),He=Y.length-1;He>=0;He--){var Pe=Y[He];G.addSelection(Pe.getId()),G.addCommand(new l(Pe.getId(),"".concat(s,"borderWidth"),ce,l.type.text,E)),Pe instanceof Ee&&Pe.getValue("".concat(s,"styleId"))!==""?Pe.getValue("".concat(s,"borderWidth"))!==ce&&G.addCommand(new l(Pe.getId(),"".concat(s,"styleId"),"",l.type.select,E)):Pe instanceof ye&&Pe.addCommandsForChangedProperty("borderWidth",ce,l.type.text,G)}G.isEmpty()||E.executeCommand(G)}}),D.append(It),b.append(D),Tt.append(b),e.append(Tt),O(b=c("div",{id:"rbro_".concat(t,"padding_row"),class:"rbroFormRow"}),E.getLabel("stylePadding"),"rbro_".concat(t,"padding")),D=c("div",{class:"rbroFormField rbroSmallInput"});var Xt=c("div",{class:"rbroColumnCenter"}),Zt=c("input",{id:"rbro_".concat(t,"padding_top"),placeholder:E.getLabel("orientationTop"),type:"number",autocomplete:"off"});Zt.addEventListener("input",function(Ye){for(var ce=Zt.value,Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"paddingTop"),ce,l.type.text,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"paddingTop"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("paddingTop",ce,l.type.text,Y)}Y.isEmpty()||E.executeCommand(Y)}),Xt.append(Zt),D.append(Xt);var Jt=c("div",{class:"rbroSplit"}),bt=c("input",{id:"rbro_".concat(t,"padding_left"),placeholder:E.getLabel("orientationLeft"),type:"number",autocomplete:"off"});bt.addEventListener("input",function(Ye){for(var ce=bt.value,Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"paddingLeft"),ce,l.type.text,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"paddingLeft"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("paddingLeft",ce,l.type.text,Y)}Y.isEmpty()||E.executeCommand(Y)}),Jt.append(bt);var rr=c("input",{id:"rbro_".concat(t,"padding_right"),placeholder:E.getLabel("orientationRight"),type:"number",autocomplete:"off"});rr.addEventListener("input",function(Ye){for(var ce=rr.value,Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"paddingRight"),ce,l.type.text,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"paddingRight"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("paddingRight",ce,l.type.text,Y)}Y.isEmpty()||E.executeCommand(Y)}),Jt.append(rr),D.append(Jt);var mr=c("div",{class:"rbroColumnCenter"}),nr=c("input",{id:"rbro_".concat(t,"padding_bottom"),placeholder:E.getLabel("orientationBottom"),type:"number",autocomplete:"off"});nr.addEventListener("input",function(Ye){for(var ce=nr.value,Y=new be("Set value",E),xe=E.getSelectedObjects(),pe=xe.length-1;pe>=0;pe--){var G=xe[pe];Y.addSelection(G.getId()),Y.addCommand(new l(G.getId(),"".concat(s,"paddingBottom"),ce,l.type.text,E)),G instanceof Ee&&G.getValue("".concat(s,"styleId"))!==""?G.getValue("".concat(s,"paddingBottom"))!==ce&&Y.addCommand(new l(G.getId(),"".concat(s,"styleId"),"",l.type.select,E)):G instanceof ye&&G.addCommandsForChangedProperty("paddingBottom",ce,l.type.text,Y)}Y.isEmpty()||E.executeCommand(Y)}),mr.append(nr),D.append(mr),b.append(D),e.append(b)}},{key:"destroyStyle",value:function(e,t){t[e+"textColor"].destroy(),t[e+"backgroundColor"].destroy(),e+"alternateBackgroundColor"in t&&t[e+"alternateBackgroundColor"].destroy(),t[e+"borderColor"].destroy()}}]),r}(Ir),uo=st(1574),fr=st.n(uo),co=st(5815),Sn=st.n(co);function At(w,r){var e=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!e){if(Array.isArray(w)||(e=function(b,D){if(b){if(typeof b=="string")return kn(b,D);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?kn(b,D):void 0}}(w))||r&&w&&typeof w.length=="number"){e&&(w=e);var t=0,s=function(){};return{s,n:function(){return t>=w.length?{done:!0}:{done:!1,value:w[t++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,g=!0,E=!1;return{s:function(){e=e.call(w)},n:function(){var b=e.next();return g=b.done,b},e:function(b){E=!0,u=b},f:function(){try{g||e.return==null||e.return()}finally{if(E)throw u}}}}function kn(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}function po(w,r,e){return r=v(r),_(w,On()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function On(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(On=function(){return!!w})()}var ho=function(w){function r(e,t){var s;for(var u in K(this,r),(s=po(this,r,["rbro_doc_element",Ee,e,t])).propertyDescriptors={label:{type:l.type.text,fieldId:"label"},content:{type:l.type.text,fieldId:"content",visibleIf:"!richText"},richText:{type:l.type.checkbox,fieldId:"rich_text"},richTextContent:{type:l.type.richText,fieldId:"rich_text_content",visibleIf:"richText"},eval:{type:l.type.checkbox,fieldId:"eval",visibleIf:"!richText"},dataSource:{type:l.type.text,fieldId:"data_source"},xReadOnly:{type:l.type.text,fieldId:"x_read_only"},x:{type:l.type.text,fieldId:"x",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,rowProperties:["x","y"],labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionX"},y:{type:l.type.text,fieldId:"y",rowId:"rbro_doc_element_position_row",errorMsgId:"rbro_doc_element_position_error",singleRowProperty:!1,labelId:"rbro_doc_element_position_label",defaultLabel:"docElementPosition",singlePropertyLabel:"docElementPositionY"},width:{type:l.type.text,fieldId:"width",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,rowProperties:["width","height"],labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementWidth",visibleIf:"type != 'bar_code' || (format != 'QRCode' && rotate)"},height:{type:l.type.text,fieldId:"height",rowId:"rbro_doc_element_size_row",errorMsgId:"rbro_doc_element_size_error",singleRowProperty:!1,labelId:"rbro_doc_element_size_label",defaultLabel:"docElementSize",singlePropertyLabel:"docElementHeight"},colspan:{type:l.type.text,fieldId:"colspan"},format:{type:l.type.select,fieldId:"format",allowEmpty:!1},displayValue:{type:l.type.checkbox,fieldId:"display_value",visibleIf:"format != 'QRCode'"},barWidth:{type:l.type.text,fieldId:"bar_width",visibleIf:"format != 'QRCode'"},guardBar:{type:l.type.checkbox,fieldId:"guard_bar",visibleIf:"format == 'EAN8' || format == 'EAN13'"},rotate:{type:l.type.checkbox,fieldId:"rotate",section:"print",visibleIf:"format != 'QRCode'"},errorCorrectionLevel:{type:l.type.select,fieldId:"error_correction_level",visibleIf:"format == 'QRCode'"},source:{type:l.type.text,fieldId:"source"},image:{type:l.type.file,fieldId:"image",rowId:"rbro_doc_element_image_row",singleRowProperty:!1,rowProperties:["image","imageFilename"]},imageFilename:{type:l.type.filename,fieldId:"image_filename",rowId:"rbro_doc_element_image_row",singleRowProperty:!1},columns:{type:l.type.text,fieldId:"columns"},header:{type:l.type.checkbox,fieldId:"header"},contentRows:{type:l.type.text,fieldId:"content_rows"},footer:{type:l.type.checkbox,fieldId:"footer"},color:{type:l.type.color,allowEmpty:!1,fieldId:"color",section:"style"},styleId:{type:l.type.select,fieldId:"style_id",section:"style",allowEmpty:!0},bold:{type:l.type.button,fieldId:"bold",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,rowProperties:["bold","italic","underline","strikethrough"],section:"style",visibleIf:"!richText"},italic:{type:l.type.button,fieldId:"italic",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},underline:{type:l.type.button,fieldId:"underline",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},strikethrough:{type:l.type.button,fieldId:"strikethrough",rowId:"rbro_doc_element_textstyle_row",singleRowProperty:!1,section:"style",visibleIf:"!richText"},horizontalAlignment:{type:l.type.buttonGroup,fieldId:"halignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,rowProperties:["horizontalAlignment","verticalAlignment"],section:"style",visibleIf:"!richText"},verticalAlignment:{type:l.type.buttonGroup,fieldId:"valignment",rowId:"rbro_doc_element_alignment_row",singleRowProperty:!1,section:"style"},textColor:{type:l.type.color,allowEmpty:!1,fieldId:"text_color",section:"style",visibleIf:"!richText"},backgroundColor:{type:l.type.color,allowEmpty:!0,fieldId:"background_color",section:"style"},alternateBackgroundColor:{type:l.type.color,allowEmpty:!0,fieldId:"alternate_background_color",section:"style"},font:{type:l.type.select,fieldId:"font",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,rowProperties:["font","fontSize"],section:"style",allowEmpty:!1,visibleIf:"!richText"},fontSize:{type:l.type.select,fieldId:"font_size",rowId:"rbro_doc_element_font_row",singleRowProperty:!1,section:"style",allowEmpty:!1,visibleIf:"!richText"},lineSpacing:{type:l.type.select,fieldId:"line_spacing",section:"style",allowEmpty:!1},borderAll:{type:l.type.button,fieldId:"border_all",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,rowProperties:["borderAll","borderLeft","borderTop","borderRight","borderBottom"],section:"style"},borderLeft:{type:l.type.button,fieldId:"border_left",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderTop:{type:l.type.button,fieldId:"border_top",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderRight:{type:l.type.button,fieldId:"border_right",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},borderBottom:{type:l.type.button,fieldId:"border_bottom",rowId:"rbro_doc_element_border_row",singleRowProperty:!1,section:"style"},border:{type:l.type.buttonGroup,fieldId:"table_border",rowId:"rbro_doc_element_table_border_row",section:"style"},borderColor:{type:l.type.color,allowEmpty:!1,fieldId:"border_color",section:"style"},borderWidth:{type:l.type.text,fieldId:"border_width",section:"style"},paddingLeft:{type:l.type.text,fieldId:"padding_left",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"style"},paddingTop:{type:l.type.text,fieldId:"padding_top",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingRight:{type:l.type.text,fieldId:"padding_right",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},paddingBottom:{type:l.type.text,fieldId:"padding_bottom",rowId:"rbro_doc_element_padding_row",singleRowProperty:!1,section:"style"},groupExpression:{type:l.type.text,fieldId:"group_expression",section:"print"},pageBreak:{type:l.type.checkbox,fieldId:"page_break",visibleIf:"groupExpression",section:"print"},repeatGroupHeader:{type:l.type.checkbox,fieldId:"repeat_group_header",visibleIf:"groupExpression",section:"print"},printIf:{type:l.type.text,fieldId:"print_if",section:"print"},repeatHeader:{type:l.type.checkbox,fieldId:"repeat_header",section:"print"},removeEmptyElement:{type:l.type.checkbox,fieldId:"remove_empty_element",section:"print"},alwaysPrintOnSamePage:{type:l.type.checkbox,fieldId:"always_print_on_same_page",section:"print"},shrinkToContentHeight:{type:l.type.checkbox,fieldId:"shrink_to_content_height",section:"print"},alignToPageBottom:{type:l.type.checkbox,fieldId:"align_to_page_bottom",section:"print"},growWeight:{type:l.type.select,allowEmpty:!1,fieldId:"grow_weight",section:"print"},pattern:{type:l.type.text,fieldId:"pattern",section:"print",visibleIf:"!richText"},link:{type:l.type.text,fieldId:"link",section:"print",visibleIf:"!richText"},cs_condition:{type:l.type.text,fieldId:"cs_condition",section:"cs_style"},cs_styleId:{type:l.type.select,fieldId:"cs_style_id",section:"cs_style",allowEmpty:!0},cs_additionalRules:{type:l.type.internal,fieldId:"cs_additional_rules",section:"cs_style",allowEmpty:!0},cs_bold:{type:l.type.button,fieldId:"cs_bold",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,rowProperties:["cs_bold","cs_italic","cs_underline","cs_strikethrough"],section:"cs_style",visibleIf:"!richText"},cs_italic:{type:l.type.button,fieldId:"cs_italic",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_underline:{type:l.type.button,fieldId:"cs_underline",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_strikethrough:{type:l.type.button,fieldId:"cs_strikethrough",rowId:"rbro_doc_element_cs_textstyle_row",singleRowProperty:!1,section:"cs_style",visibleIf:"!richText"},cs_horizontalAlignment:{type:l.type.buttonGroup,fieldId:"cs_halignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,rowProperties:["cs_horizontalAlignment","cs_verticalAlignment"],section:"cs_style",visibleIf:"!richText"},cs_verticalAlignment:{type:l.type.buttonGroup,fieldId:"cs_valignment",rowId:"rbro_doc_element_cs_alignment_row",singleRowProperty:!1,section:"cs_style"},cs_textColor:{type:l.type.color,allowEmpty:!1,fieldId:"cs_text_color",section:"cs_style",visibleIf:"!richText"},cs_backgroundColor:{type:l.type.color,allowEmpty:!0,fieldId:"cs_background_color",section:"cs_style"},cs_font:{type:l.type.select,fieldId:"cs_font",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,rowProperties:["cs_font","cs_fontSize"],section:"cs_style",allowEmpty:!1,visibleIf:"!richText"},cs_fontSize:{type:l.type.select,fieldId:"cs_font_size",rowId:"rbro_doc_element_cs_font_row",singleRowProperty:!1,section:"cs_style",allowEmpty:!1,visibleIf:"!richText"},cs_lineSpacing:{type:l.type.select,fieldId:"cs_line_spacing",section:"cs_style",allowEmpty:!1},cs_borderAll:{type:l.type.button,fieldId:"cs_border_all",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,rowProperties:["cs_borderAll","cs_borderLeft","cs_borderTop","cs_borderRight","cs_borderBottom"],section:"cs_style"},cs_borderLeft:{type:l.type.button,fieldId:"cs_border_left",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderTop:{type:l.type.button,fieldId:"cs_border_top",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderRight:{type:l.type.button,fieldId:"cs_border_right",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderBottom:{type:l.type.button,fieldId:"cs_border_bottom",rowId:"rbro_doc_element_cs_border_row",singleRowProperty:!1,section:"cs_style"},cs_borderColor:{type:l.type.color,allowEmpty:!1,fieldId:"cs_border_color",section:"cs_style"},cs_borderWidth:{type:l.type.text,fieldId:"cs_border_width",section:"cs_style"},cs_paddingLeft:{type:l.type.text,fieldId:"cs_padding_left",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,rowProperties:["paddingLeft","paddingTop","paddingRight","paddingBottom"],section:"cs_style"},cs_paddingTop:{type:l.type.text,fieldId:"cs_padding_top",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingRight:{type:l.type.text,fieldId:"cs_padding_right",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},cs_paddingBottom:{type:l.type.text,fieldId:"cs_padding_bottom",rowId:"rbro_doc_element_cs_padding_row",singleRowProperty:!1,section:"cs_style"},spreadsheet_hide:{type:l.type.checkbox,fieldId:"spreadsheet_hide",section:"spreadsheet"},spreadsheet_column:{type:l.type.text,fieldId:"spreadsheet_column",section:"spreadsheet"},spreadsheet_colspan:{type:l.type.text,fieldId:"spreadsheet_colspan",section:"spreadsheet"},spreadsheet_addEmptyRow:{type:l.type.checkbox,fieldId:"spreadsheet_add_empty_row",section:"spreadsheet"},spreadsheet_type:{type:l.type.select,fieldId:"spreadsheet_type",section:"spreadsheet"},spreadsheet_pattern:{type:l.type.text,fieldId:"spreadsheet_pattern",section:"spreadsheet",visibleIf:"spreadsheet_type"},spreadsheet_textWrap:{type:l.type.checkbox,fieldId:"spreadsheet_text_wrap",section:"spreadsheet"}},t.getProperty("showPlusFeatures")||(delete s.propertyDescriptors.richText,delete s.propertyDescriptors.richTextContent),s.visibleIfFields=[],s.propertyDescriptors)if(s.propertyDescriptors.hasOwnProperty(u)){var g=s.propertyDescriptors[u];if("visibleIf"in g){var E,b=At(ge(g.visibleIf,null));try{for(b.s();!(E=b.n()).done;){var D=E.value;D.type==="field"&&("visibleIfFields"in g?g.visibleIfFields.includes(D.value)||g.visibleIfFields.push(D.value):g.visibleIfFields=[D.value],s.visibleIfFields.includes(D.value)||s.visibleIfFields.push(D.value))}}catch(N){b.e(N)}finally{b.f()}}}return s}return h(r,w),y(r,[{key:"render",value:function(){var e,t,s,u=this,g=c("div",{id:"rbro_doc_element_panel",class:"rbroHidden"});O(e=c("div",{id:"rbro_doc_element_label_row",class:"rbroFormRow"}),this.rb.getLabel("docElementLabel"),"rbro_doc_element_label"),t=c("div",{class:"rbroFormField"});var E=c("input",{id:"rbro_doc_element_label",autocomplete:"off"});E.addEventListener("input",function(Re){for(var ie=E.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"label",ie,l.type.text,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(E),e.append(t),g.append(e),O(e=c("div",{id:"rbro_doc_element_data_source_row",class:"rbroFormRow"}),this.rb.getLabel("docElementDataSource"),"rbro_doc_element_data_source"),t=c("div",{class:"rbroFormField"});var b=c("div",{class:"rbroSplit rbroSelector"}),D=c("textarea",{id:"rbro_doc_element_data_source",rows:1});D.addEventListener("input",function(Re){for(var ie=D.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"dataSource",ie,l.type.text,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),ft(D),b.append(D),(s=c("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Re){var ie=u.rb.getSelectedObjects(),X=ie.length===1?ie[0]:null;u.rb.getPopupWindow().show(u.rb.getParameterItems(X,[ne.type.array]),null,"rbro_doc_element_data_source","dataSource",_t.type.parameterSet)}),b.append(s),t.append(b),t.append(c("div",{id:"rbro_doc_element_data_source_error",class:"rbroErrorMessage"})),e.append(t),g.append(e),O(e=c("div",{id:"rbro_doc_element_content_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementContent"),"rbro_doc_element_content"),t=c("div",{class:"rbroFormField"}),b=c("div",{class:"rbroSplit rbroSelector"});var N=c("textarea",{id:"rbro_doc_element_content",rows:1});if(N.addEventListener("input",function(Re){for(var ie=N.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"content",ie,l.type.text,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),N.addEventListener("blur",function(Re){u.rb.getPopupWindow().hide()}),ft(N),b.append(N),(s=c("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Re){var ie=u.rb.getSelectedObjects(),X=ie.length===1?ie[0]:null;u.rb.getPopupWindow().show(u.rb.getParameterItems(X,null),null,"rbro_doc_element_content","content",_t.type.parameterAppend)}),b.append(s),t.append(b),t.append(c("div",{id:"rbro_doc_element_content_error",class:"rbroErrorMessage"})),e.append(t),g.append(e),this.rb.getProperty("showPlusFeatures")){O(e=c("div",{id:"rbro_doc_element_rich_text_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRichText"),"rbro_doc_element_rich_text"),t=c("div",{class:"rbroFormField"});var Z=c("label",{class:"switch-light switch-material"}),J=c("input",{id:"rbro_doc_element_rich_text",type:"checkbox"});J.addEventListener("change",function(Re){for(var ie=J.checked,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"richText",ie,l.type.checkbox,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),Z.append(J);var le=c("span");if(le.append(c("span")),le.append(c("span")),le.append(c("a")),Z.append(le),t.append(Z),t.append(c("div",{id:"rbro_doc_element_rich_text_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var Q=c("div",{class:"rbroInfo"});Q.innerHTML=this.rb.getLabel("plusFeatureInfo"),t.append(Q)}e.append(t),g.append(e),e=c("div",{id:"rbro_doc_element_rich_text_content_row",class:"rbroFormRow rbroRichTextEditor rbroHidden"});var ue,Ie=this.rb.getProperty("colors"),fe=c("select",{class:"ql-color",title:this.rb.getLabel("styleTextColor")}),we=c("select",{class:"ql-background",title:this.rb.getLabel("styleBackgroundColor")}),Se=At(Ie);try{for(Se.s();!(ue=Se.n()).done;){var Le=ue.value;fe.append(c("option",{value:Le},Le)),we.append(c("option",{value:Le},Le))}}catch(Re){Se.e(Re)}finally{Se.f()}fe.append(c("option",{value:"clear-color"})),we.append(c("option",{value:"clear-color"}));var Ae,Be=c("select",{class:"ql-font"}),$e=this.rb.getProperty("defaultFont"),Fe=At(this.rb.getFonts());try{for(Fe.s();!(Ae=Fe.n()).done;){var Ke=Ae.value,Qe={value:Ke.value};Ke.value===$e&&(Qe.selected="selected"),Be.append(c("option",Qe,Ke.name))}}catch(Re){Fe.e(Re)}finally{Fe.f()}var We,ze=c("select",{class:"ql-size"}),Ce=At(this.rb.getProperty("fontSizes"));try{for(Ce.s();!(We=Ce.n()).done;){var ae=We.value,Ne={value:ae+"px"};ae===12&&(Ne.selected="selected"),ze.append(c("option",Ne,ae+"pt"))}}catch(Re){Ce.e(Re)}finally{Ce.f()}var Je=c("div",{id:"rbro_doc_element_rich_text_content_toolbar"}),De=c("span",{class:"ql-formats"});De.append(c("button",{class:"ql-bold",title:this.rb.getLabel("styleBold")})),De.append(c("button",{class:"ql-italic",title:this.rb.getLabel("styleItalic")})),De.append(c("button",{class:"ql-underline",title:this.rb.getLabel("styleUnderline")})),De.append(c("button",{class:"ql-strike",title:this.rb.getLabel("styleStrikethrough")})),Je.append(De),(De=c("span",{class:"ql-formats"})).append(c("button",{class:"ql-link"})),Je.append(De),(De=c("span",{class:"ql-formats"})).append(c("select",{class:"ql-align",title:this.rb.getLabel("styleAlignment")})),Je.append(De),(De=c("span",{class:"ql-formats"})).append(fe),De.append(we),Je.append(De),Je.append(Be),Je.append(ze),Je.append(c("div",{id:"rbro_doc_element_rich_text_content_toolbar_parameter",class:"rbroButton rbroRoundButton rbroIcon-select"})),e.append(Je);var it=c("div",{id:"rbro_doc_element_rich_text_content"});e.append(it),e.append(c("div",{id:"rbro_doc_element_rich_text_content_error",class:"rbroErrorMessage"})),g.append(e)}O(e=c("div",{id:"rbro_doc_element_eval_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementEval"),"rbro_doc_element_eval"),t=c("div",{class:"rbroFormField"});var rt=c("input",{id:"rbro_doc_element_eval",type:"checkbox"});rt.addEventListener("change",function(Re){for(var ie=new be("Set value",u.rb),X=u.rb.getSelectedObjects(),he=rt.checked,te=X.length-1;te>=0;te--){var me=X[te];ie.addSelection(me.getId()),ie.addCommand(new l(me.getId(),"eval",he,l.type.checkbox,u.rb))}ie.isEmpty()||u.rb.executeCommand(ie)}),t.append(rt),e.append(t),g.append(e),O(e=c("div",{id:"rbro_doc_element_format_row",class:"rbroFormRow"}),this.rb.getLabel("docElementFormat"),"rbro_doc_element_format"),t=c("div",{class:"rbroFormField"});var nt=c("select",{id:"rbro_doc_element_format"});nt.append(c("option",{value:"CODE39"},"CODE39")),nt.append(c("option",{value:"CODE128"},"CODE128")),nt.append(c("option",{value:"EAN8"},"EAN-8")),nt.append(c("option",{value:"EAN13"},"EAN-13")),nt.append(c("option",{value:"UPC"},"UPC")),nt.append(c("option",{value:"QRCode"},"QR Code")),nt.addEventListener("change",function(Re){for(var ie=nt.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"format",ie,l.type.select,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(nt),e.append(t),g.append(e),O(e=c("div",{id:"rbro_doc_element_display_value_row",class:"rbroFormRow"}),this.rb.getLabel("docElementDisplayValue"),"rbro_doc_element_display_value"),t=c("div",{class:"rbroFormField"});var ct=c("input",{id:"rbro_doc_element_display_value",type:"checkbox"});ct.addEventListener("change",function(Re){for(var ie=ct.checked,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"displayValue",ie,l.type.checkbox,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(ct),e.append(t),g.append(e),O(e=c("div",{id:"rbro_doc_element_bar_width_row",class:"rbroFormRow"}),this.rb.getLabel("docElementBarWidth"),"rbro_doc_element_bar_width"),t=c("div",{class:"rbroFormField"});var ot=c("input",{id:"rbro_doc_element_bar_width",type:"number",step:"0.1",autocomplete:"off"});ot.addEventListener("input",function(Re){var ie=ot.value;ie!==""&&(ie=H(ie,.3,3)),ie!==ot.value&&(ot.value=ie);for(var X=u.rb.getSelectedObjects(),he=!1,te=X.length-1;te>=0;te--)if(X[te].getValue("barWidth")!==ie){he=!0;break}if(he){for(var me=new be("Set value",u.rb),pt=X.length-1;pt>=0;pt--){var yt=X[pt];me.addSelection(yt.getId()),me.addCommand(new l(yt.getId(),"barWidth",ie,l.type.text,u.rb))}me.isEmpty()||u.rb.executeCommand(me)}}),t.append(ot),e.append(t),g.append(e),O(e=c("div",{id:"rbro_doc_element_guard_bar_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGuardBar"),"rbro_doc_element_guard_bar"),t=c("div",{class:"rbroFormField"});var wt=c("input",{id:"rbro_doc_element_guard_bar",type:"checkbox"});wt.addEventListener("change",function(Re){for(var ie=wt.checked,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"guardBar",ie,l.type.checkbox,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(wt),e.append(t),g.append(e),O(e=c("div",{id:"rbro_doc_element_rotate_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRotate"),"rbro_doc_element_rotate"),t=c("div",{class:"rbroFormField"});var ht=c("input",{id:"rbro_doc_element_rotate",type:"checkbox"});ht.addEventListener("change",function(Re){for(var ie=ht.checked,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"rotate",ie,l.type.checkbox,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(ht),e.append(t),g.append(e),O(e=c("div",{id:"rbro_doc_element_error_correction_level_row",class:"rbroFormRow"}),this.rb.getLabel("docElementErrorCorrectionLevel"),"rbro_doc_element_error_correction_level"),t=c("div",{class:"rbroFormField"});var mt=c("select",{id:"rbro_doc_element_error_correction_level"});mt.append(c("option",{value:"L"},this.rb.getLabel("docElementErrorCorrectionLevelLow"))),mt.append(c("option",{value:"M"},this.rb.getLabel("docElementErrorCorrectionLevelMedium"))),mt.append(c("option",{value:"Q"},this.rb.getLabel("docElementErrorCorrectionLevelQuartile"))),mt.append(c("option",{value:"H"},this.rb.getLabel("docElementErrorCorrectionLevelHigh"))),mt.addEventListener("change",function(Re){for(var ie=mt.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"errorCorrectionLevel",ie,l.type.select,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(mt),e.append(t),g.append(e),O(e=c("div",{id:"rbro_doc_element_source_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSource"),"rbro_doc_element_source"),t=c("div",{class:"rbroFormField"}),b=c("div",{class:"rbroSplit rbroSelector"});var tt=c("textarea",{id:"rbro_doc_element_source",rows:1});tt.addEventListener("input",function(Re){for(var ie=tt.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"source",ie,l.type.text,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),ft(tt),b.append(tt),(s=c("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Re){var ie=u.rb.getSelectedObjects(),X=ie.length===1?ie[0]:null;u.rb.getPopupWindow().show(u.rb.getParameterItems(X,[ne.type.image,ne.type.string]),null,"rbro_doc_element_source","source",_t.type.parameterSet)}),b.append(s),t.append(b),t.append(c("div",{id:"rbro_doc_element_source_error",class:"rbroErrorMessage"})),e.append(t),g.append(e),O(e=c("div",{id:"rbro_doc_element_image_row",class:"rbroFormRow"}),this.rb.getLabel("docElementImageFile"),"rbro_doc_element_image"),t=c("div",{class:"rbroFormField"});var Tt=c("input",{id:"rbro_doc_element_image",type:"file"});Tt.addEventListener("change",function(Re){var ie=u.rb,X=Re.target.files;X&&X[0]&&z(X[0],function(he,te){for(var me=new be("Load image",ie),pt=ie.getSelectedObjects(),yt=pt.length-1;yt>=0;yt--){var qt=pt[yt];me.addSelection(qt.getId()),me.addCommand(new l(qt.getId(),"image",he,l.type.file,ie)),me.addCommand(new l(qt.getId(),"imageFilename",te,l.type.filename,ie))}me.isEmpty()||ie.executeCommand(me)},u.rb)}),t.append(Tt);var kt=c("div",{id:"rbro_doc_element_image_filename_container",class:"rbroImageFile rbroHidden"});kt.append(c("div",{id:"rbro_doc_element_image_filename"}));var Mt=c("div",{id:"rbro_doc_element_image_filename_clear",class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});Mt.addEventListener("click",function(Re){Tt.value="";for(var ie=new be("Clear image",u.rb),X=u.rb.getSelectedObjects(),he=X.length-1;he>=0;he--){var te=X[he];ie.addSelection(te.getId()),ie.addCommand(new l(te.getId(),"image","",l.type.file,u.rb)),ie.addCommand(new l(te.getId(),"imageFilename","",l.type.filename,u.rb))}ie.isEmpty()||u.rb.executeCommand(ie)}),kt.append(Mt),t.append(kt),t.append(c("div",{id:"rbro_doc_element_image_error",class:"rbroErrorMessage"})),e.append(t),g.append(e),O(e=c("div",{id:"rbro_doc_element_x_read_only_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPositionX"),"rbro_doc_element_x_read_only",{class:"rbroDisabled"}),t=c("div",{class:"rbroFormField"});var sr=c("input",{id:"rbro_doc_element_x_read_only",disabled:"disabled"});t.append(sr),e.append(t),g.append(e),O(e=c("div",{id:"rbro_doc_element_position_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementPosition"),"rbro_doc_element_x",{id:"rbro_doc_element_position_label"}),t=c("div",{class:"rbroFormField"}),b=c("div",{class:"rbroSplit"});var Wt=c("input",{id:"rbro_doc_element_x",type:"number",autocomplete:"off"});Wt.addEventListener("input",function(Re){for(var ie=Wt.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"x",ie,l.type.text,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),b.append(Wt);var Ft=c("input",{id:"rbro_doc_element_y",type:"number",autocomplete:"off"});Ft.addEventListener("input",function(Re){for(var ie=Ft.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"y",ie,l.type.text,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),b.append(Ft),t.append(b),t.append(c("div",{id:"rbro_doc_element_position_error",class:"rbroErrorMessage"})),e.append(t),g.append(e),O(e=c("div",{id:"rbro_doc_element_size_row",class:"rbroFormRow rbroHidden"}),this.rb.getLabel("docElementSize"),"rbro_doc_element_size",{id:"rbro_doc_element_size_label"}),t=c("div",{class:"rbroFormField"}),b=c("div",{class:"rbroSplit"});var Dt=c("input",{id:"rbro_doc_element_width",type:"number",autocomplete:"off"});Dt.addEventListener("input",function(Re){for(var ie=Dt.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"width",ie,l.type.text,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),b.append(Dt);var Lt=c("input",{id:"rbro_doc_element_height",type:"number",autocomplete:"off"});Lt.addEventListener("input",function(Re){for(var ie=Lt.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"height",ie,l.type.text,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),b.append(Lt),t.append(b),t.append(c("div",{id:"rbro_doc_element_size_error",class:"rbroErrorMessage"})),e.append(t),g.append(e),O(e=c("div",{id:"rbro_doc_element_colspan_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColspan"),"rbro_doc_element_colspan"),t=c("div",{class:"rbroFormField"});var Vt=c("input",{id:"rbro_doc_element_colspan",type:"number",autocomplete:"off"});Vt.addEventListener("change",function(Re){var ie=Vt.value.trim();ie!==""&&(ie=H(ie,1,9)),ie!==Vt.value&&(Vt.value=ie);for(var X=u.rb.getSelectedObjects(),he=!1,te=X.length-1;te>=0;te--)if(X[te].getValue("colspan")!==ie){he=!0;break}if(he){for(var me=new be("Set value",u.rb),pt=X.length-1;pt>=0;pt--){var yt=X[pt];me.addSelection(yt.getId()),me.addCommand(new l(yt.getId(),"colspan",ie,l.type.text,u.rb))}me.isEmpty()||u.rb.executeCommand(me)}}),t.append(Vt),t.append(c("div",{id:"rbro_doc_element_colspan_error",class:"rbroErrorMessage"})),e.append(t),g.append(e),O(e=c("div",{id:"rbro_doc_element_columns_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColumns"),"rbro_doc_element_columns"),t=c("div",{class:"rbroFormField"});var jt=c("input",{id:"rbro_doc_element_columns",type:"number",autocomplete:"off"});jt.addEventListener("change",function(Re){var ie=H(jt.value,1,99);ie!==jt.value&&(jt.value=ie);for(var X=M(ie),he=u.rb.getSelectedObjects(),te=!1,me=!0,pt=he.length-1;pt>=0;pt--){var yt=he[pt];yt.getValue("columns")!==ie&&(te=!0),yt.hasEnoughAvailableSpace(X)||(me=!1)}if(me||he.length!==1||(jt.value=he[0].getValue("columns")),te&&me){for(var qt=new be("Set value",u.rb),Gr=he.length-1;Gr>=0;Gr--){var Nn=he[Gr];qt.addSelection(Nn.getId()),Nn.addCommandsForChangedColumns(X,qt)}qt.isEmpty()||u.rb.executeCommand(qt)}}),t.append(jt),e.append(t),g.append(e),O(e=c("div",{id:"rbro_doc_element_header_row",class:"rbroFormRow"}),this.rb.getLabel("header"),"rbro_doc_element_header"),t=c("div",{class:"rbroFormField"});var Gt=c("label",{class:"switch-light switch-material"}),Kt=c("input",{id:"rbro_doc_element_header",type:"checkbox"});Kt.addEventListener("change",function(Re){for(var ie=Kt.checked,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"header",ie,l.type.checkbox,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),Gt.append(Kt);var Bt=c("span");Bt.append(c("span")),Bt.append(c("span")),Bt.append(c("a")),Gt.append(Bt),t.append(Gt),e.append(t),g.append(e),O(e=c("div",{id:"rbro_doc_element_content_rows_row",class:"rbroFormRow"}),this.rb.getLabel("docElementContentRows"),"rbro_doc_element_content_rows"),t=c("div",{class:"rbroFormField"});var Rt=c("input",{id:"rbro_doc_element_content_rows",type:"number",autocomplete:"off"});Rt.addEventListener("change",function(Re){var ie=H(Rt.value,1,99),X=M(ie);ie!==Rt.value&&(Rt.value=ie);for(var he=u.rb.getSelectedObjects(),te=!1,me=he.length-1;me>=0;me--)if(he[me].getValue("contentRows")!==ie){te=!0;break}if(te){for(var pt=new be("Set value",u.rb),yt=he.length-1;yt>=0;yt--){var qt=he[yt];pt.addSelection(qt.getId()),qt.addCommandsForChangedContentRows(X,pt)}pt.isEmpty()||u.rb.executeCommand(pt)}}),t.append(Rt),e.append(t),g.append(e),O(e=c("div",{id:"rbro_doc_element_footer_row",class:"rbroFormRow"}),this.rb.getLabel("footer"),"rbro_doc_element_footer"),t=c("div",{class:"rbroFormField"});var dt=c("label",{class:"switch-light switch-material"}),It=c("input",{id:"rbro_doc_element_footer",type:"checkbox"});It.addEventListener("change",function(Re){for(var ie=It.checked,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"footer",ie,l.type.checkbox,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),dt.append(It);var Xt=c("span");Xt.append(c("span")),Xt.append(c("span")),Xt.append(c("a")),dt.append(Xt),t.append(dt),e.append(t),g.append(e);var Zt=c("div",{id:"rbro_doc_element_style_section_container"}),Jt=c("div",{class:"rbroPanelSectionHeader"}),bt=c("span",{id:"rbro_doc_element_style_header_icon",class:"rbroIcon-minus"});(e=c("div",{id:"rbro_doc_element_style_header",class:"rbroFormRow rbroPanelSection rbroPanelSectionHeaderOpen"})).addEventListener("click",function(Re){if(document.getElementById("rbro_doc_element_style_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_style_section").classList.toggle("rbroHidden"),bt.classList.toggle("rbroIcon-plus"),bt.classList.toggle("rbroIcon-minus"),bt.classList.contains("rbroIcon-minus")){var ie=document.getElementById("rbro_doc_element_style_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=ie}}),Jt.append(bt),Jt.append(c("span",{},this.rb.getLabel("docElementStyle"))),e.append(Jt),Zt.append(e);var rr=c("div",{id:"rbro_doc_element_style_section"});O(e=c("div",{id:"rbro_doc_element_color_row",class:"rbroFormRow"}),this.rb.getLabel("docElementColor"),"rbro_doc_element_color"),t=c("div",{class:"rbroFormField"});var mr=c("div",{class:"rbroColorPickerContainer"}),nr=c("input",{id:"rbro_doc_element_color",autocomplete:"off"});nr.addEventListener("change",function(Re){var ie=nr.value;if(F(ie)){for(var X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"color",ie,l.type.color,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}}),mr.append(nr),this.controls.color=R(mr,nr,!1,this.rb),t.append(mr),e.append(t),rr.append(e),O(e=c("div",{id:"rbro_doc_element_style_id_row",class:"rbroFormRow"}),this.rb.getLabel("docElementStyle"),"rbro_doc_element_style_id"),t=c("div",{class:"rbroFormField"}),this.elStyle=c("select",{id:"rbro_doc_element_style_id"}),this.elStyle.addEventListener("change",function(Re){for(var ie=new be("Set value",u.rb),X=u.rb.getSelectedObjects(),he=X.length-1;he>=0;he--){var te=X[he];ie.addSelection(te.getId()),te.addCommandsForChangedStyle(u.elStyle.value,"",u.propertyDescriptors,ie)}ie.isEmpty()||u.rb.executeCommand(ie)}),t.append(this.elStyle),e.append(t),rr.append(e);var Ye=c("div",{id:"rbro_doc_element_style_settings"});vr.renderStyle(Ye,"doc_element_","",!0,this.controls,this.rb),rr.append(Ye),Zt.append(rr),g.append(Zt);var ce=c("div",{id:"rbro_doc_element_print_section_container"}),Y=c("div",{class:"rbroPanelSectionHeader"}),xe=c("span",{id:"rbro_doc_element_print_header_icon",class:"rbroIcon-plus"});(e=c("div",{id:"rbro_doc_element_print_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function(Re){if(document.getElementById("rbro_doc_element_print_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_print_section").classList.toggle("rbroHidden"),xe.classList.toggle("rbroIcon-plus"),xe.classList.toggle("rbroIcon-minus"),xe.classList.contains("rbroIcon-minus")){var ie=document.getElementById("rbro_doc_element_print_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=ie}ft.update(document.getElementById("rbro_doc_element_print_if"))}),Y.append(xe),Y.append(c("span",{},this.rb.getLabel("docElementPrintSettings"))),e.append(Y),ce.append(e);var pe=c("div",{id:"rbro_doc_element_print_section",class:"rbroHidden"});O(e=c("div",{id:"rbro_doc_element_group_expression_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGroupExpression"),"rbro_doc_element_group_expression"),t=c("div",{class:"rbroFormField"}),b=c("div",{class:"rbroSplit rbroSelector"});var G=c("textarea",{id:"rbro_doc_element_group_expression",rows:1});G.addEventListener("input",function(Re){for(var ie=G.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"groupExpression",ie,l.type.text,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),G.addEventListener("blur",function(Re){u.rb.getPopupWindow().hide()}),ft(G),b.append(G),(s=c("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Re){var ie=u.rb.getSelectedObjects(),X=ie.length===1?ie[0]:null;u.rb.getPopupWindow().show(u.rb.getParameterItems(X,null),null,"rbro_doc_element_group_expression","groupExpression",_t.type.parameterSet)}),b.append(s),t.append(b),t.append(c("div",{id:"rbro_doc_element_group_expression_error",class:"rbroErrorMessage"})),e.append(t),pe.append(e),O(e=c("div",{id:"rbro_doc_element_page_break_row",class:"rbroFormRow"}),this.rb.getLabel("docElementTableBandPageBreak"),"rbro_doc_element_page_break"),t=c("div",{class:"rbroFormField"});var He=c("input",{id:"rbro_doc_element_page_break",type:"checkbox"});He.addEventListener("change",function(Re){for(var ie=He.checked,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"pageBreak",ie,l.type.checkbox,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(He),e.append(t),pe.append(e),O(e=c("div",{id:"rbro_doc_element_repeat_group_header_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRepeatGroupHeader"),"rbro_doc_element_repeat_group_header"),t=c("div",{class:"rbroFormField"});var Pe=c("input",{id:"rbro_doc_element_repeat_group_header",type:"checkbox"});Pe.addEventListener("change",function(Re){for(var ie=Pe.checked,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"repeatGroupHeader",ie,l.type.checkbox,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(Pe),t.append(c("div",{id:"rbro_doc_element_repeat_group_header_error",class:"rbroErrorMessage"})),e.append(t),pe.append(e),O(e=c("div",{id:"rbro_doc_element_print_if_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPrintIf"),"rbro_doc_element_print_if"),t=c("div",{class:"rbroFormField"}),b=c("div",{class:"rbroSplit rbroSelector"});var Cr=c("textarea",{id:"rbro_doc_element_print_if",rows:1});Cr.addEventListener("input",function(Re){for(var ie=Cr.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"printIf",ie,l.type.text,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),ft(Cr),b.append(Cr),(s=c("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Re){var ie=u.rb.getSelectedObjects(),X=ie.length===1?ie[0]:null;u.rb.getPopupWindow().show(u.rb.getParameterItems(X,null),null,"rbro_doc_element_print_if","printIf",_t.type.parameterAppend)}),b.append(s),t.append(b),t.append(c("div",{id:"rbro_doc_element_print_if_error",class:"rbroErrorMessage"})),e.append(t),pe.append(e),O(e=c("div",{id:"rbro_doc_element_repeat_header_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRepeatHeader"),"rbro_doc_element_repeat_header"),t=c("div",{class:"rbroFormField"});var Tr=c("input",{id:"rbro_doc_element_repeat_header",type:"checkbox"});Tr.addEventListener("change",function(Re){for(var ie=Tr.checked,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"repeatHeader",ie,l.type.checkbox,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(Tr),e.append(t),pe.append(e),O(e=c("div",{id:"rbro_doc_element_remove_empty_element_row",class:"rbroFormRow"}),this.rb.getLabel("docElementRemoveEmptyElement"),"rbro_doc_element_remove_empty_element"),t=c("div",{class:"rbroFormField"});var Dr=c("input",{id:"rbro_doc_element_remove_empty_element",type:"checkbox"});Dr.addEventListener("change",function(Re){for(var ie=Dr.checked,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"removeEmptyElement",ie,l.type.checkbox,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(Dr),e.append(t),pe.append(e),O(e=c("div",{id:"rbro_doc_element_always_print_on_same_page_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAlwaysPrintOnSamePage"),"rbro_doc_element_always_print_on_same_page"),t=c("div",{class:"rbroFormField"});var Lr=c("input",{id:"rbro_doc_element_always_print_on_same_page",type:"checkbox"});Lr.addEventListener("change",function(Re){for(var ie=Lr.checked,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"alwaysPrintOnSamePage",ie,l.type.checkbox,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(Lr),t.append(c("div",{id:"rbro_doc_element_always_print_on_same_page_error",class:"rbroErrorMessage"})),e.append(t),pe.append(e),O(e=c("div",{id:"rbro_doc_element_shrink_to_content_height_row",class:"rbroFormRow"}),this.rb.getLabel("docElementShrinkToContentHeight"),"rbro_doc_element_shrink_to_content_height"),t=c("div",{class:"rbroFormField"});var jr=c("input",{id:"rbro_doc_element_shrink_to_content_height",type:"checkbox"});jr.addEventListener("change",function(Re){for(var ie=jr.checked,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"shrinkToContentHeight",ie,l.type.checkbox,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(jr),e.append(t),pe.append(e),O(e=c("div",{id:"rbro_doc_element_align_to_page_bottom_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAlignToPageBottom"),"rbro_doc_element_align_to_page_bottom"),t=c("div",{class:"rbroFormField"});var Br=c("input",{id:"rbro_doc_element_align_to_page_bottom",type:"checkbox"});Br.addEventListener("change",function(Re){for(var ie=Br.checked,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"alignToPageBottom",ie,l.type.checkbox,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(Br),e.append(t),pe.append(e),O(e=c("div",{id:"rbro_doc_element_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("docElementPattern"),"rbro_doc_element_pattern"),t=c("div",{class:"rbroFormField"}),b=c("div",{class:"rbroSplit rbroSelector"});var Rr=c("input",{id:"rbro_doc_element_pattern",autocomplete:"off"});Rr.addEventListener("input",function(Re){for(var ie=Rr.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"pattern",ie,l.type.text,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),b.append(Rr),(s=c("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Re){u.rb.getPopupWindow().show(u.rb.getPatterns(),null,"rbro_doc_element_pattern","pattern",_t.type.pattern)}),b.append(s),t.append(b),t.append(c("div",{id:"rbro_doc_element_pattern_error",class:"rbroErrorMessage"})),e.append(t),pe.append(e),O(e=c("div",{id:"rbro_doc_element_link_row",class:"rbroFormRow"}),this.rb.getLabel("docElementLink"),"rbro_doc_element_link"),t=c("div",{class:"rbroFormField"}),b=c("div",{class:"rbroSplit rbroSelector"});var Nr=c("input",{id:"rbro_doc_element_link",autocomplete:"off"});Nr.addEventListener("input",function(Re){for(var ie=Nr.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"link",ie,l.type.text,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),b.append(Nr),(s=c("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Re){var ie=u.rb.getSelectedObjects(),X=ie.length===1?ie[0]:null;u.rb.getPopupWindow().show(u.rb.getParameterItems(X,null),null,"rbro_doc_element_link","link",_t.type.parameterSet)}),b.append(s),t.append(b),t.append(c("div",{id:"rbro_doc_element_link_error",class:"rbroErrorMessage"})),e.append(t),pe.append(e),O(e=c("div",{id:"rbro_doc_element_grow_weight_row",class:"rbroFormRow"}),this.rb.getLabel("docElementGrowWeight"),"rbro_doc_element_grow_weight"),t=c("div",{class:"rbroFormField"});var ur=c("select",{id:"rbro_doc_element_grow_weight"});ur.append(c("option",{value:"0"},"-")),ur.append(c("option",{value:"1"},"1 (".concat(this.rb.getLabel("docElementGrowWeightLow"),")"))),ur.append(c("option",{value:"2"},"2")),ur.append(c("option",{value:"3"},"3 (".concat(this.rb.getLabel("docElementGrowWeightHigh"),")"))),ur.addEventListener("change",function(Re){for(var ie=ur.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"growWeight",ie,l.type.select,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(ur),t.append(c("div",{class:"rbroInfo"},this.rb.getLabel("docElementGrowWeightInfo"))),e.append(t),pe.append(e),ce.append(pe),g.append(ce);var Mr=c("div",{id:"rbro_doc_element_cs_style_section_container"}),Fr=c("div",{class:"rbroPanelSectionHeader"}),xr=c("span",{id:"rbro_doc_element_cs_style_header_icon",class:"rbroIcon-plus"});(e=c("div",{id:"rbro_doc_element_cs_style_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function(Re){if(document.getElementById("rbro_doc_element_cs_style_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_cs_style_section").classList.toggle("rbroHidden"),xr.classList.toggle("rbroIcon-plus"),xr.classList.toggle("rbroIcon-minus"),xr.classList.contains("rbroIcon-minus")){var ie=document.getElementById("rbro_doc_element_cs_style_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=ie}}),Fr.append(xr),Fr.append(c("span",{},this.rb.getLabel("docElementConditionalStyle"))),e.append(Fr),Mr.append(e);var _r=c("div",{id:"rbro_doc_element_cs_style_section",class:"rbroHidden"});O(e=c("div",{id:"rbro_doc_element_cs_condition_row",class:"rbroFormRow"}),this.rb.getLabel("docElementConditionalStyleCondition"),"rbro_doc_element_cs_condition"),t=c("div",{class:"rbroFormField"}),b=c("div",{class:"rbroSplit rbroSelector"});var Sr=c("textarea",{id:"rbro_doc_element_cs_condition",rows:1});Sr.addEventListener("input",function(Re){for(var ie=Sr.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"cs_condition",ie,l.type.text,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),ft(Sr),b.append(Sr),(s=c("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Re){var ie=u.rb.getSelectedObjects(),X=ie.length===1?ie[0]:null;u.rb.getPopupWindow().show(u.rb.getParameterItems(X,null),null,"rbro_doc_element_cs_condition","cs_condition",_t.type.parameterAppend)}),b.append(s),t.append(b),t.append(c("div",{id:"rbro_doc_element_cs_condition_error",class:"rbroErrorMessage"})),e.append(t),_r.append(e),O(e=c("div",{id:"rbro_doc_element_cs_style_id_row",class:"rbroFormRow"}),this.rb.getLabel("docElementStyle"),"rbro_doc_element_cs_style_id"),t=c("div",{class:"rbroFormField"}),this.elCsStyle=c("select",{id:"rbro_doc_element_cs_style_id"}),this.elCsStyle.addEventListener("change",function(Re){for(var ie=u.elCsStyle.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),me.addCommandsForChangedStyle(ie,"cs_",u.propertyDescriptors,X)}X.isEmpty()||u.rb.executeCommand(X)}),t.append(this.elCsStyle),e.append(t),_r.append(e),O(e=c("div",{id:"rbro_doc_element_cs_additional_rules_row",class:"rbroFormRow"}),this.rb.getLabel("docElementAdditionalRules")),t=c("div",{class:"rbroFormField"});var kr=c("button",{id:"rbro_doc_element_cs_additional_rules",class:"rbroButton rbroActionButton"});kr.append(c("span",{},this.rb.getLabel("editData"))),kr.append(c("span",{class:"rbroIcon-edit"})),kr.addEventListener("click",function(Re){var ie=u.rb.getSelectedObjects();if(ie.length===1){var X=ie[0],he=[{name:"condition",label:u.rb.getLabel("docElementConditionalStyleCondition"),type:ne.type.string,parameter:null,attributes:{multiLine:!0}},{name:"style_id",label:u.rb.getLabel("docElementStyle"),type:ne.type.string,parameter:null,attributes:{select:"style"}}],te=[];if(X.getValue("cs_additionalRules"))try{te=JSON.parse(X.getValue("cs_additionalRules"))}catch(me){}u.rb.getPopupWindow().show(null,X.getId(),"","cs_additionalRules",_t.type.data,null,null,ne.type.array,he,te)}else ie.length>1&&alert(u.rb.getLabel("docElementEditMultipleSelectionNotSupported"))}),t.append(kr),t.append(c("div",{id:"rbro_doc_element_cs_additional_rules_error",class:"rbroErrorMessage"})),e.append(t),_r.append(e);var Rn=c("div",{id:"rbro_doc_element_cs_style_settings"});vr.renderStyle(Rn,"doc_element_cs_","cs_",!1,this.controls,this.rb),_r.append(Rn),Mr.append(_r),g.append(Mr);var Or=c("div",{id:"rbro_doc_element_spreadsheet_section_container"}),Vr=c("div",{class:"rbroPanelSectionHeader"}),Pr=c("span",{id:"rbro_doc_element_spreadsheet_header_icon",class:"rbroIcon-plus"});(e=c("div",{id:"rbro_doc_element_spreadsheet_header",class:"rbroFormRow rbroPanelSection"})).addEventListener("click",function(Re){if(document.getElementById("rbro_doc_element_spreadsheet_header").classList.toggle("rbroPanelSectionHeaderOpen"),document.getElementById("rbro_doc_element_spreadsheet_section").classList.toggle("rbroHidden"),Pr.classList.toggle("rbroIcon-plus"),Pr.classList.toggle("rbroIcon-minus"),Pr.classList.contains("rbroIcon-minus")){var ie=document.getElementById("rbro_doc_element_spreadsheet_section_container").offsetTop;document.getElementById("rbro_detail_panel").scrollTop=ie}}),Vr.append(Pr),Vr.append(c("span",{},this.rb.getLabel("docElementSpreadsheet"))),e.append(Vr),Or.append(e);var or=c("div",{id:"rbro_doc_element_spreadsheet_section",class:"rbroHidden"});O(e=c("div",{id:"rbro_doc_element_spreadsheet_hide_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetHide"),"rbro_doc_element_spreadsheet_hide"),t=c("div",{class:"rbroFormField"});var qr=c("input",{id:"rbro_doc_element_spreadsheet_hide",type:"checkbox"});qr.addEventListener("change",function(Re){for(var ie=qr.checked,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"spreadsheet_hide",ie,l.type.checkbox,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(qr),e.append(t),or.append(e),O(e=c("div",{id:"rbro_doc_element_spreadsheet_column_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetColumn"),"rbro_doc_element_spreadsheet_column"),t=c("div",{class:"rbroFormField"});var wr=c("input",{id:"rbro_doc_element_spreadsheet_column",type:"number",autocomplete:"off"});wr.addEventListener("input",function(Re){var ie=wr.value;ie!==""&&(ie=H(ie,1,99)),ie!==wr.value&&(wr.value=ie);for(var X=u.rb.getSelectedObjects(),he=!1,te=X.length-1;te>=0;te--)if(X[te].getValue("spreadsheet_column")!==ie){he=!0;break}if(he){for(var me=new be("Set value",u.rb),pt=X.length-1;pt>=0;pt--){var yt=X[pt];me.addSelection(yt.getId()),me.addCommand(new l(yt.getId(),"spreadsheet_column",ie,l.type.text,u.rb))}me.isEmpty()||u.rb.executeCommand(me)}}),t.append(wr),t.append(c("div",{id:"rbro_doc_element_spreadsheet_column_error",class:"rbroErrorMessage"})),e.append(t),or.append(e),O(e=c("div",{id:"rbro_doc_element_spreadsheet_colspan_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetColspan"),"rbro_doc_element_spreadsheet_colspan"),t=c("div",{class:"rbroFormField"});var zr=c("input",{id:"rbro_doc_element_spreadsheet_colspan",type:"number",autocomplete:"off"});zr.addEventListener("input",function(Re){for(var ie=zr.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"spreadsheet_colspan",ie,l.type.text,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(zr),t.append(c("div",{id:"rbro_doc_element_spreadsheet_colspan_error",class:"rbroErrorMessage"})),e.append(t),or.append(e),O(e=c("div",{id:"rbro_doc_element_spreadsheet_add_empty_row_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetAddEmptyRow"),"rbro_doc_element_spreadsheet_add_empty_row"),t=c("div",{class:"rbroFormField"});var Hr=c("input",{id:"rbro_doc_element_spreadsheet_add_empty_row",type:"checkbox"});Hr.addEventListener("change",function(Re){for(var ie=Hr.checked,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"spreadsheet_addEmptyRow",ie,l.type.checkbox,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(Hr),e.append(t),or.append(e),O(e=c("div",{id:"rbro_doc_element_spreadsheet_type_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetType"),"rbro_doc_element_spreadsheet_type"),t=c("div",{class:"rbroFormField"});var ar=c("select",{id:"rbro_doc_element_spreadsheet_type"});ar.append(c("option",{value:""},this.rb.getLabel("docElementSpreadsheetTypeNone"))),ar.append(c("option",{value:"number"},this.rb.getLabel("docElementSpreadsheetTypeNumber"))),ar.append(c("option",{value:"date"},this.rb.getLabel("docElementSpreadsheetTypeDate"))),ar.addEventListener("change",function(Re){for(var ie=ar.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"spreadsheet_type",ie,l.type.text,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(ar),t.append(c("div",{id:"rbro_doc_element_spreadsheet_type_error",class:"rbroErrorMessage"})),e.append(t),or.append(e),O(e=c("div",{id:"rbro_doc_element_spreadsheet_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetPattern"),"rbro_doc_element_spreadsheet_pattern"),t=c("div",{class:"rbroFormField"}),b=c("div",{class:"rbroSplit rbroSelector"});var Ur=c("input",{id:"rbro_doc_element_spreadsheet_pattern",autocomplete:"off"});Ur.addEventListener("input",function(Re){for(var ie=Ur.value,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"spreadsheet_pattern",ie,l.type.text,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),b.append(Ur),(s=c("div",{class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(Re){var ie;ie=ar.value==="date"?u.rb.getProperty("patternDates"):ar.value==="number"?u.rb.getProperty("patternNumbers"):u.rb.getPatterns(),u.rb.getPopupWindow().show(ie,null,"rbro_doc_element_spreadsheet_pattern","spreadsheet_pattern",_t.type.pattern)}),b.append(s),t.append(b),t.append(c("div",{id:"rbro_doc_element_spreadsheet_pattern_error",class:"rbroErrorMessage"})),e.append(t),or.append(e),O(e=c("div",{id:"rbro_doc_element_spreadsheet_text_wrap_row",class:"rbroFormRow"}),this.rb.getLabel("docElementSpreadsheetTextWrap"),"rbro_doc_element_spreadsheet_text_wrap"),t=c("div",{class:"rbroFormField"});var Wr=c("input",{id:"rbro_doc_element_spreadsheet_text_wrap",type:"checkbox"});Wr.addEventListener("change",function(Re){for(var ie=Wr.checked,X=new be("Set value",u.rb),he=u.rb.getSelectedObjects(),te=he.length-1;te>=0;te--){var me=he[te];X.addSelection(me.getId()),X.addCommand(new l(me.getId(),"spreadsheet_textWrap",ie,l.type.checkbox,u.rb))}X.isEmpty()||u.rb.executeCommand(X)}),t.append(Wr),e.append(t),or.append(e),Or.append(or),this.rb.getProperty("enableSpreadsheet")||(Or.style.display="none"),g.append(Or),document.getElementById("rbro_detail_panel").append(g),this.rb.getProperty("showPlusFeatures")&&this.setupRichText()}},{key:"renderStyleSelect",value:function(){T(this.elStyle,null,this.rb),T(this.elCsStyle,null,this.rb)}},{key:"setupRichText",value:function(){var e=this,t=fr().import("formats/link"),s=t.sanitize;t.sanitize=function(fe){var we=fe;return/^\w+:/.test(we)||we.startsWith("${")?we:(/^https?:/.test(we)||(we=we.startsWith("/")?"http:"+we:"http://"+we),s.call(this,we))},document.getElementById("rbro_doc_element_rich_text_content_toolbar_parameter").addEventListener("click",function(fe){var we=e.rb.getSelectedObjects(),Se=we.length===1?we[0]:null;e.rb.getPopupWindow().show(e.rb.getParameterItems(Se,null),null,"rbro_doc_element_rich_text_content","richTextContent",_t.type.parameterAppend,e.quill)});var u,g=fr().import("formats/font"),E=[],b=At(this.rb.getFonts());try{for(b.s();!(u=b.n()).done;){var D=u.value;E.push(D.value)}}catch(fe){b.e(fe)}finally{b.f()}g.whitelist=E,fr().register(g,!0);var N,Z=fr().import("attributors/style/size"),J=[],le=At(this.rb.getProperty("fontSizes"));try{for(le.s();!(N=le.n()).done;){var Q=N.value;J.push(Q+"px")}}catch(fe){le.e(fe)}finally{le.f()}Z.whitelist=J,fr().register(Z,!0);var ue=new(fr())("#rbro_doc_element_rich_text_content",{modules:{toolbar:"#rbro_doc_element_rich_text_content_toolbar"},placeholder:"",theme:"snow"});ue.getModule("toolbar").addHandler("color",function(fe){fe==="clear-color"?ue.format("color",""):ue.format("color",fe)}),ue.getModule("toolbar").addHandler("background",function(fe){fe==="clear-color"?ue.format("background",""):ue.format("background",fe)});var Ie=this.rb;ue.on("text-change",function(fe,we,Se){for(var Le=ue.getContents(),Ae=ue.root.innerHTML,Be=new be("Set value",Ie),$e=Ie.getSelectedObjects(),Fe=$e.length-1;Fe>=0;Fe--){var Ke=$e[Fe];Be.addSelection(Ke.getId()),Be.addCommand(new l(Ke.getId(),"richTextContent",Le,l.type.richText,Ie)),Be.addCommand(new l(Ke.getId(),"richTextHtml",Ae,l.type.text,Ie))}Be.isEmpty()||Ie.executeCommand(Be)}),this.quill=ue}},{key:"destroy",value:function(){this.controls.color.destroy(),vr.destroyStyle("",this.controls),vr.destroyStyle("cs_",this.controls)}},{key:"updateDisplay",value:function(e){var t,s=this.rb.getSelectedObjects(),u={},g={},E=At(s);try{for(E.s();!(t=E.n()).done;){var b,D=At(t.value.getProperties());try{for(D.s();!(b=D.n()).done;){var N=b.value;N in g?g[N]+=1:g[N]=1}}catch(ot){D.e(ot)}finally{D.f()}}}catch(ot){E.e(ot)}finally{E.f()}for(var Z in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(Z)){var J=this.propertyDescriptors[Z],le="";if("visibleIf"in J&&(le=J.visibleIf),e===null||Z===e||le&&J.visibleIfFields.includes(e)){var Q=!1;if(Z in g)if(g[Z]===s.length){var ue,Ie=null,fe=!1,we=At(s);try{for(we.s();!(ue=we.n()).done;){var Se=ue.value,Le=Se.getUpdateValue(Z,Se.getValue(Z));if(Ie===null)Ie=Le;else if(J.type===l.type.richText){if(Le&&Ie&&new(Sn())(Le).diff(new(Sn())(Ie)).ops.length>0){fe=!0;break}}else if(Le!==Ie){fe=!0;break}}}catch(ot){we.e(ot)}finally{we.f()}if(fe&&J.type===l.type.select&&J.allowEmpty&&(Ie=""),n(v(r.prototype),"setValue",this).call(this,J,Ie,fe),"section"in J){var Ae=J.section;Ae in u?u[Ae]+=1:u[Ae]=1}Q=!0}else delete g[Z];if(Q&&le){var Be,$e=At(s);try{for($e.s();!(Be=$e.n()).done;)if(!$(le,Be.value)){Q=!1,delete g[Z];break}}catch(ot){$e.e(ot)}finally{$e.f()}}if("singleRowProperty"in J&&!J.singleRowProperty){var Fe="rbro_doc_element_".concat(J.fieldId);Q?document.getElementById(Fe).classList.remove("rbroHidden"):document.getElementById(Fe).classList.add("rbroHidden")}else{var Ke=this.getRowId(J);Q?document.getElementById(Ke).classList.remove("rbroHidden"):document.getElementById(Ke).classList.add("rbroHidden")}}}if(e===null||this.visibleIfFields.includes(e)){for(var Qe in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(Qe)){var We=this.propertyDescriptors[Qe];if("rowId"in We&&"rowProperties"in We){var ze,Ce=0,ae=At(We.rowProperties);try{for(ae.s();!(ze=ae.n()).done;)ze.value in g&&Ce++}catch(ot){ae.e(ot)}finally{ae.f()}if("labelId"in We){var Ne=We.defaultLabel;if(Ce===1){var Je,De=At(We.rowProperties);try{for(De.s();!(Je=De.n()).done;){var it=Je.value;if(it in g){Ne=this.propertyDescriptors[it].singlePropertyLabel;break}}}catch(ot){De.e(ot)}finally{De.f()}}document.getElementById(We.labelId).textContent=this.rb.getLabel(Ne)+":"}Ce>0?document.getElementById(We.rowId).classList.remove("rbroHidden"):document.getElementById(We.rowId).classList.add("rbroHidden")}}for(var rt=0,nt=["style","print","cs_style","spreadsheet"];rt<nt.length;rt++){var ct=nt[rt];ct in u?document.getElementById("rbro_doc_element_".concat(ct,"_section_container")).classList.remove("rbroHidden"):document.getElementById("rbro_doc_element_".concat(ct,"_section_container")).classList.add("rbroHidden")}}r.updateAutosizeInputs(e)}},{key:"show",value:function(){this.renderStyleSelect(),n(v(r.prototype),"show",this).call(this)}},{key:"notifyEvent",value:function(e,t,s){e instanceof ye?(t===i.operation.add||t===i.operation.remove||t===i.operation.move||t===i.operation.change&&s==="name")&&this.renderStyleSelect():n(v(r.prototype),"notifyEvent",this).call(this,e,t,s)}}],[{key:"updateAutosizeInputs",value:function(e){e!==null&&e!=="dataSource"||ft.update(document.getElementById("rbro_doc_element_data_source")),e!==null&&e!=="content"||ft.update(document.getElementById("rbro_doc_element_content")),e!==null&&e!=="source"||ft.update(document.getElementById("rbro_doc_element_source")),e!==null&&e!=="groupExpression"||ft.update(document.getElementById("rbro_doc_element_group_expression")),e!==null&&e!=="printIf"||ft.update(document.getElementById("rbro_doc_element_print_if")),e!==null&&e!=="cs_condition"||ft.update(document.getElementById("rbro_doc_element_cs_condition"))}}]),r}(Ir);function fo(w,r,e){return r=v(r),_(w,Pn()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function Pn(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(Pn=function(){return!!w})()}var mo=function(w){function r(e,t){var s;return K(this,r),(s=fo(this,r,["rbro_document_properties",Nt,e,t])).propertyDescriptors={pageFormat:{type:l.type.text,fieldId:"page_format",rowId:"rbro_document_properties_page_row",errorMsgId:"rbro_document_properties_page_error"},pageWidth:{type:l.type.text,fieldId:"page_width",rowId:"rbro_document_properties_page_row",errorMsgId:"rbro_document_properties_page_error"},pageHeight:{type:l.type.text,fieldId:"page_height",rowId:"rbro_document_properties_page_row",errorMsgId:"rbro_document_properties_page_error"},unit:{type:l.type.select,fieldId:"unit",rowId:"rbro_document_properties_page_row",errorMsgId:"rbro_document_properties_page_error"},orientation:{type:l.type.select,fieldId:"orientation"},contentHeight:{type:l.type.text,fieldId:"content_height"},marginLeft:{type:l.type.text,fieldId:"page_margin_left"},marginTop:{type:l.type.text,fieldId:"page_margin_top"},marginRight:{type:l.type.text,fieldId:"page_margin_right"},marginBottom:{type:l.type.text,fieldId:"page_margin_bottom"},header:{type:l.type.checkbox,fieldId:"header"},headerSize:{type:l.type.text,fieldId:"header_size"},headerDisplay:{type:l.type.select,fieldId:"header_display"},footer:{type:l.type.checkbox,fieldId:"footer"},footerSize:{type:l.type.text,fieldId:"footer_size"},footerDisplay:{type:l.type.select,fieldId:"footer_display"},patternLocale:{type:l.type.select,fieldId:"pattern_locale"},patternCurrencySymbol:{type:l.type.text,fieldId:"pattern_currency_symbol"},patternNumberGroupSymbol:{type:l.type.text,fieldId:"pattern_number_group_symbol"}},s}return h(r,w),y(r,[{key:"render",value:function(e){var t=this,s=c("div",{id:"rbro_document_properties_panel",class:"rbroHidden"}),u=c("div",{id:"rbro_document_properties_page_row",class:"rbroFormRow"});O(u,this.rb.getLabel("pageFormat"),"rbro_document_properties_page_format");var g=c("div",{class:"rbroFormField"}),E=c("select",{id:"rbro_document_properties_page_format"});E.append(c("option",{value:"A4"},this.rb.getLabel("pageFormatA4"))),E.append(c("option",{value:"A5"},this.rb.getLabel("pageFormatA5"))),E.append(c("option",{value:"letter"},this.rb.getLabel("pageFormatLetter"))),E.append(c("option",{value:"user_defined"},this.rb.getLabel("pageFormatUserDefined"))),E.addEventListener("change",function(fe){var we=t.rb.getSelectedObject();if(we!==null){var Se=new l(we.getId(),"pageFormat",E.value,l.type.select,t.rb);t.rb.executeCommand(Se)}}),g.append(E);var b=c("div",{id:"rbro_document_properties_page_size_row",class:"rbroTripleSplit"}),D=c("input",{id:"rbro_document_properties_page_width",maxlength:"5",type:"number",autocomplete:"off"});D.addEventListener("change",function(fe){var we=t.rb.getSelectedObject();if(we!==null){var Se=new l(we.getId(),"pageWidth",D.value,l.type.select,t.rb);t.rb.executeCommand(Se)}}),j(D),b.append(D);var N=c("input",{id:"rbro_document_properties_page_height",maxlength:"5",type:"number",autocomplete:"off"});N.addEventListener("change",function(fe){var we=t.rb.getSelectedObject();if(we!==null){var Se=new l(we.getId(),"pageHeight",N.value,l.type.text,t.rb);t.rb.executeCommand(Se)}}),j(N),b.append(N);var Z=c("select",{id:"rbro_document_properties_unit"});Z.append(c("option",{value:"mm"},"mm")),Z.append(c("option",{value:"inch"},"inch")),b.addEventListener("change",function(fe){var we=t.rb.getSelectedObject();if(we!==null){var Se=new l(we.getId(),"unit",Z.value,l.type.select,t.rb);t.rb.executeCommand(Se)}}),b.append(Z),g.append(b),g.append(c("div",{id:"rbro_document_properties_page_error",class:"rbroErrorMessage"})),u.append(g),s.append(u),O(u=c("div",{class:"rbroFormRow"}),this.rb.getLabel("orientation"),"rbro_document_properties_orientation"),g=c("div",{class:"rbroFormField"});var J=c("select",{id:"rbro_document_properties_orientation"});J.append(c("option",{value:"portrait"},this.rb.getLabel("orientationPortrait"))),J.append(c("option",{value:"landscape"},this.rb.getLabel("orientationLandscape"))),J.addEventListener("change",function(fe){var we=t.rb.getSelectedObject();if(we!==null){var Se=new l(we.getId(),"orientation",J.value,l.type.select,t.rb);t.rb.executeCommand(Se)}}),g.append(J),u.append(g),s.append(u),O(u=c("div",{class:"rbroFormRow"}),this.rb.getLabel("contentHeight"),"rbro_document_properties_content_height"),g=c("div",{class:"rbroFormField"});var le=c("input",{id:"rbro_document_properties_content_height",type:"number",autocomplete:"off"});le.addEventListener("change",function(fe){var we=t.rb.getSelectedObject();if(we!==null){var Se=new l(we.getId(),"contentHeight",le.value,l.type.text,t.rb);t.rb.executeCommand(Se)}}),j(le),g.append(le),g.append(c("div",{class:"rbroInfo"},this.rb.getLabel("contentHeightInfo"))),u.append(g),s.append(u),this.renderMarginControls(s),this.renderHeaderFooter(s),O(u=c("div",{class:"rbroFormRow"}),this.rb.getLabel("patternLocale"),"rbro_document_properties_pattern_locale"),g=c("div",{class:"rbroFormField"});var Q=c("select",{id:"rbro_document_properties_pattern_locale"});Q.append(c("option",{value:"de"},"de")),Q.append(c("option",{value:"en"},"en")),Q.append(c("option",{value:"es"},"es")),Q.append(c("option",{value:"fr"},"fr")),Q.append(c("option",{value:"it"},"it")),Q.addEventListener("change",function(fe){var we=t.rb.getSelectedObject();if(we!==null){var Se=new l(we.getId(),"patternLocale",Q.value,l.type.select,t.rb);t.rb.executeCommand(Se)}}),g.append(Q),u.append(g),s.append(u),O(u=c("div",{class:"rbroFormRow"}),this.rb.getLabel("patternCurrencySymbol"),"rbro_document_properties_pattern_currency_symbol"),g=c("div",{class:"rbroFormField"});var ue=c("input",{id:"rbro_document_properties_pattern_currency_symbol",autocomplete:"off"});ue.addEventListener("change",function(fe){var we=t.rb.getSelectedObject();if(we!==null){var Se=new l(we.getId(),"patternCurrencySymbol",ue.value,l.type.text,t.rb);t.rb.executeCommand(Se)}}),g.append(ue),u.append(g),s.append(u),O(u=c("div",{class:"rbroFormRow"}),this.rb.getLabel("patternNumberGroupSymbol"),"rbro_document_properties_pattern_number_group_symbol"),g=c("div",{class:"rbroFormField"});var Ie=c("input",{id:"rbro_document_properties_pattern_number_group_symbol",maxlength:"1",autocomplete:"off"});Ie.addEventListener("change",function(fe){var we=t.rb.getSelectedObject();if(we!==null){var Se=new l(we.getId(),"patternNumberGroupSymbol",Ie.value,l.type.text,t.rb);t.rb.executeCommand(Se)}}),g.append(Ie),g.append(c("div",{class:"rbroInfo"},this.rb.getLabel("patternNumberGroupSymbolInfo"))),u.append(g),s.append(u),document.getElementById("rbro_detail_panel").append(s)}},{key:"renderMarginControls",value:function(e){var t=this,s=c("div",{class:"rbroFormRow"});O(s,this.rb.getLabel("pageMargins"),"rbro_document_properties_page_margin_top");var u=c("div",{class:"rbroFormField rbroSmallInput"}),g=c("div",{class:"rbroColumnCenter"}),E=c("input",{id:"rbro_document_properties_page_margin_top",placeholder:this.rb.getLabel("orientationTop"),type:"number",autocomplete:"off"});E.addEventListener("change",function(le){var Q=t.rb.getSelectedObject();if(Q!==null){var ue=new l(Q.getId(),"marginTop",E.value,l.type.text,t.rb);t.rb.executeCommand(ue)}}),j(E),g.append(E),u.append(g);var b=c("div",{class:"rbroSplit"}),D=c("input",{id:"rbro_document_properties_page_margin_left",placeholder:this.rb.getLabel("orientationLeft"),type:"number",autocomplete:"off"});D.addEventListener("change",function(le){var Q=t.rb.getSelectedObject();if(Q!==null){var ue=new l(Q.getId(),"marginLeft",D.value,l.type.text,t.rb);t.rb.executeCommand(ue)}}),j(D),b.append(D);var N=c("input",{id:"rbro_document_properties_page_margin_right",placeholder:this.rb.getLabel("orientationRight"),type:"number",autocomplete:"off"});N.addEventListener("change",function(le){var Q=t.rb.getSelectedObject();if(Q!==null){var ue=new l(Q.getId(),"marginRight",N.value,l.type.text,t.rb);t.rb.executeCommand(ue)}}),j(N),b.append(N),u.append(b);var Z=c("div",{class:"rbroColumnCenter"}),J=c("input",{id:"rbro_document_properties_page_margin_bottom",placeholder:this.rb.getLabel("orientationBottom"),type:"number",autocomplete:"off"});J.addEventListener("change",function(le){var Q=t.rb.getSelectedObject();if(Q!==null){var ue=new l(Q.getId(),"marginBottom",J.value,l.type.text,t.rb);t.rb.executeCommand(ue)}}),j(J),Z.append(J),u.append(Z),s.append(u),e.append(s)}},{key:"renderHeaderFooter",value:function(e){var t=this,s=c("div",{class:"rbroFormRowContainer"}),u=c("div",{class:"rbroFormRow"});O(u,this.rb.getLabel("header"),"rbro_document_properties_header");var g=c("div",{class:"rbroFormField"}),E=c("label",{class:"switch-light switch-material"}),b=c("input",{id:"rbro_document_properties_header",type:"checkbox"});b.addEventListener("change",function(Le){var Ae=t.rb.getSelectedObject();if(Ae!==null){var Be=new l(Ae.getId(),"header",b.checked,l.type.checkbox,t.rb);t.rb.executeCommand(Be)}}),E.append(b);var D=c("span");D.append(c("span")),D.append(c("span")),D.append(c("a")),E.append(D),g.append(E),u.append(g),s.append(u);var N=c("div",{id:"rbro_document_properties_header_settings"});O(u=c("div",{class:"rbroFormRow"}),this.rb.getLabel("headerSize"),"rbro_document_properties_header_size"),g=c("div",{class:"rbroFormField"});var Z=c("input",{id:"rbro_document_properties_header_size",type:"number",autocomplete:"off"});Z.addEventListener("change",function(Le){var Ae=t.rb.getSelectedObject();if(Ae!==null){var Be=new l(Ae.getId(),"headerSize",Z.value,l.type.text,t.rb);t.rb.executeCommand(Be)}}),j(Z),g.append(Z),u.append(g),N.append(u),O(u=c("div",{class:"rbroFormRow"}),this.rb.getLabel("headerDisplay"),"rbro_document_properties_header_display"),g=c("div",{class:"rbroFormField"});var J=c("select",{id:"rbro_document_properties_header_display"});J.append(c("option",{value:"always"},this.rb.getLabel("headerFooterDisplayAlways"))),J.append(c("option",{value:"not_on_first_page"},this.rb.getLabel("headerFooterDisplayNotOnFirstPage"))),J.addEventListener("change",function(Le){var Ae=t.rb.getSelectedObject();if(Ae!==null){var Be=new l(Ae.getId(),"headerDisplay",J.value,l.type.select,t.rb);t.rb.executeCommand(Be)}}),g.append(J),u.append(g),N.append(u),s.append(N),e.append(s);var le=c("div",{class:"rbroFormRowContainer"});O(u=c("div",{class:"rbroFormRow"}),this.rb.getLabel("footer"),"rbro_document_properties_footer"),g=c("div",{class:"rbroFormField"});var Q=c("label",{class:"switch-light switch-material"}),ue=c("input",{id:"rbro_document_properties_footer",type:"checkbox"});ue.addEventListener("change",function(Le){var Ae=t.rb.getSelectedObject();if(Ae!==null){var Be=new l(Ae.getId(),"footer",ue.checked,l.type.checkbox,t.rb);t.rb.executeCommand(Be)}}),Q.append(ue);var Ie=c("span");Ie.append(c("span")),Ie.append(c("span")),Ie.append(c("a")),Q.append(Ie),g.append(Q),u.append(g),le.append(u);var fe=c("div",{id:"rbro_document_properties_footer_settings"});O(u=c("div",{class:"rbroFormRow"}),this.rb.getLabel("footerSize"),"rbro_document_properties_footer_size"),g=c("div",{class:"rbroFormField"});var we=c("input",{id:"rbro_document_properties_footer_size",type:"number",autocomplete:"off"});we.addEventListener("change",function(Le){var Ae=t.rb.getSelectedObject();if(Ae!==null){var Be=new l(Ae.getId(),"footerSize",we.value,l.type.text,t.rb);t.rb.executeCommand(Be)}}),j(we),g.append(we),u.append(g),fe.append(u),O(u=c("div",{class:"rbroFormRow"}),this.rb.getLabel("footerDisplay"),"rbro_document_properties_footer_display"),g=c("div",{class:"rbroFormField"});var Se=c("select",{id:"rbro_document_properties_footer_display"});Se.append(c("option",{value:"always"},this.rb.getLabel("headerFooterDisplayAlways"))),Se.append(c("option",{value:"not_on_first_page"},this.rb.getLabel("headerFooterDisplayNotOnFirstPage"))),Se.addEventListener("change",function(Le){var Ae=t.rb.getSelectedObject();if(Ae!==null){var Be=new l(Ae.getId(),"footerDisplay",Se.value,l.type.select,t.rb);t.rb.executeCommand(Be)}}),g.append(Se),u.append(g),fe.append(u),le.append(fe),e.append(le)}},{key:"updateDisplay",value:function(e){var t=this.rb.getSelectedObject();if(t!==null&&t instanceof Nt){for(var s in this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(s)&&(e===null||s===e)){var u=this.propertyDescriptors[s],g=t.getValue(s);n(v(r.prototype),"setValue",this).call(this,u,g,!1)}r.updateVisibileRows(t,e)}}}],[{key:"updateVisibileRows",value:function(e,t){t!==null&&t!=="pageFormat"||(e.getValue("pageFormat")===Nt.pageFormat.userDefined?document.getElementById("rbro_document_properties_page_size_row").style.display="flex":document.getElementById("rbro_document_properties_page_size_row").style.display="none"),t!==null&&t!=="header"||(e.getValue("header")?document.getElementById("rbro_document_properties_header_settings").style.display="block":document.getElementById("rbro_document_properties_header_settings").style.display="none"),t!==null&&t!=="footer"||(e.getValue("footer")?document.getElementById("rbro_document_properties_footer_settings").style.display="block":document.getElementById("rbro_document_properties_footer_settings").style.display="none")}}]),r}(Ir),go=function(){function w(r,e){K(this,w),this.rootElement=r,this.rb=e}return y(w,[{key:"render",value:function(){var r=c("div",{id:"rbro_empty_detail_panel",class:"rbroEmptyDetailPanel rbroHidden"});r.append(c("div",{class:"rbroLogo"})),document.getElementById("rbro_detail_panel").append(r)}},{key:"destroy",value:function(){}},{key:"show",value:function(r){document.getElementById("rbro_empty_detail_panel").classList.remove("rbroHidden")}},{key:"hide",value:function(){document.getElementById("rbro_empty_detail_panel").classList.add("rbroHidden")}},{key:"isKeyEventDisabled",value:function(){return!1}},{key:"notifyEvent",value:function(r,e){}},{key:"updateErrors",value:function(){}}]),w}();function An(w,r){var e=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!e){if(Array.isArray(w)||(e=function(b,D){if(b){if(typeof b=="string")return Tn(b,D);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?Tn(b,D):void 0}}(w))||r&&w&&typeof w.length=="number"){e&&(w=e);var t=0,s=function(){};return{s,n:function(){return t>=w.length?{done:!0}:{done:!1,value:w[t++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,g=!0,E=!1;return{s:function(){e=e.call(w)},n:function(){var b=e.next();return g=b.done,b},e:function(b){E=!0,u=b},f:function(){try{g||e.return==null||e.return()}finally{if(E)throw u}}}}function Tn(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}function yo(w,r,e){return r=v(r),_(w,Dn()?Reflect.construct(r,e||[],v(w).constructor):r.apply(w,e))}function Dn(){try{var w=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch(r){}return(Dn=function(){return!!w})()}var bo=function(w){function r(e,t){var s;return K(this,r),(s=yo(this,r,["rbro_parameter",ne,e,t])).propertyDescriptors={name:{type:l.type.text,fieldId:"name"},type:{type:l.type.select,fieldId:"type"},arrayItemType:{type:l.type.select,fieldId:"array_item_type"},eval:{type:l.type.checkbox,fieldId:"eval"},nullable:{type:l.type.checkbox,fieldId:"nullable"},pattern:{type:l.type.text,fieldId:"pattern"},expression:{type:l.type.text,fieldId:"expression"},testData:{type:l.type.text,fieldId:"test_data"},testDataBoolean:{type:l.type.checkbox,fieldId:"test_data_boolean"},testDataImage:{type:l.type.file,fieldId:"test_data_image",rowId:"rbro_parameter_test_data_image_row",singleRowProperty:!1,rowProperties:["testDataImage","testDataImageFilename"]},testDataImageFilename:{type:l.type.filename,fieldId:"test_data_image_filename",rowId:"rbro_parameter_test_data_image_row",singleRowProperty:!1},testDataRichText:{type:l.type.text,fieldId:"test_data_rich_text"}},s.parameterTypeOptions=[],s}return h(r,w),y(r,[{key:"render",value:function(e){var t=this,s=c("div",{id:"rbro_parameter_panel",class:"rbroHidden"}),u=c("div",{id:"rbro_parameter_name_row",class:"rbroFormRow"});O(u,this.rb.getLabel("parameterName"),"rbro_parameter_name");var g=c("div",{class:"rbroFormField"}),E=c("input",{id:"rbro_parameter_name",autocomplete:"off"});E.addEventListener("input",function(ze){var Ce=t.rb.getSelectedObject();if(Ce!==null){var ae=E.value;if(ae!==Ce.getName()){var Ne=new be("Rename parameter"),Je=new l(Ce.getId(),"name",ae,l.type.text,t.rb);Ne.addCommand(Je);for(var De=[],it=null,rt=Ce.getParent();rt!==null;)it=rt,De.unshift(it),rt=it.getParent();Ce.addUpdateTestDataCmdForChangedParameterName(ae,De,Ne);var nt=null;if((nt=it!==null?it.getPanelItem():t.rb.getMainPanel().getParametersItem())!==null&&nt.getChildByNameExclude(Ce.getName(),Ce)===null&&nt.getChildByNameExclude(ae,Ce)===null){var ct,ot=An(t.rb.getDocElements(!0));try{for(ot.s();!(ct=ot.n()).done;)ct.value.addCommandsForChangedParameterName(Ce,ae,Ne)}catch(mt){ot.e(mt)}finally{ot.f()}var wt,ht=An(t.rb.getParameters());try{for(ht.s();!(wt=ht.n()).done;)wt.value.addCommandsForChangedParameterName(Ce,ae,Ne)}catch(mt){ht.e(mt)}finally{ht.f()}}t.rb.executeCommand(Ne)}}}),g.append(E),g.append(c("div",{id:"rbro_parameter_name_error",class:"rbroErrorMessage"})),u.append(g),s.append(u),O(u=c("div",{id:"rbro_parameter_type_row",class:"rbroFormRow"}),this.rb.getLabel("parameterType"),"rbro_parameter_type"),g=c("div",{class:"rbroFormField"});var b=c("select",{id:"rbro_parameter_type"});if(b.addEventListener("change",function(ze){var Ce=t.rb.getSelectedObject();if(Ce!==null){var ae=new be("Set parameter type"),Ne=b.value,Je=new l(Ce.getId(),"type",Ne,l.type.select,t.rb);ae.addCommand(Je),Ce.addCommandsForChangedParameterType(Ne,ae),t.rb.executeCommand(ae)}}),g.append(b),g.append(c("div",{id:"rbro_parameter_type_error",class:"rbroErrorMessage"})),this.rb.getProperty("showPlusFeaturesInfo")){var D=c("div",{id:"rbro_parameter_type_nested_plus_info",class:"rbroInfo"});D.innerHTML=this.rb.getLabel("plusFeatureInfoNestedParameter"),g.append(D)}u.append(g),s.append(u),O(u=c("div",{id:"rbro_parameter_array_item_type_row",class:"rbroFormRow"}),this.rb.getLabel("parameterArrayItemType"),"rbro_parameter_array_item_type_row"),g=c("div",{class:"rbroFormField"});var N=c("select",{id:"rbro_parameter_array_item_type"});N.append(c("option",{value:"string"},this.rb.getLabel("parameterTypeString"))),N.append(c("option",{value:"number"},this.rb.getLabel("parameterTypeNumber"))),N.append(c("option",{value:"boolean"},this.rb.getLabel("parameterTypeBoolean"))),N.append(c("option",{value:"date"},this.rb.getLabel("parameterTypeDate"))),this.rb.getProperty("showPlusFeatures")&&N.append(c("option",{value:"rich_text"},this.rb.getLabel("parameterTypeRichText"))),N.addEventListener("change",function(ze){var Ce=t.rb.getSelectedObject();if(Ce!==null){var ae=new l(Ce.getId(),"arrayItemType",N.value,l.type.select,t.rb);t.rb.executeCommand(ae)}}),g.append(N),g.append(c("div",{id:"rbro_parameter_array_item_type_error",class:"rbroErrorMessage"})),u.append(g),s.append(u);var Z={};this.rb.getProperty("adminMode")||(Z.style="display: none");var J=c("div",Z);O(u=c("div",{id:"rbro_parameter_eval_row",class:"rbroFormRow"}),this.rb.getLabel("parameterEval"),"rbro_parameter_eval"),g=c("div",{class:"rbroFormField"});var le=c("input",{id:"rbro_parameter_eval",type:"checkbox"});le.addEventListener("change",function(ze){var Ce=t.rb.getSelectedObject();if(Ce!==null){var ae=new l(Ce.getId(),"eval",le.checked,l.type.checkbox,t.rb);t.rb.executeCommand(ae)}}),g.append(le),u.append(g),J.append(u),s.append(J),O(u=c("div",{id:"rbro_parameter_nullable_row",class:"rbroFormRow"}),this.rb.getLabel("parameterNullable"),"rbro_parameter_nullable"),g=c("div",{class:"rbroFormField"});var Q=c("input",{id:"rbro_parameter_nullable",type:"checkbox"});Q.addEventListener("change",function(ze){var Ce=t.rb.getSelectedObject();if(Ce!==null){var ae=new l(Ce.getId(),"nullable",Q.checked,l.type.checkbox,t.rb);t.rb.executeCommand(ae)}}),g.append(Q),u.append(g),s.append(u),O(u=c("div",{id:"rbro_parameter_pattern_row",class:"rbroFormRow"}),this.rb.getLabel("parameterPattern"),"rbro_parameter_pattern"),g=c("div",{class:"rbroFormField"});var ue=c("div",{class:"rbroSplit rbroSelector"}),Ie=c("input",{id:"rbro_parameter_pattern",autocomplete:"off"});Ie.addEventListener("input",function(ze){var Ce=t.rb.getSelectedObject();if(Ce!==null){var ae=new l(Ce.getId(),"pattern",Ie.value,l.type.text,t.rb);t.rb.executeCommand(ae)}}),ue.append(Ie);var fe=c("div",{class:"rbroButton rbroRoundButton rbroIcon-select"});fe.addEventListener("click",function(ze){var Ce=t.rb.getSelectedObject();if(Ce!==null){var ae,Ne=Ce.getValue("type");ae=(Ne===ne.type.simpleArray?Ce.getValue("arrayItemType"):Ne)===ne.type.date?t.rb.getProperty("patternDates"):t.rb.getProperty("patternNumbers"),t.rb.getPopupWindow().show(ae,Ce.getId(),"rbro_parameter_pattern","pattern",_t.type.pattern)}}),ue.append(fe),g.append(ue),g.append(c("div",{id:"rbro_parameter_pattern_error",class:"rbroErrorMessage"})),u.append(g),s.append(u),O(u=c("div",{id:"rbro_parameter_expression_row",class:"rbroFormRow"}),this.rb.getLabel("parameterExpression"),"rbro_parameter_expression"),g=c("div",{class:"rbroFormField"}),ue=c("div",{class:"rbroSplit rbroSelector"});var we=c("textarea",{id:"rbro_parameter_expression",rows:"1"});we.addEventListener("input",function(ze){var Ce=t.rb.getSelectedObject();if(Ce!==null){var ae=new l(Ce.getId(),"expression",we.value,l.type.text,t.rb);t.rb.executeCommand(ae)}}),ft(we),ue.append(we),(fe=c("div",{id:"rbro_parameter_expression_param_button",class:"rbroButton rbroRoundButton rbroIcon-select"})).addEventListener("click",function(ze){var Ce,ae,Ne=t.rb.getSelectedObject();Ne!==null&&(Ne.getValue("type")===ne.type.sum||Ne.getValue("type")===ne.type.average?(Ce=t.rb.getArrayFieldParameterItems([ne.type.number]),ae=_t.type.parameterSet):(Ce=t.rb.getParameterItems(Ne),ae=_t.type.parameterAppend),t.rb.getPopupWindow().show(Ce,Ne.getId(),"rbro_parameter_expression","expression",ae))}),ue.append(fe),g.append(ue),g.append(c("div",{id:"rbro_parameter_expression_error",class:"rbroErrorMessage"})),u.append(g),s.append(u);var Se=c("div",{id:"rbro_parameter_test_data_container"});O(u=c("div",{id:"rbro_parameter_test_data_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data"),g=c("div",{class:"rbroFormField"});var Le=c("input",{id:"rbro_parameter_test_data",autocomplete:"off"});Le.addEventListener("input",function(ze){var Ce=t.rb.getSelectedObject();if(Ce!==null){var ae=new l(Ce.getId(),"testData",Le.value,l.type.text,t.rb);t.rb.executeCommand(ae)}}),g.append(Le);var Ae=c("button",{id:"rbro_parameter_edit_test_data",class:"rbroButton rbroActionButton"});Ae.append(c("span",{},this.rb.getLabel("parameterEditTestData"))),Ae.append(c("span",{class:"rbroIcon-edit"})),Ae.addEventListener("click",function(ze){var Ce=t.rb.getSelectedObject();Ce!==null&&(Ce.getParameterFields().length>0?t.rb.getPopupWindow().show(null,Ce.getId(),"","testData",_t.type.data,null,Ce,null,null,null):Ce.getValue("type")===ne.type.map?alert(t.rb.getLabel("parameterEditTestDataMapNoFields")):alert(t.rb.getLabel("parameterEditTestDataArrayNoFields")))}),g.append(Ae),g.append(c("div",{id:"rbro_parameter_test_data_error",class:"rbroErrorMessage"})),u.append(g),Se.append(u),O(u=c("div",{id:"rbro_parameter_test_data_boolean_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_boolean"),g=c("div",{class:"rbroFormField"});var Be=c("input",{id:"rbro_parameter_test_data_boolean",type:"checkbox"});Be.addEventListener("change",function(ze){var Ce=Be.checked,ae=t.rb.getSelectedObject();if(ae!==null){var Ne=new l(ae.getId(),"testDataBoolean",Ce,l.type.checkbox,t.rb);t.rb.executeCommand(Ne)}}),g.append(Be),u.append(g),Se.append(u),O(u=c("div",{id:"rbro_parameter_test_data_image_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_image"),g=c("div",{class:"rbroFormField"});var $e=c("input",{id:"rbro_parameter_test_data_image",type:"file"});$e.addEventListener("change",function(ze){var Ce=t.rb,ae=ze.target.files;ae&&ae[0]&&z(ae[0],function(Ne,Je){for(var De=new be("Load image",Ce),it=Ce.getSelectedObjects(),rt=it.length-1;rt>=0;rt--){var nt=it[rt];De.addSelection(nt.getId()),De.addCommand(new l(nt.getId(),"testDataImage",Ne,l.type.file,Ce)),De.addCommand(new l(nt.getId(),"testDataImageFilename",Je,l.type.filename,Ce))}De.isEmpty()||Ce.executeCommand(De)},t.rb)}),g.append($e);var Fe=c("div",{id:"rbro_parameter_test_data_image_filename_container",class:"rbroSplit rbroHidden"});Fe.append(c("div",{id:"rbro_parameter_test_data_image_filename"}));var Ke=c("div",{id:"rbro_parameter_test_data_image_filename_clear",class:"rbroIcon-cancel rbroButton rbroDeleteButton rbroRoundButton"});Ke.addEventListener("click",function(ze){$e.value="";var Ce=new be("Clear image",t.rb),ae=t.rb.getSelectedObject();ae!==null&&(Ce.addSelection(ae.getId()),Ce.addCommand(new l(ae.getId(),"testDataImage","",l.type.file,t.rb)),Ce.addCommand(new l(ae.getId(),"testDataImageFilename","",l.type.filename,t.rb))),Ce.isEmpty()||t.rb.executeCommand(Ce)}),Fe.append(Ke),g.append(Fe),g.append(c("div",{id:"rbro_parameter_test_data_image_error",class:"rbroErrorMessage"})),g.append(c("div",{class:"rbroInfo"},this.rb.getLabel("parameterTestDataImageInfo"))),u.append(g),Se.append(u),O(u=c("div",{id:"rbro_parameter_test_data_rich_text_row",class:"rbroFormRow"}),this.rb.getLabel("parameterTestData"),"rbro_parameter_test_data_rich_text"),g=c("div",{class:"rbroFormField"});var Qe=c("textarea",{id:"rbro_parameter_test_data_rich_text",rows:1,autocomplete:"off"});Qe.addEventListener("input",function(ze){var Ce=t.rb.getSelectedObject();if(Ce!==null){var ae=new l(Ce.getId(),"testDataRichText",Qe.value,l.type.text,t.rb);t.rb.executeCommand(ae)}}),ft(Qe),g.append(Qe);var We=c("div",{id:"rbro_parameter_test_data_rich_text_plus_info",class:"rbroInfo"});We.innerHTML=this.rb.getLabel("parameterTestDataRichTextInfo"),g.append(We),u.append(g),Se.append(u),s.append(Se),document.getElementById("rbro_detail_panel").append(s)}},{key:"updateVisibileRows",value:function(e,t){var s=e.getValue("type"),u=s===ne.type.simpleArray?e.getValue("arrayItemType"):s,g=e.getValue("showOnlyNameType"),E=null;if(e.getPanelItem()!==null&&e.getPanelItem().getParent().getData()instanceof ne&&(E=e.getPanelItem().getParent().getData()),t===null){var b=e.getValue("editable");document.getElementById("rbro_parameter_name").disabled=!b,document.getElementById("rbro_parameter_type").disabled=!b,document.getElementById("rbro_parameter_eval").disabled=!b,document.getElementById("rbro_parameter_nullable").disabled=!b,document.getElementById("rbro_parameter_pattern").disabled=!b,document.getElementById("rbro_parameter_expression").disabled=!b,b?(document.querySelector("#rbro_parameter_name_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_type_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_eval_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_nullable_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_pattern_row label").classList.remove("rbroDisabled"),document.querySelector("#rbro_parameter_expression_row label").classList.remove("rbroDisabled")):(document.querySelector("#rbro_parameter_name_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_type_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_eval_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_nullable_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_pattern_row label").classList.add("rbroDisabled"),document.querySelector("#rbro_parameter_expression_row label").classList.add("rbroDisabled"))}if(t!==null&&t!=="type"||(s===ne.type.simpleArray?document.getElementById("rbro_parameter_array_item_type_row").removeAttribute("style"):document.getElementById("rbro_parameter_array_item_type_row").style.display="none",s===ne.type.string||s===ne.type.number||s===ne.type.boolean||s===ne.type.date||s===ne.type.image||s===ne.type.array||s===ne.type.simpleArray||s===ne.type.map?document.getElementById("rbro_parameter_nullable_row").removeAttribute("style"):document.getElementById("rbro_parameter_nullable_row").style.display="none"),t!==null&&t!=="type"&&t!=="arrayItemType"||(u!==ne.type.number&&u!==ne.type.date&&u!==ne.type.sum&&u!==ne.type.average||g?document.getElementById("rbro_parameter_pattern_row").style.display="none":document.getElementById("rbro_parameter_pattern_row").removeAttribute("style")),t!==null&&t!=="type"&&t!=="eval"||(s===ne.type.sum||s===ne.type.average||g?(document.getElementById("rbro_parameter_eval_row").style.display="none",document.getElementById("rbro_parameter_test_data_container").style.display="none"):(s===ne.type.image||s===ne.type.richText||s===ne.type.array||s===ne.type.simpleArray||s===ne.type.map?document.getElementById("rbro_parameter_eval_row").style.display="none":document.getElementById("rbro_parameter_eval_row").removeAttribute("style"),E!==null||e.getValue("eval")&&(s===ne.type.string||s===ne.type.number||s===ne.type.boolean||s===ne.type.date)?document.getElementById("rbro_parameter_test_data_container").style.display="none":document.getElementById("rbro_parameter_test_data_container").removeAttribute("style"),s===ne.type.array||s===ne.type.simpleArray||s===ne.type.map||s===ne.type.string||s===ne.type.number||s===ne.type.date?document.getElementById("rbro_parameter_test_data_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_row").style.display="none",s===ne.type.array||s===ne.type.simpleArray||s===ne.type.map?document.getElementById("rbro_parameter_edit_test_data").removeAttribute("style"):document.getElementById("rbro_parameter_edit_test_data").style.display="none",s===ne.type.string||s===ne.type.number||s===ne.type.date?document.getElementById("rbro_parameter_test_data").removeAttribute("style"):document.getElementById("rbro_parameter_test_data").style.display="none",s===ne.type.boolean?document.getElementById("rbro_parameter_test_data_boolean_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_boolean_row").style.display="none",s===ne.type.image?document.getElementById("rbro_parameter_test_data_image_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_image_row").style.display="none",s===ne.type.richText?document.getElementById("rbro_parameter_test_data_rich_text_row").removeAttribute("style"):document.getElementById("rbro_parameter_test_data_rich_text_row").style.display="none"),this.rb.getProperty("showPlusFeaturesInfo")&&(E===null||s!==ne.type.map&&s!==ne.type.array?document.getElementById("rbro_parameter_type_nested_plus_info").style.display="none":document.getElementById("rbro_parameter_type_nested_plus_info").removeAttribute("style")),(!e.getValue("eval")||s!==ne.type.string&&s!==ne.type.number&&s!==ne.type.boolean&&s!==ne.type.date)&&s!==ne.type.sum&&s!==ne.type.average||g?document.getElementById("rbro_parameter_expression_row").style.display="none":document.getElementById("rbro_parameter_expression_row").removeAttribute("style")),t===null){var D=[],N=E!==null&&E.getValue("type")===ne.type.array;D.push({value:"string",label:this.rb.getLabel("parameterTypeString")}),D.push({value:"number",label:this.rb.getLabel("parameterTypeNumber")}),D.push({value:"boolean",label:this.rb.getLabel("parameterTypeBoolean")}),D.push({value:"date",label:this.rb.getLabel("parameterTypeDate")}),D.push({value:"image",label:this.rb.getLabel("parameterTypeImage")}),this.rb.getProperty("showPlusFeatures")&&D.push({value:"rich_text",label:this.rb.getLabel("parameterTypeRichText")}),(E===null||this.rb.getProperty("showPlusFeatures"))&&D.push({value:"array",label:this.rb.getLabel("parameterTypeArray")}),D.push({value:"simple_array",label:this.rb.getLabel("parameterTypeSimpleArray")}),(E===null||this.rb.getProperty("showPlusFeatures"))&&D.push({value:"map",label:this.rb.getLabel("parameterTypeMap")}),N||(D.push({value:"sum",label:this.rb.getLabel("parameterTypeSum")}),D.push({value:"average",label:this.rb.getLabel("parameterTypeAverage")}));var Z=!1;if(D.length!==this.parameterTypeOptions.length)Z=!0;else for(var J=0;J<D.length;J++)if(D[J].value!==this.parameterTypeOptions[J].value){Z=!0;break}if(Z){var le=document.getElementById("rbro_parameter_type");C(le);for(var Q=0;Q<D.length;Q++){var ue=D[Q];le.append(c("option",{value:ue.value},ue.label))}this.parameterTypeOptions=D}}}},{key:"updateDisplay",value:function(e){var t=this.rb.getSelectedObject();if(t!==null&&t instanceof ne){for(var s in this.updateVisibileRows(t,e),this.propertyDescriptors)if(this.propertyDescriptors.hasOwnProperty(s)&&(e===null||s===e)){var u=this.propertyDescriptors[s],g=t.getValue(s);n(v(r.prototype),"setValue",this).call(this,u,g,!1)}e!==null&&e!=="type"||(t.getValue("type")===ne.type.date?document.getElementById("rbro_parameter_test_data").setAttribute("placeholder",this.rb.getLabel("parameterTestDataDatePattern")):document.getElementById("rbro_parameter_test_data").setAttribute("placeholder","")),r.updateAutosizeInputs(e)}}}],[{key:"updateAutosizeInputs",value:function(e){e!==null&&e!=="expression"||ft.update(document.getElementById("rbro_parameter_expression")),e!==null&&e!=="type"||ft.update(document.getElementById("rbro_parameter_test_data_rich_text"))}}]),r}(Ir);function Ln(w,r){var e=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!e){if(Array.isArray(w)||(e=function(b,D){if(b){if(typeof b=="string")return jn(b,D);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?jn(b,D):void 0}}(w))||r&&w&&typeof w.length=="number"){e&&(w=e);var t=0,s=function(){};return{s,n:function(){return t>=w.length?{done:!0}:{done:!1,value:w[t++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,g=!0,E=!1;return{s:function(){e=e.call(w)},n:function(){var b=e.next();return g=b.done,b},e:function(b){E=!0,u=b},f:function(){try{g||e.return==null||e.return()}finally{if(E)throw u}}}}function jn(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}var vo=function(){function w(r,e,t,s,u,g,E){K(this,w),this.rootElement=r,this.rb=E,this.headerItem=new et("band",null,e,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("header")},E),this.documentItem=new et("band",null,t,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1},E),this.footerItem=new et("band",null,s,{hasChildren:!0,showAdd:!1,showDelete:!1,hasDetails:!1,visible:this.rb.getDocumentProperties().getValue("footer")},E),this.parametersItem=new et("parameter",null,u,{hasChildren:!0,showAdd:E.getProperty("adminMode"),showDelete:!1,hasDetails:!1},E),this.stylesItem=new et("style",null,g,{hasChildren:!0,showAdd:!0,showDelete:!1,hasDetails:!1},E),this.documentPropertiesItem=new et("documentProperties",null,E.getDocumentProperties(),{showDelete:!1,hasDetails:!0},E),this.items=[this.headerItem,this.documentItem,this.footerItem,this.parametersItem,this.stylesItem,this.documentPropertiesItem],this.dragMainPanelSizer=!1,this.dragMainPanelSizerStartX=0,this.mainPanelWidth=230,this.mainPanelSizerWidth=3,e.setPanelItem(this.headerItem),t.setPanelItem(this.documentItem),s.setPanelItem(this.footerItem),u.setPanelItem(this.parametersItem),g.setPanelItem(this.stylesItem)}return y(w,[{key:"getHeaderItem",value:function(){return this.headerItem}},{key:"getDocumentItem",value:function(){return this.documentItem}},{key:"getFooterItem",value:function(){return this.footerItem}},{key:"getParametersItem",value:function(){return this.parametersItem}},{key:"getStylesItem",value:function(){return this.stylesItem}},{key:"getContainerByItem",value:function(r){for(;r!==null;){if(r.getData()instanceof S)return r.getData();r=r.getParent()}return null}},{key:"getDocumentPropertiesItem",value:function(){return this.documentPropertiesItem}},{key:"render",value:function(){var r=this,e=document.getElementById("rbro_main_panel_list");this.appendChildren(e,this.items),document.getElementById("rbro_main_panel_sizer").addEventListener("mousedown",function(t){r.dragMainPanelSizer=!0,r.dragMainPanelSizerStartX=t.pageX}),this.updateMainPanelWidth(this.mainPanelWidth)}},{key:"appendChildren",value:function(r,e){var t,s=Ln(e);try{for(s.s();!(t=s.n()).done;){var u=t.value;r.append(u.getElement());var g=u.getChildren();g.length>0&&this.appendChildren(r,g)}}catch(E){s.e(E)}finally{s.f()}}},{key:"processMouseMove",value:function(r){if(this.dragMainPanelSizer){var e=this.mainPanelWidth+(r.pageX-this.dragMainPanelSizerStartX);return e=this.checkMainPanelWidth(e),this.updateMainPanelWidth(e),!0}return!1}},{key:"mouseUp",value:function(r){this.dragMainPanelSizer&&(this.dragMainPanelSizer=!1,this.mainPanelWidth=this.mainPanelWidth+(r.pageX-this.dragMainPanelSizerStartX),this.mainPanelWidth=this.checkMainPanelWidth(this.mainPanelWidth),this.updateMainPanelWidth(this.mainPanelWidth))}},{key:"getTotalPanelWidth",value:function(){var r=this.mainPanelWidth+this.mainPanelSizerWidth+390;return this.rb.getProperty("menuSidebar")&&(r+=92),r}},{key:"updateMainPanelWidth",value:function(r){document.getElementById("rbro_main_panel").style.width=r+"px",document.getElementById("rbro_main_panel_sizer").style.left=r+"px",document.getElementById("rbro_detail_panel").style.left=r+this.mainPanelSizerWidth+"px";var e=r+this.mainPanelSizerWidth+390;this.rb.getProperty("menuSidebar")&&(e+=92,document.getElementById("reportbro").querySelector(".rbroLogo").style.width=r+"px"),document.getElementById("rbro_document_panel").style.width="calc(100% - ".concat(e,"px)")}},{key:"checkMainPanelWidth",value:function(r){return r<150?150:r>500?500:r}},{key:"showHeader",value:function(){this.headerItem.show()}},{key:"hideHeader",value:function(){this.headerItem.hide()}},{key:"showFooter",value:function(){this.footerItem.show()}},{key:"hideFooter",value:function(){this.footerItem.hide()}},{key:"clearAll",value:function(){var r,e=Ln(this.items);try{for(e.s();!(r=e.n()).done;)r.value.clear()}catch(t){e.e(t)}finally{e.f()}}}]),w}(),_o=function(){function w(r,e){K(this,w),this.rootElement=r,this.rb=e}return y(w,[{key:"render",value:function(){var r,e=this,t=this.rb.getProperty("menuShowButtonLabels")?"":"rbroHidden",s=document.getElementById("rbro_menu_panel"),u=c("div",{class:"rbroToolButtonContainer"});(r=c("button",{id:"rbro_menu_save",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuSaveTip")})).append(c("span",{class:"rbroIcon-save"})),r.append(c("span",{class:t},this.rb.getLabel("menuSave"))),r.addEventListener("click",function(ae){e.rb.save()}),this.rb.getProperty("saveCallback")||this.rb.getProperty("localStorageReportKey")||(r.style.display="none"),u.append(r),this.rb.getProperty("menuShowDebug")&&((r=c("button",{id:"rbro_menu_log_report",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuLogReportTip")})).append(c("span",{class:"rbroIcon-console"})),r.append(c("span",{class:"rbroHidden"},this.rb.getLabel("menuLogReport"))),r.addEventListener("click",function(ae){console.log(JSON.stringify(e.rb.getReport()))}),u.append(r),(r=c("button",{id:"rbro_menu_insert_report",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuInsertReportTip")})).append(c("span",{class:"rbroIcon-insert-report"})),r.append(c("span",{class:"rbroHidden"},this.rb.getLabel("menuInsertReport"))),r.addEventListener("click",function(ae){var Ne=prompt("Paste report template here to load report");if(Ne)try{var Je=JSON.parse(Ne);A(Je.docElements)==="object"&&A(Je.parameters)==="object"&&A(Je.styles)==="object"&&A(Je.documentProperties)==="object"?(e.rb.load(Je),e.rb.setModified(!0)):alert("Invalid report template data")}catch(De){alert("Invalid report template data")}}),u.append(r)),(r=c("button",{id:"rbro_menu_undo",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuUndoTip")})).append(c("span",{class:"rbroIcon-undo"})),r.append(c("span",{class:t},this.rb.getLabel("menuUndo"))),r.addEventListener("click",function(ae){e.rb.undoCommand()}),u.append(r),(r=c("button",{id:"rbro_menu_redo",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuRedoTip")})).append(c("span",{class:"rbroIcon-redo"})),r.append(c("span",{class:t},this.rb.getLabel("menuRedo"))),r.addEventListener("click",function(ae){e.rb.redoCommand()}),u.append(r),(r=c("button",{id:"rbro_menu_preview",class:"rbroButton rbroMenuButton",title:this.rb.getLabel("menuPreviewTip")})).append(c("span",{class:"rbroIcon-play"})),r.append(c("span",{class:t},this.rb.getLabel("menuPreview"))),r.addEventListener("click",function(ae){e.rb.preview()}),u.append(r),s.append(u);var g,E=c("div",{class:"rbroElementButtonContainer"}),b=c("div",{id:"rbo_menu_elements",class:"rbroElementButtons"});(g=c("div",{id:"rbro_menu_element_text",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementText")})).append(c("span",{class:"rbroIcon-text"})),g.addEventListener("dragstart",function(ae){ae.dataTransfer.setData("text/plain",""),ae.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",Ee.type.text,""),ae.stopPropagation()}),g.addEventListener("touchstart",function(ae){e.rb.startBrowserDrag("docElement",Ee.type.text,""),ae.preventDefault()}),g.addEventListener("touchmove",function(ae){e.rb.getDocument().processDragover(ae)}),g.addEventListener("touchend",function(ae){e.rb.getDocument().processDrop(ae)}),b.append(g),(g=c("div",{id:"rbro_menu_element_line",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementLine")})).append(c("span",{class:"rbroIcon-line"})),g.addEventListener("dragstart",function(ae){ae.dataTransfer.setData("text/plain",""),ae.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",Ee.type.line,""),ae.stopPropagation()}),g.addEventListener("touchstart",function(ae){e.rb.startBrowserDrag("docElement",Ee.type.line,""),ae.preventDefault()}),g.addEventListener("touchmove",function(ae){e.rb.getDocument().processDragover(ae)}),g.addEventListener("touchend",function(ae){e.rb.getDocument().processDrop(ae)}),b.append(g),(g=c("div",{id:"rbro_menu_element_image",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementImage")})).append(c("span",{class:"rbroIcon-image"})),g.addEventListener("dragstart",function(ae){ae.dataTransfer.setData("text/plain",""),ae.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",Ee.type.image,""),ae.stopPropagation()}),g.addEventListener("touchstart",function(ae){e.rb.startBrowserDrag("docElement",Ee.type.image,""),ae.preventDefault()}),g.addEventListener("touchmove",function(ae){e.rb.getDocument().processDragover(ae)}),g.addEventListener("touchend",function(ae){e.rb.getDocument().processDrop(ae)}),b.append(g),(g=c("div",{id:"rbro_menu_element_bar_code",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementBarCode")})).append(c("span",{class:"rbroIcon-barcode"})),g.addEventListener("dragstart",function(ae){ae.dataTransfer.setData("text/plain",""),ae.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",Ee.type.barCode,""),ae.stopPropagation()}),g.addEventListener("touchstart",function(ae){e.rb.startBrowserDrag("docElement",Ee.type.barCode,""),ae.preventDefault()}),g.addEventListener("touchmove",function(ae){e.rb.getDocument().processDragover(ae)}),g.addEventListener("touchend",function(ae){e.rb.getDocument().processDrop(ae)}),b.append(g),(g=c("div",{id:"rbro_menu_element_table",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementTable")})).append(c("span",{class:"rbroIcon-table"})),g.addEventListener("dragstart",function(ae){ae.dataTransfer.setData("text/plain",""),ae.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",Ee.type.table,""),ae.stopPropagation()}),g.addEventListener("touchstart",function(ae){e.rb.startBrowserDrag("docElement",Ee.type.table,""),ae.preventDefault()}),g.addEventListener("touchmove",function(ae){e.rb.getDocument().processDragover(ae)}),g.addEventListener("touchend",function(ae){e.rb.getDocument().processDrop(ae)}),b.append(g),(g=c("div",{id:"rbro_menu_element_frame",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementFrame")})).append(c("span",{class:"rbroIcon-frame"})),g.addEventListener("dragstart",function(ae){ae.dataTransfer.setData("text/plain",""),ae.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",Ee.type.frame,""),ae.stopPropagation()}),g.addEventListener("touchstart",function(ae){e.rb.startBrowserDrag("docElement",Ee.type.frame,""),ae.preventDefault()}),g.addEventListener("touchmove",function(ae){e.rb.getDocument().processDragover(ae)}),g.addEventListener("touchend",function(ae){e.rb.getDocument().processDrop(ae)}),b.append(g),(g=c("div",{id:"rbro_menu_element_section",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementSection")})).append(c("span",{class:"rbroIcon-section"})),g.addEventListener("dragstart",function(ae){ae.dataTransfer.setData("text/plain",""),ae.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",Ee.type.section,""),ae.stopPropagation()}),g.addEventListener("touchstart",function(ae){e.rb.startBrowserDrag("docElement",Ee.type.section,""),ae.preventDefault()}),g.addEventListener("touchmove",function(ae){e.rb.getDocument().processDragover(ae)}),g.addEventListener("touchend",function(ae){e.rb.getDocument().processDrop(ae)}),b.append(g),(g=c("div",{id:"rbro_menu_element_page_break",class:"rbroButton rbroMenuButton",draggle:"true",title:this.rb.getLabel("docElementPageBreak")})).append(c("span",{class:"rbroIcon-page-break"})),g.addEventListener("dragstart",function(ae){ae.dataTransfer.setData("text/plain",""),ae.dataTransfer.effectAllowed="copy",e.rb.startBrowserDrag("docElement",Ee.type.pageBreak,""),ae.stopPropagation()}),g.addEventListener("touchstart",function(ae){e.rb.startBrowserDrag("docElement",Ee.type.pageBreak,""),ae.preventDefault()}),g.addEventListener("touchmove",function(ae){e.rb.getDocument().processDragover(ae)}),g.addEventListener("touchend",function(ae){e.rb.getDocument().processDrop(ae)}),b.append(g),E.append(b);var D=c("div",{class:"rbroActionButtons"}),N=c("div",{id:"rbro_menu_align",style:"display: none;"}),Z=c("button",{id:"rbro_menu_align_left",class:"rbroButton rbroActionButton rbroIcon-align-left",type:"button",title:this.rb.getLabel("menuAlignLeft")});Z.addEventListener("click",function(ae){e.rb.alignSelections(ye.alignment.left)}),N.append(Z);var J=c("button",{id:"rbro_menu_align_center",class:"rbroButton rbroActionButton rbroIcon-align-center",type:"button",title:this.rb.getLabel("menuAlignCenter")});J.addEventListener("click",function(ae){e.rb.alignSelections(ye.alignment.center)}),N.append(J);var le=c("button",{id:"rbro_menu_align_right",class:"rbroButton rbroActionButton rbroIcon-align-right",type:"button",title:this.rb.getLabel("menuAlignRight")});le.addEventListener("click",function(ae){e.rb.alignSelections(ye.alignment.right)}),N.append(le),D.append(N);var Q=c("div",{id:"rbro_menu_valign",style:"display: none;"}),ue=c("button",{id:"rbro_menu_align_top",class:"rbroButton rbroActionButton rbroIcon-align-top",type:"button",title:this.rb.getLabel("menuAlignTop")});ue.addEventListener("click",function(ae){e.rb.alignSelections(ye.alignment.top)}),Q.append(ue);var Ie=c("button",{id:"rbro_menu_align_middle",class:"rbroButton rbroActionButton rbroIcon-align-middle",type:"button",title:this.rb.getLabel("menuAlignMiddle")});Ie.addEventListener("click",function(ae){e.rb.alignSelections(ye.alignment.middle)}),Q.append(Ie);var fe=c("button",{id:"rbro_menu_align_bottom",class:"rbroButton rbroActionButton rbroIcon-align-bottom",type:"button",title:this.rb.getLabel("menuAlignBottom")});fe.addEventListener("click",function(ae){e.rb.alignSelections(ye.alignment.bottom)}),Q.append(fe),D.append(Q);var we=c("div",{id:"rbro_menu_column_actions",style:"display: none;"}),Se=c("button",{id:"rbro_menu_column_add_left",class:"rbroButton rbroActionButton rbroIcon-column-add-left",type:"button",title:this.rb.getLabel("menuColumnAddLeft")});Se.addEventListener("click",function(ae){var Ne=e.rb.getSelectedObject();Ne instanceof Ht&&Ne.insertColumn(!0)}),we.append(Se);var Le=c("button",{id:"rbro_menu_column_add_right",class:"rbroButton rbroActionButton rbroIcon-column-add-right",type:"button",title:this.rb.getLabel("menuColumnAddRight")});Le.addEventListener("click",function(ae){var Ne=e.rb.getSelectedObject();Ne instanceof Ht&&Ne.insertColumn(!1)}),we.append(Le);var Ae=c("button",{id:"rbro_menu_column_delete",class:"rbroButton rbroActionButton rbroIcon-column-delete",type:"button",title:this.rb.getLabel("menuColumnDelete")});Ae.addEventListener("click",function(ae){var Ne=e.rb.getSelectedObject();Ne instanceof Ht&&Ne.deleteColumn()}),we.append(Ae),D.append(we);var Be=c("div",{id:"rbro_menu_row_actions",style:"display: none;"}),$e=c("button",{id:"rbro_menu_row_add_above",class:"rbroButton rbroActionButton rbroIcon-row-add-above",type:"button",title:this.rb.getLabel("menuRowAddAbove")});$e.addEventListener("click",function(ae){var Ne=e.rb.getSelectedObject();Ne instanceof Ht&&Ne.getParent()!==null&&Ne.getParent().insertRow(!0)}),Be.append($e);var Fe=c("button",{id:"rbro_menu_row_add_below",class:"rbroButton rbroActionButton rbroIcon-row-add-below",type:"button",title:this.rb.getLabel("menuRowAddBelow")});Fe.addEventListener("click",function(ae){var Ne=e.rb.getSelectedObject();Ne instanceof Ht&&Ne.getParent()!==null&&Ne.getParent().insertRow(!1)}),Be.append(Fe);var Ke=c("button",{id:"rbro_menu_row_delete",class:"rbroButton rbroActionButton rbroIcon-row-delete",type:"button",title:this.rb.getLabel("menuRowDelete")});Ke.addEventListener("click",function(ae){var Ne=e.rb.getSelectedObject();Ne instanceof Ht&&Ne.getParent()!==null&&Ne.getParent().deleteRow()}),Be.append(Ke),D.append(Be);var Qe=c("div",{id:"rbro_menu_zoom",class:"rbroZoom"});Qe.append(c("span",{id:"rbro_menu_zoom_level",class:"rbroZoomLevel"}));var We=c("button",{id:"rbro_menu_zoom_in",class:"rbroButton rbroRoundButton rbroZoomButton rbroIcon-plus"+(this.rb.getDocument().isZoomInPossible()?"":" rbroButtonInactive"),type:"button",title:this.rb.getLabel("menuZoomIn")});We.addEventListener("click",function(ae){e.rb.getDocument().zoomIn()}),Qe.append(We);var ze=c("button",{id:"rbro_menu_zoom_out",class:"rbroButton rbroRoundButton rbroZoomButton rbroIcon-minus"+(this.rb.getDocument().isZoomOutPossible()?"":" rbroButtonInactive"),type:"button",title:this.rb.getLabel("menuZoomOut")});ze.addEventListener("click",function(ae){e.rb.getDocument().zoomOut()}),Qe.append(ze),D.append(Qe);var Ce=c("button",{id:"rbro_menu_toggle_grid",class:"rbroButton rbroGridButton rbroActionButton rbroIcon-grid"+(this.rb.getProperty("showGrid")?" rbroButtonActive":""),type:"button",title:this.rb.getLabel("menuToggleGrid")});Ce.addEventListener("click",function(ae){Ce.classList.toggle("rbroButtonActive"),e.rb.getDocument().toggleGrid()}),D.append(Ce),E.append(D),s.append(E)}},{key:"updateZoomButtons",value:function(r,e){r?document.getElementById("rbro_menu_zoom_in").removeAttribute("disabled"):document.getElementById("rbro_menu_zoom_in").setAttribute("disabled","disabled"),e?document.getElementById("rbro_menu_zoom_out").removeAttribute("disabled"):document.getElementById("rbro_menu_zoom_out").setAttribute("disabled","disabled")}}]),w}();function Ue(w,r){var e=typeof Symbol!="undefined"&&w[Symbol.iterator]||w["@@iterator"];if(!e){if(Array.isArray(w)||(e=function(b,D){if(b){if(typeof b=="string")return Bn(b,D);var N=Object.prototype.toString.call(b).slice(8,-1);return N==="Object"&&b.constructor&&(N=b.constructor.name),N==="Map"||N==="Set"?Array.from(b):N==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(N)?Bn(b,D):void 0}}(w))||r&&w&&typeof w.length=="number"){e&&(w=e);var t=0,s=function(){};return{s,n:function(){return t>=w.length?{done:!0}:{done:!1,value:w[t++]}},e:function(b){throw b},f:s}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var u,g=!0,E=!1;return{s:function(){e=e.call(w)},n:function(){var b=e.next();return g=b.done,b},e:function(b){E=!0,u=b},f:function(){try{g||e.return==null||e.return()}finally{if(E)throw u}}}}function Bn(w,r){(r==null||r>w.length)&&(r=w.length);for(var e=0,t=new Array(r);e<r;e++)t[e]=w[e];return t}var wo=function(){function w(r,e){var t=this;if(K(this,w),this.element=r,this.nextId=1,this.locale=lo[e&&e.localeKey||"en_us"],e&&e.locale&&Object.assign(this.locale,e.locale),this.properties={additionalFonts:[],adminMode:!0,autoSaveOnPreview:!1,cmdExecutedCallback:null,colors:["#000000","#444444","#666666","#999999","#cccccc","#eeeeee","#f3f3f3","#ffffff","#ff0000","#ff9900","#ffff00","#00ff00","#00ffff","#0000ff","#9900ff","#ff00ff","#ea9999","#f9cb9c","#ffe599","#b6d7a8","#a2c4c9","#9fc5e8","#b4a7d6","#d5a6bd","#e06666","#f6b26b","#ffd966","#93c47d","#76a5af","#6fa8dc","#8e7cc3","#c27ba0","#cc0000","#e69138","#f1c232","#6aa84f","#45818e","#3d85c6","#674ea7","#a64d79","#990000","#b45f06","#bf9000","#38761d","#134f5c","#0b5394","#351c75","#741b47","#660000","#783f04","#7f6000","#274e13","#0c343d","#073763","#20124d","#4c1130"],defaultFont:ye.font.helvetica,enableSpreadsheet:!0,fontSizes:[4,5,6,7,8,9,10,11,12,13,14,15,16,18,20,22,24,26,28,32,36,40,44,48,54,60,66,72,80],fonts:[{name:"Courier",value:ye.font.courier},{name:"Helvetica",value:ye.font.helvetica},{name:"Times New Roman",value:ye.font.times}],highlightUnusedParameters:!1,imageLimit:null,imageMaxSize:null,imageRequireWebPFormat:!1,localStorageReportKey:null,menuShowButtonLabels:!1,menuShowDebug:!1,menuSidebar:!1,patternAdditionalDates:[],patternAdditionalNumbers:[],patternCurrencySymbol:"$",patternDates:[{name:"d.M.yyyy",description:this.locale.patternDate1},{name:"d.M.yy, H:mm",description:this.locale.patternDate2},{name:"d/MMM/yyyy",description:this.locale.patternDate3},{name:"MM/dd/yyyy",description:this.locale.patternDate4}],patternLocale:"en",patternNumberGroupSymbol:"",patternNumbers:[{name:"#,##0",description:this.locale.patternNumber1},{name:"0.000",description:this.locale.patternNumber2},{name:"0.00##",description:this.locale.patternNumber3},{name:"#,##0.00",description:this.locale.patternNumber4},{name:"$ #,##0.00",description:this.locale.patternNumber5}],reportServerBasicAuth:null,reportServerHeaders:{},reportServerTimeout:2e4,reportServerUrl:"https://www.reportbro.com/report/run",reportServerUrlCrossDomain:!1,requestCallback:null,saveCallback:null,selectCallback:null,showGrid:!0,showPlusFeatures:!0,showPlusFeaturesInfo:!0,theme:""},e)for(var s in e)this.properties.hasOwnProperty(s)&&(this.properties[s]=e[s]);this.properties.additionalFonts.length>0&&(this.properties.fonts=this.properties.fonts.concat(this.properties.additionalFonts));var u,g=!1,E=Ue(this.properties.fonts);try{for(E.s();!(u=E.n()).done;){var b=u.value;if(this.properties.defaultFont===b.value){g=!0;break}}}catch(D){E.e(D)}finally{E.f()}if(g||(this.properties.fonts.length>0?this.properties.defaultFont=this.properties.fonts[0].value:this.properties.defaultFont=""),this.properties.patternAdditionalDates.length>0&&(this.properties.patternDates=this.properties.patternDates.concat(this.properties.patternAdditionalDates)),this.properties.patternAdditionalNumbers.length>0&&(this.properties.patternNumbers=this.properties.patternNumbers.concat(this.properties.patternAdditionalNumbers)),!this.validateProperties(this.properties))throw"Invalid properties for ReportBro instance, check console error log for further details";this.document=new yn(r,this.properties.showGrid,this),this.popupWindow=new _t(r,this),this.docElements=[],this.headerBand=new re(re.bandType.header,!1,"","",this),this.contentBand=new re(re.bandType.content,!1,"","",this),this.footerBand=new re(re.bandType.footer,!1,"","",this),this.parameterContainer=new S("0_parameters",this.getLabel("parameters"),this),this.styleContainer=new S("0_styles",this.getLabel("styles"),this),this.documentProperties=new Nt(this),this.clipboardElements=[],this.mainPanel=new vo(r,this.headerBand,this.contentBand,this.footerBand,this.parameterContainer,this.styleContainer,this),this.menuPanel=new _o(r,this),this.activeDetailPanel="none",this.detailPanels={none:new go(r,this),docElement:new ho(r,this),parameter:new bo(r,this),style:new vr(r,this),documentProperties:new mo(r,this)},this.commandStack=[],this.lastCommandIndex=-1,this.savedCommandIndex=-1,this.modified=!1,this.selectionSinceLastCommand=!1,this.objectMap={},this.containers=[this.headerBand,this.contentBand,this.footerBand],this.selections=[],this.reportKey=null,this.browserDragType="",this.browserDragId="",this.documentProperties.setPanelItem(this.mainPanel.getDocumentPropertiesItem()),this.initObjectMap(),this.keydownEventListener=function(D){if(!t.detailPanels[t.activeDetailPanel].isKeyEventDisabled()){if(D.metaKey||D.ctrlKey)switch(D.which){case 67:if(!(D.target instanceof HTMLInputElement||D.target instanceof HTMLTextAreaElement)){var N,Z,J,le=!1,Q={},ue=Ue(t.selections);try{for(ue.s();!(J=ue.n()).done;){var Ie=J.value,fe=t.getDataObject(Ie);if((fe instanceof Ee&&!(fe instanceof Ht)||fe instanceof ne&&!fe.showOnlyNameType||fe instanceof ye)&&(le||(t.clipboardElements=[],le=!0),!(fe.getId()in Q)))if(Q[fe.getId()]=!0,N=fe.toJS(),t.clipboardElements.push(N),fe instanceof Ee){if(N.baseClass="DocElement",fe instanceof Jr){var we=[];fe.appendContainerChildren(we);for(var Se=0,Le=we;Se<Le.length;Se++){var Ae=Le[Se];if(Ae.getId()in Q){for(Z=0;Z<t.clipboardElements.length;Z++)if(Ae.getId()===t.clipboardElements[Z].id){t.clipboardElements.splice(Z,1);break}}else Q[Ae.getId()]=!0;(N=Ae.toJS()).baseClass="DocElement",t.clipboardElements.push(N)}}}else fe instanceof ne?N.baseClass="Parameter":fe instanceof ye&&(N.baseClass="Style")}}catch(bt){ue.e(bt)}finally{ue.f()}D.preventDefault()}break;case 86:if(!(D.target instanceof HTMLInputElement||D.target instanceof HTMLTextAreaElement)){var Be,$e,Fe=new be("Paste from clipboard",t),Ke={},Qe=[],We=Ue(t.clipboardElements);try{for(We.s();!($e=We.n()).done;){var ze=$e.value,Ce=Object.assign({},ze);if(Ce.id=t.getUniqueId(),Qe.push(Ce),Ce.baseClass==="DocElement"){if(Ce.linkedContainerId){var ae=t.getUniqueId();Ke[Ce.linkedContainerId]=ae,Ce.linkedContainerId=ae}Ce.elementType===Ee.type.table&&tr.removeIds(Ce)}}}catch(bt){We.e(bt)}finally{We.f()}for(var Ne=0,Je=Qe;Ne<Je.length;Ne++){var De=Je[Ne];if(De.baseClass==="DocElement"){if(De.containerId in Ke)De.containerId=Ke[De.containerId];else{var it=0,rt=t.getDataObject(De.containerId);if(rt!==null){var nt=rt.getOffset(),ct=rt.getContentSize(),ot=t.getDocument().getContentScrollPosY();ot>nt.y&&ot+De.height<nt.y+ct.height&&(it=ot-nt.y)}De.x=0,De.y=it}Be=new Et(!0,De.elementType,De,De.id,De.containerId,-1,t),Fe.addCommand(Be)}else if(De.baseClass==="Parameter"||De.baseClass==="Style"){var wt=t.getLabel("nameCopySuffix"),ht=De.name+" (".concat(wt,")"),mt=De.baseClass==="Parameter"?t.parameterContainer.getPanelItem():t.styleContainer.getPanelItem();if(mt!==null&&mt.getChildByName(ht))for(var tt=2;tt<=99&&(ht=De.name+" (".concat(wt," ").concat(tt,")"),mt.getChildByName(ht)!==null);tt++);De.name=ht,De.baseClass==="Parameter"?(ne.removeIds(De),Be=new gt(!0,De,De.id,t.parameterContainer.getId(),-1,t),Fe.addCommand(Be)):De.baseClass==="Style"&&(Be=new Ge(!0,De,De.id,t.styleContainer.getId(),-1,t),Fe.addCommand(Be))}}if(!Fe.isEmpty()){t.executeCommand(Fe);var Tt,kt=!0,Mt=Ue(Qe);try{for(Mt.s();!(Tt=Mt.n()).done;){var sr=Tt.value;t.selectObject(sr.id,kt),kt=!1}}catch(bt){Mt.e(bt)}finally{Mt.f()}}D.preventDefault()}break;case 89:t.redoCommand(),D.preventDefault();break;case 90:t.undoCommand(),D.preventDefault()}else if(D.which===27)t.popupWindow.hide();else if(!(D.target instanceof HTMLInputElement||D.target instanceof HTMLTextAreaElement))switch(D.which){case 8:case 46:var Wt,Ft=new be("Delete",t),Dt=Ue(t.selections);try{for(Dt.s();!(Wt=Dt.n()).done;){var Lt=Wt.value,Vt=t.getDataObject(Lt);Vt instanceof Ee&&Vt.addCommandsForDelete(Ft)}}catch(bt){Dt.e(bt)}finally{Dt.f()}Ft.isEmpty()||t.executeCommand(Ft),D.preventDefault();break;case 37:case 38:case 39:case 40:var jt,Gt=new be("Move element",t),Kt=D.which===37||D.which===39?"x":"y",Bt=(t.getDocumentProperties().getContentSize().width,Ue(t.selections));try{for(Bt.s();!(jt=Bt.n()).done;){var Rt=jt.value,dt=t.getDataObject(Rt);if(dt instanceof Ee&&dt.hasProperty(Kt)){var It=null;if(D.which===37)dt.getValue("xVal")>0&&(It=dt.getValue("xVal")-1);else if(D.which===38)dt.getValue("yVal")>0&&(It=dt.getValue("yVal")-1);else if(D.which===39){var Xt=dt.getContainerContentSize();dt.getValue("xVal")+dt.getValue("widthVal")<Xt.width&&(It=dt.getValue("xVal")+1)}else if(D.which===40){var Zt=dt.getContainerContentSize();dt.getValue("yVal")+dt.getValue("heightVal")<Zt.height&&(It=dt.getValue("yVal")+1)}if(It!==null){var Jt=new l(Rt,Kt,It,l.type.text,t);Gt.addCommand(Jt)}}}}catch(bt){Bt.e(bt)}finally{Bt.f()}Gt.isEmpty()||t.executeCommand(Gt),D.preventDefault()}}},document.addEventListener("keydown",this.keydownEventListener),this.render(),this.setup()}return y(w,[{key:"validateProperties",value:function(r){if(!Array.isArray(r.colors))return console.error('"colors" property must be an array'),!1;var e,t=!1,s=Ue(r.colors);try{for(s.s();!(e=s.n()).done;){var u=e.value;if(!u||!F(u))return console.error('"colors" property contains invalid color value'),!1;u==="#000000"&&(t=!0)}}catch(D){s.e(D)}finally{s.f()}if(!t)return console.error('"colors" property is missing black color "#000000"'),!1;if(!Array.isArray(r.fontSizes))return console.error('"fontSizes" property must be an array'),!1;var g,E=Ue(r.fontSizes);try{for(E.s();!(g=E.n()).done;){var b=g.value;if(typeof b!="number"||b<1)return console.error('"fontSizes" property must contain only numbers (> 0)'),!1}}catch(D){E.e(D)}finally{E.f()}return!0}},{key:"addDefaultParameters",value:function(){for(var r=0,e=[{name:"page_count",type:ne.type.number,eval:!1,editable:!1,showOnlyNameType:!0},{name:"page_number",type:ne.type.number,eval:!1,editable:!1,showOnlyNameType:!0}];r<e.length;r++){var t=e[r],s=new ne(this.getUniqueId(),t,this),u=this.mainPanel.getParametersItem(),g=new et("parameter",u,s,{hasChildren:!0,showAdd:!0,showDelete:!0,draggable:!1},this);s.setPanelItem(g),u.appendChild(g),s.setup(),this.addParameter(s)}}},{key:"render",value:function(){var r=this;C(this.element),this.getProperty("menuSidebar")&&this.element.classList.add("rbroMenuPanelSidebar"),this.getProperty("theme")==="classic"?document.body.classList.add("rbroClassicTheme"):document.body.classList.add("rbroDefaultTheme"),this.element.append(c("div",{class:"rbroLogo"})),this.element.append(c("div",{id:"rbro_menu_panel",class:"rbroMenuPanel"}));var e=c("div",{class:"rbroContainer"}),t=c("div",{id:"rbro_main_panel",class:"rbroMainPanel"});for(var s in t.append(c("ul",{id:"rbro_main_panel_list"})),e.append(t),e.append(c("div",{id:"rbro_main_panel_sizer",class:"rbroMainPanelSizer"})),e.append(c("div",{id:"rbro_detail_panel",class:"rbroDetailPanel"})),e.append(c("div",{id:"rbro_document_panel",class:"rbroDocumentPanel"})),this.element.append(e),this.mainPanel.render(),this.menuPanel.render(),this.detailPanels)this.detailPanels[s].render();this.detailPanels[this.activeDetailPanel].show(),this.document.render(),this.popupWindow.render(),this.updateMenuButtons(),this.mouseupEventListener=function(u){r.mainPanel.mouseUp(u),r.document.mouseUp(u),r.popupWindow.hide()},document.addEventListener("mouseup",this.mouseupEventListener),window.addEventListener("resize",function(u){r.document.windowResized()}),this.element.addEventListener("dragstart",function(u){u.preventDefault()}),this.element.addEventListener("mousemove",function(u){r.mainPanel.processMouseMove(u)||r.document.processMouseMove(u)})}},{key:"getWidth",value:function(){return this.element.clientWidth}},{key:"setup",value:function(){this.addDefaultParameters(),this.headerBand.setup(),this.contentBand.setup(),this.footerBand.setup(),this.documentProperties.setup()}},{key:"initObjectMap",value:function(){this.addDataObject(this.headerBand),this.addDataObject(this.contentBand),this.addDataObject(this.footerBand),this.addDataObject(this.parameterContainer),this.addDataObject(this.styleContainer),this.addDataObject(this.documentProperties)}},{key:"getLabel",value:function(r){return r in this.locale?this.locale[r]:r}},{key:"getProperty",value:function(r){return this.properties[r]}},{key:"getMainPanel",value:function(){return this.mainPanel}},{key:"getMenuPanel",value:function(){return this.menuPanel}},{key:"getDocument",value:function(){return this.document}},{key:"getPopupWindow",value:function(){return this.popupWindow}},{key:"getFonts",value:function(){return this.properties.fonts}},{key:"getPatterns",value:function(){var r=[];if(this.properties.patternNumbers.length>0){r.push({separator:!0,name:this.getLabel("patternSeparatorNumbers")});var e,t=Ue(this.properties.patternNumbers);try{for(t.s();!(e=t.n()).done;){var s=e.value;r.push(s)}}catch(b){t.e(b)}finally{t.f()}}if(this.properties.patternDates.length>0){r.push({separator:!0,name:this.getLabel("patternSeparatorDates")});var u,g=Ue(this.properties.patternDates);try{for(g.s();!(u=g.n()).done;){var E=u.value;r.push(E)}}catch(b){g.e(b)}finally{g.f()}}return r}},{key:"getParameterItems",value:function(r,e){var t=[],s=this.getMainPanel().getParametersItem().getChildren(),u=0;if(r instanceof Ee){var g,E=!0,b=Ue(r.getAllDataSources());try{for(b.s();!(g=b.n()).done;){var D=g.value;if(D.parameters.length>0){var N;N=E?this.getLabel("parametersDataSource"):this.getLabel("parametersDataSourceName").replace("${name}",D.name),t.push({separator:!0,separatorClass:"rbroParameterDataSourceGroup",id:"ds"+u,name:N});var Z,J=[],le=E?null:D.name,Q=Ue(D.parameters);try{for(Q.s();!(Z=Q.n()).done;){var ue=Z.value;ue.type===ne.type.map?ue.appendParameterItems(J,e,le):ue.appendParameterItems(t,e,le)}}catch(Ke){Q.e(Ke)}finally{Q.f()}for(var Ie=0,fe=J;Ie<fe.length;Ie++){var we=fe[Ie];t.push(we)}}E=!1,u++}}catch(Ke){b.e(Ke)}finally{b.f()}}else if(r instanceof ne)for(var Se=r.getParent();Se!==null;){if(Se.type===ne.type.array){u=1,Se.appendFieldParameterItems(t,e,!0,null);break}Se=Se.getParent()}var Le=u>0?"":null;t.push({separator:!0,name:this.getLabel("parameters")});var Ae,Be=[],$e=Ue(s);try{for($e.s();!(Ae=$e.n()).done;){var Fe=Ae.value.getData();Fe.getValue("type")===ne.type.map?Fe.appendParameterItems(Be,e,Le):Fe.appendParameterItems(t,e,Le)}}catch(Ke){$e.e(Ke)}finally{$e.f()}return t.concat(Be)}},{key:"getArrayFieldParameterItems",value:function(r){var e=[],t=this.getMainPanel().getParametersItem().getChildren();e.push({separator:!0,name:this.getLabel("parameters")});var s,u=Ue(t);try{for(u.s();!(s=u.n()).done;){var g=s.value.getData();g.getValue("type")===ne.type.array&&g.appendFieldParameterItems(e,r,!1,null)}}catch(E){u.e(E)}finally{u.f()}return e}},{key:"appendContainerDocElements",value:function(r,e,t){var s,u=Ue(r.getPanelItem().getChildren());try{for(u.s();!(s=u.n()).done;){var g=s.value;if(g.getData()instanceof Ee){var E=g.getData();e?(t.push(E),E.addChildren(t)):t.push(E.toJS());var b=[];if(E instanceof Ar)b=E.getLinkedContainers();else{var D=E.getLinkedContainer();D!==null&&b.push(D)}var N,Z=Ue(b);try{for(Z.s();!(N=Z.n()).done;){var J=N.value;this.appendContainerDocElements(J,e,t)}}catch(le){Z.e(le)}finally{Z.f()}}}}catch(le){u.e(le)}finally{u.f()}}},{key:"getDocElements",value:function(r){var e=[];return this.appendContainerDocElements(this.headerBand,r,e),this.appendContainerDocElements(this.contentBand,r,e),this.appendContainerDocElements(this.footerBand,r,e),e}},{key:"setDetailPanel",value:function(r){r!==this.activeDetailPanel&&(this.detailPanels[this.activeDetailPanel].hide(),this.activeDetailPanel=r,this.detailPanels[r].show())}},{key:"notifyEvent",value:function(r,e,t){this.detailPanels[this.activeDetailPanel].notifyEvent(r,e,t)}},{key:"addParameter",value:function(r){this.addDataObject(r)}},{key:"addStyle",value:function(r){this.addDataObject(r),this.notifyEvent(r,i.operation.add)}},{key:"getStyles",value:function(){var r,e=[],t=Ue(this.getMainPanel().getStylesItem().getChildren());try{for(t.s();!(r=t.n()).done;){var s=r.value;e.push(s.getData())}}catch(u){t.e(u)}finally{t.f()}return e}},{key:"getParameters",value:function(){var r,e=[],t=Ue(this.getMainPanel().getParametersItem().getChildren());try{for(t.s();!(r=t.n()).done;){var s=r.value;e.push(s.getData())}}catch(u){t.e(u)}finally{t.f()}return e}},{key:"addDocElement",value:function(r){this.docElements.push(r),this.addDataObject(r)}},{key:"deleteDocElements",value:function(){for(var r=0;r<this.docElements.length;r++)this.deleteDataObject(this.docElements[r]);this.docElements=[]}},{key:"getDocumentProperties",value:function(){return this.documentProperties}},{key:"executeCommand",value:function(r){if(r.do(),this.lastCommandIndex<this.commandStack.length-1&&(this.commandStack=this.commandStack.slice(0,this.lastCommandIndex+1)),!this.selectionSinceLastCommand&&this.commandStack.length>0){var e=this.commandStack[this.commandStack.length-1];r.allowReplace(e)&&(r.replace(e),this.commandStack=this.commandStack.slice(0,this.commandStack.length-1),this.lastCommandIndex--)}this.commandStack.push(r),this.lastCommandIndex++,this.modified=!0,this.selectionSinceLastCommand=!1,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(r,!0)}},{key:"undoCommand",value:function(){if(this.lastCommandIndex>=0){var r=this.commandStack[this.lastCommandIndex];r.undo(),this.lastCommandIndex--,this.modified=this.lastCommandIndex!==this.savedCommandIndex,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(r,!1)}}},{key:"redoCommand",value:function(){if(this.lastCommandIndex<this.commandStack.length-1){this.lastCommandIndex++;var r=this.commandStack[this.lastCommandIndex];r.do(),this.modified=this.lastCommandIndex!==this.savedCommandIndex,this.updateMenuButtons(),this.properties.cmdExecutedCallback&&this.properties.cmdExecutedCallback(r,!1)}}},{key:"updateMenuButtons",value:function(){document.getElementById("rbro_menu_save").disabled=!this.modified,document.getElementById("rbro_menu_undo").disabled=this.lastCommandIndex<0,document.getElementById("rbro_menu_redo").disabled=this.lastCommandIndex>=this.commandStack.length-1}},{key:"updateMenuActionButtons",value:function(){var r,e=0,t={x:0,y:0},s=!0,u=!0,g=Ue(this.selections);try{for(g.s();!(r=g.n()).done;){var E=r.value,b=this.getDataObject(E);if(b instanceof Ee&&b.hasProperty("x")){e++;var D=b.getContainer().getOffset();e===1?t=D:(D.x!==t.x&&(s=!1),D.y!==t.y&&(u=!1))}}}catch(Le){g.e(Le)}finally{g.f()}var N=document.getElementById("rbo_menu_elements").querySelectorAll(".rbroMenuButton");if(e>1){s?document.getElementById("rbro_menu_align").removeAttribute("style"):document.getElementById("rbro_menu_align").style.display="none",u?document.getElementById("rbro_menu_valign").removeAttribute("style"):document.getElementById("rbro_menu_valign").style.display="none";var Z,J=Ue(N);try{for(J.s();!(Z=J.n()).done;)Z.value.style.display="none"}catch(Le){J.e(Le)}finally{J.f()}document.getElementById("rbro_menu_column_actions").style.display="none",document.getElementById("rbro_menu_row_actions").style.display="none"}else{var le=null;if(this.selections.length===1&&(le=this.getDataObject(this.selections[0])),document.getElementById("rbro_menu_align").style.display="none",document.getElementById("rbro_menu_valign").style.display="none",le instanceof Ht){var Q,ue=Ue(N);try{for(ue.s();!(Q=ue.n()).done;)Q.value.style.display="none"}catch(Le){ue.e(Le)}finally{ue.f()}var Ie=le.getTable(),fe=le.getParent();Ie!==null&&M(Ie.getValue("columns"))!==1?document.getElementById("rbro_menu_column_delete").removeAttribute("style"):document.getElementById("rbro_menu_column_delete").style.display="none",document.getElementById("rbro_menu_column_actions").removeAttribute("style"),Ie!==null&&fe!==null&&fe.getValue("bandType")===re.bandType.content?(M(Ie.getValue("contentRows"))!==1?document.getElementById("rbro_menu_row_delete").removeAttribute("style"):document.getElementById("rbro_menu_row_delete").style.display="none",document.getElementById("rbro_menu_row_actions").removeAttribute("style")):document.getElementById("rbro_menu_row_actions").style.display="none"}else{var we,Se=Ue(N);try{for(Se.s();!(we=Se.n()).done;)we.value.removeAttribute("style")}catch(Le){Se.e(Le)}finally{Se.f()}document.getElementById("rbro_menu_column_actions").style.display="none",document.getElementById("rbro_menu_row_actions").style.display="none"}}}},{key:"debugCommandStack",value:function(){console.clear();for(var r=0;r<this.commandStack.length;r++)r>this.lastCommandIndex?console.log("( "+r+" "+this.commandStack[r].getName()+" )"):console.log(r+" "+this.commandStack[r].getName())}},{key:"addDataObject",value:function(r){this.objectMap[r.getId()]=r}},{key:"deleteDataObject",value:function(r){this.isSelectedObject(r.getId())&&this.deselectObject(r.getId()),r.getId()in this.objectMap&&(r.remove(),delete this.objectMap[r.getId()])}},{key:"getDataObject",value:function(r){return r!==null&&r in this.objectMap?this.objectMap[r]:null}},{key:"getSelectedObjects",value:function(){var r,e=[],t=Ue(this.selections);try{for(t.s();!(r=t.n()).done;){var s=r.value,u=this.getDataObject(s);u!==null&&e.push(u)}}catch(g){t.e(g)}finally{t.f()}return e}},{key:"getSelectedObject",value:function(){return this.selections.length===1?this.getDataObject(this.selections[0]):null}},{key:"isSelectedObject",value:function(r){return this.selections.indexOf(r)!==-1}},{key:"isDocElementSelected",value:function(){var r,e=Ue(this.selections);try{for(e.s();!(r=e.n()).done;){var t=r.value;if(this.getDataObject(t)instanceof Ee)return!0}}catch(s){e.e(s)}finally{e.f()}return!1}},{key:"isTableElementSelected",value:function(r){var e,t=Ue(this.selections);try{for(t.s();!(e=t.n()).done;){var s=e.value,u=this.getDataObject(s);if(u instanceof Ht&&u.getValue("tableId")===r)return!0}}catch(g){t.e(g)}finally{t.f()}return!1}},{key:"selectObject",value:function(r,e){var t="none",s=this.getDataObject(r);if(e){if(s!==null&&this.selections.length===1&&this.selections[0]===r)return;this.deselectAll(!0)}s!==null&&(s instanceof Ee?t="docElement":s instanceof ne?t="parameter":s instanceof ye?t="style":s instanceof Nt&&(t="documentProperties"),this.selections.push(r),s.select(),s.getPanelItem()!==null&&(s.getPanelItem().openParentItems(),s.getPanelItem().setActive()),t!==this.activeDetailPanel&&this.setDetailPanel(t),this.detailPanels[this.activeDetailPanel].selectionChanged(),this.properties.selectCallback&&this.properties.selectCallback(s,!0)),this.selectionSinceLastCommand=!0,this.updateMenuActionButtons()}},{key:"deselectObject",value:function(r){this.deselectObjectInternal(r,!0),this.updateMenuActionButtons()}},{key:"deselectObjectInternal",value:function(r,e){var t=this.getDataObject(r);if(t!==null&&(t.deselect(),t.getPanelItem()!==null&&t.getPanelItem().setInactive()),e){var s=this.selections.indexOf(r);s!==-1&&this.selections.splice(s,1),this.selections.length>0?this.detailPanels[this.activeDetailPanel].selectionChanged():this.setDetailPanel("none")}t!==null&&this.properties.selectCallback&&this.properties.selectCallback(t,!1)}},{key:"deselectAll",value:function(r){var e,t=Ue(this.selections);try{for(t.s();!(e=t.n()).done;){var s=e.value;this.deselectObjectInternal(s,!1)}}catch(u){t.e(u)}finally{t.f()}this.selections=[],r&&this.setDetailPanel("none"),this.updateMenuActionButtons()}},{key:"getContainer",value:function(r,e,t,s){for(var u=null,g=-1,E=0;E<this.containers.length;E++){var b=this.containers[E];if(b.getLevel()>g&&b.isElementAllowed(t)&&b.isInside(r,e)){var D,N=!1,Z=Ue(s);try{for(Z.s();!(D=Z.n()).done;){var J=D.value;if(b===J||b.isChildOf(J)){N=!0;break}}}catch(le){Z.e(le)}finally{Z.f()}N||(u=b,g=b.getLevel())}}return u}},{key:"getContainers",value:function(){return this.containers}},{key:"addContainer",value:function(r){this.containers.push(r),this.addDataObject(r)}},{key:"deleteContainer",value:function(r){for(var e=0;e<this.containers.length;e++)if(this.containers[e].getId()===r.getId()){this.containers.splice(e,1);break}this.deleteDataObject(r)}},{key:"startBrowserDrag",value:function(r,e,t){this.browserDragType=r,this.browserDragId=t,this.getDocument().startBrowserDrag(e)}},{key:"isBrowserDragActive",value:function(r){return this.browserDragType===r}},{key:"getBrowserDragId",value:function(){return this.browserDragId}},{key:"updateSelectionDrag",value:function(r,e,t,s,u){var g;u&&(g=new be(t===Ee.dragType.element?"Update position":"Resize",this));var E,b=Ue(this.selections);try{for(b.s();!(E=b.n()).done;){var D=E.value,N=this.getDataObject(D);N!==null&&(t!==Ee.dragType.element||N.isDraggingAllowed())&&N.updateDrag(r,e,t,s,u?g:null)}}catch(Z){b.e(Z)}finally{b.f()}u&&!g.isEmpty()&&this.executeCommand(g)}},{key:"alignSelections",value:function(r){var e,t,s,u,g,E=Number.MAX_VALUE,b=Number.MIN_VALUE,D=Number.MAX_VALUE,N=Number.MIN_VALUE,Z=0,J=Ue(this.selections);try{for(J.s();!(g=J.n()).done;){var le=g.value,Q=this.getDataObject(le);Q instanceof Ee&&Q.hasProperty("x")&&(Z++,e=Q.getValue("xVal"),t=Q.getValue("yVal"),s=Q.getValue("widthVal"),u=Q.getValue("heightVal"),e<E&&(E=e),e+s>b&&(b=e+s),t<D&&(D=t),t+u>N&&(N=t+u))}}catch(ze){J.e(ze)}finally{J.f()}var ue=E+(b-E)/2,Ie=D+(N-D)/2;if(Z>1){var fe,we=new be("Align elements",this),Se=Ue(this.selections);try{for(Se.s();!(fe=Se.n()).done;){var Le=fe.value,Ae=this.getDataObject(Le);if(Ae instanceof Ee&&!(Ae instanceof tn))switch(r){case ye.alignment.left:var Be=new l(Ae.getId(),"x",""+E,l.type.text,this);we.addCommand(Be);break;case ye.alignment.center:var $e=new l(Ae.getId(),"x",""+(ue-Ae.getValue("widthVal")/2),l.type.text,this);we.addCommand($e);break;case ye.alignment.right:var Fe=new l(Ae.getId(),"x",""+(b-Ae.getValue("widthVal")),l.type.text,this);we.addCommand(Fe);break;case ye.alignment.top:var Ke=new l(Ae.getId(),"y",""+D,l.type.text,this);we.addCommand(Ke);break;case ye.alignment.middle:var Qe=new l(Ae.getId(),"y",""+(Ie-Ae.getValue("heightVal")/2),l.type.text,this);we.addCommand(Qe);break;case ye.alignment.bottom:var We=new l(Ae.getId(),"y",""+(N-Ae.getValue("heightVal")),l.type.text,this);we.addCommand(We)}}}catch(ze){Se.e(ze)}finally{Se.f()}this.executeCommand(we)}}},{key:"toPixel",value:function(r){return r===""||typeof r=="string"&&(r=parseFloat(r.replace(",",".")),isNaN(r))?"0px":r+"px"}},{key:"showLoading",value:function(){document.getElementById("rbro_loading_div")||document.body.append(c("div",{id:"rbro_loading_div",class:"rbroLoadingIndicator"}))}},{key:"hideLoading",value:function(){var r=document.getElementById("rbro_loading_div");r&&r.remove()}},{key:"getTestData",value:function(){var r,e={},t=Ue(this.getParameters());try{for(t.s();!(r=t.n()).done;){var s=r.value;if(!s.getValue("showOnlyNameType")){var u=s.getValue("type");u===ne.type.array||u===ne.type.simpleArray||u===ne.type.map?e[s.getName()]=s.getTestData(!1):u===ne.type.string||u===ne.type.number||u===ne.type.date?e[s.getName()]=s.getValue("testData"):u===ne.type.boolean?e[s.getName()]=s.getValue("testDataBoolean"):u===ne.type.image?e[s.getName()]=s.getValue("testDataImage"):u===ne.type.richText&&(e[s.getName()]=s.getValue("testDataRichText"))}}}catch(g){t.e(g)}finally{t.f()}return e}},{key:"previewInternal",value:function(r,e){var t=this,s=this.getRequestParameters();this.clearErrors();var u=s.reportServerHeaders;u["Content-Type"]="application/json",s.reportServerBasicAuth&&(u.Authorization="Basic "+btoa(s.reportServerBasicAuth.username+":"+s.reportServerBasicAuth.password)),this.showLoading();var g=new AbortController,E=setTimeout(function(){return g.abort()},s.reportServerTimeout);fetch(s.reportServerUrl,{signal:g.signal,method:"PUT",headers:u,body:JSON.stringify({report:this.getReport(),outputFormat:Nt.outputFormat.pdf,data:r,isTestData:e})}).then(function(b){if(!b.ok)throw Error(b.statusText);return t.properties.autoSaveOnPreview&&t.save(),b}).then(function(b){return b.text()}).then(function(b){if(clearTimeout(E),t.hideLoading(),b.substring(0,4)==="key:"){t.reportKey=b.substring(4);var D=new URL(s.reportServerUrl,document.location);D.searchParams.set("key",t.reportKey),D.searchParams.set("outputFormat","pdf"),t.getDocument().openPdfPreviewTab(D.toString(),u)}else{t.reportKey=null;try{var N=JSON.parse(b);N.errors.length>0&&t.processErrors(N.errors,!1)}catch(Z){alert("preview failed")}}}).catch(function(b){clearTimeout(E),t.hideLoading(),alert("preview failed")})}},{key:"getRequestParameters",value:function(){var r={reportServerUrl:this.properties.reportServerUrl,reportServerTimeout:this.properties.reportServerTimeout,reportServerUrlCrossDomain:this.properties.reportServerUrlCrossDomain,reportServerBasicAuth:this.properties.reportServerBasicAuth,reportServerHeaders:this.properties.reportServerHeaders};return this.properties.requestCallback&&this.properties.requestCallback(r),r}},{key:"setModified",value:function(r){this.modified=r,r||(this.savedCommandIndex=this.lastCommandIndex),this.updateMenuButtons()}},{key:"isModified",value:function(){return this.modified}},{key:"getReport",value:function(){var r={docElements:[],parameters:[],styles:[],version:4};r.docElements=this.getDocElements(!1);var e,t=Ue(this.getParameters());try{for(t.s();!(e=t.n()).done;){var s=e.value;r.parameters.push(s.toJS())}}catch(b){t.e(b)}finally{t.f()}var u,g=Ue(this.getStyles());try{for(g.s();!(u=g.n()).done;){var E=u.value;r.styles.push(E.toJS())}}catch(b){g.e(b)}finally{g.f()}return r.documentProperties=this.documentProperties.toJS(),r}},{key:"save",value:function(){if(this.properties.saveCallback)this.properties.saveCallback();else if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null)try{var r=this.getReport();window.localStorage.setItem(this.properties.localStorageReportKey,JSON.stringify(r)),this.setModified(!1)}catch(u){}if(this.getProperty("highlightUnusedParameters")){var e,t=Ue(this.getParameters());try{for(t.s();!(e=t.n()).done;){var s=e.value;s.editable&&s.setHighlightUnused(!1)}}catch(u){t.e(u)}finally{t.f()}}}},{key:"load",value:function(r){var e,t=Ue(this.getParameters());try{for(t.s();!(e=t.n()).done;){var s=e.value;this.deleteDataObject(s)}}catch(tt){t.e(tt)}finally{t.f()}var u,g=Ue(this.getStyles());try{for(g.s();!(u=g.n()).done;){var E=u.value;this.deleteDataObject(E)}}catch(tt){g.e(tt)}finally{g.f()}if(this.deleteDocElements(),this.nextId=1,this.docElements=[],this.objectMap={},this.initObjectMap(),this.selections=[],this.getMainPanel().clearAll(),this.getMainPanel().getHeaderItem().close(),this.getMainPanel().getDocumentItem().close(),this.getMainPanel().getFooterItem().close(),this.getMainPanel().getParametersItem().close(),this.getMainPanel().getStylesItem().close(),r.version<2){var b,D=Ue(r.docElements);try{for(D.s();!(b=D.n()).done;){var N=b.value;N.elementType===Ee.type.table&&(N.contentDataRows=[N.contentData],N.contentRows="1")}}catch(tt){D.e(tt)}finally{D.f()}}if(r.version<3){var Z,J=Ue(r.docElements);try{for(J.s();!(Z=J.n()).done;){var le=Z.value;if(le.elementType===Ee.type.table){for(var Q=0,ue=0;ue<le.headerData.columnData.length;ue++)Q+=le.headerData.columnData[ue].width;le.width=Q}}}catch(tt){J.e(tt)}finally{J.f()}}if(r.version<4){var Ie,fe=Ue(r.parameters);try{for(fe.s();!(Ie=fe.n()).done;){var we=Ie.value;if(we.type===ne.type.map){var Se,Le={},Ae=Ue(we.children);try{for(Ae.s();!(Se=Ae.n()).done;){var Be=Se.value;Le[Be.name]=Be.testData,Be.testData=""}}catch(tt){Ae.e(tt)}finally{Ae.f()}we.testData=JSON.stringify(Le)}else we.type===ne.type.boolean&&(we.testDataBoolean=!!we.testData)}}catch(tt){fe.e(tt)}finally{fe.f()}}this.documentProperties.setInitialData(r.documentProperties),this.documentProperties.setup();var $e,Fe=Ue(r.styles);try{for(Fe.s();!($e=Fe.n()).done;){var Ke=$e.value;this.createStyle(Ke)}}catch(tt){Fe.e(tt)}finally{Fe.f()}var Qe,We=Ue(r.parameters);try{for(We.s();!(Qe=We.n()).done;){var ze=Qe.value;this.createParameter(ze,null)}}catch(tt){We.e(tt)}finally{We.f()}var Ce,ae=Ue(r.docElements);try{for(ae.s();!(Ce=ae.n()).done;){var Ne=Ce.value;this.createDocElement(Ne)}}catch(tt){ae.e(tt)}finally{ae.f()}if(this.getProperty("highlightUnusedParameters")){var Je,De=this.getDocElements(!0),it=Ue(this.getParameters());try{for(it.s();!(Je=it.n()).done;){var rt=Je.value;if(rt.editable){var nt,ct=new be("Temp group"),ot=Ue(De);try{for(ot.s();!(nt=ot.n()).done;)nt.value.addCommandsForChangedParameterName(rt,rt.getName(),ct)}catch(tt){ot.e(tt)}finally{ot.f()}var wt,ht=Ue(this.getParameters());try{for(ht.s();!(wt=ht.n()).done;){var mt=wt.value;mt.getId()!==rt.getId()&&mt.addCommandsForChangedParameterName(rt,rt.getName(),ct)}}catch(tt){ht.e(tt)}finally{ht.f()}ct.isEmpty()&&rt.setHighlightUnused(!0)}}}catch(tt){it.e(tt)}finally{it.f()}}this.browserDragType="",this.browserDragId="",this.commandStack=[],this.lastCommandIndex=-1,this.savedCommandIndex=-1,this.modified=!1,this.updateMenuButtons()}},{key:"loadLocalReport",value:function(){if(this.properties.localStorageReportKey&&"localStorage"in window&&window.localStorage!==null){var r=null;try{r=JSON.parse(window.localStorage[this.properties.localStorageReportKey])}catch(e){}r!==null&&this.load(r)}}},{key:"preview",value:function(){this.previewInternal(this.getTestData(),!0)}},{key:"previewWithData",value:function(r){this.previewInternal(r,!1)}},{key:"downloadSpreadsheet",value:function(){var r=this.getRequestParameters(),e=new URL(r.reportServerUrl,document.location);e.searchParams.set("key",s.reportKey),e.searchParams.set("outputFormat","xlsx");var t=r.reportServerHeaders,s=this;if(this.reportKey!==null)if(t&&Object.keys(t).length>0){var u=new XMLHttpRequest;for(var g in u.responseType="blob",u.onreadystatechange=function(){if(u.readyState===XMLHttpRequest.DONE)if(u.status===200)if(u.response.type==="application/json"){var E=new FileReader;E.addEventListener("loadend",function(){var D=E.result;try{var N=JSON.parse(D);N.errors.length>0&&s.processErrors(N.errors,!1)}catch(Z){alert("download failed")}}),E.readAsText(u.response)}else{var b=URL.createObjectURL(u.response);window.open(b,"_blank")}else alert("download failed")},u.open("GET",e.toString(),!0),t)t.hasOwnProperty(g)&&u.setRequestHeader(g,t[g]);u.send()}else window.open(e.toString(),"_blank")}},{key:"processErrors",value:function(r,e){(e===void 0||e)&&this.clearErrors();var t,s=Ue(r);try{for(s.s();!(t=s.n()).done;){var u=t.value;if(u.object_id){document.getElementById("rbro_menu_item".concat(u.object_id)).classList.add("rbroError");var g=this.getDataObject(u.object_id);g!==null&&g.addError(u)}}}catch(E){s.e(E)}finally{s.f()}r.length>0&&(this.deselectAll(!1),this.selectObject(r[0].object_id,!1),this.detailPanels[this.activeDetailPanel].scrollToFirstError())}},{key:"clearErrors",value:function(){var r,e=Ue(document.querySelectorAll(".rbroMenuItem"));try{for(e.s();!(r=e.n()).done;)r.value.classList.remove("rbroError")}catch(b){e.e(b)}finally{e.f()}var t,s=Ue(document.querySelectorAll(".rbroFormRow"));try{for(s.s();!(t=s.n()).done;)t.value.classList.remove("rbroError")}catch(b){s.e(b)}finally{s.f()}var u,g=Ue(document.querySelectorAll(".rbroErrorMessage"));try{for(g.s();!(u=g.n()).done;)u.value.textContent=""}catch(b){g.e(b)}finally{g.f()}for(var E in this.objectMap)this.objectMap[E].clearErrors()}},{key:"destroy",value:function(){for(var r in this.popupWindow.destroy(),this.detailPanels)this.detailPanels[r].destroy();this.element.remove(),document.removeEventListener("keydown",this.keydownEventListener),document.removeEventListener("mouseup",this.mouseupEventListener)}},{key:"getUniqueId",value:function(){return this.nextId++}},{key:"getDocElementById",value:function(r){var e=this.getDataObject(r);return e instanceof Ee?e:null}},{key:"getParameterById",value:function(r){var e=this.getDataObject(r);return e instanceof ne?e:null}},{key:"getParameterByName",value:function(r){return this.getParameterByNameInternal(r,null)}},{key:"getParameterByNameInternal",value:function(r,e){var t=null,s=null,u=r.indexOf(".");u!==-1&&(t=r.substring(0,u),s=r.substring(u+1));var g,E=Ue(e?e.getChildren():this.getParameters());try{for(E.s();!(g=E.n()).done;){var b=g.value;if(t!==null&&(b.getValue("type")===ne.type.map||b.getValue("type")===ne.type.array)&&b.getValue("name")===t)return this.getParameterByNameInternal(s,b);if(t===null&&b.getValue("name")===r)return b}}catch(D){E.e(D)}finally{E.f()}return null}},{key:"getStyleById",value:function(r){var e=this.getDataObject(r);return e instanceof ye?e:null}},{key:"createDocElement",value:function(r){var e=Et.createElement(r.id,r,r.elementType,-1,!1,this),t=e.getMaxId();return t>=this.nextId&&(this.nextId=t+1),e}},{key:"createParameter",value:function(r,e){var t=new ne(r.id,r,this),s=null;s=!e||e.getValue("type")!==ne.type.array&&e.getValue("type")!==ne.type.map?this.mainPanel.getParametersItem():e.getPanelItem();var u=this.getProperty("adminMode"),g=new et("parameter",s,t,{hasChildren:!0,showAdd:u,showDelete:u,draggable:!0},this);t.setPanelItem(g),s.appendChild(g),t.setup(),t.getValue("type")!==ne.type.array&&t.getValue("type")!==ne.type.map&&(u&&(document.getElementById("rbro_menu_item_add".concat(t.getId())).style.display="none"),document.getElementById("rbro_menu_item_children".concat(t.getId())).style.display="none",document.getElementById("rbro_menu_item_children_toggle".concat(t.getId())).style.display="none"),this.addParameter(t);var E=t.getMaxId();return E>=this.nextId&&(this.nextId=E+1),t}},{key:"createStyle",value:function(r){var e=new ye(r.id,r,this),t=this.mainPanel.getStylesItem(),s=new et("style",t,e,{draggable:!0},this);return e.setPanelItem(s),t.appendChild(s),this.addStyle(e),r.id>=this.nextId&&(this.nextId=r.id+1),e}},{key:"deleteDocElement",value:function(r){for(var e=0;e<this.docElements.length;e++)if(this.docElements[e].getId()===r.getId()){this.docElements.splice(e,1),this.deleteDataObject(r),this.notifyEvent(r,i.operation.remove);break}}},{key:"deleteParameter",value:function(r){this.deleteDataObject(r),r.getPanelItem().getParent().removeChild(r.getPanelItem()),this.notifyEvent(r,i.operation.remove)}},{key:"deleteStyle",value:function(r){this.deleteDataObject(r),r.getPanelItem().getParent().removeChild(r.getPanelItem()),this.notifyEvent(r,i.operation.remove)}}]),w}();dr.V=wo})()})()},16496:function(cr){(function(){var dr=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],xt=typeof window!="undefined",Ot=xt&&window.mozInnerScreenX!=null;function Yt(vt,st,K){if(!xt)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var A=K&&K.debug||!1;if(A){var x=document.querySelector("#input-textarea-caret-position-mirror-div");x&&x.parentNode.removeChild(x)}var m=document.createElement("div");m.id="input-textarea-caret-position-mirror-div",document.body.appendChild(m);var y=m.style,_=window.getComputedStyle?getComputedStyle(vt):vt.currentStyle;y.whiteSpace="pre-wrap",vt.nodeName!=="INPUT"&&(y.wordWrap="break-word"),y.position="absolute",A||(y.visibility="hidden"),dr.forEach(function(h){y[h]=_[h]}),Ot?vt.scrollHeight>parseInt(_.height)&&(y.overflowY="scroll"):y.overflow="hidden",m.textContent=vt.value.substring(0,st),vt.nodeName==="INPUT"&&(m.textContent=m.textContent.replace(/\s/g,"\xA0"));var v=document.createElement("span");v.textContent=vt.value.substring(st)||".",m.appendChild(v);var I={top:v.offsetTop+parseInt(_.borderTopWidth),left:v.offsetLeft+parseInt(_.borderLeftWidth)};return A?v.style.backgroundColor="#aaa":document.body.removeChild(m),I}typeof cr.exports!="undefined"?cr.exports=Yt:xt&&(window.getCaretCoordinates=Yt)})()}}]);
