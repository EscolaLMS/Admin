(window.webpackJsonp=window.webpackJsonp||[]).push([[16,10],{"/y+f":function(se,j,e){"use strict";e.d(j,"f",function(){return c}),e.d(j,"d",function(){return O}),e.d(j,"e",function(){return V}),e.d(j,"c",function(){return A}),e.d(j,"a",function(){return C}),e.d(j,"b",function(){return S});var c;(function(s){s.Unselected="",s.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",s.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",s.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",s.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",s.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",s.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",s.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",s.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",s.Project="EscolaLms\\TopicTypeProject\\Models\\Project",s.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz"})(c||(c={}));var b;(function(s){s.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",s.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(b||(b={}));var f;(function(s){s.draft="draft",s.published="published",s.archived="archived"})(f||(f={}));var O;(function(s){s.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",s.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",s.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(O||(O={}));var V;(function(s){s.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(V||(V={}));var P;(function(s){s.cart_fixed="cart_fixed",s.cart_percent="cart_percent",s.product_fixed="product_fixed",s.product_percent="product_percent"})(P||(P={}));var A;(function(s){s.MULTIPLE_CHOICE="multiple_choice",s.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",s.TRUE_FALSE="true_false",s.SHORT_ANSWERS="short_answers",s.MATCHING="matching",s.NUMERICAL_QUESTION="numerical_question",s.ESSAY="essay",s.DESCRIPTION="description"})(A||(A={}));var C;(function(s){s.PRESENT="present",s.ABSENT="absent"})(C||(C={}));var S;(function(s){s.Manual="manual",s.TeamsForms="teams_forms",s.TeamsLecture="teams_lecture",s.TestPortal="test_portal"})(S||(S={}))},"0eZe":function(se,j,e){"use strict";var c=e("14J3"),b=e("BMrR"),f=e("jCWc"),O=e("kPKH"),V=e("+BJd"),P=e("mr32"),A=e("oBTY"),C=e("5NDa"),S=e("5rEg"),s=e("T2oS"),F=e("W9HT"),g=e("miYZ"),$=e("tsqr"),m=e("qLMh"),h=e("k1fw"),y=e("9og8"),p=e("tJVT"),d=e("q1tI"),u=e("VMEa"),M=e("Qurx"),I=e("5qq5"),B=e("F/zT"),r=e("FJDo"),i=e("nhC9"),a=e("9kvl"),l=e("vzes"),o=e("DVQu"),x=e("Gn8c"),N=e("TWax"),Pe=e("90Xc"),Ge=e("5Dmo"),ve=e("3S7+"),He=e("+L6B"),ne=e("2/Rp"),ge=e("0WSk"),k=e("Qiat"),L=e("/MfK"),t=e("nKUr"),H=[{title:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:Object(t.jsx)(a.a,{id:"email",defaultMessage:"email"}),dataIndex:"email"}],w=function(Y){var q=Y.id,Ie=Object(a.l)(),ce=Object(d.useRef)(),Ke=Object(d.useState)(!1),ee=Object(p.a)(Ke,2),ae=ee[0],D=ee[1],K=u.a.useForm(),v=Object(p.a)(K,1),te=v[0],J=Object(d.useCallback)(function(){var Z=Object(y.a)(Object(m.a)().mark(function ie(Q){var R;return Object(m.a)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return D(!0),U.next=3,Object(o.d)(Number(q),{user_id:Q.user_id});case 3:te.resetFields(),(R=ce.current)===null||R===void 0||R.reload(),D(!1);case 6:case"end":return U.stop()}},ie)}));return function(ie){return Z.apply(this,arguments)}}(),[q]),E=Object(d.useCallback)(function(){var Z=Object(y.a)(Object(m.a)().mark(function ie(Q){var R;return Object(m.a)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return D(!0),U.next=3,Object(o.e)(Number(q),{user_id:Q});case 3:(R=ce.current)===null||R===void 0||R.reload(),D(!1);case 5:case"end":return U.stop()}},ie)}));return function(ie){return Z.apply(this,arguments)}}(),[q]);return Object(t.jsxs)(d.Fragment,{children:[Object(t.jsx)(u.a,{layout:"inline",onFinish:J,form:te,labelWrap:!0,children:Object(t.jsx)(u.a.Group,{children:Object(t.jsx)(u.a.Item,{name:"user_id",label:Object(t.jsx)(a.a,{id:"users"}),valuePropName:"value",children:Object(t.jsx)(ge.a,{})})})}),Object(t.jsx)(k.a,{defaultSize:"small",loading:ae,search:!1,headerTitle:Ie.formatMessage({id:"users",defaultMessage:"Users"}),actionRef:ce,rowKey:"id",request:Object(y.a)(Object(m.a)().mark(function Z(){return Object(m.a)().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:return D(!0),Q.abrupt("return",Object(o.c)(Number(q)).then(function(R){return D(!1),R.success&&R.data.users?{data:R.data.users,total:R.data.users.length,success:!0}:R.success?[]:{data:[],total:0,success:!1}}));case 2:case"end":return Q.stop()}},Z)})),columns:[].concat(H,[{title:Object(t.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(ie,Q){return[Object(t.jsx)(ve.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(ne.a,{type:"primary",icon:Object(t.jsx)(L.a,{}),danger:!0,onClick:function(){return E(Q.id)}})},"delete")]}}])})]})},n=w,oe=e("5RzD"),$e=e("rnuo"),Ve=e("c+yx"),fe=e("hd5d"),Qe=e("DYRE"),Ze=e("zeV3"),Ne=e("rWUb"),et=e("OaEy"),we=e("2fM7"),Xe=function(Y){var q=Y.value,Ie=Y.onChange,ce=Y.multiple,Ke=ce===void 0?!1:ce,ee=Y.params,ae=Object(d.useState)([]),D=Object(p.a)(ae,2),K=D[0],v=D[1],te=Object(d.useState)(!1),J=Object(p.a)(te,2),E=J[0],Z=J[1],ie=Object(d.useState)([]),Q=Object(p.a)(ie,2),R=Q[0],me=Q[1],U=Object(d.useRef)(),z=Object(d.useCallback)(function(){Z(!0),U.current&&U.current.abort(),U.current=new AbortController,Object(Ne.e)(ee,{signal:U.current.signal}).then(function(_){_.success&&v(_.data),Z(!1)}).catch(function(){return Z(!1)})},[]);return Object(d.useEffect)(function(){var _=new AbortController;if(q){var X=Array.isArray(q)?q:[q],W=X.map(function(G){return typeof G=="object"?Number(G.id):Number(G)});me(W)}return function(){_.abort()}},[q]),Object(t.jsx)(we.a,{onFocus:function(){return z()},allowClear:!0,style:{width:"100%",minWidth:"400px"},value:R,onChange:Ie,mode:Ke?"multiple":void 0,showSearch:!0,placeholder:Object(t.jsx)(a.a,{id:"select_template",defaultMessage:"Select a template"}),optionFilterProp:"children",filterOption:function(X,W){if(W&&W.children){var G;return(W==null||(G=W.children)===null||G===void 0?void 0:G.toString().toLowerCase().indexOf(X&&X.toLowerCase()||""))>=0}return!1},notFoundContent:E?Object(t.jsx)(F.a,{size:"small"}):null,children:K.map(function(_){return Object(t.jsxs)(we.a.Option,{value:_.id,children:[_.name," ",Object(t.jsxs)("small",{children:[Object(t.jsx)(a.a,{id:_.channel.split("\\").pop()}),":",_.event&&Object(t.jsx)(a.a,{id:_.event.split("\\").pop()})]})]},_.id)})})},Je=Xe,tt=e("/y+f"),ye=function(Y){var q=Y.productId,Ie=Object(d.useState)(!1),ce=Object(p.a)(Ie,2),Ke=ce[0],ee=ce[1],ae=Object(d.useState)(),D=Object(p.a)(ae,2),K=D[0],v=D[1],te=Object(a.l)(),J=Object(d.useCallback)(function(){ee(!0),typeof K=="number"&&Object(Ne.g)(Number(K),q).then(function(E){E.success?$.b.success(E.message):$.b.error(E.message)}).catch(function(E){return $.b.error(E.toString())}).finally(function(){return ee(!1)})},[K,q]);return Object(t.jsxs)(Ze.b,{children:[Object(t.jsx)(Xe,{params:{event:tt.e.ManuallyTriggeredEvent},multiple:!1,value:K,onChange:function(Z){return v(Z)}}),Object(t.jsx)(ve.a,{title:te.formatMessage({id:"generate_pdf_for_products_tooltip"}),children:Object(t.jsx)(ne.a,{loading:Ke,onClick:function(){return J()},disabled:!K,children:Object(t.jsx)(a.a,{id:"generate"})})})]})},pe=ye,Ee=e("qSko"),he=function(Y){return Y.map(function(q){return{class:q.productable_type,id:Number(q.productable_id),name:q.name,quantity:q.quantity}})},Te=function(Y){var q=Array.isArray(Y)?Y:[Y],Ie=q.map(function(ce){return typeof ce=="object"?ce:{id:parseInt(ce.split(":")[1]),class:ce.split(":")[0],name:ce.split(":")[2]}});return Ie},Ce=function(Y){var q=Y.tab,Ie=q===void 0?"attributes":q,ce=Y.onTabChange,Ke=Y.id,ee=Y.productable,ae=Y.onProductSaved,D=Y.type,K=D===void 0?"card":D,v=Object(a.l)(),te=Object(d.useState)(Ke),J=Object(p.a)(te,2),E=J[0],Z=J[1],ie=Object(d.useState)([]),Q=Object(p.a)(ie,2),R=Q[0],me=Q[1],U=Object(d.useMemo)(function(){return E==="new"},[E]),z=Object(d.useState)(!0),_=Object(p.a)(z,2),X=_[0],W=_[1],G=Object(d.useState)(null),le=Object(p.a)(G,2),re=le[0],je=le[1],at=Object(d.useState)({}),ke=Object(p.a)(at,2),Ye=ke[1],De=Object(d.useCallback)(function(){return Ye({})},[]),ue=u.a.useForm(),Se=Object(p.a)(ue,1),Re=Se[0],Ue=Object(d.useState)(!1),Le=Object(p.a)(Ue,2),nt=Le[0],xe=Le[1];Object(d.useEffect)(function(){ee&&ee.class_id&&ee.class_type&&(Object(o.f)({productable_id:Number(ee.class_id),productable_type:ee.class_type}).then(function(de){de.success&&Z(de.data.id)}).catch(function(){console.log("err"),Z("new")}),me([{class:ee.class_type,id:Number(ee.class_id),name:ee.name}]),Re.setFieldsValue({productables:[{class:ee.class_type,id:ee.class_id,name:ee.name}]}))},[ee]);var it=Object(d.useCallback)(Object(y.a)(Object(m.a)().mark(function de(){var T,Ae,We,Be,ze,Fe,be;return Object(m.a)().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(!(E&&E!=="new")){Oe.next=5;break}return Oe.next=3,Object(o.c)(Number(E));case 3:T=Oe.sent,T.success&&(ze=Object(h.a)(Object(h.a)({},T.data),{},{categories:(Ae=T.data.categories)===null||Ae===void 0?void 0:Ae.map(Ve.a),tags:(We=T.data.tags)===null||We===void 0?void 0:We.map(function(qe){return Object(Ve.j)(qe)}),productables:T.data.productables?he(T.data.productables):[]}),T.data&&T!==null&&T!==void 0&&(Be=T.data)!==null&&Be!==void 0&&Be.productables&&je(T==null||(Fe=T.data)===null||Fe===void 0||(be=Fe.productables[0])===null||be===void 0?void 0:be.productable_type),me(he(T.data.productables)),Re.setFieldsValue(ze),xe(T.data.type==="bundle"));case 5:W(!1);case 6:case"end":return Oe.stop()}},de)})),[E]);Object(d.useEffect)(function(){E&&it()},[E]);var rt=Object(d.useMemo)(function(){return{onValuesChange:function(T){T.type&&xe(T.type==="bundle")},onFinish:function(){var de=Object(y.a)(Object(m.a)().mark(function Ae(We){var Be,ze,Fe,be;return Object(m.a)().wrap(function(Oe){for(;;)switch(Oe.prev=Oe.next){case 0:if(ze=(Be=We.related_products)!==null&&Be!==void 0&&Be.every(function(qe){return typeof qe=="object"})?We.related_products.map(function(qe){return qe.id}):We.related_products,Fe=Object(h.a)(Object(h.a)({},We),{},{productables:R?Te(R):void 0},We.related_products?{related_products:ze}:{}),!U){Oe.next=9;break}return Oe.next=5,Object(o.a)(Fe);case 5:be=Oe.sent,be.success&&(ae&&ae(be.data),Z(be.data.id),Re.setFieldsValue(be.data)),Oe.next=13;break;case 9:return Oe.next=11,Object(o.i)(Number(E),Fe);case 11:be=Oe.sent,be.success&&ae&&ae(be.data);case 13:$.b.success(be.message);case 14:case"end":return Oe.stop()}},Ae)}));function T(Ae){return de.apply(this,arguments)}return T}()}},[E,ae,R]);return X?Object(t.jsx)(F.a,{}):Object(t.jsxs)(i.a,{title:K==="line"?Object(t.jsx)(a.a,{id:"product_widget_title",defaultMessage:"Product Attibutes"}):null,tooltip:K==="line"?Object(t.jsx)(a.a,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,subTitle:K==="line"?Object(t.jsx)(a.a,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,tabs:{type:K,activeKey:Ie,onChange:function(T){return ce(T)}},children:[Object(t.jsxs)(i.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"attributes"}),children:[Object(t.jsxs)(u.a,Object(h.a)(Object(h.a)({},rt),{},{form:Re,children:[Object(t.jsxs)(u.a.Group,{children:[Object(t.jsx)(M.a,{width:"md",name:"name",initialValue:U&&ee?ee.name:void 0,label:Object(t.jsx)(a.a,{id:"name"}),tooltip:Object(t.jsx)(a.a,{id:"name_tooltip"}),placeholder:v.formatMessage({id:"name",defaultMessage:"name"}),required:!0}),Object(t.jsx)(u.a.Item,{shouldUpdate:!0,style:{minWidth:104*3},name:"productables",tooltip:Object(t.jsx)(a.a,{id:"productables_tooltip"}),label:Object(t.jsx)(a.a,{id:"productables"}),valuePropName:"value",children:Object(t.jsx)(l.a,{multiple:nt,disabled:ee!==void 0,onChange:function(T){return me(Te(T))}})})]}),Object(t.jsxs)(u.a.Group,{children:[Object(t.jsx)(I.a.Group,{disabled:ee!==void 0,initialValue:E&&E!=="new"?void 0:"single",rules:[{required:!0}],name:"type",label:Object(t.jsx)(a.a,{id:"type"}),options:[{label:v.formatMessage({id:"single",defaultMessage:"single"}),value:"single"},{label:v.formatMessage({id:"bundle",defaultMessage:"bundle"}),value:"bundle"}]}),Object(t.jsx)(B.a,{name:"purchasable",label:Object(t.jsx)(a.a,{id:"purchasable"}),tooltip:Object(t.jsx)(a.a,{id:"purchasable_tooltip"})})]}),Object(t.jsxs)(u.a.Group,{title:Object(t.jsx)(a.a,{id:"prices"}),children:[Object(t.jsx)(r.a,{rules:[{required:!0}],width:"xs",name:"price",label:Object(t.jsx)(a.a,{id:"price_in_cents"}),tooltip:Object(t.jsx)(a.a,{id:"price_tooltip"}),placeholder:v.formatMessage({id:"price",defaultMessage:"price"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(r.a,{rules:[{required:!0}],width:"xs",name:"tax_rate",label:Object(t.jsx)(a.a,{id:"tax_rate"}),tooltip:Object(t.jsx)(a.a,{id:"tax_rate_tooltip"}),placeholder:v.formatMessage({id:"tax_rate",defaultMessage:"tax_rate"}),initialValue:U?23:void 0,min:0,max:100,fieldProps:{step:1,formatter:function(T){return"".concat(T,"%")},parser:function(T){return T?T.replace("%",""):""}}}),Object(t.jsx)(u.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"price_brutto"}),tooltip:Object(t.jsx)(a.a,{id:"price_brutto_tooltip"}),children:function(T){return Object(t.jsx)(S.a,{disabled:!0,readOnly:!0,style:{width:"104px"},value:T.getFieldValue("price")?Math.round(parseInt(T.getFieldValue("price"))*(1+parseInt(T.getFieldValue("tax_rate"))/100)):void 0})}}),Object(t.jsx)(u.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"tax_value"}),tooltip:Object(t.jsx)(a.a,{id:"tax_value_tooltip"}),children:function(T){return Object(t.jsx)(S.a,{disabled:!0,readOnly:!0,style:{width:"104px"},value:T.getFieldValue("price")?Math.round(parseInt(T.getFieldValue("price"))*(parseInt(T.getFieldValue("tax_rate"))/100)):void 0})}}),Object(t.jsx)(r.a,{width:"xs",name:"price_old",label:Object(t.jsx)(a.a,{id:"price_old"}),tooltip:Object(t.jsx)(a.a,{id:"price_old_tooltip"}),placeholder:v.formatMessage({id:"price",defaultMessage:"price"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(r.a,{initialValue:U?null:void 0,width:"xs",name:"extra_fees",label:Object(t.jsx)(a.a,{id:"extra_fees"}),tooltip:Object(t.jsx)(a.a,{id:"extra_fees_tooltip"}),placeholder:v.formatMessage({id:"extra_fees",defaultMessage:"extra_fees"}),min:0,max:99999,fieldProps:{step:1}})]}),Object(t.jsxs)(u.a.Group,{title:Object(t.jsx)(a.a,{id:"additional_fields"}),children:[Object(t.jsx)(M.a,{width:"sm",name:"duration",label:Object(t.jsx)(a.a,{id:"duration"}),tooltip:Object(t.jsx)(a.a,{id:"duration_tooltip"}),placeholder:v.formatMessage({id:"duration",defaultMessage:"duration"})}),Object(t.jsx)(r.a,{initialValue:U?null:void 0,width:"sm",name:"limit_per_user",label:Object(t.jsx)(a.a,{id:"limit_per_user"}),tooltip:Object(t.jsx)(a.a,{id:"limit_per_user_tooltip"}),placeholder:v.formatMessage({id:"limit_per_user",defaultMessage:"limit_per_user"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(r.a,{initialValue:U?null:void 0,width:"sm",name:"limit_total",label:Object(t.jsx)(a.a,{id:"limit_total"}),tooltip:Object(t.jsx)(a.a,{id:"limit_total_tooltip"}),placeholder:v.formatMessage({id:"limit_total",defaultMessage:"limit_total"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(M.a,{width:"sm",name:"teaser_url",label:Object(t.jsx)(a.a,{id:"teaser_url"}),tooltip:Object(t.jsx)(a.a,{id:"teaser_url_tooltip"}),placeholder:v.formatMessage({id:"teaser_url",defaultMessage:"teaser_url"})})]})," ",Object(t.jsx)(u.a.Item,{shouldUpdate:!0,name:"related_products",label:Object(t.jsx)(a.a,{id:"related_products"}),valuePropName:"value",children:re&&Object(t.jsx)(Ee.a,{type:re,multiple:!0})}),!U&&Object(t.jsx)(u.a.Item,{style:{width:"100%"},name:"description",label:Object(t.jsx)(a.a,{id:"description"}),tooltip:Object(t.jsx)(a.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(t.jsx)(fe.a,{directory:"products/".concat(E,"/wysiwyg")})}),R.length>0&&nt&&Object(t.jsx)(k.a,{headerTitle:v.formatMessage({id:"selected_products",defaultMessage:"Selected Products"}),pagination:!1,search:!1,dataSource:Object(A.a)(R),rowKey:"id",columns:[{title:Object(t.jsx)(a.a,{id:"id",defaultMessage:"id"}),dataIndex:"id",width:"10%"},{title:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:Object(t.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"class",render:function(T,Ae){return Object(t.jsx)(P.a,{children:Object(t.jsx)(a.a,{id:Ae.class.split("\\").pop(),defaultMessage:Ae.class.split("\\").pop()})})}},{title:Object(t.jsx)(a.a,{id:"quantity",defaultMessage:"quantity"}),dataIndex:"quantity",width:"10%",render:function(T,Ae){return Object(t.jsx)(S.a,{min:1,type:"number",value:Ae.quantity||1,onChange:function(Be){var ze=Be.target.value,Fe=R.findIndex(function(st){return st.id===Ae.id}),be=R;be[Fe].quantity=Number(ze),me(be),De()}})}}]})]}))," "]},"attributes"),!U&&Object(t.jsx)(i.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"cart_media",defaultMessage:"Cart Media"}),children:Object(t.jsx)(u.a,Object(h.a)(Object(h.a)({},rt),{},{form:Re,children:Object(t.jsx)(x.a,{folder:"products/".concat(E),wrapInForm:!1,title:"image",action:"/api/admin/products/".concat(E,"/?_method=PUT"),src_name:"poster_url",form_name:"poster",getUploadedSrcField:function(T){return T.file.response.data.poster_url},setPath:function(T){return Re.setFieldsValue(T)}})}))},"media"),!U&&Object(t.jsx)(i.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"product_categories_and_tags",defaultMessage:"Product Categories & Tags"}),children:Object(t.jsx)(u.a,Object(h.a)(Object(h.a)({},rt),{},{form:Re,children:Object(t.jsxs)(b.a,{children:[Object(t.jsx)(O.a,{span:12,children:Object(t.jsx)(u.a.Item,{label:Object(t.jsx)(a.a,{id:"categories"}),name:"categories",valuePropName:"value",children:Object(t.jsx)(N.a,{})})}),Object(t.jsx)(O.a,{span:12,children:Object(t.jsx)(u.a.Item,{label:Object(t.jsx)(a.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(t.jsx)($e.a,{})})})]})}))},"categories"),!U&&Object(t.jsx)(i.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"users_attached",defaultMessage:"Users Attached"}),children:Object(t.jsx)(b.a,{children:Object(t.jsx)(O.a,{span:24,children:E&&Object(t.jsx)(n,{id:E})})})},"users")," ",!U&&Object(t.jsx)(i.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"user_submission",defaultMessage:"Users Attached without Account"}),children:Object(t.jsx)(b.a,{children:Object(t.jsx)(O.a,{span:12,children:E&&Object(t.jsx)(oe.a,{id:Number(E),type:"EscolaLms\\Cart\\Models\\Product"})})})},"user_submission"),!U&&E&&Object(t.jsx)(i.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"template"}),children:Object(t.jsx)(b.a,{children:Object(t.jsx)(O.a,{span:12,children:Object(t.jsx)(pe,{productId:Number(E)})})})},"template")]})},Me=j.a=Ce},"4f6N":function(se,j,e){"use strict";var c=e("2qtc"),b=e("kLXV"),f=e("9kvl"),O=e("nKUr"),V=e.n(O),P=function(C){var S=C.visible,s=C.setManage;return Object(O.jsx)(b.a,{width:"600px",title:Object(O.jsx)(f.a,{id:"course.validate_edit.header",defaultMessage:"course.validate_edit.header"}),visible:S,onOk:function(){return s({showModal:!1,disableEdit:!1,clicked:!0})},onCancel:function(){return s({showModal:!1,disableEdit:!0,clicked:!1})},okText:"OK",cancelText:"Cancel",children:Object(O.jsx)("p",{children:Object(O.jsx)(f.a,{id:"course.validate_edit.content",defaultMessage:"course.validate_edit.content"})})})};j.a=P},"5RzD":function(se,j,e){"use strict";var c=e("miYZ"),b=e("tsqr"),f=e("k1fw"),O=e("P2fV"),V=e("NJEC"),P=e("5Dmo"),A=e("3S7+"),C=e("+L6B"),S=e("2/Rp"),s=e("qLMh"),F=e("9og8"),g=e("tJVT"),$=e("q1tI"),m=e("VMEa"),h=e("9kvl"),y=e("Qiat"),p=e("xvlK"),d=e("/MfK");function u(k,L){return M.apply(this,arguments)}function M(){return M=Object(F.a)(Object(s.a)().mark(function k(L,t){return Object(s.a)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",Object(h.i)("/api/admin/user-submissions",Object(f.a)({method:"GET",params:Object(f.a)(Object(f.a)({},L),{},{per_page:L&&L.pageSize,page:L&&L.current})},t||{})));case 1:case"end":return w.stop()}},k)})),M.apply(this,arguments)}function I(k,L){return B.apply(this,arguments)}function B(){return B=Object(F.a)(Object(s.a)().mark(function k(L,t){return Object(s.a)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",Object(h.i)("/api/admin/user-submissions",Object(f.a)({method:"POST",headers:{"Content-Type":"application/json"},data:L},t||{})));case 1:case"end":return w.stop()}},k)})),B.apply(this,arguments)}function r(k,L){return i.apply(this,arguments)}function i(){return i=Object(F.a)(Object(s.a)().mark(function k(L,t){return Object(s.a)().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",Object(h.i)("/api/admin/user-submissions/".concat(L),Object(f.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},t||{})));case 1:case"end":return w.stop()}},k)})),i.apply(this,arguments)}var a=e("y8nQ"),l=e("Vl3Y"),o=e("rmhi"),x=e("Qurx"),N=e("nKUr"),Pe=function(L){var t=Object(h.l)(),H=L.visible,w=L.onVisibleChange,n=L.onFinish,oe=L.id,$e=l.a.useForm(),Ve=Object(g.a)($e,1),fe=Ve[0];return Object(N.jsx)(o.a,{form:fe,title:t.formatMessage({id:"email",defaultMessage:"email"}),width:"30vw",visible:H,onVisibleChange:w,onFinish:n,children:Object(N.jsx)(m.a.Group,{children:Object(N.jsx)(x.a,{width:"md",name:"email",label:Object(N.jsx)(h.a,{id:"email"}),tooltip:Object(N.jsx)(h.a,{id:"email_tooltip"}),placeholder:t.formatMessage({id:"email",defaultMessage:"email"}),required:!0})})})},Ge=Pe,ve=e("MvUh"),He=[{title:Object(N.jsx)(h.a,{id:"id",defaultMessage:"id"}),dataIndex:"id",hideInSearch:!0},{title:Object(N.jsx)(h.a,{id:"email",defaultMessage:"email"}),dataIndex:"email",hideInSearch:!1,width:"70%"},{title:Object(N.jsx)(h.a,{id:"status",defaultMessage:"status"}),dataIndex:"status",hideInSearch:!0}],ne=function(L){var t=L.id,H=L.type,w=Object(h.l)(),n=Object($.useRef)(),oe=Object($.useState)(!1),$e=Object(g.a)(oe,2),Ve=$e[0],fe=$e[1],Qe=m.a.useForm(),Ze=Object(g.a)(Qe,1),Ne=Ze[0],et=Object($.useState)(!1),we=Object(g.a)(et,2),Xe=we[0],Je=we[1],tt=Object($.useCallback)(function(){var ye=Object(F.a)(Object(s.a)().mark(function pe(Ee){var he;return Object(s.a)().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:return fe(!0),Ce.next=3,r(Number(Ee));case 3:(he=n.current)===null||he===void 0||he.reload(),fe(!1);case 5:case"end":return Ce.stop()}},pe)}));return function(pe){return ye.apply(this,arguments)}}(),[t,H]);return Object(N.jsxs)($.Fragment,{children:[Object(N.jsx)(y.a,{defaultSize:"small",loading:Ve,search:{layout:"vertical"},headerTitle:w.formatMessage({id:"user_submission",defaultMessage:"user_submission"}),actionRef:n,toolBarRender:function(){return[Object(N.jsxs)(S.a,{type:"primary",onClick:function(){return Je(!0)},children:[Object(N.jsx)(p.a,{})," ",Object(N.jsx)(h.a,{id:"email_to_add",defaultMessage:"email_to_add"})]},"primary")]},rowKey:"id",request:function(){var ye=Object(F.a)(Object(s.a)().mark(function pe(Ee){var he,Te,Ce;return Object(s.a)().wrap(function(_e){for(;;)switch(_e.prev=_e.next){case 0:return he=Ee.email,Te=Ee.pageSize,Ce=Ee.current,fe(!0),_e.abrupt("return",u({email:he,pageSize:Te,current:Ce,morphable_type:H,morphable_id:t}).then(function(Y){return fe(!1),Y.success?{data:Y.data,total:Y.data.length,success:!0}:Y.success?[]:{data:[],total:0,success:!1}}));case 3:case"end":return _e.stop()}},pe)}));return function(pe){return ye.apply(this,arguments)}}(),columns:[].concat(He,[{title:Object(N.jsx)(h.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(pe,Ee){return[Object(N.jsx)(V.a,{title:Object(N.jsx)(h.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return tt(Ee.id)},okText:Object(N.jsx)(h.a,{id:"yes"}),cancelText:Object(N.jsx)(h.a,{id:"no"}),children:Object(N.jsx)(A.a,{title:Object(N.jsx)(h.a,{id:"delete",defaultMessage:"delete"}),children:Object(N.jsx)(S.a,{type:"primary",icon:Object(N.jsx)(d.a,{}),danger:!0})})},"delete")]}}])})," ",Object(N.jsx)(Ge,{visible:Xe,onVisibleChange:function(pe){return pe===!1&&Je(!1)},onFinish:function(){var ye=Object(F.a)(Object(s.a)().mark(function pe(Ee){var he,Te;return Object(s.a)().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:return fe(!0),Me.prev=1,Me.next=4,I(Object(f.a)(Object(f.a)({},Ee),{},{morphable_id:t,morphable_type:H}));case 4:he=Me.sent,he.success&&(Ne.resetFields(),(Te=n.current)===null||Te===void 0||Te.reload(),fe(!1),Je(!1)),Me.next=13;break;case 8:Me.prev=8,Me.t0=Me.catch(1),Je(!1),b.b.error(Object(N.jsx)(h.a,{id:"error",defaultMessage:"error"})),fe(!1);case 13:case"end":return Me.stop()}},pe,null,[[1,8]])}));return function(pe){return ye.apply(this,arguments)}}()})]})},ge=j.a=ne},"90Xc":function(se,j,e){},DVQu:function(se,j,e){"use strict";e.d(j,"h",function(){return V}),e.d(j,"a",function(){return A}),e.d(j,"c",function(){return S}),e.d(j,"i",function(){return F}),e.d(j,"b",function(){return $}),e.d(j,"g",function(){return h}),e.d(j,"f",function(){return p}),e.d(j,"d",function(){return u}),e.d(j,"e",function(){return I});var c=e("qLMh"),b=e("k1fw"),f=e("9og8"),O=e("9kvl");function V(r,i){return P.apply(this,arguments)}function P(){return P=Object(f.a)(Object(c.a)().mark(function r(i,a){return Object(c.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(O.i)("/api/admin/products",Object(b.a)({method:"GET",params:Object(b.a)(Object(b.a)({},i),{},{free:typeof i.free!="undefined"?i.free==="true"?1:0:void 0,per_page:i.pageSize,page:i.current})},a||{})));case 1:case"end":return o.stop()}},r)})),P.apply(this,arguments)}function A(r,i){return C.apply(this,arguments)}function C(){return C=Object(f.a)(Object(c.a)().mark(function r(i,a){return Object(c.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(O.i)("/api/admin/products",Object(b.a)({method:"POST",data:i},a||{})));case 1:case"end":return o.stop()}},r)})),C.apply(this,arguments)}function S(r,i){return s.apply(this,arguments)}function s(){return s=Object(f.a)(Object(c.a)().mark(function r(i,a){return Object(c.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(O.i)("/api/admin/products/".concat(i),Object(b.a)({method:"GET"},a||{})));case 1:case"end":return o.stop()}},r)})),s.apply(this,arguments)}function F(r,i,a){return g.apply(this,arguments)}function g(){return g=Object(f.a)(Object(c.a)().mark(function r(i,a,l){return Object(c.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",Object(O.i)("/api/admin/products/".concat(i,"?_method=PUT"),Object(b.a)({method:"POST",data:a},l||{})));case 1:case"end":return x.stop()}},r)})),g.apply(this,arguments)}function $(r,i){return m.apply(this,arguments)}function m(){return m=Object(f.a)(Object(c.a)().mark(function r(i,a){return Object(c.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(O.i)("/api/admin/products/".concat(i),Object(b.a)({method:"DELETE"},a||{})));case 1:case"end":return o.stop()}},r)})),m.apply(this,arguments)}function h(r){return y.apply(this,arguments)}function y(){return y=Object(f.a)(Object(c.a)().mark(function r(i){return Object(c.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(O.i)("/api/admin/productables",Object(b.a)({method:"GET"},i||{})));case 1:case"end":return l.stop()}},r)})),y.apply(this,arguments)}function p(r,i){return d.apply(this,arguments)}function d(){return d=Object(f.a)(Object(c.a)().mark(function r(i,a){return Object(c.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(O.i)("/api/admin/productables/product",Object(b.a)({method:"GET",params:i},a||{})));case 1:case"end":return o.stop()}},r)})),d.apply(this,arguments)}function u(r,i,a){return M.apply(this,arguments)}function M(){return M=Object(f.a)(Object(c.a)().mark(function r(i,a,l){return Object(c.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",Object(O.i)("/api/admin/products/".concat(i,"/attach"),Object(b.a)({method:"POST",data:a},l||{})));case 1:case"end":return x.stop()}},r)})),M.apply(this,arguments)}function I(r,i,a){return B.apply(this,arguments)}function B(){return B=Object(f.a)(Object(c.a)().mark(function r(i,a,l){return Object(c.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",Object(O.i)("/api/admin/products/".concat(i,"/detach"),Object(b.a)({method:"POST",data:a},l||{})));case 1:case"end":return x.stop()}},r)})),B.apply(this,arguments)}},GZq3:function(se,j,e){},Gb5Y:function(se,j,e){"use strict";e.d(j,"b",function(){return V}),e.d(j,"c",function(){return A}),e.d(j,"e",function(){return S}),e.d(j,"g",function(){return F}),e.d(j,"d",function(){return $}),e.d(j,"f",function(){return h}),e.d(j,"a",function(){return p});var c=e("qLMh"),b=e("k1fw"),f=e("9og8"),O=e("9kvl");function V(u,M){return P.apply(this,arguments)}function P(){return P=Object(f.a)(Object(c.a)().mark(function u(M,I){return Object(c.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(O.i)("/api/admin/consultations",Object(b.a)({method:"GET",useCache:!1,params:M},I||{})));case 1:case"end":return r.stop()}},u)})),P.apply(this,arguments)}function A(u,M){return C.apply(this,arguments)}function C(){return C=Object(f.a)(Object(c.a)().mark(function u(M,I){return Object(c.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(O.i)("/api/admin/consultations",Object(b.a)({method:"POST",headers:{"Content-Type":"application/json"},data:M},I||{})));case 1:case"end":return r.stop()}},u)})),C.apply(this,arguments)}function S(u,M){return s.apply(this,arguments)}function s(){return s=Object(f.a)(Object(c.a)().mark(function u(M,I){return Object(c.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(O.i)("/api/admin/consultations/".concat(M),Object(b.a)({method:"GET",useCache:!1},I||{})));case 1:case"end":return r.stop()}},u)})),s.apply(this,arguments)}function F(u,M,I){return g.apply(this,arguments)}function g(){return g=Object(f.a)(Object(c.a)().mark(function u(M,I,B){return Object(c.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(O.i)("/api/admin/consultations/".concat(M),Object(b.a)({method:"PUT",headers:{"Content-Type":"application/json"},data:I},B||{})));case 1:case"end":return i.stop()}},u)})),g.apply(this,arguments)}function $(u,M){return m.apply(this,arguments)}function m(){return m=Object(f.a)(Object(c.a)().mark(function u(M,I){return Object(c.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(O.i)("/api/admin/consultations/".concat(M),Object(b.a)({method:"DELETE",useCache:!1},I||{})));case 1:case"end":return r.stop()}},u)})),m.apply(this,arguments)}function h(u,M){return y.apply(this,arguments)}function y(){return y=Object(f.a)(Object(c.a)().mark(function u(M,I){return Object(c.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(O.i)("/api/admin/consultations/".concat(M,"/schedule"),Object(b.a)({method:"GET",useCache:!1},I||{})));case 1:case"end":return r.stop()}},u)})),y.apply(this,arguments)}function p(u,M,I){return d.apply(this,arguments)}function d(){return d=Object(f.a)(Object(c.a)().mark(function u(M,I,B){return Object(c.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(O.i)("/api/admin/consultations/change-term/".concat(M),Object(b.a)({method:"POST",headers:{"Content-Type":"application/json"},data:{executed_at:I}},B||{})));case 1:case"end":return i.stop()}},u)})),d.apply(this,arguments)}},"J+hL":function(se,j,e){},MvUh:function(se,j,e){},TWax:function(se,j,e){"use strict";var c=e("ozfa"),b=e("MJZm"),f=e("T2oS"),O=e("W9HT"),V=e("tJVT"),P=e("q1tI"),A=e.n(P),C=e("JifO"),S=e("nKUr"),s=e.n(S),F=function $(m){return m.subcategories&&m.subcategories.length?{title:m.name,key:m.id,children:m.subcategories.map(function(h){return $(h)})}:{title:m.name,key:m.id}},g=function(m){var h=m.value,y=m.onChange,p=m.multiple,d=p===void 0?!0:p,u=Object(P.useState)([]),M=Object(V.a)(u,2),I=M[0],B=M[1];Object(P.useEffect)(function(){Object(C.c)().then(function(i){i.success&&B(i.data)})},[]);var r=Object(P.useMemo)(function(){return I.map(function(i){return F(i)})},[I]);return I.length===0?Object(S.jsx)(O.a,{}):Object(S.jsx)(b.a,{multiple:d,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,style:{width:"100%"},checkedKeys:h,onCheck:function(a){if(typeof a=="object"&&!Array.isArray(a)&&a.checked){var l=a.checked;return y&&Array.isArray(l)&&y(l)}},treeData:r,disabled:I.length===0})};j.a=g},VlvL:function(se,j,e){"use strict";var c=e("9kvl"),b=e("Ty5D"),f=e("nKUr"),O=e.n(f),V=function(A){var C=A.show,S=Object(c.l)();return Object(f.jsx)(b.b,{when:C,message:S.formatMessage({id:"unsaved_changes"})})};j.a=V},eFHa:function(se,j,e){"use strict";e.d(j,"a",function(){return V});var c=e("tJVT"),b=e("q1tI"),f=e.n(b),O=e("HZtn");function V(){var P=Object(b.useState)({showModal:!1,disableEdit:!1,clicked:!1}),A=Object(c.a)(P,2),C=A[0],S=A[1],s=function(g){(g==null?void 0:g.status)==="published"&&g!==null&&g!==void 0&&g.active_from&&Object(O.a)(new Date(g==null?void 0:g.active_from))&&!C.clicked?S({showModal:!1,disableEdit:!0,clicked:!1}):S({showModal:!1,disableEdit:!1,clicked:!1})};return{manageCourseEdit:C,setManageCourseEdit:S,validateCourseEdit:s}}},hd5d:function(se,j,e){"use strict";var c=e("qLMh"),b=e("9og8"),f=e("q1tI"),O=e.n(f),V=e("acco"),P=e.n(V),A=e("BAh9"),C=e("vtG9"),S=e.n(C),s=e("9kvl"),F=e("nKUr"),g=e.n(F),$=function(y){var p=y.attrs,d=p.href,u=d.split("/").pop();return Object(F.jsx)("p",{children:Object(F.jsx)("a",{rel:"noreferrer",href:d,target:"_blank",children:u})})},m=function(y){var p=y.value,d=y.onChange,u=y.directory,M=u===void 0?"/wysiwyg":u,I=Object(s.l)();return Object(F.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(F.jsx)(P.a,{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function(r){return!0},component:$}],uploadImage:function(){var B=Object(b.a)(Object(c.a)().mark(function r(i){var a,l;return Object(c.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,Object(A.e)(i,M);case 2:if(a=x.sent,!a.success){x.next=8;break}if(!i.type.includes("image/")){x.next=7;break}return l=a.data[0].name.includes("/")?a.data[0].name:"".concat(M).concat(a.data[0].name),x.abrupt("return",Object(A.d)(l,1e3));case 7:return x.abrupt("return",a.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return x.stop()}},r)}));return function(r){return B.apply(this,arguments)}}(),defaultValue:p||"",onChange:function(r){return d&&d(r())},placeholder:I.formatMessage({id:"wysiwyg_placeholder"})})})};j.a=m},kMBS:function(se,j,e){"use strict";e.d(j,"a",function(){return V});var c=e("qLMh"),b=e("k1fw"),f=e("9og8"),O=e("9kvl");function V(A){return P.apply(this,arguments)}function P(){return P=Object(f.a)(Object(c.a)().mark(function A(C){return Object(c.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(O.i)("/api/tags/unique",Object(b.a)({method:"GET",useCache:!1},C||{})));case 1:case"end":return s.stop()}},A)})),P.apply(this,arguments)}},q34N:function(se,j,e){"use strict";var c=e("tJVT"),b=e("0eZe"),f=e("q1tI"),O=e.n(f),V=e("nKUr"),P=e.n(V),A=function(S){var s=S.productable,F=S.type,g=F===void 0?"card":F,$=Object(f.useState)("attributes"),m=Object(c.a)($,2),h=m[0],y=m[1];return Object(V.jsx)(b.a,{productable:s,tab:h,onTabChange:function(d){return y(d)},type:g})};j.a=A},qSko:function(se,j,e){"use strict";var c=e("OaEy"),b=e("2fM7"),f=e("T2oS"),O=e("W9HT"),V=e("tJVT"),P=e("q1tI"),A=e.n(P),C=e("DVQu"),S=e("9kvl"),s=e("nKUr"),F=e.n(s),g=function(m){var h=m.value,y=m.onChange,p=m.multiple,d=p===void 0?!1:p,u=m.type,M=Object(P.useState)([]),I=Object(V.a)(M,2),B=I[0],r=I[1],i=Object(P.useState)(!1),a=Object(V.a)(i,2),l=a[0],o=a[1],x=Object(P.useState)([]),N=Object(V.a)(x,2),Pe=N[0],Ge=N[1],ve=Object(P.useRef)(),He=Object(P.useCallback)(function(){o(!0),ve.current&&ve.current.abort(),ve.current=new AbortController,Object(C.h)({productable_type:u},{signal:ve.current.signal}).then(function(ne){ne.success&&r(u?ne.data.filter(function(ge){return ge.type==="single"&&ge.productables&&ge.productables[0].id}):ne.data),o(!1)}).catch(function(){return o(!1)})},[]);return Object(P.useEffect)(function(){var ne=new AbortController;if(h){var ge=Array.isArray(h)?h:[h],k=ge.map(function(L){return typeof L=="object"?Number(L.id):Number(L)});Ge(k)}return function(){ne.abort()}},[h]),Object(s.jsx)(b.a,{onFocus:function(){return He()},allowClear:!0,style:{width:"100%",minWidth:"150px"},value:Pe,onChange:y,mode:d?"multiple":void 0,showSearch:!0,placeholder:Object(s.jsx)(S.a,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(ge,k){if(k&&k.children){var L;return(k==null||(L=k.children)===null||L===void 0?void 0:L.toString().toLowerCase().indexOf(ge&&ge.toLowerCase()||""))>=0}return!1},notFoundContent:l?Object(s.jsx)(O.a,{size:"small"}):null,children:B.map(function(ne){return Object(s.jsx)(b.a.Option,{value:ne.id,children:ne.name},ne.id)})})};j.a=g},rWUb:function(se,j,e){"use strict";e.d(j,"e",function(){return V}),e.d(j,"d",function(){return A}),e.d(j,"a",function(){return S}),e.d(j,"h",function(){return F}),e.d(j,"b",function(){return $}),e.d(j,"i",function(){return h}),e.d(j,"c",function(){return p}),e.d(j,"f",function(){return u}),e.d(j,"g",function(){return I});var c=e("qLMh"),b=e("k1fw"),f=e("9og8"),O=e("9kvl");function V(r,i){return P.apply(this,arguments)}function P(){return P=Object(f.a)(Object(c.a)().mark(function r(i,a){return Object(c.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(O.i)("/api/admin/templates",Object(b.a)({method:"GET",useCache:!1,params:i},a||{})));case 1:case"end":return o.stop()}},r)})),P.apply(this,arguments)}function A(r,i){return C.apply(this,arguments)}function C(){return C=Object(f.a)(Object(c.a)().mark(function r(i,a){return Object(c.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(O.i)("/api/admin/templates/".concat(i),Object(b.a)({method:"GET"},a||{})));case 1:case"end":return o.stop()}},r)})),C.apply(this,arguments)}function S(r,i){return s.apply(this,arguments)}function s(){return s=Object(f.a)(Object(c.a)().mark(function r(i,a){return Object(c.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(O.i)("/api/admin/templates",Object(b.a)({method:"POST",headers:{"Content-Type":"application/json"},data:i},a||{})));case 1:case"end":return o.stop()}},r)})),s.apply(this,arguments)}function F(r,i,a){return g.apply(this,arguments)}function g(){return g=Object(f.a)(Object(c.a)().mark(function r(i,a,l){return Object(c.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",Object(O.i)("/api/admin/templates/".concat(i),Object(b.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:a},l||{})));case 1:case"end":return x.stop()}},r)})),g.apply(this,arguments)}function $(r,i){return m.apply(this,arguments)}function m(){return m=Object(f.a)(Object(c.a)().mark(function r(i,a){return Object(c.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(O.i)("/api/admin/templates/".concat(i),Object(b.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},a||{})));case 1:case"end":return o.stop()}},r)})),m.apply(this,arguments)}function h(r){return y.apply(this,arguments)}function y(){return y=Object(f.a)(Object(c.a)().mark(function r(i){return Object(c.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(O.i)("/api/admin/templates/variables",Object(b.a)({method:"GET"},i||{})));case 1:case"end":return l.stop()}},r)})),y.apply(this,arguments)}function p(r,i){return d.apply(this,arguments)}function d(){return d=Object(f.a)(Object(c.a)().mark(function r(i,a){return Object(c.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(O.i)("/api/admin/templates/".concat(i,"/preview"),Object(b.a)({method:"GET"},a||{})));case 1:case"end":return o.stop()}},r)})),d.apply(this,arguments)}function u(r,i,a){return M.apply(this,arguments)}function M(){return M=Object(f.a)(Object(c.a)().mark(function r(i,a,l){return Object(c.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",Object(O.i)("/api/admin/events/trigger-manually/".concat(i),Object(b.a)({method:"POST",headers:{"Content-Type":"application/json"},data:{users:a}},l||{})));case 1:case"end":return x.stop()}},r)})),M.apply(this,arguments)}function I(r,i,a){return B.apply(this,arguments)}function B(){return B=Object(f.a)(Object(c.a)().mark(function r(i,a,l){return Object(c.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.abrupt("return",Object(O.i)("/api/admin/products/".concat(a,"/trigger-event-manually/").concat(i),Object(b.a)({method:"POST",headers:{"Content-Type":"application/json"}},l||{})));case 1:case"end":return x.stop()}},r)})),B.apply(this,arguments)}},rh3J:function(se,j,e){"use strict";e.r(j);var c=e("14J3"),b=e("BMrR"),f=e("jCWc"),O=e("kPKH"),V=e("fOrg"),P=e("+KLJ"),A=e("+L6B"),C=e("2/Rp"),S=e("T2oS"),s=e("W9HT"),F=e("miYZ"),g=e("tsqr"),$=e("qLMh"),m=e("k1fw"),h=e("9og8"),y=e("tJVT"),p=e("q1tI"),d=e.n(p),u=e("VMEa"),M=e("Qurx"),I=e("yj/a"),B=e("lR9U"),r=e("nhC9"),i=e("hd5d"),a=e("tMyG"),l=e("9kvl"),o=e("Ty5D"),x=e("0WSk"),N=e("TWax"),Pe=e("Gb5Y"),Ge=e("OaEy"),ve=e("2fM7"),He=e("iQDF"),ne=e("+eQT"),ge=e("+BJd"),k=e("mr32"),L=e("oBTY"),t=e("wd/R"),H=e.n(t),w=e("GZq3"),n=e("nKUr"),oe=function(D){return D.local().valueOf()},$e=function(D){var K=D.value,v=K===void 0?[]:K,te=D.onChange,J=D.format,E=J===void 0?"DD-MM-YYYY HH:mm":J,Z=D.selectProps,ie=Z===void 0?{}:Z,Q=Object(p.useState)(!1),R=Object(y.a)(Q,2),me=R[0],U=R[1],z=Object(p.useCallback)(function(G){var le=oe(G),re=v.indexOf(le),je=Object(L.a)(v);re>-1?je.splice(re,1):je.push(le),te(je)},[v]),_=Object(p.useCallback)(function(G){var le=v.indexOf(oe(G))>-1;return Object(n.jsx)("div",{className:"ant-picker-cell-inner",style:le?{position:"relative",zIndex:2,display:"inlineBlock",width:"24px",height:"22px",lineHeight:"22px",backgroundColor:"#1890ff",color:"#fff",margin:"auto",borderRadius:"2px",transition:"background 0.3s, border 0.3s"}:{},children:G.date()})},[v]),X=Object(p.useCallback)(function(G){var le=G.value,re=G.onClose,je=function(){re(),te(v.filter(function(ke){return ke!==le}))};return Object(n.jsx)(k.a,{onClose:je,closable:!0,children:H()(le).format(E)})},[v]),W=function(){return{disabledMinutes:function(){return Array.from({length:59},function(re,je){return je+1})}}};return Object(n.jsx)(ve.a,Object(m.a)(Object(m.a)({},ie),{},{allowClear:!0,mode:"multiple",value:v,onClear:function(){return te&&te([])},tagRender:X,open:me,onFocus:function(){return U(!0)},onBlur:function(){return U(!1)},dropdownMatchSelectWidth:!1,dropdownClassName:"multipleDropdownClassName",dropdownStyle:{height:"310px",width:"335px",minWidth:"0"},dropdownRender:function(){return Object(n.jsx)(ne.a,{disabledDate:function(re){var je=new Date;return re&&re.valueOf()<=je.setDate(je.getDate()-1)},showTime:{format:"HH"},disabledTime:W,onChange:function(re){return re&&z(re)},open:!0,dateRender:_,style:{visibility:"hidden"},getPopupContainer:function(re){var je=re.parentNode;return je},defaultValue:H()("00:00","HH")})}}))},Ve=$e,fe=e("c+yx"),Qe=e("Gn8c"),Ze=e("VlvL"),Ne;(function(ae){ae.draft="draft",ae.published="published",ae.archived="archived"})(Ne||(Ne={}));var et=e("eFHa"),we=e("4f6N"),Xe=e("qbNl"),Je=e("JBPa"),tt=e("5Dmo"),ye=e("3S7+"),pe=e("Awhp"),Ee=e("KrTs"),he=e("Qiat"),Te=function(D){var K=D.data,v=D.onChange,te=Object(p.useState)(!1),J=Object(y.a)(te,2),E=J[0],Z=J[1],ie=Object(p.useState)(H()(K.date)),Q=Object(y.a)(ie,2),R=Q[0],me=Q[1],U=Object(p.useCallback)(function(z){me(H()(z)),Z(!0),Object(Pe.a)(K.consultation_term_id,z).then(function(_){_.success?(g.b.success(_.message),v(R)):g.b.error(_.message)}).catch(function(_){return g.b.error(_.toString())}).finally(function(){return Z(!1)})},[R]);return Object(n.jsx)(d.a.Fragment,{children:Object(n.jsx)(ne.a,{disabledDate:function(_){var X=new Date;return _&&_.valueOf()<=X.setDate(X.getDate()-1)},disabled:E,value:R,showTime:{format:"HH"},onChange:function(_){_&&U(_.toISOString())}})})},Ce={reported:"warning",reject:"error",approved:"success"},Me=[{title:Object(n.jsx)(l.a,{id:"id",defaultMessage:"id"}),dataIndex:"consultation_term_id",hideInSearch:!0},{title:Object(n.jsx)(l.a,{id:"user",defaultMessage:"user"}),dataIndex:"user",render:function(D,K){var v,te,J;return"".concat((v=K.user)===null||v===void 0?void 0:v.first_name," ").concat((te=K.user)===null||te===void 0?void 0:te.last_name," ").concat((J=K.user)===null||J===void 0?void 0:J.email)}},{title:Object(n.jsx)(l.a,{id:"date",defaultMessage:"date"}),dataIndex:"date",render:function(D,K){return H()(K.date).format("yyyy-MM-DD HH:mm")}},{title:Object(n.jsx)(l.a,{id:"status",defaultMessage:"status"}),dataIndex:"status",render:function(D,K){return Object(n.jsx)(Ee.a,{status:Ce[K.status],text:Object(n.jsx)(l.a,{id:K.status})})}}],_e=function(D){var K=D.consultation,v=Object(p.useState)(!1),te=Object(y.a)(v,2),J=te[0],E=te[1],Z=Object(p.useState)([]),ie=Object(y.a)(Z,2),Q=ie[0],R=ie[1],me=Object(l.l)(),U=Object(p.useCallback)(function(){E(!0),Object(Pe.f)(K).then(function(_){_.success&&R(_.data)}).catch(function(){g.b.error(Object(n.jsx)(l.a,{id:"error",defaultMessage:"error"}))}).finally(function(){return E(!1)})},[K]);Object(p.useEffect)(function(){U()},[K]);var z=Object(p.useCallback)(function(_){return Object(n.jsx)("ul",{className:"events",children:Q.map(function(X){if(_.format("yyyy-MM-DD")===H()(X.date).format("yyyy-MM-DD")){var W,G,le,re;return Object(n.jsx)("li",{children:Object(n.jsx)(Ee.a,{status:Ce[X.status],text:Object(n.jsx)(d.a.Fragment,{children:Object(n.jsxs)(ye.a,{title:"".concat((W=X.user)===null||W===void 0?void 0:W.first_name," ").concat((G=X.user)===null||G===void 0?void 0:G.last_name," ").concat((le=X.user)===null||le===void 0?void 0:le.email),children:[Object(n.jsx)("small",{children:H()(X.date).format("HH:mm")})," ",(re=X.user)===null||re===void 0?void 0:re.email]})})})},X.consultation_term_id)}return null})})},[Q]);return Object(n.jsxs)(d.a.Fragment,{children:[J&&Object(n.jsx)(s.a,{}),Object(n.jsx)(Je.a,{dateCellRender:z}),J?Object(n.jsx)(s.a,{}):Object(n.jsx)(he.a,{headerTitle:me.formatMessage({id:"Consultations",defaultMessage:"Consultations"}),loading:J,rowKey:"consultation_term_id",search:!1,request:Object(h.a)(Object($.a)().mark(function _(){return Object($.a)().wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.abrupt("return",{data:Q,total:Q.length,success:!0});case 1:case"end":return W.stop()}},_)})),columns:[].concat(Me,[{title:Object(n.jsx)(l.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"20%",render:function(X,W){return[Object(n.jsx)(Te,{data:W,onChange:function(){return U()}},"change_date")]}}])})]})},Y=_e,q=e("J+hL"),Ie=e("q34N"),ce=e("5RzD"),Ke=function(){var D=Object(l.l)(),K=Object(o.l)(),v=K.consultation,te=K.tab,J=te===void 0?"attributes":te,E=v==="new",Z=Object(p.useState)(!1),ie=Object(y.a)(Z,2),Q=ie[0],R=ie[1],me=Object(p.useState)(),U=Object(y.a)(me,2),z=U[0],_=U[1],X=Object(et.a)(),W=X.manageCourseEdit,G=X.setManageCourseEdit,le=X.validateCourseEdit,re=u.a.useForm(),je=Object(y.a)(re,1),at=je[0],ke=Object(p.useCallback)(Object(h.a)(Object($.a)().mark(function De(){var ue,Se;return Object($.a)().wrap(function(Ue){for(;;)switch(Ue.prev=Ue.next){case 0:return Ue.next=2,Object(Pe.e)(Number(v));case 2:ue=Ue.sent,ue.success&&(J==="attributes"&&le(ue.data),_(Object(m.a)(Object(m.a)({},ue.data),{},{author_id:ue.data.author&&ue.data.author.id,categories:(Se=ue.data.categories)===null||Se===void 0?void 0:Se.map(fe.a)})));case 4:case"end":return Ue.stop()}},De)})),[v]);Object(p.useEffect)(function(){if(E){_({name:"new"});return}ke()},[v]);var Ye=Object(p.useMemo)(function(){return{onFinish:function(){var De=Object(h.a)(Object($.a)().mark(function Se(Re){var Ue,Le;return Object($.a)().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:if(!W.disableEdit){xe.next=3;break}return G({showModal:!0,disableEdit:!0,clicked:!1}),xe.abrupt("return");case 3:if(Ue=Object(m.a)(Object(m.a)({},Re),{},{image_url:z&&z.image_url,image_path:z&&z.image_url&&Object(fe.i)(z.image_url),logotype_url:z&&z.logotype_url,logotype_path:z&&z.logotype_path&&Object(fe.i)(z.logotype_path)}),!E){xe.next=11;break}return xe.next=7,Object(Pe.c)(Ue);case 7:Le=xe.sent,Le.success&&(R(!1),l.f.push("/other/consultations/".concat(Le.data.id))),xe.next=15;break;case 11:return xe.next=13,Object(Pe.g)(Number(v),Ue);case 13:Le=xe.sent,Le.success&&(R(!1),le(Le.data),l.f.push("/other/consultations/".concat(Le.data.id,"/").concat(J)));case 15:g.b.success(Le.message);case 16:case"end":return xe.stop()}},Se)}));function ue(Se){return De.apply(this,arguments)}return ue}(),initialValues:z}},[z,v,J,W]);return z?Object(n.jsx)(a.a,{title:E?Object(n.jsx)(l.a,{id:"consultation"}):Object(n.jsx)(l.a,{id:"consultations.edit"}),header:{breadcrumb:{routes:[{path:"other/consultations",breadcrumbName:D.formatMessage({id:"menu.Other activities.Consultations"})},{path:String(v),breadcrumbName:D.formatMessage({id:"form"})},{path:"/",breadcrumbName:String(z.name)},{path:String(J),breadcrumbName:String(z.name)}]}},children:Object(n.jsxs)(r.a,{tabs:{type:"card",activeKey:J,onChange:function(ue){return l.f.push("/other/consultations/".concat(v,"/").concat(ue))}},children:[Object(n.jsxs)(r.a.TabPane,{tab:Object(n.jsx)(l.a,{id:"attributes"}),children:[W.disableEdit&&Object(n.jsx)(P.a,{closable:!0,style:{marginBottom:"20px"},type:"warning",message:Object(n.jsx)(l.a,{id:"course_edit_warning_message",defaultMessage:"course_edit_warning_message"}),action:Object(n.jsx)(C.a,{onClick:function(){return G({showModal:!0,disableEdit:!0,clicked:!0})},type:"primary",children:Object(n.jsx)(l.a,{id:"questionnaire.submit",defaultMessage:"questionnaire.submit"})})}),Object(n.jsx)(Ze.a,{show:Q})," ",Object(n.jsx)(we.a,{visible:W.showModal,setManage:G}),Object(n.jsxs)(u.a,Object(m.a)(Object(m.a)({},Ye),{},{form:at,onValuesChange:function(){R(!0)},children:[Object(n.jsxs)(u.a.Group,{children:[Object(n.jsx)(M.a,{width:"md",name:"name",label:Object(n.jsx)(l.a,{id:"name"}),tooltip:Object(n.jsx)(l.a,{id:"name"}),placeholder:D.formatMessage({id:"name",defaultMessage:"name"}),required:!0,disabled:W.disableEdit}),Object(n.jsx)(M.a,{width:"sm",name:"duration",label:Object(n.jsx)(l.a,{id:"duration"}),tooltip:Object(n.jsx)(l.a,{id:"duration"}),placeholder:D.formatMessage({id:"duration",defaultMessage:"duration"}),disabled:W.disableEdit}),Object(n.jsx)(I.a,{name:"status",width:"sm",label:Object(n.jsx)(l.a,{id:"status"}),tooltip:Object(n.jsx)(l.a,{id:"status_consultation_tooltip"}),valueEnum:{draft:D.formatMessage({id:"draft",defaultMessage:"draft"}),published:D.formatMessage({id:"published",defaultMessage:"published"}),archived:D.formatMessage({id:"archived",defaultMessage:"archived"})},initialValue:Ne.draft,placeholder:D.formatMessage({id:"status"}),rules:[{required:!0,message:Object(n.jsx)(l.a,{id:"select"})}],disabled:W.disableEdit})]}),Object(n.jsxs)(u.a.Group,{children:[Object(n.jsx)(B.a,{width:"sm",name:"active_from",label:Object(n.jsx)(l.a,{id:"active_from"}),tooltip:Object(n.jsx)(l.a,{id:"active_from"}),placeholder:D.formatMessage({id:"active_from",defaultMessage:"active_from"}),disabled:W.disableEdit}),Object(n.jsx)(B.a,{width:"sm",name:"active_to",label:Object(n.jsx)(l.a,{id:"active_to"}),tooltip:Object(n.jsx)(l.a,{id:"active_to"}),placeholder:D.formatMessage({id:"active_to",defaultMessage:"active_to"}),disabled:W.disableEdit}),Object(n.jsx)(u.a.Item,{name:"author_id",label:Object(n.jsx)(l.a,{id:"tutor"}),tooltip:Object(n.jsx)(l.a,{id:"tutor_consultation_tooltip"}),valuePropName:"value",required:!0,children:Object(n.jsx)(x.a,{})})]}),Object(n.jsx)(u.a.Group,{children:Object(n.jsx)(u.a.Item,{name:"description",label:Object(n.jsx)(l.a,{id:"description"}),tooltip:Object(n.jsx)(l.a,{id:"description_tooltip"}),valuePropName:"value",required:!0,children:Object(n.jsx)(i.a,{directory:"consultation/".concat(v,"/wysiwyg")})})}),Object(n.jsx)(u.a.Group,{children:Object(n.jsx)(u.a.Item,{valuePropName:"value",name:"proposed_terms",tooltip:Object(n.jsx)(l.a,{id:"proposed_terms_tooltip"}),label:Object(n.jsx)(l.a,{id:"consultations.proposed_terms"}),children:Object(n.jsx)(Ve,{})})})]}))]},"attributes"),!E&&Object(n.jsx)(r.a.TabPane,{tab:Object(n.jsx)(l.a,{id:"product"}),disabled:W.disableEdit,children:v&&Object(n.jsx)(Ie.a,{type:"line",productable:{class_type:"App\\Models\\Consultation",class_id:v,name:String(z.name),quantity:1}})},"product"),!E&&Object(n.jsx)(r.a.TabPane,{tab:Object(n.jsx)(l.a,{id:"media"}),disabled:W.disableEdit,children:Object(n.jsx)(u.a,Object(m.a)(Object(m.a)({},Ye),{},{children:Object(n.jsx)(Qe.a,{folder:"consultation/".concat(v),title:"image",action:"/api/admin/consultations/".concat(v),src_name:"image_url",form_name:"image",getUploadedSrcField:function(ue){return ue.file.response.data.image_url},setPath:function(ue){return _(function(Se){return Object(m.a)(Object(m.a)({},Se),ue)})}})}))},"media"),!E&&Object(n.jsx)(r.a.TabPane,{tab:Object(n.jsx)(l.a,{id:"categories"}),disabled:W.disableEdit,children:Object(n.jsx)(b.a,{children:Object(n.jsx)(O.a,{span:12,children:Object(n.jsx)(u.a,Object(m.a)(Object(m.a)({},Ye),{},{children:Object(n.jsx)(u.a.Item,{label:Object(n.jsx)(l.a,{id:"categories"}),name:"categories",valuePropName:"value",children:Object(n.jsx)(N.a,{})})}))})})},"categories")," ",!E&&Object(n.jsx)(r.a.TabPane,{tab:Object(n.jsx)(l.a,{id:"branding"}),disabled:W.disableEdit,children:Object(n.jsx)(u.a,Object(m.a)(Object(m.a)({},Ye),{},{children:Object(n.jsx)(Qe.a,{folder:"consultation/".concat(v),title:D.formatMessage({id:"logotype"}),action:"/api/admin/consultations/".concat(v),src_name:"logotype_url",form_name:"logotype",getUploadedSrcField:function(ue){return ue.file.response.data.logotype_url},setPath:function(ue){return _(function(Se){return Object(m.a)(Object(m.a)({},Se),ue)})}})}))},"branding")," ",!E&&Object(n.jsx)(r.a.TabPane,{tab:Object(n.jsx)(l.a,{id:"user_submission"}),disabled:W.disableEdit,children:Object(n.jsx)(b.a,{children:Object(n.jsx)(O.a,{span:12,children:v&&Object(n.jsx)(ce.a,{id:Number(v),type:"App\\Models\\Consultation"})})})},"user_submission"),!E&&Object(n.jsx)(r.a.TabPane,{tab:Object(n.jsx)(l.a,{id:"consultations.calendar"}),children:Object(n.jsx)(Y,{consultation:Number(v)})},"calendar")]})}):Object(n.jsx)(s.a,{})},ee=j.default=Ke},rnuo:function(se,j,e){"use strict";var c=e("tJVT"),b=e("OaEy"),f=e("2fM7"),O=e("q1tI"),V=e.n(O),P=e("kMBS"),A=e("nKUr"),C=e.n(A),S=f.a.Option,s=function(g){var $=g.value,m=g.onChange,h=Object(O.useState)([]),y=Object(c.a)(h,2),p=y[0],d=y[1];return Object(O.useEffect)(function(){Object(P.a)().then(function(u){return d(u.data)})},[]),Object(A.jsx)(f.a,{mode:"tags",showSearch:!0,style:{width:"100%"},placeholder:"Select a Tag",optionFilterProp:"children",onChange:m,value:$,children:p.map(function(u){return Object(A.jsx)(S,{value:u.title,children:u.title},u.title)})})};j.a=s},vtG9:function(se,j,e){},vzes:function(se,j,e){"use strict";var c=e("OaEy"),b=e("2fM7"),f=e("+BJd"),O=e("mr32"),V=e("T2oS"),P=e("W9HT"),A=e("tJVT"),C=e("q1tI"),S=e.n(C),s=e("9kvl"),F=e("DVQu"),g=e("nKUr"),$=e.n(g),m=function(d){return"".concat(d.productable_type,":").concat(d.productable_id,":").concat(d.name)},h=function(d){return"".concat(d.class,":").concat(d.id,":").concat(d.name)},y=function(d){var u=d.value,M=d.onChange,I=d.multiple,B=I===void 0?!1:I,r=d.disabled,i=r===void 0?!1:r,a=Object(C.useState)([]),l=Object(A.a)(a,2),o=l[0],x=l[1],N=Object(C.useState)(!1),Pe=Object(A.a)(N,2),Ge=Pe[0],ve=Pe[1],He=Object(C.useState)([]),ne=Object(A.a)(He,2),ge=ne[0],k=ne[1],L=Object(C.useRef)(),t=Object(C.useCallback)(function(){ve(!0),L.current&&L.current.abort(),L.current=new AbortController,Object(F.g)({signal:L.current.signal}).then(function(H){H.success&&x(H.data),ve(!1)}).catch(function(){return ve(!1)})},[]);return Object(C.useEffect)(function(){t()},[]),Object(C.useEffect)(function(){var H=new AbortController;if(u){var w=Array.isArray(u)?u:[u],n=w.map(function(oe){return typeof oe=="object"?h(oe):String(oe)});k(n)}return function(){H.abort()}},[u]),Object(g.jsx)(b.a,{disabled:i,allowClear:!0,style:{width:"100%",minWidth:"150px"},value:ge,onChange:M,mode:B?"multiple":void 0,showSearch:!0,placeholder:Object(g.jsx)(s.a,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(w,n){if(n&&n.children){var oe;return(n==null||(oe=n.children)===null||oe===void 0?void 0:oe.toString().toLowerCase().indexOf(w&&w.toLowerCase()||""))>=0}return!1},notFoundContent:Ge?Object(g.jsx)(P.a,{size:"small"}):null,children:o.map(function(H){var w=m(H);return Object(g.jsxs)(b.a.Option,{value:w,children:[Object(g.jsx)(O.a,{children:Object(g.jsx)(s.a,{id:H.productable_type.split("\\").pop(),defaultMessage:H.productable_type.split("\\").pop()})})," ",H.name," ",Object(g.jsxs)("small",{children:["id:",H.productable_id]})," "]},w)})})};j.a=y}}]);
