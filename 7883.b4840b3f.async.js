"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7883],{81424:function(H,K,t){var k=t(52677),e=t.n(k),$=t(5574),_=t.n($),W=t(83863),i=t(75081),s=t(67294),x=t(44837),f=t(80854),U=t(85893),M=function(C){var R=C.value,O=C.onChange,j=C.multiple,D=j===void 0?!1:j,I=C.type,T=(0,s.useState)([]),h=_()(T,2),m=h[0],y=h[1],v=(0,s.useState)(!1),E=_()(v,2),P=E[0],c=E[1],l=(0,s.useState)([]),p=_()(l,2),A=p[0],o=p[1],b=(0,s.useRef)(),N=(0,s.useCallback)(function(r){c(!0),b.current&&b.current.abort(),b.current=new AbortController,(0,x.RB)({productable_type:I,name:r||void 0},{signal:b.current.signal}).then(function(n){n.success&&y(I?n.data.filter(function(a){return a.type==="single"&&a.productables&&a.productables[0].id}):n.data),c(!1)}).catch(function(){return c(!1)})},[]);(0,s.useEffect)(function(){var r=new AbortController;if(R){var n=Array.isArray(R)?R:[R],a=n.map(function(d){return e()(d)==="object"?Number(d.id):Number(d)});o(a)}return function(){r.abort()}},[R]);var J=(0,s.useCallback)(function(r){N(r)},[N]),Z=(0,s.useCallback)(function(){o([])},[]),z=(0,s.useCallback)(function(r){r||Z(),O&&O(r)},[O,Z]);return(0,U.jsx)(W.default,{onFocus:function(){return N()},allowClear:!0,style:{width:"100%",minWidth:"150px"},value:A,onChange:z,mode:D?"multiple":void 0,showSearch:!0,onSearch:J,onDeselect:Z,placeholder:(0,U.jsx)(f.FormattedMessage,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(n,a){if(a&&a.children){var d;return(a==null||(d=a.children)===null||d===void 0?void 0:d.toString().toLowerCase().indexOf(n&&n.toLowerCase()||""))>=0}return!1},notFoundContent:P?(0,U.jsx)(i.Z,{size:"small"}):null,children:m.map(function(r){return(0,U.jsx)(W.default.Option,{value:r.id,children:r.name},r.id)})})};K.Z=M},44167:function(H,K,t){var k=t(52677),e=t.n(k),$=t(19632),_=t.n($),W=t(5574),i=t.n(W),s=t(83863),x=t(75081),f=t(67294),U=t(30869),M=t(80854),L=t(85893),C=function(O){var j=O.value,D=O.onChange,I=O.multiple,T=I===void 0?!1:I,h=O.role,m=O.showEmail,y=O.disabled,v=(0,f.useState)([]),E=i()(v,2),P=E[0],c=E[1],l=(0,f.useState)(!1),p=i()(l,2),A=p[0],o=p[1],b=(0,f.useState)([]),N=i()(b,2),J=N[0],Z=N[1],z=(0,f.useRef)(),r=(0,f.useRef)(),n=(0,f.useCallback)(function(g){c(function(S){return[].concat(_()(S),_()(g)).filter(function(B,G,F){return F.findIndex(function(Q){return m?Q.email===B.email:Q.id===B.id})===G})})},[]);(0,f.useEffect)(function(){z.current=P},[P]);var a=(0,f.useCallback)(function(g){o(!0),r.current&&r.current.abort(),r.current=new AbortController,(0,U.rC)({search:g,role:h},{signal:r.current.signal}).then(function(S){S&&S.success&&(n(S.data),o(!1))}).catch(function(){return o(!1)})},[]),d=(0,f.useCallback)(function(g){a(g)},[a]),u=(0,f.useCallback)(function(){Z([])},[]);(0,f.useEffect)(function(){var g=new AbortController;if(j){var S=Array.isArray(j)?j:[j],B=S.map(function(G){return e()(G)==="object"?Number(G.id):Number(G)});Z(B),B.filter(function(G){var F;return!((F=z.current)!==null&&F!==void 0&&F.find(function(Q){return Q.id===G}))}).forEach(function(G){(0,U.EA)(Number(G),{signal:g.signal},!1).then(function(F){F&&F.success&&n([F.data])})})}return function(){g.abort()}},[j]);var w=(0,f.useCallback)(function(g,S){g||u(),D&&D(g,S)},[D,u]);return(0,L.jsx)(s.default,{disabled:y,onFocus:function(){return a()},allowClear:!0,style:{width:"100%",minWidth:"150px"},value:J,onChange:w,mode:T?"multiple":void 0,showSearch:!0,onSearch:d,onDeselect:u,placeholder:(0,L.jsx)(M.FormattedMessage,{id:"select_person",defaultMessage:"Select a person"}),optionFilterProp:"children",filterOption:function(S,B){return B&&B.children?String("".concat(B.user.name," ").concat(B.user.email)).toLowerCase().indexOf(S&&S.toLowerCase()||"")>=0:!0},notFoundContent:A?(0,L.jsx)(x.Z,{size:"small"}):null,children:P.map(function(g){return(0,L.jsxs)(s.default.Option,{value:g.id,user:g,children:[g.name," ",m&&" - ".concat(g.email)]},g.id)})})};K.Z=C},94116:function(H,K,t){t.d(K,{CL:function(){return x},W3:function(){return L},bd:function(){return U},k4:function(){return R},uu:function(){return I},yr:function(){return j}});var k=t(15009),e=t.n(k),$=t(97857),_=t.n($),W=t(99289),i=t.n(W),s=t(80854);function x(h){return f.apply(this,arguments)}function f(){return f=i()(e()().mark(function h(m){return e()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,s.request)("/api/admin/categories/tree",_()({method:"GET",useCache:!1},m||{})));case 1:case"end":return v.stop()}},h)})),f.apply(this,arguments)}function U(h,m){return M.apply(this,arguments)}function M(){return M=i()(e()().mark(function h(m,y){return e()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,s.request)("/api/admin/categories",_()({method:"GET",useCache:!1,params:m},y||{})));case 1:case"end":return E.stop()}},h)})),M.apply(this,arguments)}function L(h,m){return C.apply(this,arguments)}function C(){return C=i()(e()().mark(function h(m,y){return e()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,s.request)("/api/admin/categories/".concat(m),_()({method:"GET",useCache:!1},y||{})));case 1:case"end":return E.stop()}},h)})),C.apply(this,arguments)}function R(h,m){return O.apply(this,arguments)}function O(){return O=i()(e()().mark(function h(m,y){return e()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",(0,s.request)("/api/admin/categories",_()({method:"POST",headers:{"Content-Type":"application/json"},data:m},y||{})));case 1:case"end":return E.stop()}},h)})),O.apply(this,arguments)}function j(h,m,y){return D.apply(this,arguments)}function D(){return D=i()(e()().mark(function h(m,y,v){return e()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,s.request)("/api/admin/categories/".concat(m),_()({method:"POST",headers:{"Content-Type":"application/json"},data:y},v||{})));case 1:case"end":return P.stop()}},h)})),D.apply(this,arguments)}function I(h,m,y){return T.apply(this,arguments)}function T(){return T=i()(e()().mark(function h(m,y,v){return e()().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",(0,s.request)("/api/admin/categories/".concat(m),_()({method:"DELETE",headers:{"Content-Type":"application/json"},data:y},v||{})));case 1:case"end":return P.stop()}},h)})),T.apply(this,arguments)}},44837:function(H,K,t){t.d(K,{Ir:function(){return j},RB:function(){return x},fw:function(){return y},nM:function(){return R},nS:function(){return h},q5:function(){return E},rc:function(){return I},ry:function(){return U},wv:function(){return L}});var k=t(15009),e=t.n(k),$=t(97857),_=t.n($),W=t(99289),i=t.n(W),s=t(80854);function x(c,l){return f.apply(this,arguments)}function f(){return f=i()(e()().mark(function c(l,p){return e()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/admin/products",_()({method:"GET",params:_()(_()({},l),{},{free:typeof l.free!="undefined"?l.free==="true"?1:0:void 0,per_page:l.pageSize,page:l.current})},p||{})));case 1:case"end":return o.stop()}},c)})),f.apply(this,arguments)}function U(c,l){return M.apply(this,arguments)}function M(){return M=i()(e()().mark(function c(l,p){return e()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/admin/products",_()({method:"POST",data:l},p||{})));case 1:case"end":return o.stop()}},c)})),M.apply(this,arguments)}function L(c,l){return C.apply(this,arguments)}function C(){return C=i()(e()().mark(function c(l,p){return e()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/admin/products/".concat(l),_()({method:"GET"},p||{})));case 1:case"end":return o.stop()}},c)})),C.apply(this,arguments)}function R(c,l,p){return O.apply(this,arguments)}function O(){return O=i()(e()().mark(function c(l,p,A){return e()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",(0,s.request)("/api/admin/products/".concat(l,"?_method=PUT"),_()({method:"POST",data:p},A||{})));case 1:case"end":return b.stop()}},c)})),O.apply(this,arguments)}function j(c,l){return D.apply(this,arguments)}function D(){return D=i()(e()().mark(function c(l,p){return e()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/admin/products/".concat(l),_()({method:"DELETE"},p||{})));case 1:case"end":return o.stop()}},c)})),D.apply(this,arguments)}function I(c){return T.apply(this,arguments)}function T(){return T=i()(e()().mark(function c(l){return e()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,s.request)("/api/admin/productables",_()({method:"GET"},l||{})));case 1:case"end":return A.stop()}},c)})),T.apply(this,arguments)}function h(c,l){return m.apply(this,arguments)}function m(){return m=i()(e()().mark(function c(l,p){return e()().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",(0,s.request)("/api/admin/productables/product",_()({method:"GET",params:l},p||{})));case 1:case"end":return o.stop()}},c)})),m.apply(this,arguments)}function y(c,l,p){return v.apply(this,arguments)}function v(){return v=i()(e()().mark(function c(l,p,A){return e()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",(0,s.request)("/api/admin/products/".concat(l,"/attach"),_()({method:"POST",data:p},A||{})));case 1:case"end":return b.stop()}},c)})),v.apply(this,arguments)}function E(c,l,p){return P.apply(this,arguments)}function P(){return P=i()(e()().mark(function c(l,p,A){return e()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",(0,s.request)("/api/admin/products/".concat(l,"/detach"),_()({method:"POST",data:p},A||{})));case 1:case"end":return b.stop()}},c)})),P.apply(this,arguments)}},30869:function(H,K,t){t.d(K,{EA:function(){return U},Je:function(){return j},LS:function(){return Z},N5:function(){return L},Nq:function(){return I},VB:function(){return o},WC:function(){return E},ck:function(){return R},h8:function(){return y},m9:function(){return p},nS:function(){return c},r4:function(){return h},rC:function(){return x},yi:function(){return N}});var k=t(15009),e=t.n(k),$=t(97857),_=t.n($),W=t(99289),i=t.n(W),s=t(80854);function x(r,n){return f.apply(this,arguments)}function f(){return f=i()(e()().mark(function r(n,a){return e()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,s.request)("/api/admin/users",_()({params:n,method:"GET",useCache:!1},a||{})));case 1:case"end":return u.stop()}},r)})),f.apply(this,arguments)}function U(r,n,a){return M.apply(this,arguments)}function M(){return M=i()(e()().mark(function r(n,a,d){return e()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",(0,s.request)("/api/admin/users/".concat(n),_()({method:"GET",useCache:d!==void 0?d:!0},a||{})));case 1:case"end":return w.stop()}},r)})),M.apply(this,arguments)}function L(r){return C.apply(this,arguments)}function C(){return C=i()(e()().mark(function r(n){return e()().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",(0,s.request)("/api/profile/me",_()({method:"GET",useCache:!1},n||{})));case 1:case"end":return d.stop()}},r)})),C.apply(this,arguments)}function R(r,n){return O.apply(this,arguments)}function O(){return O=i()(e()().mark(function r(n,a){return e()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,s.request)("/api/profile/me",_()({data:n,method:"PUT"},a||{})));case 1:case"end":return u.stop()}},r)})),O.apply(this,arguments)}function j(r,n){return D.apply(this,arguments)}function D(){return D=i()(e()().mark(function r(n,a){return e()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,s.request)("/api/profile/password",_()({data:n,method:"PUT"},a||{})));case 1:case"end":return u.stop()}},r)})),D.apply(this,arguments)}function I(r,n,a){return T.apply(this,arguments)}function T(){return T=i()(e()().mark(function r(n,a,d){return e()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",(0,s.request)("/api/admin/users/".concat(n),_()({data:a,method:"PUT"},d||{})));case 1:case"end":return w.stop()}},r)})),T.apply(this,arguments)}function h(r,n){return m.apply(this,arguments)}function m(){return m=i()(e()().mark(function r(n,a){return e()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,s.request)("/api/admin/users",_()({data:n,method:"POST"},a||{})));case 1:case"end":return u.stop()}},r)})),m.apply(this,arguments)}function y(r,n){return v.apply(this,arguments)}function v(){return v=i()(e()().mark(function r(n,a){return e()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,s.request)("/api/admin/users/".concat(n),_()({method:"DELETE"},a||{})));case 1:case"end":return u.stop()}},r)})),v.apply(this,arguments)}function E(r,n,a){return P.apply(this,arguments)}function P(){return P=i()(e()().mark(function r(n,a,d){return e()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",(0,s.request)("/api/auth/email/resend",_()({method:"POST",data:{email:n,return_url:a}},d||{})));case 1:case"end":return w.stop()}},r)})),P.apply(this,arguments)}function c(r,n){return l.apply(this,arguments)}function l(){return l=i()(e()().mark(function r(n,a){return e()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,s.request)("/api/admin/users/".concat(n,"/settings"),_()({method:"GET",useCache:!1},a||{})));case 1:case"end":return u.stop()}},r)})),l.apply(this,arguments)}function p(r,n,a,d){return A.apply(this,arguments)}function A(){return A=i()(e()().mark(function r(n,a,d,u){return e()().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",(0,s.request)("/api/admin/users/".concat(n,"/settings"),_()({method:a,data:{settings:[d]},useCache:!1},u||{})));case 1:case"end":return g.stop()}},r)})),A.apply(this,arguments)}function o(r,n){return b.apply(this,arguments)}function b(){return b=i()(e()().mark(function r(n,a){return e()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,s.request)("/api/admin/users/".concat(n,"/avatar"),_()({method:"DELETE"},a||{})));case 1:case"end":return u.stop()}},r)})),b.apply(this,arguments)}function N(r,n,a){return J.apply(this,arguments)}function J(){return J=i()(e()().mark(function r(n,a,d){return e()().wrap(function(w){for(;;)switch(w.prev=w.next){case 0:return w.abrupt("return",(0,s.request)("/api/admin/users/".concat(n,"/interests"),_()({data:a,method:"PUT"},d||{})));case 1:case"end":return w.stop()}},r)})),J.apply(this,arguments)}function Z(r,n){return z.apply(this,arguments)}function z(){return z=i()(e()().mark(function r(n,a){return e()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,s.request)("/api/admin/stats/date-range",_()({params:n,method:"GET"},a||{})));case 1:case"end":return u.stop()}},r)})),z.apply(this,arguments)}}}]);
