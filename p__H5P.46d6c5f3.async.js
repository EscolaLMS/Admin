(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"5YLw":function(L,m,e){"use strict";var O=e("DBJ/"),M=e("q1tI"),C=e.n(M),_=e("nKUr"),f=e.n(_),h=function(p){var D=p.onSuccess,i=p.onError;return Object(_.jsx)(O.a,{url:"/api/admin/hh5p/content/upload",name:"h5p_file",accept:".h5p",onChange:function(j){j.file.status==="done"&&j.file.response&&D(j.file.response),j.file.status==="error"&&i()}})};m.a=h},"DBJ/":function(L,m,e){"use strict";var O=e("k1fw"),M=e("y8nQ"),C=e("Vl3Y"),_=e("etVw"),f=e("9kvl"),h=e("qFDU"),E=e("nKUr"),p=e.n(E);function D(i){var b=i.onChange,j=i.onUpload,v=i.url,P=i.name,I=i.extra,n=i.accept,r=i.data,d=i.wrapInForm,o=d===void 0?!0:d,l=i.title,g=i.formProps,K=Object(f.i)();return r&&r[P]&&delete r[P],Object(E.jsx)(h.a,{condition:o,wrap:function(A){return Object(E.jsx)(C.a,Object(O.a)(Object(O.a)({},g),{},{children:A}))},children:Object(E.jsx)(_.a,{title:l||Object(E.jsx)(f.a,{id:"upload_click_here"}),placeholder:K.formatMessage({id:"upload_click_here"}),onChange:function(A){b&&b(A),A.file.status==="done"&&j&&j(A.file.response)},label:Object(E.jsx)(f.a,{id:"upload"}),max:2,fieldProps:{data:r,accept:n,name:P,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(v),extra:I})})}m.a=D},Unir:function(L,m,e){"use strict";e.r(m);var O=e("P2fV"),M=e("NJEC"),C=e("5Dmo"),_=e("3S7+"),f=e("+L6B"),h=e("2/Rp"),E=e("miYZ"),p=e("tsqr"),D=e("9og8"),i=e("tJVT"),b=e("WmNS"),j=e.n(b),v=e("xvlK"),P=e("q1tI"),I=e.n(P),n=e("9kvl"),r=e("55Ip"),d=e("tMyG"),o=e("Qiat"),l=e("nzng"),g=e("G3dp"),K=e("/MfK"),B=e("2PG1"),A=e("4KAj"),S=e("5YLw"),t=e("nKUr"),J=e.n(t),H=function(){var G=Object(P.useState)(!1),y=Object(i.a)(G,2),$=y[0],x=y[1],U=Object(P.useRef)(),w=Object(n.i)(),z=Object(P.useCallback)(function(){var c=Object(D.a)(j.a.mark(function s(a){var T,R;return j.a.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return x(!0),T=p.default.loading(Object(t.jsx)(n.a,{id:"loading",defaultMessage:"loading"})),u.prev=2,u.next=5,Object(l.e)(a);case 5:return T(),p.default.success(Object(t.jsx)(n.a,{id:"success",defaultMessage:"success"})),x(!1),(R=U.current)===null||R===void 0||R.reload(),u.abrupt("return",!0);case 12:return u.prev=12,u.t0=u.catch(2),T(),p.default.error(Object(t.jsx)(n.a,{id:"error",defaultMessage:"error"})),x(!1),u.abrupt("return",!1);case 18:case"end":return u.stop()}},s,null,[[2,12]])}));return function(s){return c.apply(this,arguments)}}(),[U]),F=[{title:Object(t.jsx)(n.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",sorter:!1,search:!1},{title:Object(t.jsx)(n.a,{id:"newH5P",defaultMessage:"newH5P"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(S.a,{onSuccess:function(){U.current&&U.current.reload(),p.default.success(Object(t.jsx)(n.a,{id:"H5P_uploaded",defaultMessage:"new H5P uploaded successfully"}))},onError:function(){return p.default.error(Object(t.jsx)(n.a,{id:"error",defaultMessage:"error"}))}})]}},{title:Object(t.jsx)(n.a,{id:"title",defaultMessage:"title"}),dataIndex:"title",sorter:function(s,a){return s.title.length-a.title.length},render:function(s,a){return a.title}},{title:Object(t.jsx)(n.a,{id:"library",defaultMessage:"library"}),dataIndex:"library",sorter:function(s,a){return s.library.title.length-a.library.title.length},search:!1,render:function(s,a){return a.library.title}},{title:Object(t.jsx)(n.a,{id:"library_id",defaultMessage:"library_id"}),dataIndex:"library_id",sorter:function(s,a){return s.library.id-a.library.id},render:function(s,a){return a.library.id}},{title:Object(t.jsx)(n.a,{id:"count_h5p",defaultMessage:"count_h5p"}),dataIndex:"count_h5p",sorter:function(s,a){return s.count_h5p-a.count_h5p},search:!1,render:function(s,a){return a.count_h5p}},{title:Object(t.jsx)(n.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",render:function(s,a){return[Object(t.jsx)(r.a,{to:"/h5ps/".concat(a.id),children:Object(t.jsx)(_.a,{title:Object(t.jsx)(n.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(h.a,{type:"primary",icon:Object(t.jsx)(g.a,{})})})}),Object(t.jsx)(M.a,{disabled:a.count_h5p!==0,title:Object(t.jsx)(n.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return a.id&&z(a.id)},okText:Object(t.jsx)(n.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(n.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(_.a,{title:Object(t.jsx)(n.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(h.a,{disabled:a.count_h5p!==0,type:"primary",icon:Object(t.jsx)(K.a,{}),danger:!0})})}),Object(t.jsx)(r.a,{to:"/h5ps/preview/".concat(a.id),children:Object(t.jsx)(_.a,{title:Object(t.jsx)(n.a,{id:"preview",defaultMessage:"preview"}),children:Object(t.jsx)(h.a,{icon:Object(t.jsx)(B.a,{})})})}),Object(t.jsx)("a",{href:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/admin/hh5p/content/").concat(a.id,"/export"),download:!0,children:Object(t.jsx)(_.a,{title:Object(t.jsx)(n.a,{id:"export",defaultMessage:"export"}),children:Object(t.jsx)(h.a,{icon:Object(t.jsx)(A.a,{})})})})]}}];return Object(t.jsx)(d.a,{children:Object(t.jsx)(o.a,{loading:$,headerTitle:w.formatMessage({id:"H5Ps",defaultMessage:"H5Ps List"}),actionRef:U,rowKey:"id",search:{},toolBarRender:function(){return[Object(t.jsx)(r.a,{to:"/h5ps/new",children:Object(t.jsxs)(h.a,{type:"primary",children:[Object(t.jsx)(v.a,{})," ",Object(t.jsx)(n.a,{id:"new",defaultMessage:"new"})]},"primary")})]},request:function(s){var a=s.pageSize,T=s.current,R=s.title,W=s.library_id;return x(!0),Object(l.d)({title:R,library_id:W,pageSize:a,current:T}).then(function(u){return x(!1),u.success?{data:u.data,total:u.meta.total,success:!0}:[]})},columns:F})})};m.default=H},nzng:function(L,m,e){"use strict";e.d(m,"d",function(){return h}),e.d(m,"c",function(){return p}),e.d(m,"b",function(){return i}),e.d(m,"e",function(){return j}),e.d(m,"a",function(){return P});var O=e("k1fw"),M=e("9og8"),C=e("WmNS"),_=e.n(C),f=e("9kvl");function h(n,r){return E.apply(this,arguments)}function E(){return E=Object(M.a)(_.a.mark(function n(r,d){return _.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(f.f)("/api/admin/hh5p/content",Object(O.a)({method:"GET",useCache:!1,params:Object(O.a)(Object(O.a)({},r),{},{per_page:r.pageSize,page:r.current})},d||{})));case 1:case"end":return l.stop()}},n)})),E.apply(this,arguments)}function p(n,r){return D.apply(this,arguments)}function D(){return D=Object(M.a)(_.a.mark(function n(r,d){return _.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(f.f)("/api/admin/hh5p/content/".concat(r),Object(O.a)({method:"GET",useCache:!1},d||{})));case 1:case"end":return l.stop()}},n)})),D.apply(this,arguments)}function i(n,r,d){return b.apply(this,arguments)}function b(){return b=Object(M.a)(_.a.mark(function n(r,d,o){return _.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.abrupt("return",Object(f.f)(d?"/api/admin/hh5p/content/".concat(d):"/api/admin/hh5p/content",Object(O.a)({method:"POST",headers:{"Content-Type":"application/json"},data:r,useCache:!1},o||{})));case 1:case"end":return g.stop()}},n)})),b.apply(this,arguments)}function j(n){return v.apply(this,arguments)}function v(){return v=Object(M.a)(_.a.mark(function n(r){return _.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(f.f)("/api/admin/hh5p/content/".concat(r),{method:"DELETE"}));case 1:case"end":return o.stop()}},n)})),v.apply(this,arguments)}function P(n){return I.apply(this,arguments)}function I(){return I=Object(M.a)(_.a.mark(function n(r){return _.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(f.f)("/api/admin/hh5p/content?per_page=0",Object(O.a)({method:"GET",useCache:!1},r||{})));case 1:case"end":return o.stop()}},n)})),I.apply(this,arguments)}}}]);
