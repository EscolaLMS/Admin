(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"5tKr":function(R,l,e){"use strict";e.d(l,"b",function(){return M}),e.d(l,"a",function(){return s});var d=e("k1fw"),O=e("9og8"),b=e("WmNS"),o=e.n(b),E=e("9kvl");function M(_,n){return c.apply(this,arguments)}function c(){return c=Object(O.a)(o.a.mark(function _(n,a){return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(E.f)("/api/admin/scorm",Object(d.a)({params:Object(d.a)(Object(d.a)({},n),{},{per_page:n.pageSize,page:n.current}),method:"GET",useCache:!1},a||{})));case 1:case"end":return r.stop()}},_)})),c.apply(this,arguments)}function D(_,n){return i.apply(this,arguments)}function i(){return i=Object(O.a)(o.a.mark(function _(n,a){return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(E.f)("/api/admin/scorm/scos",Object(d.a)({params:Object(d.a)(Object(d.a)({},n),{},{per_page:n.pageSize,page:n.current}),method:"GET",useCache:!1},a||{})));case 1:case"end":return r.stop()}},_)})),i.apply(this,arguments)}function s(_,n){return u.apply(this,arguments)}function u(){return u=Object(O.a)(o.a.mark(function _(n,a){return o.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(E.f)("/api/admin/scorm/".concat(n),Object(d.a)({method:"DELETE"},a||{})));case 1:case"end":return r.stop()}},_)})),u.apply(this,arguments)}},"DBJ/":function(R,l,e){"use strict";var d=e("k1fw"),O=e("y8nQ"),b=e("Vl3Y"),o=e("etVw"),E=e("9kvl"),M=e("qFDU"),c=e("nKUr"),D=e.n(c);function i(s){var u=s.onChange,_=s.onUpload,n=s.url,a=s.name,h=s.extra,r=s.accept,v=s.data,g=s.wrapInForm,K=g===void 0?!0:g,C=s.title,L=s.formProps,t=Object(E.i)();return v&&v[a]&&delete v[a],Object(c.jsx)(M.a,{condition:K,wrap:function(P){return Object(c.jsx)(b.a,Object(d.a)(Object(d.a)({},L),{},{children:P}))},children:Object(c.jsx)(o.a,{title:C||" ".concat(t.formatMessage({id:"upload_click_here"})),placeholder:t.formatMessage({id:"upload_click_here"}),onChange:function(P){u&&u(P),P.file.status==="done"&&_&&_(P.file.response)},label:Object(c.jsx)(E.a,{id:"upload"}),max:2,fieldProps:{data:v,accept:r,name:a,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(n),extra:h})})}l.a=i},"RY+t":function(R,l,e){"use strict";var d=e("DBJ/"),O=e("q1tI"),b=e.n(O),o=e("nKUr"),E=e.n(o),M=function(D){var i=D.onSuccess,s=D.onError;return Object(o.jsx)(d.a,{url:"/api/admin/scorm/upload",name:"zip",accept:"application/zip",onChange:function(_){if(_.file.response){var n=_.file.response.response;n.success?i(n.data.model):s(n)}}})};l.a=M},"w76+":function(R,l,e){"use strict";e.r(l);var d=e("P2fV"),O=e("NJEC"),b=e("5Dmo"),o=e("3S7+"),E=e("+L6B"),M=e("2/Rp"),c=e("miYZ"),D=e("tsqr"),i=e("9og8"),s=e("WmNS"),u=e.n(s),_=e("q1tI"),n=e.n(_),a=e("9kvl"),h=e("55Ip"),r=e("tMyG"),v=e("Qiat"),g=e("Dx9A"),K=e("/MfK"),C=e("5tKr"),L=e("RY+t"),t=e("nKUr"),B=e.n(t),P=function(){var W=Object(i.a)(u.a.mark(function j(U){return u.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.next=2,Object(C.a)(U);case 2:return m.abrupt("return",!0);case 3:case"end":return m.stop()}},j)}));return function(U){return W.apply(this,arguments)}}(),S=function(){var j=Object(_.useRef)(),U=Object(a.i)(),x=[{title:Object(t.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"version",defaultMessage:"version"}),dataIndex:"version",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"newScorm",defaultMessage:"New Scorm"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(L.a,{onSuccess:function(){j.current&&j.current.reload(),D.default.success(Object(t.jsx)(a.a,{id:"scorm_uploaded",defaultMessage:"scorm uploaded"}))},onError:function(f){return D.default.error(f)}})]}},{title:Object(t.jsx)(a.a,{id:"SCOS",defaultMessage:"Sharable Content Objects"}),dataIndex:"SCOS",hideInSearch:!0,render:function(I,f){return[f.scos.map(function(p){return Object(t.jsx)(h.a,{to:"/scorms/preview/".concat(p.uuid),children:Object(t.jsx)(o.a,{title:Object(t.jsx)(a.a,{id:"preview",defaultMessage:"preview"}),children:Object(t.jsx)(M.a,{size:"small",icon:Object(t.jsx)(g.a,{}),type:"primary",children:p.title})})},p.uuid)})]}},{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(I,f){return[Object(t.jsx)(O.a,{title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(i.a)(u.a.mark(function p(){var A;return u.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,P(f.id);case 2:A=T.sent,A&&j.current&&j.current.reload();case 4:case"end":return T.stop()}},p)})),okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(o.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(M.a,{type:"primary",icon:Object(t.jsx)(K.a,{}),danger:!0})})},"delete")]}}];return Object(t.jsx)(r.a,{children:Object(t.jsx)(v.a,{headerTitle:U.formatMessage({id:"scorms",defaultMessage:"scorms"}),actionRef:j,rowKey:"id",search:{},request:function(I){var f=I.pageSize,p=I.current;return Object(C.b)({pageSize:f,current:p}).then(function(A){return A.success?{data:A.data.data,total:A.data.total,success:!0}:[]})},columns:x})})};l.default=S}}]);
