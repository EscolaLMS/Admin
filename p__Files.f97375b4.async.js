(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"/qDX":function(E,l,t){},"14J3":function(E,l,t){"use strict";var d=t("cIOH"),f=t.n(d),m=t("1GLa")},"3wW7":function(E,l,t){},BAh9:function(E,l,t){"use strict";t.d(l,"a",function(){return M}),t.d(l,"d",function(){return B}),t.d(l,"c",function(){return g}),t.d(l,"b",function(){return O});var d=t("k1fw"),f=t("9og8"),m=t("WmNS"),u=t.n(m),c=t("9kvl");function M(i,v){return j.apply(this,arguments)}function j(){return j=Object(f.a)(u.a.mark(function i(v,a){return u.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(c.e)("/api/admin/file/list",Object(d.a)({method:"GET",params:v},a||{})));case 1:case"end":return o.stop()}},i)})),j.apply(this,arguments)}function B(i,v,a){return D.apply(this,arguments)}function D(){return D=Object(f.a)(u.a.mark(function i(v,a,e){var o;return u.a.wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return o=new FormData,o.append("file[]",v),o.append("target",a),P.abrupt("return",Object(c.e)("/api/admin/file/upload",Object(d.a)({method:"POST",data:o},e||{})));case 4:case"end":return P.stop()}},i)})),D.apply(this,arguments)}var g=function(v){var a=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat("https://escola-lms-api.stage.etd24.pl","/api/images/img?path=").concat(v,"&w=").concat(a)};function O(i,v){return _.apply(this,arguments)}function _(){return _=Object(f.a)(u.a.mark(function i(v,a){return u.a.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(c.e)("/api/admin/file/delete",Object(d.a)({method:"DELETE",data:{url:v}},a||{})));case 1:case"end":return o.stop()}},i)})),_.apply(this,arguments)}},"DBJ/":function(E,l,t){"use strict";var d=t("y8nQ"),f=t("Vl3Y"),m=t("etVw"),u=t("q1tI"),c=t.n(u),M=function(g){var O=g.condition,_=g.children,i=g.wrap;return O?c.a.cloneElement(i(_)):_},j=t("nKUr"),B=function(O){var _=O.onChange,i=O.url,v=O.name,a=O.extra,e=O.accept,o=O.data,r=O.wrapInForm,P=r===void 0?!0:r;return Object(j.jsx)(M,{condition:P,wrap:function(b){return Object(j.jsx)(f.a,{children:b})},children:Object(j.jsx)(m.a,{title:"Click here to upload",placeholder:"Click here to upload",onChange:_,label:"Upload",max:2,fieldProps:{data:o,accept:e,name:v,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://escola-lms-api.stage.etd24.pl").concat(i),extra:a})})},D=l.a=B},DjyN:function(E,l,t){"use strict";var d=t("cIOH"),f=t.n(d),m=t("Urep"),u=t.n(m),c=t("OaEy")},IzEo:function(E,l,t){"use strict";var d=t("cIOH"),f=t.n(d),m=t("lnY3"),u=t.n(m),c=t("Znn+"),M=t("14J3"),j=t("jCWc")},JGo8:function(E,l,t){},Mwp2:function(E,l,t){"use strict";var d=t("cIOH"),f=t.n(d),m=t("3wW7"),u=t.n(m),c=t("R9oj"),M=t("T2oS"),j=t("DjyN"),B=t("1GLa")},Urep:function(E,l,t){},etVw:function(E,l,t){"use strict";var d=t("cIOH"),f=t("JGo8"),m=t("+L6B"),u=t("MXD1"),c=t("5Dmo"),M=t("8z0m"),j=t("2/Rp"),B=t("q1tI"),D=t.n(B),g=t("z7Xi"),O=t("WFLz");function _(){return _=Object.assign||function(a){for(var e=1;e<arguments.length;e++){var o=arguments[e];for(var r in o)Object.prototype.hasOwnProperty.call(o,r)&&(a[r]=o[r])}return a},_.apply(this,arguments)}var i=function(e,o){var r=e.fieldProps,P=e.name,S=e.action,b=e.accept,A=e.listType,z=e.title,n=z===void 0?"\u5355\u51FB\u4E0A\u4F20":z,W=e.max,J=e.icon,G=J===void 0?D.a.createElement(g.a,null):J,T=e.value,Y=e.buttonProps,h=e.onChange,U=e.disabled,x=e.proFieldProps,I=e.fileList,K=(W===void 0||!T||(T==null?void 0:T.length)<W)&&(x==null?void 0:x.mode)!=="read",N=(A!=null?A:r==null?void 0:r.listType)==="picture-card";return D.a.createElement(M.a,_({action:S,accept:b,ref:o,name:P||"file",listType:A||"picture",fileList:I!=null?I:T},r,{onChange:function(F){h==null||h(F),(r==null?void 0:r.onChange)&&(r==null||r.onChange(F))}}),K&&(N?D.a.createElement("span",null,G," ",n):D.a.createElement(j.a,_({disabled:U||(r==null?void 0:r.disabled)},Y),G,n)))},v=l.a=Object(O.a)(D.a.forwardRef(i),{getValueFromEvent:function(e){return e.fileList}})},jCWc:function(E,l,t){"use strict";var d=t("cIOH"),f=t.n(d),m=t("1GLa")},lnY3:function(E,l,t){},tU7J:function(E,l,t){"use strict";var d=t("cIOH"),f=t.n(d),m=t("/qDX"),u=t.n(m),c=t("5Dmo"),M=t("5NDa")},u4ym:function(E,l,t){"use strict";t.r(l);var d=t("IzEo"),f=t("bx4M"),m=t("tU7J"),u=t("wFql"),c=t("q1tI"),M=t.n(c),j=t("tMyG"),B=t("DjyN"),D=t("NUBc"),g=t("Mwp2"),O=t("VXEj"),_=t("+L6B"),i=t("2/Rp"),v=t("oBTY"),a=t("k1fw"),e=t("tJVT"),o=t("DYRE"),r=t("zeV3"),P=t("BAh9"),S=t("/MfK"),b=t("mAF4"),A=t("dF/Y"),z=t("DBJ/"),n=t("nKUr"),W=function(h){var U=h.directory,x=h.onUploaded;return Object(n.jsxs)(r.b,{align:"start",children:[Object(n.jsxs)(u.a.Text,{children:["Current dir is ",Object(n.jsx)(u.a.Text,{code:!0,children:U})]}),Object(n.jsx)(z.a,{url:"/api/admin/file/upload",name:"file[]",data:{target:U},onChange:function(K){return K.file.status==="done"&&x(U)}})]})},J=function(h){var U=h.defaultDirectory,x=U===void 0?"/":U,I=h.onFile,K=Object(c.useState)({loading:!1,directory:x,current_page:1,data:void 0,per_page:1,last_page:1,total:0}),N=Object(e.a)(K,2),y=N[0],F=N[1],V=Object(c.useRef)(),L=Object(c.useCallback)(function(p){F(function(s){return Object(a.a)(Object(a.a)({},s),{},{loading:p})})},[]),C=Object(c.useCallback)(function(p){var s,$=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,X=function(){return V.current&&V.current.abort()};return X(),V.current=new AbortController,L(!0),Object(P.a)({directory:p,page:$},{signal:(s=V.current)===null||s===void 0?void 0:s.signal}).then(function(H){H.success&&F(function(Z){return Object(a.a)(Object(a.a)(Object(a.a)({},Z),H.data),{},{data:[{url:p.split("/").slice(0,-1).join("/"),name:"..",created_at:"",mime:"directory"}].concat(Object(v.a)(H.data.data.map(function(R){return Object(a.a)(Object(a.a)({},R),{},{url:R.mime==="directory"?"".concat(p,"/").concat(R.name):R.url})}))).filter(function(R){return p==="/"?R.name!=="..":!0}),directory:p,loading:!1})})}).catch(function(){return L(!1)}),function(){X()}},[L]);Object(c.useEffect)(function(){return C(x)},[x,C]);var Q=Object(c.useCallback)(function(p){L(!0),Object(P.b)(p).then(function(){C(y.directory)}).catch(function(){L(!1)})},[C,L,y.directory]);return Object(n.jsxs)("div",{className:"file-browser",children:[Object(n.jsx)(O.b,{loading:y.loading,size:"small",itemLayout:"horizontal",dataSource:y.data,header:Object(n.jsx)(W,{directory:y.directory,onUploaded:function(s){return C(s)}}),footer:Object(n.jsx)(W,{directory:y.directory,onUploaded:function(s){return C(s)}}),renderItem:function(s){return Object(n.jsx)(O.b.Item,{actions:s.mime!=="directory"?[Object(n.jsx)(i.a,{type:"default",danger:!0,icon:Object(n.jsx)(S.a,{}),size:"small",onClick:function(){return Q(s.url)}})]:[],children:Object(n.jsx)(O.b.Item.Meta,{avatar:s.mime==="directory"?Object(n.jsx)(i.a,{type:"primary",icon:Object(n.jsx)(b.a,{}),size:"small",onClick:function(){return C(s.url)}}):Object(n.jsx)("a",{href:s.url,target:"_blank",children:Object(n.jsx)(i.a,{type:"default",icon:Object(n.jsx)(A.a,{}),size:"small"})}),description:Object(n.jsx)(M.a.Fragment,{children:Object(n.jsx)(i.a,{type:"text",size:"small",onClick:function(){return s.mime==="directory"?C(s.url):I&&I(s.url)},children:s.name})})})})}}),Object(n.jsx)(D.a,{pageSizeOptions:[],current:y.current_page,total:y.total,pageSize:y.per_page,onChange:function(s){return C(y.directory,s)}})]})},G=J,T=l.default=function(){return Object(n.jsx)(j.a,{children:Object(n.jsxs)(f.a,{children:[Object(n.jsx)(u.a.Text,{strong:!0,children:"Pages files list will be here"}),Object(n.jsx)(G,{})]})})}}}]);
