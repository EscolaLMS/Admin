(window.webpackJsonp=window.webpackJsonp||[]).push([[22],{"466t":function(K,u,e){"use strict";e.r(u);var y=e("P2fV"),_=e("NJEC"),i=e("5Dmo"),d=e("3S7+"),O=e("+L6B"),g=e("2/Rp"),P=e("WmNS"),E=e.n(P),v=e("miYZ"),A=e("tsqr"),j=e("9og8"),I=e("G3dp"),D=e("/MfK"),C=e("xvlK"),p=e("q1tI"),r=e.n(p),t=e("9kvl"),s=e("55Ip"),o=e("tMyG"),n=e("Qiat"),c=e("NqYW"),W=e("Vpfc"),a=e("nKUr"),S=e.n(a),U=function(){var L=Object(j.a)(E.a.mark(function f(T){return E.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(c.b)(T).then(function(m){return m.success&&A.default.success(m.message),!0}));case 1:case"end":return l.stop()}},f)}));return function(T){return L.apply(this,arguments)}}(),x=function(){var f=Object(p.useRef)(),T=Object(t.i)(),B=[{title:Object(a.jsx)(t.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(a.jsx)(t.a,{id:"title",defaultMessage:"title"}),dataIndex:"title",hideInSearch:!0},{title:Object(a.jsx)(t.a,{id:"slug",defaultMessage:"slug"}),dataIndex:"slug",hideInSearch:!0},{title:Object(a.jsx)(t.a,{id:"author",defaultMessage:"author"}),dataIndex:"author_id",hideInSearch:!0,render:function(m,h){return Object(a.jsx)(W.a,{type:"EscolaLms\\Core\\Models\\User",type_id:h.author_id},"user")}},{hideInSearch:!0,title:Object(a.jsx)(t.a,{id:"pages.searchTable.titleOption",defaultMessage:"option"}),dataIndex:"option",valueType:"option",render:function(m,h){return[Object(a.jsx)(s.a,{to:"/pages/".concat(h.id),children:Object(a.jsx)(d.a,{title:Object(a.jsx)(t.a,{id:"edit",defaultMessage:"edit"}),children:Object(a.jsx)(g.a,{type:"primary",icon:Object(a.jsx)(I.a,{})})})},"edit"),Object(a.jsx)(_.a,{title:Object(a.jsx)(t.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(j.a)(E.a.mark(function R(){var M;return E.a.wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.next=2,U(h.id);case 2:M=b.sent,M&&f.current&&f.current.reload();case 4:case"end":return b.stop()}},R)})),okText:Object(a.jsx)(t.a,{id:"yes"}),cancelText:Object(a.jsx)(t.a,{id:"no"}),children:Object(a.jsx)(d.a,{title:Object(a.jsx)(t.a,{id:"delete",defaultMessage:"delete"}),children:Object(a.jsx)(g.a,{type:"primary",icon:Object(a.jsx)(D.a,{}),danger:!0})})},"delete")]}}];return Object(a.jsx)(o.a,{children:Object(a.jsx)(n.a,{headerTitle:T.formatMessage({id:"pages",defaultMessage:"pages"}),actionRef:f,rowKey:"id",search:{},toolBarRender:function(){return[Object(a.jsx)(s.a,{to:"/pages/new",children:Object(a.jsxs)(g.a,{type:"primary",children:[Object(a.jsx)(C.a,{})," ",Object(a.jsx)(t.a,{id:"new",defaultMessage:"new"})]},"primary")})]},request:function(m){var h=m.pageSize,R=m.current;return Object(c.d)({pageSize:h,current:R}).then(function(M){return M.success?{data:M.data,total:M.meta.total,success:!0}:[]})},columns:B})})};u.default=x},NqYW:function(K,u,e){"use strict";e.d(u,"d",function(){return g}),e.d(u,"c",function(){return E}),e.d(u,"a",function(){return A}),e.d(u,"e",function(){return I}),e.d(u,"b",function(){return C});var y=e("WmNS"),_=e.n(y),i=e("k1fw"),d=e("9og8"),O=e("9kvl");function g(r,t){return P.apply(this,arguments)}function P(){return P=Object(d.a)(_.a.mark(function r(t,s){return _.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.f)("/api/admin/pages",Object(i.a)({method:"GET",useCache:!1,params:Object(i.a)(Object(i.a)({},t),{},{per_page:t.pageSize,page:t.current})},s||{})));case 1:case"end":return n.stop()}},r)})),P.apply(this,arguments)}function E(r,t){return v.apply(this,arguments)}function v(){return v=Object(d.a)(_.a.mark(function r(t,s){return _.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.f)("/api/admin/pages/".concat(t),Object(i.a)({method:"GET"},s||{})));case 1:case"end":return n.stop()}},r)})),v.apply(this,arguments)}function A(r,t){return j.apply(this,arguments)}function j(){return j=Object(d.a)(_.a.mark(function r(t,s){return _.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.f)("/api/admin/pages",Object(i.a)({method:"POST",headers:{"Content-Type":"application/json"},data:t},s||{})));case 1:case"end":return n.stop()}},r)})),j.apply(this,arguments)}function I(r,t,s){return D.apply(this,arguments)}function D(){return D=Object(d.a)(_.a.mark(function r(t,s,o){return _.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",Object(O.f)("/api/admin/pages/".concat(t),Object(i.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:s},o||{})));case 1:case"end":return c.stop()}},r)})),D.apply(this,arguments)}function C(r,t){return p.apply(this,arguments)}function p(){return p=Object(d.a)(_.a.mark(function r(t,s){return _.a.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.f)("/api/admin/pages/".concat(t),Object(i.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},s||{})));case 1:case"end":return n.stop()}},r)})),p.apply(this,arguments)}}}]);
