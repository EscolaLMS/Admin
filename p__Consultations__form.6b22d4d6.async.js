(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8047],{86615:function(J,A,e){"use strict";var d=e(1413),i=e(45987),P=e(22270),a=e(55742),U=e(67294),_=e(90789),T=e(41550),c=e(85893),v=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],m=U.forwardRef(function(f,N){var t=f.fieldProps,w=f.options,se=f.radioType,G=f.layout,j=f.proFieldProps,te=f.valueEnum,b=(0,i.Z)(f,v);return(0,c.jsx)(T.Z,(0,d.Z)((0,d.Z)({valueType:se==="button"?"radioButton":"radio",ref:N,valueEnum:(0,P.h)(te,void 0)},b),{},{fieldProps:(0,d.Z)({options:w,layout:G},t),proFieldProps:j,filedConfig:{customLightMode:!0}}))}),h=U.forwardRef(function(f,N){var t=f.fieldProps,w=f.children;return(0,c.jsx)(a.ZP,(0,d.Z)((0,d.Z)({},t),{},{ref:N,children:w}))}),B=(0,_.G)(h,{valuePropName:"checked",ignoreWidth:!0}),u=B;u.Group=m,u.Button=a.ZP.Button,u.displayName="ProFormComponent",A.Z=u},48959:function(J,A,e){"use strict";var d=e(28248),i=e(80854),P=e(85893),a=function(_){var T=_.open,c=_.onOk,v=_.onCancel,m=_.title,h=_.content,B=_.okText,u=_.loading;return(0,P.jsx)(d.Z,{width:"600px",title:m!=null?m:(0,P.jsx)(i.FormattedMessage,{id:"confirmModal.title"}),open:T,onOk:c,onCancel:v,okText:B!=null?B:(0,P.jsx)(i.FormattedMessage,{id:"save"}),cancelText:(0,P.jsx)(i.FormattedMessage,{id:"cancel"}),confirmLoading:u,children:h!=null?h:(0,P.jsx)("p",{children:(0,P.jsx)(i.FormattedMessage,{id:"confirmModal.content"})})})};A.Z=a},28225:function(J,A,e){"use strict";var d=e(28248),i=e(80854),P=e(85893),a=function(_){var T=_.visible,c=_.setManage;return(0,P.jsx)(d.Z,{width:"600px",title:(0,P.jsx)(i.FormattedMessage,{id:"course.validate_edit.header",defaultMessage:"course.validate_edit.header"}),visible:T,onOk:function(){return c({showModal:!1,disableEdit:!1,clicked:!0})},onCancel:function(){return c({showModal:!1,disableEdit:!0,clicked:!1})},okText:"OK",cancelText:"Cancel",children:(0,P.jsx)("p",{children:(0,P.jsx)(i.FormattedMessage,{id:"course.validate_edit.content",defaultMessage:"course.validate_edit.content"})})})};A.Z=a},23535:function(J,A,e){"use strict";var d=e(97857),i=e.n(d),P=e(9783),a=e.n(P),U=e(71230),_=e(15746),T=e(14726),c=e(95830),v=e(67294),m=e(82238),h=e(34994),B=e(80854),u=e(85893),f=function(t){var w=t.title,se=t.action,G=t.form_name,j=t.src_name,te=t.getUploadedSrcField,b=t.setPath,D=t.wrapInForm,F=D===void 0?!0:D,q=t.folder,M=t.proFormGroupProps;return(0,u.jsx)(h.A.Group,i()(i()({title:(0,u.jsx)(B.FormattedMessage,{id:w})},M),{},{children:(0,u.jsxs)(U.Z,{children:[(0,u.jsx)(_.Z,{children:(0,u.jsx)(h.A.Item,{shouldUpdate:!0,children:function(ce){return(0,u.jsxs)(v.Fragment,{children:[(0,u.jsx)(m.Z,{folder:q,wrapInForm:F,accept:"image/*",name:G,url:se,onChange:function(ne){if(ne.file.status==="done"){var ve;ce.setFieldsValue(a()({},j,te(ne))),(ve=ne.file.response)!==null&&ve!==void 0&&ve.success&&b(a()(a()({},"".concat(G,"_url"),ne.file.response.data["".concat(G,"_url")]),"".concat(G,"_path"),ne.file.response.data["".concat(G,"_path")]))}}}),(0,u.jsx)(T.ZP,{danger:!0,onClick:function(){return[b(a()(a()({},"".concat(G,"_url"),""),"".concat(G,"_path"),"")),ce.setFieldsValue(a()({},j,""))]},children:(0,u.jsx)(B.FormattedMessage,{id:"delete"})})]})}})}),(0,u.jsx)(_.Z,{span:24,children:(0,u.jsx)(h.A.Item,{shouldUpdate:!0,children:function(ce){return(0,u.jsx)(c.Z,{width:200,src:ce.getFieldValue(j)})}})})]})}))};A.Z=f},53957:function(J,A,e){"use strict";var d=e(5574),i=e.n(d),P=e(50082),a=e(67294),U=e(85893),_=function(c){var v=c.productable,m=c.type,h=m===void 0?"card":m,B=(0,a.useState)("attributes"),u=i()(B,2),f=u[0],N=u[1];return(0,U.jsx)(P.Z,{productable:v,tab:f,onTabChange:function(w){return N(w)},type:h})};A.C=_},67541:function(J,A,e){"use strict";var d=e(52677),i=e.n(d),P=e(5574),a=e.n(P),U=e(83863),_=e(75081),T=e(66309),c=e(67294),v=e(80854),m=e(44837),h=e(85893),B=function(t){return"".concat(t.productable_type,":").concat(t.productable_id,":").concat(t.name)},u=function(t){return"".concat(t.class,":").concat(t.id,":").concat(t.name)},f=function(t){var w=t.value,se=t.onChange,G=t.multiple,j=G===void 0?!1:G,te=t.disabled,b=te===void 0?!1:te,D=(0,c.useState)([]),F=a()(D,2),q=F[0],M=F[1],V=(0,c.useState)(!1),ce=a()(V,2),xe=ce[0],ne=ce[1],ve=(0,c.useState)([]),oe=a()(ve,2),n=oe[0],Ae=oe[1],Oe=(0,c.useRef)(),Te=(0,c.useCallback)(function(){ne(!0),Oe.current&&Oe.current.abort(),Oe.current=new AbortController,(0,m.rc)({signal:Oe.current.signal}).then(function(Q){Q.success&&M(Q.data),ne(!1)}).catch(function(){return ne(!1)})},[]);return(0,c.useEffect)(function(){Te()},[]),(0,c.useEffect)(function(){var Q=new AbortController;if(w){var me=Array.isArray(w)?w:[w],o=me.map(function(r){return i()(r)==="object"?u(r):String(r)});Ae(o)}return function(){Q.abort()}},[w]),(0,h.jsx)(U.default,{disabled:b,allowClear:!0,style:{width:"100%",minWidth:"150px"},value:n,onChange:se,mode:j?"multiple":void 0,showSearch:!0,placeholder:(0,h.jsx)(v.FormattedMessage,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(me,o){if(o&&o.children){var r;return(o==null||(r=o.children)===null||r===void 0?void 0:r.toString().toLowerCase().indexOf(me&&me.toLowerCase()||""))>=0}return!1},notFoundContent:xe?(0,h.jsx)(_.Z,{size:"small"}):null,children:q.map(function(Q){var me=B(Q);return(0,h.jsxs)(U.default.Option,{value:me,children:[(0,h.jsx)(T.Z,{children:(0,h.jsx)(v.FormattedMessage,{id:Q.productable_type.split("\\").pop(),defaultMessage:Q.productable_type.split("\\").pop()})})," ",Q.name," ",(0,h.jsxs)("small",{children:["id:",Q.productable_id]})," "]},me)})})};A.Z=f},14408:function(J,A,e){"use strict";e.d(A,{Z:function(){return T}});var d=e(97857),i=e.n(d),P=e(5574),a=e.n(P),U=e(2254),_=e(67294);function T(){var c=(0,_.useState)({showModal:!1,disableEdit:!1,clicked:!1}),v=a()(c,2),m=v[0],h=v[1],B=function(f){(f==null?void 0:f.status)==="published"&&f!==null&&f!==void 0&&f.active_from&&(0,U.C)(new Date(f==null?void 0:f.active_from))&&!m.clicked?h(i()(i()({},m),{},{showModal:!1,disableEdit:!0,clicked:!1})):h(i()(i()({},m),{},{showModal:!1,disableEdit:!1,clicked:!1}))};return{manageCourseEdit:m,setManageCourseEdit:h,validateCourseEdit:B}}},23961:function(J,A,e){"use strict";e.r(A),e.d(A,{default:function(){return Re}});var d=e(15009),i=e.n(d),P=e(97857),a=e.n(P),U=e(99289),_=e.n(U),T=e(5574),c=e.n(T),v=e(26271),m=e(952),h=e(5966),B=e(64317),u=e(50335),f=e(2453),N=e(75081),t=e(38925),w=e(14726),se=e(71230),G=e(15746),j=e(67294),te=e(19411),b=e(74453),D=e(7418),F=e(48959),q=e(28225),M=e(19632),V=e.n(M),ce=e(66309),xe=e(83863),ne=e(41606),ve=e(27484),oe=e.n(ve),n=e(85893),Ae=function(I){return I.local().valueOf()},Oe=function(I){var x=I.value,l=x===void 0?[]:x,Y=I.onChange,H=I.format,X=H===void 0?"DD-MM-YYYY HH:mm":H,_e=I.selectProps,le=_e===void 0?{}:_e,y=(0,j.useState)(!1),ee=c()(y,2),fe=ee[0],C=ee[1],W=(0,j.useCallback)(function(K){var $=Ae(K),S=l.indexOf($),R=V()(l);S>-1?R.splice(S,1):R.push($),Y(R)},[l]),O=(0,j.useCallback)(function(K){var $=l.indexOf(Ae(K))>-1;return(0,n.jsx)("div",{className:"ant-picker-cell-inner",style:$?{position:"relative",zIndex:2,display:"inlineBlock",width:"24px",height:"22px",lineHeight:"22px",backgroundColor:"#1890ff",color:"#fff",margin:"auto",borderRadius:"2px",transition:"background 0.3s, border 0.3s"}:{},children:K.date()})},[l]),z=(0,j.useCallback)(function(K){var $=K.value,S=K.onClose,R=function(){S(),Y(l.filter(function(ue){return ue!==$}))};return(0,n.jsx)(ce.Z,{onClose:R,closable:!0,children:oe()($).format(X)})},[l]),de=function(){return{disabledMinutes:function(){return Array.from({length:59},function(S,R){return R+1})}}};return(0,n.jsx)(xe.default,a()(a()({},le),{},{allowClear:!0,mode:"multiple",value:l,onClear:function(){return Y&&Y([])},tagRender:z,open:fe,onFocus:function(){return C(!0)},onBlur:function(){return C(!1)},dropdownMatchSelectWidth:!1,dropdownClassName:"multipleDropdownClassName",dropdownStyle:{height:"310px",width:"335px",minWidth:"0"},dropdownRender:function(){return(0,n.jsx)(ne.default,{disabledDate:function(S){var R=new Date;return S.valueOf()<=R.setDate(R.getDate()-1)},showTime:{format:"HH"},disabledTime:de,onChange:function(S){return S&&W(S)},open:!0,dateRender:O,style:{visibility:"hidden"},getPopupContainer:function(S){var R=S.parentNode;return R},defaultValue:oe()("00:00","HH")})}}))},Te=Oe,Q=e(23535),me=e(53957),o=e(44167),r=e(54434),E=function(Z){return Z.draft="draft",Z.published="published",Z.archived="archived",Z}({}),p=e(14408),g=e(51490),k=e(66419),s=e(80854),ae=e(49677),he=e.n(ae),re=e(40411),ge=e(83062),De=e(31156),Ee=e(16894),Me=function(I){var x=I.data,l=I.onChange,Y=(0,j.useState)(!1),H=c()(Y,2),X=H[0],_e=H[1],le=(0,j.useState)(oe()(x.date)),y=c()(le,2),ee=y[0],fe=y[1],C=(0,j.useCallback)(function(W){fe(oe()(W)),_e(!0),(0,g.YG)(x.consultation_term_id,W).then(function(O){O.success?(f.ZP.success(O.message),l(ee)):f.ZP.error(O.message)}).catch(function(O){return f.ZP.error(O.toString())}).finally(function(){return _e(!1)})},[ee]);return(0,n.jsx)(j.Fragment,{children:(0,n.jsx)(ne.default,{disabledDate:function(O){var z=new Date;return O&&O.valueOf()<=z.setDate(z.getDate()-1)},disabled:X,value:ee,showTime:{format:"HH"},onChange:function(O){O&&C(O.toISOString())}})})},je={reported:"warning",reject:"error",approved:"success"},Ce=[{title:(0,n.jsx)(s.FormattedMessage,{id:"ID",defaultMessage:"ID"}),dataIndex:"consultation_term_id",hideInSearch:!0,sorter:!0,width:"80px"},{title:(0,n.jsx)(s.FormattedMessage,{id:"user",defaultMessage:"user"}),dataIndex:"user",render:function(I,x){var l,Y,H;return"".concat((l=x.user)===null||l===void 0?void 0:l.first_name," ").concat((Y=x.user)===null||Y===void 0?void 0:Y.last_name," ").concat((H=x.user)===null||H===void 0?void 0:H.email)},sorter:!0},{title:(0,n.jsx)(s.FormattedMessage,{id:"date",defaultMessage:"date"}),dataIndex:"date",sorter:!0,render:function(I,x){return oe()(x.date).format("yyyy-MM-DD HH:mm")}},{title:(0,n.jsx)(s.FormattedMessage,{id:"status",defaultMessage:"status"}),dataIndex:"status",sorter:!0,render:function(I,x){return(0,n.jsx)(re.Z,{status:je[x.status],text:(0,n.jsx)(s.FormattedMessage,{id:x.status})})}}],Ie=function(I){var x=I.consultation,l=(0,j.useState)(!1),Y=c()(l,2),H=Y[0],X=Y[1],_e=(0,j.useState)([]),le=c()(_e,2),y=le[0],ee=le[1],fe=(0,s.useIntl)(),C=(0,j.useCallback)(function(){X(!0),(0,g.MP)(x).then(function(O){O.success&&ee(O.data)}).catch(function(){f.ZP.error((0,n.jsx)(s.FormattedMessage,{id:"error",defaultMessage:"error"}))}).finally(function(){return X(!1)})},[x]);(0,j.useEffect)(function(){C()},[x]);var W=(0,j.useCallback)(function(O){return(0,n.jsx)("ul",{className:"events",children:y.map(function(z){if(O.format("yyyy-MM-DD")===oe()(z.date).format("yyyy-MM-DD")){var de,K,$,S;return(0,n.jsx)("li",{children:(0,n.jsx)(re.Z,{status:je[z.status],text:(0,n.jsx)(j.Fragment,{children:(0,n.jsxs)(ge.Z,{title:"".concat((de=z.user)===null||de===void 0?void 0:de.first_name," ").concat((K=z.user)===null||K===void 0?void 0:K.last_name," ").concat(($=z.user)===null||$===void 0?void 0:$.email),children:[(0,n.jsx)("small",{children:oe()(z.date).format("HH:mm")})," ",(S=z.user)===null||S===void 0?void 0:S.email]})})})},z.consultation_term_id)}return null})})},[y]);return(0,n.jsxs)(j.Fragment,{children:[H&&(0,n.jsx)(N.Z,{}),(0,n.jsx)(De.Z,{dateCellRender:W}),H?(0,n.jsx)(N.Z,{}):(0,n.jsx)(Ee.ZP,{headerTitle:fe.formatMessage({id:"Consultations",defaultMessage:"Consultations"}),loading:H,rowKey:"consultation_term_id",search:!1,request:function(){var O=_()(i()().mark(function z(de,K){var $,S;return i()().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return he()(de),$=K&&Object.entries(K)[0],S=y,$&&(S=(0,k.Pf)(S,$[0],$[1]!=="ascend")),L.abrupt("return",{data:S,total:S.length,success:!0});case 5:case"end":return L.stop()}},z)}));return function(z,de){return O.apply(this,arguments)}}(),columns:[].concat(Ce,[{title:(0,n.jsx)(s.FormattedMessage,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"20%",render:function(z,de){return[(0,n.jsx)(Me,{data:de,onChange:function(){return C()}},"change_date")]}}])})]})},ye=Ie,ie=function(Z){return Z.ATTRIBUTES="attributes",Z.PRODUCT="product",Z.MEDIA="media",Z.CATEGORIES="categories",Z.BRANDING="branding",Z.USER_SUBMISSION="user_submission",Z.CALENDAR="calendar",Z}(ie||{}),Se=function(){var I=(0,s.useIntl)(),x=(0,s.useParams)(),l=x.consultation,Y=x.tab,H=Y===void 0?"attributes":Y,X=l==="new",_e=(0,j.useState)(),le=c()(_e,2),y=le[0],ee=le[1],fe=(0,p.Z)(),C=fe.manageCourseEdit,W=fe.setManageCourseEdit,O=fe.validateCourseEdit,z=m.ZP.useForm(),de=c()(z,1),K=de[0],$=(0,j.useCallback)(_()(i()().mark(function R(){var L,ue;return i()().wrap(function(Pe){for(;;)switch(Pe.prev=Pe.next){case 0:return Pe.next=2,(0,g.hW)(Number(l));case 2:L=Pe.sent,L.success&&(H==="attributes"&&O(L.data),ee(a()(a()({},L.data),{},{author_id:L.data.author&&L.data.author.id,categories:(ue=L.data.categories)===null||ue===void 0?void 0:ue.map(k.i4)})));case 4:case"end":return Pe.stop()}},R)})),[l]);(0,j.useEffect)(function(){if(X){ee({name:"new"});return}$()},[l]);var S=(0,j.useMemo)(function(){return{onValuesChange:function(){W(a()(a()({},C),{},{valuesChanged:!0}))},onFinish:function(){var R=_()(i()().mark(function ue(Le){var Pe,be;return i()().wrap(function(pe){for(;;)switch(pe.prev=pe.next){case 0:if(!C.disableEdit){pe.next=3;break}return W({showModal:!0,disableEdit:!0,clicked:!1}),pe.abrupt("return");case 3:if(Pe=a()(a()({},Le),{},{image_url:y&&y.image_url,image_path:y&&y.image_url&&(0,k.Ox)(y.image_url),logotype_url:y&&y.logotype_url,logotype_path:y&&y.logotype_path&&(0,k.Ox)(y.logotype_path)}),!X){pe.next=11;break}return pe.next=7,(0,g.YS)(Pe);case 7:be=pe.sent,be.success&&s.history.push("/other/consultations/".concat(be.data.id)),pe.next=15;break;case 11:return pe.next=13,(0,g.hR)(Number(l),Pe);case 13:be=pe.sent,be.success&&(O(be.data),s.history.push("/other/consultations/".concat(be.data.id,"/").concat(H)));case 15:f.ZP.success(be.message),W(a()(a()({},C),{},{showConfirmModal:!1,loading:!1,valuesChanged:!1}));case 17:case"end":return pe.stop()}},ue)}));function L(ue){return R.apply(this,arguments)}return L}(),initialValues:y}},[y,l,H,C]);return y?(0,n.jsxs)(b._z,{title:X?(0,n.jsx)(s.FormattedMessage,{id:"consultation"}):(0,n.jsx)(s.FormattedMessage,{id:"consultations.edit"}),header:{breadcrumb:{routes:[{path:"other/consultations",breadcrumbName:I.formatMessage({id:"menu.Other activities.Consultations"})},{path:String(l),breadcrumbName:I.formatMessage({id:"form"})},{path:"/",breadcrumbName:String(y.name)},{path:String(H),breadcrumbName:String(y.name)}]}},children:[(0,n.jsxs)(v.ZP,{tabs:{type:"card",activeKey:H,onChange:function(L){L!==ie.ATTRIBUTES&&C.valuesChanged?W(a()(a()({},C),{},{showConfirmModal:!0})):s.history.push("/other/consultations/".concat(l,"/").concat(L))}},children:[(0,n.jsxs)(v.ZP.TabPane,{tab:(0,n.jsx)(s.FormattedMessage,{id:"attributes"}),children:[C.disableEdit&&(0,n.jsx)(t.Z,{closable:!0,style:{marginBottom:"20px"},type:"warning",message:(0,n.jsx)(s.FormattedMessage,{id:"course_edit_warning_message",defaultMessage:"course_edit_warning_message"}),action:(0,n.jsx)(w.ZP,{onClick:function(){return W({showModal:!0,disableEdit:!0,clicked:!0})},type:"primary",children:(0,n.jsx)(s.FormattedMessage,{id:"questionnaire.submit",defaultMessage:"questionnaire.submit"})})}),(0,n.jsx)(q.Z,{visible:C.showModal,setManage:W}),(0,n.jsxs)(m.ZP,a()(a()({},S),{},{form:K,children:[(0,n.jsxs)(m.ZP.Group,{children:[(0,n.jsx)(h.Z,{width:"md",name:"name",label:(0,n.jsx)(s.FormattedMessage,{id:"name"}),tooltip:(0,n.jsx)(s.FormattedMessage,{id:"name"}),placeholder:I.formatMessage({id:"name",defaultMessage:"name"}),required:!0,disabled:C.disableEdit}),(0,n.jsx)(h.Z,{width:"sm",name:"duration",label:(0,n.jsx)(s.FormattedMessage,{id:"duration"}),tooltip:(0,n.jsx)(s.FormattedMessage,{id:"consultations.duration_tooltip"}),placeholder:I.formatMessage({id:"duration",defaultMessage:"duration"}),disabled:C.disableEdit}),(0,n.jsx)(B.Z,{name:"status",width:"sm",label:(0,n.jsx)(s.FormattedMessage,{id:"status"}),tooltip:(0,n.jsx)(s.FormattedMessage,{id:"status_consultation_tooltip"}),valueEnum:{draft:I.formatMessage({id:"draft",defaultMessage:"draft"}),published:I.formatMessage({id:"published",defaultMessage:"published"}),archived:I.formatMessage({id:"archived",defaultMessage:"archived"})},initialValue:E.draft,placeholder:I.formatMessage({id:"status"}),rules:[{required:!0,message:(0,n.jsx)(s.FormattedMessage,{id:"select"})}],disabled:C.disableEdit})]}),(0,n.jsxs)(m.ZP.Group,{children:[(0,n.jsx)(u.Z,{width:"sm",name:"active_from",label:(0,n.jsx)(s.FormattedMessage,{id:"active_from"}),tooltip:(0,n.jsx)(s.FormattedMessage,{id:"active_from"}),placeholder:I.formatMessage({id:"active_from",defaultMessage:"active_from"}),disabled:C.disableEdit}),(0,n.jsx)(u.Z,{width:"sm",name:"active_to",label:(0,n.jsx)(s.FormattedMessage,{id:"active_to"}),tooltip:(0,n.jsx)(s.FormattedMessage,{id:"active_to"}),placeholder:I.formatMessage({id:"active_to",defaultMessage:"active_to"}),disabled:C.disableEdit}),(0,n.jsx)(m.ZP.Item,{name:"author_id",label:(0,n.jsx)(s.FormattedMessage,{id:"tutor"}),tooltip:(0,n.jsx)(s.FormattedMessage,{id:"tutor_consultation_tooltip"}),valuePropName:"value",required:!0,children:(0,n.jsx)(o.Z,{})})]}),(0,n.jsx)(m.ZP.Group,{children:(0,n.jsx)(m.ZP.Item,{name:"description",label:(0,n.jsx)(s.FormattedMessage,{id:"description"}),tooltip:(0,n.jsx)(s.FormattedMessage,{id:"description_tooltip"}),valuePropName:"value",required:!0,children:(0,n.jsx)(te.ZP,{directory:"consultation/".concat(l,"/wysiwyg")})})}),(0,n.jsx)(m.ZP.Group,{children:(0,n.jsx)(m.ZP.Item,{valuePropName:"value",name:"proposed_terms",tooltip:(0,n.jsx)(s.FormattedMessage,{id:"proposed_terms_tooltip"}),label:(0,n.jsx)(s.FormattedMessage,{id:"consultations.proposed_terms"}),children:(0,n.jsx)(Te,{})})})]}))]},ie.ATTRIBUTES),!X&&(0,n.jsx)(v.ZP.TabPane,{tab:(0,n.jsx)(s.FormattedMessage,{id:"product"}),disabled:C.disableEdit,children:l&&(0,n.jsx)(me.C,{type:"line",productable:{class_type:"App\\Models\\Consultation",class_id:l,name:String(y.name),quantity:1}})},ie.PRODUCT),!X&&(0,n.jsx)(v.ZP.TabPane,{tab:(0,n.jsx)(s.FormattedMessage,{id:"media"}),disabled:C.disableEdit,children:(0,n.jsx)(m.ZP,a()(a()({},S),{},{children:(0,n.jsx)(Q.Z,{folder:"consultation/".concat(l),title:"image",action:"/api/admin/consultations/".concat(l),src_name:"image_url",form_name:"image",getUploadedSrcField:function(L){return L.file.response.data.image_url},setPath:function(L){return ee(function(ue){return a()(a()({},ue),L)})}})}))},ie.MEDIA),!X&&(0,n.jsx)(v.ZP.TabPane,{tab:(0,n.jsx)(s.FormattedMessage,{id:"categories"}),disabled:C.disableEdit,children:(0,n.jsx)(se.Z,{children:(0,n.jsx)(G.Z,{span:12,children:(0,n.jsx)(m.ZP,a()(a()({},S),{},{children:(0,n.jsx)(m.ZP.Item,{label:(0,n.jsx)(s.FormattedMessage,{id:"categories"}),name:"categories",valuePropName:"value",children:(0,n.jsx)(D.Z,{})})}))})})},ie.CATEGORIES)," ",!X&&(0,n.jsx)(v.ZP.TabPane,{tab:(0,n.jsx)(s.FormattedMessage,{id:"branding"}),disabled:C.disableEdit,children:(0,n.jsx)(m.ZP,a()(a()({},S),{},{children:(0,n.jsx)(Q.Z,{folder:"consultation/".concat(l),title:I.formatMessage({id:"logotype"}),action:"/api/admin/consultations/".concat(l),src_name:"logotype_url",form_name:"logotype",getUploadedSrcField:function(L){return L.file.response.data.logotype_url},setPath:function(L){return ee(function(ue){return a()(a()({},ue),L)})}})}))},ie.BRANDING)," ",!X&&(0,n.jsx)(v.ZP.TabPane,{tab:(0,n.jsx)(s.FormattedMessage,{id:"user_submission"}),disabled:C.disableEdit,children:(0,n.jsx)(se.Z,{children:(0,n.jsx)(G.Z,{span:12,children:l&&(0,n.jsx)(r.ZP,{id:Number(l),type:"App\\Models\\Consultation"})})})},ie.USER_SUBMISSION),!X&&(0,n.jsx)(v.ZP.TabPane,{tab:(0,n.jsx)(s.FormattedMessage,{id:"consultations.calendar"}),children:(0,n.jsx)(ye,{consultation:Number(l)})},ie.CALENDAR)]}),(0,n.jsx)(F.Z,{open:!!C.showConfirmModal,onOk:function(){W(a()(a()({},C),{},{loading:!0})),K.submit()},onCancel:function(){W(a()(a()({},C),{},{showConfirmModal:!1}))},loading:!!C.loading})]}):(0,n.jsx)(N.Z,{})},Re=Se},51490:function(J,A,e){"use strict";e.d(A,{MP:function(){return se},SQ:function(){return t},YG:function(){return j},YS:function(){return m},hR:function(){return f},hW:function(){return B},sL:function(){return c}});var d=e(15009),i=e.n(d),P=e(97857),a=e.n(P),U=e(99289),_=e.n(U),T=e(80854);function c(b,D){return v.apply(this,arguments)}function v(){return v=_()(i()().mark(function b(D,F){return i()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,T.request)("/api/admin/consultations",a()({method:"GET",useCache:!1,params:D},F||{})));case 1:case"end":return M.stop()}},b)})),v.apply(this,arguments)}function m(b,D){return h.apply(this,arguments)}function h(){return h=_()(i()().mark(function b(D,F){return i()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,T.request)("/api/admin/consultations",a()({method:"POST",headers:{"Content-Type":"application/json"},data:D},F||{})));case 1:case"end":return M.stop()}},b)})),h.apply(this,arguments)}function B(b,D){return u.apply(this,arguments)}function u(){return u=_()(i()().mark(function b(D,F){return i()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,T.request)("/api/admin/consultations/".concat(D),a()({method:"GET",useCache:!1},F||{})));case 1:case"end":return M.stop()}},b)})),u.apply(this,arguments)}function f(b,D,F){return N.apply(this,arguments)}function N(){return N=_()(i()().mark(function b(D,F,q){return i()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.abrupt("return",(0,T.request)("/api/admin/consultations/".concat(D),a()({method:"PUT",headers:{"Content-Type":"application/json"},data:F},q||{})));case 1:case"end":return V.stop()}},b)})),N.apply(this,arguments)}function t(b,D){return w.apply(this,arguments)}function w(){return w=_()(i()().mark(function b(D,F){return i()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,T.request)("/api/admin/consultations/".concat(D),a()({method:"DELETE",useCache:!1},F||{})));case 1:case"end":return M.stop()}},b)})),w.apply(this,arguments)}function se(b,D){return G.apply(this,arguments)}function G(){return G=_()(i()().mark(function b(D,F){return i()().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return M.abrupt("return",(0,T.request)("/api/admin/consultations/".concat(D,"/schedule"),a()({method:"GET",useCache:!1},F||{})));case 1:case"end":return M.stop()}},b)})),G.apply(this,arguments)}function j(b,D,F){return te.apply(this,arguments)}function te(){return te=_()(i()().mark(function b(D,F,q){return i()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.abrupt("return",(0,T.request)("/api/admin/consultations/change-term/".concat(D),a()({method:"POST",headers:{"Content-Type":"application/json"},data:{executed_at:F}},q||{})));case 1:case"end":return V.stop()}},b)})),te.apply(this,arguments)}},31472:function(J,A,e){"use strict";e.d(A,{Fh:function(){return m},UL:function(){return v},Yo:function(){return u},Zg:function(){return f},cX:function(){return c},ce:function(){return T},fS:function(){return B},fn:function(){return U},h5:function(){return N},oz:function(){return d},rX:function(){return h},uT:function(){return a}});var d=function(t){return t.Unselected="",t.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",t.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",t.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",t.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",t.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",t.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",t.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",t.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",t.Project="EscolaLms\\TopicTypeProject\\Models\\Project",t.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz",t}({}),i=function(t){return t.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",t.UserLogged="EscolaLms\\Auth\\Events\\UserLogged",t}({}),P=function(t){return t.draft="draft",t.published="published",t.archived="archived",t}({}),a=function(t){return t.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",t.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",t.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel",t}({}),U=function(t){return t.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent",t}({}),_=function(t){return t.cart_fixed="cart_fixed",t.cart_percent="cart_percent",t.product_fixed="product_fixed",t.product_percent="product_percent",t}({}),T=function(t){return t.MULTIPLE_CHOICE="multiple_choice",t.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",t.TRUE_FALSE="true_false",t.SHORT_ANSWERS="short_answers",t.MATCHING="matching",t.NUMERICAL_QUESTION="numerical_question",t.ESSAY="essay",t.DESCRIPTION="description",t}({}),c=function(t){return t.PRESENT="present",t.PRESENT_NOT_EXERCISING="present_not_exercising",t.ABSENT="absent",t.EXCUSED_ABSENCE="excused_absence",t}({}),v=function(t){return t.Manual="manual",t.TeamsForms="teams_forms",t.TeamsLecture="teams_lecture",t.TestPortal="test_portal",t}({}),m=function(t){return t.Simple="simple",t.Complex="complex",t}({}),h=function(t){return t.QuizSummary="EscolaLms\\Reports\\Stats\\Topic\\QuizSummaryForTopicTypeGIFT",t}({}),B=function(t){return t.Boolean="boolean",t.Number="number",t.Varchar="varchar",t.Text="text",t.Json="json",t}({}),u=function(t){return t.Rate="rate",t.Text="text",t.Review="review",t}({}),f=function(t){return t.Exercise="exercise",t.Course="course",t.Info="info",t}({}),N=function(t){return t.Group="EscolaLms\\PcgIntegration\\Models\\Group",t}({})},64532:function(J,A,e){"use strict";e.d(A,{a:function(){return c}});var d=e(15009),i=e.n(d),P=e(97857),a=e.n(P),U=e(99289),_=e.n(U),T=e(80854);function c(m){return v.apply(this,arguments)}function v(){return v=_()(i()().mark(function m(h){return i()().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return u.abrupt("return",(0,T.request)("/api/tags/unique",a()({method:"GET",useCache:!1},h||{})));case 1:case"end":return u.stop()}},m)})),v.apply(this,arguments)}},38925:function(J,A,e){"use strict";e.d(A,{Z:function(){return me}});var d=e(67294),i=e(76278),P=e(17012),a=e(62208),U=e(26702),_=e(1558),T=e(93967),c=e.n(T),v=e(82225),m=e(64217),h=e(96159),B=e(53124),u=e(6731),f=e(14747),N=e(91945);const t=(o,r,E,p,g)=>({background:o,border:`${(0,u.unit)(p.lineWidth)} ${p.lineType} ${r}`,[`${g}-icon`]:{color:E}}),w=o=>{const{componentCls:r,motionDurationSlow:E,marginXS:p,marginSM:g,fontSize:k,fontSizeLG:s,lineHeight:ae,borderRadiusLG:he,motionEaseInOutCirc:re,withDescriptionIconSize:ge,colorText:De,colorTextHeading:Ee,withDescriptionPadding:Me,defaultPadding:je}=o;return{[r]:Object.assign(Object.assign({},(0,f.Wf)(o)),{position:"relative",display:"flex",alignItems:"center",padding:je,wordWrap:"break-word",borderRadius:he,[`&${r}-rtl`]:{direction:"rtl"},[`${r}-content`]:{flex:1,minWidth:0},[`${r}-icon`]:{marginInlineEnd:p,lineHeight:0},["&-description"]:{display:"none",fontSize:k,lineHeight:ae},"&-message":{color:Ee},[`&${r}-motion-leave`]:{overflow:"hidden",opacity:1,transition:`max-height ${E} ${re}, opacity ${E} ${re},
        padding-top ${E} ${re}, padding-bottom ${E} ${re},
        margin-bottom ${E} ${re}`},[`&${r}-motion-leave-active`]:{maxHeight:0,marginBottom:"0 !important",paddingTop:0,paddingBottom:0,opacity:0}}),[`${r}-with-description`]:{alignItems:"flex-start",padding:Me,[`${r}-icon`]:{marginInlineEnd:g,fontSize:ge,lineHeight:0},[`${r}-message`]:{display:"block",marginBottom:p,color:Ee,fontSize:s},[`${r}-description`]:{display:"block",color:De}},[`${r}-banner`]:{marginBottom:0,border:"0 !important",borderRadius:0}}},se=o=>{const{componentCls:r,colorSuccess:E,colorSuccessBorder:p,colorSuccessBg:g,colorWarning:k,colorWarningBorder:s,colorWarningBg:ae,colorError:he,colorErrorBorder:re,colorErrorBg:ge,colorInfo:De,colorInfoBorder:Ee,colorInfoBg:Me}=o;return{[r]:{"&-success":t(g,p,E,o,r),"&-info":t(Me,Ee,De,o,r),"&-warning":t(ae,s,k,o,r),"&-error":Object.assign(Object.assign({},t(ge,re,he,o,r)),{[`${r}-description > pre`]:{margin:0,padding:0}})}}},G=o=>{const{componentCls:r,iconCls:E,motionDurationMid:p,marginXS:g,fontSizeIcon:k,colorIcon:s,colorIconHover:ae}=o;return{[r]:{["&-action"]:{marginInlineStart:g},[`${r}-close-icon`]:{marginInlineStart:g,padding:0,overflow:"hidden",fontSize:k,lineHeight:(0,u.unit)(k),backgroundColor:"transparent",border:"none",outline:"none",cursor:"pointer",[`${E}-close`]:{color:s,transition:`color ${p}`,"&:hover":{color:ae}}},"&-close-text":{color:s,transition:`color ${p}`,"&:hover":{color:ae}}}}},j=o=>({withDescriptionIconSize:o.fontSizeHeading3,defaultPadding:`${o.paddingContentVerticalSM}px 12px`,withDescriptionPadding:`${o.paddingMD}px ${o.paddingContentHorizontalLG}px`});var te=(0,N.I$)("Alert",o=>[w(o),se(o),G(o)],j),b=function(o,r){var E={};for(var p in o)Object.prototype.hasOwnProperty.call(o,p)&&r.indexOf(p)<0&&(E[p]=o[p]);if(o!=null&&typeof Object.getOwnPropertySymbols=="function")for(var g=0,p=Object.getOwnPropertySymbols(o);g<p.length;g++)r.indexOf(p[g])<0&&Object.prototype.propertyIsEnumerable.call(o,p[g])&&(E[p[g]]=o[p[g]]);return E};const D={success:i.Z,info:_.Z,error:P.Z,warning:U.Z},F=o=>{const{icon:r,prefixCls:E,type:p}=o,g=D[p]||null;return r?(0,h.wm)(r,d.createElement("span",{className:`${E}-icon`},r),()=>({className:c()(`${E}-icon`,{[r.props.className]:r.props.className})})):d.createElement(g,{className:`${E}-icon`})},q=o=>{const{isClosable:r,prefixCls:E,closeIcon:p,handleClose:g}=o,k=p===!0||p===void 0?d.createElement(a.Z,null):p;return r?d.createElement("button",{type:"button",onClick:g,className:`${E}-close-icon`,tabIndex:0},k):null};var V=o=>{const{description:r,prefixCls:E,message:p,banner:g,className:k,rootClassName:s,style:ae,onMouseEnter:he,onMouseLeave:re,onClick:ge,afterClose:De,showIcon:Ee,closable:Me,closeText:je,closeIcon:Ce,action:Ie}=o,ye=b(o,["description","prefixCls","message","banner","className","rootClassName","style","onMouseEnter","onMouseLeave","onClick","afterClose","showIcon","closable","closeText","closeIcon","action"]),[ie,Se]=d.useState(!1),Re=d.useRef(null),{getPrefixCls:Z,direction:I,alert:x}=d.useContext(B.E_),l=Z("alert",E),[Y,H,X]=te(l),_e=W=>{var O;Se(!0),(O=o.onClose)===null||O===void 0||O.call(o,W)},le=d.useMemo(()=>o.type!==void 0?o.type:g?"warning":"info",[o.type,g]),y=d.useMemo(()=>je?!0:typeof Me=="boolean"?Me:Ce!==!1&&Ce!==null&&Ce!==void 0,[je,Ce,Me]),ee=g&&Ee===void 0?!0:Ee,fe=c()(l,`${l}-${le}`,{[`${l}-with-description`]:!!r,[`${l}-no-icon`]:!ee,[`${l}-banner`]:!!g,[`${l}-rtl`]:I==="rtl"},x==null?void 0:x.className,k,s,X,H),C=(0,m.Z)(ye,{aria:!0,data:!0});return Y(d.createElement(v.default,{visible:!ie,motionName:`${l}-motion`,motionAppear:!1,motionEnter:!1,onLeaveStart:W=>({maxHeight:W.offsetHeight}),onLeaveEnd:De},W=>{let{className:O,style:z}=W;return d.createElement("div",Object.assign({ref:Re,"data-show":!ie,className:c()(fe,O),style:Object.assign(Object.assign(Object.assign({},x==null?void 0:x.style),ae),z),onMouseEnter:he,onMouseLeave:re,onClick:ge,role:"alert"},C),ee?d.createElement(F,{description:r,icon:o.icon,prefixCls:l,type:le}):null,d.createElement("div",{className:`${l}-content`},p?d.createElement("div",{className:`${l}-message`},p):null,r?d.createElement("div",{className:`${l}-description`},r):null),Ie?d.createElement("div",{className:`${l}-action`},Ie):null,d.createElement(q,{isClosable:y,prefixCls:l,closeIcon:je||(Ce!=null?Ce:x==null?void 0:x.closeIcon),handleClose:_e}))}))},ce=e(15671),xe=e(43144),ne=e(82963),ve=e(78814),oe=e(61120),n=e(32531);function Ae(o,r,E){return r=(0,oe.Z)(r),(0,ne.Z)(o,(0,ve.Z)()?Reflect.construct(r,E||[],(0,oe.Z)(o).constructor):r.apply(o,E))}var Te=function(o){(0,n.Z)(r,o);function r(){var E;return(0,ce.Z)(this,r),E=Ae(this,r,arguments),E.state={error:void 0,info:{componentStack:""}},E}return(0,xe.Z)(r,[{key:"componentDidCatch",value:function(p,g){this.setState({error:p,info:g})}},{key:"render",value:function(){const{message:p,description:g,children:k}=this.props,{error:s,info:ae}=this.state,he=ae&&ae.componentStack?ae.componentStack:null,re=typeof p=="undefined"?(s||"").toString():p,ge=typeof g=="undefined"?he:g;return s?d.createElement(V,{type:"error",message:re,description:d.createElement("pre",{style:{fontSize:"0.9em",overflowX:"auto"}},ge)}):k}}]),r}(d.Component);const Q=V;Q.ErrorBoundary=Te;var me=Q},49677:function(J){function A(e){if(e==null)throw new TypeError("Cannot destructure "+e)}J.exports=A,J.exports.__esModule=!0,J.exports.default=J.exports},2254:function(J,A,e){"use strict";e.d(A,{C:function(){return i}});var d=e(32841);function i(a){return+(0,d.Q)(a)<Date.now()}var P=null}}]);
