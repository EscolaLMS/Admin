"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7760],{47389:function($,p,e){var f=e(1413),s=e(67294),C=e(27363),y=e(84089),j=function(R,o){return s.createElement(y.Z,(0,f.Z)((0,f.Z)({},R),{},{ref:o,icon:C.Z}))};j.displayName="EditOutlined",p.Z=s.forwardRef(j)},76971:function($,p,e){e.d(p,{Z:function(){return R}});var f=e(1413),s=e(67294),C={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm192 472c0 4.4-3.6 8-8 8H544v152c0 4.4-3.6 8-8 8h-48c-4.4 0-8-3.6-8-8V544H328c-4.4 0-8-3.6-8-8v-48c0-4.4 3.6-8 8-8h152V328c0-4.4 3.6-8 8-8h48c4.4 0 8 3.6 8 8v152h152c4.4 0 8 3.6 8 8v48z"}}]},name:"plus-circle",theme:"filled"},y=C,j=e(84089),h=function(F,r){return s.createElement(j.Z,(0,f.Z)((0,f.Z)({},F),{},{ref:r,icon:y}))};h.displayName="PlusCircleFilled";var R=s.forwardRef(h)},5966:function($,p,e){var f=e(97685),s=e(1413),C=e(45987),y=e(21770),j=e(75842),h=e(55241),R=e(97435),o=e(67294),F=e(41550),r=e(85893),I=["fieldProps","proFieldProps"],z=["fieldProps","proFieldProps"],v="text",q=function(a){var n=a.fieldProps,O=a.proFieldProps,d=(0,C.Z)(a,I);return(0,r.jsx)(F.Z,(0,s.Z)({valueType:v,fieldProps:n,filedConfig:{valueType:v},proFieldProps:O},d))},G=function(a){var n=(0,y.Z)(a.open||!1,{value:a.open,onChange:a.onOpenChange}),O=(0,f.Z)(n,2),d=O[0],u=O[1];return(0,r.jsx)(j.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(U){var t,T=U.getFieldValue(a.name||[]);return(0,r.jsx)(h.Z,(0,s.Z)((0,s.Z)({getPopupContainer:function(l){return l&&l.parentNode?l.parentNode:l},onOpenChange:u,content:(0,r.jsxs)("div",{style:{padding:"4px 0"},children:[(t=a.statusRender)===null||t===void 0?void 0:t.call(a,T),a.strengthText?(0,r.jsx)("div",{style:{marginTop:10},children:(0,r.jsx)("span",{children:a.strengthText})}):null]}),overlayStyle:{width:240},placement:"right"},a.popoverProps),{},{open:d,children:a.children}))}})},V=function(a){var n=a.fieldProps,O=a.proFieldProps,d=(0,C.Z)(a,z),u=(0,o.useState)(!1),K=(0,f.Z)(u,2),U=K[0],t=K[1];return n!=null&&n.statusRender&&d.name?(0,r.jsx)(G,{name:d.name,statusRender:n==null?void 0:n.statusRender,popoverProps:n==null?void 0:n.popoverProps,strengthText:n==null?void 0:n.strengthText,open:U,onOpenChange:t,children:(0,r.jsx)(F.Z,(0,s.Z)({valueType:"password",fieldProps:(0,s.Z)((0,s.Z)({},(0,R.Z)(n,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(A){var l;n==null||(l=n.onBlur)===null||l===void 0||l.call(n,A),t(!1)},onClick:function(A){var l;n==null||(l=n.onClick)===null||l===void 0||l.call(n,A),t(!0)}}),proFieldProps:O,filedConfig:{valueType:v}},d))}):(0,r.jsx)(F.Z,(0,s.Z)({valueType:"password",fieldProps:n,proFieldProps:O,filedConfig:{valueType:v}},d))},c=q;c.Password=V,c.displayName="ProFormComponent",p.Z=c},16894:function($,p,e){var f=e(72717);p.ZP=f.Z},51457:function($,p,e){e.r(p),e.d(p,{TableColumns:function(){return l},default:function(){return _}});var f=e(15009),s=e.n(f),C=e(99289),y=e.n(C),j=e(5574),h=e.n(j),R=e(9783),o=e.n(R),F=e(97857),r=e.n(F),I=e(15385),z=e(66419),v=e(43669),q=e(47389),G=e(74453),V=e(16894),c=e(83062),b=e(14726),a=e(67294),n=e(80854),O=e(37476),d=e(952),u=e(5966),K=e(75842),U=e(37550),t=e(85893),T=function(P){var D=P.visible,N=P.onVisibleChange,J=P.onFinish,W=P.langKey,ne=P.defaultValue,Y=(0,n.useIntl)(),L=K.Z.useForm(),X=h()(L,1),Q=X[0];return(0,a.useEffect)(function(){Q.setFieldsValue({key:W,text:ne})},[W,Q]),(0,t.jsxs)(O.Y,{form:Q,title:Y.formatMessage({id:"editTranslation",defaultMessage:"Edit Translation"}),width:"700px",visible:D,onVisibleChange:N,onFinish:function(ae){return J(r()({},ae))},children:[(0,t.jsxs)(d.ZP.Group,{children:[(0,t.jsx)(u.Z,{disabled:!0,label:(0,t.jsx)(n.FormattedMessage,{id:"group",defaultMessage:"group"}),name:"group",initialValue:"Admin"}),(0,t.jsx)(u.Z,{disabled:!0,name:"key",label:(0,t.jsx)(n.FormattedMessage,{id:"key"}),placeholder:Y.formatMessage({id:"key"}),required:!0})]}),(0,t.jsx)(d.ZP.Item,{name:"text",label:(0,t.jsx)(n.FormattedMessage,{id:"translationJsonText"}),tooltip:(0,t.jsx)(n.FormattedMessage,{id:"translationJsonText_tooltip"}),valuePropName:"value",children:(0,t.jsx)(U.V,{})})]})},A=T,l=[{title:(0,t.jsx)(n.FormattedMessage,{id:"language",defaultMessage:"Language"}),dataIndex:"lang",sorter:!0,valueType:"select",valueEnum:(0,n.getAllLocales)().reduce(function(B,P){return r()(r()({},B),{},o()({},P,P))},{})},{title:(0,t.jsx)(n.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",sorter:!0},{title:(0,t.jsx)(n.FormattedMessage,{id:"value",defaultMessage:"value"}),dataIndex:"value",sorter:!0}],ee=function(){var P=(0,a.useState)(Math.random()),D=h()(P,2),N=D[0],J=D[1],W=(0,a.useRef)(),ne=(0,a.useState)(),Y=h()(ne,2),L=Y[0],X=Y[1],Q=(0,n.useIntl)(),te=(0,a.useMemo)(function(){for(var x=[],M=Object.keys(v.H8),m=function(){var g=H[i],k=v.H8[g].messages;k&&Object.keys(k).forEach(function(Z){x.push({id:"".concat(g,"-").concat(Z),lang:g,key:Z,value:k[Z]||""})})},i=0,H=M;i<H.length;i++)m();return x},[N]),ae=(0,a.useCallback)(function(x){var M=te.reduce(function(m,i){return i.key===x?r()(r()({},m),{},o()({},i.lang,i.value)):m},{});X({key:x,defaultValue:M})},[]);return(0,t.jsxs)(G._z,{children:[(0,t.jsx)(V.ZP,{headerTitle:Q.formatMessage({id:"menu.Configuration.Translations",defaultMessage:"Translations"}),actionRef:W,search:{layout:"vertical"},rowKey:"id",request:function(M,m){var i=M.lang,H=M.key,E=M.value,g=m&&Object.entries(m)[0];return new Promise(function(k){var Z=te.filter(function(w){var S=!0;return S&&i&&w.lang!==i&&(S=!1),S&&H&&!w.key.includes(H)&&(S=!1),S&&E&&typeof w.value=="string"&&w.value&&!w.value.includes(E)&&(S=!1),S});g&&(console.log("rows: ",Z),console.log("sortArr: ",g),Z=Z.sort((0,z.YC)(g[0],g[1]!=="ascend"))),k({data:Z,success:!0,total:Z.length})})},columns:[].concat(l,[{title:(0,t.jsx)(n.FormattedMessage,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(M,m){return[(0,t.jsx)(c.Z,{title:(0,t.jsx)(n.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,t.jsx)(b.ZP,{type:"primary",icon:(0,t.jsx)(q.Z,{}),onClick:function(){return ae(m.key)}})},"edit"),,]}}])})," ",(0,t.jsx)(A,{langKey:L==null?void 0:L.key,defaultValue:L==null?void 0:L.defaultValue,visible:!!L,onVisibleChange:function(M){return M===!1&&X(void 0)},onFinish:function(){var x=y()(s()().mark(function M(m){var i;return s()().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return Object.entries(m.text).forEach(function(g){g[1]&&(0,n.addLocale)(g[0],o()({},m.key,g[1]),{antd:v.H8[g[0]].antd,momentLocale:v.H8[g[0]].momentLocale})}),W.current&&(J(Math.random()),W.current.reload()),E.next=4,(0,I.Iz)({group:"Admin",key:m.key});case 4:if(i=E.sent,!i.success){E.next=12;break}if(!(i.data.length>0&&i.data[0].id)){E.next=10;break}(0,I.KK)(i.data[0].id,m),E.next=12;break;case 10:return E.next=12,(0,I.vP)(m);case 12:return X(void 0),E.abrupt("return",!0);case 14:case"end":return E.stop()}},M)}));return function(M){return x.apply(this,arguments)}}()})]})},_=ee},37550:function($,p,e){e.d(p,{V:function(){return a}});var f=e(52677),s=e.n(f),C=e(5574),y=e.n(C),j=e(9783),h=e.n(j),R=e(97857),o=e.n(R),F=e(71230),r=e(15746),I=e(96365),z=e(14726),v=e(67294),q=e(45823),G=e(76971),V=e(80854),c=e(85893),b=function(){return(0,V.getAllLocales)().reduce(function(d,u){return o()(o()({},d),{},h()({},u,""))},{})},a=function(d){var u=d.value,K=d.onChange,U=(0,v.useState)(b()),t=y()(U,2),T=t[0],A=t[1];(0,v.useEffect)(function(){var _=s()(u)==="object"?u:JSON.parse(u!=null?u:"{}");A(Object.assign(b(),_))},[u]),(0,v.useEffect)(function(){K&&JSON.stringify(T)!==JSON.stringify(u)&&K(T)},[T]);var l=(0,v.useCallback)(function(){A(function(_){return o()(o()({},_),{},{lang:""})})},[]),ee=(0,v.useCallback)(function(_,B,P){A(function(D){return Object.entries(D).reduce(function(N,J,W){return W===_?o()(o()({},N),{},h()({},B,P)):o()(o()({},N),{},h()({},J[0],J[1]))},{})})},[]);return(0,c.jsxs)("div",{children:[Object.entries(T).map(function(_,B){return(0,c.jsxs)(F.Z,{children:[(0,c.jsx)(r.Z,{span:6,children:(0,c.jsx)(I.Z,{disabled:(0,V.getAllLocales)().includes(_[0]),value:_[0],maxLength:5,onChange:function(D){return ee(B,D.target.value,_[1])}})}),(0,c.jsx)(r.Z,{span:24-6,children:(0,c.jsx)(I.Z,{value:_[1],onChange:function(D){return ee(B,_[0],D.target.value)}})})]},_[0])}),(0,c.jsx)(z.ZP,{onClick:function(){return l()},icon:(0,c.jsx)(G.Z,{})})]})},n=null},45823:function(){}}]);
