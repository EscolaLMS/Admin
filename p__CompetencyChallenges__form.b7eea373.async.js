(window.webpackJsonp=window.webpackJsonp||[]).push([[10],{"/y+f":function(be,_,e){"use strict";e.d(_,"g",function(){return O}),e.d(_,"e",function(){return j}),e.d(_,"f",function(){return o}),e.d(_,"d",function(){return z}),e.d(_,"a",function(){return I}),e.d(_,"c",function(){return B}),e.d(_,"b",function(){return s});var O;(function(a){a.Unselected="",a.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",a.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",a.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",a.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",a.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",a.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",a.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",a.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",a.Project="EscolaLms\\TopicTypeProject\\Models\\Project",a.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz"})(O||(O={}));var L;(function(a){a.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",a.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(L||(L={}));var E;(function(a){a.draft="draft",a.published="published",a.archived="archived"})(E||(E={}));var j;(function(a){a.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",a.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",a.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(j||(j={}));var o;(function(a){a.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(o||(o={}));var H;(function(a){a.cart_fixed="cart_fixed",a.cart_percent="cart_percent",a.product_fixed="product_fixed",a.product_percent="product_percent"})(H||(H={}));var z;(function(a){a.MULTIPLE_CHOICE="multiple_choice",a.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",a.TRUE_FALSE="true_false",a.SHORT_ANSWERS="short_answers",a.MATCHING="matching",a.NUMERICAL_QUESTION="numerical_question",a.ESSAY="essay",a.DESCRIPTION="description"})(z||(z={}));var I;(function(a){a.PRESENT="present",a.PRESENT_NOT_EXERCISING="present_not_exercising",a.ABSENT="absent",a.EXCUSED_ABSENCE="excused_absence"})(I||(I={}));var B;(function(a){a.Manual="manual",a.TeamsForms="teams_forms",a.TeamsLecture="teams_lecture",a.TestPortal="test_portal"})(B||(B={}));var s;(function(a){a.Simple="simple",a.Complex="complex"})(s||(s={}))},EKp7:function(be,_,e){"use strict";e.r(_);var O=e("T2oS"),L=e("W9HT"),E=e("tJVT"),j=e("q1tI"),o=e("9kvl"),H=e("Ty5D"),z=e("tMyG"),I=e("nhC9"),B=e("YRX9"),s=e("k1fw"),a=e("qLMh"),de=e("miYZ"),Z=e("tsqr"),k=e("9og8"),Y=e("VMEa"),F=e("Qurx"),g=e("yj/a"),W=e("F/zT"),q=e("0WSk"),ee=e("Gn8c"),b=e("hd5d"),m=e("/y+f"),t=e("nKUr"),p=Object.values(m.b).map(function(h){return{value:h,label:Object(t.jsx)(o.a,{id:"CompetencyChallenges.types.".concat(h)})}}),i=function(v){var y=v.data,c=v.competency_challenge_id,P=v.onAddSuccess,C=v.onUpdateSuccess,S=Object(o.l)(),V=Y.a.useForm(),U=Object(E.a)(V,1),Q=U[0],N=Number.isNaN(c),re=Object(j.useCallback)(function(){var w=Object(k.a)(Object(a.a)().mark(function G(ae){var K,J,M,x,d;return Object(a.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return K=ae.name,J=ae.type,M=ae.is_active,x=M===void 0?!1:M,l.prev=1,l.next=4,Object(B.a)({name:K,is_active:x,type:J});case 4:if(d=l.sent,d.success){l.next=8;break}return Z.b.error(d.message),l.abrupt("return");case 8:Z.b.success(S.formatMessage({id:d.message})),o.f.push("/competency-challenges/".concat(d.data.id,"/main")),P==null||P(d),l.next=16;break;case 13:l.prev=13,l.t0=l.catch(1),Z.b.error(S.formatMessage({id:"error"}));case 16:case"end":return l.stop()}},G,null,[[1,13]])}));return function(G){return w.apply(this,arguments)}}(),[]),te=Object(j.useCallback)(function(){var w=Object(k.a)(Object(a.a)().mark(function G(ae){var K,J,M,x;return Object(a.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,K=Q.getFieldsValue(["image_url","image_path"]),J=K.image_url,M=K.image_path,r.next=4,Object(B.g)(c,Object(s.a)(Object(s.a)({},ae),{},{image_url:J,image_path:M}));case 4:if(x=r.sent,x.success){r.next=8;break}return Z.b.error(x.message),r.abrupt("return");case 8:Z.b.success(S.formatMessage({id:x.message})),C==null||C(x),r.next=15;break;case 12:r.prev=12,r.t0=r.catch(0),Z.b.error(S.formatMessage({id:"error"}));case 15:case"end":return r.stop()}},G,null,[[0,12]])}));return function(G){return w.apply(this,arguments)}}(),[c]);return Object(t.jsxs)(Y.a,{form:Q,initialValues:y!=null?y:{},onFinish:N?re:te,children:[Object(t.jsxs)(Y.a.Group,{title:Object(t.jsx)(o.a,{id:"CompetencyChallenges.base"}),children:[Object(t.jsx)(F.a,{width:"md",name:"name",label:Object(t.jsx)(o.a,{id:"name"}),placeholder:S.formatMessage({id:"name"}),required:!0,rules:[{required:!0,message:S.formatMessage({id:"field_required"})}]}),Object(t.jsx)(g.a,{width:"md",name:"type",label:Object(t.jsx)(o.a,{id:"type"}),options:p,required:!0,rules:[{required:!0,message:S.formatMessage({id:"field_required"})}]}),Object(t.jsx)(W.a,{name:"is_active",label:Object(t.jsx)(o.a,{id:"is_active"})})]}),!N&&Object(t.jsxs)(t.Fragment,{children:[Object(t.jsxs)(Y.a.Group,{title:Object(t.jsx)(o.a,{id:"CompetencyChallenges.additional"}),children:[Object(t.jsx)(Y.a.Item,{name:"description",label:Object(t.jsx)(o.a,{id:"description"}),valuePropName:"value",style:{width:697},children:Object(t.jsx)(b.a,{directory:"competency-challenges/".concat(c)})}),Object(t.jsx)(Y.a.Item,{name:"authors",label:Object(t.jsx)(o.a,{id:"author"}),children:Object(t.jsx)(q.a,{multiple:!0})})]}),Object(t.jsx)(ee.a,{wrapInForm:!1,folder:"/competency-challenges/".concat(c),title:"image",action:"/api/admin/competency-challenges/".concat(c,"?_method=PATCH"),src_name:"image_url",form_name:"image",getUploadedSrcField:function(G){return G.file.response.data.image_url},setPath:function(G){return Q.setFieldsValue(G)}})]})]})},A=e("PpiC"),ue=e("P2fV"),$=e("NJEC"),me=e("5Dmo"),Ee=e("3S7+"),De=e("+L6B"),Ce=e("2/Rp"),n=e("Vpfc"),ne=e("G3dp"),ve=e("/MfK"),ye=e("Hn4i"),Te=e("nRaC"),fe=e("5RzL"),he=e("JifO"),Oe=function h(v,y){var c,P=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;return(c=v.subcategories)!==null&&c!==void 0&&c.length?{title:v.name,value:v.id,disabled:P===0||y.includes(v.id),children:v.subcategories.map(function(C){return h(C,y,P+1)})}:{title:v.name,value:v.id,disabled:P===0||y.includes(v.id)}},ie=function(v){var y=v.value,c=v.onChange,P=v.multiple,C=P===void 0?!1:P,S=v.disabledNodes,V=S===void 0?[]:S,U=Object(j.useState)([]),Q=Object(E.a)(U,2),N=Q[0],re=Q[1];Object(j.useEffect)(function(){Object(he.c)().then(function(w){w.success&&re(w.data)})},[]);var te=Object(j.useMemo)(function(){return N.map(function(w){return Oe(w,V)})},[N,V]);return Object(t.jsx)(fe.a,{loading:N.length===0,multiple:C,showSearch:!0,value:y,dropdownStyle:{maxHeight:400,overflow:"auto"},placeholder:Object(t.jsx)(o.a,{id:"select",defaultMessage:"Please select"}),allowClear:!0,treeDefaultExpandAll:!0,onChange:c,treeData:te,disabled:N.length===0})},Pe=["scale_min","category_id"],Me=[{title:Object(t.jsx)(o.a,{id:"ID"}),dataIndex:"id",editable:!1,render:function(v,y){if(typeof y.id!="string")return"-";var c=y.id.split("-"),P=Object(E.a)(c,2),C=P[0],S=P[1];return C==="new"?"-":S}},{title:Object(t.jsx)(o.a,{id:"min_percent"}),dataIndex:"scale_min",valueType:"percent",formItemProps:{rules:[{required:!0,message:Object(t.jsx)(o.a,{id:"field_required"})},{type:"number",min:0,max:100,message:Object(t.jsx)(o.a,{id:"number_between",values:{min:0,max:100}})}]},fieldProps:{min:0,max:100}},{title:Object(t.jsx)(o.a,{id:"category"}),dataIndex:"category_id",render:function(v,y){return Object(t.jsx)(n.a,{type:"Category",type_id:y.category_id})},formItemProps:{rules:[{required:!0,message:Object(t.jsx)(o.a,{id:"field_required"})}]},renderFormItem:function(v,y,c){var P,C=((P=c.getFieldValue("table"))!==null&&P!==void 0?P:[]).map(function(S){return S.category_id});return Object(t.jsx)(ie,{disabledNodes:C})}}],ge=function(v){return v.map(function(y){var c=y.id,P=y.scale_min,C=y.category;return{id:"old-".concat(c),scale_min:P,category_id:C.id}})},pe=function(v){var y=v.competency_challenge_id,c=v.scales,P=v.onScaleDelete,C=v.onScaleAdd,S=v.onScaleUpdate,V=Object(j.useState)([]),U=Object(E.a)(V,2),Q=U[0],N=U[1],re=Object(o.l)(),te=Object(j.useRef)(),w=Object(j.useRef)(),G=Object(j.useRef)(),ae=Object(j.useMemo)(function(){return ge(c)},[c]),K=Object(j.useMemo)(function(){return[].concat(Me,[{valueType:"option",title:Object(t.jsx)(o.a,{id:"options"}),render:function(M,x,d,r){return[Object(t.jsx)(Ee.a,{title:Object(t.jsx)(o.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(Ce.a,{type:"primary",icon:Object(t.jsx)(ne.a,{}),onClick:function(){return r==null?void 0:r.startEditable(x.id)}})},"edit"),Object(t.jsx)($.a,{title:Object(t.jsx)(o.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(k.a)(Object(a.a)().mark(function l(){var u,f,T,D,X,le,se,je;return Object(a.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(typeof x.id=="string"){R.next=2;break}return R.abrupt("return");case 2:if(u=x.id.split("-"),f=Object(E.a)(u,2),T=f[0],D=f[1],T!=="new"){R.next=7;break}return se=(X=te.current)===null||X===void 0?void 0:X.getFieldValue("table"),(le=te.current)===null||le===void 0||le.setFieldValue("table",se.filter(function(Se){var xe=Se.id;return xe!==x.id})),R.abrupt("return");case 7:return R.next=9,Object(B.d)(+D);case 9:je=R.sent,je.success&&(P==null||P());case 11:case"end":return R.stop()}},l)})),okText:Object(t.jsx)(o.a,{id:"ok"}),cancelText:Object(t.jsx)(o.a,{id:"cancel"}),children:Object(t.jsx)(Ee.a,{title:Object(t.jsx)(o.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(Ce.a,{type:"primary",icon:Object(t.jsx)(ve.a,{}),danger:!0})})},"delete")]}}])},[]);return Object(t.jsx)(Y.a,{formRef:te,initialValues:{table:ae},submitter:!1,children:Object(t.jsx)(ye.a,{rowKey:function(M){return M.id},editableFormRef:w,controlled:!0,actionRef:G,maxLength:10,name:"table",columns:K,recordCreatorProps:{creatorButtonText:Object(t.jsx)(o.a,{id:"CompetencyChallenges.addNewRow"}),disabled:Q.length>0,record:function(M){return{id:"new-".concat(M)}}},editable:{onlyOneLineEditorAlertMessage:re.formatMessage({id:"CompetencyChallenges.onlyOneRowIsEditable"}),onSave:function(){var J=Object(k.a)(Object(a.a)().mark(function x(d,r){var l,u,f,T,D,X,le,se,je;return Object(a.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(l=r.scale_min,u=r.category_id,f=Object(A.a)(r,Pe),typeof f.id=="string"){R.next=3;break}return R.abrupt("return");case 3:if(T=f.id.split("-"),D=Object(E.a)(T,2),X=D[0],le=D[1],X!=="new"){R.next=10;break}return R.next=7,Object(B.b)({scale_min:l,category_id:u,competency_challenge_id:y});case 7:return se=R.sent,se.success&&(C==null||C()),R.abrupt("return");case 10:return R.next=12,Object(B.h)(+le,{scale_min:l,category_id:u,competency_challenge_id:y});case 12:return je=R.sent,je.success&&(S==null||S()),R.abrupt("return");case 15:case"end":return R.stop()}},x)}));function M(x,d){return J.apply(this,arguments)}return M}(),deletePopconfirmMessage:Object(t.jsx)(o.a,{id:"deleteQuestion"}),actionRender:function(M,x,d){if(typeof M.id!="string")return[];var r=M.id.split("-"),l=Object(E.a)(r,1),u=l[0];return u==="new"?[d.save,d.delete]:[d.save,d.cancel]},type:"single",editableKeys:Q,onChange:N}})})},ce=function(){return Object(t.jsx)(t.Fragment,{children:"Quiz"})},oe=function(){var v,y=Object(j.useState)(!1),c=Object(E.a)(y,2),P=c[0],C=c[1],S=Object(j.useState)(),V=Object(E.a)(S,2),U=V[0],Q=V[1],N=Object(o.l)(),re=Object(H.l)(),te=re.id,w=re.tab,G=w===void 0?"main":w,ae=te==="new",K=Number(te),J=Object(j.useMemo)(function(){return ae?N.formatMessage({id:"CompetencyChallenges.new_challenge"}):U!=null&&U.name?U.name:N.formatMessage({id:"menu.Competency challenges"})},[N,U==null?void 0:U.name]),M=Object(j.useCallback)(function(){Number.isNaN(K)||(C(!0),Object(B.e)(K).then(function(x){x.success&&Q(x.data)}).finally(function(){return C(!1)}))},[K]);return Object(j.useEffect)(function(){M()},[M]),Object(t.jsx)(z.a,{title:J,header:{breadcrumb:{routes:[{path:"competency-challenges",breadcrumbName:N.formatMessage({id:"menu.Competency challenges"})},{path:String(te),breadcrumbName:J},{path:G,breadcrumbName:N.formatMessage({id:"CompetencyChallenges.".concat(G)})}]}},children:Object(t.jsxs)(I.a,{bodyStyle:{padding:"24px"},tabs:{type:"card",cardProps:{loading:P&&Object(t.jsx)(L.a,{})},activeKey:G,onChange:function(d){o.f.push("/competency-challenges/".concat(te,"/").concat(d))}},children:[Object(t.jsx)(I.a.TabPane,{tab:Object(t.jsx)(o.a,{id:"CompetencyChallenges.main"}),children:Object(t.jsx)(i,{competency_challenge_id:K,data:U,onUpdateSuccess:M})},"main"),Object(t.jsx)(I.a.TabPane,{tab:Object(t.jsx)(o.a,{id:"CompetencyChallenges.scales"}),disabled:ae,children:Object(t.jsx)(pe,{competency_challenge_id:K,scales:(v=U==null?void 0:U.scales)!==null&&v!==void 0?v:[],onScaleDelete:M,onScaleAdd:M,onScaleUpdate:M})},"scales"),Object(t.jsx)(I.a.TabPane,{tab:Object(t.jsx)(o.a,{id:"CompetencyChallenges.diagnostic-test"}),disabled:ae,children:Object(t.jsx)(ce,{})},"diagnostic-test")]})})},_e=_.default=oe},Hn4i:function(be,_,e){"use strict";var O=e("y8nQ"),L=e("Vl3Y"),E=e("+L6B"),j=e("2/Rp"),o=e("rePB"),H=e("ODXe"),z=e("Ff2n"),I=e("x+uP"),B=e("HaE+"),s=e("VTBJ"),a=e("nKUr"),de=e.n(a),Z=e("xvlK"),k=e("WuYN"),Y=e("VMEa"),F=e("LQCs"),g=e("ft2k"),W=e("uX+g"),q=e("+i8S"),ee=e("ipCM"),b=e("6cGi"),m=e("ub+h"),t=e("bG1m"),p=e("q1tI"),i=e.n(p),A=e("mWMg"),ue=["onTableChange","maxLength","formItemProps","recordCreatorProps","rowKey","controlled","defaultValue","onChange","editableFormRef"],$=["record","position","creatorButtonText","newRecordType","parentKey","style"],me=i.a.createContext(void 0);function Ee(n){var ne=n.children,ve=n.record,ye=n.position,Te=n.newRecordType,fe=n.parentKey,he=Object(p.useContext)(me);return i.a.cloneElement(ne,Object(s.a)(Object(s.a)({},ne.props),{},{onClick:function(){var Oe=Object(B.a)(Object(I.a)().mark(function Pe(Me){var ge,pe,ce,oe;return Object(I.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.next=2,(ge=(pe=ne.props).onClick)===null||ge===void 0?void 0:ge.call(pe,Me);case 2:if(oe=h.sent,oe!==!1){h.next=5;break}return h.abrupt("return");case 5:he==null||(ce=he.current)===null||ce===void 0||ce.addEditRecord(ve,{position:ye,newRecordType:Te,parentKey:fe});case 6:case"end":return h.stop()}},Pe)}));function ie(Pe){return Oe.apply(this,arguments)}return ie}()}))}function De(n){var ne,ve,ye=Object(F.d)(),Te=n.onTableChange,fe=n.maxLength,he=n.formItemProps,Oe=n.recordCreatorProps,ie=n.rowKey,Pe=n.controlled,Me=n.defaultValue,ge=n.onChange,pe=n.editableFormRef,ce=Object(z.a)(n,ue),oe=Object(g.a)(n.value),_e=Object(p.useRef)(),h=Object(p.useRef)();Object(p.useImperativeHandle)(ce.actionRef,function(){return _e.current});var v=Object(b.a)(function(){return n.value||Me||[]},{value:n.value,onChange:n.onChange}),y=Object(H.a)(v,2),c=y[0],P=y[1],C=i.a.useMemo(function(){return typeof ie=="function"?ie:function(d,r){return d[ie]||r}},[ie]),S=function(r){if(typeof r=="number"&&!n.name){if(r>=c.length)return r;var l=c&&c[r];return C==null?void 0:C(l,r)}if((typeof r=="string"||r>=c.length)&&n.name){var u=c.findIndex(function(f,T){var D;return(C==null||(D=C(f,T))===null||D===void 0?void 0:D.toString())===(r==null?void 0:r.toString())});return u}return r};Object(p.useImperativeHandle)(pe,function(){var d=function(u){var f,T;if(u==null)throw new Error("rowIndex is required");var D=S(u),X=[n.name,(f=D==null?void 0:D.toString())!==null&&f!==void 0?f:""].flat(1).filter(Boolean);return(T=h.current)===null||T===void 0?void 0:T.getFieldValue(X)},r=function(){var u,f=[n.name].flat(1).filter(Boolean);if(Array.isArray(f)&&f.length===0){var T,D=(T=h.current)===null||T===void 0?void 0:T.getFieldsValue();return Array.isArray(D)?D:Object.keys(D).map(function(X){return D[X]})}return(u=h.current)===null||u===void 0?void 0:u.getFieldValue(f)};return Object(s.a)(Object(s.a)({},h.current),{},{getRowData:d,getRowsData:r,setRowData:function(u,f){var T,D,X,le;if(u==null)throw new Error("rowIndex is required");var se=S(u),je=[n.name,(T=se==null?void 0:se.toString())!==null&&T!==void 0?T:""].flat(1).filter(Boolean),Re=((D=h.current)===null||D===void 0||(X=D.getFieldsValue)===null||X===void 0?void 0:X.call(D))||{},R=Object(t.a)(Re,je,Object(s.a)(Object(s.a)({},d(u)),f||{}));return(le=h.current)===null||le===void 0?void 0:le.setFieldsValue(R)}})}),Object(p.useEffect)(function(){!n.controlled||c.forEach(function(d,r){var l;(l=h.current)===null||l===void 0||l.setFieldsValue(Object(o.a)({},C(d,r),d))},{})},[c,n.controlled]),Object(p.useEffect)(function(){if(n.name){var d;h.current=n==null||(d=n.editable)===null||d===void 0?void 0:d.form}},[(ne=n.editable)===null||ne===void 0?void 0:ne.form,n.name]);var V=Oe||{},U=V.record,Q=V.position,N=V.creatorButtonText,re=V.newRecordType,te=V.parentKey,w=V.style,G=Object(z.a)(V,$),ae=Q==="top",K=Object(p.useMemo)(function(){return fe&&fe<=(c==null?void 0:c.length)?!1:Oe!==!1&&Object(a.jsx)(Ee,{record:Object(W.a)(U,c==null?void 0:c.length,c)||{},position:Q,parentKey:Object(W.a)(te,c==null?void 0:c.length,c),newRecordType:re,children:Object(a.jsx)(j.a,Object(s.a)(Object(s.a)({type:"dashed",style:Object(s.a)({display:"block",margin:"10px 0",width:"100%"},w),icon:Object(a.jsx)(Z.a,{})},G),{},{children:N||ye.getMessage("editableTable.action.add","\u6DFB\u52A0\u4E00\u884C\u6570\u636E")}))})},[Oe,fe,c==null?void 0:c.length]),J=Object(p.useMemo)(function(){return K?ae?{components:{header:{wrapper:function(r){var l,u=r.className,f=r.children;return Object(a.jsxs)("thead",{className:u,children:[f,Object(a.jsxs)("tr",{style:{position:"relative"},children:[Object(a.jsx)("td",{colSpan:0,style:{visibility:"hidden"},children:K}),Object(a.jsx)("td",{style:{position:"absolute",left:0,width:"100%"},colSpan:(l=ce.columns)===null||l===void 0?void 0:l.length,children:K})]})]})}}}}:{tableViewRender:function(r,l){var u,f;return Object(a.jsxs)(a.Fragment,{children:[(u=(f=n.tableViewRender)===null||f===void 0?void 0:f.call(n,r,l))!==null&&u!==void 0?u:l,K]})}}:{}},[ae,K]),M=Object(s.a)({},n.editable),x=Object(q.a)(function(d,r){var l,u,f;if((l=n.editable)===null||l===void 0||(u=l.onValuesChange)===null||u===void 0||u.call(l,d,r),(f=n.onValuesChange)===null||f===void 0||f.call(n,r,d),n.controlled){var T;n==null||(T=n.onChange)===null||T===void 0||T.call(n,r)}});return((n==null?void 0:n.onValuesChange)||((ve=n.editable)===null||ve===void 0?void 0:ve.onValuesChange)||n.controlled&&(n==null?void 0:n.onChange))&&(M.onValuesChange=x),Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(me.Provider,{value:_e,children:Object(a.jsx)(A.a,Object(s.a)(Object(s.a)(Object(s.a)({search:!1,options:!1,pagination:!1,rowKey:ie,revalidateOnFocus:!1},ce),J),{},{tableLayout:"fixed",actionRef:_e,onChange:Te,editable:Object(s.a)(Object(s.a)({},M),{},{formProps:Object(s.a)({formRef:h},M.formProps)}),dataSource:c,onDataSourceChange:function(r){if(P(r),n.name&&Q==="top"){var l,u=Object(t.a)({},[n.name].flat(1).filter(Boolean),r);(l=h.current)===null||l===void 0||l.setFieldsValue(u)}}}))}),n.name?Object(a.jsx)(k.a,{name:[n.name],children:function(r){var l,u,f=Object(m.a)(r,[n.name].flat(1)),T=f==null?void 0:f.find(function(D,X){return!Object(ee.a)(D,oe==null?void 0:oe[X])});return T&&oe&&(n==null||(l=n.editable)===null||l===void 0||(u=l.onValuesChange)===null||u===void 0||u.call(l,T,f)),null}}):null]})}function Ce(n){var ne=Y.a.useFormInstance();return n.name?Object(a.jsx)(L.a.Item,Object(s.a)(Object(s.a)({style:{maxWidth:"100%"}},n==null?void 0:n.formItemProps),{},{name:n.name,children:Object(a.jsx)(De,Object(s.a)(Object(s.a)({},n),{},{editable:Object(s.a)(Object(s.a)({},n.editable),{},{form:ne})}))})):Object(a.jsx)(De,Object(s.a)({},n))}Ce.RecordCreator=Ee,_.a=Ce},YRX9:function(be,_,e){"use strict";e.d(_,"f",function(){return o}),e.d(_,"e",function(){return z}),e.d(_,"a",function(){return B}),e.d(_,"g",function(){return a}),e.d(_,"c",function(){return Z}),e.d(_,"b",function(){return Y}),e.d(_,"h",function(){return g}),e.d(_,"d",function(){return q});var O=e("qLMh"),L=e("k1fw"),E=e("9og8"),j=e("9kvl");function o(b,m){return H.apply(this,arguments)}function H(){return H=Object(E.a)(Object(O.a)().mark(function b(m,t){return Object(O.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(j.i)("/api/admin/competency-challenges",Object(L.a)({method:"GET",useCache:!1,params:m},t||{})));case 1:case"end":return i.stop()}},b)})),H.apply(this,arguments)}function z(b,m){return I.apply(this,arguments)}function I(){return I=Object(E.a)(Object(O.a)().mark(function b(m,t){return Object(O.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(j.i)("/api/admin/competency-challenges/".concat(m),Object(L.a)({method:"GET",useCache:!1},t||{})));case 1:case"end":return i.stop()}},b)})),I.apply(this,arguments)}function B(b,m){return s.apply(this,arguments)}function s(){return s=Object(E.a)(Object(O.a)().mark(function b(m,t){return Object(O.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(j.i)("/api/admin/competency-challenges",Object(L.a)({method:"POST",headers:{"Content-Type":"application/json"},data:m},t||{})));case 1:case"end":return i.stop()}},b)})),s.apply(this,arguments)}function a(b,m,t){return de.apply(this,arguments)}function de(){return de=Object(E.a)(Object(O.a)().mark(function b(m,t,p){return Object(O.a)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",Object(j.i)("/api/admin/competency-challenges/".concat(m),Object(L.a)({method:"PUT",headers:{"Content-Type":"application/json"},data:t},p||{})));case 1:case"end":return A.stop()}},b)})),de.apply(this,arguments)}function Z(b,m){return k.apply(this,arguments)}function k(){return k=Object(E.a)(Object(O.a)().mark(function b(m,t){return Object(O.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(j.i)("/api/admin/competency-challenges/".concat(m),Object(L.a)({method:"DELETE"},t||{})));case 1:case"end":return i.stop()}},b)})),k.apply(this,arguments)}function Y(b,m){return F.apply(this,arguments)}function F(){return F=Object(E.a)(Object(O.a)().mark(function b(m,t){return Object(O.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(j.i)("/api/admin/competency-challenges/scales",Object(L.a)({method:"POST",headers:{"Content-Type":"application/json"},data:m},t||{})));case 1:case"end":return i.stop()}},b)})),F.apply(this,arguments)}function g(b,m,t){return W.apply(this,arguments)}function W(){return W=Object(E.a)(Object(O.a)().mark(function b(m,t,p){return Object(O.a)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",Object(j.i)("/api/admin/competency-challenges/scales/".concat(m),Object(L.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:t},p||{})));case 1:case"end":return A.stop()}},b)})),W.apply(this,arguments)}function q(b,m){return ee.apply(this,arguments)}function ee(){return ee=Object(E.a)(Object(O.a)().mark(function b(m,t){return Object(O.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(j.i)("/api/admin/competency-challenges/scales/".concat(m),Object(L.a)({method:"DELETE"},t||{})));case 1:case"end":return i.stop()}},b)})),ee.apply(this,arguments)}},hd5d:function(be,_,e){"use strict";var O=e("qLMh"),L=e("9og8"),E=e("q1tI"),j=e.n(E),o=e("acco"),H=e.n(o),z=e("BAh9"),I=e("vtG9"),B=e.n(I),s=e("9kvl"),a=e("nKUr"),de=e.n(a),Z=function(F){var g=F.attrs,W=g.href,q=W.split("/").pop();return Object(a.jsx)("p",{children:Object(a.jsx)("a",{rel:"noreferrer",href:W,target:"_blank",children:q})})},k=function(F){var g=F.value,W=F.onChange,q=F.directory,ee=q===void 0?"/wysiwyg":q,b=Object(s.l)();return Object(a.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(a.jsx)(H.a,{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function(t){return!0},component:Z}],uploadImage:function(){var m=Object(L.a)(Object(O.a)().mark(function t(p){var i,A;return Object(O.a)().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,Object(z.e)(p,ee);case 2:if(i=$.sent,!i.success){$.next=8;break}if(!p.type.includes("image/")){$.next=7;break}return A=i.data[0].name.includes("/")?i.data[0].name:"".concat(ee).concat(i.data[0].name),$.abrupt("return",Object(z.d)(A,1e3));case 7:return $.abrupt("return",i.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return $.stop()}},t)}));return function(t){return m.apply(this,arguments)}}(),defaultValue:g||"",onChange:function(t){return W&&W(t())},placeholder:b.formatMessage({id:"wysiwyg_placeholder"})})})};_.a=k},vtG9:function(be,_,e){},"yj/a":function(be,_,e){"use strict";var O=e("VTBJ"),L=e("Ff2n"),E=e("nKUr"),j=e.n(E),o=e("uX+g"),H=e("q1tI"),z=e.n(H),I=e("lS/g"),B=e("adzw"),s=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],a=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],de=z.a.forwardRef(function(g,W){var q=g.fieldProps,ee=g.children,b=g.params,m=g.proFieldProps,t=g.mode,p=g.valueEnum,i=g.request,A=g.showSearch,ue=g.options,$=Object(L.a)(g,s),me=Object(H.useContext)(I.b);return Object(E.jsx)(B.a,Object(O.a)(Object(O.a)({valueEnum:Object(o.a)(p),request:i,params:b,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(O.a)({options:ue,mode:t,showSearch:A,getPopupContainer:me.getPopupContainer},q),ref:W,proFieldProps:m},$),{},{children:ee}))}),Z=z.a.forwardRef(function(g,W){var q=g.fieldProps,ee=g.children,b=g.params,m=g.proFieldProps,t=g.mode,p=g.valueEnum,i=g.request,A=g.options,ue=Object(L.a)(g,a),$=Object(O.a)({options:A,mode:t||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},q),me=Object(H.useContext)(I.b);return Object(E.jsx)(B.a,Object(O.a)(Object(O.a)({valueEnum:Object(o.a)(p),request:i,params:b,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(O.a)({getPopupContainer:me.getPopupContainer},$),ref:W,proFieldProps:m},ue),{},{children:ee}))}),k=de,Y=Z,F=k;F.SearchSelect=Y,F.displayName="ProFormComponent",_.a=F}}]);
