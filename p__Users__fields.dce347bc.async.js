"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7355],{82061:function(I,c,e){var o=e(1413),n=e(67294),d=e(47046),a=e(84089),_=function(v,P){return n.createElement(a.Z,(0,o.Z)((0,o.Z)({},v),{},{ref:P,icon:d.Z}))},u=n.forwardRef(_);c.Z=u},47389:function(I,c,e){var o=e(1413),n=e(67294),d=e(27363),a=e(84089),_=function(v,P){return n.createElement(a.Z,(0,o.Z)((0,o.Z)({},v),{},{ref:P,icon:d.Z}))},u=n.forwardRef(_);c.Z=u},51042:function(I,c,e){var o=e(1413),n=e(67294),d=e(42110),a=e(84089),_=function(v,P){return n.createElement(a.Z,(0,o.Z)((0,o.Z)({},v),{},{ref:P,icon:d.Z}))},u=n.forwardRef(_);c.Z=u},31199:function(I,c,e){var o=e(1413),n=e(45987),d=e(67294),a=e(41550),_=e(85893),u=["fieldProps","min","proFieldProps","max"],g=function(r,D){var A=r.fieldProps,M=r.min,l=r.proFieldProps,f=r.max,E=(0,n.Z)(r,u);return(0,_.jsx)(a.Z,(0,o.Z)({valueType:"digit",fieldProps:(0,o.Z)({min:M,max:f},A),ref:D,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:l},E))},v=d.forwardRef(g);c.Z=v},86615:function(I,c,e){var o=e(1413),n=e(45987),d=e(22270),a=e(55742),_=e(67294),u=e(90789),g=e(41550),v=e(85893),P=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],r=_.forwardRef(function(l,f){var E=l.fieldProps,h=l.options,m=l.radioType,i=l.layout,s=l.proFieldProps,j=l.valueEnum,O=(0,n.Z)(l,P);return(0,v.jsx)(g.Z,(0,o.Z)((0,o.Z)({valueType:m==="button"?"radioButton":"radio",ref:f,valueEnum:(0,d.h)(j,void 0)},O),{},{fieldProps:(0,o.Z)({options:h,layout:i},E),proFieldProps:s,filedConfig:{customLightMode:!0}}))}),D=_.forwardRef(function(l,f){var E=l.fieldProps,h=l.children;return(0,v.jsx)(a.ZP,(0,o.Z)((0,o.Z)({},E),{},{ref:f,children:h}))}),A=(0,u.G)(D,{valuePropName:"checked",ignoreWidth:!0}),M=A;M.Group=r,M.Button=a.ZP.Button,M.displayName="ProFormComponent",c.Z=M},5966:function(I,c,e){var o=e(97685),n=e(1413),d=e(45987),a=e(21770),_=e(75842),u=e(55241),g=e(97435),v=e(67294),P=e(41550),r=e(85893),D=["fieldProps","proFieldProps"],A=["fieldProps","proFieldProps"],M="text",l=function(i){var s=i.fieldProps,j=i.proFieldProps,O=(0,d.Z)(i,D);return(0,r.jsx)(P.Z,(0,n.Z)({valueType:M,fieldProps:s,filedConfig:{valueType:M},proFieldProps:j},O))},f=function(i){var s=(0,a.Z)(i.open||!1,{value:i.open,onChange:i.onOpenChange}),j=(0,o.Z)(s,2),O=j[0],Z=j[1];return(0,r.jsx)(_.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(b){var F,H=b.getFieldValue(i.name||[]);return(0,r.jsx)(u.Z,(0,n.Z)((0,n.Z)({getPopupContainer:function(t){return t&&t.parentNode?t.parentNode:t},onOpenChange:Z,content:(0,r.jsxs)("div",{style:{padding:"4px 0"},children:[(F=i.statusRender)===null||F===void 0?void 0:F.call(i,H),i.strengthText?(0,r.jsx)("div",{style:{marginTop:10},children:(0,r.jsx)("span",{children:i.strengthText})}):null]}),overlayStyle:{width:240},placement:"rightTop"},i.popoverProps),{},{open:O,children:i.children}))}})},E=function(i){var s=i.fieldProps,j=i.proFieldProps,O=(0,d.Z)(i,A),Z=(0,v.useState)(!1),V=(0,o.Z)(Z,2),b=V[0],F=V[1];return s!=null&&s.statusRender&&O.name?(0,r.jsx)(f,{name:O.name,statusRender:s==null?void 0:s.statusRender,popoverProps:s==null?void 0:s.popoverProps,strengthText:s==null?void 0:s.strengthText,open:b,onOpenChange:F,children:(0,r.jsx)("div",{children:(0,r.jsx)(P.Z,(0,n.Z)({valueType:"password",fieldProps:(0,n.Z)((0,n.Z)({},(0,g.Z)(s,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(G){var t;s==null||(t=s.onBlur)===null||t===void 0||t.call(s,G),F(!1)},onClick:function(G){var t;s==null||(t=s.onClick)===null||t===void 0||t.call(s,G),F(!0)}}),proFieldProps:j,filedConfig:{valueType:M}},O))})}):(0,r.jsx)(P.Z,(0,n.Z)({valueType:"password",fieldProps:s,proFieldProps:j,filedConfig:{valueType:M}},O))},h=l;h.Password=E,h.displayName="ProFormComponent",c.Z=h},16894:function(I,c,e){var o=e(72717);c.ZP=o.Z},95486:function(I,c,e){var o=e(5574),n=e.n(o),d=e(14726),a=e(28248),_=e(55742),u=e(94315),g=e(45823),v=e(67294),P=e(80854),r=e(85893),D=function(M){var l=M.value,f=M.onChange,E=(0,v.useState)(!1),h=n()(E,2),m=h[0],i=h[1],s=(0,v.useCallback)(function(){i(!1)},[]),j=(0,v.useState)("code"),O=n()(j,2),Z=O[0],V=O[1];return(0,r.jsxs)("div",{children:[(0,r.jsx)(d.ZP,{type:"primary",onClick:function(){return i(!0)},size:"small",children:(0,r.jsx)(P.FormattedMessage,{id:"json_editor"})}),(0,r.jsxs)(a.Z,{title:"JSON",open:m,onOk:s,onCancel:s,destroyOnClose:!0,children:[(0,r.jsxs)(_.ZP.Group,{onChange:function(F){return V(F.target.value)},value:Z,children:[(0,r.jsx)(_.ZP,{value:"tree",children:"tree"}),(0,r.jsx)(_.ZP,{value:"view",children:"view"}),(0,r.jsx)(_.ZP,{value:"form",children:"form"}),(0,r.jsx)(_.ZP,{value:"code",children:"code"}),(0,r.jsx)(_.ZP,{value:"text",children:"text"})]}),(0,r.jsx)(u.A,{mode:Z,value:l,onChange:f},Z)]})]})};c.Z=D},97092:function(I,c,e){e.r(c),e.d(c,{default:function(){return me}});var o=e(26271),n=e(74453),d=e(67294),a=e(80854),_=e(15009),u=e.n(_),g=e(99289),v=e.n(g),P=e(5574),r=e.n(P),D=e(51042),A=e(47389),M=e(82061),l=e(16894),f=e(2453),E=e(14726),h=e(83062),m=e(86738),i=e(36309),s=e(97857),j=e.n(s),O=e(37476),Z=e(5966),V=e(86615),b=e(952),F=e(31199),H=e(75842),G=e(95486),t=e(85893),Q=function(B){return B.BOOLEAN="boolean",B.NUMBER="number",B.VARCHAR="varchar",B.TEXT="text",B.JSON="json",B}(Q||{}),oe=function(U){var J=U.visible,X=U.onVisibleChange,se=U.onResponse,w=U.class_type,k=U.name,T=k===void 0?"new":k,q=U.fields,ee=q===void 0?[]:q,L=(0,a.useIntl)(),te=H.Z.useForm(),Y=r()(te,1),z=Y[0],ae=(0,d.useCallback)(function(){var R=v()(u()().mark(function K(S){return u()().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,(0,i.kB)(j()(j()({},S),{},{class_type:w,rules:JSON.stringify(S.rules),extra:JSON.stringify(S.extra)})).then(function(x){x.success&&se(x.data)});case 2:return p.abrupt("return",!1);case 3:case"end":return p.stop()}},K)}));return function(K){return R.apply(this,arguments)}}(),[z]);return(0,d.useEffect)(function(){if(T!=="new"){var R=ee.find(function(K){return K.name===T});R&&z.setFieldsValue(R)}else z.resetFields()},[T,z,ee]),(0,t.jsxs)(O.Y,{form:z,title:L.formatMessage({id:T==="new"?"newModelField":"editModelField",defaultMessage:T==="new"?"new Model Field":"edit Model Field"}),width:"800px",visible:J,onVisibleChange:X,onFinish:ae,children:[(0,t.jsx)(Z.Z,{required:!0,label:(0,t.jsx)(a.FormattedMessage,{id:"name",defaultMessage:"name"}),tooltip:(0,t.jsx)(a.FormattedMessage,{id:"name_tooltip",defaultMessage:"name_tooltip"}),rules:[{required:!0}],width:"md",name:"name"}),(0,t.jsx)(V.Z.Group,{rules:[{required:!0}],name:"type",label:(0,t.jsx)(a.FormattedMessage,{id:"type",defaultMessage:"type"}),tooltip:(0,t.jsx)(a.FormattedMessage,{id:"type_tooltip",defaultMessage:"type_tooltip"}),options:Object.keys(Q).map(function(R){return{label:L.formatMessage({id:"model.".concat(Q[R])}),value:Q[R]}})}),(0,t.jsx)(Z.Z,{width:"md",name:"default",label:(0,t.jsx)(a.FormattedMessage,{id:"default",defaultMessage:"default"}),tooltip:(0,t.jsx)(a.FormattedMessage,{id:"default_tooltip",defaultMessage:"default_tooltip"}),placeholder:L.formatMessage({id:"default"})}),(0,t.jsx)(b.ZP.Item,{name:"rules",label:(0,t.jsxs)("span",{children:[(0,t.jsx)(a.FormattedMessage,{id:"rules",defaultMessage:"rules"})," ",(0,t.jsx)("a",{rel:"noreferrer",href:"https://laravel.com/docs/9.x/validation#available-validation-rules",target:"_blank",children:(0,t.jsx)(a.FormattedMessage,{id:"available-validation-rules",defaultMessage:"available-validation-rules"})})]}),tooltip:(0,t.jsx)(a.FormattedMessage,{id:"available-validation-rules-tooltip"}),valuePropName:"value",children:(0,t.jsx)(G.Z,{})}),(0,t.jsx)(F.Z,{width:"md",name:"visibility",label:(0,t.jsx)(a.FormattedMessage,{id:"visibility"}),tooltip:(0,t.jsx)(a.FormattedMessage,{id:"visibility_tooltip"}),placeholder:L.formatMessage({id:"visibility",defaultMessage:"visibility"}),min:1,max:1024,fieldProps:{step:1},rules:[{validator:function(){var R=v()(u()().mark(function S(W,p){return u()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!(Math.pow(2,Math.ceil(Math.log2(p)))-p)){C.next=2;break}return C.abrupt("return",Promise.reject(new Error(L.formatMessage({id:"notPowerOfTwo",defaultMessage:"notPowerOfTwo"}))));case 2:return C.abrupt("return",Promise.resolve());case 3:case"end":return C.stop()}},S)}));function K(S,W){return R.apply(this,arguments)}return K}()}]}),(0,t.jsx)(b.ZP.Item,{name:"extra",label:(0,t.jsx)(a.FormattedMessage,{id:"extra"}),tooltip:(0,t.jsx)(a.FormattedMessage,{id:"extra_tooltip"}),valuePropName:"value",children:(0,t.jsx)(G.Z,{})})]})},le=oe,ie=[{title:(0,t.jsx)(a.FormattedMessage,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!0,sorter:!0},{title:(0,t.jsx)(a.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"type",sorter:!0},{title:(0,t.jsx)(a.FormattedMessage,{id:"default",defaultMessage:"default"}),dataIndex:"default",hideInSearch:!0}],de=function(U){var J=U.class_type,X=(0,d.useRef)(),se=(0,d.useState)(!1),w=r()(se,2),k=w[0],T=w[1],q=(0,a.useIntl)(),ee=(0,d.useState)(!1),L=r()(ee,2),te=L[0],Y=L[1],z=(0,d.useState)([]),ae=r()(z,2),R=ae[0],K=ae[1],S=(0,d.useCallback)(function(){var W=v()(u()().mark(function p(x){var C,re,$,N;return u()().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return C=x.class_type_to_remove,re=x.name,T(!0),$=f.ZP.loading((0,t.jsx)(a.FormattedMessage,{id:"loading",defaultMessage:"loading"})),y.prev=3,y.next=6,(0,i.AK)({class_type:C,name:re}).then(function(ne){T(!1),ne.success&&f.ZP.success(ne.message)});case 6:return $(),T(!1),(N=X.current)===null||N===void 0||N.reload(),y.abrupt("return",!0);case 12:return y.prev=12,y.t0=y.catch(3),$(),f.ZP.error((0,t.jsx)(a.FormattedMessage,{id:"error",defaultMessage:"error"})),T(!1),y.abrupt("return",!1);case 18:case"end":return y.stop()}},p,null,[[3,12]])}));return function(p){return W.apply(this,arguments)}}(),[X]);return(0,t.jsxs)(d.Fragment,{children:[(0,t.jsx)(le,{fields:R,onResponse:function(){var p;Y(!1),(p=X.current)===null||p===void 0||p.reload()},class_type:J,name:te,visible:typeof te=="string",onVisibleChange:function(p){return p===!1&&Y(!1)}}),(0,t.jsx)(l.ZP,{search:!1,headerTitle:q.formatMessage({id:"ModelFields",defaultMessage:"Model Fields"}),toolBarRender:function(){return[(0,t.jsxs)(E.ZP,{type:"primary",onClick:function(){return Y("new")},children:[(0,t.jsx)(D.Z,{})," ",(0,t.jsx)(a.FormattedMessage,{id:"new",defaultMessage:"new"})]},"new")]},loading:k,actionRef:X,rowKey:"id",request:function(p,x){var C=p.pageSize,re=p.current,$=x&&Object.entries(x)[0];return T(!0),(0,i.XU)({page:re,per_page:C,class_type:J,order_by:$&&$[0],order:$?$[1]==="ascend"?"ASC":"DESC":void 0}).then(function(N){return T(!1),N.success?(K(N.data),{data:N.data,total:N.data.length,success:!0}):[]})},columns:[].concat(ie,[{title:(0,t.jsx)(a.FormattedMessage,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(p,x){return[(0,t.jsx)(h.Z,{title:(0,t.jsx)(a.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,t.jsx)(E.ZP,{type:"primary",icon:(0,t.jsx)(A.Z,{}),onClick:function(){return Y(x.name)}})},"edit"),(0,t.jsx)(m.Z,{title:(0,t.jsx)(a.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return x.name&&S({class_type_to_remove:J,name:x.name})},okText:(0,t.jsx)(a.FormattedMessage,{id:"yes",defaultMessage:"Yes"}),cancelText:(0,t.jsx)(a.FormattedMessage,{id:"no",defaultMessage:"No"}),children:(0,t.jsx)(h.Z,{title:(0,t.jsx)(a.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,t.jsx)(E.ZP,{type:"primary",icon:(0,t.jsx)(M.Z,{}),danger:!0})})},"delete")]}}])})]})},ue=de,_e=function(){return(0,t.jsx)(n._z,{children:(0,t.jsxs)(o.ZP,{tabs:{type:"card",activeKey:"fields",onChange:function(J){return a.history.push("/users/".concat(J))}},children:[(0,t.jsx)(o.ZP.TabPane,{tab:(0,t.jsx)(a.FormattedMessage,{id:"list"})},"list"),(0,t.jsx)(o.ZP.TabPane,{tab:(0,t.jsx)(a.FormattedMessage,{id:"ModelFields"}),children:(0,t.jsx)(ue,{class_type:"EscolaLms\\Auth\\Models\\User"})},"fields")]})})},me=_e},36309:function(I,c,e){e.d(c,{AK:function(){return A},XU:function(){return v},kB:function(){return r}});var o=e(15009),n=e.n(o),d=e(97857),a=e.n(d),_=e(99289),u=e.n(_),g=e(80854);function v(l,f){return P.apply(this,arguments)}function P(){return P=u()(n()().mark(function l(f,E){return n()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,g.request)("/api/model-fields",a()({method:"GET",params:f},E||{})));case 1:case"end":return m.stop()}},l)})),P.apply(this,arguments)}function r(l,f){return D.apply(this,arguments)}function D(){return D=u()(n()().mark(function l(f,E){return n()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,g.request)("/api/admin/model-fields",a()({method:"POST",data:f},E||{})));case 1:case"end":return m.stop()}},l)})),D.apply(this,arguments)}function A(l,f){return M.apply(this,arguments)}function M(){return M=u()(n()().mark(function l(f,E){return n()().wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",(0,g.request)("/api/admin/model-fields",a()({method:"DELETE",data:f},E||{})));case 1:case"end":return m.stop()}},l)})),M.apply(this,arguments)}}}]);
