(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{"4f6N":function(w,u,e){"use strict";var c=e("2qtc"),_=e("kLXV"),O=e("9kvl"),o=e("nKUr"),C=e.n(o),g=function(E){var f=E.visible,h=E.setManage;return Object(o.jsx)(_.a,{width:"600px",title:Object(o.jsx)(O.a,{id:"course.validate_edit.header",defaultMessage:"course.validate_edit.header"}),visible:f,onOk:function(){return h({showModal:!1,disableEdit:!1,clicked:!0})},onCancel:function(){return h({showModal:!1,disableEdit:!0,clicked:!1})},okText:"OK",cancelText:"Cancel",children:Object(o.jsx)("p",{children:Object(o.jsx)(O.a,{id:"course.validate_edit.content",defaultMessage:"course.validate_edit.content"})})})};u.a=g},EmS3:function(w,u,e){"use strict";e.d(u,"f",function(){return C}),e.d(u,"a",function(){return T}),e.d(u,"d",function(){return f}),e.d(u,"e",function(){return U}),e.d(u,"b",function(){return I}),e.d(u,"c",function(){return S});var c=e("x+uP"),_=e("VTBJ"),O=e("HaE+"),o=e("9kvl");function C(i,d){return g.apply(this,arguments)}function g(){return g=Object(O.a)(Object(c.a)().mark(function i(d,s){return Object(c.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(o.f)("/api/admin/webinars",Object(_.a)({method:"GET",useCache:!1,params:Object(_.a)(Object(_.a)({},d),{},{per_page:d&&d.pageSize,page:d&&d.current})},s||{})));case 1:case"end":return r.stop()}},i)})),g.apply(this,arguments)}function T(i,d){return E.apply(this,arguments)}function E(){return E=Object(O.a)(Object(c.a)().mark(function i(d,s){return Object(c.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(o.f)("/api/admin/webinars",Object(_.a)({method:"POST",headers:{"Content-Type":"application/json"},data:d},s||{})));case 1:case"end":return r.stop()}},i)})),E.apply(this,arguments)}function f(i,d){return h.apply(this,arguments)}function h(){return h=Object(O.a)(Object(c.a)().mark(function i(d,s){return Object(c.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(o.f)("/api/admin/webinars/".concat(d),Object(_.a)({method:"GET",useCache:!1},s||{})));case 1:case"end":return r.stop()}},i)})),h.apply(this,arguments)}function U(i,d,s){return b.apply(this,arguments)}function b(){return b=Object(O.a)(Object(c.a)().mark(function i(d,s,W){return Object(c.a)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",Object(o.f)("/api/admin/webinars/".concat(d,"?method=PUT"),Object(_.a)({method:"POST",headers:{"Content-Type":"application/json"},data:s},W||{})));case 1:case"end":return L.stop()}},i)})),b.apply(this,arguments)}function I(i,d){return n.apply(this,arguments)}function n(){return n=Object(O.a)(Object(c.a)().mark(function i(d,s){return Object(c.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(o.f)("/api/admin/webinars/".concat(d),Object(_.a)({method:"DELETE",useCache:!1},s||{})));case 1:case"end":return r.stop()}},i)})),n.apply(this,arguments)}function S(i,d){return A.apply(this,arguments)}function A(){return A=Object(O.a)(Object(c.a)().mark(function i(d,s){return Object(c.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(o.f)("/api/admin/g-token/generate",Object(_.a)({method:"POST",headers:{"Content-Type":"application/json"},data:d},s||{})));case 1:case"end":return r.stop()}},i)})),A.apply(this,arguments)}},VlvL:function(w,u,e){"use strict";var c=e("9kvl"),_=e("Ty5D"),O=e("nKUr"),o=e.n(O),C=function(T){var E=T.show,f=Object(c.i)();return Object(O.jsx)(_.b,{when:E,message:f.formatMessage({id:"unsaved_changes"})})};u.a=C},eFHa:function(w,u,e){"use strict";e.d(u,"a",function(){return C});var c=e("ODXe"),_=e("q1tI"),O=e.n(_),o=e("HZtn");function C(){var g=Object(_.useState)({showModal:!1,disableEdit:!1,clicked:!1}),T=Object(c.a)(g,2),E=T[0],f=T[1],h=function(b){(b==null?void 0:b.status)==="published"&&b!==null&&b!==void 0&&b.active_from&&Object(o.a)(new Date(b==null?void 0:b.active_from))&&!E.clicked?f({showModal:!1,disableEdit:!0,clicked:!1}):f({showModal:!1,disableEdit:!1,clicked:!1})};return{manageCourseEdit:E,setManageCourseEdit:f,validateCourseEdit:h}}},q34N:function(w,u,e){"use strict";var c=e("ODXe"),_=e("0eZe"),O=e("q1tI"),o=e.n(O),C=e("nKUr"),g=e.n(C),T=function(f){var h=f.productable,U=f.type,b=U===void 0?"card":U,I=Object(O.useState)("attributes"),n=Object(c.a)(I,2),S=n[0],A=n[1];return Object(C.jsx)(_.a,{productable:h,tab:S,onTabChange:function(d){return A(d)},type:b})};u.a=T},tixb:function(w,u,e){"use strict";e.r(u);var c=e("14J3"),_=e("BMrR"),O=e("jCWc"),o=e("kPKH"),C=e("fOrg"),g=e("+KLJ"),T=e("+L6B"),E=e("2/Rp"),f=e("T2oS"),h=e("W9HT"),U=e("miYZ"),b=e("tsqr"),I=e("x+uP"),n=e("VTBJ"),S=e("HaE+"),A=e("ODXe"),i=e("q1tI"),d=e.n(i),s=e("VMEa"),W=e("Qurx"),r=e("yj/a"),L=e("CnWR"),te=e("BiO0"),R=e("nhC9"),Y=e("hd5d"),ne=e("tMyG"),t=e("9kvl"),se=e("Ty5D"),V=e("EmS3"),re=e("0WSk"),Z=e("Gn8c"),z=e("c+yx"),ie=e("rnuo"),de=e("VlvL"),ce=e("eFHa"),_e=e("4f6N"),oe=e("q34N"),le=e("5RzD"),a=e("nKUr"),Pe=e.n(a),ue=function(){var P=Object(t.i)(),Q=Object(se.l)(),l=Q.webinar,k=Q.tab,v=k===void 0?"attributes":k,K=l==="new",Oe=Object(i.useState)(!1),q=Object(A.a)(Oe,2),be=q[0],$=q[1],je=Object(i.useState)(),ee=Object(A.a)(je,2),m=ee[0],F=ee[1],G=Object(ce.a)(),M=G.manageCourseEdit,H=G.setManageCourseEdit,ae=G.validateCourseEdit,me=s.a.useForm(),Ee=Object(A.a)(me,1),Me=Ee[0],fe=Object(i.useCallback)(Object(S.a)(Object(I.a)().mark(function x(){var j;return Object(I.a)().wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Object(V.d)(Number(l));case 2:j=p.sent,j.success&&(v==="attributes"&&ae(j.data),F(Object(n.a)({},j.data)));case 4:case"end":return p.stop()}},x)})),[l]);Object(i.useEffect)(function(){if(K){F({name:"new"});return}fe()},[l]);var N=Object(i.useMemo)(function(){return{onFinish:function(){var x=Object(S.a)(Object(I.a)().mark(function y(p){var J,B;return Object(I.a)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(!M.disableEdit){D.next=3;break}return H({showModal:!0,disableEdit:!0,clicked:!1}),D.abrupt("return");case 3:if(J=Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)({},p),v==="attributes"&&{active_from:new Date(String(p.active_from))}),v==="attributes"&&{active_to:new Date(String(p.active_to))}),v==="media"&&{image_url:m&&m.image_url}),v==="media"&&{image_path:m&&m.image_url&&Object(z.e)(m.image_url)}),v==="branding"&&{logotype_url:m&&m.logotype_url}),v==="branding"&&{logotype_path:m&&m.logotype_path&&Object(z.e)(m.logotype_path)}),{},{trainers:p.trainers&&p.trainers.map(function(X){return typeof X=="object"?X.id:X})}),!K){D.next=11;break}return D.next=7,Object(V.a)(J);case 7:B=D.sent,B.success&&($(!1),t.d.push("/webinars/".concat(B.data.id))),D.next=15;break;case 11:return D.next=13,Object(V.e)(Number(l),J);case 13:B=D.sent,B.success&&($(!1),ae(B.data),t.d.push("/webinars/".concat(B.data.id,"/").concat(v)));case 15:b.default.success(B.message);case 16:case"end":return D.stop()}},y)}));function j(y){return x.apply(this,arguments)}return j}(),initialValues:m}},[m,l,v,M]);return m?Object(a.jsx)(ne.a,{title:K?Object(a.jsx)(t.a,{id:"menu.Webinars"}):Object(a.jsx)(t.a,{id:"webinar.edit"}),header:{breadcrumb:{routes:[{path:"webinars",breadcrumbName:P.formatMessage({id:"menu.Webinars"})},{path:String(l),breadcrumbName:P.formatMessage({id:"form"})},{path:"/",breadcrumbName:P.formatMessage({id:String(m.name)})},{path:String(v),breadcrumbName:P.formatMessage({id:String(v)})}]}},children:Object(a.jsxs)(R.a,{tabs:{type:"card",activeKey:v,onChange:function(j){return t.d.push("/webinars/".concat(l,"/").concat(j))}},children:[Object(a.jsxs)(R.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"attributes"}),children:[M.disableEdit&&Object(a.jsx)(g.a,{closable:!0,style:{marginBottom:"20px"},type:"warning",message:Object(a.jsx)(t.a,{id:"course_edit_warning_message",defaultMessage:"course_edit_warning_message"}),action:Object(a.jsx)(E.a,{onClick:function(){return H({showModal:!0,disableEdit:!0,clicked:!0})},type:"primary",children:Object(a.jsx)(t.a,{id:"questionnaire.submit",defaultMessage:"questionnaire.submit"})})}),Object(a.jsx)(de.a,{show:be}),Object(a.jsx)(_e.a,{visible:M.showModal,setManage:H}),Object(a.jsxs)(s.a,Object(n.a)(Object(n.a)({},N),{},{form:Me,onValuesChange:function(){$(!0)},children:[Object(a.jsxs)(s.a.Group,{children:[Object(a.jsx)(W.a,{width:"md",name:"name",label:Object(a.jsx)(t.a,{id:"name"}),tooltip:Object(a.jsx)(t.a,{id:"name"}),placeholder:P.formatMessage({id:"name",defaultMessage:"name"}),required:!0,disabled:M.disableEdit}),Object(a.jsx)(W.a,{width:"sm",name:"duration",label:Object(a.jsx)(t.a,{id:"duration"}),tooltip:Object(a.jsx)(t.a,{id:"duration"}),placeholder:P.formatMessage({id:"duration",defaultMessage:"duration"}),disabled:M.disableEdit}),Object(a.jsx)(r.a,{name:"status",width:"xs",label:Object(a.jsx)(t.a,{id:"status"}),valueEnum:{draft:P.formatMessage({id:"draft",defaultMessage:"draft"}),published:P.formatMessage({id:"published",defaultMessage:"published"}),archived:P.formatMessage({id:"archived",defaultMessage:"archived"})},initialValue:{draft:P.formatMessage({id:"draft",defaultMessage:"draft"})},placeholder:P.formatMessage({id:"status"}),rules:[{required:!0,message:Object(a.jsx)(t.a,{id:"select"})}],disabled:M.disableEdit})]}),Object(a.jsxs)(s.a.Group,{children:[Object(a.jsx)(L.a,{width:"sm",name:"active_from",label:Object(a.jsx)(t.a,{id:"active_from"}),tooltip:Object(a.jsx)(t.a,{id:"active_from"}),placeholder:P.formatMessage({id:"active_from",defaultMessage:"active_from"}),disabled:M.disableEdit}),Object(a.jsx)(L.a,{width:"sm",name:"active_to",label:Object(a.jsx)(t.a,{id:"active_to"}),tooltip:Object(a.jsx)(t.a,{id:"active_to"}),placeholder:P.formatMessage({id:"active_to",defaultMessage:"active_to"}),disabled:M.disableEdit}),Object(a.jsx)(s.a.Item,{name:"trainers",label:Object(a.jsx)(t.a,{id:"tutor"}),valuePropName:"value",children:Object(a.jsx)(re.a,{multiple:!0})})]}),Object(a.jsx)(s.a.Group,{children:Object(a.jsx)(te.a,{width:"lg",name:"short_desc",label:Object(a.jsx)(t.a,{id:"short_description"}),tooltip:Object(a.jsx)(t.a,{id:"short_description"})})}),Object(a.jsx)(s.a.Group,{children:Object(a.jsx)(s.a.Item,{name:"agenda",label:Object(a.jsx)(t.a,{id:"program"}),tooltip:Object(a.jsx)(t.a,{id:"program"}),valuePropName:"value",children:Object(a.jsx)(Y.a,{directory:"webinars/".concat(l,"/wysiwyg")})})}),Object(a.jsx)(s.a.Group,{children:Object(a.jsx)(s.a.Item,{name:"description",label:Object(a.jsx)(t.a,{id:"description"}),tooltip:Object(a.jsx)(t.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(a.jsx)(Y.a,{directory:"webinars/".concat(l,"/wysiwyg")})})})]}))]},"attributes")," ",!K&&Object(a.jsx)(R.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"product"}),disabled:M.disableEdit,children:l&&Object(a.jsx)(oe.a,{productable:{class_type:"App\\Models\\Webinar",class_id:l,name:String(m.name),quantity:1}})},"product"),!K&&Object(a.jsx)(R.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"media"}),disabled:M.disableEdit,children:Object(a.jsx)(s.a,Object(n.a)(Object(n.a)({},N),{},{children:Object(a.jsx)(Z.a,{folder:"webinar/".concat(l),title:"image",action:"/api/admin/webinars/".concat(l),src_name:"image_url",form_name:"image",getUploadedSrcField:function(j){return j.file.response.data.image_url},setPath:function(j){return F(function(y){return Object(n.a)(Object(n.a)({},y),j)})}})}))},"media"),!K&&Object(a.jsx)(R.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"tags"}),disabled:M.disableEdit,children:Object(a.jsx)(_.a,{children:Object(a.jsx)(o.a,{span:12,children:Object(a.jsx)(s.a,Object(n.a)(Object(n.a)({},N),{},{children:Object(a.jsx)(s.a.Item,{label:Object(a.jsx)(t.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(a.jsx)(ie.a,{})})}))})})},"tags")," ",!K&&Object(a.jsx)(R.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"branding"}),disabled:M.disableEdit,children:Object(a.jsx)(s.a,Object(n.a)(Object(n.a)({},N),{},{children:Object(a.jsx)(Z.a,{folder:"webinar/".concat(l),title:"logotype",action:"/api/admin/webinars/".concat(l),src_name:"logotype_url",form_name:"logotype",getUploadedSrcField:function(j){return j.file.response.data.logotype_url},setPath:function(j){return F(function(y){return Object(n.a)(Object(n.a)({},y),j)})}})}))},"branding")," ",!K&&Object(a.jsx)(R.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"user_submission"}),disabled:M.disableEdit,children:Object(a.jsx)(_.a,{children:Object(a.jsx)(o.a,{span:12,children:l&&Object(a.jsx)(le.a,{id:Number(l),type:"App\\Models\\Webinar"})})})},"user_submission")]})}):Object(a.jsx)(h.a,{})};u.default=ue}}]);
