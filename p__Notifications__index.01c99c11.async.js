"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[8662,2803],{40708:function(X,m,e){e.r(m),e.d(m,{TableColumns:function(){return h}});var b=e(9783),I=e.n(b),R=e(15009),D=e.n(R),p=e(99289),C=e.n(p),g=e(5574),U=e.n(g),W=e(97857),i=e.n(W),L=e(13769),B=e.n(L),K=e(62235),y=e(44167),E=e(45919),A=e(79879),x=e(66419),S=e(74453),F=e(16894),M=e(60943),o=e(67294),a=e(80854),O=e(93671),t=e(85893),N=["type","defaultRender"],h=[{title:(0,t.jsx)(a.FormattedMessage,{id:"created_at",defaultMessage:"created_at"}),dataIndex:"created_at",hideInSearch:!0,sorter:!0,render:function(l,n){return(0,M.WU)(new Date(n.created_at),E.Cu)}},{title:(0,t.jsx)(a.FormattedMessage,{id:"user_id",defaultMessage:"user_id"}),dataIndex:"notifiable_id",hideInSearch:!1,sorter:!0,valueType:"select",renderFormItem:function(l,n){var P=n.type,T=n.defaultRender,c=B()(n,N);return(0,t.jsx)(y.Z,i()({},c))},render:function(l,n){return n.notifiable_id&&(0,t.jsx)(K.Z,{type:"App\\Models\\User",type_id:n.notifiable_id},"user")}},{title:(0,t.jsx)(a.FormattedMessage,{id:"dateRange",defaultMessage:"Date Range"}),dataIndex:"dateRange",hideInSearch:!1,hideInForm:!0,hideInTable:!0,valueType:"dateRange",fieldProps:{allowEmpty:[!0,!0]}}],z=function(){var l=(0,o.useState)([""]),n=U()(l,2),P=n[0],T=n[1],c=(0,o.useRef)(),Z=(0,a.useIntl)(),G=(0,o.useCallback)(C()(D()().mark(function u(){var _,r;return D()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,(0,A._n)();case 2:return _=s.sent,s.next=5,_;case 5:r=s.sent,r.success&&T(r.data);case 7:case"end":return s.stop()}},u)})),[]);(0,o.useEffect)(function(){G()},[]);var H=(0,o.useMemo)(function(){return P.reduce(function(u,_){return i()(i()({},u),{},I()({},_,(0,t.jsx)(a.FormattedMessage,{id:"notifications.".concat((0,O.x6)(_))})))},{})},[P]);return(0,t.jsx)(S._z,{children:(0,t.jsx)(F.ZP,{headerTitle:Z.formatMessage({id:"notifications",defaultMessage:"notifications"}),actionRef:c,rowKey:"id",search:{layout:"vertical"},request:function(_,r){var j=_.pageSize,s=_.current,$=_.event,J=_.notifiable_id,d=_.dateRange,Q=d&&d[0]?(0,M.WU)(new Date(d[0]),E.Cu):void 0,V=d&&d[1]?(0,M.WU)(new Date(d[1]),E.Cu):void 0;return(0,A.TH)(i()({per_page:j,page:s,event:$||void 0,date_from:Q,date_to:V},(0,x.di)(r,"created_at")),J).then(function(v){return v.success?{data:v.data,total:v.meta.total,success:!0}:[]})},columns:[].concat(h,[{title:(0,t.jsx)(a.FormattedMessage,{id:"event",defaultMessage:"event"}),dataIndex:"event",hideInSearch:!1,sorter:!0,render:function(_,r){return(0,t.jsx)(a.FormattedMessage,{id:"notifications.".concat((0,O.x6)(r.event))})},valueType:"select",valueEnum:H}])})})};m.default=z}}]);
