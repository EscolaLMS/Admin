"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[82],{7418:function(ue,K,t){var $=t(52677),n=t.n($),N=t(5574),l=t.n(N),L=t(75081),o=t(68962),_=t(67294),I=t(94116),j=t(85893),g=function U(b){return b.subcategories&&b.subcategories.length?{title:b.name,key:b.id,children:b.subcategories.map(function(T){return U(T)})}:{title:b.name,key:b.id}},m=function(b){var T=b.value,p=b.onChange,x=b.multiple,E=x===void 0?!0:x,F=(0,_.useState)([]),a=l()(F,2),M=a[0],P=a[1];(0,_.useEffect)(function(){(0,I.CL)().then(function(S){S.success&&P(S.data)})},[]);var D=(0,_.useMemo)(function(){return M.map(function(S){return g(S)})},[M]);return M.length===0?(0,j.jsx)(L.Z,{}):(0,j.jsx)(o.Z,{multiple:E,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,style:{width:"100%"},checkedKeys:T,onCheck:function(A){if(n()(A)==="object"&&!Array.isArray(A)&&A.checked){var C=A.checked;return p&&Array.isArray(C)&&p(C)}},treeData:D,disabled:M.length===0})};K.Z=m},25387:function(ue,K,t){t.d(K,{P:function(){return E}});var $=t(97857),n=t.n($),N=t(9783),l=t.n(N),L=t(5574),o=t.n(L),_=t(13769),I=t.n(_),j=t(34994),g=t(55102),m=t(67294),U=t(80854),b=t(85893),T=["name","form","onChange"],p=["label","defaultValue"],x=function(a,M){return a===null?"":(a/100).toFixed(M!=null?M:0)},E=function(a){var M,P=a.name,D=a.form,S=a.onChange,A=I()(a,T),C=A.label,u=A.defaultValue,r=u===void 0?0:u,h=I()(A,p),O=(0,m.useState)({dollars:"",cents:null}),s=o()(O,2),v=s[0],J=s[1],le=(0,U.useModel)("@@initialState"),ee=le.initialState,Y=ee==null||(M=ee.config)===null||M===void 0||(M=M.find(function(f){var e=f.group,R=f.key;return e==="currencies"&&R==="default"}))===null||M===void 0?void 0:M.value,d=function(e){var R=e.target.value,Z=R.replace(/[^0-9.]/,""),H=parseFloat(Z),te=Math.round(H*100);J({cents:te||r,dollars:R.trim()})},i=v.cents===null?"":x(v.cents,2);(0,m.useEffect)(function(){var f=D.getFieldValue(P)?x(D.getFieldValue(P),2):"";J({dollars:f,cents:+f*100||r})},[D,P]),(0,m.useEffect)(function(){D&&P&&D.setFieldsValue(l()({},P,Number.isNaN(v.cents)?null:v.cents)),S&&S(v.cents)},[v]);var c=n()(n()({},C),{},{values:n()(n()({},C==null?void 0:C.values),{},{currency:Y?"(".concat(Y,")"):""})});return(0,b.jsx)(j.A.Item,n()(n()({name:P,initialValue:v.dollars,label:C?(0,b.jsx)(U.FormattedMessage,n()({},c)):void 0},h),{},{children:(0,b.jsx)(g.Z,{value:v.dollars,onChange:d,onBlur:function(){J(function(e){return n()(n()({},e),{},{dollars:i!=="NaN"?i:""})})}})}))}},23535:function(ue,K,t){var $=t(97857),n=t.n($),N=t(9783),l=t.n(N),L=t(14726),o=t(95830),_=t(67294),I=t(82238),j=t(34994),g=t(80854),m=t(85893),U=function(T){var p=T.title,x=T.action,E=T.form_name,F=T.src_name,a=T.getUploadedSrcField,M=T.setPath,P=T.wrapInForm,D=P===void 0?!0:P,S=T.folder,A=T.proFormGroupProps,C=T.hideLabel,u=C===void 0?!1:C;return(0,m.jsxs)(j.A.Group,n()(n()({title:(0,m.jsx)(g.FormattedMessage,{id:p})},A),{},{children:[(0,m.jsx)(j.A.Item,{shouldUpdate:!0,children:function(h){return(0,m.jsxs)(_.Fragment,{children:[(0,m.jsx)(I.Z,{folder:S,wrapInForm:D,accept:"image/*",name:E,url:x,onChange:function(s){if(s.file.status==="done"){var v;h.setFieldsValue(l()({},F,a(s))),(v=s.file.response)!==null&&v!==void 0&&v.success&&M(l()(l()({},"".concat(E,"_url"),s.file.response.data["".concat(E,"_url")]),"".concat(E,"_path"),s.file.response.data["".concat(E,"_path")]))}},hideLabel:u}),(0,m.jsx)(L.ZP,{danger:!0,onClick:function(){return[M(l()(l()({},"".concat(E,"_url"),""),"".concat(E,"_path"),"")),h.setFieldsValue(l()({},F,""))]},children:(0,m.jsx)(g.FormattedMessage,{id:"delete"})})]})}}),(0,m.jsx)(j.A.Item,{shouldUpdate:!0,children:function(h){return(0,m.jsx)(o.Z,{width:200,src:h.getFieldValue(F)})}})]}))};K.Z=U},67541:function(ue,K,t){var $=t(52677),n=t.n($),N=t(5574),l=t.n(N),L=t(83863),o=t(75081),_=t(66309),I=t(67294),j=t(80854),g=t(44837),m=t(85893),U=function(x){return"".concat(x.productable_type,":").concat(x.productable_id,":").concat(x.name)},b=function(x){return"".concat(x.class,":").concat(x.id,":").concat(x.name)},T=function(x){var E=x.value,F=x.onChange,a=x.multiple,M=a===void 0?!1:a,P=x.disabled,D=P===void 0?!1:P,S=(0,I.useState)([]),A=l()(S,2),C=A[0],u=A[1],r=(0,I.useState)(!1),h=l()(r,2),O=h[0],s=h[1],v=(0,I.useState)([]),J=l()(v,2),le=J[0],ee=J[1],Y=(0,I.useRef)(),d=(0,I.useCallback)(function(){s(!0),Y.current&&Y.current.abort(),Y.current=new AbortController,(0,g.rc)({signal:Y.current.signal}).then(function(i){i.success&&u(i.data),s(!1)}).catch(function(){return s(!1)})},[]);return(0,I.useEffect)(function(){d()},[]),(0,I.useEffect)(function(){var i=new AbortController;if(E){var c=Array.isArray(E)?E:[E],f=c.map(function(e){return n()(e)==="object"?b(e):String(e)});ee(f)}return function(){i.abort()}},[E]),(0,m.jsx)(L.default,{disabled:D,allowClear:!0,style:{width:"100%",minWidth:"150px"},value:le,onChange:F,mode:M?"multiple":void 0,showSearch:!0,placeholder:(0,m.jsx)(j.FormattedMessage,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(c,f){if(f&&f.children){var e;return(f==null||(e=f.children)===null||e===void 0?void 0:e.toString().toLowerCase().indexOf(c&&c.toLowerCase()||""))>=0}return!1},notFoundContent:O?(0,m.jsx)(o.Z,{size:"small"}):null,children:C.map(function(i){var c=U(i);return(0,m.jsxs)(L.default.Option,{value:c,children:[(0,m.jsx)(_.Z,{children:(0,m.jsx)(j.FormattedMessage,{id:i.productable_type.split("\\").pop(),defaultMessage:i.productable_type.split("\\").pop()})})," ",i.name," ",(0,m.jsxs)("small",{children:["id:",i.productable_id]})," "]},c)})})};K.Z=T},81424:function(ue,K,t){var $=t(52677),n=t.n($),N=t(5574),l=t.n(N),L=t(83863),o=t(75081),_=t(67294),I=t(44837),j=t(80854),g=t(85893),m=function(b){var T=b.value,p=b.onChange,x=b.multiple,E=x===void 0?!1:x,F=b.type,a=(0,_.useState)([]),M=l()(a,2),P=M[0],D=M[1],S=(0,_.useState)(!1),A=l()(S,2),C=A[0],u=A[1],r=(0,_.useState)([]),h=l()(r,2),O=h[0],s=h[1],v=(0,_.useRef)(),J=(0,_.useCallback)(function(d){u(!0),v.current&&v.current.abort(),v.current=new AbortController,(0,I.RB)({productable_type:F,name:d||void 0},{signal:v.current.signal}).then(function(i){i.success&&D(F?i.data.filter(function(c){return c.type==="single"&&c.productables&&c.productables[0].id}):i.data),u(!1)}).catch(function(){return u(!1)})},[]);(0,_.useEffect)(function(){var d=new AbortController;if(T){var i=Array.isArray(T)?T:[T],c=i.map(function(f){return n()(f)==="object"?Number(f.id):Number(f)});s(c)}return function(){d.abort()}},[T]);var le=(0,_.useCallback)(function(d){J(d)},[J]),ee=(0,_.useCallback)(function(){s([])},[]),Y=(0,_.useCallback)(function(d){d||ee(),p&&p(d)},[p,ee]);return(0,g.jsx)(L.default,{onFocus:function(){return J()},allowClear:!0,style:{width:"100%",minWidth:"150px"},value:O,onChange:Y,mode:E?"multiple":void 0,showSearch:!0,onSearch:le,onDeselect:ee,placeholder:(0,g.jsx)(j.FormattedMessage,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(i,c){if(c&&c.children){var f;return(c==null||(f=c.children)===null||f===void 0?void 0:f.toString().toLowerCase().indexOf(i&&i.toLowerCase()||""))>=0}return!1},notFoundContent:C?(0,g.jsx)(o.Z,{size:"small"}):null,children:P.map(function(d){return(0,g.jsx)(L.default.Option,{value:d.id,children:d.name},d.id)})})};K.Z=m},39470:function(ue,K,t){var $=t(5574),n=t.n($),N=t(64532),l=t(83863),L=t(67294),o=t(85893),_=l.default.Option,I=function(g){var m=g.value,U=g.onChange,b=(0,L.useState)([]),T=n()(b,2),p=T[0],x=T[1];return(0,L.useEffect)(function(){(0,N.a)().then(function(E){return x(E.data)})},[]),(0,o.jsx)(l.default,{mode:"tags",showSearch:!0,style:{width:"100%"},placeholder:"Select a Tag",optionFilterProp:"children",onChange:U,value:m,children:p.map(function(E){return(0,o.jsx)(_,{value:E.title,children:E.title},E.title)})})};K.Z=I},44167:function(ue,K,t){var $=t(52677),n=t.n($),N=t(19632),l=t.n(N),L=t(5574),o=t.n(L),_=t(83863),I=t(75081),j=t(67294),g=t(30869),m=t(80854),U=t(85893),b=function(p){var x=p.value,E=p.onChange,F=p.multiple,a=F===void 0?!1:F,M=p.role,P=p.showEmail,D=p.disabled,S=(0,j.useState)([]),A=o()(S,2),C=A[0],u=A[1],r=(0,j.useState)(!1),h=o()(r,2),O=h[0],s=h[1],v=(0,j.useState)([]),J=o()(v,2),le=J[0],ee=J[1],Y=(0,j.useRef)(),d=(0,j.useRef)(),i=(0,j.useCallback)(function(Z){u(function(H){return[].concat(l()(H),l()(Z)).filter(function(te,X,pe){return pe.findIndex(function(Oe){return P?Oe.email===te.email:Oe.id===te.id})===X})})},[]);(0,j.useEffect)(function(){Y.current=C},[C]);var c=(0,j.useCallback)(function(Z){s(!0),d.current&&d.current.abort(),d.current=new AbortController,(0,g.rC)({search:Z,role:M},{signal:d.current.signal}).then(function(H){H&&H.success&&(i(H.data),s(!1))}).catch(function(){return s(!1)})},[]),f=(0,j.useCallback)(function(Z){c(Z)},[c]),e=(0,j.useCallback)(function(){ee([])},[]);(0,j.useEffect)(function(){var Z=new AbortController;if(x){var H=Array.isArray(x)?x:[x],te=H.map(function(X){return n()(X)==="object"?Number(X.id):Number(X)});ee(te),te.filter(function(X){var pe;return!((pe=Y.current)!==null&&pe!==void 0&&pe.find(function(Oe){return Oe.id===X}))}).forEach(function(X){(0,g.EA)(Number(X),{signal:Z.signal},!1).then(function(pe){pe&&pe.success&&i([pe.data])})})}return function(){Z.abort()}},[x]);var R=(0,j.useCallback)(function(Z,H){Z||e(),E&&E(Z,H)},[E,e]);return(0,U.jsx)(_.default,{disabled:D,onFocus:function(){return c()},allowClear:!0,style:{width:"100%",minWidth:"150px"},value:le,onChange:R,mode:a?"multiple":void 0,showSearch:!0,onSearch:f,onDeselect:e,placeholder:(0,U.jsx)(m.FormattedMessage,{id:"select_person",defaultMessage:"Select a person"}),optionFilterProp:"children",filterOption:function(H,te){return te&&te.children?String("".concat(te.user.name," ").concat(te.user.email)).toLowerCase().indexOf(H&&H.toLowerCase()||"")>=0:!0},notFoundContent:O?(0,U.jsx)(I.Z,{size:"small"}):null,children:C.map(function(Z){return(0,U.jsxs)(_.default.Option,{value:Z.id,user:Z,children:[Z.name," ",P&&" - ".concat(Z.email)]},Z.id)})})};K.Z=b},54434:function(ue,K,t){t.d(K,{ZP:function(){return Y}});var $=t(97857),n=t.n($),N=t(15009),l=t.n(N),L=t(99289),o=t.n(L),_=t(5574),I=t.n(_),j=t(952),g=t(67294),m=t(80854),U=t(66309),b=t(14726),T=t(86738),p=t(83062),x=t(2453);function E(d,i){return F.apply(this,arguments)}function F(){return F=o()(l()().mark(function d(i,c){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/admin/user-submissions",n()({method:"GET",params:i},c||{})));case 1:case"end":return e.stop()}},d)})),F.apply(this,arguments)}function a(d,i){return M.apply(this,arguments)}function M(){return M=o()(l()().mark(function d(i,c){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/admin/user-submissions",n()({method:"POST",headers:{"Content-Type":"application/json"},data:i},c||{})));case 1:case"end":return e.stop()}},d)})),M.apply(this,arguments)}function P(d,i){return D.apply(this,arguments)}function D(){return D=o()(l()().mark(function d(i,c){return l()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,m.request)("/api/admin/user-submissions/".concat(i),n()({method:"DELETE",headers:{"Content-Type":"application/json"}},c||{})));case 1:case"end":return e.stop()}},d)})),D.apply(this,arguments)}var S=t(66419),A=t(51042),C=t(82061),u=t(16894),r=t(37476),h=t(5966),O=t(75842),s=t(85893),v=function(i){var c=(0,m.useIntl)(),f=i.visible,e=i.onVisibleChange,R=i.onFinish,Z=i.id,H=O.Z.useForm(),te=I()(H,1),X=te[0];return(0,s.jsx)(r.Y,{form:X,title:c.formatMessage({id:"email",defaultMessage:"email"}),width:"30vw",visible:f,onVisibleChange:e,onFinish:R,children:(0,s.jsx)(j.ZP.Group,{children:(0,s.jsx)(h.Z,{width:"md",name:"email",label:(0,s.jsx)(m.FormattedMessage,{id:"email"}),tooltip:(0,s.jsx)(m.FormattedMessage,{id:"email_tooltip"}),placeholder:c.formatMessage({id:"email",defaultMessage:"email"}),required:!0})})})},J=v,le=[{title:(0,s.jsx)(m.FormattedMessage,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{title:(0,s.jsx)(m.FormattedMessage,{id:"email",defaultMessage:"email"}),dataIndex:"email",hideInSearch:!1,width:"70%",sorter:!0},{title:(0,s.jsx)(m.FormattedMessage,{id:"status",defaultMessage:"status"}),dataIndex:"status",hideInSearch:!0,sorter:!0,valueEnum:{sent:(0,s.jsx)(U.Z,{color:"processing",children:(0,s.jsx)(m.FormattedMessage,{id:"sent"})}),assigned:(0,s.jsx)(U.Z,{color:"default",children:(0,s.jsx)(m.FormattedMessage,{id:"assigned"})}),accepted:(0,s.jsx)(U.Z,{color:"success",children:(0,s.jsx)(m.FormattedMessage,{id:"accepted"})}),rejected:(0,s.jsx)(U.Z,{color:"error",children:(0,s.jsx)(m.FormattedMessage,{id:"rejected"})})}}],ee=function(i){var c=i.id,f=i.type,e=(0,m.useIntl)(),R=(0,g.useRef)(),Z=(0,g.useState)(!1),H=I()(Z,2),te=H[0],X=H[1],pe=j.ZP.useForm(),Oe=I()(pe,1),Ze=Oe[0],Ke=(0,g.useState)(!1),$e=I()(Ke,2),Ve=$e[0],We=$e[1],ze=(0,g.useCallback)(function(){var Pe=o()(l()().mark(function V(re){var ve;return l()().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return X(!0),Ae.next=3,P(Number(re));case 3:(ve=R.current)===null||ve===void 0||ve.reload(),X(!1);case 5:case"end":return Ae.stop()}},V)}));return function(V){return Pe.apply(this,arguments)}}(),[c,f]);return(0,s.jsxs)(g.Fragment,{children:[(0,s.jsx)(u.ZP,{defaultSize:"small",loading:te,search:{layout:"vertical"},headerTitle:e.formatMessage({id:"user_submission",defaultMessage:"user_submission"}),actionRef:R,toolBarRender:function(){return[(0,s.jsxs)(b.ZP,{type:"primary",onClick:function(){return We(!0)},children:[(0,s.jsx)(A.Z,{})," ",(0,s.jsx)(m.FormattedMessage,{id:"email_to_add",defaultMessage:"email_to_add"})]},"primary")]},rowKey:"id",request:function(){var Pe=o()(l()().mark(function V(re,ve){var je,Ae,ie;return l()().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return je=re.email,Ae=re.pageSize,ie=re.current,X(!0),G.abrupt("return",E(n()({email:je,per_page:Ae,page:ie,morphable_type:f,morphable_id:c},(0,S.di)(ve,"created_at"))).then(function(B){return X(!1),B.success?{data:B.data,total:B.data.length,success:!0}:B.success?[]:{data:[],total:0,success:!1}}));case 3:case"end":return G.stop()}},V)}));return function(V,re){return Pe.apply(this,arguments)}}(),columns:[].concat(le,[{title:(0,s.jsx)(m.FormattedMessage,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(V,re){return[(0,s.jsx)(T.Z,{title:(0,s.jsx)(m.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return ze(re.id)},okText:(0,s.jsx)(m.FormattedMessage,{id:"yes"}),cancelText:(0,s.jsx)(m.FormattedMessage,{id:"no"}),children:(0,s.jsx)(p.Z,{title:(0,s.jsx)(m.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,s.jsx)(b.ZP,{type:"primary",icon:(0,s.jsx)(C.Z,{}),danger:!0})})},"delete")]}}])})," ",(0,s.jsx)(J,{visible:Ve,onVisibleChange:function(V){return V===!1&&We(!1)},onFinish:function(){var Pe=o()(l()().mark(function V(re){var ve,je;return l()().wrap(function(ie){for(;;)switch(ie.prev=ie.next){case 0:return X(!0),ie.prev=1,ie.next=4,a(n()(n()({},re),{},{morphable_id:c,morphable_type:f}));case 4:ve=ie.sent,ve.success&&(Ze.resetFields(),(je=R.current)===null||je===void 0||je.reload(),X(!1),We(!1)),ie.next=13;break;case 8:ie.prev=8,ie.t0=ie.catch(1),We(!1),x.ZP.error((0,s.jsx)(m.FormattedMessage,{id:"error",defaultMessage:"error"})),X(!1);case 13:case"end":return ie.stop()}},V,null,[[1,8]])}));return function(V){return Pe.apply(this,arguments)}}()})]})},Y=ee},19411:function(ue,K,t){t.d(K,{ZP:function(){return b}});var $=t(15009),n=t.n($),N=t(99289),l=t.n(N),L=t(17578),o=t(2800),_=t.n(o),I=t(67294),j=t(80854),g=t(85893),m=function(p){var x=p.attrs,E=x.href,F=E.split("/").pop();return(0,g.jsx)("p",{children:(0,g.jsx)("a",{rel:"noreferrer",href:E,target:"_blank",children:F})})},U=function(p){var x=p.value,E=p.onChange,F=p.directory,a=F===void 0?"/wysiwyg":F,M=(0,j.useIntl)();return(0,g.jsx)("div",{className:"form-wysiwyg-markdown",children:(0,g.jsx)(_(),{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function(){return!0},component:m}],uploadImage:function(){var P=l()(n()().mark(function D(S){var A,C;return n()().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.next=2,(0,L.ws)(S,a);case 2:if(A=r.sent,!A.success){r.next=8;break}if(!S.type.includes("image/")){r.next=7;break}return C=A.data[0].name.includes("/")?A.data[0].name:"".concat(a).concat(A.data[0].name),r.abrupt("return",(0,L.pV)(C,1e3));case 7:return r.abrupt("return",A.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return r.stop()}},D)}));return function(D){return P.apply(this,arguments)}}(),defaultValue:x||"",onChange:function(D){return E&&E(D())},placeholder:M.formatMessage({id:"wysiwyg_placeholder"})})})},b=U},50082:function(ue,K,t){t.d(K,{Z:function(){return ie}});var $=t(19632),n=t.n($),N=t(15009),l=t.n(N),L=t(97857),o=t.n(L),_=t(99289),I=t.n(_),j=t(5574),g=t.n(j),m=t(52677),U=t.n(m),b=t(67541),T=t(26271),p=t(952),x=t(5966),E=t(86615),F=t(52688),a=t(31199),M=t(2453),P=t(75081),D=t(55102),S=t(66309),A=t(71230),C=t(15746),u=t(67294),r=t(80854),h=t(7418),O=t(23535),s=t(44837),v=t(25387),J=t(81424),le=t(39470),ee=t(31472),Y=t(40658),d=t(78957),i=t(83062),c=t(14726),f=t(83863),e=t(85893),R=function(G){var B=G.value,Ce=G.onChange,se=G.multiple,Re=se===void 0?!1:se,De=G.params,z=(0,u.useState)([]),ae=g()(z,2),ge=ae[0],xe=ae[1],W=(0,u.useState)(!1),Le=g()(W,2),_e=Le[0],w=Le[1],fe=(0,u.useState)([]),oe=g()(fe,2),Q=oe[0],be=oe[1],q=(0,u.useRef)(),me=(0,u.useCallback)(function(){w(!0),q.current&&q.current.abort(),q.current=new AbortController,(0,Y.zd)(De,{signal:q.current.signal}).then(function(de){de.success&&xe(de.data),w(!1)}).catch(function(){return w(!1)})},[]);return(0,u.useEffect)(function(){var de=new AbortController;if(B){var we=Array.isArray(B)?B:[B],Se=we.map(function(Ie){return U()(Ie)==="object"?Number(Ie.id):Number(Ie)});be(Se)}return function(){de.abort()}},[B]),(0,e.jsx)(f.default,{onFocus:function(){return me()},allowClear:!0,style:{width:"100%",minWidth:"400px"},value:Q,onChange:Ce,mode:Re?"multiple":void 0,showSearch:!0,placeholder:(0,e.jsx)(r.FormattedMessage,{id:"select_template",defaultMessage:"Select a template"}),optionFilterProp:"children",filterOption:function(we,Se){if(Se&&Se.children){var Ie;return(Se==null||(Ie=Se.children)===null||Ie===void 0?void 0:Ie.toString().toLowerCase().indexOf(we&&we.toLowerCase()||""))>=0}return!1},notFoundContent:_e?(0,e.jsx)(P.Z,{size:"small"}):null,children:ge.map(function(de){return(0,e.jsxs)(f.default.Option,{value:de.id,children:[de.name," ",(0,e.jsxs)("small",{children:[(0,e.jsx)(r.FormattedMessage,{id:de.channel.split("\\").pop()}),":",de.event&&(0,e.jsx)(r.FormattedMessage,{id:de.event.split("\\").pop()})]})]},de.id)})})},Z=null,H=function(G){var B=G.productId,Ce=(0,u.useState)(!1),se=g()(Ce,2),Re=se[0],De=se[1],z=(0,u.useState)(),ae=g()(z,2),ge=ae[0],xe=ae[1],W=(0,r.useIntl)(),Le=(0,u.useCallback)(function(){De(!0),typeof ge=="number"&&(0,Y.zB)(Number(ge),B).then(function(_e){_e.success?M.ZP.success(_e.message):M.ZP.error(_e.message)}).catch(function(_e){return M.ZP.error(_e.toString())}).finally(function(){return De(!1)})},[ge,B]);return(0,e.jsxs)(d.Z,{children:[(0,e.jsx)(R,{params:{event:ee.fn.ManuallyTriggeredEvent},multiple:!1,value:ge,onChange:function(w){return xe(w)}}),(0,e.jsx)(i.Z,{title:W.formatMessage({id:"generate_pdf_for_products_tooltip"}),children:(0,e.jsx)(c.ZP,{loading:Re,onClick:function(){return Le()},disabled:!ge,children:(0,e.jsx)(r.FormattedMessage,{id:"generate"})})})]})},te=H,X=t(54434),pe=t(19411),Oe=t(66419),Ze=t(64317),Ke=t(16894),$e=t(44167),Ve=t(82061),We=[{title:(0,e.jsx)(r.FormattedMessage,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:(0,e.jsx)(r.FormattedMessage,{id:"email",defaultMessage:"email"}),dataIndex:"email"}],ze=function(G){var B=G.id,Ce=(0,r.useIntl)(),se=(0,u.useRef)(),Re=(0,u.useState)(!1),De=g()(Re,2),z=De[0],ae=De[1],ge=p.ZP.useForm(),xe=g()(ge,1),W=xe[0],Le=(0,u.useCallback)(function(){var w=I()(l()().mark(function fe(oe){var Q;return l()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return ae(!0),q.next=3,(0,s.fw)(Number(B),{user_id:oe.user_id});case 3:W.resetFields(),(Q=se.current)===null||Q===void 0||Q.reload(),ae(!1);case 6:case"end":return q.stop()}},fe)}));return function(fe){return w.apply(this,arguments)}}(),[B]),_e=(0,u.useCallback)(function(){var w=I()(l()().mark(function fe(oe){var Q;return l()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return ae(!0),q.next=3,(0,s.q5)(Number(B),{user_id:oe});case 3:(Q=se.current)===null||Q===void 0||Q.reload(),ae(!1);case 5:case"end":return q.stop()}},fe)}));return function(fe){return w.apply(this,arguments)}}(),[B]);return(0,e.jsxs)(u.Fragment,{children:[(0,e.jsx)(p.ZP,{layout:"inline",onFinish:Le,form:W,labelWrap:!0,children:(0,e.jsx)(p.ZP.Group,{children:(0,e.jsx)(p.ZP.Item,{name:"user_id",label:(0,e.jsx)(r.FormattedMessage,{id:"users"}),valuePropName:"value",children:(0,e.jsx)($e.Z,{})})})}),(0,e.jsx)(Ke.ZP,{defaultSize:"small",loading:z,search:!1,headerTitle:Ce.formatMessage({id:"users",defaultMessage:"Users"}),actionRef:se,rowKey:"id",request:I()(l()().mark(function w(){return l()().wrap(function(oe){for(;;)switch(oe.prev=oe.next){case 0:return ae(!0),oe.abrupt("return",(0,s.wv)(Number(B)).then(function(Q){return ae(!1),Q.success&&Q.data.users?{data:Q.data.users,total:Q.data.users.length,success:!0}:Q.success?[]:{data:[],total:0,success:!1}}));case 2:case"end":return oe.stop()}},w)})),columns:[].concat(We,[{title:(0,e.jsx)(r.FormattedMessage,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(fe,oe){return[(0,e.jsx)(i.Z,{title:(0,e.jsx)(r.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,e.jsx)(c.ZP,{type:"primary",icon:(0,e.jsx)(Ve.Z,{}),danger:!0,onClick:function(){return _e(oe.id)}})},"delete")]}}])})]})},Pe=ze,V=function(ne){return ne.SINGLE="single",ne.BUNDLE="bundle",ne.SUBSCRIPTION="subscription",ne.SUBSCRIPTION_ALL_IN="subscription-all-in",ne}(V||{}),re=function(ne){return ne.DAILY="daily",ne.MONTHLY="monthly",ne.YEARLY="yearly",ne}(re||{}),ve=function(G){return G.map(function(B){return{class:B.productable_type,id:Number(B.productable_id),name:B.name,quantity:B.quantity}})},je=function(G){var B=Array.isArray(G)?G:[G],Ce=B.map(function(se){return U()(se)==="object"?se:{id:parseInt(se.split(":")[1]),class:se.split(":")[0],name:se.split(":")[2]}});return Ce},Ae=function(G){var B,Ce=G.tab,se=Ce===void 0?"attributes":Ce,Re=G.onTabChange,De=G.id,z=G.productable,ae=G.onProductSaved,ge=G.type,xe=ge===void 0?"card":ge,W=(0,r.useIntl)(),Le=(0,u.useState)(De),_e=g()(Le,2),w=_e[0],fe=_e[1],oe=(0,u.useState)([]),Q=g()(oe,2),be=Q[0],q=Q[1],me=(0,u.useMemo)(function(){return w==="new"},[w]),de=(0,u.useState)(!0),we=g()(de,2),Se=we[0],Ie=we[1],ut=(0,u.useState)(null),Je=g()(ut,2),Qe=Je[0],lt=Je[1],it=(0,u.useState)({}),ot=g()(it,2),dt=ot[1],_t=(0,u.useCallback)(function(){return dt({})},[]),mt=p.ZP.useForm(),ct=g()(mt,1),ye=ct[0],pt=(0,r.useModel)("@@initialState"),Ye=pt.initialState,Ne=Ye==null||(B=Ye.config)===null||B===void 0||(B=B.find(function(k){var y=k.group,ce=k.key;return y==="currencies"&&ce==="default"}))===null||B===void 0?void 0:B.value,ft=(0,u.useState)(!1),qe=g()(ft,2),et=qe[0],tt=qe[1],ht=(0,u.useState)(V.BUNDLE),rt=g()(ht,2),He=rt[0],at=rt[1],vt=(0,u.useState)(!1),nt=g()(vt,2),Ge=nt[0],st=nt[1];(0,u.useEffect)(function(){z&&z.class_id&&z.class_type&&((0,s.nS)({productable_id:Number(z.class_id),productable_type:z.class_type}).then(function(k){k.success&&fe(k.data.id)}).catch(function(){console.log("err"),fe("new")}),q([{class:z.class_type,id:Number(z.class_id),name:z.name}]),ye.setFieldsValue({productables:[{class:z.class_type,id:z.class_id,name:z.name}]}))},[z]);var gt=(0,u.useCallback)(I()(l()().mark(function k(){var y,ce,Te,Ue,Be,Me;return l()().wrap(function(Fe){for(;;)switch(Fe.prev=Fe.next){case 0:if(!(w&&w!=="new")){Fe.next=5;break}return Fe.next=3,(0,s.wv)(Number(w));case 3:y=Fe.sent,y.success&&(Be=o()(o()({},y.data),{},{categories:(ce=y.data.categories)===null||ce===void 0?void 0:ce.map(Oe.i4),tags:(Te=y.data.tags)===null||Te===void 0?void 0:Te.map(function(Ee){return(0,Oe.ZR)(Ee)}),productables:y.data.productables?ve(y.data.productables):[]}),y.data&&y!==null&&y!==void 0&&(Ue=y.data)!==null&&Ue!==void 0&&Ue.productables&&lt(y==null||(Me=y.data)===null||Me===void 0||(Me=Me.productables[0])===null||Me===void 0?void 0:Me.productable_type),q(ve(y.data.productables)),ye.setFieldsValue(Be),tt(y.data.type===V.BUNDLE),at(y.data.type),st(!!y.data.has_trial));case 5:Ie(!1);case 6:case"end":return Fe.stop()}},k)})),[w]);(0,u.useEffect)(function(){w&&gt()},[w]);var Xe=(0,u.useMemo)(function(){return{onValuesChange:function(y){y.type&&(tt(y.type===V.BUNDLE),at(y.type)),typeof y.has_trial=="boolean"&&st(y.has_trial)},onFinish:function(){var k=I()(l()().mark(function ce(Te){var Ue,Be,Me,he;return l()().wrap(function(Ee){for(;;)switch(Ee.prev=Ee.next){case 0:if(Be=(Ue=Te.related_products)!==null&&Ue!==void 0&&Ue.every(function(ke){return U()(ke)==="object"})?Te.related_products.map(function(ke){return ke.id}):Te.related_products,Me=o()(o()({},Te),{},{productables:be?je(be):void 0},Te.related_products?{related_products:Be}:{}),!me){Ee.next=9;break}return Ee.next=5,(0,s.ry)(Me);case 5:he=Ee.sent,he.success&&(ae&&ae(he.data),fe(he.data.id),ye.setFieldsValue(he.data)),Ee.next=13;break;case 9:return Ee.next=11,(0,s.nM)(Number(w),Me);case 11:he=Ee.sent,he.success&&ae&&ae(he.data);case 13:M.ZP.success(he.message);case 14:case"end":return Ee.stop()}},ce)}));function y(ce){return k.apply(this,arguments)}return y}()}},[w,ae,be]);return Se?(0,e.jsx)(P.Z,{}):(0,e.jsxs)(T.ZP,{title:xe==="line"?(0,e.jsx)(r.FormattedMessage,{id:"product_widget_title",defaultMessage:"Product Attibutes"}):null,tooltip:xe==="line"?(0,e.jsx)(r.FormattedMessage,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,subTitle:xe==="line"?(0,e.jsx)(r.FormattedMessage,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,tabs:{type:xe,activeKey:se,onChange:function(y){return Re(y)}},children:[(0,e.jsxs)(T.ZP.TabPane,{tab:(0,e.jsx)(r.FormattedMessage,{id:"attributes"}),children:[(0,e.jsxs)(p.ZP,o()(o()({},Xe),{},{form:ye,omitNil:!1,children:[(0,e.jsxs)(p.ZP.Group,{children:[(0,e.jsx)(x.Z,{width:"md",name:"name",initialValue:me&&z?z.name:void 0,label:(0,e.jsx)(r.FormattedMessage,{id:"name"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"name_tooltip"}),placeholder:W.formatMessage({id:"name",defaultMessage:"name"}),required:!0}),(0,e.jsx)(p.ZP.Item,{shouldUpdate:!0,style:{minWidth:104*3},name:"productables",tooltip:(0,e.jsx)(r.FormattedMessage,{id:"productables_tooltip"}),label:(0,e.jsx)(r.FormattedMessage,{id:"productables"}),valuePropName:"value",children:(0,e.jsx)(b.Z,{multiple:et,disabled:z!==void 0||He===V.SUBSCRIPTION_ALL_IN,onChange:function(y){return q(je(y))}})})]}),(0,e.jsxs)(p.ZP.Group,{children:[(0,e.jsx)(E.Z.Group,{disabled:z!==void 0,initialValue:w&&w!=="new"?void 0:"single",rules:[{required:!0}],name:"type",label:(0,e.jsx)(r.FormattedMessage,{id:"type"}),options:[{label:W.formatMessage({id:"single",defaultMessage:"single"}),value:V.SINGLE},{label:W.formatMessage({id:"bundle",defaultMessage:"bundle"}),value:V.BUNDLE},{label:W.formatMessage({id:"subscription",defaultMessage:"Subscription"}),value:V.SUBSCRIPTION},{label:W.formatMessage({id:"subscription_all_in",defaultMessage:"Subscription all in"}),value:V.SUBSCRIPTION_ALL_IN}],shouldUpdate:!0}),(0,e.jsx)(F.Z,{name:"purchasable",label:(0,e.jsx)(r.FormattedMessage,{id:"purchasable"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"purchasable_tooltip"})})]}),(0,e.jsxs)(p.ZP.Group,{title:(0,e.jsx)(r.FormattedMessage,{id:"prices"}),children:[(0,e.jsx)(v.P,{form:ye,width:"xs",name:"price",label:{id:"price"},tooltip:(0,e.jsx)(r.FormattedMessage,{id:"price_tooltip"}),placeholder:W.formatMessage({id:"price",defaultMessage:"price"}),fieldProps:{step:1}}),(0,e.jsx)(a.Z,{rules:[{required:!0}],width:"xs",name:"tax_rate",label:(0,e.jsx)(r.FormattedMessage,{id:"tax_rate"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"tax_rate_tooltip"}),placeholder:W.formatMessage({id:"tax_rate",defaultMessage:"tax_rate"}),initialValue:me?23:void 0,min:0,max:100,fieldProps:{step:1,formatter:function(y){return"".concat(y,"%")},parser:function(y){return Number(y?y.replace("%",""):"")}}}),(0,e.jsx)(p.ZP.Item,{shouldUpdate:!0,label:(0,e.jsx)(r.FormattedMessage,{id:"price_brutto",values:{currency:Ne?"(".concat(Ne,")"):""}}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"price_brutto_tooltip"}),children:function(y){return(0,e.jsx)(D.Z,{disabled:!0,readOnly:!0,style:{width:"104px"},value:y.getFieldValue("price")?(Math.round(parseInt(y.getFieldValue("price"))*(1+parseInt(y.getFieldValue("tax_rate"))/100))/100).toFixed(2):void 0})}}),(0,e.jsx)(p.ZP.Item,{shouldUpdate:!0,label:(0,e.jsx)(r.FormattedMessage,{id:"tax_value",values:{currency:Ne?"(".concat(Ne,")"):""}}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"tax_value_tooltip"}),children:function(y){return(0,e.jsx)(D.Z,{disabled:!0,readOnly:!0,style:{width:"104px"},value:y.getFieldValue("price")?(Math.round(parseInt(y.getFieldValue("price"))*(parseInt(y.getFieldValue("tax_rate"))/100))/100).toFixed(2):void 0})}}),(0,e.jsx)(v.P,{form:ye,width:"xs",name:"price_old",label:{id:"price_old"},tooltip:(0,e.jsx)(r.FormattedMessage,{id:"price_old_tooltip"}),placeholder:W.formatMessage({id:"price",defaultMessage:"price"}),fieldProps:{step:1},defaultValue:null}),(0,e.jsx)(v.P,{form:ye,initialValue:me?null:void 0,width:"xs",name:"extra_fees",label:{id:"extra_fees"},tooltip:(0,e.jsx)(r.FormattedMessage,{id:"extra_fees_tooltip"}),placeholder:W.formatMessage({id:"extra_fees",defaultMessage:"extra_fees"}),fieldProps:{step:1}})]}),(He===V.SUBSCRIPTION||He===V.SUBSCRIPTION_ALL_IN)&&(0,e.jsxs)(e.Fragment,{children:[(0,e.jsxs)(p.ZP.Group,{title:(0,e.jsx)(r.FormattedMessage,{id:"subscription"}),children:[(0,e.jsx)(Ze.Z,{name:"subscription_period",tooltip:(0,e.jsx)(r.FormattedMessage,{id:"subscription_period_tooltip"}),label:W.formatMessage({id:"subscription_period",defaultMessage:"Subscription period"}),options:[{label:W.formatMessage({id:"daily",defaultMessage:"Daily"}),value:re.DAILY},{label:W.formatMessage({id:"monthly",defaultMessage:"Monthly"}),value:re.MONTHLY},{label:W.formatMessage({id:"yearly",defaultMessage:"Yearly"}),value:re.YEARLY}],placeholder:W.formatMessage({id:"select",defaultMessage:"Select"}),rules:[{required:!0}]}),(0,e.jsx)(a.Z,{width:"sm",name:"subscription_duration",label:(0,e.jsx)(r.FormattedMessage,{id:"subscription_duration"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"subscription_duration_tooltip"}),placeholder:W.formatMessage({id:"subscription_duration",defaultMessage:"subscription_duration"}),min:1,max:99999,fieldProps:{step:1},rules:[{required:!0}]}),(0,e.jsx)(F.Z,{name:"recursive",label:(0,e.jsx)(r.FormattedMessage,{id:"recursive"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"recursive_tooltip"})})]}),(0,e.jsxs)(p.ZP.Group,{children:[(0,e.jsx)(F.Z,{name:"has_trial",label:(0,e.jsx)(r.FormattedMessage,{id:"has_trial"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"has_trial_tooltip"})}),(0,e.jsx)(Ze.Z,{name:"trial_period",tooltip:(0,e.jsx)(r.FormattedMessage,{id:"trial_period_tooltip"}),label:W.formatMessage({id:"trial_period",defaultMessage:"Trial period"}),options:[{label:W.formatMessage({id:"daily",defaultMessage:"Daily"}),value:re.DAILY},{label:W.formatMessage({id:"monthly",defaultMessage:"Monthly"}),value:re.MONTHLY},{label:W.formatMessage({id:"yearly",defaultMessage:"Yearly"}),value:re.YEARLY}],placeholder:W.formatMessage({id:"select",defaultMessage:"Select"}),rules:[{required:Ge}],disabled:!Ge}),(0,e.jsx)(a.Z,{width:"sm",name:"trial_duration",label:(0,e.jsx)(r.FormattedMessage,{id:"trial_duration"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"trial_duration_tooltip"}),placeholder:W.formatMessage({id:"trial_duration",defaultMessage:"trial_duration"}),min:1,max:99999,fieldProps:{step:1},rules:[{required:Ge}],disabled:!Ge})]})]}),(0,e.jsxs)(p.ZP.Group,{title:(0,e.jsx)(r.FormattedMessage,{id:"additional_fields"}),children:[(0,e.jsx)(x.Z,{width:"sm",name:"duration",label:(0,e.jsx)(r.FormattedMessage,{id:"duration"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"duration_tooltip"}),placeholder:W.formatMessage({id:"duration",defaultMessage:"duration"})}),(0,e.jsx)(a.Z,{initialValue:me?null:void 0,width:"sm",name:"limit_per_user",label:(0,e.jsx)(r.FormattedMessage,{id:"limit_per_user"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"limit_per_user_tooltip"}),placeholder:W.formatMessage({id:"limit_per_user",defaultMessage:"limit_per_user"}),min:0,max:99999,fieldProps:{step:1}}),(0,e.jsx)(a.Z,{initialValue:me?null:void 0,width:"sm",name:"limit_total",label:(0,e.jsx)(r.FormattedMessage,{id:"limit_total"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"limit_total_tooltip"}),placeholder:W.formatMessage({id:"limit_total",defaultMessage:"limit_total"}),min:0,max:99999,fieldProps:{step:1}}),(0,e.jsx)(x.Z,{width:"sm",name:"teaser_url",label:(0,e.jsx)(r.FormattedMessage,{id:"teaser_url"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"teaser_url_tooltip"}),placeholder:W.formatMessage({id:"teaser_url",defaultMessage:"teaser_url"})})]})," ",(0,e.jsx)(p.ZP.Item,{shouldUpdate:!0,name:"related_products",label:(0,e.jsx)(r.FormattedMessage,{id:"related_products"}),valuePropName:"value",children:Qe&&(0,e.jsx)(J.Z,{type:Qe,multiple:!0})}),!me&&(0,e.jsx)(p.ZP.Item,{style:{width:"100%"},name:"description",label:(0,e.jsx)(r.FormattedMessage,{id:"description"}),tooltip:(0,e.jsx)(r.FormattedMessage,{id:"description_tooltip"}),valuePropName:"value",children:(0,e.jsx)(pe.ZP,{directory:"products/".concat(w,"/wysiwyg")})}),be.length>0&&et&&(0,e.jsx)(Ke.ZP,{headerTitle:W.formatMessage({id:"selected_products",defaultMessage:"Selected Products"}),pagination:!1,search:!1,dataSource:n()(be),rowKey:"id",columns:[{title:(0,e.jsx)(r.FormattedMessage,{id:"id",defaultMessage:"id"}),dataIndex:"id",width:"80px"},{title:(0,e.jsx)(r.FormattedMessage,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:(0,e.jsx)(r.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"class",render:function(y,ce){return(0,e.jsx)(S.Z,{children:(0,e.jsx)(r.FormattedMessage,{id:ce.class.split("\\").pop(),defaultMessage:ce.class.split("\\").pop()})})}},{title:(0,e.jsx)(r.FormattedMessage,{id:"quantity",defaultMessage:"quantity"}),dataIndex:"quantity",width:"10%",render:function(y,ce){return(0,e.jsx)(D.Z,{min:1,type:"number",value:ce.quantity||1,onChange:function(Ue){var Be=Ue.target.value,Me=be.findIndex(function(Fe){return Fe.id===ce.id}),he=be;he[Me].quantity=Number(Be),q(he),_t()}})}}]})]}))," "]},"attributes"),!me&&(0,e.jsx)(T.ZP.TabPane,{tab:(0,e.jsx)(r.FormattedMessage,{id:"cart_media",defaultMessage:"Cart Media"}),children:(0,e.jsx)(p.ZP,o()(o()({},Xe),{},{form:ye,children:(0,e.jsx)(O.Z,{folder:"products/".concat(w),wrapInForm:!1,title:"image",action:"/api/admin/products/".concat(w,"/?_method=PUT"),src_name:"poster_url",form_name:"poster",getUploadedSrcField:function(y){return y.file.response.data.poster_url},setPath:function(y){return ye.setFieldsValue(y)}})}))},"media"),!me&&(0,e.jsx)(T.ZP.TabPane,{tab:(0,e.jsx)(r.FormattedMessage,{id:"product_categories_and_tags",defaultMessage:"Product Categories & Tags"}),children:(0,e.jsx)(p.ZP,o()(o()({},Xe),{},{form:ye,children:(0,e.jsxs)(A.Z,{children:[(0,e.jsx)(C.Z,{span:12,children:(0,e.jsx)(p.ZP.Item,{label:(0,e.jsx)(r.FormattedMessage,{id:"categories"}),name:"categories",valuePropName:"value",children:(0,e.jsx)(h.Z,{})})}),(0,e.jsx)(C.Z,{span:12,children:(0,e.jsx)(p.ZP.Item,{label:(0,e.jsx)(r.FormattedMessage,{id:"tags"}),name:"tags",valuePropName:"value",children:(0,e.jsx)(le.Z,{})})})]})}))},"categories"),!me&&(0,e.jsx)(T.ZP.TabPane,{tab:(0,e.jsx)(r.FormattedMessage,{id:"users_attached",defaultMessage:"Users Attached"}),children:(0,e.jsx)(A.Z,{children:(0,e.jsx)(C.Z,{span:24,children:w&&(0,e.jsx)(Pe,{id:w})})})},"users")," ",!me&&(0,e.jsx)(T.ZP.TabPane,{tab:(0,e.jsx)(r.FormattedMessage,{id:"user_submission",defaultMessage:"Users Attached without Account"}),children:(0,e.jsx)(A.Z,{children:(0,e.jsx)(C.Z,{span:12,children:w&&(0,e.jsx)(X.ZP,{id:Number(w),type:"EscolaLms\\Cart\\Models\\Product"})})})},"user_submission"),!me&&w&&(0,e.jsx)(T.ZP.TabPane,{tab:(0,e.jsx)(r.FormattedMessage,{id:"template"}),children:(0,e.jsx)(A.Z,{children:(0,e.jsx)(C.Z,{span:12,children:(0,e.jsx)(te,{productId:Number(w)})})})},"template")]})},ie=Ae},94116:function(ue,K,t){t.d(K,{CL:function(){return I},W3:function(){return U},bd:function(){return g},k4:function(){return T},uu:function(){return F},yr:function(){return x}});var $=t(15009),n=t.n($),N=t(97857),l=t.n(N),L=t(99289),o=t.n(L),_=t(80854);function I(M){return j.apply(this,arguments)}function j(){return j=o()(n()().mark(function M(P){return n()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return S.abrupt("return",(0,_.request)("/api/admin/categories/tree",l()({method:"GET",useCache:!1},P||{})));case 1:case"end":return S.stop()}},M)})),j.apply(this,arguments)}function g(M,P){return m.apply(this,arguments)}function m(){return m=o()(n()().mark(function M(P,D){return n()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,_.request)("/api/admin/categories",l()({method:"GET",useCache:!1,params:P},D||{})));case 1:case"end":return A.stop()}},M)})),m.apply(this,arguments)}function U(M,P){return b.apply(this,arguments)}function b(){return b=o()(n()().mark(function M(P,D){return n()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,_.request)("/api/admin/categories/".concat(P),l()({method:"GET",useCache:!1},D||{})));case 1:case"end":return A.stop()}},M)})),b.apply(this,arguments)}function T(M,P){return p.apply(this,arguments)}function p(){return p=o()(n()().mark(function M(P,D){return n()().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return A.abrupt("return",(0,_.request)("/api/admin/categories",l()({method:"POST",headers:{"Content-Type":"application/json"},data:P},D||{})));case 1:case"end":return A.stop()}},M)})),p.apply(this,arguments)}function x(M,P,D){return E.apply(this,arguments)}function E(){return E=o()(n()().mark(function M(P,D,S){return n()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,_.request)("/api/admin/categories/".concat(P),l()({method:"POST",headers:{"Content-Type":"application/json"},data:D},S||{})));case 1:case"end":return C.stop()}},M)})),E.apply(this,arguments)}function F(M,P,D){return a.apply(this,arguments)}function a(){return a=o()(n()().mark(function M(P,D,S){return n()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,_.request)("/api/admin/categories/".concat(P),l()({method:"DELETE",headers:{"Content-Type":"application/json"},data:D},S||{})));case 1:case"end":return C.stop()}},M)})),a.apply(this,arguments)}},31472:function(ue,K,t){t.d(K,{Fh:function(){return m},UL:function(){return j},Yo:function(){return T},Zg:function(){return p},cX:function(){return I},ce:function(){return _},fS:function(){return b},fn:function(){return L},h5:function(){return x},hg:function(){return F},oz:function(){return $},rX:function(){return U},uT:function(){return l},wg:function(){return E},wl:function(){return g}});var $=function(a){return a.Unselected="",a.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",a.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",a.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",a.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",a.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",a.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",a.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",a.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",a.Project="EscolaLms\\TopicTypeProject\\Models\\Project",a.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz",a}({}),n=function(a){return a.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",a.UserLogged="EscolaLms\\Auth\\Events\\UserLogged",a}({}),N=function(a){return a.draft="draft",a.published="published",a.archived="archived",a}({}),l=function(a){return a.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",a.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",a.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel",a}({}),L=function(a){return a.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent",a}({}),o=function(a){return a.cart_fixed="cart_fixed",a.cart_percent="cart_percent",a.product_fixed="product_fixed",a.product_percent="product_percent",a}({}),_=function(a){return a.MULTIPLE_CHOICE="multiple_choice",a.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",a.TRUE_FALSE="true_false",a.SHORT_ANSWERS="short_answers",a.MATCHING="matching",a.NUMERICAL_QUESTION="numerical_question",a.ESSAY="essay",a.DESCRIPTION="description",a}({}),I=function(a){return a.PRESENT="present",a.PRESENT_NOT_EXERCISING="present_not_exercising",a.ABSENT="absent",a.EXCUSED_ABSENCE="excused_absence",a}({}),j=function(a){return a.Manual="manual",a.ManualPass="manual_pass",a.ManualGrades="manual_grades",a.TeamsForms="teams_forms",a.TeamsLecture="teams_lecture",a.TestPortal="test_portal",a}({}),g=function(a){return a.Passed="zal",a.Failed="nie zal",a}({}),m=function(a){return a.Simple="simple",a.Complex="complex",a}({}),U=function(a){return a.QuizSummary="EscolaLms\\Reports\\Stats\\Topic\\QuizSummaryForTopicTypeGIFT",a}({}),b=function(a){return a.Boolean="boolean",a.Number="number",a.Varchar="varchar",a.Text="text",a.Json="json",a}({}),T=function(a){return a.Rate="rate",a.Text="text",a.Review="review",a}({}),p=function(a){return a.Exercise="exercise",a.Course="course",a.Info="info",a}({}),x=function(a){return a.Group="EscolaLms\\PcgIntegration\\Models\\Group",a}({}),E=function(a){return a.PUSH="EscolaLms\\BulkNotifications\\Channels\\PushNotificationChannel",a}({}),F=function(a){return a.TITLE="title",a.BODY="body",a.IMAGE="image_url",a.REDIRECT_URL="redirect_url",a}({})},44837:function(ue,K,t){t.d(K,{Ir:function(){return x},RB:function(){return I},fw:function(){return D},nM:function(){return T},nS:function(){return M},q5:function(){return A},rc:function(){return F},ry:function(){return g},wv:function(){return U}});var $=t(15009),n=t.n($),N=t(97857),l=t.n(N),L=t(99289),o=t.n(L),_=t(80854);function I(u,r){return j.apply(this,arguments)}function j(){return j=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/products",l()({method:"GET",params:l()(l()({},r),{},{free:typeof r.free!="undefined"?r.free==="true"?1:0:void 0,per_page:r.pageSize,page:r.current})},h||{})));case 1:case"end":return s.stop()}},u)})),j.apply(this,arguments)}function g(u,r){return m.apply(this,arguments)}function m(){return m=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/products",l()({method:"POST",data:r},h||{})));case 1:case"end":return s.stop()}},u)})),m.apply(this,arguments)}function U(u,r){return b.apply(this,arguments)}function b(){return b=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/products/".concat(r),l()({method:"GET"},h||{})));case 1:case"end":return s.stop()}},u)})),b.apply(this,arguments)}function T(u,r,h){return p.apply(this,arguments)}function p(){return p=o()(n()().mark(function u(r,h,O){return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,_.request)("/api/admin/products/".concat(r,"?_method=PUT"),l()({method:"POST",data:h},O||{})));case 1:case"end":return v.stop()}},u)})),p.apply(this,arguments)}function x(u,r){return E.apply(this,arguments)}function E(){return E=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/products/".concat(r),l()({method:"DELETE"},h||{})));case 1:case"end":return s.stop()}},u)})),E.apply(this,arguments)}function F(u){return a.apply(this,arguments)}function a(){return a=o()(n()().mark(function u(r){return n()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,_.request)("/api/admin/productables",l()({method:"GET"},r||{})));case 1:case"end":return O.stop()}},u)})),a.apply(this,arguments)}function M(u,r){return P.apply(this,arguments)}function P(){return P=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/productables/product",l()({method:"GET",params:r},h||{})));case 1:case"end":return s.stop()}},u)})),P.apply(this,arguments)}function D(u,r,h){return S.apply(this,arguments)}function S(){return S=o()(n()().mark(function u(r,h,O){return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,_.request)("/api/admin/products/".concat(r,"/attach"),l()({method:"POST",data:h},O||{})));case 1:case"end":return v.stop()}},u)})),S.apply(this,arguments)}function A(u,r,h){return C.apply(this,arguments)}function C(){return C=o()(n()().mark(function u(r,h,O){return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,_.request)("/api/admin/products/".concat(r,"/detach"),l()({method:"POST",data:h},O||{})));case 1:case"end":return v.stop()}},u)})),C.apply(this,arguments)}},64532:function(ue,K,t){t.d(K,{a:function(){return I}});var $=t(15009),n=t.n($),N=t(97857),l=t.n(N),L=t(99289),o=t.n(L),_=t(80854);function I(g){return j.apply(this,arguments)}function j(){return j=o()(n()().mark(function g(m){return n()().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return b.abrupt("return",(0,_.request)("/api/tags/unique",l()({method:"GET",useCache:!1},m||{})));case 1:case"end":return b.stop()}},g)})),j.apply(this,arguments)}},40658:function(ue,K,t){t.d(K,{MZ:function(){return D},Mn:function(){return U},QB:function(){return T},RN:function(){return M},Rl:function(){return F},XK:function(){return g},Xc:function(){return x},zB:function(){return A},zd:function(){return I}});var $=t(15009),n=t.n($),N=t(97857),l=t.n(N),L=t(99289),o=t.n(L),_=t(80854);function I(u,r){return j.apply(this,arguments)}function j(){return j=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/templates",l()({method:"GET",useCache:!1,params:r},h||{})));case 1:case"end":return s.stop()}},u)})),j.apply(this,arguments)}function g(u,r){return m.apply(this,arguments)}function m(){return m=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/templates/".concat(r),l()({method:"GET"},h||{})));case 1:case"end":return s.stop()}},u)})),m.apply(this,arguments)}function U(u,r){return b.apply(this,arguments)}function b(){return b=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/templates",l()({method:"POST",headers:{"Content-Type":"application/json"},data:r},h||{})));case 1:case"end":return s.stop()}},u)})),b.apply(this,arguments)}function T(u,r,h){return p.apply(this,arguments)}function p(){return p=o()(n()().mark(function u(r,h,O){return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,_.request)("/api/admin/templates/".concat(r),l()({method:"PATCH",headers:{"Content-Type":"application/json"},data:h},O||{})));case 1:case"end":return v.stop()}},u)})),p.apply(this,arguments)}function x(u,r){return E.apply(this,arguments)}function E(){return E=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/templates/".concat(r),l()({method:"DELETE",headers:{"Content-Type":"application/json"}},h||{})));case 1:case"end":return s.stop()}},u)})),E.apply(this,arguments)}function F(u){return a.apply(this,arguments)}function a(){return a=o()(n()().mark(function u(r){return n()().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:return O.abrupt("return",(0,_.request)("/api/admin/templates/variables",l()({method:"GET"},r||{})));case 1:case"end":return O.stop()}},u)})),a.apply(this,arguments)}function M(u,r){return P.apply(this,arguments)}function P(){return P=o()(n()().mark(function u(r,h){return n()().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",(0,_.request)("/api/admin/templates/".concat(r,"/preview"),l()({method:"GET"},h||{})));case 1:case"end":return s.stop()}},u)})),P.apply(this,arguments)}function D(u,r,h){return S.apply(this,arguments)}function S(){return S=o()(n()().mark(function u(r,h,O){return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,_.request)("/api/admin/events/trigger-manually/".concat(r),l()({method:"POST",headers:{"Content-Type":"application/json"},data:{users:h}},O||{})));case 1:case"end":return v.stop()}},u)})),S.apply(this,arguments)}function A(u,r,h){return C.apply(this,arguments)}function C(){return C=o()(n()().mark(function u(r,h,O){return n()().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",(0,_.request)("/api/admin/products/".concat(h,"/trigger-event-manually/").concat(r),l()({method:"POST",headers:{"Content-Type":"application/json"}},O||{})));case 1:case"end":return v.stop()}},u)})),C.apply(this,arguments)}},30869:function(ue,K,t){t.d(K,{EA:function(){return g},Je:function(){return x},LS:function(){return ee},N5:function(){return U},Nq:function(){return F},VB:function(){return s},WC:function(){return A},ck:function(){return T},h8:function(){return D},m9:function(){return h},nS:function(){return u},r4:function(){return M},rC:function(){return I},yi:function(){return J}});var $=t(15009),n=t.n($),N=t(97857),l=t.n(N),L=t(99289),o=t.n(L),_=t(80854);function I(d,i){return j.apply(this,arguments)}function j(){return j=o()(n()().mark(function d(i,c){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/admin/users",l()({params:i,method:"GET",useCache:!1},c||{})));case 1:case"end":return e.stop()}},d)})),j.apply(this,arguments)}function g(d,i,c){return m.apply(this,arguments)}function m(){return m=o()(n()().mark(function d(i,c,f){return n()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",(0,_.request)("/api/admin/users/".concat(i),l()({method:"GET",useCache:f!==void 0?f:!0},c||{})));case 1:case"end":return R.stop()}},d)})),m.apply(this,arguments)}function U(d){return b.apply(this,arguments)}function b(){return b=o()(n()().mark(function d(i){return n()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",(0,_.request)("/api/profile/me",l()({method:"GET",useCache:!1},i||{})));case 1:case"end":return f.stop()}},d)})),b.apply(this,arguments)}function T(d,i){return p.apply(this,arguments)}function p(){return p=o()(n()().mark(function d(i,c){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/profile/me",l()({data:i,method:"PUT"},c||{})));case 1:case"end":return e.stop()}},d)})),p.apply(this,arguments)}function x(d,i){return E.apply(this,arguments)}function E(){return E=o()(n()().mark(function d(i,c){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/profile/password",l()({data:i,method:"PUT"},c||{})));case 1:case"end":return e.stop()}},d)})),E.apply(this,arguments)}function F(d,i,c){return a.apply(this,arguments)}function a(){return a=o()(n()().mark(function d(i,c,f){return n()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",(0,_.request)("/api/admin/users/".concat(i),l()({data:c,method:"PUT"},f||{})));case 1:case"end":return R.stop()}},d)})),a.apply(this,arguments)}function M(d,i){return P.apply(this,arguments)}function P(){return P=o()(n()().mark(function d(i,c){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/admin/users",l()({data:i,method:"POST"},c||{})));case 1:case"end":return e.stop()}},d)})),P.apply(this,arguments)}function D(d,i){return S.apply(this,arguments)}function S(){return S=o()(n()().mark(function d(i,c){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/admin/users/".concat(i),l()({method:"DELETE"},c||{})));case 1:case"end":return e.stop()}},d)})),S.apply(this,arguments)}function A(d,i,c){return C.apply(this,arguments)}function C(){return C=o()(n()().mark(function d(i,c,f){return n()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",(0,_.request)("/api/auth/email/resend",l()({method:"POST",data:{email:i,return_url:c}},f||{})));case 1:case"end":return R.stop()}},d)})),C.apply(this,arguments)}function u(d,i){return r.apply(this,arguments)}function r(){return r=o()(n()().mark(function d(i,c){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/admin/users/".concat(i,"/settings"),l()({method:"GET",useCache:!1},c||{})));case 1:case"end":return e.stop()}},d)})),r.apply(this,arguments)}function h(d,i,c,f){return O.apply(this,arguments)}function O(){return O=o()(n()().mark(function d(i,c,f,e){return n()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return Z.abrupt("return",(0,_.request)("/api/admin/users/".concat(i,"/settings"),l()({method:c,data:{settings:[f]},useCache:!1},e||{})));case 1:case"end":return Z.stop()}},d)})),O.apply(this,arguments)}function s(d,i){return v.apply(this,arguments)}function v(){return v=o()(n()().mark(function d(i,c){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/admin/users/".concat(i,"/avatar"),l()({method:"DELETE"},c||{})));case 1:case"end":return e.stop()}},d)})),v.apply(this,arguments)}function J(d,i,c){return le.apply(this,arguments)}function le(){return le=o()(n()().mark(function d(i,c,f){return n()().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",(0,_.request)("/api/admin/users/".concat(i,"/interests"),l()({data:c,method:"PUT"},f||{})));case 1:case"end":return R.stop()}},d)})),le.apply(this,arguments)}function ee(d,i){return Y.apply(this,arguments)}function Y(){return Y=o()(n()().mark(function d(i,c){return n()().wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.abrupt("return",(0,_.request)("/api/admin/stats/date-range",l()({params:i,method:"GET"},c||{})));case 1:case"end":return e.stop()}},d)})),Y.apply(this,arguments)}}}]);
