(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{"5YLw":function(W,_,e){"use strict";var f=e("DBJ/"),E=e("q1tI"),U=e.n(E),o=e("nKUr"),p=e.n(o),u=function(d){var v=d.onSuccess,D=d.onError;return Object(o.jsx)(f.a,{url:"/api/admin/hh5p/content/upload",name:"h5p_file",accept:".h5p",onChange:function(a){a.file.status==="done"&&a.file.response&&v(a.file.response),a.file.status==="error"&&D()}})};_.a=u},"DBJ/":function(W,_,e){"use strict";var f=e("y8nQ"),E=e("Vl3Y"),U=e("etVw"),o=e("q1tI"),p=e.n(o),u=e("9kvl"),c=function(m){var a=m.condition,j=m.children,n=m.wrap;return a?p.a.cloneElement(n(j)):j},d=e("nKUr"),v=function(a){var j=a.onChange,n=a.url,i=a.name,r=a.extra,l=a.accept,s=a.data,b=a.wrapInForm,C=b===void 0?!0:b,L=Object(u.i)();return s&&s[i]&&delete s[i],Object(d.jsx)(c,{condition:C,wrap:function(x){return Object(d.jsx)(E.a,{children:x})},children:Object(d.jsx)(U.a,{title:Object(d.jsx)(u.a,{id:"upload_click_here"}),placeholder:L.formatMessage({id:"upload_click_here"}),onChange:j,label:Object(d.jsx)(u.a,{id:"upload"}),max:2,fieldProps:{data:s,accept:l,name:i,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(n),extra:r})})},D=_.a=v},Unir:function(W,_,e){"use strict";e.r(_);var f=e("P2fV"),E=e("NJEC"),U=e("5Dmo"),o=e("3S7+"),p=e("+L6B"),u=e("2/Rp"),c=e("miYZ"),d=e("tsqr"),v=e("9og8"),D=e("tJVT"),m=e("WmNS"),a=e.n(m),j=e("xvlK"),n=e("q1tI"),i=e.n(n),r=e("9kvl"),l=e("55Ip"),s=e("tMyG"),b=e("Qiat"),C=e("nzng"),L=e("G3dp"),R=e("/MfK"),x=e("2PG1"),A=e("4KAj"),F=e("5YLw"),t=e("nKUr"),z=e.n(t),K=function(){var H=Object(n.useState)(!1),S=Object(D.a)(H,2),$=S[0],g=S[1],h=Object(n.useRef)(),G=Object(r.i)(),V=Object(n.useCallback)(function(){var I=Object(v.a)(a.a.mark(function P(O){var B,T;return a.a.wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return g(!0),B=d.default.loading(Object(t.jsx)(r.a,{id:"loading",defaultMessage:"loading"})),M.prev=2,M.next=5,Object(C.d)(O);case 5:return B(),d.default.success(Object(t.jsx)(r.a,{id:"success",defaultMessage:"success"})),g(!1),(T=h.current)===null||T===void 0||T.reload(),M.abrupt("return",!0);case 12:return M.prev=12,M.t0=M.catch(2),B(),d.default.error(Object(t.jsx)(r.a,{id:"error",defaultMessage:"error"})),g(!1),M.abrupt("return",!1);case 18:case"end":return M.stop()}},P,null,[[2,12]])}));return function(P){return I.apply(this,arguments)}}(),[h]),J=[{title:Object(t.jsx)(r.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",sorter:!1,search:!1},{title:Object(t.jsx)(r.a,{id:"newH5P",defaultMessage:"newH5P"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(F.a,{onSuccess:function(){h.current&&h.current.reload(),d.default.success(Object(t.jsx)(r.a,{id:"H5P_uploaded",defaultMessage:"new H5P uploaded successfully"}))},onError:function(){return d.default.error(Object(t.jsx)(r.a,{id:"error",defaultMessage:"error"}))}})]}},{title:Object(t.jsx)(r.a,{id:"title",defaultMessage:"title"}),dataIndex:"title",sorter:!1,search:!1,render:function(P,O){return O.title}},{title:Object(t.jsx)(r.a,{id:"library",defaultMessage:"library"}),dataIndex:"library",sorter:!1,search:!1,render:function(P,O){return O.library.title}},{title:Object(t.jsx)(r.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",render:function(P,O){return[Object(t.jsx)(l.a,{to:"/h5ps/".concat(O.id),children:Object(t.jsx)(o.a,{title:Object(t.jsx)(r.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(u.a,{type:"primary",icon:Object(t.jsx)(L.a,{})})})}),Object(t.jsx)(E.a,{title:Object(t.jsx)(r.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return O.id&&V(O.id)},okText:Object(t.jsx)(r.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(r.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(o.a,{title:Object(t.jsx)(r.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(u.a,{type:"primary",icon:Object(t.jsx)(R.a,{}),danger:!0})})}),Object(t.jsx)(l.a,{to:"/h5ps/preview/".concat(O.id),children:Object(t.jsx)(o.a,{title:Object(t.jsx)(r.a,{id:"preview",defaultMessage:"preview"}),children:Object(t.jsx)(u.a,{icon:Object(t.jsx)(x.a,{})})})}),Object(t.jsx)("a",{href:"".concat("https://api-stage.escolalms.com","/api/admin/hh5p/content/").concat(O.id,"/export"),download:!0,children:Object(t.jsx)(o.a,{title:Object(t.jsx)(r.a,{id:"export",defaultMessage:"export"}),children:Object(t.jsx)(u.a,{icon:Object(t.jsx)(A.a,{})})})})]}}];return Object(t.jsx)(s.a,{children:Object(t.jsx)(b.a,{loading:$,headerTitle:G.formatMessage({id:"H5Ps",defaultMessage:"H5Ps List"}),actionRef:h,rowKey:"id",search:{labelWidth:120},toolBarRender:function(){return[Object(t.jsx)(l.a,{to:"/h5ps/new",children:Object(t.jsxs)(u.a,{type:"primary",children:[Object(t.jsx)(j.a,{})," ",Object(t.jsx)(r.a,{id:"new",defaultMessage:"new"})]},"primary")})]},request:function(P){var O=P.pageSize,B=P.current;return g(!0),Object(C.c)({pageSize:O,current:B}).then(function(T){return g(!1),T.success?{data:T.data,total:T.meta.total,success:!0}:[]})},columns:J})})};_.default=K},etVw:function(W,_,e){"use strict";var f=e("DZo9"),E=e("8z0m"),U=e("+L6B"),o=e("2/Rp"),p=e("wx14"),u=e("q1tI"),c=e.n(u),d=e("z7Xi"),v=e("WFLz"),D=function(a,j){var n=a.fieldProps,i=a.name,r=a.action,l=a.accept,s=a.listType,b=a.title,C=b===void 0?"\u5355\u51FB\u4E0A\u4F20":b,L=a.max,R=a.icon,x=R===void 0?c.a.createElement(d.a,null):R,A=a.value,F=a.buttonProps,t=a.onChange,z=a.disabled,K=a.proFieldProps,y=a.fileList,H=(L===void 0||!A||(A==null?void 0:A.length)<L)&&(K==null?void 0:K.mode)!=="read",S=(s!=null?s:n==null?void 0:n.listType)==="picture-card";return c.a.createElement(E.a,Object(p.a)({action:r,accept:l,ref:j,name:i||"file",listType:s||"picture",fileList:y!=null?y:A},n,{onChange:function(g){var h;t==null||t(g),n==null||(h=n.onChange)===null||h===void 0||h.call(n,g)}}),H&&(S?c.a.createElement("span",null,x," ",C):c.a.createElement(o.a,Object(p.a)({disabled:z||(n==null?void 0:n.disabled)},F),x,C)))};_.a=Object(v.a)(c.a.forwardRef(D),{getValueFromEvent:function(a){return a.fileList}})},nzng:function(W,_,e){"use strict";e.d(_,"c",function(){return u}),e.d(_,"b",function(){return d}),e.d(_,"d",function(){return D}),e.d(_,"a",function(){return a});var f=e("k1fw"),E=e("9og8"),U=e("WmNS"),o=e.n(U),p=e("9kvl");function u(n,i){return c.apply(this,arguments)}function c(){return c=Object(E.a)(o.a.mark(function n(i,r){return o.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(p.f)("/api/admin/hh5p/content",Object(f.a)({method:"GET",useCache:!1,params:Object(f.a)(Object(f.a)({},i),{},{per_page:i.pageSize,page:i.current})},r||{})));case 1:case"end":return s.stop()}},n)})),c.apply(this,arguments)}function d(n,i){return v.apply(this,arguments)}function v(){return v=Object(E.a)(o.a.mark(function n(i,r){return o.a.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(p.f)("/api/admin/hh5p/content/".concat(i),Object(f.a)({method:"GET",useCache:!1},r||{})));case 1:case"end":return s.stop()}},n)})),v.apply(this,arguments)}function D(n){return m.apply(this,arguments)}function m(){return m=Object(E.a)(o.a.mark(function n(i){return o.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(p.f)("/api/admin/hh5p/content/".concat(i),{method:"DELETE"}));case 1:case"end":return l.stop()}},n)})),m.apply(this,arguments)}function a(n){return j.apply(this,arguments)}function j(){return j=Object(E.a)(o.a.mark(function n(i){return o.a.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(p.f)("/api/admin/hh5p/content?per_page=0",Object(f.a)({method:"GET",useCache:!1},i||{})));case 1:case"end":return l.stop()}},n)})),j.apply(this,arguments)}}}]);
