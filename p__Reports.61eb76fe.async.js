(window.webpackJsonp=window.webpackJsonp||[]).push([[28],{dgLD:function(B,p,t){"use strict";t.r(p);var u=t("q1tI"),x=t("tMyG"),J=t("fOrg"),h=t("+KLJ"),v=t("VTBJ"),D=t("T2oS"),b=t("W9HT"),G=t("+L6B"),y=t("2/Rp"),S=t("ODXe"),g=t("I+Rq"),O=t("x+uP"),C=t("HaE+"),i=t("9kvl");function M(d,c){return m.apply(this,arguments)}function m(){return m=Object(C.a)(Object(O.a)().mark(function d(c,r){return Object(O.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(i.f)("/api/admin/reports/report",Object(v.a)({params:c,method:"GET",useCache:!1},r||{})));case 1:case"end":return o.stop()}},d)})),m.apply(this,arguments)}var n=t("nhC9"),T=t("Mo4S"),E=t("8j+T"),e=t("nKUr"),P={appendPadding:10,angleField:"value",colorField:"label",radius:.9,label:{type:"inner",offset:"-30%",content:function(c){var r=c.percent;return r>=.01?"".concat((r*100).toFixed(0),"%"):""},style:{fontSize:14,textAlign:"center"}},interactions:[{type:"element-active"}]},L=function(c){var r=c.metric,f=Object(u.useState)({mode:"init"}),o=Object(S.a)(f,2),a=o[0],j=o[1],R=Object(i.i)();Object(u.useEffect)(function(){j({mode:"loading"}),M({metric:r}).then(function(s){s.success?j({mode:"loaded",value:s.data}):j({mode:"error",error:s.message})}).catch(function(s){return j({mode:"error",error:s.toString()})})},[r]);var F=Object(u.useCallback)(function(){if(a.mode==="loaded"){var s={filename:r.split("\\").join("-"),fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!0,title:R.formatMessage({id:r.split("\\").pop()}),useTextFile:!1,useBom:!0,useKeysAsHeaders:!0},A=new E.ExportToCsv(s);A.generateCsv(a.value)}},[a]);return Object(e.jsxs)(n.a,{title:Object(e.jsx)(i.a,{id:r.split("\\").pop(),defaultMessage:r.split("\\").pop()}),extra:Object(e.jsxs)(y.a,{icon:Object(e.jsx)(T.a,{}),size:"small",onClick:function(){return F()},children:[" ",Object(e.jsx)(i.a,{id:"download"}),"\xA0","CSV"]}),headerBordered:!0,children:[a.mode==="loading"&&Object(e.jsx)(b.a,{}),a.mode==="loaded"&&Object(e.jsx)("div",{children:Object(e.jsx)(g.a,Object(v.a)(Object(v.a)({},P),{},{data:a.value}))}),a.mode==="error"&&Object(e.jsx)(h.a,{message:a.error,type:"error"})]})},l=L,H=p.default=function(){return Object(e.jsxs)(x.a,{children:[Object(e.jsxs)(n.a,{split:"vertical",children:[Object(e.jsx)(n.a,{colSpan:12,layout:"center",children:Object(e.jsx)(l,{metric:"EscolaLms\\Reports\\Metrics\\CoursesMoneySpentMetric"})}),Object(e.jsx)(n.a,{colSpan:12,layout:"center",children:Object(e.jsx)(l,{metric:"EscolaLms\\Reports\\Metrics\\CoursesPopularityMetric"})})]}),Object(e.jsxs)(n.a,{split:"vertical",children:[Object(e.jsx)(n.a,{colSpan:12,layout:"center",children:Object(e.jsx)(l,{metric:"EscolaLms\\Reports\\Metrics\\CoursesSecondsSpentMetric"})}),Object(e.jsx)(n.a,{colSpan:12,layout:"center",children:Object(e.jsx)(l,{metric:"EscolaLms\\Reports\\Metrics\\TutorsPopularityMetric"})})]})]})}}}]);
