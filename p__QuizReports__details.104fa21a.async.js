(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"3dVZ":function(ne,W,a){},LQ0p:function(ne,W,a){"use strict";a.r(W);var w=a("DYRE"),S=a("zeV3"),Z=a("fu2T"),V=a("gK9i"),z=a("tU7J"),B=a("wFql"),re=a("T2oS"),X=a("W9HT"),F=a("qLMh"),U=a("k1fw"),k=a("9og8"),K=a("tJVT"),i=a("q1tI"),le=a("Ty5D"),u=a("9kvl"),ie=a("nhC9"),oe=a("tMyG"),q=a("qRSf"),ce=a("bP8k"),g=a("gFTJ"),_=a("sWYD"),H=a("mGZj"),ee=a("Vpfc"),e=a("nKUr"),J=function(d){var t,c,n=d.data;return Object(e.jsxs)(S.b,{direction:"vertical",children:[Object(e.jsx)(B.a.Text,{strong:!0,children:Object(e.jsx)(u.a,{id:"details",defaultMessage:"Details"})}),Object(e.jsxs)(g.b,{style:{width:"100%"},bordered:!0,children:[Object(e.jsx)(g.b.Item,{span:3,label:Object(e.jsx)(u.a,{id:"ID",defaultMessage:"ID"}),children:n.id}),Object(e.jsx)(g.b.Item,{span:1.5,label:Object(e.jsx)(u.a,{id:"student",defaultMessage:"Student"}),children:Object(e.jsx)(ee.a,{type:"EscolaLms\\Core\\Models\\User",type_id:n.user_id,text:n!=null&&(t=n.user)!==null&&t!==void 0&&t.first_name&&n!==null&&n!==void 0&&(c=n.user)!==null&&c!==void 0&&c.last_name?"".concat(n.user.first_name," ").concat(n.user.last_name):void 0})}),Object(e.jsx)(g.b.Item,{span:1.5,label:Object(e.jsx)(u.a,{id:"gift_quiz",defaultMessage:"GIFT Quiz"}),children:Object(e.jsx)(ee.a,{type:"EscolaLms\\TopicTypeGift\\Models\\GiftQuiz",type_id:n.topic_gift_quiz_id})}),Object(e.jsx)(g.b.Item,{span:1.5,label:Object(e.jsx)(u.a,{id:"started_at",defaultMessage:"Started at Date"}),children:Object(_.a)(new Date(n.started_at),H.a)}),Object(e.jsx)(g.b.Item,{span:1.5,label:Object(e.jsx)(u.a,{id:"end_at",defaultMessage:"End at Date"}),children:n.end_at?Object(_.a)(new Date(n.end_at),H.a):"-"}),Object(e.jsx)(g.b.Item,{span:1.5,label:Object(e.jsx)(u.a,{id:"result_score",defaultMessage:"Result score"}),children:typeof n.result_score=="number"?n.result_score:"-"}),Object(e.jsx)(g.b.Item,{span:1.5,label:Object(e.jsx)(u.a,{id:"max_score",defaultMessage:"Max score"}),children:n.max_score})]})]})},te=J,L=a("/y+f"),be=[L.e.MULTIPLE_CHOICE,L.e.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS],de=function(d){var t=d.question;return Object(e.jsxs)(g.b,{column:2,labelStyle:{fontWeight:"bold"},children:[Object(e.jsx)(g.b.Item,{label:Object(e.jsx)(u.a,{id:"ID",defaultMessage:"ID"}),children:t.id}),Object(e.jsx)(g.b.Item,{label:Object(e.jsx)(u.a,{id:"type",defaultMessage:"Type"}),children:Object(e.jsx)(u.a,{id:"gift_type.".concat(t.type)})}),t.title&&Object(e.jsx)(g.b.Item,{label:Object(e.jsx)(u.a,{id:"title",defaultMessage:"Title"}),children:t.title}),Object(e.jsx)(g.b.Item,{label:Object(e.jsx)(u.a,{id:"possible_score",defaultMessage:"Possible score"}),children:t.score}),be.includes(t.type)&&Object(e.jsx)(g.b.Item,{label:Object(e.jsx)(u.a,{id:"possible_answers",defaultMessage:"Possible answers"}),children:t.options.answers.join(", ")}),t.type===L.e.TRUE_FALSE&&Object(e.jsx)(g.b.Item,{label:Object(e.jsx)(u.a,{id:"possible_answers",defaultMessage:"Possible answers"}),children:Object(e.jsx)(u.a,{id:"possible_true_false",defaultMessage:"True, False"})}),t.type===L.e.MATCHING&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(g.b.Item,{label:Object(e.jsx)(u.a,{id:"matching_questions",defaultMessage:"Matching questions"}),children:t.options.sub_questions.join(", ")}),Object(e.jsx)(g.b.Item,{label:Object(e.jsx)(u.a,{id:"matching_answers",defaultMessage:"Matching answers"}),children:t.options.sub_answers.join(", ")})]})]})},ae=de,ue=a("PpiC"),ve=a("5Dmo"),pe=a("3S7+"),me=a("+L6B"),se=a("2/Rp"),je=a("G3dp"),Oe=a("+caW"),A=a("Qurx"),h=function(d){var t=d.answer,c=d.onClose,n=d.onSuccess,j=d.onError,O=Object(i.useCallback)(function(){var E=Object(k.a)(Object(F.a)().mark(function M(N){var P;return Object(F.a)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if((t==null?void 0:t.id)!==void 0){C.next=2;break}return C.abrupt("return");case 2:return C.prev=2,C.next=5,Object(q.i)(t.id,N);case 5:if(P=C.sent,P.success){C.next=9;break}return j==null||j(P.errors),C.abrupt("return");case 9:n==null||n(P.data),C.next=15;break;case 12:C.prev=12,C.t0=C.catch(2),j==null||j(C.t0);case 15:case"end":return C.stop()}},M,null,[[2,12]])}));return function(M){return E.apply(this,arguments)}}(),[t==null?void 0:t.id]),y=Object(i.useMemo)(function(){return{score:t==null?void 0:t.score}},[t==null?void 0:t.score]);return Object(e.jsx)(Oe.a,{visible:!!t,initialValues:y,onVisibleChange:function(M){return!M&&(c==null?void 0:c())},onFinish:O,title:Object(e.jsx)(u.a,{id:"edit_score"}),drawerProps:{width:378,destroyOnClose:!0},children:Object(e.jsx)(A.a,{name:"score",label:Object(e.jsx)(u.a,{id:"student_score"}),required:!0,rules:[{required:!0,message:Object(e.jsx)(u.a,{id:"field_required"})}]})})},x=["refreshData"],l=function(d){var t=d.children,c=d.openEditScoreFactory,n=d.answer;return Object(e.jsxs)(g.b,{column:2,labelStyle:{fontWeight:"bold"},children:[Object(e.jsx)(g.b.Item,{label:Object(e.jsxs)(S.b,{align:"center",children:[Object(e.jsx)(u.a,{id:"student_score",defaultMessage:"Student score"}),Object(e.jsx)(pe.a,{title:Object(e.jsx)(u.a,{id:"edit_score"}),children:Object(e.jsx)(se.a,{type:"text",style:{width:22,height:22},icon:Object(e.jsx)(je.a,{}),onClick:c(n)})})]}),children:n.score}),Object(e.jsx)(g.b.Item,{contentStyle:{display:"flex",gap:"10px",flexWrap:"wrap"},label:Object(e.jsx)(u.a,{id:"student_answer",defaultMessage:"Student answer"}),children:t})]})};function s(o){return typeof(o==null?void 0:o.text)=="string"}function b(o){return Array.isArray(o==null?void 0:o.multiple)}function v(o){return typeof(o==null?void 0:o.matching)=="object"}function p(o){return typeof(o==null?void 0:o.numeric)=="number"}function r(o){return typeof(o==null?void 0:o.bool)=="boolean"}var f=function(d){var t=d.answerObj,c=d.openEditScoreFactory;if(!t)return Object(e.jsx)(B.a.Paragraph,{style:{fontStyle:"italic"},children:Object(e.jsx)(u.a,{id:"student_didnt_answer",defaultMessage:"Student didn't answer this question"})});if(s(t.answer))return Object(e.jsx)(l,{openEditScoreFactory:c,answer:t,children:t.answer.text});if(b(t.answer))return Object(e.jsx)(l,{openEditScoreFactory:c,answer:t,children:t.answer.multiple.join(", ")});if(v(t.answer)){var n=Object.entries(t.answer.matching).map(function(j){var O=Object(K.a)(j,2),y=O[0],E=O[1];return"".concat(y," - ").concat(E!=null?E:"")});return Object(e.jsx)(l,{openEditScoreFactory:c,answer:t,children:n.map(function(j){return Object(e.jsx)(B.a.Text,{style:{width:"max-content"},children:j},j)})})}return p(t.answer)?Object(e.jsx)(l,{openEditScoreFactory:c,answer:t,children:t.answer.numeric}):r(t.answer)?Object(e.jsx)(l,{openEditScoreFactory:c,answer:t,children:t.answer.bool?Object(e.jsx)(u.a,{id:"true_answer",defaultMessage:"True"}):Object(e.jsx)(u.a,{id:"false_answer",defaultMessage:"False"})}):Object(e.jsx)("pre",{children:"answer type not supported"})},m=function(d){var t=d.refreshData,c=Object(ue.a)(d,x),n=Object(i.useState)(),j=Object(K.a)(n,2),O=j[0],y=j[1],E=Object(i.useCallback)(function(P){return function(){return y(P)}},[]),M=Object(i.useCallback)(function(){return y(void 0)},[]),N=Object(i.useCallback)(function(){t(),M()},[]);return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(f,Object(U.a)(Object(U.a)({},c),{},{openEditScoreFactory:E})),Object(e.jsx)(h,{answer:O,onSuccess:N,onClose:M})]})},I=m;function R(){var o=Object(le.l)(),d=o.reportId,t=Object(i.useState)(),c=Object(K.a)(t,2),n=c[0],j=c[1],O=Object(i.useState)(),y=Object(K.a)(O,2),E=y[0],M=y[1],N=Object(i.useState)(!1),P=Object(K.a)(N,2),T=P[0],C=P[1],Y=Object(i.useCallback)(Object(k.a)(Object(F.a)().mark(function fe(){var G;return Object(F.a)().wrap(function(Q){for(;;)switch(Q.prev=Q.next){case 0:if(d){Q.next=2;break}return Q.abrupt("return");case 2:return C(!0),Q.prev=3,Q.next=6,Object(q.e)(d);case 6:G=Q.sent,G.success?j(G.data):M(G.errors),Q.next=13;break;case 10:Q.prev=10,Q.t0=Q.catch(3),M(function(he){return Object(U.a)(Object(U.a)({},he),{},{message:["Error during fetching occurred!",Q.t0]})});case 13:return Q.prev=13,C(!1),Q.finish(13);case 16:case"end":return Q.stop()}},fe,null,[[3,10,13,16]])})),[d]);return Object(i.useEffect)(function(){Y()},[Y]),{data:n,error:E,loading:T,fetchQuizAttempt:Y}}var D=function(){var d=R(),t=d.data,c=d.error,n=d.loading,j=d.fetchQuizAttempt;return Object(e.jsx)(oe.a,{title:Object(e.jsx)(u.a,{id:"quiz_report_details",defaultMessage:"Quiz Report Details"}),children:Object(e.jsxs)(ie.a,{bodyStyle:{display:"flex",flexDirection:"column",gap:"20px"},children:[!t&&n&&Object(e.jsx)(X.a,{}),!t&&c&&Object(e.jsx)("pre",{children:JSON.stringify(c)}),t&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(te,{data:t}),!!t.questions.length&&Object(e.jsxs)(S.b,{direction:"vertical",children:[Object(e.jsx)(B.a.Text,{strong:!0,children:Object(e.jsx)(u.a,{id:"questions",defaultMessage:"Questions"})}),Object(e.jsx)(V.a,{style:{width:"100%"},children:t.questions.map(function(O){return Object(e.jsxs)(V.a.Panel,{header:O.question,children:[Object(e.jsx)(ae,{question:O}),Object(e.jsx)(I,{refreshData:j,answerObj:t==null?void 0:t.answers.find(function(y){return y.topic_gift_question_id===O.id})})]},O.id)})})]})]})]})})},$=W.default=D},fu2T:function(ne,W,a){"use strict";var w=a("EFp3"),S=a.n(w),Z=a("3dVZ"),V=a.n(Z)},gK9i:function(ne,W,a){"use strict";var w=a("wx14"),S=a("rePB"),Z=a("UESt"),V=a("TSYQ"),z=a.n(V),B=a("KQm4"),re=a("1OyB"),X=a("vuIU"),F=a("Ji7U"),U=a("LK+K"),k=a("U8pU"),K=a("Zm9Q"),i=a("q1tI"),le=a("Gytx"),u=a.n(le),ie=a("Ff2n"),oe=a("8XRh"),q=a("ODXe"),ce=i.forwardRef(function(A,h){var x,l=A.prefixCls,s=A.forceRender,b=A.className,v=A.style,p=A.children,r=A.isActive,f=A.role,m=i.useState(r||s),I=Object(q.a)(m,2),R=I[0],D=I[1];return i.useEffect(function(){(s||r)&&D(!0)},[s,r]),R?i.createElement("div",{ref:h,className:z()("".concat(l,"-content"),(x={},Object(S.a)(x,"".concat(l,"-content-active"),r),Object(S.a)(x,"".concat(l,"-content-inactive"),!r),x),b),style:v,role:f},i.createElement("div",{className:"".concat(l,"-content-box")},p)):null});ce.displayName="PanelContent";var g=ce,_=["className","id","style","prefixCls","headerClass","children","isActive","destroyInactivePanel","accordion","forceRender","openMotion","extra","collapsible"],H=function(A){Object(F.a)(x,A);var h=Object(U.a)(x);function x(){var l;Object(re.a)(this,x);for(var s=arguments.length,b=new Array(s),v=0;v<s;v++)b[v]=arguments[v];return l=h.call.apply(h,[this].concat(b)),l.onItemClick=function(){var p=l.props,r=p.onItemClick,f=p.panelKey;typeof r=="function"&&r(f)},l.handleKeyPress=function(p){(p.key==="Enter"||p.keyCode===13||p.which===13)&&l.onItemClick()},l.renderIcon=function(){var p=l.props,r=p.showArrow,f=p.expandIcon,m=p.prefixCls,I=p.collapsible;if(!r)return null;var R=typeof f=="function"?f(l.props):i.createElement("i",{className:"arrow"});return R&&i.createElement("div",{className:"".concat(m,"-expand-icon"),onClick:I==="header"||I==="icon"?l.onItemClick:null},R)},l.renderTitle=function(){var p=l.props,r=p.header,f=p.prefixCls,m=p.collapsible;return i.createElement("span",{className:"".concat(f,"-header-text"),onClick:m==="header"?l.onItemClick:null},r)},l}return Object(X.a)(x,[{key:"shouldComponentUpdate",value:function(s){return!u()(this.props,s)}},{key:"render",value:function(){var s,b,v=this.props,p=v.className,r=v.id,f=v.style,m=v.prefixCls,I=v.headerClass,R=v.children,D=v.isActive,$=v.destroyInactivePanel,o=v.accordion,d=v.forceRender,t=v.openMotion,c=v.extra,n=v.collapsible,j=Object(ie.a)(v,_),O=n==="disabled",y=n==="header",E=n==="icon",M=z()((s={},Object(S.a)(s,"".concat(m,"-item"),!0),Object(S.a)(s,"".concat(m,"-item-active"),D),Object(S.a)(s,"".concat(m,"-item-disabled"),O),s),p),N=z()("".concat(m,"-header"),(b={},Object(S.a)(b,I,I),Object(S.a)(b,"".concat(m,"-header-collapsible-only"),y),Object(S.a)(b,"".concat(m,"-icon-collapsible-only"),E),b)),P={className:N,"aria-expanded":D,"aria-disabled":O,onKeyPress:this.handleKeyPress};!y&&!E&&(P.onClick=this.onItemClick,P.role=o?"tab":"button",P.tabIndex=O?-1:0);var T=c!=null&&typeof c!="boolean";return delete j.header,delete j.panelKey,delete j.onItemClick,delete j.showArrow,delete j.expandIcon,i.createElement("div",Object(w.a)({},j,{className:M,style:f,id:r}),i.createElement("div",P,this.renderIcon(),this.renderTitle(),T&&i.createElement("div",{className:"".concat(m,"-extra")},c)),i.createElement(oe.default,Object(w.a)({visible:D,leavedClassName:"".concat(m,"-content-hidden")},t,{forceRender:d,removeOnLeave:$}),function(C,Y){var fe=C.className,G=C.style;return i.createElement(g,{ref:Y,prefixCls:m,className:fe,style:G,isActive:D,forceRender:d,role:o?"tabpanel":null},R)}))}}]),x}(i.Component);H.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var ee=H;function e(A){var h=A;if(!Array.isArray(h)){var x=Object(k.a)(h);h=x==="number"||x==="string"?[h]:[]}return h.map(function(l){return String(l)})}var J=function(A){Object(F.a)(x,A);var h=Object(U.a)(x);function x(l){var s;Object(re.a)(this,x),s=h.call(this,l),s.onClickItem=function(r){var f=s.state.activeKey;if(s.props.accordion)f=f[0]===r?[]:[r];else{f=Object(B.a)(f);var m=f.indexOf(r),I=m>-1;I?f.splice(m,1):f.push(r)}s.setActiveKey(f)},s.getNewChild=function(r,f){if(!r)return null;var m=s.state.activeKey,I=s.props,R=I.prefixCls,D=I.openMotion,$=I.accordion,o=I.destroyInactivePanel,d=I.expandIcon,t=I.collapsible,c=r.key||String(f),n=r.props,j=n.header,O=n.headerClass,y=n.destroyInactivePanel,E=n.collapsible,M=!1;$?M=m[0]===c:M=m.indexOf(c)>-1;var N=E!=null?E:t,P={key:c,panelKey:c,header:j,headerClass:O,isActive:M,prefixCls:R,destroyInactivePanel:y!=null?y:o,openMotion:D,accordion:$,children:r.props.children,onItemClick:N==="disabled"?null:s.onClickItem,expandIcon:d,collapsible:N};return typeof r.type=="string"?r:(Object.keys(P).forEach(function(T){typeof P[T]=="undefined"&&delete P[T]}),i.cloneElement(r,P))},s.getItems=function(){var r=s.props.children;return Object(K.a)(r).map(s.getNewChild)},s.setActiveKey=function(r){"activeKey"in s.props||s.setState({activeKey:r}),s.props.onChange(s.props.accordion?r[0]:r)};var b=l.activeKey,v=l.defaultActiveKey,p=v;return"activeKey"in l&&(p=b),s.state={activeKey:e(p)},s}return Object(X.a)(x,[{key:"shouldComponentUpdate",value:function(s,b){return!u()(this.props,s)||!u()(this.state,b)}},{key:"render",value:function(){var s,b=this.props,v=b.prefixCls,p=b.className,r=b.style,f=b.accordion,m=z()((s={},Object(S.a)(s,v,!0),Object(S.a)(s,p,!!p),s));return i.createElement("div",{className:m,style:r,role:f?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(s){var b={};return"activeKey"in s&&(b.activeKey=e(s.activeKey)),b}}]),x}(i.Component);J.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},J.Panel=ee;var te=J,L=te,be=te.Panel,de=a("bT9E"),ae=a("H84U"),ue=a("EXcs"),ve=a("0n0R"),pe=function(h){var x=i.useContext(ae.b),l=x.getPrefixCls,s=h.prefixCls,b=h.className,v=b===void 0?"":b,p=h.showArrow,r=p===void 0?!0:p,f=l("collapse",s),m=z()(Object(S.a)({},"".concat(f,"-no-arrow"),!r),v);return i.createElement(L.Panel,Object(w.a)({},h,{prefixCls:f,className:m}))},me=pe,se=function(h){var x=i.useContext(ae.b),l=x.getPrefixCls,s=x.direction,b=h.prefixCls,v=h.className,p=v===void 0?"":v,r=h.bordered,f=r===void 0?!0:r,m=h.ghost,I=h.expandIconPosition,R=I===void 0?"start":I,D=l("collapse",b),$=i.useMemo(function(){return R==="left"?"start":R==="right"?"end":R},[R]),o=function(){var j=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},O=h.expandIcon,y=O?O(j):i.createElement(Z.a,{rotate:j.isActive?90:void 0});return Object(ve.a)(y,function(){return{className:z()(y.props.className,"".concat(D,"-arrow"))}})},d=z()("".concat(D,"-icon-position-").concat($),Object(S.a)(Object(S.a)(Object(S.a)({},"".concat(D,"-borderless"),!f),"".concat(D,"-rtl"),s==="rtl"),"".concat(D,"-ghost"),!!m),p),t=Object(w.a)(Object(w.a)({},ue.a),{motionAppear:!1,leavedClassName:"".concat(D,"-content-hidden")}),c=function(){var j=h.children;return Object(K.a)(j).map(function(O,y){var E;if((E=O.props)===null||E===void 0?void 0:E.disabled){var M=O.key||String(y),N=O.props,P=N.disabled,T=N.collapsible,C=Object(w.a)(Object(w.a)({},Object(de.a)(O.props,["disabled"])),{key:M,collapsible:T!=null?T:P?"disabled":void 0});return Object(ve.a)(O,C)}return O})};return i.createElement(L,Object(w.a)({openMotion:t},h,{expandIcon:o,prefixCls:D,className:d}),c())};se.Panel=me;var je=se,Oe=W.a=je}}]);

//# sourceMappingURL=p__QuizReports__details.104fa21a.async.js.map