(window.webpackJsonp=window.webpackJsonp||[]).push([[18],{"5YLw":function(L,E,e){"use strict";var _=e("DBJ/"),p=e("q1tI"),M=e.n(p),d=e("nKUr"),I=e.n(d),O=function(b){var f=b.onSuccess,i=b.onError;return Object(d.jsx)(_.a,{url:"/api/admin/hh5p/content/upload",name:"h5p_file",accept:".h5p",onChange:function(j){j.file.status==="done"&&j.file.response&&f(j.file.response),j.file.status==="error"&&i()}})};E.a=O},"DBJ/":function(L,E,e){"use strict";var _=e("k1fw"),p=e("y8nQ"),M=e("Vl3Y"),d=e("etVw"),I=e("9kvl"),O=e("qFDU"),h=e("nKUr"),b=e.n(h);function f(i){var v=i.onChange,j=i.onUpload,D=i.url,g=i.name,n=i.extra,s=i.accept,l=i.data,o=i.wrapInForm,c=o===void 0?!0:o,P=i.title,K=i.formProps,U=Object(I.j)();return l&&l[g]&&delete l[g],Object(h.jsx)(O.a,{condition:c,wrap:function(A){return Object(h.jsx)(M.a,Object(_.a)(Object(_.a)({},K),{},{children:A}))},children:Object(h.jsx)(d.a,{title:P||" ".concat(U.formatMessage({id:"upload_click_here"})),placeholder:U.formatMessage({id:"upload_click_here"}),onChange:function(A){v&&v(A),A.file.status==="done"&&j&&j(A.file.response)},label:Object(h.jsx)(I.a,{id:"upload"}),max:2,fieldProps:{data:l,accept:s,name:g,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(D),extra:n})})}E.a=f},Unir:function(L,E,e){"use strict";e.r(E);var _=e("P2fV"),p=e("NJEC"),M=e("5Dmo"),d=e("3S7+"),I=e("+L6B"),O=e("2/Rp"),h=e("qLMh"),b=e("miYZ"),f=e("tsqr"),i=e("9og8"),v=e("tJVT"),j=e("xvlK"),D=e("q1tI"),g=e.n(D),n=e("9kvl"),s=e("55Ip"),l=e("tMyG"),o=e("Qiat"),c=e("nzng"),P=e("G3dp"),K=e("/MfK"),U=e("2PG1"),y=e("4KAj"),A=e("5YLw"),t=e("nKUr"),F=e.n(t),S=function(){var H=Object(D.useState)(!1),B=Object(v.a)(H,2),w=B[0],C=B[1],x=Object(D.useRef)(),G=Object(n.j)(),$=Object(D.useCallback)(function(){var m=Object(i.a)(Object(h.a)().mark(function r(a){var T,R;return Object(h.a)().wrap(function(u){for(;;)switch(u.prev=u.next){case 0:return C(!0),T=f.b.loading(Object(t.jsx)(n.a,{id:"loading",defaultMessage:"loading"})),u.prev=2,u.next=5,Object(c.e)(a);case 5:return T(),f.b.success(Object(t.jsx)(n.a,{id:"success",defaultMessage:"success"})),C(!1),(R=x.current)===null||R===void 0||R.reload(),u.abrupt("return",!0);case 12:return u.prev=12,u.t0=u.catch(2),T(),f.b.error(Object(t.jsx)(n.a,{id:"error",defaultMessage:"error"})),C(!1),u.abrupt("return",!1);case 18:case"end":return u.stop()}},r,null,[[2,12]])}));return function(r){return m.apply(this,arguments)}}(),[x]),z=[{title:Object(t.jsx)(n.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",sorter:!1,search:!1},{title:Object(t.jsx)(n.a,{id:"newH5P",defaultMessage:"newH5P"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(A.a,{onSuccess:function(){x.current&&x.current.reload(),f.b.success(Object(t.jsx)(n.a,{id:"H5P_uploaded",defaultMessage:"new H5P uploaded successfully"}))},onError:function(){return f.b.error(Object(t.jsx)(n.a,{id:"error",defaultMessage:"error"}))}},"upload")]}},{title:Object(t.jsx)(n.a,{id:"title",defaultMessage:"title"}),dataIndex:"title",sorter:function(r,a){return r.title.length-a.title.length},render:function(r,a){return a.title}},{title:Object(t.jsx)(n.a,{id:"library",defaultMessage:"library"}),dataIndex:"library",sorter:function(r,a){return r.library.title.length-a.library.title.length},search:!1,render:function(r,a){return a.library.title}},{title:Object(t.jsx)(n.a,{id:"library_id",defaultMessage:"library_id"}),dataIndex:"library_id",sorter:function(r,a){return r.library.id-a.library.id},render:function(r,a){return a.library.id}},{title:Object(t.jsx)(n.a,{id:"count_h5p",defaultMessage:"count_h5p"}),dataIndex:"count_h5p",sorter:function(r,a){return r.count_h5p-a.count_h5p},search:!1,render:function(r,a){return a.count_h5p}},{title:Object(t.jsx)(n.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",render:function(r,a){return[Object(t.jsx)(s.a,{to:"/courses/h5ps/".concat(a.id),children:Object(t.jsx)(d.a,{title:Object(t.jsx)(n.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(O.a,{type:"primary",icon:Object(t.jsx)(P.a,{})})})},"edit"),Object(t.jsx)(p.a,{disabled:a.count_h5p!==0,title:Object(t.jsx)(n.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return a.id&&$(a.id)},okText:Object(t.jsx)(n.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(n.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(d.a,{title:Object(t.jsx)(n.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(O.a,{disabled:a.count_h5p!==0,type:"primary",icon:Object(t.jsx)(K.a,{}),danger:!0})})},"delete"),Object(t.jsx)(s.a,{to:"/h5ps/preview/".concat(a.id),children:Object(t.jsx)(d.a,{title:Object(t.jsx)(n.a,{id:"preview",defaultMessage:"preview"}),children:Object(t.jsx)(O.a,{icon:Object(t.jsx)(U.a,{})})})},"preview"),Object(t.jsx)("a",{href:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/admin/hh5p/content/").concat(a.id,"/export"),download:!0,children:Object(t.jsx)(d.a,{title:Object(t.jsx)(n.a,{id:"export",defaultMessage:"export"}),children:Object(t.jsx)(O.a,{icon:Object(t.jsx)(y.a,{})})})},"export")]}}];return Object(t.jsx)(l.a,{children:Object(t.jsx)(o.a,{loading:w,headerTitle:G.formatMessage({id:"H5Ps",defaultMessage:"H5Ps List"}),actionRef:x,rowKey:"id",search:{},toolBarRender:function(){return[Object(t.jsx)(s.a,{to:"/courses/h5ps/new",children:Object(t.jsxs)(O.a,{type:"primary",children:[Object(t.jsx)(j.a,{})," ",Object(t.jsx)(n.a,{id:"new",defaultMessage:"new"})]},"primary")},"new")]},request:function(r){var a=r.pageSize,T=r.current,R=r.title,W=r.library_id;return C(!0),Object(c.d)({title:R,library_id:W,pageSize:a,current:T}).then(function(u){return C(!1),u.success?{data:u.data,total:u.meta.total,success:!0}:[]})},columns:z})})};E.default=S},nzng:function(L,E,e){"use strict";e.d(E,"d",function(){return I}),e.d(E,"c",function(){return h}),e.d(E,"b",function(){return f}),e.d(E,"e",function(){return v}),e.d(E,"a",function(){return D});var _=e("qLMh"),p=e("k1fw"),M=e("9og8"),d=e("9kvl");function I(n,s){return O.apply(this,arguments)}function O(){return O=Object(M.a)(Object(_.a)().mark(function n(s,l){return Object(_.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",Object(d.g)("/api/admin/hh5p/content",Object(p.a)({method:"GET",useCache:!1,params:Object(p.a)(Object(p.a)({},s),{},{per_page:s.pageSize,page:s.current})},l||{})));case 1:case"end":return c.stop()}},n)})),O.apply(this,arguments)}function h(n,s){return b.apply(this,arguments)}function b(){return b=Object(M.a)(Object(_.a)().mark(function n(s,l){return Object(_.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",Object(d.g)("/api/admin/hh5p/content/".concat(s),Object(p.a)({method:"GET",useCache:!1},l||{})));case 1:case"end":return c.stop()}},n)})),b.apply(this,arguments)}function f(n,s,l){return i.apply(this,arguments)}function i(){return i=Object(M.a)(Object(_.a)().mark(function n(s,l,o){return Object(_.a)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:return P.abrupt("return",Object(d.g)(l?"/api/admin/hh5p/content/".concat(l):"/api/admin/hh5p/content",Object(p.a)({method:"POST",headers:{"Content-Type":"application/json"},data:s,useCache:!1},o||{})));case 1:case"end":return P.stop()}},n)})),i.apply(this,arguments)}function v(n){return j.apply(this,arguments)}function j(){return j=Object(M.a)(Object(_.a)().mark(function n(s){return Object(_.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(d.g)("/api/admin/hh5p/content/".concat(s),{method:"DELETE"}));case 1:case"end":return o.stop()}},n)})),j.apply(this,arguments)}function D(n){return g.apply(this,arguments)}function g(){return g=Object(M.a)(Object(_.a)().mark(function n(s){return Object(_.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(d.g)("/api/admin/hh5p/content?per_page=0",Object(p.a)({method:"GET",useCache:!1},s||{})));case 1:case"end":return o.stop()}},n)})),g.apply(this,arguments)}}}]);
