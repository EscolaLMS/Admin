(window.webpackJsonp=window.webpackJsonp||[]).push([[25],{"/y+f":function(X,j,e){"use strict";e.d(j,"c",function(){return i}),e.d(j,"a",function(){return O}),e.d(j,"b",function(){return B});var i;(function(l){l.Unselected="",l.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",l.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",l.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",l.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",l.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",l.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",l.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",l.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco"})(i||(i={}));var o;(function(l){l.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",l.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(o||(o={}));var d;(function(l){l.draft="draft",l.published="published",l.archived="archived"})(d||(d={}));var O;(function(l){l.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",l.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",l.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(O||(O={}));var B;(function(l){l.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(B||(B={}));var v;(function(l){l.cart_fixed="cart_fixed",l.cart_percent="cart_percent",l.product_fixed="product_fixed",l.product_percent="product_percent"})(v||(v={}))},"0eZe":function(X,j,e){"use strict";var i=e("14J3"),o=e("BMrR"),d=e("jCWc"),O=e("kPKH"),B=e("+BJd"),v=e("mr32"),l=e("oBTY"),T=e("5NDa"),F=e("5rEg"),h=e("T2oS"),S=e("W9HT"),g=e("miYZ"),A=e("tsqr"),m=e("qLMh"),c=e("k1fw"),y=e("9og8"),E=e("tJVT"),u=e("q1tI"),b=e("VMEa"),U=e("Qurx"),N=e("5qq5"),L=e("F/zT"),s=e("FJDo"),r=e("nhC9"),a=e("9kvl"),f=e("vzes"),n=e("DVQu"),_=e("Gn8c"),x=e("TWax"),Pe=e("90Xc"),Te=e("5Dmo"),ue=e("3S7+"),Ce=e("+L6B"),w=e("2/Rp"),ne=e("0WSk"),$=e("Qiat"),M=e("/MfK"),t=e("nKUr"),V=[{title:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:Object(t.jsx)(a.a,{id:"email",defaultMessage:"email"}),dataIndex:"email"}],C=function(I){var R=I.id,pe=Object(a.j)(),z=Object(u.useRef)(),xe=Object(u.useState)(!1),K=Object(E.a)(xe,2),de=K[0],q=K[1],ae=b.a.useForm(),G=Object(E.a)(ae,1),Ee=G[0],he=Object(u.useCallback)(function(){var Q=Object(y.a)(Object(m.a)().mark(function me(H){var W;return Object(m.a)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return q(!0),D.next=3,Object(n.d)(Number(R),{user_id:H.user_id});case 3:Ee.resetFields(),(W=z.current)===null||W===void 0||W.reload(),q(!1);case 6:case"end":return D.stop()}},me)}));return function(me){return Q.apply(this,arguments)}}(),[R]),P=Object(u.useCallback)(function(){var Q=Object(y.a)(Object(m.a)().mark(function me(H){var W;return Object(m.a)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return q(!0),D.next=3,Object(n.e)(Number(R),{user_id:H});case 3:(W=z.current)===null||W===void 0||W.reload(),q(!1);case 5:case"end":return D.stop()}},me)}));return function(me){return Q.apply(this,arguments)}}(),[R]);return Object(t.jsxs)(u.Fragment,{children:[Object(t.jsx)(b.a,{layout:"inline",onFinish:he,form:Ee,labelWrap:!0,children:Object(t.jsx)(b.a.Group,{children:Object(t.jsx)(b.a.Item,{name:"user_id",label:Object(t.jsx)(a.a,{id:"users"}),valuePropName:"value",children:Object(t.jsx)(ne.a,{})})})}),Object(t.jsx)($.a,{defaultSize:"small",loading:de,search:!1,headerTitle:pe.formatMessage({id:"users",defaultMessage:"Users"}),actionRef:z,rowKey:"id",request:Object(y.a)(Object(m.a)().mark(function Q(){return Object(m.a)().wrap(function(H){for(;;)switch(H.prev=H.next){case 0:return q(!0),H.abrupt("return",Object(n.c)(Number(R)).then(function(W){return q(!1),W.success&&W.data.users?{data:W.data.users,total:W.data.users.length,success:!0}:W.success?[]:{data:[],total:0,success:!1}}));case 2:case"end":return H.stop()}},Q)})),columns:[].concat(V,[{title:Object(t.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(me,H){return[Object(t.jsx)(ue.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(w.a,{type:"primary",icon:Object(t.jsx)(M.a,{}),danger:!0,onClick:function(){return P(H.id)}})},"delete")]}}])})]})},k=C,ee=e("5RzD"),De=e("rnuo"),Se=e("c+yx"),ce=e("hd5d"),we=e("DYRE"),Fe=e("zeV3"),We=e("rWUb"),Ge=e("OaEy"),Re=e("2fM7"),Be=function(I){var R=I.value,pe=I.onChange,z=I.multiple,xe=z===void 0?!1:z,K=I.params,de=Object(u.useState)([]),q=Object(E.a)(de,2),ae=q[0],G=q[1],Ee=Object(u.useState)(!1),he=Object(E.a)(Ee,2),P=he[0],Q=he[1],me=Object(u.useState)([]),H=Object(E.a)(me,2),W=H[0],Me=H[1],D=Object(u.useRef)(),Ve=Object(u.useCallback)(function(){Q(!0),D.current&&D.current.abort(),D.current=new AbortController,Object(We.e)(K,{signal:D.current.signal}).then(function(Y){Y.success&&G(Y.data),Q(!1)}).catch(function(){return Q(!1)})},[]);return Object(u.useEffect)(function(){var Y=new AbortController;if(R){var Ae=Array.isArray(R)?R:[R],ve=Ae.map(function(ge){return typeof ge=="object"?Number(ge.id):Number(ge)});Me(ve)}return function(){Y.abort()}},[R]),Object(t.jsx)(Re.a,{onFocus:function(){return Ve()},allowClear:!0,style:{width:"100%",minWidth:"400px"},value:W,onChange:pe,mode:xe?"multiple":void 0,showSearch:!0,placeholder:Object(t.jsx)(a.a,{id:"select_template",defaultMessage:"Select a template"}),optionFilterProp:"children",filterOption:function(Ae,ve){if(ve&&ve.children){var ge;return(ve==null||(ge=ve.children)===null||ge===void 0?void 0:ge.toString().toLowerCase().indexOf(Ae&&Ae.toLowerCase()||""))>=0}return!1},notFoundContent:P?Object(t.jsx)(S.a,{size:"small"}):null,children:ae.map(function(Y){return Object(t.jsxs)(Re.a.Option,{value:Y.id,children:[Y.name," ",Object(t.jsxs)("small",{children:[Object(t.jsx)(a.a,{id:Y.channel.split("\\").pop()}),":",Y.event&&Object(t.jsx)(a.a,{id:Y.event.split("\\").pop()})]})]},Y.id)})})},Ke=Be,$e=e("/y+f"),je=function(I){var R=I.productId,pe=Object(u.useState)(!1),z=Object(E.a)(pe,2),xe=z[0],K=z[1],de=Object(u.useState)(),q=Object(E.a)(de,2),ae=q[0],G=q[1],Ee=Object(a.j)(),he=Object(u.useCallback)(function(){K(!0),typeof ae=="number"&&Object(We.g)(Number(ae),R).then(function(P){P.success?A.b.success(P.message):A.b.error(P.message)}).catch(function(P){return A.b.error(P.toString())}).finally(function(){return K(!1)})},[ae,R]);return Object(t.jsxs)(Fe.b,{children:[Object(t.jsx)(Be,{params:{event:$e.b.ManuallyTriggeredEvent},multiple:!1,value:ae,onChange:function(Q){return G(Q)}}),Object(t.jsx)(ue.a,{title:Ee.formatMessage({id:"generate_pdf_for_products_tooltip"}),children:Object(t.jsx)(w.a,{loading:xe,onClick:function(){return he()},disabled:!ae,children:Object(t.jsx)(a.a,{id:"generate"})})})]})},te=je,oe=e("qSko"),se=function(I){return I.map(function(R){return{class:R.productable_type,id:Number(R.productable_id),name:R.name,quantity:R.quantity}})},Oe=function(I){var R=Array.isArray(I)?I:[I],pe=R.map(function(z){return typeof z=="object"?z:{id:parseInt(z.split(":")[1]),class:z.split(":")[0],name:z.split(":")[2]}});return pe},be=function(I){var R=I.tab,pe=R===void 0?"attributes":R,z=I.onTabChange,xe=I.id,K=I.productable,de=I.onProductSaved,q=I.type,ae=q===void 0?"card":q,G=Object(a.j)(),Ee=Object(u.useState)(xe),he=Object(E.a)(Ee,2),P=he[0],Q=he[1],me=Object(u.useState)([]),H=Object(E.a)(me,2),W=H[0],Me=H[1],D=Object(u.useMemo)(function(){return P==="new"},[P]),Ve=Object(u.useState)(!0),Y=Object(E.a)(Ve,2),Ae=Y[0],ve=Y[1],ge=Object(u.useState)(null),ze=Object(E.a)(ge,2),Je=ze[0],Xe=ze[1],ke=Object(u.useState)({}),qe=Object(E.a)(ke,2),et=qe[1],tt=Object(u.useCallback)(function(){return et({})},[]),at=b.a.useForm(),rt=Object(E.a)(at,1),ye=rt[0],nt=Object(u.useState)(!1),Qe=Object(E.a)(nt,2),He=Qe[0],Ye=Qe[1];Object(u.useEffect)(function(){K&&K.class_id&&K.class_type&&(Object(n.f)({productable_id:Number(K.class_id),productable_type:K.class_type}).then(function(J){J.success&&Q(J.data.id)}).catch(function(){console.log("err"),Q("new")}),Me([{class:K.class_type,id:Number(K.class_id),name:K.name}]),ye.setFieldsValue({productables:[{class:K.class_type,id:K.class_id,name:K.name}]}))},[K]);var st=Object(u.useCallback)(Object(y.a)(Object(m.a)().mark(function J(){var p,ie,Ie,_e,re,Ue,Z;return Object(m.a)().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:if(!(P&&P!=="new")){Le.next=5;break}return Le.next=3,Object(n.c)(Number(P));case 3:p=Le.sent,p.success&&(re=Object(c.a)(Object(c.a)({},p.data),{},{categories:(ie=p.data.categories)===null||ie===void 0?void 0:ie.map(Se.a),tags:(Ie=p.data.tags)===null||Ie===void 0?void 0:Ie.map(function(ut){return Object(Se.f)(ut)}),productables:p.data.productables?se(p.data.productables):[]}),p.data&&p!==null&&p!==void 0&&(_e=p.data)!==null&&_e!==void 0&&_e.productables&&Xe(p==null||(Ue=p.data)===null||Ue===void 0||(Z=Ue.productables[0])===null||Z===void 0?void 0:Z.productable_type),Me(se(p.data.productables)),ye.setFieldsValue(re),Ye(p.data.type==="bundle"));case 5:ve(!1);case 6:case"end":return Le.stop()}},J)})),[P]);Object(u.useEffect)(function(){P&&st()},[P]);var Ne=Object(u.useMemo)(function(){return{onValuesChange:function(p){p.type&&Ye(p.type==="bundle")},onFinish:function(){var J=Object(y.a)(Object(m.a)().mark(function ie(Ie){var _e,re;return Object(m.a)().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:if(_e=Object(c.a)(Object(c.a)({},Ie),{},{productables:W?Oe(W):void 0}),!D){Z.next=8;break}return Z.next=4,Object(n.a)(_e);case 4:re=Z.sent,re.success&&(de&&de(re.data),Q(re.data.id),ye.setFieldsValue(re.data)),Z.next=12;break;case 8:return Z.next=10,Object(n.i)(Number(P),_e);case 10:re=Z.sent,re.success&&de&&de(re.data);case 12:A.b.success(re.message);case 13:case"end":return Z.stop()}},ie)}));function p(ie){return J.apply(this,arguments)}return p}()}},[P,de,W]);return Ae?Object(t.jsx)(S.a,{}):Object(t.jsxs)(r.a,{title:ae==="line"?Object(t.jsx)(a.a,{id:"product_widget_title",defaultMessage:"Product Attibutes"}):null,tooltip:ae==="line"?Object(t.jsx)(a.a,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,subTitle:ae==="line"?Object(t.jsx)(a.a,{id:"product_widget_tooltip",defaultMessage:"All attributes below are related only to product"}):null,tabs:{type:ae,activeKey:pe,onChange:function(p){return z(p)}},children:[Object(t.jsxs)(r.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"attributes"}),children:[Object(t.jsxs)(b.a,Object(c.a)(Object(c.a)({},Ne),{},{form:ye,children:[Object(t.jsxs)(b.a.Group,{children:[Object(t.jsx)(U.a,{width:"md",name:"name",initialValue:D&&K?K.name:void 0,label:Object(t.jsx)(a.a,{id:"name"}),tooltip:Object(t.jsx)(a.a,{id:"name_tooltip"}),placeholder:G.formatMessage({id:"name",defaultMessage:"name"}),required:!0}),Object(t.jsx)(b.a.Item,{shouldUpdate:!0,style:{minWidth:104*3},name:"productables",tooltip:Object(t.jsx)(a.a,{id:"productables_tooltip"}),label:Object(t.jsx)(a.a,{id:"productables"}),valuePropName:"value",children:Object(t.jsx)(f.a,{multiple:He,disabled:K!==void 0,onChange:function(p){return Me(Oe(p))}})})]}),Object(t.jsxs)(b.a.Group,{children:[Object(t.jsx)(N.a.Group,{disabled:K!==void 0,initialValue:P&&P!=="new"?void 0:"single",rules:[{required:!0}],name:"type",label:Object(t.jsx)(a.a,{id:"type"}),options:[{label:G.formatMessage({id:"single",defaultMessage:"single"}),value:"single"},{label:G.formatMessage({id:"bundle",defaultMessage:"bundle"}),value:"bundle"}]}),Object(t.jsx)(L.a,{name:"purchasable",label:Object(t.jsx)(a.a,{id:"purchasable"}),tooltip:Object(t.jsx)(a.a,{id:"purchasable_tooltip"})})]}),Object(t.jsxs)(b.a.Group,{title:Object(t.jsx)(a.a,{id:"prices"}),children:[Object(t.jsx)(s.a,{rules:[{required:!0}],width:"xs",name:"price",label:Object(t.jsx)(a.a,{id:"price"}),tooltip:Object(t.jsx)(a.a,{id:"price_tooltip"}),placeholder:G.formatMessage({id:"price",defaultMessage:"price"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(s.a,{rules:[{required:!0}],width:"xs",name:"tax_rate",label:Object(t.jsx)(a.a,{id:"tax_rate"}),tooltip:Object(t.jsx)(a.a,{id:"tax_rate_tooltip"}),placeholder:G.formatMessage({id:"tax_rate",defaultMessage:"tax_rate"}),initialValue:D?23:void 0,min:0,max:100,fieldProps:{step:1,formatter:function(p){return"".concat(p,"%")},parser:function(p){return p?p.replace("%",""):""}}}),Object(t.jsx)(b.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"price_brutto"}),tooltip:Object(t.jsx)(a.a,{id:"price_brutto_tooltip"}),style:{width:104},children:function(p){return Object(t.jsx)(F.a,{disabled:!0,readOnly:!0,value:p.getFieldValue("price")?Math.round(parseInt(p.getFieldValue("price"))*(1+parseInt(p.getFieldValue("tax_rate"))/100)):void 0})}}),Object(t.jsx)(b.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"tax_value"}),tooltip:Object(t.jsx)(a.a,{id:"tax_value_tooltip"}),children:function(p){return Object(t.jsx)(F.a,{disabled:!0,readOnly:!0,value:p.getFieldValue("price")?Math.round(parseInt(p.getFieldValue("price"))*(parseInt(p.getFieldValue("tax_rate"))/100)):void 0})}}),Object(t.jsx)(s.a,{width:"xs",name:"price_old",label:Object(t.jsx)(a.a,{id:"price_old"}),tooltip:Object(t.jsx)(a.a,{id:"price_old_tooltip"}),placeholder:G.formatMessage({id:"price",defaultMessage:"price"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(s.a,{initialValue:D?null:void 0,width:"xs",name:"extra_fees",label:Object(t.jsx)(a.a,{id:"extra_fees"}),tooltip:Object(t.jsx)(a.a,{id:"extra_fees_tooltip"}),placeholder:G.formatMessage({id:"extra_fees",defaultMessage:"extra_fees"}),min:0,max:99999,fieldProps:{step:1}})]}),Object(t.jsxs)(b.a.Group,{title:Object(t.jsx)(a.a,{id:"additional_fields"}),children:[Object(t.jsx)(U.a,{width:"md",name:"duration",label:Object(t.jsx)(a.a,{id:"duration"}),tooltip:Object(t.jsx)(a.a,{id:"duration_tooltip"}),placeholder:G.formatMessage({id:"duration",defaultMessage:"duration"})}),Object(t.jsx)(s.a,{initialValue:D?null:void 0,width:"xs",name:"limit_per_user",label:Object(t.jsx)(a.a,{id:"limit_per_user"}),tooltip:Object(t.jsx)(a.a,{id:"limit_per_user_tooltip"}),placeholder:G.formatMessage({id:"limit_per_user",defaultMessage:"limit_per_user"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(s.a,{initialValue:D?null:void 0,width:"xs",name:"limit_total",label:Object(t.jsx)(a.a,{id:"limit_total"}),tooltip:Object(t.jsx)(a.a,{id:"limit_total_tooltip"}),placeholder:G.formatMessage({id:"limit_total",defaultMessage:"limit_total"}),min:0,max:99999,fieldProps:{step:1}}),Object(t.jsx)(U.a,{width:"md",name:"teaser_url",label:Object(t.jsx)(a.a,{id:"teaser_url"}),tooltip:Object(t.jsx)(a.a,{id:"teaser_url_tooltip"}),placeholder:G.formatMessage({id:"teaser_url",defaultMessage:"teaser_url"})})]})," ",Object(t.jsx)(b.a.Item,{shouldUpdate:!0,name:"related_products",label:Object(t.jsx)(a.a,{id:"related_products"}),valuePropName:"value",children:Je&&Object(t.jsx)(oe.a,{type:Je,multiple:!0})}),!D&&Object(t.jsx)(b.a.Item,{style:{width:"100%"},name:"description",label:Object(t.jsx)(a.a,{id:"description"}),tooltip:Object(t.jsx)(a.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(t.jsx)(ce.a,{directory:"products/".concat(P,"/wysiwyg")})}),W.length>0&&He&&Object(t.jsx)($.a,{headerTitle:G.formatMessage({id:"selected_products",defaultMessage:"Selected Products"}),pagination:!1,search:!1,dataSource:Object(l.a)(W),rowKey:"id",columns:[{title:Object(t.jsx)(a.a,{id:"id",defaultMessage:"id"}),dataIndex:"id",width:"10%"},{title:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name"},{title:Object(t.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"class",render:function(p,ie){return Object(t.jsx)(v.a,{children:Object(t.jsx)(a.a,{id:ie.class.split("\\").pop(),defaultMessage:ie.class.split("\\").pop()})})}},{title:Object(t.jsx)(a.a,{id:"quantity",defaultMessage:"quantity"}),dataIndex:"quantity",width:"10%",render:function(p,ie){return Object(t.jsx)(F.a,{min:1,type:"number",value:ie.quantity||1,onChange:function(_e){var re=_e.target.value,Ue=W.findIndex(function(Ze){return Ze.id===ie.id}),Z=W;Z[Ue].quantity=Number(re),Me(Z),tt()}})}}]})]}))," "]},"attributes"),!D&&Object(t.jsx)(r.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"cart_media",defaultMessage:"Cart Media"}),children:Object(t.jsx)(b.a,Object(c.a)(Object(c.a)({},Ne),{},{form:ye,children:Object(t.jsx)(_.a,{folder:"products/".concat(P),wrapInForm:!1,title:"image",action:"/api/admin/products/".concat(P,"/?_method=PUT"),src_name:"poster_url",form_name:"poster",getUploadedSrcField:function(p){return p.file.response.data.poster_url},setPath:function(p){return ye.setFieldsValue(p)}})}))},"media"),!D&&Object(t.jsx)(r.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"product_categories_and_tags",defaultMessage:"Product Categories & Tags"}),children:Object(t.jsx)(b.a,Object(c.a)(Object(c.a)({},Ne),{},{form:ye,children:Object(t.jsxs)(o.a,{children:[Object(t.jsx)(O.a,{span:12,children:Object(t.jsx)(b.a.Item,{label:Object(t.jsx)(a.a,{id:"categories"}),name:"categories",valuePropName:"value",children:Object(t.jsx)(x.a,{})})}),Object(t.jsx)(O.a,{span:12,children:Object(t.jsx)(b.a.Item,{label:Object(t.jsx)(a.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(t.jsx)(De.a,{})})})]})}))},"categories"),!D&&Object(t.jsx)(r.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"users_attached",defaultMessage:"Users Attached"}),children:Object(t.jsx)(o.a,{children:Object(t.jsx)(O.a,{span:24,children:P&&Object(t.jsx)(k,{id:P})})})},"users")," ",!D&&Object(t.jsx)(r.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"user_submission",defaultMessage:"Users Attached without Account"}),children:Object(t.jsx)(o.a,{children:Object(t.jsx)(O.a,{span:12,children:P&&Object(t.jsx)(ee.a,{id:Number(P),type:"EscolaLms\\Cart\\Models\\Product"})})})},"user_submission"),!D&&P&&Object(t.jsx)(r.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"template"}),children:Object(t.jsx)(o.a,{children:Object(t.jsx)(O.a,{span:12,children:Object(t.jsx)(te,{productId:Number(P)})})})},"template")]})},le=j.a=be},"25Dr":function(X,j,e){"use strict";e.r(j);var i=e("tMyG"),o=e("Ty5D"),d=e("9kvl"),O=e("Ug4X"),B=e.n(O),v=e("0eZe"),l=e("nKUr"),T=e.n(l),F=function(){var S=Object(o.l)(),g=S.id,A=S.tab,m=A===void 0?"attributes":A,c=Object(d.j)(),y=g==="new";return Object(l.jsx)(i.a,{title:y?Object(l.jsx)(d.a,{id:"product"}):Object(l.jsx)(d.a,{id:"product.edit"}),header:{breadcrumb:{routes:[{path:"other/products",breadcrumbName:c.formatMessage({id:"menu.Other activities.Products"})},{path:String(g),breadcrumbName:c.formatMessage({id:"form"})},{path:"/",breadcrumbName:c.formatMessage({id:g==="new"?"new":"edit"})},{path:String(m),breadcrumbName:c.formatMessage({id:String(m)})}]}},children:g&&Object(l.jsx)(v.a,{id:g,tab:m,onTabChange:function(u){return d.e.push("/other/products/".concat(g,"/").concat(u))},onProductSaved:function(u){return y?d.e.push("/other/products/".concat(u.id)):d.e.push("/other/products/".concat(u.id,"/").concat(m))}})})};j.default=F},"5RzD":function(X,j,e){"use strict";var i=e("miYZ"),o=e("tsqr"),d=e("k1fw"),O=e("P2fV"),B=e("NJEC"),v=e("5Dmo"),l=e("3S7+"),T=e("+L6B"),F=e("2/Rp"),h=e("qLMh"),S=e("9og8"),g=e("tJVT"),A=e("q1tI"),m=e("VMEa"),c=e("9kvl"),y=e("Qiat"),E=e("xvlK"),u=e("/MfK");function b($,M){return U.apply(this,arguments)}function U(){return U=Object(S.a)(Object(h.a)().mark(function $(M,t){return Object(h.a)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",Object(c.g)("/api/admin/user-submissions",Object(d.a)({method:"GET",params:Object(d.a)(Object(d.a)({},M),{},{per_page:M&&M.pageSize,page:M&&M.current})},t||{})));case 1:case"end":return C.stop()}},$)})),U.apply(this,arguments)}function N($,M){return L.apply(this,arguments)}function L(){return L=Object(S.a)(Object(h.a)().mark(function $(M,t){return Object(h.a)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",Object(c.g)("/api/admin/user-submissions",Object(d.a)({method:"POST",headers:{"Content-Type":"application/json"},data:M},t||{})));case 1:case"end":return C.stop()}},$)})),L.apply(this,arguments)}function s($,M){return r.apply(this,arguments)}function r(){return r=Object(S.a)(Object(h.a)().mark(function $(M,t){return Object(h.a)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",Object(c.g)("/api/admin/user-submissions/".concat(M),Object(d.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},t||{})));case 1:case"end":return C.stop()}},$)})),r.apply(this,arguments)}var a=e("y8nQ"),f=e("Vl3Y"),n=e("rmhi"),_=e("Qurx"),x=e("nKUr"),Pe=function(M){var t=Object(c.j)(),V=M.visible,C=M.onVisibleChange,k=M.onFinish,ee=M.id,De=f.a.useForm(),Se=Object(g.a)(De,1),ce=Se[0];return Object(x.jsx)(n.a,{form:ce,title:t.formatMessage({id:"email",defaultMessage:"email"}),width:"30vw",visible:V,onVisibleChange:C,onFinish:k,children:Object(x.jsx)(m.a.Group,{children:Object(x.jsx)(_.a,{width:"md",name:"email",label:Object(x.jsx)(c.a,{id:"email"}),tooltip:Object(x.jsx)(c.a,{id:"email_tooltip"}),placeholder:t.formatMessage({id:"email",defaultMessage:"email"}),required:!0})})})},Te=Pe,ue=e("MvUh"),Ce=[{title:Object(x.jsx)(c.a,{id:"id",defaultMessage:"id"}),dataIndex:"id",hideInSearch:!0},{title:Object(x.jsx)(c.a,{id:"email",defaultMessage:"email"}),dataIndex:"email",hideInSearch:!1,width:"70%"},{title:Object(x.jsx)(c.a,{id:"status",defaultMessage:"status"}),dataIndex:"status",hideInSearch:!0}],w=function(M){var t=M.id,V=M.type,C=Object(c.j)(),k=Object(A.useRef)(),ee=Object(A.useState)(!1),De=Object(g.a)(ee,2),Se=De[0],ce=De[1],we=m.a.useForm(),Fe=Object(g.a)(we,1),We=Fe[0],Ge=Object(A.useState)(!1),Re=Object(g.a)(Ge,2),Be=Re[0],Ke=Re[1],$e=Object(A.useCallback)(function(){var je=Object(S.a)(Object(h.a)().mark(function te(oe){var se;return Object(h.a)().wrap(function(be){for(;;)switch(be.prev=be.next){case 0:return ce(!0),be.next=3,s(Number(oe));case 3:(se=k.current)===null||se===void 0||se.reload(),ce(!1);case 5:case"end":return be.stop()}},te)}));return function(te){return je.apply(this,arguments)}}(),[t,V]);return Object(x.jsxs)(A.Fragment,{children:[Object(x.jsx)(y.a,{defaultSize:"small",loading:Se,search:{},headerTitle:C.formatMessage({id:"user_submission",defaultMessage:"user_submission"}),actionRef:k,toolBarRender:function(){return[Object(x.jsxs)(F.a,{type:"primary",onClick:function(){return Ke(!0)},children:[Object(x.jsx)(E.a,{})," ",Object(x.jsx)(c.a,{id:"email_to_add",defaultMessage:"email_to_add"})]},"primary")]},rowKey:"id",request:function(){var je=Object(S.a)(Object(h.a)().mark(function te(oe){var se,Oe,be;return Object(h.a)().wrap(function(fe){for(;;)switch(fe.prev=fe.next){case 0:return se=oe.email,Oe=oe.pageSize,be=oe.current,ce(!0),fe.abrupt("return",b({email:se,pageSize:Oe,current:be,morphable_type:V,morphable_id:t}).then(function(I){return ce(!1),I.success?{data:I.data,total:I.data.length,success:!0}:I.success?[]:{data:[],total:0,success:!1}}));case 3:case"end":return fe.stop()}},te)}));return function(te){return je.apply(this,arguments)}}(),columns:[].concat(Ce,[{title:Object(x.jsx)(c.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(te,oe){return[Object(x.jsx)(B.a,{title:Object(x.jsx)(c.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return $e(oe.id)},okText:Object(x.jsx)(c.a,{id:"yes"}),cancelText:Object(x.jsx)(c.a,{id:"no"}),children:Object(x.jsx)(l.a,{title:Object(x.jsx)(c.a,{id:"delete",defaultMessage:"delete"}),children:Object(x.jsx)(F.a,{type:"primary",icon:Object(x.jsx)(u.a,{}),danger:!0})})},"delete")]}}])})," ",Object(x.jsx)(Te,{visible:Be,onVisibleChange:function(te){return te===!1&&Ke(!1)},onFinish:function(){var je=Object(S.a)(Object(h.a)().mark(function te(oe){var se,Oe;return Object(h.a)().wrap(function(le){for(;;)switch(le.prev=le.next){case 0:return ce(!0),le.prev=1,le.next=4,N(Object(d.a)(Object(d.a)({},oe),{},{morphable_id:t,morphable_type:V}));case 4:se=le.sent,se.success&&(We.resetFields(),(Oe=k.current)===null||Oe===void 0||Oe.reload(),ce(!1),Ke(!1)),le.next=13;break;case 8:le.prev=8,le.t0=le.catch(1),Ke(!1),o.b.error(Object(x.jsx)(c.a,{id:"error",defaultMessage:"error"})),ce(!1);case 13:case"end":return le.stop()}},te,null,[[1,8]])}));return function(te){return je.apply(this,arguments)}}()})]})},ne=j.a=w},"90Xc":function(X,j,e){},DVQu:function(X,j,e){"use strict";e.d(j,"h",function(){return B}),e.d(j,"a",function(){return l}),e.d(j,"c",function(){return F}),e.d(j,"i",function(){return S}),e.d(j,"b",function(){return A}),e.d(j,"g",function(){return c}),e.d(j,"f",function(){return E}),e.d(j,"d",function(){return b}),e.d(j,"e",function(){return N});var i=e("qLMh"),o=e("k1fw"),d=e("9og8"),O=e("9kvl");function B(s,r){return v.apply(this,arguments)}function v(){return v=Object(d.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/products",Object(o.a)({method:"GET",params:Object(o.a)(Object(o.a)({},r),{},{free:typeof r.free!="undefined"?r.free==="true"?1:0:void 0,per_page:r.pageSize,page:r.current})},a||{})));case 1:case"end":return n.stop()}},s)})),v.apply(this,arguments)}function l(s,r){return T.apply(this,arguments)}function T(){return T=Object(d.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/products",Object(o.a)({method:"POST",data:r},a||{})));case 1:case"end":return n.stop()}},s)})),T.apply(this,arguments)}function F(s,r){return h.apply(this,arguments)}function h(){return h=Object(d.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/products/".concat(r),Object(o.a)({method:"GET"},a||{})));case 1:case"end":return n.stop()}},s)})),h.apply(this,arguments)}function S(s,r,a){return g.apply(this,arguments)}function g(){return g=Object(d.a)(Object(i.a)().mark(function s(r,a,f){return Object(i.a)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(O.g)("/api/admin/products/".concat(r,"?_method=PUT"),Object(o.a)({method:"POST",data:a},f||{})));case 1:case"end":return _.stop()}},s)})),g.apply(this,arguments)}function A(s,r){return m.apply(this,arguments)}function m(){return m=Object(d.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/products/".concat(r),Object(o.a)({method:"DELETE"},a||{})));case 1:case"end":return n.stop()}},s)})),m.apply(this,arguments)}function c(s){return y.apply(this,arguments)}function y(){return y=Object(d.a)(Object(i.a)().mark(function s(r){return Object(i.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",Object(O.g)("/api/admin/productables",Object(o.a)({method:"GET"},r||{})));case 1:case"end":return f.stop()}},s)})),y.apply(this,arguments)}function E(s,r){return u.apply(this,arguments)}function u(){return u=Object(d.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/productables/product",Object(o.a)({method:"GET",params:r},a||{})));case 1:case"end":return n.stop()}},s)})),u.apply(this,arguments)}function b(s,r,a){return U.apply(this,arguments)}function U(){return U=Object(d.a)(Object(i.a)().mark(function s(r,a,f){return Object(i.a)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(O.g)("/api/admin/products/".concat(r,"/attach"),Object(o.a)({method:"POST",data:a},f||{})));case 1:case"end":return _.stop()}},s)})),U.apply(this,arguments)}function N(s,r,a){return L.apply(this,arguments)}function L(){return L=Object(d.a)(Object(i.a)().mark(function s(r,a,f){return Object(i.a)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(O.g)("/api/admin/products/".concat(r,"/detach"),Object(o.a)({method:"POST",data:a},f||{})));case 1:case"end":return _.stop()}},s)})),L.apply(this,arguments)}},MvUh:function(X,j,e){},TWax:function(X,j,e){"use strict";var i=e("ozfa"),o=e("MJZm"),d=e("T2oS"),O=e("W9HT"),B=e("tJVT"),v=e("q1tI"),l=e.n(v),T=e("JifO"),F=e("nKUr"),h=e.n(F),S=function A(m){return m.subcategories&&m.subcategories.length?{title:m.name,key:m.id,children:m.subcategories.map(function(c){return A(c)})}:{title:m.name,key:m.id}},g=function(m){var c=m.value,y=m.onChange,E=m.multiple,u=E===void 0?!0:E,b=Object(v.useState)([]),U=Object(B.a)(b,2),N=U[0],L=U[1];Object(v.useEffect)(function(){Object(T.c)().then(function(r){return L(r.data)})},[]);var s=Object(v.useMemo)(function(){return N.map(function(r){return S(r)})},[N]);return N.length===0?Object(F.jsx)(O.a,{}):Object(F.jsx)(o.a,{multiple:u,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,style:{width:"100%"},checkedKeys:c,onCheck:function(a){if(typeof a=="object"&&!Array.isArray(a)&&a.checked){var f=a.checked;return y&&Array.isArray(f)&&y(f)}},treeData:s,disabled:N.length===0})};j.a=g},Ug4X:function(X,j,e){},hd5d:function(X,j,e){"use strict";var i=e("qLMh"),o=e("9og8"),d=e("q1tI"),O=e.n(d),B=e("3Ef1"),v=e.n(B),l=e("BAh9"),T=e("vtG9"),F=e.n(T),h=e("9kvl"),S=e("nKUr"),g=e.n(S),A=function(c){var y=c.value,E=c.onChange,u=c.directory,b=u===void 0?"/wysiwyg":u,U=Object(h.j)();return Object(S.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(S.jsx)(v.a,{uploadImage:function(){var N=Object(o.a)(Object(i.a)().mark(function L(s){var r,a;return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(l.e)(s,b);case 2:if(r=n.sent,!r.success){n.next=6;break}return a=r.data[0].name.includes("/")?r.data[0].name:"".concat(b).concat(r.data[0].name),n.abrupt("return",Object(l.d)(a,1e3));case 6:throw new Error("Error while uploading");case 7:case"end":return n.stop()}},L)}));return function(L){return N.apply(this,arguments)}}(),defaultValue:y||"",onChange:function(L){return E&&E(L())},placeholder:U.formatMessage({id:"wysiwyg_placeholder"})})})};j.a=A},kMBS:function(X,j,e){"use strict";e.d(j,"a",function(){return B});var i=e("qLMh"),o=e("k1fw"),d=e("9og8"),O=e("9kvl");function B(l){return v.apply(this,arguments)}function v(){return v=Object(d.a)(Object(i.a)().mark(function l(T){return Object(i.a)().wrap(function(h){for(;;)switch(h.prev=h.next){case 0:return h.abrupt("return",Object(O.g)("/api/tags/unique",Object(o.a)({method:"GET",useCache:!1},T||{})));case 1:case"end":return h.stop()}},l)})),v.apply(this,arguments)}},qSko:function(X,j,e){"use strict";var i=e("OaEy"),o=e("2fM7"),d=e("T2oS"),O=e("W9HT"),B=e("tJVT"),v=e("q1tI"),l=e.n(v),T=e("DVQu"),F=e("9kvl"),h=e("nKUr"),S=e.n(h),g=function(m){var c=m.value,y=m.onChange,E=m.multiple,u=E===void 0?!1:E,b=m.type,U=Object(v.useState)([]),N=Object(B.a)(U,2),L=N[0],s=N[1],r=Object(v.useState)(!1),a=Object(B.a)(r,2),f=a[0],n=a[1],_=Object(v.useState)([]),x=Object(B.a)(_,2),Pe=x[0],Te=x[1],ue=Object(v.useRef)(),Ce=Object(v.useCallback)(function(){n(!0),ue.current&&ue.current.abort(),ue.current=new AbortController,Object(T.h)({productable_type:b},{signal:ue.current.signal}).then(function(w){w.success&&s(b?w.data.filter(function(ne){return ne.type==="single"&&ne.productables&&ne.productables[0].id}):w.data),n(!1)}).catch(function(){return n(!1)})},[]);return Object(v.useEffect)(function(){var w=new AbortController;if(c){var ne=Array.isArray(c)?c:[c],$=ne.map(function(M){return typeof M=="object"?Number(M.id):Number(M)});Te($)}return function(){w.abort()}},[c]),Object(h.jsx)(o.a,{onFocus:function(){return Ce()},allowClear:!0,style:{width:"100%",minWidth:"150px"},value:Pe,onChange:y,mode:u?"multiple":void 0,showSearch:!0,placeholder:Object(h.jsx)(F.a,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(ne,$){if($&&$.children){var M;return($==null||(M=$.children)===null||M===void 0?void 0:M.toString().toLowerCase().indexOf(ne&&ne.toLowerCase()||""))>=0}return!1},notFoundContent:f?Object(h.jsx)(O.a,{size:"small"}):null,children:L.map(function(w){return Object(h.jsx)(o.a.Option,{value:w.id,children:w.name},w.id)})})};j.a=g},rWUb:function(X,j,e){"use strict";e.d(j,"e",function(){return B}),e.d(j,"d",function(){return l}),e.d(j,"a",function(){return F}),e.d(j,"h",function(){return S}),e.d(j,"b",function(){return A}),e.d(j,"i",function(){return c}),e.d(j,"c",function(){return E}),e.d(j,"f",function(){return b}),e.d(j,"g",function(){return N});var i=e("qLMh"),o=e("k1fw"),d=e("9og8"),O=e("9kvl");function B(s,r){return v.apply(this,arguments)}function v(){return v=Object(d.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/templates",Object(o.a)({method:"GET",useCache:!1,params:Object(o.a)(Object(o.a)({},r),{},{per_page:r&&r.pageSize,page:r&&r.current})},a||{})));case 1:case"end":return n.stop()}},s)})),v.apply(this,arguments)}function l(s,r){return T.apply(this,arguments)}function T(){return T=Object(d.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/templates/".concat(r),Object(o.a)({method:"GET"},a||{})));case 1:case"end":return n.stop()}},s)})),T.apply(this,arguments)}function F(s,r){return h.apply(this,arguments)}function h(){return h=Object(d.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/templates",Object(o.a)({method:"POST",headers:{"Content-Type":"application/json"},data:r},a||{})));case 1:case"end":return n.stop()}},s)})),h.apply(this,arguments)}function S(s,r,a){return g.apply(this,arguments)}function g(){return g=Object(d.a)(Object(i.a)().mark(function s(r,a,f){return Object(i.a)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(O.g)("/api/admin/templates/".concat(r),Object(o.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:a},f||{})));case 1:case"end":return _.stop()}},s)})),g.apply(this,arguments)}function A(s,r){return m.apply(this,arguments)}function m(){return m=Object(d.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/templates/".concat(r),Object(o.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},a||{})));case 1:case"end":return n.stop()}},s)})),m.apply(this,arguments)}function c(s){return y.apply(this,arguments)}function y(){return y=Object(d.a)(Object(i.a)().mark(function s(r){return Object(i.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",Object(O.g)("/api/admin/templates/variables",Object(o.a)({method:"GET"},r||{})));case 1:case"end":return f.stop()}},s)})),y.apply(this,arguments)}function E(s,r){return u.apply(this,arguments)}function u(){return u=Object(d.a)(Object(i.a)().mark(function s(r,a){return Object(i.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(O.g)("/api/admin/templates/".concat(r,"/preview"),Object(o.a)({method:"GET"},a||{})));case 1:case"end":return n.stop()}},s)})),u.apply(this,arguments)}function b(s,r,a){return U.apply(this,arguments)}function U(){return U=Object(d.a)(Object(i.a)().mark(function s(r,a,f){return Object(i.a)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(O.g)("/api/admin/events/trigger-manually/".concat(r),Object(o.a)({method:"POST",headers:{"Content-Type":"application/json"},data:{users:a}},f||{})));case 1:case"end":return _.stop()}},s)})),U.apply(this,arguments)}function N(s,r,a){return L.apply(this,arguments)}function L(){return L=Object(d.a)(Object(i.a)().mark(function s(r,a,f){return Object(i.a)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(O.g)("/api/admin/products/".concat(a,"/trigger-event-manually/").concat(r),Object(o.a)({method:"POST",headers:{"Content-Type":"application/json"}},f||{})));case 1:case"end":return _.stop()}},s)})),L.apply(this,arguments)}},rnuo:function(X,j,e){"use strict";var i=e("tJVT"),o=e("OaEy"),d=e("2fM7"),O=e("q1tI"),B=e.n(O),v=e("kMBS"),l=e("nKUr"),T=e.n(l),F=d.a.Option,h=function(g){var A=g.value,m=g.onChange,c=Object(O.useState)([]),y=Object(i.a)(c,2),E=y[0],u=y[1];return Object(O.useEffect)(function(){Object(v.a)().then(function(b){return u(b.data)})},[]),Object(l.jsx)(d.a,{mode:"tags",showSearch:!0,style:{width:"100%"},placeholder:"Select a Tag",optionFilterProp:"children",onChange:m,value:A,children:E.map(function(b){return Object(l.jsx)(F,{value:b.title,children:b.title},b.title)})})};j.a=h},vtG9:function(X,j,e){},vzes:function(X,j,e){"use strict";var i=e("OaEy"),o=e("2fM7"),d=e("+BJd"),O=e("mr32"),B=e("T2oS"),v=e("W9HT"),l=e("tJVT"),T=e("q1tI"),F=e.n(T),h=e("9kvl"),S=e("DVQu"),g=e("nKUr"),A=e.n(g),m=function(u){return"".concat(u.productable_type,":").concat(u.productable_id,":").concat(u.name)},c=function(u){return"".concat(u.class,":").concat(u.id,":").concat(u.name)},y=function(u){var b=u.value,U=u.onChange,N=u.multiple,L=N===void 0?!1:N,s=u.disabled,r=s===void 0?!1:s,a=Object(T.useState)([]),f=Object(l.a)(a,2),n=f[0],_=f[1],x=Object(T.useState)(!1),Pe=Object(l.a)(x,2),Te=Pe[0],ue=Pe[1],Ce=Object(T.useState)([]),w=Object(l.a)(Ce,2),ne=w[0],$=w[1],M=Object(T.useRef)(),t=Object(T.useCallback)(function(){ue(!0),M.current&&M.current.abort(),M.current=new AbortController,Object(S.g)({signal:M.current.signal}).then(function(V){V.success&&_(V.data),ue(!1)}).catch(function(){return ue(!1)})},[]);return Object(T.useEffect)(function(){t()},[]),Object(T.useEffect)(function(){var V=new AbortController;if(b){var C=Array.isArray(b)?b:[b],k=C.map(function(ee){return typeof ee=="object"?c(ee):String(ee)});$(k)}return function(){V.abort()}},[b]),Object(g.jsx)(o.a,{disabled:r,allowClear:!0,style:{width:"100%",minWidth:"150px"},value:ne,onChange:U,mode:L?"multiple":void 0,showSearch:!0,placeholder:Object(g.jsx)(h.a,{id:"select_product",defaultMessage:"Select a product"}),optionFilterProp:"children",filterOption:function(C,k){if(k&&k.children){var ee;return(k==null||(ee=k.children)===null||ee===void 0?void 0:ee.toString().toLowerCase().indexOf(C&&C.toLowerCase()||""))>=0}return!1},notFoundContent:Te?Object(g.jsx)(v.a,{size:"small"}):null,children:n.map(function(V){var C=m(V);return Object(g.jsxs)(o.a.Option,{value:C,children:[Object(g.jsx)(O.a,{children:Object(g.jsx)(h.a,{id:V.productable_type.split("\\").pop(),defaultMessage:V.productable_type.split("\\").pop()})})," ",V.name," ",Object(g.jsxs)("small",{children:["id:",V.productable_id]})," "]},C)})})};j.a=y}}]);
