(window.webpackJsonp=window.webpackJsonp||[]).push([[26],{"3dVZ":function(ne,B,a){},LQ0p:function(ne,B,a){"use strict";a.r(B);var T=a("DYRE"),A=a("zeV3"),Z=a("fu2T"),H=a("gK9i"),K=a("tU7J"),G=a("wFql"),re=a("T2oS"),X=a("W9HT"),U=a("qLMh"),L=a("k1fw"),k=a("9og8"),F=a("tJVT"),i=a("q1tI"),le=a("Ty5D"),u=a("9kvl"),ie=a("nhC9"),oe=a("tMyG"),q=a("qRSf"),ce=a("bP8k"),g=a("gFTJ"),_=a("sWYD"),J=a("mGZj"),ee=a("Vpfc"),e=a("nKUr"),Y=function(d){var t,c,n=d.data;return Object(e.jsxs)(A.b,{direction:"vertical",children:[Object(e.jsx)(G.a.Text,{strong:!0,children:Object(e.jsx)(u.a,{id:"details",defaultMessage:"Details"})}),Object(e.jsxs)(g.b,{style:{width:"100%"},bordered:!0,children:[Object(e.jsx)(g.b.Item,{span:3,label:Object(e.jsx)(u.a,{id:"ID",defaultMessage:"ID"}),children:n.id}),Object(e.jsx)(g.b.Item,{span:1.5,label:Object(e.jsx)(u.a,{id:"student",defaultMessage:"Student"}),children:Object(e.jsx)(ee.a,{type:"EscolaLms\\Core\\Models\\User",type_id:n.user_id,text:n!=null&&(t=n.user)!==null&&t!==void 0&&t.first_name&&n!==null&&n!==void 0&&(c=n.user)!==null&&c!==void 0&&c.last_name?"".concat(n.user.first_name," ").concat(n.user.last_name):void 0})}),Object(e.jsx)(g.b.Item,{span:1.5,label:Object(e.jsx)(u.a,{id:"gift_quiz",defaultMessage:"GIFT Quiz"}),children:Object(e.jsx)(ee.a,{type:"EscolaLms\\TopicTypeGift\\Models\\GiftQuiz",type_id:n.topic_gift_quiz_id})}),Object(e.jsx)(g.b.Item,{span:1.5,label:Object(e.jsx)(u.a,{id:"started_at",defaultMessage:"Started at Date"}),children:Object(_.a)(new Date(n.started_at),J.a)}),Object(e.jsx)(g.b.Item,{span:1.5,label:Object(e.jsx)(u.a,{id:"end_at",defaultMessage:"End at Date"}),children:n.end_at?Object(_.a)(new Date(n.end_at),J.a):"-"}),Object(e.jsx)(g.b.Item,{span:1.5,label:Object(e.jsx)(u.a,{id:"result_score",defaultMessage:"Result score"}),children:typeof n.result_score=="number"?n.result_score:"-"}),Object(e.jsx)(g.b.Item,{span:1.5,label:Object(e.jsx)(u.a,{id:"max_score",defaultMessage:"Max score"}),children:n.max_score})]})]})},te=Y,$=a("/y+f"),be=[$.e.MULTIPLE_CHOICE,$.e.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS],de=function(d){var t=d.question;return Object(e.jsxs)(g.b,{column:2,labelStyle:{fontWeight:"bold"},children:[Object(e.jsx)(g.b.Item,{label:Object(e.jsx)(u.a,{id:"ID",defaultMessage:"ID"}),children:t.id}),Object(e.jsx)(g.b.Item,{label:Object(e.jsx)(u.a,{id:"type",defaultMessage:"Type"}),children:Object(e.jsx)(u.a,{id:"gift_type.".concat(t.type)})}),t.title&&Object(e.jsx)(g.b.Item,{label:Object(e.jsx)(u.a,{id:"title",defaultMessage:"Title"}),children:t.title}),Object(e.jsx)(g.b.Item,{label:Object(e.jsx)(u.a,{id:"possible_score",defaultMessage:"Possible score"}),children:t.score}),be.includes(t.type)&&Object(e.jsx)(g.b.Item,{label:Object(e.jsx)(u.a,{id:"possible_answers",defaultMessage:"Possible answers"}),children:t.options.answers.join(", ")}),t.type===$.e.TRUE_FALSE&&Object(e.jsx)(g.b.Item,{label:Object(e.jsx)(u.a,{id:"possible_answers",defaultMessage:"Possible answers"}),children:Object(e.jsx)(u.a,{id:"possible_true_false",defaultMessage:"True, False"})}),t.type===$.e.MATCHING&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(g.b.Item,{label:Object(e.jsx)(u.a,{id:"matching_questions",defaultMessage:"Matching questions"}),children:t.options.sub_questions.join(", ")}),Object(e.jsx)(g.b.Item,{label:Object(e.jsx)(u.a,{id:"matching_answers",defaultMessage:"Matching answers"}),children:t.options.sub_answers.join(", ")})]})]})},ae=de,ue=a("PpiC"),ve=a("5Dmo"),pe=a("3S7+"),me=a("+L6B"),se=a("2/Rp"),je=a("G3dp"),Oe=a("+caW"),D=a("Qurx"),h=function(d){var t=d.answer,c=d.onClose,n=d.onSuccess,O=d.onError,C=Object(i.useCallback)(function(){var I=Object(k.a)(Object(U.a)().mark(function S(w){var E;return Object(U.a)().wrap(function(y){for(;;)switch(y.prev=y.next){case 0:if((t==null?void 0:t.id)!==void 0){y.next=2;break}return y.abrupt("return");case 2:return y.prev=2,y.next=5,Object(q.i)(t.id,w);case 5:if(E=y.sent,E.success){y.next=9;break}return O==null||O(E.errors),y.abrupt("return");case 9:n==null||n(E.data),y.next=15;break;case 12:y.prev=12,y.t0=y.catch(2),O==null||O(y.t0);case 15:case"end":return y.stop()}},S,null,[[2,12]])}));return function(S){return I.apply(this,arguments)}}(),[t==null?void 0:t.id]),x=Object(i.useMemo)(function(){return{score:t==null?void 0:t.score}},[t==null?void 0:t.score]);return Object(e.jsx)(Oe.a,{visible:!!t,initialValues:x,onVisibleChange:function(S){return!S&&(c==null?void 0:c())},onFinish:C,title:Object(e.jsx)(u.a,{id:"edit_score"}),drawerProps:{width:378,destroyOnClose:!0},children:Object(e.jsx)(D.a,{name:"score",label:Object(e.jsx)(u.a,{id:"student_score"}),required:!0,rules:[{required:!0,message:Object(e.jsx)(u.a,{id:"field_required"})}]})})},f=["refreshData"],r=function(d){var t=d.children,c=d.openEditScoreFactory,n=d.answer;return Object(e.jsxs)(g.b,{column:2,labelStyle:{fontWeight:"bold"},children:[Object(e.jsx)(g.b.Item,{label:Object(e.jsxs)(A.b,{align:"center",children:[Object(e.jsx)(u.a,{id:"student_score",defaultMessage:"Student score"}),Object(e.jsx)(pe.a,{title:Object(e.jsx)(u.a,{id:"edit_score"}),children:Object(e.jsx)(se.a,{type:"text",style:{width:22,height:22},icon:Object(e.jsx)(je.a,{}),onClick:c(n)})})]}),children:n.score}),Object(e.jsx)(g.b.Item,{contentStyle:{display:"flex",gap:"10px",flexWrap:"wrap"},label:Object(e.jsx)(u.a,{id:"student_answer",defaultMessage:"Student answer"}),children:t})]})};function s(o){return typeof(o==null?void 0:o.text)=="string"}function b(o){return Array.isArray(o==null?void 0:o.multiple)}function p(o){return typeof(o==null?void 0:o.matching)=="object"}function v(o){return typeof(o==null?void 0:o.numeric)=="number"}function l(o){return typeof(o==null?void 0:o.bool)=="boolean"}var j=function(d){var t=d.answerObj,c=d.openEditScoreFactory;if(!t)return Object(e.jsx)(G.a.Paragraph,{style:{fontStyle:"italic"},children:Object(e.jsx)(u.a,{id:"student_didnt_answer",defaultMessage:"Student didn't answer this question"})});if(s(t.answer))return Object(e.jsx)(r,{openEditScoreFactory:c,answer:t,children:t.answer.text});if(b(t.answer))return Object(e.jsx)(r,{openEditScoreFactory:c,answer:t,children:t.answer.multiple.join(", ")});if(p(t.answer)){var n=Object.entries(t.answer.matching).map(function(O){var C=Object(F.a)(O,2),x=C[0],I=C[1];return"".concat(x," - ").concat(I!=null?I:"")});return Object(e.jsx)(r,{openEditScoreFactory:c,answer:t,children:n.map(function(O){return Object(e.jsx)(G.a.Text,{style:{width:"max-content"},children:O},O)})})}return v(t.answer)?Object(e.jsx)(r,{openEditScoreFactory:c,answer:t,children:t.answer.numeric}):l(t.answer)?Object(e.jsx)(r,{openEditScoreFactory:c,answer:t,children:t.answer.bool?Object(e.jsx)(u.a,{id:"true_answer",defaultMessage:"True"}):Object(e.jsx)(u.a,{id:"false_answer",defaultMessage:"False"})}):Object(e.jsx)("pre",{children:"answer type not supported"})},m=function(d){var t=d.refreshData,c=Object(ue.a)(d,f),n=Object(i.useState)(),O=Object(F.a)(n,2),C=O[0],x=O[1],I=Object(i.useCallback)(function(E){return function(){return x(E)}},[]),S=Object(i.useCallback)(function(){return x(void 0)},[]),w=Object(i.useCallback)(function(){t(),S()},[]);return Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(j,Object(L.a)(Object(L.a)({},c),{},{openEditScoreFactory:I})),Object(e.jsx)(h,{answer:C,onSuccess:w,onClose:S})]})},P=m;function Q(){var o=Object(le.l)(),d=o.reportId,t=Object(i.useState)(),c=Object(F.a)(t,2),n=c[0],O=c[1],C=Object(i.useState)(),x=Object(F.a)(C,2),I=x[0],S=x[1],w=Object(i.useState)(!1),E=Object(F.a)(w,2),z=E[0],y=E[1],W=Object(i.useCallback)(Object(k.a)(Object(U.a)().mark(function fe(){var V;return Object(U.a)().wrap(function(R){for(;;)switch(R.prev=R.next){case 0:if(d){R.next=2;break}return R.abrupt("return");case 2:return y(!0),R.prev=3,R.next=6,Object(q.e)(d);case 6:V=R.sent,V.success?O(V.data):S(V.errors),R.next=13;break;case 10:R.prev=10,R.t0=R.catch(3),S(function(he){return Object(L.a)(Object(L.a)({},he),{},{message:["Error during fetching occurred!",R.t0]})});case 13:return R.prev=13,y(!1),R.finish(13);case 16:case"end":return R.stop()}},fe,null,[[3,10,13,16]])})),[d]);return Object(i.useEffect)(function(){W()},[W]),{data:n,error:I,loading:z,fetchQuizAttempt:W}}var M=function(){var d=Q(),t=d.data,c=d.error,n=d.loading,O=d.fetchQuizAttempt;return Object(e.jsx)(oe.a,{title:Object(e.jsx)(u.a,{id:"quiz_report_details",defaultMessage:"Quiz Report Details"}),children:Object(e.jsxs)(ie.a,{bodyStyle:{display:"flex",flexDirection:"column",gap:"20px"},children:[!t&&n&&Object(e.jsx)(X.a,{}),!t&&c&&Object(e.jsx)("pre",{children:JSON.stringify(c)}),t&&Object(e.jsxs)(e.Fragment,{children:[Object(e.jsx)(te,{data:t}),!!t.questions.length&&Object(e.jsxs)(A.b,{direction:"vertical",children:[Object(e.jsx)(G.a.Text,{strong:!0,children:Object(e.jsx)(u.a,{id:"questions",defaultMessage:"Questions"})}),Object(e.jsx)(H.a,{style:{width:"100%"},children:t.questions.map(function(C){return Object(e.jsxs)(H.a.Panel,{header:C.question,children:[Object(e.jsx)(ae,{question:C}),Object(e.jsx)(P,{refreshData:O,answerObj:t==null?void 0:t.answers.find(function(x){return x.topic_gift_question_id===C.id})})]},C.id)})})]})]})]})})},N=B.default=M},fu2T:function(ne,B,a){"use strict";var T=a("EFp3"),A=a.n(T),Z=a("3dVZ"),H=a.n(Z)},gK9i:function(ne,B,a){"use strict";var T=a("wx14"),A=a("rePB"),Z=a("UESt"),H=a("TSYQ"),K=a.n(H),G=a("KQm4"),re=a("1OyB"),X=a("vuIU"),U=a("Ji7U"),L=a("LK+K"),k=a("U8pU"),F=a("Zm9Q"),i=a("q1tI"),le=a("Gytx"),u=a.n(le),ie=a("Ff2n"),oe=a("8XRh"),q=a("ODXe"),ce=i.forwardRef(function(D,h){var f,r=D.prefixCls,s=D.forceRender,b=D.className,p=D.style,v=D.children,l=D.isActive,j=D.role,m=i.useState(l||s),P=Object(q.a)(m,2),Q=P[0],M=P[1];return i.useEffect(function(){(s||l)&&M(!0)},[s,l]),Q?i.createElement("div",{ref:h,className:K()("".concat(r,"-content"),(f={},Object(A.a)(f,"".concat(r,"-content-active"),l),Object(A.a)(f,"".concat(r,"-content-inactive"),!l),f),b),style:p,role:j},i.createElement("div",{className:"".concat(r,"-content-box")},v)):null});ce.displayName="PanelContent";var g=ce,_=["className","id","style","prefixCls","headerClass","children","isActive","destroyInactivePanel","accordion","forceRender","openMotion","extra","collapsible"],J=function(D){Object(U.a)(f,D);var h=Object(L.a)(f);function f(){var r;Object(re.a)(this,f);for(var s=arguments.length,b=new Array(s),p=0;p<s;p++)b[p]=arguments[p];return r=h.call.apply(h,[this].concat(b)),r.onItemClick=function(){var v=r.props,l=v.onItemClick,j=v.panelKey;typeof l=="function"&&l(j)},r.handleKeyPress=function(v){(v.key==="Enter"||v.keyCode===13||v.which===13)&&r.onItemClick()},r.renderIcon=function(){var v=r.props,l=v.showArrow,j=v.expandIcon,m=v.prefixCls,P=v.collapsible;if(!l)return null;var Q=typeof j=="function"?j(r.props):i.createElement("i",{className:"arrow"});return Q&&i.createElement("div",{className:"".concat(m,"-expand-icon"),onClick:P==="header"||P==="icon"?r.onItemClick:null},Q)},r.renderTitle=function(){var v=r.props,l=v.header,j=v.prefixCls,m=v.collapsible;return i.createElement("span",{className:"".concat(j,"-header-text"),onClick:m==="header"?r.onItemClick:null},l)},r}return Object(X.a)(f,[{key:"shouldComponentUpdate",value:function(s){return!u()(this.props,s)}},{key:"render",value:function(){var s,b,p=this.props,v=p.className,l=p.id,j=p.style,m=p.prefixCls,P=p.headerClass,Q=p.children,M=p.isActive,N=p.destroyInactivePanel,o=p.accordion,d=p.forceRender,t=p.openMotion,c=p.extra,n=p.collapsible,O=Object(ie.a)(p,_),C=n==="disabled",x=n==="header",I=n==="icon",S=K()((s={},Object(A.a)(s,"".concat(m,"-item"),!0),Object(A.a)(s,"".concat(m,"-item-active"),M),Object(A.a)(s,"".concat(m,"-item-disabled"),C),s),v),w=K()("".concat(m,"-header"),(b={},Object(A.a)(b,P,P),Object(A.a)(b,"".concat(m,"-header-collapsible-only"),x),Object(A.a)(b,"".concat(m,"-icon-collapsible-only"),I),b)),E={className:w,"aria-expanded":M,"aria-disabled":C,onKeyPress:this.handleKeyPress};!x&&!I&&(E.onClick=this.onItemClick,E.role=o?"tab":"button",E.tabIndex=C?-1:0);var z=c!=null&&typeof c!="boolean";return delete O.header,delete O.panelKey,delete O.onItemClick,delete O.showArrow,delete O.expandIcon,i.createElement("div",Object(T.a)({},O,{className:S,style:j,id:l}),i.createElement("div",E,this.renderIcon(),this.renderTitle(),z&&i.createElement("div",{className:"".concat(m,"-extra")},c)),i.createElement(oe.default,Object(T.a)({visible:M,leavedClassName:"".concat(m,"-content-hidden")},t,{forceRender:d,removeOnLeave:N}),function(y,W){var fe=y.className,V=y.style;return i.createElement(g,{ref:W,prefixCls:m,className:fe,style:V,isActive:M,forceRender:d,role:o?"tabpanel":null},Q)}))}}]),f}(i.Component);J.defaultProps={showArrow:!0,isActive:!1,onItemClick:function(){},headerClass:"",forceRender:!1};var ee=J;function e(D){var h=D;if(!Array.isArray(h)){var f=Object(k.a)(h);h=f==="number"||f==="string"?[h]:[]}return h.map(function(r){return String(r)})}var Y=function(D){Object(U.a)(f,D);var h=Object(L.a)(f);function f(r){var s;Object(re.a)(this,f),s=h.call(this,r),s.onClickItem=function(l){var j=s.state.activeKey;if(s.props.accordion)j=j[0]===l?[]:[l];else{j=Object(G.a)(j);var m=j.indexOf(l),P=m>-1;P?j.splice(m,1):j.push(l)}s.setActiveKey(j)},s.getNewChild=function(l,j){if(!l)return null;var m=s.state.activeKey,P=s.props,Q=P.prefixCls,M=P.openMotion,N=P.accordion,o=P.destroyInactivePanel,d=P.expandIcon,t=P.collapsible,c=l.key||String(j),n=l.props,O=n.header,C=n.headerClass,x=n.destroyInactivePanel,I=n.collapsible,S=!1;N?S=m[0]===c:S=m.indexOf(c)>-1;var w=I!=null?I:t,E={key:c,panelKey:c,header:O,headerClass:C,isActive:S,prefixCls:Q,destroyInactivePanel:x!=null?x:o,openMotion:M,accordion:N,children:l.props.children,onItemClick:w==="disabled"?null:s.onClickItem,expandIcon:d,collapsible:w};return typeof l.type=="string"?l:(Object.keys(E).forEach(function(z){typeof E[z]=="undefined"&&delete E[z]}),i.cloneElement(l,E))},s.getItems=function(){var l=s.props.children;return Object(F.a)(l).map(s.getNewChild)},s.setActiveKey=function(l){"activeKey"in s.props||s.setState({activeKey:l}),s.props.onChange(s.props.accordion?l[0]:l)};var b=r.activeKey,p=r.defaultActiveKey,v=p;return"activeKey"in r&&(v=b),s.state={activeKey:e(v)},s}return Object(X.a)(f,[{key:"shouldComponentUpdate",value:function(s,b){return!u()(this.props,s)||!u()(this.state,b)}},{key:"render",value:function(){var s,b=this.props,p=b.prefixCls,v=b.className,l=b.style,j=b.accordion,m=K()((s={},Object(A.a)(s,p,!0),Object(A.a)(s,v,!!v),s));return i.createElement("div",{className:m,style:l,role:j?"tablist":null},this.getItems())}}],[{key:"getDerivedStateFromProps",value:function(s){var b={};return"activeKey"in s&&(b.activeKey=e(s.activeKey)),b}}]),f}(i.Component);Y.defaultProps={prefixCls:"rc-collapse",onChange:function(){},accordion:!1,destroyInactivePanel:!1},Y.Panel=ee;var te=Y,$=te,be=te.Panel,de=a("bT9E"),ae=a("H84U"),ue=a("EXcs"),ve=a("0n0R"),pe=function(h){var f=i.useContext(ae.b),r=f.getPrefixCls,s=h.prefixCls,b=h.className,p=b===void 0?"":b,v=h.showArrow,l=v===void 0?!0:v,j=r("collapse",s),m=K()(Object(A.a)({},"".concat(j,"-no-arrow"),!l),p);return i.createElement($.Panel,Object(T.a)({},h,{prefixCls:j,className:m}))},me=pe,se=function(h){var f,r=i.useContext(ae.b),s=r.getPrefixCls,b=r.direction,p=h.prefixCls,v=h.className,l=v===void 0?"":v,j=h.bordered,m=j===void 0?!0:j,P=h.ghost,Q=h.expandIconPosition,M=Q===void 0?"start":Q,N=s("collapse",p),o=i.useMemo(function(){return M==="left"?"start":M==="right"?"end":M},[M]),d=function(){var C=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},x=h.expandIcon,I=x?x(C):i.createElement(Z.a,{rotate:C.isActive?90:void 0});return Object(ve.a)(I,function(){return{className:K()(I.props.className,"".concat(N,"-arrow"))}})},t=K()("".concat(N,"-icon-position-").concat(o),(f={},Object(A.a)(f,"".concat(N,"-borderless"),!m),Object(A.a)(f,"".concat(N,"-rtl"),b==="rtl"),Object(A.a)(f,"".concat(N,"-ghost"),!!P),f),l),c=Object(T.a)(Object(T.a)({},ue.a),{motionAppear:!1,leavedClassName:"".concat(N,"-content-hidden")}),n=function(){var C=h.children;return Object(F.a)(C).map(function(x,I){var S;if((S=x.props)===null||S===void 0?void 0:S.disabled){var w=x.key||String(I),E=x.props,z=E.disabled,y=E.collapsible,W=Object(T.a)(Object(T.a)({},Object(de.a)(x.props,["disabled"])),{key:w,collapsible:y!=null?y:z?"disabled":void 0});return Object(ve.a)(x,W)}return x})};return i.createElement($,Object(T.a)({openMotion:c},h,{expandIcon:d,prefixCls:N,className:t}),n())};se.Panel=me;var je=se,Oe=B.a=je}}]);

//# sourceMappingURL=p__QuizReports__details.9be18257.async.js.map