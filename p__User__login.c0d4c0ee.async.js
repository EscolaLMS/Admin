(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{MZhU:function(S,b,e){S.exports={container:"container___3DGcF",lang:"lang___18BEt",content:"content___24x6E",top:"top___Kmd6o",header:"header___1kD8J",logo:"logo___2Fmyt",title:"title___3pcso",desc:"desc___2QZoR",main:"main___3ipCw",icon:"icon___P3cg6",other:"other___3uIfA",register:"register___3Mz8E",prefixIcon:"prefixIcon___Tvd5H"}},Qurx:function(S,b,e){"use strict";var w=e("q1tI"),M=e.n(w),T=e("/s86"),v=e("WFLz");function d(){return d=Object.assign||function(u){for(var l=1;l<arguments.length;l++){var f=arguments[l];for(var x in f)Object.prototype.hasOwnProperty.call(f,x)&&(u[x]=f[x])}return u},d.apply(this,arguments)}var p="text",E=Object(v.a)(function(u){var l=u.fieldProps,f=u.proFieldProps;return M.a.createElement(T.a,d({mode:"edit",valueType:p,fieldProps:l},f))},{valueType:p}),U=Object(v.a)(function(u){var l=u.fieldProps,f=u.proFieldProps;return M.a.createElement(T.a,d({mode:"edit",valueType:"password",fieldProps:l},f))},{valueType:p}),m=E;m.Password=U,b.a=m},Z1IU:function(S,b,e){"use strict";e.r(b);var w=e("/zsF"),M=e("PArb"),T=e("miYZ"),v=e("tsqr"),d=e("k1fw"),p=e("9og8"),E=e("tJVT"),U=e("fOrg"),m=e("+KLJ"),u=e("WmNS"),l=e.n(u),f=e("cJ7L"),x=e("FY4R"),C=e("q1tI"),A=e("VMEa"),B=e("Qurx"),N=e("tneF"),c=e("9kvl"),W=e("QttV"),r=e("CwrG");function s(D,h){return a.apply(this,arguments)}function a(){return a=Object(p.a)(l.a.mark(function D(h,P){return l.a.wrap(function(y){for(;;)switch(y.prev=y.next){case 0:return y.abrupt("return",Object(c.e)("/api/auth/login",Object(d.a)({method:"POST",headers:{"Content-Type":"application/json"},data:h},P||{})));case 1:case"end":return y.stop()}},D)})),a.apply(this,arguments)}var n=e("MZhU"),o=e.n(n),t=e("nKUr"),z=function(h){var P=h.content;return Object(t.jsx)(m.a,{style:{marginBottom:24},message:P,type:"error",showIcon:!0})},$=function(){!c.c||setTimeout(function(){var h=c.c.location.query,P=h,K=P.redirect;c.c.push(K||"/")},10)},Q=function(){var h=Object(C.useState)(!1),P=Object(E.a)(h,2),K=P[0],y=P[1],V=Object(C.useState)(),G=Object(E.a)(V,2),J=G[0],Y=G[1],Z=Object(c.i)("@@initialState"),F=Z.initialState,H=Z.setInitialState,R=Object(c.h)(),X=function(){var I=Object(p.a)(l.a.mark(function O(){var g,j;return l.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,F==null||(g=F.fetchUserInfo)===null||g===void 0?void 0:g.call(F);case 2:j=i.sent,j&&H(Object(d.a)(Object(d.a)({},F),{},{currentUser:j}));case 4:case"end":return i.stop()}},O)}));return function(){return I.apply(this,arguments)}}(),_=function(){var I=Object(p.a)(l.a.mark(function O(g){var j;return l.a.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return y(!0),i.prev=1,i.next=4,s(Object(d.a)({},g));case 4:if(j=i.sent,!j.success){i.next=12;break}return localStorage.setItem("TOKEN",j.token),v.default.success("success"),i.next=10,X();case 10:return $(),i.abrupt("return");case 12:Y(j),i.next=18;break;case 15:i.prev=15,i.t0=i.catch(1),console.log(i.t0);case 18:y(!1);case 19:case"end":return i.stop()}},O,null,[[1,15]])}));return function(g){return I.apply(this,arguments)}}();return Object(t.jsxs)("div",{className:o.a.container,children:[Object(t.jsx)("div",{className:o.a.lang,children:c.b&&Object(t.jsx)(c.b,{})}),Object(t.jsxs)("div",{className:o.a.content,children:[Object(t.jsx)("div",{className:o.a.top,children:Object(t.jsx)("div",{className:o.a.header,children:Object(t.jsx)(W.a,{to:"/",children:Object(t.jsx)("img",{alt:"logo",className:o.a.logo,src:"/logo.svg"})})})}),Object(t.jsx)(M.a,{}),Object(t.jsx)("div",{className:o.a.main,children:Object(t.jsxs)(A.b,{initialValues:{autoLogin:!0},submitter:{searchConfig:{submitText:R.formatMessage({id:"pages.login.submit",defaultMessage:"submit"})},render:function(O,g){return g.pop()},submitButtonProps:{loading:K,size:"large",style:{width:"100%"}}},onFinish:function(){var I=Object(p.a)(l.a.mark(function O(g){return l.a.wrap(function(L){for(;;)switch(L.prev=L.next){case 0:_(g);case 1:case"end":return L.stop()}},O)}));return function(O){return I.apply(this,arguments)}}(),children:[J&&!J.success&&Object(t.jsx)(z,{content:R.formatMessage({id:"pages.login.accountLogin.errorMessage",defaultMessage:"\uFF08admin/ant.design)"})}),Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)("pre",{children:"email/password: admin@escola-lms.com/secret"}),Object(t.jsx)(B.a,{name:"email",fieldProps:{size:"large",prefix:Object(t.jsx)(f.a,{className:o.a.prefixIcon})},placeholder:R.formatMessage({id:"pages.login.username.placeholder",defaultMessage:"admin or user"}),rules:[{required:!0,message:Object(t.jsx)(c.a,{id:"pages.login.username.required",defaultMessage:"required!"})}]}),Object(t.jsx)(B.a.Password,{name:"password",fieldProps:{size:"large",prefix:Object(t.jsx)(x.a,{className:o.a.prefixIcon})},placeholder:R.formatMessage({id:"pages.login.password.placeholder",defaultMessage:" ant.design"}),rules:[{required:!0,message:Object(t.jsx)(c.a,{id:"pages.login.password.required",defaultMessage:"required"})}]})]}),Object(t.jsxs)("div",{style:{marginBottom:24},children:[Object(t.jsx)(N.a,{noStyle:!0,name:"autoLogin",children:Object(t.jsx)(c.a,{id:"pages.login.rememberMe",defaultMessage:"rememberMe"})}),Object(t.jsx)("a",{style:{float:"right"},children:Object(t.jsx)(c.a,{id:"pages.login.forgotPassword",defaultMessage:"forgotPassword"})})]})]})})]}),Object(t.jsx)(r.a,{})]})},k=b.default=Q},tneF:function(S,b,e){"use strict";var w=e("sRBo"),M=e("kaz8"),T=e("q1tI"),v=e.n(T),d=e("/s86"),p=e("uX+g"),E=e("WFLz"),U=["options","fieldProps","proFieldProps","valueEnum"];function m(){return m=Object.assign||function(r){for(var s=1;s<arguments.length;s++){var a=arguments[s];for(var n in a)Object.prototype.hasOwnProperty.call(a,n)&&(r[n]=a[n])}return r},m.apply(this,arguments)}function u(r,s){var a=Object.keys(r);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(r);s&&(n=n.filter(function(o){return Object.getOwnPropertyDescriptor(r,o).enumerable})),a.push.apply(a,n)}return a}function l(r){for(var s=1;s<arguments.length;s++){var a=arguments[s]!=null?arguments[s]:{};s%2?u(Object(a),!0).forEach(function(n){f(r,n,a[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(r,Object.getOwnPropertyDescriptors(a)):u(Object(a)).forEach(function(n){Object.defineProperty(r,n,Object.getOwnPropertyDescriptor(a,n))})}return r}function f(r,s,a){return s in r?Object.defineProperty(r,s,{value:a,enumerable:!0,configurable:!0,writable:!0}):r[s]=a,r}function x(r,s){if(r==null)return{};var a=C(r,s),n,o;if(Object.getOwnPropertySymbols){var t=Object.getOwnPropertySymbols(r);for(o=0;o<t.length;o++)n=t[o],!(s.indexOf(n)>=0)&&(!Object.prototype.propertyIsEnumerable.call(r,n)||(a[n]=r[n]))}return a}function C(r,s){if(r==null)return{};var a={},n=Object.keys(r),o,t;for(t=0;t<n.length;t++)o=n[t],!(s.indexOf(o)>=0)&&(a[o]=r[o]);return a}var A=v.a.forwardRef(function(r,s){var a=r.options,n=r.fieldProps,o=r.proFieldProps,t=r.valueEnum,z=x(r,U);return v.a.createElement(d.a,m({ref:s,valueType:"checkbox",mode:"edit",valueEnum:Object(p.a)(t,void 0)},z,{fieldProps:l({options:a},n)},o))}),B=v.a.forwardRef(function(r,s){var a=r.fieldProps,n=r.children;return v.a.createElement(M.a,m({ref:s},a),n)}),N=Object(E.a)(B,{valuePropName:"checked"}),c=Object(E.a)(A),W=N;W.Group=c,b.a=W}}]);
