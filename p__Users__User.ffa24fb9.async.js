(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"0TUn":function(w,_,e){"use strict";e.d(_,"c",function(){return v}),e.d(_,"a",function(){return s}),e.d(_,"b",function(){return o});var n=e("qLMh"),u=e("k1fw"),c=e("9og8"),m=e("9kvl");function v(f,d){return p.apply(this,arguments)}function p(){return p=Object(c.a)(Object(n.a)().mark(function f(d,D){return Object(n.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(m.i)("/api/model-fields",Object(u.a)({method:"GET",params:d},D||{})));case 1:case"end":return r.stop()}},f)})),p.apply(this,arguments)}function s(f,d){return E.apply(this,arguments)}function E(){return E=Object(c.a)(Object(n.a)().mark(function f(d,D){return Object(n.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(m.i)("/api/admin/model-fields",Object(u.a)({method:"POST",data:d},D||{})));case 1:case"end":return r.stop()}},f)})),E.apply(this,arguments)}function o(f,d){return l.apply(this,arguments)}function l(){return l=Object(c.a)(Object(n.a)().mark(function f(d,D){return Object(n.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(m.i)("/api/admin/model-fields",Object(u.a)({method:"DELETE",data:d},D||{})));case 1:case"end":return r.stop()}},f)})),l.apply(this,arguments)}},"59P8":function(w,_,e){"use strict";var n=e("k1fw"),u=e("PpiC"),c=e("tJVT"),m=e("q1tI"),v=e("9kvl"),p=e("Qiat"),s=e("sWYD"),E=e("mGZj"),o=e("qLMh"),l=e("9og8");function f(j,g){return d.apply(this,arguments)}function d(){return d=Object(l.a)(Object(o.a)().mark(function j(g,S){return Object(o.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.abrupt("return",Object(v.i)("/api/admin/tracks/routes",Object(n.a)({method:"GET",useCache:!1,params:Object(n.a)(Object(n.a)({},g),{},{per_page:g.pageSize,page:g.current})},S||{})));case 1:case"end":return T.stop()}},j)})),d.apply(this,arguments)}var D=e("Vpfc"),i=e("0WSk"),r=e("nKUr"),O=["type","defaultRender"],b=[{title:Object(r.jsx)(v.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{title:Object(r.jsx)(v.a,{id:"dateRange",defaultMessage:"Date Range"}),dataIndex:"dateRange",hideInSearch:!1,hideInForm:!0,hideInTable:!0,valueType:"dateRange",fieldProps:{allowEmpty:[!0,!0]}},{title:Object(r.jsx)(v.a,{id:"http_method",defaultMessage:"http_method"}),dataIndex:"method",hideInSearch:!1,sorter:!0,valueEnum:{GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH"}},{title:Object(r.jsx)(v.a,{id:"path",defaultMessage:"path"}),dataIndex:"path",sorter:!0,hideInSearch:!1}],M=function(g){var S=g.useAsWidget,Y=g.userID,T=Object(m.useRef)(),P=Object(m.useState)(!1),ee=Object(c.a)(P,2),F=ee[0],H=ee[1],ie=Object(v.l)();return Object(r.jsx)(p.a,{headerTitle:ie.formatMessage({id:"menu.Analytics.Logs",defaultMessage:"menu.Analytics.Logs"}),loading:F,actionRef:T,rowKey:"id",search:{layout:"vertical"},request:function(A,Z){var ce=A.user_id,ue=A.method,te=A.dateRange,de=A.path,se=A.pageSize,je=A.current,le=Z&&Object.entries(Z)[0];H(!0);var t=te&&te[0]?Object(s.a)(new Date(te[0]),E.a):void 0,Oe=te&&te[1]?Object(s.a)(new Date(te[1]),E.a):void 0;return f({user_id:S?Y:ce,method:ue,pageSize:se,current:je,path:de,date_from:t,date_to:Oe,order_by:le&&le[0],order:le?le[1]==="ascend"?"ASC":"DESC":void 0}).then(function(me){return H(!1),me.success?{data:me.data,total:me.meta.total,success:!0}:[]})},columns:[].concat(b,[{title:Object(r.jsx)(v.a,{id:"user",defaultMessage:"user"}),dataIndex:"user_id",key:"user_id",hideInSearch:S,sorter:!0,renderFormItem:function(A,Z,ce){var ue=Z.type,te=Z.defaultRender,de=Object(u.a)(Z,O);if(ue==="form")return null;var se=ce.getFieldValue("state");return Object(r.jsx)(i.a,Object(n.a)(Object(n.a)({},de),{},{state:{type:se}}))},render:function(A,Z){return Z.user&&Object(r.jsx)(D.a,{type:"App\\Models\\User",type_id:Z.user.id})}}])})},a=_.a=M},BiO0:function(w,_,e){"use strict";var n=e("VTBJ"),u=e("Ff2n"),c=e("nKUr"),m=e.n(c),v=e("q1tI"),p=e.n(v),s=e("adzw"),E=["fieldProps","proFieldProps"],o=function(f,d){var D=f.fieldProps,i=f.proFieldProps,r=Object(u.a)(f,E);return Object(c.jsx)(s.a,Object(n.a)({ref:d,valueType:"textarea",fieldProps:D,proFieldProps:i},r))};_.a=p.a.forwardRef(o)},"G/Ub":function(w,_,e){"use strict";e.d(_,"d",function(){return v}),e.d(_,"a",function(){return s}),e.d(_,"b",function(){return o}),e.d(_,"c",function(){return f}),e.d(_,"e",function(){return D});var n=e("qLMh"),u=e("k1fw"),c=e("9og8"),m=e("9kvl");function v(r,O){return p.apply(this,arguments)}function p(){return p=Object(c.a)(Object(n.a)().mark(function r(O,b){return Object(n.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(m.i)("/api/admin/roles",Object(u.a)({method:"GET",useCache:!1,params:O},b||{})));case 1:case"end":return a.stop()}},r)})),p.apply(this,arguments)}function s(r,O){return E.apply(this,arguments)}function E(){return E=Object(c.a)(Object(n.a)().mark(function r(O,b){return Object(n.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(m.i)("/api/admin/roles",Object(u.a)({method:"POST",headers:{"Content-Type":"application/json"},data:O},b||{})));case 1:case"end":return a.stop()}},r)})),E.apply(this,arguments)}function o(r,O){return l.apply(this,arguments)}function l(){return l=Object(c.a)(Object(n.a)().mark(function r(O,b){return Object(n.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(m.i)("/api/admin/roles/".concat(O),Object(u.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},b||{})));case 1:case"end":return a.stop()}},r)})),l.apply(this,arguments)}function f(r,O){return d.apply(this,arguments)}function d(){return d=Object(c.a)(Object(n.a)().mark(function r(O,b){return Object(n.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(m.i)("/api/admin/roles/".concat(O),Object(u.a)({method:"GET",useCache:!1},b||{})));case 1:case"end":return a.stop()}},r)})),d.apply(this,arguments)}function D(r,O,b){return i.apply(this,arguments)}function i(){return i=Object(c.a)(Object(n.a)().mark(function r(O,b,M){return Object(n.a)().wrap(function(j){for(;;)switch(j.prev=j.next){case 0:return j.abrupt("return",Object(m.i)("/api/admin/roles/".concat(O),Object(u.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:b},M||{})));case 1:case"end":return j.stop()}},r)})),i.apply(this,arguments)}},Jfn2:function(w,_,e){"use strict";var n=e("k1fw"),u=e("XCrF"),c=e("1GRj"),m=e("PpiC"),v=e("q1tI"),p=e.n(v),s=e("nKUr"),E=e.n(s),o=["path","size","srcSizes","alt"],l=function(d){var D=d.path,i=d.size,r=d.srcSizes,O=d.alt,b=O===void 0?"LMS Image":O,M=Object(m.a)(d,o),a="".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(D,"&w=").concat(r?r[0]:i),j=r&&r.map(function(g){return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(D,"&w=").concat(g," ").concat(g,"w")});return Object(s.jsx)("div",{className:"escolalms-image",children:Object(s.jsx)(c.a,Object(n.a)({src:a,srcSet:j&&j.join(","),alt:b},M))})};_.a=l},TWax:function(w,_,e){"use strict";var n=e("ozfa"),u=e("MJZm"),c=e("T2oS"),m=e("W9HT"),v=e("tJVT"),p=e("q1tI"),s=e.n(p),E=e("JifO"),o=e("nKUr"),l=e.n(o),f=function D(i){return i.subcategories&&i.subcategories.length?{title:i.name,key:i.id,children:i.subcategories.map(function(r){return D(r)})}:{title:i.name,key:i.id}},d=function(i){var r=i.value,O=i.onChange,b=i.multiple,M=b===void 0?!0:b,a=Object(p.useState)([]),j=Object(v.a)(a,2),g=j[0],S=j[1];Object(p.useEffect)(function(){Object(E.c)().then(function(T){T.success&&S(T.data)})},[]);var Y=Object(p.useMemo)(function(){return g.map(function(T){return f(T)})},[g]);return g.length===0?Object(o.jsx)(m.a,{}):Object(o.jsx)(u.a,{multiple:M,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,style:{width:"100%"},checkedKeys:r,onCheck:function(P){if(typeof P=="object"&&!Array.isArray(P)&&P.checked){var ee=P.checked;return O&&Array.isArray(ee)&&O(ee)}},treeData:Y,disabled:g.length===0})};_.a=d},TpMl:function(w,_,e){"use strict";var n=e("tJVT"),u=e("q1tI"),c=e.n(u),m=e("0TUn"),v=function(s){var E=Object(u.useState)({state:"initial"}),o=Object(n.a)(E,2),l=o[0],f=o[1];return Object(u.useEffect)(function(){f({state:"loading"}),Object(m.c)({class_type:s}).then(function(d){d.success&&f({state:"loaded",list:d.data})})},[s]),l};_.a=v},YDZB:function(w,_,e){"use strict";var n=e("2qtc"),u=e("kLXV"),c=e("7Kak"),m=e("9yH6"),v=e("+L6B"),p=e("2/Rp"),s=e("tJVT"),E=e("q1tI"),o=e.n(E),l=e("gU/Y"),f=e("9kvl"),d=e("u95b"),D=e.n(d),i=e("nKUr"),r=e.n(i),O=function(M){var a=M.value,j=M.onChange,g=Object(E.useState)(!1),S=Object(s.a)(g,2),Y=S[0],T=S[1],P=Object(E.useCallback)(function(){T(!1)},[]),ee=Object(E.useState)("code"),F=Object(s.a)(ee,2),H=F[0],ie=F[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)(p.a,{type:"primary",onClick:function(){return T(!0)},size:"small",children:Object(i.jsx)(f.a,{id:"json_editor"})}),Object(i.jsxs)(u.a,{title:"JSON",visible:Y,onOk:P,onCancel:P,children:[Object(i.jsxs)(m.a.Group,{onChange:function(A){return ie(A.target.value)},value:H,children:[Object(i.jsx)(m.a,{value:"tree",children:"tree"}),Object(i.jsx)(m.a,{value:"view",children:"view"}),Object(i.jsx)(m.a,{value:"form",children:"form"}),Object(i.jsx)(m.a,{value:"code",children:"code"}),Object(i.jsx)(m.a,{value:"text",children:"text"})]}),Object(i.jsx)(l.a,{mode:H,value:a,onChange:function(A){return j&&j(A)}},H)]})]})};_.a=O},YDsB:function(w,_,e){"use strict";var n=e("YDZB"),u=e("FJDo"),c=e("tneF"),m=e("Qurx"),v=e("VMEa"),p=e("BiO0"),s=e("q1tI"),E=e.n(s),o=e("9kvl"),l=e("nKUr"),f=e.n(l),d=function(i){var r=i.field,O=Object(o.l)(),b=function(a){var j=a&&a.extra&&a.extra.find(function(g){return g[Object(o.e)()]});switch(a.type){case"number":return Object(l.jsx)(u.a,{width:"md",name:a.name,label:j?j[Object(o.e)()]:Object(l.jsx)(o.a,{id:a.name}),tooltip:Object(l.jsx)(o.a,{id:a.name}),placeholder:O.formatMessage({id:a.name,defaultMessage:a.name}),min:1,max:1024,fieldProps:{step:1}});case"boolean":return Object(l.jsx)(c.a,{name:a.name,children:j?j[Object(o.e)()]:Object(l.jsx)(o.a,{id:a.name})});case"varchar":return Object(l.jsx)(m.a,{width:"md",name:a.name,label:j?j[Object(o.e)()]:Object(l.jsx)(o.a,{id:a.name}),tooltip:Object(l.jsx)(o.a,{id:a.name}),placeholder:O.formatMessage({id:a.name})});case"json":return Object(l.jsx)(v.a.Item,{name:a.name,label:j?j[Object(o.e)()]:Object(l.jsx)(o.a,{id:a.name}),tooltip:Object(l.jsx)(o.a,{id:a.name}),valuePropName:"value",children:Object(l.jsx)(n.a,{})});case"text":default:return Object(l.jsx)(p.a,{width:"md",name:a.name,label:j?j[Object(o.e)()]:Object(l.jsx)(o.a,{id:a.name}),tooltip:Object(l.jsx)(o.a,{id:a.name}),placeholder:O.formatMessage({id:a.name})})}};return Object(l.jsx)(l.Fragment,{children:b(r)})};_.a=d},tneF:function(w,_,e){"use strict";var n=e("sRBo"),u=e("kaz8"),c=e("VTBJ"),m=e("Ff2n"),v=e("nKUr"),p=e.n(v),s=e("uX+g"),E=e("q1tI"),o=e.n(E),l=e("WFLz"),f=e("adzw"),d=["options","fieldProps","proFieldProps","valueEnum"],D=o.a.forwardRef(function(b,M){var a=b.options,j=b.fieldProps,g=b.proFieldProps,S=b.valueEnum,Y=Object(m.a)(b,d);return Object(v.jsx)(f.a,Object(c.a)({ref:M,valueType:"checkbox",valueEnum:Object(s.a)(S,void 0),fieldProps:Object(c.a)({options:a},j),lightProps:Object(c.a)({labelFormatter:function(){return Object(v.jsx)(f.a,Object(c.a)({ref:M,valueType:"checkbox",mode:"read",valueEnum:Object(s.a)(S,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(c.a)({options:a},j),proFieldProps:g},Y))}},Y.lightProps),proFieldProps:g},Y))}),i=o.a.forwardRef(function(b,M){var a=b.fieldProps,j=b.children;return Object(v.jsx)(u.a,Object(c.a)(Object(c.a)({ref:M},a),{},{children:j}))}),r=Object(l.a)(i,{valuePropName:"checked"}),O=r;O.Group=D,_.a=O},weGn:function(w,_,e){"use strict";e.r(_);var n=e("qLMh"),u=e("k1fw"),c=e("9og8"),m=e("tJVT"),v=e("nhC9"),p=e("Ty5D"),s=e("9kvl"),E=e("tMyG"),o=e("14J3"),l=e("BMrR"),f=e("/zsF"),d=e("PArb"),D=e("tU7J"),i=e("wFql"),r=e("DYRE"),O=e("zeV3"),b=e("y8nQ"),M=e("Vl3Y"),a=e("+L6B"),j=e("2/Rp"),g=e("T2oS"),S=e("W9HT"),Y=e("miYZ"),T=e("tsqr"),P=e("q1tI"),ee=e.n(P),F=e("VMEa"),H=e("Qurx"),ie=e("F/zT"),ne=e("tneF"),A=e("VK58"),Z=e("02ly"),ce=e("Jfn2"),ue=e("2ult"),te=e("55Ip"),de=e("G/Ub"),se=e("ri8c"),je=e("TpMl"),le=e("YDsB"),t=e("nKUr");function Oe(W){var ae=Object(P.useState)([]),B=Object(m.a)(ae,2),K=B[0],Q=B[1],X=Object(P.useState)(!1),R=Object(m.a)(X,2),k=R[0],h=R[1],U=Object(P.useCallback)(Object(c.a)(Object(n.a)().mark(function J(){var C;return Object(n.a)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.prev=0,h(!0),G.next=4,Object(se.h)({user_id:W});case 4:C=G.sent,C.success&&Q(C.data.map(function(x){var ve=x.id;return ve}));case 6:return G.prev=6,h(!1),G.finish(6);case 9:case"end":return G.stop()}},J,null,[[0,,6,9]])})),[W]),$=Object(P.useCallback)(function(){var J=Object(c.a)(Object(n.a)().mark(function C(I){return Object(n.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(typeof I!="string"){x.next=2;break}return x.abrupt("return");case 2:return h(!0),x.next=5,Object(se.a)(I,W);case 5:return x.next=7,U();case 7:h(!1);case 8:case"end":return x.stop()}},C)}));return function(C){return J.apply(this,arguments)}}(),[W]),z=Object(P.useCallback)(function(){var J=Object(c.a)(Object(n.a)().mark(function C(I){return Object(n.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:if(typeof I!="string"){x.next=2;break}return x.abrupt("return");case 2:return h(!0),x.next=5,Object(se.d)(I,W);case 5:return x.next=7,U();case 7:h(!1);case 8:case"end":return x.stop()}},C)}));return function(C){return J.apply(this,arguments)}}(),[W]),q=Object(P.useCallback)(Object(c.a)(Object(n.a)().mark(function J(){return Object(n.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return h(!0),I.next=3,Promise.all(K.map(function(G){return Object(se.d)(G,W)}));case 3:return I.next=5,U();case 5:h(!1);case 6:case"end":return I.stop()}},J)})),[K]);return Object(P.useEffect)(function(){U()},[U]),{userGroups:K,userGroupsLoading:k,handleAddToGroup:$,handleRemoveFromGroup:z,handleClearAllGroups:q}}var me=function(W){var ae,B,K,Q,X=W.isNew,R=W.data,k=W.setData,h=Object(s.l)(),U=Object(p.l)(),$=U.user,z=Object(je.a)("EscolaLms\\Auth\\Models\\User"),q=Object(s.m)("@@initialState"),J=q.initialState,C=J==null||(ae=J.config)===null||ae===void 0||(B=ae.filter(function(L){return L.key==="frontURL"})[0])===null||B===void 0?void 0:B.data,I=Oe((K=R==null?void 0:R.id)!==null&&K!==void 0?K:0),G=I.userGroups,x=I.userGroupsLoading,ve=I.handleAddToGroup,De=I.handleRemoveFromGroup,Te=I.handleClearAllGroups,Ce=Object(P.useState)(),he=Object(m.a)(Ce,2),fe=he[0],xe=he[1],Ae=F.a.useForm(),Re=Object(m.a)(Ae,1),be=Re[0],Ie=Object(P.useCallback)(Object(c.a)(Object(n.a)().mark(function L(){var N,y;return Object(n.a)().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,Object(de.d)();case 2:return N=V.sent,V.next=5,N;case 5:y=V.sent,y.success&&xe(y.data);case 7:case"end":return V.stop()}},L)})),[$]),Ue=function(){Object(A.d)(Number($)).then(function(N){N.success&&(T.b.success(N.message),k(function(y){return Object(u.a)(Object(u.a)({},y),{},{avatar:"",path_avatar:""})}))}).catch(function(N){T.b.error(N.data.message)})};Object(P.useEffect)(function(){Ie()},[$]);var Le=Object(P.useMemo)(function(){return{form:be,onFinish:function(){var L=Object(c.a)(Object(n.a)().mark(function y(_e){var V,oe;return Object(n.a)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(oe=Object(u.a)({},_e),(!oe.password||oe.password==="")&&delete oe.password,!X){re.next=9;break}return re.next=5,Object(A.a)(oe);case 5:V=re.sent,V.success&&s.f.push("/users/".concat(V.data.id,"/user_info")),re.next=12;break;case 9:return re.next=11,Object(A.k)(Number($),oe);case 11:V=re.sent;case 12:T.b.success(V.message);case 13:case"end":return re.stop()}},y)}));function N(y){return L.apply(this,arguments)}return N}(),initialValues:R}},[R,$]);return R?Object(t.jsxs)(F.a,Object(u.a)(Object(u.a)({},Le),{},{children:[Object(t.jsxs)(F.a.Group,{children:[Object(t.jsx)(H.a,{width:"md",name:"first_name",label:Object(t.jsx)(s.a,{id:"first_name"}),tooltip:Object(t.jsx)(s.a,{id:"first_name"}),placeholder:h.formatMessage({id:"first_name"}),required:!0,rules:[{required:!0,message:h.formatMessage({id:"field_required"})}]}),Object(t.jsx)(H.a,{width:"md",name:"last_name",label:Object(t.jsx)(s.a,{id:"last_name"}),tooltip:Object(t.jsx)(s.a,{id:"last_name"}),placeholder:h.formatMessage({id:"last_name"}),required:!0,rules:[{required:!0,message:h.formatMessage({id:"field_required"})}]}),Object(t.jsx)(H.a,{width:"md",name:"email",label:Object(t.jsx)(s.a,{id:"email"}),tooltip:Object(t.jsx)(s.a,{id:"email"}),placeholder:h.formatMessage({id:"email"}),required:!0,rules:[{required:!0,message:h.formatMessage({id:"field_required"})}]}),Object(t.jsx)(H.a.Password,{shouldUpdate:!0,width:"md",name:"password",label:Object(t.jsx)(s.a,{id:"password"}),tooltip:Object(t.jsx)(s.a,{id:"password"}),placeholder:h.formatMessage({id:"password"}),required:X,rules:[{validator:function(N,y){return y&&!/(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,}$/i.test(y)?Promise.reject(new Error(h.formatMessage({id:"badPassword"}))):Promise.resolve()}},{required:X,message:Object(t.jsx)(s.a,{id:"field_required"})}]}),z.state==="loaded"&&z.list.map(function(L){return Object(t.jsx)(le.a,{field:L},L.id)})]}),Object(t.jsxs)(F.a.Group,{children:[!X&&Object(t.jsxs)(O.b,{direction:"vertical",children:[!((Q=R.roles)!==null&&Q!==void 0&&Q.includes("admin"))&&Object(t.jsx)(ie.a,{initialValue:R.is_active,name:"email_verified",label:Object(t.jsx)(s.a,{id:"is_email_verified"})}),Object(t.jsx)(M.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){return be.getFieldValue("email_verified")?Object(t.jsx)(ee.a.Fragment,{}):Object(t.jsxs)(t.Fragment,{children:[!C&&Object(t.jsxs)("p",{children:[Object(t.jsx)(s.a,{id:"no_base_url"}),Object(t.jsx)(te.a,{to:"/configuration/settings/escola_auth",children:"Settings"})]}),Object(t.jsx)(j.a,{disabled:!C,size:"small",onClick:function(){Object(A.g)(be.getFieldValue("email"),"".concat(C,"email-verify")).then(function(){T.b.success(h.formatMessage({id:"email_resend"}))})},children:Object(t.jsx)(s.a,{id:"resend"})})]})}})]}),Object(t.jsx)(ie.a,{name:"is_active",label:Object(t.jsx)(s.a,{id:"is_active"})}),fe&&Object(t.jsx)(ne.a.Group,{name:"roles",layout:"horizontal",label:Object(t.jsx)(s.a,{id:"roles"}),options:fe.filter(function(L){return L.guard_name!=="web"}).map(function(L){return L.name})})]}),!X&&Object(t.jsxs)(t.Fragment,{children:[Object(t.jsxs)(F.a.Group,{children:[Object(t.jsx)(F.a.Item,{name:"avatar",label:Object(t.jsx)(s.a,{id:"avatar"}),children:R.path_avatar?Object(t.jsx)(ce.a,{path:R.path_avatar,size:600,width:200}):Object(t.jsx)(i.a,{children:Object(t.jsx)(s.a,{id:"avatar_placeholder"})})}),Object(t.jsx)(M.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){return Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(Z.a,{folder:"avatars/".concat($),wrapInForm:!1,url:"/api/admin/users/".concat($,"/avatar"),name:"avatar",accept:"image/*",onChange:function(y){y.file.status==="done"&&y.file.response&&y.file.response.success&&k(y.file.response.data)}}),Object(t.jsx)(j.a,{danger:!0,onClick:Ue,children:Object(t.jsx)(s.a,{id:"delete"})})]})}})]}),Object(t.jsxs)(l.a,{children:[Object(t.jsx)(d.a,{}),Object(t.jsx)(F.a.Item,{style:{width:"100%"},label:Object(t.jsx)(s.a,{id:"groups",defaultMessage:"Groups"}),children:Object(t.jsx)(ue.a,{multiple:!0,loading:x,disabled:x,value:G,onSelect:ve,onDeselect:De,onClear:Te})})]})]})]})):Object(t.jsx)(S.a,{})},Ee=e("TWax"),pe=function(ae){var B=ae.data,K=Object(P.useMemo)(function(){return{onFinish:function(){var Q=Object(c.a)(Object(n.a)().mark(function R(k){var h,U;return Object(n.a)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return h=Object(u.a)({},k),z.next=3,Object(A.l)(Number(B==null?void 0:B.id),h);case 3:U=z.sent,T.b.success(U.message);case 5:case"end":return z.stop()}},R)}));function X(R){return Q.apply(this,arguments)}return X}(),initialValues:B}},[B]);return Object(t.jsx)(F.a,Object(u.a)(Object(u.a)({},K),{},{children:Object(t.jsx)(F.a.Item,{label:Object(t.jsx)(s.a,{id:"categories"}),name:"interests",valuePropName:"value",children:Object(t.jsx)(Ee.a,{})})}))},Pe=pe,Me=e("c+yx"),ge=e("59P8"),ye=_.default=function(){var W=Object(p.l)(),ae=Object(P.useState)(),B=Object(m.a)(ae,2),K=B[0],Q=B[1],X=Object(s.l)(),R=W.tab,k=R===void 0?"user_info":R,h=W.user,U=typeof h=="undefined",$=Object(P.useCallback)(Object(c.a)(Object(n.a)().mark(function z(){var q;return Object(n.a)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.next=2,Object(A.m)(Number(h));case 2:q=C.sent,q.success&&Q(Object(u.a)(Object(u.a)({},q.data),{},{interests:q.data.interests.map(Me.a)}));case 4:case"end":return C.stop()}},z)})),[h]);return Object(P.useEffect)(function(){if(U){Q({});return}$()},[h,$]),Object(t.jsx)(E.a,{title:Object(t.jsx)(s.a,{id:"settings"}),header:{breadcrumb:{routes:[{path:"/users/".concat(h,"/user_info"),breadcrumbName:X.formatMessage({id:"menu.Settings"})},{path:String(k),breadcrumbName:String(k)}]}},children:Object(t.jsxs)(v.a,{tabs:{type:"card",activeKey:k,onChange:function(q){return s.f.push("/users/".concat(h,"/").concat(q))}},children:[Object(t.jsx)(v.a.TabPane,{tab:U?Object(t.jsx)(s.a,{id:"new_user"}):Object(t.jsx)(s.a,{id:"edit_user"}),children:Object(t.jsx)(me,{isNew:U,data:K,setData:Q})},"user_info"),!U&&Object(t.jsx)(v.a.TabPane,{tab:Object(t.jsx)("span",{children:Object(t.jsx)(s.a,{id:"categories"})}),children:(K==null?void 0:K.id)&&Object(t.jsx)(Pe,{data:K})},"categories"),!U&&Object(t.jsx)(v.a.TabPane,{tab:Object(t.jsx)("span",{children:Object(t.jsx)(s.a,{id:"user_logs"})}),children:h&&Object(t.jsx)(ge.a,{useAsWidget:!0,userID:Number(h)})},"logs")]})})}}}]);
