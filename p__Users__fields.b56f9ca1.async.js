(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"0TUn":function($,m,e){"use strict";e.d(m,"c",function(){return b}),e.d(m,"a",function(){return E}),e.d(m,"b",function(){return h});var l=e("qLMh"),a=e("k1fw"),d=e("9og8"),c=e("9kvl");function b(s,j){return p.apply(this,arguments)}function p(){return p=Object(d.a)(Object(l.a)().mark(function s(j,o){return Object(l.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(c.g)("/api/model-fields",Object(a.a)({method:"GET",params:j},o||{})));case 1:case"end":return r.stop()}},s)})),p.apply(this,arguments)}function E(s,j){return u.apply(this,arguments)}function u(){return u=Object(d.a)(Object(l.a)().mark(function s(j,o){return Object(l.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(c.g)("/api/admin/model-fields",Object(a.a)({method:"POST",data:j},o||{})));case 1:case"end":return r.stop()}},s)})),u.apply(this,arguments)}function h(s,j){return f.apply(this,arguments)}function f(){return f=Object(d.a)(Object(l.a)().mark(function s(j,o){return Object(l.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(c.g)("/api/admin/model-fields",Object(a.a)({method:"DELETE",data:j},o||{})));case 1:case"end":return r.stop()}},s)})),f.apply(this,arguments)}},"5qq5":function($,m,e){"use strict";var l=e("7Kak"),a=e("9yH6"),d=e("VTBJ"),c=e("Ff2n"),b=e("nKUr"),p=e.n(b),E=e("uX+g"),u=e("q1tI"),h=e.n(u),f=e("WFLz"),s=e("adzw"),j=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],o=h.a.forwardRef(function(O,F){var K=O.fieldProps,x=O.options,V=O.radioType,G=O.layout,Y=O.proFieldProps,J=O.valueEnum,L=Object(c.a)(O,j);return Object(b.jsx)(s.a,Object(d.a)(Object(d.a)({mode:"edit",valueType:V==="button"?"radioButton":"radio",ref:F,valueEnum:Object(E.a)(J,void 0)},L),{},{fieldProps:Object(d.a)({options:x,layout:G},K),proFieldProps:Y,filedConfig:{customLightMode:!0}}))}),n=h.a.forwardRef(function(O,F){var K=O.fieldProps,x=O.children;return Object(b.jsx)(a.a,Object(d.a)(Object(d.a)({},K),{},{ref:F,children:x}))}),r=Object(f.a)(n,{valuePropName:"checked",ignoreWidth:!0}),v=r;v.Group=o,v.Button=a.a.Button,v.displayName="ProFormComponent",m.a=v},FJDo:function($,m,e){"use strict";var l=e("VTBJ"),a=e("Ff2n"),d=e("nKUr"),c=e.n(d),b=e("q1tI"),p=e.n(b),E=e("adzw"),u=["fieldProps","min","proFieldProps","max"],h=function(s,j){var o=s.fieldProps,n=s.min,r=s.proFieldProps,v=s.max,O=Object(a.a)(s,u);return Object(d.jsx)(E.a,Object(l.a)({mode:"edit",valueType:"digit",fieldProps:Object(l.a)({min:n,max:v},o),ref:j,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:r},O))};m.a=p.a.forwardRef(h)},Qurx:function($,m,e){"use strict";var l=e("VTBJ"),a=e("Ff2n"),d=e("nKUr"),c=e.n(d),b=e("adzw"),p=["fieldProps","proFieldProps"],E=["fieldProps","proFieldProps"],u="text",h=function(o){var n=o.fieldProps,r=o.proFieldProps,v=Object(a.a)(o,p);return Object(d.jsx)(b.a,Object(l.a)({mode:"edit",valueType:u,fieldProps:n,filedConfig:{valueType:u},proFieldProps:r},v))},f=function(o){var n=o.fieldProps,r=o.proFieldProps,v=Object(a.a)(o,E);return Object(d.jsx)(b.a,Object(l.a)({mode:"edit",valueType:"password",fieldProps:n,proFieldProps:r,filedConfig:{valueType:u}},v))},s=h;s.Password=f,s.displayName="ProFormComponent",m.a=s},YDZB:function($,m,e){"use strict";var l=e("2qtc"),a=e("kLXV"),d=e("7Kak"),c=e("9yH6"),b=e("+L6B"),p=e("2/Rp"),E=e("tJVT"),u=e("q1tI"),h=e.n(u),f=e("gU/Y"),s=e("9kvl"),j=e("u95b"),o=e.n(j),n=e("nKUr"),r=e.n(n),v=function(F){var K=F.value,x=F.onChange,V=Object(u.useState)(!1),G=Object(E.a)(V,2),Y=G[0],J=G[1],L=Object(u.useCallback)(function(){J(!1)},[]),te=Object(u.useState)("code"),z=Object(E.a)(te,2),Q=z[0],H=z[1];return Object(n.jsxs)("div",{children:[Object(n.jsx)(p.a,{type:"primary",onClick:function(){return J(!0)},size:"small",children:Object(n.jsx)(s.a,{id:"json_editor"})}),Object(n.jsxs)(a.a,{title:"JSON",visible:Y,onOk:L,onCancel:L,children:[Object(n.jsxs)(c.a.Group,{onChange:function(y){return H(y.target.value)},value:Q,children:[Object(n.jsx)(c.a,{value:"tree",children:"tree"}),Object(n.jsx)(c.a,{value:"view",children:"view"}),Object(n.jsx)(c.a,{value:"form",children:"form"}),Object(n.jsx)(c.a,{value:"code",children:"code"}),Object(n.jsx)(c.a,{value:"text",children:"text"})]}),Object(n.jsx)(f.a,{mode:Q,value:K,onChange:function(y){return x&&x(y)}},Q)]})]})};m.a=v},i3PA:function($,m,e){"use strict";e.r(m);var l=e("q1tI"),a=e("9kvl"),d=e("tMyG"),c=e("nhC9"),b=e("P2fV"),p=e("NJEC"),E=e("5Dmo"),u=e("3S7+"),h=e("+L6B"),f=e("2/Rp"),s=e("qLMh"),j=e("miYZ"),o=e("tsqr"),n=e("9og8"),r=e("tJVT"),v=e("Qiat"),O=e("xvlK"),F=e("G3dp"),K=e("/MfK"),x=e("0TUn"),V=e("k1fw"),G=e("y8nQ"),Y=e("Vl3Y"),J=e("rmhi"),L=e("Qurx"),te=e("5qq5"),z=e("VMEa"),Q=e("FJDo"),H=e("YDZB"),t=e("nKUr"),y;(function(R){R.BOOLEAN="boolean",R.NUMBER="number",R.VARCHAR="varchar",R.TEXT="text",R.JSON="json"})(y||(y={}));var oe=function(C){var A=C.visible,W=C.onVisibleChange,ae=C.onResponse,X=C.class_type,Z=C.name,P=Z===void 0?"new":Z,w=C.fields,k=w===void 0?[]:w,B=Object(a.j)(),q=Y.a.useForm(),N=Object(r.a)(q,1),S=N[0],ee=Object(l.useCallback)(function(){var M=Object(n.a)(Object(s.a)().mark(function U(I){return Object(s.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.next=2,Object(x.a)(Object(V.a)(Object(V.a)({},I),{},{class_type:X,rules:JSON.stringify(I.rules),extra:JSON.stringify(I.extra)})).then(function(D){D.success&&ae(D.data)});case 2:return i.abrupt("return",!1);case 3:case"end":return i.stop()}},U)}));return function(U){return M.apply(this,arguments)}}(),[S]);return Object(l.useEffect)(function(){if(P!=="new"){var M=k.find(function(U){return U.name===P});M&&S.setFieldsValue(M)}else S.resetFields()},[P,S,k]),Object(t.jsxs)(J.a,{form:S,title:B.formatMessage({id:P==="new"?"newModelField":"editModelField",defaultMessage:P==="new"?"new Model Field":"edit Model Field"}),width:"800px",visible:A,onVisibleChange:W,onFinish:ee,children:[Object(t.jsx)(L.a,{required:!0,label:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),tooltip:Object(t.jsx)(a.a,{id:"name_tooltip",defaultMessage:"name_tooltip"}),rules:[{required:!0}],width:"md",name:"name"}),Object(t.jsx)(te.a.Group,{rules:[{required:!0}],name:"type",label:Object(t.jsx)(a.a,{id:"type",defaultMessage:"type"}),tooltip:Object(t.jsx)(a.a,{id:"type_tooltip",defaultMessage:"type_tooltip"}),options:Object.keys(y).map(function(M){return{label:B.formatMessage({id:y[M]}),value:y[M]}})}),Object(t.jsx)(L.a,{width:"md",name:"default",label:Object(t.jsx)(a.a,{id:"default",defaultMessage:"default"}),tooltip:Object(t.jsx)(a.a,{id:"default_tooltip",defaultMessage:"default_tooltip"}),placeholder:B.formatMessage({id:"default"})}),Object(t.jsx)(z.a.Item,{name:"rules",label:Object(t.jsxs)("span",{children:[Object(t.jsx)(a.a,{id:"rules",defaultMessage:"rules"})," ",Object(t.jsx)("a",{rel:"noreferrer",href:"https://laravel.com/docs/9.x/validation#available-validation-rules",target:"_blank",children:Object(t.jsx)(a.a,{id:"available-validation-rules",defaultMessage:"available-validation-rules"})})]}),tooltip:Object(t.jsx)(a.a,{id:"available-validation-rules"}),valuePropName:"value",children:Object(t.jsx)(H.a,{})}),Object(t.jsx)(Q.a,{width:"md",name:"visibility",label:Object(t.jsx)(a.a,{id:"visibility"}),tooltip:Object(t.jsx)(a.a,{id:"visibility_tooltip"}),placeholder:B.formatMessage({id:"visibility",defaultMessage:"visibility"}),min:1,max:1024,fieldProps:{step:1},rules:[{validator:function(){var M=Object(n.a)(Object(s.a)().mark(function I(T,i){return Object(s.a)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:if(!(Math.pow(2,Math.ceil(Math.log2(i)))-i)){_.next=2;break}return _.abrupt("return",Promise.reject(new Error(B.formatMessage({id:"notPowerOfTwo",defaultMessage:"notPowerOfTwo"}))));case 2:return _.abrupt("return",Promise.resolve());case 3:case"end":return _.stop()}},I)}));function U(I,T){return M.apply(this,arguments)}return U}()}]}),Object(t.jsx)(z.a.Item,{name:"extra",label:Object(t.jsx)(a.a,{id:"extra"}),tooltip:Object(t.jsx)(a.a,{id:"extra"}),valuePropName:"value",children:Object(t.jsx)(H.a,{})})]})},ie=oe,de=[{title:Object(t.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",sorter:!0},{title:Object(t.jsx)(a.a,{id:"default",defaultMessage:"default"}),dataIndex:"default",hideInSearch:!0}],ue=function(C){var A=C.class_type,W=Object(l.useRef)(),ae=Object(l.useState)(!1),X=Object(r.a)(ae,2),Z=X[0],P=X[1],w=Object(a.j)(),k=Object(l.useState)(!1),B=Object(r.a)(k,2),q=B[0],N=B[1],S=Object(l.useState)([]),ee=Object(r.a)(S,2),M=ee[0],U=ee[1],I=Object(l.useCallback)(function(){var T=Object(n.a)(Object(s.a)().mark(function i(D){var _,ne,se,re;return Object(s.a)().wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return _=D.class_type_to_remove,ne=D.name,P(!0),se=o.b.loading(Object(t.jsx)(a.a,{id:"loading",defaultMessage:"loading"})),g.prev=3,g.next=6,Object(x.b)({class_type:_,name:ne}).then(function(le){P(!1),le.success&&o.b.success(le.message)});case 6:return se(),P(!1),(re=W.current)===null||re===void 0||re.reload(),g.abrupt("return",!0);case 12:return g.prev=12,g.t0=g.catch(3),se(),o.b.error(Object(t.jsx)(a.a,{id:"error",defaultMessage:"error"})),P(!1),g.abrupt("return",!1);case 18:case"end":return g.stop()}},i,null,[[3,12]])}));return function(i){return T.apply(this,arguments)}}(),[W]);return Object(t.jsxs)(l.Fragment,{children:[Object(t.jsx)(ie,{fields:M,onResponse:function(){N(!1),W.current&&W.current.reload()},class_type:A,name:q,visible:typeof q=="string",onVisibleChange:function(i){return i===!1&&N(!1)}}),Object(t.jsx)(v.a,{search:!1,headerTitle:w.formatMessage({id:"ModelFields",defaultMessage:"Model Fields"}),toolBarRender:function(){return[Object(t.jsxs)(f.a,{type:"primary",onClick:function(){return N("new")},children:[Object(t.jsx)(O.a,{})," ",Object(t.jsx)(a.a,{id:"new",defaultMessage:"new"})]},"new")]},loading:Z,actionRef:W,rowKey:"id",request:function(){return P(!0),Object(x.c)({class_type:A}).then(function(i){return P(!1),i.success?(U(i.data),{data:i.data,total:i.data.length,success:!0}):[]})},columns:[].concat(de,[{title:Object(t.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(i,D){return[Object(t.jsx)(u.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(f.a,{type:"primary",icon:Object(t.jsx)(F.a,{}),onClick:function(){return N(D.name)}})},"edit"),Object(t.jsx)(p.a,{title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return D.name&&I({class_type_to_remove:A,name:D.name})},okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(u.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(f.a,{type:"primary",icon:Object(t.jsx)(K.a,{}),danger:!0})})},"delete")]}}])})]})},ce=ue,je=function(){return Object(t.jsx)(d.a,{children:Object(t.jsxs)(c.a,{tabs:{type:"card",activeKey:"fields",onChange:function(A){switch(A){case"list":return a.e.push("/users");default:return a.e.push("/users/".concat(A))}}},children:[Object(t.jsx)(c.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"list"})},"list"),Object(t.jsx)(c.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"ModelFields"}),children:Object(t.jsx)(ce,{class_type:"EscolaLms\\Auth\\Models\\User"})},"fields")]})})},Oe=m.default=je}}]);
