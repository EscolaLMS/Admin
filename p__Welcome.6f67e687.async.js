(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{"Ecy+":function(V,x,t){"use strict";var h=t("fOrg"),R=t("+KLJ"),y=t("k1fw"),W=t("T2oS"),K=t("W9HT"),E=t("+L6B"),Y=t("2/Rp"),L=t("tJVT"),g=t("q1tI"),S=t("I+Rq"),D=t("qLMh"),N=t("9og8"),u=t("9kvl");function n(p,i){return e.apply(this,arguments)}function e(){return e=Object(N.a)(Object(D.a)().mark(function p(i,r){return Object(D.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(u.g)("/api/admin/reports/report",Object(y.a)({params:i,method:"GET",useCache:!1},r||{})));case 1:case"end":return d.stop()}},p)})),e.apply(this,arguments)}var z=t("nhC9"),A=t("Mo4S"),F=t("8j+T"),o=t("nKUr"),G={appendPadding:10,angleField:"value",colorField:"label",radius:.9,label:{type:"inner",offset:"-30%",content:function(i){var r=i.percent;return r>=.01?"".concat((r*100).toFixed(0),"%"):""},style:{fontSize:14,textAlign:"center"}},interactions:[{type:"element-active"}]},J=function(i){var r=i.metric,f=i.header,d=f===void 0?!0:f,B=Object(g.useState)({mode:"init"}),T=Object(L.a)(B,2),s=T[0],v=T[1],j=Object(u.j)();Object(g.useEffect)(function(){v({mode:"loading"}),n({metric:r}).then(function(c){c.success?v({mode:"loaded",value:c.data}):v({mode:"error",error:c.message})}).catch(function(c){return v({mode:"error",error:c.toString()})})},[r]);var I=Object(g.useCallback)(function(){if(s.mode==="loaded"){var c={filename:r.split("\\").join("-"),fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!0,title:j.formatMessage({id:r.split("\\").pop()}),useTextFile:!1,useBom:!0,useKeysAsHeaders:!0},M=new F.ExportToCsv(c);M.generateCsv(s.value)}},[s]);return Object(o.jsxs)(z.a,{title:d&&Object(o.jsx)(u.a,{id:r.split("\\").pop(),defaultMessage:r.split("\\").pop()}),extra:d&&Object(o.jsxs)(Y.a,{icon:Object(o.jsx)(A.a,{}),size:"small",onClick:function(){return I()},children:[" ",Object(o.jsx)(u.a,{id:"download"}),"\xA0","CSV"]}),headerBordered:!0,children:[s.mode==="loading"&&Object(o.jsx)(K.a,{}),s.mode==="loaded"&&Object(o.jsx)("div",{children:Object(o.jsx)(S.a,Object(y.a)(Object(y.a)({},G),{},{data:s.value}))}),s.mode==="error"&&Object(o.jsx)(R.a,{message:s.error,type:"error"})]})},Z=x.a=J},RyC9:function(V,x,t){"use strict";t.r(x);var h=t("q1tI"),R=t("tMyG"),y=t("DYRE"),W=t("zeV3"),K=t("14J3"),E=t("BMrR"),Y=t("tU7J"),L=t("wFql"),g=t("+L6B"),S=t("2/Rp"),D=t("k1fw"),N=t("oBTY"),u=t("tJVT"),n=t("9kvl"),e=t("nKUr"),z=function(){return Object(e.jsxs)("div",{className:"dashboard-draggable__component",children:[Object(e.jsx)("h3",{children:Object(e.jsx)(n.a,{id:"current_users"})}),Object(e.jsx)("article",{children:Object(e.jsx)("div",{children:"This Dashboard component is not yet implemented. Sorry"})})]})},A=z,F=function(){return Object(e.jsxs)("div",{className:"dashboard-draggable__component",children:[Object(e.jsx)("h3",{children:Object(e.jsx)(n.a,{id:"customers"})}),Object(e.jsx)("article",{children:Object(e.jsx)("div",{children:"This Dashboard component is not yet implemented. Sorry"})})]})},o=F,G=function(){return Object(e.jsxs)("div",{className:"dashboard-draggable__component",children:[Object(e.jsx)("h3",{children:Object(e.jsx)(n.a,{id:"hall_of_fame"})}),Object(e.jsx)("article",{children:Object(e.jsx)("div",{children:"This Dashboard component is not yet implemented. Sorry"})})]})},J=G,Z=function(){return Object(e.jsxs)("div",{className:"dashboard-draggable__component",children:[Object(e.jsx)("h3",{children:Object(e.jsx)(n.a,{id:"ratings"})}),Object(e.jsx)("article",{children:Object(e.jsx)("div",{children:"This Dashboard component is not yet implemented. Sorry"})})]})},p=Z,i=function(){return Object(e.jsxs)("div",{className:"dashboard-draggable__component",children:[Object(e.jsx)("h3",{children:Object(e.jsx)(n.a,{id:"sales"})}),Object(e.jsx)("article",{children:Object(e.jsx)("div",{children:"This Dashboard component is not yet implemented. Sorry"})})]})},r=i,f=function(){return Object(e.jsxs)("div",{className:"dashboard-draggable__component",children:[Object(e.jsx)("h3",{children:Object(e.jsx)(n.a,{id:"tutorial"})}),Object(e.jsx)("article",{children:Object(e.jsx)("div",{children:"This Dashboard component is not yet implemented. Sorry"})})]})},d=f,B=function(){return Object(e.jsxs)("div",{className:"dashboard-draggable__component",children:[Object(e.jsx)("h3",{children:Object(e.jsx)(n.a,{id:"your_courses"})}),Object(e.jsx)("article",{children:Object(e.jsx)("div",{children:"This Dashboard component is not yet implemented. Sorry"})})]})},T=B,s=t("Ecy+"),v=function(U){var b=U.metric;return Object(e.jsxs)("div",{className:"dashboard-draggable__component",children:[Object(e.jsx)("h3",{children:Object(e.jsx)(n.a,{id:b.split("\\").pop(),defaultMessage:b.split("\\").pop()})}),Object(e.jsx)("article",{children:Object(e.jsx)(s.a,{metric:b,header:!1})})]})},j=v,I=t("3ouR"),c=t("xGfz"),M=t("ChGz"),ne=t("tW4V"),oe=t("oidH"),se=t("ZETH"),w=Object(M.WidthProvider)(M.Responsive),k=2,q=150,H={"current-users":{component:A,w:1,h:1,maxH:1},customers:{component:o,w:1,h:1,maxH:1},"hall-of-fame":{component:J,w:1,h:1,maxH:1},ratings:{component:p,w:1,h:1,maxH:1},sales:{component:r,w:1,h:1,maxH:1},tutorial:{component:d,w:1,h:1,maxH:1},"your-courses":{component:T,w:1,h:1,maxH:1},"pie-chart-CoursesMoneySpentMetric":{w:1,h:4,maxH:4,component:j,props:{metric:"EscolaLms\\Reports\\Metrics\\CoursesMoneySpentMetric",header:!1}},"pie-chart-CoursesPopularityMetric":{w:1,h:4,maxH:4,component:j,props:{metric:"EscolaLms\\Reports\\Metrics\\CoursesPopularityMetric",header:!1,foo:"bar"}},"pie-chart-CoursesSecondsSpentMetric":{w:1,h:4,maxH:4,component:j,props:{metric:"EscolaLms\\Reports\\Metrics\\CoursesSecondsSpentMetric",header:!1}},"pie-chart-TutorsPopularityMetric":{w:1,h:4,maxH:4,component:j,props:{metric:"EscolaLms\\Reports\\Metrics\\TutorsPopularityMetric",header:!1}},add:{w:1,h:1,maxH:1,component:j}},_=["pie-chart-CoursesMoneySpentMetric","pie-chart-CoursesPopularityMetric","pie-chart-CoursesSecondsSpentMetric","pie-chart-TutorsPopularityMetric"],ee=function(){var U=Object(h.useState)(_),b=Object(u.a)(U,2),C=b[0],$=b[1],te=Object(h.useCallback)(function(a){$(function(m){return m.filter(function(O){return O!==a})})},[]),ae=Object(h.useCallback)(function(a){$(function(m){return[].concat(Object(N.a)(m),[a])})},[]),re=Object(h.useMemo)(function(){var a=1,m=0,O=C.map(function(X){var P=H[X];return a=(a+P.w)%k,{i:X,x:a,y:m++,w:P.w,h:P.h,maxH:P.maxH}});return{lg:O,md:O,sm:O,xs:O}},[C]),Q=Object(h.useMemo)(function(){return Object.keys(H).filter(function(a){return!C.includes(a)&&a!=="add"})},[C]);return Object(e.jsx)("main",{children:Object(e.jsxs)(w,{rowHeight:q,autoSize:!0,cols:{lg:2,md:2,sm:2},className:"layout dashboard-draggable",layouts:re,children:[C.filter(function(a){return a!=="add"}).map(function(a){return Object(e.jsxs)("div",{children:[H[a].component(Object(D.a)({},H[a].props)),Object(e.jsx)(S.a,{size:"small",type:"default",icon:Object(e.jsx)(I.a,{}),className:"dashboard-draggable__remove_btn",onClick:function(){return te(a)}})]},a)}),Q.length>0&&Object(e.jsx)("div",{children:Object(e.jsx)("div",{className:"dashboard-draggable__component",children:Object(e.jsxs)("article",{children:[Object(e.jsx)(E.a,{align:"middle",justify:"center",children:Object(e.jsx)(L.a.Title,{level:3,children:Object(e.jsx)(n.a,{id:"add_new_component"})})}),Object(e.jsx)(E.a,{align:"middle",justify:"center",children:Object(e.jsx)(W.b,{wrap:!0,style:{justifyContent:"center"},children:Q.map(function(a){return Object(e.jsxs)(S.a,{icon:Object(e.jsx)(c.a,{}),size:"small",type:"primary",onClick:function(){return ae(a)},children:[" ",Object(e.jsx)(n.a,{id:a})]},a)})})})]})})},"add")]})})},ce=x.default=function(){return Object(e.jsx)(R.a,{children:Object(e.jsx)(ee,{})})}},ZETH:function(V,x,t){}}]);
