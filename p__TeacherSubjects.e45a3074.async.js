(window.webpackJsonp=window.webpackJsonp||[]).push([[36],{rbc4:function(ee,h,e){"use strict";e.r(h),e.d(h,"TableColumns",function(){return M});var te=e("5Dmo"),z=e("3S7+"),ae=e("+L6B"),E=e("2/Rp"),I=e("k1fw"),P=e("PpiC"),s=e("q1tI"),r=e("9kvl"),A=e("55Ip"),J=e("tMyG"),V=e("Qiat"),p=e("psqD"),B=e("G3dp"),ne=e("OaEy"),C=e("2fM7"),se=e("T2oS"),G=e("W9HT"),y=e("oBTY"),T=e("tJVT"),t=e("nKUr"),K=function(a){var c=a.value,l=a.onChange,d=a.onSelect,u=a.onDeselect,j=a.onClear,f=a.loading,v=a.disabled,F=a.multiple,U=F===void 0?!1:F,N=Object(s.useState)([]),R=Object(T.a)(N,2),S=R[0],D=R[1],X=Object(s.useState)(!1),L=Object(T.a)(X,2),Z=L[0],g=L[1],$=Object(s.useRef)(),b=Object(s.useRef)(),w=Object(s.useCallback)(function(n){D(function(o){return[].concat(Object(y.a)(o),Object(y.a)(n)).filter(function(i,m,q){return q.findIndex(function(_){return _.id===i.id})===m})})},[]);Object(s.useEffect)(function(){$.current=S},[S]);var x=Object(s.useCallback)(function(n){g(!0),b.current&&b.current.abort(),b.current=new AbortController,Object(p.d)({academicYearID:n},{signal:b.current.signal}).then(function(o){o.success&&D(o.data),g(!1)}).catch(function(){return g(!1)})},[w]),k=Object(s.useCallback)(function(n){x(n)},[x]);return Object(t.jsx)(C.a,{onSelect:d,onDeselect:u,onClear:j,loading:f,disabled:v,onFocus:function(){return x()},allowClear:!0,style:{width:"100%"},value:c,onChange:l,mode:U?"multiple":void 0,showSearch:!0,onSearch:k,placeholder:Object(t.jsx)(r.a,{id:"select_semester",defaultMessage:"Select semester"}),optionFilterProp:"children",filterOption:function(o,i){if(i&&i.children){var m;return(i==null||(m=i.children)===null||m===void 0?void 0:m.toString().toLowerCase().indexOf(o.toLowerCase()))>=0}return!0},notFoundContent:Z?Object(t.jsx)(G.a,{size:"small"}):null,children:S.map(function(n){return Object(t.jsx)(C.a.Option,{value:n.id,children:n.name},n.id)})})},W=K,Y=e("lanV"),H=["type","defaultRender"],M=[{hideInSearch:!1,hideInTable:!0,title:Object(t.jsx)(r.a,{id:"semester",defaultMessage:"semester"}),dataIndex:"semester_id",renderFormItem:function(a,c,l){var d=c.type,u=c.defaultRender,j=Object(P.a)(c,H);if(d==="form")return null;var f=l.getFieldValue("state");return Object(t.jsx)(W,Object(I.a)(Object(I.a)({},j),{},{state:{type:f}}))}},{title:Object(t.jsx)(r.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,width:"80px"},{title:Object(t.jsx)(r.a,{id:"subject",defaultMessage:"subject"}),dataIndex:["subject","name"],hideInSearch:!0},{title:Object(t.jsx)(r.a,{id:"semester",defaultMessage:"semester"}),dataIndex:["semester","name"],hideInSearch:!0},{title:Object(t.jsx)(r.a,{id:"group",defaultMessage:"group"}),dataIndex:"groups",render:function(a,c){return Object(t.jsx)("span",{children:c.groups.map(function(l){return Object(t.jsxs)("span",{children:[l.name," ",Object(t.jsx)("br",{})]},l.id)})})},hideInForm:!0,hideInSearch:!0}],Q=function(){var a=Object(s.useRef)(),c=Object(r.l)();return Object(t.jsx)(J.a,{children:Object(t.jsx)(V.a,{headerTitle:c.formatMessage({id:"menu.Teacher.Subjects",defaultMessage:"Subjects"}),actionRef:a,rowKey:"id",search:{layout:"vertical"},pagination:{pageSize:Y.a},request:function(d){var u=d.pageSize,j=d.current,f=d.semester_id;return Object(p.c)({per_page:u,page:j,semester_id:f}).then(function(v){return v.success?{data:v.data,total:v.meta.total,success:!0}:[]})},columns:[].concat(M,[{hideInSearch:!0,title:Object(t.jsx)(r.a,{id:"pages.searchTable.titleOption"}),dataIndex:"option",valueType:"option",render:function(d,u){return[Object(t.jsx)(A.a,{to:"/teacher/subjects/".concat(u.id),children:Object(t.jsx)(z.a,{title:Object(t.jsx)(r.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(E.a,{type:"primary",icon:Object(t.jsx)(B.a,{})})})},"edit")]}}])})})},re=h.default=Q}}]);

//# sourceMappingURL=p__TeacherSubjects.e45a3074.async.js.map