(window.webpackJsonp=window.webpackJsonp||[]).push([[46],{"+up7":function(V,P,e){"use strict";e.d(P,"f",function(){return b}),e.d(P,"d",function(){return h}),e.d(P,"b",function(){return s}),e.d(P,"h",function(){return c}),e.d(P,"c",function(){return o}),e.d(P,"e",function(){return j}),e.d(P,"a",function(){return C}),e.d(P,"g",function(){return i});var f=e("k1fw"),M=e("9og8"),A=e("WmNS"),r=e.n(A),O=e("9kvl");function b(l,u){return _.apply(this,arguments)}function _(){return _=Object(M.a)(r.a.mark(function l(u,t){return r.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(O.f)("/api/admin/settings",Object(f.a)({method:"GET",useCache:!1,params:Object(f.a)(Object(f.a)({},u),{},{per_page:u.pageSize,page:u.current})},t||{})));case 1:case"end":return d.stop()}},l)})),_.apply(this,arguments)}function h(l,u){return n.apply(this,arguments)}function n(){return n=Object(M.a)(r.a.mark(function l(u,t){return r.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(O.f)("/api/admin/settings/".concat(u),Object(f.a)({method:"GET",useCache:!1},t||{})));case 1:case"end":return d.stop()}},l)})),n.apply(this,arguments)}function s(l,u){return p.apply(this,arguments)}function p(){return p=Object(M.a)(r.a.mark(function l(u,t){return r.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(O.f)("/api/admin/settings",Object(f.a)({method:"POST",headers:{"Content-Type":"application/json"},data:u},t||{})));case 1:case"end":return d.stop()}},l)})),p.apply(this,arguments)}function c(l,u,t){return E.apply(this,arguments)}function E(){return E=Object(M.a)(r.a.mark(function l(u,t,m){return r.a.wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",Object(O.f)("/api/admin/settings/".concat(u),Object(f.a)({method:"PUT",headers:{"Content-Type":"application/json"},data:t},m||{})));case 1:case"end":return D.stop()}},l)})),E.apply(this,arguments)}function o(l,u){return v.apply(this,arguments)}function v(){return v=Object(M.a)(r.a.mark(function l(u,t){return r.a.wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.abrupt("return",Object(O.f)("/api/admin/settings/".concat(u),Object(f.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},t||{})));case 1:case"end":return d.stop()}},l)})),v.apply(this,arguments)}function j(l){return T.apply(this,arguments)}function T(){return T=Object(M.a)(r.a.mark(function l(u){return r.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",Object(O.f)("/api/admin/settings/groups",Object(f.a)({method:"GET",useCache:!1},u||{})));case 1:case"end":return m.stop()}},l)})),T.apply(this,arguments)}function C(l){return a.apply(this,arguments)}function a(){return a=Object(M.a)(r.a.mark(function l(u){return r.a.wrap(function(m){for(;;)switch(m.prev=m.next){case 0:return m.abrupt("return",Object(O.f)("/api/admin/config",Object(f.a)({method:"GET",useCache:!1},u||{})));case 1:case"end":return m.stop()}},l)})),a.apply(this,arguments)}function i(l,u){return x.apply(this,arguments)}function x(){return x=Object(M.a)(r.a.mark(function l(u,t){var m,d;return r.a.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return m=u.key,d=u.value,I.abrupt("return",Object(O.f)("/api/admin/config",Object(f.a)({method:"POST",data:{config:[{key:m,value:d}]}},t||{})));case 2:case"end":return I.stop()}},l)})),x.apply(this,arguments)}},"5ddx":function(V,P,e){"use strict";var f=e("9og8"),M=e("+L6B"),A=e("2/Rp"),r=e("tJVT"),O=e("WmNS"),b=e.n(O),_=e("q1tI"),h=e.n(_),n=e("9kvl"),s=e("Qiat"),p=e("VK58"),c=e("xvlK"),E=e("Xcxh"),o=e("y8nQ"),v=e("Vl3Y"),j=e("rmhi"),T=e("VMEa"),C=e("Qurx"),a=e("nKUr"),i=function(m){var d=Object(n.i)(),D=m.visible,I=m.onVisibleChange,K=m.onFinish,G=v.a.useForm(),L=Object(r.a)(G,1),U=L[0];return Object(_.useEffect)(function(){return function(){U.resetFields()}},[]),Object(a.jsx)(j.a,{form:U,title:d.formatMessage({id:"newSetting",defaultMessage:"newSetting"}),width:"30vw",visible:D,onVisibleChange:I,onFinish:K,children:Object(a.jsxs)(T.a.Group,{children:[Object(a.jsx)(C.a,{label:Object(a.jsx)(n.a,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key"}),Object(a.jsx)(C.a,{label:Object(a.jsx)(n.a,{id:"value",defaultMessage:"value"}),rules:[{required:!0}],width:"md",name:"value"})]})})},x=i,l=function(m){var d=m.user,D=m.isProfile,I=D===void 0?!1:D,K=Object(_.useRef)(),G=Object(n.i)(),L=Object(_.useState)(!1),U=Object(r.a)(L,2),Q=U[0],J=U[1],w=Object(_.useState)("PATCH"),Y=Object(r.a)(w,2),k=Y[0],H=Y[1],X=[{title:Object(a.jsx)(n.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(a.jsx)(n.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInSearch:!0}],q=Object(_.useCallback)(function(y){var B=y&&Object.entries(y).map(function(N){return{key:N[0],value:N[1]}});return B},[d]);return Object(a.jsxs)(h.a.Fragment,{children:[Object(a.jsx)(s.a,{headerTitle:G.formatMessage({id:"menu.settings"}),actionRef:K,rowKey:"id",search:!1,toolBarRender:I?function(){return[Object(a.jsxs)(A.a,{type:"primary",onClick:function(){J(-1),H("PATCH")},children:[Object(a.jsx)(c.a,{})," ",Object(a.jsx)(n.a,{id:"pages.searchTable.new"})]},"primary"),Object(a.jsxs)(A.a,{color:"yellow",type:"primary",onClick:function(){J(-1),H("PUT")},children:[Object(a.jsx)(E.a,{})," ",Object(a.jsx)(n.a,{id:"user.settings.overwrite"})]},"primary")]}:!1,request:function(){return Object(p.d)(Number(d)).then(function(B){return B.success?{data:q(B.data)}:[]})},columns:X}),Object(a.jsx)(x,{id:Q,visible:Number.isInteger(Q),onVisibleChange:function(B){return B===!1&&J(!1)},onFinish:function(){var y=Object(f.a)(b.a.mark(function B(N){var Z;return b.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:return g.next=2,Object(p.g)(Number(d),k,N);case 2:Z=g.sent,Z.success&&(J(!1),K.current&&K.current.reload());case 4:case"end":return g.stop()}},B)}));return function(B){return y.apply(this,arguments)}}()})]})},u=P.a=l},C8Qx:function(V,P,e){"use strict";var f=e("YDZB"),M=e("FJDo"),A=e("tneF"),r=e("Qurx"),O=e("BiO0"),b=e("VMEa"),_=e("q1tI"),h=e.n(_),n=e("9kvl"),s=e("nKUr"),p=e.n(s),c=function(o){var v=o.field,j=Object(n.i)(),T=function(a){var i=a&&a.extra&&a.extra.find(function(x){return x[Object(n.c)()]});switch(a.type){case"number":return Object(s.jsx)(M.a,{width:"md",name:a.name,label:i?i[Object(n.c)()]:Object(s.jsx)(n.a,{id:a.name}),tooltip:Object(s.jsx)(n.a,{id:a.name}),placeholder:j.formatMessage({id:a.name,defaultMessage:a.name}),min:1,max:1024,fieldProps:{step:1}});case"boolean":return Object(s.jsx)(A.a,{name:a.name,children:i?i[Object(n.c)()]:Object(s.jsx)(n.a,{id:a.name})});case"varchar":return Object(s.jsx)(r.a,{width:"md",name:a.name,label:i?i[Object(n.c)()]:Object(s.jsx)(n.a,{id:a.name}),tooltip:Object(s.jsx)(n.a,{id:a.name}),placeholder:j.formatMessage({id:a.name}),required:!0});case"text":return Object(s.jsx)(O.a,{width:"md",name:a.name,label:i?i[Object(n.c)()]:Object(s.jsx)(n.a,{id:a.name}),tooltip:Object(s.jsx)(n.a,{id:a.name}),placeholder:j.formatMessage({id:a.name}),required:!0});case"json":return Object(s.jsx)(b.a.Item,{name:a.name,label:i?i[Object(n.c)()]:Object(s.jsx)(n.a,{id:a.name}),tooltip:Object(s.jsx)(n.a,{id:a.name}),valuePropName:"value",children:Object(s.jsx)(f.a,{})})}};return Object(s.jsx)(s.Fragment,{children:T(v)})};P.a=c},"DBJ/":function(V,P,e){"use strict";var f=e("y8nQ"),M=e("Vl3Y"),A=e("etVw"),r=e("q1tI"),O=e.n(r),b=e("9kvl"),_=e("qFDU"),h=e("nKUr"),n=e.n(h),s=function(c){var E=c.onChange,o=c.url,v=c.name,j=c.extra,T=c.accept,C=c.data,a=c.wrapInForm,i=a===void 0?!0:a,x=c.title,l=Object(b.i)();return C&&C[v]&&delete C[v],Object(h.jsx)(_.a,{condition:i,wrap:function(t){return Object(h.jsx)(M.a,{children:t})},children:Object(h.jsx)(A.a,{title:x||Object(h.jsx)(b.a,{id:"upload_click_here"}),placeholder:l.formatMessage({id:"upload_click_here"}),onChange:E,label:Object(h.jsx)(b.a,{id:"upload"}),max:2,fieldProps:{data:C,accept:T,name:v,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(o),extra:j})})};P.a=s},Jfn2:function(V,P,e){"use strict";var f=e("k1fw"),M=e("XCrF"),A=e("1GRj"),r=e("PpiC"),O=e("q1tI"),b=e.n(O),_=e("nKUr"),h=e.n(_),n=function(p){var c=p.path,E=p.size,o=p.srcSizes,v=p.alt,j=v===void 0?"LMS Image":v,T=Object(r.a)(p,["path","size","srcSizes","alt"]),C="".concat("https://api-stage.escolalms.com","/api/images/img?path=").concat(c,"&w=").concat(o?o[0]:E),a=o&&o.map(function(i){return"".concat("https://api-stage.escolalms.com","/api/images/img?path=").concat(c,"&w=").concat(i," ").concat(i,"w")});return Object(_.jsx)("div",{className:"escolalms-image",children:Object(_.jsx)(A.a,Object(f.a)({src:C,srcSet:a&&a.join(","),alt:j},T))})};P.a=n},Qurx:function(V,P,e){"use strict";var f=e("wx14"),M=e("Ff2n"),A=e("q1tI"),r=e.n(A),O=e("adzw"),b=["fieldProps","proFieldProps"],_=["fieldProps","proFieldProps"],h="text",n=function(E){var o=E.fieldProps,v=E.proFieldProps,j=Object(M.a)(E,b);return r.a.createElement(O.a,Object(f.a)({mode:"edit",valueType:h,fieldProps:o,filedConfig:{valueType:h},proFieldProps:v},j))},s=function(E){var o=E.fieldProps,v=E.proFieldProps,j=Object(M.a)(E,_);return r.a.createElement(O.a,Object(f.a)({mode:"edit",valueType:"password",fieldProps:o,proFieldProps:v,filedConfig:{valueType:h}},j))},p=n;p.Password=s,p.displayName="ProFormComponent",P.a=p},YDZB:function(V,P,e){"use strict";var f=e("2qtc"),M=e("kLXV"),A=e("7Kak"),r=e("9yH6"),O=e("+L6B"),b=e("2/Rp"),_=e("tJVT"),h=e("q1tI"),n=e.n(h),s=e("gU/Y"),p=e("9kvl"),c=e("u95b"),E=e.n(c),o=e("nKUr"),v=e.n(o),j=function(C){var a=C.value,i=C.onChange,x=Object(h.useState)(!1),l=Object(_.a)(x,2),u=l[0],t=l[1],m=Object(h.useCallback)(function(){t(!1)},[]),d=Object(h.useState)("code"),D=Object(_.a)(d,2),I=D[0],K=D[1];return Object(o.jsxs)("div",{children:[Object(o.jsx)(b.a,{type:"primary",onClick:function(){return t(!0)},size:"small",children:Object(o.jsx)(p.a,{id:"json_editor"})}),Object(o.jsxs)(M.a,{title:"JSON",visible:u,onOk:m,onCancel:m,children:[Object(o.jsxs)(r.a.Group,{onChange:function(L){return K(L.target.value)},value:I,children:[Object(o.jsx)(r.a,{value:"tree",children:"tree"}),Object(o.jsx)(r.a,{value:"view",children:"view"}),Object(o.jsx)(r.a,{value:"form",children:"form"}),Object(o.jsx)(r.a,{value:"code",children:"code"}),Object(o.jsx)(r.a,{value:"text",children:"text"})]}),Object(o.jsx)(s.a,{mode:I,value:a,onChange:function(L){return i&&i(L)}},I)]})]})};P.a=j},fWLy:function(V,P,e){"use strict";e.r(P);var f=e("T2oS"),M=e("W9HT"),A=e("miYZ"),r=e("tsqr"),O=e("k1fw"),b=e("9og8"),_=e("tJVT"),h=e("WmNS"),n=e.n(h),s=e("q1tI"),p=e.n(s),c=e("VMEa"),E=e("Qurx"),o=e("nhC9"),v=e("VK58"),j=e("tMyG"),T=e("DBJ/"),C=e("Jfn2"),a=e("Ty5D"),i=e("9kvl"),x=e("5ddx"),l=e("+up7"),u=e("C8Qx"),t=e("nKUr"),m=e.n(t);P.default=function(){var d=Object(a.h)(),D=Object(i.i)(),I=d.tab,K=I===void 0?"general":I,G=Object(s.useState)(),L=Object(_.a)(G,2),U=L[0],Q=L[1],J=Object(s.useState)([]),w=Object(_.a)(J,2),Y=w[0],k=w[1],H=Object(s.useState)([]),X=Object(_.a)(H,2),q=X[0],y=X[1],B=Object(s.useCallback)(Object(b.a)(n.a.mark(function F(){var g;return n.a.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.next=2,Object(l.a)();case 2:g=R.sent,g.success&&(k(g.data.escola_auth.additional_fields_required.value),y(g.data.escola_auth.additional_fields.value));case 4:case"end":return R.stop()}},F)})),[]);Object(s.useEffect)(function(){var F=function(){var g=Object(b.a)(n.a.mark(function S(){var R;return n.a.wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.next=2,Object(v.e)();case 2:R=$.sent,R.success&&Q(Object(O.a)(Object(O.a)({},R.data),{},{bio:R.data.bio||""}));case 4:case"end":return $.stop()}},S)}));return function(){return g.apply(this,arguments)}}();B(),F()},[]);var N=Object(s.useMemo)(function(){return{onFinish:function(){var F=Object(b.a)(n.a.mark(function S(R){var z;return n.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,Object(v.h)(R);case 2:z=W.sent,r.default.success(z.message);case 4:case"end":return W.stop()}},S)}));function g(S){return F.apply(this,arguments)}return g}(),initialValues:U}},[U]),Z=Object(s.useMemo)(function(){return{onFinish:function(){var F=Object(b.a)(n.a.mark(function S(R){var z;return n.a.wrap(function(W){for(;;)switch(W.prev=W.next){case 0:return W.next=2,Object(v.i)(R);case 2:z=W.sent,r.default.success(z.message);case 4:case"end":return W.stop()}},S)}));function g(S){return F.apply(this,arguments)}return g}(),initialValues:U}},[U]);return U?Object(t.jsx)(j.a,{title:Object(t.jsx)(i.a,{id:"my_profile"}),header:{breadcrumb:{routes:[{path:"users",breadcrumbName:D.formatMessage({id:"menu.Users"})},{path:"me",breadcrumbName:D.formatMessage({id:"my_profile"})},{path:String(K),breadcrumbName:D.formatMessage({id:String(K)})}]}},children:Object(t.jsxs)(o.a,{tabs:{type:"card",activeKey:K,onChange:function(g){return i.d.push("/users/me/".concat(g))}},children:[Object(t.jsx)(o.a.TabPane,{tab:Object(t.jsx)(i.a,{id:"general"}),children:Object(t.jsxs)(c.a,Object(O.a)(Object(O.a)({},N),{},{children:[Object(t.jsxs)(c.a.Group,{children:[Object(t.jsx)(E.a,{width:"md",name:"first_name",label:Object(t.jsx)(i.a,{id:"first_name"}),tooltip:Object(t.jsx)(i.a,{id:"first_name"}),placeholder:D.formatMessage({id:"first_name"}),required:!0}),Object(t.jsx)(E.a,{width:"md",name:"last_name",label:Object(t.jsx)(i.a,{id:"last_name"}),tooltip:Object(t.jsx)(i.a,{id:"last_name"}),placeholder:D.formatMessage({id:"last_name"}),required:!0})]}),Object(t.jsx)(u.a,{additionalFields:q,requiredFields:Y,id:U.id}),Object(t.jsx)(c.a.Group,{children:Object(t.jsxs)(c.a.Item,{name:"avatar",label:Object(t.jsx)(i.a,{id:"avatar"}),children:[U.path_avatar&&Object(t.jsx)(C.a,{path:U.path_avatar,size:600,width:200}),Object(t.jsx)(T.a,{url:"/api/profile/upload-avatar",name:"avatar",accept:"image/*",onChange:function(g){g.file.status==="done"&&g.file.response.success&&Q(g.file.response.data)}})]})})]}))},"general"),Object(t.jsx)(o.a.TabPane,{tab:Object(t.jsx)(i.a,{id:"change_password"}),children:Object(t.jsxs)(c.a,Object(O.a)(Object(O.a)({},Z),{},{children:[Object(t.jsx)(c.a.Group,{children:Object(t.jsx)(E.a.Password,{width:"md",name:"current_password",label:Object(t.jsx)(i.a,{id:"current_password"}),placeholder:D.formatMessage({id:"current_password"}),required:!0})}),Object(t.jsxs)(c.a.Group,{children:[Object(t.jsx)(E.a.Password,{width:"md",name:"new_password",label:Object(t.jsx)(i.a,{id:"new_password"}),placeholder:D.formatMessage({id:"new_password"}),required:!0}),Object(t.jsx)(E.a.Password,{width:"md",name:"new_confirm_password",label:Object(t.jsx)(i.a,{id:"new_confirm_password"}),placeholder:D.formatMessage({id:"new_confirm_password"}),required:!0})]})]}))},"change_password"),Object(t.jsx)(o.a.TabPane,{tab:Object(t.jsx)(i.a,{id:"user.settings"}),children:Object(t.jsx)(x.a,{user:String(U.id),isProfile:!0})},"user_settings")]})}):Object(t.jsx)(M.a,{})}},tneF:function(V,P,e){"use strict";var f=e("sRBo"),M=e("kaz8"),A=e("wx14"),r=e("VTBJ"),O=e("Ff2n"),b=e("q1tI"),_=e.n(b),h=e("adzw"),n=e("uX+g"),s=e("WFLz"),p=["options","fieldProps","proFieldProps","valueEnum"],c=_.a.forwardRef(function(j,T){var C=j.options,a=j.fieldProps,i=j.proFieldProps,x=j.valueEnum,l=Object(O.a)(j,p);return _.a.createElement(h.a,Object(A.a)({ref:T,valueType:"checkbox",mode:"edit",valueEnum:Object(n.a)(x,void 0),fieldProps:Object(r.a)({options:C},a),proFieldProps:i},l))}),E=_.a.forwardRef(function(j,T){var C=j.fieldProps,a=j.children;return _.a.createElement(M.a,Object(A.a)({ref:T},C),a)}),o=Object(s.a)(E,{valuePropName:"checked"}),v=o;v.Group=c,P.a=v}}]);
