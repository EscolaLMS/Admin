"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[4471,5289],{88284:function(se,x,e){var l=e(1413),d=e(67294),b=e(32857),c=e(84089),m=function(u,n){return d.createElement(c.Z,(0,l.Z)((0,l.Z)({},u),{},{ref:n,icon:b.Z}))};m.displayName="CheckOutlined",x.Z=d.forwardRef(m)},28508:function(se,x,e){var l=e(1413),d=e(67294),b=e(89503),c=e(84089),m=function(u,n){return d.createElement(c.Z,(0,l.Z)((0,l.Z)({},u),{},{ref:n,icon:b.Z}))};m.displayName="CloseOutlined",x.Z=d.forwardRef(m)},69753:function(se,x,e){var l=e(1413),d=e(67294),b=e(49495),c=e(84089),m=function(u,n){return d.createElement(c.Z,(0,l.Z)((0,l.Z)({},u),{},{ref:n,icon:b.Z}))};m.displayName="DownloadOutlined",x.Z=d.forwardRef(m)},47389:function(se,x,e){var l=e(1413),d=e(67294),b=e(27363),c=e(84089),m=function(u,n){return d.createElement(c.Z,(0,l.Z)((0,l.Z)({},u),{},{ref:n,icon:b.Z}))};m.displayName="EditOutlined",x.Z=d.forwardRef(m)},55725:function(se,x,e){var l=e(1413),d=e(67294),b=e(85118),c=e(84089),m=function(u,n){return d.createElement(c.Z,(0,l.Z)((0,l.Z)({},u),{},{ref:n,icon:b.Z}))};m.displayName="FolderOutlined",x.Z=d.forwardRef(m)},56717:function(se,x,e){var l=e(1413),d=e(67294),b=e(93696),c=e(84089),m=function(u,n){return d.createElement(c.Z,(0,l.Z)((0,l.Z)({},u),{},{ref:n,icon:b.Z}))};m.displayName="InfoCircleOutlined",x.Z=d.forwardRef(m)},51042:function(se,x,e){var l=e(1413),d=e(67294),b=e(42110),c=e(84089),m=function(u,n){return d.createElement(c.Z,(0,l.Z)((0,l.Z)({},u),{},{ref:n,icon:b.Z}))};m.displayName="PlusOutlined",x.Z=d.forwardRef(m)},63434:function(se,x,e){var l=e(1413),d=e(45987),b=e(22270),c=e(84567),m=e(67294),T=e(90789),u=e(41550),n=e(85893),I=["options","fieldProps","proFieldProps","valueEnum"],v=m.forwardRef(function(g,L){var r=g.options,E=g.fieldProps,h=g.proFieldProps,i=g.valueEnum,o=(0,d.Z)(g,I);return(0,n.jsx)(u.Z,(0,l.Z)({ref:L,valueType:"checkbox",valueEnum:(0,b.h)(i,void 0),fieldProps:(0,l.Z)({options:r},E),lightProps:(0,l.Z)({labelFormatter:function(){return(0,n.jsx)(u.Z,(0,l.Z)({ref:L,valueType:"checkbox",mode:"read",valueEnum:(0,b.h)(i,void 0),filedConfig:{customLightMode:!0},fieldProps:(0,l.Z)({options:r},E),proFieldProps:h},o))}},o.lightProps),proFieldProps:h},o))}),W=m.forwardRef(function(g,L){var r=g.fieldProps,E=g.children;return(0,n.jsx)(c.Z,(0,l.Z)((0,l.Z)({ref:L},r),{},{children:E}))}),_=(0,T.G)(W,{valuePropName:"checked"}),A=_;A.Group=v,x.Z=A},31199:function(se,x,e){var l=e(1413),d=e(45987),b=e(67294),c=e(41550),m=e(85893),T=["fieldProps","min","proFieldProps","max"],u=function(v,W){var _=v.fieldProps,A=v.min,g=v.proFieldProps,L=v.max,r=(0,d.Z)(v,T);return(0,m.jsx)(c.Z,(0,l.Z)({valueType:"digit",fieldProps:(0,l.Z)({min:A,max:L},_),ref:W,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:g},r))},n=b.forwardRef(u);x.Z=n},86615:function(se,x,e){var l=e(1413),d=e(45987),b=e(22270),c=e(55742),m=e(67294),T=e(90789),u=e(41550),n=e(85893),I=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],v=m.forwardRef(function(g,L){var r=g.fieldProps,E=g.options,h=g.radioType,i=g.layout,o=g.proFieldProps,C=g.valueEnum,K=(0,d.Z)(g,I);return(0,n.jsx)(u.Z,(0,l.Z)((0,l.Z)({valueType:h==="button"?"radioButton":"radio",ref:L,valueEnum:(0,b.h)(C,void 0)},K),{},{fieldProps:(0,l.Z)({options:E,layout:i},r),proFieldProps:o,filedConfig:{customLightMode:!0}}))}),W=m.forwardRef(function(g,L){var r=g.fieldProps,E=g.children;return(0,n.jsx)(c.ZP,(0,l.Z)((0,l.Z)({},r),{},{ref:L,children:E}))}),_=(0,T.G)(W,{valuePropName:"checked",ignoreWidth:!0}),A=_;A.Group=v,A.Button=c.ZP.Button,A.displayName="ProFormComponent",x.Z=A},52688:function(se,x,e){var l=e(1413),d=e(45987),b=e(67294),c=e(41550),m=e(85893),T=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],u=b.forwardRef(function(n,I){var v=n.fieldProps,W=n.unCheckedChildren,_=n.checkedChildren,A=n.proFieldProps,g=(0,d.Z)(n,T);return(0,m.jsx)(c.Z,(0,l.Z)({valueType:"switch",fieldProps:(0,l.Z)({unCheckedChildren:W,checkedChildren:_},v),ref:I,valuePropName:"checked",proFieldProps:A,filedConfig:{valuePropName:"checked",ignoreWidth:!0,customLightMode:!0}},g))});x.Z=u},5966:function(se,x,e){var l=e(97685),d=e(1413),b=e(45987),c=e(21770),m=e(75842),T=e(55241),u=e(97435),n=e(67294),I=e(41550),v=e(85893),W=["fieldProps","proFieldProps"],_=["fieldProps","proFieldProps"],A="text",g=function(i){var o=i.fieldProps,C=i.proFieldProps,K=(0,b.Z)(i,W);return(0,v.jsx)(I.Z,(0,d.Z)({valueType:A,fieldProps:o,filedConfig:{valueType:A},proFieldProps:C},K))},L=function(i){var o=(0,c.Z)(i.open||!1,{value:i.open,onChange:i.onOpenChange}),C=(0,l.Z)(o,2),K=C[0],Y=C[1];return(0,v.jsx)(m.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(U){var a,V=U.getFieldValue(i.name||[]);return(0,v.jsx)(T.Z,(0,d.Z)((0,d.Z)({getPopupContainer:function(N){return N&&N.parentNode?N.parentNode:N},onOpenChange:Y,content:(0,v.jsxs)("div",{style:{padding:"4px 0"},children:[(a=i.statusRender)===null||a===void 0?void 0:a.call(i,V),i.strengthText?(0,v.jsx)("div",{style:{marginTop:10},children:(0,v.jsx)("span",{children:i.strengthText})}):null]}),overlayStyle:{width:240},placement:"right"},i.popoverProps),{},{open:K,children:i.children}))}})},r=function(i){var o=i.fieldProps,C=i.proFieldProps,K=(0,b.Z)(i,_),Y=(0,n.useState)(!1),w=(0,l.Z)(Y,2),U=w[0],a=w[1];return o!=null&&o.statusRender&&K.name?(0,v.jsx)(L,{name:K.name,statusRender:o==null?void 0:o.statusRender,popoverProps:o==null?void 0:o.popoverProps,strengthText:o==null?void 0:o.strengthText,open:U,onOpenChange:a,children:(0,v.jsx)(I.Z,(0,d.Z)({valueType:"password",fieldProps:(0,d.Z)((0,d.Z)({},(0,u.Z)(o,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(H){var N;o==null||(N=o.onBlur)===null||N===void 0||N.call(o,H),a(!1)},onClick:function(H){var N;o==null||(N=o.onClick)===null||N===void 0||N.call(o,H),a(!0)}}),proFieldProps:C,filedConfig:{valueType:A}},K))}):(0,v.jsx)(I.Z,(0,d.Z)({valueType:"password",fieldProps:o,proFieldProps:C,filedConfig:{valueType:A}},K))},E=g;E.Password=r,E.displayName="ProFormComponent",x.Z=E},90672:function(se,x,e){var l=e(1413),d=e(45987),b=e(67294),c=e(41550),m=e(85893),T=["fieldProps","proFieldProps"],u=function(I,v){var W=I.fieldProps,_=I.proFieldProps,A=(0,d.Z)(I,T);return(0,m.jsx)(c.Z,(0,l.Z)({ref:v,valueType:"textarea",fieldProps:W,proFieldProps:_},A))};x.Z=b.forwardRef(u)},20568:function(se,x,e){e.d(x,{Z:function(){return Y}});var l=e(19632),d=e.n(l),b=e(97857),c=e.n(b),m=e(5574),T=e.n(m),u=e(67294),n=e(17578),I=e(78957),v=e(25514),W=e(96365),_=e(14726),A=e(2487),g=e(72252),L=e(82061),r=e(55725),E=e(69753),h=e(80854),i=e(29477),o=e(85893),C=function(U){var a=U.directory,V=U.onUploaded;return(0,o.jsxs)(I.Z,{align:"start",children:[(0,o.jsxs)(v.Z.Text,{children:[(0,o.jsx)(h.FormattedMessage,{id:"pages.files.filesBrowser"}),(0,o.jsx)(v.Z.Text,{code:!0,children:a})]}),(0,o.jsx)(i.Z,{url:"/api/admin/file/upload",name:"file[]",data:{target:a},onUpload:function(N){N.success&&V(a,N.data)}})]})},K=function(U){var a=U.defaultDirectory,V=a===void 0?"/":a,H=U.onFile,N=U.hideDeleteBtn,ne=N===void 0?!1:N,s=U.forceLoading,O=s===void 0?!1:s,F=(0,h.useIntl)(),j=(0,u.useState)({loading:!1,name:"",directory:V,current_page:1,data:void 0,per_page:1,last_page:1,total:0}),t=T()(j,2),Z=t[0],X=t[1],ae=(0,u.useRef)(),D=(0,u.useCallback)(function(p){X(function(f){return c()(c()({},f),{},{loading:p})})},[]),R=(0,u.useCallback)(function(p,f){p.success&&X(function(z){return c()(c()(c()({},z),p.data),{},{data:[{url:f.split("/").slice(0,-1).join("/"),name:"..",created_at:"",mime:"directory"}].concat(d()(p.data.data.map(function(S){return c()(c()({},S),{},{url:S.mime==="directory"?"".concat(f,"/").concat(S.name):S.url})}))).filter(function(S){return f==="/"||f===V?S.name!=="..":!0}),directory:f,loading:!1})})},[D]),y=(0,u.useCallback)(function(p){var f,z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,S=function(){return ae.current&&ae.current.abort()};return S(),ae.current=new AbortController,D(!0),(0,n.QZ)({directory:p,page:z},{signal:(f=ae.current)===null||f===void 0?void 0:f.signal}).then(function(oe){oe.success&&R(oe,p)}).catch(function(){return D(!1)}),function(){S()}},[D]);(0,u.useEffect)(function(){return y(V)},[V,y]);var ce=(0,u.useCallback)(function(p){D(!0),(0,n.Od)(p).then(function(){y(Z.directory)}).catch(function(){D(!1)})},[y,D,Z.directory]),Q=(0,u.useCallback)(function(p,f){var z,S=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,oe=function(){return ae.current&&ae.current.abort()};return oe(),ae.current=new AbortController,D(!0),(0,n.ht)({directory:p,name:f,page:S},{signal:(z=ae.current)===null||z===void 0?void 0:z.signal}).then(function(Oe){Oe.success&&R(Oe,p)}).catch(function(){return D(!1)}),function(){oe()}},[D]);return(0,o.jsxs)("div",{className:"file-browser",children:[(0,o.jsxs)("div",{className:"file-browser__header",children:[(0,o.jsx)(W.Z,{placeholder:F.formatMessage({id:"search_file"}),className:"file-browser__input",onChange:function(f){return X(function(z){return c()(c()({},z),{},{name:f.target.value})})},value:Z.name}),(0,o.jsxs)("div",{children:[(0,o.jsx)(_.ZP,{className:"file-browser__button",onClick:function(){return y(Z.directory)},children:(0,o.jsx)(h.FormattedMessage,{id:"reset"})}),(0,o.jsx)(_.ZP,{className:"file-browser__button",type:"primary",onClick:function(){return Q(Z.directory,Z.name)},children:(0,o.jsx)(h.FormattedMessage,{id:"query"})})]})]}),(0,o.jsx)(A.Z,{loading:Z.loading||O,size:"small",itemLayout:"horizontal",dataSource:Z.data,header:(0,o.jsx)(C,{directory:Z.directory,onUploaded:function(f,z){z&&(y(f),H&&H(z,f))}}),footer:(0,o.jsx)(C,{directory:Z.directory,onUploaded:function(f,z){y(f),z&&H&&H(z,f)}}),renderItem:function(f){return(0,o.jsx)(A.Z.Item,{actions:f.mime!=="directory"&&!ne?[(0,o.jsx)(_.ZP,{type:"default",danger:!0,icon:(0,o.jsx)(L.Z,{}),size:"small",onClick:function(){return ce(f.url)}},"dir")]:[],children:(0,o.jsx)(A.Z.Item.Meta,{avatar:f.mime==="directory"?(0,o.jsx)(_.ZP,{type:"primary",icon:(0,o.jsx)(r.Z,{}),size:"small",onClick:function(){return y(f.url)}}):(0,o.jsx)("a",{href:f.url,target:"_blank",rel:"noreferrer",children:(0,o.jsx)(_.ZP,{type:"default",icon:(0,o.jsx)(E.Z,{}),size:"small"})}),description:(0,o.jsx)(u.Fragment,{children:(0,o.jsx)(_.ZP,{type:"text",size:"small",onClick:function(){return f.mime==="directory"?y(f.url):H&&H(f,Z.directory)},children:f.name})})})})}}),(0,o.jsx)(g.Z,{pageSizeOptions:[],current:Z.current_page,total:Z.total,pageSize:Z.per_page,onChange:function(f){return y(Z.directory,f)}})]})},Y=K},29477:function(se,x,e){var l=e(97857),d=e.n(l),b=e(5574),c=e.n(b),m=e(55523),T=e(75842),u=e(21974),n=e(67294),I=e(80854),v=e(85893);function W(_){var A=_.onChange,g=_.onUpload,L=_.url,r=_.name,E=_.extra,h=_.accept,i=_.data,o=_.wrapInForm,C=o===void 0?!0:o,K=_.title,Y=_.formProps,w=_.maxFiles,U=_.clearListAfterUpload,a=_.hideLabel,V=_.disabled,H=_.showUploadList,N=(0,n.useState)(),ne=c()(N,2),s=ne[0],O=ne[1],F=(0,I.useIntl)();return i&&i[r]&&delete i[r],(0,v.jsx)(u.Z,{condition:C,wrap:function(t){return(0,v.jsx)(T.Z,d()(d()({},Y),{},{children:t}))},children:(0,v.jsx)(m.Z,{title:K||" ".concat(F.formatMessage({id:"upload_click_here"})),placeholder:F.formatMessage({id:"upload_click_here"}),label:!a&&(0,v.jsx)(I.FormattedMessage,{id:"upload"}),max:w!=null?w:2,fieldProps:{data:i,accept:h,name:r,showUploadList:H,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))},onChange:function(t){O(t),A&&A(t),t.file.status==="done"&&(g&&g(t.file.response),U&&O(void 0))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(L),extra:E,fileList:s==null?void 0:s.fileList,disabled:V})})}x.Z=W},19411:function(se,x,e){e.d(x,{ZP:function(){return A}});var l=e(15009),d=e.n(l),b=e(99289),c=e.n(b),m=e(17578),T=e(2800),u=e.n(T),n=e(67294),I=e(80854),v=e(85893),W=function(L){var r=L.attrs,E=r.href,h=E.split("/").pop();return(0,v.jsx)("p",{children:(0,v.jsx)("a",{rel:"noreferrer",href:E,target:"_blank",children:h})})},_=function(L){var r=L.value,E=L.onChange,h=L.directory,i=h===void 0?"/wysiwyg":h,o=(0,I.useIntl)();return(0,v.jsx)("div",{className:"form-wysiwyg-markdown",children:(0,v.jsx)(u(),{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function(){return!0},component:W}],uploadImage:function(){var C=c()(d()().mark(function K(Y){var w,U;return d()().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,(0,m.ws)(Y,i);case 2:if(w=V.sent,!w.success){V.next=8;break}if(!Y.type.includes("image/")){V.next=7;break}return U=w.data[0].name.includes("/")?w.data[0].name:"".concat(i).concat(w.data[0].name),V.abrupt("return",(0,m.pV)(U,1e3));case 7:return V.abrupt("return",w.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return V.stop()}},K)}));return function(K){return C.apply(this,arguments)}}(),defaultValue:r||"",onChange:function(K){return E&&E(K())},placeholder:o.formatMessage({id:"wysiwyg_placeholder"})})})},A=_},62343:function(se,x,e){var l=e(52677),d=e.n(l),b=e(5574),c=e.n(b),m=e(952),T=e(37476),u=e(5966),n=e(52688),I=e(86615),v=e(90672),W=e(63434),_=e(31199),A=e(96365),g=e(14726),L=e(75842),r=e(49288),E=e(67294),h=e(43564),i=e(80854),o=e(20568),C=e(19411),K=e(88284),Y=e(28508),w=e(55171),U=e.n(w),a=e(85893),V=function(ne){var s=ne.value,O=ne.onChange,F=ne.type,j=F===void 0?"file":F,t=(0,E.useState)(!1),Z=c()(t,2),X=Z[0],ae=Z[1];return(0,a.jsxs)(E.Fragment,{children:[(0,a.jsxs)(m.ZP.Group,{children:[(0,a.jsx)(A.Z,{value:s,readOnly:!0}),(0,a.jsxs)(g.ZP,{size:"small",type:"primary",onClick:function(){return ae(!X)},children:["toggle ",j," browser"]})]}),X&&(0,a.jsx)(o.Z,{onFile:function(R,y){return O&&O("".concat(y,"/").concat(R.name))}})]})},H=function(ne){var s=(0,i.useIntl)(),O=ne.visible,F=ne.onVisibleChange,j=ne.onFinish,t=ne.id,Z=ne.initialData,X=ne.groups,ae=L.Z.useForm(),D=c()(ae,1),R=D[0],y=!t||t===-1,ce=(0,E.useState)("text"),Q=c()(ce,2),p=Q[0],f=Q[1],z=(0,E.useCallback)(function(){return!!(R.getFieldValue("group")==="global"||Z)},[R,Z]),S=(0,E.useState)(""),oe=c()(S,2),Oe=oe[0],ye=oe[1];(0,E.useEffect)(function(){if(d()(t)==="object"){var $;R.setFieldsValue(t),f(($=t.type)!==null&&$!==void 0?$:"text")}else t&&t!==-1?(0,h.GF)(Number(t)).then(function(ie){ie.success&&(R.setFieldsValue(ie.data),f(ie.data.type),ye(ie.data.group))}):(R.resetFields(),f("text"))},[t,R,Z]);var De=(0,E.useCallback)(function($){$.type&&$.type!==p&&f($.type)},[p]);return(0,a.jsxs)(T.Y,{form:R,title:s.formatMessage({id:t?"editSetting":"newSetting",defaultMessage:t?"editSetting":"newSetting"}),width:"60vw",visible:!!O,onVisibleChange:F,onFinish:j,onValuesChange:De,children:[(0,a.jsxs)(m.ZP.Group,{children:[Z?(0,a.jsx)(u.Z,{label:(0,a.jsx)(i.FormattedMessage,{id:"group",defaultMessage:"group"}),rules:[{required:!0}],width:"md",name:"group",disabled:z()}):(0,a.jsx)(m.ZP.Item,{label:(0,a.jsx)(i.FormattedMessage,{id:"group",defaultMessage:"group"}),name:"group",children:(0,a.jsx)(r.Z,{style:{width:"300px"},autoFocus:!0,value:Oe,onChange:function(ie){return ye(ie)},filterOption:function(ie,_e){var ve;return(_e==null||(ve=_e.children)===null||ve===void 0?void 0:ve.toString().toLowerCase().indexOf(ie.toLowerCase()))!==-1},children:X.map(function($){return(0,a.jsx)(r.Z.Option,{value:$,children:$},$)})})}),(0,a.jsx)(u.Z,{label:(0,a.jsx)(i.FormattedMessage,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key",disabled:z()})]}),(0,a.jsxs)(m.ZP.Group,{children:[(0,a.jsx)(n.Z,{name:"enumerable",disabled:z(),label:(0,a.jsx)(i.FormattedMessage,{id:"enumerable",defaultMessage:"enumerable"})}),(0,a.jsx)(n.Z,{name:"public",disabled:z(),label:(0,a.jsx)(i.FormattedMessage,{id:"public",defaultMessage:"public"})})]}),(0,a.jsx)(m.ZP.Group,{children:(0,a.jsx)(I.Z.Group,{disabled:!!(!y||Z),name:"type",label:(0,a.jsx)(i.FormattedMessage,{id:"type"}),options:[{label:"text",value:"text"},{label:"markdown",value:"markdown"},{label:"json",value:"json"},{label:"file",value:"file"},{label:"image",value:"image"},{label:"boolean",value:"boolean"},{label:"number",value:"number"},{label:"array",value:"array"}]})}),(0,a.jsxs)("div",{children:[p==="text"&&(0,a.jsx)(u.Z,{width:"lg",name:"value",label:(0,a.jsx)(i.FormattedMessage,{id:"value"})}),p==="json"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Z,{width:"lg",name:"value",label:(0,a.jsx)(i.FormattedMessage,{id:"value"}),tooltip:"".concat(s.formatMessage({id:"example_json"}),': {"name":"John", "age":30, "city":["New York","Warsaw"]}')}),(0,a.jsx)(m.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,a.jsx)(U(),{src:JSON.parse(R.getFieldValue("value"))})}catch(ie){return(0,a.jsx)(U(),{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]}),(p==="file"||p==="image")&&(0,a.jsx)(m.ZP.Item,{name:"value",label:"value",tooltip:"select file from current repository or upload new one",valuePropName:"value",children:(0,a.jsx)(V,{type:p})}),p==="markdown"&&(0,a.jsx)(m.ZP.Item,{name:"value",label:"value",tooltip:"The editor is WYSIWYG and includes formatting tools whilst retaining the ability to write markdown shortcuts inline and output plain Markdown.",valuePropName:"value",children:(0,a.jsx)(C.ZP,{directory:"settings/wysiwyg"})}),p==="boolean"?(0,a.jsx)(n.Z,{name:"data",label:(0,a.jsx)(i.FormattedMessage,{id:"value"}),checkedChildren:(0,a.jsx)(K.Z,{}),unCheckedChildren:(0,a.jsx)(Y.Z,{})}):(0,a.jsx)(m.ZP.Item,{noStyle:!0,hidden:!0,children:(0,a.jsx)(W.Z,{name:"data",valuePropName:"data"})}),p==="number"&&(0,a.jsx)(_.Z,{name:"data",label:(0,a.jsx)(i.FormattedMessage,{id:"value"})}),p==="array"&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(v.Z,{width:"lg",name:"value",label:(0,a.jsx)(i.FormattedMessage,{id:"value"}),tooltip:"".concat(s.formatMessage({id:"example_json"}),": ['tutor', 'student']")}),(0,a.jsx)(m.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,a.jsx)(U(),{src:JSON.parse(R.getFieldValue("value"))})}catch(ie){return(0,a.jsx)(U(),{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]})]})]})};x.ZP=H},59234:function(se,x,e){e.d(x,{Wg:function(){return j}});var l=e(5574),d=e.n(l),b=e(19632),c=e.n(b),m=e(15009),T=e.n(m),u=e(97857),n=e.n(u),I=e(99289),v=e.n(I),W=e(31472),_=e(51042),A=e(16894),g=e(2453),L=e(83062),r=e(14726),E=e(86738),h=e(67294),i=e(80854),o=e(43564),C=e(56717),K=e(47389),Y=e(82061),w=e(62343),U=e(20188),a=e(85893),V=function(){var D=v()(T()().mark(function R(y,ce,Q){var p,f;return T()().wrap(function(S){for(;;)switch(S.prev=S.next){case 0:return p=g.ZP.loading(y.formatMessage({id:"loading"})),S.prev=1,S.next=4,Q&&Q!==-1?(0,o.VP)(Q,n()({},ce)):(0,o.oh)(n()({},ce));case 4:return f=S.sent,p(),g.ZP.success(y.formatMessage({id:"success"})),S.abrupt("return",{success:!0,updatedSettings:f});case 10:return S.prev=10,S.t0=S.catch(1),p(),g.ZP.error(y.formatMessage({id:"error"})),S.abrupt("return",{success:!1,updateSettings:null});case 15:case"end":return S.stop()}},R,null,[[1,10]])}));return function(y,ce,Q){return D.apply(this,arguments)}}(),H=function(){var D=v()(T()().mark(function R(y,ce){var Q;return T()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return Q=g.ZP.loading(y.formatMessage({id:"loading"})),f.prev=1,f.next=4,(0,o.Rb)(ce);case 4:return Q(),g.ZP.success(y.formatMessage({id:"success"})),f.abrupt("return",!0);case 9:return f.prev=9,f.t0=f.catch(1),Q(),g.ZP.error(y.formatMessage({id:"error"})),f.abrupt("return",!1);case 14:case"end":return f.stop()}},R,null,[[1,9]])}));return function(y,ce){return D.apply(this,arguments)}}(),N=function(R){return R.toLowerCase().replace(/(_\w)/g,function(y){return y.toUpperCase().substr(1)})},ne=["statistics","user_submission","user_projects"],s=["public"],O=["email","sms"],F=function(R){return"hideInMenu-".concat(N(R.split("/").join("_")))},j=function(R){return"disableTopicType-".concat(R)},t=[].concat(c()(Object.keys(W.oz).map(function(D){return{key:j(D),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),c()(["ECommerce","Certificates"].map(function(D){return{key:"disable-".concat(D),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),c()(s.map(function(D){return{key:"showInCourseAdditionalSettings-".concat(D),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),c()(ne.map(function(D){return{key:"hideInCourseTabs-".concat(D),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),c()(O.map(function(D){return{key:"hideTemplateTab-".concat(D),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}}))).reduce(function(D,R,y){return D[R.key]=n()(n()({},R),{},{id:-100*y}),D},{}),Z=n()({logo:{id:-1,key:"logo",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},frontURL:{id:-2,key:"frontURL",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},maxLessonsNestingInProgram:{id:-4,key:"maxLessonsNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},minTopicNestingInProgram:{id:-5,key:"minTopicNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},companyName:{id:-6,key:"companyName",group:"global",value:"Wellms",public:!0,enumerable:!0,sort:0,type:"text",data:"Wellms"},companyURL:{id:-7,key:"companyURL",group:"global",value:"https://www.wellms.io/",public:!0,enumerable:!0,sort:0,type:"text",data:"https://www.wellms.io/"},logoLogin:{id:-8,key:"logoLogin",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},logoFooter:{id:-9,key:"logoFooter",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},footerFontColor:{id:-10,key:"footerFontColor",group:"global",value:"#00000072",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},showLoginBackgroundImage:{id:-11,key:"showLoginBackgroundImage",group:"global",value:"true",public:!0,enumerable:!0,sort:0,type:"boolean",data:"EscolaLMS"},loginHeaderBackgroundColor:{id:-12,key:"loginHeaderBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},loginHeaderFontColor:{id:-13,key:"loginHeaderFontColor",group:"global",value:"#000000D8",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},loginFormBackgroundColor:{id:-14,key:"loginFormBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},contentBackgroundColor:{id:-15,key:"contentBackgroundColor",group:"global",value:"#f0f2f5",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},technicalMaintenance:{id:-16,key:"technicalMaintenance",group:"global",value:"false",public:!0,enumerable:!0,sort:0,type:"boolean",data:"EscolaLMS"},technicalMaintenanceText:{id:-17,key:"technicalMaintenanceText",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"}},t),X=function(R){return typeof R.path=="string"},ae=function(){var R=(0,h.useState)(!1),y=d()(R,2),ce=y[0],Q=y[1],p=(0,h.useRef)(),f=(0,i.useIntl)(),z=(0,h.useState)(Z),S=d()(z,2),oe=S[0],Oe=S[1],ye=(0,i.useModel)("@@initialState"),De=ye.setInitialState,$=ye.initialState;(0,h.useEffect)(function(){(0,U.s)().then(function(ve){var le=Object.values(ve.routes).filter(X).filter(function(G){return G.path&&G.path!=="/"&&G.layout!==!1}).map(function(G){return{path:G.path,key:F(G.path),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}});Oe(function(G){return n()(n()({},G),le)})})},[]),(0,h.useEffect)(function(){p.current&&p.current.reload()},[oe]);var ie=[{title:(0,a.jsx)(i.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0,render:function(le,G){return(0,a.jsx)(h.Fragment,{children:(0,a.jsxs)(L.Z,{title:(0,a.jsx)(i.FormattedMessage,{id:"Settings.tooltip.".concat(G.key)}),children:[G.key," ",(0,a.jsx)(C.Z,{})]})})}},{title:(0,a.jsx)(i.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:(0,a.jsx)(i.FormattedMessage,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(le,G){return G.value}},{hideInSearch:!0,title:(0,a.jsx)(i.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(le,G){return[G.id>0?(0,a.jsx)(L.Z,{title:(0,a.jsx)(i.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,a.jsx)(r.ZP,{type:"primary",icon:(0,a.jsx)(K.Z,{}),onClick:function(){return Q(G.id)}})},"edit"):(0,a.jsx)(L.Z,{title:(0,a.jsx)(i.FormattedMessage,{id:"create",defaultMessage:"create"}),children:(0,a.jsx)(r.ZP,{type:"primary",icon:(0,a.jsx)(_.Z,{}),onClick:function(){Q(oe[G.key]||-1)}})},"create"),(0,a.jsx)(E.Z,{title:(0,a.jsx)(i.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:v()(T()().mark(function ee(){var fe;return T()().wrap(function(ue){for(;;)switch(ue.prev=ue.next){case 0:return ue.next=2,H(f,G.id);case 2:fe=ue.sent,fe&&(Q(!1),p.current&&p.current.reload());case 4:case"end":return ue.stop()}},ee)})),okText:(0,a.jsx)(i.FormattedMessage,{id:"yes",defaultMessage:"Yes"}),cancelText:(0,a.jsx)(i.FormattedMessage,{id:"no",defaultMessage:"No"}),children:G.id>0?(0,a.jsx)(L.Z,{title:(0,a.jsx)(i.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,a.jsx)(r.ZP,{type:"primary",icon:(0,a.jsx)(Y.Z,{}),danger:!0})}):null},"delete")]}}],_e=function(le){var G;if(le&&(!($!=null&&(G=$.config)!==null&&G!==void 0&&G.length)&&le&&De(n()(n()({},$),{},{config:[le]})),!!($!=null&&$.config))){var ee=$==null?void 0:$.config.map(function(fe){return fe.key===le.key?n()(n()({},fe),le):fe});De(n()(n()({},$),{},{config:ee}))}};return(0,a.jsxs)(h.Fragment,{children:[(0,a.jsx)(A.ZP,{headerTitle:f.formatMessage({id:"menu.settings"}),search:!1,toolBarRender:!1,actionRef:p,rowKey:"id",request:function(le){var G=le.pageSize,ee=le.current;return(0,o.Xd)({per_page:G,current:ee,group:"global"}).then(function(fe){if(fe.success){var be=[].concat(c()(Object.keys(oe).map(function(ue){return fe.data.find(function(Ae){return Ae.key===ue})||oe[ue]})),c()(fe.data.filter(function(ue){return!Object.keys(oe).includes(ue.key)})));return{data:be,total:be.length,success:!0}}return[]})},columns:ie}),(0,a.jsx)(w.ZP,{groups:[],id:ce,visible:ce,initialData:oe,onVisibleChange:function(le){return!le&&Q(!1)},onFinish:function(){var ve=v()(T()().mark(function le(G){var ee,fe,be,ue;return T()().wrap(function(xe){for(;;)switch(xe.prev=xe.next){case 0:return ee=G,ee.type==="number"&&(ee=n()(n()({},ee),{},{value:String(ee.data)})),ee.type==="boolean"&&(ee=n()(n()({},ee),{},{value:ee.data})),ee.type==="array"&&(ee=n()(n()({},ee),{},{value:JSON.parse(ee.value)})),xe.next=6,V(f,ee,Number(ce));case 6:fe=xe.sent,be=fe.success,ue=fe.updatedSettings,be&&(ue!=null&&ue.success&&_e(ue.data),Q(!1),p.current&&p.current.reload());case 10:case"end":return xe.stop()}},le)}));return function(le){return ve.apply(this,arguments)}}()})]})};x.ZP=ae},85228:function(se,x,e){e.r(x),e.d(x,{default:function(){return xe}});var l=e(5574),d=e.n(l),b=e(26271),c=e(74453),m=e(75081),T=e(38925),u=e(67294),n=e(80854),I=e(43564),v=e(59234),W=e(15009),_=e.n(W),A=e(99289),g=e.n(A),L=e(19632),r=e.n(L),E=e(52677),h=e.n(E),i=e(66419),o=e(47389),C=e(16894),K=e(66309),Y=e(83062),w=e(14726),U=e(97857),a=e.n(U),V=e(37476),H=e(952),N=e(52688),ne=e(90672),s=e(25514),O=e(75842),F=e(54838),j=e(5966),t=e(85893),Z=function(P){var M=P.field,B=P.name;return M!=null&&M.includes("boolean")?(0,t.jsx)(N.Z,{name:B,checkedChildren:(0,t.jsx)(F._H,{id:"true"}),unCheckedChildren:(0,t.jsx)(F._H,{id:"false"})}):(0,t.jsx)(j.Z,{width:"lg",name:B})},X=Z,ae=e(55171),D=e.n(ae),R=s.Z.Text,y=function(k){return k.Array="array",k.String="string",k}(y||{}),ce=function(P,M){return M===y.Array?P&&Array.isArray(P)?JSON.stringify(P):"[]":P},Q=function(){var P=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",M=arguments.length>1?arguments[1]:void 0;if(M===y.Array){var B=JSON.parse(P);return B&&Array.isArray(B)?B:[]}return P},p=function(P){var M=(0,F.YB)(),B=P.visible,J=P.onVisibleChange,pe=P.onFinish,q=P.value,me=O.Z.useForm(),je=d()(me,1),ge=je[0],he=(0,u.useMemo)(function(){return(q.rules||[]).includes(y.Array)?y.Array:y.String},[q.rules]);return(0,u.useEffect)(function(){ge.setFieldsValue(a()(a()({},q),{},{value:ce(q.value,he)}))},[he,q,ge]),(0,t.jsxs)(V.Y,{form:ge,title:q.full_key,width:"60vw",visible:B,onVisibleChange:J,onFinish:g()(_()().mark(function Pe(){var te;return _()().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return re.next=2,(0,I.rF)({key:q.full_key,value:Q(ge.getFieldsValue().value,he)});case 2:if(te=re.sent,!te.success){re.next=6;break}return pe(te.success===!0),re.abrupt("return",te.success);case 6:return re.abrupt("return");case 7:case"end":return re.stop()}},Pe)})),children:[(0,t.jsxs)(H.ZP.Group,{children:[(0,t.jsx)(N.Z,{disabled:!0,name:"public",label:(0,t.jsx)(n.FormattedMessage,{id:"public",defaultMessage:"public"})}),(0,t.jsx)(N.Z,{disabled:!0,name:"readonly",label:(0,t.jsx)(n.FormattedMessage,{id:"readonly",defaultMessage:"readonly"})}),(0,t.jsx)(H.ZP.Item,{shouldUpdate:!0,label:(0,t.jsx)(n.FormattedMessage,{id:"rules",defaultMessage:"rules"}),children:function(){return(0,t.jsx)(R,{code:!0,children:JSON.stringify(ge.getFieldValue("rules"))})}})]}),he===y.Array?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(ne.Z,{width:"lg",name:"value",label:(0,t.jsx)(n.FormattedMessage,{id:"value"}),tooltip:"".concat(M.formatMessage({id:"example_json"}),': ["first_field_name", "second_field_name"]')}),(0,t.jsx)(H.ZP.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return(0,t.jsx)(D(),{src:JSON.parse(ge.getFieldValue("value"))})}catch(te){return(0,t.jsx)(D(),{src:JSON.parse('{ "error": "cannot parse this array" }')})}}})]}):(0,t.jsx)(t.Fragment,{children:(0,t.jsx)(H.ZP.Item,{shouldUpdate:!0,label:(0,t.jsx)(n.FormattedMessage,{id:"value"}),children:function(){return(0,t.jsx)(X,{field:ge.getFieldValue("rules"),name:"value"})}})})]})},f=p,z=[{title:(0,t.jsx)(n.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!1,sorter:!0},{title:(0,t.jsx)(n.FormattedMessage,{id:"readonly",defaultMessage:"readonly"}),dataIndex:"readonly",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(P,M){return(0,t.jsx)(K.Z,{color:M.readonly?"success":"error",children:(0,t.jsx)(n.FormattedMessage,{id:M.readonly?"true":"false",defaultMessage:M.readonly?"true":"false"})})}},{title:(0,t.jsx)(n.FormattedMessage,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,sorter:!0,render:function(P,M){return(0,t.jsx)(K.Z,{color:M.public?"success":"error",children:(0,t.jsx)(n.FormattedMessage,{id:M.public?"true":"false",defaultMessage:M.public?"true":"false"})})}},{title:(0,t.jsx)(n.FormattedMessage,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(P,M){return typeof M.value=="boolean"?(0,t.jsx)(K.Z,{color:M.value?"success":"error",children:(0,t.jsx)(n.FormattedMessage,{id:M.value?"true":"false",defaultMessage:M.value?"true":"false"})}):Array.isArray(M.value)?M.value.map(function(B){return h()(B)==="object"?u.Children.toArray((0,t.jsx)("p",{children:Object.keys(B).map(function(J){return"".concat(J,": ").concat(B[J])}).join(", ")})):B}):M.value}}],S=function k(P,M){var B=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return!P||h()(P)!=="object"?!1:(Object.keys(P).forEach(function(J){var pe=P[J];J===M?B.push(P):h()(pe)==="object"&&k(pe,M,B)}),B)},oe=function(P){var M=P.packageName,B=P.values,J=P.onValueUpdated,pe=(0,n.useIntl)(),q=(0,u.useState)(),me=d()(q,2),je=me[0],ge=me[1],he=(0,u.useMemo)(function(){var Pe=B[M];return S(Pe,"rules")},[B,M]);return(0,t.jsxs)(u.Fragment,{children:[(0,t.jsx)(C.ZP,{headerTitle:pe.formatMessage({id:"menu.settings"}),rowKey:"key",search:{layout:"vertical"},columns:[].concat(z,[{hideInSearch:!0,title:(0,t.jsx)(n.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(te,Ce){return[(0,t.jsx)(Y.Z,{title:(0,t.jsx)(n.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,t.jsx)(w.ZP,{type:"primary",icon:(0,t.jsx)(o.Z,{}),onClick:function(){return ge(Ce)}})},"edit")]}}]),request:function(te,Ce){var re=te.key,de=Ce&&Object.entries(Ce)[0];return new Promise(function(Ee){var Me=he?r()(he):[];re&&(Me=Me.filter(function(Te){return Te.key.toLowerCase().includes(re.toLowerCase())})),de&&(Me=(0,i.Pf)(Me,de[0],de[1]!=="ascend")),Ee({data:Me,success:!0,total:Me.length})})}}),je&&(0,t.jsx)(f,{value:je,visible:je!==void 0,onVisibleChange:function(te){return te===!1&&ge(void 0)},onFinish:g()(_()().mark(function Pe(){return _()().wrap(function(Ce){for(;;)switch(Ce.prev=Ce.next){case 0:J();case 1:case"end":return Ce.stop()}},Pe)}))})]})},Oe=oe,ye=e(9783),De=e.n(ye),$=e(51042),ie=e(2453),_e=e(86738),ve=e(82061),le=e(62343),G=function(){var k=g()(_()().mark(function P(M,B,J){var pe;return _()().wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return pe=ie.ZP.loading(M.formatMessage({id:"loading"})),me.prev=1,me.next=4,J&&J!==-1?(0,I.VP)(J,a()({},B)):(0,I.oh)(a()({},B));case 4:return pe(),ie.ZP.success(M.formatMessage({id:"success"})),me.abrupt("return",!0);case 9:return me.prev=9,me.t0=me.catch(1),pe(),ie.ZP.error(M.formatMessage({id:"error"})),me.abrupt("return",!1);case 14:case"end":return me.stop()}},P,null,[[1,9]])}));return function(M,B,J){return k.apply(this,arguments)}}(),ee=function(){var k=g()(_()().mark(function P(M,B){var J;return _()().wrap(function(q){for(;;)switch(q.prev=q.next){case 0:return J=ie.ZP.loading(M.formatMessage({id:"loading"})),q.prev=1,q.next=4,(0,I.Rb)(B);case 4:return J(),ie.ZP.success(M.formatMessage({id:"success"})),q.abrupt("return",!0);case 9:return q.prev=9,q.t0=q.catch(1),J(),ie.ZP.error(M.formatMessage({id:"error"})),q.abrupt("return",!1);case 14:case"end":return q.stop()}},P,null,[[1,9]])}));return function(M,B){return k.apply(this,arguments)}}(),fe=function(){var P=(0,u.useState)(!1),M=d()(P,2),B=M[0],J=M[1],pe=(0,u.useState)([]),q=d()(pe,2),me=q[0],je=q[1],ge=(0,u.useRef)(),he=(0,n.useIntl)(),Pe=(0,n.useModel)("@@initialState"),te=Pe.setInitialState;(0,u.useEffect)(function(){(0,I.FF)().then(function(re){re.success&&je(re.data.filter(function(de){return de!=="global"}))})},[]);var Ce=[{title:(0,t.jsx)(n.FormattedMessage,{id:"group",defaultMessage:"group"}),dataIndex:"group",hideInSearch:!1,key:"group",valueType:"select",width:100,valueEnum:me.sort().reduce(function(re,de){return a()(a()({},re),{},De()({},de,de))},{})},{title:(0,t.jsx)(n.FormattedMessage,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:(0,t.jsx)(n.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:(0,t.jsx)(n.FormattedMessage,{id:"enumerable",defaultMessage:"enumerable"}),dataIndex:"enumerable",hideInForm:!0,hideInSearch:!0,render:function(de,Ee){return(0,t.jsx)(K.Z,{color:Ee.enumerable?"success":"error",children:(0,t.jsx)(n.FormattedMessage,{id:Ee.enumerable?"true":"false",defaultMessage:Ee.enumerable?"true":"false"})})}},{title:(0,t.jsx)(n.FormattedMessage,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(de,Ee){return(0,t.jsx)(K.Z,{color:Ee.public?"success":"error",children:(0,t.jsx)(n.FormattedMessage,{id:Ee.public?"true":"false",defaultMessage:Ee.public?"true":"false"})})}},{hideInSearch:!0,title:(0,t.jsx)(n.FormattedMessage,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(de,Ee){return[(0,t.jsx)(Y.Z,{title:(0,t.jsx)(n.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,t.jsx)(w.ZP,{type:"primary",icon:(0,t.jsx)(o.Z,{}),onClick:function(){return J(Ee.id)}})},"edit"),(0,t.jsx)(_e.Z,{title:(0,t.jsx)(n.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:g()(_()().mark(function Me(){var Te;return _()().wrap(function(Le){for(;;)switch(Le.prev=Le.next){case 0:return Le.next=2,ee(he,Ee.id);case 2:Te=Le.sent,Te&&(J(!1),ge.current&&ge.current.reload());case 4:case"end":return Le.stop()}},Me)})),okText:(0,t.jsx)(n.FormattedMessage,{id:"yes",defaultMessage:"Yes"}),cancelText:(0,t.jsx)(n.FormattedMessage,{id:"no",defaultMessage:"No"}),children:(0,t.jsx)(Y.Z,{title:(0,t.jsx)(n.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,t.jsx)(w.ZP,{type:"primary",icon:(0,t.jsx)(ve.Z,{}),danger:!0})})},"delete")]}}];return(0,t.jsxs)(u.Fragment,{children:[(0,t.jsx)(C.ZP,{headerTitle:he.formatMessage({id:"menu.settings"}),actionRef:ge,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[(0,t.jsxs)(w.ZP,{type:"primary",onClick:function(){J(-1)},children:[(0,t.jsx)($.Z,{})," ",(0,t.jsx)(n.FormattedMessage,{id:"pages.searchTable.new"})]},"primary")]},request:function(de){var Ee=de.pageSize,Me=de.current,Te=de.group;return(0,I.Xd)({per_page:Ee,current:Me,group:Te}).then(function(Se){return Se.success?{data:Se.data.filter(function(Le){return Le.group!=="global"}),total:Se.meta.total,success:!0}:[]})},columns:Ce}),(0,t.jsx)(le.ZP,{groups:me,id:B,visible:Number.isInteger(B),onVisibleChange:function(de){return!de&&J(!1)},onFinish:function(){var re=g()(_()().mark(function de(Ee){var Me,Te,Se;return _()().wrap(function(Ie){for(;;)switch(Ie.prev=Ie.next){case 0:return Me=Ee,Ie.next=3,G(he,Me,Number(B));case 3:if(Te=Ie.sent,!Te){Ie.next=12;break}if(J(!1),ge.current&&ge.current.reload(),Me.group!=="global"){Ie.next=12;break}return Ie.next=10,(0,I.Xd)({current:1,per_page:100,group:"global"});case 10:Se=Ie.sent,te(function(Re){return a()(a()({},Re),{},{config:Se.success?Se.data:Re==null?void 0:Re.config})});case 12:case"end":return Ie.stop()}},de)}));return function(de){return re.apply(this,arguments)}}()})]})},be=fe;function ue(k){var P=k.replaceAll("escolalms",""),M=P.split("_"),B=M.map(function(J){return J.charAt(0).toUpperCase()+J.slice(1)});return B.join(" ")}function Ae(k,P){var M=["global_settings","user_settings"];return M.includes(k)?P.formatMessage({id:String(k)}):P.formatMessage({id:"Settings.package"},{package:ue(k)})}var xe=function(){var k=(0,n.useParams)(),P=(0,n.useIntl)(),M=k.tab,B=M===void 0?"user_settings":M,J=(0,u.useState)(),pe=d()(J,2),q=pe[0],me=pe[1],je=(0,u.useCallback)(function(){(0,I.rH)().then(function(te){te.success&&me(te.data)})},[]),ge=(0,n.useModel)("@@initialState"),he=ge.initialState,Pe=(0,u.useCallback)(function(){var te;return(he==null||(te=he.config)===null||te===void 0?void 0:te.length)!==0},[he]);return(0,u.useEffect)(function(){je()},[]),q?(0,t.jsxs)(c._z,{title:Ae(B,P),header:{breadcrumb:{routes:[{path:"settings",breadcrumbName:P.formatMessage({id:"menu.Configuration.settings"})},{path:String(B),breadcrumbName:Ae(B,P)}]}},children:[!Pe()&&(0,t.jsx)(T.Z,{message:(0,t.jsx)(n.FormattedMessage,{id:"global_settings_alert_title",defaultMessage:"Add global settings"}),description:(0,t.jsx)(n.FormattedMessage,{id:"global_settings_alert_description",defaultMessage:"Global settings are used to configure the entire LMS. You can add global settings by clicking the button below."}),type:"warning",showIcon:!0,style:{marginBottom:"20px"}}),(0,t.jsxs)(b.ZP,{tabs:{type:"card",activeKey:B,onChange:function(Ce){return n.history.push("/configuration/settings/".concat(Ce))}},children:[(0,t.jsx)(b.ZP.TabPane,{tab:(0,t.jsx)(n.FormattedMessage,{id:"user.settings"}),children:(0,t.jsx)(be,{})},"user_settings"),(0,t.jsx)(b.ZP.TabPane,{tab:(0,t.jsx)(n.FormattedMessage,{id:"global_settings"}),children:(0,t.jsx)(v.ZP,{})},"global_settings"),Object.keys(q).map(function(te){return(0,t.jsxs)(b.ZP.TabPane,{tab:(0,t.jsx)("span",{children:(0,t.jsx)(n.FormattedMessage,{id:"Settings.package",values:{package:ue(te)}})}),children:[(0,t.jsx)(Oe,{values:q,packageName:te,onValueUpdated:function(){return je()}}),te]},te)})]})]}):(0,t.jsx)(m.Z,{})}},31472:function(se,x,e){e.d(x,{Fh:function(){return v},UL:function(){return I},Yo:function(){return A},Zg:function(){return g},cX:function(){return n},ce:function(){return u},fS:function(){return _},fn:function(){return m},h5:function(){return L},oz:function(){return l},rX:function(){return W},uT:function(){return c}});var l=function(r){return r.Unselected="",r.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",r.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",r.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",r.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",r.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",r.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",r.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",r.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",r.Project="EscolaLms\\TopicTypeProject\\Models\\Project",r.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz",r}({}),d=function(r){return r.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",r.UserLogged="EscolaLms\\Auth\\Events\\UserLogged",r}({}),b=function(r){return r.draft="draft",r.published="published",r.archived="archived",r}({}),c=function(r){return r.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",r.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",r.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel",r}({}),m=function(r){return r.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent",r}({}),T=function(r){return r.cart_fixed="cart_fixed",r.cart_percent="cart_percent",r.product_fixed="product_fixed",r.product_percent="product_percent",r}({}),u=function(r){return r.MULTIPLE_CHOICE="multiple_choice",r.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",r.TRUE_FALSE="true_false",r.SHORT_ANSWERS="short_answers",r.MATCHING="matching",r.NUMERICAL_QUESTION="numerical_question",r.ESSAY="essay",r.DESCRIPTION="description",r}({}),n=function(r){return r.PRESENT="present",r.PRESENT_NOT_EXERCISING="present_not_exercising",r.ABSENT="absent",r.EXCUSED_ABSENCE="excused_absence",r}({}),I=function(r){return r.Manual="manual",r.TeamsForms="teams_forms",r.TeamsLecture="teams_lecture",r.TestPortal="test_portal",r}({}),v=function(r){return r.Simple="simple",r.Complex="complex",r}({}),W=function(r){return r.QuizSummary="EscolaLms\\Reports\\Stats\\Topic\\QuizSummaryForTopicTypeGIFT",r}({}),_=function(r){return r.Boolean="boolean",r.Number="number",r.Varchar="varchar",r.Text="text",r.Json="json",r}({}),A=function(r){return r.Rate="rate",r.Text="text",r.Review="review",r}({}),g=function(r){return r.Exercise="exercise",r.Course="course",r.Info="info",r}({}),L=function(r){return r.Group="EscolaLms\\PcgIntegration\\Models\\Group",r}({})},17578:function(se,x,e){e.d(x,{Od:function(){return L},QZ:function(){return n},ht:function(){return v},pV:function(){return g},ws:function(){return _}});var l=e(15009),d=e.n(l),b=e(97857),c=e.n(b),m=e(99289),T=e.n(m),u=e(80854);function n(E,h){return I.apply(this,arguments)}function I(){return I=T()(d()().mark(function E(h,i){return d()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,u.request)("/api/admin/file/list",c()({method:"GET",params:h},i||{})));case 1:case"end":return C.stop()}},E)})),I.apply(this,arguments)}function v(E,h){return W.apply(this,arguments)}function W(){return W=T()(d()().mark(function E(h,i){return d()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,u.request)("/api/admin/file/find",c()({method:"GET",params:h},i||{})));case 1:case"end":return C.stop()}},E)})),W.apply(this,arguments)}function _(E,h,i){return A.apply(this,arguments)}function A(){return A=T()(d()().mark(function E(h,i,o){var C;return d()().wrap(function(Y){for(;;)switch(Y.prev=Y.next){case 0:return C=new FormData,C.append("file[]",h),C.append("target",i),Y.abrupt("return",(0,u.request)("/api/admin/file/upload",c()({method:"POST",data:C},o||{})));case 4:case"end":return Y.stop()}},E)})),A.apply(this,arguments)}var g=function(h){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(h,"&w=").concat(i)};function L(E,h){return r.apply(this,arguments)}function r(){return r=T()(d()().mark(function E(h,i){return d()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",(0,u.request)("/api/admin/file/delete",c()({method:"DELETE",data:{url:h}},i||{})));case 1:case"end":return C.stop()}},E)})),r.apply(this,arguments)}},49288:function(se,x,e){var l=e(67294),d=e(93967),b=e.n(d),c=e(50344),m=e(98423),T=e(87263),u=e(8745),n=e(96159),I=e(53124),v=e(83863);const{Option:W}=v.default;function _(r){return r&&r.type&&(r.type.isSelectOption||r.type.isSelectOptGroup)}const A=(r,E)=>{var h;const{prefixCls:i,className:o,popupClassName:C,dropdownClassName:K,children:Y,dataSource:w}=r,U=(0,c.Z)(Y);let a;U.length===1&&(0,n.l$)(U[0])&&!_(U[0])&&([a]=U);const V=a?()=>a:void 0;let H;U.length&&_(U[0])?H=Y:H=w?w.map(O=>{if((0,n.l$)(O))return O;switch(typeof O){case"string":return l.createElement(W,{key:O,value:O},O);case"object":{const{value:F}=O;return l.createElement(W,{key:F,value:F},O.text)}default:return}}):[];const{getPrefixCls:N}=l.useContext(I.E_),ne=N("select",i),[s]=(0,T.Cn)("SelectLike",(h=r.dropdownStyle)===null||h===void 0?void 0:h.zIndex);return l.createElement(v.default,Object.assign({ref:E,suffixIcon:null},(0,m.Z)(r,["dataSource","dropdownClassName"]),{prefixCls:ne,popupClassName:C||K,dropdownStyle:Object.assign(Object.assign({},r.dropdownStyle),{zIndex:s}),className:b()(`${ne}-auto-complete`,o),mode:v.default.SECRET_COMBOBOX_MODE_DO_NOT_USE,getInputElement:V}),H)},g=l.forwardRef(A),L=(0,u.Z)(g);g.Option=W,g._InternalPanelDoNotUseOrYouWillBeFired=L,x.Z=g},66309:function(se,x,e){e.d(x,{Z:function(){return ne}});var l=e(67294),d=e(62208),b=e(93967),c=e.n(b),m=e(98787),T=e(69760),u=e(45353),n=e(53124),I=e(6731),v=e(10274),W=e(14747),_=e(45503),A=e(91945);const g=s=>{const{paddingXXS:O,lineWidth:F,tagPaddingHorizontal:j,componentCls:t,calc:Z}=s,X=Z(j).sub(F).equal(),ae=Z(O).sub(F).equal();return{[t]:Object.assign(Object.assign({},(0,W.Wf)(s)),{display:"inline-block",height:"auto",marginInlineEnd:s.marginXS,paddingInline:X,fontSize:s.tagFontSize,lineHeight:s.tagLineHeight,whiteSpace:"nowrap",background:s.defaultBg,border:`${(0,I.unit)(s.lineWidth)} ${s.lineType} ${s.colorBorder}`,borderRadius:s.borderRadiusSM,opacity:1,transition:`all ${s.motionDurationMid}`,textAlign:"start",position:"relative",[`&${t}-rtl`]:{direction:"rtl"},"&, a, a:hover":{color:s.defaultColor},[`${t}-close-icon`]:{marginInlineStart:ae,fontSize:s.tagIconSize,color:s.colorTextDescription,cursor:"pointer",transition:`all ${s.motionDurationMid}`,"&:hover":{color:s.colorTextHeading}},[`&${t}-has-color`]:{borderColor:"transparent",[`&, a, a:hover, ${s.iconCls}-close, ${s.iconCls}-close:hover`]:{color:s.colorTextLightSolid}},["&-checkable"]:{backgroundColor:"transparent",borderColor:"transparent",cursor:"pointer",[`&:not(${t}-checkable-checked):hover`]:{color:s.colorPrimary,backgroundColor:s.colorFillSecondary},"&:active, &-checked":{color:s.colorTextLightSolid},"&-checked":{backgroundColor:s.colorPrimary,"&:hover":{backgroundColor:s.colorPrimaryHover}},"&:active":{backgroundColor:s.colorPrimaryActive}},["&-hidden"]:{display:"none"},[`> ${s.iconCls} + span, > span + ${s.iconCls}`]:{marginInlineStart:X}}),[`${t}-borderless`]:{borderColor:"transparent",background:s.tagBorderlessBg}}},L=s=>{const{lineWidth:O,fontSizeIcon:F,calc:j}=s,t=s.fontSizeSM;return(0,_.TS)(s,{tagFontSize:t,tagLineHeight:(0,I.unit)(j(s.lineHeightSM).mul(t).equal()),tagIconSize:j(F).sub(j(O).mul(2)).equal(),tagPaddingHorizontal:8,tagBorderlessBg:s.defaultBg})},r=s=>({defaultBg:new v.C(s.colorFillQuaternary).onBackground(s.colorBgContainer).toHexString(),defaultColor:s.colorText});var E=(0,A.I$)("Tag",s=>{const O=L(s);return g(O)},r),h=function(s,O){var F={};for(var j in s)Object.prototype.hasOwnProperty.call(s,j)&&O.indexOf(j)<0&&(F[j]=s[j]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,j=Object.getOwnPropertySymbols(s);t<j.length;t++)O.indexOf(j[t])<0&&Object.prototype.propertyIsEnumerable.call(s,j[t])&&(F[j[t]]=s[j[t]]);return F},o=l.forwardRef((s,O)=>{const{prefixCls:F,style:j,className:t,checked:Z,onChange:X,onClick:ae}=s,D=h(s,["prefixCls","style","className","checked","onChange","onClick"]),{getPrefixCls:R,tag:y}=l.useContext(n.E_),ce=oe=>{X==null||X(!Z),ae==null||ae(oe)},Q=R("tag",F),[p,f,z]=E(Q),S=c()(Q,`${Q}-checkable`,{[`${Q}-checkable-checked`]:Z},y==null?void 0:y.className,t,f,z);return p(l.createElement("span",Object.assign({},D,{ref:O,style:Object.assign(Object.assign({},j),y==null?void 0:y.style),className:S,onClick:ce})))}),C=e(98719);const K=s=>(0,C.Z)(s,(O,F)=>{let{textColor:j,lightBorderColor:t,lightColor:Z,darkColor:X}=F;return{[`${s.componentCls}${s.componentCls}-${O}`]:{color:j,background:Z,borderColor:t,"&-inverse":{color:s.colorTextLightSolid,background:X,borderColor:X},[`&${s.componentCls}-borderless`]:{borderColor:"transparent"}}}});var Y=(0,A.bk)(["Tag","preset"],s=>{const O=L(s);return K(O)},r);function w(s){return typeof s!="string"?s:s.charAt(0).toUpperCase()+s.slice(1)}const U=(s,O,F)=>{const j=w(F);return{[`${s.componentCls}${s.componentCls}-${O}`]:{color:s[`color${F}`],background:s[`color${j}Bg`],borderColor:s[`color${j}Border`],[`&${s.componentCls}-borderless`]:{borderColor:"transparent"}}}};var a=(0,A.bk)(["Tag","status"],s=>{const O=L(s);return[U(O,"success","Success"),U(O,"processing","Info"),U(O,"error","Error"),U(O,"warning","Warning")]},r),V=function(s,O){var F={};for(var j in s)Object.prototype.hasOwnProperty.call(s,j)&&O.indexOf(j)<0&&(F[j]=s[j]);if(s!=null&&typeof Object.getOwnPropertySymbols=="function")for(var t=0,j=Object.getOwnPropertySymbols(s);t<j.length;t++)O.indexOf(j[t])<0&&Object.prototype.propertyIsEnumerable.call(s,j[t])&&(F[j[t]]=s[j[t]]);return F};const H=(s,O)=>{const{prefixCls:F,className:j,rootClassName:t,style:Z,children:X,icon:ae,color:D,onClose:R,closeIcon:y,closable:ce,bordered:Q=!0}=s,p=V(s,["prefixCls","className","rootClassName","style","children","icon","color","onClose","closeIcon","closable","bordered"]),{getPrefixCls:f,direction:z,tag:S}=l.useContext(n.E_),[oe,Oe]=l.useState(!0);l.useEffect(()=>{"visible"in p&&Oe(p.visible)},[p.visible]);const ye=(0,m.o2)(D),De=(0,m.yT)(D),$=ye||De,ie=Object.assign(Object.assign({backgroundColor:D&&!$?D:void 0},S==null?void 0:S.style),Z),_e=f("tag",F),[ve,le,G]=E(_e),ee=c()(_e,S==null?void 0:S.className,{[`${_e}-${D}`]:$,[`${_e}-has-color`]:D&&!$,[`${_e}-hidden`]:!oe,[`${_e}-rtl`]:z==="rtl",[`${_e}-borderless`]:!Q},j,t,le,G),fe=P=>{P.stopPropagation(),R==null||R(P),!P.defaultPrevented&&Oe(!1)},[,be]=(0,T.Z)(ce,y!=null?y:S==null?void 0:S.closeIcon,P=>P===null?l.createElement(d.Z,{className:`${_e}-close-icon`,onClick:fe}):l.createElement("span",{className:`${_e}-close-icon`,onClick:fe},P),null,!1),ue=typeof p.onClick=="function"||X&&X.type==="a",Ae=ae||null,xe=Ae?l.createElement(l.Fragment,null,Ae,X&&l.createElement("span",null,X)):X,k=l.createElement("span",Object.assign({},p,{ref:O,className:ee,style:ie}),xe,be,ye&&l.createElement(Y,{key:"preset",prefixCls:_e}),De&&l.createElement(a,{key:"status",prefixCls:_e}));return ve(ue?l.createElement(u.Z,{component:"Tag"},k):k)},N=l.forwardRef(H);N.CheckableTag=o;var ne=N}}]);
