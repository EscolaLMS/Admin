(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"0TUn":function(se,p,t){"use strict";t.d(p,"c",function(){return Q}),t.d(p,"a",function(){return I}),t.d(p,"b",function(){return X});var i=t("x+uP"),a=t("VTBJ"),A=t("HaE+"),d=t("9kvl");function Q(r,c){return D.apply(this,arguments)}function D(){return D=Object(A.a)(Object(i.a)().mark(function r(c,f){return Object(i.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(d.f)("/api/model-fields",Object(a.a)({method:"GET",params:c},f||{})));case 1:case"end":return s.stop()}},r)})),D.apply(this,arguments)}function I(r,c){return u.apply(this,arguments)}function u(){return u=Object(A.a)(Object(i.a)().mark(function r(c,f){return Object(i.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(d.f)("/api/admin/model-fields",Object(a.a)({method:"POST",data:c},f||{})));case 1:case"end":return s.stop()}},r)})),u.apply(this,arguments)}function X(r,c){return b.apply(this,arguments)}function b(){return b=Object(A.a)(Object(i.a)().mark(function r(c,f){return Object(i.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(d.f)("/api/admin/model-fields",Object(a.a)({method:"DELETE",data:c},f||{})));case 1:case"end":return s.stop()}},r)})),b.apply(this,arguments)}},YDZB:function(se,p,t){"use strict";var i=t("2qtc"),a=t("kLXV"),A=t("7Kak"),d=t("9yH6"),Q=t("+L6B"),D=t("2/Rp"),I=t("ODXe"),u=t("q1tI"),X=t.n(u),b=t("gU/Y"),r=t("9kvl"),c=t("u95b"),f=t.n(c),l=t("nKUr"),s=t.n(l),Z=function(S){var z=S.value,F=S.onChange,W=Object(u.useState)(!1),w=Object(I.a)(W,2),k=w[0],V=w[1],B=Object(u.useCallback)(function(){V(!1)},[]),q=Object(u.useState)("code"),K=Object(I.a)(q,2),L=K[0],J=K[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)(D.a,{type:"primary",onClick:function(){return V(!0)},size:"small",children:Object(l.jsx)(r.a,{id:"json_editor"})}),Object(l.jsxs)(a.a,{title:"JSON",visible:k,onOk:B,onCancel:B,children:[Object(l.jsxs)(d.a.Group,{onChange:function(h){return J(h.target.value)},value:L,children:[Object(l.jsx)(d.a,{value:"tree",children:"tree"}),Object(l.jsx)(d.a,{value:"view",children:"view"}),Object(l.jsx)(d.a,{value:"form",children:"form"}),Object(l.jsx)(d.a,{value:"code",children:"code"}),Object(l.jsx)(d.a,{value:"text",children:"text"})]}),Object(l.jsx)(b.a,{mode:L,value:z,onChange:function(h){return F&&F(h)}},L)]})]})};p.a=Z},i3PA:function(se,p,t){"use strict";t.r(p);var i=t("q1tI"),a=t("9kvl"),A=t("tMyG"),d=t("nhC9"),Q=t("P2fV"),D=t("NJEC"),I=t("5Dmo"),u=t("3S7+"),X=t("+L6B"),b=t("2/Rp"),r=t("x+uP"),c=t("miYZ"),f=t("tsqr"),l=t("HaE+"),s=t("ODXe"),Z=t("Qiat"),ne=t("xvlK"),S=t("G3dp"),z=t("/MfK"),F=t("0TUn"),W=t("VTBJ"),w=t("y8nQ"),k=t("Vl3Y"),V=t("rmhi"),B=t("Qurx"),q=t("5qq5"),K=t("VMEa"),L=t("FJDo"),J=t("YDZB"),e=t("nKUr"),h;(function(E){E.BOOLEAN="boolean",E.NUMBER="number",E.VARCHAR="varchar",E.TEXT="text",E.JSON="json"})(h||(h={}));var ie=function(M){var g=M.visible,T=M.onVisibleChange,ee=M.onResponse,_=M.class_type,$=M.name,o=$===void 0?"new":$,N=M.fields,G=N===void 0?[]:N,y=Object(a.i)(),Y=k.a.useForm(),U=Object(s.a)(Y,1),R=U[0],H=Object(i.useCallback)(function(){var j=Object(l.a)(Object(r.a)().mark(function P(C){return Object(r.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(F.a)(Object(W.a)(Object(W.a)({},C),{},{class_type:_,rules:JSON.stringify(C.rules),extra:JSON.stringify(C.extra)})).then(function(m){m.success&&ee(m.data)});case 2:return n.abrupt("return",!1);case 3:case"end":return n.stop()}},P)}));return function(P){return j.apply(this,arguments)}}(),[R]);return Object(i.useEffect)(function(){if(o!=="new"){var j=G.find(function(P){return P.name===o});j&&R.setFieldsValue(j)}else R.resetFields()},[o,R,G]),Object(e.jsxs)(V.a,{form:R,title:y.formatMessage({id:o==="new"?"newModelField":"editModelField",defaultMessage:o==="new"?"new Model Field":"edit Model Field"}),width:"800px",visible:g,onVisibleChange:T,onFinish:H,children:[Object(e.jsx)(B.a,{required:!0,label:Object(e.jsx)(a.a,{id:"name",defaultMessage:"name"}),tooltip:Object(e.jsx)(a.a,{id:"name_tooltip",defaultMessage:"name_tooltip"}),rules:[{required:!0}],width:"md",name:"name"}),Object(e.jsx)(q.a.Group,{rules:[{required:!0}],name:"type",label:Object(e.jsx)(a.a,{id:"type",defaultMessage:"type"}),tooltip:Object(e.jsx)(a.a,{id:"type_tooltip",defaultMessage:"type_tooltip"}),options:Object.keys(h).map(function(j){return{label:y.formatMessage({id:h[j]}),value:h[j]}})}),Object(e.jsx)(B.a,{width:"md",name:"default",label:Object(e.jsx)(a.a,{id:"default",defaultMessage:"default"}),tooltip:Object(e.jsx)(a.a,{id:"default_tooltip",defaultMessage:"default_tooltip"}),placeholder:y.formatMessage({id:"default"})}),Object(e.jsx)(K.a.Item,{name:"rules",label:Object(e.jsxs)("span",{children:[Object(e.jsx)(a.a,{id:"rules",defaultMessage:"rules"})," ",Object(e.jsx)("a",{rel:"noreferrer",href:"https://laravel.com/docs/9.x/validation#available-validation-rules",target:"_blank",children:Object(e.jsx)(a.a,{id:"available-validation-rules",defaultMessage:"available-validation-rules"})})]}),tooltip:Object(e.jsx)(a.a,{id:"available-validation-rules"}),valuePropName:"value",children:Object(e.jsx)(J.a,{})}),Object(e.jsx)(L.a,{width:"md",name:"visibility",label:Object(e.jsx)(a.a,{id:"visibility"}),tooltip:Object(e.jsx)(a.a,{id:"visibility_tooltip"}),placeholder:y.formatMessage({id:"visibility",defaultMessage:"visibility"}),min:1,max:1024,fieldProps:{step:1},rules:[{validator:function(){var j=Object(l.a)(Object(r.a)().mark(function C(x,n){return Object(r.a)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!(Math.pow(2,Math.ceil(Math.log2(n)))-n)){O.next=2;break}return O.abrupt("return",Promise.reject(new Error(y.formatMessage({id:"notPowerOfTwo",defaultMessage:"notPowerOfTwo"}))));case 2:return O.abrupt("return",Promise.resolve());case 3:case"end":return O.stop()}},C)}));function P(C,x){return j.apply(this,arguments)}return P}()}]}),Object(e.jsx)(K.a.Item,{name:"extra",label:Object(e.jsx)(a.a,{id:"extra"}),tooltip:Object(e.jsx)(a.a,{id:"extra"}),valuePropName:"value",children:Object(e.jsx)(J.a,{})})]})},de=ie,oe=[{title:Object(e.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!0},{title:Object(e.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",sorter:!0},{title:Object(e.jsx)(a.a,{id:"default",defaultMessage:"default"}),dataIndex:"default",hideInSearch:!0}],ue=function(M){var g=M.class_type,T=Object(i.useRef)(),ee=Object(i.useState)(!1),_=Object(s.a)(ee,2),$=_[0],o=_[1],N=Object(a.i)(),G=Object(i.useState)(!1),y=Object(s.a)(G,2),Y=y[0],U=y[1],R=Object(i.useState)([]),H=Object(s.a)(R,2),j=H[0],P=H[1],C=Object(i.useCallback)(function(){var x=Object(l.a)(Object(r.a)().mark(function n(m){var O,le,te,ae;return Object(r.a)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return O=m.class_type_to_remove,le=m.name,o(!0),te=f.default.loading(Object(e.jsx)(a.a,{id:"loading",defaultMessage:"loading"})),v.prev=3,v.next=6,Object(F.b)({class_type:O,name:le}).then(function(re){o(!1),re.success&&f.default.success(re.message)});case 6:return te(),o(!1),(ae=T.current)===null||ae===void 0||ae.reload(),v.abrupt("return",!0);case 12:return v.prev=12,v.t0=v.catch(3),te(),f.default.error(Object(e.jsx)(a.a,{id:"error",defaultMessage:"error"})),o(!1),v.abrupt("return",!1);case 18:case"end":return v.stop()}},n,null,[[3,12]])}));return function(n){return x.apply(this,arguments)}}(),[T]);return Object(e.jsxs)(i.Fragment,{children:[Object(e.jsx)(de,{fields:j,onResponse:function(){U(!1),T.current&&T.current.reload()},class_type:g,name:Y,visible:typeof Y=="string",onVisibleChange:function(n){return n===!1&&U(!1)}}),Object(e.jsx)(Z.a,{search:!1,headerTitle:N.formatMessage({id:"ModelFields",defaultMessage:"Model Fields"}),toolBarRender:function(){return[Object(e.jsxs)(b.a,{type:"primary",onClick:function(){return U("new")},children:[Object(e.jsx)(ne.a,{})," ",Object(e.jsx)(a.a,{id:"new",defaultMessage:"new"})]},"new")]},loading:$,actionRef:T,rowKey:"id",request:function(){return o(!0),Object(F.c)({class_type:g}).then(function(n){return o(!1),n.success?(P(n.data),{data:n.data,total:n.data.length,success:!0}):[]})},columns:[].concat(oe,[{title:Object(e.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(n,m){return[Object(e.jsx)(u.a,{title:Object(e.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(e.jsx)(b.a,{type:"primary",icon:Object(e.jsx)(S.a,{}),onClick:function(){return U(m.name)}})},"edit"),Object(e.jsx)(D.a,{title:Object(e.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return m.name&&C({class_type_to_remove:g,name:m.name})},okText:Object(e.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(e.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(e.jsx)(u.a,{title:Object(e.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(e.jsx)(b.a,{type:"primary",icon:Object(e.jsx)(z.a,{}),danger:!0})})},"delete")]}}])})]})},ce=ue,je=function(){return Object(e.jsx)(A.a,{children:Object(e.jsxs)(d.a,{tabs:{type:"card",activeKey:"fields",onChange:function(g){switch(g){case"list":return a.d.push("/users");default:return a.d.push("/users/".concat(g))}}},children:[Object(e.jsx)(d.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"list"})},"list"),Object(e.jsx)(d.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"ModelFields"}),children:Object(e.jsx)(ce,{class_type:"EscolaLms\\Auth\\Models\\User"})},"fields")]})})},Oe=p.default=je}}]);
