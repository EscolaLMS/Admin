(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"0TUn":function(q,f,e){"use strict";e.d(f,"c",function(){return v}),e.d(f,"a",function(){return s}),e.d(f,"b",function(){return o});var n=e("qLMh"),u=e("k1fw"),d=e("9og8"),m=e("9kvl");function v(_,j){return P.apply(this,arguments)}function P(){return P=Object(d.a)(Object(n.a)().mark(function _(j,C){return Object(n.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(m.i)("/api/model-fields",Object(u.a)({method:"GET",params:j},C||{})));case 1:case"end":return r.stop()}},_)})),P.apply(this,arguments)}function s(_,j){return E.apply(this,arguments)}function E(){return E=Object(d.a)(Object(n.a)().mark(function _(j,C){return Object(n.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(m.i)("/api/admin/model-fields",Object(u.a)({method:"POST",data:j},C||{})));case 1:case"end":return r.stop()}},_)})),E.apply(this,arguments)}function o(_,j){return l.apply(this,arguments)}function l(){return l=Object(d.a)(Object(n.a)().mark(function _(j,C){return Object(n.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(m.i)("/api/admin/model-fields",Object(u.a)({method:"DELETE",data:j},C||{})));case 1:case"end":return r.stop()}},_)})),l.apply(this,arguments)}},"59P8":function(q,f,e){"use strict";var n=e("k1fw"),u=e("PpiC"),d=e("tJVT"),m=e("q1tI"),v=e("9kvl"),P=e("Qiat"),s=e("sWYD"),E=e("mGZj"),o=e("qLMh"),l=e("9og8");function _(c,M){return j.apply(this,arguments)}function j(){return j=Object(l.a)(Object(o.a)().mark(function c(M,S){return Object(o.a)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:return D.abrupt("return",Object(v.i)("/api/admin/tracks/routes",Object(n.a)({method:"GET",useCache:!1,params:Object(n.a)(Object(n.a)({},M),{},{per_page:M.pageSize,page:M.current})},S||{})));case 1:case"end":return D.stop()}},c)})),j.apply(this,arguments)}var C=e("Vpfc"),i=e("0WSk"),r=e("nKUr"),O=["type","defaultRender"],b=[{title:Object(r.jsx)(v.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{title:Object(r.jsx)(v.a,{id:"dateRange",defaultMessage:"Date Range"}),dataIndex:"dateRange",hideInSearch:!1,hideInForm:!0,hideInTable:!0,valueType:"dateRange",fieldProps:{allowEmpty:[!0,!0]}},{title:Object(r.jsx)(v.a,{id:"http_method",defaultMessage:"http_method"}),dataIndex:"method",hideInSearch:!1,sorter:!0,valueEnum:{GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH"}},{title:Object(r.jsx)(v.a,{id:"path",defaultMessage:"path"}),dataIndex:"path",sorter:!0,hideInSearch:!1}],g=function(M){var S=M.useAsWidget,Y=M.userID,D=Object(m.useRef)(),p=Object(m.useState)(!1),ee=Object(d.a)(p,2),F=ee[0],H=ee[1],ie=Object(v.l)();return Object(r.jsx)(P.a,{headerTitle:ie.formatMessage({id:"menu.Analytics.Logs",defaultMessage:"menu.Analytics.Logs"}),loading:F,actionRef:D,rowKey:"id",search:{layout:"vertical"},request:function(A,Z){var ce=A.user_id,ue=A.method,te=A.dateRange,de=A.path,se=A.pageSize,je=A.current,le=Z&&Object.entries(Z)[0];H(!0);var t=te&&te[0]?Object(s.a)(new Date(te[0]),E.a):void 0,Oe=te&&te[1]?Object(s.a)(new Date(te[1]),E.a):void 0;return _({user_id:S?Y:ce,method:ue,pageSize:se,current:je,path:de,date_from:t,date_to:Oe,order_by:le&&le[0],order:le?le[1]==="ascend"?"ASC":"DESC":void 0}).then(function(me){return H(!1),me.success?{data:me.data,total:me.meta.total,success:!0}:[]})},columns:[].concat(b,[{title:Object(r.jsx)(v.a,{id:"user",defaultMessage:"user"}),dataIndex:"user_id",key:"user_id",hideInSearch:S,sorter:!0,renderFormItem:function(A,Z,ce){var ue=Z.type,te=Z.defaultRender,de=Object(u.a)(Z,O);if(ue==="form")return null;var se=ce.getFieldValue("state");return Object(r.jsx)(i.a,Object(n.a)(Object(n.a)({},de),{},{state:{type:se}}))},render:function(A,Z){return Z.user&&Object(r.jsx)(C.a,{type:"App\\Models\\User",type_id:Z.user.id})}}])})},a=f.a=g},"G/Ub":function(q,f,e){"use strict";e.d(f,"d",function(){return v}),e.d(f,"a",function(){return s}),e.d(f,"b",function(){return o}),e.d(f,"c",function(){return _}),e.d(f,"e",function(){return C});var n=e("qLMh"),u=e("k1fw"),d=e("9og8"),m=e("9kvl");function v(r,O){return P.apply(this,arguments)}function P(){return P=Object(d.a)(Object(n.a)().mark(function r(O,b){return Object(n.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(m.i)("/api/admin/roles",Object(u.a)({method:"GET",useCache:!1,params:O},b||{})));case 1:case"end":return a.stop()}},r)})),P.apply(this,arguments)}function s(r,O){return E.apply(this,arguments)}function E(){return E=Object(d.a)(Object(n.a)().mark(function r(O,b){return Object(n.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(m.i)("/api/admin/roles",Object(u.a)({method:"POST",headers:{"Content-Type":"application/json"},data:O},b||{})));case 1:case"end":return a.stop()}},r)})),E.apply(this,arguments)}function o(r,O){return l.apply(this,arguments)}function l(){return l=Object(d.a)(Object(n.a)().mark(function r(O,b){return Object(n.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(m.i)("/api/admin/roles/".concat(O),Object(u.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},b||{})));case 1:case"end":return a.stop()}},r)})),l.apply(this,arguments)}function _(r,O){return j.apply(this,arguments)}function j(){return j=Object(d.a)(Object(n.a)().mark(function r(O,b){return Object(n.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(m.i)("/api/admin/roles/".concat(O),Object(u.a)({method:"GET",useCache:!1},b||{})));case 1:case"end":return a.stop()}},r)})),j.apply(this,arguments)}function C(r,O,b){return i.apply(this,arguments)}function i(){return i=Object(d.a)(Object(n.a)().mark(function r(O,b,g){return Object(n.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.abrupt("return",Object(m.i)("/api/admin/roles/".concat(O),Object(u.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:b},g||{})));case 1:case"end":return c.stop()}},r)})),i.apply(this,arguments)}},Jfn2:function(q,f,e){"use strict";var n=e("k1fw"),u=e("XCrF"),d=e("1GRj"),m=e("PpiC"),v=e("q1tI"),P=e.n(v),s=e("nKUr"),E=e.n(s),o=["path","size","srcSizes","alt"],l=function(j){var C=j.path,i=j.size,r=j.srcSizes,O=j.alt,b=O===void 0?"LMS Image":O,g=Object(m.a)(j,o),a="".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(C,"&w=").concat(r?r[0]:i),c=r&&r.map(function(M){return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(C,"&w=").concat(M," ").concat(M,"w")});return Object(s.jsx)("div",{className:"escolalms-image",children:Object(s.jsx)(d.a,Object(n.a)({src:a,srcSet:c&&c.join(","),alt:b},g))})};f.a=l},TWax:function(q,f,e){"use strict";var n=e("ozfa"),u=e("MJZm"),d=e("T2oS"),m=e("W9HT"),v=e("tJVT"),P=e("q1tI"),s=e.n(P),E=e("JifO"),o=e("nKUr"),l=e.n(o),_=function C(i){return i.subcategories&&i.subcategories.length?{title:i.name,key:i.id,children:i.subcategories.map(function(r){return C(r)})}:{title:i.name,key:i.id}},j=function(i){var r=i.value,O=i.onChange,b=i.multiple,g=b===void 0?!0:b,a=Object(P.useState)([]),c=Object(v.a)(a,2),M=c[0],S=c[1];Object(P.useEffect)(function(){Object(E.c)().then(function(D){D.success&&S(D.data)})},[]);var Y=Object(P.useMemo)(function(){return M.map(function(D){return _(D)})},[M]);return M.length===0?Object(o.jsx)(m.a,{}):Object(o.jsx)(u.a,{multiple:g,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,style:{width:"100%"},checkedKeys:r,onCheck:function(p){if(typeof p=="object"&&!Array.isArray(p)&&p.checked){var ee=p.checked;return O&&Array.isArray(ee)&&O(ee)}},treeData:Y,disabled:M.length===0})};f.a=j},TpMl:function(q,f,e){"use strict";var n=e("tJVT"),u=e("q1tI"),d=e.n(u),m=e("0TUn"),v=function(s){var E=Object(u.useState)({state:"initial"}),o=Object(n.a)(E,2),l=o[0],_=o[1];return Object(u.useEffect)(function(){_({state:"loading"}),Object(m.c)({class_type:s}).then(function(j){j.success&&_({state:"loaded",list:j.data})})},[s]),l};f.a=v},YDZB:function(q,f,e){"use strict";var n=e("2qtc"),u=e("kLXV"),d=e("7Kak"),m=e("9yH6"),v=e("+L6B"),P=e("2/Rp"),s=e("tJVT"),E=e("q1tI"),o=e.n(E),l=e("gU/Y"),_=e("9kvl"),j=e("u95b"),C=e.n(j),i=e("nKUr"),r=e.n(i),O=function(g){var a=g.value,c=g.onChange,M=Object(E.useState)(!1),S=Object(s.a)(M,2),Y=S[0],D=S[1],p=Object(E.useCallback)(function(){D(!1)},[]),ee=Object(E.useState)("code"),F=Object(s.a)(ee,2),H=F[0],ie=F[1];return Object(i.jsxs)("div",{children:[Object(i.jsx)(P.a,{type:"primary",onClick:function(){return D(!0)},size:"small",children:Object(i.jsx)(_.a,{id:"json_editor"})}),Object(i.jsxs)(u.a,{title:"JSON",visible:Y,onOk:p,onCancel:p,children:[Object(i.jsxs)(m.a.Group,{onChange:function(A){return ie(A.target.value)},value:H,children:[Object(i.jsx)(m.a,{value:"tree",children:"tree"}),Object(i.jsx)(m.a,{value:"view",children:"view"}),Object(i.jsx)(m.a,{value:"form",children:"form"}),Object(i.jsx)(m.a,{value:"code",children:"code"}),Object(i.jsx)(m.a,{value:"text",children:"text"})]}),Object(i.jsx)(l.a,{mode:H,value:a,onChange:function(A){return c&&c(A)}},H)]})]})};f.a=O},YDsB:function(q,f,e){"use strict";var n=e("YDZB"),u=e("FJDo"),d=e("tneF"),m=e("Qurx"),v=e("VMEa"),P=e("BiO0"),s=e("q1tI"),E=e.n(s),o=e("9kvl"),l=e("nKUr"),_=e.n(l),j=function(i){var r=i.field,O=Object(o.l)(),b=function(a){var c=a&&a.extra&&a.extra.find(function(M){return M[Object(o.e)()]});switch(a.type){case"number":return Object(l.jsx)(u.a,{width:"md",name:a.name,label:c?c[Object(o.e)()]:Object(l.jsx)(o.a,{id:a.name}),tooltip:Object(l.jsx)(o.a,{id:a.name}),placeholder:O.formatMessage({id:a.name,defaultMessage:a.name}),min:1,max:1024,fieldProps:{step:1}});case"boolean":return Object(l.jsx)(d.a,{name:a.name,children:c?c[Object(o.e)()]:Object(l.jsx)(o.a,{id:a.name})});case"varchar":return Object(l.jsx)(m.a,{width:"md",name:a.name,label:c?c[Object(o.e)()]:Object(l.jsx)(o.a,{id:a.name}),tooltip:Object(l.jsx)(o.a,{id:a.name}),placeholder:O.formatMessage({id:a.name})});case"json":return Object(l.jsx)(v.a.Item,{name:a.name,label:c?c[Object(o.e)()]:Object(l.jsx)(o.a,{id:a.name}),tooltip:Object(l.jsx)(o.a,{id:a.name}),valuePropName:"value",children:Object(l.jsx)(n.a,{})});case"text":default:return Object(l.jsx)(P.a,{width:"md",name:a.name,label:c?c[Object(o.e)()]:Object(l.jsx)(o.a,{id:a.name}),tooltip:Object(l.jsx)(o.a,{id:a.name}),placeholder:O.formatMessage({id:a.name})})}};return Object(l.jsx)(l.Fragment,{children:b(r)})};f.a=j},tneF:function(q,f,e){"use strict";var n=e("sRBo"),u=e("kaz8"),d=e("VTBJ"),m=e("Ff2n"),v=e("nKUr"),P=e.n(v),s=e("uX+g"),E=e("q1tI"),o=e.n(E),l=e("WFLz"),_=e("adzw"),j=["options","fieldProps","proFieldProps","valueEnum"],C=o.a.forwardRef(function(b,g){var a=b.options,c=b.fieldProps,M=b.proFieldProps,S=b.valueEnum,Y=Object(m.a)(b,j);return Object(v.jsx)(_.a,Object(d.a)({ref:g,valueType:"checkbox",valueEnum:Object(s.a)(S,void 0),fieldProps:Object(d.a)({options:a},c),lightProps:Object(d.a)({labelFormatter:function(){return Object(v.jsx)(_.a,Object(d.a)({ref:g,valueType:"checkbox",mode:"read",valueEnum:Object(s.a)(S,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(d.a)({options:a},c),proFieldProps:M},Y))}},Y.lightProps),proFieldProps:M},Y))}),i=o.a.forwardRef(function(b,g){var a=b.fieldProps,c=b.children;return Object(v.jsx)(u.a,Object(d.a)(Object(d.a)({ref:g},a),{},{children:c}))}),r=Object(l.a)(i,{valuePropName:"checked"}),O=r;O.Group=C,f.a=O},weGn:function(q,f,e){"use strict";e.r(f);var n=e("qLMh"),u=e("k1fw"),d=e("9og8"),m=e("tJVT"),v=e("nhC9"),P=e("Ty5D"),s=e("9kvl"),E=e("tMyG"),o=e("14J3"),l=e("BMrR"),_=e("/zsF"),j=e("PArb"),C=e("tU7J"),i=e("wFql"),r=e("DYRE"),O=e("zeV3"),b=e("y8nQ"),g=e("Vl3Y"),a=e("+L6B"),c=e("2/Rp"),M=e("T2oS"),S=e("W9HT"),Y=e("miYZ"),D=e("tsqr"),p=e("q1tI"),ee=e.n(p),F=e("VMEa"),H=e("Qurx"),ie=e("F/zT"),ne=e("tneF"),A=e("VK58"),Z=e("02ly"),ce=e("Jfn2"),ue=e("2ult"),te=e("55Ip"),de=e("G/Ub"),se=e("ri8c"),je=e("TpMl"),le=e("YDsB"),t=e("nKUr");function Oe(W){var ae=Object(p.useState)([]),B=Object(m.a)(ae,2),K=B[0],Q=B[1],X=Object(p.useState)(!1),R=Object(m.a)(X,2),w=R[0],h=R[1],U=Object(p.useCallback)(Object(d.a)(Object(n.a)().mark(function J(){var x;return Object(n.a)().wrap(function(G){for(;;)switch(G.prev=G.next){case 0:return G.prev=0,h(!0),G.next=4,Object(se.h)({user_id:W});case 4:x=G.sent,x.success&&Q(x.data.map(function(T){var ve=T.id;return ve}));case 6:return G.prev=6,h(!1),G.finish(6);case 9:case"end":return G.stop()}},J,null,[[0,,6,9]])})),[W]),$=Object(p.useCallback)(function(){var J=Object(d.a)(Object(n.a)().mark(function x(I){return Object(n.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(typeof I!="string"){T.next=2;break}return T.abrupt("return");case 2:return h(!0),T.next=5,Object(se.a)(I,W);case 5:return T.next=7,U();case 7:h(!1);case 8:case"end":return T.stop()}},x)}));return function(x){return J.apply(this,arguments)}}(),[W]),z=Object(p.useCallback)(function(){var J=Object(d.a)(Object(n.a)().mark(function x(I){return Object(n.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(typeof I!="string"){T.next=2;break}return T.abrupt("return");case 2:return h(!0),T.next=5,Object(se.d)(I,W);case 5:return T.next=7,U();case 7:h(!1);case 8:case"end":return T.stop()}},x)}));return function(x){return J.apply(this,arguments)}}(),[W]),k=Object(p.useCallback)(Object(d.a)(Object(n.a)().mark(function J(){return Object(n.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return h(!0),I.next=3,Promise.all(K.map(function(G){return Object(se.d)(G,W)}));case 3:return I.next=5,U();case 5:h(!1);case 6:case"end":return I.stop()}},J)})),[K]);return Object(p.useEffect)(function(){U()},[U]),{userGroups:K,userGroupsLoading:w,handleAddToGroup:$,handleRemoveFromGroup:z,handleClearAllGroups:k}}var me=function(W){var ae,B,K,Q,X=W.isNew,R=W.data,w=W.setData,h=Object(s.l)(),U=Object(P.l)(),$=U.user,z=Object(je.a)("EscolaLms\\Auth\\Models\\User"),k=Object(s.m)("@@initialState"),J=k.initialState,x=J==null||(ae=J.config)===null||ae===void 0||(B=ae.filter(function(L){return L.key==="frontURL"})[0])===null||B===void 0?void 0:B.data,I=Oe((K=R==null?void 0:R.id)!==null&&K!==void 0?K:0),G=I.userGroups,T=I.userGroupsLoading,ve=I.handleAddToGroup,De=I.handleRemoveFromGroup,Ce=I.handleClearAllGroups,xe=Object(p.useState)(),he=Object(m.a)(xe,2),fe=he[0],Te=he[1],Ae=F.a.useForm(),Re=Object(m.a)(Ae,1),be=Re[0],Ie=Object(p.useCallback)(Object(d.a)(Object(n.a)().mark(function L(){var N,y;return Object(n.a)().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return V.next=2,Object(de.d)();case 2:return N=V.sent,V.next=5,N;case 5:y=V.sent,y.success&&Te(y.data);case 7:case"end":return V.stop()}},L)})),[$]),Ue=function(){Object(A.d)(Number($)).then(function(N){N.success&&(D.b.success(N.message),w(function(y){return Object(u.a)(Object(u.a)({},y),{},{avatar:"",path_avatar:""})}))}).catch(function(N){D.b.error(N.data.message)})};Object(p.useEffect)(function(){Ie()},[$]);var Le=Object(p.useMemo)(function(){return{form:be,onFinish:function(){var L=Object(d.a)(Object(n.a)().mark(function y(pe){var V,oe;return Object(n.a)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:if(oe=Object(u.a)({},pe),(!oe.password||oe.password==="")&&delete oe.password,!X){re.next=9;break}return re.next=5,Object(A.a)(oe);case 5:V=re.sent,V.success&&s.f.push("/users/".concat(V.data.id,"/user_info")),re.next=12;break;case 9:return re.next=11,Object(A.k)(Number($),oe);case 11:V=re.sent;case 12:D.b.success(V.message);case 13:case"end":return re.stop()}},y)}));function N(y){return L.apply(this,arguments)}return N}(),initialValues:R}},[R,$]);return R?Object(t.jsxs)(F.a,Object(u.a)(Object(u.a)({},Le),{},{children:[Object(t.jsxs)(F.a.Group,{children:[Object(t.jsx)(H.a,{width:"md",name:"first_name",label:Object(t.jsx)(s.a,{id:"first_name"}),tooltip:Object(t.jsx)(s.a,{id:"first_name"}),placeholder:h.formatMessage({id:"first_name"}),required:!0,rules:[{required:!0,message:h.formatMessage({id:"field_required"})}]}),Object(t.jsx)(H.a,{width:"md",name:"last_name",label:Object(t.jsx)(s.a,{id:"last_name"}),tooltip:Object(t.jsx)(s.a,{id:"last_name"}),placeholder:h.formatMessage({id:"last_name"}),required:!0,rules:[{required:!0,message:h.formatMessage({id:"field_required"})}]}),Object(t.jsx)(H.a,{width:"md",name:"email",label:Object(t.jsx)(s.a,{id:"email"}),tooltip:Object(t.jsx)(s.a,{id:"email"}),placeholder:h.formatMessage({id:"email"}),required:!0,rules:[{required:!0,message:h.formatMessage({id:"field_required"})}]}),Object(t.jsx)(H.a.Password,{shouldUpdate:!0,width:"md",name:"password",label:Object(t.jsx)(s.a,{id:"password"}),tooltip:Object(t.jsx)(s.a,{id:"password"}),placeholder:h.formatMessage({id:"password"}),required:X,rules:[{validator:function(N,y){return y&&!/(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,}$/i.test(y)?Promise.reject(new Error(h.formatMessage({id:"badPassword"}))):Promise.resolve()}},{required:X,message:Object(t.jsx)(s.a,{id:"field_required"})}]}),z.state==="loaded"&&z.list.map(function(L){return Object(t.jsx)(le.a,{field:L},L.id)})]}),Object(t.jsxs)(F.a.Group,{children:[!X&&Object(t.jsxs)(O.b,{direction:"vertical",children:[!((Q=R.roles)!==null&&Q!==void 0&&Q.includes("admin"))&&Object(t.jsx)(ie.a,{initialValue:R.is_active,name:"email_verified",label:Object(t.jsx)(s.a,{id:"is_email_verified"})}),Object(t.jsx)(g.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){return be.getFieldValue("email_verified")?Object(t.jsx)(ee.a.Fragment,{}):Object(t.jsxs)(t.Fragment,{children:[!x&&Object(t.jsxs)("p",{children:[Object(t.jsx)(s.a,{id:"no_base_url"}),Object(t.jsx)(te.a,{to:"/configuration/settings/escola_auth",children:"Settings"})]}),Object(t.jsx)(c.a,{disabled:!x,size:"small",onClick:function(){Object(A.g)(be.getFieldValue("email"),"".concat(x,"email-verify")).then(function(){D.b.success(h.formatMessage({id:"email_resend"}))})},children:Object(t.jsx)(s.a,{id:"resend"})})]})}})]}),Object(t.jsx)(ie.a,{name:"is_active",label:Object(t.jsx)(s.a,{id:"is_active"})}),fe&&Object(t.jsx)(ne.a.Group,{name:"roles",layout:"horizontal",label:Object(t.jsx)(s.a,{id:"roles"}),options:fe.filter(function(L){return L.guard_name!=="web"}).map(function(L){return L.name})})]}),!X&&Object(t.jsxs)(t.Fragment,{children:[Object(t.jsxs)(F.a.Group,{children:[Object(t.jsx)(F.a.Item,{name:"avatar",label:Object(t.jsx)(s.a,{id:"avatar"}),children:R.path_avatar?Object(t.jsx)(ce.a,{path:R.path_avatar,size:600,width:200}):Object(t.jsx)(i.a,{children:Object(t.jsx)(s.a,{id:"avatar_placeholder"})})}),Object(t.jsx)(g.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){return Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(Z.a,{folder:"avatars/".concat($),wrapInForm:!1,url:"/api/admin/users/".concat($,"/avatar"),name:"avatar",accept:"image/*",onChange:function(y){y.file.status==="done"&&y.file.response&&y.file.response.success&&w(y.file.response.data)}}),Object(t.jsx)(c.a,{danger:!0,onClick:Ue,children:Object(t.jsx)(s.a,{id:"delete"})})]})}})]}),Object(t.jsxs)(l.a,{children:[Object(t.jsx)(j.a,{}),Object(t.jsx)(F.a.Item,{style:{width:"100%"},label:Object(t.jsx)(s.a,{id:"groups",defaultMessage:"Groups"}),children:Object(t.jsx)(ue.a,{multiple:!0,loading:T,disabled:T,value:G,onSelect:ve,onDeselect:De,onClear:Ce})})]})]})]})):Object(t.jsx)(S.a,{})},Ee=e("TWax"),_e=function(ae){var B=ae.data,K=Object(p.useMemo)(function(){return{onFinish:function(){var Q=Object(d.a)(Object(n.a)().mark(function R(w){var h,U;return Object(n.a)().wrap(function(z){for(;;)switch(z.prev=z.next){case 0:return h=Object(u.a)({},w),z.next=3,Object(A.l)(Number(B==null?void 0:B.id),h);case 3:U=z.sent,D.b.success(U.message);case 5:case"end":return z.stop()}},R)}));function X(R){return Q.apply(this,arguments)}return X}(),initialValues:B}},[B]);return Object(t.jsx)(F.a,Object(u.a)(Object(u.a)({},K),{},{children:Object(t.jsx)(F.a.Item,{label:Object(t.jsx)(s.a,{id:"categories"}),name:"interests",valuePropName:"value",children:Object(t.jsx)(Ee.a,{})})}))},Pe=_e,ge=e("c+yx"),Me=e("59P8"),ye=f.default=function(){var W=Object(P.l)(),ae=Object(p.useState)(),B=Object(m.a)(ae,2),K=B[0],Q=B[1],X=Object(s.l)(),R=W.tab,w=R===void 0?"user_info":R,h=W.user,U=typeof h=="undefined",$=Object(p.useCallback)(Object(d.a)(Object(n.a)().mark(function z(){var k;return Object(n.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,Object(A.m)(Number(h));case 2:k=x.sent,k.success&&Q(Object(u.a)(Object(u.a)({},k.data),{},{interests:k.data.interests.map(ge.a)}));case 4:case"end":return x.stop()}},z)})),[h]);return Object(p.useEffect)(function(){if(U){Q({});return}$()},[h,$]),Object(t.jsx)(E.a,{title:Object(t.jsx)(s.a,{id:"settings"}),header:{breadcrumb:{routes:[{path:"/users/".concat(h,"/user_info"),breadcrumbName:X.formatMessage({id:"menu.Settings"})},{path:String(w),breadcrumbName:String(w)}]}},children:Object(t.jsxs)(v.a,{tabs:{type:"card",activeKey:w,onChange:function(k){return s.f.push("/users/".concat(h,"/").concat(k))}},children:[Object(t.jsx)(v.a.TabPane,{tab:U?Object(t.jsx)(s.a,{id:"new_user"}):Object(t.jsx)(s.a,{id:"edit_user"}),children:Object(t.jsx)(me,{isNew:U,data:K,setData:Q})},"user_info"),!U&&Object(t.jsx)(v.a.TabPane,{tab:Object(t.jsx)("span",{children:Object(t.jsx)(s.a,{id:"categories"})}),children:(K==null?void 0:K.id)&&Object(t.jsx)(Pe,{data:K})},"categories"),!U&&Object(t.jsx)(v.a.TabPane,{tab:Object(t.jsx)("span",{children:Object(t.jsx)(s.a,{id:"user_logs"})}),children:h&&Object(t.jsx)(Me.a,{useAsWidget:!0,userID:Number(h)})},"logs")]})})}}}]);

//# sourceMappingURL=p__Users__User.1c626148.async.js.map