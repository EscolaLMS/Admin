(window.webpackJsonp=window.webpackJsonp||[]).push([[32],{"5tKr":function(K,l,e){"use strict";e.d(l,"b",function(){return M}),e.d(l,"a",function(){return n});var D=e("WmNS"),d=e.n(D),u=e("k1fw"),c=e("9og8"),m=e("9kvl");function M(s,r){return o.apply(this,arguments)}function o(){return o=Object(c.a)(d.a.mark(function s(r,a){return d.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(m.f)("/api/admin/scorm",Object(u.a)({params:Object(u.a)(Object(u.a)({},r),{},{per_page:r.pageSize,page:r.current}),method:"GET",useCache:!1},a||{})));case 1:case"end":return _.stop()}},s)})),o.apply(this,arguments)}function P(s,r){return O.apply(this,arguments)}function O(){return O=Object(c.a)(d.a.mark(function s(r,a){return d.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(m.f)("/api/admin/scorm/scos",Object(u.a)({params:Object(u.a)(Object(u.a)({},r),{},{per_page:r.pageSize,page:r.current}),method:"GET",useCache:!1},a||{})));case 1:case"end":return _.stop()}},s)})),O.apply(this,arguments)}function n(s,r){return i.apply(this,arguments)}function i(){return i=Object(c.a)(d.a.mark(function s(r,a){return d.a.wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",Object(m.f)("/api/admin/scorm/".concat(r),Object(u.a)({method:"DELETE"},a||{})));case 1:case"end":return _.stop()}},s)})),i.apply(this,arguments)}},"DBJ/":function(K,l,e){"use strict";var D=e("k1fw"),d=e("y8nQ"),u=e("Vl3Y"),c=e("etVw"),m=e("9kvl"),M=e("qFDU"),o=e("nKUr"),P=e.n(o);function O(n){var i=n.onChange,s=n.onUpload,r=n.url,a=n.name,v=n.extra,_=n.accept,I=n.data,g=n.wrapInForm,R=g===void 0?!0:g,C=n.title,B=n.formProps,t=Object(m.i)();return I&&I[a]&&delete I[a],Object(o.jsx)(M.a,{condition:R,wrap:function(f){return Object(o.jsx)(u.a,Object(D.a)(Object(D.a)({},B),{},{children:f}))},children:Object(o.jsx)(c.a,{title:C||Object(o.jsx)(m.a,{id:"upload_click_here"}),placeholder:t.formatMessage({id:"upload_click_here"}),onChange:function(f){i&&i(f),f.file.status==="done"&&s&&s(f.file.response)},label:Object(o.jsx)(m.a,{id:"upload"}),max:2,fieldProps:{data:I,accept:_,name:a,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(r),extra:v})})}l.a=O},"RY+t":function(K,l,e){"use strict";var D=e("DBJ/"),d=e("q1tI"),u=e.n(d),c=e("nKUr"),m=e.n(c),M=function(P){var O=P.onSuccess,n=P.onError;return Object(c.jsx)(D.a,{url:"/api/admin/scorm/upload",name:"zip",accept:"application/zip",onChange:function(s){if(s.file.response){var r=s.file.response.response;r.success?O(r.data.model):n(r)}}})};l.a=M},"w76+":function(K,l,e){"use strict";e.r(l);var D=e("P2fV"),d=e("NJEC"),u=e("5Dmo"),c=e("3S7+"),m=e("+L6B"),M=e("2/Rp"),o=e("miYZ"),P=e("tsqr"),O=e("WmNS"),n=e.n(O),i=e("9og8"),s=e("q1tI"),r=e.n(s),a=e("9kvl"),v=e("55Ip"),_=e("tMyG"),I=e("Qiat"),g=e("Dx9A"),R=e("/MfK"),C=e("5tKr"),B=e("RY+t"),t=e("nKUr"),L=e.n(t),f=function(){var W=Object(i.a)(n.a.mark(function j(U){return n.a.wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.next=2,Object(C.a)(U);case 2:return E.abrupt("return",!0);case 3:case"end":return E.stop()}},j)}));return function(U){return W.apply(this,arguments)}}(),S=function(){var j=Object(s.useRef)(),U=Object(a.i)(),x=[{title:Object(t.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"version",defaultMessage:"version"}),dataIndex:"version",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"newScorm",defaultMessage:"New Scorm"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(B.a,{onSuccess:function(){j.current&&j.current.reload(),P.default.success(Object(t.jsx)(a.a,{id:"scorm_uploaded",defaultMessage:"scorm uploaded"}))},onError:function(p){return P.default.error(p)}})]}},{title:Object(t.jsx)(a.a,{id:"SCOS",defaultMessage:"Sharable Content Objects"}),dataIndex:"SCOS",hideInSearch:!0,render:function(b,p){return[p.scos.map(function(h){return Object(t.jsx)(v.a,{to:"/scorms/preview/".concat(h.uuid),children:Object(t.jsx)(c.a,{title:Object(t.jsx)(a.a,{id:"preview",defaultMessage:"preview"}),children:Object(t.jsx)(M.a,{size:"small",icon:Object(t.jsx)(g.a,{}),type:"primary",children:h.title})})},h.uuid)})]}},{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(b,p){return[Object(t.jsx)(d.a,{title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(i.a)(n.a.mark(function h(){var A;return n.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,f(p.id);case 2:A=T.sent,A&&j.current&&j.current.reload();case 4:case"end":return T.stop()}},h)})),okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(c.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(M.a,{type:"primary",icon:Object(t.jsx)(R.a,{}),danger:!0})})},"delete")]}}];return Object(t.jsx)(_.a,{children:Object(t.jsx)(I.a,{headerTitle:U.formatMessage({id:"scorms",defaultMessage:"scorms"}),actionRef:j,rowKey:"id",search:{},request:function(b){var p=b.pageSize,h=b.current;return Object(C.b)({pageSize:p,current:h}).then(function(A){return A.success?{data:A.data.data,total:A.data.total,success:!0}:[]})},columns:x})})};l.default=S}}]);
