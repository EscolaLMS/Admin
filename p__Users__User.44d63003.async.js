(window.webpackJsonp=window.webpackJsonp||[]).push([[45],{"59P8":function(se,g,e){"use strict";var s=e("k1fw"),d=e("PpiC"),m=e("tJVT"),b=e("q1tI"),h=e("9kvl"),x=e("Qiat"),t=e("sWYD"),M=e("mGZj"),I=e("qLMh"),f=e("9og8");function u(r,p){return P.apply(this,arguments)}function P(){return P=Object(f.a)(Object(I.a)().mark(function r(p,T){return Object(I.a)().wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.abrupt("return",Object(h.i)("/api/admin/tracks/routes",Object(s.a)({method:"GET",useCache:!1,params:Object(s.a)(Object(s.a)({},p),{},{per_page:p.pageSize,page:p.current})},T||{})));case 1:case"end":return i.stop()}},r)})),P.apply(this,arguments)}var W=e("Vpfc"),l=e("0WSk"),n=e("nKUr"),j=["type","defaultRender"],c=[{title:Object(n.jsx)(h.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0,sorter:!0,width:"80px"},{title:Object(n.jsx)(h.a,{id:"dateRange",defaultMessage:"Date Range"}),dataIndex:"dateRange",hideInSearch:!1,hideInForm:!0,hideInTable:!0,valueType:"dateRange",fieldProps:{allowEmpty:[!0,!0]}},{title:Object(n.jsx)(h.a,{id:"http_method",defaultMessage:"http_method"}),dataIndex:"method",hideInSearch:!1,sorter:!0,valueEnum:{GET:"GET",POST:"POST",PUT:"PUT",DELETE:"DELETE",PATCH:"PATCH"}},{title:Object(n.jsx)(h.a,{id:"path",defaultMessage:"path"}),dataIndex:"path",sorter:!0,hideInSearch:!1}],E=function(p){var T=p.useAsWidget,F=p.userID,i=Object(b.useRef)(),O=Object(b.useState)(!1),q=Object(m.a)(O,2),G=q[0],Z=q[1],ne=Object(h.l)();return Object(n.jsx)(x.a,{headerTitle:ne.formatMessage({id:"menu.Analytics.Logs",defaultMessage:"menu.Analytics.Logs"}),loading:G,actionRef:i,rowKey:"id",search:{layout:"vertical"},request:function(R,Q){var ce=R.user_id,de=R.method,ee=R.dateRange,ue=R.path,re=R.pageSize,me=R.current,le=Q&&Object.entries(Q)[0];Z(!0);var a=ee&&ee[0]?Object(t.a)(new Date(ee[0]),M.a):void 0,Oe=ee&&ee[1]?Object(t.a)(new Date(ee[1]),M.a):void 0;return u({user_id:T?F:ce,method:de,pageSize:re,current:me,path:ue,date_from:a,date_to:Oe,order_by:le&&le[0],order:le?le[1]==="ascend"?"ASC":"DESC":void 0}).then(function(je){return Z(!1),je.success?{data:je.data,total:je.meta.total,success:!0}:[]})},columns:[].concat(c,[{title:Object(n.jsx)(h.a,{id:"user",defaultMessage:"user"}),dataIndex:"user_id",key:"user_id",hideInSearch:T,sorter:!0,renderFormItem:function(R,Q,ce){var de=Q.type,ee=Q.defaultRender,ue=Object(d.a)(Q,j);if(de==="form")return null;var re=ce.getFieldValue("state");return Object(n.jsx)(l.a,Object(s.a)(Object(s.a)({},ue),{},{state:{type:re}}))},render:function(R,Q){return Q.user&&Object(n.jsx)(W.a,{type:"App\\Models\\User",type_id:Q.user.id})}}])})},o=g.a=E},"G/Ub":function(se,g,e){"use strict";e.d(g,"d",function(){return h}),e.d(g,"a",function(){return t}),e.d(g,"b",function(){return I}),e.d(g,"c",function(){return u}),e.d(g,"e",function(){return W});var s=e("qLMh"),d=e("k1fw"),m=e("9og8"),b=e("9kvl");function h(n,j){return x.apply(this,arguments)}function x(){return x=Object(m.a)(Object(s.a)().mark(function n(j,c){return Object(s.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(b.i)("/api/admin/roles",Object(d.a)({method:"GET",useCache:!1,params:j},c||{})));case 1:case"end":return o.stop()}},n)})),x.apply(this,arguments)}function t(n,j){return M.apply(this,arguments)}function M(){return M=Object(m.a)(Object(s.a)().mark(function n(j,c){return Object(s.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(b.i)("/api/admin/roles",Object(d.a)({method:"POST",headers:{"Content-Type":"application/json"},data:j},c||{})));case 1:case"end":return o.stop()}},n)})),M.apply(this,arguments)}function I(n,j){return f.apply(this,arguments)}function f(){return f=Object(m.a)(Object(s.a)().mark(function n(j,c){return Object(s.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(b.i)("/api/admin/roles/".concat(j),Object(d.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},c||{})));case 1:case"end":return o.stop()}},n)})),f.apply(this,arguments)}function u(n,j){return P.apply(this,arguments)}function P(){return P=Object(m.a)(Object(s.a)().mark(function n(j,c){return Object(s.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(b.i)("/api/admin/roles/".concat(j),Object(d.a)({method:"GET",useCache:!1},c||{})));case 1:case"end":return o.stop()}},n)})),P.apply(this,arguments)}function W(n,j,c){return l.apply(this,arguments)}function l(){return l=Object(m.a)(Object(s.a)().mark(function n(j,c,E){return Object(s.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(b.i)("/api/admin/roles/".concat(j),Object(d.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:c},E||{})));case 1:case"end":return r.stop()}},n)})),l.apply(this,arguments)}},Jfn2:function(se,g,e){"use strict";var s=e("k1fw"),d=e("XCrF"),m=e("1GRj"),b=e("PpiC"),h=e("q1tI"),x=e.n(h),t=e("nKUr"),M=e.n(t),I=["path","size","srcSizes","alt"],f=function(P){var W=P.path,l=P.size,n=P.srcSizes,j=P.alt,c=j===void 0?"LMS Image":j,E=Object(b.a)(P,I),o="".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(W,"&w=").concat(n?n[0]:l),r=n&&n.map(function(p){return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(W,"&w=").concat(p," ").concat(p,"w")});return Object(t.jsx)("div",{className:"escolalms-image",children:Object(t.jsx)(m.a,Object(s.a)({src:o,srcSet:r&&r.join(","),alt:c},E))})};g.a=f},TWax:function(se,g,e){"use strict";var s=e("ozfa"),d=e("MJZm"),m=e("T2oS"),b=e("W9HT"),h=e("tJVT"),x=e("q1tI"),t=e.n(x),M=e("JifO"),I=e("nKUr"),f=e.n(I),u=function W(l){return l.subcategories&&l.subcategories.length?{title:l.name,key:l.id,children:l.subcategories.map(function(n){return W(n)})}:{title:l.name,key:l.id}},P=function(l){var n=l.value,j=l.onChange,c=l.multiple,E=c===void 0?!0:c,o=Object(x.useState)([]),r=Object(h.a)(o,2),p=r[0],T=r[1];Object(x.useEffect)(function(){Object(M.c)().then(function(i){i.success&&T(i.data)})},[]);var F=Object(x.useMemo)(function(){return p.map(function(i){return u(i)})},[p]);return p.length===0?Object(I.jsx)(b.a,{}):Object(I.jsx)(d.a,{multiple:E,checkable:!0,checkStrictly:!0,defaultExpandAll:!0,style:{width:"100%"},checkedKeys:n,onCheck:function(O){if(typeof O=="object"&&!Array.isArray(O)&&O.checked){var q=O.checked;return j&&Array.isArray(q)&&j(q)}},treeData:F,disabled:p.length===0})};g.a=P},YDZB:function(se,g,e){"use strict";var s=e("2qtc"),d=e("kLXV"),m=e("7Kak"),b=e("9yH6"),h=e("+L6B"),x=e("2/Rp"),t=e("tJVT"),M=e("q1tI"),I=e.n(M),f=e("gU/Y"),u=e("9kvl"),P=e("u95b"),W=e.n(P),l=e("nKUr"),n=e.n(l),j=function(E){var o=E.value,r=E.onChange,p=Object(M.useState)(!1),T=Object(t.a)(p,2),F=T[0],i=T[1],O=Object(M.useCallback)(function(){i(!1)},[]),q=Object(M.useState)("code"),G=Object(t.a)(q,2),Z=G[0],ne=G[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)(x.a,{type:"primary",onClick:function(){return i(!0)},size:"small",children:Object(l.jsx)(u.a,{id:"json_editor"})}),Object(l.jsxs)(d.a,{title:"JSON",open:F,onOk:O,onCancel:O,destroyOnClose:!0,children:[Object(l.jsxs)(b.a.Group,{onChange:function(R){return ne(R.target.value)},value:Z,children:[Object(l.jsx)(b.a,{value:"tree",children:"tree"}),Object(l.jsx)(b.a,{value:"view",children:"view"}),Object(l.jsx)(b.a,{value:"form",children:"form"}),Object(l.jsx)(b.a,{value:"code",children:"code"}),Object(l.jsx)(b.a,{value:"text",children:"text"})]}),Object(l.jsx)(f.a,{mode:Z,value:o,onChange:r},Z)]})]})};g.a=j},YDsB:function(se,g,e){"use strict";var s=e("YDZB"),d=e("/y+f"),m=e("FJDo"),b=e("tneF"),h=e("Qurx"),x=e("VMEa"),t=e("BiO0"),M=e("q1tI"),I=e.n(M),f=e("9kvl"),u=e("nKUr"),P=e.n(u),W=function(n){var j=n.field,c=Object(f.l)(),E=function(r){var p,T,F=Object(f.e)(),i=r==null||(p=r.extra)===null||p===void 0||(T=p.find(function(O){return O==null?void 0:O[F]}))===null||T===void 0?void 0:T[F];switch(r.type){case d.d.Number:return Object(u.jsx)(m.a,{width:"md",name:r.name,label:i!=null?i:Object(u.jsx)(f.a,{id:r.name}),tooltip:Object(u.jsx)(f.a,{id:r.name}),placeholder:c.formatMessage({id:r.name,defaultMessage:r.name}),min:1,max:1024,fieldProps:{step:1}});case d.d.Boolean:return Object(u.jsx)(b.a,{name:r.name,children:i!=null?i:Object(u.jsx)(f.a,{id:r.name})});case d.d.Varchar:return Object(u.jsx)(h.a,{width:"md",name:r.name,label:i!=null?i:Object(u.jsx)(f.a,{id:r.name}),tooltip:Object(u.jsx)(f.a,{id:r.name}),placeholder:c.formatMessage({id:r.name})});case d.d.Json:return Object(u.jsx)(x.a.Item,{name:r.name,label:i!=null?i:Object(u.jsx)(f.a,{id:r.name}),tooltip:Object(u.jsx)(f.a,{id:r.name}),valuePropName:"value",children:Object(u.jsx)(s.a,{})});case d.d.Text:default:return Object(u.jsx)(t.a,{width:"md",name:r.name,label:i!=null?i:Object(u.jsx)(f.a,{id:r.name}),tooltip:Object(u.jsx)(f.a,{id:r.name}),placeholder:c.formatMessage({id:r.name})})}};return Object(u.jsx)(u.Fragment,{children:E(j)})};g.a=W},tneF:function(se,g,e){"use strict";var s=e("sRBo"),d=e("kaz8"),m=e("VTBJ"),b=e("Ff2n"),h=e("nKUr"),x=e.n(h),t=e("uX+g"),M=e("q1tI"),I=e.n(M),f=e("WFLz"),u=e("adzw"),P=["options","fieldProps","proFieldProps","valueEnum"],W=I.a.forwardRef(function(c,E){var o=c.options,r=c.fieldProps,p=c.proFieldProps,T=c.valueEnum,F=Object(b.a)(c,P);return Object(h.jsx)(u.a,Object(m.a)({ref:E,valueType:"checkbox",valueEnum:Object(t.a)(T,void 0),fieldProps:Object(m.a)({options:o},r),lightProps:Object(m.a)({labelFormatter:function(){return Object(h.jsx)(u.a,Object(m.a)({ref:E,valueType:"checkbox",mode:"read",valueEnum:Object(t.a)(T,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(m.a)({options:o},r),proFieldProps:p},F))}},F.lightProps),proFieldProps:p},F))}),l=I.a.forwardRef(function(c,E){var o=c.fieldProps,r=c.children;return Object(h.jsx)(d.a,Object(m.a)(Object(m.a)({ref:E},o),{},{children:r}))}),n=Object(f.a)(l,{valuePropName:"checked"}),j=n;j.Group=W,g.a=j},weGn:function(se,g,e){"use strict";e.r(g);var s=e("qLMh"),d=e("k1fw"),m=e("9og8"),b=e("tJVT"),h=e("nhC9"),x=e("Ty5D"),t=e("9kvl"),M=e("tMyG"),I=e("14J3"),f=e("BMrR"),u=e("/zsF"),P=e("PArb"),W=e("tU7J"),l=e("wFql"),n=e("DYRE"),j=e("zeV3"),c=e("y8nQ"),E=e("Vl3Y"),o=e("+L6B"),r=e("2/Rp"),p=e("T2oS"),T=e("W9HT"),F=e("miYZ"),i=e("tsqr"),O=e("q1tI"),q=e.n(O),G=e("VMEa"),Z=e("Qurx"),ne=e("F/zT"),ie=e("tneF"),R=e("VK58"),Q=e("02ly"),ce=e("Jfn2"),de=e("2ult"),ee=e("55Ip"),ue=e("G/Ub"),re=e("ri8c"),me=e("TpMl"),le=e("YDsB"),a=e("nKUr");function Oe(B){var ae=Object(O.useState)([]),K=Object(b.a)(ae,2),S=K[0],X=K[1],N=Object(O.useState)(!1),C=Object(b.a)(N,2),w=C[0],v=C[1],U=Object(O.useCallback)(Object(m.a)(Object(s.a)().mark(function Y(){var _;return Object(s.a)().wrap(function($){for(;;)switch($.prev=$.next){case 0:return $.prev=0,v(!0),$.next=4,Object(re.h)({user_id:B});case 4:_=$.sent,_.success&&X(_.data.map(function(D){var ve=D.id;return ve}));case 6:return $.prev=6,v(!1),$.finish(6);case 9:case"end":return $.stop()}},Y,null,[[0,,6,9]])})),[B]),z=Object(O.useCallback)(function(){var Y=Object(m.a)(Object(s.a)().mark(function _(A){return Object(s.a)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(typeof A!="string"){D.next=2;break}return D.abrupt("return");case 2:return v(!0),D.next=5,Object(re.a)(A,B);case 5:return D.next=7,U();case 7:v(!1);case 8:case"end":return D.stop()}},_)}));return function(_){return Y.apply(this,arguments)}}(),[B]),V=Object(O.useCallback)(function(){var Y=Object(m.a)(Object(s.a)().mark(function _(A){return Object(s.a)().wrap(function(D){for(;;)switch(D.prev=D.next){case 0:if(typeof A!="string"){D.next=2;break}return D.abrupt("return");case 2:return v(!0),D.next=5,Object(re.d)(A,B);case 5:return D.next=7,U();case 7:v(!1);case 8:case"end":return D.stop()}},_)}));return function(_){return Y.apply(this,arguments)}}(),[B]),k=Object(O.useCallback)(Object(m.a)(Object(s.a)().mark(function Y(){return Object(s.a)().wrap(function(A){for(;;)switch(A.prev=A.next){case 0:return v(!0),A.next=3,Promise.all(S.map(function($){return Object(re.d)($,B)}));case 3:return A.next=5,U();case 5:v(!1);case 6:case"end":return A.stop()}},Y)})),[S]);return Object(O.useEffect)(function(){U()},[U]),{userGroups:S,userGroupsLoading:w,handleAddToGroup:z,handleRemoveFromGroup:V,handleClearAllGroups:k}}var je=function(B){var ae,K,S,X,N=B.isNew,C=B.data,w=B.setData,v=Object(t.l)(),U=Object(x.l)(),z=U.user,V=Object(me.a)("EscolaLms\\Auth\\Models\\User"),k=Object(t.m)("@@initialState"),Y=k.initialState,_=Y==null||(ae=Y.config)===null||ae===void 0||(K=ae.filter(function(L){return L.key==="frontURL"})[0])===null||K===void 0?void 0:K.data,A=Oe((S=C==null?void 0:C.id)!==null&&S!==void 0?S:0),$=A.userGroups,D=A.userGroupsLoading,ve=A.handleAddToGroup,De=A.handleRemoveFromGroup,xe=A.handleClearAllGroups,Ce=Object(O.useState)(),he=Object(b.a)(Ce,2),fe=he[0],Te=he[1],Ae=G.a.useForm(),Re=Object(b.a)(Ae,1),be=Re[0],Ie=Object(O.useCallback)(Object(m.a)(Object(s.a)().mark(function L(){var H,y;return Object(s.a)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return J.next=2,Object(ue.d)();case 2:return H=J.sent,J.next=5,H;case 5:y=J.sent,y.success&&Te(y.data);case 7:case"end":return J.stop()}},L)})),[z]),Ue=function(){Object(R.d)(Number(z)).then(function(H){H.success&&(i.b.success(H.message),w(function(y){return Object(d.a)(Object(d.a)({},y),{},{avatar:"",path_avatar:""})}))}).catch(function(H){i.b.error(H.data.message)})};Object(O.useEffect)(function(){Ie()},[z]);var Le=Object(O.useMemo)(function(){return{form:be,onFinish:function(){var L=Object(m.a)(Object(s.a)().mark(function y(pe){var J,oe;return Object(s.a)().wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if(oe=Object(d.a)({},pe),(!oe.password||oe.password==="")&&delete oe.password,!N){te.next=9;break}return te.next=5,Object(R.a)(oe);case 5:J=te.sent,J.success&&t.f.push("/users/".concat(J.data.id,"/user_info")),te.next=12;break;case 9:return te.next=11,Object(R.k)(Number(z),oe);case 11:J=te.sent;case 12:i.b.success(J.message);case 13:case"end":return te.stop()}},y)}));function H(y){return L.apply(this,arguments)}return H}(),initialValues:C}},[C,z]);return C?Object(a.jsxs)(G.a,Object(d.a)(Object(d.a)({},Le),{},{children:[Object(a.jsxs)(G.a.Group,{children:[Object(a.jsx)(Z.a,{width:"md",name:"first_name",label:Object(a.jsx)(t.a,{id:"first_name"}),tooltip:Object(a.jsx)(t.a,{id:"first_name"}),placeholder:v.formatMessage({id:"first_name"}),required:!0,rules:[{required:!0,message:v.formatMessage({id:"field_required"})}]}),Object(a.jsx)(Z.a,{width:"md",name:"last_name",label:Object(a.jsx)(t.a,{id:"last_name"}),tooltip:Object(a.jsx)(t.a,{id:"last_name"}),placeholder:v.formatMessage({id:"last_name"}),required:!0,rules:[{required:!0,message:v.formatMessage({id:"field_required"})}]}),Object(a.jsx)(Z.a,{width:"md",name:"email",label:Object(a.jsx)(t.a,{id:"email"}),tooltip:Object(a.jsx)(t.a,{id:"email"}),placeholder:v.formatMessage({id:"email"}),required:!0,rules:[{required:!0,message:v.formatMessage({id:"field_required"})}]}),Object(a.jsx)(Z.a.Password,{shouldUpdate:!0,width:"md",name:"password",label:Object(a.jsx)(t.a,{id:"password"}),tooltip:Object(a.jsx)(t.a,{id:"password"}),placeholder:v.formatMessage({id:"password"}),required:N,rules:[{validator:function(H,y){return y&&!/(?=.*[!@#$%^&*])[a-zA-Z0-9!@#$%^&*]{8,}$/i.test(y)?Promise.reject(new Error(v.formatMessage({id:"badPassword"}))):Promise.resolve()}},{required:N,message:Object(a.jsx)(t.a,{id:"field_required"})}]}),V.state==="loaded"&&V.list.map(function(L){return Object(a.jsx)(le.a,{field:L},L.id)})]}),Object(a.jsxs)(G.a.Group,{children:[!N&&Object(a.jsxs)(j.b,{direction:"vertical",children:[!((X=C.roles)!==null&&X!==void 0&&X.includes("admin"))&&Object(a.jsx)(ne.a,{initialValue:C.is_active,name:"email_verified",label:Object(a.jsx)(t.a,{id:"is_email_verified"})}),Object(a.jsx)(E.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){return be.getFieldValue("email_verified")?Object(a.jsx)(q.a.Fragment,{}):Object(a.jsxs)(a.Fragment,{children:[!_&&Object(a.jsxs)("p",{children:[Object(a.jsx)(t.a,{id:"no_base_url"}),Object(a.jsx)(ee.a,{to:"/configuration/settings/escola_auth",children:"Settings"})]}),Object(a.jsx)(r.a,{disabled:!_,size:"small",onClick:function(){Object(R.g)(be.getFieldValue("email"),"".concat(_,"email-verify")).then(function(){i.b.success(v.formatMessage({id:"email_resend"}))})},children:Object(a.jsx)(t.a,{id:"resend"})})]})}})]}),Object(a.jsx)(ne.a,{name:"is_active",label:Object(a.jsx)(t.a,{id:"is_active"})}),fe&&Object(a.jsx)(ie.a.Group,{name:"roles",layout:"horizontal",label:Object(a.jsx)(t.a,{id:"roles"}),options:fe.filter(function(L){return L.guard_name!=="web"}).map(function(L){return L.name})})]}),!N&&Object(a.jsxs)(a.Fragment,{children:[Object(a.jsxs)(G.a.Group,{children:[Object(a.jsx)(G.a.Item,{name:"avatar",label:Object(a.jsx)(t.a,{id:"avatar"}),children:C.path_avatar?Object(a.jsx)(ce.a,{path:C.path_avatar,size:600,width:200}):Object(a.jsx)(l.a,{children:Object(a.jsx)(t.a,{id:"avatar_placeholder"})})}),Object(a.jsx)(E.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){return Object(a.jsxs)(a.Fragment,{children:[Object(a.jsx)(Q.a,{folder:"avatars/".concat(z),wrapInForm:!1,url:"/api/admin/users/".concat(z,"/avatar"),name:"avatar",accept:"image/*",onChange:function(y){y.file.status==="done"&&y.file.response&&y.file.response.success&&w(y.file.response.data)}}),Object(a.jsx)(r.a,{danger:!0,onClick:Ue,children:Object(a.jsx)(t.a,{id:"delete"})})]})}})]}),Object(a.jsxs)(f.a,{children:[Object(a.jsx)(P.a,{}),Object(a.jsx)(G.a.Item,{style:{width:"100%"},label:Object(a.jsx)(t.a,{id:"groups",defaultMessage:"Groups"}),children:Object(a.jsx)(de.a,{multiple:!0,loading:D,disabled:D,value:$,onSelect:ve,onDeselect:De,onClear:xe})})]})]})]})):Object(a.jsx)(T.a,{})},Ee=e("TWax"),Pe=function(ae){var K=ae.data,S=Object(O.useMemo)(function(){return{onFinish:function(){var X=Object(m.a)(Object(s.a)().mark(function C(w){var v,U;return Object(s.a)().wrap(function(V){for(;;)switch(V.prev=V.next){case 0:return v=Object(d.a)({},w),V.next=3,Object(R.l)(Number(K==null?void 0:K.id),v);case 3:U=V.sent,i.b.success(U.message);case 5:case"end":return V.stop()}},C)}));function N(C){return X.apply(this,arguments)}return N}(),initialValues:K}},[K]);return Object(a.jsx)(G.a,Object(d.a)(Object(d.a)({},S),{},{children:Object(a.jsx)(G.a.Item,{label:Object(a.jsx)(t.a,{id:"categories"}),name:"interests",valuePropName:"value",children:Object(a.jsx)(Ee.a,{})})}))},ge=Pe,Me=e("c+yx"),_e=e("59P8"),ye=g.default=function(){var B=Object(x.l)(),ae=Object(O.useState)(),K=Object(b.a)(ae,2),S=K[0],X=K[1],N=Object(t.l)(),C=B.tab,w=C===void 0?"user_info":C,v=B.user,U=typeof v=="undefined",z=Object(O.useCallback)(Object(m.a)(Object(s.a)().mark(function V(){var k;return Object(s.a)().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.next=2,Object(R.m)(Number(v));case 2:k=_.sent,k.success&&X(Object(d.a)(Object(d.a)({},k.data),{},{interests:k.data.interests.map(Me.a)}));case 4:case"end":return _.stop()}},V)})),[v]);return Object(O.useEffect)(function(){if(U){X({});return}z()},[v,z]),Object(a.jsx)(M.a,{title:Object(a.jsx)(t.a,{id:"menu.Settings"}),header:{breadcrumb:{routes:[{path:"/users/".concat(v,"/user_info"),breadcrumbName:N.formatMessage({id:"menu.Settings"})},{path:String(w),breadcrumbName:N.formatMessage({id:String(w)})}]}},children:Object(a.jsxs)(h.a,{tabs:{type:"card",activeKey:w,onChange:function(k){return t.f.push("/users/".concat(v,"/").concat(k))}},children:[Object(a.jsx)(h.a.TabPane,{tab:U?Object(a.jsx)(t.a,{id:"new_user"}):Object(a.jsx)(t.a,{id:"edit_user"}),children:Object(a.jsx)(je,{isNew:U,data:S,setData:X})},"user_info"),!U&&Object(a.jsx)(h.a.TabPane,{tab:Object(a.jsx)("span",{children:Object(a.jsx)(t.a,{id:"categories"})}),children:(S==null?void 0:S.id)&&Object(a.jsx)(ge,{data:S})},"categories"),!U&&Object(a.jsx)(h.a.TabPane,{tab:Object(a.jsx)("span",{children:Object(a.jsx)(t.a,{id:"user_logs"})}),children:v&&Object(a.jsx)(_e.a,{useAsWidget:!0,userID:Number(v)})},"logs")]})})}}}]);

//# sourceMappingURL=p__Users__User.44d63003.async.js.map