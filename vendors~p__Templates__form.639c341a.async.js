(window.webpackJsonp=window.webpackJsonp||[]).push([[34],{"2D6k":function(bi,gr,Ae){"use strict";var cr=Math.PI*2;function P(Se,Pe,Tt,L){var a=Se*L-Pe*Tt<0?-1:1,f=Se*Tt+Pe*L;return f>1&&(f=1),f<-1&&(f=-1),a*Math.acos(f)}function Ut(Se,Pe,Tt,L,a,f,h,l,i,e){var r=e*(Se-Tt)/2+i*(Pe-L)/2,n=-i*(Se-Tt)/2+e*(Pe-L)/2,u=h*h,o=l*l,d=r*r,b=n*n,A=u*o-u*b-o*d;A<0&&(A=0),A/=u*b+o*d,A=Math.sqrt(A)*(a===f?-1:1);var O=A*h/l*n,Y=A*-l/h*r,Z=e*O-i*Y+(Se+Tt)/2,mt=i*O+e*Y+(Pe+L)/2,Xt=(r-O)/h,fe=(n-Y)/l,Ue=(-r-O)/h,or=(-n-Y)/l,fr=P(1,0,Xt,fe),tr=P(Xt,fe,Ue,or);return f===0&&tr>0&&(tr-=cr),f===1&&tr<0&&(tr+=cr),[Z,mt,fr,tr]}function it(Se,Pe){var Tt=4/3*Math.tan(Pe/4),L=Math.cos(Se),a=Math.sin(Se),f=Math.cos(Se+Pe),h=Math.sin(Se+Pe);return[L,a,L-a*Tt,a+L*Tt,f+h*Tt,h-f*Tt,f,h]}bi.exports=function(Pe,Tt,L,a,f,h,l,i,e){var r=Math.sin(e*cr/360),n=Math.cos(e*cr/360),u=n*(Pe-L)/2+r*(Tt-a)/2,o=-r*(Pe-L)/2+n*(Tt-a)/2;if(u===0&&o===0)return[];if(l===0||i===0)return[];l=Math.abs(l),i=Math.abs(i);var d=u*u/(l*l)+o*o/(i*i);d>1&&(l*=Math.sqrt(d),i*=Math.sqrt(d));var b=Ut(Pe,Tt,L,a,f,h,l,i,r,n),A=[],O=b[2],Y=b[3],Z=Math.max(Math.ceil(Math.abs(Y)/(cr/4)),1);Y/=Z;for(var mt=0;mt<Z;mt++)A.push(it(O,Y)),O+=Y;return A.map(function(Xt){for(var fe=0;fe<Xt.length;fe+=2){var Ue=Xt[fe+0],or=Xt[fe+1];Ue*=l,or*=i;var fr=n*Ue-r*or,tr=r*Ue+n*or;Xt[fe+0]=fr+b[0],Xt[fe+1]=tr+b[1]}return Xt})}},"49sm":function(bi,gr){var Ae={}.toString;bi.exports=Array.isArray||function(cr){return Ae.call(cr)=="[object Array]"}},"4hEd":function(bi,gr,Ae){"use strict";function cr(Ut,it){return[Ut[0]*it[0]+Ut[2]*it[1],Ut[1]*it[0]+Ut[3]*it[1],Ut[0]*it[2]+Ut[2]*it[3],Ut[1]*it[2]+Ut[3]*it[3],Ut[0]*it[4]+Ut[2]*it[5]+Ut[4],Ut[1]*it[4]+Ut[3]*it[5]+Ut[5]]}function P(){if(!(this instanceof P))return new P;this.queue=[],this.cache=null}P.prototype.matrix=function(Ut){return Ut[0]===1&&Ut[1]===0&&Ut[2]===0&&Ut[3]===1&&Ut[4]===0&&Ut[5]===0?this:(this.cache=null,this.queue.push(Ut),this)},P.prototype.translate=function(Ut,it){return(Ut!==0||it!==0)&&(this.cache=null,this.queue.push([1,0,0,1,Ut,it])),this},P.prototype.scale=function(Ut,it){return(Ut!==1||it!==1)&&(this.cache=null,this.queue.push([Ut,0,0,it,0,0])),this},P.prototype.rotate=function(Ut,it,Se){var Pe,Tt,L;return Ut!==0&&(this.translate(it,Se),Pe=Ut*Math.PI/180,Tt=Math.cos(Pe),L=Math.sin(Pe),this.queue.push([Tt,L,-L,Tt,0,0]),this.cache=null,this.translate(-it,-Se)),this},P.prototype.skewX=function(Ut){return Ut!==0&&(this.cache=null,this.queue.push([1,0,Math.tan(Ut*Math.PI/180),1,0,0])),this},P.prototype.skewY=function(Ut){return Ut!==0&&(this.cache=null,this.queue.push([1,Math.tan(Ut*Math.PI/180),0,1,0,0])),this},P.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],this.queue.length===1)return this.cache;for(var Ut=1;Ut<this.queue.length;Ut++)this.cache=cr(this.cache,this.queue[Ut]);return this.cache},P.prototype.calc=function(Ut,it,Se){var Pe;return this.queue.length?(this.cache||(this.cache=this.toArray()),Pe=this.cache,[Ut*Pe[0]+it*Pe[2]+(Se?0:Pe[4]),Ut*Pe[1]+it*Pe[3]+(Se?0:Pe[5])]):[Ut,it]},bi.exports=P},B61z:function(bi,gr,Ae){"use strict";var cr=1e-10,P=Math.PI/180;function Ut(it,Se,Pe){if(!(this instanceof Ut))return new Ut(it,Se,Pe);this.rx=it,this.ry=Se,this.ax=Pe}Ut.prototype.transform=function(it){var Se=Math.cos(this.ax*P),Pe=Math.sin(this.ax*P),Tt=[this.rx*(it[0]*Se+it[2]*Pe),this.rx*(it[1]*Se+it[3]*Pe),this.ry*(-it[0]*Pe+it[2]*Se),this.ry*(-it[1]*Pe+it[3]*Se)],L=Tt[0]*Tt[0]+Tt[2]*Tt[2],a=Tt[1]*Tt[1]+Tt[3]*Tt[3],f=((Tt[0]-Tt[3])*(Tt[0]-Tt[3])+(Tt[2]+Tt[1])*(Tt[2]+Tt[1]))*((Tt[0]+Tt[3])*(Tt[0]+Tt[3])+(Tt[2]-Tt[1])*(Tt[2]-Tt[1])),h=(L+a)/2;if(f<cr*h)return this.rx=this.ry=Math.sqrt(h),this.ax=0,this;var l=Tt[0]*Tt[1]+Tt[2]*Tt[3];f=Math.sqrt(f);var i=h+f/2,e=h-f/2;return this.ax=Math.abs(l)<cr&&Math.abs(i-a)<cr?90:Math.atan(Math.abs(l)>Math.abs(i-a)?(i-L)/l:l/(i-a))*180/Math.PI,this.ax>=0?(this.rx=Math.sqrt(i),this.ry=Math.sqrt(e)):(this.ax+=90,this.rx=Math.sqrt(e),this.ry=Math.sqrt(i)),this},Ut.prototype.isDegenerate=function(){return this.rx<cr*this.ry||this.ry<cr*this.rx},bi.exports=Ut},BiO0:function(bi,gr,Ae){"use strict";var cr=Ae("wx14"),P=Ae("Ff2n"),Ut=Ae("q1tI"),it=Ae.n(Ut),Se=Ae("adzw"),Pe=["fieldProps","proFieldProps"],Tt=function(a,f){var h=a.fieldProps,l=a.proFieldProps,i=Object(P.a)(a,Pe);return it.a.createElement(Se.a,Object(cr.a)({ref:f,mode:"edit",valueType:"textarea",fieldProps:h,proFieldProps:l},i))};gr.a=it.a.forwardRef(Tt)},C4q1:function(bi,gr,Ae){"use strict";/*! https://mths.be/cssesc v3.0.0 by @mathias */var cr={},P=cr.hasOwnProperty,Ut=function(f,h){if(!f)return h;var l={};for(var i in h)l[i]=P.call(f,i)?f[i]:h[i];return l},it=/[ -,\.\/:-@\[-\^`\{-~]/,Se=/[ -,\.\/:-@\[\]\^`\{-~]/,Pe=/['"\\]/,Tt=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,L=function a(f,h){h=Ut(h,a.options),h.quotes!="single"&&h.quotes!="double"&&(h.quotes="single");for(var l=h.quotes=="double"?'"':"'",i=h.isIdentifier,e=f.charAt(0),r="",n=0,u=f.length;n<u;){var o=f.charAt(n++),d=o.charCodeAt(),b=void 0;if(d<32||d>126){if(d>=55296&&d<=56319&&n<u){var A=f.charCodeAt(n++);(A&64512)==56320?d=((d&1023)<<10)+(A&1023)+65536:n--}b="\\"+d.toString(16).toUpperCase()+" "}else h.escapeEverything?it.test(o)?b="\\"+o:b="\\"+d.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(o)?b="\\"+d.toString(16).toUpperCase()+" ":o=="\\"||!i&&(o=='"'&&l==o||o=="'"&&l==o)||i&&Se.test(o)?b="\\"+o:b=o;r+=b}return i&&(/^-[-\d]/.test(r)?r="\\-"+r.slice(1):/\d/.test(e)&&(r="\\3"+e+" "+r.slice(1))),r=r.replace(Tt,function(O,Y,Z){return Y&&Y.length%2?O:(Y||"")+Z}),!i&&h.wrap?l+r+l:r};L.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},L.version="3.0.0",bi.exports=L},COF0:function(bi,gr,Ae){"use strict";var cr={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},P=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function Ut(e){return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&P.indexOf(e)>=0}function it(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function Se(e){return(e|32)==97}function Pe(e){return e>=48&&e<=57}function Tt(e){return e>=48&&e<=57||e===43||e===45||e===46}function L(e){this.index=0,this.path=e,this.max=e.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function a(e){for(;e.index<e.max&&Ut(e.path.charCodeAt(e.index));)e.index++}function f(e){var r=e.path.charCodeAt(e.index);if(r===48){e.param=0,e.index++;return}if(r===49){e.param=1,e.index++;return}e.err="SvgPath: arc flag can be 0 or 1 only (at pos "+e.index+")"}function h(e){var r=e.index,n=r,u=e.max,o=!1,d=!1,b=!1,A=!1,O;if(n>=u){e.err="SvgPath: missed param (at pos "+n+")";return}if(O=e.path.charCodeAt(n),(O===43||O===45)&&(n++,O=n<u?e.path.charCodeAt(n):0),!Pe(O)&&O!==46){e.err="SvgPath: param should start with 0..9 or `.` (at pos "+n+")";return}if(O!==46){if(o=O===48,n++,O=n<u?e.path.charCodeAt(n):0,o&&n<u&&O&&Pe(O)){e.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+r+")";return}for(;n<u&&Pe(e.path.charCodeAt(n));)n++,d=!0;O=n<u?e.path.charCodeAt(n):0}if(O===46){for(A=!0,n++;Pe(e.path.charCodeAt(n));)n++,b=!0;O=n<u?e.path.charCodeAt(n):0}if(O===101||O===69){if(A&&!d&&!b){e.err="SvgPath: invalid float exponent (at pos "+n+")";return}if(n++,O=n<u?e.path.charCodeAt(n):0,(O===43||O===45)&&n++,n<u&&Pe(e.path.charCodeAt(n)))for(;n<u&&Pe(e.path.charCodeAt(n));)n++;else{e.err="SvgPath: invalid float exponent (at pos "+n+")";return}}e.index=n,e.param=parseFloat(e.path.slice(r,n))+0}function l(e){var r,n;r=e.path[e.segmentStart],n=r.toLowerCase();var u=e.data;if(n==="m"&&u.length>2&&(e.result.push([r,u[0],u[1]]),u=u.slice(2),n="l",r=r==="m"?"l":"L"),n==="r")e.result.push([r].concat(u));else for(;u.length>=cr[n]&&(e.result.push([r].concat(u.splice(0,cr[n]))),!!cr[n]););}function i(e){var r=e.max,n,u,o,d,b;if(e.segmentStart=e.index,n=e.path.charCodeAt(e.index),u=Se(n),!it(n)){e.err="SvgPath: bad command "+e.path[e.index]+" (at pos "+e.index+")";return}if(d=cr[e.path[e.index].toLowerCase()],e.index++,a(e),e.data=[],!d){l(e);return}for(o=!1;;){for(b=d;b>0;b--){if(u&&(b===3||b===4)?f(e):h(e),e.err.length)return;e.data.push(e.param),a(e),o=!1,e.index<r&&e.path.charCodeAt(e.index)===44&&(e.index++,a(e),o=!0)}if(!o&&(e.index>=e.max||!Tt(e.path.charCodeAt(e.index))))break}l(e)}bi.exports=function(r){var n=new L(r),u=n.max;for(a(n);n.index<u&&!n.err.length;)i(n);return n.err.length?n.result=[]:n.result.length&&("mM".indexOf(n.result[0][0])<0?(n.err="SvgPath: string should start with `M` or `m`",n.result=[]):n.result[0][0]="M"),{err:n.err,segments:n.result}}},H7XF:function(bi,gr,Ae){"use strict";gr.byteLength=L,gr.toByteArray=f,gr.fromByteArray=i;for(var cr=[],P=[],Ut=typeof Uint8Array!="undefined"?Uint8Array:Array,it="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",Se=0,Pe=it.length;Se<Pe;++Se)cr[Se]=it[Se],P[it.charCodeAt(Se)]=Se;P["-".charCodeAt(0)]=62,P["_".charCodeAt(0)]=63;function Tt(e){var r=e.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var n=e.indexOf("=");n===-1&&(n=r);var u=n===r?0:4-n%4;return[n,u]}function L(e){var r=Tt(e),n=r[0],u=r[1];return(n+u)*3/4-u}function a(e,r,n){return(r+n)*3/4-n}function f(e){var r,n=Tt(e),u=n[0],o=n[1],d=new Ut(a(e,u,o)),b=0,A=o>0?u-4:u,O;for(O=0;O<A;O+=4)r=P[e.charCodeAt(O)]<<18|P[e.charCodeAt(O+1)]<<12|P[e.charCodeAt(O+2)]<<6|P[e.charCodeAt(O+3)],d[b++]=r>>16&255,d[b++]=r>>8&255,d[b++]=r&255;return o===2&&(r=P[e.charCodeAt(O)]<<2|P[e.charCodeAt(O+1)]>>4,d[b++]=r&255),o===1&&(r=P[e.charCodeAt(O)]<<10|P[e.charCodeAt(O+1)]<<4|P[e.charCodeAt(O+2)]>>2,d[b++]=r>>8&255,d[b++]=r&255),d}function h(e){return cr[e>>18&63]+cr[e>>12&63]+cr[e>>6&63]+cr[e&63]}function l(e,r,n){for(var u,o=[],d=r;d<n;d+=3)u=(e[d]<<16&16711680)+(e[d+1]<<8&65280)+(e[d+2]&255),o.push(h(u));return o.join("")}function i(e){for(var r,n=e.length,u=n%3,o=[],d=16383,b=0,A=n-u;b<A;b+=d)o.push(l(e,b,b+d>A?A:b+d));return u===1?(r=e[n-1],o.push(cr[r>>2]+cr[r<<4&63]+"==")):u===2&&(r=(e[n-2]<<8)+e[n-1],o.push(cr[r>>10]+cr[r>>4&63]+cr[r<<2&63]+"=")),o.join("")}},HDXh:function(bi,gr,Ae){"use strict";(function(cr){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/var P=Ae("H7XF"),Ut=Ae("kVK+"),it=Ae("49sm");gr.Buffer=L,gr.SlowBuffer=o,gr.INSPECT_MAX_BYTES=50,L.TYPED_ARRAY_SUPPORT=cr.TYPED_ARRAY_SUPPORT!==void 0?cr.TYPED_ARRAY_SUPPORT:Se(),gr.kMaxLength=Pe();function Se(){try{var K=new Uint8Array(1);return K.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},K.foo()===42&&typeof K.subarray=="function"&&K.subarray(1,1).byteLength===0}catch(N){return!1}}function Pe(){return L.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function Tt(K,N){if(Pe()<N)throw new RangeError("Invalid typed array length");return L.TYPED_ARRAY_SUPPORT?(K=new Uint8Array(N),K.__proto__=L.prototype):(K===null&&(K=new L(N)),K.length=N),K}function L(K,N,R){if(!L.TYPED_ARRAY_SUPPORT&&!(this instanceof L))return new L(K,N,R);if(typeof K=="number"){if(typeof N=="string")throw new Error("If encoding is specified then the first argument must be a string");return l(this,K)}return a(this,K,N,R)}L.poolSize=8192,L._augment=function(K){return K.__proto__=L.prototype,K};function a(K,N,R,st){if(typeof N=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&N instanceof ArrayBuffer?r(K,N,R,st):typeof N=="string"?i(K,N,R):n(K,N)}L.from=function(K,N,R){return a(null,K,N,R)},L.TYPED_ARRAY_SUPPORT&&(L.prototype.__proto__=Uint8Array.prototype,L.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&L[Symbol.species]===L&&Object.defineProperty(L,Symbol.species,{value:null,configurable:!0}));function f(K){if(typeof K!="number")throw new TypeError('"size" argument must be a number');if(K<0)throw new RangeError('"size" argument must not be negative')}function h(K,N,R,st){return f(N),N<=0?Tt(K,N):R!==void 0?typeof st=="string"?Tt(K,N).fill(R,st):Tt(K,N).fill(R):Tt(K,N)}L.alloc=function(K,N,R){return h(null,K,N,R)};function l(K,N){if(f(N),K=Tt(K,N<0?0:u(N)|0),!L.TYPED_ARRAY_SUPPORT)for(var R=0;R<N;++R)K[R]=0;return K}L.allocUnsafe=function(K){return l(null,K)},L.allocUnsafeSlow=function(K){return l(null,K)};function i(K,N,R){if((typeof R!="string"||R==="")&&(R="utf8"),!L.isEncoding(R))throw new TypeError('"encoding" must be a valid string encoding');var st=d(N,R)|0;K=Tt(K,st);var ft=K.write(N,R);return ft!==st&&(K=K.slice(0,ft)),K}function e(K,N){var R=N.length<0?0:u(N.length)|0;K=Tt(K,R);for(var st=0;st<R;st+=1)K[st]=N[st]&255;return K}function r(K,N,R,st){if(N.byteLength,R<0||N.byteLength<R)throw new RangeError("'offset' is out of bounds");if(N.byteLength<R+(st||0))throw new RangeError("'length' is out of bounds");return R===void 0&&st===void 0?N=new Uint8Array(N):st===void 0?N=new Uint8Array(N,R):N=new Uint8Array(N,R,st),L.TYPED_ARRAY_SUPPORT?(K=N,K.__proto__=L.prototype):K=e(K,N),K}function n(K,N){if(L.isBuffer(N)){var R=u(N.length)|0;return K=Tt(K,R),K.length===0||N.copy(K,0,0,R),K}if(N){if(typeof ArrayBuffer!="undefined"&&N.buffer instanceof ArrayBuffer||"length"in N)return typeof N.length!="number"||Le(N.length)?Tt(K,0):e(K,N);if(N.type==="Buffer"&&it(N.data))return e(K,N.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function u(K){if(K>=Pe())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Pe().toString(16)+" bytes");return K|0}function o(K){return+K!=K&&(K=0),L.alloc(+K)}L.isBuffer=function(N){return!!(N!=null&&N._isBuffer)},L.compare=function(N,R){if(!L.isBuffer(N)||!L.isBuffer(R))throw new TypeError("Arguments must be Buffers");if(N===R)return 0;for(var st=N.length,ft=R.length,ee=0,se=Math.min(st,ft);ee<se;++ee)if(N[ee]!==R[ee]){st=N[ee],ft=R[ee];break}return st<ft?-1:ft<st?1:0},L.isEncoding=function(N){switch(String(N).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},L.concat=function(N,R){if(!it(N))throw new TypeError('"list" argument must be an Array of Buffers');if(N.length===0)return L.alloc(0);var st;if(R===void 0)for(R=0,st=0;st<N.length;++st)R+=N[st].length;var ft=L.allocUnsafe(R),ee=0;for(st=0;st<N.length;++st){var se=N[st];if(!L.isBuffer(se))throw new TypeError('"list" argument must be an Array of Buffers');se.copy(ft,ee),ee+=se.length}return ft};function d(K,N){if(L.isBuffer(K))return K.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(K)||K instanceof ArrayBuffer))return K.byteLength;typeof K!="string"&&(K=""+K);var R=K.length;if(R===0)return 0;for(var st=!1;;)switch(N){case"ascii":case"latin1":case"binary":return R;case"utf8":case"utf-8":case void 0:return pe(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return R*2;case"hex":return R>>>1;case"base64":return re(K).length;default:if(st)return pe(K).length;N=(""+N).toLowerCase(),st=!0}}L.byteLength=d;function b(K,N,R){var st=!1;if((N===void 0||N<0)&&(N=0),N>this.length||((R===void 0||R>this.length)&&(R=this.length),R<=0)||(R>>>=0,N>>>=0,R<=N))return"";for(K||(K="utf8");;)switch(K){case"hex":return at(this,N,R);case"utf8":case"utf-8":return tr(this,N,R);case"ascii":return Or(this,N,R);case"latin1":case"binary":return Lr(this,N,R);case"base64":return fr(this,N,R);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ve(this,N,R);default:if(st)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),st=!0}}L.prototype._isBuffer=!0;function A(K,N,R){var st=K[N];K[N]=K[R],K[R]=st}L.prototype.swap16=function(){var N=this.length;if(N%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var R=0;R<N;R+=2)A(this,R,R+1);return this},L.prototype.swap32=function(){var N=this.length;if(N%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var R=0;R<N;R+=4)A(this,R,R+3),A(this,R+1,R+2);return this},L.prototype.swap64=function(){var N=this.length;if(N%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var R=0;R<N;R+=8)A(this,R,R+7),A(this,R+1,R+6),A(this,R+2,R+5),A(this,R+3,R+4);return this},L.prototype.toString=function(){var N=this.length|0;return N===0?"":arguments.length===0?tr(this,0,N):b.apply(this,arguments)},L.prototype.equals=function(N){if(!L.isBuffer(N))throw new TypeError("Argument must be a Buffer");return this===N?!0:L.compare(this,N)===0},L.prototype.inspect=function(){var N="",R=gr.INSPECT_MAX_BYTES;return this.length>0&&(N=this.toString("hex",0,R).match(/.{2}/g).join(" "),this.length>R&&(N+=" ... ")),"<Buffer "+N+">"},L.prototype.compare=function(N,R,st,ft,ee){if(!L.isBuffer(N))throw new TypeError("Argument must be a Buffer");if(R===void 0&&(R=0),st===void 0&&(st=N?N.length:0),ft===void 0&&(ft=0),ee===void 0&&(ee=this.length),R<0||st>N.length||ft<0||ee>this.length)throw new RangeError("out of range index");if(ft>=ee&&R>=st)return 0;if(ft>=ee)return-1;if(R>=st)return 1;if(R>>>=0,st>>>=0,ft>>>=0,ee>>>=0,this===N)return 0;for(var se=ee-ft,br=st-R,Rr=Math.min(se,br),_r=this.slice(ft,ee),Er=N.slice(R,st),Nr=0;Nr<Rr;++Nr)if(_r[Nr]!==Er[Nr]){se=_r[Nr],br=Er[Nr];break}return se<br?-1:br<se?1:0};function O(K,N,R,st,ft){if(K.length===0)return-1;if(typeof R=="string"?(st=R,R=0):R>2147483647?R=2147483647:R<-2147483648&&(R=-2147483648),R=+R,isNaN(R)&&(R=ft?0:K.length-1),R<0&&(R=K.length+R),R>=K.length){if(ft)return-1;R=K.length-1}else if(R<0)if(ft)R=0;else return-1;if(typeof N=="string"&&(N=L.from(N,st)),L.isBuffer(N))return N.length===0?-1:Y(K,N,R,st,ft);if(typeof N=="number")return N=N&255,L.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?ft?Uint8Array.prototype.indexOf.call(K,N,R):Uint8Array.prototype.lastIndexOf.call(K,N,R):Y(K,[N],R,st,ft);throw new TypeError("val must be string, number or Buffer")}function Y(K,N,R,st,ft){var ee=1,se=K.length,br=N.length;if(st!==void 0&&(st=String(st).toLowerCase(),st==="ucs2"||st==="ucs-2"||st==="utf16le"||st==="utf-16le")){if(K.length<2||N.length<2)return-1;ee=2,se/=2,br/=2,R/=2}function Rr(Bi,Mi){return ee===1?Bi[Mi]:Bi.readUInt16BE(Mi*ee)}var _r;if(ft){var Er=-1;for(_r=R;_r<se;_r++)if(Rr(K,_r)===Rr(N,Er===-1?0:_r-Er)){if(Er===-1&&(Er=_r),_r-Er+1===br)return Er*ee}else Er!==-1&&(_r-=_r-Er),Er=-1}else for(R+br>se&&(R=se-br),_r=R;_r>=0;_r--){for(var Nr=!0,li=0;li<br;li++)if(Rr(K,_r+li)!==Rr(N,li)){Nr=!1;break}if(Nr)return _r}return-1}L.prototype.includes=function(N,R,st){return this.indexOf(N,R,st)!==-1},L.prototype.indexOf=function(N,R,st){return O(this,N,R,st,!0)},L.prototype.lastIndexOf=function(N,R,st){return O(this,N,R,st,!1)};function Z(K,N,R,st){R=Number(R)||0;var ft=K.length-R;st?(st=Number(st),st>ft&&(st=ft)):st=ft;var ee=N.length;if(ee%2!=0)throw new TypeError("Invalid hex string");st>ee/2&&(st=ee/2);for(var se=0;se<st;++se){var br=parseInt(N.substr(se*2,2),16);if(isNaN(br))return se;K[R+se]=br}return se}function mt(K,N,R,st){return he(pe(N,K.length-R),K,R,st)}function Xt(K,N,R,st){return he(Qt(N),K,R,st)}function fe(K,N,R,st){return Xt(K,N,R,st)}function Ue(K,N,R,st){return he(re(N),K,R,st)}function or(K,N,R,st){return he(It(N,K.length-R),K,R,st)}L.prototype.write=function(N,R,st,ft){if(R===void 0)ft="utf8",st=this.length,R=0;else if(st===void 0&&typeof R=="string")ft=R,st=this.length,R=0;else if(isFinite(R))R=R|0,isFinite(st)?(st=st|0,ft===void 0&&(ft="utf8")):(ft=st,st=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ee=this.length-R;if((st===void 0||st>ee)&&(st=ee),N.length>0&&(st<0||R<0)||R>this.length)throw new RangeError("Attempt to write outside buffer bounds");ft||(ft="utf8");for(var se=!1;;)switch(ft){case"hex":return Z(this,N,R,st);case"utf8":case"utf-8":return mt(this,N,R,st);case"ascii":return Xt(this,N,R,st);case"latin1":case"binary":return fe(this,N,R,st);case"base64":return Ue(this,N,R,st);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return or(this,N,R,st);default:if(se)throw new TypeError("Unknown encoding: "+ft);ft=(""+ft).toLowerCase(),se=!0}},L.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function fr(K,N,R){return N===0&&R===K.length?P.fromByteArray(K):P.fromByteArray(K.slice(N,R))}function tr(K,N,R){R=Math.min(K.length,R);for(var st=[],ft=N;ft<R;){var ee=K[ft],se=null,br=ee>239?4:ee>223?3:ee>191?2:1;if(ft+br<=R){var Rr,_r,Er,Nr;switch(br){case 1:ee<128&&(se=ee);break;case 2:Rr=K[ft+1],(Rr&192)==128&&(Nr=(ee&31)<<6|Rr&63,Nr>127&&(se=Nr));break;case 3:Rr=K[ft+1],_r=K[ft+2],(Rr&192)==128&&(_r&192)==128&&(Nr=(ee&15)<<12|(Rr&63)<<6|_r&63,Nr>2047&&(Nr<55296||Nr>57343)&&(se=Nr));break;case 4:Rr=K[ft+1],_r=K[ft+2],Er=K[ft+3],(Rr&192)==128&&(_r&192)==128&&(Er&192)==128&&(Nr=(ee&15)<<18|(Rr&63)<<12|(_r&63)<<6|Er&63,Nr>65535&&Nr<1114112&&(se=Nr))}}se===null?(se=65533,br=1):se>65535&&(se-=65536,st.push(se>>>10&1023|55296),se=56320|se&1023),st.push(se),ft+=br}return vr(st)}var We=4096;function vr(K){var N=K.length;if(N<=We)return String.fromCharCode.apply(String,K);for(var R="",st=0;st<N;)R+=String.fromCharCode.apply(String,K.slice(st,st+=We));return R}function Or(K,N,R){var st="";R=Math.min(K.length,R);for(var ft=N;ft<R;++ft)st+=String.fromCharCode(K[ft]&127);return st}function Lr(K,N,R){var st="";R=Math.min(K.length,R);for(var ft=N;ft<R;++ft)st+=String.fromCharCode(K[ft]);return st}function at(K,N,R){var st=K.length;(!N||N<0)&&(N=0),(!R||R<0||R>st)&&(R=st);for(var ft="",ee=N;ee<R;++ee)ft+=ke(K[ee]);return ft}function ve(K,N,R){for(var st=K.slice(N,R),ft="",ee=0;ee<st.length;ee+=2)ft+=String.fromCharCode(st[ee]+st[ee+1]*256);return ft}L.prototype.slice=function(N,R){var st=this.length;N=~~N,R=R===void 0?st:~~R,N<0?(N+=st,N<0&&(N=0)):N>st&&(N=st),R<0?(R+=st,R<0&&(R=0)):R>st&&(R=st),R<N&&(R=N);var ft;if(L.TYPED_ARRAY_SUPPORT)ft=this.subarray(N,R),ft.__proto__=L.prototype;else{var ee=R-N;ft=new L(ee,void 0);for(var se=0;se<ee;++se)ft[se]=this[se+N]}return ft};function ht(K,N,R){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(K+N>R)throw new RangeError("Trying to access beyond buffer length")}L.prototype.readUIntLE=function(N,R,st){N=N|0,R=R|0,st||ht(N,R,this.length);for(var ft=this[N],ee=1,se=0;++se<R&&(ee*=256);)ft+=this[N+se]*ee;return ft},L.prototype.readUIntBE=function(N,R,st){N=N|0,R=R|0,st||ht(N,R,this.length);for(var ft=this[N+--R],ee=1;R>0&&(ee*=256);)ft+=this[N+--R]*ee;return ft},L.prototype.readUInt8=function(N,R){return R||ht(N,1,this.length),this[N]},L.prototype.readUInt16LE=function(N,R){return R||ht(N,2,this.length),this[N]|this[N+1]<<8},L.prototype.readUInt16BE=function(N,R){return R||ht(N,2,this.length),this[N]<<8|this[N+1]},L.prototype.readUInt32LE=function(N,R){return R||ht(N,4,this.length),(this[N]|this[N+1]<<8|this[N+2]<<16)+this[N+3]*16777216},L.prototype.readUInt32BE=function(N,R){return R||ht(N,4,this.length),this[N]*16777216+(this[N+1]<<16|this[N+2]<<8|this[N+3])},L.prototype.readIntLE=function(N,R,st){N=N|0,R=R|0,st||ht(N,R,this.length);for(var ft=this[N],ee=1,se=0;++se<R&&(ee*=256);)ft+=this[N+se]*ee;return ee*=128,ft>=ee&&(ft-=Math.pow(2,8*R)),ft},L.prototype.readIntBE=function(N,R,st){N=N|0,R=R|0,st||ht(N,R,this.length);for(var ft=R,ee=1,se=this[N+--ft];ft>0&&(ee*=256);)se+=this[N+--ft]*ee;return ee*=128,se>=ee&&(se-=Math.pow(2,8*R)),se},L.prototype.readInt8=function(N,R){return R||ht(N,1,this.length),this[N]&128?(255-this[N]+1)*-1:this[N]},L.prototype.readInt16LE=function(N,R){R||ht(N,2,this.length);var st=this[N]|this[N+1]<<8;return st&32768?st|4294901760:st},L.prototype.readInt16BE=function(N,R){R||ht(N,2,this.length);var st=this[N+1]|this[N]<<8;return st&32768?st|4294901760:st},L.prototype.readInt32LE=function(N,R){return R||ht(N,4,this.length),this[N]|this[N+1]<<8|this[N+2]<<16|this[N+3]<<24},L.prototype.readInt32BE=function(N,R){return R||ht(N,4,this.length),this[N]<<24|this[N+1]<<16|this[N+2]<<8|this[N+3]},L.prototype.readFloatLE=function(N,R){return R||ht(N,4,this.length),Ut.read(this,N,!0,23,4)},L.prototype.readFloatBE=function(N,R){return R||ht(N,4,this.length),Ut.read(this,N,!1,23,4)},L.prototype.readDoubleLE=function(N,R){return R||ht(N,8,this.length),Ut.read(this,N,!0,52,8)},L.prototype.readDoubleBE=function(N,R){return R||ht(N,8,this.length),Ut.read(this,N,!1,52,8)};function Et(K,N,R,st,ft,ee){if(!L.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(N>ft||N<ee)throw new RangeError('"value" argument is out of bounds');if(R+st>K.length)throw new RangeError("Index out of range")}L.prototype.writeUIntLE=function(N,R,st,ft){if(N=+N,R=R|0,st=st|0,!ft){var ee=Math.pow(2,8*st)-1;Et(this,N,R,st,ee,0)}var se=1,br=0;for(this[R]=N&255;++br<st&&(se*=256);)this[R+br]=N/se&255;return R+st},L.prototype.writeUIntBE=function(N,R,st,ft){if(N=+N,R=R|0,st=st|0,!ft){var ee=Math.pow(2,8*st)-1;Et(this,N,R,st,ee,0)}var se=st-1,br=1;for(this[R+se]=N&255;--se>=0&&(br*=256);)this[R+se]=N/br&255;return R+st},L.prototype.writeUInt8=function(N,R,st){return N=+N,R=R|0,st||Et(this,N,R,1,255,0),L.TYPED_ARRAY_SUPPORT||(N=Math.floor(N)),this[R]=N&255,R+1};function te(K,N,R,st){N<0&&(N=65535+N+1);for(var ft=0,ee=Math.min(K.length-R,2);ft<ee;++ft)K[R+ft]=(N&255<<8*(st?ft:1-ft))>>>(st?ft:1-ft)*8}L.prototype.writeUInt16LE=function(N,R,st){return N=+N,R=R|0,st||Et(this,N,R,2,65535,0),L.TYPED_ARRAY_SUPPORT?(this[R]=N&255,this[R+1]=N>>>8):te(this,N,R,!0),R+2},L.prototype.writeUInt16BE=function(N,R,st){return N=+N,R=R|0,st||Et(this,N,R,2,65535,0),L.TYPED_ARRAY_SUPPORT?(this[R]=N>>>8,this[R+1]=N&255):te(this,N,R,!1),R+2};function _t(K,N,R,st){N<0&&(N=4294967295+N+1);for(var ft=0,ee=Math.min(K.length-R,4);ft<ee;++ft)K[R+ft]=N>>>(st?ft:3-ft)*8&255}L.prototype.writeUInt32LE=function(N,R,st){return N=+N,R=R|0,st||Et(this,N,R,4,4294967295,0),L.TYPED_ARRAY_SUPPORT?(this[R+3]=N>>>24,this[R+2]=N>>>16,this[R+1]=N>>>8,this[R]=N&255):_t(this,N,R,!0),R+4},L.prototype.writeUInt32BE=function(N,R,st){return N=+N,R=R|0,st||Et(this,N,R,4,4294967295,0),L.TYPED_ARRAY_SUPPORT?(this[R]=N>>>24,this[R+1]=N>>>16,this[R+2]=N>>>8,this[R+3]=N&255):_t(this,N,R,!1),R+4},L.prototype.writeIntLE=function(N,R,st,ft){if(N=+N,R=R|0,!ft){var ee=Math.pow(2,8*st-1);Et(this,N,R,st,ee-1,-ee)}var se=0,br=1,Rr=0;for(this[R]=N&255;++se<st&&(br*=256);)N<0&&Rr===0&&this[R+se-1]!==0&&(Rr=1),this[R+se]=(N/br>>0)-Rr&255;return R+st},L.prototype.writeIntBE=function(N,R,st,ft){if(N=+N,R=R|0,!ft){var ee=Math.pow(2,8*st-1);Et(this,N,R,st,ee-1,-ee)}var se=st-1,br=1,Rr=0;for(this[R+se]=N&255;--se>=0&&(br*=256);)N<0&&Rr===0&&this[R+se+1]!==0&&(Rr=1),this[R+se]=(N/br>>0)-Rr&255;return R+st},L.prototype.writeInt8=function(N,R,st){return N=+N,R=R|0,st||Et(this,N,R,1,127,-128),L.TYPED_ARRAY_SUPPORT||(N=Math.floor(N)),N<0&&(N=255+N+1),this[R]=N&255,R+1},L.prototype.writeInt16LE=function(N,R,st){return N=+N,R=R|0,st||Et(this,N,R,2,32767,-32768),L.TYPED_ARRAY_SUPPORT?(this[R]=N&255,this[R+1]=N>>>8):te(this,N,R,!0),R+2},L.prototype.writeInt16BE=function(N,R,st){return N=+N,R=R|0,st||Et(this,N,R,2,32767,-32768),L.TYPED_ARRAY_SUPPORT?(this[R]=N>>>8,this[R+1]=N&255):te(this,N,R,!1),R+2},L.prototype.writeInt32LE=function(N,R,st){return N=+N,R=R|0,st||Et(this,N,R,4,2147483647,-2147483648),L.TYPED_ARRAY_SUPPORT?(this[R]=N&255,this[R+1]=N>>>8,this[R+2]=N>>>16,this[R+3]=N>>>24):_t(this,N,R,!0),R+4},L.prototype.writeInt32BE=function(N,R,st){return N=+N,R=R|0,st||Et(this,N,R,4,2147483647,-2147483648),N<0&&(N=4294967295+N+1),L.TYPED_ARRAY_SUPPORT?(this[R]=N>>>24,this[R+1]=N>>>16,this[R+2]=N>>>8,this[R+3]=N&255):_t(this,N,R,!1),R+4};function xt(K,N,R,st,ft,ee){if(R+st>K.length)throw new RangeError("Index out of range");if(R<0)throw new RangeError("Index out of range")}function Ct(K,N,R,st,ft){return ft||xt(K,N,R,4,34028234663852886e22,-34028234663852886e22),Ut.write(K,N,R,st,23,4),R+4}L.prototype.writeFloatLE=function(N,R,st){return Ct(this,N,R,!0,st)},L.prototype.writeFloatBE=function(N,R,st){return Ct(this,N,R,!1,st)};function vt(K,N,R,st,ft){return ft||xt(K,N,R,8,17976931348623157e292,-17976931348623157e292),Ut.write(K,N,R,st,52,8),R+8}L.prototype.writeDoubleLE=function(N,R,st){return vt(this,N,R,!0,st)},L.prototype.writeDoubleBE=function(N,R,st){return vt(this,N,R,!1,st)},L.prototype.copy=function(N,R,st,ft){if(st||(st=0),!ft&&ft!==0&&(ft=this.length),R>=N.length&&(R=N.length),R||(R=0),ft>0&&ft<st&&(ft=st),ft===st||N.length===0||this.length===0)return 0;if(R<0)throw new RangeError("targetStart out of bounds");if(st<0||st>=this.length)throw new RangeError("sourceStart out of bounds");if(ft<0)throw new RangeError("sourceEnd out of bounds");ft>this.length&&(ft=this.length),N.length-R<ft-st&&(ft=N.length-R+st);var ee=ft-st,se;if(this===N&&st<R&&R<ft)for(se=ee-1;se>=0;--se)N[se+R]=this[se+st];else if(ee<1e3||!L.TYPED_ARRAY_SUPPORT)for(se=0;se<ee;++se)N[se+R]=this[se+st];else Uint8Array.prototype.set.call(N,this.subarray(st,st+ee),R);return ee},L.prototype.fill=function(N,R,st,ft){if(typeof N=="string"){if(typeof R=="string"?(ft=R,R=0,st=this.length):typeof st=="string"&&(ft=st,st=this.length),N.length===1){var ee=N.charCodeAt(0);ee<256&&(N=ee)}if(ft!==void 0&&typeof ft!="string")throw new TypeError("encoding must be a string");if(typeof ft=="string"&&!L.isEncoding(ft))throw new TypeError("Unknown encoding: "+ft)}else typeof N=="number"&&(N=N&255);if(R<0||this.length<R||this.length<st)throw new RangeError("Out of range index");if(st<=R)return this;R=R>>>0,st=st===void 0?this.length:st>>>0,N||(N=0);var se;if(typeof N=="number")for(se=R;se<st;++se)this[se]=N;else{var br=L.isBuffer(N)?N:pe(new L(N,ft).toString()),Rr=br.length;for(se=0;se<st-R;++se)this[se+R]=br[se%Rr]}return this};var de=/[^+\/0-9A-Za-z-_]/g;function ae(K){if(K=ue(K).replace(de,""),K.length<2)return"";for(;K.length%4!=0;)K=K+"=";return K}function ue(K){return K.trim?K.trim():K.replace(/^\s+|\s+$/g,"")}function ke(K){return K<16?"0"+K.toString(16):K.toString(16)}function pe(K,N){N=N||Infinity;for(var R,st=K.length,ft=null,ee=[],se=0;se<st;++se){if(R=K.charCodeAt(se),R>55295&&R<57344){if(!ft){if(R>56319){(N-=3)>-1&&ee.push(239,191,189);continue}else if(se+1===st){(N-=3)>-1&&ee.push(239,191,189);continue}ft=R;continue}if(R<56320){(N-=3)>-1&&ee.push(239,191,189),ft=R;continue}R=(ft-55296<<10|R-56320)+65536}else ft&&(N-=3)>-1&&ee.push(239,191,189);if(ft=null,R<128){if((N-=1)<0)break;ee.push(R)}else if(R<2048){if((N-=2)<0)break;ee.push(R>>6|192,R&63|128)}else if(R<65536){if((N-=3)<0)break;ee.push(R>>12|224,R>>6&63|128,R&63|128)}else if(R<1114112){if((N-=4)<0)break;ee.push(R>>18|240,R>>12&63|128,R>>6&63|128,R&63|128)}else throw new Error("Invalid code point")}return ee}function Qt(K){for(var N=[],R=0;R<K.length;++R)N.push(K.charCodeAt(R)&255);return N}function It(K,N){for(var R,st,ft,ee=[],se=0;se<K.length&&!((N-=2)<0);++se)R=K.charCodeAt(se),st=R>>8,ft=R%256,ee.push(ft),ee.push(st);return ee}function re(K){return P.toByteArray(ae(K))}function he(K,N,R,st){for(var ft=0;ft<st&&!(ft+R>=N.length||ft>=K.length);++ft)N[ft+R]=K[ft];return ft}function Le(K){return K!==K}}).call(this,Ae("IyRk"))},JhKR:function(bi,gr){var Ae=0,cr=1,P=2,Ut=3,it=4,Se=5,Pe=6,Tt=/[a-z0-9_-]/i,L=/[\s\t]/,a=function(i){for(var e=!0,r=Ae,n="",u=0,o,d,b=[];;){if(d=i[u],r===Ae){if(!d&&e)break;if(!d&&!e)throw new Error("Parse error");if(d==='"'||d==="'")o=d,r=cr,e=!1;else if(!L.test(d))if(Tt.test(d))r=Ut,e=!1,u--;else throw new Error("Parse error")}else if(r===cr)if(d)d==="\\"?r=P:d===o?(b.push(n),n="",r=it):n+=d;else throw new Error("Parse Error");else if(r===P)if(d===o||d==="\\")n+=d,r=cr;else throw new Error("Parse error");else if(r===Ut)if(d)Tt.test(d)?n+=d:d===","?(b.push(n),n="",r=Ae):L.test(d)?r=Se:d==="\\"&&(r=Pe);else{b.push(n);break}else if(r===Pe){if(/[0-9a-f]/i.test(d))throw new Error("Parse error");n+=d,r=Ut}else if(r===Se)if(d){if(Tt.test(d))n+=" "+d,r=Ut;else if(d===",")b.push(n),n="",r=Ae;else if(!L.test(d))throw new Error("Parse error")}else{b.push(n);break}else if(r===it)if(d){if(d===",")r=Ae;else if(!L.test(d))throw new Error("Parse error")}else break;u++}return b},f=/[^a-z0-9_-]/i,h=function(i,e){var r=e&&e.quote||'"';if(r!=='"'&&r!=="'")throw new Error("Quote must be `'` or `\"`");for(var n=new RegExp(r,"g"),u=[],o=0;o<i.length;++o){var d=i[o];f.test(d)&&(d=d.replace(/\\/g,"\\\\").replace(n,"\\"+r),d=r+d+r),u.push(d)}return u.join(", ")};bi.exports={parse:a,stringify:h}},LvDl:function(bi,gr,Ae){(function(cr,P){var Ut;/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(){var it,Se="4.17.21",Pe=200,Tt="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",L="Expected a function",a="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",h=500,l="__lodash_placeholder__",i=1,e=2,r=4,n=1,u=2,o=1,d=2,b=4,A=8,O=16,Y=32,Z=64,mt=128,Xt=256,fe=512,Ue=30,or="...",fr=800,tr=16,We=1,vr=2,Or=3,Lr=1/0,at=9007199254740991,ve=17976931348623157e292,ht=0/0,Et=4294967295,te=Et-1,_t=Et>>>1,xt=[["ary",mt],["bind",o],["bindKey",d],["curry",A],["curryRight",O],["flip",fe],["partial",Y],["partialRight",Z],["rearg",Xt]],Ct="[object Arguments]",vt="[object Array]",de="[object AsyncFunction]",ae="[object Boolean]",ue="[object Date]",ke="[object DOMException]",pe="[object Error]",Qt="[object Function]",It="[object GeneratorFunction]",re="[object Map]",he="[object Number]",Le="[object Null]",K="[object Object]",N="[object Promise]",R="[object Proxy]",st="[object RegExp]",ft="[object Set]",ee="[object String]",se="[object Symbol]",br="[object Undefined]",Rr="[object WeakMap]",_r="[object WeakSet]",Er="[object ArrayBuffer]",Nr="[object DataView]",li="[object Float32Array]",Bi="[object Float64Array]",Mi="[object Int8Array]",rn="[object Int16Array]",nn="[object Int32Array]",Ti="[object Uint8Array]",fn="[object Uint8ClampedArray]",Yn="[object Uint16Array]",Xn="[object Uint32Array]",ra=/\b__p \+= '';/g,$i=/\b(__p \+=) '' \+/g,Da=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Fr=/&(?:amp|lt|gt|quot|#39);/g,ia=/[&<>"']/g,Ds=RegExp(Fr.source),$a=RegExp(ia.source),Is=/<%-([\s\S]+?)%>/g,gs=/<%([\s\S]+?)%>/g,na=/<%=([\s\S]+?)%>/g,Rs=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bs=/^\w*$/,Ia=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,aa=/[\\^$.*+?()[\]{}|]/g,js=RegExp(aa.source),Ra=/^\s+/,Vn=/\s/,Za=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Us=/\{\n\/\* \[wrapped with (.+)\] \*/,zs=/,? & /,Qa=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,sa=/[()=,{}\[\]\/\s]/,vs=/\\(\\)?/g,lo=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,z=/\w*$/,M=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,j=/^\[object .+?Constructor\]$/,q=/^0o[0-7]+$/i,ct=/^(?:0|[1-9]\d*)$/,Pt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Ot=/($^)/,Jt=/['\n\r\u2028\u2029\\]/g,_e="\\ud800-\\udfff",jt="\\u0300-\\u036f",Te="\\ufe20-\\ufe2f",Ir="\\u20d0-\\u20ff",St=jt+Te+Ir,H="\\u2700-\\u27bf",G="a-z\\xdf-\\xf6\\xf8-\\xff",dt="\\xac\\xb1\\xd7\\xf7",Ft="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Wt="\\u2000-\\u206f",ye=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",De="A-Z\\xc0-\\xd6\\xd8-\\xde",Ie="\\ufe0e\\ufe0f",Ee=dt+Ft+Wt+ye,ur="['\u2019]",nr="["+_e+"]",ti="["+Ee+"]",Kr="["+St+"]",Br="\\d+",mi="["+H+"]",Jr="["+G+"]",di="[^"+_e+Ee+Br+H+G+De+"]",Hi="\\ud83c[\\udffb-\\udfff]",Pi="(?:"+Kr+"|"+Hi+")",C="[^"+_e+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",y="["+De+"]",_="\\u200d",w="(?:"+Jr+"|"+di+")",S="(?:"+y+"|"+di+")",D="(?:"+ur+"(?:d|ll|m|re|s|t|ve))?",E="(?:"+ur+"(?:D|LL|M|RE|S|T|VE))?",W=Pi+"?",nt="["+Ie+"]?",et="(?:"+_+"(?:"+[C,p,v].join("|")+")"+nt+W+")*",pt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",U="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",kt=nt+W+et,yt="(?:"+[mi,p,v].join("|")+")"+kt,Nt="(?:"+[C+Kr+"?",Kr,p,v,nr].join("|")+")",wt=RegExp(ur,"g"),Q=RegExp(Kr,"g"),oe=RegExp(Hi+"(?="+Hi+")|"+Nt+kt,"g"),Oe=RegExp([y+"?"+Jr+"+"+D+"(?="+[ti,y,"$"].join("|")+")",S+"+"+E+"(?="+[ti,y+w,"$"].join("|")+")",y+"?"+w+"+"+D,y+"+"+E,U,pt,Br,yt].join("|"),"g"),Ge=RegExp("["+_+_e+St+Ie+"]"),rr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Re=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],sr=-1,Gt={};Gt[li]=Gt[Bi]=Gt[Mi]=Gt[rn]=Gt[nn]=Gt[Ti]=Gt[fn]=Gt[Yn]=Gt[Xn]=!0,Gt[Ct]=Gt[vt]=Gt[Er]=Gt[ae]=Gt[Nr]=Gt[ue]=Gt[pe]=Gt[Qt]=Gt[re]=Gt[he]=Gt[K]=Gt[st]=Gt[ft]=Gt[ee]=Gt[Rr]=!1;var je={};je[Ct]=je[vt]=je[Er]=je[Nr]=je[ae]=je[ue]=je[li]=je[Bi]=je[Mi]=je[rn]=je[nn]=je[re]=je[he]=je[K]=je[st]=je[ft]=je[ee]=je[se]=je[Ti]=je[fn]=je[Yn]=je[Xn]=!0,je[pe]=je[Qt]=je[Rr]=!1;var zt={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},At={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},qt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Ht={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qe=parseFloat,ze=parseInt,ar=typeof cr=="object"&&cr&&cr.Object===Object&&cr,Ce=typeof self=="object"&&self&&self.Object===Object&&self,dr=ar||Ce||Function("return this")(),Ye=gr&&!gr.nodeType&&gr,yr=Ye&&typeof P=="object"&&P&&!P.nodeType&&P,Rt=yr&&yr.exports===Ye,ot=Rt&&ar.process,Dt=function(){try{var ie=yr&&yr.require&&yr.require("util").types;return ie||ot&&ot.binding&&ot.binding("util")}catch(He){}}(),$t=Dt&&Dt.isArrayBuffer,ce=Dt&&Dt.isDate,xe=Dt&&Dt.isMap,Ve=Dt&&Dt.isRegExp,Me=Dt&&Dt.isSet,Be=Dt&&Dt.isTypedArray;function lr(ie,He,Fe){switch(Fe.length){case 0:return ie.call(He);case 1:return ie.call(He,Fe[0]);case 2:return ie.call(He,Fe[0],Fe[1]);case 3:return ie.call(He,Fe[0],Fe[1],Fe[2])}return ie.apply(He,Fe)}function zr(ie,He,Fe,Ur){for(var ei=-1,Oi=ie==null?0:ie.length;++ei<Oi;){var Ki=ie[ei];He(Ur,Ki,Fe(Ki),ie)}return Ur}function xr(ie,He){for(var Fe=-1,Ur=ie==null?0:ie.length;++Fe<Ur&&He(ie[Fe],Fe,ie)!==!1;);return ie}function Zr(ie,He){for(var Fe=ie==null?0:ie.length;Fe--&&He(ie[Fe],Fe,ie)!==!1;);return ie}function Gr(ie,He){for(var Fe=-1,Ur=ie==null?0:ie.length;++Fe<Ur;)if(!He(ie[Fe],Fe,ie))return!1;return!0}function Lt(ie,He){for(var Fe=-1,Ur=ie==null?0:ie.length,ei=0,Oi=[];++Fe<Ur;){var Ki=ie[Fe];He(Ki,Fe,ie)&&(Oi[ei++]=Ki)}return Oi}function Ke(ie,He){var Fe=ie==null?0:ie.length;return!!Fe&&Xr(ie,He,0)>-1}function Tr(ie,He,Fe){for(var Ur=-1,ei=ie==null?0:ie.length;++Ur<ei;)if(Fe(He,ie[Ur]))return!0;return!1}function Xe(ie,He){for(var Fe=-1,Ur=ie==null?0:ie.length,ei=Array(Ur);++Fe<Ur;)ei[Fe]=He(ie[Fe],Fe,ie);return ei}function Pr(ie,He){for(var Fe=-1,Ur=He.length,ei=ie.length;++Fe<Ur;)ie[ei+Fe]=He[Fe];return ie}function wr(ie,He,Fe,Ur){var ei=-1,Oi=ie==null?0:ie.length;for(Ur&&Oi&&(Fe=ie[++ei]);++ei<Oi;)Fe=He(Fe,ie[ei],ei,ie);return Fe}function jr(ie,He,Fe,Ur){var ei=ie==null?0:ie.length;for(Ur&&ei&&(Fe=ie[--ei]);ei--;)Fe=He(Fe,ie[ei],ei,ie);return Fe}function Wr(ie,He){for(var Fe=-1,Ur=ie==null?0:ie.length;++Fe<Ur;)if(He(ie[Fe],Fe,ie))return!0;return!1}var Yr=qi("length");function Li(ie){return ie.split("")}function $r(ie){return ie.match(Qa)||[]}function _i(ie,He,Fe){var Ur;return Fe(ie,function(ei,Oi,Ki){if(He(ei,Oi,Ki))return Ur=Oi,!1}),Ur}function zi(ie,He,Fe,Ur){for(var ei=ie.length,Oi=Fe+(Ur?1:-1);Ur?Oi--:++Oi<ei;)if(He(ie[Oi],Oi,ie))return Oi;return-1}function Xr(ie,He,Fe){return He===He?Ba(ie,He,Fe):zi(ie,kr,Fe)}function ui(ie,He,Fe,Ur){for(var ei=Fe-1,Oi=ie.length;++ei<Oi;)if(Ur(ie[ei],He))return ei;return-1}function kr(ie){return ie!==ie}function Dn(ie,He){var Fe=ie==null?0:ie.length;return Fe?_a(ie,He)/Fe:ht}function qi(ie){return function(He){return He==null?it:He[ie]}}function xn(ie){return function(He){return ie==null?it:ie[He]}}function pi(ie,He,Fe,Ur,ei){return ei(ie,function(Oi,Ki,xi){Fe=Ur?(Ur=!1,Oi):He(Fe,Oi,Ki,xi)}),Fe}function dn(ie,He){var Fe=ie.length;for(ie.sort(He);Fe--;)ie[Fe]=ie[Fe].value;return ie}function _a(ie,He){for(var Fe,Ur=-1,ei=ie.length;++Ur<ei;){var Oi=He(ie[Ur]);Oi!==it&&(Fe=Fe===it?Oi:Fe+Oi)}return Fe}function Ni(ie,He){for(var Fe=-1,Ur=Array(ie);++Fe<ie;)Ur[Fe]=He(Fe);return Ur}function ts(ie,He){return Xe(He,function(Fe){return[Fe,ie[Fe]]})}function an(ie){return ie&&ie.slice(0,la(ie)+1).replace(Ra,"")}function pn(ie){return function(He){return ie(He)}}function oa(ie,He){return Xe(He,function(Fe){return ie[Fe]})}function Vi(ie,He){return ie.has(He)}function si(ie,He){for(var Fe=-1,Ur=ie.length;++Fe<Ur&&Xr(He,ie[Fe],0)>-1;);return Fe}function Ii(ie,He){for(var Fe=ie.length;Fe--&&Xr(He,ie[Fe],0)>-1;);return Fe}function uo(ie,He){for(var Fe=ie.length,Ur=0;Fe--;)ie[Fe]===He&&++Ur;return Ur}var In=xn(zt),es=xn(At);function rs(ie){return"\\"+Ht[ie]}function Qr(ie,He){return ie==null?it:ie[He]}function Kn(ie){return Ge.test(ie)}function xa(ie){return rr.test(ie)}function ms(ie){for(var He,Fe=[];!(He=ie.next()).done;)Fe.push(He.value);return Fe}function Qi(ie){var He=-1,Fe=Array(ie.size);return ie.forEach(function(Ur,ei){Fe[++He]=[ei,Ur]}),Fe}function Sn(ie,He){return function(Fe){return ie(He(Fe))}}function tn(ie,He){for(var Fe=-1,Ur=ie.length,ei=0,Oi=[];++Fe<Ur;){var Ki=ie[Fe];(Ki===He||Ki===l)&&(ie[Fe]=l,Oi[ei++]=Fe)}return Oi}function is(ie){var He=-1,Fe=Array(ie.size);return ie.forEach(function(Ur){Fe[++He]=Ur}),Fe}function Ws(ie){var He=-1,Fe=Array(ie.size);return ie.forEach(function(Ur){Fe[++He]=[Ur,Ur]}),Fe}function Ba(ie,He,Fe){for(var Ur=Fe-1,ei=ie.length;++Ur<ei;)if(ie[Ur]===He)return Ur;return-1}function ns(ie,He,Fe){for(var Ur=Fe+1;Ur--;)if(ie[Ur]===He)return Ur;return Ur}function Rn(ie){return Kn(ie)?as(ie):Yr(ie)}function gn(ie){return Kn(ie)?co(ie):Li(ie)}function la(ie){for(var He=ie.length;He--&&Vn.test(ie.charAt(He)););return He}var ho=xn(qt);function as(ie){for(var He=oe.lastIndex=0;oe.test(ie);)++He;return He}function co(ie){return ie.match(oe)||[]}function ko(ie){return ie.match(Oe)||[]}var Mo=function ie(He){He=He==null?dr:ys.defaults(dr.Object(),He,ys.pick(dr,Re));var Fe=He.Array,Ur=He.Date,ei=He.Error,Oi=He.Function,Ki=He.Math,xi=He.Object,il=He.RegExp,El=He.String,Jn=He.TypeError,$n=Fe.prototype,fo=Oi.prototype,Hs=xi.prototype,sn=He["__core-js_shared__"],qs=fo.toString,Ei=Hs.hasOwnProperty,fu=0,nl=function(){var t=/[^.]+$/.exec(sn&&sn.keys&&sn.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),No=Hs.toString,Fn=qs.call(xi),po=dr._,bs=il("^"+qs.call(Ei).replace(aa,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),go=Rt?He.Buffer:it,ja=He.Symbol,Do=He.Uint8Array,al=go?go.allocUnsafe:it,Io=Sn(xi.getPrototypeOf,xi),Fl=xi.create,kl=Hs.propertyIsEnumerable,Gs=$n.splice,Ml=ja?ja.isConcatSpreadable:it,ua=ja?ja.iterator:it,Sa=ja?ja.toStringTag:it,Ro=function(){try{var t=fi(xi,"defineProperty");return t({},"",{}),t}catch(s){}}(),Nl=He.clearTimeout!==dr.clearTimeout&&He.clearTimeout,Cn=Ur&&Ur.now!==dr.Date.now&&Ur.now,du=He.setTimeout!==dr.setTimeout&&He.setTimeout,vo=Ki.ceil,Bo=Ki.floor,sl=xi.getOwnPropertySymbols,oi=go?go.isBuffer:it,Ua=He.isFinite,Dl=$n.join,Il=Sn(xi.keys,xi),en=Ki.max,yn=Ki.min,pu=Ur.now,gu=He.parseInt,Rl=Ki.random,ol=$n.reverse,jo=fi(He,"DataView"),Ca=fi(He,"Map"),Ys=fi(He,"Promise"),Aa=fi(He,"Set"),ws=fi(He,"WeakMap"),mo=fi(xi,"create"),Uo=ws&&new ws,za={},Bl=Lo(jo),jl=Lo(Ca),_s=Lo(Ys),xs=Lo(Aa),Ul=Lo(ws),zo=ja?ja.prototype:it,ss=zo?zo.valueOf:it,Wa=zo?zo.toString:it;function tt(t){if(_n(t)&&!gi(t)&&!(t instanceof vi)){if(t instanceof Zn)return t;if(Ei.call(t,"__wrapped__"))return Fs(t)}return new Zn(t)}var Xs=function(){function t(){}return function(s){if(!mn(s))return{};if(Fl)return Fl(s);t.prototype=s;var m=new t;return t.prototype=it,m}}();function Ss(){}function Zn(t,s){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=it}tt.templateSettings={escape:Is,evaluate:gs,interpolate:na,variable:"",imports:{_:tt}},tt.prototype=Ss.prototype,tt.prototype.constructor=tt,Zn.prototype=Xs(Ss.prototype),Zn.prototype.constructor=Zn;function vi(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=Et,this.__views__=[]}function ll(){var t=new vi(this.__wrapped__);return t.__actions__=jn(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=jn(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=jn(this.__views__),t}function zl(){if(this.__filtered__){var t=new vi(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Wo(){var t=this.__wrapped__.value(),s=this.__dir__,m=gi(t),k=s<0,V=m?t.length:0,ut=ta(0,V,this.__views__),Mt=ut.start,Yt=ut.end,le=Yt-Mt,er=k?Yt:Mt-1,ir=this.__iteratees__,pr=ir.length,Mr=0,qr=yn(le,this.__takeCount__);if(!m||!k&&V==le&&qr==le)return Wu(t,this.__actions__);var ri=[];t:for(;le--&&Mr<qr;){er+=s;for(var wi=-1,ii=t[er];++wi<pr;){var Ai=ir[wi],ki=Ai.iteratee,Ka=Ai.type,wa=ki(ii);if(Ka==vr)ii=wa;else if(!wa){if(Ka==We)continue t;break t}}ri[Mr++]=ii}return ri}vi.prototype=Xs(Ss.prototype),vi.prototype.constructor=vi;function os(t){var s=-1,m=t==null?0:t.length;for(this.clear();++s<m;){var k=t[s];this.set(k[0],k[1])}}function ul(){this.__data__=mo?mo(null):{},this.size=0}function hl(t){var s=this.has(t)&&delete this.__data__[t];return this.size-=s?1:0,s}function vu(t){var s=this.__data__;if(mo){var m=s[t];return m===f?it:m}return Ei.call(s,t)?s[t]:it}function Ho(t){var s=this.__data__;return mo?s[t]!==it:Ei.call(s,t)}function cl(t,s){var m=this.__data__;return this.size+=this.has(t)?0:1,m[t]=mo&&s===it?f:s,this}os.prototype.clear=ul,os.prototype.delete=hl,os.prototype.get=vu,os.prototype.has=Ho,os.prototype.set=cl;function ha(t){var s=-1,m=t==null?0:t.length;for(this.clear();++s<m;){var k=t[s];this.set(k[0],k[1])}}function ls(){this.__data__=[],this.size=0}function fl(t){var s=this.__data__,m=Vs(s,t);if(m<0)return!1;var k=s.length-1;return m==k?s.pop():Gs.call(s,m,1),--this.size,!0}function F(t){var s=this.__data__,m=Vs(s,t);return m<0?it:s[m][1]}function I(t){return Vs(this.__data__,t)>-1}function gt(t,s){var m=this.__data__,k=Vs(m,t);return k<0?(++this.size,m.push([t,s])):m[k][1]=s,this}ha.prototype.clear=ls,ha.prototype.delete=fl,ha.prototype.get=F,ha.prototype.has=I,ha.prototype.set=gt;function Bt(t){var s=-1,m=t==null?0:t.length;for(this.clear();++s<m;){var k=t[s];this.set(k[0],k[1])}}function me(){this.size=0,this.__data__={hash:new os,map:new(Ca||ha),string:new os}}function be(t){var s=Di(this,t).delete(t);return this.size-=s?1:0,s}function hr(t){return Di(this,t).get(t)}function mr(t){return Di(this,t).has(t)}function Hr(t,s){var m=Di(this,t),k=m.size;return m.set(t,s),this.size+=m.size==k?0:1,this}Bt.prototype.clear=me,Bt.prototype.delete=be,Bt.prototype.get=hr,Bt.prototype.has=mr,Bt.prototype.set=Hr;function ni(t){var s=-1,m=t==null?0:t.length;for(this.__data__=new Bt;++s<m;)this.add(t[s])}function ai(t){return this.__data__.set(t,f),this}function Fi(t){return this.__data__.has(t)}ni.prototype.add=ni.prototype.push=ai,ni.prototype.has=Fi;function Ri(t){var s=this.__data__=new ha(t);this.size=s.size}function on(){this.__data__=new ha,this.size=0}function Zi(t){var s=this.__data__,m=s.delete(t);return this.size=s.size,m}function zn(t){return this.__data__.get(t)}function bn(t){return this.__data__.has(t)}function Ha(t,s){var m=this.__data__;if(m instanceof ha){var k=m.__data__;if(!Ca||k.length<Pe-1)return k.push([t,s]),this.size=++m.size,this;m=this.__data__=new Bt(k)}return m.set(t,s),this.size=m.size,this}Ri.prototype.clear=on,Ri.prototype.delete=Zi,Ri.prototype.get=zn,Ri.prototype.has=bn,Ri.prototype.set=Ha;function yo(t,s){var m=gi(t),k=!m&&Ol(t),V=!m&&!k&&rl(t),ut=!m&&!k&&!V&&hu(t),Mt=m||k||V||ut,Yt=Mt?Ni(t.length,El):[],le=Yt.length;for(var er in t)(s||Ei.call(t,er))&&!(Mt&&(er=="length"||V&&(er=="offset"||er=="parent")||ut&&(er=="buffer"||er=="byteLength"||er=="byteOffset")||hn(er,le)))&&Yt.push(er);return Yt}function dl(t){var s=t.length;return s?t[Jl(0,s-1)]:it}function Cs(t,s){return Po(jn(t),hs(s,0,t.length))}function pl(t){return Po(jn(t))}function bo(t,s,m){(m!==it&&!Ms(t[s],m)||m===it&&!(s in t))&&Bn(t,s,m)}function us(t,s,m){var k=t[s];(!(Ei.call(t,s)&&Ms(k,m))||m===it&&!(s in t))&&Bn(t,s,m)}function Vs(t,s){for(var m=t.length;m--;)if(Ms(t[m][0],s))return m;return-1}function gl(t,s,m,k){return Ln(t,function(V,ut,Mt){s(k,V,m(V),Mt)}),k}function wo(t,s){return t&&Ya(s,Un(s),t)}function ca(t,s){return t&&Ya(s,Ma(s),t)}function Bn(t,s,m){s=="__proto__"&&Ro?Ro(t,s,{configurable:!0,enumerable:!0,value:m,writable:!0}):t[s]=m}function Ks(t,s){for(var m=-1,k=s.length,V=Fe(k),ut=t==null;++m<k;)V[m]=ut?it:jh(t,s[m]);return V}function hs(t,s,m){return t===t&&(m!==it&&(t=t<=m?t:m),s!==it&&(t=t>=s?t:s)),t}function kn(t,s,m,k,V,ut){var Mt,Yt=s&i,le=s&e,er=s&r;if(m&&(Mt=V?m(t,k,V,ut):m(t)),Mt!==it)return Mt;if(!mn(t))return t;var ir=gi(t);if(ir){if(Mt=Wi(t),!Yt)return jn(t,Mt)}else{var pr=Ci(t),Mr=pr==Qt||pr==It;if(rl(t))return qu(t,Yt);if(pr==K||pr==Ct||Mr&&!V){if(Mt=le||Mr?{}:ea(t),!Yt)return le?Ku(t,ca(Mt,t)):Sh(t,wo(Mt,t))}else{if(!je[pr])return V?t:{};Mt=ya(t,pr,Yt)}}ut||(ut=new Ri);var qr=ut.get(t);if(qr)return qr;ut.set(t,Mt),lc(t)?t.forEach(function(ii){Mt.add(kn(ii,s,m,ii,t,ut))}):sc(t)&&t.forEach(function(ii,Ai){Mt.set(Ai,kn(ii,s,m,Ai,t,ut))});var ri=er?le?Dr:$e:le?Ma:Un,wi=ir?it:ri(t);return xr(wi||t,function(ii,Ai){wi&&(Ai=ii,ii=t[Ai]),us(Mt,Ai,kn(ii,s,m,Ai,t,ut))}),Mt}function Wn(t){var s=Un(t);return function(m){return Wl(m,t,s)}}function Wl(t,s,m){var k=m.length;if(t==null)return!k;for(t=xi(t);k--;){var V=m[k],ut=s[V],Mt=t[V];if(Mt===it&&!(V in t)||!ut(Mt))return!1}return!0}function qo(t,s,m){if(typeof t!="function")throw new Jn(L);return no(function(){t.apply(it,m)},s)}function _o(t,s,m,k){var V=-1,ut=Ke,Mt=!0,Yt=t.length,le=[],er=s.length;if(!Yt)return le;m&&(s=Xe(s,pn(m))),k?(ut=Tr,Mt=!1):s.length>=Pe&&(ut=Vi,Mt=!1,s=new ni(s));t:for(;++V<Yt;){var ir=t[V],pr=m==null?ir:m(ir);if(ir=k||ir!==0?ir:0,Mt&&pr===pr){for(var Mr=er;Mr--;)if(s[Mr]===pr)continue t;le.push(ir)}else ut(s,pr,k)||le.push(ir)}return le}var Ln=Ju(An),xo=Ju(Js,!0);function mu(t,s){var m=!0;return Ln(t,function(k,V,ut){return m=!!s(k,V,ut),m}),m}function Go(t,s,m){for(var k=-1,V=t.length;++k<V;){var ut=t[k],Mt=s(ut);if(Mt!=null&&(Yt===it?Mt===Mt&&!Va(Mt):m(Mt,Yt)))var Yt=Mt,le=ut}return le}function So(t,s,m,k){var V=t.length;for(m=yi(m),m<0&&(m=-m>V?0:V+m),k=k===it||k>V?V:yi(k),k<0&&(k+=V),k=m>k?0:hc(k);m<k;)t[m++]=s;return t}function Ta(t,s){var m=[];return Ln(t,function(k,V,ut){s(k,V,ut)&&m.push(k)}),m}function Gi(t,s,m,k,V){var ut=-1,Mt=t.length;for(m||(m=Nn),V||(V=[]);++ut<Mt;){var Yt=t[ut];s>0&&m(Yt)?s>1?Gi(Yt,s-1,m,k,V):Pr(V,Yt):k||(V[V.length]=Yt)}return V}var As=$u(),qa=$u(!0);function An(t,s){return t&&As(t,s,Un)}function Js(t,s){return t&&qa(t,s,Un)}function Qn(t,s){return Lt(s,function(m){return Oo(t[m])})}function cs(t,s){s=eo(s,t);for(var m=0,k=s.length;t!=null&&m<k;)t=t[ds(s[m++])];return m&&m==k?t:it}function $s(t,s,m){var k=s(t);return gi(t)?k:Pr(k,m(t))}function vn(t){return t==null?t===it?br:Le:Sa&&Sa in xi(t)?Xi(t):_l(t)}function fs(t,s){return t>s}function Pa(t,s){return t!=null&&Ei.call(t,s)}function Zs(t,s){return t!=null&&s in xi(t)}function Yo(t,s,m){return t>=yn(s,m)&&t<en(s,m)}function Ts(t,s,m){for(var k=m?Tr:Ke,V=t[0].length,ut=t.length,Mt=ut,Yt=Fe(ut),le=Infinity,er=[];Mt--;){var ir=t[Mt];Mt&&s&&(ir=Xe(ir,pn(s))),le=yn(ir.length,le),Yt[Mt]=!m&&(s||V>=120&&ir.length>=120)?new ni(Mt&&ir):it}ir=t[0];var pr=-1,Mr=Yt[0];t:for(;++pr<V&&er.length<le;){var qr=ir[pr],ri=s?s(qr):qr;if(qr=m||qr!==0?qr:0,!(Mr?Vi(Mr,ri):k(er,ri,m))){for(Mt=ut;--Mt;){var wi=Yt[Mt];if(!(wi?Vi(wi,ri):k(t[Mt],ri,m)))continue t}Mr&&Mr.push(ri),er.push(qr)}}return er}function Qs(t,s,m,k){return An(t,function(V,ut,Mt){s(k,m(V),ut,Mt)}),k}function Ps(t,s,m){s=eo(s,t),t=Fa(t,s);var k=t==null?t:t[ds(ba(s))];return k==null?it:lr(k,t,m)}function fa(t){return _n(t)&&vn(t)==Ct}function Ls(t){return _n(t)&&vn(t)==Er}function ln(t){return _n(t)&&vn(t)==ue}function ji(t,s,m,k,V){return t===s?!0:t==null||s==null||!_n(t)&&!_n(s)?t!==t&&s!==s:Mn(t,s,m,k,ji,V)}function Mn(t,s,m,k,V,ut){var Mt=gi(t),Yt=gi(s),le=Mt?vt:Ci(t),er=Yt?vt:Ci(s);le=le==Ct?K:le,er=er==Ct?K:er;var ir=le==K,pr=er==K,Mr=le==er;if(Mr&&rl(t)){if(!rl(s))return!1;Mt=!0,ir=!1}if(Mr&&!ir)return ut||(ut=new Ri),Mt||hu(t)?Kt(t,s,m,k,V,ut):Zt(t,s,le,m,k,V,ut);if(!(m&n)){var qr=ir&&Ei.call(t,"__wrapped__"),ri=pr&&Ei.call(s,"__wrapped__");if(qr||ri){var wi=qr?t.value():t,ii=ri?s.value():s;return ut||(ut=new Ri),V(wi,ii,m,k,ut)}}return Mr?(ut||(ut=new Ri),Je(t,s,m,k,V,ut)):!1}function un(t){return _n(t)&&Ci(t)==re}function Hn(t,s,m,k){var V=m.length,ut=V,Mt=!k;if(t==null)return!ut;for(t=xi(t);V--;){var Yt=m[V];if(Mt&&Yt[2]?Yt[1]!==t[Yt[0]]:!(Yt[0]in t))return!1}for(;++V<ut;){Yt=m[V];var le=Yt[0],er=t[le],ir=Yt[1];if(Mt&&Yt[2]){if(er===it&&!(le in t))return!1}else{var pr=new Ri;if(k)var Mr=k(er,ir,le,t,s,pr);if(!(Mr===it?ji(ir,er,n|u,k,pr):Mr))return!1}}return!0}function Xo(t){if(!mn(t)||To(t))return!1;var s=Oo(t)?bs:j;return s.test(Lo(t))}function Os(t){return _n(t)&&vn(t)==st}function Hl(t){return _n(t)&&Ci(t)==ft}function ju(t){return _n(t)&&vh(t.length)&&!!Gt[vn(t)]}function yu(t){return typeof t=="function"?t:t==null?Na:typeof t=="object"?gi(t)?Yl(t[0],t[1]):wu(t):_c(t)}function ql(t){if(!Ea(t))return Il(t);var s=[];for(var m in xi(t))Ei.call(t,m)&&m!="constructor"&&s.push(m);return s}function Uu(t){if(!mn(t))return nu(t);var s=Ea(t),m=[];for(var k in t)k=="constructor"&&(s||!Ei.call(t,k))||m.push(k);return m}function Gl(t,s){return t<s}function bu(t,s){var m=-1,k=ka(t)?Fe(t.length):[];return Ln(t,function(V,ut,Mt){k[++m]=s(V,ut,Mt)}),k}function wu(t){var s=Si(t);return s.length==1&&s[0][2]?iu(s[0][0],s[0][1]):function(m){return m===t||Hn(m,t,s)}}function Yl(t,s){return Oa(t)&&cn(s)?iu(ds(t),s):function(m){var k=jh(m,t);return k===it&&k===s?Uh(m,t):ji(s,k,n|u)}}function Co(t,s,m,k,V){t!==s&&As(s,function(ut,Mt){if(V||(V=new Ri),mn(ut))da(t,s,Mt,m,Co,k,V);else{var Yt=k?k(io(t,Mt),ut,Mt+"",t,s,V):it;Yt===it&&(Yt=ut),bo(t,Mt,Yt)}},Ma)}function da(t,s,m,k,V,ut,Mt){var Yt=io(t,m),le=io(s,m),er=Mt.get(le);if(er){bo(t,m,er);return}var ir=ut?ut(Yt,le,m+"",t,s,Mt):it,pr=ir===it;if(pr){var Mr=gi(le),qr=!Mr&&rl(le),ri=!Mr&&!qr&&hu(le);ir=le,Mr||qr||ri?gi(Yt)?ir=Yt:Tn(Yt)?ir=jn(Yt):qr?(pr=!1,ir=qu(le,!0)):ri?(pr=!1,ir=Pu(le,!0)):ir=[]:Bu(le)||Ol(le)?(ir=Yt,Ol(Yt)?ir=cc(Yt):(!mn(Yt)||Oo(Yt))&&(ir=ea(le))):pr=!1}pr&&(Mt.set(le,ir),V(ir,le,k,ut,Mt),Mt.delete(le)),bo(t,m,ir)}function pa(t,s){var m=t.length;if(!!m)return s+=s<0?m:0,hn(s,m)?t[s]:it}function vl(t,s,m){s.length?s=Xe(s,function(ut){return gi(ut)?function(Mt){return cs(Mt,ut.length===1?ut[0]:ut)}:ut}):s=[Na];var k=-1;s=Xe(s,pn(Ar()));var V=bu(t,function(ut,Mt,Yt){var le=Xe(s,function(er){return er(ut)});return{criteria:le,index:++k,value:ut}});return dn(V,function(ut,Mt){return eu(ut,Mt,m)})}function Xl(t,s){return _u(t,s,function(m,k){return Uh(t,k)})}function _u(t,s,m){for(var k=-1,V=s.length,ut={};++k<V;){var Mt=s[k],Yt=cs(t,Mt);m(Yt,Mt)&&yl(ut,eo(Mt,t),Yt)}return ut}function Vl(t){return function(s){return cs(s,t)}}function Vo(t,s,m,k){var V=k?ui:Xr,ut=-1,Mt=s.length,Yt=t;for(t===s&&(s=jn(s)),m&&(Yt=Xe(t,pn(m)));++ut<Mt;)for(var le=0,er=s[ut],ir=m?m(er):er;(le=V(Yt,ir,le,k))>-1;)Yt!==t&&Gs.call(Yt,le,1),Gs.call(t,le,1);return t}function Kl(t,s){for(var m=t?s.length:0,k=m-1;m--;){var V=s[m];if(m==k||V!==ut){var ut=V;hn(V)?Gs.call(t,V,1):Ql(t,V)}}return t}function Jl(t,s){return t+Bo(Rl()*(s-t+1))}function xu(t,s,m,k){for(var V=-1,ut=en(vo((s-t)/(m||1)),0),Mt=Fe(ut);ut--;)Mt[k?ut:++V]=t,t+=m;return Mt}function ml(t,s){var m="";if(!t||s<1||s>at)return m;do s%2&&(m+=t),s=Bo(s/2),s&&(t+=t);while(s);return m}function ci(t,s){return au(xl(t,s,Na),t+"")}function Su(t){return dl(cu(t))}function bh(t,s){var m=cu(t);return Po(m,hs(s,0,m.length))}function yl(t,s,m,k){if(!mn(t))return t;s=eo(s,t);for(var V=-1,ut=s.length,Mt=ut-1,Yt=t;Yt!=null&&++V<ut;){var le=ds(s[V]),er=m;if(le==="__proto__"||le==="constructor"||le==="prototype")return t;if(V!=Mt){var ir=Yt[le];er=k?k(ir,le,Yt):it,er===it&&(er=mn(ir)?ir:hn(s[V+1])?[]:{})}us(Yt,le,er),Yt=Yt[le]}return t}var Cu=Uo?function(t,s){return Uo.set(t,s),t}:Na,wh=Ro?function(t,s){return Ro(t,"toString",{configurable:!0,enumerable:!1,value:Wh(s),writable:!0})}:Na;function _h(t){return Po(cu(t))}function La(t,s,m){var k=-1,V=t.length;s<0&&(s=-s>V?0:V+s),m=m>V?V:m,m<0&&(m+=V),V=s>m?0:m-s>>>0,s>>>=0;for(var ut=Fe(V);++k<V;)ut[k]=t[k+s];return ut}function xh(t,s){var m;return Ln(t,function(k,V,ut){return m=s(k,V,ut),!m}),!!m}function $l(t,s,m){var k=0,V=t==null?k:t.length;if(typeof s=="number"&&s===s&&V<=_t){for(;k<V;){var ut=k+V>>>1,Mt=t[ut];Mt!==null&&!Va(Mt)&&(m?Mt<=s:Mt<s)?k=ut+1:V=ut}return V}return bl(t,s,Na,m)}function bl(t,s,m,k){var V=0,ut=t==null?0:t.length;if(ut===0)return 0;s=m(s);for(var Mt=s!==s,Yt=s===null,le=Va(s),er=s===it;V<ut;){var ir=Bo((V+ut)/2),pr=m(t[ir]),Mr=pr!==it,qr=pr===null,ri=pr===pr,wi=Va(pr);if(Mt)var ii=k||ri;else er?ii=ri&&(k||Mr):Yt?ii=ri&&Mr&&(k||!qr):le?ii=ri&&Mr&&!qr&&(k||!wi):qr||wi?ii=!1:ii=k?pr<=s:pr<s;ii?V=ir+1:ut=ir}return yn(ut,te)}function Zl(t,s){for(var m=-1,k=t.length,V=0,ut=[];++m<k;){var Mt=t[m],Yt=s?s(Mt):Mt;if(!m||!Ms(Yt,le)){var le=Yt;ut[V++]=Mt===0?0:Mt}}return ut}function Ko(t){return typeof t=="number"?t:Va(t)?ht:+t}function ga(t){if(typeof t=="string")return t;if(gi(t))return Xe(t,ga)+"";if(Va(t))return Wa?Wa.call(t):"";var s=t+"";return s=="0"&&1/t==-Lr?"-0":s}function to(t,s,m){var k=-1,V=Ke,ut=t.length,Mt=!0,Yt=[],le=Yt;if(m)Mt=!1,V=Tr;else if(ut>=Pe){var er=s?null:Vt(t);if(er)return is(er);Mt=!1,V=Vi,le=new ni}else le=s?[]:Yt;t:for(;++k<ut;){var ir=t[k],pr=s?s(ir):ir;if(ir=m||ir!==0?ir:0,Mt&&pr===pr){for(var Mr=le.length;Mr--;)if(le[Mr]===pr)continue t;s&&le.push(pr),Yt.push(ir)}else V(le,pr,m)||(le!==Yt&&le.push(pr),Yt.push(ir))}return Yt}function Ql(t,s){return s=eo(s,t),t=Fa(t,s),t==null||delete t[ds(ba(s))]}function zu(t,s,m,k){return yl(t,s,m(cs(t,s)),k)}function tu(t,s,m,k){for(var V=t.length,ut=k?V:-1;(k?ut--:++ut<V)&&s(t[ut],ut,t););return m?La(t,k?0:ut,k?ut+1:V):La(t,k?ut+1:0,k?V:ut)}function Wu(t,s){var m=t;return m instanceof vi&&(m=m.value()),wr(s,function(k,V){return V.func.apply(V.thisArg,Pr([k],V.args))},m)}function Au(t,s,m){var k=t.length;if(k<2)return k?to(t[0]):[];for(var V=-1,ut=Fe(k);++V<k;)for(var Mt=t[V],Yt=-1;++Yt<k;)Yt!=V&&(ut[V]=_o(ut[V]||Mt,t[Yt],s,m));return to(Gi(ut,1),s,m)}function Es(t,s,m){for(var k=-1,V=t.length,ut=s.length,Mt={};++k<V;){var Yt=k<ut?s[k]:it;m(Mt,t[k],Yt)}return Mt}function va(t){return Tn(t)?t:[]}function Ga(t){return typeof t=="function"?t:Na}function eo(t,s){return gi(t)?t:Oa(t,s)?[t]:tl(Yi(t))}var Hu=ci;function qn(t,s,m){var k=t.length;return m=m===it?k:m,!s&&m>=k?t:La(t,s,m)}var ma=Nl||function(t){return dr.clearTimeout(t)};function qu(t,s){if(s)return t.slice();var m=t.length,k=al?al(m):new t.constructor(m);return t.copy(k),k}function Tu(t){var s=new t.constructor(t.byteLength);return new Do(s).set(new Do(t)),s}function Gu(t,s){var m=s?Tu(t.buffer):t.buffer;return new t.constructor(m,t.byteOffset,t.byteLength)}function Yu(t){var s=new t.constructor(t.source,z.exec(t));return s.lastIndex=t.lastIndex,s}function Xu(t){return ss?xi(ss.call(t)):{}}function Pu(t,s){var m=s?Tu(t.buffer):t.buffer;return new t.constructor(m,t.byteOffset,t.length)}function Vu(t,s){if(t!==s){var m=t!==it,k=t===null,V=t===t,ut=Va(t),Mt=s!==it,Yt=s===null,le=s===s,er=Va(s);if(!Yt&&!er&&!ut&&t>s||ut&&Mt&&le&&!Yt&&!er||k&&Mt&&le||!m&&le||!V)return 1;if(!k&&!ut&&!er&&t<s||er&&m&&V&&!k&&!ut||Yt&&m&&V||!Mt&&V||!le)return-1}return 0}function eu(t,s,m){for(var k=-1,V=t.criteria,ut=s.criteria,Mt=V.length,Yt=m.length;++k<Mt;){var le=Vu(V[k],ut[k]);if(le){if(k>=Yt)return le;var er=m[k];return le*(er=="desc"?-1:1)}}return t.index-s.index}function wl(t,s,m,k){for(var V=-1,ut=t.length,Mt=m.length,Yt=-1,le=s.length,er=en(ut-Mt,0),ir=Fe(le+er),pr=!k;++Yt<le;)ir[Yt]=s[Yt];for(;++V<Mt;)(pr||V<ut)&&(ir[m[V]]=t[V]);for(;er--;)ir[Yt++]=t[V++];return ir}function Jo(t,s,m,k){for(var V=-1,ut=t.length,Mt=-1,Yt=m.length,le=-1,er=s.length,ir=en(ut-Yt,0),pr=Fe(ir+er),Mr=!k;++V<ir;)pr[V]=t[V];for(var qr=V;++le<er;)pr[qr+le]=s[le];for(;++Mt<Yt;)(Mr||V<ut)&&(pr[qr+m[Mt]]=t[V++]);return pr}function jn(t,s){var m=-1,k=t.length;for(s||(s=Fe(k));++m<k;)s[m]=t[m];return s}function Ya(t,s,m,k){var V=!m;m||(m={});for(var ut=-1,Mt=s.length;++ut<Mt;){var Yt=s[ut],le=k?k(m[Yt],t[Yt],Yt,m,t):it;le===it&&(le=t[Yt]),V?Bn(m,Yt,le):us(m,Yt,le)}return m}function Sh(t,s){return Ya(t,Ui(t),s)}function Ku(t,s){return Ya(t,hi(t),s)}function ru(t,s){return function(m,k){var V=gi(m)?zr:gl,ut=s?s():{};return V(m,t,Ar(k,2),ut)}}function $o(t){return ci(function(s,m){var k=-1,V=m.length,ut=V>1?m[V-1]:it,Mt=V>2?m[2]:it;for(ut=t.length>3&&typeof ut=="function"?(V--,ut):it,Mt&&Ji(m[0],m[1],Mt)&&(ut=V<3?it:ut,V=1),s=xi(s);++k<V;){var Yt=m[k];Yt&&t(s,Yt,k,ut)}return s})}function Ju(t,s){return function(m,k){if(m==null)return m;if(!ka(m))return t(m,k);for(var V=m.length,ut=s?V:-1,Mt=xi(m);(s?ut--:++ut<V)&&k(Mt[ut],ut,Mt)!==!1;);return m}}function $u(t){return function(s,m,k){for(var V=-1,ut=xi(s),Mt=k(s),Yt=Mt.length;Yt--;){var le=Mt[t?Yt:++V];if(m(ut[le],le,ut)===!1)break}return s}}function Ch(t,s,m){var k=s&o,V=ro(t);function ut(){var Mt=this&&this!==dr&&this instanceof ut?V:t;return Mt.apply(k?m:this,arguments)}return ut}function Zu(t){return function(s){s=Yi(s);var m=Kn(s)?gn(s):it,k=m?m[0]:s.charAt(0),V=m?qn(m,1).join(""):s.slice(1);return k[t]()+V}}function Ao(t){return function(s){return wr(bc(yc(s).replace(wt,"")),t,"")}}function ro(t){return function(){var s=arguments;switch(s.length){case 0:return new t;case 1:return new t(s[0]);case 2:return new t(s[0],s[1]);case 3:return new t(s[0],s[1],s[2]);case 4:return new t(s[0],s[1],s[2],s[3]);case 5:return new t(s[0],s[1],s[2],s[3],s[4]);case 6:return new t(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new t(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var m=Xs(t.prototype),k=t.apply(m,s);return mn(k)?k:m}}function Ah(t,s,m){var k=ro(t);function V(){for(var ut=arguments.length,Mt=Fe(ut),Yt=ut,le=Cr(V);Yt--;)Mt[Yt]=arguments[Yt];var er=ut<3&&Mt[0]!==le&&Mt[ut-1]!==le?[]:tn(Mt,le);if(ut-=er.length,ut<m)return lt(t,s,c,V.placeholder,it,Mt,er,it,it,m-ut);var ir=this&&this!==dr&&this instanceof V?k:t;return lr(ir,this,Mt)}return V}function Qu(t){return function(s,m,k){var V=xi(s);if(!ka(s)){var ut=Ar(m,3);s=Un(s),m=function(Yt){return ut(V[Yt],Yt,V)}}var Mt=t(s,m,k);return Mt>-1?V[ut?s[Mt]:Mt]:it}}function Lu(t){return Qe(function(s){var m=s.length,k=m,V=Zn.prototype.thru;for(t&&s.reverse();k--;){var ut=s[k];if(typeof ut!="function")throw new Jn(L);if(V&&!Mt&&Vr(ut)=="wrapper")var Mt=new Zn([],!0)}for(k=Mt?k:m;++k<m;){ut=s[k];var Yt=Vr(ut),le=Yt=="wrapper"?Sr(ut):it;le&&Xa(le[0])&&le[1]==(mt|A|Y|Xt)&&!le[4].length&&le[9]==1?Mt=Mt[Vr(le[0])].apply(Mt,le[3]):Mt=ut.length==1&&Xa(ut)?Mt[Yt]():Mt.thru(ut)}return function(){var er=arguments,ir=er[0];if(Mt&&er.length==1&&gi(ir))return Mt.plant(ir).value();for(var pr=0,Mr=m?s[pr].apply(this,er):ir;++pr<m;)Mr=s[pr].call(this,Mr);return Mr}})}function c(t,s,m,k,V,ut,Mt,Yt,le,er){var ir=s&mt,pr=s&o,Mr=s&d,qr=s&(A|O),ri=s&fe,wi=Mr?it:ro(t);function ii(){for(var Ai=arguments.length,ki=Fe(Ai),Ka=Ai;Ka--;)ki[Ka]=arguments[Ka];if(qr)var wa=Cr(ii),Ja=uo(ki,wa);if(k&&(ki=wl(ki,k,V,qr)),ut&&(ki=Jo(ki,ut,Mt,qr)),Ai-=Ja,qr&&Ai<er){var Pn=tn(ki,wa);return lt(t,s,c,ii.placeholder,m,ki,Pn,Yt,le,er-Ai)}var Ns=pr?m:this,Fo=Mr?Ns[t]:t;return Ai=ki.length,Yt?ki=Qo(ki,Yt):ri&&Ai>1&&ki.reverse(),ir&&le<Ai&&(ki.length=le),this&&this!==dr&&this instanceof ii&&(Fo=wi||ro(Fo)),Fo.apply(Ns,ki)}return ii}function g(t,s){return function(m,k){return Qs(m,t,s(k),{})}}function T(t,s){return function(m,k){var V;if(m===it&&k===it)return s;if(m!==it&&(V=m),k!==it){if(V===it)return k;typeof m=="string"||typeof k=="string"?(m=ga(m),k=ga(k)):(m=Ko(m),k=Ko(k)),V=t(m,k)}return V}}function B(t){return Qe(function(s){return s=Xe(s,pn(Ar())),ci(function(m){var k=this;return t(s,function(V){return lr(V,k,m)})})})}function X(t,s){s=s===it?" ":ga(s);var m=s.length;if(m<2)return m?ml(s,t):s;var k=ml(s,vo(t/Rn(s)));return Kn(s)?qn(gn(k),0,t).join(""):k.slice(0,t)}function J(t,s,m,k){var V=s&o,ut=ro(t);function Mt(){for(var Yt=-1,le=arguments.length,er=-1,ir=k.length,pr=Fe(ir+le),Mr=this&&this!==dr&&this instanceof Mt?ut:t;++er<ir;)pr[er]=k[er];for(;le--;)pr[er++]=arguments[++Yt];return lr(Mr,V?m:this,pr)}return Mt}function $(t){return function(s,m,k){return k&&typeof k!="number"&&Ji(s,m,k)&&(m=k=it),s=Eo(s),m===it?(m=s,s=0):m=Eo(m),k=k===it?s<m?1:-1:Eo(k),xu(s,m,k,t)}}function rt(t){return function(s,m){return typeof s=="string"&&typeof m=="string"||(s=ps(s),m=ps(m)),t(s,m)}}function lt(t,s,m,k,V,ut,Mt,Yt,le,er){var ir=s&A,pr=ir?Mt:it,Mr=ir?it:Mt,qr=ir?ut:it,ri=ir?it:ut;s|=ir?Y:Z,s&=~(ir?Z:Y),s&b||(s&=~(o|d));var wi=[t,s,V,qr,pr,ri,Mr,Yt,le,er],ii=m.apply(it,wi);return Xa(t)&&Ou(ii,wi),ii.placeholder=k,Sl(ii,t,s)}function bt(t){var s=Ki[t];return function(m,k){if(m=ps(m),k=k==null?0:yn(yi(k),292),k&&Ua(m)){var V=(Yi(m)+"e").split("e"),ut=s(V[0]+"e"+(+V[1]+k));return V=(Yi(ut)+"e").split("e"),+(V[0]+"e"+(+V[1]-k))}return s(m)}}var Vt=Aa&&1/is(new Aa([,-0]))[1]==Lr?function(t){return new Aa(t)}:Gh;function we(t){return function(s){var m=Ci(s);return m==re?Qi(s):m==ft?Ws(s):ts(s,t(s))}}function ge(t,s,m,k,V,ut,Mt,Yt){var le=s&d;if(!le&&typeof t!="function")throw new Jn(L);var er=k?k.length:0;if(er||(s&=~(Y|Z),k=V=it),Mt=Mt===it?Mt:en(yi(Mt),0),Yt=Yt===it?Yt:yi(Yt),er-=V?V.length:0,s&Z){var ir=k,pr=V;k=V=it}var Mr=le?it:Sr(t),qr=[t,s,m,k,V,ir,pr,ut,Mt,Yt];if(Mr&&eh(qr,Mr),t=qr[0],s=qr[1],m=qr[2],k=qr[3],V=qr[4],Yt=qr[9]=qr[9]===it?le?0:t.length:en(qr[9]-er,0),!Yt&&s&(A|O)&&(s&=~(A|O)),!s||s==o)var ri=Ch(t,s,m);else s==A||s==O?ri=Ah(t,s,Yt):(s==Y||s==(o|Y))&&!V.length?ri=J(t,s,m,k):ri=c.apply(it,qr);var wi=Mr?Cu:Ou;return Sl(wi(ri,qr),t,s)}function ne(t,s,m,k){return t===it||Ms(t,Hs[m])&&!Ei.call(k,m)?s:t}function Ze(t,s,m,k,V,ut){return mn(t)&&mn(s)&&(ut.set(s,t),Co(t,s,it,Ze,ut),ut.delete(s)),t}function Ne(t){return Bu(t)?it:t}function Kt(t,s,m,k,V,ut){var Mt=m&n,Yt=t.length,le=s.length;if(Yt!=le&&!(Mt&&le>Yt))return!1;var er=ut.get(t),ir=ut.get(s);if(er&&ir)return er==s&&ir==t;var pr=-1,Mr=!0,qr=m&u?new ni:it;for(ut.set(t,s),ut.set(s,t);++pr<Yt;){var ri=t[pr],wi=s[pr];if(k)var ii=Mt?k(wi,ri,pr,s,t,ut):k(ri,wi,pr,t,s,ut);if(ii!==it){if(ii)continue;Mr=!1;break}if(qr){if(!Wr(s,function(Ai,ki){if(!Vi(qr,ki)&&(ri===Ai||V(ri,Ai,m,k,ut)))return qr.push(ki)})){Mr=!1;break}}else if(!(ri===wi||V(ri,wi,m,k,ut))){Mr=!1;break}}return ut.delete(t),ut.delete(s),Mr}function Zt(t,s,m,k,V,ut,Mt){switch(m){case Nr:if(t.byteLength!=s.byteLength||t.byteOffset!=s.byteOffset)return!1;t=t.buffer,s=s.buffer;case Er:return!(t.byteLength!=s.byteLength||!ut(new Do(t),new Do(s)));case ae:case ue:case he:return Ms(+t,+s);case pe:return t.name==s.name&&t.message==s.message;case st:case ee:return t==s+"";case re:var Yt=Qi;case ft:var le=k&n;if(Yt||(Yt=is),t.size!=s.size&&!le)return!1;var er=Mt.get(t);if(er)return er==s;k|=u,Mt.set(t,s);var ir=Kt(Yt(t),Yt(s),k,V,ut,Mt);return Mt.delete(t),ir;case se:if(ss)return ss.call(t)==ss.call(s)}return!1}function Je(t,s,m,k,V,ut){var Mt=m&n,Yt=$e(t),le=Yt.length,er=$e(s),ir=er.length;if(le!=ir&&!Mt)return!1;for(var pr=le;pr--;){var Mr=Yt[pr];if(!(Mt?Mr in s:Ei.call(s,Mr)))return!1}var qr=ut.get(t),ri=ut.get(s);if(qr&&ri)return qr==s&&ri==t;var wi=!0;ut.set(t,s),ut.set(s,t);for(var ii=Mt;++pr<le;){Mr=Yt[pr];var Ai=t[Mr],ki=s[Mr];if(k)var Ka=Mt?k(ki,Ai,Mr,s,t,ut):k(Ai,ki,Mr,t,s,ut);if(!(Ka===it?Ai===ki||V(Ai,ki,m,k,ut):Ka)){wi=!1;break}ii||(ii=Mr=="constructor")}if(wi&&!ii){var wa=t.constructor,Ja=s.constructor;wa!=Ja&&"constructor"in t&&"constructor"in s&&!(typeof wa=="function"&&wa instanceof wa&&typeof Ja=="function"&&Ja instanceof Ja)&&(wi=!1)}return ut.delete(t),ut.delete(s),wi}function Qe(t){return au(xl(t,it,ku),t+"")}function $e(t){return $s(t,Un,Ui)}function Dr(t){return $s(t,Ma,hi)}var Sr=Uo?function(t){return Uo.get(t)}:Gh;function Vr(t){for(var s=t.name+"",m=za[s],k=Ei.call(za,s)?m.length:0;k--;){var V=m[k],ut=V.func;if(ut==null||ut==t)return V.name}return s}function Cr(t){var s=Ei.call(tt,"placeholder")?tt:t;return s.placeholder}function Ar(){var t=tt.iteratee||Hh;return t=t===Hh?yu:t,arguments.length?t(arguments[0],arguments[1]):t}function Di(t,s){var m=t.__data__;return En(s)?m[typeof s=="string"?"string":"hash"]:m.map}function Si(t){for(var s=Un(t),m=s.length;m--;){var k=s[m],V=t[k];s[m]=[k,V,cn(V)]}return s}function fi(t,s){var m=Qr(t,s);return Xo(m)?m:it}function Xi(t){var s=Ei.call(t,Sa),m=t[Sa];try{t[Sa]=it;var k=!0}catch(ut){}var V=No.call(t);return k&&(s?t[Sa]=m:delete t[Sa]),V}var Ui=sl?function(t){return t==null?[]:(t=xi(t),Lt(sl(t),function(s){return kl.call(t,s)}))}:Yh,hi=sl?function(t){for(var s=[];t;)Pr(s,Ui(t)),t=Io(t);return s}:Yh,Ci=vn;(jo&&Ci(new jo(new ArrayBuffer(1)))!=Nr||Ca&&Ci(new Ca)!=re||Ys&&Ci(Ys.resolve())!=N||Aa&&Ci(new Aa)!=ft||ws&&Ci(new ws)!=Rr)&&(Ci=function(t){var s=vn(t),m=s==K?t.constructor:it,k=m?Lo(m):"";if(k)switch(k){case Bl:return Nr;case jl:return re;case _s:return N;case xs:return ft;case Ul:return Rr}return s});function ta(t,s,m){for(var k=-1,V=m.length;++k<V;){var ut=m[k],Mt=ut.size;switch(ut.type){case"drop":t+=Mt;break;case"dropRight":s-=Mt;break;case"take":s=yn(s,t+Mt);break;case"takeRight":t=en(t,s-Mt);break}}return{start:t,end:s}}function wn(t){var s=t.match(Us);return s?s[1].split(zs):[]}function Gn(t,s,m){s=eo(s,t);for(var k=-1,V=s.length,ut=!1;++k<V;){var Mt=ds(s[k]);if(!(ut=t!=null&&m(t,Mt)))break;t=t[Mt]}return ut||++k!=V?ut:(V=t==null?0:t.length,!!V&&vh(V)&&hn(Mt,V)&&(gi(t)||Ol(t)))}function Wi(t){var s=t.length,m=new t.constructor(s);return s&&typeof t[0]=="string"&&Ei.call(t,"index")&&(m.index=t.index,m.input=t.input),m}function ea(t){return typeof t.constructor=="function"&&!Ea(t)?Xs(Io(t)):{}}function ya(t,s,m){var k=t.constructor;switch(s){case Er:return Tu(t);case ae:case ue:return new k(+t);case Nr:return Gu(t,m);case li:case Bi:case Mi:case rn:case nn:case Ti:case fn:case Yn:case Xn:return Pu(t,m);case re:return new k;case he:case ee:return new k(t);case st:return Yu(t);case ft:return new k;case se:return Xu(t)}}function On(t,s){var m=s.length;if(!m)return t;var k=m-1;return s[k]=(m>1?"& ":"")+s[k],s=s.join(m>2?", ":" "),t.replace(Za,`{
/* [wrapped with `+s+`] */
`)}function Nn(t){return gi(t)||Ol(t)||!!(Ml&&t&&t[Ml])}function hn(t,s){var m=typeof t;return s=s==null?at:s,!!s&&(m=="number"||m!="symbol"&&ct.test(t))&&t>-1&&t%1==0&&t<s}function Ji(t,s,m){if(!mn(m))return!1;var k=typeof s;return(k=="number"?ka(m)&&hn(s,m.length):k=="string"&&s in m)?Ms(m[s],t):!1}function Oa(t,s){if(gi(t))return!1;var m=typeof t;return m=="number"||m=="symbol"||m=="boolean"||t==null||Va(t)?!0:Bs.test(t)||!Rs.test(t)||s!=null&&t in xi(s)}function En(t){var s=typeof t;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?t!=="__proto__":t===null}function Xa(t){var s=Vr(t),m=tt[s];if(typeof m!="function"||!(s in vi.prototype))return!1;if(t===m)return!0;var k=Sr(m);return!!k&&t===k[0]}function To(t){return!!nl&&nl in t}var Zo=sn?Oo:Xh;function Ea(t){var s=t&&t.constructor,m=typeof s=="function"&&s.prototype||Hs;return t===m}function cn(t){return t===t&&!mn(t)}function iu(t,s){return function(m){return m==null?!1:m[t]===s&&(s!==it||t in xi(m))}}function th(t){var s=ph(t,function(k){return m.size===h&&m.clear(),k}),m=s.cache;return s}function eh(t,s){var m=t[1],k=s[1],V=m|k,ut=V<(o|d|mt),Mt=k==mt&&m==A||k==mt&&m==Xt&&t[7].length<=s[8]||k==(mt|Xt)&&s[7].length<=s[8]&&m==A;if(!(ut||Mt))return t;k&o&&(t[2]=s[2],V|=m&o?0:b);var Yt=s[3];if(Yt){var le=t[3];t[3]=le?wl(le,Yt,s[4]):Yt,t[4]=le?tn(t[3],l):s[4]}return Yt=s[5],Yt&&(le=t[5],t[5]=le?Jo(le,Yt,s[6]):Yt,t[6]=le?tn(t[5],l):s[6]),Yt=s[7],Yt&&(t[7]=Yt),k&mt&&(t[8]=t[8]==null?s[8]:yn(t[8],s[8])),t[9]==null&&(t[9]=s[9]),t[0]=s[0],t[1]=V,t}function nu(t){var s=[];if(t!=null)for(var m in xi(t))s.push(m);return s}function _l(t){return No.call(t)}function xl(t,s,m){return s=en(s===it?t.length-1:s,0),function(){for(var k=arguments,V=-1,ut=en(k.length-s,0),Mt=Fe(ut);++V<ut;)Mt[V]=k[s+V];V=-1;for(var Yt=Fe(s+1);++V<s;)Yt[V]=k[V];return Yt[s]=m(Mt),lr(t,this,Yt)}}function Fa(t,s){return s.length<2?t:cs(t,La(s,0,-1))}function Qo(t,s){for(var m=t.length,k=yn(s.length,m),V=jn(t);k--;){var ut=s[k];t[k]=hn(ut,m)?V[ut]:it}return t}function io(t,s){if(!(s==="constructor"&&typeof t[s]=="function")&&s!="__proto__")return t[s]}var Ou=su(Cu),no=du||function(t,s){return dr.setTimeout(t,s)},au=su(wh);function Sl(t,s,m){var k=s+"";return au(t,On(k,Eu(wn(k),m)))}function su(t){var s=0,m=0;return function(){var k=pu(),V=tr-(k-m);if(m=k,V>0){if(++s>=fr)return arguments[0]}else s=0;return t.apply(it,arguments)}}function Po(t,s){var m=-1,k=t.length,V=k-1;for(s=s===it?k:s;++m<s;){var ut=Jl(m,V),Mt=t[ut];t[ut]=t[m],t[m]=Mt}return t.length=s,t}var tl=th(function(t){var s=[];return t.charCodeAt(0)===46&&s.push(""),t.replace(Ia,function(m,k,V,ut){s.push(V?ut.replace(vs,"$1"):k||m)}),s});function ds(t){if(typeof t=="string"||Va(t))return t;var s=t+"";return s=="0"&&1/t==-Lr?"-0":s}function Lo(t){if(t!=null){try{return qs.call(t)}catch(s){}try{return t+""}catch(s){}}return""}function Eu(t,s){return xr(xt,function(m){var k="_."+m[0];s&m[1]&&!Ke(t,k)&&t.push(k)}),t.sort()}function Fs(t){if(t instanceof vi)return t.clone();var s=new Zn(t.__wrapped__,t.__chain__);return s.__actions__=jn(t.__actions__),s.__index__=t.__index__,s.__values__=t.__values__,s}function Th(t,s,m){(m?Ji(t,s,m):s===it)?s=1:s=en(yi(s),0);var k=t==null?0:t.length;if(!k||s<1)return[];for(var V=0,ut=0,Mt=Fe(vo(k/s));V<k;)Mt[ut++]=La(t,V,V+=s);return Mt}function Ph(t){for(var s=-1,m=t==null?0:t.length,k=0,V=[];++s<m;){var ut=t[s];ut&&(V[k++]=ut)}return V}function Lh(){var t=arguments.length;if(!t)return[];for(var s=Fe(t-1),m=arguments[0],k=t;k--;)s[k-1]=arguments[k];return Pr(gi(m)?jn(m):[m],Gi(s,1))}var rh=ci(function(t,s){return Tn(t)?_o(t,Gi(s,1,Tn,!0)):[]}),ou=ci(function(t,s){var m=ba(s);return Tn(m)&&(m=it),Tn(t)?_o(t,Gi(s,1,Tn,!0),Ar(m,2)):[]}),ih=ci(function(t,s){var m=ba(s);return Tn(m)&&(m=it),Tn(t)?_o(t,Gi(s,1,Tn,!0),it,m):[]});function nh(t,s,m){var k=t==null?0:t.length;return k?(s=m||s===it?1:yi(s),La(t,s<0?0:s,k)):[]}function lu(t,s,m){var k=t==null?0:t.length;return k?(s=m||s===it?1:yi(s),s=k-s,La(t,0,s<0?0:s)):[]}function Fu(t,s){return t&&t.length?tu(t,Ar(s,3),!0,!0):[]}function Cl(t,s){return t&&t.length?tu(t,Ar(s,3),!0):[]}function ah(t,s,m,k){var V=t==null?0:t.length;return V?(m&&typeof m!="number"&&Ji(t,s,m)&&(m=0,k=V),So(t,s,m,k)):[]}function sh(t,s,m){var k=t==null?0:t.length;if(!k)return-1;var V=m==null?0:yi(m);return V<0&&(V=en(k+V,0)),zi(t,Ar(s,3),V)}function Al(t,s,m){var k=t==null?0:t.length;if(!k)return-1;var V=k-1;return m!==it&&(V=yi(m),V=m<0?en(k+V,0):yn(V,k-1)),zi(t,Ar(s,3),V,!0)}function ku(t){var s=t==null?0:t.length;return s?Gi(t,1):[]}function Mu(t){var s=t==null?0:t.length;return s?Gi(t,Lr):[]}function ao(t,s){var m=t==null?0:t.length;return m?(s=s===it?1:yi(s),Gi(t,s)):[]}function oh(t){for(var s=-1,m=t==null?0:t.length,k={};++s<m;){var V=t[s];k[V[0]]=V[1]}return k}function Nu(t){return t&&t.length?t[0]:it}function Oh(t,s,m){var k=t==null?0:t.length;if(!k)return-1;var V=m==null?0:yi(m);return V<0&&(V=en(k+V,0)),Xr(t,s,V)}function lh(t){var s=t==null?0:t.length;return s?La(t,0,-1):[]}var el=ci(function(t){var s=Xe(t,va);return s.length&&s[0]===t[0]?Ts(s):[]}),Eh=ci(function(t){var s=ba(t),m=Xe(t,va);return s===ba(m)?s=it:m.pop(),m.length&&m[0]===t[0]?Ts(m,Ar(s,2)):[]}),uh=ci(function(t){var s=ba(t),m=Xe(t,va);return s=typeof s=="function"?s:it,s&&m.pop(),m.length&&m[0]===t[0]?Ts(m,it,s):[]});function Fh(t,s){return t==null?"":Dl.call(t,s)}function ba(t){var s=t==null?0:t.length;return s?t[s-1]:it}function kh(t,s,m){var k=t==null?0:t.length;if(!k)return-1;var V=k;return m!==it&&(V=yi(m),V=V<0?en(k+V,0):yn(V,k-1)),s===s?ns(t,s,V):zi(t,kr,V,!0)}function Tl(t,s){return t&&t.length?pa(t,yi(s)):it}var Du=ci(Pl);function Pl(t,s){return t&&t.length&&s&&s.length?Vo(t,s):t}function ks(t,s,m){return t&&t.length&&s&&s.length?Vo(t,s,Ar(m,2)):t}function so(t,s,m){return t&&t.length&&s&&s.length?Vo(t,s,it,m):t}var oo=Qe(function(t,s){var m=t==null?0:t.length,k=Ks(t,s);return Kl(t,Xe(s,function(V){return hn(V,m)?+V:V}).sort(Vu)),k});function uu(t,s){var m=[];if(!(t&&t.length))return m;var k=-1,V=[],ut=t.length;for(s=Ar(s,3);++k<ut;){var Mt=t[k];s(Mt,k,t)&&(m.push(Mt),V.push(k))}return Kl(t,V),m}function Ll(t){return t==null?t:ol.call(t)}function hh(t,s,m){var k=t==null?0:t.length;return k?(m&&typeof m!="number"&&Ji(t,s,m)?(s=0,m=k):(s=s==null?0:yi(s),m=m===it?k:yi(m)),La(t,s,m)):[]}function Mh(t,s){return $l(t,s)}function Iu(t,s,m){return bl(t,s,Ar(m,2))}function Ru(t,s){var m=t==null?0:t.length;if(m){var k=$l(t,s);if(k<m&&Ms(t[k],s))return k}return-1}function Sc(t,s){return $l(t,s,!0)}function Cc(t,s,m){return bl(t,s,Ar(m,2),!0)}function Ac(t,s){var m=t==null?0:t.length;if(m){var k=$l(t,s,!0)-1;if(Ms(t[k],s))return k}return-1}function Tc(t){return t&&t.length?Zl(t):[]}function Pc(t,s){return t&&t.length?Zl(t,Ar(s,2)):[]}function Lc(t){var s=t==null?0:t.length;return s?La(t,1,s):[]}function Oc(t,s,m){return t&&t.length?(s=m||s===it?1:yi(s),La(t,0,s<0?0:s)):[]}function Ec(t,s,m){var k=t==null?0:t.length;return k?(s=m||s===it?1:yi(s),s=k-s,La(t,s<0?0:s,k)):[]}function Fc(t,s){return t&&t.length?tu(t,Ar(s,3),!1,!0):[]}function kc(t,s){return t&&t.length?tu(t,Ar(s,3)):[]}var Mc=ci(function(t){return to(Gi(t,1,Tn,!0))}),Nc=ci(function(t){var s=ba(t);return Tn(s)&&(s=it),to(Gi(t,1,Tn,!0),Ar(s,2))}),Dc=ci(function(t){var s=ba(t);return s=typeof s=="function"?s:it,to(Gi(t,1,Tn,!0),it,s)});function Ic(t){return t&&t.length?to(t):[]}function Rc(t,s){return t&&t.length?to(t,Ar(s,2)):[]}function Bc(t,s){return s=typeof s=="function"?s:it,t&&t.length?to(t,it,s):[]}function Nh(t){if(!(t&&t.length))return[];var s=0;return t=Lt(t,function(m){if(Tn(m))return s=en(m.length,s),!0}),Ni(s,function(m){return Xe(t,qi(m))})}function Vh(t,s){if(!(t&&t.length))return[];var m=Nh(t);return s==null?m:Xe(m,function(k){return lr(s,it,k)})}var jc=ci(function(t,s){return Tn(t)?_o(t,s):[]}),Uc=ci(function(t){return Au(Lt(t,Tn))}),zc=ci(function(t){var s=ba(t);return Tn(s)&&(s=it),Au(Lt(t,Tn),Ar(s,2))}),Wc=ci(function(t){var s=ba(t);return s=typeof s=="function"?s:it,Au(Lt(t,Tn),it,s)}),Hc=ci(Nh);function qc(t,s){return Es(t||[],s||[],us)}function Gc(t,s){return Es(t||[],s||[],yl)}var Yc=ci(function(t){var s=t.length,m=s>1?t[s-1]:it;return m=typeof m=="function"?(t.pop(),m):it,Vh(t,m)});function Kh(t){var s=tt(t);return s.__chain__=!0,s}function Xc(t,s){return s(t),t}function ch(t,s){return s(t)}var Vc=Qe(function(t){var s=t.length,m=s?t[0]:0,k=this.__wrapped__,V=function(ut){return Ks(ut,t)};return s>1||this.__actions__.length||!(k instanceof vi)||!hn(m)?this.thru(V):(k=k.slice(m,+m+(s?1:0)),k.__actions__.push({func:ch,args:[V],thisArg:it}),new Zn(k,this.__chain__).thru(function(ut){return s&&!ut.length&&ut.push(it),ut}))});function Kc(){return Kh(this)}function Jc(){return new Zn(this.value(),this.__chain__)}function $c(){this.__values__===it&&(this.__values__=uc(this.value()));var t=this.__index__>=this.__values__.length,s=t?it:this.__values__[this.__index__++];return{done:t,value:s}}function Zc(){return this}function Qc(t){for(var s,m=this;m instanceof Ss;){var k=Fs(m);k.__index__=0,k.__values__=it,s?V.__wrapped__=k:s=k;var V=k;m=m.__wrapped__}return V.__wrapped__=t,s}function tf(){var t=this.__wrapped__;if(t instanceof vi){var s=t;return this.__actions__.length&&(s=new vi(this)),s=s.reverse(),s.__actions__.push({func:ch,args:[Ll],thisArg:it}),new Zn(s,this.__chain__)}return this.thru(Ll)}function ef(){return Wu(this.__wrapped__,this.__actions__)}var rf=ru(function(t,s,m){Ei.call(t,m)?++t[m]:Bn(t,m,1)});function nf(t,s,m){var k=gi(t)?Gr:mu;return m&&Ji(t,s,m)&&(s=it),k(t,Ar(s,3))}function af(t,s){var m=gi(t)?Lt:Ta;return m(t,Ar(s,3))}var sf=Qu(sh),of=Qu(Al);function lf(t,s){return Gi(fh(t,s),1)}function uf(t,s){return Gi(fh(t,s),Lr)}function hf(t,s,m){return m=m===it?1:yi(m),Gi(fh(t,s),m)}function Jh(t,s){var m=gi(t)?xr:Ln;return m(t,Ar(s,3))}function $h(t,s){var m=gi(t)?Zr:xo;return m(t,Ar(s,3))}var cf=ru(function(t,s,m){Ei.call(t,m)?t[m].push(s):Bn(t,m,[s])});function ff(t,s,m,k){t=ka(t)?t:cu(t),m=m&&!k?yi(m):0;var V=t.length;return m<0&&(m=en(V+m,0)),mh(t)?m<=V&&t.indexOf(s,m)>-1:!!V&&Xr(t,s,m)>-1}var df=ci(function(t,s,m){var k=-1,V=typeof s=="function",ut=ka(t)?Fe(t.length):[];return Ln(t,function(Mt){ut[++k]=V?lr(s,Mt,m):Ps(Mt,s,m)}),ut}),pf=ru(function(t,s,m){Bn(t,m,s)});function fh(t,s){var m=gi(t)?Xe:bu;return m(t,Ar(s,3))}function gf(t,s,m,k){return t==null?[]:(gi(s)||(s=s==null?[]:[s]),m=k?it:m,gi(m)||(m=m==null?[]:[m]),vl(t,s,m))}var vf=ru(function(t,s,m){t[m?0:1].push(s)},function(){return[[],[]]});function mf(t,s,m){var k=gi(t)?wr:pi,V=arguments.length<3;return k(t,Ar(s,4),m,V,Ln)}function yf(t,s,m){var k=gi(t)?jr:pi,V=arguments.length<3;return k(t,Ar(s,4),m,V,xo)}function bf(t,s){var m=gi(t)?Lt:Ta;return m(t,gh(Ar(s,3)))}function wf(t){var s=gi(t)?dl:Su;return s(t)}function _f(t,s,m){(m?Ji(t,s,m):s===it)?s=1:s=yi(s);var k=gi(t)?Cs:bh;return k(t,s)}function xf(t){var s=gi(t)?pl:_h;return s(t)}function Sf(t){if(t==null)return 0;if(ka(t))return mh(t)?Rn(t):t.length;var s=Ci(t);return s==re||s==ft?t.size:ql(t).length}function Cf(t,s,m){var k=gi(t)?Wr:xh;return m&&Ji(t,s,m)&&(s=it),k(t,Ar(s,3))}var Af=ci(function(t,s){if(t==null)return[];var m=s.length;return m>1&&Ji(t,s[0],s[1])?s=[]:m>2&&Ji(s[0],s[1],s[2])&&(s=[s[0]]),vl(t,Gi(s,1),[])}),dh=Cn||function(){return dr.Date.now()};function Tf(t,s){if(typeof s!="function")throw new Jn(L);return t=yi(t),function(){if(--t<1)return s.apply(this,arguments)}}function Zh(t,s,m){return s=m?it:s,s=t&&s==null?t.length:s,ge(t,mt,it,it,it,it,s)}function Qh(t,s){var m;if(typeof s!="function")throw new Jn(L);return t=yi(t),function(){return--t>0&&(m=s.apply(this,arguments)),t<=1&&(s=it),m}}var Dh=ci(function(t,s,m){var k=o;if(m.length){var V=tn(m,Cr(Dh));k|=Y}return ge(t,k,s,m,V)}),tc=ci(function(t,s,m){var k=o|d;if(m.length){var V=tn(m,Cr(tc));k|=Y}return ge(s,k,t,m,V)});function ec(t,s,m){s=m?it:s;var k=ge(t,A,it,it,it,it,it,s);return k.placeholder=ec.placeholder,k}function rc(t,s,m){s=m?it:s;var k=ge(t,O,it,it,it,it,it,s);return k.placeholder=rc.placeholder,k}function ic(t,s,m){var k,V,ut,Mt,Yt,le,er=0,ir=!1,pr=!1,Mr=!0;if(typeof t!="function")throw new Jn(L);s=ps(s)||0,mn(m)&&(ir=!!m.leading,pr="maxWait"in m,ut=pr?en(ps(m.maxWait)||0,s):ut,Mr="trailing"in m?!!m.trailing:Mr);function qr(Pn){var Ns=k,Fo=V;return k=V=it,er=Pn,Mt=t.apply(Fo,Ns),Mt}function ri(Pn){return er=Pn,Yt=no(Ai,s),ir?qr(Pn):Mt}function wi(Pn){var Ns=Pn-le,Fo=Pn-er,xc=s-Ns;return pr?yn(xc,ut-Fo):xc}function ii(Pn){var Ns=Pn-le,Fo=Pn-er;return le===it||Ns>=s||Ns<0||pr&&Fo>=ut}function Ai(){var Pn=dh();if(ii(Pn))return ki(Pn);Yt=no(Ai,wi(Pn))}function ki(Pn){return Yt=it,Mr&&k?qr(Pn):(k=V=it,Mt)}function Ka(){Yt!==it&&ma(Yt),er=0,k=le=V=Yt=it}function wa(){return Yt===it?Mt:ki(dh())}function Ja(){var Pn=dh(),Ns=ii(Pn);if(k=arguments,V=this,le=Pn,Ns){if(Yt===it)return ri(le);if(pr)return ma(Yt),Yt=no(Ai,s),qr(le)}return Yt===it&&(Yt=no(Ai,s)),Mt}return Ja.cancel=Ka,Ja.flush=wa,Ja}var Pf=ci(function(t,s){return qo(t,1,s)}),Lf=ci(function(t,s,m){return qo(t,ps(s)||0,m)});function Of(t){return ge(t,fe)}function ph(t,s){if(typeof t!="function"||s!=null&&typeof s!="function")throw new Jn(L);var m=function(){var k=arguments,V=s?s.apply(this,k):k[0],ut=m.cache;if(ut.has(V))return ut.get(V);var Mt=t.apply(this,k);return m.cache=ut.set(V,Mt)||ut,Mt};return m.cache=new(ph.Cache||Bt),m}ph.Cache=Bt;function gh(t){if(typeof t!="function")throw new Jn(L);return function(){var s=arguments;switch(s.length){case 0:return!t.call(this);case 1:return!t.call(this,s[0]);case 2:return!t.call(this,s[0],s[1]);case 3:return!t.call(this,s[0],s[1],s[2])}return!t.apply(this,s)}}function Ef(t){return Qh(2,t)}var Ff=Hu(function(t,s){s=s.length==1&&gi(s[0])?Xe(s[0],pn(Ar())):Xe(Gi(s,1),pn(Ar()));var m=s.length;return ci(function(k){for(var V=-1,ut=yn(k.length,m);++V<ut;)k[V]=s[V].call(this,k[V]);return lr(t,this,k)})}),Ih=ci(function(t,s){var m=tn(s,Cr(Ih));return ge(t,Y,it,s,m)}),nc=ci(function(t,s){var m=tn(s,Cr(nc));return ge(t,Z,it,s,m)}),kf=Qe(function(t,s){return ge(t,Xt,it,it,it,s)});function Mf(t,s){if(typeof t!="function")throw new Jn(L);return s=s===it?s:yi(s),ci(t,s)}function Nf(t,s){if(typeof t!="function")throw new Jn(L);return s=s==null?0:en(yi(s),0),ci(function(m){var k=m[s],V=qn(m,0,s);return k&&Pr(V,k),lr(t,this,V)})}function Df(t,s,m){var k=!0,V=!0;if(typeof t!="function")throw new Jn(L);return mn(m)&&(k="leading"in m?!!m.leading:k,V="trailing"in m?!!m.trailing:V),ic(t,s,{leading:k,maxWait:s,trailing:V})}function If(t){return Zh(t,1)}function Rf(t,s){return Ih(Ga(s),t)}function Bf(){if(!arguments.length)return[];var t=arguments[0];return gi(t)?t:[t]}function jf(t){return kn(t,r)}function Uf(t,s){return s=typeof s=="function"?s:it,kn(t,r,s)}function zf(t){return kn(t,i|r)}function Wf(t,s){return s=typeof s=="function"?s:it,kn(t,i|r,s)}function Hf(t,s){return s==null||Wl(t,s,Un(s))}function Ms(t,s){return t===s||t!==t&&s!==s}var qf=rt(fs),Gf=rt(function(t,s){return t>=s}),Ol=fa(function(){return arguments}())?fa:function(t){return _n(t)&&Ei.call(t,"callee")&&!kl.call(t,"callee")},gi=Fe.isArray,Yf=$t?pn($t):Ls;function ka(t){return t!=null&&vh(t.length)&&!Oo(t)}function Tn(t){return _n(t)&&ka(t)}function Xf(t){return t===!0||t===!1||_n(t)&&vn(t)==ae}var rl=oi||Xh,Vf=ce?pn(ce):ln;function Kf(t){return _n(t)&&t.nodeType===1&&!Bu(t)}function Jf(t){if(t==null)return!0;if(ka(t)&&(gi(t)||typeof t=="string"||typeof t.splice=="function"||rl(t)||hu(t)||Ol(t)))return!t.length;var s=Ci(t);if(s==re||s==ft)return!t.size;if(Ea(t))return!ql(t).length;for(var m in t)if(Ei.call(t,m))return!1;return!0}function $f(t,s){return ji(t,s)}function Zf(t,s,m){m=typeof m=="function"?m:it;var k=m?m(t,s):it;return k===it?ji(t,s,it,m):!!k}function Rh(t){if(!_n(t))return!1;var s=vn(t);return s==pe||s==ke||typeof t.message=="string"&&typeof t.name=="string"&&!Bu(t)}function Qf(t){return typeof t=="number"&&Ua(t)}function Oo(t){if(!mn(t))return!1;var s=vn(t);return s==Qt||s==It||s==de||s==R}function ac(t){return typeof t=="number"&&t==yi(t)}function vh(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=at}function mn(t){var s=typeof t;return t!=null&&(s=="object"||s=="function")}function _n(t){return t!=null&&typeof t=="object"}var sc=xe?pn(xe):un;function td(t,s){return t===s||Hn(t,s,Si(s))}function ed(t,s,m){return m=typeof m=="function"?m:it,Hn(t,s,Si(s),m)}function rd(t){return oc(t)&&t!=+t}function id(t){if(Zo(t))throw new ei(Tt);return Xo(t)}function nd(t){return t===null}function ad(t){return t==null}function oc(t){return typeof t=="number"||_n(t)&&vn(t)==he}function Bu(t){if(!_n(t)||vn(t)!=K)return!1;var s=Io(t);if(s===null)return!0;var m=Ei.call(s,"constructor")&&s.constructor;return typeof m=="function"&&m instanceof m&&qs.call(m)==Fn}var Bh=Ve?pn(Ve):Os;function sd(t){return ac(t)&&t>=-at&&t<=at}var lc=Me?pn(Me):Hl;function mh(t){return typeof t=="string"||!gi(t)&&_n(t)&&vn(t)==ee}function Va(t){return typeof t=="symbol"||_n(t)&&vn(t)==se}var hu=Be?pn(Be):ju;function od(t){return t===it}function ld(t){return _n(t)&&Ci(t)==Rr}function ud(t){return _n(t)&&vn(t)==_r}var hd=rt(Gl),cd=rt(function(t,s){return t<=s});function uc(t){if(!t)return[];if(ka(t))return mh(t)?gn(t):jn(t);if(ua&&t[ua])return ms(t[ua]());var s=Ci(t),m=s==re?Qi:s==ft?is:cu;return m(t)}function Eo(t){if(!t)return t===0?t:0;if(t=ps(t),t===Lr||t===-Lr){var s=t<0?-1:1;return s*ve}return t===t?t:0}function yi(t){var s=Eo(t),m=s%1;return s===s?m?s-m:s:0}function hc(t){return t?hs(yi(t),0,Et):0}function ps(t){if(typeof t=="number")return t;if(Va(t))return ht;if(mn(t)){var s=typeof t.valueOf=="function"?t.valueOf():t;t=mn(s)?s+"":s}if(typeof t!="string")return t===0?t:+t;t=an(t);var m=x.test(t);return m||q.test(t)?ze(t.slice(2),m?2:8):M.test(t)?ht:+t}function cc(t){return Ya(t,Ma(t))}function fd(t){return t?hs(yi(t),-at,at):t===0?t:0}function Yi(t){return t==null?"":ga(t)}var dd=$o(function(t,s){if(Ea(s)||ka(s)){Ya(s,Un(s),t);return}for(var m in s)Ei.call(s,m)&&us(t,m,s[m])}),fc=$o(function(t,s){Ya(s,Ma(s),t)}),yh=$o(function(t,s,m,k){Ya(s,Ma(s),t,k)}),pd=$o(function(t,s,m,k){Ya(s,Un(s),t,k)}),gd=Qe(Ks);function vd(t,s){var m=Xs(t);return s==null?m:wo(m,s)}var md=ci(function(t,s){t=xi(t);var m=-1,k=s.length,V=k>2?s[2]:it;for(V&&Ji(s[0],s[1],V)&&(k=1);++m<k;)for(var ut=s[m],Mt=Ma(ut),Yt=-1,le=Mt.length;++Yt<le;){var er=Mt[Yt],ir=t[er];(ir===it||Ms(ir,Hs[er])&&!Ei.call(t,er))&&(t[er]=ut[er])}return t}),yd=ci(function(t){return t.push(it,Ze),lr(dc,it,t)});function bd(t,s){return _i(t,Ar(s,3),An)}function wd(t,s){return _i(t,Ar(s,3),Js)}function _d(t,s){return t==null?t:As(t,Ar(s,3),Ma)}function xd(t,s){return t==null?t:qa(t,Ar(s,3),Ma)}function Sd(t,s){return t&&An(t,Ar(s,3))}function Cd(t,s){return t&&Js(t,Ar(s,3))}function Ad(t){return t==null?[]:Qn(t,Un(t))}function Td(t){return t==null?[]:Qn(t,Ma(t))}function jh(t,s,m){var k=t==null?it:cs(t,s);return k===it?m:k}function Pd(t,s){return t!=null&&Gn(t,s,Pa)}function Uh(t,s){return t!=null&&Gn(t,s,Zs)}var Ld=g(function(t,s,m){s!=null&&typeof s.toString!="function"&&(s=No.call(s)),t[s]=m},Wh(Na)),Od=g(function(t,s,m){s!=null&&typeof s.toString!="function"&&(s=No.call(s)),Ei.call(t,s)?t[s].push(m):t[s]=[m]},Ar),Ed=ci(Ps);function Un(t){return ka(t)?yo(t):ql(t)}function Ma(t){return ka(t)?yo(t,!0):Uu(t)}function Fd(t,s){var m={};return s=Ar(s,3),An(t,function(k,V,ut){Bn(m,s(k,V,ut),k)}),m}function kd(t,s){var m={};return s=Ar(s,3),An(t,function(k,V,ut){Bn(m,V,s(k,V,ut))}),m}var Md=$o(function(t,s,m){Co(t,s,m)}),dc=$o(function(t,s,m,k){Co(t,s,m,k)}),Nd=Qe(function(t,s){var m={};if(t==null)return m;var k=!1;s=Xe(s,function(ut){return ut=eo(ut,t),k||(k=ut.length>1),ut}),Ya(t,Dr(t),m),k&&(m=kn(m,i|e|r,Ne));for(var V=s.length;V--;)Ql(m,s[V]);return m});function Dd(t,s){return pc(t,gh(Ar(s)))}var Id=Qe(function(t,s){return t==null?{}:Xl(t,s)});function pc(t,s){if(t==null)return{};var m=Xe(Dr(t),function(k){return[k]});return s=Ar(s),_u(t,m,function(k,V){return s(k,V[0])})}function Rd(t,s,m){s=eo(s,t);var k=-1,V=s.length;for(V||(V=1,t=it);++k<V;){var ut=t==null?it:t[ds(s[k])];ut===it&&(k=V,ut=m),t=Oo(ut)?ut.call(t):ut}return t}function Bd(t,s,m){return t==null?t:yl(t,s,m)}function jd(t,s,m,k){return k=typeof k=="function"?k:it,t==null?t:yl(t,s,m,k)}var gc=we(Un),vc=we(Ma);function Ud(t,s,m){var k=gi(t),V=k||rl(t)||hu(t);if(s=Ar(s,4),m==null){var ut=t&&t.constructor;V?m=k?new ut:[]:mn(t)?m=Oo(ut)?Xs(Io(t)):{}:m={}}return(V?xr:An)(t,function(Mt,Yt,le){return s(m,Mt,Yt,le)}),m}function zd(t,s){return t==null?!0:Ql(t,s)}function Wd(t,s,m){return t==null?t:zu(t,s,Ga(m))}function Hd(t,s,m,k){return k=typeof k=="function"?k:it,t==null?t:zu(t,s,Ga(m),k)}function cu(t){return t==null?[]:oa(t,Un(t))}function qd(t){return t==null?[]:oa(t,Ma(t))}function Gd(t,s,m){return m===it&&(m=s,s=it),m!==it&&(m=ps(m),m=m===m?m:0),s!==it&&(s=ps(s),s=s===s?s:0),hs(ps(t),s,m)}function Yd(t,s,m){return s=Eo(s),m===it?(m=s,s=0):m=Eo(m),t=ps(t),Yo(t,s,m)}function Xd(t,s,m){if(m&&typeof m!="boolean"&&Ji(t,s,m)&&(s=m=it),m===it&&(typeof s=="boolean"?(m=s,s=it):typeof t=="boolean"&&(m=t,t=it)),t===it&&s===it?(t=0,s=1):(t=Eo(t),s===it?(s=t,t=0):s=Eo(s)),t>s){var k=t;t=s,s=k}if(m||t%1||s%1){var V=Rl();return yn(t+V*(s-t+qe("1e-"+((V+"").length-1))),s)}return Jl(t,s)}var Vd=Ao(function(t,s,m){return s=s.toLowerCase(),t+(m?mc(s):s)});function mc(t){return zh(Yi(t).toLowerCase())}function yc(t){return t=Yi(t),t&&t.replace(Pt,In).replace(Q,"")}function Kd(t,s,m){t=Yi(t),s=ga(s);var k=t.length;m=m===it?k:hs(yi(m),0,k);var V=m;return m-=s.length,m>=0&&t.slice(m,V)==s}function Jd(t){return t=Yi(t),t&&$a.test(t)?t.replace(ia,es):t}function $d(t){return t=Yi(t),t&&js.test(t)?t.replace(aa,"\\$&"):t}var Zd=Ao(function(t,s,m){return t+(m?"-":"")+s.toLowerCase()}),Qd=Ao(function(t,s,m){return t+(m?" ":"")+s.toLowerCase()}),tp=Zu("toLowerCase");function ep(t,s,m){t=Yi(t),s=yi(s);var k=s?Rn(t):0;if(!s||k>=s)return t;var V=(s-k)/2;return X(Bo(V),m)+t+X(vo(V),m)}function rp(t,s,m){t=Yi(t),s=yi(s);var k=s?Rn(t):0;return s&&k<s?t+X(s-k,m):t}function ip(t,s,m){t=Yi(t),s=yi(s);var k=s?Rn(t):0;return s&&k<s?X(s-k,m)+t:t}function np(t,s,m){return m||s==null?s=0:s&&(s=+s),gu(Yi(t).replace(Ra,""),s||0)}function ap(t,s,m){return(m?Ji(t,s,m):s===it)?s=1:s=yi(s),ml(Yi(t),s)}function sp(){var t=arguments,s=Yi(t[0]);return t.length<3?s:s.replace(t[1],t[2])}var op=Ao(function(t,s,m){return t+(m?"_":"")+s.toLowerCase()});function lp(t,s,m){return m&&typeof m!="number"&&Ji(t,s,m)&&(s=m=it),m=m===it?Et:m>>>0,m?(t=Yi(t),t&&(typeof s=="string"||s!=null&&!Bh(s))&&(s=ga(s),!s&&Kn(t))?qn(gn(t),0,m):t.split(s,m)):[]}var up=Ao(function(t,s,m){return t+(m?" ":"")+zh(s)});function hp(t,s,m){return t=Yi(t),m=m==null?0:hs(yi(m),0,t.length),s=ga(s),t.slice(m,m+s.length)==s}function cp(t,s,m){var k=tt.templateSettings;m&&Ji(t,s,m)&&(s=it),t=Yi(t),s=yh({},s,k,ne);var V=yh({},s.imports,k.imports,ne),ut=Un(V),Mt=oa(V,ut),Yt,le,er=0,ir=s.interpolate||Ot,pr="__p += '",Mr=il((s.escape||Ot).source+"|"+ir.source+"|"+(ir===na?lo:Ot).source+"|"+(s.evaluate||Ot).source+"|$","g"),qr="//# sourceURL="+(Ei.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++sr+"]")+`
`;t.replace(Mr,function(ii,Ai,ki,Ka,wa,Ja){return ki||(ki=Ka),pr+=t.slice(er,Ja).replace(Jt,rs),Ai&&(Yt=!0,pr+=`' +
__e(`+Ai+`) +
'`),wa&&(le=!0,pr+=`';
`+wa+`;
__p += '`),ki&&(pr+=`' +
((__t = (`+ki+`)) == null ? '' : __t) +
'`),er=Ja+ii.length,ii}),pr+=`';
`;var ri=Ei.call(s,"variable")&&s.variable;if(!ri)pr=`with (obj) {
`+pr+`
}
`;else if(sa.test(ri))throw new ei(a);pr=(le?pr.replace(ra,""):pr).replace($i,"$1").replace(Da,"$1;"),pr="function("+(ri||"obj")+`) {
`+(ri?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Yt?", __e = _.escape":"")+(le?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+pr+`return __p
}`;var wi=wc(function(){return Oi(ut,qr+"return "+pr).apply(it,Mt)});if(wi.source=pr,Rh(wi))throw wi;return wi}function fp(t){return Yi(t).toLowerCase()}function dp(t){return Yi(t).toUpperCase()}function pp(t,s,m){if(t=Yi(t),t&&(m||s===it))return an(t);if(!t||!(s=ga(s)))return t;var k=gn(t),V=gn(s),ut=si(k,V),Mt=Ii(k,V)+1;return qn(k,ut,Mt).join("")}function gp(t,s,m){if(t=Yi(t),t&&(m||s===it))return t.slice(0,la(t)+1);if(!t||!(s=ga(s)))return t;var k=gn(t),V=Ii(k,gn(s))+1;return qn(k,0,V).join("")}function vp(t,s,m){if(t=Yi(t),t&&(m||s===it))return t.replace(Ra,"");if(!t||!(s=ga(s)))return t;var k=gn(t),V=si(k,gn(s));return qn(k,V).join("")}function mp(t,s){var m=Ue,k=or;if(mn(s)){var V="separator"in s?s.separator:V;m="length"in s?yi(s.length):m,k="omission"in s?ga(s.omission):k}t=Yi(t);var ut=t.length;if(Kn(t)){var Mt=gn(t);ut=Mt.length}if(m>=ut)return t;var Yt=m-Rn(k);if(Yt<1)return k;var le=Mt?qn(Mt,0,Yt).join(""):t.slice(0,Yt);if(V===it)return le+k;if(Mt&&(Yt+=le.length-Yt),Bh(V)){if(t.slice(Yt).search(V)){var er,ir=le;for(V.global||(V=il(V.source,Yi(z.exec(V))+"g")),V.lastIndex=0;er=V.exec(ir);)var pr=er.index;le=le.slice(0,pr===it?Yt:pr)}}else if(t.indexOf(ga(V),Yt)!=Yt){var Mr=le.lastIndexOf(V);Mr>-1&&(le=le.slice(0,Mr))}return le+k}function yp(t){return t=Yi(t),t&&Ds.test(t)?t.replace(Fr,ho):t}var bp=Ao(function(t,s,m){return t+(m?" ":"")+s.toUpperCase()}),zh=Zu("toUpperCase");function bc(t,s,m){return t=Yi(t),s=m?it:s,s===it?xa(t)?ko(t):$r(t):t.match(s)||[]}var wc=ci(function(t,s){try{return lr(t,it,s)}catch(m){return Rh(m)?m:new ei(m)}}),wp=Qe(function(t,s){return xr(s,function(m){m=ds(m),Bn(t,m,Dh(t[m],t))}),t});function _p(t){var s=t==null?0:t.length,m=Ar();return t=s?Xe(t,function(k){if(typeof k[1]!="function")throw new Jn(L);return[m(k[0]),k[1]]}):[],ci(function(k){for(var V=-1;++V<s;){var ut=t[V];if(lr(ut[0],this,k))return lr(ut[1],this,k)}})}function xp(t){return Wn(kn(t,i))}function Wh(t){return function(){return t}}function Sp(t,s){return t==null||t!==t?s:t}var Cp=Lu(),Ap=Lu(!0);function Na(t){return t}function Hh(t){return yu(typeof t=="function"?t:kn(t,i))}function Tp(t){return wu(kn(t,i))}function Pp(t,s){return Yl(t,kn(s,i))}var Lp=ci(function(t,s){return function(m){return Ps(m,t,s)}}),Op=ci(function(t,s){return function(m){return Ps(t,m,s)}});function qh(t,s,m){var k=Un(s),V=Qn(s,k);m==null&&!(mn(s)&&(V.length||!k.length))&&(m=s,s=t,t=this,V=Qn(s,Un(s)));var ut=!(mn(m)&&"chain"in m)||!!m.chain,Mt=Oo(t);return xr(V,function(Yt){var le=s[Yt];t[Yt]=le,Mt&&(t.prototype[Yt]=function(){var er=this.__chain__;if(ut||er){var ir=t(this.__wrapped__),pr=ir.__actions__=jn(this.__actions__);return pr.push({func:le,args:arguments,thisArg:t}),ir.__chain__=er,ir}return le.apply(t,Pr([this.value()],arguments))})}),t}function Ep(){return dr._===this&&(dr._=po),this}function Gh(){}function Fp(t){return t=yi(t),ci(function(s){return pa(s,t)})}var kp=B(Xe),Mp=B(Gr),Np=B(Wr);function _c(t){return Oa(t)?qi(ds(t)):Vl(t)}function Dp(t){return function(s){return t==null?it:cs(t,s)}}var Ip=$(),Rp=$(!0);function Yh(){return[]}function Xh(){return!1}function Bp(){return{}}function jp(){return""}function Up(){return!0}function zp(t,s){if(t=yi(t),t<1||t>at)return[];var m=Et,k=yn(t,Et);s=Ar(s),t-=Et;for(var V=Ni(k,s);++m<t;)s(m);return V}function Wp(t){return gi(t)?Xe(t,ds):Va(t)?[t]:jn(tl(Yi(t)))}function Hp(t){var s=++fu;return Yi(t)+s}var qp=T(function(t,s){return t+s},0),Gp=bt("ceil"),Yp=T(function(t,s){return t/s},1),Xp=bt("floor");function Vp(t){return t&&t.length?Go(t,Na,fs):it}function Kp(t,s){return t&&t.length?Go(t,Ar(s,2),fs):it}function Jp(t){return Dn(t,Na)}function $p(t,s){return Dn(t,Ar(s,2))}function Zp(t){return t&&t.length?Go(t,Na,Gl):it}function Qp(t,s){return t&&t.length?Go(t,Ar(s,2),Gl):it}var t0=T(function(t,s){return t*s},1),e0=bt("round"),r0=T(function(t,s){return t-s},0);function i0(t){return t&&t.length?_a(t,Na):0}function n0(t,s){return t&&t.length?_a(t,Ar(s,2)):0}return tt.after=Tf,tt.ary=Zh,tt.assign=dd,tt.assignIn=fc,tt.assignInWith=yh,tt.assignWith=pd,tt.at=gd,tt.before=Qh,tt.bind=Dh,tt.bindAll=wp,tt.bindKey=tc,tt.castArray=Bf,tt.chain=Kh,tt.chunk=Th,tt.compact=Ph,tt.concat=Lh,tt.cond=_p,tt.conforms=xp,tt.constant=Wh,tt.countBy=rf,tt.create=vd,tt.curry=ec,tt.curryRight=rc,tt.debounce=ic,tt.defaults=md,tt.defaultsDeep=yd,tt.defer=Pf,tt.delay=Lf,tt.difference=rh,tt.differenceBy=ou,tt.differenceWith=ih,tt.drop=nh,tt.dropRight=lu,tt.dropRightWhile=Fu,tt.dropWhile=Cl,tt.fill=ah,tt.filter=af,tt.flatMap=lf,tt.flatMapDeep=uf,tt.flatMapDepth=hf,tt.flatten=ku,tt.flattenDeep=Mu,tt.flattenDepth=ao,tt.flip=Of,tt.flow=Cp,tt.flowRight=Ap,tt.fromPairs=oh,tt.functions=Ad,tt.functionsIn=Td,tt.groupBy=cf,tt.initial=lh,tt.intersection=el,tt.intersectionBy=Eh,tt.intersectionWith=uh,tt.invert=Ld,tt.invertBy=Od,tt.invokeMap=df,tt.iteratee=Hh,tt.keyBy=pf,tt.keys=Un,tt.keysIn=Ma,tt.map=fh,tt.mapKeys=Fd,tt.mapValues=kd,tt.matches=Tp,tt.matchesProperty=Pp,tt.memoize=ph,tt.merge=Md,tt.mergeWith=dc,tt.method=Lp,tt.methodOf=Op,tt.mixin=qh,tt.negate=gh,tt.nthArg=Fp,tt.omit=Nd,tt.omitBy=Dd,tt.once=Ef,tt.orderBy=gf,tt.over=kp,tt.overArgs=Ff,tt.overEvery=Mp,tt.overSome=Np,tt.partial=Ih,tt.partialRight=nc,tt.partition=vf,tt.pick=Id,tt.pickBy=pc,tt.property=_c,tt.propertyOf=Dp,tt.pull=Du,tt.pullAll=Pl,tt.pullAllBy=ks,tt.pullAllWith=so,tt.pullAt=oo,tt.range=Ip,tt.rangeRight=Rp,tt.rearg=kf,tt.reject=bf,tt.remove=uu,tt.rest=Mf,tt.reverse=Ll,tt.sampleSize=_f,tt.set=Bd,tt.setWith=jd,tt.shuffle=xf,tt.slice=hh,tt.sortBy=Af,tt.sortedUniq=Tc,tt.sortedUniqBy=Pc,tt.split=lp,tt.spread=Nf,tt.tail=Lc,tt.take=Oc,tt.takeRight=Ec,tt.takeRightWhile=Fc,tt.takeWhile=kc,tt.tap=Xc,tt.throttle=Df,tt.thru=ch,tt.toArray=uc,tt.toPairs=gc,tt.toPairsIn=vc,tt.toPath=Wp,tt.toPlainObject=cc,tt.transform=Ud,tt.unary=If,tt.union=Mc,tt.unionBy=Nc,tt.unionWith=Dc,tt.uniq=Ic,tt.uniqBy=Rc,tt.uniqWith=Bc,tt.unset=zd,tt.unzip=Nh,tt.unzipWith=Vh,tt.update=Wd,tt.updateWith=Hd,tt.values=cu,tt.valuesIn=qd,tt.without=jc,tt.words=bc,tt.wrap=Rf,tt.xor=Uc,tt.xorBy=zc,tt.xorWith=Wc,tt.zip=Hc,tt.zipObject=qc,tt.zipObjectDeep=Gc,tt.zipWith=Yc,tt.entries=gc,tt.entriesIn=vc,tt.extend=fc,tt.extendWith=yh,qh(tt,tt),tt.add=qp,tt.attempt=wc,tt.camelCase=Vd,tt.capitalize=mc,tt.ceil=Gp,tt.clamp=Gd,tt.clone=jf,tt.cloneDeep=zf,tt.cloneDeepWith=Wf,tt.cloneWith=Uf,tt.conformsTo=Hf,tt.deburr=yc,tt.defaultTo=Sp,tt.divide=Yp,tt.endsWith=Kd,tt.eq=Ms,tt.escape=Jd,tt.escapeRegExp=$d,tt.every=nf,tt.find=sf,tt.findIndex=sh,tt.findKey=bd,tt.findLast=of,tt.findLastIndex=Al,tt.findLastKey=wd,tt.floor=Xp,tt.forEach=Jh,tt.forEachRight=$h,tt.forIn=_d,tt.forInRight=xd,tt.forOwn=Sd,tt.forOwnRight=Cd,tt.get=jh,tt.gt=qf,tt.gte=Gf,tt.has=Pd,tt.hasIn=Uh,tt.head=Nu,tt.identity=Na,tt.includes=ff,tt.indexOf=Oh,tt.inRange=Yd,tt.invoke=Ed,tt.isArguments=Ol,tt.isArray=gi,tt.isArrayBuffer=Yf,tt.isArrayLike=ka,tt.isArrayLikeObject=Tn,tt.isBoolean=Xf,tt.isBuffer=rl,tt.isDate=Vf,tt.isElement=Kf,tt.isEmpty=Jf,tt.isEqual=$f,tt.isEqualWith=Zf,tt.isError=Rh,tt.isFinite=Qf,tt.isFunction=Oo,tt.isInteger=ac,tt.isLength=vh,tt.isMap=sc,tt.isMatch=td,tt.isMatchWith=ed,tt.isNaN=rd,tt.isNative=id,tt.isNil=ad,tt.isNull=nd,tt.isNumber=oc,tt.isObject=mn,tt.isObjectLike=_n,tt.isPlainObject=Bu,tt.isRegExp=Bh,tt.isSafeInteger=sd,tt.isSet=lc,tt.isString=mh,tt.isSymbol=Va,tt.isTypedArray=hu,tt.isUndefined=od,tt.isWeakMap=ld,tt.isWeakSet=ud,tt.join=Fh,tt.kebabCase=Zd,tt.last=ba,tt.lastIndexOf=kh,tt.lowerCase=Qd,tt.lowerFirst=tp,tt.lt=hd,tt.lte=cd,tt.max=Vp,tt.maxBy=Kp,tt.mean=Jp,tt.meanBy=$p,tt.min=Zp,tt.minBy=Qp,tt.stubArray=Yh,tt.stubFalse=Xh,tt.stubObject=Bp,tt.stubString=jp,tt.stubTrue=Up,tt.multiply=t0,tt.nth=Tl,tt.noConflict=Ep,tt.noop=Gh,tt.now=dh,tt.pad=ep,tt.padEnd=rp,tt.padStart=ip,tt.parseInt=np,tt.random=Xd,tt.reduce=mf,tt.reduceRight=yf,tt.repeat=ap,tt.replace=sp,tt.result=Rd,tt.round=e0,tt.runInContext=ie,tt.sample=wf,tt.size=Sf,tt.snakeCase=op,tt.some=Cf,tt.sortedIndex=Mh,tt.sortedIndexBy=Iu,tt.sortedIndexOf=Ru,tt.sortedLastIndex=Sc,tt.sortedLastIndexBy=Cc,tt.sortedLastIndexOf=Ac,tt.startCase=up,tt.startsWith=hp,tt.subtract=r0,tt.sum=i0,tt.sumBy=n0,tt.template=cp,tt.times=zp,tt.toFinite=Eo,tt.toInteger=yi,tt.toLength=hc,tt.toLower=fp,tt.toNumber=ps,tt.toSafeInteger=fd,tt.toString=Yi,tt.toUpper=dp,tt.trim=pp,tt.trimEnd=gp,tt.trimStart=vp,tt.truncate=mp,tt.unescape=yp,tt.uniqueId=Hp,tt.upperCase=bp,tt.upperFirst=zh,tt.each=Jh,tt.eachRight=$h,tt.first=Nu,qh(tt,function(){var t={};return An(tt,function(s,m){Ei.call(tt.prototype,m)||(t[m]=s)}),t}(),{chain:!1}),tt.VERSION=Se,xr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){tt[t].placeholder=tt}),xr(["drop","take"],function(t,s){vi.prototype[t]=function(m){m=m===it?1:en(yi(m),0);var k=this.__filtered__&&!s?new vi(this):this.clone();return k.__filtered__?k.__takeCount__=yn(m,k.__takeCount__):k.__views__.push({size:yn(m,Et),type:t+(k.__dir__<0?"Right":"")}),k},vi.prototype[t+"Right"]=function(m){return this.reverse()[t](m).reverse()}}),xr(["filter","map","takeWhile"],function(t,s){var m=s+1,k=m==We||m==Or;vi.prototype[t]=function(V){var ut=this.clone();return ut.__iteratees__.push({iteratee:Ar(V,3),type:m}),ut.__filtered__=ut.__filtered__||k,ut}}),xr(["head","last"],function(t,s){var m="take"+(s?"Right":"");vi.prototype[t]=function(){return this[m](1).value()[0]}}),xr(["initial","tail"],function(t,s){var m="drop"+(s?"":"Right");vi.prototype[t]=function(){return this.__filtered__?new vi(this):this[m](1)}}),vi.prototype.compact=function(){return this.filter(Na)},vi.prototype.find=function(t){return this.filter(t).head()},vi.prototype.findLast=function(t){return this.reverse().find(t)},vi.prototype.invokeMap=ci(function(t,s){return typeof t=="function"?new vi(this):this.map(function(m){return Ps(m,t,s)})}),vi.prototype.reject=function(t){return this.filter(gh(Ar(t)))},vi.prototype.slice=function(t,s){t=yi(t);var m=this;return m.__filtered__&&(t>0||s<0)?new vi(m):(t<0?m=m.takeRight(-t):t&&(m=m.drop(t)),s!==it&&(s=yi(s),m=s<0?m.dropRight(-s):m.take(s-t)),m)},vi.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},vi.prototype.toArray=function(){return this.take(Et)},An(vi.prototype,function(t,s){var m=/^(?:filter|find|map|reject)|While$/.test(s),k=/^(?:head|last)$/.test(s),V=tt[k?"take"+(s=="last"?"Right":""):s],ut=k||/^find/.test(s);!V||(tt.prototype[s]=function(){var Mt=this.__wrapped__,Yt=k?[1]:arguments,le=Mt instanceof vi,er=Yt[0],ir=le||gi(Mt),pr=function(Ai){var ki=V.apply(tt,Pr([Ai],Yt));return k&&Mr?ki[0]:ki};ir&&m&&typeof er=="function"&&er.length!=1&&(le=ir=!1);var Mr=this.__chain__,qr=!!this.__actions__.length,ri=ut&&!Mr,wi=le&&!qr;if(!ut&&ir){Mt=wi?Mt:new vi(this);var ii=t.apply(Mt,Yt);return ii.__actions__.push({func:ch,args:[pr],thisArg:it}),new Zn(ii,Mr)}return ri&&wi?t.apply(this,Yt):(ii=this.thru(pr),ri?k?ii.value()[0]:ii.value():ii)})}),xr(["pop","push","shift","sort","splice","unshift"],function(t){var s=$n[t],m=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",k=/^(?:pop|shift)$/.test(t);tt.prototype[t]=function(){var V=arguments;if(k&&!this.__chain__){var ut=this.value();return s.apply(gi(ut)?ut:[],V)}return this[m](function(Mt){return s.apply(gi(Mt)?Mt:[],V)})}}),An(vi.prototype,function(t,s){var m=tt[s];if(m){var k=m.name+"";Ei.call(za,k)||(za[k]=[]),za[k].push({name:s,func:m})}}),za[c(it,d).name]=[{name:"wrapper",func:it}],vi.prototype.clone=ll,vi.prototype.reverse=zl,vi.prototype.value=Wo,tt.prototype.at=Vc,tt.prototype.chain=Kc,tt.prototype.commit=Jc,tt.prototype.next=$c,tt.prototype.plant=Qc,tt.prototype.reverse=tf,tt.prototype.toJSON=tt.prototype.valueOf=tt.prototype.value=ef,tt.prototype.first=tt.prototype.head,ua&&(tt.prototype[ua]=Zc),tt},ys=Mo();dr._=ys,Ut=function(){return ys}.call(gr,Ae,gr,P),Ut!==it&&(P.exports=Ut)}).call(this)}).call(this,Ae("IyRk"),Ae("hOG+")(bi))},QDO1:function(bi,gr,Ae){"use strict";Ae.d(gr,"a",function(){return e}),Ae.d(gr,"b",function(){return i});var cr=Ae("q1tI"),P=Ae.n(cr),Ut=Ae("epSk"),it=Ae.n(Ut);function Se(){return Se=Object.assign||function(r){for(var n=1;n<arguments.length;n++){var u=arguments[n];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(r[o]=u[o])}return r},Se.apply(this,arguments)}var Pe="#000000",Tt="rgba(255, 255, 255, 0.0)",L={radius:20,left:100,top:100,fill:Tt,stroke:Pe},a={left:100,top:100,fill:Tt,stroke:Pe,width:40,height:40,angle:0},f={points:[50,100,200,200],options:{left:170,top:150,stroke:Pe}},h={type:"text",left:100,top:100,fontSize:16,fontFamily:"Arial",fill:Pe},l=function(n,u,o,d,b,A){return{canvas:n,addCircle:function(){var Y=new Ut.fabric.Circle(Se({},L,{fill:u,stroke:o}));n.add(Y)},addRectangle:function(){var Y=new Ut.fabric.Rect(Se({},a,{fill:u,stroke:o}));n.add(Y)},addLine:function(){var Y=new Ut.fabric.Line(f.points,Se({},f.options,{stroke:o}));n.add(Y)},addText:function(Y){var Z=new Ut.fabric.Textbox(Y,Se({},h,{fill:o}));Z.set({text:Y}),n.add(Z)},updateText:function(Y){var Z=n.getActiveObjects();if(Z.length&&Z[0].type===h.type){var mt=Z[0];mt.set({text:Y}),n.renderAll()}},deleteAll:function(){n.getObjects().forEach(function(Y){return n.remove(Y)}),n.discardActiveObject(),n.renderAll()},deleteSelected:function(){n.getActiveObjects().forEach(function(Y){return n.remove(Y)}),n.discardActiveObject(),n.renderAll()},fillColor:u,strokeColor:o,setFillColor:function(Y){d(Y),n.getActiveObjects().forEach(function(Z){return Z.set({fill:Y})}),n.renderAll()},setStrokeColor:function(Y){b(Y),n.getActiveObjects().forEach(function(Z){if(Z.type===h.type){Z.set({fill:Y});return}Z.set({stroke:Y})}),n.renderAll()},zoomIn:function(){var Y=n.getZoom();n.setZoom(Y/A)},zoomOut:function(){var Y=n.getZoom();n.setZoom(Y*A)}}},i=function(n){n===void 0&&(n={});var u=n.scaleStep||.5,o=n,d=o.defaultFillColor,b=o.defaultStrokeColor,A=Object(cr.useState)(null),O=A[0],Y=A[1],Z=Object(cr.useState)(d||Tt),mt=Z[0],Xt=Z[1],fe=Object(cr.useState)(b||Pe),Ue=fe[0],or=fe[1],fr=Object(cr.useState)([]),tr=fr[0],We=fr[1];return Object(cr.useEffect)(function(){var vr=function(Lr){Lr.on("selection:cleared",function(){We([])}),Lr.on("selection:created",function(at){We(at.selected)}),Lr.on("selection:updated",function(at){We(at.selected)})};O&&vr(O)},[O]),{selectedObjects:tr,onReady:function(Or){console.log("Fabric canvas ready"),Y(Or)},editor:O?l(O,mt,Ue,Xt,or,u):void 0}},e=function(n){var u=n.className,o=n.onReady,d=Object(cr.useRef)(null),b=Object(cr.useRef)(null);return Object(cr.useEffect)(function(){var A=new Ut.fabric.Canvas(d.current),O=function(){var mt,Xt;A.setHeight(((mt=b.current)===null||mt===void 0?void 0:mt.clientHeight)||0),A.setWidth(((Xt=b.current)===null||Xt===void 0?void 0:Xt.clientWidth)||0),A.renderAll()},Y=function(){O()};return O(),window.addEventListener("resize",Y,!1),o&&o(A),function(){A.dispose(),window.removeEventListener("resize",Y)}},[]),P.a.createElement("div",{ref:b,className:u},P.a.createElement("canvas",{ref:d}))}},Qurx:function(bi,gr,Ae){"use strict";var cr=Ae("wx14"),P=Ae("Ff2n"),Ut=Ae("q1tI"),it=Ae.n(Ut),Se=Ae("adzw"),Pe=["fieldProps","proFieldProps"],Tt=["fieldProps","proFieldProps"],L="text",a=function(i){var e=i.fieldProps,r=i.proFieldProps,n=Object(P.a)(i,Pe);return it.a.createElement(Se.a,Object(cr.a)({mode:"edit",valueType:L,fieldProps:e,filedConfig:{valueType:L},proFieldProps:r},n))},f=function(i){var e=i.fieldProps,r=i.proFieldProps,n=Object(P.a)(i,Tt);return it.a.createElement(Se.a,Object(cr.a)({mode:"edit",valueType:"password",fieldProps:e,proFieldProps:r,filedConfig:{valueType:L}},n))},h=a;h.Password=f,h.displayName="ProFormComponent",gr.a=h},S76h:function(bi,gr,Ae){},TLLU:function(bi,gr,Ae){"use strict";var cr=Ae("5OYt");gr.a={useBreakpoint:cr.a}},VzZb:function(bi,gr,Ae){},ZEwP:function(bi,gr,Ae){"use strict";var cr=Ae("C4q1"),P=Ae.n(cr),Ut=Ae("JhKR"),it=Ae.n(Ut),Se=Ae("i680"),Pe=Ae("hPry"),Tt=Ae.n(Pe),L=function(M){var x,j,q,ct,Pt=[];for(x=M.split(","),q=0,ct=x.length;q<ct;q+=1)j=x[q],j.length>0&&Pt.push(a(j));return Pt},a=function(M){var x=M,j,q={a:0,b:0,c:0},ct=[],Pt=/(\[[^\]]+\])/g,Ot=/(#[^\#\s\+>~\.\[:\)]+)/g,Jt=/(\.[^\s\+>~\.\[:\)]+)/g,_e=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,jt=/(:(?!not|global|local)[\w-]+\([^\)]*\))/gi,Te=/(:(?!not|global|local)[^\s\+>~\.\[:]+)/g,Ir=/([^\s\+>~\.\[:]+)/g;return j=function(H,G){var dt,Ft,Wt,ye,De,Ie;if(H.test(x))for(dt=x.match(H),Ft=0,Wt=dt.length;Ft<Wt;Ft+=1)q[G]+=1,ye=dt[Ft],De=x.indexOf(ye),Ie=ye.length,ct.push({selector:M.substr(De,Ie),type:G,index:De,length:Ie}),x=x.replace(ye,Array(Ie+1).join(" "))},function(){var St=function(Wt){var ye,De,Ie,Ee;if(Wt.test(x))for(ye=x.match(Wt),De=0,Ie=ye.length;De<Ie;De+=1)Ee=ye[De],x=x.replace(Ee,Array(Ee.length+1).join("A"))},H=/\\[0-9A-Fa-f]{6}\s?/g,G=/\\[0-9A-Fa-f]{1,5}\s/g,dt=/\\./g;St(H),St(G),St(dt)}(),function(){var St=/{[^]*/gm,H,G,dt,Ft;if(St.test(x))for(H=x.match(St),G=0,dt=H.length;G<dt;G+=1)Ft=H[G],x=x.replace(Ft,Array(Ft.length+1).join(" "))}(),j(Pt,"b"),j(Ot,"a"),j(Jt,"b"),j(_e,"c"),j(jt,"b"),j(Te,"b"),x=x.replace(/[\*\s\+>~]/g," "),x=x.replace(/[#\.]/g," "),x=x.replace(/:not/g,"    "),x=x.replace(/:local/g,"      "),x=x.replace(/:global/g,"       "),x=x.replace(/[\(\)]/g," "),j(Ir,"c"),ct.sort(function(St,H){return St.index-H.index}),{selector:M,specificity:"0,"+q.a.toString()+","+q.b.toString()+","+q.c.toString(),specificityArray:[0,q.a,q.b,q.c],parts:ct}},f=function(M,x){var j,q,ct;if(typeof M=="string"){if(M.indexOf(",")!==-1)throw"Invalid CSS selector";j=a(M).specificityArray}else if(Array.isArray(M)){if(M.filter(function(Pt){return typeof Pt=="number"}).length!==4)throw"Invalid specificity array";j=M}else throw"Invalid CSS selector or specificity array";if(typeof x=="string"){if(x.indexOf(",")!==-1)throw"Invalid CSS selector";q=a(x).specificityArray}else if(Array.isArray(x)){if(x.filter(function(Pt){return typeof Pt=="number"}).length!==4)throw"Invalid specificity array";q=x}else throw"Invalid CSS selector or specificity array";for(ct=0;ct<4;ct+=1){if(j[ct]<q[ct])return-1;if(j[ct]>q[ct])return 1}return 0};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var h=function(M,x){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,q){j.__proto__=q}||function(j,q){for(var ct in q)q.hasOwnProperty(ct)&&(j[ct]=q[ct])})(M,x)};function l(z,M){function x(){this.constructor=z}h(z,M),z.prototype=M===null?Object.create(M):(x.prototype=M.prototype,new x)}var i=function(){return(i=Object.assign||function(M){for(var x,j=1,q=arguments.length;j<q;j++)for(var ct in x=arguments[j])Object.prototype.hasOwnProperty.call(x,ct)&&(M[ct]=x[ct]);return M}).apply(this,arguments)};function e(z,M,x,j){return new(x||(x=Promise))(function(q,ct){function Pt(_e){try{Jt(j.next(_e))}catch(jt){ct(jt)}}function Ot(_e){try{Jt(j.throw(_e))}catch(jt){ct(jt)}}function Jt(_e){var jt;_e.done?q(_e.value):(jt=_e.value,jt instanceof x?jt:new x(function(Te){Te(jt)})).then(Pt,Ot)}Jt((j=j.apply(z,M||[])).next())})}function r(z,M){var x,j,q,ct,Pt={label:0,sent:function(){if(1&q[0])throw q[1];return q[1]},trys:[],ops:[]};return ct={next:Ot(0),throw:Ot(1),return:Ot(2)},typeof Symbol=="function"&&(ct[Symbol.iterator]=function(){return this}),ct;function Ot(Jt){return function(_e){return function(jt){if(x)throw new TypeError("Generator is already executing.");for(;Pt;)try{if(x=1,j&&(q=2&jt[0]?j.return:jt[0]?j.throw||((q=j.return)&&q.call(j),0):j.next)&&!(q=q.call(j,jt[1])).done)return q;switch(j=0,q&&(jt=[2&jt[0],q.value]),jt[0]){case 0:case 1:q=jt;break;case 4:return Pt.label++,{value:jt[1],done:!1};case 5:Pt.label++,j=jt[1],jt=[0];continue;case 7:jt=Pt.ops.pop(),Pt.trys.pop();continue;default:if(q=Pt.trys,!((q=q.length>0&&q[q.length-1])||jt[0]!==6&&jt[0]!==2)){Pt=0;continue}if(jt[0]===3&&(!q||jt[1]>q[0]&&jt[1]<q[3])){Pt.label=jt[1];break}if(jt[0]===6&&Pt.label<q[1]){Pt.label=q[1],q=jt;break}if(q&&Pt.label<q[2]){Pt.label=q[2],Pt.ops.push(jt);break}q[2]&&Pt.ops.pop(),Pt.trys.pop();continue}jt=M.call(z,Pt)}catch(Te){jt=[6,Te],j=0}finally{x=q=0}if(5&jt[0])throw jt[1];return{value:jt[0]?jt[1]:void 0,done:!0}}([Jt,_e])}}}var n=function(){function z(M){if(this.a=void 0,this.r=0,this.g=0,this.b=0,this.simpleColors={},this.colorDefs=[],this.ok=!1,M){for(var x in M.charAt(0)=="#"&&(M=M.substr(1,6)),M=(M=M.replace(/ /g,"")).toLowerCase(),this.simpleColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},this.simpleColors)M==x&&(M=this.simpleColors[x]);this.colorDefs=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(_e){return[parseInt(_e[1]),parseInt(_e[2]),parseInt(_e[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(_e){return[parseInt(_e[1],16),parseInt(_e[2],16),parseInt(_e[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(_e){return[parseInt(_e[1]+_e[1],16),parseInt(_e[2]+_e[2],16),parseInt(_e[3]+_e[3],16)]}}];for(var j=0;j<this.colorDefs.length;j++){var q=this.colorDefs[j].re,ct=this.colorDefs[j].process,Pt=q.exec(M);if(Pt){var Ot=ct(Pt);this.r=Ot[0],this.g=Ot[1],this.b=Ot[2],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b}}return z.prototype.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},z.prototype.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+(this.a||"1")+")"},z.prototype.toHex=function(){var M=this.r.toString(16),x=this.g.toString(16),j=this.b.toString(16);return M.length==1&&(M="0"+M),x.length==1&&(x="0"+x),j.length==1&&(j="0"+j),"#"+M+x+j},z.prototype.getHelpXML=function(){for(var M=[],x=0;x<this.colorDefs.length;x++)for(var j=this.colorDefs[x].example,q=0;q<j.length;q++)M[M.length]=j[q];for(var ct in this.simpleColors)M[M.length]=ct;var Pt=document.createElement("ul");for(Pt.setAttribute("id","rgbcolor-examples"),x=0;x<M.length;x++)try{var Ot=document.createElement("li"),Jt=new z(M[x]),_e=document.createElement("div");_e.style.cssText="margin: 3px; border: 1px solid black; background:"+Jt.toHex()+"; color:"+Jt.toHex(),_e.appendChild(document.createTextNode("test"));var jt=document.createTextNode(" "+M[x]+" -> "+Jt.toRGB()+" -> "+Jt.toHex());Ot.appendChild(_e),Ot.appendChild(jt),Pt.appendChild(Ot)}catch(Te){}return Pt},z}(),u=function(){function z(M){this.color=M}return z.prototype.getFillData=function(M,x){return e(this,void 0,void 0,function(){return r(this,function(j){return[2,void 0]})})},z}(),o=function(){function z(){this.xmlSpace="",this.fill=null,this.fillOpacity=1,this.fontFamily="",this.fontSize=16,this.fontStyle="",this.fontWeight="",this.opacity=1,this.stroke=null,this.strokeDasharray=null,this.strokeDashoffset=0,this.strokeLinecap="",this.strokeLinejoin="",this.strokeMiterlimit=4,this.strokeOpacity=1,this.strokeWidth=1,this.alignmentBaseline="",this.textAnchor="",this.visibility="",this.color=null}return z.prototype.clone=function(){var M=new z;return M.xmlSpace=this.xmlSpace,M.fill=this.fill,M.fillOpacity=this.fillOpacity,M.fontFamily=this.fontFamily,M.fontSize=this.fontSize,M.fontStyle=this.fontStyle,M.fontWeight=this.fontWeight,M.opacity=this.opacity,M.stroke=this.stroke,M.strokeDasharray=this.strokeDasharray,M.strokeDashoffset=this.strokeDashoffset,M.strokeLinecap=this.strokeLinecap,M.strokeLinejoin=this.strokeLinejoin,M.strokeMiterlimit=this.strokeMiterlimit,M.strokeOpacity=this.strokeOpacity,M.strokeWidth=this.strokeWidth,M.textAnchor=this.textAnchor,M.alignmentBaseline=this.alignmentBaseline,M.visibility=this.visibility,M.color=this.color,M},z.default=function(){var M=new z;return M.xmlSpace="default",M.fill=new u(new n("rgb(0, 0, 0)")),M.fillOpacity=1,M.fontFamily="times",M.fontSize=16,M.fontStyle="normal",M.fontWeight="normal",M.opacity=1,M.stroke=null,M.strokeDasharray=null,M.strokeDashoffset=0,M.strokeLinecap="butt",M.strokeLinejoin="miter",M.strokeMiterlimit=4,M.strokeOpacity=1,M.strokeWidth=1,M.alignmentBaseline="baseline",M.textAnchor="start",M.visibility="visible",M.color=new n("rgb(0, 0, 0)"),M},z}(),d=/url\(["']?#([^"']+)["']?\)/,b={bottom:"bottom","text-bottom":"bottom",top:"top","text-top":"top",hanging:"hanging",middle:"middle",central:"middle",center:"middle",mathematical:"middle",ideographic:"ideographic",alphabetic:"alphabetic",baseline:"alphabetic"},A=function(){function z(){this.measureMethods={}}return z.prototype.getTextOffset=function(M,x){var j=x.textAnchor;if(j==="start")return 0;var q=this.measureTextWidth(M,x),ct=0;switch(j){case"end":ct=q;break;case"middle":ct=q/2}return ct},z.prototype.measureTextWidth=function(M,x){if(M.length===0)return 0;var j=x.fontFamily;return this.getMeasureFunction(j).call(this,M,x.fontFamily,x.fontSize+"px",x.fontStyle,x.fontWeight)},z.prototype.getMeasurementTextNode=function(){if(!this.textMeasuringTextElement){this.textMeasuringTextElement=document.createElementNS("http://www.w3.org/2000/svg","text");var M=document.createElementNS("http://www.w3.org/2000/svg","svg");M.appendChild(this.textMeasuringTextElement),M.style.setProperty("position","absolute"),M.style.setProperty("visibility","hidden"),document.body.appendChild(M)}return this.textMeasuringTextElement},z.prototype.canvasTextMeasure=function(M,x,j,q,ct){var Pt=document.createElement("canvas").getContext("2d");return Pt!=null?(Pt.font=[q,ct,j,x].join(" "),Pt.measureText(M).width):0},z.prototype.svgTextMeasure=function(M,x,j,q,ct,Pt){Pt===void 0&&(Pt=this.getMeasurementTextNode());var Ot=Pt;return Ot.setAttribute("font-family",x),Ot.setAttribute("font-size",j),Ot.setAttribute("font-style",q),Ot.setAttribute("font-weight",ct),Ot.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),Ot.textContent=M,Ot.getBBox().width},z.prototype.getMeasureFunction=function(M){var x=this.measureMethods[M];if(!x){var j=this.canvasTextMeasure(z.testString,M,"16px","normal","normal"),q=this.svgTextMeasure(z.testString,M,"16px","normal","normal");x=Math.abs(j-q)<z.epsilon?this.canvasTextMeasure:this.svgTextMeasure,this.measureMethods[M]=x}return x},z.prototype.cleanupTextMeasuring=function(){if(this.textMeasuringTextElement){var M=this.textMeasuringTextElement.parentNode;M&&document.body.removeChild(M),this.textMeasuringTextElement=void 0}},z.testString=`abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789!"$%&/()=?'\\+*-_.:,;^}][{#~|<>`,z.epsilon=.1,z}(),O=function(){function z(M,x){var j,q,ct,Pt,Ot,Jt;this.pdf=M,this.svg2pdfParameters=x.svg2pdfParameters,this.attributeState=x.attributeState?x.attributeState.clone():o.default(),this.viewport=x.viewport,this.refsHandler=(j=x.refsHandler)!==null&&j!==void 0?j:null,this.styleSheets=(q=x.styleSheets)!==null&&q!==void 0?q:null,this.textMeasure=(ct=x.textMeasure)!==null&&ct!==void 0?ct:new A,this.transform=(Pt=x.transform)!==null&&Pt!==void 0?Pt:this.pdf.unitMatrix,this.withinClipPath=(Ot=x.withinClipPath)!==null&&Ot!==void 0&&Ot,this.withinUse=(Jt=x.withinUse)!==null&&Jt!==void 0&&Jt}return z.prototype.clone=function(M){var x,j,q,ct,Pt,Ot,Jt,_e;return M===void 0&&(M={}),new z(this.pdf,{svg2pdfParameters:(x=M.svg2pdfParameters)!==null&&x!==void 0?x:this.svg2pdfParameters,attributeState:M.attributeState?M.attributeState.clone():this.attributeState.clone(),viewport:(j=M.viewport)!==null&&j!==void 0?j:this.viewport,refsHandler:(q=M.refsHandler)!==null&&q!==void 0?q:this.refsHandler,styleSheets:(ct=M.styleSheets)!==null&&ct!==void 0?ct:this.styleSheets,textMeasure:(Pt=M.textMeasure)!==null&&Pt!==void 0?Pt:this.textMeasure,transform:(Ot=M.transform)!==null&&Ot!==void 0?Ot:this.transform,withinClipPath:(Jt=M.withinClipPath)!==null&&Jt!==void 0?Jt:this.withinClipPath,withinUse:(_e=M.withinUse)!==null&&_e!==void 0?_e:this.withinUse})},z}(),Y=function(){function z(M){this.renderedElements={},this.idMap=M,this.idPrefix=String(z.instanceCounter++)}return z.prototype.getRendered=function(M,x,j){return e(this,void 0,void 0,function(){var q,ct;return r(this,function(Pt){switch(Pt.label){case 0:return q=this.generateKey(M,x),this.renderedElements.hasOwnProperty(q)?[2,this.renderedElements[M]]:(ct=this.get(M),this.renderedElements[q]=ct,[4,j(ct)]);case 1:return Pt.sent(),[2,ct]}})})},z.prototype.get=function(M){return this.idMap[P()(M,{isIdentifier:!0})]},z.prototype.generateKey=function(M,x){return this.idPrefix+"|"+M+"|"+(x||new n("rgb(0,0,0)")).toRGBA()},z.instanceCounter=0,z}();function Z(z,M){return Math.atan2(M[1]-z[1],M[0]-z[0])}function mt(z,M){return[2/3*(M[0]-z[0])+z[0],2/3*(M[1]-z[1])+z[1]]}function Xt(z){var M=Math.sqrt(z[0]*z[0]+z[1]*z[1]);return[z[0]/M,z[1]/M]}function fe(z,M){return Xt([M[0]-z[0],M[1]-z[1]])}function Ue(z,M){return[z[0]+M[0],z[1]+M[1]]}function or(z,M){var x=z[0],j=z[1];return[M.a*x+M.c*j+M.e,M.b*x+M.d*j+M.f]}var fr=function(){function z(){this.segments=[]}return z.prototype.moveTo=function(M,x){return this.segments.push(new tr(M,x)),this},z.prototype.lineTo=function(M,x){return this.segments.push(new We(M,x)),this},z.prototype.curveTo=function(M,x,j,q,ct,Pt){return this.segments.push(new vr(M,x,j,q,ct,Pt)),this},z.prototype.close=function(){return this.segments.push(new Or),this},z.prototype.transform=function(M){this.segments.forEach(function(x){if(x instanceof tr||x instanceof We||x instanceof vr){var j=or([x.x,x.y],M);x.x=j[0],x.y=j[1]}if(x instanceof vr){var q=or([x.x1,x.y1],M),ct=or([x.x2,x.y2],M);x.x1=q[0],x.y1=q[1],x.x2=ct[0],x.y2=ct[1]}})},z.prototype.draw=function(M){var x=M.pdf;this.segments.forEach(function(j){j instanceof tr?x.moveTo(j.x,j.y):j instanceof We?x.lineTo(j.x,j.y):j instanceof vr?x.curveTo(j.x1,j.y1,j.x2,j.y2,j.x,j.y):x.close()})},z}(),tr=function(M,x){this.x=M,this.y=x},We=function(M,x){this.x=M,this.y=x},vr=function(M,x,j,q,ct,Pt){this.x1=M,this.y1=x,this.x2=j,this.y2=q,this.x=ct,this.y=Pt},Or=function(){};function Lr(z,M){return M.split(",").indexOf((z.nodeName||z.tagName).toLowerCase())>=0}function at(z,M,x,j){j===void 0&&(j=x);var q=z.style.getPropertyValue(j);if(q)return q;var ct=M.getPropertyValue(z,j);return ct||z.hasAttribute(x)&&z.getAttribute(x)||void 0}function ve(z,M,x){if(at(z.element,x.styleSheets,"display")==="none")return!1;var j=M,q=at(z.element,x.styleSheets,"visibility");return q&&(j=q!=="hidden"),j}function ht(z,M,x){var j=ve(z,M,x);return z.element.childNodes.length!==0&&(z.children.forEach(function(q){q.isVisible(j,x)&&(j=!0)}),j)}var Et=function(){function z(){this.markers=[]}return z.prototype.addMarker=function(M){this.markers.push(M)},z.prototype.draw=function(M){return e(this,void 0,void 0,function(){var x,j,q,ct,Pt,Ot,Jt;return r(this,function(_e){switch(_e.label){case 0:x=0,_e.label=1;case 1:return x<this.markers.length?(j=this.markers[x],q=void 0,ct=j.angle,Pt=j.anchor,Ot=Math.cos(ct),Jt=Math.sin(ct),q=M.pdf.Matrix(Ot,Jt,-Jt,Ot,Pt[0],Pt[1]),q=M.pdf.matrixMult(M.pdf.Matrix(M.attributeState.strokeWidth,0,0,M.attributeState.strokeWidth,0,0),q),q=M.pdf.matrixMult(q,M.transform),M.pdf.saveGraphicsState(),[4,M.refsHandler.getRendered(j.id,null,function(jt){return jt.apply(M)})]):[3,4];case 2:_e.sent(),M.pdf.doFormObject(j.id,q),M.pdf.restoreGraphicsState(),_e.label=3;case 3:return x++,[3,1];case 4:return[2]}})})},z}(),te=function(M,x,j){this.id=M,this.anchor=x,this.angle=j};function _t(z,M){var x;return(x=z&&z.toString().match(/^([\-0-9.]+)em$/))?parseFloat(x[1])*M:(x=z&&z.toString().match(/^([\-0-9.]+)(px|)$/))?parseFloat(x[1]):0}function xt(z){return b[z]||"alphabetic"}function Ct(z){for(var M,x=[],j=/[+-]?(?:(?:\d+\.?\d*)|(?:\d*\.?\d+))(?:[eE][+-]?\d+)?/g;M=j.exec(z);)x.push(parseFloat(M[0]));return x}function vt(z,M){if(z==="transparent"){var x=new n("rgb(0,0,0)");return x.a=0,x}if(z.toLowerCase()==="currentcolor")return M||new n("rgb(0,0,0)");var j=/\s*rgba\(((?:[^,\)]*,){3}[^,\)]*)\)\s*/.exec(z);if(j){var q=Ct(j[1]),ct=new n("rgb("+q.slice(0,3).join(",")+")");return ct.a=q[3],ct}return new n(z)}var de={"sans-serif":"helvetica",verdana:"helvetica",arial:"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",serif:"times",cursive:"times",fantasy:"times"},ae,ue=(ae=Se.d.version.split("."),parseFloat(ae[0])===2&&parseFloat(ae[1])===3);function ke(z,M){return ue?M==400?z=="italic"?"italic":"normal":M==700&&z!=="italic"?"bold":z+""+M:M==400||M==="normal"?z==="italic"?"italic":"normal":M!=700&&M!=="bold"||z!=="normal"?(M==700?"bold":M)+""+z:"bold"}function pe(z,M){if(at(M.element,z.styleSheets,"display")==="none")return[0,0,0,0];var x=[0,0,0,0];return M.children.forEach(function(j){var q=j.getBoundingBox(z);x=[Math.min(x[0],q[0]),Math.min(x[1],q[1]),Math.max(x[0]+x[2],q[0]+q[2])-Math.min(x[0],q[0]),Math.max(x[1]+x[3],q[1]+q[3])-Math.min(x[1],q[1])]}),x}function Qt(z,M){var x=parseFloat,j=x(z.getAttribute("x1"))||x(at(z,M.styleSheets,"x"))||x(at(z,M.styleSheets,"cx"))-x(at(z,M.styleSheets,"r"))||0,q=x(z.getAttribute("x2"))||j+x(at(z,M.styleSheets,"width"))||x(at(z,M.styleSheets,"cx"))+x(at(z,M.styleSheets,"r"))||0,ct=x(z.getAttribute("y1"))||x(at(z,M.styleSheets,"y"))||x(at(z,M.styleSheets,"cy"))-x(at(z,M.styleSheets,"r"))||0,Pt=x(z.getAttribute("y2"))||ct+x(at(z,M.styleSheets,"height"))||x(at(z,M.styleSheets,"cy"))+x(at(z,M.styleSheets,"r"))||0;return[Math.min(j,q),Math.min(ct,Pt),Math.max(j,q)-Math.min(j,q),Math.max(ct,Pt)-Math.min(ct,Pt)]}function It(z,M,x,j,q,ct,Pt,Ot){Ot===void 0&&(Ot=!1);var Jt,_e,jt=M[0],Te=M[1],Ir=M[2],St=M[3],H=q/Ir,G=ct/St,dt=z.getAttribute("preserveAspectRatio");if(dt){var Ft=dt.split(" ");Ft[0]==="defer"&&(Ft=Ft.slice(1)),Jt=Ft[0],_e=Ft[1]||"meet"}else Jt="xMidYMid",_e="meet";if(Jt!=="none"&&(_e==="meet"?H=G=Math.min(H,G):_e==="slice"&&(H=G=Math.max(H,G))),Ot)return Pt.pdf.Matrix(H,0,0,G,0,0);var Wt=x-jt*H,ye=j-Te*G;Jt.indexOf("xMid")>=0?Wt+=(q-Ir*H)/2:Jt.indexOf("xMax")>=0&&(Wt+=q-Ir*H),Jt.indexOf("YMid")>=0?ye+=(ct-St*G)/2:Jt.indexOf("YMax")>=0&&(ye+=ct-St*G);var De=Pt.pdf.Matrix(1,0,0,1,Wt,ye),Ie=Pt.pdf.Matrix(H,0,0,G,0,0);return Pt.pdf.matrixMult(Ie,De)}function re(z,M){if(!z||z==="none")return M.pdf.unitMatrix;for(var x,j,q=/^[\s,]*matrix\(([^)]+)\)\s*/,ct=/^[\s,]*translate\(([^)]+)\)\s*/,Pt=/^[\s,]*rotate\(([^)]+)\)\s*/,Ot=/^[\s,]*scale\(([^)]+)\)\s*/,Jt=/^[\s,]*skewX\(([^)]+)\)\s*/,_e=/^[\s,]*skewY\(([^)]+)\)\s*/,jt=M.pdf.unitMatrix;z.length>0&&z.length!==j;){j=z.length;var Te=q.exec(z);if(Te&&(x=Ct(Te[1]),jt=M.pdf.matrixMult(M.pdf.Matrix(x[0],x[1],x[2],x[3],x[4],x[5]),jt),z=z.substr(Te[0].length)),Te=Pt.exec(z)){x=Ct(Te[1]);var Ir=Math.PI*x[0]/180;if(jt=M.pdf.matrixMult(M.pdf.Matrix(Math.cos(Ir),Math.sin(Ir),-Math.sin(Ir),Math.cos(Ir),0,0),jt),x[1]||x[2]){var St=M.pdf.Matrix(1,0,0,1,x[1],x[2]),H=M.pdf.Matrix(1,0,0,1,-x[1],-x[2]);jt=M.pdf.matrixMult(H,M.pdf.matrixMult(jt,St))}z=z.substr(Te[0].length)}(Te=ct.exec(z))&&(x=Ct(Te[1]),jt=M.pdf.matrixMult(M.pdf.Matrix(1,0,0,1,x[0],x[1]||0),jt),z=z.substr(Te[0].length)),(Te=Ot.exec(z))&&((x=Ct(Te[1]))[1]||(x[1]=x[0]),jt=M.pdf.matrixMult(M.pdf.Matrix(x[0],0,0,x[1],0,0),jt),z=z.substr(Te[0].length)),(Te=Jt.exec(z))&&(x=parseFloat(Te[1]),x*=Math.PI/180,jt=M.pdf.matrixMult(M.pdf.Matrix(1,0,Math.tan(x),1,0,0),jt),z=z.substr(Te[0].length)),(Te=_e.exec(z))&&(x=parseFloat(Te[1]),x*=Math.PI/180,jt=M.pdf.matrixMult(M.pdf.Matrix(1,Math.tan(x),0,1,0,0),jt),z=z.substr(Te[0].length))}return jt}var he=function(){function z(M,x){this.element=M,this.children=x,this.parent=null}return z.prototype.setParent=function(M){this.parent=M},z.prototype.getParent=function(){return this.parent},z.prototype.getBoundingBox=function(M){return at(this.element,M.styleSheets,"display")==="none"?[0,0,0,0]:this.getBoundingBoxCore(M)},z.prototype.computeNodeTransform=function(M){var x=this.computeNodeTransformCore(M),j=at(this.element,M.styleSheets,"transform");return j?M.pdf.matrixMult(x,re(j,M)):x},z}(),Le=function(z){function M(){return z!==null&&z.apply(this,arguments)||this}return l(M,z),M.prototype.render=function(x){return Promise.resolve()},M.prototype.getBoundingBoxCore=function(x){return[]},M.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},M}(he),K=function(z){function M(x,j,q){var ct=z.call(this,j,q)||this;return ct.pdfGradientType=x,ct.contextColor=void 0,ct}return l(M,z),M.prototype.apply=function(x){return e(this,void 0,void 0,function(){var j,q,ct,Pt,Ot,Jt;return r(this,function(_e){return(j=this.element.getAttribute("id"))?(q=this.getStops(x.styleSheets),ct=0,Pt=!1,q.forEach(function(jt){var Te=jt.opacity;Te&&Te!==1&&(ct+=Te,Pt=!0)}),Pt&&(Ot=new Se.a({opacity:ct/q.length})),Jt=new Se.b(this.pdfGradientType,this.getCoordinates(),q,Ot),x.pdf.addShadingPattern(j,Jt),[2]):[2]})})},M.prototype.getStops=function(x){var j=this;if(this.stops)return this.stops;if(this.contextColor===void 0){this.contextColor=null;for(var q=this;q;){var ct=at(q.element,x,"color");if(ct){this.contextColor=vt(ct,null);break}q=q.getParent()}}var Pt=[];return this.children.forEach(function(Ot){if(Ot.element.tagName.toLowerCase()==="stop"){var Jt=at(Ot.element,x,"color"),_e=vt(at(Ot.element,x,"stop-color")||"",Jt?vt(Jt,null):j.contextColor),jt=parseFloat(at(Ot.element,x,"stop-opacity")||"1");Pt.push({offset:M.parseGradientOffset(Ot.element.getAttribute("offset")||"0"),color:[_e.r,_e.g,_e.b],opacity:jt})}}),this.stops=Pt},M.prototype.getBoundingBoxCore=function(x){return Qt(this.element,x)},M.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},M.prototype.isVisible=function(x,j){return ht(this,x,j)},M.parseGradientOffset=function(x){var j=parseFloat(x);return!isNaN(j)&&x.indexOf("%")>=0?j/100:j},M}(Le),N=function(z){function M(x,j){return z.call(this,"axial",x,j)||this}return l(M,z),M.prototype.getCoordinates=function(){return[parseFloat(this.element.getAttribute("x1")||"0"),parseFloat(this.element.getAttribute("y1")||"0"),parseFloat(this.element.getAttribute("x2")||"1"),parseFloat(this.element.getAttribute("y2")||"0")]},M}(K),R=function(z){function M(x,j){return z.call(this,"radial",x,j)||this}return l(M,z),M.prototype.getCoordinates=function(){var x=this.element.getAttribute("cx"),j=this.element.getAttribute("cy"),q=this.element.getAttribute("fx"),ct=this.element.getAttribute("fy");return[parseFloat(q||x||"0.5"),parseFloat(ct||j||"0.5"),0,parseFloat(x||"0.5"),parseFloat(j||"0.5"),parseFloat(this.element.getAttribute("r")||"0.5")]},M}(K),st=function(){function z(M,x){this.key=M,this.gradient=x}return z.prototype.getFillData=function(M,x){return e(this,void 0,void 0,function(){var j,q,ct;return r(this,function(Pt){switch(Pt.label){case 0:return[4,x.refsHandler.getRendered(this.key,null,function(Ot){return Ot.apply(new O(x.pdf,{refsHandler:x.refsHandler,textMeasure:x.textMeasure,styleSheets:x.styleSheets,viewport:x.viewport,svg2pdfParameters:x.svg2pdfParameters}))})];case 1:return Pt.sent(),this.gradient.element.hasAttribute("gradientUnits")&&this.gradient.element.getAttribute("gradientUnits").toLowerCase()!=="objectboundingbox"?j=x.pdf.unitMatrix:(q=M.getBoundingBox(x),j=x.pdf.Matrix(q[2],0,0,q[3],q[0],q[1])),ct=re(at(this.gradient.element,x.styleSheets,"gradientTransform","transform"),x),[2,{key:this.key,matrix:x.pdf.matrixMult(ct,j)}]}})})},z}(),ft=function(z){function M(){return z!==null&&z.apply(this,arguments)||this}return l(M,z),M.prototype.apply=function(x){return e(this,void 0,void 0,function(){var j,q,ct,Pt,Ot;return r(this,function(Jt){switch(Jt.label){case 0:if(!(j=this.element.getAttribute("id")))return[2];q=this.getBoundingBox(x),ct=new Se.c([q[0],q[1],q[0]+q[2],q[1]+q[3]],q[2],q[3]),x.pdf.beginTilingPattern(ct),Pt=0,Ot=this.children,Jt.label=1;case 1:return Pt<Ot.length?[4,Ot[Pt].render(new O(x.pdf,{attributeState:x.attributeState,refsHandler:x.refsHandler,styleSheets:x.styleSheets,viewport:x.viewport,svg2pdfParameters:x.svg2pdfParameters}))]:[3,4];case 2:Jt.sent(),Jt.label=3;case 3:return Pt++,[3,1];case 4:return x.pdf.endTilingPattern(j,ct),[2]}})})},M.prototype.getBoundingBoxCore=function(x){return Qt(this.element,x)},M.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},M.prototype.isVisible=function(x,j){return ht(this,x,j)},M}(Le),ee=function(){function z(M,x){this.key=M,this.pattern=x}return z.prototype.getFillData=function(M,x){return e(this,void 0,void 0,function(){var j,q,ct,Pt,Ot,Jt,_e,jt,Te,Ir,St,H;return r(this,function(G){switch(G.label){case 0:return[4,x.refsHandler.getRendered(this.key,null,function(dt){return dt.apply(new O(x.pdf,{refsHandler:x.refsHandler,textMeasure:x.textMeasure,styleSheets:x.styleSheets,viewport:x.viewport,svg2pdfParameters:x.svg2pdfParameters}))})];case 1:return G.sent(),j={key:this.key,boundingBox:void 0,xStep:0,yStep:0,matrix:void 0},ct=x.pdf.unitMatrix,this.pattern.element.hasAttribute("patternUnits")&&this.pattern.element.getAttribute("patternUnits").toLowerCase()!=="objectboundingbox"||(q=M.getBoundingBox(x),ct=x.pdf.Matrix(1,0,0,1,q[0],q[1]),Ot=this.pattern.getBoundingBox(x),Jt=Ot[0]*q[0]||0,_e=Ot[1]*q[1]||0,jt=Ot[2]*q[2]||0,Te=Ot[3]*q[3]||0,j.boundingBox=[Jt,_e,Jt+jt,_e+Te],j.xStep=jt,j.yStep=Te),Pt=x.pdf.unitMatrix,this.pattern.element.hasAttribute("patternContentUnits")&&this.pattern.element.getAttribute("patternContentUnits").toLowerCase()==="objectboundingbox"&&(q||(q=M.getBoundingBox(x)),Pt=x.pdf.Matrix(q[2],0,0,q[3],0,0),Ot=j.boundingBox||this.pattern.getBoundingBox(x),Jt=Ot[0]/q[0]||0,_e=Ot[1]/q[1]||0,jt=Ot[2]/q[2]||0,Te=Ot[3]/q[3]||0,j.boundingBox=[Jt,_e,Jt+jt,_e+Te],j.xStep=jt,j.yStep=Te),Ir=x.pdf.unitMatrix,(St=at(this.pattern.element,x.styleSheets,"patternTransform","transform"))&&(Ir=re(St,x)),H=Pt,H=x.pdf.matrixMult(H,ct),H=x.pdf.matrixMult(H,Ir),H=x.pdf.matrixMult(H,x.transform),j.matrix=H,[2,j]}})})},z}();function se(z,M){var x=d.exec(z);if(x){var j=x[1],q=M.refsHandler.get(j);return q&&(q instanceof N||q instanceof R)?function(Pt,Ot,Jt){var _e=Ot.getStops(Jt.styleSheets);if(_e.length===0)return null;if(_e.length===1){var jt=_e[0].color,Te=new n;return Te.ok=!0,Te.r=jt[0],Te.g=jt[1],Te.b=jt[2],Te.a=_e[0].opacity,new u(Te)}return new st(Pt,Ot)}(j,q,M):q&&q instanceof ft?new ee(j,q):new u(new n("rgb(0, 0, 0)"))}var ct=vt(z,M.attributeState.color);return ct.ok?new u(ct):null}function br(z,M,x){var j=x||M.element,q=at(j,z.styleSheets,"color");if(q){var ct=vt(q,z.attributeState.color);ct.ok?z.attributeState.color=ct:z.attributeState.color=new n("rgb(0,0,0)")}var Pt=at(j,z.styleSheets,"visibility");Pt&&(z.attributeState.visibility=Pt);var Ot=at(j,z.styleSheets,"fill");Ot&&(z.attributeState.fill=se(Ot,z));var Jt=at(j,z.styleSheets,"fill-opacity");Jt&&(z.attributeState.fillOpacity=parseFloat(Jt));var _e=at(j,z.styleSheets,"stroke-opacity");_e&&(z.attributeState.strokeOpacity=parseFloat(_e));var jt=at(j,z.styleSheets,"opacity");jt&&(z.attributeState.opacity=parseFloat(jt));var Te=at(j,z.styleSheets,"stroke-width");Te!==void 0&&Te!==""&&(z.attributeState.strokeWidth=Math.abs(parseFloat(Te)));var Ir=at(j,z.styleSheets,"stroke");if(Ir)if(Ir==="none")z.attributeState.stroke=null;else{var St=vt(Ir,z.attributeState.color);St.ok&&(z.attributeState.stroke=new u(St))}var H=at(j,z.styleSheets,"stroke-linecap");H&&(z.attributeState.strokeLinecap=H);var G=at(j,z.styleSheets,"stroke-linejoin");G&&(z.attributeState.strokeLinejoin=G);var dt=at(j,z.styleSheets,"stroke-dasharray");if(dt){var Ft=parseInt(at(j,z.styleSheets,"stroke-dashoffset")||"0");z.attributeState.strokeDasharray=Ct(dt),z.attributeState.strokeDashoffset=Ft}var Wt=at(j,z.styleSheets,"stroke-miterlimit");Wt!==void 0&&Wt!==""&&(z.attributeState.strokeMiterlimit=parseFloat(Wt));var ye=j.getAttribute("xml:space");ye&&(z.attributeState.xmlSpace=ye);var De=at(j,z.styleSheets,"font-weight");De&&(z.attributeState.fontWeight=De);var Ie=at(j,z.styleSheets,"font-style");Ie&&(z.attributeState.fontStyle=Ie);var Ee=at(j,z.styleSheets,"font-family");if(Ee){var ur=it.a.parse(Ee);z.attributeState.fontFamily=function(Jr,di,Hi){var Pi=ke(Jr.fontStyle,Jr.fontWeight),C=Hi.pdf.getFontList(),p="";return di.some(function(v){var y=C[v];return y&&y.indexOf(Pi)>=0?(p=v,!0):(v=v.toLowerCase(),!!de.hasOwnProperty(v)&&(p=v,!0))})||(p="times"),p}(z.attributeState,ur,z)}var nr=at(j,z.styleSheets,"font-size");if(nr){var ti=z.pdf.getFontSize();z.attributeState.fontSize=_t(nr,ti)}var Kr=at(j,z.styleSheets,"vertical-align")||at(j,z.styleSheets,"alignment-baseline");if(Kr){var Br=Kr.match(/(baseline|text-bottom|alphabetic|ideographic|middle|central|mathematical|text-top|bottom|center|top|hanging)/);Br&&(z.attributeState.alignmentBaseline=Br[0])}var mi=at(j,z.styleSheets,"text-anchor");mi&&(z.attributeState.textAnchor=mi)}function Rr(z,M,x){var j=1,q=1;j*=z.attributeState.fillOpacity,j*=z.attributeState.opacity,z.attributeState.fill instanceof u&&z.attributeState.fill.color.a!==void 0&&(j*=z.attributeState.fill.color.a),q*=z.attributeState.strokeOpacity,q*=z.attributeState.opacity,z.attributeState.stroke instanceof u&&z.attributeState.stroke.color.a!==void 0&&(q*=z.attributeState.stroke.color.a);var ct,Pt,Ot=j<1,Jt=q<1;if(Lr(x,"use")?(Ot=!0,Jt=!0,j*=z.attributeState.fill?1:0,q*=z.attributeState.stroke?1:0):z.withinUse&&(z.attributeState.fill!==M.attributeState.fill?(Ot=!0,j*=z.attributeState.fill?1:0):Ot&&!z.attributeState.fill&&(j=0),z.attributeState.stroke!==M.attributeState.stroke?(Jt=!0,q*=z.attributeState.stroke?1:0):Jt&&!z.attributeState.stroke&&(q=0)),Ot||Jt){var _e={};Ot&&(_e.opacity=j),Jt&&(_e["stroke-opacity"]=q),z.pdf.setGState(new Se.a(_e))}if(z.attributeState.fill&&z.attributeState.fill!==M.attributeState.fill&&z.attributeState.fill instanceof u&&z.attributeState.fill.color.ok&&!Lr(x,"text")&&z.pdf.setFillColor(z.attributeState.fill.color.r,z.attributeState.fill.color.g,z.attributeState.fill.color.b),z.attributeState.strokeWidth!==M.attributeState.strokeWidth&&z.pdf.setLineWidth(z.attributeState.strokeWidth),z.attributeState.stroke!==M.attributeState.stroke&&z.attributeState.stroke instanceof u&&z.pdf.setDrawColor(z.attributeState.stroke.color.r,z.attributeState.stroke.color.g,z.attributeState.stroke.color.b),z.attributeState.strokeLinecap!==M.attributeState.strokeLinecap&&z.pdf.setLineCap(z.attributeState.strokeLinecap),z.attributeState.strokeLinejoin!==M.attributeState.strokeLinejoin&&z.pdf.setLineJoin(z.attributeState.strokeLinejoin),z.attributeState.strokeDasharray===M.attributeState.strokeDasharray&&z.attributeState.strokeDashoffset===M.attributeState.strokeDashoffset||!z.attributeState.strokeDasharray||z.pdf.setLineDashPattern(z.attributeState.strokeDasharray,z.attributeState.strokeDashoffset),z.attributeState.strokeMiterlimit!==M.attributeState.strokeMiterlimit&&z.pdf.setLineMiterLimit(z.attributeState.strokeMiterlimit),z.attributeState.fontFamily!==M.attributeState.fontFamily&&(ct=de.hasOwnProperty(z.attributeState.fontFamily)?de[z.attributeState.fontFamily]:z.attributeState.fontFamily),z.attributeState.fill&&z.attributeState.fill!==M.attributeState.fill&&z.attributeState.fill instanceof u&&z.attributeState.fill.color.ok){var jt=z.attributeState.fill.color;z.pdf.setTextColor(jt.r,jt.g,jt.b)}z.attributeState.fontWeight===M.attributeState.fontWeight&&z.attributeState.fontStyle===M.attributeState.fontStyle||(Pt=ke(z.attributeState.fontStyle,z.attributeState.fontWeight)),ct===void 0&&Pt===void 0||(ct===void 0&&(ct=de.hasOwnProperty(z.attributeState.fontFamily)?de[z.attributeState.fontFamily]:z.attributeState.fontFamily),z.pdf.setFont(ct,Pt)),z.attributeState.fontSize!==M.attributeState.fontSize&&z.pdf.setFontSize(z.attributeState.fontSize*z.pdf.internal.scaleFactor)}function _r(z,M,x){var j=d.exec(z);if(j){var q=j[1];return x.refsHandler.get(q)||void 0}}function Er(z,M,x){return e(this,void 0,void 0,function(){var j,q;return r(this,function(ct){switch(ct.label){case 0:return j=x.clone(),M.element.hasAttribute("clipPathUnits")&&M.element.getAttribute("clipPathUnits").toLowerCase()==="objectboundingbox"&&(q=z.getBoundingBox(x),j.transform=x.pdf.matrixMult(x.pdf.Matrix(q[2],0,0,q[3],q[0],q[1]),x.transform)),[4,M.apply(j)];case 1:return ct.sent(),[2]}})})}var Nr=function(z){function M(){return z!==null&&z.apply(this,arguments)||this}return l(M,z),M.prototype.render=function(x){return e(this,void 0,void 0,function(){var j,q,ct,Pt;return r(this,function(Ot){switch(Ot.label){case 0:return this.isVisible(x.attributeState.visibility!=="hidden",x)?((j=x.clone()).transform=j.pdf.matrixMult(this.computeNodeTransform(j),x.transform),br(j,this),q=at(this.element,j.styleSheets,"clip-path"),(ct=q&&q!=="none")?(Pt=_r(q,0,j))?Pt.isVisible(!0,j)?(j.pdf.saveGraphicsState(),[4,Er(this,Pt,j)]):[3,2]:[3,4]:[3,5]):[2];case 1:return Ot.sent(),[3,3];case 2:return[2];case 3:return[3,5];case 4:ct=!1,Ot.label=5;case 5:return j.withinClipPath||j.pdf.saveGraphicsState(),Rr(j,x,this.element),[4,this.renderCore(j)];case 6:return Ot.sent(),j.withinClipPath||j.pdf.restoreGraphicsState(),ct&&j.pdf.restoreGraphicsState(),[2]}})})},M}(he),li=function(z){function M(){return z!==null&&z.apply(this,arguments)||this}return l(M,z),M}(Nr),Bi=function(z){function M(x,j,q){var ct=z.call(this,j,q)||this;return ct.cachedPath=null,ct.hasMarkers=x,ct}return l(M,z),M.prototype.renderCore=function(x){return e(this,void 0,void 0,function(){var j;return r(this,function(q){switch(q.label){case 0:return(j=this.getCachedPath(x))===null||j.segments.length===0?[2]:(x.withinClipPath?j.transform(x.transform):x.pdf.setCurrentTransformationMatrix(x.transform),j.draw(x),[4,this.fillOrStroke(x)]);case 1:return q.sent(),this.hasMarkers?[4,this.drawMarkers(x,j)]:[3,3];case 2:q.sent(),q.label=3;case 3:return[2]}})})},M.prototype.getCachedPath=function(x){return this.cachedPath||(this.cachedPath=this.getPath(x))},M.prototype.drawMarkers=function(x,j){return e(this,void 0,void 0,function(){return r(this,function(q){switch(q.label){case 0:return[4,this.getMarkers(j,x).draw(x.clone({transform:x.pdf.unitMatrix}))];case 1:return q.sent(),[2]}})})},M.prototype.fillOrStroke=function(x){return e(this,void 0,void 0,function(){var j,q,ct,Pt,Ot;return r(this,function(Jt){switch(Jt.label){case 0:return x.withinClipPath?[2]:(j=x.attributeState.fill,q=x.attributeState.stroke&&x.attributeState.strokeWidth!==0,j?[4,j.getFillData(this,x)]:[3,2]);case 1:return Pt=Jt.sent(),[3,3];case 2:Pt=void 0,Jt.label=3;case 3:return ct=Pt,Ot=at(this.element,x.styleSheets,"fill-rule")==="evenodd",j&&q||x.withinUse?Ot?x.pdf.fillStrokeEvenOdd(ct):x.pdf.fillStroke(ct):j?Ot?x.pdf.fillEvenOdd(ct):x.pdf.fill(ct):q?x.pdf.stroke():x.pdf.discardPath(),[2]}})})},M.prototype.getBoundingBoxCore=function(x){var j=this.getCachedPath(x);if(!j)return[0,0,0,0];for(var q=Number.POSITIVE_INFINITY,ct=Number.POSITIVE_INFINITY,Pt=Number.NEGATIVE_INFINITY,Ot=Number.NEGATIVE_INFINITY,Jt=0,_e=0,jt=0;jt<j.segments.length;jt++){var Te=j.segments[jt];(Te instanceof tr||Te instanceof We||Te instanceof vr)&&(Jt=Te.x,_e=Te.y),Te instanceof vr?(q=Math.min(q,Jt,Te.x1,Te.x2,Te.x),Pt=Math.max(Pt,Jt,Te.x1,Te.x2,Te.x),ct=Math.min(ct,_e,Te.y1,Te.y2,Te.y),Ot=Math.max(Ot,_e,Te.y1,Te.y2,Te.y)):(q=Math.min(q,Jt),Pt=Math.max(Pt,Jt),ct=Math.min(ct,_e),Ot=Math.max(Ot,_e))}return[q,ct,Pt-q,Ot-ct]},M.prototype.getMarkers=function(x,j){var q=at(this.element,j.styleSheets,"marker-start"),ct=at(this.element,j.styleSheets,"marker-mid"),Pt=at(this.element,j.styleSheets,"marker-end"),Ot=new Et;if(q||ct||Pt){Pt&&(Pt=Mi(Pt)),q&&(q=Mi(q)),ct&&(ct=Mi(ct));for(var Jt=x.segments,_e=[1,0],jt=void 0,Te=!1,Ir=[1,0],St=!1,H=function(Ft){var Wt=Jt[Ft],ye=q&&(Ft===1||!(Jt[Ft]instanceof tr)&&Jt[Ft-1]instanceof tr);ye&&Jt.forEach(function(ti,Kr){if(!St&&ti instanceof Or&&Kr>Ft){var Br=Jt[Kr-1];St=(Br instanceof tr||Br instanceof We||Br instanceof vr)&&Br}});var De=Pt&&(Ft===Jt.length-1||!(Jt[Ft]instanceof tr)&&Jt[Ft+1]instanceof tr),Ie=ct&&Ft>0&&!(Ft===1&&Jt[Ft-1]instanceof tr),Ee=Jt[Ft-1]||null;if(Ee instanceof tr||Ee instanceof We||Ee instanceof vr)if(Wt instanceof vr)ye&&Ot.addMarker(new te(q,[Ee.x,Ee.y],Z(St?[St.x,St.y]:[Ee.x,Ee.y],[Wt.x1,Wt.y1]))),De&&Ot.addMarker(new te(Pt,[Wt.x,Wt.y],Z([Wt.x2,Wt.y2],[Wt.x,Wt.y]))),Ie&&(jt=fe([Ee.x,Ee.y],[Wt.x1,Wt.y1]),jt=Ee instanceof tr?jt:Xt(Ue(_e,jt)),Ot.addMarker(new te(ct,[Ee.x,Ee.y],Math.atan2(jt[1],jt[0])))),_e=fe([Wt.x2,Wt.y2],[Wt.x,Wt.y]);else if(Wt instanceof tr||Wt instanceof We){if(jt=fe([Ee.x,Ee.y],[Wt.x,Wt.y]),ye){var ur=St?fe([St.x,St.y],[Wt.x,Wt.y]):jt;Ot.addMarker(new te(q,[Ee.x,Ee.y],Math.atan2(ur[1],ur[0])))}De&&Ot.addMarker(new te(Pt,[Wt.x,Wt.y],Math.atan2(jt[1],jt[0]))),Ie&&(ur=Wt instanceof tr?_e:Ee instanceof tr?jt:Xt(Ue(_e,jt)),Ot.addMarker(new te(ct,[Ee.x,Ee.y],Math.atan2(ur[1],ur[0])))),_e=jt}else Wt instanceof Or&&(jt=fe([Ee.x,Ee.y],[Te.x,Te.y]),Ie&&(ur=Ee instanceof tr?jt:Xt(Ue(_e,jt)),Ot.addMarker(new te(ct,[Ee.x,Ee.y],Math.atan2(ur[1],ur[0])))),De&&(ur=Xt(Ue(jt,Ir)),Ot.addMarker(new te(Pt,[Te.x,Te.y],Math.atan2(ur[1],ur[0])))),_e=jt);else{Te=Wt instanceof tr&&Wt;var nr=Jt[Ft+1];(nr instanceof tr||nr instanceof We||nr instanceof vr)&&(Ir=fe([Te.x,Te.y],[nr.x,nr.y]))}},G=0;G<Jt.length;G++)H(G)}return Ot},M}(li);function Mi(z){var M=d.exec(z);return M&&M[1]||void 0}var rn=function(z){function M(x,j){return z.call(this,!0,x,j)||this}return l(M,z),M.prototype.getPath=function(x){if(x.withinClipPath||x.attributeState.stroke===null)return null;var j=parseFloat(this.element.getAttribute("x1")||"0"),q=parseFloat(this.element.getAttribute("y1")||"0"),ct=parseFloat(this.element.getAttribute("x2")||"0"),Pt=parseFloat(this.element.getAttribute("y2")||"0");return j||ct||q||Pt?new fr().moveTo(j,q).lineTo(ct,Pt):null},M.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},M.prototype.isVisible=function(x,j){return ve(this,x,j)},M.prototype.fillOrStroke=function(x){return e(this,void 0,void 0,function(){return r(this,function(j){switch(j.label){case 0:return x.attributeState.fill=null,[4,z.prototype.fillOrStroke.call(this,x)];case 1:return j.sent(),[2]}})})},M}(Bi),nn=function(z){function M(){return z!==null&&z.apply(this,arguments)||this}return l(M,z),M.prototype.apply=function(x){return e(this,void 0,void 0,function(){var j,q,ct,Pt,Ot;return r(this,function(Jt){switch(Jt.label){case 0:return this.isVisible(x.attributeState.visibility!=="hidden",x)?((j=x.clone()).transform=j.pdf.unitMatrix,br(j,this),q=at(this.element,j.styleSheets,"clip-path"),q&&q!=="none"&&(ct=_r(q,0,j))?ct.isVisible(!0,j)?[4,Er(this,ct,j)]:[3,2]:[3,3]):[2];case 1:return Jt.sent(),[3,3];case 2:return[2];case 3:Rr(j,x,this.element),Pt=0,Ot=this.children,Jt.label=4;case 4:return Pt<Ot.length?[4,Ot[Pt].render(j)]:[3,7];case 5:Jt.sent(),Jt.label=6;case 6:return Pt++,[3,4];case 7:return[2]}})})},M.prototype.getBoundingBoxCore=function(x){return pe(x,this)},M.prototype.isVisible=function(x,j){return ht(this,x,j)},M.prototype.computeNodeTransformCore=function(x){var j=parseFloat(at(this.element,x.styleSheets,"x")||"0"),q=parseFloat(at(this.element,x.styleSheets,"y")||"0"),ct=this.element.getAttribute("viewBox");if(ct){var Pt=Ct(ct),Ot=parseFloat(at(this.element,x.styleSheets,"width")||at(this.element.ownerSVGElement,x.styleSheets,"width")||ct[2]),Jt=parseFloat(at(this.element,x.styleSheets,"height")||at(this.element.ownerSVGElement,x.styleSheets,"height")||ct[3]);return It(this.element,Pt,j,q,Ot,Jt,x)}return x.pdf.Matrix(1,0,0,1,j,q)},M}(Le),Ti=function(M,x){this.width=M,this.height=x},fn=function(z){function M(){return z!==null&&z.apply(this,arguments)||this}return l(M,z),M.prototype.renderCore=function(x){return e(this,void 0,void 0,function(){var j,q,ct,Pt,Ot,Jt,_e,jt,Te,Ir,St,H,G;return r(this,function(dt){switch(dt.label){case 0:return j=parseFloat,(q=this.element.getAttribute("href")||this.element.getAttribute("xlink:href"))?(ct=q.substring(1),Pt=x.refsHandler.get(ct),Ot=Lr(Pt.element,"symbol,svg")&&Pt.element.hasAttribute("viewBox"),Jt=j(at(this.element,x.styleSheets,"x")||"0"),_e=j(at(this.element,x.styleSheets,"y")||"0"),jt=void 0,Te=void 0,Ot?(jt=j(at(this.element,x.styleSheets,"width")||at(Pt.element,x.styleSheets,"width")||"0"),Te=j(at(this.element,x.styleSheets,"height")||at(Pt.element,x.styleSheets,"height")||"0"),Jt+=j(at(Pt.element,x.styleSheets,"x")||"0"),_e+=j(at(Pt.element,x.styleSheets,"y")||"0"),St=Ct(Pt.element.getAttribute("viewBox")),Ir=It(Pt.element,St,Jt,_e,jt,Te,x)):Ir=x.pdf.Matrix(1,0,0,1,Jt,_e),H=new O(x.pdf,{refsHandler:x.refsHandler,styleSheets:x.styleSheets,withinUse:!0,viewport:Ot?new Ti(jt,Te):x.viewport,svg2pdfParameters:x.svg2pdfParameters}),G=x.attributeState.color,[4,x.refsHandler.getRendered(ct,G,function(Ft){return M.renderReferencedNode(Ft,ct,G,H)})]):[2];case 1:return dt.sent(),x.pdf.saveGraphicsState(),x.pdf.setCurrentTransformationMatrix(x.transform),Ot&&at(Pt.element,x.styleSheets,"overflow")!=="visible"&&(x.pdf.rect(Jt,_e,jt,Te),x.pdf.clip().discardPath()),x.pdf.doFormObject(x.refsHandler.generateKey(ct,G),Ir),x.pdf.restoreGraphicsState(),[2]}})})},M.renderReferencedNode=function(x,j,q,ct){return e(this,void 0,void 0,function(){var Pt;return r(this,function(Ot){switch(Ot.label){case 0:return Pt=[(Pt=x.getBoundingBox(ct))[0]-.5*Pt[2],Pt[1]-.5*Pt[3],2*Pt[2],2*Pt[3]],ct.attributeState.color=q,ct.pdf.beginFormObject(Pt[0],Pt[1],Pt[2],Pt[3],ct.pdf.unitMatrix),x instanceof nn?[4,x.apply(ct)]:[3,2];case 1:return Ot.sent(),[3,4];case 2:return[4,x.render(ct)];case 3:Ot.sent(),Ot.label=4;case 4:return ct.pdf.endFormObject(ct.refsHandler.generateKey(j,q)),[2]}})})},M.prototype.getBoundingBoxCore=function(x){return Qt(this.element,x)},M.prototype.isVisible=function(x,j){return ve(this,x,j)},M.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},M}(li),Yn=function(z){function M(x,j){return z.call(this,!1,x,j)||this}return l(M,z),M.prototype.getPath=function(x){var j=parseFloat(at(this.element,x.styleSheets,"width")||"0"),q=parseFloat(at(this.element,x.styleSheets,"height")||"0");if(!isFinite(j)||j<=0||!isFinite(q)||q<=0)return null;var ct=at(this.element,x.styleSheets,"rx"),Pt=at(this.element,x.styleSheets,"ry"),Ot=Math.min(parseFloat(ct||Pt||"0"),.5*j),Jt=Math.min(parseFloat(Pt||ct||"0"),.5*q),_e=parseFloat(at(this.element,x.styleSheets,"x")||"0"),jt=parseFloat(at(this.element,x.styleSheets,"y")||"0"),Te=4/3*(Math.SQRT2-1);return Ot===0&&Jt===0?new fr().moveTo(_e,jt).lineTo(_e+j,jt).lineTo(_e+j,jt+q).lineTo(_e,jt+q).close():new fr().moveTo(_e+=Ot,jt).lineTo(_e+=j-2*Ot,jt).curveTo(_e+Ot*Te,jt,_e+Ot,jt+(Jt-Jt*Te),_e+=Ot,jt+=Jt).lineTo(_e,jt+=q-2*Jt).curveTo(_e,jt+Jt*Te,_e-Ot*Te,jt+Jt,_e-=Ot,jt+=Jt).lineTo(_e+=2*Ot-j,jt).curveTo(_e-Ot*Te,jt,_e-Ot,jt-Jt*Te,_e-=Ot,jt-=Jt).lineTo(_e,jt+=2*Jt-q).curveTo(_e,jt-Jt*Te,_e+Ot*Te,jt-Jt,_e+=Ot,jt-=Jt).close()},M.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},M.prototype.isVisible=function(x,j){return ve(this,x,j)},M}(Bi),Xn=function(z){function M(x,j){return z.call(this,!1,x,j)||this}return l(M,z),M.prototype.getPath=function(x){var j=this.getRx(x),q=this.getRy(x);if(!isFinite(j)||q<=0||!isFinite(q)||q<=0)return null;var ct=parseFloat(at(this.element,x.styleSheets,"cx")||"0"),Pt=parseFloat(at(this.element,x.styleSheets,"cy")||"0"),Ot=4/3*(Math.SQRT2-1)*j,Jt=4/3*(Math.SQRT2-1)*q;return new fr().moveTo(ct+j,Pt).curveTo(ct+j,Pt-Jt,ct+Ot,Pt-q,ct,Pt-q).curveTo(ct-Ot,Pt-q,ct-j,Pt-Jt,ct-j,Pt).curveTo(ct-j,Pt+Jt,ct-Ot,Pt+q,ct,Pt+q).curveTo(ct+Ot,Pt+q,ct+j,Pt+Jt,ct+j,Pt)},M.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},M.prototype.isVisible=function(x,j){return ve(this,x,j)},M}(Bi),ra=function(z){function M(x,j){return z.call(this,x,j)||this}return l(M,z),M.prototype.getRx=function(x){return parseFloat(at(this.element,x.styleSheets,"rx")||"0")},M.prototype.getRy=function(x){return parseFloat(at(this.element,x.styleSheets,"ry")||"0")},M}(Xn);function $i(z){var M="invisible";return z.fill&&z.stroke?M="fillThenStroke":z.fill?M="fill":z.stroke&&(M="stroke"),M}function Da(z){return z.replace(/[\n\r]/g,"")}function Fr(z){return z.replace(/[\t]/g," ")}function ia(z){return z.replace(/ +/g," ")}function Ds(z,M,x){switch(at(z,x.styleSheets,"text-transform")){case"uppercase":return M.toUpperCase();case"lowercase":return M.toLowerCase();default:return M}}var $a=function(){function z(M,x,j,q){this.textNode=M,this.texts=[],this.textNodes=[],this.contexts=[],this.textAnchor=x,this.originX=j,this.originY=q,this.textMeasures=[]}return z.prototype.setX=function(M){this.originX=M},z.prototype.setY=function(M){this.originY=M},z.prototype.add=function(M,x,j){this.texts.push(x),this.textNodes.push(M),this.contexts.push(j)},z.prototype.rightTrimText=function(){for(var M=this.texts.length-1;M>=0;M--)if(this.contexts[M].attributeState.xmlSpace==="default"&&(this.texts[M]=this.texts[M].replace(/\s+$/,"")),this.texts[M].match(/[^\s]/))return!1;return!0},z.prototype.measureText=function(M){for(var x=0;x<this.texts.length;x++)this.textMeasures.push({width:M.textMeasure.measureTextWidth(this.texts[x],this.contexts[x].attributeState),length:this.texts[x].length})},z.prototype.put=function(M,x){var j,q,ct,Pt,Ot=[],Jt=[],_e=[],jt=this.originX,Te=this.originY,Ir=jt,St=jt;for(j=0;j<this.textNodes.length;j++){q=this.textNodes[j],ct=this.contexts[j],Pt=this.textMeasures[j]||{width:M.textMeasure.measureTextWidth(this.texts[j],this.contexts[j].attributeState),length:this.texts[j].length};var H=jt,G=Te;if(q.nodeName!=="#text"&&!Ot.includes(q)){Ot.push(q);var dt=q.getAttribute("dx");dt!==null&&(H+=_t(dt,ct.attributeState.fontSize));var Ft=q.getAttribute("dy");Ft!==null&&(G+=_t(Ft,ct.attributeState.fontSize))}Jt[j]=H,_e[j]=G,jt=H+Pt.width+Pt.length*x,Te=G,Ir=Math.min(Ir,H),St=Math.max(St,jt)}var Wt=0;switch(this.textAnchor){case"start":Wt=0;break;case"middle":Wt=(St-Ir)/2;break;case"end":Wt=St-Ir}for(j=0;j<this.textNodes.length;j++)if(q=this.textNodes[j],ct=this.contexts[j],q.nodeName==="#text"||ct.attributeState.visibility!=="hidden"){M.pdf.saveGraphicsState(),Rr(ct,M,q);var ye=ct.attributeState.alignmentBaseline,De=$i(ct.attributeState);M.pdf.text(this.texts[j],Jt[j]-Wt,_e[j],{baseline:xt(ye),angle:M.transform,renderingMode:De==="fill"?void 0:De,charSpace:x===0?void 0:x}),M.pdf.restoreGraphicsState()}return[jt,Te]},z}(),Is=function(z){function M(){return z!==null&&z.apply(this,arguments)||this}return l(M,z),M.prototype.processTSpans=function(x,j,q,ct,Pt,Ot){for(var Jt=q.pdf.getFontSize(),_e=q.attributeState.xmlSpace,jt=!0,Te=!1,Ir=0;Ir<j.childNodes.length;Ir++){var St=j.childNodes[Ir];if(St.textContent){var H=St.textContent;if(St.nodeName==="#text"){var G=Da(H);G=Fr(G),_e==="default"&&(G=ia(G),jt&&G.match(/^\s/)&&(Te=!0),G.match(/[^\s]/)&&(jt=!1),Ot.prevText.match(/\s$/)&&(G=G.replace(/^\s+/,"")));var dt=Ds(j,G,q);Pt.add(j,dt,q),Ot.prevText=H,Ot.prevContext=q}else if(!Lr(St,"title")){if(Lr(St,"tspan")){var Ft=St,Wt=Ft.getAttribute("x");if(Wt!==null){var ye=_t(Wt,Jt);Pt=new $a(this,at(Ft,q.styleSheets,"text-anchor")||q.attributeState.textAnchor,ye,0),ct.push({type:"y",chunk:Pt})}var De=Ft.getAttribute("y");if(De!==null){var Ie=_t(De,Jt);Pt=new $a(this,at(Ft,q.styleSheets,"text-anchor")||q.attributeState.textAnchor,0,Ie),ct.push({type:"x",chunk:Pt})}var Ee=q.clone();br(Ee,x,Ft),this.processTSpans(x,Ft,Ee,ct,Pt,Ot)}}}}return Te},M.prototype.renderCore=function(x){return e(this,void 0,void 0,function(){var j,q,ct,Pt,Ot,Jt,_e,jt,Te,Ir,St,H,G,dt,Ft,Wt,ye,De,Ie,Ee,ur,nr,ti;return r(this,function(Kr){if(x.pdf.saveGraphicsState(),j=0,q=0,ct=1,Pt=x.pdf.getFontSize(),Ot=_t(this.element.getAttribute("x"),Pt),Jt=_t(this.element.getAttribute("y"),Pt),_e=_t(this.element.getAttribute("dx"),Pt),jt=_t(this.element.getAttribute("dy"),Pt),Te=parseFloat(this.element.getAttribute("textLength")||"0"),Ir=x.attributeState.visibility,this.element.childElementCount===0)St=this.element.textContent||"",H=function(Br,mi){return Br=Fr(Br=Da(Br)),mi.xmlSpace==="default"&&(Br=ia(Br=Br.trim())),Br}(St,x.attributeState),G=Ds(this.element,H,x),j=x.textMeasure.getTextOffset(G,x.attributeState),Te>0&&(dt=x.textMeasure.measureTextWidth(G,x.attributeState),x.attributeState.xmlSpace==="default"&&St.match(/^\s/)&&(ct=0),q=(Te-dt)/(G.length-ct)||0),Ir==="visible"&&(Ft=x.attributeState.alignmentBaseline,Wt=$i(x.attributeState),x.pdf.text(G,Ot+_e-j,Jt+jt,{baseline:xt(Ft),angle:x.transform,renderingMode:Wt==="fill"?void 0:Wt,charSpace:q===0?void 0:q}));else{for(ye=[],De=new $a(this,x.attributeState.textAnchor,Ot+_e,Jt+jt),ye.push({type:"",chunk:De}),Ie=this.processTSpans(this,this.element,x,ye,De,{prevText:" ",prevContext:x}),ct=Ie?0:1,Ee=!0,ur=ye.length-1;ur>=0;ur--)Ee&&(Ee=ye[ur].chunk.rightTrimText());Te>0&&(nr=0,ti=0,ye.forEach(function(Br){var mi=Br.chunk;mi.measureText(x),mi.textMeasures.forEach(function(Jr){var di=Jr.width,Hi=Jr.length;nr+=di,ti+=Hi})}),q=(Te-nr)/(ti-ct)),ye.reduce(function(Br,mi){var Jr=mi.type,di=mi.chunk;return Jr==="x"?di.setX(Br[0]):Jr==="y"&&di.setY(Br[1]),di.put(x,q)},[0,0])}return x.pdf.restoreGraphicsState(),[2]})})},M.prototype.isVisible=function(x,j){return ht(this,x,j)},M.prototype.getBoundingBoxCore=function(x){return Qt(this.element,x)},M.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},M}(li),gs=function(z){function M(x,j){return z.call(this,!0,x,j)||this}return l(M,z),M.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},M.prototype.isVisible=function(x,j){return ve(this,x,j)},M.prototype.getPath=function(x){var j,q,ct=new Tt.a(at(this.element,x.styleSheets,"d")||"").unshort().unarc().abs(),Pt=new fr;return ct.iterate(function(Ot){var Jt=Ot[0];switch(Jt){case"M":Pt.moveTo(Ot[1],Ot[2]);break;case"L":Pt.lineTo(Ot[1],Ot[2]);break;case"H":Pt.lineTo(Ot[1],q);break;case"V":Pt.lineTo(j,Ot[1]);break;case"C":Pt.curveTo(Ot[1],Ot[2],Ot[3],Ot[4],Ot[5],Ot[6]);break;case"Q":var _e=mt([j,q],[Ot[1],Ot[2]]),jt=mt([Ot[3],Ot[4]],[Ot[1],Ot[2]]);Pt.curveTo(_e[0],_e[1],jt[0],jt[1],Ot[3],Ot[4]);break;case"Z":Pt.close()}switch(Jt){case"M":case"L":j=Ot[1],q=Ot[2];break;case"H":j=Ot[1];break;case"V":q=Ot[1];break;case"C":j=Ot[5],q=Ot[6];break;case"Q":j=Ot[3],q=Ot[4]}}),Pt},M}(Bi),na=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*\s*)$/i,Rs=function(z){function M(x,j){var q=z.call(this,x,j)||this;return q.imageLoadingPromise=null,q.imageUrl=q.element.getAttribute("xlink:href")||q.element.getAttribute("href"),q.imageUrl&&(q.imageLoadingPromise=M.fetchImageData(q.imageUrl)),q}return l(M,z),M.prototype.renderCore=function(x){return e(this,void 0,void 0,function(){var j,q,ct,Pt,Ot,Jt,_e,jt,Te,Ir,St,H;return r(this,function(G){switch(G.label){case 0:return this.imageLoadingPromise?(x.pdf.setCurrentTransformationMatrix(x.transform),j=parseFloat(at(this.element,x.styleSheets,"width")||"0"),q=parseFloat(at(this.element,x.styleSheets,"height")||"0"),ct=parseFloat(at(this.element,x.styleSheets,"x")||"0"),Pt=parseFloat(at(this.element,x.styleSheets,"y")||"0"),!isFinite(j)||j<=0||!isFinite(q)||q<=0?[2]:[4,this.imageLoadingPromise]):[2];case 1:return Ot=G.sent(),Jt=Ot.data,(_e=Ot.format).indexOf("svg")!==0?[3,3]:(jt=new DOMParser,Te=jt.parseFromString(Jt,"image/svg+xml").firstElementChild,(!(Ir=this.element.getAttribute("preserveAspectRatio"))||Ir.indexOf("defer")<0||!Te.getAttribute("preserveAspectRatio"))&&Te.setAttribute("preserveAspectRatio",Ir||""),Te.setAttribute("x",String(ct)),Te.setAttribute("y",String(Pt)),Te.setAttribute("width",String(j)),Te.setAttribute("height",String(q)),[4,sa(Te,St={}).render(new O(x.pdf,{refsHandler:new Y(St),styleSheets:x.styleSheets,viewport:new Ti(j,q),svg2pdfParameters:x.svg2pdfParameters}))]);case 2:return G.sent(),[2];case 3:H="data:image/"+_e+";base64,"+btoa(Jt);try{x.pdf.addImage(H,"",ct,Pt,j,q)}catch(dt){typeof console=="object"&&console.warn&&console.warn("Could not load image "+this.imageUrl+`.
`+dt)}G.label=4;case 4:return[2]}})})},M.prototype.getBoundingBoxCore=function(x){return Qt(this.element,x)},M.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},M.prototype.isVisible=function(x,j){return ve(this,x,j)},M.fetchImageData=function(x){return e(this,void 0,void 0,function(){var j,q,ct,Pt,Ot;return r(this,function(Jt){switch(Jt.label){case 0:if(!(ct=x.match(na)))return[3,1];if(Pt=ct[2],(Ot=Pt.split("/"))[0]!=="image")throw new Error("Unsupported image URL: "+x);return q=Ot[1],j=ct[5],j=ct[4]==="base64"?atob(j):decodeURIComponent(j),[3,3];case 1:return[4,M.fetchImage(x)];case 2:j=Jt.sent(),q=x.substring(x.lastIndexOf(".")+1),Jt.label=3;case 3:return[2,{data:j,format:q}]}})})},M.fetchImage=function(x){return new Promise(function(j,q){var ct=new XMLHttpRequest;ct.open("GET",x,!0),ct.responseType="arraybuffer",ct.onload=function(){if(ct.status!==200)throw new Error("Error "+ct.status+": Failed to load image '"+x+"'");for(var Pt=new Uint8Array(ct.response),Ot="",Jt=0;Jt<Pt.length;Jt++)Ot+=String.fromCharCode(Pt[Jt]);j(Ot)},ct.onerror=q,ct.onabort=q,ct.send(null)})},M.getMimeType=function(x){switch(x=x.toLowerCase()){case"jpg":case"jpeg":return"image/jpeg";default:return"image/"+x}},M}(li),Bs=function(z){function M(x,j,q){var ct=z.call(this,!0,j,q)||this;return ct.closed=x,ct}return l(M,z),M.prototype.getPath=function(x){if(!this.element.hasAttribute("points")||this.element.getAttribute("points")==="")return null;var j=M.parsePointsString(this.element.getAttribute("points")),q=new fr;if(j.length<1)return q;q.moveTo(j[0][0],j[0][1]);for(var ct=1;ct<j.length;ct++)q.lineTo(j[ct][0],j[ct][1]);return this.closed&&q.close(),q},M.prototype.isVisible=function(x,j){return ve(this,x,j)},M.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},M.parsePointsString=function(x){for(var j=Ct(x),q=[],ct=0;ct<j.length-1;ct+=2){var Pt=j[ct],Ot=j[ct+1];q.push([Pt,Ot])}return q},M}(Bi),Ia=function(z){function M(x,j){return z.call(this,!0,x,j)||this}return l(M,z),M}(Bs),aa=function(z){function M(){return z!==null&&z.apply(this,arguments)||this}return l(M,z),M.prototype.render=function(x){return Promise.resolve()},M.prototype.getBoundingBoxCore=function(x){return[0,0,0,0]},M.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},M.prototype.isVisible=function(x,j){return ve(this,x,j)},M}(he),js=function(z){function M(){return z!==null&&z.apply(this,arguments)||this}return l(M,z),M.prototype.apply=function(x){return e(this,void 0,void 0,function(){var j,q,ct,Pt,Ot;return r(this,function(Jt){switch(Jt.label){case 0:j=this.computeNodeTransform(x),q=this.getBoundingBox(x),x.pdf.beginFormObject(q[0],q[1],q[2],q[3],j),function(_e){var jt=_e.attributeState,Te=_e.pdf,Ir=1,St=1;Ir*=jt.fillOpacity,Ir*=jt.opacity,jt.fill instanceof u&&jt.fill.color.a!==void 0&&(Ir*=jt.fill.color.a),St*=jt.strokeOpacity,St*=jt.opacity,jt.stroke instanceof u&&jt.stroke.color.a!==void 0&&(St*=jt.stroke.color.a);var H,G={};if(G.opacity=Ir,G["stroke-opacity"]=St,Te.setGState(new Se.a(G)),jt.fill&&jt.fill instanceof u&&jt.fill.color.ok?Te.setFillColor(jt.fill.color.r,jt.fill.color.g,jt.fill.color.b):Te.setFillColor(0,0,0),Te.setLineWidth(jt.strokeWidth),jt.stroke instanceof u?Te.setDrawColor(jt.stroke.color.r,jt.stroke.color.g,jt.stroke.color.b):Te.setDrawColor(0,0,0),Te.setLineCap(jt.strokeLinecap),Te.setLineJoin(jt.strokeLinejoin),jt.strokeDasharray?Te.setLineDashPattern(jt.strokeDasharray,jt.strokeDashoffset):Te.setLineDashPattern([],0),Te.setLineMiterLimit(jt.strokeMiterlimit),H=de.hasOwnProperty(jt.fontFamily)?de[jt.fontFamily]:jt.fontFamily,jt.fill&&jt.fill instanceof u&&jt.fill.color.ok){var dt=jt.fill.color;Te.setTextColor(dt.r,dt.g,dt.b)}else Te.setTextColor(0,0,0);var Ft="";jt.fontWeight==="bold"&&(Ft="bold"),jt.fontStyle==="italic"&&(Ft+="italic"),Ft===""&&(Ft="normal"),H!==void 0||Ft!==void 0?(H===void 0&&(H=de.hasOwnProperty(jt.fontFamily)?de[jt.fontFamily]:jt.fontFamily),Te.setFont(H,Ft)):Te.setFont("helvetica",Ft),Te.setFontSize(jt.fontSize*Te.internal.scaleFactor)}(ct=new O(x.pdf,{refsHandler:x.refsHandler,styleSheets:x.styleSheets,viewport:x.viewport,svg2pdfParameters:x.svg2pdfParameters})),Pt=0,Ot=this.children,Jt.label=1;case 1:return Pt<Ot.length?[4,Ot[Pt].render(ct)]:[3,4];case 2:Jt.sent(),Jt.label=3;case 3:return Pt++,[3,1];case 4:return x.pdf.endFormObject(this.element.getAttribute("id")),[2]}})})},M.prototype.getBoundingBoxCore=function(x){var j,q=this.element.getAttribute("viewBox");return q&&(j=Ct(q)),[j&&j[0]||0,j&&j[1]||0,j&&j[2]||parseFloat(this.element.getAttribute("markerWidth")||"3"),j&&j[3]||parseFloat(this.element.getAttribute("markerHeight")||"3")]},M.prototype.computeNodeTransformCore=function(x){var j,q=parseFloat(this.element.getAttribute("refX")||"0"),ct=parseFloat(this.element.getAttribute("refY")||"0"),Pt=this.element.getAttribute("viewBox");if(Pt){var Ot=Ct(Pt);j=It(this.element,Ot,0,0,parseFloat(this.element.getAttribute("markerWidth")||"3"),parseFloat(this.element.getAttribute("markerHeight")||"3"),x,!0),j=x.pdf.matrixMult(x.pdf.Matrix(1,0,0,1,-q,-ct),j)}else j=x.pdf.Matrix(1,0,0,1,-q,-ct);return j},M.prototype.isVisible=function(x,j){return ht(this,x,j)},M}(Le),Ra=function(z){function M(x,j){return z.call(this,x,j)||this}return l(M,z),M.prototype.getR=function(x){var j;return(j=this.r)!==null&&j!==void 0?j:this.r=parseFloat(at(this.element,x.styleSheets,"r")||"0")},M.prototype.getRx=function(x){return this.getR(x)},M.prototype.getRy=function(x){return this.getR(x)},M}(Xn),Vn=function(z){function M(x,j){return z.call(this,!1,x,j)||this}return l(M,z),M}(Bs),Za=function(z){function M(){return z!==null&&z.apply(this,arguments)||this}return l(M,z),M.prototype.renderCore=function(x){return e(this,void 0,void 0,function(){var j,q;return r(this,function(ct){switch(ct.label){case 0:j=0,q=this.children,ct.label=1;case 1:return j<q.length?[4,q[j].render(x)]:[3,4];case 2:ct.sent(),ct.label=3;case 3:return j++,[3,1];case 4:return[2]}})})},M.prototype.getBoundingBoxCore=function(x){return pe(x,this)},M}(Nr),Us=function(z){function M(){return z!==null&&z.apply(this,arguments)||this}return l(M,z),M.prototype.isVisible=function(x,j){return ht(this,x,j)},M.prototype.render=function(x){return e(this,void 0,void 0,function(){var j,q,ct,Pt,Ot;return r(this,function(Jt){switch(Jt.label){case 0:return this.isVisible(x.attributeState.visibility!=="hidden",x)?(j=this.getX(x),q=this.getY(x),ct=this.getWidth(x),Pt=this.getHeight(x),x.pdf.saveGraphicsState(),Ot=x.transform,this.element.hasAttribute("transform")&&(Ot=x.pdf.matrixMult(re(this.element.getAttribute("transform"),x),Ot)),x.pdf.setCurrentTransformationMatrix(Ot),x.withinUse||at(this.element,x.styleSheets,"overflow")==="visible"||x.pdf.rect(j,q,ct,Pt).clip().discardPath(),[4,z.prototype.render.call(this,x.clone({transform:x.pdf.unitMatrix,viewport:x.withinUse?x.viewport:new Ti(ct,Pt)}))]):[2];case 1:return Jt.sent(),x.pdf.restoreGraphicsState(),[2]}})})},M.prototype.computeNodeTransform=function(x){return this.computeNodeTransformCore(x)},M.prototype.computeNodeTransformCore=function(x){if(x.withinUse)return x.pdf.unitMatrix;var j,q=this.getX(x),ct=this.getY(x),Pt=this.getViewBox();if(Pt){var Ot=this.getWidth(x),Jt=this.getHeight(x);j=It(this.element,Pt,q,ct,Ot,Jt,x)}else j=x.pdf.Matrix(1,0,0,1,q,ct);return j},M.prototype.getWidth=function(x){if(this.width!==void 0)return this.width;var j,q,ct=x.svg2pdfParameters;if(this.isOutermostSvg(x))if(ct.width!=null)j=ct.width;else if(q=at(this.element,x.styleSheets,"width"))j=parseFloat(q);else{var Pt=this.getViewBox();if(Pt&&(ct.height!=null||at(this.element,x.styleSheets,"height"))){var Ot=Pt[2]/Pt[3];j=this.getHeight(x)*Ot}else j=Math.min(300,x.viewport.width,2*x.viewport.height)}else j=(q=at(this.element,x.styleSheets,"width"))?parseFloat(q):x.viewport.width;return this.width=j},M.prototype.getHeight=function(x){if(this.height!==void 0)return this.height;var j,q,ct=x.svg2pdfParameters;if(this.isOutermostSvg(x))if(ct.height!=null)j=ct.height;else if(q=at(this.element,x.styleSheets,"height"))j=parseFloat(q);else{var Pt=this.getViewBox();if(Pt){var Ot=Pt[2]/Pt[3];j=this.getWidth(x)/Ot}else j=Math.min(150,x.viewport.width/2,x.viewport.height)}else j=(q=at(this.element,x.styleSheets,"height"))?parseFloat(q):x.viewport.height;return this.height=j},M.prototype.getX=function(x){if(this.x!==void 0)return this.x;if(this.isOutermostSvg(x))return this.x=0;var j=at(this.element,x.styleSheets,"x");return this.x=j?parseFloat(j):0},M.prototype.getY=function(x){if(this.y!==void 0)return this.y;if(this.isOutermostSvg(x))return this.y=0;var j=at(this.element,x.styleSheets,"y");return this.y=j?parseFloat(j):0},M.prototype.getViewBox=function(){if(this.viewBox!==void 0)return this.viewBox;var x=this.element.getAttribute("viewBox");return this.viewBox=x?Ct(x):void 0},M.prototype.isOutermostSvg=function(x){return x.svg2pdfParameters.element===this.element},M}(Za),zs=function(z){function M(){return z!==null&&z.apply(this,arguments)||this}return l(M,z),M.prototype.isVisible=function(x,j){return ht(this,x,j)},M.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},M}(Za),Qa=function(z){function M(){return z!==null&&z.apply(this,arguments)||this}return l(M,z),M.prototype.apply=function(x){return e(this,void 0,void 0,function(){var j,q,ct;return r(this,function(Pt){switch(Pt.label){case 0:if(!this.isVisible(!0,x))return[2];j=x.pdf.matrixMult(this.computeNodeTransform(x),x.transform),x.pdf.setCurrentTransformationMatrix(j),q=0,ct=this.children,Pt.label=1;case 1:return q<ct.length?[4,ct[q].render(new O(x.pdf,{refsHandler:x.refsHandler,styleSheets:x.styleSheets,viewport:x.viewport,withinClipPath:!0,svg2pdfParameters:x.svg2pdfParameters}))]:[3,4];case 2:Pt.sent(),Pt.label=3;case 3:return q++,[3,1];case 4:return x.pdf.clip().discardPath(),x.pdf.setCurrentTransformationMatrix(j.inversed()),[2]}})})},M.prototype.getBoundingBoxCore=function(x){return pe(x,this)},M.prototype.isVisible=function(x,j){return ht(this,x,j)},M}(Le);function sa(z,M){var x,j=[];switch(function(ct,Pt){for(var Ot=[],Jt=0;Jt<ct.childNodes.length;Jt++){var _e=ct.childNodes[Jt];_e.nodeName.charAt(0)!=="#"&&Ot.push(_e)}for(Jt=0;Jt<Ot.length;Jt++)Pt(Jt,Ot[Jt])}(z,function(ct,Pt){return j.push(sa(Pt,M))}),z.tagName.toLowerCase()){case"a":case"g":x=new zs(z,j);break;case"circle":x=new Ra(z,j);break;case"clippath":x=new Qa(z,j);break;case"ellipse":x=new ra(z,j);break;case"lineargradient":x=new N(z,j);break;case"image":x=new Rs(z,j);break;case"line":x=new rn(z,j);break;case"marker":x=new js(z,j);break;case"path":x=new gs(z,j);break;case"pattern":x=new ft(z,j);break;case"polygon":x=new Ia(z,j);break;case"polyline":x=new Vn(z,j);break;case"radialgradient":x=new R(z,j);break;case"rect":x=new Yn(z,j);break;case"svg":x=new Us(z,j);break;case"symbol":x=new nn(z,j);break;case"text":x=new Is(z,j);break;case"use":x=new fn(z,j);break;default:x=new aa(z,j)}if(M!=null&&x.element.hasAttribute("id")){var q=P()(x.element.id,{isIdentifier:!0});M[q]=M[q]||x}return x.children.forEach(function(ct){return ct.setParent(x)}),x}var vs=function(){function z(M,x){this.rootSvg=M,this.loadExternalSheets=x,this.styleSheets=[]}return z.prototype.load=function(){return e(this,void 0,void 0,function(){var M;return r(this,function(x){switch(x.label){case 0:return[4,this.collectStyleSheetTexts()];case 1:return M=x.sent(),this.parseCssSheets(M),[2]}})})},z.prototype.collectStyleSheetTexts=function(){return e(this,void 0,void 0,function(){var M,x,j,q,ct;return r(this,function(Pt){switch(Pt.label){case 0:if(M=[],this.loadExternalSheets&&this.rootSvg.ownerDocument)for(q=0;q<this.rootSvg.ownerDocument.childNodes.length;q++)(x=this.rootSvg.ownerDocument.childNodes[q]).nodeName==="xml-stylesheet"&&typeof x.data=="string"&&M.push(z.loadSheet(x.data.match(/href=["'].*?["']/)[0].split("=")[1].slice(1,-1)));for(j=this.rootSvg.querySelectorAll("style,link"),q=0;q<j.length;q++)Lr(ct=j[q],"style")?M.push(ct.textContent):this.loadExternalSheets&&Lr(ct,"link")&&ct.getAttribute("rel")==="stylesheet"&&ct.hasAttribute("href")&&M.push(z.loadSheet(ct.getAttribute("href")));return[4,Promise.all(M)];case 1:return[2,Pt.sent().filter(function(Ot){return Ot!==null})]}})})},z.prototype.parseCssSheets=function(M){for(var x=document.implementation.createHTMLDocument(""),j=0,q=M;j<q.length;j++){var ct=q[j],Pt=x.createElement("style");Pt.textContent=ct,x.body.appendChild(Pt);var Ot=Pt.sheet;if(Ot instanceof CSSStyleSheet){for(var Jt=Ot.cssRules.length-1;Jt>=0;Jt--){var _e=Ot.cssRules[Jt];if(_e instanceof CSSStyleRule){var jt=_e;if(jt.selectorText.indexOf(",")>=0){Ot.deleteRule(Jt);for(var Te=jt.cssText.substring(jt.selectorText.length),Ir=z.splitSelectorAtCommas(jt.selectorText),St=0;St<Ir.length;St++)Ot.insertRule(Ir[St]+Te,Jt+St)}}else Ot.deleteRule(Jt)}this.styleSheets.push(Ot)}}},z.splitSelectorAtCommas=function(M){for(var x,j=/,|["']/g,q=/[^\\]["]/g,ct=/[^\\][']/g,Pt=[],Ot="initial",Jt=-1,_e=q,jt=0;jt<M.length;)switch(Ot){case"initial":j.lastIndex=jt,(x=j.exec(M))?(x[0]===","?(Pt.push(M.substring(Jt+1,j.lastIndex-1).trim()),Jt=j.lastIndex-1):(Ot="withinQuotes",_e=x[0]==='"'?q:ct),jt=j.lastIndex):(Pt.push(M.substring(Jt+1).trim()),jt=M.length);break;case"withinQuotes":_e.lastIndex=jt,(x=_e.exec(M))&&(jt=_e.lastIndex,Ot="initial")}return Pt},z.loadSheet=function(M){return new Promise(function(x,j){var q=new XMLHttpRequest;q.open("GET",M,!0),q.responseType="text",q.onload=function(){q.status!==200&&j(new Error("Error "+q.status+": Failed to load '"+M+"'")),x(q.responseText)},q.onerror=j,q.onabort=j,q.send(null)}).catch(function(){return null})},z.prototype.getPropertyValue=function(M,x){for(var j=[],q=0,ct=this.styleSheets;q<ct.length;q++)for(var Pt=ct[q],Ot=0;Ot<Pt.cssRules.length;Ot++){var Jt=Pt.cssRules[Ot];Jt.style.getPropertyValue(x)&&M.matches(Jt.selectorText)&&j.push(Jt)}if(j.length!==0)return j.reduce(function(_e,jt){return Ir=jt,((St=(Te=_e).style.getPropertyPriority(x))!==Ir.style.getPropertyPriority(x)?St==="important"?1:-1:f(Te.selectorText,Ir.selectorText))===1?_e:jt;var Te,Ir,St}).style.getPropertyValue(x)||void 0},z}();function lo(z,M,x){var j,q,ct;return x===void 0&&(x={}),e(this,void 0,void 0,function(){var Pt,Ot,Jt,_e,jt,Te,Ir,St,H,G;return r(this,function(dt){switch(dt.label){case 0:return Pt=(j=x.x)!==null&&j!==void 0?j:0,Ot=(q=x.y)!==null&&q!==void 0?q:0,Jt=(ct=x.loadExternalStyleSheets)!==null&&ct!==void 0&&ct,jt=new Y(_e={}),[4,(Te=new vs(z,Jt)).load()];case 1:return dt.sent(),Ir=new Ti(M.internal.pageSize.getWidth(),M.internal.pageSize.getHeight()),St=i(i({},x),{element:z}),H=new O(M,{refsHandler:jt,styleSheets:Te,viewport:Ir,svg2pdfParameters:St}),M.advancedAPI(),M.saveGraphicsState(),M.setCurrentTransformationMatrix(M.Matrix(1,0,0,1,Pt,Ot)),M.setLineWidth(H.attributeState.strokeWidth),G=H.attributeState.fill.color,M.setFillColor(G.r,G.g,G.b),M.setFont(H.attributeState.fontFamily),M.setFontSize(H.attributeState.fontSize*M.internal.scaleFactor),[4,sa(z,_e).render(H)];case 2:return dt.sent(),M.restoreGraphicsState(),M.compatAPI(),H.textMeasure.cleanupTextMeasuring(),[2,M]}})})}Se.e.API.svg=function(z,M){return M===void 0&&(M={}),lo(z,this,M)}},"aK+R":function(bi,gr,Ae){},cbZj:function(bi,gr,Ae){"use strict";var cr=Ae("COF0"),P=Ae("vHD6"),Ut=Ae("4hEd"),it=Ae("2D6k"),Se=Ae("B61z");function Pe(Tt){if(!(this instanceof Pe))return new Pe(Tt);var L=cr(Tt);this.segments=L.segments,this.err=L.err,this.__stack=[]}Pe.from=function(Tt){if(typeof Tt=="string")return new Pe(Tt);if(Tt instanceof Pe){var L=new Pe("");return L.err=Tt.err,L.segments=Tt.segments.map(function(a){return a.slice()}),L.__stack=Tt.__stack.map(function(a){return Ut().matrix(a.toArray())}),L}throw new Error("SvgPath.from: invalid param type "+Tt)},Pe.prototype.__matrix=function(Tt){var L=this,a;!Tt.queue.length||this.iterate(function(f,h,l,i){var e,r,n,u;switch(f[0]){case"v":e=Tt.calc(0,f[1],!0),r=e[0]===0?["v",e[1]]:["l",e[0],e[1]];break;case"V":e=Tt.calc(l,f[1],!1),r=e[0]===Tt.calc(l,i,!1)[0]?["V",e[1]]:["L",e[0],e[1]];break;case"h":e=Tt.calc(f[1],0,!0),r=e[1]===0?["h",e[0]]:["l",e[0],e[1]];break;case"H":e=Tt.calc(f[1],i,!1),r=e[1]===Tt.calc(l,i,!1)[1]?["H",e[0]]:["L",e[0],e[1]];break;case"a":case"A":var o=Tt.toArray(),d=Se(f[1],f[2],f[3]).transform(o);if(o[0]*o[3]-o[1]*o[2]<0&&(f[5]=f[5]?"0":"1"),e=Tt.calc(f[6],f[7],f[0]==="a"),f[0]==="A"&&f[6]===l&&f[7]===i||f[0]==="a"&&f[6]===0&&f[7]===0){r=[f[0]==="a"?"l":"L",e[0],e[1]];break}d.isDegenerate()?r=[f[0]==="a"?"l":"L",e[0],e[1]]:r=[f[0],d.rx,d.ry,d.ax,f[4],f[5],e[0],e[1]];break;case"m":u=h>0,e=Tt.calc(f[1],f[2],u),r=["m",e[0],e[1]];break;default:for(n=f[0],r=[n],u=n.toLowerCase()===n,a=1;a<f.length;a+=2)e=Tt.calc(f[a],f[a+1],u),r.push(e[0],e[1])}L.segments[h]=r},!0)},Pe.prototype.__evaluateStack=function(){var Tt,L;if(!!this.__stack.length){if(this.__stack.length===1){this.__matrix(this.__stack[0]),this.__stack=[];return}for(Tt=Ut(),L=this.__stack.length;--L>=0;)Tt.matrix(this.__stack[L].toArray());this.__matrix(Tt),this.__stack=[]}},Pe.prototype.toString=function(){var Tt=[],L,a;this.__evaluateStack();for(var f=0;f<this.segments.length;f++)a=this.segments[f][0],L=f>0&&a!=="m"&&a!=="M"&&a===this.segments[f-1][0],Tt=Tt.concat(L?this.segments[f].slice(1):this.segments[f]);return Tt.join(" ").replace(/ ?([achlmqrstvz]) ?/gi,"$1").replace(/ \-/g,"-").replace(/zm/g,"z m")},Pe.prototype.translate=function(Tt,L){return this.__stack.push(Ut().translate(Tt,L||0)),this},Pe.prototype.scale=function(Tt,L){return this.__stack.push(Ut().scale(Tt,!L&&L!==0?Tt:L)),this},Pe.prototype.rotate=function(Tt,L,a){return this.__stack.push(Ut().rotate(Tt,L||0,a||0)),this},Pe.prototype.skewX=function(Tt){return this.__stack.push(Ut().skewX(Tt)),this},Pe.prototype.skewY=function(Tt){return this.__stack.push(Ut().skewY(Tt)),this},Pe.prototype.matrix=function(Tt){return this.__stack.push(Ut().matrix(Tt)),this},Pe.prototype.transform=function(Tt){return Tt.trim()?(this.__stack.push(P(Tt)),this):this},Pe.prototype.round=function(Tt){var L=0,a=0,f=0,h=0,l;return Tt=Tt||0,this.__evaluateStack(),this.segments.forEach(function(i){var e=i[0].toLowerCase()===i[0];switch(i[0]){case"H":case"h":e&&(i[1]+=f),f=i[1]-i[1].toFixed(Tt),i[1]=+i[1].toFixed(Tt);return;case"V":case"v":e&&(i[1]+=h),h=i[1]-i[1].toFixed(Tt),i[1]=+i[1].toFixed(Tt);return;case"Z":case"z":f=L,h=a;return;case"M":case"m":e&&(i[1]+=f,i[2]+=h),f=i[1]-i[1].toFixed(Tt),h=i[2]-i[2].toFixed(Tt),L=f,a=h,i[1]=+i[1].toFixed(Tt),i[2]=+i[2].toFixed(Tt);return;case"A":case"a":e&&(i[6]+=f,i[7]+=h),f=i[6]-i[6].toFixed(Tt),h=i[7]-i[7].toFixed(Tt),i[1]=+i[1].toFixed(Tt),i[2]=+i[2].toFixed(Tt),i[3]=+i[3].toFixed(Tt+2),i[6]=+i[6].toFixed(Tt),i[7]=+i[7].toFixed(Tt);return;default:l=i.length,e&&(i[l-2]+=f,i[l-1]+=h),f=i[l-2]-i[l-2].toFixed(Tt),h=i[l-1]-i[l-1].toFixed(Tt),i.forEach(function(r,n){!n||(i[n]=+i[n].toFixed(Tt))});return}}),this},Pe.prototype.iterate=function(Tt,L){var a=this.segments,f={},h=!1,l=0,i=0,e=0,r=0,n,u,o;if(L||this.__evaluateStack(),a.forEach(function(d,b){var A=Tt(d,b,l,i);Array.isArray(A)&&(f[b]=A,h=!0);var O=d[0]===d[0].toLowerCase();switch(d[0]){case"m":case"M":l=d[1]+(O?l:0),i=d[2]+(O?i:0),e=l,r=i;return;case"h":case"H":l=d[1]+(O?l:0);return;case"v":case"V":i=d[1]+(O?i:0);return;case"z":case"Z":l=e,i=r;return;default:l=d[d.length-2]+(O?l:0),i=d[d.length-1]+(O?i:0)}}),!h)return this;for(o=[],n=0;n<a.length;n++)if(typeof f[n]!="undefined")for(u=0;u<f[n].length;u++)o.push(f[n][u]);else o.push(a[n]);return this.segments=o,this},Pe.prototype.abs=function(){return this.iterate(function(Tt,L,a,f){var h=Tt[0],l=h.toUpperCase(),i;if(h!==l)switch(Tt[0]=l,h){case"v":Tt[1]+=f;return;case"a":Tt[6]+=a,Tt[7]+=f;return;default:for(i=1;i<Tt.length;i++)Tt[i]+=i%2?a:f}},!0),this},Pe.prototype.rel=function(){return this.iterate(function(Tt,L,a,f){var h=Tt[0],l=h.toLowerCase(),i;if(h!==l&&!(L===0&&h==="M"))switch(Tt[0]=l,h){case"V":Tt[1]-=f;return;case"A":Tt[6]-=a,Tt[7]-=f;return;default:for(i=1;i<Tt.length;i++)Tt[i]-=i%2?a:f}},!0),this},Pe.prototype.unarc=function(){return this.iterate(function(Tt,L,a,f){var h,l,i,e=[],r=Tt[0];return r!=="A"&&r!=="a"?null:(r==="a"?(l=a+Tt[6],i=f+Tt[7]):(l=Tt[6],i=Tt[7]),h=it(a,f,l,i,Tt[4],Tt[5],Tt[1],Tt[2],Tt[3]),h.length===0?[[Tt[0]==="a"?"l":"L",Tt[6],Tt[7]]]:(h.forEach(function(n){e.push(["C",n[2],n[3],n[4],n[5],n[6],n[7]])}),e))}),this},Pe.prototype.unshort=function(){var Tt=this.segments,L,a,f,h,l;return this.iterate(function(i,e,r,n){var u=i[0],o=u.toUpperCase(),d;!e||(o==="T"?(d=u==="t",f=Tt[e-1],f[0]==="Q"?(L=f[1]-r,a=f[2]-n):f[0]==="q"?(L=f[1]-f[3],a=f[2]-f[4]):(L=0,a=0),h=-L,l=-a,d||(h+=r,l+=n),Tt[e]=[d?"q":"Q",h,l,i[1],i[2]]):o==="S"&&(d=u==="s",f=Tt[e-1],f[0]==="C"?(L=f[3]-r,a=f[4]-n):f[0]==="c"?(L=f[3]-f[5],a=f[4]-f[6]):(L=0,a=0),h=-L,l=-a,d||(h+=r,l+=n),Tt[e]=[d?"c":"C",h,l,i[1],i[2],i[3],i[4]]))}),this},bi.exports=Pe},crp1:function(bi,gr,Ae){"use strict";Ae.d(gr,"b",function(){return Vn}),Ae.d(gr,"a",function(){return Qa});var cr={},P=function(H,G,dt,Ft,Wt){var ye=cr[G]||(cr[G]=URL.createObjectURL(new Blob([H],{type:"text/javascript"}))),De=new Worker(ye);return De.onerror=function(Ie){return Wt(Ie.error,null)},De.onmessage=function(Ie){return Wt(null,Ie.data)},De.postMessage(dt,Ft),De},Ut=Uint8Array,it=Uint16Array,Se=Uint32Array,Pe=new Ut([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),Tt=new Ut([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),L=new Ut([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(H,G){for(var dt=new it(31),Ft=0;Ft<31;++Ft)dt[Ft]=G+=1<<H[Ft-1];for(var Wt=new Se(dt[30]),Ft=1;Ft<30;++Ft)for(var ye=dt[Ft];ye<dt[Ft+1];++ye)Wt[ye]=ye-dt[Ft]<<5|Ft;return[dt,Wt]},f=a(Pe,2),h=f[0],l=f[1];h[28]=258,l[258]=28;for(var i=a(Tt,0),e=i[0],r=i[1],n=new it(32768),u=0;u<32768;++u){var o=(u&43690)>>>1|(u&21845)<<1;o=(o&52428)>>>2|(o&13107)<<2,o=(o&61680)>>>4|(o&3855)<<4,n[u]=((o&65280)>>>8|(o&255)<<8)>>>1}for(var d=function(H,G,dt){for(var Ft=H.length,Wt=0,ye=new it(G);Wt<Ft;++Wt)++ye[H[Wt]-1];var De=new it(G);for(Wt=0;Wt<G;++Wt)De[Wt]=De[Wt-1]+ye[Wt-1]<<1;var Ie;if(dt){Ie=new it(1<<G);var Ee=15-G;for(Wt=0;Wt<Ft;++Wt)if(H[Wt])for(var ur=Wt<<4|H[Wt],nr=G-H[Wt],ti=De[H[Wt]-1]++<<nr,Kr=ti|(1<<nr)-1;ti<=Kr;++ti)Ie[n[ti]>>>Ee]=ur}else for(Ie=new it(Ft),Wt=0;Wt<Ft;++Wt)Ie[Wt]=n[De[H[Wt]-1]++]>>>15-H[Wt];return Ie},b=new Ut(288),u=0;u<144;++u)b[u]=8;for(var u=144;u<256;++u)b[u]=9;for(var u=256;u<280;++u)b[u]=7;for(var u=280;u<288;++u)b[u]=8;for(var A=new Ut(32),u=0;u<32;++u)A[u]=5;var O=d(b,9,0),Y=d(b,9,1),Z=d(A,5,0),mt=d(A,5,1),Xt=function(H){for(var G=H[0],dt=1;dt<H.length;++dt)H[dt]>G&&(G=H[dt]);return G},fe=function(H,G,dt){var Ft=G/8>>0;return(H[Ft]|H[Ft+1]<<8)>>>(G&7)&dt},Ue=function(H,G){var dt=G/8>>0;return(H[dt]|H[dt+1]<<8|H[dt+2]<<16)>>>(G&7)},or=function(H){return(H/8>>0)+(H&7&&1)},fr=function(H,G,dt){(G==null||G<0)&&(G=0),(dt==null||dt>H.length)&&(dt=H.length);var Ft=new(H instanceof it?it:H instanceof Se?Se:Ut)(dt-G);return Ft.set(H.subarray(G,dt)),Ft},tr=function(H,G,dt){var Ft=H.length,Wt=!G||dt,ye=!dt||dt.i;dt||(dt={}),G||(G=new Ut(Ft*3));var De=function(sr){var Gt=G.length;if(sr>Gt){var je=new Ut(Math.max(Gt*2,sr));je.set(G),G=je}},Ie=dt.f||0,Ee=dt.p||0,ur=dt.b||0,nr=dt.l,ti=dt.d,Kr=dt.m,Br=dt.n,mi=Ft*8;do{if(!nr){dt.f=Ie=fe(H,Ee,1);var Jr=fe(H,Ee+1,3);if(Ee+=3,Jr)if(Jr==1)nr=Y,ti=mt,Kr=9,Br=5;else if(Jr==2){var C=fe(H,Ee,31)+257,p=fe(H,Ee+10,15)+4,v=C+fe(H,Ee+5,31)+1;Ee+=14;for(var y=new Ut(v),_=new Ut(19),w=0;w<p;++w)_[L[w]]=fe(H,Ee+w*3,7);Ee+=p*3;var S=Xt(_),D=(1<<S)-1;if(!ye&&Ee+v*(S+7)>mi)break;for(var E=d(_,S,1),w=0;w<v;){var W=E[fe(H,Ee,D)];Ee+=W&15;var di=W>>>4;if(di<16)y[w++]=di;else{var nt=0,et=0;for(di==16?(et=3+fe(H,Ee,3),Ee+=2,nt=y[w-1]):di==17?(et=3+fe(H,Ee,7),Ee+=3):di==18&&(et=11+fe(H,Ee,127),Ee+=7);et--;)y[w++]=nt}}var pt=y.subarray(0,C),U=y.subarray(C);Kr=Xt(pt),Br=Xt(U),nr=d(pt,Kr,1),ti=d(U,Br,1)}else throw"invalid block type";else{var di=or(Ee)+4,Hi=H[di-4]|H[di-3]<<8,Pi=di+Hi;if(Pi>Ft){if(ye)throw"unexpected EOF";break}Wt&&De(ur+Hi),G.set(H.subarray(di,Pi),ur),dt.b=ur+=Hi,dt.p=Ee=Pi*8;continue}if(Ee>mi)throw"unexpected EOF"}Wt&&De(ur+131072);for(var kt=(1<<Kr)-1,yt=(1<<Br)-1,Nt=Kr+Br+18;ye||Ee+Nt<mi;){var nt=nr[Ue(H,Ee)&kt],wt=nt>>>4;if(Ee+=nt&15,Ee>mi)throw"unexpected EOF";if(!nt)throw"invalid length/literal";if(wt<256)G[ur++]=wt;else if(wt==256){nr=null;break}else{var Q=wt-254;if(wt>264){var w=wt-257,oe=Pe[w];Q=fe(H,Ee,(1<<oe)-1)+h[w],Ee+=oe}var Oe=ti[Ue(H,Ee)&yt],Ge=Oe>>>4;if(!Oe)throw"invalid distance";Ee+=Oe&15;var U=e[Ge];if(Ge>3){var oe=Tt[Ge];U+=Ue(H,Ee)&(1<<oe)-1,Ee+=oe}if(Ee>mi)throw"unexpected EOF";Wt&&De(ur+131072);for(var rr=ur+Q;ur<rr;ur+=4)G[ur]=G[ur-U],G[ur+1]=G[ur+1-U],G[ur+2]=G[ur+2-U],G[ur+3]=G[ur+3-U];ur=rr}}dt.l=nr,dt.p=Ee,dt.b=ur,nr&&(Ie=1,dt.m=Kr,dt.d=ti,dt.n=Br)}while(!Ie);return ur==G.length?G:fr(G,0,ur)},We=function(H,G,dt){dt<<=G&7;var Ft=G/8>>0;H[Ft]|=dt,H[Ft+1]|=dt>>>8},vr=function(H,G,dt){dt<<=G&7;var Ft=G/8>>0;H[Ft]|=dt,H[Ft+1]|=dt>>>8,H[Ft+2]|=dt>>>16},Or=function(H,G){for(var dt=[],Ft=0;Ft<H.length;++Ft)H[Ft]&&dt.push({s:Ft,f:H[Ft]});var Wt=dt.length,ye=dt.slice();if(!Wt)return[new Ut(0),0];if(Wt==1){var De=new Ut(dt[0].s+1);return De[dt[0].s]=1,[De,1]}dt.sort(function(v,y){return v.f-y.f}),dt.push({s:-1,f:25001});var Ie=dt[0],Ee=dt[1],ur=0,nr=1,ti=2;for(dt[0]={s:-1,f:Ie.f+Ee.f,l:Ie,r:Ee};nr!=Wt-1;)Ie=dt[dt[ur].f<dt[ti].f?ur++:ti++],Ee=dt[ur!=nr&&dt[ur].f<dt[ti].f?ur++:ti++],dt[nr++]={s:-1,f:Ie.f+Ee.f,l:Ie,r:Ee};for(var Kr=ye[0].s,Ft=1;Ft<Wt;++Ft)ye[Ft].s>Kr&&(Kr=ye[Ft].s);var Br=new it(Kr+1),mi=Lr(dt[nr-1],Br,0);if(mi>G){var Ft=0,Jr=0,di=mi-G,Hi=1<<di;for(ye.sort(function(y,_){return Br[_.s]-Br[y.s]||y.f-_.f});Ft<Wt;++Ft){var Pi=ye[Ft].s;if(Br[Pi]>G)Jr+=Hi-(1<<mi-Br[Pi]),Br[Pi]=G;else break}for(Jr>>>=di;Jr>0;){var C=ye[Ft].s;Br[C]<G?Jr-=1<<G-Br[C]++-1:++Ft}for(;Ft>=0&&Jr;--Ft){var p=ye[Ft].s;Br[p]==G&&(--Br[p],++Jr)}mi=G}return[new Ut(Br),mi]},Lr=function St(H,G,dt){return H.s==-1?Math.max(St(H.l,G,dt+1),St(H.r,G,dt+1)):G[H.s]=dt},at=function(H){for(var G=H.length;G&&!H[--G];);for(var dt=new it(++G),Ft=0,Wt=H[0],ye=1,De=function(ur){dt[Ft++]=ur},Ie=1;Ie<=G;++Ie)if(H[Ie]==Wt&&Ie!=G)++ye;else{if(!Wt&&ye>2){for(;ye>138;ye-=138)De(32754);ye>2&&(De(ye>10?ye-11<<5|28690:ye-3<<5|12305),ye=0)}else if(ye>3){for(De(Wt),--ye;ye>6;ye-=6)De(8304);ye>2&&(De(ye-3<<5|8208),ye=0)}for(;ye--;)De(Wt);ye=1,Wt=H[Ie]}return[dt.subarray(0,Ft),G]},ve=function(H,G){for(var dt=0,Ft=0;Ft<G.length;++Ft)dt+=H[Ft]*G[Ft];return dt},ht=function(H,G,dt){var Ft=dt.length,Wt=or(G+2);H[Wt]=Ft&255,H[Wt+1]=Ft>>>8,H[Wt+2]=H[Wt]^255,H[Wt+3]=H[Wt+1]^255;for(var ye=0;ye<Ft;++ye)H[Wt+ye+4]=dt[ye];return(Wt+4+Ft)*8},Et=function(H,G,dt,Ft,Wt,ye,De,Ie,Ee,ur,nr){We(G,nr++,dt),++Wt[256];for(var ti=Or(Wt,15),Kr=ti[0],Br=ti[1],mi=Or(ye,15),Jr=mi[0],di=mi[1],Hi=at(Kr),Pi=Hi[0],C=Hi[1],p=at(Jr),v=p[0],y=p[1],_=new it(19),w=0;w<Pi.length;++w)_[Pi[w]&31]++;for(var w=0;w<v.length;++w)_[v[w]&31]++;for(var S=Or(_,7),D=S[0],E=S[1],W=19;W>4&&!D[L[W-1]];--W);var nt=ur+5<<3,et=ve(Wt,b)+ve(ye,A)+De,pt=ve(Wt,Kr)+ve(ye,Jr)+De+14+3*W+ve(_,D)+(2*_[16]+3*_[17]+7*_[18]);if(nt<=et&&nt<=pt)return ht(G,nr,H.subarray(Ee,Ee+ur));var U,kt,yt,Nt;if(We(G,nr,1+(pt<et)),nr+=2,pt<et){U=d(Kr,Br,0),kt=Kr,yt=d(Jr,di,0),Nt=Jr;var wt=d(D,E,0);We(G,nr,C-257),We(G,nr+5,y-1),We(G,nr+10,W-4),nr+=14;for(var w=0;w<W;++w)We(G,nr+3*w,D[L[w]]);nr+=3*W;for(var Q=[Pi,v],oe=0;oe<2;++oe)for(var Oe=Q[oe],w=0;w<Oe.length;++w){var Ge=Oe[w]&31;We(G,nr,wt[Ge]),nr+=D[Ge],Ge>15&&(We(G,nr,Oe[w]>>>5&127),nr+=Oe[w]>>>12)}}else U=O,kt=b,yt=Z,Nt=A;for(var w=0;w<Ie;++w)if(Ft[w]>255){var Ge=Ft[w]>>>18&31;vr(G,nr,U[Ge+257]),nr+=kt[Ge+257],Ge>7&&(We(G,nr,Ft[w]>>>23&31),nr+=Pe[Ge]);var rr=Ft[w]&31;vr(G,nr,yt[rr]),nr+=Nt[rr],rr>3&&(vr(G,nr,Ft[w]>>>5&8191),nr+=Tt[rr])}else vr(G,nr,U[Ft[w]]),nr+=kt[Ft[w]];return vr(G,nr,U[256]),nr+kt[256]},te=new Se([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),_t=new Ut(0),xt=function(H,G,dt,Ft,Wt,ye){var De=H.length,Ie=new Ut(Ft+De+5*(1+Math.floor(De/7e3))+Wt),Ee=Ie.subarray(Ft,Ie.length-Wt),ur=0;if(!G||De<8)for(var nr=0;nr<=De;nr+=65535){var ti=nr+65535;ti<De?ur=ht(Ee,ur,H.subarray(nr,ti)):(Ee[nr]=ye,ur=ht(Ee,ur,H.subarray(nr,De)))}else{for(var Kr=te[G-1],Br=Kr>>>13,mi=Kr&8191,Jr=(1<<dt)-1,di=new it(32768),Hi=new it(Jr+1),Pi=Math.ceil(dt/3),C=2*Pi,p=function(ze){return(H[ze]^H[ze+1]<<Pi^H[ze+2]<<C)&Jr},v=new Se(25e3),y=new it(288),_=new it(32),w=0,S=0,nr=0,D=0,E=0,W=0;nr<De;++nr){var nt=p(nr),et=nr&32767,pt=Hi[nt];if(di[et]=pt,Hi[nt]=et,E<=nr){var U=De-nr;if((w>7e3||D>24576)&&U>423){ur=Et(H,Ee,0,v,y,_,S,D,W,nr-W,ur),D=w=S=0,W=nr;for(var kt=0;kt<286;++kt)y[kt]=0;for(var kt=0;kt<30;++kt)_[kt]=0}var yt=2,Nt=0,wt=mi,Q=et-pt&32767;if(U>2&&nt==p(nr-Q))for(var oe=Math.min(Br,U)-1,Oe=Math.min(32767,nr),Ge=Math.min(258,U);Q<=Oe&&--wt&&et!=pt;){if(H[nr+yt]==H[nr+yt-Q]){for(var rr=0;rr<Ge&&H[nr+rr]==H[nr+rr-Q];++rr);if(rr>yt){if(yt=rr,Nt=Q,rr>oe)break;for(var Re=Math.min(Q,rr-2),sr=0,kt=0;kt<Re;++kt){var Gt=nr-Q+kt+32768&32767,je=di[Gt],zt=Gt-je+32768&32767;zt>sr&&(sr=zt,pt=Gt)}}}et=pt,pt=di[et],Q+=et-pt+32768&32767}if(Nt){v[D++]=268435456|l[yt]<<18|r[Nt];var At=l[yt]&31,qt=r[Nt]&31;S+=Pe[At]+Tt[qt],++y[257+At],++_[qt],E=nr+yt,++w}else v[D++]=H[nr],++y[H[nr]]}}ur=Et(H,Ee,ye,v,y,_,S,D,W,nr-W,ur),ye||(ur=ht(Ee,ur,_t))}return fr(Ie,0,Ft+or(ur)+Wt)},Ct=function(){for(var St=new Se(256),H=0;H<256;++H){for(var G=H,dt=9;--dt;)G=(G&1&&3988292384)^G>>>1;St[H]=G}return St}(),vt=function(){var H=4294967295;return{p:function(dt){for(var Ft=H,Wt=0;Wt<dt.length;++Wt)Ft=Ct[Ft&255^dt[Wt]]^Ft>>>8;H=Ft},d:function(){return H^4294967295}}},de=function(){var H=1,G=0;return{p:function(Ft){for(var Wt=H,ye=G,De=Ft.length,Ie=0;Ie!=De;){for(var Ee=Math.min(Ie+5552,De);Ie<Ee;++Ie)Wt+=Ft[Ie],ye+=Wt;Wt%=65521,ye%=65521}H=Wt,G=ye},d:function(){return(H>>>8<<16|(G&255)<<8|G>>>8)+((H&255)<<23)*2}}},ae=function(H,G,dt,Ft,Wt){return xt(H,G.level==null?6:G.level,G.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(H.length)))*1.5):12+G.mem,dt,Ft,!Wt)},ue=function(H,G){var dt={};for(var Ft in H)dt[Ft]=H[Ft];for(var Ft in G)dt[Ft]=G[Ft];return dt},ke=function(H,G,dt){for(var Ft=H(),Wt=H.toString(),ye=Wt.slice(Wt.indexOf("[")+1,Wt.lastIndexOf("]")).replace(/ /g,"").split(","),De=0;De<Ft.length;++De){var Ie=Ft[De],Ee=ye[De];if(typeof Ie=="function"){G+=";"+Ee+"=";var ur=Ie.toString();if(Ie.prototype)if(ur.indexOf("[native code]")!=-1){var nr=ur.indexOf(" ",8)+1;G+=ur.slice(nr,ur.indexOf("(",nr))}else{G+=ur;for(var ti in Ie.prototype)G+=";"+Ee+".prototype."+ti+"="+Ie.prototype[ti].toString()}else G+=ur}else dt[Ee]=Ie}return[G,dt]},pe=[],Qt=function(H){var G=[];for(var dt in H)(H[dt]instanceof Ut||H[dt]instanceof it||H[dt]instanceof Se)&&G.push((H[dt]=new H[dt].constructor(H[dt])).buffer);return G},It=function(H,G,dt,Ft){var Wt;if(!pe[dt]){for(var ye="",De={},Ie=H.length-1,Ee=0;Ee<Ie;++Ee)Wt=ke(H[Ee],ye,De),ye=Wt[0],De=Wt[1];pe[dt]=ke(H[Ie],ye,De)}var ur=ue({},pe[dt][1]);return P(pe[dt][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+G.toString()+"}",dt,ur,Qt(ur),Ft)},re=function(){return[Ut,it,Se,Pe,Tt,L,h,e,Y,mt,n,d,Xt,fe,Ue,or,fr,tr,ia,st,ft]},he=function(){return[Ut,it,Se,Pe,Tt,L,l,r,O,b,Z,A,n,te,_t,d,We,vr,Or,Lr,at,ve,ht,Et,or,fr,xt,ae,ra,st]},Le=function(){return[Nr,Mi,Er,vt,Ct]},K=function(){return[li,Bi]},N=function(){return[rn,Er,de]},R=function(){return[nn]},st=function(H){return postMessage(H,[H.buffer])},ft=function(H){return H&&H.size&&new Ut(H.size)},ee=function(H,G,dt,Ft,Wt,ye){var De=It(dt,Ft,Wt,function(Ie,Ee){De.terminate(),ye(Ie,Ee)});return G.consume||(H=new Ut(H)),De.postMessage([H,G],[H.buffer]),function(){De.terminate()}},se=function(H){return H.ondata=function(G,dt){return postMessage([G,dt],[G.buffer])},function(G){return H.push(G.data[0],G.data[1])}},br=function(H,G,dt,Ft,Wt){var ye,De=It(H,Ft,Wt,function(Ie,Ee){Ie?(De.terminate(),G.ondata.call(G,Ie)):(Ee[1]&&De.terminate(),G.ondata.call(G,Ie,Ee[0],Ee[1]))});De.postMessage(dt),G.push=function(Ie,Ee){if(ye)throw"stream finished";if(!G.ondata)throw"no stream handler";De.postMessage([Ie,ye=Ee],[Ie.buffer])},G.terminate=function(){De.terminate()}},Rr=function(H,G){return H[G]|H[G+1]<<8},_r=function(H,G){return(H[G]|H[G+1]<<8|H[G+2]<<16)+(H[G+3]<<23)*2},Er=function(H,G,dt){for(;dt;++G)H[G]=dt,dt>>>=8},Nr=function(H,G){var dt=G.filename;if(H[0]=31,H[1]=139,H[2]=8,H[8]=G.level<2?4:G.level==9?2:0,H[9]=3,G.mtime!=0&&Er(H,4,Math.floor(new Date(G.mtime||Date.now())/1e3)),dt){H[3]=8;for(var Ft=0;Ft<=dt.length;++Ft)H[Ft+10]=dt.charCodeAt(Ft)}},li=function(H){if(H[0]!=31||H[1]!=139||H[2]!=8)throw"invalid gzip data";var G=H[3],dt=10;G&4&&(dt+=H[10]|(H[11]<<8)+2);for(var Ft=(G>>3&1)+(G>>4&1);Ft>0;Ft-=!H[dt++]);return dt+(G&2)},Bi=function(H){var G=H.length;return(H[G-4]|H[G-3]<<8|H[G-2]<<16)+2*(H[G-1]<<23)},Mi=function(H){return 10+(H.filename&&H.filename.length+1||0)},rn=function(H,G){var dt=G.level,Ft=dt==0?0:dt<6?1:dt==9?3:2;H[0]=120,H[1]=Ft<<6|(Ft?32-2*Ft:1)},nn=function(H){if((H[0]&15)!=8||H[0]>>>4>7||(H[0]<<8|H[1])%31)throw"invalid zlib data";if(H[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Ti(St,H){return!H&&typeof St=="function"&&(H=St,St={}),this.ondata=H,St}var fn=function(){function St(H,G){!G&&typeof H=="function"&&(G=H,H={}),this.ondata=G,this.o=H||{}}return St.prototype.p=function(H,G){this.ondata(ae(H,this.o,0,0,!G),G)},St.prototype.push=function(H,G){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=G,this.p(H,G||!1)},St}(),Yn=function(){function St(H,G){br([he,function(){return[se,fn]}],this,Ti.call(this,H,G),function(dt){var Ft=new fn(dt.data);onmessage=se(Ft)},6)}return St}();function Xn(St,H,G){if(G||(G=H,H={}),typeof G!="function")throw"no callback";return ee(St,H,[he],function(dt){return st(ra(dt.data[0],dt.data[1]))},0,G)}function ra(St,H){return H===void 0&&(H={}),ae(St,H,0,0)}var $i=function(){function St(H){this.s={},this.p=new Ut(0),this.ondata=H}return St.prototype.e=function(H){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var G=this.p.length,dt=new Ut(G+H.length);dt.set(this.p),dt.set(H,G),this.p=dt},St.prototype.c=function(H){this.d=this.s.i=H||!1;var G=this.s.b,dt=tr(this.p,this.o,this.s);this.ondata(fr(dt,G,this.s.b),this.d),this.o=fr(dt,this.s.b-32768),this.s.b=this.o.length,this.p=fr(this.p,this.s.p/8>>0),this.s.p&=7},St.prototype.push=function(H,G){this.e(H),this.c(G)},St}(),Da=function(){function St(H){this.ondata=H,br([re,function(){return[se,$i]}],this,0,function(){var G=new $i;onmessage=se(G)},7)}return St}();function Fr(St,H,G){if(G||(G=H,H={}),typeof G!="function")throw"no callback";return ee(St,H,[re],function(dt){return st(ia(dt.data[0],ft(dt.data[1])))},1,G)}function ia(St,H){return tr(St,H)}var Ds=function(){function St(H,G){this.c=vt(),this.l=0,this.v=1,fn.call(this,H,G)}return St.prototype.push=function(H,G){fn.prototype.push.call(this,H,G)},St.prototype.p=function(H,G){this.c.p(H),this.l+=H.length;var dt=ae(H,this.o,this.v&&Mi(this.o),G&&8,!G);this.v&&(Nr(dt,this.o),this.v=0),G&&(Er(dt,dt.length-8,this.c.d()),Er(dt,dt.length-4,this.l)),this.ondata(dt,G)},St}(),$a=function(){function St(H,G){br([he,Le,function(){return[se,fn,Ds]}],this,Ti.call(this,H,G),function(dt){var Ft=new Ds(dt.data);onmessage=se(Ft)},8)}return St}();function Is(St,H,G){if(G||(G=H,H={}),typeof G!="function")throw"no callback";return ee(St,H,[he,Le,function(){return[gs]}],function(dt){return st(gs(dt.data[0],dt.data[1]))},2,G)}function gs(St,H){H===void 0&&(H={});var G=vt(),dt=St.length;G.p(St);var Ft=ae(St,H,Mi(H),8),Wt=Ft.length;return Nr(Ft,H),Er(Ft,Wt-8,G.d()),Er(Ft,Wt-4,dt),Ft}var na=function(){function St(H){this.v=1,$i.call(this,H)}return St.prototype.push=function(H,G){if($i.prototype.e.call(this,H),this.v){var dt=li(this.p);if(dt>=this.p.length&&!G)return;this.p=this.p.subarray(dt),this.v=0}if(G){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}$i.prototype.c.call(this,G)},St}(),Rs=function(){function St(H){this.ondata=H,br([re,K,function(){return[se,$i,na]}],this,0,function(){var G=new na;onmessage=se(G)},9)}return St}();function Bs(St,H,G){if(G||(G=H,H={}),typeof G!="function")throw"no callback";return ee(St,H,[re,K,function(){return[Ia]}],function(dt){return st(Ia(dt.data[0]))},3,G)}function Ia(St,H){return tr(St.subarray(li(St),-8),H||new Ut(Bi(St)))}var aa=function(){function St(H,G){this.c=de(),this.v=1,fn.call(this,H,G)}return St.prototype.push=function(H,G){fn.prototype.push.call(this,H,G)},St.prototype.p=function(H,G){this.c.p(H);var dt=ae(H,this.o,this.v&&2,G&&4,!G);this.v&&(rn(dt,this.o),this.v=0),G&&Er(dt,dt.length-4,this.c.d()),this.ondata(dt,G)},St}(),js=function(){function St(H,G){br([he,N,function(){return[se,fn,aa]}],this,Ti.call(this,H,G),function(dt){var Ft=new aa(dt.data);onmessage=se(Ft)},10)}return St}();function Ra(St,H,G){if(G||(G=H,H={}),typeof G!="function")throw"no callback";return ee(St,H,[he,N,function(){return[Vn]}],function(dt){return st(Vn(dt.data[0],dt.data[1]))},4,G)}function Vn(St,H){H===void 0&&(H={});var G=de();G.p(St);var dt=ae(St,H,2,4);return rn(dt,H),Er(dt,dt.length-4,G.d()),dt}var Za=function(){function St(H){this.v=1,$i.call(this,H)}return St.prototype.push=function(H,G){if($i.prototype.e.call(this,H),this.v){if(this.p.length<2&&!G)return;this.p=this.p.subarray(2),this.v=0}if(G){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}$i.prototype.c.call(this,G)},St}(),Us=function(){function St(H){this.ondata=H,br([re,R,function(){return[se,$i,Za]}],this,0,function(){var G=new Za;onmessage=se(G)},11)}return St}();function zs(St,H,G){if(G||(G=H,H={}),typeof G!="function")throw"no callback";return ee(St,H,[re,R,function(){return[Qa]}],function(dt){return st(Qa(dt.data[0],ft(dt.data[1])))},5,G)}function Qa(St,H){return tr((nn(St),St.subarray(2,-4)),H)}var sa=function(){function St(H){this.G=na,this.I=$i,this.Z=Za,this.ondata=H}return St.prototype.push=function(H,G){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(H,G);else{if(this.p&&this.p.length){var dt=new Ut(this.p.length+H.length);dt.set(this.p),dt.set(H,this.p.length)}else this.p=H;if(this.p.length>2){var Ft=this,Wt=function(){Ft.ondata.apply(Ft,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(Wt):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(Wt):new this.Z(Wt),this.s.push(this.p,G),this.p=null}}},St}(),vs=function(){function St(H){this.G=Rs,this.I=Da,this.Z=Us,this.ondata=H}return St.prototype.push=function(H,G){sa.prototype.push.call(this,H,G)},St}();function lo(St,H,G){if(G||(G=H,H={}),typeof G!="function")throw"no callback";return St[0]==31&&St[1]==139&&St[2]==8?Bs(St,H,G):(St[0]&15)!=8||St[0]>>4>7||(St[0]<<8|St[1])%31?Fr(St,H,G):zs(St,H,G)}function z(St,H){return St[0]==31&&St[1]==139&&St[2]==8?Ia(St,H):(St[0]&15)!=8||St[0]>>4>7||(St[0]<<8|St[1])%31?ia(St,H):Qa(St,H)}var M=function St(H,G,dt,Ft){for(var Wt in H){var ye=H[Wt],De=G+Wt;ye instanceof Ut?dt[De]=[ye,Ft]:Array.isArray(ye)?dt[De]=[ye[0],ue(Ft,ye[1])]:St(ye,De+"/",dt,Ft)}};function x(St,H){var G=St.length;if(!H&&typeof TextEncoder!="undefined")return new TextEncoder().encode(St);for(var dt=new Ut(St.length+(St.length>>>1)),Ft=0,Wt=function(ur){dt[Ft++]=ur},ye=0;ye<G;++ye){if(Ft+5>dt.length){var De=new Ut(Ft+8+(G-ye<<1));De.set(dt),dt=De}var Ie=St.charCodeAt(ye);Ie<128||H?Wt(Ie):Ie<2048?(Wt(192|Ie>>>6),Wt(128|Ie&63)):Ie>55295&&Ie<57344?(Ie=65536+(Ie&1023<<10)|St.charCodeAt(++ye)&1023,Wt(240|Ie>>>18),Wt(128|Ie>>>12&63),Wt(128|Ie>>>6&63),Wt(128|Ie&63)):(Wt(224|Ie>>>12),Wt(128|Ie>>>6&63),Wt(128|Ie&63))}return fr(dt,0,Ft)}function j(St,H){var G="";if(!H&&typeof TextDecoder!="undefined")return new TextDecoder().decode(St);for(var dt=0;dt<St.length;){var Ft=St[dt++];Ft<128||H?G+=String.fromCharCode(Ft):Ft<224?G+=String.fromCharCode((Ft&31)<<6|St[dt++]&63):Ft<240?G+=String.fromCharCode((Ft&15)<<12|(St[dt++]&63)<<6|St[dt++]&63):(Ft=((Ft&15)<<18|(St[dt++]&63)<<12|(St[dt++]&63)<<6|St[dt++]&63)-65536,G+=String.fromCharCode(55296|Ft>>10,56320|Ft&1023))}return G}var q=function(H,G){return G+30+Rr(H,G+26)+Rr(H,G+28)},ct=function(H,G,dt){var Ft=Rr(H,G+28),Wt=j(H.subarray(G+46,G+46+Ft),!(Rr(H,G+8)&2048)),ye=G+46+Ft,De=dt?Pt(H,ye):[_r(H,G+20),_r(H,G+24),_r(H,G+42)],Ie=De[0],Ee=De[1],ur=De[2];return[Rr(H,G+10),Ie,Ee,Wt,ye+Rr(H,G+30)+Rr(H,G+32),ur]},Pt=function(H,G){for(;Rr(H,G)!=1;G+=4+Rr(H,G+2));return[_r(H,G+12),_r(H,G+4),_r(H,G+20)]},Ot=function(H,G,dt,Ft,Wt,ye,De,Ie,Ee,ur){var nr=ye.length,ti=Ft.length;Er(H,G,Ee!=null?33639248:67324752),G+=4,Ee!=null&&(H[G]=20,G+=2),H[G]=20,G+=2,H[G++]=ur==8&&(Ie.level==1?6:Ie.level<6?4:Ie.level==9?2:0),H[G++]=De&&8,H[G]=ur,G+=2;var Kr=new Date(Ie.mtime||Date.now()),Br=Kr.getFullYear()-1980;if(Br<0||Br>119)throw"date not in range 1980-2099";Er(H,G,(Br<<24)*2|Kr.getMonth()+1<<21|Kr.getDate()<<16|Kr.getHours()<<11|Kr.getMinutes()<<5|Kr.getSeconds()>>>1),G+=4,Er(H,G,dt),Er(H,G+4,ti),Er(H,G+8,Wt),Er(H,G+12,nr),G+=16,Ee!=null&&(Er(H,G+=10,Ee),G+=4),H.set(ye,G),G+=nr,Ee==null&&H.set(Ft,G)},Jt=function(H,G,dt,Ft,Wt){Er(H,G,101010256),Er(H,G+8,dt),Er(H,G+10,dt),Er(H,G+12,Ft),Er(H,G+16,Wt)};function _e(St,H,G){if(G||(G=H,H={}),typeof G!="function")throw"no callback";var dt={};M(St,"",dt,H);var Ft=Object.keys(dt),Wt=Ft.length,ye=0,De=0,Ie=Wt,Ee=new Array(Wt),ur=[],nr=function(){for(var Jr=0;Jr<ur.length;++Jr)ur[Jr]()},ti=function(){var Jr=new Ut(De+22),di=ye,Hi=De-ye;De=0;for(var Pi=0;Pi<Ie;++Pi){var C=Ee[Pi];try{Ot(Jr,De,C.c,C.d,C.m,C.n,C.u,C.p,null,C.t),Ot(Jr,ye,C.c,C.d,C.m,C.n,C.u,C.p,De,C.t),ye+=46+C.n.length,De+=30+C.n.length+C.d.length}catch(p){return G(p,null)}}Jt(Jr,ye,Ee.length,Hi,di),G(null,Jr)};Wt||ti();for(var Kr=function(Jr){var di=Ft[Jr],Hi=dt[di],Pi=Hi[0],C=Hi[1],p=vt(),v=Pi.length;p.p(Pi);var y=x(di),_=y.length,w=C.level==0?0:8,S=function(E,W){if(E)nr(),G(E,null);else{var nt=W.length;Ee[Jr]={t:w,d:W,m:v,c:p.d(),u:di.length!=nt,n:y,p:C},ye+=30+_+nt,De+=76+2*_+nt,--Wt||ti()}};if(y.length>65535&&S("filename too long",null),!w)S(null,Pi);else if(v<16e4)try{S(null,ra(Pi,C))}catch(D){S(D,null)}else ur.push(Xn(Pi,C,S))},Br=0;Br<Ie;++Br)Kr(Br);return nr}function jt(St,H){H===void 0&&(H={});var G={},dt=[];M(St,"",G,H);var Ft=0,Wt=0;for(var ye in G){var De=G[ye],Ie=De[0],Ee=De[1],ur=Ee.level==0?0:8,nr=x(ye),ti=nr.length;if(nr.length>65535)throw"filename too long";var Kr=ur?ra(Ie,Ee):Ie,Br=Kr.length,mi=vt();mi.p(Ie),dt.push({t:ur,d:Kr,m:Ie.length,c:mi.d(),u:ye.length!=ti,n:nr,o:Ft,p:Ee}),Ft+=30+ti+Br,Wt+=76+2*ti+Br}for(var Jr=new Ut(Wt+22),di=Ft,Hi=Wt-Ft,Pi=0;Pi<dt.length;++Pi){var C=dt[Pi];Ot(Jr,C.o,C.c,C.d,C.m,C.n,C.u,C.p,null,C.t),Ot(Jr,Ft,C.c,C.d,C.m,C.n,C.u,C.p,C.o,C.t),Ft+=46+C.n.length}return Jt(Jr,Ft,dt.length,Hi,di),Jr}function Te(St,H){if(typeof H!="function")throw"no callback";for(var G=[],dt=function(){for(var Kr=0;Kr<G.length;++Kr)G[Kr]()},Ft={},Wt=St.length-22;_r(St,Wt)!=101010256;--Wt)if(!Wt||St.length-Wt>65558){H("invalid zip file",null);return}var ye=Rr(St,Wt+8);ye||H(null,{});var De=ye,Ie=_r(St,Wt+16),Ee=Ie==4294967295;if(Ee){if(Wt=_r(St,Wt-12),_r(St,Wt)!=101075792)throw"invalid zip file";De=ye=_r(St,Wt+32),Ie=_r(St,Wt+48)}for(var ur=function(Kr){var Br=ct(St,Ie,Ee),mi=Br[0],Jr=Br[1],di=Br[2],Hi=Br[3],Pi=Br[4],C=Br[5],p=q(St,C);Ie=Pi;var v=function(w,S){w?(dt(),H(w,null)):(Ft[Hi]=S,--ye||H(null,Ft))};if(!mi)v(null,fr(St,p,p+Jr));else if(mi==8){var y=St.subarray(p,p+Jr);if(Jr<32e4)try{v(null,ia(y,new Ut(di)))}catch(_){v(_,null)}else G.push(Fr(y,{size:di},v))}else v("unknown compression type "+mi,null)},nr=0;nr<De;++nr)ur(nr);return dt}function Ir(St){for(var H={},G=St.length-22;_r(St,G)!=101010256;--G)if(!G||St.length-G>65558)throw"invalid zip file";var dt=Rr(St,G+8);if(!dt)return{};var Ft=_r(St,G+16),Wt=Ft==4294967295;if(Wt){if(G=_r(St,G-12),_r(St,G)!=101075792)throw"invalid zip file";dt=_r(St,G+32),Ft=_r(St,G+48)}for(var ye=0;ye<dt;++ye){var De=ct(St,Ft,Wt),Ie=De[0],Ee=De[1],ur=De[2],nr=De[3],ti=De[4],Kr=De[5],Br=q(St,Kr);if(Ft=ti,!Ie)H[nr]=fr(St,Br,Br+Ee);else if(Ie==8)H[nr]=ia(St.subarray(Br,Br+Ee),new Ut(ur));else throw"unknown compression type "+Ie}return H}},df8c:function(bi,gr,Ae){},epSk:function(bi,gr,Ae){(function(cr){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var P=P||{version:"4.6.0"};if(gr.fabric=P,typeof document!="undefined"&&typeof window!="undefined")document instanceof(typeof HTMLDocument!="undefined"?HTMLDocument:Document)?P.document=document:P.document=document.implementation.createHTMLDocument(""),P.window=window;else{var Ut=Ae(8),it=new Ut.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;P.document=it.document,P.jsdomImplForWrapper=Ae(9).implForWrapper,P.nodeCanvas=Ae(10).Canvas,P.window=it,DOMParser=P.window.DOMParser}P.isTouchSupported="ontouchstart"in P.window||"ontouchstart"in P.document||P.window&&P.window.navigator&&P.window.navigator.maxTouchPoints>0,P.isLikelyNode=typeof cr!="undefined"&&typeof window=="undefined",P.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],P.DPI=96,P.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",P.commaWsp="(?:\\s+,?\\s*|,\\s*)",P.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,P.reNonWord=/[ \n\.,;!\?\-]/,P.fontPaths={},P.iMatrix=[1,0,0,1,0,0],P.svgNS="http://www.w3.org/2000/svg",P.perfLimitSizeTotal=2097152,P.maxCacheSideLimit=4096,P.minCacheSideLimit=256,P.charWidthsCache={},P.textureSize=2048,P.disableStyleCopyPaste=!1,P.enableGLFiltering=!0,P.devicePixelRatio=P.window.devicePixelRatio||P.window.webkitDevicePixelRatio||P.window.mozDevicePixelRatio||1,P.browserShadowBlurConstant=1,P.arcToSegmentsCache={},P.boundsOfCurveCache={},P.cachesBoundsOfCurve=!0,P.forceGLPutImageData=!1,P.initFilterBackend=function(){if(P.enableGLFiltering&&P.isWebglSupported&&P.isWebglSupported(P.textureSize))return console.log("max texture size: "+P.maxTextureSize),new P.WebglFilterBackend({tileSize:P.textureSize});if(P.Canvas2dFilterBackend)return new P.Canvas2dFilterBackend},typeof document!="undefined"&&typeof window!="undefined"&&(window.fabric=P),function(){function L(e,r){if(!!this.__eventListeners[e]){var n=this.__eventListeners[e];r?n[n.indexOf(r)]=!1:P.util.array.fill(n,!1)}}function a(e,r){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var n in e)this.on(n,e[n]);else this.__eventListeners[e]||(this.__eventListeners[e]=[]),this.__eventListeners[e].push(r);return this}function f(e,r){var n=function(){r.apply(this,arguments),this.off(e,n)}.bind(this);this.on(e,n)}function h(e,r){if(arguments.length===1)for(var n in e)f.call(this,n,e[n]);else f.call(this,e,r);return this}function l(e,r){if(!this.__eventListeners)return this;if(arguments.length===0)for(e in this.__eventListeners)L.call(this,e);else if(arguments.length===1&&typeof arguments[0]=="object")for(var n in e)L.call(this,n,e[n]);else L.call(this,e,r);return this}function i(e,r){if(!this.__eventListeners)return this;var n=this.__eventListeners[e];if(!n)return this;for(var u=0,o=n.length;u<o;u++)n[u]&&n[u].call(this,r||{});return this.__eventListeners[e]=n.filter(function(d){return d!==!1}),this}P.Observable={fire:i,on:a,once:h,off:l}}(),P.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var a=0,f=arguments.length;a<f;a++)this._onObjectAdded(arguments[a]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(a,f,h){var l=this._objects;return h?l[f]=a:l.splice(f,0,a),this._onObjectAdded&&this._onObjectAdded(a),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var a=this._objects,f,h=!1,l=0,i=arguments.length;l<i;l++)f=a.indexOf(arguments[l]),f!==-1&&(h=!0,a.splice(f,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[l]));return this.renderOnAddRemove&&h&&this.requestRenderAll(),this},forEachObject:function(a,f){for(var h=this.getObjects(),l=0,i=h.length;l<i;l++)a.call(f,h[l],l,h);return this},getObjects:function(a){return typeof a=="undefined"?this._objects.concat():this._objects.filter(function(f){return f.type===a})},item:function(a){return this._objects[a]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(a,f){return this._objects.indexOf(a)>-1?!0:f?this._objects.some(function(h){return typeof h.contains=="function"&&h.contains(a,!0)}):!1},complexity:function(){return this._objects.reduce(function(a,f){return a+=f.complexity?f.complexity():0,a},0)}},P.CommonMethods={_setOptions:function(a){for(var f in a)this.set(f,a[f])},_initGradient:function(a,f){a&&a.colorStops&&!(a instanceof P.Gradient)&&this.set(f,new P.Gradient(a))},_initPattern:function(a,f,h){a&&a.source&&!(a instanceof P.Pattern)?this.set(f,new P.Pattern(a,h)):h&&h()},_setObject:function(a){for(var f in a)this._set(f,a[f])},set:function(a,f){return typeof a=="object"?this._setObject(a):this._set(a,f),this},_set:function(a,f){this[a]=f},toggle:function(a){var f=this.get(a);return typeof f=="boolean"&&this.set(a,!f),this},get:function(a){return this[a]}},function(L){var a=Math.sqrt,f=Math.atan2,h=Math.pow,l=Math.PI/180,i=Math.PI/2;P.util={cos:function(r){if(r===0)return 1;r<0&&(r=-r);var n=r/i;switch(n){case 1:case 3:return 0;case 2:return-1}return Math.cos(r)},sin:function(r){if(r===0)return 0;var n=r/i,u=1;switch(r<0&&(u=-1),n){case 1:return u;case 2:return 0;case 3:return-u}return Math.sin(r)},removeFromArray:function(r,n){var u=r.indexOf(n);return u!==-1&&r.splice(u,1),r},getRandomInt:function(r,n){return Math.floor(Math.random()*(n-r+1))+r},degreesToRadians:function(r){return r*l},radiansToDegrees:function(r){return r/l},rotatePoint:function(r,n,u){var o=new P.Point(r.x-n.x,r.y-n.y),d=P.util.rotateVector(o,u);return new P.Point(d.x,d.y).addEquals(n)},rotateVector:function(r,n){var u=P.util.sin(n),o=P.util.cos(n),d=r.x*o-r.y*u,b=r.x*u+r.y*o;return{x:d,y:b}},transformPoint:function(r,n,u){return u?new P.Point(n[0]*r.x+n[2]*r.y,n[1]*r.x+n[3]*r.y):new P.Point(n[0]*r.x+n[2]*r.y+n[4],n[1]*r.x+n[3]*r.y+n[5])},makeBoundingBoxFromPoints:function(r,n){if(n)for(var u=0;u<r.length;u++)r[u]=P.util.transformPoint(r[u],n);var o=[r[0].x,r[1].x,r[2].x,r[3].x],d=P.util.array.min(o),b=P.util.array.max(o),A=b-d,O=[r[0].y,r[1].y,r[2].y,r[3].y],Y=P.util.array.min(O),Z=P.util.array.max(O),mt=Z-Y;return{left:d,top:Y,width:A,height:mt}},invertTransform:function(r){var n=1/(r[0]*r[3]-r[1]*r[2]),u=[n*r[3],-n*r[1],-n*r[2],n*r[0]],o=P.util.transformPoint({x:r[4],y:r[5]},u,!0);return u[4]=-o.x,u[5]=-o.y,u},toFixed:function(r,n){return parseFloat(Number(r).toFixed(n))},parseUnit:function(r,n){var u=/\D{0,2}$/.exec(r),o=parseFloat(r);switch(n||(n=P.Text.DEFAULT_SVG_FONT_SIZE),u[0]){case"mm":return o*P.DPI/25.4;case"cm":return o*P.DPI/2.54;case"in":return o*P.DPI;case"pt":return o*P.DPI/72;case"pc":return o*P.DPI/72*12;case"em":return o*n;default:return o}},falseFunction:function(){return!1},getKlass:function(r,n){return r=P.util.string.camelize(r.charAt(0).toUpperCase()+r.slice(1)),P.util.resolveNamespace(n)[r]},getSvgAttributes:function(r){var n=["instantiated_by_use","style","id","class"];switch(r){case"linearGradient":n=n.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":n=n.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":n=n.concat(["offset","stop-color","stop-opacity"]);break}return n},resolveNamespace:function(r){if(!r)return P;var n=r.split("."),u=n.length,o,d=L||P.window;for(o=0;o<u;++o)d=d[n[o]];return d},loadImage:function(r,n,u,o){if(!r){n&&n.call(u,r);return}var d=P.util.createImage(),b=function(){n&&n.call(u,d,!1),d=d.onload=d.onerror=null};d.onload=b,d.onerror=function(){P.log("Error loading "+d.src),n&&n.call(u,null,!0),d=d.onload=d.onerror=null},r.indexOf("data")!==0&&o!==void 0&&o!==null&&(d.crossOrigin=o),r.substring(0,14)==="data:image/svg"&&(d.onload=null,P.util.loadImageInDom(d,b)),d.src=r},loadImageInDom:function(r,n){var u=P.document.createElement("div");u.style.width=u.style.height="1px",u.style.left=u.style.top="-100%",u.style.position="absolute",u.appendChild(r),P.document.querySelector("body").appendChild(u),r.onload=function(){n(),u.parentNode.removeChild(u),u=null}},enlivenObjects:function(r,n,u,o){r=r||[];var d=[],b=0,A=r.length;function O(){++b===A&&n&&n(d.filter(function(Y){return Y}))}if(!A){n&&n(d);return}r.forEach(function(Y,Z){if(!Y||!Y.type){O();return}var mt=P.util.getKlass(Y.type,u);mt.fromObject(Y,function(Xt,fe){fe||(d[Z]=Xt),o&&o(Y,Xt,fe),O()})})},enlivenPatterns:function(r,n){r=r||[];function u(){++d===b&&n&&n(o)}var o=[],d=0,b=r.length;if(!b){n&&n(o);return}r.forEach(function(A,O){A&&A.source?new P.Pattern(A,function(Y){o[O]=Y,u()}):(o[O]=A,u())})},groupSVGElements:function(r,n,u){var o;return r&&r.length===1?r[0]:(n&&(n.width&&n.height?n.centerPoint={x:n.width/2,y:n.height/2}:(delete n.width,delete n.height)),o=new P.Group(r,n),typeof u!="undefined"&&(o.sourcePath=u),o)},populateWithProperties:function(r,n,u){if(u&&Object.prototype.toString.call(u)==="[object Array]")for(var o=0,d=u.length;o<d;o++)u[o]in r&&(n[u[o]]=r[u[o]])},drawDashedLine:function(r,n,u,o,d,b){var A=o-n,O=d-u,Y=a(A*A+O*O),Z=f(O,A),mt=b.length,Xt=0,fe=!0;for(r.save(),r.translate(n,u),r.moveTo(0,0),r.rotate(Z),n=0;Y>n;)n+=b[Xt++%mt],n>Y&&(n=Y),r[fe?"lineTo":"moveTo"](n,0),fe=!fe;r.restore()},createCanvasElement:function(){return P.document.createElement("canvas")},copyCanvasElement:function(r){var n=P.util.createCanvasElement();return n.width=r.width,n.height=r.height,n.getContext("2d").drawImage(r,0,0),n},toDataURL:function(r,n,u){return r.toDataURL("image/"+n,u)},createImage:function(){return P.document.createElement("img")},multiplyTransformMatrices:function(r,n,u){return[r[0]*n[0]+r[2]*n[1],r[1]*n[0]+r[3]*n[1],r[0]*n[2]+r[2]*n[3],r[1]*n[2]+r[3]*n[3],u?0:r[0]*n[4]+r[2]*n[5]+r[4],u?0:r[1]*n[4]+r[3]*n[5]+r[5]]},qrDecompose:function(r){var n=f(r[1],r[0]),u=h(r[0],2)+h(r[1],2),o=a(u),d=(r[0]*r[3]-r[2]*r[1])/o,b=f(r[0]*r[2]+r[1]*r[3],u);return{angle:n/l,scaleX:o,scaleY:d,skewX:b/l,skewY:0,translateX:r[4],translateY:r[5]}},calcRotateMatrix:function(r){if(!r.angle)return P.iMatrix.concat();var n=P.util.degreesToRadians(r.angle),u=P.util.cos(n),o=P.util.sin(n);return[u,o,-o,u,0,0]},calcDimensionsMatrix:function(r){var n=typeof r.scaleX=="undefined"?1:r.scaleX,u=typeof r.scaleY=="undefined"?1:r.scaleY,o=[r.flipX?-n:n,0,0,r.flipY?-u:u,0,0],d=P.util.multiplyTransformMatrices,b=P.util.degreesToRadians;return r.skewX&&(o=d(o,[1,0,Math.tan(b(r.skewX)),1],!0)),r.skewY&&(o=d(o,[1,Math.tan(b(r.skewY)),0,1],!0)),o},composeMatrix:function(r){var n=[1,0,0,1,r.translateX||0,r.translateY||0],u=P.util.multiplyTransformMatrices;return r.angle&&(n=u(n,P.util.calcRotateMatrix(r))),(r.scaleX!==1||r.scaleY!==1||r.skewX||r.skewY||r.flipX||r.flipY)&&(n=u(n,P.util.calcDimensionsMatrix(r))),n},resetObjectTransform:function(r){r.scaleX=1,r.scaleY=1,r.skewX=0,r.skewY=0,r.flipX=!1,r.flipY=!1,r.rotate(0)},saveObjectTransform:function(r){return{scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,angle:r.angle,left:r.left,flipX:r.flipX,flipY:r.flipY,top:r.top}},isTransparent:function(r,n,u,o){o>0&&(n>o?n-=o:n=0,u>o?u-=o:u=0);var d=!0,b,A,O=r.getImageData(n,u,o*2||1,o*2||1),Y=O.data.length;for(b=3;b<Y&&(A=O.data[b],d=A<=0,d!==!1);b+=4);return O=null,d},parsePreserveAspectRatioAttribute:function(r){var n="meet",u="Mid",o="Mid",d=r.split(" "),b;return d&&d.length&&(n=d.pop(),n!=="meet"&&n!=="slice"?(b=n,n="meet"):d.length&&(b=d.pop())),u=b!=="none"?b.slice(1,4):"none",o=b!=="none"?b.slice(5,8):"none",{meetOrSlice:n,alignX:u,alignY:o}},clearFabricFontCache:function(r){r=(r||"").toLowerCase(),r?P.charWidthsCache[r]&&delete P.charWidthsCache[r]:P.charWidthsCache={}},limitDimsByArea:function(r,n){var u=Math.sqrt(n*r),o=Math.floor(n/u);return{x:Math.floor(u),y:o}},capValue:function(r,n,u){return Math.max(r,Math.min(n,u))},findScaleToFit:function(r,n){return Math.min(n.width/r.width,n.height/r.height)},findScaleToCover:function(r,n){return Math.max(n.width/r.width,n.height/r.height)},matrixToSVG:function(r){return"matrix("+r.map(function(n){return P.util.toFixed(n,P.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(r,n){var u=P.util.invertTransform(n),o=P.util.multiplyTransformMatrices(u,r.calcOwnMatrix());P.util.applyTransformToObject(r,o)},addTransformToObject:function(r,n){P.util.applyTransformToObject(r,P.util.multiplyTransformMatrices(n,r.calcOwnMatrix()))},applyTransformToObject:function(r,n){var u=P.util.qrDecompose(n),o=new P.Point(u.translateX,u.translateY);r.flipX=!1,r.flipY=!1,r.set("scaleX",u.scaleX),r.set("scaleY",u.scaleY),r.skewX=u.skewX,r.skewY=u.skewY,r.angle=u.angle,r.setPositionByOrigin(o,"center","center")},sizeAfterTransform:function(r,n,u){var o=r/2,d=n/2,b=[{x:-o,y:-d},{x:o,y:-d},{x:-o,y:d},{x:o,y:d}],A=P.util.calcDimensionsMatrix(u),O=P.util.makeBoundingBoxFromPoints(b,A);return{x:O.width,y:O.height}}}}(gr),function(){var L=Array.prototype.join,a={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},f={m:"l",M:"L"};function h(ht,Et,te,_t,xt,Ct,vt,de,ae,ue,ke){var pe=P.util.cos(ht),Qt=P.util.sin(ht),It=P.util.cos(Et),re=P.util.sin(Et),he=te*xt*It-_t*Ct*re+vt,Le=_t*xt*It+te*Ct*re+de,K=ue+ae*(-te*xt*Qt-_t*Ct*pe),N=ke+ae*(-_t*xt*Qt+te*Ct*pe),R=he+ae*(te*xt*re+_t*Ct*It),st=Le+ae*(_t*xt*re-te*Ct*It);return["C",K,N,R,st,he,Le]}function l(ht,Et,te,_t,xt,Ct,vt){var de=Math.PI,ae=vt*de/180,ue=P.util.sin(ae),ke=P.util.cos(ae),pe=0,Qt=0;te=Math.abs(te),_t=Math.abs(_t);var It=-ke*ht*.5-ue*Et*.5,re=-ke*Et*.5+ue*ht*.5,he=te*te,Le=_t*_t,K=re*re,N=It*It,R=he*Le-he*K-Le*N,st=0;if(R<0){var ft=Math.sqrt(1-R/(he*Le));te*=ft,_t*=ft}else st=(xt===Ct?-1:1)*Math.sqrt(R/(he*K+Le*N));var ee=st*te*re/_t,se=-st*_t*It/te,br=ke*ee-ue*se+ht*.5,Rr=ue*ee+ke*se+Et*.5,_r=i(1,0,(It-ee)/te,(re-se)/_t),Er=i((It-ee)/te,(re-se)/_t,(-It-ee)/te,(-re-se)/_t);Ct===0&&Er>0?Er-=2*de:Ct===1&&Er<0&&(Er+=2*de);for(var Nr=Math.ceil(Math.abs(Er/de*2)),li=[],Bi=Er/Nr,Mi=8/3*Math.sin(Bi/4)*Math.sin(Bi/4)/Math.sin(Bi/2),rn=_r+Bi,nn=0;nn<Nr;nn++)li[nn]=h(_r,rn,ke,ue,te,_t,br,Rr,Mi,pe,Qt),pe=li[nn][5],Qt=li[nn][6],_r=rn,rn+=Bi;return li}function i(ht,Et,te,_t){var xt=Math.atan2(Et,ht),Ct=Math.atan2(_t,te);return Ct>=xt?Ct-xt:2*Math.PI-(xt-Ct)}function e(ht,Et,te,_t,xt,Ct,vt,de){var ae;if(P.cachesBoundsOfCurve&&(ae=L.call(arguments),P.boundsOfCurveCache[ae]))return P.boundsOfCurveCache[ae];var ue=Math.sqrt,ke=Math.min,pe=Math.max,Qt=Math.abs,It=[],re=[[],[]],he,Le,K,N,R,st,ft,ee;Le=6*ht-12*te+6*xt,he=-3*ht+9*te-9*xt+3*vt,K=3*te-3*ht;for(var se=0;se<2;++se){if(se>0&&(Le=6*Et-12*_t+6*Ct,he=-3*Et+9*_t-9*Ct+3*de,K=3*_t-3*Et),Qt(he)<1e-12){if(Qt(Le)<1e-12)continue;N=-K/Le,0<N&&N<1&&It.push(N);continue}ft=Le*Le-4*K*he,!(ft<0)&&(ee=ue(ft),R=(-Le+ee)/(2*he),0<R&&R<1&&It.push(R),st=(-Le-ee)/(2*he),0<st&&st<1&&It.push(st))}for(var br,Rr,_r=It.length,Er=_r,Nr;_r--;)N=It[_r],Nr=1-N,br=Nr*Nr*Nr*ht+3*Nr*Nr*N*te+3*Nr*N*N*xt+N*N*N*vt,re[0][_r]=br,Rr=Nr*Nr*Nr*Et+3*Nr*Nr*N*_t+3*Nr*N*N*Ct+N*N*N*de,re[1][_r]=Rr;re[0][Er]=ht,re[1][Er]=Et,re[0][Er+1]=vt,re[1][Er+1]=de;var li=[{x:ke.apply(null,re[0]),y:ke.apply(null,re[1])},{x:pe.apply(null,re[0]),y:pe.apply(null,re[1])}];return P.cachesBoundsOfCurve&&(P.boundsOfCurveCache[ae]=li),li}function r(ht,Et,te){for(var _t=te[1],xt=te[2],Ct=te[3],vt=te[4],de=te[5],ae=te[6],ue=te[7],ke=l(ae-ht,ue-Et,_t,xt,vt,de,Ct),pe=0,Qt=ke.length;pe<Qt;pe++)ke[pe][1]+=ht,ke[pe][2]+=Et,ke[pe][3]+=ht,ke[pe][4]+=Et,ke[pe][5]+=ht,ke[pe][6]+=Et;return ke}function n(ht){var Et=0,te=0,_t=ht.length,xt=0,Ct=0,vt,de,ae,ue=[],ke,pe,Qt;for(de=0;de<_t;++de){switch(ae=!1,vt=ht[de].slice(0),vt[0]){case"l":vt[0]="L",vt[1]+=Et,vt[2]+=te;case"L":Et=vt[1],te=vt[2];break;case"h":vt[1]+=Et;case"H":vt[0]="L",vt[2]=te,Et=vt[1];break;case"v":vt[1]+=te;case"V":vt[0]="L",te=vt[1],vt[1]=Et,vt[2]=te;break;case"m":vt[0]="M",vt[1]+=Et,vt[2]+=te;case"M":Et=vt[1],te=vt[2],xt=vt[1],Ct=vt[2];break;case"c":vt[0]="C",vt[1]+=Et,vt[2]+=te,vt[3]+=Et,vt[4]+=te,vt[5]+=Et,vt[6]+=te;case"C":pe=vt[3],Qt=vt[4],Et=vt[5],te=vt[6];break;case"s":vt[0]="S",vt[1]+=Et,vt[2]+=te,vt[3]+=Et,vt[4]+=te;case"S":ke==="C"?(pe=2*Et-pe,Qt=2*te-Qt):(pe=Et,Qt=te),Et=vt[3],te=vt[4],vt[0]="C",vt[5]=vt[3],vt[6]=vt[4],vt[3]=vt[1],vt[4]=vt[2],vt[1]=pe,vt[2]=Qt,pe=vt[3],Qt=vt[4];break;case"q":vt[0]="Q",vt[1]+=Et,vt[2]+=te,vt[3]+=Et,vt[4]+=te;case"Q":pe=vt[1],Qt=vt[2],Et=vt[3],te=vt[4];break;case"t":vt[0]="T",vt[1]+=Et,vt[2]+=te;case"T":ke==="Q"?(pe=2*Et-pe,Qt=2*te-Qt):(pe=Et,Qt=te),vt[0]="Q",Et=vt[1],te=vt[2],vt[1]=pe,vt[2]=Qt,vt[3]=Et,vt[4]=te;break;case"a":vt[0]="A",vt[6]+=Et,vt[7]+=te;case"A":ae=!0,ue=ue.concat(r(Et,te,vt)),Et=vt[6],te=vt[7];break;case"z":case"Z":Et=xt,te=Ct;break;default:}ae||ue.push(vt),ke=vt[0]}return ue}function u(ht,Et,te,_t){return Math.sqrt((te-ht)*(te-ht)+(_t-Et)*(_t-Et))}function o(ht){return ht*ht*ht}function d(ht){return 3*ht*ht*(1-ht)}function b(ht){return 3*ht*(1-ht)*(1-ht)}function A(ht){return(1-ht)*(1-ht)*(1-ht)}function O(ht,Et,te,_t,xt,Ct,vt,de){return function(ae){var ue=o(ae),ke=d(ae),pe=b(ae),Qt=A(ae);return{x:vt*ue+xt*ke+te*pe+ht*Qt,y:de*ue+Ct*ke+_t*pe+Et*Qt}}}function Y(ht,Et,te,_t,xt,Ct,vt,de){return function(ae){var ue=1-ae,ke=3*ue*ue*(te-ht)+6*ue*ae*(xt-te)+3*ae*ae*(vt-xt),pe=3*ue*ue*(_t-Et)+6*ue*ae*(Ct-_t)+3*ae*ae*(de-Ct);return Math.atan2(pe,ke)}}function Z(ht){return ht*ht}function mt(ht){return 2*ht*(1-ht)}function Xt(ht){return(1-ht)*(1-ht)}function fe(ht,Et,te,_t,xt,Ct){return function(vt){var de=Z(vt),ae=mt(vt),ue=Xt(vt);return{x:xt*de+te*ae+ht*ue,y:Ct*de+_t*ae+Et*ue}}}function Ue(ht,Et,te,_t,xt,Ct){return function(vt){var de=1-vt,ae=2*de*(te-ht)+2*vt*(xt-te),ue=2*de*(_t-Et)+2*vt*(Ct-_t);return Math.atan2(ue,ae)}}function or(ht,Et,te){var _t={x:Et,y:te},xt,Ct=0,vt;for(vt=1;vt<=100;vt+=1)xt=ht(vt/100),Ct+=u(_t.x,_t.y,xt.x,xt.y),_t=xt;return Ct}function fr(ht,Et){for(var te=0,_t=0,xt=ht.iterator,Ct={x:ht.x,y:ht.y},vt,de,ae=.01,ue=ht.angleFinder,ke;_t<Et&&te<=1&&ae>1e-4;)vt=xt(te),ke=te,de=u(Ct.x,Ct.y,vt.x,vt.y),de+_t>Et?(ae/=2,te-=ae):(Ct=vt,te+=ae,_t+=de);return vt.angle=ue(ke),vt}function tr(ht){for(var Et=0,te=ht.length,_t,xt=0,Ct=0,vt=0,de=0,ae=[],ue,ke,pe,Qt=0;Qt<te;Qt++){switch(_t=ht[Qt],ke={x:xt,y:Ct,command:_t[0]},_t[0]){case"M":ke.length=0,vt=xt=_t[1],de=Ct=_t[2];break;case"L":ke.length=u(xt,Ct,_t[1],_t[2]),xt=_t[1],Ct=_t[2];break;case"C":ue=O(xt,Ct,_t[1],_t[2],_t[3],_t[4],_t[5],_t[6]),pe=Y(xt,Ct,_t[1],_t[2],_t[3],_t[4],_t[5],_t[6]),ke.iterator=ue,ke.angleFinder=pe,ke.length=or(ue,xt,Ct),xt=_t[5],Ct=_t[6];break;case"Q":ue=fe(xt,Ct,_t[1],_t[2],_t[3],_t[4]),pe=Ue(xt,Ct,_t[1],_t[2],_t[3],_t[4]),ke.iterator=ue,ke.angleFinder=pe,ke.length=or(ue,xt,Ct),xt=_t[3],Ct=_t[4];break;case"Z":case"z":ke.destX=vt,ke.destY=de,ke.length=u(xt,Ct,vt,de),xt=vt,Ct=de;break}Et+=ke.length,ae.push(ke)}return ae.push({length:Et,x:xt,y:Ct}),ae}function We(ht,Et,te){te||(te=tr(ht));for(var _t=0;Et-te[_t].length>0&&_t<te.length-2;)Et-=te[_t].length,_t++;var xt=te[_t],Ct=Et/xt.length,vt=xt.command,de=ht[_t],ae;switch(vt){case"M":return{x:xt.x,y:xt.y,angle:0};case"Z":case"z":return ae=new P.Point(xt.x,xt.y).lerp(new P.Point(xt.destX,xt.destY),Ct),ae.angle=Math.atan2(xt.destY-xt.y,xt.destX-xt.x),ae;case"L":return ae=new P.Point(xt.x,xt.y).lerp(new P.Point(de[1],de[2]),Ct),ae.angle=Math.atan2(de[2]-xt.y,de[1]-xt.x),ae;case"C":return fr(xt,Et);case"Q":return fr(xt,Et)}}function vr(ht){var Et=[],te=[],_t,xt,Ct=P.rePathCommand,vt="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",de="("+vt+")"+P.commaWsp,ae="([01])"+P.commaWsp+"?",ue=de+"?"+de+"?"+de+ae+ae+de+"?("+vt+")",ke=new RegExp(ue,"g"),pe,Qt,It;if(!ht||!ht.match)return Et;It=ht.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var re=0,he,Le=It.length;re<Le;re++){_t=It[re],Qt=_t.slice(1).trim(),te.length=0;var K=_t.charAt(0);if(he=[K],K.toLowerCase()==="a")for(var N;N=ke.exec(Qt);)for(var R=1;R<N.length;R++)te.push(N[R]);else for(;pe=Ct.exec(Qt);)te.push(pe[0]);for(var R=0,st=te.length;R<st;R++)xt=parseFloat(te[R]),isNaN(xt)||he.push(xt);var ft=a[K.toLowerCase()],ee=f[K]||K;if(he.length-1>ft)for(var se=1,br=he.length;se<br;se+=ft)Et.push([K].concat(he.slice(se,se+ft))),K=ee;else Et.push(he)}return Et}function Or(ht,Et){var te=[],_t,xt=new P.Point(ht[0].x,ht[0].y),Ct=new P.Point(ht[1].x,ht[1].y),vt=ht.length,de=1,ae=0,ue=vt>2;for(Et=Et||0,ue&&(de=ht[2].x<Ct.x?-1:ht[2].x===Ct.x?0:1,ae=ht[2].y<Ct.y?-1:ht[2].y===Ct.y?0:1),te.push(["M",xt.x-de*Et,xt.y-ae*Et]),_t=1;_t<vt;_t++){if(!xt.eq(Ct)){var ke=xt.midPointFrom(Ct);te.push(["Q",xt.x,xt.y,ke.x,ke.y])}xt=ht[_t],_t+1<ht.length&&(Ct=ht[_t+1])}return ue&&(de=xt.x>ht[_t-2].x?1:xt.x===ht[_t-2].x?0:-1,ae=xt.y>ht[_t-2].y?1:xt.y===ht[_t-2].y?0:-1),te.push(["L",xt.x+de*Et,xt.y+ae*Et]),te}function Lr(ht,Et,te){return te&&(Et=P.util.multiplyTransformMatrices(Et,[1,0,0,1,-te.x,-te.y])),ht.map(function(_t){for(var xt=_t.slice(0),Ct={},vt=1;vt<_t.length-1;vt+=2)Ct.x=_t[vt],Ct.y=_t[vt+1],Ct=P.util.transformPoint(Ct,Et),xt[vt]=Ct.x,xt[vt+1]=Ct.y;return xt})}function at(ht,Et,te,_t,xt,Ct,vt,de,ae){for(var ue=0,ke=0,pe,Qt=[],It=l(de-ht,ae-Et,te,_t,Ct,vt,xt),re=0,he=It.length;re<he;re++)pe=e(ue,ke,It[re][1],It[re][2],It[re][3],It[re][4],It[re][5],It[re][6]),Qt.push({x:pe[0].x+ht,y:pe[0].y+Et}),Qt.push({x:pe[1].x+ht,y:pe[1].y+Et}),ue=It[re][5],ke=It[re][6];return Qt}function ve(ht,Et,te,_t){_t=_t.slice(0).unshift("X");var xt=r(Et,te,_t);xt.forEach(function(Ct){ht.bezierCurveTo.apply(ht,Ct.slice(1))})}P.util.joinPath=function(ht){return ht.map(function(Et){return Et.join(" ")}).join(" ")},P.util.parsePath=vr,P.util.makePathSimpler=n,P.util.getSmoothPathFromPoints=Or,P.util.getPathSegmentsInfo=tr,P.util.getBoundsOfCurve=e,P.util.getPointOnPath=We,P.util.transformPath=Lr,P.util.fromArcToBeizers=r,P.util.getBoundsOfArc=at,P.util.drawArc=ve}(),function(){var L=Array.prototype.slice;function a(e,r){for(var n=L.call(arguments,2),u=[],o=0,d=e.length;o<d;o++)u[o]=n.length?e[o][r].apply(e[o],n):e[o][r].call(e[o]);return u}function f(e,r){return i(e,r,function(n,u){return n>=u})}function h(e,r){return i(e,r,function(n,u){return n<u})}function l(e,r){for(var n=e.length;n--;)e[n]=r;return e}function i(e,r,n){if(!(!e||e.length===0)){var u=e.length-1,o=r?e[u][r]:e[u];if(r)for(;u--;)n(e[u][r],o)&&(o=e[u][r]);else for(;u--;)n(e[u],o)&&(o=e[u]);return o}}P.util.array={fill:l,invoke:a,min:h,max:f}}(),function(){function L(f,h,l){if(l)if(!P.isLikelyNode&&h instanceof Element)f=h;else if(h instanceof Array){f=[];for(var i=0,e=h.length;i<e;i++)f[i]=L({},h[i],l)}else if(h&&typeof h=="object")for(var r in h)r==="canvas"||r==="group"?f[r]=null:h.hasOwnProperty(r)&&(f[r]=L({},h[r],l));else f=h;else for(var r in h)f[r]=h[r];return f}function a(f,h){return L({},f,h)}P.util.object={extend:L,clone:a},P.util.object.extend(P.util,P.Observable)}(),function(){function L(i){return i.replace(/-+(.)?/g,function(e,r){return r?r.toUpperCase():""})}function a(i,e){return i.charAt(0).toUpperCase()+(e?i.slice(1):i.slice(1).toLowerCase())}function f(i){return i.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(i){var e=0,r,n=[];for(e=0,r;e<i.length;e++)(r=l(i,e))!==!1&&n.push(r);return n}function l(i,e){var r=i.charCodeAt(e);if(isNaN(r))return"";if(r<55296||r>57343)return i.charAt(e);if(55296<=r&&r<=56319){if(i.length<=e+1)throw"High surrogate without following low surrogate";var n=i.charCodeAt(e+1);if(56320>n||n>57343)throw"High surrogate without following low surrogate";return i.charAt(e)+i.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";var u=i.charCodeAt(e-1);if(55296>u||u>56319)throw"Low surrogate without preceding high surrogate";return!1}P.util.string={camelize:L,capitalize:a,escapeXml:f,graphemeSplit:h}}(),function(){var L=Array.prototype.slice,a=function(){},f=function(){for(var r in{toString:1})if(r==="toString")return!1;return!0}(),h=function(n,u,o){for(var d in u)d in n.prototype&&typeof n.prototype[d]=="function"&&(u[d]+"").indexOf("callSuper")>-1?n.prototype[d]=function(b){return function(){var A=this.constructor.superclass;this.constructor.superclass=o;var O=u[b].apply(this,arguments);if(this.constructor.superclass=A,b!=="initialize")return O}}(d):n.prototype[d]=u[d],f&&(u.toString!==Object.prototype.toString&&(n.prototype.toString=u.toString),u.valueOf!==Object.prototype.valueOf&&(n.prototype.valueOf=u.valueOf))};function l(){}function i(r){for(var n=null,u=this;u.constructor.superclass;){var o=u.constructor.superclass.prototype[r];if(u[r]!==o){n=o;break}u=u.constructor.superclass.prototype}return n?arguments.length>1?n.apply(this,L.call(arguments,1)):n.call(this):console.log("tried to callSuper "+r+", method not found in prototype chain",this)}function e(){var r=null,n=L.call(arguments,0);typeof n[0]=="function"&&(r=n.shift());function u(){this.initialize.apply(this,arguments)}u.superclass=r,u.subclasses=[],r&&(l.prototype=r.prototype,u.prototype=new l,r.subclasses.push(u));for(var o=0,d=n.length;o<d;o++)h(u,n[o],r);return u.prototype.initialize||(u.prototype.initialize=a),u.prototype.constructor=u,u.prototype.callSuper=i,u}P.util.createClass=e}(),function(){var L=!!P.document.createElement("div").attachEvent,a=["touchstart","touchmove","touchend"];P.util.addListener=function(h,l,i,e){h&&h.addEventListener(l,i,L?!1:e)},P.util.removeListener=function(h,l,i,e){h&&h.removeEventListener(l,i,L?!1:e)};function f(h){var l=h.changedTouches;return l&&l[0]?l[0]:h}P.util.getPointer=function(h){var l=h.target,i=P.util.getScrollLeftTop(l),e=f(h);return{x:e.clientX+i.left,y:e.clientY+i.top}},P.util.isTouchEvent=function(h){return a.indexOf(h.type)>-1||h.pointerType==="touch"}}(),function(){function L(e,r){var n=e.style;if(!n)return e;if(typeof r=="string")return e.style.cssText+=";"+r,r.indexOf("opacity")>-1?i(e,r.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var u in r)if(u==="opacity")i(e,r[u]);else{var o=u==="float"||u==="cssFloat"?typeof n.styleFloat=="undefined"?"cssFloat":"styleFloat":u;n[o]=r[u]}return e}var a=P.document.createElement("div"),f=typeof a.style.opacity=="string",h=typeof a.style.filter=="string",l=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,i=function(r){return r};f?i=function(r,n){return r.style.opacity=n,r}:h&&(i=function(r,n){var u=r.style;return r.currentStyle&&!r.currentStyle.hasLayout&&(u.zoom=1),l.test(u.filter)?(n=n>=.9999?"":"alpha(opacity="+n*100+")",u.filter=u.filter.replace(l,n)):u.filter+=" alpha(opacity="+n*100+")",r}),P.util.setStyle=L}(),function(){var L=Array.prototype.slice;function a(A){return typeof A=="string"?P.document.getElementById(A):A}var f,h=function(O){return L.call(O,0)};try{f=h(P.document.childNodes)instanceof Array}catch(A){}f||(h=function(O){for(var Y=new Array(O.length),Z=O.length;Z--;)Y[Z]=O[Z];return Y});function l(A,O){var Y=P.document.createElement(A);for(var Z in O)Z==="class"?Y.className=O[Z]:Z==="for"?Y.htmlFor=O[Z]:Y.setAttribute(Z,O[Z]);return Y}function i(A,O){A&&(" "+A.className+" ").indexOf(" "+O+" ")===-1&&(A.className+=(A.className?" ":"")+O)}function e(A,O,Y){return typeof O=="string"&&(O=l(O,Y)),A.parentNode&&A.parentNode.replaceChild(O,A),O.appendChild(A),O}function r(A){for(var O=0,Y=0,Z=P.document.documentElement,mt=P.document.body||{scrollLeft:0,scrollTop:0};A&&(A.parentNode||A.host)&&(A=A.parentNode||A.host,A===P.document?(O=mt.scrollLeft||Z.scrollLeft||0,Y=mt.scrollTop||Z.scrollTop||0):(O+=A.scrollLeft||0,Y+=A.scrollTop||0),!(A.nodeType===1&&A.style.position==="fixed")););return{left:O,top:Y}}function n(A){var O,Y=A&&A.ownerDocument,Z={left:0,top:0},mt={left:0,top:0},Xt,fe={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!Y)return mt;for(var Ue in fe)mt[fe[Ue]]+=parseInt(u(A,Ue),10)||0;return O=Y.documentElement,typeof A.getBoundingClientRect!="undefined"&&(Z=A.getBoundingClientRect()),Xt=r(A),{left:Z.left+Xt.left-(O.clientLeft||0)+mt.left,top:Z.top+Xt.top-(O.clientTop||0)+mt.top}}var u;P.document.defaultView&&P.document.defaultView.getComputedStyle?u=function(O,Y){var Z=P.document.defaultView.getComputedStyle(O,null);return Z?Z[Y]:void 0}:u=function(O,Y){var Z=O.style[Y];return!Z&&O.currentStyle&&(Z=O.currentStyle[Y]),Z},function(){var A=P.document.documentElement.style,O="userSelect"in A?"userSelect":"MozUserSelect"in A?"MozUserSelect":"WebkitUserSelect"in A?"WebkitUserSelect":"KhtmlUserSelect"in A?"KhtmlUserSelect":"";function Y(mt){return typeof mt.onselectstart!="undefined"&&(mt.onselectstart=P.util.falseFunction),O?mt.style[O]="none":typeof mt.unselectable=="string"&&(mt.unselectable="on"),mt}function Z(mt){return typeof mt.onselectstart!="undefined"&&(mt.onselectstart=null),O?mt.style[O]="":typeof mt.unselectable=="string"&&(mt.unselectable=""),mt}P.util.makeElementUnselectable=Y,P.util.makeElementSelectable=Z}();function o(A){var O=P.jsdomImplForWrapper(A);return O._canvas||O._image}function d(A){if(!!P.isLikelyNode){var O=P.jsdomImplForWrapper(A);O&&(O._image=null,O._canvas=null,O._currentSrc=null,O._attributes=null,O._classList=null)}}function b(A,O){A.imageSmoothingEnabled=A.imageSmoothingEnabled||A.webkitImageSmoothingEnabled||A.mozImageSmoothingEnabled||A.msImageSmoothingEnabled||A.oImageSmoothingEnabled,A.imageSmoothingEnabled=O}P.util.setImageSmoothing=b,P.util.getById=a,P.util.toArray=h,P.util.addClass=i,P.util.makeElement=l,P.util.wrapElement=e,P.util.getScrollLeftTop=r,P.util.getElementOffset=n,P.util.getNodeCanvas=o,P.util.cleanUpJsdomNode=d}(),function(){function L(h,l){return h+(/\?/.test(h)?"&":"?")+l}function a(){}function f(h,l){l||(l={});var i=l.method?l.method.toUpperCase():"GET",e=l.onComplete||function(){},r=new P.window.XMLHttpRequest,n=l.body||l.parameters;return r.onreadystatechange=function(){r.readyState===4&&(e(r),r.onreadystatechange=a)},i==="GET"&&(n=null,typeof l.parameters=="string"&&(h=L(h,l.parameters))),r.open(i,h,!0),(i==="POST"||i==="PUT")&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(n),r}P.util.request=f}(),P.log=console.log,P.warn=console.warn,function(){function L(){return!1}function a(r,n,u,o){return-u*Math.cos(r/o*(Math.PI/2))+u+n}function f(r){var n=!1;return i(function(u){r||(r={});var o=u||+new Date,d=r.duration||500,b=o+d,A,O=r.onChange||L,Y=r.abort||L,Z=r.onComplete||L,mt=r.easing||a,Xt="startValue"in r?r.startValue:0,fe="endValue"in r?r.endValue:100,Ue=r.byValue||fe-Xt;r.onStart&&r.onStart(),function or(fr){A=fr||+new Date;var tr=A>b?d:A-o,We=tr/d,vr=mt(tr,Xt,Ue,d),Or=Math.abs((vr-Xt)/Ue);if(!n){if(Y(vr,Or,We)){Z(fe,1,1);return}if(A>b){O(fe,1,1),Z(fe,1,1);return}else O(vr,Or,We),i(or)}}(o)}),function(){n=!0}}var h=P.window.requestAnimationFrame||P.window.webkitRequestAnimationFrame||P.window.mozRequestAnimationFrame||P.window.oRequestAnimationFrame||P.window.msRequestAnimationFrame||function(r){return P.window.setTimeout(r,1e3/60)},l=P.window.cancelAnimationFrame||P.window.clearTimeout;function i(){return h.apply(P.window,arguments)}function e(){return l.apply(P.window,arguments)}P.util.animate=f,P.util.requestAnimFrame=i,P.util.cancelAnimFrame=e}(),function(){function L(f,h,l){var i="rgba("+parseInt(f[0]+l*(h[0]-f[0]),10)+","+parseInt(f[1]+l*(h[1]-f[1]),10)+","+parseInt(f[2]+l*(h[2]-f[2]),10);return i+=","+(f&&h?parseFloat(f[3]+l*(h[3]-f[3])):1),i+=")",i}function a(f,h,l,i){var e=new P.Color(f).getSource(),r=new P.Color(h).getSource(),n=i.onComplete,u=i.onChange;return i=i||{},P.util.animate(P.util.object.extend(i,{duration:l||500,startValue:e,endValue:r,byValue:r,easing:function(d,b,A,O){var Y=i.colorEasing?i.colorEasing(d,O):1-Math.cos(d/O*(Math.PI/2));return L(b,A,Y)},onComplete:function(d,b,A){if(n)return n(L(r,r,0),b,A)},onChange:function(d,b,A){if(u){if(Array.isArray(d))return u(L(d,d,0),b,A);u(d,b,A)}}}))}P.util.animateColor=a}(),function(){function L(at,ve,ht,Et){return at<Math.abs(ve)?(at=ve,Et=ht/4):ve===0&&at===0?Et=ht/(2*Math.PI)*Math.asin(1):Et=ht/(2*Math.PI)*Math.asin(ve/at),{a:at,c:ve,p:ht,s:Et}}function a(at,ve,ht){return at.a*Math.pow(2,10*(ve-=1))*Math.sin((ve*ht-at.s)*(2*Math.PI)/at.p)}function f(at,ve,ht,Et){return ht*((at=at/Et-1)*at*at+1)+ve}function h(at,ve,ht,Et){return at/=Et/2,at<1?ht/2*at*at*at+ve:ht/2*((at-=2)*at*at+2)+ve}function l(at,ve,ht,Et){return ht*(at/=Et)*at*at*at+ve}function i(at,ve,ht,Et){return-ht*((at=at/Et-1)*at*at*at-1)+ve}function e(at,ve,ht,Et){return at/=Et/2,at<1?ht/2*at*at*at*at+ve:-ht/2*((at-=2)*at*at*at-2)+ve}function r(at,ve,ht,Et){return ht*(at/=Et)*at*at*at*at+ve}function n(at,ve,ht,Et){return ht*((at=at/Et-1)*at*at*at*at+1)+ve}function u(at,ve,ht,Et){return at/=Et/2,at<1?ht/2*at*at*at*at*at+ve:ht/2*((at-=2)*at*at*at*at+2)+ve}function o(at,ve,ht,Et){return-ht*Math.cos(at/Et*(Math.PI/2))+ht+ve}function d(at,ve,ht,Et){return ht*Math.sin(at/Et*(Math.PI/2))+ve}function b(at,ve,ht,Et){return-ht/2*(Math.cos(Math.PI*at/Et)-1)+ve}function A(at,ve,ht,Et){return at===0?ve:ht*Math.pow(2,10*(at/Et-1))+ve}function O(at,ve,ht,Et){return at===Et?ve+ht:ht*(-Math.pow(2,-10*at/Et)+1)+ve}function Y(at,ve,ht,Et){return at===0?ve:at===Et?ve+ht:(at/=Et/2,at<1?ht/2*Math.pow(2,10*(at-1))+ve:ht/2*(-Math.pow(2,-10*--at)+2)+ve)}function Z(at,ve,ht,Et){return-ht*(Math.sqrt(1-(at/=Et)*at)-1)+ve}function mt(at,ve,ht,Et){return ht*Math.sqrt(1-(at=at/Et-1)*at)+ve}function Xt(at,ve,ht,Et){return at/=Et/2,at<1?-ht/2*(Math.sqrt(1-at*at)-1)+ve:ht/2*(Math.sqrt(1-(at-=2)*at)+1)+ve}function fe(at,ve,ht,Et){var te=1.70158,_t=0,xt=ht;if(at===0)return ve;if(at/=Et,at===1)return ve+ht;_t||(_t=Et*.3);var Ct=L(xt,ht,_t,te);return-a(Ct,at,Et)+ve}function Ue(at,ve,ht,Et){var te=1.70158,_t=0,xt=ht;if(at===0)return ve;if(at/=Et,at===1)return ve+ht;_t||(_t=Et*.3);var Ct=L(xt,ht,_t,te);return Ct.a*Math.pow(2,-10*at)*Math.sin((at*Et-Ct.s)*(2*Math.PI)/Ct.p)+Ct.c+ve}function or(at,ve,ht,Et){var te=1.70158,_t=0,xt=ht;if(at===0)return ve;if(at/=Et/2,at===2)return ve+ht;_t||(_t=Et*(.3*1.5));var Ct=L(xt,ht,_t,te);return at<1?-.5*a(Ct,at,Et)+ve:Ct.a*Math.pow(2,-10*(at-=1))*Math.sin((at*Et-Ct.s)*(2*Math.PI)/Ct.p)*.5+Ct.c+ve}function fr(at,ve,ht,Et,te){return te===void 0&&(te=1.70158),ht*(at/=Et)*at*((te+1)*at-te)+ve}function tr(at,ve,ht,Et,te){return te===void 0&&(te=1.70158),ht*((at=at/Et-1)*at*((te+1)*at+te)+1)+ve}function We(at,ve,ht,Et,te){return te===void 0&&(te=1.70158),at/=Et/2,at<1?ht/2*(at*at*(((te*=1.525)+1)*at-te))+ve:ht/2*((at-=2)*at*(((te*=1.525)+1)*at+te)+2)+ve}function vr(at,ve,ht,Et){return ht-Or(Et-at,0,ht,Et)+ve}function Or(at,ve,ht,Et){return(at/=Et)<1/2.75?ht*(7.5625*at*at)+ve:at<2/2.75?ht*(7.5625*(at-=1.5/2.75)*at+.75)+ve:at<2.5/2.75?ht*(7.5625*(at-=2.25/2.75)*at+.9375)+ve:ht*(7.5625*(at-=2.625/2.75)*at+.984375)+ve}function Lr(at,ve,ht,Et){return at<Et/2?vr(at*2,0,ht,Et)*.5+ve:Or(at*2-Et,0,ht,Et)*.5+ht*.5+ve}P.util.ease={easeInQuad:function(ve,ht,Et,te){return Et*(ve/=te)*ve+ht},easeOutQuad:function(ve,ht,Et,te){return-Et*(ve/=te)*(ve-2)+ht},easeInOutQuad:function(ve,ht,Et,te){return ve/=te/2,ve<1?Et/2*ve*ve+ht:-Et/2*(--ve*(ve-2)-1)+ht},easeInCubic:function(ve,ht,Et,te){return Et*(ve/=te)*ve*ve+ht},easeOutCubic:f,easeInOutCubic:h,easeInQuart:l,easeOutQuart:i,easeInOutQuart:e,easeInQuint:r,easeOutQuint:n,easeInOutQuint:u,easeInSine:o,easeOutSine:d,easeInOutSine:b,easeInExpo:A,easeOutExpo:O,easeInOutExpo:Y,easeInCirc:Z,easeOutCirc:mt,easeInOutCirc:Xt,easeInElastic:fe,easeOutElastic:Ue,easeInOutElastic:or,easeInBack:fr,easeOutBack:tr,easeInOutBack:We,easeInBounce:vr,easeOutBounce:Or,easeInOutBounce:Lr}}(),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.object.extend,h=a.util.object.clone,l=a.util.toFixed,i=a.util.parseUnit,e=a.util.multiplyTransformMatrices,r=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],n=["symbol","image","marker","pattern","view","svg"],u=["pattern","defs","symbol","metadata","clipPath","mask","desc"],o=["symbol","g","a","svg","clipPath","defs"],d={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},b={stroke:"strokeOpacity",fill:"fillOpacity"},A="font-size",O="clip-path";a.svgValidTagNamesRegEx=mt(r),a.svgViewBoxElementsRegEx=mt(n),a.svgInvalidAncestorsRegEx=mt(u),a.svgValidParentsRegEx=mt(o),a.cssRules={},a.gradientDefs={},a.clipPaths={};function Y(_t){return _t in d?d[_t]:_t}function Z(_t,xt,Ct,vt){var de=Object.prototype.toString.call(xt)==="[object Array]",ae;if((_t==="fill"||_t==="stroke")&&xt==="none")xt="";else{if(_t==="strokeUniform")return xt==="non-scaling-stroke";if(_t==="strokeDashArray")xt==="none"?xt=null:xt=xt.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(_t==="transformMatrix")Ct&&Ct.transformMatrix?xt=e(Ct.transformMatrix,a.parseTransformAttribute(xt)):xt=a.parseTransformAttribute(xt);else if(_t==="visible")xt=xt!=="none"&&xt!=="hidden",Ct&&Ct.visible===!1&&(xt=!1);else if(_t==="opacity")xt=parseFloat(xt),Ct&&typeof Ct.opacity!="undefined"&&(xt*=Ct.opacity);else if(_t==="textAnchor")xt=xt==="start"?"left":xt==="end"?"right":"center";else if(_t==="charSpacing")ae=i(xt,vt)/vt*1e3;else if(_t==="paintFirst"){var ue=xt.indexOf("fill"),ke=xt.indexOf("stroke"),xt="fill";(ue>-1&&ke>-1&&ke<ue||ue===-1&&ke>-1)&&(xt="stroke")}else{if(_t==="href"||_t==="xlink:href"||_t==="font")return xt;if(_t==="imageSmoothing")return xt==="optimizeQuality";ae=de?xt.map(i):i(xt,vt)}}return!de&&isNaN(ae)?xt:ae}function mt(_t){return new RegExp("^("+_t.join("|")+")\\b","i")}function Xt(_t){for(var xt in b)if(!(typeof _t[b[xt]]=="undefined"||_t[xt]==="")){if(typeof _t[xt]=="undefined"){if(!a.Object.prototype[xt])continue;_t[xt]=a.Object.prototype[xt]}if(_t[xt].indexOf("url(")!==0){var Ct=new a.Color(_t[xt]);_t[xt]=Ct.setAlpha(l(Ct.getAlpha()*_t[b[xt]],2)).toRgba()}}return _t}function fe(_t,xt){var Ct,vt=[],de,ae,ue;for(ae=0,ue=xt.length;ae<ue;ae++)Ct=xt[ae],de=_t.getElementsByTagName(Ct),vt=vt.concat(Array.prototype.slice.call(de));return vt}a.parseTransformAttribute=function(){function _t(ft,ee){var se=a.util.cos(ee[0]),br=a.util.sin(ee[0]),Rr=0,_r=0;ee.length===3&&(Rr=ee[1],_r=ee[2]),ft[0]=se,ft[1]=br,ft[2]=-br,ft[3]=se,ft[4]=Rr-(se*Rr-br*_r),ft[5]=_r-(br*Rr+se*_r)}function xt(ft,ee){var se=ee[0],br=ee.length===2?ee[1]:ee[0];ft[0]=se,ft[3]=br}function Ct(ft,ee,se){ft[se]=Math.tan(a.util.degreesToRadians(ee[0]))}function vt(ft,ee){ft[4]=ee[0],ee.length===2&&(ft[5]=ee[1])}var de=a.iMatrix,ae=a.reNum,ue=a.commaWsp,ke="(?:(skewX)\\s*\\(\\s*("+ae+")\\s*\\))",pe="(?:(skewY)\\s*\\(\\s*("+ae+")\\s*\\))",Qt="(?:(rotate)\\s*\\(\\s*("+ae+")(?:"+ue+"("+ae+")"+ue+"("+ae+"))?\\s*\\))",It="(?:(scale)\\s*\\(\\s*("+ae+")(?:"+ue+"("+ae+"))?\\s*\\))",re="(?:(translate)\\s*\\(\\s*("+ae+")(?:"+ue+"("+ae+"))?\\s*\\))",he="(?:(matrix)\\s*\\(\\s*("+ae+")"+ue+"("+ae+")"+ue+"("+ae+")"+ue+"("+ae+")"+ue+"("+ae+")"+ue+"("+ae+")\\s*\\))",Le="(?:"+he+"|"+re+"|"+It+"|"+Qt+"|"+ke+"|"+pe+")",K="(?:"+Le+"(?:"+ue+"*"+Le+")*)",N="^\\s*(?:"+K+"?)\\s*$",R=new RegExp(N),st=new RegExp(Le,"g");return function(ft){var ee=de.concat(),se=[];if(!ft||ft&&!R.test(ft))return ee;ft.replace(st,function(Rr){var _r=new RegExp(Le).exec(Rr).filter(function(li){return!!li}),Er=_r[1],Nr=_r.slice(2).map(parseFloat);switch(Er){case"translate":vt(ee,Nr);break;case"rotate":Nr[0]=a.util.degreesToRadians(Nr[0]),_t(ee,Nr);break;case"scale":xt(ee,Nr);break;case"skewX":Ct(ee,Nr,2);break;case"skewY":Ct(ee,Nr,1);break;case"matrix":ee=Nr;break}se.push(ee.concat()),ee=de.concat()});for(var br=se[0];se.length>1;)se.shift(),br=a.util.multiplyTransformMatrices(br,se[0]);return br}}();function Ue(_t,xt){var Ct,vt;_t.replace(/;\s*$/,"").split(";").forEach(function(de){var ae=de.split(":");Ct=ae[0].trim().toLowerCase(),vt=ae[1].trim(),xt[Ct]=vt})}function or(_t,xt){var Ct,vt;for(var de in _t)typeof _t[de]!="undefined"&&(Ct=de.toLowerCase(),vt=_t[de],xt[Ct]=vt)}function fr(_t,xt){var Ct={};for(var vt in a.cssRules[xt])if(tr(_t,vt.split(" ")))for(var de in a.cssRules[xt][vt])Ct[de]=a.cssRules[xt][vt][de];return Ct}function tr(_t,xt){var Ct,vt=!0;return Ct=vr(_t,xt.pop()),Ct&&xt.length&&(vt=We(_t,xt)),Ct&&vt&&xt.length===0}function We(_t,xt){for(var Ct,vt=!0;_t.parentNode&&_t.parentNode.nodeType===1&&xt.length;)vt&&(Ct=xt.pop()),_t=_t.parentNode,vt=vr(_t,Ct);return xt.length===0}function vr(_t,xt){var Ct=_t.nodeName,vt=_t.getAttribute("class"),de=_t.getAttribute("id"),ae,ue;if(ae=new RegExp("^"+Ct,"i"),xt=xt.replace(ae,""),de&&xt.length&&(ae=new RegExp("#"+de+"(?![a-zA-Z\\-]+)","i"),xt=xt.replace(ae,"")),vt&&xt.length)for(vt=vt.split(" "),ue=vt.length;ue--;)ae=new RegExp("\\."+vt[ue]+"(?![a-zA-Z\\-]+)","i"),xt=xt.replace(ae,"");return xt.length===0}function Or(_t,xt){var Ct;if(_t.getElementById&&(Ct=_t.getElementById(xt)),Ct)return Ct;var vt,de,ae,ue=_t.getElementsByTagName("*");for(de=0,ae=ue.length;de<ae;de++)if(vt=ue[de],xt===vt.getAttribute("id"))return vt}function Lr(_t){for(var xt=fe(_t,["use","svg:use"]),Ct=0;xt.length&&Ct<xt.length;){var vt=xt[Ct],de=vt.getAttribute("xlink:href")||vt.getAttribute("href");if(de===null)return;var ae=de.substr(1),ue=vt.getAttribute("x")||0,ke=vt.getAttribute("y")||0,pe=Or(_t,ae).cloneNode(!0),Qt=(pe.getAttribute("transform")||"")+" translate("+ue+", "+ke+")",It,re=xt.length,he,Le,K,N,R=a.svgNS;if(ve(pe),/^svg$/i.test(pe.nodeName)){var st=pe.ownerDocument.createElementNS(R,"g");for(Le=0,K=pe.attributes,N=K.length;Le<N;Le++)he=K.item(Le),st.setAttributeNS(R,he.nodeName,he.nodeValue);for(;pe.firstChild;)st.appendChild(pe.firstChild);pe=st}for(Le=0,K=vt.attributes,N=K.length;Le<N;Le++)he=K.item(Le),!(he.nodeName==="x"||he.nodeName==="y"||he.nodeName==="xlink:href"||he.nodeName==="href")&&(he.nodeName==="transform"?Qt=he.nodeValue+" "+Qt:pe.setAttribute(he.nodeName,he.nodeValue));pe.setAttribute("transform",Qt),pe.setAttribute("instantiated_by_use","1"),pe.removeAttribute("id"),It=vt.parentNode,It.replaceChild(pe,vt),xt.length===re&&Ct++}}var at=new RegExp("^\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*$");function ve(_t){if(!a.svgViewBoxElementsRegEx.test(_t.nodeName))return{};var xt=_t.getAttribute("viewBox"),Ct=1,vt=1,de=0,ae=0,ue,ke,pe,Qt,It=_t.getAttribute("width"),re=_t.getAttribute("height"),he=_t.getAttribute("x")||0,Le=_t.getAttribute("y")||0,K=_t.getAttribute("preserveAspectRatio")||"",N=!xt||!(xt=xt.match(at)),R=!It||!re||It==="100%"||re==="100%",st=N&&R,ft={},ee="",se=0,br=0;if(ft.width=0,ft.height=0,ft.toBeParsed=st,N&&(he||Le)&&_t.parentNode&&_t.parentNode.nodeName!=="#document"&&(ee=" translate("+i(he)+" "+i(Le)+") ",pe=(_t.getAttribute("transform")||"")+ee,_t.setAttribute("transform",pe),_t.removeAttribute("x"),_t.removeAttribute("y")),st)return ft;if(N)return ft.width=i(It),ft.height=i(re),ft;if(de=-parseFloat(xt[1]),ae=-parseFloat(xt[2]),ue=parseFloat(xt[3]),ke=parseFloat(xt[4]),ft.minX=de,ft.minY=ae,ft.viewBoxWidth=ue,ft.viewBoxHeight=ke,R?(ft.width=ue,ft.height=ke):(ft.width=i(It),ft.height=i(re),Ct=ft.width/ue,vt=ft.height/ke),K=a.util.parsePreserveAspectRatioAttribute(K),K.alignX!=="none"&&(K.meetOrSlice==="meet"&&(vt=Ct=Ct>vt?vt:Ct),K.meetOrSlice==="slice"&&(vt=Ct=Ct>vt?Ct:vt),se=ft.width-ue*Ct,br=ft.height-ke*Ct,K.alignX==="Mid"&&(se/=2),K.alignY==="Mid"&&(br/=2),K.alignX==="Min"&&(se=0),K.alignY==="Min"&&(br=0)),Ct===1&&vt===1&&de===0&&ae===0&&he===0&&Le===0)return ft;if((he||Le)&&_t.parentNode.nodeName!=="#document"&&(ee=" translate("+i(he)+" "+i(Le)+") "),pe=ee+" matrix("+Ct+" 0 0 "+vt+" "+(de*Ct+se)+" "+(ae*vt+br)+") ",_t.nodeName==="svg"){for(Qt=_t.ownerDocument.createElementNS(a.svgNS,"g");_t.firstChild;)Qt.appendChild(_t.firstChild);_t.appendChild(Qt)}else Qt=_t,Qt.removeAttribute("x"),Qt.removeAttribute("y"),pe=Qt.getAttribute("transform")+pe;return Qt.setAttribute("transform",pe),ft}function ht(_t,xt){for(;_t&&(_t=_t.parentNode);)if(_t.nodeName&&xt.test(_t.nodeName.replace("svg:",""))&&!_t.getAttribute("instantiated_by_use"))return!0;return!1}a.parseSVGDocument=function(_t,xt,Ct,vt){if(!!_t){Lr(_t);var de=a.Object.__uid++,ae,ue,ke=ve(_t),pe=a.util.toArray(_t.getElementsByTagName("*"));if(ke.crossOrigin=vt&&vt.crossOrigin,ke.svgUid=de,pe.length===0&&a.isLikelyNode){pe=_t.selectNodes('//*[name(.)!="svg"]');var Qt=[];for(ae=0,ue=pe.length;ae<ue;ae++)Qt[ae]=pe[ae];pe=Qt}var It=pe.filter(function(he){return ve(he),a.svgValidTagNamesRegEx.test(he.nodeName.replace("svg:",""))&&!ht(he,a.svgInvalidAncestorsRegEx)});if(!It||It&&!It.length){xt&&xt([],{});return}var re={};pe.filter(function(he){return he.nodeName.replace("svg:","")==="clipPath"}).forEach(function(he){var Le=he.getAttribute("id");re[Le]=a.util.toArray(he.getElementsByTagName("*")).filter(function(K){return a.svgValidTagNamesRegEx.test(K.nodeName.replace("svg:",""))})}),a.gradientDefs[de]=a.getGradientDefs(_t),a.cssRules[de]=a.getCSSRules(_t),a.clipPaths[de]=re,a.parseElements(It,function(he,Le){xt&&(xt(he,ke,Le,pe),delete a.gradientDefs[de],delete a.cssRules[de],delete a.clipPaths[de])},h(ke),Ct,vt)}};function Et(_t,xt){var Ct=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],vt="xlink:href",de=xt.getAttribute(vt).substr(1),ae=Or(_t,de);if(ae&&ae.getAttribute(vt)&&Et(_t,ae),Ct.forEach(function(ke){ae&&!xt.hasAttribute(ke)&&ae.hasAttribute(ke)&&xt.setAttribute(ke,ae.getAttribute(ke))}),!xt.children.length)for(var ue=ae.cloneNode(!0);ue.firstChild;)xt.appendChild(ue.firstChild);xt.removeAttribute(vt)}var te=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+a.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+a.reNum+"))?\\s+(.*)");f(a,{parseFontDeclaration:function(xt,Ct){var vt=xt.match(te);if(!!vt){var de=vt[1],ae=vt[3],ue=vt[4],ke=vt[5],pe=vt[6];de&&(Ct.fontStyle=de),ae&&(Ct.fontWeight=isNaN(parseFloat(ae))?ae:parseFloat(ae)),ue&&(Ct.fontSize=i(ue)),pe&&(Ct.fontFamily=pe),ke&&(Ct.lineHeight=ke==="normal"?1:ke)}},getGradientDefs:function(xt){var Ct=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],vt=fe(xt,Ct),de,ae=0,ue={};for(ae=vt.length;ae--;)de=vt[ae],de.getAttribute("xlink:href")&&Et(xt,de),ue[de.getAttribute("id")]=de;return ue},parseAttributes:function(xt,Ct,vt){if(!!xt){var de,ae={},ue,ke;typeof vt=="undefined"&&(vt=xt.getAttribute("svgUid")),xt.parentNode&&a.svgValidParentsRegEx.test(xt.parentNode.nodeName)&&(ae=a.parseAttributes(xt.parentNode,Ct,vt));var pe=Ct.reduce(function(N,R){return de=xt.getAttribute(R),de&&(N[R]=de),N},{}),Qt=f(fr(xt,vt),a.parseStyleAttribute(xt));pe=f(pe,Qt),Qt[O]&&xt.setAttribute(O,Qt[O]),ue=ke=ae.fontSize||a.Text.DEFAULT_SVG_FONT_SIZE,pe[A]&&(pe[A]=ue=i(pe[A],ke));var It,re,he={};for(var Le in pe)It=Y(Le),re=Z(It,pe[Le],ae,ue),he[It]=re;he&&he.font&&a.parseFontDeclaration(he.font,he);var K=f(ae,he);return a.svgValidParentsRegEx.test(xt.nodeName)?K:Xt(K)}},parseElements:function(xt,Ct,vt,de,ae){new a.ElementsParser(xt,Ct,vt,de,ae).parse()},parseStyleAttribute:function(xt){var Ct={},vt=xt.getAttribute("style");return vt&&(typeof vt=="string"?Ue(vt,Ct):or(vt,Ct)),Ct},parsePointsAttribute:function(xt){if(!xt)return null;xt=xt.replace(/,/g," ").trim(),xt=xt.split(/\s+/);var Ct=[],vt,de;for(vt=0,de=xt.length;vt<de;vt+=2)Ct.push({x:parseFloat(xt[vt]),y:parseFloat(xt[vt+1])});return Ct},getCSSRules:function(xt){var Ct=xt.getElementsByTagName("style"),vt,de,ae={},ue;for(vt=0,de=Ct.length;vt<de;vt++){var ke=Ct[vt].textContent;ke=ke.replace(/\/\*[\s\S]*?\*\//g,""),ke.trim()!==""&&(ue=ke.match(/[^{]*\{[\s\S]*?\}/g),ue=ue.map(function(pe){return pe.trim()}),ue.forEach(function(pe){var Qt=pe.match(/([\s\S]*?)\s*\{([^}]*)\}/),It={},re=Qt[2].trim(),he=re.replace(/;$/,"").split(/\s*;\s*/);for(vt=0,de=he.length;vt<de;vt++){var Le=he[vt].split(/\s*:\s*/),K=Le[0],N=Le[1];It[K]=N}pe=Qt[1],pe.split(",").forEach(function(R){R=R.replace(/^svg/i,"").trim(),R!==""&&(ae[R]?a.util.object.extend(ae[R],It):ae[R]=a.util.object.clone(It))})}))}return ae},loadSVGFromURL:function(xt,Ct,vt,de){xt=xt.replace(/^\n\s*/,"").trim(),new a.util.request(xt,{method:"get",onComplete:ae});function ae(ue){var ke=ue.responseXML;if(!ke||!ke.documentElement)return Ct&&Ct(null),!1;a.parseSVGDocument(ke.documentElement,function(pe,Qt,It,re){Ct&&Ct(pe,Qt,It,re)},vt,de)}},loadSVGFromString:function(xt,Ct,vt,de){var ae=new a.window.DOMParser,ue=ae.parseFromString(xt.trim(),"text/xml");a.parseSVGDocument(ue.documentElement,function(ke,pe,Qt,It){Ct(ke,pe,Qt,It)},vt,de)}})}(gr),P.ElementsParser=function(L,a,f,h,l,i){this.elements=L,this.callback=a,this.options=f,this.reviver=h,this.svgUid=f&&f.svgUid||0,this.parsingOptions=l,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=i},function(L){L.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},L.createObjects=function(){var a=this;this.elements.forEach(function(f,h){f.setAttribute("svgUid",a.svgUid),a.createObject(f,h)})},L.findTag=function(a){return P[P.util.string.capitalize(a.tagName.replace("svg:",""))]},L.createObject=function(a,f){var h=this.findTag(a);if(h&&h.fromElement)try{h.fromElement(a,this.createCallback(f,a),this.options)}catch(l){P.log(l)}else this.checkIfDone()},L.createCallback=function(a,f){var h=this;return function(l){var i;h.resolveGradient(l,f,"fill"),h.resolveGradient(l,f,"stroke"),l instanceof P.Image&&l._originalElement&&(i=l.parsePreserveAspectRatioAttribute(f)),l._removeTransformMatrix(i),h.resolveClipPath(l,f),h.reviver&&h.reviver(f,l),h.instances[a]=l,h.checkIfDone()}},L.extractPropertyDefinition=function(a,f,h){var l=a[f],i=this.regexUrl;if(!!i.test(l)){i.lastIndex=0;var e=i.exec(l)[1];return i.lastIndex=0,P[h][this.svgUid][e]}},L.resolveGradient=function(a,f,h){var l=this.extractPropertyDefinition(a,h,"gradientDefs");if(l){var i=f.getAttribute(h+"-opacity"),e=P.Gradient.fromElement(l,a,i,this.options);a.set(h,e)}},L.createClipPathCallback=function(a,f){return function(h){h._removeTransformMatrix(),h.fillRule=h.clipRule,f.push(h)}},L.resolveClipPath=function(a,f){var h=this.extractPropertyDefinition(a,"clipPath","clipPaths"),l,i,e,r,n,u;if(h){r=[],e=P.util.invertTransform(a.calcTransformMatrix());for(var o=h[0].parentNode,d=f;d.parentNode&&d.getAttribute("clip-path")!==a.clipPath;)d=d.parentNode;d.parentNode.appendChild(o);for(var b=0;b<h.length;b++)l=h[b],i=this.findTag(l),i.fromElement(l,this.createClipPathCallback(a,r),this.options);r.length===1?h=r[0]:h=new P.Group(r),n=P.util.multiplyTransformMatrices(e,h.calcTransformMatrix()),h.clipPath&&this.resolveClipPath(h,d);var u=P.util.qrDecompose(n);h.flipX=!1,h.flipY=!1,h.set("scaleX",u.scaleX),h.set("scaleY",u.scaleY),h.angle=u.angle,h.skewX=u.skewX,h.skewY=0,h.setPositionByOrigin({x:u.translateX,y:u.translateY},"center","center"),a.clipPath=h}else delete a.clipPath},L.checkIfDone=function(){--this.numElements==0&&(this.instances=this.instances.filter(function(a){return a!=null}),this.callback(this.instances,this.elements))}}(P.ElementsParser.prototype),function(L){"use strict";var a=L.fabric||(L.fabric={});if(a.Point){a.warn("fabric.Point is already defined");return}a.Point=f;function f(h,l){this.x=h,this.y=l}f.prototype={type:"point",constructor:f,add:function(l){return new f(this.x+l.x,this.y+l.y)},addEquals:function(l){return this.x+=l.x,this.y+=l.y,this},scalarAdd:function(l){return new f(this.x+l,this.y+l)},scalarAddEquals:function(l){return this.x+=l,this.y+=l,this},subtract:function(l){return new f(this.x-l.x,this.y-l.y)},subtractEquals:function(l){return this.x-=l.x,this.y-=l.y,this},scalarSubtract:function(l){return new f(this.x-l,this.y-l)},scalarSubtractEquals:function(l){return this.x-=l,this.y-=l,this},multiply:function(l){return new f(this.x*l,this.y*l)},multiplyEquals:function(l){return this.x*=l,this.y*=l,this},divide:function(l){return new f(this.x/l,this.y/l)},divideEquals:function(l){return this.x/=l,this.y/=l,this},eq:function(l){return this.x===l.x&&this.y===l.y},lt:function(l){return this.x<l.x&&this.y<l.y},lte:function(l){return this.x<=l.x&&this.y<=l.y},gt:function(l){return this.x>l.x&&this.y>l.y},gte:function(l){return this.x>=l.x&&this.y>=l.y},lerp:function(l,i){return typeof i=="undefined"&&(i=.5),i=Math.max(Math.min(1,i),0),new f(this.x+(l.x-this.x)*i,this.y+(l.y-this.y)*i)},distanceFrom:function(l){var i=this.x-l.x,e=this.y-l.y;return Math.sqrt(i*i+e*e)},midPointFrom:function(l){return this.lerp(l)},min:function(l){return new f(Math.min(this.x,l.x),Math.min(this.y,l.y))},max:function(l){return new f(Math.max(this.x,l.x),Math.max(this.y,l.y))},toString:function(){return this.x+","+this.y},setXY:function(l,i){return this.x=l,this.y=i,this},setX:function(l){return this.x=l,this},setY:function(l){return this.y=l,this},setFromPoint:function(l){return this.x=l.x,this.y=l.y,this},swap:function(l){var i=this.x,e=this.y;this.x=l.x,this.y=l.y,l.x=i,l.y=e},clone:function(){return new f(this.x,this.y)}}}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={});if(a.Intersection){a.warn("fabric.Intersection is already defined");return}function f(h){this.status=h,this.points=[]}a.Intersection=f,a.Intersection.prototype={constructor:f,appendPoint:function(l){return this.points.push(l),this},appendPoints:function(l){return this.points=this.points.concat(l),this}},a.Intersection.intersectLineLine=function(h,l,i,e){var r,n=(e.x-i.x)*(h.y-i.y)-(e.y-i.y)*(h.x-i.x),u=(l.x-h.x)*(h.y-i.y)-(l.y-h.y)*(h.x-i.x),o=(e.y-i.y)*(l.x-h.x)-(e.x-i.x)*(l.y-h.y);if(o!==0){var d=n/o,b=u/o;0<=d&&d<=1&&0<=b&&b<=1?(r=new f("Intersection"),r.appendPoint(new a.Point(h.x+d*(l.x-h.x),h.y+d*(l.y-h.y)))):r=new f}else n===0||u===0?r=new f("Coincident"):r=new f("Parallel");return r},a.Intersection.intersectLinePolygon=function(h,l,i){var e=new f,r=i.length,n,u,o,d;for(d=0;d<r;d++)n=i[d],u=i[(d+1)%r],o=f.intersectLineLine(h,l,n,u),e.appendPoints(o.points);return e.points.length>0&&(e.status="Intersection"),e},a.Intersection.intersectPolygonPolygon=function(h,l){var i=new f,e=h.length,r;for(r=0;r<e;r++){var n=h[r],u=h[(r+1)%e],o=f.intersectLinePolygon(n,u,l);i.appendPoints(o.points)}return i.points.length>0&&(i.status="Intersection"),i},a.Intersection.intersectPolygonRectangle=function(h,l,i){var e=l.min(i),r=l.max(i),n=new a.Point(r.x,e.y),u=new a.Point(e.x,r.y),o=f.intersectLinePolygon(e,n,h),d=f.intersectLinePolygon(n,r,h),b=f.intersectLinePolygon(r,u,h),A=f.intersectLinePolygon(u,e,h),O=new f;return O.appendPoints(o.points),O.appendPoints(d.points),O.appendPoints(b.points),O.appendPoints(A.points),O.points.length>0&&(O.status="Intersection"),O}}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={});if(a.Color){a.warn("fabric.Color is already defined.");return}function f(l){l?this._tryParsingColor(l):this.setSource([0,0,0,1])}a.Color=f,a.Color.prototype={_tryParsingColor:function(i){var e;i in f.colorNameMap&&(i=f.colorNameMap[i]),i==="transparent"&&(e=[255,255,255,0]),e||(e=f.sourceFromHex(i)),e||(e=f.sourceFromRgb(i)),e||(e=f.sourceFromHsl(i)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(i,e,r){i/=255,e/=255,r/=255;var n,u,o,d=a.util.array.max([i,e,r]),b=a.util.array.min([i,e,r]);if(o=(d+b)/2,d===b)n=u=0;else{var A=d-b;switch(u=o>.5?A/(2-d-b):A/(d+b),d){case i:n=(e-r)/A+(e<r?6:0);break;case e:n=(r-i)/A+2;break;case r:n=(i-e)/A+4;break}n/=6}return[Math.round(n*360),Math.round(u*100),Math.round(o*100)]},getSource:function(){return this._source},setSource:function(i){this._source=i},toRgb:function(){var i=this.getSource();return"rgb("+i[0]+","+i[1]+","+i[2]+")"},toRgba:function(){var i=this.getSource();return"rgba("+i[0]+","+i[1]+","+i[2]+","+i[3]+")"},toHsl:function(){var i=this.getSource(),e=this._rgbToHsl(i[0],i[1],i[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var i=this.getSource(),e=this._rgbToHsl(i[0],i[1],i[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+i[3]+")"},toHex:function(){var i=this.getSource(),e,r,n;return e=i[0].toString(16),e=e.length===1?"0"+e:e,r=i[1].toString(16),r=r.length===1?"0"+r:r,n=i[2].toString(16),n=n.length===1?"0"+n:n,e.toUpperCase()+r.toUpperCase()+n.toUpperCase()},toHexa:function(){var i=this.getSource(),e;return e=Math.round(i[3]*255),e=e.toString(16),e=e.length===1?"0"+e:e,this.toHex()+e.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(i){var e=this.getSource();return e[3]=i,this.setSource(e),this},toGrayscale:function(){var i=this.getSource(),e=parseInt((i[0]*.3+i[1]*.59+i[2]*.11).toFixed(0),10),r=i[3];return this.setSource([e,e,e,r]),this},toBlackWhite:function(i){var e=this.getSource(),r=(e[0]*.3+e[1]*.59+e[2]*.11).toFixed(0),n=e[3];return i=i||127,r=Number(r)<Number(i)?0:255,this.setSource([r,r,r,n]),this},overlayWith:function(i){i instanceof f||(i=new f(i));var e=[],r=this.getAlpha(),n=.5,u=this.getSource(),o=i.getSource(),d;for(d=0;d<3;d++)e.push(Math.round(u[d]*(1-n)+o[d]*n));return e[3]=r,this.setSource(e),this}},a.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,a.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,a.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,a.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function h(l,i,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?l+(i-l)*6*e:e<1/2?i:e<2/3?l+(i-l)*(2/3-e)*6:l}a.Color.fromRgb=function(l){return f.fromSource(f.sourceFromRgb(l))},a.Color.sourceFromRgb=function(l){var i=l.match(f.reRGBa);if(i){var e=parseInt(i[1],10)/(/%$/.test(i[1])?100:1)*(/%$/.test(i[1])?255:1),r=parseInt(i[2],10)/(/%$/.test(i[2])?100:1)*(/%$/.test(i[2])?255:1),n=parseInt(i[3],10)/(/%$/.test(i[3])?100:1)*(/%$/.test(i[3])?255:1);return[parseInt(e,10),parseInt(r,10),parseInt(n,10),i[4]?parseFloat(i[4]):1]}},a.Color.fromRgba=f.fromRgb,a.Color.fromHsl=function(l){return f.fromSource(f.sourceFromHsl(l))},a.Color.sourceFromHsl=function(l){var i=l.match(f.reHSLa);if(!!i){var e=(parseFloat(i[1])%360+360)%360/360,r=parseFloat(i[2])/(/%$/.test(i[2])?100:1),n=parseFloat(i[3])/(/%$/.test(i[3])?100:1),u,o,d;if(r===0)u=o=d=n;else{var b=n<=.5?n*(r+1):n+r-n*r,A=n*2-b;u=h(A,b,e+1/3),o=h(A,b,e),d=h(A,b,e-1/3)}return[Math.round(u*255),Math.round(o*255),Math.round(d*255),i[4]?parseFloat(i[4]):1]}},a.Color.fromHsla=f.fromHsl,a.Color.fromHex=function(l){return f.fromSource(f.sourceFromHex(l))},a.Color.sourceFromHex=function(l){if(l.match(f.reHex)){var i=l.slice(l.indexOf("#")+1),e=i.length===3||i.length===4,r=i.length===8||i.length===4,n=e?i.charAt(0)+i.charAt(0):i.substring(0,2),u=e?i.charAt(1)+i.charAt(1):i.substring(2,4),o=e?i.charAt(2)+i.charAt(2):i.substring(4,6),d=r?e?i.charAt(3)+i.charAt(3):i.substring(6,8):"FF";return[parseInt(n,16),parseInt(u,16),parseInt(o,16),parseFloat((parseInt(d,16)/255).toFixed(2))]}},a.Color.fromSource=function(l){var i=new f;return i.setSource(l),i}}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=["e","se","s","sw","w","nw","n","ne","e"],h=["ns","nesw","ew","nwse"],l={},i="left",e="top",r="right",n="bottom",u="center",o={top:n,bottom:e,left:r,right:i,center:u},d=a.util.radiansToDegrees,b=Math.sign||function(Qt){return(Qt>0)-(Qt<0)||+Qt};function A(Qt,It){var re=Qt.angle+d(Math.atan2(It.y,It.x))+360;return Math.round(re%360/45)}function O(Qt,It){var re=It.transform.target,he=re.canvas,Le=a.util.object.clone(It);Le.target=re,he&&he.fire("object:"+Qt,Le),re.fire(Qt,It)}function Y(Qt,It){var re=It.canvas,he=re.uniScaleKey,Le=Qt[he];return re.uniformScaling&&!Le||!re.uniformScaling&&Le}function Z(Qt){return Qt.originX===u&&Qt.originY===u}function mt(Qt,It,re){var he=Qt.lockScalingX,Le=Qt.lockScalingY;return!!(he&&Le||!It&&(he||Le)&&re||he&&It==="x"||Le&&It==="y")}function Xt(Qt,It,re){var he="not-allowed",Le=Y(Qt,re),K="";if(It.x!==0&&It.y===0?K="x":It.x===0&&It.y!==0&&(K="y"),mt(re,K,Le))return he;var N=A(re,It);return f[N]+"-resize"}function fe(Qt,It,re){var he="not-allowed";if(It.x!==0&&re.lockSkewingY||It.y!==0&&re.lockSkewingX)return he;var Le=A(re,It)%4;return h[Le]+"-resize"}function Ue(Qt,It,re){return Qt[re.canvas.altActionKey]?l.skewCursorStyleHandler(Qt,It,re):l.scaleCursorStyleHandler(Qt,It,re)}function or(Qt,It,re){var he=Qt[re.canvas.altActionKey];if(It.x===0)return he?"skewX":"scaleY";if(It.y===0)return he?"skewY":"scaleX"}function fr(Qt,It,re){return re.lockRotation?"not-allowed":It.cursorStyle}function tr(Qt,It,re,he){return{e:Qt,transform:It,pointer:{x:re,y:he}}}function We(Qt){return function(It,re,he,Le){var K=re.target,N=K.getCenterPoint(),R=K.translateToOriginPoint(N,re.originX,re.originY),st=Qt(It,re,he,Le);return K.setPositionByOrigin(R,re.originX,re.originY),st}}function vr(Qt,It){return function(re,he,Le,K){var N=It(re,he,Le,K);return N&&O(Qt,tr(re,he,Le,K)),N}}function Or(Qt,It,re,he,Le){var K=Qt.target,N=K.controls[Qt.corner],R=K.canvas.getZoom(),st=K.padding/R,ft=K.toLocalPoint(new a.Point(he,Le),It,re);return ft.x>=st&&(ft.x-=st),ft.x<=-st&&(ft.x+=st),ft.y>=st&&(ft.y-=st),ft.y<=st&&(ft.y+=st),ft.x-=N.offsetX,ft.y-=N.offsetY,ft}function Lr(Qt){return Qt.flipX!==Qt.flipY}function at(Qt,It,re,he,Le){if(Qt[It]!==0){var K=Qt._getTransformedDimensions()[he],N=Le/K*Qt[re];Qt.set(re,N)}}function ve(Qt,It,re,he){var Le=It.target,K=Le._getTransformedDimensions(0,Le.skewY),N=Or(It,It.originX,It.originY,re,he),R=Math.abs(N.x*2)-K.x,st=Le.skewX,ft;R<2?ft=0:(ft=d(Math.atan2(R/Le.scaleX,K.y/Le.scaleY)),It.originX===i&&It.originY===n&&(ft=-ft),It.originX===r&&It.originY===e&&(ft=-ft),Lr(Le)&&(ft=-ft));var ee=st!==ft;if(ee){var se=Le._getTransformedDimensions().y;Le.set("skewX",ft),at(Le,"skewY","scaleY","y",se)}return ee}function ht(Qt,It,re,he){var Le=It.target,K=Le._getTransformedDimensions(Le.skewX,0),N=Or(It,It.originX,It.originY,re,he),R=Math.abs(N.y*2)-K.y,st=Le.skewY,ft;R<2?ft=0:(ft=d(Math.atan2(R/Le.scaleY,K.x/Le.scaleX)),It.originX===i&&It.originY===n&&(ft=-ft),It.originX===r&&It.originY===e&&(ft=-ft),Lr(Le)&&(ft=-ft));var ee=st!==ft;if(ee){var se=Le._getTransformedDimensions().x;Le.set("skewY",ft),at(Le,"skewX","scaleX","x",se)}return ee}function Et(Qt,It,re,he){var Le=It.target,K=Le.skewX,N,R=It.originY;if(Le.lockSkewingX)return!1;if(K===0){var st=Or(It,u,u,re,he);st.x>0?N=i:N=r}else K>0&&(N=R===e?i:r),K<0&&(N=R===e?r:i),Lr(Le)&&(N=N===i?r:i);It.originX=N;var ft=vr("skewing",We(ve));return ft(Qt,It,re,he)}function te(Qt,It,re,he){var Le=It.target,K=Le.skewY,N,R=It.originX;if(Le.lockSkewingY)return!1;if(K===0){var st=Or(It,u,u,re,he);st.y>0?N=e:N=n}else K>0&&(N=R===i?e:n),K<0&&(N=R===i?n:e),Lr(Le)&&(N=N===e?n:e);It.originY=N;var ft=vr("skewing",We(ht));return ft(Qt,It,re,he)}function _t(Qt,It,re,he){var Le=It,K=Le.target,N=K.translateToOriginPoint(K.getCenterPoint(),Le.originX,Le.originY);if(K.lockRotation)return!1;var R=Math.atan2(Le.ey-N.y,Le.ex-N.x),st=Math.atan2(he-N.y,re-N.x),ft=d(st-R+Le.theta),ee=!0;if(K.snapAngle>0){var se=K.snapAngle,br=K.snapThreshold||se,Rr=Math.ceil(ft/se)*se,_r=Math.floor(ft/se)*se;Math.abs(ft-_r)<br?ft=_r:Math.abs(ft-Rr)<br&&(ft=Rr)}return ft<0&&(ft=360+ft),ft%=360,ee=K.angle!==ft,K.angle=ft,ee}function xt(Qt,It,re,he,Le){Le=Le||{};var K=It.target,N=K.lockScalingX,R=K.lockScalingY,st=Le.by,ft,ee,se,br,Rr=Y(Qt,K),_r=mt(K,st,Rr),Er,Nr,li=It.gestureScale;if(_r)return!1;if(li)ee=It.scaleX*li,se=It.scaleY*li;else{if(ft=Or(It,It.originX,It.originY,re,he),Er=st!=="y"?b(ft.x):1,Nr=st!=="x"?b(ft.y):1,It.signX||(It.signX=Er),It.signY||(It.signY=Nr),K.lockScalingFlip&&(It.signX!==Er||It.signY!==Nr))return!1;if(br=K._getTransformedDimensions(),Rr&&!st){var Bi=Math.abs(ft.x)+Math.abs(ft.y),Mi=It.original,rn=Math.abs(br.x*Mi.scaleX/K.scaleX)+Math.abs(br.y*Mi.scaleY/K.scaleY),nn=Bi/rn;ee=Mi.scaleX*nn,se=Mi.scaleY*nn}else ee=Math.abs(ft.x*K.scaleX/br.x),se=Math.abs(ft.y*K.scaleY/br.y);Z(It)&&(ee*=2,se*=2),It.signX!==Er&&st!=="y"&&(It.originX=o[It.originX],ee*=-1,It.signX=Er),It.signY!==Nr&&st!=="x"&&(It.originY=o[It.originY],se*=-1,It.signY=Nr)}var Ti=K.scaleX,fn=K.scaleY;return st?(st==="x"&&K.set("scaleX",ee),st==="y"&&K.set("scaleY",se)):(!N&&K.set("scaleX",ee),!R&&K.set("scaleY",se)),Ti!==K.scaleX||fn!==K.scaleY}function Ct(Qt,It,re,he){return xt(Qt,It,re,he)}function vt(Qt,It,re,he){return xt(Qt,It,re,he,{by:"x"})}function de(Qt,It,re,he){return xt(Qt,It,re,he,{by:"y"})}function ae(Qt,It,re,he){return Qt[It.target.canvas.altActionKey]?l.skewHandlerX(Qt,It,re,he):l.scalingY(Qt,It,re,he)}function ue(Qt,It,re,he){return Qt[It.target.canvas.altActionKey]?l.skewHandlerY(Qt,It,re,he):l.scalingX(Qt,It,re,he)}function ke(Qt,It,re,he){var Le=It.target,K=Or(It,It.originX,It.originY,re,he),N=Le.strokeWidth/(Le.strokeUniform?Le.scaleX:1),R=Z(It)?2:1,st=Le.width,ft=Math.abs(K.x*R/Le.scaleX)-N;return Le.set("width",Math.max(ft,0)),st!==ft}function pe(Qt,It,re,he){var Le=It.target,K=re-It.offsetX,N=he-It.offsetY,R=!Le.get("lockMovementX")&&Le.left!==K,st=!Le.get("lockMovementY")&&Le.top!==N;return R&&Le.set("left",K),st&&Le.set("top",N),(R||st)&&O("moving",tr(Qt,It,re,he)),R||st}l.scaleCursorStyleHandler=Xt,l.skewCursorStyleHandler=fe,l.scaleSkewCursorStyleHandler=Ue,l.rotationWithSnapping=vr("rotating",We(_t)),l.scalingEqually=vr("scaling",We(Ct)),l.scalingX=vr("scaling",We(vt)),l.scalingY=vr("scaling",We(de)),l.scalingYOrSkewingX=ae,l.scalingXOrSkewingY=ue,l.changeWidth=vr("resizing",We(ke)),l.skewHandlerX=Et,l.skewHandlerY=te,l.dragHandler=pe,l.scaleOrSkewActionName=or,l.rotationStyleHandler=fr,l.fireEvent=O,l.wrapWithFixedAnchor=We,l.wrapWithFireEvent=vr,l.getLocalPoint=Or,a.controlsUtils=l}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.degreesToRadians,h=a.controlsUtils;function l(e,r,n,u,o){u=u||{};var d=this.sizeX||u.cornerSize||o.cornerSize,b=this.sizeY||u.cornerSize||o.cornerSize,A=typeof u.transparentCorners!="undefined"?u.transparentCorners:o.transparentCorners,O=A?"stroke":"fill",Y=!A&&(u.cornerStrokeColor||o.cornerStrokeColor),Z=r,mt=n,Xt;e.save(),e.fillStyle=u.cornerColor||o.cornerColor,e.strokeStyle=u.cornerStrokeColor||o.cornerStrokeColor,d>b?(Xt=d,e.scale(1,b/d),mt=n*d/b):b>d?(Xt=b,e.scale(d/b,1),Z=r*b/d):Xt=d,e.lineWidth=1,e.beginPath(),e.arc(Z,mt,Xt/2,0,2*Math.PI,!1),e[O](),Y&&e.stroke(),e.restore()}function i(e,r,n,u,o){u=u||{};var d=this.sizeX||u.cornerSize||o.cornerSize,b=this.sizeY||u.cornerSize||o.cornerSize,A=typeof u.transparentCorners!="undefined"?u.transparentCorners:o.transparentCorners,O=A?"stroke":"fill",Y=!A&&(u.cornerStrokeColor||o.cornerStrokeColor),Z=d/2,mt=b/2;e.save(),e.fillStyle=u.cornerColor||o.cornerColor,e.strokeStyle=u.cornerStrokeColor||o.cornerStrokeColor,e.lineWidth=1,e.translate(r,n),e.rotate(f(o.angle)),e[O+"Rect"](-Z,-mt,d,b),Y&&e.strokeRect(-Z,-mt,d,b),e.restore()}h.renderCircleControl=l,h.renderSquareControl=i}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={});function f(h){for(var l in h)this[l]=h[l]}a.Control=f,a.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(l,i){return i.cursorStyle},getActionName:function(l,i){return i.actionName},getVisibility:function(l,i){var e=l._controlsVisibility;return e&&typeof e[i]!="undefined"?e[i]:this.visible},setVisibility:function(l){this.visible=l},positionHandler:function(l,i){var e=a.util.transformPoint({x:this.x*l.x+this.offsetX,y:this.y*l.y+this.offsetY},i);return e},calcCornerCoords:function(l,i,e,r,n){var u,o,d,b,A=n?this.touchSizeX:this.sizeX,O=n?this.touchSizeY:this.sizeY;if(A&&O&&A!==O){var Y=Math.atan2(O,A),Z=Math.sqrt(A*A+O*O)/2,mt=Y-a.util.degreesToRadians(l),Xt=Math.PI/2-Y-a.util.degreesToRadians(l);u=Z*a.util.cos(mt),o=Z*a.util.sin(mt),d=Z*a.util.cos(Xt),b=Z*a.util.sin(Xt)}else{var fe=A&&O?A:i;Z=fe*.7071067812;var mt=a.util.degreesToRadians(45-l);u=d=Z*a.util.cos(mt),o=b=Z*a.util.sin(mt)}return{tl:{x:e-b,y:r-d},tr:{x:e+u,y:r-o},bl:{x:e-u,y:r+o},br:{x:e+b,y:r+d}}},render:function(l,i,e,r,n){switch(r=r||{},r.cornerStyle||n.cornerStyle){case"circle":a.controlsUtils.renderCircleControl.call(this,l,i,e,r,n);break;default:a.controlsUtils.renderSquareControl.call(this,l,i,e,r,n)}}}}(gr),function(){function L(i,e){var r=i.getAttribute("style"),n=i.getAttribute("offset")||0,u,o,d,b;if(n=parseFloat(n)/(/%$/.test(n)?100:1),n=n<0?0:n>1?1:n,r){var A=r.split(/\s*;\s*/);for(A[A.length-1]===""&&A.pop(),b=A.length;b--;){var O=A[b].split(/\s*:\s*/),Y=O[0].trim(),Z=O[1].trim();Y==="stop-color"?u=Z:Y==="stop-opacity"&&(d=Z)}}return u||(u=i.getAttribute("stop-color")||"rgb(0,0,0)"),d||(d=i.getAttribute("stop-opacity")),u=new P.Color(u),o=u.getAlpha(),d=isNaN(parseFloat(d))?1:parseFloat(d),d*=o*e,{offset:n,color:u.toRgb(),opacity:d}}function a(i){return{x1:i.getAttribute("x1")||0,y1:i.getAttribute("y1")||0,x2:i.getAttribute("x2")||"100%",y2:i.getAttribute("y2")||0}}function f(i){return{x1:i.getAttribute("fx")||i.getAttribute("cx")||"50%",y1:i.getAttribute("fy")||i.getAttribute("cy")||"50%",r1:0,x2:i.getAttribute("cx")||"50%",y2:i.getAttribute("cy")||"50%",r2:i.getAttribute("r")||"50%"}}var h=P.util.object.clone;P.Gradient=P.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(e){e||(e={}),e.coords||(e.coords={});var r,n=this;Object.keys(e).forEach(function(u){n[u]=e[u]}),this.id?this.id+="_"+P.Object.__uid++:this.id=P.Object.__uid++,r={x1:e.coords.x1||0,y1:e.coords.y1||0,x2:e.coords.x2||0,y2:e.coords.y2||0},this.type==="radial"&&(r.r1=e.coords.r1||0,r.r2=e.coords.r2||0),this.coords=r,this.colorStops=e.colorStops.slice()},addColorStop:function(e){for(var r in e){var n=new P.Color(e[r]);this.colorStops.push({offset:parseFloat(r),color:n.toRgb(),opacity:n.getAlpha()})}return this},toObject:function(e){var r={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return P.util.populateWithProperties(this,r,e),r},toSVG:function(e,r){var n=h(this.coords,!0),u,o,r=r||{},d,b,A=h(this.colorStops,!0),O=n.r1>n.r2,Y=this.gradientTransform?this.gradientTransform.concat():P.iMatrix.concat(),Z=-this.offsetX,mt=-this.offsetY,Xt=!!r.additionalTransform,fe=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(A.sort(function(We,vr){return We.offset-vr.offset}),fe==="objectBoundingBox"?(Z/=e.width,mt/=e.height):(Z+=e.width/2,mt+=e.height/2),e.type==="path"&&this.gradientUnits!=="percentage"&&(Z-=e.pathOffset.x,mt-=e.pathOffset.y),Y[4]-=Z,Y[5]-=mt,b='id="SVGID_'+this.id+'" gradientUnits="'+fe+'"',b+=' gradientTransform="'+(Xt?r.additionalTransform+" ":"")+P.util.matrixToSVG(Y)+'" ',this.type==="linear"?d=["<linearGradient ",b,' x1="',n.x1,'" y1="',n.y1,'" x2="',n.x2,'" y2="',n.y2,`">
`]:this.type==="radial"&&(d=["<radialGradient ",b,' cx="',O?n.x1:n.x2,'" cy="',O?n.y1:n.y2,'" r="',O?n.r1:n.r2,'" fx="',O?n.x2:n.x1,'" fy="',O?n.y2:n.y1,`">
`]),this.type==="radial"){if(O)for(A=A.concat(),A.reverse(),u=0,o=A.length;u<o;u++)A[u].offset=1-A[u].offset;var Ue=Math.min(n.r1,n.r2);if(Ue>0){var or=Math.max(n.r1,n.r2),fr=Ue/or;for(u=0,o=A.length;u<o;u++)A[u].offset+=fr*(1-A[u].offset)}}for(u=0,o=A.length;u<o;u++){var tr=A[u];d.push("<stop ",'offset="',tr.offset*100+"%",'" style="stop-color:',tr.color,typeof tr.opacity!="undefined"?";stop-opacity: "+tr.opacity:";",`"/>
`)}return d.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),d.join("")},toLive:function(e){var r,n=P.util.object.clone(this.coords),u,o;if(!!this.type){for(this.type==="linear"?r=e.createLinearGradient(n.x1,n.y1,n.x2,n.y2):this.type==="radial"&&(r=e.createRadialGradient(n.x1,n.y1,n.r1,n.x2,n.y2,n.r2)),u=0,o=this.colorStops.length;u<o;u++){var d=this.colorStops[u].color,b=this.colorStops[u].opacity,A=this.colorStops[u].offset;typeof b!="undefined"&&(d=new P.Color(d).setAlpha(b).toRgba()),r.addColorStop(A,d)}return r}}}),P.util.object.extend(P.Gradient,{fromElement:function(e,r,n,u){var o=parseFloat(n)/(/%$/.test(n)?100:1);o=o<0?0:o>1?1:o,isNaN(o)&&(o=1);var d=e.getElementsByTagName("stop"),b,A=e.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",O=e.getAttribute("gradientTransform")||"",Y=[],Z,mt,Xt=0,fe=0,Ue;for(e.nodeName==="linearGradient"||e.nodeName==="LINEARGRADIENT"?(b="linear",Z=a(e)):(b="radial",Z=f(e)),mt=d.length;mt--;)Y.push(L(d[mt],o));Ue=P.parseTransformAttribute(O),l(r,Z,u,A),A==="pixels"&&(Xt=-r.left,fe=-r.top);var or=new P.Gradient({id:e.getAttribute("id"),type:b,coords:Z,colorStops:Y,gradientUnits:A,gradientTransform:Ue,offsetX:Xt,offsetY:fe});return or}});function l(i,e,r,n){var u,o;Object.keys(e).forEach(function(d){u=e[d],u==="Infinity"?o=1:u==="-Infinity"?o=0:(o=parseFloat(e[d],10),typeof u=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(u)&&(o*=.01,n==="pixels"&&((d==="x1"||d==="x2"||d==="r2")&&(o*=r.viewBoxWidth||r.width),(d==="y1"||d==="y2")&&(o*=r.viewBoxHeight||r.height)))),e[d]=o})}}(),function(){"use strict";var L=P.util.toFixed;P.Pattern=P.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(f,h){if(f||(f={}),this.id=P.Object.__uid++,this.setOptions(f),!f.source||f.source&&typeof f.source!="string"){h&&h(this);return}else{var l=this;this.source=P.util.createImage(),P.util.loadImage(f.source,function(i,e){l.source=i,h&&h(l,e)},null,this.crossOrigin)}},toObject:function(f){var h=P.Object.NUM_FRACTION_DIGITS,l,i;return typeof this.source.src=="string"?l=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(l=this.source.toDataURL()),i={type:"pattern",source:l,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:L(this.offsetX,h),offsetY:L(this.offsetY,h),patternTransform:this.patternTransform?this.patternTransform.concat():null},P.util.populateWithProperties(this,i,f),i},toSVG:function(f){var h=typeof this.source=="function"?this.source():this.source,l=h.width/f.width,i=h.height/f.height,e=this.offsetX/f.width,r=this.offsetY/f.height,n="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(i=1,r&&(i+=Math.abs(r))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(l=1,e&&(l+=Math.abs(e))),h.src?n=h.src:h.toDataURL&&(n=h.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+e+'" y="'+r+'" width="'+l+'" height="'+i+`">
<image x="0" y="0" width="`+h.width+'" height="'+h.height+'" xlink:href="'+n+`"></image>
</pattern>
`},setOptions:function(f){for(var h in f)this[h]=f[h]},toLive:function(f){var h=this.source;return!h||typeof h.src!="undefined"&&(!h.complete||h.naturalWidth===0||h.naturalHeight===0)?"":f.createPattern(h,this.repeat)}})}(),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.toFixed;if(a.Shadow){a.warn("fabric.Shadow is already defined.");return}a.Shadow=a.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(l){typeof l=="string"&&(l=this._parseShadow(l));for(var i in l)this[i]=l[i];this.id=a.Object.__uid++},_parseShadow:function(l){var i=l.trim(),e=a.Shadow.reOffsetsAndBlur.exec(i)||[],r=i.replace(a.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:r.trim(),offsetX:parseFloat(e[1],10)||0,offsetY:parseFloat(e[2],10)||0,blur:parseFloat(e[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(l){var i=40,e=40,r=a.Object.NUM_FRACTION_DIGITS,n=a.util.rotateVector({x:this.offsetX,y:this.offsetY},a.util.degreesToRadians(-l.angle)),u=20,o=new a.Color(this.color);return l.width&&l.height&&(i=f((Math.abs(n.x)+this.blur)/l.width,r)*100+u,e=f((Math.abs(n.y)+this.blur)/l.height,r)*100+u),l.flipX&&(n.x*=-1),l.flipY&&(n.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+e+'%" height="'+(100+2*e)+'%" x="-'+i+'%" width="'+(100+2*i)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+f(this.blur?this.blur/2:0,r)+`"></feGaussianBlur>
	<feOffset dx="`+f(n.x,r)+'" dy="'+f(n.y,r)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+o.toRgb()+'" flood-opacity="'+o.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var l={},i=a.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(e){this[e]!==i[e]&&(l[e]=this[e])},this),l}}),a.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(gr),function(){"use strict";if(P.StaticCanvas){P.warn("fabric.StaticCanvas is already defined.");return}var L=P.util.object.extend,a=P.util.getElementOffset,f=P.util.removeFromArray,h=P.util.toFixed,l=P.util.transformPoint,i=P.util.invertTransform,e=P.util.getNodeCanvas,r=P.util.createCanvasElement,n=new Error("Could not initialize `canvas` element");P.StaticCanvas=P.util.createClass(P.CommonMethods,{initialize:function(o,d){d||(d={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(o,d)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:P.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(o,d){var b=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(o),this._initOptions(d),this.interactive||this._initRetinaScaling(),d.overlayImage&&this.setOverlayImage(d.overlayImage,b),d.backgroundImage&&this.setBackgroundImage(d.backgroundImage,b),d.backgroundColor&&this.setBackgroundColor(d.backgroundColor,b),d.overlayColor&&this.setOverlayColor(d.overlayColor,b),this.calcOffset()},_isRetinaScaling:function(){return P.devicePixelRatio!==1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?P.devicePixelRatio:1},_initRetinaScaling:function(){if(!!this._isRetinaScaling()){var o=P.devicePixelRatio;this.__initRetinaScaling(o,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(o,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(o,d,b){d.setAttribute("width",this.width*o),d.setAttribute("height",this.height*o),b.scale(o,o)},calcOffset:function(){return this._offset=a(this.lowerCanvasEl),this},setOverlayImage:function(o,d,b){return this.__setBgOverlayImage("overlayImage",o,d,b)},setBackgroundImage:function(o,d,b){return this.__setBgOverlayImage("backgroundImage",o,d,b)},setOverlayColor:function(o,d){return this.__setBgOverlayColor("overlayColor",o,d)},setBackgroundColor:function(o,d){return this.__setBgOverlayColor("backgroundColor",o,d)},__setBgOverlayImage:function(o,d,b,A){return typeof d=="string"?P.util.loadImage(d,function(O,Y){if(O){var Z=new P.Image(O,A);this[o]=Z,Z.canvas=this}b&&b(O,Y)},this,A&&A.crossOrigin):(A&&d.setOptions(A),this[o]=d,d&&(d.canvas=this),b&&b(d,!1)),this},__setBgOverlayColor:function(o,d,b){return this[o]=d,this._initGradient(d,o),this._initPattern(d,o,b),this},_createCanvasElement:function(){var o=r();if(!o||(o.style||(o.style={}),typeof o.getContext=="undefined"))throw n;return o},_initOptions:function(o){var d=this.lowerCanvasEl;this._setOptions(o),this.width=this.width||parseInt(d.width,10)||0,this.height=this.height||parseInt(d.height,10)||0,!!this.lowerCanvasEl.style&&(d.width=this.width,d.height=this.height,d.style.width=this.width+"px",d.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(o){o&&o.getContext?this.lowerCanvasEl=o:this.lowerCanvasEl=P.util.getById(o)||this._createCanvasElement(),P.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(o,d){return this.setDimensions({width:o},d)},setHeight:function(o,d){return this.setDimensions({height:o},d)},setDimensions:function(o,d){var b;d=d||{};for(var A in o)b=o[A],d.cssOnly||(this._setBackstoreDimension(A,o[A]),b+="px",this.hasLostContext=!0),d.backstoreOnly||this._setCssDimension(A,b);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),d.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(o,d){return this.lowerCanvasEl[o]=d,this.upperCanvasEl&&(this.upperCanvasEl[o]=d),this.cacheCanvasEl&&(this.cacheCanvasEl[o]=d),this[o]=d,this},_setCssDimension:function(o,d){return this.lowerCanvasEl.style[o]=d,this.upperCanvasEl&&(this.upperCanvasEl.style[o]=d),this.wrapperEl&&(this.wrapperEl.style[o]=d),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(o){var d=this._activeObject,b=this.backgroundImage,A=this.overlayImage,O,Y,Z;for(this.viewportTransform=o,Y=0,Z=this._objects.length;Y<Z;Y++)O=this._objects[Y],O.group||O.setCoords(!0);return d&&d.setCoords(),b&&b.setCoords(!0),A&&A.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(o,d){var b=o,A=this.viewportTransform.slice(0);o=l(o,i(this.viewportTransform)),A[0]=d,A[3]=d;var O=l(o,A);return A[4]+=b.x-O.x,A[5]+=b.y-O.y,this.setViewportTransform(A)},setZoom:function(o){return this.zoomToPoint(new P.Point(0,0),o),this},absolutePan:function(o){var d=this.viewportTransform.slice(0);return d[4]=-o.x,d[5]=-o.y,this.setViewportTransform(d)},relativePan:function(o){return this.absolutePan(new P.Point(-o.x-this.viewportTransform[4],-o.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(o){this.stateful&&o.setupState(),o._set("canvas",this),o.setCoords(),this.fire("object:added",{target:o}),o.fire("added")},_onObjectRemoved:function(o){this.fire("object:removed",{target:o}),o.fire("removed"),delete o.canvas},clearContext:function(o){return o.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var o=this.contextContainer;return this.renderCanvas(o,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=P.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var o={},d=this.width,b=this.height,A=i(this.viewportTransform);return o.tl=l({x:0,y:0},A),o.br=l({x:d,y:b},A),o.tr=new P.Point(o.br.x,o.tl.y),o.bl=new P.Point(o.tl.x,o.br.y),this.vptCoords=o,o},cancelRequestedRender:function(){this.isRendering&&(P.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(o,d){var b=this.viewportTransform,A=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(o),P.util.setImageSmoothing(o,this.imageSmoothingEnabled),this.fire("before:render",{ctx:o}),this._renderBackground(o),o.save(),o.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._renderObjects(o,d),o.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(o),A&&(A.canvas=this,A.shouldCache(),A._transformDone=!0,A.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(o)),this._renderOverlay(o),this.controlsAboveOverlay&&this.interactive&&this.drawControls(o),this.fire("after:render",{ctx:o})},drawClipPathOnCanvas:function(o){var d=this.viewportTransform,b=this.clipPath;o.save(),o.transform(d[0],d[1],d[2],d[3],d[4],d[5]),o.globalCompositeOperation="destination-in",b.transform(o),o.scale(1/b.zoomX,1/b.zoomY),o.drawImage(b._cacheCanvas,-b.cacheTranslationX,-b.cacheTranslationY),o.restore()},_renderObjects:function(o,d){var b,A;for(b=0,A=d.length;b<A;++b)d[b]&&d[b].render(o)},_renderBackgroundOrOverlay:function(o,d){var b=this[d+"Color"],A=this[d+"Image"],O=this.viewportTransform,Y=this[d+"Vpt"];if(!(!b&&!A)){if(b){o.save(),o.beginPath(),o.moveTo(0,0),o.lineTo(this.width,0),o.lineTo(this.width,this.height),o.lineTo(0,this.height),o.closePath(),o.fillStyle=b.toLive?b.toLive(o,this):b,Y&&o.transform(O[0],O[1],O[2],O[3],O[4],O[5]),o.transform(1,0,0,1,b.offsetX||0,b.offsetY||0);var Z=b.gradientTransform||b.patternTransform;Z&&o.transform(Z[0],Z[1],Z[2],Z[3],Z[4],Z[5]),o.fill(),o.restore()}A&&(o.save(),Y&&o.transform(O[0],O[1],O[2],O[3],O[4],O[5]),A.render(o),o.restore())}},_renderBackground:function(o){this._renderBackgroundOrOverlay(o,"background")},_renderOverlay:function(o){this._renderBackgroundOrOverlay(o,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(o){return this._centerObject(o,new P.Point(this.getCenter().left,o.getCenterPoint().y))},centerObjectV:function(o){return this._centerObject(o,new P.Point(o.getCenterPoint().x,this.getCenter().top))},centerObject:function(o){var d=this.getCenter();return this._centerObject(o,new P.Point(d.left,d.top))},viewportCenterObject:function(o){var d=this.getVpCenter();return this._centerObject(o,d)},viewportCenterObjectH:function(o){var d=this.getVpCenter();return this._centerObject(o,new P.Point(d.x,o.getCenterPoint().y)),this},viewportCenterObjectV:function(o){var d=this.getVpCenter();return this._centerObject(o,new P.Point(o.getCenterPoint().x,d.y))},getVpCenter:function(){var o=this.getCenter(),d=i(this.viewportTransform);return l({x:o.left,y:o.top},d)},_centerObject:function(o,d){return o.setPositionByOrigin(d,"center","center"),o.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(o){return this.toDatalessObject(o)},toObject:function(o){return this._toObjectMethod("toObject",o)},toDatalessObject:function(o){return this._toObjectMethod("toDatalessObject",o)},_toObjectMethod:function(o,d){var b=this.clipPath,A={version:P.version,objects:this._toObjects(o,d)};return b&&!b.excludeFromExport&&(A.clipPath=this._toObject(this.clipPath,o,d)),L(A,this.__serializeBgOverlay(o,d)),P.util.populateWithProperties(this,A,d),A},_toObjects:function(o,d){return this._objects.filter(function(b){return!b.excludeFromExport}).map(function(b){return this._toObject(b,o,d)},this)},_toObject:function(o,d,b){var A;this.includeDefaultValues||(A=o.includeDefaultValues,o.includeDefaultValues=!1);var O=o[d](b);return this.includeDefaultValues||(o.includeDefaultValues=A),O},__serializeBgOverlay:function(o,d){var b={},A=this.backgroundImage,O=this.overlayImage,Y=this.backgroundColor,Z=this.overlayColor;return Y&&Y.toObject?Y.excludeFromExport||(b.background=Y.toObject(d)):Y&&(b.background=Y),Z&&Z.toObject?Z.excludeFromExport||(b.overlay=Z.toObject(d)):Z&&(b.overlay=Z),A&&!A.excludeFromExport&&(b.backgroundImage=this._toObject(A,o,d)),O&&!O.excludeFromExport&&(b.overlayImage=this._toObject(O,o,d)),b},svgViewportTransformation:!0,toSVG:function(o,d){o||(o={}),o.reviver=d;var b=[];return this._setSVGPreamble(b,o),this._setSVGHeader(b,o),this.clipPath&&b.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(b,"background"),this._setSVGBgOverlayImage(b,"backgroundImage",d),this._setSVGObjects(b,d),this.clipPath&&b.push(`</g>
`),this._setSVGBgOverlayColor(b,"overlay"),this._setSVGBgOverlayImage(b,"overlayImage",d),b.push("</svg>"),b.join("")},_setSVGPreamble:function(o,d){d.suppressPreamble||o.push('<?xml version="1.0" encoding="',d.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(o,d){var b=d.width||this.width,A=d.height||this.height,O,Y='viewBox="0 0 '+this.width+" "+this.height+'" ',Z=P.Object.NUM_FRACTION_DIGITS;d.viewBox?Y='viewBox="'+d.viewBox.x+" "+d.viewBox.y+" "+d.viewBox.width+" "+d.viewBox.height+'" ':this.svgViewportTransformation&&(O=this.viewportTransform,Y='viewBox="'+h(-O[4]/O[0],Z)+" "+h(-O[5]/O[3],Z)+" "+h(this.width/O[0],Z)+" "+h(this.height/O[3],Z)+'" '),o.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',b,'" ','height="',A,'" ',Y,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",P.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(d),`</defs>
`)},createSVGClipPathMarkup:function(o){var d=this.clipPath;return d?(d.clipPathId="CLIPPATH_"+P.Object.__uid++,'<clipPath id="'+d.clipPathId+`" >
`+this.clipPath.toClipPathSVG(o.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var o=this,d=["background","overlay"].map(function(b){var A=o[b+"Color"];if(A&&A.toLive){var O=o[b+"Vpt"],Y=o.viewportTransform,Z={width:o.width/(O?Y[0]:1),height:o.height/(O?Y[3]:1)};return A.toSVG(Z,{additionalTransform:O?P.util.matrixToSVG(Y):""})}});return d.join("")},createSVGFontFacesMarkup:function(){var o="",d={},b,A,O,Y,Z,mt,Xt,fe,Ue,or=P.fontPaths,fr=[];for(this._objects.forEach(function We(vr){fr.push(vr),vr._objects&&vr._objects.forEach(We)}),fe=0,Ue=fr.length;fe<Ue;fe++)if(b=fr[fe],A=b.fontFamily,!(b.type.indexOf("text")===-1||d[A]||!or[A])&&(d[A]=!0,!!b.styles)){O=b.styles;for(Z in O){Y=O[Z];for(Xt in Y)mt=Y[Xt],A=mt.fontFamily,!d[A]&&or[A]&&(d[A]=!0)}}for(var tr in d)o+=[`		@font-face {
`,"			font-family: '",tr,`';
`,"			src: url('",or[tr],`');
`,`		}
`].join("");return o&&(o=['	<style type="text/css">',`<![CDATA[
`,o,"]]>",`</style>
`].join("")),o},_setSVGObjects:function(o,d){var b,A,O,Y=this._objects;for(A=0,O=Y.length;A<O;A++)b=Y[A],!b.excludeFromExport&&this._setSVGObject(o,b,d)},_setSVGObject:function(o,d,b){o.push(d.toSVG(b))},_setSVGBgOverlayImage:function(o,d,b){this[d]&&!this[d].excludeFromExport&&this[d].toSVG&&o.push(this[d].toSVG(b))},_setSVGBgOverlayColor:function(o,d){var b=this[d+"Color"],A=this.viewportTransform,O=this.width,Y=this.height;if(!!b)if(b.toLive){var Z=b.repeat,mt=P.util.invertTransform(A),Xt=this[d+"Vpt"],fe=Xt?P.util.matrixToSVG(mt):"";o.push('<rect transform="'+fe+" translate(",O/2,",",Y/2,')"',' x="',b.offsetX-O/2,'" y="',b.offsetY-Y/2,'" ','width="',Z==="repeat-y"||Z==="no-repeat"?b.source.width:O,'" height="',Z==="repeat-x"||Z==="no-repeat"?b.source.height:Y,'" fill="url(#SVGID_'+b.id+')"',`></rect>
`)}else o.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',b,'"',`></rect>
`)},sendToBack:function(o){if(!o)return this;var d=this._activeObject,b,A,O;if(o===d&&o.type==="activeSelection")for(O=d._objects,b=O.length;b--;)A=O[b],f(this._objects,A),this._objects.unshift(A);else f(this._objects,o),this._objects.unshift(o);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(o){if(!o)return this;var d=this._activeObject,b,A,O;if(o===d&&o.type==="activeSelection")for(O=d._objects,b=0;b<O.length;b++)A=O[b],f(this._objects,A),this._objects.push(A);else f(this._objects,o),this._objects.push(o);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(o,d){if(!o)return this;var b=this._activeObject,A,O,Y,Z,mt,Xt=0;if(o===b&&o.type==="activeSelection")for(mt=b._objects,A=0;A<mt.length;A++)O=mt[A],Y=this._objects.indexOf(O),Y>0+Xt&&(Z=Y-1,f(this._objects,O),this._objects.splice(Z,0,O)),Xt++;else Y=this._objects.indexOf(o),Y!==0&&(Z=this._findNewLowerIndex(o,Y,d),f(this._objects,o),this._objects.splice(Z,0,o));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(o,d,b){var A,O;if(b)for(A=d,O=d-1;O>=0;--O){var Y=o.intersectsWithObject(this._objects[O])||o.isContainedWithinObject(this._objects[O])||this._objects[O].isContainedWithinObject(o);if(Y){A=O;break}}else A=d-1;return A},bringForward:function(o,d){if(!o)return this;var b=this._activeObject,A,O,Y,Z,mt,Xt=0;if(o===b&&o.type==="activeSelection")for(mt=b._objects,A=mt.length;A--;)O=mt[A],Y=this._objects.indexOf(O),Y<this._objects.length-1-Xt&&(Z=Y+1,f(this._objects,O),this._objects.splice(Z,0,O)),Xt++;else Y=this._objects.indexOf(o),Y!==this._objects.length-1&&(Z=this._findNewUpperIndex(o,Y,d),f(this._objects,o),this._objects.splice(Z,0,o));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(o,d,b){var A,O,Y;if(b)for(A=d,O=d+1,Y=this._objects.length;O<Y;++O){var Z=o.intersectsWithObject(this._objects[O])||o.isContainedWithinObject(this._objects[O])||this._objects[O].isContainedWithinObject(o);if(Z){A=O;break}}else A=d+1;return A},moveTo:function(o,d){return f(this._objects,o),this._objects.splice(d,0,o),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(P.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(o){o.dispose&&o.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),P.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),L(P.StaticCanvas.prototype,P.Observable),L(P.StaticCanvas.prototype,P.Collection),L(P.StaticCanvas.prototype,P.DataURLExporter),L(P.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(o){var d=r();if(!d||!d.getContext)return null;var b=d.getContext("2d");if(!b)return null;switch(o){case"setLineDash":return typeof b.setLineDash!="undefined";default:return null}}}),P.StaticCanvas.prototype.toJSON=P.StaticCanvas.prototype.toObject,P.isLikelyNode&&(P.StaticCanvas.prototype.createPNGStream=function(){var u=e(this.lowerCanvasEl);return u&&u.createPNGStream()},P.StaticCanvas.prototype.createJPEGStream=function(u){var o=e(this.lowerCanvasEl);return o&&o.createJPEGStream(u)})}(),P.BaseBrush=P.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var a=this.canvas.contextTop;a.strokeStyle=this.color,a.lineWidth=this.width,a.lineCap=this.strokeLineCap,a.miterLimit=this.strokeMiterLimit,a.lineJoin=this.strokeLineJoin,a.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(a){var f=this.canvas.viewportTransform;a.save(),a.transform(f[0],f[1],f[2],f[3],f[4],f[5])},_setShadow:function(){if(!!this.shadow){var a=this.canvas,f=this.shadow,h=a.contextTop,l=a.getZoom();a&&a._isRetinaScaling()&&(l*=P.devicePixelRatio),h.shadowColor=f.color,h.shadowBlur=f.blur*l,h.shadowOffsetX=f.offsetX*l,h.shadowOffsetY=f.offsetY*l}},needsFullRender:function(){var a=new P.Color(this.color);return a.getAlpha()<1||!!this.shadow},_resetShadow:function(){var a=this.canvas.contextTop;a.shadowColor="",a.shadowBlur=a.shadowOffsetX=a.shadowOffsetY=0},_isOutSideCanvas:function(a){return a.x<0||a.x>this.canvas.getWidth()||a.y<0||a.y>this.canvas.getHeight()}}),function(){P.PencilBrush=P.util.createClass(P.BaseBrush,{decimate:.4,initialize:function(a){this.canvas=a,this._points=[]},_drawSegment:function(a,f,h){var l=f.midPointFrom(h);return a.quadraticCurveTo(f.x,f.y,l.x,l.y),l},onMouseDown:function(a,f){!this.canvas._isMainEvent(f.e)||(this._prepareForDrawing(a),this._captureDrawingPath(a),this._render())},onMouseMove:function(a,f){if(!!this.canvas._isMainEvent(f.e)&&!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(a))&&this._captureDrawingPath(a)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var h=this._points,l=h.length,i=this.canvas.contextTop;this._saveAndTransform(i),this.oldEnd&&(i.beginPath(),i.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(i,h[l-2],h[l-1],!0),i.stroke(),i.restore()}},onMouseUp:function(a){return this.canvas._isMainEvent(a.e)?(this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(a){var f=new P.Point(a.x,a.y);this._reset(),this._addPoint(f),this.canvas.contextTop.moveTo(f.x,f.y)},_addPoint:function(a){return this._points.length>1&&a.eq(this._points[this._points.length-1])?!1:(this._points.push(a),!0)},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(a){var f=new P.Point(a.x,a.y);return this._addPoint(f)},_render:function(){var a=this.canvas.contextTop,f,h,l=this._points[0],i=this._points[1];if(this._saveAndTransform(a),a.beginPath(),this._points.length===2&&l.x===i.x&&l.y===i.y){var e=this.width/1e3;l=new P.Point(l.x,l.y),i=new P.Point(i.x,i.y),l.x-=e,i.x+=e}for(a.moveTo(l.x,l.y),f=1,h=this._points.length;f<h;f++)this._drawSegment(a,l,i),l=this._points[f],i=this._points[f+1];a.lineTo(l.x,l.y),a.stroke(),a.restore()},convertPointsToSVGPath:function(a){var f=this.width/1e3;return P.util.getSmoothPathFromPoints(a,f)},_isEmptySVGPath:function(a){var f=P.util.joinPath(a);return f==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(a){var f=new P.Path(a,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,f.shadow=new P.Shadow(this.shadow)),f},decimatePoints:function(a,f){if(a.length<=2)return a;var h=this.canvas.getZoom(),l=Math.pow(f/h,2),i,e=a.length-1,r=a[0],n=[r],u;for(i=1;i<e-1;i++)u=Math.pow(r.x-a[i].x,2)+Math.pow(r.y-a[i].y,2),u>=l&&(r=a[i],n.push(r));return n.push(a[e]),n},_finalizeAndAddPath:function(){var a=this.canvas.contextTop;a.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var f=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(f)){this.canvas.requestRenderAll();return}var h=this.createPath(f);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.requestRenderAll(),h.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:h})}})}(),P.CircleBrush=P.util.createClass(P.BaseBrush,{width:10,initialize:function(a){this.canvas=a,this.points=[]},drawDot:function(a){var f=this.addPoint(a),h=this.canvas.contextTop;this._saveAndTransform(h),this.dot(h,f),h.restore()},dot:function(a,f){a.fillStyle=f.fill,a.beginPath(),a.arc(f.x,f.y,f.radius,0,Math.PI*2,!1),a.closePath(),a.fill()},onMouseDown:function(a){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(a)},_render:function(){var a=this.canvas.contextTop,f,h,l=this.points;for(this._saveAndTransform(a),f=0,h=l.length;f<h;f++)this.dot(a,l[f]);a.restore()},onMouseMove:function(a){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(a)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(a),this._render()):this.drawDot(a))},onMouseUp:function(){var a=this.canvas.renderOnAddRemove,f,h;this.canvas.renderOnAddRemove=!1;var l=[];for(f=0,h=this.points.length;f<h;f++){var i=this.points[f],e=new P.Circle({radius:i.radius,left:i.x,top:i.y,originX:"center",originY:"center",fill:i.fill});this.shadow&&(e.shadow=new P.Shadow(this.shadow)),l.push(e)}var r=new P.Group(l);r.canvas=this.canvas,this.canvas.fire("before:path:created",{path:r}),this.canvas.add(r),this.canvas.fire("path:created",{path:r}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=a,this.canvas.requestRenderAll()},addPoint:function(a){var f=new P.Point(a.x,a.y),h=P.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,l=new P.Color(this.color).setAlpha(P.util.getRandomInt(0,100)/100).toRgba();return f.radius=h,f.fill=l,this.points.push(f),f}}),P.SprayBrush=P.util.createClass(P.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(a){this.canvas=a,this.sprayChunks=[]},onMouseDown:function(a){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(a),this.render(this.sprayChunkPoints)},onMouseMove:function(a){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(a)||(this.addSprayChunk(a),this.render(this.sprayChunkPoints))},onMouseUp:function(){var a=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var f=[],h=0,l=this.sprayChunks.length;h<l;h++)for(var i=this.sprayChunks[h],e=0,r=i.length;e<r;e++){var n=new P.Rect({width:i[e].width,height:i[e].width,left:i[e].x+1,top:i[e].y+1,originX:"center",originY:"center",fill:this.color});f.push(n)}this.optimizeOverlapping&&(f=this._getOptimizedRects(f));var u=new P.Group(f);this.shadow&&u.set("shadow",new P.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:u}),this.canvas.add(u),this.canvas.fire("path:created",{path:u}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=a,this.canvas.requestRenderAll()},_getOptimizedRects:function(a){var f={},h,l,i;for(l=0,i=a.length;l<i;l++)h=a[l].left+""+a[l].top,f[h]||(f[h]=a[l]);var e=[];for(h in f)e.push(f[h]);return e},render:function(a){var f=this.canvas.contextTop,h,l;for(f.fillStyle=this.color,this._saveAndTransform(f),h=0,l=a.length;h<l;h++){var i=a[h];typeof i.opacity!="undefined"&&(f.globalAlpha=i.opacity),f.fillRect(i.x,i.y,i.width,i.width)}f.restore()},_render:function(){var a=this.canvas.contextTop,f,h;for(a.fillStyle=this.color,this._saveAndTransform(a),f=0,h=this.sprayChunks.length;f<h;f++)this.render(this.sprayChunks[f]);a.restore()},addSprayChunk:function(a){this.sprayChunkPoints=[];var f,h,l,i=this.width/2,e;for(e=0;e<this.density;e++){f=P.util.getRandomInt(a.x-i,a.x+i),h=P.util.getRandomInt(a.y-i,a.y+i),this.dotWidthVariance?l=P.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):l=this.dotWidth;var r=new P.Point(f,h);r.width=l,this.randomOpacity&&(r.opacity=P.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(r)}this.sprayChunks.push(this.sprayChunkPoints)}}),P.PatternBrush=P.util.createClass(P.PencilBrush,{getPatternSrc:function(){var a=20,f=5,h=P.util.createCanvasElement(),l=h.getContext("2d");return h.width=h.height=a+f,l.fillStyle=this.color,l.beginPath(),l.arc(a/2,a/2,a/2,0,Math.PI*2,!1),l.closePath(),l.fill(),h},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(a){var f=this.callSuper("createPath",a),h=f._getLeftTopCoords().scalarAdd(f.strokeWidth/2);return f.stroke=new P.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-h.x,offsetY:-h.y}),f}}),function(){var L=P.util.getPointer,a=P.util.degreesToRadians,f=P.util.isTouchEvent;P.Canvas=P.util.createClass(P.StaticCanvas,{initialize:function(i,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(i,e),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=P.PencilBrush&&new P.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var i=this.getActiveObjects(),e,r,n;if(i.length>0&&!this.preserveObjectStacking){r=[],n=[];for(var u=0,o=this._objects.length;u<o;u++)e=this._objects[u],i.indexOf(e)===-1?r.push(e):n.push(e);i.length>1&&(this._activeObject._objects=n),r.push.apply(r,n)}else r=this._objects;return r},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var i=this.contextContainer;return this.renderCanvas(i,this._chooseObjectsToRender()),this},renderTopLayer:function(i){i.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(i),this.contextTopDirty=!0),i.restore()},renderTop:function(){var i=this.contextTop;return this.clearContext(i),this.renderTopLayer(i),this.fire("after:render"),this},_normalizePointer:function(i,e){var r=i.calcTransformMatrix(),n=P.util.invertTransform(r),u=this.restorePointerVpt(e);return P.util.transformPoint(u,n)},isTargetTransparent:function(i,e,r){if(i.shouldCache()&&i._cacheCanvas&&i!==this._activeObject){var n=this._normalizePointer(i,{x:e,y:r}),u=Math.max(i.cacheTranslationX+n.x*i.zoomX,0),o=Math.max(i.cacheTranslationY+n.y*i.zoomY,0),O=P.util.isTransparent(i._cacheContext,Math.round(u),Math.round(o),this.targetFindTolerance);return O}var d=this.contextCache,b=i.selectionBackgroundColor,A=this.viewportTransform;i.selectionBackgroundColor="",this.clearContext(d),d.save(),d.transform(A[0],A[1],A[2],A[3],A[4],A[5]),i.render(d),d.restore(),i.selectionBackgroundColor=b;var O=P.util.isTransparent(d,e,r,this.targetFindTolerance);return O},_isSelectionKeyPressed:function(i){var e=!1;return Object.prototype.toString.call(this.selectionKey)==="[object Array]"?e=!!this.selectionKey.find(function(r){return i[r]===!0}):e=i[this.selectionKey],e},_shouldClearSelection:function(i,e){var r=this.getActiveObjects(),n=this._activeObject;return!e||e&&n&&r.length>1&&r.indexOf(e)===-1&&n!==e&&!this._isSelectionKeyPressed(i)||e&&!e.evented||e&&!e.selectable&&n&&n!==e},_shouldCenterTransform:function(i,e,r){if(!!i){var n;return e==="scale"||e==="scaleX"||e==="scaleY"||e==="resizing"?n=this.centeredScaling||i.centeredScaling:e==="rotate"&&(n=this.centeredRotation||i.centeredRotation),n?!r:r}},_getOriginFromCorner:function(i,e){var r={x:i.originX,y:i.originY};return e==="ml"||e==="tl"||e==="bl"?r.x="right":(e==="mr"||e==="tr"||e==="br")&&(r.x="left"),e==="tl"||e==="mt"||e==="tr"?r.y="bottom":(e==="bl"||e==="mb"||e==="br")&&(r.y="top"),r},_getActionFromCorner:function(i,e,r,n){if(!e||!i)return"drag";var u=n.controls[e];return u.getActionName(r,u,n)},_setupCurrentTransform:function(i,e,r){if(!!e){var n=this.getPointer(i),u=e.__corner,o=e.controls[u],d=r&&u?o.getActionHandler(i,e,o):P.controlsUtils.dragHandler,b=this._getActionFromCorner(r,u,i,e),A=this._getOriginFromCorner(e,u),O=i[this.centeredKey],Y={target:e,action:b,actionHandler:d,corner:u,scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,offsetX:n.x-e.left,offsetY:n.y-e.top,originX:A.x,originY:A.y,ex:n.x,ey:n.y,lastX:n.x,lastY:n.y,theta:a(e.angle),width:e.width*e.scaleX,shiftKey:i.shiftKey,altKey:O,original:P.util.saveObjectTransform(e)};this._shouldCenterTransform(e,b,O)&&(Y.originX="center",Y.originY="center"),Y.original.originX=A.x,Y.original.originY=A.y,this._currentTransform=Y,this._beforeTransform(i)}},setCursor:function(i){this.upperCanvasEl.style.cursor=i},_drawSelection:function(i){var e=this._groupSelector,r=new P.Point(e.ex,e.ey),n=P.util.transformPoint(r,this.viewportTransform),u=new P.Point(e.ex+e.left,e.ey+e.top),o=P.util.transformPoint(u,this.viewportTransform),d=Math.min(n.x,o.x),b=Math.min(n.y,o.y),A=Math.max(n.x,o.x),O=Math.max(n.y,o.y),Y=this.selectionLineWidth/2;this.selectionColor&&(i.fillStyle=this.selectionColor,i.fillRect(d,b,A-d,O-b)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(i.lineWidth=this.selectionLineWidth,i.strokeStyle=this.selectionBorderColor,d+=Y,b+=Y,A-=Y,O-=Y,P.Object.prototype._setLineDash.call(this,i,this.selectionDashArray),i.strokeRect(d,b,A-d,O-b))},findTarget:function(i,e){if(!this.skipTargetFind){var r=!0,n=this.getPointer(i,r),u=this._activeObject,o=this.getActiveObjects(),d,b,A=f(i),O=o.length>1&&!e||o.length===1;if(this.targets=[],O&&u._findTargetCorner(n,A)||o.length>1&&!e&&u===this._searchPossibleTargets([u],n))return u;if(o.length===1&&u===this._searchPossibleTargets([u],n))if(this.preserveObjectStacking)d=u,b=this.targets,this.targets=[];else return u;var Y=this._searchPossibleTargets(this._objects,n);return i[this.altSelectionKey]&&Y&&d&&Y!==d&&(Y=d,this.targets=b),Y}},_checkTarget:function(i,e,r){if(e&&e.visible&&e.evented&&e.containsPoint(i))if((this.perPixelTargetFind||e.perPixelTargetFind)&&!e.isEditing){var n=this.isTargetTransparent(e,r.x,r.y);if(!n)return!0}else return!0},_searchPossibleTargets:function(i,e){for(var r,n=i.length,u;n--;){var o=i[n],d=o.group?this._normalizePointer(o.group,e):e;if(this._checkTarget(d,o,e)){r=i[n],r.subTargetCheck&&r instanceof P.Group&&(u=this._searchPossibleTargets(r._objects,e),u&&this.targets.push(u));break}}return r},restorePointerVpt:function(i){return P.util.transformPoint(i,P.util.invertTransform(this.viewportTransform))},getPointer:function(i,e){if(this._absolutePointer&&!e)return this._absolutePointer;if(this._pointer&&e)return this._pointer;var r=L(i),n=this.upperCanvasEl,u=n.getBoundingClientRect(),o=u.width||0,d=u.height||0,b;(!o||!d)&&("top"in u&&"bottom"in u&&(d=Math.abs(u.top-u.bottom)),"right"in u&&"left"in u&&(o=Math.abs(u.right-u.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,e||(r=this.restorePointerVpt(r));var A=this.getRetinaScaling();return A!==1&&(r.x/=A,r.y/=A),o===0||d===0?b={width:1,height:1}:b={width:n.width/o,height:n.height/d},{x:r.x*b.width,y:r.y*b.height}},_createUpperCanvas:function(){var i=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),e=this.lowerCanvasEl,r=this.upperCanvasEl;r?r.className="":(r=this._createCanvasElement(),this.upperCanvasEl=r),P.util.addClass(r,"upper-canvas "+i),this.wrapperEl.appendChild(r),this._copyCanvasStyle(e,r),this._applyCanvasStyle(r),this.contextTop=r.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=P.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),P.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),P.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(i){var e=this.width||i.width,r=this.height||i.height;P.util.setStyle(i,{position:"absolute",width:e+"px",height:r+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),i.width=e,i.height=r,P.util.makeElementUnselectable(i)},_copyCanvasStyle:function(i,e){e.style.cssText=i.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var i=this._activeObject;return i?i.type==="activeSelection"&&i._objects?i._objects.slice(0):[i]:[]},_onObjectRemoved:function(i){i===this._activeObject&&(this.fire("before:selection:cleared",{target:i}),this._discardActiveObject(),this.fire("selection:cleared",{target:i}),i.fire("deselected")),i===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",i)},_fireSelectionEvents:function(i,e){var r=!1,n=this.getActiveObjects(),u=[],o=[];i.forEach(function(d){n.indexOf(d)===-1&&(r=!0,d.fire("deselected",{e,target:d}),o.push(d))}),n.forEach(function(d){i.indexOf(d)===-1&&(r=!0,d.fire("selected",{e,target:d}),u.push(d))}),i.length>0&&n.length>0?r&&this.fire("selection:updated",{e,selected:u,deselected:o,updated:u[0]||o[0],target:this._activeObject}):n.length>0?this.fire("selection:created",{e,selected:u,target:this._activeObject}):i.length>0&&this.fire("selection:cleared",{e,deselected:o})},setActiveObject:function(i,e){var r=this.getActiveObjects();return this._setActiveObject(i,e),this._fireSelectionEvents(r,e),this},_setActiveObject:function(i,e){return this._activeObject===i||!this._discardActiveObject(e,i)||i.onSelect({e})?!1:(this._activeObject=i,!0)},_discardActiveObject:function(i,e){var r=this._activeObject;if(r){if(r.onDeselect({e:i,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(i){var e=this.getActiveObjects(),r=this.getActiveObject();return e.length&&this.fire("before:selection:cleared",{target:r,e:i}),this._discardActiveObject(i),this._fireSelectionEvents(e,i),this},dispose:function(){var i=this.wrapperEl;return this.removeListeners(),i.removeChild(this.upperCanvasEl),i.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(e){P.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this)),i.parentNode&&i.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,P.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(i){var e=this._activeObject;e&&e._renderControls(i)},_toObject:function(i,e,r){var n=this._realizeGroupTransformOnObject(i),u=this.callSuper("_toObject",i,e,r);return this._unwindGroupTransformOnObject(i,n),u},_realizeGroupTransformOnObject:function(i){if(i.group&&i.group.type==="activeSelection"&&this._activeObject===i.group){var e=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],r={};return e.forEach(function(n){r[n]=i[n]}),P.util.addTransformToObject(i,this._activeObject.calcOwnMatrix()),r}else return null},_unwindGroupTransformOnObject:function(i,e){e&&i.set(e)},_setSVGObject:function(i,e,r){var n=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",i,e,r),this._unwindGroupTransformOnObject(e,n)},setViewportTransform:function(i){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),P.StaticCanvas.prototype.setViewportTransform.call(this,i)}});for(var h in P.StaticCanvas)h!=="prototype"&&(P.Canvas[h]=P.StaticCanvas[h])}(),function(){var L=P.util.addListener,a=P.util.removeListener,f=3,h=2,l=1,i={passive:!1};function e(r,n){return r.button&&r.button===n-1}P.util.object.extend(P.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(L,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(n,u){var o=this.upperCanvasEl,d=this._getEventPrefix();n(P.window,"resize",this._onResize),n(o,d+"down",this._onMouseDown),n(o,d+"move",this._onMouseMove,i),n(o,d+"out",this._onMouseOut),n(o,d+"enter",this._onMouseEnter),n(o,"wheel",this._onMouseWheel),n(o,"contextmenu",this._onContextMenu),n(o,"dblclick",this._onDoubleClick),n(o,"dragover",this._onDragOver),n(o,"dragenter",this._onDragEnter),n(o,"dragleave",this._onDragLeave),n(o,"drop",this._onDrop),this.enablePointerEvents||n(o,"touchstart",this._onTouchStart,i),typeof eventjs!="undefined"&&u in eventjs&&(eventjs[u](o,"gesture",this._onGesture),eventjs[u](o,"drag",this._onDrag),eventjs[u](o,"orientation",this._onOrientationChange),eventjs[u](o,"shake",this._onShake),eventjs[u](o,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(a,"remove");var n=this._getEventPrefix();a(P.document,n+"up",this._onMouseUp),a(P.document,"touchend",this._onTouchEnd,i),a(P.document,n+"move",this._onMouseMove,i),a(P.document,"touchmove",this._onMouseMove,i)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(n,u){this.__onTransformGesture&&this.__onTransformGesture(n,u)},_onDrag:function(n,u){this.__onDrag&&this.__onDrag(n,u)},_onMouseWheel:function(n){this.__onMouseWheel(n)},_onMouseOut:function(n){var u=this._hoveredTarget;this.fire("mouse:out",{target:u,e:n}),this._hoveredTarget=null,u&&u.fire("mouseout",{e:n});var o=this;this._hoveredTargets.forEach(function(d){o.fire("mouse:out",{target:u,e:n}),d&&u.fire("mouseout",{e:n})}),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach(function(d){d.isEditing&&d.hiddenTextarea.focus()})},_onMouseEnter:function(n){!this._currentTransform&&!this.findTarget(n)&&(this.fire("mouse:over",{target:null,e:n}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(n,u){this.__onOrientationChange&&this.__onOrientationChange(n,u)},_onShake:function(n,u){this.__onShake&&this.__onShake(n,u)},_onLongPress:function(n,u){this.__onLongPress&&this.__onLongPress(n,u)},_onDragOver:function(n){n.preventDefault();var u=this._simpleEventHandler("dragover",n);this._fireEnterLeaveEvents(u,n)},_onContextMenu:function(n){return this.stopContextMenu&&(n.stopPropagation(),n.preventDefault()),!1},_onDoubleClick:function(n){this._cacheTransformEventData(n),this._handleEvent(n,"dblclick"),this._resetTransformEventData(n)},getPointerId:function(n){var u=n.changedTouches;return u?u[0]&&u[0].identifier:this.enablePointerEvents?n.pointerId:-1},_isMainEvent:function(n){return n.isPrimary===!0?!0:n.isPrimary===!1?!1:n.type==="touchend"&&n.touches.length===0?!0:n.changedTouches?n.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(n){n.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(n)),this.__onMouseDown(n),this._resetTransformEventData();var u=this.upperCanvasEl,o=this._getEventPrefix();L(P.document,"touchend",this._onTouchEnd,i),L(P.document,"touchmove",this._onMouseMove,i),a(u,o+"down",this._onMouseDown)},_onMouseDown:function(n){this.__onMouseDown(n),this._resetTransformEventData();var u=this.upperCanvasEl,o=this._getEventPrefix();a(u,o+"move",this._onMouseMove,i),L(P.document,o+"up",this._onMouseUp),L(P.document,o+"move",this._onMouseMove,i)},_onTouchEnd:function(n){if(!(n.touches.length>0)){this.__onMouseUp(n),this._resetTransformEventData(),this.mainTouchId=null;var u=this._getEventPrefix();a(P.document,"touchend",this._onTouchEnd,i),a(P.document,"touchmove",this._onMouseMove,i);var o=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){L(o.upperCanvasEl,u+"down",o._onMouseDown),o._willAddMouseDown=0},400)}},_onMouseUp:function(n){this.__onMouseUp(n),this._resetTransformEventData();var u=this.upperCanvasEl,o=this._getEventPrefix();this._isMainEvent(n)&&(a(P.document,o+"up",this._onMouseUp),a(P.document,o+"move",this._onMouseMove,i),L(u,o+"move",this._onMouseMove,i))},_onMouseMove:function(n){!this.allowTouchScrolling&&n.preventDefault&&n.preventDefault(),this.__onMouseMove(n)},_onResize:function(){this.calcOffset()},_shouldRender:function(n){var u=this._activeObject;return!!u!=!!n||u&&n&&u!==n?!0:(u&&u.isEditing,!1)},__onMouseUp:function(n){var u,o=this._currentTransform,d=this._groupSelector,b=!1,A=!d||d.left===0&&d.top===0;if(this._cacheTransformEventData(n),u=this._target,this._handleEvent(n,"up:before"),e(n,f)){this.fireRightClick&&this._handleEvent(n,"up",f,A);return}if(e(n,h)){this.fireMiddleClick&&this._handleEvent(n,"up",h,A),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(n);return}if(!!this._isMainEvent(n)){if(o&&(this._finalizeCurrentTransform(n),b=o.actionPerformed),!A){var O=u===this._activeObject;this._maybeGroupObjects(n),b||(b=this._shouldRender(u)||!O&&u===this._activeObject)}if(u){if(u.selectable&&u!==this._activeObject&&u.activeOn==="up")this.setActiveObject(u,n),b=!0;else{var Y=u._findTargetCorner(this.getPointer(n,!0),P.util.isTouchEvent(n)),Z=u.controls[Y],mt=Z&&Z.getMouseUpHandler(n,u,Z);if(mt){var Xt=this.getPointer(n);mt(n,o,Xt.x,Xt.y)}}u.isMoving=!1}this._setCursorFromEvent(n,u),this._handleEvent(n,"up",l,A),this._groupSelector=null,this._currentTransform=null,u&&(u.__corner=0),b?this.requestRenderAll():A||this.renderTop()}},_simpleEventHandler:function(n,u){var o=this.findTarget(u),d=this.targets,b={e:u,target:o,subTargets:d};if(this.fire(n,b),o&&o.fire(n,b),!d)return o;for(var A=0;A<d.length;A++)d[A].fire(n,b);return o},_handleEvent:function(n,u,o,d){var b=this._target,A=this.targets||[],O={e:n,target:b,subTargets:A,button:o||l,isClick:d||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};u==="up"&&(O.currentTarget=this.findTarget(n),O.currentSubTargets=this.targets),this.fire("mouse:"+u,O),b&&b.fire("mouse"+u,O);for(var Y=0;Y<A.length;Y++)A[Y].fire("mouse"+u,O)},_finalizeCurrentTransform:function(n){var u=this._currentTransform,o=u.target,d,b={e:n,target:o,transform:u,action:u.action};o._scaling&&(o._scaling=!1),o.setCoords(),(u.actionPerformed||this.stateful&&o.hasStateChanged())&&(u.actionPerformed&&(d=this._addEventOptions(b,u),this._fire(d,b)),this._fire("modified",b))},_addEventOptions:function(n,u){var o,d;switch(u.action){case"scaleX":o="scaled",d="x";break;case"scaleY":o="scaled",d="y";break;case"skewX":o="skewed",d="x";break;case"skewY":o="skewed",d="y";break;case"scale":o="scaled",d="equally";break;case"rotate":o="rotated";break;case"drag":o="moved";break}return n.by=d,o},_onMouseDownInDrawingMode:function(n){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(n).requestRenderAll();var u=this.getPointer(n);this.freeDrawingBrush.onMouseDown(u,{e:n,pointer:u}),this._handleEvent(n,"down")},_onMouseMoveInDrawingMode:function(n){if(this._isCurrentlyDrawing){var u=this.getPointer(n);this.freeDrawingBrush.onMouseMove(u,{e:n,pointer:u})}this.setCursor(this.freeDrawingCursor),this._handleEvent(n,"move")},_onMouseUpInDrawingMode:function(n){var u=this.getPointer(n);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:n,pointer:u}),this._handleEvent(n,"up")},__onMouseDown:function(n){this._cacheTransformEventData(n),this._handleEvent(n,"down:before");var u=this._target;if(e(n,f)){this.fireRightClick&&this._handleEvent(n,"down",f);return}if(e(n,h)){this.fireMiddleClick&&this._handleEvent(n,"down",h);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(n);return}if(!!this._isMainEvent(n)&&!this._currentTransform){var o=this._pointer;this._previousPointer=o;var d=this._shouldRender(u),b=this._shouldGroup(n,u);if(this._shouldClearSelection(n,u)?this.discardActiveObject(n):b&&(this._handleGrouping(n,u),u=this._activeObject),this.selection&&(!u||!u.selectable&&!u.isEditing&&u!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),u){var A=u===this._activeObject;u.selectable&&u.activeOn==="down"&&this.setActiveObject(u,n);var O=u._findTargetCorner(this.getPointer(n,!0),P.util.isTouchEvent(n));if(u.__corner=O,u===this._activeObject&&(O||!b)){this._setupCurrentTransform(n,u,A);var Y=u.controls[O],o=this.getPointer(n),Z=Y&&Y.getMouseDownHandler(n,u,Y);Z&&Z(n,this._currentTransform,o.x,o.y)}}this._handleEvent(n,"down"),(d||b)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(n){this._resetTransformEventData(),this._pointer=this.getPointer(n,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(n)||null},_beforeTransform:function(n){var u=this._currentTransform;this.stateful&&u.target.saveState(),this.fire("before:transform",{e:n,transform:u})},__onMouseMove:function(n){this._handleEvent(n,"move:before"),this._cacheTransformEventData(n);var u,o;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(n);return}if(!!this._isMainEvent(n)){var d=this._groupSelector;d?(o=this._absolutePointer,d.left=o.x-d.ex,d.top=o.y-d.ey,this.renderTop()):this._currentTransform?this._transformObject(n):(u=this.findTarget(n)||null,this._setCursorFromEvent(n,u),this._fireOverOutEvents(u,n)),this._handleEvent(n,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(n,u){var o=this._hoveredTarget,d=this._hoveredTargets,b=this.targets,A=Math.max(d.length,b.length);this.fireSyntheticInOutEvents(n,u,{oldTarget:o,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var O=0;O<A;O++)this.fireSyntheticInOutEvents(b[O],u,{oldTarget:d[O],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(n,u){var o=this._draggedoverTarget,d=this._hoveredTargets,b=this.targets,A=Math.max(d.length,b.length);this.fireSyntheticInOutEvents(n,u,{oldTarget:o,evtOut:"dragleave",evtIn:"dragenter"});for(var O=0;O<A;O++)this.fireSyntheticInOutEvents(b[O],u,{oldTarget:d[O],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=n},fireSyntheticInOutEvents:function(n,u,o){var d,b,A=o.oldTarget,O,Y,Z=A!==n,mt=o.canvasEvtIn,Xt=o.canvasEvtOut;Z&&(d={e:u,target:n,previousTarget:A},b={e:u,target:A,nextTarget:n}),Y=n&&Z,O=A&&Z,O&&(Xt&&this.fire(Xt,b),A.fire(o.evtOut,b)),Y&&(mt&&this.fire(mt,d),n.fire(o.evtIn,d))},__onMouseWheel:function(n){this._cacheTransformEventData(n),this._handleEvent(n,"wheel"),this._resetTransformEventData()},_transformObject:function(n){var u=this.getPointer(n),o=this._currentTransform;o.reset=!1,o.shiftKey=n.shiftKey,o.altKey=n[this.centeredKey],this._performTransformAction(n,o,u),o.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(n,u,o){var d=o.x,b=o.y,A=u.action,O=!1,Y=u.actionHandler;Y&&(O=Y(n,u,d,b)),A==="drag"&&O&&(u.target.isMoving=!0,this.setCursor(u.target.moveCursor||this.moveCursor)),u.actionPerformed=u.actionPerformed||O},_fire:P.controlsUtils.fireEvent,_setCursorFromEvent:function(n,u){if(!u)return this.setCursor(this.defaultCursor),!1;var o=u.hoverCursor||this.hoverCursor,d=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,b=(!d||!d.contains(u))&&u._findTargetCorner(this.getPointer(n,!0));b?this.setCursor(this.getCornerCursor(b,u,n)):(u.subTargetCheck&&this.targets.concat().reverse().map(function(A){o=A.hoverCursor||o}),this.setCursor(o))},getCornerCursor:function(n,u,o){var d=u.controls[n];return d.cursorStyleHandler(o,d,u)}})}(),function(){var L=Math.min,a=Math.max;P.util.object.extend(P.Canvas.prototype,{_shouldGroup:function(h,l){var i=this._activeObject;return i&&this._isSelectionKeyPressed(h)&&l&&l.selectable&&this.selection&&(i!==l||i.type==="activeSelection")&&!l.onSelect({e:h})},_handleGrouping:function(h,l){var i=this._activeObject;i.__corner||l===i&&(l=this.findTarget(h,!0),!l||!l.selectable)||(i&&i.type==="activeSelection"?this._updateActiveSelection(l,h):this._createActiveSelection(l,h))},_updateActiveSelection:function(h,l){var i=this._activeObject,e=i._objects.slice(0);i.contains(h)?(i.removeWithUpdate(h),this._hoveredTarget=h,this._hoveredTargets=this.targets.concat(),i.size()===1&&this._setActiveObject(i.item(0),l)):(i.addWithUpdate(h),this._hoveredTarget=i,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(e,l)},_createActiveSelection:function(h,l){var i=this.getActiveObjects(),e=this._createGroup(h);this._hoveredTarget=e,this._setActiveObject(e,l),this._fireSelectionEvents(i,l)},_createGroup:function(h){var l=this._objects,i=l.indexOf(this._activeObject)<l.indexOf(h),e=i?[this._activeObject,h]:[h,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new P.ActiveSelection(e,{canvas:this})},_groupSelectedObjects:function(h){var l=this._collectObjects(h),i;l.length===1?this.setActiveObject(l[0],h):l.length>1&&(i=new P.ActiveSelection(l.reverse(),{canvas:this}),this.setActiveObject(i,h))},_collectObjects:function(h){for(var l=[],i,e=this._groupSelector.ex,r=this._groupSelector.ey,n=e+this._groupSelector.left,u=r+this._groupSelector.top,o=new P.Point(L(e,n),L(r,u)),d=new P.Point(a(e,n),a(r,u)),b=!this.selectionFullyContained,A=e===n&&r===u,O=this._objects.length;O--&&(i=this._objects[O],!(!(!i||!i.selectable||!i.visible)&&(b&&i.intersectsWithRect(o,d,!0)||i.isContainedWithinRect(o,d,!0)||b&&i.containsPoint(o,null,!0)||b&&i.containsPoint(d,null,!0))&&(l.push(i),A))););return l.length>1&&(l=l.filter(function(Y){return!Y.onSelect({e:h})})),l},_maybeGroupObjects:function(h){this.selection&&this._groupSelector&&this._groupSelectedObjects(h),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){P.util.object.extend(P.StaticCanvas.prototype,{toDataURL:function(a){a||(a={});var f=a.format||"png",h=a.quality||1,l=(a.multiplier||1)*(a.enableRetinaScaling?this.getRetinaScaling():1),i=this.toCanvasElement(l,a);return P.util.toDataURL(i,f,h)},toCanvasElement:function(a,f){a=a||1,f=f||{};var h=(f.width||this.width)*a,l=(f.height||this.height)*a,i=this.getZoom(),e=this.width,r=this.height,n=i*a,u=this.viewportTransform,o=(u[4]-(f.left||0))*a,d=(u[5]-(f.top||0))*a,b=this.interactive,A=[n,0,0,n,o,d],O=this.enableRetinaScaling,Y=P.util.createCanvasElement(),Z=this.contextTop;return Y.width=h,Y.height=l,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=A,this.width=h,this.height=l,this.calcViewportBoundaries(),this.renderCanvas(Y.getContext("2d"),this._objects),this.viewportTransform=u,this.width=e,this.height=r,this.calcViewportBoundaries(),this.interactive=b,this.enableRetinaScaling=O,this.contextTop=Z,Y}})}(),P.util.object.extend(P.StaticCanvas.prototype,{loadFromJSON:function(a,f,h){if(!!a){var l=typeof a=="string"?JSON.parse(a):P.util.object.clone(a),i=this,e=l.clipPath,r=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete l.clipPath,this._enlivenObjects(l.objects,function(n){i.clear(),i._setBgOverlay(l,function(){e?i._enlivenObjects([e],function(u){i.clipPath=u[0],i.__setupCanvas.call(i,l,n,r,f)}):i.__setupCanvas.call(i,l,n,r,f)})},h),this}},__setupCanvas:function(a,f,h,l){var i=this;f.forEach(function(e,r){i.insertAt(e,r)}),this.renderOnAddRemove=h,delete a.objects,delete a.backgroundImage,delete a.overlayImage,delete a.background,delete a.overlay,this._setOptions(a),this.renderAll(),l&&l()},_setBgOverlay:function(a,f){var h={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!a.backgroundImage&&!a.overlayImage&&!a.background&&!a.overlay){f&&f();return}var l=function(){h.backgroundImage&&h.overlayImage&&h.backgroundColor&&h.overlayColor&&f&&f()};this.__setBgOverlay("backgroundImage",a.backgroundImage,h,l),this.__setBgOverlay("overlayImage",a.overlayImage,h,l),this.__setBgOverlay("backgroundColor",a.background,h,l),this.__setBgOverlay("overlayColor",a.overlay,h,l)},__setBgOverlay:function(a,f,h,l){var i=this;if(!f){h[a]=!0,l&&l();return}a==="backgroundImage"||a==="overlayImage"?P.util.enlivenObjects([f],function(e){i[a]=e[0],h[a]=!0,l&&l()}):this["set"+P.util.string.capitalize(a,!0)](f,function(){h[a]=!0,l&&l()})},_enlivenObjects:function(a,f,h){if(!a||a.length===0){f&&f([]);return}P.util.enlivenObjects(a,function(l){f&&f(l)},null,h)},_toDataURL:function(a,f){this.clone(function(h){f(h.toDataURL(a))})},_toDataURLWithMultiplier:function(a,f,h){this.clone(function(l){h(l.toDataURLWithMultiplier(a,f))})},clone:function(a,f){var h=JSON.stringify(this.toJSON(f));this.cloneWithoutData(function(l){l.loadFromJSON(h,function(){a&&a(l)})})},cloneWithoutData:function(a){var f=P.util.createCanvasElement();f.width=this.width,f.height=this.height;var h=new P.Canvas(f);this.backgroundImage?(h.setBackgroundImage(this.backgroundImage.src,function(){h.renderAll(),a&&a(h)}),h.backgroundImageOpacity=this.backgroundImageOpacity,h.backgroundImageStretch=this.backgroundImageStretch):a&&a(h)}}),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.object.extend,h=a.util.object.clone,l=a.util.toFixed,i=a.util.string.capitalize,e=a.util.degreesToRadians,r=!a.isLikelyNode,n=2;a.Object||(a.Object=a.util.createClass(a.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:r,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(o){o&&this.setOptions(o)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=a.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(o){var d=a.perfLimitSizeTotal,b=o.width,A=o.height,O=a.maxCacheSideLimit,Y=a.minCacheSideLimit;if(b<=O&&A<=O&&b*A<=d)return b<Y&&(o.width=Y),A<Y&&(o.height=Y),o;var Z=b/A,mt=a.util.limitDimsByArea(Z,d),Xt=a.util.capValue,fe=Xt(Y,mt.x,O),Ue=Xt(Y,mt.y,O);return b>fe&&(o.zoomX/=b/fe,o.width=fe,o.capped=!0),A>Ue&&(o.zoomY/=A/Ue,o.height=Ue,o.capped=!0),o},_getCacheCanvasDimensions:function(){var o=this.getTotalObjectScaling(),d=this._getTransformedDimensions(0,0),b=d.x*o.scaleX/this.scaleX,A=d.y*o.scaleY/this.scaleY;return{width:b+n,height:A+n,zoomX:o.scaleX,zoomY:o.scaleY,x:b,y:A}},_updateCacheCanvas:function(){var o=this.canvas;if(this.noScaleCache&&o&&o._currentTransform){var d=o._currentTransform.target,b=o._currentTransform.action;if(this===d&&b.slice&&b.slice(0,5)==="scale")return!1}var A=this._cacheCanvas,O=this._limitCacheSize(this._getCacheCanvasDimensions()),Y=a.minCacheSideLimit,Z=O.width,mt=O.height,Xt,fe,Ue=O.zoomX,or=O.zoomY,fr=Z!==this.cacheWidth||mt!==this.cacheHeight,tr=this.zoomX!==Ue||this.zoomY!==or,We=fr||tr,vr=0,Or=0,Lr=!1;if(fr){var at=this._cacheCanvas.width,ve=this._cacheCanvas.height,ht=Z>at||mt>ve,Et=(Z<at*.9||mt<ve*.9)&&at>Y&&ve>Y;Lr=ht||Et,ht&&!O.capped&&(Z>Y||mt>Y)&&(vr=Z*.1,Or=mt*.1)}return this instanceof a.Text&&this.path&&(We=!0,Lr=!0,vr+=this.getHeightOfLine(0)*this.zoomX,Or+=this.getHeightOfLine(0)*this.zoomY),We?(Lr?(A.width=Math.ceil(Z+vr),A.height=Math.ceil(mt+Or)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,A.width,A.height)),Xt=O.x/2,fe=O.y/2,this.cacheTranslationX=Math.round(A.width/2-Xt)+Xt,this.cacheTranslationY=Math.round(A.height/2-fe)+fe,this.cacheWidth=Z,this.cacheHeight=mt,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(Ue,or),this.zoomX=Ue,this.zoomY=or,!0):!1},setOptions:function(o){this._setOptions(o),this._initGradient(o.fill,"fill"),this._initGradient(o.stroke,"stroke"),this._initPattern(o.fill,"fill"),this._initPattern(o.stroke,"stroke")},transform:function(o){var d=this.group&&!this.group._transformDone||this.group&&this.canvas&&o===this.canvas.contextTop,b=this.calcTransformMatrix(!d);o.transform(b[0],b[1],b[2],b[3],b[4],b[5])},toObject:function(o){var d=a.Object.NUM_FRACTION_DIGITS,b={type:this.type,version:a.version,originX:this.originX,originY:this.originY,left:l(this.left,d),top:l(this.top,d),width:l(this.width,d),height:l(this.height,d),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:l(this.strokeWidth,d),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:l(this.strokeMiterLimit,d),scaleX:l(this.scaleX,d),scaleY:l(this.scaleY,d),angle:l(this.angle,d),flipX:this.flipX,flipY:this.flipY,opacity:l(this.opacity,d),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:l(this.skewX,d),skewY:l(this.skewY,d)};return this.clipPath&&!this.clipPath.excludeFromExport&&(b.clipPath=this.clipPath.toObject(o),b.clipPath.inverted=this.clipPath.inverted,b.clipPath.absolutePositioned=this.clipPath.absolutePositioned),a.util.populateWithProperties(this,b,o),this.includeDefaultValues||(b=this._removeDefaultValues(b)),b},toDatalessObject:function(o){return this.toObject(o)},_removeDefaultValues:function(o){var d=a.util.getKlass(o.type).prototype,b=d.stateProperties;return b.forEach(function(A){if(!(A==="left"||A==="top")){o[A]===d[A]&&delete o[A];var O=Object.prototype.toString.call(o[A])==="[object Array]"&&Object.prototype.toString.call(d[A])==="[object Array]";O&&o[A].length===0&&d[A].length===0&&delete o[A]}}),o},toString:function(){return"#<fabric."+i(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var o=a.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(o.scaleX),scaleY:Math.abs(o.scaleY)}},getTotalObjectScaling:function(){var o=this.getObjectScaling(),d=o.scaleX,b=o.scaleY;if(this.canvas){var A=this.canvas.getZoom(),O=this.canvas.getRetinaScaling();d*=A*O,b*=A*O}return{scaleX:d,scaleY:b}},getObjectOpacity:function(){var o=this.opacity;return this.group&&(o*=this.group.getObjectOpacity()),o},_set:function(o,d){var b=o==="scaleX"||o==="scaleY",A=this[o]!==d,O=!1;return b&&(d=this._constrainScale(d)),o==="scaleX"&&d<0?(this.flipX=!this.flipX,d*=-1):o==="scaleY"&&d<0?(this.flipY=!this.flipY,d*=-1):o==="shadow"&&d&&!(d instanceof a.Shadow)?d=new a.Shadow(d):o==="dirty"&&this.group&&this.group.set("dirty",d),this[o]=d,A&&(O=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(o)>-1?(this.dirty=!0,O&&this.group.set("dirty",!0)):O&&this.stateProperties.indexOf(o)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:a.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(o){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(o.save(),this._setupCompositeOperation(o),this.drawSelectionBackground(o),this.transform(o),this._setOpacity(o),this._setShadow(o,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(o)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(o),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),o.restore())},renderCache:function(o){o=o||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,o.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(o){var d=this.clipPath;if(o.save(),d.inverted?o.globalCompositeOperation="destination-out":o.globalCompositeOperation="destination-in",d.absolutePositioned){var b=a.util.invertTransform(this.calcTransformMatrix());o.transform(b[0],b[1],b[2],b[3],b[4],b[5])}d.transform(o),o.scale(1/d.zoomX,1/d.zoomY),o.drawImage(d._cacheCanvas,-d.cacheTranslationX,-d.cacheTranslationY),o.restore()},drawObject:function(o,d){var b=this.fill,A=this.stroke;d?(this.fill="black",this.stroke="",this._setClippingProperties(o)):this._renderBackground(o),this._render(o),this._drawClipPath(o),this.fill=b,this.stroke=A},_drawClipPath:function(o){var d=this.clipPath;!d||(d.canvas=this.canvas,d.shouldCache(),d._transformDone=!0,d.renderCache({forClipping:!0}),this.drawClipPathOnCache(o))},drawCacheOnCanvas:function(o){o.scale(1/this.zoomX,1/this.zoomY),o.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(o){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!o&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!o){var d=this.cacheWidth/this.zoomX,b=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-d/2,-b/2,d,b)}return!0}return!1},_renderBackground:function(o){if(!!this.backgroundColor){var d=this._getNonTransformedDimensions();o.fillStyle=this.backgroundColor,o.fillRect(-d.x/2,-d.y/2,d.x,d.y),this._removeShadow(o)}},_setOpacity:function(o){this.group&&!this.group._transformDone?o.globalAlpha=this.getObjectOpacity():o.globalAlpha*=this.opacity},_setStrokeStyles:function(o,d){var b=d.stroke;b&&(o.lineWidth=d.strokeWidth,o.lineCap=d.strokeLineCap,o.lineDashOffset=d.strokeDashOffset,o.lineJoin=d.strokeLineJoin,o.miterLimit=d.strokeMiterLimit,b.toLive?b.gradientUnits==="percentage"||b.gradientTransform||b.patternTransform?this._applyPatternForTransformedGradient(o,b):(o.strokeStyle=b.toLive(o,this),this._applyPatternGradientTransform(o,b)):o.strokeStyle=d.stroke)},_setFillStyles:function(o,d){var b=d.fill;b&&(b.toLive?(o.fillStyle=b.toLive(o,this),this._applyPatternGradientTransform(o,d.fill)):o.fillStyle=b)},_setClippingProperties:function(o){o.globalAlpha=1,o.strokeStyle="transparent",o.fillStyle="#000000"},_setLineDash:function(o,d){!d||d.length===0||(1&d.length&&d.push.apply(d,d),o.setLineDash(d))},_renderControls:function(o,d){var b=this.getViewportTransform(),A=this.calcTransformMatrix(),O,Y,Z;d=d||{},Y=typeof d.hasBorders!="undefined"?d.hasBorders:this.hasBorders,Z=typeof d.hasControls!="undefined"?d.hasControls:this.hasControls,A=a.util.multiplyTransformMatrices(b,A),O=a.util.qrDecompose(A),o.save(),o.translate(O.translateX,O.translateY),o.lineWidth=1*this.borderScaleFactor,this.group||(o.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),o.rotate(e(O.angle)),d.forActiveSelection||this.group?Y&&this.drawBordersInGroup(o,O,d):Y&&this.drawBorders(o,d),Z&&this.drawControls(o,d),o.restore()},_setShadow:function(o){if(!!this.shadow){var d=this.shadow,b=this.canvas,A,O=b&&b.viewportTransform[0]||1,Y=b&&b.viewportTransform[3]||1;d.nonScaling?A={scaleX:1,scaleY:1}:A=this.getObjectScaling(),b&&b._isRetinaScaling()&&(O*=a.devicePixelRatio,Y*=a.devicePixelRatio),o.shadowColor=d.color,o.shadowBlur=d.blur*a.browserShadowBlurConstant*(O+Y)*(A.scaleX+A.scaleY)/4,o.shadowOffsetX=d.offsetX*O*A.scaleX,o.shadowOffsetY=d.offsetY*Y*A.scaleY}},_removeShadow:function(o){!this.shadow||(o.shadowColor="",o.shadowBlur=o.shadowOffsetX=o.shadowOffsetY=0)},_applyPatternGradientTransform:function(o,d){if(!d||!d.toLive)return{offsetX:0,offsetY:0};var b=d.gradientTransform||d.patternTransform,A=-this.width/2+d.offsetX||0,O=-this.height/2+d.offsetY||0;return d.gradientUnits==="percentage"?o.transform(this.width,0,0,this.height,A,O):o.transform(1,0,0,1,A,O),b&&o.transform(b[0],b[1],b[2],b[3],b[4],b[5]),{offsetX:A,offsetY:O}},_renderPaintInOrder:function(o){this.paintFirst==="stroke"?(this._renderStroke(o),this._renderFill(o)):(this._renderFill(o),this._renderStroke(o))},_render:function(){},_renderFill:function(o){!this.fill||(o.save(),this._setFillStyles(o,this),this.fillRule==="evenodd"?o.fill("evenodd"):o.fill(),o.restore())},_renderStroke:function(o){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(o),o.save(),this.strokeUniform&&this.group){var d=this.getObjectScaling();o.scale(1/d.scaleX,1/d.scaleY)}else this.strokeUniform&&o.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(o,this.strokeDashArray),this._setStrokeStyles(o,this),o.stroke(),o.restore()}},_applyPatternForTransformedGradient:function(o,d){var b=this._limitCacheSize(this._getCacheCanvasDimensions()),A=a.util.createCanvasElement(),O,Y=this.canvas.getRetinaScaling(),Z=b.x/this.scaleX/Y,mt=b.y/this.scaleY/Y;A.width=Z,A.height=mt,O=A.getContext("2d"),O.beginPath(),O.moveTo(0,0),O.lineTo(Z,0),O.lineTo(Z,mt),O.lineTo(0,mt),O.closePath(),O.translate(Z/2,mt/2),O.scale(b.zoomX/this.scaleX/Y,b.zoomY/this.scaleY/Y),this._applyPatternGradientTransform(O,d),O.fillStyle=d.toLive(o),O.fill(),o.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),o.scale(Y*this.scaleX/b.zoomX,Y*this.scaleY/b.zoomY),o.strokeStyle=O.createPattern(A,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var o=a.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",o.scaleX),this.set("scaleY",o.scaleY),this.angle=o.angle,this.skewX=o.skewX,this.skewY=0}},_removeTransformMatrix:function(o){var d=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),d=a.util.transformPoint(d,this.transformMatrix)),this.transformMatrix=null,o&&(this.scaleX*=o.scaleX,this.scaleY*=o.scaleY,this.cropX=o.cropX,this.cropY=o.cropY,d.x+=o.offsetLeft,d.y+=o.offsetTop,this.width=o.width,this.height=o.height),this.setPositionByOrigin(d,"center","center")},clone:function(o,d){var b=this.toObject(d);this.constructor.fromObject?this.constructor.fromObject(b,o):a.Object._fromObject("Object",b,o)},cloneAsImage:function(o,d){var b=this.toCanvasElement(d);return o&&o(new a.Image(b)),this},toCanvasElement:function(o){o||(o={});var d=a.util,b=d.saveObjectTransform(this),A=this.group,O=this.shadow,Y=Math.abs,Z=(o.multiplier||1)*(o.enableRetinaScaling?a.devicePixelRatio:1);delete this.group,o.withoutTransform&&d.resetObjectTransform(this),o.withoutShadow&&(this.shadow=null);var mt=a.util.createCanvasElement(),Xt=this.getBoundingRect(!0,!0),fe=this.shadow,Ue,or={x:0,y:0},fr,tr,We;fe&&(fr=fe.blur,fe.nonScaling?Ue={scaleX:1,scaleY:1}:Ue=this.getObjectScaling(),or.x=2*Math.round(Y(fe.offsetX)+fr)*Y(Ue.scaleX),or.y=2*Math.round(Y(fe.offsetY)+fr)*Y(Ue.scaleY)),tr=Xt.width+or.x,We=Xt.height+or.y,mt.width=Math.ceil(tr),mt.height=Math.ceil(We);var vr=new a.StaticCanvas(mt,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});o.format==="jpeg"&&(vr.backgroundColor="#fff"),this.setPositionByOrigin(new a.Point(vr.width/2,vr.height/2),"center","center");var Or=this.canvas;vr.add(this);var Lr=vr.toCanvasElement(Z||1,o);return this.shadow=O,this.set("canvas",Or),A&&(this.group=A),this.set(b).setCoords(),vr._objects=[],vr.dispose(),vr=null,Lr},toDataURL:function(o){return o||(o={}),a.util.toDataURL(this.toCanvasElement(o),o.format||"png",o.quality||1)},isType:function(o){return this.type===o},complexity:function(){return 1},toJSON:function(o){return this.toObject(o)},rotate:function(o){var d=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return d&&this._setOriginToCenter(),this.set("angle",o),d&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(o,d){d=d||this.canvas.getPointer(o);var b=new a.Point(d.x,d.y),A=this._getLeftTopCoords();return this.angle&&(b=a.util.rotatePoint(b,A,e(-this.angle))),{x:b.x-A.x,y:b.y-A.y}},_setupCompositeOperation:function(o){this.globalCompositeOperation&&(o.globalCompositeOperation=this.globalCompositeOperation)}}),a.util.createAccessors&&a.util.createAccessors(a.Object),f(a.Object.prototype,a.Observable),a.Object.NUM_FRACTION_DIGITS=2,a.Object._fromObject=function(u,o,d,b){var A=a[u];o=h(o,!0),a.util.enlivenPatterns([o.fill,o.stroke],function(O){typeof O[0]!="undefined"&&(o.fill=O[0]),typeof O[1]!="undefined"&&(o.stroke=O[1]),a.util.enlivenObjects([o.clipPath],function(Y){o.clipPath=Y[0];var Z=b?new A(o[b],o):new A(o);d&&d(Z)})})},a.Object.__uid=0)}(gr),function(){var L=P.util.degreesToRadians,a={left:-.5,center:0,right:.5},f={top:-.5,center:0,bottom:.5};P.util.object.extend(P.Object.prototype,{translateToGivenOrigin:function(l,i,e,r,n){var u=l.x,o=l.y,d,b,A;return typeof i=="string"?i=a[i]:i-=.5,typeof r=="string"?r=a[r]:r-=.5,d=r-i,typeof e=="string"?e=f[e]:e-=.5,typeof n=="string"?n=f[n]:n-=.5,b=n-e,(d||b)&&(A=this._getTransformedDimensions(),u=l.x+d*A.x,o=l.y+b*A.y),new P.Point(u,o)},translateToCenterPoint:function(l,i,e){var r=this.translateToGivenOrigin(l,i,e,"center","center");return this.angle?P.util.rotatePoint(r,l,L(this.angle)):r},translateToOriginPoint:function(l,i,e){var r=this.translateToGivenOrigin(l,"center","center",i,e);return this.angle?P.util.rotatePoint(r,l,L(this.angle)):r},getCenterPoint:function(){var l=new P.Point(this.left,this.top);return this.translateToCenterPoint(l,this.originX,this.originY)},getPointByOrigin:function(l,i){var e=this.getCenterPoint();return this.translateToOriginPoint(e,l,i)},toLocalPoint:function(l,i,e){var r=this.getCenterPoint(),n,u;return typeof i!="undefined"&&typeof e!="undefined"?n=this.translateToGivenOrigin(r,"center","center",i,e):n=new P.Point(this.left,this.top),u=new P.Point(l.x,l.y),this.angle&&(u=P.util.rotatePoint(u,r,-L(this.angle))),u.subtractEquals(n)},setPositionByOrigin:function(l,i,e){var r=this.translateToCenterPoint(l,i,e),n=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",n.x),this.set("top",n.y)},adjustPosition:function(l){var i=L(this.angle),e=this.getScaledWidth(),r=P.util.cos(i)*e,n=P.util.sin(i)*e,u,o;typeof this.originX=="string"?u=a[this.originX]:u=this.originX-.5,typeof l=="string"?o=a[l]:o=l-.5,this.left+=r*(o-u),this.top+=n*(o-u),this.setCoords(),this.originX=l},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var l=this.getCenterPoint();this.originX="center",this.originY="center",this.left=l.x,this.top=l.y},_resetOrigin:function(){var l=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=l.x,this.top=l.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function L(i){return[new P.Point(i.tl.x,i.tl.y),new P.Point(i.tr.x,i.tr.y),new P.Point(i.br.x,i.br.y),new P.Point(i.bl.x,i.bl.y)]}var a=P.util,f=a.degreesToRadians,h=a.multiplyTransformMatrices,l=a.transformPoint;a.object.extend(P.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(e,r){return r?e?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),e?this.aCoords:this.lineCoords)},getCoords:function(e,r){return L(this._getCoords(e,r))},intersectsWithRect:function(e,r,n,u){var o=this.getCoords(n,u),d=P.Intersection.intersectPolygonRectangle(o,e,r);return d.status==="Intersection"},intersectsWithObject:function(e,r,n){var u=P.Intersection.intersectPolygonPolygon(this.getCoords(r,n),e.getCoords(r,n));return u.status==="Intersection"||e.isContainedWithinObject(this,r,n)||this.isContainedWithinObject(e,r,n)},isContainedWithinObject:function(e,r,n){for(var u=this.getCoords(r,n),o=r?e.aCoords:e.lineCoords,d=0,b=e._getImageLines(o);d<4;d++)if(!e.containsPoint(u[d],b))return!1;return!0},isContainedWithinRect:function(e,r,n,u){var o=this.getBoundingRect(n,u);return o.left>=e.x&&o.left+o.width<=r.x&&o.top>=e.y&&o.top+o.height<=r.y},containsPoint:function(e,r,n,u){var o=this._getCoords(n,u),r=r||this._getImageLines(o),d=this._findCrossPoints(e,r);return d!==0&&d%2==1},isOnScreen:function(e){if(!this.canvas)return!1;var r=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br,u=this.getCoords(!0,e);return u.some(function(o){return o.x<=n.x&&o.x>=r.x&&o.y<=n.y&&o.y>=r.y})||this.intersectsWithRect(r,n,!0,e)?!0:this._containsCenterOfCanvas(r,n,e)},_containsCenterOfCanvas:function(e,r,n){var u={x:(e.x+r.x)/2,y:(e.y+r.y)/2};return!!this.containsPoint(u,null,!0,n)},isPartiallyOnScreen:function(e){if(!this.canvas)return!1;var r=this.canvas.vptCoords.tl,n=this.canvas.vptCoords.br;if(this.intersectsWithRect(r,n,!0,e))return!0;var u=this.getCoords(!0,e).every(function(o){return(o.x>=n.x||o.x<=r.x)&&(o.y>=n.y||o.y<=r.y)});return u&&this._containsCenterOfCanvas(r,n,e)},_getImageLines:function(e){var r={topline:{o:e.tl,d:e.tr},rightline:{o:e.tr,d:e.br},bottomline:{o:e.br,d:e.bl},leftline:{o:e.bl,d:e.tl}};return r},_findCrossPoints:function(e,r){var n,u,o,d,b,A=0,O;for(var Y in r)if(O=r[Y],!(O.o.y<e.y&&O.d.y<e.y)&&!(O.o.y>=e.y&&O.d.y>=e.y)&&(O.o.x===O.d.x&&O.o.x>=e.x?b=O.o.x:(n=0,u=(O.d.y-O.o.y)/(O.d.x-O.o.x),o=e.y-n*e.x,d=O.o.y-u*O.o.x,b=-(o-d)/(n-u)),b>=e.x&&(A+=1),A===2))break;return A},getBoundingRect:function(e,r){var n=this.getCoords(e,r);return a.makeBoundingBoxFromPoints(n)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e},scale:function(e){return this._set("scaleX",e),this._set("scaleY",e),this.setCoords()},scaleToWidth:function(e,r){var n=this.getBoundingRect(r).width/this.getScaledWidth();return this.scale(e/this.width/n)},scaleToHeight:function(e,r){var n=this.getBoundingRect(r).height/this.getScaledHeight();return this.scale(e/this.height/n)},calcCoords:function(e){return e?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var e=this.getViewportTransform(),r=this.padding,n=f(this.angle),u=a.cos(n),o=a.sin(n),d=u*r,b=o*r,A=d+b,O=d-b,Y=this.calcACoords(),Z={tl:l(Y.tl,e),tr:l(Y.tr,e),bl:l(Y.bl,e),br:l(Y.br,e)};return r&&(Z.tl.x-=O,Z.tl.y-=A,Z.tr.x+=A,Z.tr.y-=O,Z.bl.x-=A,Z.bl.y+=O,Z.br.x+=O,Z.br.y+=A),Z},calcOCoords:function(){var e=this._calcRotateMatrix(),r=this._calcTranslateMatrix(),n=this.getViewportTransform(),u=h(n,r),o=h(u,e),o=h(o,[1/n[0],0,0,1/n[3],0,0]),d=this._calculateCurrentDimensions(),b={};return this.forEachControl(function(A,O,Y){b[O]=A.positionHandler(d,o,Y)}),b},calcACoords:function(){var e=this._calcRotateMatrix(),r=this._calcTranslateMatrix(),n=h(r,e),u=this._getTransformedDimensions(),o=u.x/2,d=u.y/2;return{tl:l({x:-o,y:-d},n),tr:l({x:o,y:-d},n),bl:l({x:-o,y:d},n),br:l({x:o,y:d},n)}},setCoords:function(e){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),e?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return a.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var e=this.getCenterPoint();return[1,0,0,1,e.x,e.y]},transformMatrixKey:function(e){var r="_",n="";return!e&&this.group&&(n=this.group.transformMatrixKey(e)+r),n+this.top+r+this.left+r+this.scaleX+r+this.scaleY+r+this.skewX+r+this.skewY+r+this.angle+r+this.originX+r+this.originY+r+this.width+r+this.height+r+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(e){var r=this.calcOwnMatrix();if(e||!this.group)return r;var n=this.transformMatrixKey(e),u=this.matrixCache||(this.matrixCache={});return u.key===n?u.value:(this.group&&(r=h(this.group.calcTransformMatrix(!1),r)),u.key=n,u.value=r,r)},calcOwnMatrix:function(){var e=this.transformMatrixKey(!0),r=this.ownMatrixCache||(this.ownMatrixCache={});if(r.key===e)return r.value;var n=this._calcTranslateMatrix(),u={angle:this.angle,translateX:n[4],translateY:n[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return r.key=e,r.value=a.composeMatrix(u),r.value},_calcDimensionsTransformMatrix:function(e,r,n){return a.calcDimensionsMatrix({skewX:e,skewY:r,scaleX:this.scaleX*(n&&this.flipX?-1:1),scaleY:this.scaleY*(n&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var e=this.strokeWidth,r=this.width+e,n=this.height+e;return{x:r,y:n}},_getTransformedDimensions:function(e,r){typeof e=="undefined"&&(e=this.skewX),typeof r=="undefined"&&(r=this.skewY);var n,u,o,d=e===0&&r===0;if(this.strokeUniform?(u=this.width,o=this.height):(n=this._getNonTransformedDimensions(),u=n.x,o=n.y),d)return this._finalizeDimensions(u*this.scaleX,o*this.scaleY);var b=a.sizeAfterTransform(u,o,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:e,skewY:r});return this._finalizeDimensions(b.x,b.y)},_finalizeDimensions:function(e,r){return this.strokeUniform?{x:e+this.strokeWidth,y:r+this.strokeWidth}:{x:e,y:r}},_calculateCurrentDimensions:function(){var e=this.getViewportTransform(),r=this._getTransformedDimensions(),n=l(r,e,!0);return n.scalarAdd(2*this.padding)}})}(),P.util.object.extend(P.Object.prototype,{sendToBack:function(){return this.group?P.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?P.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(a){return this.group?P.StaticCanvas.prototype.sendBackwards.call(this.group,this,a):this.canvas&&this.canvas.sendBackwards(this,a),this},bringForward:function(a){return this.group?P.StaticCanvas.prototype.bringForward.call(this.group,this,a):this.canvas&&this.canvas.bringForward(this,a),this},moveTo:function(a){return this.group&&this.group.type!=="activeSelection"?P.StaticCanvas.prototype.moveTo.call(this.group,this,a):this.canvas&&this.canvas.moveTo(this,a),this}}),function(){function L(f,h){if(h){if(h.toLive)return f+": url(#SVGID_"+h.id+"); ";var l=new P.Color(h),i=f+": "+l.toRgb()+"; ",e=l.getAlpha();return e!==1&&(i+=f+"-opacity: "+e.toString()+"; "),i}else return f+": none; "}var a=P.util.toFixed;P.util.object.extend(P.Object.prototype,{getSvgStyles:function(h){var l=this.fillRule?this.fillRule:"nonzero",i=this.strokeWidth?this.strokeWidth:"0",e=this.strokeDashArray?this.strokeDashArray.join(" "):"none",r=this.strokeDashOffset?this.strokeDashOffset:"0",n=this.strokeLineCap?this.strokeLineCap:"butt",u=this.strokeLineJoin?this.strokeLineJoin:"miter",o=this.strokeMiterLimit?this.strokeMiterLimit:"4",d=typeof this.opacity!="undefined"?this.opacity:"1",b=this.visible?"":" visibility: hidden;",A=h?"":this.getSvgFilter(),O=L("fill",this.fill),Y=L("stroke",this.stroke);return[Y,"stroke-width: ",i,"; ","stroke-dasharray: ",e,"; ","stroke-linecap: ",n,"; ","stroke-dashoffset: ",r,"; ","stroke-linejoin: ",u,"; ","stroke-miterlimit: ",o,"; ",O,"fill-rule: ",l,"; ","opacity: ",d,";",A,b].join("")},getSvgSpanStyles:function(h,l){var i="; ",e=h.fontFamily?"font-family: "+(h.fontFamily.indexOf("'")===-1&&h.fontFamily.indexOf('"')===-1?"'"+h.fontFamily+"'":h.fontFamily)+i:"",r=h.strokeWidth?"stroke-width: "+h.strokeWidth+i:"",e=e,n=h.fontSize?"font-size: "+h.fontSize+"px"+i:"",u=h.fontStyle?"font-style: "+h.fontStyle+i:"",o=h.fontWeight?"font-weight: "+h.fontWeight+i:"",d=h.fill?L("fill",h.fill):"",b=h.stroke?L("stroke",h.stroke):"",A=this.getSvgTextDecoration(h),O=h.deltaY?"baseline-shift: "+-h.deltaY+"; ":"";return A&&(A="text-decoration: "+A+i),[b,r,e,n,u,o,A,d,O,l?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(h){return["overline","underline","line-through"].filter(function(l){return h[l.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(h,l){var i=h?this.calcTransformMatrix():this.calcOwnMatrix(),e='transform="'+P.util.matrixToSVG(i);return e+(l||"")+'" '},_setSVGBg:function(h){if(this.backgroundColor){var l=P.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',a(-this.width/2,l),'" y="',a(-this.height/2,l),'" width="',a(this.width,l),'" height="',a(this.height,l),`"></rect>
`)}},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(h),{reviver:h})},toClipPathSVG:function(h){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(h),{reviver:h})},_createBaseClipPathSVGMarkup:function(h,l){l=l||{};var i=l.reviver,e=l.additionalTransform||"",r=[this.getSvgTransform(!0,e),this.getSvgCommons()].join(""),n=h.indexOf("COMMON_PARTS");return h[n]=r,i?i(h.join("")):h.join("")},_createBaseSVGMarkup:function(h,l){l=l||{};var i=l.noStyle,e=l.reviver,r=i?"":'style="'+this.getSvgStyles()+'" ',n=l.withShadow?'style="'+this.getSvgFilter()+'" ':"",u=this.clipPath,o=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",d=u&&u.absolutePositioned,b=this.stroke,A=this.fill,O=this.shadow,Y,Z=[],mt,Xt=h.indexOf("COMMON_PARTS"),fe=l.additionalTransform;return u&&(u.clipPathId="CLIPPATH_"+P.Object.__uid++,mt='<clipPath id="'+u.clipPathId+`" >
`+u.toClipPathSVG(e)+`</clipPath>
`),d&&Z.push("<g ",n,this.getSvgCommons(),` >
`),Z.push("<g ",this.getSvgTransform(!1),d?"":n+this.getSvgCommons(),` >
`),Y=[r,o,i?"":this.addPaintOrder()," ",fe?'transform="'+fe+'" ':""].join(""),h[Xt]=Y,A&&A.toLive&&Z.push(A.toSVG(this)),b&&b.toLive&&Z.push(b.toSVG(this)),O&&Z.push(O.toSVG(this)),u&&Z.push(mt),Z.push(h.join("")),Z.push(`</g>
`),d&&Z.push(`</g>
`),e?e(Z.join("")):Z.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var L=P.util.object.extend,a="stateProperties";function f(l,i,e){var r={},n=!0;e.forEach(function(u){r[u]=l[u]}),L(l[i],r,n)}function h(l,i,e){if(l===i)return!0;if(Array.isArray(l)){if(!Array.isArray(i)||l.length!==i.length)return!1;for(var r=0,n=l.length;r<n;r++)if(!h(l[r],i[r]))return!1;return!0}else if(l&&typeof l=="object"){var u=Object.keys(l),o;if(!i||typeof i!="object"||!e&&u.length!==Object.keys(i).length)return!1;for(var r=0,n=u.length;r<n;r++)if(o=u[r],!(o==="canvas"||o==="group")&&!h(l[o],i[o]))return!1;return!0}}P.util.object.extend(P.Object.prototype,{hasStateChanged:function(i){i=i||a;var e="_"+i;return Object.keys(this[e]).length<this[i].length?!0:!h(this[e],this,!0)},saveState:function(i){var e=i&&i.propertySet||a,r="_"+e;return this[r]?(f(this,r,this[e]),i&&i.stateProperties&&f(this,r,i.stateProperties),this):this.setupState(i)},setupState:function(i){i=i||{};var e=i.propertySet||a;return i.propertySet=e,this["_"+e]={},this.saveState(i),this}})}(),function(){var L=P.util.degreesToRadians;P.util.object.extend(P.Object.prototype,{_findTargetCorner:function(f,h){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var l=f.x,i=f.y,e,r,n=Object.keys(this.oCoords),u=n.length-1,o;for(this.__corner=0;u>=0;u--)if(o=n[u],!!this.isControlVisible(o)&&(r=this._getImageLines(h?this.oCoords[o].touchCorner:this.oCoords[o].corner),e=this._findCrossPoints({x:l,y:i},r),e!==0&&e%2==1))return this.__corner=o,o;return!1},forEachControl:function(f){for(var h in this.controls)f(this.controls[h],h,this)},_setCornerCoords:function(){var f=this.oCoords;for(var h in f){var l=this.controls[h];f[h].corner=l.calcCornerCoords(this.angle,this.cornerSize,f[h].x,f[h].y,!1),f[h].touchCorner=l.calcCornerCoords(this.angle,this.touchCornerSize,f[h].x,f[h].y,!0)}},drawSelectionBackground:function(f){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;f.save();var h=this.getCenterPoint(),l=this._calculateCurrentDimensions(),i=this.canvas.viewportTransform;return f.translate(h.x,h.y),f.scale(1/i[0],1/i[3]),f.rotate(L(this.angle)),f.fillStyle=this.selectionBackgroundColor,f.fillRect(-l.x/2,-l.y/2,l.x,l.y),f.restore(),this},drawBorders:function(f,h){h=h||{};var l=this._calculateCurrentDimensions(),i=this.borderScaleFactor,e=l.x+i,r=l.y+i,n=typeof h.hasControls!="undefined"?h.hasControls:this.hasControls,u=!1;return f.save(),f.strokeStyle=h.borderColor||this.borderColor,this._setLineDash(f,h.borderDashArray||this.borderDashArray),f.strokeRect(-e/2,-r/2,e,r),n&&(f.beginPath(),this.forEachControl(function(o,d,b){o.withConnection&&o.getVisibility(b,d)&&(u=!0,f.moveTo(o.x*e,o.y*r),f.lineTo(o.x*e+o.offsetX,o.y*r+o.offsetY))}),u&&f.stroke()),f.restore(),this},drawBordersInGroup:function(f,h,l){l=l||{};var i=P.util.sizeAfterTransform(this.width,this.height,h),e=this.strokeWidth,r=this.strokeUniform,n=this.borderScaleFactor,u=i.x+e*(r?this.canvas.getZoom():h.scaleX)+n,o=i.y+e*(r?this.canvas.getZoom():h.scaleY)+n;return f.save(),this._setLineDash(f,l.borderDashArray||this.borderDashArray),f.strokeStyle=l.borderColor||this.borderColor,f.strokeRect(-u/2,-o/2,u,o),f.restore(),this},drawControls:function(f,h){h=h||{},f.save();var l=this.canvas.getRetinaScaling(),i,e;return f.setTransform(l,0,0,l,0,0),f.strokeStyle=f.fillStyle=h.cornerColor||this.cornerColor,this.transparentCorners||(f.strokeStyle=h.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(f,h.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(i=this.group.calcTransformMatrix()),this.forEachControl(function(r,n,u){e=u.oCoords[n],r.getVisibility(u,n)&&(i&&(e=P.util.transformPoint(e,i)),r.render(f,e.x,e.y,h,u))}),f.restore(),this},isControlVisible:function(f){return this.controls[f]&&this.controls[f].getVisibility(this,f)},setControlVisible:function(f,h){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[f]=h,this},setControlsVisibility:function(f){f||(f={});for(var h in f)this.setControlVisible(h,f[h]);return this},onDeselect:function(){},onSelect:function(){}})}(),P.util.object.extend(P.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(a,f){f=f||{};var h=function(){},l=f.onComplete||h,i=f.onChange||h,e=this;return P.util.animate({startValue:a.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(n){a.set("left",n),e.requestRenderAll(),i()},onComplete:function(){a.setCoords(),l()}}),this},fxCenterObjectV:function(a,f){f=f||{};var h=function(){},l=f.onComplete||h,i=f.onChange||h,e=this;return P.util.animate({startValue:a.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(n){a.set("top",n),e.requestRenderAll(),i()},onComplete:function(){a.setCoords(),l()}}),this},fxRemove:function(a,f){f=f||{};var h=function(){},l=f.onComplete||h,i=f.onChange||h,e=this;return P.util.animate({startValue:a.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(n){a.set("opacity",n),e.requestRenderAll(),i()},onComplete:function(){e.remove(a),l()}}),this}}),P.util.object.extend(P.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var a=[],f,h;for(f in arguments[0])a.push(f);for(var l=0,i=a.length;l<i;l++)f=a[l],h=l!==i-1,this._animate(f,arguments[0][f],arguments[1],h)}else this._animate.apply(this,arguments);return this},_animate:function(a,f,h,l){var i=this,e;f=f.toString(),h?h=P.util.object.clone(h):h={},~a.indexOf(".")&&(e=a.split("."));var r=i.colorProperties.indexOf(a)>-1||e&&i.colorProperties.indexOf(e[1])>-1,n=e?this.get(e[0])[e[1]]:this.get(a);"from"in h||(h.from=n),r||(~f.indexOf("=")?f=n+parseFloat(f.replace("=","")):f=parseFloat(f));var u={startValue:h.from,endValue:f,byValue:h.by,easing:h.easing,duration:h.duration,abort:h.abort&&function(o,d,b){return h.abort.call(i,o,d,b)},onChange:function(d,b,A){e?i[e[0]][e[1]]=d:i.set(a,d),!l&&h.onChange&&h.onChange(d,b,A)},onComplete:function(d,b,A){l||(i.setCoords(),h.onComplete&&h.onComplete(d,b,A))}};return r?P.util.animateColor(u.startValue,u.endValue,u.duration,u):P.util.animate(u)}}),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.object.extend,h=a.util.object.clone,l={x1:1,x2:1,y1:1,y2:1};if(a.Line){a.warn("fabric.Line is already defined");return}a.Line=a.util.createClass(a.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:a.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(r,n){r||(r=[0,0,0,0]),this.callSuper("initialize",n),this.set("x1",r[0]),this.set("y1",r[1]),this.set("x2",r[2]),this.set("y2",r[3]),this._setWidthHeight(n)},_setWidthHeight:function(r){r||(r={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in r?r.left:this._getLeftToOriginX(),this.top="top"in r?r.top:this._getTopToOriginY()},_set:function(r,n){return this.callSuper("_set",r,n),typeof l[r]!="undefined"&&this._setWidthHeight(),this},_getLeftToOriginX:i({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:i({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(r){r.beginPath();var n=this.calcLinePoints();r.moveTo(n.x1,n.y1),r.lineTo(n.x2,n.y2),r.lineWidth=this.strokeWidth;var u=r.strokeStyle;r.strokeStyle=this.stroke||r.fillStyle,this.stroke&&this._renderStroke(r),r.strokeStyle=u},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(r){return f(this.callSuper("toObject",r),this.calcLinePoints())},_getNonTransformedDimensions:function(){var r=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(r.y-=this.strokeWidth),this.height===0&&(r.x-=this.strokeWidth)),r},calcLinePoints:function(){var r=this.x1<=this.x2?-1:1,n=this.y1<=this.y2?-1:1,u=r*this.width*.5,o=n*this.height*.5,d=r*this.width*-.5,b=n*this.height*-.5;return{x1:u,x2:d,y1:o,y2:b}},_toSVG:function(){var r=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',r.x1,'" y1="',r.y1,'" x2="',r.x2,'" y2="',r.y2,`" />
`]}}),a.Line.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),a.Line.fromElement=function(e,r,n){n=n||{};var u=a.parseAttributes(e,a.Line.ATTRIBUTE_NAMES),o=[u.x1||0,u.y1||0,u.x2||0,u.y2||0];r(new a.Line(o,f(u,n)))},a.Line.fromObject=function(e,r){function n(o){delete o.points,r&&r(o)}var u=h(e,!0);u.points=[e.x1,e.y1,e.x2,e.y2],a.Object._fromObject("Line",u,n,"points")};function i(e,r){var n=e.origin,u=e.axis1,o=e.axis2,d=e.dimension,b=r.nearest,A=r.center,O=r.farthest;return function(){switch(this.get(n)){case b:return Math.min(this.get(u),this.get(o));case A:return Math.min(this.get(u),this.get(o))+.5*this.get(d);case O:return Math.max(this.get(u),this.get(o))}}}}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=Math.PI;if(a.Circle){a.warn("fabric.Circle is already defined.");return}a.Circle=a.util.createClass(a.Object,{type:"circle",radius:0,startAngle:0,endAngle:f*2,cacheProperties:a.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(i,e){return this.callSuper("_set",i,e),i==="radius"&&this.setRadius(e),this},toObject:function(i){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(i))},_toSVG:function(){var i,e=0,r=0,n=(this.endAngle-this.startAngle)%(2*f);if(n===0)i=["<circle ","COMMON_PARTS",'cx="'+e+'" cy="'+r+'" ','r="',this.radius,`" />
`];else{var u=a.util.cos(this.startAngle)*this.radius,o=a.util.sin(this.startAngle)*this.radius,d=a.util.cos(this.endAngle)*this.radius,b=a.util.sin(this.endAngle)*this.radius,A=n>f?"1":"0";i=['<path d="M '+u+" "+o," A "+this.radius+" "+this.radius," 0 ",+A+" 1"," "+d+" "+b,'" ',"COMMON_PARTS",` />
`]}return i},_render:function(i){i.beginPath(),i.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(i)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(i){return this.radius=i,this.set("width",i*2).set("height",i*2)}}),a.Circle.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),a.Circle.fromElement=function(l,i){var e=a.parseAttributes(l,a.Circle.ATTRIBUTE_NAMES);if(!h(e))throw new Error("value of `r` attribute is required and can not be negative");e.left=(e.left||0)-e.radius,e.top=(e.top||0)-e.radius,i(new a.Circle(e))};function h(l){return"radius"in l&&l.radius>=0}a.Circle.fromObject=function(l,i){a.Object._fromObject("Circle",l,i)}}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={});if(a.Triangle){a.warn("fabric.Triangle is already defined");return}a.Triangle=a.util.createClass(a.Object,{type:"triangle",width:100,height:100,_render:function(h){var l=this.width/2,i=this.height/2;h.beginPath(),h.moveTo(-l,i),h.lineTo(0,-i),h.lineTo(l,i),h.closePath(),this._renderPaintInOrder(h)},_toSVG:function(){var h=this.width/2,l=this.height/2,i=[-h+" "+l,"0 "+-l,h+" "+l].join(",");return["<polygon ","COMMON_PARTS",'points="',i,'" />']}}),a.Triangle.fromObject=function(f,h){return a.Object._fromObject("Triangle",f,h)}}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=Math.PI*2;if(a.Ellipse){a.warn("fabric.Ellipse is already defined.");return}a.Ellipse=a.util.createClass(a.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:a.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(l){this.callSuper("initialize",l),this.set("rx",l&&l.rx||0),this.set("ry",l&&l.ry||0)},_set:function(l,i){switch(this.callSuper("_set",l,i),l){case"rx":this.rx=i,this.set("width",i*2);break;case"ry":this.ry=i,this.set("height",i*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(l){return this.callSuper("toObject",["rx","ry"].concat(l))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(l){l.beginPath(),l.save(),l.transform(1,0,0,this.ry/this.rx,0,0),l.arc(0,0,this.rx,0,f,!1),l.restore(),this._renderPaintInOrder(l)}}),a.Ellipse.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),a.Ellipse.fromElement=function(h,l){var i=a.parseAttributes(h,a.Ellipse.ATTRIBUTE_NAMES);i.left=(i.left||0)-i.rx,i.top=(i.top||0)-i.ry,l(new a.Ellipse(i))},a.Ellipse.fromObject=function(h,l){a.Object._fromObject("Ellipse",h,l)}}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.object.extend;if(a.Rect){a.warn("fabric.Rect is already defined");return}a.Rect=a.util.createClass(a.Object,{stateProperties:a.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:a.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(l){this.callSuper("initialize",l),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(l){var i=this.rx?Math.min(this.rx,this.width/2):0,e=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,n=this.height,u=-this.width/2,o=-this.height/2,d=i!==0||e!==0,b=1-.5522847498;l.beginPath(),l.moveTo(u+i,o),l.lineTo(u+r-i,o),d&&l.bezierCurveTo(u+r-b*i,o,u+r,o+b*e,u+r,o+e),l.lineTo(u+r,o+n-e),d&&l.bezierCurveTo(u+r,o+n-b*e,u+r-b*i,o+n,u+r-i,o+n),l.lineTo(u+i,o+n),d&&l.bezierCurveTo(u+b*i,o+n,u,o+n-b*e,u,o+n-e),l.lineTo(u,o+e),d&&l.bezierCurveTo(u,o+b*e,u+b*i,o,u+i,o),l.closePath(),this._renderPaintInOrder(l)},toObject:function(l){return this.callSuper("toObject",["rx","ry"].concat(l))},_toSVG:function(){var l=-this.width/2,i=-this.height/2;return["<rect ","COMMON_PARTS",'x="',l,'" y="',i,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),a.Rect.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),a.Rect.fromElement=function(h,l,i){if(!h)return l(null);i=i||{};var e=a.parseAttributes(h,a.Rect.ATTRIBUTE_NAMES);e.left=e.left||0,e.top=e.top||0,e.height=e.height||0,e.width=e.width||0;var r=new a.Rect(f(i?a.util.object.clone(i):{},e));r.visible=r.visible&&r.width>0&&r.height>0,l(r)},a.Rect.fromObject=function(h,l){return a.Object._fromObject("Rect",h,l)}}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.object.extend,h=a.util.array.min,l=a.util.array.max,i=a.util.toFixed;if(a.Polyline){a.warn("fabric.Polyline is already defined");return}a.Polyline=a.util.createClass(a.Object,{type:"polyline",points:null,cacheProperties:a.Object.prototype.cacheProperties.concat("points"),initialize:function(r,n){n=n||{},this.points=r||[],this.callSuper("initialize",n),this._setPositionDimensions(n)},_setPositionDimensions:function(r){var n=this._calcDimensions(r),u;this.width=n.width,this.height=n.height,r.fromSVG||(u=this.translateToGivenOrigin({x:n.left-this.strokeWidth/2,y:n.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),typeof r.left=="undefined"&&(this.left=r.fromSVG?n.left:u.x),typeof r.top=="undefined"&&(this.top=r.fromSVG?n.top:u.y),this.pathOffset={x:n.left+this.width/2,y:n.top+this.height/2}},_calcDimensions:function(){var r=this.points,n=h(r,"x")||0,u=h(r,"y")||0,o=l(r,"x")||0,d=l(r,"y")||0,b=o-n,A=d-u;return{left:n,top:u,width:b,height:A}},toObject:function(r){return f(this.callSuper("toObject",r),{points:this.points.concat()})},_toSVG:function(){for(var r=[],n=this.pathOffset.x,u=this.pathOffset.y,o=a.Object.NUM_FRACTION_DIGITS,d=0,b=this.points.length;d<b;d++)r.push(i(this.points[d].x-n,o),",",i(this.points[d].y-u,o)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',r.join(""),`" />
`]},commonRender:function(r){var n,u=this.points.length,o=this.pathOffset.x,d=this.pathOffset.y;if(!u||isNaN(this.points[u-1].y))return!1;r.beginPath(),r.moveTo(this.points[0].x-o,this.points[0].y-d);for(var b=0;b<u;b++)n=this.points[b],r.lineTo(n.x-o,n.y-d);return!0},_render:function(r){!this.commonRender(r)||this._renderPaintInOrder(r)},complexity:function(){return this.get("points").length}}),a.Polyline.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(),a.Polyline.fromElementGenerator=function(e){return function(r,n,u){if(!r)return n(null);u||(u={});var o=a.parsePointsAttribute(r.getAttribute("points")),d=a.parseAttributes(r,a[e].ATTRIBUTE_NAMES);d.fromSVG=!0,n(new a[e](o,f(d,u)))}},a.Polyline.fromElement=a.Polyline.fromElementGenerator("Polyline"),a.Polyline.fromObject=function(e,r){return a.Object._fromObject("Polyline",e,r,"points")}}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={});if(a.Polygon){a.warn("fabric.Polygon is already defined");return}a.Polygon=a.util.createClass(a.Polyline,{type:"polygon",_render:function(h){!this.commonRender(h)||(h.closePath(),this._renderPaintInOrder(h))}}),a.Polygon.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(),a.Polygon.fromElement=a.Polyline.fromElementGenerator("Polygon"),a.Polygon.fromObject=function(f,h){a.Object._fromObject("Polygon",f,h,"points")}}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.array.min,h=a.util.array.max,l=a.util.object.extend,i=Object.prototype.toString,e=a.util.toFixed;if(a.Path){a.warn("fabric.Path is already defined");return}a.Path=a.util.createClass(a.Object,{type:"path",path:null,cacheProperties:a.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:a.Object.prototype.stateProperties.concat("path"),initialize:function(n,u){u=u||{},this.callSuper("initialize",u),n||(n=[]);var o=i.call(n)==="[object Array]";this.path=a.util.makePathSimpler(o?n:a.util.parsePath(n)),!!this.path&&a.Polyline.prototype._setPositionDimensions.call(this,u)},_renderPathCommands:function(n){var u,o=0,d=0,b=0,A=0,O=0,Y=0,Z=-this.pathOffset.x,mt=-this.pathOffset.y;n.beginPath();for(var Xt=0,fe=this.path.length;Xt<fe;++Xt)switch(u=this.path[Xt],u[0]){case"L":b=u[1],A=u[2],n.lineTo(b+Z,A+mt);break;case"M":b=u[1],A=u[2],o=b,d=A,n.moveTo(b+Z,A+mt);break;case"C":b=u[5],A=u[6],O=u[3],Y=u[4],n.bezierCurveTo(u[1]+Z,u[2]+mt,O+Z,Y+mt,b+Z,A+mt);break;case"Q":n.quadraticCurveTo(u[1]+Z,u[2]+mt,u[3]+Z,u[4]+mt),b=u[3],A=u[4],O=u[1],Y=u[2];break;case"z":case"Z":b=o,A=d,n.closePath();break}},_render:function(n){this._renderPathCommands(n),this._renderPaintInOrder(n)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(n){return l(this.callSuper("toObject",n),{path:this.path.map(function(u){return u.slice()})})},toDatalessObject:function(n){var u=this.toObject(["sourcePath"].concat(n));return u.sourcePath&&delete u.path,u},_toSVG:function(){var n=a.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',n,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var n=a.Object.NUM_FRACTION_DIGITS;return" translate("+e(-this.pathOffset.x,n)+", "+e(-this.pathOffset.y,n)+")"},toClipPathSVG:function(n){var u=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:n,additionalTransform:u})},toSVG:function(n){var u=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:n,additionalTransform:u})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var n=[],u=[],o,d=0,b=0,A=0,O=0,Y,Z=0,mt=this.path.length;Z<mt;++Z){switch(o=this.path[Z],o[0]){case"L":A=o[1],O=o[2],Y=[];break;case"M":A=o[1],O=o[2],d=A,b=O,Y=[];break;case"C":Y=a.util.getBoundsOfCurve(A,O,o[1],o[2],o[3],o[4],o[5],o[6]),A=o[5],O=o[6];break;case"Q":Y=a.util.getBoundsOfCurve(A,O,o[1],o[2],o[1],o[2],o[3],o[4]),A=o[3],O=o[4];break;case"z":case"Z":A=d,O=b;break}Y.forEach(function(We){n.push(We.x),u.push(We.y)}),n.push(A),u.push(O)}var Xt=f(n)||0,fe=f(u)||0,Ue=h(n)||0,or=h(u)||0,fr=Ue-Xt,tr=or-fe;return{left:Xt,top:fe,width:fr,height:tr}}}),a.Path.fromObject=function(r,n){if(typeof r.sourcePath=="string"){var u=r.sourcePath;a.loadSVGFromURL(u,function(o){var d=o[0];d.setOptions(r),n&&n(d)})}else a.Object._fromObject("Path",r,n,"path")},a.Path.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(["d"]),a.Path.fromElement=function(r,n,u){var o=a.parseAttributes(r,a.Path.ATTRIBUTE_NAMES);o.fromSVG=!0,n(new a.Path(o.d,l(o,u)))}}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.array.min,h=a.util.array.max;a.Group||(a.Group=a.util.createClass(a.Object,a.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(i,e,r){e=e||{},this._objects=[],r&&this.callSuper("initialize",e),this._objects=i||[];for(var n=this._objects.length;n--;)this._objects[n].group=this;if(r)this._updateObjectsACoords();else{var u=e&&e.centerPoint;e.originX!==void 0&&(this.originX=e.originX),e.originY!==void 0&&(this.originY=e.originY),u||this._calcBounds(),this._updateObjectsCoords(u),delete e.centerPoint,this.callSuper("initialize",e)}this.setCoords()},_updateObjectsACoords:function(){for(var i=!0,e=this._objects.length;e--;)this._objects[e].setCoords(i)},_updateObjectsCoords:function(i){for(var i=i||this.getCenterPoint(),e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],i)},_updateObjectCoords:function(i,e){var r=i.left,n=i.top,u=!0;i.set({left:r-e.x,top:n-e.y}),i.group=this,i.setCoords(u)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(i){var e=!!this.group;return this._restoreObjectsState(),a.util.resetObjectTransform(this),i&&(e&&a.util.removeTransformFromObject(i,this.group.calcTransformMatrix()),this._objects.push(i),i.group=this,i._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,e?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(i){return this._restoreObjectsState(),a.util.resetObjectTransform(this),this.remove(i),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(i){this.dirty=!0,i.group=this,i._set("canvas",this.canvas)},_onObjectRemoved:function(i){this.dirty=!0,delete i.group},_set:function(i,e){var r=this._objects.length;if(this.useSetOnGroup)for(;r--;)this._objects[r].setOnGroup(i,e);if(i==="canvas")for(;r--;)this._objects[r]._set(i,e);a.Object.prototype._set.call(this,i,e)},toObject:function(i){var e=this.includeDefaultValues,r=this._objects.filter(function(u){return!u.excludeFromExport}).map(function(u){var o=u.includeDefaultValues;u.includeDefaultValues=e;var d=u.toObject(i);return u.includeDefaultValues=o,d}),n=a.Object.prototype.toObject.call(this,i);return n.objects=r,n},toDatalessObject:function(i){var e,r=this.sourcePath;if(r)e=r;else{var n=this.includeDefaultValues;e=this._objects.map(function(o){var d=o.includeDefaultValues;o.includeDefaultValues=n;var b=o.toDatalessObject(i);return o.includeDefaultValues=d,b})}var u=a.Object.prototype.toDatalessObject.call(this,i);return u.objects=e,u},render:function(i){this._transformDone=!0,this.callSuper("render",i),this._transformDone=!1},shouldCache:function(){var i=a.Object.prototype.shouldCache.call(this);if(i){for(var e=0,r=this._objects.length;e<r;e++)if(this._objects[e].willDrawShadow())return this.ownCaching=!1,!1}return i},willDrawShadow:function(){if(a.Object.prototype.willDrawShadow.call(this))return!0;for(var i=0,e=this._objects.length;i<e;i++)if(this._objects[i].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(i){for(var e=0,r=this._objects.length;e<r;e++)this._objects[e].render(i);this._drawClipPath(i)},isCacheDirty:function(i){if(this.callSuper("isCacheDirty",i))return!0;if(!this.statefullCache)return!1;for(var e=0,r=this._objects.length;e<r;e++)if(this._objects[e].isCacheDirty(!0)){if(this._cacheCanvas){var n=this.cacheWidth/this.zoomX,u=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-n/2,-u/2,n,u)}return!0}return!1},_restoreObjectsState:function(){var i=this.calcOwnMatrix();return this._objects.forEach(function(e){a.util.addTransformToObject(e,i),delete e.group,e.setCoords()}),this},realizeTransform:function(i,e){return a.util.addTransformToObject(i,e),i},destroy:function(){return this._objects.forEach(function(i){i.set("dirty",!0)}),this._restoreObjectsState()},toActiveSelection:function(){if(!!this.canvas){var i=this._objects,e=this.canvas;this._objects=[];var r=this.toObject();delete r.objects;var n=new a.ActiveSelection([]);return n.set(r),n.type="activeSelection",e.remove(this),i.forEach(function(u){u.group=n,u.dirty=!0,e.add(u)}),n.canvas=e,n._objects=i,e._activeObject=n,n.setCoords(),n}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var i=!0;return this.forEachObject(function(e){e.setCoords(i)}),this},_calcBounds:function(i){for(var e=[],r=[],n,u,o,d=["tr","br","bl","tl"],b=0,A=this._objects.length,O,Y=d.length;b<A;++b){for(n=this._objects[b],o=n.calcACoords(),O=0;O<Y;O++)u=d[O],e.push(o[u].x),r.push(o[u].y);n.aCoords=o}this._getBounds(e,r,i)},_getBounds:function(i,e,r){var n=new a.Point(f(i),f(e)),u=new a.Point(h(i),h(e)),o=n.y||0,d=n.x||0,b=u.x-n.x||0,A=u.y-n.y||0;this.width=b,this.height=A,r||this.setPositionByOrigin({x:d,y:o},"left","top")},_toSVG:function(i){for(var e=["<g ","COMMON_PARTS",` >
`],r=0,n=this._objects.length;r<n;r++)e.push("		",this._objects[r].toSVG(i));return e.push(`</g>
`),e},getSvgStyles:function(){var i=typeof this.opacity!="undefined"&&this.opacity!==1?"opacity: "+this.opacity+";":"",e=this.visible?"":" visibility: hidden;";return[i,this.getSvgFilter(),e].join("")},toClipPathSVG:function(i){for(var e=[],r=0,n=this._objects.length;r<n;r++)e.push("	",this._objects[r].toClipPathSVG(i));return this._createBaseClipPathSVGMarkup(e,{reviver:i})}}),a.Group.fromObject=function(l,i){var e=l.objects,r=a.util.object.clone(l,!0);if(delete r.objects,typeof e=="string"){a.loadSVGFromURL(e,function(n){var u=a.util.groupSVGElements(n,l,e);u.set(r),i&&i(u)});return}a.util.enlivenObjects(e,function(n){a.util.enlivenObjects([l.clipPath],function(u){var o=a.util.object.clone(l,!0);o.clipPath=u[0],delete o.objects,i&&i(new a.Group(n,o,!0))})})})}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={});a.ActiveSelection||(a.ActiveSelection=a.util.createClass(a.Group,{type:"activeSelection",initialize:function(h,l){l=l||{},this._objects=h||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;l.originX&&(this.originX=l.originX),l.originY&&(this.originY=l.originY),this._calcBounds(),this._updateObjectsCoords(),a.Object.prototype.initialize.call(this,l),this.setCoords()},toGroup:function(){var h=this._objects.concat();this._objects=[];var l=a.Object.prototype.toObject.call(this),i=new a.Group([]);if(delete l.type,i.set(l),h.forEach(function(r){r.canvas.remove(r),r.group=i}),i._objects=h,!this.canvas)return i;var e=this.canvas;return e.add(i),e._activeObject=i,i.setCoords(),i},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(h,l,i){h.save(),h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",h,l),i=i||{},typeof i.hasControls=="undefined"&&(i.hasControls=!1),i.forActiveSelection=!0;for(var e=0,r=this._objects.length;e<r;e++)this._objects[e]._renderControls(h,i);h.restore()}}),a.ActiveSelection.fromObject=function(f,h){a.util.enlivenObjects(f.objects,function(l){delete f.objects,h&&h(new a.ActiveSelection(l,f,!0))})})}(gr),function(L){"use strict";var a=P.util.object.extend;if(L.fabric||(L.fabric={}),L.fabric.Image){P.warn("fabric.Image is already defined.");return}P.Image=P.util.createClass(P.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:P.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:P.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(h,l){l||(l={}),this.filters=[],this.cacheKey="texture"+P.Object.__uid++,this.callSuper("initialize",l),this._initElement(h,l)},getElement:function(){return this._element||{}},setElement:function(h,l){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=h,this._originalElement=h,this._initConfig(l),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(h){var l=P.filterBackend;l&&l.evictCachesForKey&&l.evictCachesForKey(h)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(h){P.util.cleanUpJsdomNode(this[h]),this[h]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var h=this.getElement();return{width:h.naturalWidth||h.width,height:h.naturalHeight||h.height}},_stroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){var l=this.width/2,i=this.height/2;h.beginPath(),h.moveTo(-l,-i),h.lineTo(l,-i),h.lineTo(l,i),h.lineTo(-l,i),h.lineTo(-l,-i),h.closePath()}},toObject:function(h){var l=[];this.filters.forEach(function(e){e&&l.push(e.toObject())});var i=a(this.callSuper("toObject",["cropX","cropY"].concat(h)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:l});return this.resizeFilter&&(i.resizeFilter=this.resizeFilter.toObject()),i},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var h=[],l=[],i,e=this._element,r=-this.width/2,n=-this.height/2,u="",o="";if(!e)return[];if(this.hasCrop()){var d=P.Object.__uid++;h.push('<clipPath id="imageCrop_'+d+`">
`,'	<rect x="'+r+'" y="'+n+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),u=' clip-path="url(#imageCrop_'+d+')" '}if(this.imageSmoothing||(o='" image-rendering="optimizeSpeed'),l.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',r-this.cropX,'" y="',n-this.cropY,'" width="',e.width||e.naturalWidth,'" height="',e.height||e.height,o,'"',u,`></image>
`),this.stroke||this.strokeDashArray){var b=this.fill;this.fill=null,i=["	<rect ",'x="',r,'" y="',n,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=b}return this.paintFirst!=="fill"?h=h.concat(i,l):h=h.concat(l,i),h},getSrc:function(h){var l=h?this._element:this._originalElement;return l?l.toDataURL?l.toDataURL():this.srcFromAttribute?l.getAttribute("src"):l.src:this.src||""},setSrc:function(h,l,i){return P.util.loadImage(h,function(e,r){this.setElement(e,i),this._setWidthHeight(),l&&l(this,r)},this,i&&i.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var h=this.resizeFilter,l=this.minimumScaleTrigger,i=this.getTotalObjectScaling(),e=i.scaleX,r=i.scaleY,n=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!h||e>l&&r>l){this._element=n,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=e,this._lastScaleY=r;return}P.filterBackend||(P.filterBackend=P.initFilterBackend());var u=P.util.createCanvasElement(),o=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,d=n.width,b=n.height;u.width=d,u.height=b,this._element=u,this._lastScaleX=h.scaleX=e,this._lastScaleY=h.scaleY=r,P.filterBackend.applyFilters([h],n,d,b,this._element,o),this._filterScalingX=u.width/this._originalElement.width,this._filterScalingY=u.height/this._originalElement.height},applyFilters:function(h){if(h=h||this.filters||[],h=h.filter(function(n){return n&&!n.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),h.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var l=this._originalElement,i=l.naturalWidth||l.width,e=l.naturalHeight||l.height;if(this._element===this._originalElement){var r=P.util.createCanvasElement();r.width=i,r.height=e,this._element=r,this._filteredEl=r}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,i,e),this._lastScaleX=1,this._lastScaleY=1;return P.filterBackend||(P.filterBackend=P.initFilterBackend()),P.filterBackend.applyFilters(h,this._originalElement,i,e,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(h){P.util.setImageSmoothing(h,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(h),this._renderPaintInOrder(h)},drawCacheOnCanvas:function(h){P.util.setImageSmoothing(h,this.imageSmoothing),P.Object.prototype.drawCacheOnCanvas.call(this,h)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(h){var l=this._element;if(!!l){var i=this._filterScalingX,e=this._filterScalingY,r=this.width,n=this.height,u=Math.min,o=Math.max,d=o(this.cropX,0),b=o(this.cropY,0),A=l.naturalWidth||l.width,O=l.naturalHeight||l.height,Y=d*i,Z=b*e,mt=u(r*i,A-Y),Xt=u(n*e,O-Z),fe=-r/2,Ue=-n/2,or=u(r,A/i-d),fr=u(n,O/e-b);l&&h.drawImage(l,Y,Z,mt,Xt,fe,Ue,or,fr)}},_needsResize:function(){var h=this.getTotalObjectScaling();return h.scaleX!==this._lastScaleX||h.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(h,l){this.setElement(P.util.getById(h),l),P.util.addClass(this.getElement(),P.Image.CSS_CANVAS)},_initConfig:function(h){h||(h={}),this.setOptions(h),this._setWidthHeight(h)},_initFilters:function(h,l){h&&h.length?P.util.enlivenObjects(h,function(i){l&&l(i)},"fabric.Image.filters"):l&&l()},_setWidthHeight:function(h){h||(h={});var l=this.getElement();this.width=h.width||l.naturalWidth||l.width||0,this.height=h.height||l.naturalHeight||l.height||0},parsePreserveAspectRatioAttribute:function(){var h=P.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),l=this._element.width,i=this._element.height,e=1,r=1,n=0,u=0,o=0,d=0,b,A=this.width,O=this.height,Y={width:A,height:O};return h&&(h.alignX!=="none"||h.alignY!=="none")?(h.meetOrSlice==="meet"&&(e=r=P.util.findScaleToFit(this._element,Y),b=(A-l*e)/2,h.alignX==="Min"&&(n=-b),h.alignX==="Max"&&(n=b),b=(O-i*r)/2,h.alignY==="Min"&&(u=-b),h.alignY==="Max"&&(u=b)),h.meetOrSlice==="slice"&&(e=r=P.util.findScaleToCover(this._element,Y),b=l-A/e,h.alignX==="Mid"&&(o=b/2),h.alignX==="Max"&&(o=b),b=i-O/r,h.alignY==="Mid"&&(d=b/2),h.alignY==="Max"&&(d=b),l=A/e,i=O/r)):(e=A/l,r=O/i),{width:l,height:i,scaleX:e,scaleY:r,offsetLeft:n,offsetTop:u,cropX:o,cropY:d}}}),P.Image.CSS_CANVAS="canvas-img",P.Image.prototype.getSvgSrc=P.Image.prototype.getSrc,P.Image.fromObject=function(f,h){var l=P.util.object.clone(f);P.util.loadImage(l.src,function(i,e){if(e){h&&h(null,!0);return}P.Image.prototype._initFilters.call(l,l.filters,function(r){l.filters=r||[],P.Image.prototype._initFilters.call(l,[l.resizeFilter],function(n){l.resizeFilter=n[0],P.util.enlivenObjects([l.clipPath],function(u){l.clipPath=u[0];var o=new P.Image(i,l);h(o,!1)})})})},null,l.crossOrigin)},P.Image.fromURL=function(f,h,l){P.util.loadImage(f,function(i,e){h&&h(new P.Image(i,l),e)},null,l&&l.crossOrigin)},P.Image.ATTRIBUTE_NAMES=P.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),P.Image.fromElement=function(f,h,l){var i=P.parseAttributes(f,P.Image.ATTRIBUTE_NAMES);P.Image.fromURL(i["xlink:href"],h,a(l?P.util.object.clone(l):{},i))}}(gr),P.util.object.extend(P.Object.prototype,{_getAngleValueForStraighten:function(){var a=this.angle%360;return a>0?Math.round((a-1)/90)*90:Math.round(a/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(a){a=a||{};var f=function(){},h=a.onComplete||f,l=a.onChange||f,i=this;return P.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(r){i.rotate(r),l()},onComplete:function(){i.setCoords(),h()}}),this}}),P.util.object.extend(P.StaticCanvas.prototype,{straightenObject:function(a){return a.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(a){return a.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function L(f,h){var l="precision "+h+` float;
void main(){}`,i=f.createShader(f.FRAGMENT_SHADER);return f.shaderSource(i,l),f.compileShader(i),!!f.getShaderParameter(i,f.COMPILE_STATUS)}P.isWebglSupported=function(f){if(P.isLikelyNode)return!1;f=f||P.WebglFilterBackend.prototype.tileSize;var h=document.createElement("canvas"),l=h.getContext("webgl")||h.getContext("experimental-webgl"),i=!1;if(l){P.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),i=P.maxTextureSize>=f;for(var e=["highp","mediump","lowp"],r=0;r<3;r++)if(L(l,e[r])){P.webGlPrecision=e[r];break}}return this.isSupported=i,i},P.WebglFilterBackend=a;function a(f){f&&f.tileSize&&(this.tileSize=f.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}a.prototype={tileSize:2048,resources:{},setupGLContext:function(h,l){this.dispose(),this.createWebGLCanvas(h,l),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(h,l)},chooseFastestCopyGLTo2DMethod:function(h,l){var i=typeof window.performance!="undefined",e;try{new ImageData(1,1),e=!0}catch(Y){e=!1}var r=typeof ArrayBuffer!="undefined",n=typeof Uint8ClampedArray!="undefined";if(!!(i&&e&&r&&n)){var u=P.util.createCanvasElement(),o=new ArrayBuffer(h*l*4);if(P.forceGLPutImageData){this.imageBuffer=o,this.copyGLTo2D=Tt;return}var d={imageBuffer:o,destinationWidth:h,destinationHeight:l,targetCanvas:u},b,A,O;u.width=h,u.height=l,b=window.performance.now(),Pe.call(d,this.gl,d),A=window.performance.now()-b,b=window.performance.now(),Tt.call(d,this.gl,d),O=window.performance.now()-b,A>O?(this.imageBuffer=o,this.copyGLTo2D=Tt):this.copyGLTo2D=Pe}},createWebGLCanvas:function(h,l){var i=P.util.createCanvasElement();i.width=h,i.height=l;var e={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},r=i.getContext("webgl",e);r||(r=i.getContext("experimental-webgl",e)),!!r&&(r.clearColor(0,0,0,0),this.canvas=i,this.gl=r)},applyFilters:function(h,l,i,e,r,n){var u=this.gl,o;n&&(o=this.getCachedTexture(n,l));var d={originalWidth:l.width||l.originalWidth,originalHeight:l.height||l.originalHeight,sourceWidth:i,sourceHeight:e,destinationWidth:i,destinationHeight:e,context:u,sourceTexture:this.createTexture(u,i,e,!o&&l),targetTexture:this.createTexture(u,i,e),originalTexture:o||this.createTexture(u,i,e,!o&&l),passes:h.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},b=u.createFramebuffer();return u.bindFramebuffer(u.FRAMEBUFFER,b),h.forEach(function(A){A&&A.applyTo(d)}),Se(d),this.copyGLTo2D(u,d),u.bindTexture(u.TEXTURE_2D,null),u.deleteTexture(d.sourceTexture),u.deleteTexture(d.targetTexture),u.deleteFramebuffer(b),r.getContext("2d").setTransform(1,0,0,1,0,0),d},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(h,l,i,e){var r=h.createTexture();return h.bindTexture(h.TEXTURE_2D,r),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),e?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,e):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,l,i,0,h.RGBA,h.UNSIGNED_BYTE,null),r},getCachedTexture:function(h,l){if(this.textureCache[h])return this.textureCache[h];var i=this.createTexture(this.gl,l.width,l.height,l);return this.textureCache[h]=i,i},evictCachesForKey:function(h){this.textureCache[h]&&(this.gl.deleteTexture(this.textureCache[h]),delete this.textureCache[h])},copyGLTo2D:Pe,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var h=this.gl,l={renderer:"",vendor:""};if(!h)return l;var i=h.getExtension("WEBGL_debug_renderer_info");if(i){var e=h.getParameter(i.UNMASKED_RENDERER_WEBGL),r=h.getParameter(i.UNMASKED_VENDOR_WEBGL);e&&(l.renderer=e.toLowerCase()),r&&(l.vendor=r.toLowerCase())}return this.gpuInfo=l,l}}}();function Se(L){var a=L.targetCanvas,f=a.width,h=a.height,l=L.destinationWidth,i=L.destinationHeight;(f!==l||h!==i)&&(a.width=l,a.height=i)}function Pe(L,a){var f=L.canvas,h=a.targetCanvas,l=h.getContext("2d");l.translate(0,h.height),l.scale(1,-1);var i=f.height-h.height;l.drawImage(f,0,i,h.width,h.height,0,0,h.width,h.height)}function Tt(L,a){var f=a.targetCanvas,h=f.getContext("2d"),l=a.destinationWidth,i=a.destinationHeight,e=l*i*4,r=new Uint8Array(this.imageBuffer,0,e),n=new Uint8ClampedArray(this.imageBuffer,0,e);L.readPixels(0,0,l,i,L.RGBA,L.UNSIGNED_BYTE,r);var u=new ImageData(n,l,i);h.putImageData(u,0,0)}(function(){"use strict";var L=function(){};P.Canvas2dFilterBackend=a;function a(){}a.prototype={evictCachesForKey:L,dispose:L,clearWebGLCaches:L,resources:{},applyFilters:function(h,l,i,e,r){var n=r.getContext("2d");n.drawImage(l,0,0,i,e);var u=n.getImageData(0,0,i,e),o=n.getImageData(0,0,i,e),d={sourceWidth:i,sourceHeight:e,imageData:u,originalEl:l,originalImageData:o,canvasEl:r,ctx:n,filterBackend:this};return h.forEach(function(b){b.applyTo(d)}),(d.imageData.width!==i||d.imageData.height!==e)&&(r.width=d.imageData.width,r.height=d.imageData.height),n.putImageData(d.imageData,0,0),d}}})(),P.Image=P.Image||{},P.Image.filters=P.Image.filters||{},P.Image.filters.BaseFilter=P.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(a){a&&this.setOptions(a)},setOptions:function(a){for(var f in a)this[f]=a[f]},createProgram:function(a,f,h){f=f||this.fragmentSource,h=h||this.vertexSource,P.webGlPrecision!=="highp"&&(f=f.replace(/precision highp float/g,"precision "+P.webGlPrecision+" float"));var l=a.createShader(a.VERTEX_SHADER);if(a.shaderSource(l,h),a.compileShader(l),!a.getShaderParameter(l,a.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+a.getShaderInfoLog(l));var i=a.createShader(a.FRAGMENT_SHADER);if(a.shaderSource(i,f),a.compileShader(i),!a.getShaderParameter(i,a.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+a.getShaderInfoLog(i));var e=a.createProgram();if(a.attachShader(e,l),a.attachShader(e,i),a.linkProgram(e),!a.getProgramParameter(e,a.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+a.getProgramInfoLog(e));var r=this.getAttributeLocations(a,e),n=this.getUniformLocations(a,e)||{};return n.uStepW=a.getUniformLocation(e,"uStepW"),n.uStepH=a.getUniformLocation(e,"uStepH"),{program:e,attributeLocations:r,uniformLocations:n}},getAttributeLocations:function(a,f){return{aPosition:a.getAttribLocation(f,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(a,f,h){var l=f.aPosition,i=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,i),a.enableVertexAttribArray(l),a.vertexAttribPointer(l,2,a.FLOAT,!1,0,0),a.bufferData(a.ARRAY_BUFFER,h,a.STATIC_DRAW)},_setupFrameBuffer:function(a){var f=a.context,h,l;a.passes>1?(h=a.destinationWidth,l=a.destinationHeight,(a.sourceWidth!==h||a.sourceHeight!==l)&&(f.deleteTexture(a.targetTexture),a.targetTexture=a.filterBackend.createTexture(f,h,l)),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,a.targetTexture,0)):(f.bindFramebuffer(f.FRAMEBUFFER,null),f.finish())},_swapTextures:function(a){a.passes--,a.pass++;var f=a.targetTexture;a.targetTexture=a.sourceTexture,a.sourceTexture=f},isNeutralState:function(){var a=this.mainParameter,f=P.Image.filters[this.type].prototype;if(a)if(Array.isArray(f[a])){for(var h=f[a].length;h--;)if(this[a][h]!==f[a][h])return!1;return!0}else return f[a]===this[a];else return!1},applyTo:function(a){a.webgl?(this._setupFrameBuffer(a),this.applyToWebGL(a),this._swapTextures(a)):this.applyTo2d(a)},retrieveShader:function(a){return a.programCache.hasOwnProperty(this.type)||(a.programCache[this.type]=this.createProgram(a.context)),a.programCache[this.type]},applyToWebGL:function(a){var f=a.context,h=this.retrieveShader(a);a.pass===0&&a.originalTexture?f.bindTexture(f.TEXTURE_2D,a.originalTexture):f.bindTexture(f.TEXTURE_2D,a.sourceTexture),f.useProgram(h.program),this.sendAttributeData(f,h.attributeLocations,a.aPosition),f.uniform1f(h.uniformLocations.uStepW,1/a.sourceWidth),f.uniform1f(h.uniformLocations.uStepH,1/a.sourceHeight),this.sendUniformData(f,h.uniformLocations),f.viewport(0,0,a.destinationWidth,a.destinationHeight),f.drawArrays(f.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(a,f,h){a.activeTexture(h),a.bindTexture(a.TEXTURE_2D,f),a.activeTexture(a.TEXTURE0)},unbindAdditionalTexture:function(a,f){a.activeTexture(f),a.bindTexture(a.TEXTURE_2D,null),a.activeTexture(a.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(a){this[this.mainParameter]=a},sendUniformData:function(){},createHelpLayer:function(a){if(!a.helpLayer){var f=document.createElement("canvas");f.width=a.sourceWidth,f.height=a.sourceHeight,a.helpLayer=f}},toObject:function(){var a={type:this.type},f=this.mainParameter;return f&&(a[f]=this[f]),a},toJSON:function(){return this.toObject()}}),P.Image.filters.BaseFilter.fromObject=function(L,a){var f=new P.Image.filters[L.type](L);return a&&a(f),f},function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.ColorMatrix=h(f.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(i){this.callSuper("initialize",i),this.matrix=this.matrix.slice(0)},applyTo2d:function(i){var e=i.imageData,r=e.data,n=r.length,u=this.matrix,o,d,b,A,O,Y=this.colorsOnly;for(O=0;O<n;O+=4)o=r[O],d=r[O+1],b=r[O+2],Y?(r[O]=o*u[0]+d*u[1]+b*u[2]+u[4]*255,r[O+1]=o*u[5]+d*u[6]+b*u[7]+u[9]*255,r[O+2]=o*u[10]+d*u[11]+b*u[12]+u[14]*255):(A=r[O+3],r[O]=o*u[0]+d*u[1]+b*u[2]+A*u[3]+u[4]*255,r[O+1]=o*u[5]+d*u[6]+b*u[7]+A*u[8]+u[9]*255,r[O+2]=o*u[10]+d*u[11]+b*u[12]+A*u[13]+u[14]*255,r[O+3]=o*u[15]+d*u[16]+b*u[17]+A*u[18]+u[19]*255)},getUniformLocations:function(i,e){return{uColorMatrix:i.getUniformLocation(e,"uColorMatrix"),uConstants:i.getUniformLocation(e,"uConstants")}},sendUniformData:function(i,e){var r=this.matrix,n=[r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]],u=[r[4],r[9],r[14],r[19]];i.uniformMatrix4fv(e.uColorMatrix,!1,n),i.uniform4fv(e.uConstants,u)}}),a.Image.filters.ColorMatrix.fromObject=a.Image.filters.BaseFilter.fromObject}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Brightness=h(f.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(i){if(this.brightness!==0){var e=i.imageData,r=e.data,n,u=r.length,o=Math.round(this.brightness*255);for(n=0;n<u;n+=4)r[n]=r[n]+o,r[n+1]=r[n+1]+o,r[n+2]=r[n+2]+o}},getUniformLocations:function(i,e){return{uBrightness:i.getUniformLocation(e,"uBrightness")}},sendUniformData:function(i,e){i.uniform1f(e.uBrightness,this.brightness)}}),a.Image.filters.Brightness.fromObject=a.Image.filters.BaseFilter.fromObject}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.object.extend,h=a.Image.filters,l=a.util.createClass;h.Convolute=l(h.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(e){var r=Math.sqrt(this.matrix.length),n=this.type+"_"+r+"_"+(this.opaque?1:0),u=this.fragmentSource[n];return e.programCache.hasOwnProperty(n)||(e.programCache[n]=this.createProgram(e.context,u)),e.programCache[n]},applyTo2d:function(e){var r=e.imageData,n=r.data,u=this.matrix,o=Math.round(Math.sqrt(u.length)),d=Math.floor(o/2),b=r.width,A=r.height,O=e.ctx.createImageData(b,A),Y=O.data,Z=this.opaque?1:0,mt,Xt,fe,Ue,or,fr,tr,We,vr,Or,Lr,at,ve;for(Lr=0;Lr<A;Lr++)for(Or=0;Or<b;Or++){for(or=(Lr*b+Or)*4,mt=0,Xt=0,fe=0,Ue=0,ve=0;ve<o;ve++)for(at=0;at<o;at++)tr=Lr+ve-d,fr=Or+at-d,!(tr<0||tr>=A||fr<0||fr>=b)&&(We=(tr*b+fr)*4,vr=u[ve*o+at],mt+=n[We]*vr,Xt+=n[We+1]*vr,fe+=n[We+2]*vr,Z||(Ue+=n[We+3]*vr));Y[or]=mt,Y[or+1]=Xt,Y[or+2]=fe,Z?Y[or+3]=n[or+3]:Y[or+3]=Ue}e.imageData=O},getUniformLocations:function(e,r){return{uMatrix:e.getUniformLocation(r,"uMatrix"),uOpaque:e.getUniformLocation(r,"uOpaque"),uHalfSize:e.getUniformLocation(r,"uHalfSize"),uSize:e.getUniformLocation(r,"uSize")}},sendUniformData:function(e,r){e.uniform1fv(r.uMatrix,this.matrix)},toObject:function(){return f(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),a.Image.filters.Convolute.fromObject=a.Image.filters.BaseFilter.fromObject}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Grayscale=h(f.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(i){var e=i.imageData,r=e.data,n,u=r.length,o,d=this.mode;for(n=0;n<u;n+=4)d==="average"?o=(r[n]+r[n+1]+r[n+2])/3:d==="lightness"?o=(Math.min(r[n],r[n+1],r[n+2])+Math.max(r[n],r[n+1],r[n+2]))/2:d==="luminosity"&&(o=.21*r[n]+.72*r[n+1]+.07*r[n+2]),r[n]=o,r[n+1]=o,r[n+2]=o},retrieveShader:function(i){var e=this.type+"_"+this.mode;if(!i.programCache.hasOwnProperty(e)){var r=this.fragmentSource[this.mode];i.programCache[e]=this.createProgram(i.context,r)}return i.programCache[e]},getUniformLocations:function(i,e){return{uMode:i.getUniformLocation(e,"uMode")}},sendUniformData:function(i,e){var r=1;i.uniform1i(e.uMode,r)},isNeutralState:function(){return!1}}),a.Image.filters.Grayscale.fromObject=a.Image.filters.BaseFilter.fromObject}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Invert=h(f.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(i){var e=i.imageData,r=e.data,n,u=r.length;for(n=0;n<u;n+=4)r[n]=255-r[n],r[n+1]=255-r[n+1],r[n+2]=255-r[n+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(i,e){return{uInvert:i.getUniformLocation(e,"uInvert")}},sendUniformData:function(i,e){i.uniform1i(e.uInvert,this.invert)}}),a.Image.filters.Invert.fromObject=a.Image.filters.BaseFilter.fromObject}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.object.extend,h=a.Image.filters,l=a.util.createClass;h.Noise=l(h.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(e){if(this.noise!==0){var r=e.imageData,n=r.data,u,o=n.length,d=this.noise,b;for(u=0,o=n.length;u<o;u+=4)b=(.5-Math.random())*d,n[u]+=b,n[u+1]+=b,n[u+2]+=b}},getUniformLocations:function(e,r){return{uNoise:e.getUniformLocation(r,"uNoise"),uSeed:e.getUniformLocation(r,"uSeed")}},sendUniformData:function(e,r){e.uniform1f(r.uNoise,this.noise/255),e.uniform1f(r.uSeed,Math.random())},toObject:function(){return f(this.callSuper("toObject"),{noise:this.noise})}}),a.Image.filters.Noise.fromObject=a.Image.filters.BaseFilter.fromObject}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Pixelate=h(f.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(i){var e=i.imageData,r=e.data,n=e.height,u=e.width,o,d,b,A,O,Y,Z,mt,Xt,fe,Ue;for(d=0;d<n;d+=this.blocksize)for(b=0;b<u;b+=this.blocksize)for(o=d*4*u+b*4,A=r[o],O=r[o+1],Y=r[o+2],Z=r[o+3],fe=Math.min(d+this.blocksize,n),Ue=Math.min(b+this.blocksize,u),mt=d;mt<fe;mt++)for(Xt=b;Xt<Ue;Xt++)o=mt*4*u+Xt*4,r[o]=A,r[o+1]=O,r[o+2]=Y,r[o+3]=Z},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(i,e){return{uBlocksize:i.getUniformLocation(e,"uBlocksize"),uStepW:i.getUniformLocation(e,"uStepW"),uStepH:i.getUniformLocation(e,"uStepH")}},sendUniformData:function(i,e){i.uniform1f(e.uBlocksize,this.blocksize)}}),a.Image.filters.Pixelate.fromObject=a.Image.filters.BaseFilter.fromObject}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.object.extend,h=a.Image.filters,l=a.util.createClass;h.RemoveColor=l(h.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(e){var r=e.imageData,n=r.data,u,o=this.distance*255,d,b,A,O=new a.Color(this.color).getSource(),Y=[O[0]-o,O[1]-o,O[2]-o],Z=[O[0]+o,O[1]+o,O[2]+o];for(u=0;u<n.length;u+=4)d=n[u],b=n[u+1],A=n[u+2],d>Y[0]&&b>Y[1]&&A>Y[2]&&d<Z[0]&&b<Z[1]&&A<Z[2]&&(n[u+3]=0)},getUniformLocations:function(e,r){return{uLow:e.getUniformLocation(r,"uLow"),uHigh:e.getUniformLocation(r,"uHigh")}},sendUniformData:function(e,r){var n=new a.Color(this.color).getSource(),u=parseFloat(this.distance),o=[0+n[0]/255-u,0+n[1]/255-u,0+n[2]/255-u,1],d=[n[0]/255+u,n[1]/255+u,n[2]/255+u,1];e.uniform4fv(r.uLow,o),e.uniform4fv(r.uHigh,d)},toObject:function(){return f(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),a.Image.filters.RemoveColor.fromObject=a.Image.filters.BaseFilter.fromObject}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass,l={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var i in l)f[i]=h(f.ColorMatrix,{type:i,matrix:l[i],mainParameter:!1,colorsOnly:!0}),a.Image.filters[i].fromObject=a.Image.filters.BaseFilter.fromObject}(gr),function(L){"use strict";var a=L.fabric,f=a.Image.filters,h=a.util.createClass;f.BlendColor=h(f.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(i){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[i]+`}
}`},retrieveShader:function(i){var e=this.type+"_"+this.mode,r;return i.programCache.hasOwnProperty(e)||(r=this.buildSource(this.mode),i.programCache[e]=this.createProgram(i.context,r)),i.programCache[e]},applyTo2d:function(i){var e=i.imageData,r=e.data,n=r.length,u,o,d,b,A,O,Y,Z=1-this.alpha;Y=new a.Color(this.color).getSource(),u=Y[0]*this.alpha,o=Y[1]*this.alpha,d=Y[2]*this.alpha;for(var mt=0;mt<n;mt+=4)switch(b=r[mt],A=r[mt+1],O=r[mt+2],this.mode){case"multiply":r[mt]=b*u/255,r[mt+1]=A*o/255,r[mt+2]=O*d/255;break;case"screen":r[mt]=255-(255-b)*(255-u)/255,r[mt+1]=255-(255-A)*(255-o)/255,r[mt+2]=255-(255-O)*(255-d)/255;break;case"add":r[mt]=b+u,r[mt+1]=A+o,r[mt+2]=O+d;break;case"diff":case"difference":r[mt]=Math.abs(b-u),r[mt+1]=Math.abs(A-o),r[mt+2]=Math.abs(O-d);break;case"subtract":r[mt]=b-u,r[mt+1]=A-o,r[mt+2]=O-d;break;case"darken":r[mt]=Math.min(b,u),r[mt+1]=Math.min(A,o),r[mt+2]=Math.min(O,d);break;case"lighten":r[mt]=Math.max(b,u),r[mt+1]=Math.max(A,o),r[mt+2]=Math.max(O,d);break;case"overlay":r[mt]=u<128?2*b*u/255:255-2*(255-b)*(255-u)/255,r[mt+1]=o<128?2*A*o/255:255-2*(255-A)*(255-o)/255,r[mt+2]=d<128?2*O*d/255:255-2*(255-O)*(255-d)/255;break;case"exclusion":r[mt]=u+b-2*u*b/255,r[mt+1]=o+A-2*o*A/255,r[mt+2]=d+O-2*d*O/255;break;case"tint":r[mt]=u+b*Z,r[mt+1]=o+A*Z,r[mt+2]=d+O*Z}},getUniformLocations:function(i,e){return{uColor:i.getUniformLocation(e,"uColor")}},sendUniformData:function(i,e){var r=new a.Color(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,i.uniform4fv(e.uColor,r)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),a.Image.filters.BlendColor.fromObject=a.Image.filters.BaseFilter.fromObject}(gr),function(L){"use strict";var a=L.fabric,f=a.Image.filters,h=a.util.createClass;f.BlendImage=h(f.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(i){var e=this.type+"_"+this.mode,r=this.fragmentSource[this.mode];return i.programCache.hasOwnProperty(e)||(i.programCache[e]=this.createProgram(i.context,r)),i.programCache[e]},applyToWebGL:function(i){var e=i.context,r=this.createTexture(i.filterBackend,this.image);this.bindAdditionalTexture(e,r,e.TEXTURE1),this.callSuper("applyToWebGL",i),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(i,e){return i.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var i=this.image,e=i._element.width,r=i._element.height;return[1/i.scaleX,0,0,0,1/i.scaleY,0,-i.left/e,-i.top/r,1]},applyTo2d:function(i){var e=i.imageData,r=i.filterBackend.resources,n=e.data,u=n.length,o=e.width,d=e.height,b,A,O,Y,Z,mt,Xt,fe,Ue,or,fr=this.image,tr;r.blendImage||(r.blendImage=a.util.createCanvasElement()),Ue=r.blendImage,or=Ue.getContext("2d"),Ue.width!==o||Ue.height!==d?(Ue.width=o,Ue.height=d):or.clearRect(0,0,o,d),or.setTransform(fr.scaleX,0,0,fr.scaleY,fr.left,fr.top),or.drawImage(fr._element,0,0,o,d),tr=or.getImageData(0,0,o,d).data;for(var We=0;We<u;We+=4)switch(Z=n[We],mt=n[We+1],Xt=n[We+2],fe=n[We+3],b=tr[We],A=tr[We+1],O=tr[We+2],Y=tr[We+3],this.mode){case"multiply":n[We]=Z*b/255,n[We+1]=mt*A/255,n[We+2]=Xt*O/255,n[We+3]=fe*Y/255;break;case"mask":n[We+3]=Y;break}},getUniformLocations:function(i,e){return{uTransformMatrix:i.getUniformLocation(e,"uTransformMatrix"),uImage:i.getUniformLocation(e,"uImage")}},sendUniformData:function(i,e){var r=this.calculateMatrix();i.uniform1i(e.uImage,1),i.uniformMatrix3fv(e.uTransformMatrix,!1,r)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),a.Image.filters.BlendImage.fromObject=function(l,i){a.Image.fromObject(l.image,function(e){var r=a.util.object.clone(l);r.image=e,i(new a.Image.filters.BlendImage(r))})}}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=Math.pow,h=Math.floor,l=Math.sqrt,i=Math.abs,e=Math.round,r=Math.sin,n=Math.ceil,u=a.Image.filters,o=a.util.createClass;u.Resize=o(u.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(b,A){return{uDelta:b.getUniformLocation(A,"uDelta"),uTaps:b.getUniformLocation(A,"uTaps")}},sendUniformData:function(b,A){b.uniform2fv(A.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),b.uniform1fv(A.uTaps,this.taps)},retrieveShader:function(b){var A=this.getFilterWindow(),O=this.type+"_"+A;if(!b.programCache.hasOwnProperty(O)){var Y=this.generateShader(A);b.programCache[O]=this.createProgram(b.context,Y)}return b.programCache[O]},getFilterWindow:function(){var b=this.tempScale;return Math.ceil(this.lanczosLobes/b)},getTaps:function(){for(var b=this.lanczosCreate(this.lanczosLobes),A=this.tempScale,O=this.getFilterWindow(),Y=new Array(O),Z=1;Z<=O;Z++)Y[Z-1]=b(Z*A);return Y},generateShader:function(b){for(var A=new Array(b),O=this.fragmentSourceTOP,b,Y=1;Y<=b;Y++)A[Y-1]=Y+".0 * uDelta";return O+="uniform float uTaps["+b+`];
`,O+=`void main() {
`,O+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,O+=`  float sum = 1.0;
`,A.forEach(function(Z,mt){O+="  color += texture2D(uTexture, vTexCoord + "+Z+") * uTaps["+mt+`];
`,O+="  color += texture2D(uTexture, vTexCoord - "+Z+") * uTaps["+mt+`];
`,O+="  sum += 2.0 * uTaps["+mt+`];
`}),O+=`  gl_FragColor = color / sum;
`,O+="}",O},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(b){b.webgl?(b.passes++,this.width=b.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=b.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),b.destinationWidth=this.dW,this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b),b.sourceWidth=b.destinationWidth,this.height=b.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),b.destinationHeight=this.dH,this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b),b.sourceHeight=b.destinationHeight):this.applyTo2d(b)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(b){return function(A){if(A>=b||A<=-b)return 0;if(A<11920929e-14&&A>-11920929e-14)return 1;A*=Math.PI;var O=A/b;return r(A)/A*r(O)/O}},applyTo2d:function(b){var A=b.imageData,O=this.scaleX,Y=this.scaleY;this.rcpScaleX=1/O,this.rcpScaleY=1/Y;var Z=A.width,mt=A.height,Xt=e(Z*O),fe=e(mt*Y),Ue;this.resizeType==="sliceHack"?Ue=this.sliceByTwo(b,Z,mt,Xt,fe):this.resizeType==="hermite"?Ue=this.hermiteFastResize(b,Z,mt,Xt,fe):this.resizeType==="bilinear"?Ue=this.bilinearFiltering(b,Z,mt,Xt,fe):this.resizeType==="lanczos"&&(Ue=this.lanczosResize(b,Z,mt,Xt,fe)),b.imageData=Ue},sliceByTwo:function(b,A,O,Y,Z){var mt=b.imageData,Xt=.5,fe=!1,Ue=!1,or=A*Xt,fr=O*Xt,tr=a.filterBackend.resources,We,vr,Or=0,Lr=0,at=A,ve=0;for(tr.sliceByTwo||(tr.sliceByTwo=document.createElement("canvas")),We=tr.sliceByTwo,(We.width<A*1.5||We.height<O)&&(We.width=A*1.5,We.height=O),vr=We.getContext("2d"),vr.clearRect(0,0,A*1.5,O),vr.putImageData(mt,0,0),Y=h(Y),Z=h(Z);!fe||!Ue;)A=or,O=fr,Y<h(or*Xt)?or=h(or*Xt):(or=Y,fe=!0),Z<h(fr*Xt)?fr=h(fr*Xt):(fr=Z,Ue=!0),vr.drawImage(We,Or,Lr,A,O,at,ve,or,fr),Or=at,Lr=ve,ve+=fr;return vr.getImageData(Or,Lr,Y,Z)},lanczosResize:function(b,A,O,Y,Z){function mt(Et){var te,_t,xt,Ct,vt,de,ae,ue,ke,pe,Qt;for(ve.x=(Et+.5)*fr,ht.x=h(ve.x),te=0;te<Z;te++){for(ve.y=(te+.5)*tr,ht.y=h(ve.y),vt=0,de=0,ae=0,ue=0,ke=0,_t=ht.x-Or;_t<=ht.x+Or;_t++)if(!(_t<0||_t>=A)){pe=h(1e3*i(_t-ve.x)),at[pe]||(at[pe]={});for(var It=ht.y-Lr;It<=ht.y+Lr;It++)It<0||It>=O||(Qt=h(1e3*i(It-ve.y)),at[pe][Qt]||(at[pe][Qt]=or(l(f(pe*We,2)+f(Qt*vr,2))/1e3)),xt=at[pe][Qt],xt>0&&(Ct=(It*A+_t)*4,vt+=xt,de+=xt*Xt[Ct],ae+=xt*Xt[Ct+1],ue+=xt*Xt[Ct+2],ke+=xt*Xt[Ct+3]))}Ct=(te*Y+Et)*4,Ue[Ct]=de/vt,Ue[Ct+1]=ae/vt,Ue[Ct+2]=ue/vt,Ue[Ct+3]=ke/vt}return++Et<Y?mt(Et):fe}var Xt=b.imageData.data,fe=b.ctx.createImageData(Y,Z),Ue=fe.data,or=this.lanczosCreate(this.lanczosLobes),fr=this.rcpScaleX,tr=this.rcpScaleY,We=2/this.rcpScaleX,vr=2/this.rcpScaleY,Or=n(fr*this.lanczosLobes/2),Lr=n(tr*this.lanczosLobes/2),at={},ve={},ht={};return mt(0)},bilinearFiltering:function(b,A,O,Y,Z){var mt,Xt,fe,Ue,or,fr,tr,We,vr,Or,Lr,at,ve=0,ht,Et=this.rcpScaleX,te=this.rcpScaleY,_t=4*(A-1),xt=b.imageData,Ct=xt.data,vt=b.ctx.createImageData(Y,Z),de=vt.data;for(tr=0;tr<Z;tr++)for(We=0;We<Y;We++)for(or=h(Et*We),fr=h(te*tr),vr=Et*We-or,Or=te*tr-fr,ht=4*(fr*A+or),Lr=0;Lr<4;Lr++)mt=Ct[ht+Lr],Xt=Ct[ht+4+Lr],fe=Ct[ht+_t+Lr],Ue=Ct[ht+_t+4+Lr],at=mt*(1-vr)*(1-Or)+Xt*vr*(1-Or)+fe*Or*(1-vr)+Ue*vr*Or,de[ve++]=at;return vt},hermiteFastResize:function(b,A,O,Y,Z){for(var mt=this.rcpScaleX,Xt=this.rcpScaleY,fe=n(mt/2),Ue=n(Xt/2),or=b.imageData,fr=or.data,tr=b.ctx.createImageData(Y,Z),We=tr.data,vr=0;vr<Z;vr++)for(var Or=0;Or<Y;Or++){for(var Lr=(Or+vr*Y)*4,at=0,ve=0,ht=0,Et=0,te=0,_t=0,xt=0,Ct=(vr+.5)*Xt,vt=h(vr*Xt);vt<(vr+1)*Xt;vt++)for(var de=i(Ct-(vt+.5))/Ue,ae=(Or+.5)*mt,ue=de*de,ke=h(Or*mt);ke<(Or+1)*mt;ke++){var pe=i(ae-(ke+.5))/fe,Qt=l(ue+pe*pe);Qt>1&&Qt<-1||(at=2*Qt*Qt*Qt-3*Qt*Qt+1,at>0&&(pe=4*(ke+vt*A),xt+=at*fr[pe+3],ht+=at,fr[pe+3]<255&&(at=at*fr[pe+3]/250),Et+=at*fr[pe],te+=at*fr[pe+1],_t+=at*fr[pe+2],ve+=at))}We[Lr]=Et/ve,We[Lr+1]=te/ve,We[Lr+2]=_t/ve,We[Lr+3]=xt/ht}return tr},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),a.Image.filters.Resize.fromObject=a.Image.filters.BaseFilter.fromObject}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Contrast=h(f.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(i){if(this.contrast!==0){var e=i.imageData,r,n,u=e.data,n=u.length,o=Math.floor(this.contrast*255),d=259*(o+255)/(255*(259-o));for(r=0;r<n;r+=4)u[r]=d*(u[r]-128)+128,u[r+1]=d*(u[r+1]-128)+128,u[r+2]=d*(u[r+2]-128)+128}},getUniformLocations:function(i,e){return{uContrast:i.getUniformLocation(e,"uContrast")}},sendUniformData:function(i,e){i.uniform1f(e.uContrast,this.contrast)}}),a.Image.filters.Contrast.fromObject=a.Image.filters.BaseFilter.fromObject}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Saturation=h(f.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(i){if(this.saturation!==0){var e=i.imageData,r=e.data,n=r.length,u=-this.saturation,o,d;for(o=0;o<n;o+=4)d=Math.max(r[o],r[o+1],r[o+2]),r[o]+=d!==r[o]?(d-r[o])*u:0,r[o+1]+=d!==r[o+1]?(d-r[o+1])*u:0,r[o+2]+=d!==r[o+2]?(d-r[o+2])*u:0}},getUniformLocations:function(i,e){return{uSaturation:i.getUniformLocation(e,"uSaturation")}},sendUniformData:function(i,e){i.uniform1f(e.uSaturation,-this.saturation)}}),a.Image.filters.Saturation.fromObject=a.Image.filters.BaseFilter.fromObject}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Vibrance=h(f.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(i){if(this.vibrance!==0){var e=i.imageData,r=e.data,n=r.length,u=-this.vibrance,o,d,b,A;for(o=0;o<n;o+=4)d=Math.max(r[o],r[o+1],r[o+2]),b=(r[o]+r[o+1]+r[o+2])/3,A=Math.abs(d-b)*2/255*u,r[o]+=d!==r[o]?(d-r[o])*A:0,r[o+1]+=d!==r[o+1]?(d-r[o+1])*A:0,r[o+2]+=d!==r[o+2]?(d-r[o+2])*A:0}},getUniformLocations:function(i,e){return{uVibrance:i.getUniformLocation(e,"uVibrance")}},sendUniformData:function(i,e){i.uniform1f(e.uVibrance,-this.vibrance)}}),a.Image.filters.Vibrance.fromObject=a.Image.filters.BaseFilter.fromObject}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Blur=h(f.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(i){i.webgl?(this.aspectRatio=i.sourceWidth/i.sourceHeight,i.passes++,this._setupFrameBuffer(i),this.horizontal=!0,this.applyToWebGL(i),this._swapTextures(i),this._setupFrameBuffer(i),this.horizontal=!1,this.applyToWebGL(i),this._swapTextures(i)):this.applyTo2d(i)},applyTo2d:function(i){i.imageData=this.simpleBlur(i)},simpleBlur:function(i){var e=i.filterBackend.resources,r,n,u=i.imageData.width,o=i.imageData.height;e.blurLayer1||(e.blurLayer1=a.util.createCanvasElement(),e.blurLayer2=a.util.createCanvasElement()),r=e.blurLayer1,n=e.blurLayer2,(r.width!==u||r.height!==o)&&(n.width=r.width=u,n.height=r.height=o);var d=r.getContext("2d"),b=n.getContext("2d"),A=15,O,Y,Z,mt,Xt=this.blur*.06*.5;for(d.putImageData(i.imageData,0,0),b.clearRect(0,0,u,o),mt=-A;mt<=A;mt++)O=(Math.random()-.5)/4,Y=mt/A,Z=Xt*Y*u+O,b.globalAlpha=1-Math.abs(Y),b.drawImage(r,Z,O),d.drawImage(n,0,0),b.globalAlpha=1,b.clearRect(0,0,n.width,n.height);for(mt=-A;mt<=A;mt++)O=(Math.random()-.5)/4,Y=mt/A,Z=Xt*Y*o+O,b.globalAlpha=1-Math.abs(Y),b.drawImage(r,O,Z),d.drawImage(n,0,0),b.globalAlpha=1,b.clearRect(0,0,n.width,n.height);i.ctx.drawImage(r,0,0);var fe=i.ctx.getImageData(0,0,r.width,r.height);return d.globalAlpha=1,d.clearRect(0,0,r.width,r.height),fe},getUniformLocations:function(i,e){return{delta:i.getUniformLocation(e,"uDelta")}},sendUniformData:function(i,e){var r=this.chooseRightDelta();i.uniform2fv(e.delta,r)},chooseRightDelta:function(){var i=1,e=[0,0],r;return this.horizontal?this.aspectRatio>1&&(i=1/this.aspectRatio):this.aspectRatio<1&&(i=this.aspectRatio),r=i*this.blur*.12,this.horizontal?e[0]=r:e[1]=r,e}}),f.Blur.fromObject=a.Image.filters.BaseFilter.fromObject}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Gamma=h(f.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(i){this.gamma=[1,1,1],f.BaseFilter.prototype.initialize.call(this,i)},applyTo2d:function(i){var e=i.imageData,r=e.data,n=this.gamma,u=r.length,o=1/n[0],d=1/n[1],b=1/n[2],A;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),A=0,u=256;A<u;A++)this.rVals[A]=Math.pow(A/255,o)*255,this.gVals[A]=Math.pow(A/255,d)*255,this.bVals[A]=Math.pow(A/255,b)*255;for(A=0,u=r.length;A<u;A+=4)r[A]=this.rVals[r[A]],r[A+1]=this.gVals[r[A+1]],r[A+2]=this.bVals[r[A+2]]},getUniformLocations:function(i,e){return{uGamma:i.getUniformLocation(e,"uGamma")}},sendUniformData:function(i,e){i.uniform3fv(e.uGamma,this.gamma)}}),a.Image.filters.Gamma.fromObject=a.Image.filters.BaseFilter.fromObject}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Composed=h(f.BaseFilter,{type:"Composed",subFilters:[],initialize:function(i){this.callSuper("initialize",i),this.subFilters=this.subFilters.slice(0)},applyTo:function(i){i.passes+=this.subFilters.length-1,this.subFilters.forEach(function(e){e.applyTo(i)})},toObject:function(){return a.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(i){return i.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(i){return!i.isNeutralState()})}}),a.Image.filters.Composed.fromObject=function(l,i){var e=l.subFilters||[],r=e.map(function(u){return new a.Image.filters[u.type](u)}),n=new a.Image.filters.Composed({subFilters:r});return i&&i(n),n}}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.HueRotation=h(f.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var i=this.rotation*Math.PI,e=a.util.cos(i),r=a.util.sin(i),n=1/3,u=Math.sqrt(n)*r,o=1-e;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=e+o/3,this.matrix[1]=n*o-u,this.matrix[2]=n*o+u,this.matrix[5]=n*o+u,this.matrix[6]=e+n*o,this.matrix[7]=n*o-u,this.matrix[10]=n*o-u,this.matrix[11]=n*o+u,this.matrix[12]=e+n*o},isNeutralState:function(i){return this.calculateMatrix(),f.BaseFilter.prototype.isNeutralState.call(this,i)},applyTo:function(i){this.calculateMatrix(),f.BaseFilter.prototype.applyTo.call(this,i)}}),a.Image.filters.HueRotation.fromObject=a.Image.filters.BaseFilter.fromObject}(gr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.object.clone;if(a.Text){a.warn("fabric.Text is already defined");return}var h="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");a.Text=a.util.createClass(a.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:a.Object.prototype.stateProperties.concat(h),cacheProperties:a.Object.prototype.cacheProperties.concat(h),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(i,e){this.styles=e?e.styles||{}:{},this.text=i,this.__skipDimension=!0,this.callSuper("initialize",e),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var i=this.path;i&&(i.segmentsInfo=a.util.getPathSegmentsInfo(i.path))},getMeasuringContext:function(){return a._measuringContext||(a._measuringContext=this.canvas&&this.canvas.contextCache||a.util.createCanvasElement().getContext("2d")),a._measuringContext},_splitText:function(){var i=this._splitTextIntoLines(this.text);return this.textLines=i.lines,this._textLines=i.graphemeLines,this._unwrappedTextLines=i._unwrappedLines,this._text=i.graphemeText,i},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var i,e,r,n,u,o,d,b=0,A=this._textLines.length;b<A;b++)if(!(this.textAlign!=="justify"&&(b===A-1||this.isEndOfWrapping(b)))&&(n=0,u=this._textLines[b],e=this.getLineWidth(b),e<this.width&&(d=this.textLines[b].match(this._reSpacesAndTabs)))){r=d.length,i=(this.width-e)/r;for(var O=0,Y=u.length;O<=Y;O++)o=this.__charBounds[b][O],this._reSpaceAndTab.test(u[O])?(o.width+=i,o.kernedWidth+=i,o.left+=n,n+=i):o.left+=n}},isEndOfWrapping:function(i){return i===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var i=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return i.width+=e*i.zoomX,i.height+=e*i.zoomY,i},_render:function(i){var e=this.path;e&&!e.isNotVisible()&&e._render(i),this._setTextStyles(i),this._renderTextLinesBackground(i),this._renderTextDecoration(i,"underline"),this._renderText(i),this._renderTextDecoration(i,"overline"),this._renderTextDecoration(i,"linethrough")},_renderText:function(i){this.paintFirst==="stroke"?(this._renderTextStroke(i),this._renderTextFill(i)):(this._renderTextFill(i),this._renderTextStroke(i))},_setTextStyles:function(i,e,r){i.textBaseline="alphabetic",i.font=this._getFontDeclaration(e,r)},calcTextWidth:function(){for(var i=this.getLineWidth(0),e=1,r=this._textLines.length;e<r;e++){var n=this.getLineWidth(e);n>i&&(i=n)}return i},_renderTextLine:function(i,e,r,n,u,o){this._renderChars(i,e,r,n,u,o)},_renderTextLinesBackground:function(i){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var e,r,n=i.fillStyle,u,o,d=this._getLeftOffset(),b=this._getTopOffset(),A=0,O=0,Y,Z,mt=this.path,Xt,fe=0,Ue=this._textLines.length;fe<Ue;fe++){if(e=this.getHeightOfLine(fe),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",fe)){b+=e;continue}u=this._textLines[fe],r=this._getLineLeftOffset(fe),O=0,A=0,o=this.getValueOfPropertyAt(fe,0,"textBackgroundColor");for(var or=0,fr=u.length;or<fr;or++)Y=this.__charBounds[fe][or],Z=this.getValueOfPropertyAt(fe,or,"textBackgroundColor"),mt?(i.save(),i.translate(Y.renderLeft,Y.renderTop),i.rotate(Y.angle),i.fillStyle=Z,Z&&i.fillRect(-Y.width/2,-e/this.lineHeight*(1-this._fontSizeFraction),Y.width,e/this.lineHeight),i.restore()):Z!==o?(Xt=d+r+A,this.direction==="rtl"&&(Xt=this.width-Xt-O),i.fillStyle=o,o&&i.fillRect(Xt,b,O,e/this.lineHeight),A=Y.left,O=Y.width,o=Z):O+=Y.kernedWidth;Z&&!mt&&(Xt=d+r+A,this.direction==="rtl"&&(Xt=this.width-Xt-O),i.fillStyle=Z,i.fillRect(Xt,b,O,e/this.lineHeight)),b+=e}i.fillStyle=n,this._removeShadow(i)}},getFontCache:function(i){var e=i.fontFamily.toLowerCase();a.charWidthsCache[e]||(a.charWidthsCache[e]={});var r=a.charWidthsCache[e],n=i.fontStyle.toLowerCase()+"_"+(i.fontWeight+"").toLowerCase();return r[n]||(r[n]={}),r[n]},_measureChar:function(i,e,r,n){var u=this.getFontCache(e),o=this._getFontDeclaration(e),d=this._getFontDeclaration(n),b=r+i,A=o===d,O,Y,Z,mt=e.fontSize/this.CACHE_FONT_SIZE,Xt;if(r&&u[r]!==void 0&&(Z=u[r]),u[i]!==void 0&&(Xt=O=u[i]),A&&u[b]!==void 0&&(Y=u[b],Xt=Y-Z),O===void 0||Z===void 0||Y===void 0){var fe=this.getMeasuringContext();this._setTextStyles(fe,e,!0)}return O===void 0&&(Xt=O=fe.measureText(i).width,u[i]=O),Z===void 0&&A&&r&&(Z=fe.measureText(r).width,u[r]=Z),A&&Y===void 0&&(Y=fe.measureText(b).width,u[b]=Y,Xt=Y-Z),{width:O*mt,kernedWidth:Xt*mt}},getHeightOfChar:function(i,e){return this.getValueOfPropertyAt(i,e,"fontSize")},measureLine:function(i){var e=this._measureLine(i);return this.charSpacing!==0&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(i){var e=0,r,n,u=this._textLines[i],o,d,b=0,A=new Array(u.length),O=0,Y,Z,mt=this.path,Xt=this.pathSide==="right";for(this.__charBounds[i]=A,r=0;r<u.length;r++)n=u[r],d=this._getGraphemeBox(n,i,r,o),A[r]=d,e+=d.kernedWidth,o=n;if(A[r]={left:d?d.left+d.width:0,width:0,kernedWidth:0,height:this.fontSize},mt){switch(Z=mt.segmentsInfo[mt.segmentsInfo.length-1].length,Y=a.util.getPointOnPath(mt.path,0,mt.segmentsInfo),Y.x+=mt.pathOffset.x,Y.y+=mt.pathOffset.y,this.textAlign){case"left":O=Xt?Z-e:0;break;case"center":O=(Z-e)/2;break;case"right":O=Xt?0:Z-e;break}for(O+=this.pathStartOffset*(Xt?-1:1),r=Xt?u.length-1:0;Xt?r>=0:r<u.length;Xt?r--:r++)d=A[r],O>Z?O%=Z:O<0&&(O+=Z),this._setGraphemeOnPath(O,d,Y),O+=d.kernedWidth}return{width:e,numOfSpaces:b}},_setGraphemeOnPath:function(i,e,r){var n=i+e.kernedWidth/2,u=this.path,o=a.util.getPointOnPath(u.path,n,u.segmentsInfo);e.renderLeft=o.x-r.x,e.renderTop=o.y-r.y,e.angle=o.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(i,e,r,n,u){var o=this.getCompleteStyleDeclaration(e,r),d=n?this.getCompleteStyleDeclaration(e,r-1):{},b=this._measureChar(i,o,n,d),A=b.kernedWidth,O=b.width,Y;this.charSpacing!==0&&(Y=this._getWidthOfCharSpacing(),O+=Y,A+=Y);var Z={width:O,left:0,height:o.fontSize,kernedWidth:A,deltaY:o.deltaY};if(r>0&&!u){var mt=this.__charBounds[e][r-1];Z.left=mt.left+mt.width+b.kernedWidth-b.width}return Z},getHeightOfLine:function(i){if(this.__lineHeights[i])return this.__lineHeights[i];for(var e=this._textLines[i],r=this.getHeightOfChar(i,0),n=1,u=e.length;n<u;n++)r=Math.max(this.getHeightOfChar(i,n),r);return this.__lineHeights[i]=r*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var i,e=0,r=0,n=this._textLines.length;r<n;r++)i=this.getHeightOfLine(r),e+=r===n-1?i/this.lineHeight:i;return e},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(i,e){i.save();for(var r=0,n=this._getLeftOffset(),u=this._getTopOffset(),o=0,d=this._textLines.length;o<d;o++){var b=this.getHeightOfLine(o),A=b/this.lineHeight,O=this._getLineLeftOffset(o);this._renderTextLine(e,i,this._textLines[o],n+O,u+r+A,o),r+=b}i.restore()},_renderTextFill:function(i){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(i,"fillText")},_renderTextStroke:function(i){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(i),i.save(),this._setLineDash(i,this.strokeDashArray),i.beginPath(),this._renderTextCommon(i,"strokeText"),i.closePath(),i.restore())},_renderChars:function(i,e,r,n,u,o){var d=this.getHeightOfLine(o),b=this.textAlign.indexOf("justify")!==-1,A,O,Y="",Z,mt=0,Xt,fe=this.path,Ue=!b&&this.charSpacing===0&&this.isEmptyStyles(o)&&!fe,or=this.direction==="ltr",fr=this.direction==="ltr"?1:-1,tr;if(e.save(),u-=d*this._fontSizeFraction/this.lineHeight,Ue){e.canvas.setAttribute("dir",or?"ltr":"rtl"),e.direction=or?"ltr":"rtl",e.textAlign=or?"left":"right",this._renderChar(i,e,o,0,r.join(""),n,u,d),e.restore();return}for(var We=0,vr=r.length-1;We<=vr;We++)Xt=We===vr||this.charSpacing||fe,Y+=r[We],Z=this.__charBounds[o][We],mt===0?(n+=fr*(Z.kernedWidth-Z.width),mt+=Z.width):mt+=Z.kernedWidth,b&&!Xt&&this._reSpaceAndTab.test(r[We])&&(Xt=!0),Xt||(A=A||this.getCompleteStyleDeclaration(o,We),O=this.getCompleteStyleDeclaration(o,We+1),Xt=this._hasStyleChanged(A,O)),Xt&&(fe?(e.save(),e.translate(Z.renderLeft,Z.renderTop),e.rotate(Z.angle),this._renderChar(i,e,o,We,Y,-mt/2,0,d),e.restore()):(tr=n,e.canvas.setAttribute("dir",or?"ltr":"rtl"),e.direction=or?"ltr":"rtl",e.textAlign=or?"left":"right",this._renderChar(i,e,o,We,Y,tr,u,d)),Y="",A=O,n+=fr*mt,mt=0);e.restore()},_applyPatternGradientTransformText:function(i){var e=a.util.createCanvasElement(),r,n=this.width+this.strokeWidth,u=this.height+this.strokeWidth;return e.width=n,e.height=u,r=e.getContext("2d"),r.beginPath(),r.moveTo(0,0),r.lineTo(n,0),r.lineTo(n,u),r.lineTo(0,u),r.closePath(),r.translate(n/2,u/2),r.fillStyle=i.toLive(r),this._applyPatternGradientTransform(r,i),r.fill(),r.createPattern(e,"no-repeat")},handleFiller:function(i,e,r){var n,u;return r.toLive?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?(n=-this.width/2,u=-this.height/2,i.translate(n,u),i[e]=this._applyPatternGradientTransformText(r),{offsetX:n,offsetY:u}):(i[e]=r.toLive(i,this),this._applyPatternGradientTransform(i,r)):(i[e]=r,{offsetX:0,offsetY:0})},_setStrokeStyles:function(i,e){return i.lineWidth=e.strokeWidth,i.lineCap=this.strokeLineCap,i.lineDashOffset=this.strokeDashOffset,i.lineJoin=this.strokeLineJoin,i.miterLimit=this.strokeMiterLimit,this.handleFiller(i,"strokeStyle",e.stroke)},_setFillStyles:function(i,e){return this.handleFiller(i,"fillStyle",e.fill)},_renderChar:function(i,e,r,n,u,o,d){var b=this._getStyleDeclaration(r,n),A=this.getCompleteStyleDeclaration(r,n),O=i==="fillText"&&A.fill,Y=i==="strokeText"&&A.stroke&&A.strokeWidth,Z,mt;!Y&&!O||(e.save(),O&&(Z=this._setFillStyles(e,A)),Y&&(mt=this._setStrokeStyles(e,A)),e.font=this._getFontDeclaration(A),b&&b.textBackgroundColor&&this._removeShadow(e),b&&b.deltaY&&(d+=b.deltaY),O&&e.fillText(u,o-Z.offsetX,d-Z.offsetY),Y&&e.strokeText(u,o-mt.offsetX,d-mt.offsetY),e.restore())},setSuperscript:function(i,e){return this._setScript(i,e,this.superscript)},setSubscript:function(i,e){return this._setScript(i,e,this.subscript)},_setScript:function(i,e,r){var n=this.get2DCursorLocation(i,!0),u=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"fontSize"),o=this.getValueOfPropertyAt(n.lineIndex,n.charIndex,"deltaY"),d={fontSize:u*r.size,deltaY:o+u*r.baseline};return this.setSelectionStyles(d,i,e),this},_hasStyleChanged:function(i,e){return i.fill!==e.fill||i.stroke!==e.stroke||i.strokeWidth!==e.strokeWidth||i.fontSize!==e.fontSize||i.fontFamily!==e.fontFamily||i.fontWeight!==e.fontWeight||i.fontStyle!==e.fontStyle||i.deltaY!==e.deltaY},_hasStyleChangedForSvg:function(i,e){return this._hasStyleChanged(i,e)||i.overline!==e.overline||i.underline!==e.underline||i.linethrough!==e.linethrough},_getLineLeftOffset:function(i){var e=this.getLineWidth(i),r=this.width-e,n=this.textAlign,u=this.direction,o,d=0,o=this.isEndOfWrapping(i);return n==="justify"||n==="justify-center"&&!o||n==="justify-right"&&!o||n==="justify-left"&&!o?0:(n==="center"&&(d=r/2),n==="right"&&(d=r),n==="justify-center"&&(d=r/2),n==="justify-right"&&(d=r),u==="rtl"&&(d-=r),d)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var i=this._forceClearCache;return i||(i=this.hasStateChanged("_dimensionAffectingProps")),i&&(this.dirty=!0,this._forceClearCache=!1),i},getLineWidth:function(i){if(this.__lineWidths[i])return this.__lineWidths[i];var e,r=this._textLines[i],n;return r===""?e=0:(n=this.measureLine(i),e=n.width),this.__lineWidths[i]=e,e},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(i,e,r){var n=this._getStyleDeclaration(i,e);return n&&typeof n[r]!="undefined"?n[r]:this[r]},_renderTextDecoration:function(i,e){if(!(!this[e]&&!this.styleHas(e))){for(var r,n,u,o,d,b,A,O,Y=this._getLeftOffset(),Z=this._getTopOffset(),mt,Xt,fe,Ue,or,fr,tr,We,vr=this.path,Or=this._getWidthOfCharSpacing(),Lr=this.offsets[e],at=0,ve=this._textLines.length;at<ve;at++){if(r=this.getHeightOfLine(at),!this[e]&&!this.styleHas(e,at)){Z+=r;continue}A=this._textLines[at],fr=r/this.lineHeight,o=this._getLineLeftOffset(at),Xt=0,fe=0,O=this.getValueOfPropertyAt(at,0,e),We=this.getValueOfPropertyAt(at,0,"fill"),mt=Z+fr*(1-this._fontSizeFraction),n=this.getHeightOfChar(at,0),d=this.getValueOfPropertyAt(at,0,"deltaY");for(var ht=0,Et=A.length;ht<Et;ht++)if(Ue=this.__charBounds[at][ht],or=this.getValueOfPropertyAt(at,ht,e),tr=this.getValueOfPropertyAt(at,ht,"fill"),u=this.getHeightOfChar(at,ht),b=this.getValueOfPropertyAt(at,ht,"deltaY"),vr&&or&&tr)i.save(),i.fillStyle=We,i.translate(Ue.renderLeft,Ue.renderTop),i.rotate(Ue.angle),i.fillRect(-Ue.kernedWidth/2,Lr*u+b,Ue.kernedWidth,this.fontSize/15),i.restore();else if((or!==O||tr!==We||u!==n||b!==d)&&fe>0){var te=Y+o+Xt;this.direction==="rtl"&&(te=this.width-te-fe),O&&We&&(i.fillStyle=We,i.fillRect(te,mt+Lr*n+d,fe,this.fontSize/15)),Xt=Ue.left,fe=Ue.width,O=or,We=tr,n=u,d=b}else fe+=Ue.kernedWidth;var te=Y+o+Xt;this.direction==="rtl"&&(te=this.width-te-fe),i.fillStyle=tr,or&&tr&&i.fillRect(te,mt+Lr*n+d,fe-Or,this.fontSize/15),Z+=r}this._removeShadow(i)}},_getFontDeclaration:function(i,e){var r=i||this,n=this.fontFamily,u=a.Text.genericFonts.indexOf(n.toLowerCase())>-1,o=n===void 0||n.indexOf("'")>-1||n.indexOf(",")>-1||n.indexOf('"')>-1||u?r.fontFamily:'"'+r.fontFamily+'"';return[a.isLikelyNode?r.fontWeight:r.fontStyle,a.isLikelyNode?r.fontStyle:r.fontWeight,e?this.CACHE_FONT_SIZE+"px":r.fontSize+"px",o].join(" ")},render:function(i){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",i))},_splitTextIntoLines:function(i){for(var e=i.split(this._reNewline),r=new Array(e.length),n=[`
`],u=[],o=0;o<e.length;o++)r[o]=a.util.string.graphemeSplit(e[o]),u=u.concat(r[o],n);return u.pop(),{_unwrappedLines:r,lines:e,graphemeText:u,graphemeLines:r}},toObject:function(i){var e=h.concat(i),r=this.callSuper("toObject",e);return r.styles=f(this.styles,!0),r.path&&(r.path=this.path.toObject()),r},set:function(i,e){this.callSuper("set",i,e);var r=!1,n=!1;if(typeof i=="object")for(var u in i)u==="path"&&this.setPathInfo(),r=r||this._dimensionAffectingProps.indexOf(u)!==-1,n=n||u==="path";else r=this._dimensionAffectingProps.indexOf(i)!==-1,n=i==="path";return n&&this.setPathInfo(),r&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),a.Text.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),a.Text.DEFAULT_SVG_FONT_SIZE=16,a.Text.fromElement=function(l,i,e){if(!l)return i(null);var r=a.parseAttributes(l,a.Text.ATTRIBUTE_NAMES),n=r.textAnchor||"left";if(e=a.util.object.extend(e?f(e):{},r),e.top=e.top||0,e.left=e.left||0,r.textDecoration){var u=r.textDecoration;u.indexOf("underline")!==-1&&(e.underline=!0),u.indexOf("overline")!==-1&&(e.overline=!0),u.indexOf("line-through")!==-1&&(e.linethrough=!0),delete e.textDecoration}"dx"in r&&(e.left+=r.dx),"dy"in r&&(e.top+=r.dy),"fontSize"in e||(e.fontSize=a.Text.DEFAULT_SVG_FONT_SIZE);var o="";"textContent"in l?o=l.textContent:"firstChild"in l&&l.firstChild!==null&&"data"in l.firstChild&&l.firstChild.data!==null&&(o=l.firstChild.data),o=o.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var d=e.strokeWidth;e.strokeWidth=0;var b=new a.Text(o,e),A=b.getScaledHeight()/b.height,O=(b.height+b.strokeWidth)*b.lineHeight-b.height,Y=O*A,Z=b.getScaledHeight()+Y,mt=0;n==="center"&&(mt=b.getScaledWidth()/2),n==="right"&&(mt=b.getScaledWidth()),b.set({left:b.left-mt,top:b.top-(Z-b.fontSize*(.07+b._fontSizeFraction))/b.lineHeight,strokeWidth:typeof d!="undefined"?d:1}),i(b)},a.Text.fromObject=function(l,i){var e=f(l),r=l.path;return delete e.path,a.Object._fromObject("Text",e,function(n){r?a.Object._fromObject("Path",r,function(u){n.set("path",u),i(n)},"path"):i(n)},"text")},a.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],a.util.createAccessors&&a.util.createAccessors(a.Text)}(gr),function(){P.util.object.extend(P.Text.prototype,{isEmptyStyles:function(a){if(!this.styles||typeof a!="undefined"&&!this.styles[a])return!0;var f=typeof a=="undefined"?this.styles:{line:this.styles[a]};for(var h in f)for(var l in f[h])for(var i in f[h][l])return!1;return!0},styleHas:function(a,f){if(!this.styles||!a||a===""||typeof f!="undefined"&&!this.styles[f])return!1;var h=typeof f=="undefined"?this.styles:{0:this.styles[f]};for(var l in h)for(var i in h[l])if(typeof h[l][i][a]!="undefined")return!0;return!1},cleanStyle:function(a){if(!this.styles||!a||a==="")return!1;var f=this.styles,h=0,l,i,e=!0,r=0,n;for(var u in f){l=0;for(var o in f[u]){var n=f[u][o],d=n.hasOwnProperty(a);h++,d?(i?n[a]!==i&&(e=!1):i=n[a],n[a]===this[a]&&delete n[a]):e=!1,Object.keys(n).length!==0?l++:delete f[u][o]}l===0&&delete f[u]}for(var b=0;b<this._textLines.length;b++)r+=this._textLines[b].length;e&&h===r&&(this[a]=i,this.removeStyle(a))},removeStyle:function(a){if(!(!this.styles||!a||a==="")){var f=this.styles,h,l,i;for(l in f){h=f[l];for(i in h)delete h[i][a],Object.keys(h[i]).length===0&&delete h[i];Object.keys(h).length===0&&delete f[l]}}},_extendStyles:function(a,f){var h=this.get2DCursorLocation(a);this._getLineStyle(h.lineIndex)||this._setLineStyle(h.lineIndex),this._getStyleDeclaration(h.lineIndex,h.charIndex)||this._setStyleDeclaration(h.lineIndex,h.charIndex,{}),P.util.object.extend(this._getStyleDeclaration(h.lineIndex,h.charIndex),f)},get2DCursorLocation:function(a,f){typeof a=="undefined"&&(a=this.selectionStart);for(var h=f?this._unwrappedTextLines:this._textLines,l=h.length,i=0;i<l;i++){if(a<=h[i].length)return{lineIndex:i,charIndex:a};a-=h[i].length+this.missingNewlineOffset(i)}return{lineIndex:i-1,charIndex:h[i-1].length<a?h[i-1].length:a}},getSelectionStyles:function(a,f,h){typeof a=="undefined"&&(a=this.selectionStart||0),typeof f=="undefined"&&(f=this.selectionEnd||a);for(var l=[],i=a;i<f;i++)l.push(this.getStyleAtPosition(i,h));return l},getStyleAtPosition:function(a,f){var h=this.get2DCursorLocation(a),l=f?this.getCompleteStyleDeclaration(h.lineIndex,h.charIndex):this._getStyleDeclaration(h.lineIndex,h.charIndex);return l||{}},setSelectionStyles:function(a,f,h){typeof f=="undefined"&&(f=this.selectionStart||0),typeof h=="undefined"&&(h=this.selectionEnd||f);for(var l=f;l<h;l++)this._extendStyles(l,a);return this._forceClearCache=!0,this},_getStyleDeclaration:function(a,f){var h=this.styles&&this.styles[a];return h?h[f]:null},getCompleteStyleDeclaration:function(a,f){for(var h=this._getStyleDeclaration(a,f)||{},l={},i,e=0;e<this._styleProperties.length;e++)i=this._styleProperties[e],l[i]=typeof h[i]=="undefined"?this[i]:h[i];return l},_setStyleDeclaration:function(a,f,h){this.styles[a][f]=h},_deleteStyleDeclaration:function(a,f){delete this.styles[a][f]},_getLineStyle:function(a){return!!this.styles[a]},_setLineStyle:function(a){this.styles[a]={}},_deleteLineStyle:function(a){delete this.styles[a]}})}(),function(){function L(a){a.textDecoration&&(a.textDecoration.indexOf("underline")>-1&&(a.underline=!0),a.textDecoration.indexOf("line-through")>-1&&(a.linethrough=!0),a.textDecoration.indexOf("overline")>-1&&(a.overline=!0),delete a.textDecoration)}P.IText=P.util.createClass(P.Text,P.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(f,h){this.callSuper("initialize",f,h),this.initBehavior()},setSelectionStart:function(f){f=Math.max(f,0),this._updateAndFire("selectionStart",f)},setSelectionEnd:function(f){f=Math.min(f,this.text.length),this._updateAndFire("selectionEnd",f)},_updateAndFire:function(f,h){this[f]!==h&&(this._fireSelectionChanged(),this[f]=h),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(f){this.clearContextTop(),this.callSuper("render",f),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(f){this.callSuper("_render",f)},clearContextTop:function(f){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this.canvas.contextTop,l=this.canvas.viewportTransform;h.save(),h.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this.transform(h),this._clearTextArea(h),f||h.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var f=this._getCursorBoundaries(),h=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(f,h):this.renderSelection(f,h),h.restore()}},_clearTextArea:function(f){var h=this.width+4,l=this.height+4;f.clearRect(-h/2,-l/2,h,l)},_getCursorBoundaries:function(f){typeof f=="undefined"&&(f=this.selectionStart);var h=this._getLeftOffset(),l=this._getTopOffset(),i=this._getCursorBoundariesOffsets(f);return{left:h,top:l,leftOffset:i.left,topOffset:i.top}},_getCursorBoundariesOffsets:function(f){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var h,l,i,e=0,r=0,n,u=this.get2DCursorLocation(f);i=u.charIndex,l=u.lineIndex;for(var o=0;o<l;o++)e+=this.getHeightOfLine(o);h=this._getLineLeftOffset(l);var d=this.__charBounds[l][i];return d&&(r=d.left),this.charSpacing!==0&&i===this._textLines[l].length&&(r-=this._getWidthOfCharSpacing()),n={top:e,left:h+(r>0?r:0)},this.direction==="rtl"&&(n.left*=-1),this.cursorOffsetCache=n,this.cursorOffsetCache},renderCursor:function(f,h){var l=this.get2DCursorLocation(),i=l.lineIndex,e=l.charIndex>0?l.charIndex-1:0,r=this.getValueOfPropertyAt(i,e,"fontSize"),n=this.scaleX*this.canvas.getZoom(),u=this.cursorWidth/n,o=f.topOffset,d=this.getValueOfPropertyAt(i,e,"deltaY");o+=(1-this._fontSizeFraction)*this.getHeightOfLine(i)/this.lineHeight-r*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(f,h),h.fillStyle=this.cursorColor||this.getValueOfPropertyAt(i,e,"fill"),h.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,h.fillRect(f.left+f.leftOffset-u/2,o+f.top+d,u,r)},renderSelection:function(f,h){for(var l=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,i=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,e=this.textAlign.indexOf("justify")!==-1,r=this.get2DCursorLocation(l),n=this.get2DCursorLocation(i),u=r.lineIndex,o=n.lineIndex,d=r.charIndex<0?0:r.charIndex,b=n.charIndex<0?0:n.charIndex,A=u;A<=o;A++){var O=this._getLineLeftOffset(A)||0,Y=this.getHeightOfLine(A),Z=0,mt=0,Xt=0;if(A===u&&(mt=this.__charBounds[u][d].left),A>=u&&A<o)Xt=e&&!this.isEndOfWrapping(A)?this.width:this.getLineWidth(A)||5;else if(A===o)if(b===0)Xt=this.__charBounds[o][b].left;else{var fe=this._getWidthOfCharSpacing();Xt=this.__charBounds[o][b-1].left+this.__charBounds[o][b-1].width-fe}Z=Y,(this.lineHeight<1||A===o&&this.lineHeight>1)&&(Y/=this.lineHeight);var Ue=f.left+O+mt,or=Xt-mt,fr=Y,tr=0;this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",fr=1,tr=Y):h.fillStyle=this.selectionColor,this.direction==="rtl"&&(Ue=this.width-Ue-or),h.fillRect(Ue,f.top+f.topOffset+tr,or,fr),f.topOffset+=Z}},getCurrentCharFontSize:function(){var f=this._getCurrentCharIndex();return this.getValueOfPropertyAt(f.l,f.c,"fontSize")},getCurrentCharColor:function(){var f=this._getCurrentCharIndex();return this.getValueOfPropertyAt(f.l,f.c,"fill")},_getCurrentCharIndex:function(){var f=this.get2DCursorLocation(this.selectionStart,!0),h=f.charIndex>0?f.charIndex-1:0;return{l:f.lineIndex,c:h}}}),P.IText.fromObject=function(a,f){if(L(a),a.styles)for(var h in a.styles)for(var l in a.styles[h])L(a.styles[h][l]);P.Object._fromObject("IText",a,f,"text")}}(),function(){var L=P.util.object.clone;P.util.object.extend(P.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var f=this;this.on("added",function(){var h=f.canvas;h&&(h._hasITextHandlers||(h._hasITextHandlers=!0,f._initCanvasHandlers(h)),h._iTextInstances=h._iTextInstances||[],h._iTextInstances.push(f))})},initRemovedHandler:function(){var f=this;this.on("removed",function(){var h=f.canvas;h&&(h._iTextInstances=h._iTextInstances||[],P.util.removeFromArray(h._iTextInstances,f),h._iTextInstances.length===0&&(h._hasITextHandlers=!1,f._removeCanvasHandlers(h)))})},_initCanvasHandlers:function(f){f._mouseUpITextHandler=function(){f._iTextInstances&&f._iTextInstances.forEach(function(h){h.__isMousedown=!1})},f.on("mouse:up",f._mouseUpITextHandler)},_removeCanvasHandlers:function(f){f.off("mouse:up",f._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(f,h,l,i){var e;return e={isAborted:!1,abort:function(){this.isAborted=!0}},f.animate("_currentCursorOpacity",h,{duration:l,onComplete:function(){e.isAborted||f[i]()},onChange:function(){f.canvas&&f.selectionStart===f.selectionEnd&&f.renderCursorOrSelection()},abort:function(){return e.isAborted}}),e},_onTickComplete:function(){var f=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){f._currentTickCompleteState=f._animateCursor(f,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(f){var h=this,l=f?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){h._tick()},l)},abortCursorAnimation:function(){var f=this._currentTickState||this._currentTickCompleteState,h=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,f&&h&&h.clearContext(h.contextTop||h.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(f){var h=0,l=f-1;if(this._reSpace.test(this._text[l]))for(;this._reSpace.test(this._text[l]);)h++,l--;for(;/\S/.test(this._text[l])&&l>-1;)h++,l--;return f-h},findWordBoundaryRight:function(f){var h=0,l=f;if(this._reSpace.test(this._text[l]))for(;this._reSpace.test(this._text[l]);)h++,l++;for(;/\S/.test(this._text[l])&&l<this._text.length;)h++,l++;return f+h},findLineBoundaryLeft:function(f){for(var h=0,l=f-1;!/\n/.test(this._text[l])&&l>-1;)h++,l--;return f-h},findLineBoundaryRight:function(f){for(var h=0,l=f;!/\n/.test(this._text[l])&&l<this._text.length;)h++,l++;return f+h},searchWordBoundary:function(f,h){for(var l=this._text,i=this._reSpace.test(l[f])?f-1:f,e=l[i],r=P.reNonWord;!r.test(e)&&i>0&&i<l.length;)i+=h,e=l[i];return r.test(e)&&(i+=h===1?0:1),i},selectWord:function(f){f=f||this.selectionStart;var h=this.searchWordBoundary(f,-1),l=this.searchWordBoundary(f,1);this.selectionStart=h,this.selectionEnd=l,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(f){f=f||this.selectionStart;var h=this.findLineBoundaryLeft(f),l=this.findLineBoundaryRight(f);return this.selectionStart=h,this.selectionEnd=l,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(f){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(f),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(f){f._iTextInstances&&f._iTextInstances.forEach(function(h){h.selected=!1,h.isEditing&&h.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(f){if(!(!this.__isMousedown||!this.isEditing)){var h=this.getSelectionStartFromPointer(f.e),l=this.selectionStart,i=this.selectionEnd;(h!==this.__selectionStartOnMouseDown||l===i)&&(l===h||i===h)||(h>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=h):(this.selectionStart=h,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==l||this.selectionEnd!==i)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(f,h,l){var i=l.slice(0,f),e=P.util.string.graphemeSplit(i).length;if(f===h)return{selectionStart:e,selectionEnd:e};var r=l.slice(f,h),n=P.util.string.graphemeSplit(r).length;return{selectionStart:e,selectionEnd:e+n}},fromGraphemeToStringSelection:function(f,h,l){var i=l.slice(0,f),e=i.join("").length;if(f===h)return{selectionStart:e,selectionEnd:e};var r=l.slice(f,h),n=r.join("").length;return{selectionStart:e,selectionEnd:e+n}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var f=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=f.selectionStart,this.hiddenTextarea.selectionEnd=f.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(!!this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var f=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=f.selectionEnd,this.inCompositionMode||(this.selectionStart=f.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var f=this._calcTextareaPosition();this.hiddenTextarea.style.left=f.left,this.hiddenTextarea.style.top=f.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var f=this.inCompositionMode?this.compositionStart:this.selectionStart,h=this._getCursorBoundaries(f),l=this.get2DCursorLocation(f),i=l.lineIndex,e=l.charIndex,r=this.getValueOfPropertyAt(i,e,"fontSize")*this.lineHeight,n=h.leftOffset,u=this.calcTransformMatrix(),o={x:h.left+n,y:h.top+h.topOffset+r},d=this.canvas.getRetinaScaling(),b=this.canvas.upperCanvasEl,A=b.width/d,O=b.height/d,Y=A-r,Z=O-r,mt=b.clientWidth/A,Xt=b.clientHeight/O;return o=P.util.transformPoint(o,u),o=P.util.transformPoint(o,this.canvas.viewportTransform),o.x*=mt,o.y*=Xt,o.x<0&&(o.x=0),o.x>Y&&(o.x=Y),o.y<0&&(o.y=0),o.y>Z&&(o.y=Z),o.x+=this.canvas._offset.left,o.y+=this.canvas._offset.top,{left:o.x+"px",top:o.y+"px",fontSize:r+"px",charHeight:r}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var f=this._textBeforeEdit!==this.text,h=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,h&&(h.blur&&h.blur(),h.parentNode&&h.parentNode.removeChild(h)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),f&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),f&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var f in this.styles)this._textLines[f]||delete this.styles[f]},removeStyleFromTo:function(f,h){var l=this.get2DCursorLocation(f,!0),i=this.get2DCursorLocation(h,!0),e=l.lineIndex,r=l.charIndex,n=i.lineIndex,u=i.charIndex,o,d;if(e!==n){if(this.styles[e])for(o=r;o<this._unwrappedTextLines[e].length;o++)delete this.styles[e][o];if(this.styles[n])for(o=u;o<this._unwrappedTextLines[n].length;o++)d=this.styles[n][o],d&&(this.styles[e]||(this.styles[e]={}),this.styles[e][r+o-u]=d);for(o=e+1;o<=n;o++)delete this.styles[o];this.shiftLineStyles(n,e-n)}else if(this.styles[e]){d=this.styles[e];var b=u-r,A,O;for(o=r;o<u;o++)delete d[o];for(O in this.styles[e])A=parseInt(O,10),A>=u&&(d[A-b]=d[O],delete d[O])}},shiftLineStyles:function(f,h){var l=L(this.styles);for(var i in this.styles){var e=parseInt(i,10);e>f&&(this.styles[e+h]=l[e],l[e-h]||delete this.styles[e])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(f,h,l,i){var e,r={},n=!1,u=this._unwrappedTextLines[f].length===h;l||(l=1),this.shiftLineStyles(f,l),this.styles[f]&&(e=this.styles[f][h===0?h:h-1]);for(var o in this.styles[f]){var d=parseInt(o,10);d>=h&&(n=!0,r[d-h]=this.styles[f][o],u&&h===0||delete this.styles[f][o])}var b=!1;for(n&&!u&&(this.styles[f+l]=r,b=!0),b&&l--;l>0;)i&&i[l-1]?this.styles[f+l]={0:L(i[l-1])}:e?this.styles[f+l]={0:L(e)}:delete this.styles[f+l],l--;this._forceClearCache=!0},insertCharStyleObject:function(f,h,l,i){this.styles||(this.styles={});var e=this.styles[f],r=e?L(e):{};l||(l=1);for(var n in r){var u=parseInt(n,10);u>=h&&(e[u+l]=r[u],r[u-l]||delete e[u])}if(this._forceClearCache=!0,i){for(;l--;)!Object.keys(i[l]).length||(this.styles[f]||(this.styles[f]={}),this.styles[f][h+l]=L(i[l]));return}if(!!e)for(var o=e[h?h-1:1];o&&l--;)this.styles[f][h+l]=L(o)},insertNewStyleBlock:function(f,h,l){for(var i=this.get2DCursorLocation(h,!0),e=[0],r=0,n=0;n<f.length;n++)f[n]===`
`?(r++,e[r]=0):e[r]++;e[0]>0&&(this.insertCharStyleObject(i.lineIndex,i.charIndex,e[0],l),l=l&&l.slice(e[0]+1)),r&&this.insertNewlineStyleObject(i.lineIndex,i.charIndex+e[0],r);for(var n=1;n<r;n++)e[n]>0?this.insertCharStyleObject(i.lineIndex+n,0,e[n],l):l&&(this.styles[i.lineIndex+n][0]=l[0]),l=l&&l.slice(e[n]+1);e[n]>0&&this.insertCharStyleObject(i.lineIndex+n,0,e[n],l)},setSelectionStartEndWithShift:function(f,h,l){l<=f?(h===f?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=f),this.selectionStart=l):l>f&&l<h?this._selectionDirection==="right"?this.selectionEnd=l:this.selectionStart=l:(h===f?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=h),this.selectionEnd=l)},setSelectionInBoundaries:function(){var f=this.text.length;this.selectionStart>f?this.selectionStart=f:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>f?this.selectionEnd=f:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),P.util.object.extend(P.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(a){if(!!this.canvas){this.__newClickTime=+new Date;var f=a.pointer;this.isTripleClick(f)&&(this.fire("tripleclick",a),this._stopEvent(a.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=f,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(a){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===a.x&&this.__lastPointer.y===a.y},_stopEvent:function(a){a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(a){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(a.e))},tripleClickHandler:function(a){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(a.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(a){!this.canvas||!this.editable||a.e.button&&a.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(a.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(a){!this.canvas||!this.editable||a.e.button&&a.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(a){if(this.__isMousedown=!1,!(!this.editable||this.group||a.transform&&a.transform.actionPerformed||a.e.button&&a.e.button!==1)){if(this.canvas){var f=this.canvas._activeObject;if(f&&f!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(a.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(a){var f=this.getSelectionStartFromPointer(a),h=this.selectionStart,l=this.selectionEnd;a.shiftKey?this.setSelectionStartEndWithShift(h,l,f):(this.selectionStart=f,this.selectionEnd=f),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(a){for(var f=this.getLocalPointer(a),h=0,l=0,i=0,e=0,r=0,n,u,o=0,d=this._textLines.length;o<d&&i<=f.y;o++)i+=this.getHeightOfLine(o)*this.scaleY,r=o,o>0&&(e+=this._textLines[o-1].length+this.missingNewlineOffset(o-1));n=this._getLineLeftOffset(r),l=n*this.scaleX,u=this._textLines[r],this.direction==="rtl"&&(f.x=this.width*this.scaleX-f.x+l);for(var b=0,A=u.length;b<A&&(h=l,l+=this.__charBounds[r][b].kernedWidth*this.scaleX,l<=f.x);b++)e++;return this._getNewSelectionStartFromOffset(f,h,l,e,A)},_getNewSelectionStartFromOffset:function(a,f,h,l,i){var e=a.x-f,r=h-a.x,n=r>e||r<0?0:1,u=l+n;return this.flipX&&(u=i-u),u>this._text.length&&(u=this._text.length),u}}),P.util.object.extend(P.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=P.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var a=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+a.top+"; left: "+a.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uFF70top: "+a.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):P.document.body.appendChild(this.hiddenTextarea),P.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),P.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),P.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),P.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),P.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),P.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),P.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),P.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),P.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(P.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(a){if(!!this.isEditing){var f=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(a.keyCode in f)this[f[a.keyCode]](a);else if(a.keyCode in this.ctrlKeysMapDown&&(a.ctrlKey||a.metaKey))this[this.ctrlKeysMapDown[a.keyCode]](a);else return;a.stopImmediatePropagation(),a.preventDefault(),a.keyCode>=33&&a.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(a){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(a.keyCode in this.ctrlKeysMapUp&&(a.ctrlKey||a.metaKey))this[this.ctrlKeysMapUp[a.keyCode]](a);else return;a.stopImmediatePropagation(),a.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(a){var f=this.fromPaste;if(this.fromPaste=!1,a&&a.stopPropagation(),!!this.isEditing){var h=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,l=this._text.length,i=h.length,e,r,n=i-l,u=this.selectionStart,o=this.selectionEnd,d=u!==o,b,A,O;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var Y=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),Z=u>Y.selectionStart;d?(e=this._text.slice(u,o),n+=o-u):i<l&&(Z?e=this._text.slice(o+n,o):e=this._text.slice(u,u-n)),r=h.slice(Y.selectionEnd-n,Y.selectionEnd),e&&e.length&&(r.length&&(b=this.getSelectionStyles(u,u+1,!1),b=r.map(function(){return b[0]})),d?(A=u,O=o):Z?(A=o-e.length,O=o):(A=o,O=o+e.length),this.removeStyleFromTo(A,O)),r.length&&(f&&r.join("")===P.copiedText&&!P.disableStyleCopyPaste&&(b=P.copiedTextStyle),this.insertNewStyleBlock(r,u,b)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(a){this.compositionStart=a.target.selectionStart,this.compositionEnd=a.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(P.copiedText=this.getSelectedText(),P.disableStyleCopyPaste?P.copiedTextStyle=null:P.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(a){return a&&a.clipboardData||P.window.clipboardData},_getWidthBeforeCursor:function(a,f){var h=this._getLineLeftOffset(a),l;return f>0&&(l=this.__charBounds[a][f-1],h+=l.left+l.width),h},getDownCursorOffset:function(a,f){var h=this._getSelectionForOffset(a,f),l=this.get2DCursorLocation(h),i=l.lineIndex;if(i===this._textLines.length-1||a.metaKey||a.keyCode===34)return this._text.length-h;var e=l.charIndex,r=this._getWidthBeforeCursor(i,e),n=this._getIndexOnLine(i+1,r),u=this._textLines[i].slice(e);return u.length+n+1+this.missingNewlineOffset(i)},_getSelectionForOffset:function(a,f){return a.shiftKey&&this.selectionStart!==this.selectionEnd&&f?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(a,f){var h=this._getSelectionForOffset(a,f),l=this.get2DCursorLocation(h),i=l.lineIndex;if(i===0||a.metaKey||a.keyCode===33)return-h;var e=l.charIndex,r=this._getWidthBeforeCursor(i,e),n=this._getIndexOnLine(i-1,r),u=this._textLines[i].slice(0,e),o=this.missingNewlineOffset(i-1);return-this._textLines[i-1].length+n-u.length+(1-o)},_getIndexOnLine:function(a,f){for(var h=this._textLines[a],l=this._getLineLeftOffset(a),i=l,e=0,r,n,u=0,o=h.length;u<o;u++)if(r=this.__charBounds[a][u].width,i+=r,i>f){n=!0;var d=i-r,b=i,A=Math.abs(d-f),O=Math.abs(b-f);e=O<A?u:u-1;break}return n||(e=h.length-1),e},moveCursorDown:function(a){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",a)},moveCursorUp:function(a){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",a)},_moveCursorUpOrDown:function(a,f){var h="get"+a+"CursorOffset",l=this[h](f,this._selectionDirection==="right");f.shiftKey?this.moveCursorWithShift(l):this.moveCursorWithoutShift(l),l!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(a){var f=this._selectionDirection==="left"?this.selectionStart+a:this.selectionEnd+a;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,f),a!==0},moveCursorWithoutShift:function(a){return a<0?(this.selectionStart+=a,this.selectionEnd=this.selectionStart):(this.selectionEnd+=a,this.selectionStart=this.selectionEnd),a!==0},moveCursorLeft:function(a){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",a)},_move:function(a,f,h){var l;if(a.altKey)l=this["findWordBoundary"+h](this[f]);else if(a.metaKey||a.keyCode===35||a.keyCode===36)l=this["findLineBoundary"+h](this[f]);else return this[f]+=h==="Left"?-1:1,!0;if(typeof l!==void 0&&this[f]!==l)return this[f]=l,!0},_moveLeft:function(a,f){return this._move(a,f,"Left")},_moveRight:function(a,f){return this._move(a,f,"Right")},moveCursorLeftWithoutShift:function(a){var f=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(f=this._moveLeft(a,"selectionStart")),this.selectionEnd=this.selectionStart,f},moveCursorLeftWithShift:function(a){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(a,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(a,"selectionStart")},moveCursorRight:function(a){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",a)},_moveCursorLeftOrRight:function(a,f){var h="moveCursor"+a+"With";this._currentCursorOpacity=1,f.shiftKey?h+="Shift":h+="outShift",this[h](f)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(a){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(a,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(a,"selectionEnd")},moveCursorRightWithoutShift:function(a){var f=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(f=this._moveRight(a,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,f},removeChars:function(a,f){typeof f=="undefined"&&(f=a+1),this.removeStyleFromTo(a,f),this._text.splice(a,f-a),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(a,f,h,l){typeof l=="undefined"&&(l=h),l>h&&this.removeStyleFromTo(h,l);var i=P.util.string.graphemeSplit(a);this.insertNewStyleBlock(i,h,f),this._text=[].concat(this._text.slice(0,h),i,this._text.slice(l)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var L=P.util.toFixed,a=/  +/g;P.util.object.extend(P.Text.prototype,{_toSVG:function(){var h=this._getSVGLeftTopOffsets(),l=this._getSVGTextAndBg(h.textTop,h.textLeft);return this._wrapSVGTextAndBg(l)},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(h){var l=!0,i=this.getSvgTextDecoration(this);return[h.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",i?'text-decoration="'+i+'" ':"",'style="',this.getSvgStyles(l),'"',this.addPaintOrder()," >",h.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(h,l){var i=[],e=[],r=h,n;this._setSVGBg(e);for(var u=0,o=this._textLines.length;u<o;u++)n=this._getLineLeftOffset(u),(this.textBackgroundColor||this.styleHas("textBackgroundColor",u))&&this._setSVGTextLineBg(e,u,l+n,r),this._setSVGTextLineText(i,u,l+n,r),r+=this.getHeightOfLine(u);return{textSpans:i,textBgRects:e}},_createTextCharSpan:function(h,l,i,e){var r=h!==h.trim()||h.match(a),n=this.getSvgSpanStyles(l,r),u=n?'style="'+n+'"':"",o=l.deltaY,d="",b=P.Object.NUM_FRACTION_DIGITS;return o&&(d=' dy="'+L(o,b)+'" '),['<tspan x="',L(i,b),'" y="',L(e,b),'" ',d,u,">",P.util.string.escapeXml(h),"</tspan>"].join("")},_setSVGTextLineText:function(h,l,i,e){var r=this.getHeightOfLine(l),n=this.textAlign.indexOf("justify")!==-1,u,o,d="",b,A,O=0,Y=this._textLines[l],Z;e+=r*(1-this._fontSizeFraction)/this.lineHeight;for(var mt=0,Xt=Y.length-1;mt<=Xt;mt++)Z=mt===Xt||this.charSpacing,d+=Y[mt],b=this.__charBounds[l][mt],O===0?(i+=b.kernedWidth-b.width,O+=b.width):O+=b.kernedWidth,n&&!Z&&this._reSpaceAndTab.test(Y[mt])&&(Z=!0),Z||(u=u||this.getCompleteStyleDeclaration(l,mt),o=this.getCompleteStyleDeclaration(l,mt+1),Z=this._hasStyleChangedForSvg(u,o)),Z&&(A=this._getStyleDeclaration(l,mt)||{},h.push(this._createTextCharSpan(d,A,i,e)),d="",u=o,i+=O,O=0)},_pushTextBgRect:function(h,l,i,e,r,n){var u=P.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(l),' x="',L(i,u),'" y="',L(e,u),'" width="',L(r,u),'" height="',L(n,u),`"></rect>
`)},_setSVGTextLineBg:function(h,l,i,e){for(var r=this._textLines[l],n=this.getHeightOfLine(l)/this.lineHeight,u=0,o=0,d,b,A=this.getValueOfPropertyAt(l,0,"textBackgroundColor"),O=0,Y=r.length;O<Y;O++)d=this.__charBounds[l][O],b=this.getValueOfPropertyAt(l,O,"textBackgroundColor"),b!==A?(A&&this._pushTextBgRect(h,A,i+o,e,u,n),o=d.left,u=d.width,A=b):u+=d.kernedWidth;b&&this._pushTextBgRect(h,b,i+o,e,u,n)},_getFillAttributes:function(h){var l=h&&typeof h=="string"?new P.Color(h):"";return!l||!l.getSource()||l.getAlpha()===1?'fill="'+h+'"':'opacity="'+l.getAlpha()+'" fill="'+l.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(h){for(var l=0,i=0,e=0;e<h;e++)l+=this.getHeightOfLine(e);return i=this.getHeightOfLine(e),{lineTop:l,offset:(this._fontSizeMult-this._fontSizeFraction)*i/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(h){var l=P.Object.prototype.getSvgStyles.call(this,h);return l+" white-space: pre;"}})}(),function(L){"use strict";var a=L.fabric||(L.fabric={});a.Textbox=a.util.createClass(a.IText,a.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:a.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(h){for(var l=0,i=0,e=0,r={},n=0;n<h.graphemeLines.length;n++)h.graphemeText[e]===`
`&&n>0?(i=0,e++,l++):!this.splitByGrapheme&&this._reSpaceAndTab.test(h.graphemeText[e])&&n>0&&(i++,e++),r[n]={line:l,offset:i},e+=h.graphemeLines[n].length,i+=h.graphemeLines[n].length;return r},styleHas:function(h,l){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[l];i&&(l=i.line)}return a.Text.prototype.styleHas.call(this,h,l)},isEmptyStyles:function(h){if(!this.styles)return!0;var l=0,i=h+1,e,r,n=!1,u=this._styleMap[h],o=this._styleMap[h+1];u&&(h=u.line,l=u.offset),o&&(i=o.line,n=i===h,e=o.offset),r=typeof h=="undefined"?this.styles:{line:this.styles[h]};for(var d in r)for(var b in r[d])if(b>=l&&(!n||b<e))for(var A in r[d][b])return!1;return!0},_getStyleDeclaration:function(h,l){if(this._styleMap&&!this.isWrapping){var i=this._styleMap[h];if(!i)return null;h=i.line,l=i.offset+l}return this.callSuper("_getStyleDeclaration",h,l)},_setStyleDeclaration:function(h,l,i){var e=this._styleMap[h];h=e.line,l=e.offset+l,this.styles[h][l]=i},_deleteStyleDeclaration:function(h,l){var i=this._styleMap[h];h=i.line,l=i.offset+l,delete this.styles[h][l]},_getLineStyle:function(h){var l=this._styleMap[h];return!!this.styles[l.line]},_setLineStyle:function(h){var l=this._styleMap[h];this.styles[l.line]={}},_wrapText:function(h,l){var i=[],e;for(this.isWrapping=!0,e=0;e<h.length;e++)i=i.concat(this._wrapLine(h[e],e,l));return this.isWrapping=!1,i},_measureWord:function(h,l,i){var e=0,r,n=!0;i=i||0;for(var u=0,o=h.length;u<o;u++){var d=this._getGraphemeBox(h[u],l,u+i,r,n);e+=d.kernedWidth,r=h[u]}return e},_wrapLine:function(h,l,i,e){var r=0,n=this.splitByGrapheme,u=[],o=[],d=n?a.util.string.graphemeSplit(h):h.split(this._wordJoiners),b="",A=0,O=n?"":" ",Y=0,Z=0,mt=0,Xt=!0,fe=this._getWidthOfCharSpacing(),e=e||0;d.length===0&&d.push([]),i-=e;for(var Ue=0;Ue<d.length;Ue++)b=n?d[Ue]:a.util.string.graphemeSplit(d[Ue]),Y=this._measureWord(b,l,A),A+=b.length,r+=Z+Y-fe,r>i&&!Xt?(u.push(o),o=[],r=Y,Xt=!0):r+=fe,!Xt&&!n&&o.push(O),o=o.concat(b),Z=n?0:this._measureWord([O],l,A),A++,Xt=!1,Y>mt&&(mt=Y);return Ue&&u.push(o),mt+e>this.dynamicMinWidth&&(this.dynamicMinWidth=mt-fe+e),u},isEndOfWrapping:function(h){return!this._styleMap[h+1]||this._styleMap[h+1].line!==this._styleMap[h].line},missingNewlineOffset:function(h){return this.splitByGrapheme?this.isEndOfWrapping(h)?1:0:1},_splitTextIntoLines:function(h){for(var l=a.Text.prototype._splitTextIntoLines.call(this,h),i=this._wrapText(l.lines,this.width),e=new Array(i.length),r=0;r<i.length;r++)e[r]=i[r].join("");return l.lines=e,l.graphemeLines=i,l},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var h={};for(var l in this._styleMap)this._textLines[l]&&(h[this._styleMap[l].line]=1);for(var l in this.styles)h[l]||delete this.styles[l]},toObject:function(h){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(h))}}),a.Textbox.fromObject=function(f,h){return a.Object._fromObject("Textbox",f,h,"text")}}(gr),function(){var L=P.controlsUtils,a=L.scaleSkewCursorStyleHandler,f=L.scaleCursorStyleHandler,h=L.scalingEqually,l=L.scalingYOrSkewingX,i=L.scalingXOrSkewingY,e=L.scaleOrSkewActionName,r=P.Object.prototype.controls;if(r.ml=new P.Control({x:-.5,y:0,cursorStyleHandler:a,actionHandler:i,getActionName:e}),r.mr=new P.Control({x:.5,y:0,cursorStyleHandler:a,actionHandler:i,getActionName:e}),r.mb=new P.Control({x:0,y:.5,cursorStyleHandler:a,actionHandler:l,getActionName:e}),r.mt=new P.Control({x:0,y:-.5,cursorStyleHandler:a,actionHandler:l,getActionName:e}),r.tl=new P.Control({x:-.5,y:-.5,cursorStyleHandler:f,actionHandler:h}),r.tr=new P.Control({x:.5,y:-.5,cursorStyleHandler:f,actionHandler:h}),r.bl=new P.Control({x:-.5,y:.5,cursorStyleHandler:f,actionHandler:h}),r.br=new P.Control({x:.5,y:.5,cursorStyleHandler:f,actionHandler:h}),r.mtr=new P.Control({x:0,y:-.5,actionHandler:L.rotationWithSnapping,cursorStyleHandler:L.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),P.Textbox){var n=P.Textbox.prototype.controls={};n.mtr=r.mtr,n.tr=r.tr,n.br=r.br,n.tl=r.tl,n.bl=r.bl,n.mt=r.mt,n.mb=r.mb,n.mr=new P.Control({x:.5,y:0,actionHandler:L.changeWidth,cursorStyleHandler:a,actionName:"resizing"}),n.ml=new P.Control({x:-.5,y:0,actionHandler:L.changeWidth,cursorStyleHandler:a,actionName:"resizing"})}}()}).call(this,Ae("HDXh").Buffer)},hPry:function(bi,gr,Ae){"use strict";bi.exports=Ae("cbZj")},i680:function(bi,gr,Ae){"use strict";(function(cr){Ae.d(gr,"a",function(){return Or}),Ae.d(gr,"b",function(){return at}),Ae.d(gr,"c",function(){return ve}),Ae.d(gr,"e",function(){return ht});var P=Ae("cDf5"),Ut=Ae.n(P),it=Ae("crp1");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.0 Built on 2021-12-21T09:44:51.866Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Holländer <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var Se=function(){return typeof window!="undefined"?window:typeof cr!="undefined"?cr:typeof self!="undefined"?self:this}();function Pe(){Se.console&&typeof Se.console.log=="function"&&Se.console.log.apply(Se.console,arguments)}var Tt={log:Pe,warn:function(p){Se.console&&(typeof Se.console.warn=="function"?Se.console.warn.apply(Se.console,arguments):Pe.call(null,arguments))},error:function(p){Se.console&&(typeof Se.console.error=="function"?Se.console.error.apply(Se.console,arguments):Pe(p))}};function L(C,p,v){var y=new XMLHttpRequest;y.open("GET",C),y.responseType="blob",y.onload=function(){i(y.response,p,v)},y.onerror=function(){Tt.error("could not download file")},y.send()}function a(C){var p=new XMLHttpRequest;p.open("HEAD",C,!1);try{p.send()}catch(v){}return p.status>=200&&p.status<=299}function f(C){try{C.dispatchEvent(new MouseEvent("click"))}catch(v){var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),C.dispatchEvent(p)}}var h,l,i=Se.saveAs||((typeof window=="undefined"?"undefined":Ut()(window))!=="object"||window!==Se?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(C,p,v){var y=Se.URL||Se.webkitURL,_=document.createElement("a");p=p||C.name||"download",_.download=p,_.rel="noopener",typeof C=="string"?(_.href=C,_.origin!==location.origin?a(_.href)?L(C,p,v):f(_,_.target="_blank"):f(_)):(_.href=y.createObjectURL(C),setTimeout(function(){y.revokeObjectURL(_.href)},4e4),setTimeout(function(){f(_)},0))}:"msSaveOrOpenBlob"in navigator?function(C,p,v){if(p=p||C.name||"download",typeof C=="string")if(a(C))L(C,p,v);else{var y=document.createElement("a");y.href=C,y.target="_blank",setTimeout(function(){f(y)})}else navigator.msSaveOrOpenBlob(function(_,w){return w===void 0?w={autoBom:!1}:Ut()(w)!=="object"&&(Tt.warn("Deprecated: Expected third argument to be a object"),w={autoBom:!w}),w.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(_.type)?new Blob([String.fromCharCode(65279),_],{type:_.type}):_}(C,v),p)}:function(C,p,v,y){if((y=y||open("","_blank"))&&(y.document.title=y.document.body.innerText="downloading..."),typeof C=="string")return L(C,p,v);var _=C.type==="application/octet-stream",w=/constructor/i.test(Se.HTMLElement)||Se.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||_&&w)&&(typeof FileReader=="undefined"?"undefined":Ut()(FileReader))==="object"){var D=new FileReader;D.onloadend=function(){var nt=D.result;nt=S?nt:nt.replace(/^data:[^;]*;/,"data:attachment/file;"),y?y.location.href=nt:location=nt,y=null},D.readAsDataURL(C)}else{var E=Se.URL||Se.webkitURL,W=E.createObjectURL(C);y?y.location=W:location.href=W,y=null,setTimeout(function(){E.revokeObjectURL(W)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function e(C){var p;C=C||"",this.ok=!1,C.charAt(0)=="#"&&(C=C.substr(1,6)),C={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[C=(C=C.replace(/ /g,"")).toLowerCase()]||C;for(var v=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(E){return[parseInt(E[1]),parseInt(E[2]),parseInt(E[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(E){return[parseInt(E[1],16),parseInt(E[2],16),parseInt(E[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(E){return[parseInt(E[1]+E[1],16),parseInt(E[2]+E[2],16),parseInt(E[3]+E[3],16)]}}],y=0;y<v.length;y++){var _=v[y].re,w=v[y].process,S=_.exec(C);S&&(p=w(S),this.r=p[0],this.g=p[1],this.b=p[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var D=this.r.toString(16),E=this.g.toString(16),W=this.b.toString(16);return D.length==1&&(D="0"+D),E.length==1&&(E="0"+E),W.length==1&&(W="0"+W),"#"+D+E+W}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function r(C,p){var v=C[0],y=C[1],_=C[2],w=C[3];v=u(v,y,_,w,p[0],7,-680876936),w=u(w,v,y,_,p[1],12,-389564586),_=u(_,w,v,y,p[2],17,606105819),y=u(y,_,w,v,p[3],22,-1044525330),v=u(v,y,_,w,p[4],7,-176418897),w=u(w,v,y,_,p[5],12,1200080426),_=u(_,w,v,y,p[6],17,-1473231341),y=u(y,_,w,v,p[7],22,-45705983),v=u(v,y,_,w,p[8],7,1770035416),w=u(w,v,y,_,p[9],12,-1958414417),_=u(_,w,v,y,p[10],17,-42063),y=u(y,_,w,v,p[11],22,-1990404162),v=u(v,y,_,w,p[12],7,1804603682),w=u(w,v,y,_,p[13],12,-40341101),_=u(_,w,v,y,p[14],17,-1502002290),v=o(v,y=u(y,_,w,v,p[15],22,1236535329),_,w,p[1],5,-165796510),w=o(w,v,y,_,p[6],9,-1069501632),_=o(_,w,v,y,p[11],14,643717713),y=o(y,_,w,v,p[0],20,-373897302),v=o(v,y,_,w,p[5],5,-701558691),w=o(w,v,y,_,p[10],9,38016083),_=o(_,w,v,y,p[15],14,-660478335),y=o(y,_,w,v,p[4],20,-405537848),v=o(v,y,_,w,p[9],5,568446438),w=o(w,v,y,_,p[14],9,-1019803690),_=o(_,w,v,y,p[3],14,-187363961),y=o(y,_,w,v,p[8],20,1163531501),v=o(v,y,_,w,p[13],5,-1444681467),w=o(w,v,y,_,p[2],9,-51403784),_=o(_,w,v,y,p[7],14,1735328473),v=d(v,y=o(y,_,w,v,p[12],20,-1926607734),_,w,p[5],4,-378558),w=d(w,v,y,_,p[8],11,-2022574463),_=d(_,w,v,y,p[11],16,1839030562),y=d(y,_,w,v,p[14],23,-35309556),v=d(v,y,_,w,p[1],4,-1530992060),w=d(w,v,y,_,p[4],11,1272893353),_=d(_,w,v,y,p[7],16,-155497632),y=d(y,_,w,v,p[10],23,-1094730640),v=d(v,y,_,w,p[13],4,681279174),w=d(w,v,y,_,p[0],11,-358537222),_=d(_,w,v,y,p[3],16,-722521979),y=d(y,_,w,v,p[6],23,76029189),v=d(v,y,_,w,p[9],4,-640364487),w=d(w,v,y,_,p[12],11,-421815835),_=d(_,w,v,y,p[15],16,530742520),v=b(v,y=d(y,_,w,v,p[2],23,-995338651),_,w,p[0],6,-198630844),w=b(w,v,y,_,p[7],10,1126891415),_=b(_,w,v,y,p[14],15,-1416354905),y=b(y,_,w,v,p[5],21,-57434055),v=b(v,y,_,w,p[12],6,1700485571),w=b(w,v,y,_,p[3],10,-1894986606),_=b(_,w,v,y,p[10],15,-1051523),y=b(y,_,w,v,p[1],21,-2054922799),v=b(v,y,_,w,p[8],6,1873313359),w=b(w,v,y,_,p[15],10,-30611744),_=b(_,w,v,y,p[6],15,-1560198380),y=b(y,_,w,v,p[13],21,1309151649),v=b(v,y,_,w,p[4],6,-145523070),w=b(w,v,y,_,p[11],10,-1120210379),_=b(_,w,v,y,p[2],15,718787259),y=b(y,_,w,v,p[9],21,-343485551),C[0]=Ue(v,C[0]),C[1]=Ue(y,C[1]),C[2]=Ue(_,C[2]),C[3]=Ue(w,C[3])}function n(C,p,v,y,_,w){return p=Ue(Ue(p,C),Ue(y,w)),Ue(p<<_|p>>>32-_,v)}function u(C,p,v,y,_,w,S){return n(p&v|~p&y,C,p,_,w,S)}function o(C,p,v,y,_,w,S){return n(p&y|v&~y,C,p,_,w,S)}function d(C,p,v,y,_,w,S){return n(p^v^y,C,p,_,w,S)}function b(C,p,v,y,_,w,S){return n(v^(p|~y),C,p,_,w,S)}function A(C){var p,v=C.length,y=[1732584193,-271733879,-1732584194,271733878];for(p=64;p<=C.length;p+=64)r(y,O(C.substring(p-64,p)));C=C.substring(p-64);var _=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(p=0;p<C.length;p++)_[p>>2]|=C.charCodeAt(p)<<(p%4<<3);if(_[p>>2]|=128<<(p%4<<3),p>55)for(r(y,_),p=0;p<16;p++)_[p]=0;return _[14]=8*v,r(y,_),y}function O(C){var p,v=[];for(p=0;p<64;p+=4)v[p>>2]=C.charCodeAt(p)+(C.charCodeAt(p+1)<<8)+(C.charCodeAt(p+2)<<16)+(C.charCodeAt(p+3)<<24);return v}h=Se.atob.bind(Se),l=Se.btoa.bind(Se);var Y="0123456789abcdef".split("");function Z(C){for(var p="",v=0;v<4;v++)p+=Y[C>>8*v+4&15]+Y[C>>8*v&15];return p}function mt(C){return String.fromCharCode((255&C)>>0,(65280&C)>>8,(16711680&C)>>16,(4278190080&C)>>24)}function Xt(C){return A(C).map(mt).join("")}var fe=function(C){for(var p=0;p<C.length;p++)C[p]=Z(C[p]);return C.join("")}(A("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ue(C,p){if(fe){var v=(65535&C)+(65535&p);return(C>>16)+(p>>16)+(v>>16)<<16|65535&v}return C+p&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function or(C,p){var v,y,_,w;if(C!==v){for(var S=(_=C,w=1+(256/C.length>>0),new Array(w+1).join(_)),D=[],E=0;E<256;E++)D[E]=E;var W=0;for(E=0;E<256;E++){var nt=D[E];W=(W+nt+S.charCodeAt(E))%256,D[E]=D[W],D[W]=nt}v=C,y=D}else D=y;var et=p.length,pt=0,U=0,kt="";for(E=0;E<et;E++)U=(U+(nt=D[pt=(pt+1)%256]))%256,D[pt]=D[U],D[U]=nt,S=D[(D[pt]+D[U])%256],kt+=String.fromCharCode(p.charCodeAt(E)^S);return kt}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var fr={print:4,modify:8,copy:16,"annot-forms":32};function tr(C,p,v,y){this.v=1,this.r=2;var _=192;C.forEach(function(D){if(fr.perm!==void 0)throw new Error("Invalid permission: "+D);_+=fr[D]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var w=(p+this.padding).substr(0,32),S=(v+this.padding).substr(0,32);this.O=this.processOwnerPassword(w,S),this.P=-(1+(255^_)),this.encryptionKey=Xt(w+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(y)).substr(0,5),this.U=or(this.encryptionKey,this.padding)}function We(C){if(/[^\u0000-\u00ff]/.test(C))throw new Error("Invalid PDF Name Object: "+C+", Only accept ASCII characters.");for(var p="",v=C.length,y=0;y<v;y++){var _=C.charCodeAt(y);_<33||_===35||_===37||_===40||_===41||_===47||_===60||_===62||_===91||_===93||_===123||_===125||_>126?p+="#"+("0"+_.toString(16)).slice(-2):p+=C[y]}return p}function vr(C){if(Ut()(C)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var p={};this.subscribe=function(v,y,_){if(_=_||!1,typeof v!="string"||typeof y!="function"||typeof _!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");p.hasOwnProperty(v)||(p[v]={});var w=Math.random().toString(35);return p[v][w]=[y,!!_],w},this.unsubscribe=function(v){for(var y in p)if(p[y][v])return delete p[y][v],Object.keys(p[y]).length===0&&delete p[y],!0;return!1},this.publish=function(v){if(p.hasOwnProperty(v)){var y=Array.prototype.slice.call(arguments,1),_=[];for(var w in p[v]){var S=p[v][w];try{S[0].apply(C,y)}catch(D){Se.console&&Tt.error("jsPDF PubSub Error",D.message,D)}S[1]&&_.push(w)}_.length&&_.forEach(this.unsubscribe)}},this.getTopics=function(){return p}}function Or(C){if(!(this instanceof Or))return new Or(C);var p="opacity,stroke-opacity".split(",");for(var v in C)C.hasOwnProperty(v)&&p.indexOf(v)>=0&&(this[v]=C[v]);this.id="",this.objectNumber=-1}function Lr(C,p){this.gState=C,this.matrix=p,this.id="",this.objectNumber=-1}function at(C,p,v,y,_){if(!(this instanceof at))return new at(C,p,v,y,_);this.type=C==="axial"?2:3,this.coords=p,this.colors=v,Lr.call(this,y,_)}function ve(C,p,v,y,_){if(!(this instanceof ve))return new ve(C,p,v,y,_);this.boundingBox=C,this.xStep=p,this.yStep=v,this.stream="",this.cloneIndex=0,Lr.call(this,y,_)}function ht(C){var p,v=typeof arguments[0]=="string"?arguments[0]:"p",y=arguments[1],_=arguments[2],w=arguments[3],S=[],D=1,E=16,W="S",nt=null;Ut()(C=C||{})==="object"&&(v=C.orientation,y=C.unit||y,_=C.format||_,w=C.compress||C.compressPdf||w,(nt=C.encryption||null)!==null&&(nt.userPassword=nt.userPassword||"",nt.ownerPassword=nt.ownerPassword||"",nt.userPermissions=nt.userPermissions||[]),D=typeof C.userUnit=="number"?Math.abs(C.userUnit):1,C.precision!==void 0&&(p=C.precision),C.floatPrecision!==void 0&&(E=C.floatPrecision),W=C.defaultPathOperation||"S"),S=C.filters||(w===!0?["FlateEncode"]:S),y=y||"mm",v=(""+(v||"P")).toLowerCase();var et=C.putOnlyUsedFonts||!1,pt={},U={internal:{},__private__:{}};U.__private__.PubSub=vr;var kt="1.3",yt=U.__private__.getPdfVersion=function(){return kt};U.__private__.setPdfVersion=function(F){kt=F};var Nt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};U.__private__.getPageFormats=function(){return Nt};var wt=U.__private__.getPageFormat=function(F){return Nt[F]};_=_||"a4";var Q={COMPAT:"compat",ADVANCED:"advanced"},oe=Q.COMPAT;function Oe(){this.saveGraphicsState(),Lt(new Qr(kr,0,0,-kr,0,ls()*kr).toString()+" cm"),this.setFontSize(this.getFontSize()/kr),W="n",oe=Q.ADVANCED}function Ge(){this.restoreGraphicsState(),W="S",oe=Q.COMPAT}var rr=U.__private__.combineFontStyleAndFontWeight=function(F,I){if(F=="bold"&&I=="normal"||F=="bold"&&I==400||F=="normal"&&I=="italic"||F=="bold"&&I=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return I&&(F=I==400||I==="normal"?F==="italic"?"italic":"normal":I!=700&&I!=="bold"||F!=="normal"?(I==700?"bold":I)+""+F:"bold"),F};U.advancedAPI=function(F){var I=oe===Q.COMPAT;return I&&Oe.call(this),typeof F!="function"||(F(this),I&&Ge.call(this)),this},U.compatAPI=function(F){var I=oe===Q.ADVANCED;return I&&Ge.call(this),typeof F!="function"||(F(this),I&&Oe.call(this)),this},U.isAdvancedAPI=function(){return oe===Q.ADVANCED};var Re,sr=function(I){if(oe!==Q.ADVANCED)throw new Error(I+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},Gt=U.roundToPrecision=U.__private__.roundToPrecision=function(F,I){var gt=p||I;if(isNaN(F)||isNaN(gt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return F.toFixed(gt).replace(/0+$/,"")};Re=U.hpf=U.__private__.hpf=typeof E=="number"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return Gt(F,E)}:E==="smart"?function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return Gt(F,F>-1&&F<1?16:5)}:function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.hpf");return Gt(F,16)};var je=U.f2=U.__private__.f2=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f2");return Gt(F,2)},zt=U.__private__.f3=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.f3");return Gt(F,3)},At=U.scale=U.__private__.scale=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.scale");return oe===Q.COMPAT?F*kr:oe===Q.ADVANCED?F:void 0},qt=function(I){return oe===Q.COMPAT?ls()-I:oe===Q.ADVANCED?I:void 0},Ht=function(I){return At(qt(I))};U.__private__.setPrecision=U.setPrecision=function(F){typeof parseInt(F,10)=="number"&&(p=parseInt(F,10))};var qe,ze="00000000000000000000000000000000",ar=U.__private__.getFileId=function(){return ze},Ce=U.__private__.setFileId=function(F){return ze=F!==void 0&&/^[a-fA-F0-9]{32}$/.test(F)?F.toUpperCase():ze.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),nt!==null&&(Cn=new tr(nt.userPermissions,nt.userPassword,nt.ownerPassword,ze)),ze};U.setFileId=function(F){return Ce(F),this},U.getFileId=function(){return ar()};var dr=U.__private__.convertDateToPDFDate=function(F){var I=F.getTimezoneOffset(),gt=I<0?"+":"-",Bt=Math.floor(Math.abs(I/60)),me=Math.abs(I%60),be=[gt,Dt(Bt),"'",Dt(me),"'"].join("");return["D:",F.getFullYear(),Dt(F.getMonth()+1),Dt(F.getDate()),Dt(F.getHours()),Dt(F.getMinutes()),Dt(F.getSeconds()),be].join("")},Ye=U.__private__.convertPDFDateToDate=function(F){var I=parseInt(F.substr(2,4),10),gt=parseInt(F.substr(6,2),10)-1,Bt=parseInt(F.substr(8,2),10),me=parseInt(F.substr(10,2),10),be=parseInt(F.substr(12,2),10),hr=parseInt(F.substr(14,2),10);return new Date(I,gt,Bt,me,be,hr,0)},yr=U.__private__.setCreationDate=function(F){var I;if(F===void 0&&(F=new Date),F instanceof Date)I=dr(F);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(F))throw new Error("Invalid argument passed to jsPDF.setCreationDate");I=F}return qe=I},Rt=U.__private__.getCreationDate=function(F){var I=qe;return F==="jsDate"&&(I=Ye(qe)),I};U.setCreationDate=function(F){return yr(F),this},U.getCreationDate=function(F){return Rt(F)};var ot,Dt=U.__private__.padd2=function(F){return("0"+parseInt(F)).slice(-2)},$t=U.__private__.padd2Hex=function(F){return("00"+(F=F.toString())).substr(F.length)},ce=0,xe=[],Ve=[],Me=0,Be=[],lr=[],zr=!1,xr=Ve,Zr=function(){ce=0,Me=0,Ve=[],xe=[],Be=[],Ws=Sn(),Ba=Sn()};U.__private__.setCustomOutputDestination=function(F){zr=!0,xr=F};var Gr=function(I){zr||(xr=I)};U.__private__.resetCustomOutputDestination=function(){zr=!1,xr=Ve};var Lt=U.__private__.out=function(F){return F=F.toString(),Me+=F.length+1,xr.push(F),xr},Ke=U.__private__.write=function(F){return Lt(arguments.length===1?F.toString():Array.prototype.join.call(arguments," "))},Tr=U.__private__.getArrayBuffer=function(F){for(var I=F.length,gt=new ArrayBuffer(I),Bt=new Uint8Array(gt);I--;)Bt[I]=F.charCodeAt(I);return gt},Xe=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];U.__private__.getStandardFonts=function(){return Xe};var Pr=C.fontSize||16;U.__private__.setFontSize=U.setFontSize=function(F){return Pr=oe===Q.ADVANCED?F/kr:F,this};var wr,jr=U.__private__.getFontSize=U.getFontSize=function(){return oe===Q.COMPAT?Pr:Pr*kr},Wr=C.R2L||!1;U.__private__.setR2L=U.setR2L=function(F){return Wr=F,this},U.__private__.getR2L=U.getR2L=function(){return Wr};var Yr,Li=U.__private__.setZoomMode=function(F){var I=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^\d*\.?\d*%$/.test(F))wr=F;else if(isNaN(F)){if(I.indexOf(F)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+F+'" is not recognized.');wr=F}else wr=parseInt(F,10)};U.__private__.getZoomMode=function(){return wr};var $r,_i=U.__private__.setPageMode=function(F){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(F)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+F+'" is not recognized.');Yr=F};U.__private__.getPageMode=function(){return Yr};var zi=U.__private__.setLayoutMode=function(F){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(F)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+F+'" is not recognized.');$r=F};U.__private__.getLayoutMode=function(){return $r},U.__private__.setDisplayMode=U.setDisplayMode=function(F,I,gt){return Li(F),zi(I),_i(gt),this};var Xr={title:"",subject:"",author:"",keywords:"",creator:""};U.__private__.getDocumentProperty=function(F){if(Object.keys(Xr).indexOf(F)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Xr[F]},U.__private__.getDocumentProperties=function(){return Xr},U.__private__.setDocumentProperties=U.setProperties=U.setDocumentProperties=function(F){for(var I in Xr)Xr.hasOwnProperty(I)&&F[I]&&(Xr[I]=F[I]);return this},U.__private__.setDocumentProperty=function(F,I){if(Object.keys(Xr).indexOf(F)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Xr[F]=I};var ui,kr,Dn,qi,xn,pi={},dn={},_a=[],Ni={},ts={},an={},pn={},oa=null,Vi=0,si=[],Ii=new vr(U),uo=C.hotfixes||[],In={},es={},rs=[],Qr=function F(I,gt,Bt,me,be,hr){if(!(this instanceof F))return new F(I,gt,Bt,me,be,hr);isNaN(I)&&(I=1),isNaN(gt)&&(gt=0),isNaN(Bt)&&(Bt=0),isNaN(me)&&(me=1),isNaN(be)&&(be=0),isNaN(hr)&&(hr=0),this._matrix=[I,gt,Bt,me,be,hr]};Object.defineProperty(Qr.prototype,"sx",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Qr.prototype,"shy",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Qr.prototype,"shx",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Qr.prototype,"sy",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Qr.prototype,"tx",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Qr.prototype,"ty",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Qr.prototype,"a",{get:function(){return this._matrix[0]},set:function(I){this._matrix[0]=I}}),Object.defineProperty(Qr.prototype,"b",{get:function(){return this._matrix[1]},set:function(I){this._matrix[1]=I}}),Object.defineProperty(Qr.prototype,"c",{get:function(){return this._matrix[2]},set:function(I){this._matrix[2]=I}}),Object.defineProperty(Qr.prototype,"d",{get:function(){return this._matrix[3]},set:function(I){this._matrix[3]=I}}),Object.defineProperty(Qr.prototype,"e",{get:function(){return this._matrix[4]},set:function(I){this._matrix[4]=I}}),Object.defineProperty(Qr.prototype,"f",{get:function(){return this._matrix[5]},set:function(I){this._matrix[5]=I}}),Object.defineProperty(Qr.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(Qr.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(Qr.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(Qr.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),Qr.prototype.join=function(F){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Re).join(F)},Qr.prototype.multiply=function(F){var I=F.sx*this.sx+F.shy*this.shx,gt=F.sx*this.shy+F.shy*this.sy,Bt=F.shx*this.sx+F.sy*this.shx,me=F.shx*this.shy+F.sy*this.sy,be=F.tx*this.sx+F.ty*this.shx+this.tx,hr=F.tx*this.shy+F.ty*this.sy+this.ty;return new Qr(I,gt,Bt,me,be,hr)},Qr.prototype.decompose=function(){var F=this.sx,I=this.shy,gt=this.shx,Bt=this.sy,me=this.tx,be=this.ty,hr=Math.sqrt(F*F+I*I),mr=(F/=hr)*gt+(I/=hr)*Bt;gt-=F*mr,Bt-=I*mr;var Hr=Math.sqrt(gt*gt+Bt*Bt);return mr/=Hr,F*(Bt/=Hr)<I*(gt/=Hr)&&(F=-F,I=-I,mr=-mr,hr=-hr),{scale:new Qr(hr,0,0,Hr,0,0),translate:new Qr(1,0,0,1,me,be),rotate:new Qr(F,I,-I,F,0,0),skew:new Qr(1,0,mr,1,0,0)}},Qr.prototype.toString=function(F){return this.join(" ")},Qr.prototype.inversed=function(){var F=this.sx,I=this.shy,gt=this.shx,Bt=this.sy,me=this.tx,be=this.ty,hr=1/(F*Bt-I*gt),mr=Bt*hr,Hr=-I*hr,ni=-gt*hr,ai=F*hr;return new Qr(mr,Hr,ni,ai,-mr*me-ni*be,-Hr*me-ai*be)},Qr.prototype.applyToPoint=function(F){var I=F.x*this.sx+F.y*this.shx+this.tx,gt=F.x*this.shy+F.y*this.sy+this.ty;return new Wo(I,gt)},Qr.prototype.applyToRectangle=function(F){var I=this.applyToPoint(F),gt=this.applyToPoint(new Wo(F.x+F.w,F.y+F.h));return new os(I.x,I.y,gt.x-I.x,gt.y-I.y)},Qr.prototype.clone=function(){var F=this.sx,I=this.shy,gt=this.shx,Bt=this.sy,me=this.tx,be=this.ty;return new Qr(F,I,gt,Bt,me,be)},U.Matrix=Qr;var Kn=U.matrixMult=function(F,I){return I.multiply(F)},xa=new Qr(1,0,0,1,0,0);U.unitMatrix=U.identityMatrix=xa;var ms=function(I,gt){if(!ts[I]){var Bt=(gt instanceof at?"Sh":"P")+(Object.keys(Ni).length+1).toString(10);gt.id=Bt,ts[I]=Bt,Ni[Bt]=gt,Ii.publish("addPattern",gt)}};U.ShadingPattern=at,U.TilingPattern=ve,U.addShadingPattern=function(F,I){return sr("addShadingPattern()"),ms(F,I),this},U.beginTilingPattern=function(F){sr("beginTilingPattern()"),hl(F.boundingBox[0],F.boundingBox[1],F.boundingBox[2]-F.boundingBox[0],F.boundingBox[3]-F.boundingBox[1],F.matrix)},U.endTilingPattern=function(F,I){sr("endTilingPattern()"),I.stream=lr[ot].join(`
`),ms(F,I),Ii.publish("endTilingPattern",I),rs.pop().restore()};var Qi=U.__private__.newObject=function(){var F=Sn();return tn(F,!0),F},Sn=U.__private__.newObjectDeferred=function(){return ce++,xe[ce]=function(){return Me},ce},tn=function(I,gt){return gt=typeof gt=="boolean"&&gt,xe[I]=Me,gt&&Lt(I+" 0 obj"),I},is=U.__private__.newAdditionalObject=function(){var F={objId:Sn(),content:""};return Be.push(F),F},Ws=Sn(),Ba=Sn(),ns=U.__private__.decodeColorString=function(F){var I=F.split(" ");if(I.length!==2||I[1]!=="g"&&I[1]!=="G")I.length===5&&(I[4]==="k"||I[4]==="K")&&(I=[(1-I[0])*(1-I[3]),(1-I[1])*(1-I[3]),(1-I[2])*(1-I[3]),"r"]);else{var gt=parseFloat(I[0]);I=[gt,gt,gt,"r"]}for(var Bt="#",me=0;me<3;me++)Bt+=("0"+Math.floor(255*parseFloat(I[me])).toString(16)).slice(-2);return Bt},Rn=U.__private__.encodeColorString=function(F){var I;typeof F=="string"&&(F={ch1:F});var gt=F.ch1,Bt=F.ch2,me=F.ch3,be=F.ch4,hr=F.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof gt=="string"&&gt.charAt(0)!=="#"){var mr=new e(gt);if(mr.ok)gt=mr.toHex();else if(!/^\d*\.?\d*$/.test(gt))throw new Error('Invalid color "'+gt+'" passed to jsPDF.encodeColorString.')}if(typeof gt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(gt)&&(gt="#"+gt[1]+gt[1]+gt[2]+gt[2]+gt[3]+gt[3]),typeof gt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(gt)){var Hr=parseInt(gt.substr(1),16);gt=Hr>>16&255,Bt=Hr>>8&255,me=255&Hr}if(Bt===void 0||be===void 0&&gt===Bt&&Bt===me)if(typeof gt=="string")I=gt+" "+hr[0];else switch(F.precision){case 2:I=je(gt/255)+" "+hr[0];break;case 3:default:I=zt(gt/255)+" "+hr[0]}else if(be===void 0||Ut()(be)==="object"){if(be&&!isNaN(be.a)&&be.a===0)return I=["1.","1.","1.",hr[1]].join(" ");if(typeof gt=="string")I=[gt,Bt,me,hr[1]].join(" ");else switch(F.precision){case 2:I=[je(gt/255),je(Bt/255),je(me/255),hr[1]].join(" ");break;default:case 3:I=[zt(gt/255),zt(Bt/255),zt(me/255),hr[1]].join(" ")}}else if(typeof gt=="string")I=[gt,Bt,me,be,hr[2]].join(" ");else switch(F.precision){case 2:I=[je(gt),je(Bt),je(me),je(be),hr[2]].join(" ");break;case 3:default:I=[zt(gt),zt(Bt),zt(me),zt(be),hr[2]].join(" ")}return I},gn=U.__private__.getFilters=function(){return S},la=U.__private__.putStream=function(F){var I=(F=F||{}).data||"",gt=F.filters||gn(),Bt=F.alreadyAppliedFilters||[],me=F.addLength1||!1,be=I.length,hr=F.objectId,mr=function(bn){return bn};if(nt!==null&&hr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");nt!==null&&(mr=Cn.encryptor(hr,0));var Hr={};gt===!0&&(gt=["FlateEncode"]);var ni=F.additionalKeyValues||[],ai=(Hr=ht.API.processDataByFilters!==void 0?ht.API.processDataByFilters(I,gt):{data:I,reverseChain:[]}).reverseChain+(Array.isArray(Bt)?Bt.join(" "):Bt.toString());if(Hr.data.length!==0&&(ni.push({key:"Length",value:Hr.data.length}),me===!0&&ni.push({key:"Length1",value:be})),ai.length!=0)if(ai.split("/").length-1==1)ni.push({key:"Filter",value:ai});else{ni.push({key:"Filter",value:"["+ai+"]"});for(var Fi=0;Fi<ni.length;Fi+=1)if(ni[Fi].key==="DecodeParms"){for(var Ri=[],on=0;on<Hr.reverseChain.split("/").length-1;on+=1)Ri.push("null");Ri.push(ni[Fi].value),ni[Fi].value="["+Ri.join(" ")+"]"}}Lt("<<");for(var Zi=0;Zi<ni.length;Zi++)Lt("/"+ni[Zi].key+" "+ni[Zi].value);Lt(">>"),Hr.data.length!==0&&(Lt("stream"),Lt(mr(Hr.data)),Lt("endstream"))},ho=U.__private__.putPage=function(F){var I=F.number,gt=F.data,Bt=F.objId,me=F.contentsObjId;tn(Bt,!0),Lt("<</Type /Page"),Lt("/Parent "+F.rootDictionaryObjId+" 0 R"),Lt("/Resources "+F.resourceDictionaryObjId+" 0 R"),Lt("/MediaBox ["+parseFloat(Re(F.mediaBox.bottomLeftX))+" "+parseFloat(Re(F.mediaBox.bottomLeftY))+" "+Re(F.mediaBox.topRightX)+" "+Re(F.mediaBox.topRightY)+"]"),F.cropBox!==null&&Lt("/CropBox ["+Re(F.cropBox.bottomLeftX)+" "+Re(F.cropBox.bottomLeftY)+" "+Re(F.cropBox.topRightX)+" "+Re(F.cropBox.topRightY)+"]"),F.bleedBox!==null&&Lt("/BleedBox ["+Re(F.bleedBox.bottomLeftX)+" "+Re(F.bleedBox.bottomLeftY)+" "+Re(F.bleedBox.topRightX)+" "+Re(F.bleedBox.topRightY)+"]"),F.trimBox!==null&&Lt("/TrimBox ["+Re(F.trimBox.bottomLeftX)+" "+Re(F.trimBox.bottomLeftY)+" "+Re(F.trimBox.topRightX)+" "+Re(F.trimBox.topRightY)+"]"),F.artBox!==null&&Lt("/ArtBox ["+Re(F.artBox.bottomLeftX)+" "+Re(F.artBox.bottomLeftY)+" "+Re(F.artBox.topRightX)+" "+Re(F.artBox.topRightY)+"]"),typeof F.userUnit=="number"&&F.userUnit!==1&&Lt("/UserUnit "+F.userUnit),Ii.publish("putPage",{objId:Bt,pageContext:si[I],pageNumber:I,page:gt}),Lt("/Contents "+me+" 0 R"),Lt(">>"),Lt("endobj");var be=gt.join(`
`);return oe===Q.ADVANCED&&(be+=`
Q`),tn(me,!0),la({data:be,filters:gn(),objectId:me}),Lt("endobj"),Bt},as=U.__private__.putPages=function(){var F,I,gt=[];for(F=1;F<=Vi;F++)si[F].objId=Sn(),si[F].contentsObjId=Sn();for(F=1;F<=Vi;F++)gt.push(ho({number:F,data:lr[F],objId:si[F].objId,contentsObjId:si[F].contentsObjId,mediaBox:si[F].mediaBox,cropBox:si[F].cropBox,bleedBox:si[F].bleedBox,trimBox:si[F].trimBox,artBox:si[F].artBox,userUnit:si[F].userUnit,rootDictionaryObjId:Ws,resourceDictionaryObjId:Ba}));tn(Ws,!0),Lt("<</Type /Pages");var Bt="/Kids [";for(I=0;I<Vi;I++)Bt+=gt[I]+" 0 R ";Lt(Bt+"]"),Lt("/Count "+Vi),Lt(">>"),Lt("endobj"),Ii.publish("postPutPages")},co=function(I){Ii.publish("putFont",{font:I,out:Lt,newObject:Qi,putStream:la}),I.isAlreadyPutted!==!0&&(I.objectNumber=Qi(),Lt("<<"),Lt("/Type /Font"),Lt("/BaseFont /"+We(I.postScriptName)),Lt("/Subtype /Type1"),typeof I.encoding=="string"&&Lt("/Encoding /"+I.encoding),Lt("/FirstChar 32"),Lt("/LastChar 255"),Lt(">>"),Lt("endobj"))},ko=function(){for(var I in pi)pi.hasOwnProperty(I)&&(et===!1||et===!0&&pt.hasOwnProperty(I))&&co(pi[I])},Mo=function(I){I.objectNumber=Qi();var gt=[];gt.push({key:"Type",value:"/XObject"}),gt.push({key:"Subtype",value:"/Form"}),gt.push({key:"BBox",value:"["+[Re(I.x),Re(I.y),Re(I.x+I.width),Re(I.y+I.height)].join(" ")+"]"}),gt.push({key:"Matrix",value:"["+I.matrix.toString()+"]"});var Bt=I.pages[1].join(`
`);la({data:Bt,additionalKeyValues:gt,objectId:I.objectNumber}),Lt("endobj")},ys=function(){for(var I in In)In.hasOwnProperty(I)&&Mo(In[I])},ie=function(I,gt){var Bt,me=[],be=1/(gt-1);for(Bt=0;Bt<1;Bt+=be)me.push(Bt);if(me.push(1),I[0].offset!=0){var hr={offset:0,color:I[0].color};I.unshift(hr)}if(I[I.length-1].offset!=1){var mr={offset:1,color:I[I.length-1].color};I.push(mr)}for(var Hr="",ni=0,ai=0;ai<me.length;ai++){for(Bt=me[ai];Bt>I[ni+1].offset;)ni++;var Fi=I[ni].offset,Ri=(Bt-Fi)/(I[ni+1].offset-Fi),on=I[ni].color,Zi=I[ni+1].color;Hr+=$t(Math.round((1-Ri)*on[0]+Ri*Zi[0]).toString(16))+$t(Math.round((1-Ri)*on[1]+Ri*Zi[1]).toString(16))+$t(Math.round((1-Ri)*on[2]+Ri*Zi[2]).toString(16))}return Hr.trim()},He=function(I,gt){gt||(gt=21);var Bt=Qi(),me=ie(I.colors,gt),be=[];be.push({key:"FunctionType",value:"0"}),be.push({key:"Domain",value:"[0.0 1.0]"}),be.push({key:"Size",value:"["+gt+"]"}),be.push({key:"BitsPerSample",value:"8"}),be.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),be.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),la({data:me,additionalKeyValues:be,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Bt}),Lt("endobj"),I.objectNumber=Qi(),Lt("<< /ShadingType "+I.type),Lt("/ColorSpace /DeviceRGB");var hr="/Coords ["+Re(parseFloat(I.coords[0]))+" "+Re(parseFloat(I.coords[1]))+" ";I.type===2?hr+=Re(parseFloat(I.coords[2]))+" "+Re(parseFloat(I.coords[3])):hr+=Re(parseFloat(I.coords[2]))+" "+Re(parseFloat(I.coords[3]))+" "+Re(parseFloat(I.coords[4]))+" "+Re(parseFloat(I.coords[5])),Lt(hr+="]"),I.matrix&&Lt("/Matrix ["+I.matrix.toString()+"]"),Lt("/Function "+Bt+" 0 R"),Lt("/Extend [true true]"),Lt(">>"),Lt("endobj")},Fe=function(I,gt){var Bt=Sn(),me=Qi();gt.push({resourcesOid:Bt,objectOid:me}),I.objectNumber=me;var be=[];be.push({key:"Type",value:"/Pattern"}),be.push({key:"PatternType",value:"1"}),be.push({key:"PaintType",value:"1"}),be.push({key:"TilingType",value:"1"}),be.push({key:"BBox",value:"["+I.boundingBox.map(Re).join(" ")+"]"}),be.push({key:"XStep",value:Re(I.xStep)}),be.push({key:"YStep",value:Re(I.yStep)}),be.push({key:"Resources",value:Bt+" 0 R"}),I.matrix&&be.push({key:"Matrix",value:"["+I.matrix.toString()+"]"}),la({data:I.stream,additionalKeyValues:be,objectId:I.objectNumber}),Lt("endobj")},Ur=function(I){var gt;for(gt in Ni)Ni.hasOwnProperty(gt)&&(Ni[gt]instanceof at?He(Ni[gt]):Ni[gt]instanceof ve&&Fe(Ni[gt],I))},ei=function(I){for(var gt in I.objectNumber=Qi(),Lt("<<"),I)switch(gt){case"opacity":Lt("/ca "+je(I[gt]));break;case"stroke-opacity":Lt("/CA "+je(I[gt]))}Lt(">>"),Lt("endobj")},Oi=function(){var I;for(I in an)an.hasOwnProperty(I)&&ei(an[I])},Ki=function(){for(var I in Lt("/XObject <<"),In)In.hasOwnProperty(I)&&In[I].objectNumber>=0&&Lt("/"+I+" "+In[I].objectNumber+" 0 R");Ii.publish("putXobjectDict"),Lt(">>")},xi=function(){Cn.oid=Qi(),Lt("<<"),Lt("/Filter /Standard"),Lt("/V "+Cn.v),Lt("/R "+Cn.r),Lt("/U <"+Cn.toHexString(Cn.U)+">"),Lt("/O <"+Cn.toHexString(Cn.O)+">"),Lt("/P "+Cn.P),Lt(">>"),Lt("endobj")},il=function(){for(var I in Lt("/Font <<"),pi)pi.hasOwnProperty(I)&&(et===!1||et===!0&&pt.hasOwnProperty(I))&&Lt("/"+I+" "+pi[I].objectNumber+" 0 R");Lt(">>")},El=function(){if(Object.keys(Ni).length>0){for(var I in Lt("/Shading <<"),Ni)Ni.hasOwnProperty(I)&&Ni[I]instanceof at&&Ni[I].objectNumber>=0&&Lt("/"+I+" "+Ni[I].objectNumber+" 0 R");Ii.publish("putShadingPatternDict"),Lt(">>")}},Jn=function(I){if(Object.keys(Ni).length>0){for(var gt in Lt("/Pattern <<"),Ni)Ni.hasOwnProperty(gt)&&Ni[gt]instanceof U.TilingPattern&&Ni[gt].objectNumber>=0&&Ni[gt].objectNumber<I&&Lt("/"+gt+" "+Ni[gt].objectNumber+" 0 R");Ii.publish("putTilingPatternDict"),Lt(">>")}},$n=function(){if(Object.keys(an).length>0){var I;for(I in Lt("/ExtGState <<"),an)an.hasOwnProperty(I)&&an[I].objectNumber>=0&&Lt("/"+I+" "+an[I].objectNumber+" 0 R");Ii.publish("putGStateDict"),Lt(">>")}},fo=function(I){tn(I.resourcesOid,!0),Lt("<<"),Lt("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),il(),El(),Jn(I.objectOid),$n(),Ki(),Lt(">>"),Lt("endobj")},Hs=function(){var I=[];ko(),Oi(),ys(),Ur(I),Ii.publish("putResources"),I.forEach(fo),fo({resourcesOid:Ba,objectOid:Number.MAX_SAFE_INTEGER}),Ii.publish("postPutResources")},sn=function(){Ii.publish("putAdditionalObjects");for(var I=0;I<Be.length;I++){var gt=Be[I];tn(gt.objId,!0),Lt(gt.content),Lt("endobj")}Ii.publish("postPutAdditionalObjects")},qs=function(I){dn[I.fontName]=dn[I.fontName]||{},dn[I.fontName][I.fontStyle]=I.id},Ei=function(I,gt,Bt,me,be){var hr={id:"F"+(Object.keys(pi).length+1).toString(10),postScriptName:I,fontName:gt,fontStyle:Bt,encoding:me,isStandardFont:be||!1,metadata:{}};return Ii.publish("addFont",{font:hr,instance:this}),pi[hr.id]=hr,qs(hr),hr.id},fu=function(I){for(var gt=0,Bt=Xe.length;gt<Bt;gt++){var me=Ei.call(this,I[gt][0],I[gt][1],I[gt][2],Xe[gt][3],!0);et===!1&&(pt[me]=!0);var be=I[gt][0].split("-");qs({id:me,fontName:be[0],fontStyle:be[1]||""})}Ii.publish("addFonts",{fonts:pi,dictionary:dn})},nl=function(I){return I.foo=function(){try{return I.apply(this,arguments)}catch(me){var gt=me.stack||"";~gt.indexOf(" at ")&&(gt=gt.split(" at ")[1]);var Bt="Error in function "+gt.split(`
`)[0].split("<")[0]+": "+me.message;if(!Se.console)throw new Error(Bt);Se.console.error(Bt,me),Se.alert&&alert(Bt)}},I.foo.bar=I,I.foo},No=function(I,gt){var Bt,me,be,hr,mr,Hr,ni,ai,Fi;if(be=(gt=gt||{}).sourceEncoding||"Unicode",mr=gt.outputEncoding,(gt.autoencode||mr)&&pi[ui].metadata&&pi[ui].metadata[be]&&pi[ui].metadata[be].encoding&&(hr=pi[ui].metadata[be].encoding,!mr&&pi[ui].encoding&&(mr=pi[ui].encoding),!mr&&hr.codePages&&(mr=hr.codePages[0]),typeof mr=="string"&&(mr=hr[mr]),mr)){for(ni=!1,Hr=[],Bt=0,me=I.length;Bt<me;Bt++)(ai=mr[I.charCodeAt(Bt)])?Hr.push(String.fromCharCode(ai)):Hr.push(I[Bt]),Hr[Bt].charCodeAt(0)>>8&&(ni=!0);I=Hr.join("")}for(Bt=I.length;ni===void 0&&Bt!==0;)I.charCodeAt(Bt-1)>>8&&(ni=!0),Bt--;if(!ni)return I;for(Hr=gt.noBOM?[]:[254,255],Bt=0,me=I.length;Bt<me;Bt++){if((Fi=(ai=I.charCodeAt(Bt))>>8)>>8)throw new Error("Character at position "+Bt+" of string '"+I+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Hr.push(Fi),Hr.push(ai-(Fi<<8))}return String.fromCharCode.apply(void 0,Hr)},Fn=U.__private__.pdfEscape=U.pdfEscape=function(F,I){return No(F,I).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},po=U.__private__.beginPage=function(F){lr[++Vi]=[],si[Vi]={objId:0,contentsObjId:0,userUnit:Number(D),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(F[0]),topRightY:Number(F[1])}},ja(Vi),Gr(lr[ot])},bs=function(I,gt){var Bt,me,be;switch(v=gt||v,typeof I=="string"&&(Bt=wt(I.toLowerCase()),Array.isArray(Bt)&&(me=Bt[0],be=Bt[1])),Array.isArray(I)&&(me=I[0]*kr,be=I[1]*kr),isNaN(me)&&(me=_[0],be=_[1]),(me>14400||be>14400)&&(Tt.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),me=Math.min(14400,me),be=Math.min(14400,be)),_=[me,be],v.substr(0,1)){case"l":be>me&&(_=[be,me]);break;case"p":me>be&&(_=[be,me])}po(_),Uo(ws),Lt(ss),vi!==0&&Lt(vi+" J"),ll!==0&&Lt(ll+" j"),Ii.publish("addPage",{pageNumber:Vi})},go=function(I){I>0&&I<=Vi&&(lr.splice(I,1),si.splice(I,1),Vi--,ot>Vi&&(ot=Vi),this.setPage(ot))},ja=function(I){I>0&&I<=Vi&&(ot=I)},Do=U.__private__.getNumberOfPages=U.getNumberOfPages=function(){return lr.length-1},al=function(I,gt,Bt){var me,be=void 0;return Bt=Bt||{},I=I!==void 0?I:pi[ui].fontName,gt=gt!==void 0?gt:pi[ui].fontStyle,me=I.toLowerCase(),dn[me]!==void 0&&dn[me][gt]!==void 0?be=dn[me][gt]:dn[I]!==void 0&&dn[I][gt]!==void 0?be=dn[I][gt]:Bt.disableWarning===!1&&Tt.warn("Unable to look up font label for font '"+I+"', '"+gt+"'. Refer to getFontList() for available fonts."),be||Bt.noFallback||(be=dn.times[gt])==null&&(be=dn.times.normal),be},Io=U.__private__.putInfo=function(){var F=Qi(),I=function(me){return me};for(var gt in nt!==null&&(I=Cn.encryptor(F,0)),Lt("<<"),Lt("/Producer ("+Fn(I("jsPDF "+ht.version))+")"),Xr)Xr.hasOwnProperty(gt)&&Xr[gt]&&Lt("/"+gt.substr(0,1).toUpperCase()+gt.substr(1)+" ("+Fn(I(Xr[gt]))+")");Lt("/CreationDate ("+Fn(I(qe))+")"),Lt(">>"),Lt("endobj")},Fl=U.__private__.putCatalog=function(F){var I=(F=F||{}).rootDictionaryObjId||Ws;switch(Qi(),Lt("<<"),Lt("/Type /Catalog"),Lt("/Pages "+I+" 0 R"),wr||(wr="fullwidth"),wr){case"fullwidth":Lt("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Lt("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Lt("/OpenAction [3 0 R /Fit]");break;case"original":Lt("/OpenAction [3 0 R /XYZ null null 1]");break;default:var gt=""+wr;gt.substr(gt.length-1)==="%"&&(wr=parseInt(wr)/100),typeof wr=="number"&&Lt("/OpenAction [3 0 R /XYZ null null "+je(wr)+"]")}switch($r||($r="continuous"),$r){case"continuous":Lt("/PageLayout /OneColumn");break;case"single":Lt("/PageLayout /SinglePage");break;case"two":case"twoleft":Lt("/PageLayout /TwoColumnLeft");break;case"tworight":Lt("/PageLayout /TwoColumnRight")}Yr&&Lt("/PageMode /"+Yr),Ii.publish("putCatalog"),Lt(">>"),Lt("endobj")},kl=U.__private__.putTrailer=function(){Lt("trailer"),Lt("<<"),Lt("/Size "+(ce+1)),Lt("/Root "+ce+" 0 R"),Lt("/Info "+(ce-1)+" 0 R"),nt!==null&&Lt("/Encrypt "+Cn.oid+" 0 R"),Lt("/ID [ <"+ze+"> <"+ze+"> ]"),Lt(">>")},Gs=U.__private__.putHeader=function(){Lt("%PDF-"+kt),Lt("%\xBA\xDF\xAC\xE0")},Ml=U.__private__.putXRef=function(){var F="0000000000";Lt("xref"),Lt("0 "+(ce+1)),Lt("0000000000 65535 f ");for(var I=1;I<=ce;I++)typeof xe[I]=="function"?Lt((F+xe[I]()).slice(-10)+" 00000 n "):xe[I]!==void 0?Lt((F+xe[I]).slice(-10)+" 00000 n "):Lt("0000000000 00000 n ")},ua=U.__private__.buildDocument=function(){Zr(),Gr(Ve),Ii.publish("buildDocument"),Gs(),as(),sn(),Hs(),nt!==null&&xi(),Io(),Fl();var F=Me;return Ml(),kl(),Lt("startxref"),Lt(""+F),Lt("%%EOF"),Gr(lr[ot]),Ve.join(`
`)},Sa=U.__private__.getBlob=function(F){return new Blob([Tr(F)],{type:"application/pdf"})},Ro=U.output=U.__private__.output=nl(function(F,I){switch(typeof(I=I||{})=="string"?I={filename:I}:I.filename=I.filename||"generated.pdf",F){case void 0:return ua();case"save":U.save(I.filename);break;case"arraybuffer":return Tr(ua());case"blob":return Sa(ua());case"bloburi":case"bloburl":if(Se.URL!==void 0&&typeof Se.URL.createObjectURL=="function")return Se.URL&&Se.URL.createObjectURL(Sa(ua()))||void 0;Tt.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var gt="",Bt=ua();try{gt=l(Bt)}catch(Fi){gt=l(unescape(encodeURIComponent(Bt)))}return"data:application/pdf;filename="+I.filename+";base64,"+gt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(Se)==="[object Window]"){var me='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+(I.pdfObjectUrl||"https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js")+'"></script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(I)+");</script></body></html>",be=Se.open();return be!==null&&be.document.write(me),be}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(Se)==="[object Window]"){var hr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(I.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+I.filename+'" width="500px" height="400px" /></body></html>',mr=Se.open();if(mr!==null){mr.document.write(hr);var Hr=this;mr.document.documentElement.querySelector("#pdfViewer").onload=function(){mr.document.title=I.filename,mr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(Hr.output("bloburl"))}}return mr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(Se)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var ni='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",I)+'"></iframe></body></html>',ai=Se.open();if(ai!==null&&(ai.document.write(ni),ai.document.title=I.filename),ai||typeof safari=="undefined")return ai;break;case"datauri":case"dataurl":return Se.document.location.href=this.output("datauristring",I);default:return null}}),Nl=function(I){return Array.isArray(uo)===!0&&uo.indexOf(I)>-1};switch(y){case"pt":kr=1;break;case"mm":kr=72/25.4;break;case"cm":kr=72/2.54;break;case"in":kr=72;break;case"px":kr=Nl("px_scaling")==1?.75:96/72;break;case"pc":case"em":kr=12;break;case"ex":kr=6;break;default:if(typeof y!="number")throw new Error("Invalid unit: "+y);kr=y}var Cn=null;yr(),Ce();var du=function(I){return nt!==null?Cn.encryptor(I,0):function(gt){return gt}},vo=U.__private__.getPageInfo=U.getPageInfo=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:si[F].objId,pageNumber:F,pageContext:si[F]}},Bo=U.__private__.getPageInfoByObjId=function(F){if(isNaN(F)||F%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var I in si)if(si[I].objId===F)break;return vo(I)},sl=U.__private__.getCurrentPageInfo=U.getCurrentPageInfo=function(){return{objId:si[ot].objId,pageNumber:ot,pageContext:si[ot]}};U.addPage=function(){return bs.apply(this,arguments),this},U.setPage=function(){return ja.apply(this,arguments),Gr.call(this,lr[ot]),this},U.insertPage=function(F){return this.addPage(),this.movePage(ot,F),this},U.movePage=function(F,I){var gt,Bt;if(F>I){gt=lr[F],Bt=si[F];for(var me=F;me>I;me--)lr[me]=lr[me-1],si[me]=si[me-1];lr[I]=gt,si[I]=Bt,this.setPage(I)}else if(F<I){gt=lr[F],Bt=si[F];for(var be=F;be<I;be++)lr[be]=lr[be+1],si[be]=si[be+1];lr[I]=gt,si[I]=Bt,this.setPage(I)}return this},U.deletePage=function(){return go.apply(this,arguments),this},U.__private__.text=U.text=function(F,I,gt,Bt,me){var be,hr,mr,Hr,ni,ai,Fi,Ri,on,Zi=(Bt=Bt||{}).scope||this;if(typeof F=="number"&&typeof I=="number"&&(typeof gt=="string"||Array.isArray(gt))){var zn=gt;gt=I,I=F,F=zn}if(arguments[3]instanceof Qr?(sr("The transform parameter of text() with a Matrix value"),on=me):(mr=arguments[4],Hr=arguments[5],Ut()(Fi=arguments[3])==="object"&&Fi!==null||(typeof mr=="string"&&(Hr=mr,mr=null),typeof Fi=="string"&&(Hr=Fi,Fi=null),typeof Fi=="number"&&(mr=Fi,Fi=null),Bt={flags:Fi,angle:mr,align:Hr})),isNaN(I)||isNaN(gt)||F==null)throw new Error("Invalid arguments passed to jsPDF.text");if(F.length===0)return Zi;var bn="",Ha=!1,yo=typeof Bt.lineHeightFactor=="number"?Bt.lineHeightFactor:Aa,dl=Zi.internal.scaleFactor;function Cs(ln){return ln=ln.split("	").join(Array(Bt.TabLen||9).join(" ")),Fn(ln,Fi)}function pl(ln){for(var ji,Mn=ln.concat(),un=[],Hn=Mn.length;Hn--;)typeof(ji=Mn.shift())=="string"?un.push(ji):Array.isArray(ln)&&(ji.length===1||ji[1]===void 0&&ji[2]===void 0)?un.push(ji[0]):un.push([ji[0],ji[1],ji[2]]);return un}function bo(ln,ji){var Mn;if(typeof ln=="string")Mn=ji(ln)[0];else if(Array.isArray(ln)){for(var un,Hn,Xo=ln.concat(),Os=[],Hl=Xo.length;Hl--;)typeof(un=Xo.shift())=="string"?Os.push(ji(un)[0]):Array.isArray(un)&&typeof un[0]=="string"&&(Hn=ji(un[0],un[1],un[2]),Os.push([Hn[0],Hn[1],Hn[2]]));Mn=Os}return Mn}var us=!1,Vs=!0;if(typeof F=="string")us=!0;else if(Array.isArray(F)){var gl=F.concat();hr=[];for(var wo,ca=gl.length;ca--;)(typeof(wo=gl.shift())!="string"||Array.isArray(wo)&&typeof wo[0]!="string")&&(Vs=!1);us=Vs}if(us===!1)throw new Error('Type of text must be string or Array. "'+F+'" is not recognized.');typeof F=="string"&&(F=F.match(/[\r?\n]/)?F.split(/\r\n|\r|\n/g):[F]);var Bn=Pr/Zi.internal.scaleFactor,Ks=Bn*(yo-1);switch(Bt.baseline){case"bottom":gt-=Ks;break;case"top":gt+=Bn-Ks;break;case"hanging":gt+=Bn-2*Ks;break;case"middle":gt+=Bn/2-Ks}if((ai=Bt.maxWidth||0)>0&&(typeof F=="string"?F=Zi.splitTextToSize(F,ai):Object.prototype.toString.call(F)==="[object Array]"&&(F=F.reduce(function(ln,ji){return ln.concat(Zi.splitTextToSize(ji,ai))},[]))),be={text:F,x:I,y:gt,options:Bt,mutex:{pdfEscape:Fn,activeFontKey:ui,fonts:pi,activeFontSize:Pr}},Ii.publish("preProcessText",be),F=be.text,mr=(Bt=be.options).angle,!(on instanceof Qr)&&mr&&typeof mr=="number"){mr*=Math.PI/180,Bt.rotationDirection===0&&(mr=-mr),oe===Q.ADVANCED&&(mr=-mr);var hs=Math.cos(mr),kn=Math.sin(mr);on=new Qr(hs,kn,-kn,hs,0,0)}else mr&&mr instanceof Qr&&(on=mr);oe!==Q.ADVANCED||on||(on=xa),(ni=Bt.charSpace||Ss)!==void 0&&(bn+=Re(At(ni))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(Ri=Bt.horizontalScale)!==void 0&&(bn+=Re(100*Ri)+` Tz
`),Bt.lang;var Wn=-1,Wl=Bt.renderingMode!==void 0?Bt.renderingMode:Bt.stroke,qo=Zi.internal.getCurrentPageInfo().pageContext;switch(Wl){case 0:case!1:case"fill":Wn=0;break;case 1:case!0:case"stroke":Wn=1;break;case 2:case"fillThenStroke":Wn=2;break;case 3:case"invisible":Wn=3;break;case 4:case"fillAndAddForClipping":Wn=4;break;case 5:case"strokeAndAddPathForClipping":Wn=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Wn=6;break;case 7:case"addToPathForClipping":Wn=7}var _o=qo.usedRenderingMode!==void 0?qo.usedRenderingMode:-1;Wn!==-1?bn+=Wn+` Tr
`:_o!==-1&&(bn+=`0 Tr
`),Wn!==-1&&(qo.usedRenderingMode=Wn),Hr=Bt.align||"left";var Ln,xo=Pr*yo,mu=Zi.internal.pageSize.getWidth(),Go=pi[ui];ni=Bt.charSpace||Ss,ai=Bt.maxWidth||0,Fi=Object.assign({autoencode:!0,noBOM:!0},Bt.flags);var So=[];if(Object.prototype.toString.call(F)==="[object Array]"){var Ta;hr=pl(F),Hr!=="left"&&(Ln=hr.map(function(ln){return Zi.getStringUnitWidth(ln,{font:Go,charSpace:ni,fontSize:Pr,doKerning:!1})*Pr/dl}));var Gi,As=0;if(Hr==="right"){I-=Ln[0],F=[],ca=hr.length;for(var qa=0;qa<ca;qa++)qa===0?(Gi=_s(I),Ta=xs(gt)):(Gi=At(As-Ln[qa]),Ta=-xo),F.push([hr[qa],Gi,Ta]),As=Ln[qa]}else if(Hr==="center"){I-=Ln[0]/2,F=[],ca=hr.length;for(var An=0;An<ca;An++)An===0?(Gi=_s(I),Ta=xs(gt)):(Gi=At((As-Ln[An])/2),Ta=-xo),F.push([hr[An],Gi,Ta]),As=Ln[An]}else if(Hr==="left"){F=[],ca=hr.length;for(var Js=0;Js<ca;Js++)F.push(hr[Js])}else{if(Hr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');F=[],ca=hr.length,ai=ai!==0?ai:mu;for(var Qn=0;Qn<ca;Qn++)Ta=Qn===0?xs(gt):-xo,Gi=Qn===0?_s(I):0,Qn<ca-1?So.push(Re(At((ai-Ln[Qn])/(hr[Qn].split(" ").length-1)))):So.push(0),F.push([hr[Qn],Gi,Ta])}}var cs=typeof Bt.R2L=="boolean"?Bt.R2L:Wr;cs===!0&&(F=bo(F,function(ln,ji,Mn){return[ln.split("").reverse().join(""),ji,Mn]})),be={text:F,x:I,y:gt,options:Bt,mutex:{pdfEscape:Fn,activeFontKey:ui,fonts:pi,activeFontSize:Pr}},Ii.publish("postProcessText",be),F=be.text,Ha=be.mutex.isHex||!1;var $s=pi[ui].encoding;$s!=="WinAnsiEncoding"&&$s!=="StandardEncoding"||(F=bo(F,function(ln,ji,Mn){return[Cs(ln),ji,Mn]})),hr=pl(F),F=[];for(var vn,fs,Pa,Zs=0,Yo=1,Ts=Array.isArray(hr[0])?Yo:Zs,Qs="",Ps=function(ji,Mn,un){var Hn="";return un instanceof Qr?(un=typeof Bt.angle=="number"?Kn(un,new Qr(1,0,0,1,ji,Mn)):Kn(new Qr(1,0,0,1,ji,Mn),un),oe===Q.ADVANCED&&(un=Kn(new Qr(1,0,0,-1,0,0),un)),Hn=un.join(" ")+` Tm
`):Hn=Re(ji)+" "+Re(Mn)+` Td
`,Hn},fa=0;fa<hr.length;fa++){switch(Qs="",Ts){case Yo:Pa=(Ha?"<":"(")+hr[fa][0]+(Ha?">":")"),vn=parseFloat(hr[fa][1]),fs=parseFloat(hr[fa][2]);break;case Zs:Pa=(Ha?"<":"(")+hr[fa]+(Ha?">":")"),vn=_s(I),fs=xs(gt)}So!==void 0&&So[fa]!==void 0&&(Qs=So[fa]+` Tw
`),fa===0?F.push(Qs+Ps(vn,fs,on)+Pa):Ts===Zs?F.push(Qs+Pa):Ts===Yo&&F.push(Qs+Ps(vn,fs,on)+Pa)}F=Ts===Zs?F.join(` Tj
T* `):F.join(` Tj
`),F+=` Tj
`;var Ls=`BT
/`;return Ls+=ui+" "+Pr+` Tf
`,Ls+=Re(Pr*yo)+` TL
`,Ls+=tt+`
`,Ls+=bn,Ls+=F,Lt(Ls+="ET"),pt[ui]=!0,Zi};var oi=U.__private__.clip=U.clip=function(F){return Lt(F==="evenodd"?"W*":"W"),this};U.clipEvenOdd=function(){return oi("evenodd")},U.__private__.discardPath=U.discardPath=function(){return Lt("n"),this};var Ua=U.__private__.isValidStyle=function(F){var I=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(F)!==-1&&(I=!0),I};U.__private__.setDefaultPathOperation=U.setDefaultPathOperation=function(F){return Ua(F)&&(W=F),this};var Dl=U.__private__.getStyle=U.getStyle=function(F){var I=W;switch(F){case"D":case"S":I="S";break;case"F":I="f";break;case"FD":case"DF":I="B";break;case"f":case"f*":case"B":case"B*":I=F}return I},Il=U.close=function(){return Lt("h"),this};U.stroke=function(){return Lt("S"),this},U.fill=function(F){return en("f",F),this},U.fillEvenOdd=function(F){return en("f*",F),this},U.fillStroke=function(F){return en("B",F),this},U.fillStrokeEvenOdd=function(F){return en("B*",F),this};var en=function(I,gt){Ut()(gt)==="object"?gu(gt,I):Lt(I)},yn=function(I){I===null||oe===Q.ADVANCED&&I===void 0||(I=Dl(I),Lt(I))};function pu(F,I,gt,Bt,me){var be=new ve(I||this.boundingBox,gt||this.xStep,Bt||this.yStep,this.gState,me||this.matrix);be.stream=this.stream;var hr=F+"$$"+this.cloneIndex+++"$$";return ms(hr,be),be}var gu=function(I,gt){var Bt=ts[I.key],me=Ni[Bt];if(me instanceof at)Lt("q"),Lt(Rl(gt)),me.gState&&U.setGState(me.gState),Lt(I.matrix.toString()+" cm"),Lt("/"+Bt+" sh"),Lt("Q");else if(me instanceof ve){var be=new Qr(1,0,0,-1,0,ls());I.matrix&&(be=be.multiply(I.matrix||xa),Bt=pu.call(me,I.key,I.boundingBox,I.xStep,I.yStep,be).id),Lt("q"),Lt("/Pattern cs"),Lt("/"+Bt+" scn"),me.gState&&U.setGState(me.gState),Lt(gt),Lt("Q")}},Rl=function(I){switch(I){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ol=U.moveTo=function(F,I){return Lt(Re(At(F))+" "+Re(Ht(I))+" m"),this},jo=U.lineTo=function(F,I){return Lt(Re(At(F))+" "+Re(Ht(I))+" l"),this},Ca=U.curveTo=function(F,I,gt,Bt,me,be){return Lt([Re(At(F)),Re(Ht(I)),Re(At(gt)),Re(Ht(Bt)),Re(At(me)),Re(Ht(be)),"c"].join(" ")),this};U.__private__.line=U.line=function(F,I,gt,Bt,me){if(isNaN(F)||isNaN(I)||isNaN(gt)||isNaN(Bt)||!Ua(me))throw new Error("Invalid arguments passed to jsPDF.line");return oe===Q.COMPAT?this.lines([[gt-F,Bt-I]],F,I,[1,1],me||"S"):this.lines([[gt-F,Bt-I]],F,I,[1,1]).stroke()},U.__private__.lines=U.lines=function(F,I,gt,Bt,me,be){var hr,mr,Hr,ni,ai,Fi,Ri,on,Zi,zn,bn,Ha;if(typeof F=="number"&&(Ha=gt,gt=I,I=F,F=Ha),Bt=Bt||[1,1],be=be||!1,isNaN(I)||isNaN(gt)||!Array.isArray(F)||!Array.isArray(Bt)||!Ua(me)||typeof be!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ol(I,gt),hr=Bt[0],mr=Bt[1],ni=F.length,zn=I,bn=gt,Hr=0;Hr<ni;Hr++)(ai=F[Hr]).length===2?(zn=ai[0]*hr+zn,bn=ai[1]*mr+bn,jo(zn,bn)):(Fi=ai[0]*hr+zn,Ri=ai[1]*mr+bn,on=ai[2]*hr+zn,Zi=ai[3]*mr+bn,zn=ai[4]*hr+zn,bn=ai[5]*mr+bn,Ca(Fi,Ri,on,Zi,zn,bn));return be&&Il(),yn(me),this},U.path=function(F){for(var I=0;I<F.length;I++){var gt=F[I],Bt=gt.c;switch(gt.op){case"m":ol(Bt[0],Bt[1]);break;case"l":jo(Bt[0],Bt[1]);break;case"c":Ca.apply(this,Bt);break;case"h":Il()}}return this},U.__private__.rect=U.rect=function(F,I,gt,Bt,me){if(isNaN(F)||isNaN(I)||isNaN(gt)||isNaN(Bt)||!Ua(me))throw new Error("Invalid arguments passed to jsPDF.rect");return oe===Q.COMPAT&&(Bt=-Bt),Lt([Re(At(F)),Re(Ht(I)),Re(At(gt)),Re(At(Bt)),"re"].join(" ")),yn(me),this},U.__private__.triangle=U.triangle=function(F,I,gt,Bt,me,be,hr){if(isNaN(F)||isNaN(I)||isNaN(gt)||isNaN(Bt)||isNaN(me)||isNaN(be)||!Ua(hr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[gt-F,Bt-I],[me-gt,be-Bt],[F-me,I-be]],F,I,[1,1],hr,!0),this},U.__private__.roundedRect=U.roundedRect=function(F,I,gt,Bt,me,be,hr){if(isNaN(F)||isNaN(I)||isNaN(gt)||isNaN(Bt)||isNaN(me)||isNaN(be)||!Ua(hr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var mr=4/3*(Math.SQRT2-1);return me=Math.min(me,.5*gt),be=Math.min(be,.5*Bt),this.lines([[gt-2*me,0],[me*mr,0,me,be-be*mr,me,be],[0,Bt-2*be],[0,be*mr,-me*mr,be,-me,be],[2*me-gt,0],[-me*mr,0,-me,-be*mr,-me,-be],[0,2*be-Bt],[0,-be*mr,me*mr,-be,me,-be]],F+me,I,[1,1],hr,!0),this},U.__private__.ellipse=U.ellipse=function(F,I,gt,Bt,me){if(isNaN(F)||isNaN(I)||isNaN(gt)||isNaN(Bt)||!Ua(me))throw new Error("Invalid arguments passed to jsPDF.ellipse");var be=4/3*(Math.SQRT2-1)*gt,hr=4/3*(Math.SQRT2-1)*Bt;return ol(F+gt,I),Ca(F+gt,I-hr,F+be,I-Bt,F,I-Bt),Ca(F-be,I-Bt,F-gt,I-hr,F-gt,I),Ca(F-gt,I+hr,F-be,I+Bt,F,I+Bt),Ca(F+be,I+Bt,F+gt,I+hr,F+gt,I),yn(me),this},U.__private__.circle=U.circle=function(F,I,gt,Bt){if(isNaN(F)||isNaN(I)||isNaN(gt)||!Ua(Bt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(F,I,gt,gt,Bt)},U.setFont=function(F,I,gt){return gt&&(I=rr(I,gt)),ui=al(F,I,{disableWarning:!1}),this};var Ys=U.__private__.getFont=U.getFont=function(){return pi[al.apply(U,arguments)]};U.__private__.getFontList=U.getFontList=function(){var F,I,gt={};for(F in dn)if(dn.hasOwnProperty(F))for(I in gt[F]=[],dn[F])dn[F].hasOwnProperty(I)&&gt[F].push(I);return gt},U.addFont=function(F,I,gt,Bt,me){var be=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&be.indexOf(arguments[3])!==-1?me=arguments[3]:arguments[3]&&be.indexOf(arguments[3])==-1&&(gt=rr(gt,Bt)),me=me||"Identity-H",Ei.call(this,F,I,gt,me)};var Aa,ws=C.lineWidth||.200025,mo=U.__private__.getLineWidth=U.getLineWidth=function(){return ws},Uo=U.__private__.setLineWidth=U.setLineWidth=function(F){return ws=F,Lt(Re(At(F))+" w"),this};U.__private__.setLineDash=ht.API.setLineDash=ht.API.setLineDashPattern=function(F,I){if(F=F||[],I=I||0,isNaN(I)||!Array.isArray(F))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return F=F.map(function(gt){return Re(At(gt))}).join(" "),I=Re(At(I)),Lt("["+F+"] "+I+" d"),this};var za=U.__private__.getLineHeight=U.getLineHeight=function(){return Pr*Aa};U.__private__.getLineHeight=U.getLineHeight=function(){return Pr*Aa};var Bl=U.__private__.setLineHeightFactor=U.setLineHeightFactor=function(F){return typeof(F=F||1.15)=="number"&&(Aa=F),this},jl=U.__private__.getLineHeightFactor=U.getLineHeightFactor=function(){return Aa};Bl(C.lineHeight);var _s=U.__private__.getHorizontalCoordinate=function(F){return At(F)},xs=U.__private__.getVerticalCoordinate=function(F){return oe===Q.ADVANCED?F:si[ot].mediaBox.topRightY-si[ot].mediaBox.bottomLeftY-At(F)},Ul=U.__private__.getHorizontalCoordinateString=U.getHorizontalCoordinateString=function(F){return Re(_s(F))},zo=U.__private__.getVerticalCoordinateString=U.getVerticalCoordinateString=function(F){return Re(xs(F))},ss=C.strokeColor||"0 G";U.__private__.getStrokeColor=U.getDrawColor=function(){return ns(ss)},U.__private__.setStrokeColor=U.setDrawColor=function(F,I,gt,Bt){return ss=Rn({ch1:F,ch2:I,ch3:gt,ch4:Bt,pdfColorType:"draw",precision:2}),Lt(ss),this};var Wa=C.fillColor||"0 g";U.__private__.getFillColor=U.getFillColor=function(){return ns(Wa)},U.__private__.setFillColor=U.setFillColor=function(F,I,gt,Bt){return Wa=Rn({ch1:F,ch2:I,ch3:gt,ch4:Bt,pdfColorType:"fill",precision:2}),Lt(Wa),this};var tt=C.textColor||"0 g",Xs=U.__private__.getTextColor=U.getTextColor=function(){return ns(tt)};U.__private__.setTextColor=U.setTextColor=function(F,I,gt,Bt){return tt=Rn({ch1:F,ch2:I,ch3:gt,ch4:Bt,pdfColorType:"text",precision:3}),this};var Ss=C.charSpace,Zn=U.__private__.getCharSpace=U.getCharSpace=function(){return parseFloat(Ss||0)};U.__private__.setCharSpace=U.setCharSpace=function(F){if(isNaN(F))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Ss=F,this};var vi=0;U.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},U.__private__.setLineCap=U.setLineCap=function(F){var I=U.CapJoinStyles[F];if(I===void 0)throw new Error("Line cap style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return vi=I,Lt(I+" J"),this};var ll=0;U.__private__.setLineJoin=U.setLineJoin=function(F){var I=U.CapJoinStyles[F];if(I===void 0)throw new Error("Line join style of '"+F+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ll=I,Lt(I+" j"),this},U.__private__.setLineMiterLimit=U.__private__.setMiterLimit=U.setLineMiterLimit=U.setMiterLimit=function(F){if(F=F||0,isNaN(F))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Lt(Re(At(F))+" M"),this},U.GState=Or,U.setGState=function(F){(F=typeof F=="string"?an[pn[F]]:zl(null,F)).equals(oa)||(Lt("/"+F.id+" gs"),oa=F)};var zl=function(I,gt){if(!I||!pn[I]){var Bt=!1;for(var me in an)if(an.hasOwnProperty(me)&&an[me].equals(gt)){Bt=!0;break}if(Bt)gt=an[me];else{var be="GS"+(Object.keys(an).length+1).toString(10);an[be]=gt,gt.id=be}return I&&(pn[I]=gt.id),Ii.publish("addGState",gt),gt}};U.addGState=function(F,I){return zl(F,I),this},U.saveGraphicsState=function(){return Lt("q"),_a.push({key:ui,size:Pr,color:tt}),this},U.restoreGraphicsState=function(){Lt("Q");var F=_a.pop();return ui=F.key,Pr=F.size,tt=F.color,oa=null,this},U.setCurrentTransformationMatrix=function(F){return Lt(F.toString()+" cm"),this},U.comment=function(F){return Lt("#"+F),this};var Wo=function(I,gt){var Bt=I||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Bt},set:function(mr){isNaN(mr)||(Bt=parseFloat(mr))}});var me=gt||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return me},set:function(mr){isNaN(mr)||(me=parseFloat(mr))}});var be="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return be},set:function(mr){be=mr.toString()}}),this},os=function(I,gt,Bt,me){Wo.call(this,I,gt),this.type="rect";var be=Bt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return be},set:function(Hr){isNaN(Hr)||(be=parseFloat(Hr))}});var hr=me||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return hr},set:function(Hr){isNaN(Hr)||(hr=parseFloat(Hr))}}),this},ul=function(){this.page=Vi,this.currentPage=ot,this.pages=lr.slice(0),this.pagesContext=si.slice(0),this.x=Dn,this.y=qi,this.matrix=xn,this.width=cl(ot),this.height=ls(ot),this.outputDestination=xr,this.id="",this.objectNumber=-1};ul.prototype.restore=function(){Vi=this.page,ot=this.currentPage,si=this.pagesContext,lr=this.pages,Dn=this.x,qi=this.y,xn=this.matrix,ha(ot,this.width),fl(ot,this.height),xr=this.outputDestination};var hl=function(I,gt,Bt,me,be){rs.push(new ul),Vi=ot=0,lr=[],Dn=I,qi=gt,xn=be,po([Bt,me])},vu=function(I){if(es[I])rs.pop().restore();else{var gt=new ul,Bt="Xo"+(Object.keys(In).length+1).toString(10);gt.id=Bt,es[I]=Bt,In[Bt]=gt,Ii.publish("addFormObject",gt),rs.pop().restore()}};for(var Ho in U.beginFormObject=function(F,I,gt,Bt,me){return hl(F,I,gt,Bt,me),this},U.endFormObject=function(F){return vu(F),this},U.doFormObject=function(F,I){var gt=In[es[F]];return Lt("q"),Lt(I.toString()+" cm"),Lt("/"+gt.id+" Do"),Lt("Q"),this},U.getFormObject=function(F){var I=In[es[F]];return{x:I.x,y:I.y,width:I.width,height:I.height,matrix:I.matrix}},U.save=function(F,I){return F=F||"generated.pdf",(I=I||{}).returnPromise=I.returnPromise||!1,I.returnPromise===!1?(i(Sa(ua()),F),typeof i.unload=="function"&&Se.setTimeout&&setTimeout(i.unload,911),this):new Promise(function(gt,Bt){try{var me=i(Sa(ua()),F);typeof i.unload=="function"&&Se.setTimeout&&setTimeout(i.unload,911),gt(me)}catch(be){Bt(be.message)}})},ht.API)ht.API.hasOwnProperty(Ho)&&(Ho==="events"&&ht.API.events.length?function(F,I){var gt,Bt,me;for(me=I.length-1;me!==-1;me--)gt=I[me][0],Bt=I[me][1],F.subscribe.apply(F,[gt].concat(typeof Bt=="function"?[Bt]:Bt))}(Ii,ht.API.events):U[Ho]=ht.API[Ho]);var cl=U.getPageWidth=function(F){return(si[F=F||ot].mediaBox.topRightX-si[F].mediaBox.bottomLeftX)/kr},ha=U.setPageWidth=function(F,I){si[F].mediaBox.topRightX=I*kr+si[F].mediaBox.bottomLeftX},ls=U.getPageHeight=function(F){return(si[F=F||ot].mediaBox.topRightY-si[F].mediaBox.bottomLeftY)/kr},fl=U.setPageHeight=function(F,I){si[F].mediaBox.topRightY=I*kr+si[F].mediaBox.bottomLeftY};return U.internal={pdfEscape:Fn,getStyle:Dl,getFont:Ys,getFontSize:jr,getCharSpace:Zn,getTextColor:Xs,getLineHeight:za,getLineHeightFactor:jl,getLineWidth:mo,write:Ke,getHorizontalCoordinate:_s,getVerticalCoordinate:xs,getCoordinateString:Ul,getVerticalCoordinateString:zo,collections:{},newObject:Qi,newAdditionalObject:is,newObjectDeferred:Sn,newObjectDeferredBegin:tn,getFilters:gn,putStream:la,events:Ii,scaleFactor:kr,pageSize:{getWidth:function(){return cl(ot)},setWidth:function(I){ha(ot,I)},getHeight:function(){return ls(ot)},setHeight:function(I){fl(ot,I)}},encryptionOptions:nt,encryption:Cn,getEncryptor:du,output:Ro,getNumberOfPages:Do,pages:lr,out:Lt,f2:je,f3:zt,getPageInfo:vo,getPageInfoByObjId:Bo,getCurrentPageInfo:sl,getPDFVersion:yt,Point:Wo,Rectangle:os,Matrix:Qr,hasHotfix:Nl},Object.defineProperty(U.internal.pageSize,"width",{get:function(){return cl(ot)},set:function(I){ha(ot,I)},enumerable:!0,configurable:!0}),Object.defineProperty(U.internal.pageSize,"height",{get:function(){return ls(ot)},set:function(I){fl(ot,I)},enumerable:!0,configurable:!0}),fu.call(U,Xe),ui="F1",bs(_,v),Ii.publish("initialized"),U}tr.prototype.lsbFirstWord=function(C){return String.fromCharCode(C>>0&255,C>>8&255,C>>16&255,C>>24&255)},tr.prototype.toHexString=function(C){return C.split("").map(function(p){return("0"+(255&p.charCodeAt(0)).toString(16)).slice(-2)}).join("")},tr.prototype.hexToBytes=function(C){for(var p=[],v=0;v<C.length;v+=2)p.push(String.fromCharCode(parseInt(C.substr(v,2),16)));return p.join("")},tr.prototype.processOwnerPassword=function(C,p){return or(Xt(p).substr(0,5),C)},tr.prototype.encryptor=function(C,p){var v=Xt(this.encryptionKey+String.fromCharCode(255&C,C>>8&255,C>>16&255,255&p,p>>8&255)).substr(0,10);return function(y){return or(v,y)}},Or.prototype.equals=function(C){var p,v="id,objectNumber,equals";if(!C||Ut()(C)!==Ut()(this))return!1;var y=0;for(p in this)if(!(v.indexOf(p)>=0)){if(this.hasOwnProperty(p)&&!C.hasOwnProperty(p)||this[p]!==C[p])return!1;y++}for(p in C)C.hasOwnProperty(p)&&v.indexOf(p)<0&&y--;return y===0},ht.API={events:[]},ht.version="2.5.0";var Et=ht.API,te=1,_t=function(p){return p.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},xt=function(p){return p.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},Ct=function(p){return p.toFixed(2)},vt=function(p){return p.toFixed(5)};Et.__acroform__={};var de=function(p,v){p.prototype=Object.create(v.prototype),p.prototype.constructor=p},ae=function(p){return p*te},ue=function(p){var v=new Er,y=Fr.internal.getHeight(p)||0,_=Fr.internal.getWidth(p)||0;return v.BBox=[0,0,Number(Ct(_)),Number(Ct(y))],v},ke=Et.__acroform__.setBit=function(C,p){if(C=C||0,p=p||0,isNaN(C)||isNaN(p))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return C|=1<<p},pe=Et.__acroform__.clearBit=function(C,p){if(C=C||0,p=p||0,isNaN(C)||isNaN(p))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return C&=~(1<<p)},Qt=Et.__acroform__.getBit=function(C,p){if(isNaN(C)||isNaN(p))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(C&1<<p)==0?0:1},It=Et.__acroform__.getBitForPdf=function(C,p){if(isNaN(C)||isNaN(p))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Qt(C,p-1)},re=Et.__acroform__.setBitForPdf=function(C,p){if(isNaN(C)||isNaN(p))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return ke(C,p-1)},he=Et.__acroform__.clearBitForPdf=function(C,p){if(isNaN(C)||isNaN(p))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return pe(C,p-1)},Le=Et.__acroform__.calculateCoordinates=function(C,p){var v=p.internal.getHorizontalCoordinate,y=p.internal.getVerticalCoordinate,_=C[0],w=C[1],S=C[2],D=C[3],E={};return E.lowerLeft_X=v(_)||0,E.lowerLeft_Y=y(w+D)||0,E.upperRight_X=v(_+S)||0,E.upperRight_Y=y(w)||0,[Number(Ct(E.lowerLeft_X)),Number(Ct(E.lowerLeft_Y)),Number(Ct(E.upperRight_X)),Number(Ct(E.upperRight_Y))]},K=function(p){if(p.appearanceStreamContent)return p.appearanceStreamContent;if(p.V||p.DV){var v=[],y=p._V||p.DV,_=N(p,y),w=p.scope.internal.getFont(p.fontName,p.fontStyle).id;v.push("/Tx BMC"),v.push("q"),v.push("BT"),v.push(p.scope.__private__.encodeColorString(p.color)),v.push("/"+w+" "+Ct(_.fontSize)+" Tf"),v.push("1 0 0 1 0 0 Tm"),v.push(_.text),v.push("ET"),v.push("Q"),v.push("EMC");var S=ue(p);return S.scope=p.scope,S.stream=v.join(`
`),S}},N=function(p,v){var y=p.fontSize===0?p.maxFontSize:p.fontSize,_={text:"",fontSize:""},w=(v=(v=v.substr(0,1)=="("?v.substr(1):v).substr(v.length-1)==")"?v.substr(0,v.length-1):v).split(" ");w=p.multiline?w.map(function(At){return At.split(`
`)}):w.map(function(At){return[At]});var S=y,D=Fr.internal.getHeight(p)||0;D=D<0?-D:D;var E=Fr.internal.getWidth(p)||0;E=E<0?-E:E;var W=function(qt,Ht,qe){if(qt+1<w.length){var ze=Ht+" "+w[qt+1][0];return R(ze,p,qe).width<=E-4}return!1};S++;t:for(;S>0;){v="",S--;var nt,et,pt=R("3",p,S).height,U=p.multiline?D-S:(D-pt)/2,kt=U+=2,yt=0,Nt=0,wt=0;if(S<=0){v=`(...) Tj
`,v+="% Width of Text: "+R(v,p,S=12).width+", FieldWidth:"+E+`
`;break}for(var Q="",oe=0,Oe=0;Oe<w.length;Oe++)if(w.hasOwnProperty(Oe)){var Ge=!1;if(w[Oe].length!==1&&wt!==w[Oe].length-1){if((pt+2)*(oe+2)+2>D)continue t;Q+=w[Oe][wt],Ge=!0,Nt=Oe,Oe--}else{Q=(Q+=w[Oe][wt]+" ").substr(Q.length-1)==" "?Q.substr(0,Q.length-1):Q;var rr=parseInt(Oe),Re=W(rr,Q,S),sr=Oe>=w.length-1;if(Re&&!sr){Q+=" ",wt=0;continue}if(Re||sr){if(sr)Nt=rr;else if(p.multiline&&(pt+2)*(oe+2)+2>D)continue t}else{if(!p.multiline||(pt+2)*(oe+2)+2>D)continue t;Nt=rr}}for(var Gt="",je=yt;je<=Nt;je++){var zt=w[je];if(p.multiline){if(je===Nt){Gt+=zt[wt]+" ",wt=(wt+1)%zt.length;continue}if(je===yt){Gt+=zt[zt.length-1]+" ";continue}}Gt+=zt[0]+" "}switch(Gt=Gt.substr(Gt.length-1)==" "?Gt.substr(0,Gt.length-1):Gt,et=R(Gt,p,S).width,p.textAlign){case"right":nt=E-et-2;break;case"center":nt=(E-et)/2;break;case"left":default:nt=2}v+=Ct(nt)+" "+Ct(kt)+` Td
`,v+="("+_t(Gt)+`) Tj
`,v+=-Ct(nt)+` 0 Td
`,kt=-(S+2),et=0,yt=Ge?Nt:Nt+1,oe++,Q=""}break}return _.text=v,_.fontSize=S,_},R=function(p,v,y){var _=v.scope.internal.getFont(v.fontName,v.fontStyle),w=v.scope.getStringUnitWidth(p,{font:_,fontSize:parseFloat(y),charSpace:0})*parseFloat(y);return{height:v.scope.getStringUnitWidth("3",{font:_,fontSize:parseFloat(y),charSpace:0})*parseFloat(y)*1.5,width:w}},st={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},ft=function(p,v){var y={type:"reference",object:p};v.internal.getPageInfo(p.page).pageContext.annotations.find(function(_){return _.type===y.type&&_.object===y.object})===void 0&&v.internal.getPageInfo(p.page).pageContext.annotations.push(y)},ee=function(p,v){for(var y in p)if(p.hasOwnProperty(y)){var _=y,w=p[y];v.internal.newObjectDeferredBegin(w.objId,!0),Ut()(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete p[_]}},se=function(p,v){if(v.scope=p,p.internal!==void 0&&(p.internal.acroformPlugin===void 0||p.internal.acroformPlugin.isInitialized===!1)){if(li.FieldNum=0,p.internal.acroformPlugin=JSON.parse(JSON.stringify(st)),p.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");te=p.internal.scaleFactor,p.internal.acroformPlugin.acroFormDictionaryRoot=new Nr,p.internal.acroformPlugin.acroFormDictionaryRoot.scope=p,p.internal.acroformPlugin.acroFormDictionaryRoot._eventID=p.internal.events.subscribe("postPutResources",function(){(function(y){y.internal.events.unsubscribe(y.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete y.internal.acroformPlugin.acroFormDictionaryRoot._eventID,y.internal.acroformPlugin.printedOut=!0})(p)}),p.internal.events.subscribe("buildDocument",function(){(function(y){y.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var _=y.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var w in _)if(_.hasOwnProperty(w)){var S=_[w];S.objId=void 0,S.hasAnnotation&&ft(S,y)}})(p)}),p.internal.events.subscribe("putCatalog",function(){(function(y){if(y.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");y.internal.write("/AcroForm "+y.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(p)}),p.internal.events.subscribe("postPutPages",function(y){(function(_,w){var S=!_;for(var D in _||(w.internal.newObjectDeferredBegin(w.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),w.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),_=_||w.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(_.hasOwnProperty(D)){var E=_[D],W=[],nt=E.Rect;if(E.Rect&&(E.Rect=Le(E.Rect,w)),w.internal.newObjectDeferredBegin(E.objId,!0),E.DA=Fr.createDefaultAppearanceStream(E),Ut()(E)==="object"&&typeof E.getKeyValueListForStream=="function"&&(W=E.getKeyValueListForStream()),E.Rect=nt,E.hasAppearanceStream&&!E.appearanceStreamContent){var et=K(E);W.push({key:"AP",value:"<</N "+et+">>"}),w.internal.acroformPlugin.xForms.push(et)}if(E.appearanceStreamContent){var pt="";for(var U in E.appearanceStreamContent)if(E.appearanceStreamContent.hasOwnProperty(U)){var kt=E.appearanceStreamContent[U];if(pt+="/"+U+" ",pt+="<<",Object.keys(kt).length>=1||Array.isArray(kt)){for(var D in kt)if(kt.hasOwnProperty(D)){var yt=kt[D];typeof yt=="function"&&(yt=yt.call(w,E)),pt+="/"+D+" "+yt+" ",w.internal.acroformPlugin.xForms.indexOf(yt)>=0||w.internal.acroformPlugin.xForms.push(yt)}}else typeof(yt=kt)=="function"&&(yt=yt.call(w,E)),pt+="/"+D+" "+yt,w.internal.acroformPlugin.xForms.indexOf(yt)>=0||w.internal.acroformPlugin.xForms.push(yt);pt+=">>"}W.push({key:"AP",value:`<<
`+pt+">>"})}w.internal.putStream({additionalKeyValues:W,objectId:E.objId}),w.internal.out("endobj")}S&&ee(w.internal.acroformPlugin.xForms,w)})(y,p)}),p.internal.acroformPlugin.isInitialized=!0}},br=Et.__acroform__.arrayToPdfArray=function(C,p,v){var y=function(D){return D};if(Array.isArray(C)){for(var _="[",w=0;w<C.length;w++)switch(w!==0&&(_+=" "),Ut()(C[w])){case"boolean":case"number":case"object":_+=C[w].toString();break;case"string":C[w].substr(0,1)!=="/"?(p!==void 0&&v&&(y=v.internal.getEncryptor(p)),_+="("+_t(y(C[w].toString()))+")"):_+=C[w].toString()}return _+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Rr=function(p,v,y){var _=function(S){return S};return v!==void 0&&y&&(_=y.internal.getEncryptor(v)),(p=p||"").toString(),p="("+_t(_(p))+")"},_r=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(v){this._objId=v}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};_r.prototype.toString=function(){return this.objId+" 0 R"},_r.prototype.putStream=function(){var C=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:C,objectId:this.objId}),this.scope.internal.out("endobj")},_r.prototype.getKeyValueListForStream=function(){var C=[],p=Object.getOwnPropertyNames(this).filter(function(w){return w!="content"&&w!="appearanceStreamContent"&&w!="scope"&&w!="objId"&&w.substring(0,1)!="_"});for(var v in p)if(Object.getOwnPropertyDescriptor(this,p[v]).configurable===!1){var y=p[v],_=this[y];_&&(Array.isArray(_)?C.push({key:y,value:br(_,this.objId,this.scope)}):_ instanceof _r?(_.scope=this.scope,C.push({key:y,value:_.objId+" 0 R"})):typeof _!="function"&&C.push({key:y,value:_}))}return C};var Er=function(){_r.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var p,v=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return v},set:function(_){v=_}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(_){p=_.trim()},get:function(){return p||null}})};de(Er,_r);var Nr=function(){_r.call(this);var p,v=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return v.length>0?v:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return v}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(p){var _=function(S){return S};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+_t(_(p))+")"}},set:function(_){p=_}})};de(Nr,_r);var li=function C(){_r.call(this);var p=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return p},set:function(Q){if(isNaN(Q))throw new Error('Invalid value "'+Q+'" for attribute F supplied.');p=Q}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(p,3))},set:function(Q){Boolean(Q)===!0?this.F=re(p,3):this.F=he(p,3)}});var v=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return v},set:function(Q){if(isNaN(Q))throw new Error('Invalid value "'+Q+'" for attribute Ff supplied.');v=Q}});var y=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(y.length!==0)return y},set:function(Q){y=Q!==void 0?Q:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!y||isNaN(y[0])?0:y[0]},set:function(Q){y[0]=Q}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!y||isNaN(y[1])?0:y[1]},set:function(Q){y[1]=Q}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!y||isNaN(y[2])?0:y[2]},set:function(Q){y[2]=Q}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!y||isNaN(y[3])?0:y[3]},set:function(Q){y[3]=Q}});var _="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return _},set:function(Q){switch(Q){case"/Btn":case"/Tx":case"/Ch":case"/Sig":_=Q;break;default:throw new Error('Invalid value "'+Q+'" for attribute FT supplied.')}}});var w=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!w||w.length<1){if(this instanceof Xn)return;w="FieldObject"+C.FieldNum++}var Q=function(Oe){return Oe};return this.scope&&(Q=this.scope.internal.getEncryptor(this.objId)),"("+_t(Q(w))+")"},set:function(Q){w=Q.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return w},set:function(Q){w=Q}});var S="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return S},set:function(Q){S=Q}});var D="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return D},set:function(Q){D=Q}});var E=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return E},set:function(Q){E=Q}});var W=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return W===void 0?50/te:W},set:function(Q){W=Q}});var nt="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return nt},set:function(Q){nt=Q}});var et="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!et||this instanceof Xn||this instanceof $i))return Rr(et,this.objId,this.scope)},set:function(Q){Q=Q.toString(),et=Q}});var pt=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(pt)return this instanceof Ti?pt:Rr(pt,this.objId,this.scope)},set:function(Q){Q=Q.toString(),pt=this instanceof Ti?Q:Q.substr(0,1)==="("?xt(Q.substr(1,Q.length-2)):xt(Q)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti?xt(pt.substr(1,pt.length-1)):pt},set:function(Q){Q=Q.toString(),pt=this instanceof Ti?"/"+Q:Q}});var U=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(U)return U},set:function(Q){this.V=Q}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(U)return this instanceof Ti?U:Rr(U,this.objId,this.scope)},set:function(Q){Q=Q.toString(),U=this instanceof Ti?Q:Q.substr(0,1)==="("?xt(Q.substr(1,Q.length-2)):xt(Q)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Ti?xt(U.substr(1,U.length-1)):U},set:function(Q){Q=Q.toString(),U=this instanceof Ti?"/"+Q:Q}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var kt,yt=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return yt},set:function(Q){Q=Boolean(Q),yt=Q}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(kt)return kt},set:function(Q){kt=Q}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,1))},set:function(Q){Boolean(Q)===!0?this.Ff=re(this.Ff,1):this.Ff=he(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,2))},set:function(Q){Boolean(Q)===!0?this.Ff=re(this.Ff,2):this.Ff=he(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,3))},set:function(Q){Boolean(Q)===!0?this.Ff=re(this.Ff,3):this.Ff=he(this.Ff,3)}});var Nt=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Nt!==null)return Nt},set:function(Q){if([0,1,2].indexOf(Q)===-1)throw new Error('Invalid value "'+Q+'" for attribute Q supplied.');Nt=Q}}),Object.defineProperty(this,"textAlign",{get:function(){var Q;switch(Nt){case 0:default:Q="left";break;case 1:Q="center";break;case 2:Q="right"}return Q},configurable:!0,enumerable:!0,set:function(Q){switch(Q){case"right":case 2:Nt=2;break;case"center":case 1:Nt=1;break;case"left":case 0:default:Nt=0}}})};de(li,_r);var Bi=function(){li.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var p=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return p},set:function(_){p=_}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return p},set:function(_){p=_}});var v=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return br(v,this.objId,this.scope)},set:function(_){var w,S;S=[],typeof(w=_)=="string"&&(S=function(D,E,W){W||(W=1);for(var nt,et=[];nt=E.exec(D);)et.push(nt[W]);return et}(w,/\((.*?)\)/g)),v=S}}),this.getOptions=function(){return v},this.setOptions=function(y){v=y,this.sort&&v.sort()},this.addOption=function(y){y=(y=y||"").toString(),v.push(y),this.sort&&v.sort()},this.removeOption=function(y,_){for(_=_||!1,y=(y=y||"").toString();v.indexOf(y)!==-1&&(v.splice(v.indexOf(y),1),_!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,18))},set:function(_){Boolean(_)===!0?this.Ff=re(this.Ff,18):this.Ff=he(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,19))},set:function(_){this.combo===!0&&(Boolean(_)===!0?this.Ff=re(this.Ff,19):this.Ff=he(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,20))},set:function(_){Boolean(_)===!0?(this.Ff=re(this.Ff,20),v.sort()):this.Ff=he(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,22))},set:function(_){Boolean(_)===!0?this.Ff=re(this.Ff,22):this.Ff=he(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,23))},set:function(_){Boolean(_)===!0?this.Ff=re(this.Ff,23):this.Ff=he(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,27))},set:function(_){Boolean(_)===!0?this.Ff=re(this.Ff,27):this.Ff=he(this.Ff,27)}}),this.hasAppearanceStream=!1};de(Bi,li);var Mi=function(){Bi.call(this),this.fontName="helvetica",this.combo=!1};de(Mi,Bi);var rn=function(){Mi.call(this),this.combo=!0};de(rn,Mi);var nn=function(){rn.call(this),this.edit=!0};de(nn,rn);var Ti=function(){li.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,15))},set:function(_){Boolean(_)===!0?this.Ff=re(this.Ff,15):this.Ff=he(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,16))},set:function(_){Boolean(_)===!0?this.Ff=re(this.Ff,16):this.Ff=he(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,17))},set:function(_){Boolean(_)===!0?this.Ff=re(this.Ff,17):this.Ff=he(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,26))},set:function(_){Boolean(_)===!0?this.Ff=re(this.Ff,26):this.Ff=he(this.Ff,26)}});var p,v={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var _=function(E){return E};if(this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),Object.keys(v).length!==0){var w,S=[];for(w in S.push("<<"),v)S.push("/"+w+" ("+_t(_(v[w]))+")");return S.push(">>"),S.join(`
`)}},set:function(_){Ut()(_)==="object"&&(v=_)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return v.CA||""},set:function(_){typeof _=="string"&&(v.CA=_)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return p},set:function(_){p=_}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return p.substr(1,p.length-1)},set:function(_){p="/"+_}})};de(Ti,li);var fn=function(){Ti.call(this),this.pushButton=!0};de(fn,Ti);var Yn=function(){Ti.call(this),this.radio=!0,this.pushButton=!1;var p=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return p},set:function(y){p=y!==void 0?y:[]}})};de(Yn,Ti);var Xn=function(){var p,v;li.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return p},set:function(S){p=S}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return v},set:function(S){v=S}});var y,_={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var S=function(nt){return nt};this.scope&&(S=this.scope.internal.getEncryptor(this.objId));var D,E=[];for(D in E.push("<<"),_)E.push("/"+D+" ("+_t(S(_[D]))+")");return E.push(">>"),E.join(`
`)},set:function(S){Ut()(S)==="object"&&(_=S)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return _.CA||""},set:function(S){typeof S=="string"&&(_.CA=S)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return y},set:function(S){y=S}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return y.substr(1,y.length-1)},set:function(S){y="/"+S}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Fr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};de(Xn,li),Yn.prototype.setAppearance=function(C){if(!("createAppearanceStream"in C)||!("getCA"in C))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var p in this.Kids)if(this.Kids.hasOwnProperty(p)){var v=this.Kids[p];v.appearanceStreamContent=C.createAppearanceStream(v.optionName),v.caption=C.getCA()}},Yn.prototype.createOption=function(C){var p=new Xn;return p.Parent=this,p.optionName=C,this.Kids.push(p),ia.call(this.scope,p),p};var ra=function(){Ti.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Fr.CheckBox.createAppearanceStream()};de(ra,Ti);var $i=function(){li.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,13))},set:function(y){Boolean(y)===!0?this.Ff=re(this.Ff,13):this.Ff=he(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,21))},set:function(y){Boolean(y)===!0?this.Ff=re(this.Ff,21):this.Ff=he(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,23))},set:function(y){Boolean(y)===!0?this.Ff=re(this.Ff,23):this.Ff=he(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,24))},set:function(y){Boolean(y)===!0?this.Ff=re(this.Ff,24):this.Ff=he(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,25))},set:function(y){Boolean(y)===!0?this.Ff=re(this.Ff,25):this.Ff=he(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,26))},set:function(y){Boolean(y)===!0?this.Ff=re(this.Ff,26):this.Ff=he(this.Ff,26)}});var p=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return p},set:function(y){p=y}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return p},set:function(y){Number.isInteger(y)&&(p=y)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};de($i,li);var Da=function(){$i.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(It(this.Ff,14))},set:function(v){Boolean(v)===!0?this.Ff=re(this.Ff,14):this.Ff=he(this.Ff,14)}}),this.password=!0};de(Da,$i);var Fr={CheckBox:{createAppearanceStream:function(){return{N:{On:Fr.CheckBox.YesNormal},D:{On:Fr.CheckBox.YesPushDown,Off:Fr.CheckBox.OffPushDown}}},YesPushDown:function(p){var v=ue(p);v.scope=p.scope;var y=[],_=p.scope.internal.getFont(p.fontName,p.fontStyle).id,w=p.scope.__private__.encodeColorString(p.color),S=N(p,p.caption);return y.push("0.749023 g"),y.push("0 0 "+Ct(Fr.internal.getWidth(p))+" "+Ct(Fr.internal.getHeight(p))+" re"),y.push("f"),y.push("BMC"),y.push("q"),y.push("0 0 1 rg"),y.push("/"+_+" "+Ct(S.fontSize)+" Tf "+w),y.push("BT"),y.push(S.text),y.push("ET"),y.push("Q"),y.push("EMC"),v.stream=y.join(`
`),v},YesNormal:function(p){var v=ue(p);v.scope=p.scope;var y=p.scope.internal.getFont(p.fontName,p.fontStyle).id,_=p.scope.__private__.encodeColorString(p.color),w=[],S=Fr.internal.getHeight(p),D=Fr.internal.getWidth(p),E=N(p,p.caption);return w.push("1 g"),w.push("0 0 "+Ct(D)+" "+Ct(S)+" re"),w.push("f"),w.push("q"),w.push("0 0 1 rg"),w.push("0 0 "+Ct(D-1)+" "+Ct(S-1)+" re"),w.push("W"),w.push("n"),w.push("0 g"),w.push("BT"),w.push("/"+y+" "+Ct(E.fontSize)+" Tf "+_),w.push(E.text),w.push("ET"),w.push("Q"),v.stream=w.join(`
`),v},OffPushDown:function(p){var v=ue(p);v.scope=p.scope;var y=[];return y.push("0.749023 g"),y.push("0 0 "+Ct(Fr.internal.getWidth(p))+" "+Ct(Fr.internal.getHeight(p))+" re"),y.push("f"),v.stream=y.join(`
`),v}},RadioButton:{Circle:{createAppearanceStream:function(p){var v={D:{Off:Fr.RadioButton.Circle.OffPushDown},N:{}};return v.N[p]=Fr.RadioButton.Circle.YesNormal,v.D[p]=Fr.RadioButton.Circle.YesPushDown,v},getCA:function(){return"l"},YesNormal:function(p){var v=ue(p);v.scope=p.scope;var y=[],_=Fr.internal.getWidth(p)<=Fr.internal.getHeight(p)?Fr.internal.getWidth(p)/4:Fr.internal.getHeight(p)/4;_=Number((.9*_).toFixed(5));var w=Fr.internal.Bezier_C,S=Number((_*w).toFixed(5));return y.push("q"),y.push("1 0 0 1 "+vt(Fr.internal.getWidth(p)/2)+" "+vt(Fr.internal.getHeight(p)/2)+" cm"),y.push(_+" 0 m"),y.push(_+" "+S+" "+S+" "+_+" 0 "+_+" c"),y.push("-"+S+" "+_+" -"+_+" "+S+" -"+_+" 0 c"),y.push("-"+_+" -"+S+" -"+S+" -"+_+" 0 -"+_+" c"),y.push(S+" -"+_+" "+_+" -"+S+" "+_+" 0 c"),y.push("f"),y.push("Q"),v.stream=y.join(`
`),v},YesPushDown:function(p){var v=ue(p);v.scope=p.scope;var y=[],_=Fr.internal.getWidth(p)<=Fr.internal.getHeight(p)?Fr.internal.getWidth(p)/4:Fr.internal.getHeight(p)/4;_=Number((.9*_).toFixed(5));var w=Number((2*_).toFixed(5)),S=Number((w*Fr.internal.Bezier_C).toFixed(5)),D=Number((_*Fr.internal.Bezier_C).toFixed(5));return y.push("0.749023 g"),y.push("q"),y.push("1 0 0 1 "+vt(Fr.internal.getWidth(p)/2)+" "+vt(Fr.internal.getHeight(p)/2)+" cm"),y.push(w+" 0 m"),y.push(w+" "+S+" "+S+" "+w+" 0 "+w+" c"),y.push("-"+S+" "+w+" -"+w+" "+S+" -"+w+" 0 c"),y.push("-"+w+" -"+S+" -"+S+" -"+w+" 0 -"+w+" c"),y.push(S+" -"+w+" "+w+" -"+S+" "+w+" 0 c"),y.push("f"),y.push("Q"),y.push("0 g"),y.push("q"),y.push("1 0 0 1 "+vt(Fr.internal.getWidth(p)/2)+" "+vt(Fr.internal.getHeight(p)/2)+" cm"),y.push(_+" 0 m"),y.push(_+" "+D+" "+D+" "+_+" 0 "+_+" c"),y.push("-"+D+" "+_+" -"+_+" "+D+" -"+_+" 0 c"),y.push("-"+_+" -"+D+" -"+D+" -"+_+" 0 -"+_+" c"),y.push(D+" -"+_+" "+_+" -"+D+" "+_+" 0 c"),y.push("f"),y.push("Q"),v.stream=y.join(`
`),v},OffPushDown:function(p){var v=ue(p);v.scope=p.scope;var y=[],_=Fr.internal.getWidth(p)<=Fr.internal.getHeight(p)?Fr.internal.getWidth(p)/4:Fr.internal.getHeight(p)/4;_=Number((.9*_).toFixed(5));var w=Number((2*_).toFixed(5)),S=Number((w*Fr.internal.Bezier_C).toFixed(5));return y.push("0.749023 g"),y.push("q"),y.push("1 0 0 1 "+vt(Fr.internal.getWidth(p)/2)+" "+vt(Fr.internal.getHeight(p)/2)+" cm"),y.push(w+" 0 m"),y.push(w+" "+S+" "+S+" "+w+" 0 "+w+" c"),y.push("-"+S+" "+w+" -"+w+" "+S+" -"+w+" 0 c"),y.push("-"+w+" -"+S+" -"+S+" -"+w+" 0 -"+w+" c"),y.push(S+" -"+w+" "+w+" -"+S+" "+w+" 0 c"),y.push("f"),y.push("Q"),v.stream=y.join(`
`),v}},Cross:{createAppearanceStream:function(p){var v={D:{Off:Fr.RadioButton.Cross.OffPushDown},N:{}};return v.N[p]=Fr.RadioButton.Cross.YesNormal,v.D[p]=Fr.RadioButton.Cross.YesPushDown,v},getCA:function(){return"8"},YesNormal:function(p){var v=ue(p);v.scope=p.scope;var y=[],_=Fr.internal.calculateCross(p);return y.push("q"),y.push("1 1 "+Ct(Fr.internal.getWidth(p)-2)+" "+Ct(Fr.internal.getHeight(p)-2)+" re"),y.push("W"),y.push("n"),y.push(Ct(_.x1.x)+" "+Ct(_.x1.y)+" m"),y.push(Ct(_.x2.x)+" "+Ct(_.x2.y)+" l"),y.push(Ct(_.x4.x)+" "+Ct(_.x4.y)+" m"),y.push(Ct(_.x3.x)+" "+Ct(_.x3.y)+" l"),y.push("s"),y.push("Q"),v.stream=y.join(`
`),v},YesPushDown:function(p){var v=ue(p);v.scope=p.scope;var y=Fr.internal.calculateCross(p),_=[];return _.push("0.749023 g"),_.push("0 0 "+Ct(Fr.internal.getWidth(p))+" "+Ct(Fr.internal.getHeight(p))+" re"),_.push("f"),_.push("q"),_.push("1 1 "+Ct(Fr.internal.getWidth(p)-2)+" "+Ct(Fr.internal.getHeight(p)-2)+" re"),_.push("W"),_.push("n"),_.push(Ct(y.x1.x)+" "+Ct(y.x1.y)+" m"),_.push(Ct(y.x2.x)+" "+Ct(y.x2.y)+" l"),_.push(Ct(y.x4.x)+" "+Ct(y.x4.y)+" m"),_.push(Ct(y.x3.x)+" "+Ct(y.x3.y)+" l"),_.push("s"),_.push("Q"),v.stream=_.join(`
`),v},OffPushDown:function(p){var v=ue(p);v.scope=p.scope;var y=[];return y.push("0.749023 g"),y.push("0 0 "+Ct(Fr.internal.getWidth(p))+" "+Ct(Fr.internal.getHeight(p))+" re"),y.push("f"),v.stream=y.join(`
`),v}}},createDefaultAppearanceStream:function(p){var v=p.scope.internal.getFont(p.fontName,p.fontStyle).id,y=p.scope.__private__.encodeColorString(p.color);return"/"+v+" "+p.fontSize+" Tf "+y}};Fr.internal={Bezier_C:.551915024494,calculateCross:function(p){var v=Fr.internal.getWidth(p),y=Fr.internal.getHeight(p),_=Math.min(v,y);return{x1:{x:(v-_)/2,y:(y-_)/2+_},x2:{x:(v-_)/2+_,y:(y-_)/2},x3:{x:(v-_)/2,y:(y-_)/2},x4:{x:(v-_)/2+_,y:(y-_)/2+_}}}},Fr.internal.getWidth=function(C){var p=0;return Ut()(C)==="object"&&(p=ae(C.Rect[2])),p},Fr.internal.getHeight=function(C){var p=0;return Ut()(C)==="object"&&(p=ae(C.Rect[3])),p};var ia=Et.addField=function(C){if(se(this,C),!(C instanceof li))throw new Error("Invalid argument passed to jsPDF.addField.");var p;return(p=C).scope.internal.acroformPlugin.printedOut&&(p.scope.internal.acroformPlugin.printedOut=!1,p.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),p.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(p),C.page=C.scope.internal.getCurrentPageInfo().pageNumber,this};Et.AcroFormChoiceField=Bi,Et.AcroFormListBox=Mi,Et.AcroFormComboBox=rn,Et.AcroFormEditBox=nn,Et.AcroFormButton=Ti,Et.AcroFormPushButton=fn,Et.AcroFormRadioButton=Yn,Et.AcroFormCheckBox=ra,Et.AcroFormTextField=$i,Et.AcroFormPasswordField=Da,Et.AcroFormAppearance=Fr,Et.AcroForm={ChoiceField:Bi,ListBox:Mi,ComboBox:rn,EditBox:nn,Button:Ti,PushButton:fn,RadioButton:Yn,CheckBox:ra,TextField:$i,PasswordField:Da,Appearance:Fr},ht.AcroForm={ChoiceField:Bi,ListBox:Mi,ComboBox:rn,EditBox:nn,Button:Ti,PushButton:fn,RadioButton:Yn,CheckBox:ra,TextField:$i,PasswordField:Da,Appearance:Fr};var Ds=ht.AcroForm;function $a(C){return C.reduce(function(p,v,y){return p[v]=y,p},{})}(function(C){C.__addimage__={};var p="UNKNOWN",v={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},y=C.__addimage__.getImageFileTypeByImageData=function(zt,At){var qt,Ht,qe,ze,ar,Ce=p;if((At=At||p)==="RGBA"||zt.data!==void 0&&zt.data instanceof Uint8ClampedArray&&"height"in zt&&"width"in zt)return"RGBA";if(rr(zt))for(ar in v)for(qe=v[ar],qt=0;qt<qe.length;qt+=1){for(ze=!0,Ht=0;Ht<qe[qt].length;Ht+=1)if(qe[qt][Ht]!==void 0&&qe[qt][Ht]!==zt[Ht]){ze=!1;break}if(ze===!0){Ce=ar;break}}else for(ar in v)for(qe=v[ar],qt=0;qt<qe.length;qt+=1){for(ze=!0,Ht=0;Ht<qe[qt].length;Ht+=1)if(qe[qt][Ht]!==void 0&&qe[qt][Ht]!==zt.charCodeAt(Ht)){ze=!1;break}if(ze===!0){Ce=ar;break}}return Ce===p&&At!==p&&(Ce=At),Ce},_=function zt(At){for(var qt=this.internal.write,Ht=this.internal.putStream,qe=(0,this.internal.getFilters)();qe.indexOf("FlateEncode")!==-1;)qe.splice(qe.indexOf("FlateEncode"),1);At.objectId=this.internal.newObject();var ze=[];if(ze.push({key:"Type",value:"/XObject"}),ze.push({key:"Subtype",value:"/Image"}),ze.push({key:"Width",value:At.width}),ze.push({key:"Height",value:At.height}),At.colorSpace===Nt.INDEXED?ze.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(At.palette.length/3-1)+" "+("sMask"in At&&At.sMask!==void 0?At.objectId+2:At.objectId+1)+" 0 R]"}):(ze.push({key:"ColorSpace",value:"/"+At.colorSpace}),At.colorSpace===Nt.DEVICE_CMYK&&ze.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),ze.push({key:"BitsPerComponent",value:At.bitsPerComponent}),"decodeParameters"in At&&At.decodeParameters!==void 0&&ze.push({key:"DecodeParms",value:"<<"+At.decodeParameters+">>"}),"transparency"in At&&Array.isArray(At.transparency)){for(var ar="",Ce=0,dr=At.transparency.length;Ce<dr;Ce++)ar+=At.transparency[Ce]+" "+At.transparency[Ce]+" ";ze.push({key:"Mask",value:"["+ar+"]"})}At.sMask!==void 0&&ze.push({key:"SMask",value:At.objectId+1+" 0 R"});var Ye=At.filter!==void 0?["/"+At.filter]:void 0;if(Ht({data:At.data,additionalKeyValues:ze,alreadyAppliedFilters:Ye,objectId:At.objectId}),qt("endobj"),"sMask"in At&&At.sMask!==void 0){var yr="/Predictor "+At.predictor+" /Colors 1 /BitsPerComponent "+At.bitsPerComponent+" /Columns "+At.width,Rt={width:At.width,height:At.height,colorSpace:"DeviceGray",bitsPerComponent:At.bitsPerComponent,decodeParameters:yr,data:At.sMask};"filter"in At&&(Rt.filter=At.filter),zt.call(this,Rt)}if(At.colorSpace===Nt.INDEXED){var ot=this.internal.newObject();Ht({data:sr(new Uint8Array(At.palette)),objectId:ot}),qt("endobj")}},w=function(){var At=this.internal.collections.addImage_images;for(var qt in At)_.call(this,At[qt])},S=function(){var At,qt=this.internal.collections.addImage_images,Ht=this.internal.write;for(var qe in qt)Ht("/I"+(At=qt[qe]).index,At.objectId,"0","R")},D=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",w),this.internal.events.subscribe("putXobjectDict",S))},E=function(){var At=this.internal.collections.addImage_images;return D.call(this),At},W=function(){return Object.keys(this.internal.collections.addImage_images).length},nt=function(At){return typeof C["process"+At.toUpperCase()]=="function"},et=function(At){return Ut()(At)==="object"&&At.nodeType===1},pt=function(At,qt){if(At.nodeName==="IMG"&&At.hasAttribute("src")){var Ht=""+At.getAttribute("src");if(Ht.indexOf("data:image/")===0)return h(unescape(Ht).split("base64,").pop());var qe=C.loadFile(Ht,!0);if(qe!==void 0)return qe}if(At.nodeName==="CANVAS"){if(At.width===0||At.height===0)throw new Error("Given canvas must have data. Canvas width: "+At.width+", height: "+At.height);var ze;switch(qt){case"PNG":ze="image/png";break;case"WEBP":ze="image/webp";break;case"JPEG":case"JPG":default:ze="image/jpeg"}return h(At.toDataURL(ze,1).split("base64,").pop())}},U=function(At){var qt=this.internal.collections.addImage_images;if(qt){for(var Ht in qt)if(At===qt[Ht].alias)return qt[Ht]}},kt=function(At,qt,Ht){return At||qt||(At=-96,qt=-96),At<0&&(At=-1*Ht.width*72/At/this.internal.scaleFactor),qt<0&&(qt=-1*Ht.height*72/qt/this.internal.scaleFactor),At===0&&(At=qt*Ht.width/Ht.height),qt===0&&(qt=At*Ht.height/Ht.width),[At,qt]},yt=function(At,qt,Ht,qe,ze,ar){var Ce=kt.call(this,Ht,qe,ze),dr=this.internal.getCoordinateString,Ye=this.internal.getVerticalCoordinateString,yr=E.call(this);if(Ht=Ce[0],qe=Ce[1],yr[ze.index]=ze,ar){ar*=Math.PI/180;var Rt=Math.cos(ar),ot=Math.sin(ar),Dt=function(xe){return xe.toFixed(4)},$t=[Dt(Rt),Dt(ot),Dt(-1*ot),Dt(Rt),0,0,"cm"]}this.internal.write("q"),ar?(this.internal.write([1,"0","0",1,dr(At),Ye(qt+qe),"cm"].join(" ")),this.internal.write($t.join(" ")),this.internal.write([dr(Ht),"0","0",dr(qe),"0","0","cm"].join(" "))):this.internal.write([dr(Ht),"0","0",dr(qe),dr(At),Ye(qt+qe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+ze.index+" Do"),this.internal.write("Q")},Nt=C.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};C.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var wt=C.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},Q=C.__addimage__.sHashCode=function(zt){var At,qt,Ht=0;if(typeof zt=="string")for(qt=zt.length,At=0;At<qt;At++)Ht=(Ht<<5)-Ht+zt.charCodeAt(At),Ht|=0;else if(rr(zt))for(qt=zt.byteLength/2,At=0;At<qt;At++)Ht=(Ht<<5)-Ht+zt[At],Ht|=0;return Ht},oe=C.__addimage__.validateStringAsBase64=function(zt){(zt=zt||"").toString().trim();var At=!0;return zt.length===0&&(At=!1),zt.length%4!=0&&(At=!1),/^[A-Za-z0-9+/]+$/.test(zt.substr(0,zt.length-2))===!1&&(At=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(zt.substr(-2))===!1&&(At=!1),At},Oe=C.__addimage__.extractImageFromDataUrl=function(zt){var At=(zt=zt||"").split("base64,"),qt=null;if(At.length===2){var Ht=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(At[0]);Array.isArray(Ht)&&(qt={mimeType:Ht[1],charset:Ht[2],data:At[1]})}return qt},Ge=C.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"};C.__addimage__.isArrayBuffer=function(zt){return Ge()&&zt instanceof ArrayBuffer};var rr=C.__addimage__.isArrayBufferView=function(zt){return Ge()&&typeof Uint32Array!="undefined"&&(zt instanceof Int8Array||zt instanceof Uint8Array||typeof Uint8ClampedArray!="undefined"&&zt instanceof Uint8ClampedArray||zt instanceof Int16Array||zt instanceof Uint16Array||zt instanceof Int32Array||zt instanceof Uint32Array||zt instanceof Float32Array||zt instanceof Float64Array)},Re=C.__addimage__.binaryStringToUint8Array=function(zt){for(var At=zt.length,qt=new Uint8Array(At),Ht=0;Ht<At;Ht++)qt[Ht]=zt.charCodeAt(Ht);return qt},sr=C.__addimage__.arrayBufferToBinaryString=function(zt){for(var At="",qt=rr(zt)?zt:new Uint8Array(zt),Ht=0;Ht<qt.length;Ht+=8192)At+=String.fromCharCode.apply(null,qt.subarray(Ht,Ht+8192));return At};C.addImage=function(){var zt,At,qt,Ht,qe,ze,ar,Ce,dr;if(typeof arguments[1]=="number"?(At=p,qt=arguments[1],Ht=arguments[2],qe=arguments[3],ze=arguments[4],ar=arguments[5],Ce=arguments[6],dr=arguments[7]):(At=arguments[1],qt=arguments[2],Ht=arguments[3],qe=arguments[4],ze=arguments[5],ar=arguments[6],Ce=arguments[7],dr=arguments[8]),Ut()(zt=arguments[0])==="object"&&!et(zt)&&"imageData"in zt){var Ye=zt;zt=Ye.imageData,At=Ye.format||At||p,qt=Ye.x||qt||0,Ht=Ye.y||Ht||0,qe=Ye.w||Ye.width||qe,ze=Ye.h||Ye.height||ze,ar=Ye.alias||ar,Ce=Ye.compression||Ce,dr=Ye.rotation||Ye.angle||dr}var yr=this.internal.getFilters();if(Ce===void 0&&yr.indexOf("FlateEncode")!==-1&&(Ce="SLOW"),isNaN(qt)||isNaN(Ht))throw new Error("Invalid coordinates passed to jsPDF.addImage");D.call(this);var Rt=Gt.call(this,zt,At,ar,Ce);return yt.call(this,qt,Ht,qe,ze,Rt,dr),this};var Gt=function(At,qt,Ht,qe){var ze,ar,Ce;if(typeof At=="string"&&y(At)===p){At=unescape(At);var dr=je(At,!1);(dr!==""||(dr=C.loadFile(At,!0))!==void 0)&&(At=dr)}if(et(At)&&(At=pt(At,qt)),qt=y(At,qt),!nt(qt))throw new Error("addImage does not support files of type '"+qt+"', please ensure that a plugin for '"+qt+"' support is added.");if(((Ce=Ht)==null||Ce.length===0)&&(Ht=function(Ye){return typeof Ye=="string"||rr(Ye)?Q(Ye):rr(Ye.data)?Q(Ye.data):null}(At)),(ze=U.call(this,Ht))||(Ge()&&(At instanceof Uint8Array||qt==="RGBA"||(ar=At,At=Re(At))),ze=this["process"+qt.toUpperCase()](At,W.call(this),Ht,function(Ye){return Ye&&typeof Ye=="string"&&(Ye=Ye.toUpperCase()),Ye in C.image_compression?Ye:wt.NONE}(qe),ar)),!ze)throw new Error("An unknown error occurred whilst processing the image.");return ze},je=C.__addimage__.convertBase64ToBinaryString=function(zt,At){var qt;At=typeof At!="boolean"||At;var Ht,qe="";if(typeof zt=="string"){Ht=(qt=Oe(zt))!==null?qt.data:zt;try{qe=h(Ht)}catch(ze){if(At)throw oe(Ht)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+ze.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return qe};C.getImageProperties=function(zt){var At,qt,Ht="";if(et(zt)&&(zt=pt(zt)),typeof zt=="string"&&y(zt)===p&&((Ht=je(zt,!1))===""&&(Ht=C.loadFile(zt)||""),zt=Ht),qt=y(zt),!nt(qt))throw new Error("addImage does not support files of type '"+qt+"', please ensure that a plugin for '"+qt+"' support is added.");if(!Ge()||zt instanceof Uint8Array||(zt=Re(zt)),!(At=this["process"+qt.toUpperCase()](zt)))throw new Error("An unknown error occurred whilst processing the image");return At.fileType=qt,At}})(ht.API),function(C){var p=function(y){if(y!==void 0&&y!="")return!0};ht.API.events.push(["addPage",function(v){this.internal.getPageInfo(v.pageNumber).pageContext.annotations=[]}]),C.events.push(["putPage",function(v){for(var y,_,w,S=this.internal.getCoordinateString,D=this.internal.getVerticalCoordinateString,E=this.internal.getPageInfoByObjId(v.objId),W=v.pageContext.annotations,nt=!1,et=0;et<W.length&&!nt;et++)switch((y=W[et]).type){case"link":(p(y.options.url)||p(y.options.pageNumber))&&(nt=!0);break;case"reference":case"text":case"freetext":nt=!0}if(nt!=0){this.internal.write("/Annots [");for(var pt=0;pt<W.length;pt++){y=W[pt];var U=this.internal.pdfEscape,kt=this.internal.getEncryptor(v.objId);switch(y.type){case"reference":this.internal.write(" "+y.object.objId+" 0 R ");break;case"text":var yt=this.internal.newAdditionalObject(),Nt=this.internal.newAdditionalObject(),wt=this.internal.getEncryptor(yt.objId),Q=y.title||"Note";w="<</Type /Annot /Subtype /Text "+(_="/Rect ["+S(y.bounds.x)+" "+D(y.bounds.y+y.bounds.h)+" "+S(y.bounds.x+y.bounds.w)+" "+D(y.bounds.y)+"] ")+"/Contents ("+U(wt(y.contents))+")",w+=" /Popup "+Nt.objId+" 0 R",w+=" /P "+E.objId+" 0 R",w+=" /T ("+U(wt(Q))+") >>",yt.content=w;var oe=yt.objId+" 0 R";w="<</Type /Annot /Subtype /Popup "+(_="/Rect ["+S(y.bounds.x+30)+" "+D(y.bounds.y+y.bounds.h)+" "+S(y.bounds.x+y.bounds.w+30)+" "+D(y.bounds.y)+"] ")+" /Parent "+oe,y.open&&(w+=" /Open true"),w+=" >>",Nt.content=w,this.internal.write(yt.objId,"0 R",Nt.objId,"0 R");break;case"freetext":_="/Rect ["+S(y.bounds.x)+" "+D(y.bounds.y)+" "+S(y.bounds.x+y.bounds.w)+" "+D(y.bounds.y+y.bounds.h)+"] ";var Oe=y.color||"#000000";w="<</Type /Annot /Subtype /FreeText "+_+"/Contents ("+U(kt(y.contents))+")",w+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+Oe+")",w+=" /Border [0 0 0]",w+=" >>",this.internal.write(w);break;case"link":if(y.options.name){var Ge=this.annotations._nameMap[y.options.name];y.options.pageNumber=Ge.page,y.options.top=Ge.y}else y.options.top||(y.options.top=0);if(_="/Rect ["+y.finalBounds.x+" "+y.finalBounds.y+" "+y.finalBounds.w+" "+y.finalBounds.h+"] ",w="",y.options.url)w="<</Type /Annot /Subtype /Link "+_+"/Border [0 0 0] /A <</S /URI /URI ("+U(kt(y.options.url))+") >>";else if(y.options.pageNumber)switch(w="<</Type /Annot /Subtype /Link "+_+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(y.options.pageNumber).objId+" 0 R",y.options.magFactor=y.options.magFactor||"XYZ",y.options.magFactor){case"Fit":w+=" /Fit]";break;case"FitH":w+=" /FitH "+y.options.top+"]";break;case"FitV":y.options.left=y.options.left||0,w+=" /FitV "+y.options.left+"]";break;case"XYZ":default:var rr=D(y.options.top);y.options.left=y.options.left||0,y.options.zoom===void 0&&(y.options.zoom=0),w+=" /XYZ "+y.options.left+" "+rr+" "+y.options.zoom+"]"}w!=""&&(w+=" >>",this.internal.write(w))}}this.internal.write("]")}}]),C.createAnnotation=function(v){var y=this.internal.getCurrentPageInfo();switch(v.type){case"link":this.link(v.bounds.x,v.bounds.y,v.bounds.w,v.bounds.h,v);break;case"text":case"freetext":y.pageContext.annotations.push(v)}},C.link=function(v,y,_,w,S){var D=this.internal.getCurrentPageInfo(),E=this.internal.getCoordinateString,W=this.internal.getVerticalCoordinateString;D.pageContext.annotations.push({finalBounds:{x:E(v),y:W(y),w:E(v+_),h:W(y+w)},options:S,type:"link"})},C.textWithLink=function(v,y,_,w){var S,D,E=this.getTextWidth(v),W=this.internal.getLineHeight()/this.internal.scaleFactor;if(w.maxWidth!==void 0){D=w.maxWidth;var nt=this.splitTextToSize(v,D).length;S=Math.ceil(W*nt)}else D=E,S=W;return this.text(v,y,_,w),_+=.2*W,w.align==="center"&&(y-=E/2),w.align==="right"&&(y-=E),this.link(y,_-W,D,S,w),E},C.getTextWidth=function(v){var y=this.internal.getFontSize();return this.getStringUnitWidth(v)*y/this.internal.scaleFactor}}(ht.API),function(C){var p={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},v={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},y={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},_=[1570,1571,1573,1575];C.__arabicParser__={};var w=C.__arabicParser__.isInArabicSubstitutionA=function(yt){return p[yt.charCodeAt(0)]!==void 0},S=C.__arabicParser__.isArabicLetter=function(yt){return typeof yt=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(yt)},D=C.__arabicParser__.isArabicEndLetter=function(yt){return S(yt)&&w(yt)&&p[yt.charCodeAt(0)].length<=2},E=C.__arabicParser__.isArabicAlfLetter=function(yt){return S(yt)&&_.indexOf(yt.charCodeAt(0))>=0};C.__arabicParser__.arabicLetterHasIsolatedForm=function(yt){return S(yt)&&w(yt)&&p[yt.charCodeAt(0)].length>=1};var W=C.__arabicParser__.arabicLetterHasFinalForm=function(yt){return S(yt)&&w(yt)&&p[yt.charCodeAt(0)].length>=2};C.__arabicParser__.arabicLetterHasInitialForm=function(yt){return S(yt)&&w(yt)&&p[yt.charCodeAt(0)].length>=3};var nt=C.__arabicParser__.arabicLetterHasMedialForm=function(yt){return S(yt)&&w(yt)&&p[yt.charCodeAt(0)].length==4},et=C.__arabicParser__.resolveLigatures=function(yt){var Nt=0,wt=v,Q="",oe=0;for(Nt=0;Nt<yt.length;Nt+=1)wt[yt.charCodeAt(Nt)]!==void 0?(oe++,typeof(wt=wt[yt.charCodeAt(Nt)])=="number"&&(Q+=String.fromCharCode(wt),wt=v,oe=0),Nt===yt.length-1&&(wt=v,Q+=yt.charAt(Nt-(oe-1)),Nt-=oe-1,oe=0)):(wt=v,Q+=yt.charAt(Nt-oe),Nt-=oe,oe=0);return Q};C.__arabicParser__.isArabicDiacritic=function(yt){return yt!==void 0&&y[yt.charCodeAt(0)]!==void 0};var pt=C.__arabicParser__.getCorrectForm=function(yt,Nt,wt){return S(yt)?w(yt)===!1?-1:!W(yt)||!S(Nt)&&!S(wt)||!S(wt)&&D(Nt)||D(yt)&&!S(Nt)||D(yt)&&E(Nt)||D(yt)&&D(Nt)?0:nt(yt)&&S(Nt)&&!D(Nt)&&S(wt)&&W(wt)?3:D(yt)||!S(wt)?1:2:-1},U=function(Nt){var wt=0,Q=0,oe=0,Oe="",Ge="",rr="",Re=(Nt=Nt||"").split("\\s+"),sr=[];for(wt=0;wt<Re.length;wt+=1){for(sr.push(""),Q=0;Q<Re[wt].length;Q+=1)Oe=Re[wt][Q],Ge=Re[wt][Q-1],rr=Re[wt][Q+1],S(Oe)?(oe=pt(Oe,Ge,rr),sr[wt]+=oe!==-1?String.fromCharCode(p[Oe.charCodeAt(0)][oe]):Oe):sr[wt]+=Oe;sr[wt]=et(sr[wt])}return sr.join(" ")},kt=C.__arabicParser__.processArabic=C.processArabic=function(){var yt,Nt=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,wt=[];if(Array.isArray(Nt)){var Q=0;for(wt=[],Q=0;Q<Nt.length;Q+=1)Array.isArray(Nt[Q])?wt.push([U(Nt[Q][0]),Nt[Q][1],Nt[Q][2]]):wt.push([U(Nt[Q])]);yt=wt}else yt=U(Nt);return typeof arguments[0]=="string"?yt:(arguments[0].text=yt,arguments[0])};C.events.push(["preProcessText",kt])}(ht.API),ht.API.autoPrint=function(C){var p;switch((C=C||{}).variant=C.variant||"non-conform",C.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){p=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+p+" 0 R")})}return this},function(C){var p=function(){var y=void 0;Object.defineProperty(this,"pdf",{get:function(){return y},set:function(W){y=W}});var _=150;Object.defineProperty(this,"width",{get:function(){return _},set:function(W){_=isNaN(W)||Number.isInteger(W)===!1||W<0?150:W,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=_+1)}});var w=300;Object.defineProperty(this,"height",{get:function(){return w},set:function(W){w=isNaN(W)||Number.isInteger(W)===!1||W<0?300:W,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=w+1)}});var S=[];Object.defineProperty(this,"childNodes",{get:function(){return S},set:function(W){S=W}});var D={};Object.defineProperty(this,"style",{get:function(){return D},set:function(W){D=W}}),Object.defineProperty(this,"parentNode",{})};p.prototype.getContext=function(v,y){var _;if((v=v||"2d")!=="2d")return null;for(_ in y)this.pdf.context2d.hasOwnProperty(_)&&(this.pdf.context2d[_]=y[_]);return this.pdf.context2d._canvas=this,this.pdf.context2d},p.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},C.events.push(["initialized",function(){this.canvas=new p,this.canvas.pdf=this}])}(ht.API),function(C){var p={left:0,top:0,bottom:0,right:0},v=!1,y=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},p),this.internal.__cell__.margins.width=this.getPageWidth(),_.call(this))},_=function(){this.internal.__cell__.lastCell=new w,this.internal.__cell__.pages=1},w=function(){var W=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return W},set:function(wt){W=wt}});var nt=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return nt},set:function(wt){nt=wt}});var et=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return et},set:function(wt){et=wt}});var pt=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return pt},set:function(wt){pt=wt}});var U=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return U},set:function(wt){U=wt}});var kt=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return kt},set:function(wt){kt=wt}});var yt=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return yt},set:function(wt){yt=wt}}),this};w.prototype.clone=function(){return new w(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},w.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},C.setHeaderFunction=function(E){return y.call(this),this.internal.__cell__.headerFunction=typeof E=="function"?E:void 0,this},C.getTextDimensions=function(E,W){y.call(this);var nt=(W=W||{}).fontSize||this.getFontSize(),et=W.font||this.getFont(),pt=W.scaleFactor||this.internal.scaleFactor,U=0,kt=0,yt=0,Nt=this;if(!Array.isArray(E)&&typeof E!="string"){if(typeof E!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");E=String(E)}var wt=W.maxWidth;wt>0?typeof E=="string"?E=this.splitTextToSize(E,wt):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(oe,Oe){return oe.concat(Nt.splitTextToSize(Oe,wt))},[])):E=Array.isArray(E)?E:[E];for(var Q=0;Q<E.length;Q++)U<(yt=this.getStringUnitWidth(E[Q],{font:et})*nt)&&(U=yt);return U!==0&&(kt=E.length),{w:U/=pt,h:Math.max((kt*nt*this.getLineHeightFactor()-nt*(this.getLineHeightFactor()-1))/pt,0)}},C.cellAddPage=function(){y.call(this),this.addPage();var E=this.internal.__cell__.margins||p;return this.internal.__cell__.lastCell=new w(E.left,E.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var S=C.cell=function(){var E;E=arguments[0]instanceof w?arguments[0]:new w(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),y.call(this);var W=this.internal.__cell__.lastCell,nt=this.internal.__cell__.padding,et=this.internal.__cell__.margins||p,pt=this.internal.__cell__.tableHeaderRow,U=this.internal.__cell__.printHeaders;return W.lineNumber!==void 0&&(W.lineNumber===E.lineNumber?(E.x=(W.x||0)+(W.width||0),E.y=W.y||0):W.y+W.height+E.height+et.bottom>this.getPageHeight()?(this.cellAddPage(),E.y=et.top,U&&pt&&(this.printHeaderRow(E.lineNumber,!0),E.y+=pt[0].height)):E.y=W.y+W.height||E.y),E.text[0]!==void 0&&(this.rect(E.x,E.y,E.width,E.height,v===!0?"FD":void 0),E.align==="right"?this.text(E.text,E.x+E.width-nt,E.y+nt,{align:"right",baseline:"top"}):E.align==="center"?this.text(E.text,E.x+E.width/2,E.y+nt,{align:"center",baseline:"top",maxWidth:E.width-nt-nt}):this.text(E.text,E.x+nt,E.y+nt,{align:"left",baseline:"top",maxWidth:E.width-nt-nt})),this.internal.__cell__.lastCell=E,this};C.table=function(E,W,nt,et,pt){if(y.call(this),!nt)throw new Error("No data for PDF table.");var U,kt,yt,Nt,wt=[],Q=[],oe=[],Oe={},Ge={},rr=[],Re=[],sr=(pt=pt||{}).autoSize||!1,Gt=pt.printHeaders!==!1,je=pt.css&&pt.css["font-size"]!==void 0?16*pt.css["font-size"]:pt.fontSize||12,zt=pt.margins||Object.assign({width:this.getPageWidth()},p),At=typeof pt.padding=="number"?pt.padding:3,qt=pt.headerBackgroundColor||"#c8c8c8",Ht=pt.headerTextColor||"#000";if(_.call(this),this.internal.__cell__.printHeaders=Gt,this.internal.__cell__.margins=zt,this.internal.__cell__.table_font_size=je,this.internal.__cell__.padding=At,this.internal.__cell__.headerBackgroundColor=qt,this.internal.__cell__.headerTextColor=Ht,this.setFontSize(je),et==null)Q=wt=Object.keys(nt[0]),oe=wt.map(function(){return"left"});else if(Array.isArray(et)&&Ut()(et[0])==="object")for(wt=et.map(function(Ye){return Ye.name}),Q=et.map(function(Ye){return Ye.prompt||Ye.name||""}),oe=et.map(function(Ye){return Ye.align||"left"}),U=0;U<et.length;U+=1)Ge[et[U].name]=et[U].width*(19.049976/25.4);else Array.isArray(et)&&typeof et[0]=="string"&&(Q=wt=et,oe=wt.map(function(){return"left"}));if(sr||Array.isArray(et)&&typeof et[0]=="string")for(U=0;U<wt.length;U+=1){for(Oe[Nt=wt[U]]=nt.map(function(Ye){return Ye[Nt]}),this.setFont(void 0,"bold"),rr.push(this.getTextDimensions(Q[U],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),kt=Oe[Nt],this.setFont(void 0,"normal"),yt=0;yt<kt.length;yt+=1)rr.push(this.getTextDimensions(kt[yt],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Ge[Nt]=Math.max.apply(null,rr)+At+At,rr=[]}if(Gt){var qe={};for(U=0;U<wt.length;U+=1)qe[wt[U]]={},qe[wt[U]].text=Q[U],qe[wt[U]].align=oe[U];var ze=D.call(this,qe,Ge);Re=wt.map(function(Ye){return new w(E,W,Ge[Ye],ze,qe[Ye].text,void 0,qe[Ye].align)}),this.setTableHeaderRow(Re),this.printHeaderRow(1,!1)}var ar=et.reduce(function(Ye,yr){return Ye[yr.name]=yr.align,Ye},{});for(U=0;U<nt.length;U+=1){"rowStart"in pt&&pt.rowStart instanceof Function&&pt.rowStart({row:U,data:nt[U]},this);var Ce=D.call(this,nt[U],Ge);for(yt=0;yt<wt.length;yt+=1){var dr=nt[U][wt[yt]];"cellStart"in pt&&pt.cellStart instanceof Function&&pt.cellStart({row:U,col:yt,data:dr},this),S.call(this,new w(E,W,Ge[wt[yt]],Ce,dr,U+2,ar[wt[yt]]))}}return this.internal.__cell__.table_x=E,this.internal.__cell__.table_y=W,this};var D=function(W,nt){var et=this.internal.__cell__.padding,pt=this.internal.__cell__.table_font_size,U=this.internal.scaleFactor;return Object.keys(W).map(function(kt){var yt=W[kt];return this.splitTextToSize(yt.hasOwnProperty("text")?yt.text:yt,nt[kt]-et-et)},this).map(function(kt){return this.getLineHeightFactor()*kt.length*pt/U+et+et},this).reduce(function(kt,yt){return Math.max(kt,yt)},0)};C.setTableHeaderRow=function(E){y.call(this),this.internal.__cell__.tableHeaderRow=E},C.printHeaderRow=function(E,W){if(y.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var nt;if(v=!0,typeof this.internal.__cell__.headerFunction=="function"){var et=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new w(et[0],et[1],et[2],et[3],void 0,-1)}this.setFont(void 0,"bold");for(var pt=[],U=0;U<this.internal.__cell__.tableHeaderRow.length;U+=1){nt=this.internal.__cell__.tableHeaderRow[U].clone(),W&&(nt.y=this.internal.__cell__.margins.top||0,pt.push(nt)),nt.lineNumber=E;var kt=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),S.call(this,nt),this.setTextColor(kt)}pt.length>0&&this.setTableHeaderRow(pt),this.setFont(void 0,"normal"),v=!1}}(ht.API);var Is={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},gs=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],na=$a(gs),Rs=[100,200,300,400,500,600,700,800,900],Bs=$a(Rs);function Ia(C){var p=C.family.replace(/"|'/g,"").toLowerCase(),v=function(w){return Is[w=w||"normal"]?w:"normal"}(C.style),y=function(w){if(!w)return 400;if(typeof w=="number")return w>=100&&w<=900&&w%100==0?w:400;if(/^\d00$/.test(w))return parseInt(w);switch(w){case"bold":return 700;case"normal":default:return 400}}(C.weight),_=function(w){return typeof na[w=w||"normal"]=="number"?w:"normal"}(C.stretch);return{family:p,style:v,weight:y,stretch:_,src:C.src||[],ref:C.ref||{name:p,style:[_,v,y].join(" ")}}}function aa(C,p,v,y){var _;for(_=v;_>=0&&_<p.length;_+=y)if(C[p[_]])return C[p[_]];for(_=v;_>=0&&_<p.length;_-=y)if(C[p[_]])return C[p[_]]}var js={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ra={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function Vn(C){return[C.stretch,C.style,C.weight,C.family].join(" ")}function Za(C,p,v){for(var y=(v=v||{}).defaultFontFamily||"times",_=Object.assign({},js,v.genericFontFamilies||{}),w=null,S=null,D=0;D<p.length;++D)if(_[(w=Ia(p[D])).family]&&(w.family=_[w.family]),C.hasOwnProperty(w.family)){S=C[w.family];break}if(!(S=S||C[y]))throw new Error("Could not find a font-family for the rule '"+Vn(w)+"' and default family '"+y+"'.");if(S=function(E,W){if(W[E])return W[E];var nt=na[E],et=nt<=na.normal?-1:1,pt=aa(W,gs,nt,et);if(!pt)throw new Error("Could not find a matching font-stretch value for "+E);return pt}(w.stretch,S),S=function(E,W){if(W[E])return W[E];for(var nt=Is[E],et=0;et<nt.length;++et)if(W[nt[et]])return W[nt[et]];throw new Error("Could not find a matching font-style for "+E)}(w.style,S),!(S=function(E,W){if(W[E])return W[E];if(E===400&&W[500])return W[500];if(E===500&&W[400])return W[400];var nt=Bs[E],et=aa(W,Rs,nt,E<400?-1:1);if(!et)throw new Error("Could not find a matching font-weight for value "+E);return et}(w.weight,S)))throw new Error("Failed to resolve a font for the rule '"+Vn(w)+"'.");return S}function Us(C){return C.trimLeft()}function zs(C,p){for(var v=0;v<C.length;){if(C.charAt(v)===p)return[C.substring(0,v),C.substring(v+1)];v+=1}return null}function Qa(C){var p=C.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return p===null?null:[p[0],C.substring(p[0].length)]}var sa,vs,lo,z=["times"];(function(C){var p,v,y,_,w,S,D,E,W,nt=function(ot){return ot=ot||{},this.isStrokeTransparent=ot.isStrokeTransparent||!1,this.strokeOpacity=ot.strokeOpacity||1,this.strokeStyle=ot.strokeStyle||"#000000",this.fillStyle=ot.fillStyle||"#000000",this.isFillTransparent=ot.isFillTransparent||!1,this.fillOpacity=ot.fillOpacity||1,this.font=ot.font||"10px sans-serif",this.textBaseline=ot.textBaseline||"alphabetic",this.textAlign=ot.textAlign||"left",this.lineWidth=ot.lineWidth||1,this.lineJoin=ot.lineJoin||"miter",this.lineCap=ot.lineCap||"butt",this.path=ot.path||[],this.transform=ot.transform!==void 0?ot.transform.clone():new E,this.globalCompositeOperation=ot.globalCompositeOperation||"normal",this.globalAlpha=ot.globalAlpha||1,this.clip_path=ot.clip_path||[],this.currentPoint=ot.currentPoint||new S,this.miterLimit=ot.miterLimit||10,this.lastPoint=ot.lastPoint||new S,this.lineDashOffset=ot.lineDashOffset||0,this.lineDash=ot.lineDash||[],this.margin=ot.margin||[0,0,0,0],this.prevPageLastElemOffset=ot.prevPageLastElemOffset||0,this.ignoreClearRect=typeof ot.ignoreClearRect!="boolean"||ot.ignoreClearRect,this};C.events.push(["initialized",function(){this.context2d=new et(this),p=this.internal.f2,v=this.internal.getCoordinateString,y=this.internal.getVerticalCoordinateString,_=this.internal.getHorizontalCoordinate,w=this.internal.getVerticalCoordinate,S=this.internal.Point,D=this.internal.Rectangle,E=this.internal.Matrix,W=new nt}]);var et=function(ot){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var Dt=ot;Object.defineProperty(this,"pdf",{get:function(){return Dt}});var $t=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return $t},set:function(Ke){$t=Boolean(Ke)}});var ce=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ce},set:function(Ke){ce=Boolean(Ke)}});var xe=0;Object.defineProperty(this,"posX",{get:function(){return xe},set:function(Ke){isNaN(Ke)||(xe=Ke)}});var Ve=0;Object.defineProperty(this,"posY",{get:function(){return Ve},set:function(Ke){isNaN(Ke)||(Ve=Ke)}}),Object.defineProperty(this,"margin",{get:function(){return W.margin},set:function(Ke){var Tr;typeof Ke=="number"?Tr=[Ke,Ke,Ke,Ke]:((Tr=new Array(4))[0]=Ke[0],Tr[1]=Ke.length>=2?Ke[1]:Tr[0],Tr[2]=Ke.length>=3?Ke[2]:Tr[0],Tr[3]=Ke.length>=4?Ke[3]:Tr[1]),W.margin=Tr}});var Me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Me},set:function(Ke){Me=Ke}});var Be=0;Object.defineProperty(this,"lastBreak",{get:function(){return Be},set:function(Ke){Be=Ke}});var lr=[];Object.defineProperty(this,"pageBreaks",{get:function(){return lr},set:function(Ke){lr=Ke}}),Object.defineProperty(this,"ctx",{get:function(){return W},set:function(Ke){Ke instanceof nt&&(W=Ke)}}),Object.defineProperty(this,"path",{get:function(){return W.path},set:function(Ke){W.path=Ke}});var zr=[];Object.defineProperty(this,"ctxStack",{get:function(){return zr},set:function(Ke){zr=Ke}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Ke){var Tr;Tr=pt(Ke),this.ctx.fillStyle=Tr.style,this.ctx.isFillTransparent=Tr.a===0,this.ctx.fillOpacity=Tr.a,this.pdf.setFillColor(Tr.r,Tr.g,Tr.b,{a:Tr.a}),this.pdf.setTextColor(Tr.r,Tr.g,Tr.b,{a:Tr.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Ke){var Tr=pt(Ke);this.ctx.strokeStyle=Tr.style,this.ctx.isStrokeTransparent=Tr.a===0,this.ctx.strokeOpacity=Tr.a,Tr.a===0?this.pdf.setDrawColor(255,255,255):(Tr.a,this.pdf.setDrawColor(Tr.r,Tr.g,Tr.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Ke){["butt","round","square"].indexOf(Ke)!==-1&&(this.ctx.lineCap=Ke,this.pdf.setLineCap(Ke))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Ke){isNaN(Ke)||(this.ctx.lineWidth=Ke,this.pdf.setLineWidth(Ke))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Ke){["bevel","round","miter"].indexOf(Ke)!==-1&&(this.ctx.lineJoin=Ke,this.pdf.setLineJoin(Ke))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Ke){isNaN(Ke)||(this.ctx.miterLimit=Ke,this.pdf.setMiterLimit(Ke))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Ke){this.ctx.textBaseline=Ke}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Ke){["right","end","center","left","start"].indexOf(Ke)!==-1&&(this.ctx.textAlign=Ke)}});var xr=null;function Zr(Lt,Ke){if(xr===null){var Tr=function(Xe){var Pr=[];return Object.keys(Xe).forEach(function(wr){Xe[wr].forEach(function(jr){var Wr=null;switch(jr){case"bold":Wr={family:wr,weight:"bold"};break;case"italic":Wr={family:wr,style:"italic"};break;case"bolditalic":Wr={family:wr,weight:"bold",style:"italic"};break;case"":case"normal":Wr={family:wr}}Wr!==null&&(Wr.ref={name:wr,style:jr},Pr.push(Wr))})}),Pr}(Lt.getFontList());xr=function(Xe){for(var Pr={},wr=0;wr<Xe.length;++wr){var jr=Ia(Xe[wr]),Wr=jr.family,Yr=jr.stretch,Li=jr.style,$r=jr.weight;Pr[Wr]=Pr[Wr]||{},Pr[Wr][Yr]=Pr[Wr][Yr]||{},Pr[Wr][Yr][Li]=Pr[Wr][Yr][Li]||{},Pr[Wr][Yr][Li][$r]=jr}return Pr}(Tr.concat(Ke))}return xr}var Gr=null;Object.defineProperty(this,"fontFaces",{get:function(){return Gr},set:function(Ke){xr=null,Gr=Ke}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Ke){var Tr;if(this.ctx.font=Ke,(Tr=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Ke))!==null){var Xe=Tr[1],Pr=(Tr[2],Tr[3]),wr=Tr[4],jr=(Tr[5],Tr[6]),Wr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(wr)[2];wr=Math.floor(Wr==="px"?parseFloat(wr)*this.pdf.internal.scaleFactor:Wr==="em"?parseFloat(wr)*this.pdf.getFontSize():parseFloat(wr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(wr);var Yr=function(kr){var Dn,qi,xn=[],pi=kr.trim();if(pi==="")return z;if(pi in Ra)return[Ra[pi]];for(;pi!=="";){switch(qi=null,Dn=(pi=Us(pi)).charAt(0)){case'"':case"'":qi=zs(pi.substring(1),Dn);break;default:qi=Qa(pi)}if(qi===null||(xn.push(qi[0]),(pi=Us(qi[1]))!==""&&pi.charAt(0)!==","))return z;pi=pi.replace(/^,/,"")}return xn}(jr);if(this.fontFaces){var Li=Za(Zr(this.pdf,this.fontFaces),Yr.map(function(kr){return{family:kr,stretch:"normal",weight:Pr,style:Xe}}));this.pdf.setFont(Li.ref.name,Li.ref.style)}else{var $r="";(Pr==="bold"||parseInt(Pr,10)>=700||Xe==="bold")&&($r="bold"),Xe==="italic"&&($r+="italic"),$r.length===0&&($r="normal");for(var _i="",zi={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Xr=0;Xr<Yr.length;Xr++){if(this.pdf.internal.getFont(Yr[Xr],$r,{noFallback:!0,disableWarning:!0})!==void 0){_i=Yr[Xr];break}if($r==="bolditalic"&&this.pdf.internal.getFont(Yr[Xr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)_i=Yr[Xr],$r="bold";else if(this.pdf.internal.getFont(Yr[Xr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){_i=Yr[Xr],$r="normal";break}}if(_i===""){for(var ui=0;ui<Yr.length;ui++)if(zi[Yr[ui]]){_i=zi[Yr[ui]];break}}_i=_i===""?"Times":_i,this.pdf.setFont(_i,$r)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Ke){this.ctx.globalCompositeOperation=Ke}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Ke){this.ctx.globalAlpha=Ke}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Ke){this.ctx.lineDashOffset=Ke,yr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Ke){this.ctx.lineDash=Ke,yr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Ke){this.ctx.ignoreClearRect=Boolean(Ke)}})};et.prototype.setLineDash=function(Rt){this.lineDash=Rt},et.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},et.prototype.fill=function(){Oe.call(this,"fill",!1)},et.prototype.stroke=function(){Oe.call(this,"stroke",!1)},et.prototype.beginPath=function(){this.path=[{type:"begin"}]},et.prototype.moveTo=function(Rt,ot){if(isNaN(Rt)||isNaN(ot))throw Tt.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var Dt=this.ctx.transform.applyToPoint(new S(Rt,ot));this.path.push({type:"mt",x:Dt.x,y:Dt.y}),this.ctx.lastPoint=new S(Rt,ot)},et.prototype.closePath=function(){var Rt=new S(0,0),ot=0;for(ot=this.path.length-1;ot!==-1;ot--)if(this.path[ot].type==="begin"&&Ut()(this.path[ot+1])==="object"&&typeof this.path[ot+1].x=="number"){Rt=new S(this.path[ot+1].x,this.path[ot+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new S(Rt.x,Rt.y)},et.prototype.lineTo=function(Rt,ot){if(isNaN(Rt)||isNaN(ot))throw Tt.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var Dt=this.ctx.transform.applyToPoint(new S(Rt,ot));this.path.push({type:"lt",x:Dt.x,y:Dt.y}),this.ctx.lastPoint=new S(Dt.x,Dt.y)},et.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),Oe.call(this,null,!0)},et.prototype.quadraticCurveTo=function(Rt,ot,Dt,$t){if(isNaN(Dt)||isNaN($t)||isNaN(Rt)||isNaN(ot))throw Tt.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ce=this.ctx.transform.applyToPoint(new S(Dt,$t)),xe=this.ctx.transform.applyToPoint(new S(Rt,ot));this.path.push({type:"qct",x1:xe.x,y1:xe.y,x:ce.x,y:ce.y}),this.ctx.lastPoint=new S(ce.x,ce.y)},et.prototype.bezierCurveTo=function(Rt,ot,Dt,$t,ce,xe){if(isNaN(ce)||isNaN(xe)||isNaN(Rt)||isNaN(ot)||isNaN(Dt)||isNaN($t))throw Tt.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Ve=this.ctx.transform.applyToPoint(new S(ce,xe)),Me=this.ctx.transform.applyToPoint(new S(Rt,ot)),Be=this.ctx.transform.applyToPoint(new S(Dt,$t));this.path.push({type:"bct",x1:Me.x,y1:Me.y,x2:Be.x,y2:Be.y,x:Ve.x,y:Ve.y}),this.ctx.lastPoint=new S(Ve.x,Ve.y)},et.prototype.arc=function(Rt,ot,Dt,$t,ce,xe){if(isNaN(Rt)||isNaN(ot)||isNaN(Dt)||isNaN($t)||isNaN(ce))throw Tt.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(xe=Boolean(xe),!this.ctx.transform.isIdentity){var Ve=this.ctx.transform.applyToPoint(new S(Rt,ot));Rt=Ve.x,ot=Ve.y;var Me=this.ctx.transform.applyToPoint(new S(0,Dt)),Be=this.ctx.transform.applyToPoint(new S(0,0));Dt=Math.sqrt(Math.pow(Me.x-Be.x,2)+Math.pow(Me.y-Be.y,2))}Math.abs(ce-$t)>=2*Math.PI&&($t=0,ce=2*Math.PI),this.path.push({type:"arc",x:Rt,y:ot,radius:Dt,startAngle:$t,endAngle:ce,counterclockwise:xe})},et.prototype.arcTo=function(Rt,ot,Dt,$t,ce){throw new Error("arcTo not implemented.")},et.prototype.rect=function(Rt,ot,Dt,$t){if(isNaN(Rt)||isNaN(ot)||isNaN(Dt)||isNaN($t))throw Tt.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(Rt,ot),this.lineTo(Rt+Dt,ot),this.lineTo(Rt+Dt,ot+$t),this.lineTo(Rt,ot+$t),this.lineTo(Rt,ot),this.lineTo(Rt+Dt,ot),this.lineTo(Rt,ot)},et.prototype.fillRect=function(Rt,ot,Dt,$t){if(isNaN(Rt)||isNaN(ot)||isNaN(Dt)||isNaN($t))throw Tt.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!U.call(this)){var ce={};this.lineCap!=="butt"&&(ce.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ce.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(Rt,ot,Dt,$t),this.fill(),ce.hasOwnProperty("lineCap")&&(this.lineCap=ce.lineCap),ce.hasOwnProperty("lineJoin")&&(this.lineJoin=ce.lineJoin)}},et.prototype.strokeRect=function(Rt,ot,Dt,$t){if(isNaN(Rt)||isNaN(ot)||isNaN(Dt)||isNaN($t))throw Tt.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");kt.call(this)||(this.beginPath(),this.rect(Rt,ot,Dt,$t),this.stroke())},et.prototype.clearRect=function(Rt,ot,Dt,$t){if(isNaN(Rt)||isNaN(ot)||isNaN(Dt)||isNaN($t))throw Tt.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(Rt,ot,Dt,$t))},et.prototype.save=function(Rt){Rt=typeof Rt!="boolean"||Rt;for(var ot=this.pdf.internal.getCurrentPageInfo().pageNumber,Dt=0;Dt<this.pdf.internal.getNumberOfPages();Dt++)this.pdf.setPage(Dt+1),this.pdf.internal.out("q");if(this.pdf.setPage(ot),Rt){this.ctx.fontSize=this.pdf.internal.getFontSize();var $t=new nt(this.ctx);this.ctxStack.push(this.ctx),this.ctx=$t}},et.prototype.restore=function(Rt){Rt=typeof Rt!="boolean"||Rt;for(var ot=this.pdf.internal.getCurrentPageInfo().pageNumber,Dt=0;Dt<this.pdf.internal.getNumberOfPages();Dt++)this.pdf.setPage(Dt+1),this.pdf.internal.out("Q");this.pdf.setPage(ot),Rt&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},et.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var pt=function(ot){var Dt,$t,ce,xe;if(ot.isCanvasGradient===!0&&(ot=ot.getColor()),!ot)return{r:0,g:0,b:0,a:0,style:ot};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ot))Dt=0,$t=0,ce=0,xe=0;else{var Ve=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ot);if(Ve!==null)Dt=parseInt(Ve[1]),$t=parseInt(Ve[2]),ce=parseInt(Ve[3]),xe=1;else if((Ve=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ot))!==null)Dt=parseInt(Ve[1]),$t=parseInt(Ve[2]),ce=parseInt(Ve[3]),xe=parseFloat(Ve[4]);else{if(xe=1,typeof ot=="string"&&ot.charAt(0)!=="#"){var Me=new e(ot);ot=Me.ok?Me.toHex():"#000000"}ot.length===4?(Dt=ot.substring(1,2),Dt+=Dt,$t=ot.substring(2,3),$t+=$t,ce=ot.substring(3,4),ce+=ce):(Dt=ot.substring(1,3),$t=ot.substring(3,5),ce=ot.substring(5,7)),Dt=parseInt(Dt,16),$t=parseInt($t,16),ce=parseInt(ce,16)}}return{r:Dt,g:$t,b:ce,a:xe,style:ot}},U=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},kt=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};et.prototype.fillText=function(Rt,ot,Dt,$t){if(isNaN(ot)||isNaN(Dt)||typeof Rt!="string")throw Tt.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if($t=isNaN($t)?void 0:$t,!U.call(this)){var ce=Ce(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;At.call(this,{text:Rt,x:ot,y:Dt,scale:xe,angle:ce,align:this.textAlign,maxWidth:$t})}},et.prototype.strokeText=function(Rt,ot,Dt,$t){if(isNaN(ot)||isNaN(Dt)||typeof Rt!="string")throw Tt.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!kt.call(this)){$t=isNaN($t)?void 0:$t;var ce=Ce(this.ctx.transform.rotation),xe=this.ctx.transform.scaleX;At.call(this,{text:Rt,x:ot,y:Dt,scale:xe,renderingMode:"stroke",angle:ce,align:this.textAlign,maxWidth:$t})}},et.prototype.measureText=function(Rt){if(typeof Rt!="string")throw Tt.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ot=this.pdf,Dt=this.pdf.internal.scaleFactor,$t=ot.internal.getFontSize(),ce=ot.getStringUnitWidth(Rt)*$t/ot.internal.scaleFactor,xe=function(Me){var Be=(Me=Me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return Be}}),this};return new xe({width:ce*=Math.round(96*Dt/72*1e4)/1e4})},et.prototype.scale=function(Rt,ot){if(isNaN(Rt)||isNaN(ot))throw Tt.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var Dt=new E(Rt,0,0,ot,0,0);this.ctx.transform=this.ctx.transform.multiply(Dt)},et.prototype.rotate=function(Rt){if(isNaN(Rt))throw Tt.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ot=new E(Math.cos(Rt),Math.sin(Rt),-Math.sin(Rt),Math.cos(Rt),0,0);this.ctx.transform=this.ctx.transform.multiply(ot)},et.prototype.translate=function(Rt,ot){if(isNaN(Rt)||isNaN(ot))throw Tt.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var Dt=new E(1,0,0,1,Rt,ot);this.ctx.transform=this.ctx.transform.multiply(Dt)},et.prototype.transform=function(Rt,ot,Dt,$t,ce,xe){if(isNaN(Rt)||isNaN(ot)||isNaN(Dt)||isNaN($t)||isNaN(ce)||isNaN(xe))throw Tt.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Ve=new E(Rt,ot,Dt,$t,ce,xe);this.ctx.transform=this.ctx.transform.multiply(Ve)},et.prototype.setTransform=function(Rt,ot,Dt,$t,ce,xe){Rt=isNaN(Rt)?1:Rt,ot=isNaN(ot)?0:ot,Dt=isNaN(Dt)?0:Dt,$t=isNaN($t)?1:$t,ce=isNaN(ce)?0:ce,xe=isNaN(xe)?0:xe,this.ctx.transform=new E(Rt,ot,Dt,$t,ce,xe)};var yt=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};et.prototype.drawImage=function(Rt,ot,Dt,$t,ce,xe,Ve,Me,Be){var lr=this.pdf.getImageProperties(Rt),zr=1,xr=1,Zr=1,Gr=1;$t!==void 0&&Me!==void 0&&(Zr=Me/$t,Gr=Be/ce,zr=lr.width/$t*Me/$t,xr=lr.height/ce*Be/ce),xe===void 0&&(xe=ot,Ve=Dt,ot=0,Dt=0),$t!==void 0&&Me===void 0&&(Me=$t,Be=ce),$t===void 0&&Me===void 0&&(Me=lr.width,Be=lr.height);for(var Lt,Ke=this.ctx.transform.decompose(),Tr=Ce(Ke.rotate.shx),Xe=new E,Pr=(Xe=(Xe=(Xe=Xe.multiply(Ke.translate)).multiply(Ke.skew)).multiply(Ke.scale)).applyToRectangle(new D(xe-ot*Zr,Ve-Dt*Gr,$t*zr,ce*xr)),wr=Nt.call(this,Pr),jr=[],Wr=0;Wr<wr.length;Wr+=1)jr.indexOf(wr[Wr])===-1&&jr.push(wr[Wr]);if(oe(jr),this.autoPaging)for(var Yr=jr[0],Li=jr[jr.length-1],$r=Yr;$r<Li+1;$r++){this.pdf.setPage($r);var _i=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],zi=$r===1?this.posY+this.margin[0]:this.margin[0],Xr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],ui=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],kr=$r===1?0:Xr+($r-2)*ui;if(this.ctx.clip_path.length!==0){var Dn=this.path;Lt=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(Lt,this.posX+this.margin[3],-kr+zi+this.ctx.prevPageLastElemOffset),Ge.call(this,"fill",!0),this.path=Dn}var qi=JSON.parse(JSON.stringify(Pr));qi=Q([qi],this.posX+this.margin[3],-kr+zi+this.ctx.prevPageLastElemOffset)[0];var xn=($r>Yr||$r<Li)&&yt.call(this);xn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_i,ui,null).clip().discardPath()),this.pdf.addImage(Rt,"JPEG",qi.x,qi.y,qi.w,qi.h,null,null,Tr),xn&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(Rt,"JPEG",Pr.x,Pr.y,Pr.w,Pr.h,null,null,Tr)};var Nt=function(ot,Dt,$t){var ce=[];Dt=Dt||this.pdf.internal.pageSize.width,$t=$t||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var xe=this.posY+this.ctx.prevPageLastElemOffset;switch(ot.type){default:case"mt":case"lt":ce.push(Math.floor((ot.y+xe)/$t)+1);break;case"arc":ce.push(Math.floor((ot.y+xe-ot.radius)/$t)+1),ce.push(Math.floor((ot.y+xe+ot.radius)/$t)+1);break;case"qct":var Ve=dr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ot.x1,ot.y1,ot.x,ot.y);ce.push(Math.floor((Ve.y+xe)/$t)+1),ce.push(Math.floor((Ve.y+Ve.h+xe)/$t)+1);break;case"bct":var Me=Ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ot.x1,ot.y1,ot.x2,ot.y2,ot.x,ot.y);ce.push(Math.floor((Me.y+xe)/$t)+1),ce.push(Math.floor((Me.y+Me.h+xe)/$t)+1);break;case"rect":ce.push(Math.floor((ot.y+xe)/$t)+1),ce.push(Math.floor((ot.y+ot.h+xe)/$t)+1)}for(var Be=0;Be<ce.length;Be+=1)for(;this.pdf.internal.getNumberOfPages()<ce[Be];)wt.call(this);return ce},wt=function(){var ot=this.fillStyle,Dt=this.strokeStyle,$t=this.font,ce=this.lineCap,xe=this.lineWidth,Ve=this.lineJoin;this.pdf.addPage(),this.fillStyle=ot,this.strokeStyle=Dt,this.font=$t,this.lineCap=ce,this.lineWidth=xe,this.lineJoin=Ve},Q=function(ot,Dt,$t){for(var ce=0;ce<ot.length;ce++)switch(ot[ce].type){case"bct":ot[ce].x2+=Dt,ot[ce].y2+=$t;case"qct":ot[ce].x1+=Dt,ot[ce].y1+=$t;case"mt":case"lt":case"arc":default:ot[ce].x+=Dt,ot[ce].y+=$t}return ot},oe=function(ot){return ot.sort(function(Dt,$t){return Dt-$t})},Oe=function(ot,Dt){for(var $t,ce,xe=this.fillStyle,Ve=this.strokeStyle,Me=this.lineCap,Be=this.lineWidth,lr=Math.abs(Be*this.ctx.transform.scaleX),zr=this.lineJoin,xr=JSON.parse(JSON.stringify(this.path)),Zr=JSON.parse(JSON.stringify(this.path)),Gr=[],Lt=0;Lt<Zr.length;Lt++)if(Zr[Lt].x!==void 0)for(var Ke=Nt.call(this,Zr[Lt]),Tr=0;Tr<Ke.length;Tr+=1)Gr.indexOf(Ke[Tr])===-1&&Gr.push(Ke[Tr]);for(var Xe=0;Xe<Gr.length;Xe++)for(;this.pdf.internal.getNumberOfPages()<Gr[Xe];)wt.call(this);if(oe(Gr),this.autoPaging)for(var Pr=Gr[0],wr=Gr[Gr.length-1],jr=Pr;jr<wr+1;jr++){this.pdf.setPage(jr),this.fillStyle=xe,this.strokeStyle=Ve,this.lineCap=Me,this.lineWidth=lr,this.lineJoin=zr;var Wr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Yr=jr===1?this.posY+this.margin[0]:this.margin[0],Li=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],$r=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],_i=jr===1?0:Li+(jr-2)*$r;if(this.ctx.clip_path.length!==0){var zi=this.path;$t=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q($t,this.posX+this.margin[3],-_i+Yr+this.ctx.prevPageLastElemOffset),Ge.call(this,ot,!0),this.path=zi}if(ce=JSON.parse(JSON.stringify(xr)),this.path=Q(ce,this.posX+this.margin[3],-_i+Yr+this.ctx.prevPageLastElemOffset),Dt===!1||jr===0){var Xr=(jr>Pr||jr<wr)&&yt.call(this);Xr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wr,$r,null).clip().discardPath()),Ge.call(this,ot,Dt),Xr&&this.pdf.restoreGraphicsState()}this.lineWidth=Be}else this.lineWidth=lr,Ge.call(this,ot,Dt),this.lineWidth=Be;this.path=xr},Ge=function(ot,Dt){if((ot!=="stroke"||Dt||!kt.call(this))&&(ot==="stroke"||Dt||!U.call(this))){for(var $t,ce,xe=[],Ve=this.path,Me=0;Me<Ve.length;Me++){var Be=Ve[Me];switch(Be.type){case"begin":xe.push({begin:!0});break;case"close":xe.push({close:!0});break;case"mt":xe.push({start:Be,deltas:[],abs:[]});break;case"lt":var lr=xe.length;if(Ve[Me-1]&&!isNaN(Ve[Me-1].x)&&($t=[Be.x-Ve[Me-1].x,Be.y-Ve[Me-1].y],lr>0)){for(;lr>=0;lr--)if(xe[lr-1].close!==!0&&xe[lr-1].begin!==!0){xe[lr-1].deltas.push($t),xe[lr-1].abs.push(Be);break}}break;case"bct":$t=[Be.x1-Ve[Me-1].x,Be.y1-Ve[Me-1].y,Be.x2-Ve[Me-1].x,Be.y2-Ve[Me-1].y,Be.x-Ve[Me-1].x,Be.y-Ve[Me-1].y],xe[xe.length-1].deltas.push($t);break;case"qct":var zr=Ve[Me-1].x+2/3*(Be.x1-Ve[Me-1].x),xr=Ve[Me-1].y+2/3*(Be.y1-Ve[Me-1].y),Zr=Be.x+2/3*(Be.x1-Be.x),Gr=Be.y+2/3*(Be.y1-Be.y),Lt=Be.x,Ke=Be.y;$t=[zr-Ve[Me-1].x,xr-Ve[Me-1].y,Zr-Ve[Me-1].x,Gr-Ve[Me-1].y,Lt-Ve[Me-1].x,Ke-Ve[Me-1].y],xe[xe.length-1].deltas.push($t);break;case"arc":xe.push({deltas:[],abs:[],arc:!0}),Array.isArray(xe[xe.length-1].abs)&&xe[xe.length-1].abs.push(Be)}}ce=Dt?null:ot==="stroke"?"stroke":"fill";for(var Tr=!1,Xe=0;Xe<xe.length;Xe++)if(xe[Xe].arc)for(var Pr=xe[Xe].abs,wr=0;wr<Pr.length;wr++){var jr=Pr[wr];jr.type==="arc"?sr.call(this,jr.x,jr.y,jr.radius,jr.startAngle,jr.endAngle,jr.counterclockwise,void 0,Dt,!Tr):qt.call(this,jr.x,jr.y),Tr=!0}else if(xe[Xe].close===!0)this.pdf.internal.out("h"),Tr=!1;else if(xe[Xe].begin!==!0){var Wr=xe[Xe].start.x,Yr=xe[Xe].start.y;Ht.call(this,xe[Xe].deltas,Wr,Yr),Tr=!0}ce&&Gt.call(this,ce),Dt&&je.call(this)}},rr=function(ot){var Dt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,$t=Dt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ot-$t;case"top":return ot+Dt-$t;case"hanging":return ot+Dt-2*$t;case"middle":return ot+Dt/2-$t;case"ideographic":return ot;case"alphabetic":default:return ot}},Re=function(ot){return ot+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};et.prototype.createLinearGradient=function(){var Rt=function(){};return Rt.colorStops=[],Rt.addColorStop=function(ot,Dt){this.colorStops.push([ot,Dt])},Rt.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},Rt.isCanvasGradient=!0,Rt},et.prototype.createPattern=function(){return this.createLinearGradient()},et.prototype.createRadialGradient=function(){return this.createLinearGradient()};var sr=function(ot,Dt,$t,ce,xe,Ve,Me,Be,lr){for(var zr=ze.call(this,$t,ce,xe,Ve),xr=0;xr<zr.length;xr++){var Zr=zr[xr];xr===0&&(lr?zt.call(this,Zr.x1+ot,Zr.y1+Dt):qt.call(this,Zr.x1+ot,Zr.y1+Dt)),qe.call(this,ot,Dt,Zr.x2,Zr.y2,Zr.x3,Zr.y3,Zr.x4,Zr.y4)}Be?je.call(this):Gt.call(this,Me)},Gt=function(ot){switch(ot){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},je=function(){this.pdf.clip(),this.pdf.discardPath()},zt=function(ot,Dt){this.pdf.internal.out(v(ot)+" "+y(Dt)+" m")},At=function(ot){var Dt;switch(ot.align){case"right":case"end":Dt="right";break;case"center":Dt="center";break;case"left":case"start":default:Dt="left"}var $t=this.pdf.getTextDimensions(ot.text),ce=rr.call(this,ot.y),xe=Re.call(this,ce)-$t.h,Ve=this.ctx.transform.applyToPoint(new S(ot.x,ce)),Me=this.ctx.transform.decompose(),Be=new E;Be=(Be=(Be=Be.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale);for(var lr,zr,xr,Zr=this.ctx.transform.applyToRectangle(new D(ot.x,ce,$t.w,$t.h)),Gr=Be.applyToRectangle(new D(ot.x,xe,$t.w,$t.h)),Lt=Nt.call(this,Gr),Ke=[],Tr=0;Tr<Lt.length;Tr+=1)Ke.indexOf(Lt[Tr])===-1&&Ke.push(Lt[Tr]);if(oe(Ke),this.autoPaging)for(var Xe=Ke[0],Pr=Ke[Ke.length-1],wr=Xe;wr<Pr+1;wr++){this.pdf.setPage(wr);var jr=wr===1?this.posY+this.margin[0]:this.margin[0],Wr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Yr=this.pdf.internal.pageSize.height-this.margin[2],Li=Yr-this.margin[0],$r=this.pdf.internal.pageSize.width-this.margin[1],_i=$r-this.margin[3],zi=wr===1?0:Wr+(wr-2)*Li;if(this.ctx.clip_path.length!==0){var Xr=this.path;lr=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=Q(lr,this.posX+this.margin[3],-1*zi+jr),Ge.call(this,"fill",!0),this.path=Xr}var ui=Q([JSON.parse(JSON.stringify(Gr))],this.posX+this.margin[3],-zi+jr+this.ctx.prevPageLastElemOffset)[0];ot.scale>=.01&&(zr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(zr*ot.scale),xr=this.lineWidth,this.lineWidth=xr*ot.scale);var kr=this.autoPaging!=="text";if(kr||ui.y+ui.h<=Yr){if(kr||ui.y>=jr&&ui.x<=$r){var Dn=kr?ot.text:this.pdf.splitTextToSize(ot.text,ot.maxWidth||$r-ui.x)[0],qi=Q([JSON.parse(JSON.stringify(Zr))],this.posX+this.margin[3],-zi+jr+this.ctx.prevPageLastElemOffset)[0],xn=kr&&(wr>Xe||wr<Pr)&&yt.call(this);xn&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],_i,Li,null).clip().discardPath()),this.pdf.text(Dn,qi.x,qi.y,{angle:ot.angle,align:Dt,renderingMode:ot.renderingMode}),xn&&this.pdf.restoreGraphicsState()}}else ui.y<Yr&&(this.ctx.prevPageLastElemOffset+=Yr-ui.y);ot.scale>=.01&&(this.pdf.setFontSize(zr),this.lineWidth=xr)}else ot.scale>=.01&&(zr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(zr*ot.scale),xr=this.lineWidth,this.lineWidth=xr*ot.scale),this.pdf.text(ot.text,Ve.x+this.posX,Ve.y+this.posY,{angle:ot.angle,align:Dt,renderingMode:ot.renderingMode,maxWidth:ot.maxWidth}),ot.scale>=.01&&(this.pdf.setFontSize(zr),this.lineWidth=xr)},qt=function(ot,Dt,$t,ce){$t=$t||0,ce=ce||0,this.pdf.internal.out(v(ot+$t)+" "+y(Dt+ce)+" l")},Ht=function(ot,Dt,$t){return this.pdf.lines(ot,Dt,$t,null,null)},qe=function(ot,Dt,$t,ce,xe,Ve,Me,Be){this.pdf.internal.out([p(_($t+ot)),p(w(ce+Dt)),p(_(xe+ot)),p(w(Ve+Dt)),p(_(Me+ot)),p(w(Be+Dt)),"c"].join(" "))},ze=function(ot,Dt,$t,ce){for(var xe=2*Math.PI,Ve=Math.PI/2;Dt>$t;)Dt-=xe;var Me=Math.abs($t-Dt);Me<xe&&ce&&(Me=xe-Me);for(var Be=[],lr=ce?-1:1,zr=Dt;Me>1e-5;){var xr=zr+lr*Math.min(Me,Ve);Be.push(ar.call(this,ot,zr,xr)),Me-=Math.abs(xr-zr),zr=xr}return Be},ar=function(ot,Dt,$t){var ce=($t-Dt)/2,xe=ot*Math.cos(ce),Ve=ot*Math.sin(ce),Me=xe,Be=-Ve,lr=Me*Me+Be*Be,zr=lr+Me*xe+Be*Ve,xr=4/3*(Math.sqrt(2*lr*zr)-zr)/(Me*Ve-Be*xe),Zr=Me-xr*Be,Gr=Be+xr*Me,Lt=Zr,Ke=-Gr,Tr=ce+Dt,Xe=Math.cos(Tr),Pr=Math.sin(Tr);return{x1:ot*Math.cos(Dt),y1:ot*Math.sin(Dt),x2:Zr*Xe-Gr*Pr,y2:Zr*Pr+Gr*Xe,x3:Lt*Xe-Ke*Pr,y3:Lt*Pr+Ke*Xe,x4:ot*Math.cos($t),y4:ot*Math.sin($t)}},Ce=function(ot){return 180*ot/Math.PI},dr=function(ot,Dt,$t,ce,xe,Ve){var Me=ot+.5*($t-ot),Be=Dt+.5*(ce-Dt),lr=xe+.5*($t-xe),zr=Ve+.5*(ce-Ve),xr=Math.min(ot,xe,Me,lr),Zr=Math.max(ot,xe,Me,lr),Gr=Math.min(Dt,Ve,Be,zr),Lt=Math.max(Dt,Ve,Be,zr);return new D(xr,Gr,Zr-xr,Lt-Gr)},Ye=function(ot,Dt,$t,ce,xe,Ve,Me,Be){var lr,zr,xr,Zr,Gr,Lt,Ke,Tr,Xe,Pr,wr,jr,Wr,Yr,Li=$t-ot,$r=ce-Dt,_i=xe-$t,zi=Ve-ce,Xr=Me-xe,ui=Be-Ve;for(zr=0;zr<41;zr++)Xe=(Ke=(xr=ot+(lr=zr/40)*Li)+lr*((Gr=$t+lr*_i)-xr))+lr*(Gr+lr*(xe+lr*Xr-Gr)-Ke),Pr=(Tr=(Zr=Dt+lr*$r)+lr*((Lt=ce+lr*zi)-Zr))+lr*(Lt+lr*(Ve+lr*ui-Lt)-Tr),zr==0?(wr=Xe,jr=Pr,Wr=Xe,Yr=Pr):(wr=Math.min(wr,Xe),jr=Math.min(jr,Pr),Wr=Math.max(Wr,Xe),Yr=Math.max(Yr,Pr));return new D(Math.round(wr),Math.round(jr),Math.round(Wr-wr),Math.round(Yr-jr))},yr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ot,Dt,$t=(ot=this.ctx.lineDash,Dt=this.ctx.lineDashOffset,JSON.stringify({lineDash:ot,lineDashOffset:Dt}));this.prevLineDash!==$t&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=$t)}}})(ht.API),function(C){var p=function(S){var D,E,W,nt,et,pt,U,kt,yt,Nt;for(/[^\x00-\xFF]/.test(S),E=[],W=0,nt=(S+=D="\0\0\0\0".slice(S.length%4||4)).length;nt>W;W+=4)(et=(S.charCodeAt(W)<<24)+(S.charCodeAt(W+1)<<16)+(S.charCodeAt(W+2)<<8)+S.charCodeAt(W+3))!==0?(pt=(et=((et=((et=((et=(et-(Nt=et%85))/85)-(yt=et%85))/85)-(kt=et%85))/85)-(U=et%85))/85)%85,E.push(pt+33,U+33,kt+33,yt+33,Nt+33)):E.push(122);return function(wt,Q){for(var oe=Q;oe>0;oe--)wt.pop()}(E,D.length),String.fromCharCode.apply(String,E)+"~>"},v=function(S){var D,E,W,nt,et,pt=String,U="length",kt=255,yt="charCodeAt",Nt="slice",wt="replace";for(S[Nt](-2),S=S[Nt](0,-2)[wt](/\s/g,"")[wt]("z","!!!!!"),W=[],nt=0,et=(S+=D="uuuuu"[Nt](S[U]%5||5))[U];et>nt;nt+=5)E=52200625*(S[yt](nt)-33)+614125*(S[yt](nt+1)-33)+7225*(S[yt](nt+2)-33)+85*(S[yt](nt+3)-33)+(S[yt](nt+4)-33),W.push(kt&E>>24,kt&E>>16,kt&E>>8,kt&E);return function(Q,oe){for(var Oe=oe;Oe>0;Oe--)Q.pop()}(W,D[U]),pt.fromCharCode.apply(pt,W)},y=function(S){var D=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((S=S.replace(/\s/g,"")).indexOf(">")!==-1&&(S=S.substr(0,S.indexOf(">"))),S.length%2&&(S+="0"),D.test(S)===!1)return"";for(var E="",W=0;W<S.length;W+=2)E+=String.fromCharCode("0x"+(S[W]+S[W+1]));return E},_=function(S){for(var D=new Uint8Array(S.length),E=S.length;E--;)D[E]=S.charCodeAt(E);return S=(D=Object(it.b)(D)).reduce(function(W,nt){return W+String.fromCharCode(nt)},"")};C.processDataByFilters=function(w,S){var D=0,E=w||"",W=[];for(typeof(S=S||[])=="string"&&(S=[S]),D=0;D<S.length;D+=1)switch(S[D]){case"ASCII85Decode":case"/ASCII85Decode":E=v(E),W.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":E=p(E),W.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":E=y(E),W.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":E=E.split("").map(function(nt){return("0"+nt.charCodeAt().toString(16)).slice(-2)}).join("")+">",W.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":E=_(E),W.push("/FlateDecode");break;default:throw new Error('The filter: "'+S[D]+'" is not implemented')}return{data:E,reverseChain:W.reverse().join(" ")}}}(ht.API),function(C){C.loadFile=function(p,v,y){return function(_,w,S){w=w!==!1,S=typeof S=="function"?S:function(){};var D=void 0;try{D=function(E,W,nt){var et=new XMLHttpRequest,pt=0,U=function(yt){var Nt=yt.length,wt=[],Q=String.fromCharCode;for(pt=0;pt<Nt;pt+=1)wt.push(Q(255&yt.charCodeAt(pt)));return wt.join("")};if(et.open("GET",E,!W),et.overrideMimeType("text/plain; charset=x-user-defined"),W===!1&&(et.onload=function(){et.status===200?nt(U(this.responseText)):nt(void 0)}),et.send(null),W&&et.status===200)return U(et.responseText)}(_,w,S)}catch(E){}return D}(p,v,y)},C.loadImageFile=C.loadFile}(ht.API),function(C){function p(){return(Se.html2canvas?Promise.resolve(Se.html2canvas):Ae.e(38).then(Ae.t.bind(null,"wOnQ",7))).catch(function(S){return Promise.reject(new Error("Could not load html2canvas: "+S))}).then(function(S){return S.default?S.default:S})}function v(){return(Se.DOMPurify?Promise.resolve(Se.DOMPurify):Ae.e(37).then(Ae.t.bind(null,"wMS7",7))).catch(function(S){return Promise.reject(new Error("Could not load dompurify: "+S))}).then(function(S){return S.default?S.default:S})}var y=function(D){var E=Ut()(D);return E==="undefined"?"undefined":E==="string"||D instanceof String?"string":E==="number"||D instanceof Number?"number":E==="function"||D instanceof Function?"function":D&&D.constructor===Array?"array":D&&D.nodeType===1?"element":E==="object"?"object":"unknown"},_=function(D,E){var W=document.createElement(D);for(var nt in E.className&&(W.className=E.className),E.innerHTML&&E.dompurify&&(W.innerHTML=E.dompurify.sanitize(E.innerHTML)),E.style)W.style[nt]=E.style[nt];return W},w=function S(D){var E=Object.assign(S.convert(Promise.resolve()),JSON.parse(JSON.stringify(S.template))),W=S.convert(Promise.resolve(),E);return W=(W=W.setProgress(1,S,1,[S])).set(D)};(w.prototype=Object.create(Promise.prototype)).constructor=w,w.convert=function(S,D){return S.__proto__=D||w.prototype,S},w.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},w.prototype.from=function(S,D){return this.then(function(){switch(D=D||function(E){switch(y(E)){case"string":return"string";case"element":return E.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(S)){case"string":return this.then(v).then(function(E){return this.set({src:_("div",{innerHTML:S,dompurify:E})})});case"element":return this.set({src:S});case"canvas":return this.set({canvas:S});case"img":return this.set({img:S});default:return this.error("Unknown source type.")}})},w.prototype.to=function(S){switch(S){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},w.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var S={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},D=function E(W,nt){for(var et=W.nodeType===3?document.createTextNode(W.nodeValue):W.cloneNode(!1),pt=W.firstChild;pt;pt=pt.nextSibling)nt!==!0&&pt.nodeType===1&&pt.nodeName==="SCRIPT"||et.appendChild(E(pt,nt));return W.nodeType===1&&(W.nodeName==="CANVAS"?(et.width=W.width,et.height=W.height,et.getContext("2d").drawImage(W,0,0)):W.nodeName!=="TEXTAREA"&&W.nodeName!=="SELECT"||(et.value=W.value),et.addEventListener("load",function(){et.scrollTop=W.scrollTop,et.scrollLeft=W.scrollLeft},!0)),et}(this.prop.src,this.opt.html2canvas.javascriptEnabled);D.tagName==="BODY"&&(S.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=_("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=_("div",{className:"html2pdf__container",style:S}),this.prop.container.appendChild(D),this.prop.container.firstChild.appendChild(_("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},w.prototype.toCanvas=function(){var S=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(S).then(p).then(function(D){var E=Object.assign({},this.opt.html2canvas);return delete E.onrendered,D(this.prop.container,E)}).then(function(D){(this.opt.html2canvas.onrendered||function(){})(D),this.prop.canvas=D,document.body.removeChild(this.prop.overlay)})},w.prototype.toContext2d=function(){var S=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(S).then(p).then(function(D){var E=this.opt.jsPDF,W=this.opt.fontFaces,nt=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,et=Object.assign({async:!0,allowTaint:!0,scale:nt,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete et.onrendered,E.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,E.context2d.posX=this.opt.x,E.context2d.posY=this.opt.y,E.context2d.margin=this.opt.margin,E.context2d.fontFaces=W,W)for(var pt=0;pt<W.length;++pt){var U=W[pt],kt=U.src.find(function(yt){return yt.format==="truetype"});kt&&E.addFont(kt.url,U.ref.name,U.ref.style)}return et.windowHeight=et.windowHeight||0,et.windowHeight=et.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):et.windowHeight,E.context2d.save(!0),D(this.prop.container,et)}).then(function(D){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(D),this.prop.canvas=D,document.body.removeChild(this.prop.overlay)})},w.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var S=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=S})},w.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},w.prototype.output=function(S,D,E){return(E=E||"pdf").toLowerCase()==="img"||E.toLowerCase()==="image"?this.outputImg(S,D):this.outputPdf(S,D)},w.prototype.outputPdf=function(S,D){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(S,D)})},w.prototype.outputImg=function(S){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(S){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+S+'" is not supported.'}})},w.prototype.save=function(S){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(S?{filename:S}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},w.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},w.prototype.set=function(S){if(y(S)!=="object")return this;var D=Object.keys(S||{}).map(function(E){if(E in w.template.prop)return function(){this.prop[E]=S[E]};switch(E){case"margin":return this.setMargin.bind(this,S.margin);case"jsPDF":return function(){return this.opt.jsPDF=S.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,S.pageSize);default:return function(){this.opt[E]=S[E]}}},this);return this.then(function(){return this.thenList(D)})},w.prototype.get=function(S,D){return this.then(function(){var E=S in w.template.prop?this.prop[S]:this.opt[S];return D?D(E):E})},w.prototype.setMargin=function(S){return this.then(function(){switch(y(S)){case"number":S=[S,S,S,S];case"array":if(S.length===2&&(S=[S[0],S[1],S[0],S[1]]),S.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=S}).then(this.setPageSize)},w.prototype.setPageSize=function(S){function D(E,W){return Math.floor(E*W/72*96)}return this.then(function(){(S=S||ht.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(S.inner={width:S.width-this.opt.margin[1]-this.opt.margin[3],height:S.height-this.opt.margin[0]-this.opt.margin[2]},S.inner.px={width:D(S.inner.width,S.k),height:D(S.inner.height,S.k)},S.inner.ratio=S.inner.height/S.inner.width),this.prop.pageSize=S})},w.prototype.setProgress=function(S,D,E,W){return S!=null&&(this.progress.val=S),D!=null&&(this.progress.state=D),E!=null&&(this.progress.n=E),W!=null&&(this.progress.stack=W),this.progress.ratio=this.progress.val/this.progress.state,this},w.prototype.updateProgress=function(S,D,E,W){return this.setProgress(S?this.progress.val+S:null,D||null,E?this.progress.n+E:null,W?this.progress.stack.concat(W):null)},w.prototype.then=function(S,D){var E=this;return this.thenCore(S,D,function(W,nt){return E.updateProgress(null,null,1,[W]),Promise.prototype.then.call(this,function(et){return E.updateProgress(null,W),et}).then(W,nt).then(function(et){return E.updateProgress(1),et})})},w.prototype.thenCore=function(S,D,E){E=E||Promise.prototype.then,S&&(S=S.bind(this)),D&&(D=D.bind(this));var W=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:w.convert(Object.assign({},this),Promise.prototype),nt=E.call(W,S,D);return w.convert(nt,this.__proto__)},w.prototype.thenExternal=function(S,D){return Promise.prototype.then.call(this,S,D)},w.prototype.thenList=function(S){var D=this;return S.forEach(function(E){D=D.thenCore(E)}),D},w.prototype.catch=function(S){S&&(S=S.bind(this));var D=Promise.prototype.catch.call(this,S);return w.convert(D,this)},w.prototype.catchExternal=function(S){return Promise.prototype.catch.call(this,S)},w.prototype.error=function(S){return this.then(function(){throw new Error(S)})},w.prototype.using=w.prototype.set,w.prototype.saveAs=w.prototype.save,w.prototype.export=w.prototype.output,w.prototype.run=w.prototype.then,ht.getPageSize=function(S,D,E){if(Ut()(S)==="object"){var W=S;S=W.orientation,D=W.unit||D,E=W.format||E}D=D||"mm",E=E||"a4",S=(""+(S||"P")).toLowerCase();var nt,et=(""+E).toLowerCase(),pt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(D){case"pt":nt=1;break;case"mm":nt=72/25.4;break;case"cm":nt=72/2.54;break;case"in":nt=72;break;case"px":nt=.75;break;case"pc":case"em":nt=12;break;case"ex":nt=6;break;default:throw"Invalid unit: "+D}var U,kt=0,yt=0;if(pt.hasOwnProperty(et))kt=pt[et][1]/nt,yt=pt[et][0]/nt;else try{kt=E[1],yt=E[0]}catch(Nt){throw new Error("Invalid format: "+E)}if(S==="p"||S==="portrait")S="p",yt>kt&&(U=yt,yt=kt,kt=U);else{if(S!=="l"&&S!=="landscape")throw"Invalid orientation: "+S;S="l",kt>yt&&(U=yt,yt=kt,kt=U)}return{width:yt,height:kt,unit:D,k:nt,orientation:S}},C.html=function(S,D){(D=D||{}).callback=D.callback||function(){},D.html2canvas=D.html2canvas||{},D.html2canvas.canvas=D.html2canvas.canvas||this.canvas,D.jsPDF=D.jsPDF||this,D.fontFaces=D.fontFaces?D.fontFaces.map(Ia):null;var E=new w(D);return D.worker?E:E.from(S).doCallback()}}(ht.API),ht.API.addJS=function(C){return lo=C,this.internal.events.subscribe("postPutResources",function(){sa=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(sa+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),vs=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+lo+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){sa!==void 0&&vs!==void 0&&this.internal.out("/Names <</JavaScript "+sa+" 0 R>>")}),this},function(C){var p;C.events.push(["postPutResources",function(){var v=this,y=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var _=v.outline.render().split(/\r\n/),w=0;w<_.length;w++){var S=_[w],D=y.exec(S);if(D!=null){var E=D[1];v.internal.newObjectDeferredBegin(E,!1)}v.internal.write(S)}if(this.outline.createNamedDestinations){var W=this.internal.pages.length,nt=[];for(w=0;w<W;w++){var et=v.internal.newObject();nt.push(et);var pt=v.internal.getPageInfo(w+1);v.internal.write("<< /D["+pt.objId+" 0 R /XYZ null null null]>> endobj")}var U=v.internal.newObject();for(v.internal.write("<< /Names [ "),w=0;w<nt.length;w++)v.internal.write("(page_"+(w+1)+")"+nt[w]+" 0 R");v.internal.write(" ] >>","endobj"),p=v.internal.newObject(),v.internal.write("<< /Dests "+U+" 0 R"),v.internal.write(">>","endobj")}}]),C.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+p+" 0 R"))}]),C.events.push(["initialized",function(){var v=this;v.outline={createNamedDestinations:!1,root:{children:[]}},v.outline.add=function(y,_,w){var S={title:_,options:w,children:[]};return y==null&&(y=this.root),y.children.push(S),S},v.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=v,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},v.outline.genIds_r=function(y){y.id=v.internal.newObjectDeferred();for(var _=0;_<y.children.length;_++)this.genIds_r(y.children[_])},v.outline.renderRoot=function(y){this.objStart(y),this.line("/Type /Outlines"),y.children.length>0&&(this.line("/First "+this.makeRef(y.children[0])),this.line("/Last "+this.makeRef(y.children[y.children.length-1]))),this.line("/Count "+this.count_r({count:0},y)),this.objEnd()},v.outline.renderItems=function(y){for(var _=this.ctx.pdf.internal.getVerticalCoordinateString,w=0;w<y.children.length;w++){var S=y.children[w];this.objStart(S),this.line("/Title "+this.makeString(S.title)),this.line("/Parent "+this.makeRef(y)),w>0&&this.line("/Prev "+this.makeRef(y.children[w-1])),w<y.children.length-1&&this.line("/Next "+this.makeRef(y.children[w+1])),S.children.length>0&&(this.line("/First "+this.makeRef(S.children[0])),this.line("/Last "+this.makeRef(S.children[S.children.length-1])));var D=this.count=this.count_r({count:0},S);if(D>0&&this.line("/Count "+D),S.options&&S.options.pageNumber){var E=v.internal.getPageInfo(S.options.pageNumber);this.line("/Dest ["+E.objId+" 0 R /XYZ 0 "+_(0)+" 0]")}this.objEnd()}for(var W=0;W<y.children.length;W++)this.renderItems(y.children[W])},v.outline.line=function(y){this.ctx.val+=y+`\r
`},v.outline.makeRef=function(y){return y.id+" 0 R"},v.outline.makeString=function(y){return"("+v.internal.pdfEscape(y)+")"},v.outline.objStart=function(y){this.ctx.val+=`\r
`+y.id+` 0 obj\r
<<\r
`},v.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},v.outline.count_r=function(y,_){for(var w=0;w<_.children.length;w++)y.count++,this.count_r(y,_.children[w]);return y.count}}])}(ht.API),function(C){var p=[192,193,194,195,196,197,198,199];C.processJPEG=function(v,y,_,w,S,D){var E,W=this.decode.DCT_DECODE,nt=null;if(typeof v=="string"||this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v)){switch(v=S||v,v=this.__addimage__.isArrayBuffer(v)?new Uint8Array(v):v,(E=function(et){for(var pt,U=256*et.charCodeAt(4)+et.charCodeAt(5),kt=et.length,yt={width:0,height:0,numcomponents:1},Nt=4;Nt<kt;Nt+=2){if(Nt+=U,p.indexOf(et.charCodeAt(Nt+1))!==-1){pt=256*et.charCodeAt(Nt+5)+et.charCodeAt(Nt+6),yt={width:256*et.charCodeAt(Nt+7)+et.charCodeAt(Nt+8),height:pt,numcomponents:et.charCodeAt(Nt+9)};break}U=256*et.charCodeAt(Nt+2)+et.charCodeAt(Nt+3)}return yt}(v=this.__addimage__.isArrayBufferView(v)?this.__addimage__.arrayBufferToBinaryString(v):v)).numcomponents){case 1:D=this.color_spaces.DEVICE_GRAY;break;case 4:D=this.color_spaces.DEVICE_CMYK;break;case 3:D=this.color_spaces.DEVICE_RGB}nt={data:v,width:E.width,height:E.height,colorSpace:D,bitsPerComponent:8,filter:W,index:y,alias:_}}return nt}}(ht.API);var M,x,j,q,ct,Pt=function(){var C,p,v;function y(w){var S,D,E,W,nt,et,pt,U,kt,yt,Nt,wt,Q,oe;for(this.data=w,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},et=null;;){switch(S=this.readUInt32(),kt=function(){var Oe,Ge;for(Ge=[],Oe=0;Oe<4;++Oe)Ge.push(String.fromCharCode(this.data[this.pos++]));return Ge}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(S);break;case"fcTL":et&&this.animation.frames.push(et),this.pos+=4,et={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},nt=this.readUInt16(),W=this.readUInt16()||100,et.delay=1e3*nt/W,et.disposeOp=this.data[this.pos++],et.blendOp=this.data[this.pos++],et.data=[];break;case"IDAT":case"fdAT":for(kt==="fdAT"&&(this.pos+=4,S-=4),w=(et!=null?et.data:void 0)||this.imgData,wt=0;0<=S?wt<S:wt>S;0<=S?++wt:--wt)w.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(E=this.palette.length/3,this.transparency.indexed=this.read(S),this.transparency.indexed.length>E)throw new Error("More transparent colors than palette size");if((yt=E-this.transparency.indexed.length)>0)for(Q=0;0<=yt?Q<yt:Q>yt;0<=yt?++Q:--Q)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(S)[0];break;case 2:this.transparency.rgb=this.read(S)}break;case"tEXt":pt=(Nt=this.read(S)).indexOf(0),U=String.fromCharCode.apply(String,Nt.slice(0,pt)),this.text[U]=String.fromCharCode.apply(String,Nt.slice(pt+1));break;case"IEND":return et&&this.animation.frames.push(et),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(oe=this.colorType)===4||oe===6,D=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*D,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=S}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}y.prototype.read=function(w){var S,D;for(D=[],S=0;0<=w?S<w:S>w;0<=w?++S:--S)D.push(this.data[this.pos++]);return D},y.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},y.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},y.prototype.decodePixels=function(w){var S=this.pixelBitlength/8,D=new Uint8Array(this.width*this.height*S),E=0,W=this;if(w==null&&(w=this.imgData),w.length===0)return new Uint8Array(0);function nt(et,pt,U,kt){var yt,Nt,wt,Q,oe,Oe,Ge,rr,Re,sr,Gt,je,zt,At,qt,Ht,qe,ze,ar,Ce,dr,Ye=Math.ceil((W.width-et)/U),yr=Math.ceil((W.height-pt)/kt),Rt=W.width==Ye&&W.height==yr;for(At=S*Ye,je=Rt?D:new Uint8Array(At*yr),Oe=w.length,zt=0,Nt=0;zt<yr&&E<Oe;){switch(w[E++]){case 0:for(Q=qe=0;qe<At;Q=qe+=1)je[Nt++]=w[E++];break;case 1:for(Q=ze=0;ze<At;Q=ze+=1)yt=w[E++],oe=Q<S?0:je[Nt-S],je[Nt++]=(yt+oe)%256;break;case 2:for(Q=ar=0;ar<At;Q=ar+=1)yt=w[E++],wt=(Q-Q%S)/S,qt=zt&&je[(zt-1)*At+wt*S+Q%S],je[Nt++]=(qt+yt)%256;break;case 3:for(Q=Ce=0;Ce<At;Q=Ce+=1)yt=w[E++],wt=(Q-Q%S)/S,oe=Q<S?0:je[Nt-S],qt=zt&&je[(zt-1)*At+wt*S+Q%S],je[Nt++]=(yt+Math.floor((oe+qt)/2))%256;break;case 4:for(Q=dr=0;dr<At;Q=dr+=1)yt=w[E++],wt=(Q-Q%S)/S,oe=Q<S?0:je[Nt-S],zt===0?qt=Ht=0:(qt=je[(zt-1)*At+wt*S+Q%S],Ht=wt&&je[(zt-1)*At+(wt-1)*S+Q%S]),Ge=oe+qt-Ht,rr=Math.abs(Ge-oe),sr=Math.abs(Ge-qt),Gt=Math.abs(Ge-Ht),Re=rr<=sr&&rr<=Gt?oe:sr<=Gt?qt:Ht,je[Nt++]=(yt+Re)%256;break;default:throw new Error("Invalid filter algorithm: "+w[E-1])}if(!Rt){var ot=((pt+zt*kt)*W.width+et)*S,Dt=zt*At;for(Q=0;Q<Ye;Q+=1){for(var $t=0;$t<S;$t+=1)D[ot++]=je[Dt++];ot+=(U-1)*S}}zt++}}return w=Object(it.a)(w),W.interlaceMethod==1?(nt(0,0,8,8),nt(4,0,8,8),nt(0,4,4,8),nt(2,0,4,4),nt(0,2,2,4),nt(1,0,2,2),nt(0,1,1,2)):nt(0,0,1,1),D},y.prototype.decodePalette=function(){var w,S,D,E,W,nt,et,pt,U;for(D=this.palette,nt=this.transparency.indexed||[],W=new Uint8Array((nt.length||0)+D.length),E=0,w=0,S=et=0,pt=D.length;et<pt;S=et+=3)W[E++]=D[S],W[E++]=D[S+1],W[E++]=D[S+2],W[E++]=(U=nt[w++])!=null?U:255;return W},y.prototype.copyToImageData=function(w,S){var D,E,W,nt,et,pt,U,kt,yt,Nt,wt;if(E=this.colors,yt=null,D=this.hasAlphaChannel,this.palette.length&&(yt=(wt=this._decodedPalette)!=null?wt:this._decodedPalette=this.decodePalette(),E=4,D=!0),kt=(W=w.data||w).length,et=yt||S,nt=pt=0,E===1)for(;nt<kt;)U=yt?4*S[nt/4]:pt,Nt=et[U++],W[nt++]=Nt,W[nt++]=Nt,W[nt++]=Nt,W[nt++]=D?et[U++]:255,pt=U;else for(;nt<kt;)U=yt?4*S[nt/4]:pt,W[nt++]=et[U++],W[nt++]=et[U++],W[nt++]=et[U++],W[nt++]=D?et[U++]:255,pt=U},y.prototype.decode=function(){var w;return w=new Uint8Array(this.width*this.height*4),this.copyToImageData(w,this.decodePixels()),w};var _=function(){if(Object.prototype.toString.call(Se)==="[object Window]"){try{p=Se.document.createElement("canvas"),v=p.getContext("2d")}catch(S){return!1}return!0}return!1};return _(),C=function(S){var D;if(_()===!0)return v.width=S.width,v.height=S.height,v.clearRect(0,0,S.width,S.height),v.putImageData(S,0,0),(D=new Image).src=p.toDataURL(),D;throw new Error("This method requires a Browser with Canvas-capability.")},y.prototype.decodeFrames=function(w){var S,D,E,W,nt,et,pt,U;if(this.animation){for(U=[],D=nt=0,et=(pt=this.animation.frames).length;nt<et;D=++nt)S=pt[D],E=w.createImageData(S.width,S.height),W=this.decodePixels(new Uint8Array(S.data)),this.copyToImageData(E,W),S.imageData=E,U.push(S.image=C(E));return U}},y.prototype.renderFrame=function(w,S){var D,E,W;return D=(E=this.animation.frames)[S],W=E[S-1],S===0&&w.clearRect(0,0,this.width,this.height),(W!=null?W.disposeOp:void 0)===1?w.clearRect(W.xOffset,W.yOffset,W.width,W.height):(W!=null?W.disposeOp:void 0)===2&&w.putImageData(W.imageData,W.xOffset,W.yOffset),D.blendOp===0&&w.clearRect(D.xOffset,D.yOffset,D.width,D.height),w.drawImage(D.image,D.xOffset,D.yOffset)},y.prototype.animate=function(w){var S,D,E,W,nt,et,pt=this;return D=0,et=this.animation,W=et.numFrames,E=et.frames,nt=et.numPlays,(S=function(){var kt,yt;if(kt=D++%W,yt=E[kt],pt.renderFrame(w,kt),W>1&&D/W<nt)return pt.animation._timeout=setTimeout(S,yt.delay)})()},y.prototype.stopAnimation=function(){var w;return clearTimeout((w=this.animation)!=null?w._timeout:void 0)},y.prototype.render=function(w){var S,D;return w._png&&w._png.stopAnimation(),w._png=this,w.width=this.width,w.height=this.height,S=w.getContext("2d"),this.animation?(this.decodeFrames(S),this.animate(S)):(D=S.createImageData(this.width,this.height),this.copyToImageData(D,this.decodePixels()),S.putImageData(D,0,0))},y}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Ot(C){var p=0;if(C[p++]!==71||C[p++]!==73||C[p++]!==70||C[p++]!==56||(C[p++]+1&253)!=56||C[p++]!==97)throw new Error("Invalid GIF 87a/89a header.");var v=C[p++]|C[p++]<<8,y=C[p++]|C[p++]<<8,_=C[p++],w=_>>7,S=1<<(7&_)+1;C[p++],C[p++];var D=null,E=null;w&&(D=p,E=S,p+=3*S);var W=!0,nt=[],et=0,pt=null,U=0,kt=null;for(this.width=v,this.height=y;W&&p<C.length;)switch(C[p++]){case 33:switch(C[p++]){case 255:if(C[p]!==11||C[p+1]==78&&C[p+2]==69&&C[p+3]==84&&C[p+4]==83&&C[p+5]==67&&C[p+6]==65&&C[p+7]==80&&C[p+8]==69&&C[p+9]==50&&C[p+10]==46&&C[p+11]==48&&C[p+12]==3&&C[p+13]==1&&C[p+16]==0)p+=14,kt=C[p++]|C[p++]<<8,p++;else for(p+=12;;){if(!((zt=C[p++])>=0))throw Error("Invalid block size");if(zt===0)break;p+=zt}break;case 249:if(C[p++]!==4||C[p+4]!==0)throw new Error("Invalid graphics extension block.");var yt=C[p++];et=C[p++]|C[p++]<<8,pt=C[p++],(1&yt)==0&&(pt=null),U=yt>>2&7,p++;break;case 254:for(;;){if(!((zt=C[p++])>=0))throw Error("Invalid block size");if(zt===0)break;p+=zt}break;default:throw new Error("Unknown graphic control label: 0x"+C[p-1].toString(16))}break;case 44:var Nt=C[p++]|C[p++]<<8,wt=C[p++]|C[p++]<<8,Q=C[p++]|C[p++]<<8,oe=C[p++]|C[p++]<<8,Oe=C[p++],Ge=Oe>>6&1,rr=1<<(7&Oe)+1,Re=D,sr=E,Gt=!1;Oe>>7&&(Gt=!0,Re=p,sr=rr,p+=3*rr);var je=p;for(p++;;){var zt;if(!((zt=C[p++])>=0))throw Error("Invalid block size");if(zt===0)break;p+=zt}nt.push({x:Nt,y:wt,width:Q,height:oe,has_local_palette:Gt,palette_offset:Re,palette_size:sr,data_offset:je,data_length:p-je,transparent_index:pt,interlaced:!!Ge,delay:et,disposal:U});break;case 59:W=!1;break;default:throw new Error("Unknown gif block: 0x"+C[p-1].toString(16))}this.numFrames=function(){return nt.length},this.loopCount=function(){return kt},this.frameInfo=function(At){if(At<0||At>=nt.length)throw new Error("Frame index out of range.");return nt[At]},this.decodeAndBlitFrameBGRA=function(At,qt){var Ht=this.frameInfo(At),qe=Ht.width*Ht.height,ze=new Uint8Array(qe);Jt(C,Ht.data_offset,ze,qe);var ar=Ht.palette_offset,Ce=Ht.transparent_index;Ce===null&&(Ce=256);var dr=Ht.width,Ye=v-dr,yr=dr,Rt=4*(Ht.y*v+Ht.x),ot=4*((Ht.y+Ht.height)*v+Ht.x),Dt=Rt,$t=4*Ye;Ht.interlaced===!0&&($t+=4*v*7);for(var ce=8,xe=0,Ve=ze.length;xe<Ve;++xe){var Me=ze[xe];if(yr===0&&(yr=dr,(Dt+=$t)>=ot&&($t=4*Ye+4*v*(ce-1),Dt=Rt+(dr+Ye)*(ce<<1),ce>>=1)),Me===Ce)Dt+=4;else{var Be=C[ar+3*Me],lr=C[ar+3*Me+1],zr=C[ar+3*Me+2];qt[Dt++]=zr,qt[Dt++]=lr,qt[Dt++]=Be,qt[Dt++]=255}--yr}},this.decodeAndBlitFrameRGBA=function(At,qt){var Ht=this.frameInfo(At),qe=Ht.width*Ht.height,ze=new Uint8Array(qe);Jt(C,Ht.data_offset,ze,qe);var ar=Ht.palette_offset,Ce=Ht.transparent_index;Ce===null&&(Ce=256);var dr=Ht.width,Ye=v-dr,yr=dr,Rt=4*(Ht.y*v+Ht.x),ot=4*((Ht.y+Ht.height)*v+Ht.x),Dt=Rt,$t=4*Ye;Ht.interlaced===!0&&($t+=4*v*7);for(var ce=8,xe=0,Ve=ze.length;xe<Ve;++xe){var Me=ze[xe];if(yr===0&&(yr=dr,(Dt+=$t)>=ot&&($t=4*Ye+4*v*(ce-1),Dt=Rt+(dr+Ye)*(ce<<1),ce>>=1)),Me===Ce)Dt+=4;else{var Be=C[ar+3*Me],lr=C[ar+3*Me+1],zr=C[ar+3*Me+2];qt[Dt++]=Be,qt[Dt++]=lr,qt[Dt++]=zr,qt[Dt++]=255}--yr}}}function Jt(C,p,v,y){for(var _=C[p++],w=1<<_,S=w+1,D=S+1,E=_+1,W=(1<<E)-1,nt=0,et=0,pt=0,U=C[p++],kt=new Int32Array(4096),yt=null;;){for(;nt<16&&U!==0;)et|=C[p++]<<nt,nt+=8,U===1?U=C[p++]:--U;if(nt<E)break;var Nt=et&W;if(et>>=E,nt-=E,Nt!==w){if(Nt===S)break;for(var wt=Nt<D?Nt:yt,Q=0,oe=wt;oe>w;)oe=kt[oe]>>8,++Q;var Oe=oe;if(pt+Q+(wt!==Nt?1:0)>y)return void Tt.log("Warning, gif stream longer than expected.");v[pt++]=Oe;var Ge=pt+=Q;for(wt!==Nt&&(v[pt++]=Oe),oe=wt;Q--;)oe=kt[oe],v[--Ge]=255&oe,oe>>=8;yt!==null&&D<4096&&(kt[D++]=yt<<8|Oe,D>=W+1&&E<12&&(++E,W=W<<1|1)),yt=Nt}else D=S+1,W=(1<<(E=_+1))-1,yt=null}return pt!==y&&Tt.log("Warning, gif stream shorter than expected."),v}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function _e(C){var p,v,y,_,w,S=Math.floor,D=new Array(64),E=new Array(64),W=new Array(64),nt=new Array(64),et=new Array(65535),pt=new Array(65535),U=new Array(64),kt=new Array(64),yt=[],Nt=0,wt=7,Q=new Array(64),oe=new Array(64),Oe=new Array(64),Ge=new Array(256),rr=new Array(2048),Re=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],sr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],Gt=[0,1,2,3,4,5,6,7,8,9,10,11],je=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],zt=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],At=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],qt=[0,1,2,3,4,5,6,7,8,9,10,11],Ht=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],qe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function ze(Rt,ot){for(var Dt=0,$t=0,ce=new Array,xe=1;xe<=16;xe++){for(var Ve=1;Ve<=Rt[xe];Ve++)ce[ot[$t]]=[],ce[ot[$t]][0]=Dt,ce[ot[$t]][1]=xe,$t++,Dt++;Dt*=2}return ce}function ar(Rt){for(var ot=Rt[0],Dt=Rt[1]-1;Dt>=0;)ot&1<<Dt&&(Nt|=1<<wt),Dt--,--wt<0&&(Nt==255?(Ce(255),Ce(0)):Ce(Nt),wt=7,Nt=0)}function Ce(Rt){yt.push(Rt)}function dr(Rt){Ce(Rt>>8&255),Ce(255&Rt)}function Ye(Rt,ot,Dt,$t,ce){for(var xe,Ve=ce[0],Me=ce[240],Be=function(Xe,Pr){var wr,jr,Wr,Yr,Li,$r,_i,zi,Xr,ui,kr=0;for(Xr=0;Xr<8;++Xr){wr=Xe[kr],jr=Xe[kr+1],Wr=Xe[kr+2],Yr=Xe[kr+3],Li=Xe[kr+4],$r=Xe[kr+5],_i=Xe[kr+6];var Dn=wr+(zi=Xe[kr+7]),qi=wr-zi,xn=jr+_i,pi=jr-_i,dn=Wr+$r,_a=Wr-$r,Ni=Yr+Li,ts=Yr-Li,an=Dn+Ni,pn=Dn-Ni,oa=xn+dn,Vi=xn-dn;Xe[kr]=an+oa,Xe[kr+4]=an-oa;var si=.707106781*(Vi+pn);Xe[kr+2]=pn+si,Xe[kr+6]=pn-si;var Ii=.382683433*((an=ts+_a)-(Vi=pi+qi)),uo=.5411961*an+Ii,In=1.306562965*Vi+Ii,es=.707106781*(oa=_a+pi),rs=qi+es,Qr=qi-es;Xe[kr+5]=Qr+uo,Xe[kr+3]=Qr-uo,Xe[kr+1]=rs+In,Xe[kr+7]=rs-In,kr+=8}for(kr=0,Xr=0;Xr<8;++Xr){wr=Xe[kr],jr=Xe[kr+8],Wr=Xe[kr+16],Yr=Xe[kr+24],Li=Xe[kr+32],$r=Xe[kr+40],_i=Xe[kr+48];var Kn=wr+(zi=Xe[kr+56]),xa=wr-zi,ms=jr+_i,Qi=jr-_i,Sn=Wr+$r,tn=Wr-$r,is=Yr+Li,Ws=Yr-Li,Ba=Kn+is,ns=Kn-is,Rn=ms+Sn,gn=ms-Sn;Xe[kr]=Ba+Rn,Xe[kr+32]=Ba-Rn;var la=.707106781*(gn+ns);Xe[kr+16]=ns+la,Xe[kr+48]=ns-la;var ho=.382683433*((Ba=Ws+tn)-(gn=Qi+xa)),as=.5411961*Ba+ho,co=1.306562965*gn+ho,ko=.707106781*(Rn=tn+Qi),Mo=xa+ko,ys=xa-ko;Xe[kr+40]=ys+as,Xe[kr+24]=ys-as,Xe[kr+8]=Mo+co,Xe[kr+56]=Mo-co,kr++}for(Xr=0;Xr<64;++Xr)ui=Xe[Xr]*Pr[Xr],U[Xr]=ui>0?ui+.5|0:ui-.5|0;return U}(Rt,ot),lr=0;lr<64;++lr)kt[Re[lr]]=Be[lr];var zr=kt[0]-Dt;Dt=kt[0],zr==0?ar($t[0]):(ar($t[pt[xe=32767+zr]]),ar(et[xe]));for(var xr=63;xr>0&&kt[xr]==0;)xr--;if(xr==0)return ar(Ve),Dt;for(var Zr,Gr=1;Gr<=xr;){for(var Lt=Gr;kt[Gr]==0&&Gr<=xr;)++Gr;var Ke=Gr-Lt;if(Ke>=16){Zr=Ke>>4;for(var Tr=1;Tr<=Zr;++Tr)ar(Me);Ke&=15}xe=32767+kt[Gr],ar(ce[(Ke<<4)+pt[xe]]),ar(et[xe]),Gr++}return xr!=63&&ar(Ve),Dt}function yr(Rt){Rt=Math.min(Math.max(Rt,1),100),w!=Rt&&(function(ot){for(var Dt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],$t=0;$t<64;$t++){var ce=S((Dt[$t]*ot+50)/100);ce=Math.min(Math.max(ce,1),255),D[Re[$t]]=ce}for(var xe=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Ve=0;Ve<64;Ve++){var Me=S((xe[Ve]*ot+50)/100);Me=Math.min(Math.max(Me,1),255),E[Re[Ve]]=Me}for(var Be=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],lr=0,zr=0;zr<8;zr++)for(var xr=0;xr<8;xr++)W[lr]=1/(D[Re[lr]]*Be[zr]*Be[xr]*8),nt[lr]=1/(E[Re[lr]]*Be[zr]*Be[xr]*8),lr++}(Rt<50?Math.floor(5e3/Rt):Math.floor(200-2*Rt)),w=Rt)}this.encode=function(Rt,ot){ot&&yr(ot),yt=new Array,Nt=0,wt=7,dr(65496),dr(65504),dr(16),Ce(74),Ce(70),Ce(73),Ce(70),Ce(0),Ce(1),Ce(1),Ce(0),dr(1),dr(1),Ce(0),Ce(0),function(){dr(65499),dr(132),Ce(0);for(var jr=0;jr<64;jr++)Ce(D[jr]);Ce(1);for(var Wr=0;Wr<64;Wr++)Ce(E[Wr])}(),function(jr,Wr){dr(65472),dr(17),Ce(8),dr(Wr),dr(jr),Ce(3),Ce(1),Ce(17),Ce(0),Ce(2),Ce(17),Ce(1),Ce(3),Ce(17),Ce(1)}(Rt.width,Rt.height),function(){dr(65476),dr(418),Ce(0);for(var jr=0;jr<16;jr++)Ce(sr[jr+1]);for(var Wr=0;Wr<=11;Wr++)Ce(Gt[Wr]);Ce(16);for(var Yr=0;Yr<16;Yr++)Ce(je[Yr+1]);for(var Li=0;Li<=161;Li++)Ce(zt[Li]);Ce(1);for(var $r=0;$r<16;$r++)Ce(At[$r+1]);for(var _i=0;_i<=11;_i++)Ce(qt[_i]);Ce(17);for(var zi=0;zi<16;zi++)Ce(Ht[zi+1]);for(var Xr=0;Xr<=161;Xr++)Ce(qe[Xr])}(),dr(65498),dr(12),Ce(3),Ce(1),Ce(0),Ce(2),Ce(17),Ce(3),Ce(17),Ce(0),Ce(63),Ce(0);var Dt=0,$t=0,ce=0;Nt=0,wt=7,this.encode.displayName="_encode_";for(var xe,Ve,Me,Be,lr,zr,xr,Zr,Gr,Lt=Rt.data,Ke=Rt.width,Tr=Rt.height,Xe=4*Ke,Pr=0;Pr<Tr;){for(xe=0;xe<Xe;){for(lr=Xe*Pr+xe,xr=-1,Zr=0,Gr=0;Gr<64;Gr++)zr=lr+(Zr=Gr>>3)*Xe+(xr=4*(7&Gr)),Pr+Zr>=Tr&&(zr-=Xe*(Pr+1+Zr-Tr)),xe+xr>=Xe&&(zr-=xe+xr-Xe+4),Ve=Lt[zr++],Me=Lt[zr++],Be=Lt[zr++],Q[Gr]=(rr[Ve]+rr[Me+256>>0]+rr[Be+512>>0]>>16)-128,oe[Gr]=(rr[Ve+768>>0]+rr[Me+1024>>0]+rr[Be+1280>>0]>>16)-128,Oe[Gr]=(rr[Ve+1280>>0]+rr[Me+1536>>0]+rr[Be+1792>>0]>>16)-128;Dt=Ye(Q,W,Dt,p,y),$t=Ye(oe,nt,$t,v,_),ce=Ye(Oe,nt,ce,v,_),xe+=32}Pr+=8}if(wt>=0){var wr=[];wr[1]=wt+1,wr[0]=(1<<wt+1)-1,ar(wr)}return dr(65497),new Uint8Array(yt)},C=C||50,function(){for(var Rt=String.fromCharCode,ot=0;ot<256;ot++)Ge[ot]=Rt(ot)}(),p=ze(sr,Gt),v=ze(At,qt),y=ze(je,zt),_=ze(Ht,qe),function(){for(var Rt=1,ot=2,Dt=1;Dt<=15;Dt++){for(var $t=Rt;$t<ot;$t++)pt[32767+$t]=Dt,et[32767+$t]=[],et[32767+$t][1]=Dt,et[32767+$t][0]=$t;for(var ce=-(ot-1);ce<=-Rt;ce++)pt[32767+ce]=Dt,et[32767+ce]=[],et[32767+ce][1]=Dt,et[32767+ce][0]=ot-1+ce;Rt<<=1,ot<<=1}}(),function(){for(var Rt=0;Rt<256;Rt++)rr[Rt]=19595*Rt,rr[Rt+256>>0]=38470*Rt,rr[Rt+512>>0]=7471*Rt+32768,rr[Rt+768>>0]=-11059*Rt,rr[Rt+1024>>0]=-21709*Rt,rr[Rt+1280>>0]=32768*Rt+8421375,rr[Rt+1536>>0]=-27439*Rt,rr[Rt+1792>>0]=-5329*Rt}(),yr(C)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function jt(C,p){if(this.pos=0,this.buffer=C,this.datav=new DataView(C.buffer),this.is_with_alpha=!!p,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Te(C){function p(sr){if(!sr)throw Error("assert :P")}function v(sr,Gt,je){for(var zt=0;4>zt;zt++)if(sr[Gt+zt]!=je.charCodeAt(zt))return!0;return!1}function y(sr,Gt,je,zt,At){for(var qt=0;qt<At;qt++)sr[Gt+qt]=je[zt+qt]}function _(sr,Gt,je,zt){for(var At=0;At<zt;At++)sr[Gt+At]=je}function w(sr){return new Int32Array(sr)}function S(sr,Gt){for(var je=[],zt=0;zt<sr;zt++)je.push(new Gt);return je}function D(sr,Gt){var je=[];return function zt(At,qt,Ht){for(var qe=Ht[qt],ze=0;ze<qe&&(At.push(Ht.length>qt+1?[]:new Gt),!(Ht.length<qt+1));ze++)zt(At[ze],qt+1,Ht)}(je,0,sr),je}var E=function(){var Gt=this;function je(c,g){for(var T=1<<g-1>>>0;c&T;)T>>>=1;return T?(c&T-1)+T:c}function zt(c,g,T,B,X){p(!(B%T));do c[g+(B-=T)]=X;while(0<B)}function At(c,g,T,B,X){if(p(2328>=X),512>=X)var J=w(512);else if((J=w(X))==null)return 0;return function($,rt,lt,bt,Vt,we){var ge,ne,Ze=rt,Ne=1<<lt,Kt=w(16),Zt=w(16);for(p(Vt!=0),p(bt!=null),p($!=null),p(0<lt),ne=0;ne<Vt;++ne){if(15<bt[ne])return 0;++Kt[bt[ne]]}if(Kt[0]==Vt)return 0;for(Zt[1]=0,ge=1;15>ge;++ge){if(Kt[ge]>1<<ge)return 0;Zt[ge+1]=Zt[ge]+Kt[ge]}for(ne=0;ne<Vt;++ne)ge=bt[ne],0<bt[ne]&&(we[Zt[ge]++]=ne);if(Zt[15]==1)return(bt=new qt).g=0,bt.value=we[0],zt($,Ze,1,Ne,bt),Ne;var Je,Qe=-1,$e=Ne-1,Dr=0,Sr=1,Vr=1,Cr=1<<lt;for(ne=0,ge=1,Vt=2;ge<=lt;++ge,Vt<<=1){if(Sr+=Vr<<=1,0>(Vr-=Kt[ge]))return 0;for(;0<Kt[ge];--Kt[ge])(bt=new qt).g=ge,bt.value=we[ne++],zt($,Ze+Dr,Vt,Cr,bt),Dr=je(Dr,ge)}for(ge=lt+1,Vt=2;15>=ge;++ge,Vt<<=1){if(Sr+=Vr<<=1,0>(Vr-=Kt[ge]))return 0;for(;0<Kt[ge];--Kt[ge]){if(bt=new qt,(Dr&$e)!=Qe){for(Ze+=Cr,Je=1<<(Qe=ge)-lt;15>Qe&&!(0>=(Je-=Kt[Qe]));)++Qe,Je<<=1;Ne+=Cr=1<<(Je=Qe-lt),$[rt+(Qe=Dr&$e)].g=Je+lt,$[rt+Qe].value=Ze-rt-Qe}bt.g=ge-lt,bt.value=we[ne++],zt($,Ze+(Dr>>lt),Vt,Cr,bt),Dr=je(Dr,ge)}}return Sr!=2*Zt[15]-1?0:Ne}(c,g,T,B,X,J)}function qt(){this.value=this.g=0}function Ht(){this.value=this.g=0}function qe(){this.G=S(5,qt),this.H=w(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=S(Bn,Ht)}function ze(c,g,T,B){p(c!=null),p(g!=null),p(2147483648>B),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=g,c.pa=T,c.Jd=g,c.Yc=T+B,c.Zc=4<=B?T+B-4+1:T,Ve(c)}function ar(c,g){for(var T=0;0<g--;)T|=Be(c,128)<<g;return T}function Ce(c,g){var T=ar(c,g);return Me(c)?-T:T}function dr(c,g,T,B){var X,J=0;for(p(c!=null),p(g!=null),p(4294967288>B),c.Sb=B,c.Ra=0,c.u=0,c.h=0,4<B&&(B=4),X=0;X<B;++X)J+=g[T+X]<<8*X;c.Ra=J,c.bb=B,c.oa=g,c.pa=T}function Ye(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<kn-8>>>0,++c.bb,c.u-=8;$t(c)&&(c.h=1,c.u=0)}function yr(c,g){if(p(0<=g),!c.h&&g<=hs){var T=Dt(c)&Ks[g];return c.u+=g,Ye(c),T}return c.h=1,c.u=0}function Rt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ot(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function Dt(c){return c.Ra>>>(c.u&kn-1)>>>0}function $t(c){return p(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>kn}function ce(c,g){c.u=g,c.h=$t(c)}function xe(c){c.u>=Wn&&(p(c.u>=Wn),Ye(c))}function Ve(c){p(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(p(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function Me(c){return ar(c,1)}function Be(c,g){var T=c.Ca;0>c.b&&Ve(c);var B=c.b,X=T*g>>>8,J=(c.I>>>B>X)+0;for(J?(T-=X,c.I-=X+1<<B>>>0):T=X+1,B=T,X=0;256<=B;)X+=8,B>>=8;return B=7^X+Wl[B],c.b-=B,c.Ca=(T<<B)-1,J}function lr(c,g,T){c[g+0]=T>>24&255,c[g+1]=T>>16&255,c[g+2]=T>>8&255,c[g+3]=T>>0&255}function zr(c,g){return c[g+0]<<0|c[g+1]<<8}function xr(c,g){return zr(c,g)|c[g+2]<<16}function Zr(c,g){return zr(c,g)|zr(c,g+2)<<16}function Gr(c,g){var T=1<<g;return p(c!=null),p(0<g),c.X=w(T),c.X==null?0:(c.Mb=32-g,c.Xa=g,1)}function Lt(c,g){p(c!=null),p(g!=null),p(c.Xa==g.Xa),y(g.X,0,c.X,0,1<<g.Xa)}function Ke(){this.X=[],this.Xa=this.Mb=0}function Tr(c,g,T,B){p(T!=null),p(B!=null);var X=T[0],J=B[0];return X==0&&(X=(c*J+g/2)/g),J==0&&(J=(g*X+c/2)/c),0>=X||0>=J?0:(T[0]=X,B[0]=J,1)}function Xe(c,g){return c+(1<<g)-1>>>g}function Pr(c,g){return((4278255360&c)+(4278255360&g)>>>0&4278255360)+((16711935&c)+(16711935&g)>>>0&16711935)>>>0}function wr(c,g){Gt[g]=function(T,B,X,J,$,rt,lt){var bt;for(bt=0;bt<$;++bt){var Vt=Gt[c](rt[lt+bt-1],X,J+bt);rt[lt+bt]=Pr(T[B+bt],Vt)}}}function jr(){this.ud=this.hd=this.jd=0}function Wr(c,g){return((4278124286&(c^g))>>>1)+(c&g)>>>0}function Yr(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function Li(c,g){return Yr(c+(c-g+.5>>1))}function $r(c,g,T){return Math.abs(g-T)-Math.abs(c-T)}function _i(c,g,T,B,X,J,$){for(B=J[$-1],T=0;T<X;++T)J[$+T]=B=Pr(c[g+T],B)}function zi(c,g,T,B,X){var J;for(J=0;J<T;++J){var $=c[g+J],rt=$>>8&255,lt=16711935&(lt=(lt=16711935&$)+((rt<<16)+rt));B[X+J]=(4278255360&$)+lt>>>0}}function Xr(c,g){g.jd=c>>0&255,g.hd=c>>8&255,g.ud=c>>16&255}function ui(c,g,T,B,X,J){var $;for($=0;$<B;++$){var rt=g[T+$],lt=rt>>>8,bt=rt,Vt=255&(Vt=(Vt=rt>>>16)+((c.jd<<24>>24)*(lt<<24>>24)>>>5));bt=255&(bt=(bt=bt+((c.hd<<24>>24)*(lt<<24>>24)>>>5))+((c.ud<<24>>24)*(Vt<<24>>24)>>>5)),X[J+$]=(4278255360&rt)+(Vt<<16)+bt}}function kr(c,g,T,B,X){Gt[g]=function(J,$,rt,lt,bt,Vt,we,ge,ne){for(lt=we;lt<ge;++lt)for(we=0;we<ne;++we)bt[Vt++]=X(rt[B(J[$++])])},Gt[c]=function(J,$,rt,lt,bt,Vt,we){var ge=8>>J.b,ne=J.Ea,Ze=J.K[0],Ne=J.w;if(8>ge)for(J=(1<<J.b)-1,Ne=(1<<ge)-1;$<rt;++$){var Kt,Zt=0;for(Kt=0;Kt<ne;++Kt)Kt&J||(Zt=B(lt[bt++])),Vt[we++]=X(Ze[Zt&Ne]),Zt>>=ge}else Gt["VP8LMapColor"+T](lt,bt,Ze,Ne,Vt,we,$,rt,ne)}}function Dn(c,g,T,B,X){for(T=g+T;g<T;){var J=c[g++];B[X++]=J>>16&255,B[X++]=J>>8&255,B[X++]=J>>0&255}}function qi(c,g,T,B,X){for(T=g+T;g<T;){var J=c[g++];B[X++]=J>>16&255,B[X++]=J>>8&255,B[X++]=J>>0&255,B[X++]=J>>24&255}}function xn(c,g,T,B,X){for(T=g+T;g<T;){var J=($=c[g++])>>16&240|$>>12&15,$=$>>0&240|$>>28&15;B[X++]=J,B[X++]=$}}function pi(c,g,T,B,X){for(T=g+T;g<T;){var J=($=c[g++])>>16&248|$>>13&7,$=$>>5&224|$>>3&31;B[X++]=J,B[X++]=$}}function dn(c,g,T,B,X){for(T=g+T;g<T;){var J=c[g++];B[X++]=J>>0&255,B[X++]=J>>8&255,B[X++]=J>>16&255}}function _a(c,g,T,B,X,J){if(J==0)for(T=g+T;g<T;)lr(B,((J=c[g++])[0]>>24|J[1]>>8&65280|J[2]<<8&16711680|J[3]<<24)>>>0),X+=32;else y(B,X,c,g,T)}function Ni(c,g){Gt[g][0]=Gt[c+"0"],Gt[g][1]=Gt[c+"1"],Gt[g][2]=Gt[c+"2"],Gt[g][3]=Gt[c+"3"],Gt[g][4]=Gt[c+"4"],Gt[g][5]=Gt[c+"5"],Gt[g][6]=Gt[c+"6"],Gt[g][7]=Gt[c+"7"],Gt[g][8]=Gt[c+"8"],Gt[g][9]=Gt[c+"9"],Gt[g][10]=Gt[c+"10"],Gt[g][11]=Gt[c+"11"],Gt[g][12]=Gt[c+"12"],Gt[g][13]=Gt[c+"13"],Gt[g][14]=Gt[c+"0"],Gt[g][15]=Gt[c+"0"]}function ts(c){return c==xu||c==ml||c==ci||c==Su}function an(){this.eb=[],this.size=this.A=this.fb=0}function pn(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function oa(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new an,this.f.kb=new pn,this.sd=null}function Vi(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function si(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function Ii(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function uo(c,g){var T=c.T,B=g.ba.f.RGBA,X=B.eb,J=B.fb+c.ka*B.A,$=ma[g.ba.S],rt=c.y,lt=c.O,bt=c.f,Vt=c.N,we=c.ea,ge=c.W,ne=g.cc,Ze=g.dc,Ne=g.Mc,Kt=g.Nc,Zt=c.ka,Je=c.ka+c.T,Qe=c.U,$e=Qe+1>>1;for(Zt==0?$(rt,lt,null,null,bt,Vt,we,ge,bt,Vt,we,ge,X,J,null,null,Qe):($(g.ec,g.fc,rt,lt,ne,Ze,Ne,Kt,bt,Vt,we,ge,X,J-B.A,X,J,Qe),++T);Zt+2<Je;Zt+=2)ne=bt,Ze=Vt,Ne=we,Kt=ge,Vt+=c.Rc,ge+=c.Rc,J+=2*B.A,$(rt,(lt+=2*c.fa)-c.fa,rt,lt,ne,Ze,Ne,Kt,bt,Vt,we,ge,X,J-B.A,X,J,Qe);return lt+=c.fa,c.j+Je<c.o?(y(g.ec,g.fc,rt,lt,Qe),y(g.cc,g.dc,bt,Vt,$e),y(g.Mc,g.Nc,we,ge,$e),T--):1&Je||$(rt,lt,null,null,bt,Vt,we,ge,bt,Vt,we,ge,X,J+B.A,null,null,Qe),T}function In(c,g,T){var B=c.F,X=[c.J];if(B!=null){var J=c.U,$=g.ba.S,rt=$==Vo||$==ci;g=g.ba.f.RGBA;var lt=[0],bt=c.ka;lt[0]=c.T,c.Kb&&(bt==0?--lt[0]:(--bt,X[0]-=c.width),c.j+c.ka+c.T==c.o&&(lt[0]=c.o-c.j-bt));var Vt=g.eb;bt=g.fb+bt*g.A,c=ju(B,X[0],c.width,J,lt,Vt,bt+(rt?0:3),g.A),p(T==lt),c&&ts($)&&Os(Vt,bt,rt,J,lt,g.A)}return 0}function es(c){var g=c.ma,T=g.ba.S,B=11>T,X=T==Xl||T==Vl||T==Vo||T==Kl||T==12||ts(T);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!gl(g.Oa,c,X?11:12))return 0;if(X&&ts(T)&&Hr(),c.da)alert("todo:use_scaling");else{if(B){if(g.Ib=Ii,c.Kb){if(T=c.U+1>>1,g.memory=w(c.U+2*T),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+c.U,g.Mc=g.cc,g.Nc=g.dc+T,g.Ib=uo,Hr()}}else alert("todo:EmitYUV");X&&(g.Jb=In,B&&hr())}if(B&&!Ku){for(c=0;256>c;++c)ru[c]=89858*(c-128)+wl>>eu,$u[c]=-22014*(c-128)+wl,Ju[c]=-45773*(c-128),$o[c]=113618*(c-128)+wl>>eu;for(c=Jo;c<jn;++c)g=76283*(c-16)+wl>>eu,Ch[c-Jo]=$n(g,255),Zu[c-Jo]=$n(g+8>>4,15);Ku=1}return 1}function rs(c){var g=c.ma,T=c.U,B=c.T;return p(!(1&c.ka)),0>=T||0>=B?0:(T=g.Ib(c,g),g.Jb!=null&&g.Jb(c,g,T),g.Dc+=T,1)}function Qr(c){c.ma.memory=null}function Kn(c,g,T,B){return yr(c,8)!=47?0:(g[0]=yr(c,14)+1,T[0]=yr(c,14)+1,B[0]=yr(c,1),yr(c,3)!=0?0:!c.h)}function xa(c,g){if(4>c)return c+1;var T=c-2>>1;return(2+(1&c)<<T)+yr(g,T)+1}function ms(c,g){return 120<g?g-120:1<=(T=((T=La[g-1])>>4)*c+(8-(15&T)))?T:1;var T}function Qi(c,g,T){var B=Dt(T),X=c[g+=255&B].g-8;return 0<X&&(ce(T,T.u+8),B=Dt(T),g+=c[g].value,g+=B&(1<<X)-1),ce(T,T.u+c[g].g),c[g].value}function Sn(c,g,T){return T.g+=c.g,T.value+=c.value<<g>>>0,p(8>=T.g),c.g}function tn(c,g,T){var B=c.xc;return p((g=B==0?0:c.vc[c.md*(T>>B)+(g>>B)])<c.Wb),c.Ya[g]}function is(c,g,T,B){var X=c.ab,J=c.c*g,$=c.C;g=$+g;var rt=T,lt=B;for(B=c.Ta,T=c.Ua;0<X--;){var bt=c.gc[X],Vt=$,we=g,ge=rt,ne=lt,Ze=(lt=B,rt=T,bt.Ea);switch(p(Vt<we),p(we<=bt.nc),bt.hc){case 2:Ln(ge,ne,(we-Vt)*Ze,lt,rt);break;case 0:var Ne=Vt,Kt=we,Zt=lt,Je=rt,Qe=(Cr=bt).Ea;Ne==0&&(qo(ge,ne,null,null,1,Zt,Je),_i(ge,ne+1,0,0,Qe-1,Zt,Je+1),ne+=Qe,Je+=Qe,++Ne);for(var $e=1<<Cr.b,Dr=$e-1,Sr=Xe(Qe,Cr.b),Vr=Cr.K,Cr=Cr.w+(Ne>>Cr.b)*Sr;Ne<Kt;){var Ar=Vr,Di=Cr,Si=1;for(_o(ge,ne,Zt,Je-Qe,1,Zt,Je);Si<Qe;){var fi=(Si&~Dr)+$e;fi>Qe&&(fi=Qe),(0,Ta[Ar[Di++]>>8&15])(ge,ne+ +Si,Zt,Je+Si-Qe,fi-Si,Zt,Je+Si),Si=fi}ne+=Qe,Je+=Qe,++Ne&Dr||(Cr+=Sr)}we!=bt.nc&&y(lt,rt-Ze,lt,rt+(we-Vt-1)*Ze,Ze);break;case 1:for(Ze=ge,Kt=ne,Qe=(ge=bt.Ea)-(Je=ge&~(Zt=(ne=1<<bt.b)-1)),Ne=Xe(ge,bt.b),$e=bt.K,bt=bt.w+(Vt>>bt.b)*Ne;Vt<we;){for(Dr=$e,Sr=bt,Vr=new jr,Cr=Kt+Je,Ar=Kt+ge;Kt<Cr;)Xr(Dr[Sr++],Vr),Gi(Vr,Ze,Kt,ne,lt,rt),Kt+=ne,rt+=ne;Kt<Ar&&(Xr(Dr[Sr++],Vr),Gi(Vr,Ze,Kt,Qe,lt,rt),Kt+=Qe,rt+=Qe),++Vt&Zt||(bt+=Ne)}break;case 3:if(ge==lt&&ne==rt&&0<bt.b){for(Kt=lt,ge=Ze=rt+(we-Vt)*Ze-(Je=(we-Vt)*Xe(bt.Ea,bt.b)),ne=lt,Zt=rt,Ne=[],Je=(Qe=Je)-1;0<=Je;--Je)Ne[Je]=ne[Zt+Je];for(Je=Qe-1;0<=Je;--Je)Kt[ge+Je]=Ne[Je];xo(bt,Vt,we,lt,Ze,lt,rt)}else xo(bt,Vt,we,ge,ne,lt,rt)}rt=B,lt=T}lt!=T&&y(B,T,rt,lt,J)}function Ws(c,g){var T=c.V,B=c.Ba+c.c*c.C,X=g-c.C;if(p(g<=c.l.o),p(16>=X),0<X){var J=c.l,$=c.Ta,rt=c.Ua,lt=J.width;if(is(c,X,T,B),X=rt=[rt],p((T=c.C)<(B=g)),p(J.v<J.va),B>J.o&&(B=J.o),T<J.j){var bt=J.j-T;T=J.j,X[0]+=bt*lt}if(T>=B?T=0:(X[0]+=4*J.v,J.ka=T-J.j,J.U=J.va-J.v,J.T=B-T,T=1),T){if(rt=rt[0],11>(T=c.ca).S){var Vt=T.f.RGBA,we=(B=T.S,X=J.U,J=J.T,bt=Vt.eb,Vt.A),ge=J;for(Vt=Vt.fb+c.Ma*Vt.A;0<ge--;){var ne=$,Ze=rt,Ne=X,Kt=bt,Zt=Vt;switch(B){case vl:As(ne,Ze,Ne,Kt,Zt);break;case Xl:qa(ne,Ze,Ne,Kt,Zt);break;case xu:qa(ne,Ze,Ne,Kt,Zt),Os(Kt,Zt,0,Ne,1,0);break;case _u:Qn(ne,Ze,Ne,Kt,Zt);break;case Vl:_a(ne,Ze,Ne,Kt,Zt,1);break;case ml:_a(ne,Ze,Ne,Kt,Zt,1),Os(Kt,Zt,0,Ne,1,0);break;case Vo:_a(ne,Ze,Ne,Kt,Zt,0);break;case ci:_a(ne,Ze,Ne,Kt,Zt,0),Os(Kt,Zt,1,Ne,1,0);break;case Kl:An(ne,Ze,Ne,Kt,Zt);break;case Su:An(ne,Ze,Ne,Kt,Zt),Hl(Kt,Zt,Ne,1,0);break;case Jl:Js(ne,Ze,Ne,Kt,Zt);break;default:p(0)}rt+=lt,Vt+=we}c.Ma+=J}else alert("todo:EmitRescaledRowsYUVA");p(c.Ma<=T.height)}}c.C=g,p(c.C<=c.i)}function Ba(c){var g;if(0<c.ua)return 0;for(g=0;g<c.Wb;++g){var T=c.Ya[g].G,B=c.Ya[g].H;if(0<T[1][B[1]+0].g||0<T[2][B[2]+0].g||0<T[3][B[3]+0].g)return 0}return 1}function ns(c,g,T,B,X,J){if(c.Z!=0){var $=c.qd,rt=c.rd;for(p(qn[c.Z]!=null);g<T;++g)qn[c.Z]($,rt,B,X,B,X,J),$=B,rt=X,X+=J;c.qd=$,c.rd=rt}}function Rn(c,g){var T=c.l.ma,B=T.Z==0||T.Z==1?c.l.j:c.C;if(B=c.C<B?B:c.C,p(g<=c.l.o),g>B){var X=c.l.width,J=T.ca,$=T.tb+X*B,rt=c.V,lt=c.Ba+c.c*B,bt=c.gc;p(c.ab==1),p(bt[0].hc==3),Go(bt[0],B,g,rt,lt,J,$),ns(T,B,g,J,$,X)}c.C=c.Ma=g}function gn(c,g,T,B,X,J,$){var rt=c.$/B,lt=c.$%B,bt=c.m,Vt=c.s,we=T+c.$,ge=we;X=T+B*X;var ne=T+B*J,Ze=280+Vt.ua,Ne=c.Pb?rt:16777216,Kt=0<Vt.ua?Vt.Wa:null,Zt=Vt.wc,Je=we<ne?tn(Vt,lt,rt):null;p(c.C<J),p(ne<=X);var Qe=!1;t:for(;;){for(;Qe||we<ne;){var $e=0;if(rt>=Ne){var Dr=we-T;p((Ne=c).Pb),Ne.wd=Ne.m,Ne.xd=Dr,0<Ne.s.ua&&Lt(Ne.s.Wa,Ne.s.vb),Ne=rt+$l}if(lt&Zt||(Je=tn(Vt,lt,rt)),p(Je!=null),Je.Qb&&(g[we]=Je.qb,Qe=!0),!Qe)if(xe(bt),Je.jc){$e=bt,Dr=g;var Sr=we,Vr=Je.pd[Dt($e)&Bn-1];p(Je.jc),256>Vr.g?(ce($e,$e.u+Vr.g),Dr[Sr]=Vr.value,$e=0):(ce($e,$e.u+Vr.g-256),p(256<=Vr.value),$e=Vr.value),$e==0&&(Qe=!0)}else $e=Qi(Je.G[0],Je.H[0],bt);if(bt.h)break;if(Qe||256>$e){if(!Qe)if(Je.nd)g[we]=(Je.qb|$e<<8)>>>0;else{if(xe(bt),Qe=Qi(Je.G[1],Je.H[1],bt),xe(bt),Dr=Qi(Je.G[2],Je.H[2],bt),Sr=Qi(Je.G[3],Je.H[3],bt),bt.h)break;g[we]=(Sr<<24|Qe<<16|$e<<8|Dr)>>>0}if(Qe=!1,++we,++lt>=B&&(lt=0,++rt,$!=null&&rt<=J&&!(rt%16)&&$(c,rt),Kt!=null))for(;ge<we;)$e=g[ge++],Kt.X[(506832829*$e&4294967295)>>>Kt.Mb]=$e}else if(280>$e){if($e=xa($e-256,bt),Dr=Qi(Je.G[4],Je.H[4],bt),xe(bt),Dr=ms(B,Dr=xa(Dr,bt)),bt.h)break;if(we-T<Dr||X-we<$e)break t;for(Sr=0;Sr<$e;++Sr)g[we+Sr]=g[we+Sr-Dr];for(we+=$e,lt+=$e;lt>=B;)lt-=B,++rt,$!=null&&rt<=J&&!(rt%16)&&$(c,rt);if(p(we<=X),lt&Zt&&(Je=tn(Vt,lt,rt)),Kt!=null)for(;ge<we;)$e=g[ge++],Kt.X[(506832829*$e&4294967295)>>>Kt.Mb]=$e}else{if(!($e<Ze))break t;for(Qe=$e-280,p(Kt!=null);ge<we;)$e=g[ge++],Kt.X[(506832829*$e&4294967295)>>>Kt.Mb]=$e;$e=we,p(!(Qe>>>(Dr=Kt).Xa)),g[$e]=Dr.X[Qe],Qe=!0}Qe||p(bt.h==$t(bt))}if(c.Pb&&bt.h&&we<X)p(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&Lt(c.s.vb,c.s.Wa);else{if(bt.h)break t;$!=null&&$(c,rt>J?J:rt),c.a=0,c.$=we-T}return 1}return c.a=3,0}function la(c){p(c!=null),c.vc=null,c.yc=null,c.Ya=null;var g=c.Wa;g!=null&&(g.X=null),c.vb=null,p(c!=null)}function ho(){var c=new cl;return c==null?null:(c.a=0,c.xb=Hu,Ni("Predictor","VP8LPredictors"),Ni("Predictor","VP8LPredictors_C"),Ni("PredictorAdd","VP8LPredictorsAdd"),Ni("PredictorAdd","VP8LPredictorsAdd_C"),Ln=zi,Gi=ui,As=Dn,qa=qi,An=xn,Js=pi,Qn=dn,Gt.VP8LMapColor32b=mu,Gt.VP8LMapColor8b=So,c)}function as(c,g,T,B,X){var J=1,$=[c],rt=[g],lt=B.m,bt=B.s,Vt=null,we=0;t:for(;;){if(T)for(;J&&yr(lt,1);){var ge=$,ne=rt,Ze=B,Ne=1,Kt=Ze.m,Zt=Ze.gc[Ze.ab],Je=yr(Kt,2);if(Ze.Oc&1<<Je)J=0;else{switch(Ze.Oc|=1<<Je,Zt.hc=Je,Zt.Ea=ge[0],Zt.nc=ne[0],Zt.K=[null],++Ze.ab,p(4>=Ze.ab),Je){case 0:case 1:Zt.b=yr(Kt,3)+2,Ne=as(Xe(Zt.Ea,Zt.b),Xe(Zt.nc,Zt.b),0,Ze,Zt.K),Zt.K=Zt.K[0];break;case 3:var Qe,$e=yr(Kt,8)+1,Dr=16<$e?0:4<$e?1:2<$e?2:3;if(ge[0]=Xe(Zt.Ea,Dr),Zt.b=Dr,Qe=Ne=as($e,1,0,Ze,Zt.K)){var Sr,Vr=$e,Cr=Zt,Ar=1<<(8>>Cr.b),Di=w(Ar);if(Di==null)Qe=0;else{var Si=Cr.K[0],fi=Cr.w;for(Di[0]=Cr.K[0][0],Sr=1;Sr<1*Vr;++Sr)Di[Sr]=Pr(Si[fi+Sr],Di[Sr-1]);for(;Sr<4*Ar;++Sr)Di[Sr]=0;Cr.K[0]=null,Cr.K[0]=Di,Qe=1}}Ne=Qe;break;case 2:break;default:p(0)}J=Ne}}if($=$[0],rt=rt[0],J&&yr(lt,1)&&!(J=1<=(we=yr(lt,4))&&11>=we)){B.a=3;break t}var Xi;if(Xi=J)e:{var Ui,hi,Ci,ta=B,wn=$,Gn=rt,Wi=we,ea=T,ya=ta.m,On=ta.s,Nn=[null],hn=1,Ji=0,Oa=xh[Wi];r:for(;;){if(ea&&yr(ya,1)){var En=yr(ya,3)+2,Xa=Xe(wn,En),To=Xe(Gn,En),Zo=Xa*To;if(!as(Xa,To,0,ta,Nn))break r;for(Nn=Nn[0],On.xc=En,Ui=0;Ui<Zo;++Ui){var Ea=Nn[Ui]>>8&65535;Nn[Ui]=Ea,Ea>=hn&&(hn=Ea+1)}}if(ya.h)break r;for(hi=0;5>hi;++hi){var cn=Cu[hi];!hi&&0<Wi&&(cn+=1<<Wi),Ji<cn&&(Ji=cn)}var iu=S(hn*Oa,qt),th=hn,eh=S(th,qe);if(eh==null)var nu=null;else p(65536>=th),nu=eh;var _l=w(Ji);if(nu==null||_l==null||iu==null){ta.a=1;break r}var xl=iu;for(Ui=Ci=0;Ui<hn;++Ui){var Fa=nu[Ui],Qo=Fa.G,io=Fa.H,Ou=0,no=1,au=0;for(hi=0;5>hi;++hi){cn=Cu[hi],Qo[hi]=xl,io[hi]=Ci,!hi&&0<Wi&&(cn+=1<<Wi);n:{var Sl,su=cn,Po=ta,tl=_l,ds=xl,Lo=Ci,Eu=0,Fs=Po.m,Th=yr(Fs,1);if(_(tl,0,0,su),Th){var Ph=yr(Fs,1)+1,Lh=yr(Fs,1),rh=yr(Fs,Lh==0?1:8);tl[rh]=1,Ph==2&&(tl[rh=yr(Fs,8)]=1);var ou=1}else{var ih=w(19),nh=yr(Fs,4)+4;if(19<nh){Po.a=3;var lu=0;break n}for(Sl=0;Sl<nh;++Sl)ih[_h[Sl]]=yr(Fs,3);var Fu=void 0,Cl=void 0,ah=Po,sh=ih,Al=su,ku=tl,Mu=0,ao=ah.m,oh=8,Nu=S(128,qt);i:for(;At(Nu,0,7,sh,19);){if(yr(ao,1)){var Oh=2+2*yr(ao,3);if((Fu=2+yr(ao,Oh))>Al)break i}else Fu=Al;for(Cl=0;Cl<Al&&Fu--;){xe(ao);var lh=Nu[0+(127&Dt(ao))];ce(ao,ao.u+lh.g);var el=lh.value;if(16>el)ku[Cl++]=el,el!=0&&(oh=el);else{var Eh=el==16,uh=el-16,Fh=yl[uh],ba=yr(ao,bh[uh])+Fh;if(Cl+ba>Al)break i;for(var kh=Eh?oh:0;0<ba--;)ku[Cl++]=kh}}Mu=1;break i}Mu||(ah.a=3),ou=Mu}(ou=ou&&!Fs.h)&&(Eu=At(ds,Lo,8,tl,su)),ou&&Eu!=0?lu=Eu:(Po.a=3,lu=0)}if(lu==0)break r;if(no&&wh[hi]==1&&(no=xl[Ci].g==0),Ou+=xl[Ci].g,Ci+=lu,3>=hi){var Tl,Du=_l[0];for(Tl=1;Tl<cn;++Tl)_l[Tl]>Du&&(Du=_l[Tl]);au+=Du}}if(Fa.nd=no,Fa.Qb=0,no&&(Fa.qb=(Qo[3][io[3]+0].value<<24|Qo[1][io[1]+0].value<<16|Qo[2][io[2]+0].value)>>>0,Ou==0&&256>Qo[0][io[0]+0].value&&(Fa.Qb=1,Fa.qb+=Qo[0][io[0]+0].value<<8)),Fa.jc=!Fa.Qb&&6>au,Fa.jc){var Pl,ks=Fa;for(Pl=0;Pl<Bn;++Pl){var so=Pl,oo=ks.pd[so],uu=ks.G[0][ks.H[0]+so];256<=uu.value?(oo.g=uu.g+256,oo.value=uu.value):(oo.g=0,oo.value=0,so>>=Sn(uu,8,oo),so>>=Sn(ks.G[1][ks.H[1]+so],16,oo),so>>=Sn(ks.G[2][ks.H[2]+so],0,oo),Sn(ks.G[3][ks.H[3]+so],24,oo))}}}On.vc=Nn,On.Wb=hn,On.Ya=nu,On.yc=iu,Xi=1;break e}Xi=0}if(!(J=Xi)){B.a=3;break t}if(0<we){if(bt.ua=1<<we,!Gr(bt.Wa,we)){B.a=1,J=0;break t}}else bt.ua=0;var Ll=B,hh=$,Mh=rt,Iu=Ll.s,Ru=Iu.xc;if(Ll.c=hh,Ll.i=Mh,Iu.md=Xe(hh,Ru),Iu.wc=Ru==0?-1:(1<<Ru)-1,T){B.xb=eo;break t}if((Vt=w($*rt))==null){B.a=1,J=0;break t}J=(J=gn(B,Vt,0,$,rt,rt,null))&&!lt.h;break t}return J?(X!=null?X[0]=Vt:(p(Vt==null),p(T)),B.$=0,T||la(bt)):la(bt),J}function co(c,g){var T=c.c*c.i,B=T+g+16*g;return p(c.c<=g),c.V=w(B),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+T+g,1)}function ko(c,g){var T=c.C,B=g-T,X=c.V,J=c.Ba+c.c*T;for(p(g<=c.l.o);0<B;){var $=16<B?16:B,rt=c.l.ma,lt=c.l.width,bt=lt*$,Vt=rt.ca,we=rt.tb+lt*T,ge=c.Ta,ne=c.Ua;is(c,$,X,J),yu(ge,ne,Vt,we,bt),ns(rt,T,T+$,Vt,we,lt),B-=$,X+=$*c.c,T+=$}p(T==g),c.C=c.Ma=g}function Mo(){this.ub=this.yd=this.td=this.Rb=0}function ys(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ie(){this.Fb=this.Bb=this.Cb=0,this.Zb=w(4),this.Lb=w(4)}function He(){this.Yb=function(){var c=[];return function g(T,B,X){for(var J=X[B],$=0;$<J&&(T.push(X.length>B+1?[]:0),!(X.length<B+1));$++)g(T[$],B+1,X)}(c,0,[3,11]),c}()}function Fe(){this.jb=w(3),this.Wc=D([4,8],He),this.Xc=D([4,17],He)}function Ur(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new w(4),this.od=new w(4)}function ei(){this.ld=this.La=this.dd=this.tc=0}function Oi(){this.Na=this.la=0}function Ki(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function xi(){this.ad=w(384),this.Za=0,this.Ob=w(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function il(){this.uc=this.M=this.Nb=0,this.wa=Array(new ei),this.Y=0,this.ya=Array(new xi),this.aa=0,this.l=new fo}function El(){this.y=w(16),this.f=w(8),this.ea=w(8)}function Jn(){this.cb=this.a=0,this.sc="",this.m=new Rt,this.Od=new Mo,this.Kc=new ys,this.ed=new Ur,this.Qa=new ie,this.Ic=this.$c=this.Aa=0,this.D=new il,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=S(8,Rt),this.ia=0,this.pb=S(4,Ki),this.Pa=new Fe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new El),this.Hd=0,this.rb=Array(new Oi),this.sb=0,this.wa=Array(new ei),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new xi),this.L=this.aa=0,this.gd=D([4,2],ei),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function $n(c,g){return 0>c?0:c>g?g:c}function fo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hs(){var c=new Jn;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Ko||(Ko=fu)),c}function sn(c,g,T){return c.a==0&&(c.a=g,c.sc=T,c.cb=0),0}function qs(c,g,T){return 3<=T&&c[g+0]==157&&c[g+1]==1&&c[g+2]==42}function Ei(c,g){if(c==null)return 0;if(c.a=0,c.sc="OK",g==null)return sn(c,2,"null VP8Io passed to VP8GetHeaders()");var T=g.data,B=g.w,X=g.ha;if(4>X)return sn(c,7,"Truncated header.");var J=T[B+0]|T[B+1]<<8|T[B+2]<<16,$=c.Od;if($.Rb=!(1&J),$.td=J>>1&7,$.yd=J>>4&1,$.ub=J>>5,3<$.td)return sn(c,3,"Incorrect keyframe parameters.");if(!$.yd)return sn(c,4,"Frame not displayable.");B+=3,X-=3;var rt=c.Kc;if($.Rb){if(7>X)return sn(c,7,"cannot parse picture header");if(!qs(T,B,X))return sn(c,3,"Bad code word");rt.c=16383&(T[B+4]<<8|T[B+3]),rt.Td=T[B+4]>>6,rt.i=16383&(T[B+6]<<8|T[B+5]),rt.Ud=T[B+6]>>6,B+=7,X-=7,c.za=rt.c+15>>4,c.Ub=rt.i+15>>4,g.width=rt.c,g.height=rt.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,_((J=c.Pa).jb,0,255,J.jb.length),p((J=c.Qa)!=null),J.Cb=0,J.Bb=0,J.Fb=1,_(J.Zb,0,0,J.Zb.length),_(J.Lb,0,0,J.Lb)}if($.ub>X)return sn(c,7,"bad partition length");ze(J=c.m,T,B,$.ub),B+=$.ub,X-=$.ub,$.Rb&&(rt.Ld=Me(J),rt.Kd=Me(J)),rt=c.Qa;var lt,bt=c.Pa;if(p(J!=null),p(rt!=null),rt.Cb=Me(J),rt.Cb){if(rt.Bb=Me(J),Me(J)){for(rt.Fb=Me(J),lt=0;4>lt;++lt)rt.Zb[lt]=Me(J)?Ce(J,7):0;for(lt=0;4>lt;++lt)rt.Lb[lt]=Me(J)?Ce(J,6):0}if(rt.Bb)for(lt=0;3>lt;++lt)bt.jb[lt]=Me(J)?ar(J,8):255}else rt.Bb=0;if(J.Ka)return sn(c,3,"cannot parse segment header");if((rt=c.ed).zd=Me(J),rt.Tb=ar(J,6),rt.wb=ar(J,3),rt.Pc=Me(J),rt.Pc&&Me(J)){for(bt=0;4>bt;++bt)Me(J)&&(rt.vd[bt]=Ce(J,6));for(bt=0;4>bt;++bt)Me(J)&&(rt.od[bt]=Ce(J,6))}if(c.L=rt.Tb==0?0:rt.zd?1:2,J.Ka)return sn(c,3,"cannot parse filter header");var Vt=X;if(X=lt=B,B=lt+Vt,rt=Vt,c.Xb=(1<<ar(c.m,2))-1,Vt<3*(bt=c.Xb))T=7;else{for(lt+=3*bt,rt-=3*bt,Vt=0;Vt<bt;++Vt){var we=T[X+0]|T[X+1]<<8|T[X+2]<<16;we>rt&&(we=rt),ze(c.Jc[+Vt],T,lt,we),lt+=we,rt-=we,X+=3}ze(c.Jc[+bt],T,lt,rt),T=lt<B?0:5}if(T!=0)return sn(c,T,"cannot parse partitions");for(T=ar(lt=c.m,7),X=Me(lt)?Ce(lt,4):0,B=Me(lt)?Ce(lt,4):0,rt=Me(lt)?Ce(lt,4):0,bt=Me(lt)?Ce(lt,4):0,lt=Me(lt)?Ce(lt,4):0,Vt=c.Qa,we=0;4>we;++we){if(Vt.Cb){var ge=Vt.Zb[we];Vt.Fb||(ge+=T)}else{if(0<we){c.pb[we]=c.pb[0];continue}ge=T}var ne=c.pb[we];ne.Sc[0]=bl[$n(ge+X,127)],ne.Sc[1]=Zl[$n(ge+0,127)],ne.Eb[0]=2*bl[$n(ge+B,127)],ne.Eb[1]=101581*Zl[$n(ge+rt,127)]>>16,8>ne.Eb[1]&&(ne.Eb[1]=8),ne.Qc[0]=bl[$n(ge+bt,117)],ne.Qc[1]=Zl[$n(ge+lt,127)],ne.lc=ge+lt}if(!$.Rb)return sn(c,4,"Not a key frame.");for(Me(J),$=c.Pa,T=0;4>T;++T){for(X=0;8>X;++X)for(B=0;3>B;++B)for(rt=0;11>rt;++rt)bt=Be(J,Wu[T][X][B][rt])?ar(J,8):zu[T][X][B][rt],$.Wc[T][X].Yb[B][rt]=bt;for(X=0;17>X;++X)$.Xc[T][X]=$.Wc[T][Au[X]]}return c.kc=Me(J),c.kc&&(c.Bd=ar(J,8)),c.cb=1}function fu(c,g,T,B,X,J,$){var rt=g[X].Yb[T];for(T=0;16>X;++X){if(!Be(c,rt[T+0]))return X;for(;!Be(c,rt[T+1]);)if(rt=g[++X].Yb[0],T=0,X==16)return 16;var lt=g[X+1].Yb;if(Be(c,rt[T+2])){var bt=c,Vt=0;if(Be(bt,(ge=rt)[(we=T)+3]))if(Be(bt,ge[we+6])){for(rt=0,we=2*(Vt=Be(bt,ge[we+8]))+(ge=Be(bt,ge[we+9+Vt])),Vt=0,ge=ga[we];ge[rt];++rt)Vt+=Vt+Be(bt,ge[rt]);Vt+=3+(8<<we)}else Be(bt,ge[we+7])?(Vt=7+2*Be(bt,165),Vt+=Be(bt,145)):Vt=5+Be(bt,159);else Vt=Be(bt,ge[we+4])?3+Be(bt,ge[we+5]):2;rt=lt[2]}else Vt=1,rt=lt[1];lt=$+to[X],0>(bt=c).b&&Ve(bt);var we,ge=bt.b,ne=(we=bt.Ca>>1)-(bt.I>>ge)>>31;--bt.b,bt.Ca+=ne,bt.Ca|=1,bt.I-=(we+1&ne)<<ge,J[lt]=((Vt^ne)-ne)*B[(0<X)+0]}return 16}function nl(c){var g=c.rb[c.sb-1];g.la=0,g.Na=0,_(c.zc,0,0,c.zc.length),c.ja=0}function No(c,g){if(c==null)return 0;if(g==null)return sn(c,2,"NULL VP8Io parameter in VP8Decode().");if(!c.cb&&!Ei(c,g))return 0;if(p(c.cb),g.ac==null||g.ac(g)){g.ob&&(c.L=0);var T=ro[c.L];if(c.L==2?(c.yb=0,c.zb=0):(c.yb=g.v-T>>4,c.zb=g.j-T>>4,0>c.yb&&(c.yb=0),0>c.zb&&(c.zb=0)),c.Va=g.o+15+T>>4,c.Hb=g.va+15+T>>4,c.Hb>c.za&&(c.Hb=c.za),c.Va>c.Ub&&(c.Va=c.Ub),0<c.L){var B=c.ed;for(T=0;4>T;++T){var X;if(c.Qa.Cb){var J=c.Qa.Lb[T];c.Qa.Fb||(J+=B.Tb)}else J=B.Tb;for(X=0;1>=X;++X){var $=c.gd[T][X],rt=J;if(B.Pc&&(rt+=B.vd[0],X&&(rt+=B.od[0])),0<(rt=0>rt?0:63<rt?63:rt)){var lt=rt;0<B.wb&&(lt=4<B.wb?lt>>2:lt>>1)>9-B.wb&&(lt=9-B.wb),1>lt&&(lt=1),$.dd=lt,$.tc=2*rt+lt,$.ld=40<=rt?2:15<=rt?1:0}else $.tc=0;$.La=X}}}T=0}else sn(c,6,"Frame setup failed"),T=c.a;if(T=T==0){if(T){c.$c=0,0<c.Aa||(c.Ic=Qu);t:{T=c.Ic,B=4*(lt=c.za);var bt=32*lt,Vt=lt+1,we=0<c.L?lt*(0<c.Aa?2:1):0,ge=(c.Aa==2?2:1)*lt;if(($=B+832+(X=3*(16*T+ro[c.L])/2*bt)+(J=c.Fa!=null&&0<c.Fa.length?c.Kc.c*c.Kc.i:0))!=$)T=0;else{if($>c.Vb){if(c.Vb=0,c.Ec=w($),c.Fc=0,c.Ec==null){T=sn(c,1,"no memory during frame initialization.");break t}c.Vb=$}$=c.Ec,rt=c.Fc,c.Ac=$,c.Bc=rt,rt+=B,c.Gd=S(bt,El),c.Hd=0,c.rb=S(Vt+1,Oi),c.sb=1,c.wa=we?S(we,ei):null,c.Y=0,c.D.Nb=0,c.D.wa=c.wa,c.D.Y=c.Y,0<c.Aa&&(c.D.Y+=lt),p(!0),c.oc=$,c.pc=rt,rt+=832,c.ya=S(ge,xi),c.aa=0,c.D.ya=c.ya,c.D.aa=c.aa,c.Aa==2&&(c.D.aa+=lt),c.R=16*lt,c.B=8*lt,lt=(bt=ro[c.L])*c.R,bt=bt/2*c.B,c.sa=$,c.ta=rt+lt,c.qa=c.sa,c.ra=c.ta+16*T*c.R+bt,c.Ha=c.qa,c.Ia=c.ra+8*T*c.B+bt,c.$c=0,rt+=X,c.mb=J?$:null,c.nb=J?rt:null,p(rt+J<=c.Fc+c.Vb),nl(c),_(c.Ac,c.Bc,0,B),T=1}}if(T){if(g.ka=0,g.y=c.sa,g.O=c.ta,g.f=c.qa,g.N=c.ra,g.ea=c.Ha,g.Vd=c.Ia,g.fa=c.R,g.Rc=c.B,g.F=null,g.J=0,!wu){for(T=-255;255>=T;++T)ql[255+T]=0>T?-T:T;for(T=-1020;1020>=T;++T)Uu[1020+T]=-128>T?-128:127<T?127:T;for(T=-112;112>=T;++T)Gl[112+T]=-16>T?-16:15<T?15:T;for(T=-255;510>=T;++T)bu[255+T]=0>T?0:255<T?255:T;wu=1}cs=kl,$s=Do,fs=al,Pa=Io,Zs=Fl,vn=ja,Yo=Xs,Ts=Ss,Qs=ll,Ps=zl,fa=Zn,Ls=vi,ln=Wo,ji=os,Mn=xs,un=Ul,Hn=zo,Xo=ss,va[0]=Il,va[1]=Ml,va[2]=Ua,va[3]=Dl,va[4]=en,va[5]=pu,va[6]=yn,va[7]=gu,va[8]=ol,va[9]=Rl,Es[0]=du,Es[1]=Sa,Es[2]=Ro,Es[3]=Nl,Es[4]=vo,Es[5]=Bo,Es[6]=sl,Ga[0]=Aa,Ga[1]=ua,Ga[2]=jo,Ga[3]=Ca,Ga[4]=mo,Ga[5]=ws,Ga[6]=Uo,T=1}else T=0}T&&(T=function(ne,Ze){for(ne.M=0;ne.M<ne.Va;++ne.M){var Ne,Kt=ne.Jc[ne.M&ne.Xb],Zt=ne.m,Je=ne;for(Ne=0;Ne<Je.za;++Ne){var Qe=Zt,$e=Je,Dr=$e.Ac,Sr=$e.Bc+4*Ne,Vr=$e.zc,Cr=$e.ya[$e.aa+Ne];if($e.Qa.Bb?Cr.$b=Be(Qe,$e.Pa.jb[0])?2+Be(Qe,$e.Pa.jb[2]):Be(Qe,$e.Pa.jb[1]):Cr.$b=0,$e.kc&&(Cr.Ad=Be(Qe,$e.Bd)),Cr.Za=!Be(Qe,145)+0,Cr.Za){var Ar=Cr.Ob,Di=0;for($e=0;4>$e;++$e){var Si,fi=Vr[0+$e];for(Si=0;4>Si;++Si){fi=tu[Dr[Sr+Si]][fi];for(var Xi=Ql[Be(Qe,fi[0])];0<Xi;)Xi=Ql[2*Xi+Be(Qe,fi[Xi])];fi=-Xi,Dr[Sr+Si]=fi}y(Ar,Di,Dr,Sr,4),Di+=4,Vr[0+$e]=fi}}else fi=Be(Qe,156)?Be(Qe,128)?1:3:Be(Qe,163)?2:0,Cr.Ob[0]=fi,_(Dr,Sr,fi,4),_(Vr,0,fi,4);Cr.Dd=Be(Qe,142)?Be(Qe,114)?Be(Qe,183)?1:3:2:0}if(Je.m.Ka)return sn(ne,7,"Premature end-of-partition0 encountered.");for(;ne.ja<ne.za;++ne.ja){if(Je=Kt,Qe=(Zt=ne).rb[Zt.sb-1],Dr=Zt.rb[Zt.sb+Zt.ja],Ne=Zt.ya[Zt.aa+Zt.ja],Sr=Zt.kc?Ne.Ad:0)Qe.la=Dr.la=0,Ne.Za||(Qe.Na=Dr.Na=0),Ne.Hc=0,Ne.Gc=0,Ne.ia=0;else{var Ui,hi;if(Qe=Dr,Dr=Je,Sr=Zt.Pa.Xc,Vr=Zt.ya[Zt.aa+Zt.ja],Cr=Zt.pb[Vr.$b],$e=Vr.ad,Ar=0,Di=Zt.rb[Zt.sb-1],fi=Si=0,_($e,Ar,0,384),Vr.Za)var Ci=0,ta=Sr[3];else{Xi=w(16);var wn=Qe.Na+Di.Na;if(wn=Ko(Dr,Sr[1],wn,Cr.Eb,0,Xi,0),Qe.Na=Di.Na=(0<wn)+0,1<wn)cs(Xi,0,$e,Ar);else{var Gn=Xi[0]+3>>3;for(Xi=0;256>Xi;Xi+=16)$e[Ar+Xi]=Gn}Ci=1,ta=Sr[0]}var Wi=15&Qe.la,ea=15&Di.la;for(Xi=0;4>Xi;++Xi){var ya=1&ea;for(Gn=hi=0;4>Gn;++Gn)Wi=Wi>>1|(ya=(wn=Ko(Dr,ta,wn=ya+(1&Wi),Cr.Sc,Ci,$e,Ar))>Ci)<<7,hi=hi<<2|(3<wn?3:1<wn?2:$e[Ar+0]!=0),Ar+=16;Wi>>=4,ea=ea>>1|ya<<7,Si=(Si<<8|hi)>>>0}for(ta=Wi,Ci=ea>>4,Ui=0;4>Ui;Ui+=2){for(hi=0,Wi=Qe.la>>4+Ui,ea=Di.la>>4+Ui,Xi=0;2>Xi;++Xi){for(ya=1&ea,Gn=0;2>Gn;++Gn)wn=ya+(1&Wi),Wi=Wi>>1|(ya=0<(wn=Ko(Dr,Sr[2],wn,Cr.Qc,0,$e,Ar)))<<3,hi=hi<<2|(3<wn?3:1<wn?2:$e[Ar+0]!=0),Ar+=16;Wi>>=2,ea=ea>>1|ya<<5}fi|=hi<<4*Ui,ta|=Wi<<4<<Ui,Ci|=(240&ea)<<Ui}Qe.la=ta,Di.la=Ci,Vr.Hc=Si,Vr.Gc=fi,Vr.ia=43690&fi?0:Cr.ia,Sr=!(Si|fi)}if(0<Zt.L&&(Zt.wa[Zt.Y+Zt.ja]=Zt.gd[Ne.$b][Ne.Za],Zt.wa[Zt.Y+Zt.ja].La|=!Sr),Je.Ka)return sn(ne,7,"Premature end-of-file encountered.")}if(nl(ne),Zt=Ze,Je=1,Ne=(Kt=ne).D,Qe=0<Kt.L&&Kt.M>=Kt.zb&&Kt.M<=Kt.Va,Kt.Aa==0)t:{if(Ne.M=Kt.M,Ne.uc=Qe,us(Kt,Ne),Je=1,Ne=(hi=Kt.D).Nb,Qe=(fi=ro[Kt.L])*Kt.R,Dr=fi/2*Kt.B,Xi=16*Ne*Kt.R,Gn=8*Ne*Kt.B,Sr=Kt.sa,Vr=Kt.ta-Qe+Xi,Cr=Kt.qa,$e=Kt.ra-Dr+Gn,Ar=Kt.Ha,Di=Kt.Ia-Dr+Gn,ea=(Wi=hi.M)==0,Si=Wi>=Kt.Va-1,Kt.Aa==2&&us(Kt,hi),hi.uc)for(ya=(wn=Kt).D.M,p(wn.D.uc),hi=wn.yb;hi<wn.Hb;++hi){Ci=hi,ta=ya;var On=(Nn=(cn=wn).D).Nb;Ui=cn.R;var Nn=Nn.wa[Nn.Y+Ci],hn=cn.sa,Ji=cn.ta+16*On*Ui+16*Ci,Oa=Nn.dd,En=Nn.tc;if(En!=0)if(p(3<=En),cn.L==1)0<Ci&&un(hn,Ji,Ui,En+4),Nn.La&&Xo(hn,Ji,Ui,En),0<ta&&Mn(hn,Ji,Ui,En+4),Nn.La&&Hn(hn,Ji,Ui,En);else{var Xa=cn.B,To=cn.qa,Zo=cn.ra+8*On*Xa+8*Ci,Ea=cn.Ha,cn=cn.Ia+8*On*Xa+8*Ci;On=Nn.ld,0<Ci&&(Ts(hn,Ji,Ui,En+4,Oa,On),Ps(To,Zo,Ea,cn,Xa,En+4,Oa,On)),Nn.La&&(Ls(hn,Ji,Ui,En,Oa,On),ji(To,Zo,Ea,cn,Xa,En,Oa,On)),0<ta&&(Yo(hn,Ji,Ui,En+4,Oa,On),Qs(To,Zo,Ea,cn,Xa,En+4,Oa,On)),Nn.La&&(fa(hn,Ji,Ui,En,Oa,On),ln(To,Zo,Ea,cn,Xa,En,Oa,On))}}if(Kt.ia&&alert("todo:DitherRow"),Zt.put!=null){if(hi=16*Wi,Wi=16*(Wi+1),ea?(Zt.y=Kt.sa,Zt.O=Kt.ta+Xi,Zt.f=Kt.qa,Zt.N=Kt.ra+Gn,Zt.ea=Kt.Ha,Zt.W=Kt.Ia+Gn):(hi-=fi,Zt.y=Sr,Zt.O=Vr,Zt.f=Cr,Zt.N=$e,Zt.ea=Ar,Zt.W=Di),Si||(Wi-=fi),Wi>Zt.o&&(Wi=Zt.o),Zt.F=null,Zt.J=null,Kt.Fa!=null&&0<Kt.Fa.length&&hi<Wi&&(Zt.J=I(Kt,Zt,hi,Wi-hi),Zt.F=Kt.mb,Zt.F==null&&Zt.F.length==0)){Je=sn(Kt,3,"Could not decode alpha data.");break t}hi<Zt.j&&(fi=Zt.j-hi,hi=Zt.j,p(!(1&fi)),Zt.O+=Kt.R*fi,Zt.N+=Kt.B*(fi>>1),Zt.W+=Kt.B*(fi>>1),Zt.F!=null&&(Zt.J+=Zt.width*fi)),hi<Wi&&(Zt.O+=Zt.v,Zt.N+=Zt.v>>1,Zt.W+=Zt.v>>1,Zt.F!=null&&(Zt.J+=Zt.v),Zt.ka=hi-Zt.j,Zt.U=Zt.va-Zt.v,Zt.T=Wi-hi,Je=Zt.put(Zt))}Ne+1!=Kt.Ic||Si||(y(Kt.sa,Kt.ta-Qe,Sr,Vr+16*Kt.R,Qe),y(Kt.qa,Kt.ra-Dr,Cr,$e+8*Kt.B,Dr),y(Kt.Ha,Kt.Ia-Dr,Ar,Di+8*Kt.B,Dr))}if(!Je)return sn(ne,6,"Output aborted.")}return 1}(c,g)),g.bc!=null&&g.bc(g),T&=1}return T?(c.cb=0,T):0}function Fn(c,g,T,B,X){X=c[g+T+32*B]+(X>>3),c[g+T+32*B]=-256&X?0>X?0:255:X}function po(c,g,T,B,X,J){Fn(c,g,0,T,B+X),Fn(c,g,1,T,B+J),Fn(c,g,2,T,B-J),Fn(c,g,3,T,B-X)}function bs(c){return(20091*c>>16)+c}function go(c,g,T,B){var X,J=0,$=w(16);for(X=0;4>X;++X){var rt=c[g+0]+c[g+8],lt=c[g+0]-c[g+8],bt=(35468*c[g+4]>>16)-bs(c[g+12]),Vt=bs(c[g+4])+(35468*c[g+12]>>16);$[J+0]=rt+Vt,$[J+1]=lt+bt,$[J+2]=lt-bt,$[J+3]=rt-Vt,J+=4,g++}for(X=J=0;4>X;++X)rt=(c=$[J+0]+4)+$[J+8],lt=c-$[J+8],bt=(35468*$[J+4]>>16)-bs($[J+12]),Fn(T,B,0,0,rt+(Vt=bs($[J+4])+(35468*$[J+12]>>16))),Fn(T,B,1,0,lt+bt),Fn(T,B,2,0,lt-bt),Fn(T,B,3,0,rt-Vt),J++,B+=32}function ja(c,g,T,B){var X=c[g+0]+4,J=35468*c[g+4]>>16,$=bs(c[g+4]),rt=35468*c[g+1]>>16;po(T,B,0,X+$,c=bs(c[g+1]),rt),po(T,B,1,X+J,c,rt),po(T,B,2,X-J,c,rt),po(T,B,3,X-$,c,rt)}function Do(c,g,T,B,X){go(c,g,T,B),X&&go(c,g+16,T,B+4)}function al(c,g,T,B){$s(c,g+0,T,B,1),$s(c,g+32,T,B+128,1)}function Io(c,g,T,B){var X;for(c=c[g+0]+4,X=0;4>X;++X)for(g=0;4>g;++g)Fn(T,B,g,X,c)}function Fl(c,g,T,B){c[g+0]&&Pa(c,g+0,T,B),c[g+16]&&Pa(c,g+16,T,B+4),c[g+32]&&Pa(c,g+32,T,B+128),c[g+48]&&Pa(c,g+48,T,B+128+4)}function kl(c,g,T,B){var X,J=w(16);for(X=0;4>X;++X){var $=c[g+0+X]+c[g+12+X],rt=c[g+4+X]+c[g+8+X],lt=c[g+4+X]-c[g+8+X],bt=c[g+0+X]-c[g+12+X];J[0+X]=$+rt,J[8+X]=$-rt,J[4+X]=bt+lt,J[12+X]=bt-lt}for(X=0;4>X;++X)$=(c=J[0+4*X]+3)+J[3+4*X],rt=J[1+4*X]+J[2+4*X],lt=J[1+4*X]-J[2+4*X],bt=c-J[3+4*X],T[B+0]=$+rt>>3,T[B+16]=bt+lt>>3,T[B+32]=$-rt>>3,T[B+48]=bt-lt>>3,B+=64}function Gs(c,g,T){var B,X=g-32,J=da,$=255-c[X-1];for(B=0;B<T;++B){var rt,lt=J,bt=$+c[g-1];for(rt=0;rt<T;++rt)c[g+rt]=lt[bt+c[X+rt]];g+=32}}function Ml(c,g){Gs(c,g,4)}function ua(c,g){Gs(c,g,8)}function Sa(c,g){Gs(c,g,16)}function Ro(c,g){var T;for(T=0;16>T;++T)y(c,g+32*T,c,g-32,16)}function Nl(c,g){var T;for(T=16;0<T;--T)_(c,g,c[g-1],16),g+=32}function Cn(c,g,T){var B;for(B=0;16>B;++B)_(g,T+32*B,c,16)}function du(c,g){var T,B=16;for(T=0;16>T;++T)B+=c[g-1+32*T]+c[g+T-32];Cn(B>>5,c,g)}function vo(c,g){var T,B=8;for(T=0;16>T;++T)B+=c[g-1+32*T];Cn(B>>4,c,g)}function Bo(c,g){var T,B=8;for(T=0;16>T;++T)B+=c[g+T-32];Cn(B>>4,c,g)}function sl(c,g){Cn(128,c,g)}function oi(c,g,T){return c+2*g+T+2>>2}function Ua(c,g){var T,B=g-32;for(B=new Uint8Array([oi(c[B-1],c[B+0],c[B+1]),oi(c[B+0],c[B+1],c[B+2]),oi(c[B+1],c[B+2],c[B+3]),oi(c[B+2],c[B+3],c[B+4])]),T=0;4>T;++T)y(c,g+32*T,B,0,B.length)}function Dl(c,g){var T=c[g-1],B=c[g-1+32],X=c[g-1+64],J=c[g-1+96];lr(c,g+0,16843009*oi(c[g-1-32],T,B)),lr(c,g+32,16843009*oi(T,B,X)),lr(c,g+64,16843009*oi(B,X,J)),lr(c,g+96,16843009*oi(X,J,J))}function Il(c,g){var T,B=4;for(T=0;4>T;++T)B+=c[g+T-32]+c[g-1+32*T];for(B>>=3,T=0;4>T;++T)_(c,g+32*T,B,4)}function en(c,g){var T=c[g-1+0],B=c[g-1+32],X=c[g-1+64],J=c[g-1-32],$=c[g+0-32],rt=c[g+1-32],lt=c[g+2-32],bt=c[g+3-32];c[g+0+96]=oi(B,X,c[g-1+96]),c[g+1+96]=c[g+0+64]=oi(T,B,X),c[g+2+96]=c[g+1+64]=c[g+0+32]=oi(J,T,B),c[g+3+96]=c[g+2+64]=c[g+1+32]=c[g+0+0]=oi($,J,T),c[g+3+64]=c[g+2+32]=c[g+1+0]=oi(rt,$,J),c[g+3+32]=c[g+2+0]=oi(lt,rt,$),c[g+3+0]=oi(bt,lt,rt)}function yn(c,g){var T=c[g+1-32],B=c[g+2-32],X=c[g+3-32],J=c[g+4-32],$=c[g+5-32],rt=c[g+6-32],lt=c[g+7-32];c[g+0+0]=oi(c[g+0-32],T,B),c[g+1+0]=c[g+0+32]=oi(T,B,X),c[g+2+0]=c[g+1+32]=c[g+0+64]=oi(B,X,J),c[g+3+0]=c[g+2+32]=c[g+1+64]=c[g+0+96]=oi(X,J,$),c[g+3+32]=c[g+2+64]=c[g+1+96]=oi(J,$,rt),c[g+3+64]=c[g+2+96]=oi($,rt,lt),c[g+3+96]=oi(rt,lt,lt)}function pu(c,g){var T=c[g-1+0],B=c[g-1+32],X=c[g-1+64],J=c[g-1-32],$=c[g+0-32],rt=c[g+1-32],lt=c[g+2-32],bt=c[g+3-32];c[g+0+0]=c[g+1+64]=J+$+1>>1,c[g+1+0]=c[g+2+64]=$+rt+1>>1,c[g+2+0]=c[g+3+64]=rt+lt+1>>1,c[g+3+0]=lt+bt+1>>1,c[g+0+96]=oi(X,B,T),c[g+0+64]=oi(B,T,J),c[g+0+32]=c[g+1+96]=oi(T,J,$),c[g+1+32]=c[g+2+96]=oi(J,$,rt),c[g+2+32]=c[g+3+96]=oi($,rt,lt),c[g+3+32]=oi(rt,lt,bt)}function gu(c,g){var T=c[g+0-32],B=c[g+1-32],X=c[g+2-32],J=c[g+3-32],$=c[g+4-32],rt=c[g+5-32],lt=c[g+6-32],bt=c[g+7-32];c[g+0+0]=T+B+1>>1,c[g+1+0]=c[g+0+64]=B+X+1>>1,c[g+2+0]=c[g+1+64]=X+J+1>>1,c[g+3+0]=c[g+2+64]=J+$+1>>1,c[g+0+32]=oi(T,B,X),c[g+1+32]=c[g+0+96]=oi(B,X,J),c[g+2+32]=c[g+1+96]=oi(X,J,$),c[g+3+32]=c[g+2+96]=oi(J,$,rt),c[g+3+64]=oi($,rt,lt),c[g+3+96]=oi(rt,lt,bt)}function Rl(c,g){var T=c[g-1+0],B=c[g-1+32],X=c[g-1+64],J=c[g-1+96];c[g+0+0]=T+B+1>>1,c[g+2+0]=c[g+0+32]=B+X+1>>1,c[g+2+32]=c[g+0+64]=X+J+1>>1,c[g+1+0]=oi(T,B,X),c[g+3+0]=c[g+1+32]=oi(B,X,J),c[g+3+32]=c[g+1+64]=oi(X,J,J),c[g+3+64]=c[g+2+64]=c[g+0+96]=c[g+1+96]=c[g+2+96]=c[g+3+96]=J}function ol(c,g){var T=c[g-1+0],B=c[g-1+32],X=c[g-1+64],J=c[g-1+96],$=c[g-1-32],rt=c[g+0-32],lt=c[g+1-32],bt=c[g+2-32];c[g+0+0]=c[g+2+32]=T+$+1>>1,c[g+0+32]=c[g+2+64]=B+T+1>>1,c[g+0+64]=c[g+2+96]=X+B+1>>1,c[g+0+96]=J+X+1>>1,c[g+3+0]=oi(rt,lt,bt),c[g+2+0]=oi($,rt,lt),c[g+1+0]=c[g+3+32]=oi(T,$,rt),c[g+1+32]=c[g+3+64]=oi(B,T,$),c[g+1+64]=c[g+3+96]=oi(X,B,T),c[g+1+96]=oi(J,X,B)}function jo(c,g){var T;for(T=0;8>T;++T)y(c,g+32*T,c,g-32,8)}function Ca(c,g){var T;for(T=0;8>T;++T)_(c,g,c[g-1],8),g+=32}function Ys(c,g,T){var B;for(B=0;8>B;++B)_(g,T+32*B,c,8)}function Aa(c,g){var T,B=8;for(T=0;8>T;++T)B+=c[g+T-32]+c[g-1+32*T];Ys(B>>4,c,g)}function ws(c,g){var T,B=4;for(T=0;8>T;++T)B+=c[g+T-32];Ys(B>>3,c,g)}function mo(c,g){var T,B=4;for(T=0;8>T;++T)B+=c[g-1+32*T];Ys(B>>3,c,g)}function Uo(c,g){Ys(128,c,g)}function za(c,g,T){var B=c[g-T],X=c[g+0],J=3*(X-B)+Yl[1020+c[g-2*T]-c[g+T]],$=Co[112+(J+4>>3)];c[g-T]=da[255+B+Co[112+(J+3>>3)]],c[g+0]=da[255+X-$]}function Bl(c,g,T,B){var X=c[g+0],J=c[g+T];return pa[255+c[g-2*T]-c[g-T]]>B||pa[255+J-X]>B}function jl(c,g,T,B){return 4*pa[255+c[g-T]-c[g+0]]+pa[255+c[g-2*T]-c[g+T]]<=B}function _s(c,g,T,B,X){var J=c[g-3*T],$=c[g-2*T],rt=c[g-T],lt=c[g+0],bt=c[g+T],Vt=c[g+2*T],we=c[g+3*T];return 4*pa[255+rt-lt]+pa[255+$-bt]>B?0:pa[255+c[g-4*T]-J]<=X&&pa[255+J-$]<=X&&pa[255+$-rt]<=X&&pa[255+we-Vt]<=X&&pa[255+Vt-bt]<=X&&pa[255+bt-lt]<=X}function xs(c,g,T,B){var X=2*B+1;for(B=0;16>B;++B)jl(c,g+B,T,X)&&za(c,g+B,T)}function Ul(c,g,T,B){var X=2*B+1;for(B=0;16>B;++B)jl(c,g+B*T,1,X)&&za(c,g+B*T,1)}function zo(c,g,T,B){var X;for(X=3;0<X;--X)xs(c,g+=4*T,T,B)}function ss(c,g,T,B){var X;for(X=3;0<X;--X)Ul(c,g+=4,T,B)}function Wa(c,g,T,B,X,J,$,rt){for(J=2*J+1;0<X--;){if(_s(c,g,T,J,$))if(Bl(c,g,T,rt))za(c,g,T);else{var lt=c,bt=g,Vt=T,we=lt[bt-2*Vt],ge=lt[bt-Vt],ne=lt[bt+0],Ze=lt[bt+Vt],Ne=lt[bt+2*Vt],Kt=27*(Je=Yl[1020+3*(ne-ge)+Yl[1020+we-Ze]])+63>>7,Zt=18*Je+63>>7,Je=9*Je+63>>7;lt[bt-3*Vt]=da[255+lt[bt-3*Vt]+Je],lt[bt-2*Vt]=da[255+we+Zt],lt[bt-Vt]=da[255+ge+Kt],lt[bt+0]=da[255+ne-Kt],lt[bt+Vt]=da[255+Ze-Zt],lt[bt+2*Vt]=da[255+Ne-Je]}g+=B}}function tt(c,g,T,B,X,J,$,rt){for(J=2*J+1;0<X--;){if(_s(c,g,T,J,$))if(Bl(c,g,T,rt))za(c,g,T);else{var lt=c,bt=g,Vt=T,we=lt[bt-Vt],ge=lt[bt+0],ne=lt[bt+Vt],Ze=Co[112+((Ne=3*(ge-we))+4>>3)],Ne=Co[112+(Ne+3>>3)],Kt=Ze+1>>1;lt[bt-2*Vt]=da[255+lt[bt-2*Vt]+Kt],lt[bt-Vt]=da[255+we+Ne],lt[bt+0]=da[255+ge-Ze],lt[bt+Vt]=da[255+ne-Kt]}g+=B}}function Xs(c,g,T,B,X,J){Wa(c,g,T,1,16,B,X,J)}function Ss(c,g,T,B,X,J){Wa(c,g,1,T,16,B,X,J)}function Zn(c,g,T,B,X,J){var $;for($=3;0<$;--$)tt(c,g+=4*T,T,1,16,B,X,J)}function vi(c,g,T,B,X,J){var $;for($=3;0<$;--$)tt(c,g+=4,1,T,16,B,X,J)}function ll(c,g,T,B,X,J,$,rt){Wa(c,g,X,1,8,J,$,rt),Wa(T,B,X,1,8,J,$,rt)}function zl(c,g,T,B,X,J,$,rt){Wa(c,g,1,X,8,J,$,rt),Wa(T,B,1,X,8,J,$,rt)}function Wo(c,g,T,B,X,J,$,rt){tt(c,g+4*X,X,1,8,J,$,rt),tt(T,B+4*X,X,1,8,J,$,rt)}function os(c,g,T,B,X,J,$,rt){tt(c,g+4,1,X,8,J,$,rt),tt(T,B+4,1,X,8,J,$,rt)}function ul(){this.ba=new oa,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new si,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function hl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function vu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ho(){this.ua=0,this.Wa=new Ke,this.vb=new Ke,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new qe,this.yc=new qt}function cl(){this.xb=this.a=0,this.l=new fo,this.ca=new oa,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ot,this.Pb=0,this.wd=new ot,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ho,this.ab=0,this.gc=S(4,vu),this.Oc=0}function ha(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new fo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function ls(c,g,T,B,X,J,$){for(c=c==null?0:c[g+0],g=0;g<$;++g)X[J+g]=c+T[B+g]&255,c=X[J+g]}function fl(c,g,T,B,X,J,$){var rt;if(c==null)ls(null,null,T,B,X,J,$);else for(rt=0;rt<$;++rt)X[J+rt]=c[g+rt]+T[B+rt]&255}function F(c,g,T,B,X,J,$){if(c==null)ls(null,null,T,B,X,J,$);else{var rt,lt=c[g+0],bt=lt,Vt=lt;for(rt=0;rt<$;++rt)bt=Vt+(lt=c[g+rt])-bt,Vt=T[B+rt]+(-256&bt?0>bt?0:255:bt)&255,bt=lt,X[J+rt]=Vt}}function I(c,g,T,B){var X=g.width,J=g.o;if(p(c!=null&&g!=null),0>T||0>=B||T+B>J)return null;if(!c.Cc){if(c.ga==null){var $;if(c.ga=new ha,($=c.ga==null)||($=g.width*g.o,p(c.Gb.length==0),c.Gb=w($),c.Uc=0,c.Gb==null?$=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,$=1),$=!$),!$){$=c.ga;var rt=c.Fa,lt=c.P,bt=c.qc,Vt=c.mb,we=c.nb,ge=lt+1,ne=bt-1,Ze=$.l;if(p(rt!=null&&Vt!=null&&g!=null),qn[0]=null,qn[1]=ls,qn[2]=fl,qn[3]=F,$.ca=Vt,$.tb=we,$.c=g.width,$.i=g.height,p(0<$.c&&0<$.i),1>=bt)g=0;else if($.$a=rt[lt+0]>>0&3,$.Z=rt[lt+0]>>2&3,$.Lc=rt[lt+0]>>4&3,lt=rt[lt+0]>>6&3,0>$.$a||1<$.$a||4<=$.Z||1<$.Lc||lt)g=0;else if(Ze.put=rs,Ze.ac=es,Ze.bc=Qr,Ze.ma=$,Ze.width=g.width,Ze.height=g.height,Ze.Da=g.Da,Ze.v=g.v,Ze.va=g.va,Ze.j=g.j,Ze.o=g.o,$.$a)t:{p($.$a==1),g=ho();e:for(;;){if(g==null){g=0;break t}if(p($!=null),$.mc=g,g.c=$.c,g.i=$.i,g.l=$.l,g.l.ma=$,g.l.width=$.c,g.l.height=$.i,g.a=0,dr(g.m,rt,ge,ne),!as($.c,$.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&Ba(g.s)?($.ic=1,rt=g.c*g.i,g.Ta=null,g.Ua=0,g.V=w(rt),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):($.ic=0,g=co(g,$.c)),!g))break e;g=1;break t}$.mc=null,g=0}else g=ne>=$.c*$.i;$=!g}if($)return null;c.ga.Lc!=1?c.Ga=0:B=J-T}p(c.ga!=null),p(T+B<=J);t:{if(g=(rt=c.ga).c,J=rt.l.o,rt.$a==0){if(ge=c.rc,ne=c.Vc,Ze=c.Fa,lt=c.P+1+T*g,bt=c.mb,Vt=c.nb+T*g,p(lt<=c.P+c.qc),rt.Z!=0)for(p(qn[rt.Z]!=null),$=0;$<B;++$)qn[rt.Z](ge,ne,Ze,lt,bt,Vt,g),ge=bt,ne=Vt,Vt+=g,lt+=g;else for($=0;$<B;++$)y(bt,Vt,Ze,lt,g),ge=bt,ne=Vt,Vt+=g,lt+=g;c.rc=ge,c.Vc=ne}else{if(p(rt.mc!=null),g=T+B,p(($=rt.mc)!=null),p(g<=$.i),$.C>=g)g=1;else if(rt.ic||hr(),rt.ic){rt=$.V,ge=$.Ba,ne=$.c;var Ne=$.i,Kt=(Ze=1,lt=$.$/ne,bt=$.$%ne,Vt=$.m,we=$.s,$.$),Zt=ne*Ne,Je=ne*g,Qe=we.wc,$e=Kt<Je?tn(we,bt,lt):null;p(Kt<=Zt),p(g<=Ne),p(Ba(we));e:for(;;){for(;!Vt.h&&Kt<Je;){if(bt&Qe||($e=tn(we,bt,lt)),p($e!=null),xe(Vt),256>(Ne=Qi($e.G[0],$e.H[0],Vt)))rt[ge+Kt]=Ne,++Kt,++bt>=ne&&(bt=0,++lt<=g&&!(lt%16)&&Rn($,lt));else{if(!(280>Ne)){Ze=0;break e}Ne=xa(Ne-256,Vt);var Dr,Sr=Qi($e.G[4],$e.H[4],Vt);if(xe(Vt),!(Kt>=(Sr=ms(ne,Sr=xa(Sr,Vt)))&&Zt-Kt>=Ne)){Ze=0;break e}for(Dr=0;Dr<Ne;++Dr)rt[ge+Kt+Dr]=rt[ge+Kt+Dr-Sr];for(Kt+=Ne,bt+=Ne;bt>=ne;)bt-=ne,++lt<=g&&!(lt%16)&&Rn($,lt);Kt<Je&&bt&Qe&&($e=tn(we,bt,lt))}p(Vt.h==$t(Vt))}Rn($,lt>g?g:lt);break e}!Ze||Vt.h&&Kt<Zt?(Ze=0,$.a=Vt.h?5:3):$.$=Kt,g=Ze}else g=gn($,$.V,$.Ba,$.c,$.i,g,ko);if(!g){B=0;break t}}T+B>=J&&(c.Cc=1),B=1}if(!B)return null;if(c.Cc&&((B=c.ga)!=null&&(B.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+T*X}function gt(c,g,T,B,X,J){for(;0<X--;){var $,rt=c,lt=g+(T?1:0),bt=c,Vt=g+(T?0:3);for($=0;$<B;++$){var we=bt[Vt+4*$];we!=255&&(we*=32897,rt[lt+4*$+0]=rt[lt+4*$+0]*we>>23,rt[lt+4*$+1]=rt[lt+4*$+1]*we>>23,rt[lt+4*$+2]=rt[lt+4*$+2]*we>>23)}g+=J}}function Bt(c,g,T,B,X){for(;0<B--;){var J;for(J=0;J<T;++J){var $=c[g+2*J+0],rt=15&(bt=c[g+2*J+1]),lt=4369*rt,bt=(240&bt|bt>>4)*lt>>16;c[g+2*J+0]=(240&$|$>>4)*lt>>16&240|(15&$|$<<4)*lt>>16>>4&15,c[g+2*J+1]=240&bt|rt}g+=X}}function me(c,g,T,B,X,J,$,rt){var lt,bt,Vt=255;for(bt=0;bt<X;++bt){for(lt=0;lt<B;++lt){var we=c[g+lt];J[$+4*lt]=we,Vt&=we}g+=T,$+=rt}return Vt!=255}function be(c,g,T,B,X){var J;for(J=0;J<X;++J)T[B+J]=c[g+J]>>8}function hr(){Os=gt,Hl=Bt,ju=me,yu=be}function mr(c,g,T){Gt[c]=function(B,X,J,$,rt,lt,bt,Vt,we,ge,ne,Ze,Ne,Kt,Zt,Je,Qe){var $e,Dr=Qe-1>>1,Sr=rt[lt+0]|bt[Vt+0]<<16,Vr=we[ge+0]|ne[Ze+0]<<16;p(B!=null);var Cr=3*Sr+Vr+131074>>2;for(g(B[X+0],255&Cr,Cr>>16,Ne,Kt),J!=null&&(Cr=3*Vr+Sr+131074>>2,g(J[$+0],255&Cr,Cr>>16,Zt,Je)),$e=1;$e<=Dr;++$e){var Ar=rt[lt+$e]|bt[Vt+$e]<<16,Di=we[ge+$e]|ne[Ze+$e]<<16,Si=Sr+Ar+Vr+Di+524296,fi=Si+2*(Ar+Vr)>>3;Cr=fi+Sr>>1,Sr=(Si=Si+2*(Sr+Di)>>3)+Ar>>1,g(B[X+2*$e-1],255&Cr,Cr>>16,Ne,Kt+(2*$e-1)*T),g(B[X+2*$e-0],255&Sr,Sr>>16,Ne,Kt+(2*$e-0)*T),J!=null&&(Cr=Si+Vr>>1,Sr=fi+Di>>1,g(J[$+2*$e-1],255&Cr,Cr>>16,Zt,Je+(2*$e-1)*T),g(J[$+2*$e+0],255&Sr,Sr>>16,Zt,Je+(2*$e+0)*T)),Sr=Ar,Vr=Di}1&Qe||(Cr=3*Sr+Vr+131074>>2,g(B[X+Qe-1],255&Cr,Cr>>16,Ne,Kt+(Qe-1)*T),J!=null&&(Cr=3*Vr+Sr+131074>>2,g(J[$+Qe-1],255&Cr,Cr>>16,Zt,Je+(Qe-1)*T)))}}function Hr(){ma[vl]=qu,ma[Xl]=Gu,ma[_u]=Tu,ma[Vl]=Yu,ma[Vo]=Xu,ma[Kl]=Pu,ma[Jl]=Vu,ma[xu]=Gu,ma[ml]=Yu,ma[ci]=Xu,ma[Su]=Pu}function ni(c){return c&~Sh?0>c?0:255:c>>Ya}function ai(c,g){return ni((19077*c>>8)+(26149*g>>8)-14234)}function Fi(c,g,T){return ni((19077*c>>8)-(6419*g>>8)-(13320*T>>8)+8708)}function Ri(c,g){return ni((19077*c>>8)+(33050*g>>8)-17685)}function on(c,g,T,B,X){B[X+0]=ai(c,T),B[X+1]=Fi(c,g,T),B[X+2]=Ri(c,g)}function Zi(c,g,T,B,X){B[X+0]=Ri(c,g),B[X+1]=Fi(c,g,T),B[X+2]=ai(c,T)}function zn(c,g,T,B,X){var J=Fi(c,g,T);g=J<<3&224|Ri(c,g)>>3,B[X+0]=248&ai(c,T)|J>>5,B[X+1]=g}function bn(c,g,T,B,X){var J=240&Ri(c,g)|15;B[X+0]=240&ai(c,T)|Fi(c,g,T)>>4,B[X+1]=J}function Ha(c,g,T,B,X){B[X+0]=255,on(c,g,T,B,X+1)}function yo(c,g,T,B,X){Zi(c,g,T,B,X),B[X+3]=255}function dl(c,g,T,B,X){on(c,g,T,B,X),B[X+3]=255}function $n(c,g){return 0>c?0:c>g?g:c}function Cs(c,g,T){Gt[c]=function(B,X,J,$,rt,lt,bt,Vt,we){for(var ge=Vt+(-2&we)*T;Vt!=ge;)g(B[X+0],J[$+0],rt[lt+0],bt,Vt),g(B[X+1],J[$+0],rt[lt+0],bt,Vt+T),X+=2,++$,++lt,Vt+=2*T;1&we&&g(B[X+0],J[$+0],rt[lt+0],bt,Vt)}}function pl(c,g,T){return T==0?c==0?g==0?6:5:g==0?4:0:T}function bo(c,g,T,B,X){switch(c>>>30){case 3:$s(g,T,B,X,0);break;case 2:vn(g,T,B,X);break;case 1:Pa(g,T,B,X)}}function us(c,g){var T,B,X=g.M,J=g.Nb,$=c.oc,rt=c.pc+40,lt=c.oc,bt=c.pc+584,Vt=c.oc,we=c.pc+600;for(T=0;16>T;++T)$[rt+32*T-1]=129;for(T=0;8>T;++T)lt[bt+32*T-1]=129,Vt[we+32*T-1]=129;for(0<X?$[rt-1-32]=lt[bt-1-32]=Vt[we-1-32]=129:(_($,rt-32-1,127,21),_(lt,bt-32-1,127,9),_(Vt,we-32-1,127,9)),B=0;B<c.za;++B){var ge=g.ya[g.aa+B];if(0<B){for(T=-1;16>T;++T)y($,rt+32*T-4,$,rt+32*T+12,4);for(T=-1;8>T;++T)y(lt,bt+32*T-4,lt,bt+32*T+4,4),y(Vt,we+32*T-4,Vt,we+32*T+4,4)}var ne=c.Gd,Ze=c.Hd+B,Ne=ge.ad,Kt=ge.Hc;if(0<X&&(y($,rt-32,ne[Ze].y,0,16),y(lt,bt-32,ne[Ze].f,0,8),y(Vt,we-32,ne[Ze].ea,0,8)),ge.Za){var Zt=$,Je=rt-32+16;for(0<X&&(B>=c.za-1?_(Zt,Je,ne[Ze].y[15],4):y(Zt,Je,ne[Ze+1].y,0,4)),T=0;4>T;T++)Zt[Je+128+T]=Zt[Je+256+T]=Zt[Je+384+T]=Zt[Je+0+T];for(T=0;16>T;++T,Kt<<=2)Zt=$,Je=rt+Ao[T],va[ge.Ob[T]](Zt,Je),bo(Kt,Ne,16*+T,Zt,Je)}else if(Zt=pl(B,X,ge.Ob[0]),Es[Zt]($,rt),Kt!=0)for(T=0;16>T;++T,Kt<<=2)bo(Kt,Ne,16*+T,$,rt+Ao[T]);for(T=ge.Gc,Zt=pl(B,X,ge.Dd),Ga[Zt](lt,bt),Ga[Zt](Vt,we),Kt=Ne,Zt=lt,Je=bt,255&(ge=T>>0)&&(170&ge?fs(Kt,256,Zt,Je):Zs(Kt,256,Zt,Je)),ge=Vt,Kt=we,255&(T>>=8)&&(170&T?fs(Ne,320,ge,Kt):Zs(Ne,320,ge,Kt)),X<c.Ub-1&&(y(ne[Ze].y,0,$,rt+480,16),y(ne[Ze].f,0,lt,bt+224,8),y(ne[Ze].ea,0,Vt,we+224,8)),T=8*J*c.B,ne=c.sa,Ze=c.ta+16*B+16*J*c.R,Ne=c.qa,ge=c.ra+8*B+T,Kt=c.Ha,Zt=c.Ia+8*B+T,T=0;16>T;++T)y(ne,Ze+T*c.R,$,rt+32*T,16);for(T=0;8>T;++T)y(Ne,ge+T*c.B,lt,bt+32*T,8),y(Kt,Zt+T*c.B,Vt,we+32*T,8)}}function Vs(c,g,T,B,X,J,$,rt,lt){var bt=[0],Vt=[0],we=0,ge=lt!=null?lt.kd:0,ne=lt!=null?lt:new hl;if(c==null||12>T)return 7;ne.data=c,ne.w=g,ne.ha=T,g=[g],T=[T],ne.gb=[ne.gb];t:{var Ze=g,Ne=T,Kt=ne.gb;if(p(c!=null),p(Ne!=null),p(Kt!=null),Kt[0]=0,12<=Ne[0]&&!v(c,Ze[0],"RIFF")){if(v(c,Ze[0]+8,"WEBP")){Kt=3;break t}var Zt=Zr(c,Ze[0]+4);if(12>Zt||4294967286<Zt){Kt=3;break t}if(ge&&Zt>Ne[0]-8){Kt=7;break t}Kt[0]=Zt,Ze[0]+=12,Ne[0]-=12}Kt=0}if(Kt!=0)return Kt;for(Zt=0<ne.gb[0],T=T[0];;){t:{var Je=c;Ne=g,Kt=T;var Qe=bt,$e=Vt,Dr=Ze=[0];if((Cr=we=[we])[0]=0,8>Kt[0])Kt=7;else{if(!v(Je,Ne[0],"VP8X")){if(Zr(Je,Ne[0]+4)!=10){Kt=3;break t}if(18>Kt[0]){Kt=7;break t}var Sr=Zr(Je,Ne[0]+8),Vr=1+xr(Je,Ne[0]+12);if(2147483648<=Vr*(Je=1+xr(Je,Ne[0]+15))){Kt=3;break t}Dr!=null&&(Dr[0]=Sr),Qe!=null&&(Qe[0]=Vr),$e!=null&&($e[0]=Je),Ne[0]+=18,Kt[0]-=18,Cr[0]=1}Kt=0}}if(we=we[0],Ze=Ze[0],Kt!=0)return Kt;if(Ne=!!(2&Ze),!Zt&&we)return 3;if(J!=null&&(J[0]=!!(16&Ze)),$!=null&&($[0]=Ne),rt!=null&&(rt[0]=0),$=bt[0],Ze=Vt[0],we&&Ne&&lt==null){Kt=0;break}if(4>T){Kt=7;break}if(Zt&&we||!Zt&&!we&&!v(c,g[0],"ALPH")){T=[T],ne.na=[ne.na],ne.P=[ne.P],ne.Sa=[ne.Sa];t:{Sr=c,Kt=g,Zt=T;var Cr=ne.gb;Qe=ne.na,$e=ne.P,Dr=ne.Sa,Vr=22,p(Sr!=null),p(Zt!=null),Je=Kt[0];var Ar=Zt[0];for(p(Qe!=null),p(Dr!=null),Qe[0]=null,$e[0]=null,Dr[0]=0;;){if(Kt[0]=Je,Zt[0]=Ar,8>Ar){Kt=7;break t}var Di=Zr(Sr,Je+4);if(4294967286<Di){Kt=3;break t}var Si=8+Di+1&-2;if(Vr+=Si,0<Cr&&Vr>Cr){Kt=3;break t}if(!v(Sr,Je,"VP8 ")||!v(Sr,Je,"VP8L")){Kt=0;break t}if(Ar[0]<Si){Kt=7;break t}v(Sr,Je,"ALPH")||(Qe[0]=Sr,$e[0]=Je+8,Dr[0]=Di),Je+=Si,Ar-=Si}}if(T=T[0],ne.na=ne.na[0],ne.P=ne.P[0],ne.Sa=ne.Sa[0],Kt!=0)break}T=[T],ne.Ja=[ne.Ja],ne.xa=[ne.xa];t:if(Cr=c,Kt=g,Zt=T,Qe=ne.gb[0],$e=ne.Ja,Dr=ne.xa,Sr=Kt[0],Je=!v(Cr,Sr,"VP8 "),Vr=!v(Cr,Sr,"VP8L"),p(Cr!=null),p(Zt!=null),p($e!=null),p(Dr!=null),8>Zt[0])Kt=7;else{if(Je||Vr){if(Cr=Zr(Cr,Sr+4),12<=Qe&&Cr>Qe-12){Kt=3;break t}if(ge&&Cr>Zt[0]-8){Kt=7;break t}$e[0]=Cr,Kt[0]+=8,Zt[0]-=8,Dr[0]=Vr}else Dr[0]=5<=Zt[0]&&Cr[Sr+0]==47&&!(Cr[Sr+4]>>5),$e[0]=Zt[0];Kt=0}if(T=T[0],ne.Ja=ne.Ja[0],ne.xa=ne.xa[0],g=g[0],Kt!=0)break;if(4294967286<ne.Ja)return 3;if(rt==null||Ne||(rt[0]=ne.xa?2:1),$=[$],Ze=[Ze],ne.xa){if(5>T){Kt=7;break}rt=$,ge=Ze,Ne=J,c==null||5>T?c=0:5<=T&&c[g+0]==47&&!(c[g+4]>>5)?(Zt=[0],Cr=[0],Qe=[0],dr($e=new ot,c,g,T),Kn($e,Zt,Cr,Qe)?(rt!=null&&(rt[0]=Zt[0]),ge!=null&&(ge[0]=Cr[0]),Ne!=null&&(Ne[0]=Qe[0]),c=1):c=0):c=0}else{if(10>T){Kt=7;break}rt=Ze,c==null||10>T||!qs(c,g+3,T-3)?c=0:(ge=c[g+0]|c[g+1]<<8|c[g+2]<<16,Ne=16383&(c[g+7]<<8|c[g+6]),c=16383&(c[g+9]<<8|c[g+8]),1&ge||3<(ge>>1&7)||!(ge>>4&1)||ge>>5>=ne.Ja||!Ne||!c?c=0:($&&($[0]=Ne),rt&&(rt[0]=c),c=1))}if(!c||($=$[0],Ze=Ze[0],we&&(bt[0]!=$||Vt[0]!=Ze)))return 3;lt!=null&&(lt[0]=ne,lt.offset=g-lt.w,p(4294967286>g-lt.w),p(lt.offset==lt.ha-T));break}return Kt==0||Kt==7&&we&&lt==null?(J!=null&&(J[0]|=ne.na!=null&&0<ne.na.length),B!=null&&(B[0]=$),X!=null&&(X[0]=Ze),0):Kt}function gl(c,g,T){var B=g.width,X=g.height,J=0,$=0,rt=B,lt=X;if(g.Da=c!=null&&0<c.Da,g.Da&&(rt=c.cd,lt=c.bd,J=c.v,$=c.j,11>T||(J&=-2,$&=-2),0>J||0>$||0>=rt||0>=lt||J+rt>B||$+lt>X))return 0;if(g.v=J,g.j=$,g.va=J+rt,g.o=$+lt,g.U=rt,g.T=lt,g.da=c!=null&&0<c.da,g.da){if(!Tr(rt,lt,T=[c.ib],J=[c.hb]))return 0;g.ib=T[0],g.hb=J[0]}return g.ob=c!=null&&c.ob,g.Kb=c==null||!c.Sd,g.da&&(g.ob=g.ib<3*B/4&&g.hb<3*X/4,g.Kb=0),1}function wo(c){if(c==null)return 2;if(11>c.S){var g=c.f.RGBA;g.fb+=(c.height-1)*g.A,g.A=-g.A}else g=c.f.kb,c=c.height,g.O+=(c-1)*g.fa,g.fa=-g.fa,g.N+=(c-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(c-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(c-1)*g.lb,g.lb=-g.lb);return 0}function ca(c,g,T,B){if(B==null||0>=c||0>=g)return 2;if(T!=null){if(T.Da){var X=T.cd,J=T.bd,$=-2&T.v,rt=-2&T.j;if(0>$||0>rt||0>=X||0>=J||$+X>c||rt+J>g)return 2;c=X,g=J}if(T.da){if(!Tr(c,g,X=[T.ib],J=[T.hb]))return 2;c=X[0],g=J[0]}}B.width=c,B.height=g;t:{var lt=B.width,bt=B.height;if(c=B.S,0>=lt||0>=bt||!(c>=vl&&13>c))c=2;else{if(0>=B.Rd&&B.sd==null){$=J=X=g=0;var Vt=(rt=lt*Lu[c])*bt;if(11>c||(J=(bt+1)/2*(g=(lt+1)/2),c==12&&($=(X=lt)*bt)),(bt=w(Vt+2*J+$))==null){c=1;break t}B.sd=bt,11>c?((lt=B.f.RGBA).eb=bt,lt.fb=0,lt.A=rt,lt.size=Vt):((lt=B.f.kb).y=bt,lt.O=0,lt.fa=rt,lt.Fd=Vt,lt.f=bt,lt.N=0+Vt,lt.Ab=g,lt.Cd=J,lt.ea=bt,lt.W=0+Vt+J,lt.Db=g,lt.Ed=J,c==12&&(lt.F=bt,lt.J=0+Vt+2*J),lt.Tc=$,lt.lb=X)}if(g=1,X=B.S,J=B.width,$=B.height,X>=vl&&13>X)if(11>X)c=B.f.RGBA,g&=(rt=Math.abs(c.A))*($-1)+J<=c.size,g&=rt>=J*Lu[X],g&=c.eb!=null;else{c=B.f.kb,rt=(J+1)/2,Vt=($+1)/2,lt=Math.abs(c.fa),bt=Math.abs(c.Ab);var we=Math.abs(c.Db),ge=Math.abs(c.lb),ne=ge*($-1)+J;g&=lt*($-1)+J<=c.Fd,g&=bt*(Vt-1)+rt<=c.Cd,g=(g&=we*(Vt-1)+rt<=c.Ed)&lt>=J&bt>=rt&we>=rt,g&=c.y!=null,g&=c.f!=null,g&=c.ea!=null,X==12&&(g&=ge>=J,g&=ne<=c.Tc,g&=c.F!=null)}else g=0;c=g?0:2}}return c!=0||T!=null&&T.fd&&(c=wo(B)),c}var Bn=64,Ks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],hs=24,kn=32,Wn=8,Wl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];wr("Predictor0","PredictorAdd0"),Gt.Predictor0=function(){return 4278190080},Gt.Predictor1=function(c){return c},Gt.Predictor2=function(c,g,T){return g[T+0]},Gt.Predictor3=function(c,g,T){return g[T+1]},Gt.Predictor4=function(c,g,T){return g[T-1]},Gt.Predictor5=function(c,g,T){return Wr(Wr(c,g[T+1]),g[T+0])},Gt.Predictor6=function(c,g,T){return Wr(c,g[T-1])},Gt.Predictor7=function(c,g,T){return Wr(c,g[T+0])},Gt.Predictor8=function(c,g,T){return Wr(g[T-1],g[T+0])},Gt.Predictor9=function(c,g,T){return Wr(g[T+0],g[T+1])},Gt.Predictor10=function(c,g,T){return Wr(Wr(c,g[T-1]),Wr(g[T+0],g[T+1]))},Gt.Predictor11=function(c,g,T){var B=g[T+0];return 0>=$r(B>>24&255,c>>24&255,(g=g[T-1])>>24&255)+$r(B>>16&255,c>>16&255,g>>16&255)+$r(B>>8&255,c>>8&255,g>>8&255)+$r(255&B,255&c,255&g)?B:c},Gt.Predictor12=function(c,g,T){var B=g[T+0];return(Yr((c>>24&255)+(B>>24&255)-((g=g[T-1])>>24&255))<<24|Yr((c>>16&255)+(B>>16&255)-(g>>16&255))<<16|Yr((c>>8&255)+(B>>8&255)-(g>>8&255))<<8|Yr((255&c)+(255&B)-(255&g)))>>>0},Gt.Predictor13=function(c,g,T){var B=g[T-1];return(Li((c=Wr(c,g[T+0]))>>24&255,B>>24&255)<<24|Li(c>>16&255,B>>16&255)<<16|Li(c>>8&255,B>>8&255)<<8|Li(c>>0&255,B>>0&255))>>>0};var qo=Gt.PredictorAdd0;Gt.PredictorAdd1=_i,wr("Predictor2","PredictorAdd2"),wr("Predictor3","PredictorAdd3"),wr("Predictor4","PredictorAdd4"),wr("Predictor5","PredictorAdd5"),wr("Predictor6","PredictorAdd6"),wr("Predictor7","PredictorAdd7"),wr("Predictor8","PredictorAdd8"),wr("Predictor9","PredictorAdd9"),wr("Predictor10","PredictorAdd10"),wr("Predictor11","PredictorAdd11"),wr("Predictor12","PredictorAdd12"),wr("Predictor13","PredictorAdd13");var _o=Gt.PredictorAdd2;kr("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),kr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Ln,xo=Gt.ColorIndexInverseTransform,mu=Gt.MapARGB,Go=Gt.VP8LColorIndexInverseTransformAlpha,So=Gt.MapAlpha,Ta=Gt.VP8LPredictorsAdd=[];Ta.length=16,(Gt.VP8LPredictors=[]).length=16,(Gt.VP8LPredictorsAdd_C=[]).length=16,(Gt.VP8LPredictors_C=[]).length=16;var Gi,As,qa,An,Js,Qn,cs,$s,vn,fs,Pa,Zs,Yo,Ts,Qs,Ps,fa,Ls,ln,ji,Mn,un,Hn,Xo,Os,Hl,ju,yu,ql=w(511),Uu=w(2041),Gl=w(225),bu=w(767),wu=0,Yl=Uu,Co=Gl,da=bu,pa=ql,vl=0,Xl=1,_u=2,Vl=3,Vo=4,Kl=5,Jl=6,xu=7,ml=8,ci=9,Su=10,bh=[2,3,7],yl=[3,3,11],Cu=[280,256,256,256,40],wh=[0,1,1,1,0],_h=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],La=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$l=8,bl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Zl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ko=null,ga=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],to=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ql=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zu=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],tu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Wu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Au=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],Es=[],va=[],Ga=[],eo=1,Hu=2,qn=[],ma=[];mr("UpsampleRgbLinePair",on,3),mr("UpsampleBgrLinePair",Zi,3),mr("UpsampleRgbaLinePair",dl,4),mr("UpsampleBgraLinePair",yo,4),mr("UpsampleArgbLinePair",Ha,4),mr("UpsampleRgba4444LinePair",bn,2),mr("UpsampleRgb565LinePair",zn,2);var qu=Gt.UpsampleRgbLinePair,Tu=Gt.UpsampleBgrLinePair,Gu=Gt.UpsampleRgbaLinePair,Yu=Gt.UpsampleBgraLinePair,Xu=Gt.UpsampleArgbLinePair,Pu=Gt.UpsampleRgba4444LinePair,Vu=Gt.UpsampleRgb565LinePair,eu=16,wl=1<<eu-1,Jo=-227,jn=482,Ya=6,Sh=(256<<Ya)-1,Ku=0,ru=w(256),$o=w(256),Ju=w(256),$u=w(256),Ch=w(jn-Jo),Zu=w(jn-Jo);Cs("YuvToRgbRow",on,3),Cs("YuvToBgrRow",Zi,3),Cs("YuvToRgbaRow",dl,4),Cs("YuvToBgraRow",yo,4),Cs("YuvToArgbRow",Ha,4),Cs("YuvToRgba4444Row",bn,2),Cs("YuvToRgb565Row",zn,2);var Ao=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ro=[0,2,8],Ah=[8,7,6,4,4,2,2,2,1,1,1,1],Qu=1;this.WebPDecodeRGBA=function(c,g,T,B,X){var J=Xl,$=new ul,rt=new oa;$.ba=rt,rt.S=J,rt.width=[rt.width],rt.height=[rt.height];var lt=rt.width,bt=rt.height,Vt=new Vi;if(Vt==null||c==null)var we=2;else p(Vt!=null),we=Vs(c,g,T,Vt.width,Vt.height,Vt.Pd,Vt.Qd,Vt.format,null);if(we!=0?lt=0:(lt!=null&&(lt[0]=Vt.width[0]),bt!=null&&(bt[0]=Vt.height[0]),lt=1),lt){rt.width=rt.width[0],rt.height=rt.height[0],B!=null&&(B[0]=rt.width),X!=null&&(X[0]=rt.height);t:{if(B=new fo,(X=new hl).data=c,X.w=g,X.ha=T,X.kd=1,g=[0],p(X!=null),((c=Vs(X.data,X.w,X.ha,null,null,null,g,null,X))==0||c==7)&&g[0]&&(c=4),(g=c)==0){if(p($!=null),B.data=X.data,B.w=X.w+X.offset,B.ha=X.ha-X.offset,B.put=rs,B.ac=es,B.bc=Qr,B.ma=$,X.xa){if((c=ho())==null){$=1;break t}if(function(ge,ne){var Ze=[0],Ne=[0],Kt=[0];e:for(;;){if(ge==null)return 0;if(ne==null)return ge.a=2,0;if(ge.l=ne,ge.a=0,dr(ge.m,ne.data,ne.w,ne.ha),!Kn(ge.m,Ze,Ne,Kt)){ge.a=3;break e}if(ge.xb=Hu,ne.width=Ze[0],ne.height=Ne[0],!as(Ze[0],Ne[0],1,ge,null))break e;return 1}return p(ge.a!=0),0}(c,B)){if(B=(g=ca(B.width,B.height,$.Oa,$.ba))==0){e:{B=c;r:for(;;){if(B==null){B=0;break e}if(p(B.s.yc!=null),p(B.s.Ya!=null),p(0<B.s.Wb),p((T=B.l)!=null),p((X=T.ma)!=null),B.xb!=0){if(B.ca=X.ba,B.tb=X.tb,p(B.ca!=null),!gl(X.Oa,T,Vl)){B.a=2;break r}if(!co(B,T.width)||T.da)break r;if((T.da||ts(B.ca.S))&&hr(),11>B.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),B.ca.f.kb.F!=null&&hr()),B.Pb&&0<B.s.ua&&B.s.vb.X==null&&!Gr(B.s.vb,B.s.Wa.Xa)){B.a=1;break r}B.xb=0}if(!gn(B,B.V,B.Ba,B.c,B.i,T.o,Ws))break r;X.Dc=B.Ma,B=1;break e}p(B.a!=0),B=0}B=!B}B&&(g=c.a)}else g=c.a}else{if((c=new Hs)==null){$=1;break t}if(c.Fa=X.na,c.P=X.P,c.qc=X.Sa,Ei(c,B)){if((g=ca(B.width,B.height,$.Oa,$.ba))==0){if(c.Aa=0,T=$.Oa,p((X=c)!=null),T!=null){if(0<(lt=0>(lt=T.Md)?0:100<lt?255:255*lt/100)){for(bt=Vt=0;4>bt;++bt)12>(we=X.pb[bt]).lc&&(we.ia=lt*Ah[0>we.lc?0:we.lc]>>3),Vt|=we.ia;Vt&&(alert("todo:VP8InitRandom"),X.ia=1)}X.Ga=T.Id,100<X.Ga?X.Ga=100:0>X.Ga&&(X.Ga=0)}No(c,B)||(g=c.a)}}else g=c.a}g==0&&$.Oa!=null&&$.Oa.fd&&(g=wo($.ba))}$=g}J=$!=0?null:11>J?rt.f.RGBA.eb:rt.f.kb.y}else J=null;return J};var Lu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function W(sr,Gt){for(var je="",zt=0;zt<4;zt++)je+=String.fromCharCode(sr[Gt++]);return je}function nt(sr,Gt){return(sr[Gt+0]<<0|sr[Gt+1]<<8|sr[Gt+2]<<16)>>>0}function et(sr,Gt){return(sr[Gt+0]<<0|sr[Gt+1]<<8|sr[Gt+2]<<16|sr[Gt+3]<<24)>>>0}new E;var pt=[0],U=[0],kt=[],yt=new E,Nt=C,wt=function(sr,Gt){var je={},zt=0,At=!1,qt=0,Ht=0;if(je.frames=[],!function(ot,Dt,$t,ce){for(var xe=0;xe<ce;xe++)if(ot[Dt+xe]!=$t.charCodeAt(xe))return!0;return!1}(sr,Gt,"RIFF",4)){var qe,ze;for(et(sr,Gt+=4),Gt+=8;Gt<sr.length;){var ar=W(sr,Gt),Ce=et(sr,Gt+=4);Gt+=4;var dr=Ce+(1&Ce);switch(ar){case"VP8 ":case"VP8L":je.frames[zt]===void 0&&(je.frames[zt]={}),(Rt=je.frames[zt]).src_off=At?Ht:Gt-8,Rt.src_size=qt+Ce+8,zt++,At&&(At=!1,qt=0,Ht=0);break;case"VP8X":(Rt=je.header={}).feature_flags=sr[Gt];var Ye=Gt+4;Rt.canvas_width=1+nt(sr,Ye),Ye+=3,Rt.canvas_height=1+nt(sr,Ye),Ye+=3;break;case"ALPH":At=!0,qt=dr+8,Ht=Gt-8;break;case"ANIM":(Rt=je.header).bgcolor=et(sr,Gt),Ye=Gt+4,Rt.loop_count=(qe=sr)[(ze=Ye)+0]<<0|qe[ze+1]<<8,Ye+=2;break;case"ANMF":var yr,Rt;(Rt=je.frames[zt]={}).offset_x=2*nt(sr,Gt),Gt+=3,Rt.offset_y=2*nt(sr,Gt),Gt+=3,Rt.width=1+nt(sr,Gt),Gt+=3,Rt.height=1+nt(sr,Gt),Gt+=3,Rt.duration=nt(sr,Gt),Gt+=3,yr=sr[Gt++],Rt.dispose=1&yr,Rt.blend=yr>>1&1}ar!="ANMF"&&(Gt+=dr)}return je}}(Nt,0);wt.response=Nt,wt.rgbaoutput=!0,wt.dataurl=!1;var Q=wt.header?wt.header:null,oe=wt.frames?wt.frames:null;if(Q){Q.loop_counter=Q.loop_count,pt=[Q.canvas_height],U=[Q.canvas_width];for(var Oe=0;Oe<oe.length&&oe[Oe].blend!=0;Oe++);}var Ge=oe[0],rr=yt.WebPDecodeRGBA(Nt,Ge.src_off,Ge.src_size,U,pt);Ge.rgba=rr,Ge.imgwidth=U[0],Ge.imgheight=pt[0];for(var Re=0;Re<U[0]*pt[0]*4;Re++)kt[Re]=rr[Re];return this.width=U,this.height=pt,this.data=kt,this}(function(C){var p=function(){return typeof it.b=="function"},v=function(U,kt,yt,Nt){var wt=4,Q=S;switch(Nt){case C.image_compression.FAST:wt=1,Q=w;break;case C.image_compression.MEDIUM:wt=6,Q=D;break;case C.image_compression.SLOW:wt=9,Q=E}U=y(U,kt,yt,Q);var oe=Object(it.b)(U,{level:wt});return C.__addimage__.arrayBufferToBinaryString(oe)},y=function(U,kt,yt,Nt){for(var wt,Q,oe,Oe=U.length/kt,Ge=new Uint8Array(U.length+Oe),rr=nt(),Re=0;Re<Oe;Re+=1){if(oe=Re*kt,wt=U.subarray(oe,oe+kt),Nt)Ge.set(Nt(wt,yt,Q),oe+Re);else{for(var sr,Gt=rr.length,je=[];sr<Gt;sr+=1)je[sr]=rr[sr](wt,yt,Q);var zt=et(je.concat());Ge.set(je[zt],oe+Re)}Q=wt}return Ge},_=function(U){var kt=Array.apply([],U);return kt.unshift(0),kt},w=function(U,kt){var yt,Nt=[],wt=U.length;Nt[0]=1;for(var Q=0;Q<wt;Q+=1)yt=U[Q-kt]||0,Nt[Q+1]=U[Q]-yt+256&255;return Nt},S=function(U,kt,yt){var Nt,wt=[],Q=U.length;wt[0]=2;for(var oe=0;oe<Q;oe+=1)Nt=yt&&yt[oe]||0,wt[oe+1]=U[oe]-Nt+256&255;return wt},D=function(U,kt,yt){var Nt,wt,Q=[],oe=U.length;Q[0]=3;for(var Oe=0;Oe<oe;Oe+=1)Nt=U[Oe-kt]||0,wt=yt&&yt[Oe]||0,Q[Oe+1]=U[Oe]+256-(Nt+wt>>>1)&255;return Q},E=function(U,kt,yt){var Nt,wt,Q,oe,Oe=[],Ge=U.length;Oe[0]=4;for(var rr=0;rr<Ge;rr+=1)Nt=U[rr-kt]||0,wt=yt&&yt[rr]||0,Q=yt&&yt[rr-kt]||0,oe=W(Nt,wt,Q),Oe[rr+1]=U[rr]-oe+256&255;return Oe},W=function(U,kt,yt){if(U===kt&&kt===yt)return U;var Nt=Math.abs(kt-yt),wt=Math.abs(U-yt),Q=Math.abs(U+kt-yt-yt);return Nt<=wt&&Nt<=Q?U:wt<=Q?kt:yt},nt=function(){return[_,w,S,D,E]},et=function(U){var kt=U.map(function(yt){return yt.reduce(function(Nt,wt){return Nt+Math.abs(wt)},0)});return kt.indexOf(Math.min.apply(null,kt))};C.processPNG=function(pt,U,kt,yt){var Nt,wt,Q,oe,Oe,Ge,rr,Re,sr,Gt,je,zt,At,qt,Ht,qe=this.decode.FLATE_DECODE,ze="";if(this.__addimage__.isArrayBuffer(pt)&&(pt=new Uint8Array(pt)),this.__addimage__.isArrayBufferView(pt)){if(pt=(Q=new Pt(pt)).imgData,wt=Q.bits,Nt=Q.colorSpace,Oe=Q.colors,[4,6].indexOf(Q.colorType)!==-1){if(Q.bits===8){sr=(Re=Q.pixelBitlength==32?new Uint32Array(Q.decodePixels().buffer):Q.pixelBitlength==16?new Uint16Array(Q.decodePixels().buffer):new Uint8Array(Q.decodePixels().buffer)).length,je=new Uint8Array(sr*Q.colors),Gt=new Uint8Array(sr);var ar,Ce=Q.pixelBitlength-Q.bits;for(qt=0,Ht=0;qt<sr;qt++){for(At=Re[qt],ar=0;ar<Ce;)je[Ht++]=At>>>ar&255,ar+=Q.bits;Gt[qt]=At>>>ar&255}}if(Q.bits===16){sr=(Re=new Uint32Array(Q.decodePixels().buffer)).length,je=new Uint8Array(sr*(32/Q.pixelBitlength)*Q.colors),Gt=new Uint8Array(sr*(32/Q.pixelBitlength)),zt=Q.colors>1,qt=0,Ht=0;for(var dr=0;qt<sr;)At=Re[qt++],je[Ht++]=At>>>0&255,zt&&(je[Ht++]=At>>>16&255,At=Re[qt++],je[Ht++]=At>>>0&255),Gt[dr++]=At>>>16&255;wt=8}yt!==C.image_compression.NONE&&p()?(pt=v(je,Q.width*Q.colors,Q.colors,yt),rr=v(Gt,Q.width,1,yt)):(pt=je,rr=Gt,qe=void 0)}if(Q.colorType===3&&(Nt=this.color_spaces.INDEXED,Ge=Q.palette,Q.transparency.indexed)){var Ye=Q.transparency.indexed,yr=0;for(qt=0,sr=Ye.length;qt<sr;++qt)yr+=Ye[qt];if((yr/=255)===sr-1&&Ye.indexOf(0)!==-1)oe=[Ye.indexOf(0)];else if(yr!==sr){for(Re=Q.decodePixels(),Gt=new Uint8Array(Re.length),qt=0,sr=Re.length;qt<sr;qt++)Gt[qt]=Ye[Re[qt]];rr=v(Gt,Q.width,1)}}var Rt=function(ot){var Dt;switch(ot){case C.image_compression.FAST:Dt=11;break;case C.image_compression.MEDIUM:Dt=13;break;case C.image_compression.SLOW:Dt=14;break;default:Dt=12}return Dt}(yt);return qe===this.decode.FLATE_DECODE&&(ze="/Predictor "+Rt+" "),ze+="/Colors "+Oe+" /BitsPerComponent "+wt+" /Columns "+Q.width,(this.__addimage__.isArrayBuffer(pt)||this.__addimage__.isArrayBufferView(pt))&&(pt=this.__addimage__.arrayBufferToBinaryString(pt)),(rr&&this.__addimage__.isArrayBuffer(rr)||this.__addimage__.isArrayBufferView(rr))&&(rr=this.__addimage__.arrayBufferToBinaryString(rr)),{alias:kt,data:pt,index:U,filter:qe,decodeParameters:ze,transparency:oe,palette:Ge,sMask:rr,predictor:Rt,width:Q.width,height:Q.height,bitsPerComponent:wt,colorSpace:Nt}}}})(ht.API),function(C){C.processGIF89A=function(p,v,y,_){var w=new Ot(p),S=w.width,D=w.height,E=[];w.decodeAndBlitFrameRGBA(0,E);var W={data:E,width:S,height:D},nt=new _e(100).encode(W,100);return C.processJPEG.call(this,nt,v,y,_)},C.processGIF87A=C.processGIF89A}(ht.API),jt.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var C=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(C);for(var p=0;p<C;p++){var v=this.datav.getUint8(this.pos++,!0),y=this.datav.getUint8(this.pos++,!0),_=this.datav.getUint8(this.pos++,!0),w=this.datav.getUint8(this.pos++,!0);this.palette[p]={red:_,green:y,blue:v,quad:w}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},jt.prototype.parseBGR=function(){this.pos=this.offset;try{var C="bit"+this.bitPP,p=this.width*this.height*4;this.data=new Uint8Array(p),this[C]()}catch(v){Tt.log("bit decode error:"+v)}},jt.prototype.bit1=function(){var C,p=Math.ceil(this.width/8),v=p%4;for(C=this.height-1;C>=0;C--){for(var y=this.bottom_up?C:this.height-1-C,_=0;_<p;_++)for(var w=this.datav.getUint8(this.pos++,!0),S=y*this.width*4+8*_*4,D=0;D<8&&8*_+D<this.width;D++){var E=this.palette[w>>7-D&1];this.data[S+4*D]=E.blue,this.data[S+4*D+1]=E.green,this.data[S+4*D+2]=E.red,this.data[S+4*D+3]=255}v!==0&&(this.pos+=4-v)}},jt.prototype.bit4=function(){for(var C=Math.ceil(this.width/2),p=C%4,v=this.height-1;v>=0;v--){for(var y=this.bottom_up?v:this.height-1-v,_=0;_<C;_++){var w=this.datav.getUint8(this.pos++,!0),S=y*this.width*4+2*_*4,D=w>>4,E=15&w,W=this.palette[D];if(this.data[S]=W.blue,this.data[S+1]=W.green,this.data[S+2]=W.red,this.data[S+3]=255,2*_+1>=this.width)break;W=this.palette[E],this.data[S+4]=W.blue,this.data[S+4+1]=W.green,this.data[S+4+2]=W.red,this.data[S+4+3]=255}p!==0&&(this.pos+=4-p)}},jt.prototype.bit8=function(){for(var C=this.width%4,p=this.height-1;p>=0;p--){for(var v=this.bottom_up?p:this.height-1-p,y=0;y<this.width;y++){var _=this.datav.getUint8(this.pos++,!0),w=v*this.width*4+4*y;if(_<this.palette.length){var S=this.palette[_];this.data[w]=S.red,this.data[w+1]=S.green,this.data[w+2]=S.blue,this.data[w+3]=255}else this.data[w]=255,this.data[w+1]=255,this.data[w+2]=255,this.data[w+3]=255}C!==0&&(this.pos+=4-C)}},jt.prototype.bit15=function(){for(var C=this.width%3,p=parseInt("11111",2),v=this.height-1;v>=0;v--){for(var y=this.bottom_up?v:this.height-1-v,_=0;_<this.width;_++){var w=this.datav.getUint16(this.pos,!0);this.pos+=2;var S=(w&p)/p*255|0,D=(w>>5&p)/p*255|0,E=(w>>10&p)/p*255|0,W=w>>15?255:0,nt=y*this.width*4+4*_;this.data[nt]=E,this.data[nt+1]=D,this.data[nt+2]=S,this.data[nt+3]=W}this.pos+=C}},jt.prototype.bit16=function(){for(var C=this.width%3,p=parseInt("11111",2),v=parseInt("111111",2),y=this.height-1;y>=0;y--){for(var _=this.bottom_up?y:this.height-1-y,w=0;w<this.width;w++){var S=this.datav.getUint16(this.pos,!0);this.pos+=2;var D=(S&p)/p*255|0,E=(S>>5&v)/v*255|0,W=(S>>11)/p*255|0,nt=_*this.width*4+4*w;this.data[nt]=W,this.data[nt+1]=E,this.data[nt+2]=D,this.data[nt+3]=255}this.pos+=C}},jt.prototype.bit24=function(){for(var C=this.height-1;C>=0;C--){for(var p=this.bottom_up?C:this.height-1-C,v=0;v<this.width;v++){var y=this.datav.getUint8(this.pos++,!0),_=this.datav.getUint8(this.pos++,!0),w=this.datav.getUint8(this.pos++,!0),S=p*this.width*4+4*v;this.data[S]=w,this.data[S+1]=_,this.data[S+2]=y,this.data[S+3]=255}this.pos+=this.width%4}},jt.prototype.bit32=function(){for(var C=this.height-1;C>=0;C--)for(var p=this.bottom_up?C:this.height-1-C,v=0;v<this.width;v++){var y=this.datav.getUint8(this.pos++,!0),_=this.datav.getUint8(this.pos++,!0),w=this.datav.getUint8(this.pos++,!0),S=this.datav.getUint8(this.pos++,!0),D=p*this.width*4+4*v;this.data[D]=w,this.data[D+1]=_,this.data[D+2]=y,this.data[D+3]=S}},jt.prototype.getData=function(){return this.data},function(C){C.processBMP=function(p,v,y,_){var w=new jt(p,!1),S=w.width,D=w.height,E={data:w.getData(),width:S,height:D},W=new _e(100).encode(E,100);return C.processJPEG.call(this,W,v,y,_)}}(ht.API),Te.prototype.getData=function(){return this.data},function(C){C.processWEBP=function(p,v,y,_){var w=new Te(p,!1),S=w.width,D=w.height,E={data:w.getData(),width:S,height:D},W=new _e(100).encode(E,100);return C.processJPEG.call(this,W,v,y,_)}}(ht.API),ht.API.processRGBA=function(C,p,v){for(var y=C.data,_=y.length,w=new Uint8Array(_/4*3),S=new Uint8Array(_/4),D=0,E=0,W=0;W<_;W+=4){var nt=y[W],et=y[W+1],pt=y[W+2],U=y[W+3];w[D++]=nt,w[D++]=et,w[D++]=pt,S[E++]=U}var kt=this.__addimage__.arrayBufferToBinaryString(w);return{alpha:this.__addimage__.arrayBufferToBinaryString(S),data:kt,index:p,alias:v,colorSpace:"DeviceRGB",bitsPerComponent:8,width:C.width,height:C.height}},ht.API.setLanguage=function(C){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[C]!==void 0&&(this.internal.languageSettings.languageCode=C,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},M=ht.API,x=M.getCharWidthsArray=function(C,p){var v,y,_=(p=p||{}).font||this.internal.getFont(),w=p.fontSize||this.internal.getFontSize(),S=p.charSpace||this.internal.getCharSpace(),D=p.widths?p.widths:_.metadata.Unicode.widths,E=D.fof?D.fof:1,W=p.kerning?p.kerning:_.metadata.Unicode.kerning,nt=W.fof?W.fof:1,et=p.doKerning!==!1,pt=0,U=C.length,kt=0,yt=D[0]||E,Nt=[];for(v=0;v<U;v++)y=C.charCodeAt(v),typeof _.metadata.widthOfString=="function"?Nt.push((_.metadata.widthOfGlyph(_.metadata.characterToGlyph(y))+S*(1e3/w)||0)/1e3):(pt=et&&Ut()(W[y])==="object"&&!isNaN(parseInt(W[y][kt],10))?W[y][kt]/nt:0,Nt.push((D[y]||yt)/E+pt)),kt=y;return Nt},j=M.getStringUnitWidth=function(C,p){var v=(p=p||{}).fontSize||this.internal.getFontSize(),y=p.font||this.internal.getFont(),_=p.charSpace||this.internal.getCharSpace();return M.processArabic&&(C=M.processArabic(C)),typeof y.metadata.widthOfString=="function"?y.metadata.widthOfString(C,v,_)/v:x.apply(this,arguments).reduce(function(w,S){return w+S},0)},q=function(p,v,y,_){for(var w=[],S=0,D=p.length,E=0;S!==D&&E+v[S]<y;)E+=v[S],S++;w.push(p.slice(0,S));var W=S;for(E=0;S!==D;)E+v[S]>_&&(w.push(p.slice(W,S)),E=0,W=S),E+=v[S],S++;return W!==S&&w.push(p.slice(W,S)),w},ct=function(p,v,y){y||(y={});var _,w,S,D,E,W,nt,et=[],pt=[et],U=y.textIndent||0,kt=0,yt=0,Nt=p.split(" "),wt=x.apply(this,[" ",y])[0];if(W=y.lineIndent===-1?Nt[0].length+2:y.lineIndent||0){var Q=Array(W).join(" "),oe=[];Nt.map(function(Ge){(Ge=Ge.split(/\s*\n/)).length>1?oe=oe.concat(Ge.map(function(rr,Re){return(Re&&rr.length?`
`:"")+rr})):oe.push(Ge[0])}),Nt=oe,W=j.apply(this,[Q,y])}for(S=0,D=Nt.length;S<D;S++){var Oe=0;if(_=Nt[S],W&&_[0]==`
`&&(_=_.substr(1),Oe=1),U+kt+(yt=(w=x.apply(this,[_,y])).reduce(function(Ge,rr){return Ge+rr},0))>v||Oe){if(yt>v){for(E=q.apply(this,[_,w,v-(U+kt),v]),et.push(E.shift()),et=[E.pop()];E.length;)pt.push([E.shift()]);yt=w.slice(_.length-(et[0]?et[0].length:0)).reduce(function(Ge,rr){return Ge+rr},0)}else et=[_];pt.push(et),U=yt+W,kt=wt}else et.push(_),U+=kt+yt,kt=wt}return nt=W?function(Ge,rr){return(rr?Q:"")+Ge.join(" ")}:function(Ge){return Ge.join(" ")},pt.map(nt)},M.splitTextToSize=function(C,p,v){var y,_=(v=v||{}).fontSize||this.internal.getFontSize(),w=function(nt){if(nt.widths&&nt.kerning)return{widths:nt.widths,kerning:nt.kerning};var et=this.internal.getFont(nt.fontName,nt.fontStyle);return et.metadata.Unicode?{widths:et.metadata.Unicode.widths||{0:1},kerning:et.metadata.Unicode.kerning||{}}:{font:et.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,v);y=Array.isArray(C)?C:String(C).split(/\r?\n/);var S=1*this.internal.scaleFactor*p/_;w.textIndent=v.textIndent?1*v.textIndent*this.internal.scaleFactor/_:0,w.lineIndent=v.lineIndent;var D,E,W=[];for(D=0,E=y.length;D<E;D++)W=W.concat(ct.apply(this,[y[D],S,w]));return W},function(C){C.__fontmetrics__=C.__fontmetrics__||{};for(var p="klmnopqrstuvwxyz",v={},y={},_=0;_<p.length;_++)v[p[_]]="0123456789abcdef"[_],y["0123456789abcdef"[_]]=p[_];var w=function(pt){return"0x"+parseInt(pt,10).toString(16)},S=C.__fontmetrics__.compress=function(et){var pt,U,kt,yt,Nt=["{"];for(var wt in et){if(pt=et[wt],isNaN(parseInt(wt,10))?U="'"+wt+"'":(wt=parseInt(wt,10),U=(U=w(wt).slice(2)).slice(0,-1)+y[U.slice(-1)]),typeof pt=="number")pt<0?(kt=w(pt).slice(3),yt="-"):(kt=w(pt).slice(2),yt=""),kt=yt+kt.slice(0,-1)+y[kt.slice(-1)];else{if(Ut()(pt)!=="object")throw new Error("Don't know what to do with value type "+Ut()(pt)+".");kt=S(pt)}Nt.push(U+kt)}return Nt.push("}"),Nt.join("")},D=C.__fontmetrics__.uncompress=function(et){if(typeof et!="string")throw new Error("Invalid argument passed to uncompress.");for(var pt,U,kt,yt,Nt={},wt=1,Q=Nt,oe=[],Oe="",Ge="",rr=et.length-1,Re=1;Re<rr;Re+=1)(yt=et[Re])=="'"?pt?(kt=pt.join(""),pt=void 0):pt=[]:pt?pt.push(yt):yt=="{"?(oe.push([Q,kt]),Q={},kt=void 0):yt=="}"?((U=oe.pop())[0][U[1]]=Q,kt=void 0,Q=U[0]):yt=="-"?wt=-1:kt===void 0?v.hasOwnProperty(yt)?(Oe+=v[yt],kt=parseInt(Oe,16)*wt,wt=1,Oe=""):Oe+=yt:v.hasOwnProperty(yt)?(Ge+=v[yt],Q[kt]=parseInt(Ge,16)*wt,wt=1,kt=void 0,Ge=""):Ge+=yt;return Nt},E={codePages:["WinAnsiEncoding"],WinAnsiEncoding:D("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},W={Unicode:{Courier:E,"Courier-Bold":E,"Courier-BoldOblique":E,"Courier-Oblique":E,Helvetica:E,"Helvetica-Bold":E,"Helvetica-BoldOblique":E,"Helvetica-Oblique":E,"Times-Roman":E,"Times-Bold":E,"Times-BoldItalic":E,"Times-Italic":E}},nt={Unicode:{"Courier-Oblique":D("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":D("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":D("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:D("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":D("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":D("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:D("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:D("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":D("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:D("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":D("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":D("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":D("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":D("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};C.events.push(["addFont",function(et){var pt=et.font,U=nt.Unicode[pt.postScriptName];U&&(pt.metadata.Unicode={},pt.metadata.Unicode.widths=U.widths,pt.metadata.Unicode.kerning=U.kerning);var kt=W.Unicode[pt.postScriptName];kt&&(pt.metadata.Unicode.encoding=kt,pt.encoding=kt.codePages[0])}])}(ht.API),function(C){var p=function(y){for(var _=y.length,w=new Uint8Array(_),S=0;S<_;S++)w[S]=y.charCodeAt(S);return w};C.API.events.push(["addFont",function(v){var y=void 0,_=v.font,w=v.instance;if(!_.isStandardFont){if(w===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+_.postScriptName+"').");if(typeof(y=w.existsFileInVFS(_.postScriptName)===!1?w.loadFile(_.postScriptName):w.getFileFromVFS(_.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+_.postScriptName+"').");(function(S,D){D=/^\x00\x01\x00\x00/.test(D)?p(D):p(h(D)),S.metadata=C.API.TTFFont.open(D),S.metadata.Unicode=S.metadata.Unicode||{encoding:{},kerning:{},widths:[]},S.metadata.glyIdsUsed=[0]})(_,y)}}])}(ht),function(C){function p(){return(Se.canvg?Promise.resolve(Se.canvg):Ae.e(36).then(Ae.bind(null,"DXPr"))).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v})}ht.API.addSvgAsImage=function(v,y,_,w,S,D,E,W){if(isNaN(y)||isNaN(_))throw Tt.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(w)||isNaN(S))throw Tt.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var nt=document.createElement("canvas");nt.width=w,nt.height=S;var et=nt.getContext("2d");et.fillStyle="#fff",et.fillRect(0,0,nt.width,nt.height);var pt={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},U=this;return p().then(function(kt){return kt.fromString(et,v,pt)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(kt){return kt.render(pt)}).then(function(){U.addImage(nt.toDataURL("image/jpeg",1),y,_,w,S,E,W)})}}(),ht.API.putTotalPages=function(C){var p,v=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(p=new RegExp(C,"g"),v=this.internal.getNumberOfPages()):(p=new RegExp(this.pdfEscape16(C,this.internal.getFont()),"g"),v=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var y=1;y<=this.internal.getNumberOfPages();y++)for(var _=0;_<this.internal.pages[y].length;_++)this.internal.pages[y][_]=this.internal.pages[y][_].replace(p,v);return this},ht.API.viewerPreferences=function(C,p){var v;C=C||{},p=p||!1;var y,_,w,S={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},D=Object.keys(S),E=[],W=0,nt=0,et=0;function pt(kt,yt){var Nt,wt=!1;for(Nt=0;Nt<kt.length;Nt+=1)kt[Nt]===yt&&(wt=!0);return wt}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(S)),this.internal.viewerpreferences.isSubscribed=!1),v=this.internal.viewerpreferences.configuration,C==="reset"||p===!0){var U=D.length;for(et=0;et<U;et+=1)v[D[et]].value=v[D[et]].defaultValue,v[D[et]].explicitSet=!1}if(Ut()(C)==="object"){for(_ in C)if(w=C[_],pt(D,_)&&w!==void 0){if(v[_].type==="boolean"&&typeof w=="boolean")v[_].value=w;else if(v[_].type==="name"&&pt(v[_].valueSet,w))v[_].value=w;else if(v[_].type==="integer"&&Number.isInteger(w))v[_].value=w;else if(v[_].type==="array"){for(W=0;W<w.length;W+=1)if(y=!0,w[W].length===1&&typeof w[W][0]=="number")E.push(String(w[W]-1));else if(w[W].length>1){for(nt=0;nt<w[W].length;nt+=1)typeof w[W][nt]!="number"&&(y=!1);y===!0&&E.push([w[W][0]-1,w[W][1]-1].join(" "))}v[_].value="["+E.join(" ")+"]"}else v[_].value=v[_].defaultValue;v[_].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var kt,yt=[];for(kt in v)v[kt].explicitSet===!0&&(v[kt].type==="name"?yt.push("/"+kt+" /"+v[kt].value):yt.push("/"+kt+" "+v[kt].value));yt.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+yt.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=v,this},function(C){var p=function(){var _='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',w=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),S=unescape(encodeURIComponent(_)),D=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),E=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),W=unescape(encodeURIComponent("</x:xmpmeta>")),nt=S.length+D.length+E.length+w.length+W.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+nt+" >>"),this.internal.write("stream"),this.internal.write(w+S+D+E+W),this.internal.write("endstream"),this.internal.write("endobj")},v=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};C.addMetadata=function(y,_){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:y,namespaceuri:_||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",v),this.internal.events.subscribe("postPutResources",p)),this}}(ht.API),function(C){var p=C.API,v=p.pdfEscape16=function(w,S){for(var D,E=S.metadata.Unicode.widths,W=["","0","00","000","0000"],nt=[""],et=0,pt=w.length;et<pt;++et){if(D=S.metadata.characterToGlyph(w.charCodeAt(et)),S.metadata.glyIdsUsed.push(D),S.metadata.toUnicode[D]=w.charCodeAt(et),E.indexOf(D)==-1&&(E.push(D),E.push([parseInt(S.metadata.widthOfGlyph(D),10)])),D=="0")return nt.join("");D=D.toString(16),nt.push(W[4-D.length],D)}return nt.join("")},y=function(S){var D,E,W,nt,et,pt,U;for(et=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,W=[],pt=0,U=(E=Object.keys(S).sort(function(kt,yt){return kt-yt})).length;pt<U;pt++)D=E[pt],W.length>=100&&(et+=`
`+W.length+` beginbfchar
`+W.join(`
`)+`
endbfchar`,W=[]),S[D]!==void 0&&S[D]!==null&&typeof S[D].toString=="function"&&(nt=("0000"+S[D].toString(16)).slice(-4),D=("0000"+(+D).toString(16)).slice(-4),W.push("<"+D+"><"+nt+">"));return W.length&&(et+=`
`+W.length+` beginbfchar
`+W.join(`
`)+`
endbfchar
`),et+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};p.events.push(["putFont",function(w){(function(S){var D=S.font,E=S.out,W=S.newObject,nt=S.putStream;if(D.metadata instanceof C.API.TTFFont&&D.encoding==="Identity-H"){for(var et=D.metadata.Unicode.widths,pt=D.metadata.subset.encode(D.metadata.glyIdsUsed,1),U="",kt=0;kt<pt.length;kt++)U+=String.fromCharCode(pt[kt]);var yt=W();nt({data:U,addLength1:!0,objectId:yt}),E("endobj");var Nt=W();nt({data:y(D.metadata.toUnicode),addLength1:!0,objectId:Nt}),E("endobj");var wt=W();E("<<"),E("/Type /FontDescriptor"),E("/FontName /"+We(D.fontName)),E("/FontFile2 "+yt+" 0 R"),E("/FontBBox "+C.API.PDFObject.convert(D.metadata.bbox)),E("/Flags "+D.metadata.flags),E("/StemV "+D.metadata.stemV),E("/ItalicAngle "+D.metadata.italicAngle),E("/Ascent "+D.metadata.ascender),E("/Descent "+D.metadata.decender),E("/CapHeight "+D.metadata.capHeight),E(">>"),E("endobj");var Q=W();E("<<"),E("/Type /Font"),E("/BaseFont /"+We(D.fontName)),E("/FontDescriptor "+wt+" 0 R"),E("/W "+C.API.PDFObject.convert(et)),E("/CIDToGIDMap /Identity"),E("/DW 1000"),E("/Subtype /CIDFontType2"),E("/CIDSystemInfo"),E("<<"),E("/Supplement 0"),E("/Registry (Adobe)"),E("/Ordering ("+D.encoding+")"),E(">>"),E(">>"),E("endobj"),D.objectNumber=W(),E("<<"),E("/Type /Font"),E("/Subtype /Type0"),E("/ToUnicode "+Nt+" 0 R"),E("/BaseFont /"+We(D.fontName)),E("/Encoding /"+D.encoding),E("/DescendantFonts ["+Q+" 0 R]"),E(">>"),E("endobj"),D.isAlreadyPutted=!0}})(w)}]),p.events.push(["putFont",function(w){(function(S){var D=S.font,E=S.out,W=S.newObject,nt=S.putStream;if(D.metadata instanceof C.API.TTFFont&&D.encoding==="WinAnsiEncoding"){for(var et=D.metadata.rawData,pt="",U=0;U<et.length;U++)pt+=String.fromCharCode(et[U]);var kt=W();nt({data:pt,addLength1:!0,objectId:kt}),E("endobj");var yt=W();nt({data:y(D.metadata.toUnicode),addLength1:!0,objectId:yt}),E("endobj");var Nt=W();E("<<"),E("/Descent "+D.metadata.decender),E("/CapHeight "+D.metadata.capHeight),E("/StemV "+D.metadata.stemV),E("/Type /FontDescriptor"),E("/FontFile2 "+kt+" 0 R"),E("/Flags 96"),E("/FontBBox "+C.API.PDFObject.convert(D.metadata.bbox)),E("/FontName /"+We(D.fontName)),E("/ItalicAngle "+D.metadata.italicAngle),E("/Ascent "+D.metadata.ascender),E(">>"),E("endobj"),D.objectNumber=W();for(var wt=0;wt<D.metadata.hmtx.widths.length;wt++)D.metadata.hmtx.widths[wt]=parseInt(D.metadata.hmtx.widths[wt]*(1e3/D.metadata.head.unitsPerEm));E("<</Subtype/TrueType/Type/Font/ToUnicode "+yt+" 0 R/BaseFont/"+We(D.fontName)+"/FontDescriptor "+Nt+" 0 R/Encoding/"+D.encoding+" /FirstChar 29 /LastChar 255 /Widths "+C.API.PDFObject.convert(D.metadata.hmtx.widths)+">>"),E("endobj"),D.isAlreadyPutted=!0}})(w)}]);var _=function(S){var D,E=S.text||"",W=S.x,nt=S.y,et=S.options||{},pt=S.mutex||{},U=pt.pdfEscape,kt=pt.activeFontKey,yt=pt.fonts,Nt=kt,wt="",Q=0,oe="",Oe=yt[Nt].encoding;if(yt[Nt].encoding!=="Identity-H")return{text:E,x:W,y:nt,options:et,mutex:pt};for(oe=E,Nt=kt,Array.isArray(E)&&(oe=E[0]),Q=0;Q<oe.length;Q+=1)yt[Nt].metadata.hasOwnProperty("cmap")&&(D=yt[Nt].metadata.cmap.unicode.codeMap[oe[Q].charCodeAt(0)]),D||oe[Q].charCodeAt(0)<256&&yt[Nt].metadata.hasOwnProperty("Unicode")?wt+=oe[Q]:wt+="";var Ge="";return parseInt(Nt.slice(1))<14||Oe==="WinAnsiEncoding"?Ge=U(wt,Nt).split("").map(function(rr){return rr.charCodeAt(0).toString(16)}).join(""):Oe==="Identity-H"&&(Ge=v(wt,yt[Nt])),pt.isHex=!0,{text:Ge,x:W,y:nt,options:et,mutex:pt}};p.events.push(["postProcessText",function(w){var S=w.text||"",D=[],E={text:S,x:w.x,y:w.y,options:w.options,mutex:w.mutex};if(Array.isArray(S)){var W=0;for(W=0;W<S.length;W+=1)Array.isArray(S[W])&&S[W].length===3?D.push([_(Object.assign({},E,{text:S[W][0]})).text,S[W][1],S[W][2]]):D.push(_(Object.assign({},E,{text:S[W]})).text);w.text=D}else w.text=_(Object.assign({},E,{text:S})).text}])}(ht),function(C){var p=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};C.existsFileInVFS=function(v){return p.call(this),this.internal.vFS[v]!==void 0},C.addFileToVFS=function(v,y){return p.call(this),this.internal.vFS[v]=y,this},C.getFileFromVFS=function(v){return p.call(this),this.internal.vFS[v]!==void 0?this.internal.vFS[v]:null}}(ht.API),function(C){C.__bidiEngine__=C.prototype.__bidiEngine__=function(y){var _,w,S,D,E,W,nt,et=p,pt=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],U=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],kt={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},yt={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Nt=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],wt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),Q=!1,oe=0;this.__bidiEngine__={};var Oe=function(At){var qt=At.charCodeAt(),Ht=qt>>8,qe=yt[Ht];return qe!==void 0?et[256*qe+(255&qt)]:Ht===252||Ht===253?"AL":wt.test(Ht)?"L":Ht===8?"R":"N"},Ge=function(At){for(var qt,Ht=0;Ht<At.length;Ht++){if((qt=Oe(At.charAt(Ht)))==="L")return!1;if(qt==="R")return!0}return!1},rr=function(At,qt,Ht,qe){var ze,ar,Ce,dr,Ye=qt[qe];switch(Ye){case"L":case"R":Q=!1;break;case"N":case"AN":break;case"EN":Q&&(Ye="AN");break;case"AL":Q=!0,Ye="R";break;case"WS":Ye="N";break;case"CS":qe<1||qe+1>=qt.length||(ze=Ht[qe-1])!=="EN"&&ze!=="AN"||(ar=qt[qe+1])!=="EN"&&ar!=="AN"?Ye="N":Q&&(ar="AN"),Ye=ar===ze?ar:"N";break;case"ES":Ye=(ze=qe>0?Ht[qe-1]:"B")==="EN"&&qe+1<qt.length&&qt[qe+1]==="EN"?"EN":"N";break;case"ET":if(qe>0&&Ht[qe-1]==="EN"){Ye="EN";break}if(Q){Ye="N";break}for(Ce=qe+1,dr=qt.length;Ce<dr&&qt[Ce]==="ET";)Ce++;Ye=Ce<dr&&qt[Ce]==="EN"?"EN":"N";break;case"NSM":if(S&&!D){for(dr=qt.length,Ce=qe+1;Ce<dr&&qt[Ce]==="NSM";)Ce++;if(Ce<dr){var yr=At[qe],Rt=yr>=1425&&yr<=2303||yr===64286;if(ze=qt[Ce],Rt&&(ze==="R"||ze==="AL")){Ye="R";break}}}Ye=qe<1||(ze=qt[qe-1])==="B"?"N":Ht[qe-1];break;case"B":Q=!1,_=!0,Ye=oe;break;case"S":w=!0,Ye="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":Q=!1;break;case"BN":Ye="N"}return Ye},Re=function(At,qt,Ht){var qe=At.split("");return Ht&&sr(qe,Ht,{hiLevel:oe}),qe.reverse(),qt&&qt.reverse(),qe.join("")},sr=function(At,qt,Ht){var qe,ze,ar,Ce,dr,Ye=-1,yr=At.length,Rt=0,ot=[],Dt=oe?U:pt,$t=[];for(Q=!1,_=!1,w=!1,ze=0;ze<yr;ze++)$t[ze]=Oe(At[ze]);for(ar=0;ar<yr;ar++){if(dr=Rt,ot[ar]=rr(At,$t,ot,ar),qe=240&(Rt=Dt[dr][kt[ot[ar]]]),Rt&=15,qt[ar]=Ce=Dt[Rt][5],qe>0)if(qe===16){for(ze=Ye;ze<ar;ze++)qt[ze]=1;Ye=-1}else Ye=-1;if(Dt[Rt][6])Ye===-1&&(Ye=ar);else if(Ye>-1){for(ze=Ye;ze<ar;ze++)qt[ze]=Ce;Ye=-1}$t[ar]==="B"&&(qt[ar]=0),Ht.hiLevel|=Ce}w&&function(ce,xe,Ve){for(var Me=0;Me<Ve;Me++)if(ce[Me]==="S"){xe[Me]=oe;for(var Be=Me-1;Be>=0&&ce[Be]==="WS";Be--)xe[Be]=oe}}($t,qt,yr)},Gt=function(At,qt,Ht,qe,ze){if(!(ze.hiLevel<At)){if(At===1&&oe===1&&!_)return qt.reverse(),void(Ht&&Ht.reverse());for(var ar,Ce,dr,Ye,yr=qt.length,Rt=0;Rt<yr;){if(qe[Rt]>=At){for(dr=Rt+1;dr<yr&&qe[dr]>=At;)dr++;for(Ye=Rt,Ce=dr-1;Ye<Ce;Ye++,Ce--)ar=qt[Ye],qt[Ye]=qt[Ce],qt[Ce]=ar,Ht&&(ar=Ht[Ye],Ht[Ye]=Ht[Ce],Ht[Ce]=ar);Rt=dr}Rt++}}},je=function(At,qt,Ht){var qe=At.split(""),ze={hiLevel:oe};return Ht||(Ht=[]),sr(qe,Ht,ze),function(ar,Ce,dr){if(dr.hiLevel!==0&&nt)for(var Ye,yr=0;yr<ar.length;yr++)Ce[yr]===1&&(Ye=Nt.indexOf(ar[yr]))>=0&&(ar[yr]=Nt[Ye+1])}(qe,Ht,ze),Gt(2,qe,qt,Ht,ze),Gt(1,qe,qt,Ht,ze),qe.join("")};return this.__bidiEngine__.doBidiReorder=function(zt,At,qt){if(function(qe,ze){if(ze)for(var ar=0;ar<qe.length;ar++)ze[ar]=ar;D===void 0&&(D=Ge(qe)),W===void 0&&(W=Ge(qe))}(zt,At),S||!E||W)if(S&&E&&D^W)oe=D?1:0,zt=Re(zt,At,qt);else if(!S&&E&&W)oe=D?1:0,zt=je(zt,At,qt),zt=Re(zt,At);else if(!S||D||E||W){if(S&&!E&&D^W)zt=Re(zt,At),D?(oe=0,zt=je(zt,At,qt)):(oe=1,zt=je(zt,At,qt),zt=Re(zt,At));else if(S&&D&&!E&&W)oe=1,zt=je(zt,At,qt),zt=Re(zt,At);else if(!S&&!E&&D^W){var Ht=nt;D?(oe=1,zt=je(zt,At,qt),oe=0,nt=!1,zt=je(zt,At,qt),nt=Ht):(oe=0,zt=je(zt,At,qt),zt=Re(zt,At),oe=1,nt=!1,zt=je(zt,At,qt),nt=Ht,zt=Re(zt,At))}}else oe=0,zt=je(zt,At,qt);else oe=D?1:0,zt=je(zt,At,qt);return zt},this.__bidiEngine__.setOptions=function(zt){zt&&(S=zt.isInputVisual,E=zt.isOutputVisual,D=zt.isInputRtl,W=zt.isOutputRtl,nt=zt.isSymmetricSwapping)},this.__bidiEngine__.setOptions(y),this.__bidiEngine__};var p=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],v=new C.__bidiEngine__({isInputVisual:!0});C.API.events.push(["postProcessText",function(y){var _=y.text,w=(y.x,y.y,y.options||{}),S=(y.mutex,w.lang,[]);if(w.isInputVisual=typeof w.isInputVisual!="boolean"||w.isInputVisual,v.setOptions(w),Object.prototype.toString.call(_)==="[object Array]"){var D=0;for(S=[],D=0;D<_.length;D+=1)Object.prototype.toString.call(_[D])==="[object Array]"?S.push([v.doBidiReorder(_[D][0]),_[D][1],_[D][2]]):S.push([v.doBidiReorder(_[D])]);y.text=S}else y.text=v.doBidiReorder(_);v.setOptions({isInputVisual:!0})}])}(ht),ht.API.TTFFont=function(){function C(p){var v;if(this.rawData=p,v=this.contents=new St(p),this.contents.pos=4,v.readString(4)==="ttcf")throw new Error("TTCF not supported.");v.pos=0,this.parse(),this.subset=new Pi(this),this.registerTTF()}return C.open=function(p){return new C(p)},C.prototype.parse=function(){return this.directory=new H(this.contents),this.head=new Ft(this),this.name=new nr(this),this.cmap=new ye(this),this.toUnicode={},this.hhea=new De(this),this.maxp=new ti(this),this.hmtx=new Kr(this),this.post=new Ee(this),this.os2=new Ie(this),this.loca=new Hi(this),this.glyf=new mi(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},C.prototype.registerTTF=function(){var p,v,y,_,w;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var S,D,E,W;for(W=[],S=0,D=(E=this.bbox).length;S<D;S++)p=E[S],W.push(Math.round(p*this.scaleFactor));return W}.call(this),this.stemV=0,this.post.exists?(y=255&(_=this.post.italic_angle),(32768&(v=_>>16))!=0&&(v=-(1+(65535^v))),this.italicAngle=+(v+"."+y)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(w=this.familyClass)===1||w===2||w===3||w===4||w===5||w===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},C.prototype.characterToGlyph=function(p){var v;return((v=this.cmap.unicode)!=null?v.codeMap[p]:void 0)||0},C.prototype.widthOfGlyph=function(p){var v;return v=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(p).advance*v},C.prototype.widthOfString=function(p,v,y){var _,w,S,D;for(S=0,w=0,D=(p=""+p).length;0<=D?w<D:w>D;w=0<=D?++w:--w)_=p.charCodeAt(w),S+=this.widthOfGlyph(this.characterToGlyph(_))+y*(1e3/v)||0;return S*(v/1e3)},C.prototype.lineHeight=function(p,v){var y;return v==null&&(v=!1),y=v?this.lineGap:0,(this.ascender+y-this.decender)/1e3*p},C}();var Ir,St=function(){function C(p){this.data=p!=null?p:[],this.pos=0,this.length=this.data.length}return C.prototype.readByte=function(){return this.data[this.pos++]},C.prototype.writeByte=function(p){return this.data[this.pos++]=p},C.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},C.prototype.writeUInt32=function(p){return this.writeByte(p>>>24&255),this.writeByte(p>>16&255),this.writeByte(p>>8&255),this.writeByte(255&p)},C.prototype.readInt32=function(){var p;return(p=this.readUInt32())>=2147483648?p-4294967296:p},C.prototype.writeInt32=function(p){return p<0&&(p+=4294967296),this.writeUInt32(p)},C.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},C.prototype.writeUInt16=function(p){return this.writeByte(p>>8&255),this.writeByte(255&p)},C.prototype.readInt16=function(){var p;return(p=this.readUInt16())>=32768?p-65536:p},C.prototype.writeInt16=function(p){return p<0&&(p+=65536),this.writeUInt16(p)},C.prototype.readString=function(p){var v,y;for(y=[],v=0;0<=p?v<p:v>p;v=0<=p?++v:--v)y[v]=String.fromCharCode(this.readByte());return y.join("")},C.prototype.writeString=function(p){var v,y,_;for(_=[],v=0,y=p.length;0<=y?v<y:v>y;v=0<=y?++v:--v)_.push(this.writeByte(p.charCodeAt(v)));return _},C.prototype.readShort=function(){return this.readInt16()},C.prototype.writeShort=function(p){return this.writeInt16(p)},C.prototype.readLongLong=function(){var p,v,y,_,w,S,D,E;return p=this.readByte(),v=this.readByte(),y=this.readByte(),_=this.readByte(),w=this.readByte(),S=this.readByte(),D=this.readByte(),E=this.readByte(),128&p?-1*(72057594037927940*(255^p)+281474976710656*(255^v)+1099511627776*(255^y)+4294967296*(255^_)+16777216*(255^w)+65536*(255^S)+256*(255^D)+(255^E)+1):72057594037927940*p+281474976710656*v+1099511627776*y+4294967296*_+16777216*w+65536*S+256*D+E},C.prototype.writeLongLong=function(p){var v,y;return v=Math.floor(p/4294967296),y=4294967295&p,this.writeByte(v>>24&255),this.writeByte(v>>16&255),this.writeByte(v>>8&255),this.writeByte(255&v),this.writeByte(y>>24&255),this.writeByte(y>>16&255),this.writeByte(y>>8&255),this.writeByte(255&y)},C.prototype.readInt=function(){return this.readInt32()},C.prototype.writeInt=function(p){return this.writeInt32(p)},C.prototype.read=function(p){var v,y;for(v=[],y=0;0<=p?y<p:y>p;y=0<=p?++y:--y)v.push(this.readByte());return v},C.prototype.write=function(p){var v,y,_,w;for(w=[],y=0,_=p.length;y<_;y++)v=p[y],w.push(this.writeByte(v));return w},C}(),H=function(){var C;function p(v){var y,_,w;for(this.scalarType=v.readInt(),this.tableCount=v.readShort(),this.searchRange=v.readShort(),this.entrySelector=v.readShort(),this.rangeShift=v.readShort(),this.tables={},_=0,w=this.tableCount;0<=w?_<w:_>w;_=0<=w?++_:--_)y={tag:v.readString(4),checksum:v.readInt(),offset:v.readInt(),length:v.readInt()},this.tables[y.tag]=y}return p.prototype.encode=function(v){var y,_,w,S,D,E,W,nt,et,pt,U,kt,yt;for(yt in U=Object.keys(v).length,E=Math.log(2),et=16*Math.floor(Math.log(U)/E),S=Math.floor(et/E),nt=16*U-et,(_=new St).writeInt(this.scalarType),_.writeShort(U),_.writeShort(et),_.writeShort(S),_.writeShort(nt),w=16*U,W=_.pos+w,D=null,kt=[],v)for(pt=v[yt],_.writeString(yt),_.writeInt(C(pt)),_.writeInt(W),_.writeInt(pt.length),kt=kt.concat(pt),yt==="head"&&(D=W),W+=pt.length;W%4;)kt.push(0),W++;return _.write(kt),y=2981146554-C(_.data),_.pos=D+8,_.writeUInt32(y),_.data},C=function(y){var _,w,S,D;for(y=Br.call(y);y.length%4;)y.push(0);for(S=new St(y),w=0,_=0,D=y.length;_<D;_=_+=4)w+=S.readUInt32();return 4294967295&w},p}(),G={}.hasOwnProperty,dt=function(p,v){for(var y in v)G.call(v,y)&&(p[y]=v[y]);function _(){this.constructor=p}return _.prototype=v.prototype,p.prototype=new _,p.__super__=v.prototype,p};Ir=function(){function C(p){var v;this.file=p,v=this.file.directory.tables[this.tag],this.exists=!!v,v&&(this.offset=v.offset,this.length=v.length,this.parse(this.file.contents))}return C.prototype.parse=function(){},C.prototype.encode=function(){},C.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},C}();var Ft=function(C){function p(){return p.__super__.constructor.apply(this,arguments)}return dt(p,Ir),p.prototype.tag="head",p.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.revision=v.readInt(),this.checkSumAdjustment=v.readInt(),this.magicNumber=v.readInt(),this.flags=v.readShort(),this.unitsPerEm=v.readShort(),this.created=v.readLongLong(),this.modified=v.readLongLong(),this.xMin=v.readShort(),this.yMin=v.readShort(),this.xMax=v.readShort(),this.yMax=v.readShort(),this.macStyle=v.readShort(),this.lowestRecPPEM=v.readShort(),this.fontDirectionHint=v.readShort(),this.indexToLocFormat=v.readShort(),this.glyphDataFormat=v.readShort()},p.prototype.encode=function(v){var y;return(y=new St).writeInt(this.version),y.writeInt(this.revision),y.writeInt(this.checkSumAdjustment),y.writeInt(this.magicNumber),y.writeShort(this.flags),y.writeShort(this.unitsPerEm),y.writeLongLong(this.created),y.writeLongLong(this.modified),y.writeShort(this.xMin),y.writeShort(this.yMin),y.writeShort(this.xMax),y.writeShort(this.yMax),y.writeShort(this.macStyle),y.writeShort(this.lowestRecPPEM),y.writeShort(this.fontDirectionHint),y.writeShort(v),y.writeShort(this.glyphDataFormat),y.data},p}(),Wt=function(){function C(p,v){var y,_,w,S,D,E,W,nt,et,pt,U,kt,yt,Nt,wt,Q,oe;switch(this.platformID=p.readUInt16(),this.encodingID=p.readShort(),this.offset=v+p.readInt(),et=p.pos,p.pos=this.offset,this.format=p.readUInt16(),this.length=p.readUInt16(),this.language=p.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(E=0;E<256;++E)this.codeMap[E]=p.readByte();break;case 4:for(U=p.readUInt16(),pt=U/2,p.pos+=6,w=function(){var Oe,Ge;for(Ge=[],E=Oe=0;0<=pt?Oe<pt:Oe>pt;E=0<=pt?++Oe:--Oe)Ge.push(p.readUInt16());return Ge}(),p.pos+=2,yt=function(){var Oe,Ge;for(Ge=[],E=Oe=0;0<=pt?Oe<pt:Oe>pt;E=0<=pt?++Oe:--Oe)Ge.push(p.readUInt16());return Ge}(),W=function(){var Oe,Ge;for(Ge=[],E=Oe=0;0<=pt?Oe<pt:Oe>pt;E=0<=pt?++Oe:--Oe)Ge.push(p.readUInt16());return Ge}(),nt=function(){var Oe,Ge;for(Ge=[],E=Oe=0;0<=pt?Oe<pt:Oe>pt;E=0<=pt?++Oe:--Oe)Ge.push(p.readUInt16());return Ge}(),_=(this.length-p.pos+this.offset)/2,D=function(){var Oe,Ge;for(Ge=[],E=Oe=0;0<=_?Oe<_:Oe>_;E=0<=_?++Oe:--Oe)Ge.push(p.readUInt16());return Ge}(),E=wt=0,oe=w.length;wt<oe;E=++wt)for(Nt=w[E],y=Q=kt=yt[E];kt<=Nt?Q<=Nt:Q>=Nt;y=kt<=Nt?++Q:--Q)nt[E]===0?S=y+W[E]:(S=D[nt[E]/2+(y-kt)-(pt-E)]||0)!==0&&(S+=W[E]),this.codeMap[y]=65535&S}p.pos=et}return C.encode=function(p,v){var y,_,w,S,D,E,W,nt,et,pt,U,kt,yt,Nt,wt,Q,oe,Oe,Ge,rr,Re,sr,Gt,je,zt,At,qt,Ht,qe,ze,ar,Ce,dr,Ye,yr,Rt,ot,Dt,$t,ce,xe,Ve,Me,Be,lr,zr;switch(Ht=new St,S=Object.keys(p).sort(function(xr,Zr){return xr-Zr}),v){case"macroman":for(yt=0,Nt=function(){var xr=[];for(kt=0;kt<256;++kt)xr.push(0);return xr}(),Q={0:0},w={},qe=0,dr=S.length;qe<dr;qe++)Q[Me=p[_=S[qe]]]==null&&(Q[Me]=++yt),w[_]={old:p[_],new:Q[p[_]]},Nt[_]=Q[p[_]];return Ht.writeUInt16(1),Ht.writeUInt16(0),Ht.writeUInt32(12),Ht.writeUInt16(0),Ht.writeUInt16(262),Ht.writeUInt16(0),Ht.write(Nt),{charMap:w,subtable:Ht.data,maxGlyphID:yt+1};case"unicode":for(At=[],et=[],oe=0,Q={},y={},wt=W=null,ze=0,Ye=S.length;ze<Ye;ze++)Q[Ge=p[_=S[ze]]]==null&&(Q[Ge]=++oe),y[_]={old:Ge,new:Q[Ge]},D=Q[Ge]-_,wt!=null&&D===W||(wt&&et.push(wt),At.push(_),W=D),wt=_;for(wt&&et.push(wt),et.push(65535),At.push(65535),je=2*(Gt=At.length),sr=2*Math.pow(Math.log(Gt)/Math.LN2,2),pt=Math.log(sr/2)/Math.LN2,Re=2*Gt-sr,E=[],rr=[],U=[],kt=ar=0,yr=At.length;ar<yr;kt=++ar){if(zt=At[kt],nt=et[kt],zt===65535){E.push(0),rr.push(0);break}if(zt-(qt=y[zt].new)>=32768)for(E.push(0),rr.push(2*(U.length+Gt-kt)),_=Ce=zt;zt<=nt?Ce<=nt:Ce>=nt;_=zt<=nt?++Ce:--Ce)U.push(y[_].new);else E.push(qt-zt),rr.push(0)}for(Ht.writeUInt16(3),Ht.writeUInt16(1),Ht.writeUInt32(12),Ht.writeUInt16(4),Ht.writeUInt16(16+8*Gt+2*U.length),Ht.writeUInt16(0),Ht.writeUInt16(je),Ht.writeUInt16(sr),Ht.writeUInt16(pt),Ht.writeUInt16(Re),xe=0,Rt=et.length;xe<Rt;xe++)_=et[xe],Ht.writeUInt16(_);for(Ht.writeUInt16(0),Ve=0,ot=At.length;Ve<ot;Ve++)_=At[Ve],Ht.writeUInt16(_);for(Be=0,Dt=E.length;Be<Dt;Be++)D=E[Be],Ht.writeUInt16(D);for(lr=0,$t=rr.length;lr<$t;lr++)Oe=rr[lr],Ht.writeUInt16(Oe);for(zr=0,ce=U.length;zr<ce;zr++)yt=U[zr],Ht.writeUInt16(yt);return{charMap:y,subtable:Ht.data,maxGlyphID:oe+1}}},C}(),ye=function(C){function p(){return p.__super__.constructor.apply(this,arguments)}return dt(p,Ir),p.prototype.tag="cmap",p.prototype.parse=function(v){var y,_,w;for(v.pos=this.offset,this.version=v.readUInt16(),w=v.readUInt16(),this.tables=[],this.unicode=null,_=0;0<=w?_<w:_>w;_=0<=w?++_:--_)y=new Wt(v,this.offset),this.tables.push(y),y.isUnicode&&this.unicode==null&&(this.unicode=y);return!0},p.encode=function(v,y){var _,w;return y==null&&(y="macroman"),_=Wt.encode(v,y),(w=new St).writeUInt16(0),w.writeUInt16(1),_.table=w.data.concat(_.subtable),_},p}(),De=function(C){function p(){return p.__super__.constructor.apply(this,arguments)}return dt(p,Ir),p.prototype.tag="hhea",p.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.ascender=v.readShort(),this.decender=v.readShort(),this.lineGap=v.readShort(),this.advanceWidthMax=v.readShort(),this.minLeftSideBearing=v.readShort(),this.minRightSideBearing=v.readShort(),this.xMaxExtent=v.readShort(),this.caretSlopeRise=v.readShort(),this.caretSlopeRun=v.readShort(),this.caretOffset=v.readShort(),v.pos+=8,this.metricDataFormat=v.readShort(),this.numberOfMetrics=v.readUInt16()},p}(),Ie=function(C){function p(){return p.__super__.constructor.apply(this,arguments)}return dt(p,Ir),p.prototype.tag="OS/2",p.prototype.parse=function(v){if(v.pos=this.offset,this.version=v.readUInt16(),this.averageCharWidth=v.readShort(),this.weightClass=v.readUInt16(),this.widthClass=v.readUInt16(),this.type=v.readShort(),this.ySubscriptXSize=v.readShort(),this.ySubscriptYSize=v.readShort(),this.ySubscriptXOffset=v.readShort(),this.ySubscriptYOffset=v.readShort(),this.ySuperscriptXSize=v.readShort(),this.ySuperscriptYSize=v.readShort(),this.ySuperscriptXOffset=v.readShort(),this.ySuperscriptYOffset=v.readShort(),this.yStrikeoutSize=v.readShort(),this.yStrikeoutPosition=v.readShort(),this.familyClass=v.readShort(),this.panose=function(){var y,_;for(_=[],y=0;y<10;++y)_.push(v.readByte());return _}(),this.charRange=function(){var y,_;for(_=[],y=0;y<4;++y)_.push(v.readInt());return _}(),this.vendorID=v.readString(4),this.selection=v.readShort(),this.firstCharIndex=v.readShort(),this.lastCharIndex=v.readShort(),this.version>0&&(this.ascent=v.readShort(),this.descent=v.readShort(),this.lineGap=v.readShort(),this.winAscent=v.readShort(),this.winDescent=v.readShort(),this.codePageRange=function(){var y,_;for(_=[],y=0;y<2;y=++y)_.push(v.readInt());return _}(),this.version>1))return this.xHeight=v.readShort(),this.capHeight=v.readShort(),this.defaultChar=v.readShort(),this.breakChar=v.readShort(),this.maxContext=v.readShort()},p}(),Ee=function(C){function p(){return p.__super__.constructor.apply(this,arguments)}return dt(p,Ir),p.prototype.tag="post",p.prototype.parse=function(v){var y,_,w;switch(v.pos=this.offset,this.format=v.readInt(),this.italicAngle=v.readInt(),this.underlinePosition=v.readShort(),this.underlineThickness=v.readShort(),this.isFixedPitch=v.readInt(),this.minMemType42=v.readInt(),this.maxMemType42=v.readInt(),this.minMemType1=v.readInt(),this.maxMemType1=v.readInt(),this.format){case 65536:break;case 131072:var S;for(_=v.readUInt16(),this.glyphNameIndex=[],S=0;0<=_?S<_:S>_;S=0<=_?++S:--S)this.glyphNameIndex.push(v.readUInt16());for(this.names=[],w=[];v.pos<this.offset+this.length;)y=v.readByte(),w.push(this.names.push(v.readString(y)));return w;case 151552:return _=v.readUInt16(),this.offsets=v.read(_);case 196608:break;case 262144:return this.map=function(){var D,E,W;for(W=[],S=D=0,E=this.file.maxp.numGlyphs;0<=E?D<E:D>E;S=0<=E?++D:--D)W.push(v.readUInt32());return W}.call(this)}},p}(),ur=function(p,v){this.raw=p,this.length=p.length,this.platformID=v.platformID,this.encodingID=v.encodingID,this.languageID=v.languageID},nr=function(C){function p(){return p.__super__.constructor.apply(this,arguments)}return dt(p,Ir),p.prototype.tag="name",p.prototype.parse=function(v){var y,_,w,S,D,E,W,nt,et,pt,U;for(v.pos=this.offset,v.readShort(),y=v.readShort(),E=v.readShort(),_=[],S=0;0<=y?S<y:S>y;S=0<=y?++S:--S)_.push({platformID:v.readShort(),encodingID:v.readShort(),languageID:v.readShort(),nameID:v.readShort(),length:v.readShort(),offset:this.offset+E+v.readShort()});for(W={},S=et=0,pt=_.length;et<pt;S=++et)w=_[S],v.pos=w.offset,nt=v.readString(w.length),D=new ur(nt,w),W[U=w.nameID]==null&&(W[U]=[]),W[w.nameID].push(D);this.strings=W,this.copyright=W[0],this.fontFamily=W[1],this.fontSubfamily=W[2],this.uniqueSubfamily=W[3],this.fontName=W[4],this.version=W[5];try{this.postscriptName=W[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(kt){this.postscriptName=W[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=W[7],this.manufacturer=W[8],this.designer=W[9],this.description=W[10],this.vendorUrl=W[11],this.designerUrl=W[12],this.license=W[13],this.licenseUrl=W[14],this.preferredFamily=W[15],this.preferredSubfamily=W[17],this.compatibleFull=W[18],this.sampleText=W[19]},p}(),ti=function(C){function p(){return p.__super__.constructor.apply(this,arguments)}return dt(p,Ir),p.prototype.tag="maxp",p.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.numGlyphs=v.readUInt16(),this.maxPoints=v.readUInt16(),this.maxContours=v.readUInt16(),this.maxCompositePoints=v.readUInt16(),this.maxComponentContours=v.readUInt16(),this.maxZones=v.readUInt16(),this.maxTwilightPoints=v.readUInt16(),this.maxStorage=v.readUInt16(),this.maxFunctionDefs=v.readUInt16(),this.maxInstructionDefs=v.readUInt16(),this.maxStackElements=v.readUInt16(),this.maxSizeOfInstructions=v.readUInt16(),this.maxComponentElements=v.readUInt16(),this.maxComponentDepth=v.readUInt16()},p}(),Kr=function(C){function p(){return p.__super__.constructor.apply(this,arguments)}return dt(p,Ir),p.prototype.tag="hmtx",p.prototype.parse=function(v){var y,_,w,S,D,E,W;for(v.pos=this.offset,this.metrics=[],y=0,E=this.file.hhea.numberOfMetrics;0<=E?y<E:y>E;y=0<=E?++y:--y)this.metrics.push({advance:v.readUInt16(),lsb:v.readInt16()});for(w=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var nt,et;for(et=[],y=nt=0;0<=w?nt<w:nt>w;y=0<=w?++nt:--nt)et.push(v.readInt16());return et}(),this.widths=function(){var nt,et,pt,U;for(U=[],nt=0,et=(pt=this.metrics).length;nt<et;nt++)S=pt[nt],U.push(S.advance);return U}.call(this),_=this.widths[this.widths.length-1],W=[],y=D=0;0<=w?D<w:D>w;y=0<=w?++D:--D)W.push(this.widths.push(_));return W},p.prototype.forGlyph=function(v){return v in this.metrics?this.metrics[v]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[v-this.metrics.length]}},p}(),Br=[].slice,mi=function(C){function p(){return p.__super__.constructor.apply(this,arguments)}return dt(p,Ir),p.prototype.tag="glyf",p.prototype.parse=function(){return this.cache={}},p.prototype.glyphFor=function(v){var y,_,w,S,D,E,W,nt,et,pt;return v in this.cache?this.cache[v]:(S=this.file.loca,y=this.file.contents,_=S.indexOf(v),(w=S.lengthOf(v))===0?this.cache[v]=null:(y.pos=this.offset+_,D=(E=new St(y.read(w))).readShort(),nt=E.readShort(),pt=E.readShort(),W=E.readShort(),et=E.readShort(),this.cache[v]=D===-1?new di(E,nt,pt,W,et):new Jr(E,D,nt,pt,W,et),this.cache[v]))},p.prototype.encode=function(v,y,_){var w,S,D,E,W;for(D=[],S=[],E=0,W=y.length;E<W;E++)w=v[y[E]],S.push(D.length),w&&(D=D.concat(w.encode(_)));return S.push(D.length),{table:D,offsets:S}},p}(),Jr=function(){function C(p,v,y,_,w,S){this.raw=p,this.numberOfContours=v,this.xMin=y,this.yMin=_,this.xMax=w,this.yMax=S,this.compound=!1}return C.prototype.encode=function(){return this.raw.data},C}(),di=function(){function C(p,v,y,_,w){var S,D;for(this.raw=p,this.xMin=v,this.yMin=y,this.xMax=_,this.yMax=w,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],S=this.raw;D=S.readShort(),this.glyphOffsets.push(S.pos),this.glyphIDs.push(S.readUInt16()),32&D;)S.pos+=1&D?4:2,128&D?S.pos+=8:64&D?S.pos+=4:8&D&&(S.pos+=2)}return C.prototype.encode=function(){var p,v,y;for(v=new St(Br.call(this.raw.data)),p=0,y=this.glyphIDs.length;p<y;++p)v.pos=this.glyphOffsets[p];return v.data},C}(),Hi=function(C){function p(){return p.__super__.constructor.apply(this,arguments)}return dt(p,Ir),p.prototype.tag="loca",p.prototype.parse=function(v){var y,_;return v.pos=this.offset,y=this.file.head.indexToLocFormat,this.offsets=y===0?function(){var w,S;for(S=[],_=0,w=this.length;_<w;_+=2)S.push(2*v.readUInt16());return S}.call(this):function(){var w,S;for(S=[],_=0,w=this.length;_<w;_+=4)S.push(v.readUInt32());return S}.call(this)},p.prototype.indexOf=function(v){return this.offsets[v]},p.prototype.lengthOf=function(v){return this.offsets[v+1]-this.offsets[v]},p.prototype.encode=function(v,y){for(var _=new Uint32Array(this.offsets.length),w=0,S=0,D=0;D<_.length;++D)if(_[D]=w,S<y.length&&y[S]==D){++S,_[D]=w;var E=this.offsets[D],W=this.offsets[D+1]-E;W>0&&(w+=W)}for(var nt=new Array(4*_.length),et=0;et<_.length;++et)nt[4*et+3]=255&_[et],nt[4*et+2]=(65280&_[et])>>8,nt[4*et+1]=(16711680&_[et])>>16,nt[4*et]=(4278190080&_[et])>>24;return nt},p}(),Pi=function(){function C(p){this.font=p,this.subset={},this.unicodes={},this.next=33}return C.prototype.generateCmap=function(){var p,v,y,_,w;for(v in _=this.font.cmap.tables[0].codeMap,p={},w=this.subset)y=w[v],p[v]=_[y];return p},C.prototype.glyphsFor=function(p){var v,y,_,w,S,D,E;for(_={},S=0,D=p.length;S<D;S++)_[w=p[S]]=this.font.glyf.glyphFor(w);for(w in v=[],_)((y=_[w])!=null?y.compound:void 0)&&v.push.apply(v,y.glyphIDs);if(v.length>0)for(w in E=this.glyphsFor(v))y=E[w],_[w]=y;return _},C.prototype.encode=function(p,v){var y,_,w,S,D,E,W,nt,et,pt,U,kt,yt,Nt,wt;for(_ in y=ye.encode(this.generateCmap(),"unicode"),S=this.glyphsFor(p),U={0:0},wt=y.charMap)U[(E=wt[_]).old]=E.new;for(kt in pt=y.maxGlyphID,S)kt in U||(U[kt]=pt++);return nt=function(Q){var oe,Oe;for(oe in Oe={},Q)Oe[Q[oe]]=oe;return Oe}(U),et=Object.keys(nt).sort(function(Q,oe){return Q-oe}),yt=function(){var Q,oe,Oe;for(Oe=[],Q=0,oe=et.length;Q<oe;Q++)D=et[Q],Oe.push(nt[D]);return Oe}(),w=this.font.glyf.encode(S,yt,U),W=this.font.loca.encode(w.offsets,yt),Nt={cmap:this.font.cmap.raw(),glyf:w.table,loca:W,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(v)},this.font.os2.exists&&(Nt["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Nt)},C}();ht.API.PDFObject=function(){var C;function p(){}return C=function(y,_){return(Array(_+1).join("0")+y).slice(-_)},p.convert=function(v){var y,_,w,S;if(Array.isArray(v))return"["+function(){var D,E,W;for(W=[],D=0,E=v.length;D<E;D++)y=v[D],W.push(p.convert(y));return W}().join(" ")+"]";if(typeof v=="string")return"/"+v;if(v!=null?v.isString:void 0)return"("+v+")";if(v instanceof Date)return"(D:"+C(v.getUTCFullYear(),4)+C(v.getUTCMonth(),2)+C(v.getUTCDate(),2)+C(v.getUTCHours(),2)+C(v.getUTCMinutes(),2)+C(v.getUTCSeconds(),2)+"Z)";if({}.toString.call(v)==="[object Object]"){for(_ in w=["<<"],v)S=v[_],w.push("/"+_+" "+p.convert(S));return w.push(">>"),w.join(`
`)}return""+v},p}(),gr.d=ht}).call(this,Ae("IyRk"))},"kVK+":function(bi,gr){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */gr.read=function(Ae,cr,P,Ut,it){var Se,Pe,Tt=it*8-Ut-1,L=(1<<Tt)-1,a=L>>1,f=-7,h=P?it-1:0,l=P?-1:1,i=Ae[cr+h];for(h+=l,Se=i&(1<<-f)-1,i>>=-f,f+=Tt;f>0;Se=Se*256+Ae[cr+h],h+=l,f-=8);for(Pe=Se&(1<<-f)-1,Se>>=-f,f+=Ut;f>0;Pe=Pe*256+Ae[cr+h],h+=l,f-=8);if(Se===0)Se=1-a;else{if(Se===L)return Pe?NaN:(i?-1:1)*Infinity;Pe=Pe+Math.pow(2,Ut),Se=Se-a}return(i?-1:1)*Pe*Math.pow(2,Se-Ut)},gr.write=function(Ae,cr,P,Ut,it,Se){var Pe,Tt,L,a=Se*8-it-1,f=(1<<a)-1,h=f>>1,l=it===23?Math.pow(2,-24)-Math.pow(2,-77):0,i=Ut?0:Se-1,e=Ut?1:-1,r=cr<0||cr===0&&1/cr<0?1:0;for(cr=Math.abs(cr),isNaN(cr)||cr===Infinity?(Tt=isNaN(cr)?1:0,Pe=f):(Pe=Math.floor(Math.log(cr)/Math.LN2),cr*(L=Math.pow(2,-Pe))<1&&(Pe--,L*=2),Pe+h>=1?cr+=l/L:cr+=l*Math.pow(2,1-h),cr*L>=2&&(Pe++,L/=2),Pe+h>=f?(Tt=0,Pe=f):Pe+h>=1?(Tt=(cr*L-1)*Math.pow(2,it),Pe=Pe+h):(Tt=cr*Math.pow(2,h-1)*Math.pow(2,it),Pe=0));it>=8;Ae[P+i]=Tt&255,i+=e,Tt/=256,it-=8);for(Pe=Pe<<it|Tt,a+=it;a>0;Ae[P+i]=Pe&255,i+=e,Pe/=256,a-=8);Ae[P+i-e]|=r*128}},nhC9:function(bi,gr,Ae){"use strict";var cr=Ae("wx14"),P=Ae("q1tI"),Ut=Ae.n(P),it=Ae("Znn+"),Se=Ae("ZTPi"),Pe=Ae("VTBJ"),Tt=Ae("rePB"),L=Ae("U8pU"),a=Ae("ODXe"),f=Ae("GNNt"),h=Ae("wEI+"),l=Ae("Ff2n"),i=Ae("1GLa"),e=Ae("TLLU"),r=Ae("UESt"),n=Ae("6cGi"),u=Ae("YSkC"),o=Ae("TSYQ"),d=Ae.n(o),b=Ae("BGR+"),A=Ae("14J3"),O=Ae("BMrR"),Y=Ae("jCWc"),Z=Ae("kPKH"),mt=Ae("aK+R"),Xt=function(ke){var pe=ke.style,Qt=ke.prefix;return Ut.a.createElement("div",{className:"".concat(Qt,"-loading-content"),style:pe},Ut.a.createElement(O.a,{gutter:8},Ut.a.createElement(Z.a,{span:22},Ut.a.createElement("div",{className:"".concat(Qt,"-loading-block")}))),Ut.a.createElement(O.a,{gutter:8},Ut.a.createElement(Z.a,{span:8},Ut.a.createElement("div",{className:"".concat(Qt,"-loading-block")})),Ut.a.createElement(Z.a,{span:15},Ut.a.createElement("div",{className:"".concat(Qt,"-loading-block")}))),Ut.a.createElement(O.a,{gutter:8},Ut.a.createElement(Z.a,{span:6},Ut.a.createElement("div",{className:"".concat(Qt,"-loading-block")})),Ut.a.createElement(Z.a,{span:18},Ut.a.createElement("div",{className:"".concat(Qt,"-loading-block")}))),Ut.a.createElement(O.a,{gutter:8},Ut.a.createElement(Z.a,{span:13},Ut.a.createElement("div",{className:"".concat(Qt,"-loading-block")})),Ut.a.createElement(Z.a,{span:9},Ut.a.createElement("div",{className:"".concat(Qt,"-loading-block")}))),Ut.a.createElement(O.a,{gutter:8},Ut.a.createElement(Z.a,{span:4},Ut.a.createElement("div",{className:"".concat(Qt,"-loading-block")})),Ut.a.createElement(Z.a,{span:3},Ut.a.createElement("div",{className:"".concat(Qt,"-loading-block")})),Ut.a.createElement(Z.a,{span:16},Ut.a.createElement("div",{className:"".concat(Qt,"-loading-block")}))))},fe=Xt,Ue=Ae("S76h"),or=function(ke){var pe=ke.actions,Qt=ke.prefixCls;return Array.isArray(pe)&&(pe==null?void 0:pe.length)?Ut.a.createElement("ul",{className:"".concat(Qt,"-actions")},pe.map(function(It,re){return Ut.a.createElement("li",{style:{width:"".concat(100/pe.length,"%")},key:"action-".concat(re)},Ut.a.createElement("span",null,It))})):pe?Ut.a.createElement("ul",{className:"".concat(Qt,"-actions")},pe):null},fr=or,tr=Ae("df8c"),We=["className","style","bodyStyle","headStyle","title","subTitle","extra","tip","wrap","layout","loading","gutter","tooltip","split","headerBordered","bordered","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","defaultCollapsed","onCollapse","checked","onChecked","tabs","type"],vr=e.a.useBreakpoint,Or=Ut.a.forwardRef(function(ue,ke){var pe,Qt,It,re=ue.className,he=ue.style,Le=ue.bodyStyle,K=Le===void 0?{}:Le,N=ue.headStyle,R=N===void 0?{}:N,st=ue.title,ft=ue.subTitle,ee=ue.extra,se=ue.tip,br=ue.wrap,Rr=br===void 0?!1:br,_r=ue.layout,Er=ue.loading,Nr=ue.gutter,li=Nr===void 0?0:Nr,Bi=ue.tooltip,Mi=ue.split,rn=ue.headerBordered,nn=rn===void 0?!1:rn,Ti=ue.bordered,fn=Ti===void 0?!1:Ti,Yn=ue.children,Xn=ue.size,ra=ue.actions,$i=ue.ghost,Da=$i===void 0?!1:$i,Fr=ue.hoverable,ia=Fr===void 0?!1:Fr,Ds=ue.direction,$a=ue.collapsed,Is=ue.collapsible,gs=Is===void 0?!1:Is,na=ue.defaultCollapsed,Rs=na===void 0?!1:na,Bs=ue.onCollapse,Ia=ue.checked,aa=ue.onChecked,js=ue.tabs,Ra=ue.type,Vn=Object(l.a)(ue,We),Za=Object(P.useContext)(h.default.ConfigContext),Us=Za.getPrefixCls,zs=vr(),Qa=Object(n.a)(Rs,{value:$a,onChange:Bs}),sa=Object(a.a)(Qa,2),vs=sa[0],lo=sa[1],z=["xxl","xl","lg","md","sm","xs"],M=function(Wt){var ye=[0,0],De=Array.isArray(Wt)?Wt:[Wt,0];return De.forEach(function(Ie,Ee){if(Object(L.a)(Ie)==="object")for(var ur=0;ur<z.length;ur+=1){var nr=z[ur];if(zs[nr]&&Ie[nr]!==void 0){ye[Ee]=Ie[nr];break}}else ye[Ee]=Ie||0}),ye},x=function(Wt,ye){return Wt?ye:{}},j=function(Wt){var ye=Wt;if(Object(L.a)(Wt)==="object")for(var De=0;De<z.length;De+=1){var Ie=z[De];if(zs[Ie]&&Wt[Ie]!==void 0){ye=Wt[Ie];break}}var Ee=x(typeof ye=="string"&&/\d%|\dpx/i.test(ye),{width:ye,flexShrink:0});return{span:ye,colSpanStyle:Ee}},q=Us("pro-card"),ct=M(li),Pt=Object(a.a)(ct,2),Ot=Pt[0],Jt=Pt[1],_e=!1,jt=Ut.a.Children.toArray(Yn),Te=jt.map(function(Ft,Wt){var ye;if(Ft==null||(ye=Ft.type)===null||ye===void 0?void 0:ye.isProCard){var De;_e=!0;var Ie=Ft.props.colSpan,Ee=j(Ie),ur=Ee.span,nr=Ee.colSpanStyle,ti=d()(["".concat(q,"-col")],(De={},Object(Tt.a)(De,"".concat(q,"-split-vertical"),Mi==="vertical"&&Wt!==jt.length-1),Object(Tt.a)(De,"".concat(q,"-split-horizontal"),Mi==="horizontal"&&Wt!==jt.length-1),Object(Tt.a)(De,"".concat(q,"-col-").concat(ur),typeof ur=="number"&&ur>=0&&ur<=24),De));return Ut.a.createElement("div",{style:Object(Pe.a)(Object(Pe.a)(Object(Pe.a)({},nr),x(Ot>0,{paddingRight:Ot/2,paddingLeft:Ot/2})),x(Jt>0,{paddingTop:Jt/2,paddingBottom:Jt/2})),key:"pro-card-col-".concat((Ft==null?void 0:Ft.key)||Wt),className:ti},Ut.a.cloneElement(Ft))}return Ft}),Ir=d()("".concat(q),re,(pe={},Object(Tt.a)(pe,"".concat(q,"-border"),fn),Object(Tt.a)(pe,"".concat(q,"-contain-card"),_e),Object(Tt.a)(pe,"".concat(q,"-loading"),Er),Object(Tt.a)(pe,"".concat(q,"-split"),Mi==="vertical"||Mi==="horizontal"),Object(Tt.a)(pe,"".concat(q,"-ghost"),Da),Object(Tt.a)(pe,"".concat(q,"-hoverable"),ia),Object(Tt.a)(pe,"".concat(q,"-size-").concat(Xn),Xn),Object(Tt.a)(pe,"".concat(q,"-type-").concat(Ra),Ra),Object(Tt.a)(pe,"".concat(q,"-collapse"),vs),Object(Tt.a)(pe,"".concat(q,"-checked"),Ia),pe)),St=d()("".concat(q,"-body"),(Qt={},Object(Tt.a)(Qt,"".concat(q,"-body-center"),_r==="center"),Object(Tt.a)(Qt,"".concat(q,"-body-direction-column"),Mi==="horizontal"||Ds==="column"),Object(Tt.a)(Qt,"".concat(q,"-body-wrap"),Rr&&_e),Qt)),H=Object(Pe.a)(Object(Pe.a)(Object(Pe.a)({},x(Ot>0,{marginRight:-Ot/2,marginLeft:-Ot/2})),x(Jt>0,{marginTop:-Jt/2,marginBottom:-Jt/2})),K),G=Ut.a.isValidElement(Er)?Er:Ut.a.createElement(fe,{prefix:q,style:K.padding===0||K.padding==="0px"?{padding:24}:void 0}),dt=gs&&$a===void 0&&Ut.a.createElement(r.a,{rotate:vs?void 0:90,className:"".concat(q,"-collapsible-icon")});return Ut.a.createElement("div",Object(cr.a)({className:Ir,style:he,ref:ke,onClick:function(Wt){var ye;aa==null||aa(Wt),Vn==null||(ye=Vn.onClick)===null||ye===void 0||ye.call(Vn,Wt)}},Object(b.a)(Vn,["prefixCls","colSpan"])),(st||ee||dt)&&Ut.a.createElement("div",{className:d()("".concat(q,"-header"),(It={},Object(Tt.a)(It,"".concat(q,"-header-border"),nn||Ra==="inner"),Object(Tt.a)(It,"".concat(q,"-header-collapsible"),dt),It)),style:R,onClick:function(){dt&&lo(!vs)}},Ut.a.createElement("div",{className:"".concat(q,"-title")},dt,Ut.a.createElement(u.a,{label:st,tooltip:Bi||se,subTitle:ft})),ee&&Ut.a.createElement("div",{className:"".concat(q,"-extra")},ee)),js?Ut.a.createElement("div",{className:"".concat(q,"-tabs")},Ut.a.createElement(Se.a,Object(cr.a)({onChange:js.onChange},js),Er?G:Yn)):Ut.a.createElement("div",{className:St,style:H},Er?G:Te),Ut.a.createElement(fr,{actions:ra,prefixCls:q}))}),Lr=Or,at=Ae("VzZb"),ve=["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"],ht=function(ke){var pe=ke.key,Qt=ke.tab,It=ke.tabKey,re=ke.disabled,he=ke.destroyInactiveTabPane,Le=ke.children,K=ke.className,N=ke.style,R=ke.cardProps,st=Object(l.a)(ke,ve),ft=Object(P.useContext)(h.default.ConfigContext),ee=ft.getPrefixCls,se=ee("pro-card-tabpane"),br=d()(se,K);return Ut.a.createElement(Se.a.TabPane,Object(cr.a)({key:pe,tabKey:It,tab:Qt,className:br,style:N,disabled:re,destroyInactiveTabPane:he},st),Ut.a.createElement(Lr,R,Le))},Et=ht,te=Ae("u1OI"),_t=function(ke){var pe=Object(P.useContext)(h.default.ConfigContext),Qt=pe.getPrefixCls,It=Qt("pro-card-divider"),re=ke.className,he=ke.style,Le=he===void 0?{}:he,K=ke.type,N=d()(It,re,Object(Tt.a)({},"".concat(It,"-").concat(K),K));return Ut.a.createElement("div",{className:N,style:Le})},xt=_t,Ct=function(ke){return Ut.a.createElement(Lr,Object(cr.a)({bodyStyle:{padding:0}},ke))},vt=Lr;vt.isProCard=!0,vt.Divider=xt,vt.TabPane=Et,vt.Group=Ct;var de=vt,ae=gr.a=de},tneF:function(bi,gr,Ae){"use strict";var cr=Ae("sRBo"),P=Ae("kaz8"),Ut=Ae("wx14"),it=Ae("VTBJ"),Se=Ae("Ff2n"),Pe=Ae("q1tI"),Tt=Ae.n(Pe),L=Ae("adzw"),a=Ae("uX+g"),f=Ae("WFLz"),h=["options","fieldProps","proFieldProps","valueEnum"],l=Tt.a.forwardRef(function(n,u){var o=n.options,d=n.fieldProps,b=n.proFieldProps,A=n.valueEnum,O=Object(Se.a)(n,h);return Tt.a.createElement(L.a,Object(Ut.a)({ref:u,valueType:"checkbox",mode:"edit",valueEnum:Object(a.a)(A,void 0),fieldProps:Object(it.a)({options:o},d),proFieldProps:b},O))}),i=Tt.a.forwardRef(function(n,u){var o=n.fieldProps,d=n.children;return Tt.a.createElement(P.a,Object(Ut.a)({ref:u},o),d)}),e=Object(f.a)(i,{valuePropName:"checked"}),r=e;r.Group=l,gr.a=r},u1OI:function(bi,gr,Ae){},vHD6:function(bi,gr,Ae){"use strict";var cr=Ae("4hEd"),P={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},Ut=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,it=/[\s,]+/;bi.exports=function(Pe){var Tt=new cr,L,a;return Pe.split(Ut).forEach(function(f){if(!!f.length){if(typeof P[f]!="undefined"){L=f;return}switch(a=f.split(it).map(function(h){return+h||0}),L){case"matrix":a.length===6&&Tt.matrix(a);return;case"scale":a.length===1?Tt.scale(a[0],a[0]):a.length===2&&Tt.scale(a[0],a[1]);return;case"rotate":a.length===1?Tt.rotate(a[0],0,0):a.length===3&&Tt.rotate(a[0],a[1],a[2]);return;case"translate":a.length===1?Tt.translate(a[0],0):a.length===2&&Tt.translate(a[0],a[1]);return;case"skewX":a.length===1&&Tt.skewX(a[0]);return;case"skewY":a.length===1&&Tt.skewY(a[0]);return}}}),Tt}},"yj/a":function(bi,gr,Ae){"use strict";var cr=Ae("wx14"),P=Ae("VTBJ"),Ut=Ae("Ff2n"),it=Ae("q1tI"),Se=Ae.n(it),Pe=Ae("adzw"),Tt=Ae("uX+g"),L=Ae("lS/g"),a=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],f=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],h=Se.a.forwardRef(function(n,u){var o=n.fieldProps,d=n.children,b=n.params,A=n.proFieldProps,O=n.mode,Y=n.valueEnum,Z=n.request,mt=n.showSearch,Xt=n.options,fe=Object(Ut.a)(n,a),Ue=Object(it.useContext)(L.a);return Se.a.createElement(Pe.a,Object(cr.a)({mode:"edit",valueEnum:Object(Tt.a)(Y),request:Z,params:b,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(P.a)({options:Xt,mode:O,showSearch:mt,getPopupContainer:Ue.getPopupContainer},o),ref:u,proFieldProps:A},fe),d)}),l=Se.a.forwardRef(function(n,u){var o=n.fieldProps,d=n.children,b=n.params,A=n.proFieldProps,O=n.mode,Y=n.valueEnum,Z=n.request,mt=n.options,Xt=Object(Ut.a)(n,f),fe=Object(P.a)({options:mt,mode:O||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},o),Ue=Object(it.useContext)(L.a);return Se.a.createElement(Pe.a,Object(cr.a)({mode:"edit",valueEnum:Object(Tt.a)(Y),request:Z,params:b,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(P.a)({getPopupContainer:Ue.getPopupContainer},fe),ref:u,proFieldProps:A},Xt),d)}),i=h,e=l,r=i;r.SearchSelect=e,r.displayName="ProFormComponent",gr.a=r}}]);
