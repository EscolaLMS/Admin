(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{"4f6N":function(L,o,e){"use strict";var _=e("2qtc"),i=e("kLXV"),j=e("9kvl"),n=e("nKUr"),O=e.n(n),C=function(P){var b=P.visible,D=P.setManage;return Object(n.jsx)(i.a,{width:"600px",title:Object(n.jsx)(j.a,{id:"course.validate_edit.header",defaultMessage:"course.validate_edit.header"}),visible:b,onOk:function(){return D({showModal:!1,disableEdit:!1,clicked:!0})},onCancel:function(){return D({showModal:!1,disableEdit:!0,clicked:!1})},okText:"OK",cancelText:"Cancel",children:Object(n.jsx)("p",{children:Object(n.jsx)(j.a,{id:"course.validate_edit.content",defaultMessage:"course.validate_edit.content"})})})};o.a=C},EmS3:function(L,o,e){"use strict";e.d(o,"e",function(){return C}),e.d(o,"a",function(){return P}),e.d(o,"c",function(){return D}),e.d(o,"d",function(){return u}),e.d(o,"b",function(){return B});var _=e("k1fw"),i=e("9og8"),j=e("WmNS"),n=e.n(j),O=e("9kvl");function C(l,r){return M.apply(this,arguments)}function M(){return M=Object(i.a)(n.a.mark(function l(r,c){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(O.f)("/api/admin/webinars",Object(_.a)({method:"GET",useCache:!1,params:Object(_.a)(Object(_.a)({},r),{},{per_page:r&&r.pageSize,page:r&&r.current})},c||{})));case 1:case"end":return t.stop()}},l)})),M.apply(this,arguments)}function P(l,r){return b.apply(this,arguments)}function b(){return b=Object(i.a)(n.a.mark(function l(r,c){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(O.f)("/api/admin/webinars",Object(_.a)({method:"POST",headers:{"Content-Type":"application/json"},data:r},c||{})));case 1:case"end":return t.stop()}},l)})),b.apply(this,arguments)}function D(l,r){return T.apply(this,arguments)}function T(){return T=Object(i.a)(n.a.mark(function l(r,c){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(O.f)("/api/admin/webinars/".concat(r),Object(_.a)({method:"GET",useCache:!1},c||{})));case 1:case"end":return t.stop()}},l)})),T.apply(this,arguments)}function u(l,r,c){return d.apply(this,arguments)}function d(){return d=Object(i.a)(n.a.mark(function l(r,c,R){return n.a.wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.abrupt("return",Object(O.f)("/api/admin/webinars/".concat(r,"?method=PUT"),Object(_.a)({method:"POST",headers:{"Content-Type":"application/json"},data:c},R||{})));case 1:case"end":return I.stop()}},l)})),d.apply(this,arguments)}function B(l,r){return A.apply(this,arguments)}function A(){return A=Object(i.a)(n.a.mark(function l(r,c){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(O.f)("/api/admin/webinars/".concat(r),Object(_.a)({method:"DELETE",useCache:!1},c||{})));case 1:case"end":return t.stop()}},l)})),A.apply(this,arguments)}},VlvL:function(L,o,e){"use strict";var _=e("9kvl"),i=e("Ty5D"),j=e("nKUr"),n=e.n(j),O=function(M){var P=M.show,b=Object(_.i)();return Object(j.jsx)(i.a,{when:P,message:b.formatMessage({id:"unsaved_changes"})})};o.a=O},eFHa:function(L,o,e){"use strict";e.d(o,"a",function(){return O});var _=e("tJVT"),i=e("q1tI"),j=e.n(i),n=e("HZtn");function O(){var C=Object(i.useState)({showModal:!1,disableEdit:!1,clicked:!1}),M=Object(_.a)(C,2),P=M[0],b=M[1],D=function(u){(u==null?void 0:u.status)==="published"&&u!==null&&u!==void 0&&u.active_from&&Object(n.a)(new Date(u==null?void 0:u.active_from))&&!P.clicked?b({showModal:!1,disableEdit:!0,clicked:!1}):b({showModal:!1,disableEdit:!1,clicked:!1})};return{manageCourseEdit:P,setManageCourseEdit:b,validateCourseEdit:D}}},q34N:function(L,o,e){"use strict";var _=e("tJVT"),i=e("0eZe"),j=e("q1tI"),n=e.n(j),O=e("nKUr"),C=e.n(O),M=function(b){var D=b.productable,T=Object(j.useState)("attributes"),u=Object(_.a)(T,2),d=u[0],B=u[1];return Object(O.jsx)(i.a,{productable:D,tab:d,onTabChange:function(l){return B(l)}})};o.a=M},tixb:function(L,o,e){"use strict";e.r(o);var _=e("14J3"),i=e("BMrR"),j=e("jCWc"),n=e("kPKH"),O=e("fOrg"),C=e("+KLJ"),M=e("+L6B"),P=e("2/Rp"),b=e("T2oS"),D=e("W9HT"),T=e("miYZ"),u=e("tsqr"),d=e("k1fw"),B=e("9og8"),A=e("tJVT"),l=e("WmNS"),r=e.n(l),c=e("q1tI"),R=e.n(c),t=e("VMEa"),I=e("Qurx"),ae=e("FJDo"),te=e("yj/a"),Z=e("CnWR"),se=e("BiO0"),y=e("nhC9"),z=e("hd5d"),ne=e("tMyG"),s=e("9kvl"),re=e("Ty5D"),w=e("EmS3"),ie=e("0WSk"),_e=e("Gn8c"),de=e("c+yx"),oe=e("rnuo"),le=e("VlvL"),Q=e("viv7"),ce=e("eFHa"),ue=e("4f6N"),me=e("q34N"),Oe=e("5RzD"),a=e("nKUr"),De=e.n(a),be=function(){var p=Object(s.i)(),X=Object(re.h)(),m=X.webinar,Y=X.tab,W=Y===void 0?"attributes":Y,K=m==="new",Ee=Object(c.useState)(!1),k=Object(A.a)(Ee,2),je=k[0],F=k[1],Me=Object(c.useState)(),q=Object(A.a)(Me,2),g=q[0],N=q[1],V=Object(ce.a)(),E=V.manageCourseEdit,G=V.setManageCourseEdit,ee=V.validateCourseEdit,Pe=t.a.useForm(),ve=Object(A.a)(Pe,1),fe=ve[0],he=Object(c.useCallback)(Object(B.a)(r.a.mark(function x(){var v;return r.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Object(w.c)(Number(m));case 2:v=f.sent,v.success&&(W==="attributes"&&ee(v.data),N(Object(d.a)({},v.data)));case 4:case"end":return f.stop()}},x)})),[m]);Object(c.useEffect)(function(){if(K){N({name:"new"});return}he()},[m]);var $=Object(c.useMemo)(function(){return{onFinish:function(){var x=Object(B.a)(r.a.mark(function S(f){var J,U;return r.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!E.disableEdit){h.next=3;break}return G({showModal:!0,disableEdit:!0,clicked:!1}),h.abrupt("return");case 3:if(J=Object(d.a)(Object(d.a)(Object(d.a)(Object(d.a)({},f),W==="attributes"&&{active_from:new Date(String(f.active_from))}),W==="attributes"&&{active_to:new Date(String(f.active_to))}),{},{image_url:g&&g.image_url,image_path:g&&g.image_url&&Object(de.e)(g.image_url),trainers:f.trainers&&f.trainers.map(function(H){return typeof H=="object"?H.id:H})}),!K){h.next=11;break}return h.next=7,Object(w.a)(J);case 7:U=h.sent,U.success&&(F(!1),s.d.push("/webinars/".concat(U.data.id))),h.next=15;break;case 11:return h.next=13,Object(w.d)(Number(m),J);case 13:U=h.sent,U.success&&(F(!1),ee(U.data),s.d.push("/webinars/".concat(U.data.id,"/").concat(W)));case 15:u.default.success(U.message);case 16:case"end":return h.stop()}},S)}));function v(S){return x.apply(this,arguments)}return v}(),initialValues:g}},[g,m,W,E]);return g?Object(a.jsx)(ne.a,{title:K?Object(a.jsx)(s.a,{id:"menu.webinars"}):Object(a.jsx)(s.a,{id:"webinar.edit"}),header:{breadcrumb:{routes:[{path:"webinars",breadcrumbName:p.formatMessage({id:"menu.Webinars"})},{path:String(m),breadcrumbName:p.formatMessage({id:"form"})},{path:"/",breadcrumbName:p.formatMessage({id:String(g.name)})},{path:String(W),breadcrumbName:p.formatMessage({id:String(W)})}]}},children:Object(a.jsxs)(y.a,{tabs:{type:"card",activeKey:W,onChange:function(v){return s.d.push("/webinars/".concat(m,"/").concat(v))}},children:[Object(a.jsxs)(y.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"attributes"}),children:[E.disableEdit&&Object(a.jsx)(C.a,{closable:!0,style:{marginBottom:"20px"},type:"warning",message:Object(a.jsx)(s.a,{id:"course_edit_warning_message",defaultMessage:"course_edit_warning_message"}),action:Object(a.jsx)(P.a,{onClick:function(){return G({showModal:!0,disableEdit:!0,clicked:!0})},type:"primary",children:Object(a.jsx)(s.a,{id:"questionnaire.submit",defaultMessage:"questionnaire.submit"})})}),Object(a.jsx)(le.a,{show:je}),Object(a.jsx)(ue.a,{visible:E.showModal,setManage:G}),Object(a.jsxs)(t.a,Object(d.a)(Object(d.a)({},$),{},{form:fe,onValuesChange:function(){F(!0)},children:[Object(a.jsxs)(t.a.Group,{children:[Object(a.jsx)(I.a,{width:"md",name:"name",label:Object(a.jsx)(s.a,{id:"name"}),tooltip:Object(a.jsx)(s.a,{id:"name"}),placeholder:p.formatMessage({id:"name",defaultMessage:"name"}),required:!0,disabled:E.disableEdit}),Object(a.jsx)(ae.a,{width:"md",name:"base_price",label:Object(a.jsx)(s.a,{id:"base_price"}),tooltip:Object(a.jsx)(s.a,{id:"base_price_tooltip"}),placeholder:p.formatMessage({id:"base_price",defaultMessage:"base_price"}),min:0,max:9999,fieldProps:{step:1},disabled:E.disableEdit}),Object(a.jsx)(I.a,{width:"sm",name:"duration",label:Object(a.jsx)(s.a,{id:"duration"}),tooltip:Object(a.jsx)(s.a,{id:"duration"}),placeholder:p.formatMessage({id:"duration",defaultMessage:"duration"}),disabled:E.disableEdit}),Object(a.jsx)(te.a,{name:"status",width:"xs",label:Object(a.jsx)(s.a,{id:"status"}),valueEnum:Q.a,initialValue:Q.a.draft,placeholder:p.formatMessage({id:"status"}),rules:[{required:!0,message:Object(a.jsx)(s.a,{id:"select"})}],disabled:E.disableEdit})]}),Object(a.jsxs)(t.a.Group,{children:[Object(a.jsx)(Z.a,{width:"sm",name:"active_from",label:Object(a.jsx)(s.a,{id:"active_from"}),tooltip:Object(a.jsx)(s.a,{id:"active_from"}),placeholder:p.formatMessage({id:"active_from",defaultMessage:"active_from"}),disabled:E.disableEdit}),Object(a.jsx)(Z.a,{width:"sm",name:"active_to",label:Object(a.jsx)(s.a,{id:"active_to"}),tooltip:Object(a.jsx)(s.a,{id:"active_to"}),placeholder:p.formatMessage({id:"active_to",defaultMessage:"active_to"}),disabled:E.disableEdit}),Object(a.jsx)(t.a.Item,{name:"trainers",label:Object(a.jsx)(s.a,{id:"tutor"}),valuePropName:"value",children:Object(a.jsx)(ie.a,{multiple:!0,role:"tutor"})})]}),Object(a.jsx)(t.a.Group,{children:Object(a.jsx)(se.a,{width:"lg",name:"short_desc",label:Object(a.jsx)(s.a,{id:"short_description"}),tooltip:Object(a.jsx)(s.a,{id:"short_description"})})}),Object(a.jsx)(t.a.Group,{children:Object(a.jsx)(t.a.Item,{name:"agenda",label:Object(a.jsx)(s.a,{id:"program"}),tooltip:Object(a.jsx)(s.a,{id:"program"}),valuePropName:"value",children:Object(a.jsx)(z.a,{directory:"webinars/".concat(m,"/wysiwyg")})})}),Object(a.jsx)(t.a.Group,{children:Object(a.jsx)(t.a.Item,{name:"description",label:Object(a.jsx)(s.a,{id:"description"}),tooltip:Object(a.jsx)(s.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(a.jsx)(z.a,{directory:"webinars/".concat(m,"/wysiwyg")})})})]}))]},"attributes")," ",!K&&Object(a.jsx)(y.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"prices"}),disabled:E.disableEdit,children:m&&Object(a.jsx)(me.a,{productable:{class_type:"App\\Models\\Webinar",class_id:m,name:String(g.name)}})},"prices"),!K&&Object(a.jsx)(y.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"media"}),disabled:E.disableEdit,children:Object(a.jsx)(t.a,Object(d.a)(Object(d.a)({},$),{},{children:Object(a.jsx)(_e.a,{title:"image",action:"/api/admin/webinars/".concat(m),src_name:"image_url",form_name:"image",getUploadedSrcField:function(v){return v.file.response.data.image_url},setPath:function(v){return N(function(S){return Object(d.a)(Object(d.a)({},S),v)})}})}))},"media"),!K&&Object(a.jsx)(y.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"tags"}),disabled:E.disableEdit,children:Object(a.jsx)(i.a,{children:Object(a.jsx)(n.a,{span:12,children:Object(a.jsx)(t.a,Object(d.a)(Object(d.a)({},$),{},{children:Object(a.jsx)(t.a.Item,{label:Object(a.jsx)(s.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(a.jsx)(oe.a,{})})}))})})},"tags")," ",!K&&Object(a.jsx)(y.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"user_submission"}),disabled:E.disableEdit,children:Object(a.jsx)(i.a,{children:Object(a.jsx)(n.a,{span:12,children:m&&Object(a.jsx)(Oe.a,{id:Number(m),type:"App\\Models\\Webinar"})})})},"user_submission")]})}):Object(a.jsx)(D.a,{})};o.default=be},viv7:function(L,o,e){"use strict";e.d(o,"a",function(){return _});var _;(function(i){i.draft="draft",i.published="published",i.archived="archived"})(_||(_={}))}}]);
