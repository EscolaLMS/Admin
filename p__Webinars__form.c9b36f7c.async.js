(window.webpackJsonp=window.webpackJsonp||[]).push([[50],{"4f6N":function(J,g,e){"use strict";var u=e("2qtc"),E=e("kLXV"),j=e("9kvl"),l=e("nKUr"),S=e.n(l),h=function(n){var v=n.visible,m=n.setManage;return Object(l.jsx)(E.a,{width:"600px",title:Object(l.jsx)(j.a,{id:"course.validate_edit.header",defaultMessage:"course.validate_edit.header"}),visible:v,onOk:function(){return m({showModal:!1,disableEdit:!1,clicked:!0})},onCancel:function(){return m({showModal:!1,disableEdit:!0,clicked:!1})},okText:"OK",cancelText:"Cancel",children:Object(l.jsx)("p",{children:Object(l.jsx)(j.a,{id:"course.validate_edit.content",defaultMessage:"course.validate_edit.content"})})})};g.a=h},CiXh:function(J,g,e){"use strict";var u=e("2qtc"),E=e("kLXV"),j=e("9kvl"),l=e("nKUr"),S=e.n(l),h=function(n){var v=n.open,m=n.onOk,f=n.onCancel,M=n.title,p=n.content,t=n.okText,U=n.loading;return Object(l.jsx)(E.a,{width:"600px",title:M!=null?M:Object(l.jsx)(j.a,{id:"confirmModal.title"}),open:v,onOk:m,onCancel:f,okText:t!=null?t:Object(l.jsx)(j.a,{id:"save"}),cancelText:Object(l.jsx)(j.a,{id:"cancel"}),confirmLoading:U,children:p!=null?p:Object(l.jsx)("p",{children:Object(l.jsx)(j.a,{id:"confirmModal.content"})})})};g.a=h},eFHa:function(J,g,e){"use strict";e.d(g,"a",function(){return y});var u=e("k1fw"),E=e("tJVT"),j=e("q1tI"),l=e("/Tr7"),S=e("jIYg");function h(n){return Object(S.a)(1,arguments),Object(l.a)(n).getTime()<Date.now()}function y(){var n=Object(j.useState)({showModal:!1,disableEdit:!1,clicked:!1}),v=Object(E.a)(n,2),m=v[0],f=v[1],M=function(t){(t==null?void 0:t.status)==="published"&&t!==null&&t!==void 0&&t.active_from&&h(new Date(t==null?void 0:t.active_from))&&!m.clicked?f(Object(u.a)(Object(u.a)({},m),{},{showModal:!1,disableEdit:!0,clicked:!1})):f(Object(u.a)(Object(u.a)({},m),{},{showModal:!1,disableEdit:!1,clicked:!1}))};return{manageCourseEdit:m,setManageCourseEdit:f,validateCourseEdit:M}}},q34N:function(J,g,e){"use strict";var u=e("tJVT"),E=e("0eZe"),j=e("q1tI"),l=e.n(j),S=e("nKUr"),h=e.n(S),y=function(v){var m=v.productable,f=v.type,M=f===void 0?"card":f,p=Object(j.useState)("attributes"),t=Object(u.a)(p,2),U=t[0],A=t[1];return Object(S.jsx)(E.a,{productable:m,tab:U,onTabChange:function(L){return A(L)},type:M})};g.a=y},tixb:function(J,g,e){"use strict";e.r(g);var u=e("14J3"),E=e("BMrR"),j=e("jCWc"),l=e("kPKH"),S=e("fOrg"),h=e("+KLJ"),y=e("+L6B"),n=e("2/Rp"),v=e("T2oS"),m=e("W9HT"),f=e("miYZ"),M=e("tsqr"),p=e("qLMh"),t=e("k1fw"),U=e("9og8"),A=e("tJVT"),r=e("q1tI"),L=e.n(r),b=e("VMEa"),V=e("Qurx"),$=e("yj/a"),N=e("VTBJ"),X=e("Ff2n"),a=e("nKUr"),H=e("lS/g"),z=e("adzw"),Y=["fieldProps","proFieldProps"],G="dateTime",Z=L.a.forwardRef(function(C,O){var Q=C.fieldProps,d=C.proFieldProps,k=Object(X.a)(C,Y),F=Object(r.useContext)(H.b);return Object(a.jsx)(z.a,Object(N.a)({ref:O,fieldProps:Object(N.a)({getPopupContainer:F.getPopupContainer},Q),valueType:G,proFieldProps:d,filedConfig:{valueType:G,customLightMode:!0}},k))}),ie=Z,ce=e("BiO0"),K=e("nhC9"),oe=e("hd5d"),ue=e("tMyG"),s=e("9kvl"),je=e("Ty5D"),ee=e("EmS3"),be=e("0WSk"),ne=e("Gn8c"),ae=e("c+yx"),me=e("rnuo"),Oe=e("eFHa"),ve=e("4f6N"),fe=e("q34N"),pe=e("5RzD"),ge=e("CiXh"),x;(function(C){C.ATTRIBUTES="attributes",C.PRODUCT="product",C.MEDIA="media",C.TAGS="tags",C.BRANDING="branding",C.USER_SUBMISSION="user_submission"})(x||(x={}));var Ee=function(){var O=Object(s.l)(),Q=Object(je.l)(),d=Q.webinar,k=Q.tab,F=k===void 0?x.ATTRIBUTES:k,R=d==="new",he=Object(r.useState)(),de=Object(A.a)(he,2),i=de[0],_=de[1],te=Object(Oe.a)(),o=te.manageCourseEdit,W=te.setManageCourseEdit,le=te.validateCourseEdit,Pe=b.a.useForm(),Me=Object(A.a)(Pe,1),se=Me[0],xe=Object(r.useCallback)(Object(U.a)(Object(p.a)().mark(function P(){var c,D;return Object(p.a)().wrap(function(I){for(;;)switch(I.prev=I.next){case 0:return I.next=2,Object(ee.d)(Number(d));case 2:c=I.sent,c.success&&(F===x.ATTRIBUTES&&le(c.data),_(Object(t.a)(Object(t.a)({},c.data),{},{tags:(D=c.data.tags)===null||D===void 0?void 0:D.map(ae.l)})));case 4:case"end":return I.stop()}},P)})),[d]);Object(r.useEffect)(function(){if(R){_({name:"new"});return}xe()},[d]);var q=Object(r.useMemo)(function(){return{onValuesChange:function(){W(Object(t.a)(Object(t.a)({},o),{},{valuesChanged:!0}))},onFinish:function(){var P=Object(U.a)(Object(p.a)().mark(function D(w){var I,B;return Object(p.a)().wrap(function(T){for(;;)switch(T.prev=T.next){case 0:if(!o.disableEdit){T.next=3;break}return W({showModal:!0,disableEdit:!0,clicked:!1}),T.abrupt("return");case 3:if(I=Object(t.a)(Object(t.a)({},w),{},{active_from:new Date(String(w.active_from))||(i==null?void 0:i.active_from)||null,active_to:new Date(String(w.active_to))||(i==null?void 0:i.active_to)||null,image_url:i==null?void 0:i.image_url,image_path:(i==null?void 0:i.image_url)&&Object(ae.k)(i.image_url),logotype_url:i==null?void 0:i.logotype_url,logotype_path:(i==null?void 0:i.logotype_path)&&Object(ae.k)(i.logotype_path),trainers:w.trainers&&w.trainers.map(function(re){return typeof re=="object"?re.id:re})}),!R){T.next=11;break}return T.next=7,Object(ee.a)(I);case 7:B=T.sent,B.success&&s.f.push("/courses/webinars/".concat(B.data.id)),T.next=15;break;case 11:return T.next=13,Object(ee.e)(Number(d),I);case 13:B=T.sent,B.success&&(le(B.data),s.f.push("/courses/webinars/".concat(B.data.id,"/").concat(F)));case 15:M.b.success(B.message),W(Object(t.a)(Object(t.a)({},o),{},{showConfirmModal:!1,loading:!1,valuesChanged:!1}));case 17:case"end":return T.stop()}},D)}));function c(D){return P.apply(this,arguments)}return c}(),initialValues:i,form:se}},[i,d,F,o,se]);return i?Object(a.jsxs)(ue.a,{title:R?Object(a.jsx)(s.a,{id:"menu.Webinars"}):Object(a.jsx)(s.a,{id:"webinar.edit"}),header:{breadcrumb:{routes:[{path:"webinars",breadcrumbName:O.formatMessage({id:"menu.Webinars"})},{path:String(d),breadcrumbName:O.formatMessage({id:"form"})},{path:"/",breadcrumbName:O.formatMessage({id:String(i.name)})},{path:String(F),breadcrumbName:O.formatMessage({id:String(F)})}]}},children:[Object(a.jsxs)(K.a,{tabs:{type:"card",activeKey:F,onChange:function(c){c!==x.ATTRIBUTES&&o.valuesChanged?W(Object(t.a)(Object(t.a)({},o),{},{showConfirmModal:!0})):s.f.push("/courses/webinars/".concat(d,"/").concat(c))}},children:[Object(a.jsxs)(K.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"attributes"}),children:[o.disableEdit&&Object(a.jsx)(h.a,{closable:!0,style:{marginBottom:"20px"},type:"warning",message:Object(a.jsx)(s.a,{id:"course_edit_warning_message",defaultMessage:"course_edit_warning_message"}),action:Object(a.jsx)(n.a,{onClick:function(){return W({showModal:!0,disableEdit:!0,clicked:!0})},type:"primary",children:Object(a.jsx)(s.a,{id:"questionnaire.submit",defaultMessage:"questionnaire.submit"})})}),Object(a.jsx)(ve.a,{visible:o.showModal,setManage:W}),Object(a.jsxs)(b.a,Object(t.a)(Object(t.a)({},q),{},{children:[Object(a.jsxs)(b.a.Group,{children:[Object(a.jsx)(V.a,{width:"md",name:"name",label:Object(a.jsx)(s.a,{id:"name"}),tooltip:Object(a.jsx)(s.a,{id:"name"}),placeholder:O.formatMessage({id:"name",defaultMessage:"name"}),required:!0,disabled:o.disableEdit}),Object(a.jsx)(V.a,{width:"sm",name:"duration",label:Object(a.jsx)(s.a,{id:"duration_freemode"}),tooltip:Object(a.jsx)(s.a,{id:"duration_freemode_description"}),placeholder:O.formatMessage({id:"duration_freemode",defaultMessage:"duration_freemode"}),disabled:o.disableEdit}),Object(a.jsx)($.a,{name:"status",width:"sm",label:Object(a.jsx)(s.a,{id:"status"}),valueEnum:{draft:O.formatMessage({id:"draft",defaultMessage:"draft"}),published:O.formatMessage({id:"published",defaultMessage:"published"}),archived:O.formatMessage({id:"archived",defaultMessage:"archived"})},initialValue:{draft:O.formatMessage({id:"draft",defaultMessage:"draft"})},placeholder:O.formatMessage({id:"status"}),rules:[{required:!0,message:Object(a.jsx)(s.a,{id:"select"})}],disabled:o.disableEdit})]}),Object(a.jsxs)(b.a.Group,{children:[Object(a.jsx)(ie,{width:"sm",name:"active_from",label:Object(a.jsx)(s.a,{id:"active_from"}),tooltip:Object(a.jsx)(s.a,{id:"active_from"}),placeholder:O.formatMessage({id:"active_from",defaultMessage:"active_from"}),disabled:o.disableEdit}),Object(a.jsx)(ie,{width:"sm",name:"active_to",label:Object(a.jsx)(s.a,{id:"active_to"}),tooltip:Object(a.jsx)(s.a,{id:"active_to"}),placeholder:O.formatMessage({id:"active_to",defaultMessage:"active_to"}),disabled:o.disableEdit}),Object(a.jsx)(b.a.Item,{name:"trainers",label:Object(a.jsx)(s.a,{id:"tutor"}),valuePropName:"value",children:Object(a.jsx)(be.a,{multiple:!0})})]}),Object(a.jsx)(b.a.Group,{children:Object(a.jsx)(ce.a,{name:"short_desc",label:Object(a.jsx)(s.a,{id:"short_description"}),tooltip:Object(a.jsx)(s.a,{id:"short_description"}),width:"lg"})}),Object(a.jsx)(b.a.Item,{name:"agenda",label:Object(a.jsx)(s.a,{id:"program"}),tooltip:Object(a.jsx)(s.a,{id:"program"}),valuePropName:"value",children:Object(a.jsx)(oe.a,{directory:"webinars/".concat(d,"/wysiwyg")})}),Object(a.jsx)(b.a.Item,{name:"description",label:Object(a.jsx)(s.a,{id:"description"}),tooltip:Object(a.jsx)(s.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(a.jsx)(oe.a,{directory:"webinars/".concat(d,"/wysiwyg")})})]}))]},x.ATTRIBUTES)," ",!R&&Object(a.jsx)(K.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"product"}),disabled:o.disableEdit,children:d&&Object(a.jsx)(fe.a,{productable:{class_type:"App\\Models\\Webinar",class_id:d,name:String(i.name),quantity:1}})},x.PRODUCT),!R&&Object(a.jsx)(K.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"media"}),disabled:o.disableEdit,children:Object(a.jsx)(b.a,Object(t.a)(Object(t.a)({},q),{},{children:Object(a.jsx)(ne.a,{folder:"webinar/".concat(d),title:"image",action:"/api/admin/webinars/".concat(d),src_name:"image_url",form_name:"image",getUploadedSrcField:function(c){return c.file.response.data.image_url},setPath:function(c){return _(function(D){return Object(t.a)(Object(t.a)({},D),c)})}})}))},x.MEDIA),!R&&Object(a.jsx)(K.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"tags"}),disabled:o.disableEdit,children:Object(a.jsx)(E.a,{children:Object(a.jsx)(l.a,{span:12,children:Object(a.jsx)(b.a,Object(t.a)(Object(t.a)({},q),{},{children:Object(a.jsx)(b.a.Item,{label:Object(a.jsx)(s.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(a.jsx)(me.a,{})})}))})})},x.TAGS)," ",!R&&Object(a.jsx)(K.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"branding"}),disabled:o.disableEdit,children:Object(a.jsx)(b.a,Object(t.a)(Object(t.a)({},q),{},{children:Object(a.jsx)(ne.a,{folder:"webinar/".concat(d),title:"logotype",action:"/api/admin/webinars/".concat(d),src_name:"logotype_url",form_name:"logotype",getUploadedSrcField:function(c){return c.file.response.data.logotype_url},setPath:function(c){return _(function(D){return Object(t.a)(Object(t.a)({},D),c)})}})}))},x.BRANDING)," ",!R&&Object(a.jsx)(K.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"user_submission"}),disabled:o.disableEdit,children:d&&Object(a.jsx)(pe.a,{id:Number(d),type:"App\\Models\\Webinar"})},x.USER_SUBMISSION)]}),Object(a.jsx)(ge.a,{open:!!o.showConfirmModal,onOk:function(){W(Object(t.a)(Object(t.a)({},o),{},{loading:!0})),se.submit()},onCancel:function(){W(Object(t.a)(Object(t.a)({},o),{},{showConfirmModal:!1}))},loading:!!o.loading})]}):Object(a.jsx)(m.a,{})},Ce=g.default=Ee},"yj/a":function(J,g,e){"use strict";var u=e("VTBJ"),E=e("Ff2n"),j=e("nKUr"),l=e.n(j),S=e("uX+g"),h=e("q1tI"),y=e.n(h),n=e("lS/g"),v=e("adzw"),m=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],f=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],M=y.a.forwardRef(function(r,L){var b=r.fieldProps,V=r.children,$=r.params,N=r.proFieldProps,X=r.mode,a=r.valueEnum,H=r.request,z=r.showSearch,Y=r.options,G=Object(E.a)(r,m),Z=Object(h.useContext)(n.b);return Object(j.jsx)(v.a,Object(u.a)(Object(u.a)({valueEnum:Object(S.a)(a),request:H,params:$,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(u.a)({options:Y,mode:X,showSearch:z,getPopupContainer:Z.getPopupContainer},b),ref:L,proFieldProps:N},G),{},{children:V}))}),p=y.a.forwardRef(function(r,L){var b=r.fieldProps,V=r.children,$=r.params,N=r.proFieldProps,X=r.mode,a=r.valueEnum,H=r.request,z=r.options,Y=Object(E.a)(r,f),G=Object(u.a)({options:z,mode:X||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},b),Z=Object(h.useContext)(n.b);return Object(j.jsx)(v.a,Object(u.a)(Object(u.a)({valueEnum:Object(S.a)(a),request:H,params:$,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(u.a)({getPopupContainer:Z.getPopupContainer},G),ref:L,proFieldProps:N},Y),{},{children:V}))}),t=M,U=p,A=t;A.SearchSelect=U,A.displayName="ProFormComponent",g.a=A}}]);

//# sourceMappingURL=p__Webinars__form.c9b36f7c.async.js.map