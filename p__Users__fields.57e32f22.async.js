(window.webpackJsonp=window.webpackJsonp||[]).push([[44],{"0TUn":function(se,g,t){"use strict";t.d(g,"c",function(){return Z}),t.d(g,"a",function(){return U}),t.d(g,"b",function(){return w});var i=t("qLMh"),a=t("k1fw"),A=t("9og8"),o=t("9kvl");function Z(r,c){return D.apply(this,arguments)}function D(){return D=Object(A.a)(Object(i.a)().mark(function r(c,m){return Object(i.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(o.g)("/api/model-fields",Object(a.a)({method:"GET",params:c},m||{})));case 1:case"end":return s.stop()}},r)})),D.apply(this,arguments)}function U(r,c){return u.apply(this,arguments)}function u(){return u=Object(A.a)(Object(i.a)().mark(function r(c,m){return Object(i.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(o.g)("/api/admin/model-fields",Object(a.a)({method:"POST",data:c},m||{})));case 1:case"end":return s.stop()}},r)})),u.apply(this,arguments)}function w(r,c){return v.apply(this,arguments)}function v(){return v=Object(A.a)(Object(i.a)().mark(function r(c,m){return Object(i.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.abrupt("return",Object(o.g)("/api/admin/model-fields",Object(a.a)({method:"DELETE",data:c},m||{})));case 1:case"end":return s.stop()}},r)})),v.apply(this,arguments)}},YDZB:function(se,g,t){"use strict";var i=t("2qtc"),a=t("kLXV"),A=t("7Kak"),o=t("9yH6"),Z=t("+L6B"),D=t("2/Rp"),U=t("tJVT"),u=t("q1tI"),w=t.n(u),v=t("gU/Y"),r=t("9kvl"),c=t("u95b"),m=t.n(c),l=t("nKUr"),s=t.n(l),H=function(K){var X=K.value,_=K.onChange,S=Object(u.useState)(!1),z=Object(U.a)(S,2),k=z[0],W=z[1],I=Object(u.useCallback)(function(){W(!1)},[]),q=Object(u.useState)("code"),L=Object(U.a)(q,2),B=L[0],V=L[1];return Object(l.jsxs)("div",{children:[Object(l.jsx)(D.a,{type:"primary",onClick:function(){return W(!0)},size:"small",children:Object(l.jsx)(r.a,{id:"json_editor"})}),Object(l.jsxs)(a.a,{title:"JSON",visible:k,onOk:I,onCancel:I,children:[Object(l.jsxs)(o.a.Group,{onChange:function(h){return V(h.target.value)},value:B,children:[Object(l.jsx)(o.a,{value:"tree",children:"tree"}),Object(l.jsx)(o.a,{value:"view",children:"view"}),Object(l.jsx)(o.a,{value:"form",children:"form"}),Object(l.jsx)(o.a,{value:"code",children:"code"}),Object(l.jsx)(o.a,{value:"text",children:"text"})]}),Object(l.jsx)(v.a,{mode:B,value:X,onChange:function(h){return _&&_(h)}},B)]})]})};g.a=H},i3PA:function(se,g,t){"use strict";t.r(g);var i=t("q1tI"),a=t("9kvl"),A=t("tMyG"),o=t("nhC9"),Z=t("P2fV"),D=t("NJEC"),U=t("5Dmo"),u=t("3S7+"),w=t("+L6B"),v=t("2/Rp"),r=t("qLMh"),c=t("miYZ"),m=t("tsqr"),l=t("9og8"),s=t("tJVT"),H=t("Qiat"),ne=t("xvlK"),K=t("G3dp"),X=t("/MfK"),_=t("0TUn"),S=t("k1fw"),z=t("y8nQ"),k=t("Vl3Y"),W=t("rmhi"),I=t("Qurx"),q=t("5qq5"),L=t("VMEa"),B=t("FJDo"),V=t("YDZB"),e=t("nKUr"),h;(function(x){x.BOOLEAN="boolean",x.NUMBER="number",x.VARCHAR="varchar",x.TEXT="text",x.JSON="json"})(h||(h={}));var ie=function(M){var E=M.visible,T=M.onVisibleChange,ee=M.onResponse,J=M.class_type,$=M.name,d=$===void 0?"new":$,N=M.fields,G=N===void 0?[]:N,y=Object(a.j)(),Y=k.a.useForm(),F=Object(s.a)(Y,1),R=F[0],Q=Object(i.useCallback)(function(){var j=Object(l.a)(Object(r.a)().mark(function P(C){return Object(r.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,Object(_.a)(Object(S.a)(Object(S.a)({},C),{},{class_type:J,rules:JSON.stringify(C.rules),extra:JSON.stringify(C.extra)})).then(function(f){f.success&&ee(f.data)});case 2:return n.abrupt("return",!1);case 3:case"end":return n.stop()}},P)}));return function(P){return j.apply(this,arguments)}}(),[R]);return Object(i.useEffect)(function(){if(d!=="new"){var j=G.find(function(P){return P.name===d});j&&R.setFieldsValue(j)}else R.resetFields()},[d,R,G]),Object(e.jsxs)(W.a,{form:R,title:y.formatMessage({id:d==="new"?"newModelField":"editModelField",defaultMessage:d==="new"?"new Model Field":"edit Model Field"}),width:"800px",visible:E,onVisibleChange:T,onFinish:Q,children:[Object(e.jsx)(I.a,{required:!0,label:Object(e.jsx)(a.a,{id:"name",defaultMessage:"name"}),tooltip:Object(e.jsx)(a.a,{id:"name_tooltip",defaultMessage:"name_tooltip"}),rules:[{required:!0}],width:"md",name:"name"}),Object(e.jsx)(q.a.Group,{rules:[{required:!0}],name:"type",label:Object(e.jsx)(a.a,{id:"type",defaultMessage:"type"}),tooltip:Object(e.jsx)(a.a,{id:"type_tooltip",defaultMessage:"type_tooltip"}),options:Object.keys(h).map(function(j){return{label:y.formatMessage({id:h[j]}),value:h[j]}})}),Object(e.jsx)(I.a,{width:"md",name:"default",label:Object(e.jsx)(a.a,{id:"default",defaultMessage:"default"}),tooltip:Object(e.jsx)(a.a,{id:"default_tooltip",defaultMessage:"default_tooltip"}),placeholder:y.formatMessage({id:"default"})}),Object(e.jsx)(L.a.Item,{name:"rules",label:Object(e.jsxs)("span",{children:[Object(e.jsx)(a.a,{id:"rules",defaultMessage:"rules"})," ",Object(e.jsx)("a",{rel:"noreferrer",href:"https://laravel.com/docs/9.x/validation#available-validation-rules",target:"_blank",children:Object(e.jsx)(a.a,{id:"available-validation-rules",defaultMessage:"available-validation-rules"})})]}),tooltip:Object(e.jsx)(a.a,{id:"available-validation-rules"}),valuePropName:"value",children:Object(e.jsx)(V.a,{})}),Object(e.jsx)(B.a,{width:"md",name:"visibility",label:Object(e.jsx)(a.a,{id:"visibility"}),tooltip:Object(e.jsx)(a.a,{id:"visibility_tooltip"}),placeholder:y.formatMessage({id:"visibility",defaultMessage:"visibility"}),min:1,max:1024,fieldProps:{step:1},rules:[{validator:function(){var j=Object(l.a)(Object(r.a)().mark(function C(p,n){return Object(r.a)().wrap(function(O){for(;;)switch(O.prev=O.next){case 0:if(!(Math.pow(2,Math.ceil(Math.log2(n)))-n)){O.next=2;break}return O.abrupt("return",Promise.reject(new Error(y.formatMessage({id:"notPowerOfTwo",defaultMessage:"notPowerOfTwo"}))));case 2:return O.abrupt("return",Promise.resolve());case 3:case"end":return O.stop()}},C)}));function P(C,p){return j.apply(this,arguments)}return P}()}]}),Object(e.jsx)(L.a.Item,{name:"extra",label:Object(e.jsx)(a.a,{id:"extra"}),tooltip:Object(e.jsx)(a.a,{id:"extra"}),valuePropName:"value",children:Object(e.jsx)(V.a,{})})]})},oe=ie,de=[{title:Object(e.jsx)(a.a,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!0},{title:Object(e.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",sorter:!0},{title:Object(e.jsx)(a.a,{id:"default",defaultMessage:"default"}),dataIndex:"default",hideInSearch:!0}],ue=function(M){var E=M.class_type,T=Object(i.useRef)(),ee=Object(i.useState)(!1),J=Object(s.a)(ee,2),$=J[0],d=J[1],N=Object(a.j)(),G=Object(i.useState)(!1),y=Object(s.a)(G,2),Y=y[0],F=y[1],R=Object(i.useState)([]),Q=Object(s.a)(R,2),j=Q[0],P=Q[1],C=Object(i.useCallback)(function(){var p=Object(l.a)(Object(r.a)().mark(function n(f){var O,le,te,ae;return Object(r.a)().wrap(function(b){for(;;)switch(b.prev=b.next){case 0:return O=f.class_type_to_remove,le=f.name,d(!0),te=m.b.loading(Object(e.jsx)(a.a,{id:"loading",defaultMessage:"loading"})),b.prev=3,b.next=6,Object(_.b)({class_type:O,name:le}).then(function(re){d(!1),re.success&&m.b.success(re.message)});case 6:return te(),d(!1),(ae=T.current)===null||ae===void 0||ae.reload(),b.abrupt("return",!0);case 12:return b.prev=12,b.t0=b.catch(3),te(),m.b.error(Object(e.jsx)(a.a,{id:"error",defaultMessage:"error"})),d(!1),b.abrupt("return",!1);case 18:case"end":return b.stop()}},n,null,[[3,12]])}));return function(n){return p.apply(this,arguments)}}(),[T]);return Object(e.jsxs)(i.Fragment,{children:[Object(e.jsx)(oe,{fields:j,onResponse:function(){F(!1),T.current&&T.current.reload()},class_type:E,name:Y,visible:typeof Y=="string",onVisibleChange:function(n){return n===!1&&F(!1)}}),Object(e.jsx)(H.a,{search:!1,headerTitle:N.formatMessage({id:"ModelFields",defaultMessage:"Model Fields"}),toolBarRender:function(){return[Object(e.jsxs)(v.a,{type:"primary",onClick:function(){return F("new")},children:[Object(e.jsx)(ne.a,{})," ",Object(e.jsx)(a.a,{id:"new",defaultMessage:"new"})]},"new")]},loading:$,actionRef:T,rowKey:"id",request:function(){return d(!0),Object(_.c)({class_type:E}).then(function(n){return d(!1),n.success?(P(n.data),{data:n.data,total:n.data.length,success:!0}):[]})},columns:[].concat(de,[{title:Object(e.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(n,f){return[Object(e.jsx)(u.a,{title:Object(e.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(e.jsx)(v.a,{type:"primary",icon:Object(e.jsx)(K.a,{}),onClick:function(){return F(f.name)}})},"edit"),Object(e.jsx)(D.a,{title:Object(e.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return f.name&&C({class_type_to_remove:E,name:f.name})},okText:Object(e.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(e.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(e.jsx)(u.a,{title:Object(e.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(e.jsx)(v.a,{type:"primary",icon:Object(e.jsx)(X.a,{}),danger:!0})})},"delete")]}}])})]})},ce=ue,je=function(){return Object(e.jsx)(A.a,{children:Object(e.jsxs)(o.a,{tabs:{type:"card",activeKey:"fields",onChange:function(E){switch(E){case"list":return a.e.push("/users");default:return a.e.push("/users/".concat(E))}}},children:[Object(e.jsx)(o.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"list"})},"list"),Object(e.jsx)(o.a.TabPane,{tab:Object(e.jsx)(a.a,{id:"ModelFields"}),children:Object(e.jsx)(ce,{class_type:"EscolaLms\\Auth\\Models\\User"})},"fields")]})})},Oe=g.default=je}}]);
