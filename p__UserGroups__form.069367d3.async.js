(window.webpackJsonp=window.webpackJsonp||[]).push([[39],{"2ult":function(Z,m,e){"use strict";var r=e("OaEy"),t=e("2fM7"),D=e("T2oS"),I=e("W9HT"),i=e("oBTY"),L=e("tJVT"),E=e("q1tI"),N=e.n(E),F=e("ri8c"),y=e("9kvl"),W=e("nKUr"),z=e.n(W),p=function(B){var j=B.value,G=B.onChange,Y=B.multiple,c=Y===void 0?!1:Y,s=Object(E.useState)([]),h=Object(L.a)(s,2),T=h[0],o=h[1],C=Object(E.useState)(!1),b=Object(L.a)(C,2),ve=b[0],V=b[1],oe=Object(E.useRef)(),Q=Object(E.useRef)(),n=Object(E.useCallback)(function(M){o(function(v){return[].concat(Object(i.a)(v),Object(i.a)(M)).filter(function(A,R,X){return X.findIndex(function($){return $.id===A.id})===R})})},[]);Object(E.useEffect)(function(){oe.current=T},[T]);var le=Object(E.useCallback)(function(M){V(!0),Q.current&&Q.current.abort(),Q.current=new AbortController,Object(F.g)({search:M},{signal:Q.current.signal}).then(function(v){v.success&&n(v.data),V(!1)}).catch(function(){return V(!1)})},[n]),ie=Object(E.useCallback)(function(M){le(M)},[le]);return Object(E.useEffect)(function(){var M=new AbortController;if(j){var v=Array.isArray(j)?j:[j];v.filter(function(A){var R;return!((R=oe.current)!==null&&R!==void 0&&R.find(function(X){return X.id===A}))}).forEach(function(A){Object(F.f)(Number(A),{signal:M.signal}).then(function(R){R&&R.success&&n([R.data])})})}return function(){M.abort()}},[j,n]),Object(W.jsx)(t.a,{onFocus:function(){return le()},allowClear:!0,style:{width:"100%"},value:j,onChange:G,mode:c?"multiple":void 0,showSearch:!0,onSearch:ie,placeholder:Object(W.jsx)(y.a,{id:"select_user_group",defaultMessage:"Select user group"}),optionFilterProp:"children",filterOption:function(v,A){if(A&&A.children){var R;return(A==null||(R=A.children)===null||R===void 0?void 0:R.toString().toLowerCase().indexOf(v.toLowerCase()))>=0}return!0},notFoundContent:ve?Object(W.jsx)(I.a,{size:"small"}):null,children:T.map(function(M){return Object(W.jsx)(t.a.Option,{value:M.id,children:M.name_with_breadcrumbs},M.id)})})};m.a=p},"F/zT":function(Z,m,e){"use strict";var r=e("VTBJ"),t=e("Ff2n"),D=e("nKUr"),I=e.n(D),i=e("q1tI"),L=e.n(i),E=e("adzw"),N=["fieldProps","unCheckedChildren","checkedChildren","proFieldProps"],F=L.a.forwardRef(function(y,W){var z=y.fieldProps,p=y.unCheckedChildren,f=y.checkedChildren,B=y.proFieldProps,j=Object(t.a)(y,N);return Object(D.jsx)(E.a,Object(r.a)({valueType:"switch",mode:"edit",fieldProps:Object(r.a)({unCheckedChildren:p,checkedChildren:f},z),ref:W,valuePropName:"checked",proFieldProps:B,filedConfig:{valuePropName:"checked",ignoreWidth:!0}},j))});m.a=F},Qurx:function(Z,m,e){"use strict";var r=e("VTBJ"),t=e("Ff2n"),D=e("nKUr"),I=e.n(D),i=e("adzw"),L=["fieldProps","proFieldProps"],E=["fieldProps","proFieldProps"],N="text",F=function(p){var f=p.fieldProps,B=p.proFieldProps,j=Object(t.a)(p,L);return Object(D.jsx)(i.a,Object(r.a)({mode:"edit",valueType:N,fieldProps:f,filedConfig:{valueType:N},proFieldProps:B},j))},y=function(p){var f=p.fieldProps,B=p.proFieldProps,j=Object(t.a)(p,E);return Object(D.jsx)(i.a,Object(r.a)({mode:"edit",valueType:"password",fieldProps:f,proFieldProps:B,filedConfig:{valueType:N}},j))},W=F;W.Password=y,W.displayName="ProFormComponent",m.a=W},S76h:function(Z,m,e){},UNho:function(Z,m,e){"use strict";e.r(m);var r=e("Mwp2"),t=e("VXEj"),D=e("+L6B"),I=e("2/Rp"),i=e("/zsF"),L=e("PArb"),E=e("tU7J"),N=e("wFql"),F=e("T2oS"),y=e("W9HT"),W=e("miYZ"),z=e("tsqr"),p=e("qLMh"),f=e("k1fw"),B=e("9og8"),j=e("tJVT"),G=e("q1tI"),Y=e.n(G),c=e("VMEa"),s=e("Qurx"),h=e("F/zT"),T=e("nhC9"),o=e("ri8c"),C=e("tMyG"),b=e("9kvl"),ve=e("Ty5D"),V=e("/MfK"),oe=e("0WSk"),Q=e("2ult"),n=e("nKUr"),le=e.n(n);m.default=function(){var ie=Object(b.i)(),M=Object(ve.l)(),v=M.group,A=v==="new",R=Object(G.useState)(),X=Object(j.a)(R,2),$=X[0],te=X[1],me=Object(G.useCallback)(Object(B.a)(Object(p.a)().mark(function x(){var O;return Object(p.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,Object(o.f)(Number(v));case 2:O=a.sent,O.success&&te(Object(f.a)({},O.data));case 4:case"end":return a.stop()}},x)})),[v]),Ce=Object(G.useCallback)(function(x){te(function(O){var K;return Object(f.a)(Object(f.a)({},O),{},{users:O?O==null||(K=O.users)===null||K===void 0?void 0:K.filter(function(a){return a.id!==x}):[]})}),Object(o.d)(Number(v),x).then(function(O){O.success&&te(function(K){return Object(f.a)(Object(f.a)({},K),{},{users:O.data})})})},[v]),ge=Object(G.useCallback)(function(x){var O;!x||$!=null&&(O=$.users)!==null&&O!==void 0&&O.find(function(K){return K.id===x})||Object(o.a)(Number(v),x).then(function(K){K.success&&te(function(a){return Object(f.a)(Object(f.a)({},a),{},{users:K.data})})})},[$,v]);Object(G.useEffect)(function(){if(v==="new"){te({});return}me()},[v,me]);var ye=Object(G.useMemo)(function(){return{onFinish:function(){var x=Object(B.a)(Object(p.a)().mark(function K(a){var d,l;return Object(p.a)().wrap(function(P){for(;;)switch(P.prev=P.next){case 0:if(l=Object(f.a)({},a),v!=="new"){P.next=8;break}return P.next=4,Object(o.b)(l);case 4:d=P.sent,d.success&&b.d.push("/users/groups/".concat(d.data.id)),P.next=11;break;case 8:return P.next=10,Object(o.e)(Number(v),l);case 10:d=P.sent;case 11:z.b.success(d.message);case 12:case"end":return P.stop()}},K)}));function O(K){return x.apply(this,arguments)}return O}(),initialValues:$}},[$,v]);return $?Object(n.jsx)(C.a,{title:A?Object(n.jsx)(b.a,{id:"new_user_group"}):Object(n.jsx)(b.a,{id:"edit_user_group"}),children:Object(n.jsx)(T.a,{children:Object(n.jsxs)(c.a,Object(f.a)(Object(f.a)({},ye),{},{children:[Object(n.jsxs)(c.a.Group,{children:[Object(n.jsx)(s.a,{width:"md",name:"name",label:Object(n.jsx)(b.a,{id:"name"}),tooltip:Object(n.jsx)(b.a,{id:"name"}),placeholder:ie.formatMessage({id:"name"}),required:!0}),Object(n.jsx)(c.a.Item,{style:{minWidth:"300px"},name:"parent_id",label:Object(n.jsx)(b.a,{id:"parent_id_group",defaultMessage:"parent_id_group"}),valuePropName:"value",children:Object(n.jsx)(Q.a,{})}),Object(n.jsx)(h.a,{name:"registerable",label:Object(n.jsx)(b.a,{id:"registerable"})})]}),v!=="new"&&Object(n.jsxs)(Y.a.Fragment,{children:[Object(n.jsxs)(c.a.Group,{children:[Object(n.jsx)(N.a,{children:Object(n.jsx)(b.a,{id:"add_person_to_group",defaultMessage:"Add User to group"})}),Object(n.jsx)(oe.a,{onChange:function(O){return ge(Number(O))}})]}),Object(n.jsx)(L.a,{}),Object(n.jsx)(t.b,{size:"small",itemLayout:"horizontal",dataSource:$.users,renderItem:function(O){return Object(n.jsxs)(t.b.Item,{actions:[Object(n.jsxs)(I.a,{onClick:function(){return Ce(O.id)},type:"primary",icon:Object(n.jsx)(V.a,{}),size:"small",danger:!0,children:[" ",Object(n.jsx)(b.a,{id:"delete"})]},"delete")],children:[O.first_name," ",O.last_name," ",Object(n.jsx)("small",{children:O.email})]})}})]}),Object(n.jsx)(L.a,{})]}))})}):Object(n.jsx)(y.a,{})}},VzZb:function(Z,m,e){},"aK+R":function(Z,m,e){},df8c:function(Z,m,e){},nhC9:function(Z,m,e){"use strict";var r=e("VTBJ"),t=e("nKUr"),D=e("Znn+"),I=e("ZTPi"),i=e("rePB"),L=e("U8pU"),E=e("ODXe"),N=e("GNNt"),F=e("wEI+"),y=e("Ff2n"),W=e("1GLa"),z=e("TLLU"),p=e("UESt"),f=e("YSkC"),B=e("TSYQ"),j=e.n(B),G=e("BGR+"),Y=e("6cGi"),c=e("q1tI"),s=e.n(c),h=e("S76h"),T=function(d){var l=d.actions,_=d.prefixCls;return Array.isArray(l)&&(l==null?void 0:l.length)?Object(t.jsx)("ul",{className:"".concat(_,"-actions"),children:l.map(function(P,q){return Object(t.jsx)("li",{style:{width:"".concat(100/l.length,"%")},children:Object(t.jsx)("span",{children:P})},"action-".concat(q))})}):l?Object(t.jsx)("ul",{className:"".concat(_,"-actions"),children:l}):null},o=T,C=e("jCWc"),b=e("kPKH"),ve=e("14J3"),V=e("BMrR"),oe=e("aK+R"),Q=function(d){var l=d.style,_=d.prefix;return Object(t.jsxs)("div",{className:"".concat(_,"-loading-content"),style:l,children:[Object(t.jsx)(V.a,{gutter:8,children:Object(t.jsx)(b.a,{span:22,children:Object(t.jsx)("div",{className:"".concat(_,"-loading-block")})})}),Object(t.jsxs)(V.a,{gutter:8,children:[Object(t.jsx)(b.a,{span:8,children:Object(t.jsx)("div",{className:"".concat(_,"-loading-block")})}),Object(t.jsx)(b.a,{span:15,children:Object(t.jsx)("div",{className:"".concat(_,"-loading-block")})})]}),Object(t.jsxs)(V.a,{gutter:8,children:[Object(t.jsx)(b.a,{span:6,children:Object(t.jsx)("div",{className:"".concat(_,"-loading-block")})}),Object(t.jsx)(b.a,{span:18,children:Object(t.jsx)("div",{className:"".concat(_,"-loading-block")})})]}),Object(t.jsxs)(V.a,{gutter:8,children:[Object(t.jsx)(b.a,{span:13,children:Object(t.jsx)("div",{className:"".concat(_,"-loading-block")})}),Object(t.jsx)(b.a,{span:9,children:Object(t.jsx)("div",{className:"".concat(_,"-loading-block")})})]}),Object(t.jsxs)(V.a,{gutter:8,children:[Object(t.jsx)(b.a,{span:4,children:Object(t.jsx)("div",{className:"".concat(_,"-loading-block")})}),Object(t.jsx)(b.a,{span:3,children:Object(t.jsx)("div",{className:"".concat(_,"-loading-block")})}),Object(t.jsx)(b.a,{span:16,children:Object(t.jsx)("div",{className:"".concat(_,"-loading-block")})})]})]})},n=Q,le=e("df8c"),ie=["className","style","bodyStyle","headStyle","title","subTitle","extra","tip","wrap","layout","loading","gutter","tooltip","split","headerBordered","bordered","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","collapsibleIconRender","defaultCollapsed","onCollapse","checked","onChecked","tabs","type"],M=z.a.useBreakpoint,v=s.a.forwardRef(function(a,d){var l,_,P,q=a.className,ae=a.style,re=a.bodyStyle,w=re===void 0?{}:re,ne=a.headStyle,Me=ne===void 0?{}:ne,fe=a.title,xe=a.subTitle,de=a.extra,De=a.tip,he=a.wrap,Qe=he===void 0?!1:he,Xe=a.layout,ue=a.loading,Be=a.gutter,we=Be===void 0?0:Be,ke=a.tooltip,Oe=a.split,Re=a.headerBordered,qe=Re===void 0?!1:Re,Ke=a.bordered,et=Ke===void 0?!1:Ke,We=a.children,Se=a.size,tt=a.actions,Ne=a.ghost,at=Ne===void 0?!1:Ne,Fe=a.hoverable,rt=Fe===void 0?!1:Fe,nt=a.direction,Ge=a.collapsed,ze=a.collapsible,st=ze===void 0?!1:ze,$e=a.collapsibleIconRender,Ve=a.defaultCollapsed,ct=Ve===void 0?!1:Ve,ot=a.onCollapse,lt=a.checked,Te=a.onChecked,Ae=a.tabs,Ue=a.type,je=Object(y.a)(a,ie),it=Object(c.useContext)(F.a.ConfigContext),dt=it.getPrefixCls,Je=M(),ut=Object(Y.a)(ct,{value:Ge,onChange:ot}),Ze=Object(E.a)(ut,2),Pe=Ze[0],Ot=Ze[1],Ee=["xxl","xl","lg","md","sm","xs"],jt=function(U){var g=[0,0],J=Array.isArray(U)?U:[U,0];return J.forEach(function(H,ee){if(Object(L.a)(H)==="object")for(var k=0;k<Ee.length;k+=1){var be=Ee[k];if(Je[be]&&H[be]!==void 0){g[ee]=H[be];break}}else g[ee]=H||0}),g},_e=function(U,g){return U?g:{}},_t=function(U){var g=U;if(Object(L.a)(U)==="object")for(var J=0;J<Ee.length;J+=1){var H=Ee[J];if(Je[H]&&U[H]!==void 0){g=U[H];break}}var ee=_e(typeof g=="string"&&/\d%|\dpx/i.test(g),{width:g,flexShrink:0});return{span:g,colSpanStyle:ee}},u=dt("pro-card"),bt=jt(we),Ye=Object(E.a)(bt,2),se=Ye[0],ce=Ye[1],Ie=!1,Le=s.a.Children.toArray(We),vt=Le.map(function(S,U){var g;if(S==null||(g=S.type)===null||g===void 0?void 0:g.isProCard){var J;Ie=!0;var H=S.props.colSpan,ee=_t(H),k=ee.span,be=ee.colSpanStyle,Pt=j()(["".concat(u,"-col")],(J={},Object(i.a)(J,"".concat(u,"-split-vertical"),Oe==="vertical"&&U!==Le.length-1),Object(i.a)(J,"".concat(u,"-split-horizontal"),Oe==="horizontal"&&U!==Le.length-1),Object(i.a)(J,"".concat(u,"-col-").concat(k),typeof k=="number"&&k>=0&&k<=24),J));return Object(t.jsx)("div",{style:Object(r.a)(Object(r.a)(Object(r.a)({},be),_e(se>0,{paddingRight:se/2,paddingLeft:se/2})),_e(ce>0,{paddingTop:ce/2,paddingBottom:ce/2})),className:Pt,children:s.a.cloneElement(S)},"pro-card-col-".concat((S==null?void 0:S.key)||U))}return S}),mt=j()("".concat(u),q,(l={},Object(i.a)(l,"".concat(u,"-border"),et),Object(i.a)(l,"".concat(u,"-contain-card"),Ie),Object(i.a)(l,"".concat(u,"-loading"),ue),Object(i.a)(l,"".concat(u,"-split"),Oe==="vertical"||Oe==="horizontal"),Object(i.a)(l,"".concat(u,"-ghost"),at),Object(i.a)(l,"".concat(u,"-hoverable"),rt),Object(i.a)(l,"".concat(u,"-size-").concat(Se),Se),Object(i.a)(l,"".concat(u,"-type-").concat(Ue),Ue),Object(i.a)(l,"".concat(u,"-collapse"),Pe),Object(i.a)(l,"".concat(u,"-checked"),lt),l)),ft=j()("".concat(u,"-body"),(_={},Object(i.a)(_,"".concat(u,"-body-center"),Xe==="center"),Object(i.a)(_,"".concat(u,"-body-direction-column"),Oe==="horizontal"||nt==="column"),Object(i.a)(_,"".concat(u,"-body-wrap"),Qe&&Ie),_)),ht=Object(r.a)(Object(r.a)(Object(r.a)({},_e(se>0,{marginRight:-se/2,marginLeft:-se/2})),_e(ce>0,{marginTop:-ce/2,marginBottom:-ce/2})),w),He=s.a.isValidElement(ue)?ue:Object(t.jsx)(n,{prefix:u,style:w.padding===0||w.padding==="0px"?{padding:24}:void 0}),pe=st&&Ge===void 0&&($e?$e({collapsed:Pe}):Object(t.jsx)(p.a,{rotate:Pe?void 0:90,className:"".concat(u,"-collapsible-icon")}));return Object(t.jsxs)("div",Object(r.a)(Object(r.a)({className:mt,style:ae,ref:d,onClick:function(U){var g;Te==null||Te(U),je==null||(g=je.onClick)===null||g===void 0||g.call(je,U)}},Object(G.a)(je,["prefixCls","colSpan"])),{},{children:[(fe||de||pe)&&Object(t.jsxs)("div",{className:j()("".concat(u,"-header"),(P={},Object(i.a)(P,"".concat(u,"-header-border"),qe||Ue==="inner"),Object(i.a)(P,"".concat(u,"-header-collapsible"),pe),P)),style:Me,onClick:function(){pe&&Ot(!Pe)},children:[Object(t.jsxs)("div",{className:"".concat(u,"-title"),children:[pe,Object(t.jsx)(f.a,{label:fe,tooltip:ke||De,subTitle:xe})]}),de&&Object(t.jsx)("div",{className:"".concat(u,"-extra"),children:de})]}),Ae?Object(t.jsx)("div",{className:"".concat(u,"-tabs"),children:Object(t.jsx)(I.a,Object(r.a)(Object(r.a)({onChange:Ae.onChange},Ae),{},{children:ue?He:We}))}):Object(t.jsx)("div",{className:ft,style:ht,children:ue?He:vt}),Object(t.jsx)(o,{actions:tt,prefixCls:u})]}))}),A=v,R=e("u1OI"),X=function(d){var l=Object(c.useContext)(F.a.ConfigContext),_=l.getPrefixCls,P=_("pro-card-divider"),q=d.className,ae=d.style,re=ae===void 0?{}:ae,w=d.type,ne=j()(P,q,Object(i.a)({},"".concat(P,"-").concat(w),w));return Object(t.jsx)("div",{className:ne,style:re})},$=X,te=e("VzZb"),me=["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"],Ce=function(d){var l=d.key,_=d.tab,P=d.tabKey,q=d.disabled,ae=d.destroyInactiveTabPane,re=d.children,w=d.className,ne=d.style,Me=d.cardProps,fe=Object(y.a)(d,me),xe=Object(c.useContext)(F.a.ConfigContext),de=xe.getPrefixCls,De=de("pro-card-tabpane"),he=j()(De,w);return Object(t.jsx)(I.a.TabPane,Object(r.a)(Object(r.a)({tabKey:P,tab:_,className:he,style:ne,disabled:q,destroyInactiveTabPane:ae},fe),{},{children:Object(t.jsx)(A,Object(r.a)(Object(r.a)({},Me),{},{children:re}))}),l)},ge=Ce,ye=function(d){return Object(t.jsx)(A,Object(r.a)({bodyStyle:{padding:0}},d))},x=A;x.isProCard=!0,x.Divider=$,x.TabPane=ge,x.Group=ye;var O=x,K=m.a=O},ri8c:function(Z,m,e){"use strict";e.d(m,"g",function(){return i}),e.d(m,"f",function(){return E}),e.d(m,"e",function(){return F}),e.d(m,"b",function(){return W}),e.d(m,"c",function(){return p}),e.d(m,"a",function(){return B}),e.d(m,"d",function(){return G});var r=e("qLMh"),t=e("k1fw"),D=e("9og8"),I=e("9kvl");function i(c,s){return L.apply(this,arguments)}function L(){return L=Object(D.a)(Object(r.a)().mark(function c(s,h){return Object(r.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(I.f)("/api/admin/user-groups",Object(t.a)({params:Object(t.a)(Object(t.a)({},s),{},{per_page:s.pageSize,page:s.current,search:s.search?s.search:void 0,parent_id:s.parent_id}),method:"GET",useCache:!1},h||{})));case 1:case"end":return o.stop()}},c)})),L.apply(this,arguments)}function E(c,s){return N.apply(this,arguments)}function N(){return N=Object(D.a)(Object(r.a)().mark(function c(s,h){return Object(r.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(I.f)("/api/admin/user-groups/".concat(s),Object(t.a)({method:"GET",useCache:!1},h||{})));case 1:case"end":return o.stop()}},c)})),N.apply(this,arguments)}function F(c,s,h){return y.apply(this,arguments)}function y(){return y=Object(D.a)(Object(r.a)().mark(function c(s,h,T){return Object(r.a)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",Object(I.f)("/api/admin/user-groups/".concat(s),Object(t.a)({data:h,method:"PUT"},T||{})));case 1:case"end":return C.stop()}},c)})),y.apply(this,arguments)}function W(c,s){return z.apply(this,arguments)}function z(){return z=Object(D.a)(Object(r.a)().mark(function c(s,h){return Object(r.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(I.f)("/api/admin/user-groups",Object(t.a)({data:s,method:"POST"},h||{})));case 1:case"end":return o.stop()}},c)})),z.apply(this,arguments)}function p(c,s){return f.apply(this,arguments)}function f(){return f=Object(D.a)(Object(r.a)().mark(function c(s,h){return Object(r.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(I.f)("/api/admin/user-groups/".concat(s),Object(t.a)({method:"DELETE"},h||{})));case 1:case"end":return o.stop()}},c)})),f.apply(this,arguments)}function B(c,s,h){return j.apply(this,arguments)}function j(){return j=Object(D.a)(Object(r.a)().mark(function c(s,h,T){return Object(r.a)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",Object(I.f)("/api/admin/user-groups/".concat(s,"/members"),Object(t.a)({data:{user_id:h},method:"POST"},T||{})));case 1:case"end":return C.stop()}},c)})),j.apply(this,arguments)}function G(c,s,h){return Y.apply(this,arguments)}function Y(){return Y=Object(D.a)(Object(r.a)().mark(function c(s,h,T){return Object(r.a)().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:return C.abrupt("return",Object(I.f)("/api/admin/user-groups/".concat(s,"/members/").concat(h),Object(t.a)({method:"DELETE"},T||{})));case 1:case"end":return C.stop()}},c)})),Y.apply(this,arguments)}},u1OI:function(Z,m,e){}}]);
