(window.webpackJsonp=window.webpackJsonp||[]).push([[57],{"2D6k":function(on,hr,Te){"use strict";var ar=Math.PI*2;function C(ve,Ce,_t,L){var a=ve*L-Ce*_t<0?-1:1,f=ve*_t+Ce*L;return f>1&&(f=1),f<-1&&(f=-1),a*Math.acos(f)}function Ut(ve,Ce,_t,L,a,f,h,l,n,e){var r=e*(ve-_t)/2+n*(Ce-L)/2,i=-n*(ve-_t)/2+e*(Ce-L)/2,u=h*h,o=l*l,d=r*r,b=i*i,T=u*o-u*b-o*d;T<0&&(T=0),T/=u*b+o*d,T=Math.sqrt(T)*(a===f?-1:1);var O=T*h/l*i,Y=T*-l/h*r,et=e*O-n*Y+(ve+_t)/2,yt=n*O+e*Y+(Ce+L)/2,Zt=(r-O)/h,fe=(i-Y)/l,Ue=(-r-O)/h,sr=(-i-Y)/l,cr=C(1,0,Zt,fe),Ke=C(Zt,fe,Ue,sr);return f===0&&Ke>0&&(Ke-=ar),f===1&&Ke<0&&(Ke+=ar),[et,yt,cr,Ke]}function nt(ve,Ce){var _t=4/3*Math.tan(Ce/4),L=Math.cos(ve),a=Math.sin(ve),f=Math.cos(ve+Ce),h=Math.sin(ve+Ce);return[L,a,L-a*_t,a+L*_t,f+h*_t,h-f*_t,f,h]}on.exports=function(Ce,_t,L,a,f,h,l,n,e){var r=Math.sin(e*ar/360),i=Math.cos(e*ar/360),u=i*(Ce-L)/2+r*(_t-a)/2,o=-r*(Ce-L)/2+i*(_t-a)/2;if(u===0&&o===0)return[];if(l===0||n===0)return[];l=Math.abs(l),n=Math.abs(n);var d=u*u/(l*l)+o*o/(n*n);d>1&&(l*=Math.sqrt(d),n*=Math.sqrt(d));var b=Ut(Ce,_t,L,a,f,h,l,n,r,i),T=[],O=b[2],Y=b[3],et=Math.max(Math.ceil(Math.abs(Y)/(ar/4)),1);Y/=et;for(var yt=0;yt<et;yt++)T.push(nt(O,Y)),O+=Y;return T.map(function(Zt){for(var fe=0;fe<Zt.length;fe+=2){var Ue=Zt[fe+0],sr=Zt[fe+1];Ue*=l,sr*=n;var cr=i*Ue-r*sr,Ke=r*Ue+i*sr;Zt[fe+0]=cr+b[0],Zt[fe+1]=Ke+b[1]}return Zt})}},"49sm":function(on,hr){var Te={}.toString;on.exports=Array.isArray||function(ar){return Te.call(ar)=="[object Array]"}},"4hEd":function(on,hr,Te){"use strict";function ar(Ut,nt){return[Ut[0]*nt[0]+Ut[2]*nt[1],Ut[1]*nt[0]+Ut[3]*nt[1],Ut[0]*nt[2]+Ut[2]*nt[3],Ut[1]*nt[2]+Ut[3]*nt[3],Ut[0]*nt[4]+Ut[2]*nt[5]+Ut[4],Ut[1]*nt[4]+Ut[3]*nt[5]+Ut[5]]}function C(){if(!(this instanceof C))return new C;this.queue=[],this.cache=null}C.prototype.matrix=function(Ut){return Ut[0]===1&&Ut[1]===0&&Ut[2]===0&&Ut[3]===1&&Ut[4]===0&&Ut[5]===0?this:(this.cache=null,this.queue.push(Ut),this)},C.prototype.translate=function(Ut,nt){return(Ut!==0||nt!==0)&&(this.cache=null,this.queue.push([1,0,0,1,Ut,nt])),this},C.prototype.scale=function(Ut,nt){return(Ut!==1||nt!==1)&&(this.cache=null,this.queue.push([Ut,0,0,nt,0,0])),this},C.prototype.rotate=function(Ut,nt,ve){var Ce,_t,L;return Ut!==0&&(this.translate(nt,ve),Ce=Ut*Math.PI/180,_t=Math.cos(Ce),L=Math.sin(Ce),this.queue.push([_t,L,-L,_t,0,0]),this.cache=null,this.translate(-nt,-ve)),this},C.prototype.skewX=function(Ut){return Ut!==0&&(this.cache=null,this.queue.push([1,0,Math.tan(Ut*Math.PI/180),1,0,0])),this},C.prototype.skewY=function(Ut){return Ut!==0&&(this.cache=null,this.queue.push([1,Math.tan(Ut*Math.PI/180),0,1,0,0])),this},C.prototype.toArray=function(){if(this.cache)return this.cache;if(!this.queue.length)return this.cache=[1,0,0,1,0,0],this.cache;if(this.cache=this.queue[0],this.queue.length===1)return this.cache;for(var Ut=1;Ut<this.queue.length;Ut++)this.cache=ar(this.cache,this.queue[Ut]);return this.cache},C.prototype.calc=function(Ut,nt,ve){var Ce;return this.queue.length?(this.cache||(this.cache=this.toArray()),Ce=this.cache,[Ut*Ce[0]+nt*Ce[2]+(ve?0:Ce[4]),Ut*Ce[1]+nt*Ce[3]+(ve?0:Ce[5])]):[Ut,nt]},on.exports=C},B61z:function(on,hr,Te){"use strict";var ar=1e-10,C=Math.PI/180;function Ut(nt,ve,Ce){if(!(this instanceof Ut))return new Ut(nt,ve,Ce);this.rx=nt,this.ry=ve,this.ax=Ce}Ut.prototype.transform=function(nt){var ve=Math.cos(this.ax*C),Ce=Math.sin(this.ax*C),_t=[this.rx*(nt[0]*ve+nt[2]*Ce),this.rx*(nt[1]*ve+nt[3]*Ce),this.ry*(-nt[0]*Ce+nt[2]*ve),this.ry*(-nt[1]*Ce+nt[3]*ve)],L=_t[0]*_t[0]+_t[2]*_t[2],a=_t[1]*_t[1]+_t[3]*_t[3],f=((_t[0]-_t[3])*(_t[0]-_t[3])+(_t[2]+_t[1])*(_t[2]+_t[1]))*((_t[0]+_t[3])*(_t[0]+_t[3])+(_t[2]-_t[1])*(_t[2]-_t[1])),h=(L+a)/2;if(f<ar*h)return this.rx=this.ry=Math.sqrt(h),this.ax=0,this;var l=_t[0]*_t[1]+_t[2]*_t[3];f=Math.sqrt(f);var n=h+f/2,e=h-f/2;return this.ax=Math.abs(l)<ar&&Math.abs(n-a)<ar?90:Math.atan(Math.abs(l)>Math.abs(n-a)?(n-L)/l:l/(n-a))*180/Math.PI,this.ax>=0?(this.rx=Math.sqrt(n),this.ry=Math.sqrt(e)):(this.ax+=90,this.rx=Math.sqrt(e),this.ry=Math.sqrt(n)),this},Ut.prototype.isDegenerate=function(){return this.rx<ar*this.ry||this.ry<ar*this.rx},on.exports=Ut},BiO0:function(on,hr,Te){"use strict";var ar=Te("wx14"),C=Te("Ff2n"),Ut=Te("q1tI"),nt=Te.n(Ut),ve=Te("adzw"),Ce=["fieldProps","proFieldProps"],_t=function(a,f){var h=a.fieldProps,l=a.proFieldProps,n=Object(C.a)(a,Ce);return nt.a.createElement(ve.a,Object(ar.a)({ref:f,mode:"edit",valueType:"textarea",fieldProps:h,proFieldProps:l},n))};hr.a=nt.a.forwardRef(_t)},C4q1:function(on,hr,Te){"use strict";/*! https://mths.be/cssesc v3.0.0 by @mathias */var ar={},C=ar.hasOwnProperty,Ut=function(f,h){if(!f)return h;var l={};for(var n in h)l[n]=C.call(f,n)?f[n]:h[n];return l},nt=/[ -,\.\/:-@\[-\^`\{-~]/,ve=/[ -,\.\/:-@\[\]\^`\{-~]/,Ce=/['"\\]/,_t=/(^|\\+)?(\\[A-F0-9]{1,6})\x20(?![a-fA-F0-9\x20])/g,L=function a(f,h){h=Ut(h,a.options),h.quotes!="single"&&h.quotes!="double"&&(h.quotes="single");for(var l=h.quotes=="double"?'"':"'",n=h.isIdentifier,e=f.charAt(0),r="",i=0,u=f.length;i<u;){var o=f.charAt(i++),d=o.charCodeAt(),b=void 0;if(d<32||d>126){if(d>=55296&&d<=56319&&i<u){var T=f.charCodeAt(i++);(T&64512)==56320?d=((d&1023)<<10)+(T&1023)+65536:i--}b="\\"+d.toString(16).toUpperCase()+" "}else h.escapeEverything?nt.test(o)?b="\\"+o:b="\\"+d.toString(16).toUpperCase()+" ":/[\t\n\f\r\x0B]/.test(o)?b="\\"+d.toString(16).toUpperCase()+" ":o=="\\"||!n&&(o=='"'&&l==o||o=="'"&&l==o)||n&&ve.test(o)?b="\\"+o:b=o;r+=b}return n&&(/^-[-\d]/.test(r)?r="\\-"+r.slice(1):/\d/.test(e)&&(r="\\3"+e+" "+r.slice(1))),r=r.replace(_t,function(O,Y,et){return Y&&Y.length%2?O:(Y||"")+et}),!n&&h.wrap?l+r+l:r};L.options={escapeEverything:!1,isIdentifier:!1,quotes:"single",wrap:!1},L.version="3.0.0",on.exports=L},COF0:function(on,hr,Te){"use strict";var ar={a:7,c:6,h:1,l:2,m:2,r:4,q:4,s:4,t:2,v:1,z:0},C=[5760,6158,8192,8193,8194,8195,8196,8197,8198,8199,8200,8201,8202,8239,8287,12288,65279];function Ut(e){return e===10||e===13||e===8232||e===8233||e===32||e===9||e===11||e===12||e===160||e>=5760&&C.indexOf(e)>=0}function nt(e){switch(e|32){case 109:case 122:case 108:case 104:case 118:case 99:case 115:case 113:case 116:case 97:case 114:return!0}return!1}function ve(e){return(e|32)==97}function Ce(e){return e>=48&&e<=57}function _t(e){return e>=48&&e<=57||e===43||e===45||e===46}function L(e){this.index=0,this.path=e,this.max=e.length,this.result=[],this.param=0,this.err="",this.segmentStart=0,this.data=[]}function a(e){for(;e.index<e.max&&Ut(e.path.charCodeAt(e.index));)e.index++}function f(e){var r=e.path.charCodeAt(e.index);if(r===48){e.param=0,e.index++;return}if(r===49){e.param=1,e.index++;return}e.err="SvgPath: arc flag can be 0 or 1 only (at pos "+e.index+")"}function h(e){var r=e.index,i=r,u=e.max,o=!1,d=!1,b=!1,T=!1,O;if(i>=u){e.err="SvgPath: missed param (at pos "+i+")";return}if(O=e.path.charCodeAt(i),(O===43||O===45)&&(i++,O=i<u?e.path.charCodeAt(i):0),!Ce(O)&&O!==46){e.err="SvgPath: param should start with 0..9 or `.` (at pos "+i+")";return}if(O!==46){if(o=O===48,i++,O=i<u?e.path.charCodeAt(i):0,o&&i<u&&O&&Ce(O)){e.err="SvgPath: numbers started with `0` such as `09` are illegal (at pos "+r+")";return}for(;i<u&&Ce(e.path.charCodeAt(i));)i++,d=!0;O=i<u?e.path.charCodeAt(i):0}if(O===46){for(T=!0,i++;Ce(e.path.charCodeAt(i));)i++,b=!0;O=i<u?e.path.charCodeAt(i):0}if(O===101||O===69){if(T&&!d&&!b){e.err="SvgPath: invalid float exponent (at pos "+i+")";return}if(i++,O=i<u?e.path.charCodeAt(i):0,(O===43||O===45)&&i++,i<u&&Ce(e.path.charCodeAt(i)))for(;i<u&&Ce(e.path.charCodeAt(i));)i++;else{e.err="SvgPath: invalid float exponent (at pos "+i+")";return}}e.index=i,e.param=parseFloat(e.path.slice(r,i))+0}function l(e){var r,i;r=e.path[e.segmentStart],i=r.toLowerCase();var u=e.data;if(i==="m"&&u.length>2&&(e.result.push([r,u[0],u[1]]),u=u.slice(2),i="l",r=r==="m"?"l":"L"),i==="r")e.result.push([r].concat(u));else for(;u.length>=ar[i]&&(e.result.push([r].concat(u.splice(0,ar[i]))),!!ar[i]););}function n(e){var r=e.max,i,u,o,d,b;if(e.segmentStart=e.index,i=e.path.charCodeAt(e.index),u=ve(i),!nt(i)){e.err="SvgPath: bad command "+e.path[e.index]+" (at pos "+e.index+")";return}if(d=ar[e.path[e.index].toLowerCase()],e.index++,a(e),e.data=[],!d){l(e);return}for(o=!1;;){for(b=d;b>0;b--){if(u&&(b===3||b===4)?f(e):h(e),e.err.length)return;e.data.push(e.param),a(e),o=!1,e.index<r&&e.path.charCodeAt(e.index)===44&&(e.index++,a(e),o=!0)}if(!o&&(e.index>=e.max||!_t(e.path.charCodeAt(e.index))))break}l(e)}on.exports=function(r){var i=new L(r),u=i.max;for(a(i);i.index<u&&!i.err.length;)n(i);return i.err.length?i.result=[]:i.result.length&&("mM".indexOf(i.result[0][0])<0?(i.err="SvgPath: string should start with `M` or `m`",i.result=[]):i.result[0][0]="M"),{err:i.err,segments:i.result}}},"D6/r":function(on,hr,Te){},H7XF:function(on,hr,Te){"use strict";hr.byteLength=L,hr.toByteArray=f,hr.fromByteArray=n;for(var ar=[],C=[],Ut=typeof Uint8Array!="undefined"?Uint8Array:Array,nt="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",ve=0,Ce=nt.length;ve<Ce;++ve)ar[ve]=nt[ve],C[nt.charCodeAt(ve)]=ve;C["-".charCodeAt(0)]=62,C["_".charCodeAt(0)]=63;function _t(e){var r=e.length;if(r%4>0)throw new Error("Invalid string. Length must be a multiple of 4");var i=e.indexOf("=");i===-1&&(i=r);var u=i===r?0:4-i%4;return[i,u]}function L(e){var r=_t(e),i=r[0],u=r[1];return(i+u)*3/4-u}function a(e,r,i){return(r+i)*3/4-i}function f(e){var r,i=_t(e),u=i[0],o=i[1],d=new Ut(a(e,u,o)),b=0,T=o>0?u-4:u,O;for(O=0;O<T;O+=4)r=C[e.charCodeAt(O)]<<18|C[e.charCodeAt(O+1)]<<12|C[e.charCodeAt(O+2)]<<6|C[e.charCodeAt(O+3)],d[b++]=r>>16&255,d[b++]=r>>8&255,d[b++]=r&255;return o===2&&(r=C[e.charCodeAt(O)]<<2|C[e.charCodeAt(O+1)]>>4,d[b++]=r&255),o===1&&(r=C[e.charCodeAt(O)]<<10|C[e.charCodeAt(O+1)]<<4|C[e.charCodeAt(O+2)]>>2,d[b++]=r>>8&255,d[b++]=r&255),d}function h(e){return ar[e>>18&63]+ar[e>>12&63]+ar[e>>6&63]+ar[e&63]}function l(e,r,i){for(var u,o=[],d=r;d<i;d+=3)u=(e[d]<<16&16711680)+(e[d+1]<<8&65280)+(e[d+2]&255),o.push(h(u));return o.join("")}function n(e){for(var r,i=e.length,u=i%3,o=[],d=16383,b=0,T=i-u;b<T;b+=d)o.push(l(e,b,b+d>T?T:b+d));return u===1?(r=e[i-1],o.push(ar[r>>2]+ar[r<<4&63]+"==")):u===2&&(r=(e[i-2]<<8)+e[i-1],o.push(ar[r>>10]+ar[r>>4&63]+ar[r<<2&63]+"=")),o.join("")}},HDXh:function(on,hr,Te){"use strict";(function(ar){/*!
* The buffer module from node.js, for the browser.
*
* @author   Feross Aboukhadijeh <http://feross.org>
* @license  MIT
*/var C=Te("H7XF"),Ut=Te("kVK+"),nt=Te("49sm");hr.Buffer=L,hr.SlowBuffer=o,hr.INSPECT_MAX_BYTES=50,L.TYPED_ARRAY_SUPPORT=ar.TYPED_ARRAY_SUPPORT!==void 0?ar.TYPED_ARRAY_SUPPORT:ve(),hr.kMaxLength=Ce();function ve(){try{var K=new Uint8Array(1);return K.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},K.foo()===42&&typeof K.subarray=="function"&&K.subarray(1,1).byteLength===0}catch(F){return!1}}function Ce(){return L.TYPED_ARRAY_SUPPORT?2147483647:1073741823}function _t(K,F){if(Ce()<F)throw new RangeError("Invalid typed array length");return L.TYPED_ARRAY_SUPPORT?(K=new Uint8Array(F),K.__proto__=L.prototype):(K===null&&(K=new L(F)),K.length=F),K}function L(K,F,D){if(!L.TYPED_ARRAY_SUPPORT&&!(this instanceof L))return new L(K,F,D);if(typeof K=="number"){if(typeof F=="string")throw new Error("If encoding is specified then the first argument must be a string");return l(this,K)}return a(this,K,F,D)}L.poolSize=8192,L._augment=function(K){return K.__proto__=L.prototype,K};function a(K,F,D,it){if(typeof F=="number")throw new TypeError('"value" argument must not be a number');return typeof ArrayBuffer!="undefined"&&F instanceof ArrayBuffer?r(K,F,D,it):typeof F=="string"?n(K,F,D):i(K,F)}L.from=function(K,F,D){return a(null,K,F,D)},L.TYPED_ARRAY_SUPPORT&&(L.prototype.__proto__=Uint8Array.prototype,L.__proto__=Uint8Array,typeof Symbol!="undefined"&&Symbol.species&&L[Symbol.species]===L&&Object.defineProperty(L,Symbol.species,{value:null,configurable:!0}));function f(K){if(typeof K!="number")throw new TypeError('"size" argument must be a number');if(K<0)throw new RangeError('"size" argument must not be negative')}function h(K,F,D,it){return f(F),F<=0?_t(K,F):D!==void 0?typeof it=="string"?_t(K,F).fill(D,it):_t(K,F).fill(D):_t(K,F)}L.alloc=function(K,F,D){return h(null,K,F,D)};function l(K,F){if(f(F),K=_t(K,F<0?0:u(F)|0),!L.TYPED_ARRAY_SUPPORT)for(var D=0;D<F;++D)K[D]=0;return K}L.allocUnsafe=function(K){return l(null,K)},L.allocUnsafeSlow=function(K){return l(null,K)};function n(K,F,D){if((typeof D!="string"||D==="")&&(D="utf8"),!L.isEncoding(D))throw new TypeError('"encoding" must be a valid string encoding');var it=d(F,D)|0;K=_t(K,it);var vt=K.write(F,D);return vt!==it&&(K=K.slice(0,vt)),K}function e(K,F){var D=F.length<0?0:u(F.length)|0;K=_t(K,D);for(var it=0;it<D;it+=1)K[it]=F[it]&255;return K}function r(K,F,D,it){if(F.byteLength,D<0||F.byteLength<D)throw new RangeError("'offset' is out of bounds");if(F.byteLength<D+(it||0))throw new RangeError("'length' is out of bounds");return D===void 0&&it===void 0?F=new Uint8Array(F):it===void 0?F=new Uint8Array(F,D):F=new Uint8Array(F,D,it),L.TYPED_ARRAY_SUPPORT?(K=F,K.__proto__=L.prototype):K=e(K,F),K}function i(K,F){if(L.isBuffer(F)){var D=u(F.length)|0;return K=_t(K,D),K.length===0||F.copy(K,0,0,D),K}if(F){if(typeof ArrayBuffer!="undefined"&&F.buffer instanceof ArrayBuffer||"length"in F)return typeof F.length!="number"||Pe(F.length)?_t(K,0):e(K,F);if(F.type==="Buffer"&&nt(F.data))return e(K,F.data)}throw new TypeError("First argument must be a string, Buffer, ArrayBuffer, Array, or array-like object.")}function u(K){if(K>=Ce())throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+Ce().toString(16)+" bytes");return K|0}function o(K){return+K!=K&&(K=0),L.alloc(+K)}L.isBuffer=function(F){return!!(F!=null&&F._isBuffer)},L.compare=function(F,D){if(!L.isBuffer(F)||!L.isBuffer(D))throw new TypeError("Arguments must be Buffers");if(F===D)return 0;for(var it=F.length,vt=D.length,ee=0,he=Math.min(it,vt);ee<he;++ee)if(F[ee]!==D[ee]){it=F[ee],vt=D[ee];break}return it<vt?-1:vt<it?1:0},L.isEncoding=function(F){switch(String(F).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},L.concat=function(F,D){if(!nt(F))throw new TypeError('"list" argument must be an Array of Buffers');if(F.length===0)return L.alloc(0);var it;if(D===void 0)for(D=0,it=0;it<F.length;++it)D+=F[it].length;var vt=L.allocUnsafe(D),ee=0;for(it=0;it<F.length;++it){var he=F[it];if(!L.isBuffer(he))throw new TypeError('"list" argument must be an Array of Buffers');he.copy(vt,ee),ee+=he.length}return vt};function d(K,F){if(L.isBuffer(K))return K.length;if(typeof ArrayBuffer!="undefined"&&typeof ArrayBuffer.isView=="function"&&(ArrayBuffer.isView(K)||K instanceof ArrayBuffer))return K.byteLength;typeof K!="string"&&(K=""+K);var D=K.length;if(D===0)return 0;for(var it=!1;;)switch(F){case"ascii":case"latin1":case"binary":return D;case"utf8":case"utf-8":case void 0:return Vt(K).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return D*2;case"hex":return D>>>1;case"base64":return te(K).length;default:if(it)return Vt(K).length;F=(""+F).toLowerCase(),it=!0}}L.byteLength=d;function b(K,F,D){var it=!1;if((F===void 0||F<0)&&(F=0),F>this.length||((D===void 0||D>this.length)&&(D=this.length),D<=0)||(D>>>=0,F>>>=0,D<=F))return"";for(K||(K="utf8");;)switch(K){case"hex":return lt(this,F,D);case"utf8":case"utf-8":return Ke(this,F,D);case"ascii":return kr(this,F,D);case"latin1":case"binary":return Ar(this,F,D);case"base64":return cr(this,F,D);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return me(this,F,D);default:if(it)throw new TypeError("Unknown encoding: "+K);K=(K+"").toLowerCase(),it=!0}}L.prototype._isBuffer=!0;function T(K,F,D){var it=K[F];K[F]=K[D],K[D]=it}L.prototype.swap16=function(){var F=this.length;if(F%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var D=0;D<F;D+=2)T(this,D,D+1);return this},L.prototype.swap32=function(){var F=this.length;if(F%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var D=0;D<F;D+=4)T(this,D,D+3),T(this,D+1,D+2);return this},L.prototype.swap64=function(){var F=this.length;if(F%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var D=0;D<F;D+=8)T(this,D,D+7),T(this,D+1,D+6),T(this,D+2,D+5),T(this,D+3,D+4);return this},L.prototype.toString=function(){var F=this.length|0;return F===0?"":arguments.length===0?Ke(this,0,F):b.apply(this,arguments)},L.prototype.equals=function(F){if(!L.isBuffer(F))throw new TypeError("Argument must be a Buffer");return this===F?!0:L.compare(this,F)===0},L.prototype.inspect=function(){var F="",D=hr.INSPECT_MAX_BYTES;return this.length>0&&(F=this.toString("hex",0,D).match(/.{2}/g).join(" "),this.length>D&&(F+=" ... ")),"<Buffer "+F+">"},L.prototype.compare=function(F,D,it,vt,ee){if(!L.isBuffer(F))throw new TypeError("Argument must be a Buffer");if(D===void 0&&(D=0),it===void 0&&(it=F?F.length:0),vt===void 0&&(vt=0),ee===void 0&&(ee=this.length),D<0||it>F.length||vt<0||ee>this.length)throw new RangeError("out of range index");if(vt>=ee&&D>=it)return 0;if(vt>=ee)return-1;if(D>=it)return 1;if(D>>>=0,it>>>=0,vt>>>=0,ee>>>=0,this===F)return 0;for(var he=ee-vt,yr=it-D,Er=Math.min(he,yr),mr=this.slice(vt,ee),xr=F.slice(D,it),_r=0;_r<Er;++_r)if(mr[_r]!==xr[_r]){he=mr[_r],yr=xr[_r];break}return he<yr?-1:yr<he?1:0};function O(K,F,D,it,vt){if(K.length===0)return-1;if(typeof D=="string"?(it=D,D=0):D>2147483647?D=2147483647:D<-2147483648&&(D=-2147483648),D=+D,isNaN(D)&&(D=vt?0:K.length-1),D<0&&(D=K.length+D),D>=K.length){if(vt)return-1;D=K.length-1}else if(D<0)if(vt)D=0;else return-1;if(typeof F=="string"&&(F=L.from(F,it)),L.isBuffer(F))return F.length===0?-1:Y(K,F,D,it,vt);if(typeof F=="number")return F=F&255,L.TYPED_ARRAY_SUPPORT&&typeof Uint8Array.prototype.indexOf=="function"?vt?Uint8Array.prototype.indexOf.call(K,F,D):Uint8Array.prototype.lastIndexOf.call(K,F,D):Y(K,[F],D,it,vt);throw new TypeError("val must be string, number or Buffer")}function Y(K,F,D,it,vt){var ee=1,he=K.length,yr=F.length;if(it!==void 0&&(it=String(it).toLowerCase(),it==="ucs2"||it==="ucs-2"||it==="utf16le"||it==="utf-16le")){if(K.length<2||F.length<2)return-1;ee=2,he/=2,yr/=2,D/=2}function Er(ln,bn){return ee===1?ln[bn]:ln.readUInt16BE(bn*ee)}var mr;if(vt){var xr=-1;for(mr=D;mr<he;mr++)if(Er(K,mr)===Er(F,xr===-1?0:mr-xr)){if(xr===-1&&(xr=mr),mr-xr+1===yr)return xr*ee}else xr!==-1&&(mr-=mr-xr),xr=-1}else for(D+yr>he&&(D=he-yr),mr=D;mr>=0;mr--){for(var _r=!0,Kr=0;Kr<yr;Kr++)if(Er(K,mr+Kr)!==Er(F,Kr)){_r=!1;break}if(_r)return mr}return-1}L.prototype.includes=function(F,D,it){return this.indexOf(F,D,it)!==-1},L.prototype.indexOf=function(F,D,it){return O(this,F,D,it,!0)},L.prototype.lastIndexOf=function(F,D,it){return O(this,F,D,it,!1)};function et(K,F,D,it){D=Number(D)||0;var vt=K.length-D;it?(it=Number(it),it>vt&&(it=vt)):it=vt;var ee=F.length;if(ee%2!=0)throw new TypeError("Invalid hex string");it>ee/2&&(it=ee/2);for(var he=0;he<it;++he){var yr=parseInt(F.substr(he*2,2),16);if(isNaN(yr))return he;K[D+he]=yr}return he}function yt(K,F,D,it){return oe(Vt(F,K.length-D),K,D,it)}function Zt(K,F,D,it){return oe(Ht(F),K,D,it)}function fe(K,F,D,it){return Zt(K,F,D,it)}function Ue(K,F,D,it){return oe(te(F),K,D,it)}function sr(K,F,D,it){return oe(Nt(F,K.length-D),K,D,it)}L.prototype.write=function(F,D,it,vt){if(D===void 0)vt="utf8",it=this.length,D=0;else if(it===void 0&&typeof D=="string")vt=D,it=this.length,D=0;else if(isFinite(D))D=D|0,isFinite(it)?(it=it|0,vt===void 0&&(vt="utf8")):(vt=it,it=void 0);else throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");var ee=this.length-D;if((it===void 0||it>ee)&&(it=ee),F.length>0&&(it<0||D<0)||D>this.length)throw new RangeError("Attempt to write outside buffer bounds");vt||(vt="utf8");for(var he=!1;;)switch(vt){case"hex":return et(this,F,D,it);case"utf8":case"utf-8":return yt(this,F,D,it);case"ascii":return Zt(this,F,D,it);case"latin1":case"binary":return fe(this,F,D,it);case"base64":return Ue(this,F,D,it);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return sr(this,F,D,it);default:if(he)throw new TypeError("Unknown encoding: "+vt);vt=(""+vt).toLowerCase(),he=!0}},L.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};function cr(K,F,D){return F===0&&D===K.length?C.fromByteArray(K):C.fromByteArray(K.slice(F,D))}function Ke(K,F,D){D=Math.min(K.length,D);for(var it=[],vt=F;vt<D;){var ee=K[vt],he=null,yr=ee>239?4:ee>223?3:ee>191?2:1;if(vt+yr<=D){var Er,mr,xr,_r;switch(yr){case 1:ee<128&&(he=ee);break;case 2:Er=K[vt+1],(Er&192)==128&&(_r=(ee&31)<<6|Er&63,_r>127&&(he=_r));break;case 3:Er=K[vt+1],mr=K[vt+2],(Er&192)==128&&(mr&192)==128&&(_r=(ee&15)<<12|(Er&63)<<6|mr&63,_r>2047&&(_r<55296||_r>57343)&&(he=_r));break;case 4:Er=K[vt+1],mr=K[vt+2],xr=K[vt+3],(Er&192)==128&&(mr&192)==128&&(xr&192)==128&&(_r=(ee&15)<<18|(Er&63)<<12|(mr&63)<<6|xr&63,_r>65535&&_r<1114112&&(he=_r))}}he===null?(he=65533,yr=1):he>65535&&(he-=65536,it.push(he>>>10&1023|55296),he=56320|he&1023),it.push(he),vt+=yr}return gr(it)}var Ie=4096;function gr(K){var F=K.length;if(F<=Ie)return String.fromCharCode.apply(String,K);for(var D="",it=0;it<F;)D+=String.fromCharCode.apply(String,K.slice(it,it+=Ie));return D}function kr(K,F,D){var it="";D=Math.min(K.length,D);for(var vt=F;vt<D;++vt)it+=String.fromCharCode(K[vt]&127);return it}function Ar(K,F,D){var it="";D=Math.min(K.length,D);for(var vt=F;vt<D;++vt)it+=String.fromCharCode(K[vt]);return it}function lt(K,F,D){var it=K.length;(!F||F<0)&&(F=0),(!D||D<0||D>it)&&(D=it);for(var vt="",ee=F;ee<D;++ee)vt+=re(K[ee]);return vt}function me(K,F,D){for(var it=K.slice(F,D),vt="",ee=0;ee<it.length;ee+=2)vt+=String.fromCharCode(it[ee]+it[ee+1]*256);return vt}L.prototype.slice=function(F,D){var it=this.length;F=~~F,D=D===void 0?it:~~D,F<0?(F+=it,F<0&&(F=0)):F>it&&(F=it),D<0?(D+=it,D<0&&(D=0)):D>it&&(D=it),D<F&&(D=F);var vt;if(L.TYPED_ARRAY_SUPPORT)vt=this.subarray(F,D),vt.__proto__=L.prototype;else{var ee=D-F;vt=new L(ee,void 0);for(var he=0;he<ee;++he)vt[he]=this[he+F]}return vt};function Z(K,F,D){if(K%1!=0||K<0)throw new RangeError("offset is not uint");if(K+F>D)throw new RangeError("Trying to access beyond buffer length")}L.prototype.readUIntLE=function(F,D,it){F=F|0,D=D|0,it||Z(F,D,this.length);for(var vt=this[F],ee=1,he=0;++he<D&&(ee*=256);)vt+=this[F+he]*ee;return vt},L.prototype.readUIntBE=function(F,D,it){F=F|0,D=D|0,it||Z(F,D,this.length);for(var vt=this[F+--D],ee=1;D>0&&(ee*=256);)vt+=this[F+--D]*ee;return vt},L.prototype.readUInt8=function(F,D){return D||Z(F,1,this.length),this[F]},L.prototype.readUInt16LE=function(F,D){return D||Z(F,2,this.length),this[F]|this[F+1]<<8},L.prototype.readUInt16BE=function(F,D){return D||Z(F,2,this.length),this[F]<<8|this[F+1]},L.prototype.readUInt32LE=function(F,D){return D||Z(F,4,this.length),(this[F]|this[F+1]<<8|this[F+2]<<16)+this[F+3]*16777216},L.prototype.readUInt32BE=function(F,D){return D||Z(F,4,this.length),this[F]*16777216+(this[F+1]<<16|this[F+2]<<8|this[F+3])},L.prototype.readIntLE=function(F,D,it){F=F|0,D=D|0,it||Z(F,D,this.length);for(var vt=this[F],ee=1,he=0;++he<D&&(ee*=256);)vt+=this[F+he]*ee;return ee*=128,vt>=ee&&(vt-=Math.pow(2,8*D)),vt},L.prototype.readIntBE=function(F,D,it){F=F|0,D=D|0,it||Z(F,D,this.length);for(var vt=D,ee=1,he=this[F+--vt];vt>0&&(ee*=256);)he+=this[F+--vt]*ee;return ee*=128,he>=ee&&(he-=Math.pow(2,8*D)),he},L.prototype.readInt8=function(F,D){return D||Z(F,1,this.length),this[F]&128?(255-this[F]+1)*-1:this[F]},L.prototype.readInt16LE=function(F,D){D||Z(F,2,this.length);var it=this[F]|this[F+1]<<8;return it&32768?it|4294901760:it},L.prototype.readInt16BE=function(F,D){D||Z(F,2,this.length);var it=this[F+1]|this[F]<<8;return it&32768?it|4294901760:it},L.prototype.readInt32LE=function(F,D){return D||Z(F,4,this.length),this[F]|this[F+1]<<8|this[F+2]<<16|this[F+3]<<24},L.prototype.readInt32BE=function(F,D){return D||Z(F,4,this.length),this[F]<<24|this[F+1]<<16|this[F+2]<<8|this[F+3]},L.prototype.readFloatLE=function(F,D){return D||Z(F,4,this.length),Ut.read(this,F,!0,23,4)},L.prototype.readFloatBE=function(F,D){return D||Z(F,4,this.length),Ut.read(this,F,!1,23,4)},L.prototype.readDoubleLE=function(F,D){return D||Z(F,8,this.length),Ut.read(this,F,!0,52,8)},L.prototype.readDoubleBE=function(F,D){return D||Z(F,8,this.length),Ut.read(this,F,!1,52,8)};function ct(K,F,D,it,vt,ee){if(!L.isBuffer(K))throw new TypeError('"buffer" argument must be a Buffer instance');if(F>vt||F<ee)throw new RangeError('"value" argument is out of bounds');if(D+it>K.length)throw new RangeError("Index out of range")}L.prototype.writeUIntLE=function(F,D,it,vt){if(F=+F,D=D|0,it=it|0,!vt){var ee=Math.pow(2,8*it)-1;ct(this,F,D,it,ee,0)}var he=1,yr=0;for(this[D]=F&255;++yr<it&&(he*=256);)this[D+yr]=F/he&255;return D+it},L.prototype.writeUIntBE=function(F,D,it,vt){if(F=+F,D=D|0,it=it|0,!vt){var ee=Math.pow(2,8*it)-1;ct(this,F,D,it,ee,0)}var he=it-1,yr=1;for(this[D+he]=F&255;--he>=0&&(yr*=256);)this[D+he]=F/yr&255;return D+it},L.prototype.writeUInt8=function(F,D,it){return F=+F,D=D|0,it||ct(this,F,D,1,255,0),L.TYPED_ARRAY_SUPPORT||(F=Math.floor(F)),this[D]=F&255,D+1};function Ot(K,F,D,it){F<0&&(F=65535+F+1);for(var vt=0,ee=Math.min(K.length-D,2);vt<ee;++vt)K[D+vt]=(F&255<<8*(it?vt:1-vt))>>>(it?vt:1-vt)*8}L.prototype.writeUInt16LE=function(F,D,it){return F=+F,D=D|0,it||ct(this,F,D,2,65535,0),L.TYPED_ARRAY_SUPPORT?(this[D]=F&255,this[D+1]=F>>>8):Ot(this,F,D,!0),D+2},L.prototype.writeUInt16BE=function(F,D,it){return F=+F,D=D|0,it||ct(this,F,D,2,65535,0),L.TYPED_ARRAY_SUPPORT?(this[D]=F>>>8,this[D+1]=F&255):Ot(this,F,D,!1),D+2};function U(K,F,D,it){F<0&&(F=4294967295+F+1);for(var vt=0,ee=Math.min(K.length-D,4);vt<ee;++vt)K[D+vt]=F>>>(it?vt:3-vt)*8&255}L.prototype.writeUInt32LE=function(F,D,it){return F=+F,D=D|0,it||ct(this,F,D,4,4294967295,0),L.TYPED_ARRAY_SUPPORT?(this[D+3]=F>>>24,this[D+2]=F>>>16,this[D+1]=F>>>8,this[D]=F&255):U(this,F,D,!0),D+4},L.prototype.writeUInt32BE=function(F,D,it){return F=+F,D=D|0,it||ct(this,F,D,4,4294967295,0),L.TYPED_ARRAY_SUPPORT?(this[D]=F>>>24,this[D+1]=F>>>16,this[D+2]=F>>>8,this[D+3]=F&255):U(this,F,D,!1),D+4},L.prototype.writeIntLE=function(F,D,it,vt){if(F=+F,D=D|0,!vt){var ee=Math.pow(2,8*it-1);ct(this,F,D,it,ee-1,-ee)}var he=0,yr=1,Er=0;for(this[D]=F&255;++he<it&&(yr*=256);)F<0&&Er===0&&this[D+he-1]!==0&&(Er=1),this[D+he]=(F/yr>>0)-Er&255;return D+it},L.prototype.writeIntBE=function(F,D,it,vt){if(F=+F,D=D|0,!vt){var ee=Math.pow(2,8*it-1);ct(this,F,D,it,ee-1,-ee)}var he=it-1,yr=1,Er=0;for(this[D+he]=F&255;--he>=0&&(yr*=256);)F<0&&Er===0&&this[D+he+1]!==0&&(Er=1),this[D+he]=(F/yr>>0)-Er&255;return D+it},L.prototype.writeInt8=function(F,D,it){return F=+F,D=D|0,it||ct(this,F,D,1,127,-128),L.TYPED_ARRAY_SUPPORT||(F=Math.floor(F)),F<0&&(F=255+F+1),this[D]=F&255,D+1},L.prototype.writeInt16LE=function(F,D,it){return F=+F,D=D|0,it||ct(this,F,D,2,32767,-32768),L.TYPED_ARRAY_SUPPORT?(this[D]=F&255,this[D+1]=F>>>8):Ot(this,F,D,!0),D+2},L.prototype.writeInt16BE=function(F,D,it){return F=+F,D=D|0,it||ct(this,F,D,2,32767,-32768),L.TYPED_ARRAY_SUPPORT?(this[D]=F>>>8,this[D+1]=F&255):Ot(this,F,D,!1),D+2},L.prototype.writeInt32LE=function(F,D,it){return F=+F,D=D|0,it||ct(this,F,D,4,2147483647,-2147483648),L.TYPED_ARRAY_SUPPORT?(this[D]=F&255,this[D+1]=F>>>8,this[D+2]=F>>>16,this[D+3]=F>>>24):U(this,F,D,!0),D+4},L.prototype.writeInt32BE=function(F,D,it){return F=+F,D=D|0,it||ct(this,F,D,4,2147483647,-2147483648),F<0&&(F=4294967295+F+1),L.TYPED_ARRAY_SUPPORT?(this[D]=F>>>24,this[D+1]=F>>>16,this[D+2]=F>>>8,this[D+3]=F&255):U(this,F,D,!1),D+4};function tt(K,F,D,it,vt,ee){if(D+it>K.length)throw new RangeError("Index out of range");if(D<0)throw new RangeError("Index out of range")}function mt(K,F,D,it,vt){return vt||tt(K,F,D,4,34028234663852886e22,-34028234663852886e22),Ut.write(K,F,D,it,23,4),D+4}L.prototype.writeFloatLE=function(F,D,it){return mt(this,F,D,!0,it)},L.prototype.writeFloatBE=function(F,D,it){return mt(this,F,D,!1,it)};function pt(K,F,D,it,vt){return vt||tt(K,F,D,8,17976931348623157e292,-17976931348623157e292),Ut.write(K,F,D,it,52,8),D+8}L.prototype.writeDoubleLE=function(F,D,it){return pt(this,F,D,!0,it)},L.prototype.writeDoubleBE=function(F,D,it){return pt(this,F,D,!1,it)},L.prototype.copy=function(F,D,it,vt){if(it||(it=0),!vt&&vt!==0&&(vt=this.length),D>=F.length&&(D=F.length),D||(D=0),vt>0&&vt<it&&(vt=it),vt===it||F.length===0||this.length===0)return 0;if(D<0)throw new RangeError("targetStart out of bounds");if(it<0||it>=this.length)throw new RangeError("sourceStart out of bounds");if(vt<0)throw new RangeError("sourceEnd out of bounds");vt>this.length&&(vt=this.length),F.length-D<vt-it&&(vt=F.length-D+it);var ee=vt-it,he;if(this===F&&it<D&&D<vt)for(he=ee-1;he>=0;--he)F[he+D]=this[he+it];else if(ee<1e3||!L.TYPED_ARRAY_SUPPORT)for(he=0;he<ee;++he)F[he+D]=this[he+it];else Uint8Array.prototype.set.call(F,this.subarray(it,it+ee),D);return ee},L.prototype.fill=function(F,D,it,vt){if(typeof F=="string"){if(typeof D=="string"?(vt=D,D=0,it=this.length):typeof it=="string"&&(vt=it,it=this.length),F.length===1){var ee=F.charCodeAt(0);ee<256&&(F=ee)}if(vt!==void 0&&typeof vt!="string")throw new TypeError("encoding must be a string");if(typeof vt=="string"&&!L.isEncoding(vt))throw new TypeError("Unknown encoding: "+vt)}else typeof F=="number"&&(F=F&255);if(D<0||this.length<D||this.length<it)throw new RangeError("Out of range index");if(it<=D)return this;D=D>>>0,it=it===void 0?this.length:it>>>0,F||(F=0);var he;if(typeof F=="number")for(he=D;he<it;++he)this[he]=F;else{var yr=L.isBuffer(F)?F:Vt(new L(F,vt).toString()),Er=yr.length;for(he=0;he<it-D;++he)this[he+D]=yr[he%Er]}return this};var Yt=/[^+\/0-9A-Za-z-_]/g;function St(K){if(K=Et(K).replace(Yt,""),K.length<2)return"";for(;K.length%4!=0;)K=K+"=";return K}function Et(K){return K.trim?K.trim():K.replace(/^\s+|\s+$/g,"")}function re(K){return K<16?"0"+K.toString(16):K.toString(16)}function Vt(K,F){F=F||Infinity;for(var D,it=K.length,vt=null,ee=[],he=0;he<it;++he){if(D=K.charCodeAt(he),D>55295&&D<57344){if(!vt){if(D>56319){(F-=3)>-1&&ee.push(239,191,189);continue}else if(he+1===it){(F-=3)>-1&&ee.push(239,191,189);continue}vt=D;continue}if(D<56320){(F-=3)>-1&&ee.push(239,191,189),vt=D;continue}D=(vt-55296<<10|D-56320)+65536}else vt&&(F-=3)>-1&&ee.push(239,191,189);if(vt=null,D<128){if((F-=1)<0)break;ee.push(D)}else if(D<2048){if((F-=2)<0)break;ee.push(D>>6|192,D&63|128)}else if(D<65536){if((F-=3)<0)break;ee.push(D>>12|224,D>>6&63|128,D&63|128)}else if(D<1114112){if((F-=4)<0)break;ee.push(D>>18|240,D>>12&63|128,D>>6&63|128,D&63|128)}else throw new Error("Invalid code point")}return ee}function Ht(K){for(var F=[],D=0;D<K.length;++D)F.push(K.charCodeAt(D)&255);return F}function Nt(K,F){for(var D,it,vt,ee=[],he=0;he<K.length&&!((F-=2)<0);++he)D=K.charCodeAt(he),it=D>>8,vt=D%256,ee.push(vt),ee.push(it);return ee}function te(K){return C.toByteArray(St(K))}function oe(K,F,D,it){for(var vt=0;vt<it&&!(vt+D>=F.length||vt>=K.length);++vt)F[vt+D]=K[vt];return vt}function Pe(K){return K!==K}}).call(this,Te("IyRk"))},JhKR:function(on,hr){var Te=0,ar=1,C=2,Ut=3,nt=4,ve=5,Ce=6,_t=/[a-z0-9_-]/i,L=/[\s\t]/,a=function(n){for(var e=!0,r=Te,i="",u=0,o,d,b=[];;){if(d=n[u],r===Te){if(!d&&e)break;if(!d&&!e)throw new Error("Parse error");if(d==='"'||d==="'")o=d,r=ar,e=!1;else if(!L.test(d))if(_t.test(d))r=Ut,e=!1,u--;else throw new Error("Parse error")}else if(r===ar)if(d)d==="\\"?r=C:d===o?(b.push(i),i="",r=nt):i+=d;else throw new Error("Parse Error");else if(r===C)if(d===o||d==="\\")i+=d,r=ar;else throw new Error("Parse error");else if(r===Ut)if(d)_t.test(d)?i+=d:d===","?(b.push(i),i="",r=Te):L.test(d)?r=ve:d==="\\"&&(r=Ce);else{b.push(i);break}else if(r===Ce){if(/[0-9a-f]/i.test(d))throw new Error("Parse error");i+=d,r=Ut}else if(r===ve)if(d){if(_t.test(d))i+=" "+d,r=Ut;else if(d===",")b.push(i),i="",r=Te;else if(!L.test(d))throw new Error("Parse error")}else{b.push(i);break}else if(r===nt)if(d){if(d===",")r=Te;else if(!L.test(d))throw new Error("Parse error")}else break;u++}return b},f=/[^a-z0-9_-]/i,h=function(n,e){var r=e&&e.quote||'"';if(r!=='"'&&r!=="'")throw new Error("Quote must be `'` or `\"`");for(var i=new RegExp(r,"g"),u=[],o=0;o<n.length;++o){var d=n[o];f.test(d)&&(d=d.replace(/\\/g,"\\\\").replace(i,"\\"+r),d=r+d+r),u.push(d)}return u.join(", ")};on.exports={parse:a,stringify:h}},LvDl:function(on,hr,Te){(function(ar,C){var Ut;/**
* @license
* Lodash <https://lodash.com/>
* Copyright OpenJS Foundation and other contributors <https://openjsf.org/>
* Released under MIT license <https://lodash.com/license>
* Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>
* Copyright Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors
*/(function(){var nt,ve="4.17.21",Ce=200,_t="Unsupported core-js use. Try https://npms.io/search?q=ponyfill.",L="Expected a function",a="Invalid `variable` option passed into `_.template`",f="__lodash_hash_undefined__",h=500,l="__lodash_placeholder__",n=1,e=2,r=4,i=1,u=2,o=1,d=2,b=4,T=8,O=16,Y=32,et=64,yt=128,Zt=256,fe=512,Ue=30,sr="...",cr=800,Ke=16,Ie=1,gr=2,kr=3,Ar=1/0,lt=9007199254740991,me=17976931348623157e292,Z=0/0,ct=4294967295,Ot=ct-1,U=ct>>>1,tt=[["ary",yt],["bind",o],["bindKey",d],["curry",T],["curryRight",O],["flip",fe],["partial",Y],["partialRight",et],["rearg",Zt]],mt="[object Arguments]",pt="[object Array]",Yt="[object AsyncFunction]",St="[object Boolean]",Et="[object Date]",re="[object DOMException]",Vt="[object Error]",Ht="[object Function]",Nt="[object GeneratorFunction]",te="[object Map]",oe="[object Number]",Pe="[object Null]",K="[object Object]",F="[object Promise]",D="[object Proxy]",it="[object RegExp]",vt="[object Set]",ee="[object String]",he="[object Symbol]",yr="[object Undefined]",Er="[object WeakMap]",mr="[object WeakSet]",xr="[object ArrayBuffer]",_r="[object DataView]",Kr="[object Float32Array]",ln="[object Float64Array]",bn="[object Int8Array]",Un="[object Int16Array]",$n="[object Int32Array]",Sn="[object Uint8Array]",Gn="[object Uint8ClampedArray]",di="[object Uint16Array]",Si="[object Uint32Array]",Ni=/\b__p \+= '';/g,ei=/\b(__p \+=) '' \+/g,Ia=/(__e\(.*?\)|\b__t\)) \+\n'';/g,Nr=/&(?:amp|lt|gt|quot|#39);/g,na=/[&<>"']/g,Ds=RegExp(Nr.source),Qa=RegExp(na.source),Rs=/<%-([\s\S]+?)%>/g,vs=/<%([\s\S]+?)%>/g,ia=/<%=([\s\S]+?)%>/g,ms=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Bs=/^\w*$/,Da=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Ra=/[\\^$.*+?()[\]{}|]/g,js=RegExp(Ra.source),Ba=/^\s+/,ba=/\s/,Ki=/\{(?:\n\/\* \[wrapped with .+\] \*\/)?\n?/,Us=/\{\n\/\* \[wrapped with (.+)\] \*/,lo=/,? & /,ja=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g,wa=/[()=,{}\[\]\/\s]/,zs=/\\(\\)?/g,ts=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,W=/\w*$/,N=/^[-+]0x[0-9a-f]+$/i,x=/^0b[01]+$/i,j=/^\[object .+?Constructor\]$/,V=/^0o[0-7]+$/i,ht=/^(?:0|[1-9]\d*)$/,kt=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,Mt=/($^)/,ae=/['\n\r\u2028\u2029\\]/g,we="\\ud800-\\udfff",qt="\\u0300-\\u036f",Le="\\ufe20-\\ufe2f",Rr="\\u20d0-\\u20ff",Pt=qt+Le+Rr,q="\\u2700-\\u27bf",G="a-z\\xdf-\\xf6\\xf8-\\xff",wt="\\xac\\xb1\\xd7\\xf7",It="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",Jt="\\u2000-\\u206f",xe=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",Ne="A-Z\\xc0-\\xd6\\xd8-\\xde",Re="\\ufe0e\\ufe0f",Ee=wt+It+Jt+xe,fr="['\u2019]",er="["+we+"]",Jr="["+Ee+"]",$r="["+Pt+"]",Br="\\d+",_n="["+q+"]",Qr="["+G+"]",vn="[^"+we+Ee+Br+q+G+Ne+"]",Yn="\\ud83c[\\udffb-\\udfff]",kn="(?:"+$r+"|"+Yn+")",A="[^"+we+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",v="[\\ud800-\\udbff][\\udc00-\\udfff]",y="["+Ne+"]",_="\\u200d",w="(?:"+Qr+"|"+vn+")",S="(?:"+y+"|"+vn+")",I="(?:"+fr+"(?:d|ll|m|re|s|t|ve))?",E="(?:"+fr+"(?:D|LL|M|RE|S|T|VE))?",H=kn+"?",ut="["+Re+"]?",st="(?:"+_+"(?:"+[A,p,v].join("|")+")"+ut+H+")*",bt="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",z="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",Dt=ut+H+st,Ct="(?:"+[_n,p,v].join("|")+")"+Dt,Bt="(?:"+[A+$r+"?",$r,p,v,er].join("|")+")",Tt=RegExp(fr,"g"),rt=RegExp($r,"g"),de=RegExp(Yn+"(?="+Yn+")|"+Bt+Dt,"g"),ke=RegExp([y+"?"+Qr+"+"+I+"(?="+[Jr,y,"$"].join("|")+")",S+"+"+E+"(?="+[Jr,y+w,"$"].join("|")+")",y+"?"+w+"+"+I,y+"+"+E,z,bt,Br,Ct].join("|"),"g"),Ge=RegExp("["+_+we+Pt+Re+"]"),nr=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/,Be=["Array","Buffer","DataView","Date","Error","Float32Array","Float64Array","Function","Int8Array","Int16Array","Int32Array","Map","Math","Object","Promise","RegExp","Set","String","Symbol","TypeError","Uint8Array","Uint8ClampedArray","Uint16Array","Uint32Array","WeakMap","_","clearTimeout","isFinite","parseInt","setTimeout"],lr=-1,$t={};$t[Kr]=$t[ln]=$t[bn]=$t[Un]=$t[$n]=$t[Sn]=$t[Gn]=$t[di]=$t[Si]=!0,$t[mt]=$t[pt]=$t[xr]=$t[St]=$t[_r]=$t[Et]=$t[Vt]=$t[Ht]=$t[te]=$t[oe]=$t[K]=$t[it]=$t[vt]=$t[ee]=$t[Er]=!1;var ze={};ze[mt]=ze[pt]=ze[xr]=ze[_r]=ze[St]=ze[Et]=ze[Kr]=ze[ln]=ze[bn]=ze[Un]=ze[$n]=ze[te]=ze[oe]=ze[K]=ze[it]=ze[vt]=ze[ee]=ze[he]=ze[Sn]=ze[Gn]=ze[di]=ze[Si]=!0,ze[Vt]=ze[Ht]=ze[Er]=!1;var Gt={\u00C0:"A",\u00C1:"A",\u00C2:"A",\u00C3:"A",\u00C4:"A",\u00C5:"A",\u00E0:"a",\u00E1:"a",\u00E2:"a",\u00E3:"a",\u00E4:"a",\u00E5:"a",\u00C7:"C",\u00E7:"c",\u00D0:"D",\u00F0:"d",\u00C8:"E",\u00C9:"E",\u00CA:"E",\u00CB:"E",\u00E8:"e",\u00E9:"e",\u00EA:"e",\u00EB:"e",\u00CC:"I",\u00CD:"I",\u00CE:"I",\u00CF:"I",\u00EC:"i",\u00ED:"i",\u00EE:"i",\u00EF:"i",\u00D1:"N",\u00F1:"n",\u00D2:"O",\u00D3:"O",\u00D4:"O",\u00D5:"O",\u00D6:"O",\u00D8:"O",\u00F2:"o",\u00F3:"o",\u00F4:"o",\u00F5:"o",\u00F6:"o",\u00F8:"o",\u00D9:"U",\u00DA:"U",\u00DB:"U",\u00DC:"U",\u00F9:"u",\u00FA:"u",\u00FB:"u",\u00FC:"u",\u00DD:"Y",\u00FD:"y",\u00FF:"y",\u00C6:"Ae",\u00E6:"ae",\u00DE:"Th",\u00FE:"th",\u00DF:"ss",\u0100:"A",\u0102:"A",\u0104:"A",\u0101:"a",\u0103:"a",\u0105:"a",\u0106:"C",\u0108:"C",\u010A:"C",\u010C:"C",\u0107:"c",\u0109:"c",\u010B:"c",\u010D:"c",\u010E:"D",\u0110:"D",\u010F:"d",\u0111:"d",\u0112:"E",\u0114:"E",\u0116:"E",\u0118:"E",\u011A:"E",\u0113:"e",\u0115:"e",\u0117:"e",\u0119:"e",\u011B:"e",\u011C:"G",\u011E:"G",\u0120:"G",\u0122:"G",\u011D:"g",\u011F:"g",\u0121:"g",\u0123:"g",\u0124:"H",\u0126:"H",\u0125:"h",\u0127:"h",\u0128:"I",\u012A:"I",\u012C:"I",\u012E:"I",\u0130:"I",\u0129:"i",\u012B:"i",\u012D:"i",\u012F:"i",\u0131:"i",\u0134:"J",\u0135:"j",\u0136:"K",\u0137:"k",\u0138:"k",\u0139:"L",\u013B:"L",\u013D:"L",\u013F:"L",\u0141:"L",\u013A:"l",\u013C:"l",\u013E:"l",\u0140:"l",\u0142:"l",\u0143:"N",\u0145:"N",\u0147:"N",\u014A:"N",\u0144:"n",\u0146:"n",\u0148:"n",\u014B:"n",\u014C:"O",\u014E:"O",\u0150:"O",\u014D:"o",\u014F:"o",\u0151:"o",\u0154:"R",\u0156:"R",\u0158:"R",\u0155:"r",\u0157:"r",\u0159:"r",\u015A:"S",\u015C:"S",\u015E:"S",\u0160:"S",\u015B:"s",\u015D:"s",\u015F:"s",\u0161:"s",\u0162:"T",\u0164:"T",\u0166:"T",\u0163:"t",\u0165:"t",\u0167:"t",\u0168:"U",\u016A:"U",\u016C:"U",\u016E:"U",\u0170:"U",\u0172:"U",\u0169:"u",\u016B:"u",\u016D:"u",\u016F:"u",\u0171:"u",\u0173:"u",\u0174:"W",\u0175:"w",\u0176:"Y",\u0177:"y",\u0178:"Y",\u0179:"Z",\u017B:"Z",\u017D:"Z",\u017A:"z",\u017C:"z",\u017E:"z",\u0132:"IJ",\u0133:"ij",\u0152:"Oe",\u0153:"oe",\u0149:"'n",\u017F:"s"},Lt={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},Kt={"&amp;":"&","&lt;":"<","&gt;":">","&quot;":'"',"&#39;":"'"},Xt={"\\":"\\","'":"'","\n":"n","\r":"r","\u2028":"u2028","\u2029":"u2029"},qe=parseFloat,We=parseInt,or=typeof ar=="object"&&ar&&ar.Object===Object&&ar,Oe=typeof self=="object"&&self&&self.Object===Object&&self,pr=or||Oe||Function("return this")(),Ye=hr&&!hr.nodeType&&hr,wr=Ye&&typeof C=="object"&&C&&!C.nodeType&&C,zt=wr&&wr.exports===Ye,ft=zt&&or.process,jt=function(){try{var ue=wr&&wr.require&&wr.require("util").types;return ue||ft&&ft.binding&&ft.binding("util")}catch(He){}}(),se=jt&&jt.isArrayBuffer,ge=jt&&jt.isDate,Ae=jt&&jt.isMap,Xe=jt&&jt.isRegExp,Me=jt&&jt.isSet,je=jt&&jt.isTypedArray;function ur(ue,He,Fe){switch(Fe.length){case 0:return ue.call(He);case 1:return ue.call(He,Fe[0]);case 2:return ue.call(He,Fe[0],Fe[1]);case 3:return ue.call(He,Fe[0],Fe[1],Fe[2])}return ue.apply(He,Fe)}function zr(ue,He,Fe,Ur){for(var nn=-1,Nn=ue==null?0:ue.length;++nn<Nn;){var Qn=ue[nn];He(Ur,Qn,Fe(Qn),ue)}return Ur}function Cr(ue,He){for(var Fe=-1,Ur=ue==null?0:ue.length;++Fe<Ur&&He(ue[Fe],Fe,ue)!==!1;);return ue}function en(ue,He){for(var Fe=ue==null?0:ue.length;Fe--&&He(ue[Fe],Fe,ue)!==!1;);return ue}function Gr(ue,He){for(var Fe=-1,Ur=ue==null?0:ue.length;++Fe<Ur;)if(!He(ue[Fe],Fe,ue))return!1;return!0}function Ft(ue,He){for(var Fe=-1,Ur=ue==null?0:ue.length,nn=0,Nn=[];++Fe<Ur;){var Qn=ue[Fe];He(Qn,Fe,ue)&&(Nn[nn++]=Qn)}return Nn}function Je(ue,He){var Fe=ue==null?0:ue.length;return!!Fe&&Vr(ue,He,0)>-1}function Or(ue,He,Fe){for(var Ur=-1,nn=ue==null?0:ue.length;++Ur<nn;)if(Fe(He,ue[Ur]))return!0;return!1}function Ve(ue,He){for(var Fe=-1,Ur=ue==null?0:ue.length,nn=Array(Ur);++Fe<Ur;)nn[Fe]=He(ue[Fe],Fe,ue);return nn}function Fr(ue,He){for(var Fe=-1,Ur=He.length,nn=ue.length;++Fe<Ur;)ue[nn+Fe]=He[Fe];return ue}function Sr(ue,He,Fe,Ur){var nn=-1,Nn=ue==null?0:ue.length;for(Ur&&Nn&&(Fe=ue[++nn]);++nn<Nn;)Fe=He(Fe,ue[nn],nn,ue);return Fe}function jr(ue,He,Fe,Ur){var nn=ue==null?0:ue.length;for(Ur&&nn&&(Fe=ue[--nn]);nn--;)Fe=He(Fe,ue[nn],nn,ue);return Fe}function Wr(ue,He){for(var Fe=-1,Ur=ue==null?0:ue.length;++Fe<Ur;)if(He(ue[Fe],Fe,ue))return!0;return!1}var Yr=Vn("length");function Fn(ue){return ue.split("")}function tn(ue){return ue.match(ja)||[]}function Tn(ue,He,Fe){var Ur;return Fe(ue,function(nn,Nn,Qn){if(He(nn,Nn,Qn))return Ur=Nn,!1}),Ur}function Hn(ue,He,Fe,Ur){for(var nn=ue.length,Nn=Fe+(Ur?1:-1);Ur?Nn--:++Nn<nn;)if(He(ue[Nn],Nn,ue))return Nn;return-1}function Vr(ue,He,Fe){return He===He?Ua(ue,He,Fe):Hn(ue,Mr,Fe)}function cn(ue,He,Fe,Ur){for(var nn=Fe-1,Nn=ue.length;++nn<Nn;)if(Ur(ue[nn],He))return nn;return-1}function Mr(ue){return ue!==ue}function Bi(ue,He){var Fe=ue==null?0:ue.length;return Fe?_a(ue,He)/Fe:Z}function Vn(ue){return function(He){return He==null?nt:He[ue]}}function Ci(ue){return function(He){return ue==null?nt:ue[He]}}function mn(ue,He,Fe,Ur,nn){return nn(ue,function(Nn,Qn,Pn){Fe=Ur?(Ur=!1,Nn):He(Fe,Nn,Qn,Pn)}),Fe}function pi(ue,He){var Fe=ue.length;for(ue.sort(He);Fe--;)ue[Fe]=ue[Fe].value;return ue}function _a(ue,He){for(var Fe,Ur=-1,nn=ue.length;++Ur<nn;){var Nn=He(ue[Ur]);Nn!==nt&&(Fe=Fe===nt?Nn:Fe+Nn)}return Fe}function Rn(ue,He){for(var Fe=-1,Ur=Array(ue);++Fe<ue;)Ur[Fe]=He(Fe);return Ur}function es(ue,He){return Ve(He,function(Fe){return[Fe,ue[Fe]]})}function oi(ue){return ue&&ue.slice(0,sa(ue)+1).replace(Ba,"")}function gi(ue){return function(He){return ue(He)}}function aa(ue,He){return Ve(He,function(Fe){return ue[Fe]})}function Zn(ue,He){return ue.has(He)}function un(ue,He){for(var Fe=-1,Ur=ue.length;++Fe<Ur&&Vr(He,ue[Fe],0)>-1;);return Fe}function jn(ue,He){for(var Fe=ue.length;Fe--&&Vr(He,ue[Fe],0)>-1;);return Fe}function uo(ue,He){for(var Fe=ue.length,Ur=0;Fe--;)ue[Fe]===He&&++Ur;return Ur}var ji=Ci(Gt),rs=Ci(Lt);function ns(ue){return"\\"+Xt[ue]}function rn(ue,He){return ue==null?nt:ue[He]}function Ji(ue){return Ge.test(ue)}function xa(ue){return nr.test(ue)}function ys(ue){for(var He,Fe=[];!(He=ue.next()).done;)Fe.push(He.value);return Fe}function ni(ue){var He=-1,Fe=Array(ue.size);return ue.forEach(function(Ur,nn){Fe[++He]=[nn,Ur]}),Fe}function Ai(ue,He){return function(Fe){return ue(He(Fe))}}function ii(ue,He){for(var Fe=-1,Ur=ue.length,nn=0,Nn=[];++Fe<Ur;){var Qn=ue[Fe];(Qn===He||Qn===l)&&(ue[Fe]=l,Nn[nn++]=Fe)}return Nn}function is(ue){var He=-1,Fe=Array(ue.size);return ue.forEach(function(Ur){Fe[++He]=Ur}),Fe}function Ws(ue){var He=-1,Fe=Array(ue.size);return ue.forEach(function(Ur){Fe[++He]=[Ur,Ur]}),Fe}function Ua(ue,He,Fe){for(var Ur=Fe-1,nn=ue.length;++Ur<nn;)if(ue[Ur]===He)return Ur;return-1}function as(ue,He,Fe){for(var Ur=Fe+1;Ur--;)if(ue[Ur]===He)return Ur;return Ur}function Ui(ue){return Ji(ue)?ss(ue):Yr(ue)}function vi(ue){return Ji(ue)?co(ue):Fn(ue)}function sa(ue){for(var He=ue.length;He--&&ba.test(ue.charAt(He)););return He}var ho=Ci(Kt);function ss(ue){for(var He=de.lastIndex=0;de.test(ue);)++He;return He}function co(ue){return ue.match(de)||[]}function Fo(ue){return ue.match(ke)||[]}var No=function ue(He){He=He==null?pr:bs.defaults(pr.Object(),He,bs.pick(pr,Be));var Fe=He.Array,Ur=He.Date,nn=He.Error,Nn=He.Function,Qn=He.Math,Pn=He.Object,nl=He.RegExp,El=He.String,$i=He.TypeError,Zi=Fe.prototype,fo=Nn.prototype,Hs=Pn.prototype,li=He["__core-js_shared__"],qs=fo.toString,In=Hs.hasOwnProperty,fu=0,il=function(){var t=/[^.]+$/.exec(li&&li.keys&&li.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}(),Mo=Hs.toString,Mi=qs.call(Pn),po=pr._,ws=nl("^"+qs.call(In).replace(Ra,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),go=zt?He.Buffer:nt,za=He.Symbol,Io=He.Uint8Array,al=go?go.allocUnsafe:nt,Do=Ai(Pn.getPrototypeOf,Pn),kl=Pn.create,Fl=Hs.propertyIsEnumerable,Gs=Zi.splice,Nl=za?za.isConcatSpreadable:nt,oa=za?za.iterator:nt,Sa=za?za.toStringTag:nt,Ro=function(){try{var t=gn(Pn,"defineProperty");return t({},"",{}),t}catch(s){}}(),Ml=He.clearTimeout!==pr.clearTimeout&&He.clearTimeout,Ti=Ur&&Ur.now!==pr.Date.now&&Ur.now,du=He.setTimeout!==pr.setTimeout&&He.setTimeout,vo=Qn.ceil,Bo=Qn.floor,sl=Pn.getOwnPropertySymbols,hn=go?go.isBuffer:nt,Wa=He.isFinite,Il=Zi.join,Dl=Ai(Pn.keys,Pn),ai=Qn.max,bi=Qn.min,pu=Ur.now,gu=He.parseInt,Rl=Qn.random,ol=Zi.reverse,jo=gn(He,"DataView"),Ca=gn(He,"Map"),Ys=gn(He,"Promise"),Aa=gn(He,"Set"),_s=gn(He,"WeakMap"),mo=gn(Pn,"create"),Uo=_s&&new _s,Ha={},Bl=Lo(jo),jl=Lo(Ca),xs=Lo(Ys),Ss=Lo(Aa),Ul=Lo(_s),zo=za?za.prototype:nt,os=zo?zo.valueOf:nt,qa=zo?zo.toString:nt;function at(t){if(xi(t)&&!yn(t)&&!(t instanceof wn)){if(t instanceof Qi)return t;if(In.call(t,"__wrapped__"))return Fs(t)}return new Qi(t)}var Vs=function(){function t(){}return function(s){if(!yi(s))return{};if(kl)return kl(s);t.prototype=s;var m=new t;return t.prototype=nt,m}}();function Cs(){}function Qi(t,s){this.__wrapped__=t,this.__actions__=[],this.__chain__=!!s,this.__index__=0,this.__values__=nt}at.templateSettings={escape:Rs,evaluate:vs,interpolate:ia,variable:"",imports:{_:at}},at.prototype=Cs.prototype,at.prototype.constructor=at,Qi.prototype=Vs(Cs.prototype),Qi.prototype.constructor=Qi;function wn(t){this.__wrapped__=t,this.__actions__=[],this.__dir__=1,this.__filtered__=!1,this.__iteratees__=[],this.__takeCount__=ct,this.__views__=[]}function ll(){var t=new wn(this.__wrapped__);return t.__actions__=Wi(this.__actions__),t.__dir__=this.__dir__,t.__filtered__=this.__filtered__,t.__iteratees__=Wi(this.__iteratees__),t.__takeCount__=this.__takeCount__,t.__views__=Wi(this.__views__),t}function zl(){if(this.__filtered__){var t=new wn(this);t.__dir__=-1,t.__filtered__=!0}else t=this.clone(),t.__dir__*=-1;return t}function Wo(){var t=this.__wrapped__.value(),s=this.__dir__,m=yn(t),M=s<0,J=m?t.length:0,gt=ea(0,J,this.__views__),Rt=gt.start,Qt=gt.end,pe=Qt-Rt,rr=M?Qt:Rt-1,ir=this.__iteratees__,vr=ir.length,Ir=0,qr=bi(pe,this.__takeCount__);if(!m||!M&&J==pe&&qr==pe)return Wu(t,this.__actions__);var an=[];t:for(;pe--&&Ir<qr;){rr+=s;for(var Cn=-1,sn=t[rr];++Cn<vr;){var En=ir[Cn],Dn=En.iteratee,$a=En.type,ya=Dn(sn);if($a==gr)sn=ya;else if(!ya){if($a==Ie)continue t;break t}}an[Ir++]=sn}return an}wn.prototype=Vs(Cs.prototype),wn.prototype.constructor=wn;function ls(t){var s=-1,m=t==null?0:t.length;for(this.clear();++s<m;){var M=t[s];this.set(M[0],M[1])}}function ul(){this.__data__=mo?mo(null):{},this.size=0}function hl(t){var s=this.has(t)&&delete this.__data__[t];return this.size-=s?1:0,s}function vu(t){var s=this.__data__;if(mo){var m=s[t];return m===f?nt:m}return In.call(s,t)?s[t]:nt}function Ho(t){var s=this.__data__;return mo?s[t]!==nt:In.call(s,t)}function cl(t,s){var m=this.__data__;return this.size+=this.has(t)?0:1,m[t]=mo&&s===nt?f:s,this}ls.prototype.clear=ul,ls.prototype.delete=hl,ls.prototype.get=vu,ls.prototype.has=Ho,ls.prototype.set=cl;function la(t){var s=-1,m=t==null?0:t.length;for(this.clear();++s<m;){var M=t[s];this.set(M[0],M[1])}}function us(){this.__data__=[],this.size=0}function fl(t){var s=this.__data__,m=Xs(s,t);if(m<0)return!1;var M=s.length-1;return m==M?s.pop():Gs.call(s,m,1),--this.size,!0}function k(t){var s=this.__data__,m=Xs(s,t);return m<0?nt:s[m][1]}function R(t){return Xs(this.__data__,t)>-1}function xt(t,s){var m=this.__data__,M=Xs(m,t);return M<0?(++this.size,m.push([t,s])):m[M][1]=s,this}la.prototype.clear=us,la.prototype.delete=fl,la.prototype.get=k,la.prototype.has=R,la.prototype.set=xt;function Wt(t){var s=-1,m=t==null?0:t.length;for(this.clear();++s<m;){var M=t[s];this.set(M[0],M[1])}}function be(){this.size=0,this.__data__={hash:new ls,map:new(Ca||la),string:new ls}}function Se(t){var s=Bn(this,t).delete(t);return this.size-=s?1:0,s}function dr(t){return Bn(this,t).get(t)}function br(t){return Bn(this,t).has(t)}function Hr(t,s){var m=Bn(this,t),M=m.size;return m.set(t,s),this.size+=m.size==M?0:1,this}Wt.prototype.clear=be,Wt.prototype.delete=Se,Wt.prototype.get=dr,Wt.prototype.has=br,Wt.prototype.set=Hr;function Zr(t){var s=-1,m=t==null?0:t.length;for(this.__data__=new Wt;++s<m;)this.add(t[s])}function dn(t){return this.__data__.set(t,f),this}function Mn(t){return this.__data__.has(t)}Zr.prototype.add=Zr.prototype.push=dn,Zr.prototype.has=Mn;function An(t){var s=this.__data__=new la(t);this.size=s.size}function si(){this.__data__=new la,this.size=0}function ri(t){var s=this.__data__,m=s.delete(t);return this.size=s.size,m}function qi(t){return this.__data__.get(t)}function wi(t){return this.__data__.has(t)}function Ga(t,s){var m=this.__data__;if(m instanceof la){var M=m.__data__;if(!Ca||M.length<Ce-1)return M.push([t,s]),this.size=++m.size,this;m=this.__data__=new Wt(M)}return m.set(t,s),this.size=m.size,this}An.prototype.clear=si,An.prototype.delete=ri,An.prototype.get=qi,An.prototype.has=wi,An.prototype.set=Ga;function yo(t,s){var m=yn(t),M=!m&&Ol(t),J=!m&&!M&&rl(t),gt=!m&&!M&&!J&&hu(t),Rt=m||M||J||gt,Qt=Rt?Rn(t.length,El):[],pe=Qt.length;for(var rr in t)(s||In.call(t,rr))&&!(Rt&&(rr=="length"||J&&(rr=="offset"||rr=="parent")||gt&&(rr=="buffer"||rr=="byteLength"||rr=="byteOffset")||ci(rr,pe)))&&Qt.push(rr);return Qt}function dl(t){var s=t.length;return s?t[Jl(0,s-1)]:nt}function As(t,s){return Po(Wi(t),cs(s,0,t.length))}function pl(t){return Po(Wi(t))}function bo(t,s,m){(m!==nt&&!Ms(t[s],m)||m===nt&&!(s in t))&&zi(t,s,m)}function hs(t,s,m){var M=t[s];(!(In.call(t,s)&&Ms(M,m))||m===nt&&!(s in t))&&zi(t,s,m)}function Xs(t,s){for(var m=t.length;m--;)if(Ms(t[m][0],s))return m;return-1}function gl(t,s,m,M){return Ei(t,function(J,gt,Rt){s(M,J,m(J),Rt)}),M}function wo(t,s){return t&&Xa(s,Hi(s),t)}function ua(t,s){return t&&Xa(s,Na(s),t)}function zi(t,s,m){s=="__proto__"&&Ro?Ro(t,s,{configurable:!0,enumerable:!0,value:m,writable:!0}):t[s]=m}function Ks(t,s){for(var m=-1,M=s.length,J=Fe(M),gt=t==null;++m<M;)J[m]=gt?nt:jh(t,s[m]);return J}function cs(t,s,m){return t===t&&(m!==nt&&(t=t<=m?t:m),s!==nt&&(t=t>=s?t:s)),t}function Ii(t,s,m,M,J,gt){var Rt,Qt=s&n,pe=s&e,rr=s&r;if(m&&(Rt=J?m(t,M,J,gt):m(t)),Rt!==nt)return Rt;if(!yi(t))return t;var ir=yn(t);if(ir){if(Rt=qn(t),!Qt)return Wi(t,Rt)}else{var vr=On(t),Ir=vr==Ht||vr==Nt;if(rl(t))return qu(t,Qt);if(vr==K||vr==mt||Ir&&!J){if(Rt=pe||Ir?{}:ra(t),!Qt)return pe?Ku(t,ua(Rt,t)):Sh(t,wo(Rt,t))}else{if(!ze[vr])return J?t:{};Rt=va(t,vr,Qt)}}gt||(gt=new An);var qr=gt.get(t);if(qr)return qr;gt.set(t,Rt),lc(t)?t.forEach(function(sn){Rt.add(Ii(sn,s,m,sn,t,gt))}):sc(t)&&t.forEach(function(sn,En){Rt.set(En,Ii(sn,s,m,En,t,gt))});var an=rr?pe?Dr:Ze:pe?Na:Hi,Cn=ir?nt:an(t);return Cr(Cn||t,function(sn,En){Cn&&(En=sn,sn=t[En]),hs(Rt,En,Ii(sn,s,m,En,t,gt))}),Rt}function Gi(t){var s=Hi(t);return function(m){return Wl(m,t,s)}}function Wl(t,s,m){var M=m.length;if(t==null)return!M;for(t=Pn(t);M--;){var J=m[M],gt=s[J],Rt=t[J];if(Rt===nt&&!(J in t)||!gt(Rt))return!1}return!0}function qo(t,s,m){if(typeof t!="function")throw new $i(L);return io(function(){t.apply(nt,m)},s)}function _o(t,s,m,M){var J=-1,gt=Je,Rt=!0,Qt=t.length,pe=[],rr=s.length;if(!Qt)return pe;m&&(s=Ve(s,gi(m))),M?(gt=Or,Rt=!1):s.length>=Ce&&(gt=Zn,Rt=!1,s=new Zr(s));t:for(;++J<Qt;){var ir=t[J],vr=m==null?ir:m(ir);if(ir=M||ir!==0?ir:0,Rt&&vr===vr){for(var Ir=rr;Ir--;)if(s[Ir]===vr)continue t;pe.push(ir)}else gt(s,vr,M)||pe.push(ir)}return pe}var Ei=Ju(Pi),xo=Ju(Js,!0);function mu(t,s){var m=!0;return Ei(t,function(M,J,gt){return m=!!s(M,J,gt),m}),m}function Go(t,s,m){for(var M=-1,J=t.length;++M<J;){var gt=t[M],Rt=s(gt);if(Rt!=null&&(Qt===nt?Rt===Rt&&!Ja(Rt):m(Rt,Qt)))var Qt=Rt,pe=gt}return pe}function So(t,s,m,M){var J=t.length;for(m=xn(m),m<0&&(m=-m>J?0:J+m),M=M===nt||M>J?J:xn(M),M<0&&(M+=J),M=m>M?0:hc(M);m<M;)t[m++]=s;return t}function Ta(t,s){var m=[];return Ei(t,function(M,J,gt){s(M,J,gt)&&m.push(M)}),m}function Xn(t,s,m,M,J){var gt=-1,Rt=t.length;for(m||(m=Ri),J||(J=[]);++gt<Rt;){var Qt=t[gt];s>0&&m(Qt)?s>1?Xn(Qt,s-1,m,M,J):Fr(J,Qt):M||(J[J.length]=Qt)}return J}var Ts=$u(),Ya=$u(!0);function Pi(t,s){return t&&Ts(t,s,Hi)}function Js(t,s){return t&&Ya(t,s,Hi)}function ta(t,s){return Ft(s,function(m){return Oo(t[m])})}function fs(t,s){s=eo(s,t);for(var m=0,M=s.length;t!=null&&m<M;)t=t[ps(s[m++])];return m&&m==M?t:nt}function $s(t,s,m){var M=s(t);return yn(t)?M:Fr(M,m(t))}function mi(t){return t==null?t===nt?yr:Pe:Sa&&Sa in Pn(t)?Jn(t):_l(t)}function ds(t,s){return t>s}function Pa(t,s){return t!=null&&In.call(t,s)}function Zs(t,s){return t!=null&&s in Pn(t)}function Yo(t,s,m){return t>=bi(s,m)&&t<ai(s,m)}function Ps(t,s,m){for(var M=m?Or:Je,J=t[0].length,gt=t.length,Rt=gt,Qt=Fe(gt),pe=Infinity,rr=[];Rt--;){var ir=t[Rt];Rt&&s&&(ir=Ve(ir,gi(s))),pe=bi(ir.length,pe),Qt[Rt]=!m&&(s||J>=120&&ir.length>=120)?new Zr(Rt&&ir):nt}ir=t[0];var vr=-1,Ir=Qt[0];t:for(;++vr<J&&rr.length<pe;){var qr=ir[vr],an=s?s(qr):qr;if(qr=m||qr!==0?qr:0,!(Ir?Zn(Ir,an):M(rr,an,m))){for(Rt=gt;--Rt;){var Cn=Qt[Rt];if(!(Cn?Zn(Cn,an):M(t[Rt],an,m)))continue t}Ir&&Ir.push(an),rr.push(qr)}}return rr}function Qs(t,s,m,M){return Pi(t,function(J,gt,Rt){s(M,m(J),gt,Rt)}),M}function Ls(t,s,m){s=eo(s,t),t=ka(t,s);var M=t==null?t:t[ps(ma(s))];return M==null?nt:ur(M,t,m)}function ha(t){return xi(t)&&mi(t)==mt}function Os(t){return xi(t)&&mi(t)==xr}function ui(t){return xi(t)&&mi(t)==Et}function zn(t,s,m,M,J){return t===s?!0:t==null||s==null||!xi(t)&&!xi(s)?t!==t&&s!==s:Di(t,s,m,M,zn,J)}function Di(t,s,m,M,J,gt){var Rt=yn(t),Qt=yn(s),pe=Rt?pt:On(t),rr=Qt?pt:On(s);pe=pe==mt?K:pe,rr=rr==mt?K:rr;var ir=pe==K,vr=rr==K,Ir=pe==rr;if(Ir&&rl(t)){if(!rl(s))return!1;Rt=!0,ir=!1}if(Ir&&!ir)return gt||(gt=new An),Rt||hu(t)?ie(t,s,m,M,J,gt):le(t,s,pe,m,M,J,gt);if(!(m&i)){var qr=ir&&In.call(t,"__wrapped__"),an=vr&&In.call(s,"__wrapped__");if(qr||an){var Cn=qr?t.value():t,sn=an?s.value():s;return gt||(gt=new An),J(Cn,sn,m,M,gt)}}return Ir?(gt||(gt=new An),$e(t,s,m,M,J,gt)):!1}function hi(t){return xi(t)&&On(t)==te}function Yi(t,s,m,M){var J=m.length,gt=J,Rt=!M;if(t==null)return!gt;for(t=Pn(t);J--;){var Qt=m[J];if(Rt&&Qt[2]?Qt[1]!==t[Qt[0]]:!(Qt[0]in t))return!1}for(;++J<gt;){Qt=m[J];var pe=Qt[0],rr=t[pe],ir=Qt[1];if(Rt&&Qt[2]){if(rr===nt&&!(pe in t))return!1}else{var vr=new An;if(M)var Ir=M(rr,ir,pe,t,s,vr);if(!(Ir===nt?zn(ir,rr,i|u,M,vr):Ir))return!1}}return!0}function Vo(t){if(!yi(t)||To(t))return!1;var s=Oo(t)?ws:j;return s.test(Lo(t))}function Es(t){return xi(t)&&mi(t)==it}function Hl(t){return xi(t)&&On(t)==vt}function ju(t){return xi(t)&&vh(t.length)&&!!$t[mi(t)]}function yu(t){return typeof t=="function"?t:t==null?Ma:typeof t=="object"?yn(t)?Yl(t[0],t[1]):wu(t):_c(t)}function ql(t){if(!Ea(t))return Dl(t);var s=[];for(var m in Pn(t))In.call(t,m)&&m!="constructor"&&s.push(m);return s}function Uu(t){if(!yi(t))return iu(t);var s=Ea(t),m=[];for(var M in t)M=="constructor"&&(s||!In.call(t,M))||m.push(M);return m}function Gl(t,s){return t<s}function bu(t,s){var m=-1,M=Fa(t)?Fe(t.length):[];return Ei(t,function(J,gt,Rt){M[++m]=s(J,gt,Rt)}),M}function wu(t){var s=Ln(t);return s.length==1&&s[0][2]?nu(s[0][0],s[0][1]):function(m){return m===t||Yi(m,t,s)}}function Yl(t,s){return Oa(t)&&fi(s)?nu(ps(t),s):function(m){var M=jh(m,t);return M===nt&&M===s?Uh(m,t):zn(s,M,i|u)}}function Co(t,s,m,M,J){t!==s&&Ts(s,function(gt,Rt){if(J||(J=new An),yi(gt))ca(t,s,Rt,m,Co,M,J);else{var Qt=M?M(no(t,Rt),gt,Rt+"",t,s,J):nt;Qt===nt&&(Qt=gt),bo(t,Rt,Qt)}},Na)}function ca(t,s,m,M,J,gt,Rt){var Qt=no(t,m),pe=no(s,m),rr=Rt.get(pe);if(rr){bo(t,m,rr);return}var ir=gt?gt(Qt,pe,m+"",t,s,Rt):nt,vr=ir===nt;if(vr){var Ir=yn(pe),qr=!Ir&&rl(pe),an=!Ir&&!qr&&hu(pe);ir=pe,Ir||qr||an?yn(Qt)?ir=Qt:Li(Qt)?ir=Wi(Qt):qr?(vr=!1,ir=qu(pe,!0)):an?(vr=!1,ir=Pu(pe,!0)):ir=[]:Bu(pe)||Ol(pe)?(ir=Qt,Ol(Qt)?ir=cc(Qt):(!yi(Qt)||Oo(Qt))&&(ir=ra(pe))):vr=!1}vr&&(Rt.set(pe,ir),J(ir,pe,M,gt,Rt),Rt.delete(pe)),bo(t,m,ir)}function fa(t,s){var m=t.length;if(!!m)return s+=s<0?m:0,ci(s,m)?t[s]:nt}function vl(t,s,m){s.length?s=Ve(s,function(gt){return yn(gt)?function(Rt){return fs(Rt,gt.length===1?gt[0]:gt)}:gt}):s=[Ma];var M=-1;s=Ve(s,gi(Lr()));var J=bu(t,function(gt,Rt,Qt){var pe=Ve(s,function(rr){return rr(gt)});return{criteria:pe,index:++M,value:gt}});return pi(J,function(gt,Rt){return eu(gt,Rt,m)})}function Vl(t,s){return _u(t,s,function(m,M){return Uh(t,M)})}function _u(t,s,m){for(var M=-1,J=s.length,gt={};++M<J;){var Rt=s[M],Qt=fs(t,Rt);m(Qt,Rt)&&yl(gt,eo(Rt,t),Qt)}return gt}function Xl(t){return function(s){return fs(s,t)}}function Xo(t,s,m,M){var J=M?cn:Vr,gt=-1,Rt=s.length,Qt=t;for(t===s&&(s=Wi(s)),m&&(Qt=Ve(t,gi(m)));++gt<Rt;)for(var pe=0,rr=s[gt],ir=m?m(rr):rr;(pe=J(Qt,ir,pe,M))>-1;)Qt!==t&&Gs.call(Qt,pe,1),Gs.call(t,pe,1);return t}function Kl(t,s){for(var m=t?s.length:0,M=m-1;m--;){var J=s[m];if(m==M||J!==gt){var gt=J;ci(J)?Gs.call(t,J,1):Ql(t,J)}}return t}function Jl(t,s){return t+Bo(Rl()*(s-t+1))}function xu(t,s,m,M){for(var J=-1,gt=ai(vo((s-t)/(m||1)),0),Rt=Fe(gt);gt--;)Rt[M?gt:++J]=t,t+=m;return Rt}function ml(t,s){var m="";if(!t||s<1||s>lt)return m;do s%2&&(m+=t),s=Bo(s/2),s&&(t+=t);while(s);return m}function pn(t,s){return au(xl(t,s,Ma),t+"")}function Su(t){return dl(cu(t))}function bh(t,s){var m=cu(t);return Po(m,cs(s,0,m.length))}function yl(t,s,m,M){if(!yi(t))return t;s=eo(s,t);for(var J=-1,gt=s.length,Rt=gt-1,Qt=t;Qt!=null&&++J<gt;){var pe=ps(s[J]),rr=m;if(pe==="__proto__"||pe==="constructor"||pe==="prototype")return t;if(J!=Rt){var ir=Qt[pe];rr=M?M(ir,pe,Qt):nt,rr===nt&&(rr=yi(ir)?ir:ci(s[J+1])?[]:{})}hs(Qt,pe,rr),Qt=Qt[pe]}return t}var Cu=Uo?function(t,s){return Uo.set(t,s),t}:Ma,wh=Ro?function(t,s){return Ro(t,"toString",{configurable:!0,enumerable:!1,value:Wh(s),writable:!0})}:Ma;function _h(t){return Po(cu(t))}function La(t,s,m){var M=-1,J=t.length;s<0&&(s=-s>J?0:J+s),m=m>J?J:m,m<0&&(m+=J),J=s>m?0:m-s>>>0,s>>>=0;for(var gt=Fe(J);++M<J;)gt[M]=t[M+s];return gt}function xh(t,s){var m;return Ei(t,function(M,J,gt){return m=s(M,J,gt),!m}),!!m}function $l(t,s,m){var M=0,J=t==null?M:t.length;if(typeof s=="number"&&s===s&&J<=U){for(;M<J;){var gt=M+J>>>1,Rt=t[gt];Rt!==null&&!Ja(Rt)&&(m?Rt<=s:Rt<s)?M=gt+1:J=gt}return J}return bl(t,s,Ma,m)}function bl(t,s,m,M){var J=0,gt=t==null?0:t.length;if(gt===0)return 0;s=m(s);for(var Rt=s!==s,Qt=s===null,pe=Ja(s),rr=s===nt;J<gt;){var ir=Bo((J+gt)/2),vr=m(t[ir]),Ir=vr!==nt,qr=vr===null,an=vr===vr,Cn=Ja(vr);if(Rt)var sn=M||an;else rr?sn=an&&(M||Ir):Qt?sn=an&&Ir&&(M||!qr):pe?sn=an&&Ir&&!qr&&(M||!Cn):qr||Cn?sn=!1:sn=M?vr<=s:vr<s;sn?J=ir+1:gt=ir}return bi(gt,Ot)}function Zl(t,s){for(var m=-1,M=t.length,J=0,gt=[];++m<M;){var Rt=t[m],Qt=s?s(Rt):Rt;if(!m||!Ms(Qt,pe)){var pe=Qt;gt[J++]=Rt===0?0:Rt}}return gt}function Ko(t){return typeof t=="number"?t:Ja(t)?Z:+t}function da(t){if(typeof t=="string")return t;if(yn(t))return Ve(t,da)+"";if(Ja(t))return qa?qa.call(t):"";var s=t+"";return s=="0"&&1/t==-Ar?"-0":s}function to(t,s,m){var M=-1,J=Je,gt=t.length,Rt=!0,Qt=[],pe=Qt;if(m)Rt=!1,J=Or;else if(gt>=Ce){var rr=s?null:ne(t);if(rr)return is(rr);Rt=!1,J=Zn,pe=new Zr}else pe=s?[]:Qt;t:for(;++M<gt;){var ir=t[M],vr=s?s(ir):ir;if(ir=m||ir!==0?ir:0,Rt&&vr===vr){for(var Ir=pe.length;Ir--;)if(pe[Ir]===vr)continue t;s&&pe.push(vr),Qt.push(ir)}else J(pe,vr,m)||(pe!==Qt&&pe.push(vr),Qt.push(ir))}return Qt}function Ql(t,s){return s=eo(s,t),t=ka(t,s),t==null||delete t[ps(ma(s))]}function zu(t,s,m,M){return yl(t,s,m(fs(t,s)),M)}function tu(t,s,m,M){for(var J=t.length,gt=M?J:-1;(M?gt--:++gt<J)&&s(t[gt],gt,t););return m?La(t,M?0:gt,M?gt+1:J):La(t,M?gt+1:0,M?J:gt)}function Wu(t,s){var m=t;return m instanceof wn&&(m=m.value()),Sr(s,function(M,J){return J.func.apply(J.thisArg,Fr([M],J.args))},m)}function Au(t,s,m){var M=t.length;if(M<2)return M?to(t[0]):[];for(var J=-1,gt=Fe(M);++J<M;)for(var Rt=t[J],Qt=-1;++Qt<M;)Qt!=J&&(gt[J]=_o(gt[J]||Rt,t[Qt],s,m));return to(Xn(gt,1),s,m)}function ks(t,s,m){for(var M=-1,J=t.length,gt=s.length,Rt={};++M<J;){var Qt=M<gt?s[M]:nt;m(Rt,t[M],Qt)}return Rt}function pa(t){return Li(t)?t:[]}function Va(t){return typeof t=="function"?t:Ma}function eo(t,s){return yn(t)?t:Oa(t,s)?[t]:tl(Kn(t))}var Hu=pn;function Vi(t,s,m){var M=t.length;return m=m===nt?M:m,!s&&m>=M?t:La(t,s,m)}var ga=Ml||function(t){return pr.clearTimeout(t)};function qu(t,s){if(s)return t.slice();var m=t.length,M=al?al(m):new t.constructor(m);return t.copy(M),M}function Tu(t){var s=new t.constructor(t.byteLength);return new Io(s).set(new Io(t)),s}function Gu(t,s){var m=s?Tu(t.buffer):t.buffer;return new t.constructor(m,t.byteOffset,t.byteLength)}function Yu(t){var s=new t.constructor(t.source,W.exec(t));return s.lastIndex=t.lastIndex,s}function Vu(t){return os?Pn(os.call(t)):{}}function Pu(t,s){var m=s?Tu(t.buffer):t.buffer;return new t.constructor(m,t.byteOffset,t.length)}function Xu(t,s){if(t!==s){var m=t!==nt,M=t===null,J=t===t,gt=Ja(t),Rt=s!==nt,Qt=s===null,pe=s===s,rr=Ja(s);if(!Qt&&!rr&&!gt&&t>s||gt&&Rt&&pe&&!Qt&&!rr||M&&Rt&&pe||!m&&pe||!J)return 1;if(!M&&!gt&&!rr&&t<s||rr&&m&&J&&!M&&!gt||Qt&&m&&J||!Rt&&J||!pe)return-1}return 0}function eu(t,s,m){for(var M=-1,J=t.criteria,gt=s.criteria,Rt=J.length,Qt=m.length;++M<Rt;){var pe=Xu(J[M],gt[M]);if(pe){if(M>=Qt)return pe;var rr=m[M];return pe*(rr=="desc"?-1:1)}}return t.index-s.index}function wl(t,s,m,M){for(var J=-1,gt=t.length,Rt=m.length,Qt=-1,pe=s.length,rr=ai(gt-Rt,0),ir=Fe(pe+rr),vr=!M;++Qt<pe;)ir[Qt]=s[Qt];for(;++J<Rt;)(vr||J<gt)&&(ir[m[J]]=t[J]);for(;rr--;)ir[Qt++]=t[J++];return ir}function Jo(t,s,m,M){for(var J=-1,gt=t.length,Rt=-1,Qt=m.length,pe=-1,rr=s.length,ir=ai(gt-Qt,0),vr=Fe(ir+rr),Ir=!M;++J<ir;)vr[J]=t[J];for(var qr=J;++pe<rr;)vr[qr+pe]=s[pe];for(;++Rt<Qt;)(Ir||J<gt)&&(vr[qr+m[Rt]]=t[J++]);return vr}function Wi(t,s){var m=-1,M=t.length;for(s||(s=Fe(M));++m<M;)s[m]=t[m];return s}function Xa(t,s,m,M){var J=!m;m||(m={});for(var gt=-1,Rt=s.length;++gt<Rt;){var Qt=s[gt],pe=M?M(m[Qt],t[Qt],Qt,m,t):nt;pe===nt&&(pe=t[Qt]),J?zi(m,Qt,pe):hs(m,Qt,pe)}return m}function Sh(t,s){return Xa(t,Wn(t),s)}function Ku(t,s){return Xa(t,fn(t),s)}function ru(t,s){return function(m,M){var J=yn(m)?zr:gl,gt=s?s():{};return J(m,t,Lr(M,2),gt)}}function $o(t){return pn(function(s,m){var M=-1,J=m.length,gt=J>1?m[J-1]:nt,Rt=J>2?m[2]:nt;for(gt=t.length>3&&typeof gt=="function"?(J--,gt):nt,Rt&&ti(m[0],m[1],Rt)&&(gt=J<3?nt:gt,J=1),s=Pn(s);++M<J;){var Qt=m[M];Qt&&t(s,Qt,M,gt)}return s})}function Ju(t,s){return function(m,M){if(m==null)return m;if(!Fa(m))return t(m,M);for(var J=m.length,gt=s?J:-1,Rt=Pn(m);(s?gt--:++gt<J)&&M(Rt[gt],gt,Rt)!==!1;);return m}}function $u(t){return function(s,m,M){for(var J=-1,gt=Pn(s),Rt=M(s),Qt=Rt.length;Qt--;){var pe=Rt[t?Qt:++J];if(m(gt[pe],pe,gt)===!1)break}return s}}function Ch(t,s,m){var M=s&o,J=ro(t);function gt(){var Rt=this&&this!==pr&&this instanceof gt?J:t;return Rt.apply(M?m:this,arguments)}return gt}function Zu(t){return function(s){s=Kn(s);var m=Ji(s)?vi(s):nt,M=m?m[0]:s.charAt(0),J=m?Vi(m,1).join(""):s.slice(1);return M[t]()+J}}function Ao(t){return function(s){return Sr(bc(yc(s).replace(Tt,"")),t,"")}}function ro(t){return function(){var s=arguments;switch(s.length){case 0:return new t;case 1:return new t(s[0]);case 2:return new t(s[0],s[1]);case 3:return new t(s[0],s[1],s[2]);case 4:return new t(s[0],s[1],s[2],s[3]);case 5:return new t(s[0],s[1],s[2],s[3],s[4]);case 6:return new t(s[0],s[1],s[2],s[3],s[4],s[5]);case 7:return new t(s[0],s[1],s[2],s[3],s[4],s[5],s[6])}var m=Vs(t.prototype),M=t.apply(m,s);return yi(M)?M:m}}function Ah(t,s,m){var M=ro(t);function J(){for(var gt=arguments.length,Rt=Fe(gt),Qt=gt,pe=Pr(J);Qt--;)Rt[Qt]=arguments[Qt];var rr=gt<3&&Rt[0]!==pe&&Rt[gt-1]!==pe?[]:ii(Rt,pe);if(gt-=rr.length,gt<m)return dt(t,s,c,J.placeholder,nt,Rt,rr,nt,nt,m-gt);var ir=this&&this!==pr&&this instanceof J?M:t;return ur(ir,this,Rt)}return J}function Qu(t){return function(s,m,M){var J=Pn(s);if(!Fa(s)){var gt=Lr(m,3);s=Hi(s),m=function(Qt){return gt(J[Qt],Qt,J)}}var Rt=t(s,m,M);return Rt>-1?J[gt?s[Rt]:Rt]:nt}}function Lu(t){return tr(function(s){var m=s.length,M=m,J=Qi.prototype.thru;for(t&&s.reverse();M--;){var gt=s[M];if(typeof gt!="function")throw new $i(L);if(J&&!Rt&&Xr(gt)=="wrapper")var Rt=new Qi([],!0)}for(M=Rt?M:m;++M<m;){gt=s[M];var Qt=Xr(gt),pe=Qt=="wrapper"?Tr(gt):nt;pe&&Ka(pe[0])&&pe[1]==(yt|T|Y|Zt)&&!pe[4].length&&pe[9]==1?Rt=Rt[Xr(pe[0])].apply(Rt,pe[3]):Rt=gt.length==1&&Ka(gt)?Rt[Qt]():Rt.thru(gt)}return function(){var rr=arguments,ir=rr[0];if(Rt&&rr.length==1&&yn(ir))return Rt.plant(ir).value();for(var vr=0,Ir=m?s[vr].apply(this,rr):ir;++vr<m;)Ir=s[vr].call(this,Ir);return Ir}})}function c(t,s,m,M,J,gt,Rt,Qt,pe,rr){var ir=s&yt,vr=s&o,Ir=s&d,qr=s&(T|O),an=s&fe,Cn=Ir?nt:ro(t);function sn(){for(var En=arguments.length,Dn=Fe(En),$a=En;$a--;)Dn[$a]=arguments[$a];if(qr)var ya=Pr(sn),Za=uo(Dn,ya);if(M&&(Dn=wl(Dn,M,J,qr)),gt&&(Dn=Jo(Dn,gt,Rt,qr)),En-=Za,qr&&En<rr){var Oi=ii(Dn,ya);return dt(t,s,c,sn.placeholder,m,Dn,Oi,Qt,pe,rr-En)}var Is=vr?m:this,ko=Ir?Is[t]:t;return En=Dn.length,Qt?Dn=Qo(Dn,Qt):an&&En>1&&Dn.reverse(),ir&&pe<En&&(Dn.length=pe),this&&this!==pr&&this instanceof sn&&(ko=Cn||ro(ko)),ko.apply(Is,Dn)}return sn}function g(t,s){return function(m,M){return Qs(m,t,s(M),{})}}function P(t,s){return function(m,M){var J;if(m===nt&&M===nt)return s;if(m!==nt&&(J=m),M!==nt){if(J===nt)return M;typeof m=="string"||typeof M=="string"?(m=da(m),M=da(M)):(m=Ko(m),M=Ko(M)),J=t(m,M)}return J}}function B(t){return tr(function(s){return s=Ve(s,gi(Lr())),pn(function(m){var M=this;return t(s,function(J){return ur(J,M,m)})})})}function X(t,s){s=s===nt?" ":da(s);var m=s.length;if(m<2)return m?ml(s,t):s;var M=ml(s,vo(t/Ui(s)));return Ji(s)?Vi(vi(M),0,t).join(""):M.slice(0,t)}function $(t,s,m,M){var J=s&o,gt=ro(t);function Rt(){for(var Qt=-1,pe=arguments.length,rr=-1,ir=M.length,vr=Fe(ir+pe),Ir=this&&this!==pr&&this instanceof Rt?gt:t;++rr<ir;)vr[rr]=M[rr];for(;pe--;)vr[rr++]=arguments[++Qt];return ur(Ir,J?m:this,vr)}return Rt}function Q(t){return function(s,m,M){return M&&typeof M!="number"&&ti(s,m,M)&&(m=M=nt),s=Eo(s),m===nt?(m=s,s=0):m=Eo(m),M=M===nt?s<m?1:-1:Eo(M),xu(s,m,M,t)}}function ot(t){return function(s,m){return typeof s=="string"&&typeof m=="string"||(s=gs(s),m=gs(m)),t(s,m)}}function dt(t,s,m,M,J,gt,Rt,Qt,pe,rr){var ir=s&T,vr=ir?Rt:nt,Ir=ir?nt:Rt,qr=ir?gt:nt,an=ir?nt:gt;s|=ir?Y:et,s&=~(ir?et:Y),s&b||(s&=~(o|d));var Cn=[t,s,J,qr,vr,an,Ir,Qt,pe,rr],sn=m.apply(nt,Cn);return Ka(t)&&Ou(sn,Cn),sn.placeholder=M,Sl(sn,t,s)}function At(t){var s=Qn[t];return function(m,M){if(m=gs(m),M=M==null?0:bi(xn(M),292),M&&Wa(m)){var J=(Kn(m)+"e").split("e"),gt=s(J[0]+"e"+(+J[1]+M));return J=(Kn(gt)+"e").split("e"),+(J[0]+"e"+(+J[1]-M))}return s(m)}}var ne=Aa&&1/is(new Aa([,-0]))[1]==Ar?function(t){return new Aa(t)}:Gh;function _e(t){return function(s){var m=On(s);return m==te?ni(s):m==vt?Ws(s):es(s,t(s))}}function ye(t,s,m,M,J,gt,Rt,Qt){var pe=s&d;if(!pe&&typeof t!="function")throw new $i(L);var rr=M?M.length:0;if(rr||(s&=~(Y|et),M=J=nt),Rt=Rt===nt?Rt:ai(xn(Rt),0),Qt=Qt===nt?Qt:xn(Qt),rr-=J?J.length:0,s&et){var ir=M,vr=J;M=J=nt}var Ir=pe?nt:Tr(t),qr=[t,s,m,M,J,ir,vr,gt,Rt,Qt];if(Ir&&eh(qr,Ir),t=qr[0],s=qr[1],m=qr[2],M=qr[3],J=qr[4],Qt=qr[9]=qr[9]===nt?pe?0:t.length:ai(qr[9]-rr,0),!Qt&&s&(T|O)&&(s&=~(T|O)),!s||s==o)var an=Ch(t,s,m);else s==T||s==O?an=Ah(t,s,Qt):(s==Y||s==(o|Y))&&!J.length?an=$(t,s,m,M):an=c.apply(nt,qr);var Cn=Ir?Cu:Ou;return Sl(Cn(an,qr),t,s)}function ce(t,s,m,M){return t===nt||Ms(t,Hs[m])&&!In.call(M,m)?s:t}function Qe(t,s,m,M,J,gt){return yi(t)&&yi(s)&&(gt.set(s,t),Co(t,s,nt,Qe,gt),gt.delete(s)),t}function De(t){return Bu(t)?nt:t}function ie(t,s,m,M,J,gt){var Rt=m&i,Qt=t.length,pe=s.length;if(Qt!=pe&&!(Rt&&pe>Qt))return!1;var rr=gt.get(t),ir=gt.get(s);if(rr&&ir)return rr==s&&ir==t;var vr=-1,Ir=!0,qr=m&u?new Zr:nt;for(gt.set(t,s),gt.set(s,t);++vr<Qt;){var an=t[vr],Cn=s[vr];if(M)var sn=Rt?M(Cn,an,vr,s,t,gt):M(an,Cn,vr,t,s,gt);if(sn!==nt){if(sn)continue;Ir=!1;break}if(qr){if(!Wr(s,function(En,Dn){if(!Zn(qr,Dn)&&(an===En||J(an,En,m,M,gt)))return qr.push(Dn)})){Ir=!1;break}}else if(!(an===Cn||J(an,Cn,m,M,gt))){Ir=!1;break}}return gt.delete(t),gt.delete(s),Ir}function le(t,s,m,M,J,gt,Rt){switch(m){case _r:if(t.byteLength!=s.byteLength||t.byteOffset!=s.byteOffset)return!1;t=t.buffer,s=s.buffer;case xr:return!(t.byteLength!=s.byteLength||!gt(new Io(t),new Io(s)));case St:case Et:case oe:return Ms(+t,+s);case Vt:return t.name==s.name&&t.message==s.message;case it:case ee:return t==s+"";case te:var Qt=ni;case vt:var pe=M&i;if(Qt||(Qt=is),t.size!=s.size&&!pe)return!1;var rr=Rt.get(t);if(rr)return rr==s;M|=u,Rt.set(t,s);var ir=ie(Qt(t),Qt(s),M,J,gt,Rt);return Rt.delete(t),ir;case he:if(os)return os.call(t)==os.call(s)}return!1}function $e(t,s,m,M,J,gt){var Rt=m&i,Qt=Ze(t),pe=Qt.length,rr=Ze(s),ir=rr.length;if(pe!=ir&&!Rt)return!1;for(var vr=pe;vr--;){var Ir=Qt[vr];if(!(Rt?Ir in s:In.call(s,Ir)))return!1}var qr=gt.get(t),an=gt.get(s);if(qr&&an)return qr==s&&an==t;var Cn=!0;gt.set(t,s),gt.set(s,t);for(var sn=Rt;++vr<pe;){Ir=Qt[vr];var En=t[Ir],Dn=s[Ir];if(M)var $a=Rt?M(Dn,En,Ir,s,t,gt):M(En,Dn,Ir,t,s,gt);if(!($a===nt?En===Dn||J(En,Dn,m,M,gt):$a)){Cn=!1;break}sn||(sn=Ir=="constructor")}if(Cn&&!sn){var ya=t.constructor,Za=s.constructor;ya!=Za&&"constructor"in t&&"constructor"in s&&!(typeof ya=="function"&&ya instanceof ya&&typeof Za=="function"&&Za instanceof Za)&&(Cn=!1)}return gt.delete(t),gt.delete(s),Cn}function tr(t){return au(xl(t,nt,Fu),t+"")}function Ze(t){return $s(t,Hi,Wn)}function Dr(t){return $s(t,Na,fn)}var Tr=Uo?function(t){return Uo.get(t)}:Gh;function Xr(t){for(var s=t.name+"",m=Ha[s],M=In.call(Ha,s)?m.length:0;M--;){var J=m[M],gt=J.func;if(gt==null||gt==t)return J.name}return s}function Pr(t){var s=In.call(at,"placeholder")?at:t;return s.placeholder}function Lr(){var t=at.iteratee||Hh;return t=t===Hh?yu:t,arguments.length?t(arguments[0],arguments[1]):t}function Bn(t,s){var m=t.__data__;return Fi(s)?m[typeof s=="string"?"string":"hash"]:m.map}function Ln(t){for(var s=Hi(t),m=s.length;m--;){var M=s[m],J=t[M];s[m]=[M,J,fi(J)]}return s}function gn(t,s){var m=rn(t,s);return Vo(m)?m:nt}function Jn(t){var s=In.call(t,Sa),m=t[Sa];try{t[Sa]=nt;var M=!0}catch(gt){}var J=Mo.call(t);return M&&(s?t[Sa]=m:delete t[Sa]),J}var Wn=sl?function(t){return t==null?[]:(t=Pn(t),Ft(sl(t),function(s){return Fl.call(t,s)}))}:Yh,fn=sl?function(t){for(var s=[];t;)Fr(s,Wn(t)),t=Do(t);return s}:Yh,On=mi;(jo&&On(new jo(new ArrayBuffer(1)))!=_r||Ca&&On(new Ca)!=te||Ys&&On(Ys.resolve())!=F||Aa&&On(new Aa)!=vt||_s&&On(new _s)!=Er)&&(On=function(t){var s=mi(t),m=s==K?t.constructor:nt,M=m?Lo(m):"";if(M)switch(M){case Bl:return _r;case jl:return te;case xs:return F;case Ss:return vt;case Ul:return Er}return s});function ea(t,s,m){for(var M=-1,J=m.length;++M<J;){var gt=m[M],Rt=gt.size;switch(gt.type){case"drop":t+=Rt;break;case"dropRight":s-=Rt;break;case"take":s=bi(s,t+Rt);break;case"takeRight":t=ai(t,s-Rt);break}}return{start:t,end:s}}function _i(t){var s=t.match(Us);return s?s[1].split(lo):[]}function Xi(t,s,m){s=eo(s,t);for(var M=-1,J=s.length,gt=!1;++M<J;){var Rt=ps(s[M]);if(!(gt=t!=null&&m(t,Rt)))break;t=t[Rt]}return gt||++M!=J?gt:(J=t==null?0:t.length,!!J&&vh(J)&&ci(Rt,J)&&(yn(t)||Ol(t)))}function qn(t){var s=t.length,m=new t.constructor(s);return s&&typeof t[0]=="string"&&In.call(t,"index")&&(m.index=t.index,m.input=t.input),m}function ra(t){return typeof t.constructor=="function"&&!Ea(t)?Vs(Do(t)):{}}function va(t,s,m){var M=t.constructor;switch(s){case xr:return Tu(t);case St:case Et:return new M(+t);case _r:return Gu(t,m);case Kr:case ln:case bn:case Un:case $n:case Sn:case Gn:case di:case Si:return Pu(t,m);case te:return new M;case oe:case ee:return new M(t);case it:return Yu(t);case vt:return new M;case he:return Vu(t)}}function ki(t,s){var m=s.length;if(!m)return t;var M=m-1;return s[M]=(m>1?"& ":"")+s[M],s=s.join(m>2?", ":" "),t.replace(Ki,`{
/* [wrapped with `+s+`] */
`)}function Ri(t){return yn(t)||Ol(t)||!!(Nl&&t&&t[Nl])}function ci(t,s){var m=typeof t;return s=s==null?lt:s,!!s&&(m=="number"||m!="symbol"&&ht.test(t))&&t>-1&&t%1==0&&t<s}function ti(t,s,m){if(!yi(m))return!1;var M=typeof s;return(M=="number"?Fa(m)&&ci(s,m.length):M=="string"&&s in m)?Ms(m[s],t):!1}function Oa(t,s){if(yn(t))return!1;var m=typeof t;return m=="number"||m=="symbol"||m=="boolean"||t==null||Ja(t)?!0:Bs.test(t)||!ms.test(t)||s!=null&&t in Pn(s)}function Fi(t){var s=typeof t;return s=="string"||s=="number"||s=="symbol"||s=="boolean"?t!=="__proto__":t===null}function Ka(t){var s=Xr(t),m=at[s];if(typeof m!="function"||!(s in wn.prototype))return!1;if(t===m)return!0;var M=Tr(m);return!!M&&t===M[0]}function To(t){return!!il&&il in t}var Zo=li?Oo:Vh;function Ea(t){var s=t&&t.constructor,m=typeof s=="function"&&s.prototype||Hs;return t===m}function fi(t){return t===t&&!yi(t)}function nu(t,s){return function(m){return m==null?!1:m[t]===s&&(s!==nt||t in Pn(m))}}function th(t){var s=ph(t,function(M){return m.size===h&&m.clear(),M}),m=s.cache;return s}function eh(t,s){var m=t[1],M=s[1],J=m|M,gt=J<(o|d|yt),Rt=M==yt&&m==T||M==yt&&m==Zt&&t[7].length<=s[8]||M==(yt|Zt)&&s[7].length<=s[8]&&m==T;if(!(gt||Rt))return t;M&o&&(t[2]=s[2],J|=m&o?0:b);var Qt=s[3];if(Qt){var pe=t[3];t[3]=pe?wl(pe,Qt,s[4]):Qt,t[4]=pe?ii(t[3],l):s[4]}return Qt=s[5],Qt&&(pe=t[5],t[5]=pe?Jo(pe,Qt,s[6]):Qt,t[6]=pe?ii(t[5],l):s[6]),Qt=s[7],Qt&&(t[7]=Qt),M&yt&&(t[8]=t[8]==null?s[8]:bi(t[8],s[8])),t[9]==null&&(t[9]=s[9]),t[0]=s[0],t[1]=J,t}function iu(t){var s=[];if(t!=null)for(var m in Pn(t))s.push(m);return s}function _l(t){return Mo.call(t)}function xl(t,s,m){return s=ai(s===nt?t.length-1:s,0),function(){for(var M=arguments,J=-1,gt=ai(M.length-s,0),Rt=Fe(gt);++J<gt;)Rt[J]=M[s+J];J=-1;for(var Qt=Fe(s+1);++J<s;)Qt[J]=M[J];return Qt[s]=m(Rt),ur(t,this,Qt)}}function ka(t,s){return s.length<2?t:fs(t,La(s,0,-1))}function Qo(t,s){for(var m=t.length,M=bi(s.length,m),J=Wi(t);M--;){var gt=s[M];t[M]=ci(gt,m)?J[gt]:nt}return t}function no(t,s){if(!(s==="constructor"&&typeof t[s]=="function")&&s!="__proto__")return t[s]}var Ou=su(Cu),io=du||function(t,s){return pr.setTimeout(t,s)},au=su(wh);function Sl(t,s,m){var M=s+"";return au(t,ki(M,Eu(_i(M),m)))}function su(t){var s=0,m=0;return function(){var M=pu(),J=Ke-(M-m);if(m=M,J>0){if(++s>=cr)return arguments[0]}else s=0;return t.apply(nt,arguments)}}function Po(t,s){var m=-1,M=t.length,J=M-1;for(s=s===nt?M:s;++m<s;){var gt=Jl(m,J),Rt=t[gt];t[gt]=t[m],t[m]=Rt}return t.length=s,t}var tl=th(function(t){var s=[];return t.charCodeAt(0)===46&&s.push(""),t.replace(Da,function(m,M,J,gt){s.push(J?gt.replace(zs,"$1"):M||m)}),s});function ps(t){if(typeof t=="string"||Ja(t))return t;var s=t+"";return s=="0"&&1/t==-Ar?"-0":s}function Lo(t){if(t!=null){try{return qs.call(t)}catch(s){}try{return t+""}catch(s){}}return""}function Eu(t,s){return Cr(tt,function(m){var M="_."+m[0];s&m[1]&&!Je(t,M)&&t.push(M)}),t.sort()}function Fs(t){if(t instanceof wn)return t.clone();var s=new Qi(t.__wrapped__,t.__chain__);return s.__actions__=Wi(t.__actions__),s.__index__=t.__index__,s.__values__=t.__values__,s}function Th(t,s,m){(m?ti(t,s,m):s===nt)?s=1:s=ai(xn(s),0);var M=t==null?0:t.length;if(!M||s<1)return[];for(var J=0,gt=0,Rt=Fe(vo(M/s));J<M;)Rt[gt++]=La(t,J,J+=s);return Rt}function Ph(t){for(var s=-1,m=t==null?0:t.length,M=0,J=[];++s<m;){var gt=t[s];gt&&(J[M++]=gt)}return J}function Lh(){var t=arguments.length;if(!t)return[];for(var s=Fe(t-1),m=arguments[0],M=t;M--;)s[M-1]=arguments[M];return Fr(yn(m)?Wi(m):[m],Xn(s,1))}var rh=pn(function(t,s){return Li(t)?_o(t,Xn(s,1,Li,!0)):[]}),ou=pn(function(t,s){var m=ma(s);return Li(m)&&(m=nt),Li(t)?_o(t,Xn(s,1,Li,!0),Lr(m,2)):[]}),nh=pn(function(t,s){var m=ma(s);return Li(m)&&(m=nt),Li(t)?_o(t,Xn(s,1,Li,!0),nt,m):[]});function ih(t,s,m){var M=t==null?0:t.length;return M?(s=m||s===nt?1:xn(s),La(t,s<0?0:s,M)):[]}function lu(t,s,m){var M=t==null?0:t.length;return M?(s=m||s===nt?1:xn(s),s=M-s,La(t,0,s<0?0:s)):[]}function ku(t,s){return t&&t.length?tu(t,Lr(s,3),!0,!0):[]}function Cl(t,s){return t&&t.length?tu(t,Lr(s,3),!0):[]}function ah(t,s,m,M){var J=t==null?0:t.length;return J?(m&&typeof m!="number"&&ti(t,s,m)&&(m=0,M=J),So(t,s,m,M)):[]}function sh(t,s,m){var M=t==null?0:t.length;if(!M)return-1;var J=m==null?0:xn(m);return J<0&&(J=ai(M+J,0)),Hn(t,Lr(s,3),J)}function Al(t,s,m){var M=t==null?0:t.length;if(!M)return-1;var J=M-1;return m!==nt&&(J=xn(m),J=m<0?ai(M+J,0):bi(J,M-1)),Hn(t,Lr(s,3),J,!0)}function Fu(t){var s=t==null?0:t.length;return s?Xn(t,1):[]}function Nu(t){var s=t==null?0:t.length;return s?Xn(t,Ar):[]}function ao(t,s){var m=t==null?0:t.length;return m?(s=s===nt?1:xn(s),Xn(t,s)):[]}function oh(t){for(var s=-1,m=t==null?0:t.length,M={};++s<m;){var J=t[s];M[J[0]]=J[1]}return M}function Mu(t){return t&&t.length?t[0]:nt}function Oh(t,s,m){var M=t==null?0:t.length;if(!M)return-1;var J=m==null?0:xn(m);return J<0&&(J=ai(M+J,0)),Vr(t,s,J)}function lh(t){var s=t==null?0:t.length;return s?La(t,0,-1):[]}var el=pn(function(t){var s=Ve(t,pa);return s.length&&s[0]===t[0]?Ps(s):[]}),Eh=pn(function(t){var s=ma(t),m=Ve(t,pa);return s===ma(m)?s=nt:m.pop(),m.length&&m[0]===t[0]?Ps(m,Lr(s,2)):[]}),uh=pn(function(t){var s=ma(t),m=Ve(t,pa);return s=typeof s=="function"?s:nt,s&&m.pop(),m.length&&m[0]===t[0]?Ps(m,nt,s):[]});function kh(t,s){return t==null?"":Il.call(t,s)}function ma(t){var s=t==null?0:t.length;return s?t[s-1]:nt}function Fh(t,s,m){var M=t==null?0:t.length;if(!M)return-1;var J=M;return m!==nt&&(J=xn(m),J=J<0?ai(M+J,0):bi(J,M-1)),s===s?as(t,s,J):Hn(t,Mr,J,!0)}function Tl(t,s){return t&&t.length?fa(t,xn(s)):nt}var Iu=pn(Pl);function Pl(t,s){return t&&t.length&&s&&s.length?Xo(t,s):t}function Ns(t,s,m){return t&&t.length&&s&&s.length?Xo(t,s,Lr(m,2)):t}function so(t,s,m){return t&&t.length&&s&&s.length?Xo(t,s,nt,m):t}var oo=tr(function(t,s){var m=t==null?0:t.length,M=Ks(t,s);return Kl(t,Ve(s,function(J){return ci(J,m)?+J:J}).sort(Xu)),M});function uu(t,s){var m=[];if(!(t&&t.length))return m;var M=-1,J=[],gt=t.length;for(s=Lr(s,3);++M<gt;){var Rt=t[M];s(Rt,M,t)&&(m.push(Rt),J.push(M))}return Kl(t,J),m}function Ll(t){return t==null?t:ol.call(t)}function hh(t,s,m){var M=t==null?0:t.length;return M?(m&&typeof m!="number"&&ti(t,s,m)?(s=0,m=M):(s=s==null?0:xn(s),m=m===nt?M:xn(m)),La(t,s,m)):[]}function Nh(t,s){return $l(t,s)}function Du(t,s,m){return bl(t,s,Lr(m,2))}function Ru(t,s){var m=t==null?0:t.length;if(m){var M=$l(t,s);if(M<m&&Ms(t[M],s))return M}return-1}function Sc(t,s){return $l(t,s,!0)}function Cc(t,s,m){return bl(t,s,Lr(m,2),!0)}function Ac(t,s){var m=t==null?0:t.length;if(m){var M=$l(t,s,!0)-1;if(Ms(t[M],s))return M}return-1}function Tc(t){return t&&t.length?Zl(t):[]}function Pc(t,s){return t&&t.length?Zl(t,Lr(s,2)):[]}function Lc(t){var s=t==null?0:t.length;return s?La(t,1,s):[]}function Oc(t,s,m){return t&&t.length?(s=m||s===nt?1:xn(s),La(t,0,s<0?0:s)):[]}function Ec(t,s,m){var M=t==null?0:t.length;return M?(s=m||s===nt?1:xn(s),s=M-s,La(t,s<0?0:s,M)):[]}function kc(t,s){return t&&t.length?tu(t,Lr(s,3),!1,!0):[]}function Fc(t,s){return t&&t.length?tu(t,Lr(s,3)):[]}var Nc=pn(function(t){return to(Xn(t,1,Li,!0))}),Mc=pn(function(t){var s=ma(t);return Li(s)&&(s=nt),to(Xn(t,1,Li,!0),Lr(s,2))}),Ic=pn(function(t){var s=ma(t);return s=typeof s=="function"?s:nt,to(Xn(t,1,Li,!0),nt,s)});function Dc(t){return t&&t.length?to(t):[]}function Rc(t,s){return t&&t.length?to(t,Lr(s,2)):[]}function Bc(t,s){return s=typeof s=="function"?s:nt,t&&t.length?to(t,nt,s):[]}function Mh(t){if(!(t&&t.length))return[];var s=0;return t=Ft(t,function(m){if(Li(m))return s=ai(m.length,s),!0}),Rn(s,function(m){return Ve(t,Vn(m))})}function Xh(t,s){if(!(t&&t.length))return[];var m=Mh(t);return s==null?m:Ve(m,function(M){return ur(s,nt,M)})}var jc=pn(function(t,s){return Li(t)?_o(t,s):[]}),Uc=pn(function(t){return Au(Ft(t,Li))}),zc=pn(function(t){var s=ma(t);return Li(s)&&(s=nt),Au(Ft(t,Li),Lr(s,2))}),Wc=pn(function(t){var s=ma(t);return s=typeof s=="function"?s:nt,Au(Ft(t,Li),nt,s)}),Hc=pn(Mh);function qc(t,s){return ks(t||[],s||[],hs)}function Gc(t,s){return ks(t||[],s||[],yl)}var Yc=pn(function(t){var s=t.length,m=s>1?t[s-1]:nt;return m=typeof m=="function"?(t.pop(),m):nt,Xh(t,m)});function Kh(t){var s=at(t);return s.__chain__=!0,s}function Vc(t,s){return s(t),t}function ch(t,s){return s(t)}var Xc=tr(function(t){var s=t.length,m=s?t[0]:0,M=this.__wrapped__,J=function(gt){return Ks(gt,t)};return s>1||this.__actions__.length||!(M instanceof wn)||!ci(m)?this.thru(J):(M=M.slice(m,+m+(s?1:0)),M.__actions__.push({func:ch,args:[J],thisArg:nt}),new Qi(M,this.__chain__).thru(function(gt){return s&&!gt.length&&gt.push(nt),gt}))});function Kc(){return Kh(this)}function Jc(){return new Qi(this.value(),this.__chain__)}function $c(){this.__values__===nt&&(this.__values__=uc(this.value()));var t=this.__index__>=this.__values__.length,s=t?nt:this.__values__[this.__index__++];return{done:t,value:s}}function Zc(){return this}function Qc(t){for(var s,m=this;m instanceof Cs;){var M=Fs(m);M.__index__=0,M.__values__=nt,s?J.__wrapped__=M:s=M;var J=M;m=m.__wrapped__}return J.__wrapped__=t,s}function tf(){var t=this.__wrapped__;if(t instanceof wn){var s=t;return this.__actions__.length&&(s=new wn(this)),s=s.reverse(),s.__actions__.push({func:ch,args:[Ll],thisArg:nt}),new Qi(s,this.__chain__)}return this.thru(Ll)}function ef(){return Wu(this.__wrapped__,this.__actions__)}var rf=ru(function(t,s,m){In.call(t,m)?++t[m]:zi(t,m,1)});function nf(t,s,m){var M=yn(t)?Gr:mu;return m&&ti(t,s,m)&&(s=nt),M(t,Lr(s,3))}function af(t,s){var m=yn(t)?Ft:Ta;return m(t,Lr(s,3))}var sf=Qu(sh),of=Qu(Al);function lf(t,s){return Xn(fh(t,s),1)}function uf(t,s){return Xn(fh(t,s),Ar)}function hf(t,s,m){return m=m===nt?1:xn(m),Xn(fh(t,s),m)}function Jh(t,s){var m=yn(t)?Cr:Ei;return m(t,Lr(s,3))}function $h(t,s){var m=yn(t)?en:xo;return m(t,Lr(s,3))}var cf=ru(function(t,s,m){In.call(t,m)?t[m].push(s):zi(t,m,[s])});function ff(t,s,m,M){t=Fa(t)?t:cu(t),m=m&&!M?xn(m):0;var J=t.length;return m<0&&(m=ai(J+m,0)),mh(t)?m<=J&&t.indexOf(s,m)>-1:!!J&&Vr(t,s,m)>-1}var df=pn(function(t,s,m){var M=-1,J=typeof s=="function",gt=Fa(t)?Fe(t.length):[];return Ei(t,function(Rt){gt[++M]=J?ur(s,Rt,m):Ls(Rt,s,m)}),gt}),pf=ru(function(t,s,m){zi(t,m,s)});function fh(t,s){var m=yn(t)?Ve:bu;return m(t,Lr(s,3))}function gf(t,s,m,M){return t==null?[]:(yn(s)||(s=s==null?[]:[s]),m=M?nt:m,yn(m)||(m=m==null?[]:[m]),vl(t,s,m))}var vf=ru(function(t,s,m){t[m?0:1].push(s)},function(){return[[],[]]});function mf(t,s,m){var M=yn(t)?Sr:mn,J=arguments.length<3;return M(t,Lr(s,4),m,J,Ei)}function yf(t,s,m){var M=yn(t)?jr:mn,J=arguments.length<3;return M(t,Lr(s,4),m,J,xo)}function bf(t,s){var m=yn(t)?Ft:Ta;return m(t,gh(Lr(s,3)))}function wf(t){var s=yn(t)?dl:Su;return s(t)}function _f(t,s,m){(m?ti(t,s,m):s===nt)?s=1:s=xn(s);var M=yn(t)?As:bh;return M(t,s)}function xf(t){var s=yn(t)?pl:_h;return s(t)}function Sf(t){if(t==null)return 0;if(Fa(t))return mh(t)?Ui(t):t.length;var s=On(t);return s==te||s==vt?t.size:ql(t).length}function Cf(t,s,m){var M=yn(t)?Wr:xh;return m&&ti(t,s,m)&&(s=nt),M(t,Lr(s,3))}var Af=pn(function(t,s){if(t==null)return[];var m=s.length;return m>1&&ti(t,s[0],s[1])?s=[]:m>2&&ti(s[0],s[1],s[2])&&(s=[s[0]]),vl(t,Xn(s,1),[])}),dh=Ti||function(){return pr.Date.now()};function Tf(t,s){if(typeof s!="function")throw new $i(L);return t=xn(t),function(){if(--t<1)return s.apply(this,arguments)}}function Zh(t,s,m){return s=m?nt:s,s=t&&s==null?t.length:s,ye(t,yt,nt,nt,nt,nt,s)}function Qh(t,s){var m;if(typeof s!="function")throw new $i(L);return t=xn(t),function(){return--t>0&&(m=s.apply(this,arguments)),t<=1&&(s=nt),m}}var Ih=pn(function(t,s,m){var M=o;if(m.length){var J=ii(m,Pr(Ih));M|=Y}return ye(t,M,s,m,J)}),tc=pn(function(t,s,m){var M=o|d;if(m.length){var J=ii(m,Pr(tc));M|=Y}return ye(s,M,t,m,J)});function ec(t,s,m){s=m?nt:s;var M=ye(t,T,nt,nt,nt,nt,nt,s);return M.placeholder=ec.placeholder,M}function rc(t,s,m){s=m?nt:s;var M=ye(t,O,nt,nt,nt,nt,nt,s);return M.placeholder=rc.placeholder,M}function nc(t,s,m){var M,J,gt,Rt,Qt,pe,rr=0,ir=!1,vr=!1,Ir=!0;if(typeof t!="function")throw new $i(L);s=gs(s)||0,yi(m)&&(ir=!!m.leading,vr="maxWait"in m,gt=vr?ai(gs(m.maxWait)||0,s):gt,Ir="trailing"in m?!!m.trailing:Ir);function qr(Oi){var Is=M,ko=J;return M=J=nt,rr=Oi,Rt=t.apply(ko,Is),Rt}function an(Oi){return rr=Oi,Qt=io(En,s),ir?qr(Oi):Rt}function Cn(Oi){var Is=Oi-pe,ko=Oi-rr,xc=s-Is;return vr?bi(xc,gt-ko):xc}function sn(Oi){var Is=Oi-pe,ko=Oi-rr;return pe===nt||Is>=s||Is<0||vr&&ko>=gt}function En(){var Oi=dh();if(sn(Oi))return Dn(Oi);Qt=io(En,Cn(Oi))}function Dn(Oi){return Qt=nt,Ir&&M?qr(Oi):(M=J=nt,Rt)}function $a(){Qt!==nt&&ga(Qt),rr=0,M=pe=J=Qt=nt}function ya(){return Qt===nt?Rt:Dn(dh())}function Za(){var Oi=dh(),Is=sn(Oi);if(M=arguments,J=this,pe=Oi,Is){if(Qt===nt)return an(pe);if(vr)return ga(Qt),Qt=io(En,s),qr(pe)}return Qt===nt&&(Qt=io(En,s)),Rt}return Za.cancel=$a,Za.flush=ya,Za}var Pf=pn(function(t,s){return qo(t,1,s)}),Lf=pn(function(t,s,m){return qo(t,gs(s)||0,m)});function Of(t){return ye(t,fe)}function ph(t,s){if(typeof t!="function"||s!=null&&typeof s!="function")throw new $i(L);var m=function(){var M=arguments,J=s?s.apply(this,M):M[0],gt=m.cache;if(gt.has(J))return gt.get(J);var Rt=t.apply(this,M);return m.cache=gt.set(J,Rt)||gt,Rt};return m.cache=new(ph.Cache||Wt),m}ph.Cache=Wt;function gh(t){if(typeof t!="function")throw new $i(L);return function(){var s=arguments;switch(s.length){case 0:return!t.call(this);case 1:return!t.call(this,s[0]);case 2:return!t.call(this,s[0],s[1]);case 3:return!t.call(this,s[0],s[1],s[2])}return!t.apply(this,s)}}function Ef(t){return Qh(2,t)}var kf=Hu(function(t,s){s=s.length==1&&yn(s[0])?Ve(s[0],gi(Lr())):Ve(Xn(s,1),gi(Lr()));var m=s.length;return pn(function(M){for(var J=-1,gt=bi(M.length,m);++J<gt;)M[J]=s[J].call(this,M[J]);return ur(t,this,M)})}),Dh=pn(function(t,s){var m=ii(s,Pr(Dh));return ye(t,Y,nt,s,m)}),ic=pn(function(t,s){var m=ii(s,Pr(ic));return ye(t,et,nt,s,m)}),Ff=tr(function(t,s){return ye(t,Zt,nt,nt,nt,s)});function Nf(t,s){if(typeof t!="function")throw new $i(L);return s=s===nt?s:xn(s),pn(t,s)}function Mf(t,s){if(typeof t!="function")throw new $i(L);return s=s==null?0:ai(xn(s),0),pn(function(m){var M=m[s],J=Vi(m,0,s);return M&&Fr(J,M),ur(t,this,J)})}function If(t,s,m){var M=!0,J=!0;if(typeof t!="function")throw new $i(L);return yi(m)&&(M="leading"in m?!!m.leading:M,J="trailing"in m?!!m.trailing:J),nc(t,s,{leading:M,maxWait:s,trailing:J})}function Df(t){return Zh(t,1)}function Rf(t,s){return Dh(Va(s),t)}function Bf(){if(!arguments.length)return[];var t=arguments[0];return yn(t)?t:[t]}function jf(t){return Ii(t,r)}function Uf(t,s){return s=typeof s=="function"?s:nt,Ii(t,r,s)}function zf(t){return Ii(t,n|r)}function Wf(t,s){return s=typeof s=="function"?s:nt,Ii(t,n|r,s)}function Hf(t,s){return s==null||Wl(t,s,Hi(s))}function Ms(t,s){return t===s||t!==t&&s!==s}var qf=ot(ds),Gf=ot(function(t,s){return t>=s}),Ol=ha(function(){return arguments}())?ha:function(t){return xi(t)&&In.call(t,"callee")&&!Fl.call(t,"callee")},yn=Fe.isArray,Yf=se?gi(se):Os;function Fa(t){return t!=null&&vh(t.length)&&!Oo(t)}function Li(t){return xi(t)&&Fa(t)}function Vf(t){return t===!0||t===!1||xi(t)&&mi(t)==St}var rl=hn||Vh,Xf=ge?gi(ge):ui;function Kf(t){return xi(t)&&t.nodeType===1&&!Bu(t)}function Jf(t){if(t==null)return!0;if(Fa(t)&&(yn(t)||typeof t=="string"||typeof t.splice=="function"||rl(t)||hu(t)||Ol(t)))return!t.length;var s=On(t);if(s==te||s==vt)return!t.size;if(Ea(t))return!ql(t).length;for(var m in t)if(In.call(t,m))return!1;return!0}function $f(t,s){return zn(t,s)}function Zf(t,s,m){m=typeof m=="function"?m:nt;var M=m?m(t,s):nt;return M===nt?zn(t,s,nt,m):!!M}function Rh(t){if(!xi(t))return!1;var s=mi(t);return s==Vt||s==re||typeof t.message=="string"&&typeof t.name=="string"&&!Bu(t)}function Qf(t){return typeof t=="number"&&Wa(t)}function Oo(t){if(!yi(t))return!1;var s=mi(t);return s==Ht||s==Nt||s==Yt||s==D}function ac(t){return typeof t=="number"&&t==xn(t)}function vh(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=lt}function yi(t){var s=typeof t;return t!=null&&(s=="object"||s=="function")}function xi(t){return t!=null&&typeof t=="object"}var sc=Ae?gi(Ae):hi;function td(t,s){return t===s||Yi(t,s,Ln(s))}function ed(t,s,m){return m=typeof m=="function"?m:nt,Yi(t,s,Ln(s),m)}function rd(t){return oc(t)&&t!=+t}function nd(t){if(Zo(t))throw new nn(_t);return Vo(t)}function id(t){return t===null}function ad(t){return t==null}function oc(t){return typeof t=="number"||xi(t)&&mi(t)==oe}function Bu(t){if(!xi(t)||mi(t)!=K)return!1;var s=Do(t);if(s===null)return!0;var m=In.call(s,"constructor")&&s.constructor;return typeof m=="function"&&m instanceof m&&qs.call(m)==Mi}var Bh=Xe?gi(Xe):Es;function sd(t){return ac(t)&&t>=-lt&&t<=lt}var lc=Me?gi(Me):Hl;function mh(t){return typeof t=="string"||!yn(t)&&xi(t)&&mi(t)==ee}function Ja(t){return typeof t=="symbol"||xi(t)&&mi(t)==he}var hu=je?gi(je):ju;function od(t){return t===nt}function ld(t){return xi(t)&&On(t)==Er}function ud(t){return xi(t)&&mi(t)==mr}var hd=ot(Gl),cd=ot(function(t,s){return t<=s});function uc(t){if(!t)return[];if(Fa(t))return mh(t)?vi(t):Wi(t);if(oa&&t[oa])return ys(t[oa]());var s=On(t),m=s==te?ni:s==vt?is:cu;return m(t)}function Eo(t){if(!t)return t===0?t:0;if(t=gs(t),t===Ar||t===-Ar){var s=t<0?-1:1;return s*me}return t===t?t:0}function xn(t){var s=Eo(t),m=s%1;return s===s?m?s-m:s:0}function hc(t){return t?cs(xn(t),0,ct):0}function gs(t){if(typeof t=="number")return t;if(Ja(t))return Z;if(yi(t)){var s=typeof t.valueOf=="function"?t.valueOf():t;t=yi(s)?s+"":s}if(typeof t!="string")return t===0?t:+t;t=oi(t);var m=x.test(t);return m||V.test(t)?We(t.slice(2),m?2:8):N.test(t)?Z:+t}function cc(t){return Xa(t,Na(t))}function fd(t){return t?cs(xn(t),-lt,lt):t===0?t:0}function Kn(t){return t==null?"":da(t)}var dd=$o(function(t,s){if(Ea(s)||Fa(s)){Xa(s,Hi(s),t);return}for(var m in s)In.call(s,m)&&hs(t,m,s[m])}),fc=$o(function(t,s){Xa(s,Na(s),t)}),yh=$o(function(t,s,m,M){Xa(s,Na(s),t,M)}),pd=$o(function(t,s,m,M){Xa(s,Hi(s),t,M)}),gd=tr(Ks);function vd(t,s){var m=Vs(t);return s==null?m:wo(m,s)}var md=pn(function(t,s){t=Pn(t);var m=-1,M=s.length,J=M>2?s[2]:nt;for(J&&ti(s[0],s[1],J)&&(M=1);++m<M;)for(var gt=s[m],Rt=Na(gt),Qt=-1,pe=Rt.length;++Qt<pe;){var rr=Rt[Qt],ir=t[rr];(ir===nt||Ms(ir,Hs[rr])&&!In.call(t,rr))&&(t[rr]=gt[rr])}return t}),yd=pn(function(t){return t.push(nt,Qe),ur(dc,nt,t)});function bd(t,s){return Tn(t,Lr(s,3),Pi)}function wd(t,s){return Tn(t,Lr(s,3),Js)}function _d(t,s){return t==null?t:Ts(t,Lr(s,3),Na)}function xd(t,s){return t==null?t:Ya(t,Lr(s,3),Na)}function Sd(t,s){return t&&Pi(t,Lr(s,3))}function Cd(t,s){return t&&Js(t,Lr(s,3))}function Ad(t){return t==null?[]:ta(t,Hi(t))}function Td(t){return t==null?[]:ta(t,Na(t))}function jh(t,s,m){var M=t==null?nt:fs(t,s);return M===nt?m:M}function Pd(t,s){return t!=null&&Xi(t,s,Pa)}function Uh(t,s){return t!=null&&Xi(t,s,Zs)}var Ld=g(function(t,s,m){s!=null&&typeof s.toString!="function"&&(s=Mo.call(s)),t[s]=m},Wh(Ma)),Od=g(function(t,s,m){s!=null&&typeof s.toString!="function"&&(s=Mo.call(s)),In.call(t,s)?t[s].push(m):t[s]=[m]},Lr),Ed=pn(Ls);function Hi(t){return Fa(t)?yo(t):ql(t)}function Na(t){return Fa(t)?yo(t,!0):Uu(t)}function kd(t,s){var m={};return s=Lr(s,3),Pi(t,function(M,J,gt){zi(m,s(M,J,gt),M)}),m}function Fd(t,s){var m={};return s=Lr(s,3),Pi(t,function(M,J,gt){zi(m,J,s(M,J,gt))}),m}var Nd=$o(function(t,s,m){Co(t,s,m)}),dc=$o(function(t,s,m,M){Co(t,s,m,M)}),Md=tr(function(t,s){var m={};if(t==null)return m;var M=!1;s=Ve(s,function(gt){return gt=eo(gt,t),M||(M=gt.length>1),gt}),Xa(t,Dr(t),m),M&&(m=Ii(m,n|e|r,De));for(var J=s.length;J--;)Ql(m,s[J]);return m});function Id(t,s){return pc(t,gh(Lr(s)))}var Dd=tr(function(t,s){return t==null?{}:Vl(t,s)});function pc(t,s){if(t==null)return{};var m=Ve(Dr(t),function(M){return[M]});return s=Lr(s),_u(t,m,function(M,J){return s(M,J[0])})}function Rd(t,s,m){s=eo(s,t);var M=-1,J=s.length;for(J||(J=1,t=nt);++M<J;){var gt=t==null?nt:t[ps(s[M])];gt===nt&&(M=J,gt=m),t=Oo(gt)?gt.call(t):gt}return t}function Bd(t,s,m){return t==null?t:yl(t,s,m)}function jd(t,s,m,M){return M=typeof M=="function"?M:nt,t==null?t:yl(t,s,m,M)}var gc=_e(Hi),vc=_e(Na);function Ud(t,s,m){var M=yn(t),J=M||rl(t)||hu(t);if(s=Lr(s,4),m==null){var gt=t&&t.constructor;J?m=M?new gt:[]:yi(t)?m=Oo(gt)?Vs(Do(t)):{}:m={}}return(J?Cr:Pi)(t,function(Rt,Qt,pe){return s(m,Rt,Qt,pe)}),m}function zd(t,s){return t==null?!0:Ql(t,s)}function Wd(t,s,m){return t==null?t:zu(t,s,Va(m))}function Hd(t,s,m,M){return M=typeof M=="function"?M:nt,t==null?t:zu(t,s,Va(m),M)}function cu(t){return t==null?[]:aa(t,Hi(t))}function qd(t){return t==null?[]:aa(t,Na(t))}function Gd(t,s,m){return m===nt&&(m=s,s=nt),m!==nt&&(m=gs(m),m=m===m?m:0),s!==nt&&(s=gs(s),s=s===s?s:0),cs(gs(t),s,m)}function Yd(t,s,m){return s=Eo(s),m===nt?(m=s,s=0):m=Eo(m),t=gs(t),Yo(t,s,m)}function Vd(t,s,m){if(m&&typeof m!="boolean"&&ti(t,s,m)&&(s=m=nt),m===nt&&(typeof s=="boolean"?(m=s,s=nt):typeof t=="boolean"&&(m=t,t=nt)),t===nt&&s===nt?(t=0,s=1):(t=Eo(t),s===nt?(s=t,t=0):s=Eo(s)),t>s){var M=t;t=s,s=M}if(m||t%1||s%1){var J=Rl();return bi(t+J*(s-t+qe("1e-"+((J+"").length-1))),s)}return Jl(t,s)}var Xd=Ao(function(t,s,m){return s=s.toLowerCase(),t+(m?mc(s):s)});function mc(t){return zh(Kn(t).toLowerCase())}function yc(t){return t=Kn(t),t&&t.replace(kt,ji).replace(rt,"")}function Kd(t,s,m){t=Kn(t),s=da(s);var M=t.length;m=m===nt?M:cs(xn(m),0,M);var J=m;return m-=s.length,m>=0&&t.slice(m,J)==s}function Jd(t){return t=Kn(t),t&&Qa.test(t)?t.replace(na,rs):t}function $d(t){return t=Kn(t),t&&js.test(t)?t.replace(Ra,"\\$&"):t}var Zd=Ao(function(t,s,m){return t+(m?"-":"")+s.toLowerCase()}),Qd=Ao(function(t,s,m){return t+(m?" ":"")+s.toLowerCase()}),tp=Zu("toLowerCase");function ep(t,s,m){t=Kn(t),s=xn(s);var M=s?Ui(t):0;if(!s||M>=s)return t;var J=(s-M)/2;return X(Bo(J),m)+t+X(vo(J),m)}function rp(t,s,m){t=Kn(t),s=xn(s);var M=s?Ui(t):0;return s&&M<s?t+X(s-M,m):t}function np(t,s,m){t=Kn(t),s=xn(s);var M=s?Ui(t):0;return s&&M<s?X(s-M,m)+t:t}function ip(t,s,m){return m||s==null?s=0:s&&(s=+s),gu(Kn(t).replace(Ba,""),s||0)}function ap(t,s,m){return(m?ti(t,s,m):s===nt)?s=1:s=xn(s),ml(Kn(t),s)}function sp(){var t=arguments,s=Kn(t[0]);return t.length<3?s:s.replace(t[1],t[2])}var op=Ao(function(t,s,m){return t+(m?"_":"")+s.toLowerCase()});function lp(t,s,m){return m&&typeof m!="number"&&ti(t,s,m)&&(s=m=nt),m=m===nt?ct:m>>>0,m?(t=Kn(t),t&&(typeof s=="string"||s!=null&&!Bh(s))&&(s=da(s),!s&&Ji(t))?Vi(vi(t),0,m):t.split(s,m)):[]}var up=Ao(function(t,s,m){return t+(m?" ":"")+zh(s)});function hp(t,s,m){return t=Kn(t),m=m==null?0:cs(xn(m),0,t.length),s=da(s),t.slice(m,m+s.length)==s}function cp(t,s,m){var M=at.templateSettings;m&&ti(t,s,m)&&(s=nt),t=Kn(t),s=yh({},s,M,ce);var J=yh({},s.imports,M.imports,ce),gt=Hi(J),Rt=aa(J,gt),Qt,pe,rr=0,ir=s.interpolate||Mt,vr="__p += '",Ir=nl((s.escape||Mt).source+"|"+ir.source+"|"+(ir===ia?ts:Mt).source+"|"+(s.evaluate||Mt).source+"|$","g"),qr="//# sourceURL="+(In.call(s,"sourceURL")?(s.sourceURL+"").replace(/\s/g," "):"lodash.templateSources["+ ++lr+"]")+`
`;t.replace(Ir,function(sn,En,Dn,$a,ya,Za){return Dn||(Dn=$a),vr+=t.slice(rr,Za).replace(ae,ns),En&&(Qt=!0,vr+=`' +
__e(`+En+`) +
'`),ya&&(pe=!0,vr+=`';
`+ya+`;
__p += '`),Dn&&(vr+=`' +
((__t = (`+Dn+`)) == null ? '' : __t) +
'`),rr=Za+sn.length,sn}),vr+=`';
`;var an=In.call(s,"variable")&&s.variable;if(!an)vr=`with (obj) {
`+vr+`
}
`;else if(wa.test(an))throw new nn(a);vr=(pe?vr.replace(Ni,""):vr).replace(ei,"$1").replace(Ia,"$1;"),vr="function("+(an||"obj")+`) {
`+(an?"":`obj || (obj = {});
`)+"var __t, __p = ''"+(Qt?", __e = _.escape":"")+(pe?`, __j = Array.prototype.join;
function print() { __p += __j.call(arguments, '') }
`:`;
`)+vr+`return __p
}`;var Cn=wc(function(){return Nn(gt,qr+"return "+vr).apply(nt,Rt)});if(Cn.source=vr,Rh(Cn))throw Cn;return Cn}function fp(t){return Kn(t).toLowerCase()}function dp(t){return Kn(t).toUpperCase()}function pp(t,s,m){if(t=Kn(t),t&&(m||s===nt))return oi(t);if(!t||!(s=da(s)))return t;var M=vi(t),J=vi(s),gt=un(M,J),Rt=jn(M,J)+1;return Vi(M,gt,Rt).join("")}function gp(t,s,m){if(t=Kn(t),t&&(m||s===nt))return t.slice(0,sa(t)+1);if(!t||!(s=da(s)))return t;var M=vi(t),J=jn(M,vi(s))+1;return Vi(M,0,J).join("")}function vp(t,s,m){if(t=Kn(t),t&&(m||s===nt))return t.replace(Ba,"");if(!t||!(s=da(s)))return t;var M=vi(t),J=un(M,vi(s));return Vi(M,J).join("")}function mp(t,s){var m=Ue,M=sr;if(yi(s)){var J="separator"in s?s.separator:J;m="length"in s?xn(s.length):m,M="omission"in s?da(s.omission):M}t=Kn(t);var gt=t.length;if(Ji(t)){var Rt=vi(t);gt=Rt.length}if(m>=gt)return t;var Qt=m-Ui(M);if(Qt<1)return M;var pe=Rt?Vi(Rt,0,Qt).join(""):t.slice(0,Qt);if(J===nt)return pe+M;if(Rt&&(Qt+=pe.length-Qt),Bh(J)){if(t.slice(Qt).search(J)){var rr,ir=pe;for(J.global||(J=nl(J.source,Kn(W.exec(J))+"g")),J.lastIndex=0;rr=J.exec(ir);)var vr=rr.index;pe=pe.slice(0,vr===nt?Qt:vr)}}else if(t.indexOf(da(J),Qt)!=Qt){var Ir=pe.lastIndexOf(J);Ir>-1&&(pe=pe.slice(0,Ir))}return pe+M}function yp(t){return t=Kn(t),t&&Ds.test(t)?t.replace(Nr,ho):t}var bp=Ao(function(t,s,m){return t+(m?" ":"")+s.toUpperCase()}),zh=Zu("toUpperCase");function bc(t,s,m){return t=Kn(t),s=m?nt:s,s===nt?xa(t)?Fo(t):tn(t):t.match(s)||[]}var wc=pn(function(t,s){try{return ur(t,nt,s)}catch(m){return Rh(m)?m:new nn(m)}}),wp=tr(function(t,s){return Cr(s,function(m){m=ps(m),zi(t,m,Ih(t[m],t))}),t});function _p(t){var s=t==null?0:t.length,m=Lr();return t=s?Ve(t,function(M){if(typeof M[1]!="function")throw new $i(L);return[m(M[0]),M[1]]}):[],pn(function(M){for(var J=-1;++J<s;){var gt=t[J];if(ur(gt[0],this,M))return ur(gt[1],this,M)}})}function xp(t){return Gi(Ii(t,n))}function Wh(t){return function(){return t}}function Sp(t,s){return t==null||t!==t?s:t}var Cp=Lu(),Ap=Lu(!0);function Ma(t){return t}function Hh(t){return yu(typeof t=="function"?t:Ii(t,n))}function Tp(t){return wu(Ii(t,n))}function Pp(t,s){return Yl(t,Ii(s,n))}var Lp=pn(function(t,s){return function(m){return Ls(m,t,s)}}),Op=pn(function(t,s){return function(m){return Ls(t,m,s)}});function qh(t,s,m){var M=Hi(s),J=ta(s,M);m==null&&!(yi(s)&&(J.length||!M.length))&&(m=s,s=t,t=this,J=ta(s,Hi(s)));var gt=!(yi(m)&&"chain"in m)||!!m.chain,Rt=Oo(t);return Cr(J,function(Qt){var pe=s[Qt];t[Qt]=pe,Rt&&(t.prototype[Qt]=function(){var rr=this.__chain__;if(gt||rr){var ir=t(this.__wrapped__),vr=ir.__actions__=Wi(this.__actions__);return vr.push({func:pe,args:arguments,thisArg:t}),ir.__chain__=rr,ir}return pe.apply(t,Fr([this.value()],arguments))})}),t}function Ep(){return pr._===this&&(pr._=po),this}function Gh(){}function kp(t){return t=xn(t),pn(function(s){return fa(s,t)})}var Fp=B(Ve),Np=B(Gr),Mp=B(Wr);function _c(t){return Oa(t)?Vn(ps(t)):Xl(t)}function Ip(t){return function(s){return t==null?nt:fs(t,s)}}var Dp=Q(),Rp=Q(!0);function Yh(){return[]}function Vh(){return!1}function Bp(){return{}}function jp(){return""}function Up(){return!0}function zp(t,s){if(t=xn(t),t<1||t>lt)return[];var m=ct,M=bi(t,ct);s=Lr(s),t-=ct;for(var J=Rn(M,s);++m<t;)s(m);return J}function Wp(t){return yn(t)?Ve(t,ps):Ja(t)?[t]:Wi(tl(Kn(t)))}function Hp(t){var s=++fu;return Kn(t)+s}var qp=P(function(t,s){return t+s},0),Gp=At("ceil"),Yp=P(function(t,s){return t/s},1),Vp=At("floor");function Xp(t){return t&&t.length?Go(t,Ma,ds):nt}function Kp(t,s){return t&&t.length?Go(t,Lr(s,2),ds):nt}function Jp(t){return Bi(t,Ma)}function $p(t,s){return Bi(t,Lr(s,2))}function Zp(t){return t&&t.length?Go(t,Ma,Gl):nt}function Qp(t,s){return t&&t.length?Go(t,Lr(s,2),Gl):nt}var tg=P(function(t,s){return t*s},1),eg=At("round"),rg=P(function(t,s){return t-s},0);function ng(t){return t&&t.length?_a(t,Ma):0}function ig(t,s){return t&&t.length?_a(t,Lr(s,2)):0}return at.after=Tf,at.ary=Zh,at.assign=dd,at.assignIn=fc,at.assignInWith=yh,at.assignWith=pd,at.at=gd,at.before=Qh,at.bind=Ih,at.bindAll=wp,at.bindKey=tc,at.castArray=Bf,at.chain=Kh,at.chunk=Th,at.compact=Ph,at.concat=Lh,at.cond=_p,at.conforms=xp,at.constant=Wh,at.countBy=rf,at.create=vd,at.curry=ec,at.curryRight=rc,at.debounce=nc,at.defaults=md,at.defaultsDeep=yd,at.defer=Pf,at.delay=Lf,at.difference=rh,at.differenceBy=ou,at.differenceWith=nh,at.drop=ih,at.dropRight=lu,at.dropRightWhile=ku,at.dropWhile=Cl,at.fill=ah,at.filter=af,at.flatMap=lf,at.flatMapDeep=uf,at.flatMapDepth=hf,at.flatten=Fu,at.flattenDeep=Nu,at.flattenDepth=ao,at.flip=Of,at.flow=Cp,at.flowRight=Ap,at.fromPairs=oh,at.functions=Ad,at.functionsIn=Td,at.groupBy=cf,at.initial=lh,at.intersection=el,at.intersectionBy=Eh,at.intersectionWith=uh,at.invert=Ld,at.invertBy=Od,at.invokeMap=df,at.iteratee=Hh,at.keyBy=pf,at.keys=Hi,at.keysIn=Na,at.map=fh,at.mapKeys=kd,at.mapValues=Fd,at.matches=Tp,at.matchesProperty=Pp,at.memoize=ph,at.merge=Nd,at.mergeWith=dc,at.method=Lp,at.methodOf=Op,at.mixin=qh,at.negate=gh,at.nthArg=kp,at.omit=Md,at.omitBy=Id,at.once=Ef,at.orderBy=gf,at.over=Fp,at.overArgs=kf,at.overEvery=Np,at.overSome=Mp,at.partial=Dh,at.partialRight=ic,at.partition=vf,at.pick=Dd,at.pickBy=pc,at.property=_c,at.propertyOf=Ip,at.pull=Iu,at.pullAll=Pl,at.pullAllBy=Ns,at.pullAllWith=so,at.pullAt=oo,at.range=Dp,at.rangeRight=Rp,at.rearg=Ff,at.reject=bf,at.remove=uu,at.rest=Nf,at.reverse=Ll,at.sampleSize=_f,at.set=Bd,at.setWith=jd,at.shuffle=xf,at.slice=hh,at.sortBy=Af,at.sortedUniq=Tc,at.sortedUniqBy=Pc,at.split=lp,at.spread=Mf,at.tail=Lc,at.take=Oc,at.takeRight=Ec,at.takeRightWhile=kc,at.takeWhile=Fc,at.tap=Vc,at.throttle=If,at.thru=ch,at.toArray=uc,at.toPairs=gc,at.toPairsIn=vc,at.toPath=Wp,at.toPlainObject=cc,at.transform=Ud,at.unary=Df,at.union=Nc,at.unionBy=Mc,at.unionWith=Ic,at.uniq=Dc,at.uniqBy=Rc,at.uniqWith=Bc,at.unset=zd,at.unzip=Mh,at.unzipWith=Xh,at.update=Wd,at.updateWith=Hd,at.values=cu,at.valuesIn=qd,at.without=jc,at.words=bc,at.wrap=Rf,at.xor=Uc,at.xorBy=zc,at.xorWith=Wc,at.zip=Hc,at.zipObject=qc,at.zipObjectDeep=Gc,at.zipWith=Yc,at.entries=gc,at.entriesIn=vc,at.extend=fc,at.extendWith=yh,qh(at,at),at.add=qp,at.attempt=wc,at.camelCase=Xd,at.capitalize=mc,at.ceil=Gp,at.clamp=Gd,at.clone=jf,at.cloneDeep=zf,at.cloneDeepWith=Wf,at.cloneWith=Uf,at.conformsTo=Hf,at.deburr=yc,at.defaultTo=Sp,at.divide=Yp,at.endsWith=Kd,at.eq=Ms,at.escape=Jd,at.escapeRegExp=$d,at.every=nf,at.find=sf,at.findIndex=sh,at.findKey=bd,at.findLast=of,at.findLastIndex=Al,at.findLastKey=wd,at.floor=Vp,at.forEach=Jh,at.forEachRight=$h,at.forIn=_d,at.forInRight=xd,at.forOwn=Sd,at.forOwnRight=Cd,at.get=jh,at.gt=qf,at.gte=Gf,at.has=Pd,at.hasIn=Uh,at.head=Mu,at.identity=Ma,at.includes=ff,at.indexOf=Oh,at.inRange=Yd,at.invoke=Ed,at.isArguments=Ol,at.isArray=yn,at.isArrayBuffer=Yf,at.isArrayLike=Fa,at.isArrayLikeObject=Li,at.isBoolean=Vf,at.isBuffer=rl,at.isDate=Xf,at.isElement=Kf,at.isEmpty=Jf,at.isEqual=$f,at.isEqualWith=Zf,at.isError=Rh,at.isFinite=Qf,at.isFunction=Oo,at.isInteger=ac,at.isLength=vh,at.isMap=sc,at.isMatch=td,at.isMatchWith=ed,at.isNaN=rd,at.isNative=nd,at.isNil=ad,at.isNull=id,at.isNumber=oc,at.isObject=yi,at.isObjectLike=xi,at.isPlainObject=Bu,at.isRegExp=Bh,at.isSafeInteger=sd,at.isSet=lc,at.isString=mh,at.isSymbol=Ja,at.isTypedArray=hu,at.isUndefined=od,at.isWeakMap=ld,at.isWeakSet=ud,at.join=kh,at.kebabCase=Zd,at.last=ma,at.lastIndexOf=Fh,at.lowerCase=Qd,at.lowerFirst=tp,at.lt=hd,at.lte=cd,at.max=Xp,at.maxBy=Kp,at.mean=Jp,at.meanBy=$p,at.min=Zp,at.minBy=Qp,at.stubArray=Yh,at.stubFalse=Vh,at.stubObject=Bp,at.stubString=jp,at.stubTrue=Up,at.multiply=tg,at.nth=Tl,at.noConflict=Ep,at.noop=Gh,at.now=dh,at.pad=ep,at.padEnd=rp,at.padStart=np,at.parseInt=ip,at.random=Vd,at.reduce=mf,at.reduceRight=yf,at.repeat=ap,at.replace=sp,at.result=Rd,at.round=eg,at.runInContext=ue,at.sample=wf,at.size=Sf,at.snakeCase=op,at.some=Cf,at.sortedIndex=Nh,at.sortedIndexBy=Du,at.sortedIndexOf=Ru,at.sortedLastIndex=Sc,at.sortedLastIndexBy=Cc,at.sortedLastIndexOf=Ac,at.startCase=up,at.startsWith=hp,at.subtract=rg,at.sum=ng,at.sumBy=ig,at.template=cp,at.times=zp,at.toFinite=Eo,at.toInteger=xn,at.toLength=hc,at.toLower=fp,at.toNumber=gs,at.toSafeInteger=fd,at.toString=Kn,at.toUpper=dp,at.trim=pp,at.trimEnd=gp,at.trimStart=vp,at.truncate=mp,at.unescape=yp,at.uniqueId=Hp,at.upperCase=bp,at.upperFirst=zh,at.each=Jh,at.eachRight=$h,at.first=Mu,qh(at,function(){var t={};return Pi(at,function(s,m){In.call(at.prototype,m)||(t[m]=s)}),t}(),{chain:!1}),at.VERSION=ve,Cr(["bind","bindKey","curry","curryRight","partial","partialRight"],function(t){at[t].placeholder=at}),Cr(["drop","take"],function(t,s){wn.prototype[t]=function(m){m=m===nt?1:ai(xn(m),0);var M=this.__filtered__&&!s?new wn(this):this.clone();return M.__filtered__?M.__takeCount__=bi(m,M.__takeCount__):M.__views__.push({size:bi(m,ct),type:t+(M.__dir__<0?"Right":"")}),M},wn.prototype[t+"Right"]=function(m){return this.reverse()[t](m).reverse()}}),Cr(["filter","map","takeWhile"],function(t,s){var m=s+1,M=m==Ie||m==kr;wn.prototype[t]=function(J){var gt=this.clone();return gt.__iteratees__.push({iteratee:Lr(J,3),type:m}),gt.__filtered__=gt.__filtered__||M,gt}}),Cr(["head","last"],function(t,s){var m="take"+(s?"Right":"");wn.prototype[t]=function(){return this[m](1).value()[0]}}),Cr(["initial","tail"],function(t,s){var m="drop"+(s?"":"Right");wn.prototype[t]=function(){return this.__filtered__?new wn(this):this[m](1)}}),wn.prototype.compact=function(){return this.filter(Ma)},wn.prototype.find=function(t){return this.filter(t).head()},wn.prototype.findLast=function(t){return this.reverse().find(t)},wn.prototype.invokeMap=pn(function(t,s){return typeof t=="function"?new wn(this):this.map(function(m){return Ls(m,t,s)})}),wn.prototype.reject=function(t){return this.filter(gh(Lr(t)))},wn.prototype.slice=function(t,s){t=xn(t);var m=this;return m.__filtered__&&(t>0||s<0)?new wn(m):(t<0?m=m.takeRight(-t):t&&(m=m.drop(t)),s!==nt&&(s=xn(s),m=s<0?m.dropRight(-s):m.take(s-t)),m)},wn.prototype.takeRightWhile=function(t){return this.reverse().takeWhile(t).reverse()},wn.prototype.toArray=function(){return this.take(ct)},Pi(wn.prototype,function(t,s){var m=/^(?:filter|find|map|reject)|While$/.test(s),M=/^(?:head|last)$/.test(s),J=at[M?"take"+(s=="last"?"Right":""):s],gt=M||/^find/.test(s);!J||(at.prototype[s]=function(){var Rt=this.__wrapped__,Qt=M?[1]:arguments,pe=Rt instanceof wn,rr=Qt[0],ir=pe||yn(Rt),vr=function(En){var Dn=J.apply(at,Fr([En],Qt));return M&&Ir?Dn[0]:Dn};ir&&m&&typeof rr=="function"&&rr.length!=1&&(pe=ir=!1);var Ir=this.__chain__,qr=!!this.__actions__.length,an=gt&&!Ir,Cn=pe&&!qr;if(!gt&&ir){Rt=Cn?Rt:new wn(this);var sn=t.apply(Rt,Qt);return sn.__actions__.push({func:ch,args:[vr],thisArg:nt}),new Qi(sn,Ir)}return an&&Cn?t.apply(this,Qt):(sn=this.thru(vr),an?M?sn.value()[0]:sn.value():sn)})}),Cr(["pop","push","shift","sort","splice","unshift"],function(t){var s=Zi[t],m=/^(?:push|sort|unshift)$/.test(t)?"tap":"thru",M=/^(?:pop|shift)$/.test(t);at.prototype[t]=function(){var J=arguments;if(M&&!this.__chain__){var gt=this.value();return s.apply(yn(gt)?gt:[],J)}return this[m](function(Rt){return s.apply(yn(Rt)?Rt:[],J)})}}),Pi(wn.prototype,function(t,s){var m=at[s];if(m){var M=m.name+"";In.call(Ha,M)||(Ha[M]=[]),Ha[M].push({name:s,func:m})}}),Ha[c(nt,d).name]=[{name:"wrapper",func:nt}],wn.prototype.clone=ll,wn.prototype.reverse=zl,wn.prototype.value=Wo,at.prototype.at=Xc,at.prototype.chain=Kc,at.prototype.commit=Jc,at.prototype.next=$c,at.prototype.plant=Qc,at.prototype.reverse=tf,at.prototype.toJSON=at.prototype.valueOf=at.prototype.value=ef,at.prototype.first=at.prototype.head,oa&&(at.prototype[oa]=Zc),at},bs=No();pr._=bs,Ut=function(){return bs}.call(hr,Te,hr,C),Ut!==nt&&(C.exports=Ut)}).call(this)}).call(this,Te("IyRk"),Te("hOG+")(on))},PGov:function(on,hr,Te){"use strict";var ar=Te("i8i4"),C=Te.n(ar),Ut=Te("oOwn"),nt=Te.n(Ut),ve=Te("bBst"),Ce=Te.n(ve),_t=Te("q1tI"),L=Te.n(_t);function a(Z,ct,Ot){return ct in Z?Object.defineProperty(Z,ct,{value:Ot,enumerable:!0,configurable:!0,writable:!0}):Z[ct]=Ot,Z}function f(Z){for(var ct=1;ct<arguments.length;ct++){var Ot=arguments[ct]!=null?arguments[ct]:{},U=Object.keys(Ot);typeof Object.getOwnPropertySymbols=="function"&&(U=U.concat(Object.getOwnPropertySymbols(Ot).filter(function(tt){return Object.getOwnPropertyDescriptor(Ot,tt).enumerable}))),U.forEach(function(tt){a(Z,tt,Ot[tt])})}return Z}function h(Z,ct){if(!(Z instanceof ct))throw new TypeError("Cannot call a class as a function")}function l(Z,ct){for(var Ot=0;Ot<ct.length;Ot++){var U=ct[Ot];U.enumerable=U.enumerable||!1,U.configurable=!0,"value"in U&&(U.writable=!0),Object.defineProperty(Z,U.key,U)}}function n(Z,ct,Ot){return ct&&l(Z.prototype,ct),Ot&&l(Z,Ot),Z}function e(Z){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?e=function(Ot){return typeof Ot}:e=function(Ot){return Ot&&typeof Symbol=="function"&&Ot.constructor===Symbol&&Ot!==Symbol.prototype?"symbol":typeof Ot},e(Z)}function r(Z){return typeof Symbol=="function"&&e(Symbol.iterator)==="symbol"?r=function(Ot){return e(Ot)}:r=function(Ot){return Ot&&typeof Symbol=="function"&&Ot.constructor===Symbol&&Ot!==Symbol.prototype?"symbol":e(Ot)},r(Z)}function i(Z){if(Z===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return Z}function u(Z,ct){return ct&&(r(ct)==="object"||typeof ct=="function")?ct:i(Z)}function o(Z){return o=Object.setPrototypeOf?Object.getPrototypeOf:function(Ot){return Ot.__proto__||Object.getPrototypeOf(Ot)},o(Z)}function d(Z,ct){return d=Object.setPrototypeOf||function(U,tt){return U.__proto__=tt,U},d(Z,ct)}function b(Z,ct){if(typeof ct!="function"&&ct!==null)throw new TypeError("Super expression must either be null or a function");Z.prototype=Object.create(ct&&ct.prototype,{constructor:{value:Z,writable:!0,configurable:!0}}),ct&&d(Z,ct)}function T(Z){if(Array.isArray(Z)){for(var ct=0,Ot=new Array(Z.length);ct<Z.length;ct++)Ot[ct]=Z[ct];return Ot}}function O(Z){if(Symbol.iterator in Object(Z)||Object.prototype.toString.call(Z)==="[object Arguments]")return Array.from(Z)}function Y(){throw new TypeError("Invalid attempt to spread non-iterable instance")}function et(Z){return T(Z)||O(Z)||Y()}var yt={ESC:27,UP:38,DOWN:40,LEFT:37,RIGHT:39,ENTER:13,TAB:9},Zt=function Z(){var ct=this;h(this,Z),this.startListen=function(Ot){!Ot||Ot.addEventListener("keydown",ct.f)},this.stopListen=function(Ot){!Ot||Ot.removeEventListener("keydown",ct.f)},this.add=function(Ot,U){var tt=Ot;return typeof tt!="object"&&(tt=[tt]),ct.listeners[ct.index]={keyCode:tt,fn:U},ct.index++},this.remove=function(Ot){delete ct.listeners[Ot]},this.removeAll=function(){ct.listeners={},ct.index=1},this.index=1,this.listeners={},this.f=function(Ot){if(!!Ot){var U=Ot.keyCode||Ot.which;Object.values(ct.listeners).forEach(function(tt){var mt=tt.keyCode,pt=tt.fn;mt.includes(U)&&(Ot.stopPropagation(),Ot.preventDefault(),pt(Ot))})}}},fe=new Zt,Ue=function(Z){b(ct,Z);function ct(){var Ot,U;h(this,ct);for(var tt=arguments.length,mt=new Array(tt),pt=0;pt<tt;pt++)mt[pt]=arguments[pt];return U=u(this,(Ot=o(ct)).call.apply(Ot,[this].concat(mt))),U.selectItem=function(){var Yt=U.props,St=Yt.item,Et=Yt.onSelectHandler;Et(St)},U}return n(ct,[{key:"shouldComponentUpdate",value:function(U){return this.props.item!==U.item||this.props.selected!==U.selected||this.props.style!==U.style||this.props.className!==U.className}},{key:"render",value:function(){var U=this,tt=this.props,mt=tt.component,pt=tt.style,Yt=tt.onClickHandler,St=tt.item,Et=tt.selected,re=tt.className,Vt=tt.innerRef;return L.a.createElement("li",{className:"rta__item  ".concat(Et===!0?"rta__item--selected":""," ").concat(re||""),style:pt},L.a.createElement("div",{className:"rta__entity ".concat(Et===!0?"rta__entity--selected":""),role:"button",tabIndex:0,onClick:Yt,onFocus:this.selectItem,onMouseEnter:this.selectItem,onTouchStart:function(){U.clicked=!0,U.selectItem()},onTouchEnd:function(Nt){Nt.preventDefault(),U.clicked&&Yt(Nt)},onTouchMove:function(){U.clicked=!1},onTouchCancel:function(){U.clicked=!1},ref:Vt},L.a.createElement(mt,{selected:Et,entity:St})))}}]),ct}(L.a.Component),sr=function(Z){b(ct,Z);function ct(){var Ot,U;h(this,ct);for(var tt=arguments.length,mt=new Array(tt),pt=0;pt<tt;pt++)mt[pt]=arguments[pt];return U=u(this,(Ot=o(ct)).call.apply(Ot,[this].concat(mt))),U.state={selectedItem:null},U.cachedIdOfItems=new Map,U.onPressEnter=function(Yt){typeof Yt!="undefined"&&Yt.preventDefault();var St=U.props.values;U.modifyText(St[U.getPositionInList()])},U.getPositionInList=function(){var Yt=U.props.values,St=U.state.selectedItem;return St?Yt.findIndex(function(Et){return U.getId(Et)===U.getId(St)}):0},U.getId=function(Yt){if(U.cachedIdOfItems.has(Yt))return U.cachedIdOfItems.get(Yt);var St=U.props.getTextToReplace(Yt),Et=function(){if(St){if(St.key)return St.key;if(typeof Yt=="string"||!Yt.key)return St.text}if(!Yt.key)throw new Error("Item ".concat(JSON.stringify(Yt),' has to have defined "key" property'));return Yt.key},re=Et();return U.cachedIdOfItems.set(Yt,re),re},U.listeners=[],U.itemsRef={},U.modifyText=function(Yt){if(!!Yt){var St=U.props.onSelect;St(Yt)}},U.selectItem=function(Yt){var St=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,Et=U.props.onItemHighlighted;U.state.selectedItem!==Yt&&U.setState({selectedItem:Yt},function(){Et(Yt),St&&U.props.dropdownScroll(U.itemsRef[U.getId(Yt)])})},U.scroll=function(Yt){Yt.preventDefault();var St=U.props.values,Et=Yt.keyCode||Yt.which,re=U.getPositionInList(),Vt;switch(Et){case yt.DOWN:Vt=re+1;break;case yt.UP:Vt=re-1;break;default:Vt=re;break}Vt=(Vt%St.length+St.length)%St.length,U.selectItem(St[Vt],[yt.DOWN,yt.UP].includes(Et))},U.isSelected=function(Yt){var St=U.state.selectedItem;return St?U.getId(St)===U.getId(Yt):!1},U}return n(ct,[{key:"componentDidMount",value:function(){this.listeners.push(fe.add([yt.DOWN,yt.UP],this.scroll),fe.add([yt.ENTER,yt.TAB],this.onPressEnter));var U=this.props.values;U&&U[0]&&this.selectItem(U[0])}},{key:"componentDidUpdate",value:function(U){var tt=this,mt=U.values,pt=this.props.values,Yt=mt.map(function(Et){return tt.getId(Et)}).join(""),St=pt.map(function(Et){return tt.getId(Et)}).join("");Yt!==St&&pt&&pt[0]&&this.selectItem(pt[0])}},{key:"componentWillUnmount",value:function(){for(var U;this.listeners.length;)U=this.listeners.pop(),fe.remove(U)}},{key:"render",value:function(){var U=this,tt=this.props,mt=tt.values,pt=tt.component,Yt=tt.style,St=tt.itemClassName,Et=tt.className,re=tt.itemStyle;return L.a.createElement("ul",{className:"rta__list ".concat(Et||""),style:Yt},mt.map(function(Vt){return L.a.createElement(Ue,{key:U.getId(Vt),innerRef:function(Nt){U.itemsRef[U.getId(Vt)]=Nt},selected:U.isSelected(Vt),item:Vt,className:St,style:re,onClickHandler:U.onPressEnter,onSelectHandler:U.selectItem,component:pt})}))}}]),ct}(L.a.Component);function cr(Z,ct){var Ot=parseInt(getComputedStyle(ct).getPropertyValue("height"),10),U=parseInt(getComputedStyle(Z).getPropertyValue("height"),10)-Ot,tt=ct.offsetTop,mt=Z.scrollTop;tt<mt+U&&mt<tt||(Z.scrollTop=tt)}var Ke="next",Ie={X:{LEFT:"rta__autocomplete--left",RIGHT:"rta__autocomplete--right"},Y:{TOP:"rta__autocomplete--top",BOTTOM:"rta__autocomplete--bottom"}},gr=function(ct){return console.error("RTA: dataProvider fails: ".concat(ct,`
    
Check the documentation or create issue if you think it's bug. https://github.com/webscopeio/react-textarea-autocomplete/issues`))},kr=[".","^","$","*","+","-","?","(",")","[","]","{","}","\\","|"],Ar=function(ct){return et(ct).map(function(Ot){return kr.includes(Ot)?"\\".concat(Ot):Ot}).join("")},lt=function(Z){b(ct,Z);function ct(){return h(this,ct),u(this,o(ct).apply(this,arguments))}return n(ct,[{key:"componentDidMount",value:function(){var U=this.props.boundariesElement;if(typeof U=="string"){var tt=document.querySelector(U);if(!tt)throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");this.containerElem=tt}else if(U instanceof HTMLElement)this.containerElem=U;else throw new Error("RTA: Invalid prop boundariesElement: it has to be string or HTMLElement.");if(!this.containerElem||!this.containerElem.contains(this.ref))throw new Error("RTA: Invalid prop boundariesElement: it has to be one of the parents of the RTA.")}},{key:"componentDidUpdate",value:function(){var U,tt,mt=this.props.top||0,pt=this.props.left||0,Yt=[],St=[],Et=0,re=0,Vt=this.containerElem.getBoundingClientRect(),Ht=this.ref.getBoundingClientRect(),Nt=this.props.textareaRef.getBoundingClientRect(),te=window.getComputedStyle(this.ref),oe=parseInt(te.getPropertyValue("margin-top"),10),Pe=parseInt(te.getPropertyValue("margin-bottom"),10),K=parseInt(te.getPropertyValue("margin-left"),10),F=parseInt(te.getPropertyValue("margin-right"),10),D=oe+Pe+Nt.top+mt+Ht.height,it=K+F+Nt.left+pt+Ht.width;it>Vt.right&&Nt.left+pt>Ht.width?(re=pt-Ht.width,Yt.push(Ie.X.LEFT),St.push(Ie.X.RIGHT)):(re=pt,Yt.push(Ie.X.RIGHT),St.push(Ie.X.LEFT)),D>Vt.bottom&&Nt.top+mt>Ht.height?(Et=mt-Ht.height,Yt.push(Ie.Y.TOP),St.push(Ie.Y.BOTTOM)):(Et=mt,Yt.push(Ie.Y.BOTTOM),St.push(Ie.Y.TOP)),this.props.renderToBody&&(Et+=Nt.top,re+=Nt.left),this.ref.style.top="".concat(Et,"px"),this.ref.style.left="".concat(re,"px"),(U=this.ref.classList).remove.apply(U,St),(tt=this.ref.classList).add.apply(tt,Yt)}},{key:"render",value:function(){var U=this,tt=this.props,mt=tt.style,pt=tt.className,Yt=tt.innerRef,St=tt.children,Et=tt.renderToBody,re=document.body,Vt=L.a.createElement("div",{ref:function(Nt){U.ref=Nt,Yt(Nt)},className:"rta__autocomplete ".concat(pt||""),style:mt},St);return Et&&re!==null?C.a.createPortal(Vt,re):Vt}}]),ct}(L.a.Component),me=function(Z){b(ct,Z);function ct(Ot){var U;h(this,ct),U=u(this,o(ct).call(this,Ot)),U.state={top:null,left:null,currentTrigger:null,actualToken:"",data:null,value:"",dataLoading:!1,selectionEnd:0,component:null,textToReplace:null},U.escListenerInit=function(){U.escListener||(U.escListener=fe.add(yt.ESC,U._closeAutocomplete))},U.escListenerDestroy=function(){U.escListener&&(fe.remove(U.escListener),U.escListener=null)},U.getSelectionPosition=function(){return U.textareaRef?{selectionStart:U.textareaRef.selectionStart,selectionEnd:U.textareaRef.selectionEnd}:null},U.getSelectedText=function(){if(!U.textareaRef)return null;var St=U.textareaRef,Et=St.selectionStart,re=St.selectionEnd;return Et===re?null:U.state.value.substr(Et,re-Et)},U.setCaretPosition=function(){var St=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0;!U.textareaRef||(U.textareaRef.focus(),U.textareaRef.setSelectionRange(St,St))},U.getCaretPosition=function(){if(!U.textareaRef)return 0;var St=U.textareaRef.selectionEnd;return St},U._handleCaretChange=function(St){var Et=function(){var Ht=U.getCaretPosition()-1;U.lastTrigger=U.lastTrigger?Ht:0};if(St.type==="keydown"){var re=St.keyCode||St.which;switch(re){case yt.UP:case yt.DOWN:U._isAutocompleteOpen()||Et();break;case yt.LEFT:case yt.RIGHT:Et();break;default:}return}Et()},U._onSelect=function(St){var Et=U.state,re=Et.selectionEnd,Vt=Et.currentTrigger,Ht=Et.value,Nt=U.props.onItemSelected;if(!!Vt){var te=U._getTextToReplace(Vt);if(!te){U._closeAutocomplete();return}var oe=te(St);if(!oe){U._closeAutocomplete();return}Nt&&Nt({currentTrigger:Vt,item:St});var Pe=function(mr,xr,_r){switch(mr){case"start":return _r;case"next":case"end":return _r+xr.length;default:if(!Number.isInteger(mr))throw new Error('RTA: caretPosition should be "start", "next", "end" or number.');return mr}},K=Ht.slice(0,re),F=Ar(Vt),D=K.length-K.lastIndexOf(Vt),it=K.search(new RegExp("(?!".concat(F,")$")))-D,vt=oe.caretPosition==="next"?"".concat(oe.text," "):oe.text,ee=Pe(oe.caretPosition,vt,it),he=K.substring(0,it)+vt,yr=Ht.replace(K,he);U.setState({value:yr,dataLoading:!1},function(){var Er=U.tokenRegExpEnding.exec(vt),mr=Er?Er[0].length:1;U.lastTrigger=ee&&ee-mr,U.textareaRef.value=yr,U.textareaRef.selectionEnd=ee,U._changeHandler();var xr=U.textareaRef.scrollTop;U.setCaretPosition(ee),window.chrome&&(U.textareaRef.scrollTop=xr)})}},U._getTextToReplace=function(St){var Et=U.props.trigger[St];if(!St||!Et)return null;var re=Et.output;return function(Vt){if(typeof Vt=="object"&&(!re||typeof re!="function"))throw new Error('Output functor is not defined! If you are using items as object you have to define "output" function. https://github.com/webscopeio/react-textarea-autocomplete#trigger-type');if(re){var Ht=re(Vt,St);if(Ht===void 0||typeof Ht=="number")throw new Error(`Output functor should return string or object in shape {text: string, caretPosition: string | number}.
Got "`.concat(String(Ht),'". Check the implementation for trigger "').concat(St,`"

See https://github.com/webscopeio/react-textarea-autocomplete#trigger-type for more information.
`));if(Ht===null)return null;if(typeof Ht=="string")return{text:Ht,caretPosition:Ke};if(!Ht.text&&typeof Ht.text!="string")throw new Error('Output "text" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(St,`"
`));if(!Ht.caretPosition)throw new Error('Output "caretPosition" is not defined! Object should has shape {text: string, caretPosition: string | number}. Check the implementation for trigger "'.concat(St,`"
`));return Ht}if(typeof Vt!="string")throw new Error(`Output item should be string
`);return{text:"".concat(St).concat(Vt).concat(St),caretPosition:Ke}}},U._getCurrentTriggerSettings=function(){var St=U.state.currentTrigger;return St?U.props.trigger[St]:null},U._getValuesFromProvider=function(){var St=U.state,Et=St.currentTrigger,re=St.actualToken,Vt=U._getCurrentTriggerSettings();if(!(!Et||!Vt)){var Ht=Vt.dataProvider,Nt=Vt.component;if(typeof Ht!="function")throw new Error("Trigger provider has to be a function!");U.setState({dataLoading:!0});var te=Ht(re);te instanceof Promise||(te=Promise.resolve(te)),te.then(function(oe){if(!Array.isArray(oe))throw new Error("Trigger provider has to provide an array!");if(typeof Nt!="function")throw new Error("Component should be defined!");if(Et===U.state.currentTrigger){if(!oe.length){U._closeAutocomplete();return}U.setState({dataLoading:!1,data:oe,component:Nt})}}).catch(function(oe){return gr(oe.message)})}},U._getSuggestions=function(){var St=U.state,Et=St.currentTrigger,re=St.data;return!Et||!re||re&&!re.length?null:re},U._createRegExp=function(){var St=U.props.trigger;U.tokenRegExp=new RegExp("(".concat(Object.keys(St).sort(function(Et,re){return Et<re?1:Et>re?-1:0}).map(function(Et){return Ar(Et)}).join("|"),")((?:(?!\\1)[^\\s])*$)")),U.tokenRegExpEnding=new RegExp("(".concat(Object.keys(St).sort(function(Et,re){return Et<re?1:Et>re?-1:0}).map(function(Et){return Ar(Et)}).join("|"),")$"))},U._closeAutocomplete=function(){var St=U.state.currentTrigger;U.escListenerDestroy(),U.setState({data:null,dataLoading:!1,currentTrigger:null},function(){St&&U._onItemHighlightedHandler(null)})},U._cleanUpProps=function(){var St=f({},U.props),Et=["loadingComponent","boundariesElement","containerStyle","minChar","scrollToItem","ref","innerRef","onChange","onCaretPositionChange","className","value","trigger","listStyle","itemStyle","containerStyle","loaderStyle","className","containerClassName","listClassName","itemClassName","loaderClassName","dropdownStyle","dropdownClassName","movePopupAsYouType","textAreaComponent","renderToBody","onItemSelected","onItemHighlighted"];for(var re in St)Et.includes(re)&&delete St[re];return St},U._changeHandler=function(St){var Et=U.props,re=Et.trigger,Vt=Et.onChange,Ht=Et.minChar,Nt=Et.onCaretPositionChange,te=Et.movePopupAsYouType,oe=U.state,Pe=oe.top,K=oe.left,F=St;F||(F=new Ce.a("change",{bubbles:!0}),U.textareaRef.dispatchEvent(F));var D=F.target||U.textareaRef,it=D.selectionEnd,vt=D.value;if(U.lastValueBubbledEvent=vt,Vt&&F&&(F.persist&&F.persist(),Vt(new Proxy(F,{get:function(di,Si,Ni){return Si==="target"?D:Reflect.get(di,Si,Ni)}}))),Nt){var ee=U.getCaretPosition();Nt(ee)}U.setState({value:vt});var he=function(){var di=nt()(D,it),Si=di.top,Ni=di.left;U.setState({top:Si-U.textareaRef.scrollTop||0,left:Ni})},yr=function(di){U.lastTrigger=it-di,U._closeAutocomplete(),he()};if(it<=U.lastTrigger){var Er=vt.slice(0,it),mr=U.tokenRegExp.exec(Er);yr(mr?mr[0].length:0)}var xr=vt.slice(U.lastTrigger,it),_r=U.tokenRegExp.exec(xr),Kr=_r&&_r[0],ln=_r&&_r[1]||null,bn=ln?ln.length-1:0,Un=U.tokenRegExpEnding.exec(xr);if(Un?yr(Un[0].length):U._isAutocompleteOpen()||U._closeAutocomplete(),(!Kr||Kr.length<=Ht+bn)&&(U.state.currentTrigger&&!re[U.state.currentTrigger].allowWhitespace||!U.state.currentTrigger)){U._closeAutocomplete();return}if(ln&&re[ln].afterWhitespace&&!/\s/.test(vt[it-Kr.length-1])&&vt[it-Kr.length-1]!==void 0){U._closeAutocomplete();return}if(U.state.currentTrigger&&re[U.state.currentTrigger].allowWhitespace){if(_r=new RegExp("".concat(Ar(U.state.currentTrigger),".*$")).exec(vt.slice(0,it)),Kr=_r&&_r[0],!Kr){U._closeAutocomplete();return}ln=Object.keys(re).find(function(Gn){return Gn.slice(0,bn+1)===Kr.slice(0,bn+1)})||null}var $n=Kr.slice(1);if(!!ln){(te||Pe===null&&K===null||U.state.currentTrigger!==ln)&&he(),U.escListenerInit();var Sn=U._getTextToReplace(ln);U.setState({selectionEnd:it,currentTrigger:ln,textToReplace:Sn,actualToken:$n},function(){try{U._getValuesFromProvider()}catch(Gn){gr(Gn.message)}})}},U._selectHandler=function(St){var Et=U.props,re=Et.onCaretPositionChange,Vt=Et.onSelect;if(re){var Ht=U.getCaretPosition();re(Ht)}Vt&&(St.persist(),Vt(St))},U._shouldStayOpen=function(St){var Et=St.relatedTarget;return Et===null&&(Et=document.activeElement),!!(U.dropdownRef&&Et instanceof Node&&U.dropdownRef.contains(Et))},U._onClick=function(St){var Et=U.props.onClick;Et&&(St.persist(),Et(St)),!U._shouldStayOpen(St)&&U._closeAutocomplete()},U._onBlur=function(St){var Et=U.props.onBlur;Et&&(St.persist(),Et(St)),!U._shouldStayOpen(St)&&U._closeAutocomplete()},U._onScrollHandler=function(){U._closeAutocomplete()},U._onItemHighlightedHandler=function(St){var Et=U.props.onItemHighlighted,re=U.state.currentTrigger;if(Et)if(typeof Et=="function")Et({currentTrigger:re,item:St});else throw new Error("`onItemHighlighted` has to be a function")},U._dropdownScroll=function(St){var Et=U.props.scrollToItem;if(!!Et){if(Et===!0){cr(U.dropdownRef,St);return}if(typeof Et!="function"||Et.length!==2)throw new Error("`scrollToItem` has to be boolean (true for default implementation) or function with two parameters: container, item.");Et(U.dropdownRef,St)}},U._isAutocompleteOpen=function(){var St=U.state,Et=St.dataLoading,re=St.currentTrigger,Vt=U._getSuggestions();return!!((Et||Vt)&&re)},U._textareaRef=function(St){U.props.innerRef&&U.props.innerRef(St),U.textareaRef=St},U.lastTrigger=0,U.escListener=null;var tt=U.props,mt=tt.loadingComponent,pt=tt.trigger,Yt=tt.value;if(Yt&&(U.state.value=Yt),U._createRegExp(),!mt)throw new Error("RTA: loadingComponent is not defined");if(!pt)throw new Error("RTA: trigger is not defined");return U}return n(ct,[{key:"componentDidMount",value:function(){fe.startListen(this.textareaRef),this.textareaRef&&this.textareaRef.addEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.addEventListener("keydown",this._handleCaretChange)}},{key:"componentDidUpdate",value:function(U){var tt=U.trigger,mt=U.value,pt=this.props,Yt=pt.trigger,St=pt.value;Object.keys(Yt).join("")!==Object.keys(tt).join("")&&this._createRegExp(),mt!==St&&this.lastValueBubbledEvent!==St&&(this.lastTrigger=0,this._changeHandler())}},{key:"componentWillUnmount",value:function(){this.escListenerDestroy(),fe.stopListen(this.textareaRef),this.textareaRef&&this.textareaRef.removeEventListener("focus",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("click",this._handleCaretChange),this.textareaRef&&this.textareaRef.removeEventListener("keydown",this._handleCaretChange)}},{key:"render",value:function(){var U=this,tt=this.props,mt=tt.loadingComponent,pt=tt.style,Yt=tt.className,St=tt.listStyle,Et=tt.itemStyle,re=tt.boundariesElement,Vt=tt.movePopupAsYouType,Ht=tt.listClassName,Nt=tt.itemClassName,te=tt.dropdownClassName,oe=tt.dropdownStyle,Pe=tt.containerStyle,K=tt.containerClassName,F=tt.loaderStyle,D=tt.loaderClassName,it=tt.textAreaComponent,vt=tt.renderToBody,ee=this.state,he=ee.left,yr=ee.top,Er=ee.dataLoading,mr=ee.component,xr=ee.value,_r=ee.textToReplace,Kr=this._isAutocompleteOpen(),ln=this._getSuggestions(),bn={},Un;return it.component?(Un=it.component,bn[it.ref]=this._textareaRef):(Un=it,bn.ref=this._textareaRef),L.a.createElement("div",{className:"rta ".concat(Er===!0?"rta--loading":""," ").concat(K||""),style:Pe},L.a.createElement(Un,Object.assign({},this._cleanUpProps(),{className:"rta__textarea ".concat(Yt||""),onChange:this._changeHandler,onSelect:this._selectHandler,onScroll:this._onScrollHandler,onClick:this._onClick,onBlur:this._onBlur,value:xr,style:pt},bn)),Kr&&L.a.createElement(lt,{innerRef:function(Sn){U.dropdownRef=Sn},top:yr,left:he,style:oe,className:te,movePopupAsYouType:Vt,boundariesElement:re,textareaRef:this.textareaRef,renderToBody:vt},ln&&mr&&_r&&L.a.createElement(sr,{values:ln,component:mr,style:St,className:Ht,itemClassName:Nt,itemStyle:Et,getTextToReplace:_r,onItemHighlighted:this._onItemHighlightedHandler,onSelect:this._onSelect,dropdownScroll:this._dropdownScroll}),Er&&L.a.createElement("div",{className:"rta__loader ".concat(ln!==null?"rta__loader--suggestion-data":"rta__loader--empty-suggestion-data"," ").concat(D||""),style:F},L.a.createElement(mt,{data:ln}))))}}],[{key:"getDerivedStateFromProps",value:function(U){var tt=U.value;return tt==null?null:{value:tt}}}]),ct}(L.a.Component);me.defaultProps={movePopupAsYouType:!1,value:null,minChar:1,boundariesElement:"body",scrollToItem:!0,textAreaComponent:"textarea",renderToBody:!1},hr.a=me},QDO1:function(on,hr,Te){"use strict";Te.d(hr,"a",function(){return e}),Te.d(hr,"b",function(){return n});var ar=Te("q1tI"),C=Te.n(ar),Ut=Te("epSk"),nt=Te.n(Ut);function ve(){return ve=Object.assign||function(r){for(var i=1;i<arguments.length;i++){var u=arguments[i];for(var o in u)Object.prototype.hasOwnProperty.call(u,o)&&(r[o]=u[o])}return r},ve.apply(this,arguments)}var Ce="#000000",_t="rgba(255, 255, 255, 0.0)",L={radius:20,left:100,top:100,fill:_t,stroke:Ce},a={left:100,top:100,fill:_t,stroke:Ce,width:40,height:40,angle:0},f={points:[50,100,200,200],options:{left:170,top:150,stroke:Ce}},h={type:"text",left:100,top:100,fontSize:16,fontFamily:"Arial",fill:Ce},l=function(i,u,o,d,b,T){return{canvas:i,addCircle:function(){var Y=new Ut.fabric.Circle(ve({},L,{fill:u,stroke:o}));i.add(Y)},addRectangle:function(){var Y=new Ut.fabric.Rect(ve({},a,{fill:u,stroke:o}));i.add(Y)},addLine:function(){var Y=new Ut.fabric.Line(f.points,ve({},f.options,{stroke:o}));i.add(Y)},addText:function(Y){var et=new Ut.fabric.Textbox(Y,ve({},h,{fill:o}));et.set({text:Y}),i.add(et)},updateText:function(Y){var et=i.getActiveObjects();if(et.length&&et[0].type===h.type){var yt=et[0];yt.set({text:Y}),i.renderAll()}},deleteAll:function(){i.getObjects().forEach(function(Y){return i.remove(Y)}),i.discardActiveObject(),i.renderAll()},deleteSelected:function(){i.getActiveObjects().forEach(function(Y){return i.remove(Y)}),i.discardActiveObject(),i.renderAll()},fillColor:u,strokeColor:o,setFillColor:function(Y){d(Y),i.getActiveObjects().forEach(function(et){return et.set({fill:Y})}),i.renderAll()},setStrokeColor:function(Y){b(Y),i.getActiveObjects().forEach(function(et){if(et.type===h.type){et.set({fill:Y});return}et.set({stroke:Y})}),i.renderAll()},zoomIn:function(){var Y=i.getZoom();i.setZoom(Y/T)},zoomOut:function(){var Y=i.getZoom();i.setZoom(Y*T)}}},n=function(i){i===void 0&&(i={});var u=i.scaleStep||.5,o=i,d=o.defaultFillColor,b=o.defaultStrokeColor,T=Object(ar.useState)(null),O=T[0],Y=T[1],et=Object(ar.useState)(d||_t),yt=et[0],Zt=et[1],fe=Object(ar.useState)(b||Ce),Ue=fe[0],sr=fe[1],cr=Object(ar.useState)([]),Ke=cr[0],Ie=cr[1];return Object(ar.useEffect)(function(){var gr=function(Ar){Ar.on("selection:cleared",function(){Ie([])}),Ar.on("selection:created",function(lt){Ie(lt.selected)}),Ar.on("selection:updated",function(lt){Ie(lt.selected)})};O&&gr(O)},[O]),{selectedObjects:Ke,onReady:function(kr){console.log("Fabric canvas ready"),Y(kr)},editor:O?l(O,yt,Ue,Zt,sr,u):void 0}},e=function(i){var u=i.className,o=i.onReady,d=Object(ar.useRef)(null),b=Object(ar.useRef)(null);return Object(ar.useEffect)(function(){var T=new Ut.fabric.Canvas(d.current),O=function(){var yt,Zt;T.setHeight(((yt=b.current)===null||yt===void 0?void 0:yt.clientHeight)||0),T.setWidth(((Zt=b.current)===null||Zt===void 0?void 0:Zt.clientWidth)||0),T.renderAll()},Y=function(){O()};return O(),window.addEventListener("resize",Y,!1),o&&o(T),function(){T.dispose(),window.removeEventListener("resize",Y)}},[]),C.a.createElement("div",{ref:b,className:u},C.a.createElement("canvas",{ref:d}))}},Qurx:function(on,hr,Te){"use strict";var ar=Te("wx14"),C=Te("Ff2n"),Ut=Te("q1tI"),nt=Te.n(Ut),ve=Te("adzw"),Ce=["fieldProps","proFieldProps"],_t=["fieldProps","proFieldProps"],L="text",a=function(n){var e=n.fieldProps,r=n.proFieldProps,i=Object(C.a)(n,Ce);return nt.a.createElement(ve.a,Object(ar.a)({mode:"edit",valueType:L,fieldProps:e,filedConfig:{valueType:L},proFieldProps:r},i))},f=function(n){var e=n.fieldProps,r=n.proFieldProps,i=Object(C.a)(n,_t);return nt.a.createElement(ve.a,Object(ar.a)({mode:"edit",valueType:"password",fieldProps:e,proFieldProps:r,filedConfig:{valueType:L}},i))},h=a;h.Password=f,h.displayName="ProFormComponent",hr.a=h},S76h:function(on,hr,Te){},TLLU:function(on,hr,Te){"use strict";var ar=Te("5OYt");function C(){return Object(ar.a)()}hr.a={useBreakpoint:C}},VzZb:function(on,hr,Te){},ZEwP:function(on,hr,Te){"use strict";var ar=Te("C4q1"),C=Te.n(ar),Ut=Te("JhKR"),nt=Te.n(Ut),ve=Te("i680"),Ce=Te("hPry"),_t=Te.n(Ce),L=function(N){var x,j,V,ht,kt=[];for(x=N.split(","),V=0,ht=x.length;V<ht;V+=1)j=x[V],j.length>0&&kt.push(a(j));return kt},a=function(N){var x=N,j,V={a:0,b:0,c:0},ht=[],kt=/(\[[^\]]+\])/g,Mt=/(#[^\#\s\+>~\.\[:\)]+)/g,ae=/(\.[^\s\+>~\.\[:\)]+)/g,we=/(::[^\s\+>~\.\[:]+|:first-line|:first-letter|:before|:after)/gi,qt=/(:(?!not|global|local)[\w-]+\([^\)]*\))/gi,Le=/(:(?!not|global|local)[^\s\+>~\.\[:]+)/g,Rr=/([^\s\+>~\.\[:]+)/g;return j=function(q,G){var wt,It,Jt,xe,Ne,Re;if(q.test(x))for(wt=x.match(q),It=0,Jt=wt.length;It<Jt;It+=1)V[G]+=1,xe=wt[It],Ne=x.indexOf(xe),Re=xe.length,ht.push({selector:N.substr(Ne,Re),type:G,index:Ne,length:Re}),x=x.replace(xe,Array(Re+1).join(" "))},function(){var Pt=function(Jt){var xe,Ne,Re,Ee;if(Jt.test(x))for(xe=x.match(Jt),Ne=0,Re=xe.length;Ne<Re;Ne+=1)Ee=xe[Ne],x=x.replace(Ee,Array(Ee.length+1).join("A"))},q=/\\[0-9A-Fa-f]{6}\s?/g,G=/\\[0-9A-Fa-f]{1,5}\s/g,wt=/\\./g;Pt(q),Pt(G),Pt(wt)}(),function(){var Pt=/{[^]*/gm,q,G,wt,It;if(Pt.test(x))for(q=x.match(Pt),G=0,wt=q.length;G<wt;G+=1)It=q[G],x=x.replace(It,Array(It.length+1).join(" "))}(),j(kt,"b"),j(Mt,"a"),j(ae,"b"),j(we,"c"),j(qt,"b"),j(Le,"b"),x=x.replace(/[\*\s\+>~]/g," "),x=x.replace(/[#\.]/g," "),x=x.replace(/:not/g,"    "),x=x.replace(/:local/g,"      "),x=x.replace(/:global/g,"       "),x=x.replace(/[\(\)]/g," "),j(Rr,"c"),ht.sort(function(Pt,q){return Pt.index-q.index}),{selector:N,specificity:"0,"+V.a.toString()+","+V.b.toString()+","+V.c.toString(),specificityArray:[0,V.a,V.b,V.c],parts:ht}},f=function(N,x){var j,V,ht;if(typeof N=="string"){if(N.indexOf(",")!==-1)throw"Invalid CSS selector";j=a(N).specificityArray}else if(Array.isArray(N)){if(N.filter(function(kt){return typeof kt=="number"}).length!==4)throw"Invalid specificity array";j=N}else throw"Invalid CSS selector or specificity array";if(typeof x=="string"){if(x.indexOf(",")!==-1)throw"Invalid CSS selector";V=a(x).specificityArray}else if(Array.isArray(x)){if(x.filter(function(kt){return typeof kt=="number"}).length!==4)throw"Invalid specificity array";V=x}else throw"Invalid CSS selector or specificity array";for(ht=0;ht<4;ht+=1){if(j[ht]<V[ht])return-1;if(j[ht]>V[ht])return 1}return 0};/*! *****************************************************************************
Copyright (c) Microsoft Corporation.

Permission to use, copy, modify, and/or distribute this software for any
purpose with or without fee is hereby granted.

THE SOFTWARE IS PROVIDED "AS IS" AND THE AUTHOR DISCLAIMS ALL WARRANTIES WITH
REGARD TO THIS SOFTWARE INCLUDING ALL IMPLIED WARRANTIES OF MERCHANTABILITY
AND FITNESS. IN NO EVENT SHALL THE AUTHOR BE LIABLE FOR ANY SPECIAL, DIRECT,
INDIRECT, OR CONSEQUENTIAL DAMAGES OR ANY DAMAGES WHATSOEVER RESULTING FROM
LOSS OF USE, DATA OR PROFITS, WHETHER IN AN ACTION OF CONTRACT, NEGLIGENCE OR
OTHER TORTIOUS ACTION, ARISING OUT OF OR IN CONNECTION WITH THE USE OR
PERFORMANCE OF THIS SOFTWARE.
***************************************************************************** */var h=function(N,x){return(h=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(j,V){j.__proto__=V}||function(j,V){for(var ht in V)V.hasOwnProperty(ht)&&(j[ht]=V[ht])})(N,x)};function l(W,N){function x(){this.constructor=W}h(W,N),W.prototype=N===null?Object.create(N):(x.prototype=N.prototype,new x)}var n=function(){return(n=Object.assign||function(N){for(var x,j=1,V=arguments.length;j<V;j++)for(var ht in x=arguments[j])Object.prototype.hasOwnProperty.call(x,ht)&&(N[ht]=x[ht]);return N}).apply(this,arguments)};function e(W,N,x,j){return new(x||(x=Promise))(function(V,ht){function kt(we){try{ae(j.next(we))}catch(qt){ht(qt)}}function Mt(we){try{ae(j.throw(we))}catch(qt){ht(qt)}}function ae(we){var qt;we.done?V(we.value):(qt=we.value,qt instanceof x?qt:new x(function(Le){Le(qt)})).then(kt,Mt)}ae((j=j.apply(W,N||[])).next())})}function r(W,N){var x,j,V,ht,kt={label:0,sent:function(){if(1&V[0])throw V[1];return V[1]},trys:[],ops:[]};return ht={next:Mt(0),throw:Mt(1),return:Mt(2)},typeof Symbol=="function"&&(ht[Symbol.iterator]=function(){return this}),ht;function Mt(ae){return function(we){return function(qt){if(x)throw new TypeError("Generator is already executing.");for(;kt;)try{if(x=1,j&&(V=2&qt[0]?j.return:qt[0]?j.throw||((V=j.return)&&V.call(j),0):j.next)&&!(V=V.call(j,qt[1])).done)return V;switch(j=0,V&&(qt=[2&qt[0],V.value]),qt[0]){case 0:case 1:V=qt;break;case 4:return kt.label++,{value:qt[1],done:!1};case 5:kt.label++,j=qt[1],qt=[0];continue;case 7:qt=kt.ops.pop(),kt.trys.pop();continue;default:if(V=kt.trys,!((V=V.length>0&&V[V.length-1])||qt[0]!==6&&qt[0]!==2)){kt=0;continue}if(qt[0]===3&&(!V||qt[1]>V[0]&&qt[1]<V[3])){kt.label=qt[1];break}if(qt[0]===6&&kt.label<V[1]){kt.label=V[1],V=qt;break}if(V&&kt.label<V[2]){kt.label=V[2],kt.ops.push(qt);break}V[2]&&kt.ops.pop(),kt.trys.pop();continue}qt=N.call(W,kt)}catch(Le){qt=[6,Le],j=0}finally{x=V=0}if(5&qt[0])throw qt[1];return{value:qt[0]?qt[1]:void 0,done:!0}}([ae,we])}}}var i=function(){function W(N){if(this.a=void 0,this.r=0,this.g=0,this.b=0,this.simpleColors={},this.colorDefs=[],this.ok=!1,N){for(var x in N.charAt(0)=="#"&&(N=N.substr(1,6)),N=(N=N.replace(/ /g,"")).toLowerCase(),this.simpleColors={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgrey:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",grey:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightslategrey:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"},this.simpleColors)N==x&&(N=this.simpleColors[x]);this.colorDefs=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(we){return[parseInt(we[1]),parseInt(we[2]),parseInt(we[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(we){return[parseInt(we[1],16),parseInt(we[2],16),parseInt(we[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(we){return[parseInt(we[1]+we[1],16),parseInt(we[2]+we[2],16),parseInt(we[3]+we[3],16)]}}];for(var j=0;j<this.colorDefs.length;j++){var V=this.colorDefs[j].re,ht=this.colorDefs[j].process,kt=V.exec(N);if(kt){var Mt=ht(kt);this.r=Mt[0],this.g=Mt[1],this.b=Mt[2],this.ok=!0}}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b}}return W.prototype.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},W.prototype.toRGBA=function(){return"rgba("+this.r+", "+this.g+", "+this.b+", "+(this.a||"1")+")"},W.prototype.toHex=function(){var N=this.r.toString(16),x=this.g.toString(16),j=this.b.toString(16);return N.length==1&&(N="0"+N),x.length==1&&(x="0"+x),j.length==1&&(j="0"+j),"#"+N+x+j},W.prototype.getHelpXML=function(){for(var N=[],x=0;x<this.colorDefs.length;x++)for(var j=this.colorDefs[x].example,V=0;V<j.length;V++)N[N.length]=j[V];for(var ht in this.simpleColors)N[N.length]=ht;var kt=document.createElement("ul");for(kt.setAttribute("id","rgbcolor-examples"),x=0;x<N.length;x++)try{var Mt=document.createElement("li"),ae=new W(N[x]),we=document.createElement("div");we.style.cssText="margin: 3px; border: 1px solid black; background:"+ae.toHex()+"; color:"+ae.toHex(),we.appendChild(document.createTextNode("test"));var qt=document.createTextNode(" "+N[x]+" -> "+ae.toRGB()+" -> "+ae.toHex());Mt.appendChild(we),Mt.appendChild(qt),kt.appendChild(Mt)}catch(Le){}return kt},W}(),u=function(){function W(N){this.color=N}return W.prototype.getFillData=function(N,x){return e(this,void 0,void 0,function(){return r(this,function(j){return[2,void 0]})})},W}(),o=function(){function W(){this.xmlSpace="",this.fill=null,this.fillOpacity=1,this.fontFamily="",this.fontSize=16,this.fontStyle="",this.fontWeight="",this.opacity=1,this.stroke=null,this.strokeDasharray=null,this.strokeDashoffset=0,this.strokeLinecap="",this.strokeLinejoin="",this.strokeMiterlimit=4,this.strokeOpacity=1,this.strokeWidth=1,this.alignmentBaseline="",this.textAnchor="",this.visibility="",this.color=null}return W.prototype.clone=function(){var N=new W;return N.xmlSpace=this.xmlSpace,N.fill=this.fill,N.fillOpacity=this.fillOpacity,N.fontFamily=this.fontFamily,N.fontSize=this.fontSize,N.fontStyle=this.fontStyle,N.fontWeight=this.fontWeight,N.opacity=this.opacity,N.stroke=this.stroke,N.strokeDasharray=this.strokeDasharray,N.strokeDashoffset=this.strokeDashoffset,N.strokeLinecap=this.strokeLinecap,N.strokeLinejoin=this.strokeLinejoin,N.strokeMiterlimit=this.strokeMiterlimit,N.strokeOpacity=this.strokeOpacity,N.strokeWidth=this.strokeWidth,N.textAnchor=this.textAnchor,N.alignmentBaseline=this.alignmentBaseline,N.visibility=this.visibility,N.color=this.color,N},W.default=function(){var N=new W;return N.xmlSpace="default",N.fill=new u(new i("rgb(0, 0, 0)")),N.fillOpacity=1,N.fontFamily="times",N.fontSize=16,N.fontStyle="normal",N.fontWeight="normal",N.opacity=1,N.stroke=null,N.strokeDasharray=null,N.strokeDashoffset=0,N.strokeLinecap="butt",N.strokeLinejoin="miter",N.strokeMiterlimit=4,N.strokeOpacity=1,N.strokeWidth=1,N.alignmentBaseline="baseline",N.textAnchor="start",N.visibility="visible",N.color=new i("rgb(0, 0, 0)"),N},W}(),d=/url\(["']?#([^"']+)["']?\)/,b={bottom:"bottom","text-bottom":"bottom",top:"top","text-top":"top",hanging:"hanging",middle:"middle",central:"middle",center:"middle",mathematical:"middle",ideographic:"ideographic",alphabetic:"alphabetic",baseline:"alphabetic"},T=function(){function W(){this.measureMethods={}}return W.prototype.getTextOffset=function(N,x){var j=x.textAnchor;if(j==="start")return 0;var V=this.measureTextWidth(N,x),ht=0;switch(j){case"end":ht=V;break;case"middle":ht=V/2}return ht},W.prototype.measureTextWidth=function(N,x){if(N.length===0)return 0;var j=x.fontFamily;return this.getMeasureFunction(j).call(this,N,x.fontFamily,x.fontSize+"px",x.fontStyle,x.fontWeight)},W.prototype.getMeasurementTextNode=function(){if(!this.textMeasuringTextElement){this.textMeasuringTextElement=document.createElementNS("http://www.w3.org/2000/svg","text");var N=document.createElementNS("http://www.w3.org/2000/svg","svg");N.appendChild(this.textMeasuringTextElement),N.style.setProperty("position","absolute"),N.style.setProperty("visibility","hidden"),document.body.appendChild(N)}return this.textMeasuringTextElement},W.prototype.canvasTextMeasure=function(N,x,j,V,ht){var kt=document.createElement("canvas").getContext("2d");return kt!=null?(kt.font=[V,ht,j,x].join(" "),kt.measureText(N).width):0},W.prototype.svgTextMeasure=function(N,x,j,V,ht,kt){kt===void 0&&(kt=this.getMeasurementTextNode());var Mt=kt;return Mt.setAttribute("font-family",x),Mt.setAttribute("font-size",j),Mt.setAttribute("font-style",V),Mt.setAttribute("font-weight",ht),Mt.setAttributeNS("http://www.w3.org/XML/1998/namespace","xml:space","preserve"),Mt.textContent=N,Mt.getBBox().width},W.prototype.getMeasureFunction=function(N){var x=this.measureMethods[N];if(!x){var j=this.canvasTextMeasure(W.testString,N,"16px","normal","normal"),V=this.svgTextMeasure(W.testString,N,"16px","normal","normal");x=Math.abs(j-V)<W.epsilon?this.canvasTextMeasure:this.svgTextMeasure,this.measureMethods[N]=x}return x},W.prototype.cleanupTextMeasuring=function(){if(this.textMeasuringTextElement){var N=this.textMeasuringTextElement.parentNode;N&&document.body.removeChild(N),this.textMeasuringTextElement=void 0}},W.testString=`abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ 0123456789!"$%&/()=?'\\+*-_.:,;^}][{#~|<>`,W.epsilon=.1,W}(),O=function(){function W(N,x){var j,V,ht,kt,Mt,ae;this.pdf=N,this.svg2pdfParameters=x.svg2pdfParameters,this.attributeState=x.attributeState?x.attributeState.clone():o.default(),this.viewport=x.viewport,this.refsHandler=(j=x.refsHandler)!==null&&j!==void 0?j:null,this.styleSheets=(V=x.styleSheets)!==null&&V!==void 0?V:null,this.textMeasure=(ht=x.textMeasure)!==null&&ht!==void 0?ht:new T,this.transform=(kt=x.transform)!==null&&kt!==void 0?kt:this.pdf.unitMatrix,this.withinClipPath=(Mt=x.withinClipPath)!==null&&Mt!==void 0&&Mt,this.withinUse=(ae=x.withinUse)!==null&&ae!==void 0&&ae}return W.prototype.clone=function(N){var x,j,V,ht,kt,Mt,ae,we;return N===void 0&&(N={}),new W(this.pdf,{svg2pdfParameters:(x=N.svg2pdfParameters)!==null&&x!==void 0?x:this.svg2pdfParameters,attributeState:N.attributeState?N.attributeState.clone():this.attributeState.clone(),viewport:(j=N.viewport)!==null&&j!==void 0?j:this.viewport,refsHandler:(V=N.refsHandler)!==null&&V!==void 0?V:this.refsHandler,styleSheets:(ht=N.styleSheets)!==null&&ht!==void 0?ht:this.styleSheets,textMeasure:(kt=N.textMeasure)!==null&&kt!==void 0?kt:this.textMeasure,transform:(Mt=N.transform)!==null&&Mt!==void 0?Mt:this.transform,withinClipPath:(ae=N.withinClipPath)!==null&&ae!==void 0?ae:this.withinClipPath,withinUse:(we=N.withinUse)!==null&&we!==void 0?we:this.withinUse})},W}(),Y=function(){function W(N){this.renderedElements={},this.idMap=N,this.idPrefix=String(W.instanceCounter++)}return W.prototype.getRendered=function(N,x,j){return e(this,void 0,void 0,function(){var V,ht;return r(this,function(kt){switch(kt.label){case 0:return V=this.generateKey(N,x),this.renderedElements.hasOwnProperty(V)?[2,this.renderedElements[N]]:(ht=this.get(N),this.renderedElements[V]=ht,[4,j(ht)]);case 1:return kt.sent(),[2,ht]}})})},W.prototype.get=function(N){return this.idMap[C()(N,{isIdentifier:!0})]},W.prototype.generateKey=function(N,x){return this.idPrefix+"|"+N+"|"+(x||new i("rgb(0,0,0)")).toRGBA()},W.instanceCounter=0,W}();function et(W,N){return Math.atan2(N[1]-W[1],N[0]-W[0])}function yt(W,N){return[2/3*(N[0]-W[0])+W[0],2/3*(N[1]-W[1])+W[1]]}function Zt(W){var N=Math.sqrt(W[0]*W[0]+W[1]*W[1]);return[W[0]/N,W[1]/N]}function fe(W,N){return Zt([N[0]-W[0],N[1]-W[1]])}function Ue(W,N){return[W[0]+N[0],W[1]+N[1]]}function sr(W,N){var x=W[0],j=W[1];return[N.a*x+N.c*j+N.e,N.b*x+N.d*j+N.f]}var cr=function(){function W(){this.segments=[]}return W.prototype.moveTo=function(N,x){return this.segments.push(new Ke(N,x)),this},W.prototype.lineTo=function(N,x){return this.segments.push(new Ie(N,x)),this},W.prototype.curveTo=function(N,x,j,V,ht,kt){return this.segments.push(new gr(N,x,j,V,ht,kt)),this},W.prototype.close=function(){return this.segments.push(new kr),this},W.prototype.transform=function(N){this.segments.forEach(function(x){if(x instanceof Ke||x instanceof Ie||x instanceof gr){var j=sr([x.x,x.y],N);x.x=j[0],x.y=j[1]}if(x instanceof gr){var V=sr([x.x1,x.y1],N),ht=sr([x.x2,x.y2],N);x.x1=V[0],x.y1=V[1],x.x2=ht[0],x.y2=ht[1]}})},W.prototype.draw=function(N){var x=N.pdf;this.segments.forEach(function(j){j instanceof Ke?x.moveTo(j.x,j.y):j instanceof Ie?x.lineTo(j.x,j.y):j instanceof gr?x.curveTo(j.x1,j.y1,j.x2,j.y2,j.x,j.y):x.close()})},W}(),Ke=function(N,x){this.x=N,this.y=x},Ie=function(N,x){this.x=N,this.y=x},gr=function(N,x,j,V,ht,kt){this.x1=N,this.y1=x,this.x2=j,this.y2=V,this.x=ht,this.y=kt},kr=function(){};function Ar(W,N){return N.split(",").indexOf((W.nodeName||W.tagName).toLowerCase())>=0}function lt(W,N,x,j){j===void 0&&(j=x);var V=W.style.getPropertyValue(j);if(V)return V;var ht=N.getPropertyValue(W,j);return ht||W.hasAttribute(x)&&W.getAttribute(x)||void 0}function me(W,N,x){if(lt(W.element,x.styleSheets,"display")==="none")return!1;var j=N,V=lt(W.element,x.styleSheets,"visibility");return V&&(j=V!=="hidden"),j}function Z(W,N,x){var j=me(W,N,x);return W.element.childNodes.length!==0&&(W.children.forEach(function(V){V.isVisible(j,x)&&(j=!0)}),j)}var ct=function(){function W(){this.markers=[]}return W.prototype.addMarker=function(N){this.markers.push(N)},W.prototype.draw=function(N){return e(this,void 0,void 0,function(){var x,j,V,ht,kt,Mt,ae;return r(this,function(we){switch(we.label){case 0:x=0,we.label=1;case 1:return x<this.markers.length?(j=this.markers[x],V=void 0,ht=j.angle,kt=j.anchor,Mt=Math.cos(ht),ae=Math.sin(ht),V=N.pdf.Matrix(Mt,ae,-ae,Mt,kt[0],kt[1]),V=N.pdf.matrixMult(N.pdf.Matrix(N.attributeState.strokeWidth,0,0,N.attributeState.strokeWidth,0,0),V),V=N.pdf.matrixMult(V,N.transform),N.pdf.saveGraphicsState(),[4,N.refsHandler.getRendered(j.id,null,function(qt){return qt.apply(N)})]):[3,4];case 2:we.sent(),N.pdf.doFormObject(j.id,V),N.pdf.restoreGraphicsState(),we.label=3;case 3:return x++,[3,1];case 4:return[2]}})})},W}(),Ot=function(N,x,j){this.id=N,this.anchor=x,this.angle=j};function U(W,N){var x;return(x=W&&W.toString().match(/^([\-0-9.]+)em$/))?parseFloat(x[1])*N:(x=W&&W.toString().match(/^([\-0-9.]+)(px|)$/))?parseFloat(x[1]):0}function tt(W){return b[W]||"alphabetic"}function mt(W){for(var N,x=[],j=/[+-]?(?:(?:\d+\.?\d*)|(?:\d*\.?\d+))(?:[eE][+-]?\d+)?/g;N=j.exec(W);)x.push(parseFloat(N[0]));return x}function pt(W,N){if(W==="transparent"){var x=new i("rgb(0,0,0)");return x.a=0,x}if(W.toLowerCase()==="currentcolor")return N||new i("rgb(0,0,0)");var j=/\s*rgba\(((?:[^,\)]*,){3}[^,\)]*)\)\s*/.exec(W);if(j){var V=mt(j[1]),ht=new i("rgb("+V.slice(0,3).join(",")+")");return ht.a=V[3],ht}return new i(W)}var Yt={"sans-serif":"helvetica",verdana:"helvetica",arial:"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",serif:"times",cursive:"times",fantasy:"times"},St,Et=(St=ve.d.version.split("."),parseFloat(St[0])===2&&parseFloat(St[1])===3);function re(W,N){return Et?N==400?W=="italic"?"italic":"normal":N==700&&W!=="italic"?"bold":W+""+N:N==400||N==="normal"?W==="italic"?"italic":"normal":N!=700&&N!=="bold"||W!=="normal"?(N==700?"bold":N)+""+W:"bold"}function Vt(W,N){if(lt(N.element,W.styleSheets,"display")==="none")return[0,0,0,0];var x=[0,0,0,0];return N.children.forEach(function(j){var V=j.getBoundingBox(W);x=[Math.min(x[0],V[0]),Math.min(x[1],V[1]),Math.max(x[0]+x[2],V[0]+V[2])-Math.min(x[0],V[0]),Math.max(x[1]+x[3],V[1]+V[3])-Math.min(x[1],V[1])]}),x}function Ht(W,N){var x=parseFloat,j=x(W.getAttribute("x1"))||x(lt(W,N.styleSheets,"x"))||x(lt(W,N.styleSheets,"cx"))-x(lt(W,N.styleSheets,"r"))||0,V=x(W.getAttribute("x2"))||j+x(lt(W,N.styleSheets,"width"))||x(lt(W,N.styleSheets,"cx"))+x(lt(W,N.styleSheets,"r"))||0,ht=x(W.getAttribute("y1"))||x(lt(W,N.styleSheets,"y"))||x(lt(W,N.styleSheets,"cy"))-x(lt(W,N.styleSheets,"r"))||0,kt=x(W.getAttribute("y2"))||ht+x(lt(W,N.styleSheets,"height"))||x(lt(W,N.styleSheets,"cy"))+x(lt(W,N.styleSheets,"r"))||0;return[Math.min(j,V),Math.min(ht,kt),Math.max(j,V)-Math.min(j,V),Math.max(ht,kt)-Math.min(ht,kt)]}function Nt(W,N,x,j,V,ht,kt,Mt){Mt===void 0&&(Mt=!1);var ae,we,qt=N[0],Le=N[1],Rr=N[2],Pt=N[3],q=V/Rr,G=ht/Pt,wt=W.getAttribute("preserveAspectRatio");if(wt){var It=wt.split(" ");It[0]==="defer"&&(It=It.slice(1)),ae=It[0],we=It[1]||"meet"}else ae="xMidYMid",we="meet";if(ae!=="none"&&(we==="meet"?q=G=Math.min(q,G):we==="slice"&&(q=G=Math.max(q,G))),Mt)return kt.pdf.Matrix(q,0,0,G,0,0);var Jt=x-qt*q,xe=j-Le*G;ae.indexOf("xMid")>=0?Jt+=(V-Rr*q)/2:ae.indexOf("xMax")>=0&&(Jt+=V-Rr*q),ae.indexOf("YMid")>=0?xe+=(ht-Pt*G)/2:ae.indexOf("YMax")>=0&&(xe+=ht-Pt*G);var Ne=kt.pdf.Matrix(1,0,0,1,Jt,xe),Re=kt.pdf.Matrix(q,0,0,G,0,0);return kt.pdf.matrixMult(Re,Ne)}function te(W,N){if(!W||W==="none")return N.pdf.unitMatrix;for(var x,j,V=/^[\s,]*matrix\(([^)]+)\)\s*/,ht=/^[\s,]*translate\(([^)]+)\)\s*/,kt=/^[\s,]*rotate\(([^)]+)\)\s*/,Mt=/^[\s,]*scale\(([^)]+)\)\s*/,ae=/^[\s,]*skewX\(([^)]+)\)\s*/,we=/^[\s,]*skewY\(([^)]+)\)\s*/,qt=N.pdf.unitMatrix;W.length>0&&W.length!==j;){j=W.length;var Le=V.exec(W);if(Le&&(x=mt(Le[1]),qt=N.pdf.matrixMult(N.pdf.Matrix(x[0],x[1],x[2],x[3],x[4],x[5]),qt),W=W.substr(Le[0].length)),Le=kt.exec(W)){x=mt(Le[1]);var Rr=Math.PI*x[0]/180;if(qt=N.pdf.matrixMult(N.pdf.Matrix(Math.cos(Rr),Math.sin(Rr),-Math.sin(Rr),Math.cos(Rr),0,0),qt),x[1]||x[2]){var Pt=N.pdf.Matrix(1,0,0,1,x[1],x[2]),q=N.pdf.Matrix(1,0,0,1,-x[1],-x[2]);qt=N.pdf.matrixMult(q,N.pdf.matrixMult(qt,Pt))}W=W.substr(Le[0].length)}(Le=ht.exec(W))&&(x=mt(Le[1]),qt=N.pdf.matrixMult(N.pdf.Matrix(1,0,0,1,x[0],x[1]||0),qt),W=W.substr(Le[0].length)),(Le=Mt.exec(W))&&((x=mt(Le[1]))[1]||(x[1]=x[0]),qt=N.pdf.matrixMult(N.pdf.Matrix(x[0],0,0,x[1],0,0),qt),W=W.substr(Le[0].length)),(Le=ae.exec(W))&&(x=parseFloat(Le[1]),x*=Math.PI/180,qt=N.pdf.matrixMult(N.pdf.Matrix(1,0,Math.tan(x),1,0,0),qt),W=W.substr(Le[0].length)),(Le=we.exec(W))&&(x=parseFloat(Le[1]),x*=Math.PI/180,qt=N.pdf.matrixMult(N.pdf.Matrix(1,Math.tan(x),0,1,0,0),qt),W=W.substr(Le[0].length))}return qt}var oe=function(){function W(N,x){this.element=N,this.children=x,this.parent=null}return W.prototype.setParent=function(N){this.parent=N},W.prototype.getParent=function(){return this.parent},W.prototype.getBoundingBox=function(N){return lt(this.element,N.styleSheets,"display")==="none"?[0,0,0,0]:this.getBoundingBoxCore(N)},W.prototype.computeNodeTransform=function(N){var x=this.computeNodeTransformCore(N),j=lt(this.element,N.styleSheets,"transform");return j?N.pdf.matrixMult(x,te(j,N)):x},W}(),Pe=function(W){function N(){return W!==null&&W.apply(this,arguments)||this}return l(N,W),N.prototype.render=function(x){return Promise.resolve()},N.prototype.getBoundingBoxCore=function(x){return[]},N.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},N}(oe),K=function(W){function N(x,j,V){var ht=W.call(this,j,V)||this;return ht.pdfGradientType=x,ht.contextColor=void 0,ht}return l(N,W),N.prototype.apply=function(x){return e(this,void 0,void 0,function(){var j,V,ht,kt,Mt,ae;return r(this,function(we){return(j=this.element.getAttribute("id"))?(V=this.getStops(x.styleSheets),ht=0,kt=!1,V.forEach(function(qt){var Le=qt.opacity;Le&&Le!==1&&(ht+=Le,kt=!0)}),kt&&(Mt=new ve.a({opacity:ht/V.length})),ae=new ve.b(this.pdfGradientType,this.getCoordinates(),V,Mt),x.pdf.addShadingPattern(j,ae),[2]):[2]})})},N.prototype.getStops=function(x){var j=this;if(this.stops)return this.stops;if(this.contextColor===void 0){this.contextColor=null;for(var V=this;V;){var ht=lt(V.element,x,"color");if(ht){this.contextColor=pt(ht,null);break}V=V.getParent()}}var kt=[];return this.children.forEach(function(Mt){if(Mt.element.tagName.toLowerCase()==="stop"){var ae=lt(Mt.element,x,"color"),we=pt(lt(Mt.element,x,"stop-color")||"",ae?pt(ae,null):j.contextColor),qt=parseFloat(lt(Mt.element,x,"stop-opacity")||"1");kt.push({offset:N.parseGradientOffset(Mt.element.getAttribute("offset")||"0"),color:[we.r,we.g,we.b],opacity:qt})}}),this.stops=kt},N.prototype.getBoundingBoxCore=function(x){return Ht(this.element,x)},N.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},N.prototype.isVisible=function(x,j){return Z(this,x,j)},N.parseGradientOffset=function(x){var j=parseFloat(x);return!isNaN(j)&&x.indexOf("%")>=0?j/100:j},N}(Pe),F=function(W){function N(x,j){return W.call(this,"axial",x,j)||this}return l(N,W),N.prototype.getCoordinates=function(){return[parseFloat(this.element.getAttribute("x1")||"0"),parseFloat(this.element.getAttribute("y1")||"0"),parseFloat(this.element.getAttribute("x2")||"1"),parseFloat(this.element.getAttribute("y2")||"0")]},N}(K),D=function(W){function N(x,j){return W.call(this,"radial",x,j)||this}return l(N,W),N.prototype.getCoordinates=function(){var x=this.element.getAttribute("cx"),j=this.element.getAttribute("cy"),V=this.element.getAttribute("fx"),ht=this.element.getAttribute("fy");return[parseFloat(V||x||"0.5"),parseFloat(ht||j||"0.5"),0,parseFloat(x||"0.5"),parseFloat(j||"0.5"),parseFloat(this.element.getAttribute("r")||"0.5")]},N}(K),it=function(){function W(N,x){this.key=N,this.gradient=x}return W.prototype.getFillData=function(N,x){return e(this,void 0,void 0,function(){var j,V,ht;return r(this,function(kt){switch(kt.label){case 0:return[4,x.refsHandler.getRendered(this.key,null,function(Mt){return Mt.apply(new O(x.pdf,{refsHandler:x.refsHandler,textMeasure:x.textMeasure,styleSheets:x.styleSheets,viewport:x.viewport,svg2pdfParameters:x.svg2pdfParameters}))})];case 1:return kt.sent(),this.gradient.element.hasAttribute("gradientUnits")&&this.gradient.element.getAttribute("gradientUnits").toLowerCase()!=="objectboundingbox"?j=x.pdf.unitMatrix:(V=N.getBoundingBox(x),j=x.pdf.Matrix(V[2],0,0,V[3],V[0],V[1])),ht=te(lt(this.gradient.element,x.styleSheets,"gradientTransform","transform"),x),[2,{key:this.key,matrix:x.pdf.matrixMult(ht,j)}]}})})},W}(),vt=function(W){function N(){return W!==null&&W.apply(this,arguments)||this}return l(N,W),N.prototype.apply=function(x){return e(this,void 0,void 0,function(){var j,V,ht,kt,Mt;return r(this,function(ae){switch(ae.label){case 0:if(!(j=this.element.getAttribute("id")))return[2];V=this.getBoundingBox(x),ht=new ve.c([V[0],V[1],V[0]+V[2],V[1]+V[3]],V[2],V[3]),x.pdf.beginTilingPattern(ht),kt=0,Mt=this.children,ae.label=1;case 1:return kt<Mt.length?[4,Mt[kt].render(new O(x.pdf,{attributeState:x.attributeState,refsHandler:x.refsHandler,styleSheets:x.styleSheets,viewport:x.viewport,svg2pdfParameters:x.svg2pdfParameters}))]:[3,4];case 2:ae.sent(),ae.label=3;case 3:return kt++,[3,1];case 4:return x.pdf.endTilingPattern(j,ht),[2]}})})},N.prototype.getBoundingBoxCore=function(x){return Ht(this.element,x)},N.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},N.prototype.isVisible=function(x,j){return Z(this,x,j)},N}(Pe),ee=function(){function W(N,x){this.key=N,this.pattern=x}return W.prototype.getFillData=function(N,x){return e(this,void 0,void 0,function(){var j,V,ht,kt,Mt,ae,we,qt,Le,Rr,Pt,q;return r(this,function(G){switch(G.label){case 0:return[4,x.refsHandler.getRendered(this.key,null,function(wt){return wt.apply(new O(x.pdf,{refsHandler:x.refsHandler,textMeasure:x.textMeasure,styleSheets:x.styleSheets,viewport:x.viewport,svg2pdfParameters:x.svg2pdfParameters}))})];case 1:return G.sent(),j={key:this.key,boundingBox:void 0,xStep:0,yStep:0,matrix:void 0},ht=x.pdf.unitMatrix,this.pattern.element.hasAttribute("patternUnits")&&this.pattern.element.getAttribute("patternUnits").toLowerCase()!=="objectboundingbox"||(V=N.getBoundingBox(x),ht=x.pdf.Matrix(1,0,0,1,V[0],V[1]),Mt=this.pattern.getBoundingBox(x),ae=Mt[0]*V[0]||0,we=Mt[1]*V[1]||0,qt=Mt[2]*V[2]||0,Le=Mt[3]*V[3]||0,j.boundingBox=[ae,we,ae+qt,we+Le],j.xStep=qt,j.yStep=Le),kt=x.pdf.unitMatrix,this.pattern.element.hasAttribute("patternContentUnits")&&this.pattern.element.getAttribute("patternContentUnits").toLowerCase()==="objectboundingbox"&&(V||(V=N.getBoundingBox(x)),kt=x.pdf.Matrix(V[2],0,0,V[3],0,0),Mt=j.boundingBox||this.pattern.getBoundingBox(x),ae=Mt[0]/V[0]||0,we=Mt[1]/V[1]||0,qt=Mt[2]/V[2]||0,Le=Mt[3]/V[3]||0,j.boundingBox=[ae,we,ae+qt,we+Le],j.xStep=qt,j.yStep=Le),Rr=x.pdf.unitMatrix,(Pt=lt(this.pattern.element,x.styleSheets,"patternTransform","transform"))&&(Rr=te(Pt,x)),q=kt,q=x.pdf.matrixMult(q,ht),q=x.pdf.matrixMult(q,Rr),q=x.pdf.matrixMult(q,x.transform),j.matrix=q,[2,j]}})})},W}();function he(W,N){var x=d.exec(W);if(x){var j=x[1],V=N.refsHandler.get(j);return V&&(V instanceof F||V instanceof D)?function(kt,Mt,ae){var we=Mt.getStops(ae.styleSheets);if(we.length===0)return null;if(we.length===1){var qt=we[0].color,Le=new i;return Le.ok=!0,Le.r=qt[0],Le.g=qt[1],Le.b=qt[2],Le.a=we[0].opacity,new u(Le)}return new it(kt,Mt)}(j,V,N):V&&V instanceof vt?new ee(j,V):new u(new i("rgb(0, 0, 0)"))}var ht=pt(W,N.attributeState.color);return ht.ok?new u(ht):null}function yr(W,N,x){var j=x||N.element,V=lt(j,W.styleSheets,"color");if(V){var ht=pt(V,W.attributeState.color);ht.ok?W.attributeState.color=ht:W.attributeState.color=new i("rgb(0,0,0)")}var kt=lt(j,W.styleSheets,"visibility");kt&&(W.attributeState.visibility=kt);var Mt=lt(j,W.styleSheets,"fill");Mt&&(W.attributeState.fill=he(Mt,W));var ae=lt(j,W.styleSheets,"fill-opacity");ae&&(W.attributeState.fillOpacity=parseFloat(ae));var we=lt(j,W.styleSheets,"stroke-opacity");we&&(W.attributeState.strokeOpacity=parseFloat(we));var qt=lt(j,W.styleSheets,"opacity");qt&&(W.attributeState.opacity=parseFloat(qt));var Le=lt(j,W.styleSheets,"stroke-width");Le!==void 0&&Le!==""&&(W.attributeState.strokeWidth=Math.abs(parseFloat(Le)));var Rr=lt(j,W.styleSheets,"stroke");if(Rr)if(Rr==="none")W.attributeState.stroke=null;else{var Pt=pt(Rr,W.attributeState.color);Pt.ok&&(W.attributeState.stroke=new u(Pt))}var q=lt(j,W.styleSheets,"stroke-linecap");q&&(W.attributeState.strokeLinecap=q);var G=lt(j,W.styleSheets,"stroke-linejoin");G&&(W.attributeState.strokeLinejoin=G);var wt=lt(j,W.styleSheets,"stroke-dasharray");if(wt){var It=parseInt(lt(j,W.styleSheets,"stroke-dashoffset")||"0");W.attributeState.strokeDasharray=mt(wt),W.attributeState.strokeDashoffset=It}var Jt=lt(j,W.styleSheets,"stroke-miterlimit");Jt!==void 0&&Jt!==""&&(W.attributeState.strokeMiterlimit=parseFloat(Jt));var xe=j.getAttribute("xml:space");xe&&(W.attributeState.xmlSpace=xe);var Ne=lt(j,W.styleSheets,"font-weight");Ne&&(W.attributeState.fontWeight=Ne);var Re=lt(j,W.styleSheets,"font-style");Re&&(W.attributeState.fontStyle=Re);var Ee=lt(j,W.styleSheets,"font-family");if(Ee){var fr=nt.a.parse(Ee);W.attributeState.fontFamily=function(Qr,vn,Yn){var kn=re(Qr.fontStyle,Qr.fontWeight),A=Yn.pdf.getFontList(),p="";return vn.some(function(v){var y=A[v];return y&&y.indexOf(kn)>=0?(p=v,!0):(v=v.toLowerCase(),!!Yt.hasOwnProperty(v)&&(p=v,!0))})||(p="times"),p}(W.attributeState,fr,W)}var er=lt(j,W.styleSheets,"font-size");if(er){var Jr=W.pdf.getFontSize();W.attributeState.fontSize=U(er,Jr)}var $r=lt(j,W.styleSheets,"vertical-align")||lt(j,W.styleSheets,"alignment-baseline");if($r){var Br=$r.match(/(baseline|text-bottom|alphabetic|ideographic|middle|central|mathematical|text-top|bottom|center|top|hanging)/);Br&&(W.attributeState.alignmentBaseline=Br[0])}var _n=lt(j,W.styleSheets,"text-anchor");_n&&(W.attributeState.textAnchor=_n)}function Er(W,N,x){var j=1,V=1;j*=W.attributeState.fillOpacity,j*=W.attributeState.opacity,W.attributeState.fill instanceof u&&W.attributeState.fill.color.a!==void 0&&(j*=W.attributeState.fill.color.a),V*=W.attributeState.strokeOpacity,V*=W.attributeState.opacity,W.attributeState.stroke instanceof u&&W.attributeState.stroke.color.a!==void 0&&(V*=W.attributeState.stroke.color.a);var ht,kt,Mt=j<1,ae=V<1;if(Ar(x,"use")?(Mt=!0,ae=!0,j*=W.attributeState.fill?1:0,V*=W.attributeState.stroke?1:0):W.withinUse&&(W.attributeState.fill!==N.attributeState.fill?(Mt=!0,j*=W.attributeState.fill?1:0):Mt&&!W.attributeState.fill&&(j=0),W.attributeState.stroke!==N.attributeState.stroke?(ae=!0,V*=W.attributeState.stroke?1:0):ae&&!W.attributeState.stroke&&(V=0)),Mt||ae){var we={};Mt&&(we.opacity=j),ae&&(we["stroke-opacity"]=V),W.pdf.setGState(new ve.a(we))}if(W.attributeState.fill&&W.attributeState.fill!==N.attributeState.fill&&W.attributeState.fill instanceof u&&W.attributeState.fill.color.ok&&!Ar(x,"text")&&W.pdf.setFillColor(W.attributeState.fill.color.r,W.attributeState.fill.color.g,W.attributeState.fill.color.b),W.attributeState.strokeWidth!==N.attributeState.strokeWidth&&W.pdf.setLineWidth(W.attributeState.strokeWidth),W.attributeState.stroke!==N.attributeState.stroke&&W.attributeState.stroke instanceof u&&W.pdf.setDrawColor(W.attributeState.stroke.color.r,W.attributeState.stroke.color.g,W.attributeState.stroke.color.b),W.attributeState.strokeLinecap!==N.attributeState.strokeLinecap&&W.pdf.setLineCap(W.attributeState.strokeLinecap),W.attributeState.strokeLinejoin!==N.attributeState.strokeLinejoin&&W.pdf.setLineJoin(W.attributeState.strokeLinejoin),W.attributeState.strokeDasharray===N.attributeState.strokeDasharray&&W.attributeState.strokeDashoffset===N.attributeState.strokeDashoffset||!W.attributeState.strokeDasharray||W.pdf.setLineDashPattern(W.attributeState.strokeDasharray,W.attributeState.strokeDashoffset),W.attributeState.strokeMiterlimit!==N.attributeState.strokeMiterlimit&&W.pdf.setLineMiterLimit(W.attributeState.strokeMiterlimit),W.attributeState.fontFamily!==N.attributeState.fontFamily&&(ht=Yt.hasOwnProperty(W.attributeState.fontFamily)?Yt[W.attributeState.fontFamily]:W.attributeState.fontFamily),W.attributeState.fill&&W.attributeState.fill!==N.attributeState.fill&&W.attributeState.fill instanceof u&&W.attributeState.fill.color.ok){var qt=W.attributeState.fill.color;W.pdf.setTextColor(qt.r,qt.g,qt.b)}W.attributeState.fontWeight===N.attributeState.fontWeight&&W.attributeState.fontStyle===N.attributeState.fontStyle||(kt=re(W.attributeState.fontStyle,W.attributeState.fontWeight)),ht===void 0&&kt===void 0||(ht===void 0&&(ht=Yt.hasOwnProperty(W.attributeState.fontFamily)?Yt[W.attributeState.fontFamily]:W.attributeState.fontFamily),W.pdf.setFont(ht,kt)),W.attributeState.fontSize!==N.attributeState.fontSize&&W.pdf.setFontSize(W.attributeState.fontSize*W.pdf.internal.scaleFactor)}function mr(W,N,x){var j=d.exec(W);if(j){var V=j[1];return x.refsHandler.get(V)||void 0}}function xr(W,N,x){return e(this,void 0,void 0,function(){var j,V;return r(this,function(ht){switch(ht.label){case 0:return j=x.clone(),N.element.hasAttribute("clipPathUnits")&&N.element.getAttribute("clipPathUnits").toLowerCase()==="objectboundingbox"&&(V=W.getBoundingBox(x),j.transform=x.pdf.matrixMult(x.pdf.Matrix(V[2],0,0,V[3],V[0],V[1]),x.transform)),[4,N.apply(j)];case 1:return ht.sent(),[2]}})})}var _r=function(W){function N(){return W!==null&&W.apply(this,arguments)||this}return l(N,W),N.prototype.render=function(x){return e(this,void 0,void 0,function(){var j,V,ht,kt;return r(this,function(Mt){switch(Mt.label){case 0:return this.isVisible(x.attributeState.visibility!=="hidden",x)?((j=x.clone()).transform=j.pdf.matrixMult(this.computeNodeTransform(j),x.transform),yr(j,this),V=lt(this.element,j.styleSheets,"clip-path"),(ht=V&&V!=="none")?(kt=mr(V,0,j))?kt.isVisible(!0,j)?(j.pdf.saveGraphicsState(),[4,xr(this,kt,j)]):[3,2]:[3,4]:[3,5]):[2];case 1:return Mt.sent(),[3,3];case 2:return[2];case 3:return[3,5];case 4:ht=!1,Mt.label=5;case 5:return j.withinClipPath||j.pdf.saveGraphicsState(),Er(j,x,this.element),[4,this.renderCore(j)];case 6:return Mt.sent(),j.withinClipPath||j.pdf.restoreGraphicsState(),ht&&j.pdf.restoreGraphicsState(),[2]}})})},N}(oe),Kr=function(W){function N(){return W!==null&&W.apply(this,arguments)||this}return l(N,W),N}(_r),ln=function(W){function N(x,j,V){var ht=W.call(this,j,V)||this;return ht.cachedPath=null,ht.hasMarkers=x,ht}return l(N,W),N.prototype.renderCore=function(x){return e(this,void 0,void 0,function(){var j;return r(this,function(V){switch(V.label){case 0:return(j=this.getCachedPath(x))===null||j.segments.length===0?[2]:(x.withinClipPath?j.transform(x.transform):x.pdf.setCurrentTransformationMatrix(x.transform),j.draw(x),[4,this.fillOrStroke(x)]);case 1:return V.sent(),this.hasMarkers?[4,this.drawMarkers(x,j)]:[3,3];case 2:V.sent(),V.label=3;case 3:return[2]}})})},N.prototype.getCachedPath=function(x){return this.cachedPath||(this.cachedPath=this.getPath(x))},N.prototype.drawMarkers=function(x,j){return e(this,void 0,void 0,function(){return r(this,function(V){switch(V.label){case 0:return[4,this.getMarkers(j,x).draw(x.clone({transform:x.pdf.unitMatrix}))];case 1:return V.sent(),[2]}})})},N.prototype.fillOrStroke=function(x){return e(this,void 0,void 0,function(){var j,V,ht,kt,Mt;return r(this,function(ae){switch(ae.label){case 0:return x.withinClipPath?[2]:(j=x.attributeState.fill,V=x.attributeState.stroke&&x.attributeState.strokeWidth!==0,j?[4,j.getFillData(this,x)]:[3,2]);case 1:return kt=ae.sent(),[3,3];case 2:kt=void 0,ae.label=3;case 3:return ht=kt,Mt=lt(this.element,x.styleSheets,"fill-rule")==="evenodd",j&&V||x.withinUse?Mt?x.pdf.fillStrokeEvenOdd(ht):x.pdf.fillStroke(ht):j?Mt?x.pdf.fillEvenOdd(ht):x.pdf.fill(ht):V?x.pdf.stroke():x.pdf.discardPath(),[2]}})})},N.prototype.getBoundingBoxCore=function(x){var j=this.getCachedPath(x);if(!j)return[0,0,0,0];for(var V=Number.POSITIVE_INFINITY,ht=Number.POSITIVE_INFINITY,kt=Number.NEGATIVE_INFINITY,Mt=Number.NEGATIVE_INFINITY,ae=0,we=0,qt=0;qt<j.segments.length;qt++){var Le=j.segments[qt];(Le instanceof Ke||Le instanceof Ie||Le instanceof gr)&&(ae=Le.x,we=Le.y),Le instanceof gr?(V=Math.min(V,ae,Le.x1,Le.x2,Le.x),kt=Math.max(kt,ae,Le.x1,Le.x2,Le.x),ht=Math.min(ht,we,Le.y1,Le.y2,Le.y),Mt=Math.max(Mt,we,Le.y1,Le.y2,Le.y)):(V=Math.min(V,ae),kt=Math.max(kt,ae),ht=Math.min(ht,we),Mt=Math.max(Mt,we))}return[V,ht,kt-V,Mt-ht]},N.prototype.getMarkers=function(x,j){var V=lt(this.element,j.styleSheets,"marker-start"),ht=lt(this.element,j.styleSheets,"marker-mid"),kt=lt(this.element,j.styleSheets,"marker-end"),Mt=new ct;if(V||ht||kt){kt&&(kt=bn(kt)),V&&(V=bn(V)),ht&&(ht=bn(ht));for(var ae=x.segments,we=[1,0],qt=void 0,Le=!1,Rr=[1,0],Pt=!1,q=function(It){var Jt=ae[It],xe=V&&(It===1||!(ae[It]instanceof Ke)&&ae[It-1]instanceof Ke);xe&&ae.forEach(function(Jr,$r){if(!Pt&&Jr instanceof kr&&$r>It){var Br=ae[$r-1];Pt=(Br instanceof Ke||Br instanceof Ie||Br instanceof gr)&&Br}});var Ne=kt&&(It===ae.length-1||!(ae[It]instanceof Ke)&&ae[It+1]instanceof Ke),Re=ht&&It>0&&!(It===1&&ae[It-1]instanceof Ke),Ee=ae[It-1]||null;if(Ee instanceof Ke||Ee instanceof Ie||Ee instanceof gr)if(Jt instanceof gr)xe&&Mt.addMarker(new Ot(V,[Ee.x,Ee.y],et(Pt?[Pt.x,Pt.y]:[Ee.x,Ee.y],[Jt.x1,Jt.y1]))),Ne&&Mt.addMarker(new Ot(kt,[Jt.x,Jt.y],et([Jt.x2,Jt.y2],[Jt.x,Jt.y]))),Re&&(qt=fe([Ee.x,Ee.y],[Jt.x1,Jt.y1]),qt=Ee instanceof Ke?qt:Zt(Ue(we,qt)),Mt.addMarker(new Ot(ht,[Ee.x,Ee.y],Math.atan2(qt[1],qt[0])))),we=fe([Jt.x2,Jt.y2],[Jt.x,Jt.y]);else if(Jt instanceof Ke||Jt instanceof Ie){if(qt=fe([Ee.x,Ee.y],[Jt.x,Jt.y]),xe){var fr=Pt?fe([Pt.x,Pt.y],[Jt.x,Jt.y]):qt;Mt.addMarker(new Ot(V,[Ee.x,Ee.y],Math.atan2(fr[1],fr[0])))}Ne&&Mt.addMarker(new Ot(kt,[Jt.x,Jt.y],Math.atan2(qt[1],qt[0]))),Re&&(fr=Jt instanceof Ke?we:Ee instanceof Ke?qt:Zt(Ue(we,qt)),Mt.addMarker(new Ot(ht,[Ee.x,Ee.y],Math.atan2(fr[1],fr[0])))),we=qt}else Jt instanceof kr&&(qt=fe([Ee.x,Ee.y],[Le.x,Le.y]),Re&&(fr=Ee instanceof Ke?qt:Zt(Ue(we,qt)),Mt.addMarker(new Ot(ht,[Ee.x,Ee.y],Math.atan2(fr[1],fr[0])))),Ne&&(fr=Zt(Ue(qt,Rr)),Mt.addMarker(new Ot(kt,[Le.x,Le.y],Math.atan2(fr[1],fr[0])))),we=qt);else{Le=Jt instanceof Ke&&Jt;var er=ae[It+1];(er instanceof Ke||er instanceof Ie||er instanceof gr)&&(Rr=fe([Le.x,Le.y],[er.x,er.y]))}},G=0;G<ae.length;G++)q(G)}return Mt},N}(Kr);function bn(W){var N=d.exec(W);return N&&N[1]||void 0}var Un=function(W){function N(x,j){return W.call(this,!0,x,j)||this}return l(N,W),N.prototype.getPath=function(x){if(x.withinClipPath||x.attributeState.stroke===null)return null;var j=parseFloat(this.element.getAttribute("x1")||"0"),V=parseFloat(this.element.getAttribute("y1")||"0"),ht=parseFloat(this.element.getAttribute("x2")||"0"),kt=parseFloat(this.element.getAttribute("y2")||"0");return j||ht||V||kt?new cr().moveTo(j,V).lineTo(ht,kt):null},N.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},N.prototype.isVisible=function(x,j){return me(this,x,j)},N.prototype.fillOrStroke=function(x){return e(this,void 0,void 0,function(){return r(this,function(j){switch(j.label){case 0:return x.attributeState.fill=null,[4,W.prototype.fillOrStroke.call(this,x)];case 1:return j.sent(),[2]}})})},N}(ln),$n=function(W){function N(){return W!==null&&W.apply(this,arguments)||this}return l(N,W),N.prototype.apply=function(x){return e(this,void 0,void 0,function(){var j,V,ht,kt,Mt;return r(this,function(ae){switch(ae.label){case 0:return this.isVisible(x.attributeState.visibility!=="hidden",x)?((j=x.clone()).transform=j.pdf.unitMatrix,yr(j,this),V=lt(this.element,j.styleSheets,"clip-path"),V&&V!=="none"&&(ht=mr(V,0,j))?ht.isVisible(!0,j)?[4,xr(this,ht,j)]:[3,2]:[3,3]):[2];case 1:return ae.sent(),[3,3];case 2:return[2];case 3:Er(j,x,this.element),kt=0,Mt=this.children,ae.label=4;case 4:return kt<Mt.length?[4,Mt[kt].render(j)]:[3,7];case 5:ae.sent(),ae.label=6;case 6:return kt++,[3,4];case 7:return[2]}})})},N.prototype.getBoundingBoxCore=function(x){return Vt(x,this)},N.prototype.isVisible=function(x,j){return Z(this,x,j)},N.prototype.computeNodeTransformCore=function(x){var j=parseFloat(lt(this.element,x.styleSheets,"x")||"0"),V=parseFloat(lt(this.element,x.styleSheets,"y")||"0"),ht=this.element.getAttribute("viewBox");if(ht){var kt=mt(ht),Mt=parseFloat(lt(this.element,x.styleSheets,"width")||lt(this.element.ownerSVGElement,x.styleSheets,"width")||ht[2]),ae=parseFloat(lt(this.element,x.styleSheets,"height")||lt(this.element.ownerSVGElement,x.styleSheets,"height")||ht[3]);return Nt(this.element,kt,j,V,Mt,ae,x)}return x.pdf.Matrix(1,0,0,1,j,V)},N}(Pe),Sn=function(N,x){this.width=N,this.height=x},Gn=function(W){function N(){return W!==null&&W.apply(this,arguments)||this}return l(N,W),N.prototype.renderCore=function(x){return e(this,void 0,void 0,function(){var j,V,ht,kt,Mt,ae,we,qt,Le,Rr,Pt,q,G;return r(this,function(wt){switch(wt.label){case 0:return j=parseFloat,(V=this.element.getAttribute("href")||this.element.getAttribute("xlink:href"))?(ht=V.substring(1),kt=x.refsHandler.get(ht),Mt=Ar(kt.element,"symbol,svg")&&kt.element.hasAttribute("viewBox"),ae=j(lt(this.element,x.styleSheets,"x")||"0"),we=j(lt(this.element,x.styleSheets,"y")||"0"),qt=void 0,Le=void 0,Mt?(qt=j(lt(this.element,x.styleSheets,"width")||lt(kt.element,x.styleSheets,"width")||"0"),Le=j(lt(this.element,x.styleSheets,"height")||lt(kt.element,x.styleSheets,"height")||"0"),ae+=j(lt(kt.element,x.styleSheets,"x")||"0"),we+=j(lt(kt.element,x.styleSheets,"y")||"0"),Pt=mt(kt.element.getAttribute("viewBox")),Rr=Nt(kt.element,Pt,ae,we,qt,Le,x)):Rr=x.pdf.Matrix(1,0,0,1,ae,we),q=new O(x.pdf,{refsHandler:x.refsHandler,styleSheets:x.styleSheets,withinUse:!0,viewport:Mt?new Sn(qt,Le):x.viewport,svg2pdfParameters:x.svg2pdfParameters}),G=x.attributeState.color,[4,x.refsHandler.getRendered(ht,G,function(It){return N.renderReferencedNode(It,ht,G,q)})]):[2];case 1:return wt.sent(),x.pdf.saveGraphicsState(),x.pdf.setCurrentTransformationMatrix(x.transform),Mt&&lt(kt.element,x.styleSheets,"overflow")!=="visible"&&(x.pdf.rect(ae,we,qt,Le),x.pdf.clip().discardPath()),x.pdf.doFormObject(x.refsHandler.generateKey(ht,G),Rr),x.pdf.restoreGraphicsState(),[2]}})})},N.renderReferencedNode=function(x,j,V,ht){return e(this,void 0,void 0,function(){var kt;return r(this,function(Mt){switch(Mt.label){case 0:return kt=[(kt=x.getBoundingBox(ht))[0]-.5*kt[2],kt[1]-.5*kt[3],2*kt[2],2*kt[3]],ht.attributeState.color=V,ht.pdf.beginFormObject(kt[0],kt[1],kt[2],kt[3],ht.pdf.unitMatrix),x instanceof $n?[4,x.apply(ht)]:[3,2];case 1:return Mt.sent(),[3,4];case 2:return[4,x.render(ht)];case 3:Mt.sent(),Mt.label=4;case 4:return ht.pdf.endFormObject(ht.refsHandler.generateKey(j,V)),[2]}})})},N.prototype.getBoundingBoxCore=function(x){return Ht(this.element,x)},N.prototype.isVisible=function(x,j){return me(this,x,j)},N.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},N}(Kr),di=function(W){function N(x,j){return W.call(this,!1,x,j)||this}return l(N,W),N.prototype.getPath=function(x){var j=parseFloat(lt(this.element,x.styleSheets,"width")||"0"),V=parseFloat(lt(this.element,x.styleSheets,"height")||"0");if(!isFinite(j)||j<=0||!isFinite(V)||V<=0)return null;var ht=lt(this.element,x.styleSheets,"rx"),kt=lt(this.element,x.styleSheets,"ry"),Mt=Math.min(parseFloat(ht||kt||"0"),.5*j),ae=Math.min(parseFloat(kt||ht||"0"),.5*V),we=parseFloat(lt(this.element,x.styleSheets,"x")||"0"),qt=parseFloat(lt(this.element,x.styleSheets,"y")||"0"),Le=4/3*(Math.SQRT2-1);return Mt===0&&ae===0?new cr().moveTo(we,qt).lineTo(we+j,qt).lineTo(we+j,qt+V).lineTo(we,qt+V).close():new cr().moveTo(we+=Mt,qt).lineTo(we+=j-2*Mt,qt).curveTo(we+Mt*Le,qt,we+Mt,qt+(ae-ae*Le),we+=Mt,qt+=ae).lineTo(we,qt+=V-2*ae).curveTo(we,qt+ae*Le,we-Mt*Le,qt+ae,we-=Mt,qt+=ae).lineTo(we+=2*Mt-j,qt).curveTo(we-Mt*Le,qt,we-Mt,qt-ae*Le,we-=Mt,qt-=ae).lineTo(we,qt+=2*ae-V).curveTo(we,qt-ae*Le,we+Mt*Le,qt-ae,we+=Mt,qt-=ae).close()},N.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},N.prototype.isVisible=function(x,j){return me(this,x,j)},N}(ln),Si=function(W){function N(x,j){return W.call(this,!1,x,j)||this}return l(N,W),N.prototype.getPath=function(x){var j=this.getRx(x),V=this.getRy(x);if(!isFinite(j)||V<=0||!isFinite(V)||V<=0)return null;var ht=parseFloat(lt(this.element,x.styleSheets,"cx")||"0"),kt=parseFloat(lt(this.element,x.styleSheets,"cy")||"0"),Mt=4/3*(Math.SQRT2-1)*j,ae=4/3*(Math.SQRT2-1)*V;return new cr().moveTo(ht+j,kt).curveTo(ht+j,kt-ae,ht+Mt,kt-V,ht,kt-V).curveTo(ht-Mt,kt-V,ht-j,kt-ae,ht-j,kt).curveTo(ht-j,kt+ae,ht-Mt,kt+V,ht,kt+V).curveTo(ht+Mt,kt+V,ht+j,kt+ae,ht+j,kt)},N.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},N.prototype.isVisible=function(x,j){return me(this,x,j)},N}(ln),Ni=function(W){function N(x,j){return W.call(this,x,j)||this}return l(N,W),N.prototype.getRx=function(x){return parseFloat(lt(this.element,x.styleSheets,"rx")||"0")},N.prototype.getRy=function(x){return parseFloat(lt(this.element,x.styleSheets,"ry")||"0")},N}(Si);function ei(W){var N="invisible";return W.fill&&W.stroke?N="fillThenStroke":W.fill?N="fill":W.stroke&&(N="stroke"),N}function Ia(W){return W.replace(/[\n\r]/g,"")}function Nr(W){return W.replace(/[\t]/g," ")}function na(W){return W.replace(/ +/g," ")}function Ds(W,N,x){switch(lt(W,x.styleSheets,"text-transform")){case"uppercase":return N.toUpperCase();case"lowercase":return N.toLowerCase();default:return N}}var Qa=function(){function W(N,x,j,V){this.textNode=N,this.texts=[],this.textNodes=[],this.contexts=[],this.textAnchor=x,this.originX=j,this.originY=V,this.textMeasures=[]}return W.prototype.setX=function(N){this.originX=N},W.prototype.setY=function(N){this.originY=N},W.prototype.add=function(N,x,j){this.texts.push(x),this.textNodes.push(N),this.contexts.push(j)},W.prototype.rightTrimText=function(){for(var N=this.texts.length-1;N>=0;N--)if(this.contexts[N].attributeState.xmlSpace==="default"&&(this.texts[N]=this.texts[N].replace(/\s+$/,"")),this.texts[N].match(/[^\s]/))return!1;return!0},W.prototype.measureText=function(N){for(var x=0;x<this.texts.length;x++)this.textMeasures.push({width:N.textMeasure.measureTextWidth(this.texts[x],this.contexts[x].attributeState),length:this.texts[x].length})},W.prototype.put=function(N,x){var j,V,ht,kt,Mt=[],ae=[],we=[],qt=this.originX,Le=this.originY,Rr=qt,Pt=qt;for(j=0;j<this.textNodes.length;j++){V=this.textNodes[j],ht=this.contexts[j],kt=this.textMeasures[j]||{width:N.textMeasure.measureTextWidth(this.texts[j],this.contexts[j].attributeState),length:this.texts[j].length};var q=qt,G=Le;if(V.nodeName!=="#text"&&!Mt.includes(V)){Mt.push(V);var wt=V.getAttribute("dx");wt!==null&&(q+=U(wt,ht.attributeState.fontSize));var It=V.getAttribute("dy");It!==null&&(G+=U(It,ht.attributeState.fontSize))}ae[j]=q,we[j]=G,qt=q+kt.width+kt.length*x,Le=G,Rr=Math.min(Rr,q),Pt=Math.max(Pt,qt)}var Jt=0;switch(this.textAnchor){case"start":Jt=0;break;case"middle":Jt=(Pt-Rr)/2;break;case"end":Jt=Pt-Rr}for(j=0;j<this.textNodes.length;j++)if(V=this.textNodes[j],ht=this.contexts[j],V.nodeName==="#text"||ht.attributeState.visibility!=="hidden"){N.pdf.saveGraphicsState(),Er(ht,N,V);var xe=ht.attributeState.alignmentBaseline,Ne=ei(ht.attributeState);N.pdf.text(this.texts[j],ae[j]-Jt,we[j],{baseline:tt(xe),angle:N.transform,renderingMode:Ne==="fill"?void 0:Ne,charSpace:x===0?void 0:x}),N.pdf.restoreGraphicsState()}return[qt,Le]},W}(),Rs=function(W){function N(){return W!==null&&W.apply(this,arguments)||this}return l(N,W),N.prototype.processTSpans=function(x,j,V,ht,kt,Mt){for(var ae=V.pdf.getFontSize(),we=V.attributeState.xmlSpace,qt=!0,Le=!1,Rr=0;Rr<j.childNodes.length;Rr++){var Pt=j.childNodes[Rr];if(Pt.textContent){var q=Pt.textContent;if(Pt.nodeName==="#text"){var G=Ia(q);G=Nr(G),we==="default"&&(G=na(G),qt&&G.match(/^\s/)&&(Le=!0),G.match(/[^\s]/)&&(qt=!1),Mt.prevText.match(/\s$/)&&(G=G.replace(/^\s+/,"")));var wt=Ds(j,G,V);kt.add(j,wt,V),Mt.prevText=q,Mt.prevContext=V}else if(!Ar(Pt,"title")){if(Ar(Pt,"tspan")){var It=Pt,Jt=It.getAttribute("x");if(Jt!==null){var xe=U(Jt,ae);kt=new Qa(this,lt(It,V.styleSheets,"text-anchor")||V.attributeState.textAnchor,xe,0),ht.push({type:"y",chunk:kt})}var Ne=It.getAttribute("y");if(Ne!==null){var Re=U(Ne,ae);kt=new Qa(this,lt(It,V.styleSheets,"text-anchor")||V.attributeState.textAnchor,0,Re),ht.push({type:"x",chunk:kt})}var Ee=V.clone();yr(Ee,x,It),this.processTSpans(x,It,Ee,ht,kt,Mt)}}}}return Le},N.prototype.renderCore=function(x){return e(this,void 0,void 0,function(){var j,V,ht,kt,Mt,ae,we,qt,Le,Rr,Pt,q,G,wt,It,Jt,xe,Ne,Re,Ee,fr,er,Jr;return r(this,function($r){if(x.pdf.saveGraphicsState(),j=0,V=0,ht=1,kt=x.pdf.getFontSize(),Mt=U(this.element.getAttribute("x"),kt),ae=U(this.element.getAttribute("y"),kt),we=U(this.element.getAttribute("dx"),kt),qt=U(this.element.getAttribute("dy"),kt),Le=parseFloat(this.element.getAttribute("textLength")||"0"),Rr=x.attributeState.visibility,this.element.childElementCount===0)Pt=this.element.textContent||"",q=function(Br,_n){return Br=Nr(Br=Ia(Br)),_n.xmlSpace==="default"&&(Br=na(Br=Br.trim())),Br}(Pt,x.attributeState),G=Ds(this.element,q,x),j=x.textMeasure.getTextOffset(G,x.attributeState),Le>0&&(wt=x.textMeasure.measureTextWidth(G,x.attributeState),x.attributeState.xmlSpace==="default"&&Pt.match(/^\s/)&&(ht=0),V=(Le-wt)/(G.length-ht)||0),Rr==="visible"&&(It=x.attributeState.alignmentBaseline,Jt=ei(x.attributeState),x.pdf.text(G,Mt+we-j,ae+qt,{baseline:tt(It),angle:x.transform,renderingMode:Jt==="fill"?void 0:Jt,charSpace:V===0?void 0:V}));else{for(xe=[],Ne=new Qa(this,x.attributeState.textAnchor,Mt+we,ae+qt),xe.push({type:"",chunk:Ne}),Re=this.processTSpans(this,this.element,x,xe,Ne,{prevText:" ",prevContext:x}),ht=Re?0:1,Ee=!0,fr=xe.length-1;fr>=0;fr--)Ee&&(Ee=xe[fr].chunk.rightTrimText());Le>0&&(er=0,Jr=0,xe.forEach(function(Br){var _n=Br.chunk;_n.measureText(x),_n.textMeasures.forEach(function(Qr){var vn=Qr.width,Yn=Qr.length;er+=vn,Jr+=Yn})}),V=(Le-er)/(Jr-ht)),xe.reduce(function(Br,_n){var Qr=_n.type,vn=_n.chunk;return Qr==="x"?vn.setX(Br[0]):Qr==="y"&&vn.setY(Br[1]),vn.put(x,V)},[0,0])}return x.pdf.restoreGraphicsState(),[2]})})},N.prototype.isVisible=function(x,j){return Z(this,x,j)},N.prototype.getBoundingBoxCore=function(x){return Ht(this.element,x)},N.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},N}(Kr),vs=function(W){function N(x,j){return W.call(this,!0,x,j)||this}return l(N,W),N.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},N.prototype.isVisible=function(x,j){return me(this,x,j)},N.prototype.getPath=function(x){var j,V,ht=new _t.a(lt(this.element,x.styleSheets,"d")||"").unshort().unarc().abs(),kt=new cr;return ht.iterate(function(Mt){var ae=Mt[0];switch(ae){case"M":kt.moveTo(Mt[1],Mt[2]);break;case"L":kt.lineTo(Mt[1],Mt[2]);break;case"H":kt.lineTo(Mt[1],V);break;case"V":kt.lineTo(j,Mt[1]);break;case"C":kt.curveTo(Mt[1],Mt[2],Mt[3],Mt[4],Mt[5],Mt[6]);break;case"Q":var we=yt([j,V],[Mt[1],Mt[2]]),qt=yt([Mt[3],Mt[4]],[Mt[1],Mt[2]]);kt.curveTo(we[0],we[1],qt[0],qt[1],Mt[3],Mt[4]);break;case"Z":kt.close()}switch(ae){case"M":case"L":j=Mt[1],V=Mt[2];break;case"H":j=Mt[1];break;case"V":V=Mt[1];break;case"C":j=Mt[5],V=Mt[6];break;case"Q":j=Mt[3],V=Mt[4]}}),kt},N}(ln),ia=/^\s*data:(([^/,;]+\/[^/,;]+)(?:;([^,;=]+=[^,;=]+))?)?(?:;(base64))?,(.*\s*)$/i,ms=function(W){function N(x,j){var V=W.call(this,x,j)||this;return V.imageLoadingPromise=null,V.imageUrl=V.element.getAttribute("xlink:href")||V.element.getAttribute("href"),V.imageUrl&&(V.imageLoadingPromise=N.fetchImageData(V.imageUrl)),V}return l(N,W),N.prototype.renderCore=function(x){return e(this,void 0,void 0,function(){var j,V,ht,kt,Mt,ae,we,qt,Le,Rr,Pt,q;return r(this,function(G){switch(G.label){case 0:return this.imageLoadingPromise?(x.pdf.setCurrentTransformationMatrix(x.transform),j=parseFloat(lt(this.element,x.styleSheets,"width")||"0"),V=parseFloat(lt(this.element,x.styleSheets,"height")||"0"),ht=parseFloat(lt(this.element,x.styleSheets,"x")||"0"),kt=parseFloat(lt(this.element,x.styleSheets,"y")||"0"),!isFinite(j)||j<=0||!isFinite(V)||V<=0?[2]:[4,this.imageLoadingPromise]):[2];case 1:return Mt=G.sent(),ae=Mt.data,(we=Mt.format).indexOf("svg")!==0?[3,3]:(qt=new DOMParser,Le=qt.parseFromString(ae,"image/svg+xml").firstElementChild,(!(Rr=this.element.getAttribute("preserveAspectRatio"))||Rr.indexOf("defer")<0||!Le.getAttribute("preserveAspectRatio"))&&Le.setAttribute("preserveAspectRatio",Rr||""),Le.setAttribute("x",String(ht)),Le.setAttribute("y",String(kt)),Le.setAttribute("width",String(j)),Le.setAttribute("height",String(V)),[4,wa(Le,Pt={}).render(new O(x.pdf,{refsHandler:new Y(Pt),styleSheets:x.styleSheets,viewport:new Sn(j,V),svg2pdfParameters:x.svg2pdfParameters}))]);case 2:return G.sent(),[2];case 3:q="data:image/"+we+";base64,"+btoa(ae);try{x.pdf.addImage(q,"",ht,kt,j,V)}catch(wt){typeof console=="object"&&console.warn&&console.warn("Could not load image "+this.imageUrl+`.
`+wt)}G.label=4;case 4:return[2]}})})},N.prototype.getBoundingBoxCore=function(x){return Ht(this.element,x)},N.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},N.prototype.isVisible=function(x,j){return me(this,x,j)},N.fetchImageData=function(x){return e(this,void 0,void 0,function(){var j,V,ht,kt,Mt;return r(this,function(ae){switch(ae.label){case 0:if(!(ht=x.match(ia)))return[3,1];if(kt=ht[2],(Mt=kt.split("/"))[0]!=="image")throw new Error("Unsupported image URL: "+x);return V=Mt[1],j=ht[5],j=ht[4]==="base64"?atob(j):decodeURIComponent(j),[3,3];case 1:return[4,N.fetchImage(x)];case 2:j=ae.sent(),V=x.substring(x.lastIndexOf(".")+1),ae.label=3;case 3:return[2,{data:j,format:V}]}})})},N.fetchImage=function(x){return new Promise(function(j,V){var ht=new XMLHttpRequest;ht.open("GET",x,!0),ht.responseType="arraybuffer",ht.onload=function(){if(ht.status!==200)throw new Error("Error "+ht.status+": Failed to load image '"+x+"'");for(var kt=new Uint8Array(ht.response),Mt="",ae=0;ae<kt.length;ae++)Mt+=String.fromCharCode(kt[ae]);j(Mt)},ht.onerror=V,ht.onabort=V,ht.send(null)})},N.getMimeType=function(x){switch(x=x.toLowerCase()){case"jpg":case"jpeg":return"image/jpeg";default:return"image/"+x}},N}(Kr),Bs=function(W){function N(x,j,V){var ht=W.call(this,!0,j,V)||this;return ht.closed=x,ht}return l(N,W),N.prototype.getPath=function(x){if(!this.element.hasAttribute("points")||this.element.getAttribute("points")==="")return null;var j=N.parsePointsString(this.element.getAttribute("points")),V=new cr;if(j.length<1)return V;V.moveTo(j[0][0],j[0][1]);for(var ht=1;ht<j.length;ht++)V.lineTo(j[ht][0],j[ht][1]);return this.closed&&V.close(),V},N.prototype.isVisible=function(x,j){return me(this,x,j)},N.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},N.parsePointsString=function(x){for(var j=mt(x),V=[],ht=0;ht<j.length-1;ht+=2){var kt=j[ht],Mt=j[ht+1];V.push([kt,Mt])}return V},N}(ln),Da=function(W){function N(x,j){return W.call(this,!0,x,j)||this}return l(N,W),N}(Bs),Ra=function(W){function N(){return W!==null&&W.apply(this,arguments)||this}return l(N,W),N.prototype.render=function(x){return Promise.resolve()},N.prototype.getBoundingBoxCore=function(x){return[0,0,0,0]},N.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},N.prototype.isVisible=function(x,j){return me(this,x,j)},N}(oe),js=function(W){function N(){return W!==null&&W.apply(this,arguments)||this}return l(N,W),N.prototype.apply=function(x){return e(this,void 0,void 0,function(){var j,V,ht,kt,Mt;return r(this,function(ae){switch(ae.label){case 0:j=this.computeNodeTransform(x),V=this.getBoundingBox(x),x.pdf.beginFormObject(V[0],V[1],V[2],V[3],j),function(we){var qt=we.attributeState,Le=we.pdf,Rr=1,Pt=1;Rr*=qt.fillOpacity,Rr*=qt.opacity,qt.fill instanceof u&&qt.fill.color.a!==void 0&&(Rr*=qt.fill.color.a),Pt*=qt.strokeOpacity,Pt*=qt.opacity,qt.stroke instanceof u&&qt.stroke.color.a!==void 0&&(Pt*=qt.stroke.color.a);var q,G={};if(G.opacity=Rr,G["stroke-opacity"]=Pt,Le.setGState(new ve.a(G)),qt.fill&&qt.fill instanceof u&&qt.fill.color.ok?Le.setFillColor(qt.fill.color.r,qt.fill.color.g,qt.fill.color.b):Le.setFillColor(0,0,0),Le.setLineWidth(qt.strokeWidth),qt.stroke instanceof u?Le.setDrawColor(qt.stroke.color.r,qt.stroke.color.g,qt.stroke.color.b):Le.setDrawColor(0,0,0),Le.setLineCap(qt.strokeLinecap),Le.setLineJoin(qt.strokeLinejoin),qt.strokeDasharray?Le.setLineDashPattern(qt.strokeDasharray,qt.strokeDashoffset):Le.setLineDashPattern([],0),Le.setLineMiterLimit(qt.strokeMiterlimit),q=Yt.hasOwnProperty(qt.fontFamily)?Yt[qt.fontFamily]:qt.fontFamily,qt.fill&&qt.fill instanceof u&&qt.fill.color.ok){var wt=qt.fill.color;Le.setTextColor(wt.r,wt.g,wt.b)}else Le.setTextColor(0,0,0);var It="";qt.fontWeight==="bold"&&(It="bold"),qt.fontStyle==="italic"&&(It+="italic"),It===""&&(It="normal"),q!==void 0||It!==void 0?(q===void 0&&(q=Yt.hasOwnProperty(qt.fontFamily)?Yt[qt.fontFamily]:qt.fontFamily),Le.setFont(q,It)):Le.setFont("helvetica",It),Le.setFontSize(qt.fontSize*Le.internal.scaleFactor)}(ht=new O(x.pdf,{refsHandler:x.refsHandler,styleSheets:x.styleSheets,viewport:x.viewport,svg2pdfParameters:x.svg2pdfParameters})),kt=0,Mt=this.children,ae.label=1;case 1:return kt<Mt.length?[4,Mt[kt].render(ht)]:[3,4];case 2:ae.sent(),ae.label=3;case 3:return kt++,[3,1];case 4:return x.pdf.endFormObject(this.element.getAttribute("id")),[2]}})})},N.prototype.getBoundingBoxCore=function(x){var j,V=this.element.getAttribute("viewBox");return V&&(j=mt(V)),[j&&j[0]||0,j&&j[1]||0,j&&j[2]||parseFloat(this.element.getAttribute("markerWidth")||"3"),j&&j[3]||parseFloat(this.element.getAttribute("markerHeight")||"3")]},N.prototype.computeNodeTransformCore=function(x){var j,V=parseFloat(this.element.getAttribute("refX")||"0"),ht=parseFloat(this.element.getAttribute("refY")||"0"),kt=this.element.getAttribute("viewBox");if(kt){var Mt=mt(kt);j=Nt(this.element,Mt,0,0,parseFloat(this.element.getAttribute("markerWidth")||"3"),parseFloat(this.element.getAttribute("markerHeight")||"3"),x,!0),j=x.pdf.matrixMult(x.pdf.Matrix(1,0,0,1,-V,-ht),j)}else j=x.pdf.Matrix(1,0,0,1,-V,-ht);return j},N.prototype.isVisible=function(x,j){return Z(this,x,j)},N}(Pe),Ba=function(W){function N(x,j){return W.call(this,x,j)||this}return l(N,W),N.prototype.getR=function(x){var j;return(j=this.r)!==null&&j!==void 0?j:this.r=parseFloat(lt(this.element,x.styleSheets,"r")||"0")},N.prototype.getRx=function(x){return this.getR(x)},N.prototype.getRy=function(x){return this.getR(x)},N}(Si),ba=function(W){function N(x,j){return W.call(this,!1,x,j)||this}return l(N,W),N}(Bs),Ki=function(W){function N(){return W!==null&&W.apply(this,arguments)||this}return l(N,W),N.prototype.renderCore=function(x){return e(this,void 0,void 0,function(){var j,V;return r(this,function(ht){switch(ht.label){case 0:j=0,V=this.children,ht.label=1;case 1:return j<V.length?[4,V[j].render(x)]:[3,4];case 2:ht.sent(),ht.label=3;case 3:return j++,[3,1];case 4:return[2]}})})},N.prototype.getBoundingBoxCore=function(x){return Vt(x,this)},N}(_r),Us=function(W){function N(){return W!==null&&W.apply(this,arguments)||this}return l(N,W),N.prototype.isVisible=function(x,j){return Z(this,x,j)},N.prototype.render=function(x){return e(this,void 0,void 0,function(){var j,V,ht,kt,Mt;return r(this,function(ae){switch(ae.label){case 0:return this.isVisible(x.attributeState.visibility!=="hidden",x)?(j=this.getX(x),V=this.getY(x),ht=this.getWidth(x),kt=this.getHeight(x),x.pdf.saveGraphicsState(),Mt=x.transform,this.element.hasAttribute("transform")&&(Mt=x.pdf.matrixMult(te(this.element.getAttribute("transform"),x),Mt)),x.pdf.setCurrentTransformationMatrix(Mt),x.withinUse||lt(this.element,x.styleSheets,"overflow")==="visible"||x.pdf.rect(j,V,ht,kt).clip().discardPath(),[4,W.prototype.render.call(this,x.clone({transform:x.pdf.unitMatrix,viewport:x.withinUse?x.viewport:new Sn(ht,kt)}))]):[2];case 1:return ae.sent(),x.pdf.restoreGraphicsState(),[2]}})})},N.prototype.computeNodeTransform=function(x){return this.computeNodeTransformCore(x)},N.prototype.computeNodeTransformCore=function(x){if(x.withinUse)return x.pdf.unitMatrix;var j,V=this.getX(x),ht=this.getY(x),kt=this.getViewBox();if(kt){var Mt=this.getWidth(x),ae=this.getHeight(x);j=Nt(this.element,kt,V,ht,Mt,ae,x)}else j=x.pdf.Matrix(1,0,0,1,V,ht);return j},N.prototype.getWidth=function(x){if(this.width!==void 0)return this.width;var j,V,ht=x.svg2pdfParameters;if(this.isOutermostSvg(x))if(ht.width!=null)j=ht.width;else if(V=lt(this.element,x.styleSheets,"width"))j=parseFloat(V);else{var kt=this.getViewBox();if(kt&&(ht.height!=null||lt(this.element,x.styleSheets,"height"))){var Mt=kt[2]/kt[3];j=this.getHeight(x)*Mt}else j=Math.min(300,x.viewport.width,2*x.viewport.height)}else j=(V=lt(this.element,x.styleSheets,"width"))?parseFloat(V):x.viewport.width;return this.width=j},N.prototype.getHeight=function(x){if(this.height!==void 0)return this.height;var j,V,ht=x.svg2pdfParameters;if(this.isOutermostSvg(x))if(ht.height!=null)j=ht.height;else if(V=lt(this.element,x.styleSheets,"height"))j=parseFloat(V);else{var kt=this.getViewBox();if(kt){var Mt=kt[2]/kt[3];j=this.getWidth(x)/Mt}else j=Math.min(150,x.viewport.width/2,x.viewport.height)}else j=(V=lt(this.element,x.styleSheets,"height"))?parseFloat(V):x.viewport.height;return this.height=j},N.prototype.getX=function(x){if(this.x!==void 0)return this.x;if(this.isOutermostSvg(x))return this.x=0;var j=lt(this.element,x.styleSheets,"x");return this.x=j?parseFloat(j):0},N.prototype.getY=function(x){if(this.y!==void 0)return this.y;if(this.isOutermostSvg(x))return this.y=0;var j=lt(this.element,x.styleSheets,"y");return this.y=j?parseFloat(j):0},N.prototype.getViewBox=function(){if(this.viewBox!==void 0)return this.viewBox;var x=this.element.getAttribute("viewBox");return this.viewBox=x?mt(x):void 0},N.prototype.isOutermostSvg=function(x){return x.svg2pdfParameters.element===this.element},N}(Ki),lo=function(W){function N(){return W!==null&&W.apply(this,arguments)||this}return l(N,W),N.prototype.isVisible=function(x,j){return Z(this,x,j)},N.prototype.computeNodeTransformCore=function(x){return x.pdf.unitMatrix},N}(Ki),ja=function(W){function N(){return W!==null&&W.apply(this,arguments)||this}return l(N,W),N.prototype.apply=function(x){return e(this,void 0,void 0,function(){var j,V,ht;return r(this,function(kt){switch(kt.label){case 0:if(!this.isVisible(!0,x))return[2];j=x.pdf.matrixMult(this.computeNodeTransform(x),x.transform),x.pdf.setCurrentTransformationMatrix(j),V=0,ht=this.children,kt.label=1;case 1:return V<ht.length?[4,ht[V].render(new O(x.pdf,{refsHandler:x.refsHandler,styleSheets:x.styleSheets,viewport:x.viewport,withinClipPath:!0,svg2pdfParameters:x.svg2pdfParameters}))]:[3,4];case 2:kt.sent(),kt.label=3;case 3:return V++,[3,1];case 4:return x.pdf.clip().discardPath(),x.pdf.setCurrentTransformationMatrix(j.inversed()),[2]}})})},N.prototype.getBoundingBoxCore=function(x){return Vt(x,this)},N.prototype.isVisible=function(x,j){return Z(this,x,j)},N}(Pe);function wa(W,N){var x,j=[];switch(function(ht,kt){for(var Mt=[],ae=0;ae<ht.childNodes.length;ae++){var we=ht.childNodes[ae];we.nodeName.charAt(0)!=="#"&&Mt.push(we)}for(ae=0;ae<Mt.length;ae++)kt(ae,Mt[ae])}(W,function(ht,kt){return j.push(wa(kt,N))}),W.tagName.toLowerCase()){case"a":case"g":x=new lo(W,j);break;case"circle":x=new Ba(W,j);break;case"clippath":x=new ja(W,j);break;case"ellipse":x=new Ni(W,j);break;case"lineargradient":x=new F(W,j);break;case"image":x=new ms(W,j);break;case"line":x=new Un(W,j);break;case"marker":x=new js(W,j);break;case"path":x=new vs(W,j);break;case"pattern":x=new vt(W,j);break;case"polygon":x=new Da(W,j);break;case"polyline":x=new ba(W,j);break;case"radialgradient":x=new D(W,j);break;case"rect":x=new di(W,j);break;case"svg":x=new Us(W,j);break;case"symbol":x=new $n(W,j);break;case"text":x=new Rs(W,j);break;case"use":x=new Gn(W,j);break;default:x=new Ra(W,j)}if(N!=null&&x.element.hasAttribute("id")){var V=C()(x.element.id,{isIdentifier:!0});N[V]=N[V]||x}return x.children.forEach(function(ht){return ht.setParent(x)}),x}var zs=function(){function W(N,x){this.rootSvg=N,this.loadExternalSheets=x,this.styleSheets=[]}return W.prototype.load=function(){return e(this,void 0,void 0,function(){var N;return r(this,function(x){switch(x.label){case 0:return[4,this.collectStyleSheetTexts()];case 1:return N=x.sent(),this.parseCssSheets(N),[2]}})})},W.prototype.collectStyleSheetTexts=function(){return e(this,void 0,void 0,function(){var N,x,j,V,ht;return r(this,function(kt){switch(kt.label){case 0:if(N=[],this.loadExternalSheets&&this.rootSvg.ownerDocument)for(V=0;V<this.rootSvg.ownerDocument.childNodes.length;V++)(x=this.rootSvg.ownerDocument.childNodes[V]).nodeName==="xml-stylesheet"&&typeof x.data=="string"&&N.push(W.loadSheet(x.data.match(/href=["'].*?["']/)[0].split("=")[1].slice(1,-1)));for(j=this.rootSvg.querySelectorAll("style,link"),V=0;V<j.length;V++)Ar(ht=j[V],"style")?N.push(ht.textContent):this.loadExternalSheets&&Ar(ht,"link")&&ht.getAttribute("rel")==="stylesheet"&&ht.hasAttribute("href")&&N.push(W.loadSheet(ht.getAttribute("href")));return[4,Promise.all(N)];case 1:return[2,kt.sent().filter(function(Mt){return Mt!==null})]}})})},W.prototype.parseCssSheets=function(N){for(var x=document.implementation.createHTMLDocument(""),j=0,V=N;j<V.length;j++){var ht=V[j],kt=x.createElement("style");kt.textContent=ht,x.body.appendChild(kt);var Mt=kt.sheet;if(Mt instanceof CSSStyleSheet){for(var ae=Mt.cssRules.length-1;ae>=0;ae--){var we=Mt.cssRules[ae];if(we instanceof CSSStyleRule){var qt=we;if(qt.selectorText.indexOf(",")>=0){Mt.deleteRule(ae);for(var Le=qt.cssText.substring(qt.selectorText.length),Rr=W.splitSelectorAtCommas(qt.selectorText),Pt=0;Pt<Rr.length;Pt++)Mt.insertRule(Rr[Pt]+Le,ae+Pt)}}else Mt.deleteRule(ae)}this.styleSheets.push(Mt)}}},W.splitSelectorAtCommas=function(N){for(var x,j=/,|["']/g,V=/[^\\]["]/g,ht=/[^\\][']/g,kt=[],Mt="initial",ae=-1,we=V,qt=0;qt<N.length;)switch(Mt){case"initial":j.lastIndex=qt,(x=j.exec(N))?(x[0]===","?(kt.push(N.substring(ae+1,j.lastIndex-1).trim()),ae=j.lastIndex-1):(Mt="withinQuotes",we=x[0]==='"'?V:ht),qt=j.lastIndex):(kt.push(N.substring(ae+1).trim()),qt=N.length);break;case"withinQuotes":we.lastIndex=qt,(x=we.exec(N))&&(qt=we.lastIndex,Mt="initial")}return kt},W.loadSheet=function(N){return new Promise(function(x,j){var V=new XMLHttpRequest;V.open("GET",N,!0),V.responseType="text",V.onload=function(){V.status!==200&&j(new Error("Error "+V.status+": Failed to load '"+N+"'")),x(V.responseText)},V.onerror=j,V.onabort=j,V.send(null)}).catch(function(){return null})},W.prototype.getPropertyValue=function(N,x){for(var j=[],V=0,ht=this.styleSheets;V<ht.length;V++)for(var kt=ht[V],Mt=0;Mt<kt.cssRules.length;Mt++){var ae=kt.cssRules[Mt];ae.style.getPropertyValue(x)&&N.matches(ae.selectorText)&&j.push(ae)}if(j.length!==0)return j.reduce(function(we,qt){return Rr=qt,((Pt=(Le=we).style.getPropertyPriority(x))!==Rr.style.getPropertyPriority(x)?Pt==="important"?1:-1:f(Le.selectorText,Rr.selectorText))===1?we:qt;var Le,Rr,Pt}).style.getPropertyValue(x)||void 0},W}();function ts(W,N,x){var j,V,ht;return x===void 0&&(x={}),e(this,void 0,void 0,function(){var kt,Mt,ae,we,qt,Le,Rr,Pt,q,G;return r(this,function(wt){switch(wt.label){case 0:return kt=(j=x.x)!==null&&j!==void 0?j:0,Mt=(V=x.y)!==null&&V!==void 0?V:0,ae=(ht=x.loadExternalStyleSheets)!==null&&ht!==void 0&&ht,qt=new Y(we={}),[4,(Le=new zs(W,ae)).load()];case 1:return wt.sent(),Rr=new Sn(N.internal.pageSize.getWidth(),N.internal.pageSize.getHeight()),Pt=n(n({},x),{element:W}),q=new O(N,{refsHandler:qt,styleSheets:Le,viewport:Rr,svg2pdfParameters:Pt}),N.advancedAPI(),N.saveGraphicsState(),N.setCurrentTransformationMatrix(N.Matrix(1,0,0,1,kt,Mt)),N.setLineWidth(q.attributeState.strokeWidth),G=q.attributeState.fill.color,N.setFillColor(G.r,G.g,G.b),N.setFont(q.attributeState.fontFamily),N.setFontSize(q.attributeState.fontSize*N.internal.scaleFactor),[4,wa(W,we).render(q)];case 2:return wt.sent(),N.restoreGraphicsState(),N.compatAPI(),q.textMeasure.cleanupTextMeasuring(),[2,N]}})})}ve.e.API.svg=function(W,N){return N===void 0&&(N={}),ts(W,this,N)}},"aK+R":function(on,hr,Te){},bBst:function(on,hr,Te){(function(ar){var C=ar.CustomEvent;function Ut(){try{var nt=new C("cat",{detail:{foo:"bar"}});return nt.type==="cat"&&nt.detail.foo==="bar"}catch(ve){}return!1}on.exports=Ut()?C:typeof document!="undefined"&&typeof document.createEvent=="function"?function(ve,Ce){var _t=document.createEvent("CustomEvent");return Ce?_t.initCustomEvent(ve,Ce.bubbles,Ce.cancelable,Ce.detail):_t.initCustomEvent(ve,!1,!1,void 0),_t}:function(ve,Ce){var _t=document.createEventObject();return _t.type=ve,Ce?(_t.bubbles=Boolean(Ce.bubbles),_t.cancelable=Boolean(Ce.cancelable),_t.detail=Ce.detail):(_t.bubbles=!1,_t.cancelable=!1,_t.detail=void 0),_t}}).call(this,Te("IyRk"))},cbZj:function(on,hr,Te){"use strict";var ar=Te("COF0"),C=Te("vHD6"),Ut=Te("4hEd"),nt=Te("2D6k"),ve=Te("B61z");function Ce(_t){if(!(this instanceof Ce))return new Ce(_t);var L=ar(_t);this.segments=L.segments,this.err=L.err,this.__stack=[]}Ce.from=function(_t){if(typeof _t=="string")return new Ce(_t);if(_t instanceof Ce){var L=new Ce("");return L.err=_t.err,L.segments=_t.segments.map(function(a){return a.slice()}),L.__stack=_t.__stack.map(function(a){return Ut().matrix(a.toArray())}),L}throw new Error("SvgPath.from: invalid param type "+_t)},Ce.prototype.__matrix=function(_t){var L=this,a;!_t.queue.length||this.iterate(function(f,h,l,n){var e,r,i,u;switch(f[0]){case"v":e=_t.calc(0,f[1],!0),r=e[0]===0?["v",e[1]]:["l",e[0],e[1]];break;case"V":e=_t.calc(l,f[1],!1),r=e[0]===_t.calc(l,n,!1)[0]?["V",e[1]]:["L",e[0],e[1]];break;case"h":e=_t.calc(f[1],0,!0),r=e[1]===0?["h",e[0]]:["l",e[0],e[1]];break;case"H":e=_t.calc(f[1],n,!1),r=e[1]===_t.calc(l,n,!1)[1]?["H",e[0]]:["L",e[0],e[1]];break;case"a":case"A":var o=_t.toArray(),d=ve(f[1],f[2],f[3]).transform(o);if(o[0]*o[3]-o[1]*o[2]<0&&(f[5]=f[5]?"0":"1"),e=_t.calc(f[6],f[7],f[0]==="a"),f[0]==="A"&&f[6]===l&&f[7]===n||f[0]==="a"&&f[6]===0&&f[7]===0){r=[f[0]==="a"?"l":"L",e[0],e[1]];break}d.isDegenerate()?r=[f[0]==="a"?"l":"L",e[0],e[1]]:r=[f[0],d.rx,d.ry,d.ax,f[4],f[5],e[0],e[1]];break;case"m":u=h>0,e=_t.calc(f[1],f[2],u),r=["m",e[0],e[1]];break;default:for(i=f[0],r=[i],u=i.toLowerCase()===i,a=1;a<f.length;a+=2)e=_t.calc(f[a],f[a+1],u),r.push(e[0],e[1])}L.segments[h]=r},!0)},Ce.prototype.__evaluateStack=function(){var _t,L;if(!!this.__stack.length){if(this.__stack.length===1){this.__matrix(this.__stack[0]),this.__stack=[];return}for(_t=Ut(),L=this.__stack.length;--L>=0;)_t.matrix(this.__stack[L].toArray());this.__matrix(_t),this.__stack=[]}},Ce.prototype.toString=function(){var _t="",L="",a=!1;this.__evaluateStack();for(var f=0,h=this.segments.length;f<h;f++){var l=this.segments[f],n=l[0];n!==L||n==="m"||n==="M"?(n==="m"&&L==="z"&&(_t+=" "),_t+=n,a=!1):a=!0;for(var e=1;e<l.length;e++){var r=l[e];e===1?a&&r>=0&&(_t+=" "):r>=0&&(_t+=" "),_t+=r}L=n}return _t},Ce.prototype.translate=function(_t,L){return this.__stack.push(Ut().translate(_t,L||0)),this},Ce.prototype.scale=function(_t,L){return this.__stack.push(Ut().scale(_t,!L&&L!==0?_t:L)),this},Ce.prototype.rotate=function(_t,L,a){return this.__stack.push(Ut().rotate(_t,L||0,a||0)),this},Ce.prototype.skewX=function(_t){return this.__stack.push(Ut().skewX(_t)),this},Ce.prototype.skewY=function(_t){return this.__stack.push(Ut().skewY(_t)),this},Ce.prototype.matrix=function(_t){return this.__stack.push(Ut().matrix(_t)),this},Ce.prototype.transform=function(_t){return _t.trim()?(this.__stack.push(C(_t)),this):this},Ce.prototype.round=function(_t){var L=0,a=0,f=0,h=0,l;return _t=_t||0,this.__evaluateStack(),this.segments.forEach(function(n){var e=n[0].toLowerCase()===n[0];switch(n[0]){case"H":case"h":e&&(n[1]+=f),f=n[1]-n[1].toFixed(_t),n[1]=+n[1].toFixed(_t);return;case"V":case"v":e&&(n[1]+=h),h=n[1]-n[1].toFixed(_t),n[1]=+n[1].toFixed(_t);return;case"Z":case"z":f=L,h=a;return;case"M":case"m":e&&(n[1]+=f,n[2]+=h),f=n[1]-n[1].toFixed(_t),h=n[2]-n[2].toFixed(_t),L=f,a=h,n[1]=+n[1].toFixed(_t),n[2]=+n[2].toFixed(_t);return;case"A":case"a":e&&(n[6]+=f,n[7]+=h),f=n[6]-n[6].toFixed(_t),h=n[7]-n[7].toFixed(_t),n[1]=+n[1].toFixed(_t),n[2]=+n[2].toFixed(_t),n[3]=+n[3].toFixed(_t+2),n[6]=+n[6].toFixed(_t),n[7]=+n[7].toFixed(_t);return;default:l=n.length,e&&(n[l-2]+=f,n[l-1]+=h),f=n[l-2]-n[l-2].toFixed(_t),h=n[l-1]-n[l-1].toFixed(_t),n.forEach(function(r,i){!i||(n[i]=+n[i].toFixed(_t))});return}}),this},Ce.prototype.iterate=function(_t,L){var a=this.segments,f={},h=!1,l=0,n=0,e=0,r=0,i,u,o;if(L||this.__evaluateStack(),a.forEach(function(d,b){var T=_t(d,b,l,n);Array.isArray(T)&&(f[b]=T,h=!0);var O=d[0]===d[0].toLowerCase();switch(d[0]){case"m":case"M":l=d[1]+(O?l:0),n=d[2]+(O?n:0),e=l,r=n;return;case"h":case"H":l=d[1]+(O?l:0);return;case"v":case"V":n=d[1]+(O?n:0);return;case"z":case"Z":l=e,n=r;return;default:l=d[d.length-2]+(O?l:0),n=d[d.length-1]+(O?n:0)}}),!h)return this;for(o=[],i=0;i<a.length;i++)if(typeof f[i]!="undefined")for(u=0;u<f[i].length;u++)o.push(f[i][u]);else o.push(a[i]);return this.segments=o,this},Ce.prototype.abs=function(){return this.iterate(function(_t,L,a,f){var h=_t[0],l=h.toUpperCase(),n;if(h!==l)switch(_t[0]=l,h){case"v":_t[1]+=f;return;case"a":_t[6]+=a,_t[7]+=f;return;default:for(n=1;n<_t.length;n++)_t[n]+=n%2?a:f}},!0),this},Ce.prototype.rel=function(){return this.iterate(function(_t,L,a,f){var h=_t[0],l=h.toLowerCase(),n;if(h!==l&&!(L===0&&h==="M"))switch(_t[0]=l,h){case"V":_t[1]-=f;return;case"A":_t[6]-=a,_t[7]-=f;return;default:for(n=1;n<_t.length;n++)_t[n]-=n%2?a:f}},!0),this},Ce.prototype.unarc=function(){return this.iterate(function(_t,L,a,f){var h,l,n,e=[],r=_t[0];return r!=="A"&&r!=="a"?null:(r==="a"?(l=a+_t[6],n=f+_t[7]):(l=_t[6],n=_t[7]),h=nt(a,f,l,n,_t[4],_t[5],_t[1],_t[2],_t[3]),h.length===0?[[_t[0]==="a"?"l":"L",_t[6],_t[7]]]:(h.forEach(function(i){e.push(["C",i[2],i[3],i[4],i[5],i[6],i[7]])}),e))}),this},Ce.prototype.unshort=function(){var _t=this.segments,L,a,f,h,l;return this.iterate(function(n,e,r,i){var u=n[0],o=u.toUpperCase(),d;!e||(o==="T"?(d=u==="t",f=_t[e-1],f[0]==="Q"?(L=f[1]-r,a=f[2]-i):f[0]==="q"?(L=f[1]-f[3],a=f[2]-f[4]):(L=0,a=0),h=-L,l=-a,d||(h+=r,l+=i),_t[e]=[d?"q":"Q",h,l,n[1],n[2]]):o==="S"&&(d=u==="s",f=_t[e-1],f[0]==="C"?(L=f[3]-r,a=f[4]-i):f[0]==="c"?(L=f[3]-f[5],a=f[4]-f[6]):(L=0,a=0),h=-L,l=-a,d||(h+=r,l+=i),_t[e]=[d?"c":"C",h,l,n[1],n[2],n[3],n[4]]))}),this},on.exports=Ce},crp1:function(on,hr,Te){"use strict";Te.d(hr,"b",function(){return ba}),Te.d(hr,"a",function(){return ja});var ar={},C=function(q,G,wt,It,Jt){var xe=ar[G]||(ar[G]=URL.createObjectURL(new Blob([q],{type:"text/javascript"}))),Ne=new Worker(xe);return Ne.onerror=function(Re){return Jt(Re.error,null)},Ne.onmessage=function(Re){return Jt(null,Re.data)},Ne.postMessage(wt,It),Ne},Ut=Uint8Array,nt=Uint16Array,ve=Uint32Array,Ce=new Ut([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),_t=new Ut([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),L=new Ut([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),a=function(q,G){for(var wt=new nt(31),It=0;It<31;++It)wt[It]=G+=1<<q[It-1];for(var Jt=new ve(wt[30]),It=1;It<30;++It)for(var xe=wt[It];xe<wt[It+1];++xe)Jt[xe]=xe-wt[It]<<5|It;return[wt,Jt]},f=a(Ce,2),h=f[0],l=f[1];h[28]=258,l[258]=28;for(var n=a(_t,0),e=n[0],r=n[1],i=new nt(32768),u=0;u<32768;++u){var o=(u&43690)>>>1|(u&21845)<<1;o=(o&52428)>>>2|(o&13107)<<2,o=(o&61680)>>>4|(o&3855)<<4,i[u]=((o&65280)>>>8|(o&255)<<8)>>>1}for(var d=function(q,G,wt){for(var It=q.length,Jt=0,xe=new nt(G);Jt<It;++Jt)++xe[q[Jt]-1];var Ne=new nt(G);for(Jt=0;Jt<G;++Jt)Ne[Jt]=Ne[Jt-1]+xe[Jt-1]<<1;var Re;if(wt){Re=new nt(1<<G);var Ee=15-G;for(Jt=0;Jt<It;++Jt)if(q[Jt])for(var fr=Jt<<4|q[Jt],er=G-q[Jt],Jr=Ne[q[Jt]-1]++<<er,$r=Jr|(1<<er)-1;Jr<=$r;++Jr)Re[i[Jr]>>>Ee]=fr}else for(Re=new nt(It),Jt=0;Jt<It;++Jt)Re[Jt]=i[Ne[q[Jt]-1]++]>>>15-q[Jt];return Re},b=new Ut(288),u=0;u<144;++u)b[u]=8;for(var u=144;u<256;++u)b[u]=9;for(var u=256;u<280;++u)b[u]=7;for(var u=280;u<288;++u)b[u]=8;for(var T=new Ut(32),u=0;u<32;++u)T[u]=5;var O=d(b,9,0),Y=d(b,9,1),et=d(T,5,0),yt=d(T,5,1),Zt=function(q){for(var G=q[0],wt=1;wt<q.length;++wt)q[wt]>G&&(G=q[wt]);return G},fe=function(q,G,wt){var It=G/8>>0;return(q[It]|q[It+1]<<8)>>>(G&7)&wt},Ue=function(q,G){var wt=G/8>>0;return(q[wt]|q[wt+1]<<8|q[wt+2]<<16)>>>(G&7)},sr=function(q){return(q/8>>0)+(q&7&&1)},cr=function(q,G,wt){(G==null||G<0)&&(G=0),(wt==null||wt>q.length)&&(wt=q.length);var It=new(q instanceof nt?nt:q instanceof ve?ve:Ut)(wt-G);return It.set(q.subarray(G,wt)),It},Ke=function(q,G,wt){var It=q.length,Jt=!G||wt,xe=!wt||wt.i;wt||(wt={}),G||(G=new Ut(It*3));var Ne=function(lr){var $t=G.length;if(lr>$t){var ze=new Ut(Math.max($t*2,lr));ze.set(G),G=ze}},Re=wt.f||0,Ee=wt.p||0,fr=wt.b||0,er=wt.l,Jr=wt.d,$r=wt.m,Br=wt.n,_n=It*8;do{if(!er){wt.f=Re=fe(q,Ee,1);var Qr=fe(q,Ee+1,3);if(Ee+=3,Qr)if(Qr==1)er=Y,Jr=yt,$r=9,Br=5;else if(Qr==2){var A=fe(q,Ee,31)+257,p=fe(q,Ee+10,15)+4,v=A+fe(q,Ee+5,31)+1;Ee+=14;for(var y=new Ut(v),_=new Ut(19),w=0;w<p;++w)_[L[w]]=fe(q,Ee+w*3,7);Ee+=p*3;var S=Zt(_),I=(1<<S)-1;if(!xe&&Ee+v*(S+7)>_n)break;for(var E=d(_,S,1),w=0;w<v;){var H=E[fe(q,Ee,I)];Ee+=H&15;var vn=H>>>4;if(vn<16)y[w++]=vn;else{var ut=0,st=0;for(vn==16?(st=3+fe(q,Ee,3),Ee+=2,ut=y[w-1]):vn==17?(st=3+fe(q,Ee,7),Ee+=3):vn==18&&(st=11+fe(q,Ee,127),Ee+=7);st--;)y[w++]=ut}}var bt=y.subarray(0,A),z=y.subarray(A);$r=Zt(bt),Br=Zt(z),er=d(bt,$r,1),Jr=d(z,Br,1)}else throw"invalid block type";else{var vn=sr(Ee)+4,Yn=q[vn-4]|q[vn-3]<<8,kn=vn+Yn;if(kn>It){if(xe)throw"unexpected EOF";break}Jt&&Ne(fr+Yn),G.set(q.subarray(vn,kn),fr),wt.b=fr+=Yn,wt.p=Ee=kn*8;continue}if(Ee>_n)throw"unexpected EOF"}Jt&&Ne(fr+131072);for(var Dt=(1<<$r)-1,Ct=(1<<Br)-1,Bt=$r+Br+18;xe||Ee+Bt<_n;){var ut=er[Ue(q,Ee)&Dt],Tt=ut>>>4;if(Ee+=ut&15,Ee>_n)throw"unexpected EOF";if(!ut)throw"invalid length/literal";if(Tt<256)G[fr++]=Tt;else if(Tt==256){er=null;break}else{var rt=Tt-254;if(Tt>264){var w=Tt-257,de=Ce[w];rt=fe(q,Ee,(1<<de)-1)+h[w],Ee+=de}var ke=Jr[Ue(q,Ee)&Ct],Ge=ke>>>4;if(!ke)throw"invalid distance";Ee+=ke&15;var z=e[Ge];if(Ge>3){var de=_t[Ge];z+=Ue(q,Ee)&(1<<de)-1,Ee+=de}if(Ee>_n)throw"unexpected EOF";Jt&&Ne(fr+131072);for(var nr=fr+rt;fr<nr;fr+=4)G[fr]=G[fr-z],G[fr+1]=G[fr+1-z],G[fr+2]=G[fr+2-z],G[fr+3]=G[fr+3-z];fr=nr}}wt.l=er,wt.p=Ee,wt.b=fr,er&&(Re=1,wt.m=$r,wt.d=Jr,wt.n=Br)}while(!Re);return fr==G.length?G:cr(G,0,fr)},Ie=function(q,G,wt){wt<<=G&7;var It=G/8>>0;q[It]|=wt,q[It+1]|=wt>>>8},gr=function(q,G,wt){wt<<=G&7;var It=G/8>>0;q[It]|=wt,q[It+1]|=wt>>>8,q[It+2]|=wt>>>16},kr=function(q,G){for(var wt=[],It=0;It<q.length;++It)q[It]&&wt.push({s:It,f:q[It]});var Jt=wt.length,xe=wt.slice();if(!Jt)return[new Ut(0),0];if(Jt==1){var Ne=new Ut(wt[0].s+1);return Ne[wt[0].s]=1,[Ne,1]}wt.sort(function(v,y){return v.f-y.f}),wt.push({s:-1,f:25001});var Re=wt[0],Ee=wt[1],fr=0,er=1,Jr=2;for(wt[0]={s:-1,f:Re.f+Ee.f,l:Re,r:Ee};er!=Jt-1;)Re=wt[wt[fr].f<wt[Jr].f?fr++:Jr++],Ee=wt[fr!=er&&wt[fr].f<wt[Jr].f?fr++:Jr++],wt[er++]={s:-1,f:Re.f+Ee.f,l:Re,r:Ee};for(var $r=xe[0].s,It=1;It<Jt;++It)xe[It].s>$r&&($r=xe[It].s);var Br=new nt($r+1),_n=Ar(wt[er-1],Br,0);if(_n>G){var It=0,Qr=0,vn=_n-G,Yn=1<<vn;for(xe.sort(function(y,_){return Br[_.s]-Br[y.s]||y.f-_.f});It<Jt;++It){var kn=xe[It].s;if(Br[kn]>G)Qr+=Yn-(1<<_n-Br[kn]),Br[kn]=G;else break}for(Qr>>>=vn;Qr>0;){var A=xe[It].s;Br[A]<G?Qr-=1<<G-Br[A]++-1:++It}for(;It>=0&&Qr;--It){var p=xe[It].s;Br[p]==G&&(--Br[p],++Qr)}_n=G}return[new Ut(Br),_n]},Ar=function Pt(q,G,wt){return q.s==-1?Math.max(Pt(q.l,G,wt+1),Pt(q.r,G,wt+1)):G[q.s]=wt},lt=function(q){for(var G=q.length;G&&!q[--G];);for(var wt=new nt(++G),It=0,Jt=q[0],xe=1,Ne=function(fr){wt[It++]=fr},Re=1;Re<=G;++Re)if(q[Re]==Jt&&Re!=G)++xe;else{if(!Jt&&xe>2){for(;xe>138;xe-=138)Ne(32754);xe>2&&(Ne(xe>10?xe-11<<5|28690:xe-3<<5|12305),xe=0)}else if(xe>3){for(Ne(Jt),--xe;xe>6;xe-=6)Ne(8304);xe>2&&(Ne(xe-3<<5|8208),xe=0)}for(;xe--;)Ne(Jt);xe=1,Jt=q[Re]}return[wt.subarray(0,It),G]},me=function(q,G){for(var wt=0,It=0;It<G.length;++It)wt+=q[It]*G[It];return wt},Z=function(q,G,wt){var It=wt.length,Jt=sr(G+2);q[Jt]=It&255,q[Jt+1]=It>>>8,q[Jt+2]=q[Jt]^255,q[Jt+3]=q[Jt+1]^255;for(var xe=0;xe<It;++xe)q[Jt+xe+4]=wt[xe];return(Jt+4+It)*8},ct=function(q,G,wt,It,Jt,xe,Ne,Re,Ee,fr,er){Ie(G,er++,wt),++Jt[256];for(var Jr=kr(Jt,15),$r=Jr[0],Br=Jr[1],_n=kr(xe,15),Qr=_n[0],vn=_n[1],Yn=lt($r),kn=Yn[0],A=Yn[1],p=lt(Qr),v=p[0],y=p[1],_=new nt(19),w=0;w<kn.length;++w)_[kn[w]&31]++;for(var w=0;w<v.length;++w)_[v[w]&31]++;for(var S=kr(_,7),I=S[0],E=S[1],H=19;H>4&&!I[L[H-1]];--H);var ut=fr+5<<3,st=me(Jt,b)+me(xe,T)+Ne,bt=me(Jt,$r)+me(xe,Qr)+Ne+14+3*H+me(_,I)+(2*_[16]+3*_[17]+7*_[18]);if(ut<=st&&ut<=bt)return Z(G,er,q.subarray(Ee,Ee+fr));var z,Dt,Ct,Bt;if(Ie(G,er,1+(bt<st)),er+=2,bt<st){z=d($r,Br,0),Dt=$r,Ct=d(Qr,vn,0),Bt=Qr;var Tt=d(I,E,0);Ie(G,er,A-257),Ie(G,er+5,y-1),Ie(G,er+10,H-4),er+=14;for(var w=0;w<H;++w)Ie(G,er+3*w,I[L[w]]);er+=3*H;for(var rt=[kn,v],de=0;de<2;++de)for(var ke=rt[de],w=0;w<ke.length;++w){var Ge=ke[w]&31;Ie(G,er,Tt[Ge]),er+=I[Ge],Ge>15&&(Ie(G,er,ke[w]>>>5&127),er+=ke[w]>>>12)}}else z=O,Dt=b,Ct=et,Bt=T;for(var w=0;w<Re;++w)if(It[w]>255){var Ge=It[w]>>>18&31;gr(G,er,z[Ge+257]),er+=Dt[Ge+257],Ge>7&&(Ie(G,er,It[w]>>>23&31),er+=Ce[Ge]);var nr=It[w]&31;gr(G,er,Ct[nr]),er+=Bt[nr],nr>3&&(gr(G,er,It[w]>>>5&8191),er+=_t[nr])}else gr(G,er,z[It[w]]),er+=Dt[It[w]];return gr(G,er,z[256]),er+Dt[256]},Ot=new ve([65540,131080,131088,131104,262176,1048704,1048832,2114560,2117632]),U=new Ut(0),tt=function(q,G,wt,It,Jt,xe){var Ne=q.length,Re=new Ut(It+Ne+5*(1+Math.floor(Ne/7e3))+Jt),Ee=Re.subarray(It,Re.length-Jt),fr=0;if(!G||Ne<8)for(var er=0;er<=Ne;er+=65535){var Jr=er+65535;Jr<Ne?fr=Z(Ee,fr,q.subarray(er,Jr)):(Ee[er]=xe,fr=Z(Ee,fr,q.subarray(er,Ne)))}else{for(var $r=Ot[G-1],Br=$r>>>13,_n=$r&8191,Qr=(1<<wt)-1,vn=new nt(32768),Yn=new nt(Qr+1),kn=Math.ceil(wt/3),A=2*kn,p=function(We){return(q[We]^q[We+1]<<kn^q[We+2]<<A)&Qr},v=new ve(25e3),y=new nt(288),_=new nt(32),w=0,S=0,er=0,I=0,E=0,H=0;er<Ne;++er){var ut=p(er),st=er&32767,bt=Yn[ut];if(vn[st]=bt,Yn[ut]=st,E<=er){var z=Ne-er;if((w>7e3||I>24576)&&z>423){fr=ct(q,Ee,0,v,y,_,S,I,H,er-H,fr),I=w=S=0,H=er;for(var Dt=0;Dt<286;++Dt)y[Dt]=0;for(var Dt=0;Dt<30;++Dt)_[Dt]=0}var Ct=2,Bt=0,Tt=_n,rt=st-bt&32767;if(z>2&&ut==p(er-rt))for(var de=Math.min(Br,z)-1,ke=Math.min(32767,er),Ge=Math.min(258,z);rt<=ke&&--Tt&&st!=bt;){if(q[er+Ct]==q[er+Ct-rt]){for(var nr=0;nr<Ge&&q[er+nr]==q[er+nr-rt];++nr);if(nr>Ct){if(Ct=nr,Bt=rt,nr>de)break;for(var Be=Math.min(rt,nr-2),lr=0,Dt=0;Dt<Be;++Dt){var $t=er-rt+Dt+32768&32767,ze=vn[$t],Gt=$t-ze+32768&32767;Gt>lr&&(lr=Gt,bt=$t)}}}st=bt,bt=vn[st],rt+=st-bt+32768&32767}if(Bt){v[I++]=268435456|l[Ct]<<18|r[Bt];var Lt=l[Ct]&31,Kt=r[Bt]&31;S+=Ce[Lt]+_t[Kt],++y[257+Lt],++_[Kt],E=er+Ct,++w}else v[I++]=q[er],++y[q[er]]}}fr=ct(q,Ee,xe,v,y,_,S,I,H,er-H,fr),xe||(fr=Z(Ee,fr,U))}return cr(Re,0,It+sr(fr)+Jt)},mt=function(){for(var Pt=new ve(256),q=0;q<256;++q){for(var G=q,wt=9;--wt;)G=(G&1&&3988292384)^G>>>1;Pt[q]=G}return Pt}(),pt=function(){var q=4294967295;return{p:function(wt){for(var It=q,Jt=0;Jt<wt.length;++Jt)It=mt[It&255^wt[Jt]]^It>>>8;q=It},d:function(){return q^4294967295}}},Yt=function(){var q=1,G=0;return{p:function(It){for(var Jt=q,xe=G,Ne=It.length,Re=0;Re!=Ne;){for(var Ee=Math.min(Re+5552,Ne);Re<Ee;++Re)Jt+=It[Re],xe+=Jt;Jt%=65521,xe%=65521}q=Jt,G=xe},d:function(){return(q>>>8<<16|(G&255)<<8|G>>>8)+((q&255)<<23)*2}}},St=function(q,G,wt,It,Jt){return tt(q,G.level==null?6:G.level,G.mem==null?Math.ceil(Math.max(8,Math.min(13,Math.log(q.length)))*1.5):12+G.mem,wt,It,!Jt)},Et=function(q,G){var wt={};for(var It in q)wt[It]=q[It];for(var It in G)wt[It]=G[It];return wt},re=function(q,G,wt){for(var It=q(),Jt=q.toString(),xe=Jt.slice(Jt.indexOf("[")+1,Jt.lastIndexOf("]")).replace(/ /g,"").split(","),Ne=0;Ne<It.length;++Ne){var Re=It[Ne],Ee=xe[Ne];if(typeof Re=="function"){G+=";"+Ee+"=";var fr=Re.toString();if(Re.prototype)if(fr.indexOf("[native code]")!=-1){var er=fr.indexOf(" ",8)+1;G+=fr.slice(er,fr.indexOf("(",er))}else{G+=fr;for(var Jr in Re.prototype)G+=";"+Ee+".prototype."+Jr+"="+Re.prototype[Jr].toString()}else G+=fr}else wt[Ee]=Re}return[G,wt]},Vt=[],Ht=function(q){var G=[];for(var wt in q)(q[wt]instanceof Ut||q[wt]instanceof nt||q[wt]instanceof ve)&&G.push((q[wt]=new q[wt].constructor(q[wt])).buffer);return G},Nt=function(q,G,wt,It){var Jt;if(!Vt[wt]){for(var xe="",Ne={},Re=q.length-1,Ee=0;Ee<Re;++Ee)Jt=re(q[Ee],xe,Ne),xe=Jt[0],Ne=Jt[1];Vt[wt]=re(q[Re],xe,Ne)}var fr=Et({},Vt[wt][1]);return C(Vt[wt][0]+";onmessage=function(e){for(var k in e.data)self[k]=e.data[k];onmessage="+G.toString()+"}",wt,fr,Ht(fr),It)},te=function(){return[Ut,nt,ve,Ce,_t,L,h,e,Y,yt,i,d,Zt,fe,Ue,sr,cr,Ke,na,it,vt]},oe=function(){return[Ut,nt,ve,Ce,_t,L,l,r,O,b,et,T,i,Ot,U,d,Ie,gr,kr,Ar,lt,me,Z,ct,sr,cr,tt,St,Ni,it]},Pe=function(){return[_r,bn,xr,pt,mt]},K=function(){return[Kr,ln]},F=function(){return[Un,xr,Yt]},D=function(){return[$n]},it=function(q){return postMessage(q,[q.buffer])},vt=function(q){return q&&q.size&&new Ut(q.size)},ee=function(q,G,wt,It,Jt,xe){var Ne=Nt(wt,It,Jt,function(Re,Ee){Ne.terminate(),xe(Re,Ee)});return G.consume||(q=new Ut(q)),Ne.postMessage([q,G],[q.buffer]),function(){Ne.terminate()}},he=function(q){return q.ondata=function(G,wt){return postMessage([G,wt],[G.buffer])},function(G){return q.push(G.data[0],G.data[1])}},yr=function(q,G,wt,It,Jt){var xe,Ne=Nt(q,It,Jt,function(Re,Ee){Re?(Ne.terminate(),G.ondata.call(G,Re)):(Ee[1]&&Ne.terminate(),G.ondata.call(G,Re,Ee[0],Ee[1]))});Ne.postMessage(wt),G.push=function(Re,Ee){if(xe)throw"stream finished";if(!G.ondata)throw"no stream handler";Ne.postMessage([Re,xe=Ee],[Re.buffer])},G.terminate=function(){Ne.terminate()}},Er=function(q,G){return q[G]|q[G+1]<<8},mr=function(q,G){return(q[G]|q[G+1]<<8|q[G+2]<<16)+(q[G+3]<<23)*2},xr=function(q,G,wt){for(;wt;++G)q[G]=wt,wt>>>=8},_r=function(q,G){var wt=G.filename;if(q[0]=31,q[1]=139,q[2]=8,q[8]=G.level<2?4:G.level==9?2:0,q[9]=3,G.mtime!=0&&xr(q,4,Math.floor(new Date(G.mtime||Date.now())/1e3)),wt){q[3]=8;for(var It=0;It<=wt.length;++It)q[It+10]=wt.charCodeAt(It)}},Kr=function(q){if(q[0]!=31||q[1]!=139||q[2]!=8)throw"invalid gzip data";var G=q[3],wt=10;G&4&&(wt+=q[10]|(q[11]<<8)+2);for(var It=(G>>3&1)+(G>>4&1);It>0;It-=!q[wt++]);return wt+(G&2)},ln=function(q){var G=q.length;return(q[G-4]|q[G-3]<<8|q[G-2]<<16)+2*(q[G-1]<<23)},bn=function(q){return 10+(q.filename&&q.filename.length+1||0)},Un=function(q,G){var wt=G.level,It=wt==0?0:wt<6?1:wt==9?3:2;q[0]=120,q[1]=It<<6|(It?32-2*It:1)},$n=function(q){if((q[0]&15)!=8||q[0]>>>4>7||(q[0]<<8|q[1])%31)throw"invalid zlib data";if(q[1]&32)throw"invalid zlib data: preset dictionaries not supported"};function Sn(Pt,q){return!q&&typeof Pt=="function"&&(q=Pt,Pt={}),this.ondata=q,Pt}var Gn=function(){function Pt(q,G){!G&&typeof q=="function"&&(G=q,q={}),this.ondata=G,this.o=q||{}}return Pt.prototype.p=function(q,G){this.ondata(St(q,this.o,0,0,!G),G)},Pt.prototype.push=function(q,G){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";this.d=G,this.p(q,G||!1)},Pt}(),di=function(){function Pt(q,G){yr([oe,function(){return[he,Gn]}],this,Sn.call(this,q,G),function(wt){var It=new Gn(wt.data);onmessage=he(It)},6)}return Pt}();function Si(Pt,q,G){if(G||(G=q,q={}),typeof G!="function")throw"no callback";return ee(Pt,q,[oe],function(wt){return it(Ni(wt.data[0],wt.data[1]))},0,G)}function Ni(Pt,q){return q===void 0&&(q={}),St(Pt,q,0,0)}var ei=function(){function Pt(q){this.s={},this.p=new Ut(0),this.ondata=q}return Pt.prototype.e=function(q){if(this.d)throw"stream finished";if(!this.ondata)throw"no stream handler";var G=this.p.length,wt=new Ut(G+q.length);wt.set(this.p),wt.set(q,G),this.p=wt},Pt.prototype.c=function(q){this.d=this.s.i=q||!1;var G=this.s.b,wt=Ke(this.p,this.o,this.s);this.ondata(cr(wt,G,this.s.b),this.d),this.o=cr(wt,this.s.b-32768),this.s.b=this.o.length,this.p=cr(this.p,this.s.p/8>>0),this.s.p&=7},Pt.prototype.push=function(q,G){this.e(q),this.c(G)},Pt}(),Ia=function(){function Pt(q){this.ondata=q,yr([te,function(){return[he,ei]}],this,0,function(){var G=new ei;onmessage=he(G)},7)}return Pt}();function Nr(Pt,q,G){if(G||(G=q,q={}),typeof G!="function")throw"no callback";return ee(Pt,q,[te],function(wt){return it(na(wt.data[0],vt(wt.data[1])))},1,G)}function na(Pt,q){return Ke(Pt,q)}var Ds=function(){function Pt(q,G){this.c=pt(),this.l=0,this.v=1,Gn.call(this,q,G)}return Pt.prototype.push=function(q,G){Gn.prototype.push.call(this,q,G)},Pt.prototype.p=function(q,G){this.c.p(q),this.l+=q.length;var wt=St(q,this.o,this.v&&bn(this.o),G&&8,!G);this.v&&(_r(wt,this.o),this.v=0),G&&(xr(wt,wt.length-8,this.c.d()),xr(wt,wt.length-4,this.l)),this.ondata(wt,G)},Pt}(),Qa=function(){function Pt(q,G){yr([oe,Pe,function(){return[he,Gn,Ds]}],this,Sn.call(this,q,G),function(wt){var It=new Ds(wt.data);onmessage=he(It)},8)}return Pt}();function Rs(Pt,q,G){if(G||(G=q,q={}),typeof G!="function")throw"no callback";return ee(Pt,q,[oe,Pe,function(){return[vs]}],function(wt){return it(vs(wt.data[0],wt.data[1]))},2,G)}function vs(Pt,q){q===void 0&&(q={});var G=pt(),wt=Pt.length;G.p(Pt);var It=St(Pt,q,bn(q),8),Jt=It.length;return _r(It,q),xr(It,Jt-8,G.d()),xr(It,Jt-4,wt),It}var ia=function(){function Pt(q){this.v=1,ei.call(this,q)}return Pt.prototype.push=function(q,G){if(ei.prototype.e.call(this,q),this.v){var wt=Kr(this.p);if(wt>=this.p.length&&!G)return;this.p=this.p.subarray(wt),this.v=0}if(G){if(this.p.length<8)throw"invalid gzip stream";this.p=this.p.subarray(0,-8)}ei.prototype.c.call(this,G)},Pt}(),ms=function(){function Pt(q){this.ondata=q,yr([te,K,function(){return[he,ei,ia]}],this,0,function(){var G=new ia;onmessage=he(G)},9)}return Pt}();function Bs(Pt,q,G){if(G||(G=q,q={}),typeof G!="function")throw"no callback";return ee(Pt,q,[te,K,function(){return[Da]}],function(wt){return it(Da(wt.data[0]))},3,G)}function Da(Pt,q){return Ke(Pt.subarray(Kr(Pt),-8),q||new Ut(ln(Pt)))}var Ra=function(){function Pt(q,G){this.c=Yt(),this.v=1,Gn.call(this,q,G)}return Pt.prototype.push=function(q,G){Gn.prototype.push.call(this,q,G)},Pt.prototype.p=function(q,G){this.c.p(q);var wt=St(q,this.o,this.v&&2,G&&4,!G);this.v&&(Un(wt,this.o),this.v=0),G&&xr(wt,wt.length-4,this.c.d()),this.ondata(wt,G)},Pt}(),js=function(){function Pt(q,G){yr([oe,F,function(){return[he,Gn,Ra]}],this,Sn.call(this,q,G),function(wt){var It=new Ra(wt.data);onmessage=he(It)},10)}return Pt}();function Ba(Pt,q,G){if(G||(G=q,q={}),typeof G!="function")throw"no callback";return ee(Pt,q,[oe,F,function(){return[ba]}],function(wt){return it(ba(wt.data[0],wt.data[1]))},4,G)}function ba(Pt,q){q===void 0&&(q={});var G=Yt();G.p(Pt);var wt=St(Pt,q,2,4);return Un(wt,q),xr(wt,wt.length-4,G.d()),wt}var Ki=function(){function Pt(q){this.v=1,ei.call(this,q)}return Pt.prototype.push=function(q,G){if(ei.prototype.e.call(this,q),this.v){if(this.p.length<2&&!G)return;this.p=this.p.subarray(2),this.v=0}if(G){if(this.p.length<4)throw"invalid zlib stream";this.p=this.p.subarray(0,-4)}ei.prototype.c.call(this,G)},Pt}(),Us=function(){function Pt(q){this.ondata=q,yr([te,D,function(){return[he,ei,Ki]}],this,0,function(){var G=new Ki;onmessage=he(G)},11)}return Pt}();function lo(Pt,q,G){if(G||(G=q,q={}),typeof G!="function")throw"no callback";return ee(Pt,q,[te,D,function(){return[ja]}],function(wt){return it(ja(wt.data[0],vt(wt.data[1])))},5,G)}function ja(Pt,q){return Ke(($n(Pt),Pt.subarray(2,-4)),q)}var wa=function(){function Pt(q){this.G=ia,this.I=ei,this.Z=Ki,this.ondata=q}return Pt.prototype.push=function(q,G){if(!this.ondata)throw"no stream handler";if(this.s)this.s.push(q,G);else{if(this.p&&this.p.length){var wt=new Ut(this.p.length+q.length);wt.set(this.p),wt.set(q,this.p.length)}else this.p=q;if(this.p.length>2){var It=this,Jt=function(){It.ondata.apply(It,arguments)};this.s=this.p[0]==31&&this.p[1]==139&&this.p[2]==8?new this.G(Jt):(this.p[0]&15)!=8||this.p[0]>>4>7||(this.p[0]<<8|this.p[1])%31?new this.I(Jt):new this.Z(Jt),this.s.push(this.p,G),this.p=null}}},Pt}(),zs=function(){function Pt(q){this.G=ms,this.I=Ia,this.Z=Us,this.ondata=q}return Pt.prototype.push=function(q,G){wa.prototype.push.call(this,q,G)},Pt}();function ts(Pt,q,G){if(G||(G=q,q={}),typeof G!="function")throw"no callback";return Pt[0]==31&&Pt[1]==139&&Pt[2]==8?Bs(Pt,q,G):(Pt[0]&15)!=8||Pt[0]>>4>7||(Pt[0]<<8|Pt[1])%31?Nr(Pt,q,G):lo(Pt,q,G)}function W(Pt,q){return Pt[0]==31&&Pt[1]==139&&Pt[2]==8?Da(Pt,q):(Pt[0]&15)!=8||Pt[0]>>4>7||(Pt[0]<<8|Pt[1])%31?na(Pt,q):ja(Pt,q)}var N=function Pt(q,G,wt,It){for(var Jt in q){var xe=q[Jt],Ne=G+Jt;xe instanceof Ut?wt[Ne]=[xe,It]:Array.isArray(xe)?wt[Ne]=[xe[0],Et(It,xe[1])]:Pt(xe,Ne+"/",wt,It)}};function x(Pt,q){var G=Pt.length;if(!q&&typeof TextEncoder!="undefined")return new TextEncoder().encode(Pt);for(var wt=new Ut(Pt.length+(Pt.length>>>1)),It=0,Jt=function(fr){wt[It++]=fr},xe=0;xe<G;++xe){if(It+5>wt.length){var Ne=new Ut(It+8+(G-xe<<1));Ne.set(wt),wt=Ne}var Re=Pt.charCodeAt(xe);Re<128||q?Jt(Re):Re<2048?(Jt(192|Re>>>6),Jt(128|Re&63)):Re>55295&&Re<57344?(Re=65536+(Re&1023<<10)|Pt.charCodeAt(++xe)&1023,Jt(240|Re>>>18),Jt(128|Re>>>12&63),Jt(128|Re>>>6&63),Jt(128|Re&63)):(Jt(224|Re>>>12),Jt(128|Re>>>6&63),Jt(128|Re&63))}return cr(wt,0,It)}function j(Pt,q){var G="";if(!q&&typeof TextDecoder!="undefined")return new TextDecoder().decode(Pt);for(var wt=0;wt<Pt.length;){var It=Pt[wt++];It<128||q?G+=String.fromCharCode(It):It<224?G+=String.fromCharCode((It&31)<<6|Pt[wt++]&63):It<240?G+=String.fromCharCode((It&15)<<12|(Pt[wt++]&63)<<6|Pt[wt++]&63):(It=((It&15)<<18|(Pt[wt++]&63)<<12|(Pt[wt++]&63)<<6|Pt[wt++]&63)-65536,G+=String.fromCharCode(55296|It>>10,56320|It&1023))}return G}var V=function(q,G){return G+30+Er(q,G+26)+Er(q,G+28)},ht=function(q,G,wt){var It=Er(q,G+28),Jt=j(q.subarray(G+46,G+46+It),!(Er(q,G+8)&2048)),xe=G+46+It,Ne=wt?kt(q,xe):[mr(q,G+20),mr(q,G+24),mr(q,G+42)],Re=Ne[0],Ee=Ne[1],fr=Ne[2];return[Er(q,G+10),Re,Ee,Jt,xe+Er(q,G+30)+Er(q,G+32),fr]},kt=function(q,G){for(;Er(q,G)!=1;G+=4+Er(q,G+2));return[mr(q,G+12),mr(q,G+4),mr(q,G+20)]},Mt=function(q,G,wt,It,Jt,xe,Ne,Re,Ee,fr){var er=xe.length,Jr=It.length;xr(q,G,Ee!=null?33639248:67324752),G+=4,Ee!=null&&(q[G]=20,G+=2),q[G]=20,G+=2,q[G++]=fr==8&&(Re.level==1?6:Re.level<6?4:Re.level==9?2:0),q[G++]=Ne&&8,q[G]=fr,G+=2;var $r=new Date(Re.mtime||Date.now()),Br=$r.getFullYear()-1980;if(Br<0||Br>119)throw"date not in range 1980-2099";xr(q,G,(Br<<24)*2|$r.getMonth()+1<<21|$r.getDate()<<16|$r.getHours()<<11|$r.getMinutes()<<5|$r.getSeconds()>>>1),G+=4,xr(q,G,wt),xr(q,G+4,Jr),xr(q,G+8,Jt),xr(q,G+12,er),G+=16,Ee!=null&&(xr(q,G+=10,Ee),G+=4),q.set(xe,G),G+=er,Ee==null&&q.set(It,G)},ae=function(q,G,wt,It,Jt){xr(q,G,101010256),xr(q,G+8,wt),xr(q,G+10,wt),xr(q,G+12,It),xr(q,G+16,Jt)};function we(Pt,q,G){if(G||(G=q,q={}),typeof G!="function")throw"no callback";var wt={};N(Pt,"",wt,q);var It=Object.keys(wt),Jt=It.length,xe=0,Ne=0,Re=Jt,Ee=new Array(Jt),fr=[],er=function(){for(var Qr=0;Qr<fr.length;++Qr)fr[Qr]()},Jr=function(){var Qr=new Ut(Ne+22),vn=xe,Yn=Ne-xe;Ne=0;for(var kn=0;kn<Re;++kn){var A=Ee[kn];try{Mt(Qr,Ne,A.c,A.d,A.m,A.n,A.u,A.p,null,A.t),Mt(Qr,xe,A.c,A.d,A.m,A.n,A.u,A.p,Ne,A.t),xe+=46+A.n.length,Ne+=30+A.n.length+A.d.length}catch(p){return G(p,null)}}ae(Qr,xe,Ee.length,Yn,vn),G(null,Qr)};Jt||Jr();for(var $r=function(Qr){var vn=It[Qr],Yn=wt[vn],kn=Yn[0],A=Yn[1],p=pt(),v=kn.length;p.p(kn);var y=x(vn),_=y.length,w=A.level==0?0:8,S=function(E,H){if(E)er(),G(E,null);else{var ut=H.length;Ee[Qr]={t:w,d:H,m:v,c:p.d(),u:vn.length!=ut,n:y,p:A},xe+=30+_+ut,Ne+=76+2*_+ut,--Jt||Jr()}};if(y.length>65535&&S("filename too long",null),!w)S(null,kn);else if(v<16e4)try{S(null,Ni(kn,A))}catch(I){S(I,null)}else fr.push(Si(kn,A,S))},Br=0;Br<Re;++Br)$r(Br);return er}function qt(Pt,q){q===void 0&&(q={});var G={},wt=[];N(Pt,"",G,q);var It=0,Jt=0;for(var xe in G){var Ne=G[xe],Re=Ne[0],Ee=Ne[1],fr=Ee.level==0?0:8,er=x(xe),Jr=er.length;if(er.length>65535)throw"filename too long";var $r=fr?Ni(Re,Ee):Re,Br=$r.length,_n=pt();_n.p(Re),wt.push({t:fr,d:$r,m:Re.length,c:_n.d(),u:xe.length!=Jr,n:er,o:It,p:Ee}),It+=30+Jr+Br,Jt+=76+2*Jr+Br}for(var Qr=new Ut(Jt+22),vn=It,Yn=Jt-It,kn=0;kn<wt.length;++kn){var A=wt[kn];Mt(Qr,A.o,A.c,A.d,A.m,A.n,A.u,A.p,null,A.t),Mt(Qr,It,A.c,A.d,A.m,A.n,A.u,A.p,A.o,A.t),It+=46+A.n.length}return ae(Qr,It,wt.length,Yn,vn),Qr}function Le(Pt,q){if(typeof q!="function")throw"no callback";for(var G=[],wt=function(){for(var $r=0;$r<G.length;++$r)G[$r]()},It={},Jt=Pt.length-22;mr(Pt,Jt)!=101010256;--Jt)if(!Jt||Pt.length-Jt>65558){q("invalid zip file",null);return}var xe=Er(Pt,Jt+8);xe||q(null,{});var Ne=xe,Re=mr(Pt,Jt+16),Ee=Re==4294967295;if(Ee){if(Jt=mr(Pt,Jt-12),mr(Pt,Jt)!=101075792)throw"invalid zip file";Ne=xe=mr(Pt,Jt+32),Re=mr(Pt,Jt+48)}for(var fr=function($r){var Br=ht(Pt,Re,Ee),_n=Br[0],Qr=Br[1],vn=Br[2],Yn=Br[3],kn=Br[4],A=Br[5],p=V(Pt,A);Re=kn;var v=function(w,S){w?(wt(),q(w,null)):(It[Yn]=S,--xe||q(null,It))};if(!_n)v(null,cr(Pt,p,p+Qr));else if(_n==8){var y=Pt.subarray(p,p+Qr);if(Qr<32e4)try{v(null,na(y,new Ut(vn)))}catch(_){v(_,null)}else G.push(Nr(y,{size:vn},v))}else v("unknown compression type "+_n,null)},er=0;er<Ne;++er)fr(er);return wt}function Rr(Pt){for(var q={},G=Pt.length-22;mr(Pt,G)!=101010256;--G)if(!G||Pt.length-G>65558)throw"invalid zip file";var wt=Er(Pt,G+8);if(!wt)return{};var It=mr(Pt,G+16),Jt=It==4294967295;if(Jt){if(G=mr(Pt,G-12),mr(Pt,G)!=101075792)throw"invalid zip file";wt=mr(Pt,G+32),It=mr(Pt,G+48)}for(var xe=0;xe<wt;++xe){var Ne=ht(Pt,It,Jt),Re=Ne[0],Ee=Ne[1],fr=Ne[2],er=Ne[3],Jr=Ne[4],$r=Ne[5],Br=V(Pt,$r);if(It=Jr,!Re)q[er]=cr(Pt,Br,Br+Ee);else if(Re==8)q[er]=na(Pt.subarray(Br,Br+Ee),new Ut(fr));else throw"unknown compression type "+Re}return q}},df8c:function(on,hr,Te){},epSk:function(on,hr,Te){(function(ar){/*! Fabric.js Copyright 2008-2015, Printio (Juriy Zaytsev, Maxim Chernyak) */var C=C||{version:"4.6.0"};if(hr.fabric=C,typeof document!="undefined"&&typeof window!="undefined")document instanceof(typeof HTMLDocument!="undefined"?HTMLDocument:Document)?C.document=document:C.document=document.implementation.createHTMLDocument(""),C.window=window;else{var Ut=Te(8),nt=new Ut.JSDOM(decodeURIComponent("%3C!DOCTYPE%20html%3E%3Chtml%3E%3Chead%3E%3C%2Fhead%3E%3Cbody%3E%3C%2Fbody%3E%3C%2Fhtml%3E"),{features:{FetchExternalResources:["img"]},resources:"usable"}).window;C.document=nt.document,C.jsdomImplForWrapper=Te(9).implForWrapper,C.nodeCanvas=Te(10).Canvas,C.window=nt,DOMParser=C.window.DOMParser}C.isTouchSupported="ontouchstart"in C.window||"ontouchstart"in C.document||C.window&&C.window.navigator&&C.window.navigator.maxTouchPoints>0,C.isLikelyNode=typeof ar!="undefined"&&typeof window=="undefined",C.SHARED_ATTRIBUTES=["display","transform","fill","fill-opacity","fill-rule","opacity","stroke","stroke-dasharray","stroke-linecap","stroke-dashoffset","stroke-linejoin","stroke-miterlimit","stroke-opacity","stroke-width","id","paint-order","vector-effect","instantiated_by_use","clip-path"],C.DPI=96,C.reNum="(?:[-+]?(?:\\d+|\\d*\\.\\d+)(?:[eE][-+]?\\d+)?)",C.commaWsp="(?:\\s+,?\\s*|,\\s*)",C.rePathCommand=/([-+]?((\d+\.\d+)|((\d+)|(\.\d+)))(?:[eE][-+]?\d+)?)/ig,C.reNonWord=/[ \n\.,;!\?\-]/,C.fontPaths={},C.iMatrix=[1,0,0,1,0,0],C.svgNS="http://www.w3.org/2000/svg",C.perfLimitSizeTotal=2097152,C.maxCacheSideLimit=4096,C.minCacheSideLimit=256,C.charWidthsCache={},C.textureSize=2048,C.disableStyleCopyPaste=!1,C.enableGLFiltering=!0,C.devicePixelRatio=C.window.devicePixelRatio||C.window.webkitDevicePixelRatio||C.window.mozDevicePixelRatio||1,C.browserShadowBlurConstant=1,C.arcToSegmentsCache={},C.boundsOfCurveCache={},C.cachesBoundsOfCurve=!0,C.forceGLPutImageData=!1,C.initFilterBackend=function(){if(C.enableGLFiltering&&C.isWebglSupported&&C.isWebglSupported(C.textureSize))return console.log("max texture size: "+C.maxTextureSize),new C.WebglFilterBackend({tileSize:C.textureSize});if(C.Canvas2dFilterBackend)return new C.Canvas2dFilterBackend},typeof document!="undefined"&&typeof window!="undefined"&&(window.fabric=C),function(){function L(e,r){if(!!this.__eventListeners[e]){var i=this.__eventListeners[e];r?i[i.indexOf(r)]=!1:C.util.array.fill(i,!1)}}function a(e,r){if(this.__eventListeners||(this.__eventListeners={}),arguments.length===1)for(var i in e)this.on(i,e[i]);else this.__eventListeners[e]||(this.__eventListeners[e]=[]),this.__eventListeners[e].push(r);return this}function f(e,r){var i=function(){r.apply(this,arguments),this.off(e,i)}.bind(this);this.on(e,i)}function h(e,r){if(arguments.length===1)for(var i in e)f.call(this,i,e[i]);else f.call(this,e,r);return this}function l(e,r){if(!this.__eventListeners)return this;if(arguments.length===0)for(e in this.__eventListeners)L.call(this,e);else if(arguments.length===1&&typeof arguments[0]=="object")for(var i in e)L.call(this,i,e[i]);else L.call(this,e,r);return this}function n(e,r){if(!this.__eventListeners)return this;var i=this.__eventListeners[e];if(!i)return this;for(var u=0,o=i.length;u<o;u++)i[u]&&i[u].call(this,r||{});return this.__eventListeners[e]=i.filter(function(d){return d!==!1}),this}C.Observable={fire:n,on:a,once:h,off:l}}(),C.Collection={_objects:[],add:function(){if(this._objects.push.apply(this._objects,arguments),this._onObjectAdded)for(var a=0,f=arguments.length;a<f;a++)this._onObjectAdded(arguments[a]);return this.renderOnAddRemove&&this.requestRenderAll(),this},insertAt:function(a,f,h){var l=this._objects;return h?l[f]=a:l.splice(f,0,a),this._onObjectAdded&&this._onObjectAdded(a),this.renderOnAddRemove&&this.requestRenderAll(),this},remove:function(){for(var a=this._objects,f,h=!1,l=0,n=arguments.length;l<n;l++)f=a.indexOf(arguments[l]),f!==-1&&(h=!0,a.splice(f,1),this._onObjectRemoved&&this._onObjectRemoved(arguments[l]));return this.renderOnAddRemove&&h&&this.requestRenderAll(),this},forEachObject:function(a,f){for(var h=this.getObjects(),l=0,n=h.length;l<n;l++)a.call(f,h[l],l,h);return this},getObjects:function(a){return typeof a=="undefined"?this._objects.concat():this._objects.filter(function(f){return f.type===a})},item:function(a){return this._objects[a]},isEmpty:function(){return this._objects.length===0},size:function(){return this._objects.length},contains:function(a,f){return this._objects.indexOf(a)>-1?!0:f?this._objects.some(function(h){return typeof h.contains=="function"&&h.contains(a,!0)}):!1},complexity:function(){return this._objects.reduce(function(a,f){return a+=f.complexity?f.complexity():0,a},0)}},C.CommonMethods={_setOptions:function(a){for(var f in a)this.set(f,a[f])},_initGradient:function(a,f){a&&a.colorStops&&!(a instanceof C.Gradient)&&this.set(f,new C.Gradient(a))},_initPattern:function(a,f,h){a&&a.source&&!(a instanceof C.Pattern)?this.set(f,new C.Pattern(a,h)):h&&h()},_setObject:function(a){for(var f in a)this._set(f,a[f])},set:function(a,f){return typeof a=="object"?this._setObject(a):this._set(a,f),this},_set:function(a,f){this[a]=f},toggle:function(a){var f=this.get(a);return typeof f=="boolean"&&this.set(a,!f),this},get:function(a){return this[a]}},function(L){var a=Math.sqrt,f=Math.atan2,h=Math.pow,l=Math.PI/180,n=Math.PI/2;C.util={cos:function(r){if(r===0)return 1;r<0&&(r=-r);var i=r/n;switch(i){case 1:case 3:return 0;case 2:return-1}return Math.cos(r)},sin:function(r){if(r===0)return 0;var i=r/n,u=1;switch(r<0&&(u=-1),i){case 1:return u;case 2:return 0;case 3:return-u}return Math.sin(r)},removeFromArray:function(r,i){var u=r.indexOf(i);return u!==-1&&r.splice(u,1),r},getRandomInt:function(r,i){return Math.floor(Math.random()*(i-r+1))+r},degreesToRadians:function(r){return r*l},radiansToDegrees:function(r){return r/l},rotatePoint:function(r,i,u){var o=new C.Point(r.x-i.x,r.y-i.y),d=C.util.rotateVector(o,u);return new C.Point(d.x,d.y).addEquals(i)},rotateVector:function(r,i){var u=C.util.sin(i),o=C.util.cos(i),d=r.x*o-r.y*u,b=r.x*u+r.y*o;return{x:d,y:b}},transformPoint:function(r,i,u){return u?new C.Point(i[0]*r.x+i[2]*r.y,i[1]*r.x+i[3]*r.y):new C.Point(i[0]*r.x+i[2]*r.y+i[4],i[1]*r.x+i[3]*r.y+i[5])},makeBoundingBoxFromPoints:function(r,i){if(i)for(var u=0;u<r.length;u++)r[u]=C.util.transformPoint(r[u],i);var o=[r[0].x,r[1].x,r[2].x,r[3].x],d=C.util.array.min(o),b=C.util.array.max(o),T=b-d,O=[r[0].y,r[1].y,r[2].y,r[3].y],Y=C.util.array.min(O),et=C.util.array.max(O),yt=et-Y;return{left:d,top:Y,width:T,height:yt}},invertTransform:function(r){var i=1/(r[0]*r[3]-r[1]*r[2]),u=[i*r[3],-i*r[1],-i*r[2],i*r[0]],o=C.util.transformPoint({x:r[4],y:r[5]},u,!0);return u[4]=-o.x,u[5]=-o.y,u},toFixed:function(r,i){return parseFloat(Number(r).toFixed(i))},parseUnit:function(r,i){var u=/\D{0,2}$/.exec(r),o=parseFloat(r);switch(i||(i=C.Text.DEFAULT_SVG_FONT_SIZE),u[0]){case"mm":return o*C.DPI/25.4;case"cm":return o*C.DPI/2.54;case"in":return o*C.DPI;case"pt":return o*C.DPI/72;case"pc":return o*C.DPI/72*12;case"em":return o*i;default:return o}},falseFunction:function(){return!1},getKlass:function(r,i){return r=C.util.string.camelize(r.charAt(0).toUpperCase()+r.slice(1)),C.util.resolveNamespace(i)[r]},getSvgAttributes:function(r){var i=["instantiated_by_use","style","id","class"];switch(r){case"linearGradient":i=i.concat(["x1","y1","x2","y2","gradientUnits","gradientTransform"]);break;case"radialGradient":i=i.concat(["gradientUnits","gradientTransform","cx","cy","r","fx","fy","fr"]);break;case"stop":i=i.concat(["offset","stop-color","stop-opacity"]);break}return i},resolveNamespace:function(r){if(!r)return C;var i=r.split("."),u=i.length,o,d=L||C.window;for(o=0;o<u;++o)d=d[i[o]];return d},loadImage:function(r,i,u,o){if(!r){i&&i.call(u,r);return}var d=C.util.createImage(),b=function(){i&&i.call(u,d,!1),d=d.onload=d.onerror=null};d.onload=b,d.onerror=function(){C.log("Error loading "+d.src),i&&i.call(u,null,!0),d=d.onload=d.onerror=null},r.indexOf("data")!==0&&o!==void 0&&o!==null&&(d.crossOrigin=o),r.substring(0,14)==="data:image/svg"&&(d.onload=null,C.util.loadImageInDom(d,b)),d.src=r},loadImageInDom:function(r,i){var u=C.document.createElement("div");u.style.width=u.style.height="1px",u.style.left=u.style.top="-100%",u.style.position="absolute",u.appendChild(r),C.document.querySelector("body").appendChild(u),r.onload=function(){i(),u.parentNode.removeChild(u),u=null}},enlivenObjects:function(r,i,u,o){r=r||[];var d=[],b=0,T=r.length;function O(){++b===T&&i&&i(d.filter(function(Y){return Y}))}if(!T){i&&i(d);return}r.forEach(function(Y,et){if(!Y||!Y.type){O();return}var yt=C.util.getKlass(Y.type,u);yt.fromObject(Y,function(Zt,fe){fe||(d[et]=Zt),o&&o(Y,Zt,fe),O()})})},enlivenPatterns:function(r,i){r=r||[];function u(){++d===b&&i&&i(o)}var o=[],d=0,b=r.length;if(!b){i&&i(o);return}r.forEach(function(T,O){T&&T.source?new C.Pattern(T,function(Y){o[O]=Y,u()}):(o[O]=T,u())})},groupSVGElements:function(r,i,u){var o;return r&&r.length===1?r[0]:(i&&(i.width&&i.height?i.centerPoint={x:i.width/2,y:i.height/2}:(delete i.width,delete i.height)),o=new C.Group(r,i),typeof u!="undefined"&&(o.sourcePath=u),o)},populateWithProperties:function(r,i,u){if(u&&Object.prototype.toString.call(u)==="[object Array]")for(var o=0,d=u.length;o<d;o++)u[o]in r&&(i[u[o]]=r[u[o]])},drawDashedLine:function(r,i,u,o,d,b){var T=o-i,O=d-u,Y=a(T*T+O*O),et=f(O,T),yt=b.length,Zt=0,fe=!0;for(r.save(),r.translate(i,u),r.moveTo(0,0),r.rotate(et),i=0;Y>i;)i+=b[Zt++%yt],i>Y&&(i=Y),r[fe?"lineTo":"moveTo"](i,0),fe=!fe;r.restore()},createCanvasElement:function(){return C.document.createElement("canvas")},copyCanvasElement:function(r){var i=C.util.createCanvasElement();return i.width=r.width,i.height=r.height,i.getContext("2d").drawImage(r,0,0),i},toDataURL:function(r,i,u){return r.toDataURL("image/"+i,u)},createImage:function(){return C.document.createElement("img")},multiplyTransformMatrices:function(r,i,u){return[r[0]*i[0]+r[2]*i[1],r[1]*i[0]+r[3]*i[1],r[0]*i[2]+r[2]*i[3],r[1]*i[2]+r[3]*i[3],u?0:r[0]*i[4]+r[2]*i[5]+r[4],u?0:r[1]*i[4]+r[3]*i[5]+r[5]]},qrDecompose:function(r){var i=f(r[1],r[0]),u=h(r[0],2)+h(r[1],2),o=a(u),d=(r[0]*r[3]-r[2]*r[1])/o,b=f(r[0]*r[2]+r[1]*r[3],u);return{angle:i/l,scaleX:o,scaleY:d,skewX:b/l,skewY:0,translateX:r[4],translateY:r[5]}},calcRotateMatrix:function(r){if(!r.angle)return C.iMatrix.concat();var i=C.util.degreesToRadians(r.angle),u=C.util.cos(i),o=C.util.sin(i);return[u,o,-o,u,0,0]},calcDimensionsMatrix:function(r){var i=typeof r.scaleX=="undefined"?1:r.scaleX,u=typeof r.scaleY=="undefined"?1:r.scaleY,o=[r.flipX?-i:i,0,0,r.flipY?-u:u,0,0],d=C.util.multiplyTransformMatrices,b=C.util.degreesToRadians;return r.skewX&&(o=d(o,[1,0,Math.tan(b(r.skewX)),1],!0)),r.skewY&&(o=d(o,[1,Math.tan(b(r.skewY)),0,1],!0)),o},composeMatrix:function(r){var i=[1,0,0,1,r.translateX||0,r.translateY||0],u=C.util.multiplyTransformMatrices;return r.angle&&(i=u(i,C.util.calcRotateMatrix(r))),(r.scaleX!==1||r.scaleY!==1||r.skewX||r.skewY||r.flipX||r.flipY)&&(i=u(i,C.util.calcDimensionsMatrix(r))),i},resetObjectTransform:function(r){r.scaleX=1,r.scaleY=1,r.skewX=0,r.skewY=0,r.flipX=!1,r.flipY=!1,r.rotate(0)},saveObjectTransform:function(r){return{scaleX:r.scaleX,scaleY:r.scaleY,skewX:r.skewX,skewY:r.skewY,angle:r.angle,left:r.left,flipX:r.flipX,flipY:r.flipY,top:r.top}},isTransparent:function(r,i,u,o){o>0&&(i>o?i-=o:i=0,u>o?u-=o:u=0);var d=!0,b,T,O=r.getImageData(i,u,o*2||1,o*2||1),Y=O.data.length;for(b=3;b<Y&&(T=O.data[b],d=T<=0,d!==!1);b+=4);return O=null,d},parsePreserveAspectRatioAttribute:function(r){var i="meet",u="Mid",o="Mid",d=r.split(" "),b;return d&&d.length&&(i=d.pop(),i!=="meet"&&i!=="slice"?(b=i,i="meet"):d.length&&(b=d.pop())),u=b!=="none"?b.slice(1,4):"none",o=b!=="none"?b.slice(5,8):"none",{meetOrSlice:i,alignX:u,alignY:o}},clearFabricFontCache:function(r){r=(r||"").toLowerCase(),r?C.charWidthsCache[r]&&delete C.charWidthsCache[r]:C.charWidthsCache={}},limitDimsByArea:function(r,i){var u=Math.sqrt(i*r),o=Math.floor(i/u);return{x:Math.floor(u),y:o}},capValue:function(r,i,u){return Math.max(r,Math.min(i,u))},findScaleToFit:function(r,i){return Math.min(i.width/r.width,i.height/r.height)},findScaleToCover:function(r,i){return Math.max(i.width/r.width,i.height/r.height)},matrixToSVG:function(r){return"matrix("+r.map(function(i){return C.util.toFixed(i,C.Object.NUM_FRACTION_DIGITS)}).join(" ")+")"},removeTransformFromObject:function(r,i){var u=C.util.invertTransform(i),o=C.util.multiplyTransformMatrices(u,r.calcOwnMatrix());C.util.applyTransformToObject(r,o)},addTransformToObject:function(r,i){C.util.applyTransformToObject(r,C.util.multiplyTransformMatrices(i,r.calcOwnMatrix()))},applyTransformToObject:function(r,i){var u=C.util.qrDecompose(i),o=new C.Point(u.translateX,u.translateY);r.flipX=!1,r.flipY=!1,r.set("scaleX",u.scaleX),r.set("scaleY",u.scaleY),r.skewX=u.skewX,r.skewY=u.skewY,r.angle=u.angle,r.setPositionByOrigin(o,"center","center")},sizeAfterTransform:function(r,i,u){var o=r/2,d=i/2,b=[{x:-o,y:-d},{x:o,y:-d},{x:-o,y:d},{x:o,y:d}],T=C.util.calcDimensionsMatrix(u),O=C.util.makeBoundingBoxFromPoints(b,T);return{x:O.width,y:O.height}}}}(hr),function(){var L=Array.prototype.join,a={m:2,l:2,h:1,v:1,c:6,s:4,q:4,t:2,a:7},f={m:"l",M:"L"};function h(Z,ct,Ot,U,tt,mt,pt,Yt,St,Et,re){var Vt=C.util.cos(Z),Ht=C.util.sin(Z),Nt=C.util.cos(ct),te=C.util.sin(ct),oe=Ot*tt*Nt-U*mt*te+pt,Pe=U*tt*Nt+Ot*mt*te+Yt,K=Et+St*(-Ot*tt*Ht-U*mt*Vt),F=re+St*(-U*tt*Ht+Ot*mt*Vt),D=oe+St*(Ot*tt*te+U*mt*Nt),it=Pe+St*(U*tt*te-Ot*mt*Nt);return["C",K,F,D,it,oe,Pe]}function l(Z,ct,Ot,U,tt,mt,pt){var Yt=Math.PI,St=pt*Yt/180,Et=C.util.sin(St),re=C.util.cos(St),Vt=0,Ht=0;Ot=Math.abs(Ot),U=Math.abs(U);var Nt=-re*Z*.5-Et*ct*.5,te=-re*ct*.5+Et*Z*.5,oe=Ot*Ot,Pe=U*U,K=te*te,F=Nt*Nt,D=oe*Pe-oe*K-Pe*F,it=0;if(D<0){var vt=Math.sqrt(1-D/(oe*Pe));Ot*=vt,U*=vt}else it=(tt===mt?-1:1)*Math.sqrt(D/(oe*K+Pe*F));var ee=it*Ot*te/U,he=-it*U*Nt/Ot,yr=re*ee-Et*he+Z*.5,Er=Et*ee+re*he+ct*.5,mr=n(1,0,(Nt-ee)/Ot,(te-he)/U),xr=n((Nt-ee)/Ot,(te-he)/U,(-Nt-ee)/Ot,(-te-he)/U);mt===0&&xr>0?xr-=2*Yt:mt===1&&xr<0&&(xr+=2*Yt);for(var _r=Math.ceil(Math.abs(xr/Yt*2)),Kr=[],ln=xr/_r,bn=8/3*Math.sin(ln/4)*Math.sin(ln/4)/Math.sin(ln/2),Un=mr+ln,$n=0;$n<_r;$n++)Kr[$n]=h(mr,Un,re,Et,Ot,U,yr,Er,bn,Vt,Ht),Vt=Kr[$n][5],Ht=Kr[$n][6],mr=Un,Un+=ln;return Kr}function n(Z,ct,Ot,U){var tt=Math.atan2(ct,Z),mt=Math.atan2(U,Ot);return mt>=tt?mt-tt:2*Math.PI-(tt-mt)}function e(Z,ct,Ot,U,tt,mt,pt,Yt){var St;if(C.cachesBoundsOfCurve&&(St=L.call(arguments),C.boundsOfCurveCache[St]))return C.boundsOfCurveCache[St];var Et=Math.sqrt,re=Math.min,Vt=Math.max,Ht=Math.abs,Nt=[],te=[[],[]],oe,Pe,K,F,D,it,vt,ee;Pe=6*Z-12*Ot+6*tt,oe=-3*Z+9*Ot-9*tt+3*pt,K=3*Ot-3*Z;for(var he=0;he<2;++he){if(he>0&&(Pe=6*ct-12*U+6*mt,oe=-3*ct+9*U-9*mt+3*Yt,K=3*U-3*ct),Ht(oe)<1e-12){if(Ht(Pe)<1e-12)continue;F=-K/Pe,0<F&&F<1&&Nt.push(F);continue}vt=Pe*Pe-4*K*oe,!(vt<0)&&(ee=Et(vt),D=(-Pe+ee)/(2*oe),0<D&&D<1&&Nt.push(D),it=(-Pe-ee)/(2*oe),0<it&&it<1&&Nt.push(it))}for(var yr,Er,mr=Nt.length,xr=mr,_r;mr--;)F=Nt[mr],_r=1-F,yr=_r*_r*_r*Z+3*_r*_r*F*Ot+3*_r*F*F*tt+F*F*F*pt,te[0][mr]=yr,Er=_r*_r*_r*ct+3*_r*_r*F*U+3*_r*F*F*mt+F*F*F*Yt,te[1][mr]=Er;te[0][xr]=Z,te[1][xr]=ct,te[0][xr+1]=pt,te[1][xr+1]=Yt;var Kr=[{x:re.apply(null,te[0]),y:re.apply(null,te[1])},{x:Vt.apply(null,te[0]),y:Vt.apply(null,te[1])}];return C.cachesBoundsOfCurve&&(C.boundsOfCurveCache[St]=Kr),Kr}function r(Z,ct,Ot){for(var U=Ot[1],tt=Ot[2],mt=Ot[3],pt=Ot[4],Yt=Ot[5],St=Ot[6],Et=Ot[7],re=l(St-Z,Et-ct,U,tt,pt,Yt,mt),Vt=0,Ht=re.length;Vt<Ht;Vt++)re[Vt][1]+=Z,re[Vt][2]+=ct,re[Vt][3]+=Z,re[Vt][4]+=ct,re[Vt][5]+=Z,re[Vt][6]+=ct;return re}function i(Z){var ct=0,Ot=0,U=Z.length,tt=0,mt=0,pt,Yt,St,Et=[],re,Vt,Ht;for(Yt=0;Yt<U;++Yt){switch(St=!1,pt=Z[Yt].slice(0),pt[0]){case"l":pt[0]="L",pt[1]+=ct,pt[2]+=Ot;case"L":ct=pt[1],Ot=pt[2];break;case"h":pt[1]+=ct;case"H":pt[0]="L",pt[2]=Ot,ct=pt[1];break;case"v":pt[1]+=Ot;case"V":pt[0]="L",Ot=pt[1],pt[1]=ct,pt[2]=Ot;break;case"m":pt[0]="M",pt[1]+=ct,pt[2]+=Ot;case"M":ct=pt[1],Ot=pt[2],tt=pt[1],mt=pt[2];break;case"c":pt[0]="C",pt[1]+=ct,pt[2]+=Ot,pt[3]+=ct,pt[4]+=Ot,pt[5]+=ct,pt[6]+=Ot;case"C":Vt=pt[3],Ht=pt[4],ct=pt[5],Ot=pt[6];break;case"s":pt[0]="S",pt[1]+=ct,pt[2]+=Ot,pt[3]+=ct,pt[4]+=Ot;case"S":re==="C"?(Vt=2*ct-Vt,Ht=2*Ot-Ht):(Vt=ct,Ht=Ot),ct=pt[3],Ot=pt[4],pt[0]="C",pt[5]=pt[3],pt[6]=pt[4],pt[3]=pt[1],pt[4]=pt[2],pt[1]=Vt,pt[2]=Ht,Vt=pt[3],Ht=pt[4];break;case"q":pt[0]="Q",pt[1]+=ct,pt[2]+=Ot,pt[3]+=ct,pt[4]+=Ot;case"Q":Vt=pt[1],Ht=pt[2],ct=pt[3],Ot=pt[4];break;case"t":pt[0]="T",pt[1]+=ct,pt[2]+=Ot;case"T":re==="Q"?(Vt=2*ct-Vt,Ht=2*Ot-Ht):(Vt=ct,Ht=Ot),pt[0]="Q",ct=pt[1],Ot=pt[2],pt[1]=Vt,pt[2]=Ht,pt[3]=ct,pt[4]=Ot;break;case"a":pt[0]="A",pt[6]+=ct,pt[7]+=Ot;case"A":St=!0,Et=Et.concat(r(ct,Ot,pt)),ct=pt[6],Ot=pt[7];break;case"z":case"Z":ct=tt,Ot=mt;break;default:}St||Et.push(pt),re=pt[0]}return Et}function u(Z,ct,Ot,U){return Math.sqrt((Ot-Z)*(Ot-Z)+(U-ct)*(U-ct))}function o(Z){return Z*Z*Z}function d(Z){return 3*Z*Z*(1-Z)}function b(Z){return 3*Z*(1-Z)*(1-Z)}function T(Z){return(1-Z)*(1-Z)*(1-Z)}function O(Z,ct,Ot,U,tt,mt,pt,Yt){return function(St){var Et=o(St),re=d(St),Vt=b(St),Ht=T(St);return{x:pt*Et+tt*re+Ot*Vt+Z*Ht,y:Yt*Et+mt*re+U*Vt+ct*Ht}}}function Y(Z,ct,Ot,U,tt,mt,pt,Yt){return function(St){var Et=1-St,re=3*Et*Et*(Ot-Z)+6*Et*St*(tt-Ot)+3*St*St*(pt-tt),Vt=3*Et*Et*(U-ct)+6*Et*St*(mt-U)+3*St*St*(Yt-mt);return Math.atan2(Vt,re)}}function et(Z){return Z*Z}function yt(Z){return 2*Z*(1-Z)}function Zt(Z){return(1-Z)*(1-Z)}function fe(Z,ct,Ot,U,tt,mt){return function(pt){var Yt=et(pt),St=yt(pt),Et=Zt(pt);return{x:tt*Yt+Ot*St+Z*Et,y:mt*Yt+U*St+ct*Et}}}function Ue(Z,ct,Ot,U,tt,mt){return function(pt){var Yt=1-pt,St=2*Yt*(Ot-Z)+2*pt*(tt-Ot),Et=2*Yt*(U-ct)+2*pt*(mt-U);return Math.atan2(Et,St)}}function sr(Z,ct,Ot){var U={x:ct,y:Ot},tt,mt=0,pt;for(pt=1;pt<=100;pt+=1)tt=Z(pt/100),mt+=u(U.x,U.y,tt.x,tt.y),U=tt;return mt}function cr(Z,ct){for(var Ot=0,U=0,tt=Z.iterator,mt={x:Z.x,y:Z.y},pt,Yt,St=.01,Et=Z.angleFinder,re;U<ct&&Ot<=1&&St>1e-4;)pt=tt(Ot),re=Ot,Yt=u(mt.x,mt.y,pt.x,pt.y),Yt+U>ct?(St/=2,Ot-=St):(mt=pt,Ot+=St,U+=Yt);return pt.angle=Et(re),pt}function Ke(Z){for(var ct=0,Ot=Z.length,U,tt=0,mt=0,pt=0,Yt=0,St=[],Et,re,Vt,Ht=0;Ht<Ot;Ht++){switch(U=Z[Ht],re={x:tt,y:mt,command:U[0]},U[0]){case"M":re.length=0,pt=tt=U[1],Yt=mt=U[2];break;case"L":re.length=u(tt,mt,U[1],U[2]),tt=U[1],mt=U[2];break;case"C":Et=O(tt,mt,U[1],U[2],U[3],U[4],U[5],U[6]),Vt=Y(tt,mt,U[1],U[2],U[3],U[4],U[5],U[6]),re.iterator=Et,re.angleFinder=Vt,re.length=sr(Et,tt,mt),tt=U[5],mt=U[6];break;case"Q":Et=fe(tt,mt,U[1],U[2],U[3],U[4]),Vt=Ue(tt,mt,U[1],U[2],U[3],U[4]),re.iterator=Et,re.angleFinder=Vt,re.length=sr(Et,tt,mt),tt=U[3],mt=U[4];break;case"Z":case"z":re.destX=pt,re.destY=Yt,re.length=u(tt,mt,pt,Yt),tt=pt,mt=Yt;break}ct+=re.length,St.push(re)}return St.push({length:ct,x:tt,y:mt}),St}function Ie(Z,ct,Ot){Ot||(Ot=Ke(Z));for(var U=0;ct-Ot[U].length>0&&U<Ot.length-2;)ct-=Ot[U].length,U++;var tt=Ot[U],mt=ct/tt.length,pt=tt.command,Yt=Z[U],St;switch(pt){case"M":return{x:tt.x,y:tt.y,angle:0};case"Z":case"z":return St=new C.Point(tt.x,tt.y).lerp(new C.Point(tt.destX,tt.destY),mt),St.angle=Math.atan2(tt.destY-tt.y,tt.destX-tt.x),St;case"L":return St=new C.Point(tt.x,tt.y).lerp(new C.Point(Yt[1],Yt[2]),mt),St.angle=Math.atan2(Yt[2]-tt.y,Yt[1]-tt.x),St;case"C":return cr(tt,ct);case"Q":return cr(tt,ct)}}function gr(Z){var ct=[],Ot=[],U,tt,mt=C.rePathCommand,pt="[-+]?(?:\\d*\\.\\d+|\\d+\\.?)(?:[eE][-+]?\\d+)?\\s*",Yt="("+pt+")"+C.commaWsp,St="([01])"+C.commaWsp+"?",Et=Yt+"?"+Yt+"?"+Yt+St+St+Yt+"?("+pt+")",re=new RegExp(Et,"g"),Vt,Ht,Nt;if(!Z||!Z.match)return ct;Nt=Z.match(/[mzlhvcsqta][^mzlhvcsqta]*/gi);for(var te=0,oe,Pe=Nt.length;te<Pe;te++){U=Nt[te],Ht=U.slice(1).trim(),Ot.length=0;var K=U.charAt(0);if(oe=[K],K.toLowerCase()==="a")for(var F;F=re.exec(Ht);)for(var D=1;D<F.length;D++)Ot.push(F[D]);else for(;Vt=mt.exec(Ht);)Ot.push(Vt[0]);for(var D=0,it=Ot.length;D<it;D++)tt=parseFloat(Ot[D]),isNaN(tt)||oe.push(tt);var vt=a[K.toLowerCase()],ee=f[K]||K;if(oe.length-1>vt)for(var he=1,yr=oe.length;he<yr;he+=vt)ct.push([K].concat(oe.slice(he,he+vt))),K=ee;else ct.push(oe)}return ct}function kr(Z,ct){var Ot=[],U,tt=new C.Point(Z[0].x,Z[0].y),mt=new C.Point(Z[1].x,Z[1].y),pt=Z.length,Yt=1,St=0,Et=pt>2;for(ct=ct||0,Et&&(Yt=Z[2].x<mt.x?-1:Z[2].x===mt.x?0:1,St=Z[2].y<mt.y?-1:Z[2].y===mt.y?0:1),Ot.push(["M",tt.x-Yt*ct,tt.y-St*ct]),U=1;U<pt;U++){if(!tt.eq(mt)){var re=tt.midPointFrom(mt);Ot.push(["Q",tt.x,tt.y,re.x,re.y])}tt=Z[U],U+1<Z.length&&(mt=Z[U+1])}return Et&&(Yt=tt.x>Z[U-2].x?1:tt.x===Z[U-2].x?0:-1,St=tt.y>Z[U-2].y?1:tt.y===Z[U-2].y?0:-1),Ot.push(["L",tt.x+Yt*ct,tt.y+St*ct]),Ot}function Ar(Z,ct,Ot){return Ot&&(ct=C.util.multiplyTransformMatrices(ct,[1,0,0,1,-Ot.x,-Ot.y])),Z.map(function(U){for(var tt=U.slice(0),mt={},pt=1;pt<U.length-1;pt+=2)mt.x=U[pt],mt.y=U[pt+1],mt=C.util.transformPoint(mt,ct),tt[pt]=mt.x,tt[pt+1]=mt.y;return tt})}function lt(Z,ct,Ot,U,tt,mt,pt,Yt,St){for(var Et=0,re=0,Vt,Ht=[],Nt=l(Yt-Z,St-ct,Ot,U,mt,pt,tt),te=0,oe=Nt.length;te<oe;te++)Vt=e(Et,re,Nt[te][1],Nt[te][2],Nt[te][3],Nt[te][4],Nt[te][5],Nt[te][6]),Ht.push({x:Vt[0].x+Z,y:Vt[0].y+ct}),Ht.push({x:Vt[1].x+Z,y:Vt[1].y+ct}),Et=Nt[te][5],re=Nt[te][6];return Ht}function me(Z,ct,Ot,U){U=U.slice(0).unshift("X");var tt=r(ct,Ot,U);tt.forEach(function(mt){Z.bezierCurveTo.apply(Z,mt.slice(1))})}C.util.joinPath=function(Z){return Z.map(function(ct){return ct.join(" ")}).join(" ")},C.util.parsePath=gr,C.util.makePathSimpler=i,C.util.getSmoothPathFromPoints=kr,C.util.getPathSegmentsInfo=Ke,C.util.getBoundsOfCurve=e,C.util.getPointOnPath=Ie,C.util.transformPath=Ar,C.util.fromArcToBeizers=r,C.util.getBoundsOfArc=lt,C.util.drawArc=me}(),function(){var L=Array.prototype.slice;function a(e,r){for(var i=L.call(arguments,2),u=[],o=0,d=e.length;o<d;o++)u[o]=i.length?e[o][r].apply(e[o],i):e[o][r].call(e[o]);return u}function f(e,r){return n(e,r,function(i,u){return i>=u})}function h(e,r){return n(e,r,function(i,u){return i<u})}function l(e,r){for(var i=e.length;i--;)e[i]=r;return e}function n(e,r,i){if(!(!e||e.length===0)){var u=e.length-1,o=r?e[u][r]:e[u];if(r)for(;u--;)i(e[u][r],o)&&(o=e[u][r]);else for(;u--;)i(e[u],o)&&(o=e[u]);return o}}C.util.array={fill:l,invoke:a,min:h,max:f}}(),function(){function L(f,h,l){if(l)if(!C.isLikelyNode&&h instanceof Element)f=h;else if(h instanceof Array){f=[];for(var n=0,e=h.length;n<e;n++)f[n]=L({},h[n],l)}else if(h&&typeof h=="object")for(var r in h)r==="canvas"||r==="group"?f[r]=null:h.hasOwnProperty(r)&&(f[r]=L({},h[r],l));else f=h;else for(var r in h)f[r]=h[r];return f}function a(f,h){return L({},f,h)}C.util.object={extend:L,clone:a},C.util.object.extend(C.util,C.Observable)}(),function(){function L(n){return n.replace(/-+(.)?/g,function(e,r){return r?r.toUpperCase():""})}function a(n,e){return n.charAt(0).toUpperCase()+(e?n.slice(1):n.slice(1).toLowerCase())}function f(n){return n.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&apos;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}function h(n){var e=0,r,i=[];for(e=0,r;e<n.length;e++)(r=l(n,e))!==!1&&i.push(r);return i}function l(n,e){var r=n.charCodeAt(e);if(isNaN(r))return"";if(r<55296||r>57343)return n.charAt(e);if(55296<=r&&r<=56319){if(n.length<=e+1)throw"High surrogate without following low surrogate";var i=n.charCodeAt(e+1);if(56320>i||i>57343)throw"High surrogate without following low surrogate";return n.charAt(e)+n.charAt(e+1)}if(e===0)throw"Low surrogate without preceding high surrogate";var u=n.charCodeAt(e-1);if(55296>u||u>56319)throw"Low surrogate without preceding high surrogate";return!1}C.util.string={camelize:L,capitalize:a,escapeXml:f,graphemeSplit:h}}(),function(){var L=Array.prototype.slice,a=function(){},f=function(){for(var r in{toString:1})if(r==="toString")return!1;return!0}(),h=function(i,u,o){for(var d in u)d in i.prototype&&typeof i.prototype[d]=="function"&&(u[d]+"").indexOf("callSuper")>-1?i.prototype[d]=function(b){return function(){var T=this.constructor.superclass;this.constructor.superclass=o;var O=u[b].apply(this,arguments);if(this.constructor.superclass=T,b!=="initialize")return O}}(d):i.prototype[d]=u[d],f&&(u.toString!==Object.prototype.toString&&(i.prototype.toString=u.toString),u.valueOf!==Object.prototype.valueOf&&(i.prototype.valueOf=u.valueOf))};function l(){}function n(r){for(var i=null,u=this;u.constructor.superclass;){var o=u.constructor.superclass.prototype[r];if(u[r]!==o){i=o;break}u=u.constructor.superclass.prototype}return i?arguments.length>1?i.apply(this,L.call(arguments,1)):i.call(this):console.log("tried to callSuper "+r+", method not found in prototype chain",this)}function e(){var r=null,i=L.call(arguments,0);typeof i[0]=="function"&&(r=i.shift());function u(){this.initialize.apply(this,arguments)}u.superclass=r,u.subclasses=[],r&&(l.prototype=r.prototype,u.prototype=new l,r.subclasses.push(u));for(var o=0,d=i.length;o<d;o++)h(u,i[o],r);return u.prototype.initialize||(u.prototype.initialize=a),u.prototype.constructor=u,u.prototype.callSuper=n,u}C.util.createClass=e}(),function(){var L=!!C.document.createElement("div").attachEvent,a=["touchstart","touchmove","touchend"];C.util.addListener=function(h,l,n,e){h&&h.addEventListener(l,n,L?!1:e)},C.util.removeListener=function(h,l,n,e){h&&h.removeEventListener(l,n,L?!1:e)};function f(h){var l=h.changedTouches;return l&&l[0]?l[0]:h}C.util.getPointer=function(h){var l=h.target,n=C.util.getScrollLeftTop(l),e=f(h);return{x:e.clientX+n.left,y:e.clientY+n.top}},C.util.isTouchEvent=function(h){return a.indexOf(h.type)>-1||h.pointerType==="touch"}}(),function(){function L(e,r){var i=e.style;if(!i)return e;if(typeof r=="string")return e.style.cssText+=";"+r,r.indexOf("opacity")>-1?n(e,r.match(/opacity:\s*(\d?\.?\d*)/)[1]):e;for(var u in r)if(u==="opacity")n(e,r[u]);else{var o=u==="float"||u==="cssFloat"?typeof i.styleFloat=="undefined"?"cssFloat":"styleFloat":u;i[o]=r[u]}return e}var a=C.document.createElement("div"),f=typeof a.style.opacity=="string",h=typeof a.style.filter=="string",l=/alpha\s*\(\s*opacity\s*=\s*([^\)]+)\)/,n=function(r){return r};f?n=function(r,i){return r.style.opacity=i,r}:h&&(n=function(r,i){var u=r.style;return r.currentStyle&&!r.currentStyle.hasLayout&&(u.zoom=1),l.test(u.filter)?(i=i>=.9999?"":"alpha(opacity="+i*100+")",u.filter=u.filter.replace(l,i)):u.filter+=" alpha(opacity="+i*100+")",r}),C.util.setStyle=L}(),function(){var L=Array.prototype.slice;function a(T){return typeof T=="string"?C.document.getElementById(T):T}var f,h=function(O){return L.call(O,0)};try{f=h(C.document.childNodes)instanceof Array}catch(T){}f||(h=function(O){for(var Y=new Array(O.length),et=O.length;et--;)Y[et]=O[et];return Y});function l(T,O){var Y=C.document.createElement(T);for(var et in O)et==="class"?Y.className=O[et]:et==="for"?Y.htmlFor=O[et]:Y.setAttribute(et,O[et]);return Y}function n(T,O){T&&(" "+T.className+" ").indexOf(" "+O+" ")===-1&&(T.className+=(T.className?" ":"")+O)}function e(T,O,Y){return typeof O=="string"&&(O=l(O,Y)),T.parentNode&&T.parentNode.replaceChild(O,T),O.appendChild(T),O}function r(T){for(var O=0,Y=0,et=C.document.documentElement,yt=C.document.body||{scrollLeft:0,scrollTop:0};T&&(T.parentNode||T.host)&&(T=T.parentNode||T.host,T===C.document?(O=yt.scrollLeft||et.scrollLeft||0,Y=yt.scrollTop||et.scrollTop||0):(O+=T.scrollLeft||0,Y+=T.scrollTop||0),!(T.nodeType===1&&T.style.position==="fixed")););return{left:O,top:Y}}function i(T){var O,Y=T&&T.ownerDocument,et={left:0,top:0},yt={left:0,top:0},Zt,fe={borderLeftWidth:"left",borderTopWidth:"top",paddingLeft:"left",paddingTop:"top"};if(!Y)return yt;for(var Ue in fe)yt[fe[Ue]]+=parseInt(u(T,Ue),10)||0;return O=Y.documentElement,typeof T.getBoundingClientRect!="undefined"&&(et=T.getBoundingClientRect()),Zt=r(T),{left:et.left+Zt.left-(O.clientLeft||0)+yt.left,top:et.top+Zt.top-(O.clientTop||0)+yt.top}}var u;C.document.defaultView&&C.document.defaultView.getComputedStyle?u=function(O,Y){var et=C.document.defaultView.getComputedStyle(O,null);return et?et[Y]:void 0}:u=function(O,Y){var et=O.style[Y];return!et&&O.currentStyle&&(et=O.currentStyle[Y]),et},function(){var T=C.document.documentElement.style,O="userSelect"in T?"userSelect":"MozUserSelect"in T?"MozUserSelect":"WebkitUserSelect"in T?"WebkitUserSelect":"KhtmlUserSelect"in T?"KhtmlUserSelect":"";function Y(yt){return typeof yt.onselectstart!="undefined"&&(yt.onselectstart=C.util.falseFunction),O?yt.style[O]="none":typeof yt.unselectable=="string"&&(yt.unselectable="on"),yt}function et(yt){return typeof yt.onselectstart!="undefined"&&(yt.onselectstart=null),O?yt.style[O]="":typeof yt.unselectable=="string"&&(yt.unselectable=""),yt}C.util.makeElementUnselectable=Y,C.util.makeElementSelectable=et}();function o(T){var O=C.jsdomImplForWrapper(T);return O._canvas||O._image}function d(T){if(!!C.isLikelyNode){var O=C.jsdomImplForWrapper(T);O&&(O._image=null,O._canvas=null,O._currentSrc=null,O._attributes=null,O._classList=null)}}function b(T,O){T.imageSmoothingEnabled=T.imageSmoothingEnabled||T.webkitImageSmoothingEnabled||T.mozImageSmoothingEnabled||T.msImageSmoothingEnabled||T.oImageSmoothingEnabled,T.imageSmoothingEnabled=O}C.util.setImageSmoothing=b,C.util.getById=a,C.util.toArray=h,C.util.addClass=n,C.util.makeElement=l,C.util.wrapElement=e,C.util.getScrollLeftTop=r,C.util.getElementOffset=i,C.util.getNodeCanvas=o,C.util.cleanUpJsdomNode=d}(),function(){function L(h,l){return h+(/\?/.test(h)?"&":"?")+l}function a(){}function f(h,l){l||(l={});var n=l.method?l.method.toUpperCase():"GET",e=l.onComplete||function(){},r=new C.window.XMLHttpRequest,i=l.body||l.parameters;return r.onreadystatechange=function(){r.readyState===4&&(e(r),r.onreadystatechange=a)},n==="GET"&&(i=null,typeof l.parameters=="string"&&(h=L(h,l.parameters))),r.open(n,h,!0),(n==="POST"||n==="PUT")&&r.setRequestHeader("Content-Type","application/x-www-form-urlencoded"),r.send(i),r}C.util.request=f}(),C.log=console.log,C.warn=console.warn,function(){function L(){return!1}function a(r,i,u,o){return-u*Math.cos(r/o*(Math.PI/2))+u+i}function f(r){var i=!1;return n(function(u){r||(r={});var o=u||+new Date,d=r.duration||500,b=o+d,T,O=r.onChange||L,Y=r.abort||L,et=r.onComplete||L,yt=r.easing||a,Zt="startValue"in r?r.startValue:0,fe="endValue"in r?r.endValue:100,Ue=r.byValue||fe-Zt;r.onStart&&r.onStart(),function sr(cr){T=cr||+new Date;var Ke=T>b?d:T-o,Ie=Ke/d,gr=yt(Ke,Zt,Ue,d),kr=Math.abs((gr-Zt)/Ue);if(!i){if(Y(gr,kr,Ie)){et(fe,1,1);return}if(T>b){O(fe,1,1),et(fe,1,1);return}else O(gr,kr,Ie),n(sr)}}(o)}),function(){i=!0}}var h=C.window.requestAnimationFrame||C.window.webkitRequestAnimationFrame||C.window.mozRequestAnimationFrame||C.window.oRequestAnimationFrame||C.window.msRequestAnimationFrame||function(r){return C.window.setTimeout(r,1e3/60)},l=C.window.cancelAnimationFrame||C.window.clearTimeout;function n(){return h.apply(C.window,arguments)}function e(){return l.apply(C.window,arguments)}C.util.animate=f,C.util.requestAnimFrame=n,C.util.cancelAnimFrame=e}(),function(){function L(f,h,l){var n="rgba("+parseInt(f[0]+l*(h[0]-f[0]),10)+","+parseInt(f[1]+l*(h[1]-f[1]),10)+","+parseInt(f[2]+l*(h[2]-f[2]),10);return n+=","+(f&&h?parseFloat(f[3]+l*(h[3]-f[3])):1),n+=")",n}function a(f,h,l,n){var e=new C.Color(f).getSource(),r=new C.Color(h).getSource(),i=n.onComplete,u=n.onChange;return n=n||{},C.util.animate(C.util.object.extend(n,{duration:l||500,startValue:e,endValue:r,byValue:r,easing:function(d,b,T,O){var Y=n.colorEasing?n.colorEasing(d,O):1-Math.cos(d/O*(Math.PI/2));return L(b,T,Y)},onComplete:function(d,b,T){if(i)return i(L(r,r,0),b,T)},onChange:function(d,b,T){if(u){if(Array.isArray(d))return u(L(d,d,0),b,T);u(d,b,T)}}}))}C.util.animateColor=a}(),function(){function L(lt,me,Z,ct){return lt<Math.abs(me)?(lt=me,ct=Z/4):me===0&&lt===0?ct=Z/(2*Math.PI)*Math.asin(1):ct=Z/(2*Math.PI)*Math.asin(me/lt),{a:lt,c:me,p:Z,s:ct}}function a(lt,me,Z){return lt.a*Math.pow(2,10*(me-=1))*Math.sin((me*Z-lt.s)*(2*Math.PI)/lt.p)}function f(lt,me,Z,ct){return Z*((lt=lt/ct-1)*lt*lt+1)+me}function h(lt,me,Z,ct){return lt/=ct/2,lt<1?Z/2*lt*lt*lt+me:Z/2*((lt-=2)*lt*lt+2)+me}function l(lt,me,Z,ct){return Z*(lt/=ct)*lt*lt*lt+me}function n(lt,me,Z,ct){return-Z*((lt=lt/ct-1)*lt*lt*lt-1)+me}function e(lt,me,Z,ct){return lt/=ct/2,lt<1?Z/2*lt*lt*lt*lt+me:-Z/2*((lt-=2)*lt*lt*lt-2)+me}function r(lt,me,Z,ct){return Z*(lt/=ct)*lt*lt*lt*lt+me}function i(lt,me,Z,ct){return Z*((lt=lt/ct-1)*lt*lt*lt*lt+1)+me}function u(lt,me,Z,ct){return lt/=ct/2,lt<1?Z/2*lt*lt*lt*lt*lt+me:Z/2*((lt-=2)*lt*lt*lt*lt+2)+me}function o(lt,me,Z,ct){return-Z*Math.cos(lt/ct*(Math.PI/2))+Z+me}function d(lt,me,Z,ct){return Z*Math.sin(lt/ct*(Math.PI/2))+me}function b(lt,me,Z,ct){return-Z/2*(Math.cos(Math.PI*lt/ct)-1)+me}function T(lt,me,Z,ct){return lt===0?me:Z*Math.pow(2,10*(lt/ct-1))+me}function O(lt,me,Z,ct){return lt===ct?me+Z:Z*(-Math.pow(2,-10*lt/ct)+1)+me}function Y(lt,me,Z,ct){return lt===0?me:lt===ct?me+Z:(lt/=ct/2,lt<1?Z/2*Math.pow(2,10*(lt-1))+me:Z/2*(-Math.pow(2,-10*--lt)+2)+me)}function et(lt,me,Z,ct){return-Z*(Math.sqrt(1-(lt/=ct)*lt)-1)+me}function yt(lt,me,Z,ct){return Z*Math.sqrt(1-(lt=lt/ct-1)*lt)+me}function Zt(lt,me,Z,ct){return lt/=ct/2,lt<1?-Z/2*(Math.sqrt(1-lt*lt)-1)+me:Z/2*(Math.sqrt(1-(lt-=2)*lt)+1)+me}function fe(lt,me,Z,ct){var Ot=1.70158,U=0,tt=Z;if(lt===0)return me;if(lt/=ct,lt===1)return me+Z;U||(U=ct*.3);var mt=L(tt,Z,U,Ot);return-a(mt,lt,ct)+me}function Ue(lt,me,Z,ct){var Ot=1.70158,U=0,tt=Z;if(lt===0)return me;if(lt/=ct,lt===1)return me+Z;U||(U=ct*.3);var mt=L(tt,Z,U,Ot);return mt.a*Math.pow(2,-10*lt)*Math.sin((lt*ct-mt.s)*(2*Math.PI)/mt.p)+mt.c+me}function sr(lt,me,Z,ct){var Ot=1.70158,U=0,tt=Z;if(lt===0)return me;if(lt/=ct/2,lt===2)return me+Z;U||(U=ct*(.3*1.5));var mt=L(tt,Z,U,Ot);return lt<1?-.5*a(mt,lt,ct)+me:mt.a*Math.pow(2,-10*(lt-=1))*Math.sin((lt*ct-mt.s)*(2*Math.PI)/mt.p)*.5+mt.c+me}function cr(lt,me,Z,ct,Ot){return Ot===void 0&&(Ot=1.70158),Z*(lt/=ct)*lt*((Ot+1)*lt-Ot)+me}function Ke(lt,me,Z,ct,Ot){return Ot===void 0&&(Ot=1.70158),Z*((lt=lt/ct-1)*lt*((Ot+1)*lt+Ot)+1)+me}function Ie(lt,me,Z,ct,Ot){return Ot===void 0&&(Ot=1.70158),lt/=ct/2,lt<1?Z/2*(lt*lt*(((Ot*=1.525)+1)*lt-Ot))+me:Z/2*((lt-=2)*lt*(((Ot*=1.525)+1)*lt+Ot)+2)+me}function gr(lt,me,Z,ct){return Z-kr(ct-lt,0,Z,ct)+me}function kr(lt,me,Z,ct){return(lt/=ct)<1/2.75?Z*(7.5625*lt*lt)+me:lt<2/2.75?Z*(7.5625*(lt-=1.5/2.75)*lt+.75)+me:lt<2.5/2.75?Z*(7.5625*(lt-=2.25/2.75)*lt+.9375)+me:Z*(7.5625*(lt-=2.625/2.75)*lt+.984375)+me}function Ar(lt,me,Z,ct){return lt<ct/2?gr(lt*2,0,Z,ct)*.5+me:kr(lt*2-ct,0,Z,ct)*.5+Z*.5+me}C.util.ease={easeInQuad:function(me,Z,ct,Ot){return ct*(me/=Ot)*me+Z},easeOutQuad:function(me,Z,ct,Ot){return-ct*(me/=Ot)*(me-2)+Z},easeInOutQuad:function(me,Z,ct,Ot){return me/=Ot/2,me<1?ct/2*me*me+Z:-ct/2*(--me*(me-2)-1)+Z},easeInCubic:function(me,Z,ct,Ot){return ct*(me/=Ot)*me*me+Z},easeOutCubic:f,easeInOutCubic:h,easeInQuart:l,easeOutQuart:n,easeInOutQuart:e,easeInQuint:r,easeOutQuint:i,easeInOutQuint:u,easeInSine:o,easeOutSine:d,easeInOutSine:b,easeInExpo:T,easeOutExpo:O,easeInOutExpo:Y,easeInCirc:et,easeOutCirc:yt,easeInOutCirc:Zt,easeInElastic:fe,easeOutElastic:Ue,easeInOutElastic:sr,easeInBack:cr,easeOutBack:Ke,easeInOutBack:Ie,easeInBounce:gr,easeOutBounce:kr,easeInOutBounce:Ar}}(),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.object.extend,h=a.util.object.clone,l=a.util.toFixed,n=a.util.parseUnit,e=a.util.multiplyTransformMatrices,r=["path","circle","polygon","polyline","ellipse","rect","line","image","text"],i=["symbol","image","marker","pattern","view","svg"],u=["pattern","defs","symbol","metadata","clipPath","mask","desc"],o=["symbol","g","a","svg","clipPath","defs"],d={cx:"left",x:"left",r:"radius",cy:"top",y:"top",display:"visible",visibility:"visible",transform:"transformMatrix","fill-opacity":"fillOpacity","fill-rule":"fillRule","font-family":"fontFamily","font-size":"fontSize","font-style":"fontStyle","font-weight":"fontWeight","letter-spacing":"charSpacing","paint-order":"paintFirst","stroke-dasharray":"strokeDashArray","stroke-dashoffset":"strokeDashOffset","stroke-linecap":"strokeLineCap","stroke-linejoin":"strokeLineJoin","stroke-miterlimit":"strokeMiterLimit","stroke-opacity":"strokeOpacity","stroke-width":"strokeWidth","text-decoration":"textDecoration","text-anchor":"textAnchor",opacity:"opacity","clip-path":"clipPath","clip-rule":"clipRule","vector-effect":"strokeUniform","image-rendering":"imageSmoothing"},b={stroke:"strokeOpacity",fill:"fillOpacity"},T="font-size",O="clip-path";a.svgValidTagNamesRegEx=yt(r),a.svgViewBoxElementsRegEx=yt(i),a.svgInvalidAncestorsRegEx=yt(u),a.svgValidParentsRegEx=yt(o),a.cssRules={},a.gradientDefs={},a.clipPaths={};function Y(U){return U in d?d[U]:U}function et(U,tt,mt,pt){var Yt=Object.prototype.toString.call(tt)==="[object Array]",St;if((U==="fill"||U==="stroke")&&tt==="none")tt="";else{if(U==="strokeUniform")return tt==="non-scaling-stroke";if(U==="strokeDashArray")tt==="none"?tt=null:tt=tt.replace(/,/g," ").split(/\s+/).map(parseFloat);else if(U==="transformMatrix")mt&&mt.transformMatrix?tt=e(mt.transformMatrix,a.parseTransformAttribute(tt)):tt=a.parseTransformAttribute(tt);else if(U==="visible")tt=tt!=="none"&&tt!=="hidden",mt&&mt.visible===!1&&(tt=!1);else if(U==="opacity")tt=parseFloat(tt),mt&&typeof mt.opacity!="undefined"&&(tt*=mt.opacity);else if(U==="textAnchor")tt=tt==="start"?"left":tt==="end"?"right":"center";else if(U==="charSpacing")St=n(tt,pt)/pt*1e3;else if(U==="paintFirst"){var Et=tt.indexOf("fill"),re=tt.indexOf("stroke"),tt="fill";(Et>-1&&re>-1&&re<Et||Et===-1&&re>-1)&&(tt="stroke")}else{if(U==="href"||U==="xlink:href"||U==="font")return tt;if(U==="imageSmoothing")return tt==="optimizeQuality";St=Yt?tt.map(n):n(tt,pt)}}return!Yt&&isNaN(St)?tt:St}function yt(U){return new RegExp("^("+U.join("|")+")\\b","i")}function Zt(U){for(var tt in b)if(!(typeof U[b[tt]]=="undefined"||U[tt]==="")){if(typeof U[tt]=="undefined"){if(!a.Object.prototype[tt])continue;U[tt]=a.Object.prototype[tt]}if(U[tt].indexOf("url(")!==0){var mt=new a.Color(U[tt]);U[tt]=mt.setAlpha(l(mt.getAlpha()*U[b[tt]],2)).toRgba()}}return U}function fe(U,tt){var mt,pt=[],Yt,St,Et;for(St=0,Et=tt.length;St<Et;St++)mt=tt[St],Yt=U.getElementsByTagName(mt),pt=pt.concat(Array.prototype.slice.call(Yt));return pt}a.parseTransformAttribute=function(){function U(vt,ee){var he=a.util.cos(ee[0]),yr=a.util.sin(ee[0]),Er=0,mr=0;ee.length===3&&(Er=ee[1],mr=ee[2]),vt[0]=he,vt[1]=yr,vt[2]=-yr,vt[3]=he,vt[4]=Er-(he*Er-yr*mr),vt[5]=mr-(yr*Er+he*mr)}function tt(vt,ee){var he=ee[0],yr=ee.length===2?ee[1]:ee[0];vt[0]=he,vt[3]=yr}function mt(vt,ee,he){vt[he]=Math.tan(a.util.degreesToRadians(ee[0]))}function pt(vt,ee){vt[4]=ee[0],ee.length===2&&(vt[5]=ee[1])}var Yt=a.iMatrix,St=a.reNum,Et=a.commaWsp,re="(?:(skewX)\\s*\\(\\s*("+St+")\\s*\\))",Vt="(?:(skewY)\\s*\\(\\s*("+St+")\\s*\\))",Ht="(?:(rotate)\\s*\\(\\s*("+St+")(?:"+Et+"("+St+")"+Et+"("+St+"))?\\s*\\))",Nt="(?:(scale)\\s*\\(\\s*("+St+")(?:"+Et+"("+St+"))?\\s*\\))",te="(?:(translate)\\s*\\(\\s*("+St+")(?:"+Et+"("+St+"))?\\s*\\))",oe="(?:(matrix)\\s*\\(\\s*("+St+")"+Et+"("+St+")"+Et+"("+St+")"+Et+"("+St+")"+Et+"("+St+")"+Et+"("+St+")\\s*\\))",Pe="(?:"+oe+"|"+te+"|"+Nt+"|"+Ht+"|"+re+"|"+Vt+")",K="(?:"+Pe+"(?:"+Et+"*"+Pe+")*)",F="^\\s*(?:"+K+"?)\\s*$",D=new RegExp(F),it=new RegExp(Pe,"g");return function(vt){var ee=Yt.concat(),he=[];if(!vt||vt&&!D.test(vt))return ee;vt.replace(it,function(Er){var mr=new RegExp(Pe).exec(Er).filter(function(Kr){return!!Kr}),xr=mr[1],_r=mr.slice(2).map(parseFloat);switch(xr){case"translate":pt(ee,_r);break;case"rotate":_r[0]=a.util.degreesToRadians(_r[0]),U(ee,_r);break;case"scale":tt(ee,_r);break;case"skewX":mt(ee,_r,2);break;case"skewY":mt(ee,_r,1);break;case"matrix":ee=_r;break}he.push(ee.concat()),ee=Yt.concat()});for(var yr=he[0];he.length>1;)he.shift(),yr=a.util.multiplyTransformMatrices(yr,he[0]);return yr}}();function Ue(U,tt){var mt,pt;U.replace(/;\s*$/,"").split(";").forEach(function(Yt){var St=Yt.split(":");mt=St[0].trim().toLowerCase(),pt=St[1].trim(),tt[mt]=pt})}function sr(U,tt){var mt,pt;for(var Yt in U)typeof U[Yt]!="undefined"&&(mt=Yt.toLowerCase(),pt=U[Yt],tt[mt]=pt)}function cr(U,tt){var mt={};for(var pt in a.cssRules[tt])if(Ke(U,pt.split(" ")))for(var Yt in a.cssRules[tt][pt])mt[Yt]=a.cssRules[tt][pt][Yt];return mt}function Ke(U,tt){var mt,pt=!0;return mt=gr(U,tt.pop()),mt&&tt.length&&(pt=Ie(U,tt)),mt&&pt&&tt.length===0}function Ie(U,tt){for(var mt,pt=!0;U.parentNode&&U.parentNode.nodeType===1&&tt.length;)pt&&(mt=tt.pop()),U=U.parentNode,pt=gr(U,mt);return tt.length===0}function gr(U,tt){var mt=U.nodeName,pt=U.getAttribute("class"),Yt=U.getAttribute("id"),St,Et;if(St=new RegExp("^"+mt,"i"),tt=tt.replace(St,""),Yt&&tt.length&&(St=new RegExp("#"+Yt+"(?![a-zA-Z\\-]+)","i"),tt=tt.replace(St,"")),pt&&tt.length)for(pt=pt.split(" "),Et=pt.length;Et--;)St=new RegExp("\\."+pt[Et]+"(?![a-zA-Z\\-]+)","i"),tt=tt.replace(St,"");return tt.length===0}function kr(U,tt){var mt;if(U.getElementById&&(mt=U.getElementById(tt)),mt)return mt;var pt,Yt,St,Et=U.getElementsByTagName("*");for(Yt=0,St=Et.length;Yt<St;Yt++)if(pt=Et[Yt],tt===pt.getAttribute("id"))return pt}function Ar(U){for(var tt=fe(U,["use","svg:use"]),mt=0;tt.length&&mt<tt.length;){var pt=tt[mt],Yt=pt.getAttribute("xlink:href")||pt.getAttribute("href");if(Yt===null)return;var St=Yt.substr(1),Et=pt.getAttribute("x")||0,re=pt.getAttribute("y")||0,Vt=kr(U,St).cloneNode(!0),Ht=(Vt.getAttribute("transform")||"")+" translate("+Et+", "+re+")",Nt,te=tt.length,oe,Pe,K,F,D=a.svgNS;if(me(Vt),/^svg$/i.test(Vt.nodeName)){var it=Vt.ownerDocument.createElementNS(D,"g");for(Pe=0,K=Vt.attributes,F=K.length;Pe<F;Pe++)oe=K.item(Pe),it.setAttributeNS(D,oe.nodeName,oe.nodeValue);for(;Vt.firstChild;)it.appendChild(Vt.firstChild);Vt=it}for(Pe=0,K=pt.attributes,F=K.length;Pe<F;Pe++)oe=K.item(Pe),!(oe.nodeName==="x"||oe.nodeName==="y"||oe.nodeName==="xlink:href"||oe.nodeName==="href")&&(oe.nodeName==="transform"?Ht=oe.nodeValue+" "+Ht:Vt.setAttribute(oe.nodeName,oe.nodeValue));Vt.setAttribute("transform",Ht),Vt.setAttribute("instantiated_by_use","1"),Vt.removeAttribute("id"),Nt=pt.parentNode,Nt.replaceChild(Vt,pt),tt.length===te&&mt++}}var lt=new RegExp("^\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*,?\\s*("+a.reNum+"+)\\s*$");function me(U){if(!a.svgViewBoxElementsRegEx.test(U.nodeName))return{};var tt=U.getAttribute("viewBox"),mt=1,pt=1,Yt=0,St=0,Et,re,Vt,Ht,Nt=U.getAttribute("width"),te=U.getAttribute("height"),oe=U.getAttribute("x")||0,Pe=U.getAttribute("y")||0,K=U.getAttribute("preserveAspectRatio")||"",F=!tt||!(tt=tt.match(lt)),D=!Nt||!te||Nt==="100%"||te==="100%",it=F&&D,vt={},ee="",he=0,yr=0;if(vt.width=0,vt.height=0,vt.toBeParsed=it,F&&(oe||Pe)&&U.parentNode&&U.parentNode.nodeName!=="#document"&&(ee=" translate("+n(oe)+" "+n(Pe)+") ",Vt=(U.getAttribute("transform")||"")+ee,U.setAttribute("transform",Vt),U.removeAttribute("x"),U.removeAttribute("y")),it)return vt;if(F)return vt.width=n(Nt),vt.height=n(te),vt;if(Yt=-parseFloat(tt[1]),St=-parseFloat(tt[2]),Et=parseFloat(tt[3]),re=parseFloat(tt[4]),vt.minX=Yt,vt.minY=St,vt.viewBoxWidth=Et,vt.viewBoxHeight=re,D?(vt.width=Et,vt.height=re):(vt.width=n(Nt),vt.height=n(te),mt=vt.width/Et,pt=vt.height/re),K=a.util.parsePreserveAspectRatioAttribute(K),K.alignX!=="none"&&(K.meetOrSlice==="meet"&&(pt=mt=mt>pt?pt:mt),K.meetOrSlice==="slice"&&(pt=mt=mt>pt?mt:pt),he=vt.width-Et*mt,yr=vt.height-re*mt,K.alignX==="Mid"&&(he/=2),K.alignY==="Mid"&&(yr/=2),K.alignX==="Min"&&(he=0),K.alignY==="Min"&&(yr=0)),mt===1&&pt===1&&Yt===0&&St===0&&oe===0&&Pe===0)return vt;if((oe||Pe)&&U.parentNode.nodeName!=="#document"&&(ee=" translate("+n(oe)+" "+n(Pe)+") "),Vt=ee+" matrix("+mt+" 0 0 "+pt+" "+(Yt*mt+he)+" "+(St*pt+yr)+") ",U.nodeName==="svg"){for(Ht=U.ownerDocument.createElementNS(a.svgNS,"g");U.firstChild;)Ht.appendChild(U.firstChild);U.appendChild(Ht)}else Ht=U,Ht.removeAttribute("x"),Ht.removeAttribute("y"),Vt=Ht.getAttribute("transform")+Vt;return Ht.setAttribute("transform",Vt),vt}function Z(U,tt){for(;U&&(U=U.parentNode);)if(U.nodeName&&tt.test(U.nodeName.replace("svg:",""))&&!U.getAttribute("instantiated_by_use"))return!0;return!1}a.parseSVGDocument=function(U,tt,mt,pt){if(!!U){Ar(U);var Yt=a.Object.__uid++,St,Et,re=me(U),Vt=a.util.toArray(U.getElementsByTagName("*"));if(re.crossOrigin=pt&&pt.crossOrigin,re.svgUid=Yt,Vt.length===0&&a.isLikelyNode){Vt=U.selectNodes('//*[name(.)!="svg"]');var Ht=[];for(St=0,Et=Vt.length;St<Et;St++)Ht[St]=Vt[St];Vt=Ht}var Nt=Vt.filter(function(oe){return me(oe),a.svgValidTagNamesRegEx.test(oe.nodeName.replace("svg:",""))&&!Z(oe,a.svgInvalidAncestorsRegEx)});if(!Nt||Nt&&!Nt.length){tt&&tt([],{});return}var te={};Vt.filter(function(oe){return oe.nodeName.replace("svg:","")==="clipPath"}).forEach(function(oe){var Pe=oe.getAttribute("id");te[Pe]=a.util.toArray(oe.getElementsByTagName("*")).filter(function(K){return a.svgValidTagNamesRegEx.test(K.nodeName.replace("svg:",""))})}),a.gradientDefs[Yt]=a.getGradientDefs(U),a.cssRules[Yt]=a.getCSSRules(U),a.clipPaths[Yt]=te,a.parseElements(Nt,function(oe,Pe){tt&&(tt(oe,re,Pe,Vt),delete a.gradientDefs[Yt],delete a.cssRules[Yt],delete a.clipPaths[Yt])},h(re),mt,pt)}};function ct(U,tt){var mt=["gradientTransform","x1","x2","y1","y2","gradientUnits","cx","cy","r","fx","fy"],pt="xlink:href",Yt=tt.getAttribute(pt).substr(1),St=kr(U,Yt);if(St&&St.getAttribute(pt)&&ct(U,St),mt.forEach(function(re){St&&!tt.hasAttribute(re)&&St.hasAttribute(re)&&tt.setAttribute(re,St.getAttribute(re))}),!tt.children.length)for(var Et=St.cloneNode(!0);Et.firstChild;)tt.appendChild(Et.firstChild);tt.removeAttribute(pt)}var Ot=new RegExp("(normal|italic)?\\s*(normal|small-caps)?\\s*(normal|bold|bolder|lighter|100|200|300|400|500|600|700|800|900)?\\s*("+a.reNum+"(?:px|cm|mm|em|pt|pc|in)*)(?:\\/(normal|"+a.reNum+"))?\\s+(.*)");f(a,{parseFontDeclaration:function(tt,mt){var pt=tt.match(Ot);if(!!pt){var Yt=pt[1],St=pt[3],Et=pt[4],re=pt[5],Vt=pt[6];Yt&&(mt.fontStyle=Yt),St&&(mt.fontWeight=isNaN(parseFloat(St))?St:parseFloat(St)),Et&&(mt.fontSize=n(Et)),Vt&&(mt.fontFamily=Vt),re&&(mt.lineHeight=re==="normal"?1:re)}},getGradientDefs:function(tt){var mt=["linearGradient","radialGradient","svg:linearGradient","svg:radialGradient"],pt=fe(tt,mt),Yt,St=0,Et={};for(St=pt.length;St--;)Yt=pt[St],Yt.getAttribute("xlink:href")&&ct(tt,Yt),Et[Yt.getAttribute("id")]=Yt;return Et},parseAttributes:function(tt,mt,pt){if(!!tt){var Yt,St={},Et,re;typeof pt=="undefined"&&(pt=tt.getAttribute("svgUid")),tt.parentNode&&a.svgValidParentsRegEx.test(tt.parentNode.nodeName)&&(St=a.parseAttributes(tt.parentNode,mt,pt));var Vt=mt.reduce(function(F,D){return Yt=tt.getAttribute(D),Yt&&(F[D]=Yt),F},{}),Ht=f(cr(tt,pt),a.parseStyleAttribute(tt));Vt=f(Vt,Ht),Ht[O]&&tt.setAttribute(O,Ht[O]),Et=re=St.fontSize||a.Text.DEFAULT_SVG_FONT_SIZE,Vt[T]&&(Vt[T]=Et=n(Vt[T],re));var Nt,te,oe={};for(var Pe in Vt)Nt=Y(Pe),te=et(Nt,Vt[Pe],St,Et),oe[Nt]=te;oe&&oe.font&&a.parseFontDeclaration(oe.font,oe);var K=f(St,oe);return a.svgValidParentsRegEx.test(tt.nodeName)?K:Zt(K)}},parseElements:function(tt,mt,pt,Yt,St){new a.ElementsParser(tt,mt,pt,Yt,St).parse()},parseStyleAttribute:function(tt){var mt={},pt=tt.getAttribute("style");return pt&&(typeof pt=="string"?Ue(pt,mt):sr(pt,mt)),mt},parsePointsAttribute:function(tt){if(!tt)return null;tt=tt.replace(/,/g," ").trim(),tt=tt.split(/\s+/);var mt=[],pt,Yt;for(pt=0,Yt=tt.length;pt<Yt;pt+=2)mt.push({x:parseFloat(tt[pt]),y:parseFloat(tt[pt+1])});return mt},getCSSRules:function(tt){var mt=tt.getElementsByTagName("style"),pt,Yt,St={},Et;for(pt=0,Yt=mt.length;pt<Yt;pt++){var re=mt[pt].textContent;re=re.replace(/\/\*[\s\S]*?\*\//g,""),re.trim()!==""&&(Et=re.match(/[^{]*\{[\s\S]*?\}/g),Et=Et.map(function(Vt){return Vt.trim()}),Et.forEach(function(Vt){var Ht=Vt.match(/([\s\S]*?)\s*\{([^}]*)\}/),Nt={},te=Ht[2].trim(),oe=te.replace(/;$/,"").split(/\s*;\s*/);for(pt=0,Yt=oe.length;pt<Yt;pt++){var Pe=oe[pt].split(/\s*:\s*/),K=Pe[0],F=Pe[1];Nt[K]=F}Vt=Ht[1],Vt.split(",").forEach(function(D){D=D.replace(/^svg/i,"").trim(),D!==""&&(St[D]?a.util.object.extend(St[D],Nt):St[D]=a.util.object.clone(Nt))})}))}return St},loadSVGFromURL:function(tt,mt,pt,Yt){tt=tt.replace(/^\n\s*/,"").trim(),new a.util.request(tt,{method:"get",onComplete:St});function St(Et){var re=Et.responseXML;if(!re||!re.documentElement)return mt&&mt(null),!1;a.parseSVGDocument(re.documentElement,function(Vt,Ht,Nt,te){mt&&mt(Vt,Ht,Nt,te)},pt,Yt)}},loadSVGFromString:function(tt,mt,pt,Yt){var St=new a.window.DOMParser,Et=St.parseFromString(tt.trim(),"text/xml");a.parseSVGDocument(Et.documentElement,function(re,Vt,Ht,Nt){mt(re,Vt,Ht,Nt)},pt,Yt)}})}(hr),C.ElementsParser=function(L,a,f,h,l,n){this.elements=L,this.callback=a,this.options=f,this.reviver=h,this.svgUid=f&&f.svgUid||0,this.parsingOptions=l,this.regexUrl=/^url\(['"]?#([^'"]+)['"]?\)/g,this.doc=n},function(L){L.parse=function(){this.instances=new Array(this.elements.length),this.numElements=this.elements.length,this.createObjects()},L.createObjects=function(){var a=this;this.elements.forEach(function(f,h){f.setAttribute("svgUid",a.svgUid),a.createObject(f,h)})},L.findTag=function(a){return C[C.util.string.capitalize(a.tagName.replace("svg:",""))]},L.createObject=function(a,f){var h=this.findTag(a);if(h&&h.fromElement)try{h.fromElement(a,this.createCallback(f,a),this.options)}catch(l){C.log(l)}else this.checkIfDone()},L.createCallback=function(a,f){var h=this;return function(l){var n;h.resolveGradient(l,f,"fill"),h.resolveGradient(l,f,"stroke"),l instanceof C.Image&&l._originalElement&&(n=l.parsePreserveAspectRatioAttribute(f)),l._removeTransformMatrix(n),h.resolveClipPath(l,f),h.reviver&&h.reviver(f,l),h.instances[a]=l,h.checkIfDone()}},L.extractPropertyDefinition=function(a,f,h){var l=a[f],n=this.regexUrl;if(!!n.test(l)){n.lastIndex=0;var e=n.exec(l)[1];return n.lastIndex=0,C[h][this.svgUid][e]}},L.resolveGradient=function(a,f,h){var l=this.extractPropertyDefinition(a,h,"gradientDefs");if(l){var n=f.getAttribute(h+"-opacity"),e=C.Gradient.fromElement(l,a,n,this.options);a.set(h,e)}},L.createClipPathCallback=function(a,f){return function(h){h._removeTransformMatrix(),h.fillRule=h.clipRule,f.push(h)}},L.resolveClipPath=function(a,f){var h=this.extractPropertyDefinition(a,"clipPath","clipPaths"),l,n,e,r,i,u;if(h){r=[],e=C.util.invertTransform(a.calcTransformMatrix());for(var o=h[0].parentNode,d=f;d.parentNode&&d.getAttribute("clip-path")!==a.clipPath;)d=d.parentNode;d.parentNode.appendChild(o);for(var b=0;b<h.length;b++)l=h[b],n=this.findTag(l),n.fromElement(l,this.createClipPathCallback(a,r),this.options);r.length===1?h=r[0]:h=new C.Group(r),i=C.util.multiplyTransformMatrices(e,h.calcTransformMatrix()),h.clipPath&&this.resolveClipPath(h,d);var u=C.util.qrDecompose(i);h.flipX=!1,h.flipY=!1,h.set("scaleX",u.scaleX),h.set("scaleY",u.scaleY),h.angle=u.angle,h.skewX=u.skewX,h.skewY=0,h.setPositionByOrigin({x:u.translateX,y:u.translateY},"center","center"),a.clipPath=h}else delete a.clipPath},L.checkIfDone=function(){--this.numElements==0&&(this.instances=this.instances.filter(function(a){return a!=null}),this.callback(this.instances,this.elements))}}(C.ElementsParser.prototype),function(L){"use strict";var a=L.fabric||(L.fabric={});if(a.Point){a.warn("fabric.Point is already defined");return}a.Point=f;function f(h,l){this.x=h,this.y=l}f.prototype={type:"point",constructor:f,add:function(l){return new f(this.x+l.x,this.y+l.y)},addEquals:function(l){return this.x+=l.x,this.y+=l.y,this},scalarAdd:function(l){return new f(this.x+l,this.y+l)},scalarAddEquals:function(l){return this.x+=l,this.y+=l,this},subtract:function(l){return new f(this.x-l.x,this.y-l.y)},subtractEquals:function(l){return this.x-=l.x,this.y-=l.y,this},scalarSubtract:function(l){return new f(this.x-l,this.y-l)},scalarSubtractEquals:function(l){return this.x-=l,this.y-=l,this},multiply:function(l){return new f(this.x*l,this.y*l)},multiplyEquals:function(l){return this.x*=l,this.y*=l,this},divide:function(l){return new f(this.x/l,this.y/l)},divideEquals:function(l){return this.x/=l,this.y/=l,this},eq:function(l){return this.x===l.x&&this.y===l.y},lt:function(l){return this.x<l.x&&this.y<l.y},lte:function(l){return this.x<=l.x&&this.y<=l.y},gt:function(l){return this.x>l.x&&this.y>l.y},gte:function(l){return this.x>=l.x&&this.y>=l.y},lerp:function(l,n){return typeof n=="undefined"&&(n=.5),n=Math.max(Math.min(1,n),0),new f(this.x+(l.x-this.x)*n,this.y+(l.y-this.y)*n)},distanceFrom:function(l){var n=this.x-l.x,e=this.y-l.y;return Math.sqrt(n*n+e*e)},midPointFrom:function(l){return this.lerp(l)},min:function(l){return new f(Math.min(this.x,l.x),Math.min(this.y,l.y))},max:function(l){return new f(Math.max(this.x,l.x),Math.max(this.y,l.y))},toString:function(){return this.x+","+this.y},setXY:function(l,n){return this.x=l,this.y=n,this},setX:function(l){return this.x=l,this},setY:function(l){return this.y=l,this},setFromPoint:function(l){return this.x=l.x,this.y=l.y,this},swap:function(l){var n=this.x,e=this.y;this.x=l.x,this.y=l.y,l.x=n,l.y=e},clone:function(){return new f(this.x,this.y)}}}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={});if(a.Intersection){a.warn("fabric.Intersection is already defined");return}function f(h){this.status=h,this.points=[]}a.Intersection=f,a.Intersection.prototype={constructor:f,appendPoint:function(l){return this.points.push(l),this},appendPoints:function(l){return this.points=this.points.concat(l),this}},a.Intersection.intersectLineLine=function(h,l,n,e){var r,i=(e.x-n.x)*(h.y-n.y)-(e.y-n.y)*(h.x-n.x),u=(l.x-h.x)*(h.y-n.y)-(l.y-h.y)*(h.x-n.x),o=(e.y-n.y)*(l.x-h.x)-(e.x-n.x)*(l.y-h.y);if(o!==0){var d=i/o,b=u/o;0<=d&&d<=1&&0<=b&&b<=1?(r=new f("Intersection"),r.appendPoint(new a.Point(h.x+d*(l.x-h.x),h.y+d*(l.y-h.y)))):r=new f}else i===0||u===0?r=new f("Coincident"):r=new f("Parallel");return r},a.Intersection.intersectLinePolygon=function(h,l,n){var e=new f,r=n.length,i,u,o,d;for(d=0;d<r;d++)i=n[d],u=n[(d+1)%r],o=f.intersectLineLine(h,l,i,u),e.appendPoints(o.points);return e.points.length>0&&(e.status="Intersection"),e},a.Intersection.intersectPolygonPolygon=function(h,l){var n=new f,e=h.length,r;for(r=0;r<e;r++){var i=h[r],u=h[(r+1)%e],o=f.intersectLinePolygon(i,u,l);n.appendPoints(o.points)}return n.points.length>0&&(n.status="Intersection"),n},a.Intersection.intersectPolygonRectangle=function(h,l,n){var e=l.min(n),r=l.max(n),i=new a.Point(r.x,e.y),u=new a.Point(e.x,r.y),o=f.intersectLinePolygon(e,i,h),d=f.intersectLinePolygon(i,r,h),b=f.intersectLinePolygon(r,u,h),T=f.intersectLinePolygon(u,e,h),O=new f;return O.appendPoints(o.points),O.appendPoints(d.points),O.appendPoints(b.points),O.appendPoints(T.points),O.points.length>0&&(O.status="Intersection"),O}}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={});if(a.Color){a.warn("fabric.Color is already defined.");return}function f(l){l?this._tryParsingColor(l):this.setSource([0,0,0,1])}a.Color=f,a.Color.prototype={_tryParsingColor:function(n){var e;n in f.colorNameMap&&(n=f.colorNameMap[n]),n==="transparent"&&(e=[255,255,255,0]),e||(e=f.sourceFromHex(n)),e||(e=f.sourceFromRgb(n)),e||(e=f.sourceFromHsl(n)),e||(e=[0,0,0,1]),e&&this.setSource(e)},_rgbToHsl:function(n,e,r){n/=255,e/=255,r/=255;var i,u,o,d=a.util.array.max([n,e,r]),b=a.util.array.min([n,e,r]);if(o=(d+b)/2,d===b)i=u=0;else{var T=d-b;switch(u=o>.5?T/(2-d-b):T/(d+b),d){case n:i=(e-r)/T+(e<r?6:0);break;case e:i=(r-n)/T+2;break;case r:i=(n-e)/T+4;break}i/=6}return[Math.round(i*360),Math.round(u*100),Math.round(o*100)]},getSource:function(){return this._source},setSource:function(n){this._source=n},toRgb:function(){var n=this.getSource();return"rgb("+n[0]+","+n[1]+","+n[2]+")"},toRgba:function(){var n=this.getSource();return"rgba("+n[0]+","+n[1]+","+n[2]+","+n[3]+")"},toHsl:function(){var n=this.getSource(),e=this._rgbToHsl(n[0],n[1],n[2]);return"hsl("+e[0]+","+e[1]+"%,"+e[2]+"%)"},toHsla:function(){var n=this.getSource(),e=this._rgbToHsl(n[0],n[1],n[2]);return"hsla("+e[0]+","+e[1]+"%,"+e[2]+"%,"+n[3]+")"},toHex:function(){var n=this.getSource(),e,r,i;return e=n[0].toString(16),e=e.length===1?"0"+e:e,r=n[1].toString(16),r=r.length===1?"0"+r:r,i=n[2].toString(16),i=i.length===1?"0"+i:i,e.toUpperCase()+r.toUpperCase()+i.toUpperCase()},toHexa:function(){var n=this.getSource(),e;return e=Math.round(n[3]*255),e=e.toString(16),e=e.length===1?"0"+e:e,this.toHex()+e.toUpperCase()},getAlpha:function(){return this.getSource()[3]},setAlpha:function(n){var e=this.getSource();return e[3]=n,this.setSource(e),this},toGrayscale:function(){var n=this.getSource(),e=parseInt((n[0]*.3+n[1]*.59+n[2]*.11).toFixed(0),10),r=n[3];return this.setSource([e,e,e,r]),this},toBlackWhite:function(n){var e=this.getSource(),r=(e[0]*.3+e[1]*.59+e[2]*.11).toFixed(0),i=e[3];return n=n||127,r=Number(r)<Number(n)?0:255,this.setSource([r,r,r,i]),this},overlayWith:function(n){n instanceof f||(n=new f(n));var e=[],r=this.getAlpha(),i=.5,u=this.getSource(),o=n.getSource(),d;for(d=0;d<3;d++)e.push(Math.round(u[d]*(1-i)+o[d]*i));return e[3]=r,this.setSource(e),this}},a.Color.reRGBa=/^rgba?\(\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*,\s*(\d{1,3}(?:\.\d+)?\%?)\s*(?:\s*,\s*((?:\d*\.?\d+)?)\s*)?\)$/i,a.Color.reHSLa=/^hsla?\(\s*(\d{1,3})\s*,\s*(\d{1,3}\%)\s*,\s*(\d{1,3}\%)\s*(?:\s*,\s*(\d+(?:\.\d+)?)\s*)?\)$/i,a.Color.reHex=/^#?([0-9a-f]{8}|[0-9a-f]{6}|[0-9a-f]{4}|[0-9a-f]{3})$/i,a.Color.colorNameMap={aliceblue:"#F0F8FF",antiquewhite:"#FAEBD7",aqua:"#00FFFF",aquamarine:"#7FFFD4",azure:"#F0FFFF",beige:"#F5F5DC",bisque:"#FFE4C4",black:"#000000",blanchedalmond:"#FFEBCD",blue:"#0000FF",blueviolet:"#8A2BE2",brown:"#A52A2A",burlywood:"#DEB887",cadetblue:"#5F9EA0",chartreuse:"#7FFF00",chocolate:"#D2691E",coral:"#FF7F50",cornflowerblue:"#6495ED",cornsilk:"#FFF8DC",crimson:"#DC143C",cyan:"#00FFFF",darkblue:"#00008B",darkcyan:"#008B8B",darkgoldenrod:"#B8860B",darkgray:"#A9A9A9",darkgrey:"#A9A9A9",darkgreen:"#006400",darkkhaki:"#BDB76B",darkmagenta:"#8B008B",darkolivegreen:"#556B2F",darkorange:"#FF8C00",darkorchid:"#9932CC",darkred:"#8B0000",darksalmon:"#E9967A",darkseagreen:"#8FBC8F",darkslateblue:"#483D8B",darkslategray:"#2F4F4F",darkslategrey:"#2F4F4F",darkturquoise:"#00CED1",darkviolet:"#9400D3",deeppink:"#FF1493",deepskyblue:"#00BFFF",dimgray:"#696969",dimgrey:"#696969",dodgerblue:"#1E90FF",firebrick:"#B22222",floralwhite:"#FFFAF0",forestgreen:"#228B22",fuchsia:"#FF00FF",gainsboro:"#DCDCDC",ghostwhite:"#F8F8FF",gold:"#FFD700",goldenrod:"#DAA520",gray:"#808080",grey:"#808080",green:"#008000",greenyellow:"#ADFF2F",honeydew:"#F0FFF0",hotpink:"#FF69B4",indianred:"#CD5C5C",indigo:"#4B0082",ivory:"#FFFFF0",khaki:"#F0E68C",lavender:"#E6E6FA",lavenderblush:"#FFF0F5",lawngreen:"#7CFC00",lemonchiffon:"#FFFACD",lightblue:"#ADD8E6",lightcoral:"#F08080",lightcyan:"#E0FFFF",lightgoldenrodyellow:"#FAFAD2",lightgray:"#D3D3D3",lightgrey:"#D3D3D3",lightgreen:"#90EE90",lightpink:"#FFB6C1",lightsalmon:"#FFA07A",lightseagreen:"#20B2AA",lightskyblue:"#87CEFA",lightslategray:"#778899",lightslategrey:"#778899",lightsteelblue:"#B0C4DE",lightyellow:"#FFFFE0",lime:"#00FF00",limegreen:"#32CD32",linen:"#FAF0E6",magenta:"#FF00FF",maroon:"#800000",mediumaquamarine:"#66CDAA",mediumblue:"#0000CD",mediumorchid:"#BA55D3",mediumpurple:"#9370DB",mediumseagreen:"#3CB371",mediumslateblue:"#7B68EE",mediumspringgreen:"#00FA9A",mediumturquoise:"#48D1CC",mediumvioletred:"#C71585",midnightblue:"#191970",mintcream:"#F5FFFA",mistyrose:"#FFE4E1",moccasin:"#FFE4B5",navajowhite:"#FFDEAD",navy:"#000080",oldlace:"#FDF5E6",olive:"#808000",olivedrab:"#6B8E23",orange:"#FFA500",orangered:"#FF4500",orchid:"#DA70D6",palegoldenrod:"#EEE8AA",palegreen:"#98FB98",paleturquoise:"#AFEEEE",palevioletred:"#DB7093",papayawhip:"#FFEFD5",peachpuff:"#FFDAB9",peru:"#CD853F",pink:"#FFC0CB",plum:"#DDA0DD",powderblue:"#B0E0E6",purple:"#800080",rebeccapurple:"#663399",red:"#FF0000",rosybrown:"#BC8F8F",royalblue:"#4169E1",saddlebrown:"#8B4513",salmon:"#FA8072",sandybrown:"#F4A460",seagreen:"#2E8B57",seashell:"#FFF5EE",sienna:"#A0522D",silver:"#C0C0C0",skyblue:"#87CEEB",slateblue:"#6A5ACD",slategray:"#708090",slategrey:"#708090",snow:"#FFFAFA",springgreen:"#00FF7F",steelblue:"#4682B4",tan:"#D2B48C",teal:"#008080",thistle:"#D8BFD8",tomato:"#FF6347",turquoise:"#40E0D0",violet:"#EE82EE",wheat:"#F5DEB3",white:"#FFFFFF",whitesmoke:"#F5F5F5",yellow:"#FFFF00",yellowgreen:"#9ACD32"};function h(l,n,e){return e<0&&(e+=1),e>1&&(e-=1),e<1/6?l+(n-l)*6*e:e<1/2?n:e<2/3?l+(n-l)*(2/3-e)*6:l}a.Color.fromRgb=function(l){return f.fromSource(f.sourceFromRgb(l))},a.Color.sourceFromRgb=function(l){var n=l.match(f.reRGBa);if(n){var e=parseInt(n[1],10)/(/%$/.test(n[1])?100:1)*(/%$/.test(n[1])?255:1),r=parseInt(n[2],10)/(/%$/.test(n[2])?100:1)*(/%$/.test(n[2])?255:1),i=parseInt(n[3],10)/(/%$/.test(n[3])?100:1)*(/%$/.test(n[3])?255:1);return[parseInt(e,10),parseInt(r,10),parseInt(i,10),n[4]?parseFloat(n[4]):1]}},a.Color.fromRgba=f.fromRgb,a.Color.fromHsl=function(l){return f.fromSource(f.sourceFromHsl(l))},a.Color.sourceFromHsl=function(l){var n=l.match(f.reHSLa);if(!!n){var e=(parseFloat(n[1])%360+360)%360/360,r=parseFloat(n[2])/(/%$/.test(n[2])?100:1),i=parseFloat(n[3])/(/%$/.test(n[3])?100:1),u,o,d;if(r===0)u=o=d=i;else{var b=i<=.5?i*(r+1):i+r-i*r,T=i*2-b;u=h(T,b,e+1/3),o=h(T,b,e),d=h(T,b,e-1/3)}return[Math.round(u*255),Math.round(o*255),Math.round(d*255),n[4]?parseFloat(n[4]):1]}},a.Color.fromHsla=f.fromHsl,a.Color.fromHex=function(l){return f.fromSource(f.sourceFromHex(l))},a.Color.sourceFromHex=function(l){if(l.match(f.reHex)){var n=l.slice(l.indexOf("#")+1),e=n.length===3||n.length===4,r=n.length===8||n.length===4,i=e?n.charAt(0)+n.charAt(0):n.substring(0,2),u=e?n.charAt(1)+n.charAt(1):n.substring(2,4),o=e?n.charAt(2)+n.charAt(2):n.substring(4,6),d=r?e?n.charAt(3)+n.charAt(3):n.substring(6,8):"FF";return[parseInt(i,16),parseInt(u,16),parseInt(o,16),parseFloat((parseInt(d,16)/255).toFixed(2))]}},a.Color.fromSource=function(l){var n=new f;return n.setSource(l),n}}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=["e","se","s","sw","w","nw","n","ne","e"],h=["ns","nesw","ew","nwse"],l={},n="left",e="top",r="right",i="bottom",u="center",o={top:i,bottom:e,left:r,right:n,center:u},d=a.util.radiansToDegrees,b=Math.sign||function(Ht){return(Ht>0)-(Ht<0)||+Ht};function T(Ht,Nt){var te=Ht.angle+d(Math.atan2(Nt.y,Nt.x))+360;return Math.round(te%360/45)}function O(Ht,Nt){var te=Nt.transform.target,oe=te.canvas,Pe=a.util.object.clone(Nt);Pe.target=te,oe&&oe.fire("object:"+Ht,Pe),te.fire(Ht,Nt)}function Y(Ht,Nt){var te=Nt.canvas,oe=te.uniScaleKey,Pe=Ht[oe];return te.uniformScaling&&!Pe||!te.uniformScaling&&Pe}function et(Ht){return Ht.originX===u&&Ht.originY===u}function yt(Ht,Nt,te){var oe=Ht.lockScalingX,Pe=Ht.lockScalingY;return!!(oe&&Pe||!Nt&&(oe||Pe)&&te||oe&&Nt==="x"||Pe&&Nt==="y")}function Zt(Ht,Nt,te){var oe="not-allowed",Pe=Y(Ht,te),K="";if(Nt.x!==0&&Nt.y===0?K="x":Nt.x===0&&Nt.y!==0&&(K="y"),yt(te,K,Pe))return oe;var F=T(te,Nt);return f[F]+"-resize"}function fe(Ht,Nt,te){var oe="not-allowed";if(Nt.x!==0&&te.lockSkewingY||Nt.y!==0&&te.lockSkewingX)return oe;var Pe=T(te,Nt)%4;return h[Pe]+"-resize"}function Ue(Ht,Nt,te){return Ht[te.canvas.altActionKey]?l.skewCursorStyleHandler(Ht,Nt,te):l.scaleCursorStyleHandler(Ht,Nt,te)}function sr(Ht,Nt,te){var oe=Ht[te.canvas.altActionKey];if(Nt.x===0)return oe?"skewX":"scaleY";if(Nt.y===0)return oe?"skewY":"scaleX"}function cr(Ht,Nt,te){return te.lockRotation?"not-allowed":Nt.cursorStyle}function Ke(Ht,Nt,te,oe){return{e:Ht,transform:Nt,pointer:{x:te,y:oe}}}function Ie(Ht){return function(Nt,te,oe,Pe){var K=te.target,F=K.getCenterPoint(),D=K.translateToOriginPoint(F,te.originX,te.originY),it=Ht(Nt,te,oe,Pe);return K.setPositionByOrigin(D,te.originX,te.originY),it}}function gr(Ht,Nt){return function(te,oe,Pe,K){var F=Nt(te,oe,Pe,K);return F&&O(Ht,Ke(te,oe,Pe,K)),F}}function kr(Ht,Nt,te,oe,Pe){var K=Ht.target,F=K.controls[Ht.corner],D=K.canvas.getZoom(),it=K.padding/D,vt=K.toLocalPoint(new a.Point(oe,Pe),Nt,te);return vt.x>=it&&(vt.x-=it),vt.x<=-it&&(vt.x+=it),vt.y>=it&&(vt.y-=it),vt.y<=it&&(vt.y+=it),vt.x-=F.offsetX,vt.y-=F.offsetY,vt}function Ar(Ht){return Ht.flipX!==Ht.flipY}function lt(Ht,Nt,te,oe,Pe){if(Ht[Nt]!==0){var K=Ht._getTransformedDimensions()[oe],F=Pe/K*Ht[te];Ht.set(te,F)}}function me(Ht,Nt,te,oe){var Pe=Nt.target,K=Pe._getTransformedDimensions(0,Pe.skewY),F=kr(Nt,Nt.originX,Nt.originY,te,oe),D=Math.abs(F.x*2)-K.x,it=Pe.skewX,vt;D<2?vt=0:(vt=d(Math.atan2(D/Pe.scaleX,K.y/Pe.scaleY)),Nt.originX===n&&Nt.originY===i&&(vt=-vt),Nt.originX===r&&Nt.originY===e&&(vt=-vt),Ar(Pe)&&(vt=-vt));var ee=it!==vt;if(ee){var he=Pe._getTransformedDimensions().y;Pe.set("skewX",vt),lt(Pe,"skewY","scaleY","y",he)}return ee}function Z(Ht,Nt,te,oe){var Pe=Nt.target,K=Pe._getTransformedDimensions(Pe.skewX,0),F=kr(Nt,Nt.originX,Nt.originY,te,oe),D=Math.abs(F.y*2)-K.y,it=Pe.skewY,vt;D<2?vt=0:(vt=d(Math.atan2(D/Pe.scaleY,K.x/Pe.scaleX)),Nt.originX===n&&Nt.originY===i&&(vt=-vt),Nt.originX===r&&Nt.originY===e&&(vt=-vt),Ar(Pe)&&(vt=-vt));var ee=it!==vt;if(ee){var he=Pe._getTransformedDimensions().x;Pe.set("skewY",vt),lt(Pe,"skewX","scaleX","x",he)}return ee}function ct(Ht,Nt,te,oe){var Pe=Nt.target,K=Pe.skewX,F,D=Nt.originY;if(Pe.lockSkewingX)return!1;if(K===0){var it=kr(Nt,u,u,te,oe);it.x>0?F=n:F=r}else K>0&&(F=D===e?n:r),K<0&&(F=D===e?r:n),Ar(Pe)&&(F=F===n?r:n);Nt.originX=F;var vt=gr("skewing",Ie(me));return vt(Ht,Nt,te,oe)}function Ot(Ht,Nt,te,oe){var Pe=Nt.target,K=Pe.skewY,F,D=Nt.originX;if(Pe.lockSkewingY)return!1;if(K===0){var it=kr(Nt,u,u,te,oe);it.y>0?F=e:F=i}else K>0&&(F=D===n?e:i),K<0&&(F=D===n?i:e),Ar(Pe)&&(F=F===e?i:e);Nt.originY=F;var vt=gr("skewing",Ie(Z));return vt(Ht,Nt,te,oe)}function U(Ht,Nt,te,oe){var Pe=Nt,K=Pe.target,F=K.translateToOriginPoint(K.getCenterPoint(),Pe.originX,Pe.originY);if(K.lockRotation)return!1;var D=Math.atan2(Pe.ey-F.y,Pe.ex-F.x),it=Math.atan2(oe-F.y,te-F.x),vt=d(it-D+Pe.theta),ee=!0;if(K.snapAngle>0){var he=K.snapAngle,yr=K.snapThreshold||he,Er=Math.ceil(vt/he)*he,mr=Math.floor(vt/he)*he;Math.abs(vt-mr)<yr?vt=mr:Math.abs(vt-Er)<yr&&(vt=Er)}return vt<0&&(vt=360+vt),vt%=360,ee=K.angle!==vt,K.angle=vt,ee}function tt(Ht,Nt,te,oe,Pe){Pe=Pe||{};var K=Nt.target,F=K.lockScalingX,D=K.lockScalingY,it=Pe.by,vt,ee,he,yr,Er=Y(Ht,K),mr=yt(K,it,Er),xr,_r,Kr=Nt.gestureScale;if(mr)return!1;if(Kr)ee=Nt.scaleX*Kr,he=Nt.scaleY*Kr;else{if(vt=kr(Nt,Nt.originX,Nt.originY,te,oe),xr=it!=="y"?b(vt.x):1,_r=it!=="x"?b(vt.y):1,Nt.signX||(Nt.signX=xr),Nt.signY||(Nt.signY=_r),K.lockScalingFlip&&(Nt.signX!==xr||Nt.signY!==_r))return!1;if(yr=K._getTransformedDimensions(),Er&&!it){var ln=Math.abs(vt.x)+Math.abs(vt.y),bn=Nt.original,Un=Math.abs(yr.x*bn.scaleX/K.scaleX)+Math.abs(yr.y*bn.scaleY/K.scaleY),$n=ln/Un;ee=bn.scaleX*$n,he=bn.scaleY*$n}else ee=Math.abs(vt.x*K.scaleX/yr.x),he=Math.abs(vt.y*K.scaleY/yr.y);et(Nt)&&(ee*=2,he*=2),Nt.signX!==xr&&it!=="y"&&(Nt.originX=o[Nt.originX],ee*=-1,Nt.signX=xr),Nt.signY!==_r&&it!=="x"&&(Nt.originY=o[Nt.originY],he*=-1,Nt.signY=_r)}var Sn=K.scaleX,Gn=K.scaleY;return it?(it==="x"&&K.set("scaleX",ee),it==="y"&&K.set("scaleY",he)):(!F&&K.set("scaleX",ee),!D&&K.set("scaleY",he)),Sn!==K.scaleX||Gn!==K.scaleY}function mt(Ht,Nt,te,oe){return tt(Ht,Nt,te,oe)}function pt(Ht,Nt,te,oe){return tt(Ht,Nt,te,oe,{by:"x"})}function Yt(Ht,Nt,te,oe){return tt(Ht,Nt,te,oe,{by:"y"})}function St(Ht,Nt,te,oe){return Ht[Nt.target.canvas.altActionKey]?l.skewHandlerX(Ht,Nt,te,oe):l.scalingY(Ht,Nt,te,oe)}function Et(Ht,Nt,te,oe){return Ht[Nt.target.canvas.altActionKey]?l.skewHandlerY(Ht,Nt,te,oe):l.scalingX(Ht,Nt,te,oe)}function re(Ht,Nt,te,oe){var Pe=Nt.target,K=kr(Nt,Nt.originX,Nt.originY,te,oe),F=Pe.strokeWidth/(Pe.strokeUniform?Pe.scaleX:1),D=et(Nt)?2:1,it=Pe.width,vt=Math.abs(K.x*D/Pe.scaleX)-F;return Pe.set("width",Math.max(vt,0)),it!==vt}function Vt(Ht,Nt,te,oe){var Pe=Nt.target,K=te-Nt.offsetX,F=oe-Nt.offsetY,D=!Pe.get("lockMovementX")&&Pe.left!==K,it=!Pe.get("lockMovementY")&&Pe.top!==F;return D&&Pe.set("left",K),it&&Pe.set("top",F),(D||it)&&O("moving",Ke(Ht,Nt,te,oe)),D||it}l.scaleCursorStyleHandler=Zt,l.skewCursorStyleHandler=fe,l.scaleSkewCursorStyleHandler=Ue,l.rotationWithSnapping=gr("rotating",Ie(U)),l.scalingEqually=gr("scaling",Ie(mt)),l.scalingX=gr("scaling",Ie(pt)),l.scalingY=gr("scaling",Ie(Yt)),l.scalingYOrSkewingX=St,l.scalingXOrSkewingY=Et,l.changeWidth=gr("resizing",Ie(re)),l.skewHandlerX=ct,l.skewHandlerY=Ot,l.dragHandler=Vt,l.scaleOrSkewActionName=sr,l.rotationStyleHandler=cr,l.fireEvent=O,l.wrapWithFixedAnchor=Ie,l.wrapWithFireEvent=gr,l.getLocalPoint=kr,a.controlsUtils=l}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.degreesToRadians,h=a.controlsUtils;function l(e,r,i,u,o){u=u||{};var d=this.sizeX||u.cornerSize||o.cornerSize,b=this.sizeY||u.cornerSize||o.cornerSize,T=typeof u.transparentCorners!="undefined"?u.transparentCorners:o.transparentCorners,O=T?"stroke":"fill",Y=!T&&(u.cornerStrokeColor||o.cornerStrokeColor),et=r,yt=i,Zt;e.save(),e.fillStyle=u.cornerColor||o.cornerColor,e.strokeStyle=u.cornerStrokeColor||o.cornerStrokeColor,d>b?(Zt=d,e.scale(1,b/d),yt=i*d/b):b>d?(Zt=b,e.scale(d/b,1),et=r*b/d):Zt=d,e.lineWidth=1,e.beginPath(),e.arc(et,yt,Zt/2,0,2*Math.PI,!1),e[O](),Y&&e.stroke(),e.restore()}function n(e,r,i,u,o){u=u||{};var d=this.sizeX||u.cornerSize||o.cornerSize,b=this.sizeY||u.cornerSize||o.cornerSize,T=typeof u.transparentCorners!="undefined"?u.transparentCorners:o.transparentCorners,O=T?"stroke":"fill",Y=!T&&(u.cornerStrokeColor||o.cornerStrokeColor),et=d/2,yt=b/2;e.save(),e.fillStyle=u.cornerColor||o.cornerColor,e.strokeStyle=u.cornerStrokeColor||o.cornerStrokeColor,e.lineWidth=1,e.translate(r,i),e.rotate(f(o.angle)),e[O+"Rect"](-et,-yt,d,b),Y&&e.strokeRect(-et,-yt,d,b),e.restore()}h.renderCircleControl=l,h.renderSquareControl=n}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={});function f(h){for(var l in h)this[l]=h[l]}a.Control=f,a.Control.prototype={visible:!0,actionName:"scale",angle:0,x:0,y:0,offsetX:0,offsetY:0,sizeX:null,sizeY:null,touchSizeX:null,touchSizeY:null,cursorStyle:"crosshair",withConnection:!1,actionHandler:function(){},mouseDownHandler:function(){},mouseUpHandler:function(){},getActionHandler:function(){return this.actionHandler},getMouseDownHandler:function(){return this.mouseDownHandler},getMouseUpHandler:function(){return this.mouseUpHandler},cursorStyleHandler:function(l,n){return n.cursorStyle},getActionName:function(l,n){return n.actionName},getVisibility:function(l,n){var e=l._controlsVisibility;return e&&typeof e[n]!="undefined"?e[n]:this.visible},setVisibility:function(l){this.visible=l},positionHandler:function(l,n){var e=a.util.transformPoint({x:this.x*l.x+this.offsetX,y:this.y*l.y+this.offsetY},n);return e},calcCornerCoords:function(l,n,e,r,i){var u,o,d,b,T=i?this.touchSizeX:this.sizeX,O=i?this.touchSizeY:this.sizeY;if(T&&O&&T!==O){var Y=Math.atan2(O,T),et=Math.sqrt(T*T+O*O)/2,yt=Y-a.util.degreesToRadians(l),Zt=Math.PI/2-Y-a.util.degreesToRadians(l);u=et*a.util.cos(yt),o=et*a.util.sin(yt),d=et*a.util.cos(Zt),b=et*a.util.sin(Zt)}else{var fe=T&&O?T:n;et=fe*.7071067812;var yt=a.util.degreesToRadians(45-l);u=d=et*a.util.cos(yt),o=b=et*a.util.sin(yt)}return{tl:{x:e-b,y:r-d},tr:{x:e+u,y:r-o},bl:{x:e-u,y:r+o},br:{x:e+b,y:r+d}}},render:function(l,n,e,r,i){switch(r=r||{},r.cornerStyle||i.cornerStyle){case"circle":a.controlsUtils.renderCircleControl.call(this,l,n,e,r,i);break;default:a.controlsUtils.renderSquareControl.call(this,l,n,e,r,i)}}}}(hr),function(){function L(n,e){var r=n.getAttribute("style"),i=n.getAttribute("offset")||0,u,o,d,b;if(i=parseFloat(i)/(/%$/.test(i)?100:1),i=i<0?0:i>1?1:i,r){var T=r.split(/\s*;\s*/);for(T[T.length-1]===""&&T.pop(),b=T.length;b--;){var O=T[b].split(/\s*:\s*/),Y=O[0].trim(),et=O[1].trim();Y==="stop-color"?u=et:Y==="stop-opacity"&&(d=et)}}return u||(u=n.getAttribute("stop-color")||"rgb(0,0,0)"),d||(d=n.getAttribute("stop-opacity")),u=new C.Color(u),o=u.getAlpha(),d=isNaN(parseFloat(d))?1:parseFloat(d),d*=o*e,{offset:i,color:u.toRgb(),opacity:d}}function a(n){return{x1:n.getAttribute("x1")||0,y1:n.getAttribute("y1")||0,x2:n.getAttribute("x2")||"100%",y2:n.getAttribute("y2")||0}}function f(n){return{x1:n.getAttribute("fx")||n.getAttribute("cx")||"50%",y1:n.getAttribute("fy")||n.getAttribute("cy")||"50%",r1:0,x2:n.getAttribute("cx")||"50%",y2:n.getAttribute("cy")||"50%",r2:n.getAttribute("r")||"50%"}}var h=C.util.object.clone;C.Gradient=C.util.createClass({offsetX:0,offsetY:0,gradientTransform:null,gradientUnits:"pixels",type:"linear",initialize:function(e){e||(e={}),e.coords||(e.coords={});var r,i=this;Object.keys(e).forEach(function(u){i[u]=e[u]}),this.id?this.id+="_"+C.Object.__uid++:this.id=C.Object.__uid++,r={x1:e.coords.x1||0,y1:e.coords.y1||0,x2:e.coords.x2||0,y2:e.coords.y2||0},this.type==="radial"&&(r.r1=e.coords.r1||0,r.r2=e.coords.r2||0),this.coords=r,this.colorStops=e.colorStops.slice()},addColorStop:function(e){for(var r in e){var i=new C.Color(e[r]);this.colorStops.push({offset:parseFloat(r),color:i.toRgb(),opacity:i.getAlpha()})}return this},toObject:function(e){var r={type:this.type,coords:this.coords,colorStops:this.colorStops,offsetX:this.offsetX,offsetY:this.offsetY,gradientUnits:this.gradientUnits,gradientTransform:this.gradientTransform?this.gradientTransform.concat():this.gradientTransform};return C.util.populateWithProperties(this,r,e),r},toSVG:function(e,r){var i=h(this.coords,!0),u,o,r=r||{},d,b,T=h(this.colorStops,!0),O=i.r1>i.r2,Y=this.gradientTransform?this.gradientTransform.concat():C.iMatrix.concat(),et=-this.offsetX,yt=-this.offsetY,Zt=!!r.additionalTransform,fe=this.gradientUnits==="pixels"?"userSpaceOnUse":"objectBoundingBox";if(T.sort(function(Ie,gr){return Ie.offset-gr.offset}),fe==="objectBoundingBox"?(et/=e.width,yt/=e.height):(et+=e.width/2,yt+=e.height/2),e.type==="path"&&this.gradientUnits!=="percentage"&&(et-=e.pathOffset.x,yt-=e.pathOffset.y),Y[4]-=et,Y[5]-=yt,b='id="SVGID_'+this.id+'" gradientUnits="'+fe+'"',b+=' gradientTransform="'+(Zt?r.additionalTransform+" ":"")+C.util.matrixToSVG(Y)+'" ',this.type==="linear"?d=["<linearGradient ",b,' x1="',i.x1,'" y1="',i.y1,'" x2="',i.x2,'" y2="',i.y2,`">
`]:this.type==="radial"&&(d=["<radialGradient ",b,' cx="',O?i.x1:i.x2,'" cy="',O?i.y1:i.y2,'" r="',O?i.r1:i.r2,'" fx="',O?i.x2:i.x1,'" fy="',O?i.y2:i.y1,`">
`]),this.type==="radial"){if(O)for(T=T.concat(),T.reverse(),u=0,o=T.length;u<o;u++)T[u].offset=1-T[u].offset;var Ue=Math.min(i.r1,i.r2);if(Ue>0){var sr=Math.max(i.r1,i.r2),cr=Ue/sr;for(u=0,o=T.length;u<o;u++)T[u].offset+=cr*(1-T[u].offset)}}for(u=0,o=T.length;u<o;u++){var Ke=T[u];d.push("<stop ",'offset="',Ke.offset*100+"%",'" style="stop-color:',Ke.color,typeof Ke.opacity!="undefined"?";stop-opacity: "+Ke.opacity:";",`"/>
`)}return d.push(this.type==="linear"?`</linearGradient>
`:`</radialGradient>
`),d.join("")},toLive:function(e){var r,i=C.util.object.clone(this.coords),u,o;if(!!this.type){for(this.type==="linear"?r=e.createLinearGradient(i.x1,i.y1,i.x2,i.y2):this.type==="radial"&&(r=e.createRadialGradient(i.x1,i.y1,i.r1,i.x2,i.y2,i.r2)),u=0,o=this.colorStops.length;u<o;u++){var d=this.colorStops[u].color,b=this.colorStops[u].opacity,T=this.colorStops[u].offset;typeof b!="undefined"&&(d=new C.Color(d).setAlpha(b).toRgba()),r.addColorStop(T,d)}return r}}}),C.util.object.extend(C.Gradient,{fromElement:function(e,r,i,u){var o=parseFloat(i)/(/%$/.test(i)?100:1);o=o<0?0:o>1?1:o,isNaN(o)&&(o=1);var d=e.getElementsByTagName("stop"),b,T=e.getAttribute("gradientUnits")==="userSpaceOnUse"?"pixels":"percentage",O=e.getAttribute("gradientTransform")||"",Y=[],et,yt,Zt=0,fe=0,Ue;for(e.nodeName==="linearGradient"||e.nodeName==="LINEARGRADIENT"?(b="linear",et=a(e)):(b="radial",et=f(e)),yt=d.length;yt--;)Y.push(L(d[yt],o));Ue=C.parseTransformAttribute(O),l(r,et,u,T),T==="pixels"&&(Zt=-r.left,fe=-r.top);var sr=new C.Gradient({id:e.getAttribute("id"),type:b,coords:et,colorStops:Y,gradientUnits:T,gradientTransform:Ue,offsetX:Zt,offsetY:fe});return sr}});function l(n,e,r,i){var u,o;Object.keys(e).forEach(function(d){u=e[d],u==="Infinity"?o=1:u==="-Infinity"?o=0:(o=parseFloat(e[d],10),typeof u=="string"&&/^(\d+\.\d+)%|(\d+)%$/.test(u)&&(o*=.01,i==="pixels"&&((d==="x1"||d==="x2"||d==="r2")&&(o*=r.viewBoxWidth||r.width),(d==="y1"||d==="y2")&&(o*=r.viewBoxHeight||r.height)))),e[d]=o})}}(),function(){"use strict";var L=C.util.toFixed;C.Pattern=C.util.createClass({repeat:"repeat",offsetX:0,offsetY:0,crossOrigin:"",patternTransform:null,initialize:function(f,h){if(f||(f={}),this.id=C.Object.__uid++,this.setOptions(f),!f.source||f.source&&typeof f.source!="string"){h&&h(this);return}else{var l=this;this.source=C.util.createImage(),C.util.loadImage(f.source,function(n,e){l.source=n,h&&h(l,e)},null,this.crossOrigin)}},toObject:function(f){var h=C.Object.NUM_FRACTION_DIGITS,l,n;return typeof this.source.src=="string"?l=this.source.src:typeof this.source=="object"&&this.source.toDataURL&&(l=this.source.toDataURL()),n={type:"pattern",source:l,repeat:this.repeat,crossOrigin:this.crossOrigin,offsetX:L(this.offsetX,h),offsetY:L(this.offsetY,h),patternTransform:this.patternTransform?this.patternTransform.concat():null},C.util.populateWithProperties(this,n,f),n},toSVG:function(f){var h=typeof this.source=="function"?this.source():this.source,l=h.width/f.width,n=h.height/f.height,e=this.offsetX/f.width,r=this.offsetY/f.height,i="";return(this.repeat==="repeat-x"||this.repeat==="no-repeat")&&(n=1,r&&(n+=Math.abs(r))),(this.repeat==="repeat-y"||this.repeat==="no-repeat")&&(l=1,e&&(l+=Math.abs(e))),h.src?i=h.src:h.toDataURL&&(i=h.toDataURL()),'<pattern id="SVGID_'+this.id+'" x="'+e+'" y="'+r+'" width="'+l+'" height="'+n+`">
<image x="0" y="0" width="`+h.width+'" height="'+h.height+'" xlink:href="'+i+`"></image>
</pattern>
`},setOptions:function(f){for(var h in f)this[h]=f[h]},toLive:function(f){var h=this.source;return!h||typeof h.src!="undefined"&&(!h.complete||h.naturalWidth===0||h.naturalHeight===0)?"":f.createPattern(h,this.repeat)}})}(),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.toFixed;if(a.Shadow){a.warn("fabric.Shadow is already defined.");return}a.Shadow=a.util.createClass({color:"rgb(0,0,0)",blur:0,offsetX:0,offsetY:0,affectStroke:!1,includeDefaultValues:!0,nonScaling:!1,initialize:function(l){typeof l=="string"&&(l=this._parseShadow(l));for(var n in l)this[n]=l[n];this.id=a.Object.__uid++},_parseShadow:function(l){var n=l.trim(),e=a.Shadow.reOffsetsAndBlur.exec(n)||[],r=n.replace(a.Shadow.reOffsetsAndBlur,"")||"rgb(0,0,0)";return{color:r.trim(),offsetX:parseFloat(e[1],10)||0,offsetY:parseFloat(e[2],10)||0,blur:parseFloat(e[3],10)||0}},toString:function(){return[this.offsetX,this.offsetY,this.blur,this.color].join("px ")},toSVG:function(l){var n=40,e=40,r=a.Object.NUM_FRACTION_DIGITS,i=a.util.rotateVector({x:this.offsetX,y:this.offsetY},a.util.degreesToRadians(-l.angle)),u=20,o=new a.Color(this.color);return l.width&&l.height&&(n=f((Math.abs(i.x)+this.blur)/l.width,r)*100+u,e=f((Math.abs(i.y)+this.blur)/l.height,r)*100+u),l.flipX&&(i.x*=-1),l.flipY&&(i.y*=-1),'<filter id="SVGID_'+this.id+'" y="-'+e+'%" height="'+(100+2*e)+'%" x="-'+n+'%" width="'+(100+2*n)+`%" >
	<feGaussianBlur in="SourceAlpha" stdDeviation="`+f(this.blur?this.blur/2:0,r)+`"></feGaussianBlur>
	<feOffset dx="`+f(i.x,r)+'" dy="'+f(i.y,r)+`" result="oBlur" ></feOffset>
	<feFlood flood-color="`+o.toRgb()+'" flood-opacity="'+o.getAlpha()+`"/>
	<feComposite in2="oBlur" operator="in" />
	<feMerge>
		<feMergeNode></feMergeNode>
		<feMergeNode in="SourceGraphic"></feMergeNode>
	</feMerge>
</filter>
`},toObject:function(){if(this.includeDefaultValues)return{color:this.color,blur:this.blur,offsetX:this.offsetX,offsetY:this.offsetY,affectStroke:this.affectStroke,nonScaling:this.nonScaling};var l={},n=a.Shadow.prototype;return["color","blur","offsetX","offsetY","affectStroke","nonScaling"].forEach(function(e){this[e]!==n[e]&&(l[e]=this[e])},this),l}}),a.Shadow.reOffsetsAndBlur=/(?:\s|^)(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(-?\d+(?:\.\d*)?(?:px)?(?:\s?|$))?(\d+(?:\.\d*)?(?:px)?)?(?:\s?|$)(?:$|\s)/}(hr),function(){"use strict";if(C.StaticCanvas){C.warn("fabric.StaticCanvas is already defined.");return}var L=C.util.object.extend,a=C.util.getElementOffset,f=C.util.removeFromArray,h=C.util.toFixed,l=C.util.transformPoint,n=C.util.invertTransform,e=C.util.getNodeCanvas,r=C.util.createCanvasElement,i=new Error("Could not initialize `canvas` element");C.StaticCanvas=C.util.createClass(C.CommonMethods,{initialize:function(o,d){d||(d={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(o,d)},backgroundColor:"",backgroundImage:null,overlayColor:"",overlayImage:null,includeDefaultValues:!0,stateful:!1,renderOnAddRemove:!0,controlsAboveOverlay:!1,allowTouchScrolling:!1,imageSmoothingEnabled:!0,viewportTransform:C.iMatrix.concat(),backgroundVpt:!0,overlayVpt:!0,enableRetinaScaling:!0,vptCoords:{},skipOffscreen:!0,clipPath:void 0,_initStatic:function(o,d){var b=this.requestRenderAllBound;this._objects=[],this._createLowerCanvas(o),this._initOptions(d),this.interactive||this._initRetinaScaling(),d.overlayImage&&this.setOverlayImage(d.overlayImage,b),d.backgroundImage&&this.setBackgroundImage(d.backgroundImage,b),d.backgroundColor&&this.setBackgroundColor(d.backgroundColor,b),d.overlayColor&&this.setOverlayColor(d.overlayColor,b),this.calcOffset()},_isRetinaScaling:function(){return C.devicePixelRatio!==1&&this.enableRetinaScaling},getRetinaScaling:function(){return this._isRetinaScaling()?C.devicePixelRatio:1},_initRetinaScaling:function(){if(!!this._isRetinaScaling()){var o=C.devicePixelRatio;this.__initRetinaScaling(o,this.lowerCanvasEl,this.contextContainer),this.upperCanvasEl&&this.__initRetinaScaling(o,this.upperCanvasEl,this.contextTop)}},__initRetinaScaling:function(o,d,b){d.setAttribute("width",this.width*o),d.setAttribute("height",this.height*o),b.scale(o,o)},calcOffset:function(){return this._offset=a(this.lowerCanvasEl),this},setOverlayImage:function(o,d,b){return this.__setBgOverlayImage("overlayImage",o,d,b)},setBackgroundImage:function(o,d,b){return this.__setBgOverlayImage("backgroundImage",o,d,b)},setOverlayColor:function(o,d){return this.__setBgOverlayColor("overlayColor",o,d)},setBackgroundColor:function(o,d){return this.__setBgOverlayColor("backgroundColor",o,d)},__setBgOverlayImage:function(o,d,b,T){return typeof d=="string"?C.util.loadImage(d,function(O,Y){if(O){var et=new C.Image(O,T);this[o]=et,et.canvas=this}b&&b(O,Y)},this,T&&T.crossOrigin):(T&&d.setOptions(T),this[o]=d,d&&(d.canvas=this),b&&b(d,!1)),this},__setBgOverlayColor:function(o,d,b){return this[o]=d,this._initGradient(d,o),this._initPattern(d,o,b),this},_createCanvasElement:function(){var o=r();if(!o||(o.style||(o.style={}),typeof o.getContext=="undefined"))throw i;return o},_initOptions:function(o){var d=this.lowerCanvasEl;this._setOptions(o),this.width=this.width||parseInt(d.width,10)||0,this.height=this.height||parseInt(d.height,10)||0,!!this.lowerCanvasEl.style&&(d.width=this.width,d.height=this.height,d.style.width=this.width+"px",d.style.height=this.height+"px",this.viewportTransform=this.viewportTransform.slice())},_createLowerCanvas:function(o){o&&o.getContext?this.lowerCanvasEl=o:this.lowerCanvasEl=C.util.getById(o)||this._createCanvasElement(),C.util.addClass(this.lowerCanvasEl,"lower-canvas"),this._originalCanvasStyle=this.lowerCanvasEl.style,this.interactive&&this._applyCanvasStyle(this.lowerCanvasEl),this.contextContainer=this.lowerCanvasEl.getContext("2d")},getWidth:function(){return this.width},getHeight:function(){return this.height},setWidth:function(o,d){return this.setDimensions({width:o},d)},setHeight:function(o,d){return this.setDimensions({height:o},d)},setDimensions:function(o,d){var b;d=d||{};for(var T in o)b=o[T],d.cssOnly||(this._setBackstoreDimension(T,o[T]),b+="px",this.hasLostContext=!0),d.backstoreOnly||this._setCssDimension(T,b);return this._isCurrentlyDrawing&&this.freeDrawingBrush&&this.freeDrawingBrush._setBrushStyles(),this._initRetinaScaling(),this.calcOffset(),d.cssOnly||this.requestRenderAll(),this},_setBackstoreDimension:function(o,d){return this.lowerCanvasEl[o]=d,this.upperCanvasEl&&(this.upperCanvasEl[o]=d),this.cacheCanvasEl&&(this.cacheCanvasEl[o]=d),this[o]=d,this},_setCssDimension:function(o,d){return this.lowerCanvasEl.style[o]=d,this.upperCanvasEl&&(this.upperCanvasEl.style[o]=d),this.wrapperEl&&(this.wrapperEl.style[o]=d),this},getZoom:function(){return this.viewportTransform[0]},setViewportTransform:function(o){var d=this._activeObject,b=this.backgroundImage,T=this.overlayImage,O,Y,et;for(this.viewportTransform=o,Y=0,et=this._objects.length;Y<et;Y++)O=this._objects[Y],O.group||O.setCoords(!0);return d&&d.setCoords(),b&&b.setCoords(!0),T&&T.setCoords(!0),this.calcViewportBoundaries(),this.renderOnAddRemove&&this.requestRenderAll(),this},zoomToPoint:function(o,d){var b=o,T=this.viewportTransform.slice(0);o=l(o,n(this.viewportTransform)),T[0]=d,T[3]=d;var O=l(o,T);return T[4]+=b.x-O.x,T[5]+=b.y-O.y,this.setViewportTransform(T)},setZoom:function(o){return this.zoomToPoint(new C.Point(0,0),o),this},absolutePan:function(o){var d=this.viewportTransform.slice(0);return d[4]=-o.x,d[5]=-o.y,this.setViewportTransform(d)},relativePan:function(o){return this.absolutePan(new C.Point(-o.x-this.viewportTransform[4],-o.y-this.viewportTransform[5]))},getElement:function(){return this.lowerCanvasEl},_onObjectAdded:function(o){this.stateful&&o.setupState(),o._set("canvas",this),o.setCoords(),this.fire("object:added",{target:o}),o.fire("added")},_onObjectRemoved:function(o){this.fire("object:removed",{target:o}),o.fire("removed"),delete o.canvas},clearContext:function(o){return o.clearRect(0,0,this.width,this.height),this},getContext:function(){return this.contextContainer},clear:function(){return this.remove.apply(this,this.getObjects()),this.backgroundImage=null,this.overlayImage=null,this.backgroundColor="",this.overlayColor="",this._hasITextHandlers&&(this.off("mouse:up",this._mouseUpITextHandler),this._iTextInstances=null,this._hasITextHandlers=!1),this.clearContext(this.contextContainer),this.fire("canvas:cleared"),this.renderOnAddRemove&&this.requestRenderAll(),this},renderAll:function(){var o=this.contextContainer;return this.renderCanvas(o,this._objects),this},renderAndReset:function(){this.isRendering=0,this.renderAll()},requestRenderAll:function(){return this.isRendering||(this.isRendering=C.util.requestAnimFrame(this.renderAndResetBound)),this},calcViewportBoundaries:function(){var o={},d=this.width,b=this.height,T=n(this.viewportTransform);return o.tl=l({x:0,y:0},T),o.br=l({x:d,y:b},T),o.tr=new C.Point(o.br.x,o.tl.y),o.bl=new C.Point(o.tl.x,o.br.y),this.vptCoords=o,o},cancelRequestedRender:function(){this.isRendering&&(C.util.cancelAnimFrame(this.isRendering),this.isRendering=0)},renderCanvas:function(o,d){var b=this.viewportTransform,T=this.clipPath;this.cancelRequestedRender(),this.calcViewportBoundaries(),this.clearContext(o),C.util.setImageSmoothing(o,this.imageSmoothingEnabled),this.fire("before:render",{ctx:o}),this._renderBackground(o),o.save(),o.transform(b[0],b[1],b[2],b[3],b[4],b[5]),this._renderObjects(o,d),o.restore(),!this.controlsAboveOverlay&&this.interactive&&this.drawControls(o),T&&(T.canvas=this,T.shouldCache(),T._transformDone=!0,T.renderCache({forClipping:!0}),this.drawClipPathOnCanvas(o)),this._renderOverlay(o),this.controlsAboveOverlay&&this.interactive&&this.drawControls(o),this.fire("after:render",{ctx:o})},drawClipPathOnCanvas:function(o){var d=this.viewportTransform,b=this.clipPath;o.save(),o.transform(d[0],d[1],d[2],d[3],d[4],d[5]),o.globalCompositeOperation="destination-in",b.transform(o),o.scale(1/b.zoomX,1/b.zoomY),o.drawImage(b._cacheCanvas,-b.cacheTranslationX,-b.cacheTranslationY),o.restore()},_renderObjects:function(o,d){var b,T;for(b=0,T=d.length;b<T;++b)d[b]&&d[b].render(o)},_renderBackgroundOrOverlay:function(o,d){var b=this[d+"Color"],T=this[d+"Image"],O=this.viewportTransform,Y=this[d+"Vpt"];if(!(!b&&!T)){if(b){o.save(),o.beginPath(),o.moveTo(0,0),o.lineTo(this.width,0),o.lineTo(this.width,this.height),o.lineTo(0,this.height),o.closePath(),o.fillStyle=b.toLive?b.toLive(o,this):b,Y&&o.transform(O[0],O[1],O[2],O[3],O[4],O[5]),o.transform(1,0,0,1,b.offsetX||0,b.offsetY||0);var et=b.gradientTransform||b.patternTransform;et&&o.transform(et[0],et[1],et[2],et[3],et[4],et[5]),o.fill(),o.restore()}T&&(o.save(),Y&&o.transform(O[0],O[1],O[2],O[3],O[4],O[5]),T.render(o),o.restore())}},_renderBackground:function(o){this._renderBackgroundOrOverlay(o,"background")},_renderOverlay:function(o){this._renderBackgroundOrOverlay(o,"overlay")},getCenter:function(){return{top:this.height/2,left:this.width/2}},centerObjectH:function(o){return this._centerObject(o,new C.Point(this.getCenter().left,o.getCenterPoint().y))},centerObjectV:function(o){return this._centerObject(o,new C.Point(o.getCenterPoint().x,this.getCenter().top))},centerObject:function(o){var d=this.getCenter();return this._centerObject(o,new C.Point(d.left,d.top))},viewportCenterObject:function(o){var d=this.getVpCenter();return this._centerObject(o,d)},viewportCenterObjectH:function(o){var d=this.getVpCenter();return this._centerObject(o,new C.Point(d.x,o.getCenterPoint().y)),this},viewportCenterObjectV:function(o){var d=this.getVpCenter();return this._centerObject(o,new C.Point(o.getCenterPoint().x,d.y))},getVpCenter:function(){var o=this.getCenter(),d=n(this.viewportTransform);return l({x:o.left,y:o.top},d)},_centerObject:function(o,d){return o.setPositionByOrigin(d,"center","center"),o.setCoords(),this.renderOnAddRemove&&this.requestRenderAll(),this},toDatalessJSON:function(o){return this.toDatalessObject(o)},toObject:function(o){return this._toObjectMethod("toObject",o)},toDatalessObject:function(o){return this._toObjectMethod("toDatalessObject",o)},_toObjectMethod:function(o,d){var b=this.clipPath,T={version:C.version,objects:this._toObjects(o,d)};return b&&!b.excludeFromExport&&(T.clipPath=this._toObject(this.clipPath,o,d)),L(T,this.__serializeBgOverlay(o,d)),C.util.populateWithProperties(this,T,d),T},_toObjects:function(o,d){return this._objects.filter(function(b){return!b.excludeFromExport}).map(function(b){return this._toObject(b,o,d)},this)},_toObject:function(o,d,b){var T;this.includeDefaultValues||(T=o.includeDefaultValues,o.includeDefaultValues=!1);var O=o[d](b);return this.includeDefaultValues||(o.includeDefaultValues=T),O},__serializeBgOverlay:function(o,d){var b={},T=this.backgroundImage,O=this.overlayImage,Y=this.backgroundColor,et=this.overlayColor;return Y&&Y.toObject?Y.excludeFromExport||(b.background=Y.toObject(d)):Y&&(b.background=Y),et&&et.toObject?et.excludeFromExport||(b.overlay=et.toObject(d)):et&&(b.overlay=et),T&&!T.excludeFromExport&&(b.backgroundImage=this._toObject(T,o,d)),O&&!O.excludeFromExport&&(b.overlayImage=this._toObject(O,o,d)),b},svgViewportTransformation:!0,toSVG:function(o,d){o||(o={}),o.reviver=d;var b=[];return this._setSVGPreamble(b,o),this._setSVGHeader(b,o),this.clipPath&&b.push('<g clip-path="url(#'+this.clipPath.clipPathId+`)" >
`),this._setSVGBgOverlayColor(b,"background"),this._setSVGBgOverlayImage(b,"backgroundImage",d),this._setSVGObjects(b,d),this.clipPath&&b.push(`</g>
`),this._setSVGBgOverlayColor(b,"overlay"),this._setSVGBgOverlayImage(b,"overlayImage",d),b.push("</svg>"),b.join("")},_setSVGPreamble:function(o,d){d.suppressPreamble||o.push('<?xml version="1.0" encoding="',d.encoding||"UTF-8",`" standalone="no" ?>
`,'<!DOCTYPE svg PUBLIC "-//W3C//DTD SVG 1.1//EN" ',`"http://www.w3.org/Graphics/SVG/1.1/DTD/svg11.dtd">
`)},_setSVGHeader:function(o,d){var b=d.width||this.width,T=d.height||this.height,O,Y='viewBox="0 0 '+this.width+" "+this.height+'" ',et=C.Object.NUM_FRACTION_DIGITS;d.viewBox?Y='viewBox="'+d.viewBox.x+" "+d.viewBox.y+" "+d.viewBox.width+" "+d.viewBox.height+'" ':this.svgViewportTransformation&&(O=this.viewportTransform,Y='viewBox="'+h(-O[4]/O[0],et)+" "+h(-O[5]/O[3],et)+" "+h(this.width/O[0],et)+" "+h(this.height/O[3],et)+'" '),o.push("<svg ",'xmlns="http://www.w3.org/2000/svg" ','xmlns:xlink="http://www.w3.org/1999/xlink" ','version="1.1" ','width="',b,'" ','height="',T,'" ',Y,`xml:space="preserve">
`,"<desc>Created with Fabric.js ",C.version,`</desc>
`,`<defs>
`,this.createSVGFontFacesMarkup(),this.createSVGRefElementsMarkup(),this.createSVGClipPathMarkup(d),`</defs>
`)},createSVGClipPathMarkup:function(o){var d=this.clipPath;return d?(d.clipPathId="CLIPPATH_"+C.Object.__uid++,'<clipPath id="'+d.clipPathId+`" >
`+this.clipPath.toClipPathSVG(o.reviver)+`</clipPath>
`):""},createSVGRefElementsMarkup:function(){var o=this,d=["background","overlay"].map(function(b){var T=o[b+"Color"];if(T&&T.toLive){var O=o[b+"Vpt"],Y=o.viewportTransform,et={width:o.width/(O?Y[0]:1),height:o.height/(O?Y[3]:1)};return T.toSVG(et,{additionalTransform:O?C.util.matrixToSVG(Y):""})}});return d.join("")},createSVGFontFacesMarkup:function(){var o="",d={},b,T,O,Y,et,yt,Zt,fe,Ue,sr=C.fontPaths,cr=[];for(this._objects.forEach(function Ie(gr){cr.push(gr),gr._objects&&gr._objects.forEach(Ie)}),fe=0,Ue=cr.length;fe<Ue;fe++)if(b=cr[fe],T=b.fontFamily,!(b.type.indexOf("text")===-1||d[T]||!sr[T])&&(d[T]=!0,!!b.styles)){O=b.styles;for(et in O){Y=O[et];for(Zt in Y)yt=Y[Zt],T=yt.fontFamily,!d[T]&&sr[T]&&(d[T]=!0)}}for(var Ke in d)o+=[`		@font-face {
`,"			font-family: '",Ke,`';
`,"			src: url('",sr[Ke],`');
`,`		}
`].join("");return o&&(o=['	<style type="text/css">',`<![CDATA[
`,o,"]]>",`</style>
`].join("")),o},_setSVGObjects:function(o,d){var b,T,O,Y=this._objects;for(T=0,O=Y.length;T<O;T++)b=Y[T],!b.excludeFromExport&&this._setSVGObject(o,b,d)},_setSVGObject:function(o,d,b){o.push(d.toSVG(b))},_setSVGBgOverlayImage:function(o,d,b){this[d]&&!this[d].excludeFromExport&&this[d].toSVG&&o.push(this[d].toSVG(b))},_setSVGBgOverlayColor:function(o,d){var b=this[d+"Color"],T=this.viewportTransform,O=this.width,Y=this.height;if(!!b)if(b.toLive){var et=b.repeat,yt=C.util.invertTransform(T),Zt=this[d+"Vpt"],fe=Zt?C.util.matrixToSVG(yt):"";o.push('<rect transform="'+fe+" translate(",O/2,",",Y/2,')"',' x="',b.offsetX-O/2,'" y="',b.offsetY-Y/2,'" ','width="',et==="repeat-y"||et==="no-repeat"?b.source.width:O,'" height="',et==="repeat-x"||et==="no-repeat"?b.source.height:Y,'" fill="url(#SVGID_'+b.id+')"',`></rect>
`)}else o.push('<rect x="0" y="0" width="100%" height="100%" ','fill="',b,'"',`></rect>
`)},sendToBack:function(o){if(!o)return this;var d=this._activeObject,b,T,O;if(o===d&&o.type==="activeSelection")for(O=d._objects,b=O.length;b--;)T=O[b],f(this._objects,T),this._objects.unshift(T);else f(this._objects,o),this._objects.unshift(o);return this.renderOnAddRemove&&this.requestRenderAll(),this},bringToFront:function(o){if(!o)return this;var d=this._activeObject,b,T,O;if(o===d&&o.type==="activeSelection")for(O=d._objects,b=0;b<O.length;b++)T=O[b],f(this._objects,T),this._objects.push(T);else f(this._objects,o),this._objects.push(o);return this.renderOnAddRemove&&this.requestRenderAll(),this},sendBackwards:function(o,d){if(!o)return this;var b=this._activeObject,T,O,Y,et,yt,Zt=0;if(o===b&&o.type==="activeSelection")for(yt=b._objects,T=0;T<yt.length;T++)O=yt[T],Y=this._objects.indexOf(O),Y>0+Zt&&(et=Y-1,f(this._objects,O),this._objects.splice(et,0,O)),Zt++;else Y=this._objects.indexOf(o),Y!==0&&(et=this._findNewLowerIndex(o,Y,d),f(this._objects,o),this._objects.splice(et,0,o));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewLowerIndex:function(o,d,b){var T,O;if(b)for(T=d,O=d-1;O>=0;--O){var Y=o.intersectsWithObject(this._objects[O])||o.isContainedWithinObject(this._objects[O])||this._objects[O].isContainedWithinObject(o);if(Y){T=O;break}}else T=d-1;return T},bringForward:function(o,d){if(!o)return this;var b=this._activeObject,T,O,Y,et,yt,Zt=0;if(o===b&&o.type==="activeSelection")for(yt=b._objects,T=yt.length;T--;)O=yt[T],Y=this._objects.indexOf(O),Y<this._objects.length-1-Zt&&(et=Y+1,f(this._objects,O),this._objects.splice(et,0,O)),Zt++;else Y=this._objects.indexOf(o),Y!==this._objects.length-1&&(et=this._findNewUpperIndex(o,Y,d),f(this._objects,o),this._objects.splice(et,0,o));return this.renderOnAddRemove&&this.requestRenderAll(),this},_findNewUpperIndex:function(o,d,b){var T,O,Y;if(b)for(T=d,O=d+1,Y=this._objects.length;O<Y;++O){var et=o.intersectsWithObject(this._objects[O])||o.isContainedWithinObject(this._objects[O])||this._objects[O].isContainedWithinObject(o);if(et){T=O;break}}else T=d+1;return T},moveTo:function(o,d){return f(this._objects,o),this._objects.splice(d,0,o),this.renderOnAddRemove&&this.requestRenderAll()},dispose:function(){return this.isRendering&&(C.util.cancelAnimFrame(this.isRendering),this.isRendering=0),this.forEachObject(function(o){o.dispose&&o.dispose()}),this._objects=[],this.backgroundImage&&this.backgroundImage.dispose&&this.backgroundImage.dispose(),this.backgroundImage=null,this.overlayImage&&this.overlayImage.dispose&&this.overlayImage.dispose(),this.overlayImage=null,this._iTextInstances=null,this.contextContainer=null,this.lowerCanvasEl.classList.remove("lower-canvas"),this.lowerCanvasEl.style=this._originalCanvasStyle,delete this._originalCanvasStyle,this.lowerCanvasEl.setAttribute("width",this.width),this.lowerCanvasEl.setAttribute("height",this.height),C.util.cleanUpJsdomNode(this.lowerCanvasEl),this.lowerCanvasEl=void 0,this},toString:function(){return"#<fabric.Canvas ("+this.complexity()+"): { objects: "+this._objects.length+" }>"}}),L(C.StaticCanvas.prototype,C.Observable),L(C.StaticCanvas.prototype,C.Collection),L(C.StaticCanvas.prototype,C.DataURLExporter),L(C.StaticCanvas,{EMPTY_JSON:'{"objects": [], "background": "white"}',supports:function(o){var d=r();if(!d||!d.getContext)return null;var b=d.getContext("2d");if(!b)return null;switch(o){case"setLineDash":return typeof b.setLineDash!="undefined";default:return null}}}),C.StaticCanvas.prototype.toJSON=C.StaticCanvas.prototype.toObject,C.isLikelyNode&&(C.StaticCanvas.prototype.createPNGStream=function(){var u=e(this.lowerCanvasEl);return u&&u.createPNGStream()},C.StaticCanvas.prototype.createJPEGStream=function(u){var o=e(this.lowerCanvasEl);return o&&o.createJPEGStream(u)})}(),C.BaseBrush=C.util.createClass({color:"rgb(0, 0, 0)",width:1,shadow:null,strokeLineCap:"round",strokeLineJoin:"round",strokeMiterLimit:10,strokeDashArray:null,limitedToCanvasSize:!1,_setBrushStyles:function(){var a=this.canvas.contextTop;a.strokeStyle=this.color,a.lineWidth=this.width,a.lineCap=this.strokeLineCap,a.miterLimit=this.strokeMiterLimit,a.lineJoin=this.strokeLineJoin,a.setLineDash(this.strokeDashArray||[])},_saveAndTransform:function(a){var f=this.canvas.viewportTransform;a.save(),a.transform(f[0],f[1],f[2],f[3],f[4],f[5])},_setShadow:function(){if(!!this.shadow){var a=this.canvas,f=this.shadow,h=a.contextTop,l=a.getZoom();a&&a._isRetinaScaling()&&(l*=C.devicePixelRatio),h.shadowColor=f.color,h.shadowBlur=f.blur*l,h.shadowOffsetX=f.offsetX*l,h.shadowOffsetY=f.offsetY*l}},needsFullRender:function(){var a=new C.Color(this.color);return a.getAlpha()<1||!!this.shadow},_resetShadow:function(){var a=this.canvas.contextTop;a.shadowColor="",a.shadowBlur=a.shadowOffsetX=a.shadowOffsetY=0},_isOutSideCanvas:function(a){return a.x<0||a.x>this.canvas.getWidth()||a.y<0||a.y>this.canvas.getHeight()}}),function(){C.PencilBrush=C.util.createClass(C.BaseBrush,{decimate:.4,initialize:function(a){this.canvas=a,this._points=[]},_drawSegment:function(a,f,h){var l=f.midPointFrom(h);return a.quadraticCurveTo(f.x,f.y,l.x,l.y),l},onMouseDown:function(a,f){!this.canvas._isMainEvent(f.e)||(this._prepareForDrawing(a),this._captureDrawingPath(a),this._render())},onMouseMove:function(a,f){if(!!this.canvas._isMainEvent(f.e)&&!(this.limitedToCanvasSize===!0&&this._isOutSideCanvas(a))&&this._captureDrawingPath(a)&&this._points.length>1)if(this.needsFullRender())this.canvas.clearContext(this.canvas.contextTop),this._render();else{var h=this._points,l=h.length,n=this.canvas.contextTop;this._saveAndTransform(n),this.oldEnd&&(n.beginPath(),n.moveTo(this.oldEnd.x,this.oldEnd.y)),this.oldEnd=this._drawSegment(n,h[l-2],h[l-1],!0),n.stroke(),n.restore()}},onMouseUp:function(a){return this.canvas._isMainEvent(a.e)?(this.oldEnd=void 0,this._finalizeAndAddPath(),!1):!0},_prepareForDrawing:function(a){var f=new C.Point(a.x,a.y);this._reset(),this._addPoint(f),this.canvas.contextTop.moveTo(f.x,f.y)},_addPoint:function(a){return this._points.length>1&&a.eq(this._points[this._points.length-1])?!1:(this._points.push(a),!0)},_reset:function(){this._points=[],this._setBrushStyles(),this._setShadow()},_captureDrawingPath:function(a){var f=new C.Point(a.x,a.y);return this._addPoint(f)},_render:function(){var a=this.canvas.contextTop,f,h,l=this._points[0],n=this._points[1];if(this._saveAndTransform(a),a.beginPath(),this._points.length===2&&l.x===n.x&&l.y===n.y){var e=this.width/1e3;l=new C.Point(l.x,l.y),n=new C.Point(n.x,n.y),l.x-=e,n.x+=e}for(a.moveTo(l.x,l.y),f=1,h=this._points.length;f<h;f++)this._drawSegment(a,l,n),l=this._points[f],n=this._points[f+1];a.lineTo(l.x,l.y),a.stroke(),a.restore()},convertPointsToSVGPath:function(a){var f=this.width/1e3;return C.util.getSmoothPathFromPoints(a,f)},_isEmptySVGPath:function(a){var f=C.util.joinPath(a);return f==="M 0 0 Q 0 0 0 0 L 0 0"},createPath:function(a){var f=new C.Path(a,{fill:null,stroke:this.color,strokeWidth:this.width,strokeLineCap:this.strokeLineCap,strokeMiterLimit:this.strokeMiterLimit,strokeLineJoin:this.strokeLineJoin,strokeDashArray:this.strokeDashArray});return this.shadow&&(this.shadow.affectStroke=!0,f.shadow=new C.Shadow(this.shadow)),f},decimatePoints:function(a,f){if(a.length<=2)return a;var h=this.canvas.getZoom(),l=Math.pow(f/h,2),n,e=a.length-1,r=a[0],i=[r],u;for(n=1;n<e-1;n++)u=Math.pow(r.x-a[n].x,2)+Math.pow(r.y-a[n].y,2),u>=l&&(r=a[n],i.push(r));return i.push(a[e]),i},_finalizeAndAddPath:function(){var a=this.canvas.contextTop;a.closePath(),this.decimate&&(this._points=this.decimatePoints(this._points,this.decimate));var f=this.convertPointsToSVGPath(this._points);if(this._isEmptySVGPath(f)){this.canvas.requestRenderAll();return}var h=this.createPath(f);this.canvas.clearContext(this.canvas.contextTop),this.canvas.fire("before:path:created",{path:h}),this.canvas.add(h),this.canvas.requestRenderAll(),h.setCoords(),this._resetShadow(),this.canvas.fire("path:created",{path:h})}})}(),C.CircleBrush=C.util.createClass(C.BaseBrush,{width:10,initialize:function(a){this.canvas=a,this.points=[]},drawDot:function(a){var f=this.addPoint(a),h=this.canvas.contextTop;this._saveAndTransform(h),this.dot(h,f),h.restore()},dot:function(a,f){a.fillStyle=f.fill,a.beginPath(),a.arc(f.x,f.y,f.radius,0,Math.PI*2,!1),a.closePath(),a.fill()},onMouseDown:function(a){this.points.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.drawDot(a)},_render:function(){var a=this.canvas.contextTop,f,h,l=this.points;for(this._saveAndTransform(a),f=0,h=l.length;f<h;f++)this.dot(a,l[f]);a.restore()},onMouseMove:function(a){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(a)||(this.needsFullRender()?(this.canvas.clearContext(this.canvas.contextTop),this.addPoint(a),this._render()):this.drawDot(a))},onMouseUp:function(){var a=this.canvas.renderOnAddRemove,f,h;this.canvas.renderOnAddRemove=!1;var l=[];for(f=0,h=this.points.length;f<h;f++){var n=this.points[f],e=new C.Circle({radius:n.radius,left:n.x,top:n.y,originX:"center",originY:"center",fill:n.fill});this.shadow&&(e.shadow=new C.Shadow(this.shadow)),l.push(e)}var r=new C.Group(l);r.canvas=this.canvas,this.canvas.fire("before:path:created",{path:r}),this.canvas.add(r),this.canvas.fire("path:created",{path:r}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=a,this.canvas.requestRenderAll()},addPoint:function(a){var f=new C.Point(a.x,a.y),h=C.util.getRandomInt(Math.max(0,this.width-20),this.width+20)/2,l=new C.Color(this.color).setAlpha(C.util.getRandomInt(0,100)/100).toRgba();return f.radius=h,f.fill=l,this.points.push(f),f}}),C.SprayBrush=C.util.createClass(C.BaseBrush,{width:10,density:20,dotWidth:1,dotWidthVariance:1,randomOpacity:!1,optimizeOverlapping:!0,initialize:function(a){this.canvas=a,this.sprayChunks=[]},onMouseDown:function(a){this.sprayChunks.length=0,this.canvas.clearContext(this.canvas.contextTop),this._setShadow(),this.addSprayChunk(a),this.render(this.sprayChunkPoints)},onMouseMove:function(a){this.limitedToCanvasSize===!0&&this._isOutSideCanvas(a)||(this.addSprayChunk(a),this.render(this.sprayChunkPoints))},onMouseUp:function(){var a=this.canvas.renderOnAddRemove;this.canvas.renderOnAddRemove=!1;for(var f=[],h=0,l=this.sprayChunks.length;h<l;h++)for(var n=this.sprayChunks[h],e=0,r=n.length;e<r;e++){var i=new C.Rect({width:n[e].width,height:n[e].width,left:n[e].x+1,top:n[e].y+1,originX:"center",originY:"center",fill:this.color});f.push(i)}this.optimizeOverlapping&&(f=this._getOptimizedRects(f));var u=new C.Group(f);this.shadow&&u.set("shadow",new C.Shadow(this.shadow)),this.canvas.fire("before:path:created",{path:u}),this.canvas.add(u),this.canvas.fire("path:created",{path:u}),this.canvas.clearContext(this.canvas.contextTop),this._resetShadow(),this.canvas.renderOnAddRemove=a,this.canvas.requestRenderAll()},_getOptimizedRects:function(a){var f={},h,l,n;for(l=0,n=a.length;l<n;l++)h=a[l].left+""+a[l].top,f[h]||(f[h]=a[l]);var e=[];for(h in f)e.push(f[h]);return e},render:function(a){var f=this.canvas.contextTop,h,l;for(f.fillStyle=this.color,this._saveAndTransform(f),h=0,l=a.length;h<l;h++){var n=a[h];typeof n.opacity!="undefined"&&(f.globalAlpha=n.opacity),f.fillRect(n.x,n.y,n.width,n.width)}f.restore()},_render:function(){var a=this.canvas.contextTop,f,h;for(a.fillStyle=this.color,this._saveAndTransform(a),f=0,h=this.sprayChunks.length;f<h;f++)this.render(this.sprayChunks[f]);a.restore()},addSprayChunk:function(a){this.sprayChunkPoints=[];var f,h,l,n=this.width/2,e;for(e=0;e<this.density;e++){f=C.util.getRandomInt(a.x-n,a.x+n),h=C.util.getRandomInt(a.y-n,a.y+n),this.dotWidthVariance?l=C.util.getRandomInt(Math.max(1,this.dotWidth-this.dotWidthVariance),this.dotWidth+this.dotWidthVariance):l=this.dotWidth;var r=new C.Point(f,h);r.width=l,this.randomOpacity&&(r.opacity=C.util.getRandomInt(0,100)/100),this.sprayChunkPoints.push(r)}this.sprayChunks.push(this.sprayChunkPoints)}}),C.PatternBrush=C.util.createClass(C.PencilBrush,{getPatternSrc:function(){var a=20,f=5,h=C.util.createCanvasElement(),l=h.getContext("2d");return h.width=h.height=a+f,l.fillStyle=this.color,l.beginPath(),l.arc(a/2,a/2,a/2,0,Math.PI*2,!1),l.closePath(),l.fill(),h},getPatternSrcFunction:function(){return String(this.getPatternSrc).replace("this.color",'"'+this.color+'"')},getPattern:function(){return this.canvas.contextTop.createPattern(this.source||this.getPatternSrc(),"repeat")},_setBrushStyles:function(){this.callSuper("_setBrushStyles"),this.canvas.contextTop.strokeStyle=this.getPattern()},createPath:function(a){var f=this.callSuper("createPath",a),h=f._getLeftTopCoords().scalarAdd(f.strokeWidth/2);return f.stroke=new C.Pattern({source:this.source||this.getPatternSrcFunction(),offsetX:-h.x,offsetY:-h.y}),f}}),function(){var L=C.util.getPointer,a=C.util.degreesToRadians,f=C.util.isTouchEvent;C.Canvas=C.util.createClass(C.StaticCanvas,{initialize:function(n,e){e||(e={}),this.renderAndResetBound=this.renderAndReset.bind(this),this.requestRenderAllBound=this.requestRenderAll.bind(this),this._initStatic(n,e),this._initInteractive(),this._createCacheCanvas()},uniformScaling:!0,uniScaleKey:"shiftKey",centeredScaling:!1,centeredRotation:!1,centeredKey:"altKey",altActionKey:"shiftKey",interactive:!0,selection:!0,selectionKey:"shiftKey",altSelectionKey:null,selectionColor:"rgba(100, 100, 255, 0.3)",selectionDashArray:[],selectionBorderColor:"rgba(255, 255, 255, 0.3)",selectionLineWidth:1,selectionFullyContained:!1,hoverCursor:"move",moveCursor:"move",defaultCursor:"default",freeDrawingCursor:"crosshair",rotationCursor:"crosshair",notAllowedCursor:"not-allowed",containerClass:"canvas-container",perPixelTargetFind:!1,targetFindTolerance:0,skipTargetFind:!1,isDrawingMode:!1,preserveObjectStacking:!1,snapAngle:0,snapThreshold:null,stopContextMenu:!1,fireRightClick:!1,fireMiddleClick:!1,targets:[],_hoveredTarget:null,_hoveredTargets:[],_initInteractive:function(){this._currentTransform=null,this._groupSelector=null,this._initWrapperElement(),this._createUpperCanvas(),this._initEventListeners(),this._initRetinaScaling(),this.freeDrawingBrush=C.PencilBrush&&new C.PencilBrush(this),this.calcOffset()},_chooseObjectsToRender:function(){var n=this.getActiveObjects(),e,r,i;if(n.length>0&&!this.preserveObjectStacking){r=[],i=[];for(var u=0,o=this._objects.length;u<o;u++)e=this._objects[u],n.indexOf(e)===-1?r.push(e):i.push(e);n.length>1&&(this._activeObject._objects=i),r.push.apply(r,i)}else r=this._objects;return r},renderAll:function(){this.contextTopDirty&&!this._groupSelector&&!this.isDrawingMode&&(this.clearContext(this.contextTop),this.contextTopDirty=!1),this.hasLostContext&&this.renderTopLayer(this.contextTop);var n=this.contextContainer;return this.renderCanvas(n,this._chooseObjectsToRender()),this},renderTopLayer:function(n){n.save(),this.isDrawingMode&&this._isCurrentlyDrawing&&(this.freeDrawingBrush&&this.freeDrawingBrush._render(),this.contextTopDirty=!0),this.selection&&this._groupSelector&&(this._drawSelection(n),this.contextTopDirty=!0),n.restore()},renderTop:function(){var n=this.contextTop;return this.clearContext(n),this.renderTopLayer(n),this.fire("after:render"),this},_normalizePointer:function(n,e){var r=n.calcTransformMatrix(),i=C.util.invertTransform(r),u=this.restorePointerVpt(e);return C.util.transformPoint(u,i)},isTargetTransparent:function(n,e,r){if(n.shouldCache()&&n._cacheCanvas&&n!==this._activeObject){var i=this._normalizePointer(n,{x:e,y:r}),u=Math.max(n.cacheTranslationX+i.x*n.zoomX,0),o=Math.max(n.cacheTranslationY+i.y*n.zoomY,0),O=C.util.isTransparent(n._cacheContext,Math.round(u),Math.round(o),this.targetFindTolerance);return O}var d=this.contextCache,b=n.selectionBackgroundColor,T=this.viewportTransform;n.selectionBackgroundColor="",this.clearContext(d),d.save(),d.transform(T[0],T[1],T[2],T[3],T[4],T[5]),n.render(d),d.restore(),n.selectionBackgroundColor=b;var O=C.util.isTransparent(d,e,r,this.targetFindTolerance);return O},_isSelectionKeyPressed:function(n){var e=!1;return Object.prototype.toString.call(this.selectionKey)==="[object Array]"?e=!!this.selectionKey.find(function(r){return n[r]===!0}):e=n[this.selectionKey],e},_shouldClearSelection:function(n,e){var r=this.getActiveObjects(),i=this._activeObject;return!e||e&&i&&r.length>1&&r.indexOf(e)===-1&&i!==e&&!this._isSelectionKeyPressed(n)||e&&!e.evented||e&&!e.selectable&&i&&i!==e},_shouldCenterTransform:function(n,e,r){if(!!n){var i;return e==="scale"||e==="scaleX"||e==="scaleY"||e==="resizing"?i=this.centeredScaling||n.centeredScaling:e==="rotate"&&(i=this.centeredRotation||n.centeredRotation),i?!r:r}},_getOriginFromCorner:function(n,e){var r={x:n.originX,y:n.originY};return e==="ml"||e==="tl"||e==="bl"?r.x="right":(e==="mr"||e==="tr"||e==="br")&&(r.x="left"),e==="tl"||e==="mt"||e==="tr"?r.y="bottom":(e==="bl"||e==="mb"||e==="br")&&(r.y="top"),r},_getActionFromCorner:function(n,e,r,i){if(!e||!n)return"drag";var u=i.controls[e];return u.getActionName(r,u,i)},_setupCurrentTransform:function(n,e,r){if(!!e){var i=this.getPointer(n),u=e.__corner,o=e.controls[u],d=r&&u?o.getActionHandler(n,e,o):C.controlsUtils.dragHandler,b=this._getActionFromCorner(r,u,n,e),T=this._getOriginFromCorner(e,u),O=n[this.centeredKey],Y={target:e,action:b,actionHandler:d,corner:u,scaleX:e.scaleX,scaleY:e.scaleY,skewX:e.skewX,skewY:e.skewY,offsetX:i.x-e.left,offsetY:i.y-e.top,originX:T.x,originY:T.y,ex:i.x,ey:i.y,lastX:i.x,lastY:i.y,theta:a(e.angle),width:e.width*e.scaleX,shiftKey:n.shiftKey,altKey:O,original:C.util.saveObjectTransform(e)};this._shouldCenterTransform(e,b,O)&&(Y.originX="center",Y.originY="center"),Y.original.originX=T.x,Y.original.originY=T.y,this._currentTransform=Y,this._beforeTransform(n)}},setCursor:function(n){this.upperCanvasEl.style.cursor=n},_drawSelection:function(n){var e=this._groupSelector,r=new C.Point(e.ex,e.ey),i=C.util.transformPoint(r,this.viewportTransform),u=new C.Point(e.ex+e.left,e.ey+e.top),o=C.util.transformPoint(u,this.viewportTransform),d=Math.min(i.x,o.x),b=Math.min(i.y,o.y),T=Math.max(i.x,o.x),O=Math.max(i.y,o.y),Y=this.selectionLineWidth/2;this.selectionColor&&(n.fillStyle=this.selectionColor,n.fillRect(d,b,T-d,O-b)),!(!this.selectionLineWidth||!this.selectionBorderColor)&&(n.lineWidth=this.selectionLineWidth,n.strokeStyle=this.selectionBorderColor,d+=Y,b+=Y,T-=Y,O-=Y,C.Object.prototype._setLineDash.call(this,n,this.selectionDashArray),n.strokeRect(d,b,T-d,O-b))},findTarget:function(n,e){if(!this.skipTargetFind){var r=!0,i=this.getPointer(n,r),u=this._activeObject,o=this.getActiveObjects(),d,b,T=f(n),O=o.length>1&&!e||o.length===1;if(this.targets=[],O&&u._findTargetCorner(i,T)||o.length>1&&!e&&u===this._searchPossibleTargets([u],i))return u;if(o.length===1&&u===this._searchPossibleTargets([u],i))if(this.preserveObjectStacking)d=u,b=this.targets,this.targets=[];else return u;var Y=this._searchPossibleTargets(this._objects,i);return n[this.altSelectionKey]&&Y&&d&&Y!==d&&(Y=d,this.targets=b),Y}},_checkTarget:function(n,e,r){if(e&&e.visible&&e.evented&&e.containsPoint(n))if((this.perPixelTargetFind||e.perPixelTargetFind)&&!e.isEditing){var i=this.isTargetTransparent(e,r.x,r.y);if(!i)return!0}else return!0},_searchPossibleTargets:function(n,e){for(var r,i=n.length,u;i--;){var o=n[i],d=o.group?this._normalizePointer(o.group,e):e;if(this._checkTarget(d,o,e)){r=n[i],r.subTargetCheck&&r instanceof C.Group&&(u=this._searchPossibleTargets(r._objects,e),u&&this.targets.push(u));break}}return r},restorePointerVpt:function(n){return C.util.transformPoint(n,C.util.invertTransform(this.viewportTransform))},getPointer:function(n,e){if(this._absolutePointer&&!e)return this._absolutePointer;if(this._pointer&&e)return this._pointer;var r=L(n),i=this.upperCanvasEl,u=i.getBoundingClientRect(),o=u.width||0,d=u.height||0,b;(!o||!d)&&("top"in u&&"bottom"in u&&(d=Math.abs(u.top-u.bottom)),"right"in u&&"left"in u&&(o=Math.abs(u.right-u.left))),this.calcOffset(),r.x=r.x-this._offset.left,r.y=r.y-this._offset.top,e||(r=this.restorePointerVpt(r));var T=this.getRetinaScaling();return T!==1&&(r.x/=T,r.y/=T),o===0||d===0?b={width:1,height:1}:b={width:i.width/o,height:i.height/d},{x:r.x*b.width,y:r.y*b.height}},_createUpperCanvas:function(){var n=this.lowerCanvasEl.className.replace(/\s*lower-canvas\s*/,""),e=this.lowerCanvasEl,r=this.upperCanvasEl;r?r.className="":(r=this._createCanvasElement(),this.upperCanvasEl=r),C.util.addClass(r,"upper-canvas "+n),this.wrapperEl.appendChild(r),this._copyCanvasStyle(e,r),this._applyCanvasStyle(r),this.contextTop=r.getContext("2d")},_createCacheCanvas:function(){this.cacheCanvasEl=this._createCanvasElement(),this.cacheCanvasEl.setAttribute("width",this.width),this.cacheCanvasEl.setAttribute("height",this.height),this.contextCache=this.cacheCanvasEl.getContext("2d")},_initWrapperElement:function(){this.wrapperEl=C.util.wrapElement(this.lowerCanvasEl,"div",{class:this.containerClass}),C.util.setStyle(this.wrapperEl,{width:this.width+"px",height:this.height+"px",position:"relative"}),C.util.makeElementUnselectable(this.wrapperEl)},_applyCanvasStyle:function(n){var e=this.width||n.width,r=this.height||n.height;C.util.setStyle(n,{position:"absolute",width:e+"px",height:r+"px",left:0,top:0,"touch-action":this.allowTouchScrolling?"manipulation":"none","-ms-touch-action":this.allowTouchScrolling?"manipulation":"none"}),n.width=e,n.height=r,C.util.makeElementUnselectable(n)},_copyCanvasStyle:function(n,e){e.style.cssText=n.style.cssText},getSelectionContext:function(){return this.contextTop},getSelectionElement:function(){return this.upperCanvasEl},getActiveObject:function(){return this._activeObject},getActiveObjects:function(){var n=this._activeObject;return n?n.type==="activeSelection"&&n._objects?n._objects.slice(0):[n]:[]},_onObjectRemoved:function(n){n===this._activeObject&&(this.fire("before:selection:cleared",{target:n}),this._discardActiveObject(),this.fire("selection:cleared",{target:n}),n.fire("deselected")),n===this._hoveredTarget&&(this._hoveredTarget=null,this._hoveredTargets=[]),this.callSuper("_onObjectRemoved",n)},_fireSelectionEvents:function(n,e){var r=!1,i=this.getActiveObjects(),u=[],o=[];n.forEach(function(d){i.indexOf(d)===-1&&(r=!0,d.fire("deselected",{e,target:d}),o.push(d))}),i.forEach(function(d){n.indexOf(d)===-1&&(r=!0,d.fire("selected",{e,target:d}),u.push(d))}),n.length>0&&i.length>0?r&&this.fire("selection:updated",{e,selected:u,deselected:o,updated:u[0]||o[0],target:this._activeObject}):i.length>0?this.fire("selection:created",{e,selected:u,target:this._activeObject}):n.length>0&&this.fire("selection:cleared",{e,deselected:o})},setActiveObject:function(n,e){var r=this.getActiveObjects();return this._setActiveObject(n,e),this._fireSelectionEvents(r,e),this},_setActiveObject:function(n,e){return this._activeObject===n||!this._discardActiveObject(e,n)||n.onSelect({e})?!1:(this._activeObject=n,!0)},_discardActiveObject:function(n,e){var r=this._activeObject;if(r){if(r.onDeselect({e:n,object:e}))return!1;this._activeObject=null}return!0},discardActiveObject:function(n){var e=this.getActiveObjects(),r=this.getActiveObject();return e.length&&this.fire("before:selection:cleared",{target:r,e:n}),this._discardActiveObject(n),this._fireSelectionEvents(e,n),this},dispose:function(){var n=this.wrapperEl;return this.removeListeners(),n.removeChild(this.upperCanvasEl),n.removeChild(this.lowerCanvasEl),this.contextCache=null,this.contextTop=null,["upperCanvasEl","cacheCanvasEl"].forEach(function(e){C.util.cleanUpJsdomNode(this[e]),this[e]=void 0}.bind(this)),n.parentNode&&n.parentNode.replaceChild(this.lowerCanvasEl,this.wrapperEl),delete this.wrapperEl,C.StaticCanvas.prototype.dispose.call(this),this},clear:function(){return this.discardActiveObject(),this.clearContext(this.contextTop),this.callSuper("clear")},drawControls:function(n){var e=this._activeObject;e&&e._renderControls(n)},_toObject:function(n,e,r){var i=this._realizeGroupTransformOnObject(n),u=this.callSuper("_toObject",n,e,r);return this._unwindGroupTransformOnObject(n,i),u},_realizeGroupTransformOnObject:function(n){if(n.group&&n.group.type==="activeSelection"&&this._activeObject===n.group){var e=["angle","flipX","flipY","left","scaleX","scaleY","skewX","skewY","top"],r={};return e.forEach(function(i){r[i]=n[i]}),C.util.addTransformToObject(n,this._activeObject.calcOwnMatrix()),r}else return null},_unwindGroupTransformOnObject:function(n,e){e&&n.set(e)},_setSVGObject:function(n,e,r){var i=this._realizeGroupTransformOnObject(e);this.callSuper("_setSVGObject",n,e,r),this._unwindGroupTransformOnObject(e,i)},setViewportTransform:function(n){this.renderOnAddRemove&&this._activeObject&&this._activeObject.isEditing&&this._activeObject.clearContextTop(),C.StaticCanvas.prototype.setViewportTransform.call(this,n)}});for(var h in C.StaticCanvas)h!=="prototype"&&(C.Canvas[h]=C.StaticCanvas[h])}(),function(){var L=C.util.addListener,a=C.util.removeListener,f=3,h=2,l=1,n={passive:!1};function e(r,i){return r.button&&r.button===i-1}C.util.object.extend(C.Canvas.prototype,{mainTouchId:null,_initEventListeners:function(){this.removeListeners(),this._bindEvents(),this.addOrRemove(L,"add")},_getEventPrefix:function(){return this.enablePointerEvents?"pointer":"mouse"},addOrRemove:function(i,u){var o=this.upperCanvasEl,d=this._getEventPrefix();i(C.window,"resize",this._onResize),i(o,d+"down",this._onMouseDown),i(o,d+"move",this._onMouseMove,n),i(o,d+"out",this._onMouseOut),i(o,d+"enter",this._onMouseEnter),i(o,"wheel",this._onMouseWheel),i(o,"contextmenu",this._onContextMenu),i(o,"dblclick",this._onDoubleClick),i(o,"dragover",this._onDragOver),i(o,"dragenter",this._onDragEnter),i(o,"dragleave",this._onDragLeave),i(o,"drop",this._onDrop),this.enablePointerEvents||i(o,"touchstart",this._onTouchStart,n),typeof eventjs!="undefined"&&u in eventjs&&(eventjs[u](o,"gesture",this._onGesture),eventjs[u](o,"drag",this._onDrag),eventjs[u](o,"orientation",this._onOrientationChange),eventjs[u](o,"shake",this._onShake),eventjs[u](o,"longpress",this._onLongPress))},removeListeners:function(){this.addOrRemove(a,"remove");var i=this._getEventPrefix();a(C.document,i+"up",this._onMouseUp),a(C.document,"touchend",this._onTouchEnd,n),a(C.document,i+"move",this._onMouseMove,n),a(C.document,"touchmove",this._onMouseMove,n)},_bindEvents:function(){this.eventsBound||(this._onMouseDown=this._onMouseDown.bind(this),this._onTouchStart=this._onTouchStart.bind(this),this._onMouseMove=this._onMouseMove.bind(this),this._onMouseUp=this._onMouseUp.bind(this),this._onTouchEnd=this._onTouchEnd.bind(this),this._onResize=this._onResize.bind(this),this._onGesture=this._onGesture.bind(this),this._onDrag=this._onDrag.bind(this),this._onShake=this._onShake.bind(this),this._onLongPress=this._onLongPress.bind(this),this._onOrientationChange=this._onOrientationChange.bind(this),this._onMouseWheel=this._onMouseWheel.bind(this),this._onMouseOut=this._onMouseOut.bind(this),this._onMouseEnter=this._onMouseEnter.bind(this),this._onContextMenu=this._onContextMenu.bind(this),this._onDoubleClick=this._onDoubleClick.bind(this),this._onDragOver=this._onDragOver.bind(this),this._onDragEnter=this._simpleEventHandler.bind(this,"dragenter"),this._onDragLeave=this._simpleEventHandler.bind(this,"dragleave"),this._onDrop=this._simpleEventHandler.bind(this,"drop"),this.eventsBound=!0)},_onGesture:function(i,u){this.__onTransformGesture&&this.__onTransformGesture(i,u)},_onDrag:function(i,u){this.__onDrag&&this.__onDrag(i,u)},_onMouseWheel:function(i){this.__onMouseWheel(i)},_onMouseOut:function(i){var u=this._hoveredTarget;this.fire("mouse:out",{target:u,e:i}),this._hoveredTarget=null,u&&u.fire("mouseout",{e:i});var o=this;this._hoveredTargets.forEach(function(d){o.fire("mouse:out",{target:u,e:i}),d&&u.fire("mouseout",{e:i})}),this._hoveredTargets=[],this._iTextInstances&&this._iTextInstances.forEach(function(d){d.isEditing&&d.hiddenTextarea.focus()})},_onMouseEnter:function(i){!this._currentTransform&&!this.findTarget(i)&&(this.fire("mouse:over",{target:null,e:i}),this._hoveredTarget=null,this._hoveredTargets=[])},_onOrientationChange:function(i,u){this.__onOrientationChange&&this.__onOrientationChange(i,u)},_onShake:function(i,u){this.__onShake&&this.__onShake(i,u)},_onLongPress:function(i,u){this.__onLongPress&&this.__onLongPress(i,u)},_onDragOver:function(i){i.preventDefault();var u=this._simpleEventHandler("dragover",i);this._fireEnterLeaveEvents(u,i)},_onContextMenu:function(i){return this.stopContextMenu&&(i.stopPropagation(),i.preventDefault()),!1},_onDoubleClick:function(i){this._cacheTransformEventData(i),this._handleEvent(i,"dblclick"),this._resetTransformEventData(i)},getPointerId:function(i){var u=i.changedTouches;return u?u[0]&&u[0].identifier:this.enablePointerEvents?i.pointerId:-1},_isMainEvent:function(i){return i.isPrimary===!0?!0:i.isPrimary===!1?!1:i.type==="touchend"&&i.touches.length===0?!0:i.changedTouches?i.changedTouches[0].identifier===this.mainTouchId:!0},_onTouchStart:function(i){i.preventDefault(),this.mainTouchId===null&&(this.mainTouchId=this.getPointerId(i)),this.__onMouseDown(i),this._resetTransformEventData();var u=this.upperCanvasEl,o=this._getEventPrefix();L(C.document,"touchend",this._onTouchEnd,n),L(C.document,"touchmove",this._onMouseMove,n),a(u,o+"down",this._onMouseDown)},_onMouseDown:function(i){this.__onMouseDown(i),this._resetTransformEventData();var u=this.upperCanvasEl,o=this._getEventPrefix();a(u,o+"move",this._onMouseMove,n),L(C.document,o+"up",this._onMouseUp),L(C.document,o+"move",this._onMouseMove,n)},_onTouchEnd:function(i){if(!(i.touches.length>0)){this.__onMouseUp(i),this._resetTransformEventData(),this.mainTouchId=null;var u=this._getEventPrefix();a(C.document,"touchend",this._onTouchEnd,n),a(C.document,"touchmove",this._onMouseMove,n);var o=this;this._willAddMouseDown&&clearTimeout(this._willAddMouseDown),this._willAddMouseDown=setTimeout(function(){L(o.upperCanvasEl,u+"down",o._onMouseDown),o._willAddMouseDown=0},400)}},_onMouseUp:function(i){this.__onMouseUp(i),this._resetTransformEventData();var u=this.upperCanvasEl,o=this._getEventPrefix();this._isMainEvent(i)&&(a(C.document,o+"up",this._onMouseUp),a(C.document,o+"move",this._onMouseMove,n),L(u,o+"move",this._onMouseMove,n))},_onMouseMove:function(i){!this.allowTouchScrolling&&i.preventDefault&&i.preventDefault(),this.__onMouseMove(i)},_onResize:function(){this.calcOffset()},_shouldRender:function(i){var u=this._activeObject;return!!u!=!!i||u&&i&&u!==i?!0:(u&&u.isEditing,!1)},__onMouseUp:function(i){var u,o=this._currentTransform,d=this._groupSelector,b=!1,T=!d||d.left===0&&d.top===0;if(this._cacheTransformEventData(i),u=this._target,this._handleEvent(i,"up:before"),e(i,f)){this.fireRightClick&&this._handleEvent(i,"up",f,T);return}if(e(i,h)){this.fireMiddleClick&&this._handleEvent(i,"up",h,T),this._resetTransformEventData();return}if(this.isDrawingMode&&this._isCurrentlyDrawing){this._onMouseUpInDrawingMode(i);return}if(!!this._isMainEvent(i)){if(o&&(this._finalizeCurrentTransform(i),b=o.actionPerformed),!T){var O=u===this._activeObject;this._maybeGroupObjects(i),b||(b=this._shouldRender(u)||!O&&u===this._activeObject)}if(u){if(u.selectable&&u!==this._activeObject&&u.activeOn==="up")this.setActiveObject(u,i),b=!0;else{var Y=u._findTargetCorner(this.getPointer(i,!0),C.util.isTouchEvent(i)),et=u.controls[Y],yt=et&&et.getMouseUpHandler(i,u,et);if(yt){var Zt=this.getPointer(i);yt(i,o,Zt.x,Zt.y)}}u.isMoving=!1}this._setCursorFromEvent(i,u),this._handleEvent(i,"up",l,T),this._groupSelector=null,this._currentTransform=null,u&&(u.__corner=0),b?this.requestRenderAll():T||this.renderTop()}},_simpleEventHandler:function(i,u){var o=this.findTarget(u),d=this.targets,b={e:u,target:o,subTargets:d};if(this.fire(i,b),o&&o.fire(i,b),!d)return o;for(var T=0;T<d.length;T++)d[T].fire(i,b);return o},_handleEvent:function(i,u,o,d){var b=this._target,T=this.targets||[],O={e:i,target:b,subTargets:T,button:o||l,isClick:d||!1,pointer:this._pointer,absolutePointer:this._absolutePointer,transform:this._currentTransform};u==="up"&&(O.currentTarget=this.findTarget(i),O.currentSubTargets=this.targets),this.fire("mouse:"+u,O),b&&b.fire("mouse"+u,O);for(var Y=0;Y<T.length;Y++)T[Y].fire("mouse"+u,O)},_finalizeCurrentTransform:function(i){var u=this._currentTransform,o=u.target,d,b={e:i,target:o,transform:u,action:u.action};o._scaling&&(o._scaling=!1),o.setCoords(),(u.actionPerformed||this.stateful&&o.hasStateChanged())&&(u.actionPerformed&&(d=this._addEventOptions(b,u),this._fire(d,b)),this._fire("modified",b))},_addEventOptions:function(i,u){var o,d;switch(u.action){case"scaleX":o="scaled",d="x";break;case"scaleY":o="scaled",d="y";break;case"skewX":o="skewed",d="x";break;case"skewY":o="skewed",d="y";break;case"scale":o="scaled",d="equally";break;case"rotate":o="rotated";break;case"drag":o="moved";break}return i.by=d,o},_onMouseDownInDrawingMode:function(i){this._isCurrentlyDrawing=!0,this.getActiveObject()&&this.discardActiveObject(i).requestRenderAll();var u=this.getPointer(i);this.freeDrawingBrush.onMouseDown(u,{e:i,pointer:u}),this._handleEvent(i,"down")},_onMouseMoveInDrawingMode:function(i){if(this._isCurrentlyDrawing){var u=this.getPointer(i);this.freeDrawingBrush.onMouseMove(u,{e:i,pointer:u})}this.setCursor(this.freeDrawingCursor),this._handleEvent(i,"move")},_onMouseUpInDrawingMode:function(i){var u=this.getPointer(i);this._isCurrentlyDrawing=this.freeDrawingBrush.onMouseUp({e:i,pointer:u}),this._handleEvent(i,"up")},__onMouseDown:function(i){this._cacheTransformEventData(i),this._handleEvent(i,"down:before");var u=this._target;if(e(i,f)){this.fireRightClick&&this._handleEvent(i,"down",f);return}if(e(i,h)){this.fireMiddleClick&&this._handleEvent(i,"down",h);return}if(this.isDrawingMode){this._onMouseDownInDrawingMode(i);return}if(!!this._isMainEvent(i)&&!this._currentTransform){var o=this._pointer;this._previousPointer=o;var d=this._shouldRender(u),b=this._shouldGroup(i,u);if(this._shouldClearSelection(i,u)?this.discardActiveObject(i):b&&(this._handleGrouping(i,u),u=this._activeObject),this.selection&&(!u||!u.selectable&&!u.isEditing&&u!==this._activeObject)&&(this._groupSelector={ex:this._absolutePointer.x,ey:this._absolutePointer.y,top:0,left:0}),u){var T=u===this._activeObject;u.selectable&&u.activeOn==="down"&&this.setActiveObject(u,i);var O=u._findTargetCorner(this.getPointer(i,!0),C.util.isTouchEvent(i));if(u.__corner=O,u===this._activeObject&&(O||!b)){this._setupCurrentTransform(i,u,T);var Y=u.controls[O],o=this.getPointer(i),et=Y&&Y.getMouseDownHandler(i,u,Y);et&&et(i,this._currentTransform,o.x,o.y)}}this._handleEvent(i,"down"),(d||b)&&this.requestRenderAll()}},_resetTransformEventData:function(){this._target=null,this._pointer=null,this._absolutePointer=null},_cacheTransformEventData:function(i){this._resetTransformEventData(),this._pointer=this.getPointer(i,!0),this._absolutePointer=this.restorePointerVpt(this._pointer),this._target=this._currentTransform?this._currentTransform.target:this.findTarget(i)||null},_beforeTransform:function(i){var u=this._currentTransform;this.stateful&&u.target.saveState(),this.fire("before:transform",{e:i,transform:u})},__onMouseMove:function(i){this._handleEvent(i,"move:before"),this._cacheTransformEventData(i);var u,o;if(this.isDrawingMode){this._onMouseMoveInDrawingMode(i);return}if(!!this._isMainEvent(i)){var d=this._groupSelector;d?(o=this._absolutePointer,d.left=o.x-d.ex,d.top=o.y-d.ey,this.renderTop()):this._currentTransform?this._transformObject(i):(u=this.findTarget(i)||null,this._setCursorFromEvent(i,u),this._fireOverOutEvents(u,i)),this._handleEvent(i,"move"),this._resetTransformEventData()}},_fireOverOutEvents:function(i,u){var o=this._hoveredTarget,d=this._hoveredTargets,b=this.targets,T=Math.max(d.length,b.length);this.fireSyntheticInOutEvents(i,u,{oldTarget:o,evtOut:"mouseout",canvasEvtOut:"mouse:out",evtIn:"mouseover",canvasEvtIn:"mouse:over"});for(var O=0;O<T;O++)this.fireSyntheticInOutEvents(b[O],u,{oldTarget:d[O],evtOut:"mouseout",evtIn:"mouseover"});this._hoveredTarget=i,this._hoveredTargets=this.targets.concat()},_fireEnterLeaveEvents:function(i,u){var o=this._draggedoverTarget,d=this._hoveredTargets,b=this.targets,T=Math.max(d.length,b.length);this.fireSyntheticInOutEvents(i,u,{oldTarget:o,evtOut:"dragleave",evtIn:"dragenter"});for(var O=0;O<T;O++)this.fireSyntheticInOutEvents(b[O],u,{oldTarget:d[O],evtOut:"dragleave",evtIn:"dragenter"});this._draggedoverTarget=i},fireSyntheticInOutEvents:function(i,u,o){var d,b,T=o.oldTarget,O,Y,et=T!==i,yt=o.canvasEvtIn,Zt=o.canvasEvtOut;et&&(d={e:u,target:i,previousTarget:T},b={e:u,target:T,nextTarget:i}),Y=i&&et,O=T&&et,O&&(Zt&&this.fire(Zt,b),T.fire(o.evtOut,b)),Y&&(yt&&this.fire(yt,d),i.fire(o.evtIn,d))},__onMouseWheel:function(i){this._cacheTransformEventData(i),this._handleEvent(i,"wheel"),this._resetTransformEventData()},_transformObject:function(i){var u=this.getPointer(i),o=this._currentTransform;o.reset=!1,o.shiftKey=i.shiftKey,o.altKey=i[this.centeredKey],this._performTransformAction(i,o,u),o.actionPerformed&&this.requestRenderAll()},_performTransformAction:function(i,u,o){var d=o.x,b=o.y,T=u.action,O=!1,Y=u.actionHandler;Y&&(O=Y(i,u,d,b)),T==="drag"&&O&&(u.target.isMoving=!0,this.setCursor(u.target.moveCursor||this.moveCursor)),u.actionPerformed=u.actionPerformed||O},_fire:C.controlsUtils.fireEvent,_setCursorFromEvent:function(i,u){if(!u)return this.setCursor(this.defaultCursor),!1;var o=u.hoverCursor||this.hoverCursor,d=this._activeObject&&this._activeObject.type==="activeSelection"?this._activeObject:null,b=(!d||!d.contains(u))&&u._findTargetCorner(this.getPointer(i,!0));b?this.setCursor(this.getCornerCursor(b,u,i)):(u.subTargetCheck&&this.targets.concat().reverse().map(function(T){o=T.hoverCursor||o}),this.setCursor(o))},getCornerCursor:function(i,u,o){var d=u.controls[i];return d.cursorStyleHandler(o,d,u)}})}(),function(){var L=Math.min,a=Math.max;C.util.object.extend(C.Canvas.prototype,{_shouldGroup:function(h,l){var n=this._activeObject;return n&&this._isSelectionKeyPressed(h)&&l&&l.selectable&&this.selection&&(n!==l||n.type==="activeSelection")&&!l.onSelect({e:h})},_handleGrouping:function(h,l){var n=this._activeObject;n.__corner||l===n&&(l=this.findTarget(h,!0),!l||!l.selectable)||(n&&n.type==="activeSelection"?this._updateActiveSelection(l,h):this._createActiveSelection(l,h))},_updateActiveSelection:function(h,l){var n=this._activeObject,e=n._objects.slice(0);n.contains(h)?(n.removeWithUpdate(h),this._hoveredTarget=h,this._hoveredTargets=this.targets.concat(),n.size()===1&&this._setActiveObject(n.item(0),l)):(n.addWithUpdate(h),this._hoveredTarget=n,this._hoveredTargets=this.targets.concat()),this._fireSelectionEvents(e,l)},_createActiveSelection:function(h,l){var n=this.getActiveObjects(),e=this._createGroup(h);this._hoveredTarget=e,this._setActiveObject(e,l),this._fireSelectionEvents(n,l)},_createGroup:function(h){var l=this._objects,n=l.indexOf(this._activeObject)<l.indexOf(h),e=n?[this._activeObject,h]:[h,this._activeObject];return this._activeObject.isEditing&&this._activeObject.exitEditing(),new C.ActiveSelection(e,{canvas:this})},_groupSelectedObjects:function(h){var l=this._collectObjects(h),n;l.length===1?this.setActiveObject(l[0],h):l.length>1&&(n=new C.ActiveSelection(l.reverse(),{canvas:this}),this.setActiveObject(n,h))},_collectObjects:function(h){for(var l=[],n,e=this._groupSelector.ex,r=this._groupSelector.ey,i=e+this._groupSelector.left,u=r+this._groupSelector.top,o=new C.Point(L(e,i),L(r,u)),d=new C.Point(a(e,i),a(r,u)),b=!this.selectionFullyContained,T=e===i&&r===u,O=this._objects.length;O--&&(n=this._objects[O],!(!(!n||!n.selectable||!n.visible)&&(b&&n.intersectsWithRect(o,d,!0)||n.isContainedWithinRect(o,d,!0)||b&&n.containsPoint(o,null,!0)||b&&n.containsPoint(d,null,!0))&&(l.push(n),T))););return l.length>1&&(l=l.filter(function(Y){return!Y.onSelect({e:h})})),l},_maybeGroupObjects:function(h){this.selection&&this._groupSelector&&this._groupSelectedObjects(h),this.setCursor(this.defaultCursor),this._groupSelector=null}})}(),function(){C.util.object.extend(C.StaticCanvas.prototype,{toDataURL:function(a){a||(a={});var f=a.format||"png",h=a.quality||1,l=(a.multiplier||1)*(a.enableRetinaScaling?this.getRetinaScaling():1),n=this.toCanvasElement(l,a);return C.util.toDataURL(n,f,h)},toCanvasElement:function(a,f){a=a||1,f=f||{};var h=(f.width||this.width)*a,l=(f.height||this.height)*a,n=this.getZoom(),e=this.width,r=this.height,i=n*a,u=this.viewportTransform,o=(u[4]-(f.left||0))*a,d=(u[5]-(f.top||0))*a,b=this.interactive,T=[i,0,0,i,o,d],O=this.enableRetinaScaling,Y=C.util.createCanvasElement(),et=this.contextTop;return Y.width=h,Y.height=l,this.contextTop=null,this.enableRetinaScaling=!1,this.interactive=!1,this.viewportTransform=T,this.width=h,this.height=l,this.calcViewportBoundaries(),this.renderCanvas(Y.getContext("2d"),this._objects),this.viewportTransform=u,this.width=e,this.height=r,this.calcViewportBoundaries(),this.interactive=b,this.enableRetinaScaling=O,this.contextTop=et,Y}})}(),C.util.object.extend(C.StaticCanvas.prototype,{loadFromJSON:function(a,f,h){if(!!a){var l=typeof a=="string"?JSON.parse(a):C.util.object.clone(a),n=this,e=l.clipPath,r=this.renderOnAddRemove;return this.renderOnAddRemove=!1,delete l.clipPath,this._enlivenObjects(l.objects,function(i){n.clear(),n._setBgOverlay(l,function(){e?n._enlivenObjects([e],function(u){n.clipPath=u[0],n.__setupCanvas.call(n,l,i,r,f)}):n.__setupCanvas.call(n,l,i,r,f)})},h),this}},__setupCanvas:function(a,f,h,l){var n=this;f.forEach(function(e,r){n.insertAt(e,r)}),this.renderOnAddRemove=h,delete a.objects,delete a.backgroundImage,delete a.overlayImage,delete a.background,delete a.overlay,this._setOptions(a),this.renderAll(),l&&l()},_setBgOverlay:function(a,f){var h={backgroundColor:!1,overlayColor:!1,backgroundImage:!1,overlayImage:!1};if(!a.backgroundImage&&!a.overlayImage&&!a.background&&!a.overlay){f&&f();return}var l=function(){h.backgroundImage&&h.overlayImage&&h.backgroundColor&&h.overlayColor&&f&&f()};this.__setBgOverlay("backgroundImage",a.backgroundImage,h,l),this.__setBgOverlay("overlayImage",a.overlayImage,h,l),this.__setBgOverlay("backgroundColor",a.background,h,l),this.__setBgOverlay("overlayColor",a.overlay,h,l)},__setBgOverlay:function(a,f,h,l){var n=this;if(!f){h[a]=!0,l&&l();return}a==="backgroundImage"||a==="overlayImage"?C.util.enlivenObjects([f],function(e){n[a]=e[0],h[a]=!0,l&&l()}):this["set"+C.util.string.capitalize(a,!0)](f,function(){h[a]=!0,l&&l()})},_enlivenObjects:function(a,f,h){if(!a||a.length===0){f&&f([]);return}C.util.enlivenObjects(a,function(l){f&&f(l)},null,h)},_toDataURL:function(a,f){this.clone(function(h){f(h.toDataURL(a))})},_toDataURLWithMultiplier:function(a,f,h){this.clone(function(l){h(l.toDataURLWithMultiplier(a,f))})},clone:function(a,f){var h=JSON.stringify(this.toJSON(f));this.cloneWithoutData(function(l){l.loadFromJSON(h,function(){a&&a(l)})})},cloneWithoutData:function(a){var f=C.util.createCanvasElement();f.width=this.width,f.height=this.height;var h=new C.Canvas(f);this.backgroundImage?(h.setBackgroundImage(this.backgroundImage.src,function(){h.renderAll(),a&&a(h)}),h.backgroundImageOpacity=this.backgroundImageOpacity,h.backgroundImageStretch=this.backgroundImageStretch):a&&a(h)}}),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.object.extend,h=a.util.object.clone,l=a.util.toFixed,n=a.util.string.capitalize,e=a.util.degreesToRadians,r=!a.isLikelyNode,i=2;a.Object||(a.Object=a.util.createClass(a.CommonMethods,{type:"object",originX:"left",originY:"top",top:0,left:0,width:0,height:0,scaleX:1,scaleY:1,flipX:!1,flipY:!1,opacity:1,angle:0,skewX:0,skewY:0,cornerSize:13,touchCornerSize:24,transparentCorners:!0,hoverCursor:null,moveCursor:null,padding:0,borderColor:"rgb(178,204,255)",borderDashArray:null,cornerColor:"rgb(178,204,255)",cornerStrokeColor:null,cornerStyle:"rect",cornerDashArray:null,centeredScaling:!1,centeredRotation:!0,fill:"rgb(0,0,0)",fillRule:"nonzero",globalCompositeOperation:"source-over",backgroundColor:"",selectionBackgroundColor:"",stroke:null,strokeWidth:1,strokeDashArray:null,strokeDashOffset:0,strokeLineCap:"butt",strokeLineJoin:"miter",strokeMiterLimit:4,shadow:null,borderOpacityWhenMoving:.4,borderScaleFactor:1,minScaleLimit:0,selectable:!0,evented:!0,visible:!0,hasControls:!0,hasBorders:!0,perPixelTargetFind:!1,includeDefaultValues:!0,lockMovementX:!1,lockMovementY:!1,lockRotation:!1,lockScalingX:!1,lockScalingY:!1,lockSkewingX:!1,lockSkewingY:!1,lockScalingFlip:!1,excludeFromExport:!1,objectCaching:r,statefullCache:!1,noScaleCache:!0,strokeUniform:!1,dirty:!0,__corner:0,paintFirst:"fill",activeOn:"down",stateProperties:"top left width height scaleX scaleY flipX flipY originX originY transformMatrix stroke strokeWidth strokeDashArray strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit angle opacity fill globalCompositeOperation shadow visible backgroundColor skewX skewY fillRule paintFirst clipPath strokeUniform".split(" "),cacheProperties:"fill stroke strokeWidth strokeDashArray width height paintFirst strokeUniform strokeLineCap strokeDashOffset strokeLineJoin strokeMiterLimit backgroundColor clipPath".split(" "),colorProperties:"fill stroke backgroundColor".split(" "),clipPath:void 0,inverted:!1,absolutePositioned:!1,initialize:function(o){o&&this.setOptions(o)},_createCacheCanvas:function(){this._cacheProperties={},this._cacheCanvas=a.util.createCanvasElement(),this._cacheContext=this._cacheCanvas.getContext("2d"),this._updateCacheCanvas(),this.dirty=!0},_limitCacheSize:function(o){var d=a.perfLimitSizeTotal,b=o.width,T=o.height,O=a.maxCacheSideLimit,Y=a.minCacheSideLimit;if(b<=O&&T<=O&&b*T<=d)return b<Y&&(o.width=Y),T<Y&&(o.height=Y),o;var et=b/T,yt=a.util.limitDimsByArea(et,d),Zt=a.util.capValue,fe=Zt(Y,yt.x,O),Ue=Zt(Y,yt.y,O);return b>fe&&(o.zoomX/=b/fe,o.width=fe,o.capped=!0),T>Ue&&(o.zoomY/=T/Ue,o.height=Ue,o.capped=!0),o},_getCacheCanvasDimensions:function(){var o=this.getTotalObjectScaling(),d=this._getTransformedDimensions(0,0),b=d.x*o.scaleX/this.scaleX,T=d.y*o.scaleY/this.scaleY;return{width:b+i,height:T+i,zoomX:o.scaleX,zoomY:o.scaleY,x:b,y:T}},_updateCacheCanvas:function(){var o=this.canvas;if(this.noScaleCache&&o&&o._currentTransform){var d=o._currentTransform.target,b=o._currentTransform.action;if(this===d&&b.slice&&b.slice(0,5)==="scale")return!1}var T=this._cacheCanvas,O=this._limitCacheSize(this._getCacheCanvasDimensions()),Y=a.minCacheSideLimit,et=O.width,yt=O.height,Zt,fe,Ue=O.zoomX,sr=O.zoomY,cr=et!==this.cacheWidth||yt!==this.cacheHeight,Ke=this.zoomX!==Ue||this.zoomY!==sr,Ie=cr||Ke,gr=0,kr=0,Ar=!1;if(cr){var lt=this._cacheCanvas.width,me=this._cacheCanvas.height,Z=et>lt||yt>me,ct=(et<lt*.9||yt<me*.9)&&lt>Y&&me>Y;Ar=Z||ct,Z&&!O.capped&&(et>Y||yt>Y)&&(gr=et*.1,kr=yt*.1)}return this instanceof a.Text&&this.path&&(Ie=!0,Ar=!0,gr+=this.getHeightOfLine(0)*this.zoomX,kr+=this.getHeightOfLine(0)*this.zoomY),Ie?(Ar?(T.width=Math.ceil(et+gr),T.height=Math.ceil(yt+kr)):(this._cacheContext.setTransform(1,0,0,1,0,0),this._cacheContext.clearRect(0,0,T.width,T.height)),Zt=O.x/2,fe=O.y/2,this.cacheTranslationX=Math.round(T.width/2-Zt)+Zt,this.cacheTranslationY=Math.round(T.height/2-fe)+fe,this.cacheWidth=et,this.cacheHeight=yt,this._cacheContext.translate(this.cacheTranslationX,this.cacheTranslationY),this._cacheContext.scale(Ue,sr),this.zoomX=Ue,this.zoomY=sr,!0):!1},setOptions:function(o){this._setOptions(o),this._initGradient(o.fill,"fill"),this._initGradient(o.stroke,"stroke"),this._initPattern(o.fill,"fill"),this._initPattern(o.stroke,"stroke")},transform:function(o){var d=this.group&&!this.group._transformDone||this.group&&this.canvas&&o===this.canvas.contextTop,b=this.calcTransformMatrix(!d);o.transform(b[0],b[1],b[2],b[3],b[4],b[5])},toObject:function(o){var d=a.Object.NUM_FRACTION_DIGITS,b={type:this.type,version:a.version,originX:this.originX,originY:this.originY,left:l(this.left,d),top:l(this.top,d),width:l(this.width,d),height:l(this.height,d),fill:this.fill&&this.fill.toObject?this.fill.toObject():this.fill,stroke:this.stroke&&this.stroke.toObject?this.stroke.toObject():this.stroke,strokeWidth:l(this.strokeWidth,d),strokeDashArray:this.strokeDashArray?this.strokeDashArray.concat():this.strokeDashArray,strokeLineCap:this.strokeLineCap,strokeDashOffset:this.strokeDashOffset,strokeLineJoin:this.strokeLineJoin,strokeUniform:this.strokeUniform,strokeMiterLimit:l(this.strokeMiterLimit,d),scaleX:l(this.scaleX,d),scaleY:l(this.scaleY,d),angle:l(this.angle,d),flipX:this.flipX,flipY:this.flipY,opacity:l(this.opacity,d),shadow:this.shadow&&this.shadow.toObject?this.shadow.toObject():this.shadow,visible:this.visible,backgroundColor:this.backgroundColor,fillRule:this.fillRule,paintFirst:this.paintFirst,globalCompositeOperation:this.globalCompositeOperation,skewX:l(this.skewX,d),skewY:l(this.skewY,d)};return this.clipPath&&!this.clipPath.excludeFromExport&&(b.clipPath=this.clipPath.toObject(o),b.clipPath.inverted=this.clipPath.inverted,b.clipPath.absolutePositioned=this.clipPath.absolutePositioned),a.util.populateWithProperties(this,b,o),this.includeDefaultValues||(b=this._removeDefaultValues(b)),b},toDatalessObject:function(o){return this.toObject(o)},_removeDefaultValues:function(o){var d=a.util.getKlass(o.type).prototype,b=d.stateProperties;return b.forEach(function(T){if(!(T==="left"||T==="top")){o[T]===d[T]&&delete o[T];var O=Object.prototype.toString.call(o[T])==="[object Array]"&&Object.prototype.toString.call(d[T])==="[object Array]";O&&o[T].length===0&&d[T].length===0&&delete o[T]}}),o},toString:function(){return"#<fabric."+n(this.type)+">"},getObjectScaling:function(){if(!this.group)return{scaleX:this.scaleX,scaleY:this.scaleY};var o=a.util.qrDecompose(this.calcTransformMatrix());return{scaleX:Math.abs(o.scaleX),scaleY:Math.abs(o.scaleY)}},getTotalObjectScaling:function(){var o=this.getObjectScaling(),d=o.scaleX,b=o.scaleY;if(this.canvas){var T=this.canvas.getZoom(),O=this.canvas.getRetinaScaling();d*=T*O,b*=T*O}return{scaleX:d,scaleY:b}},getObjectOpacity:function(){var o=this.opacity;return this.group&&(o*=this.group.getObjectOpacity()),o},_set:function(o,d){var b=o==="scaleX"||o==="scaleY",T=this[o]!==d,O=!1;return b&&(d=this._constrainScale(d)),o==="scaleX"&&d<0?(this.flipX=!this.flipX,d*=-1):o==="scaleY"&&d<0?(this.flipY=!this.flipY,d*=-1):o==="shadow"&&d&&!(d instanceof a.Shadow)?d=new a.Shadow(d):o==="dirty"&&this.group&&this.group.set("dirty",d),this[o]=d,T&&(O=this.group&&this.group.isOnACache(),this.cacheProperties.indexOf(o)>-1?(this.dirty=!0,O&&this.group.set("dirty",!0)):O&&this.stateProperties.indexOf(o)>-1&&this.group.set("dirty",!0)),this},setOnGroup:function(){},getViewportTransform:function(){return this.canvas&&this.canvas.viewportTransform?this.canvas.viewportTransform:a.iMatrix.concat()},isNotVisible:function(){return this.opacity===0||!this.width&&!this.height&&this.strokeWidth===0||!this.visible},render:function(o){this.isNotVisible()||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(o.save(),this._setupCompositeOperation(o),this.drawSelectionBackground(o),this.transform(o),this._setOpacity(o),this._setShadow(o,this),this.shouldCache()?(this.renderCache(),this.drawCacheOnCanvas(o)):(this._removeCacheCanvas(),this.dirty=!1,this.drawObject(o),this.objectCaching&&this.statefullCache&&this.saveState({propertySet:"cacheProperties"})),o.restore())},renderCache:function(o){o=o||{},this._cacheCanvas||this._createCacheCanvas(),this.isCacheDirty()&&(this.statefullCache&&this.saveState({propertySet:"cacheProperties"}),this.drawObject(this._cacheContext,o.forClipping),this.dirty=!1)},_removeCacheCanvas:function(){this._cacheCanvas=null,this.cacheWidth=0,this.cacheHeight=0},hasStroke:function(){return this.stroke&&this.stroke!=="transparent"&&this.strokeWidth!==0},hasFill:function(){return this.fill&&this.fill!=="transparent"},needsItsOwnCache:function(){return!!(this.paintFirst==="stroke"&&this.hasFill()&&this.hasStroke()&&typeof this.shadow=="object"||this.clipPath)},shouldCache:function(){return this.ownCaching=this.needsItsOwnCache()||this.objectCaching&&(!this.group||!this.group.isOnACache()),this.ownCaching},willDrawShadow:function(){return!!this.shadow&&(this.shadow.offsetX!==0||this.shadow.offsetY!==0)},drawClipPathOnCache:function(o){var d=this.clipPath;if(o.save(),d.inverted?o.globalCompositeOperation="destination-out":o.globalCompositeOperation="destination-in",d.absolutePositioned){var b=a.util.invertTransform(this.calcTransformMatrix());o.transform(b[0],b[1],b[2],b[3],b[4],b[5])}d.transform(o),o.scale(1/d.zoomX,1/d.zoomY),o.drawImage(d._cacheCanvas,-d.cacheTranslationX,-d.cacheTranslationY),o.restore()},drawObject:function(o,d){var b=this.fill,T=this.stroke;d?(this.fill="black",this.stroke="",this._setClippingProperties(o)):this._renderBackground(o),this._render(o),this._drawClipPath(o),this.fill=b,this.stroke=T},_drawClipPath:function(o){var d=this.clipPath;!d||(d.canvas=this.canvas,d.shouldCache(),d._transformDone=!0,d.renderCache({forClipping:!0}),this.drawClipPathOnCache(o))},drawCacheOnCanvas:function(o){o.scale(1/this.zoomX,1/this.zoomY),o.drawImage(this._cacheCanvas,-this.cacheTranslationX,-this.cacheTranslationY)},isCacheDirty:function(o){if(this.isNotVisible())return!1;if(this._cacheCanvas&&!o&&this._updateCacheCanvas())return!0;if(this.dirty||this.clipPath&&this.clipPath.absolutePositioned||this.statefullCache&&this.hasStateChanged("cacheProperties")){if(this._cacheCanvas&&!o){var d=this.cacheWidth/this.zoomX,b=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-d/2,-b/2,d,b)}return!0}return!1},_renderBackground:function(o){if(!!this.backgroundColor){var d=this._getNonTransformedDimensions();o.fillStyle=this.backgroundColor,o.fillRect(-d.x/2,-d.y/2,d.x,d.y),this._removeShadow(o)}},_setOpacity:function(o){this.group&&!this.group._transformDone?o.globalAlpha=this.getObjectOpacity():o.globalAlpha*=this.opacity},_setStrokeStyles:function(o,d){var b=d.stroke;b&&(o.lineWidth=d.strokeWidth,o.lineCap=d.strokeLineCap,o.lineDashOffset=d.strokeDashOffset,o.lineJoin=d.strokeLineJoin,o.miterLimit=d.strokeMiterLimit,b.toLive?b.gradientUnits==="percentage"||b.gradientTransform||b.patternTransform?this._applyPatternForTransformedGradient(o,b):(o.strokeStyle=b.toLive(o,this),this._applyPatternGradientTransform(o,b)):o.strokeStyle=d.stroke)},_setFillStyles:function(o,d){var b=d.fill;b&&(b.toLive?(o.fillStyle=b.toLive(o,this),this._applyPatternGradientTransform(o,d.fill)):o.fillStyle=b)},_setClippingProperties:function(o){o.globalAlpha=1,o.strokeStyle="transparent",o.fillStyle="#000000"},_setLineDash:function(o,d){!d||d.length===0||(1&d.length&&d.push.apply(d,d),o.setLineDash(d))},_renderControls:function(o,d){var b=this.getViewportTransform(),T=this.calcTransformMatrix(),O,Y,et;d=d||{},Y=typeof d.hasBorders!="undefined"?d.hasBorders:this.hasBorders,et=typeof d.hasControls!="undefined"?d.hasControls:this.hasControls,T=a.util.multiplyTransformMatrices(b,T),O=a.util.qrDecompose(T),o.save(),o.translate(O.translateX,O.translateY),o.lineWidth=1*this.borderScaleFactor,this.group||(o.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1),o.rotate(e(O.angle)),d.forActiveSelection||this.group?Y&&this.drawBordersInGroup(o,O,d):Y&&this.drawBorders(o,d),et&&this.drawControls(o,d),o.restore()},_setShadow:function(o){if(!!this.shadow){var d=this.shadow,b=this.canvas,T,O=b&&b.viewportTransform[0]||1,Y=b&&b.viewportTransform[3]||1;d.nonScaling?T={scaleX:1,scaleY:1}:T=this.getObjectScaling(),b&&b._isRetinaScaling()&&(O*=a.devicePixelRatio,Y*=a.devicePixelRatio),o.shadowColor=d.color,o.shadowBlur=d.blur*a.browserShadowBlurConstant*(O+Y)*(T.scaleX+T.scaleY)/4,o.shadowOffsetX=d.offsetX*O*T.scaleX,o.shadowOffsetY=d.offsetY*Y*T.scaleY}},_removeShadow:function(o){!this.shadow||(o.shadowColor="",o.shadowBlur=o.shadowOffsetX=o.shadowOffsetY=0)},_applyPatternGradientTransform:function(o,d){if(!d||!d.toLive)return{offsetX:0,offsetY:0};var b=d.gradientTransform||d.patternTransform,T=-this.width/2+d.offsetX||0,O=-this.height/2+d.offsetY||0;return d.gradientUnits==="percentage"?o.transform(this.width,0,0,this.height,T,O):o.transform(1,0,0,1,T,O),b&&o.transform(b[0],b[1],b[2],b[3],b[4],b[5]),{offsetX:T,offsetY:O}},_renderPaintInOrder:function(o){this.paintFirst==="stroke"?(this._renderStroke(o),this._renderFill(o)):(this._renderFill(o),this._renderStroke(o))},_render:function(){},_renderFill:function(o){!this.fill||(o.save(),this._setFillStyles(o,this),this.fillRule==="evenodd"?o.fill("evenodd"):o.fill(),o.restore())},_renderStroke:function(o){if(!(!this.stroke||this.strokeWidth===0)){if(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(o),o.save(),this.strokeUniform&&this.group){var d=this.getObjectScaling();o.scale(1/d.scaleX,1/d.scaleY)}else this.strokeUniform&&o.scale(1/this.scaleX,1/this.scaleY);this._setLineDash(o,this.strokeDashArray),this._setStrokeStyles(o,this),o.stroke(),o.restore()}},_applyPatternForTransformedGradient:function(o,d){var b=this._limitCacheSize(this._getCacheCanvasDimensions()),T=a.util.createCanvasElement(),O,Y=this.canvas.getRetinaScaling(),et=b.x/this.scaleX/Y,yt=b.y/this.scaleY/Y;T.width=et,T.height=yt,O=T.getContext("2d"),O.beginPath(),O.moveTo(0,0),O.lineTo(et,0),O.lineTo(et,yt),O.lineTo(0,yt),O.closePath(),O.translate(et/2,yt/2),O.scale(b.zoomX/this.scaleX/Y,b.zoomY/this.scaleY/Y),this._applyPatternGradientTransform(O,d),O.fillStyle=d.toLive(o),O.fill(),o.translate(-this.width/2-this.strokeWidth/2,-this.height/2-this.strokeWidth/2),o.scale(Y*this.scaleX/b.zoomX,Y*this.scaleY/b.zoomY),o.strokeStyle=O.createPattern(T,"no-repeat")},_findCenterFromElement:function(){return{x:this.left+this.width/2,y:this.top+this.height/2}},_assignTransformMatrixProps:function(){if(this.transformMatrix){var o=a.util.qrDecompose(this.transformMatrix);this.flipX=!1,this.flipY=!1,this.set("scaleX",o.scaleX),this.set("scaleY",o.scaleY),this.angle=o.angle,this.skewX=o.skewX,this.skewY=0}},_removeTransformMatrix:function(o){var d=this._findCenterFromElement();this.transformMatrix&&(this._assignTransformMatrixProps(),d=a.util.transformPoint(d,this.transformMatrix)),this.transformMatrix=null,o&&(this.scaleX*=o.scaleX,this.scaleY*=o.scaleY,this.cropX=o.cropX,this.cropY=o.cropY,d.x+=o.offsetLeft,d.y+=o.offsetTop,this.width=o.width,this.height=o.height),this.setPositionByOrigin(d,"center","center")},clone:function(o,d){var b=this.toObject(d);this.constructor.fromObject?this.constructor.fromObject(b,o):a.Object._fromObject("Object",b,o)},cloneAsImage:function(o,d){var b=this.toCanvasElement(d);return o&&o(new a.Image(b)),this},toCanvasElement:function(o){o||(o={});var d=a.util,b=d.saveObjectTransform(this),T=this.group,O=this.shadow,Y=Math.abs,et=(o.multiplier||1)*(o.enableRetinaScaling?a.devicePixelRatio:1);delete this.group,o.withoutTransform&&d.resetObjectTransform(this),o.withoutShadow&&(this.shadow=null);var yt=a.util.createCanvasElement(),Zt=this.getBoundingRect(!0,!0),fe=this.shadow,Ue,sr={x:0,y:0},cr,Ke,Ie;fe&&(cr=fe.blur,fe.nonScaling?Ue={scaleX:1,scaleY:1}:Ue=this.getObjectScaling(),sr.x=2*Math.round(Y(fe.offsetX)+cr)*Y(Ue.scaleX),sr.y=2*Math.round(Y(fe.offsetY)+cr)*Y(Ue.scaleY)),Ke=Zt.width+sr.x,Ie=Zt.height+sr.y,yt.width=Math.ceil(Ke),yt.height=Math.ceil(Ie);var gr=new a.StaticCanvas(yt,{enableRetinaScaling:!1,renderOnAddRemove:!1,skipOffscreen:!1});o.format==="jpeg"&&(gr.backgroundColor="#fff"),this.setPositionByOrigin(new a.Point(gr.width/2,gr.height/2),"center","center");var kr=this.canvas;gr.add(this);var Ar=gr.toCanvasElement(et||1,o);return this.shadow=O,this.set("canvas",kr),T&&(this.group=T),this.set(b).setCoords(),gr._objects=[],gr.dispose(),gr=null,Ar},toDataURL:function(o){return o||(o={}),a.util.toDataURL(this.toCanvasElement(o),o.format||"png",o.quality||1)},isType:function(o){return this.type===o},complexity:function(){return 1},toJSON:function(o){return this.toObject(o)},rotate:function(o){var d=(this.originX!=="center"||this.originY!=="center")&&this.centeredRotation;return d&&this._setOriginToCenter(),this.set("angle",o),d&&this._resetOrigin(),this},centerH:function(){return this.canvas&&this.canvas.centerObjectH(this),this},viewportCenterH:function(){return this.canvas&&this.canvas.viewportCenterObjectH(this),this},centerV:function(){return this.canvas&&this.canvas.centerObjectV(this),this},viewportCenterV:function(){return this.canvas&&this.canvas.viewportCenterObjectV(this),this},center:function(){return this.canvas&&this.canvas.centerObject(this),this},viewportCenter:function(){return this.canvas&&this.canvas.viewportCenterObject(this),this},getLocalPointer:function(o,d){d=d||this.canvas.getPointer(o);var b=new a.Point(d.x,d.y),T=this._getLeftTopCoords();return this.angle&&(b=a.util.rotatePoint(b,T,e(-this.angle))),{x:b.x-T.x,y:b.y-T.y}},_setupCompositeOperation:function(o){this.globalCompositeOperation&&(o.globalCompositeOperation=this.globalCompositeOperation)}}),a.util.createAccessors&&a.util.createAccessors(a.Object),f(a.Object.prototype,a.Observable),a.Object.NUM_FRACTION_DIGITS=2,a.Object._fromObject=function(u,o,d,b){var T=a[u];o=h(o,!0),a.util.enlivenPatterns([o.fill,o.stroke],function(O){typeof O[0]!="undefined"&&(o.fill=O[0]),typeof O[1]!="undefined"&&(o.stroke=O[1]),a.util.enlivenObjects([o.clipPath],function(Y){o.clipPath=Y[0];var et=b?new T(o[b],o):new T(o);d&&d(et)})})},a.Object.__uid=0)}(hr),function(){var L=C.util.degreesToRadians,a={left:-.5,center:0,right:.5},f={top:-.5,center:0,bottom:.5};C.util.object.extend(C.Object.prototype,{translateToGivenOrigin:function(l,n,e,r,i){var u=l.x,o=l.y,d,b,T;return typeof n=="string"?n=a[n]:n-=.5,typeof r=="string"?r=a[r]:r-=.5,d=r-n,typeof e=="string"?e=f[e]:e-=.5,typeof i=="string"?i=f[i]:i-=.5,b=i-e,(d||b)&&(T=this._getTransformedDimensions(),u=l.x+d*T.x,o=l.y+b*T.y),new C.Point(u,o)},translateToCenterPoint:function(l,n,e){var r=this.translateToGivenOrigin(l,n,e,"center","center");return this.angle?C.util.rotatePoint(r,l,L(this.angle)):r},translateToOriginPoint:function(l,n,e){var r=this.translateToGivenOrigin(l,"center","center",n,e);return this.angle?C.util.rotatePoint(r,l,L(this.angle)):r},getCenterPoint:function(){var l=new C.Point(this.left,this.top);return this.translateToCenterPoint(l,this.originX,this.originY)},getPointByOrigin:function(l,n){var e=this.getCenterPoint();return this.translateToOriginPoint(e,l,n)},toLocalPoint:function(l,n,e){var r=this.getCenterPoint(),i,u;return typeof n!="undefined"&&typeof e!="undefined"?i=this.translateToGivenOrigin(r,"center","center",n,e):i=new C.Point(this.left,this.top),u=new C.Point(l.x,l.y),this.angle&&(u=C.util.rotatePoint(u,r,-L(this.angle))),u.subtractEquals(i)},setPositionByOrigin:function(l,n,e){var r=this.translateToCenterPoint(l,n,e),i=this.translateToOriginPoint(r,this.originX,this.originY);this.set("left",i.x),this.set("top",i.y)},adjustPosition:function(l){var n=L(this.angle),e=this.getScaledWidth(),r=C.util.cos(n)*e,i=C.util.sin(n)*e,u,o;typeof this.originX=="string"?u=a[this.originX]:u=this.originX-.5,typeof l=="string"?o=a[l]:o=l-.5,this.left+=r*(o-u),this.top+=i*(o-u),this.setCoords(),this.originX=l},_setOriginToCenter:function(){this._originalOriginX=this.originX,this._originalOriginY=this.originY;var l=this.getCenterPoint();this.originX="center",this.originY="center",this.left=l.x,this.top=l.y},_resetOrigin:function(){var l=this.translateToOriginPoint(this.getCenterPoint(),this._originalOriginX,this._originalOriginY);this.originX=this._originalOriginX,this.originY=this._originalOriginY,this.left=l.x,this.top=l.y,this._originalOriginX=null,this._originalOriginY=null},_getLeftTopCoords:function(){return this.translateToOriginPoint(this.getCenterPoint(),"left","top")}})}(),function(){function L(n){return[new C.Point(n.tl.x,n.tl.y),new C.Point(n.tr.x,n.tr.y),new C.Point(n.br.x,n.br.y),new C.Point(n.bl.x,n.bl.y)]}var a=C.util,f=a.degreesToRadians,h=a.multiplyTransformMatrices,l=a.transformPoint;a.object.extend(C.Object.prototype,{oCoords:null,aCoords:null,lineCoords:null,ownMatrixCache:null,matrixCache:null,controls:{},_getCoords:function(e,r){return r?e?this.calcACoords():this.calcLineCoords():((!this.aCoords||!this.lineCoords)&&this.setCoords(!0),e?this.aCoords:this.lineCoords)},getCoords:function(e,r){return L(this._getCoords(e,r))},intersectsWithRect:function(e,r,i,u){var o=this.getCoords(i,u),d=C.Intersection.intersectPolygonRectangle(o,e,r);return d.status==="Intersection"},intersectsWithObject:function(e,r,i){var u=C.Intersection.intersectPolygonPolygon(this.getCoords(r,i),e.getCoords(r,i));return u.status==="Intersection"||e.isContainedWithinObject(this,r,i)||this.isContainedWithinObject(e,r,i)},isContainedWithinObject:function(e,r,i){for(var u=this.getCoords(r,i),o=r?e.aCoords:e.lineCoords,d=0,b=e._getImageLines(o);d<4;d++)if(!e.containsPoint(u[d],b))return!1;return!0},isContainedWithinRect:function(e,r,i,u){var o=this.getBoundingRect(i,u);return o.left>=e.x&&o.left+o.width<=r.x&&o.top>=e.y&&o.top+o.height<=r.y},containsPoint:function(e,r,i,u){var o=this._getCoords(i,u),r=r||this._getImageLines(o),d=this._findCrossPoints(e,r);return d!==0&&d%2==1},isOnScreen:function(e){if(!this.canvas)return!1;var r=this.canvas.vptCoords.tl,i=this.canvas.vptCoords.br,u=this.getCoords(!0,e);return u.some(function(o){return o.x<=i.x&&o.x>=r.x&&o.y<=i.y&&o.y>=r.y})||this.intersectsWithRect(r,i,!0,e)?!0:this._containsCenterOfCanvas(r,i,e)},_containsCenterOfCanvas:function(e,r,i){var u={x:(e.x+r.x)/2,y:(e.y+r.y)/2};return!!this.containsPoint(u,null,!0,i)},isPartiallyOnScreen:function(e){if(!this.canvas)return!1;var r=this.canvas.vptCoords.tl,i=this.canvas.vptCoords.br;if(this.intersectsWithRect(r,i,!0,e))return!0;var u=this.getCoords(!0,e).every(function(o){return(o.x>=i.x||o.x<=r.x)&&(o.y>=i.y||o.y<=r.y)});return u&&this._containsCenterOfCanvas(r,i,e)},_getImageLines:function(e){var r={topline:{o:e.tl,d:e.tr},rightline:{o:e.tr,d:e.br},bottomline:{o:e.br,d:e.bl},leftline:{o:e.bl,d:e.tl}};return r},_findCrossPoints:function(e,r){var i,u,o,d,b,T=0,O;for(var Y in r)if(O=r[Y],!(O.o.y<e.y&&O.d.y<e.y)&&!(O.o.y>=e.y&&O.d.y>=e.y)&&(O.o.x===O.d.x&&O.o.x>=e.x?b=O.o.x:(i=0,u=(O.d.y-O.o.y)/(O.d.x-O.o.x),o=e.y-i*e.x,d=O.o.y-u*O.o.x,b=-(o-d)/(i-u)),b>=e.x&&(T+=1),T===2))break;return T},getBoundingRect:function(e,r){var i=this.getCoords(e,r);return a.makeBoundingBoxFromPoints(i)},getScaledWidth:function(){return this._getTransformedDimensions().x},getScaledHeight:function(){return this._getTransformedDimensions().y},_constrainScale:function(e){return Math.abs(e)<this.minScaleLimit?e<0?-this.minScaleLimit:this.minScaleLimit:e===0?1e-4:e},scale:function(e){return this._set("scaleX",e),this._set("scaleY",e),this.setCoords()},scaleToWidth:function(e,r){var i=this.getBoundingRect(r).width/this.getScaledWidth();return this.scale(e/this.width/i)},scaleToHeight:function(e,r){var i=this.getBoundingRect(r).height/this.getScaledHeight();return this.scale(e/this.height/i)},calcCoords:function(e){return e?this.calcACoords():this.calcOCoords()},calcLineCoords:function(){var e=this.getViewportTransform(),r=this.padding,i=f(this.angle),u=a.cos(i),o=a.sin(i),d=u*r,b=o*r,T=d+b,O=d-b,Y=this.calcACoords(),et={tl:l(Y.tl,e),tr:l(Y.tr,e),bl:l(Y.bl,e),br:l(Y.br,e)};return r&&(et.tl.x-=O,et.tl.y-=T,et.tr.x+=T,et.tr.y-=O,et.bl.x-=T,et.bl.y+=O,et.br.x+=O,et.br.y+=T),et},calcOCoords:function(){var e=this._calcRotateMatrix(),r=this._calcTranslateMatrix(),i=this.getViewportTransform(),u=h(i,r),o=h(u,e),o=h(o,[1/i[0],0,0,1/i[3],0,0]),d=this._calculateCurrentDimensions(),b={};return this.forEachControl(function(T,O,Y){b[O]=T.positionHandler(d,o,Y)}),b},calcACoords:function(){var e=this._calcRotateMatrix(),r=this._calcTranslateMatrix(),i=h(r,e),u=this._getTransformedDimensions(),o=u.x/2,d=u.y/2;return{tl:l({x:-o,y:-d},i),tr:l({x:o,y:-d},i),bl:l({x:-o,y:d},i),br:l({x:o,y:d},i)}},setCoords:function(e){return this.aCoords=this.calcACoords(),this.lineCoords=this.group?this.aCoords:this.calcLineCoords(),e?this:(this.oCoords=this.calcOCoords(),this._setCornerCoords&&this._setCornerCoords(),this)},_calcRotateMatrix:function(){return a.calcRotateMatrix(this)},_calcTranslateMatrix:function(){var e=this.getCenterPoint();return[1,0,0,1,e.x,e.y]},transformMatrixKey:function(e){var r="_",i="";return!e&&this.group&&(i=this.group.transformMatrixKey(e)+r),i+this.top+r+this.left+r+this.scaleX+r+this.scaleY+r+this.skewX+r+this.skewY+r+this.angle+r+this.originX+r+this.originY+r+this.width+r+this.height+r+this.strokeWidth+this.flipX+this.flipY},calcTransformMatrix:function(e){var r=this.calcOwnMatrix();if(e||!this.group)return r;var i=this.transformMatrixKey(e),u=this.matrixCache||(this.matrixCache={});return u.key===i?u.value:(this.group&&(r=h(this.group.calcTransformMatrix(!1),r)),u.key=i,u.value=r,r)},calcOwnMatrix:function(){var e=this.transformMatrixKey(!0),r=this.ownMatrixCache||(this.ownMatrixCache={});if(r.key===e)return r.value;var i=this._calcTranslateMatrix(),u={angle:this.angle,translateX:i[4],translateY:i[5],scaleX:this.scaleX,scaleY:this.scaleY,skewX:this.skewX,skewY:this.skewY,flipX:this.flipX,flipY:this.flipY};return r.key=e,r.value=a.composeMatrix(u),r.value},_calcDimensionsTransformMatrix:function(e,r,i){return a.calcDimensionsMatrix({skewX:e,skewY:r,scaleX:this.scaleX*(i&&this.flipX?-1:1),scaleY:this.scaleY*(i&&this.flipY?-1:1)})},_getNonTransformedDimensions:function(){var e=this.strokeWidth,r=this.width+e,i=this.height+e;return{x:r,y:i}},_getTransformedDimensions:function(e,r){typeof e=="undefined"&&(e=this.skewX),typeof r=="undefined"&&(r=this.skewY);var i,u,o,d=e===0&&r===0;if(this.strokeUniform?(u=this.width,o=this.height):(i=this._getNonTransformedDimensions(),u=i.x,o=i.y),d)return this._finalizeDimensions(u*this.scaleX,o*this.scaleY);var b=a.sizeAfterTransform(u,o,{scaleX:this.scaleX,scaleY:this.scaleY,skewX:e,skewY:r});return this._finalizeDimensions(b.x,b.y)},_finalizeDimensions:function(e,r){return this.strokeUniform?{x:e+this.strokeWidth,y:r+this.strokeWidth}:{x:e,y:r}},_calculateCurrentDimensions:function(){var e=this.getViewportTransform(),r=this._getTransformedDimensions(),i=l(r,e,!0);return i.scalarAdd(2*this.padding)}})}(),C.util.object.extend(C.Object.prototype,{sendToBack:function(){return this.group?C.StaticCanvas.prototype.sendToBack.call(this.group,this):this.canvas&&this.canvas.sendToBack(this),this},bringToFront:function(){return this.group?C.StaticCanvas.prototype.bringToFront.call(this.group,this):this.canvas&&this.canvas.bringToFront(this),this},sendBackwards:function(a){return this.group?C.StaticCanvas.prototype.sendBackwards.call(this.group,this,a):this.canvas&&this.canvas.sendBackwards(this,a),this},bringForward:function(a){return this.group?C.StaticCanvas.prototype.bringForward.call(this.group,this,a):this.canvas&&this.canvas.bringForward(this,a),this},moveTo:function(a){return this.group&&this.group.type!=="activeSelection"?C.StaticCanvas.prototype.moveTo.call(this.group,this,a):this.canvas&&this.canvas.moveTo(this,a),this}}),function(){function L(f,h){if(h){if(h.toLive)return f+": url(#SVGID_"+h.id+"); ";var l=new C.Color(h),n=f+": "+l.toRgb()+"; ",e=l.getAlpha();return e!==1&&(n+=f+"-opacity: "+e.toString()+"; "),n}else return f+": none; "}var a=C.util.toFixed;C.util.object.extend(C.Object.prototype,{getSvgStyles:function(h){var l=this.fillRule?this.fillRule:"nonzero",n=this.strokeWidth?this.strokeWidth:"0",e=this.strokeDashArray?this.strokeDashArray.join(" "):"none",r=this.strokeDashOffset?this.strokeDashOffset:"0",i=this.strokeLineCap?this.strokeLineCap:"butt",u=this.strokeLineJoin?this.strokeLineJoin:"miter",o=this.strokeMiterLimit?this.strokeMiterLimit:"4",d=typeof this.opacity!="undefined"?this.opacity:"1",b=this.visible?"":" visibility: hidden;",T=h?"":this.getSvgFilter(),O=L("fill",this.fill),Y=L("stroke",this.stroke);return[Y,"stroke-width: ",n,"; ","stroke-dasharray: ",e,"; ","stroke-linecap: ",i,"; ","stroke-dashoffset: ",r,"; ","stroke-linejoin: ",u,"; ","stroke-miterlimit: ",o,"; ",O,"fill-rule: ",l,"; ","opacity: ",d,";",T,b].join("")},getSvgSpanStyles:function(h,l){var n="; ",e=h.fontFamily?"font-family: "+(h.fontFamily.indexOf("'")===-1&&h.fontFamily.indexOf('"')===-1?"'"+h.fontFamily+"'":h.fontFamily)+n:"",r=h.strokeWidth?"stroke-width: "+h.strokeWidth+n:"",e=e,i=h.fontSize?"font-size: "+h.fontSize+"px"+n:"",u=h.fontStyle?"font-style: "+h.fontStyle+n:"",o=h.fontWeight?"font-weight: "+h.fontWeight+n:"",d=h.fill?L("fill",h.fill):"",b=h.stroke?L("stroke",h.stroke):"",T=this.getSvgTextDecoration(h),O=h.deltaY?"baseline-shift: "+-h.deltaY+"; ":"";return T&&(T="text-decoration: "+T+n),[b,r,e,i,u,o,T,d,O,l?"white-space: pre; ":""].join("")},getSvgTextDecoration:function(h){return["overline","underline","line-through"].filter(function(l){return h[l.replace("-","")]}).join(" ")},getSvgFilter:function(){return this.shadow?"filter: url(#SVGID_"+this.shadow.id+");":""},getSvgCommons:function(){return[this.id?'id="'+this.id+'" ':"",this.clipPath?'clip-path="url(#'+this.clipPath.clipPathId+')" ':""].join("")},getSvgTransform:function(h,l){var n=h?this.calcTransformMatrix():this.calcOwnMatrix(),e='transform="'+C.util.matrixToSVG(n);return e+(l||"")+'" '},_setSVGBg:function(h){if(this.backgroundColor){var l=C.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(this.backgroundColor),' x="',a(-this.width/2,l),'" y="',a(-this.height/2,l),'" width="',a(this.width,l),'" height="',a(this.height,l),`"></rect>
`)}},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(h),{reviver:h})},toClipPathSVG:function(h){return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(h),{reviver:h})},_createBaseClipPathSVGMarkup:function(h,l){l=l||{};var n=l.reviver,e=l.additionalTransform||"",r=[this.getSvgTransform(!0,e),this.getSvgCommons()].join(""),i=h.indexOf("COMMON_PARTS");return h[i]=r,n?n(h.join("")):h.join("")},_createBaseSVGMarkup:function(h,l){l=l||{};var n=l.noStyle,e=l.reviver,r=n?"":'style="'+this.getSvgStyles()+'" ',i=l.withShadow?'style="'+this.getSvgFilter()+'" ':"",u=this.clipPath,o=this.strokeUniform?'vector-effect="non-scaling-stroke" ':"",d=u&&u.absolutePositioned,b=this.stroke,T=this.fill,O=this.shadow,Y,et=[],yt,Zt=h.indexOf("COMMON_PARTS"),fe=l.additionalTransform;return u&&(u.clipPathId="CLIPPATH_"+C.Object.__uid++,yt='<clipPath id="'+u.clipPathId+`" >
`+u.toClipPathSVG(e)+`</clipPath>
`),d&&et.push("<g ",i,this.getSvgCommons(),` >
`),et.push("<g ",this.getSvgTransform(!1),d?"":i+this.getSvgCommons(),` >
`),Y=[r,o,n?"":this.addPaintOrder()," ",fe?'transform="'+fe+'" ':""].join(""),h[Zt]=Y,T&&T.toLive&&et.push(T.toSVG(this)),b&&b.toLive&&et.push(b.toSVG(this)),O&&et.push(O.toSVG(this)),u&&et.push(yt),et.push(h.join("")),et.push(`</g>
`),d&&et.push(`</g>
`),e?e(et.join("")):et.join("")},addPaintOrder:function(){return this.paintFirst!=="fill"?' paint-order="'+this.paintFirst+'" ':""}})}(),function(){var L=C.util.object.extend,a="stateProperties";function f(l,n,e){var r={},i=!0;e.forEach(function(u){r[u]=l[u]}),L(l[n],r,i)}function h(l,n,e){if(l===n)return!0;if(Array.isArray(l)){if(!Array.isArray(n)||l.length!==n.length)return!1;for(var r=0,i=l.length;r<i;r++)if(!h(l[r],n[r]))return!1;return!0}else if(l&&typeof l=="object"){var u=Object.keys(l),o;if(!n||typeof n!="object"||!e&&u.length!==Object.keys(n).length)return!1;for(var r=0,i=u.length;r<i;r++)if(o=u[r],!(o==="canvas"||o==="group")&&!h(l[o],n[o]))return!1;return!0}}C.util.object.extend(C.Object.prototype,{hasStateChanged:function(n){n=n||a;var e="_"+n;return Object.keys(this[e]).length<this[n].length?!0:!h(this[e],this,!0)},saveState:function(n){var e=n&&n.propertySet||a,r="_"+e;return this[r]?(f(this,r,this[e]),n&&n.stateProperties&&f(this,r,n.stateProperties),this):this.setupState(n)},setupState:function(n){n=n||{};var e=n.propertySet||a;return n.propertySet=e,this["_"+e]={},this.saveState(n),this}})}(),function(){var L=C.util.degreesToRadians;C.util.object.extend(C.Object.prototype,{_findTargetCorner:function(f,h){if(!this.hasControls||this.group||!this.canvas||this.canvas._activeObject!==this)return!1;var l=f.x,n=f.y,e,r,i=Object.keys(this.oCoords),u=i.length-1,o;for(this.__corner=0;u>=0;u--)if(o=i[u],!!this.isControlVisible(o)&&(r=this._getImageLines(h?this.oCoords[o].touchCorner:this.oCoords[o].corner),e=this._findCrossPoints({x:l,y:n},r),e!==0&&e%2==1))return this.__corner=o,o;return!1},forEachControl:function(f){for(var h in this.controls)f(this.controls[h],h,this)},_setCornerCoords:function(){var f=this.oCoords;for(var h in f){var l=this.controls[h];f[h].corner=l.calcCornerCoords(this.angle,this.cornerSize,f[h].x,f[h].y,!1),f[h].touchCorner=l.calcCornerCoords(this.angle,this.touchCornerSize,f[h].x,f[h].y,!0)}},drawSelectionBackground:function(f){if(!this.selectionBackgroundColor||this.canvas&&!this.canvas.interactive||this.canvas&&this.canvas._activeObject!==this)return this;f.save();var h=this.getCenterPoint(),l=this._calculateCurrentDimensions(),n=this.canvas.viewportTransform;return f.translate(h.x,h.y),f.scale(1/n[0],1/n[3]),f.rotate(L(this.angle)),f.fillStyle=this.selectionBackgroundColor,f.fillRect(-l.x/2,-l.y/2,l.x,l.y),f.restore(),this},drawBorders:function(f,h){h=h||{};var l=this._calculateCurrentDimensions(),n=this.borderScaleFactor,e=l.x+n,r=l.y+n,i=typeof h.hasControls!="undefined"?h.hasControls:this.hasControls,u=!1;return f.save(),f.strokeStyle=h.borderColor||this.borderColor,this._setLineDash(f,h.borderDashArray||this.borderDashArray),f.strokeRect(-e/2,-r/2,e,r),i&&(f.beginPath(),this.forEachControl(function(o,d,b){o.withConnection&&o.getVisibility(b,d)&&(u=!0,f.moveTo(o.x*e,o.y*r),f.lineTo(o.x*e+o.offsetX,o.y*r+o.offsetY))}),u&&f.stroke()),f.restore(),this},drawBordersInGroup:function(f,h,l){l=l||{};var n=C.util.sizeAfterTransform(this.width,this.height,h),e=this.strokeWidth,r=this.strokeUniform,i=this.borderScaleFactor,u=n.x+e*(r?this.canvas.getZoom():h.scaleX)+i,o=n.y+e*(r?this.canvas.getZoom():h.scaleY)+i;return f.save(),this._setLineDash(f,l.borderDashArray||this.borderDashArray),f.strokeStyle=l.borderColor||this.borderColor,f.strokeRect(-u/2,-o/2,u,o),f.restore(),this},drawControls:function(f,h){h=h||{},f.save();var l=this.canvas.getRetinaScaling(),n,e;return f.setTransform(l,0,0,l,0,0),f.strokeStyle=f.fillStyle=h.cornerColor||this.cornerColor,this.transparentCorners||(f.strokeStyle=h.cornerStrokeColor||this.cornerStrokeColor),this._setLineDash(f,h.cornerDashArray||this.cornerDashArray),this.setCoords(),this.group&&(n=this.group.calcTransformMatrix()),this.forEachControl(function(r,i,u){e=u.oCoords[i],r.getVisibility(u,i)&&(n&&(e=C.util.transformPoint(e,n)),r.render(f,e.x,e.y,h,u))}),f.restore(),this},isControlVisible:function(f){return this.controls[f]&&this.controls[f].getVisibility(this,f)},setControlVisible:function(f,h){return this._controlsVisibility||(this._controlsVisibility={}),this._controlsVisibility[f]=h,this},setControlsVisibility:function(f){f||(f={});for(var h in f)this.setControlVisible(h,f[h]);return this},onDeselect:function(){},onSelect:function(){}})}(),C.util.object.extend(C.StaticCanvas.prototype,{FX_DURATION:500,fxCenterObjectH:function(a,f){f=f||{};var h=function(){},l=f.onComplete||h,n=f.onChange||h,e=this;return C.util.animate({startValue:a.left,endValue:this.getCenter().left,duration:this.FX_DURATION,onChange:function(i){a.set("left",i),e.requestRenderAll(),n()},onComplete:function(){a.setCoords(),l()}}),this},fxCenterObjectV:function(a,f){f=f||{};var h=function(){},l=f.onComplete||h,n=f.onChange||h,e=this;return C.util.animate({startValue:a.top,endValue:this.getCenter().top,duration:this.FX_DURATION,onChange:function(i){a.set("top",i),e.requestRenderAll(),n()},onComplete:function(){a.setCoords(),l()}}),this},fxRemove:function(a,f){f=f||{};var h=function(){},l=f.onComplete||h,n=f.onChange||h,e=this;return C.util.animate({startValue:a.opacity,endValue:0,duration:this.FX_DURATION,onChange:function(i){a.set("opacity",i),e.requestRenderAll(),n()},onComplete:function(){e.remove(a),l()}}),this}}),C.util.object.extend(C.Object.prototype,{animate:function(){if(arguments[0]&&typeof arguments[0]=="object"){var a=[],f,h;for(f in arguments[0])a.push(f);for(var l=0,n=a.length;l<n;l++)f=a[l],h=l!==n-1,this._animate(f,arguments[0][f],arguments[1],h)}else this._animate.apply(this,arguments);return this},_animate:function(a,f,h,l){var n=this,e;f=f.toString(),h?h=C.util.object.clone(h):h={},~a.indexOf(".")&&(e=a.split("."));var r=n.colorProperties.indexOf(a)>-1||e&&n.colorProperties.indexOf(e[1])>-1,i=e?this.get(e[0])[e[1]]:this.get(a);"from"in h||(h.from=i),r||(~f.indexOf("=")?f=i+parseFloat(f.replace("=","")):f=parseFloat(f));var u={startValue:h.from,endValue:f,byValue:h.by,easing:h.easing,duration:h.duration,abort:h.abort&&function(o,d,b){return h.abort.call(n,o,d,b)},onChange:function(d,b,T){e?n[e[0]][e[1]]=d:n.set(a,d),!l&&h.onChange&&h.onChange(d,b,T)},onComplete:function(d,b,T){l||(n.setCoords(),h.onComplete&&h.onComplete(d,b,T))}};return r?C.util.animateColor(u.startValue,u.endValue,u.duration,u):C.util.animate(u)}}),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.object.extend,h=a.util.object.clone,l={x1:1,x2:1,y1:1,y2:1};if(a.Line){a.warn("fabric.Line is already defined");return}a.Line=a.util.createClass(a.Object,{type:"line",x1:0,y1:0,x2:0,y2:0,cacheProperties:a.Object.prototype.cacheProperties.concat("x1","x2","y1","y2"),initialize:function(r,i){r||(r=[0,0,0,0]),this.callSuper("initialize",i),this.set("x1",r[0]),this.set("y1",r[1]),this.set("x2",r[2]),this.set("y2",r[3]),this._setWidthHeight(i)},_setWidthHeight:function(r){r||(r={}),this.width=Math.abs(this.x2-this.x1),this.height=Math.abs(this.y2-this.y1),this.left="left"in r?r.left:this._getLeftToOriginX(),this.top="top"in r?r.top:this._getTopToOriginY()},_set:function(r,i){return this.callSuper("_set",r,i),typeof l[r]!="undefined"&&this._setWidthHeight(),this},_getLeftToOriginX:n({origin:"originX",axis1:"x1",axis2:"x2",dimension:"width"},{nearest:"left",center:"center",farthest:"right"}),_getTopToOriginY:n({origin:"originY",axis1:"y1",axis2:"y2",dimension:"height"},{nearest:"top",center:"center",farthest:"bottom"}),_render:function(r){r.beginPath();var i=this.calcLinePoints();r.moveTo(i.x1,i.y1),r.lineTo(i.x2,i.y2),r.lineWidth=this.strokeWidth;var u=r.strokeStyle;r.strokeStyle=this.stroke||r.fillStyle,this.stroke&&this._renderStroke(r),r.strokeStyle=u},_findCenterFromElement:function(){return{x:(this.x1+this.x2)/2,y:(this.y1+this.y2)/2}},toObject:function(r){return f(this.callSuper("toObject",r),this.calcLinePoints())},_getNonTransformedDimensions:function(){var r=this.callSuper("_getNonTransformedDimensions");return this.strokeLineCap==="butt"&&(this.width===0&&(r.y-=this.strokeWidth),this.height===0&&(r.x-=this.strokeWidth)),r},calcLinePoints:function(){var r=this.x1<=this.x2?-1:1,i=this.y1<=this.y2?-1:1,u=r*this.width*.5,o=i*this.height*.5,d=r*this.width*-.5,b=i*this.height*-.5;return{x1:u,x2:d,y1:o,y2:b}},_toSVG:function(){var r=this.calcLinePoints();return["<line ","COMMON_PARTS",'x1="',r.x1,'" y1="',r.y1,'" x2="',r.x2,'" y2="',r.y2,`" />
`]}}),a.Line.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x1 y1 x2 y2".split(" ")),a.Line.fromElement=function(e,r,i){i=i||{};var u=a.parseAttributes(e,a.Line.ATTRIBUTE_NAMES),o=[u.x1||0,u.y1||0,u.x2||0,u.y2||0];r(new a.Line(o,f(u,i)))},a.Line.fromObject=function(e,r){function i(o){delete o.points,r&&r(o)}var u=h(e,!0);u.points=[e.x1,e.y1,e.x2,e.y2],a.Object._fromObject("Line",u,i,"points")};function n(e,r){var i=e.origin,u=e.axis1,o=e.axis2,d=e.dimension,b=r.nearest,T=r.center,O=r.farthest;return function(){switch(this.get(i)){case b:return Math.min(this.get(u),this.get(o));case T:return Math.min(this.get(u),this.get(o))+.5*this.get(d);case O:return Math.max(this.get(u),this.get(o))}}}}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=Math.PI;if(a.Circle){a.warn("fabric.Circle is already defined.");return}a.Circle=a.util.createClass(a.Object,{type:"circle",radius:0,startAngle:0,endAngle:f*2,cacheProperties:a.Object.prototype.cacheProperties.concat("radius","startAngle","endAngle"),_set:function(n,e){return this.callSuper("_set",n,e),n==="radius"&&this.setRadius(e),this},toObject:function(n){return this.callSuper("toObject",["radius","startAngle","endAngle"].concat(n))},_toSVG:function(){var n,e=0,r=0,i=(this.endAngle-this.startAngle)%(2*f);if(i===0)n=["<circle ","COMMON_PARTS",'cx="'+e+'" cy="'+r+'" ','r="',this.radius,`" />
`];else{var u=a.util.cos(this.startAngle)*this.radius,o=a.util.sin(this.startAngle)*this.radius,d=a.util.cos(this.endAngle)*this.radius,b=a.util.sin(this.endAngle)*this.radius,T=i>f?"1":"0";n=['<path d="M '+u+" "+o," A "+this.radius+" "+this.radius," 0 ",+T+" 1"," "+d+" "+b,'" ',"COMMON_PARTS",` />
`]}return n},_render:function(n){n.beginPath(),n.arc(0,0,this.radius,this.startAngle,this.endAngle,!1),this._renderPaintInOrder(n)},getRadiusX:function(){return this.get("radius")*this.get("scaleX")},getRadiusY:function(){return this.get("radius")*this.get("scaleY")},setRadius:function(n){return this.radius=n,this.set("width",n*2).set("height",n*2)}}),a.Circle.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("cx cy r".split(" ")),a.Circle.fromElement=function(l,n){var e=a.parseAttributes(l,a.Circle.ATTRIBUTE_NAMES);if(!h(e))throw new Error("value of `r` attribute is required and can not be negative");e.left=(e.left||0)-e.radius,e.top=(e.top||0)-e.radius,n(new a.Circle(e))};function h(l){return"radius"in l&&l.radius>=0}a.Circle.fromObject=function(l,n){a.Object._fromObject("Circle",l,n)}}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={});if(a.Triangle){a.warn("fabric.Triangle is already defined");return}a.Triangle=a.util.createClass(a.Object,{type:"triangle",width:100,height:100,_render:function(h){var l=this.width/2,n=this.height/2;h.beginPath(),h.moveTo(-l,n),h.lineTo(0,-n),h.lineTo(l,n),h.closePath(),this._renderPaintInOrder(h)},_toSVG:function(){var h=this.width/2,l=this.height/2,n=[-h+" "+l,"0 "+-l,h+" "+l].join(",");return["<polygon ","COMMON_PARTS",'points="',n,'" />']}}),a.Triangle.fromObject=function(f,h){return a.Object._fromObject("Triangle",f,h)}}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=Math.PI*2;if(a.Ellipse){a.warn("fabric.Ellipse is already defined.");return}a.Ellipse=a.util.createClass(a.Object,{type:"ellipse",rx:0,ry:0,cacheProperties:a.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(l){this.callSuper("initialize",l),this.set("rx",l&&l.rx||0),this.set("ry",l&&l.ry||0)},_set:function(l,n){switch(this.callSuper("_set",l,n),l){case"rx":this.rx=n,this.set("width",n*2);break;case"ry":this.ry=n,this.set("height",n*2);break}return this},getRx:function(){return this.get("rx")*this.get("scaleX")},getRy:function(){return this.get("ry")*this.get("scaleY")},toObject:function(l){return this.callSuper("toObject",["rx","ry"].concat(l))},_toSVG:function(){return["<ellipse ","COMMON_PARTS",'cx="0" cy="0" ','rx="',this.rx,'" ry="',this.ry,`" />
`]},_render:function(l){l.beginPath(),l.save(),l.transform(1,0,0,this.ry/this.rx,0,0),l.arc(0,0,this.rx,0,f,!1),l.restore(),this._renderPaintInOrder(l)}}),a.Ellipse.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("cx cy rx ry".split(" ")),a.Ellipse.fromElement=function(h,l){var n=a.parseAttributes(h,a.Ellipse.ATTRIBUTE_NAMES);n.left=(n.left||0)-n.rx,n.top=(n.top||0)-n.ry,l(new a.Ellipse(n))},a.Ellipse.fromObject=function(h,l){a.Object._fromObject("Ellipse",h,l)}}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.object.extend;if(a.Rect){a.warn("fabric.Rect is already defined");return}a.Rect=a.util.createClass(a.Object,{stateProperties:a.Object.prototype.stateProperties.concat("rx","ry"),type:"rect",rx:0,ry:0,cacheProperties:a.Object.prototype.cacheProperties.concat("rx","ry"),initialize:function(l){this.callSuper("initialize",l),this._initRxRy()},_initRxRy:function(){this.rx&&!this.ry?this.ry=this.rx:this.ry&&!this.rx&&(this.rx=this.ry)},_render:function(l){var n=this.rx?Math.min(this.rx,this.width/2):0,e=this.ry?Math.min(this.ry,this.height/2):0,r=this.width,i=this.height,u=-this.width/2,o=-this.height/2,d=n!==0||e!==0,b=1-.5522847498;l.beginPath(),l.moveTo(u+n,o),l.lineTo(u+r-n,o),d&&l.bezierCurveTo(u+r-b*n,o,u+r,o+b*e,u+r,o+e),l.lineTo(u+r,o+i-e),d&&l.bezierCurveTo(u+r,o+i-b*e,u+r-b*n,o+i,u+r-n,o+i),l.lineTo(u+n,o+i),d&&l.bezierCurveTo(u+b*n,o+i,u,o+i-b*e,u,o+i-e),l.lineTo(u,o+e),d&&l.bezierCurveTo(u,o+b*e,u+b*n,o,u+n,o),l.closePath(),this._renderPaintInOrder(l)},toObject:function(l){return this.callSuper("toObject",["rx","ry"].concat(l))},_toSVG:function(){var l=-this.width/2,n=-this.height/2;return["<rect ","COMMON_PARTS",'x="',l,'" y="',n,'" rx="',this.rx,'" ry="',this.ry,'" width="',this.width,'" height="',this.height,`" />
`]}}),a.Rect.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x y rx ry width height".split(" ")),a.Rect.fromElement=function(h,l,n){if(!h)return l(null);n=n||{};var e=a.parseAttributes(h,a.Rect.ATTRIBUTE_NAMES);e.left=e.left||0,e.top=e.top||0,e.height=e.height||0,e.width=e.width||0;var r=new a.Rect(f(n?a.util.object.clone(n):{},e));r.visible=r.visible&&r.width>0&&r.height>0,l(r)},a.Rect.fromObject=function(h,l){return a.Object._fromObject("Rect",h,l)}}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.object.extend,h=a.util.array.min,l=a.util.array.max,n=a.util.toFixed;if(a.Polyline){a.warn("fabric.Polyline is already defined");return}a.Polyline=a.util.createClass(a.Object,{type:"polyline",points:null,cacheProperties:a.Object.prototype.cacheProperties.concat("points"),initialize:function(r,i){i=i||{},this.points=r||[],this.callSuper("initialize",i),this._setPositionDimensions(i)},_setPositionDimensions:function(r){var i=this._calcDimensions(r),u;this.width=i.width,this.height=i.height,r.fromSVG||(u=this.translateToGivenOrigin({x:i.left-this.strokeWidth/2,y:i.top-this.strokeWidth/2},"left","top",this.originX,this.originY)),typeof r.left=="undefined"&&(this.left=r.fromSVG?i.left:u.x),typeof r.top=="undefined"&&(this.top=r.fromSVG?i.top:u.y),this.pathOffset={x:i.left+this.width/2,y:i.top+this.height/2}},_calcDimensions:function(){var r=this.points,i=h(r,"x")||0,u=h(r,"y")||0,o=l(r,"x")||0,d=l(r,"y")||0,b=o-i,T=d-u;return{left:i,top:u,width:b,height:T}},toObject:function(r){return f(this.callSuper("toObject",r),{points:this.points.concat()})},_toSVG:function(){for(var r=[],i=this.pathOffset.x,u=this.pathOffset.y,o=a.Object.NUM_FRACTION_DIGITS,d=0,b=this.points.length;d<b;d++)r.push(n(this.points[d].x-i,o),",",n(this.points[d].y-u,o)," ");return["<"+this.type+" ","COMMON_PARTS",'points="',r.join(""),`" />
`]},commonRender:function(r){var i,u=this.points.length,o=this.pathOffset.x,d=this.pathOffset.y;if(!u||isNaN(this.points[u-1].y))return!1;r.beginPath(),r.moveTo(this.points[0].x-o,this.points[0].y-d);for(var b=0;b<u;b++)i=this.points[b],r.lineTo(i.x-o,i.y-d);return!0},_render:function(r){!this.commonRender(r)||this._renderPaintInOrder(r)},complexity:function(){return this.get("points").length}}),a.Polyline.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(),a.Polyline.fromElementGenerator=function(e){return function(r,i,u){if(!r)return i(null);u||(u={});var o=a.parsePointsAttribute(r.getAttribute("points")),d=a.parseAttributes(r,a[e].ATTRIBUTE_NAMES);d.fromSVG=!0,i(new a[e](o,f(d,u)))}},a.Polyline.fromElement=a.Polyline.fromElementGenerator("Polyline"),a.Polyline.fromObject=function(e,r){return a.Object._fromObject("Polyline",e,r,"points")}}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={});if(a.Polygon){a.warn("fabric.Polygon is already defined");return}a.Polygon=a.util.createClass(a.Polyline,{type:"polygon",_render:function(h){!this.commonRender(h)||(h.closePath(),this._renderPaintInOrder(h))}}),a.Polygon.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(),a.Polygon.fromElement=a.Polyline.fromElementGenerator("Polygon"),a.Polygon.fromObject=function(f,h){a.Object._fromObject("Polygon",f,h,"points")}}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.array.min,h=a.util.array.max,l=a.util.object.extend,n=Object.prototype.toString,e=a.util.toFixed;if(a.Path){a.warn("fabric.Path is already defined");return}a.Path=a.util.createClass(a.Object,{type:"path",path:null,cacheProperties:a.Object.prototype.cacheProperties.concat("path","fillRule"),stateProperties:a.Object.prototype.stateProperties.concat("path"),initialize:function(i,u){u=u||{},this.callSuper("initialize",u),i||(i=[]);var o=n.call(i)==="[object Array]";this.path=a.util.makePathSimpler(o?i:a.util.parsePath(i)),!!this.path&&a.Polyline.prototype._setPositionDimensions.call(this,u)},_renderPathCommands:function(i){var u,o=0,d=0,b=0,T=0,O=0,Y=0,et=-this.pathOffset.x,yt=-this.pathOffset.y;i.beginPath();for(var Zt=0,fe=this.path.length;Zt<fe;++Zt)switch(u=this.path[Zt],u[0]){case"L":b=u[1],T=u[2],i.lineTo(b+et,T+yt);break;case"M":b=u[1],T=u[2],o=b,d=T,i.moveTo(b+et,T+yt);break;case"C":b=u[5],T=u[6],O=u[3],Y=u[4],i.bezierCurveTo(u[1]+et,u[2]+yt,O+et,Y+yt,b+et,T+yt);break;case"Q":i.quadraticCurveTo(u[1]+et,u[2]+yt,u[3]+et,u[4]+yt),b=u[3],T=u[4],O=u[1],Y=u[2];break;case"z":case"Z":b=o,T=d,i.closePath();break}},_render:function(i){this._renderPathCommands(i),this._renderPaintInOrder(i)},toString:function(){return"#<fabric.Path ("+this.complexity()+'): { "top": '+this.top+', "left": '+this.left+" }>"},toObject:function(i){return l(this.callSuper("toObject",i),{path:this.path.map(function(u){return u.slice()})})},toDatalessObject:function(i){var u=this.toObject(["sourcePath"].concat(i));return u.sourcePath&&delete u.path,u},_toSVG:function(){var i=a.util.joinPath(this.path);return["<path ","COMMON_PARTS",'d="',i,'" stroke-linecap="round" ',`/>
`]},_getOffsetTransform:function(){var i=a.Object.NUM_FRACTION_DIGITS;return" translate("+e(-this.pathOffset.x,i)+", "+e(-this.pathOffset.y,i)+")"},toClipPathSVG:function(i){var u=this._getOffsetTransform();return"	"+this._createBaseClipPathSVGMarkup(this._toSVG(),{reviver:i,additionalTransform:u})},toSVG:function(i){var u=this._getOffsetTransform();return this._createBaseSVGMarkup(this._toSVG(),{reviver:i,additionalTransform:u})},complexity:function(){return this.path.length},_calcDimensions:function(){for(var i=[],u=[],o,d=0,b=0,T=0,O=0,Y,et=0,yt=this.path.length;et<yt;++et){switch(o=this.path[et],o[0]){case"L":T=o[1],O=o[2],Y=[];break;case"M":T=o[1],O=o[2],d=T,b=O,Y=[];break;case"C":Y=a.util.getBoundsOfCurve(T,O,o[1],o[2],o[3],o[4],o[5],o[6]),T=o[5],O=o[6];break;case"Q":Y=a.util.getBoundsOfCurve(T,O,o[1],o[2],o[1],o[2],o[3],o[4]),T=o[3],O=o[4];break;case"z":case"Z":T=d,O=b;break}Y.forEach(function(Ie){i.push(Ie.x),u.push(Ie.y)}),i.push(T),u.push(O)}var Zt=f(i)||0,fe=f(u)||0,Ue=h(i)||0,sr=h(u)||0,cr=Ue-Zt,Ke=sr-fe;return{left:Zt,top:fe,width:cr,height:Ke}}}),a.Path.fromObject=function(r,i){if(typeof r.sourcePath=="string"){var u=r.sourcePath;a.loadSVGFromURL(u,function(o){var d=o[0];d.setOptions(r),i&&i(d)})}else a.Object._fromObject("Path",r,i,"path")},a.Path.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat(["d"]),a.Path.fromElement=function(r,i,u){var o=a.parseAttributes(r,a.Path.ATTRIBUTE_NAMES);o.fromSVG=!0,i(new a.Path(o.d,l(o,u)))}}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.array.min,h=a.util.array.max;a.Group||(a.Group=a.util.createClass(a.Object,a.Collection,{type:"group",strokeWidth:0,subTargetCheck:!1,cacheProperties:[],useSetOnGroup:!1,initialize:function(n,e,r){e=e||{},this._objects=[],r&&this.callSuper("initialize",e),this._objects=n||[];for(var i=this._objects.length;i--;)this._objects[i].group=this;if(r)this._updateObjectsACoords();else{var u=e&&e.centerPoint;e.originX!==void 0&&(this.originX=e.originX),e.originY!==void 0&&(this.originY=e.originY),u||this._calcBounds(),this._updateObjectsCoords(u),delete e.centerPoint,this.callSuper("initialize",e)}this.setCoords()},_updateObjectsACoords:function(){for(var n=!0,e=this._objects.length;e--;)this._objects[e].setCoords(n)},_updateObjectsCoords:function(n){for(var n=n||this.getCenterPoint(),e=this._objects.length;e--;)this._updateObjectCoords(this._objects[e],n)},_updateObjectCoords:function(n,e){var r=n.left,i=n.top,u=!0;n.set({left:r-e.x,top:i-e.y}),n.group=this,n.setCoords(u)},toString:function(){return"#<fabric.Group: ("+this.complexity()+")>"},addWithUpdate:function(n){var e=!!this.group;return this._restoreObjectsState(),a.util.resetObjectTransform(this),n&&(e&&a.util.removeTransformFromObject(n,this.group.calcTransformMatrix()),this._objects.push(n),n.group=this,n._set("canvas",this.canvas)),this._calcBounds(),this._updateObjectsCoords(),this.dirty=!0,e?this.group.addWithUpdate():this.setCoords(),this},removeWithUpdate:function(n){return this._restoreObjectsState(),a.util.resetObjectTransform(this),this.remove(n),this._calcBounds(),this._updateObjectsCoords(),this.setCoords(),this.dirty=!0,this},_onObjectAdded:function(n){this.dirty=!0,n.group=this,n._set("canvas",this.canvas)},_onObjectRemoved:function(n){this.dirty=!0,delete n.group},_set:function(n,e){var r=this._objects.length;if(this.useSetOnGroup)for(;r--;)this._objects[r].setOnGroup(n,e);if(n==="canvas")for(;r--;)this._objects[r]._set(n,e);a.Object.prototype._set.call(this,n,e)},toObject:function(n){var e=this.includeDefaultValues,r=this._objects.filter(function(u){return!u.excludeFromExport}).map(function(u){var o=u.includeDefaultValues;u.includeDefaultValues=e;var d=u.toObject(n);return u.includeDefaultValues=o,d}),i=a.Object.prototype.toObject.call(this,n);return i.objects=r,i},toDatalessObject:function(n){var e,r=this.sourcePath;if(r)e=r;else{var i=this.includeDefaultValues;e=this._objects.map(function(o){var d=o.includeDefaultValues;o.includeDefaultValues=i;var b=o.toDatalessObject(n);return o.includeDefaultValues=d,b})}var u=a.Object.prototype.toDatalessObject.call(this,n);return u.objects=e,u},render:function(n){this._transformDone=!0,this.callSuper("render",n),this._transformDone=!1},shouldCache:function(){var n=a.Object.prototype.shouldCache.call(this);if(n){for(var e=0,r=this._objects.length;e<r;e++)if(this._objects[e].willDrawShadow())return this.ownCaching=!1,!1}return n},willDrawShadow:function(){if(a.Object.prototype.willDrawShadow.call(this))return!0;for(var n=0,e=this._objects.length;n<e;n++)if(this._objects[n].willDrawShadow())return!0;return!1},isOnACache:function(){return this.ownCaching||this.group&&this.group.isOnACache()},drawObject:function(n){for(var e=0,r=this._objects.length;e<r;e++)this._objects[e].render(n);this._drawClipPath(n)},isCacheDirty:function(n){if(this.callSuper("isCacheDirty",n))return!0;if(!this.statefullCache)return!1;for(var e=0,r=this._objects.length;e<r;e++)if(this._objects[e].isCacheDirty(!0)){if(this._cacheCanvas){var i=this.cacheWidth/this.zoomX,u=this.cacheHeight/this.zoomY;this._cacheContext.clearRect(-i/2,-u/2,i,u)}return!0}return!1},_restoreObjectsState:function(){var n=this.calcOwnMatrix();return this._objects.forEach(function(e){a.util.addTransformToObject(e,n),delete e.group,e.setCoords()}),this},realizeTransform:function(n,e){return a.util.addTransformToObject(n,e),n},destroy:function(){return this._objects.forEach(function(n){n.set("dirty",!0)}),this._restoreObjectsState()},toActiveSelection:function(){if(!!this.canvas){var n=this._objects,e=this.canvas;this._objects=[];var r=this.toObject();delete r.objects;var i=new a.ActiveSelection([]);return i.set(r),i.type="activeSelection",e.remove(this),n.forEach(function(u){u.group=i,u.dirty=!0,e.add(u)}),i.canvas=e,i._objects=n,e._activeObject=i,i.setCoords(),i}},ungroupOnCanvas:function(){return this._restoreObjectsState()},setObjectsCoords:function(){var n=!0;return this.forEachObject(function(e){e.setCoords(n)}),this},_calcBounds:function(n){for(var e=[],r=[],i,u,o,d=["tr","br","bl","tl"],b=0,T=this._objects.length,O,Y=d.length;b<T;++b){for(i=this._objects[b],o=i.calcACoords(),O=0;O<Y;O++)u=d[O],e.push(o[u].x),r.push(o[u].y);i.aCoords=o}this._getBounds(e,r,n)},_getBounds:function(n,e,r){var i=new a.Point(f(n),f(e)),u=new a.Point(h(n),h(e)),o=i.y||0,d=i.x||0,b=u.x-i.x||0,T=u.y-i.y||0;this.width=b,this.height=T,r||this.setPositionByOrigin({x:d,y:o},"left","top")},_toSVG:function(n){for(var e=["<g ","COMMON_PARTS",` >
`],r=0,i=this._objects.length;r<i;r++)e.push("		",this._objects[r].toSVG(n));return e.push(`</g>
`),e},getSvgStyles:function(){var n=typeof this.opacity!="undefined"&&this.opacity!==1?"opacity: "+this.opacity+";":"",e=this.visible?"":" visibility: hidden;";return[n,this.getSvgFilter(),e].join("")},toClipPathSVG:function(n){for(var e=[],r=0,i=this._objects.length;r<i;r++)e.push("	",this._objects[r].toClipPathSVG(n));return this._createBaseClipPathSVGMarkup(e,{reviver:n})}}),a.Group.fromObject=function(l,n){var e=l.objects,r=a.util.object.clone(l,!0);if(delete r.objects,typeof e=="string"){a.loadSVGFromURL(e,function(i){var u=a.util.groupSVGElements(i,l,e);u.set(r),n&&n(u)});return}a.util.enlivenObjects(e,function(i){a.util.enlivenObjects([l.clipPath],function(u){var o=a.util.object.clone(l,!0);o.clipPath=u[0],delete o.objects,n&&n(new a.Group(i,o,!0))})})})}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={});a.ActiveSelection||(a.ActiveSelection=a.util.createClass(a.Group,{type:"activeSelection",initialize:function(h,l){l=l||{},this._objects=h||[];for(var n=this._objects.length;n--;)this._objects[n].group=this;l.originX&&(this.originX=l.originX),l.originY&&(this.originY=l.originY),this._calcBounds(),this._updateObjectsCoords(),a.Object.prototype.initialize.call(this,l),this.setCoords()},toGroup:function(){var h=this._objects.concat();this._objects=[];var l=a.Object.prototype.toObject.call(this),n=new a.Group([]);if(delete l.type,n.set(l),h.forEach(function(r){r.canvas.remove(r),r.group=n}),n._objects=h,!this.canvas)return n;var e=this.canvas;return e.add(n),e._activeObject=n,n.setCoords(),n},onDeselect:function(){return this.destroy(),!1},toString:function(){return"#<fabric.ActiveSelection: ("+this.complexity()+")>"},shouldCache:function(){return!1},isOnACache:function(){return!1},_renderControls:function(h,l,n){h.save(),h.globalAlpha=this.isMoving?this.borderOpacityWhenMoving:1,this.callSuper("_renderControls",h,l),n=n||{},typeof n.hasControls=="undefined"&&(n.hasControls=!1),n.forActiveSelection=!0;for(var e=0,r=this._objects.length;e<r;e++)this._objects[e]._renderControls(h,n);h.restore()}}),a.ActiveSelection.fromObject=function(f,h){a.util.enlivenObjects(f.objects,function(l){delete f.objects,h&&h(new a.ActiveSelection(l,f,!0))})})}(hr),function(L){"use strict";var a=C.util.object.extend;if(L.fabric||(L.fabric={}),L.fabric.Image){C.warn("fabric.Image is already defined.");return}C.Image=C.util.createClass(C.Object,{type:"image",strokeWidth:0,srcFromAttribute:!1,_lastScaleX:1,_lastScaleY:1,_filterScalingX:1,_filterScalingY:1,minimumScaleTrigger:.5,stateProperties:C.Object.prototype.stateProperties.concat("cropX","cropY"),cacheProperties:C.Object.prototype.cacheProperties.concat("cropX","cropY"),cacheKey:"",cropX:0,cropY:0,imageSmoothing:!0,initialize:function(h,l){l||(l={}),this.filters=[],this.cacheKey="texture"+C.Object.__uid++,this.callSuper("initialize",l),this._initElement(h,l)},getElement:function(){return this._element||{}},setElement:function(h,l){return this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._element=h,this._originalElement=h,this._initConfig(l),this.filters.length!==0&&this.applyFilters(),this.resizeFilter&&this.applyResizeFilters(),this},removeTexture:function(h){var l=C.filterBackend;l&&l.evictCachesForKey&&l.evictCachesForKey(h)},dispose:function(){this.removeTexture(this.cacheKey),this.removeTexture(this.cacheKey+"_filtered"),this._cacheContext=void 0,["_originalElement","_element","_filteredEl","_cacheCanvas"].forEach(function(h){C.util.cleanUpJsdomNode(this[h]),this[h]=void 0}.bind(this))},getCrossOrigin:function(){return this._originalElement&&(this._originalElement.crossOrigin||null)},getOriginalSize:function(){var h=this.getElement();return{width:h.naturalWidth||h.width,height:h.naturalHeight||h.height}},_stroke:function(h){if(!(!this.stroke||this.strokeWidth===0)){var l=this.width/2,n=this.height/2;h.beginPath(),h.moveTo(-l,-n),h.lineTo(l,-n),h.lineTo(l,n),h.lineTo(-l,n),h.lineTo(-l,-n),h.closePath()}},toObject:function(h){var l=[];this.filters.forEach(function(e){e&&l.push(e.toObject())});var n=a(this.callSuper("toObject",["cropX","cropY"].concat(h)),{src:this.getSrc(),crossOrigin:this.getCrossOrigin(),filters:l});return this.resizeFilter&&(n.resizeFilter=this.resizeFilter.toObject()),n},hasCrop:function(){return this.cropX||this.cropY||this.width<this._element.width||this.height<this._element.height},_toSVG:function(){var h=[],l=[],n,e=this._element,r=-this.width/2,i=-this.height/2,u="",o="";if(!e)return[];if(this.hasCrop()){var d=C.Object.__uid++;h.push('<clipPath id="imageCrop_'+d+`">
`,'	<rect x="'+r+'" y="'+i+'" width="'+this.width+'" height="'+this.height+`" />
`,`</clipPath>
`),u=' clip-path="url(#imageCrop_'+d+')" '}if(this.imageSmoothing||(o='" image-rendering="optimizeSpeed'),l.push("	<image ","COMMON_PARTS",'xlink:href="',this.getSvgSrc(!0),'" x="',r-this.cropX,'" y="',i-this.cropY,'" width="',e.width||e.naturalWidth,'" height="',e.height||e.height,o,'"',u,`></image>
`),this.stroke||this.strokeDashArray){var b=this.fill;this.fill=null,n=["	<rect ",'x="',r,'" y="',i,'" width="',this.width,'" height="',this.height,'" style="',this.getSvgStyles(),`"/>
`],this.fill=b}return this.paintFirst!=="fill"?h=h.concat(n,l):h=h.concat(l,n),h},getSrc:function(h){var l=h?this._element:this._originalElement;return l?l.toDataURL?l.toDataURL():this.srcFromAttribute?l.getAttribute("src"):l.src:this.src||""},setSrc:function(h,l,n){return C.util.loadImage(h,function(e,r){this.setElement(e,n),this._setWidthHeight(),l&&l(this,r)},this,n&&n.crossOrigin),this},toString:function(){return'#<fabric.Image: { src: "'+this.getSrc()+'" }>'},applyResizeFilters:function(){var h=this.resizeFilter,l=this.minimumScaleTrigger,n=this.getTotalObjectScaling(),e=n.scaleX,r=n.scaleY,i=this._filteredEl||this._originalElement;if(this.group&&this.set("dirty",!0),!h||e>l&&r>l){this._element=i,this._filterScalingX=1,this._filterScalingY=1,this._lastScaleX=e,this._lastScaleY=r;return}C.filterBackend||(C.filterBackend=C.initFilterBackend());var u=C.util.createCanvasElement(),o=this._filteredEl?this.cacheKey+"_filtered":this.cacheKey,d=i.width,b=i.height;u.width=d,u.height=b,this._element=u,this._lastScaleX=h.scaleX=e,this._lastScaleY=h.scaleY=r,C.filterBackend.applyFilters([h],i,d,b,this._element,o),this._filterScalingX=u.width/this._originalElement.width,this._filterScalingY=u.height/this._originalElement.height},applyFilters:function(h){if(h=h||this.filters||[],h=h.filter(function(i){return i&&!i.isNeutralState()}),this.set("dirty",!0),this.removeTexture(this.cacheKey+"_filtered"),h.length===0)return this._element=this._originalElement,this._filteredEl=null,this._filterScalingX=1,this._filterScalingY=1,this;var l=this._originalElement,n=l.naturalWidth||l.width,e=l.naturalHeight||l.height;if(this._element===this._originalElement){var r=C.util.createCanvasElement();r.width=n,r.height=e,this._element=r,this._filteredEl=r}else this._element=this._filteredEl,this._filteredEl.getContext("2d").clearRect(0,0,n,e),this._lastScaleX=1,this._lastScaleY=1;return C.filterBackend||(C.filterBackend=C.initFilterBackend()),C.filterBackend.applyFilters(h,this._originalElement,n,e,this._element,this.cacheKey),(this._originalElement.width!==this._element.width||this._originalElement.height!==this._element.height)&&(this._filterScalingX=this._element.width/this._originalElement.width,this._filterScalingY=this._element.height/this._originalElement.height),this},_render:function(h){C.util.setImageSmoothing(h,this.imageSmoothing),this.isMoving!==!0&&this.resizeFilter&&this._needsResize()&&this.applyResizeFilters(),this._stroke(h),this._renderPaintInOrder(h)},drawCacheOnCanvas:function(h){C.util.setImageSmoothing(h,this.imageSmoothing),C.Object.prototype.drawCacheOnCanvas.call(this,h)},shouldCache:function(){return this.needsItsOwnCache()},_renderFill:function(h){var l=this._element;if(!!l){var n=this._filterScalingX,e=this._filterScalingY,r=this.width,i=this.height,u=Math.min,o=Math.max,d=o(this.cropX,0),b=o(this.cropY,0),T=l.naturalWidth||l.width,O=l.naturalHeight||l.height,Y=d*n,et=b*e,yt=u(r*n,T-Y),Zt=u(i*e,O-et),fe=-r/2,Ue=-i/2,sr=u(r,T/n-d),cr=u(i,O/e-b);l&&h.drawImage(l,Y,et,yt,Zt,fe,Ue,sr,cr)}},_needsResize:function(){var h=this.getTotalObjectScaling();return h.scaleX!==this._lastScaleX||h.scaleY!==this._lastScaleY},_resetWidthHeight:function(){this.set(this.getOriginalSize())},_initElement:function(h,l){this.setElement(C.util.getById(h),l),C.util.addClass(this.getElement(),C.Image.CSS_CANVAS)},_initConfig:function(h){h||(h={}),this.setOptions(h),this._setWidthHeight(h)},_initFilters:function(h,l){h&&h.length?C.util.enlivenObjects(h,function(n){l&&l(n)},"fabric.Image.filters"):l&&l()},_setWidthHeight:function(h){h||(h={});var l=this.getElement();this.width=h.width||l.naturalWidth||l.width||0,this.height=h.height||l.naturalHeight||l.height||0},parsePreserveAspectRatioAttribute:function(){var h=C.util.parsePreserveAspectRatioAttribute(this.preserveAspectRatio||""),l=this._element.width,n=this._element.height,e=1,r=1,i=0,u=0,o=0,d=0,b,T=this.width,O=this.height,Y={width:T,height:O};return h&&(h.alignX!=="none"||h.alignY!=="none")?(h.meetOrSlice==="meet"&&(e=r=C.util.findScaleToFit(this._element,Y),b=(T-l*e)/2,h.alignX==="Min"&&(i=-b),h.alignX==="Max"&&(i=b),b=(O-n*r)/2,h.alignY==="Min"&&(u=-b),h.alignY==="Max"&&(u=b)),h.meetOrSlice==="slice"&&(e=r=C.util.findScaleToCover(this._element,Y),b=l-T/e,h.alignX==="Mid"&&(o=b/2),h.alignX==="Max"&&(o=b),b=n-O/r,h.alignY==="Mid"&&(d=b/2),h.alignY==="Max"&&(d=b),l=T/e,n=O/r)):(e=T/l,r=O/n),{width:l,height:n,scaleX:e,scaleY:r,offsetLeft:i,offsetTop:u,cropX:o,cropY:d}}}),C.Image.CSS_CANVAS="canvas-img",C.Image.prototype.getSvgSrc=C.Image.prototype.getSrc,C.Image.fromObject=function(f,h){var l=C.util.object.clone(f);C.util.loadImage(l.src,function(n,e){if(e){h&&h(null,!0);return}C.Image.prototype._initFilters.call(l,l.filters,function(r){l.filters=r||[],C.Image.prototype._initFilters.call(l,[l.resizeFilter],function(i){l.resizeFilter=i[0],C.util.enlivenObjects([l.clipPath],function(u){l.clipPath=u[0];var o=new C.Image(n,l);h(o,!1)})})})},null,l.crossOrigin)},C.Image.fromURL=function(f,h,l){C.util.loadImage(f,function(n,e){h&&h(new C.Image(n,l),e)},null,l&&l.crossOrigin)},C.Image.ATTRIBUTE_NAMES=C.SHARED_ATTRIBUTES.concat("x y width height preserveAspectRatio xlink:href crossOrigin image-rendering".split(" ")),C.Image.fromElement=function(f,h,l){var n=C.parseAttributes(f,C.Image.ATTRIBUTE_NAMES);C.Image.fromURL(n["xlink:href"],h,a(l?C.util.object.clone(l):{},n))}}(hr),C.util.object.extend(C.Object.prototype,{_getAngleValueForStraighten:function(){var a=this.angle%360;return a>0?Math.round((a-1)/90)*90:Math.round(a/90)*90},straighten:function(){return this.rotate(this._getAngleValueForStraighten()),this},fxStraighten:function(a){a=a||{};var f=function(){},h=a.onComplete||f,l=a.onChange||f,n=this;return C.util.animate({startValue:this.get("angle"),endValue:this._getAngleValueForStraighten(),duration:this.FX_DURATION,onChange:function(r){n.rotate(r),l()},onComplete:function(){n.setCoords(),h()}}),this}}),C.util.object.extend(C.StaticCanvas.prototype,{straightenObject:function(a){return a.straighten(),this.requestRenderAll(),this},fxStraightenObject:function(a){return a.fxStraighten({onChange:this.requestRenderAllBound}),this}}),function(){"use strict";function L(f,h){var l="precision "+h+` float;
void main(){}`,n=f.createShader(f.FRAGMENT_SHADER);return f.shaderSource(n,l),f.compileShader(n),!!f.getShaderParameter(n,f.COMPILE_STATUS)}C.isWebglSupported=function(f){if(C.isLikelyNode)return!1;f=f||C.WebglFilterBackend.prototype.tileSize;var h=document.createElement("canvas"),l=h.getContext("webgl")||h.getContext("experimental-webgl"),n=!1;if(l){C.maxTextureSize=l.getParameter(l.MAX_TEXTURE_SIZE),n=C.maxTextureSize>=f;for(var e=["highp","mediump","lowp"],r=0;r<3;r++)if(L(l,e[r])){C.webGlPrecision=e[r];break}}return this.isSupported=n,n},C.WebglFilterBackend=a;function a(f){f&&f.tileSize&&(this.tileSize=f.tileSize),this.setupGLContext(this.tileSize,this.tileSize),this.captureGPUInfo()}a.prototype={tileSize:2048,resources:{},setupGLContext:function(h,l){this.dispose(),this.createWebGLCanvas(h,l),this.aPosition=new Float32Array([0,0,0,1,1,0,1,1]),this.chooseFastestCopyGLTo2DMethod(h,l)},chooseFastestCopyGLTo2DMethod:function(h,l){var n=typeof window.performance!="undefined",e;try{new ImageData(1,1),e=!0}catch(Y){e=!1}var r=typeof ArrayBuffer!="undefined",i=typeof Uint8ClampedArray!="undefined";if(!!(n&&e&&r&&i)){var u=C.util.createCanvasElement(),o=new ArrayBuffer(h*l*4);if(C.forceGLPutImageData){this.imageBuffer=o,this.copyGLTo2D=_t;return}var d={imageBuffer:o,destinationWidth:h,destinationHeight:l,targetCanvas:u},b,T,O;u.width=h,u.height=l,b=window.performance.now(),Ce.call(d,this.gl,d),T=window.performance.now()-b,b=window.performance.now(),_t.call(d,this.gl,d),O=window.performance.now()-b,T>O?(this.imageBuffer=o,this.copyGLTo2D=_t):this.copyGLTo2D=Ce}},createWebGLCanvas:function(h,l){var n=C.util.createCanvasElement();n.width=h,n.height=l;var e={alpha:!0,premultipliedAlpha:!1,depth:!1,stencil:!1,antialias:!1},r=n.getContext("webgl",e);r||(r=n.getContext("experimental-webgl",e)),!!r&&(r.clearColor(0,0,0,0),this.canvas=n,this.gl=r)},applyFilters:function(h,l,n,e,r,i){var u=this.gl,o;i&&(o=this.getCachedTexture(i,l));var d={originalWidth:l.width||l.originalWidth,originalHeight:l.height||l.originalHeight,sourceWidth:n,sourceHeight:e,destinationWidth:n,destinationHeight:e,context:u,sourceTexture:this.createTexture(u,n,e,!o&&l),targetTexture:this.createTexture(u,n,e),originalTexture:o||this.createTexture(u,n,e,!o&&l),passes:h.length,webgl:!0,aPosition:this.aPosition,programCache:this.programCache,pass:0,filterBackend:this,targetCanvas:r},b=u.createFramebuffer();return u.bindFramebuffer(u.FRAMEBUFFER,b),h.forEach(function(T){T&&T.applyTo(d)}),ve(d),this.copyGLTo2D(u,d),u.bindTexture(u.TEXTURE_2D,null),u.deleteTexture(d.sourceTexture),u.deleteTexture(d.targetTexture),u.deleteFramebuffer(b),r.getContext("2d").setTransform(1,0,0,1,0,0),d},dispose:function(){this.canvas&&(this.canvas=null,this.gl=null),this.clearWebGLCaches()},clearWebGLCaches:function(){this.programCache={},this.textureCache={}},createTexture:function(h,l,n,e){var r=h.createTexture();return h.bindTexture(h.TEXTURE_2D,r),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MAG_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_MIN_FILTER,h.NEAREST),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_S,h.CLAMP_TO_EDGE),h.texParameteri(h.TEXTURE_2D,h.TEXTURE_WRAP_T,h.CLAMP_TO_EDGE),e?h.texImage2D(h.TEXTURE_2D,0,h.RGBA,h.RGBA,h.UNSIGNED_BYTE,e):h.texImage2D(h.TEXTURE_2D,0,h.RGBA,l,n,0,h.RGBA,h.UNSIGNED_BYTE,null),r},getCachedTexture:function(h,l){if(this.textureCache[h])return this.textureCache[h];var n=this.createTexture(this.gl,l.width,l.height,l);return this.textureCache[h]=n,n},evictCachesForKey:function(h){this.textureCache[h]&&(this.gl.deleteTexture(this.textureCache[h]),delete this.textureCache[h])},copyGLTo2D:Ce,captureGPUInfo:function(){if(this.gpuInfo)return this.gpuInfo;var h=this.gl,l={renderer:"",vendor:""};if(!h)return l;var n=h.getExtension("WEBGL_debug_renderer_info");if(n){var e=h.getParameter(n.UNMASKED_RENDERER_WEBGL),r=h.getParameter(n.UNMASKED_VENDOR_WEBGL);e&&(l.renderer=e.toLowerCase()),r&&(l.vendor=r.toLowerCase())}return this.gpuInfo=l,l}}}();function ve(L){var a=L.targetCanvas,f=a.width,h=a.height,l=L.destinationWidth,n=L.destinationHeight;(f!==l||h!==n)&&(a.width=l,a.height=n)}function Ce(L,a){var f=L.canvas,h=a.targetCanvas,l=h.getContext("2d");l.translate(0,h.height),l.scale(1,-1);var n=f.height-h.height;l.drawImage(f,0,n,h.width,h.height,0,0,h.width,h.height)}function _t(L,a){var f=a.targetCanvas,h=f.getContext("2d"),l=a.destinationWidth,n=a.destinationHeight,e=l*n*4,r=new Uint8Array(this.imageBuffer,0,e),i=new Uint8ClampedArray(this.imageBuffer,0,e);L.readPixels(0,0,l,n,L.RGBA,L.UNSIGNED_BYTE,r);var u=new ImageData(i,l,n);h.putImageData(u,0,0)}(function(){"use strict";var L=function(){};C.Canvas2dFilterBackend=a;function a(){}a.prototype={evictCachesForKey:L,dispose:L,clearWebGLCaches:L,resources:{},applyFilters:function(h,l,n,e,r){var i=r.getContext("2d");i.drawImage(l,0,0,n,e);var u=i.getImageData(0,0,n,e),o=i.getImageData(0,0,n,e),d={sourceWidth:n,sourceHeight:e,imageData:u,originalEl:l,originalImageData:o,canvasEl:r,ctx:i,filterBackend:this};return h.forEach(function(b){b.applyTo(d)}),(d.imageData.width!==n||d.imageData.height!==e)&&(r.width=d.imageData.width,r.height=d.imageData.height),i.putImageData(d.imageData,0,0),d}}})(),C.Image=C.Image||{},C.Image.filters=C.Image.filters||{},C.Image.filters.BaseFilter=C.util.createClass({type:"BaseFilter",vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
void main() {
vTexCoord = aPosition;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:`precision highp float;
varying vec2 vTexCoord;
uniform sampler2D uTexture;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
}`,initialize:function(a){a&&this.setOptions(a)},setOptions:function(a){for(var f in a)this[f]=a[f]},createProgram:function(a,f,h){f=f||this.fragmentSource,h=h||this.vertexSource,C.webGlPrecision!=="highp"&&(f=f.replace(/precision highp float/g,"precision "+C.webGlPrecision+" float"));var l=a.createShader(a.VERTEX_SHADER);if(a.shaderSource(l,h),a.compileShader(l),!a.getShaderParameter(l,a.COMPILE_STATUS))throw new Error("Vertex shader compile error for "+this.type+": "+a.getShaderInfoLog(l));var n=a.createShader(a.FRAGMENT_SHADER);if(a.shaderSource(n,f),a.compileShader(n),!a.getShaderParameter(n,a.COMPILE_STATUS))throw new Error("Fragment shader compile error for "+this.type+": "+a.getShaderInfoLog(n));var e=a.createProgram();if(a.attachShader(e,l),a.attachShader(e,n),a.linkProgram(e),!a.getProgramParameter(e,a.LINK_STATUS))throw new Error('Shader link error for "${this.type}" '+a.getProgramInfoLog(e));var r=this.getAttributeLocations(a,e),i=this.getUniformLocations(a,e)||{};return i.uStepW=a.getUniformLocation(e,"uStepW"),i.uStepH=a.getUniformLocation(e,"uStepH"),{program:e,attributeLocations:r,uniformLocations:i}},getAttributeLocations:function(a,f){return{aPosition:a.getAttribLocation(f,"aPosition")}},getUniformLocations:function(){return{}},sendAttributeData:function(a,f,h){var l=f.aPosition,n=a.createBuffer();a.bindBuffer(a.ARRAY_BUFFER,n),a.enableVertexAttribArray(l),a.vertexAttribPointer(l,2,a.FLOAT,!1,0,0),a.bufferData(a.ARRAY_BUFFER,h,a.STATIC_DRAW)},_setupFrameBuffer:function(a){var f=a.context,h,l;a.passes>1?(h=a.destinationWidth,l=a.destinationHeight,(a.sourceWidth!==h||a.sourceHeight!==l)&&(f.deleteTexture(a.targetTexture),a.targetTexture=a.filterBackend.createTexture(f,h,l)),f.framebufferTexture2D(f.FRAMEBUFFER,f.COLOR_ATTACHMENT0,f.TEXTURE_2D,a.targetTexture,0)):(f.bindFramebuffer(f.FRAMEBUFFER,null),f.finish())},_swapTextures:function(a){a.passes--,a.pass++;var f=a.targetTexture;a.targetTexture=a.sourceTexture,a.sourceTexture=f},isNeutralState:function(){var a=this.mainParameter,f=C.Image.filters[this.type].prototype;if(a)if(Array.isArray(f[a])){for(var h=f[a].length;h--;)if(this[a][h]!==f[a][h])return!1;return!0}else return f[a]===this[a];else return!1},applyTo:function(a){a.webgl?(this._setupFrameBuffer(a),this.applyToWebGL(a),this._swapTextures(a)):this.applyTo2d(a)},retrieveShader:function(a){return a.programCache.hasOwnProperty(this.type)||(a.programCache[this.type]=this.createProgram(a.context)),a.programCache[this.type]},applyToWebGL:function(a){var f=a.context,h=this.retrieveShader(a);a.pass===0&&a.originalTexture?f.bindTexture(f.TEXTURE_2D,a.originalTexture):f.bindTexture(f.TEXTURE_2D,a.sourceTexture),f.useProgram(h.program),this.sendAttributeData(f,h.attributeLocations,a.aPosition),f.uniform1f(h.uniformLocations.uStepW,1/a.sourceWidth),f.uniform1f(h.uniformLocations.uStepH,1/a.sourceHeight),this.sendUniformData(f,h.uniformLocations),f.viewport(0,0,a.destinationWidth,a.destinationHeight),f.drawArrays(f.TRIANGLE_STRIP,0,4)},bindAdditionalTexture:function(a,f,h){a.activeTexture(h),a.bindTexture(a.TEXTURE_2D,f),a.activeTexture(a.TEXTURE0)},unbindAdditionalTexture:function(a,f){a.activeTexture(f),a.bindTexture(a.TEXTURE_2D,null),a.activeTexture(a.TEXTURE0)},getMainParameter:function(){return this[this.mainParameter]},setMainParameter:function(a){this[this.mainParameter]=a},sendUniformData:function(){},createHelpLayer:function(a){if(!a.helpLayer){var f=document.createElement("canvas");f.width=a.sourceWidth,f.height=a.sourceHeight,a.helpLayer=f}},toObject:function(){var a={type:this.type},f=this.mainParameter;return f&&(a[f]=this[f]),a},toJSON:function(){return this.toObject()}}),C.Image.filters.BaseFilter.fromObject=function(L,a){var f=new C.Image.filters[L.type](L);return a&&a(f),f},function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.ColorMatrix=h(f.BaseFilter,{type:"ColorMatrix",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
uniform mat4 uColorMatrix;
uniform vec4 uConstants;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color *= uColorMatrix;
color += uConstants;
gl_FragColor = color;
}`,matrix:[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],mainParameter:"matrix",colorsOnly:!0,initialize:function(n){this.callSuper("initialize",n),this.matrix=this.matrix.slice(0)},applyTo2d:function(n){var e=n.imageData,r=e.data,i=r.length,u=this.matrix,o,d,b,T,O,Y=this.colorsOnly;for(O=0;O<i;O+=4)o=r[O],d=r[O+1],b=r[O+2],Y?(r[O]=o*u[0]+d*u[1]+b*u[2]+u[4]*255,r[O+1]=o*u[5]+d*u[6]+b*u[7]+u[9]*255,r[O+2]=o*u[10]+d*u[11]+b*u[12]+u[14]*255):(T=r[O+3],r[O]=o*u[0]+d*u[1]+b*u[2]+T*u[3]+u[4]*255,r[O+1]=o*u[5]+d*u[6]+b*u[7]+T*u[8]+u[9]*255,r[O+2]=o*u[10]+d*u[11]+b*u[12]+T*u[13]+u[14]*255,r[O+3]=o*u[15]+d*u[16]+b*u[17]+T*u[18]+u[19]*255)},getUniformLocations:function(n,e){return{uColorMatrix:n.getUniformLocation(e,"uColorMatrix"),uConstants:n.getUniformLocation(e,"uConstants")}},sendUniformData:function(n,e){var r=this.matrix,i=[r[0],r[1],r[2],r[3],r[5],r[6],r[7],r[8],r[10],r[11],r[12],r[13],r[15],r[16],r[17],r[18]],u=[r[4],r[9],r[14],r[19]];n.uniformMatrix4fv(e.uColorMatrix,!1,i),n.uniform4fv(e.uConstants,u)}}),a.Image.filters.ColorMatrix.fromObject=a.Image.filters.BaseFilter.fromObject}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Brightness=h(f.BaseFilter,{type:"Brightness",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBrightness;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += uBrightness;
gl_FragColor = color;
}`,brightness:0,mainParameter:"brightness",applyTo2d:function(n){if(this.brightness!==0){var e=n.imageData,r=e.data,i,u=r.length,o=Math.round(this.brightness*255);for(i=0;i<u;i+=4)r[i]=r[i]+o,r[i+1]=r[i+1]+o,r[i+2]=r[i+2]+o}},getUniformLocations:function(n,e){return{uBrightness:n.getUniformLocation(e,"uBrightness")}},sendUniformData:function(n,e){n.uniform1f(e.uBrightness,this.brightness)}}),a.Image.filters.Brightness.fromObject=a.Image.filters.BaseFilter.fromObject}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.object.extend,h=a.Image.filters,l=a.util.createClass;h.Convolute=l(h.BaseFilter,{type:"Convolute",opaque:!1,matrix:[0,0,0,0,1,0,0,0,0],fragmentSource:{Convolute_3_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1), uStepH * (h - 1));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 3.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_3_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[9];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 3.0; h+=1.0) {
for (float w = 0.0; w < 3.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 1.0), uStepH * (h - 1.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 3.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_5_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 5.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_5_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[25];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 5.0; h+=1.0) {
for (float w = 0.0; w < 5.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 2.0), uStepH * (h - 2.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 5.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_7_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 7.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_7_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[49];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 7.0; h+=1.0) {
for (float w = 0.0; w < 7.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 3.0), uStepH * (h - 3.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 7.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`,Convolute_9_1:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 0);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color += texture2D(uTexture, vTexCoord + matrixPos) * uMatrix[int(h * 9.0 + w)];
}
}
gl_FragColor = color;
}`,Convolute_9_0:`precision highp float;
uniform sampler2D uTexture;
uniform float uMatrix[81];
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
vec4 color = vec4(0, 0, 0, 1);
for (float h = 0.0; h < 9.0; h+=1.0) {
for (float w = 0.0; w < 9.0; w+=1.0) {
vec2 matrixPos = vec2(uStepW * (w - 4.0), uStepH * (h - 4.0));
color.rgb += texture2D(uTexture, vTexCoord + matrixPos).rgb * uMatrix[int(h * 9.0 + w)];
}
}
float alpha = texture2D(uTexture, vTexCoord).a;
gl_FragColor = color;
gl_FragColor.a = alpha;
}`},retrieveShader:function(e){var r=Math.sqrt(this.matrix.length),i=this.type+"_"+r+"_"+(this.opaque?1:0),u=this.fragmentSource[i];return e.programCache.hasOwnProperty(i)||(e.programCache[i]=this.createProgram(e.context,u)),e.programCache[i]},applyTo2d:function(e){var r=e.imageData,i=r.data,u=this.matrix,o=Math.round(Math.sqrt(u.length)),d=Math.floor(o/2),b=r.width,T=r.height,O=e.ctx.createImageData(b,T),Y=O.data,et=this.opaque?1:0,yt,Zt,fe,Ue,sr,cr,Ke,Ie,gr,kr,Ar,lt,me;for(Ar=0;Ar<T;Ar++)for(kr=0;kr<b;kr++){for(sr=(Ar*b+kr)*4,yt=0,Zt=0,fe=0,Ue=0,me=0;me<o;me++)for(lt=0;lt<o;lt++)Ke=Ar+me-d,cr=kr+lt-d,!(Ke<0||Ke>=T||cr<0||cr>=b)&&(Ie=(Ke*b+cr)*4,gr=u[me*o+lt],yt+=i[Ie]*gr,Zt+=i[Ie+1]*gr,fe+=i[Ie+2]*gr,et||(Ue+=i[Ie+3]*gr));Y[sr]=yt,Y[sr+1]=Zt,Y[sr+2]=fe,et?Y[sr+3]=i[sr+3]:Y[sr+3]=Ue}e.imageData=O},getUniformLocations:function(e,r){return{uMatrix:e.getUniformLocation(r,"uMatrix"),uOpaque:e.getUniformLocation(r,"uOpaque"),uHalfSize:e.getUniformLocation(r,"uHalfSize"),uSize:e.getUniformLocation(r,"uSize")}},sendUniformData:function(e,r){e.uniform1fv(r.uMatrix,this.matrix)},toObject:function(){return f(this.callSuper("toObject"),{opaque:this.opaque,matrix:this.matrix})}}),a.Image.filters.Convolute.fromObject=a.Image.filters.BaseFilter.fromObject}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Grayscale=h(f.BaseFilter,{type:"Grayscale",fragmentSource:{average:`precision highp float;
uniform sampler2D uTexture;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float average = (color.r + color.b + color.g) / 3.0;
gl_FragColor = vec4(average, average, average, color.a);
}`,lightness:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = (max(max(col.r, col.g),col.b) + min(min(col.r, col.g),col.b)) / 2.0;
gl_FragColor = vec4(average, average, average, col.a);
}`,luminosity:`precision highp float;
uniform sampler2D uTexture;
uniform int uMode;
varying vec2 vTexCoord;
void main() {
vec4 col = texture2D(uTexture, vTexCoord);
float average = 0.21 * col.r + 0.72 * col.g + 0.07 * col.b;
gl_FragColor = vec4(average, average, average, col.a);
}`},mode:"average",mainParameter:"mode",applyTo2d:function(n){var e=n.imageData,r=e.data,i,u=r.length,o,d=this.mode;for(i=0;i<u;i+=4)d==="average"?o=(r[i]+r[i+1]+r[i+2])/3:d==="lightness"?o=(Math.min(r[i],r[i+1],r[i+2])+Math.max(r[i],r[i+1],r[i+2]))/2:d==="luminosity"&&(o=.21*r[i]+.72*r[i+1]+.07*r[i+2]),r[i]=o,r[i+1]=o,r[i+2]=o},retrieveShader:function(n){var e=this.type+"_"+this.mode;if(!n.programCache.hasOwnProperty(e)){var r=this.fragmentSource[this.mode];n.programCache[e]=this.createProgram(n.context,r)}return n.programCache[e]},getUniformLocations:function(n,e){return{uMode:n.getUniformLocation(e,"uMode")}},sendUniformData:function(n,e){var r=1;n.uniform1i(e.uMode,r)},isNeutralState:function(){return!1}}),a.Image.filters.Grayscale.fromObject=a.Image.filters.BaseFilter.fromObject}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Invert=h(f.BaseFilter,{type:"Invert",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform int uInvert;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
if (uInvert == 1) {
gl_FragColor = vec4(1.0 - color.r,1.0 -color.g,1.0 -color.b,color.a);
} else {
gl_FragColor = color;
}
}`,invert:!0,mainParameter:"invert",applyTo2d:function(n){var e=n.imageData,r=e.data,i,u=r.length;for(i=0;i<u;i+=4)r[i]=255-r[i],r[i+1]=255-r[i+1],r[i+2]=255-r[i+2]},isNeutralState:function(){return!this.invert},getUniformLocations:function(n,e){return{uInvert:n.getUniformLocation(e,"uInvert")}},sendUniformData:function(n,e){n.uniform1i(e.uInvert,this.invert)}}),a.Image.filters.Invert.fromObject=a.Image.filters.BaseFilter.fromObject}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.object.extend,h=a.Image.filters,l=a.util.createClass;h.Noise=l(h.BaseFilter,{type:"Noise",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uStepH;
uniform float uNoise;
uniform float uSeed;
varying vec2 vTexCoord;
float rand(vec2 co, float seed, float vScale) {
return fract(sin(dot(co.xy * vScale ,vec2(12.9898 , 78.233))) * 43758.5453 * (seed + 0.01) / 2.0);
}
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
color.rgb += (0.5 - rand(vTexCoord, uSeed, 0.1 / uStepH)) * uNoise;
gl_FragColor = color;
}`,mainParameter:"noise",noise:0,applyTo2d:function(e){if(this.noise!==0){var r=e.imageData,i=r.data,u,o=i.length,d=this.noise,b;for(u=0,o=i.length;u<o;u+=4)b=(.5-Math.random())*d,i[u]+=b,i[u+1]+=b,i[u+2]+=b}},getUniformLocations:function(e,r){return{uNoise:e.getUniformLocation(r,"uNoise"),uSeed:e.getUniformLocation(r,"uSeed")}},sendUniformData:function(e,r){e.uniform1f(r.uNoise,this.noise/255),e.uniform1f(r.uSeed,Math.random())},toObject:function(){return f(this.callSuper("toObject"),{noise:this.noise})}}),a.Image.filters.Noise.fromObject=a.Image.filters.BaseFilter.fromObject}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Pixelate=h(f.BaseFilter,{type:"Pixelate",blocksize:4,mainParameter:"blocksize",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uBlocksize;
uniform float uStepW;
uniform float uStepH;
varying vec2 vTexCoord;
void main() {
float blockW = uBlocksize * uStepW;
float blockH = uBlocksize * uStepW;
int posX = int(vTexCoord.x / blockW);
int posY = int(vTexCoord.y / blockH);
float fposX = float(posX);
float fposY = float(posY);
vec2 squareCoords = vec2(fposX * blockW, fposY * blockH);
vec4 color = texture2D(uTexture, squareCoords);
gl_FragColor = color;
}`,applyTo2d:function(n){var e=n.imageData,r=e.data,i=e.height,u=e.width,o,d,b,T,O,Y,et,yt,Zt,fe,Ue;for(d=0;d<i;d+=this.blocksize)for(b=0;b<u;b+=this.blocksize)for(o=d*4*u+b*4,T=r[o],O=r[o+1],Y=r[o+2],et=r[o+3],fe=Math.min(d+this.blocksize,i),Ue=Math.min(b+this.blocksize,u),yt=d;yt<fe;yt++)for(Zt=b;Zt<Ue;Zt++)o=yt*4*u+Zt*4,r[o]=T,r[o+1]=O,r[o+2]=Y,r[o+3]=et},isNeutralState:function(){return this.blocksize===1},getUniformLocations:function(n,e){return{uBlocksize:n.getUniformLocation(e,"uBlocksize"),uStepW:n.getUniformLocation(e,"uStepW"),uStepH:n.getUniformLocation(e,"uStepH")}},sendUniformData:function(n,e){n.uniform1f(e.uBlocksize,this.blocksize)}}),a.Image.filters.Pixelate.fromObject=a.Image.filters.BaseFilter.fromObject}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.object.extend,h=a.Image.filters,l=a.util.createClass;h.RemoveColor=l(h.BaseFilter,{type:"RemoveColor",color:"#FFFFFF",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uLow;
uniform vec4 uHigh;
varying vec2 vTexCoord;
void main() {
gl_FragColor = texture2D(uTexture, vTexCoord);
if(all(greaterThan(gl_FragColor.rgb,uLow.rgb)) && all(greaterThan(uHigh.rgb,gl_FragColor.rgb))) {
gl_FragColor.a = 0.0;
}
}`,distance:.02,useAlpha:!1,applyTo2d:function(e){var r=e.imageData,i=r.data,u,o=this.distance*255,d,b,T,O=new a.Color(this.color).getSource(),Y=[O[0]-o,O[1]-o,O[2]-o],et=[O[0]+o,O[1]+o,O[2]+o];for(u=0;u<i.length;u+=4)d=i[u],b=i[u+1],T=i[u+2],d>Y[0]&&b>Y[1]&&T>Y[2]&&d<et[0]&&b<et[1]&&T<et[2]&&(i[u+3]=0)},getUniformLocations:function(e,r){return{uLow:e.getUniformLocation(r,"uLow"),uHigh:e.getUniformLocation(r,"uHigh")}},sendUniformData:function(e,r){var i=new a.Color(this.color).getSource(),u=parseFloat(this.distance),o=[0+i[0]/255-u,0+i[1]/255-u,0+i[2]/255-u,1],d=[i[0]/255+u,i[1]/255+u,i[2]/255+u,1];e.uniform4fv(r.uLow,o),e.uniform4fv(r.uHigh,d)},toObject:function(){return f(this.callSuper("toObject"),{color:this.color,distance:this.distance})}}),a.Image.filters.RemoveColor.fromObject=a.Image.filters.BaseFilter.fromObject}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass,l={Brownie:[.5997,.34553,-.27082,0,.186,-.0377,.86095,.15059,0,-.1449,.24113,-.07441,.44972,0,-.02965,0,0,0,1,0],Vintage:[.62793,.32021,-.03965,0,.03784,.02578,.64411,.03259,0,.02926,.0466,-.08512,.52416,0,.02023,0,0,0,1,0],Kodachrome:[1.12855,-.39673,-.03992,0,.24991,-.16404,1.08352,-.05498,0,.09698,-.16786,-.56034,1.60148,0,.13972,0,0,0,1,0],Technicolor:[1.91252,-.85453,-.09155,0,.04624,-.30878,1.76589,-.10601,0,-.27589,-.2311,-.75018,1.84759,0,.12137,0,0,0,1,0],Polaroid:[1.438,-.062,-.062,0,0,-.122,1.378,-.122,0,0,-.016,-.016,1.483,0,0,0,0,0,1,0],Sepia:[.393,.769,.189,0,0,.349,.686,.168,0,0,.272,.534,.131,0,0,0,0,0,1,0],BlackWhite:[1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,1.5,1.5,1.5,0,-1,0,0,0,1,0]};for(var n in l)f[n]=h(f.ColorMatrix,{type:n,matrix:l[n],mainParameter:!1,colorsOnly:!0}),a.Image.filters[n].fromObject=a.Image.filters.BaseFilter.fromObject}(hr),function(L){"use strict";var a=L.fabric,f=a.Image.filters,h=a.util.createClass;f.BlendColor=h(f.BaseFilter,{type:"BlendColor",color:"#F95C63",mode:"multiply",alpha:1,fragmentSource:{multiply:`gl_FragColor.rgb *= uColor.rgb;
`,screen:`gl_FragColor.rgb = 1.0 - (1.0 - gl_FragColor.rgb) * (1.0 - uColor.rgb);
`,add:`gl_FragColor.rgb += uColor.rgb;
`,diff:`gl_FragColor.rgb = abs(gl_FragColor.rgb - uColor.rgb);
`,subtract:`gl_FragColor.rgb -= uColor.rgb;
`,lighten:`gl_FragColor.rgb = max(gl_FragColor.rgb, uColor.rgb);
`,darken:`gl_FragColor.rgb = min(gl_FragColor.rgb, uColor.rgb);
`,exclusion:`gl_FragColor.rgb += uColor.rgb - 2.0 * (uColor.rgb * gl_FragColor.rgb);
`,overlay:`if (uColor.r < 0.5) {
gl_FragColor.r *= 2.0 * uColor.r;
} else {
gl_FragColor.r = 1.0 - 2.0 * (1.0 - gl_FragColor.r) * (1.0 - uColor.r);
}
if (uColor.g < 0.5) {
gl_FragColor.g *= 2.0 * uColor.g;
} else {
gl_FragColor.g = 1.0 - 2.0 * (1.0 - gl_FragColor.g) * (1.0 - uColor.g);
}
if (uColor.b < 0.5) {
gl_FragColor.b *= 2.0 * uColor.b;
} else {
gl_FragColor.b = 1.0 - 2.0 * (1.0 - gl_FragColor.b) * (1.0 - uColor.b);
}
`,tint:`gl_FragColor.rgb *= (1.0 - uColor.a);
gl_FragColor.rgb += uColor.rgb;
`},buildSource:function(n){return`precision highp float;
uniform sampler2D uTexture;
uniform vec4 uColor;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
gl_FragColor = color;
if (color.a > 0.0) {
`+this.fragmentSource[n]+`}
}`},retrieveShader:function(n){var e=this.type+"_"+this.mode,r;return n.programCache.hasOwnProperty(e)||(r=this.buildSource(this.mode),n.programCache[e]=this.createProgram(n.context,r)),n.programCache[e]},applyTo2d:function(n){var e=n.imageData,r=e.data,i=r.length,u,o,d,b,T,O,Y,et=1-this.alpha;Y=new a.Color(this.color).getSource(),u=Y[0]*this.alpha,o=Y[1]*this.alpha,d=Y[2]*this.alpha;for(var yt=0;yt<i;yt+=4)switch(b=r[yt],T=r[yt+1],O=r[yt+2],this.mode){case"multiply":r[yt]=b*u/255,r[yt+1]=T*o/255,r[yt+2]=O*d/255;break;case"screen":r[yt]=255-(255-b)*(255-u)/255,r[yt+1]=255-(255-T)*(255-o)/255,r[yt+2]=255-(255-O)*(255-d)/255;break;case"add":r[yt]=b+u,r[yt+1]=T+o,r[yt+2]=O+d;break;case"diff":case"difference":r[yt]=Math.abs(b-u),r[yt+1]=Math.abs(T-o),r[yt+2]=Math.abs(O-d);break;case"subtract":r[yt]=b-u,r[yt+1]=T-o,r[yt+2]=O-d;break;case"darken":r[yt]=Math.min(b,u),r[yt+1]=Math.min(T,o),r[yt+2]=Math.min(O,d);break;case"lighten":r[yt]=Math.max(b,u),r[yt+1]=Math.max(T,o),r[yt+2]=Math.max(O,d);break;case"overlay":r[yt]=u<128?2*b*u/255:255-2*(255-b)*(255-u)/255,r[yt+1]=o<128?2*T*o/255:255-2*(255-T)*(255-o)/255,r[yt+2]=d<128?2*O*d/255:255-2*(255-O)*(255-d)/255;break;case"exclusion":r[yt]=u+b-2*u*b/255,r[yt+1]=o+T-2*o*T/255,r[yt+2]=d+O-2*d*O/255;break;case"tint":r[yt]=u+b*et,r[yt+1]=o+T*et,r[yt+2]=d+O*et}},getUniformLocations:function(n,e){return{uColor:n.getUniformLocation(e,"uColor")}},sendUniformData:function(n,e){var r=new a.Color(this.color).getSource();r[0]=this.alpha*r[0]/255,r[1]=this.alpha*r[1]/255,r[2]=this.alpha*r[2]/255,r[3]=this.alpha,n.uniform4fv(e.uColor,r)},toObject:function(){return{type:this.type,color:this.color,mode:this.mode,alpha:this.alpha}}}),a.Image.filters.BlendColor.fromObject=a.Image.filters.BaseFilter.fromObject}(hr),function(L){"use strict";var a=L.fabric,f=a.Image.filters,h=a.util.createClass;f.BlendImage=h(f.BaseFilter,{type:"BlendImage",image:null,mode:"multiply",alpha:1,vertexSource:`attribute vec2 aPosition;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
uniform mat3 uTransformMatrix;
void main() {
vTexCoord = aPosition;
vTexCoord2 = (uTransformMatrix * vec3(aPosition, 1.0)).xy;
gl_Position = vec4(aPosition * 2.0 - 1.0, 0.0, 1.0);
}`,fragmentSource:{multiply:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.rgba *= color2.rgba;
gl_FragColor = color;
}`,mask:`precision highp float;
uniform sampler2D uTexture;
uniform sampler2D uImage;
uniform vec4 uColor;
varying vec2 vTexCoord;
varying vec2 vTexCoord2;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec4 color2 = texture2D(uImage, vTexCoord2);
color.a = color2.a;
gl_FragColor = color;
}`},retrieveShader:function(n){var e=this.type+"_"+this.mode,r=this.fragmentSource[this.mode];return n.programCache.hasOwnProperty(e)||(n.programCache[e]=this.createProgram(n.context,r)),n.programCache[e]},applyToWebGL:function(n){var e=n.context,r=this.createTexture(n.filterBackend,this.image);this.bindAdditionalTexture(e,r,e.TEXTURE1),this.callSuper("applyToWebGL",n),this.unbindAdditionalTexture(e,e.TEXTURE1)},createTexture:function(n,e){return n.getCachedTexture(e.cacheKey,e._element)},calculateMatrix:function(){var n=this.image,e=n._element.width,r=n._element.height;return[1/n.scaleX,0,0,0,1/n.scaleY,0,-n.left/e,-n.top/r,1]},applyTo2d:function(n){var e=n.imageData,r=n.filterBackend.resources,i=e.data,u=i.length,o=e.width,d=e.height,b,T,O,Y,et,yt,Zt,fe,Ue,sr,cr=this.image,Ke;r.blendImage||(r.blendImage=a.util.createCanvasElement()),Ue=r.blendImage,sr=Ue.getContext("2d"),Ue.width!==o||Ue.height!==d?(Ue.width=o,Ue.height=d):sr.clearRect(0,0,o,d),sr.setTransform(cr.scaleX,0,0,cr.scaleY,cr.left,cr.top),sr.drawImage(cr._element,0,0,o,d),Ke=sr.getImageData(0,0,o,d).data;for(var Ie=0;Ie<u;Ie+=4)switch(et=i[Ie],yt=i[Ie+1],Zt=i[Ie+2],fe=i[Ie+3],b=Ke[Ie],T=Ke[Ie+1],O=Ke[Ie+2],Y=Ke[Ie+3],this.mode){case"multiply":i[Ie]=et*b/255,i[Ie+1]=yt*T/255,i[Ie+2]=Zt*O/255,i[Ie+3]=fe*Y/255;break;case"mask":i[Ie+3]=Y;break}},getUniformLocations:function(n,e){return{uTransformMatrix:n.getUniformLocation(e,"uTransformMatrix"),uImage:n.getUniformLocation(e,"uImage")}},sendUniformData:function(n,e){var r=this.calculateMatrix();n.uniform1i(e.uImage,1),n.uniformMatrix3fv(e.uTransformMatrix,!1,r)},toObject:function(){return{type:this.type,image:this.image&&this.image.toObject(),mode:this.mode,alpha:this.alpha}}}),a.Image.filters.BlendImage.fromObject=function(l,n){a.Image.fromObject(l.image,function(e){var r=a.util.object.clone(l);r.image=e,n(new a.Image.filters.BlendImage(r))})}}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=Math.pow,h=Math.floor,l=Math.sqrt,n=Math.abs,e=Math.round,r=Math.sin,i=Math.ceil,u=a.Image.filters,o=a.util.createClass;u.Resize=o(u.BaseFilter,{type:"Resize",resizeType:"hermite",scaleX:1,scaleY:1,lanczosLobes:3,getUniformLocations:function(b,T){return{uDelta:b.getUniformLocation(T,"uDelta"),uTaps:b.getUniformLocation(T,"uTaps")}},sendUniformData:function(b,T){b.uniform2fv(T.uDelta,this.horizontal?[1/this.width,0]:[0,1/this.height]),b.uniform1fv(T.uTaps,this.taps)},retrieveShader:function(b){var T=this.getFilterWindow(),O=this.type+"_"+T;if(!b.programCache.hasOwnProperty(O)){var Y=this.generateShader(T);b.programCache[O]=this.createProgram(b.context,Y)}return b.programCache[O]},getFilterWindow:function(){var b=this.tempScale;return Math.ceil(this.lanczosLobes/b)},getTaps:function(){for(var b=this.lanczosCreate(this.lanczosLobes),T=this.tempScale,O=this.getFilterWindow(),Y=new Array(O),et=1;et<=O;et++)Y[et-1]=b(et*T);return Y},generateShader:function(b){for(var T=new Array(b),O=this.fragmentSourceTOP,b,Y=1;Y<=b;Y++)T[Y-1]=Y+".0 * uDelta";return O+="uniform float uTaps["+b+`];
`,O+=`void main() {
`,O+=`  vec4 color = texture2D(uTexture, vTexCoord);
`,O+=`  float sum = 1.0;
`,T.forEach(function(et,yt){O+="  color += texture2D(uTexture, vTexCoord + "+et+") * uTaps["+yt+`];
`,O+="  color += texture2D(uTexture, vTexCoord - "+et+") * uTaps["+yt+`];
`,O+="  sum += 2.0 * uTaps["+yt+`];
`}),O+=`  gl_FragColor = color / sum;
`,O+="}",O},fragmentSourceTOP:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
`,applyTo:function(b){b.webgl?(b.passes++,this.width=b.sourceWidth,this.horizontal=!0,this.dW=Math.round(this.width*this.scaleX),this.dH=b.sourceHeight,this.tempScale=this.dW/this.width,this.taps=this.getTaps(),b.destinationWidth=this.dW,this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b),b.sourceWidth=b.destinationWidth,this.height=b.sourceHeight,this.horizontal=!1,this.dH=Math.round(this.height*this.scaleY),this.tempScale=this.dH/this.height,this.taps=this.getTaps(),b.destinationHeight=this.dH,this._setupFrameBuffer(b),this.applyToWebGL(b),this._swapTextures(b),b.sourceHeight=b.destinationHeight):this.applyTo2d(b)},isNeutralState:function(){return this.scaleX===1&&this.scaleY===1},lanczosCreate:function(b){return function(T){if(T>=b||T<=-b)return 0;if(T<11920929e-14&&T>-11920929e-14)return 1;T*=Math.PI;var O=T/b;return r(T)/T*r(O)/O}},applyTo2d:function(b){var T=b.imageData,O=this.scaleX,Y=this.scaleY;this.rcpScaleX=1/O,this.rcpScaleY=1/Y;var et=T.width,yt=T.height,Zt=e(et*O),fe=e(yt*Y),Ue;this.resizeType==="sliceHack"?Ue=this.sliceByTwo(b,et,yt,Zt,fe):this.resizeType==="hermite"?Ue=this.hermiteFastResize(b,et,yt,Zt,fe):this.resizeType==="bilinear"?Ue=this.bilinearFiltering(b,et,yt,Zt,fe):this.resizeType==="lanczos"&&(Ue=this.lanczosResize(b,et,yt,Zt,fe)),b.imageData=Ue},sliceByTwo:function(b,T,O,Y,et){var yt=b.imageData,Zt=.5,fe=!1,Ue=!1,sr=T*Zt,cr=O*Zt,Ke=a.filterBackend.resources,Ie,gr,kr=0,Ar=0,lt=T,me=0;for(Ke.sliceByTwo||(Ke.sliceByTwo=document.createElement("canvas")),Ie=Ke.sliceByTwo,(Ie.width<T*1.5||Ie.height<O)&&(Ie.width=T*1.5,Ie.height=O),gr=Ie.getContext("2d"),gr.clearRect(0,0,T*1.5,O),gr.putImageData(yt,0,0),Y=h(Y),et=h(et);!fe||!Ue;)T=sr,O=cr,Y<h(sr*Zt)?sr=h(sr*Zt):(sr=Y,fe=!0),et<h(cr*Zt)?cr=h(cr*Zt):(cr=et,Ue=!0),gr.drawImage(Ie,kr,Ar,T,O,lt,me,sr,cr),kr=lt,Ar=me,me+=cr;return gr.getImageData(kr,Ar,Y,et)},lanczosResize:function(b,T,O,Y,et){function yt(ct){var Ot,U,tt,mt,pt,Yt,St,Et,re,Vt,Ht;for(me.x=(ct+.5)*cr,Z.x=h(me.x),Ot=0;Ot<et;Ot++){for(me.y=(Ot+.5)*Ke,Z.y=h(me.y),pt=0,Yt=0,St=0,Et=0,re=0,U=Z.x-kr;U<=Z.x+kr;U++)if(!(U<0||U>=T)){Vt=h(1e3*n(U-me.x)),lt[Vt]||(lt[Vt]={});for(var Nt=Z.y-Ar;Nt<=Z.y+Ar;Nt++)Nt<0||Nt>=O||(Ht=h(1e3*n(Nt-me.y)),lt[Vt][Ht]||(lt[Vt][Ht]=sr(l(f(Vt*Ie,2)+f(Ht*gr,2))/1e3)),tt=lt[Vt][Ht],tt>0&&(mt=(Nt*T+U)*4,pt+=tt,Yt+=tt*Zt[mt],St+=tt*Zt[mt+1],Et+=tt*Zt[mt+2],re+=tt*Zt[mt+3]))}mt=(Ot*Y+ct)*4,Ue[mt]=Yt/pt,Ue[mt+1]=St/pt,Ue[mt+2]=Et/pt,Ue[mt+3]=re/pt}return++ct<Y?yt(ct):fe}var Zt=b.imageData.data,fe=b.ctx.createImageData(Y,et),Ue=fe.data,sr=this.lanczosCreate(this.lanczosLobes),cr=this.rcpScaleX,Ke=this.rcpScaleY,Ie=2/this.rcpScaleX,gr=2/this.rcpScaleY,kr=i(cr*this.lanczosLobes/2),Ar=i(Ke*this.lanczosLobes/2),lt={},me={},Z={};return yt(0)},bilinearFiltering:function(b,T,O,Y,et){var yt,Zt,fe,Ue,sr,cr,Ke,Ie,gr,kr,Ar,lt,me=0,Z,ct=this.rcpScaleX,Ot=this.rcpScaleY,U=4*(T-1),tt=b.imageData,mt=tt.data,pt=b.ctx.createImageData(Y,et),Yt=pt.data;for(Ke=0;Ke<et;Ke++)for(Ie=0;Ie<Y;Ie++)for(sr=h(ct*Ie),cr=h(Ot*Ke),gr=ct*Ie-sr,kr=Ot*Ke-cr,Z=4*(cr*T+sr),Ar=0;Ar<4;Ar++)yt=mt[Z+Ar],Zt=mt[Z+4+Ar],fe=mt[Z+U+Ar],Ue=mt[Z+U+4+Ar],lt=yt*(1-gr)*(1-kr)+Zt*gr*(1-kr)+fe*kr*(1-gr)+Ue*gr*kr,Yt[me++]=lt;return pt},hermiteFastResize:function(b,T,O,Y,et){for(var yt=this.rcpScaleX,Zt=this.rcpScaleY,fe=i(yt/2),Ue=i(Zt/2),sr=b.imageData,cr=sr.data,Ke=b.ctx.createImageData(Y,et),Ie=Ke.data,gr=0;gr<et;gr++)for(var kr=0;kr<Y;kr++){for(var Ar=(kr+gr*Y)*4,lt=0,me=0,Z=0,ct=0,Ot=0,U=0,tt=0,mt=(gr+.5)*Zt,pt=h(gr*Zt);pt<(gr+1)*Zt;pt++)for(var Yt=n(mt-(pt+.5))/Ue,St=(kr+.5)*yt,Et=Yt*Yt,re=h(kr*yt);re<(kr+1)*yt;re++){var Vt=n(St-(re+.5))/fe,Ht=l(Et+Vt*Vt);Ht>1&&Ht<-1||(lt=2*Ht*Ht*Ht-3*Ht*Ht+1,lt>0&&(Vt=4*(re+pt*T),tt+=lt*cr[Vt+3],Z+=lt,cr[Vt+3]<255&&(lt=lt*cr[Vt+3]/250),ct+=lt*cr[Vt],Ot+=lt*cr[Vt+1],U+=lt*cr[Vt+2],me+=lt))}Ie[Ar]=ct/me,Ie[Ar+1]=Ot/me,Ie[Ar+2]=U/me,Ie[Ar+3]=tt/Z}return Ke},toObject:function(){return{type:this.type,scaleX:this.scaleX,scaleY:this.scaleY,resizeType:this.resizeType,lanczosLobes:this.lanczosLobes}}}),a.Image.filters.Resize.fromObject=a.Image.filters.BaseFilter.fromObject}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Contrast=h(f.BaseFilter,{type:"Contrast",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uContrast;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float contrastF = 1.015 * (uContrast + 1.0) / (1.0 * (1.015 - uContrast));
color.rgb = contrastF * (color.rgb - 0.5) + 0.5;
gl_FragColor = color;
}`,contrast:0,mainParameter:"contrast",applyTo2d:function(n){if(this.contrast!==0){var e=n.imageData,r,i,u=e.data,i=u.length,o=Math.floor(this.contrast*255),d=259*(o+255)/(255*(259-o));for(r=0;r<i;r+=4)u[r]=d*(u[r]-128)+128,u[r+1]=d*(u[r+1]-128)+128,u[r+2]=d*(u[r+2]-128)+128}},getUniformLocations:function(n,e){return{uContrast:n.getUniformLocation(e,"uContrast")}},sendUniformData:function(n,e){n.uniform1f(e.uContrast,this.contrast)}}),a.Image.filters.Contrast.fromObject=a.Image.filters.BaseFilter.fromObject}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Saturation=h(f.BaseFilter,{type:"Saturation",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uSaturation;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float rgMax = max(color.r, color.g);
float rgbMax = max(rgMax, color.b);
color.r += rgbMax != color.r ? (rgbMax - color.r) * uSaturation : 0.00;
color.g += rgbMax != color.g ? (rgbMax - color.g) * uSaturation : 0.00;
color.b += rgbMax != color.b ? (rgbMax - color.b) * uSaturation : 0.00;
gl_FragColor = color;
}`,saturation:0,mainParameter:"saturation",applyTo2d:function(n){if(this.saturation!==0){var e=n.imageData,r=e.data,i=r.length,u=-this.saturation,o,d;for(o=0;o<i;o+=4)d=Math.max(r[o],r[o+1],r[o+2]),r[o]+=d!==r[o]?(d-r[o])*u:0,r[o+1]+=d!==r[o+1]?(d-r[o+1])*u:0,r[o+2]+=d!==r[o+2]?(d-r[o+2])*u:0}},getUniformLocations:function(n,e){return{uSaturation:n.getUniformLocation(e,"uSaturation")}},sendUniformData:function(n,e){n.uniform1f(e.uSaturation,-this.saturation)}}),a.Image.filters.Saturation.fromObject=a.Image.filters.BaseFilter.fromObject}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Vibrance=h(f.BaseFilter,{type:"Vibrance",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform float uVibrance;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
float max = max(color.r, max(color.g, color.b));
float avg = (color.r + color.g + color.b) / 3.0;
float amt = (abs(max - avg) * 2.0) * uVibrance;
color.r += max != color.r ? (max - color.r) * amt : 0.00;
color.g += max != color.g ? (max - color.g) * amt : 0.00;
color.b += max != color.b ? (max - color.b) * amt : 0.00;
gl_FragColor = color;
}`,vibrance:0,mainParameter:"vibrance",applyTo2d:function(n){if(this.vibrance!==0){var e=n.imageData,r=e.data,i=r.length,u=-this.vibrance,o,d,b,T;for(o=0;o<i;o+=4)d=Math.max(r[o],r[o+1],r[o+2]),b=(r[o]+r[o+1]+r[o+2])/3,T=Math.abs(d-b)*2/255*u,r[o]+=d!==r[o]?(d-r[o])*T:0,r[o+1]+=d!==r[o+1]?(d-r[o+1])*T:0,r[o+2]+=d!==r[o+2]?(d-r[o+2])*T:0}},getUniformLocations:function(n,e){return{uVibrance:n.getUniformLocation(e,"uVibrance")}},sendUniformData:function(n,e){n.uniform1f(e.uVibrance,-this.vibrance)}}),a.Image.filters.Vibrance.fromObject=a.Image.filters.BaseFilter.fromObject}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Blur=h(f.BaseFilter,{type:"Blur",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec2 uDelta;
varying vec2 vTexCoord;
const float nSamples = 15.0;
vec3 v3offset = vec3(12.9898, 78.233, 151.7182);
float random(vec3 scale) {
return fract(sin(dot(gl_FragCoord.xyz, scale)) * 43758.5453);
}
void main() {
vec4 color = vec4(0.0);
float total = 0.0;
float offset = random(v3offset);
for (float t = -nSamples; t <= nSamples; t++) {
float percent = (t + offset - 0.5) / nSamples;
float weight = 1.0 - abs(percent);
color += texture2D(uTexture, vTexCoord + uDelta * percent) * weight;
total += weight;
}
gl_FragColor = color / total;
}`,blur:0,mainParameter:"blur",applyTo:function(n){n.webgl?(this.aspectRatio=n.sourceWidth/n.sourceHeight,n.passes++,this._setupFrameBuffer(n),this.horizontal=!0,this.applyToWebGL(n),this._swapTextures(n),this._setupFrameBuffer(n),this.horizontal=!1,this.applyToWebGL(n),this._swapTextures(n)):this.applyTo2d(n)},applyTo2d:function(n){n.imageData=this.simpleBlur(n)},simpleBlur:function(n){var e=n.filterBackend.resources,r,i,u=n.imageData.width,o=n.imageData.height;e.blurLayer1||(e.blurLayer1=a.util.createCanvasElement(),e.blurLayer2=a.util.createCanvasElement()),r=e.blurLayer1,i=e.blurLayer2,(r.width!==u||r.height!==o)&&(i.width=r.width=u,i.height=r.height=o);var d=r.getContext("2d"),b=i.getContext("2d"),T=15,O,Y,et,yt,Zt=this.blur*.06*.5;for(d.putImageData(n.imageData,0,0),b.clearRect(0,0,u,o),yt=-T;yt<=T;yt++)O=(Math.random()-.5)/4,Y=yt/T,et=Zt*Y*u+O,b.globalAlpha=1-Math.abs(Y),b.drawImage(r,et,O),d.drawImage(i,0,0),b.globalAlpha=1,b.clearRect(0,0,i.width,i.height);for(yt=-T;yt<=T;yt++)O=(Math.random()-.5)/4,Y=yt/T,et=Zt*Y*o+O,b.globalAlpha=1-Math.abs(Y),b.drawImage(r,O,et),d.drawImage(i,0,0),b.globalAlpha=1,b.clearRect(0,0,i.width,i.height);n.ctx.drawImage(r,0,0);var fe=n.ctx.getImageData(0,0,r.width,r.height);return d.globalAlpha=1,d.clearRect(0,0,r.width,r.height),fe},getUniformLocations:function(n,e){return{delta:n.getUniformLocation(e,"uDelta")}},sendUniformData:function(n,e){var r=this.chooseRightDelta();n.uniform2fv(e.delta,r)},chooseRightDelta:function(){var n=1,e=[0,0],r;return this.horizontal?this.aspectRatio>1&&(n=1/this.aspectRatio):this.aspectRatio<1&&(n=this.aspectRatio),r=n*this.blur*.12,this.horizontal?e[0]=r:e[1]=r,e}}),f.Blur.fromObject=a.Image.filters.BaseFilter.fromObject}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Gamma=h(f.BaseFilter,{type:"Gamma",fragmentSource:`precision highp float;
uniform sampler2D uTexture;
uniform vec3 uGamma;
varying vec2 vTexCoord;
void main() {
vec4 color = texture2D(uTexture, vTexCoord);
vec3 correction = (1.0 / uGamma);
color.r = pow(color.r, correction.r);
color.g = pow(color.g, correction.g);
color.b = pow(color.b, correction.b);
gl_FragColor = color;
gl_FragColor.rgb *= color.a;
}`,gamma:[1,1,1],mainParameter:"gamma",initialize:function(n){this.gamma=[1,1,1],f.BaseFilter.prototype.initialize.call(this,n)},applyTo2d:function(n){var e=n.imageData,r=e.data,i=this.gamma,u=r.length,o=1/i[0],d=1/i[1],b=1/i[2],T;for(this.rVals||(this.rVals=new Uint8Array(256),this.gVals=new Uint8Array(256),this.bVals=new Uint8Array(256)),T=0,u=256;T<u;T++)this.rVals[T]=Math.pow(T/255,o)*255,this.gVals[T]=Math.pow(T/255,d)*255,this.bVals[T]=Math.pow(T/255,b)*255;for(T=0,u=r.length;T<u;T+=4)r[T]=this.rVals[r[T]],r[T+1]=this.gVals[r[T+1]],r[T+2]=this.bVals[r[T+2]]},getUniformLocations:function(n,e){return{uGamma:n.getUniformLocation(e,"uGamma")}},sendUniformData:function(n,e){n.uniform3fv(e.uGamma,this.gamma)}}),a.Image.filters.Gamma.fromObject=a.Image.filters.BaseFilter.fromObject}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.Composed=h(f.BaseFilter,{type:"Composed",subFilters:[],initialize:function(n){this.callSuper("initialize",n),this.subFilters=this.subFilters.slice(0)},applyTo:function(n){n.passes+=this.subFilters.length-1,this.subFilters.forEach(function(e){e.applyTo(n)})},toObject:function(){return a.util.object.extend(this.callSuper("toObject"),{subFilters:this.subFilters.map(function(n){return n.toObject()})})},isNeutralState:function(){return!this.subFilters.some(function(n){return!n.isNeutralState()})}}),a.Image.filters.Composed.fromObject=function(l,n){var e=l.subFilters||[],r=e.map(function(u){return new a.Image.filters[u.type](u)}),i=new a.Image.filters.Composed({subFilters:r});return n&&n(i),i}}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.Image.filters,h=a.util.createClass;f.HueRotation=h(f.ColorMatrix,{type:"HueRotation",rotation:0,mainParameter:"rotation",calculateMatrix:function(){var n=this.rotation*Math.PI,e=a.util.cos(n),r=a.util.sin(n),i=1/3,u=Math.sqrt(i)*r,o=1-e;this.matrix=[1,0,0,0,0,0,1,0,0,0,0,0,1,0,0,0,0,0,1,0],this.matrix[0]=e+o/3,this.matrix[1]=i*o-u,this.matrix[2]=i*o+u,this.matrix[5]=i*o+u,this.matrix[6]=e+i*o,this.matrix[7]=i*o-u,this.matrix[10]=i*o-u,this.matrix[11]=i*o+u,this.matrix[12]=e+i*o},isNeutralState:function(n){return this.calculateMatrix(),f.BaseFilter.prototype.isNeutralState.call(this,n)},applyTo:function(n){this.calculateMatrix(),f.BaseFilter.prototype.applyTo.call(this,n)}}),a.Image.filters.HueRotation.fromObject=a.Image.filters.BaseFilter.fromObject}(hr),function(L){"use strict";var a=L.fabric||(L.fabric={}),f=a.util.object.clone;if(a.Text){a.warn("fabric.Text is already defined");return}var h="fontFamily fontWeight fontSize text underline overline linethrough textAlign fontStyle lineHeight textBackgroundColor charSpacing styles direction path pathStartOffset pathSide".split(" ");a.Text=a.util.createClass(a.Object,{_dimensionAffectingProps:["fontSize","fontWeight","fontFamily","fontStyle","lineHeight","text","charSpacing","textAlign","styles","path","pathStartOffset","pathSide"],_reNewline:/\r?\n/,_reSpacesAndTabs:/[ \t\r]/g,_reSpaceAndTab:/[ \t\r]/,_reWords:/\S+/g,type:"text",fontSize:40,fontWeight:"normal",fontFamily:"Times New Roman",underline:!1,overline:!1,linethrough:!1,textAlign:"left",fontStyle:"normal",lineHeight:1.16,superscript:{size:.6,baseline:-.35},subscript:{size:.6,baseline:.11},textBackgroundColor:"",stateProperties:a.Object.prototype.stateProperties.concat(h),cacheProperties:a.Object.prototype.cacheProperties.concat(h),stroke:null,shadow:null,path:null,pathStartOffset:0,pathSide:"left",_fontSizeFraction:.222,offsets:{underline:.1,linethrough:-.315,overline:-.88},_fontSizeMult:1.13,charSpacing:0,styles:null,_measuringContext:null,deltaY:0,direction:"ltr",_styleProperties:["stroke","strokeWidth","fill","fontFamily","fontSize","fontWeight","fontStyle","underline","overline","linethrough","deltaY","textBackgroundColor"],__charBounds:[],CACHE_FONT_SIZE:400,MIN_TEXT_WIDTH:2,initialize:function(n,e){this.styles=e?e.styles||{}:{},this.text=n,this.__skipDimension=!0,this.callSuper("initialize",e),this.path&&this.setPathInfo(),this.__skipDimension=!1,this.initDimensions(),this.setCoords(),this.setupState({propertySet:"_dimensionAffectingProps"})},setPathInfo:function(){var n=this.path;n&&(n.segmentsInfo=a.util.getPathSegmentsInfo(n.path))},getMeasuringContext:function(){return a._measuringContext||(a._measuringContext=this.canvas&&this.canvas.contextCache||a.util.createCanvasElement().getContext("2d")),a._measuringContext},_splitText:function(){var n=this._splitTextIntoLines(this.text);return this.textLines=n.lines,this._textLines=n.graphemeLines,this._unwrappedTextLines=n._unwrappedLines,this._text=n.graphemeText,n},initDimensions:function(){this.__skipDimension||(this._splitText(),this._clearCache(),this.path?(this.width=this.path.width,this.height=this.path.height):(this.width=this.calcTextWidth()||this.cursorWidth||this.MIN_TEXT_WIDTH,this.height=this.calcTextHeight()),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.saveState({propertySet:"_dimensionAffectingProps"}))},enlargeSpaces:function(){for(var n,e,r,i,u,o,d,b=0,T=this._textLines.length;b<T;b++)if(!(this.textAlign!=="justify"&&(b===T-1||this.isEndOfWrapping(b)))&&(i=0,u=this._textLines[b],e=this.getLineWidth(b),e<this.width&&(d=this.textLines[b].match(this._reSpacesAndTabs)))){r=d.length,n=(this.width-e)/r;for(var O=0,Y=u.length;O<=Y;O++)o=this.__charBounds[b][O],this._reSpaceAndTab.test(u[O])?(o.width+=n,o.kernedWidth+=n,o.left+=i,i+=n):o.left+=i}},isEndOfWrapping:function(n){return n===this._textLines.length-1},missingNewlineOffset:function(){return 1},toString:function(){return"#<fabric.Text ("+this.complexity()+'): { "text": "'+this.text+'", "fontFamily": "'+this.fontFamily+'" }>'},_getCacheCanvasDimensions:function(){var n=this.callSuper("_getCacheCanvasDimensions"),e=this.fontSize;return n.width+=e*n.zoomX,n.height+=e*n.zoomY,n},_render:function(n){var e=this.path;e&&!e.isNotVisible()&&e._render(n),this._setTextStyles(n),this._renderTextLinesBackground(n),this._renderTextDecoration(n,"underline"),this._renderText(n),this._renderTextDecoration(n,"overline"),this._renderTextDecoration(n,"linethrough")},_renderText:function(n){this.paintFirst==="stroke"?(this._renderTextStroke(n),this._renderTextFill(n)):(this._renderTextFill(n),this._renderTextStroke(n))},_setTextStyles:function(n,e,r){n.textBaseline="alphabetic",n.font=this._getFontDeclaration(e,r)},calcTextWidth:function(){for(var n=this.getLineWidth(0),e=1,r=this._textLines.length;e<r;e++){var i=this.getLineWidth(e);i>n&&(n=i)}return n},_renderTextLine:function(n,e,r,i,u,o){this._renderChars(n,e,r,i,u,o)},_renderTextLinesBackground:function(n){if(!(!this.textBackgroundColor&&!this.styleHas("textBackgroundColor"))){for(var e,r,i=n.fillStyle,u,o,d=this._getLeftOffset(),b=this._getTopOffset(),T=0,O=0,Y,et,yt=this.path,Zt,fe=0,Ue=this._textLines.length;fe<Ue;fe++){if(e=this.getHeightOfLine(fe),!this.textBackgroundColor&&!this.styleHas("textBackgroundColor",fe)){b+=e;continue}u=this._textLines[fe],r=this._getLineLeftOffset(fe),O=0,T=0,o=this.getValueOfPropertyAt(fe,0,"textBackgroundColor");for(var sr=0,cr=u.length;sr<cr;sr++)Y=this.__charBounds[fe][sr],et=this.getValueOfPropertyAt(fe,sr,"textBackgroundColor"),yt?(n.save(),n.translate(Y.renderLeft,Y.renderTop),n.rotate(Y.angle),n.fillStyle=et,et&&n.fillRect(-Y.width/2,-e/this.lineHeight*(1-this._fontSizeFraction),Y.width,e/this.lineHeight),n.restore()):et!==o?(Zt=d+r+T,this.direction==="rtl"&&(Zt=this.width-Zt-O),n.fillStyle=o,o&&n.fillRect(Zt,b,O,e/this.lineHeight),T=Y.left,O=Y.width,o=et):O+=Y.kernedWidth;et&&!yt&&(Zt=d+r+T,this.direction==="rtl"&&(Zt=this.width-Zt-O),n.fillStyle=et,n.fillRect(Zt,b,O,e/this.lineHeight)),b+=e}n.fillStyle=i,this._removeShadow(n)}},getFontCache:function(n){var e=n.fontFamily.toLowerCase();a.charWidthsCache[e]||(a.charWidthsCache[e]={});var r=a.charWidthsCache[e],i=n.fontStyle.toLowerCase()+"_"+(n.fontWeight+"").toLowerCase();return r[i]||(r[i]={}),r[i]},_measureChar:function(n,e,r,i){var u=this.getFontCache(e),o=this._getFontDeclaration(e),d=this._getFontDeclaration(i),b=r+n,T=o===d,O,Y,et,yt=e.fontSize/this.CACHE_FONT_SIZE,Zt;if(r&&u[r]!==void 0&&(et=u[r]),u[n]!==void 0&&(Zt=O=u[n]),T&&u[b]!==void 0&&(Y=u[b],Zt=Y-et),O===void 0||et===void 0||Y===void 0){var fe=this.getMeasuringContext();this._setTextStyles(fe,e,!0)}return O===void 0&&(Zt=O=fe.measureText(n).width,u[n]=O),et===void 0&&T&&r&&(et=fe.measureText(r).width,u[r]=et),T&&Y===void 0&&(Y=fe.measureText(b).width,u[b]=Y,Zt=Y-et),{width:O*yt,kernedWidth:Zt*yt}},getHeightOfChar:function(n,e){return this.getValueOfPropertyAt(n,e,"fontSize")},measureLine:function(n){var e=this._measureLine(n);return this.charSpacing!==0&&(e.width-=this._getWidthOfCharSpacing()),e.width<0&&(e.width=0),e},_measureLine:function(n){var e=0,r,i,u=this._textLines[n],o,d,b=0,T=new Array(u.length),O=0,Y,et,yt=this.path,Zt=this.pathSide==="right";for(this.__charBounds[n]=T,r=0;r<u.length;r++)i=u[r],d=this._getGraphemeBox(i,n,r,o),T[r]=d,e+=d.kernedWidth,o=i;if(T[r]={left:d?d.left+d.width:0,width:0,kernedWidth:0,height:this.fontSize},yt){switch(et=yt.segmentsInfo[yt.segmentsInfo.length-1].length,Y=a.util.getPointOnPath(yt.path,0,yt.segmentsInfo),Y.x+=yt.pathOffset.x,Y.y+=yt.pathOffset.y,this.textAlign){case"left":O=Zt?et-e:0;break;case"center":O=(et-e)/2;break;case"right":O=Zt?0:et-e;break}for(O+=this.pathStartOffset*(Zt?-1:1),r=Zt?u.length-1:0;Zt?r>=0:r<u.length;Zt?r--:r++)d=T[r],O>et?O%=et:O<0&&(O+=et),this._setGraphemeOnPath(O,d,Y),O+=d.kernedWidth}return{width:e,numOfSpaces:b}},_setGraphemeOnPath:function(n,e,r){var i=n+e.kernedWidth/2,u=this.path,o=a.util.getPointOnPath(u.path,i,u.segmentsInfo);e.renderLeft=o.x-r.x,e.renderTop=o.y-r.y,e.angle=o.angle+(this.pathSide==="right"?Math.PI:0)},_getGraphemeBox:function(n,e,r,i,u){var o=this.getCompleteStyleDeclaration(e,r),d=i?this.getCompleteStyleDeclaration(e,r-1):{},b=this._measureChar(n,o,i,d),T=b.kernedWidth,O=b.width,Y;this.charSpacing!==0&&(Y=this._getWidthOfCharSpacing(),O+=Y,T+=Y);var et={width:O,left:0,height:o.fontSize,kernedWidth:T,deltaY:o.deltaY};if(r>0&&!u){var yt=this.__charBounds[e][r-1];et.left=yt.left+yt.width+b.kernedWidth-b.width}return et},getHeightOfLine:function(n){if(this.__lineHeights[n])return this.__lineHeights[n];for(var e=this._textLines[n],r=this.getHeightOfChar(n,0),i=1,u=e.length;i<u;i++)r=Math.max(this.getHeightOfChar(n,i),r);return this.__lineHeights[n]=r*this.lineHeight*this._fontSizeMult},calcTextHeight:function(){for(var n,e=0,r=0,i=this._textLines.length;r<i;r++)n=this.getHeightOfLine(r),e+=r===i-1?n/this.lineHeight:n;return e},_getLeftOffset:function(){return this.direction==="ltr"?-this.width/2:this.width/2},_getTopOffset:function(){return-this.height/2},_renderTextCommon:function(n,e){n.save();for(var r=0,i=this._getLeftOffset(),u=this._getTopOffset(),o=0,d=this._textLines.length;o<d;o++){var b=this.getHeightOfLine(o),T=b/this.lineHeight,O=this._getLineLeftOffset(o);this._renderTextLine(e,n,this._textLines[o],i+O,u+r+T,o),r+=b}n.restore()},_renderTextFill:function(n){!this.fill&&!this.styleHas("fill")||this._renderTextCommon(n,"fillText")},_renderTextStroke:function(n){(!this.stroke||this.strokeWidth===0)&&this.isEmptyStyles()||(this.shadow&&!this.shadow.affectStroke&&this._removeShadow(n),n.save(),this._setLineDash(n,this.strokeDashArray),n.beginPath(),this._renderTextCommon(n,"strokeText"),n.closePath(),n.restore())},_renderChars:function(n,e,r,i,u,o){var d=this.getHeightOfLine(o),b=this.textAlign.indexOf("justify")!==-1,T,O,Y="",et,yt=0,Zt,fe=this.path,Ue=!b&&this.charSpacing===0&&this.isEmptyStyles(o)&&!fe,sr=this.direction==="ltr",cr=this.direction==="ltr"?1:-1,Ke;if(e.save(),u-=d*this._fontSizeFraction/this.lineHeight,Ue){e.canvas.setAttribute("dir",sr?"ltr":"rtl"),e.direction=sr?"ltr":"rtl",e.textAlign=sr?"left":"right",this._renderChar(n,e,o,0,r.join(""),i,u,d),e.restore();return}for(var Ie=0,gr=r.length-1;Ie<=gr;Ie++)Zt=Ie===gr||this.charSpacing||fe,Y+=r[Ie],et=this.__charBounds[o][Ie],yt===0?(i+=cr*(et.kernedWidth-et.width),yt+=et.width):yt+=et.kernedWidth,b&&!Zt&&this._reSpaceAndTab.test(r[Ie])&&(Zt=!0),Zt||(T=T||this.getCompleteStyleDeclaration(o,Ie),O=this.getCompleteStyleDeclaration(o,Ie+1),Zt=this._hasStyleChanged(T,O)),Zt&&(fe?(e.save(),e.translate(et.renderLeft,et.renderTop),e.rotate(et.angle),this._renderChar(n,e,o,Ie,Y,-yt/2,0,d),e.restore()):(Ke=i,e.canvas.setAttribute("dir",sr?"ltr":"rtl"),e.direction=sr?"ltr":"rtl",e.textAlign=sr?"left":"right",this._renderChar(n,e,o,Ie,Y,Ke,u,d)),Y="",T=O,i+=cr*yt,yt=0);e.restore()},_applyPatternGradientTransformText:function(n){var e=a.util.createCanvasElement(),r,i=this.width+this.strokeWidth,u=this.height+this.strokeWidth;return e.width=i,e.height=u,r=e.getContext("2d"),r.beginPath(),r.moveTo(0,0),r.lineTo(i,0),r.lineTo(i,u),r.lineTo(0,u),r.closePath(),r.translate(i/2,u/2),r.fillStyle=n.toLive(r),this._applyPatternGradientTransform(r,n),r.fill(),r.createPattern(e,"no-repeat")},handleFiller:function(n,e,r){var i,u;return r.toLive?r.gradientUnits==="percentage"||r.gradientTransform||r.patternTransform?(i=-this.width/2,u=-this.height/2,n.translate(i,u),n[e]=this._applyPatternGradientTransformText(r),{offsetX:i,offsetY:u}):(n[e]=r.toLive(n,this),this._applyPatternGradientTransform(n,r)):(n[e]=r,{offsetX:0,offsetY:0})},_setStrokeStyles:function(n,e){return n.lineWidth=e.strokeWidth,n.lineCap=this.strokeLineCap,n.lineDashOffset=this.strokeDashOffset,n.lineJoin=this.strokeLineJoin,n.miterLimit=this.strokeMiterLimit,this.handleFiller(n,"strokeStyle",e.stroke)},_setFillStyles:function(n,e){return this.handleFiller(n,"fillStyle",e.fill)},_renderChar:function(n,e,r,i,u,o,d){var b=this._getStyleDeclaration(r,i),T=this.getCompleteStyleDeclaration(r,i),O=n==="fillText"&&T.fill,Y=n==="strokeText"&&T.stroke&&T.strokeWidth,et,yt;!Y&&!O||(e.save(),O&&(et=this._setFillStyles(e,T)),Y&&(yt=this._setStrokeStyles(e,T)),e.font=this._getFontDeclaration(T),b&&b.textBackgroundColor&&this._removeShadow(e),b&&b.deltaY&&(d+=b.deltaY),O&&e.fillText(u,o-et.offsetX,d-et.offsetY),Y&&e.strokeText(u,o-yt.offsetX,d-yt.offsetY),e.restore())},setSuperscript:function(n,e){return this._setScript(n,e,this.superscript)},setSubscript:function(n,e){return this._setScript(n,e,this.subscript)},_setScript:function(n,e,r){var i=this.get2DCursorLocation(n,!0),u=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"fontSize"),o=this.getValueOfPropertyAt(i.lineIndex,i.charIndex,"deltaY"),d={fontSize:u*r.size,deltaY:o+u*r.baseline};return this.setSelectionStyles(d,n,e),this},_hasStyleChanged:function(n,e){return n.fill!==e.fill||n.stroke!==e.stroke||n.strokeWidth!==e.strokeWidth||n.fontSize!==e.fontSize||n.fontFamily!==e.fontFamily||n.fontWeight!==e.fontWeight||n.fontStyle!==e.fontStyle||n.deltaY!==e.deltaY},_hasStyleChangedForSvg:function(n,e){return this._hasStyleChanged(n,e)||n.overline!==e.overline||n.underline!==e.underline||n.linethrough!==e.linethrough},_getLineLeftOffset:function(n){var e=this.getLineWidth(n),r=this.width-e,i=this.textAlign,u=this.direction,o,d=0,o=this.isEndOfWrapping(n);return i==="justify"||i==="justify-center"&&!o||i==="justify-right"&&!o||i==="justify-left"&&!o?0:(i==="center"&&(d=r/2),i==="right"&&(d=r),i==="justify-center"&&(d=r/2),i==="justify-right"&&(d=r),u==="rtl"&&(d-=r),d)},_clearCache:function(){this.__lineWidths=[],this.__lineHeights=[],this.__charBounds=[]},_shouldClearDimensionCache:function(){var n=this._forceClearCache;return n||(n=this.hasStateChanged("_dimensionAffectingProps")),n&&(this.dirty=!0,this._forceClearCache=!1),n},getLineWidth:function(n){if(this.__lineWidths[n])return this.__lineWidths[n];var e,r=this._textLines[n],i;return r===""?e=0:(i=this.measureLine(n),e=i.width),this.__lineWidths[n]=e,e},_getWidthOfCharSpacing:function(){return this.charSpacing!==0?this.fontSize*this.charSpacing/1e3:0},getValueOfPropertyAt:function(n,e,r){var i=this._getStyleDeclaration(n,e);return i&&typeof i[r]!="undefined"?i[r]:this[r]},_renderTextDecoration:function(n,e){if(!(!this[e]&&!this.styleHas(e))){for(var r,i,u,o,d,b,T,O,Y=this._getLeftOffset(),et=this._getTopOffset(),yt,Zt,fe,Ue,sr,cr,Ke,Ie,gr=this.path,kr=this._getWidthOfCharSpacing(),Ar=this.offsets[e],lt=0,me=this._textLines.length;lt<me;lt++){if(r=this.getHeightOfLine(lt),!this[e]&&!this.styleHas(e,lt)){et+=r;continue}T=this._textLines[lt],cr=r/this.lineHeight,o=this._getLineLeftOffset(lt),Zt=0,fe=0,O=this.getValueOfPropertyAt(lt,0,e),Ie=this.getValueOfPropertyAt(lt,0,"fill"),yt=et+cr*(1-this._fontSizeFraction),i=this.getHeightOfChar(lt,0),d=this.getValueOfPropertyAt(lt,0,"deltaY");for(var Z=0,ct=T.length;Z<ct;Z++)if(Ue=this.__charBounds[lt][Z],sr=this.getValueOfPropertyAt(lt,Z,e),Ke=this.getValueOfPropertyAt(lt,Z,"fill"),u=this.getHeightOfChar(lt,Z),b=this.getValueOfPropertyAt(lt,Z,"deltaY"),gr&&sr&&Ke)n.save(),n.fillStyle=Ie,n.translate(Ue.renderLeft,Ue.renderTop),n.rotate(Ue.angle),n.fillRect(-Ue.kernedWidth/2,Ar*u+b,Ue.kernedWidth,this.fontSize/15),n.restore();else if((sr!==O||Ke!==Ie||u!==i||b!==d)&&fe>0){var Ot=Y+o+Zt;this.direction==="rtl"&&(Ot=this.width-Ot-fe),O&&Ie&&(n.fillStyle=Ie,n.fillRect(Ot,yt+Ar*i+d,fe,this.fontSize/15)),Zt=Ue.left,fe=Ue.width,O=sr,Ie=Ke,i=u,d=b}else fe+=Ue.kernedWidth;var Ot=Y+o+Zt;this.direction==="rtl"&&(Ot=this.width-Ot-fe),n.fillStyle=Ke,sr&&Ke&&n.fillRect(Ot,yt+Ar*i+d,fe-kr,this.fontSize/15),et+=r}this._removeShadow(n)}},_getFontDeclaration:function(n,e){var r=n||this,i=this.fontFamily,u=a.Text.genericFonts.indexOf(i.toLowerCase())>-1,o=i===void 0||i.indexOf("'")>-1||i.indexOf(",")>-1||i.indexOf('"')>-1||u?r.fontFamily:'"'+r.fontFamily+'"';return[a.isLikelyNode?r.fontWeight:r.fontStyle,a.isLikelyNode?r.fontStyle:r.fontWeight,e?this.CACHE_FONT_SIZE+"px":r.fontSize+"px",o].join(" ")},render:function(n){!this.visible||this.canvas&&this.canvas.skipOffscreen&&!this.group&&!this.isOnScreen()||(this._shouldClearDimensionCache()&&this.initDimensions(),this.callSuper("render",n))},_splitTextIntoLines:function(n){for(var e=n.split(this._reNewline),r=new Array(e.length),i=[`
`],u=[],o=0;o<e.length;o++)r[o]=a.util.string.graphemeSplit(e[o]),u=u.concat(r[o],i);return u.pop(),{_unwrappedLines:r,lines:e,graphemeText:u,graphemeLines:r}},toObject:function(n){var e=h.concat(n),r=this.callSuper("toObject",e);return r.styles=f(this.styles,!0),r.path&&(r.path=this.path.toObject()),r},set:function(n,e){this.callSuper("set",n,e);var r=!1,i=!1;if(typeof n=="object")for(var u in n)u==="path"&&this.setPathInfo(),r=r||this._dimensionAffectingProps.indexOf(u)!==-1,i=i||u==="path";else r=this._dimensionAffectingProps.indexOf(n)!==-1,i=n==="path";return i&&this.setPathInfo(),r&&(this.initDimensions(),this.setCoords()),this},complexity:function(){return 1}}),a.Text.ATTRIBUTE_NAMES=a.SHARED_ATTRIBUTES.concat("x y dx dy font-family font-style font-weight font-size letter-spacing text-decoration text-anchor".split(" ")),a.Text.DEFAULT_SVG_FONT_SIZE=16,a.Text.fromElement=function(l,n,e){if(!l)return n(null);var r=a.parseAttributes(l,a.Text.ATTRIBUTE_NAMES),i=r.textAnchor||"left";if(e=a.util.object.extend(e?f(e):{},r),e.top=e.top||0,e.left=e.left||0,r.textDecoration){var u=r.textDecoration;u.indexOf("underline")!==-1&&(e.underline=!0),u.indexOf("overline")!==-1&&(e.overline=!0),u.indexOf("line-through")!==-1&&(e.linethrough=!0),delete e.textDecoration}"dx"in r&&(e.left+=r.dx),"dy"in r&&(e.top+=r.dy),"fontSize"in e||(e.fontSize=a.Text.DEFAULT_SVG_FONT_SIZE);var o="";"textContent"in l?o=l.textContent:"firstChild"in l&&l.firstChild!==null&&"data"in l.firstChild&&l.firstChild.data!==null&&(o=l.firstChild.data),o=o.replace(/^\s+|\s+$|\n+/g,"").replace(/\s+/g," ");var d=e.strokeWidth;e.strokeWidth=0;var b=new a.Text(o,e),T=b.getScaledHeight()/b.height,O=(b.height+b.strokeWidth)*b.lineHeight-b.height,Y=O*T,et=b.getScaledHeight()+Y,yt=0;i==="center"&&(yt=b.getScaledWidth()/2),i==="right"&&(yt=b.getScaledWidth()),b.set({left:b.left-yt,top:b.top-(et-b.fontSize*(.07+b._fontSizeFraction))/b.lineHeight,strokeWidth:typeof d!="undefined"?d:1}),n(b)},a.Text.fromObject=function(l,n){var e=f(l),r=l.path;return delete e.path,a.Object._fromObject("Text",e,function(i){r?a.Object._fromObject("Path",r,function(u){i.set("path",u),n(i)},"path"):n(i)},"text")},a.Text.genericFonts=["sans-serif","serif","cursive","fantasy","monospace"],a.util.createAccessors&&a.util.createAccessors(a.Text)}(hr),function(){C.util.object.extend(C.Text.prototype,{isEmptyStyles:function(a){if(!this.styles||typeof a!="undefined"&&!this.styles[a])return!0;var f=typeof a=="undefined"?this.styles:{line:this.styles[a]};for(var h in f)for(var l in f[h])for(var n in f[h][l])return!1;return!0},styleHas:function(a,f){if(!this.styles||!a||a===""||typeof f!="undefined"&&!this.styles[f])return!1;var h=typeof f=="undefined"?this.styles:{0:this.styles[f]};for(var l in h)for(var n in h[l])if(typeof h[l][n][a]!="undefined")return!0;return!1},cleanStyle:function(a){if(!this.styles||!a||a==="")return!1;var f=this.styles,h=0,l,n,e=!0,r=0,i;for(var u in f){l=0;for(var o in f[u]){var i=f[u][o],d=i.hasOwnProperty(a);h++,d?(n?i[a]!==n&&(e=!1):n=i[a],i[a]===this[a]&&delete i[a]):e=!1,Object.keys(i).length!==0?l++:delete f[u][o]}l===0&&delete f[u]}for(var b=0;b<this._textLines.length;b++)r+=this._textLines[b].length;e&&h===r&&(this[a]=n,this.removeStyle(a))},removeStyle:function(a){if(!(!this.styles||!a||a==="")){var f=this.styles,h,l,n;for(l in f){h=f[l];for(n in h)delete h[n][a],Object.keys(h[n]).length===0&&delete h[n];Object.keys(h).length===0&&delete f[l]}}},_extendStyles:function(a,f){var h=this.get2DCursorLocation(a);this._getLineStyle(h.lineIndex)||this._setLineStyle(h.lineIndex),this._getStyleDeclaration(h.lineIndex,h.charIndex)||this._setStyleDeclaration(h.lineIndex,h.charIndex,{}),C.util.object.extend(this._getStyleDeclaration(h.lineIndex,h.charIndex),f)},get2DCursorLocation:function(a,f){typeof a=="undefined"&&(a=this.selectionStart);for(var h=f?this._unwrappedTextLines:this._textLines,l=h.length,n=0;n<l;n++){if(a<=h[n].length)return{lineIndex:n,charIndex:a};a-=h[n].length+this.missingNewlineOffset(n)}return{lineIndex:n-1,charIndex:h[n-1].length<a?h[n-1].length:a}},getSelectionStyles:function(a,f,h){typeof a=="undefined"&&(a=this.selectionStart||0),typeof f=="undefined"&&(f=this.selectionEnd||a);for(var l=[],n=a;n<f;n++)l.push(this.getStyleAtPosition(n,h));return l},getStyleAtPosition:function(a,f){var h=this.get2DCursorLocation(a),l=f?this.getCompleteStyleDeclaration(h.lineIndex,h.charIndex):this._getStyleDeclaration(h.lineIndex,h.charIndex);return l||{}},setSelectionStyles:function(a,f,h){typeof f=="undefined"&&(f=this.selectionStart||0),typeof h=="undefined"&&(h=this.selectionEnd||f);for(var l=f;l<h;l++)this._extendStyles(l,a);return this._forceClearCache=!0,this},_getStyleDeclaration:function(a,f){var h=this.styles&&this.styles[a];return h?h[f]:null},getCompleteStyleDeclaration:function(a,f){for(var h=this._getStyleDeclaration(a,f)||{},l={},n,e=0;e<this._styleProperties.length;e++)n=this._styleProperties[e],l[n]=typeof h[n]=="undefined"?this[n]:h[n];return l},_setStyleDeclaration:function(a,f,h){this.styles[a][f]=h},_deleteStyleDeclaration:function(a,f){delete this.styles[a][f]},_getLineStyle:function(a){return!!this.styles[a]},_setLineStyle:function(a){this.styles[a]={}},_deleteLineStyle:function(a){delete this.styles[a]}})}(),function(){function L(a){a.textDecoration&&(a.textDecoration.indexOf("underline")>-1&&(a.underline=!0),a.textDecoration.indexOf("line-through")>-1&&(a.linethrough=!0),a.textDecoration.indexOf("overline")>-1&&(a.overline=!0),delete a.textDecoration)}C.IText=C.util.createClass(C.Text,C.Observable,{type:"i-text",selectionStart:0,selectionEnd:0,selectionColor:"rgba(17,119,255,0.3)",isEditing:!1,editable:!0,editingBorderColor:"rgba(102,153,255,0.25)",cursorWidth:2,cursorColor:"",cursorDelay:1e3,cursorDuration:600,caching:!0,hiddenTextareaContainer:null,_reSpace:/\s|\n/,_currentCursorOpacity:0,_selectionDirection:null,_abortCursorAnimation:!1,__widthOfSpace:[],inCompositionMode:!1,initialize:function(f,h){this.callSuper("initialize",f,h),this.initBehavior()},setSelectionStart:function(f){f=Math.max(f,0),this._updateAndFire("selectionStart",f)},setSelectionEnd:function(f){f=Math.min(f,this.text.length),this._updateAndFire("selectionEnd",f)},_updateAndFire:function(f,h){this[f]!==h&&(this._fireSelectionChanged(),this[f]=h),this._updateTextarea()},_fireSelectionChanged:function(){this.fire("selection:changed"),this.canvas&&this.canvas.fire("text:selection:changed",{target:this})},initDimensions:function(){this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this.callSuper("initDimensions")},render:function(f){this.clearContextTop(),this.callSuper("render",f),this.cursorOffsetCache={},this.renderCursorOrSelection()},_render:function(f){this.callSuper("_render",f)},clearContextTop:function(f){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var h=this.canvas.contextTop,l=this.canvas.viewportTransform;h.save(),h.transform(l[0],l[1],l[2],l[3],l[4],l[5]),this.transform(h),this._clearTextArea(h),f||h.restore()}},renderCursorOrSelection:function(){if(!(!this.isEditing||!this.canvas||!this.canvas.contextTop)){var f=this._getCursorBoundaries(),h=this.canvas.contextTop;this.clearContextTop(!0),this.selectionStart===this.selectionEnd?this.renderCursor(f,h):this.renderSelection(f,h),h.restore()}},_clearTextArea:function(f){var h=this.width+4,l=this.height+4;f.clearRect(-h/2,-l/2,h,l)},_getCursorBoundaries:function(f){typeof f=="undefined"&&(f=this.selectionStart);var h=this._getLeftOffset(),l=this._getTopOffset(),n=this._getCursorBoundariesOffsets(f);return{left:h,top:l,leftOffset:n.left,topOffset:n.top}},_getCursorBoundariesOffsets:function(f){if(this.cursorOffsetCache&&"top"in this.cursorOffsetCache)return this.cursorOffsetCache;var h,l,n,e=0,r=0,i,u=this.get2DCursorLocation(f);n=u.charIndex,l=u.lineIndex;for(var o=0;o<l;o++)e+=this.getHeightOfLine(o);h=this._getLineLeftOffset(l);var d=this.__charBounds[l][n];return d&&(r=d.left),this.charSpacing!==0&&n===this._textLines[l].length&&(r-=this._getWidthOfCharSpacing()),i={top:e,left:h+(r>0?r:0)},this.direction==="rtl"&&(i.left*=-1),this.cursorOffsetCache=i,this.cursorOffsetCache},renderCursor:function(f,h){var l=this.get2DCursorLocation(),n=l.lineIndex,e=l.charIndex>0?l.charIndex-1:0,r=this.getValueOfPropertyAt(n,e,"fontSize"),i=this.scaleX*this.canvas.getZoom(),u=this.cursorWidth/i,o=f.topOffset,d=this.getValueOfPropertyAt(n,e,"deltaY");o+=(1-this._fontSizeFraction)*this.getHeightOfLine(n)/this.lineHeight-r*(1-this._fontSizeFraction),this.inCompositionMode&&this.renderSelection(f,h),h.fillStyle=this.cursorColor||this.getValueOfPropertyAt(n,e,"fill"),h.globalAlpha=this.__isMousedown?1:this._currentCursorOpacity,h.fillRect(f.left+f.leftOffset-u/2,o+f.top+d,u,r)},renderSelection:function(f,h){for(var l=this.inCompositionMode?this.hiddenTextarea.selectionStart:this.selectionStart,n=this.inCompositionMode?this.hiddenTextarea.selectionEnd:this.selectionEnd,e=this.textAlign.indexOf("justify")!==-1,r=this.get2DCursorLocation(l),i=this.get2DCursorLocation(n),u=r.lineIndex,o=i.lineIndex,d=r.charIndex<0?0:r.charIndex,b=i.charIndex<0?0:i.charIndex,T=u;T<=o;T++){var O=this._getLineLeftOffset(T)||0,Y=this.getHeightOfLine(T),et=0,yt=0,Zt=0;if(T===u&&(yt=this.__charBounds[u][d].left),T>=u&&T<o)Zt=e&&!this.isEndOfWrapping(T)?this.width:this.getLineWidth(T)||5;else if(T===o)if(b===0)Zt=this.__charBounds[o][b].left;else{var fe=this._getWidthOfCharSpacing();Zt=this.__charBounds[o][b-1].left+this.__charBounds[o][b-1].width-fe}et=Y,(this.lineHeight<1||T===o&&this.lineHeight>1)&&(Y/=this.lineHeight);var Ue=f.left+O+yt,sr=Zt-yt,cr=Y,Ke=0;this.inCompositionMode?(h.fillStyle=this.compositionColor||"black",cr=1,Ke=Y):h.fillStyle=this.selectionColor,this.direction==="rtl"&&(Ue=this.width-Ue-sr),h.fillRect(Ue,f.top+f.topOffset+Ke,sr,cr),f.topOffset+=et}},getCurrentCharFontSize:function(){var f=this._getCurrentCharIndex();return this.getValueOfPropertyAt(f.l,f.c,"fontSize")},getCurrentCharColor:function(){var f=this._getCurrentCharIndex();return this.getValueOfPropertyAt(f.l,f.c,"fill")},_getCurrentCharIndex:function(){var f=this.get2DCursorLocation(this.selectionStart,!0),h=f.charIndex>0?f.charIndex-1:0;return{l:f.lineIndex,c:h}}}),C.IText.fromObject=function(a,f){if(L(a),a.styles)for(var h in a.styles)for(var l in a.styles[h])L(a.styles[h][l]);C.Object._fromObject("IText",a,f,"text")}}(),function(){var L=C.util.object.clone;C.util.object.extend(C.IText.prototype,{initBehavior:function(){this.initAddedHandler(),this.initRemovedHandler(),this.initCursorSelectionHandlers(),this.initDoubleClickSimulation(),this.mouseMoveHandler=this.mouseMoveHandler.bind(this)},onDeselect:function(){this.isEditing&&this.exitEditing(),this.selected=!1},initAddedHandler:function(){var f=this;this.on("added",function(){var h=f.canvas;h&&(h._hasITextHandlers||(h._hasITextHandlers=!0,f._initCanvasHandlers(h)),h._iTextInstances=h._iTextInstances||[],h._iTextInstances.push(f))})},initRemovedHandler:function(){var f=this;this.on("removed",function(){var h=f.canvas;h&&(h._iTextInstances=h._iTextInstances||[],C.util.removeFromArray(h._iTextInstances,f),h._iTextInstances.length===0&&(h._hasITextHandlers=!1,f._removeCanvasHandlers(h)))})},_initCanvasHandlers:function(f){f._mouseUpITextHandler=function(){f._iTextInstances&&f._iTextInstances.forEach(function(h){h.__isMousedown=!1})},f.on("mouse:up",f._mouseUpITextHandler)},_removeCanvasHandlers:function(f){f.off("mouse:up",f._mouseUpITextHandler)},_tick:function(){this._currentTickState=this._animateCursor(this,1,this.cursorDuration,"_onTickComplete")},_animateCursor:function(f,h,l,n){var e;return e={isAborted:!1,abort:function(){this.isAborted=!0}},f.animate("_currentCursorOpacity",h,{duration:l,onComplete:function(){e.isAborted||f[n]()},onChange:function(){f.canvas&&f.selectionStart===f.selectionEnd&&f.renderCursorOrSelection()},abort:function(){return e.isAborted}}),e},_onTickComplete:function(){var f=this;this._cursorTimeout1&&clearTimeout(this._cursorTimeout1),this._cursorTimeout1=setTimeout(function(){f._currentTickCompleteState=f._animateCursor(f,0,this.cursorDuration/2,"_tick")},100)},initDelayedCursor:function(f){var h=this,l=f?0:this.cursorDelay;this.abortCursorAnimation(),this._currentCursorOpacity=1,this._cursorTimeout2=setTimeout(function(){h._tick()},l)},abortCursorAnimation:function(){var f=this._currentTickState||this._currentTickCompleteState,h=this.canvas;this._currentTickState&&this._currentTickState.abort(),this._currentTickCompleteState&&this._currentTickCompleteState.abort(),clearTimeout(this._cursorTimeout1),clearTimeout(this._cursorTimeout2),this._currentCursorOpacity=0,f&&h&&h.clearContext(h.contextTop||h.contextContainer)},selectAll:function(){return this.selectionStart=0,this.selectionEnd=this._text.length,this._fireSelectionChanged(),this._updateTextarea(),this},getSelectedText:function(){return this._text.slice(this.selectionStart,this.selectionEnd).join("")},findWordBoundaryLeft:function(f){var h=0,l=f-1;if(this._reSpace.test(this._text[l]))for(;this._reSpace.test(this._text[l]);)h++,l--;for(;/\S/.test(this._text[l])&&l>-1;)h++,l--;return f-h},findWordBoundaryRight:function(f){var h=0,l=f;if(this._reSpace.test(this._text[l]))for(;this._reSpace.test(this._text[l]);)h++,l++;for(;/\S/.test(this._text[l])&&l<this._text.length;)h++,l++;return f+h},findLineBoundaryLeft:function(f){for(var h=0,l=f-1;!/\n/.test(this._text[l])&&l>-1;)h++,l--;return f-h},findLineBoundaryRight:function(f){for(var h=0,l=f;!/\n/.test(this._text[l])&&l<this._text.length;)h++,l++;return f+h},searchWordBoundary:function(f,h){for(var l=this._text,n=this._reSpace.test(l[f])?f-1:f,e=l[n],r=C.reNonWord;!r.test(e)&&n>0&&n<l.length;)n+=h,e=l[n];return r.test(e)&&(n+=h===1?0:1),n},selectWord:function(f){f=f||this.selectionStart;var h=this.searchWordBoundary(f,-1),l=this.searchWordBoundary(f,1);this.selectionStart=h,this.selectionEnd=l,this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()},selectLine:function(f){f=f||this.selectionStart;var h=this.findLineBoundaryLeft(f),l=this.findLineBoundaryRight(f);return this.selectionStart=h,this.selectionEnd=l,this._fireSelectionChanged(),this._updateTextarea(),this},enterEditing:function(f){if(!(this.isEditing||!this.editable))return this.canvas&&(this.canvas.calcOffset(),this.exitEditingOnOthers(this.canvas)),this.isEditing=!0,this.initHiddenTextarea(f),this.hiddenTextarea.focus(),this.hiddenTextarea.value=this.text,this._updateTextarea(),this._saveEditingProps(),this._setEditingProps(),this._textBeforeEdit=this.text,this._tick(),this.fire("editing:entered"),this._fireSelectionChanged(),this.canvas?(this.canvas.fire("text:editing:entered",{target:this}),this.initMouseMoveHandler(),this.canvas.requestRenderAll(),this):this},exitEditingOnOthers:function(f){f._iTextInstances&&f._iTextInstances.forEach(function(h){h.selected=!1,h.isEditing&&h.exitEditing()})},initMouseMoveHandler:function(){this.canvas.on("mouse:move",this.mouseMoveHandler)},mouseMoveHandler:function(f){if(!(!this.__isMousedown||!this.isEditing)){var h=this.getSelectionStartFromPointer(f.e),l=this.selectionStart,n=this.selectionEnd;(h!==this.__selectionStartOnMouseDown||l===n)&&(l===h||n===h)||(h>this.__selectionStartOnMouseDown?(this.selectionStart=this.__selectionStartOnMouseDown,this.selectionEnd=h):(this.selectionStart=h,this.selectionEnd=this.__selectionStartOnMouseDown),(this.selectionStart!==l||this.selectionEnd!==n)&&(this.restartCursorIfNeeded(),this._fireSelectionChanged(),this._updateTextarea(),this.renderCursorOrSelection()))}},_setEditingProps:function(){this.hoverCursor="text",this.canvas&&(this.canvas.defaultCursor=this.canvas.moveCursor="text"),this.borderColor=this.editingBorderColor,this.hasControls=this.selectable=!1,this.lockMovementX=this.lockMovementY=!0},fromStringToGraphemeSelection:function(f,h,l){var n=l.slice(0,f),e=C.util.string.graphemeSplit(n).length;if(f===h)return{selectionStart:e,selectionEnd:e};var r=l.slice(f,h),i=C.util.string.graphemeSplit(r).length;return{selectionStart:e,selectionEnd:e+i}},fromGraphemeToStringSelection:function(f,h,l){var n=l.slice(0,f),e=n.join("").length;if(f===h)return{selectionStart:e,selectionEnd:e};var r=l.slice(f,h),i=r.join("").length;return{selectionStart:e,selectionEnd:e+i}},_updateTextarea:function(){if(this.cursorOffsetCache={},!!this.hiddenTextarea){if(!this.inCompositionMode){var f=this.fromGraphemeToStringSelection(this.selectionStart,this.selectionEnd,this._text);this.hiddenTextarea.selectionStart=f.selectionStart,this.hiddenTextarea.selectionEnd=f.selectionEnd}this.updateTextareaPosition()}},updateFromTextArea:function(){if(!!this.hiddenTextarea){this.cursorOffsetCache={},this.text=this.hiddenTextarea.value,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords());var f=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value);this.selectionEnd=this.selectionStart=f.selectionEnd,this.inCompositionMode||(this.selectionStart=f.selectionStart),this.updateTextareaPosition()}},updateTextareaPosition:function(){if(this.selectionStart===this.selectionEnd){var f=this._calcTextareaPosition();this.hiddenTextarea.style.left=f.left,this.hiddenTextarea.style.top=f.top}},_calcTextareaPosition:function(){if(!this.canvas)return{x:1,y:1};var f=this.inCompositionMode?this.compositionStart:this.selectionStart,h=this._getCursorBoundaries(f),l=this.get2DCursorLocation(f),n=l.lineIndex,e=l.charIndex,r=this.getValueOfPropertyAt(n,e,"fontSize")*this.lineHeight,i=h.leftOffset,u=this.calcTransformMatrix(),o={x:h.left+i,y:h.top+h.topOffset+r},d=this.canvas.getRetinaScaling(),b=this.canvas.upperCanvasEl,T=b.width/d,O=b.height/d,Y=T-r,et=O-r,yt=b.clientWidth/T,Zt=b.clientHeight/O;return o=C.util.transformPoint(o,u),o=C.util.transformPoint(o,this.canvas.viewportTransform),o.x*=yt,o.y*=Zt,o.x<0&&(o.x=0),o.x>Y&&(o.x=Y),o.y<0&&(o.y=0),o.y>et&&(o.y=et),o.x+=this.canvas._offset.left,o.y+=this.canvas._offset.top,{left:o.x+"px",top:o.y+"px",fontSize:r+"px",charHeight:r}},_saveEditingProps:function(){this._savedProps={hasControls:this.hasControls,borderColor:this.borderColor,lockMovementX:this.lockMovementX,lockMovementY:this.lockMovementY,hoverCursor:this.hoverCursor,selectable:this.selectable,defaultCursor:this.canvas&&this.canvas.defaultCursor,moveCursor:this.canvas&&this.canvas.moveCursor}},_restoreEditingProps:function(){!this._savedProps||(this.hoverCursor=this._savedProps.hoverCursor,this.hasControls=this._savedProps.hasControls,this.borderColor=this._savedProps.borderColor,this.selectable=this._savedProps.selectable,this.lockMovementX=this._savedProps.lockMovementX,this.lockMovementY=this._savedProps.lockMovementY,this.canvas&&(this.canvas.defaultCursor=this._savedProps.defaultCursor,this.canvas.moveCursor=this._savedProps.moveCursor))},exitEditing:function(){var f=this._textBeforeEdit!==this.text,h=this.hiddenTextarea;return this.selected=!1,this.isEditing=!1,this.selectionEnd=this.selectionStart,h&&(h.blur&&h.blur(),h.parentNode&&h.parentNode.removeChild(h)),this.hiddenTextarea=null,this.abortCursorAnimation(),this._restoreEditingProps(),this._currentCursorOpacity=0,this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this.fire("editing:exited"),f&&this.fire("modified"),this.canvas&&(this.canvas.off("mouse:move",this.mouseMoveHandler),this.canvas.fire("text:editing:exited",{target:this}),f&&this.canvas.fire("object:modified",{target:this})),this},_removeExtraneousStyles:function(){for(var f in this.styles)this._textLines[f]||delete this.styles[f]},removeStyleFromTo:function(f,h){var l=this.get2DCursorLocation(f,!0),n=this.get2DCursorLocation(h,!0),e=l.lineIndex,r=l.charIndex,i=n.lineIndex,u=n.charIndex,o,d;if(e!==i){if(this.styles[e])for(o=r;o<this._unwrappedTextLines[e].length;o++)delete this.styles[e][o];if(this.styles[i])for(o=u;o<this._unwrappedTextLines[i].length;o++)d=this.styles[i][o],d&&(this.styles[e]||(this.styles[e]={}),this.styles[e][r+o-u]=d);for(o=e+1;o<=i;o++)delete this.styles[o];this.shiftLineStyles(i,e-i)}else if(this.styles[e]){d=this.styles[e];var b=u-r,T,O;for(o=r;o<u;o++)delete d[o];for(O in this.styles[e])T=parseInt(O,10),T>=u&&(d[T-b]=d[O],delete d[O])}},shiftLineStyles:function(f,h){var l=L(this.styles);for(var n in this.styles){var e=parseInt(n,10);e>f&&(this.styles[e+h]=l[e],l[e-h]||delete this.styles[e])}},restartCursorIfNeeded:function(){(!this._currentTickState||this._currentTickState.isAborted||!this._currentTickCompleteState||this._currentTickCompleteState.isAborted)&&this.initDelayedCursor()},insertNewlineStyleObject:function(f,h,l,n){var e,r={},i=!1,u=this._unwrappedTextLines[f].length===h;l||(l=1),this.shiftLineStyles(f,l),this.styles[f]&&(e=this.styles[f][h===0?h:h-1]);for(var o in this.styles[f]){var d=parseInt(o,10);d>=h&&(i=!0,r[d-h]=this.styles[f][o],u&&h===0||delete this.styles[f][o])}var b=!1;for(i&&!u&&(this.styles[f+l]=r,b=!0),b&&l--;l>0;)n&&n[l-1]?this.styles[f+l]={0:L(n[l-1])}:e?this.styles[f+l]={0:L(e)}:delete this.styles[f+l],l--;this._forceClearCache=!0},insertCharStyleObject:function(f,h,l,n){this.styles||(this.styles={});var e=this.styles[f],r=e?L(e):{};l||(l=1);for(var i in r){var u=parseInt(i,10);u>=h&&(e[u+l]=r[u],r[u-l]||delete e[u])}if(this._forceClearCache=!0,n){for(;l--;)!Object.keys(n[l]).length||(this.styles[f]||(this.styles[f]={}),this.styles[f][h+l]=L(n[l]));return}if(!!e)for(var o=e[h?h-1:1];o&&l--;)this.styles[f][h+l]=L(o)},insertNewStyleBlock:function(f,h,l){for(var n=this.get2DCursorLocation(h,!0),e=[0],r=0,i=0;i<f.length;i++)f[i]===`
`?(r++,e[r]=0):e[r]++;e[0]>0&&(this.insertCharStyleObject(n.lineIndex,n.charIndex,e[0],l),l=l&&l.slice(e[0]+1)),r&&this.insertNewlineStyleObject(n.lineIndex,n.charIndex+e[0],r);for(var i=1;i<r;i++)e[i]>0?this.insertCharStyleObject(n.lineIndex+i,0,e[i],l):l&&(this.styles[n.lineIndex+i][0]=l[0]),l=l&&l.slice(e[i]+1);e[i]>0&&this.insertCharStyleObject(n.lineIndex+i,0,e[i],l)},setSelectionStartEndWithShift:function(f,h,l){l<=f?(h===f?this._selectionDirection="left":this._selectionDirection==="right"&&(this._selectionDirection="left",this.selectionEnd=f),this.selectionStart=l):l>f&&l<h?this._selectionDirection==="right"?this.selectionEnd=l:this.selectionStart=l:(h===f?this._selectionDirection="right":this._selectionDirection==="left"&&(this._selectionDirection="right",this.selectionStart=h),this.selectionEnd=l)},setSelectionInBoundaries:function(){var f=this.text.length;this.selectionStart>f?this.selectionStart=f:this.selectionStart<0&&(this.selectionStart=0),this.selectionEnd>f?this.selectionEnd=f:this.selectionEnd<0&&(this.selectionEnd=0)}})}(),C.util.object.extend(C.IText.prototype,{initDoubleClickSimulation:function(){this.__lastClickTime=+new Date,this.__lastLastClickTime=+new Date,this.__lastPointer={},this.on("mousedown",this.onMouseDown)},onMouseDown:function(a){if(!!this.canvas){this.__newClickTime=+new Date;var f=a.pointer;this.isTripleClick(f)&&(this.fire("tripleclick",a),this._stopEvent(a.e)),this.__lastLastClickTime=this.__lastClickTime,this.__lastClickTime=this.__newClickTime,this.__lastPointer=f,this.__lastIsEditing=this.isEditing,this.__lastSelected=this.selected}},isTripleClick:function(a){return this.__newClickTime-this.__lastClickTime<500&&this.__lastClickTime-this.__lastLastClickTime<500&&this.__lastPointer.x===a.x&&this.__lastPointer.y===a.y},_stopEvent:function(a){a.preventDefault&&a.preventDefault(),a.stopPropagation&&a.stopPropagation()},initCursorSelectionHandlers:function(){this.initMousedownHandler(),this.initMouseupHandler(),this.initClicks()},doubleClickHandler:function(a){!this.isEditing||this.selectWord(this.getSelectionStartFromPointer(a.e))},tripleClickHandler:function(a){!this.isEditing||this.selectLine(this.getSelectionStartFromPointer(a.e))},initClicks:function(){this.on("mousedblclick",this.doubleClickHandler),this.on("tripleclick",this.tripleClickHandler)},_mouseDownHandler:function(a){!this.canvas||!this.editable||a.e.button&&a.e.button!==1||(this.__isMousedown=!0,this.selected&&(this.inCompositionMode=!1,this.setCursorByClick(a.e)),this.isEditing&&(this.__selectionStartOnMouseDown=this.selectionStart,this.selectionStart===this.selectionEnd&&this.abortCursorAnimation(),this.renderCursorOrSelection()))},_mouseDownHandlerBefore:function(a){!this.canvas||!this.editable||a.e.button&&a.e.button!==1||(this.selected=this===this.canvas._activeObject)},initMousedownHandler:function(){this.on("mousedown",this._mouseDownHandler),this.on("mousedown:before",this._mouseDownHandlerBefore)},initMouseupHandler:function(){this.on("mouseup",this.mouseUpHandler)},mouseUpHandler:function(a){if(this.__isMousedown=!1,!(!this.editable||this.group||a.transform&&a.transform.actionPerformed||a.e.button&&a.e.button!==1)){if(this.canvas){var f=this.canvas._activeObject;if(f&&f!==this)return}this.__lastSelected&&!this.__corner?(this.selected=!1,this.__lastSelected=!1,this.enterEditing(a.e),this.selectionStart===this.selectionEnd?this.initDelayedCursor(!0):this.renderCursorOrSelection()):this.selected=!0}},setCursorByClick:function(a){var f=this.getSelectionStartFromPointer(a),h=this.selectionStart,l=this.selectionEnd;a.shiftKey?this.setSelectionStartEndWithShift(h,l,f):(this.selectionStart=f,this.selectionEnd=f),this.isEditing&&(this._fireSelectionChanged(),this._updateTextarea())},getSelectionStartFromPointer:function(a){for(var f=this.getLocalPointer(a),h=0,l=0,n=0,e=0,r=0,i,u,o=0,d=this._textLines.length;o<d&&n<=f.y;o++)n+=this.getHeightOfLine(o)*this.scaleY,r=o,o>0&&(e+=this._textLines[o-1].length+this.missingNewlineOffset(o-1));i=this._getLineLeftOffset(r),l=i*this.scaleX,u=this._textLines[r],this.direction==="rtl"&&(f.x=this.width*this.scaleX-f.x+l);for(var b=0,T=u.length;b<T&&(h=l,l+=this.__charBounds[r][b].kernedWidth*this.scaleX,l<=f.x);b++)e++;return this._getNewSelectionStartFromOffset(f,h,l,e,T)},_getNewSelectionStartFromOffset:function(a,f,h,l,n){var e=a.x-f,r=h-a.x,i=r>e||r<0?0:1,u=l+i;return this.flipX&&(u=n-u),u>this._text.length&&(u=this._text.length),u}}),C.util.object.extend(C.IText.prototype,{initHiddenTextarea:function(){this.hiddenTextarea=C.document.createElement("textarea"),this.hiddenTextarea.setAttribute("autocapitalize","off"),this.hiddenTextarea.setAttribute("autocorrect","off"),this.hiddenTextarea.setAttribute("autocomplete","off"),this.hiddenTextarea.setAttribute("spellcheck","false"),this.hiddenTextarea.setAttribute("data-fabric-hiddentextarea",""),this.hiddenTextarea.setAttribute("wrap","off");var a=this._calcTextareaPosition();this.hiddenTextarea.style.cssText="position: absolute; top: "+a.top+"; left: "+a.left+"; z-index: -999; opacity: 0; width: 1px; height: 1px; font-size: 1px; padding\uFF70top: "+a.fontSize+";",this.hiddenTextareaContainer?this.hiddenTextareaContainer.appendChild(this.hiddenTextarea):C.document.body.appendChild(this.hiddenTextarea),C.util.addListener(this.hiddenTextarea,"keydown",this.onKeyDown.bind(this)),C.util.addListener(this.hiddenTextarea,"keyup",this.onKeyUp.bind(this)),C.util.addListener(this.hiddenTextarea,"input",this.onInput.bind(this)),C.util.addListener(this.hiddenTextarea,"copy",this.copy.bind(this)),C.util.addListener(this.hiddenTextarea,"cut",this.copy.bind(this)),C.util.addListener(this.hiddenTextarea,"paste",this.paste.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionstart",this.onCompositionStart.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionupdate",this.onCompositionUpdate.bind(this)),C.util.addListener(this.hiddenTextarea,"compositionend",this.onCompositionEnd.bind(this)),!this._clickHandlerInitialized&&this.canvas&&(C.util.addListener(this.canvas.upperCanvasEl,"click",this.onClick.bind(this)),this._clickHandlerInitialized=!0)},keysMap:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorRight",36:"moveCursorLeft",37:"moveCursorLeft",38:"moveCursorUp",39:"moveCursorRight",40:"moveCursorDown"},keysMapRtl:{9:"exitEditing",27:"exitEditing",33:"moveCursorUp",34:"moveCursorDown",35:"moveCursorLeft",36:"moveCursorRight",37:"moveCursorRight",38:"moveCursorUp",39:"moveCursorLeft",40:"moveCursorDown"},ctrlKeysMapUp:{67:"copy",88:"cut"},ctrlKeysMapDown:{65:"selectAll"},onClick:function(){this.hiddenTextarea&&this.hiddenTextarea.focus()},onKeyDown:function(a){if(!!this.isEditing){var f=this.direction==="rtl"?this.keysMapRtl:this.keysMap;if(a.keyCode in f)this[f[a.keyCode]](a);else if(a.keyCode in this.ctrlKeysMapDown&&(a.ctrlKey||a.metaKey))this[this.ctrlKeysMapDown[a.keyCode]](a);else return;a.stopImmediatePropagation(),a.preventDefault(),a.keyCode>=33&&a.keyCode<=40?(this.inCompositionMode=!1,this.clearContextTop(),this.renderCursorOrSelection()):this.canvas&&this.canvas.requestRenderAll()}},onKeyUp:function(a){if(!this.isEditing||this._copyDone||this.inCompositionMode){this._copyDone=!1;return}if(a.keyCode in this.ctrlKeysMapUp&&(a.ctrlKey||a.metaKey))this[this.ctrlKeysMapUp[a.keyCode]](a);else return;a.stopImmediatePropagation(),a.preventDefault(),this.canvas&&this.canvas.requestRenderAll()},onInput:function(a){var f=this.fromPaste;if(this.fromPaste=!1,a&&a.stopPropagation(),!!this.isEditing){var h=this._splitTextIntoLines(this.hiddenTextarea.value).graphemeText,l=this._text.length,n=h.length,e,r,i=n-l,u=this.selectionStart,o=this.selectionEnd,d=u!==o,b,T,O;if(this.hiddenTextarea.value===""){this.styles={},this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll());return}var Y=this.fromStringToGraphemeSelection(this.hiddenTextarea.selectionStart,this.hiddenTextarea.selectionEnd,this.hiddenTextarea.value),et=u>Y.selectionStart;d?(e=this._text.slice(u,o),i+=o-u):n<l&&(et?e=this._text.slice(o+i,o):e=this._text.slice(u,u-i)),r=h.slice(Y.selectionEnd-i,Y.selectionEnd),e&&e.length&&(r.length&&(b=this.getSelectionStyles(u,u+1,!1),b=r.map(function(){return b[0]})),d?(T=u,O=o):et?(T=o-e.length,O=o):(T=o,O=o+e.length),this.removeStyleFromTo(T,O)),r.length&&(f&&r.join("")===C.copiedText&&!C.disableStyleCopyPaste&&(b=C.copiedTextStyle),this.insertNewStyleBlock(r,u,b)),this.updateFromTextArea(),this.fire("changed"),this.canvas&&(this.canvas.fire("text:changed",{target:this}),this.canvas.requestRenderAll())}},onCompositionStart:function(){this.inCompositionMode=!0},onCompositionEnd:function(){this.inCompositionMode=!1},onCompositionUpdate:function(a){this.compositionStart=a.target.selectionStart,this.compositionEnd=a.target.selectionEnd,this.updateTextareaPosition()},copy:function(){this.selectionStart!==this.selectionEnd&&(C.copiedText=this.getSelectedText(),C.disableStyleCopyPaste?C.copiedTextStyle=null:C.copiedTextStyle=this.getSelectionStyles(this.selectionStart,this.selectionEnd,!0),this._copyDone=!0)},paste:function(){this.fromPaste=!0},_getClipboardData:function(a){return a&&a.clipboardData||C.window.clipboardData},_getWidthBeforeCursor:function(a,f){var h=this._getLineLeftOffset(a),l;return f>0&&(l=this.__charBounds[a][f-1],h+=l.left+l.width),h},getDownCursorOffset:function(a,f){var h=this._getSelectionForOffset(a,f),l=this.get2DCursorLocation(h),n=l.lineIndex;if(n===this._textLines.length-1||a.metaKey||a.keyCode===34)return this._text.length-h;var e=l.charIndex,r=this._getWidthBeforeCursor(n,e),i=this._getIndexOnLine(n+1,r),u=this._textLines[n].slice(e);return u.length+i+1+this.missingNewlineOffset(n)},_getSelectionForOffset:function(a,f){return a.shiftKey&&this.selectionStart!==this.selectionEnd&&f?this.selectionEnd:this.selectionStart},getUpCursorOffset:function(a,f){var h=this._getSelectionForOffset(a,f),l=this.get2DCursorLocation(h),n=l.lineIndex;if(n===0||a.metaKey||a.keyCode===33)return-h;var e=l.charIndex,r=this._getWidthBeforeCursor(n,e),i=this._getIndexOnLine(n-1,r),u=this._textLines[n].slice(0,e),o=this.missingNewlineOffset(n-1);return-this._textLines[n-1].length+i-u.length+(1-o)},_getIndexOnLine:function(a,f){for(var h=this._textLines[a],l=this._getLineLeftOffset(a),n=l,e=0,r,i,u=0,o=h.length;u<o;u++)if(r=this.__charBounds[a][u].width,n+=r,n>f){i=!0;var d=n-r,b=n,T=Math.abs(d-f),O=Math.abs(b-f);e=O<T?u:u-1;break}return i||(e=h.length-1),e},moveCursorDown:function(a){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorUpOrDown("Down",a)},moveCursorUp:function(a){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorUpOrDown("Up",a)},_moveCursorUpOrDown:function(a,f){var h="get"+a+"CursorOffset",l=this[h](f,this._selectionDirection==="right");f.shiftKey?this.moveCursorWithShift(l):this.moveCursorWithoutShift(l),l!==0&&(this.setSelectionInBoundaries(),this.abortCursorAnimation(),this._currentCursorOpacity=1,this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorWithShift:function(a){var f=this._selectionDirection==="left"?this.selectionStart+a:this.selectionEnd+a;return this.setSelectionStartEndWithShift(this.selectionStart,this.selectionEnd,f),a!==0},moveCursorWithoutShift:function(a){return a<0?(this.selectionStart+=a,this.selectionEnd=this.selectionStart):(this.selectionEnd+=a,this.selectionStart=this.selectionEnd),a!==0},moveCursorLeft:function(a){this.selectionStart===0&&this.selectionEnd===0||this._moveCursorLeftOrRight("Left",a)},_move:function(a,f,h){var l;if(a.altKey)l=this["findWordBoundary"+h](this[f]);else if(a.metaKey||a.keyCode===35||a.keyCode===36)l=this["findLineBoundary"+h](this[f]);else return this[f]+=h==="Left"?-1:1,!0;if(typeof l!==void 0&&this[f]!==l)return this[f]=l,!0},_moveLeft:function(a,f){return this._move(a,f,"Left")},_moveRight:function(a,f){return this._move(a,f,"Right")},moveCursorLeftWithoutShift:function(a){var f=!0;return this._selectionDirection="left",this.selectionEnd===this.selectionStart&&this.selectionStart!==0&&(f=this._moveLeft(a,"selectionStart")),this.selectionEnd=this.selectionStart,f},moveCursorLeftWithShift:function(a){if(this._selectionDirection==="right"&&this.selectionStart!==this.selectionEnd)return this._moveLeft(a,"selectionEnd");if(this.selectionStart!==0)return this._selectionDirection="left",this._moveLeft(a,"selectionStart")},moveCursorRight:function(a){this.selectionStart>=this._text.length&&this.selectionEnd>=this._text.length||this._moveCursorLeftOrRight("Right",a)},_moveCursorLeftOrRight:function(a,f){var h="moveCursor"+a+"With";this._currentCursorOpacity=1,f.shiftKey?h+="Shift":h+="outShift",this[h](f)&&(this.abortCursorAnimation(),this.initDelayedCursor(),this._fireSelectionChanged(),this._updateTextarea())},moveCursorRightWithShift:function(a){if(this._selectionDirection==="left"&&this.selectionStart!==this.selectionEnd)return this._moveRight(a,"selectionStart");if(this.selectionEnd!==this._text.length)return this._selectionDirection="right",this._moveRight(a,"selectionEnd")},moveCursorRightWithoutShift:function(a){var f=!0;return this._selectionDirection="right",this.selectionStart===this.selectionEnd?(f=this._moveRight(a,"selectionStart"),this.selectionEnd=this.selectionStart):this.selectionStart=this.selectionEnd,f},removeChars:function(a,f){typeof f=="undefined"&&(f=a+1),this.removeStyleFromTo(a,f),this._text.splice(a,f-a),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()},insertChars:function(a,f,h,l){typeof l=="undefined"&&(l=h),l>h&&this.removeStyleFromTo(h,l);var n=C.util.string.graphemeSplit(a);this.insertNewStyleBlock(n,h,f),this._text=[].concat(this._text.slice(0,h),n,this._text.slice(l)),this.text=this._text.join(""),this.set("dirty",!0),this._shouldClearDimensionCache()&&(this.initDimensions(),this.setCoords()),this._removeExtraneousStyles()}}),function(){var L=C.util.toFixed,a=/  +/g;C.util.object.extend(C.Text.prototype,{_toSVG:function(){var h=this._getSVGLeftTopOffsets(),l=this._getSVGTextAndBg(h.textTop,h.textLeft);return this._wrapSVGTextAndBg(l)},toSVG:function(h){return this._createBaseSVGMarkup(this._toSVG(),{reviver:h,noStyle:!0,withShadow:!0})},_getSVGLeftTopOffsets:function(){return{textLeft:-this.width/2,textTop:-this.height/2,lineTop:this.getHeightOfLine(0)}},_wrapSVGTextAndBg:function(h){var l=!0,n=this.getSvgTextDecoration(this);return[h.textBgRects.join(""),'		<text xml:space="preserve" ',this.fontFamily?'font-family="'+this.fontFamily.replace(/"/g,"'")+'" ':"",this.fontSize?'font-size="'+this.fontSize+'" ':"",this.fontStyle?'font-style="'+this.fontStyle+'" ':"",this.fontWeight?'font-weight="'+this.fontWeight+'" ':"",n?'text-decoration="'+n+'" ':"",'style="',this.getSvgStyles(l),'"',this.addPaintOrder()," >",h.textSpans.join(""),`</text>
`]},_getSVGTextAndBg:function(h,l){var n=[],e=[],r=h,i;this._setSVGBg(e);for(var u=0,o=this._textLines.length;u<o;u++)i=this._getLineLeftOffset(u),(this.textBackgroundColor||this.styleHas("textBackgroundColor",u))&&this._setSVGTextLineBg(e,u,l+i,r),this._setSVGTextLineText(n,u,l+i,r),r+=this.getHeightOfLine(u);return{textSpans:n,textBgRects:e}},_createTextCharSpan:function(h,l,n,e){var r=h!==h.trim()||h.match(a),i=this.getSvgSpanStyles(l,r),u=i?'style="'+i+'"':"",o=l.deltaY,d="",b=C.Object.NUM_FRACTION_DIGITS;return o&&(d=' dy="'+L(o,b)+'" '),['<tspan x="',L(n,b),'" y="',L(e,b),'" ',d,u,">",C.util.string.escapeXml(h),"</tspan>"].join("")},_setSVGTextLineText:function(h,l,n,e){var r=this.getHeightOfLine(l),i=this.textAlign.indexOf("justify")!==-1,u,o,d="",b,T,O=0,Y=this._textLines[l],et;e+=r*(1-this._fontSizeFraction)/this.lineHeight;for(var yt=0,Zt=Y.length-1;yt<=Zt;yt++)et=yt===Zt||this.charSpacing,d+=Y[yt],b=this.__charBounds[l][yt],O===0?(n+=b.kernedWidth-b.width,O+=b.width):O+=b.kernedWidth,i&&!et&&this._reSpaceAndTab.test(Y[yt])&&(et=!0),et||(u=u||this.getCompleteStyleDeclaration(l,yt),o=this.getCompleteStyleDeclaration(l,yt+1),et=this._hasStyleChangedForSvg(u,o)),et&&(T=this._getStyleDeclaration(l,yt)||{},h.push(this._createTextCharSpan(d,T,n,e)),d="",u=o,n+=O,O=0)},_pushTextBgRect:function(h,l,n,e,r,i){var u=C.Object.NUM_FRACTION_DIGITS;h.push("		<rect ",this._getFillAttributes(l),' x="',L(n,u),'" y="',L(e,u),'" width="',L(r,u),'" height="',L(i,u),`"></rect>
`)},_setSVGTextLineBg:function(h,l,n,e){for(var r=this._textLines[l],i=this.getHeightOfLine(l)/this.lineHeight,u=0,o=0,d,b,T=this.getValueOfPropertyAt(l,0,"textBackgroundColor"),O=0,Y=r.length;O<Y;O++)d=this.__charBounds[l][O],b=this.getValueOfPropertyAt(l,O,"textBackgroundColor"),b!==T?(T&&this._pushTextBgRect(h,T,n+o,e,u,i),o=d.left,u=d.width,T=b):u+=d.kernedWidth;b&&this._pushTextBgRect(h,b,n+o,e,u,i)},_getFillAttributes:function(h){var l=h&&typeof h=="string"?new C.Color(h):"";return!l||!l.getSource()||l.getAlpha()===1?'fill="'+h+'"':'opacity="'+l.getAlpha()+'" fill="'+l.setAlpha(1).toRgb()+'"'},_getSVGLineTopOffset:function(h){for(var l=0,n=0,e=0;e<h;e++)l+=this.getHeightOfLine(e);return n=this.getHeightOfLine(e),{lineTop:l,offset:(this._fontSizeMult-this._fontSizeFraction)*n/(this.lineHeight*this._fontSizeMult)}},getSvgStyles:function(h){var l=C.Object.prototype.getSvgStyles.call(this,h);return l+" white-space: pre;"}})}(),function(L){"use strict";var a=L.fabric||(L.fabric={});a.Textbox=a.util.createClass(a.IText,a.Observable,{type:"textbox",minWidth:20,dynamicMinWidth:2,__cachedLines:null,lockScalingFlip:!0,noScaleCache:!1,_dimensionAffectingProps:a.Text.prototype._dimensionAffectingProps.concat("width"),_wordJoiners:/[ \t\r]/,splitByGrapheme:!1,initDimensions:function(){this.__skipDimension||(this.isEditing&&this.initDelayedCursor(),this.clearContextTop(),this._clearCache(),this.dynamicMinWidth=0,this._styleMap=this._generateStyleMap(this._splitText()),this.dynamicMinWidth>this.width&&this._set("width",this.dynamicMinWidth),this.textAlign.indexOf("justify")!==-1&&this.enlargeSpaces(),this.height=this.calcTextHeight(),this.saveState({propertySet:"_dimensionAffectingProps"}))},_generateStyleMap:function(h){for(var l=0,n=0,e=0,r={},i=0;i<h.graphemeLines.length;i++)h.graphemeText[e]===`
`&&i>0?(n=0,e++,l++):!this.splitByGrapheme&&this._reSpaceAndTab.test(h.graphemeText[e])&&i>0&&(n++,e++),r[i]={line:l,offset:n},e+=h.graphemeLines[i].length,n+=h.graphemeLines[i].length;return r},styleHas:function(h,l){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[l];n&&(l=n.line)}return a.Text.prototype.styleHas.call(this,h,l)},isEmptyStyles:function(h){if(!this.styles)return!0;var l=0,n=h+1,e,r,i=!1,u=this._styleMap[h],o=this._styleMap[h+1];u&&(h=u.line,l=u.offset),o&&(n=o.line,i=n===h,e=o.offset),r=typeof h=="undefined"?this.styles:{line:this.styles[h]};for(var d in r)for(var b in r[d])if(b>=l&&(!i||b<e))for(var T in r[d][b])return!1;return!0},_getStyleDeclaration:function(h,l){if(this._styleMap&&!this.isWrapping){var n=this._styleMap[h];if(!n)return null;h=n.line,l=n.offset+l}return this.callSuper("_getStyleDeclaration",h,l)},_setStyleDeclaration:function(h,l,n){var e=this._styleMap[h];h=e.line,l=e.offset+l,this.styles[h][l]=n},_deleteStyleDeclaration:function(h,l){var n=this._styleMap[h];h=n.line,l=n.offset+l,delete this.styles[h][l]},_getLineStyle:function(h){var l=this._styleMap[h];return!!this.styles[l.line]},_setLineStyle:function(h){var l=this._styleMap[h];this.styles[l.line]={}},_wrapText:function(h,l){var n=[],e;for(this.isWrapping=!0,e=0;e<h.length;e++)n=n.concat(this._wrapLine(h[e],e,l));return this.isWrapping=!1,n},_measureWord:function(h,l,n){var e=0,r,i=!0;n=n||0;for(var u=0,o=h.length;u<o;u++){var d=this._getGraphemeBox(h[u],l,u+n,r,i);e+=d.kernedWidth,r=h[u]}return e},_wrapLine:function(h,l,n,e){var r=0,i=this.splitByGrapheme,u=[],o=[],d=i?a.util.string.graphemeSplit(h):h.split(this._wordJoiners),b="",T=0,O=i?"":" ",Y=0,et=0,yt=0,Zt=!0,fe=this._getWidthOfCharSpacing(),e=e||0;d.length===0&&d.push([]),n-=e;for(var Ue=0;Ue<d.length;Ue++)b=i?d[Ue]:a.util.string.graphemeSplit(d[Ue]),Y=this._measureWord(b,l,T),T+=b.length,r+=et+Y-fe,r>n&&!Zt?(u.push(o),o=[],r=Y,Zt=!0):r+=fe,!Zt&&!i&&o.push(O),o=o.concat(b),et=i?0:this._measureWord([O],l,T),T++,Zt=!1,Y>yt&&(yt=Y);return Ue&&u.push(o),yt+e>this.dynamicMinWidth&&(this.dynamicMinWidth=yt-fe+e),u},isEndOfWrapping:function(h){return!this._styleMap[h+1]||this._styleMap[h+1].line!==this._styleMap[h].line},missingNewlineOffset:function(h){return this.splitByGrapheme?this.isEndOfWrapping(h)?1:0:1},_splitTextIntoLines:function(h){for(var l=a.Text.prototype._splitTextIntoLines.call(this,h),n=this._wrapText(l.lines,this.width),e=new Array(n.length),r=0;r<n.length;r++)e[r]=n[r].join("");return l.lines=e,l.graphemeLines=n,l},getMinWidth:function(){return Math.max(this.minWidth,this.dynamicMinWidth)},_removeExtraneousStyles:function(){var h={};for(var l in this._styleMap)this._textLines[l]&&(h[this._styleMap[l].line]=1);for(var l in this.styles)h[l]||delete this.styles[l]},toObject:function(h){return this.callSuper("toObject",["minWidth","splitByGrapheme"].concat(h))}}),a.Textbox.fromObject=function(f,h){return a.Object._fromObject("Textbox",f,h,"text")}}(hr),function(){var L=C.controlsUtils,a=L.scaleSkewCursorStyleHandler,f=L.scaleCursorStyleHandler,h=L.scalingEqually,l=L.scalingYOrSkewingX,n=L.scalingXOrSkewingY,e=L.scaleOrSkewActionName,r=C.Object.prototype.controls;if(r.ml=new C.Control({x:-.5,y:0,cursorStyleHandler:a,actionHandler:n,getActionName:e}),r.mr=new C.Control({x:.5,y:0,cursorStyleHandler:a,actionHandler:n,getActionName:e}),r.mb=new C.Control({x:0,y:.5,cursorStyleHandler:a,actionHandler:l,getActionName:e}),r.mt=new C.Control({x:0,y:-.5,cursorStyleHandler:a,actionHandler:l,getActionName:e}),r.tl=new C.Control({x:-.5,y:-.5,cursorStyleHandler:f,actionHandler:h}),r.tr=new C.Control({x:.5,y:-.5,cursorStyleHandler:f,actionHandler:h}),r.bl=new C.Control({x:-.5,y:.5,cursorStyleHandler:f,actionHandler:h}),r.br=new C.Control({x:.5,y:.5,cursorStyleHandler:f,actionHandler:h}),r.mtr=new C.Control({x:0,y:-.5,actionHandler:L.rotationWithSnapping,cursorStyleHandler:L.rotationStyleHandler,offsetY:-40,withConnection:!0,actionName:"rotate"}),C.Textbox){var i=C.Textbox.prototype.controls={};i.mtr=r.mtr,i.tr=r.tr,i.br=r.br,i.tl=r.tl,i.bl=r.bl,i.mt=r.mt,i.mb=r.mb,i.mr=new C.Control({x:.5,y:0,actionHandler:L.changeWidth,cursorStyleHandler:a,actionName:"resizing"}),i.ml=new C.Control({x:-.5,y:0,actionHandler:L.changeWidth,cursorStyleHandler:a,actionName:"resizing"})}}()}).call(this,Te("HDXh").Buffer)},hPry:function(on,hr,Te){"use strict";on.exports=Te("cbZj")},i680:function(on,hr,Te){"use strict";(function(ar){Te.d(hr,"a",function(){return kr}),Te.d(hr,"b",function(){return lt}),Te.d(hr,"c",function(){return me}),Te.d(hr,"e",function(){return Z});var C=Te("cDf5"),Ut=Te.n(C),nt=Te("crp1");/** @license
 *
 * jsPDF - PDF Document creation from JavaScript
 * Version 2.5.1 Built on 2022-01-28T15:37:57.791Z
 *                      CommitID 00000000
 *
 * Copyright (c) 2010-2021 James Hall <james@parall.ax>, https://github.com/MrRio/jsPDF
 *               2015-2021 yWorks GmbH, http://www.yworks.com
 *               2015-2021 Lukas Holländer <lukas.hollaender@yworks.com>, https://github.com/HackbrettXXX
 *               2016-2018 Aras Abbasi <aras.abbasi@gmail.com>
 *               2010 Aaron Spike, https://github.com/acspike
 *               2012 Willow Systems Corporation, https://github.com/willowsystems
 *               2012 Pablo Hess, https://github.com/pablohess
 *               2012 Florian Jenett, https://github.com/fjenett
 *               2013 Warren Weckesser, https://github.com/warrenweckesser
 *               2013 Youssef Beddad, https://github.com/lifof
 *               2013 Lee Driscoll, https://github.com/lsdriscoll
 *               2013 Stefan Slonevskiy, https://github.com/stefslon
 *               2013 Jeremy Morel, https://github.com/jmorel
 *               2013 Christoph Hartmann, https://github.com/chris-rock
 *               2014 Juan Pablo Gaviria, https://github.com/juanpgaviria
 *               2014 James Makes, https://github.com/dollaruw
 *               2014 Diego Casorran, https://github.com/diegocr
 *               2014 Steven Spungin, https://github.com/Flamenco
 *               2014 Kenneth Glassey, https://github.com/Gavvers
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 *
 * Contributor(s):
 *    siefkenj, ahwolf, rickygu, Midnith, saintclair, eaparango,
 *    kim3er, mfo, alnorth, Flamenco
 */var ve=function(){return typeof window!="undefined"?window:typeof ar!="undefined"?ar:typeof self!="undefined"?self:this}();function Ce(){ve.console&&typeof ve.console.log=="function"&&ve.console.log.apply(ve.console,arguments)}var _t={log:Ce,warn:function(p){ve.console&&(typeof ve.console.warn=="function"?ve.console.warn.apply(ve.console,arguments):Ce.call(null,arguments))},error:function(p){ve.console&&(typeof ve.console.error=="function"?ve.console.error.apply(ve.console,arguments):Ce(p))}};function L(A,p,v){var y=new XMLHttpRequest;y.open("GET",A),y.responseType="blob",y.onload=function(){n(y.response,p,v)},y.onerror=function(){_t.error("could not download file")},y.send()}function a(A){var p=new XMLHttpRequest;p.open("HEAD",A,!1);try{p.send()}catch(v){}return p.status>=200&&p.status<=299}function f(A){try{A.dispatchEvent(new MouseEvent("click"))}catch(v){var p=document.createEvent("MouseEvents");p.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),A.dispatchEvent(p)}}var h,l,n=ve.saveAs||((typeof window=="undefined"?"undefined":Ut()(window))!=="object"||window!==ve?function(){}:typeof HTMLAnchorElement!="undefined"&&"download"in HTMLAnchorElement.prototype?function(A,p,v){var y=ve.URL||ve.webkitURL,_=document.createElement("a");p=p||A.name||"download",_.download=p,_.rel="noopener",typeof A=="string"?(_.href=A,_.origin!==location.origin?a(_.href)?L(A,p,v):f(_,_.target="_blank"):f(_)):(_.href=y.createObjectURL(A),setTimeout(function(){y.revokeObjectURL(_.href)},4e4),setTimeout(function(){f(_)},0))}:"msSaveOrOpenBlob"in navigator?function(A,p,v){if(p=p||A.name||"download",typeof A=="string")if(a(A))L(A,p,v);else{var y=document.createElement("a");y.href=A,y.target="_blank",setTimeout(function(){f(y)})}else navigator.msSaveOrOpenBlob(function(_,w){return w===void 0?w={autoBom:!1}:Ut()(w)!=="object"&&(_t.warn("Deprecated: Expected third argument to be a object"),w={autoBom:!w}),w.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(_.type)?new Blob([String.fromCharCode(65279),_],{type:_.type}):_}(A,v),p)}:function(A,p,v,y){if((y=y||open("","_blank"))&&(y.document.title=y.document.body.innerText="downloading..."),typeof A=="string")return L(A,p,v);var _=A.type==="application/octet-stream",w=/constructor/i.test(ve.HTMLElement)||ve.safari,S=/CriOS\/[\d]+/.test(navigator.userAgent);if((S||_&&w)&&(typeof FileReader=="undefined"?"undefined":Ut()(FileReader))==="object"){var I=new FileReader;I.onloadend=function(){var ut=I.result;ut=S?ut:ut.replace(/^data:[^;]*;/,"data:attachment/file;"),y?y.location.href=ut:location=ut,y=null},I.readAsDataURL(A)}else{var E=ve.URL||ve.webkitURL,H=E.createObjectURL(A);y?y.location=H:location.href=H,y=null,setTimeout(function(){E.revokeObjectURL(H)},4e4)}});/**
 * A class to parse color values
 * @author Stoyan Stefanov <sstoo@gmail.com>
 * {@link   http://www.phpied.com/rgb-color-parser-in-javascript/}
 * @license Use it if you like it
 */function e(A){var p;A=A||"",this.ok=!1,A.charAt(0)=="#"&&(A=A.substr(1,6)),A={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"00ffff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000000",blanchedalmond:"ffebcd",blue:"0000ff",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"00ffff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dodgerblue:"1e90ff",feldspar:"d19275",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"ff00ff",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgrey:"d3d3d3",lightgreen:"90ee90",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslateblue:"8470ff",lightslategray:"778899",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"00ff00",limegreen:"32cd32",linen:"faf0e6",magenta:"ff00ff",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370d8",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"d87093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",red:"ff0000",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",violetred:"d02090",wheat:"f5deb3",white:"ffffff",whitesmoke:"f5f5f5",yellow:"ffff00",yellowgreen:"9acd32"}[A=(A=A.replace(/ /g,"")).toLowerCase()]||A;for(var v=[{re:/^rgb\((\d{1,3}),\s*(\d{1,3}),\s*(\d{1,3})\)$/,example:["rgb(123, 234, 45)","rgb(255,234,245)"],process:function(E){return[parseInt(E[1]),parseInt(E[2]),parseInt(E[3])]}},{re:/^(\w{2})(\w{2})(\w{2})$/,example:["#00ff00","336699"],process:function(E){return[parseInt(E[1],16),parseInt(E[2],16),parseInt(E[3],16)]}},{re:/^(\w{1})(\w{1})(\w{1})$/,example:["#fb0","f0f"],process:function(E){return[parseInt(E[1]+E[1],16),parseInt(E[2]+E[2],16),parseInt(E[3]+E[3],16)]}}],y=0;y<v.length;y++){var _=v[y].re,w=v[y].process,S=_.exec(A);S&&(p=w(S),this.r=p[0],this.g=p[1],this.b=p[2],this.ok=!0)}this.r=this.r<0||isNaN(this.r)?0:this.r>255?255:this.r,this.g=this.g<0||isNaN(this.g)?0:this.g>255?255:this.g,this.b=this.b<0||isNaN(this.b)?0:this.b>255?255:this.b,this.toRGB=function(){return"rgb("+this.r+", "+this.g+", "+this.b+")"},this.toHex=function(){var I=this.r.toString(16),E=this.g.toString(16),H=this.b.toString(16);return I.length==1&&(I="0"+I),E.length==1&&(E="0"+E),H.length==1&&(H="0"+H),"#"+I+E+H}}/**
 * @license
 * Joseph Myers does not specify a particular license for his work.
 *
 * Author: Joseph Myers
 * Accessed from: http://www.myersdaily.org/joseph/javascript/md5.js
 *
 * Modified by: Owen Leong
 */function r(A,p){var v=A[0],y=A[1],_=A[2],w=A[3];v=u(v,y,_,w,p[0],7,-680876936),w=u(w,v,y,_,p[1],12,-389564586),_=u(_,w,v,y,p[2],17,606105819),y=u(y,_,w,v,p[3],22,-1044525330),v=u(v,y,_,w,p[4],7,-176418897),w=u(w,v,y,_,p[5],12,1200080426),_=u(_,w,v,y,p[6],17,-1473231341),y=u(y,_,w,v,p[7],22,-45705983),v=u(v,y,_,w,p[8],7,1770035416),w=u(w,v,y,_,p[9],12,-1958414417),_=u(_,w,v,y,p[10],17,-42063),y=u(y,_,w,v,p[11],22,-1990404162),v=u(v,y,_,w,p[12],7,1804603682),w=u(w,v,y,_,p[13],12,-40341101),_=u(_,w,v,y,p[14],17,-1502002290),v=o(v,y=u(y,_,w,v,p[15],22,1236535329),_,w,p[1],5,-165796510),w=o(w,v,y,_,p[6],9,-1069501632),_=o(_,w,v,y,p[11],14,643717713),y=o(y,_,w,v,p[0],20,-373897302),v=o(v,y,_,w,p[5],5,-701558691),w=o(w,v,y,_,p[10],9,38016083),_=o(_,w,v,y,p[15],14,-660478335),y=o(y,_,w,v,p[4],20,-405537848),v=o(v,y,_,w,p[9],5,568446438),w=o(w,v,y,_,p[14],9,-1019803690),_=o(_,w,v,y,p[3],14,-187363961),y=o(y,_,w,v,p[8],20,1163531501),v=o(v,y,_,w,p[13],5,-1444681467),w=o(w,v,y,_,p[2],9,-51403784),_=o(_,w,v,y,p[7],14,1735328473),v=d(v,y=o(y,_,w,v,p[12],20,-1926607734),_,w,p[5],4,-378558),w=d(w,v,y,_,p[8],11,-2022574463),_=d(_,w,v,y,p[11],16,1839030562),y=d(y,_,w,v,p[14],23,-35309556),v=d(v,y,_,w,p[1],4,-1530992060),w=d(w,v,y,_,p[4],11,1272893353),_=d(_,w,v,y,p[7],16,-155497632),y=d(y,_,w,v,p[10],23,-1094730640),v=d(v,y,_,w,p[13],4,681279174),w=d(w,v,y,_,p[0],11,-358537222),_=d(_,w,v,y,p[3],16,-722521979),y=d(y,_,w,v,p[6],23,76029189),v=d(v,y,_,w,p[9],4,-640364487),w=d(w,v,y,_,p[12],11,-421815835),_=d(_,w,v,y,p[15],16,530742520),v=b(v,y=d(y,_,w,v,p[2],23,-995338651),_,w,p[0],6,-198630844),w=b(w,v,y,_,p[7],10,1126891415),_=b(_,w,v,y,p[14],15,-1416354905),y=b(y,_,w,v,p[5],21,-57434055),v=b(v,y,_,w,p[12],6,1700485571),w=b(w,v,y,_,p[3],10,-1894986606),_=b(_,w,v,y,p[10],15,-1051523),y=b(y,_,w,v,p[1],21,-2054922799),v=b(v,y,_,w,p[8],6,1873313359),w=b(w,v,y,_,p[15],10,-30611744),_=b(_,w,v,y,p[6],15,-1560198380),y=b(y,_,w,v,p[13],21,1309151649),v=b(v,y,_,w,p[4],6,-145523070),w=b(w,v,y,_,p[11],10,-1120210379),_=b(_,w,v,y,p[2],15,718787259),y=b(y,_,w,v,p[9],21,-343485551),A[0]=Ue(v,A[0]),A[1]=Ue(y,A[1]),A[2]=Ue(_,A[2]),A[3]=Ue(w,A[3])}function i(A,p,v,y,_,w){return p=Ue(Ue(p,A),Ue(y,w)),Ue(p<<_|p>>>32-_,v)}function u(A,p,v,y,_,w,S){return i(p&v|~p&y,A,p,_,w,S)}function o(A,p,v,y,_,w,S){return i(p&y|v&~y,A,p,_,w,S)}function d(A,p,v,y,_,w,S){return i(p^v^y,A,p,_,w,S)}function b(A,p,v,y,_,w,S){return i(v^(p|~y),A,p,_,w,S)}function T(A){var p,v=A.length,y=[1732584193,-271733879,-1732584194,271733878];for(p=64;p<=A.length;p+=64)r(y,O(A.substring(p-64,p)));A=A.substring(p-64);var _=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(p=0;p<A.length;p++)_[p>>2]|=A.charCodeAt(p)<<(p%4<<3);if(_[p>>2]|=128<<(p%4<<3),p>55)for(r(y,_),p=0;p<16;p++)_[p]=0;return _[14]=8*v,r(y,_),y}function O(A){var p,v=[];for(p=0;p<64;p+=4)v[p>>2]=A.charCodeAt(p)+(A.charCodeAt(p+1)<<8)+(A.charCodeAt(p+2)<<16)+(A.charCodeAt(p+3)<<24);return v}h=ve.atob.bind(ve),l=ve.btoa.bind(ve);var Y="0123456789abcdef".split("");function et(A){for(var p="",v=0;v<4;v++)p+=Y[A>>8*v+4&15]+Y[A>>8*v&15];return p}function yt(A){return String.fromCharCode((255&A)>>0,(65280&A)>>8,(16711680&A)>>16,(4278190080&A)>>24)}function Zt(A){return T(A).map(yt).join("")}var fe=function(A){for(var p=0;p<A.length;p++)A[p]=et(A[p]);return A.join("")}(T("hello"))!="5d41402abc4b2a76b9719d911017c592";function Ue(A,p){if(fe){var v=(65535&A)+(65535&p);return(A>>16)+(p>>16)+(v>>16)<<16|65535&v}return A+p&4294967295}/**
 * @license
 * FPDF is released under a permissive license: there is no usage restriction.
 * You may embed it freely in your application (commercial or not), with or
 * without modifications.
 *
 * Reference: http://www.fpdf.org/en/script/script37.php
 */function sr(A,p){var v,y,_,w;if(A!==v){for(var S=(_=A,w=1+(256/A.length>>0),new Array(w+1).join(_)),I=[],E=0;E<256;E++)I[E]=E;var H=0;for(E=0;E<256;E++){var ut=I[E];H=(H+ut+S.charCodeAt(E))%256,I[E]=I[H],I[H]=ut}v=A,y=I}else I=y;var st=p.length,bt=0,z=0,Dt="";for(E=0;E<st;E++)z=(z+(ut=I[bt=(bt+1)%256]))%256,I[bt]=I[z],I[z]=ut,S=I[(I[bt]+I[z])%256],Dt+=String.fromCharCode(p.charCodeAt(E)^S);return Dt}/**
 * @license
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 * Author: Owen Leong (@owenl131)
 * Date: 15 Oct 2020
 * References:
 * https://www.cs.cmu.edu/~dst/Adobe/Gallery/anon21jul01-pdf-encryption.txt
 * https://github.com/foliojs/pdfkit/blob/master/lib/security.js
 * http://www.fpdf.org/en/script/script37.php
 */var cr={print:4,modify:8,copy:16,"annot-forms":32};function Ke(A,p,v,y){this.v=1,this.r=2;var _=192;A.forEach(function(I){if(cr.perm!==void 0)throw new Error("Invalid permission: "+I);_+=cr[I]}),this.padding="(\xBFN^Nu\x8AAd\0NV\xFF\xFA\b..\0\xB6\xD0h>\x80/\f\xA9\xFEdSiz";var w=(p+this.padding).substr(0,32),S=(v+this.padding).substr(0,32);this.O=this.processOwnerPassword(w,S),this.P=-(1+(255^_)),this.encryptionKey=Zt(w+this.O+this.lsbFirstWord(this.P)+this.hexToBytes(y)).substr(0,5),this.U=sr(this.encryptionKey,this.padding)}function Ie(A){if(/[^\u0000-\u00ff]/.test(A))throw new Error("Invalid PDF Name Object: "+A+", Only accept ASCII characters.");for(var p="",v=A.length,y=0;y<v;y++){var _=A.charCodeAt(y);_<33||_===35||_===37||_===40||_===41||_===47||_===60||_===62||_===91||_===93||_===123||_===125||_>126?p+="#"+("0"+_.toString(16)).slice(-2):p+=A[y]}return p}function gr(A){if(Ut()(A)!=="object")throw new Error("Invalid Context passed to initialize PubSub (jsPDF-module)");var p={};this.subscribe=function(v,y,_){if(_=_||!1,typeof v!="string"||typeof y!="function"||typeof _!="boolean")throw new Error("Invalid arguments passed to PubSub.subscribe (jsPDF-module)");p.hasOwnProperty(v)||(p[v]={});var w=Math.random().toString(35);return p[v][w]=[y,!!_],w},this.unsubscribe=function(v){for(var y in p)if(p[y][v])return delete p[y][v],Object.keys(p[y]).length===0&&delete p[y],!0;return!1},this.publish=function(v){if(p.hasOwnProperty(v)){var y=Array.prototype.slice.call(arguments,1),_=[];for(var w in p[v]){var S=p[v][w];try{S[0].apply(A,y)}catch(I){ve.console&&_t.error("jsPDF PubSub Error",I.message,I)}S[1]&&_.push(w)}_.length&&_.forEach(this.unsubscribe)}},this.getTopics=function(){return p}}function kr(A){if(!(this instanceof kr))return new kr(A);var p="opacity,stroke-opacity".split(",");for(var v in A)A.hasOwnProperty(v)&&p.indexOf(v)>=0&&(this[v]=A[v]);this.id="",this.objectNumber=-1}function Ar(A,p){this.gState=A,this.matrix=p,this.id="",this.objectNumber=-1}function lt(A,p,v,y,_){if(!(this instanceof lt))return new lt(A,p,v,y,_);this.type=A==="axial"?2:3,this.coords=p,this.colors=v,Ar.call(this,y,_)}function me(A,p,v,y,_){if(!(this instanceof me))return new me(A,p,v,y,_);this.boundingBox=A,this.xStep=p,this.yStep=v,this.stream="",this.cloneIndex=0,Ar.call(this,y,_)}function Z(A){var p,v=typeof arguments[0]=="string"?arguments[0]:"p",y=arguments[1],_=arguments[2],w=arguments[3],S=[],I=1,E=16,H="S",ut=null;Ut()(A=A||{})==="object"&&(v=A.orientation,y=A.unit||y,_=A.format||_,w=A.compress||A.compressPdf||w,(ut=A.encryption||null)!==null&&(ut.userPassword=ut.userPassword||"",ut.ownerPassword=ut.ownerPassword||"",ut.userPermissions=ut.userPermissions||[]),I=typeof A.userUnit=="number"?Math.abs(A.userUnit):1,A.precision!==void 0&&(p=A.precision),A.floatPrecision!==void 0&&(E=A.floatPrecision),H=A.defaultPathOperation||"S"),S=A.filters||(w===!0?["FlateEncode"]:S),y=y||"mm",v=(""+(v||"P")).toLowerCase();var st=A.putOnlyUsedFonts||!1,bt={},z={internal:{},__private__:{}};z.__private__.PubSub=gr;var Dt="1.3",Ct=z.__private__.getPdfVersion=function(){return Dt};z.__private__.setPdfVersion=function(k){Dt=k};var Bt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};z.__private__.getPageFormats=function(){return Bt};var Tt=z.__private__.getPageFormat=function(k){return Bt[k]};_=_||"a4";var rt={COMPAT:"compat",ADVANCED:"advanced"},de=rt.COMPAT;function ke(){this.saveGraphicsState(),Ft(new rn(Mr,0,0,-Mr,0,us()*Mr).toString()+" cm"),this.setFontSize(this.getFontSize()/Mr),H="n",de=rt.ADVANCED}function Ge(){this.restoreGraphicsState(),H="S",de=rt.COMPAT}var nr=z.__private__.combineFontStyleAndFontWeight=function(k,R){if(k=="bold"&&R=="normal"||k=="bold"&&R==400||k=="normal"&&R=="italic"||k=="bold"&&R=="italic")throw new Error("Invalid Combination of fontweight and fontstyle");return R&&(k=R==400||R==="normal"?k==="italic"?"italic":"normal":R!=700&&R!=="bold"||k!=="normal"?(R==700?"bold":R)+""+k:"bold"),k};z.advancedAPI=function(k){var R=de===rt.COMPAT;return R&&ke.call(this),typeof k!="function"||(k(this),R&&Ge.call(this)),this},z.compatAPI=function(k){var R=de===rt.ADVANCED;return R&&Ge.call(this),typeof k!="function"||(k(this),R&&ke.call(this)),this},z.isAdvancedAPI=function(){return de===rt.ADVANCED};var Be,lr=function(R){if(de!==rt.ADVANCED)throw new Error(R+" is only available in 'advanced' API mode. You need to call advancedAPI() first.")},$t=z.roundToPrecision=z.__private__.roundToPrecision=function(k,R){var xt=p||R;if(isNaN(k)||isNaN(xt))throw new Error("Invalid argument passed to jsPDF.roundToPrecision");return k.toFixed(xt).replace(/0+$/,"")};Be=z.hpf=z.__private__.hpf=typeof E=="number"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return $t(k,E)}:E==="smart"?function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return $t(k,k>-1&&k<1?16:5)}:function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.hpf");return $t(k,16)};var ze=z.f2=z.__private__.f2=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f2");return $t(k,2)},Gt=z.__private__.f3=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.f3");return $t(k,3)},Lt=z.scale=z.__private__.scale=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.scale");return de===rt.COMPAT?k*Mr:de===rt.ADVANCED?k:void 0},Kt=function(R){return de===rt.COMPAT?us()-R:de===rt.ADVANCED?R:void 0},Xt=function(R){return Lt(Kt(R))};z.__private__.setPrecision=z.setPrecision=function(k){typeof parseInt(k,10)=="number"&&(p=parseInt(k,10))};var qe,We="00000000000000000000000000000000",or=z.__private__.getFileId=function(){return We},Oe=z.__private__.setFileId=function(k){return We=k!==void 0&&/^[a-fA-F0-9]{32}$/.test(k)?k.toUpperCase():We.split("").map(function(){return"ABCDEF0123456789".charAt(Math.floor(16*Math.random()))}).join(""),ut!==null&&(Ti=new Ke(ut.userPermissions,ut.userPassword,ut.ownerPassword,We)),We};z.setFileId=function(k){return Oe(k),this},z.getFileId=function(){return or()};var pr=z.__private__.convertDateToPDFDate=function(k){var R=k.getTimezoneOffset(),xt=R<0?"+":"-",Wt=Math.floor(Math.abs(R/60)),be=Math.abs(R%60),Se=[xt,jt(Wt),"'",jt(be),"'"].join("");return["D:",k.getFullYear(),jt(k.getMonth()+1),jt(k.getDate()),jt(k.getHours()),jt(k.getMinutes()),jt(k.getSeconds()),Se].join("")},Ye=z.__private__.convertPDFDateToDate=function(k){var R=parseInt(k.substr(2,4),10),xt=parseInt(k.substr(6,2),10)-1,Wt=parseInt(k.substr(8,2),10),be=parseInt(k.substr(10,2),10),Se=parseInt(k.substr(12,2),10),dr=parseInt(k.substr(14,2),10);return new Date(R,xt,Wt,be,Se,dr,0)},wr=z.__private__.setCreationDate=function(k){var R;if(k===void 0&&(k=new Date),k instanceof Date)R=pr(k);else{if(!/^D:(20[0-2][0-9]|203[0-7]|19[7-9][0-9])(0[0-9]|1[0-2])([0-2][0-9]|3[0-1])(0[0-9]|1[0-9]|2[0-3])(0[0-9]|[1-5][0-9])(0[0-9]|[1-5][0-9])(\+0[0-9]|\+1[0-4]|-0[0-9]|-1[0-1])'(0[0-9]|[1-5][0-9])'?$/.test(k))throw new Error("Invalid argument passed to jsPDF.setCreationDate");R=k}return qe=R},zt=z.__private__.getCreationDate=function(k){var R=qe;return k==="jsDate"&&(R=Ye(qe)),R};z.setCreationDate=function(k){return wr(k),this},z.getCreationDate=function(k){return zt(k)};var ft,jt=z.__private__.padd2=function(k){return("0"+parseInt(k)).slice(-2)},se=z.__private__.padd2Hex=function(k){return("00"+(k=k.toString())).substr(k.length)},ge=0,Ae=[],Xe=[],Me=0,je=[],ur=[],zr=!1,Cr=Xe,en=function(){ge=0,Me=0,Xe=[],Ae=[],je=[],Ws=Ai(),Ua=Ai()};z.__private__.setCustomOutputDestination=function(k){zr=!0,Cr=k};var Gr=function(R){zr||(Cr=R)};z.__private__.resetCustomOutputDestination=function(){zr=!1,Cr=Xe};var Ft=z.__private__.out=function(k){return k=k.toString(),Me+=k.length+1,Cr.push(k),Cr},Je=z.__private__.write=function(k){return Ft(arguments.length===1?k.toString():Array.prototype.join.call(arguments," "))},Or=z.__private__.getArrayBuffer=function(k){for(var R=k.length,xt=new ArrayBuffer(R),Wt=new Uint8Array(xt);R--;)Wt[R]=k.charCodeAt(R);return xt},Ve=[["Helvetica","helvetica","normal","WinAnsiEncoding"],["Helvetica-Bold","helvetica","bold","WinAnsiEncoding"],["Helvetica-Oblique","helvetica","italic","WinAnsiEncoding"],["Helvetica-BoldOblique","helvetica","bolditalic","WinAnsiEncoding"],["Courier","courier","normal","WinAnsiEncoding"],["Courier-Bold","courier","bold","WinAnsiEncoding"],["Courier-Oblique","courier","italic","WinAnsiEncoding"],["Courier-BoldOblique","courier","bolditalic","WinAnsiEncoding"],["Times-Roman","times","normal","WinAnsiEncoding"],["Times-Bold","times","bold","WinAnsiEncoding"],["Times-Italic","times","italic","WinAnsiEncoding"],["Times-BoldItalic","times","bolditalic","WinAnsiEncoding"],["ZapfDingbats","zapfdingbats","normal",null],["Symbol","symbol","normal",null]];z.__private__.getStandardFonts=function(){return Ve};var Fr=A.fontSize||16;z.__private__.setFontSize=z.setFontSize=function(k){return Fr=de===rt.ADVANCED?k/Mr:k,this};var Sr,jr=z.__private__.getFontSize=z.getFontSize=function(){return de===rt.COMPAT?Fr:Fr*Mr},Wr=A.R2L||!1;z.__private__.setR2L=z.setR2L=function(k){return Wr=k,this},z.__private__.getR2L=z.getR2L=function(){return Wr};var Yr,Fn=z.__private__.setZoomMode=function(k){var R=[void 0,null,"fullwidth","fullheight","fullpage","original"];if(/^(?:\d+\.\d*|\d*\.\d+|\d+)%$/.test(k))Sr=k;else if(isNaN(k)){if(R.indexOf(k)===-1)throw new Error('zoom must be Integer (e.g. 2), a percentage Value (e.g. 300%) or fullwidth, fullheight, fullpage, original. "'+k+'" is not recognized.');Sr=k}else Sr=parseInt(k,10)};z.__private__.getZoomMode=function(){return Sr};var tn,Tn=z.__private__.setPageMode=function(k){if([void 0,null,"UseNone","UseOutlines","UseThumbs","FullScreen"].indexOf(k)==-1)throw new Error('Page mode must be one of UseNone, UseOutlines, UseThumbs, or FullScreen. "'+k+'" is not recognized.');Yr=k};z.__private__.getPageMode=function(){return Yr};var Hn=z.__private__.setLayoutMode=function(k){if([void 0,null,"continuous","single","twoleft","tworight","two"].indexOf(k)==-1)throw new Error('Layout mode must be one of continuous, single, twoleft, tworight. "'+k+'" is not recognized.');tn=k};z.__private__.getLayoutMode=function(){return tn},z.__private__.setDisplayMode=z.setDisplayMode=function(k,R,xt){return Fn(k),Hn(R),Tn(xt),this};var Vr={title:"",subject:"",author:"",keywords:"",creator:""};z.__private__.getDocumentProperty=function(k){if(Object.keys(Vr).indexOf(k)===-1)throw new Error("Invalid argument passed to jsPDF.getDocumentProperty");return Vr[k]},z.__private__.getDocumentProperties=function(){return Vr},z.__private__.setDocumentProperties=z.setProperties=z.setDocumentProperties=function(k){for(var R in Vr)Vr.hasOwnProperty(R)&&k[R]&&(Vr[R]=k[R]);return this},z.__private__.setDocumentProperty=function(k,R){if(Object.keys(Vr).indexOf(k)===-1)throw new Error("Invalid arguments passed to jsPDF.setDocumentProperty");return Vr[k]=R};var cn,Mr,Bi,Vn,Ci,mn={},pi={},_a=[],Rn={},es={},oi={},gi={},aa=null,Zn=0,un=[],jn=new gr(z),uo=A.hotfixes||[],ji={},rs={},ns=[],rn=function k(R,xt,Wt,be,Se,dr){if(!(this instanceof k))return new k(R,xt,Wt,be,Se,dr);isNaN(R)&&(R=1),isNaN(xt)&&(xt=0),isNaN(Wt)&&(Wt=0),isNaN(be)&&(be=1),isNaN(Se)&&(Se=0),isNaN(dr)&&(dr=0),this._matrix=[R,xt,Wt,be,Se,dr]};Object.defineProperty(rn.prototype,"sx",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(rn.prototype,"shy",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(rn.prototype,"shx",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(rn.prototype,"sy",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(rn.prototype,"tx",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(rn.prototype,"ty",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(rn.prototype,"a",{get:function(){return this._matrix[0]},set:function(R){this._matrix[0]=R}}),Object.defineProperty(rn.prototype,"b",{get:function(){return this._matrix[1]},set:function(R){this._matrix[1]=R}}),Object.defineProperty(rn.prototype,"c",{get:function(){return this._matrix[2]},set:function(R){this._matrix[2]=R}}),Object.defineProperty(rn.prototype,"d",{get:function(){return this._matrix[3]},set:function(R){this._matrix[3]=R}}),Object.defineProperty(rn.prototype,"e",{get:function(){return this._matrix[4]},set:function(R){this._matrix[4]=R}}),Object.defineProperty(rn.prototype,"f",{get:function(){return this._matrix[5]},set:function(R){this._matrix[5]=R}}),Object.defineProperty(rn.prototype,"rotation",{get:function(){return Math.atan2(this.shx,this.sx)}}),Object.defineProperty(rn.prototype,"scaleX",{get:function(){return this.decompose().scale.sx}}),Object.defineProperty(rn.prototype,"scaleY",{get:function(){return this.decompose().scale.sy}}),Object.defineProperty(rn.prototype,"isIdentity",{get:function(){return this.sx===1&&this.shy===0&&this.shx===0&&this.sy===1&&this.tx===0&&this.ty===0}}),rn.prototype.join=function(k){return[this.sx,this.shy,this.shx,this.sy,this.tx,this.ty].map(Be).join(k)},rn.prototype.multiply=function(k){var R=k.sx*this.sx+k.shy*this.shx,xt=k.sx*this.shy+k.shy*this.sy,Wt=k.shx*this.sx+k.sy*this.shx,be=k.shx*this.shy+k.sy*this.sy,Se=k.tx*this.sx+k.ty*this.shx+this.tx,dr=k.tx*this.shy+k.ty*this.sy+this.ty;return new rn(R,xt,Wt,be,Se,dr)},rn.prototype.decompose=function(){var k=this.sx,R=this.shy,xt=this.shx,Wt=this.sy,be=this.tx,Se=this.ty,dr=Math.sqrt(k*k+R*R),br=(k/=dr)*xt+(R/=dr)*Wt;xt-=k*br,Wt-=R*br;var Hr=Math.sqrt(xt*xt+Wt*Wt);return br/=Hr,k*(Wt/=Hr)<R*(xt/=Hr)&&(k=-k,R=-R,br=-br,dr=-dr),{scale:new rn(dr,0,0,Hr,0,0),translate:new rn(1,0,0,1,be,Se),rotate:new rn(k,R,-R,k,0,0),skew:new rn(1,0,br,1,0,0)}},rn.prototype.toString=function(k){return this.join(" ")},rn.prototype.inversed=function(){var k=this.sx,R=this.shy,xt=this.shx,Wt=this.sy,be=this.tx,Se=this.ty,dr=1/(k*Wt-R*xt),br=Wt*dr,Hr=-R*dr,Zr=-xt*dr,dn=k*dr;return new rn(br,Hr,Zr,dn,-br*be-Zr*Se,-Hr*be-dn*Se)},rn.prototype.applyToPoint=function(k){var R=k.x*this.sx+k.y*this.shx+this.tx,xt=k.x*this.shy+k.y*this.sy+this.ty;return new Wo(R,xt)},rn.prototype.applyToRectangle=function(k){var R=this.applyToPoint(k),xt=this.applyToPoint(new Wo(k.x+k.w,k.y+k.h));return new ls(R.x,R.y,xt.x-R.x,xt.y-R.y)},rn.prototype.clone=function(){var k=this.sx,R=this.shy,xt=this.shx,Wt=this.sy,be=this.tx,Se=this.ty;return new rn(k,R,xt,Wt,be,Se)},z.Matrix=rn;var Ji=z.matrixMult=function(k,R){return R.multiply(k)},xa=new rn(1,0,0,1,0,0);z.unitMatrix=z.identityMatrix=xa;var ys=function(R,xt){if(!es[R]){var Wt=(xt instanceof lt?"Sh":"P")+(Object.keys(Rn).length+1).toString(10);xt.id=Wt,es[R]=Wt,Rn[Wt]=xt,jn.publish("addPattern",xt)}};z.ShadingPattern=lt,z.TilingPattern=me,z.addShadingPattern=function(k,R){return lr("addShadingPattern()"),ys(k,R),this},z.beginTilingPattern=function(k){lr("beginTilingPattern()"),hl(k.boundingBox[0],k.boundingBox[1],k.boundingBox[2]-k.boundingBox[0],k.boundingBox[3]-k.boundingBox[1],k.matrix)},z.endTilingPattern=function(k,R){lr("endTilingPattern()"),R.stream=ur[ft].join(`
`),ys(k,R),jn.publish("endTilingPattern",R),ns.pop().restore()};var ni=z.__private__.newObject=function(){var k=Ai();return ii(k,!0),k},Ai=z.__private__.newObjectDeferred=function(){return ge++,Ae[ge]=function(){return Me},ge},ii=function(R,xt){return xt=typeof xt=="boolean"&&xt,Ae[R]=Me,xt&&Ft(R+" 0 obj"),R},is=z.__private__.newAdditionalObject=function(){var k={objId:Ai(),content:""};return je.push(k),k},Ws=Ai(),Ua=Ai(),as=z.__private__.decodeColorString=function(k){var R=k.split(" ");if(R.length!==2||R[1]!=="g"&&R[1]!=="G")R.length===5&&(R[4]==="k"||R[4]==="K")&&(R=[(1-R[0])*(1-R[3]),(1-R[1])*(1-R[3]),(1-R[2])*(1-R[3]),"r"]);else{var xt=parseFloat(R[0]);R=[xt,xt,xt,"r"]}for(var Wt="#",be=0;be<3;be++)Wt+=("0"+Math.floor(255*parseFloat(R[be])).toString(16)).slice(-2);return Wt},Ui=z.__private__.encodeColorString=function(k){var R;typeof k=="string"&&(k={ch1:k});var xt=k.ch1,Wt=k.ch2,be=k.ch3,Se=k.ch4,dr=k.pdfColorType==="draw"?["G","RG","K"]:["g","rg","k"];if(typeof xt=="string"&&xt.charAt(0)!=="#"){var br=new e(xt);if(br.ok)xt=br.toHex();else if(!/^\d*\.?\d*$/.test(xt))throw new Error('Invalid color "'+xt+'" passed to jsPDF.encodeColorString.')}if(typeof xt=="string"&&/^#[0-9A-Fa-f]{3}$/.test(xt)&&(xt="#"+xt[1]+xt[1]+xt[2]+xt[2]+xt[3]+xt[3]),typeof xt=="string"&&/^#[0-9A-Fa-f]{6}$/.test(xt)){var Hr=parseInt(xt.substr(1),16);xt=Hr>>16&255,Wt=Hr>>8&255,be=255&Hr}if(Wt===void 0||Se===void 0&&xt===Wt&&Wt===be)if(typeof xt=="string")R=xt+" "+dr[0];else switch(k.precision){case 2:R=ze(xt/255)+" "+dr[0];break;case 3:default:R=Gt(xt/255)+" "+dr[0]}else if(Se===void 0||Ut()(Se)==="object"){if(Se&&!isNaN(Se.a)&&Se.a===0)return R=["1.","1.","1.",dr[1]].join(" ");if(typeof xt=="string")R=[xt,Wt,be,dr[1]].join(" ");else switch(k.precision){case 2:R=[ze(xt/255),ze(Wt/255),ze(be/255),dr[1]].join(" ");break;default:case 3:R=[Gt(xt/255),Gt(Wt/255),Gt(be/255),dr[1]].join(" ")}}else if(typeof xt=="string")R=[xt,Wt,be,Se,dr[2]].join(" ");else switch(k.precision){case 2:R=[ze(xt),ze(Wt),ze(be),ze(Se),dr[2]].join(" ");break;case 3:default:R=[Gt(xt),Gt(Wt),Gt(be),Gt(Se),dr[2]].join(" ")}return R},vi=z.__private__.getFilters=function(){return S},sa=z.__private__.putStream=function(k){var R=(k=k||{}).data||"",xt=k.filters||vi(),Wt=k.alreadyAppliedFilters||[],be=k.addLength1||!1,Se=R.length,dr=k.objectId,br=function(wi){return wi};if(ut!==null&&dr===void 0)throw new Error("ObjectId must be passed to putStream for file encryption");ut!==null&&(br=Ti.encryptor(dr,0));var Hr={};xt===!0&&(xt=["FlateEncode"]);var Zr=k.additionalKeyValues||[],dn=(Hr=Z.API.processDataByFilters!==void 0?Z.API.processDataByFilters(R,xt):{data:R,reverseChain:[]}).reverseChain+(Array.isArray(Wt)?Wt.join(" "):Wt.toString());if(Hr.data.length!==0&&(Zr.push({key:"Length",value:Hr.data.length}),be===!0&&Zr.push({key:"Length1",value:Se})),dn.length!=0)if(dn.split("/").length-1==1)Zr.push({key:"Filter",value:dn});else{Zr.push({key:"Filter",value:"["+dn+"]"});for(var Mn=0;Mn<Zr.length;Mn+=1)if(Zr[Mn].key==="DecodeParms"){for(var An=[],si=0;si<Hr.reverseChain.split("/").length-1;si+=1)An.push("null");An.push(Zr[Mn].value),Zr[Mn].value="["+An.join(" ")+"]"}}Ft("<<");for(var ri=0;ri<Zr.length;ri++)Ft("/"+Zr[ri].key+" "+Zr[ri].value);Ft(">>"),Hr.data.length!==0&&(Ft("stream"),Ft(br(Hr.data)),Ft("endstream"))},ho=z.__private__.putPage=function(k){var R=k.number,xt=k.data,Wt=k.objId,be=k.contentsObjId;ii(Wt,!0),Ft("<</Type /Page"),Ft("/Parent "+k.rootDictionaryObjId+" 0 R"),Ft("/Resources "+k.resourceDictionaryObjId+" 0 R"),Ft("/MediaBox ["+parseFloat(Be(k.mediaBox.bottomLeftX))+" "+parseFloat(Be(k.mediaBox.bottomLeftY))+" "+Be(k.mediaBox.topRightX)+" "+Be(k.mediaBox.topRightY)+"]"),k.cropBox!==null&&Ft("/CropBox ["+Be(k.cropBox.bottomLeftX)+" "+Be(k.cropBox.bottomLeftY)+" "+Be(k.cropBox.topRightX)+" "+Be(k.cropBox.topRightY)+"]"),k.bleedBox!==null&&Ft("/BleedBox ["+Be(k.bleedBox.bottomLeftX)+" "+Be(k.bleedBox.bottomLeftY)+" "+Be(k.bleedBox.topRightX)+" "+Be(k.bleedBox.topRightY)+"]"),k.trimBox!==null&&Ft("/TrimBox ["+Be(k.trimBox.bottomLeftX)+" "+Be(k.trimBox.bottomLeftY)+" "+Be(k.trimBox.topRightX)+" "+Be(k.trimBox.topRightY)+"]"),k.artBox!==null&&Ft("/ArtBox ["+Be(k.artBox.bottomLeftX)+" "+Be(k.artBox.bottomLeftY)+" "+Be(k.artBox.topRightX)+" "+Be(k.artBox.topRightY)+"]"),typeof k.userUnit=="number"&&k.userUnit!==1&&Ft("/UserUnit "+k.userUnit),jn.publish("putPage",{objId:Wt,pageContext:un[R],pageNumber:R,page:xt}),Ft("/Contents "+be+" 0 R"),Ft(">>"),Ft("endobj");var Se=xt.join(`
`);return de===rt.ADVANCED&&(Se+=`
Q`),ii(be,!0),sa({data:Se,filters:vi(),objectId:be}),Ft("endobj"),Wt},ss=z.__private__.putPages=function(){var k,R,xt=[];for(k=1;k<=Zn;k++)un[k].objId=Ai(),un[k].contentsObjId=Ai();for(k=1;k<=Zn;k++)xt.push(ho({number:k,data:ur[k],objId:un[k].objId,contentsObjId:un[k].contentsObjId,mediaBox:un[k].mediaBox,cropBox:un[k].cropBox,bleedBox:un[k].bleedBox,trimBox:un[k].trimBox,artBox:un[k].artBox,userUnit:un[k].userUnit,rootDictionaryObjId:Ws,resourceDictionaryObjId:Ua}));ii(Ws,!0),Ft("<</Type /Pages");var Wt="/Kids [";for(R=0;R<Zn;R++)Wt+=xt[R]+" 0 R ";Ft(Wt+"]"),Ft("/Count "+Zn),Ft(">>"),Ft("endobj"),jn.publish("postPutPages")},co=function(R){jn.publish("putFont",{font:R,out:Ft,newObject:ni,putStream:sa}),R.isAlreadyPutted!==!0&&(R.objectNumber=ni(),Ft("<<"),Ft("/Type /Font"),Ft("/BaseFont /"+Ie(R.postScriptName)),Ft("/Subtype /Type1"),typeof R.encoding=="string"&&Ft("/Encoding /"+R.encoding),Ft("/FirstChar 32"),Ft("/LastChar 255"),Ft(">>"),Ft("endobj"))},Fo=function(){for(var R in mn)mn.hasOwnProperty(R)&&(st===!1||st===!0&&bt.hasOwnProperty(R))&&co(mn[R])},No=function(R){R.objectNumber=ni();var xt=[];xt.push({key:"Type",value:"/XObject"}),xt.push({key:"Subtype",value:"/Form"}),xt.push({key:"BBox",value:"["+[Be(R.x),Be(R.y),Be(R.x+R.width),Be(R.y+R.height)].join(" ")+"]"}),xt.push({key:"Matrix",value:"["+R.matrix.toString()+"]"});var Wt=R.pages[1].join(`
`);sa({data:Wt,additionalKeyValues:xt,objectId:R.objectNumber}),Ft("endobj")},bs=function(){for(var R in ji)ji.hasOwnProperty(R)&&No(ji[R])},ue=function(R,xt){var Wt,be=[],Se=1/(xt-1);for(Wt=0;Wt<1;Wt+=Se)be.push(Wt);if(be.push(1),R[0].offset!=0){var dr={offset:0,color:R[0].color};R.unshift(dr)}if(R[R.length-1].offset!=1){var br={offset:1,color:R[R.length-1].color};R.push(br)}for(var Hr="",Zr=0,dn=0;dn<be.length;dn++){for(Wt=be[dn];Wt>R[Zr+1].offset;)Zr++;var Mn=R[Zr].offset,An=(Wt-Mn)/(R[Zr+1].offset-Mn),si=R[Zr].color,ri=R[Zr+1].color;Hr+=se(Math.round((1-An)*si[0]+An*ri[0]).toString(16))+se(Math.round((1-An)*si[1]+An*ri[1]).toString(16))+se(Math.round((1-An)*si[2]+An*ri[2]).toString(16))}return Hr.trim()},He=function(R,xt){xt||(xt=21);var Wt=ni(),be=ue(R.colors,xt),Se=[];Se.push({key:"FunctionType",value:"0"}),Se.push({key:"Domain",value:"[0.0 1.0]"}),Se.push({key:"Size",value:"["+xt+"]"}),Se.push({key:"BitsPerSample",value:"8"}),Se.push({key:"Range",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),Se.push({key:"Decode",value:"[0.0 1.0 0.0 1.0 0.0 1.0]"}),sa({data:be,additionalKeyValues:Se,alreadyAppliedFilters:["/ASCIIHexDecode"],objectId:Wt}),Ft("endobj"),R.objectNumber=ni(),Ft("<< /ShadingType "+R.type),Ft("/ColorSpace /DeviceRGB");var dr="/Coords ["+Be(parseFloat(R.coords[0]))+" "+Be(parseFloat(R.coords[1]))+" ";R.type===2?dr+=Be(parseFloat(R.coords[2]))+" "+Be(parseFloat(R.coords[3])):dr+=Be(parseFloat(R.coords[2]))+" "+Be(parseFloat(R.coords[3]))+" "+Be(parseFloat(R.coords[4]))+" "+Be(parseFloat(R.coords[5])),Ft(dr+="]"),R.matrix&&Ft("/Matrix ["+R.matrix.toString()+"]"),Ft("/Function "+Wt+" 0 R"),Ft("/Extend [true true]"),Ft(">>"),Ft("endobj")},Fe=function(R,xt){var Wt=Ai(),be=ni();xt.push({resourcesOid:Wt,objectOid:be}),R.objectNumber=be;var Se=[];Se.push({key:"Type",value:"/Pattern"}),Se.push({key:"PatternType",value:"1"}),Se.push({key:"PaintType",value:"1"}),Se.push({key:"TilingType",value:"1"}),Se.push({key:"BBox",value:"["+R.boundingBox.map(Be).join(" ")+"]"}),Se.push({key:"XStep",value:Be(R.xStep)}),Se.push({key:"YStep",value:Be(R.yStep)}),Se.push({key:"Resources",value:Wt+" 0 R"}),R.matrix&&Se.push({key:"Matrix",value:"["+R.matrix.toString()+"]"}),sa({data:R.stream,additionalKeyValues:Se,objectId:R.objectNumber}),Ft("endobj")},Ur=function(R){var xt;for(xt in Rn)Rn.hasOwnProperty(xt)&&(Rn[xt]instanceof lt?He(Rn[xt]):Rn[xt]instanceof me&&Fe(Rn[xt],R))},nn=function(R){for(var xt in R.objectNumber=ni(),Ft("<<"),R)switch(xt){case"opacity":Ft("/ca "+ze(R[xt]));break;case"stroke-opacity":Ft("/CA "+ze(R[xt]))}Ft(">>"),Ft("endobj")},Nn=function(){var R;for(R in oi)oi.hasOwnProperty(R)&&nn(oi[R])},Qn=function(){for(var R in Ft("/XObject <<"),ji)ji.hasOwnProperty(R)&&ji[R].objectNumber>=0&&Ft("/"+R+" "+ji[R].objectNumber+" 0 R");jn.publish("putXobjectDict"),Ft(">>")},Pn=function(){Ti.oid=ni(),Ft("<<"),Ft("/Filter /Standard"),Ft("/V "+Ti.v),Ft("/R "+Ti.r),Ft("/U <"+Ti.toHexString(Ti.U)+">"),Ft("/O <"+Ti.toHexString(Ti.O)+">"),Ft("/P "+Ti.P),Ft(">>"),Ft("endobj")},nl=function(){for(var R in Ft("/Font <<"),mn)mn.hasOwnProperty(R)&&(st===!1||st===!0&&bt.hasOwnProperty(R))&&Ft("/"+R+" "+mn[R].objectNumber+" 0 R");Ft(">>")},El=function(){if(Object.keys(Rn).length>0){for(var R in Ft("/Shading <<"),Rn)Rn.hasOwnProperty(R)&&Rn[R]instanceof lt&&Rn[R].objectNumber>=0&&Ft("/"+R+" "+Rn[R].objectNumber+" 0 R");jn.publish("putShadingPatternDict"),Ft(">>")}},$i=function(R){if(Object.keys(Rn).length>0){for(var xt in Ft("/Pattern <<"),Rn)Rn.hasOwnProperty(xt)&&Rn[xt]instanceof z.TilingPattern&&Rn[xt].objectNumber>=0&&Rn[xt].objectNumber<R&&Ft("/"+xt+" "+Rn[xt].objectNumber+" 0 R");jn.publish("putTilingPatternDict"),Ft(">>")}},Zi=function(){if(Object.keys(oi).length>0){var R;for(R in Ft("/ExtGState <<"),oi)oi.hasOwnProperty(R)&&oi[R].objectNumber>=0&&Ft("/"+R+" "+oi[R].objectNumber+" 0 R");jn.publish("putGStateDict"),Ft(">>")}},fo=function(R){ii(R.resourcesOid,!0),Ft("<<"),Ft("/ProcSet [/PDF /Text /ImageB /ImageC /ImageI]"),nl(),El(),$i(R.objectOid),Zi(),Qn(),Ft(">>"),Ft("endobj")},Hs=function(){var R=[];Fo(),Nn(),bs(),Ur(R),jn.publish("putResources"),R.forEach(fo),fo({resourcesOid:Ua,objectOid:Number.MAX_SAFE_INTEGER}),jn.publish("postPutResources")},li=function(){jn.publish("putAdditionalObjects");for(var R=0;R<je.length;R++){var xt=je[R];ii(xt.objId,!0),Ft(xt.content),Ft("endobj")}jn.publish("postPutAdditionalObjects")},qs=function(R){pi[R.fontName]=pi[R.fontName]||{},pi[R.fontName][R.fontStyle]=R.id},In=function(R,xt,Wt,be,Se){var dr={id:"F"+(Object.keys(mn).length+1).toString(10),postScriptName:R,fontName:xt,fontStyle:Wt,encoding:be,isStandardFont:Se||!1,metadata:{}};return jn.publish("addFont",{font:dr,instance:this}),mn[dr.id]=dr,qs(dr),dr.id},fu=function(R){for(var xt=0,Wt=Ve.length;xt<Wt;xt++){var be=In.call(this,R[xt][0],R[xt][1],R[xt][2],Ve[xt][3],!0);st===!1&&(bt[be]=!0);var Se=R[xt][0].split("-");qs({id:be,fontName:Se[0],fontStyle:Se[1]||""})}jn.publish("addFonts",{fonts:mn,dictionary:pi})},il=function(R){return R.foo=function(){try{return R.apply(this,arguments)}catch(be){var xt=be.stack||"";~xt.indexOf(" at ")&&(xt=xt.split(" at ")[1]);var Wt="Error in function "+xt.split(`
`)[0].split("<")[0]+": "+be.message;if(!ve.console)throw new Error(Wt);ve.console.error(Wt,be),ve.alert&&alert(Wt)}},R.foo.bar=R,R.foo},Mo=function(R,xt){var Wt,be,Se,dr,br,Hr,Zr,dn,Mn;if(Se=(xt=xt||{}).sourceEncoding||"Unicode",br=xt.outputEncoding,(xt.autoencode||br)&&mn[cn].metadata&&mn[cn].metadata[Se]&&mn[cn].metadata[Se].encoding&&(dr=mn[cn].metadata[Se].encoding,!br&&mn[cn].encoding&&(br=mn[cn].encoding),!br&&dr.codePages&&(br=dr.codePages[0]),typeof br=="string"&&(br=dr[br]),br)){for(Zr=!1,Hr=[],Wt=0,be=R.length;Wt<be;Wt++)(dn=br[R.charCodeAt(Wt)])?Hr.push(String.fromCharCode(dn)):Hr.push(R[Wt]),Hr[Wt].charCodeAt(0)>>8&&(Zr=!0);R=Hr.join("")}for(Wt=R.length;Zr===void 0&&Wt!==0;)R.charCodeAt(Wt-1)>>8&&(Zr=!0),Wt--;if(!Zr)return R;for(Hr=xt.noBOM?[]:[254,255],Wt=0,be=R.length;Wt<be;Wt++){if((Mn=(dn=R.charCodeAt(Wt))>>8)>>8)throw new Error("Character at position "+Wt+" of string '"+R+"' exceeds 16bits. Cannot be encoded into UCS-2 BE");Hr.push(Mn),Hr.push(dn-(Mn<<8))}return String.fromCharCode.apply(void 0,Hr)},Mi=z.__private__.pdfEscape=z.pdfEscape=function(k,R){return Mo(k,R).replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},po=z.__private__.beginPage=function(k){ur[++Zn]=[],un[Zn]={objId:0,contentsObjId:0,userUnit:Number(I),artBox:null,bleedBox:null,cropBox:null,trimBox:null,mediaBox:{bottomLeftX:0,bottomLeftY:0,topRightX:Number(k[0]),topRightY:Number(k[1])}},za(Zn),Gr(ur[ft])},ws=function(R,xt){var Wt,be,Se;switch(v=xt||v,typeof R=="string"&&(Wt=Tt(R.toLowerCase()),Array.isArray(Wt)&&(be=Wt[0],Se=Wt[1])),Array.isArray(R)&&(be=R[0]*Mr,Se=R[1]*Mr),isNaN(be)&&(be=_[0],Se=_[1]),(be>14400||Se>14400)&&(_t.warn("A page in a PDF can not be wider or taller than 14400 userUnit. jsPDF limits the width/height to 14400"),be=Math.min(14400,be),Se=Math.min(14400,Se)),_=[be,Se],v.substr(0,1)){case"l":Se>be&&(_=[Se,be]);break;case"p":be>Se&&(_=[Se,be])}po(_),Uo(_s),Ft(os),wn!==0&&Ft(wn+" J"),ll!==0&&Ft(ll+" j"),jn.publish("addPage",{pageNumber:Zn})},go=function(R){R>0&&R<=Zn&&(ur.splice(R,1),un.splice(R,1),Zn--,ft>Zn&&(ft=Zn),this.setPage(ft))},za=function(R){R>0&&R<=Zn&&(ft=R)},Io=z.__private__.getNumberOfPages=z.getNumberOfPages=function(){return ur.length-1},al=function(R,xt,Wt){var be,Se=void 0;return Wt=Wt||{},R=R!==void 0?R:mn[cn].fontName,xt=xt!==void 0?xt:mn[cn].fontStyle,be=R.toLowerCase(),pi[be]!==void 0&&pi[be][xt]!==void 0?Se=pi[be][xt]:pi[R]!==void 0&&pi[R][xt]!==void 0?Se=pi[R][xt]:Wt.disableWarning===!1&&_t.warn("Unable to look up font label for font '"+R+"', '"+xt+"'. Refer to getFontList() for available fonts."),Se||Wt.noFallback||(Se=pi.times[xt])==null&&(Se=pi.times.normal),Se},Do=z.__private__.putInfo=function(){var k=ni(),R=function(be){return be};for(var xt in ut!==null&&(R=Ti.encryptor(k,0)),Ft("<<"),Ft("/Producer ("+Mi(R("jsPDF "+Z.version))+")"),Vr)Vr.hasOwnProperty(xt)&&Vr[xt]&&Ft("/"+xt.substr(0,1).toUpperCase()+xt.substr(1)+" ("+Mi(R(Vr[xt]))+")");Ft("/CreationDate ("+Mi(R(qe))+")"),Ft(">>"),Ft("endobj")},kl=z.__private__.putCatalog=function(k){var R=(k=k||{}).rootDictionaryObjId||Ws;switch(ni(),Ft("<<"),Ft("/Type /Catalog"),Ft("/Pages "+R+" 0 R"),Sr||(Sr="fullwidth"),Sr){case"fullwidth":Ft("/OpenAction [3 0 R /FitH null]");break;case"fullheight":Ft("/OpenAction [3 0 R /FitV null]");break;case"fullpage":Ft("/OpenAction [3 0 R /Fit]");break;case"original":Ft("/OpenAction [3 0 R /XYZ null null 1]");break;default:var xt=""+Sr;xt.substr(xt.length-1)==="%"&&(Sr=parseInt(Sr)/100),typeof Sr=="number"&&Ft("/OpenAction [3 0 R /XYZ null null "+ze(Sr)+"]")}switch(tn||(tn="continuous"),tn){case"continuous":Ft("/PageLayout /OneColumn");break;case"single":Ft("/PageLayout /SinglePage");break;case"two":case"twoleft":Ft("/PageLayout /TwoColumnLeft");break;case"tworight":Ft("/PageLayout /TwoColumnRight")}Yr&&Ft("/PageMode /"+Yr),jn.publish("putCatalog"),Ft(">>"),Ft("endobj")},Fl=z.__private__.putTrailer=function(){Ft("trailer"),Ft("<<"),Ft("/Size "+(ge+1)),Ft("/Root "+ge+" 0 R"),Ft("/Info "+(ge-1)+" 0 R"),ut!==null&&Ft("/Encrypt "+Ti.oid+" 0 R"),Ft("/ID [ <"+We+"> <"+We+"> ]"),Ft(">>")},Gs=z.__private__.putHeader=function(){Ft("%PDF-"+Dt),Ft("%\xBA\xDF\xAC\xE0")},Nl=z.__private__.putXRef=function(){var k="0000000000";Ft("xref"),Ft("0 "+(ge+1)),Ft("0000000000 65535 f ");for(var R=1;R<=ge;R++)typeof Ae[R]=="function"?Ft((k+Ae[R]()).slice(-10)+" 00000 n "):Ae[R]!==void 0?Ft((k+Ae[R]).slice(-10)+" 00000 n "):Ft("0000000000 00000 n ")},oa=z.__private__.buildDocument=function(){en(),Gr(Xe),jn.publish("buildDocument"),Gs(),ss(),li(),Hs(),ut!==null&&Pn(),Do(),kl();var k=Me;return Nl(),Fl(),Ft("startxref"),Ft(""+k),Ft("%%EOF"),Gr(ur[ft]),Xe.join(`
`)},Sa=z.__private__.getBlob=function(k){return new Blob([Or(k)],{type:"application/pdf"})},Ro=z.output=z.__private__.output=il(function(k,R){switch(typeof(R=R||{})=="string"?R={filename:R}:R.filename=R.filename||"generated.pdf",k){case void 0:return oa();case"save":z.save(R.filename);break;case"arraybuffer":return Or(oa());case"blob":return Sa(oa());case"bloburi":case"bloburl":if(ve.URL!==void 0&&typeof ve.URL.createObjectURL=="function")return ve.URL&&ve.URL.createObjectURL(Sa(oa()))||void 0;_t.warn("bloburl is not supported by your system, because URL.createObjectURL is not supported by your browser.");break;case"datauristring":case"dataurlstring":var xt="",Wt=oa();try{xt=l(Wt)}catch(si){xt=l(unescape(encodeURIComponent(Wt)))}return"data:application/pdf;filename="+R.filename+";base64,"+xt;case"pdfobjectnewwindow":if(Object.prototype.toString.call(ve)==="[object Window]"){var be="https://cdnjs.cloudflare.com/ajax/libs/pdfobject/2.1.1/pdfobject.min.js",Se=' integrity="sha512-4ze/a9/4jqu+tX9dfOqJYSvyYd5M6qum/3HpCLr+/Jqf0whc37VUbkpNGHR7/8pSnCFw47T1fmIpwBV7UySh3g==" crossorigin="anonymous"';R.pdfObjectUrl&&(be=R.pdfObjectUrl,Se="");var dr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><script src="'+be+'"'+Se+'></script><script >PDFObject.embed("'+this.output("dataurlstring")+'", '+JSON.stringify(R)+");</script></body></html>",br=ve.open();return br!==null&&br.document.write(dr),br}throw new Error("The option pdfobjectnewwindow just works in a browser-environment.");case"pdfjsnewwindow":if(Object.prototype.toString.call(ve)==="[object Window]"){var Hr='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe id="pdfViewer" src="'+(R.pdfJsUrl||"examples/PDF.js/web/viewer.html")+"?file=&downloadName="+R.filename+'" width="500px" height="400px" /></body></html>',Zr=ve.open();if(Zr!==null){Zr.document.write(Hr);var dn=this;Zr.document.documentElement.querySelector("#pdfViewer").onload=function(){Zr.document.title=R.filename,Zr.document.documentElement.querySelector("#pdfViewer").contentWindow.PDFViewerApplication.open(dn.output("bloburl"))}}return Zr}throw new Error("The option pdfjsnewwindow just works in a browser-environment.");case"dataurlnewwindow":if(Object.prototype.toString.call(ve)!=="[object Window]")throw new Error("The option dataurlnewwindow just works in a browser-environment.");var Mn='<html><style>html, body { padding: 0; margin: 0; } iframe { width: 100%; height: 100%; border: 0;}  </style><body><iframe src="'+this.output("datauristring",R)+'"></iframe></body></html>',An=ve.open();if(An!==null&&(An.document.write(Mn),An.document.title=R.filename),An||typeof safari=="undefined")return An;break;case"datauri":case"dataurl":return ve.document.location.href=this.output("datauristring",R);default:return null}}),Ml=function(R){return Array.isArray(uo)===!0&&uo.indexOf(R)>-1};switch(y){case"pt":Mr=1;break;case"mm":Mr=72/25.4;break;case"cm":Mr=72/2.54;break;case"in":Mr=72;break;case"px":Mr=Ml("px_scaling")==1?.75:96/72;break;case"pc":case"em":Mr=12;break;case"ex":Mr=6;break;default:if(typeof y!="number")throw new Error("Invalid unit: "+y);Mr=y}var Ti=null;wr(),Oe();var du=function(R){return ut!==null?Ti.encryptor(R,0):function(xt){return xt}},vo=z.__private__.getPageInfo=z.getPageInfo=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfo");return{objId:un[k].objId,pageNumber:k,pageContext:un[k]}},Bo=z.__private__.getPageInfoByObjId=function(k){if(isNaN(k)||k%1!=0)throw new Error("Invalid argument passed to jsPDF.getPageInfoByObjId");for(var R in un)if(un[R].objId===k)break;return vo(R)},sl=z.__private__.getCurrentPageInfo=z.getCurrentPageInfo=function(){return{objId:un[ft].objId,pageNumber:ft,pageContext:un[ft]}};z.addPage=function(){return ws.apply(this,arguments),this},z.setPage=function(){return za.apply(this,arguments),Gr.call(this,ur[ft]),this},z.insertPage=function(k){return this.addPage(),this.movePage(ft,k),this},z.movePage=function(k,R){var xt,Wt;if(k>R){xt=ur[k],Wt=un[k];for(var be=k;be>R;be--)ur[be]=ur[be-1],un[be]=un[be-1];ur[R]=xt,un[R]=Wt,this.setPage(R)}else if(k<R){xt=ur[k],Wt=un[k];for(var Se=k;Se<R;Se++)ur[Se]=ur[Se+1],un[Se]=un[Se+1];ur[R]=xt,un[R]=Wt,this.setPage(R)}return this},z.deletePage=function(){return go.apply(this,arguments),this},z.__private__.text=z.text=function(k,R,xt,Wt,be){var Se,dr,br,Hr,Zr,dn,Mn,An,si,ri=(Wt=Wt||{}).scope||this;if(typeof k=="number"&&typeof R=="number"&&(typeof xt=="string"||Array.isArray(xt))){var qi=xt;xt=R,R=k,k=qi}if(arguments[3]instanceof rn?(lr("The transform parameter of text() with a Matrix value"),si=be):(br=arguments[4],Hr=arguments[5],Ut()(Mn=arguments[3])==="object"&&Mn!==null||(typeof br=="string"&&(Hr=br,br=null),typeof Mn=="string"&&(Hr=Mn,Mn=null),typeof Mn=="number"&&(br=Mn,Mn=null),Wt={flags:Mn,angle:br,align:Hr})),isNaN(R)||isNaN(xt)||k==null)throw new Error("Invalid arguments passed to jsPDF.text");if(k.length===0)return ri;var wi="",Ga=!1,yo=typeof Wt.lineHeightFactor=="number"?Wt.lineHeightFactor:Aa,dl=ri.internal.scaleFactor;function As(ui){return ui=ui.split("	").join(Array(Wt.TabLen||9).join(" ")),Mi(ui,Mn)}function pl(ui){for(var zn,Di=ui.concat(),hi=[],Yi=Di.length;Yi--;)typeof(zn=Di.shift())=="string"?hi.push(zn):Array.isArray(ui)&&(zn.length===1||zn[1]===void 0&&zn[2]===void 0)?hi.push(zn[0]):hi.push([zn[0],zn[1],zn[2]]);return hi}function bo(ui,zn){var Di;if(typeof ui=="string")Di=zn(ui)[0];else if(Array.isArray(ui)){for(var hi,Yi,Vo=ui.concat(),Es=[],Hl=Vo.length;Hl--;)typeof(hi=Vo.shift())=="string"?Es.push(zn(hi)[0]):Array.isArray(hi)&&typeof hi[0]=="string"&&(Yi=zn(hi[0],hi[1],hi[2]),Es.push([Yi[0],Yi[1],Yi[2]]));Di=Es}return Di}var hs=!1,Xs=!0;if(typeof k=="string")hs=!0;else if(Array.isArray(k)){var gl=k.concat();dr=[];for(var wo,ua=gl.length;ua--;)(typeof(wo=gl.shift())!="string"||Array.isArray(wo)&&typeof wo[0]!="string")&&(Xs=!1);hs=Xs}if(hs===!1)throw new Error('Type of text must be string or Array. "'+k+'" is not recognized.');typeof k=="string"&&(k=k.match(/[\r?\n]/)?k.split(/\r\n|\r|\n/g):[k]);var zi=Fr/ri.internal.scaleFactor,Ks=zi*(yo-1);switch(Wt.baseline){case"bottom":xt-=Ks;break;case"top":xt+=zi-Ks;break;case"hanging":xt+=zi-2*Ks;break;case"middle":xt+=zi/2-Ks}if((dn=Wt.maxWidth||0)>0&&(typeof k=="string"?k=ri.splitTextToSize(k,dn):Object.prototype.toString.call(k)==="[object Array]"&&(k=k.reduce(function(ui,zn){return ui.concat(ri.splitTextToSize(zn,dn))},[]))),Se={text:k,x:R,y:xt,options:Wt,mutex:{pdfEscape:Mi,activeFontKey:cn,fonts:mn,activeFontSize:Fr}},jn.publish("preProcessText",Se),k=Se.text,br=(Wt=Se.options).angle,!(si instanceof rn)&&br&&typeof br=="number"){br*=Math.PI/180,Wt.rotationDirection===0&&(br=-br),de===rt.ADVANCED&&(br=-br);var cs=Math.cos(br),Ii=Math.sin(br);si=new rn(cs,Ii,-Ii,cs,0,0)}else br&&br instanceof rn&&(si=br);de!==rt.ADVANCED||si||(si=xa),(Zr=Wt.charSpace||Cs)!==void 0&&(wi+=Be(Lt(Zr))+` Tc
`,this.setCharSpace(this.getCharSpace()||0)),(An=Wt.horizontalScale)!==void 0&&(wi+=Be(100*An)+` Tz
`),Wt.lang;var Gi=-1,Wl=Wt.renderingMode!==void 0?Wt.renderingMode:Wt.stroke,qo=ri.internal.getCurrentPageInfo().pageContext;switch(Wl){case 0:case!1:case"fill":Gi=0;break;case 1:case!0:case"stroke":Gi=1;break;case 2:case"fillThenStroke":Gi=2;break;case 3:case"invisible":Gi=3;break;case 4:case"fillAndAddForClipping":Gi=4;break;case 5:case"strokeAndAddPathForClipping":Gi=5;break;case 6:case"fillThenStrokeAndAddToPathForClipping":Gi=6;break;case 7:case"addToPathForClipping":Gi=7}var _o=qo.usedRenderingMode!==void 0?qo.usedRenderingMode:-1;Gi!==-1?wi+=Gi+` Tr
`:_o!==-1&&(wi+=`0 Tr
`),Gi!==-1&&(qo.usedRenderingMode=Gi),Hr=Wt.align||"left";var Ei,xo=Fr*yo,mu=ri.internal.pageSize.getWidth(),Go=mn[cn];Zr=Wt.charSpace||Cs,dn=Wt.maxWidth||0,Mn=Object.assign({autoencode:!0,noBOM:!0},Wt.flags);var So=[];if(Object.prototype.toString.call(k)==="[object Array]"){var Ta;dr=pl(k),Hr!=="left"&&(Ei=dr.map(function(ui){return ri.getStringUnitWidth(ui,{font:Go,charSpace:Zr,fontSize:Fr,doKerning:!1})*Fr/dl}));var Xn,Ts=0;if(Hr==="right"){R-=Ei[0],k=[],ua=dr.length;for(var Ya=0;Ya<ua;Ya++)Ya===0?(Xn=xs(R),Ta=Ss(xt)):(Xn=Lt(Ts-Ei[Ya]),Ta=-xo),k.push([dr[Ya],Xn,Ta]),Ts=Ei[Ya]}else if(Hr==="center"){R-=Ei[0]/2,k=[],ua=dr.length;for(var Pi=0;Pi<ua;Pi++)Pi===0?(Xn=xs(R),Ta=Ss(xt)):(Xn=Lt((Ts-Ei[Pi])/2),Ta=-xo),k.push([dr[Pi],Xn,Ta]),Ts=Ei[Pi]}else if(Hr==="left"){k=[],ua=dr.length;for(var Js=0;Js<ua;Js++)k.push(dr[Js])}else{if(Hr!=="justify")throw new Error('Unrecognized alignment option, use "left", "center", "right" or "justify".');k=[],ua=dr.length,dn=dn!==0?dn:mu;for(var ta=0;ta<ua;ta++)Ta=ta===0?Ss(xt):-xo,Xn=ta===0?xs(R):0,ta<ua-1?So.push(Be(Lt((dn-Ei[ta])/(dr[ta].split(" ").length-1)))):So.push(0),k.push([dr[ta],Xn,Ta])}}var fs=typeof Wt.R2L=="boolean"?Wt.R2L:Wr;fs===!0&&(k=bo(k,function(ui,zn,Di){return[ui.split("").reverse().join(""),zn,Di]})),Se={text:k,x:R,y:xt,options:Wt,mutex:{pdfEscape:Mi,activeFontKey:cn,fonts:mn,activeFontSize:Fr}},jn.publish("postProcessText",Se),k=Se.text,Ga=Se.mutex.isHex||!1;var $s=mn[cn].encoding;$s!=="WinAnsiEncoding"&&$s!=="StandardEncoding"||(k=bo(k,function(ui,zn,Di){return[As(ui),zn,Di]})),dr=pl(k),k=[];for(var mi,ds,Pa,Zs=0,Yo=1,Ps=Array.isArray(dr[0])?Yo:Zs,Qs="",Ls=function(zn,Di,hi){var Yi="";return hi instanceof rn?(hi=typeof Wt.angle=="number"?Ji(hi,new rn(1,0,0,1,zn,Di)):Ji(new rn(1,0,0,1,zn,Di),hi),de===rt.ADVANCED&&(hi=Ji(new rn(1,0,0,-1,0,0),hi)),Yi=hi.join(" ")+` Tm
`):Yi=Be(zn)+" "+Be(Di)+` Td
`,Yi},ha=0;ha<dr.length;ha++){switch(Qs="",Ps){case Yo:Pa=(Ga?"<":"(")+dr[ha][0]+(Ga?">":")"),mi=parseFloat(dr[ha][1]),ds=parseFloat(dr[ha][2]);break;case Zs:Pa=(Ga?"<":"(")+dr[ha]+(Ga?">":")"),mi=xs(R),ds=Ss(xt)}So!==void 0&&So[ha]!==void 0&&(Qs=So[ha]+` Tw
`),ha===0?k.push(Qs+Ls(mi,ds,si)+Pa):Ps===Zs?k.push(Qs+Pa):Ps===Yo&&k.push(Qs+Ls(mi,ds,si)+Pa)}k=Ps===Zs?k.join(` Tj
T* `):k.join(` Tj
`),k+=` Tj
`;var Os=`BT
/`;return Os+=cn+" "+Fr+` Tf
`,Os+=Be(Fr*yo)+` TL
`,Os+=at+`
`,Os+=wi,Os+=k,Ft(Os+="ET"),bt[cn]=!0,ri};var hn=z.__private__.clip=z.clip=function(k){return Ft(k==="evenodd"?"W*":"W"),this};z.clipEvenOdd=function(){return hn("evenodd")},z.__private__.discardPath=z.discardPath=function(){return Ft("n"),this};var Wa=z.__private__.isValidStyle=function(k){var R=!1;return[void 0,null,"S","D","F","DF","FD","f","f*","B","B*","n"].indexOf(k)!==-1&&(R=!0),R};z.__private__.setDefaultPathOperation=z.setDefaultPathOperation=function(k){return Wa(k)&&(H=k),this};var Il=z.__private__.getStyle=z.getStyle=function(k){var R=H;switch(k){case"D":case"S":R="S";break;case"F":R="f";break;case"FD":case"DF":R="B";break;case"f":case"f*":case"B":case"B*":R=k}return R},Dl=z.close=function(){return Ft("h"),this};z.stroke=function(){return Ft("S"),this},z.fill=function(k){return ai("f",k),this},z.fillEvenOdd=function(k){return ai("f*",k),this},z.fillStroke=function(k){return ai("B",k),this},z.fillStrokeEvenOdd=function(k){return ai("B*",k),this};var ai=function(R,xt){Ut()(xt)==="object"?gu(xt,R):Ft(R)},bi=function(R){R===null||de===rt.ADVANCED&&R===void 0||(R=Il(R),Ft(R))};function pu(k,R,xt,Wt,be){var Se=new me(R||this.boundingBox,xt||this.xStep,Wt||this.yStep,this.gState,be||this.matrix);Se.stream=this.stream;var dr=k+"$$"+this.cloneIndex+++"$$";return ys(dr,Se),Se}var gu=function(R,xt){var Wt=es[R.key],be=Rn[Wt];if(be instanceof lt)Ft("q"),Ft(Rl(xt)),be.gState&&z.setGState(be.gState),Ft(R.matrix.toString()+" cm"),Ft("/"+Wt+" sh"),Ft("Q");else if(be instanceof me){var Se=new rn(1,0,0,-1,0,us());R.matrix&&(Se=Se.multiply(R.matrix||xa),Wt=pu.call(be,R.key,R.boundingBox,R.xStep,R.yStep,Se).id),Ft("q"),Ft("/Pattern cs"),Ft("/"+Wt+" scn"),be.gState&&z.setGState(be.gState),Ft(xt),Ft("Q")}},Rl=function(R){switch(R){case"f":case"F":return"W n";case"f*":return"W* n";case"B":return"W S";case"B*":return"W* S";case"S":return"W S";case"n":return"W n"}},ol=z.moveTo=function(k,R){return Ft(Be(Lt(k))+" "+Be(Xt(R))+" m"),this},jo=z.lineTo=function(k,R){return Ft(Be(Lt(k))+" "+Be(Xt(R))+" l"),this},Ca=z.curveTo=function(k,R,xt,Wt,be,Se){return Ft([Be(Lt(k)),Be(Xt(R)),Be(Lt(xt)),Be(Xt(Wt)),Be(Lt(be)),Be(Xt(Se)),"c"].join(" ")),this};z.__private__.line=z.line=function(k,R,xt,Wt,be){if(isNaN(k)||isNaN(R)||isNaN(xt)||isNaN(Wt)||!Wa(be))throw new Error("Invalid arguments passed to jsPDF.line");return de===rt.COMPAT?this.lines([[xt-k,Wt-R]],k,R,[1,1],be||"S"):this.lines([[xt-k,Wt-R]],k,R,[1,1]).stroke()},z.__private__.lines=z.lines=function(k,R,xt,Wt,be,Se){var dr,br,Hr,Zr,dn,Mn,An,si,ri,qi,wi,Ga;if(typeof k=="number"&&(Ga=xt,xt=R,R=k,k=Ga),Wt=Wt||[1,1],Se=Se||!1,isNaN(R)||isNaN(xt)||!Array.isArray(k)||!Array.isArray(Wt)||!Wa(be)||typeof Se!="boolean")throw new Error("Invalid arguments passed to jsPDF.lines");for(ol(R,xt),dr=Wt[0],br=Wt[1],Zr=k.length,qi=R,wi=xt,Hr=0;Hr<Zr;Hr++)(dn=k[Hr]).length===2?(qi=dn[0]*dr+qi,wi=dn[1]*br+wi,jo(qi,wi)):(Mn=dn[0]*dr+qi,An=dn[1]*br+wi,si=dn[2]*dr+qi,ri=dn[3]*br+wi,qi=dn[4]*dr+qi,wi=dn[5]*br+wi,Ca(Mn,An,si,ri,qi,wi));return Se&&Dl(),bi(be),this},z.path=function(k){for(var R=0;R<k.length;R++){var xt=k[R],Wt=xt.c;switch(xt.op){case"m":ol(Wt[0],Wt[1]);break;case"l":jo(Wt[0],Wt[1]);break;case"c":Ca.apply(this,Wt);break;case"h":Dl()}}return this},z.__private__.rect=z.rect=function(k,R,xt,Wt,be){if(isNaN(k)||isNaN(R)||isNaN(xt)||isNaN(Wt)||!Wa(be))throw new Error("Invalid arguments passed to jsPDF.rect");return de===rt.COMPAT&&(Wt=-Wt),Ft([Be(Lt(k)),Be(Xt(R)),Be(Lt(xt)),Be(Lt(Wt)),"re"].join(" ")),bi(be),this},z.__private__.triangle=z.triangle=function(k,R,xt,Wt,be,Se,dr){if(isNaN(k)||isNaN(R)||isNaN(xt)||isNaN(Wt)||isNaN(be)||isNaN(Se)||!Wa(dr))throw new Error("Invalid arguments passed to jsPDF.triangle");return this.lines([[xt-k,Wt-R],[be-xt,Se-Wt],[k-be,R-Se]],k,R,[1,1],dr,!0),this},z.__private__.roundedRect=z.roundedRect=function(k,R,xt,Wt,be,Se,dr){if(isNaN(k)||isNaN(R)||isNaN(xt)||isNaN(Wt)||isNaN(be)||isNaN(Se)||!Wa(dr))throw new Error("Invalid arguments passed to jsPDF.roundedRect");var br=4/3*(Math.SQRT2-1);return be=Math.min(be,.5*xt),Se=Math.min(Se,.5*Wt),this.lines([[xt-2*be,0],[be*br,0,be,Se-Se*br,be,Se],[0,Wt-2*Se],[0,Se*br,-be*br,Se,-be,Se],[2*be-xt,0],[-be*br,0,-be,-Se*br,-be,-Se],[0,2*Se-Wt],[0,-Se*br,be*br,-Se,be,-Se]],k+be,R,[1,1],dr,!0),this},z.__private__.ellipse=z.ellipse=function(k,R,xt,Wt,be){if(isNaN(k)||isNaN(R)||isNaN(xt)||isNaN(Wt)||!Wa(be))throw new Error("Invalid arguments passed to jsPDF.ellipse");var Se=4/3*(Math.SQRT2-1)*xt,dr=4/3*(Math.SQRT2-1)*Wt;return ol(k+xt,R),Ca(k+xt,R-dr,k+Se,R-Wt,k,R-Wt),Ca(k-Se,R-Wt,k-xt,R-dr,k-xt,R),Ca(k-xt,R+dr,k-Se,R+Wt,k,R+Wt),Ca(k+Se,R+Wt,k+xt,R+dr,k+xt,R),bi(be),this},z.__private__.circle=z.circle=function(k,R,xt,Wt){if(isNaN(k)||isNaN(R)||isNaN(xt)||!Wa(Wt))throw new Error("Invalid arguments passed to jsPDF.circle");return this.ellipse(k,R,xt,xt,Wt)},z.setFont=function(k,R,xt){return xt&&(R=nr(R,xt)),cn=al(k,R,{disableWarning:!1}),this};var Ys=z.__private__.getFont=z.getFont=function(){return mn[al.apply(z,arguments)]};z.__private__.getFontList=z.getFontList=function(){var k,R,xt={};for(k in pi)if(pi.hasOwnProperty(k))for(R in xt[k]=[],pi[k])pi[k].hasOwnProperty(R)&&xt[k].push(R);return xt},z.addFont=function(k,R,xt,Wt,be){var Se=["StandardEncoding","MacRomanEncoding","Identity-H","WinAnsiEncoding"];return arguments[3]&&Se.indexOf(arguments[3])!==-1?be=arguments[3]:arguments[3]&&Se.indexOf(arguments[3])==-1&&(xt=nr(xt,Wt)),be=be||"Identity-H",In.call(this,k,R,xt,be)};var Aa,_s=A.lineWidth||.200025,mo=z.__private__.getLineWidth=z.getLineWidth=function(){return _s},Uo=z.__private__.setLineWidth=z.setLineWidth=function(k){return _s=k,Ft(Be(Lt(k))+" w"),this};z.__private__.setLineDash=Z.API.setLineDash=Z.API.setLineDashPattern=function(k,R){if(k=k||[],R=R||0,isNaN(R)||!Array.isArray(k))throw new Error("Invalid arguments passed to jsPDF.setLineDash");return k=k.map(function(xt){return Be(Lt(xt))}).join(" "),R=Be(Lt(R)),Ft("["+k+"] "+R+" d"),this};var Ha=z.__private__.getLineHeight=z.getLineHeight=function(){return Fr*Aa};z.__private__.getLineHeight=z.getLineHeight=function(){return Fr*Aa};var Bl=z.__private__.setLineHeightFactor=z.setLineHeightFactor=function(k){return typeof(k=k||1.15)=="number"&&(Aa=k),this},jl=z.__private__.getLineHeightFactor=z.getLineHeightFactor=function(){return Aa};Bl(A.lineHeight);var xs=z.__private__.getHorizontalCoordinate=function(k){return Lt(k)},Ss=z.__private__.getVerticalCoordinate=function(k){return de===rt.ADVANCED?k:un[ft].mediaBox.topRightY-un[ft].mediaBox.bottomLeftY-Lt(k)},Ul=z.__private__.getHorizontalCoordinateString=z.getHorizontalCoordinateString=function(k){return Be(xs(k))},zo=z.__private__.getVerticalCoordinateString=z.getVerticalCoordinateString=function(k){return Be(Ss(k))},os=A.strokeColor||"0 G";z.__private__.getStrokeColor=z.getDrawColor=function(){return as(os)},z.__private__.setStrokeColor=z.setDrawColor=function(k,R,xt,Wt){return os=Ui({ch1:k,ch2:R,ch3:xt,ch4:Wt,pdfColorType:"draw",precision:2}),Ft(os),this};var qa=A.fillColor||"0 g";z.__private__.getFillColor=z.getFillColor=function(){return as(qa)},z.__private__.setFillColor=z.setFillColor=function(k,R,xt,Wt){return qa=Ui({ch1:k,ch2:R,ch3:xt,ch4:Wt,pdfColorType:"fill",precision:2}),Ft(qa),this};var at=A.textColor||"0 g",Vs=z.__private__.getTextColor=z.getTextColor=function(){return as(at)};z.__private__.setTextColor=z.setTextColor=function(k,R,xt,Wt){return at=Ui({ch1:k,ch2:R,ch3:xt,ch4:Wt,pdfColorType:"text",precision:3}),this};var Cs=A.charSpace,Qi=z.__private__.getCharSpace=z.getCharSpace=function(){return parseFloat(Cs||0)};z.__private__.setCharSpace=z.setCharSpace=function(k){if(isNaN(k))throw new Error("Invalid argument passed to jsPDF.setCharSpace");return Cs=k,this};var wn=0;z.CapJoinStyles={0:0,butt:0,but:0,miter:0,1:1,round:1,rounded:1,circle:1,2:2,projecting:2,project:2,square:2,bevel:2},z.__private__.setLineCap=z.setLineCap=function(k){var R=z.CapJoinStyles[k];if(R===void 0)throw new Error("Line cap style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return wn=R,Ft(R+" J"),this};var ll=0;z.__private__.setLineJoin=z.setLineJoin=function(k){var R=z.CapJoinStyles[k];if(R===void 0)throw new Error("Line join style of '"+k+"' is not recognized. See or extend .CapJoinStyles property for valid styles");return ll=R,Ft(R+" j"),this},z.__private__.setLineMiterLimit=z.__private__.setMiterLimit=z.setLineMiterLimit=z.setMiterLimit=function(k){if(k=k||0,isNaN(k))throw new Error("Invalid argument passed to jsPDF.setLineMiterLimit");return Ft(Be(Lt(k))+" M"),this},z.GState=kr,z.setGState=function(k){(k=typeof k=="string"?oi[gi[k]]:zl(null,k)).equals(aa)||(Ft("/"+k.id+" gs"),aa=k)};var zl=function(R,xt){if(!R||!gi[R]){var Wt=!1;for(var be in oi)if(oi.hasOwnProperty(be)&&oi[be].equals(xt)){Wt=!0;break}if(Wt)xt=oi[be];else{var Se="GS"+(Object.keys(oi).length+1).toString(10);oi[Se]=xt,xt.id=Se}return R&&(gi[R]=xt.id),jn.publish("addGState",xt),xt}};z.addGState=function(k,R){return zl(k,R),this},z.saveGraphicsState=function(){return Ft("q"),_a.push({key:cn,size:Fr,color:at}),this},z.restoreGraphicsState=function(){Ft("Q");var k=_a.pop();return cn=k.key,Fr=k.size,at=k.color,aa=null,this},z.setCurrentTransformationMatrix=function(k){return Ft(k.toString()+" cm"),this},z.comment=function(k){return Ft("#"+k),this};var Wo=function(R,xt){var Wt=R||0;Object.defineProperty(this,"x",{enumerable:!0,get:function(){return Wt},set:function(br){isNaN(br)||(Wt=parseFloat(br))}});var be=xt||0;Object.defineProperty(this,"y",{enumerable:!0,get:function(){return be},set:function(br){isNaN(br)||(be=parseFloat(br))}});var Se="pt";return Object.defineProperty(this,"type",{enumerable:!0,get:function(){return Se},set:function(br){Se=br.toString()}}),this},ls=function(R,xt,Wt,be){Wo.call(this,R,xt),this.type="rect";var Se=Wt||0;Object.defineProperty(this,"w",{enumerable:!0,get:function(){return Se},set:function(Hr){isNaN(Hr)||(Se=parseFloat(Hr))}});var dr=be||0;return Object.defineProperty(this,"h",{enumerable:!0,get:function(){return dr},set:function(Hr){isNaN(Hr)||(dr=parseFloat(Hr))}}),this},ul=function(){this.page=Zn,this.currentPage=ft,this.pages=ur.slice(0),this.pagesContext=un.slice(0),this.x=Bi,this.y=Vn,this.matrix=Ci,this.width=cl(ft),this.height=us(ft),this.outputDestination=Cr,this.id="",this.objectNumber=-1};ul.prototype.restore=function(){Zn=this.page,ft=this.currentPage,un=this.pagesContext,ur=this.pages,Bi=this.x,Vn=this.y,Ci=this.matrix,la(ft,this.width),fl(ft,this.height),Cr=this.outputDestination};var hl=function(R,xt,Wt,be,Se){ns.push(new ul),Zn=ft=0,ur=[],Bi=R,Vn=xt,Ci=Se,po([Wt,be])},vu=function(R){if(rs[R])ns.pop().restore();else{var xt=new ul,Wt="Xo"+(Object.keys(ji).length+1).toString(10);xt.id=Wt,rs[R]=Wt,ji[Wt]=xt,jn.publish("addFormObject",xt),ns.pop().restore()}};for(var Ho in z.beginFormObject=function(k,R,xt,Wt,be){return hl(k,R,xt,Wt,be),this},z.endFormObject=function(k){return vu(k),this},z.doFormObject=function(k,R){var xt=ji[rs[k]];return Ft("q"),Ft(R.toString()+" cm"),Ft("/"+xt.id+" Do"),Ft("Q"),this},z.getFormObject=function(k){var R=ji[rs[k]];return{x:R.x,y:R.y,width:R.width,height:R.height,matrix:R.matrix}},z.save=function(k,R){return k=k||"generated.pdf",(R=R||{}).returnPromise=R.returnPromise||!1,R.returnPromise===!1?(n(Sa(oa()),k),typeof n.unload=="function"&&ve.setTimeout&&setTimeout(n.unload,911),this):new Promise(function(xt,Wt){try{var be=n(Sa(oa()),k);typeof n.unload=="function"&&ve.setTimeout&&setTimeout(n.unload,911),xt(be)}catch(Se){Wt(Se.message)}})},Z.API)Z.API.hasOwnProperty(Ho)&&(Ho==="events"&&Z.API.events.length?function(k,R){var xt,Wt,be;for(be=R.length-1;be!==-1;be--)xt=R[be][0],Wt=R[be][1],k.subscribe.apply(k,[xt].concat(typeof Wt=="function"?[Wt]:Wt))}(jn,Z.API.events):z[Ho]=Z.API[Ho]);var cl=z.getPageWidth=function(k){return(un[k=k||ft].mediaBox.topRightX-un[k].mediaBox.bottomLeftX)/Mr},la=z.setPageWidth=function(k,R){un[k].mediaBox.topRightX=R*Mr+un[k].mediaBox.bottomLeftX},us=z.getPageHeight=function(k){return(un[k=k||ft].mediaBox.topRightY-un[k].mediaBox.bottomLeftY)/Mr},fl=z.setPageHeight=function(k,R){un[k].mediaBox.topRightY=R*Mr+un[k].mediaBox.bottomLeftY};return z.internal={pdfEscape:Mi,getStyle:Il,getFont:Ys,getFontSize:jr,getCharSpace:Qi,getTextColor:Vs,getLineHeight:Ha,getLineHeightFactor:jl,getLineWidth:mo,write:Je,getHorizontalCoordinate:xs,getVerticalCoordinate:Ss,getCoordinateString:Ul,getVerticalCoordinateString:zo,collections:{},newObject:ni,newAdditionalObject:is,newObjectDeferred:Ai,newObjectDeferredBegin:ii,getFilters:vi,putStream:sa,events:jn,scaleFactor:Mr,pageSize:{getWidth:function(){return cl(ft)},setWidth:function(R){la(ft,R)},getHeight:function(){return us(ft)},setHeight:function(R){fl(ft,R)}},encryptionOptions:ut,encryption:Ti,getEncryptor:du,output:Ro,getNumberOfPages:Io,pages:ur,out:Ft,f2:ze,f3:Gt,getPageInfo:vo,getPageInfoByObjId:Bo,getCurrentPageInfo:sl,getPDFVersion:Ct,Point:Wo,Rectangle:ls,Matrix:rn,hasHotfix:Ml},Object.defineProperty(z.internal.pageSize,"width",{get:function(){return cl(ft)},set:function(R){la(ft,R)},enumerable:!0,configurable:!0}),Object.defineProperty(z.internal.pageSize,"height",{get:function(){return us(ft)},set:function(R){fl(ft,R)},enumerable:!0,configurable:!0}),fu.call(z,Ve),cn="F1",ws(_,v),jn.publish("initialized"),z}Ke.prototype.lsbFirstWord=function(A){return String.fromCharCode(A>>0&255,A>>8&255,A>>16&255,A>>24&255)},Ke.prototype.toHexString=function(A){return A.split("").map(function(p){return("0"+(255&p.charCodeAt(0)).toString(16)).slice(-2)}).join("")},Ke.prototype.hexToBytes=function(A){for(var p=[],v=0;v<A.length;v+=2)p.push(String.fromCharCode(parseInt(A.substr(v,2),16)));return p.join("")},Ke.prototype.processOwnerPassword=function(A,p){return sr(Zt(p).substr(0,5),A)},Ke.prototype.encryptor=function(A,p){var v=Zt(this.encryptionKey+String.fromCharCode(255&A,A>>8&255,A>>16&255,255&p,p>>8&255)).substr(0,10);return function(y){return sr(v,y)}},kr.prototype.equals=function(A){var p,v="id,objectNumber,equals";if(!A||Ut()(A)!==Ut()(this))return!1;var y=0;for(p in this)if(!(v.indexOf(p)>=0)){if(this.hasOwnProperty(p)&&!A.hasOwnProperty(p)||this[p]!==A[p])return!1;y++}for(p in A)A.hasOwnProperty(p)&&v.indexOf(p)<0&&y--;return y===0},Z.API={events:[]},Z.version="2.5.1";var ct=Z.API,Ot=1,U=function(p){return p.replace(/\\/g,"\\\\").replace(/\(/g,"\\(").replace(/\)/g,"\\)")},tt=function(p){return p.replace(/\\\\/g,"\\").replace(/\\\(/g,"(").replace(/\\\)/g,")")},mt=function(p){return p.toFixed(2)},pt=function(p){return p.toFixed(5)};ct.__acroform__={};var Yt=function(p,v){p.prototype=Object.create(v.prototype),p.prototype.constructor=p},St=function(p){return p*Ot},Et=function(p){var v=new xr,y=Nr.internal.getHeight(p)||0,_=Nr.internal.getWidth(p)||0;return v.BBox=[0,0,Number(mt(_)),Number(mt(y))],v},re=ct.__acroform__.setBit=function(A,p){if(A=A||0,p=p||0,isNaN(A)||isNaN(p))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBit");return A|=1<<p},Vt=ct.__acroform__.clearBit=function(A,p){if(A=A||0,p=p||0,isNaN(A)||isNaN(p))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBit");return A&=~(1<<p)},Ht=ct.__acroform__.getBit=function(A,p){if(isNaN(A)||isNaN(p))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBit");return(A&1<<p)==0?0:1},Nt=ct.__acroform__.getBitForPdf=function(A,p){if(isNaN(A)||isNaN(p))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.getBitForPdf");return Ht(A,p-1)},te=ct.__acroform__.setBitForPdf=function(A,p){if(isNaN(A)||isNaN(p))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.setBitForPdf");return re(A,p-1)},oe=ct.__acroform__.clearBitForPdf=function(A,p){if(isNaN(A)||isNaN(p))throw new Error("Invalid arguments passed to jsPDF.API.__acroform__.clearBitForPdf");return Vt(A,p-1)},Pe=ct.__acroform__.calculateCoordinates=function(A,p){var v=p.internal.getHorizontalCoordinate,y=p.internal.getVerticalCoordinate,_=A[0],w=A[1],S=A[2],I=A[3],E={};return E.lowerLeft_X=v(_)||0,E.lowerLeft_Y=y(w+I)||0,E.upperRight_X=v(_+S)||0,E.upperRight_Y=y(w)||0,[Number(mt(E.lowerLeft_X)),Number(mt(E.lowerLeft_Y)),Number(mt(E.upperRight_X)),Number(mt(E.upperRight_Y))]},K=function(p){if(p.appearanceStreamContent)return p.appearanceStreamContent;if(p.V||p.DV){var v=[],y=p._V||p.DV,_=F(p,y),w=p.scope.internal.getFont(p.fontName,p.fontStyle).id;v.push("/Tx BMC"),v.push("q"),v.push("BT"),v.push(p.scope.__private__.encodeColorString(p.color)),v.push("/"+w+" "+mt(_.fontSize)+" Tf"),v.push("1 0 0 1 0 0 Tm"),v.push(_.text),v.push("ET"),v.push("Q"),v.push("EMC");var S=Et(p);return S.scope=p.scope,S.stream=v.join(`
`),S}},F=function(p,v){var y=p.fontSize===0?p.maxFontSize:p.fontSize,_={text:"",fontSize:""},w=(v=(v=v.substr(0,1)=="("?v.substr(1):v).substr(v.length-1)==")"?v.substr(0,v.length-1):v).split(" ");w=p.multiline?w.map(function(Lt){return Lt.split(`
`)}):w.map(function(Lt){return[Lt]});var S=y,I=Nr.internal.getHeight(p)||0;I=I<0?-I:I;var E=Nr.internal.getWidth(p)||0;E=E<0?-E:E;var H=function(Kt,Xt,qe){if(Kt+1<w.length){var We=Xt+" "+w[Kt+1][0];return D(We,p,qe).width<=E-4}return!1};S++;t:for(;S>0;){v="",S--;var ut,st,bt=D("3",p,S).height,z=p.multiline?I-S:(I-bt)/2,Dt=z+=2,Ct=0,Bt=0,Tt=0;if(S<=0){v=`(...) Tj
`,v+="% Width of Text: "+D(v,p,S=12).width+", FieldWidth:"+E+`
`;break}for(var rt="",de=0,ke=0;ke<w.length;ke++)if(w.hasOwnProperty(ke)){var Ge=!1;if(w[ke].length!==1&&Tt!==w[ke].length-1){if((bt+2)*(de+2)+2>I)continue t;rt+=w[ke][Tt],Ge=!0,Bt=ke,ke--}else{rt=(rt+=w[ke][Tt]+" ").substr(rt.length-1)==" "?rt.substr(0,rt.length-1):rt;var nr=parseInt(ke),Be=H(nr,rt,S),lr=ke>=w.length-1;if(Be&&!lr){rt+=" ",Tt=0;continue}if(Be||lr){if(lr)Bt=nr;else if(p.multiline&&(bt+2)*(de+2)+2>I)continue t}else{if(!p.multiline||(bt+2)*(de+2)+2>I)continue t;Bt=nr}}for(var $t="",ze=Ct;ze<=Bt;ze++){var Gt=w[ze];if(p.multiline){if(ze===Bt){$t+=Gt[Tt]+" ",Tt=(Tt+1)%Gt.length;continue}if(ze===Ct){$t+=Gt[Gt.length-1]+" ";continue}}$t+=Gt[0]+" "}switch($t=$t.substr($t.length-1)==" "?$t.substr(0,$t.length-1):$t,st=D($t,p,S).width,p.textAlign){case"right":ut=E-st-2;break;case"center":ut=(E-st)/2;break;case"left":default:ut=2}v+=mt(ut)+" "+mt(Dt)+` Td
`,v+="("+U($t)+`) Tj
`,v+=-mt(ut)+` 0 Td
`,Dt=-(S+2),st=0,Ct=Ge?Bt:Bt+1,de++,rt=""}break}return _.text=v,_.fontSize=S,_},D=function(p,v,y){var _=v.scope.internal.getFont(v.fontName,v.fontStyle),w=v.scope.getStringUnitWidth(p,{font:_,fontSize:parseFloat(y),charSpace:0})*parseFloat(y);return{height:v.scope.getStringUnitWidth("3",{font:_,fontSize:parseFloat(y),charSpace:0})*parseFloat(y)*1.5,width:w}},it={fields:[],xForms:[],acroFormDictionaryRoot:null,printedOut:!1,internal:null,isInitialized:!1},vt=function(p,v){var y={type:"reference",object:p};v.internal.getPageInfo(p.page).pageContext.annotations.find(function(_){return _.type===y.type&&_.object===y.object})===void 0&&v.internal.getPageInfo(p.page).pageContext.annotations.push(y)},ee=function(p,v){for(var y in p)if(p.hasOwnProperty(y)){var _=y,w=p[y];v.internal.newObjectDeferredBegin(w.objId,!0),Ut()(w)==="object"&&typeof w.putStream=="function"&&w.putStream(),delete p[_]}},he=function(p,v){if(v.scope=p,p.internal!==void 0&&(p.internal.acroformPlugin===void 0||p.internal.acroformPlugin.isInitialized===!1)){if(Kr.FieldNum=0,p.internal.acroformPlugin=JSON.parse(JSON.stringify(it)),p.internal.acroformPlugin.acroFormDictionaryRoot)throw new Error("Exception while creating AcroformDictionary");Ot=p.internal.scaleFactor,p.internal.acroformPlugin.acroFormDictionaryRoot=new _r,p.internal.acroformPlugin.acroFormDictionaryRoot.scope=p,p.internal.acroformPlugin.acroFormDictionaryRoot._eventID=p.internal.events.subscribe("postPutResources",function(){(function(y){y.internal.events.unsubscribe(y.internal.acroformPlugin.acroFormDictionaryRoot._eventID),delete y.internal.acroformPlugin.acroFormDictionaryRoot._eventID,y.internal.acroformPlugin.printedOut=!0})(p)}),p.internal.events.subscribe("buildDocument",function(){(function(y){y.internal.acroformPlugin.acroFormDictionaryRoot.objId=void 0;var _=y.internal.acroformPlugin.acroFormDictionaryRoot.Fields;for(var w in _)if(_.hasOwnProperty(w)){var S=_[w];S.objId=void 0,S.hasAnnotation&&vt(S,y)}})(p)}),p.internal.events.subscribe("putCatalog",function(){(function(y){if(y.internal.acroformPlugin.acroFormDictionaryRoot===void 0)throw new Error("putCatalogCallback: Root missing.");y.internal.write("/AcroForm "+y.internal.acroformPlugin.acroFormDictionaryRoot.objId+" 0 R")})(p)}),p.internal.events.subscribe("postPutPages",function(y){(function(_,w){var S=!_;for(var I in _||(w.internal.newObjectDeferredBegin(w.internal.acroformPlugin.acroFormDictionaryRoot.objId,!0),w.internal.acroformPlugin.acroFormDictionaryRoot.putStream()),_=_||w.internal.acroformPlugin.acroFormDictionaryRoot.Kids)if(_.hasOwnProperty(I)){var E=_[I],H=[],ut=E.Rect;if(E.Rect&&(E.Rect=Pe(E.Rect,w)),w.internal.newObjectDeferredBegin(E.objId,!0),E.DA=Nr.createDefaultAppearanceStream(E),Ut()(E)==="object"&&typeof E.getKeyValueListForStream=="function"&&(H=E.getKeyValueListForStream()),E.Rect=ut,E.hasAppearanceStream&&!E.appearanceStreamContent){var st=K(E);H.push({key:"AP",value:"<</N "+st+">>"}),w.internal.acroformPlugin.xForms.push(st)}if(E.appearanceStreamContent){var bt="";for(var z in E.appearanceStreamContent)if(E.appearanceStreamContent.hasOwnProperty(z)){var Dt=E.appearanceStreamContent[z];if(bt+="/"+z+" ",bt+="<<",Object.keys(Dt).length>=1||Array.isArray(Dt)){for(var I in Dt)if(Dt.hasOwnProperty(I)){var Ct=Dt[I];typeof Ct=="function"&&(Ct=Ct.call(w,E)),bt+="/"+I+" "+Ct+" ",w.internal.acroformPlugin.xForms.indexOf(Ct)>=0||w.internal.acroformPlugin.xForms.push(Ct)}}else typeof(Ct=Dt)=="function"&&(Ct=Ct.call(w,E)),bt+="/"+I+" "+Ct,w.internal.acroformPlugin.xForms.indexOf(Ct)>=0||w.internal.acroformPlugin.xForms.push(Ct);bt+=">>"}H.push({key:"AP",value:`<<
`+bt+">>"})}w.internal.putStream({additionalKeyValues:H,objectId:E.objId}),w.internal.out("endobj")}S&&ee(w.internal.acroformPlugin.xForms,w)})(y,p)}),p.internal.acroformPlugin.isInitialized=!0}},yr=ct.__acroform__.arrayToPdfArray=function(A,p,v){var y=function(I){return I};if(Array.isArray(A)){for(var _="[",w=0;w<A.length;w++)switch(w!==0&&(_+=" "),Ut()(A[w])){case"boolean":case"number":case"object":_+=A[w].toString();break;case"string":A[w].substr(0,1)!=="/"?(p!==void 0&&v&&(y=v.internal.getEncryptor(p)),_+="("+U(y(A[w].toString()))+")"):_+=A[w].toString()}return _+="]"}throw new Error("Invalid argument passed to jsPDF.__acroform__.arrayToPdfArray")},Er=function(p,v,y){var _=function(S){return S};return v!==void 0&&y&&(_=y.internal.getEncryptor(v)),(p=p||"").toString(),p="("+U(_(p))+")"},mr=function(){this._objId=void 0,this._scope=void 0,Object.defineProperty(this,"objId",{get:function(){if(this._objId===void 0){if(this.scope===void 0)return;this._objId=this.scope.internal.newObjectDeferred()}return this._objId},set:function(v){this._objId=v}}),Object.defineProperty(this,"scope",{value:this._scope,writable:!0})};mr.prototype.toString=function(){return this.objId+" 0 R"},mr.prototype.putStream=function(){var A=this.getKeyValueListForStream();this.scope.internal.putStream({data:this.stream,additionalKeyValues:A,objectId:this.objId}),this.scope.internal.out("endobj")},mr.prototype.getKeyValueListForStream=function(){var A=[],p=Object.getOwnPropertyNames(this).filter(function(w){return w!="content"&&w!="appearanceStreamContent"&&w!="scope"&&w!="objId"&&w.substring(0,1)!="_"});for(var v in p)if(Object.getOwnPropertyDescriptor(this,p[v]).configurable===!1){var y=p[v],_=this[y];_&&(Array.isArray(_)?A.push({key:y,value:yr(_,this.objId,this.scope)}):_ instanceof mr?(_.scope=this.scope,A.push({key:y,value:_.objId+" 0 R"})):typeof _!="function"&&A.push({key:y,value:_}))}return A};var xr=function(){mr.call(this),Object.defineProperty(this,"Type",{value:"/XObject",configurable:!1,writable:!0}),Object.defineProperty(this,"Subtype",{value:"/Form",configurable:!1,writable:!0}),Object.defineProperty(this,"FormType",{value:1,configurable:!1,writable:!0});var p,v=[];Object.defineProperty(this,"BBox",{configurable:!1,get:function(){return v},set:function(_){v=_}}),Object.defineProperty(this,"Resources",{value:"2 0 R",configurable:!1,writable:!0}),Object.defineProperty(this,"stream",{enumerable:!1,configurable:!0,set:function(_){p=_.trim()},get:function(){return p||null}})};Yt(xr,mr);var _r=function(){mr.call(this);var p,v=[];Object.defineProperty(this,"Kids",{enumerable:!1,configurable:!0,get:function(){return v.length>0?v:void 0}}),Object.defineProperty(this,"Fields",{enumerable:!1,configurable:!1,get:function(){return v}}),Object.defineProperty(this,"DA",{enumerable:!1,configurable:!1,get:function(){if(p){var _=function(S){return S};return this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),"("+U(_(p))+")"}},set:function(_){p=_}})};Yt(_r,mr);var Kr=function A(){mr.call(this);var p=4;Object.defineProperty(this,"F",{enumerable:!1,configurable:!1,get:function(){return p},set:function(rt){if(isNaN(rt))throw new Error('Invalid value "'+rt+'" for attribute F supplied.');p=rt}}),Object.defineProperty(this,"showWhenPrinted",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(p,3))},set:function(rt){Boolean(rt)===!0?this.F=te(p,3):this.F=oe(p,3)}});var v=0;Object.defineProperty(this,"Ff",{enumerable:!1,configurable:!1,get:function(){return v},set:function(rt){if(isNaN(rt))throw new Error('Invalid value "'+rt+'" for attribute Ff supplied.');v=rt}});var y=[];Object.defineProperty(this,"Rect",{enumerable:!1,configurable:!1,get:function(){if(y.length!==0)return y},set:function(rt){y=rt!==void 0?rt:[]}}),Object.defineProperty(this,"x",{enumerable:!0,configurable:!0,get:function(){return!y||isNaN(y[0])?0:y[0]},set:function(rt){y[0]=rt}}),Object.defineProperty(this,"y",{enumerable:!0,configurable:!0,get:function(){return!y||isNaN(y[1])?0:y[1]},set:function(rt){y[1]=rt}}),Object.defineProperty(this,"width",{enumerable:!0,configurable:!0,get:function(){return!y||isNaN(y[2])?0:y[2]},set:function(rt){y[2]=rt}}),Object.defineProperty(this,"height",{enumerable:!0,configurable:!0,get:function(){return!y||isNaN(y[3])?0:y[3]},set:function(rt){y[3]=rt}});var _="";Object.defineProperty(this,"FT",{enumerable:!0,configurable:!1,get:function(){return _},set:function(rt){switch(rt){case"/Btn":case"/Tx":case"/Ch":case"/Sig":_=rt;break;default:throw new Error('Invalid value "'+rt+'" for attribute FT supplied.')}}});var w=null;Object.defineProperty(this,"T",{enumerable:!0,configurable:!1,get:function(){if(!w||w.length<1){if(this instanceof Si)return;w="FieldObject"+A.FieldNum++}var rt=function(ke){return ke};return this.scope&&(rt=this.scope.internal.getEncryptor(this.objId)),"("+U(rt(w))+")"},set:function(rt){w=rt.toString()}}),Object.defineProperty(this,"fieldName",{configurable:!0,enumerable:!0,get:function(){return w},set:function(rt){w=rt}});var S="helvetica";Object.defineProperty(this,"fontName",{enumerable:!0,configurable:!0,get:function(){return S},set:function(rt){S=rt}});var I="normal";Object.defineProperty(this,"fontStyle",{enumerable:!0,configurable:!0,get:function(){return I},set:function(rt){I=rt}});var E=0;Object.defineProperty(this,"fontSize",{enumerable:!0,configurable:!0,get:function(){return E},set:function(rt){E=rt}});var H=void 0;Object.defineProperty(this,"maxFontSize",{enumerable:!0,configurable:!0,get:function(){return H===void 0?50/Ot:H},set:function(rt){H=rt}});var ut="black";Object.defineProperty(this,"color",{enumerable:!0,configurable:!0,get:function(){return ut},set:function(rt){ut=rt}});var st="/F1 0 Tf 0 g";Object.defineProperty(this,"DA",{enumerable:!0,configurable:!1,get:function(){if(!(!st||this instanceof Si||this instanceof ei))return Er(st,this.objId,this.scope)},set:function(rt){rt=rt.toString(),st=rt}});var bt=null;Object.defineProperty(this,"DV",{enumerable:!1,configurable:!1,get:function(){if(bt)return this instanceof Sn?bt:Er(bt,this.objId,this.scope)},set:function(rt){rt=rt.toString(),bt=this instanceof Sn?rt:rt.substr(0,1)==="("?tt(rt.substr(1,rt.length-2)):tt(rt)}}),Object.defineProperty(this,"defaultValue",{enumerable:!0,configurable:!0,get:function(){return this instanceof Sn?tt(bt.substr(1,bt.length-1)):bt},set:function(rt){rt=rt.toString(),bt=this instanceof Sn?"/"+rt:rt}});var z=null;Object.defineProperty(this,"_V",{enumerable:!1,configurable:!1,get:function(){if(z)return z},set:function(rt){this.V=rt}}),Object.defineProperty(this,"V",{enumerable:!1,configurable:!1,get:function(){if(z)return this instanceof Sn?z:Er(z,this.objId,this.scope)},set:function(rt){rt=rt.toString(),z=this instanceof Sn?rt:rt.substr(0,1)==="("?tt(rt.substr(1,rt.length-2)):tt(rt)}}),Object.defineProperty(this,"value",{enumerable:!0,configurable:!0,get:function(){return this instanceof Sn?tt(z.substr(1,z.length-1)):z},set:function(rt){rt=rt.toString(),z=this instanceof Sn?"/"+rt:rt}}),Object.defineProperty(this,"hasAnnotation",{enumerable:!0,configurable:!0,get:function(){return this.Rect}}),Object.defineProperty(this,"Type",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Annot":null}}),Object.defineProperty(this,"Subtype",{enumerable:!0,configurable:!1,get:function(){return this.hasAnnotation?"/Widget":null}});var Dt,Ct=!1;Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return Ct},set:function(rt){rt=Boolean(rt),Ct=rt}}),Object.defineProperty(this,"page",{enumerable:!0,configurable:!0,get:function(){if(Dt)return Dt},set:function(rt){Dt=rt}}),Object.defineProperty(this,"readOnly",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,1))},set:function(rt){Boolean(rt)===!0?this.Ff=te(this.Ff,1):this.Ff=oe(this.Ff,1)}}),Object.defineProperty(this,"required",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,2))},set:function(rt){Boolean(rt)===!0?this.Ff=te(this.Ff,2):this.Ff=oe(this.Ff,2)}}),Object.defineProperty(this,"noExport",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,3))},set:function(rt){Boolean(rt)===!0?this.Ff=te(this.Ff,3):this.Ff=oe(this.Ff,3)}});var Bt=null;Object.defineProperty(this,"Q",{enumerable:!0,configurable:!1,get:function(){if(Bt!==null)return Bt},set:function(rt){if([0,1,2].indexOf(rt)===-1)throw new Error('Invalid value "'+rt+'" for attribute Q supplied.');Bt=rt}}),Object.defineProperty(this,"textAlign",{get:function(){var rt;switch(Bt){case 0:default:rt="left";break;case 1:rt="center";break;case 2:rt="right"}return rt},configurable:!0,enumerable:!0,set:function(rt){switch(rt){case"right":case 2:Bt=2;break;case"center":case 1:Bt=1;break;case"left":case 0:default:Bt=0}}})};Yt(Kr,mr);var ln=function(){Kr.call(this),this.FT="/Ch",this.V="()",this.fontName="zapfdingbats";var p=0;Object.defineProperty(this,"TI",{enumerable:!0,configurable:!1,get:function(){return p},set:function(_){p=_}}),Object.defineProperty(this,"topIndex",{enumerable:!0,configurable:!0,get:function(){return p},set:function(_){p=_}});var v=[];Object.defineProperty(this,"Opt",{enumerable:!0,configurable:!1,get:function(){return yr(v,this.objId,this.scope)},set:function(_){var w,S;S=[],typeof(w=_)=="string"&&(S=function(I,E,H){H||(H=1);for(var ut,st=[];ut=E.exec(I);)st.push(ut[H]);return st}(w,/\((.*?)\)/g)),v=S}}),this.getOptions=function(){return v},this.setOptions=function(y){v=y,this.sort&&v.sort()},this.addOption=function(y){y=(y=y||"").toString(),v.push(y),this.sort&&v.sort()},this.removeOption=function(y,_){for(_=_||!1,y=(y=y||"").toString();v.indexOf(y)!==-1&&(v.splice(v.indexOf(y),1),_!==!1););},Object.defineProperty(this,"combo",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,18))},set:function(_){Boolean(_)===!0?this.Ff=te(this.Ff,18):this.Ff=oe(this.Ff,18)}}),Object.defineProperty(this,"edit",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,19))},set:function(_){this.combo===!0&&(Boolean(_)===!0?this.Ff=te(this.Ff,19):this.Ff=oe(this.Ff,19))}}),Object.defineProperty(this,"sort",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,20))},set:function(_){Boolean(_)===!0?(this.Ff=te(this.Ff,20),v.sort()):this.Ff=oe(this.Ff,20)}}),Object.defineProperty(this,"multiSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,22))},set:function(_){Boolean(_)===!0?this.Ff=te(this.Ff,22):this.Ff=oe(this.Ff,22)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,23))},set:function(_){Boolean(_)===!0?this.Ff=te(this.Ff,23):this.Ff=oe(this.Ff,23)}}),Object.defineProperty(this,"commitOnSelChange",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,27))},set:function(_){Boolean(_)===!0?this.Ff=te(this.Ff,27):this.Ff=oe(this.Ff,27)}}),this.hasAppearanceStream=!1};Yt(ln,Kr);var bn=function(){ln.call(this),this.fontName="helvetica",this.combo=!1};Yt(bn,ln);var Un=function(){bn.call(this),this.combo=!0};Yt(Un,bn);var $n=function(){Un.call(this),this.edit=!0};Yt($n,Un);var Sn=function(){Kr.call(this),this.FT="/Btn",Object.defineProperty(this,"noToggleToOff",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,15))},set:function(_){Boolean(_)===!0?this.Ff=te(this.Ff,15):this.Ff=oe(this.Ff,15)}}),Object.defineProperty(this,"radio",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,16))},set:function(_){Boolean(_)===!0?this.Ff=te(this.Ff,16):this.Ff=oe(this.Ff,16)}}),Object.defineProperty(this,"pushButton",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,17))},set:function(_){Boolean(_)===!0?this.Ff=te(this.Ff,17):this.Ff=oe(this.Ff,17)}}),Object.defineProperty(this,"radioIsUnison",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,26))},set:function(_){Boolean(_)===!0?this.Ff=te(this.Ff,26):this.Ff=oe(this.Ff,26)}});var p,v={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var _=function(E){return E};if(this.scope&&(_=this.scope.internal.getEncryptor(this.objId)),Object.keys(v).length!==0){var w,S=[];for(w in S.push("<<"),v)S.push("/"+w+" ("+U(_(v[w]))+")");return S.push(">>"),S.join(`
`)}},set:function(_){Ut()(_)==="object"&&(v=_)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return v.CA||""},set:function(_){typeof _=="string"&&(v.CA=_)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return p},set:function(_){p=_}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return p.substr(1,p.length-1)},set:function(_){p="/"+_}})};Yt(Sn,Kr);var Gn=function(){Sn.call(this),this.pushButton=!0};Yt(Gn,Sn);var di=function(){Sn.call(this),this.radio=!0,this.pushButton=!1;var p=[];Object.defineProperty(this,"Kids",{enumerable:!0,configurable:!1,get:function(){return p},set:function(y){p=y!==void 0?y:[]}})};Yt(di,Sn);var Si=function(){var p,v;Kr.call(this),Object.defineProperty(this,"Parent",{enumerable:!1,configurable:!1,get:function(){return p},set:function(S){p=S}}),Object.defineProperty(this,"optionName",{enumerable:!1,configurable:!0,get:function(){return v},set:function(S){v=S}});var y,_={};Object.defineProperty(this,"MK",{enumerable:!1,configurable:!1,get:function(){var S=function(ut){return ut};this.scope&&(S=this.scope.internal.getEncryptor(this.objId));var I,E=[];for(I in E.push("<<"),_)E.push("/"+I+" ("+U(S(_[I]))+")");return E.push(">>"),E.join(`
`)},set:function(S){Ut()(S)==="object"&&(_=S)}}),Object.defineProperty(this,"caption",{enumerable:!0,configurable:!0,get:function(){return _.CA||""},set:function(S){typeof S=="string"&&(_.CA=S)}}),Object.defineProperty(this,"AS",{enumerable:!1,configurable:!1,get:function(){return y},set:function(S){y=S}}),Object.defineProperty(this,"appearanceState",{enumerable:!0,configurable:!0,get:function(){return y.substr(1,y.length-1)},set:function(S){y="/"+S}}),this.caption="l",this.appearanceState="Off",this._AppearanceType=Nr.RadioButton.Circle,this.appearanceStreamContent=this._AppearanceType.createAppearanceStream(this.optionName)};Yt(Si,Kr),di.prototype.setAppearance=function(A){if(!("createAppearanceStream"in A)||!("getCA"in A))throw new Error("Couldn't assign Appearance to RadioButton. Appearance was Invalid!");for(var p in this.Kids)if(this.Kids.hasOwnProperty(p)){var v=this.Kids[p];v.appearanceStreamContent=A.createAppearanceStream(v.optionName),v.caption=A.getCA()}},di.prototype.createOption=function(A){var p=new Si;return p.Parent=this,p.optionName=A,this.Kids.push(p),na.call(this.scope,p),p};var Ni=function(){Sn.call(this),this.fontName="zapfdingbats",this.caption="3",this.appearanceState="On",this.value="On",this.textAlign="center",this.appearanceStreamContent=Nr.CheckBox.createAppearanceStream()};Yt(Ni,Sn);var ei=function(){Kr.call(this),this.FT="/Tx",Object.defineProperty(this,"multiline",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,13))},set:function(y){Boolean(y)===!0?this.Ff=te(this.Ff,13):this.Ff=oe(this.Ff,13)}}),Object.defineProperty(this,"fileSelect",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,21))},set:function(y){Boolean(y)===!0?this.Ff=te(this.Ff,21):this.Ff=oe(this.Ff,21)}}),Object.defineProperty(this,"doNotSpellCheck",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,23))},set:function(y){Boolean(y)===!0?this.Ff=te(this.Ff,23):this.Ff=oe(this.Ff,23)}}),Object.defineProperty(this,"doNotScroll",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,24))},set:function(y){Boolean(y)===!0?this.Ff=te(this.Ff,24):this.Ff=oe(this.Ff,24)}}),Object.defineProperty(this,"comb",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,25))},set:function(y){Boolean(y)===!0?this.Ff=te(this.Ff,25):this.Ff=oe(this.Ff,25)}}),Object.defineProperty(this,"richText",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,26))},set:function(y){Boolean(y)===!0?this.Ff=te(this.Ff,26):this.Ff=oe(this.Ff,26)}});var p=null;Object.defineProperty(this,"MaxLen",{enumerable:!0,configurable:!1,get:function(){return p},set:function(y){p=y}}),Object.defineProperty(this,"maxLength",{enumerable:!0,configurable:!0,get:function(){return p},set:function(y){Number.isInteger(y)&&(p=y)}}),Object.defineProperty(this,"hasAppearanceStream",{enumerable:!0,configurable:!0,get:function(){return this.V||this.DV}})};Yt(ei,Kr);var Ia=function(){ei.call(this),Object.defineProperty(this,"password",{enumerable:!0,configurable:!0,get:function(){return Boolean(Nt(this.Ff,14))},set:function(v){Boolean(v)===!0?this.Ff=te(this.Ff,14):this.Ff=oe(this.Ff,14)}}),this.password=!0};Yt(Ia,ei);var Nr={CheckBox:{createAppearanceStream:function(){return{N:{On:Nr.CheckBox.YesNormal},D:{On:Nr.CheckBox.YesPushDown,Off:Nr.CheckBox.OffPushDown}}},YesPushDown:function(p){var v=Et(p);v.scope=p.scope;var y=[],_=p.scope.internal.getFont(p.fontName,p.fontStyle).id,w=p.scope.__private__.encodeColorString(p.color),S=F(p,p.caption);return y.push("0.749023 g"),y.push("0 0 "+mt(Nr.internal.getWidth(p))+" "+mt(Nr.internal.getHeight(p))+" re"),y.push("f"),y.push("BMC"),y.push("q"),y.push("0 0 1 rg"),y.push("/"+_+" "+mt(S.fontSize)+" Tf "+w),y.push("BT"),y.push(S.text),y.push("ET"),y.push("Q"),y.push("EMC"),v.stream=y.join(`
`),v},YesNormal:function(p){var v=Et(p);v.scope=p.scope;var y=p.scope.internal.getFont(p.fontName,p.fontStyle).id,_=p.scope.__private__.encodeColorString(p.color),w=[],S=Nr.internal.getHeight(p),I=Nr.internal.getWidth(p),E=F(p,p.caption);return w.push("1 g"),w.push("0 0 "+mt(I)+" "+mt(S)+" re"),w.push("f"),w.push("q"),w.push("0 0 1 rg"),w.push("0 0 "+mt(I-1)+" "+mt(S-1)+" re"),w.push("W"),w.push("n"),w.push("0 g"),w.push("BT"),w.push("/"+y+" "+mt(E.fontSize)+" Tf "+_),w.push(E.text),w.push("ET"),w.push("Q"),v.stream=w.join(`
`),v},OffPushDown:function(p){var v=Et(p);v.scope=p.scope;var y=[];return y.push("0.749023 g"),y.push("0 0 "+mt(Nr.internal.getWidth(p))+" "+mt(Nr.internal.getHeight(p))+" re"),y.push("f"),v.stream=y.join(`
`),v}},RadioButton:{Circle:{createAppearanceStream:function(p){var v={D:{Off:Nr.RadioButton.Circle.OffPushDown},N:{}};return v.N[p]=Nr.RadioButton.Circle.YesNormal,v.D[p]=Nr.RadioButton.Circle.YesPushDown,v},getCA:function(){return"l"},YesNormal:function(p){var v=Et(p);v.scope=p.scope;var y=[],_=Nr.internal.getWidth(p)<=Nr.internal.getHeight(p)?Nr.internal.getWidth(p)/4:Nr.internal.getHeight(p)/4;_=Number((.9*_).toFixed(5));var w=Nr.internal.Bezier_C,S=Number((_*w).toFixed(5));return y.push("q"),y.push("1 0 0 1 "+pt(Nr.internal.getWidth(p)/2)+" "+pt(Nr.internal.getHeight(p)/2)+" cm"),y.push(_+" 0 m"),y.push(_+" "+S+" "+S+" "+_+" 0 "+_+" c"),y.push("-"+S+" "+_+" -"+_+" "+S+" -"+_+" 0 c"),y.push("-"+_+" -"+S+" -"+S+" -"+_+" 0 -"+_+" c"),y.push(S+" -"+_+" "+_+" -"+S+" "+_+" 0 c"),y.push("f"),y.push("Q"),v.stream=y.join(`
`),v},YesPushDown:function(p){var v=Et(p);v.scope=p.scope;var y=[],_=Nr.internal.getWidth(p)<=Nr.internal.getHeight(p)?Nr.internal.getWidth(p)/4:Nr.internal.getHeight(p)/4;_=Number((.9*_).toFixed(5));var w=Number((2*_).toFixed(5)),S=Number((w*Nr.internal.Bezier_C).toFixed(5)),I=Number((_*Nr.internal.Bezier_C).toFixed(5));return y.push("0.749023 g"),y.push("q"),y.push("1 0 0 1 "+pt(Nr.internal.getWidth(p)/2)+" "+pt(Nr.internal.getHeight(p)/2)+" cm"),y.push(w+" 0 m"),y.push(w+" "+S+" "+S+" "+w+" 0 "+w+" c"),y.push("-"+S+" "+w+" -"+w+" "+S+" -"+w+" 0 c"),y.push("-"+w+" -"+S+" -"+S+" -"+w+" 0 -"+w+" c"),y.push(S+" -"+w+" "+w+" -"+S+" "+w+" 0 c"),y.push("f"),y.push("Q"),y.push("0 g"),y.push("q"),y.push("1 0 0 1 "+pt(Nr.internal.getWidth(p)/2)+" "+pt(Nr.internal.getHeight(p)/2)+" cm"),y.push(_+" 0 m"),y.push(_+" "+I+" "+I+" "+_+" 0 "+_+" c"),y.push("-"+I+" "+_+" -"+_+" "+I+" -"+_+" 0 c"),y.push("-"+_+" -"+I+" -"+I+" -"+_+" 0 -"+_+" c"),y.push(I+" -"+_+" "+_+" -"+I+" "+_+" 0 c"),y.push("f"),y.push("Q"),v.stream=y.join(`
`),v},OffPushDown:function(p){var v=Et(p);v.scope=p.scope;var y=[],_=Nr.internal.getWidth(p)<=Nr.internal.getHeight(p)?Nr.internal.getWidth(p)/4:Nr.internal.getHeight(p)/4;_=Number((.9*_).toFixed(5));var w=Number((2*_).toFixed(5)),S=Number((w*Nr.internal.Bezier_C).toFixed(5));return y.push("0.749023 g"),y.push("q"),y.push("1 0 0 1 "+pt(Nr.internal.getWidth(p)/2)+" "+pt(Nr.internal.getHeight(p)/2)+" cm"),y.push(w+" 0 m"),y.push(w+" "+S+" "+S+" "+w+" 0 "+w+" c"),y.push("-"+S+" "+w+" -"+w+" "+S+" -"+w+" 0 c"),y.push("-"+w+" -"+S+" -"+S+" -"+w+" 0 -"+w+" c"),y.push(S+" -"+w+" "+w+" -"+S+" "+w+" 0 c"),y.push("f"),y.push("Q"),v.stream=y.join(`
`),v}},Cross:{createAppearanceStream:function(p){var v={D:{Off:Nr.RadioButton.Cross.OffPushDown},N:{}};return v.N[p]=Nr.RadioButton.Cross.YesNormal,v.D[p]=Nr.RadioButton.Cross.YesPushDown,v},getCA:function(){return"8"},YesNormal:function(p){var v=Et(p);v.scope=p.scope;var y=[],_=Nr.internal.calculateCross(p);return y.push("q"),y.push("1 1 "+mt(Nr.internal.getWidth(p)-2)+" "+mt(Nr.internal.getHeight(p)-2)+" re"),y.push("W"),y.push("n"),y.push(mt(_.x1.x)+" "+mt(_.x1.y)+" m"),y.push(mt(_.x2.x)+" "+mt(_.x2.y)+" l"),y.push(mt(_.x4.x)+" "+mt(_.x4.y)+" m"),y.push(mt(_.x3.x)+" "+mt(_.x3.y)+" l"),y.push("s"),y.push("Q"),v.stream=y.join(`
`),v},YesPushDown:function(p){var v=Et(p);v.scope=p.scope;var y=Nr.internal.calculateCross(p),_=[];return _.push("0.749023 g"),_.push("0 0 "+mt(Nr.internal.getWidth(p))+" "+mt(Nr.internal.getHeight(p))+" re"),_.push("f"),_.push("q"),_.push("1 1 "+mt(Nr.internal.getWidth(p)-2)+" "+mt(Nr.internal.getHeight(p)-2)+" re"),_.push("W"),_.push("n"),_.push(mt(y.x1.x)+" "+mt(y.x1.y)+" m"),_.push(mt(y.x2.x)+" "+mt(y.x2.y)+" l"),_.push(mt(y.x4.x)+" "+mt(y.x4.y)+" m"),_.push(mt(y.x3.x)+" "+mt(y.x3.y)+" l"),_.push("s"),_.push("Q"),v.stream=_.join(`
`),v},OffPushDown:function(p){var v=Et(p);v.scope=p.scope;var y=[];return y.push("0.749023 g"),y.push("0 0 "+mt(Nr.internal.getWidth(p))+" "+mt(Nr.internal.getHeight(p))+" re"),y.push("f"),v.stream=y.join(`
`),v}}},createDefaultAppearanceStream:function(p){var v=p.scope.internal.getFont(p.fontName,p.fontStyle).id,y=p.scope.__private__.encodeColorString(p.color);return"/"+v+" "+p.fontSize+" Tf "+y}};Nr.internal={Bezier_C:.551915024494,calculateCross:function(p){var v=Nr.internal.getWidth(p),y=Nr.internal.getHeight(p),_=Math.min(v,y);return{x1:{x:(v-_)/2,y:(y-_)/2+_},x2:{x:(v-_)/2+_,y:(y-_)/2},x3:{x:(v-_)/2,y:(y-_)/2},x4:{x:(v-_)/2+_,y:(y-_)/2+_}}}},Nr.internal.getWidth=function(A){var p=0;return Ut()(A)==="object"&&(p=St(A.Rect[2])),p},Nr.internal.getHeight=function(A){var p=0;return Ut()(A)==="object"&&(p=St(A.Rect[3])),p};var na=ct.addField=function(A){if(he(this,A),!(A instanceof Kr))throw new Error("Invalid argument passed to jsPDF.addField.");var p;return(p=A).scope.internal.acroformPlugin.printedOut&&(p.scope.internal.acroformPlugin.printedOut=!1,p.scope.internal.acroformPlugin.acroFormDictionaryRoot=null),p.scope.internal.acroformPlugin.acroFormDictionaryRoot.Fields.push(p),A.page=A.scope.internal.getCurrentPageInfo().pageNumber,this};ct.AcroFormChoiceField=ln,ct.AcroFormListBox=bn,ct.AcroFormComboBox=Un,ct.AcroFormEditBox=$n,ct.AcroFormButton=Sn,ct.AcroFormPushButton=Gn,ct.AcroFormRadioButton=di,ct.AcroFormCheckBox=Ni,ct.AcroFormTextField=ei,ct.AcroFormPasswordField=Ia,ct.AcroFormAppearance=Nr,ct.AcroForm={ChoiceField:ln,ListBox:bn,ComboBox:Un,EditBox:$n,Button:Sn,PushButton:Gn,RadioButton:di,CheckBox:Ni,TextField:ei,PasswordField:Ia,Appearance:Nr},Z.AcroForm={ChoiceField:ln,ListBox:bn,ComboBox:Un,EditBox:$n,Button:Sn,PushButton:Gn,RadioButton:di,CheckBox:Ni,TextField:ei,PasswordField:Ia,Appearance:Nr};var Ds=Z.AcroForm;function Qa(A){return A.reduce(function(p,v,y){return p[v]=y,p},{})}(function(A){A.__addimage__={};var p="UNKNOWN",v={PNG:[[137,80,78,71]],TIFF:[[77,77,0,42],[73,73,42,0]],JPEG:[[255,216,255,224,void 0,void 0,74,70,73,70,0],[255,216,255,225,void 0,void 0,69,120,105,102,0,0],[255,216,255,219],[255,216,255,238]],JPEG2000:[[0,0,0,12,106,80,32,32]],GIF87a:[[71,73,70,56,55,97]],GIF89a:[[71,73,70,56,57,97]],WEBP:[[82,73,70,70,void 0,void 0,void 0,void 0,87,69,66,80]],BMP:[[66,77],[66,65],[67,73],[67,80],[73,67],[80,84]]},y=A.__addimage__.getImageFileTypeByImageData=function(Gt,Lt){var Kt,Xt,qe,We,or,Oe=p;if((Lt=Lt||p)==="RGBA"||Gt.data!==void 0&&Gt.data instanceof Uint8ClampedArray&&"height"in Gt&&"width"in Gt)return"RGBA";if(nr(Gt))for(or in v)for(qe=v[or],Kt=0;Kt<qe.length;Kt+=1){for(We=!0,Xt=0;Xt<qe[Kt].length;Xt+=1)if(qe[Kt][Xt]!==void 0&&qe[Kt][Xt]!==Gt[Xt]){We=!1;break}if(We===!0){Oe=or;break}}else for(or in v)for(qe=v[or],Kt=0;Kt<qe.length;Kt+=1){for(We=!0,Xt=0;Xt<qe[Kt].length;Xt+=1)if(qe[Kt][Xt]!==void 0&&qe[Kt][Xt]!==Gt.charCodeAt(Xt)){We=!1;break}if(We===!0){Oe=or;break}}return Oe===p&&Lt!==p&&(Oe=Lt),Oe},_=function Gt(Lt){for(var Kt=this.internal.write,Xt=this.internal.putStream,qe=(0,this.internal.getFilters)();qe.indexOf("FlateEncode")!==-1;)qe.splice(qe.indexOf("FlateEncode"),1);Lt.objectId=this.internal.newObject();var We=[];if(We.push({key:"Type",value:"/XObject"}),We.push({key:"Subtype",value:"/Image"}),We.push({key:"Width",value:Lt.width}),We.push({key:"Height",value:Lt.height}),Lt.colorSpace===Bt.INDEXED?We.push({key:"ColorSpace",value:"[/Indexed /DeviceRGB "+(Lt.palette.length/3-1)+" "+("sMask"in Lt&&Lt.sMask!==void 0?Lt.objectId+2:Lt.objectId+1)+" 0 R]"}):(We.push({key:"ColorSpace",value:"/"+Lt.colorSpace}),Lt.colorSpace===Bt.DEVICE_CMYK&&We.push({key:"Decode",value:"[1 0 1 0 1 0 1 0]"})),We.push({key:"BitsPerComponent",value:Lt.bitsPerComponent}),"decodeParameters"in Lt&&Lt.decodeParameters!==void 0&&We.push({key:"DecodeParms",value:"<<"+Lt.decodeParameters+">>"}),"transparency"in Lt&&Array.isArray(Lt.transparency)){for(var or="",Oe=0,pr=Lt.transparency.length;Oe<pr;Oe++)or+=Lt.transparency[Oe]+" "+Lt.transparency[Oe]+" ";We.push({key:"Mask",value:"["+or+"]"})}Lt.sMask!==void 0&&We.push({key:"SMask",value:Lt.objectId+1+" 0 R"});var Ye=Lt.filter!==void 0?["/"+Lt.filter]:void 0;if(Xt({data:Lt.data,additionalKeyValues:We,alreadyAppliedFilters:Ye,objectId:Lt.objectId}),Kt("endobj"),"sMask"in Lt&&Lt.sMask!==void 0){var wr="/Predictor "+Lt.predictor+" /Colors 1 /BitsPerComponent "+Lt.bitsPerComponent+" /Columns "+Lt.width,zt={width:Lt.width,height:Lt.height,colorSpace:"DeviceGray",bitsPerComponent:Lt.bitsPerComponent,decodeParameters:wr,data:Lt.sMask};"filter"in Lt&&(zt.filter=Lt.filter),Gt.call(this,zt)}if(Lt.colorSpace===Bt.INDEXED){var ft=this.internal.newObject();Xt({data:lr(new Uint8Array(Lt.palette)),objectId:ft}),Kt("endobj")}},w=function(){var Lt=this.internal.collections.addImage_images;for(var Kt in Lt)_.call(this,Lt[Kt])},S=function(){var Lt,Kt=this.internal.collections.addImage_images,Xt=this.internal.write;for(var qe in Kt)Xt("/I"+(Lt=Kt[qe]).index,Lt.objectId,"0","R")},I=function(){this.internal.collections.addImage_images||(this.internal.collections.addImage_images={},this.internal.events.subscribe("putResources",w),this.internal.events.subscribe("putXobjectDict",S))},E=function(){var Lt=this.internal.collections.addImage_images;return I.call(this),Lt},H=function(){return Object.keys(this.internal.collections.addImage_images).length},ut=function(Lt){return typeof A["process"+Lt.toUpperCase()]=="function"},st=function(Lt){return Ut()(Lt)==="object"&&Lt.nodeType===1},bt=function(Lt,Kt){if(Lt.nodeName==="IMG"&&Lt.hasAttribute("src")){var Xt=""+Lt.getAttribute("src");if(Xt.indexOf("data:image/")===0)return h(unescape(Xt).split("base64,").pop());var qe=A.loadFile(Xt,!0);if(qe!==void 0)return qe}if(Lt.nodeName==="CANVAS"){if(Lt.width===0||Lt.height===0)throw new Error("Given canvas must have data. Canvas width: "+Lt.width+", height: "+Lt.height);var We;switch(Kt){case"PNG":We="image/png";break;case"WEBP":We="image/webp";break;case"JPEG":case"JPG":default:We="image/jpeg"}return h(Lt.toDataURL(We,1).split("base64,").pop())}},z=function(Lt){var Kt=this.internal.collections.addImage_images;if(Kt){for(var Xt in Kt)if(Lt===Kt[Xt].alias)return Kt[Xt]}},Dt=function(Lt,Kt,Xt){return Lt||Kt||(Lt=-96,Kt=-96),Lt<0&&(Lt=-1*Xt.width*72/Lt/this.internal.scaleFactor),Kt<0&&(Kt=-1*Xt.height*72/Kt/this.internal.scaleFactor),Lt===0&&(Lt=Kt*Xt.width/Xt.height),Kt===0&&(Kt=Lt*Xt.height/Xt.width),[Lt,Kt]},Ct=function(Lt,Kt,Xt,qe,We,or){var Oe=Dt.call(this,Xt,qe,We),pr=this.internal.getCoordinateString,Ye=this.internal.getVerticalCoordinateString,wr=E.call(this);if(Xt=Oe[0],qe=Oe[1],wr[We.index]=We,or){or*=Math.PI/180;var zt=Math.cos(or),ft=Math.sin(or),jt=function(Ae){return Ae.toFixed(4)},se=[jt(zt),jt(ft),jt(-1*ft),jt(zt),0,0,"cm"]}this.internal.write("q"),or?(this.internal.write([1,"0","0",1,pr(Lt),Ye(Kt+qe),"cm"].join(" ")),this.internal.write(se.join(" ")),this.internal.write([pr(Xt),"0","0",pr(qe),"0","0","cm"].join(" "))):this.internal.write([pr(Xt),"0","0",pr(qe),pr(Lt),Ye(Kt+qe),"cm"].join(" ")),this.isAdvancedAPI()&&this.internal.write([1,0,0,-1,0,0,"cm"].join(" ")),this.internal.write("/I"+We.index+" Do"),this.internal.write("Q")},Bt=A.color_spaces={DEVICE_RGB:"DeviceRGB",DEVICE_GRAY:"DeviceGray",DEVICE_CMYK:"DeviceCMYK",CAL_GREY:"CalGray",CAL_RGB:"CalRGB",LAB:"Lab",ICC_BASED:"ICCBased",INDEXED:"Indexed",PATTERN:"Pattern",SEPARATION:"Separation",DEVICE_N:"DeviceN"};A.decode={DCT_DECODE:"DCTDecode",FLATE_DECODE:"FlateDecode",LZW_DECODE:"LZWDecode",JPX_DECODE:"JPXDecode",JBIG2_DECODE:"JBIG2Decode",ASCII85_DECODE:"ASCII85Decode",ASCII_HEX_DECODE:"ASCIIHexDecode",RUN_LENGTH_DECODE:"RunLengthDecode",CCITT_FAX_DECODE:"CCITTFaxDecode"};var Tt=A.image_compression={NONE:"NONE",FAST:"FAST",MEDIUM:"MEDIUM",SLOW:"SLOW"},rt=A.__addimage__.sHashCode=function(Gt){var Lt,Kt,Xt=0;if(typeof Gt=="string")for(Kt=Gt.length,Lt=0;Lt<Kt;Lt++)Xt=(Xt<<5)-Xt+Gt.charCodeAt(Lt),Xt|=0;else if(nr(Gt))for(Kt=Gt.byteLength/2,Lt=0;Lt<Kt;Lt++)Xt=(Xt<<5)-Xt+Gt[Lt],Xt|=0;return Xt},de=A.__addimage__.validateStringAsBase64=function(Gt){(Gt=Gt||"").toString().trim();var Lt=!0;return Gt.length===0&&(Lt=!1),Gt.length%4!=0&&(Lt=!1),/^[A-Za-z0-9+/]+$/.test(Gt.substr(0,Gt.length-2))===!1&&(Lt=!1),/^[A-Za-z0-9/][A-Za-z0-9+/]|[A-Za-z0-9+/]=|==$/.test(Gt.substr(-2))===!1&&(Lt=!1),Lt},ke=A.__addimage__.extractImageFromDataUrl=function(Gt){var Lt=(Gt=Gt||"").split("base64,"),Kt=null;if(Lt.length===2){var Xt=/^data:(\w*\/\w*);*(charset=(?!charset=)[\w=-]*)*;*$/.exec(Lt[0]);Array.isArray(Xt)&&(Kt={mimeType:Xt[1],charset:Xt[2],data:Lt[1]})}return Kt},Ge=A.__addimage__.supportsArrayBuffer=function(){return typeof ArrayBuffer!="undefined"&&typeof Uint8Array!="undefined"};A.__addimage__.isArrayBuffer=function(Gt){return Ge()&&Gt instanceof ArrayBuffer};var nr=A.__addimage__.isArrayBufferView=function(Gt){return Ge()&&typeof Uint32Array!="undefined"&&(Gt instanceof Int8Array||Gt instanceof Uint8Array||typeof Uint8ClampedArray!="undefined"&&Gt instanceof Uint8ClampedArray||Gt instanceof Int16Array||Gt instanceof Uint16Array||Gt instanceof Int32Array||Gt instanceof Uint32Array||Gt instanceof Float32Array||Gt instanceof Float64Array)},Be=A.__addimage__.binaryStringToUint8Array=function(Gt){for(var Lt=Gt.length,Kt=new Uint8Array(Lt),Xt=0;Xt<Lt;Xt++)Kt[Xt]=Gt.charCodeAt(Xt);return Kt},lr=A.__addimage__.arrayBufferToBinaryString=function(Gt){for(var Lt="",Kt=nr(Gt)?Gt:new Uint8Array(Gt),Xt=0;Xt<Kt.length;Xt+=8192)Lt+=String.fromCharCode.apply(null,Kt.subarray(Xt,Xt+8192));return Lt};A.addImage=function(){var Gt,Lt,Kt,Xt,qe,We,or,Oe,pr;if(typeof arguments[1]=="number"?(Lt=p,Kt=arguments[1],Xt=arguments[2],qe=arguments[3],We=arguments[4],or=arguments[5],Oe=arguments[6],pr=arguments[7]):(Lt=arguments[1],Kt=arguments[2],Xt=arguments[3],qe=arguments[4],We=arguments[5],or=arguments[6],Oe=arguments[7],pr=arguments[8]),Ut()(Gt=arguments[0])==="object"&&!st(Gt)&&"imageData"in Gt){var Ye=Gt;Gt=Ye.imageData,Lt=Ye.format||Lt||p,Kt=Ye.x||Kt||0,Xt=Ye.y||Xt||0,qe=Ye.w||Ye.width||qe,We=Ye.h||Ye.height||We,or=Ye.alias||or,Oe=Ye.compression||Oe,pr=Ye.rotation||Ye.angle||pr}var wr=this.internal.getFilters();if(Oe===void 0&&wr.indexOf("FlateEncode")!==-1&&(Oe="SLOW"),isNaN(Kt)||isNaN(Xt))throw new Error("Invalid coordinates passed to jsPDF.addImage");I.call(this);var zt=$t.call(this,Gt,Lt,or,Oe);return Ct.call(this,Kt,Xt,qe,We,zt,pr),this};var $t=function(Lt,Kt,Xt,qe){var We,or,Oe;if(typeof Lt=="string"&&y(Lt)===p){Lt=unescape(Lt);var pr=ze(Lt,!1);(pr!==""||(pr=A.loadFile(Lt,!0))!==void 0)&&(Lt=pr)}if(st(Lt)&&(Lt=bt(Lt,Kt)),Kt=y(Lt,Kt),!ut(Kt))throw new Error("addImage does not support files of type '"+Kt+"', please ensure that a plugin for '"+Kt+"' support is added.");if(((Oe=Xt)==null||Oe.length===0)&&(Xt=function(Ye){return typeof Ye=="string"||nr(Ye)?rt(Ye):nr(Ye.data)?rt(Ye.data):null}(Lt)),(We=z.call(this,Xt))||(Ge()&&(Lt instanceof Uint8Array||Kt==="RGBA"||(or=Lt,Lt=Be(Lt))),We=this["process"+Kt.toUpperCase()](Lt,H.call(this),Xt,function(Ye){return Ye&&typeof Ye=="string"&&(Ye=Ye.toUpperCase()),Ye in A.image_compression?Ye:Tt.NONE}(qe),or)),!We)throw new Error("An unknown error occurred whilst processing the image.");return We},ze=A.__addimage__.convertBase64ToBinaryString=function(Gt,Lt){var Kt;Lt=typeof Lt!="boolean"||Lt;var Xt,qe="";if(typeof Gt=="string"){Xt=(Kt=ke(Gt))!==null?Kt.data:Gt;try{qe=h(Xt)}catch(We){if(Lt)throw de(Xt)?new Error("atob-Error in jsPDF.convertBase64ToBinaryString "+We.message):new Error("Supplied Data is not a valid base64-String jsPDF.convertBase64ToBinaryString ")}}return qe};A.getImageProperties=function(Gt){var Lt,Kt,Xt="";if(st(Gt)&&(Gt=bt(Gt)),typeof Gt=="string"&&y(Gt)===p&&((Xt=ze(Gt,!1))===""&&(Xt=A.loadFile(Gt)||""),Gt=Xt),Kt=y(Gt),!ut(Kt))throw new Error("addImage does not support files of type '"+Kt+"', please ensure that a plugin for '"+Kt+"' support is added.");if(!Ge()||Gt instanceof Uint8Array||(Gt=Be(Gt)),!(Lt=this["process"+Kt.toUpperCase()](Gt)))throw new Error("An unknown error occurred whilst processing the image");return Lt.fileType=Kt,Lt}})(Z.API),function(A){var p=function(y){if(y!==void 0&&y!="")return!0};Z.API.events.push(["addPage",function(v){this.internal.getPageInfo(v.pageNumber).pageContext.annotations=[]}]),A.events.push(["putPage",function(v){for(var y,_,w,S=this.internal.getCoordinateString,I=this.internal.getVerticalCoordinateString,E=this.internal.getPageInfoByObjId(v.objId),H=v.pageContext.annotations,ut=!1,st=0;st<H.length&&!ut;st++)switch((y=H[st]).type){case"link":(p(y.options.url)||p(y.options.pageNumber))&&(ut=!0);break;case"reference":case"text":case"freetext":ut=!0}if(ut!=0){this.internal.write("/Annots [");for(var bt=0;bt<H.length;bt++){y=H[bt];var z=this.internal.pdfEscape,Dt=this.internal.getEncryptor(v.objId);switch(y.type){case"reference":this.internal.write(" "+y.object.objId+" 0 R ");break;case"text":var Ct=this.internal.newAdditionalObject(),Bt=this.internal.newAdditionalObject(),Tt=this.internal.getEncryptor(Ct.objId),rt=y.title||"Note";w="<</Type /Annot /Subtype /Text "+(_="/Rect ["+S(y.bounds.x)+" "+I(y.bounds.y+y.bounds.h)+" "+S(y.bounds.x+y.bounds.w)+" "+I(y.bounds.y)+"] ")+"/Contents ("+z(Tt(y.contents))+")",w+=" /Popup "+Bt.objId+" 0 R",w+=" /P "+E.objId+" 0 R",w+=" /T ("+z(Tt(rt))+") >>",Ct.content=w;var de=Ct.objId+" 0 R";w="<</Type /Annot /Subtype /Popup "+(_="/Rect ["+S(y.bounds.x+30)+" "+I(y.bounds.y+y.bounds.h)+" "+S(y.bounds.x+y.bounds.w+30)+" "+I(y.bounds.y)+"] ")+" /Parent "+de,y.open&&(w+=" /Open true"),w+=" >>",Bt.content=w,this.internal.write(Ct.objId,"0 R",Bt.objId,"0 R");break;case"freetext":_="/Rect ["+S(y.bounds.x)+" "+I(y.bounds.y)+" "+S(y.bounds.x+y.bounds.w)+" "+I(y.bounds.y+y.bounds.h)+"] ";var ke=y.color||"#000000";w="<</Type /Annot /Subtype /FreeText "+_+"/Contents ("+z(Dt(y.contents))+")",w+=" /DS(font: Helvetica,sans-serif 12.0pt; text-align:left; color:#"+ke+")",w+=" /Border [0 0 0]",w+=" >>",this.internal.write(w);break;case"link":if(y.options.name){var Ge=this.annotations._nameMap[y.options.name];y.options.pageNumber=Ge.page,y.options.top=Ge.y}else y.options.top||(y.options.top=0);if(_="/Rect ["+y.finalBounds.x+" "+y.finalBounds.y+" "+y.finalBounds.w+" "+y.finalBounds.h+"] ",w="",y.options.url)w="<</Type /Annot /Subtype /Link "+_+"/Border [0 0 0] /A <</S /URI /URI ("+z(Dt(y.options.url))+") >>";else if(y.options.pageNumber)switch(w="<</Type /Annot /Subtype /Link "+_+"/Border [0 0 0] /Dest ["+this.internal.getPageInfo(y.options.pageNumber).objId+" 0 R",y.options.magFactor=y.options.magFactor||"XYZ",y.options.magFactor){case"Fit":w+=" /Fit]";break;case"FitH":w+=" /FitH "+y.options.top+"]";break;case"FitV":y.options.left=y.options.left||0,w+=" /FitV "+y.options.left+"]";break;case"XYZ":default:var nr=I(y.options.top);y.options.left=y.options.left||0,y.options.zoom===void 0&&(y.options.zoom=0),w+=" /XYZ "+y.options.left+" "+nr+" "+y.options.zoom+"]"}w!=""&&(w+=" >>",this.internal.write(w))}}this.internal.write("]")}}]),A.createAnnotation=function(v){var y=this.internal.getCurrentPageInfo();switch(v.type){case"link":this.link(v.bounds.x,v.bounds.y,v.bounds.w,v.bounds.h,v);break;case"text":case"freetext":y.pageContext.annotations.push(v)}},A.link=function(v,y,_,w,S){var I=this.internal.getCurrentPageInfo(),E=this.internal.getCoordinateString,H=this.internal.getVerticalCoordinateString;I.pageContext.annotations.push({finalBounds:{x:E(v),y:H(y),w:E(v+_),h:H(y+w)},options:S,type:"link"})},A.textWithLink=function(v,y,_,w){var S,I,E=this.getTextWidth(v),H=this.internal.getLineHeight()/this.internal.scaleFactor;if(w.maxWidth!==void 0){I=w.maxWidth;var ut=this.splitTextToSize(v,I).length;S=Math.ceil(H*ut)}else I=E,S=H;return this.text(v,y,_,w),_+=.2*H,w.align==="center"&&(y-=E/2),w.align==="right"&&(y-=E),this.link(y,_-H,I,S,w),E},A.getTextWidth=function(v){var y=this.internal.getFontSize();return this.getStringUnitWidth(v)*y/this.internal.scaleFactor}}(Z.API),function(A){var p={1569:[65152],1570:[65153,65154],1571:[65155,65156],1572:[65157,65158],1573:[65159,65160],1574:[65161,65162,65163,65164],1575:[65165,65166],1576:[65167,65168,65169,65170],1577:[65171,65172],1578:[65173,65174,65175,65176],1579:[65177,65178,65179,65180],1580:[65181,65182,65183,65184],1581:[65185,65186,65187,65188],1582:[65189,65190,65191,65192],1583:[65193,65194],1584:[65195,65196],1585:[65197,65198],1586:[65199,65200],1587:[65201,65202,65203,65204],1588:[65205,65206,65207,65208],1589:[65209,65210,65211,65212],1590:[65213,65214,65215,65216],1591:[65217,65218,65219,65220],1592:[65221,65222,65223,65224],1593:[65225,65226,65227,65228],1594:[65229,65230,65231,65232],1601:[65233,65234,65235,65236],1602:[65237,65238,65239,65240],1603:[65241,65242,65243,65244],1604:[65245,65246,65247,65248],1605:[65249,65250,65251,65252],1606:[65253,65254,65255,65256],1607:[65257,65258,65259,65260],1608:[65261,65262],1609:[65263,65264,64488,64489],1610:[65265,65266,65267,65268],1649:[64336,64337],1655:[64477],1657:[64358,64359,64360,64361],1658:[64350,64351,64352,64353],1659:[64338,64339,64340,64341],1662:[64342,64343,64344,64345],1663:[64354,64355,64356,64357],1664:[64346,64347,64348,64349],1667:[64374,64375,64376,64377],1668:[64370,64371,64372,64373],1670:[64378,64379,64380,64381],1671:[64382,64383,64384,64385],1672:[64392,64393],1676:[64388,64389],1677:[64386,64387],1678:[64390,64391],1681:[64396,64397],1688:[64394,64395],1700:[64362,64363,64364,64365],1702:[64366,64367,64368,64369],1705:[64398,64399,64400,64401],1709:[64467,64468,64469,64470],1711:[64402,64403,64404,64405],1713:[64410,64411,64412,64413],1715:[64406,64407,64408,64409],1722:[64414,64415],1723:[64416,64417,64418,64419],1726:[64426,64427,64428,64429],1728:[64420,64421],1729:[64422,64423,64424,64425],1733:[64480,64481],1734:[64473,64474],1735:[64471,64472],1736:[64475,64476],1737:[64482,64483],1739:[64478,64479],1740:[64508,64509,64510,64511],1744:[64484,64485,64486,64487],1746:[64430,64431],1747:[64432,64433]},v={65247:{65154:65269,65156:65271,65160:65273,65166:65275},65248:{65154:65270,65156:65272,65160:65274,65166:65276},65165:{65247:{65248:{65258:65010}}},1617:{1612:64606,1613:64607,1614:64608,1615:64609,1616:64610}},y={1612:64606,1613:64607,1614:64608,1615:64609,1616:64610},_=[1570,1571,1573,1575];A.__arabicParser__={};var w=A.__arabicParser__.isInArabicSubstitutionA=function(Ct){return p[Ct.charCodeAt(0)]!==void 0},S=A.__arabicParser__.isArabicLetter=function(Ct){return typeof Ct=="string"&&/^[\u0600-\u06FF\u0750-\u077F\u08A0-\u08FF\uFB50-\uFDFF\uFE70-\uFEFF]+$/.test(Ct)},I=A.__arabicParser__.isArabicEndLetter=function(Ct){return S(Ct)&&w(Ct)&&p[Ct.charCodeAt(0)].length<=2},E=A.__arabicParser__.isArabicAlfLetter=function(Ct){return S(Ct)&&_.indexOf(Ct.charCodeAt(0))>=0};A.__arabicParser__.arabicLetterHasIsolatedForm=function(Ct){return S(Ct)&&w(Ct)&&p[Ct.charCodeAt(0)].length>=1};var H=A.__arabicParser__.arabicLetterHasFinalForm=function(Ct){return S(Ct)&&w(Ct)&&p[Ct.charCodeAt(0)].length>=2};A.__arabicParser__.arabicLetterHasInitialForm=function(Ct){return S(Ct)&&w(Ct)&&p[Ct.charCodeAt(0)].length>=3};var ut=A.__arabicParser__.arabicLetterHasMedialForm=function(Ct){return S(Ct)&&w(Ct)&&p[Ct.charCodeAt(0)].length==4},st=A.__arabicParser__.resolveLigatures=function(Ct){var Bt=0,Tt=v,rt="",de=0;for(Bt=0;Bt<Ct.length;Bt+=1)Tt[Ct.charCodeAt(Bt)]!==void 0?(de++,typeof(Tt=Tt[Ct.charCodeAt(Bt)])=="number"&&(rt+=String.fromCharCode(Tt),Tt=v,de=0),Bt===Ct.length-1&&(Tt=v,rt+=Ct.charAt(Bt-(de-1)),Bt-=de-1,de=0)):(Tt=v,rt+=Ct.charAt(Bt-de),Bt-=de,de=0);return rt};A.__arabicParser__.isArabicDiacritic=function(Ct){return Ct!==void 0&&y[Ct.charCodeAt(0)]!==void 0};var bt=A.__arabicParser__.getCorrectForm=function(Ct,Bt,Tt){return S(Ct)?w(Ct)===!1?-1:!H(Ct)||!S(Bt)&&!S(Tt)||!S(Tt)&&I(Bt)||I(Ct)&&!S(Bt)||I(Ct)&&E(Bt)||I(Ct)&&I(Bt)?0:ut(Ct)&&S(Bt)&&!I(Bt)&&S(Tt)&&H(Tt)?3:I(Ct)||!S(Tt)?1:2:-1},z=function(Bt){var Tt=0,rt=0,de=0,ke="",Ge="",nr="",Be=(Bt=Bt||"").split("\\s+"),lr=[];for(Tt=0;Tt<Be.length;Tt+=1){for(lr.push(""),rt=0;rt<Be[Tt].length;rt+=1)ke=Be[Tt][rt],Ge=Be[Tt][rt-1],nr=Be[Tt][rt+1],S(ke)?(de=bt(ke,Ge,nr),lr[Tt]+=de!==-1?String.fromCharCode(p[ke.charCodeAt(0)][de]):ke):lr[Tt]+=ke;lr[Tt]=st(lr[Tt])}return lr.join(" ")},Dt=A.__arabicParser__.processArabic=A.processArabic=function(){var Ct,Bt=typeof arguments[0]=="string"?arguments[0]:arguments[0].text,Tt=[];if(Array.isArray(Bt)){var rt=0;for(Tt=[],rt=0;rt<Bt.length;rt+=1)Array.isArray(Bt[rt])?Tt.push([z(Bt[rt][0]),Bt[rt][1],Bt[rt][2]]):Tt.push([z(Bt[rt])]);Ct=Tt}else Ct=z(Bt);return typeof arguments[0]=="string"?Ct:(arguments[0].text=Ct,arguments[0])};A.events.push(["preProcessText",Dt])}(Z.API),Z.API.autoPrint=function(A){var p;switch((A=A||{}).variant=A.variant||"non-conform",A.variant){case"javascript":this.addJS("print({});");break;case"non-conform":default:this.internal.events.subscribe("postPutResources",function(){p=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /Named"),this.internal.out("/Type /Action"),this.internal.out("/N /Print"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){this.internal.out("/OpenAction "+p+" 0 R")})}return this},function(A){var p=function(){var y=void 0;Object.defineProperty(this,"pdf",{get:function(){return y},set:function(H){y=H}});var _=150;Object.defineProperty(this,"width",{get:function(){return _},set:function(H){_=isNaN(H)||Number.isInteger(H)===!1||H<0?150:H,this.getContext("2d").pageWrapXEnabled&&(this.getContext("2d").pageWrapX=_+1)}});var w=300;Object.defineProperty(this,"height",{get:function(){return w},set:function(H){w=isNaN(H)||Number.isInteger(H)===!1||H<0?300:H,this.getContext("2d").pageWrapYEnabled&&(this.getContext("2d").pageWrapY=w+1)}});var S=[];Object.defineProperty(this,"childNodes",{get:function(){return S},set:function(H){S=H}});var I={};Object.defineProperty(this,"style",{get:function(){return I},set:function(H){I=H}}),Object.defineProperty(this,"parentNode",{})};p.prototype.getContext=function(v,y){var _;if((v=v||"2d")!=="2d")return null;for(_ in y)this.pdf.context2d.hasOwnProperty(_)&&(this.pdf.context2d[_]=y[_]);return this.pdf.context2d._canvas=this,this.pdf.context2d},p.prototype.toDataURL=function(){throw new Error("toDataURL is not implemented.")},A.events.push(["initialized",function(){this.canvas=new p,this.canvas.pdf=this}])}(Z.API),function(A){var p={left:0,top:0,bottom:0,right:0},v=!1,y=function(){this.internal.__cell__===void 0&&(this.internal.__cell__={},this.internal.__cell__.padding=3,this.internal.__cell__.headerFunction=void 0,this.internal.__cell__.margins=Object.assign({},p),this.internal.__cell__.margins.width=this.getPageWidth(),_.call(this))},_=function(){this.internal.__cell__.lastCell=new w,this.internal.__cell__.pages=1},w=function(){var H=arguments[0];Object.defineProperty(this,"x",{enumerable:!0,get:function(){return H},set:function(Tt){H=Tt}});var ut=arguments[1];Object.defineProperty(this,"y",{enumerable:!0,get:function(){return ut},set:function(Tt){ut=Tt}});var st=arguments[2];Object.defineProperty(this,"width",{enumerable:!0,get:function(){return st},set:function(Tt){st=Tt}});var bt=arguments[3];Object.defineProperty(this,"height",{enumerable:!0,get:function(){return bt},set:function(Tt){bt=Tt}});var z=arguments[4];Object.defineProperty(this,"text",{enumerable:!0,get:function(){return z},set:function(Tt){z=Tt}});var Dt=arguments[5];Object.defineProperty(this,"lineNumber",{enumerable:!0,get:function(){return Dt},set:function(Tt){Dt=Tt}});var Ct=arguments[6];return Object.defineProperty(this,"align",{enumerable:!0,get:function(){return Ct},set:function(Tt){Ct=Tt}}),this};w.prototype.clone=function(){return new w(this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align)},w.prototype.toArray=function(){return[this.x,this.y,this.width,this.height,this.text,this.lineNumber,this.align]},A.setHeaderFunction=function(E){return y.call(this),this.internal.__cell__.headerFunction=typeof E=="function"?E:void 0,this},A.getTextDimensions=function(E,H){y.call(this);var ut=(H=H||{}).fontSize||this.getFontSize(),st=H.font||this.getFont(),bt=H.scaleFactor||this.internal.scaleFactor,z=0,Dt=0,Ct=0,Bt=this;if(!Array.isArray(E)&&typeof E!="string"){if(typeof E!="number")throw new Error("getTextDimensions expects text-parameter to be of type String or type Number or an Array of Strings.");E=String(E)}var Tt=H.maxWidth;Tt>0?typeof E=="string"?E=this.splitTextToSize(E,Tt):Object.prototype.toString.call(E)==="[object Array]"&&(E=E.reduce(function(de,ke){return de.concat(Bt.splitTextToSize(ke,Tt))},[])):E=Array.isArray(E)?E:[E];for(var rt=0;rt<E.length;rt++)z<(Ct=this.getStringUnitWidth(E[rt],{font:st})*ut)&&(z=Ct);return z!==0&&(Dt=E.length),{w:z/=bt,h:Math.max((Dt*ut*this.getLineHeightFactor()-ut*(this.getLineHeightFactor()-1))/bt,0)}},A.cellAddPage=function(){y.call(this),this.addPage();var E=this.internal.__cell__.margins||p;return this.internal.__cell__.lastCell=new w(E.left,E.top,void 0,void 0),this.internal.__cell__.pages+=1,this};var S=A.cell=function(){var E;E=arguments[0]instanceof w?arguments[0]:new w(arguments[0],arguments[1],arguments[2],arguments[3],arguments[4],arguments[5]),y.call(this);var H=this.internal.__cell__.lastCell,ut=this.internal.__cell__.padding,st=this.internal.__cell__.margins||p,bt=this.internal.__cell__.tableHeaderRow,z=this.internal.__cell__.printHeaders;return H.lineNumber!==void 0&&(H.lineNumber===E.lineNumber?(E.x=(H.x||0)+(H.width||0),E.y=H.y||0):H.y+H.height+E.height+st.bottom>this.getPageHeight()?(this.cellAddPage(),E.y=st.top,z&&bt&&(this.printHeaderRow(E.lineNumber,!0),E.y+=bt[0].height)):E.y=H.y+H.height||E.y),E.text[0]!==void 0&&(this.rect(E.x,E.y,E.width,E.height,v===!0?"FD":void 0),E.align==="right"?this.text(E.text,E.x+E.width-ut,E.y+ut,{align:"right",baseline:"top"}):E.align==="center"?this.text(E.text,E.x+E.width/2,E.y+ut,{align:"center",baseline:"top",maxWidth:E.width-ut-ut}):this.text(E.text,E.x+ut,E.y+ut,{align:"left",baseline:"top",maxWidth:E.width-ut-ut})),this.internal.__cell__.lastCell=E,this};A.table=function(E,H,ut,st,bt){if(y.call(this),!ut)throw new Error("No data for PDF table.");var z,Dt,Ct,Bt,Tt=[],rt=[],de=[],ke={},Ge={},nr=[],Be=[],lr=(bt=bt||{}).autoSize||!1,$t=bt.printHeaders!==!1,ze=bt.css&&bt.css["font-size"]!==void 0?16*bt.css["font-size"]:bt.fontSize||12,Gt=bt.margins||Object.assign({width:this.getPageWidth()},p),Lt=typeof bt.padding=="number"?bt.padding:3,Kt=bt.headerBackgroundColor||"#c8c8c8",Xt=bt.headerTextColor||"#000";if(_.call(this),this.internal.__cell__.printHeaders=$t,this.internal.__cell__.margins=Gt,this.internal.__cell__.table_font_size=ze,this.internal.__cell__.padding=Lt,this.internal.__cell__.headerBackgroundColor=Kt,this.internal.__cell__.headerTextColor=Xt,this.setFontSize(ze),st==null)rt=Tt=Object.keys(ut[0]),de=Tt.map(function(){return"left"});else if(Array.isArray(st)&&Ut()(st[0])==="object")for(Tt=st.map(function(Ye){return Ye.name}),rt=st.map(function(Ye){return Ye.prompt||Ye.name||""}),de=st.map(function(Ye){return Ye.align||"left"}),z=0;z<st.length;z+=1)Ge[st[z].name]=st[z].width*(19.049976/25.4);else Array.isArray(st)&&typeof st[0]=="string"&&(rt=Tt=st,de=Tt.map(function(){return"left"}));if(lr||Array.isArray(st)&&typeof st[0]=="string")for(z=0;z<Tt.length;z+=1){for(ke[Bt=Tt[z]]=ut.map(function(Ye){return Ye[Bt]}),this.setFont(void 0,"bold"),nr.push(this.getTextDimensions(rt[z],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w),Dt=ke[Bt],this.setFont(void 0,"normal"),Ct=0;Ct<Dt.length;Ct+=1)nr.push(this.getTextDimensions(Dt[Ct],{fontSize:this.internal.__cell__.table_font_size,scaleFactor:this.internal.scaleFactor}).w);Ge[Bt]=Math.max.apply(null,nr)+Lt+Lt,nr=[]}if($t){var qe={};for(z=0;z<Tt.length;z+=1)qe[Tt[z]]={},qe[Tt[z]].text=rt[z],qe[Tt[z]].align=de[z];var We=I.call(this,qe,Ge);Be=Tt.map(function(Ye){return new w(E,H,Ge[Ye],We,qe[Ye].text,void 0,qe[Ye].align)}),this.setTableHeaderRow(Be),this.printHeaderRow(1,!1)}var or=st.reduce(function(Ye,wr){return Ye[wr.name]=wr.align,Ye},{});for(z=0;z<ut.length;z+=1){"rowStart"in bt&&bt.rowStart instanceof Function&&bt.rowStart({row:z,data:ut[z]},this);var Oe=I.call(this,ut[z],Ge);for(Ct=0;Ct<Tt.length;Ct+=1){var pr=ut[z][Tt[Ct]];"cellStart"in bt&&bt.cellStart instanceof Function&&bt.cellStart({row:z,col:Ct,data:pr},this),S.call(this,new w(E,H,Ge[Tt[Ct]],Oe,pr,z+2,or[Tt[Ct]]))}}return this.internal.__cell__.table_x=E,this.internal.__cell__.table_y=H,this};var I=function(H,ut){var st=this.internal.__cell__.padding,bt=this.internal.__cell__.table_font_size,z=this.internal.scaleFactor;return Object.keys(H).map(function(Dt){var Ct=H[Dt];return this.splitTextToSize(Ct.hasOwnProperty("text")?Ct.text:Ct,ut[Dt]-st-st)},this).map(function(Dt){return this.getLineHeightFactor()*Dt.length*bt/z+st+st},this).reduce(function(Dt,Ct){return Math.max(Dt,Ct)},0)};A.setTableHeaderRow=function(E){y.call(this),this.internal.__cell__.tableHeaderRow=E},A.printHeaderRow=function(E,H){if(y.call(this),!this.internal.__cell__.tableHeaderRow)throw new Error("Property tableHeaderRow does not exist.");var ut;if(v=!0,typeof this.internal.__cell__.headerFunction=="function"){var st=this.internal.__cell__.headerFunction(this,this.internal.__cell__.pages);this.internal.__cell__.lastCell=new w(st[0],st[1],st[2],st[3],void 0,-1)}this.setFont(void 0,"bold");for(var bt=[],z=0;z<this.internal.__cell__.tableHeaderRow.length;z+=1){ut=this.internal.__cell__.tableHeaderRow[z].clone(),H&&(ut.y=this.internal.__cell__.margins.top||0,bt.push(ut)),ut.lineNumber=E;var Dt=this.getTextColor();this.setTextColor(this.internal.__cell__.headerTextColor),this.setFillColor(this.internal.__cell__.headerBackgroundColor),S.call(this,ut),this.setTextColor(Dt)}bt.length>0&&this.setTableHeaderRow(bt),this.setFont(void 0,"normal"),v=!1}}(Z.API);var Rs={italic:["italic","oblique","normal"],oblique:["oblique","italic","normal"],normal:["normal","oblique","italic"]},vs=["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded"],ia=Qa(vs),ms=[100,200,300,400,500,600,700,800,900],Bs=Qa(ms);function Da(A){var p=A.family.replace(/"|'/g,"").toLowerCase(),v=function(w){return Rs[w=w||"normal"]?w:"normal"}(A.style),y=function(w){if(!w)return 400;if(typeof w=="number")return w>=100&&w<=900&&w%100==0?w:400;if(/^\d00$/.test(w))return parseInt(w);switch(w){case"bold":return 700;case"normal":default:return 400}}(A.weight),_=function(w){return typeof ia[w=w||"normal"]=="number"?w:"normal"}(A.stretch);return{family:p,style:v,weight:y,stretch:_,src:A.src||[],ref:A.ref||{name:p,style:[_,v,y].join(" ")}}}function Ra(A,p,v,y){var _;for(_=v;_>=0&&_<p.length;_+=y)if(A[p[_]])return A[p[_]];for(_=v;_>=0&&_<p.length;_-=y)if(A[p[_]])return A[p[_]]}var js={"sans-serif":"helvetica",fixed:"courier",monospace:"courier",terminal:"courier",cursive:"times",fantasy:"times",serif:"times"},Ba={caption:"times",icon:"times",menu:"times","message-box":"times","small-caption":"times","status-bar":"times"};function ba(A){return[A.stretch,A.style,A.weight,A.family].join(" ")}function Ki(A,p,v){for(var y=(v=v||{}).defaultFontFamily||"times",_=Object.assign({},js,v.genericFontFamilies||{}),w=null,S=null,I=0;I<p.length;++I)if(_[(w=Da(p[I])).family]&&(w.family=_[w.family]),A.hasOwnProperty(w.family)){S=A[w.family];break}if(!(S=S||A[y]))throw new Error("Could not find a font-family for the rule '"+ba(w)+"' and default family '"+y+"'.");if(S=function(E,H){if(H[E])return H[E];var ut=ia[E],st=ut<=ia.normal?-1:1,bt=Ra(H,vs,ut,st);if(!bt)throw new Error("Could not find a matching font-stretch value for "+E);return bt}(w.stretch,S),S=function(E,H){if(H[E])return H[E];for(var ut=Rs[E],st=0;st<ut.length;++st)if(H[ut[st]])return H[ut[st]];throw new Error("Could not find a matching font-style for "+E)}(w.style,S),!(S=function(E,H){if(H[E])return H[E];if(E===400&&H[500])return H[500];if(E===500&&H[400])return H[400];var ut=Bs[E],st=Ra(H,ms,ut,E<400?-1:1);if(!st)throw new Error("Could not find a matching font-weight for value "+E);return st}(w.weight,S)))throw new Error("Failed to resolve a font for the rule '"+ba(w)+"'.");return S}function Us(A){return A.trimLeft()}function lo(A,p){for(var v=0;v<A.length;){if(A.charAt(v)===p)return[A.substring(0,v),A.substring(v+1)];v+=1}return null}function ja(A){var p=A.match(/^(-[a-z_]|[a-z_])[a-z0-9_-]*/i);return p===null?null:[p[0],A.substring(p[0].length)]}var wa,zs,ts,W=["times"];(function(A){var p,v,y,_,w,S,I,E,H,ut=function(ft){return ft=ft||{},this.isStrokeTransparent=ft.isStrokeTransparent||!1,this.strokeOpacity=ft.strokeOpacity||1,this.strokeStyle=ft.strokeStyle||"#000000",this.fillStyle=ft.fillStyle||"#000000",this.isFillTransparent=ft.isFillTransparent||!1,this.fillOpacity=ft.fillOpacity||1,this.font=ft.font||"10px sans-serif",this.textBaseline=ft.textBaseline||"alphabetic",this.textAlign=ft.textAlign||"left",this.lineWidth=ft.lineWidth||1,this.lineJoin=ft.lineJoin||"miter",this.lineCap=ft.lineCap||"butt",this.path=ft.path||[],this.transform=ft.transform!==void 0?ft.transform.clone():new E,this.globalCompositeOperation=ft.globalCompositeOperation||"normal",this.globalAlpha=ft.globalAlpha||1,this.clip_path=ft.clip_path||[],this.currentPoint=ft.currentPoint||new S,this.miterLimit=ft.miterLimit||10,this.lastPoint=ft.lastPoint||new S,this.lineDashOffset=ft.lineDashOffset||0,this.lineDash=ft.lineDash||[],this.margin=ft.margin||[0,0,0,0],this.prevPageLastElemOffset=ft.prevPageLastElemOffset||0,this.ignoreClearRect=typeof ft.ignoreClearRect!="boolean"||ft.ignoreClearRect,this};A.events.push(["initialized",function(){this.context2d=new st(this),p=this.internal.f2,v=this.internal.getCoordinateString,y=this.internal.getVerticalCoordinateString,_=this.internal.getHorizontalCoordinate,w=this.internal.getVerticalCoordinate,S=this.internal.Point,I=this.internal.Rectangle,E=this.internal.Matrix,H=new ut}]);var st=function(ft){Object.defineProperty(this,"canvas",{get:function(){return{parentNode:!1,style:!1}}});var jt=ft;Object.defineProperty(this,"pdf",{get:function(){return jt}});var se=!1;Object.defineProperty(this,"pageWrapXEnabled",{get:function(){return se},set:function(Je){se=Boolean(Je)}});var ge=!1;Object.defineProperty(this,"pageWrapYEnabled",{get:function(){return ge},set:function(Je){ge=Boolean(Je)}});var Ae=0;Object.defineProperty(this,"posX",{get:function(){return Ae},set:function(Je){isNaN(Je)||(Ae=Je)}});var Xe=0;Object.defineProperty(this,"posY",{get:function(){return Xe},set:function(Je){isNaN(Je)||(Xe=Je)}}),Object.defineProperty(this,"margin",{get:function(){return H.margin},set:function(Je){var Or;typeof Je=="number"?Or=[Je,Je,Je,Je]:((Or=new Array(4))[0]=Je[0],Or[1]=Je.length>=2?Je[1]:Or[0],Or[2]=Je.length>=3?Je[2]:Or[0],Or[3]=Je.length>=4?Je[3]:Or[1]),H.margin=Or}});var Me=!1;Object.defineProperty(this,"autoPaging",{get:function(){return Me},set:function(Je){Me=Je}});var je=0;Object.defineProperty(this,"lastBreak",{get:function(){return je},set:function(Je){je=Je}});var ur=[];Object.defineProperty(this,"pageBreaks",{get:function(){return ur},set:function(Je){ur=Je}}),Object.defineProperty(this,"ctx",{get:function(){return H},set:function(Je){Je instanceof ut&&(H=Je)}}),Object.defineProperty(this,"path",{get:function(){return H.path},set:function(Je){H.path=Je}});var zr=[];Object.defineProperty(this,"ctxStack",{get:function(){return zr},set:function(Je){zr=Je}}),Object.defineProperty(this,"fillStyle",{get:function(){return this.ctx.fillStyle},set:function(Je){var Or;Or=bt(Je),this.ctx.fillStyle=Or.style,this.ctx.isFillTransparent=Or.a===0,this.ctx.fillOpacity=Or.a,this.pdf.setFillColor(Or.r,Or.g,Or.b,{a:Or.a}),this.pdf.setTextColor(Or.r,Or.g,Or.b,{a:Or.a})}}),Object.defineProperty(this,"strokeStyle",{get:function(){return this.ctx.strokeStyle},set:function(Je){var Or=bt(Je);this.ctx.strokeStyle=Or.style,this.ctx.isStrokeTransparent=Or.a===0,this.ctx.strokeOpacity=Or.a,Or.a===0?this.pdf.setDrawColor(255,255,255):(Or.a,this.pdf.setDrawColor(Or.r,Or.g,Or.b))}}),Object.defineProperty(this,"lineCap",{get:function(){return this.ctx.lineCap},set:function(Je){["butt","round","square"].indexOf(Je)!==-1&&(this.ctx.lineCap=Je,this.pdf.setLineCap(Je))}}),Object.defineProperty(this,"lineWidth",{get:function(){return this.ctx.lineWidth},set:function(Je){isNaN(Je)||(this.ctx.lineWidth=Je,this.pdf.setLineWidth(Je))}}),Object.defineProperty(this,"lineJoin",{get:function(){return this.ctx.lineJoin},set:function(Je){["bevel","round","miter"].indexOf(Je)!==-1&&(this.ctx.lineJoin=Je,this.pdf.setLineJoin(Je))}}),Object.defineProperty(this,"miterLimit",{get:function(){return this.ctx.miterLimit},set:function(Je){isNaN(Je)||(this.ctx.miterLimit=Je,this.pdf.setMiterLimit(Je))}}),Object.defineProperty(this,"textBaseline",{get:function(){return this.ctx.textBaseline},set:function(Je){this.ctx.textBaseline=Je}}),Object.defineProperty(this,"textAlign",{get:function(){return this.ctx.textAlign},set:function(Je){["right","end","center","left","start"].indexOf(Je)!==-1&&(this.ctx.textAlign=Je)}});var Cr=null;function en(Ft,Je){if(Cr===null){var Or=function(Ve){var Fr=[];return Object.keys(Ve).forEach(function(Sr){Ve[Sr].forEach(function(jr){var Wr=null;switch(jr){case"bold":Wr={family:Sr,weight:"bold"};break;case"italic":Wr={family:Sr,style:"italic"};break;case"bolditalic":Wr={family:Sr,weight:"bold",style:"italic"};break;case"":case"normal":Wr={family:Sr}}Wr!==null&&(Wr.ref={name:Sr,style:jr},Fr.push(Wr))})}),Fr}(Ft.getFontList());Cr=function(Ve){for(var Fr={},Sr=0;Sr<Ve.length;++Sr){var jr=Da(Ve[Sr]),Wr=jr.family,Yr=jr.stretch,Fn=jr.style,tn=jr.weight;Fr[Wr]=Fr[Wr]||{},Fr[Wr][Yr]=Fr[Wr][Yr]||{},Fr[Wr][Yr][Fn]=Fr[Wr][Yr][Fn]||{},Fr[Wr][Yr][Fn][tn]=jr}return Fr}(Or.concat(Je))}return Cr}var Gr=null;Object.defineProperty(this,"fontFaces",{get:function(){return Gr},set:function(Je){Cr=null,Gr=Je}}),Object.defineProperty(this,"font",{get:function(){return this.ctx.font},set:function(Je){var Or;if(this.ctx.font=Je,(Or=/^\s*(?=(?:(?:[-a-z]+\s*){0,2}(italic|oblique))?)(?=(?:(?:[-a-z]+\s*){0,2}(small-caps))?)(?=(?:(?:[-a-z]+\s*){0,2}(bold(?:er)?|lighter|[1-9]00))?)(?:(?:normal|\1|\2|\3)\s*){0,3}((?:xx?-)?(?:small|large)|medium|smaller|larger|[.\d]+(?:\%|in|[cem]m|ex|p[ctx]))(?:\s*\/\s*(normal|[.\d]+(?:\%|in|[cem]m|ex|p[ctx])))?\s*([-_,\"\'\sa-z]+?)\s*$/i.exec(Je))!==null){var Ve=Or[1],Fr=(Or[2],Or[3]),Sr=Or[4],jr=(Or[5],Or[6]),Wr=/^([.\d]+)((?:%|in|[cem]m|ex|p[ctx]))$/i.exec(Sr)[2];Sr=Math.floor(Wr==="px"?parseFloat(Sr)*this.pdf.internal.scaleFactor:Wr==="em"?parseFloat(Sr)*this.pdf.getFontSize():parseFloat(Sr)*this.pdf.internal.scaleFactor),this.pdf.setFontSize(Sr);var Yr=function(Mr){var Bi,Vn,Ci=[],mn=Mr.trim();if(mn==="")return W;if(mn in Ba)return[Ba[mn]];for(;mn!=="";){switch(Vn=null,Bi=(mn=Us(mn)).charAt(0)){case'"':case"'":Vn=lo(mn.substring(1),Bi);break;default:Vn=ja(mn)}if(Vn===null||(Ci.push(Vn[0]),(mn=Us(Vn[1]))!==""&&mn.charAt(0)!==","))return W;mn=mn.replace(/^,/,"")}return Ci}(jr);if(this.fontFaces){var Fn=Ki(en(this.pdf,this.fontFaces),Yr.map(function(Mr){return{family:Mr,stretch:"normal",weight:Fr,style:Ve}}));this.pdf.setFont(Fn.ref.name,Fn.ref.style)}else{var tn="";(Fr==="bold"||parseInt(Fr,10)>=700||Ve==="bold")&&(tn="bold"),Ve==="italic"&&(tn+="italic"),tn.length===0&&(tn="normal");for(var Tn="",Hn={arial:"Helvetica",Arial:"Helvetica",verdana:"Helvetica",Verdana:"Helvetica",helvetica:"Helvetica",Helvetica:"Helvetica","sans-serif":"Helvetica",fixed:"Courier",monospace:"Courier",terminal:"Courier",cursive:"Times",fantasy:"Times",serif:"Times"},Vr=0;Vr<Yr.length;Vr++){if(this.pdf.internal.getFont(Yr[Vr],tn,{noFallback:!0,disableWarning:!0})!==void 0){Tn=Yr[Vr];break}if(tn==="bolditalic"&&this.pdf.internal.getFont(Yr[Vr],"bold",{noFallback:!0,disableWarning:!0})!==void 0)Tn=Yr[Vr],tn="bold";else if(this.pdf.internal.getFont(Yr[Vr],"normal",{noFallback:!0,disableWarning:!0})!==void 0){Tn=Yr[Vr],tn="normal";break}}if(Tn===""){for(var cn=0;cn<Yr.length;cn++)if(Hn[Yr[cn]]){Tn=Hn[Yr[cn]];break}}Tn=Tn===""?"Times":Tn,this.pdf.setFont(Tn,tn)}}}}),Object.defineProperty(this,"globalCompositeOperation",{get:function(){return this.ctx.globalCompositeOperation},set:function(Je){this.ctx.globalCompositeOperation=Je}}),Object.defineProperty(this,"globalAlpha",{get:function(){return this.ctx.globalAlpha},set:function(Je){this.ctx.globalAlpha=Je}}),Object.defineProperty(this,"lineDashOffset",{get:function(){return this.ctx.lineDashOffset},set:function(Je){this.ctx.lineDashOffset=Je,wr.call(this)}}),Object.defineProperty(this,"lineDash",{get:function(){return this.ctx.lineDash},set:function(Je){this.ctx.lineDash=Je,wr.call(this)}}),Object.defineProperty(this,"ignoreClearRect",{get:function(){return this.ctx.ignoreClearRect},set:function(Je){this.ctx.ignoreClearRect=Boolean(Je)}})};st.prototype.setLineDash=function(zt){this.lineDash=zt},st.prototype.getLineDash=function(){return this.lineDash.length%2?this.lineDash.concat(this.lineDash):this.lineDash.slice()},st.prototype.fill=function(){ke.call(this,"fill",!1)},st.prototype.stroke=function(){ke.call(this,"stroke",!1)},st.prototype.beginPath=function(){this.path=[{type:"begin"}]},st.prototype.moveTo=function(zt,ft){if(isNaN(zt)||isNaN(ft))throw _t.error("jsPDF.context2d.moveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.moveTo");var jt=this.ctx.transform.applyToPoint(new S(zt,ft));this.path.push({type:"mt",x:jt.x,y:jt.y}),this.ctx.lastPoint=new S(zt,ft)},st.prototype.closePath=function(){var zt=new S(0,0),ft=0;for(ft=this.path.length-1;ft!==-1;ft--)if(this.path[ft].type==="begin"&&Ut()(this.path[ft+1])==="object"&&typeof this.path[ft+1].x=="number"){zt=new S(this.path[ft+1].x,this.path[ft+1].y);break}this.path.push({type:"close"}),this.ctx.lastPoint=new S(zt.x,zt.y)},st.prototype.lineTo=function(zt,ft){if(isNaN(zt)||isNaN(ft))throw _t.error("jsPDF.context2d.lineTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.lineTo");var jt=this.ctx.transform.applyToPoint(new S(zt,ft));this.path.push({type:"lt",x:jt.x,y:jt.y}),this.ctx.lastPoint=new S(jt.x,jt.y)},st.prototype.clip=function(){this.ctx.clip_path=JSON.parse(JSON.stringify(this.path)),ke.call(this,null,!0)},st.prototype.quadraticCurveTo=function(zt,ft,jt,se){if(isNaN(jt)||isNaN(se)||isNaN(zt)||isNaN(ft))throw _t.error("jsPDF.context2d.quadraticCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.quadraticCurveTo");var ge=this.ctx.transform.applyToPoint(new S(jt,se)),Ae=this.ctx.transform.applyToPoint(new S(zt,ft));this.path.push({type:"qct",x1:Ae.x,y1:Ae.y,x:ge.x,y:ge.y}),this.ctx.lastPoint=new S(ge.x,ge.y)},st.prototype.bezierCurveTo=function(zt,ft,jt,se,ge,Ae){if(isNaN(ge)||isNaN(Ae)||isNaN(zt)||isNaN(ft)||isNaN(jt)||isNaN(se))throw _t.error("jsPDF.context2d.bezierCurveTo: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.bezierCurveTo");var Xe=this.ctx.transform.applyToPoint(new S(ge,Ae)),Me=this.ctx.transform.applyToPoint(new S(zt,ft)),je=this.ctx.transform.applyToPoint(new S(jt,se));this.path.push({type:"bct",x1:Me.x,y1:Me.y,x2:je.x,y2:je.y,x:Xe.x,y:Xe.y}),this.ctx.lastPoint=new S(Xe.x,Xe.y)},st.prototype.arc=function(zt,ft,jt,se,ge,Ae){if(isNaN(zt)||isNaN(ft)||isNaN(jt)||isNaN(se)||isNaN(ge))throw _t.error("jsPDF.context2d.arc: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.arc");if(Ae=Boolean(Ae),!this.ctx.transform.isIdentity){var Xe=this.ctx.transform.applyToPoint(new S(zt,ft));zt=Xe.x,ft=Xe.y;var Me=this.ctx.transform.applyToPoint(new S(0,jt)),je=this.ctx.transform.applyToPoint(new S(0,0));jt=Math.sqrt(Math.pow(Me.x-je.x,2)+Math.pow(Me.y-je.y,2))}Math.abs(ge-se)>=2*Math.PI&&(se=0,ge=2*Math.PI),this.path.push({type:"arc",x:zt,y:ft,radius:jt,startAngle:se,endAngle:ge,counterclockwise:Ae})},st.prototype.arcTo=function(zt,ft,jt,se,ge){throw new Error("arcTo not implemented.")},st.prototype.rect=function(zt,ft,jt,se){if(isNaN(zt)||isNaN(ft)||isNaN(jt)||isNaN(se))throw _t.error("jsPDF.context2d.rect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rect");this.moveTo(zt,ft),this.lineTo(zt+jt,ft),this.lineTo(zt+jt,ft+se),this.lineTo(zt,ft+se),this.lineTo(zt,ft),this.lineTo(zt+jt,ft),this.lineTo(zt,ft)},st.prototype.fillRect=function(zt,ft,jt,se){if(isNaN(zt)||isNaN(ft)||isNaN(jt)||isNaN(se))throw _t.error("jsPDF.context2d.fillRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillRect");if(!z.call(this)){var ge={};this.lineCap!=="butt"&&(ge.lineCap=this.lineCap,this.lineCap="butt"),this.lineJoin!=="miter"&&(ge.lineJoin=this.lineJoin,this.lineJoin="miter"),this.beginPath(),this.rect(zt,ft,jt,se),this.fill(),ge.hasOwnProperty("lineCap")&&(this.lineCap=ge.lineCap),ge.hasOwnProperty("lineJoin")&&(this.lineJoin=ge.lineJoin)}},st.prototype.strokeRect=function(zt,ft,jt,se){if(isNaN(zt)||isNaN(ft)||isNaN(jt)||isNaN(se))throw _t.error("jsPDF.context2d.strokeRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeRect");Dt.call(this)||(this.beginPath(),this.rect(zt,ft,jt,se),this.stroke())},st.prototype.clearRect=function(zt,ft,jt,se){if(isNaN(zt)||isNaN(ft)||isNaN(jt)||isNaN(se))throw _t.error("jsPDF.context2d.clearRect: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.clearRect");this.ignoreClearRect||(this.fillStyle="#ffffff",this.fillRect(zt,ft,jt,se))},st.prototype.save=function(zt){zt=typeof zt!="boolean"||zt;for(var ft=this.pdf.internal.getCurrentPageInfo().pageNumber,jt=0;jt<this.pdf.internal.getNumberOfPages();jt++)this.pdf.setPage(jt+1),this.pdf.internal.out("q");if(this.pdf.setPage(ft),zt){this.ctx.fontSize=this.pdf.internal.getFontSize();var se=new ut(this.ctx);this.ctxStack.push(this.ctx),this.ctx=se}},st.prototype.restore=function(zt){zt=typeof zt!="boolean"||zt;for(var ft=this.pdf.internal.getCurrentPageInfo().pageNumber,jt=0;jt<this.pdf.internal.getNumberOfPages();jt++)this.pdf.setPage(jt+1),this.pdf.internal.out("Q");this.pdf.setPage(ft),zt&&this.ctxStack.length!==0&&(this.ctx=this.ctxStack.pop(),this.fillStyle=this.ctx.fillStyle,this.strokeStyle=this.ctx.strokeStyle,this.font=this.ctx.font,this.lineCap=this.ctx.lineCap,this.lineWidth=this.ctx.lineWidth,this.lineJoin=this.ctx.lineJoin,this.lineDash=this.ctx.lineDash,this.lineDashOffset=this.ctx.lineDashOffset)},st.prototype.toDataURL=function(){throw new Error("toDataUrl not implemented.")};var bt=function(ft){var jt,se,ge,Ae;if(ft.isCanvasGradient===!0&&(ft=ft.getColor()),!ft)return{r:0,g:0,b:0,a:0,style:ft};if(/transparent|rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*0+\s*\)/.test(ft))jt=0,se=0,ge=0,Ae=0;else{var Xe=/rgb\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*\)/.exec(ft);if(Xe!==null)jt=parseInt(Xe[1]),se=parseInt(Xe[2]),ge=parseInt(Xe[3]),Ae=1;else if((Xe=/rgba\s*\(\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*,\s*([\d.]+)\s*\)/.exec(ft))!==null)jt=parseInt(Xe[1]),se=parseInt(Xe[2]),ge=parseInt(Xe[3]),Ae=parseFloat(Xe[4]);else{if(Ae=1,typeof ft=="string"&&ft.charAt(0)!=="#"){var Me=new e(ft);ft=Me.ok?Me.toHex():"#000000"}ft.length===4?(jt=ft.substring(1,2),jt+=jt,se=ft.substring(2,3),se+=se,ge=ft.substring(3,4),ge+=ge):(jt=ft.substring(1,3),se=ft.substring(3,5),ge=ft.substring(5,7)),jt=parseInt(jt,16),se=parseInt(se,16),ge=parseInt(ge,16)}}return{r:jt,g:se,b:ge,a:Ae,style:ft}},z=function(){return this.ctx.isFillTransparent||this.globalAlpha==0},Dt=function(){return Boolean(this.ctx.isStrokeTransparent||this.globalAlpha==0)};st.prototype.fillText=function(zt,ft,jt,se){if(isNaN(ft)||isNaN(jt)||typeof zt!="string")throw _t.error("jsPDF.context2d.fillText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.fillText");if(se=isNaN(se)?void 0:se,!z.call(this)){var ge=Oe(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;Lt.call(this,{text:zt,x:ft,y:jt,scale:Ae,angle:ge,align:this.textAlign,maxWidth:se})}},st.prototype.strokeText=function(zt,ft,jt,se){if(isNaN(ft)||isNaN(jt)||typeof zt!="string")throw _t.error("jsPDF.context2d.strokeText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.strokeText");if(!Dt.call(this)){se=isNaN(se)?void 0:se;var ge=Oe(this.ctx.transform.rotation),Ae=this.ctx.transform.scaleX;Lt.call(this,{text:zt,x:ft,y:jt,scale:Ae,renderingMode:"stroke",angle:ge,align:this.textAlign,maxWidth:se})}},st.prototype.measureText=function(zt){if(typeof zt!="string")throw _t.error("jsPDF.context2d.measureText: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.measureText");var ft=this.pdf,jt=this.pdf.internal.scaleFactor,se=ft.internal.getFontSize(),ge=ft.getStringUnitWidth(zt)*se/ft.internal.scaleFactor,Ae=function(Me){var je=(Me=Me||{}).width||0;return Object.defineProperty(this,"width",{get:function(){return je}}),this};return new Ae({width:ge*=Math.round(96*jt/72*1e4)/1e4})},st.prototype.scale=function(zt,ft){if(isNaN(zt)||isNaN(ft))throw _t.error("jsPDF.context2d.scale: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.scale");var jt=new E(zt,0,0,ft,0,0);this.ctx.transform=this.ctx.transform.multiply(jt)},st.prototype.rotate=function(zt){if(isNaN(zt))throw _t.error("jsPDF.context2d.rotate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.rotate");var ft=new E(Math.cos(zt),Math.sin(zt),-Math.sin(zt),Math.cos(zt),0,0);this.ctx.transform=this.ctx.transform.multiply(ft)},st.prototype.translate=function(zt,ft){if(isNaN(zt)||isNaN(ft))throw _t.error("jsPDF.context2d.translate: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.translate");var jt=new E(1,0,0,1,zt,ft);this.ctx.transform=this.ctx.transform.multiply(jt)},st.prototype.transform=function(zt,ft,jt,se,ge,Ae){if(isNaN(zt)||isNaN(ft)||isNaN(jt)||isNaN(se)||isNaN(ge)||isNaN(Ae))throw _t.error("jsPDF.context2d.transform: Invalid arguments",arguments),new Error("Invalid arguments passed to jsPDF.context2d.transform");var Xe=new E(zt,ft,jt,se,ge,Ae);this.ctx.transform=this.ctx.transform.multiply(Xe)},st.prototype.setTransform=function(zt,ft,jt,se,ge,Ae){zt=isNaN(zt)?1:zt,ft=isNaN(ft)?0:ft,jt=isNaN(jt)?0:jt,se=isNaN(se)?1:se,ge=isNaN(ge)?0:ge,Ae=isNaN(Ae)?0:Ae,this.ctx.transform=new E(zt,ft,jt,se,ge,Ae)};var Ct=function(){return this.margin[0]>0||this.margin[1]>0||this.margin[2]>0||this.margin[3]>0};st.prototype.drawImage=function(zt,ft,jt,se,ge,Ae,Xe,Me,je){var ur=this.pdf.getImageProperties(zt),zr=1,Cr=1,en=1,Gr=1;se!==void 0&&Me!==void 0&&(en=Me/se,Gr=je/ge,zr=ur.width/se*Me/se,Cr=ur.height/ge*je/ge),Ae===void 0&&(Ae=ft,Xe=jt,ft=0,jt=0),se!==void 0&&Me===void 0&&(Me=se,je=ge),se===void 0&&Me===void 0&&(Me=ur.width,je=ur.height);for(var Ft,Je=this.ctx.transform.decompose(),Or=Oe(Je.rotate.shx),Ve=new E,Fr=(Ve=(Ve=(Ve=Ve.multiply(Je.translate)).multiply(Je.skew)).multiply(Je.scale)).applyToRectangle(new I(Ae-ft*en,Xe-jt*Gr,se*zr,ge*Cr)),Sr=Bt.call(this,Fr),jr=[],Wr=0;Wr<Sr.length;Wr+=1)jr.indexOf(Sr[Wr])===-1&&jr.push(Sr[Wr]);if(de(jr),this.autoPaging)for(var Yr=jr[0],Fn=jr[jr.length-1],tn=Yr;tn<Fn+1;tn++){this.pdf.setPage(tn);var Tn=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Hn=tn===1?this.posY+this.margin[0]:this.margin[0],Vr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],cn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Mr=tn===1?0:Vr+(tn-2)*cn;if(this.ctx.clip_path.length!==0){var Bi=this.path;Ft=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=rt(Ft,this.posX+this.margin[3],-Mr+Hn+this.ctx.prevPageLastElemOffset),Ge.call(this,"fill",!0),this.path=Bi}var Vn=JSON.parse(JSON.stringify(Fr));Vn=rt([Vn],this.posX+this.margin[3],-Mr+Hn+this.ctx.prevPageLastElemOffset)[0];var Ci=(tn>Yr||tn<Fn)&&Ct.call(this);Ci&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tn,cn,null).clip().discardPath()),this.pdf.addImage(zt,"JPEG",Vn.x,Vn.y,Vn.w,Vn.h,null,null,Or),Ci&&this.pdf.restoreGraphicsState()}else this.pdf.addImage(zt,"JPEG",Fr.x,Fr.y,Fr.w,Fr.h,null,null,Or)};var Bt=function(ft,jt,se){var ge=[];jt=jt||this.pdf.internal.pageSize.width,se=se||this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2];var Ae=this.posY+this.ctx.prevPageLastElemOffset;switch(ft.type){default:case"mt":case"lt":ge.push(Math.floor((ft.y+Ae)/se)+1);break;case"arc":ge.push(Math.floor((ft.y+Ae-ft.radius)/se)+1),ge.push(Math.floor((ft.y+Ae+ft.radius)/se)+1);break;case"qct":var Xe=pr(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ft.x1,ft.y1,ft.x,ft.y);ge.push(Math.floor((Xe.y+Ae)/se)+1),ge.push(Math.floor((Xe.y+Xe.h+Ae)/se)+1);break;case"bct":var Me=Ye(this.ctx.lastPoint.x,this.ctx.lastPoint.y,ft.x1,ft.y1,ft.x2,ft.y2,ft.x,ft.y);ge.push(Math.floor((Me.y+Ae)/se)+1),ge.push(Math.floor((Me.y+Me.h+Ae)/se)+1);break;case"rect":ge.push(Math.floor((ft.y+Ae)/se)+1),ge.push(Math.floor((ft.y+ft.h+Ae)/se)+1)}for(var je=0;je<ge.length;je+=1)for(;this.pdf.internal.getNumberOfPages()<ge[je];)Tt.call(this);return ge},Tt=function(){var ft=this.fillStyle,jt=this.strokeStyle,se=this.font,ge=this.lineCap,Ae=this.lineWidth,Xe=this.lineJoin;this.pdf.addPage(),this.fillStyle=ft,this.strokeStyle=jt,this.font=se,this.lineCap=ge,this.lineWidth=Ae,this.lineJoin=Xe},rt=function(ft,jt,se){for(var ge=0;ge<ft.length;ge++)switch(ft[ge].type){case"bct":ft[ge].x2+=jt,ft[ge].y2+=se;case"qct":ft[ge].x1+=jt,ft[ge].y1+=se;case"mt":case"lt":case"arc":default:ft[ge].x+=jt,ft[ge].y+=se}return ft},de=function(ft){return ft.sort(function(jt,se){return jt-se})},ke=function(ft,jt){for(var se,ge,Ae=this.fillStyle,Xe=this.strokeStyle,Me=this.lineCap,je=this.lineWidth,ur=Math.abs(je*this.ctx.transform.scaleX),zr=this.lineJoin,Cr=JSON.parse(JSON.stringify(this.path)),en=JSON.parse(JSON.stringify(this.path)),Gr=[],Ft=0;Ft<en.length;Ft++)if(en[Ft].x!==void 0)for(var Je=Bt.call(this,en[Ft]),Or=0;Or<Je.length;Or+=1)Gr.indexOf(Je[Or])===-1&&Gr.push(Je[Or]);for(var Ve=0;Ve<Gr.length;Ve++)for(;this.pdf.internal.getNumberOfPages()<Gr[Ve];)Tt.call(this);if(de(Gr),this.autoPaging)for(var Fr=Gr[0],Sr=Gr[Gr.length-1],jr=Fr;jr<Sr+1;jr++){this.pdf.setPage(jr),this.fillStyle=Ae,this.strokeStyle=Xe,this.lineCap=Me,this.lineWidth=ur,this.lineJoin=zr;var Wr=this.pdf.internal.pageSize.width-this.margin[3]-this.margin[1],Yr=jr===1?this.posY+this.margin[0]:this.margin[0],Fn=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],tn=this.pdf.internal.pageSize.height-this.margin[0]-this.margin[2],Tn=jr===1?0:Fn+(jr-2)*tn;if(this.ctx.clip_path.length!==0){var Hn=this.path;se=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=rt(se,this.posX+this.margin[3],-Tn+Yr+this.ctx.prevPageLastElemOffset),Ge.call(this,ft,!0),this.path=Hn}if(ge=JSON.parse(JSON.stringify(Cr)),this.path=rt(ge,this.posX+this.margin[3],-Tn+Yr+this.ctx.prevPageLastElemOffset),jt===!1||jr===0){var Vr=(jr>Fr||jr<Sr)&&Ct.call(this);Vr&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Wr,tn,null).clip().discardPath()),Ge.call(this,ft,jt),Vr&&this.pdf.restoreGraphicsState()}this.lineWidth=je}else this.lineWidth=ur,Ge.call(this,ft,jt),this.lineWidth=je;this.path=Cr},Ge=function(ft,jt){if((ft!=="stroke"||jt||!Dt.call(this))&&(ft==="stroke"||jt||!z.call(this))){for(var se,ge,Ae=[],Xe=this.path,Me=0;Me<Xe.length;Me++){var je=Xe[Me];switch(je.type){case"begin":Ae.push({begin:!0});break;case"close":Ae.push({close:!0});break;case"mt":Ae.push({start:je,deltas:[],abs:[]});break;case"lt":var ur=Ae.length;if(Xe[Me-1]&&!isNaN(Xe[Me-1].x)&&(se=[je.x-Xe[Me-1].x,je.y-Xe[Me-1].y],ur>0)){for(;ur>=0;ur--)if(Ae[ur-1].close!==!0&&Ae[ur-1].begin!==!0){Ae[ur-1].deltas.push(se),Ae[ur-1].abs.push(je);break}}break;case"bct":se=[je.x1-Xe[Me-1].x,je.y1-Xe[Me-1].y,je.x2-Xe[Me-1].x,je.y2-Xe[Me-1].y,je.x-Xe[Me-1].x,je.y-Xe[Me-1].y],Ae[Ae.length-1].deltas.push(se);break;case"qct":var zr=Xe[Me-1].x+2/3*(je.x1-Xe[Me-1].x),Cr=Xe[Me-1].y+2/3*(je.y1-Xe[Me-1].y),en=je.x+2/3*(je.x1-je.x),Gr=je.y+2/3*(je.y1-je.y),Ft=je.x,Je=je.y;se=[zr-Xe[Me-1].x,Cr-Xe[Me-1].y,en-Xe[Me-1].x,Gr-Xe[Me-1].y,Ft-Xe[Me-1].x,Je-Xe[Me-1].y],Ae[Ae.length-1].deltas.push(se);break;case"arc":Ae.push({deltas:[],abs:[],arc:!0}),Array.isArray(Ae[Ae.length-1].abs)&&Ae[Ae.length-1].abs.push(je)}}ge=jt?null:ft==="stroke"?"stroke":"fill";for(var Or=!1,Ve=0;Ve<Ae.length;Ve++)if(Ae[Ve].arc)for(var Fr=Ae[Ve].abs,Sr=0;Sr<Fr.length;Sr++){var jr=Fr[Sr];jr.type==="arc"?lr.call(this,jr.x,jr.y,jr.radius,jr.startAngle,jr.endAngle,jr.counterclockwise,void 0,jt,!Or):Kt.call(this,jr.x,jr.y),Or=!0}else if(Ae[Ve].close===!0)this.pdf.internal.out("h"),Or=!1;else if(Ae[Ve].begin!==!0){var Wr=Ae[Ve].start.x,Yr=Ae[Ve].start.y;Xt.call(this,Ae[Ve].deltas,Wr,Yr),Or=!0}ge&&$t.call(this,ge),jt&&ze.call(this)}},nr=function(ft){var jt=this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor,se=jt*(this.pdf.internal.getLineHeightFactor()-1);switch(this.ctx.textBaseline){case"bottom":return ft-se;case"top":return ft+jt-se;case"hanging":return ft+jt-2*se;case"middle":return ft+jt/2-se;case"ideographic":return ft;case"alphabetic":default:return ft}},Be=function(ft){return ft+this.pdf.internal.getFontSize()/this.pdf.internal.scaleFactor*(this.pdf.internal.getLineHeightFactor()-1)};st.prototype.createLinearGradient=function(){var zt=function(){};return zt.colorStops=[],zt.addColorStop=function(ft,jt){this.colorStops.push([ft,jt])},zt.getColor=function(){return this.colorStops.length===0?"#000000":this.colorStops[0][1]},zt.isCanvasGradient=!0,zt},st.prototype.createPattern=function(){return this.createLinearGradient()},st.prototype.createRadialGradient=function(){return this.createLinearGradient()};var lr=function(ft,jt,se,ge,Ae,Xe,Me,je,ur){for(var zr=We.call(this,se,ge,Ae,Xe),Cr=0;Cr<zr.length;Cr++){var en=zr[Cr];Cr===0&&(ur?Gt.call(this,en.x1+ft,en.y1+jt):Kt.call(this,en.x1+ft,en.y1+jt)),qe.call(this,ft,jt,en.x2,en.y2,en.x3,en.y3,en.x4,en.y4)}je?ze.call(this):$t.call(this,Me)},$t=function(ft){switch(ft){case"stroke":this.pdf.internal.out("S");break;case"fill":this.pdf.internal.out("f")}},ze=function(){this.pdf.clip(),this.pdf.discardPath()},Gt=function(ft,jt){this.pdf.internal.out(v(ft)+" "+y(jt)+" m")},Lt=function(ft){var jt;switch(ft.align){case"right":case"end":jt="right";break;case"center":jt="center";break;case"left":case"start":default:jt="left"}var se=this.pdf.getTextDimensions(ft.text),ge=nr.call(this,ft.y),Ae=Be.call(this,ge)-se.h,Xe=this.ctx.transform.applyToPoint(new S(ft.x,ge)),Me=this.ctx.transform.decompose(),je=new E;je=(je=(je=je.multiply(Me.translate)).multiply(Me.skew)).multiply(Me.scale);for(var ur,zr,Cr,en=this.ctx.transform.applyToRectangle(new I(ft.x,ge,se.w,se.h)),Gr=je.applyToRectangle(new I(ft.x,Ae,se.w,se.h)),Ft=Bt.call(this,Gr),Je=[],Or=0;Or<Ft.length;Or+=1)Je.indexOf(Ft[Or])===-1&&Je.push(Ft[Or]);if(de(Je),this.autoPaging)for(var Ve=Je[0],Fr=Je[Je.length-1],Sr=Ve;Sr<Fr+1;Sr++){this.pdf.setPage(Sr);var jr=Sr===1?this.posY+this.margin[0]:this.margin[0],Wr=this.pdf.internal.pageSize.height-this.posY-this.margin[0]-this.margin[2],Yr=this.pdf.internal.pageSize.height-this.margin[2],Fn=Yr-this.margin[0],tn=this.pdf.internal.pageSize.width-this.margin[1],Tn=tn-this.margin[3],Hn=Sr===1?0:Wr+(Sr-2)*Fn;if(this.ctx.clip_path.length!==0){var Vr=this.path;ur=JSON.parse(JSON.stringify(this.ctx.clip_path)),this.path=rt(ur,this.posX+this.margin[3],-1*Hn+jr),Ge.call(this,"fill",!0),this.path=Vr}var cn=rt([JSON.parse(JSON.stringify(Gr))],this.posX+this.margin[3],-Hn+jr+this.ctx.prevPageLastElemOffset)[0];ft.scale>=.01&&(zr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(zr*ft.scale),Cr=this.lineWidth,this.lineWidth=Cr*ft.scale);var Mr=this.autoPaging!=="text";if(Mr||cn.y+cn.h<=Yr){if(Mr||cn.y>=jr&&cn.x<=tn){var Bi=Mr?ft.text:this.pdf.splitTextToSize(ft.text,ft.maxWidth||tn-cn.x)[0],Vn=rt([JSON.parse(JSON.stringify(en))],this.posX+this.margin[3],-Hn+jr+this.ctx.prevPageLastElemOffset)[0],Ci=Mr&&(Sr>Ve||Sr<Fr)&&Ct.call(this);Ci&&(this.pdf.saveGraphicsState(),this.pdf.rect(this.margin[3],this.margin[0],Tn,Fn,null).clip().discardPath()),this.pdf.text(Bi,Vn.x,Vn.y,{angle:ft.angle,align:jt,renderingMode:ft.renderingMode}),Ci&&this.pdf.restoreGraphicsState()}}else cn.y<Yr&&(this.ctx.prevPageLastElemOffset+=Yr-cn.y);ft.scale>=.01&&(this.pdf.setFontSize(zr),this.lineWidth=Cr)}else ft.scale>=.01&&(zr=this.pdf.internal.getFontSize(),this.pdf.setFontSize(zr*ft.scale),Cr=this.lineWidth,this.lineWidth=Cr*ft.scale),this.pdf.text(ft.text,Xe.x+this.posX,Xe.y+this.posY,{angle:ft.angle,align:jt,renderingMode:ft.renderingMode,maxWidth:ft.maxWidth}),ft.scale>=.01&&(this.pdf.setFontSize(zr),this.lineWidth=Cr)},Kt=function(ft,jt,se,ge){se=se||0,ge=ge||0,this.pdf.internal.out(v(ft+se)+" "+y(jt+ge)+" l")},Xt=function(ft,jt,se){return this.pdf.lines(ft,jt,se,null,null)},qe=function(ft,jt,se,ge,Ae,Xe,Me,je){this.pdf.internal.out([p(_(se+ft)),p(w(ge+jt)),p(_(Ae+ft)),p(w(Xe+jt)),p(_(Me+ft)),p(w(je+jt)),"c"].join(" "))},We=function(ft,jt,se,ge){for(var Ae=2*Math.PI,Xe=Math.PI/2;jt>se;)jt-=Ae;var Me=Math.abs(se-jt);Me<Ae&&ge&&(Me=Ae-Me);for(var je=[],ur=ge?-1:1,zr=jt;Me>1e-5;){var Cr=zr+ur*Math.min(Me,Xe);je.push(or.call(this,ft,zr,Cr)),Me-=Math.abs(Cr-zr),zr=Cr}return je},or=function(ft,jt,se){var ge=(se-jt)/2,Ae=ft*Math.cos(ge),Xe=ft*Math.sin(ge),Me=Ae,je=-Xe,ur=Me*Me+je*je,zr=ur+Me*Ae+je*Xe,Cr=4/3*(Math.sqrt(2*ur*zr)-zr)/(Me*Xe-je*Ae),en=Me-Cr*je,Gr=je+Cr*Me,Ft=en,Je=-Gr,Or=ge+jt,Ve=Math.cos(Or),Fr=Math.sin(Or);return{x1:ft*Math.cos(jt),y1:ft*Math.sin(jt),x2:en*Ve-Gr*Fr,y2:en*Fr+Gr*Ve,x3:Ft*Ve-Je*Fr,y3:Ft*Fr+Je*Ve,x4:ft*Math.cos(se),y4:ft*Math.sin(se)}},Oe=function(ft){return 180*ft/Math.PI},pr=function(ft,jt,se,ge,Ae,Xe){var Me=ft+.5*(se-ft),je=jt+.5*(ge-jt),ur=Ae+.5*(se-Ae),zr=Xe+.5*(ge-Xe),Cr=Math.min(ft,Ae,Me,ur),en=Math.max(ft,Ae,Me,ur),Gr=Math.min(jt,Xe,je,zr),Ft=Math.max(jt,Xe,je,zr);return new I(Cr,Gr,en-Cr,Ft-Gr)},Ye=function(ft,jt,se,ge,Ae,Xe,Me,je){var ur,zr,Cr,en,Gr,Ft,Je,Or,Ve,Fr,Sr,jr,Wr,Yr,Fn=se-ft,tn=ge-jt,Tn=Ae-se,Hn=Xe-ge,Vr=Me-Ae,cn=je-Xe;for(zr=0;zr<41;zr++)Ve=(Je=(Cr=ft+(ur=zr/40)*Fn)+ur*((Gr=se+ur*Tn)-Cr))+ur*(Gr+ur*(Ae+ur*Vr-Gr)-Je),Fr=(Or=(en=jt+ur*tn)+ur*((Ft=ge+ur*Hn)-en))+ur*(Ft+ur*(Xe+ur*cn-Ft)-Or),zr==0?(Sr=Ve,jr=Fr,Wr=Ve,Yr=Fr):(Sr=Math.min(Sr,Ve),jr=Math.min(jr,Fr),Wr=Math.max(Wr,Ve),Yr=Math.max(Yr,Fr));return new I(Math.round(Sr),Math.round(jr),Math.round(Wr-Sr),Math.round(Yr-jr))},wr=function(){if(this.prevLineDash||this.ctx.lineDash.length||this.ctx.lineDashOffset){var ft,jt,se=(ft=this.ctx.lineDash,jt=this.ctx.lineDashOffset,JSON.stringify({lineDash:ft,lineDashOffset:jt}));this.prevLineDash!==se&&(this.pdf.setLineDash(this.ctx.lineDash,this.ctx.lineDashOffset),this.prevLineDash=se)}}})(Z.API),function(A){var p=function(S){var I,E,H,ut,st,bt,z,Dt,Ct,Bt;for(/[^\x00-\xFF]/.test(S),E=[],H=0,ut=(S+=I="\0\0\0\0".slice(S.length%4||4)).length;ut>H;H+=4)(st=(S.charCodeAt(H)<<24)+(S.charCodeAt(H+1)<<16)+(S.charCodeAt(H+2)<<8)+S.charCodeAt(H+3))!==0?(bt=(st=((st=((st=((st=(st-(Bt=st%85))/85)-(Ct=st%85))/85)-(Dt=st%85))/85)-(z=st%85))/85)%85,E.push(bt+33,z+33,Dt+33,Ct+33,Bt+33)):E.push(122);return function(Tt,rt){for(var de=rt;de>0;de--)Tt.pop()}(E,I.length),String.fromCharCode.apply(String,E)+"~>"},v=function(S){var I,E,H,ut,st,bt=String,z="length",Dt=255,Ct="charCodeAt",Bt="slice",Tt="replace";for(S[Bt](-2),S=S[Bt](0,-2)[Tt](/\s/g,"")[Tt]("z","!!!!!"),H=[],ut=0,st=(S+=I="uuuuu"[Bt](S[z]%5||5))[z];st>ut;ut+=5)E=52200625*(S[Ct](ut)-33)+614125*(S[Ct](ut+1)-33)+7225*(S[Ct](ut+2)-33)+85*(S[Ct](ut+3)-33)+(S[Ct](ut+4)-33),H.push(Dt&E>>24,Dt&E>>16,Dt&E>>8,Dt&E);return function(rt,de){for(var ke=de;ke>0;ke--)rt.pop()}(H,I[z]),bt.fromCharCode.apply(bt,H)},y=function(S){var I=new RegExp(/^([0-9A-Fa-f]{2})+$/);if((S=S.replace(/\s/g,"")).indexOf(">")!==-1&&(S=S.substr(0,S.indexOf(">"))),S.length%2&&(S+="0"),I.test(S)===!1)return"";for(var E="",H=0;H<S.length;H+=2)E+=String.fromCharCode("0x"+(S[H]+S[H+1]));return E},_=function(S){for(var I=new Uint8Array(S.length),E=S.length;E--;)I[E]=S.charCodeAt(E);return S=(I=Object(nt.b)(I)).reduce(function(H,ut){return H+String.fromCharCode(ut)},"")};A.processDataByFilters=function(w,S){var I=0,E=w||"",H=[];for(typeof(S=S||[])=="string"&&(S=[S]),I=0;I<S.length;I+=1)switch(S[I]){case"ASCII85Decode":case"/ASCII85Decode":E=v(E),H.push("/ASCII85Encode");break;case"ASCII85Encode":case"/ASCII85Encode":E=p(E),H.push("/ASCII85Decode");break;case"ASCIIHexDecode":case"/ASCIIHexDecode":E=y(E),H.push("/ASCIIHexEncode");break;case"ASCIIHexEncode":case"/ASCIIHexEncode":E=E.split("").map(function(ut){return("0"+ut.charCodeAt().toString(16)).slice(-2)}).join("")+">",H.push("/ASCIIHexDecode");break;case"FlateEncode":case"/FlateEncode":E=_(E),H.push("/FlateDecode");break;default:throw new Error('The filter: "'+S[I]+'" is not implemented')}return{data:E,reverseChain:H.reverse().join(" ")}}}(Z.API),function(A){A.loadFile=function(p,v,y){return function(_,w,S){w=w!==!1,S=typeof S=="function"?S:function(){};var I=void 0;try{I=function(E,H,ut){var st=new XMLHttpRequest,bt=0,z=function(Ct){var Bt=Ct.length,Tt=[],rt=String.fromCharCode;for(bt=0;bt<Bt;bt+=1)Tt.push(rt(255&Ct.charCodeAt(bt)));return Tt.join("")};if(st.open("GET",E,!H),st.overrideMimeType("text/plain; charset=x-user-defined"),H===!1&&(st.onload=function(){st.status===200?ut(z(this.responseText)):ut(void 0)}),st.send(null),H&&st.status===200)return z(st.responseText)}(_,w,S)}catch(E){}return I}(p,v,y)},A.loadImageFile=A.loadFile}(Z.API),function(A){function p(){return(ve.html2canvas?Promise.resolve(ve.html2canvas):Te.e(65).then(Te.t.bind(null,"wOnQ",7))).catch(function(S){return Promise.reject(new Error("Could not load html2canvas: "+S))}).then(function(S){return S.default?S.default:S})}function v(){return(ve.DOMPurify?Promise.resolve(ve.DOMPurify):Te.e(64).then(Te.t.bind(null,"wMS7",7))).catch(function(S){return Promise.reject(new Error("Could not load dompurify: "+S))}).then(function(S){return S.default?S.default:S})}var y=function(I){var E=Ut()(I);return E==="undefined"?"undefined":E==="string"||I instanceof String?"string":E==="number"||I instanceof Number?"number":E==="function"||I instanceof Function?"function":I&&I.constructor===Array?"array":I&&I.nodeType===1?"element":E==="object"?"object":"unknown"},_=function(I,E){var H=document.createElement(I);for(var ut in E.className&&(H.className=E.className),E.innerHTML&&E.dompurify&&(H.innerHTML=E.dompurify.sanitize(E.innerHTML)),E.style)H.style[ut]=E.style[ut];return H},w=function S(I){var E=Object.assign(S.convert(Promise.resolve()),JSON.parse(JSON.stringify(S.template))),H=S.convert(Promise.resolve(),E);return H=(H=H.setProgress(1,S,1,[S])).set(I)};(w.prototype=Object.create(Promise.prototype)).constructor=w,w.convert=function(S,I){return S.__proto__=I||w.prototype,S},w.template={prop:{src:null,container:null,overlay:null,canvas:null,img:null,pdf:null,pageSize:null,callback:function(){}},progress:{val:0,state:null,n:0,stack:[]},opt:{filename:"file.pdf",margin:[0,0,0,0],enableLinks:!0,x:0,y:0,html2canvas:{},jsPDF:{},backgroundColor:"transparent"}},w.prototype.from=function(S,I){return this.then(function(){switch(I=I||function(E){switch(y(E)){case"string":return"string";case"element":return E.nodeName.toLowerCase()==="canvas"?"canvas":"element";default:return"unknown"}}(S)){case"string":return this.then(v).then(function(E){return this.set({src:_("div",{innerHTML:S,dompurify:E})})});case"element":return this.set({src:S});case"canvas":return this.set({canvas:S});case"img":return this.set({img:S});default:return this.error("Unknown source type.")}})},w.prototype.to=function(S){switch(S){case"container":return this.toContainer();case"canvas":return this.toCanvas();case"img":return this.toImg();case"pdf":return this.toPdf();default:return this.error("Invalid target.")}},w.prototype.toContainer=function(){return this.thenList([function(){return this.prop.src||this.error("Cannot duplicate - no source HTML.")},function(){return this.prop.pageSize||this.setPageSize()}]).then(function(){var S={position:"relative",display:"inline-block",width:(typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?Math.max(this.prop.src.clientWidth,this.prop.src.scrollWidth,this.prop.src.offsetWidth):this.opt.windowWidth)+"px",left:0,right:0,top:0,margin:"auto",backgroundColor:this.opt.backgroundColor},I=function E(H,ut){for(var st=H.nodeType===3?document.createTextNode(H.nodeValue):H.cloneNode(!1),bt=H.firstChild;bt;bt=bt.nextSibling)ut!==!0&&bt.nodeType===1&&bt.nodeName==="SCRIPT"||st.appendChild(E(bt,ut));return H.nodeType===1&&(H.nodeName==="CANVAS"?(st.width=H.width,st.height=H.height,st.getContext("2d").drawImage(H,0,0)):H.nodeName!=="TEXTAREA"&&H.nodeName!=="SELECT"||(st.value=H.value),st.addEventListener("load",function(){st.scrollTop=H.scrollTop,st.scrollLeft=H.scrollLeft},!0)),st}(this.prop.src,this.opt.html2canvas.javascriptEnabled);I.tagName==="BODY"&&(S.height=Math.max(document.body.scrollHeight,document.body.offsetHeight,document.documentElement.clientHeight,document.documentElement.scrollHeight,document.documentElement.offsetHeight)+"px"),this.prop.overlay=_("div",{className:"html2pdf__overlay",style:{position:"fixed",overflow:"hidden",zIndex:1e3,left:"-100000px",right:0,bottom:0,top:0}}),this.prop.container=_("div",{className:"html2pdf__container",style:S}),this.prop.container.appendChild(I),this.prop.container.firstChild.appendChild(_("div",{style:{clear:"both",border:"0 none transparent",margin:0,padding:0,height:0}})),this.prop.container.style.float="none",this.prop.overlay.appendChild(this.prop.container),document.body.appendChild(this.prop.overlay),this.prop.container.firstChild.style.position="relative",this.prop.container.height=Math.max(this.prop.container.firstChild.clientHeight,this.prop.container.firstChild.scrollHeight,this.prop.container.firstChild.offsetHeight)+"px"})},w.prototype.toCanvas=function(){var S=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(S).then(p).then(function(I){var E=Object.assign({},this.opt.html2canvas);return delete E.onrendered,I(this.prop.container,E)}).then(function(I){(this.opt.html2canvas.onrendered||function(){})(I),this.prop.canvas=I,document.body.removeChild(this.prop.overlay)})},w.prototype.toContext2d=function(){var S=[function(){return document.body.contains(this.prop.container)||this.toContainer()}];return this.thenList(S).then(p).then(function(I){var E=this.opt.jsPDF,H=this.opt.fontFaces,ut=typeof this.opt.width!="number"||isNaN(this.opt.width)||typeof this.opt.windowWidth!="number"||isNaN(this.opt.windowWidth)?1:this.opt.width/this.opt.windowWidth,st=Object.assign({async:!0,allowTaint:!0,scale:ut,scrollX:this.opt.scrollX||0,scrollY:this.opt.scrollY||0,backgroundColor:"#ffffff",imageTimeout:15e3,logging:!0,proxy:null,removeContainer:!0,foreignObjectRendering:!1,useCORS:!1},this.opt.html2canvas);if(delete st.onrendered,E.context2d.autoPaging=this.opt.autoPaging===void 0||this.opt.autoPaging,E.context2d.posX=this.opt.x,E.context2d.posY=this.opt.y,E.context2d.margin=this.opt.margin,E.context2d.fontFaces=H,H)for(var bt=0;bt<H.length;++bt){var z=H[bt],Dt=z.src.find(function(Ct){return Ct.format==="truetype"});Dt&&E.addFont(Dt.url,z.ref.name,z.ref.style)}return st.windowHeight=st.windowHeight||0,st.windowHeight=st.windowHeight==0?Math.max(this.prop.container.clientHeight,this.prop.container.scrollHeight,this.prop.container.offsetHeight):st.windowHeight,E.context2d.save(!0),I(this.prop.container,st)}).then(function(I){this.opt.jsPDF.context2d.restore(!0),(this.opt.html2canvas.onrendered||function(){})(I),this.prop.canvas=I,document.body.removeChild(this.prop.overlay)})},w.prototype.toImg=function(){return this.thenList([function(){return this.prop.canvas||this.toCanvas()}]).then(function(){var S=this.prop.canvas.toDataURL("image/"+this.opt.image.type,this.opt.image.quality);this.prop.img=document.createElement("img"),this.prop.img.src=S})},w.prototype.toPdf=function(){return this.thenList([function(){return this.toContext2d()}]).then(function(){this.prop.pdf=this.prop.pdf||this.opt.jsPDF})},w.prototype.output=function(S,I,E){return(E=E||"pdf").toLowerCase()==="img"||E.toLowerCase()==="image"?this.outputImg(S,I):this.outputPdf(S,I)},w.prototype.outputPdf=function(S,I){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){return this.prop.pdf.output(S,I)})},w.prototype.outputImg=function(S){return this.thenList([function(){return this.prop.img||this.toImg()}]).then(function(){switch(S){case void 0:case"img":return this.prop.img;case"datauristring":case"dataurlstring":return this.prop.img.src;case"datauri":case"dataurl":return document.location.href=this.prop.img.src;default:throw'Image output type "'+S+'" is not supported.'}})},w.prototype.save=function(S){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).set(S?{filename:S}:null).then(function(){this.prop.pdf.save(this.opt.filename)})},w.prototype.doCallback=function(){return this.thenList([function(){return this.prop.pdf||this.toPdf()}]).then(function(){this.prop.callback(this.prop.pdf)})},w.prototype.set=function(S){if(y(S)!=="object")return this;var I=Object.keys(S||{}).map(function(E){if(E in w.template.prop)return function(){this.prop[E]=S[E]};switch(E){case"margin":return this.setMargin.bind(this,S.margin);case"jsPDF":return function(){return this.opt.jsPDF=S.jsPDF,this.setPageSize()};case"pageSize":return this.setPageSize.bind(this,S.pageSize);default:return function(){this.opt[E]=S[E]}}},this);return this.then(function(){return this.thenList(I)})},w.prototype.get=function(S,I){return this.then(function(){var E=S in w.template.prop?this.prop[S]:this.opt[S];return I?I(E):E})},w.prototype.setMargin=function(S){return this.then(function(){switch(y(S)){case"number":S=[S,S,S,S];case"array":if(S.length===2&&(S=[S[0],S[1],S[0],S[1]]),S.length===4)break;default:return this.error("Invalid margin array.")}this.opt.margin=S}).then(this.setPageSize)},w.prototype.setPageSize=function(S){function I(E,H){return Math.floor(E*H/72*96)}return this.then(function(){(S=S||Z.getPageSize(this.opt.jsPDF)).hasOwnProperty("inner")||(S.inner={width:S.width-this.opt.margin[1]-this.opt.margin[3],height:S.height-this.opt.margin[0]-this.opt.margin[2]},S.inner.px={width:I(S.inner.width,S.k),height:I(S.inner.height,S.k)},S.inner.ratio=S.inner.height/S.inner.width),this.prop.pageSize=S})},w.prototype.setProgress=function(S,I,E,H){return S!=null&&(this.progress.val=S),I!=null&&(this.progress.state=I),E!=null&&(this.progress.n=E),H!=null&&(this.progress.stack=H),this.progress.ratio=this.progress.val/this.progress.state,this},w.prototype.updateProgress=function(S,I,E,H){return this.setProgress(S?this.progress.val+S:null,I||null,E?this.progress.n+E:null,H?this.progress.stack.concat(H):null)},w.prototype.then=function(S,I){var E=this;return this.thenCore(S,I,function(H,ut){return E.updateProgress(null,null,1,[H]),Promise.prototype.then.call(this,function(st){return E.updateProgress(null,H),st}).then(H,ut).then(function(st){return E.updateProgress(1),st})})},w.prototype.thenCore=function(S,I,E){E=E||Promise.prototype.then,S&&(S=S.bind(this)),I&&(I=I.bind(this));var H=Promise.toString().indexOf("[native code]")!==-1&&Promise.name==="Promise"?this:w.convert(Object.assign({},this),Promise.prototype),ut=E.call(H,S,I);return w.convert(ut,this.__proto__)},w.prototype.thenExternal=function(S,I){return Promise.prototype.then.call(this,S,I)},w.prototype.thenList=function(S){var I=this;return S.forEach(function(E){I=I.thenCore(E)}),I},w.prototype.catch=function(S){S&&(S=S.bind(this));var I=Promise.prototype.catch.call(this,S);return w.convert(I,this)},w.prototype.catchExternal=function(S){return Promise.prototype.catch.call(this,S)},w.prototype.error=function(S){return this.then(function(){throw new Error(S)})},w.prototype.using=w.prototype.set,w.prototype.saveAs=w.prototype.save,w.prototype.export=w.prototype.output,w.prototype.run=w.prototype.then,Z.getPageSize=function(S,I,E){if(Ut()(S)==="object"){var H=S;S=H.orientation,I=H.unit||I,E=H.format||E}I=I||"mm",E=E||"a4",S=(""+(S||"P")).toLowerCase();var ut,st=(""+E).toLowerCase(),bt={a0:[2383.94,3370.39],a1:[1683.78,2383.94],a2:[1190.55,1683.78],a3:[841.89,1190.55],a4:[595.28,841.89],a5:[419.53,595.28],a6:[297.64,419.53],a7:[209.76,297.64],a8:[147.4,209.76],a9:[104.88,147.4],a10:[73.7,104.88],b0:[2834.65,4008.19],b1:[2004.09,2834.65],b2:[1417.32,2004.09],b3:[1000.63,1417.32],b4:[708.66,1000.63],b5:[498.9,708.66],b6:[354.33,498.9],b7:[249.45,354.33],b8:[175.75,249.45],b9:[124.72,175.75],b10:[87.87,124.72],c0:[2599.37,3676.54],c1:[1836.85,2599.37],c2:[1298.27,1836.85],c3:[918.43,1298.27],c4:[649.13,918.43],c5:[459.21,649.13],c6:[323.15,459.21],c7:[229.61,323.15],c8:[161.57,229.61],c9:[113.39,161.57],c10:[79.37,113.39],dl:[311.81,623.62],letter:[612,792],"government-letter":[576,756],legal:[612,1008],"junior-legal":[576,360],ledger:[1224,792],tabloid:[792,1224],"credit-card":[153,243]};switch(I){case"pt":ut=1;break;case"mm":ut=72/25.4;break;case"cm":ut=72/2.54;break;case"in":ut=72;break;case"px":ut=.75;break;case"pc":case"em":ut=12;break;case"ex":ut=6;break;default:throw"Invalid unit: "+I}var z,Dt=0,Ct=0;if(bt.hasOwnProperty(st))Dt=bt[st][1]/ut,Ct=bt[st][0]/ut;else try{Dt=E[1],Ct=E[0]}catch(Bt){throw new Error("Invalid format: "+E)}if(S==="p"||S==="portrait")S="p",Ct>Dt&&(z=Ct,Ct=Dt,Dt=z);else{if(S!=="l"&&S!=="landscape")throw"Invalid orientation: "+S;S="l",Dt>Ct&&(z=Ct,Ct=Dt,Dt=z)}return{width:Ct,height:Dt,unit:I,k:ut,orientation:S}},A.html=function(S,I){(I=I||{}).callback=I.callback||function(){},I.html2canvas=I.html2canvas||{},I.html2canvas.canvas=I.html2canvas.canvas||this.canvas,I.jsPDF=I.jsPDF||this,I.fontFaces=I.fontFaces?I.fontFaces.map(Da):null;var E=new w(I);return I.worker?E:E.from(S).doCallback()}}(Z.API),Z.API.addJS=function(A){return ts=A,this.internal.events.subscribe("postPutResources",function(){wa=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/Names [(EmbeddedJS) "+(wa+1)+" 0 R]"),this.internal.out(">>"),this.internal.out("endobj"),zs=this.internal.newObject(),this.internal.out("<<"),this.internal.out("/S /JavaScript"),this.internal.out("/JS ("+ts+")"),this.internal.out(">>"),this.internal.out("endobj")}),this.internal.events.subscribe("putCatalog",function(){wa!==void 0&&zs!==void 0&&this.internal.out("/Names <</JavaScript "+wa+" 0 R>>")}),this},function(A){var p;A.events.push(["postPutResources",function(){var v=this,y=/^(\d+) 0 obj$/;if(this.outline.root.children.length>0)for(var _=v.outline.render().split(/\r\n/),w=0;w<_.length;w++){var S=_[w],I=y.exec(S);if(I!=null){var E=I[1];v.internal.newObjectDeferredBegin(E,!1)}v.internal.write(S)}if(this.outline.createNamedDestinations){var H=this.internal.pages.length,ut=[];for(w=0;w<H;w++){var st=v.internal.newObject();ut.push(st);var bt=v.internal.getPageInfo(w+1);v.internal.write("<< /D["+bt.objId+" 0 R /XYZ null null null]>> endobj")}var z=v.internal.newObject();for(v.internal.write("<< /Names [ "),w=0;w<ut.length;w++)v.internal.write("(page_"+(w+1)+")"+ut[w]+" 0 R");v.internal.write(" ] >>","endobj"),p=v.internal.newObject(),v.internal.write("<< /Dests "+z+" 0 R"),v.internal.write(">>","endobj")}}]),A.events.push(["putCatalog",function(){this.outline.root.children.length>0&&(this.internal.write("/Outlines",this.outline.makeRef(this.outline.root)),this.outline.createNamedDestinations&&this.internal.write("/Names "+p+" 0 R"))}]),A.events.push(["initialized",function(){var v=this;v.outline={createNamedDestinations:!1,root:{children:[]}},v.outline.add=function(y,_,w){var S={title:_,options:w,children:[]};return y==null&&(y=this.root),y.children.push(S),S},v.outline.render=function(){return this.ctx={},this.ctx.val="",this.ctx.pdf=v,this.genIds_r(this.root),this.renderRoot(this.root),this.renderItems(this.root),this.ctx.val},v.outline.genIds_r=function(y){y.id=v.internal.newObjectDeferred();for(var _=0;_<y.children.length;_++)this.genIds_r(y.children[_])},v.outline.renderRoot=function(y){this.objStart(y),this.line("/Type /Outlines"),y.children.length>0&&(this.line("/First "+this.makeRef(y.children[0])),this.line("/Last "+this.makeRef(y.children[y.children.length-1]))),this.line("/Count "+this.count_r({count:0},y)),this.objEnd()},v.outline.renderItems=function(y){for(var _=this.ctx.pdf.internal.getVerticalCoordinateString,w=0;w<y.children.length;w++){var S=y.children[w];this.objStart(S),this.line("/Title "+this.makeString(S.title)),this.line("/Parent "+this.makeRef(y)),w>0&&this.line("/Prev "+this.makeRef(y.children[w-1])),w<y.children.length-1&&this.line("/Next "+this.makeRef(y.children[w+1])),S.children.length>0&&(this.line("/First "+this.makeRef(S.children[0])),this.line("/Last "+this.makeRef(S.children[S.children.length-1])));var I=this.count=this.count_r({count:0},S);if(I>0&&this.line("/Count "+I),S.options&&S.options.pageNumber){var E=v.internal.getPageInfo(S.options.pageNumber);this.line("/Dest ["+E.objId+" 0 R /XYZ 0 "+_(0)+" 0]")}this.objEnd()}for(var H=0;H<y.children.length;H++)this.renderItems(y.children[H])},v.outline.line=function(y){this.ctx.val+=y+`\r
`},v.outline.makeRef=function(y){return y.id+" 0 R"},v.outline.makeString=function(y){return"("+v.internal.pdfEscape(y)+")"},v.outline.objStart=function(y){this.ctx.val+=`\r
`+y.id+` 0 obj\r
<<\r
`},v.outline.objEnd=function(){this.ctx.val+=`>> \r
endobj\r
`},v.outline.count_r=function(y,_){for(var w=0;w<_.children.length;w++)y.count++,this.count_r(y,_.children[w]);return y.count}}])}(Z.API),function(A){var p=[192,193,194,195,196,197,198,199];A.processJPEG=function(v,y,_,w,S,I){var E,H=this.decode.DCT_DECODE,ut=null;if(typeof v=="string"||this.__addimage__.isArrayBuffer(v)||this.__addimage__.isArrayBufferView(v)){switch(v=S||v,v=this.__addimage__.isArrayBuffer(v)?new Uint8Array(v):v,(E=function(st){for(var bt,z=256*st.charCodeAt(4)+st.charCodeAt(5),Dt=st.length,Ct={width:0,height:0,numcomponents:1},Bt=4;Bt<Dt;Bt+=2){if(Bt+=z,p.indexOf(st.charCodeAt(Bt+1))!==-1){bt=256*st.charCodeAt(Bt+5)+st.charCodeAt(Bt+6),Ct={width:256*st.charCodeAt(Bt+7)+st.charCodeAt(Bt+8),height:bt,numcomponents:st.charCodeAt(Bt+9)};break}z=256*st.charCodeAt(Bt+2)+st.charCodeAt(Bt+3)}return Ct}(v=this.__addimage__.isArrayBufferView(v)?this.__addimage__.arrayBufferToBinaryString(v):v)).numcomponents){case 1:I=this.color_spaces.DEVICE_GRAY;break;case 4:I=this.color_spaces.DEVICE_CMYK;break;case 3:I=this.color_spaces.DEVICE_RGB}ut={data:v,width:E.width,height:E.height,colorSpace:I,bitsPerComponent:8,filter:H,index:y,alias:_}}return ut}}(Z.API);var N,x,j,V,ht,kt=function(){var A,p,v;function y(w){var S,I,E,H,ut,st,bt,z,Dt,Ct,Bt,Tt,rt,de;for(this.data=w,this.pos=8,this.palette=[],this.imgData=[],this.transparency={},this.animation=null,this.text={},st=null;;){switch(S=this.readUInt32(),Dt=function(){var ke,Ge;for(Ge=[],ke=0;ke<4;++ke)Ge.push(String.fromCharCode(this.data[this.pos++]));return Ge}.call(this).join("")){case"IHDR":this.width=this.readUInt32(),this.height=this.readUInt32(),this.bits=this.data[this.pos++],this.colorType=this.data[this.pos++],this.compressionMethod=this.data[this.pos++],this.filterMethod=this.data[this.pos++],this.interlaceMethod=this.data[this.pos++];break;case"acTL":this.animation={numFrames:this.readUInt32(),numPlays:this.readUInt32()||1/0,frames:[]};break;case"PLTE":this.palette=this.read(S);break;case"fcTL":st&&this.animation.frames.push(st),this.pos+=4,st={width:this.readUInt32(),height:this.readUInt32(),xOffset:this.readUInt32(),yOffset:this.readUInt32()},ut=this.readUInt16(),H=this.readUInt16()||100,st.delay=1e3*ut/H,st.disposeOp=this.data[this.pos++],st.blendOp=this.data[this.pos++],st.data=[];break;case"IDAT":case"fdAT":for(Dt==="fdAT"&&(this.pos+=4,S-=4),w=(st!=null?st.data:void 0)||this.imgData,Tt=0;0<=S?Tt<S:Tt>S;0<=S?++Tt:--Tt)w.push(this.data[this.pos++]);break;case"tRNS":switch(this.transparency={},this.colorType){case 3:if(E=this.palette.length/3,this.transparency.indexed=this.read(S),this.transparency.indexed.length>E)throw new Error("More transparent colors than palette size");if((Ct=E-this.transparency.indexed.length)>0)for(rt=0;0<=Ct?rt<Ct:rt>Ct;0<=Ct?++rt:--rt)this.transparency.indexed.push(255);break;case 0:this.transparency.grayscale=this.read(S)[0];break;case 2:this.transparency.rgb=this.read(S)}break;case"tEXt":bt=(Bt=this.read(S)).indexOf(0),z=String.fromCharCode.apply(String,Bt.slice(0,bt)),this.text[z]=String.fromCharCode.apply(String,Bt.slice(bt+1));break;case"IEND":return st&&this.animation.frames.push(st),this.colors=function(){switch(this.colorType){case 0:case 3:case 4:return 1;case 2:case 6:return 3}}.call(this),this.hasAlphaChannel=(de=this.colorType)===4||de===6,I=this.colors+(this.hasAlphaChannel?1:0),this.pixelBitlength=this.bits*I,this.colorSpace=function(){switch(this.colors){case 1:return"DeviceGray";case 3:return"DeviceRGB"}}.call(this),void(this.imgData=new Uint8Array(this.imgData));default:this.pos+=S}if(this.pos+=4,this.pos>this.data.length)throw new Error("Incomplete or corrupt PNG file")}}y.prototype.read=function(w){var S,I;for(I=[],S=0;0<=w?S<w:S>w;0<=w?++S:--S)I.push(this.data[this.pos++]);return I},y.prototype.readUInt32=function(){return this.data[this.pos++]<<24|this.data[this.pos++]<<16|this.data[this.pos++]<<8|this.data[this.pos++]},y.prototype.readUInt16=function(){return this.data[this.pos++]<<8|this.data[this.pos++]},y.prototype.decodePixels=function(w){var S=this.pixelBitlength/8,I=new Uint8Array(this.width*this.height*S),E=0,H=this;if(w==null&&(w=this.imgData),w.length===0)return new Uint8Array(0);function ut(st,bt,z,Dt){var Ct,Bt,Tt,rt,de,ke,Ge,nr,Be,lr,$t,ze,Gt,Lt,Kt,Xt,qe,We,or,Oe,pr,Ye=Math.ceil((H.width-st)/z),wr=Math.ceil((H.height-bt)/Dt),zt=H.width==Ye&&H.height==wr;for(Lt=S*Ye,ze=zt?I:new Uint8Array(Lt*wr),ke=w.length,Gt=0,Bt=0;Gt<wr&&E<ke;){switch(w[E++]){case 0:for(rt=qe=0;qe<Lt;rt=qe+=1)ze[Bt++]=w[E++];break;case 1:for(rt=We=0;We<Lt;rt=We+=1)Ct=w[E++],de=rt<S?0:ze[Bt-S],ze[Bt++]=(Ct+de)%256;break;case 2:for(rt=or=0;or<Lt;rt=or+=1)Ct=w[E++],Tt=(rt-rt%S)/S,Kt=Gt&&ze[(Gt-1)*Lt+Tt*S+rt%S],ze[Bt++]=(Kt+Ct)%256;break;case 3:for(rt=Oe=0;Oe<Lt;rt=Oe+=1)Ct=w[E++],Tt=(rt-rt%S)/S,de=rt<S?0:ze[Bt-S],Kt=Gt&&ze[(Gt-1)*Lt+Tt*S+rt%S],ze[Bt++]=(Ct+Math.floor((de+Kt)/2))%256;break;case 4:for(rt=pr=0;pr<Lt;rt=pr+=1)Ct=w[E++],Tt=(rt-rt%S)/S,de=rt<S?0:ze[Bt-S],Gt===0?Kt=Xt=0:(Kt=ze[(Gt-1)*Lt+Tt*S+rt%S],Xt=Tt&&ze[(Gt-1)*Lt+(Tt-1)*S+rt%S]),Ge=de+Kt-Xt,nr=Math.abs(Ge-de),lr=Math.abs(Ge-Kt),$t=Math.abs(Ge-Xt),Be=nr<=lr&&nr<=$t?de:lr<=$t?Kt:Xt,ze[Bt++]=(Ct+Be)%256;break;default:throw new Error("Invalid filter algorithm: "+w[E-1])}if(!zt){var ft=((bt+Gt*Dt)*H.width+st)*S,jt=Gt*Lt;for(rt=0;rt<Ye;rt+=1){for(var se=0;se<S;se+=1)I[ft++]=ze[jt++];ft+=(z-1)*S}}Gt++}}return w=Object(nt.a)(w),H.interlaceMethod==1?(ut(0,0,8,8),ut(4,0,8,8),ut(0,4,4,8),ut(2,0,4,4),ut(0,2,2,4),ut(1,0,2,2),ut(0,1,1,2)):ut(0,0,1,1),I},y.prototype.decodePalette=function(){var w,S,I,E,H,ut,st,bt,z;for(I=this.palette,ut=this.transparency.indexed||[],H=new Uint8Array((ut.length||0)+I.length),E=0,w=0,S=st=0,bt=I.length;st<bt;S=st+=3)H[E++]=I[S],H[E++]=I[S+1],H[E++]=I[S+2],H[E++]=(z=ut[w++])!=null?z:255;return H},y.prototype.copyToImageData=function(w,S){var I,E,H,ut,st,bt,z,Dt,Ct,Bt,Tt;if(E=this.colors,Ct=null,I=this.hasAlphaChannel,this.palette.length&&(Ct=(Tt=this._decodedPalette)!=null?Tt:this._decodedPalette=this.decodePalette(),E=4,I=!0),Dt=(H=w.data||w).length,st=Ct||S,ut=bt=0,E===1)for(;ut<Dt;)z=Ct?4*S[ut/4]:bt,Bt=st[z++],H[ut++]=Bt,H[ut++]=Bt,H[ut++]=Bt,H[ut++]=I?st[z++]:255,bt=z;else for(;ut<Dt;)z=Ct?4*S[ut/4]:bt,H[ut++]=st[z++],H[ut++]=st[z++],H[ut++]=st[z++],H[ut++]=I?st[z++]:255,bt=z},y.prototype.decode=function(){var w;return w=new Uint8Array(this.width*this.height*4),this.copyToImageData(w,this.decodePixels()),w};var _=function(){if(Object.prototype.toString.call(ve)==="[object Window]"){try{p=ve.document.createElement("canvas"),v=p.getContext("2d")}catch(S){return!1}return!0}return!1};return _(),A=function(S){var I;if(_()===!0)return v.width=S.width,v.height=S.height,v.clearRect(0,0,S.width,S.height),v.putImageData(S,0,0),(I=new Image).src=p.toDataURL(),I;throw new Error("This method requires a Browser with Canvas-capability.")},y.prototype.decodeFrames=function(w){var S,I,E,H,ut,st,bt,z;if(this.animation){for(z=[],I=ut=0,st=(bt=this.animation.frames).length;ut<st;I=++ut)S=bt[I],E=w.createImageData(S.width,S.height),H=this.decodePixels(new Uint8Array(S.data)),this.copyToImageData(E,H),S.imageData=E,z.push(S.image=A(E));return z}},y.prototype.renderFrame=function(w,S){var I,E,H;return I=(E=this.animation.frames)[S],H=E[S-1],S===0&&w.clearRect(0,0,this.width,this.height),(H!=null?H.disposeOp:void 0)===1?w.clearRect(H.xOffset,H.yOffset,H.width,H.height):(H!=null?H.disposeOp:void 0)===2&&w.putImageData(H.imageData,H.xOffset,H.yOffset),I.blendOp===0&&w.clearRect(I.xOffset,I.yOffset,I.width,I.height),w.drawImage(I.image,I.xOffset,I.yOffset)},y.prototype.animate=function(w){var S,I,E,H,ut,st,bt=this;return I=0,st=this.animation,H=st.numFrames,E=st.frames,ut=st.numPlays,(S=function(){var Dt,Ct;if(Dt=I++%H,Ct=E[Dt],bt.renderFrame(w,Dt),H>1&&I/H<ut)return bt.animation._timeout=setTimeout(S,Ct.delay)})()},y.prototype.stopAnimation=function(){var w;return clearTimeout((w=this.animation)!=null?w._timeout:void 0)},y.prototype.render=function(w){var S,I;return w._png&&w._png.stopAnimation(),w._png=this,w.width=this.width,w.height=this.height,S=w.getContext("2d"),this.animation?(this.decodeFrames(S),this.animate(S)):(I=S.createImageData(this.width,this.height),this.copyToImageData(I,this.decodePixels()),S.putImageData(I,0,0))},y}();/**
 * @license
 *
 * Copyright (c) 2014 James Robb, https://github.com/jamesbrobb
 *
 * Permission is hereby granted, free of charge, to any person obtaining
 * a copy of this software and associated documentation files (the
 * "Software"), to deal in the Software without restriction, including
 * without limitation the rights to use, copy, modify, merge, publish,
 * distribute, sublicense, and/or sell copies of the Software, and to
 * permit persons to whom the Software is furnished to do so, subject to
 * the following conditions:
 *
 * The above copyright notice and this permission notice shall be
 * included in all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND,
 * EXPRESS OR IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF
 * MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE AND
 * NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR COPYRIGHT HOLDERS BE
 * LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER IN AN ACTION
 * OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN CONNECTION
 * WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 * ====================================================================
 *//**
 * @license
 * (c) Dean McNamee <dean@gmail.com>, 2013.
 *
 * https://github.com/deanm/omggif
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy
 * of this software and associated documentation files (the "Software"), to
 * deal in the Software without restriction, including without limitation the
 * rights to use, copy, modify, merge, publish, distribute, sublicense, and/or
 * sell copies of the Software, and to permit persons to whom the Software is
 * furnished to do so, subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in
 * all copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,
 * FITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE
 * AUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER
 * LIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING
 * FROM, OUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS
 * IN THE SOFTWARE.
 *
 * omggif is a JavaScript implementation of a GIF 89a encoder and decoder,
 * including animation and compression.  It does not rely on any specific
 * underlying system, so should run in the browser, Node, or Plask.
 */function Mt(A){var p=0;if(A[p++]!==71||A[p++]!==73||A[p++]!==70||A[p++]!==56||(A[p++]+1&253)!=56||A[p++]!==97)throw new Error("Invalid GIF 87a/89a header.");var v=A[p++]|A[p++]<<8,y=A[p++]|A[p++]<<8,_=A[p++],w=_>>7,S=1<<(7&_)+1;A[p++],A[p++];var I=null,E=null;w&&(I=p,E=S,p+=3*S);var H=!0,ut=[],st=0,bt=null,z=0,Dt=null;for(this.width=v,this.height=y;H&&p<A.length;)switch(A[p++]){case 33:switch(A[p++]){case 255:if(A[p]!==11||A[p+1]==78&&A[p+2]==69&&A[p+3]==84&&A[p+4]==83&&A[p+5]==67&&A[p+6]==65&&A[p+7]==80&&A[p+8]==69&&A[p+9]==50&&A[p+10]==46&&A[p+11]==48&&A[p+12]==3&&A[p+13]==1&&A[p+16]==0)p+=14,Dt=A[p++]|A[p++]<<8,p++;else for(p+=12;;){if(!((Gt=A[p++])>=0))throw Error("Invalid block size");if(Gt===0)break;p+=Gt}break;case 249:if(A[p++]!==4||A[p+4]!==0)throw new Error("Invalid graphics extension block.");var Ct=A[p++];st=A[p++]|A[p++]<<8,bt=A[p++],(1&Ct)==0&&(bt=null),z=Ct>>2&7,p++;break;case 254:for(;;){if(!((Gt=A[p++])>=0))throw Error("Invalid block size");if(Gt===0)break;p+=Gt}break;default:throw new Error("Unknown graphic control label: 0x"+A[p-1].toString(16))}break;case 44:var Bt=A[p++]|A[p++]<<8,Tt=A[p++]|A[p++]<<8,rt=A[p++]|A[p++]<<8,de=A[p++]|A[p++]<<8,ke=A[p++],Ge=ke>>6&1,nr=1<<(7&ke)+1,Be=I,lr=E,$t=!1;ke>>7&&($t=!0,Be=p,lr=nr,p+=3*nr);var ze=p;for(p++;;){var Gt;if(!((Gt=A[p++])>=0))throw Error("Invalid block size");if(Gt===0)break;p+=Gt}ut.push({x:Bt,y:Tt,width:rt,height:de,has_local_palette:$t,palette_offset:Be,palette_size:lr,data_offset:ze,data_length:p-ze,transparent_index:bt,interlaced:!!Ge,delay:st,disposal:z});break;case 59:H=!1;break;default:throw new Error("Unknown gif block: 0x"+A[p-1].toString(16))}this.numFrames=function(){return ut.length},this.loopCount=function(){return Dt},this.frameInfo=function(Lt){if(Lt<0||Lt>=ut.length)throw new Error("Frame index out of range.");return ut[Lt]},this.decodeAndBlitFrameBGRA=function(Lt,Kt){var Xt=this.frameInfo(Lt),qe=Xt.width*Xt.height,We=new Uint8Array(qe);ae(A,Xt.data_offset,We,qe);var or=Xt.palette_offset,Oe=Xt.transparent_index;Oe===null&&(Oe=256);var pr=Xt.width,Ye=v-pr,wr=pr,zt=4*(Xt.y*v+Xt.x),ft=4*((Xt.y+Xt.height)*v+Xt.x),jt=zt,se=4*Ye;Xt.interlaced===!0&&(se+=4*v*7);for(var ge=8,Ae=0,Xe=We.length;Ae<Xe;++Ae){var Me=We[Ae];if(wr===0&&(wr=pr,(jt+=se)>=ft&&(se=4*Ye+4*v*(ge-1),jt=zt+(pr+Ye)*(ge<<1),ge>>=1)),Me===Oe)jt+=4;else{var je=A[or+3*Me],ur=A[or+3*Me+1],zr=A[or+3*Me+2];Kt[jt++]=zr,Kt[jt++]=ur,Kt[jt++]=je,Kt[jt++]=255}--wr}},this.decodeAndBlitFrameRGBA=function(Lt,Kt){var Xt=this.frameInfo(Lt),qe=Xt.width*Xt.height,We=new Uint8Array(qe);ae(A,Xt.data_offset,We,qe);var or=Xt.palette_offset,Oe=Xt.transparent_index;Oe===null&&(Oe=256);var pr=Xt.width,Ye=v-pr,wr=pr,zt=4*(Xt.y*v+Xt.x),ft=4*((Xt.y+Xt.height)*v+Xt.x),jt=zt,se=4*Ye;Xt.interlaced===!0&&(se+=4*v*7);for(var ge=8,Ae=0,Xe=We.length;Ae<Xe;++Ae){var Me=We[Ae];if(wr===0&&(wr=pr,(jt+=se)>=ft&&(se=4*Ye+4*v*(ge-1),jt=zt+(pr+Ye)*(ge<<1),ge>>=1)),Me===Oe)jt+=4;else{var je=A[or+3*Me],ur=A[or+3*Me+1],zr=A[or+3*Me+2];Kt[jt++]=je,Kt[jt++]=ur,Kt[jt++]=zr,Kt[jt++]=255}--wr}}}function ae(A,p,v,y){for(var _=A[p++],w=1<<_,S=w+1,I=S+1,E=_+1,H=(1<<E)-1,ut=0,st=0,bt=0,z=A[p++],Dt=new Int32Array(4096),Ct=null;;){for(;ut<16&&z!==0;)st|=A[p++]<<ut,ut+=8,z===1?z=A[p++]:--z;if(ut<E)break;var Bt=st&H;if(st>>=E,ut-=E,Bt!==w){if(Bt===S)break;for(var Tt=Bt<I?Bt:Ct,rt=0,de=Tt;de>w;)de=Dt[de]>>8,++rt;var ke=de;if(bt+rt+(Tt!==Bt?1:0)>y)return void _t.log("Warning, gif stream longer than expected.");v[bt++]=ke;var Ge=bt+=rt;for(Tt!==Bt&&(v[bt++]=ke),de=Tt;rt--;)de=Dt[de],v[--Ge]=255&de,de>>=8;Ct!==null&&I<4096&&(Dt[I++]=Ct<<8|ke,I>=H+1&&E<12&&(++E,H=H<<1|1)),Ct=Bt}else I=S+1,H=(1<<(E=_+1))-1,Ct=null}return bt!==y&&_t.log("Warning, gif stream shorter than expected."),v}/**
 * @license
  Copyright (c) 2008, Adobe Systems Incorporated
  All rights reserved.

  Redistribution and use in source and binary forms, with or without 
  modification, are permitted provided that the following conditions are
  met:

  * Redistributions of source code must retain the above copyright notice, 
    this list of conditions and the following disclaimer.
  
  * Redistributions in binary form must reproduce the above copyright
    notice, this list of conditions and the following disclaimer in the 
    documentation and/or other materials provided with the distribution.
  
  * Neither the name of Adobe Systems Incorporated nor the names of its 
    contributors may be used to endorse or promote products derived from 
    this software without specific prior written permission.

  THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS
  IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO,
  THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR
  PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE COPYRIGHT OWNER OR 
  CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL,
  EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO,
  PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR
  PROFITS; OR BUSINESS INTERRUPTION) HOWEVER CAUSED AND ON ANY THEORY OF
  LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING
  NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS
  SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.
*/function we(A){var p,v,y,_,w,S=Math.floor,I=new Array(64),E=new Array(64),H=new Array(64),ut=new Array(64),st=new Array(65535),bt=new Array(65535),z=new Array(64),Dt=new Array(64),Ct=[],Bt=0,Tt=7,rt=new Array(64),de=new Array(64),ke=new Array(64),Ge=new Array(256),nr=new Array(2048),Be=[0,1,5,6,14,15,27,28,2,4,7,13,16,26,29,42,3,8,12,17,25,30,41,43,9,11,18,24,31,40,44,53,10,19,23,32,39,45,52,54,20,22,33,38,46,51,55,60,21,34,37,47,50,56,59,61,35,36,48,49,57,58,62,63],lr=[0,0,1,5,1,1,1,1,1,1,0,0,0,0,0,0,0],$t=[0,1,2,3,4,5,6,7,8,9,10,11],ze=[0,0,2,1,3,3,2,4,3,5,5,4,4,0,0,1,125],Gt=[1,2,3,0,4,17,5,18,33,49,65,6,19,81,97,7,34,113,20,50,129,145,161,8,35,66,177,193,21,82,209,240,36,51,98,114,130,9,10,22,23,24,25,26,37,38,39,40,41,42,52,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,225,226,227,228,229,230,231,232,233,234,241,242,243,244,245,246,247,248,249,250],Lt=[0,0,3,1,1,1,1,1,1,1,1,1,0,0,0,0,0],Kt=[0,1,2,3,4,5,6,7,8,9,10,11],Xt=[0,0,2,1,2,4,4,3,4,7,5,4,4,0,1,2,119],qe=[0,1,2,3,17,4,5,33,49,6,18,65,81,7,97,113,19,34,50,129,8,20,66,145,161,177,193,9,35,51,82,240,21,98,114,209,10,22,36,52,225,37,241,23,24,25,26,38,39,40,41,42,53,54,55,56,57,58,67,68,69,70,71,72,73,74,83,84,85,86,87,88,89,90,99,100,101,102,103,104,105,106,115,116,117,118,119,120,121,122,130,131,132,133,134,135,136,137,138,146,147,148,149,150,151,152,153,154,162,163,164,165,166,167,168,169,170,178,179,180,181,182,183,184,185,186,194,195,196,197,198,199,200,201,202,210,211,212,213,214,215,216,217,218,226,227,228,229,230,231,232,233,234,242,243,244,245,246,247,248,249,250];function We(zt,ft){for(var jt=0,se=0,ge=new Array,Ae=1;Ae<=16;Ae++){for(var Xe=1;Xe<=zt[Ae];Xe++)ge[ft[se]]=[],ge[ft[se]][0]=jt,ge[ft[se]][1]=Ae,se++,jt++;jt*=2}return ge}function or(zt){for(var ft=zt[0],jt=zt[1]-1;jt>=0;)ft&1<<jt&&(Bt|=1<<Tt),jt--,--Tt<0&&(Bt==255?(Oe(255),Oe(0)):Oe(Bt),Tt=7,Bt=0)}function Oe(zt){Ct.push(zt)}function pr(zt){Oe(zt>>8&255),Oe(255&zt)}function Ye(zt,ft,jt,se,ge){for(var Ae,Xe=ge[0],Me=ge[240],je=function(Ve,Fr){var Sr,jr,Wr,Yr,Fn,tn,Tn,Hn,Vr,cn,Mr=0;for(Vr=0;Vr<8;++Vr){Sr=Ve[Mr],jr=Ve[Mr+1],Wr=Ve[Mr+2],Yr=Ve[Mr+3],Fn=Ve[Mr+4],tn=Ve[Mr+5],Tn=Ve[Mr+6];var Bi=Sr+(Hn=Ve[Mr+7]),Vn=Sr-Hn,Ci=jr+Tn,mn=jr-Tn,pi=Wr+tn,_a=Wr-tn,Rn=Yr+Fn,es=Yr-Fn,oi=Bi+Rn,gi=Bi-Rn,aa=Ci+pi,Zn=Ci-pi;Ve[Mr]=oi+aa,Ve[Mr+4]=oi-aa;var un=.707106781*(Zn+gi);Ve[Mr+2]=gi+un,Ve[Mr+6]=gi-un;var jn=.382683433*((oi=es+_a)-(Zn=mn+Vn)),uo=.5411961*oi+jn,ji=1.306562965*Zn+jn,rs=.707106781*(aa=_a+mn),ns=Vn+rs,rn=Vn-rs;Ve[Mr+5]=rn+uo,Ve[Mr+3]=rn-uo,Ve[Mr+1]=ns+ji,Ve[Mr+7]=ns-ji,Mr+=8}for(Mr=0,Vr=0;Vr<8;++Vr){Sr=Ve[Mr],jr=Ve[Mr+8],Wr=Ve[Mr+16],Yr=Ve[Mr+24],Fn=Ve[Mr+32],tn=Ve[Mr+40],Tn=Ve[Mr+48];var Ji=Sr+(Hn=Ve[Mr+56]),xa=Sr-Hn,ys=jr+Tn,ni=jr-Tn,Ai=Wr+tn,ii=Wr-tn,is=Yr+Fn,Ws=Yr-Fn,Ua=Ji+is,as=Ji-is,Ui=ys+Ai,vi=ys-Ai;Ve[Mr]=Ua+Ui,Ve[Mr+32]=Ua-Ui;var sa=.707106781*(vi+as);Ve[Mr+16]=as+sa,Ve[Mr+48]=as-sa;var ho=.382683433*((Ua=Ws+ii)-(vi=ni+xa)),ss=.5411961*Ua+ho,co=1.306562965*vi+ho,Fo=.707106781*(Ui=ii+ni),No=xa+Fo,bs=xa-Fo;Ve[Mr+40]=bs+ss,Ve[Mr+24]=bs-ss,Ve[Mr+8]=No+co,Ve[Mr+56]=No-co,Mr++}for(Vr=0;Vr<64;++Vr)cn=Ve[Vr]*Fr[Vr],z[Vr]=cn>0?cn+.5|0:cn-.5|0;return z}(zt,ft),ur=0;ur<64;++ur)Dt[Be[ur]]=je[ur];var zr=Dt[0]-jt;jt=Dt[0],zr==0?or(se[0]):(or(se[bt[Ae=32767+zr]]),or(st[Ae]));for(var Cr=63;Cr>0&&Dt[Cr]==0;)Cr--;if(Cr==0)return or(Xe),jt;for(var en,Gr=1;Gr<=Cr;){for(var Ft=Gr;Dt[Gr]==0&&Gr<=Cr;)++Gr;var Je=Gr-Ft;if(Je>=16){en=Je>>4;for(var Or=1;Or<=en;++Or)or(Me);Je&=15}Ae=32767+Dt[Gr],or(ge[(Je<<4)+bt[Ae]]),or(st[Ae]),Gr++}return Cr!=63&&or(Xe),jt}function wr(zt){zt=Math.min(Math.max(zt,1),100),w!=zt&&(function(ft){for(var jt=[16,11,10,16,24,40,51,61,12,12,14,19,26,58,60,55,14,13,16,24,40,57,69,56,14,17,22,29,51,87,80,62,18,22,37,56,68,109,103,77,24,35,55,64,81,104,113,92,49,64,78,87,103,121,120,101,72,92,95,98,112,100,103,99],se=0;se<64;se++){var ge=S((jt[se]*ft+50)/100);ge=Math.min(Math.max(ge,1),255),I[Be[se]]=ge}for(var Ae=[17,18,24,47,99,99,99,99,18,21,26,66,99,99,99,99,24,26,56,99,99,99,99,99,47,66,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99,99],Xe=0;Xe<64;Xe++){var Me=S((Ae[Xe]*ft+50)/100);Me=Math.min(Math.max(Me,1),255),E[Be[Xe]]=Me}for(var je=[1,1.387039845,1.306562965,1.175875602,1,.785694958,.5411961,.275899379],ur=0,zr=0;zr<8;zr++)for(var Cr=0;Cr<8;Cr++)H[ur]=1/(I[Be[ur]]*je[zr]*je[Cr]*8),ut[ur]=1/(E[Be[ur]]*je[zr]*je[Cr]*8),ur++}(zt<50?Math.floor(5e3/zt):Math.floor(200-2*zt)),w=zt)}this.encode=function(zt,ft){ft&&wr(ft),Ct=new Array,Bt=0,Tt=7,pr(65496),pr(65504),pr(16),Oe(74),Oe(70),Oe(73),Oe(70),Oe(0),Oe(1),Oe(1),Oe(0),pr(1),pr(1),Oe(0),Oe(0),function(){pr(65499),pr(132),Oe(0);for(var jr=0;jr<64;jr++)Oe(I[jr]);Oe(1);for(var Wr=0;Wr<64;Wr++)Oe(E[Wr])}(),function(jr,Wr){pr(65472),pr(17),Oe(8),pr(Wr),pr(jr),Oe(3),Oe(1),Oe(17),Oe(0),Oe(2),Oe(17),Oe(1),Oe(3),Oe(17),Oe(1)}(zt.width,zt.height),function(){pr(65476),pr(418),Oe(0);for(var jr=0;jr<16;jr++)Oe(lr[jr+1]);for(var Wr=0;Wr<=11;Wr++)Oe($t[Wr]);Oe(16);for(var Yr=0;Yr<16;Yr++)Oe(ze[Yr+1]);for(var Fn=0;Fn<=161;Fn++)Oe(Gt[Fn]);Oe(1);for(var tn=0;tn<16;tn++)Oe(Lt[tn+1]);for(var Tn=0;Tn<=11;Tn++)Oe(Kt[Tn]);Oe(17);for(var Hn=0;Hn<16;Hn++)Oe(Xt[Hn+1]);for(var Vr=0;Vr<=161;Vr++)Oe(qe[Vr])}(),pr(65498),pr(12),Oe(3),Oe(1),Oe(0),Oe(2),Oe(17),Oe(3),Oe(17),Oe(0),Oe(63),Oe(0);var jt=0,se=0,ge=0;Bt=0,Tt=7,this.encode.displayName="_encode_";for(var Ae,Xe,Me,je,ur,zr,Cr,en,Gr,Ft=zt.data,Je=zt.width,Or=zt.height,Ve=4*Je,Fr=0;Fr<Or;){for(Ae=0;Ae<Ve;){for(ur=Ve*Fr+Ae,Cr=-1,en=0,Gr=0;Gr<64;Gr++)zr=ur+(en=Gr>>3)*Ve+(Cr=4*(7&Gr)),Fr+en>=Or&&(zr-=Ve*(Fr+1+en-Or)),Ae+Cr>=Ve&&(zr-=Ae+Cr-Ve+4),Xe=Ft[zr++],Me=Ft[zr++],je=Ft[zr++],rt[Gr]=(nr[Xe]+nr[Me+256>>0]+nr[je+512>>0]>>16)-128,de[Gr]=(nr[Xe+768>>0]+nr[Me+1024>>0]+nr[je+1280>>0]>>16)-128,ke[Gr]=(nr[Xe+1280>>0]+nr[Me+1536>>0]+nr[je+1792>>0]>>16)-128;jt=Ye(rt,H,jt,p,y),se=Ye(de,ut,se,v,_),ge=Ye(ke,ut,ge,v,_),Ae+=32}Fr+=8}if(Tt>=0){var Sr=[];Sr[1]=Tt+1,Sr[0]=(1<<Tt+1)-1,or(Sr)}return pr(65497),new Uint8Array(Ct)},A=A||50,function(){for(var zt=String.fromCharCode,ft=0;ft<256;ft++)Ge[ft]=zt(ft)}(),p=We(lr,$t),v=We(Lt,Kt),y=We(ze,Gt),_=We(Xt,qe),function(){for(var zt=1,ft=2,jt=1;jt<=15;jt++){for(var se=zt;se<ft;se++)bt[32767+se]=jt,st[32767+se]=[],st[32767+se][1]=jt,st[32767+se][0]=se;for(var ge=-(ft-1);ge<=-zt;ge++)bt[32767+ge]=jt,st[32767+ge]=[],st[32767+ge][1]=jt,st[32767+ge][0]=ft-1+ge;zt<<=1,ft<<=1}}(),function(){for(var zt=0;zt<256;zt++)nr[zt]=19595*zt,nr[zt+256>>0]=38470*zt,nr[zt+512>>0]=7471*zt+32768,nr[zt+768>>0]=-11059*zt,nr[zt+1024>>0]=-21709*zt,nr[zt+1280>>0]=32768*zt+8421375,nr[zt+1536>>0]=-27439*zt,nr[zt+1792>>0]=-5329*zt}(),wr(A)}/**
 * @license
 * Copyright (c) 2017 Aras Abbasi
 *
 * Licensed under the MIT License.
 * http://opensource.org/licenses/mit-license
 */function qt(A,p){if(this.pos=0,this.buffer=A,this.datav=new DataView(A.buffer),this.is_with_alpha=!!p,this.bottom_up=!0,this.flag=String.fromCharCode(this.buffer[0])+String.fromCharCode(this.buffer[1]),this.pos+=2,["BM","BA","CI","CP","IC","PT"].indexOf(this.flag)===-1)throw new Error("Invalid BMP File");this.parseHeader(),this.parseBGR()}function Le(A){function p(lr){if(!lr)throw Error("assert :P")}function v(lr,$t,ze){for(var Gt=0;4>Gt;Gt++)if(lr[$t+Gt]!=ze.charCodeAt(Gt))return!0;return!1}function y(lr,$t,ze,Gt,Lt){for(var Kt=0;Kt<Lt;Kt++)lr[$t+Kt]=ze[Gt+Kt]}function _(lr,$t,ze,Gt){for(var Lt=0;Lt<Gt;Lt++)lr[$t+Lt]=ze}function w(lr){return new Int32Array(lr)}function S(lr,$t){for(var ze=[],Gt=0;Gt<lr;Gt++)ze.push(new $t);return ze}function I(lr,$t){var ze=[];return function Gt(Lt,Kt,Xt){for(var qe=Xt[Kt],We=0;We<qe&&(Lt.push(Xt.length>Kt+1?[]:new $t),!(Xt.length<Kt+1));We++)Gt(Lt[We],Kt+1,Xt)}(ze,0,lr),ze}var E=function(){var $t=this;function ze(c,g){for(var P=1<<g-1>>>0;c&P;)P>>>=1;return P?(c&P-1)+P:c}function Gt(c,g,P,B,X){p(!(B%P));do c[g+(B-=P)]=X;while(0<B)}function Lt(c,g,P,B,X){if(p(2328>=X),512>=X)var $=w(512);else if(($=w(X))==null)return 0;return function(Q,ot,dt,At,ne,_e){var ye,ce,Qe=ot,De=1<<dt,ie=w(16),le=w(16);for(p(ne!=0),p(At!=null),p(Q!=null),p(0<dt),ce=0;ce<ne;++ce){if(15<At[ce])return 0;++ie[At[ce]]}if(ie[0]==ne)return 0;for(le[1]=0,ye=1;15>ye;++ye){if(ie[ye]>1<<ye)return 0;le[ye+1]=le[ye]+ie[ye]}for(ce=0;ce<ne;++ce)ye=At[ce],0<At[ce]&&(_e[le[ye]++]=ce);if(le[15]==1)return(At=new Kt).g=0,At.value=_e[0],Gt(Q,Qe,1,De,At),De;var $e,tr=-1,Ze=De-1,Dr=0,Tr=1,Xr=1,Pr=1<<dt;for(ce=0,ye=1,ne=2;ye<=dt;++ye,ne<<=1){if(Tr+=Xr<<=1,0>(Xr-=ie[ye]))return 0;for(;0<ie[ye];--ie[ye])(At=new Kt).g=ye,At.value=_e[ce++],Gt(Q,Qe+Dr,ne,Pr,At),Dr=ze(Dr,ye)}for(ye=dt+1,ne=2;15>=ye;++ye,ne<<=1){if(Tr+=Xr<<=1,0>(Xr-=ie[ye]))return 0;for(;0<ie[ye];--ie[ye]){if(At=new Kt,(Dr&Ze)!=tr){for(Qe+=Pr,$e=1<<(tr=ye)-dt;15>tr&&!(0>=($e-=ie[tr]));)++tr,$e<<=1;De+=Pr=1<<($e=tr-dt),Q[ot+(tr=Dr&Ze)].g=$e+dt,Q[ot+tr].value=Qe-ot-tr}At.g=ye-dt,At.value=_e[ce++],Gt(Q,Qe+(Dr>>dt),ne,Pr,At),Dr=ze(Dr,ye)}}return Tr!=2*le[15]-1?0:De}(c,g,P,B,X,$)}function Kt(){this.value=this.g=0}function Xt(){this.value=this.g=0}function qe(){this.G=S(5,Kt),this.H=w(5),this.jc=this.Qb=this.qb=this.nd=0,this.pd=S(zi,Xt)}function We(c,g,P,B){p(c!=null),p(g!=null),p(2147483648>B),c.Ca=254,c.I=0,c.b=-8,c.Ka=0,c.oa=g,c.pa=P,c.Jd=g,c.Yc=P+B,c.Zc=4<=B?P+B-4+1:P,Xe(c)}function or(c,g){for(var P=0;0<g--;)P|=je(c,128)<<g;return P}function Oe(c,g){var P=or(c,g);return Me(c)?-P:P}function pr(c,g,P,B){var X,$=0;for(p(c!=null),p(g!=null),p(4294967288>B),c.Sb=B,c.Ra=0,c.u=0,c.h=0,4<B&&(B=4),X=0;X<B;++X)$+=g[P+X]<<8*X;c.Ra=$,c.bb=B,c.oa=g,c.pa=P}function Ye(c){for(;8<=c.u&&c.bb<c.Sb;)c.Ra>>>=8,c.Ra+=c.oa[c.pa+c.bb]<<Ii-8>>>0,++c.bb,c.u-=8;se(c)&&(c.h=1,c.u=0)}function wr(c,g){if(p(0<=g),!c.h&&g<=cs){var P=jt(c)&Ks[g];return c.u+=g,Ye(c),P}return c.h=1,c.u=0}function zt(){this.b=this.Ca=this.I=0,this.oa=[],this.pa=0,this.Jd=[],this.Yc=0,this.Zc=[],this.Ka=0}function ft(){this.Ra=0,this.oa=[],this.h=this.u=this.bb=this.Sb=this.pa=0}function jt(c){return c.Ra>>>(c.u&Ii-1)>>>0}function se(c){return p(c.bb<=c.Sb),c.h||c.bb==c.Sb&&c.u>Ii}function ge(c,g){c.u=g,c.h=se(c)}function Ae(c){c.u>=Gi&&(p(c.u>=Gi),Ye(c))}function Xe(c){p(c!=null&&c.oa!=null),c.pa<c.Zc?(c.I=(c.oa[c.pa++]|c.I<<8)>>>0,c.b+=8):(p(c!=null&&c.oa!=null),c.pa<c.Yc?(c.b+=8,c.I=c.oa[c.pa++]|c.I<<8):c.Ka?c.b=0:(c.I<<=8,c.b+=8,c.Ka=1))}function Me(c){return or(c,1)}function je(c,g){var P=c.Ca;0>c.b&&Xe(c);var B=c.b,X=P*g>>>8,$=(c.I>>>B>X)+0;for($?(P-=X,c.I-=X+1<<B>>>0):P=X+1,B=P,X=0;256<=B;)X+=8,B>>=8;return B=7^X+Wl[B],c.b-=B,c.Ca=(P<<B)-1,$}function ur(c,g,P){c[g+0]=P>>24&255,c[g+1]=P>>16&255,c[g+2]=P>>8&255,c[g+3]=P>>0&255}function zr(c,g){return c[g+0]<<0|c[g+1]<<8}function Cr(c,g){return zr(c,g)|c[g+2]<<16}function en(c,g){return zr(c,g)|zr(c,g+2)<<16}function Gr(c,g){var P=1<<g;return p(c!=null),p(0<g),c.X=w(P),c.X==null?0:(c.Mb=32-g,c.Xa=g,1)}function Ft(c,g){p(c!=null),p(g!=null),p(c.Xa==g.Xa),y(g.X,0,c.X,0,1<<g.Xa)}function Je(){this.X=[],this.Xa=this.Mb=0}function Or(c,g,P,B){p(P!=null),p(B!=null);var X=P[0],$=B[0];return X==0&&(X=(c*$+g/2)/g),$==0&&($=(g*X+c/2)/c),0>=X||0>=$?0:(P[0]=X,B[0]=$,1)}function Ve(c,g){return c+(1<<g)-1>>>g}function Fr(c,g){return((4278255360&c)+(4278255360&g)>>>0&4278255360)+((16711935&c)+(16711935&g)>>>0&16711935)>>>0}function Sr(c,g){$t[g]=function(P,B,X,$,Q,ot,dt){var At;for(At=0;At<Q;++At){var ne=$t[c](ot[dt+At-1],X,$+At);ot[dt+At]=Fr(P[B+At],ne)}}}function jr(){this.ud=this.hd=this.jd=0}function Wr(c,g){return((4278124286&(c^g))>>>1)+(c&g)>>>0}function Yr(c){return 0<=c&&256>c?c:0>c?0:255<c?255:void 0}function Fn(c,g){return Yr(c+(c-g+.5>>1))}function tn(c,g,P){return Math.abs(g-P)-Math.abs(c-P)}function Tn(c,g,P,B,X,$,Q){for(B=$[Q-1],P=0;P<X;++P)$[Q+P]=B=Fr(c[g+P],B)}function Hn(c,g,P,B,X){var $;for($=0;$<P;++$){var Q=c[g+$],ot=Q>>8&255,dt=16711935&(dt=(dt=16711935&Q)+((ot<<16)+ot));B[X+$]=(4278255360&Q)+dt>>>0}}function Vr(c,g){g.jd=c>>0&255,g.hd=c>>8&255,g.ud=c>>16&255}function cn(c,g,P,B,X,$){var Q;for(Q=0;Q<B;++Q){var ot=g[P+Q],dt=ot>>>8,At=ot,ne=255&(ne=(ne=ot>>>16)+((c.jd<<24>>24)*(dt<<24>>24)>>>5));At=255&(At=(At=At+((c.hd<<24>>24)*(dt<<24>>24)>>>5))+((c.ud<<24>>24)*(ne<<24>>24)>>>5)),X[$+Q]=(4278255360&ot)+(ne<<16)+At}}function Mr(c,g,P,B,X){$t[g]=function($,Q,ot,dt,At,ne,_e,ye,ce){for(dt=_e;dt<ye;++dt)for(_e=0;_e<ce;++_e)At[ne++]=X(ot[B($[Q++])])},$t[c]=function($,Q,ot,dt,At,ne,_e){var ye=8>>$.b,ce=$.Ea,Qe=$.K[0],De=$.w;if(8>ye)for($=(1<<$.b)-1,De=(1<<ye)-1;Q<ot;++Q){var ie,le=0;for(ie=0;ie<ce;++ie)ie&$||(le=B(dt[At++])),ne[_e++]=X(Qe[le&De]),le>>=ye}else $t["VP8LMapColor"+P](dt,At,Qe,De,ne,_e,Q,ot,ce)}}function Bi(c,g,P,B,X){for(P=g+P;g<P;){var $=c[g++];B[X++]=$>>16&255,B[X++]=$>>8&255,B[X++]=$>>0&255}}function Vn(c,g,P,B,X){for(P=g+P;g<P;){var $=c[g++];B[X++]=$>>16&255,B[X++]=$>>8&255,B[X++]=$>>0&255,B[X++]=$>>24&255}}function Ci(c,g,P,B,X){for(P=g+P;g<P;){var $=(Q=c[g++])>>16&240|Q>>12&15,Q=Q>>0&240|Q>>28&15;B[X++]=$,B[X++]=Q}}function mn(c,g,P,B,X){for(P=g+P;g<P;){var $=(Q=c[g++])>>16&248|Q>>13&7,Q=Q>>5&224|Q>>3&31;B[X++]=$,B[X++]=Q}}function pi(c,g,P,B,X){for(P=g+P;g<P;){var $=c[g++];B[X++]=$>>0&255,B[X++]=$>>8&255,B[X++]=$>>16&255}}function _a(c,g,P,B,X,$){if($==0)for(P=g+P;g<P;)ur(B,(($=c[g++])[0]>>24|$[1]>>8&65280|$[2]<<8&16711680|$[3]<<24)>>>0),X+=32;else y(B,X,c,g,P)}function Rn(c,g){$t[g][0]=$t[c+"0"],$t[g][1]=$t[c+"1"],$t[g][2]=$t[c+"2"],$t[g][3]=$t[c+"3"],$t[g][4]=$t[c+"4"],$t[g][5]=$t[c+"5"],$t[g][6]=$t[c+"6"],$t[g][7]=$t[c+"7"],$t[g][8]=$t[c+"8"],$t[g][9]=$t[c+"9"],$t[g][10]=$t[c+"10"],$t[g][11]=$t[c+"11"],$t[g][12]=$t[c+"12"],$t[g][13]=$t[c+"13"],$t[g][14]=$t[c+"0"],$t[g][15]=$t[c+"0"]}function es(c){return c==xu||c==ml||c==pn||c==Su}function oi(){this.eb=[],this.size=this.A=this.fb=0}function gi(){this.y=[],this.f=[],this.ea=[],this.F=[],this.Tc=this.Ed=this.Cd=this.Fd=this.lb=this.Db=this.Ab=this.fa=this.J=this.W=this.N=this.O=0}function aa(){this.Rd=this.height=this.width=this.S=0,this.f={},this.f.RGBA=new oi,this.f.kb=new gi,this.sd=null}function Zn(){this.width=[0],this.height=[0],this.Pd=[0],this.Qd=[0],this.format=[0]}function un(){this.Id=this.fd=this.Md=this.hb=this.ib=this.da=this.bd=this.cd=this.j=this.v=this.Da=this.Sd=this.ob=0}function jn(c){return alert("todo:WebPSamplerProcessPlane"),c.T}function uo(c,g){var P=c.T,B=g.ba.f.RGBA,X=B.eb,$=B.fb+c.ka*B.A,Q=ga[g.ba.S],ot=c.y,dt=c.O,At=c.f,ne=c.N,_e=c.ea,ye=c.W,ce=g.cc,Qe=g.dc,De=g.Mc,ie=g.Nc,le=c.ka,$e=c.ka+c.T,tr=c.U,Ze=tr+1>>1;for(le==0?Q(ot,dt,null,null,At,ne,_e,ye,At,ne,_e,ye,X,$,null,null,tr):(Q(g.ec,g.fc,ot,dt,ce,Qe,De,ie,At,ne,_e,ye,X,$-B.A,X,$,tr),++P);le+2<$e;le+=2)ce=At,Qe=ne,De=_e,ie=ye,ne+=c.Rc,ye+=c.Rc,$+=2*B.A,Q(ot,(dt+=2*c.fa)-c.fa,ot,dt,ce,Qe,De,ie,At,ne,_e,ye,X,$-B.A,X,$,tr);return dt+=c.fa,c.j+$e<c.o?(y(g.ec,g.fc,ot,dt,tr),y(g.cc,g.dc,At,ne,Ze),y(g.Mc,g.Nc,_e,ye,Ze),P--):1&$e||Q(ot,dt,null,null,At,ne,_e,ye,At,ne,_e,ye,X,$+B.A,null,null,tr),P}function ji(c,g,P){var B=c.F,X=[c.J];if(B!=null){var $=c.U,Q=g.ba.S,ot=Q==Xo||Q==pn;g=g.ba.f.RGBA;var dt=[0],At=c.ka;dt[0]=c.T,c.Kb&&(At==0?--dt[0]:(--At,X[0]-=c.width),c.j+c.ka+c.T==c.o&&(dt[0]=c.o-c.j-At));var ne=g.eb;At=g.fb+At*g.A,c=ju(B,X[0],c.width,$,dt,ne,At+(ot?0:3),g.A),p(P==dt),c&&es(Q)&&Es(ne,At,ot,$,dt,g.A)}return 0}function rs(c){var g=c.ma,P=g.ba.S,B=11>P,X=P==Vl||P==Xl||P==Xo||P==Kl||P==12||es(P);if(g.memory=null,g.Ib=null,g.Jb=null,g.Nd=null,!gl(g.Oa,c,X?11:12))return 0;if(X&&es(P)&&Hr(),c.da)alert("todo:use_scaling");else{if(B){if(g.Ib=jn,c.Kb){if(P=c.U+1>>1,g.memory=w(c.U+2*P),g.memory==null)return 0;g.ec=g.memory,g.fc=0,g.cc=g.ec,g.dc=g.fc+c.U,g.Mc=g.cc,g.Nc=g.dc+P,g.Ib=uo,Hr()}}else alert("todo:EmitYUV");X&&(g.Jb=ji,B&&dr())}if(B&&!Ku){for(c=0;256>c;++c)ru[c]=89858*(c-128)+wl>>eu,$u[c]=-22014*(c-128)+wl,Ju[c]=-45773*(c-128),$o[c]=113618*(c-128)+wl>>eu;for(c=Jo;c<Wi;++c)g=76283*(c-16)+wl>>eu,Ch[c-Jo]=Zi(g,255),Zu[c-Jo]=Zi(g+8>>4,15);Ku=1}return 1}function ns(c){var g=c.ma,P=c.U,B=c.T;return p(!(1&c.ka)),0>=P||0>=B?0:(P=g.Ib(c,g),g.Jb!=null&&g.Jb(c,g,P),g.Dc+=P,1)}function rn(c){c.ma.memory=null}function Ji(c,g,P,B){return wr(c,8)!=47?0:(g[0]=wr(c,14)+1,P[0]=wr(c,14)+1,B[0]=wr(c,1),wr(c,3)!=0?0:!c.h)}function xa(c,g){if(4>c)return c+1;var P=c-2>>1;return(2+(1&c)<<P)+wr(g,P)+1}function ys(c,g){return 120<g?g-120:1<=(P=((P=La[g-1])>>4)*c+(8-(15&P)))?P:1;var P}function ni(c,g,P){var B=jt(P),X=c[g+=255&B].g-8;return 0<X&&(ge(P,P.u+8),B=jt(P),g+=c[g].value,g+=B&(1<<X)-1),ge(P,P.u+c[g].g),c[g].value}function Ai(c,g,P){return P.g+=c.g,P.value+=c.value<<g>>>0,p(8>=P.g),c.g}function ii(c,g,P){var B=c.xc;return p((g=B==0?0:c.vc[c.md*(P>>B)+(g>>B)])<c.Wb),c.Ya[g]}function is(c,g,P,B){var X=c.ab,$=c.c*g,Q=c.C;g=Q+g;var ot=P,dt=B;for(B=c.Ta,P=c.Ua;0<X--;){var At=c.gc[X],ne=Q,_e=g,ye=ot,ce=dt,Qe=(dt=B,ot=P,At.Ea);switch(p(ne<_e),p(_e<=At.nc),At.hc){case 2:Ei(ye,ce,(_e-ne)*Qe,dt,ot);break;case 0:var De=ne,ie=_e,le=dt,$e=ot,tr=(Pr=At).Ea;De==0&&(qo(ye,ce,null,null,1,le,$e),Tn(ye,ce+1,0,0,tr-1,le,$e+1),ce+=tr,$e+=tr,++De);for(var Ze=1<<Pr.b,Dr=Ze-1,Tr=Ve(tr,Pr.b),Xr=Pr.K,Pr=Pr.w+(De>>Pr.b)*Tr;De<ie;){var Lr=Xr,Bn=Pr,Ln=1;for(_o(ye,ce,le,$e-tr,1,le,$e);Ln<tr;){var gn=(Ln&~Dr)+Ze;gn>tr&&(gn=tr),(0,Ta[Lr[Bn++]>>8&15])(ye,ce+ +Ln,le,$e+Ln-tr,gn-Ln,le,$e+Ln),Ln=gn}ce+=tr,$e+=tr,++De&Dr||(Pr+=Tr)}_e!=At.nc&&y(dt,ot-Qe,dt,ot+(_e-ne-1)*Qe,Qe);break;case 1:for(Qe=ye,ie=ce,tr=(ye=At.Ea)-($e=ye&~(le=(ce=1<<At.b)-1)),De=Ve(ye,At.b),Ze=At.K,At=At.w+(ne>>At.b)*De;ne<_e;){for(Dr=Ze,Tr=At,Xr=new jr,Pr=ie+$e,Lr=ie+ye;ie<Pr;)Vr(Dr[Tr++],Xr),Xn(Xr,Qe,ie,ce,dt,ot),ie+=ce,ot+=ce;ie<Lr&&(Vr(Dr[Tr++],Xr),Xn(Xr,Qe,ie,tr,dt,ot),ie+=tr,ot+=tr),++ne&le||(At+=De)}break;case 3:if(ye==dt&&ce==ot&&0<At.b){for(ie=dt,ye=Qe=ot+(_e-ne)*Qe-($e=(_e-ne)*Ve(At.Ea,At.b)),ce=dt,le=ot,De=[],$e=(tr=$e)-1;0<=$e;--$e)De[$e]=ce[le+$e];for($e=tr-1;0<=$e;--$e)ie[ye+$e]=De[$e];xo(At,ne,_e,dt,Qe,dt,ot)}else xo(At,ne,_e,ye,ce,dt,ot)}ot=B,dt=P}dt!=P&&y(B,P,ot,dt,$)}function Ws(c,g){var P=c.V,B=c.Ba+c.c*c.C,X=g-c.C;if(p(g<=c.l.o),p(16>=X),0<X){var $=c.l,Q=c.Ta,ot=c.Ua,dt=$.width;if(is(c,X,P,B),X=ot=[ot],p((P=c.C)<(B=g)),p($.v<$.va),B>$.o&&(B=$.o),P<$.j){var At=$.j-P;P=$.j,X[0]+=At*dt}if(P>=B?P=0:(X[0]+=4*$.v,$.ka=P-$.j,$.U=$.va-$.v,$.T=B-P,P=1),P){if(ot=ot[0],11>(P=c.ca).S){var ne=P.f.RGBA,_e=(B=P.S,X=$.U,$=$.T,At=ne.eb,ne.A),ye=$;for(ne=ne.fb+c.Ma*ne.A;0<ye--;){var ce=Q,Qe=ot,De=X,ie=At,le=ne;switch(B){case vl:Ts(ce,Qe,De,ie,le);break;case Vl:Ya(ce,Qe,De,ie,le);break;case xu:Ya(ce,Qe,De,ie,le),Es(ie,le,0,De,1,0);break;case _u:ta(ce,Qe,De,ie,le);break;case Xl:_a(ce,Qe,De,ie,le,1);break;case ml:_a(ce,Qe,De,ie,le,1),Es(ie,le,0,De,1,0);break;case Xo:_a(ce,Qe,De,ie,le,0);break;case pn:_a(ce,Qe,De,ie,le,0),Es(ie,le,1,De,1,0);break;case Kl:Pi(ce,Qe,De,ie,le);break;case Su:Pi(ce,Qe,De,ie,le),Hl(ie,le,De,1,0);break;case Jl:Js(ce,Qe,De,ie,le);break;default:p(0)}ot+=dt,ne+=_e}c.Ma+=$}else alert("todo:EmitRescaledRowsYUVA");p(c.Ma<=P.height)}}c.C=g,p(c.C<=c.i)}function Ua(c){var g;if(0<c.ua)return 0;for(g=0;g<c.Wb;++g){var P=c.Ya[g].G,B=c.Ya[g].H;if(0<P[1][B[1]+0].g||0<P[2][B[2]+0].g||0<P[3][B[3]+0].g)return 0}return 1}function as(c,g,P,B,X,$){if(c.Z!=0){var Q=c.qd,ot=c.rd;for(p(Vi[c.Z]!=null);g<P;++g)Vi[c.Z](Q,ot,B,X,B,X,$),Q=B,ot=X,X+=$;c.qd=Q,c.rd=ot}}function Ui(c,g){var P=c.l.ma,B=P.Z==0||P.Z==1?c.l.j:c.C;if(B=c.C<B?B:c.C,p(g<=c.l.o),g>B){var X=c.l.width,$=P.ca,Q=P.tb+X*B,ot=c.V,dt=c.Ba+c.c*B,At=c.gc;p(c.ab==1),p(At[0].hc==3),Go(At[0],B,g,ot,dt,$,Q),as(P,B,g,$,Q,X)}c.C=c.Ma=g}function vi(c,g,P,B,X,$,Q){var ot=c.$/B,dt=c.$%B,At=c.m,ne=c.s,_e=P+c.$,ye=_e;X=P+B*X;var ce=P+B*$,Qe=280+ne.ua,De=c.Pb?ot:16777216,ie=0<ne.ua?ne.Wa:null,le=ne.wc,$e=_e<ce?ii(ne,dt,ot):null;p(c.C<$),p(ce<=X);var tr=!1;t:for(;;){for(;tr||_e<ce;){var Ze=0;if(ot>=De){var Dr=_e-P;p((De=c).Pb),De.wd=De.m,De.xd=Dr,0<De.s.ua&&Ft(De.s.Wa,De.s.vb),De=ot+$l}if(dt&le||($e=ii(ne,dt,ot)),p($e!=null),$e.Qb&&(g[_e]=$e.qb,tr=!0),!tr)if(Ae(At),$e.jc){Ze=At,Dr=g;var Tr=_e,Xr=$e.pd[jt(Ze)&zi-1];p($e.jc),256>Xr.g?(ge(Ze,Ze.u+Xr.g),Dr[Tr]=Xr.value,Ze=0):(ge(Ze,Ze.u+Xr.g-256),p(256<=Xr.value),Ze=Xr.value),Ze==0&&(tr=!0)}else Ze=ni($e.G[0],$e.H[0],At);if(At.h)break;if(tr||256>Ze){if(!tr)if($e.nd)g[_e]=($e.qb|Ze<<8)>>>0;else{if(Ae(At),tr=ni($e.G[1],$e.H[1],At),Ae(At),Dr=ni($e.G[2],$e.H[2],At),Tr=ni($e.G[3],$e.H[3],At),At.h)break;g[_e]=(Tr<<24|tr<<16|Ze<<8|Dr)>>>0}if(tr=!1,++_e,++dt>=B&&(dt=0,++ot,Q!=null&&ot<=$&&!(ot%16)&&Q(c,ot),ie!=null))for(;ye<_e;)Ze=g[ye++],ie.X[(506832829*Ze&4294967295)>>>ie.Mb]=Ze}else if(280>Ze){if(Ze=xa(Ze-256,At),Dr=ni($e.G[4],$e.H[4],At),Ae(At),Dr=ys(B,Dr=xa(Dr,At)),At.h)break;if(_e-P<Dr||X-_e<Ze)break t;for(Tr=0;Tr<Ze;++Tr)g[_e+Tr]=g[_e+Tr-Dr];for(_e+=Ze,dt+=Ze;dt>=B;)dt-=B,++ot,Q!=null&&ot<=$&&!(ot%16)&&Q(c,ot);if(p(_e<=X),dt&le&&($e=ii(ne,dt,ot)),ie!=null)for(;ye<_e;)Ze=g[ye++],ie.X[(506832829*Ze&4294967295)>>>ie.Mb]=Ze}else{if(!(Ze<Qe))break t;for(tr=Ze-280,p(ie!=null);ye<_e;)Ze=g[ye++],ie.X[(506832829*Ze&4294967295)>>>ie.Mb]=Ze;Ze=_e,p(!(tr>>>(Dr=ie).Xa)),g[Ze]=Dr.X[tr],tr=!0}tr||p(At.h==se(At))}if(c.Pb&&At.h&&_e<X)p(c.m.h),c.a=5,c.m=c.wd,c.$=c.xd,0<c.s.ua&&Ft(c.s.vb,c.s.Wa);else{if(At.h)break t;Q!=null&&Q(c,ot>$?$:ot),c.a=0,c.$=_e-P}return 1}return c.a=3,0}function sa(c){p(c!=null),c.vc=null,c.yc=null,c.Ya=null;var g=c.Wa;g!=null&&(g.X=null),c.vb=null,p(c!=null)}function ho(){var c=new cl;return c==null?null:(c.a=0,c.xb=Hu,Rn("Predictor","VP8LPredictors"),Rn("Predictor","VP8LPredictors_C"),Rn("PredictorAdd","VP8LPredictorsAdd"),Rn("PredictorAdd","VP8LPredictorsAdd_C"),Ei=Hn,Xn=cn,Ts=Bi,Ya=Vn,Pi=Ci,Js=mn,ta=pi,$t.VP8LMapColor32b=mu,$t.VP8LMapColor8b=So,c)}function ss(c,g,P,B,X){var $=1,Q=[c],ot=[g],dt=B.m,At=B.s,ne=null,_e=0;t:for(;;){if(P)for(;$&&wr(dt,1);){var ye=Q,ce=ot,Qe=B,De=1,ie=Qe.m,le=Qe.gc[Qe.ab],$e=wr(ie,2);if(Qe.Oc&1<<$e)$=0;else{switch(Qe.Oc|=1<<$e,le.hc=$e,le.Ea=ye[0],le.nc=ce[0],le.K=[null],++Qe.ab,p(4>=Qe.ab),$e){case 0:case 1:le.b=wr(ie,3)+2,De=ss(Ve(le.Ea,le.b),Ve(le.nc,le.b),0,Qe,le.K),le.K=le.K[0];break;case 3:var tr,Ze=wr(ie,8)+1,Dr=16<Ze?0:4<Ze?1:2<Ze?2:3;if(ye[0]=Ve(le.Ea,Dr),le.b=Dr,tr=De=ss(Ze,1,0,Qe,le.K)){var Tr,Xr=Ze,Pr=le,Lr=1<<(8>>Pr.b),Bn=w(Lr);if(Bn==null)tr=0;else{var Ln=Pr.K[0],gn=Pr.w;for(Bn[0]=Pr.K[0][0],Tr=1;Tr<1*Xr;++Tr)Bn[Tr]=Fr(Ln[gn+Tr],Bn[Tr-1]);for(;Tr<4*Lr;++Tr)Bn[Tr]=0;Pr.K[0]=null,Pr.K[0]=Bn,tr=1}}De=tr;break;case 2:break;default:p(0)}$=De}}if(Q=Q[0],ot=ot[0],$&&wr(dt,1)&&!($=1<=(_e=wr(dt,4))&&11>=_e)){B.a=3;break t}var Jn;if(Jn=$)e:{var Wn,fn,On,ea=B,_i=Q,Xi=ot,qn=_e,ra=P,va=ea.m,ki=ea.s,Ri=[null],ci=1,ti=0,Oa=xh[qn];r:for(;;){if(ra&&wr(va,1)){var Fi=wr(va,3)+2,Ka=Ve(_i,Fi),To=Ve(Xi,Fi),Zo=Ka*To;if(!ss(Ka,To,0,ea,Ri))break r;for(Ri=Ri[0],ki.xc=Fi,Wn=0;Wn<Zo;++Wn){var Ea=Ri[Wn]>>8&65535;Ri[Wn]=Ea,Ea>=ci&&(ci=Ea+1)}}if(va.h)break r;for(fn=0;5>fn;++fn){var fi=Cu[fn];!fn&&0<qn&&(fi+=1<<qn),ti<fi&&(ti=fi)}var nu=S(ci*Oa,Kt),th=ci,eh=S(th,qe);if(eh==null)var iu=null;else p(65536>=th),iu=eh;var _l=w(ti);if(iu==null||_l==null||nu==null){ea.a=1;break r}var xl=nu;for(Wn=On=0;Wn<ci;++Wn){var ka=iu[Wn],Qo=ka.G,no=ka.H,Ou=0,io=1,au=0;for(fn=0;5>fn;++fn){fi=Cu[fn],Qo[fn]=xl,no[fn]=On,!fn&&0<qn&&(fi+=1<<qn);i:{var Sl,su=fi,Po=ea,tl=_l,ps=xl,Lo=On,Eu=0,Fs=Po.m,Th=wr(Fs,1);if(_(tl,0,0,su),Th){var Ph=wr(Fs,1)+1,Lh=wr(Fs,1),rh=wr(Fs,Lh==0?1:8);tl[rh]=1,Ph==2&&(tl[rh=wr(Fs,8)]=1);var ou=1}else{var nh=w(19),ih=wr(Fs,4)+4;if(19<ih){Po.a=3;var lu=0;break i}for(Sl=0;Sl<ih;++Sl)nh[_h[Sl]]=wr(Fs,3);var ku=void 0,Cl=void 0,ah=Po,sh=nh,Al=su,Fu=tl,Nu=0,ao=ah.m,oh=8,Mu=S(128,Kt);n:for(;Lt(Mu,0,7,sh,19);){if(wr(ao,1)){var Oh=2+2*wr(ao,3);if((ku=2+wr(ao,Oh))>Al)break n}else ku=Al;for(Cl=0;Cl<Al&&ku--;){Ae(ao);var lh=Mu[0+(127&jt(ao))];ge(ao,ao.u+lh.g);var el=lh.value;if(16>el)Fu[Cl++]=el,el!=0&&(oh=el);else{var Eh=el==16,uh=el-16,kh=yl[uh],ma=wr(ao,bh[uh])+kh;if(Cl+ma>Al)break n;for(var Fh=Eh?oh:0;0<ma--;)Fu[Cl++]=Fh}}Nu=1;break n}Nu||(ah.a=3),ou=Nu}(ou=ou&&!Fs.h)&&(Eu=Lt(ps,Lo,8,tl,su)),ou&&Eu!=0?lu=Eu:(Po.a=3,lu=0)}if(lu==0)break r;if(io&&wh[fn]==1&&(io=xl[On].g==0),Ou+=xl[On].g,On+=lu,3>=fn){var Tl,Iu=_l[0];for(Tl=1;Tl<fi;++Tl)_l[Tl]>Iu&&(Iu=_l[Tl]);au+=Iu}}if(ka.nd=io,ka.Qb=0,io&&(ka.qb=(Qo[3][no[3]+0].value<<24|Qo[1][no[1]+0].value<<16|Qo[2][no[2]+0].value)>>>0,Ou==0&&256>Qo[0][no[0]+0].value&&(ka.Qb=1,ka.qb+=Qo[0][no[0]+0].value<<8)),ka.jc=!ka.Qb&&6>au,ka.jc){var Pl,Ns=ka;for(Pl=0;Pl<zi;++Pl){var so=Pl,oo=Ns.pd[so],uu=Ns.G[0][Ns.H[0]+so];256<=uu.value?(oo.g=uu.g+256,oo.value=uu.value):(oo.g=0,oo.value=0,so>>=Ai(uu,8,oo),so>>=Ai(Ns.G[1][Ns.H[1]+so],16,oo),so>>=Ai(Ns.G[2][Ns.H[2]+so],0,oo),Ai(Ns.G[3][Ns.H[3]+so],24,oo))}}}ki.vc=Ri,ki.Wb=ci,ki.Ya=iu,ki.yc=nu,Jn=1;break e}Jn=0}if(!($=Jn)){B.a=3;break t}if(0<_e){if(At.ua=1<<_e,!Gr(At.Wa,_e)){B.a=1,$=0;break t}}else At.ua=0;var Ll=B,hh=Q,Nh=ot,Du=Ll.s,Ru=Du.xc;if(Ll.c=hh,Ll.i=Nh,Du.md=Ve(hh,Ru),Du.wc=Ru==0?-1:(1<<Ru)-1,P){B.xb=eo;break t}if((ne=w(Q*ot))==null){B.a=1,$=0;break t}$=($=vi(B,ne,0,Q,ot,ot,null))&&!dt.h;break t}return $?(X!=null?X[0]=ne:(p(ne==null),p(P)),B.$=0,P||sa(At)):sa(At),$}function co(c,g){var P=c.c*c.i,B=P+g+16*g;return p(c.c<=g),c.V=w(B),c.V==null?(c.Ta=null,c.Ua=0,c.a=1,0):(c.Ta=c.V,c.Ua=c.Ba+P+g,1)}function Fo(c,g){var P=c.C,B=g-P,X=c.V,$=c.Ba+c.c*P;for(p(g<=c.l.o);0<B;){var Q=16<B?16:B,ot=c.l.ma,dt=c.l.width,At=dt*Q,ne=ot.ca,_e=ot.tb+dt*P,ye=c.Ta,ce=c.Ua;is(c,Q,X,$),yu(ye,ce,ne,_e,At),as(ot,P,P+Q,ne,_e,dt),B-=Q,X+=Q*c.c,P+=Q}p(P==g),c.C=c.Ma=g}function No(){this.ub=this.yd=this.td=this.Rb=0}function bs(){this.Kd=this.Ld=this.Ud=this.Td=this.i=this.c=0}function ue(){this.Fb=this.Bb=this.Cb=0,this.Zb=w(4),this.Lb=w(4)}function He(){this.Yb=function(){var c=[];return function g(P,B,X){for(var $=X[B],Q=0;Q<$&&(P.push(X.length>B+1?[]:0),!(X.length<B+1));Q++)g(P[Q],B+1,X)}(c,0,[3,11]),c}()}function Fe(){this.jb=w(3),this.Wc=I([4,8],He),this.Xc=I([4,17],He)}function Ur(){this.Pc=this.wb=this.Tb=this.zd=0,this.vd=new w(4),this.od=new w(4)}function nn(){this.ld=this.La=this.dd=this.tc=0}function Nn(){this.Na=this.la=0}function Qn(){this.Sc=[0,0],this.Eb=[0,0],this.Qc=[0,0],this.ia=this.lc=0}function Pn(){this.ad=w(384),this.Za=0,this.Ob=w(16),this.$b=this.Ad=this.ia=this.Gc=this.Hc=this.Dd=0}function nl(){this.uc=this.M=this.Nb=0,this.wa=Array(new nn),this.Y=0,this.ya=Array(new Pn),this.aa=0,this.l=new fo}function El(){this.y=w(16),this.f=w(8),this.ea=w(8)}function $i(){this.cb=this.a=0,this.sc="",this.m=new zt,this.Od=new No,this.Kc=new bs,this.ed=new Ur,this.Qa=new ue,this.Ic=this.$c=this.Aa=0,this.D=new nl,this.Xb=this.Va=this.Hb=this.zb=this.yb=this.Ub=this.za=0,this.Jc=S(8,zt),this.ia=0,this.pb=S(4,Qn),this.Pa=new Fe,this.Bd=this.kc=0,this.Ac=[],this.Bc=0,this.zc=[0,0,0,0],this.Gd=Array(new El),this.Hd=0,this.rb=Array(new Nn),this.sb=0,this.wa=Array(new nn),this.Y=0,this.oc=[],this.pc=0,this.sa=[],this.ta=0,this.qa=[],this.ra=0,this.Ha=[],this.B=this.R=this.Ia=0,this.Ec=[],this.M=this.ja=this.Vb=this.Fc=0,this.ya=Array(new Pn),this.L=this.aa=0,this.gd=I([4,2],nn),this.ga=null,this.Fa=[],this.Cc=this.qc=this.P=0,this.Gb=[],this.Uc=0,this.mb=[],this.nb=0,this.rc=[],this.Ga=this.Vc=0}function Zi(c,g){return 0>c?0:c>g?g:c}function fo(){this.T=this.U=this.ka=this.height=this.width=0,this.y=[],this.f=[],this.ea=[],this.Rc=this.fa=this.W=this.N=this.O=0,this.ma="void",this.put="VP8IoPutHook",this.ac="VP8IoSetupHook",this.bc="VP8IoTeardownHook",this.ha=this.Kb=0,this.data=[],this.hb=this.ib=this.da=this.o=this.j=this.va=this.v=this.Da=this.ob=this.w=0,this.F=[],this.J=0}function Hs(){var c=new $i;return c!=null&&(c.a=0,c.sc="OK",c.cb=0,c.Xb=0,Ko||(Ko=fu)),c}function li(c,g,P){return c.a==0&&(c.a=g,c.sc=P,c.cb=0),0}function qs(c,g,P){return 3<=P&&c[g+0]==157&&c[g+1]==1&&c[g+2]==42}function In(c,g){if(c==null)return 0;if(c.a=0,c.sc="OK",g==null)return li(c,2,"null VP8Io passed to VP8GetHeaders()");var P=g.data,B=g.w,X=g.ha;if(4>X)return li(c,7,"Truncated header.");var $=P[B+0]|P[B+1]<<8|P[B+2]<<16,Q=c.Od;if(Q.Rb=!(1&$),Q.td=$>>1&7,Q.yd=$>>4&1,Q.ub=$>>5,3<Q.td)return li(c,3,"Incorrect keyframe parameters.");if(!Q.yd)return li(c,4,"Frame not displayable.");B+=3,X-=3;var ot=c.Kc;if(Q.Rb){if(7>X)return li(c,7,"cannot parse picture header");if(!qs(P,B,X))return li(c,3,"Bad code word");ot.c=16383&(P[B+4]<<8|P[B+3]),ot.Td=P[B+4]>>6,ot.i=16383&(P[B+6]<<8|P[B+5]),ot.Ud=P[B+6]>>6,B+=7,X-=7,c.za=ot.c+15>>4,c.Ub=ot.i+15>>4,g.width=ot.c,g.height=ot.i,g.Da=0,g.j=0,g.v=0,g.va=g.width,g.o=g.height,g.da=0,g.ib=g.width,g.hb=g.height,g.U=g.width,g.T=g.height,_(($=c.Pa).jb,0,255,$.jb.length),p(($=c.Qa)!=null),$.Cb=0,$.Bb=0,$.Fb=1,_($.Zb,0,0,$.Zb.length),_($.Lb,0,0,$.Lb)}if(Q.ub>X)return li(c,7,"bad partition length");We($=c.m,P,B,Q.ub),B+=Q.ub,X-=Q.ub,Q.Rb&&(ot.Ld=Me($),ot.Kd=Me($)),ot=c.Qa;var dt,At=c.Pa;if(p($!=null),p(ot!=null),ot.Cb=Me($),ot.Cb){if(ot.Bb=Me($),Me($)){for(ot.Fb=Me($),dt=0;4>dt;++dt)ot.Zb[dt]=Me($)?Oe($,7):0;for(dt=0;4>dt;++dt)ot.Lb[dt]=Me($)?Oe($,6):0}if(ot.Bb)for(dt=0;3>dt;++dt)At.jb[dt]=Me($)?or($,8):255}else ot.Bb=0;if($.Ka)return li(c,3,"cannot parse segment header");if((ot=c.ed).zd=Me($),ot.Tb=or($,6),ot.wb=or($,3),ot.Pc=Me($),ot.Pc&&Me($)){for(At=0;4>At;++At)Me($)&&(ot.vd[At]=Oe($,6));for(At=0;4>At;++At)Me($)&&(ot.od[At]=Oe($,6))}if(c.L=ot.Tb==0?0:ot.zd?1:2,$.Ka)return li(c,3,"cannot parse filter header");var ne=X;if(X=dt=B,B=dt+ne,ot=ne,c.Xb=(1<<or(c.m,2))-1,ne<3*(At=c.Xb))P=7;else{for(dt+=3*At,ot-=3*At,ne=0;ne<At;++ne){var _e=P[X+0]|P[X+1]<<8|P[X+2]<<16;_e>ot&&(_e=ot),We(c.Jc[+ne],P,dt,_e),dt+=_e,ot-=_e,X+=3}We(c.Jc[+At],P,dt,ot),P=dt<B?0:5}if(P!=0)return li(c,P,"cannot parse partitions");for(P=or(dt=c.m,7),X=Me(dt)?Oe(dt,4):0,B=Me(dt)?Oe(dt,4):0,ot=Me(dt)?Oe(dt,4):0,At=Me(dt)?Oe(dt,4):0,dt=Me(dt)?Oe(dt,4):0,ne=c.Qa,_e=0;4>_e;++_e){if(ne.Cb){var ye=ne.Zb[_e];ne.Fb||(ye+=P)}else{if(0<_e){c.pb[_e]=c.pb[0];continue}ye=P}var ce=c.pb[_e];ce.Sc[0]=bl[Zi(ye+X,127)],ce.Sc[1]=Zl[Zi(ye+0,127)],ce.Eb[0]=2*bl[Zi(ye+B,127)],ce.Eb[1]=101581*Zl[Zi(ye+ot,127)]>>16,8>ce.Eb[1]&&(ce.Eb[1]=8),ce.Qc[0]=bl[Zi(ye+At,117)],ce.Qc[1]=Zl[Zi(ye+dt,127)],ce.lc=ye+dt}if(!Q.Rb)return li(c,4,"Not a key frame.");for(Me($),Q=c.Pa,P=0;4>P;++P){for(X=0;8>X;++X)for(B=0;3>B;++B)for(ot=0;11>ot;++ot)At=je($,Wu[P][X][B][ot])?or($,8):zu[P][X][B][ot],Q.Wc[P][X].Yb[B][ot]=At;for(X=0;17>X;++X)Q.Xc[P][X]=Q.Wc[P][Au[X]]}return c.kc=Me($),c.kc&&(c.Bd=or($,8)),c.cb=1}function fu(c,g,P,B,X,$,Q){var ot=g[X].Yb[P];for(P=0;16>X;++X){if(!je(c,ot[P+0]))return X;for(;!je(c,ot[P+1]);)if(ot=g[++X].Yb[0],P=0,X==16)return 16;var dt=g[X+1].Yb;if(je(c,ot[P+2])){var At=c,ne=0;if(je(At,(ye=ot)[(_e=P)+3]))if(je(At,ye[_e+6])){for(ot=0,_e=2*(ne=je(At,ye[_e+8]))+(ye=je(At,ye[_e+9+ne])),ne=0,ye=da[_e];ye[ot];++ot)ne+=ne+je(At,ye[ot]);ne+=3+(8<<_e)}else je(At,ye[_e+7])?(ne=7+2*je(At,165),ne+=je(At,145)):ne=5+je(At,159);else ne=je(At,ye[_e+4])?3+je(At,ye[_e+5]):2;ot=dt[2]}else ne=1,ot=dt[1];dt=Q+to[X],0>(At=c).b&&Xe(At);var _e,ye=At.b,ce=(_e=At.Ca>>1)-(At.I>>ye)>>31;--At.b,At.Ca+=ce,At.Ca|=1,At.I-=(_e+1&ce)<<ye,$[dt]=((ne^ce)-ce)*B[(0<X)+0]}return 16}function il(c){var g=c.rb[c.sb-1];g.la=0,g.Na=0,_(c.zc,0,0,c.zc.length),c.ja=0}function Mo(c,g){if(c==null)return 0;if(g==null)return li(c,2,"NULL VP8Io parameter in VP8Decode().");if(!c.cb&&!In(c,g))return 0;if(p(c.cb),g.ac==null||g.ac(g)){g.ob&&(c.L=0);var P=ro[c.L];if(c.L==2?(c.yb=0,c.zb=0):(c.yb=g.v-P>>4,c.zb=g.j-P>>4,0>c.yb&&(c.yb=0),0>c.zb&&(c.zb=0)),c.Va=g.o+15+P>>4,c.Hb=g.va+15+P>>4,c.Hb>c.za&&(c.Hb=c.za),c.Va>c.Ub&&(c.Va=c.Ub),0<c.L){var B=c.ed;for(P=0;4>P;++P){var X;if(c.Qa.Cb){var $=c.Qa.Lb[P];c.Qa.Fb||($+=B.Tb)}else $=B.Tb;for(X=0;1>=X;++X){var Q=c.gd[P][X],ot=$;if(B.Pc&&(ot+=B.vd[0],X&&(ot+=B.od[0])),0<(ot=0>ot?0:63<ot?63:ot)){var dt=ot;0<B.wb&&(dt=4<B.wb?dt>>2:dt>>1)>9-B.wb&&(dt=9-B.wb),1>dt&&(dt=1),Q.dd=dt,Q.tc=2*ot+dt,Q.ld=40<=ot?2:15<=ot?1:0}else Q.tc=0;Q.La=X}}}P=0}else li(c,6,"Frame setup failed"),P=c.a;if(P=P==0){if(P){c.$c=0,0<c.Aa||(c.Ic=Qu);t:{P=c.Ic,B=4*(dt=c.za);var At=32*dt,ne=dt+1,_e=0<c.L?dt*(0<c.Aa?2:1):0,ye=(c.Aa==2?2:1)*dt;if((Q=B+832+(X=3*(16*P+ro[c.L])/2*At)+($=c.Fa!=null&&0<c.Fa.length?c.Kc.c*c.Kc.i:0))!=Q)P=0;else{if(Q>c.Vb){if(c.Vb=0,c.Ec=w(Q),c.Fc=0,c.Ec==null){P=li(c,1,"no memory during frame initialization.");break t}c.Vb=Q}Q=c.Ec,ot=c.Fc,c.Ac=Q,c.Bc=ot,ot+=B,c.Gd=S(At,El),c.Hd=0,c.rb=S(ne+1,Nn),c.sb=1,c.wa=_e?S(_e,nn):null,c.Y=0,c.D.Nb=0,c.D.wa=c.wa,c.D.Y=c.Y,0<c.Aa&&(c.D.Y+=dt),p(!0),c.oc=Q,c.pc=ot,ot+=832,c.ya=S(ye,Pn),c.aa=0,c.D.ya=c.ya,c.D.aa=c.aa,c.Aa==2&&(c.D.aa+=dt),c.R=16*dt,c.B=8*dt,dt=(At=ro[c.L])*c.R,At=At/2*c.B,c.sa=Q,c.ta=ot+dt,c.qa=c.sa,c.ra=c.ta+16*P*c.R+At,c.Ha=c.qa,c.Ia=c.ra+8*P*c.B+At,c.$c=0,ot+=X,c.mb=$?Q:null,c.nb=$?ot:null,p(ot+$<=c.Fc+c.Vb),il(c),_(c.Ac,c.Bc,0,B),P=1}}if(P){if(g.ka=0,g.y=c.sa,g.O=c.ta,g.f=c.qa,g.N=c.ra,g.ea=c.Ha,g.Vd=c.Ia,g.fa=c.R,g.Rc=c.B,g.F=null,g.J=0,!wu){for(P=-255;255>=P;++P)ql[255+P]=0>P?-P:P;for(P=-1020;1020>=P;++P)Uu[1020+P]=-128>P?-128:127<P?127:P;for(P=-112;112>=P;++P)Gl[112+P]=-16>P?-16:15<P?15:P;for(P=-255;510>=P;++P)bu[255+P]=0>P?0:255<P?255:P;wu=1}fs=Fl,$s=Io,ds=al,Pa=Do,Zs=kl,mi=za,Yo=Vs,Ps=Cs,Qs=ll,Ls=zl,ha=Qi,Os=wn,ui=Wo,zn=ls,Di=Ss,hi=Ul,Yi=zo,Vo=os,pa[0]=Dl,pa[1]=Nl,pa[2]=Wa,pa[3]=Il,pa[4]=ai,pa[5]=pu,pa[6]=bi,pa[7]=gu,pa[8]=ol,pa[9]=Rl,ks[0]=du,ks[1]=Sa,ks[2]=Ro,ks[3]=Ml,ks[4]=vo,ks[5]=Bo,ks[6]=sl,Va[0]=Aa,Va[1]=oa,Va[2]=jo,Va[3]=Ca,Va[4]=mo,Va[5]=_s,Va[6]=Uo,P=1}else P=0}P&&(P=function(ce,Qe){for(ce.M=0;ce.M<ce.Va;++ce.M){var De,ie=ce.Jc[ce.M&ce.Xb],le=ce.m,$e=ce;for(De=0;De<$e.za;++De){var tr=le,Ze=$e,Dr=Ze.Ac,Tr=Ze.Bc+4*De,Xr=Ze.zc,Pr=Ze.ya[Ze.aa+De];if(Ze.Qa.Bb?Pr.$b=je(tr,Ze.Pa.jb[0])?2+je(tr,Ze.Pa.jb[2]):je(tr,Ze.Pa.jb[1]):Pr.$b=0,Ze.kc&&(Pr.Ad=je(tr,Ze.Bd)),Pr.Za=!je(tr,145)+0,Pr.Za){var Lr=Pr.Ob,Bn=0;for(Ze=0;4>Ze;++Ze){var Ln,gn=Xr[0+Ze];for(Ln=0;4>Ln;++Ln){gn=tu[Dr[Tr+Ln]][gn];for(var Jn=Ql[je(tr,gn[0])];0<Jn;)Jn=Ql[2*Jn+je(tr,gn[Jn])];gn=-Jn,Dr[Tr+Ln]=gn}y(Lr,Bn,Dr,Tr,4),Bn+=4,Xr[0+Ze]=gn}}else gn=je(tr,156)?je(tr,128)?1:3:je(tr,163)?2:0,Pr.Ob[0]=gn,_(Dr,Tr,gn,4),_(Xr,0,gn,4);Pr.Dd=je(tr,142)?je(tr,114)?je(tr,183)?1:3:2:0}if($e.m.Ka)return li(ce,7,"Premature end-of-partition0 encountered.");for(;ce.ja<ce.za;++ce.ja){if($e=ie,tr=(le=ce).rb[le.sb-1],Dr=le.rb[le.sb+le.ja],De=le.ya[le.aa+le.ja],Tr=le.kc?De.Ad:0)tr.la=Dr.la=0,De.Za||(tr.Na=Dr.Na=0),De.Hc=0,De.Gc=0,De.ia=0;else{var Wn,fn;if(tr=Dr,Dr=$e,Tr=le.Pa.Xc,Xr=le.ya[le.aa+le.ja],Pr=le.pb[Xr.$b],Ze=Xr.ad,Lr=0,Bn=le.rb[le.sb-1],gn=Ln=0,_(Ze,Lr,0,384),Xr.Za)var On=0,ea=Tr[3];else{Jn=w(16);var _i=tr.Na+Bn.Na;if(_i=Ko(Dr,Tr[1],_i,Pr.Eb,0,Jn,0),tr.Na=Bn.Na=(0<_i)+0,1<_i)fs(Jn,0,Ze,Lr);else{var Xi=Jn[0]+3>>3;for(Jn=0;256>Jn;Jn+=16)Ze[Lr+Jn]=Xi}On=1,ea=Tr[0]}var qn=15&tr.la,ra=15&Bn.la;for(Jn=0;4>Jn;++Jn){var va=1&ra;for(Xi=fn=0;4>Xi;++Xi)qn=qn>>1|(va=(_i=Ko(Dr,ea,_i=va+(1&qn),Pr.Sc,On,Ze,Lr))>On)<<7,fn=fn<<2|(3<_i?3:1<_i?2:Ze[Lr+0]!=0),Lr+=16;qn>>=4,ra=ra>>1|va<<7,Ln=(Ln<<8|fn)>>>0}for(ea=qn,On=ra>>4,Wn=0;4>Wn;Wn+=2){for(fn=0,qn=tr.la>>4+Wn,ra=Bn.la>>4+Wn,Jn=0;2>Jn;++Jn){for(va=1&ra,Xi=0;2>Xi;++Xi)_i=va+(1&qn),qn=qn>>1|(va=0<(_i=Ko(Dr,Tr[2],_i,Pr.Qc,0,Ze,Lr)))<<3,fn=fn<<2|(3<_i?3:1<_i?2:Ze[Lr+0]!=0),Lr+=16;qn>>=2,ra=ra>>1|va<<5}gn|=fn<<4*Wn,ea|=qn<<4<<Wn,On|=(240&ra)<<Wn}tr.la=ea,Bn.la=On,Xr.Hc=Ln,Xr.Gc=gn,Xr.ia=43690&gn?0:Pr.ia,Tr=!(Ln|gn)}if(0<le.L&&(le.wa[le.Y+le.ja]=le.gd[De.$b][De.Za],le.wa[le.Y+le.ja].La|=!Tr),$e.Ka)return li(ce,7,"Premature end-of-file encountered.")}if(il(ce),le=Qe,$e=1,De=(ie=ce).D,tr=0<ie.L&&ie.M>=ie.zb&&ie.M<=ie.Va,ie.Aa==0)t:{if(De.M=ie.M,De.uc=tr,hs(ie,De),$e=1,De=(fn=ie.D).Nb,tr=(gn=ro[ie.L])*ie.R,Dr=gn/2*ie.B,Jn=16*De*ie.R,Xi=8*De*ie.B,Tr=ie.sa,Xr=ie.ta-tr+Jn,Pr=ie.qa,Ze=ie.ra-Dr+Xi,Lr=ie.Ha,Bn=ie.Ia-Dr+Xi,ra=(qn=fn.M)==0,Ln=qn>=ie.Va-1,ie.Aa==2&&hs(ie,fn),fn.uc)for(va=(_i=ie).D.M,p(_i.D.uc),fn=_i.yb;fn<_i.Hb;++fn){On=fn,ea=va;var ki=(Ri=(fi=_i).D).Nb;Wn=fi.R;var Ri=Ri.wa[Ri.Y+On],ci=fi.sa,ti=fi.ta+16*ki*Wn+16*On,Oa=Ri.dd,Fi=Ri.tc;if(Fi!=0)if(p(3<=Fi),fi.L==1)0<On&&hi(ci,ti,Wn,Fi+4),Ri.La&&Vo(ci,ti,Wn,Fi),0<ea&&Di(ci,ti,Wn,Fi+4),Ri.La&&Yi(ci,ti,Wn,Fi);else{var Ka=fi.B,To=fi.qa,Zo=fi.ra+8*ki*Ka+8*On,Ea=fi.Ha,fi=fi.Ia+8*ki*Ka+8*On;ki=Ri.ld,0<On&&(Ps(ci,ti,Wn,Fi+4,Oa,ki),Ls(To,Zo,Ea,fi,Ka,Fi+4,Oa,ki)),Ri.La&&(Os(ci,ti,Wn,Fi,Oa,ki),zn(To,Zo,Ea,fi,Ka,Fi,Oa,ki)),0<ea&&(Yo(ci,ti,Wn,Fi+4,Oa,ki),Qs(To,Zo,Ea,fi,Ka,Fi+4,Oa,ki)),Ri.La&&(ha(ci,ti,Wn,Fi,Oa,ki),ui(To,Zo,Ea,fi,Ka,Fi,Oa,ki))}}if(ie.ia&&alert("todo:DitherRow"),le.put!=null){if(fn=16*qn,qn=16*(qn+1),ra?(le.y=ie.sa,le.O=ie.ta+Jn,le.f=ie.qa,le.N=ie.ra+Xi,le.ea=ie.Ha,le.W=ie.Ia+Xi):(fn-=gn,le.y=Tr,le.O=Xr,le.f=Pr,le.N=Ze,le.ea=Lr,le.W=Bn),Ln||(qn-=gn),qn>le.o&&(qn=le.o),le.F=null,le.J=null,ie.Fa!=null&&0<ie.Fa.length&&fn<qn&&(le.J=R(ie,le,fn,qn-fn),le.F=ie.mb,le.F==null&&le.F.length==0)){$e=li(ie,3,"Could not decode alpha data.");break t}fn<le.j&&(gn=le.j-fn,fn=le.j,p(!(1&gn)),le.O+=ie.R*gn,le.N+=ie.B*(gn>>1),le.W+=ie.B*(gn>>1),le.F!=null&&(le.J+=le.width*gn)),fn<qn&&(le.O+=le.v,le.N+=le.v>>1,le.W+=le.v>>1,le.F!=null&&(le.J+=le.v),le.ka=fn-le.j,le.U=le.va-le.v,le.T=qn-fn,$e=le.put(le))}De+1!=ie.Ic||Ln||(y(ie.sa,ie.ta-tr,Tr,Xr+16*ie.R,tr),y(ie.qa,ie.ra-Dr,Pr,Ze+8*ie.B,Dr),y(ie.Ha,ie.Ia-Dr,Lr,Bn+8*ie.B,Dr))}if(!$e)return li(ce,6,"Output aborted.")}return 1}(c,g)),g.bc!=null&&g.bc(g),P&=1}return P?(c.cb=0,P):0}function Mi(c,g,P,B,X){X=c[g+P+32*B]+(X>>3),c[g+P+32*B]=-256&X?0>X?0:255:X}function po(c,g,P,B,X,$){Mi(c,g,0,P,B+X),Mi(c,g,1,P,B+$),Mi(c,g,2,P,B-$),Mi(c,g,3,P,B-X)}function ws(c){return(20091*c>>16)+c}function go(c,g,P,B){var X,$=0,Q=w(16);for(X=0;4>X;++X){var ot=c[g+0]+c[g+8],dt=c[g+0]-c[g+8],At=(35468*c[g+4]>>16)-ws(c[g+12]),ne=ws(c[g+4])+(35468*c[g+12]>>16);Q[$+0]=ot+ne,Q[$+1]=dt+At,Q[$+2]=dt-At,Q[$+3]=ot-ne,$+=4,g++}for(X=$=0;4>X;++X)ot=(c=Q[$+0]+4)+Q[$+8],dt=c-Q[$+8],At=(35468*Q[$+4]>>16)-ws(Q[$+12]),Mi(P,B,0,0,ot+(ne=ws(Q[$+4])+(35468*Q[$+12]>>16))),Mi(P,B,1,0,dt+At),Mi(P,B,2,0,dt-At),Mi(P,B,3,0,ot-ne),$++,B+=32}function za(c,g,P,B){var X=c[g+0]+4,$=35468*c[g+4]>>16,Q=ws(c[g+4]),ot=35468*c[g+1]>>16;po(P,B,0,X+Q,c=ws(c[g+1]),ot),po(P,B,1,X+$,c,ot),po(P,B,2,X-$,c,ot),po(P,B,3,X-Q,c,ot)}function Io(c,g,P,B,X){go(c,g,P,B),X&&go(c,g+16,P,B+4)}function al(c,g,P,B){$s(c,g+0,P,B,1),$s(c,g+32,P,B+128,1)}function Do(c,g,P,B){var X;for(c=c[g+0]+4,X=0;4>X;++X)for(g=0;4>g;++g)Mi(P,B,g,X,c)}function kl(c,g,P,B){c[g+0]&&Pa(c,g+0,P,B),c[g+16]&&Pa(c,g+16,P,B+4),c[g+32]&&Pa(c,g+32,P,B+128),c[g+48]&&Pa(c,g+48,P,B+128+4)}function Fl(c,g,P,B){var X,$=w(16);for(X=0;4>X;++X){var Q=c[g+0+X]+c[g+12+X],ot=c[g+4+X]+c[g+8+X],dt=c[g+4+X]-c[g+8+X],At=c[g+0+X]-c[g+12+X];$[0+X]=Q+ot,$[8+X]=Q-ot,$[4+X]=At+dt,$[12+X]=At-dt}for(X=0;4>X;++X)Q=(c=$[0+4*X]+3)+$[3+4*X],ot=$[1+4*X]+$[2+4*X],dt=$[1+4*X]-$[2+4*X],At=c-$[3+4*X],P[B+0]=Q+ot>>3,P[B+16]=At+dt>>3,P[B+32]=Q-ot>>3,P[B+48]=At-dt>>3,B+=64}function Gs(c,g,P){var B,X=g-32,$=ca,Q=255-c[X-1];for(B=0;B<P;++B){var ot,dt=$,At=Q+c[g-1];for(ot=0;ot<P;++ot)c[g+ot]=dt[At+c[X+ot]];g+=32}}function Nl(c,g){Gs(c,g,4)}function oa(c,g){Gs(c,g,8)}function Sa(c,g){Gs(c,g,16)}function Ro(c,g){var P;for(P=0;16>P;++P)y(c,g+32*P,c,g-32,16)}function Ml(c,g){var P;for(P=16;0<P;--P)_(c,g,c[g-1],16),g+=32}function Ti(c,g,P){var B;for(B=0;16>B;++B)_(g,P+32*B,c,16)}function du(c,g){var P,B=16;for(P=0;16>P;++P)B+=c[g-1+32*P]+c[g+P-32];Ti(B>>5,c,g)}function vo(c,g){var P,B=8;for(P=0;16>P;++P)B+=c[g-1+32*P];Ti(B>>4,c,g)}function Bo(c,g){var P,B=8;for(P=0;16>P;++P)B+=c[g+P-32];Ti(B>>4,c,g)}function sl(c,g){Ti(128,c,g)}function hn(c,g,P){return c+2*g+P+2>>2}function Wa(c,g){var P,B=g-32;for(B=new Uint8Array([hn(c[B-1],c[B+0],c[B+1]),hn(c[B+0],c[B+1],c[B+2]),hn(c[B+1],c[B+2],c[B+3]),hn(c[B+2],c[B+3],c[B+4])]),P=0;4>P;++P)y(c,g+32*P,B,0,B.length)}function Il(c,g){var P=c[g-1],B=c[g-1+32],X=c[g-1+64],$=c[g-1+96];ur(c,g+0,16843009*hn(c[g-1-32],P,B)),ur(c,g+32,16843009*hn(P,B,X)),ur(c,g+64,16843009*hn(B,X,$)),ur(c,g+96,16843009*hn(X,$,$))}function Dl(c,g){var P,B=4;for(P=0;4>P;++P)B+=c[g+P-32]+c[g-1+32*P];for(B>>=3,P=0;4>P;++P)_(c,g+32*P,B,4)}function ai(c,g){var P=c[g-1+0],B=c[g-1+32],X=c[g-1+64],$=c[g-1-32],Q=c[g+0-32],ot=c[g+1-32],dt=c[g+2-32],At=c[g+3-32];c[g+0+96]=hn(B,X,c[g-1+96]),c[g+1+96]=c[g+0+64]=hn(P,B,X),c[g+2+96]=c[g+1+64]=c[g+0+32]=hn($,P,B),c[g+3+96]=c[g+2+64]=c[g+1+32]=c[g+0+0]=hn(Q,$,P),c[g+3+64]=c[g+2+32]=c[g+1+0]=hn(ot,Q,$),c[g+3+32]=c[g+2+0]=hn(dt,ot,Q),c[g+3+0]=hn(At,dt,ot)}function bi(c,g){var P=c[g+1-32],B=c[g+2-32],X=c[g+3-32],$=c[g+4-32],Q=c[g+5-32],ot=c[g+6-32],dt=c[g+7-32];c[g+0+0]=hn(c[g+0-32],P,B),c[g+1+0]=c[g+0+32]=hn(P,B,X),c[g+2+0]=c[g+1+32]=c[g+0+64]=hn(B,X,$),c[g+3+0]=c[g+2+32]=c[g+1+64]=c[g+0+96]=hn(X,$,Q),c[g+3+32]=c[g+2+64]=c[g+1+96]=hn($,Q,ot),c[g+3+64]=c[g+2+96]=hn(Q,ot,dt),c[g+3+96]=hn(ot,dt,dt)}function pu(c,g){var P=c[g-1+0],B=c[g-1+32],X=c[g-1+64],$=c[g-1-32],Q=c[g+0-32],ot=c[g+1-32],dt=c[g+2-32],At=c[g+3-32];c[g+0+0]=c[g+1+64]=$+Q+1>>1,c[g+1+0]=c[g+2+64]=Q+ot+1>>1,c[g+2+0]=c[g+3+64]=ot+dt+1>>1,c[g+3+0]=dt+At+1>>1,c[g+0+96]=hn(X,B,P),c[g+0+64]=hn(B,P,$),c[g+0+32]=c[g+1+96]=hn(P,$,Q),c[g+1+32]=c[g+2+96]=hn($,Q,ot),c[g+2+32]=c[g+3+96]=hn(Q,ot,dt),c[g+3+32]=hn(ot,dt,At)}function gu(c,g){var P=c[g+0-32],B=c[g+1-32],X=c[g+2-32],$=c[g+3-32],Q=c[g+4-32],ot=c[g+5-32],dt=c[g+6-32],At=c[g+7-32];c[g+0+0]=P+B+1>>1,c[g+1+0]=c[g+0+64]=B+X+1>>1,c[g+2+0]=c[g+1+64]=X+$+1>>1,c[g+3+0]=c[g+2+64]=$+Q+1>>1,c[g+0+32]=hn(P,B,X),c[g+1+32]=c[g+0+96]=hn(B,X,$),c[g+2+32]=c[g+1+96]=hn(X,$,Q),c[g+3+32]=c[g+2+96]=hn($,Q,ot),c[g+3+64]=hn(Q,ot,dt),c[g+3+96]=hn(ot,dt,At)}function Rl(c,g){var P=c[g-1+0],B=c[g-1+32],X=c[g-1+64],$=c[g-1+96];c[g+0+0]=P+B+1>>1,c[g+2+0]=c[g+0+32]=B+X+1>>1,c[g+2+32]=c[g+0+64]=X+$+1>>1,c[g+1+0]=hn(P,B,X),c[g+3+0]=c[g+1+32]=hn(B,X,$),c[g+3+32]=c[g+1+64]=hn(X,$,$),c[g+3+64]=c[g+2+64]=c[g+0+96]=c[g+1+96]=c[g+2+96]=c[g+3+96]=$}function ol(c,g){var P=c[g-1+0],B=c[g-1+32],X=c[g-1+64],$=c[g-1+96],Q=c[g-1-32],ot=c[g+0-32],dt=c[g+1-32],At=c[g+2-32];c[g+0+0]=c[g+2+32]=P+Q+1>>1,c[g+0+32]=c[g+2+64]=B+P+1>>1,c[g+0+64]=c[g+2+96]=X+B+1>>1,c[g+0+96]=$+X+1>>1,c[g+3+0]=hn(ot,dt,At),c[g+2+0]=hn(Q,ot,dt),c[g+1+0]=c[g+3+32]=hn(P,Q,ot),c[g+1+32]=c[g+3+64]=hn(B,P,Q),c[g+1+64]=c[g+3+96]=hn(X,B,P),c[g+1+96]=hn($,X,B)}function jo(c,g){var P;for(P=0;8>P;++P)y(c,g+32*P,c,g-32,8)}function Ca(c,g){var P;for(P=0;8>P;++P)_(c,g,c[g-1],8),g+=32}function Ys(c,g,P){var B;for(B=0;8>B;++B)_(g,P+32*B,c,8)}function Aa(c,g){var P,B=8;for(P=0;8>P;++P)B+=c[g+P-32]+c[g-1+32*P];Ys(B>>4,c,g)}function _s(c,g){var P,B=4;for(P=0;8>P;++P)B+=c[g+P-32];Ys(B>>3,c,g)}function mo(c,g){var P,B=4;for(P=0;8>P;++P)B+=c[g-1+32*P];Ys(B>>3,c,g)}function Uo(c,g){Ys(128,c,g)}function Ha(c,g,P){var B=c[g-P],X=c[g+0],$=3*(X-B)+Yl[1020+c[g-2*P]-c[g+P]],Q=Co[112+($+4>>3)];c[g-P]=ca[255+B+Co[112+($+3>>3)]],c[g+0]=ca[255+X-Q]}function Bl(c,g,P,B){var X=c[g+0],$=c[g+P];return fa[255+c[g-2*P]-c[g-P]]>B||fa[255+$-X]>B}function jl(c,g,P,B){return 4*fa[255+c[g-P]-c[g+0]]+fa[255+c[g-2*P]-c[g+P]]<=B}function xs(c,g,P,B,X){var $=c[g-3*P],Q=c[g-2*P],ot=c[g-P],dt=c[g+0],At=c[g+P],ne=c[g+2*P],_e=c[g+3*P];return 4*fa[255+ot-dt]+fa[255+Q-At]>B?0:fa[255+c[g-4*P]-$]<=X&&fa[255+$-Q]<=X&&fa[255+Q-ot]<=X&&fa[255+_e-ne]<=X&&fa[255+ne-At]<=X&&fa[255+At-dt]<=X}function Ss(c,g,P,B){var X=2*B+1;for(B=0;16>B;++B)jl(c,g+B,P,X)&&Ha(c,g+B,P)}function Ul(c,g,P,B){var X=2*B+1;for(B=0;16>B;++B)jl(c,g+B*P,1,X)&&Ha(c,g+B*P,1)}function zo(c,g,P,B){var X;for(X=3;0<X;--X)Ss(c,g+=4*P,P,B)}function os(c,g,P,B){var X;for(X=3;0<X;--X)Ul(c,g+=4,P,B)}function qa(c,g,P,B,X,$,Q,ot){for($=2*$+1;0<X--;){if(xs(c,g,P,$,Q))if(Bl(c,g,P,ot))Ha(c,g,P);else{var dt=c,At=g,ne=P,_e=dt[At-2*ne],ye=dt[At-ne],ce=dt[At+0],Qe=dt[At+ne],De=dt[At+2*ne],ie=27*($e=Yl[1020+3*(ce-ye)+Yl[1020+_e-Qe]])+63>>7,le=18*$e+63>>7,$e=9*$e+63>>7;dt[At-3*ne]=ca[255+dt[At-3*ne]+$e],dt[At-2*ne]=ca[255+_e+le],dt[At-ne]=ca[255+ye+ie],dt[At+0]=ca[255+ce-ie],dt[At+ne]=ca[255+Qe-le],dt[At+2*ne]=ca[255+De-$e]}g+=B}}function at(c,g,P,B,X,$,Q,ot){for($=2*$+1;0<X--;){if(xs(c,g,P,$,Q))if(Bl(c,g,P,ot))Ha(c,g,P);else{var dt=c,At=g,ne=P,_e=dt[At-ne],ye=dt[At+0],ce=dt[At+ne],Qe=Co[112+((De=3*(ye-_e))+4>>3)],De=Co[112+(De+3>>3)],ie=Qe+1>>1;dt[At-2*ne]=ca[255+dt[At-2*ne]+ie],dt[At-ne]=ca[255+_e+De],dt[At+0]=ca[255+ye-Qe],dt[At+ne]=ca[255+ce-ie]}g+=B}}function Vs(c,g,P,B,X,$){qa(c,g,P,1,16,B,X,$)}function Cs(c,g,P,B,X,$){qa(c,g,1,P,16,B,X,$)}function Qi(c,g,P,B,X,$){var Q;for(Q=3;0<Q;--Q)at(c,g+=4*P,P,1,16,B,X,$)}function wn(c,g,P,B,X,$){var Q;for(Q=3;0<Q;--Q)at(c,g+=4,1,P,16,B,X,$)}function ll(c,g,P,B,X,$,Q,ot){qa(c,g,X,1,8,$,Q,ot),qa(P,B,X,1,8,$,Q,ot)}function zl(c,g,P,B,X,$,Q,ot){qa(c,g,1,X,8,$,Q,ot),qa(P,B,1,X,8,$,Q,ot)}function Wo(c,g,P,B,X,$,Q,ot){at(c,g+4*X,X,1,8,$,Q,ot),at(P,B+4*X,X,1,8,$,Q,ot)}function ls(c,g,P,B,X,$,Q,ot){at(c,g+4,1,X,8,$,Q,ot),at(P,B+4,1,X,8,$,Q,ot)}function ul(){this.ba=new aa,this.ec=[],this.cc=[],this.Mc=[],this.Dc=this.Nc=this.dc=this.fc=0,this.Oa=new un,this.memory=0,this.Ib="OutputFunc",this.Jb="OutputAlphaFunc",this.Nd="OutputRowFunc"}function hl(){this.data=[],this.offset=this.kd=this.ha=this.w=0,this.na=[],this.xa=this.gb=this.Ja=this.Sa=this.P=0}function vu(){this.nc=this.Ea=this.b=this.hc=0,this.K=[],this.w=0}function Ho(){this.ua=0,this.Wa=new Je,this.vb=new Je,this.md=this.xc=this.wc=0,this.vc=[],this.Wb=0,this.Ya=new qe,this.yc=new Kt}function cl(){this.xb=this.a=0,this.l=new fo,this.ca=new aa,this.V=[],this.Ba=0,this.Ta=[],this.Ua=0,this.m=new ft,this.Pb=0,this.wd=new ft,this.Ma=this.$=this.C=this.i=this.c=this.xd=0,this.s=new Ho,this.ab=0,this.gc=S(4,vu),this.Oc=0}function la(){this.Lc=this.Z=this.$a=this.i=this.c=0,this.l=new fo,this.ic=0,this.ca=[],this.tb=0,this.qd=null,this.rd=0}function us(c,g,P,B,X,$,Q){for(c=c==null?0:c[g+0],g=0;g<Q;++g)X[$+g]=c+P[B+g]&255,c=X[$+g]}function fl(c,g,P,B,X,$,Q){var ot;if(c==null)us(null,null,P,B,X,$,Q);else for(ot=0;ot<Q;++ot)X[$+ot]=c[g+ot]+P[B+ot]&255}function k(c,g,P,B,X,$,Q){if(c==null)us(null,null,P,B,X,$,Q);else{var ot,dt=c[g+0],At=dt,ne=dt;for(ot=0;ot<Q;++ot)At=ne+(dt=c[g+ot])-At,ne=P[B+ot]+(-256&At?0>At?0:255:At)&255,At=dt,X[$+ot]=ne}}function R(c,g,P,B){var X=g.width,$=g.o;if(p(c!=null&&g!=null),0>P||0>=B||P+B>$)return null;if(!c.Cc){if(c.ga==null){var Q;if(c.ga=new la,(Q=c.ga==null)||(Q=g.width*g.o,p(c.Gb.length==0),c.Gb=w(Q),c.Uc=0,c.Gb==null?Q=0:(c.mb=c.Gb,c.nb=c.Uc,c.rc=null,Q=1),Q=!Q),!Q){Q=c.ga;var ot=c.Fa,dt=c.P,At=c.qc,ne=c.mb,_e=c.nb,ye=dt+1,ce=At-1,Qe=Q.l;if(p(ot!=null&&ne!=null&&g!=null),Vi[0]=null,Vi[1]=us,Vi[2]=fl,Vi[3]=k,Q.ca=ne,Q.tb=_e,Q.c=g.width,Q.i=g.height,p(0<Q.c&&0<Q.i),1>=At)g=0;else if(Q.$a=ot[dt+0]>>0&3,Q.Z=ot[dt+0]>>2&3,Q.Lc=ot[dt+0]>>4&3,dt=ot[dt+0]>>6&3,0>Q.$a||1<Q.$a||4<=Q.Z||1<Q.Lc||dt)g=0;else if(Qe.put=ns,Qe.ac=rs,Qe.bc=rn,Qe.ma=Q,Qe.width=g.width,Qe.height=g.height,Qe.Da=g.Da,Qe.v=g.v,Qe.va=g.va,Qe.j=g.j,Qe.o=g.o,Q.$a)t:{p(Q.$a==1),g=ho();e:for(;;){if(g==null){g=0;break t}if(p(Q!=null),Q.mc=g,g.c=Q.c,g.i=Q.i,g.l=Q.l,g.l.ma=Q,g.l.width=Q.c,g.l.height=Q.i,g.a=0,pr(g.m,ot,ye,ce),!ss(Q.c,Q.i,1,g,null)||(g.ab==1&&g.gc[0].hc==3&&Ua(g.s)?(Q.ic=1,ot=g.c*g.i,g.Ta=null,g.Ua=0,g.V=w(ot),g.Ba=0,g.V==null?(g.a=1,g=0):g=1):(Q.ic=0,g=co(g,Q.c)),!g))break e;g=1;break t}Q.mc=null,g=0}else g=ce>=Q.c*Q.i;Q=!g}if(Q)return null;c.ga.Lc!=1?c.Ga=0:B=$-P}p(c.ga!=null),p(P+B<=$);t:{if(g=(ot=c.ga).c,$=ot.l.o,ot.$a==0){if(ye=c.rc,ce=c.Vc,Qe=c.Fa,dt=c.P+1+P*g,At=c.mb,ne=c.nb+P*g,p(dt<=c.P+c.qc),ot.Z!=0)for(p(Vi[ot.Z]!=null),Q=0;Q<B;++Q)Vi[ot.Z](ye,ce,Qe,dt,At,ne,g),ye=At,ce=ne,ne+=g,dt+=g;else for(Q=0;Q<B;++Q)y(At,ne,Qe,dt,g),ye=At,ce=ne,ne+=g,dt+=g;c.rc=ye,c.Vc=ce}else{if(p(ot.mc!=null),g=P+B,p((Q=ot.mc)!=null),p(g<=Q.i),Q.C>=g)g=1;else if(ot.ic||dr(),ot.ic){ot=Q.V,ye=Q.Ba,ce=Q.c;var De=Q.i,ie=(Qe=1,dt=Q.$/ce,At=Q.$%ce,ne=Q.m,_e=Q.s,Q.$),le=ce*De,$e=ce*g,tr=_e.wc,Ze=ie<$e?ii(_e,At,dt):null;p(ie<=le),p(g<=De),p(Ua(_e));e:for(;;){for(;!ne.h&&ie<$e;){if(At&tr||(Ze=ii(_e,At,dt)),p(Ze!=null),Ae(ne),256>(De=ni(Ze.G[0],Ze.H[0],ne)))ot[ye+ie]=De,++ie,++At>=ce&&(At=0,++dt<=g&&!(dt%16)&&Ui(Q,dt));else{if(!(280>De)){Qe=0;break e}De=xa(De-256,ne);var Dr,Tr=ni(Ze.G[4],Ze.H[4],ne);if(Ae(ne),!(ie>=(Tr=ys(ce,Tr=xa(Tr,ne)))&&le-ie>=De)){Qe=0;break e}for(Dr=0;Dr<De;++Dr)ot[ye+ie+Dr]=ot[ye+ie+Dr-Tr];for(ie+=De,At+=De;At>=ce;)At-=ce,++dt<=g&&!(dt%16)&&Ui(Q,dt);ie<$e&&At&tr&&(Ze=ii(_e,At,dt))}p(ne.h==se(ne))}Ui(Q,dt>g?g:dt);break e}!Qe||ne.h&&ie<le?(Qe=0,Q.a=ne.h?5:3):Q.$=ie,g=Qe}else g=vi(Q,Q.V,Q.Ba,Q.c,Q.i,g,Fo);if(!g){B=0;break t}}P+B>=$&&(c.Cc=1),B=1}if(!B)return null;if(c.Cc&&((B=c.ga)!=null&&(B.mc=null),c.ga=null,0<c.Ga))return alert("todo:WebPDequantizeLevels"),null}return c.nb+P*X}function xt(c,g,P,B,X,$){for(;0<X--;){var Q,ot=c,dt=g+(P?1:0),At=c,ne=g+(P?0:3);for(Q=0;Q<B;++Q){var _e=At[ne+4*Q];_e!=255&&(_e*=32897,ot[dt+4*Q+0]=ot[dt+4*Q+0]*_e>>23,ot[dt+4*Q+1]=ot[dt+4*Q+1]*_e>>23,ot[dt+4*Q+2]=ot[dt+4*Q+2]*_e>>23)}g+=$}}function Wt(c,g,P,B,X){for(;0<B--;){var $;for($=0;$<P;++$){var Q=c[g+2*$+0],ot=15&(At=c[g+2*$+1]),dt=4369*ot,At=(240&At|At>>4)*dt>>16;c[g+2*$+0]=(240&Q|Q>>4)*dt>>16&240|(15&Q|Q<<4)*dt>>16>>4&15,c[g+2*$+1]=240&At|ot}g+=X}}function be(c,g,P,B,X,$,Q,ot){var dt,At,ne=255;for(At=0;At<X;++At){for(dt=0;dt<B;++dt){var _e=c[g+dt];$[Q+4*dt]=_e,ne&=_e}g+=P,Q+=ot}return ne!=255}function Se(c,g,P,B,X){var $;for($=0;$<X;++$)P[B+$]=c[g+$]>>8}function dr(){Es=xt,Hl=Wt,ju=be,yu=Se}function br(c,g,P){$t[c]=function(B,X,$,Q,ot,dt,At,ne,_e,ye,ce,Qe,De,ie,le,$e,tr){var Ze,Dr=tr-1>>1,Tr=ot[dt+0]|At[ne+0]<<16,Xr=_e[ye+0]|ce[Qe+0]<<16;p(B!=null);var Pr=3*Tr+Xr+131074>>2;for(g(B[X+0],255&Pr,Pr>>16,De,ie),$!=null&&(Pr=3*Xr+Tr+131074>>2,g($[Q+0],255&Pr,Pr>>16,le,$e)),Ze=1;Ze<=Dr;++Ze){var Lr=ot[dt+Ze]|At[ne+Ze]<<16,Bn=_e[ye+Ze]|ce[Qe+Ze]<<16,Ln=Tr+Lr+Xr+Bn+524296,gn=Ln+2*(Lr+Xr)>>3;Pr=gn+Tr>>1,Tr=(Ln=Ln+2*(Tr+Bn)>>3)+Lr>>1,g(B[X+2*Ze-1],255&Pr,Pr>>16,De,ie+(2*Ze-1)*P),g(B[X+2*Ze-0],255&Tr,Tr>>16,De,ie+(2*Ze-0)*P),$!=null&&(Pr=Ln+Xr>>1,Tr=gn+Bn>>1,g($[Q+2*Ze-1],255&Pr,Pr>>16,le,$e+(2*Ze-1)*P),g($[Q+2*Ze+0],255&Tr,Tr>>16,le,$e+(2*Ze+0)*P)),Tr=Lr,Xr=Bn}1&tr||(Pr=3*Tr+Xr+131074>>2,g(B[X+tr-1],255&Pr,Pr>>16,De,ie+(tr-1)*P),$!=null&&(Pr=3*Xr+Tr+131074>>2,g($[Q+tr-1],255&Pr,Pr>>16,le,$e+(tr-1)*P)))}}function Hr(){ga[vl]=qu,ga[Vl]=Gu,ga[_u]=Tu,ga[Xl]=Yu,ga[Xo]=Vu,ga[Kl]=Pu,ga[Jl]=Xu,ga[xu]=Gu,ga[ml]=Yu,ga[pn]=Vu,ga[Su]=Pu}function Zr(c){return c&~Sh?0>c?0:255:c>>Xa}function dn(c,g){return Zr((19077*c>>8)+(26149*g>>8)-14234)}function Mn(c,g,P){return Zr((19077*c>>8)-(6419*g>>8)-(13320*P>>8)+8708)}function An(c,g){return Zr((19077*c>>8)+(33050*g>>8)-17685)}function si(c,g,P,B,X){B[X+0]=dn(c,P),B[X+1]=Mn(c,g,P),B[X+2]=An(c,g)}function ri(c,g,P,B,X){B[X+0]=An(c,g),B[X+1]=Mn(c,g,P),B[X+2]=dn(c,P)}function qi(c,g,P,B,X){var $=Mn(c,g,P);g=$<<3&224|An(c,g)>>3,B[X+0]=248&dn(c,P)|$>>5,B[X+1]=g}function wi(c,g,P,B,X){var $=240&An(c,g)|15;B[X+0]=240&dn(c,P)|Mn(c,g,P)>>4,B[X+1]=$}function Ga(c,g,P,B,X){B[X+0]=255,si(c,g,P,B,X+1)}function yo(c,g,P,B,X){ri(c,g,P,B,X),B[X+3]=255}function dl(c,g,P,B,X){si(c,g,P,B,X),B[X+3]=255}function Zi(c,g){return 0>c?0:c>g?g:c}function As(c,g,P){$t[c]=function(B,X,$,Q,ot,dt,At,ne,_e){for(var ye=ne+(-2&_e)*P;ne!=ye;)g(B[X+0],$[Q+0],ot[dt+0],At,ne),g(B[X+1],$[Q+0],ot[dt+0],At,ne+P),X+=2,++Q,++dt,ne+=2*P;1&_e&&g(B[X+0],$[Q+0],ot[dt+0],At,ne)}}function pl(c,g,P){return P==0?c==0?g==0?6:5:g==0?4:0:P}function bo(c,g,P,B,X){switch(c>>>30){case 3:$s(g,P,B,X,0);break;case 2:mi(g,P,B,X);break;case 1:Pa(g,P,B,X)}}function hs(c,g){var P,B,X=g.M,$=g.Nb,Q=c.oc,ot=c.pc+40,dt=c.oc,At=c.pc+584,ne=c.oc,_e=c.pc+600;for(P=0;16>P;++P)Q[ot+32*P-1]=129;for(P=0;8>P;++P)dt[At+32*P-1]=129,ne[_e+32*P-1]=129;for(0<X?Q[ot-1-32]=dt[At-1-32]=ne[_e-1-32]=129:(_(Q,ot-32-1,127,21),_(dt,At-32-1,127,9),_(ne,_e-32-1,127,9)),B=0;B<c.za;++B){var ye=g.ya[g.aa+B];if(0<B){for(P=-1;16>P;++P)y(Q,ot+32*P-4,Q,ot+32*P+12,4);for(P=-1;8>P;++P)y(dt,At+32*P-4,dt,At+32*P+4,4),y(ne,_e+32*P-4,ne,_e+32*P+4,4)}var ce=c.Gd,Qe=c.Hd+B,De=ye.ad,ie=ye.Hc;if(0<X&&(y(Q,ot-32,ce[Qe].y,0,16),y(dt,At-32,ce[Qe].f,0,8),y(ne,_e-32,ce[Qe].ea,0,8)),ye.Za){var le=Q,$e=ot-32+16;for(0<X&&(B>=c.za-1?_(le,$e,ce[Qe].y[15],4):y(le,$e,ce[Qe+1].y,0,4)),P=0;4>P;P++)le[$e+128+P]=le[$e+256+P]=le[$e+384+P]=le[$e+0+P];for(P=0;16>P;++P,ie<<=2)le=Q,$e=ot+Ao[P],pa[ye.Ob[P]](le,$e),bo(ie,De,16*+P,le,$e)}else if(le=pl(B,X,ye.Ob[0]),ks[le](Q,ot),ie!=0)for(P=0;16>P;++P,ie<<=2)bo(ie,De,16*+P,Q,ot+Ao[P]);for(P=ye.Gc,le=pl(B,X,ye.Dd),Va[le](dt,At),Va[le](ne,_e),ie=De,le=dt,$e=At,255&(ye=P>>0)&&(170&ye?ds(ie,256,le,$e):Zs(ie,256,le,$e)),ye=ne,ie=_e,255&(P>>=8)&&(170&P?ds(De,320,ye,ie):Zs(De,320,ye,ie)),X<c.Ub-1&&(y(ce[Qe].y,0,Q,ot+480,16),y(ce[Qe].f,0,dt,At+224,8),y(ce[Qe].ea,0,ne,_e+224,8)),P=8*$*c.B,ce=c.sa,Qe=c.ta+16*B+16*$*c.R,De=c.qa,ye=c.ra+8*B+P,ie=c.Ha,le=c.Ia+8*B+P,P=0;16>P;++P)y(ce,Qe+P*c.R,Q,ot+32*P,16);for(P=0;8>P;++P)y(De,ye+P*c.B,dt,At+32*P,8),y(ie,le+P*c.B,ne,_e+32*P,8)}}function Xs(c,g,P,B,X,$,Q,ot,dt){var At=[0],ne=[0],_e=0,ye=dt!=null?dt.kd:0,ce=dt!=null?dt:new hl;if(c==null||12>P)return 7;ce.data=c,ce.w=g,ce.ha=P,g=[g],P=[P],ce.gb=[ce.gb];t:{var Qe=g,De=P,ie=ce.gb;if(p(c!=null),p(De!=null),p(ie!=null),ie[0]=0,12<=De[0]&&!v(c,Qe[0],"RIFF")){if(v(c,Qe[0]+8,"WEBP")){ie=3;break t}var le=en(c,Qe[0]+4);if(12>le||4294967286<le){ie=3;break t}if(ye&&le>De[0]-8){ie=7;break t}ie[0]=le,Qe[0]+=12,De[0]-=12}ie=0}if(ie!=0)return ie;for(le=0<ce.gb[0],P=P[0];;){t:{var $e=c;De=g,ie=P;var tr=At,Ze=ne,Dr=Qe=[0];if((Pr=_e=[_e])[0]=0,8>ie[0])ie=7;else{if(!v($e,De[0],"VP8X")){if(en($e,De[0]+4)!=10){ie=3;break t}if(18>ie[0]){ie=7;break t}var Tr=en($e,De[0]+8),Xr=1+Cr($e,De[0]+12);if(2147483648<=Xr*($e=1+Cr($e,De[0]+15))){ie=3;break t}Dr!=null&&(Dr[0]=Tr),tr!=null&&(tr[0]=Xr),Ze!=null&&(Ze[0]=$e),De[0]+=18,ie[0]-=18,Pr[0]=1}ie=0}}if(_e=_e[0],Qe=Qe[0],ie!=0)return ie;if(De=!!(2&Qe),!le&&_e)return 3;if($!=null&&($[0]=!!(16&Qe)),Q!=null&&(Q[0]=De),ot!=null&&(ot[0]=0),Q=At[0],Qe=ne[0],_e&&De&&dt==null){ie=0;break}if(4>P){ie=7;break}if(le&&_e||!le&&!_e&&!v(c,g[0],"ALPH")){P=[P],ce.na=[ce.na],ce.P=[ce.P],ce.Sa=[ce.Sa];t:{Tr=c,ie=g,le=P;var Pr=ce.gb;tr=ce.na,Ze=ce.P,Dr=ce.Sa,Xr=22,p(Tr!=null),p(le!=null),$e=ie[0];var Lr=le[0];for(p(tr!=null),p(Dr!=null),tr[0]=null,Ze[0]=null,Dr[0]=0;;){if(ie[0]=$e,le[0]=Lr,8>Lr){ie=7;break t}var Bn=en(Tr,$e+4);if(4294967286<Bn){ie=3;break t}var Ln=8+Bn+1&-2;if(Xr+=Ln,0<Pr&&Xr>Pr){ie=3;break t}if(!v(Tr,$e,"VP8 ")||!v(Tr,$e,"VP8L")){ie=0;break t}if(Lr[0]<Ln){ie=7;break t}v(Tr,$e,"ALPH")||(tr[0]=Tr,Ze[0]=$e+8,Dr[0]=Bn),$e+=Ln,Lr-=Ln}}if(P=P[0],ce.na=ce.na[0],ce.P=ce.P[0],ce.Sa=ce.Sa[0],ie!=0)break}P=[P],ce.Ja=[ce.Ja],ce.xa=[ce.xa];t:if(Pr=c,ie=g,le=P,tr=ce.gb[0],Ze=ce.Ja,Dr=ce.xa,Tr=ie[0],$e=!v(Pr,Tr,"VP8 "),Xr=!v(Pr,Tr,"VP8L"),p(Pr!=null),p(le!=null),p(Ze!=null),p(Dr!=null),8>le[0])ie=7;else{if($e||Xr){if(Pr=en(Pr,Tr+4),12<=tr&&Pr>tr-12){ie=3;break t}if(ye&&Pr>le[0]-8){ie=7;break t}Ze[0]=Pr,ie[0]+=8,le[0]-=8,Dr[0]=Xr}else Dr[0]=5<=le[0]&&Pr[Tr+0]==47&&!(Pr[Tr+4]>>5),Ze[0]=le[0];ie=0}if(P=P[0],ce.Ja=ce.Ja[0],ce.xa=ce.xa[0],g=g[0],ie!=0)break;if(4294967286<ce.Ja)return 3;if(ot==null||De||(ot[0]=ce.xa?2:1),Q=[Q],Qe=[Qe],ce.xa){if(5>P){ie=7;break}ot=Q,ye=Qe,De=$,c==null||5>P?c=0:5<=P&&c[g+0]==47&&!(c[g+4]>>5)?(le=[0],Pr=[0],tr=[0],pr(Ze=new ft,c,g,P),Ji(Ze,le,Pr,tr)?(ot!=null&&(ot[0]=le[0]),ye!=null&&(ye[0]=Pr[0]),De!=null&&(De[0]=tr[0]),c=1):c=0):c=0}else{if(10>P){ie=7;break}ot=Qe,c==null||10>P||!qs(c,g+3,P-3)?c=0:(ye=c[g+0]|c[g+1]<<8|c[g+2]<<16,De=16383&(c[g+7]<<8|c[g+6]),c=16383&(c[g+9]<<8|c[g+8]),1&ye||3<(ye>>1&7)||!(ye>>4&1)||ye>>5>=ce.Ja||!De||!c?c=0:(Q&&(Q[0]=De),ot&&(ot[0]=c),c=1))}if(!c||(Q=Q[0],Qe=Qe[0],_e&&(At[0]!=Q||ne[0]!=Qe)))return 3;dt!=null&&(dt[0]=ce,dt.offset=g-dt.w,p(4294967286>g-dt.w),p(dt.offset==dt.ha-P));break}return ie==0||ie==7&&_e&&dt==null?($!=null&&($[0]|=ce.na!=null&&0<ce.na.length),B!=null&&(B[0]=Q),X!=null&&(X[0]=Qe),0):ie}function gl(c,g,P){var B=g.width,X=g.height,$=0,Q=0,ot=B,dt=X;if(g.Da=c!=null&&0<c.Da,g.Da&&(ot=c.cd,dt=c.bd,$=c.v,Q=c.j,11>P||($&=-2,Q&=-2),0>$||0>Q||0>=ot||0>=dt||$+ot>B||Q+dt>X))return 0;if(g.v=$,g.j=Q,g.va=$+ot,g.o=Q+dt,g.U=ot,g.T=dt,g.da=c!=null&&0<c.da,g.da){if(!Or(ot,dt,P=[c.ib],$=[c.hb]))return 0;g.ib=P[0],g.hb=$[0]}return g.ob=c!=null&&c.ob,g.Kb=c==null||!c.Sd,g.da&&(g.ob=g.ib<3*B/4&&g.hb<3*X/4,g.Kb=0),1}function wo(c){if(c==null)return 2;if(11>c.S){var g=c.f.RGBA;g.fb+=(c.height-1)*g.A,g.A=-g.A}else g=c.f.kb,c=c.height,g.O+=(c-1)*g.fa,g.fa=-g.fa,g.N+=(c-1>>1)*g.Ab,g.Ab=-g.Ab,g.W+=(c-1>>1)*g.Db,g.Db=-g.Db,g.F!=null&&(g.J+=(c-1)*g.lb,g.lb=-g.lb);return 0}function ua(c,g,P,B){if(B==null||0>=c||0>=g)return 2;if(P!=null){if(P.Da){var X=P.cd,$=P.bd,Q=-2&P.v,ot=-2&P.j;if(0>Q||0>ot||0>=X||0>=$||Q+X>c||ot+$>g)return 2;c=X,g=$}if(P.da){if(!Or(c,g,X=[P.ib],$=[P.hb]))return 2;c=X[0],g=$[0]}}B.width=c,B.height=g;t:{var dt=B.width,At=B.height;if(c=B.S,0>=dt||0>=At||!(c>=vl&&13>c))c=2;else{if(0>=B.Rd&&B.sd==null){Q=$=X=g=0;var ne=(ot=dt*Lu[c])*At;if(11>c||($=(At+1)/2*(g=(dt+1)/2),c==12&&(Q=(X=dt)*At)),(At=w(ne+2*$+Q))==null){c=1;break t}B.sd=At,11>c?((dt=B.f.RGBA).eb=At,dt.fb=0,dt.A=ot,dt.size=ne):((dt=B.f.kb).y=At,dt.O=0,dt.fa=ot,dt.Fd=ne,dt.f=At,dt.N=0+ne,dt.Ab=g,dt.Cd=$,dt.ea=At,dt.W=0+ne+$,dt.Db=g,dt.Ed=$,c==12&&(dt.F=At,dt.J=0+ne+2*$),dt.Tc=Q,dt.lb=X)}if(g=1,X=B.S,$=B.width,Q=B.height,X>=vl&&13>X)if(11>X)c=B.f.RGBA,g&=(ot=Math.abs(c.A))*(Q-1)+$<=c.size,g&=ot>=$*Lu[X],g&=c.eb!=null;else{c=B.f.kb,ot=($+1)/2,ne=(Q+1)/2,dt=Math.abs(c.fa),At=Math.abs(c.Ab);var _e=Math.abs(c.Db),ye=Math.abs(c.lb),ce=ye*(Q-1)+$;g&=dt*(Q-1)+$<=c.Fd,g&=At*(ne-1)+ot<=c.Cd,g=(g&=_e*(ne-1)+ot<=c.Ed)&dt>=$&At>=ot&_e>=ot,g&=c.y!=null,g&=c.f!=null,g&=c.ea!=null,X==12&&(g&=ye>=$,g&=ce<=c.Tc,g&=c.F!=null)}else g=0;c=g?0:2}}return c!=0||P!=null&&P.fd&&(c=wo(B)),c}var zi=64,Ks=[0,1,3,7,15,31,63,127,255,511,1023,2047,4095,8191,16383,32767,65535,131071,262143,524287,1048575,2097151,4194303,8388607,16777215],cs=24,Ii=32,Gi=8,Wl=[0,0,1,1,2,2,2,2,3,3,3,3,3,3,3,3,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,4,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,6,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7,7];Sr("Predictor0","PredictorAdd0"),$t.Predictor0=function(){return 4278190080},$t.Predictor1=function(c){return c},$t.Predictor2=function(c,g,P){return g[P+0]},$t.Predictor3=function(c,g,P){return g[P+1]},$t.Predictor4=function(c,g,P){return g[P-1]},$t.Predictor5=function(c,g,P){return Wr(Wr(c,g[P+1]),g[P+0])},$t.Predictor6=function(c,g,P){return Wr(c,g[P-1])},$t.Predictor7=function(c,g,P){return Wr(c,g[P+0])},$t.Predictor8=function(c,g,P){return Wr(g[P-1],g[P+0])},$t.Predictor9=function(c,g,P){return Wr(g[P+0],g[P+1])},$t.Predictor10=function(c,g,P){return Wr(Wr(c,g[P-1]),Wr(g[P+0],g[P+1]))},$t.Predictor11=function(c,g,P){var B=g[P+0];return 0>=tn(B>>24&255,c>>24&255,(g=g[P-1])>>24&255)+tn(B>>16&255,c>>16&255,g>>16&255)+tn(B>>8&255,c>>8&255,g>>8&255)+tn(255&B,255&c,255&g)?B:c},$t.Predictor12=function(c,g,P){var B=g[P+0];return(Yr((c>>24&255)+(B>>24&255)-((g=g[P-1])>>24&255))<<24|Yr((c>>16&255)+(B>>16&255)-(g>>16&255))<<16|Yr((c>>8&255)+(B>>8&255)-(g>>8&255))<<8|Yr((255&c)+(255&B)-(255&g)))>>>0},$t.Predictor13=function(c,g,P){var B=g[P-1];return(Fn((c=Wr(c,g[P+0]))>>24&255,B>>24&255)<<24|Fn(c>>16&255,B>>16&255)<<16|Fn(c>>8&255,B>>8&255)<<8|Fn(c>>0&255,B>>0&255))>>>0};var qo=$t.PredictorAdd0;$t.PredictorAdd1=Tn,Sr("Predictor2","PredictorAdd2"),Sr("Predictor3","PredictorAdd3"),Sr("Predictor4","PredictorAdd4"),Sr("Predictor5","PredictorAdd5"),Sr("Predictor6","PredictorAdd6"),Sr("Predictor7","PredictorAdd7"),Sr("Predictor8","PredictorAdd8"),Sr("Predictor9","PredictorAdd9"),Sr("Predictor10","PredictorAdd10"),Sr("Predictor11","PredictorAdd11"),Sr("Predictor12","PredictorAdd12"),Sr("Predictor13","PredictorAdd13");var _o=$t.PredictorAdd2;Mr("ColorIndexInverseTransform","MapARGB","32b",function(c){return c>>8&255},function(c){return c}),Mr("VP8LColorIndexInverseTransformAlpha","MapAlpha","8b",function(c){return c},function(c){return c>>8&255});var Ei,xo=$t.ColorIndexInverseTransform,mu=$t.MapARGB,Go=$t.VP8LColorIndexInverseTransformAlpha,So=$t.MapAlpha,Ta=$t.VP8LPredictorsAdd=[];Ta.length=16,($t.VP8LPredictors=[]).length=16,($t.VP8LPredictorsAdd_C=[]).length=16,($t.VP8LPredictors_C=[]).length=16;var Xn,Ts,Ya,Pi,Js,ta,fs,$s,mi,ds,Pa,Zs,Yo,Ps,Qs,Ls,ha,Os,ui,zn,Di,hi,Yi,Vo,Es,Hl,ju,yu,ql=w(511),Uu=w(2041),Gl=w(225),bu=w(767),wu=0,Yl=Uu,Co=Gl,ca=bu,fa=ql,vl=0,Vl=1,_u=2,Xl=3,Xo=4,Kl=5,Jl=6,xu=7,ml=8,pn=9,Su=10,bh=[2,3,7],yl=[3,3,11],Cu=[280,256,256,256,40],wh=[0,1,1,1,0],_h=[17,18,0,1,2,3,4,5,16,6,7,8,9,10,11,12,13,14,15],La=[24,7,23,25,40,6,39,41,22,26,38,42,56,5,55,57,21,27,54,58,37,43,72,4,71,73,20,28,53,59,70,74,36,44,88,69,75,52,60,3,87,89,19,29,86,90,35,45,68,76,85,91,51,61,104,2,103,105,18,30,102,106,34,46,84,92,67,77,101,107,50,62,120,1,119,121,83,93,17,31,100,108,66,78,118,122,33,47,117,123,49,63,99,109,82,94,0,116,124,65,79,16,32,98,110,48,115,125,81,95,64,114,126,97,111,80,113,127,96,112],xh=[2954,2956,2958,2962,2970,2986,3018,3082,3212,3468,3980,5004],$l=8,bl=[4,5,6,7,8,9,10,10,11,12,13,14,15,16,17,17,18,19,20,20,21,21,22,22,23,23,24,25,25,26,27,28,29,30,31,32,33,34,35,36,37,37,38,39,40,41,42,43,44,45,46,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,76,77,78,79,80,81,82,83,84,85,86,87,88,89,91,93,95,96,98,100,101,102,104,106,108,110,112,114,116,118,122,124,126,128,130,132,134,136,138,140,143,145,148,151,154,157],Zl=[4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,60,62,64,66,68,70,72,74,76,78,80,82,84,86,88,90,92,94,96,98,100,102,104,106,108,110,112,114,116,119,122,125,128,131,134,137,140,143,146,149,152,155,158,161,164,167,170,173,177,181,185,189,193,197,201,205,209,213,217,221,225,229,234,239,245,249,254,259,264,269,274,279,284],Ko=null,da=[[173,148,140,0],[176,155,140,135,0],[180,157,141,134,130,0],[254,254,243,230,196,177,153,140,133,130,129,0]],to=[0,1,4,8,5,2,3,6,9,12,13,10,7,11,14,15],Ql=[-0,1,-1,2,-2,3,4,6,-3,5,-4,-5,-6,7,-7,8,-8,-9],zu=[[[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]],[[253,136,254,255,228,219,128,128,128,128,128],[189,129,242,255,227,213,255,219,128,128,128],[106,126,227,252,214,209,255,255,128,128,128]],[[1,98,248,255,236,226,255,255,128,128,128],[181,133,238,254,221,234,255,154,128,128,128],[78,134,202,247,198,180,255,219,128,128,128]],[[1,185,249,255,243,255,128,128,128,128,128],[184,150,247,255,236,224,128,128,128,128,128],[77,110,216,255,236,230,128,128,128,128,128]],[[1,101,251,255,241,255,128,128,128,128,128],[170,139,241,252,236,209,255,255,128,128,128],[37,116,196,243,228,255,255,255,128,128,128]],[[1,204,254,255,245,255,128,128,128,128,128],[207,160,250,255,238,128,128,128,128,128,128],[102,103,231,255,211,171,128,128,128,128,128]],[[1,152,252,255,240,255,128,128,128,128,128],[177,135,243,255,234,225,128,128,128,128,128],[80,129,211,255,194,224,128,128,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[246,1,255,128,128,128,128,128,128,128,128],[255,128,128,128,128,128,128,128,128,128,128]]],[[[198,35,237,223,193,187,162,160,145,155,62],[131,45,198,221,172,176,220,157,252,221,1],[68,47,146,208,149,167,221,162,255,223,128]],[[1,149,241,255,221,224,255,255,128,128,128],[184,141,234,253,222,220,255,199,128,128,128],[81,99,181,242,176,190,249,202,255,255,128]],[[1,129,232,253,214,197,242,196,255,255,128],[99,121,210,250,201,198,255,202,128,128,128],[23,91,163,242,170,187,247,210,255,255,128]],[[1,200,246,255,234,255,128,128,128,128,128],[109,178,241,255,231,245,255,255,128,128,128],[44,130,201,253,205,192,255,255,128,128,128]],[[1,132,239,251,219,209,255,165,128,128,128],[94,136,225,251,218,190,255,255,128,128,128],[22,100,174,245,186,161,255,199,128,128,128]],[[1,182,249,255,232,235,128,128,128,128,128],[124,143,241,255,227,234,128,128,128,128,128],[35,77,181,251,193,211,255,205,128,128,128]],[[1,157,247,255,236,231,255,255,128,128,128],[121,141,235,255,225,227,255,255,128,128,128],[45,99,188,251,195,217,255,224,128,128,128]],[[1,1,251,255,213,255,128,128,128,128,128],[203,1,248,255,255,128,128,128,128,128,128],[137,1,177,255,224,255,128,128,128,128,128]]],[[[253,9,248,251,207,208,255,192,128,128,128],[175,13,224,243,193,185,249,198,255,255,128],[73,17,171,221,161,179,236,167,255,234,128]],[[1,95,247,253,212,183,255,255,128,128,128],[239,90,244,250,211,209,255,255,128,128,128],[155,77,195,248,188,195,255,255,128,128,128]],[[1,24,239,251,218,219,255,205,128,128,128],[201,51,219,255,196,186,128,128,128,128,128],[69,46,190,239,201,218,255,228,128,128,128]],[[1,191,251,255,255,128,128,128,128,128,128],[223,165,249,255,213,255,128,128,128,128,128],[141,124,248,255,255,128,128,128,128,128,128]],[[1,16,248,255,255,128,128,128,128,128,128],[190,36,230,255,236,255,128,128,128,128,128],[149,1,255,128,128,128,128,128,128,128,128]],[[1,226,255,128,128,128,128,128,128,128,128],[247,192,255,128,128,128,128,128,128,128,128],[240,128,255,128,128,128,128,128,128,128,128]],[[1,134,252,255,255,128,128,128,128,128,128],[213,62,250,255,255,128,128,128,128,128,128],[55,93,255,128,128,128,128,128,128,128,128]],[[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128],[128,128,128,128,128,128,128,128,128,128,128]]],[[[202,24,213,235,186,191,220,160,240,175,255],[126,38,182,232,169,184,228,174,255,187,128],[61,46,138,219,151,178,240,170,255,216,128]],[[1,112,230,250,199,191,247,159,255,255,128],[166,109,228,252,211,215,255,174,128,128,128],[39,77,162,232,172,180,245,178,255,255,128]],[[1,52,220,246,198,199,249,220,255,255,128],[124,74,191,243,183,193,250,221,255,255,128],[24,71,130,219,154,170,243,182,255,255,128]],[[1,182,225,249,219,240,255,224,128,128,128],[149,150,226,252,216,205,255,171,128,128,128],[28,108,170,242,183,194,254,223,255,255,128]],[[1,81,230,252,204,203,255,192,128,128,128],[123,102,209,247,188,196,255,233,128,128,128],[20,95,153,243,164,173,255,203,128,128,128]],[[1,222,248,255,216,213,128,128,128,128,128],[168,175,246,252,235,205,255,255,128,128,128],[47,116,215,255,211,212,255,255,128,128,128]],[[1,121,236,253,212,214,255,255,128,128,128],[141,84,213,252,201,202,255,219,128,128,128],[42,80,160,240,162,185,255,205,128,128,128]],[[1,1,255,128,128,128,128,128,128,128,128],[244,1,255,128,128,128,128,128,128,128,128],[238,1,255,128,128,128,128,128,128,128,128]]]],tu=[[[231,120,48,89,115,113,120,152,112],[152,179,64,126,170,118,46,70,95],[175,69,143,80,85,82,72,155,103],[56,58,10,171,218,189,17,13,152],[114,26,17,163,44,195,21,10,173],[121,24,80,195,26,62,44,64,85],[144,71,10,38,171,213,144,34,26],[170,46,55,19,136,160,33,206,71],[63,20,8,114,114,208,12,9,226],[81,40,11,96,182,84,29,16,36]],[[134,183,89,137,98,101,106,165,148],[72,187,100,130,157,111,32,75,80],[66,102,167,99,74,62,40,234,128],[41,53,9,178,241,141,26,8,107],[74,43,26,146,73,166,49,23,157],[65,38,105,160,51,52,31,115,128],[104,79,12,27,217,255,87,17,7],[87,68,71,44,114,51,15,186,23],[47,41,14,110,182,183,21,17,194],[66,45,25,102,197,189,23,18,22]],[[88,88,147,150,42,46,45,196,205],[43,97,183,117,85,38,35,179,61],[39,53,200,87,26,21,43,232,171],[56,34,51,104,114,102,29,93,77],[39,28,85,171,58,165,90,98,64],[34,22,116,206,23,34,43,166,73],[107,54,32,26,51,1,81,43,31],[68,25,106,22,64,171,36,225,114],[34,19,21,102,132,188,16,76,124],[62,18,78,95,85,57,50,48,51]],[[193,101,35,159,215,111,89,46,111],[60,148,31,172,219,228,21,18,111],[112,113,77,85,179,255,38,120,114],[40,42,1,196,245,209,10,25,109],[88,43,29,140,166,213,37,43,154],[61,63,30,155,67,45,68,1,209],[100,80,8,43,154,1,51,26,71],[142,78,78,16,255,128,34,197,171],[41,40,5,102,211,183,4,1,221],[51,50,17,168,209,192,23,25,82]],[[138,31,36,171,27,166,38,44,229],[67,87,58,169,82,115,26,59,179],[63,59,90,180,59,166,93,73,154],[40,40,21,116,143,209,34,39,175],[47,15,16,183,34,223,49,45,183],[46,17,33,183,6,98,15,32,183],[57,46,22,24,128,1,54,17,37],[65,32,73,115,28,128,23,128,205],[40,3,9,115,51,192,18,6,223],[87,37,9,115,59,77,64,21,47]],[[104,55,44,218,9,54,53,130,226],[64,90,70,205,40,41,23,26,57],[54,57,112,184,5,41,38,166,213],[30,34,26,133,152,116,10,32,134],[39,19,53,221,26,114,32,73,255],[31,9,65,234,2,15,1,118,73],[75,32,12,51,192,255,160,43,51],[88,31,35,67,102,85,55,186,85],[56,21,23,111,59,205,45,37,192],[55,38,70,124,73,102,1,34,98]],[[125,98,42,88,104,85,117,175,82],[95,84,53,89,128,100,113,101,45],[75,79,123,47,51,128,81,171,1],[57,17,5,71,102,57,53,41,49],[38,33,13,121,57,73,26,1,85],[41,10,67,138,77,110,90,47,114],[115,21,2,10,102,255,166,23,6],[101,29,16,10,85,128,101,196,26],[57,18,10,102,102,213,34,20,43],[117,20,15,36,163,128,68,1,26]],[[102,61,71,37,34,53,31,243,192],[69,60,71,38,73,119,28,222,37],[68,45,128,34,1,47,11,245,171],[62,17,19,70,146,85,55,62,70],[37,43,37,154,100,163,85,160,1],[63,9,92,136,28,64,32,201,85],[75,15,9,9,64,255,184,119,16],[86,6,28,5,64,255,25,248,1],[56,8,17,132,137,255,55,116,128],[58,15,20,82,135,57,26,121,40]],[[164,50,31,137,154,133,25,35,218],[51,103,44,131,131,123,31,6,158],[86,40,64,135,148,224,45,183,128],[22,26,17,131,240,154,14,1,209],[45,16,21,91,64,222,7,1,197],[56,21,39,155,60,138,23,102,213],[83,12,13,54,192,255,68,47,28],[85,26,85,85,128,128,32,146,171],[18,11,7,63,144,171,4,4,246],[35,27,10,146,174,171,12,26,128]],[[190,80,35,99,180,80,126,54,45],[85,126,47,87,176,51,41,20,32],[101,75,128,139,118,146,116,128,85],[56,41,15,176,236,85,37,9,62],[71,30,17,119,118,255,17,18,138],[101,38,60,138,55,70,43,26,142],[146,36,19,30,171,255,97,27,20],[138,45,61,62,219,1,81,188,64],[32,41,20,117,151,142,20,21,163],[112,19,12,61,195,128,48,4,24]]],Wu=[[[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[176,246,255,255,255,255,255,255,255,255,255],[223,241,252,255,255,255,255,255,255,255,255],[249,253,253,255,255,255,255,255,255,255,255]],[[255,244,252,255,255,255,255,255,255,255,255],[234,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255]],[[255,246,254,255,255,255,255,255,255,255,255],[239,253,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[251,255,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[251,254,254,255,255,255,255,255,255,255,255],[254,255,254,255,255,255,255,255,255,255,255]],[[255,254,253,255,254,255,255,255,255,255,255],[250,255,254,255,254,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[217,255,255,255,255,255,255,255,255,255,255],[225,252,241,253,255,255,254,255,255,255,255],[234,250,241,250,253,255,253,254,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[223,254,254,255,255,255,255,255,255,255,255],[238,253,254,254,255,255,255,255,255,255,255]],[[255,248,254,255,255,255,255,255,255,255,255],[249,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,255,255,255,255,255,255,255,255,255],[247,254,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[252,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[253,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[186,251,250,255,255,255,255,255,255,255,255],[234,251,244,254,255,255,255,255,255,255,255],[251,251,243,253,254,255,254,255,255,255,255]],[[255,253,254,255,255,255,255,255,255,255,255],[236,253,254,255,255,255,255,255,255,255,255],[251,253,253,254,254,255,255,255,255,255,255]],[[255,254,254,255,255,255,255,255,255,255,255],[254,254,254,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,254,255,255,255,255,255,255,255,255,255],[254,254,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]],[[[248,255,255,255,255,255,255,255,255,255,255],[250,254,252,254,255,255,255,255,255,255,255],[248,254,249,253,255,255,255,255,255,255,255]],[[255,253,253,255,255,255,255,255,255,255,255],[246,253,253,255,255,255,255,255,255,255,255],[252,254,251,254,254,255,255,255,255,255,255]],[[255,254,252,255,255,255,255,255,255,255,255],[248,254,253,255,255,255,255,255,255,255,255],[253,255,254,254,255,255,255,255,255,255,255]],[[255,251,254,255,255,255,255,255,255,255,255],[245,251,254,255,255,255,255,255,255,255,255],[253,253,254,255,255,255,255,255,255,255,255]],[[255,251,253,255,255,255,255,255,255,255,255],[252,253,254,255,255,255,255,255,255,255,255],[255,254,255,255,255,255,255,255,255,255,255]],[[255,252,255,255,255,255,255,255,255,255,255],[249,255,254,255,255,255,255,255,255,255,255],[255,255,254,255,255,255,255,255,255,255,255]],[[255,255,253,255,255,255,255,255,255,255,255],[250,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]],[[255,255,255,255,255,255,255,255,255,255,255],[254,255,255,255,255,255,255,255,255,255,255],[255,255,255,255,255,255,255,255,255,255,255]]]],Au=[0,1,2,3,6,4,5,6,6,6,6,6,6,6,6,7,0],ks=[],pa=[],Va=[],eo=1,Hu=2,Vi=[],ga=[];br("UpsampleRgbLinePair",si,3),br("UpsampleBgrLinePair",ri,3),br("UpsampleRgbaLinePair",dl,4),br("UpsampleBgraLinePair",yo,4),br("UpsampleArgbLinePair",Ga,4),br("UpsampleRgba4444LinePair",wi,2),br("UpsampleRgb565LinePair",qi,2);var qu=$t.UpsampleRgbLinePair,Tu=$t.UpsampleBgrLinePair,Gu=$t.UpsampleRgbaLinePair,Yu=$t.UpsampleBgraLinePair,Vu=$t.UpsampleArgbLinePair,Pu=$t.UpsampleRgba4444LinePair,Xu=$t.UpsampleRgb565LinePair,eu=16,wl=1<<eu-1,Jo=-227,Wi=482,Xa=6,Sh=(256<<Xa)-1,Ku=0,ru=w(256),$o=w(256),Ju=w(256),$u=w(256),Ch=w(Wi-Jo),Zu=w(Wi-Jo);As("YuvToRgbRow",si,3),As("YuvToBgrRow",ri,3),As("YuvToRgbaRow",dl,4),As("YuvToBgraRow",yo,4),As("YuvToArgbRow",Ga,4),As("YuvToRgba4444Row",wi,2),As("YuvToRgb565Row",qi,2);var Ao=[0,4,8,12,128,132,136,140,256,260,264,268,384,388,392,396],ro=[0,2,8],Ah=[8,7,6,4,4,2,2,2,1,1,1,1],Qu=1;this.WebPDecodeRGBA=function(c,g,P,B,X){var $=Vl,Q=new ul,ot=new aa;Q.ba=ot,ot.S=$,ot.width=[ot.width],ot.height=[ot.height];var dt=ot.width,At=ot.height,ne=new Zn;if(ne==null||c==null)var _e=2;else p(ne!=null),_e=Xs(c,g,P,ne.width,ne.height,ne.Pd,ne.Qd,ne.format,null);if(_e!=0?dt=0:(dt!=null&&(dt[0]=ne.width[0]),At!=null&&(At[0]=ne.height[0]),dt=1),dt){ot.width=ot.width[0],ot.height=ot.height[0],B!=null&&(B[0]=ot.width),X!=null&&(X[0]=ot.height);t:{if(B=new fo,(X=new hl).data=c,X.w=g,X.ha=P,X.kd=1,g=[0],p(X!=null),((c=Xs(X.data,X.w,X.ha,null,null,null,g,null,X))==0||c==7)&&g[0]&&(c=4),(g=c)==0){if(p(Q!=null),B.data=X.data,B.w=X.w+X.offset,B.ha=X.ha-X.offset,B.put=ns,B.ac=rs,B.bc=rn,B.ma=Q,X.xa){if((c=ho())==null){Q=1;break t}if(function(ye,ce){var Qe=[0],De=[0],ie=[0];e:for(;;){if(ye==null)return 0;if(ce==null)return ye.a=2,0;if(ye.l=ce,ye.a=0,pr(ye.m,ce.data,ce.w,ce.ha),!Ji(ye.m,Qe,De,ie)){ye.a=3;break e}if(ye.xb=Hu,ce.width=Qe[0],ce.height=De[0],!ss(Qe[0],De[0],1,ye,null))break e;return 1}return p(ye.a!=0),0}(c,B)){if(B=(g=ua(B.width,B.height,Q.Oa,Q.ba))==0){e:{B=c;r:for(;;){if(B==null){B=0;break e}if(p(B.s.yc!=null),p(B.s.Ya!=null),p(0<B.s.Wb),p((P=B.l)!=null),p((X=P.ma)!=null),B.xb!=0){if(B.ca=X.ba,B.tb=X.tb,p(B.ca!=null),!gl(X.Oa,P,Xl)){B.a=2;break r}if(!co(B,P.width)||P.da)break r;if((P.da||es(B.ca.S))&&dr(),11>B.ca.S||(alert("todo:WebPInitConvertARGBToYUV"),B.ca.f.kb.F!=null&&dr()),B.Pb&&0<B.s.ua&&B.s.vb.X==null&&!Gr(B.s.vb,B.s.Wa.Xa)){B.a=1;break r}B.xb=0}if(!vi(B,B.V,B.Ba,B.c,B.i,P.o,Ws))break r;X.Dc=B.Ma,B=1;break e}p(B.a!=0),B=0}B=!B}B&&(g=c.a)}else g=c.a}else{if((c=new Hs)==null){Q=1;break t}if(c.Fa=X.na,c.P=X.P,c.qc=X.Sa,In(c,B)){if((g=ua(B.width,B.height,Q.Oa,Q.ba))==0){if(c.Aa=0,P=Q.Oa,p((X=c)!=null),P!=null){if(0<(dt=0>(dt=P.Md)?0:100<dt?255:255*dt/100)){for(At=ne=0;4>At;++At)12>(_e=X.pb[At]).lc&&(_e.ia=dt*Ah[0>_e.lc?0:_e.lc]>>3),ne|=_e.ia;ne&&(alert("todo:VP8InitRandom"),X.ia=1)}X.Ga=P.Id,100<X.Ga?X.Ga=100:0>X.Ga&&(X.Ga=0)}Mo(c,B)||(g=c.a)}}else g=c.a}g==0&&Q.Oa!=null&&Q.Oa.fd&&(g=wo(Q.ba))}Q=g}$=Q!=0?null:11>$?ot.f.RGBA.eb:ot.f.kb.y}else $=null;return $};var Lu=[3,4,3,4,4,2,2,4,4,4,2,1,1]};function H(lr,$t){for(var ze="",Gt=0;Gt<4;Gt++)ze+=String.fromCharCode(lr[$t++]);return ze}function ut(lr,$t){return(lr[$t+0]<<0|lr[$t+1]<<8|lr[$t+2]<<16)>>>0}function st(lr,$t){return(lr[$t+0]<<0|lr[$t+1]<<8|lr[$t+2]<<16|lr[$t+3]<<24)>>>0}new E;var bt=[0],z=[0],Dt=[],Ct=new E,Bt=A,Tt=function(lr,$t){var ze={},Gt=0,Lt=!1,Kt=0,Xt=0;if(ze.frames=[],!function(ft,jt,se,ge){for(var Ae=0;Ae<ge;Ae++)if(ft[jt+Ae]!=se.charCodeAt(Ae))return!0;return!1}(lr,$t,"RIFF",4)){var qe,We;for(st(lr,$t+=4),$t+=8;$t<lr.length;){var or=H(lr,$t),Oe=st(lr,$t+=4);$t+=4;var pr=Oe+(1&Oe);switch(or){case"VP8 ":case"VP8L":ze.frames[Gt]===void 0&&(ze.frames[Gt]={}),(zt=ze.frames[Gt]).src_off=Lt?Xt:$t-8,zt.src_size=Kt+Oe+8,Gt++,Lt&&(Lt=!1,Kt=0,Xt=0);break;case"VP8X":(zt=ze.header={}).feature_flags=lr[$t];var Ye=$t+4;zt.canvas_width=1+ut(lr,Ye),Ye+=3,zt.canvas_height=1+ut(lr,Ye),Ye+=3;break;case"ALPH":Lt=!0,Kt=pr+8,Xt=$t-8;break;case"ANIM":(zt=ze.header).bgcolor=st(lr,$t),Ye=$t+4,zt.loop_count=(qe=lr)[(We=Ye)+0]<<0|qe[We+1]<<8,Ye+=2;break;case"ANMF":var wr,zt;(zt=ze.frames[Gt]={}).offset_x=2*ut(lr,$t),$t+=3,zt.offset_y=2*ut(lr,$t),$t+=3,zt.width=1+ut(lr,$t),$t+=3,zt.height=1+ut(lr,$t),$t+=3,zt.duration=ut(lr,$t),$t+=3,wr=lr[$t++],zt.dispose=1&wr,zt.blend=wr>>1&1}or!="ANMF"&&($t+=pr)}return ze}}(Bt,0);Tt.response=Bt,Tt.rgbaoutput=!0,Tt.dataurl=!1;var rt=Tt.header?Tt.header:null,de=Tt.frames?Tt.frames:null;if(rt){rt.loop_counter=rt.loop_count,bt=[rt.canvas_height],z=[rt.canvas_width];for(var ke=0;ke<de.length&&de[ke].blend!=0;ke++);}var Ge=de[0],nr=Ct.WebPDecodeRGBA(Bt,Ge.src_off,Ge.src_size,z,bt);Ge.rgba=nr,Ge.imgwidth=z[0],Ge.imgheight=bt[0];for(var Be=0;Be<z[0]*bt[0]*4;Be++)Dt[Be]=nr[Be];return this.width=z,this.height=bt,this.data=Dt,this}(function(A){var p=function(){return typeof nt.b=="function"},v=function(z,Dt,Ct,Bt){var Tt=4,rt=S;switch(Bt){case A.image_compression.FAST:Tt=1,rt=w;break;case A.image_compression.MEDIUM:Tt=6,rt=I;break;case A.image_compression.SLOW:Tt=9,rt=E}z=y(z,Dt,Ct,rt);var de=Object(nt.b)(z,{level:Tt});return A.__addimage__.arrayBufferToBinaryString(de)},y=function(z,Dt,Ct,Bt){for(var Tt,rt,de,ke=z.length/Dt,Ge=new Uint8Array(z.length+ke),nr=ut(),Be=0;Be<ke;Be+=1){if(de=Be*Dt,Tt=z.subarray(de,de+Dt),Bt)Ge.set(Bt(Tt,Ct,rt),de+Be);else{for(var lr,$t=nr.length,ze=[];lr<$t;lr+=1)ze[lr]=nr[lr](Tt,Ct,rt);var Gt=st(ze.concat());Ge.set(ze[Gt],de+Be)}rt=Tt}return Ge},_=function(z){var Dt=Array.apply([],z);return Dt.unshift(0),Dt},w=function(z,Dt){var Ct,Bt=[],Tt=z.length;Bt[0]=1;for(var rt=0;rt<Tt;rt+=1)Ct=z[rt-Dt]||0,Bt[rt+1]=z[rt]-Ct+256&255;return Bt},S=function(z,Dt,Ct){var Bt,Tt=[],rt=z.length;Tt[0]=2;for(var de=0;de<rt;de+=1)Bt=Ct&&Ct[de]||0,Tt[de+1]=z[de]-Bt+256&255;return Tt},I=function(z,Dt,Ct){var Bt,Tt,rt=[],de=z.length;rt[0]=3;for(var ke=0;ke<de;ke+=1)Bt=z[ke-Dt]||0,Tt=Ct&&Ct[ke]||0,rt[ke+1]=z[ke]+256-(Bt+Tt>>>1)&255;return rt},E=function(z,Dt,Ct){var Bt,Tt,rt,de,ke=[],Ge=z.length;ke[0]=4;for(var nr=0;nr<Ge;nr+=1)Bt=z[nr-Dt]||0,Tt=Ct&&Ct[nr]||0,rt=Ct&&Ct[nr-Dt]||0,de=H(Bt,Tt,rt),ke[nr+1]=z[nr]-de+256&255;return ke},H=function(z,Dt,Ct){if(z===Dt&&Dt===Ct)return z;var Bt=Math.abs(Dt-Ct),Tt=Math.abs(z-Ct),rt=Math.abs(z+Dt-Ct-Ct);return Bt<=Tt&&Bt<=rt?z:Tt<=rt?Dt:Ct},ut=function(){return[_,w,S,I,E]},st=function(z){var Dt=z.map(function(Ct){return Ct.reduce(function(Bt,Tt){return Bt+Math.abs(Tt)},0)});return Dt.indexOf(Math.min.apply(null,Dt))};A.processPNG=function(bt,z,Dt,Ct){var Bt,Tt,rt,de,ke,Ge,nr,Be,lr,$t,ze,Gt,Lt,Kt,Xt,qe=this.decode.FLATE_DECODE,We="";if(this.__addimage__.isArrayBuffer(bt)&&(bt=new Uint8Array(bt)),this.__addimage__.isArrayBufferView(bt)){if(bt=(rt=new kt(bt)).imgData,Tt=rt.bits,Bt=rt.colorSpace,ke=rt.colors,[4,6].indexOf(rt.colorType)!==-1){if(rt.bits===8){lr=(Be=rt.pixelBitlength==32?new Uint32Array(rt.decodePixels().buffer):rt.pixelBitlength==16?new Uint16Array(rt.decodePixels().buffer):new Uint8Array(rt.decodePixels().buffer)).length,ze=new Uint8Array(lr*rt.colors),$t=new Uint8Array(lr);var or,Oe=rt.pixelBitlength-rt.bits;for(Kt=0,Xt=0;Kt<lr;Kt++){for(Lt=Be[Kt],or=0;or<Oe;)ze[Xt++]=Lt>>>or&255,or+=rt.bits;$t[Kt]=Lt>>>or&255}}if(rt.bits===16){lr=(Be=new Uint32Array(rt.decodePixels().buffer)).length,ze=new Uint8Array(lr*(32/rt.pixelBitlength)*rt.colors),$t=new Uint8Array(lr*(32/rt.pixelBitlength)),Gt=rt.colors>1,Kt=0,Xt=0;for(var pr=0;Kt<lr;)Lt=Be[Kt++],ze[Xt++]=Lt>>>0&255,Gt&&(ze[Xt++]=Lt>>>16&255,Lt=Be[Kt++],ze[Xt++]=Lt>>>0&255),$t[pr++]=Lt>>>16&255;Tt=8}Ct!==A.image_compression.NONE&&p()?(bt=v(ze,rt.width*rt.colors,rt.colors,Ct),nr=v($t,rt.width,1,Ct)):(bt=ze,nr=$t,qe=void 0)}if(rt.colorType===3&&(Bt=this.color_spaces.INDEXED,Ge=rt.palette,rt.transparency.indexed)){var Ye=rt.transparency.indexed,wr=0;for(Kt=0,lr=Ye.length;Kt<lr;++Kt)wr+=Ye[Kt];if((wr/=255)===lr-1&&Ye.indexOf(0)!==-1)de=[Ye.indexOf(0)];else if(wr!==lr){for(Be=rt.decodePixels(),$t=new Uint8Array(Be.length),Kt=0,lr=Be.length;Kt<lr;Kt++)$t[Kt]=Ye[Be[Kt]];nr=v($t,rt.width,1)}}var zt=function(ft){var jt;switch(ft){case A.image_compression.FAST:jt=11;break;case A.image_compression.MEDIUM:jt=13;break;case A.image_compression.SLOW:jt=14;break;default:jt=12}return jt}(Ct);return qe===this.decode.FLATE_DECODE&&(We="/Predictor "+zt+" "),We+="/Colors "+ke+" /BitsPerComponent "+Tt+" /Columns "+rt.width,(this.__addimage__.isArrayBuffer(bt)||this.__addimage__.isArrayBufferView(bt))&&(bt=this.__addimage__.arrayBufferToBinaryString(bt)),(nr&&this.__addimage__.isArrayBuffer(nr)||this.__addimage__.isArrayBufferView(nr))&&(nr=this.__addimage__.arrayBufferToBinaryString(nr)),{alias:Dt,data:bt,index:z,filter:qe,decodeParameters:We,transparency:de,palette:Ge,sMask:nr,predictor:zt,width:rt.width,height:rt.height,bitsPerComponent:Tt,colorSpace:Bt}}}})(Z.API),function(A){A.processGIF89A=function(p,v,y,_){var w=new Mt(p),S=w.width,I=w.height,E=[];w.decodeAndBlitFrameRGBA(0,E);var H={data:E,width:S,height:I},ut=new we(100).encode(H,100);return A.processJPEG.call(this,ut,v,y,_)},A.processGIF87A=A.processGIF89A}(Z.API),qt.prototype.parseHeader=function(){if(this.fileSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.reserved=this.datav.getUint32(this.pos,!0),this.pos+=4,this.offset=this.datav.getUint32(this.pos,!0),this.pos+=4,this.headerSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.width=this.datav.getUint32(this.pos,!0),this.pos+=4,this.height=this.datav.getInt32(this.pos,!0),this.pos+=4,this.planes=this.datav.getUint16(this.pos,!0),this.pos+=2,this.bitPP=this.datav.getUint16(this.pos,!0),this.pos+=2,this.compress=this.datav.getUint32(this.pos,!0),this.pos+=4,this.rawSize=this.datav.getUint32(this.pos,!0),this.pos+=4,this.hr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.vr=this.datav.getUint32(this.pos,!0),this.pos+=4,this.colors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.importantColors=this.datav.getUint32(this.pos,!0),this.pos+=4,this.bitPP===16&&this.is_with_alpha&&(this.bitPP=15),this.bitPP<15){var A=this.colors===0?1<<this.bitPP:this.colors;this.palette=new Array(A);for(var p=0;p<A;p++){var v=this.datav.getUint8(this.pos++,!0),y=this.datav.getUint8(this.pos++,!0),_=this.datav.getUint8(this.pos++,!0),w=this.datav.getUint8(this.pos++,!0);this.palette[p]={red:_,green:y,blue:v,quad:w}}}this.height<0&&(this.height*=-1,this.bottom_up=!1)},qt.prototype.parseBGR=function(){this.pos=this.offset;try{var A="bit"+this.bitPP,p=this.width*this.height*4;this.data=new Uint8Array(p),this[A]()}catch(v){_t.log("bit decode error:"+v)}},qt.prototype.bit1=function(){var A,p=Math.ceil(this.width/8),v=p%4;for(A=this.height-1;A>=0;A--){for(var y=this.bottom_up?A:this.height-1-A,_=0;_<p;_++)for(var w=this.datav.getUint8(this.pos++,!0),S=y*this.width*4+8*_*4,I=0;I<8&&8*_+I<this.width;I++){var E=this.palette[w>>7-I&1];this.data[S+4*I]=E.blue,this.data[S+4*I+1]=E.green,this.data[S+4*I+2]=E.red,this.data[S+4*I+3]=255}v!==0&&(this.pos+=4-v)}},qt.prototype.bit4=function(){for(var A=Math.ceil(this.width/2),p=A%4,v=this.height-1;v>=0;v--){for(var y=this.bottom_up?v:this.height-1-v,_=0;_<A;_++){var w=this.datav.getUint8(this.pos++,!0),S=y*this.width*4+2*_*4,I=w>>4,E=15&w,H=this.palette[I];if(this.data[S]=H.blue,this.data[S+1]=H.green,this.data[S+2]=H.red,this.data[S+3]=255,2*_+1>=this.width)break;H=this.palette[E],this.data[S+4]=H.blue,this.data[S+4+1]=H.green,this.data[S+4+2]=H.red,this.data[S+4+3]=255}p!==0&&(this.pos+=4-p)}},qt.prototype.bit8=function(){for(var A=this.width%4,p=this.height-1;p>=0;p--){for(var v=this.bottom_up?p:this.height-1-p,y=0;y<this.width;y++){var _=this.datav.getUint8(this.pos++,!0),w=v*this.width*4+4*y;if(_<this.palette.length){var S=this.palette[_];this.data[w]=S.red,this.data[w+1]=S.green,this.data[w+2]=S.blue,this.data[w+3]=255}else this.data[w]=255,this.data[w+1]=255,this.data[w+2]=255,this.data[w+3]=255}A!==0&&(this.pos+=4-A)}},qt.prototype.bit15=function(){for(var A=this.width%3,p=parseInt("11111",2),v=this.height-1;v>=0;v--){for(var y=this.bottom_up?v:this.height-1-v,_=0;_<this.width;_++){var w=this.datav.getUint16(this.pos,!0);this.pos+=2;var S=(w&p)/p*255|0,I=(w>>5&p)/p*255|0,E=(w>>10&p)/p*255|0,H=w>>15?255:0,ut=y*this.width*4+4*_;this.data[ut]=E,this.data[ut+1]=I,this.data[ut+2]=S,this.data[ut+3]=H}this.pos+=A}},qt.prototype.bit16=function(){for(var A=this.width%3,p=parseInt("11111",2),v=parseInt("111111",2),y=this.height-1;y>=0;y--){for(var _=this.bottom_up?y:this.height-1-y,w=0;w<this.width;w++){var S=this.datav.getUint16(this.pos,!0);this.pos+=2;var I=(S&p)/p*255|0,E=(S>>5&v)/v*255|0,H=(S>>11)/p*255|0,ut=_*this.width*4+4*w;this.data[ut]=H,this.data[ut+1]=E,this.data[ut+2]=I,this.data[ut+3]=255}this.pos+=A}},qt.prototype.bit24=function(){for(var A=this.height-1;A>=0;A--){for(var p=this.bottom_up?A:this.height-1-A,v=0;v<this.width;v++){var y=this.datav.getUint8(this.pos++,!0),_=this.datav.getUint8(this.pos++,!0),w=this.datav.getUint8(this.pos++,!0),S=p*this.width*4+4*v;this.data[S]=w,this.data[S+1]=_,this.data[S+2]=y,this.data[S+3]=255}this.pos+=this.width%4}},qt.prototype.bit32=function(){for(var A=this.height-1;A>=0;A--)for(var p=this.bottom_up?A:this.height-1-A,v=0;v<this.width;v++){var y=this.datav.getUint8(this.pos++,!0),_=this.datav.getUint8(this.pos++,!0),w=this.datav.getUint8(this.pos++,!0),S=this.datav.getUint8(this.pos++,!0),I=p*this.width*4+4*v;this.data[I]=w,this.data[I+1]=_,this.data[I+2]=y,this.data[I+3]=S}},qt.prototype.getData=function(){return this.data},function(A){A.processBMP=function(p,v,y,_){var w=new qt(p,!1),S=w.width,I=w.height,E={data:w.getData(),width:S,height:I},H=new we(100).encode(E,100);return A.processJPEG.call(this,H,v,y,_)}}(Z.API),Le.prototype.getData=function(){return this.data},function(A){A.processWEBP=function(p,v,y,_){var w=new Le(p,!1),S=w.width,I=w.height,E={data:w.getData(),width:S,height:I},H=new we(100).encode(E,100);return A.processJPEG.call(this,H,v,y,_)}}(Z.API),Z.API.processRGBA=function(A,p,v){for(var y=A.data,_=y.length,w=new Uint8Array(_/4*3),S=new Uint8Array(_/4),I=0,E=0,H=0;H<_;H+=4){var ut=y[H],st=y[H+1],bt=y[H+2],z=y[H+3];w[I++]=ut,w[I++]=st,w[I++]=bt,S[E++]=z}var Dt=this.__addimage__.arrayBufferToBinaryString(w);return{alpha:this.__addimage__.arrayBufferToBinaryString(S),data:Dt,index:p,alias:v,colorSpace:"DeviceRGB",bitsPerComponent:8,width:A.width,height:A.height}},Z.API.setLanguage=function(A){return this.internal.languageSettings===void 0&&(this.internal.languageSettings={},this.internal.languageSettings.isSubscribed=!1),{af:"Afrikaans",sq:"Albanian",ar:"Arabic (Standard)","ar-DZ":"Arabic (Algeria)","ar-BH":"Arabic (Bahrain)","ar-EG":"Arabic (Egypt)","ar-IQ":"Arabic (Iraq)","ar-JO":"Arabic (Jordan)","ar-KW":"Arabic (Kuwait)","ar-LB":"Arabic (Lebanon)","ar-LY":"Arabic (Libya)","ar-MA":"Arabic (Morocco)","ar-OM":"Arabic (Oman)","ar-QA":"Arabic (Qatar)","ar-SA":"Arabic (Saudi Arabia)","ar-SY":"Arabic (Syria)","ar-TN":"Arabic (Tunisia)","ar-AE":"Arabic (U.A.E.)","ar-YE":"Arabic (Yemen)",an:"Aragonese",hy:"Armenian",as:"Assamese",ast:"Asturian",az:"Azerbaijani",eu:"Basque",be:"Belarusian",bn:"Bengali",bs:"Bosnian",br:"Breton",bg:"Bulgarian",my:"Burmese",ca:"Catalan",ch:"Chamorro",ce:"Chechen",zh:"Chinese","zh-HK":"Chinese (Hong Kong)","zh-CN":"Chinese (PRC)","zh-SG":"Chinese (Singapore)","zh-TW":"Chinese (Taiwan)",cv:"Chuvash",co:"Corsican",cr:"Cree",hr:"Croatian",cs:"Czech",da:"Danish",nl:"Dutch (Standard)","nl-BE":"Dutch (Belgian)",en:"English","en-AU":"English (Australia)","en-BZ":"English (Belize)","en-CA":"English (Canada)","en-IE":"English (Ireland)","en-JM":"English (Jamaica)","en-NZ":"English (New Zealand)","en-PH":"English (Philippines)","en-ZA":"English (South Africa)","en-TT":"English (Trinidad & Tobago)","en-GB":"English (United Kingdom)","en-US":"English (United States)","en-ZW":"English (Zimbabwe)",eo:"Esperanto",et:"Estonian",fo:"Faeroese",fj:"Fijian",fi:"Finnish",fr:"French (Standard)","fr-BE":"French (Belgium)","fr-CA":"French (Canada)","fr-FR":"French (France)","fr-LU":"French (Luxembourg)","fr-MC":"French (Monaco)","fr-CH":"French (Switzerland)",fy:"Frisian",fur:"Friulian",gd:"Gaelic (Scots)","gd-IE":"Gaelic (Irish)",gl:"Galacian",ka:"Georgian",de:"German (Standard)","de-AT":"German (Austria)","de-DE":"German (Germany)","de-LI":"German (Liechtenstein)","de-LU":"German (Luxembourg)","de-CH":"German (Switzerland)",el:"Greek",gu:"Gujurati",ht:"Haitian",he:"Hebrew",hi:"Hindi",hu:"Hungarian",is:"Icelandic",id:"Indonesian",iu:"Inuktitut",ga:"Irish",it:"Italian (Standard)","it-CH":"Italian (Switzerland)",ja:"Japanese",kn:"Kannada",ks:"Kashmiri",kk:"Kazakh",km:"Khmer",ky:"Kirghiz",tlh:"Klingon",ko:"Korean","ko-KP":"Korean (North Korea)","ko-KR":"Korean (South Korea)",la:"Latin",lv:"Latvian",lt:"Lithuanian",lb:"Luxembourgish",mk:"North Macedonia",ms:"Malay",ml:"Malayalam",mt:"Maltese",mi:"Maori",mr:"Marathi",mo:"Moldavian",nv:"Navajo",ng:"Ndonga",ne:"Nepali",no:"Norwegian",nb:"Norwegian (Bokmal)",nn:"Norwegian (Nynorsk)",oc:"Occitan",or:"Oriya",om:"Oromo",fa:"Persian","fa-IR":"Persian/Iran",pl:"Polish",pt:"Portuguese","pt-BR":"Portuguese (Brazil)",pa:"Punjabi","pa-IN":"Punjabi (India)","pa-PK":"Punjabi (Pakistan)",qu:"Quechua",rm:"Rhaeto-Romanic",ro:"Romanian","ro-MO":"Romanian (Moldavia)",ru:"Russian","ru-MO":"Russian (Moldavia)",sz:"Sami (Lappish)",sg:"Sango",sa:"Sanskrit",sc:"Sardinian",sd:"Sindhi",si:"Singhalese",sr:"Serbian",sk:"Slovak",sl:"Slovenian",so:"Somani",sb:"Sorbian",es:"Spanish","es-AR":"Spanish (Argentina)","es-BO":"Spanish (Bolivia)","es-CL":"Spanish (Chile)","es-CO":"Spanish (Colombia)","es-CR":"Spanish (Costa Rica)","es-DO":"Spanish (Dominican Republic)","es-EC":"Spanish (Ecuador)","es-SV":"Spanish (El Salvador)","es-GT":"Spanish (Guatemala)","es-HN":"Spanish (Honduras)","es-MX":"Spanish (Mexico)","es-NI":"Spanish (Nicaragua)","es-PA":"Spanish (Panama)","es-PY":"Spanish (Paraguay)","es-PE":"Spanish (Peru)","es-PR":"Spanish (Puerto Rico)","es-ES":"Spanish (Spain)","es-UY":"Spanish (Uruguay)","es-VE":"Spanish (Venezuela)",sx:"Sutu",sw:"Swahili",sv:"Swedish","sv-FI":"Swedish (Finland)","sv-SV":"Swedish (Sweden)",ta:"Tamil",tt:"Tatar",te:"Teluga",th:"Thai",tig:"Tigre",ts:"Tsonga",tn:"Tswana",tr:"Turkish",tk:"Turkmen",uk:"Ukrainian",hsb:"Upper Sorbian",ur:"Urdu",ve:"Venda",vi:"Vietnamese",vo:"Volapuk",wa:"Walloon",cy:"Welsh",xh:"Xhosa",ji:"Yiddish",zu:"Zulu"}[A]!==void 0&&(this.internal.languageSettings.languageCode=A,this.internal.languageSettings.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){this.internal.write("/Lang ("+this.internal.languageSettings.languageCode+")")}),this.internal.languageSettings.isSubscribed=!0)),this},N=Z.API,x=N.getCharWidthsArray=function(A,p){var v,y,_=(p=p||{}).font||this.internal.getFont(),w=p.fontSize||this.internal.getFontSize(),S=p.charSpace||this.internal.getCharSpace(),I=p.widths?p.widths:_.metadata.Unicode.widths,E=I.fof?I.fof:1,H=p.kerning?p.kerning:_.metadata.Unicode.kerning,ut=H.fof?H.fof:1,st=p.doKerning!==!1,bt=0,z=A.length,Dt=0,Ct=I[0]||E,Bt=[];for(v=0;v<z;v++)y=A.charCodeAt(v),typeof _.metadata.widthOfString=="function"?Bt.push((_.metadata.widthOfGlyph(_.metadata.characterToGlyph(y))+S*(1e3/w)||0)/1e3):(bt=st&&Ut()(H[y])==="object"&&!isNaN(parseInt(H[y][Dt],10))?H[y][Dt]/ut:0,Bt.push((I[y]||Ct)/E+bt)),Dt=y;return Bt},j=N.getStringUnitWidth=function(A,p){var v=(p=p||{}).fontSize||this.internal.getFontSize(),y=p.font||this.internal.getFont(),_=p.charSpace||this.internal.getCharSpace();return N.processArabic&&(A=N.processArabic(A)),typeof y.metadata.widthOfString=="function"?y.metadata.widthOfString(A,v,_)/v:x.apply(this,arguments).reduce(function(w,S){return w+S},0)},V=function(p,v,y,_){for(var w=[],S=0,I=p.length,E=0;S!==I&&E+v[S]<y;)E+=v[S],S++;w.push(p.slice(0,S));var H=S;for(E=0;S!==I;)E+v[S]>_&&(w.push(p.slice(H,S)),E=0,H=S),E+=v[S],S++;return H!==S&&w.push(p.slice(H,S)),w},ht=function(p,v,y){y||(y={});var _,w,S,I,E,H,ut,st=[],bt=[st],z=y.textIndent||0,Dt=0,Ct=0,Bt=p.split(" "),Tt=x.apply(this,[" ",y])[0];if(H=y.lineIndent===-1?Bt[0].length+2:y.lineIndent||0){var rt=Array(H).join(" "),de=[];Bt.map(function(Ge){(Ge=Ge.split(/\s*\n/)).length>1?de=de.concat(Ge.map(function(nr,Be){return(Be&&nr.length?`
`:"")+nr})):de.push(Ge[0])}),Bt=de,H=j.apply(this,[rt,y])}for(S=0,I=Bt.length;S<I;S++){var ke=0;if(_=Bt[S],H&&_[0]==`
`&&(_=_.substr(1),ke=1),z+Dt+(Ct=(w=x.apply(this,[_,y])).reduce(function(Ge,nr){return Ge+nr},0))>v||ke){if(Ct>v){for(E=V.apply(this,[_,w,v-(z+Dt),v]),st.push(E.shift()),st=[E.pop()];E.length;)bt.push([E.shift()]);Ct=w.slice(_.length-(st[0]?st[0].length:0)).reduce(function(Ge,nr){return Ge+nr},0)}else st=[_];bt.push(st),z=Ct+H,Dt=Tt}else st.push(_),z+=Dt+Ct,Dt=Tt}return ut=H?function(Ge,nr){return(nr?rt:"")+Ge.join(" ")}:function(Ge){return Ge.join(" ")},bt.map(ut)},N.splitTextToSize=function(A,p,v){var y,_=(v=v||{}).fontSize||this.internal.getFontSize(),w=function(ut){if(ut.widths&&ut.kerning)return{widths:ut.widths,kerning:ut.kerning};var st=this.internal.getFont(ut.fontName,ut.fontStyle);return st.metadata.Unicode?{widths:st.metadata.Unicode.widths||{0:1},kerning:st.metadata.Unicode.kerning||{}}:{font:st.metadata,fontSize:this.internal.getFontSize(),charSpace:this.internal.getCharSpace()}}.call(this,v);y=Array.isArray(A)?A:String(A).split(/\r?\n/);var S=1*this.internal.scaleFactor*p/_;w.textIndent=v.textIndent?1*v.textIndent*this.internal.scaleFactor/_:0,w.lineIndent=v.lineIndent;var I,E,H=[];for(I=0,E=y.length;I<E;I++)H=H.concat(ht.apply(this,[y[I],S,w]));return H},function(A){A.__fontmetrics__=A.__fontmetrics__||{};for(var p="klmnopqrstuvwxyz",v={},y={},_=0;_<p.length;_++)v[p[_]]="0123456789abcdef"[_],y["0123456789abcdef"[_]]=p[_];var w=function(bt){return"0x"+parseInt(bt,10).toString(16)},S=A.__fontmetrics__.compress=function(st){var bt,z,Dt,Ct,Bt=["{"];for(var Tt in st){if(bt=st[Tt],isNaN(parseInt(Tt,10))?z="'"+Tt+"'":(Tt=parseInt(Tt,10),z=(z=w(Tt).slice(2)).slice(0,-1)+y[z.slice(-1)]),typeof bt=="number")bt<0?(Dt=w(bt).slice(3),Ct="-"):(Dt=w(bt).slice(2),Ct=""),Dt=Ct+Dt.slice(0,-1)+y[Dt.slice(-1)];else{if(Ut()(bt)!=="object")throw new Error("Don't know what to do with value type "+Ut()(bt)+".");Dt=S(bt)}Bt.push(z+Dt)}return Bt.push("}"),Bt.join("")},I=A.__fontmetrics__.uncompress=function(st){if(typeof st!="string")throw new Error("Invalid argument passed to uncompress.");for(var bt,z,Dt,Ct,Bt={},Tt=1,rt=Bt,de=[],ke="",Ge="",nr=st.length-1,Be=1;Be<nr;Be+=1)(Ct=st[Be])=="'"?bt?(Dt=bt.join(""),bt=void 0):bt=[]:bt?bt.push(Ct):Ct=="{"?(de.push([rt,Dt]),rt={},Dt=void 0):Ct=="}"?((z=de.pop())[0][z[1]]=rt,Dt=void 0,rt=z[0]):Ct=="-"?Tt=-1:Dt===void 0?v.hasOwnProperty(Ct)?(ke+=v[Ct],Dt=parseInt(ke,16)*Tt,Tt=1,ke=""):ke+=Ct:v.hasOwnProperty(Ct)?(Ge+=v[Ct],rt[Dt]=parseInt(Ge,16)*Tt,Tt=1,Dt=void 0,Ge=""):Ge+=Ct;return Bt},E={codePages:["WinAnsiEncoding"],WinAnsiEncoding:I("{19m8n201n9q201o9r201s9l201t9m201u8m201w9n201x9o201y8o202k8q202l8r202m9p202q8p20aw8k203k8t203t8v203u9v2cq8s212m9t15m8w15n9w2dw9s16k8u16l9u17s9z17x8y17y9y}")},H={Unicode:{Courier:E,"Courier-Bold":E,"Courier-BoldOblique":E,"Courier-Oblique":E,Helvetica:E,"Helvetica-Bold":E,"Helvetica-BoldOblique":E,"Helvetica-Oblique":E,"Times-Roman":E,"Times-Bold":E,"Times-BoldItalic":E,"Times-Italic":E}},ut={Unicode:{"Courier-Oblique":I("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-BoldItalic":I("{'widths'{k3o2q4ycx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2r202m2n2n3m2o3m2p5n202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5n4l4m4m4m4n4m4o4s4p4m4q4m4r4s4s4y4t2r4u3m4v4m4w3x4x5t4y4s4z4s5k3x5l4s5m4m5n3r5o3x5p4s5q4m5r5t5s4m5t3x5u3x5v2l5w1w5x2l5y3t5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q2l6r3m6s3r6t1w6u1w6v3m6w1w6x4y6y3r6z3m7k3m7l3m7m2r7n2r7o1w7p3r7q2w7r4m7s3m7t2w7u2r7v2n7w1q7x2n7y3t202l3mcl4mal2ram3man3mao3map3mar3mas2lat4uau1uav3maw3way4uaz2lbk2sbl3t'fof'6obo2lbp3tbq3mbr1tbs2lbu1ybv3mbz3mck4m202k3mcm4mcn4mco4mcp4mcq5ycr4mcs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz2w203k6o212m6o2dw2l2cq2l3t3m3u2l17s3x19m3m}'kerning'{cl{4qu5kt5qt5rs17ss5ts}201s{201ss}201t{cks4lscmscnscoscpscls2wu2yu201ts}201x{2wu2yu}2k{201ts}2w{4qx5kx5ou5qx5rs17su5tu}2x{17su5tu5ou}2y{4qx5kx5ou5qx5rs17ss5ts}'fof'-6ofn{17sw5tw5ou5qw5rs}7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qs}3v{17su5tu5os5qs}7p{17su5tu}ck{4qu5kt5qt5rs17ss5ts}4l{4qu5kt5qt5rs17ss5ts}cm{4qu5kt5qt5rs17ss5ts}cn{4qu5kt5qt5rs17ss5ts}co{4qu5kt5qt5rs17ss5ts}cp{4qu5kt5qt5rs17ss5ts}6l{4qu5ou5qw5rt17su5tu}5q{ckuclucmucnucoucpu4lu}5r{ckuclucmucnucoucpu4lu}7q{cksclscmscnscoscps4ls}6p{4qu5ou5qw5rt17sw5tw}ek{4qu5ou5qw5rt17su5tu}el{4qu5ou5qw5rt17su5tu}em{4qu5ou5qw5rt17su5tu}en{4qu5ou5qw5rt17su5tu}eo{4qu5ou5qw5rt17su5tu}ep{4qu5ou5qw5rt17su5tu}es{17ss5ts5qs4qu}et{4qu5ou5qw5rt17sw5tw}eu{4qu5ou5qw5rt17ss5ts}ev{17ss5ts5qs4qu}6z{17sw5tw5ou5qw5rs}fm{17sw5tw5ou5qw5rs}7n{201ts}fo{17sw5tw5ou5qw5rs}fp{17sw5tw5ou5qw5rs}fq{17sw5tw5ou5qw5rs}7r{cksclscmscnscoscps4ls}fs{17sw5tw5ou5qw5rs}ft{17su5tu}fu{17su5tu}fv{17su5tu}fw{17su5tu}fz{cksclscmscnscoscps4ls}}}"),"Helvetica-Bold":I("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),Courier:I("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-BoldOblique":I("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Bold":I("{'widths'{k3q2q5ncx2r201n3m201o6o201s2l201t2l201u2l201w3m201x3m201y3m2k1t2l2l202m2n2n3m2o3m2p6o202q6o2r1w2s2l2t2l2u3m2v3t2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w3t3x3t3y3t3z3m4k5x4l4s4m4m4n4s4o4s4p4m4q3x4r4y4s4y4t2r4u3m4v4y4w4m4x5y4y4s4z4y5k3x5l4y5m4s5n3r5o4m5p4s5q4s5r6o5s4s5t4s5u4m5v2l5w1w5x2l5y3u5z3m6k2l6l3m6m3r6n2w6o3r6p2w6q2l6r3m6s3r6t1w6u2l6v3r6w1w6x5n6y3r6z3m7k3r7l3r7m2w7n2r7o2l7p3r7q3m7r4s7s3m7t3m7u2w7v2r7w1q7x2r7y3o202l3mcl4sal2lam3man3mao3map3mar3mas2lat4uau1yav3maw3tay4uaz2lbk2sbl3t'fof'6obo2lbp3rbr1tbs2lbu2lbv3mbz3mck4s202k3mcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw2r2m3rcy2rcz2rdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3rek3mel3mem3men3meo3mep3meq4ser2wes2wet2weu2wev2wew1wex1wey1wez1wfl3rfm3mfn3mfo3mfp3mfq3mfr3tfs3mft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3m3u2l17s4s19m3m}'kerning'{cl{4qt5ks5ot5qy5rw17sv5tv}201t{cks4lscmscnscoscpscls4wv}2k{201ts}2w{4qu5ku7mu5os5qx5ru17su5tu}2x{17su5tu5ou5qs}2y{4qv5kv7mu5ot5qz5ru17su5tu}'fof'-6o7t{cksclscmscnscoscps4ls}3u{17su5tu5os5qu}3v{17su5tu5os5qu}fu{17su5tu5ou5qu}7p{17su5tu5ou5qu}ck{4qt5ks5ot5qy5rw17sv5tv}4l{4qt5ks5ot5qy5rw17sv5tv}cm{4qt5ks5ot5qy5rw17sv5tv}cn{4qt5ks5ot5qy5rw17sv5tv}co{4qt5ks5ot5qy5rw17sv5tv}cp{4qt5ks5ot5qy5rw17sv5tv}6l{17st5tt5ou5qu}17s{ckuclucmucnucoucpu4lu4wu}5o{ckuclucmucnucoucpu4lu4wu}5q{ckzclzcmzcnzcozcpz4lz4wu}5r{ckxclxcmxcnxcoxcpx4lx4wu}5t{ckuclucmucnucoucpu4lu4wu}7q{ckuclucmucnucoucpu4lu}6p{17sw5tw5ou5qu}ek{17st5tt5qu}el{17st5tt5ou5qu}em{17st5tt5qu}en{17st5tt5qu}eo{17st5tt5qu}ep{17st5tt5ou5qu}es{17ss5ts5qu}et{17sw5tw5ou5qu}eu{17sw5tw5ou5qu}ev{17ss5ts5qu}6z{17sw5tw5ou5qu5rs}fm{17sw5tw5ou5qu5rs}fn{17sw5tw5ou5qu5rs}fo{17sw5tw5ou5qu5rs}fp{17sw5tw5ou5qu5rs}fq{17sw5tw5ou5qu5rs}7r{cktcltcmtcntcotcpt4lt5os}fs{17sw5tw5ou5qu5rs}ft{17su5tu5ou5qu}7m{5os}fv{17su5tu5ou5qu}fw{17su5tu5ou5qu}fz{cksclscmscnscoscps4ls}}}"),Symbol:I("{'widths'{k3uaw4r19m3m2k1t2l2l202m2y2n3m2p5n202q6o3k3m2s2l2t2l2v3r2w1t3m3m2y1t2z1wbk2sbl3r'fof'6o3n3m3o3m3p3m3q3m3r3m3s3m3t3m3u1w3v1w3w3r3x3r3y3r3z2wbp3t3l3m5v2l5x2l5z3m2q4yfr3r7v3k7w1o7x3k}'kerning'{'fof'-6o}}"),Helvetica:I("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}"),"Helvetica-BoldOblique":I("{'widths'{k3s2q4scx1w201n3r201o6o201s1w201t1w201u1w201w3m201x3m201y3m2k1w2l2l202m2n2n3r2o3r2p5t202q6o2r1s2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v2l3w3u3x3u3y3u3z3x4k6l4l4s4m4s4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3r4v4s4w3x4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v2l5w1w5x2l5y3u5z3r6k2l6l3r6m3x6n3r6o3x6p3r6q2l6r3x6s3x6t1w6u1w6v3r6w1w6x5t6y3x6z3x7k3x7l3x7m2r7n3r7o2l7p3x7q3r7r4y7s3r7t3r7u3m7v2r7w1w7x2r7y3u202l3rcl4sal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3xbq3rbr1wbs2lbu2obv3rbz3xck4s202k3rcm4scn4sco4scp4scq6ocr4scs4mct4mcu4mcv4mcw1w2m2zcy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3res3ret3reu3rev3rew1wex1wey1wez1wfl3xfm3xfn3xfo3xfp3xfq3xfr3ufs3xft3xfu3xfv3xfw3xfz3r203k6o212m6o2dw2l2cq2l3t3r3u2l17s4m19m3r}'kerning'{cl{4qs5ku5ot5qs17sv5tv}201t{2ww4wy2yw}201w{2ks}201x{2ww4wy2yw}2k{201ts201xs}2w{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}2x{5ow5qs}2y{7qs4qu5kw5os5qw5rs17su5tu7tsfzs}'fof'-6o7p{17su5tu5ot}ck{4qs5ku5ot5qs17sv5tv}4l{4qs5ku5ot5qs17sv5tv}cm{4qs5ku5ot5qs17sv5tv}cn{4qs5ku5ot5qs17sv5tv}co{4qs5ku5ot5qs17sv5tv}cp{4qs5ku5ot5qs17sv5tv}6l{17st5tt5os}17s{2kwclvcmvcnvcovcpv4lv4wwckv}5o{2kucltcmtcntcotcpt4lt4wtckt}5q{2ksclscmscnscoscps4ls4wvcks}5r{2ks4ws}5t{2kwclvcmvcnvcovcpv4lv4wwckv}eo{17st5tt5os}fu{17su5tu5ot}6p{17ss5ts}ek{17st5tt5os}el{17st5tt5os}em{17st5tt5os}en{17st5tt5os}6o{201ts}ep{17st5tt5os}es{17ss5ts}et{17ss5ts}eu{17ss5ts}ev{17ss5ts}6z{17su5tu5os5qt}fm{17su5tu5os5qt}fn{17su5tu5os5qt}fo{17su5tu5os5qt}fp{17su5tu5os5qt}fq{17su5tu5os5qt}fs{17su5tu5os5qt}ft{17su5tu5ot}7m{5os}fv{17su5tu5ot}fw{17su5tu5ot}}}"),ZapfDingbats:I("{'widths'{k4u2k1w'fof'6o}'kerning'{'fof'-6o}}"),"Courier-Bold":I("{'widths'{k3w'fof'6o}'kerning'{'fof'-6o}}"),"Times-Italic":I("{'widths'{k3n2q4ycx2l201n3m201o5t201s2l201t2l201u2l201w3r201x3r201y3r2k1t2l2l202m2n2n3m2o3m2p5n202q5t2r1p2s2l2t2l2u3m2v4n2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v2l3w4n3x4n3y4n3z3m4k5w4l3x4m3x4n4m4o4s4p3x4q3x4r4s4s4s4t2l4u2w4v4m4w3r4x5n4y4m4z4s5k3x5l4s5m3x5n3m5o3r5p4s5q3x5r5n5s3x5t3r5u3r5v2r5w1w5x2r5y2u5z3m6k2l6l3m6m3m6n2w6o3m6p2w6q1w6r3m6s3m6t1w6u1w6v2w6w1w6x4s6y3m6z3m7k3m7l3m7m2r7n2r7o1w7p3m7q2w7r4m7s2w7t2w7u2r7v2s7w1v7x2s7y3q202l3mcl3xal2ram3man3mao3map3mar3mas2lat4wau1vav3maw4nay4waz2lbk2sbl4n'fof'6obo2lbp3mbq3obr1tbs2lbu1zbv3mbz3mck3x202k3mcm3xcn3xco3xcp3xcq5tcr4mcs3xct3xcu3xcv3xcw2l2m2ucy2lcz2ldl4mdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek3mel3mem3men3meo3mep3meq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr4nfs3mft3mfu3mfv3mfw3mfz2w203k6o212m6m2dw2l2cq2l3t3m3u2l17s3r19m3m}'kerning'{cl{5kt4qw}201s{201sw}201t{201tw2wy2yy6q-t}201x{2wy2yy}2k{201tw}2w{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}2x{17ss5ts5os}2y{7qs4qy7rs5ky7mw5os5qx5ru17su5tu}'fof'-6o6t{17ss5ts5qs}7t{5os}3v{5qs}7p{17su5tu5qs}ck{5kt4qw}4l{5kt4qw}cm{5kt4qw}cn{5kt4qw}co{5kt4qw}cp{5kt4qw}6l{4qs5ks5ou5qw5ru17su5tu}17s{2ks}5q{ckvclvcmvcnvcovcpv4lv}5r{ckuclucmucnucoucpu4lu}5t{2ks}6p{4qs5ks5ou5qw5ru17su5tu}ek{4qs5ks5ou5qw5ru17su5tu}el{4qs5ks5ou5qw5ru17su5tu}em{4qs5ks5ou5qw5ru17su5tu}en{4qs5ks5ou5qw5ru17su5tu}eo{4qs5ks5ou5qw5ru17su5tu}ep{4qs5ks5ou5qw5ru17su5tu}es{5ks5qs4qs}et{4qs5ks5ou5qw5ru17su5tu}eu{4qs5ks5qw5ru17su5tu}ev{5ks5qs4qs}ex{17ss5ts5qs}6z{4qv5ks5ou5qw5ru17su5tu}fm{4qv5ks5ou5qw5ru17su5tu}fn{4qv5ks5ou5qw5ru17su5tu}fo{4qv5ks5ou5qw5ru17su5tu}fp{4qv5ks5ou5qw5ru17su5tu}fq{4qv5ks5ou5qw5ru17su5tu}7r{5os}fs{4qv5ks5ou5qw5ru17su5tu}ft{17su5tu5qs}fu{17su5tu5qs}fv{17su5tu5qs}fw{17su5tu5qs}}}"),"Times-Roman":I("{'widths'{k3n2q4ycx2l201n3m201o6o201s2l201t2l201u2l201w2w201x2w201y2w2k1t2l2l202m2n2n3m2o3m2p5n202q6o2r1m2s2l2t2l2u3m2v3s2w1t2x2l2y1t2z1w3k3m3l3m3m3m3n3m3o3m3p3m3q3m3r3m3s3m203t2l203u2l3v1w3w3s3x3s3y3s3z2w4k5w4l4s4m4m4n4m4o4s4p3x4q3r4r4s4s4s4t2l4u2r4v4s4w3x4x5t4y4s4z4s5k3r5l4s5m4m5n3r5o3x5p4s5q4s5r5y5s4s5t4s5u3x5v2l5w1w5x2l5y2z5z3m6k2l6l2w6m3m6n2w6o3m6p2w6q2l6r3m6s3m6t1w6u1w6v3m6w1w6x4y6y3m6z3m7k3m7l3m7m2l7n2r7o1w7p3m7q3m7r4s7s3m7t3m7u2w7v3k7w1o7x3k7y3q202l3mcl4sal2lam3man3mao3map3mar3mas2lat4wau1vav3maw3say4waz2lbk2sbl3s'fof'6obo2lbp3mbq2xbr1tbs2lbu1zbv3mbz2wck4s202k3mcm4scn4sco4scp4scq5tcr4mcs3xct3xcu3xcv3xcw2l2m2tcy2lcz2ldl4sdm4sdn4sdo4sdp4sdq4sds4sdt4sdu4sdv4sdw4sdz3mek2wel2wem2wen2weo2wep2weq4mer2wes2wet2weu2wev2wew1wex1wey1wez1wfl3mfm3mfn3mfo3mfp3mfq3mfr3sfs3mft3mfu3mfv3mfw3mfz3m203k6o212m6m2dw2l2cq2l3t3m3u1w17s4s19m3m}'kerning'{cl{4qs5ku17sw5ou5qy5rw201ss5tw201ws}201s{201ss}201t{ckw4lwcmwcnwcowcpwclw4wu201ts}2k{201ts}2w{4qs5kw5os5qx5ru17sx5tx}2x{17sw5tw5ou5qu}2y{4qs5kw5os5qx5ru17sx5tx}'fof'-6o7t{ckuclucmucnucoucpu4lu5os5rs}3u{17su5tu5qs}3v{17su5tu5qs}7p{17sw5tw5qs}ck{4qs5ku17sw5ou5qy5rw201ss5tw201ws}4l{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cm{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cn{4qs5ku17sw5ou5qy5rw201ss5tw201ws}co{4qs5ku17sw5ou5qy5rw201ss5tw201ws}cp{4qs5ku17sw5ou5qy5rw201ss5tw201ws}6l{17su5tu5os5qw5rs}17s{2ktclvcmvcnvcovcpv4lv4wuckv}5o{ckwclwcmwcnwcowcpw4lw4wu}5q{ckyclycmycnycoycpy4ly4wu5ms}5r{cktcltcmtcntcotcpt4lt4ws}5t{2ktclvcmvcnvcovcpv4lv4wuckv}7q{cksclscmscnscoscps4ls}6p{17su5tu5qw5rs}ek{5qs5rs}el{17su5tu5os5qw5rs}em{17su5tu5os5qs5rs}en{17su5qs5rs}eo{5qs5rs}ep{17su5tu5os5qw5rs}es{5qs}et{17su5tu5qw5rs}eu{17su5tu5qs5rs}ev{5qs}6z{17sv5tv5os5qx5rs}fm{5os5qt5rs}fn{17sv5tv5os5qx5rs}fo{17sv5tv5os5qx5rs}fp{5os5qt5rs}fq{5os5qt5rs}7r{ckuclucmucnucoucpu4lu5os}fs{17sv5tv5os5qx5rs}ft{17ss5ts5qs}fu{17sw5tw5qs}fv{17sw5tw5qs}fw{17ss5ts5qs}fz{ckuclucmucnucoucpu4lu5os5rs}}}"),"Helvetica-Oblique":I("{'widths'{k3p2q4mcx1w201n3r201o6o201s1q201t1q201u1q201w2l201x2l201y2l2k1w2l1w202m2n2n3r2o3r2p5t202q6o2r1n2s2l2t2l2u2r2v3u2w1w2x2l2y1w2z1w3k3r3l3r3m3r3n3r3o3r3p3r3q3r3r3r3s3r203t2l203u2l3v1w3w3u3x3u3y3u3z3r4k6p4l4m4m4m4n4s4o4s4p4m4q3x4r4y4s4s4t1w4u3m4v4m4w3r4x5n4y4s4z4y5k4m5l4y5m4s5n4m5o3x5p4s5q4m5r5y5s4m5t4m5u3x5v1w5w1w5x1w5y2z5z3r6k2l6l3r6m3r6n3m6o3r6p3r6q1w6r3r6s3r6t1q6u1q6v3m6w1q6x5n6y3r6z3r7k3r7l3r7m2l7n3m7o1w7p3r7q3m7r4s7s3m7t3m7u3m7v2l7w1u7x2l7y3u202l3rcl4mal2lam3ran3rao3rap3rar3ras2lat4tau2pav3raw3uay4taz2lbk2sbl3u'fof'6obo2lbp3rbr1wbs2lbu2obv3rbz3xck4m202k3rcm4mcn4mco4mcp4mcq6ocr4scs4mct4mcu4mcv4mcw1w2m2ncy1wcz1wdl4sdm4ydn4ydo4ydp4ydq4yds4ydt4sdu4sdv4sdw4sdz3xek3rel3rem3ren3reo3rep3req5ter3mes3ret3reu3rev3rew1wex1wey1wez1wfl3rfm3rfn3rfo3rfp3rfq3rfr3ufs3xft3rfu3rfv3rfw3rfz3m203k6o212m6o2dw2l2cq2l3t3r3u1w17s4m19m3r}'kerning'{5q{4wv}cl{4qs5kw5ow5qs17sv5tv}201t{2wu4w1k2yu}201x{2wu4wy2yu}17s{2ktclucmucnu4otcpu4lu4wycoucku}2w{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}2x{17sy5ty5oy5qs}2y{7qs4qz5k1m17sy5ow5qx5rsfsu5ty7tufzu}'fof'-6o7p{17sv5tv5ow}ck{4qs5kw5ow5qs17sv5tv}4l{4qs5kw5ow5qs17sv5tv}cm{4qs5kw5ow5qs17sv5tv}cn{4qs5kw5ow5qs17sv5tv}co{4qs5kw5ow5qs17sv5tv}cp{4qs5kw5ow5qs17sv5tv}6l{17sy5ty5ow}do{17st5tt}4z{17st5tt}7s{fst}dm{17st5tt}dn{17st5tt}5o{ckwclwcmwcnwcowcpw4lw4wv}dp{17st5tt}dq{17st5tt}7t{5ow}ds{17st5tt}5t{2ktclucmucnu4otcpu4lu4wycoucku}fu{17sv5tv5ow}6p{17sy5ty5ow5qs}ek{17sy5ty5ow}el{17sy5ty5ow}em{17sy5ty5ow}en{5ty}eo{17sy5ty5ow}ep{17sy5ty5ow}es{17sy5ty5qs}et{17sy5ty5ow5qs}eu{17sy5ty5ow5qs}ev{17sy5ty5ow5qs}6z{17sy5ty5ow5qs}fm{17sy5ty5ow5qs}fn{17sy5ty5ow5qs}fo{17sy5ty5ow5qs}fp{17sy5ty5qs}fq{17sy5ty5ow5qs}7r{5ow}fs{17sy5ty5ow5qs}ft{17sv5tv5ow}7m{5ow}fv{17sv5tv5ow}fw{17sv5tv5ow}}}")}};A.events.push(["addFont",function(st){var bt=st.font,z=ut.Unicode[bt.postScriptName];z&&(bt.metadata.Unicode={},bt.metadata.Unicode.widths=z.widths,bt.metadata.Unicode.kerning=z.kerning);var Dt=H.Unicode[bt.postScriptName];Dt&&(bt.metadata.Unicode.encoding=Dt,bt.encoding=Dt.codePages[0])}])}(Z.API),function(A){var p=function(y){for(var _=y.length,w=new Uint8Array(_),S=0;S<_;S++)w[S]=y.charCodeAt(S);return w};A.API.events.push(["addFont",function(v){var y=void 0,_=v.font,w=v.instance;if(!_.isStandardFont){if(w===void 0)throw new Error("Font does not exist in vFS, import fonts or remove declaration doc.addFont('"+_.postScriptName+"').");if(typeof(y=w.existsFileInVFS(_.postScriptName)===!1?w.loadFile(_.postScriptName):w.getFileFromVFS(_.postScriptName))!="string")throw new Error("Font is not stored as string-data in vFS, import fonts or remove declaration doc.addFont('"+_.postScriptName+"').");(function(S,I){I=/^\x00\x01\x00\x00/.test(I)?p(I):p(h(I)),S.metadata=A.API.TTFFont.open(I),S.metadata.Unicode=S.metadata.Unicode||{encoding:{},kerning:{},widths:[]},S.metadata.glyIdsUsed=[0]})(_,y)}}])}(Z),function(A){function p(){return(ve.canvg?Promise.resolve(ve.canvg):Te.e(63).then(Te.bind(null,"DXPr"))).catch(function(v){return Promise.reject(new Error("Could not load canvg: "+v))}).then(function(v){return v.default?v.default:v})}Z.API.addSvgAsImage=function(v,y,_,w,S,I,E,H){if(isNaN(y)||isNaN(_))throw _t.error("jsPDF.addSvgAsImage: Invalid coordinates",arguments),new Error("Invalid coordinates passed to jsPDF.addSvgAsImage");if(isNaN(w)||isNaN(S))throw _t.error("jsPDF.addSvgAsImage: Invalid measurements",arguments),new Error("Invalid measurements (width and/or height) passed to jsPDF.addSvgAsImage");var ut=document.createElement("canvas");ut.width=w,ut.height=S;var st=ut.getContext("2d");st.fillStyle="#fff",st.fillRect(0,0,ut.width,ut.height);var bt={ignoreMouse:!0,ignoreAnimation:!0,ignoreDimensions:!0},z=this;return p().then(function(Dt){return Dt.fromString(st,v,bt)},function(){return Promise.reject(new Error("Could not load canvg."))}).then(function(Dt){return Dt.render(bt)}).then(function(){z.addImage(ut.toDataURL("image/jpeg",1),y,_,w,S,E,H)})}}(),Z.API.putTotalPages=function(A){var p,v=0;parseInt(this.internal.getFont().id.substr(1),10)<15?(p=new RegExp(A,"g"),v=this.internal.getNumberOfPages()):(p=new RegExp(this.pdfEscape16(A,this.internal.getFont()),"g"),v=this.pdfEscape16(this.internal.getNumberOfPages()+"",this.internal.getFont()));for(var y=1;y<=this.internal.getNumberOfPages();y++)for(var _=0;_<this.internal.pages[y].length;_++)this.internal.pages[y][_]=this.internal.pages[y][_].replace(p,v);return this},Z.API.viewerPreferences=function(A,p){var v;A=A||{},p=p||!1;var y,_,w,S={HideToolbar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideMenubar:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},HideWindowUI:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},FitWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},CenterWindow:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.3},DisplayDocTitle:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.4},NonFullScreenPageMode:{defaultValue:"UseNone",value:"UseNone",type:"name",explicitSet:!1,valueSet:["UseNone","UseOutlines","UseThumbs","UseOC"],pdfVersion:1.3},Direction:{defaultValue:"L2R",value:"L2R",type:"name",explicitSet:!1,valueSet:["L2R","R2L"],pdfVersion:1.3},ViewArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},ViewClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintArea:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintClip:{defaultValue:"CropBox",value:"CropBox",type:"name",explicitSet:!1,valueSet:["MediaBox","CropBox","TrimBox","BleedBox","ArtBox"],pdfVersion:1.4},PrintScaling:{defaultValue:"AppDefault",value:"AppDefault",type:"name",explicitSet:!1,valueSet:["AppDefault","None"],pdfVersion:1.6},Duplex:{defaultValue:"",value:"none",type:"name",explicitSet:!1,valueSet:["Simplex","DuplexFlipShortEdge","DuplexFlipLongEdge","none"],pdfVersion:1.7},PickTrayByPDFSize:{defaultValue:!1,value:!1,type:"boolean",explicitSet:!1,valueSet:[!0,!1],pdfVersion:1.7},PrintPageRange:{defaultValue:"",value:"",type:"array",explicitSet:!1,valueSet:null,pdfVersion:1.7},NumCopies:{defaultValue:1,value:1,type:"integer",explicitSet:!1,valueSet:null,pdfVersion:1.7}},I=Object.keys(S),E=[],H=0,ut=0,st=0;function bt(Dt,Ct){var Bt,Tt=!1;for(Bt=0;Bt<Dt.length;Bt+=1)Dt[Bt]===Ct&&(Tt=!0);return Tt}if(this.internal.viewerpreferences===void 0&&(this.internal.viewerpreferences={},this.internal.viewerpreferences.configuration=JSON.parse(JSON.stringify(S)),this.internal.viewerpreferences.isSubscribed=!1),v=this.internal.viewerpreferences.configuration,A==="reset"||p===!0){var z=I.length;for(st=0;st<z;st+=1)v[I[st]].value=v[I[st]].defaultValue,v[I[st]].explicitSet=!1}if(Ut()(A)==="object"){for(_ in A)if(w=A[_],bt(I,_)&&w!==void 0){if(v[_].type==="boolean"&&typeof w=="boolean")v[_].value=w;else if(v[_].type==="name"&&bt(v[_].valueSet,w))v[_].value=w;else if(v[_].type==="integer"&&Number.isInteger(w))v[_].value=w;else if(v[_].type==="array"){for(H=0;H<w.length;H+=1)if(y=!0,w[H].length===1&&typeof w[H][0]=="number")E.push(String(w[H]-1));else if(w[H].length>1){for(ut=0;ut<w[H].length;ut+=1)typeof w[H][ut]!="number"&&(y=!1);y===!0&&E.push([w[H][0]-1,w[H][1]-1].join(" "))}v[_].value="["+E.join(" ")+"]"}else v[_].value=v[_].defaultValue;v[_].explicitSet=!0}}return this.internal.viewerpreferences.isSubscribed===!1&&(this.internal.events.subscribe("putCatalog",function(){var Dt,Ct=[];for(Dt in v)v[Dt].explicitSet===!0&&(v[Dt].type==="name"?Ct.push("/"+Dt+" /"+v[Dt].value):Ct.push("/"+Dt+" "+v[Dt].value));Ct.length!==0&&this.internal.write(`/ViewerPreferences
<<
`+Ct.join(`
`)+`
>>`)}),this.internal.viewerpreferences.isSubscribed=!0),this.internal.viewerpreferences.configuration=v,this},function(A){var p=function(){var _='<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"><rdf:Description rdf:about="" xmlns:jspdf="'+this.internal.__metadata__.namespaceuri+'"><jspdf:metadata>',w=unescape(encodeURIComponent('<x:xmpmeta xmlns:x="adobe:ns:meta/">')),S=unescape(encodeURIComponent(_)),I=unescape(encodeURIComponent(this.internal.__metadata__.metadata)),E=unescape(encodeURIComponent("</jspdf:metadata></rdf:Description></rdf:RDF>")),H=unescape(encodeURIComponent("</x:xmpmeta>")),ut=S.length+I.length+E.length+w.length+H.length;this.internal.__metadata__.metadata_object_number=this.internal.newObject(),this.internal.write("<< /Type /Metadata /Subtype /XML /Length "+ut+" >>"),this.internal.write("stream"),this.internal.write(w+S+I+E+H),this.internal.write("endstream"),this.internal.write("endobj")},v=function(){this.internal.__metadata__.metadata_object_number&&this.internal.write("/Metadata "+this.internal.__metadata__.metadata_object_number+" 0 R")};A.addMetadata=function(y,_){return this.internal.__metadata__===void 0&&(this.internal.__metadata__={metadata:y,namespaceuri:_||"http://jspdf.default.namespaceuri/"},this.internal.events.subscribe("putCatalog",v),this.internal.events.subscribe("postPutResources",p)),this}}(Z.API),function(A){var p=A.API,v=p.pdfEscape16=function(w,S){for(var I,E=S.metadata.Unicode.widths,H=["","0","00","000","0000"],ut=[""],st=0,bt=w.length;st<bt;++st){if(I=S.metadata.characterToGlyph(w.charCodeAt(st)),S.metadata.glyIdsUsed.push(I),S.metadata.toUnicode[I]=w.charCodeAt(st),E.indexOf(I)==-1&&(E.push(I),E.push([parseInt(S.metadata.widthOfGlyph(I),10)])),I=="0")return ut.join("");I=I.toString(16),ut.push(H[4-I.length],I)}return ut.join("")},y=function(S){var I,E,H,ut,st,bt,z;for(st=`/CIDInit /ProcSet findresource begin
12 dict begin
begincmap
/CIDSystemInfo <<
  /Registry (Adobe)
  /Ordering (UCS)
  /Supplement 0
>> def
/CMapName /Adobe-Identity-UCS def
/CMapType 2 def
1 begincodespacerange
<0000><ffff>
endcodespacerange`,H=[],bt=0,z=(E=Object.keys(S).sort(function(Dt,Ct){return Dt-Ct})).length;bt<z;bt++)I=E[bt],H.length>=100&&(st+=`
`+H.length+` beginbfchar
`+H.join(`
`)+`
endbfchar`,H=[]),S[I]!==void 0&&S[I]!==null&&typeof S[I].toString=="function"&&(ut=("0000"+S[I].toString(16)).slice(-4),I=("0000"+(+I).toString(16)).slice(-4),H.push("<"+I+"><"+ut+">"));return H.length&&(st+=`
`+H.length+` beginbfchar
`+H.join(`
`)+`
endbfchar
`),st+=`endcmap
CMapName currentdict /CMap defineresource pop
end
end`};p.events.push(["putFont",function(w){(function(S){var I=S.font,E=S.out,H=S.newObject,ut=S.putStream;if(I.metadata instanceof A.API.TTFFont&&I.encoding==="Identity-H"){for(var st=I.metadata.Unicode.widths,bt=I.metadata.subset.encode(I.metadata.glyIdsUsed,1),z="",Dt=0;Dt<bt.length;Dt++)z+=String.fromCharCode(bt[Dt]);var Ct=H();ut({data:z,addLength1:!0,objectId:Ct}),E("endobj");var Bt=H();ut({data:y(I.metadata.toUnicode),addLength1:!0,objectId:Bt}),E("endobj");var Tt=H();E("<<"),E("/Type /FontDescriptor"),E("/FontName /"+Ie(I.fontName)),E("/FontFile2 "+Ct+" 0 R"),E("/FontBBox "+A.API.PDFObject.convert(I.metadata.bbox)),E("/Flags "+I.metadata.flags),E("/StemV "+I.metadata.stemV),E("/ItalicAngle "+I.metadata.italicAngle),E("/Ascent "+I.metadata.ascender),E("/Descent "+I.metadata.decender),E("/CapHeight "+I.metadata.capHeight),E(">>"),E("endobj");var rt=H();E("<<"),E("/Type /Font"),E("/BaseFont /"+Ie(I.fontName)),E("/FontDescriptor "+Tt+" 0 R"),E("/W "+A.API.PDFObject.convert(st)),E("/CIDToGIDMap /Identity"),E("/DW 1000"),E("/Subtype /CIDFontType2"),E("/CIDSystemInfo"),E("<<"),E("/Supplement 0"),E("/Registry (Adobe)"),E("/Ordering ("+I.encoding+")"),E(">>"),E(">>"),E("endobj"),I.objectNumber=H(),E("<<"),E("/Type /Font"),E("/Subtype /Type0"),E("/ToUnicode "+Bt+" 0 R"),E("/BaseFont /"+Ie(I.fontName)),E("/Encoding /"+I.encoding),E("/DescendantFonts ["+rt+" 0 R]"),E(">>"),E("endobj"),I.isAlreadyPutted=!0}})(w)}]),p.events.push(["putFont",function(w){(function(S){var I=S.font,E=S.out,H=S.newObject,ut=S.putStream;if(I.metadata instanceof A.API.TTFFont&&I.encoding==="WinAnsiEncoding"){for(var st=I.metadata.rawData,bt="",z=0;z<st.length;z++)bt+=String.fromCharCode(st[z]);var Dt=H();ut({data:bt,addLength1:!0,objectId:Dt}),E("endobj");var Ct=H();ut({data:y(I.metadata.toUnicode),addLength1:!0,objectId:Ct}),E("endobj");var Bt=H();E("<<"),E("/Descent "+I.metadata.decender),E("/CapHeight "+I.metadata.capHeight),E("/StemV "+I.metadata.stemV),E("/Type /FontDescriptor"),E("/FontFile2 "+Dt+" 0 R"),E("/Flags 96"),E("/FontBBox "+A.API.PDFObject.convert(I.metadata.bbox)),E("/FontName /"+Ie(I.fontName)),E("/ItalicAngle "+I.metadata.italicAngle),E("/Ascent "+I.metadata.ascender),E(">>"),E("endobj"),I.objectNumber=H();for(var Tt=0;Tt<I.metadata.hmtx.widths.length;Tt++)I.metadata.hmtx.widths[Tt]=parseInt(I.metadata.hmtx.widths[Tt]*(1e3/I.metadata.head.unitsPerEm));E("<</Subtype/TrueType/Type/Font/ToUnicode "+Ct+" 0 R/BaseFont/"+Ie(I.fontName)+"/FontDescriptor "+Bt+" 0 R/Encoding/"+I.encoding+" /FirstChar 29 /LastChar 255 /Widths "+A.API.PDFObject.convert(I.metadata.hmtx.widths)+">>"),E("endobj"),I.isAlreadyPutted=!0}})(w)}]);var _=function(S){var I,E=S.text||"",H=S.x,ut=S.y,st=S.options||{},bt=S.mutex||{},z=bt.pdfEscape,Dt=bt.activeFontKey,Ct=bt.fonts,Bt=Dt,Tt="",rt=0,de="",ke=Ct[Bt].encoding;if(Ct[Bt].encoding!=="Identity-H")return{text:E,x:H,y:ut,options:st,mutex:bt};for(de=E,Bt=Dt,Array.isArray(E)&&(de=E[0]),rt=0;rt<de.length;rt+=1)Ct[Bt].metadata.hasOwnProperty("cmap")&&(I=Ct[Bt].metadata.cmap.unicode.codeMap[de[rt].charCodeAt(0)]),I||de[rt].charCodeAt(0)<256&&Ct[Bt].metadata.hasOwnProperty("Unicode")?Tt+=de[rt]:Tt+="";var Ge="";return parseInt(Bt.slice(1))<14||ke==="WinAnsiEncoding"?Ge=z(Tt,Bt).split("").map(function(nr){return nr.charCodeAt(0).toString(16)}).join(""):ke==="Identity-H"&&(Ge=v(Tt,Ct[Bt])),bt.isHex=!0,{text:Ge,x:H,y:ut,options:st,mutex:bt}};p.events.push(["postProcessText",function(w){var S=w.text||"",I=[],E={text:S,x:w.x,y:w.y,options:w.options,mutex:w.mutex};if(Array.isArray(S)){var H=0;for(H=0;H<S.length;H+=1)Array.isArray(S[H])&&S[H].length===3?I.push([_(Object.assign({},E,{text:S[H][0]})).text,S[H][1],S[H][2]]):I.push(_(Object.assign({},E,{text:S[H]})).text);w.text=I}else w.text=_(Object.assign({},E,{text:S})).text}])}(Z),function(A){var p=function(){return this.internal.vFS===void 0&&(this.internal.vFS={}),!0};A.existsFileInVFS=function(v){return p.call(this),this.internal.vFS[v]!==void 0},A.addFileToVFS=function(v,y){return p.call(this),this.internal.vFS[v]=y,this},A.getFileFromVFS=function(v){return p.call(this),this.internal.vFS[v]!==void 0?this.internal.vFS[v]:null}}(Z.API),function(A){A.__bidiEngine__=A.prototype.__bidiEngine__=function(y){var _,w,S,I,E,H,ut,st=p,bt=[[0,3,0,1,0,0,0],[0,3,0,1,2,2,0],[0,3,0,17,2,0,1],[0,3,5,5,4,1,0],[0,3,21,21,4,0,1],[0,3,5,5,4,2,0]],z=[[2,0,1,1,0,1,0],[2,0,1,1,0,2,0],[2,0,2,1,3,2,0],[2,0,2,33,3,1,1]],Dt={L:0,R:1,EN:2,AN:3,N:4,B:5,S:6},Ct={0:0,5:1,6:2,7:3,32:4,251:5,254:6,255:7},Bt=["(",")","(","<",">","<","[","]","[","{","}","{","\xAB","\xBB","\xAB","\u2039","\u203A","\u2039","\u2045","\u2046","\u2045","\u207D","\u207E","\u207D","\u208D","\u208E","\u208D","\u2264","\u2265","\u2264","\u2329","\u232A","\u2329","\uFE59","\uFE5A","\uFE59","\uFE5B","\uFE5C","\uFE5B","\uFE5D","\uFE5E","\uFE5D","\uFE64","\uFE65","\uFE64"],Tt=new RegExp(/^([1-4|9]|1[0-9]|2[0-9]|3[0168]|4[04589]|5[012]|7[78]|159|16[0-9]|17[0-2]|21[569]|22[03489]|250)$/),rt=!1,de=0;this.__bidiEngine__={};var ke=function(Lt){var Kt=Lt.charCodeAt(),Xt=Kt>>8,qe=Ct[Xt];return qe!==void 0?st[256*qe+(255&Kt)]:Xt===252||Xt===253?"AL":Tt.test(Xt)?"L":Xt===8?"R":"N"},Ge=function(Lt){for(var Kt,Xt=0;Xt<Lt.length;Xt++){if((Kt=ke(Lt.charAt(Xt)))==="L")return!1;if(Kt==="R")return!0}return!1},nr=function(Lt,Kt,Xt,qe){var We,or,Oe,pr,Ye=Kt[qe];switch(Ye){case"L":case"R":rt=!1;break;case"N":case"AN":break;case"EN":rt&&(Ye="AN");break;case"AL":rt=!0,Ye="R";break;case"WS":Ye="N";break;case"CS":qe<1||qe+1>=Kt.length||(We=Xt[qe-1])!=="EN"&&We!=="AN"||(or=Kt[qe+1])!=="EN"&&or!=="AN"?Ye="N":rt&&(or="AN"),Ye=or===We?or:"N";break;case"ES":Ye=(We=qe>0?Xt[qe-1]:"B")==="EN"&&qe+1<Kt.length&&Kt[qe+1]==="EN"?"EN":"N";break;case"ET":if(qe>0&&Xt[qe-1]==="EN"){Ye="EN";break}if(rt){Ye="N";break}for(Oe=qe+1,pr=Kt.length;Oe<pr&&Kt[Oe]==="ET";)Oe++;Ye=Oe<pr&&Kt[Oe]==="EN"?"EN":"N";break;case"NSM":if(S&&!I){for(pr=Kt.length,Oe=qe+1;Oe<pr&&Kt[Oe]==="NSM";)Oe++;if(Oe<pr){var wr=Lt[qe],zt=wr>=1425&&wr<=2303||wr===64286;if(We=Kt[Oe],zt&&(We==="R"||We==="AL")){Ye="R";break}}}Ye=qe<1||(We=Kt[qe-1])==="B"?"N":Xt[qe-1];break;case"B":rt=!1,_=!0,Ye=de;break;case"S":w=!0,Ye="N";break;case"LRE":case"RLE":case"LRO":case"RLO":case"PDF":rt=!1;break;case"BN":Ye="N"}return Ye},Be=function(Lt,Kt,Xt){var qe=Lt.split("");return Xt&&lr(qe,Xt,{hiLevel:de}),qe.reverse(),Kt&&Kt.reverse(),qe.join("")},lr=function(Lt,Kt,Xt){var qe,We,or,Oe,pr,Ye=-1,wr=Lt.length,zt=0,ft=[],jt=de?z:bt,se=[];for(rt=!1,_=!1,w=!1,We=0;We<wr;We++)se[We]=ke(Lt[We]);for(or=0;or<wr;or++){if(pr=zt,ft[or]=nr(Lt,se,ft,or),qe=240&(zt=jt[pr][Dt[ft[or]]]),zt&=15,Kt[or]=Oe=jt[zt][5],qe>0)if(qe===16){for(We=Ye;We<or;We++)Kt[We]=1;Ye=-1}else Ye=-1;if(jt[zt][6])Ye===-1&&(Ye=or);else if(Ye>-1){for(We=Ye;We<or;We++)Kt[We]=Oe;Ye=-1}se[or]==="B"&&(Kt[or]=0),Xt.hiLevel|=Oe}w&&function(ge,Ae,Xe){for(var Me=0;Me<Xe;Me++)if(ge[Me]==="S"){Ae[Me]=de;for(var je=Me-1;je>=0&&ge[je]==="WS";je--)Ae[je]=de}}(se,Kt,wr)},$t=function(Lt,Kt,Xt,qe,We){if(!(We.hiLevel<Lt)){if(Lt===1&&de===1&&!_)return Kt.reverse(),void(Xt&&Xt.reverse());for(var or,Oe,pr,Ye,wr=Kt.length,zt=0;zt<wr;){if(qe[zt]>=Lt){for(pr=zt+1;pr<wr&&qe[pr]>=Lt;)pr++;for(Ye=zt,Oe=pr-1;Ye<Oe;Ye++,Oe--)or=Kt[Ye],Kt[Ye]=Kt[Oe],Kt[Oe]=or,Xt&&(or=Xt[Ye],Xt[Ye]=Xt[Oe],Xt[Oe]=or);zt=pr}zt++}}},ze=function(Lt,Kt,Xt){var qe=Lt.split(""),We={hiLevel:de};return Xt||(Xt=[]),lr(qe,Xt,We),function(or,Oe,pr){if(pr.hiLevel!==0&&ut)for(var Ye,wr=0;wr<or.length;wr++)Oe[wr]===1&&(Ye=Bt.indexOf(or[wr]))>=0&&(or[wr]=Bt[Ye+1])}(qe,Xt,We),$t(2,qe,Kt,Xt,We),$t(1,qe,Kt,Xt,We),qe.join("")};return this.__bidiEngine__.doBidiReorder=function(Gt,Lt,Kt){if(function(qe,We){if(We)for(var or=0;or<qe.length;or++)We[or]=or;I===void 0&&(I=Ge(qe)),H===void 0&&(H=Ge(qe))}(Gt,Lt),S||!E||H)if(S&&E&&I^H)de=I?1:0,Gt=Be(Gt,Lt,Kt);else if(!S&&E&&H)de=I?1:0,Gt=ze(Gt,Lt,Kt),Gt=Be(Gt,Lt);else if(!S||I||E||H){if(S&&!E&&I^H)Gt=Be(Gt,Lt),I?(de=0,Gt=ze(Gt,Lt,Kt)):(de=1,Gt=ze(Gt,Lt,Kt),Gt=Be(Gt,Lt));else if(S&&I&&!E&&H)de=1,Gt=ze(Gt,Lt,Kt),Gt=Be(Gt,Lt);else if(!S&&!E&&I^H){var Xt=ut;I?(de=1,Gt=ze(Gt,Lt,Kt),de=0,ut=!1,Gt=ze(Gt,Lt,Kt),ut=Xt):(de=0,Gt=ze(Gt,Lt,Kt),Gt=Be(Gt,Lt),de=1,ut=!1,Gt=ze(Gt,Lt,Kt),ut=Xt,Gt=Be(Gt,Lt))}}else de=0,Gt=ze(Gt,Lt,Kt);else de=I?1:0,Gt=ze(Gt,Lt,Kt);return Gt},this.__bidiEngine__.setOptions=function(Gt){Gt&&(S=Gt.isInputVisual,E=Gt.isOutputVisual,I=Gt.isInputRtl,H=Gt.isOutputRtl,ut=Gt.isSymmetricSwapping)},this.__bidiEngine__.setOptions(y),this.__bidiEngine__};var p=["BN","BN","BN","BN","BN","BN","BN","BN","BN","S","B","S","WS","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","B","B","B","S","WS","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","BN","BN","BN","BN","BN","BN","B","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","BN","CS","N","ET","ET","ET","ET","N","N","N","N","L","N","N","BN","N","N","ET","ET","EN","EN","N","L","N","N","N","EN","L","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","L","L","L","L","L","L","L","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","L","N","N","N","N","N","ET","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","NSM","R","NSM","NSM","R","NSM","NSM","R","NSM","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","N","N","N","N","N","R","R","R","R","R","N","N","N","N","N","N","N","N","N","N","N","AN","AN","AN","AN","AN","AN","N","N","AL","ET","ET","AL","CS","AL","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","AN","AN","AN","AN","AN","AN","AN","AN","AN","ET","AN","AN","AL","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AN","N","NSM","NSM","NSM","NSM","NSM","NSM","AL","AL","NSM","NSM","N","NSM","NSM","NSM","NSM","AL","AL","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","AL","AL","NSM","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","R","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","R","R","N","N","N","N","R","N","N","N","N","N","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","WS","BN","BN","BN","L","R","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","B","LRE","RLE","PDF","LRO","RLO","CS","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","WS","BN","BN","BN","BN","BN","N","LRI","RLI","FSI","PDI","BN","BN","BN","BN","BN","BN","EN","L","N","N","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","L","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","ES","ES","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","N","N","N","N","N","R","NSM","R","R","R","R","R","R","R","R","R","R","ES","R","R","R","R","R","R","R","R","R","R","R","R","R","N","R","R","R","R","R","N","R","N","R","R","N","R","R","N","R","R","R","R","R","R","R","R","R","R","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","NSM","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","CS","N","CS","N","N","CS","N","N","N","N","N","N","N","N","N","ET","N","N","ES","ES","N","N","N","N","N","ET","ET","N","N","N","N","N","AL","AL","AL","AL","AL","N","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","AL","N","N","BN","N","N","N","ET","ET","ET","N","N","N","N","N","ES","CS","ES","CS","CS","EN","EN","EN","EN","EN","EN","EN","EN","EN","EN","CS","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","N","N","N","N","N","N","N","N","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","L","N","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","L","L","L","N","N","L","L","L","N","N","N","ET","ET","N","N","N","ET","ET","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N","N"],v=new A.__bidiEngine__({isInputVisual:!0});A.API.events.push(["postProcessText",function(y){var _=y.text,w=(y.x,y.y,y.options||{}),S=(y.mutex,w.lang,[]);if(w.isInputVisual=typeof w.isInputVisual!="boolean"||w.isInputVisual,v.setOptions(w),Object.prototype.toString.call(_)==="[object Array]"){var I=0;for(S=[],I=0;I<_.length;I+=1)Object.prototype.toString.call(_[I])==="[object Array]"?S.push([v.doBidiReorder(_[I][0]),_[I][1],_[I][2]]):S.push([v.doBidiReorder(_[I])]);y.text=S}else y.text=v.doBidiReorder(_);v.setOptions({isInputVisual:!0})}])}(Z),Z.API.TTFFont=function(){function A(p){var v;if(this.rawData=p,v=this.contents=new Pt(p),this.contents.pos=4,v.readString(4)==="ttcf")throw new Error("TTCF not supported.");v.pos=0,this.parse(),this.subset=new kn(this),this.registerTTF()}return A.open=function(p){return new A(p)},A.prototype.parse=function(){return this.directory=new q(this.contents),this.head=new It(this),this.name=new er(this),this.cmap=new xe(this),this.toUnicode={},this.hhea=new Ne(this),this.maxp=new Jr(this),this.hmtx=new $r(this),this.post=new Ee(this),this.os2=new Re(this),this.loca=new Yn(this),this.glyf=new _n(this),this.ascender=this.os2.exists&&this.os2.ascender||this.hhea.ascender,this.decender=this.os2.exists&&this.os2.decender||this.hhea.decender,this.lineGap=this.os2.exists&&this.os2.lineGap||this.hhea.lineGap,this.bbox=[this.head.xMin,this.head.yMin,this.head.xMax,this.head.yMax]},A.prototype.registerTTF=function(){var p,v,y,_,w;if(this.scaleFactor=1e3/this.head.unitsPerEm,this.bbox=function(){var S,I,E,H;for(H=[],S=0,I=(E=this.bbox).length;S<I;S++)p=E[S],H.push(Math.round(p*this.scaleFactor));return H}.call(this),this.stemV=0,this.post.exists?(y=255&(_=this.post.italic_angle),(32768&(v=_>>16))!=0&&(v=-(1+(65535^v))),this.italicAngle=+(v+"."+y)):this.italicAngle=0,this.ascender=Math.round(this.ascender*this.scaleFactor),this.decender=Math.round(this.decender*this.scaleFactor),this.lineGap=Math.round(this.lineGap*this.scaleFactor),this.capHeight=this.os2.exists&&this.os2.capHeight||this.ascender,this.xHeight=this.os2.exists&&this.os2.xHeight||0,this.familyClass=(this.os2.exists&&this.os2.familyClass||0)>>8,this.isSerif=(w=this.familyClass)===1||w===2||w===3||w===4||w===5||w===7,this.isScript=this.familyClass===10,this.flags=0,this.post.isFixedPitch&&(this.flags|=1),this.isSerif&&(this.flags|=2),this.isScript&&(this.flags|=8),this.italicAngle!==0&&(this.flags|=64),this.flags|=32,!this.cmap.unicode)throw new Error("No unicode cmap for font")},A.prototype.characterToGlyph=function(p){var v;return((v=this.cmap.unicode)!=null?v.codeMap[p]:void 0)||0},A.prototype.widthOfGlyph=function(p){var v;return v=1e3/this.head.unitsPerEm,this.hmtx.forGlyph(p).advance*v},A.prototype.widthOfString=function(p,v,y){var _,w,S,I;for(S=0,w=0,I=(p=""+p).length;0<=I?w<I:w>I;w=0<=I?++w:--w)_=p.charCodeAt(w),S+=this.widthOfGlyph(this.characterToGlyph(_))+y*(1e3/v)||0;return S*(v/1e3)},A.prototype.lineHeight=function(p,v){var y;return v==null&&(v=!1),y=v?this.lineGap:0,(this.ascender+y-this.decender)/1e3*p},A}();var Rr,Pt=function(){function A(p){this.data=p!=null?p:[],this.pos=0,this.length=this.data.length}return A.prototype.readByte=function(){return this.data[this.pos++]},A.prototype.writeByte=function(p){return this.data[this.pos++]=p},A.prototype.readUInt32=function(){return 16777216*this.readByte()+(this.readByte()<<16)+(this.readByte()<<8)+this.readByte()},A.prototype.writeUInt32=function(p){return this.writeByte(p>>>24&255),this.writeByte(p>>16&255),this.writeByte(p>>8&255),this.writeByte(255&p)},A.prototype.readInt32=function(){var p;return(p=this.readUInt32())>=2147483648?p-4294967296:p},A.prototype.writeInt32=function(p){return p<0&&(p+=4294967296),this.writeUInt32(p)},A.prototype.readUInt16=function(){return this.readByte()<<8|this.readByte()},A.prototype.writeUInt16=function(p){return this.writeByte(p>>8&255),this.writeByte(255&p)},A.prototype.readInt16=function(){var p;return(p=this.readUInt16())>=32768?p-65536:p},A.prototype.writeInt16=function(p){return p<0&&(p+=65536),this.writeUInt16(p)},A.prototype.readString=function(p){var v,y;for(y=[],v=0;0<=p?v<p:v>p;v=0<=p?++v:--v)y[v]=String.fromCharCode(this.readByte());return y.join("")},A.prototype.writeString=function(p){var v,y,_;for(_=[],v=0,y=p.length;0<=y?v<y:v>y;v=0<=y?++v:--v)_.push(this.writeByte(p.charCodeAt(v)));return _},A.prototype.readShort=function(){return this.readInt16()},A.prototype.writeShort=function(p){return this.writeInt16(p)},A.prototype.readLongLong=function(){var p,v,y,_,w,S,I,E;return p=this.readByte(),v=this.readByte(),y=this.readByte(),_=this.readByte(),w=this.readByte(),S=this.readByte(),I=this.readByte(),E=this.readByte(),128&p?-1*(72057594037927940*(255^p)+281474976710656*(255^v)+1099511627776*(255^y)+4294967296*(255^_)+16777216*(255^w)+65536*(255^S)+256*(255^I)+(255^E)+1):72057594037927940*p+281474976710656*v+1099511627776*y+4294967296*_+16777216*w+65536*S+256*I+E},A.prototype.writeLongLong=function(p){var v,y;return v=Math.floor(p/4294967296),y=4294967295&p,this.writeByte(v>>24&255),this.writeByte(v>>16&255),this.writeByte(v>>8&255),this.writeByte(255&v),this.writeByte(y>>24&255),this.writeByte(y>>16&255),this.writeByte(y>>8&255),this.writeByte(255&y)},A.prototype.readInt=function(){return this.readInt32()},A.prototype.writeInt=function(p){return this.writeInt32(p)},A.prototype.read=function(p){var v,y;for(v=[],y=0;0<=p?y<p:y>p;y=0<=p?++y:--y)v.push(this.readByte());return v},A.prototype.write=function(p){var v,y,_,w;for(w=[],y=0,_=p.length;y<_;y++)v=p[y],w.push(this.writeByte(v));return w},A}(),q=function(){var A;function p(v){var y,_,w;for(this.scalarType=v.readInt(),this.tableCount=v.readShort(),this.searchRange=v.readShort(),this.entrySelector=v.readShort(),this.rangeShift=v.readShort(),this.tables={},_=0,w=this.tableCount;0<=w?_<w:_>w;_=0<=w?++_:--_)y={tag:v.readString(4),checksum:v.readInt(),offset:v.readInt(),length:v.readInt()},this.tables[y.tag]=y}return p.prototype.encode=function(v){var y,_,w,S,I,E,H,ut,st,bt,z,Dt,Ct;for(Ct in z=Object.keys(v).length,E=Math.log(2),st=16*Math.floor(Math.log(z)/E),S=Math.floor(st/E),ut=16*z-st,(_=new Pt).writeInt(this.scalarType),_.writeShort(z),_.writeShort(st),_.writeShort(S),_.writeShort(ut),w=16*z,H=_.pos+w,I=null,Dt=[],v)for(bt=v[Ct],_.writeString(Ct),_.writeInt(A(bt)),_.writeInt(H),_.writeInt(bt.length),Dt=Dt.concat(bt),Ct==="head"&&(I=H),H+=bt.length;H%4;)Dt.push(0),H++;return _.write(Dt),y=2981146554-A(_.data),_.pos=I+8,_.writeUInt32(y),_.data},A=function(y){var _,w,S,I;for(y=Br.call(y);y.length%4;)y.push(0);for(S=new Pt(y),w=0,_=0,I=y.length;_<I;_=_+=4)w+=S.readUInt32();return 4294967295&w},p}(),G={}.hasOwnProperty,wt=function(p,v){for(var y in v)G.call(v,y)&&(p[y]=v[y]);function _(){this.constructor=p}return _.prototype=v.prototype,p.prototype=new _,p.__super__=v.prototype,p};Rr=function(){function A(p){var v;this.file=p,v=this.file.directory.tables[this.tag],this.exists=!!v,v&&(this.offset=v.offset,this.length=v.length,this.parse(this.file.contents))}return A.prototype.parse=function(){},A.prototype.encode=function(){},A.prototype.raw=function(){return this.exists?(this.file.contents.pos=this.offset,this.file.contents.read(this.length)):null},A}();var It=function(A){function p(){return p.__super__.constructor.apply(this,arguments)}return wt(p,Rr),p.prototype.tag="head",p.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.revision=v.readInt(),this.checkSumAdjustment=v.readInt(),this.magicNumber=v.readInt(),this.flags=v.readShort(),this.unitsPerEm=v.readShort(),this.created=v.readLongLong(),this.modified=v.readLongLong(),this.xMin=v.readShort(),this.yMin=v.readShort(),this.xMax=v.readShort(),this.yMax=v.readShort(),this.macStyle=v.readShort(),this.lowestRecPPEM=v.readShort(),this.fontDirectionHint=v.readShort(),this.indexToLocFormat=v.readShort(),this.glyphDataFormat=v.readShort()},p.prototype.encode=function(v){var y;return(y=new Pt).writeInt(this.version),y.writeInt(this.revision),y.writeInt(this.checkSumAdjustment),y.writeInt(this.magicNumber),y.writeShort(this.flags),y.writeShort(this.unitsPerEm),y.writeLongLong(this.created),y.writeLongLong(this.modified),y.writeShort(this.xMin),y.writeShort(this.yMin),y.writeShort(this.xMax),y.writeShort(this.yMax),y.writeShort(this.macStyle),y.writeShort(this.lowestRecPPEM),y.writeShort(this.fontDirectionHint),y.writeShort(v),y.writeShort(this.glyphDataFormat),y.data},p}(),Jt=function(){function A(p,v){var y,_,w,S,I,E,H,ut,st,bt,z,Dt,Ct,Bt,Tt,rt,de;switch(this.platformID=p.readUInt16(),this.encodingID=p.readShort(),this.offset=v+p.readInt(),st=p.pos,p.pos=this.offset,this.format=p.readUInt16(),this.length=p.readUInt16(),this.language=p.readUInt16(),this.isUnicode=this.platformID===3&&this.encodingID===1&&this.format===4||this.platformID===0&&this.format===4,this.codeMap={},this.format){case 0:for(E=0;E<256;++E)this.codeMap[E]=p.readByte();break;case 4:for(z=p.readUInt16(),bt=z/2,p.pos+=6,w=function(){var ke,Ge;for(Ge=[],E=ke=0;0<=bt?ke<bt:ke>bt;E=0<=bt?++ke:--ke)Ge.push(p.readUInt16());return Ge}(),p.pos+=2,Ct=function(){var ke,Ge;for(Ge=[],E=ke=0;0<=bt?ke<bt:ke>bt;E=0<=bt?++ke:--ke)Ge.push(p.readUInt16());return Ge}(),H=function(){var ke,Ge;for(Ge=[],E=ke=0;0<=bt?ke<bt:ke>bt;E=0<=bt?++ke:--ke)Ge.push(p.readUInt16());return Ge}(),ut=function(){var ke,Ge;for(Ge=[],E=ke=0;0<=bt?ke<bt:ke>bt;E=0<=bt?++ke:--ke)Ge.push(p.readUInt16());return Ge}(),_=(this.length-p.pos+this.offset)/2,I=function(){var ke,Ge;for(Ge=[],E=ke=0;0<=_?ke<_:ke>_;E=0<=_?++ke:--ke)Ge.push(p.readUInt16());return Ge}(),E=Tt=0,de=w.length;Tt<de;E=++Tt)for(Bt=w[E],y=rt=Dt=Ct[E];Dt<=Bt?rt<=Bt:rt>=Bt;y=Dt<=Bt?++rt:--rt)ut[E]===0?S=y+H[E]:(S=I[ut[E]/2+(y-Dt)-(bt-E)]||0)!==0&&(S+=H[E]),this.codeMap[y]=65535&S}p.pos=st}return A.encode=function(p,v){var y,_,w,S,I,E,H,ut,st,bt,z,Dt,Ct,Bt,Tt,rt,de,ke,Ge,nr,Be,lr,$t,ze,Gt,Lt,Kt,Xt,qe,We,or,Oe,pr,Ye,wr,zt,ft,jt,se,ge,Ae,Xe,Me,je,ur,zr;switch(Xt=new Pt,S=Object.keys(p).sort(function(Cr,en){return Cr-en}),v){case"macroman":for(Ct=0,Bt=function(){var Cr=[];for(Dt=0;Dt<256;++Dt)Cr.push(0);return Cr}(),rt={0:0},w={},qe=0,pr=S.length;qe<pr;qe++)rt[Me=p[_=S[qe]]]==null&&(rt[Me]=++Ct),w[_]={old:p[_],new:rt[p[_]]},Bt[_]=rt[p[_]];return Xt.writeUInt16(1),Xt.writeUInt16(0),Xt.writeUInt32(12),Xt.writeUInt16(0),Xt.writeUInt16(262),Xt.writeUInt16(0),Xt.write(Bt),{charMap:w,subtable:Xt.data,maxGlyphID:Ct+1};case"unicode":for(Lt=[],st=[],de=0,rt={},y={},Tt=H=null,We=0,Ye=S.length;We<Ye;We++)rt[Ge=p[_=S[We]]]==null&&(rt[Ge]=++de),y[_]={old:Ge,new:rt[Ge]},I=rt[Ge]-_,Tt!=null&&I===H||(Tt&&st.push(Tt),Lt.push(_),H=I),Tt=_;for(Tt&&st.push(Tt),st.push(65535),Lt.push(65535),ze=2*($t=Lt.length),lr=2*Math.pow(Math.log($t)/Math.LN2,2),bt=Math.log(lr/2)/Math.LN2,Be=2*$t-lr,E=[],nr=[],z=[],Dt=or=0,wr=Lt.length;or<wr;Dt=++or){if(Gt=Lt[Dt],ut=st[Dt],Gt===65535){E.push(0),nr.push(0);break}if(Gt-(Kt=y[Gt].new)>=32768)for(E.push(0),nr.push(2*(z.length+$t-Dt)),_=Oe=Gt;Gt<=ut?Oe<=ut:Oe>=ut;_=Gt<=ut?++Oe:--Oe)z.push(y[_].new);else E.push(Kt-Gt),nr.push(0)}for(Xt.writeUInt16(3),Xt.writeUInt16(1),Xt.writeUInt32(12),Xt.writeUInt16(4),Xt.writeUInt16(16+8*$t+2*z.length),Xt.writeUInt16(0),Xt.writeUInt16(ze),Xt.writeUInt16(lr),Xt.writeUInt16(bt),Xt.writeUInt16(Be),Ae=0,zt=st.length;Ae<zt;Ae++)_=st[Ae],Xt.writeUInt16(_);for(Xt.writeUInt16(0),Xe=0,ft=Lt.length;Xe<ft;Xe++)_=Lt[Xe],Xt.writeUInt16(_);for(je=0,jt=E.length;je<jt;je++)I=E[je],Xt.writeUInt16(I);for(ur=0,se=nr.length;ur<se;ur++)ke=nr[ur],Xt.writeUInt16(ke);for(zr=0,ge=z.length;zr<ge;zr++)Ct=z[zr],Xt.writeUInt16(Ct);return{charMap:y,subtable:Xt.data,maxGlyphID:de+1}}},A}(),xe=function(A){function p(){return p.__super__.constructor.apply(this,arguments)}return wt(p,Rr),p.prototype.tag="cmap",p.prototype.parse=function(v){var y,_,w;for(v.pos=this.offset,this.version=v.readUInt16(),w=v.readUInt16(),this.tables=[],this.unicode=null,_=0;0<=w?_<w:_>w;_=0<=w?++_:--_)y=new Jt(v,this.offset),this.tables.push(y),y.isUnicode&&this.unicode==null&&(this.unicode=y);return!0},p.encode=function(v,y){var _,w;return y==null&&(y="macroman"),_=Jt.encode(v,y),(w=new Pt).writeUInt16(0),w.writeUInt16(1),_.table=w.data.concat(_.subtable),_},p}(),Ne=function(A){function p(){return p.__super__.constructor.apply(this,arguments)}return wt(p,Rr),p.prototype.tag="hhea",p.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.ascender=v.readShort(),this.decender=v.readShort(),this.lineGap=v.readShort(),this.advanceWidthMax=v.readShort(),this.minLeftSideBearing=v.readShort(),this.minRightSideBearing=v.readShort(),this.xMaxExtent=v.readShort(),this.caretSlopeRise=v.readShort(),this.caretSlopeRun=v.readShort(),this.caretOffset=v.readShort(),v.pos+=8,this.metricDataFormat=v.readShort(),this.numberOfMetrics=v.readUInt16()},p}(),Re=function(A){function p(){return p.__super__.constructor.apply(this,arguments)}return wt(p,Rr),p.prototype.tag="OS/2",p.prototype.parse=function(v){if(v.pos=this.offset,this.version=v.readUInt16(),this.averageCharWidth=v.readShort(),this.weightClass=v.readUInt16(),this.widthClass=v.readUInt16(),this.type=v.readShort(),this.ySubscriptXSize=v.readShort(),this.ySubscriptYSize=v.readShort(),this.ySubscriptXOffset=v.readShort(),this.ySubscriptYOffset=v.readShort(),this.ySuperscriptXSize=v.readShort(),this.ySuperscriptYSize=v.readShort(),this.ySuperscriptXOffset=v.readShort(),this.ySuperscriptYOffset=v.readShort(),this.yStrikeoutSize=v.readShort(),this.yStrikeoutPosition=v.readShort(),this.familyClass=v.readShort(),this.panose=function(){var y,_;for(_=[],y=0;y<10;++y)_.push(v.readByte());return _}(),this.charRange=function(){var y,_;for(_=[],y=0;y<4;++y)_.push(v.readInt());return _}(),this.vendorID=v.readString(4),this.selection=v.readShort(),this.firstCharIndex=v.readShort(),this.lastCharIndex=v.readShort(),this.version>0&&(this.ascent=v.readShort(),this.descent=v.readShort(),this.lineGap=v.readShort(),this.winAscent=v.readShort(),this.winDescent=v.readShort(),this.codePageRange=function(){var y,_;for(_=[],y=0;y<2;y=++y)_.push(v.readInt());return _}(),this.version>1))return this.xHeight=v.readShort(),this.capHeight=v.readShort(),this.defaultChar=v.readShort(),this.breakChar=v.readShort(),this.maxContext=v.readShort()},p}(),Ee=function(A){function p(){return p.__super__.constructor.apply(this,arguments)}return wt(p,Rr),p.prototype.tag="post",p.prototype.parse=function(v){var y,_,w;switch(v.pos=this.offset,this.format=v.readInt(),this.italicAngle=v.readInt(),this.underlinePosition=v.readShort(),this.underlineThickness=v.readShort(),this.isFixedPitch=v.readInt(),this.minMemType42=v.readInt(),this.maxMemType42=v.readInt(),this.minMemType1=v.readInt(),this.maxMemType1=v.readInt(),this.format){case 65536:break;case 131072:var S;for(_=v.readUInt16(),this.glyphNameIndex=[],S=0;0<=_?S<_:S>_;S=0<=_?++S:--S)this.glyphNameIndex.push(v.readUInt16());for(this.names=[],w=[];v.pos<this.offset+this.length;)y=v.readByte(),w.push(this.names.push(v.readString(y)));return w;case 151552:return _=v.readUInt16(),this.offsets=v.read(_);case 196608:break;case 262144:return this.map=function(){var I,E,H;for(H=[],S=I=0,E=this.file.maxp.numGlyphs;0<=E?I<E:I>E;S=0<=E?++I:--I)H.push(v.readUInt32());return H}.call(this)}},p}(),fr=function(p,v){this.raw=p,this.length=p.length,this.platformID=v.platformID,this.encodingID=v.encodingID,this.languageID=v.languageID},er=function(A){function p(){return p.__super__.constructor.apply(this,arguments)}return wt(p,Rr),p.prototype.tag="name",p.prototype.parse=function(v){var y,_,w,S,I,E,H,ut,st,bt,z;for(v.pos=this.offset,v.readShort(),y=v.readShort(),E=v.readShort(),_=[],S=0;0<=y?S<y:S>y;S=0<=y?++S:--S)_.push({platformID:v.readShort(),encodingID:v.readShort(),languageID:v.readShort(),nameID:v.readShort(),length:v.readShort(),offset:this.offset+E+v.readShort()});for(H={},S=st=0,bt=_.length;st<bt;S=++st)w=_[S],v.pos=w.offset,ut=v.readString(w.length),I=new fr(ut,w),H[z=w.nameID]==null&&(H[z]=[]),H[w.nameID].push(I);this.strings=H,this.copyright=H[0],this.fontFamily=H[1],this.fontSubfamily=H[2],this.uniqueSubfamily=H[3],this.fontName=H[4],this.version=H[5];try{this.postscriptName=H[6][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}catch(Dt){this.postscriptName=H[4][0].raw.replace(/[\x00-\x19\x80-\xff]/g,"")}return this.trademark=H[7],this.manufacturer=H[8],this.designer=H[9],this.description=H[10],this.vendorUrl=H[11],this.designerUrl=H[12],this.license=H[13],this.licenseUrl=H[14],this.preferredFamily=H[15],this.preferredSubfamily=H[17],this.compatibleFull=H[18],this.sampleText=H[19]},p}(),Jr=function(A){function p(){return p.__super__.constructor.apply(this,arguments)}return wt(p,Rr),p.prototype.tag="maxp",p.prototype.parse=function(v){return v.pos=this.offset,this.version=v.readInt(),this.numGlyphs=v.readUInt16(),this.maxPoints=v.readUInt16(),this.maxContours=v.readUInt16(),this.maxCompositePoints=v.readUInt16(),this.maxComponentContours=v.readUInt16(),this.maxZones=v.readUInt16(),this.maxTwilightPoints=v.readUInt16(),this.maxStorage=v.readUInt16(),this.maxFunctionDefs=v.readUInt16(),this.maxInstructionDefs=v.readUInt16(),this.maxStackElements=v.readUInt16(),this.maxSizeOfInstructions=v.readUInt16(),this.maxComponentElements=v.readUInt16(),this.maxComponentDepth=v.readUInt16()},p}(),$r=function(A){function p(){return p.__super__.constructor.apply(this,arguments)}return wt(p,Rr),p.prototype.tag="hmtx",p.prototype.parse=function(v){var y,_,w,S,I,E,H;for(v.pos=this.offset,this.metrics=[],y=0,E=this.file.hhea.numberOfMetrics;0<=E?y<E:y>E;y=0<=E?++y:--y)this.metrics.push({advance:v.readUInt16(),lsb:v.readInt16()});for(w=this.file.maxp.numGlyphs-this.file.hhea.numberOfMetrics,this.leftSideBearings=function(){var ut,st;for(st=[],y=ut=0;0<=w?ut<w:ut>w;y=0<=w?++ut:--ut)st.push(v.readInt16());return st}(),this.widths=function(){var ut,st,bt,z;for(z=[],ut=0,st=(bt=this.metrics).length;ut<st;ut++)S=bt[ut],z.push(S.advance);return z}.call(this),_=this.widths[this.widths.length-1],H=[],y=I=0;0<=w?I<w:I>w;y=0<=w?++I:--I)H.push(this.widths.push(_));return H},p.prototype.forGlyph=function(v){return v in this.metrics?this.metrics[v]:{advance:this.metrics[this.metrics.length-1].advance,lsb:this.leftSideBearings[v-this.metrics.length]}},p}(),Br=[].slice,_n=function(A){function p(){return p.__super__.constructor.apply(this,arguments)}return wt(p,Rr),p.prototype.tag="glyf",p.prototype.parse=function(){return this.cache={}},p.prototype.glyphFor=function(v){var y,_,w,S,I,E,H,ut,st,bt;return v in this.cache?this.cache[v]:(S=this.file.loca,y=this.file.contents,_=S.indexOf(v),(w=S.lengthOf(v))===0?this.cache[v]=null:(y.pos=this.offset+_,I=(E=new Pt(y.read(w))).readShort(),ut=E.readShort(),bt=E.readShort(),H=E.readShort(),st=E.readShort(),this.cache[v]=I===-1?new vn(E,ut,bt,H,st):new Qr(E,I,ut,bt,H,st),this.cache[v]))},p.prototype.encode=function(v,y,_){var w,S,I,E,H;for(I=[],S=[],E=0,H=y.length;E<H;E++)w=v[y[E]],S.push(I.length),w&&(I=I.concat(w.encode(_)));return S.push(I.length),{table:I,offsets:S}},p}(),Qr=function(){function A(p,v,y,_,w,S){this.raw=p,this.numberOfContours=v,this.xMin=y,this.yMin=_,this.xMax=w,this.yMax=S,this.compound=!1}return A.prototype.encode=function(){return this.raw.data},A}(),vn=function(){function A(p,v,y,_,w){var S,I;for(this.raw=p,this.xMin=v,this.yMin=y,this.xMax=_,this.yMax=w,this.compound=!0,this.glyphIDs=[],this.glyphOffsets=[],S=this.raw;I=S.readShort(),this.glyphOffsets.push(S.pos),this.glyphIDs.push(S.readUInt16()),32&I;)S.pos+=1&I?4:2,128&I?S.pos+=8:64&I?S.pos+=4:8&I&&(S.pos+=2)}return A.prototype.encode=function(){var p,v,y;for(v=new Pt(Br.call(this.raw.data)),p=0,y=this.glyphIDs.length;p<y;++p)v.pos=this.glyphOffsets[p];return v.data},A}(),Yn=function(A){function p(){return p.__super__.constructor.apply(this,arguments)}return wt(p,Rr),p.prototype.tag="loca",p.prototype.parse=function(v){var y,_;return v.pos=this.offset,y=this.file.head.indexToLocFormat,this.offsets=y===0?function(){var w,S;for(S=[],_=0,w=this.length;_<w;_+=2)S.push(2*v.readUInt16());return S}.call(this):function(){var w,S;for(S=[],_=0,w=this.length;_<w;_+=4)S.push(v.readUInt32());return S}.call(this)},p.prototype.indexOf=function(v){return this.offsets[v]},p.prototype.lengthOf=function(v){return this.offsets[v+1]-this.offsets[v]},p.prototype.encode=function(v,y){for(var _=new Uint32Array(this.offsets.length),w=0,S=0,I=0;I<_.length;++I)if(_[I]=w,S<y.length&&y[S]==I){++S,_[I]=w;var E=this.offsets[I],H=this.offsets[I+1]-E;H>0&&(w+=H)}for(var ut=new Array(4*_.length),st=0;st<_.length;++st)ut[4*st+3]=255&_[st],ut[4*st+2]=(65280&_[st])>>8,ut[4*st+1]=(16711680&_[st])>>16,ut[4*st]=(4278190080&_[st])>>24;return ut},p}(),kn=function(){function A(p){this.font=p,this.subset={},this.unicodes={},this.next=33}return A.prototype.generateCmap=function(){var p,v,y,_,w;for(v in _=this.font.cmap.tables[0].codeMap,p={},w=this.subset)y=w[v],p[v]=_[y];return p},A.prototype.glyphsFor=function(p){var v,y,_,w,S,I,E;for(_={},S=0,I=p.length;S<I;S++)_[w=p[S]]=this.font.glyf.glyphFor(w);for(w in v=[],_)((y=_[w])!=null?y.compound:void 0)&&v.push.apply(v,y.glyphIDs);if(v.length>0)for(w in E=this.glyphsFor(v))y=E[w],_[w]=y;return _},A.prototype.encode=function(p,v){var y,_,w,S,I,E,H,ut,st,bt,z,Dt,Ct,Bt,Tt;for(_ in y=xe.encode(this.generateCmap(),"unicode"),S=this.glyphsFor(p),z={0:0},Tt=y.charMap)z[(E=Tt[_]).old]=E.new;for(Dt in bt=y.maxGlyphID,S)Dt in z||(z[Dt]=bt++);return ut=function(rt){var de,ke;for(de in ke={},rt)ke[rt[de]]=de;return ke}(z),st=Object.keys(ut).sort(function(rt,de){return rt-de}),Ct=function(){var rt,de,ke;for(ke=[],rt=0,de=st.length;rt<de;rt++)I=st[rt],ke.push(ut[I]);return ke}(),w=this.font.glyf.encode(S,Ct,z),H=this.font.loca.encode(w.offsets,Ct),Bt={cmap:this.font.cmap.raw(),glyf:w.table,loca:H,hmtx:this.font.hmtx.raw(),hhea:this.font.hhea.raw(),maxp:this.font.maxp.raw(),post:this.font.post.raw(),name:this.font.name.raw(),head:this.font.head.encode(v)},this.font.os2.exists&&(Bt["OS/2"]=this.font.os2.raw()),this.font.directory.encode(Bt)},A}();Z.API.PDFObject=function(){var A;function p(){}return A=function(y,_){return(Array(_+1).join("0")+y).slice(-_)},p.convert=function(v){var y,_,w,S;if(Array.isArray(v))return"["+function(){var I,E,H;for(H=[],I=0,E=v.length;I<E;I++)y=v[I],H.push(p.convert(y));return H}().join(" ")+"]";if(typeof v=="string")return"/"+v;if(v!=null?v.isString:void 0)return"("+v+")";if(v instanceof Date)return"(D:"+A(v.getUTCFullYear(),4)+A(v.getUTCMonth(),2)+A(v.getUTCDate(),2)+A(v.getUTCHours(),2)+A(v.getUTCMinutes(),2)+A(v.getUTCSeconds(),2)+"Z)";if({}.toString.call(v)==="[object Object]"){for(_ in w=["<<"],v)S=v[_],w.push("/"+_+" "+p.convert(S));return w.push(">>"),w.join(`
`)}return""+v},p}(),hr.d=Z}).call(this,Te("IyRk"))},"kVK+":function(on,hr){/*! ieee754. BSD-3-Clause License. Feross Aboukhadijeh <https://feross.org/opensource> */hr.read=function(Te,ar,C,Ut,nt){var ve,Ce,_t=nt*8-Ut-1,L=(1<<_t)-1,a=L>>1,f=-7,h=C?nt-1:0,l=C?-1:1,n=Te[ar+h];for(h+=l,ve=n&(1<<-f)-1,n>>=-f,f+=_t;f>0;ve=ve*256+Te[ar+h],h+=l,f-=8);for(Ce=ve&(1<<-f)-1,ve>>=-f,f+=Ut;f>0;Ce=Ce*256+Te[ar+h],h+=l,f-=8);if(ve===0)ve=1-a;else{if(ve===L)return Ce?NaN:(n?-1:1)*Infinity;Ce=Ce+Math.pow(2,Ut),ve=ve-a}return(n?-1:1)*Ce*Math.pow(2,ve-Ut)},hr.write=function(Te,ar,C,Ut,nt,ve){var Ce,_t,L,a=ve*8-nt-1,f=(1<<a)-1,h=f>>1,l=nt===23?Math.pow(2,-24)-Math.pow(2,-77):0,n=Ut?0:ve-1,e=Ut?1:-1,r=ar<0||ar===0&&1/ar<0?1:0;for(ar=Math.abs(ar),isNaN(ar)||ar===Infinity?(_t=isNaN(ar)?1:0,Ce=f):(Ce=Math.floor(Math.log(ar)/Math.LN2),ar*(L=Math.pow(2,-Ce))<1&&(Ce--,L*=2),Ce+h>=1?ar+=l/L:ar+=l*Math.pow(2,1-h),ar*L>=2&&(Ce++,L/=2),Ce+h>=f?(_t=0,Ce=f):Ce+h>=1?(_t=(ar*L-1)*Math.pow(2,nt),Ce=Ce+h):(_t=ar*Math.pow(2,h-1)*Math.pow(2,nt),Ce=0));nt>=8;Te[C+n]=_t&255,n+=e,_t/=256,nt-=8);for(Ce=Ce<<nt|_t,a+=nt;a>0;Te[C+n]=Ce&255,n+=e,Ce/=256,a-=8);Te[C+n-e]|=r*128}},nhC9:function(on,hr,Te){"use strict";var ar=Te("wx14"),C=Te("q1tI"),Ut=Te.n(C),nt=Te("Znn+"),ve=Te("ZTPi"),Ce=Te("VTBJ"),_t=Te("rePB"),L=Te("U8pU"),a=Te("ODXe"),f=Te("GNNt"),h=Te("wEI+"),l=Te("Ff2n"),n=Te("1GLa"),e=Te("TLLU"),r=Te("UESt"),i=Te("6cGi"),u=Te("YSkC"),o=Te("TSYQ"),d=Te.n(o),b=Te("BGR+"),T=Te("14J3"),O=Te("BMrR"),Y=Te("jCWc"),et=Te("kPKH"),yt=Te("aK+R"),Zt=function(re){var Vt=re.style,Ht=re.prefix;return Ut.a.createElement("div",{className:"".concat(Ht,"-loading-content"),style:Vt},Ut.a.createElement(O.a,{gutter:8},Ut.a.createElement(et.a,{span:22},Ut.a.createElement("div",{className:"".concat(Ht,"-loading-block")}))),Ut.a.createElement(O.a,{gutter:8},Ut.a.createElement(et.a,{span:8},Ut.a.createElement("div",{className:"".concat(Ht,"-loading-block")})),Ut.a.createElement(et.a,{span:15},Ut.a.createElement("div",{className:"".concat(Ht,"-loading-block")}))),Ut.a.createElement(O.a,{gutter:8},Ut.a.createElement(et.a,{span:6},Ut.a.createElement("div",{className:"".concat(Ht,"-loading-block")})),Ut.a.createElement(et.a,{span:18},Ut.a.createElement("div",{className:"".concat(Ht,"-loading-block")}))),Ut.a.createElement(O.a,{gutter:8},Ut.a.createElement(et.a,{span:13},Ut.a.createElement("div",{className:"".concat(Ht,"-loading-block")})),Ut.a.createElement(et.a,{span:9},Ut.a.createElement("div",{className:"".concat(Ht,"-loading-block")}))),Ut.a.createElement(O.a,{gutter:8},Ut.a.createElement(et.a,{span:4},Ut.a.createElement("div",{className:"".concat(Ht,"-loading-block")})),Ut.a.createElement(et.a,{span:3},Ut.a.createElement("div",{className:"".concat(Ht,"-loading-block")})),Ut.a.createElement(et.a,{span:16},Ut.a.createElement("div",{className:"".concat(Ht,"-loading-block")}))))},fe=Zt,Ue=Te("S76h"),sr=function(re){var Vt=re.actions,Ht=re.prefixCls;return Array.isArray(Vt)&&(Vt==null?void 0:Vt.length)?Ut.a.createElement("ul",{className:"".concat(Ht,"-actions")},Vt.map(function(Nt,te){return Ut.a.createElement("li",{style:{width:"".concat(100/Vt.length,"%")},key:"action-".concat(te)},Ut.a.createElement("span",null,Nt))})):Vt?Ut.a.createElement("ul",{className:"".concat(Ht,"-actions")},Vt):null},cr=sr,Ke=Te("df8c"),Ie=["className","style","bodyStyle","headStyle","title","subTitle","extra","tip","wrap","layout","loading","gutter","tooltip","split","headerBordered","bordered","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","collapsibleIconRender","defaultCollapsed","onCollapse","checked","onChecked","tabs","type"],gr=e.a.useBreakpoint,kr=Ut.a.forwardRef(function(Et,re){var Vt,Ht,Nt,te=Et.className,oe=Et.style,Pe=Et.bodyStyle,K=Pe===void 0?{}:Pe,F=Et.headStyle,D=F===void 0?{}:F,it=Et.title,vt=Et.subTitle,ee=Et.extra,he=Et.tip,yr=Et.wrap,Er=yr===void 0?!1:yr,mr=Et.layout,xr=Et.loading,_r=Et.gutter,Kr=_r===void 0?0:_r,ln=Et.tooltip,bn=Et.split,Un=Et.headerBordered,$n=Un===void 0?!1:Un,Sn=Et.bordered,Gn=Sn===void 0?!1:Sn,di=Et.children,Si=Et.size,Ni=Et.actions,ei=Et.ghost,Ia=ei===void 0?!1:ei,Nr=Et.hoverable,na=Nr===void 0?!1:Nr,Ds=Et.direction,Qa=Et.collapsed,Rs=Et.collapsible,vs=Rs===void 0?!1:Rs,ia=Et.collapsibleIconRender,ms=Et.defaultCollapsed,Bs=ms===void 0?!1:ms,Da=Et.onCollapse,Ra=Et.checked,js=Et.onChecked,Ba=Et.tabs,ba=Et.type,Ki=Object(l.a)(Et,Ie),Us=Object(C.useContext)(h.default.ConfigContext),lo=Us.getPrefixCls,ja=gr(),wa=Object(i.a)(Bs,{value:Qa,onChange:Da}),zs=Object(a.a)(wa,2),ts=zs[0],W=zs[1],N=["xxl","xl","lg","md","sm","xs"],x=function(xe){var Ne=[0,0],Re=Array.isArray(xe)?xe:[xe,0];return Re.forEach(function(Ee,fr){if(Object(L.a)(Ee)==="object")for(var er=0;er<N.length;er+=1){var Jr=N[er];if(ja[Jr]&&Ee[Jr]!==void 0){Ne[fr]=Ee[Jr];break}}else Ne[fr]=Ee||0}),Ne},j=function(xe,Ne){return xe?Ne:{}},V=function(xe){var Ne=xe;if(Object(L.a)(xe)==="object")for(var Re=0;Re<N.length;Re+=1){var Ee=N[Re];if(ja[Ee]&&xe[Ee]!==void 0){Ne=xe[Ee];break}}var fr=j(typeof Ne=="string"&&/\d%|\dpx/i.test(Ne),{width:Ne,flexShrink:0});return{span:Ne,colSpanStyle:fr}},ht=lo("pro-card"),kt=x(Kr),Mt=Object(a.a)(kt,2),ae=Mt[0],we=Mt[1],qt=!1,Le=Ut.a.Children.toArray(di),Rr=Le.map(function(Jt,xe){var Ne;if(Jt==null||(Ne=Jt.type)===null||Ne===void 0?void 0:Ne.isProCard){var Re;qt=!0;var Ee=Jt.props.colSpan,fr=V(Ee),er=fr.span,Jr=fr.colSpanStyle,$r=d()(["".concat(ht,"-col")],(Re={},Object(_t.a)(Re,"".concat(ht,"-split-vertical"),bn==="vertical"&&xe!==Le.length-1),Object(_t.a)(Re,"".concat(ht,"-split-horizontal"),bn==="horizontal"&&xe!==Le.length-1),Object(_t.a)(Re,"".concat(ht,"-col-").concat(er),typeof er=="number"&&er>=0&&er<=24),Re));return Ut.a.createElement("div",{style:Object(Ce.a)(Object(Ce.a)(Object(Ce.a)({},Jr),j(ae>0,{paddingRight:ae/2,paddingLeft:ae/2})),j(we>0,{paddingTop:we/2,paddingBottom:we/2})),key:"pro-card-col-".concat((Jt==null?void 0:Jt.key)||xe),className:$r},Ut.a.cloneElement(Jt))}return Jt}),Pt=d()("".concat(ht),te,(Vt={},Object(_t.a)(Vt,"".concat(ht,"-border"),Gn),Object(_t.a)(Vt,"".concat(ht,"-contain-card"),qt),Object(_t.a)(Vt,"".concat(ht,"-loading"),xr),Object(_t.a)(Vt,"".concat(ht,"-split"),bn==="vertical"||bn==="horizontal"),Object(_t.a)(Vt,"".concat(ht,"-ghost"),Ia),Object(_t.a)(Vt,"".concat(ht,"-hoverable"),na),Object(_t.a)(Vt,"".concat(ht,"-size-").concat(Si),Si),Object(_t.a)(Vt,"".concat(ht,"-type-").concat(ba),ba),Object(_t.a)(Vt,"".concat(ht,"-collapse"),ts),Object(_t.a)(Vt,"".concat(ht,"-checked"),Ra),Vt)),q=d()("".concat(ht,"-body"),(Ht={},Object(_t.a)(Ht,"".concat(ht,"-body-center"),mr==="center"),Object(_t.a)(Ht,"".concat(ht,"-body-direction-column"),bn==="horizontal"||Ds==="column"),Object(_t.a)(Ht,"".concat(ht,"-body-wrap"),Er&&qt),Ht)),G=Object(Ce.a)(Object(Ce.a)(Object(Ce.a)({},j(ae>0,{marginRight:-ae/2,marginLeft:-ae/2})),j(we>0,{marginTop:-we/2,marginBottom:-we/2})),K),wt=Ut.a.isValidElement(xr)?xr:Ut.a.createElement(fe,{prefix:ht,style:K.padding===0||K.padding==="0px"?{padding:24}:void 0}),It=vs&&Qa===void 0&&(ia?ia({collapsed:ts}):Ut.a.createElement(r.a,{rotate:ts?void 0:90,className:"".concat(ht,"-collapsible-icon")}));return Ut.a.createElement("div",Object(ar.a)({className:Pt,style:oe,ref:re,onClick:function(xe){var Ne;js==null||js(xe),Ki==null||(Ne=Ki.onClick)===null||Ne===void 0||Ne.call(Ki,xe)}},Object(b.a)(Ki,["prefixCls","colSpan"])),(it||ee||It)&&Ut.a.createElement("div",{className:d()("".concat(ht,"-header"),(Nt={},Object(_t.a)(Nt,"".concat(ht,"-header-border"),$n||ba==="inner"),Object(_t.a)(Nt,"".concat(ht,"-header-collapsible"),It),Nt)),style:D,onClick:function(){It&&W(!ts)}},Ut.a.createElement("div",{className:"".concat(ht,"-title")},It,Ut.a.createElement(u.a,{label:it,tooltip:ln||he,subTitle:vt})),ee&&Ut.a.createElement("div",{className:"".concat(ht,"-extra")},ee)),Ba?Ut.a.createElement("div",{className:"".concat(ht,"-tabs")},Ut.a.createElement(ve.a,Object(ar.a)({onChange:Ba.onChange},Ba),xr?wt:di)):Ut.a.createElement("div",{className:q,style:G},xr?wt:Rr),Ut.a.createElement(cr,{actions:Ni,prefixCls:ht}))}),Ar=kr,lt=Te("VzZb"),me=["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"],Z=function(re){var Vt=re.key,Ht=re.tab,Nt=re.tabKey,te=re.disabled,oe=re.destroyInactiveTabPane,Pe=re.children,K=re.className,F=re.style,D=re.cardProps,it=Object(l.a)(re,me),vt=Object(C.useContext)(h.default.ConfigContext),ee=vt.getPrefixCls,he=ee("pro-card-tabpane"),yr=d()(he,K);return Ut.a.createElement(ve.a.TabPane,Object(ar.a)({key:Vt,tabKey:Nt,tab:Ht,className:yr,style:F,disabled:te,destroyInactiveTabPane:oe},it),Ut.a.createElement(Ar,D,Pe))},ct=Z,Ot=Te("u1OI"),U=function(re){var Vt=Object(C.useContext)(h.default.ConfigContext),Ht=Vt.getPrefixCls,Nt=Ht("pro-card-divider"),te=re.className,oe=re.style,Pe=oe===void 0?{}:oe,K=re.type,F=d()(Nt,te,Object(_t.a)({},"".concat(Nt,"-").concat(K),K));return Ut.a.createElement("div",{className:F,style:Pe})},tt=U,mt=function(re){return Ut.a.createElement(Ar,Object(ar.a)({bodyStyle:{padding:0}},re))},pt=Ar;pt.isProCard=!0,pt.Divider=tt,pt.TabPane=ct,pt.Group=mt;var Yt=pt,St=hr.a=Yt},oOwn:function(on,hr,Te){(function(){var ar=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","borderStyle","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing","tabSize","MozTabSize"],C=typeof window!="undefined",Ut=C&&window.mozInnerScreenX!=null;function nt(ve,Ce,_t){if(!C)throw new Error("textarea-caret-position#getCaretCoordinates should only be called in a browser");var L=_t&&_t.debug||!1;if(L){var a=document.querySelector("#input-textarea-caret-position-mirror-div");a&&a.parentNode.removeChild(a)}var f=document.createElement("div");f.id="input-textarea-caret-position-mirror-div",document.body.appendChild(f);var h=f.style,l=window.getComputedStyle?getComputedStyle(ve):ve.currentStyle;h.whiteSpace="pre-wrap",ve.nodeName!=="INPUT"&&(h.wordWrap="break-word"),h.position="absolute",L||(h.visibility="hidden"),ar.forEach(function(r){h[r]=l[r]}),Ut?ve.scrollHeight>parseInt(l.height)&&(h.overflowY="scroll"):h.overflow="hidden",f.textContent=ve.value.substring(0,Ce),ve.nodeName==="INPUT"&&(f.textContent=f.textContent.replace(/\s/g,"\xA0"));var n=document.createElement("span");n.textContent=ve.value.substring(Ce)||".",f.appendChild(n);var e={top:n.offsetTop+parseInt(l.borderTopWidth),left:n.offsetLeft+parseInt(l.borderLeftWidth)};return L?n.style.backgroundColor="#aaa":document.body.removeChild(f),e}typeof on.exports!="undefined"?on.exports=nt:C&&(window.getCaretCoordinates=nt)})()},tneF:function(on,hr,Te){"use strict";var ar=Te("sRBo"),C=Te("kaz8"),Ut=Te("wx14"),nt=Te("VTBJ"),ve=Te("Ff2n"),Ce=Te("q1tI"),_t=Te.n(Ce),L=Te("adzw"),a=Te("uX+g"),f=Te("WFLz"),h=["options","fieldProps","proFieldProps","valueEnum"],l=_t.a.forwardRef(function(i,u){var o=i.options,d=i.fieldProps,b=i.proFieldProps,T=i.valueEnum,O=Object(ve.a)(i,h);return _t.a.createElement(L.a,Object(Ut.a)({ref:u,valueType:"checkbox",mode:"edit",valueEnum:Object(a.a)(T,void 0),fieldProps:Object(nt.a)({options:o},d),proFieldProps:b},O))}),n=_t.a.forwardRef(function(i,u){var o=i.fieldProps,d=i.children;return _t.a.createElement(C.a,Object(Ut.a)({ref:u},o),d)}),e=Object(f.a)(n,{valuePropName:"checked"}),r=e;r.Group=l,hr.a=r},u1OI:function(on,hr,Te){},vHD6:function(on,hr,Te){"use strict";var ar=Te("4hEd"),C={matrix:!0,scale:!0,rotate:!0,translate:!0,skewX:!0,skewY:!0},Ut=/\s*(matrix|translate|scale|rotate|skewX|skewY)\s*\(\s*(.+?)\s*\)[\s,]*/,nt=/[\s,]+/;on.exports=function(Ce){var _t=new ar,L,a;return Ce.split(Ut).forEach(function(f){if(!!f.length){if(typeof C[f]!="undefined"){L=f;return}switch(a=f.split(nt).map(function(h){return+h||0}),L){case"matrix":a.length===6&&_t.matrix(a);return;case"scale":a.length===1?_t.scale(a[0],a[0]):a.length===2&&_t.scale(a[0],a[1]);return;case"rotate":a.length===1?_t.rotate(a[0],0,0):a.length===3&&_t.rotate(a[0],a[1],a[2]);return;case"translate":a.length===1?_t.translate(a[0],0):a.length===2&&_t.translate(a[0],a[1]);return;case"skewX":a.length===1&&_t.skewX(a[0]);return;case"skewY":a.length===1&&_t.skewY(a[0]);return}}}),_t}},"yj/a":function(on,hr,Te){"use strict";var ar=Te("wx14"),C=Te("VTBJ"),Ut=Te("Ff2n"),nt=Te("q1tI"),ve=Te.n(nt),Ce=Te("adzw"),_t=Te("uX+g"),L=Te("lS/g"),a=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],f=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],h=ve.a.forwardRef(function(i,u){var o=i.fieldProps,d=i.children,b=i.params,T=i.proFieldProps,O=i.mode,Y=i.valueEnum,et=i.request,yt=i.showSearch,Zt=i.options,fe=Object(Ut.a)(i,a),Ue=Object(nt.useContext)(L.a);return ve.a.createElement(Ce.a,Object(ar.a)({mode:"edit",valueEnum:Object(_t.a)(Y),request:et,params:b,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(C.a)({options:Zt,mode:O,showSearch:yt,getPopupContainer:Ue.getPopupContainer},o),ref:u,proFieldProps:T},fe),d)}),l=ve.a.forwardRef(function(i,u){var o=i.fieldProps,d=i.children,b=i.params,T=i.proFieldProps,O=i.mode,Y=i.valueEnum,et=i.request,yt=i.options,Zt=Object(Ut.a)(i,f),fe=Object(C.a)({options:yt,mode:O||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},o),Ue=Object(nt.useContext)(L.a);return ve.a.createElement(Ce.a,Object(ar.a)({mode:"edit",valueEnum:Object(_t.a)(Y),request:et,params:b,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(C.a)({getPopupContainer:Ue.getPopupContainer},fe),ref:u,proFieldProps:T},Zt),d)}),n=h,e=l,r=n;r.SearchSelect=e,r.displayName="ProFormComponent",hr.a=r}}]);
