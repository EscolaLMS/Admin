(window.webpackJsonp=window.webpackJsonp||[]).push([[38],{"/y+f":function(ce,g,e){"use strict";e.d(g,"d",function(){return C}),e.d(g,"b",function(){return A}),e.d(g,"c",function(){return P}),e.d(g,"a",function(){return S});var C;(function(n){n.Unselected="",n.RichText="EscolaLms\\TopicTypes\\Models\\TopicContent\\RichText",n.OEmbed="EscolaLms\\TopicTypes\\Models\\TopicContent\\OEmbed",n.Audio="EscolaLms\\TopicTypes\\Models\\TopicContent\\Audio",n.Video="EscolaLms\\TopicTypes\\Models\\TopicContent\\Video",n.H5P="EscolaLms\\TopicTypes\\Models\\TopicContent\\H5P",n.Image="EscolaLms\\TopicTypes\\Models\\TopicContent\\Image",n.PDF="EscolaLms\\TopicTypes\\Models\\TopicContent\\PDF",n.SCORM="EscolaLms\\TopicTypes\\Models\\TopicContent\\ScormSco",n.Project="EscolaLms\\TopicTypeProject\\Models\\Project",n.GiftQuiz="EscolaLms\\TopicTypeGift\\Models\\GiftQuiz"})(C||(C={}));var B;(function(n){n.OrderPaid="EscolaLms\\Cart\\Events\\OrderPaid",n.UserLogged="EscolaLms\\Auth\\Events\\UserLogged"})(B||(B={}));var E;(function(n){n.draft="draft",n.published="published",n.archived="archived"})(E||(E={}));var A;(function(n){n.email="EscolaLms\\TemplatesEmail\\Core\\EmailChannel",n.pdf="EscolaLms\\TemplatesPdf\\Core\\PdfChannel",n.sms="EscolaLms\\TemplatesSms\\Core\\SmsChannel"})(A||(A={}));var P;(function(n){n.ManuallyTriggeredEvent="EscolaLms\\Templates\\Events\\ManuallyTriggeredEvent"})(P||(P={}));var m;(function(n){n.cart_fixed="cart_fixed",n.cart_percent="cart_percent",n.product_fixed="product_fixed",n.product_percent="product_percent"})(m||(m={}));var S;(function(n){n.MULTIPLE_CHOICE="multiple_choice",n.MULTIPLE_CHOICE_WITH_MULTIPLE_RIGHT_ANSWERS="multiple_choice_with_multiple_right_answers",n.TRUE_FALSE="true_false",n.SHORT_ANSWERS="short_answers",n.MATCHING="matching",n.NUMERICAL_QUESTION="numerical_question",n.ESSAY="essay",n.DESCRIPTION="description"})(S||(S={}))},"3fxf":function(ce,g,e){"use strict";var C=e("DjyN"),B=e("NUBc"),E=e("Mwp2"),A=e("VXEj"),P=e("+L6B"),m=e("2/Rp"),S=e("5NDa"),n=e("5rEg"),L=e("oBTY"),a=e("k1fw"),s=e("tJVT"),z=e("DYRE"),O=e("zeV3"),_=e("tU7J"),p=e("wFql"),u=e("q1tI"),v=e.n(u),l=e("BAh9"),H=e("/MfK"),M=e("mAF4"),te=e("dF/Y"),T=e("9kvl"),V=e("DBJ/"),fe=e("lLVY"),X=e.n(fe),r=e("nKUr"),Pe=e.n(r),F=function(ne){var t=ne.directory,de=ne.onUploaded;return Object(r.jsxs)(O.b,{align:"start",children:[Object(r.jsxs)(p.a.Text,{children:[Object(r.jsx)(T.a,{id:"pages.files.filesBrowser"}),Object(r.jsx)(p.a.Text,{code:!0,children:t})]}),Object(r.jsx)(V.a,{url:"/api/admin/file/upload",name:"file[]",data:{target:t},onUpload:function(Oe){Oe.success&&de(t,Oe.data)}})]})},ye=function(ne){var t=ne.defaultDirectory,de=t===void 0?"/":t,q=ne.onFile,Oe=ne.hideDeleteBtn,le=Oe===void 0?!1:Oe,G=ne.forceLoading,R=G===void 0?!1:G,$=Object(T.l)(),ee=Object(u.useState)({loading:!1,name:"",directory:de,current_page:1,data:void 0,per_page:1,last_page:1,total:0}),Z=Object(s.a)(ee,2),D=Z[0],J=Z[1],i=Object(u.useRef)(),K=Object(u.useCallback)(function(j){J(function(o){return Object(a.a)(Object(a.a)({},o),{},{loading:j})})},[]),ae=Object(u.useCallback)(function(j,o){j.success&&J(function(c){return Object(a.a)(Object(a.a)(Object(a.a)({},c),j.data),{},{data:[{url:o.split("/").slice(0,-1).join("/"),name:"..",created_at:"",mime:"directory"}].concat(Object(L.a)(j.data.data.map(function(y){return Object(a.a)(Object(a.a)({},y),{},{url:y.mime==="directory"?"".concat(o,"/").concat(y.name):y.url})}))).filter(function(y){return o==="/"||o===de?y.name!=="..":!0}),directory:o,loading:!1})})},[K]),ie=Object(u.useCallback)(function(j){var o,c=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,y=function(){return i.current&&i.current.abort()};return y(),i.current=new AbortController,K(!0),Object(l.a)({directory:j,page:c},{signal:(o=i.current)===null||o===void 0?void 0:o.signal}).then(function(I){I.success&&ae(I,j)}).catch(function(){return K(!1)}),function(){y()}},[K]);Object(u.useEffect)(function(){return ie(de)},[de,ie]);var ge=Object(u.useCallback)(function(j){K(!0),Object(l.c)(j).then(function(){ie(D.directory)}).catch(function(){K(!1)})},[ie,K,D.directory]),W=Object(u.useCallback)(function(j,o){var c,y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,I=function(){return i.current&&i.current.abort()};return I(),i.current=new AbortController,K(!0),Object(l.b)({directory:j,name:o,page:y},{signal:(c=i.current)===null||c===void 0?void 0:c.signal}).then(function(x){x.success&&ae(x,j)}).catch(function(){return K(!1)}),function(){I()}},[K]);return Object(r.jsxs)("div",{className:"file-browser",children:[Object(r.jsxs)("div",{className:"file-browser__header",children:[Object(r.jsx)(n.a,{placeholder:$.formatMessage({id:"search_file"}),className:"file-browser__input",onChange:function(o){return J(function(c){return Object(a.a)(Object(a.a)({},c),{},{name:o.target.value})})},value:D.name}),Object(r.jsxs)("div",{children:[Object(r.jsx)(m.a,{className:"file-browser__button",onClick:function(){return ie(D.directory)},children:Object(r.jsx)(T.a,{id:"reset"})}),Object(r.jsx)(m.a,{className:"file-browser__button",type:"primary",onClick:function(){return W(D.directory,D.name)},children:Object(r.jsx)(T.a,{id:"query"})})]})]}),Object(r.jsx)(A.b,{loading:D.loading||R,size:"small",itemLayout:"horizontal",dataSource:D.data,header:Object(r.jsx)(F,{directory:D.directory,onUploaded:function(o,c){c&&(ie(o),q&&q(c,o))}}),footer:Object(r.jsx)(F,{directory:D.directory,onUploaded:function(o,c){ie(o),c&&q&&q(c,o)}}),renderItem:function(o){return Object(r.jsx)(A.b.Item,{actions:o.mime!=="directory"&&!le?[Object(r.jsx)(m.a,{type:"default",danger:!0,icon:Object(r.jsx)(H.a,{}),size:"small",onClick:function(){return ge(o.url)}},"dir")]:[],children:Object(r.jsx)(A.b.Item.Meta,{avatar:o.mime==="directory"?Object(r.jsx)(m.a,{type:"primary",icon:Object(r.jsx)(M.a,{}),size:"small",onClick:function(){return ie(o.url)}}):Object(r.jsx)("a",{href:o.url,target:"_blank",rel:"noreferrer",children:Object(r.jsx)(m.a,{type:"default",icon:Object(r.jsx)(te.a,{}),size:"small"})}),description:Object(r.jsx)(v.a.Fragment,{children:Object(r.jsx)(m.a,{type:"text",size:"small",onClick:function(){return o.mime==="directory"?ie(o.url):q&&q(o,D.directory)},children:o.name})})})})}}),Object(r.jsx)(B.a,{pageSizeOptions:[],current:D.current_page,total:D.total,pageSize:D.per_page,onChange:function(o){return ie(D.directory,o)}})]})};g.a=ye},"5qq5":function(ce,g,e){"use strict";var C=e("7Kak"),B=e("9yH6"),E=e("VTBJ"),A=e("Ff2n"),P=e("nKUr"),m=e.n(P),S=e("uX+g"),n=e("q1tI"),L=e.n(n),a=e("WFLz"),s=e("adzw"),z=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],O=L.a.forwardRef(function(v,l){var H=v.fieldProps,M=v.options,te=v.radioType,T=v.layout,V=v.proFieldProps,fe=v.valueEnum,X=Object(A.a)(v,z);return Object(P.jsx)(s.a,Object(E.a)(Object(E.a)({valueType:te==="button"?"radioButton":"radio",ref:l,valueEnum:Object(S.a)(fe,void 0)},X),{},{fieldProps:Object(E.a)({options:M,layout:T},H),proFieldProps:V,filedConfig:{customLightMode:!0}}))}),_=L.a.forwardRef(function(v,l){var H=v.fieldProps,M=v.children;return Object(P.jsx)(B.a,Object(E.a)(Object(E.a)({},H),{},{ref:l,children:M}))}),p=Object(a.a)(_,{valuePropName:"checked",ignoreWidth:!0}),u=p;u.Group=O,u.Button=B.a.Button,u.displayName="ProFormComponent",g.a=u},BAh9:function(ce,g,e){"use strict";e.d(g,"a",function(){return P}),e.d(g,"b",function(){return S}),e.d(g,"e",function(){return L}),e.d(g,"d",function(){return s}),e.d(g,"c",function(){return z});var C=e("qLMh"),B=e("k1fw"),E=e("9og8"),A=e("9kvl");function P(_,p){return m.apply(this,arguments)}function m(){return m=Object(E.a)(Object(C.a)().mark(function _(p,u){return Object(C.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(A.i)("/api/admin/file/list",Object(B.a)({method:"GET",params:p},u||{})));case 1:case"end":return l.stop()}},_)})),m.apply(this,arguments)}function S(_,p){return n.apply(this,arguments)}function n(){return n=Object(E.a)(Object(C.a)().mark(function _(p,u){return Object(C.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(A.i)("/api/admin/file/find",Object(B.a)({method:"GET",params:p},u||{})));case 1:case"end":return l.stop()}},_)})),n.apply(this,arguments)}function L(_,p,u){return a.apply(this,arguments)}function a(){return a=Object(E.a)(Object(C.a)().mark(function _(p,u,v){var l;return Object(C.a)().wrap(function(M){for(;;)switch(M.prev=M.next){case 0:return l=new FormData,l.append("file[]",p),l.append("target",u),M.abrupt("return",Object(A.i)("/api/admin/file/upload",Object(B.a)({method:"POST",data:l},v||{})));case 4:case"end":return M.stop()}},_)})),a.apply(this,arguments)}var s=function(p){var u=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e3;return"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com","/api/images/img?path=").concat(p,"&w=").concat(u)};function z(_,p){return O.apply(this,arguments)}function O(){return O=Object(E.a)(Object(C.a)().mark(function _(p,u){return Object(C.a)().wrap(function(l){for(;;)switch(l.prev=l.next){case 0:return l.abrupt("return",Object(A.i)("/api/admin/file/delete",Object(B.a)({method:"DELETE",data:{url:p}},u||{})));case 1:case"end":return l.stop()}},_)})),O.apply(this,arguments)}},BiO0:function(ce,g,e){"use strict";var C=e("VTBJ"),B=e("Ff2n"),E=e("nKUr"),A=e.n(E),P=e("q1tI"),m=e.n(P),S=e("adzw"),n=["fieldProps","proFieldProps"],L=function(s,z){var O=s.fieldProps,_=s.proFieldProps,p=Object(B.a)(s,n);return Object(E.jsx)(S.a,Object(C.a)({ref:z,valueType:"textarea",fieldProps:O,proFieldProps:_},p))};g.a=m.a.forwardRef(L)},"DBJ/":function(ce,g,e){"use strict";var C=e("k1fw"),B=e("y8nQ"),E=e("Vl3Y"),A=e("tJVT"),P=e("etVw"),m=e("q1tI"),S=e.n(m),n=e("9kvl"),L=e("qFDU"),a=e("nKUr"),s=e.n(a);function z(O){var _=O.onChange,p=O.onUpload,u=O.url,v=O.name,l=O.extra,H=O.accept,M=O.data,te=O.wrapInForm,T=te===void 0?!0:te,V=O.title,fe=O.formProps,X=O.maxFiles,r=O.clearListAfterUpload,Pe=O.hideLabel,F=Object(m.useState)(),ye=Object(A.a)(F,2),ve=ye[0],ne=ye[1],t=Object(n.l)();return M&&M[v]&&delete M[v],Object(a.jsx)(L.a,{condition:T,wrap:function(q){return Object(a.jsx)(E.a,Object(C.a)(Object(C.a)({},fe),{},{children:q}))},children:Object(a.jsx)(P.a,{title:V||" ".concat(t.formatMessage({id:"upload_click_here"})),placeholder:t.formatMessage({id:"upload_click_here"}),onChange:function(q){ne(q),_&&_(q),q.file.status==="done"&&(p&&p(q.file.response),r&&ne(void 0))},label:!Pe&&Object(a.jsx)(n.a,{id:"upload"}),max:X!=null?X:2,fieldProps:{data:M,accept:H,name:v,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat(window.REACT_APP_API_URL||"https://api-stage.escolalms.com").concat(u),extra:l,fileList:ve==null?void 0:ve.fileList})})}g.a=z},FJDo:function(ce,g,e){"use strict";var C=e("VTBJ"),B=e("Ff2n"),E=e("nKUr"),A=e.n(E),P=e("q1tI"),m=e.n(P),S=e("adzw"),n=["fieldProps","min","proFieldProps","max"],L=function(s,z){var O=s.fieldProps,_=s.min,p=s.proFieldProps,u=s.max,v=Object(B.a)(s,n);return Object(E.jsx)(S.a,Object(C.a)({valueType:"digit",fieldProps:Object(C.a)({min:_,max:u},O),ref:z,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:p},v))};g.a=m.a.forwardRef(L)},HEzf:function(ce,g,e){"use strict";var C=e("EFp3"),B=e("O/iA"),E=e("OaEy"),A=e("wx14"),P=e("U8pU"),m=e("ODXe"),S=e("TSYQ"),n=e.n(S),L=e("Zm9Q"),a=e("bT9E"),s=e("q1tI"),z=e.n(s),O=e("H84U"),_=e("2fM7"),p=e("0n0R"),u=_.a.Option;function v(ge){return ge&&ge.type&&(ge.type.isSelectOption||ge.type.isSelectOptGroup)}var l=function(W,j){var o=W.prefixCls,c=W.className,y=W.popupClassName,I=W.dropdownClassName,x=W.children,he=W.dataSource,re=Object(L.a)(x),xe;if(re.length===1&&Object(p.c)(re[0])&&!v(re[0])){var be=Object(m.a)(re,1);xe=be[0]}var Le=xe?function(){return xe}:void 0,Re;return re.length&&v(re[0])?Re=x:Re=he?he.map(function(me){if(Object(p.c)(me))return me;switch(Object(P.a)(me)){case"string":return s.createElement(u,{key:me,value:me},me);case"object":{var oe=me.value;return s.createElement(u,{key:oe,value:oe},me.text)}default:return}}):[],s.createElement(O.a,null,function(me){var oe=me.getPrefixCls,Ce=oe("select",o);return s.createElement(_.a,Object(A.a)({ref:j},Object(a.a)(W,["dataSource"]),{prefixCls:Ce,popupClassName:y||I,className:n()("".concat(Ce,"-auto-complete"),c),mode:_.a.SECRET_COMBOBOX_MODE_DO_NOT_USE},{getInputElement:Le}),Re)})},H=s.forwardRef(l);H.Option=u;var M=H,te=e("y8nQ"),T=e("Vl3Y"),V=e("+L6B"),fe=e("2/Rp"),X=e("5NDa"),r=e("5rEg"),Pe=e("tJVT"),F=e("VMEa"),ye=e("rmhi"),ve=e("Qurx"),ne=e("F/zT"),t=e("5qq5"),de=e("BiO0"),q=e("tneF"),Oe=e("FJDo"),le=e("9kvl"),G=e("+up7"),R=e("hd5d"),$=e("3fxf"),ee=e("ovOe"),Z=e.n(ee),D=e("bRQS"),J=e("4i/N"),i=e("nKUr"),K=function(W){var j=W.value,o=W.onChange,c=W.type,y=c===void 0?"file":c,I=Object(s.useState)(!1),x=Object(Pe.a)(I,2),he=x[0],re=x[1];return Object(i.jsxs)(z.a.Fragment,{children:[Object(i.jsxs)(F.a.Group,{children:[Object(i.jsx)(r.a,{value:j,readOnly:!0}),Object(i.jsxs)(fe.a,{size:"small",type:"primary",onClick:function(){return re(!he)},children:["toggle ",y," browser"]})]}),he&&Object(i.jsx)($.a,{onFile:function(be,Le){return o&&o("".concat(Le,"/").concat(be.name))}})]})},ae=function(W){var j=Object(le.l)(),o=W.visible,c=W.onVisibleChange,y=W.onFinish,I=W.id,x=W.initialData,he=W.groups,re=T.a.useForm(),xe=Object(Pe.a)(re,1),be=xe[0],Le=!I||I===-1,Re=Object(s.useState)("text"),me=Object(Pe.a)(Re,2),oe=me[0],Ce=me[1],Y=Object(s.useCallback)(function(){return!!(be.getFieldValue("group")==="global"||x)},[be,x]),b=Object(s.useState)(""),d=Object(Pe.a)(b,2),h=d[0],N=d[1];Object(s.useEffect)(function(){if(typeof I=="object"){var f;be.setFieldsValue(I),Ce((f=I.type)!==null&&f!==void 0?f:"text")}else I&&I!==-1?Object(G.d)(Number(I)).then(function(U){U.success&&(be.setFieldsValue(U.data),Ce(U.data.type),N(U.data.group))}):(be.resetFields(),Ce("text"))},[I,be,x]);var se=Object(s.useCallback)(function(f){f.type&&f.type!==oe&&Ce(f.type)},[oe]);return Object(i.jsxs)(ye.a,{form:be,title:j.formatMessage({id:I?"editSetting":"newSetting",defaultMessage:I?"editSetting":"newSetting"}),width:"60vw",visible:!!o,onVisibleChange:c,onFinish:y,onValuesChange:se,children:[Object(i.jsxs)(F.a.Group,{children:[x?Object(i.jsx)(ve.a,{label:Object(i.jsx)(le.a,{id:"group",defaultMessage:"group"}),rules:[{required:!0}],width:"md",name:"group",disabled:Y()}):Object(i.jsx)(F.a.Item,{label:Object(i.jsx)(le.a,{id:"group",defaultMessage:"group"}),name:"group",children:Object(i.jsx)(M,{style:{width:"300px"},autoFocus:!0,value:h,onChange:function(U){return N(U)},filterOption:function(U,_e){var w;return(_e==null||(w=_e.children)===null||w===void 0?void 0:w.toString().toLowerCase().indexOf(U.toLowerCase()))!==-1},children:he.map(function(f){return Object(i.jsx)(M.Option,{value:f,children:f},f)})})}),Object(i.jsx)(ve.a,{label:Object(i.jsx)(le.a,{id:"key",defaultMessage:"key"}),rules:[{required:!0}],width:"md",name:"key",disabled:Y()})]}),Object(i.jsxs)(F.a.Group,{children:[Object(i.jsx)(ne.a,{name:"enumerable",disabled:Y(),label:Object(i.jsx)(le.a,{id:"enumerable",defaultMessage:"enumerable"})}),Object(i.jsx)(ne.a,{name:"public",disabled:Y(),label:Object(i.jsx)(le.a,{id:"public",defaultMessage:"public"})})]}),Object(i.jsx)(F.a.Group,{children:Object(i.jsx)(t.a.Group,{disabled:!!(!Le||x),name:"type",label:Object(i.jsx)(le.a,{id:"type"}),options:[{label:"text",value:"text"},{label:"markdown",value:"markdown"},{label:"json",value:"json"},{label:"file",value:"file"},{label:"image",value:"image"},{label:"boolean",value:"boolean"},{label:"number",value:"number"}]})}),Object(i.jsxs)("div",{children:[oe==="text"&&Object(i.jsx)(ve.a,{width:"lg",name:"value",label:Object(i.jsx)(le.a,{id:"value"})}),oe==="json"&&Object(i.jsxs)(i.Fragment,{children:[Object(i.jsx)(de.a,{width:"lg",name:"value",label:Object(i.jsx)(le.a,{id:"value"}),tooltip:"".concat(j.formatMessage({id:"example_json"}),': {"name":"John", "age":30, "city":["New York","Warsaw"]}')}),Object(i.jsx)(F.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(i.jsx)(Z.a,{src:JSON.parse(be.getFieldValue("value"))})}catch(U){return Object(i.jsx)(Z.a,{src:JSON.parse('{ "error": "cannot parse this json" }')})}}})]}),(oe==="file"||oe==="image")&&Object(i.jsx)(F.a.Item,{name:"value",label:"value",tooltip:"select file from current repository or upload new one",valuePropName:"value",children:Object(i.jsx)(K,{type:oe})}),oe==="markdown"&&Object(i.jsx)(F.a.Item,{name:"value",label:"value",tooltip:"The editor is WYSIWYG and includes formatting tools whilst retaining the ability to write markdown shortcuts inline and output plain Markdown.",valuePropName:"value",children:Object(i.jsx)(R.a,{directory:"settings/wysiwyg"})}),oe==="boolean"?Object(i.jsx)(ne.a,{name:"data",label:Object(i.jsx)(le.a,{id:"value"}),checkedChildren:Object(i.jsx)(D.a,{}),unCheckedChildren:Object(i.jsx)(J.a,{})}):Object(i.jsx)(F.a.Item,{noStyle:!0,hidden:!0,children:Object(i.jsx)(q.a,{name:"data",valuePropName:"data"})}),oe==="number"&&Object(i.jsx)(Oe.a,{name:"data",label:Object(i.jsx)(le.a,{id:"value"})})]})]})},ie=g.a=ae},"O/iA":function(ce,g,e){},Qurx:function(ce,g,e){"use strict";var C=e("VTBJ"),B=e("Ff2n"),E=e("nKUr"),A=e.n(E),P=e("adzw"),m=["fieldProps","proFieldProps"],S=["fieldProps","proFieldProps"],n="text",L=function(O){var _=O.fieldProps,p=O.proFieldProps,u=Object(B.a)(O,m);return Object(E.jsx)(P.a,Object(C.a)({valueType:n,fieldProps:_,filedConfig:{valueType:n},proFieldProps:p},u))},a=function(O){var _=O.fieldProps,p=O.proFieldProps,u=Object(B.a)(O,S);return Object(E.jsx)(P.a,Object(C.a)({valueType:"password",fieldProps:_,proFieldProps:p,filedConfig:{valueType:n}},u))},s=L;s.Password=a,s.displayName="ProFormComponent",g.a=s},YjuE:function(ce,g,e){"use strict";e.r(g);var C=e("fOrg"),B=e("+KLJ"),E=e("T2oS"),A=e("W9HT"),P=e("tJVT"),m=e("q1tI"),S=e.n(m),n=e("nhC9"),L=e("Ty5D"),a=e("9kvl"),s=e("tMyG"),z=e("+up7"),O=e("P2fV"),_=e("NJEC"),p=e("5Dmo"),u=e("3S7+"),v=e("+L6B"),l=e("2/Rp"),H=e("+BJd"),M=e("mr32"),te=e("jrin"),T=e("qLMh"),V=e("k1fw"),fe=e("miYZ"),X=e("tsqr"),r=e("9og8"),Pe=e("xvlK"),F=e("Qiat"),ye=e("HEzf"),ve=e("G3dp"),ne=e("/MfK"),t=e("nKUr"),de=function(){var Y=Object(r.a)(Object(T.a)().mark(function b(d,h,N){var se;return Object(T.a)().wrap(function(U){for(;;)switch(U.prev=U.next){case 0:return se=X.b.loading(d.formatMessage({id:"loading"})),U.prev=1,U.next=4,N&&N!==-1?Object(z.h)(N,Object(V.a)({},h)):Object(z.b)(Object(V.a)({},h));case 4:return se(),X.b.success(d.formatMessage({id:"success"})),U.abrupt("return",!0);case 9:return U.prev=9,U.t0=U.catch(1),se(),X.b.error(d.formatMessage({id:"error"})),U.abrupt("return",!1);case 14:case"end":return U.stop()}},b,null,[[1,9]])}));return function(d,h,N){return Y.apply(this,arguments)}}(),q=function(){var Y=Object(r.a)(Object(T.a)().mark(function b(d,h){var N;return Object(T.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return N=X.b.loading(d.formatMessage({id:"loading"})),f.prev=1,f.next=4,Object(z.c)(h);case 4:return N(),X.b.success(d.formatMessage({id:"success"})),f.abrupt("return",!0);case 9:return f.prev=9,f.t0=f.catch(1),N(),X.b.error(d.formatMessage({id:"error"})),f.abrupt("return",!1);case 14:case"end":return f.stop()}},b,null,[[1,9]])}));return function(d,h){return Y.apply(this,arguments)}}(),Oe=function(){var b=Object(m.useState)(!1),d=Object(P.a)(b,2),h=d[0],N=d[1],se=Object(m.useState)([]),f=Object(P.a)(se,2),U=f[0],_e=f[1],w=Object(m.useRef)(),je=Object(a.l)(),Ee=Object(a.m)("@@initialState"),Q=Ee.setInitialState;Object(m.useEffect)(function(){Object(z.e)().then(function(k){k.success&&_e(k.data.filter(function(ue){return ue!=="global"}))})},[]);var Me=[{title:Object(t.jsx)(a.a,{id:"group",defaultMessage:"group"}),dataIndex:"group",hideInSearch:!1,key:"group",valueType:"select",width:100,valueEnum:U.sort().reduce(function(k,ue){return Object(V.a)(Object(V.a)({},k),{},Object(te.a)({},ue,ue))},{})},{title:Object(t.jsx)(a.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"enumerable",defaultMessage:"enumerable"}),dataIndex:"enumerable",hideInForm:!0,hideInSearch:!0,render:function(ue,pe){return Object(t.jsx)(M.a,{color:pe.enumerable?"success":"error",children:Object(t.jsx)(a.a,{id:pe.enumerable?"true":"false",defaultMessage:pe.enumerable?"true":"false"})})}},{title:Object(t.jsx)(a.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(ue,pe){return Object(t.jsx)(M.a,{color:pe.public?"success":"error",children:Object(t.jsx)(a.a,{id:pe.public?"true":"false",defaultMessage:pe.public?"true":"false"})})}},{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(ue,pe){return[Object(t.jsx)(u.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(l.a,{type:"primary",icon:Object(t.jsx)(ve.a,{}),onClick:function(){return N(pe.id)}})},"edit"),Object(t.jsx)(_.a,{title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(r.a)(Object(T.a)().mark(function Te(){var Ue;return Object(T.a)().wrap(function(Ae){for(;;)switch(Ae.prev=Ae.next){case 0:return Ae.next=2,q(je,pe.id);case 2:Ue=Ae.sent,Ue&&(N(!1),w.current&&w.current.reload());case 4:case"end":return Ae.stop()}},Te)})),okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(u.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(l.a,{type:"primary",icon:Object(t.jsx)(ne.a,{}),danger:!0})})},"delete")]}}];return Object(t.jsxs)(S.a.Fragment,{children:[Object(t.jsx)(F.a,{headerTitle:je.formatMessage({id:"menu.settings"}),actionRef:w,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[Object(t.jsxs)(l.a,{type:"primary",onClick:function(){N(-1)},children:[Object(t.jsx)(Pe.a,{})," ",Object(t.jsx)(a.a,{id:"pages.searchTable.new"})]},"primary")]},request:function(ue){var pe=ue.pageSize,Te=ue.current,Ue=ue.group;return Object(z.f)({pageSize:pe,current:Te,group:Ue}).then(function(Ie){return Ie.success?{data:Ie.data.filter(function(Ae){return Ae.group!=="global"}),total:Ie.meta.total,success:!0}:[]})},columns:Me}),Object(t.jsx)(ye.a,{groups:U,id:h,visible:Number.isInteger(h),onVisibleChange:function(ue){return!ue&&N(!1)},onFinish:function(){var k=Object(r.a)(Object(T.a)().mark(function ue(pe){var Te,Ue,Ie;return Object(T.a)().wrap(function(De){for(;;)switch(De.prev=De.next){case 0:return Te=pe,De.next=3,de(je,Te,Number(h));case 3:if(Ue=De.sent,!Ue){De.next=12;break}if(N(!1),w.current&&w.current.reload(),Te.group!=="global"){De.next=12;break}return De.next=10,Object(z.f)({current:1,pageSize:100,group:"global"});case 10:Ie=De.sent,Q(function(Be){return Object(V.a)(Object(V.a)({},Be),{},{config:Ie.success?Ie.data:Be==null?void 0:Be.config})});case 12:case"end":return De.stop()}},ue)}));return function(ue){return k.apply(this,arguments)}}()})]})},le=Oe,G=e("y8nQ"),R=e("Vl3Y"),$=e("tU7J"),ee=e("wFql"),Z=e("rmhi"),D=e("VMEa"),J=e("F/zT"),i=e("BiO0"),K=e("ovOe"),ae=e.n(K),ie=e("Fghh"),ge=e("Qurx"),W=function(b){var d=b.field,h=b.name;return d!=null&&d.includes("boolean")?Object(t.jsx)(J.a,{name:h,checkedChildren:Object(t.jsx)(ie.a,{id:"true"}),unCheckedChildren:Object(t.jsx)(ie.a,{id:"false"})}):Object(t.jsx)(ge.a,{width:"lg",name:h})},j=W,o=ee.a.Text,c;(function(Y){Y.Array="array",Y.String="string"})(c||(c={}));var y=function(b,d){return d===c.Array?b&&Array.isArray(b)?JSON.stringify(b):"[]":b},I=function(){var b=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"",d=arguments.length>1?arguments[1]:void 0;if(d===c.Array){var h=JSON.parse(b);return h&&Array.isArray(h)?h:[]}return b},x=function(b){var d=Object(ie.k)(),h=b.visible,N=b.onVisibleChange,se=b.onFinish,f=b.value,U=R.a.useForm(),_e=Object(P.a)(U,1),w=_e[0],je=Object(m.useMemo)(function(){return(f.rules||[]).includes(c.Array)?c.Array:c.String},[f.rules]);return Object(m.useEffect)(function(){w.setFieldsValue(Object(V.a)(Object(V.a)({},f),{},{value:y(f.value,je)}))},[je,f,w]),Object(t.jsxs)(Z.a,{form:w,title:f.full_key,width:"60vw",visible:h,onVisibleChange:N,onFinish:Object(r.a)(Object(T.a)().mark(function Ee(){var Q;return Object(T.a)().wrap(function(k){for(;;)switch(k.prev=k.next){case 0:return k.next=2,Object(z.g)({key:f.full_key,value:I(w.getFieldsValue().value,je)});case 2:if(Q=k.sent,!Q.success){k.next=6;break}return se(Q.success===!0),k.abrupt("return",Q.success);case 6:return k.abrupt("return");case 7:case"end":return k.stop()}},Ee)})),children:[Object(t.jsxs)(D.a.Group,{children:[Object(t.jsx)(J.a,{disabled:!0,name:"public",label:Object(t.jsx)(a.a,{id:"public",defaultMessage:"public"})}),Object(t.jsx)(J.a,{disabled:!0,name:"readonly",label:Object(t.jsx)(a.a,{id:"readonly",defaultMessage:"readonly"})}),Object(t.jsx)(D.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"rules",defaultMessage:"rules"}),children:function(){return Object(t.jsx)(o,{code:!0,children:JSON.stringify(w.getFieldValue("rules"))})}})]}),je===c.Array?Object(t.jsxs)(t.Fragment,{children:[Object(t.jsx)(i.a,{width:"lg",name:"value",label:Object(t.jsx)(a.a,{id:"value"}),tooltip:"".concat(d.formatMessage({id:"example_json"}),': ["first_field_name", "second_field_name"]')}),Object(t.jsx)(D.a.Item,{noStyle:!0,shouldUpdate:!0,children:function(){try{return Object(t.jsx)(ae.a,{src:JSON.parse(w.getFieldValue("value"))})}catch(Q){return Object(t.jsx)(ae.a,{src:JSON.parse('{ "error": "cannot parse this array" }')})}}})]}):Object(t.jsx)(t.Fragment,{children:Object(t.jsx)(D.a.Item,{shouldUpdate:!0,label:Object(t.jsx)(a.a,{id:"value"}),children:function(){return Object(t.jsx)(j,{field:w.getFieldValue("rules"),name:"value"})}})})]})},he=x,re=[{title:Object(t.jsx)(a.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"readonly",defaultMessage:"readonly"}),dataIndex:"readonly",hideInForm:!0,hideInSearch:!0,render:function(b,d){return Object(t.jsx)(M.a,{color:d.readonly?"success":"error",children:Object(t.jsx)(a.a,{id:d.readonly?"true":"false",defaultMessage:d.readonly?"true":"false"})})}},{title:Object(t.jsx)(a.a,{id:"public",defaultMessage:"public"}),dataIndex:"public",hideInForm:!0,hideInSearch:!0,render:function(b,d){return Object(t.jsx)(M.a,{color:d.public?"success":"error",children:Object(t.jsx)(a.a,{id:d.public?"true":"false",defaultMessage:d.public?"true":"false"})})}},{title:Object(t.jsx)(a.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(b,d){return typeof d.value=="boolean"?Object(t.jsx)(M.a,{color:d.value?"success":"error",children:Object(t.jsx)(a.a,{id:d.value?"true":"false",defaultMessage:d.value?"true":"false"})}):Array.isArray(d.value)?d.value.map(function(h){return typeof h=="object"?S.a.Children.toArray(Object(t.jsx)("p",{children:Object.keys(h).map(function(N){return"".concat(N,": ").concat(h[N])}).join(", ")})):h}):d.value}}],xe=function Y(b,d){var h=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];return!b||typeof b!="object"?!1:(Object.keys(b).forEach(function(N){var se=b[N];N===d?h.push(b):typeof se=="object"&&Y(se,d,h)}),h)},be=function(b){var d=b.packageName,h=b.values,N=b.onValueUpdated,se=Object(a.l)(),f=Object(m.useState)(),U=Object(P.a)(f,2),_e=U[0],w=U[1],je=Object(m.useMemo)(function(){var Ee=h[d];return xe(Ee,"rules")},[h,d]);return Object(t.jsxs)(S.a.Fragment,{children:[Object(t.jsx)(F.a,{headerTitle:se.formatMessage({id:"menu.settings"}),rowKey:"key",search:{layout:"vertical"},dataSource:je,columns:[].concat(re,[{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(Q,Me){return[Object(t.jsx)(u.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(l.a,{type:"primary",icon:Object(t.jsx)(ve.a,{}),onClick:function(){return w(Me)}})},"edit")]}}])}),_e&&Object(t.jsx)(he,{value:_e,visible:_e!==void 0,onVisibleChange:function(Q){return Q===!1&&w(void 0)},onFinish:Object(r.a)(Object(T.a)().mark(function Ee(){return Object(T.a)().wrap(function(Me){for(;;)switch(Me.prev=Me.next){case 0:N();case 1:case"end":return Me.stop()}},Ee)}))})]})},Le=be,Re=e("t4ZK"),me=e("I5X1"),oe=function(b){return b.replaceAll("escolalms","").split("_").join("")},Ce=g.default=function(){var Y=Object(L.l)(),b=Object(a.l)(),d=Y.tab,h=d===void 0?"user_settings":d,N=Object(m.useState)(),se=Object(P.a)(N,2),f=se[0],U=se[1],_e=Object(m.useCallback)(function(){Object(z.a)().then(function(Q){Q.success&&U(Q.data)})},[]),w=Object(me.a)("@@initialState"),je=w.initialState,Ee=Object(m.useCallback)(function(){var Q;return(je==null||(Q=je.config)===null||Q===void 0?void 0:Q.length)!==0},[je]);return Object(m.useEffect)(function(){_e()},[]),f?Object(t.jsxs)(s.a,{title:Object(t.jsx)(a.a,{id:"settings"}),header:{breadcrumb:{routes:[{path:"settings",breadcrumbName:b.formatMessage({id:"menu.Configuration.settings"})},{path:String(h),breadcrumbName:String(h)}]}},children:[!Ee()&&Object(t.jsx)(B.a,{message:Object(t.jsx)(a.a,{id:"global_settings_alert_title",defaultMessage:"Add global settings"}),description:Object(t.jsx)(a.a,{id:"global_settings_alert_description",defaultMessage:"Global settings are used to configure the entire LMS. You can add global settings by clicking the button below."}),type:"warning",showIcon:!0,style:{marginBottom:"20px"}}),Object(t.jsxs)(n.a,{tabs:{type:"card",activeKey:h,onChange:function(Me){return a.f.push("/configuration/settings/".concat(Me))}},children:[Object(t.jsx)(n.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"user.settings"}),children:Object(t.jsx)(le,{})},"user_settings"),Object(t.jsx)(n.a.TabPane,{tab:Object(t.jsx)(a.a,{id:"global_settings"}),children:Object(t.jsx)(Re.a,{})},"global_settings"),Object.keys(f).map(function(Q){return Object(t.jsxs)(n.a.TabPane,{tab:Object(t.jsxs)("span",{children:[Object(t.jsx)(a.a,{id:"package"})," ",oe(Q)]}),children:[Object(t.jsx)(Le,{values:f,packageName:Q,onValueUpdated:function(){return _e()}}),Q]},Q)})]})]}):Object(t.jsx)(A.a,{})}},hd5d:function(ce,g,e){"use strict";var C=e("qLMh"),B=e("9og8"),E=e("q1tI"),A=e.n(E),P=e("acco"),m=e.n(P),S=e("BAh9"),n=e("vtG9"),L=e.n(n),a=e("9kvl"),s=e("nKUr"),z=e.n(s),O=function(u){var v=u.attrs,l=v.href,H=l.split("/").pop();return Object(s.jsx)("p",{children:Object(s.jsx)("a",{rel:"noreferrer",href:l,target:"_blank",children:H})})},_=function(u){var v=u.value,l=u.onChange,H=u.directory,M=H===void 0?"/wysiwyg":H,te=Object(a.l)();return Object(s.jsx)("div",{className:"form-wysiwyg-markdown",children:Object(s.jsx)(m.a,{excludeBlockMenuItems:["Sketch"],embeds:[{matcher:function(V){return!0},component:O}],uploadImage:function(){var T=Object(B.a)(Object(C.a)().mark(function V(fe){var X,r;return Object(C.a)().wrap(function(F){for(;;)switch(F.prev=F.next){case 0:return F.next=2,Object(S.e)(fe,M);case 2:if(X=F.sent,!X.success){F.next=8;break}if(!fe.type.includes("image/")){F.next=7;break}return r=X.data[0].name.includes("/")?X.data[0].name:"".concat(M).concat(X.data[0].name),F.abrupt("return",Object(S.d)(r,1e3));case 7:return F.abrupt("return",X.data[0].url);case 8:throw new Error("Error while uploading");case 9:case"end":return F.stop()}},V)}));return function(V){return T.apply(this,arguments)}}(),defaultValue:v||"",onChange:function(V){return l&&l(V())},placeholder:te.formatMessage({id:"wysiwyg_placeholder"})})})};g.a=_},lLVY:function(ce,g,e){},t4ZK:function(ce,g,e){"use strict";e.d(g,"b",function(){return de});var C=e("P2fV"),B=e("NJEC"),E=e("5Dmo"),A=e("3S7+"),P=e("+L6B"),m=e("2/Rp"),S=e("tJVT"),n=e("jrin"),L=e("oBTY"),a=e("qLMh"),s=e("k1fw"),z=e("miYZ"),O=e("tsqr"),_=e("9og8"),p=e("xvlK"),u=e("q1tI"),v=e.n(u),l=e("9kvl"),H=e("Qiat"),M=e("/y+f"),te=e("+up7"),T=e("HEzf"),V=e("G3dp"),fe=e("/MfK"),X=e("ujla"),r=e("nKUr"),Pe=e.n(r),F=function(){var G=Object(_.a)(Object(a.a)().mark(function R($,ee,Z){var D,J;return Object(a.a)().wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return D=O.b.loading($.formatMessage({id:"loading"})),K.prev=1,K.next=4,Z&&Z!==-1?Object(te.h)(Z,Object(s.a)({},ee)):Object(te.b)(Object(s.a)({},ee));case 4:return J=K.sent,D(),O.b.success($.formatMessage({id:"success"})),K.abrupt("return",{success:!0,updatedSettings:J});case 10:return K.prev=10,K.t0=K.catch(1),D(),O.b.error($.formatMessage({id:"error"})),K.abrupt("return",{success:!1,updateSettings:null});case 15:case"end":return K.stop()}},R,null,[[1,10]])}));return function($,ee,Z){return G.apply(this,arguments)}}(),ye=function(){var G=Object(_.a)(Object(a.a)().mark(function R($,ee){var Z;return Object(a.a)().wrap(function(J){for(;;)switch(J.prev=J.next){case 0:return Z=O.b.loading($.formatMessage({id:"loading"})),J.prev=1,J.next=4,Object(te.c)(ee);case 4:return Z(),O.b.success($.formatMessage({id:"success"})),J.abrupt("return",!0);case 9:return J.prev=9,J.t0=J.catch(1),Z(),O.b.error($.formatMessage({id:"error"})),J.abrupt("return",!1);case 14:case"end":return J.stop()}},R,null,[[1,9]])}));return function($,ee){return G.apply(this,arguments)}}(),ve=function(R){return R.toLowerCase().replace(/(_\w)/g,function($){return $.toUpperCase().substr(1)})},ne=function G(R){return R.reduce(function($,ee){return[].concat(Object(L.a)($),Object(L.a)(ee.routes?G(ee.routes):[]),[ee])},[]).filter(function($){return $.layout!==!1&&$.hideInMenu!==!0})},t=function(R){return"hideInMenu-".concat(ve(R.split("/").join("_")))},de=function(R){return"disableTopicType-".concat(R)},q=[].concat(Object(L.a)(Object.keys(M.d).map(function(G,R){return{id:-1*(R+200),key:de(G),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(L.a)(ne(Object(X.a)()).filter(function(G){return G.path&&G.path!=="/"}).map(function(G,R){return{id:-1*(R+100),path:G.path,key:t(G.path),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}})),Object(L.a)(["ECommerce","Certificates"].map(function(G,R){return{id:-1*(R+100),key:"disable-".concat(G),group:"global",value:"false",public:!0,enumerable:!0,sort:1,type:"boolean",data:!1}}))).reduce(function(G,R,$){return Object(s.a)(Object(s.a)({},G),{},Object(n.a)({},R.key,Object(s.a)(Object(s.a)({},R),{},{id:-1*$})))},{}),Oe=Object(s.a)({logo:{id:-1,key:"logo",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"image",data:"EscolaLMS"},frontURL:{id:-2,key:"frontURL",group:"global",value:"",public:!0,enumerable:!0,sort:0,type:"text",data:"EscolaLMS"},maxLessonsNestingInProgram:{id:-4,key:"maxLessonsNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0},minTopicNestingInProgram:{id:-5,key:"minTopicNestingInProgram",group:"global",value:"0",public:!0,enumerable:!0,sort:1,type:"number",data:0}},q),le=function(){var R=Object(u.useState)(!1),$=Object(S.a)(R,2),ee=$[0],Z=$[1],D=Object(u.useRef)(),J=Object(l.l)(),i=Object(l.m)("@@initialState"),K=i.setInitialState,ae=i.initialState,ie=[{title:Object(r.jsx)(l.a,{id:"key",defaultMessage:"key"}),dataIndex:"key",hideInSearch:!0},{title:Object(r.jsx)(l.a,{id:"type",defaultMessage:"type"}),dataIndex:"type",hideInSearch:!0},{title:Object(r.jsx)(l.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",hideInForm:!0,hideInSearch:!0,render:function(j,o){return o.value}},{hideInSearch:!0,title:Object(r.jsx)(l.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(j,o){return[o.id>0?Object(r.jsx)(A.a,{title:Object(r.jsx)(l.a,{id:"edit",defaultMessage:"edit"}),children:Object(r.jsx)(m.a,{type:"primary",icon:Object(r.jsx)(V.a,{}),onClick:function(){return Z(o.id)}})},"edit"):Object(r.jsx)(A.a,{title:Object(r.jsx)(l.a,{id:"create",defaultMessage:"create"}),children:Object(r.jsx)(m.a,{type:"primary",icon:Object(r.jsx)(p.a,{}),onClick:function(){Z(Oe[o.key]||-1)}})},"create"),Object(r.jsx)(B.a,{title:Object(r.jsx)(l.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(_.a)(Object(a.a)().mark(function c(){var y;return Object(a.a)().wrap(function(x){for(;;)switch(x.prev=x.next){case 0:return x.next=2,ye(J,o.id);case 2:y=x.sent,y&&(Z(!1),D.current&&D.current.reload());case 4:case"end":return x.stop()}},c)})),okText:Object(r.jsx)(l.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(r.jsx)(l.a,{id:"no",defaultMessage:"No"}),children:o.id>0?Object(r.jsx)(A.a,{title:Object(r.jsx)(l.a,{id:"delete",defaultMessage:"delete"}),children:Object(r.jsx)(m.a,{type:"primary",icon:Object(r.jsx)(fe.a,{}),danger:!0})}):null},"delete")]}}],ge=function(j){var o;if(!!j&&(!(ae!=null&&(o=ae.config)!==null&&o!==void 0&&o.length)&&j&&K(Object(s.a)(Object(s.a)({},ae),{},{config:[j]})),!!(ae!=null&&ae.config))){var c=ae==null?void 0:ae.config.map(function(y){return y.key===j.key?Object(s.a)(Object(s.a)({},y),j):y});K(Object(s.a)(Object(s.a)({},ae),{},{config:c}))}};return Object(r.jsxs)(v.a.Fragment,{children:[Object(r.jsx)(H.a,{headerTitle:J.formatMessage({id:"menu.settings"}),search:!1,toolBarRender:!1,actionRef:D,rowKey:"id",request:function(j){var o=j.pageSize,c=j.current;return Object(te.f)({pageSize:o,current:c,group:"global"}).then(function(y){if(y.success){var I=[].concat(Object(L.a)(Object.keys(Oe).map(function(x){return y.data.find(function(he){return he.key===x})||Oe[x]})),Object(L.a)(y.data.filter(function(x){return!Object.keys(Oe).includes(x.key)})));return{data:I,total:I.length,success:!0}}return[]})},columns:ie}),Object(r.jsx)(T.a,{groups:[],id:ee,visible:ee,initialData:Oe,onVisibleChange:function(j){return!j&&Z(!1)},onFinish:function(){var W=Object(_.a)(Object(a.a)().mark(function j(o){var c,y,I,x;return Object(a.a)().wrap(function(re){for(;;)switch(re.prev=re.next){case 0:return c=o,c.type==="number"&&(c=Object(s.a)(Object(s.a)({},c),{},{value:String(c.data)})),c.type==="boolean"&&(c=Object(s.a)(Object(s.a)({},c),{},{value:c.data})),re.next=5,F(J,c,Number(ee));case 5:y=re.sent,I=y.success,x=y.updatedSettings,I&&(x!=null&&x.success&&ge(x.data),Z(!1),D.current&&D.current.reload());case 9:case"end":return re.stop()}},j)}));return function(j){return W.apply(this,arguments)}}()})]})};g.a=le},tneF:function(ce,g,e){"use strict";var C=e("sRBo"),B=e("kaz8"),E=e("VTBJ"),A=e("Ff2n"),P=e("nKUr"),m=e.n(P),S=e("uX+g"),n=e("q1tI"),L=e.n(n),a=e("WFLz"),s=e("adzw"),z=["options","fieldProps","proFieldProps","valueEnum"],O=L.a.forwardRef(function(v,l){var H=v.options,M=v.fieldProps,te=v.proFieldProps,T=v.valueEnum,V=Object(A.a)(v,z);return Object(P.jsx)(s.a,Object(E.a)({ref:l,valueType:"checkbox",valueEnum:Object(S.a)(T,void 0),fieldProps:Object(E.a)({options:H},M),lightProps:Object(E.a)({labelFormatter:function(){return Object(P.jsx)(s.a,Object(E.a)({ref:l,valueType:"checkbox",mode:"read",valueEnum:Object(S.a)(T,void 0),filedConfig:{customLightMode:!0},fieldProps:Object(E.a)({options:H},M),proFieldProps:te},V))}},V.lightProps),proFieldProps:te},V))}),_=L.a.forwardRef(function(v,l){var H=v.fieldProps,M=v.children;return Object(P.jsx)(B.a,Object(E.a)(Object(E.a)({ref:l},H),{},{children:M}))}),p=Object(a.a)(_,{valuePropName:"checked"}),u=p;u.Group=O,g.a=u},vtG9:function(ce,g,e){}}]);
