"use strict";(self.webpackChunkant_design_pro=self.webpackChunkant_design_pro||[]).push([[7355],{82061:function(W,M,e){var o=e(1413),n=e(67294),u=e(47046),a=e(84089),d=function(E,m){return n.createElement(a.Z,(0,o.Z)((0,o.Z)({},E),{},{ref:m,icon:u.Z}))};d.displayName="DeleteOutlined",M.Z=n.forwardRef(d)},47389:function(W,M,e){var o=e(1413),n=e(67294),u=e(27363),a=e(84089),d=function(E,m){return n.createElement(a.Z,(0,o.Z)((0,o.Z)({},E),{},{ref:m,icon:u.Z}))};d.displayName="EditOutlined",M.Z=n.forwardRef(d)},51042:function(W,M,e){var o=e(1413),n=e(67294),u=e(42110),a=e(84089),d=function(E,m){return n.createElement(a.Z,(0,o.Z)((0,o.Z)({},E),{},{ref:m,icon:u.Z}))};d.displayName="PlusOutlined",M.Z=n.forwardRef(d)},31199:function(W,M,e){var o=e(1413),n=e(45987),u=e(67294),a=e(41550),d=e(85893),p=["fieldProps","min","proFieldProps","max"],E=function(r,D){var A=r.fieldProps,P=r.min,l=r.proFieldProps,v=r.max,c=(0,n.Z)(r,p);return(0,d.jsx)(a.Z,(0,o.Z)({valueType:"digit",fieldProps:(0,o.Z)({min:P,max:v},A),ref:D,filedConfig:{defaultProps:{width:"100%"}},proFieldProps:l},c))},m=u.forwardRef(E);M.Z=m},86615:function(W,M,e){var o=e(1413),n=e(45987),u=e(22270),a=e(55742),d=e(67294),p=e(90789),E=e(41550),m=e(85893),O=["fieldProps","options","radioType","layout","proFieldProps","valueEnum"],r=d.forwardRef(function(l,v){var c=l.fieldProps,h=l.options,_=l.radioType,i=l.layout,s=l.proFieldProps,j=l.valueEnum,g=(0,n.Z)(l,O);return(0,m.jsx)(E.Z,(0,o.Z)((0,o.Z)({valueType:_==="button"?"radioButton":"radio",ref:v,valueEnum:(0,u.h)(j,void 0)},g),{},{fieldProps:(0,o.Z)({options:h,layout:i},c),proFieldProps:s,filedConfig:{customLightMode:!0}}))}),D=d.forwardRef(function(l,v){var c=l.fieldProps,h=l.children;return(0,m.jsx)(a.ZP,(0,o.Z)((0,o.Z)({},c),{},{ref:v,children:h}))}),A=(0,p.G)(D,{valuePropName:"checked",ignoreWidth:!0}),P=A;P.Group=r,P.Button=a.ZP.Button,P.displayName="ProFormComponent",M.Z=P},5966:function(W,M,e){var o=e(97685),n=e(1413),u=e(45987),a=e(21770),d=e(75842),p=e(55241),E=e(97435),m=e(67294),O=e(41550),r=e(85893),D=["fieldProps","proFieldProps"],A=["fieldProps","proFieldProps"],P="text",l=function(i){var s=i.fieldProps,j=i.proFieldProps,g=(0,u.Z)(i,D);return(0,r.jsx)(O.Z,(0,n.Z)({valueType:P,fieldProps:s,filedConfig:{valueType:P},proFieldProps:j},g))},v=function(i){var s=(0,a.Z)(i.open||!1,{value:i.open,onChange:i.onOpenChange}),j=(0,o.Z)(s,2),g=j[0],y=j[1];return(0,r.jsx)(d.Z.Item,{shouldUpdate:!0,noStyle:!0,children:function(L){var T,H=L.getFieldValue(i.name||[]);return(0,r.jsx)(p.Z,(0,n.Z)((0,n.Z)({getPopupContainer:function(t){return t&&t.parentNode?t.parentNode:t},onOpenChange:y,content:(0,r.jsxs)("div",{style:{padding:"4px 0"},children:[(T=i.statusRender)===null||T===void 0?void 0:T.call(i,H),i.strengthText?(0,r.jsx)("div",{style:{marginTop:10},children:(0,r.jsx)("span",{children:i.strengthText})}):null]}),overlayStyle:{width:240},placement:"right"},i.popoverProps),{},{open:g,children:i.children}))}})},c=function(i){var s=i.fieldProps,j=i.proFieldProps,g=(0,u.Z)(i,A),y=(0,m.useState)(!1),V=(0,o.Z)(y,2),L=V[0],T=V[1];return s!=null&&s.statusRender&&g.name?(0,r.jsx)(v,{name:g.name,statusRender:s==null?void 0:s.statusRender,popoverProps:s==null?void 0:s.popoverProps,strengthText:s==null?void 0:s.strengthText,open:L,onOpenChange:T,children:(0,r.jsx)(O.Z,(0,n.Z)({valueType:"password",fieldProps:(0,n.Z)((0,n.Z)({},(0,E.Z)(s,["statusRender","popoverProps","strengthText"])),{},{onBlur:function(G){var t;s==null||(t=s.onBlur)===null||t===void 0||t.call(s,G),T(!1)},onClick:function(G){var t;s==null||(t=s.onClick)===null||t===void 0||t.call(s,G),T(!0)}}),proFieldProps:j,filedConfig:{valueType:P}},g))}):(0,r.jsx)(O.Z,(0,n.Z)({valueType:"password",fieldProps:s,proFieldProps:j,filedConfig:{valueType:P}},g))},h=l;h.Password=c,h.displayName="ProFormComponent",M.Z=h},95486:function(W,M,e){var o=e(5574),n=e.n(o),u=e(14726),a=e(28248),d=e(55742),p=e(94315),E=e(45823),m=e(67294),O=e(80854),r=e(85893),D=function(P){var l=P.value,v=P.onChange,c=(0,m.useState)(!1),h=n()(c,2),_=h[0],i=h[1],s=(0,m.useCallback)(function(){i(!1)},[]),j=(0,m.useState)("code"),g=n()(j,2),y=g[0],V=g[1];return(0,r.jsxs)("div",{children:[(0,r.jsx)(u.ZP,{type:"primary",onClick:function(){return i(!0)},size:"small",children:(0,r.jsx)(O.FormattedMessage,{id:"json_editor"})}),(0,r.jsxs)(a.Z,{title:"JSON",open:_,onOk:s,onCancel:s,destroyOnClose:!0,children:[(0,r.jsxs)(d.ZP.Group,{onChange:function(T){return V(T.target.value)},value:y,children:[(0,r.jsx)(d.ZP,{value:"tree",children:"tree"}),(0,r.jsx)(d.ZP,{value:"view",children:"view"}),(0,r.jsx)(d.ZP,{value:"form",children:"form"}),(0,r.jsx)(d.ZP,{value:"code",children:"code"}),(0,r.jsx)(d.ZP,{value:"text",children:"text"})]}),(0,r.jsx)(p.A,{mode:y,value:l,onChange:v},y)]})]})};M.Z=D},97092:function(W,M,e){e.r(M),e.d(M,{default:function(){return me}});var o=e(26271),n=e(74453),u=e(67294),a=e(80854),d=e(15009),p=e.n(d),E=e(99289),m=e.n(E),O=e(5574),r=e.n(O),D=e(51042),A=e(47389),P=e(82061),l=e(16894),v=e(2453),c=e(14726),h=e(83062),_=e(86738),i=e(36309),s=e(97857),j=e.n(s),g=e(37476),y=e(5966),V=e(86615),L=e(952),T=e(31199),H=e(75842),G=e(95486),t=e(85893),Q=function(I){return I.BOOLEAN="boolean",I.NUMBER="number",I.VARCHAR="varchar",I.TEXT="text",I.JSON="json",I}(Q||{}),oe=function(B){var J=B.visible,X=B.onVisibleChange,se=B.onResponse,w=B.class_type,k=B.name,F=k===void 0?"new":k,q=B.fields,ee=q===void 0?[]:q,b=(0,a.useIntl)(),te=H.Z.useForm(),Y=r()(te,1),z=Y[0],ae=(0,u.useCallback)(function(){var R=m()(p()().mark(function K(S){return p()().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,(0,i.kB)(j()(j()({},S),{},{class_type:w,rules:JSON.stringify(S.rules),extra:JSON.stringify(S.extra)})).then(function(x){x.success&&se(x.data)});case 2:return f.abrupt("return",!1);case 3:case"end":return f.stop()}},K)}));return function(K){return R.apply(this,arguments)}}(),[z]);return(0,u.useEffect)(function(){if(F!=="new"){var R=ee.find(function(K){return K.name===F});R&&z.setFieldsValue(R)}else z.resetFields()},[F,z,ee]),(0,t.jsxs)(g.Y,{form:z,title:b.formatMessage({id:F==="new"?"newModelField":"editModelField",defaultMessage:F==="new"?"new Model Field":"edit Model Field"}),width:"800px",visible:J,onVisibleChange:X,onFinish:ae,children:[(0,t.jsx)(y.Z,{required:!0,label:(0,t.jsx)(a.FormattedMessage,{id:"name",defaultMessage:"name"}),tooltip:(0,t.jsx)(a.FormattedMessage,{id:"name_tooltip",defaultMessage:"name_tooltip"}),rules:[{required:!0}],width:"md",name:"name"}),(0,t.jsx)(V.Z.Group,{rules:[{required:!0}],name:"type",label:(0,t.jsx)(a.FormattedMessage,{id:"type",defaultMessage:"type"}),tooltip:(0,t.jsx)(a.FormattedMessage,{id:"type_tooltip",defaultMessage:"type_tooltip"}),options:Object.keys(Q).map(function(R){return{label:b.formatMessage({id:"model.".concat(Q[R])}),value:Q[R]}})}),(0,t.jsx)(y.Z,{width:"md",name:"default",label:(0,t.jsx)(a.FormattedMessage,{id:"default",defaultMessage:"default"}),tooltip:(0,t.jsx)(a.FormattedMessage,{id:"default_tooltip",defaultMessage:"default_tooltip"}),placeholder:b.formatMessage({id:"default"})}),(0,t.jsx)(L.ZP.Item,{name:"rules",label:(0,t.jsxs)("span",{children:[(0,t.jsx)(a.FormattedMessage,{id:"rules",defaultMessage:"rules"})," ",(0,t.jsx)("a",{rel:"noreferrer",href:"https://laravel.com/docs/9.x/validation#available-validation-rules",target:"_blank",children:(0,t.jsx)(a.FormattedMessage,{id:"available-validation-rules",defaultMessage:"available-validation-rules"})})]}),tooltip:(0,t.jsx)(a.FormattedMessage,{id:"available-validation-rules-tooltip"}),valuePropName:"value",children:(0,t.jsx)(G.Z,{})}),(0,t.jsx)(T.Z,{width:"md",name:"visibility",label:(0,t.jsx)(a.FormattedMessage,{id:"visibility"}),tooltip:(0,t.jsx)(a.FormattedMessage,{id:"visibility_tooltip"}),placeholder:b.formatMessage({id:"visibility",defaultMessage:"visibility"}),min:1,max:1024,fieldProps:{step:1},rules:[{validator:function(){var R=m()(p()().mark(function S(U,f){return p()().wrap(function(C){for(;;)switch(C.prev=C.next){case 0:if(!(Math.pow(2,Math.ceil(Math.log2(f)))-f)){C.next=2;break}return C.abrupt("return",Promise.reject(new Error(b.formatMessage({id:"notPowerOfTwo",defaultMessage:"notPowerOfTwo"}))));case 2:return C.abrupt("return",Promise.resolve());case 3:case"end":return C.stop()}},S)}));function K(S,U){return R.apply(this,arguments)}return K}()}]}),(0,t.jsx)(L.ZP.Item,{name:"extra",label:(0,t.jsx)(a.FormattedMessage,{id:"extra"}),tooltip:(0,t.jsx)(a.FormattedMessage,{id:"extra_tooltip"}),valuePropName:"value",children:(0,t.jsx)(G.Z,{})})]})},le=oe,ie=[{title:(0,t.jsx)(a.FormattedMessage,{id:"name",defaultMessage:"name"}),dataIndex:"name",hideInSearch:!0,sorter:!0},{title:(0,t.jsx)(a.FormattedMessage,{id:"type",defaultMessage:"type"}),dataIndex:"type",sorter:!0},{title:(0,t.jsx)(a.FormattedMessage,{id:"default",defaultMessage:"default"}),dataIndex:"default",hideInSearch:!0}],de=function(B){var J=B.class_type,X=(0,u.useRef)(),se=(0,u.useState)(!1),w=r()(se,2),k=w[0],F=w[1],q=(0,a.useIntl)(),ee=(0,u.useState)(!1),b=r()(ee,2),te=b[0],Y=b[1],z=(0,u.useState)([]),ae=r()(z,2),R=ae[0],K=ae[1],S=(0,u.useCallback)(function(){var U=m()(p()().mark(function f(x){var C,re,N,$;return p()().wrap(function(Z){for(;;)switch(Z.prev=Z.next){case 0:return C=x.class_type_to_remove,re=x.name,F(!0),N=v.ZP.loading((0,t.jsx)(a.FormattedMessage,{id:"loading",defaultMessage:"loading"})),Z.prev=3,Z.next=6,(0,i.AK)({class_type:C,name:re}).then(function(ne){F(!1),ne.success&&v.ZP.success(ne.message)});case 6:return N(),F(!1),($=X.current)===null||$===void 0||$.reload(),Z.abrupt("return",!0);case 12:return Z.prev=12,Z.t0=Z.catch(3),N(),v.ZP.error((0,t.jsx)(a.FormattedMessage,{id:"error",defaultMessage:"error"})),F(!1),Z.abrupt("return",!1);case 18:case"end":return Z.stop()}},f,null,[[3,12]])}));return function(f){return U.apply(this,arguments)}}(),[X]);return(0,t.jsxs)(u.Fragment,{children:[(0,t.jsx)(le,{fields:R,onResponse:function(){var f;Y(!1),(f=X.current)===null||f===void 0||f.reload()},class_type:J,name:te,visible:typeof te=="string",onVisibleChange:function(f){return f===!1&&Y(!1)}}),(0,t.jsx)(l.ZP,{search:!1,headerTitle:q.formatMessage({id:"ModelFields",defaultMessage:"Model Fields"}),toolBarRender:function(){return[(0,t.jsxs)(c.ZP,{type:"primary",onClick:function(){return Y("new")},children:[(0,t.jsx)(D.Z,{})," ",(0,t.jsx)(a.FormattedMessage,{id:"new",defaultMessage:"new"})]},"new")]},loading:k,actionRef:X,rowKey:"id",request:function(f,x){var C=f.pageSize,re=f.current,N=x&&Object.entries(x)[0];return F(!0),(0,i.XU)({page:re,per_page:C,class_type:J,order_by:N&&N[0],order:N?N[1]==="ascend"?"ASC":"DESC":void 0}).then(function($){return F(!1),$.success?(K($.data),{data:$.data,total:$.data.length,success:!0}):[]})},columns:[].concat(ie,[{title:(0,t.jsx)(a.FormattedMessage,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",width:"10%",render:function(f,x){return[(0,t.jsx)(h.Z,{title:(0,t.jsx)(a.FormattedMessage,{id:"edit",defaultMessage:"edit"}),children:(0,t.jsx)(c.ZP,{type:"primary",icon:(0,t.jsx)(A.Z,{}),onClick:function(){return Y(x.name)}})},"edit"),(0,t.jsx)(_.Z,{title:(0,t.jsx)(a.FormattedMessage,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return x.name&&S({class_type_to_remove:J,name:x.name})},okText:(0,t.jsx)(a.FormattedMessage,{id:"yes",defaultMessage:"Yes"}),cancelText:(0,t.jsx)(a.FormattedMessage,{id:"no",defaultMessage:"No"}),children:(0,t.jsx)(h.Z,{title:(0,t.jsx)(a.FormattedMessage,{id:"delete",defaultMessage:"delete"}),children:(0,t.jsx)(c.ZP,{type:"primary",icon:(0,t.jsx)(P.Z,{}),danger:!0})})},"delete")]}}])})]})},ue=de,_e=function(){return(0,t.jsx)(n._z,{children:(0,t.jsxs)(o.ZP,{tabs:{type:"card",activeKey:"fields",onChange:function(J){return a.history.push("/users/".concat(J))}},children:[(0,t.jsx)(o.ZP.TabPane,{tab:(0,t.jsx)(a.FormattedMessage,{id:"list"})},"list"),(0,t.jsx)(o.ZP.TabPane,{tab:(0,t.jsx)(a.FormattedMessage,{id:"ModelFields"}),children:(0,t.jsx)(ue,{class_type:"EscolaLms\\Auth\\Models\\User"})},"fields")]})})},me=_e},36309:function(W,M,e){e.d(M,{AK:function(){return A},XU:function(){return m},kB:function(){return r}});var o=e(15009),n=e.n(o),u=e(97857),a=e.n(u),d=e(99289),p=e.n(d),E=e(80854);function m(l,v){return O.apply(this,arguments)}function O(){return O=p()(n()().mark(function l(v,c){return n()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,E.request)("/api/model-fields",a()({method:"GET",params:v},c||{})));case 1:case"end":return _.stop()}},l)})),O.apply(this,arguments)}function r(l,v){return D.apply(this,arguments)}function D(){return D=p()(n()().mark(function l(v,c){return n()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,E.request)("/api/admin/model-fields",a()({method:"POST",data:v},c||{})));case 1:case"end":return _.stop()}},l)})),D.apply(this,arguments)}function A(l,v){return P.apply(this,arguments)}function P(){return P=p()(n()().mark(function l(v,c){return n()().wrap(function(_){for(;;)switch(_.prev=_.next){case 0:return _.abrupt("return",(0,E.request)("/api/admin/model-fields",a()({method:"DELETE",data:v},c||{})));case 1:case"end":return _.stop()}},l)})),P.apply(this,arguments)}}}]);
