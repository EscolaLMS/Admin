(window.webpackJsonp=window.webpackJsonp||[]).push([[31],{"G/Ub":function(N,O,e){"use strict";e.d(O,"d",function(){return H}),e.d(O,"a",function(){return X}),e.d(O,"b",function(){return Y}),e.d(O,"c",function(){return $}),e.d(O,"e",function(){return A});var l=e("qLMh"),b=e("k1fw"),v=e("9og8"),j=e("9kvl");function H(i){return E.apply(this,arguments)}function E(){return E=Object(v.a)(Object(l.a)().mark(function i(p){return Object(l.a)().wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.abrupt("return",Object(j.g)("/api/admin/roles",Object(b.a)({method:"GET",useCache:!1},p||{})));case 1:case"end":return n.stop()}},i)})),E.apply(this,arguments)}function X(i,p){return P.apply(this,arguments)}function P(){return P=Object(v.a)(Object(l.a)().mark(function i(p,r){return Object(l.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(j.g)("/api/admin/roles",Object(b.a)({method:"POST",headers:{"Content-Type":"application/json"},data:p},r||{})));case 1:case"end":return a.stop()}},i)})),P.apply(this,arguments)}function Y(i,p){return C.apply(this,arguments)}function C(){return C=Object(v.a)(Object(l.a)().mark(function i(p,r){return Object(l.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(j.g)("/api/admin/roles/".concat(p),Object(b.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},r||{})));case 1:case"end":return a.stop()}},i)})),C.apply(this,arguments)}function $(i,p){return R.apply(this,arguments)}function R(){return R=Object(v.a)(Object(l.a)().mark(function i(p,r){return Object(l.a)().wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(j.g)("/api/admin/roles/".concat(p),Object(b.a)({method:"GET",useCache:!1},r||{})));case 1:case"end":return a.stop()}},i)})),R.apply(this,arguments)}function A(i,p,r){return h.apply(this,arguments)}function h(){return h=Object(v.a)(Object(l.a)().mark(function i(p,r,n){return Object(l.a)().wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.abrupt("return",Object(j.g)("/api/admin/roles/".concat(p),Object(b.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:r},n||{})));case 1:case"end":return f.stop()}},i)})),h.apply(this,arguments)}},GwcT:function(N,O,e){},O867:function(N,O,e){},Rg7m:function(N,O,e){"use strict";e.r(O);var l=e("IzEo"),b=e("bx4M"),v=e("5Dmo"),j=e("3S7+"),H=e("14J3"),E=e("BMrR"),X=e("T2oS"),P=e("W9HT"),Y=e("miYZ"),C=e("tsqr"),$=e("oBTY"),R=e("jrin"),A=e("k1fw"),h=e("qLMh"),i=e("9og8"),p=e("y8nQ"),r=e("Vl3Y"),n=e("tJVT"),a=e("q1tI"),f=e.n(a),o=e("VMEa"),L=e("nhC9"),te=e("G/Ub"),ce=e("tMyG"),ue=e("Ty5D"),ie=e("9kvl"),Ue=e("O867"),Ie=e("sRBo"),me=e("kaz8"),t=e("AJpP"),de=e("VX7R"),pe=e("zsHu"),re=e("xvlK"),Oe=e("/MfK"),be=e("b6To"),je=e("eFNv"),he=e("VOzN"),ve=e("4KAj"),fe=e("lfch"),ge=e("mxu5"),ye=e("AzWu"),Te=e("q9hl"),oe=e("cJ7L"),Ce=e("2XLT"),Ee=e("40U4"),Pe=e("/1V0"),Re=e("X72a"),Ae=e("f1wO"),Fe=e("GwcT"),g=e("nKUr"),W={list:{color:t.blue.primary,background:t.blue[0],component:de.a},update:{color:t.orange.primary,background:t.orange[0],component:pe.a},create:{color:t.cyan.primary,background:t.cyan[0],component:re.a},add:{color:t.cyan.primary,background:t.cyan[0],component:re.a},delete:{color:t.volcano.primary,background:t.volcano[0],component:Oe.a},read:{color:t.green.primary,background:t.green[0],component:be.a},manage:{color:t.gold.primary,background:t.gold[0],component:je.a},import:{color:t.blue.primary,background:t.blue[0],component:he.a},export:{color:t.blue.primary,background:t.blue[0],component:ve.a},clone:{color:t.blue.primary,background:t.blue[0],component:fe.a},access:{color:t.blue.primary,background:t.blue[0],component:ge.a},install:{color:t.gold.primary,background:t.gold[0],component:ye.a},upload:{color:t.blue.primary,background:t.blue[0],component:Te.a},authored:{color:t.geekblue.primary,background:t.geekblue[0],component:oe.a},account:{color:t.geekblue.primary,background:t.geekblue[0],component:oe.a},term:{color:t.blue.primary,background:t.blue[0],component:Ce.a},use:{color:t.blue.primary,background:t.blue[0],component:Ee.a},dashboard:{color:t.magenta.primary,background:t.magenta[0],component:Pe.a},trigger:{color:t.blue.primary,background:t.blue[0],component:Re.a},buy:{color:t.yellow.primary,background:t.yellow[0],component:Ae.a}},De=function(y){var x,K,D,k,z,U,I=y.name,Q=y.nameKey,V=y.assigned,Z=y.onChange,F=Object(a.useState)(V),G=Object(n.a)(F,2),w=G[0],q=G[1],J=I.replaceAll(/(_|-)/g," ").trim(),B=J.replace("self","").trim(),_=I!==Q?I.replace(Q,"").replaceAll(/(_|-)/g," "):J,S=B.split(" ").slice(-1)[0],ee=function(){q(function(u){return!u}),Z(I)},ne=(x=(K=W[S])===null||K===void 0?void 0:K.component)!==null&&x!==void 0?x:f.a.Fragment;return Object(a.useEffect)(function(){q(V)},[V]),Object(g.jsx)(me.a,{name:"checkbox",className:"custom-checkbox",checked:w,style:(D=W[S])!==null&&D!==void 0&&D.background&&w?{backgroundColor:(k=W[S])===null||k===void 0?void 0:k.background}:void 0,"aria-label":J,onChange:ee,children:Object(g.jsxs)("div",{className:"custom-checkbox__content",children:[_,Object(g.jsx)(ne,{style:((z=W[S])===null||z===void 0?void 0:z.color)&&{color:(U=W[S])===null||U===void 0?void 0:U.color}})]})})},$e=De,Se=e("twdk"),Ge=O.default=function(){var se=Object(ue.l)(),y=se.name,x=Object(a.useState)([]),K=Object(n.a)(x,2),D=K[0],k=K[1],z=Object(a.useState)({}),U=Object(n.a)(z,2),I=U[0],Q=U[1],V=Object(a.useState)([]),Z=Object(n.a)(V,2),F=Z[0],G=Z[1],w=r.a.useForm(),q=Object(n.a)(w,1),J=q[0],B=Object(a.useRef)(null),_=Object(a.useCallback)(Object(i.a)(Object(h.a)().mark(function u(){var c,m;return Object(h.a)().wrap(function(d){for(;;)switch(d.prev=d.next){case 0:return d.next=2,Object(te.c)(y);case 2:c=d.sent,c.success&&(m=c.data.filter(function(M){return M.assigned}).map(function(M){return M.name}),B.current=m,k(c.data),G(m));case 4:case"end":return d.stop()}},u)})),[y]);Object(a.useEffect)(function(){var u=function(){var c=Object(i.a)(Object(h.a)().mark(function m(){var T,d;return Object(h.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(Se.d)("permissions");case 3:if(T=s.sent,T.success){s.next=6;break}throw new Error("Failed to download translations of the permissions!");case 6:d=T.data.reduce(function(Me,le){var Le=le.key,Ke=le.value;return Object(A.a)(Object(A.a)({},Me),{},Object(R.a)({},Le.split(".")[1],Ke))},{}),Q(d),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(0),console.error(s.t0);case 13:case"end":return s.stop()}},m,null,[[0,10]])}));return function(){return c.apply(this,arguments)}}();_(),u()},[y,_]);var S=Object(a.useMemo)(function(){return{onFinish:function(){var u=Object(i.a)(Object(h.a)().mark(function m(){var T,d;return Object(h.a)().wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.prev=0,s.next=3,Object(te.e)(y,{permissions:Object($.a)(F)});case 3:return T=s.sent,s.next=6,T;case 6:d=s.sent,d.success&&(C.b.success(d.message),B.current=F),s.next=13;break;case 10:s.prev=10,s.t0=s.catch(0),C.b.error(s.t0.data.message);case 13:case"end":return s.stop()}},m,null,[[0,10]])}));function c(){return u.apply(this,arguments)}return c}(),onReset:function(){return B.current&&G(B.current)},initialValues:D}},[D,y,F]),ee=Object(a.useCallback)(function(u){G(function(c){return c.includes(u)?c.filter(function(m){return m!==u}):[].concat(Object($.a)(c),[u])})},[y]),ne=D.reduce(function(u,c){var m;return typeof c=="undefined"||(u[c.name.split("_")[0]]=[].concat(Object($.a)((m=u[c.name.split("_")[0]])!==null&&m!==void 0?m:[]),[c])),u},{}),ae=Object.entries(ne).sort(function(u,c){var m=Object(n.a)(u,2),T=m[1],d=Object(n.a)(c,2),M=d[1];return T.length-M.length});return D.length?Object(g.jsx)(ce.a,{title:Object(g.jsx)(ie.a,{id:"permissions"}),children:Object(g.jsx)(L.a,{children:Object(g.jsx)(o.a,Object(A.a)(Object(A.a)({},S),{},{form:J,className:"permissions-form",children:!!ae.length&&ae.map(function(u){var c=Object(n.a)(u,2),m=c[0],T=c[1];return Object(g.jsx)(b.a,{title:m,size:"small",className:"permissions-cart",children:T.map(function(d){return Object(g.jsx)(j.a,{title:I[d.name],placement:"topLeft",children:Object(g.jsx)(E.a,{children:Object(g.jsx)($e,{nameKey:m,name:d.name,assigned:F.includes(d.name),onChange:ee})})},d.id)})},m)})}))})}):Object(g.jsx)(P.a,{})}},twdk:function(N,O,e){"use strict";e.d(O,"e",function(){return H}),e.d(O,"a",function(){return X}),e.d(O,"c",function(){return Y}),e.d(O,"d",function(){return $}),e.d(O,"f",function(){return A}),e.d(O,"b",function(){return i});var l=e("qLMh"),b=e("k1fw"),v=e("9og8"),j=e("9kvl");function H(r,n){return E.apply(this,arguments)}function E(){return E=Object(v.a)(Object(l.a)().mark(function r(n,a){return Object(l.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(j.g)("/api/admin/translations",Object(b.a)({method:"GET",useCache:!1,params:Object(b.a)(Object(b.a)({},n),{},{per_page:n&&n.pageSize,page:n&&n.current})},a||{})));case 1:case"end":return o.stop()}},r)})),E.apply(this,arguments)}function X(r,n){return P.apply(this,arguments)}function P(){return P=Object(v.a)(Object(l.a)().mark(function r(n,a){return Object(l.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(j.g)("/api/admin/translations",Object(b.a)({method:"POST",headers:{"Content-Type":"application/json"},data:n},a||{})));case 1:case"end":return o.stop()}},r)})),P.apply(this,arguments)}function Y(r,n){return C.apply(this,arguments)}function C(){return C=Object(v.a)(Object(l.a)().mark(function r(n,a){return Object(l.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(j.g)("/api/admin/translations/".concat(n),Object(b.a)({method:"GET",headers:{"Content-Type":"application/json"}},a||{})));case 1:case"end":return o.stop()}},r)})),C.apply(this,arguments)}function $(r,n){return R.apply(this,arguments)}function R(){return R=Object(v.a)(Object(l.a)().mark(function r(n,a){return Object(l.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(j.g)("/api/admin/translations/retrieve",Object(b.a)({method:"POST",headers:{"Content-Type":"application/json"},data:{key:n}},a||{})));case 1:case"end":return o.stop()}},r)})),R.apply(this,arguments)}function A(r,n,a){return h.apply(this,arguments)}function h(){return h=Object(v.a)(Object(l.a)().mark(function r(n,a,f){return Object(l.a)().wrap(function(L){for(;;)switch(L.prev=L.next){case 0:return L.abrupt("return",Object(j.g)("/api/admin/translations/".concat(n),Object(b.a)({method:"PUT",headers:{"Content-Type":"application/json"},data:a},f||{})));case 1:case"end":return L.stop()}},r)})),h.apply(this,arguments)}function i(r,n){return p.apply(this,arguments)}function p(){return p=Object(v.a)(Object(l.a)().mark(function r(n,a){return Object(l.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(j.g)("/api/admin/translations/".concat(n),Object(b.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},a||{})));case 1:case"end":return o.stop()}},r)})),p.apply(this,arguments)}}}]);
