(window.webpackJsonp=window.webpackJsonp||[]).push([[48],{"4f6N":function(w,c,e){"use strict";var l=e("2qtc"),d=e("kLXV"),f=e("9kvl"),_=e("nKUr"),O=e.n(_),A=function(P){var b=P.visible,D=P.setManage;return Object(_.jsx)(d.a,{width:"600px",title:Object(_.jsx)(f.a,{id:"course.validate_edit.header",defaultMessage:"course.validate_edit.header"}),visible:b,onOk:function(){return D({showModal:!1,disableEdit:!1,clicked:!0})},onCancel:function(){return D({showModal:!1,disableEdit:!0,clicked:!1})},okText:"OK",cancelText:"Cancel",children:Object(_.jsx)("p",{children:Object(_.jsx)(f.a,{id:"course.validate_edit.content",defaultMessage:"course.validate_edit.content"})})})};c.a=A},EmS3:function(w,c,e){"use strict";e.d(c,"f",function(){return A}),e.d(c,"a",function(){return P}),e.d(c,"d",function(){return D}),e.d(c,"e",function(){return j}),e.d(c,"b",function(){return B}),e.d(c,"c",function(){return F});var l=e("k1fw"),d=e("9og8"),f=e("WmNS"),_=e.n(f),O=e("9kvl");function A(i,o){return v.apply(this,arguments)}function v(){return v=Object(d.a)(_.a.mark(function i(o,s){return _.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(O.f)("/api/admin/webinars",Object(l.a)({method:"GET",useCache:!1,params:Object(l.a)(Object(l.a)({},o),{},{per_page:o&&o.pageSize,page:o&&o.current})},s||{})));case 1:case"end":return r.stop()}},i)})),v.apply(this,arguments)}function P(i,o){return b.apply(this,arguments)}function b(){return b=Object(d.a)(_.a.mark(function i(o,s){return _.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(O.f)("/api/admin/webinars",Object(l.a)({method:"POST",headers:{"Content-Type":"application/json"},data:o},s||{})));case 1:case"end":return r.stop()}},i)})),b.apply(this,arguments)}function D(i,o){return C.apply(this,arguments)}function C(){return C=Object(d.a)(_.a.mark(function i(o,s){return _.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(O.f)("/api/admin/webinars/".concat(o),Object(l.a)({method:"GET",useCache:!1},s||{})));case 1:case"end":return r.stop()}},i)})),C.apply(this,arguments)}function j(i,o,s){return n.apply(this,arguments)}function n(){return n=Object(d.a)(_.a.mark(function i(o,s,U){return _.a.wrap(function(R){for(;;)switch(R.prev=R.next){case 0:return R.abrupt("return",Object(O.f)("/api/admin/webinars/".concat(o,"?method=PUT"),Object(l.a)({method:"POST",headers:{"Content-Type":"application/json"},data:s},U||{})));case 1:case"end":return R.stop()}},i)})),n.apply(this,arguments)}function B(i,o){return W.apply(this,arguments)}function W(){return W=Object(d.a)(_.a.mark(function i(o,s){return _.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(O.f)("/api/admin/webinars/".concat(o),Object(l.a)({method:"DELETE",useCache:!1},s||{})));case 1:case"end":return r.stop()}},i)})),W.apply(this,arguments)}function F(i,o){return x.apply(this,arguments)}function x(){return x=Object(d.a)(_.a.mark(function i(o,s){return _.a.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(O.f)("/api/admin/g-token/generate",Object(l.a)({method:"POST",headers:{"Content-Type":"application/json"},data:o},s||{})));case 1:case"end":return r.stop()}},i)})),x.apply(this,arguments)}},VlvL:function(w,c,e){"use strict";var l=e("9kvl"),d=e("Ty5D"),f=e("nKUr"),_=e.n(f),O=function(v){var P=v.show,b=Object(l.i)();return Object(f.jsx)(d.b,{when:P,message:b.formatMessage({id:"unsaved_changes"})})};c.a=O},eFHa:function(w,c,e){"use strict";e.d(c,"a",function(){return O});var l=e("tJVT"),d=e("q1tI"),f=e.n(d),_=e("HZtn");function O(){var A=Object(d.useState)({showModal:!1,disableEdit:!1,clicked:!1}),v=Object(l.a)(A,2),P=v[0],b=v[1],D=function(j){(j==null?void 0:j.status)==="published"&&j!==null&&j!==void 0&&j.active_from&&Object(_.a)(new Date(j==null?void 0:j.active_from))&&!P.clicked?b({showModal:!1,disableEdit:!0,clicked:!1}):b({showModal:!1,disableEdit:!1,clicked:!1})};return{manageCourseEdit:P,setManageCourseEdit:b,validateCourseEdit:D}}},q34N:function(w,c,e){"use strict";var l=e("tJVT"),d=e("0eZe"),f=e("q1tI"),_=e.n(f),O=e("nKUr"),A=e.n(O),v=function(b){var D=b.productable,C=b.type,j=C===void 0?"card":C,n=Object(f.useState)("attributes"),B=Object(l.a)(n,2),W=B[0],F=B[1];return Object(O.jsx)(d.a,{productable:D,tab:W,onTabChange:function(i){return F(i)},type:j})};c.a=v},tixb:function(w,c,e){"use strict";e.r(c);var l=e("14J3"),d=e("BMrR"),f=e("jCWc"),_=e("kPKH"),O=e("fOrg"),A=e("+KLJ"),v=e("+L6B"),P=e("2/Rp"),b=e("T2oS"),D=e("W9HT"),C=e("miYZ"),j=e("tsqr"),n=e("k1fw"),B=e("9og8"),W=e("tJVT"),F=e("WmNS"),x=e.n(F),i=e("q1tI"),o=e.n(i),s=e("VMEa"),U=e("Qurx"),r=e("yj/a"),R=e("CnWR"),se=e("BiO0"),y=e("nhC9"),z=e("hd5d"),re=e("tMyG"),t=e("9kvl"),ie=e("Ty5D"),$=e("EmS3"),_e=e("0WSk"),Q=e("Gn8c"),X=e("c+yx"),de=e("rnuo"),oe=e("VlvL"),k=e("viv7"),le=e("eFHa"),ce=e("4f6N"),ue=e("q34N"),me=e("5RzD"),a=e("nKUr"),he=e.n(a),Oe=function(){var I=Object(t.i)(),q=Object(ie.l)(),u=q.webinar,ee=q.tab,h=ee===void 0?"attributes":ee,K=u==="new",be=Object(i.useState)(!1),ae=Object(W.a)(be,2),je=ae[0],G=ae[1],Ee=Object(i.useState)(),te=Object(W.a)(Ee,2),E=te[0],N=te[1],J=Object(le.a)(),M=J.manageCourseEdit,H=J.setManageCourseEdit,ne=J.validateCourseEdit,Me=s.a.useForm(),fe=Object(W.a)(Me,1),ve=fe[0],Pe=Object(i.useCallback)(Object(B.a)(x.a.mark(function T(){var m;return x.a.wrap(function(p){for(;;)switch(p.prev=p.next){case 0:return p.next=2,Object($.d)(Number(u));case 2:m=p.sent,m.success&&(h==="attributes"&&ne(m.data),N(Object(n.a)({},m.data)));case 4:case"end":return p.stop()}},T)})),[u]);Object(i.useEffect)(function(){if(K){N({name:"new"});return}Pe()},[u]);var V=Object(i.useMemo)(function(){return{onFinish:function(){var T=Object(B.a)(x.a.mark(function S(p){var Y,L;return x.a.wrap(function(g){for(;;)switch(g.prev=g.next){case 0:if(!M.disableEdit){g.next=3;break}return H({showModal:!0,disableEdit:!0,clicked:!1}),g.abrupt("return");case 3:if(Y=Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)(Object(n.a)({},p),h==="attributes"&&{active_from:new Date(String(p.active_from))}),h==="attributes"&&{active_to:new Date(String(p.active_to))}),h==="media"&&{image_url:E&&E.image_url}),h==="media"&&{image_path:E&&E.image_url&&Object(X.e)(E.image_url)}),h==="branding"&&{logotype_url:E&&E.logotype_url}),h==="branding"&&{logotype_path:E&&E.logotype_path&&Object(X.e)(E.logotype_path)}),{},{trainers:p.trainers&&p.trainers.map(function(Z){return typeof Z=="object"?Z.id:Z})}),!K){g.next=11;break}return g.next=7,Object($.a)(Y);case 7:L=g.sent,L.success&&(G(!1),t.d.push("/webinars/".concat(L.data.id))),g.next=15;break;case 11:return g.next=13,Object($.e)(Number(u),Y);case 13:L=g.sent,L.success&&(G(!1),ne(L.data),t.d.push("/webinars/".concat(L.data.id,"/").concat(h)));case 15:j.default.success(L.message);case 16:case"end":return g.stop()}},S)}));function m(S){return T.apply(this,arguments)}return m}(),initialValues:E}},[E,u,h,M]);return E?Object(a.jsx)(re.a,{title:K?Object(a.jsx)(t.a,{id:"menu.webinars"}):Object(a.jsx)(t.a,{id:"webinar.edit"}),header:{breadcrumb:{routes:[{path:"webinars",breadcrumbName:I.formatMessage({id:"menu.Webinars"})},{path:String(u),breadcrumbName:I.formatMessage({id:"form"})},{path:"/",breadcrumbName:I.formatMessage({id:String(E.name)})},{path:String(h),breadcrumbName:I.formatMessage({id:String(h)})}]}},children:Object(a.jsxs)(y.a,{tabs:{type:"card",activeKey:h,onChange:function(m){return t.d.push("/webinars/".concat(u,"/").concat(m))}},children:[Object(a.jsxs)(y.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"attributes"}),children:[M.disableEdit&&Object(a.jsx)(A.a,{closable:!0,style:{marginBottom:"20px"},type:"warning",message:Object(a.jsx)(t.a,{id:"course_edit_warning_message",defaultMessage:"course_edit_warning_message"}),action:Object(a.jsx)(P.a,{onClick:function(){return H({showModal:!0,disableEdit:!0,clicked:!0})},type:"primary",children:Object(a.jsx)(t.a,{id:"questionnaire.submit",defaultMessage:"questionnaire.submit"})})}),Object(a.jsx)(oe.a,{show:je}),Object(a.jsx)(ce.a,{visible:M.showModal,setManage:H}),Object(a.jsxs)(s.a,Object(n.a)(Object(n.a)({},V),{},{form:ve,onValuesChange:function(){G(!0)},children:[Object(a.jsxs)(s.a.Group,{children:[Object(a.jsx)(U.a,{width:"md",name:"name",label:Object(a.jsx)(t.a,{id:"name"}),tooltip:Object(a.jsx)(t.a,{id:"name"}),placeholder:I.formatMessage({id:"name",defaultMessage:"name"}),required:!0,disabled:M.disableEdit}),Object(a.jsx)(U.a,{width:"sm",name:"duration",label:Object(a.jsx)(t.a,{id:"duration"}),tooltip:Object(a.jsx)(t.a,{id:"duration"}),placeholder:I.formatMessage({id:"duration",defaultMessage:"duration"}),disabled:M.disableEdit}),Object(a.jsx)(r.a,{name:"status",width:"xs",label:Object(a.jsx)(t.a,{id:"status"}),valueEnum:k.a,initialValue:k.a.draft,placeholder:I.formatMessage({id:"status"}),rules:[{required:!0,message:Object(a.jsx)(t.a,{id:"select"})}],disabled:M.disableEdit})]}),Object(a.jsxs)(s.a.Group,{children:[Object(a.jsx)(R.a,{width:"sm",name:"active_from",label:Object(a.jsx)(t.a,{id:"active_from"}),tooltip:Object(a.jsx)(t.a,{id:"active_from"}),placeholder:I.formatMessage({id:"active_from",defaultMessage:"active_from"}),disabled:M.disableEdit}),Object(a.jsx)(R.a,{width:"sm",name:"active_to",label:Object(a.jsx)(t.a,{id:"active_to"}),tooltip:Object(a.jsx)(t.a,{id:"active_to"}),placeholder:I.formatMessage({id:"active_to",defaultMessage:"active_to"}),disabled:M.disableEdit}),Object(a.jsx)(s.a.Item,{name:"trainers",label:Object(a.jsx)(t.a,{id:"tutor"}),valuePropName:"value",children:Object(a.jsx)(_e.a,{multiple:!0})})]}),Object(a.jsx)(s.a.Group,{children:Object(a.jsx)(se.a,{width:"lg",name:"short_desc",label:Object(a.jsx)(t.a,{id:"short_description"}),tooltip:Object(a.jsx)(t.a,{id:"short_description"})})}),Object(a.jsx)(s.a.Group,{children:Object(a.jsx)(s.a.Item,{name:"agenda",label:Object(a.jsx)(t.a,{id:"program"}),tooltip:Object(a.jsx)(t.a,{id:"program"}),valuePropName:"value",children:Object(a.jsx)(z.a,{directory:"webinars/".concat(u,"/wysiwyg")})})}),Object(a.jsx)(s.a.Group,{children:Object(a.jsx)(s.a.Item,{name:"description",label:Object(a.jsx)(t.a,{id:"description"}),tooltip:Object(a.jsx)(t.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(a.jsx)(z.a,{directory:"webinars/".concat(u,"/wysiwyg")})})})]}))]},"attributes")," ",!K&&Object(a.jsx)(y.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"product"}),disabled:M.disableEdit,children:u&&Object(a.jsx)(ue.a,{productable:{class_type:"App\\Models\\Webinar",class_id:u,name:String(E.name)}})},"product"),!K&&Object(a.jsx)(y.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"media"}),disabled:M.disableEdit,children:Object(a.jsx)(s.a,Object(n.a)(Object(n.a)({},V),{},{children:Object(a.jsx)(Q.a,{folder:"webinar/".concat(u),title:"image",action:"/api/admin/webinars/".concat(u),src_name:"image_url",form_name:"image",getUploadedSrcField:function(m){return m.file.response.data.image_url},setPath:function(m){return N(function(S){return Object(n.a)(Object(n.a)({},S),m)})}})}))},"media"),!K&&Object(a.jsx)(y.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"tags"}),disabled:M.disableEdit,children:Object(a.jsx)(d.a,{children:Object(a.jsx)(_.a,{span:12,children:Object(a.jsx)(s.a,Object(n.a)(Object(n.a)({},V),{},{children:Object(a.jsx)(s.a.Item,{label:Object(a.jsx)(t.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(a.jsx)(de.a,{})})}))})})},"tags")," ",!K&&Object(a.jsx)(y.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"branding"}),disabled:M.disableEdit,children:Object(a.jsx)(s.a,Object(n.a)(Object(n.a)({},V),{},{children:Object(a.jsx)(Q.a,{folder:"webinar/".concat(u),title:"logotype",action:"/api/admin/webinars/".concat(u),src_name:"logotype_url",form_name:"logotype",getUploadedSrcField:function(m){return m.file.response.data.logotype_url},setPath:function(m){return N(function(S){return Object(n.a)(Object(n.a)({},S),m)})}})}))},"branding")," ",!K&&Object(a.jsx)(y.a.TabPane,{tab:Object(a.jsx)(t.a,{id:"user_submission"}),disabled:M.disableEdit,children:Object(a.jsx)(d.a,{children:Object(a.jsx)(_.a,{span:12,children:u&&Object(a.jsx)(me.a,{id:Number(u),type:"App\\Models\\Webinar"})})})},"user_submission")]})}):Object(a.jsx)(D.a,{})};c.default=Oe},viv7:function(w,c,e){"use strict";e.d(c,"a",function(){return l});var l;(function(d){d.draft="draft",d.published="published",d.archived="archived",d.published_unactivated="published_unactivated"})(l||(l={}))}}]);
