(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{"8j+T":function(D,c,e){"use strict";var s=this&&this.__createBinding||(Object.create?function(f,u,_,o){o===void 0&&(o=_);var r=Object.getOwnPropertyDescriptor(u,_);(!r||("get"in r?!u.__esModule:r.writable||r.configurable))&&(r={enumerable:!0,get:function(){return u[_]}}),Object.defineProperty(f,o,r)}:function(f,u,_,o){o===void 0&&(o=_),f[o]=u[_]}),m=this&&this.__exportStar||function(f,u){for(var _ in f)_!=="default"&&!Object.prototype.hasOwnProperty.call(u,_)&&s(u,f,_)};Object.defineProperty(c,"__esModule",{value:!0}),m(e("Xljc"),c)},"Ecy+":function(D,c,e){"use strict";var s=e("fOrg"),m=e("+KLJ"),f=e("g9YV"),u=e("wCAj"),_=e("T2oS"),o=e("W9HT"),r=e("+L6B"),t=e("2/Rp"),a=e("k1fw"),n=e("tJVT"),l=e("q1tI"),d=e.n(l),i=e("I+Rq"),O=e("w/VK"),E=e("9kvl"),v=e("nhC9"),U=e("Mo4S"),L=e("8j+T"),x=e.n(L),h=e("nKUr"),P=e.n(h),S=[{title:Object(h.jsx)(E.a,{id:"label",defaultMessage:"label"}),dataIndex:"label",key:"label"},{title:Object(h.jsx)(E.a,{id:"value",defaultMessage:"value"}),dataIndex:"value",key:"value"}],F=function(g){var T=g.metric,K=g.header,R=K===void 0?!0:K,W=g.asDonut,w=W===void 0?!1:W,H=g.customLabelTitle,C=g.customLabelContent,z=Object(l.useState)({mode:"init"}),V=Object(n.a)(z,2),p=V[0],y=V[1],G=Object(E.l)(),N={appendPadding:10,angleField:"value",colorField:"label",radius:.9,label:{type:"inner",offset:"-30%",content:function(b){var M=b.percent;return M>=.01?"".concat((M*100).toFixed(0),"%"):""},style:{fontSize:14,textAlign:"center"}},interactions:[{type:"element-active"}],legend:{itemValue:{alignRight:!0,formatter:function(b,M){if(C&&"value"in p){var A=p.value.find(function(I){var B=I.label;return B===M.name});return A?C(A):b}return b}}}},J={appendPadding:20,innerRadius:.6,label:Object(a.a)(Object(a.a)({},N.label),{},{offset:"-50%"}),legend:{itemWidth:void 0,itemName:{formatter:function(b){return H?H(b):b}},offsetX:-24,itemValue:{formatter:function(b,M){if(C&&"value"in p){var A=p.value.find(function(I){var B=I.label;return B===M.value});return A?C(A):void 0}}}}},X=Object(a.a)(Object(a.a)({},N),w?J:{});Object(l.useEffect)(function(){y({mode:"loading"}),Object(O.c)({metric:T}).then(function(j){j.success?y({mode:"loaded",value:j.data}):y({mode:"error",error:j.message})}).catch(function(j){return y({mode:"error",error:j.toString()})})},[T]);var $=Object(l.useCallback)(function(){if(p.mode==="loaded"){var j={filename:T.split("\\").join("-"),fieldSeparator:",",quoteStrings:'"',decimalSeparator:".",showLabels:!0,showTitle:!0,title:G.formatMessage({id:T.split("\\").pop()}),useTextFile:!1,useBom:!0,useKeysAsHeaders:!0},b=new L.ExportToCsv(j);b.generateCsv(p.value)}},[p]);return Object(h.jsxs)(v.a,{title:R&&Object(h.jsx)(E.a,{id:T.split("\\").pop(),defaultMessage:T.split("\\").pop()}),extra:R&&Object(h.jsxs)(t.a,{icon:Object(h.jsx)(U.a,{}),size:"small",onClick:function(){return $()},children:[" ",Object(h.jsx)(E.a,{id:"download"}),"\xA0","CSV"]}),headerBordered:!0,children:[p.mode==="loading"&&Object(h.jsx)(o.a,{}),p.mode==="loaded"&&Object(h.jsxs)("div",{children:[Object(h.jsx)(i.a,Object(a.a)(Object(a.a)({},X),{},{data:p.value})),R&&Object(h.jsx)(u.a,{pagination:!1,size:"small",dataSource:p.value,columns:S})]}),p.mode==="error"&&Object(h.jsx)(m.a,{message:p.error,type:"error"})]})};c.a=F},"I+Rq":function(D,c,e){"use strict";var s=e("q1tI"),m=e.n(s),f=e("ma/q"),u=e("ZIEt"),_=e("QpZ9"),o=e("GzfL"),r=e("Scwr"),t=function(n,l){var d={};for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&l.indexOf(i)<0&&(d[i]=n[i]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var O=0,i=Object.getOwnPropertySymbols(n);O<i.length;O++)l.indexOf(i[O])<0&&Object.prototype.propertyIsEnumerable.call(n,i[O])&&(d[i[O]]=n[i[O]]);return d},a=Object(s.forwardRef)(function(n,l){var d=n.chartRef,i=n.style,O=i===void 0?{height:"inherit"}:i,E=n.className,v=n.loading,U=n.loadingTemplate,L=n.errorTemplate,x=t(n,["chartRef","style","className","loading","loadingTemplate","errorTemplate"]),h=Object(u.a)(f.b,x),P=h.chart,S=h.container;return Object(s.useEffect)(function(){Object(_.a)(d,P.current)},[P.current]),Object(s.useImperativeHandle)(l,function(){return{getChart:function(){return P.current}}}),m.a.createElement(o.a,{errorTemplate:L},v&&m.a.createElement(r.a,{loadingTemplate:U,theme:n.theme}),m.a.createElement("div",{className:E,style:O,ref:S}))});c.a=a},Mo4S:function(D,c,e){"use strict";var s=e("VTBJ"),m=e("q1tI"),f={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494zM514.1 580.1l-61.8-102.4c-2.2-3.6-6.1-5.8-10.3-5.8h-38.4c-2.3 0-4.5.6-6.4 1.9-5.6 3.5-7.3 10.9-3.7 16.6l82.3 130.4-83.4 132.8a12.04 12.04 0 0010.2 18.4h34.5c4.2 0 8-2.2 10.2-5.7L510 664.8l62.3 101.4c2.2 3.6 6.1 5.7 10.2 5.7H620c2.3 0 4.5-.7 6.5-1.9 5.6-3.6 7.2-11 3.6-16.6l-84-130.4 85.3-132.5a12.04 12.04 0 00-10.1-18.5h-35.7c-4.2 0-8.1 2.2-10.3 5.8l-61.2 102.3z"}}]},name:"file-excel",theme:"outlined"},u=f,_=e("6VBw"),o=function(a,n){return m.createElement(_.a,Object(s.a)(Object(s.a)({},a),{},{ref:n,icon:u}))};o.displayName="FileExcelOutlined";var r=c.a=m.forwardRef(o)},Xljc:function(D,c,e){"use strict";Object.defineProperty(c,"__esModule",{value:!0}),c.ExportToCsv=c.ConfigDefaults=c.CsvConfigConsts=void 0;var s=function(){function r(){}return r.EOL=`\r
`,r.BOM="\uFEFF",r.DEFAULT_FIELD_SEPARATOR=",",r.DEFAULT_DECIMAL_SEPARATOR=".",r.DEFAULT_QUOTE='"',r.DEFAULT_SHOW_TITLE=!1,r.DEFAULT_TITLE="My Generated Report",r.DEFAULT_FILENAME="generated",r.DEFAULT_SHOW_LABELS=!1,r.DEFAULT_USE_TEXT_FILE=!1,r.DEFAULT_USE_BOM=!0,r.DEFAULT_HEADER=[],r.DEFAULT_KEYS_AS_HEADERS=!1,r}();c.CsvConfigConsts=s,c.ConfigDefaults={filename:s.DEFAULT_FILENAME,fieldSeparator:s.DEFAULT_FIELD_SEPARATOR,quoteStrings:s.DEFAULT_QUOTE,decimalSeparator:s.DEFAULT_DECIMAL_SEPARATOR,showLabels:s.DEFAULT_SHOW_LABELS,showTitle:s.DEFAULT_SHOW_TITLE,title:s.DEFAULT_TITLE,useTextFile:s.DEFAULT_USE_TEXT_FILE,useBom:s.DEFAULT_USE_BOM,headers:s.DEFAULT_HEADER,useKeysAsHeaders:s.DEFAULT_KEYS_AS_HEADERS};var m=function(){function r(t){this._csv="";var a=t||{};this._options=o({},c.ConfigDefaults,a),this._options.useKeysAsHeaders&&this._options.headers&&this._options.headers.length>0&&console.warn("Option to use object keys as headers was set, but headers were still passed!")}return Object.defineProperty(r.prototype,"options",{get:function(){return this._options},set:function(a){this._options=o({},c.ConfigDefaults,a)},enumerable:!1,configurable:!0}),r.prototype.generateCsv=function(t,a){if(a===void 0&&(a=!1),this._csv="",this._parseData(t),this._options.useBom&&(this._csv+=s.BOM),this._options.showTitle&&(this._csv+=this._options.title+`\r

`),this._createHeaders(),this._createBody(),this._csv==""){console.log("Invalid data");return}if(a)return this._csv;var n=this._options.useTextFile?"plain":"csv",l=this._options.useTextFile?".txt":".csv",d=new Blob([this._csv],{type:"text/"+n+";charset=utf8;"}),i=document.createElement("a");i.href=URL.createObjectURL(d),i.setAttribute("visibility","hidden"),i.download=this._options.filename.replace(/ /g,"_")+l,document.body.appendChild(i),i.click(),document.body.removeChild(i)},r.prototype._getHeaders=function(){if(!(!this._options.showLabels&&!this._options.useKeysAsHeaders)){var t=this._options.useKeysAsHeaders,a=t?Object.keys(this._data[0]):this._options.headers;return a}},r.prototype._createHeaders=function(){var t=this._getHeaders();if(t.length>0){for(var a="",n=0;n<t.length;n++)a+=t[n]+this._options.fieldSeparator;a=a.slice(0,-1),this._csv+=a+s.EOL}},r.prototype._createBody=function(){for(var t=this._getHeaders(),a=0;a<this._data.length;a++){for(var n="",l=0;l<t.length;l++){var d=t[l];n+=this._formatData(this._data[a][d])+this._options.fieldSeparator}n=n.slice(0,-1),this._csv+=n+s.EOL}},r.prototype._formatData=function(t){return this._options.decimalSeparator==="locale"&&this._isFloat(t)?t.toLocaleString():this._options.decimalSeparator!=="."&&this._isFloat(t)?t.toString().replace(".",this._options.decimalSeparator):typeof t=="string"?(t=t.replace(/"/g,'""'),(this._options.quoteStrings||t.indexOf(",")>-1||t.indexOf(`
`)>-1||t.indexOf("\r")>-1)&&(t=this._options.quoteStrings+t+this._options.quoteStrings),t):typeof t=="boolean"?t?"TRUE":"FALSE":t},r.prototype._isFloat=function(t){return+t===t&&(!isFinite(t)||Boolean(t%1))},r.prototype._parseData=function(t){return this._data=typeof t!="object"?JSON.parse(t):t,this._data},r}();c.ExportToCsv=m;var f=Object.prototype.hasOwnProperty,u=Object.prototype.propertyIsEnumerable;function _(r){if(r==null)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(r)}function o(r){for(var t=[],a=1;a<arguments.length;a++)t[a-1]=arguments[a];for(var n,l=_(r),d,i=1;i<arguments.length;i++){n=Object(arguments[i]);for(var O in n)f.call(n,O)&&(l[O]=n[O]);if(Object.getOwnPropertySymbols){d=Object.getOwnPropertySymbols(n);for(var E=0;E<d.length;E++)u.call(n,d[E])&&(l[d[E]]=n[d[E]])}}return l}},dgLD:function(D,c,e){"use strict";e.r(c);var s=e("q1tI"),m=e.n(s),f=e("tMyG"),u=e("Ecy+"),_=e("nhC9"),o=e("nKUr"),r=e.n(o);c.default=function(){return Object(o.jsxs)(f.a,{children:[Object(o.jsxs)(_.a,{split:"vertical",children:[Object(o.jsx)(_.a,{colSpan:12,layout:"center",children:Object(o.jsx)(u.a,{metric:"EscolaLms\\Reports\\Metrics\\CoursesMoneySpentMetric"})}),Object(o.jsx)(_.a,{colSpan:12,layout:"center",children:Object(o.jsx)(u.a,{metric:"EscolaLms\\Reports\\Metrics\\CoursesPopularityMetric"})})]}),Object(o.jsxs)(_.a,{split:"vertical",children:[Object(o.jsx)(_.a,{colSpan:12,layout:"center",children:Object(o.jsx)(u.a,{metric:"EscolaLms\\Reports\\Metrics\\CoursesSecondsSpentMetric"})}),Object(o.jsx)(_.a,{colSpan:12,layout:"center",children:Object(o.jsx)(u.a,{metric:"EscolaLms\\Reports\\Metrics\\TutorsPopularityMetric"})})]})]})}},"w/VK":function(D,c,e){"use strict";e.d(c,"c",function(){return _}),e.d(c,"a",function(){return r}),e.d(c,"b",function(){return a});var s=e("qLMh"),m=e("k1fw"),f=e("9og8"),u=e("9kvl");function _(l,d){return o.apply(this,arguments)}function o(){return o=Object(f.a)(Object(s.a)().mark(function l(d,i){return Object(s.a)().wrap(function(E){for(;;)switch(E.prev=E.next){case 0:return E.abrupt("return",Object(u.i)("/api/admin/reports/report",Object(m.a)({params:d,method:"GET",useCache:!1},i||{})));case 1:case"end":return E.stop()}},l)})),o.apply(this,arguments)}function r(l,d,i){return t.apply(this,arguments)}function t(){return t=Object(f.a)(Object(s.a)().mark(function l(d,i,O){return Object(s.a)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",Object(u.i)("/api/admin/stats/course/".concat(d,"/export"),Object(m.a)({params:i,method:"GET",useCache:!1,responseType:"blob",headers:{accept:"application/vnd.ms-excel"}},O||{})));case 1:case"end":return v.stop()}},l)})),t.apply(this,arguments)}function a(l,d,i){return n.apply(this,arguments)}function n(){return n=Object(f.a)(Object(s.a)().mark(function l(d,i,O){return Object(s.a)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",Object(u.i)("/api/admin/stats/topic/".concat(d,"/export"),Object(m.a)({method:"GET",useCache:!1,params:{stat:i},responseType:"blob",headers:{accept:"application/vnd.ms-excel"}},O||{})));case 1:case"end":return v.stop()}},l)})),n.apply(this,arguments)}}}]);

//# sourceMappingURL=p__Reports.5deb6d20.async.js.map