(window.webpackJsonp=window.webpackJsonp||[]).push([[49],{"4f6N":function(B,o,e){"use strict";var j=e("2qtc"),n=e("kLXV"),l=e("9kvl"),c=e("nKUr"),b=e.n(c),T=function(v){var u=v.visible,D=v.setManage;return Object(c.jsx)(n.a,{width:"600px",title:Object(c.jsx)(l.a,{id:"course.validate_edit.header",defaultMessage:"course.validate_edit.header"}),visible:u,onOk:function(){return D({showModal:!1,disableEdit:!1,clicked:!0})},onCancel:function(){return D({showModal:!1,disableEdit:!0,clicked:!1})},okText:"OK",cancelText:"Cancel",children:Object(c.jsx)("p",{children:Object(c.jsx)(l.a,{id:"course.validate_edit.content",defaultMessage:"course.validate_edit.content"})})})};o.a=T},EmS3:function(B,o,e){"use strict";e.d(o,"e",function(){return T}),e.d(o,"a",function(){return v}),e.d(o,"c",function(){return D}),e.d(o,"d",function(){return m}),e.d(o,"b",function(){return A});var j=e("WmNS"),n=e.n(j),l=e("k1fw"),c=e("9og8"),b=e("9kvl");function T(_,r){return M.apply(this,arguments)}function M(){return M=Object(c.a)(n.a.mark(function _(r,d){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(b.f)("/api/admin/webinars",Object(l.a)({method:"GET",useCache:!1,params:Object(l.a)(Object(l.a)({},r),{},{per_page:r&&r.pageSize,page:r&&r.current})},d||{})));case 1:case"end":return t.stop()}},_)})),M.apply(this,arguments)}function v(_,r){return u.apply(this,arguments)}function u(){return u=Object(c.a)(n.a.mark(function _(r,d){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(b.f)("/api/admin/webinars",Object(l.a)({method:"POST",headers:{"Content-Type":"application/json"},data:r},d||{})));case 1:case"end":return t.stop()}},_)})),u.apply(this,arguments)}function D(_,r){return p.apply(this,arguments)}function p(){return p=Object(c.a)(n.a.mark(function _(r,d){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(b.f)("/api/admin/webinars/".concat(r),Object(l.a)({method:"GET",useCache:!1},d||{})));case 1:case"end":return t.stop()}},_)})),p.apply(this,arguments)}function m(_,r,d){return I.apply(this,arguments)}function I(){return I=Object(c.a)(n.a.mark(function _(r,d,R){return n.a.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:return K.abrupt("return",Object(b.f)("/api/admin/webinars/".concat(r,"?method=PUT"),Object(l.a)({method:"POST",headers:{"Content-Type":"application/json"},data:d},R||{})));case 1:case"end":return K.stop()}},_)})),I.apply(this,arguments)}function A(_,r){return i.apply(this,arguments)}function i(){return i=Object(c.a)(n.a.mark(function _(r,d){return n.a.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.abrupt("return",Object(b.f)("/api/admin/webinars/".concat(r),Object(l.a)({method:"DELETE",useCache:!1},d||{})));case 1:case"end":return t.stop()}},_)})),i.apply(this,arguments)}},VlvL:function(B,o,e){"use strict";var j=e("9kvl"),n=e("Ty5D"),l=e("nKUr"),c=e.n(l),b=function(M){var v=M.show,u=Object(j.i)();return Object(l.jsx)(n.b,{when:v,message:u.formatMessage({id:"unsaved_changes"})})};o.a=b},eFHa:function(B,o,e){"use strict";e.d(o,"a",function(){return b});var j=e("tJVT"),n=e("q1tI"),l=e.n(n),c=e("HZtn");function b(){var T=Object(n.useState)({showModal:!1,disableEdit:!1,clicked:!1}),M=Object(j.a)(T,2),v=M[0],u=M[1],D=function(m){(m==null?void 0:m.status)==="published"&&(m==null?void 0:m.active_from)&&Object(c.a)(new Date(m==null?void 0:m.active_from))&&!v.clicked?u({showModal:!1,disableEdit:!0,clicked:!1}):u({showModal:!1,disableEdit:!1,clicked:!1})};return{manageCourseEdit:v,setManageCourseEdit:u,validateCourseEdit:D}}},q34N:function(B,o,e){"use strict";var j=e("tJVT"),n=e("0eZe"),l=e("q1tI"),c=e.n(l),b=e("nKUr"),T=e.n(b),M=function(u){var D=u.productable,p=u.type,m=p===void 0?"card":p,I=Object(l.useState)("attributes"),A=Object(j.a)(I,2),i=A[0],_=A[1];return Object(b.jsx)(n.a,{productable:D,tab:i,onTabChange:function(d){return _(d)},type:m})};o.a=M},tixb:function(B,o,e){"use strict";e.r(o);var j=e("14J3"),n=e("BMrR"),l=e("jCWc"),c=e("kPKH"),b=e("fOrg"),T=e("+KLJ"),M=e("+L6B"),v=e("2/Rp"),u=e("T2oS"),D=e("W9HT"),p=e("miYZ"),m=e("tsqr"),I=e("WmNS"),A=e.n(I),i=e("k1fw"),_=e("9og8"),r=e("tJVT"),d=e("q1tI"),R=e.n(d),t=e("VMEa"),K=e("Qurx"),ae=e("FJDo"),te=e("yj/a"),Z=e("CnWR"),se=e("BiO0"),y=e("nhC9"),z=e("hd5d"),ne=e("tMyG"),s=e("9kvl"),re=e("Ty5D"),w=e("EmS3"),ie=e("0WSk"),_e=e("Gn8c"),de=e("c+yx"),oe=e("rnuo"),le=e("VlvL"),Q=e("viv7"),ce=e("eFHa"),ue=e("4f6N"),me=e("q34N"),Oe=e("5RzD"),a=e("nKUr"),De=e.n(a),be=function(){var g=Object(s.i)(),X=Object(re.l)(),O=X.webinar,Y=X.tab,W=Y===void 0?"attributes":Y,L=O==="new",Ee=Object(d.useState)(!1),k=Object(r.a)(Ee,2),je=k[0],F=k[1],Me=Object(d.useState)(),q=Object(r.a)(Me,2),C=q[0],N=q[1],V=Object(ce.a)(),E=V.manageCourseEdit,G=V.setManageCourseEdit,ee=V.validateCourseEdit,ve=t.a.useForm(),Pe=Object(r.a)(ve,1),fe=Pe[0],he=Object(d.useCallback)(Object(_.a)(A.a.mark(function x(){var P;return A.a.wrap(function(f){for(;;)switch(f.prev=f.next){case 0:return f.next=2,Object(w.c)(Number(O));case 2:P=f.sent,P.success&&(W==="attributes"&&ee(P.data),N(Object(i.a)({},P.data)));case 4:case"end":return f.stop()}},x)})),[O]);Object(d.useEffect)(function(){if(L){N({name:"new"});return}he()},[O]);var $=Object(d.useMemo)(function(){return{onFinish:function(){var x=Object(_.a)(A.a.mark(function S(f){var J,U;return A.a.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:if(!E.disableEdit){h.next=3;break}return G({showModal:!0,disableEdit:!0,clicked:!1}),h.abrupt("return");case 3:if(J=Object(i.a)(Object(i.a)(Object(i.a)(Object(i.a)({},f),W==="attributes"&&{active_from:new Date(String(f.active_from))}),W==="attributes"&&{active_to:new Date(String(f.active_to))}),{},{image_url:C&&C.image_url,image_path:C&&C.image_url&&Object(de.e)(C.image_url),trainers:f.trainers&&f.trainers.map(function(H){return typeof H=="object"?H.id:H})}),!L){h.next=11;break}return h.next=7,Object(w.a)(J);case 7:U=h.sent,U.success&&(F(!1),s.d.push("/webinars/".concat(U.data.id))),h.next=15;break;case 11:return h.next=13,Object(w.d)(Number(O),J);case 13:U=h.sent,U.success&&(F(!1),ee(U.data),s.d.push("/webinars/".concat(U.data.id,"/").concat(W)));case 15:m.default.success(U.message);case 16:case"end":return h.stop()}},S)}));function P(S){return x.apply(this,arguments)}return P}(),initialValues:C}},[C,O,W,E]);return C?Object(a.jsx)(ne.a,{title:L?Object(a.jsx)(s.a,{id:"menu.webinars"}):Object(a.jsx)(s.a,{id:"webinar.edit"}),header:{breadcrumb:{routes:[{path:"webinars",breadcrumbName:g.formatMessage({id:"menu.Webinars"})},{path:String(O),breadcrumbName:g.formatMessage({id:"form"})},{path:"/",breadcrumbName:g.formatMessage({id:String(C.name)})},{path:String(W),breadcrumbName:g.formatMessage({id:String(W)})}]}},children:Object(a.jsxs)(y.a,{tabs:{type:"card",activeKey:W,onChange:function(P){return s.d.push("/webinars/".concat(O,"/").concat(P))}},children:[Object(a.jsxs)(y.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"attributes"}),children:[E.disableEdit&&Object(a.jsx)(T.a,{closable:!0,style:{marginBottom:"20px"},type:"warning",message:Object(a.jsx)(s.a,{id:"course_edit_warning_message",defaultMessage:"course_edit_warning_message"}),action:Object(a.jsx)(v.a,{onClick:function(){return G({showModal:!0,disableEdit:!0,clicked:!0})},type:"primary",children:Object(a.jsx)(s.a,{id:"questionnaire.submit",defaultMessage:"questionnaire.submit"})})}),Object(a.jsx)(le.a,{show:je}),Object(a.jsx)(ue.a,{visible:E.showModal,setManage:G}),Object(a.jsxs)(t.a,Object(i.a)(Object(i.a)({},$),{},{form:fe,onValuesChange:function(){F(!0)},children:[Object(a.jsxs)(t.a.Group,{children:[Object(a.jsx)(K.a,{width:"md",name:"name",label:Object(a.jsx)(s.a,{id:"name"}),tooltip:Object(a.jsx)(s.a,{id:"name"}),placeholder:g.formatMessage({id:"name",defaultMessage:"name"}),required:!0,disabled:E.disableEdit}),Object(a.jsx)(ae.a,{width:"md",name:"base_price",label:Object(a.jsx)(s.a,{id:"base_price"}),tooltip:Object(a.jsx)(s.a,{id:"base_price_tooltip"}),placeholder:g.formatMessage({id:"base_price",defaultMessage:"base_price"}),min:0,max:9999,fieldProps:{step:1},disabled:E.disableEdit}),Object(a.jsx)(K.a,{width:"sm",name:"duration",label:Object(a.jsx)(s.a,{id:"duration"}),tooltip:Object(a.jsx)(s.a,{id:"duration"}),placeholder:g.formatMessage({id:"duration",defaultMessage:"duration"}),disabled:E.disableEdit}),Object(a.jsx)(te.a,{name:"status",width:"xs",label:Object(a.jsx)(s.a,{id:"status"}),valueEnum:Q.a,initialValue:Q.a.draft,placeholder:g.formatMessage({id:"status"}),rules:[{required:!0,message:Object(a.jsx)(s.a,{id:"select"})}],disabled:E.disableEdit})]}),Object(a.jsxs)(t.a.Group,{children:[Object(a.jsx)(Z.a,{width:"sm",name:"active_from",label:Object(a.jsx)(s.a,{id:"active_from"}),tooltip:Object(a.jsx)(s.a,{id:"active_from"}),placeholder:g.formatMessage({id:"active_from",defaultMessage:"active_from"}),disabled:E.disableEdit}),Object(a.jsx)(Z.a,{width:"sm",name:"active_to",label:Object(a.jsx)(s.a,{id:"active_to"}),tooltip:Object(a.jsx)(s.a,{id:"active_to"}),placeholder:g.formatMessage({id:"active_to",defaultMessage:"active_to"}),disabled:E.disableEdit}),Object(a.jsx)(t.a.Item,{name:"trainers",label:Object(a.jsx)(s.a,{id:"tutor"}),valuePropName:"value",children:Object(a.jsx)(ie.a,{multiple:!0,role:"tutor"})})]}),Object(a.jsx)(t.a.Group,{children:Object(a.jsx)(se.a,{width:"lg",name:"short_desc",label:Object(a.jsx)(s.a,{id:"short_description"}),tooltip:Object(a.jsx)(s.a,{id:"short_description"})})}),Object(a.jsx)(t.a.Group,{children:Object(a.jsx)(t.a.Item,{name:"agenda",label:Object(a.jsx)(s.a,{id:"program"}),tooltip:Object(a.jsx)(s.a,{id:"program"}),valuePropName:"value",children:Object(a.jsx)(z.a,{directory:"webinars/".concat(O,"/wysiwyg")})})}),Object(a.jsx)(t.a.Group,{children:Object(a.jsx)(t.a.Item,{name:"description",label:Object(a.jsx)(s.a,{id:"description"}),tooltip:Object(a.jsx)(s.a,{id:"description_tooltip"}),valuePropName:"value",children:Object(a.jsx)(z.a,{directory:"webinars/".concat(O,"/wysiwyg")})})})]}))]},"attributes")," ",!L&&Object(a.jsx)(y.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"prices"}),disabled:E.disableEdit,children:O&&Object(a.jsx)(me.a,{productable:{class_type:"App\\Models\\Webinar",class_id:O,name:String(C.name)}})},"prices"),!L&&Object(a.jsx)(y.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"media"}),disabled:E.disableEdit,children:Object(a.jsx)(t.a,Object(i.a)(Object(i.a)({},$),{},{children:Object(a.jsx)(_e.a,{title:"image",action:"/api/admin/webinars/".concat(O),src_name:"image_url",form_name:"image",getUploadedSrcField:function(P){return P.file.response.data.image_url},setPath:function(P){return N(function(S){return Object(i.a)(Object(i.a)({},S),P)})}})}))},"media"),!L&&Object(a.jsx)(y.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"tags"}),disabled:E.disableEdit,children:Object(a.jsx)(n.a,{children:Object(a.jsx)(c.a,{span:12,children:Object(a.jsx)(t.a,Object(i.a)(Object(i.a)({},$),{},{children:Object(a.jsx)(t.a.Item,{label:Object(a.jsx)(s.a,{id:"tags"}),name:"tags",valuePropName:"value",children:Object(a.jsx)(oe.a,{})})}))})})},"tags")," ",!L&&Object(a.jsx)(y.a.TabPane,{tab:Object(a.jsx)(s.a,{id:"user_submission"}),disabled:E.disableEdit,children:Object(a.jsx)(n.a,{children:Object(a.jsx)(c.a,{span:12,children:O&&Object(a.jsx)(Oe.a,{id:Number(O),type:"App\\Models\\Webinar"})})})},"user_submission")]})}):Object(a.jsx)(D.a,{})};o.default=be},viv7:function(B,o,e){"use strict";e.d(o,"a",function(){return j});var j;(function(n){n.draft="draft",n.published="published",n.archived="archived"})(j||(j={}))}}]);
