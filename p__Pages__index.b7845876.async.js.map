{"version":3,"file":"p__Pages__index.b7845876.async.js","mappings":"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","sources":["webpack://ant-design-pro/./src/pages/Pages/index.tsx","webpack://ant-design-pro/./src/services/escola-lms/pages.ts"],"sourcesContent":["import { DeleteOutlined, EditOutlined, PlusOutlined } from '@ant-design/icons';\nimport { PageContainer } from '@ant-design/pro-layout';\nimport type { ActionType, ProColumns } from '@ant-design/pro-table';\nimport ProTable from '@ant-design/pro-table';\nimport { Button, Popconfirm, Tooltip, message } from 'antd';\nimport React, { useRef } from 'react';\nimport { FormattedMessage, Link, useIntl } from 'umi';\n\nimport TypeButtonDrawer from '@/components/TypeButtonDrawer';\nimport { deletePage, pages } from '@/services/escola-lms/pages';\nimport { createTableOrderObject } from '@/utils/utils';\n\nconst handleRemove = async (id: number) => {\n  return deletePage(id).then((response) => {\n    if (response.success) {\n      message.success(response.message);\n    }\n    return true;\n  });\n};\n\nconst TableList: React.FC = () => {\n  const actionRef = useRef<ActionType>();\n  const intl = useIntl();\n\n  const columns: ProColumns<API.PageListItem>[] = [\n    {\n      title: <FormattedMessage id=\"ID\" defaultMessage=\"ID\" />,\n      dataIndex: 'id',\n      hideInSearch: true,\n      sorter: true,\n      width: '80px',\n    },\n    {\n      title: <FormattedMessage id=\"title\" defaultMessage=\"title\" />,\n      dataIndex: 'title',\n      hideInSearch: false,\n      sorter: true,\n    },\n    {\n      title: <FormattedMessage id=\"slug\" defaultMessage=\"slug\" />,\n      dataIndex: 'slug',\n      hideInSearch: false,\n      sorter: true,\n    },\n    {\n      title: <FormattedMessage id=\"author\" defaultMessage=\"author\" />,\n      dataIndex: 'author_id',\n      hideInSearch: true,\n      sorter: true,\n      render: (_, record) => (\n        <TypeButtonDrawer\n          key={'user'}\n          type=\"EscolaLms\\Core\\Models\\User\"\n          type_id={record.author_id}\n        />\n      ),\n    },\n    {\n      hideInSearch: true,\n      title: <FormattedMessage id=\"pages.searchTable.titleOption\" defaultMessage=\"option\" />,\n      dataIndex: 'option',\n      valueType: 'option',\n      render: (_, record) => [\n        <Link to={`/other/pages/${record.id}`} key=\"edit\">\n          <Tooltip title={<FormattedMessage id=\"edit\" defaultMessage=\"edit\" />}>\n            <Button type=\"primary\" icon={<EditOutlined />} />\n          </Tooltip>\n        </Link>,\n        <Popconfirm\n          key=\"delete\"\n          title={\n            <FormattedMessage\n              id=\"deleteQuestion\"\n              defaultMessage=\"Are you sure to delete this record?\"\n            />\n          }\n          onConfirm={async () => {\n            const success = await handleRemove(record.id);\n            if (success) {\n              if (actionRef.current) {\n                actionRef.current.reload();\n              }\n            }\n          }}\n          okText={<FormattedMessage id=\"yes\" />}\n          cancelText={<FormattedMessage id=\"no\" />}\n        >\n          <Tooltip title={<FormattedMessage id=\"delete\" defaultMessage=\"delete\" />}>\n            <Button type=\"primary\" icon={<DeleteOutlined />} danger />\n          </Tooltip>\n        </Popconfirm>,\n      ],\n    },\n  ];\n\n  return (\n    <PageContainer>\n      <ProTable<API.PageListItem, API.PageParams>\n        headerTitle={intl.formatMessage({\n          id: 'pages',\n          defaultMessage: 'pages',\n        })}\n        actionRef={actionRef}\n        rowKey=\"id\"\n        search={{\n          layout: 'vertical',\n        }}\n        toolBarRender={() => [\n          <Link to=\"/other/pages/new\" key=\"new\">\n            <Button type=\"primary\" key=\"primary\">\n              <PlusOutlined /> <FormattedMessage id=\"new\" defaultMessage=\"new\" />\n            </Button>\n          </Link>,\n        ]}\n        request={({ pageSize, current, title, slug }, sort) => {\n          return pages({\n            per_page: pageSize,\n            page: current,\n            title: title || undefined,\n            slug: slug || undefined,\n            ...createTableOrderObject(sort, 'created_at'),\n          }).then((response) => {\n            if (response.success) {\n              return {\n                data: response.data,\n                total: response.meta.total,\n                success: true,\n              };\n            }\n            return [];\n          });\n        }}\n        columns={columns}\n      />\n    </PageContainer>\n  );\n};\n\nexport default TableList;\n","import type { AxiosRequestConfig } from '@umijs/max';\nimport { request } from 'umi';\n\nexport async function pages(\n  params: API.PageParams &\n    API.PaginationParams & {\n      title?: string;\n      slug?: string;\n    },\n  options?: AxiosRequestConfig,\n) {\n  return request<API.PageList>(`/api/admin/pages`, {\n    method: 'GET',\n    /* useCache: true */ useCache: false,\n    params,\n    ...(options || {}),\n  });\n}\n\nexport async function page(id: number, options?: AxiosRequestConfig) {\n  return request<API.DefaultResponse<API.Page>>(`/api/admin/pages/${id}`, {\n    method: 'GET',\n    ...(options || {}),\n  });\n}\n\nexport async function createPage(body?: Partial<API.Page>, options?: AxiosRequestConfig) {\n  return request<API.DefaultResponse<API.Page>>(`/api/admin/pages`, {\n    method: 'POST',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    data: body,\n    ...(options || {}),\n  });\n}\n\nexport async function updatePage(\n  id: number,\n  body?: Partial<API.Page>,\n  options?: AxiosRequestConfig,\n) {\n  return request<API.DefaultResponse<API.Page>>(`/api/admin/pages/${id}`, {\n    method: 'PATCH',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    data: body,\n    ...(options || {}),\n  });\n}\n\nexport async function deletePage(id: number, options?: AxiosRequestConfig) {\n  return request<API.DefaultResponse<API.Page>>(`/api/admin/pages/${id}`, {\n    method: 'DELETE',\n    headers: {\n      'Content-Type': 'application/json',\n    },\n    ...(options || {}),\n  });\n}\n"],"names":["handleRemove","_ref","_asyncToGenerator","_regeneratorRuntime","mark","_callee","id","wrap","_context","prev","next","abrupt","deletePage","then","response","success","message","stop","_x","apply","arguments","TableList","actionRef","useRef","intl","useIntl","columns","title","_jsx","FormattedMessage","defaultMessage","dataIndex","hideInSearch","sorter","width","render","_","record","TypeButtonDrawer","type","type_id","author_id","valueType","Link","to","concat","children","Tooltip","Button","icon","EditOutlined","Popconfirm","onConfirm","_callee2","_context2","sent","current","reload","okText","cancelText","DeleteOutlined","danger","PageContainer","ProTable","headerTitle","formatMessage","rowKey","search","layout","toolBarRender","_jsxs","PlusOutlined","request","_ref3","sort","pageSize","slug","pages","_objectSpread","per_page","page","undefined","createTableOrderObject","data","total","meta","_x2","_pages","params","options","method","useCache","_x3","_x4","_page","createPage","_x5","_x6","_createPage","_callee3","body","_context3","headers","updatePage","_x7","_x8","_x9","_updatePage","_callee4","_context4","_x10","_x11","_deletePage","_callee5","_context5"],"sourceRoot":""}