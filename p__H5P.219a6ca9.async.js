(window.webpackJsonp=window.webpackJsonp||[]).push([[17],{"5YLw":function(R,O,e){"use strict";var d=e("DBJ/"),E=e("q1tI"),p=e.n(E),m=e("nKUr"),M=e.n(m),g=function(j){var y=j.onSuccess,h=j.onError,A=j.hideLabel;return Object(m.jsx)(d.a,{url:"/api/admin/hh5p/content/upload",name:"h5p_file",accept:".h5p",hideLabel:A,onChange:function(f){f.file.status==="done"&&f.file.response&&y(f.file.response),f.file.status==="error"&&h()}})};O.a=g},Unir:function(R,O,e){"use strict";e.r(O);var d=e("k1fw"),E=e("P2fV"),p=e("NJEC"),m=e("5Dmo"),M=e("3S7+"),g=e("+L6B"),P=e("2/Rp"),j=e("qLMh"),y=e("miYZ"),h=e("tsqr"),A=e("9og8"),D=e("tJVT"),f=e("xvlK"),b=e("q1tI"),K=e.n(b),a=e("9kvl"),i=e("55Ip"),u=e("tMyG"),l=e("Qiat"),o=e("nzng"),r=e("G3dp"),v=e("/MfK"),W=e("2PG1"),S=e("4KAj"),H=e("5YLw"),G=e("39sE"),$=e("c+yx"),t=e("nKUr"),V=e.n(t),J=function(){var z=Object(b.useState)(!1),U=Object(D.a)(z,2),Y=U[0],L=U[1],I=Object(b.useRef)(),F=Object(a.l)(),N=Object(b.useCallback)(function(){var _=Object(A.a)(Object(j.a)().mark(function s(n){var T,C;return Object(j.a)().wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return L(!0),T=h.b.loading(Object(t.jsx)(a.a,{id:"loading",defaultMessage:"loading"})),c.prev=2,c.next=5,Object(o.e)(n);case 5:return T(),h.b.success(Object(t.jsx)(a.a,{id:"success",defaultMessage:"success"})),L(!1),(C=I.current)===null||C===void 0||C.reload(),c.abrupt("return",!0);case 12:return c.prev=12,c.t0=c.catch(2),T(),h.b.error(Object(t.jsx)(a.a,{id:"error",defaultMessage:"error"})),L(!1),c.abrupt("return",!1);case 18:case"end":return c.stop()}},s,null,[[2,12]])}));return function(s){return _.apply(this,arguments)}}(),[I]),Q=[{title:Object(t.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",sorter:!0,search:!1,width:"80px"},{title:Object(t.jsx)(a.a,{id:"newH5P",defaultMessage:"newH5P"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(H.a,{hideLabel:!0,onSuccess:function(){I.current&&I.current.reload(),h.b.success(Object(t.jsx)(a.a,{id:"H5P_uploaded",defaultMessage:"new H5P uploaded successfully"}))},onError:function(){return h.b.error(Object(t.jsx)(a.a,{id:"error",defaultMessage:"error"}))}},"upload")]}},{title:Object(t.jsx)(a.a,{id:"title",defaultMessage:"title"}),dataIndex:"title",sorter:function(s,n){return s.title.length-n.title.length},render:function(s,n){return n.title}},{title:Object(t.jsx)(a.a,{id:"library",defaultMessage:"library"}),dataIndex:"library",sorter:function(s,n){return s.library.title.length-n.library.title.length},search:!1,render:function(s,n){return n.library.title}},{title:Object(t.jsx)(a.a,{id:"library_id",defaultMessage:"library_id"}),dataIndex:"library_id",sorter:function(s,n){return s.library.id-n.library.id},render:function(s,n){return n.library.id}},{title:Object(t.jsx)(a.a,{id:"count_h5p",defaultMessage:"count_h5p"}),dataIndex:"count_h5p",sorter:function(s,n){return s.count_h5p-n.count_h5p},search:!1,render:function(s,n){return n.count_h5p}},{title:Object(t.jsx)(a.a,{id:"options",defaultMessage:"options"}),dataIndex:"option",valueType:"option",render:function(s,n){return[Object(t.jsx)(i.a,{to:"/courses/h5ps/".concat(n.id),children:Object(t.jsx)(M.a,{title:Object(t.jsx)(a.a,{id:"edit",defaultMessage:"edit"}),children:Object(t.jsx)(P.a,{type:"primary",icon:Object(t.jsx)(r.a,{})})})},"edit"),Object(t.jsx)(p.a,{disabled:n.count_h5p!==0,title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:function(){return n.id&&N(n.id)},okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(M.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(P.a,{disabled:n.count_h5p!==0,type:"primary",icon:Object(t.jsx)(v.a,{}),danger:!0})})},"delete"),Object(t.jsx)(i.a,{to:"/courses/h5ps/preview/".concat(n.id),children:Object(t.jsx)(M.a,{title:Object(t.jsx)(a.a,{id:"preview",defaultMessage:"preview"}),children:Object(t.jsx)(P.a,{icon:Object(t.jsx)(W.a,{})})})},"preview"),Object(t.jsx)(M.a,{title:Object(t.jsx)(a.a,{id:"export",defaultMessage:"export"}),children:Object(t.jsx)(G.a,{url:"/api/admin/hh5p/content/".concat(n.id,"/export"),filename:"".concat(n.title.split(" ").join("-").toLocaleLowerCase(),".h5p"),icon:Object(t.jsx)(S.a,{})})},"export")]}}];return Object(t.jsx)(u.a,{children:Object(t.jsx)(l.a,{loading:Y,headerTitle:F.formatMessage({id:"menu.Courses.H5Ps",defaultMessage:"H5Ps List"}),actionRef:I,rowKey:"id",search:{layout:"vertical"},toolBarRender:function(){return[Object(t.jsx)(i.a,{to:"/courses/h5ps/new",children:Object(t.jsxs)(P.a,{type:"primary",children:[Object(t.jsx)(f.a,{})," ",Object(t.jsx)(a.a,{id:"new",defaultMessage:"new"})]},"primary")},"new")]},request:function(s,n){var T=s.pageSize,C=s.current,B=s.title,c=s.library_id;return L(!0),Object(o.d)(Object(d.a)({title:B,library_id:c,per_page:T,page:C},Object($.b)(n))).then(function(x){return L(!1),x.success?{data:x.data,total:x.meta.total,success:!0}:[]})},columns:Q})})};O.default=J},nzng:function(R,O,e){"use strict";e.d(O,"d",function(){return M}),e.d(O,"c",function(){return y}),e.d(O,"b",function(){return h}),e.d(O,"f",function(){return A}),e.d(O,"e",function(){return f}),e.d(O,"a",function(){return K});var d=e("qLMh"),E=e("k1fw"),p=e("9og8"),m=e("9kvl");function M(i,u){return g.apply(this,arguments)}function g(){return g=Object(p.a)(Object(d.a)().mark(function i(u,l){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(m.i)("/api/admin/hh5p/content",Object(E.a)({method:"GET",params:u},l||{})));case 1:case"end":return r.stop()}},i)})),g.apply(this,arguments)}function P(i,u){return j.apply(this,arguments)}function j(){return j=Object(p.a)(Object(d.a)().mark(function i(u,l){return Object(d.a)().wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.abrupt("return",Object(m.i)("/api/admin/hh5p/content/".concat(u),Object(E.a)({method:"GET"},l||{})));case 1:case"end":return r.stop()}},i)})),j.apply(this,arguments)}var y=function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en",o=arguments.length>2?arguments[2]:void 0,r=u?"/api/admin/hh5p/editor/".concat(u):"/api/admin/hh5p/editor";return r=l?"".concat(r,"?lang=").concat(l):r,Object(m.i)(r,Object(E.a)({method:"GET"},o||{}))},h=function(u){var l=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"en",o=arguments.length>2?arguments[2]:void 0,r="/api/admin/hh5p/content/".concat(u);return r=l?"".concat(r,"?lang=").concat(l):r,Object(m.i)(r,Object(E.a)({method:"GET"},o||{}))};function A(i,u,l){return D.apply(this,arguments)}function D(){return D=Object(p.a)(Object(d.a)().mark(function i(u,l,o){return Object(d.a)().wrap(function(v){for(;;)switch(v.prev=v.next){case 0:return v.abrupt("return",Object(m.i)(l?"/api/admin/hh5p/content/".concat(l):"/api/admin/hh5p/content",Object(E.a)({method:"POST",headers:{"Content-Type":"application/json"},data:u},o||{})));case 1:case"end":return v.stop()}},i)})),D.apply(this,arguments)}function f(i){return b.apply(this,arguments)}function b(){return b=Object(p.a)(Object(d.a)().mark(function i(u){return Object(d.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(m.i)("/api/admin/hh5p/content/".concat(u),{method:"DELETE"}));case 1:case"end":return o.stop()}},i)})),b.apply(this,arguments)}function K(i){return a.apply(this,arguments)}function a(){return a=Object(p.a)(Object(d.a)().mark(function i(u){return Object(d.a)().wrap(function(o){for(;;)switch(o.prev=o.next){case 0:return o.abrupt("return",Object(m.i)("/api/admin/hh5p/content?per_page=0",Object(E.a)({method:"GET"},u||{})));case 1:case"end":return o.stop()}},i)})),a.apply(this,arguments)}}}]);
