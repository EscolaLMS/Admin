(window.webpackJsonp=window.webpackJsonp||[]).push([[26,6,36],{"+K+b":function($,W,f){var F=f("JHRd");function b(x){var j=new x.constructor(x.byteLength);return new F(j).set(new F(x)),j}$.exports=b},"+O4Z":function($,W){function f(F){return Function.toString.call(F).indexOf("[native code]")!==-1}$.exports=f},"+Xah":function($,W,f){"use strict";function F(b){return b}W.a=F},"+c4W":function($,W,f){var F=f("711d"),b=f("4/ic"),x=f("9ggG"),j=f("9Nap");function S(B){return x(B)?F(j(B)):b(B)}$.exports=S},"+iFO":function($,W,f){var F=f("dTAl"),b=f("LcsW"),x=f("6sVZ");function j(S){return typeof S.constructor=="function"&&!x(S)?F(b(S)):{}}$.exports=j},"/1FC":function($,W,f){"use strict";var F=Array.isArray;W.a=F},"/FUP":function($,W,f){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.ReactCSS=W.loop=W.handleActive=W.handleHover=W.hover=void 0;var F=f("W3HW"),b=O(F),x=f("lreK"),j=O(x),S=f("KfSR"),B=O(S),R=f("VYtm"),C=O(R),p=f("XQvf"),V=O(p),w=f("B5Mt"),_=O(w);function O(se){return se&&se.__esModule?se:{default:se}}W.hover=C.default,W.handleHover=C.default,W.handleActive=V.default,W.loop=_.default;var D=W.ReactCSS=function(A){for(var Y=arguments.length,L=Array(Y>1?Y-1:0),K=1;K<Y;K++)L[K-1]=arguments[K];var y=(0,b.default)(L),ne=(0,j.default)(A,y);return(0,B.default)(ne)};W.default=D},"/PRe":function($,W,f){"use strict";f.d(W,"a",function(){return x});var F=f("VTBJ"),b=f("U8pU"),x=function(){for(var S={},B=arguments.length,R=new Array(B),C=0;C<B;C++)R[C]=arguments[C];for(var p=R.length,V,w=0;w<p;w+=1)for(V in R[w])R[w].hasOwnProperty(V)&&(Object(b.a)(S[V])==="object"&&Object(b.a)(R[w][V])==="object"&&!Array.isArray(S[V])&&!Array.isArray(R[w][V])?S[V]=Object(F.a)(Object(F.a)({},S[V]),R[w][V]):S[V]=R[w][V]);return S}},"/qDX":function($,W,f){},"/s86":function($,W,f){"use strict";var F=f("Ff2n"),b=f("Telt"),x=f("Tckk"),j=f("U8pU"),S=f("wx14"),B=f("VTBJ"),R=f("q1tI"),C=f.n(R),p="valueType request plain renderFormItem render text formItemProps valueEnum",V="fieldProps isDefaultDom groupProps contentRender submitterProps submitter";function w(jt){var X="".concat(p," ").concat(V).split(/[\s\n]+/),pe={};return Object.keys(jt||{}).forEach(function(ue){X.includes(ue)||(pe[ue]=jt[ue])}),pe}var _=f("PjWh"),O=f("LQCs"),D=f("EFp3"),se=f("QbM5"),A=f("fyUT"),Y=f("CeSn"),L=f.n(Y);function K(jt){return jt===0?null:jt>0?"+":"-"}function y(jt){return jt===0?"#595959":jt>0?"#ff4d4f":"#52c41a"}function ne(jt){var X=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2;return X&&X>0?jt.toFixed(X):jt}var Ae=function(X,pe){var ue=X.text,Te=X.prefix,Ke=X.precision,lt=X.suffix,Ee=lt===void 0?"%":lt,je=X.mode,at=X.showColor,Be=at===void 0?!1:at,wt=X.render,mt=X.renderFormItem,Ft=X.fieldProps,en=X.placeholder,Ut=X.showSymbol,un=Object(R.useMemo)(function(){return typeof ue=="string"&&ue.includes("%")?L()(ue.replace("%","")):L()(ue)},[ue]),Rn=Object(R.useMemo)(function(){return typeof Ut=="function"?Ut==null?void 0:Ut(ue):Ut},[Ut,ue]);if(je==="read"){var Dn=Be?{color:y(un)}:{},Sn=C.a.createElement("span",{style:Dn,ref:pe},Te&&C.a.createElement("span",null,Te),Rn&&C.a.createElement(R.Fragment,null,K(un)," "),ne(Math.abs(un),Ke),Ee&&Ee);return wt?wt(ue,Object(B.a)(Object(B.a)({mode:je},Ft),{},{prefix:Te,precision:Ke,showSymbol:Rn,suffix:Ee}),Sn):Sn}if(je==="edit"||je==="update"){var Nn=C.a.createElement(A.a,Object(S.a)({ref:pe,formatter:function(En){return En&&Te?"".concat(Te," ").concat(En).replace(/\B(?=(\d{3})+(?!\d)$)/g,","):En},parser:function(En){return En?En.replace(/.*\s|,/g,""):""},placeholder:en},Ft));return mt?mt(ue,Object(B.a)({mode:je},Ft),Nn):Nn}return null},me=C.a.forwardRef(Ae),de=f("2Zs6"),Ye=f("MXD1"),rt=f("CFYs");function Tt(jt){return typeof jt!="number"?"exception":jt===100?"success":jt<0?"exception":jt<100?"active":"normal"}var $e=function(X,pe){var ue=X.text,Te=X.mode,Ke=X.render,lt=X.plain,Ee=X.renderFormItem,je=X.fieldProps,at=X.placeholder,Be=Object(R.useMemo)(function(){return typeof ue=="string"&&ue.includes("%")?L()(ue.replace("%","")):L()(ue)},[ue]);if(Te==="read"){var wt=C.a.createElement(rt.a,Object(S.a)({ref:pe,size:"small",style:{minWidth:100,maxWidth:320},percent:Be,steps:lt?10:void 0,status:Tt(Be)},je));return Ke?Ke(Be,Object(B.a)({mode:Te},je),wt):wt}if(Te==="edit"||Te==="update"){var mt=C.a.createElement(A.a,Object(S.a)({ref:pe,placeholder:at},je));return Ee?Ee(ue,Object(B.a)({mode:Te},je),mt):mt}return null},et=C.a.forwardRef($e),Rt=f("Q9mQ"),Vt=f("diRs"),Ge=f("ODXe"),Me=f("6cGi"),Qe=["content","numberFormatOptions","numberPopoverRender"],Ie=["text","mode","locale","render","renderFormItem","fieldProps","proFieldKey","plain","valueEnum","placeholder","customSymbol","numberFormatOptions","numberPopoverRender"],Ot=new Intl.NumberFormat("zh-Hans-CN",{currency:"CNY",style:"currency"}),ot={style:"currency",currency:"USD"},ht={style:"currency",currency:"RUB"},Pt={style:"currency",currency:"RSD"},it={style:"currency",currency:"MYR"},ge={default:Ot,"zh-Hans-CN":{currency:"CNY",style:"currency"},"en-US":ot,"ru-RU":ht,"ms-MY":it,"sr-RS":Pt},yt=function(X,pe,ue,Te){var Ke=pe;return typeof Ke=="string"&&(Ke=Number(Ke)),!Ke&&Ke!==0?"":new Intl.NumberFormat(X||"zh-Hans-CN",Object(B.a)(Object(B.a)({},ge[X||"zh-Hans-CN"]||ge["zh-Hans-CN"]),{},{maximumFractionDigits:ue},Te)).format(Ke)},It=2,dn=C.a.forwardRef(function(jt,X){var pe=jt.content,ue=jt.numberFormatOptions,Te=jt.numberPopoverRender,Ke=Object(F.a)(jt,Qe),lt=Object(Me.a)(function(){return Ke.defaultValue},{value:Ke.value,onChange:Ke.onChange}),Ee=Object(Ge.a)(lt,2),je=Ee[0],at=Ee[1],Be=pe==null?void 0:pe(Object(B.a)(Object(B.a)({},Ke),{},{value:je}));return C.a.createElement(Vt.a,{placement:"topLeft",visible:Be?void 0:!1,trigger:"focus",content:Be,getPopupContainer:function(mt){return(mt==null?void 0:mt.parentElement)||document.body}},C.a.createElement(A.a,Object(S.a)({ref:X},Ke,{value:je,onChange:at})))}),wn=function(X,pe){var ue,Te=X.text,Ke=X.mode,lt=X.locale,Ee=lt===void 0?"zh-Hans-CN":lt,je=X.render,at=X.renderFormItem,Be=X.fieldProps,wt=X.proFieldKey,mt=X.plain,Ft=X.valueEnum,en=X.placeholder,Ut=X.customSymbol,un=X.numberFormatOptions,Rn=un===void 0?Be==null?void 0:Be.numberFormatOptions:un,Dn=X.numberPopoverRender,Sn=Dn===void 0?(Be==null?void 0:Be.numberPopoverRender)||!1:Dn,Nn=Object(F.a)(X,Ie),Kn=(ue=Be==null?void 0:Be.precision)!==null&&ue!==void 0?ue:It,En=Object(O.d)();Ee&&O.c[Ee]&&(En=O.c[Ee]);var In=Object(R.useMemo)(function(){if(Ut)return Ut;var Dr=En.getMessage("moneySymbol","\uFFE5");if(!(Nn.moneySymbol===!1||Be.moneySymbol===!1))return Dr},[Be.moneySymbol,En,Nn.moneySymbol,Ut]);if(Ke==="read"){var Fr=C.a.createElement("span",{ref:pe},yt(In?Ee:!1,Te,Kn,Rn));return je?je(Te,Object(B.a)({mode:Ke},Be),Fr):Fr}if(Ke==="edit"||Ke==="update"){var gr=C.a.createElement(dn,Object(S.a)({content:function(Xn){var or,Ar;if(Sn!==!1&&!!Xn.value){var Wr=new RegExp("/B(?=(d{".concat(3+(Kn-It),"})+(?!d))/g")),mn=yt(In?Ee:!1,(or=Xn.value)===null||or===void 0||(Ar=or.toString())===null||Ar===void 0?void 0:Ar.replace(Wr,","),Kn,Object(B.a)(Object(B.a)({},Rn),{},{notation:"compact"}));return typeof Sn=="function"?Sn==null?void 0:Sn(Xn,mn):mn}},ref:pe,precision:Kn,formatter:function(Xn){if(Xn&&In){var or=new RegExp("/B(?=(d{".concat(3+(Kn-It),"})+(?!d))/g"));return"".concat(In," ").concat(Xn).replace(or,",")}return Xn||""},parser:function(Xn){return In&&Xn?Xn.replace(new RegExp("\\".concat(In,"\\s?|(,*)"),"g"),""):Xn||""},placeholder:en},Be));return at?at(Te,Object(B.a)({mode:Ke},Be),gr):gr}return null},Kt=C.a.forwardRef(wn),qe=f("ZTW2"),Et=f("+BJd"),$t=f("+L6B"),J=f("+eQT"),te=f("GNNt"),Q=f("wEI+"),Oe=f("wd/R"),we=f.n(Oe),Fe=f("POPG"),ve=function jt(X,pe){return Object(Fe.a)(X)||we.a.isMoment(X)?X:Array.isArray(X)?X.map(function(ue){return jt(ue,pe)}):we()(X,pe)},oe=ve,Pe=f("iGn7"),Le=f("Z1je"),Ve=function(X,pe){var ue=X.text,Te=X.mode,Ke=X.format,lt=X.label,Ee=X.light,je=X.render,at=X.renderFormItem,Be=X.plain,wt=X.showTime,mt=X.fieldProps,Ft=X.picker,en=X.bordered,Ut=Object(O.d)(),un=Object(R.useContext)(Q.b.SizeContext),Rn=Object(R.useContext)(Q.b.ConfigContext),Dn=Rn.getPrefixCls,Sn=Dn("pro-field-date-picker"),Nn=Object(R.useState)(!1),Kn=Object(Ge.a)(Nn,2),En=Kn[0],In=Kn[1];if(Te==="read"){var Fr=ue?we()(ue).format(mt.format||Ke||"YYYY-MM-DD"):"-";return je?je(ue,Object(B.a)({mode:Te},mt),C.a.createElement(C.a.Fragment,null,Fr)):C.a.createElement(C.a.Fragment,null,Fr)}if(Te==="edit"||Te==="update"){var gr,Dr=mt.disabled,Xn=mt.value,or=mt.onChange,Ar=mt.allowClear,Wr=mt.placeholder,mn=Wr===void 0?Ut.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"):Wr,mr=oe(Xn);if(Ee){var ui=mr&&mr.format(Ke)||"";gr=C.a.createElement("div",{className:"".concat(Sn,"-light"),onClick:function(){In(!0)}},C.a.createElement(J.a,Object(S.a)({picker:Ft,showTime:wt,format:Ke,ref:pe},mt,{value:mr,onChange:function(di){or==null||or(di),setTimeout(function(){In(!1)},0)},onOpenChange:In,open:En})),C.a.createElement(Pe.a,{label:lt,disabled:Dr,placeholder:mn,size:un,value:ui,onClear:function(){or==null||or(null)},allowClear:Ar,bordered:en,expanded:En}))}else gr=C.a.createElement(J.a,Object(S.a)({picker:Ft,showTime:wt,format:Ke,placeholder:mn,bordered:Be===void 0?!0:!Be,ref:pe},mt,{value:mr}));return at?at(ue,Object(B.a)({mode:Te},mt),gr):gr}return null},We=C.a.forwardRef(Ve),st=f("5Dmo"),St=f("3S7+"),dt=function(X){var pe=X.text,ue=X.mode,Te=X.render,Ke=X.renderFormItem,lt=X.format,Ee=X.fieldProps,je=Object(O.d)();if(ue==="read"){var at=C.a.createElement(St.a,{title:we()(pe).format((Ee==null?void 0:Ee.format)||lt||"YYYY-MM-DD HH:mm:ss")},we()(pe).fromNow());return Te?Te(pe,Object(B.a)({mode:ue},Ee),C.a.createElement(C.a.Fragment,null,at)):C.a.createElement(C.a.Fragment,null,at)}if(ue==="edit"||ue==="update"){var Be=je.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),wt=oe(Ee.value),mt=C.a.createElement(J.a,Object(S.a)({placeholder:Be,showTime:!0},Ee,{value:wt}));return Ke?Ke(pe,Object(B.a)({mode:ue},Ee),mt):mt}return null},kt=dt,ct=function(X,pe){var ue=X.text,Te=X.mode,Ke=X.format,lt=X.render,Ee=X.renderFormItem,je=X.plain,at=X.showTime,Be=X.fieldProps,wt=Object(O.d)(),mt=Array.isArray(ue)?ue:[],Ft=Object(Ge.a)(mt,2),en=Ft[0],Ut=Ft[1],un=Object(R.useCallback)(function(En){if(typeof(Be==null?void 0:Be.format)=="function"){var In;return Be==null||(In=Be.format)===null||In===void 0?void 0:In.call(Be,En)}return(Be==null?void 0:Be.format)||Ke||"YYYY-MM-DD"},[Be,Ke]),Rn=en?we()(en).format(un(we()(en))):"",Dn=Ut?we()(Ut).format(un(we()(Ut))):"";if(Te==="read"){var Sn=C.a.createElement("div",{ref:pe},C.a.createElement("div",null,Rn||"-"),C.a.createElement("div",null,Dn||"-"));return lt?lt(ue,Object(B.a)({mode:Te},Be),C.a.createElement("span",null,Sn)):Sn}if(Te==="edit"||Te==="update"){var Nn=oe(Be.value),Kn=C.a.createElement(J.a.RangePicker,Object(S.a)({ref:pe,format:Ke,showTime:at,placeholder:[wt.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),wt.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9")],bordered:je===void 0?!0:!je},Be,{value:Nn}));return Ee?Ee(ue,Object(B.a)({mode:Te},Be),Kn):Kn}return null},Dt=C.a.forwardRef(ct),Gt=f("5NDa"),Ct=f("5rEg"),zt=function(X,pe){if(typeof X!="string")return X;try{if(pe==="json")return JSON.stringify(JSON.parse(X),null,2)}catch(ue){}return X},Xt=function(X,pe){var ue=X.text,Te=X.mode,Ke=X.render,lt=X.language,Ee=lt===void 0?"text":lt,je=X.renderFormItem,at=X.plain,Be=X.fieldProps,wt=zt(ue,Ee);if(Te==="read"){var mt=C.a.createElement("pre",Object(S.a)({ref:pe},Be,{style:Object(B.a)({padding:16,overflow:"auto",fontSize:"85%",lineHeight:1.45,backgroundColor:"#f6f8fa",borderRadius:3,width:"min-content"},Be.style)}),C.a.createElement("code",null,wt));return Ke?Ke(wt,Object(B.a)(Object(B.a)({mode:Te},Be),{},{ref:pe}),mt):mt}if(Te==="edit"||Te==="update"){var Ft=C.a.createElement(Ct.a.TextArea,Object(S.a)({rows:5},Be,{ref:pe}));return at&&(Ft=C.a.createElement(Ct.a,Object(S.a)({},Be,{ref:pe}))),je?je(wt,Object(B.a)(Object(B.a)({mode:Te},Be),{},{ref:pe}),Ft):Ft}return null},Jt=C.a.forwardRef(Xt),Pn=f("pL63"),fn=f("kl6h"),yn=function(X,pe){var ue=X.text,Te=X.mode,Ke=X.light,lt=X.label,Ee=X.format,je=X.render,at=X.renderFormItem,Be=X.plain,wt=X.fieldProps,mt=Object(R.useState)(!1),Ft=Object(Ge.a)(mt,2),en=Ft[0],Ut=Ft[1],un=Object(R.useContext)(Q.b.SizeContext),Rn=Object(R.useContext)(Q.b.ConfigContext),Dn=Rn.getPrefixCls,Sn=Dn("pro-field-date-picker"),Nn=(wt==null?void 0:wt.format)||Ee||"HH:mm:ss",Kn=we.a.isMoment(ue)||typeof ue=="number";if(Te==="read"){var En=C.a.createElement("span",{ref:pe},ue?we()(ue,Kn?void 0:Nn).format(Nn):"-");return je?je(ue,Object(B.a)({mode:Te},wt),C.a.createElement("span",null,En)):En}if(Te==="edit"||Te==="update"){var In,Fr=wt.disabled,gr=wt.onChange,Dr=wt.placeholder,Xn=wt.allowClear,or=wt.value,Ar=oe(or,Nn);if(Ke){var Wr=Ar&&Ar.format(Nn)||"";In=C.a.createElement("div",{className:"".concat(Sn,"-light"),onClick:function(){Ut(!0)}},C.a.createElement(fn.a,Object(S.a)({value:Ar,format:Ee,ref:pe},wt,{onChange:function(mr){gr==null||gr(mr),setTimeout(function(){Ut(!1)},0)},onOpenChange:Ut,open:en})),C.a.createElement(Pe.a,{label:lt,disabled:Fr,placeholder:Dr,size:un,value:Wr,allowClear:Xn,onClear:function(){gr==null||gr(null)},expanded:en}))}else In=C.a.createElement(J.a.TimePicker,Object(S.a)({ref:pe,format:Ee,bordered:Be===void 0?!0:!Be},wt,{value:Ar}));return at?at(ue,Object(B.a)({mode:Te},wt),In):In}return null},gn=function(X){var pe=X.text,ue=X.mode,Te=X.format,Ke=X.render,lt=X.renderFormItem,Ee=X.plain,je=X.fieldProps,at=Array.isArray(pe)?pe:[],Be=Object(Ge.a)(at,2),wt=Be[0],mt=Be[1],Ft=wt?we()(wt).format((je==null?void 0:je.format)||Te||"YYYY-MM-DD"):"",en=mt?we()(mt).format((je==null?void 0:je.format)||Te||"YYYY-MM-DD"):"";if(ue==="read"){var Ut=C.a.createElement("div",null,C.a.createElement("div",null,Ft||"-"),C.a.createElement("div",null,en||"-"));return Ke?Ke(pe,Object(B.a)({mode:ue},je),C.a.createElement("span",null,Ut)):Ut}if(ue==="edit"||ue==="update"){var un=je.value,Rn=oe(un),Dn=C.a.createElement(fn.a.RangePicker,Object(S.a)({format:Te,bordered:Ee===void 0?!0:!Ee},je,{value:Rn}));return lt?lt(pe,Object(B.a)({mode:ue},je),Dn):Dn}return null},zn=C.a.forwardRef(yn),Ln=function(X,pe){var ue=X.text,Te=X.mode,Ke=X.render,lt=X.renderFormItem,Ee=X.fieldProps,je=X.emptyText,at=je===void 0?"-":je,Be=Object(O.d)(),wt=Object(R.useRef)();if(Object(R.useImperativeHandle)(pe,function(){return wt.current}),Object(R.useEffect)(function(){if(Ee.autoFocus){var un;wt==null||(un=wt.current)===null||un===void 0||un.focus()}},[Ee.autoFocus]),Te==="read"){var mt=ue!=null?ue:at;if(Ke){var Ft;return(Ft=Ke(ue,Object(B.a)({mode:Te},Ee),C.a.createElement(C.a.Fragment,null,(Ee==null?void 0:Ee.prefix)||"",mt,(Ee==null?void 0:Ee.suffix)||"")))!==null&&Ft!==void 0?Ft:at}return C.a.createElement(C.a.Fragment,null,(Ee==null?void 0:Ee.prefix)||"",mt,(Ee==null?void 0:Ee.suffix)||"")}if(Te==="edit"||Te==="update"){var en=Be.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),Ut=C.a.createElement(Ct.a,Object(S.a)({ref:wt,placeholder:en,allowClear:!0},Ee));return lt?lt(ue,Object(B.a)({mode:Te},Ee),Ut):Ut}return null},Mn=C.a.forwardRef(Ln),Hn=function(X,pe){var ue=X.text,Te=X.mode,Ke=X.render,lt=X.renderFormItem,Ee=X.fieldProps,je=Object(O.d)();if(Te==="read"){var at=C.a.createElement("span",{ref:pe},ue!=null?ue:"-");return Ke?Ke(ue,Object(B.a)({mode:Te},Ee),at):at}if(Te==="edit"||Te==="update"){var Be=C.a.createElement(Ct.a.TextArea,Object(S.a)({ref:pe,rows:3,onKeyPress:function(mt){mt.key==="Enter"&&mt.stopPropagation()},placeholder:je.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165")},Ee));return lt?lt(ue,Object(B.a)({mode:Te},Ee),Be):Be}return null},Bn=C.a.forwardRef(Hn),Yn=f("DYRE"),nr=f("zeV3"),An=f("9BLJ"),pn=f("fHMl"),Ce=["text","mode","render","renderFormItem","fieldProps","proFieldKey"],_e=function(X,pe){var ue=X.text,Te=X.mode,Ke=X.render,lt=X.renderFormItem,Ee=X.fieldProps,je=X.proFieldKey,at=Object(F.a)(X,Ce),Be=Object(O.d)(),wt=Object(Me.a)(function(){return at.visible||!1},{value:at.visible,onChange:at.onVisible}),mt=Object(Ge.a)(wt,2),Ft=mt[0],en=mt[1];if(Te==="read"){var Ut=C.a.createElement(C.a.Fragment,null,"-");return ue&&(Ut=C.a.createElement(nr.b,null,C.a.createElement("span",{ref:pe},Ft?ue:"\uFF0A \uFF0A \uFF0A \uFF0A \uFF0A"),C.a.createElement("a",{onClick:function(){return en(!Ft)}},Ft?C.a.createElement(An.a,null):C.a.createElement(pn.a,null)))),Ke?Ke(ue,Object(B.a)({mode:Te},Ee),Ut):Ut}if(Te==="edit"||Te==="update"){var un=C.a.createElement(Ct.a.Password,Object(S.a)({placeholder:Be.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),ref:pe},Ee));return lt?lt(ue,Object(B.a)({mode:Te},Ee),un):un}return null},ze=C.a.forwardRef(_e),At=function(X){return X.map(function(pe,ue){return C.a.isValidElement(pe)?C.a.cloneElement(pe,Object(B.a)({key:ue},pe==null?void 0:pe.props)):C.a.createElement(C.a.Fragment,{key:ue},pe)})},Lt=function(X){var pe=X.text,ue=X.mode,Te=X.render,Ke=X.fieldProps,lt=Object(R.useContext)(Q.b.ConfigContext),Ee=lt.getPrefixCls,je=Ee("pro-field-option");if(Te){var at=Te(pe,Object(B.a)({mode:ue},Ke),C.a.createElement(C.a.Fragment,null));return!at||(at==null?void 0:at.length)<1||!Array.isArray(at)?null:C.a.createElement(nr.b,{size:16,className:je},At(at))}return!pe||!Array.isArray(pe)?C.a.isValidElement(pe)?pe:null:C.a.createElement(nr.b,{size:16,className:je},At(pe))},qt=Lt,_t=f("yeZT"),sn=f("sRBo"),Nt=f("kaz8"),kn=f("rePB"),Yt=f("T2oS"),_n=f("W9HT"),ln=f("TSYQ"),Zn=f.n(ln),lr=f("PdkY"),pr=["layout","renderFormItem","mode","render"],Ur=function(X,pe){var ue=X.layout,Te=ue===void 0?"horizontal":ue,Ke=X.renderFormItem,lt=X.mode,Ee=X.render,je=Object(F.a)(X,pr),at=Object(R.useContext)(Q.b.ConfigContext),Be=at.getPrefixCls,wt=Be("pro-field-checkbox"),mt=Object(_t.e)(je),Ft=Object(Ge.a)(mt,3),en=Ft[0],Ut=Ft[1],un=Ft[2],Rn=Object(R.useRef)();if(Object(R.useImperativeHandle)(pe,function(){return Object(B.a)(Object(B.a)({},Rn.current||{}),{},{fetchData:function(){return un()}})}),en)return C.a.createElement(_n.a,{size:"small"});if(lt==="read"){var Dn=(Ut==null?void 0:Ut.length)?Ut==null?void 0:Ut.reduce(function(En,In){return Object(B.a)(Object(B.a)({},En),{},Object(kn.a)({},In.value,In.label))},{}):void 0,Sn=Object(_t.c)(je.text,Object(_t.a)(je.valueEnum||Dn));return Ee?Ee(je.text,Object(B.a)({mode:lt},je.fieldProps),C.a.createElement(C.a.Fragment,null,Sn))||null:C.a.createElement(nr.b,null,Sn)}if(lt==="edit"){var Nn,Kn=C.a.createElement(Nt.a.Group,Object(S.a)({},je.fieldProps,{className:Zn()((Nn=je.fieldProps)===null||Nn===void 0?void 0:Nn.className,"".concat(wt,"-").concat(Te)),options:Ut}));return Ke?Ke(je.text,Object(B.a)({mode:lt},je.fieldProps),Kn)||null:Kn}return null},Xr=C.a.forwardRef(Ur),xn=f("xzDV"),ri=f("GzdX"),qr=function(X,pe){var ue=X.text,Te=X.mode,Ke=X.render,lt=X.renderFormItem,Ee=X.fieldProps;if(Te==="read"){var je=C.a.createElement(ri.a,Object(S.a)({allowHalf:!0,disabled:!0,ref:pe},Ee,{value:ue}));return Ke?Ke(ue,Object(B.a)({mode:Te},Ee),C.a.createElement(C.a.Fragment,null,je)):je}if(Te==="edit"||Te==="update"){var at=C.a.createElement(ri.a,Object(S.a)({allowHalf:!0,ref:pe},Ee));return lt?lt(ue,Object(B.a)({mode:Te},Ee),at):at}return null},rn=C.a.forwardRef(qr),Mt=f("czTT"),cn=f("Sdc0"),er=f("BGR+"),$n=function(X,pe){var ue=X.text,Te=X.mode,Ke=X.render,lt=X.renderFormItem,Ee=X.fieldProps,je=Object(O.d)(),at=Object(R.useMemo)(function(){var wt,mt;return ue==null||"".concat(ue).length<1?"-":ue?(wt=Ee==null?void 0:Ee.checkedChildren)!==null&&wt!==void 0?wt:je.getMessage("switch.open","\u6253\u5F00"):(mt=Ee==null?void 0:Ee.unCheckedChildren)!==null&&mt!==void 0?mt:je.getMessage("switch.close","\u5173\u95ED")},[Ee==null?void 0:Ee.checkedChildren,Ee==null?void 0:Ee.unCheckedChildren,ue]);if(Te==="read")return Ke?Ke(ue,Object(B.a)({mode:Te},Ee),C.a.createElement(C.a.Fragment,null,at)):at!=null?at:"-";if(Te==="edit"||Te==="update"){var Be=C.a.createElement(cn.a,Object(S.a)({ref:pe},Object(er.a)(Ee,["value"]),{checked:(Ee==null?void 0:Ee.checked)||(Ee==null?void 0:Ee.value)}));return lt?lt(ue,Object(B.a)({mode:Te},Ee),Be):Be}return null},wr=C.a.forwardRef($n),nn=function(X,pe){var ue=X.text,Te=X.mode,Ke=X.render,lt=X.placeholder,Ee=X.renderFormItem,je=X.fieldProps;if(Te==="read"){var at,Be=new Intl.NumberFormat(void 0,Object(B.a)({minimumSignificantDigits:1},(je==null?void 0:je.intlProps)||{})).format(Number(ue)),wt=C.a.createElement("span",{ref:pe},(je==null||(at=je.formatter)===null||at===void 0?void 0:at.call(je,Be))||Be);return Ke?Ke(ue,Object(B.a)({mode:Te},je),wt):wt}if(Te==="edit"||Te==="update"){var mt=C.a.createElement(A.a,Object(S.a)({ref:pe,min:0,placeholder:lt},je));return Ee?Ee(ue,Object(B.a)({mode:Te},je),mt):mt}return null},ar=C.a.forwardRef(nn);function Pr(jt){var X="",pe=Math.floor(jt/(3600*24)),ue=Math.floor(jt/3600),Te=Math.floor(jt/60%60),Ke=Math.floor(jt%60);return X="".concat(Ke,"\u79D2"),Te>0&&(X="".concat(Te,"\u5206\u949F").concat(X)),ue>0&&(X="".concat(ue,"\u5C0F\u65F6").concat(X)),pe>0&&(X="".concat(pe,"\u5929").concat(X)),X}var hn=function(X,pe){var ue=X.text,Te=X.mode,Ke=X.render,lt=X.renderFormItem,Ee=X.fieldProps,je=X.placeholder;if(Te==="read"){var at=Pr(Number(ue)),Be=C.a.createElement("span",{ref:pe},at);return Ke?Ke(ue,Object(B.a)({mode:Te},Ee),Be):Be}if(Te==="edit"||Te==="update"){var wt=C.a.createElement(A.a,Object(S.a)({ref:pe,min:0,style:{width:"100%"},placeholder:je},Ee));return lt?lt(ue,Object(B.a)({mode:Te},Ee),wt):wt}return null},_r=C.a.forwardRef(hn),tr=f("7Kak"),Vn=f("9yH6"),xr=f("nSmt"),jr=["radioType","renderFormItem","mode","render"],Er=function(X,pe){var ue=X.radioType,Te=X.renderFormItem,Ke=X.mode,lt=X.render,Ee=Object(F.a)(X,jr),je=Object(R.useContext)(Q.b.ConfigContext),at=je.getPrefixCls,Be=at("pro-field-radio"),wt=Object(_t.e)(Ee),mt=Object(Ge.a)(wt,3),Ft=mt[0],en=mt[1],Ut=mt[2],un=Object(R.useRef)();if(Object(R.useImperativeHandle)(pe,function(){return Object(B.a)(Object(B.a)({},un.current||{}),{},{fetchData:function(){return Ut()}})}),Ft)return C.a.createElement(_n.a,{size:"small"});if(Ke==="read"){var Rn=(en==null?void 0:en.length)?en==null?void 0:en.reduce(function(En,In){return Object(B.a)(Object(B.a)({},En),{},Object(kn.a)({},In.value,In.label))},{}):void 0,Dn=C.a.createElement(C.a.Fragment,null,Object(_t.c)(Ee.text,Object(_t.a)(Ee.valueEnum||Rn)));return lt?lt(Ee.text,Object(B.a)({mode:Ke},Ee.fieldProps),Dn)||null:Dn}if(Ke==="edit"){var Sn,Nn=ue==="button"?Vn.a.Button:Vn.a,Kn=C.a.createElement(Vn.a.Group,Object(S.a)({ref:un},Ee.fieldProps,{className:Zn()((Sn=Ee.fieldProps)===null||Sn===void 0?void 0:Sn.className,"".concat(Be,"-").concat(Ee.fieldProps.layout||"horizontal")),options:void 0}),en==null?void 0:en.map(function(En){return C.a.createElement(Nn,Object(S.a)({key:En.value},En),En.label)}));return Te?Te(Ee.text,Object(B.a)({mode:Ke},Ee.fieldProps),Kn)||null:Kn}return null},Rr=C.a.forwardRef(Er),ci=f("XCrF"),wi=f("1GRj"),_i=function(X){var pe=X.text,ue=X.mode,Te=X.render,Ke=X.renderFormItem,lt=X.fieldProps,Ee=X.placeholder,je=X.width;if(ue==="read"){var at=C.a.createElement(wi.a,Object(S.a)({width:je||32,src:pe},lt));return Te?Te(pe,Object(B.a)({mode:ue},lt),at):at}if(ue==="edit"||ue==="update"){var Be=C.a.createElement(Ct.a,Object(S.a)({placeholder:Ee},lt));return Ke?Ke(pe,Object(B.a)({mode:ue},lt),Be):Be}return null},Ii=_i,za=f("v56E"),Ua=f("R9oj"),ya=f("OaEy"),ji=f("DFOY"),xi=f("mF9B"),na=["radioType","renderFormItem","mode","render"],ra=function(X,pe){var ue,Te=X.radioType,Ke=X.renderFormItem,lt=X.mode,Ee=X.render,je=Object(F.a)(X,na),at=Object(R.useContext)(Q.b.ConfigContext),Be=at.getPrefixCls,wt=Be("pro-field-cascader"),mt=Object(_t.e)(je),Ft=Object(Ge.a)(mt,3),en=Ft[0],Ut=Ft[1],un=Ft[2],Rn=Object(R.useRef)();Object(R.useImperativeHandle)(pe,function(){return Object(B.a)(Object(B.a)({},Rn.current||{}),{},{fetchData:function(){return un()}})});var Dn=Object(R.useMemo)(function(){var En,In=((En=je.fieldProps)===null||En===void 0?void 0:En.fieldNames)||{},Fr=In.value,gr=Fr===void 0?"value":Fr,Dr=In.label,Xn=Dr===void 0?"label":Dr,or=In.children,Ar=or===void 0?"children":or,Wr=function mn(mr){return(mr==null?void 0:mr.length)>0?mr==null?void 0:mr.reduce(function(ui,br){var di=br[Xn],Un=br[gr],Ji=br[Ar];return Object(B.a)(Object(B.a)({},ui),{},Object(kn.a)({},Un,di),mn(Ji))},{}):{}};return Wr(Ut)},[Ut,(ue=je.fieldProps)===null||ue===void 0?void 0:ue.fieldNames]);if(lt==="read"){var Sn=C.a.createElement(C.a.Fragment,null,Object(_t.c)(je.text,Object(_t.a)(je.valueEnum||Dn)));return Ee?Ee(je.text,Object(B.a)({mode:lt},je.fieldProps),Sn)||null:Sn}if(lt==="edit"){var Nn,Kn=C.a.createElement(_n.a,{spinning:en},C.a.createElement(ji.a,Object(S.a)({ref:Rn},je.fieldProps,{className:Zn()((Nn=je.fieldProps)===null||Nn===void 0?void 0:Nn.className,wt),options:Ut})));return Ke?Ke(je.text,Object(B.a)({mode:lt},je.fieldProps),Kn)||null:Kn}return null},ia=C.a.forwardRef(ra),Ui=f("15kH"),aa=["mode","popoverProps"],ka=["#FF9D4E","#5BD8A6","#5B8FF9","#F7664E","#FF86B7","#2B9E9D","#9270CA","#6DC8EC","#667796","#F6BD16"],Wi=function(X){var pe=X.mode,ue=X.popoverProps,Te=Object(F.a)(X,aa),Ke=Object(R.useContext)(Q.b.ConfigContext),lt=Ke.getPrefixCls,Ee=lt("pro-field-color-picker"),je=Object(Me.a)("#1890ff",{value:Te.value,onChange:Te.onChange}),at=Object(Ge.a)(je,2),Be=at[0],wt=at[1],mt=C.a.createElement("div",{className:Ee,style:{padding:5,width:48,border:"1px solid #ddd",borderRadius:"2px",cursor:"pointer"}},C.a.createElement("div",{style:{backgroundColor:Be,width:36,height:14,borderRadius:"2px"}}));return pe==="read"?mt:C.a.createElement(Vt.a,Object(S.a)({trigger:"click",placement:"right"},ue,{content:C.a.createElement("div",{style:{margin:"-12px -16px"}},C.a.createElement(Ui.a,Object(S.a)({},Te,{presetColors:Te.colors||Te.presetColors||ka,color:Be,onChange:function(en){var Ut=en.hex,un=en.rgb,Rn=un.r,Dn=un.g,Sn=un.b,Nn=un.a;Nn&&Nn<1&&wt("rgba(".concat(Rn,", ").concat(Dn,", ").concat(Sn,", ").concat(Nn,")")),wt(Ut)}})))}),mt)},Hi=function(X){var pe=X.text,ue=X.mode,Te=X.render,Ke=X.renderFormItem,lt=X.fieldProps;if(ue==="read"){var Ee=C.a.createElement(Wi,{value:pe,mode:"read"});return Te?Te(pe,Object(B.a)({mode:ue},lt),Ee):Ee}if(ue==="edit"||ue==="update"){var je=C.a.createElement(Wi,lt);return Ke?Ke(pe,Object(B.a)({mode:ue},lt),je):je}return null},oa=Hi,Ki=f("Kwbf"),Gi=["text","valueType","onChange","renderFormItem","value"],Ei=["select","radio","radioButton","checkbook"],sa=function(X,pe,ue){var Te=w(ue.fieldProps);return pe.type==="progress"?C.a.createElement(et,Object(S.a)({},ue,{text:X,fieldProps:Object(B.a)({status:pe.status?pe.status:void 0},Te)})):pe.type==="money"?C.a.createElement(Kt,Object(S.a)({locale:pe.locale},ue,{fieldProps:Te,text:X,moneySymbol:pe.moneySymbol})):pe.type==="percent"?C.a.createElement(me,Object(S.a)({},ue,{text:X,showSymbol:pe.showSymbol,precision:pe.precision,fieldProps:Te,showColor:pe.showColor})):pe.type==="image"?C.a.createElement(Ii,Object(S.a)({},ue,{text:X,width:pe.width})):X},Ri=function(X,pe,ue,Te){var Ke,lt=ue.mode,Ee=lt===void 0?"read":lt,je=ue.emptyText,at=je===void 0?"-":je;if(at!==!1&&Ee==="read"&&pe!=="option"&&pe!=="switch"&&typeof X!="boolean"&&typeof X!="number"&&!X){var Be=ue.fieldProps,wt=ue.render;return wt?wt(X,Object(B.a)({mode:Ee},Be),C.a.createElement(C.a.Fragment,null,at)):C.a.createElement(C.a.Fragment,null,at)}if(delete ue.emptyText,Object(j.a)(pe)==="object")return sa(X,pe,ue);var mt=Te&&Te[pe];if(mt){if(delete ue.ref,Ee==="read"){var Ft;return(Ft=mt.render)===null||Ft===void 0?void 0:Ft.call(mt,X,Object(B.a)(Object(B.a)({text:X},ue),{},{mode:Ee||"read"}),C.a.createElement(C.a.Fragment,null,X))}if(Ee==="update"||Ee==="edit"){var en;return(en=mt.renderFormItem)===null||en===void 0?void 0:en.call(mt,X,Object(B.a)({text:X},ue),C.a.createElement(C.a.Fragment,null,X))}}var Ut=Ei.includes(pe),un=!!(ue.valueEnum||ue.request||ue.options||((Ke=ue.fieldProps)===null||Ke===void 0?void 0:Ke.options));return Object(Ki.b)(!Ut||un,"\u5982\u679C\u8BBE\u7F6E\u4E86 valueType \u4E3A ".concat(Ei.join(","),"\u4E2D\u4EFB\u610F\u4E00\u4E2A\uFF0C\u5219\u9700\u8981\u914D\u7F6Eoptions\uFF0Crequest, valueEnum \u5176\u4E2D\u4E4B\u4E00\uFF0C\u5426\u5219\u65E0\u6CD5\u751F\u6210\u9009\u9879\u3002")),Object(Ki.b)(!Ut||un,"If you set valueType to any of ".concat(Ei.join(","),", you need to configure options, request or valueEnum.")),pe==="money"?C.a.createElement(Kt,Object(S.a)({},ue,{text:X})):pe==="date"?C.a.createElement(We,Object(S.a)({text:X,format:"YYYY-MM-DD"},ue)):pe==="dateWeek"?C.a.createElement(We,Object(S.a)({text:X,format:"YYYY-wo",picker:"week"},ue)):pe==="dateMonth"?C.a.createElement(We,Object(S.a)({text:X,format:"YYYY-MM",picker:"month"},ue)):pe==="dateQuarter"?C.a.createElement(We,Object(S.a)({text:X,format:"YYYY-\\QQ",picker:"quarter"},ue)):pe==="dateYear"?C.a.createElement(We,Object(S.a)({text:X,format:"YYYY",picker:"year"},ue)):pe==="dateRange"?C.a.createElement(Dt,Object(S.a)({text:X,format:"YYYY-MM-DD"},ue)):pe==="dateTime"?C.a.createElement(We,Object(S.a)({text:X,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},ue)):pe==="dateTimeRange"?C.a.createElement(Dt,Object(S.a)({text:X,format:"YYYY-MM-DD HH:mm:ss",showTime:!0},ue)):pe==="time"?C.a.createElement(zn,Object(S.a)({text:X,format:"HH:mm:ss"},ue)):pe==="timeRange"?C.a.createElement(gn,Object(S.a)({text:X,format:"HH:mm:ss"},ue)):pe==="fromNow"?C.a.createElement(kt,Object(S.a)({text:X},ue)):pe==="index"?C.a.createElement(de.a,null,X+1):pe==="indexBorder"?C.a.createElement(de.a,{border:!0},X+1):pe==="progress"?C.a.createElement(et,Object(S.a)({},ue,{text:X})):pe==="percent"?C.a.createElement(me,Object(S.a)({text:X},ue)):pe==="avatar"&&typeof X=="string"&&ue.mode==="read"?C.a.createElement(x.a,{src:X,size:22,shape:"circle"}):pe==="code"?C.a.createElement(Jt,Object(S.a)({text:X},ue)):pe==="jsonCode"?C.a.createElement(Jt,Object(S.a)({text:X,language:"json"},ue)):pe==="textarea"?C.a.createElement(Bn,Object(S.a)({text:X},ue)):pe==="digit"?C.a.createElement(ar,Object(S.a)({text:X},ue)):pe==="second"?C.a.createElement(_r,Object(S.a)({text:X},ue)):pe==="select"||pe==="text"&&(ue.valueEnum||ue.request)?C.a.createElement(_t.b,Object(S.a)({text:X},ue)):pe==="checkbox"?C.a.createElement(Xr,Object(S.a)({text:X},ue)):pe==="radio"?C.a.createElement(Rr,Object(S.a)({text:X},ue)):pe==="radioButton"?C.a.createElement(Rr,Object(S.a)({radioType:"button",text:X},ue)):pe==="rate"?C.a.createElement(rn,Object(S.a)({text:X},ue)):pe==="switch"?C.a.createElement(wr,Object(S.a)({text:X},ue)):pe==="option"?C.a.createElement(qt,Object(S.a)({text:X},ue)):pe==="password"?C.a.createElement(ze,Object(S.a)({text:X},ue)):pe==="image"?C.a.createElement(Ii,Object(S.a)({text:X},ue)):pe==="cascader"?C.a.createElement(ia,Object(S.a)({text:X},ue)):pe==="color"?C.a.createElement(oa,Object(S.a)({text:X},ue)):C.a.createElement(Mn,Object(S.a)({text:X},ue))},Yi=function(X,pe){var ue,Te=X.text,Ke=X.valueType,lt=Ke===void 0?"text":Ke,Ee=X.onChange,je=X.renderFormItem,at=X.value,Be=Object(F.a)(X,Gi),wt=Object(O.d)(),mt=Object(R.useContext)(O.b),Ft=(at!==void 0||Ee||(Be==null?void 0:Be.fieldProps))&&Object(B.a)(Object(B.a)({value:at},Object(_.a)(Be==null?void 0:Be.fieldProps)),{},{onChange:function(){for(var Ut,un,Rn=arguments.length,Dn=new Array(Rn),Sn=0;Sn<Rn;Sn++)Dn[Sn]=arguments[Sn];Be==null||(Ut=Be.fieldProps)===null||Ut===void 0||(un=Ut.onChange)===null||un===void 0||un.call.apply(un,[Ut].concat(Dn)),Ee==null||Ee.apply(void 0,Dn)}});return C.a.createElement(C.a.Fragment,null,Ri((ue=Te!=null?Te:Ft==null?void 0:Ft.value)!==null&&ue!==void 0?ue:"",lt||"text",Object(B.a)(Object(B.a)({ref:pe},Be),{},{mode:Be.mode||"read",renderFormItem:je?function(){var en=je.apply(void 0,arguments);return C.a.isValidElement(en)?C.a.cloneElement(en,Object(B.a)(Object(B.a)({placeholder:Be.placeholder||wt.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165")},Ft),en.props||{})):en}:void 0,placeholder:Be.placeholder||wt.getMessage("tableForm.inputPlaceholder","\u8BF7\u8F93\u5165"),fieldProps:w(Ft)}),mt.valueTypeMap))},$i=W.a=C.a.forwardRef(Yi)},"/zsF":function($,W,f){"use strict";var F=f("EFp3"),b=f.n(F),x=f("bE4E"),j=f.n(x)},"1+5i":function($,W,f){var F=f("w/wX"),b=f("sEf8"),x=f("mdPL"),j=x&&x.isSet,S=j?b(j):F;$.exports=S},"14J3":function($,W,f){"use strict";var F=f("EFp3"),b=f.n(F),x=f("1GLa")},"15kH":function($,W,f){"use strict";f.d(W,"a",function(){return Ko});var F=f("q1tI"),b=f.n(F),x=f("/FUP"),j=f.n(x),S=function(g,z,T,I,re){var ae=re.clientWidth,fe=re.clientHeight,be=typeof g.pageX=="number"?g.pageX:g.touches[0].pageX,xe=typeof g.pageY=="number"?g.pageY:g.touches[0].pageY,De=be-(re.getBoundingClientRect().left+window.pageXOffset),vt=xe-(re.getBoundingClientRect().top+window.pageYOffset);if(T==="vertical"){var tt=void 0;if(vt<0?tt=0:vt>fe?tt=1:tt=Math.round(vt*100/fe)/100,z.a!==tt)return{h:z.h,s:z.s,l:z.l,a:tt,source:"rgb"}}else{var ft=void 0;if(De<0?ft=0:De>ae?ft=1:ft=Math.round(De*100/ae)/100,I!==ft)return{h:z.h,s:z.s,l:z.l,a:ft,source:"rgb"}}return null},B={},R=function(g,z,T,I){if(typeof document=="undefined"&&!I)return null;var re=I?new I:document.createElement("canvas");re.width=T*2,re.height=T*2;var ae=re.getContext("2d");return ae?(ae.fillStyle=g,ae.fillRect(0,0,re.width,re.height),ae.fillStyle=z,ae.fillRect(0,0,T,T),ae.translate(T,T),ae.fillRect(0,0,T,T),re.toDataURL()):null},C=function(g,z,T,I){var re=g+"-"+z+"-"+T+(I?"-server":"");if(B[re])return B[re];var ae=R(g,z,T,I);return B[re]=ae,ae},p=Object.assign||function(M){for(var g=1;g<arguments.length;g++){var z=arguments[g];for(var T in z)Object.prototype.hasOwnProperty.call(z,T)&&(M[T]=z[T])}return M},V=function(g){var z=g.white,T=g.grey,I=g.size,re=g.renderers,ae=g.borderRadius,fe=g.boxShadow,be=g.children,xe=j()({default:{grid:{borderRadius:ae,boxShadow:fe,absolute:"0px 0px 0px 0px",background:"url("+C(z,T,I,re.canvas)+") center left"}}});return Object(F.isValidElement)(be)?b.a.cloneElement(be,p({},be.props,{style:p({},be.props.style,xe.grid)})):b.a.createElement("div",{style:xe.grid})};V.defaultProps={size:8,white:"transparent",grey:"rgba(0,0,0,.08)",renderers:{}};var w=V,_=Object.assign||function(M){for(var g=1;g<arguments.length;g++){var z=arguments[g];for(var T in z)Object.prototype.hasOwnProperty.call(z,T)&&(M[T]=z[T])}return M},O=function(){function M(g,z){for(var T=0;T<z.length;T++){var I=z[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}return function(g,z,T){return z&&M(g.prototype,z),T&&M(g,T),g}}();function D(M,g){if(!(M instanceof g))throw new TypeError("Cannot call a class as a function")}function se(M,g){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:M}function A(M,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);M.prototype=Object.create(g&&g.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(M,g):M.__proto__=g)}var Y=function(M){A(g,M);function g(){var z,T,I,re;D(this,g);for(var ae=arguments.length,fe=Array(ae),be=0;be<ae;be++)fe[be]=arguments[be];return re=(T=(I=se(this,(z=g.__proto__||Object.getPrototypeOf(g)).call.apply(z,[this].concat(fe))),I),I.handleChange=function(xe){var De=S(xe,I.props.hsl,I.props.direction,I.props.a,I.container);De&&typeof I.props.onChange=="function"&&I.props.onChange(De,xe)},I.handleMouseDown=function(xe){I.handleChange(xe),window.addEventListener("mousemove",I.handleChange),window.addEventListener("mouseup",I.handleMouseUp)},I.handleMouseUp=function(){I.unbindEventListeners()},I.unbindEventListeners=function(){window.removeEventListener("mousemove",I.handleChange),window.removeEventListener("mouseup",I.handleMouseUp)},T),se(I,re)}return O(g,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"render",value:function(){var T=this,I=this.props.rgb,re=j()({default:{alpha:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},checkboard:{absolute:"0px 0px 0px 0px",overflow:"hidden",borderRadius:this.props.radius},gradient:{absolute:"0px 0px 0px 0px",background:"linear-gradient(to right, rgba("+I.r+","+I.g+","+I.b+`, 0) 0%,
           rgba(`+I.r+","+I.g+","+I.b+", 1) 100%)",boxShadow:this.props.shadow,borderRadius:this.props.radius},container:{position:"relative",height:"100%",margin:"0 3px"},pointer:{position:"absolute",left:I.a*100+"%"},slider:{width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",marginTop:"1px",transform:"translateX(-2px)"}},vertical:{gradient:{background:"linear-gradient(to bottom, rgba("+I.r+","+I.g+","+I.b+`, 0) 0%,
           rgba(`+I.r+","+I.g+","+I.b+", 1) 100%)"},pointer:{left:0,top:I.a*100+"%"}},overwrite:_({},this.props.style)},{vertical:this.props.direction==="vertical",overwrite:!0});return b.a.createElement("div",{style:re.alpha},b.a.createElement("div",{style:re.checkboard},b.a.createElement(w,{renderers:this.props.renderers})),b.a.createElement("div",{style:re.gradient}),b.a.createElement("div",{style:re.container,ref:function(fe){return T.container=fe},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},b.a.createElement("div",{style:re.pointer},this.props.pointer?b.a.createElement(this.props.pointer,this.props):b.a.createElement("div",{style:re.slider}))))}}]),g}(F.PureComponent||F.Component),L=Y,K=function(){function M(g,z){for(var T=0;T<z.length;T++){var I=z[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}return function(g,z,T){return z&&M(g.prototype,z),T&&M(g,T),g}}();function y(M,g,z){return g in M?Object.defineProperty(M,g,{value:z,enumerable:!0,configurable:!0,writable:!0}):M[g]=z,M}function ne(M,g){if(!(M instanceof g))throw new TypeError("Cannot call a class as a function")}function Ae(M,g){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:M}function me(M,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);M.prototype=Object.create(g&&g.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(M,g):M.__proto__=g)}var de=1,Ye=38,rt=40,Tt=[Ye,rt],$e=function(g){return Tt.indexOf(g)>-1},et=function(g){return Number(String(g).replace(/%/g,""))},Rt=1,Vt=function(M){me(g,M);function g(z){ne(this,g);var T=Ae(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));return T.handleBlur=function(){T.state.blurValue&&T.setState({value:T.state.blurValue,blurValue:null})},T.handleChange=function(I){T.setUpdatedValue(I.target.value,I)},T.handleKeyDown=function(I){var re=et(I.target.value);if(!isNaN(re)&&$e(I.keyCode)){var ae=T.getArrowOffset(),fe=I.keyCode===Ye?re+ae:re-ae;T.setUpdatedValue(fe,I)}},T.handleDrag=function(I){if(T.props.dragLabel){var re=Math.round(T.props.value+I.movementX);re>=0&&re<=T.props.dragMax&&T.props.onChange&&T.props.onChange(T.getValueObjectWithLabel(re),I)}},T.handleMouseDown=function(I){T.props.dragLabel&&(I.preventDefault(),T.handleDrag(I),window.addEventListener("mousemove",T.handleDrag),window.addEventListener("mouseup",T.handleMouseUp))},T.handleMouseUp=function(){T.unbindEventListeners()},T.unbindEventListeners=function(){window.removeEventListener("mousemove",T.handleDrag),window.removeEventListener("mouseup",T.handleMouseUp)},T.state={value:String(z.value).toUpperCase(),blurValue:String(z.value).toUpperCase()},T.inputId="rc-editable-input-"+Rt++,T}return K(g,[{key:"componentDidUpdate",value:function(T,I){this.props.value!==this.state.value&&(T.value!==this.props.value||I.value!==this.state.value)&&(this.input===document.activeElement?this.setState({blurValue:String(this.props.value).toUpperCase()}):this.setState({value:String(this.props.value).toUpperCase(),blurValue:!this.state.blurValue&&String(this.props.value).toUpperCase()}))}},{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"getValueObjectWithLabel",value:function(T){return y({},this.props.label,T)}},{key:"getArrowOffset",value:function(){return this.props.arrowOffset||de}},{key:"setUpdatedValue",value:function(T,I){var re=this.props.label?this.getValueObjectWithLabel(T):T;this.props.onChange&&this.props.onChange(re,I),this.setState({value:T})}},{key:"render",value:function(){var T=this,I=j()({default:{wrap:{position:"relative"}},"user-override":{wrap:this.props.style&&this.props.style.wrap?this.props.style.wrap:{},input:this.props.style&&this.props.style.input?this.props.style.input:{},label:this.props.style&&this.props.style.label?this.props.style.label:{}},"dragLabel-true":{label:{cursor:"ew-resize"}}},{"user-override":!0},this.props);return b.a.createElement("div",{style:I.wrap},b.a.createElement("input",{id:this.inputId,style:I.input,ref:function(ae){return T.input=ae},value:this.state.value,onKeyDown:this.handleKeyDown,onChange:this.handleChange,onBlur:this.handleBlur,placeholder:this.props.placeholder,spellCheck:"false"}),this.props.label&&!this.props.hideLabel?b.a.createElement("label",{htmlFor:this.inputId,style:I.label,onMouseDown:this.handleMouseDown},this.props.label):null)}}]),g}(F.PureComponent||F.Component),Ge=Vt,Me=function(g,z,T,I){var re=I.clientWidth,ae=I.clientHeight,fe=typeof g.pageX=="number"?g.pageX:g.touches[0].pageX,be=typeof g.pageY=="number"?g.pageY:g.touches[0].pageY,xe=fe-(I.getBoundingClientRect().left+window.pageXOffset),De=be-(I.getBoundingClientRect().top+window.pageYOffset);if(z==="vertical"){var vt=void 0;if(De<0)vt=359;else if(De>ae)vt=0;else{var tt=-(De*100/ae)+100;vt=360*tt/100}if(T.h!==vt)return{h:vt,s:T.s,l:T.l,a:T.a,source:"hsl"}}else{var ft=void 0;if(xe<0)ft=0;else if(xe>re)ft=359;else{var Qt=xe*100/re;ft=360*Qt/100}if(T.h!==ft)return{h:ft,s:T.s,l:T.l,a:T.a,source:"hsl"}}return null},Qe=function(){function M(g,z){for(var T=0;T<z.length;T++){var I=z[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}return function(g,z,T){return z&&M(g.prototype,z),T&&M(g,T),g}}();function Ie(M,g){if(!(M instanceof g))throw new TypeError("Cannot call a class as a function")}function Ot(M,g){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:M}function ot(M,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);M.prototype=Object.create(g&&g.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(M,g):M.__proto__=g)}var ht=function(M){ot(g,M);function g(){var z,T,I,re;Ie(this,g);for(var ae=arguments.length,fe=Array(ae),be=0;be<ae;be++)fe[be]=arguments[be];return re=(T=(I=Ot(this,(z=g.__proto__||Object.getPrototypeOf(g)).call.apply(z,[this].concat(fe))),I),I.handleChange=function(xe){var De=Me(xe,I.props.direction,I.props.hsl,I.container);De&&typeof I.props.onChange=="function"&&I.props.onChange(De,xe)},I.handleMouseDown=function(xe){I.handleChange(xe),window.addEventListener("mousemove",I.handleChange),window.addEventListener("mouseup",I.handleMouseUp)},I.handleMouseUp=function(){I.unbindEventListeners()},T),Ot(I,re)}return Qe(g,[{key:"componentWillUnmount",value:function(){this.unbindEventListeners()}},{key:"unbindEventListeners",value:function(){window.removeEventListener("mousemove",this.handleChange),window.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var T=this,I=this.props.direction,re=I===void 0?"horizontal":I,ae=j()({default:{hue:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius,boxShadow:this.props.shadow},container:{padding:"0 2px",position:"relative",height:"100%",borderRadius:this.props.radius},pointer:{position:"absolute",left:this.props.hsl.h*100/360+"%"},slider:{marginTop:"1px",width:"4px",borderRadius:"1px",height:"8px",boxShadow:"0 0 2px rgba(0, 0, 0, .6)",background:"#fff",transform:"translateX(-2px)"}},vertical:{pointer:{left:"0px",top:-(this.props.hsl.h*100/360)+100+"%"}}},{vertical:re==="vertical"});return b.a.createElement("div",{style:ae.hue},b.a.createElement("div",{className:"hue-"+re,style:ae.container,ref:function(be){return T.container=be},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},b.a.createElement("style",null,`
            .hue-horizontal {
              background: linear-gradient(to right, #f00 0%, #ff0 17%, #0f0
                33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to right, #f00 0%, #ff0
                17%, #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }

            .hue-vertical {
              background: linear-gradient(to top, #f00 0%, #ff0 17%, #0f0 33%,
                #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
              background: -webkit-linear-gradient(to top, #f00 0%, #ff0 17%,
                #0f0 33%, #0ff 50%, #00f 67%, #f0f 83%, #f00 100%);
            }
          `),b.a.createElement("div",{style:ae.pointer},this.props.pointer?b.a.createElement(this.props.pointer,this.props):b.a.createElement("div",{style:ae.slider}))))}}]),g}(F.PureComponent||F.Component),Pt=ht,it=f("17x9"),ge=f.n(it),yt=f("oaNE"),It=function(g){var z=g.zDepth,T=g.radius,I=g.background,re=g.children,ae=g.styles,fe=ae===void 0?{}:ae,be=j()(Object(yt.a)({default:{wrap:{position:"relative",display:"inline-block"},content:{position:"relative"},bg:{absolute:"0px 0px 0px 0px",boxShadow:"0 "+z+"px "+z*4+"px rgba(0,0,0,.24)",borderRadius:T,background:I}},"zDepth-0":{bg:{boxShadow:"none"}},"zDepth-1":{bg:{boxShadow:"0 2px 10px rgba(0,0,0,.12), 0 2px 5px rgba(0,0,0,.16)"}},"zDepth-2":{bg:{boxShadow:"0 6px 20px rgba(0,0,0,.19), 0 8px 17px rgba(0,0,0,.2)"}},"zDepth-3":{bg:{boxShadow:"0 17px 50px rgba(0,0,0,.19), 0 12px 15px rgba(0,0,0,.24)"}},"zDepth-4":{bg:{boxShadow:"0 25px 55px rgba(0,0,0,.21), 0 16px 28px rgba(0,0,0,.22)"}},"zDepth-5":{bg:{boxShadow:"0 40px 77px rgba(0,0,0,.22), 0 27px 24px rgba(0,0,0,.2)"}},square:{bg:{borderRadius:"0"}},circle:{bg:{borderRadius:"50%"}}},fe),{"zDepth-1":z===1});return b.a.createElement("div",{style:be.wrap},b.a.createElement("div",{style:be.bg}),b.a.createElement("div",{style:be.content},re))};It.propTypes={background:ge.a.string,zDepth:ge.a.oneOf([0,1,2,3,4,5]),radius:ge.a.number,styles:ge.a.object},It.defaultProps={background:"#fff",zDepth:1,radius:2,styles:{}};var dn=It,wn=f("hbEN"),Kt=f("IzLi"),qe="Expected a function";function Et(M,g,z){var T=!0,I=!0;if(typeof M!="function")throw new TypeError(qe);return Object(Kt.a)(z)&&(T="leading"in z?!!z.leading:T,I="trailing"in z?!!z.trailing:I),Object(wn.a)(M,g,{leading:T,maxWait:g,trailing:I})}var $t=Et,J=function(g,z,T){var I=T.getBoundingClientRect(),re=I.width,ae=I.height,fe=typeof g.pageX=="number"?g.pageX:g.touches[0].pageX,be=typeof g.pageY=="number"?g.pageY:g.touches[0].pageY,xe=fe-(T.getBoundingClientRect().left+window.pageXOffset),De=be-(T.getBoundingClientRect().top+window.pageYOffset);xe<0?xe=0:xe>re&&(xe=re),De<0?De=0:De>ae&&(De=ae);var vt=xe/re,tt=1-De/ae;return{h:z.h,s:vt,v:tt,a:z.a,source:"hsv"}},te=function(){function M(g,z){for(var T=0;T<z.length;T++){var I=z[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}return function(g,z,T){return z&&M(g.prototype,z),T&&M(g,T),g}}();function Q(M,g){if(!(M instanceof g))throw new TypeError("Cannot call a class as a function")}function Oe(M,g){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:M}function we(M,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);M.prototype=Object.create(g&&g.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(M,g):M.__proto__=g)}var Fe=function(M){we(g,M);function g(z){Q(this,g);var T=Oe(this,(g.__proto__||Object.getPrototypeOf(g)).call(this,z));return T.handleChange=function(I){typeof T.props.onChange=="function"&&T.throttle(T.props.onChange,J(I,T.props.hsl,T.container),I)},T.handleMouseDown=function(I){T.handleChange(I);var re=T.getContainerRenderWindow();re.addEventListener("mousemove",T.handleChange),re.addEventListener("mouseup",T.handleMouseUp)},T.handleMouseUp=function(){T.unbindEventListeners()},T.throttle=$t(function(I,re,ae){I(re,ae)},50),T}return te(g,[{key:"componentWillUnmount",value:function(){this.throttle.cancel(),this.unbindEventListeners()}},{key:"getContainerRenderWindow",value:function(){for(var T=this.container,I=window;!I.document.contains(T)&&I.parent!==I;)I=I.parent;return I}},{key:"unbindEventListeners",value:function(){var T=this.getContainerRenderWindow();T.removeEventListener("mousemove",this.handleChange),T.removeEventListener("mouseup",this.handleMouseUp)}},{key:"render",value:function(){var T=this,I=this.props.style||{},re=I.color,ae=I.white,fe=I.black,be=I.pointer,xe=I.circle,De=j()({default:{color:{absolute:"0px 0px 0px 0px",background:"hsl("+this.props.hsl.h+",100%, 50%)",borderRadius:this.props.radius},white:{absolute:"0px 0px 0px 0px",borderRadius:this.props.radius},black:{absolute:"0px 0px 0px 0px",boxShadow:this.props.shadow,borderRadius:this.props.radius},pointer:{position:"absolute",top:-(this.props.hsv.v*100)+100+"%",left:this.props.hsv.s*100+"%",cursor:"default"},circle:{width:"4px",height:"4px",boxShadow:`0 0 0 1.5px #fff, inset 0 0 1px 1px rgba(0,0,0,.3),
            0 0 1px 2px rgba(0,0,0,.4)`,borderRadius:"50%",cursor:"hand",transform:"translate(-2px, -2px)"}},custom:{color:re,white:ae,black:fe,pointer:be,circle:xe}},{custom:!!this.props.style});return b.a.createElement("div",{style:De.color,ref:function(tt){return T.container=tt},onMouseDown:this.handleMouseDown,onTouchMove:this.handleChange,onTouchStart:this.handleChange},b.a.createElement("style",null,`
          .saturation-white {
            background: -webkit-linear-gradient(to right, #fff, rgba(255,255,255,0));
            background: linear-gradient(to right, #fff, rgba(255,255,255,0));
          }
          .saturation-black {
            background: -webkit-linear-gradient(to top, #000, rgba(0,0,0,0));
            background: linear-gradient(to top, #000, rgba(0,0,0,0));
          }
        `),b.a.createElement("div",{style:De.white,className:"saturation-white"},b.a.createElement("div",{style:De.black,className:"saturation-black"}),b.a.createElement("div",{style:De.pointer},this.props.pointer?b.a.createElement(this.props.pointer,this.props):b.a.createElement("div",{style:De.circle}))))}}]),g}(F.PureComponent||F.Component),ve=Fe;function oe(M,g){for(var z=-1,T=M==null?0:M.length;++z<T&&g(M[z],z,M)!==!1;);return M}var Pe=oe,Le=f("aZkK"),Ve=f("7gMY"),We=f("pyRK"),st=f("U6JX"),St=Object(st.a)(Object.keys,Object),dt=St,kt=Object.prototype,ct=kt.hasOwnProperty;function Dt(M){if(!Object(We.a)(M))return dt(M);var g=[];for(var z in Object(M))ct.call(M,z)&&z!="constructor"&&g.push(z);return g}var Gt=Dt,Ct=f("5WsY");function zt(M){return Object(Ct.a)(M)?Object(Ve.a)(M):Gt(M)}var Xt=zt;function Jt(M,g){return M&&Object(Le.a)(M,g,Xt)}var Pn=Jt;function fn(M,g){return function(z,T){if(z==null)return z;if(!Object(Ct.a)(z))return M(z,T);for(var I=z.length,re=g?I:-1,ae=Object(z);(g?re--:++re<I)&&T(ae[re],re,ae)!==!1;);return z}}var yn=fn,gn=yn(Pn),zn=gn,Ln=f("+Xah");function Mn(M){return typeof M=="function"?M:Ln.a}var Hn=Mn,Bn=f("/1FC");function Yn(M,g){var z=Object(Bn.a)(M)?Pe:zn;return z(M,Hn(g))}var nr=Yn,An=f("Zss7"),pn=f.n(An),Ce=function(g){var z=["r","g","b","a","h","s","l","v"],T=0,I=0;return nr(z,function(re){if(g[re]&&(T+=1,isNaN(g[re])||(I+=1),re==="s"||re==="l")){var ae=/^\d+%$/;ae.test(g[re])&&(I+=1)}}),T===I?g:!1},_e=function(g,z){var T=g.hex?pn()(g.hex):pn()(g),I=T.toHsl(),re=T.toHsv(),ae=T.toRgb(),fe=T.toHex();I.s===0&&(I.h=z||0,re.h=z||0);var be=fe==="000000"&&ae.a===0;return{hsl:I,hex:be?"transparent":"#"+fe,rgb:ae,hsv:re,oldHue:g.h||z||I.h,source:g.source}},ze=function(g){if(g==="transparent")return!0;var z=String(g).charAt(0)==="#"?1:0;return g.length!==4+z&&g.length<7+z&&pn()(g).isValid()},At=function(g){if(!g)return"#fff";var z=_e(g);if(z.hex==="transparent")return"rgba(0,0,0,0.4)";var T=(z.rgb.r*299+z.rgb.g*587+z.rgb.b*114)/1e3;return T>=128?"#000":"#fff"},Lt={hsl:{a:1,h:0,l:.5,s:1},hex:"#ff0000",rgb:{r:255,g:0,b:0,a:1},hsv:{h:0,s:1,v:1,a:1}},qt=function(g,z){var T=g.replace("\xB0","");return pn()(z+" ("+T+")")._ok},_t=Object.assign||function(M){for(var g=1;g<arguments.length;g++){var z=arguments[g];for(var T in z)Object.prototype.hasOwnProperty.call(z,T)&&(M[T]=z[T])}return M},sn=function(){function M(g,z){for(var T=0;T<z.length;T++){var I=z[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}return function(g,z,T){return z&&M(g.prototype,z),T&&M(g,T),g}}();function Nt(M,g){if(!(M instanceof g))throw new TypeError("Cannot call a class as a function")}function kn(M,g){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:M}function Yt(M,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);M.prototype=Object.create(g&&g.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(M,g):M.__proto__=g)}var _n=function(g){var z=function(T){Yt(I,T);function I(re){Nt(this,I);var ae=kn(this,(I.__proto__||Object.getPrototypeOf(I)).call(this));return ae.handleChange=function(fe,be){var xe=Ce(fe);if(xe){var De=_e(fe,fe.h||ae.state.oldHue);ae.setState(De),ae.props.onChangeComplete&&ae.debounce(ae.props.onChangeComplete,De,be),ae.props.onChange&&ae.props.onChange(De,be)}},ae.handleSwatchHover=function(fe,be){var xe=Ce(fe);if(xe){var De=_e(fe,fe.h||ae.state.oldHue);ae.props.onSwatchHover&&ae.props.onSwatchHover(De,be)}},ae.state=_t({},_e(re.color,0)),ae.debounce=Object(wn.a)(function(fe,be,xe){fe(be,xe)},100),ae}return sn(I,[{key:"render",value:function(){var ae={};return this.props.onSwatchHover&&(ae.onSwatchHover=this.handleSwatchHover),b.a.createElement(g,_t({},this.props,this.state,{onChange:this.handleChange},ae))}}],[{key:"getDerivedStateFromProps",value:function(ae,fe){return _t({},_e(ae.color,fe.oldHue))}}]),I}(F.PureComponent||F.Component);return z.propTypes=_t({},g.propTypes),z.defaultProps=_t({},g.defaultProps,{color:{h:250,s:.5,l:.2,a:1}}),z},ln=_n,Zn=Object.assign||function(M){for(var g=1;g<arguments.length;g++){var z=arguments[g];for(var T in z)Object.prototype.hasOwnProperty.call(z,T)&&(M[T]=z[T])}return M},lr=function(){function M(g,z){for(var T=0;T<z.length;T++){var I=z[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}return function(g,z,T){return z&&M(g.prototype,z),T&&M(g,T),g}}();function pr(M,g){if(!(M instanceof g))throw new TypeError("Cannot call a class as a function")}function Ur(M,g){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:M}function Xr(M,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);M.prototype=Object.create(g&&g.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(M,g):M.__proto__=g)}var xn=function(g){var z=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(T){Xr(I,T);function I(){var re,ae,fe,be;pr(this,I);for(var xe=arguments.length,De=Array(xe),vt=0;vt<xe;vt++)De[vt]=arguments[vt];return be=(ae=(fe=Ur(this,(re=I.__proto__||Object.getPrototypeOf(I)).call.apply(re,[this].concat(De))),fe),fe.state={focus:!1},fe.handleFocus=function(){return fe.setState({focus:!0})},fe.handleBlur=function(){return fe.setState({focus:!1})},ae),Ur(fe,be)}return lr(I,[{key:"render",value:function(){return b.a.createElement(z,{onFocus:this.handleFocus,onBlur:this.handleBlur},b.a.createElement(g,Zn({},this.props,this.state)))}}]),I}(b.a.Component)},ri=Object.assign||function(M){for(var g=1;g<arguments.length;g++){var z=arguments[g];for(var T in z)Object.prototype.hasOwnProperty.call(z,T)&&(M[T]=z[T])}return M},qr=13,rn=function(g){var z=g.color,T=g.style,I=g.onClick,re=I===void 0?function(){}:I,ae=g.onHover,fe=g.title,be=fe===void 0?z:fe,xe=g.children,De=g.focus,vt=g.focusStyle,tt=vt===void 0?{}:vt,ft=z==="transparent",Qt=j()({default:{swatch:ri({background:z,height:"100%",width:"100%",cursor:"pointer",position:"relative",outline:"none"},T,De?tt:{})}}),Zt=function(si){return re(z,si)},on=function(si){return si.keyCode===qr&&re(z,si)},ur=function(si){return ae(z,si)},pi={};return ae&&(pi.onMouseOver=ur),b.a.createElement("div",ri({style:Qt.swatch,onClick:Zt,title:be,tabIndex:0,onKeyDown:on},pi),xe,ft&&b.a.createElement(w,{borderRadius:Qt.swatch.borderRadius,boxShadow:"inset 0 0 0 1px rgba(0,0,0,0.1)"}))},Mt=xn(rn),cn=function(g){var z=g.direction,T=j()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:z==="vertical"});return b.a.createElement("div",{style:T.picker})},er=cn,$n=Object.assign||function(M){for(var g=1;g<arguments.length;g++){var z=arguments[g];for(var T in z)Object.prototype.hasOwnProperty.call(z,T)&&(M[T]=z[T])}return M},wr=function(g){var z=g.rgb,T=g.hsl,I=g.width,re=g.height,ae=g.onChange,fe=g.direction,be=g.style,xe=g.renderers,De=g.pointer,vt=g.className,tt=vt===void 0?"":vt,ft=j()({default:{picker:{position:"relative",width:I,height:re},alpha:{radius:"2px",style:be}}});return b.a.createElement("div",{style:ft.picker,className:"alpha-picker "+tt},b.a.createElement(L,$n({},ft.alpha,{rgb:z,hsl:T,pointer:De,renderers:xe,onChange:ae,direction:fe})))};wr.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:er};var nn=ln(wr),ar=f("twO/"),Pr=f("oSzE"),hn=f("DlmY"),_r="__lodash_hash_undefined__";function tr(M){return this.__data__.set(M,_r),this}var Vn=tr;function xr(M){return this.__data__.has(M)}var jr=xr;function Er(M){var g=-1,z=M==null?0:M.length;for(this.__data__=new hn.a;++g<z;)this.add(M[g])}Er.prototype.add=Er.prototype.push=Vn,Er.prototype.has=jr;var Rr=Er;function ci(M,g){for(var z=-1,T=M==null?0:M.length;++z<T;)if(g(M[z],z,M))return!0;return!1}var wi=ci;function _i(M,g){return M.has(g)}var Ii=_i,za=1,Ua=2;function ya(M,g,z,T,I,re){var ae=z&za,fe=M.length,be=g.length;if(fe!=be&&!(ae&&be>fe))return!1;var xe=re.get(M),De=re.get(g);if(xe&&De)return xe==g&&De==M;var vt=-1,tt=!0,ft=z&Ua?new Rr:void 0;for(re.set(M,g),re.set(g,M);++vt<fe;){var Qt=M[vt],Zt=g[vt];if(T)var on=ae?T(Zt,Qt,vt,g,M,re):T(Qt,Zt,vt,M,g,re);if(on!==void 0){if(on)continue;tt=!1;break}if(ft){if(!wi(g,function(ur,pi){if(!Ii(ft,pi)&&(Qt===ur||I(Qt,ur,z,T,re)))return ft.push(pi)})){tt=!1;break}}else if(!(Qt===Zt||I(Qt,Zt,z,T,re))){tt=!1;break}}return re.delete(M),re.delete(g),tt}var ji=ya,xi=f("ylTp"),na=f("Ce4a"),ra=f("YHEm");function ia(M){var g=-1,z=Array(M.size);return M.forEach(function(T,I){z[++g]=[I,T]}),z}var Ui=ia;function aa(M){var g=-1,z=Array(M.size);return M.forEach(function(T){z[++g]=T}),z}var ka=aa,Wi=1,Hi=2,oa="[object Boolean]",Ki="[object Date]",Gi="[object Error]",Ei="[object Map]",sa="[object Number]",Ri="[object RegExp]",Yi="[object Set]",$i="[object String]",jt="[object Symbol]",X="[object ArrayBuffer]",pe="[object DataView]",ue=xi.a?xi.a.prototype:void 0,Te=ue?ue.valueOf:void 0;function Ke(M,g,z,T,I,re,ae){switch(z){case pe:if(M.byteLength!=g.byteLength||M.byteOffset!=g.byteOffset)return!1;M=M.buffer,g=g.buffer;case X:return!(M.byteLength!=g.byteLength||!re(new na.a(M),new na.a(g)));case oa:case Ki:case sa:return Object(ra.a)(+M,+g);case Gi:return M.name==g.name&&M.message==g.message;case Ri:case $i:return M==g+"";case Ei:var fe=Ui;case Yi:var be=T&Wi;if(fe||(fe=ka),M.size!=g.size&&!be)return!1;var xe=ae.get(M);if(xe)return xe==g;T|=Hi,ae.set(M,g);var De=ji(fe(M),fe(g),T,I,re,ae);return ae.delete(M),De;case jt:if(Te)return Te.call(M)==Te.call(g)}return!1}var lt=Ke;function Ee(M,g){for(var z=-1,T=g.length,I=M.length;++z<T;)M[I+z]=g[z];return M}var je=Ee;function at(M,g,z){var T=g(M);return Object(Bn.a)(M)?T:je(T,z(M))}var Be=at;function wt(M,g){for(var z=-1,T=M==null?0:M.length,I=0,re=[];++z<T;){var ae=M[z];g(ae,z,M)&&(re[I++]=ae)}return re}var mt=wt;function Ft(){return[]}var en=Ft,Ut=Object.prototype,un=Ut.propertyIsEnumerable,Rn=Object.getOwnPropertySymbols,Dn=Rn?function(M){return M==null?[]:(M=Object(M),mt(Rn(M),function(g){return un.call(M,g)}))}:en,Sn=Dn;function Nn(M){return Be(M,Xt,Sn)}var Kn=Nn,En=1,In=Object.prototype,Fr=In.hasOwnProperty;function gr(M,g,z,T,I,re){var ae=z&En,fe=Kn(M),be=fe.length,xe=Kn(g),De=xe.length;if(be!=De&&!ae)return!1;for(var vt=be;vt--;){var tt=fe[vt];if(!(ae?tt in g:Fr.call(g,tt)))return!1}var ft=re.get(M),Qt=re.get(g);if(ft&&Qt)return ft==g&&Qt==M;var Zt=!0;re.set(M,g),re.set(g,M);for(var on=ae;++vt<be;){tt=fe[vt];var ur=M[tt],pi=g[tt];if(T)var Sa=ae?T(pi,ur,tt,g,M,re):T(ur,pi,tt,M,g,re);if(!(Sa===void 0?ur===pi||I(ur,pi,z,T,re):Sa)){Zt=!1;break}on||(on=tt=="constructor")}if(Zt&&!on){var si=M.constructor,co=g.constructor;si!=co&&"constructor"in M&&"constructor"in g&&!(typeof si=="function"&&si instanceof si&&typeof co=="function"&&co instanceof co)&&(Zt=!1)}return re.delete(M),re.delete(g),Zt}var Dr=gr,Xn=f("Y7yP"),or=f("Ju5/"),Ar=Object(Xn.a)(or.a,"DataView"),Wr=Ar,mn=f("3cmB"),mr=Object(Xn.a)(or.a,"Promise"),ui=mr,br=Object(Xn.a)(or.a,"Set"),di=br,Un=Object(Xn.a)(or.a,"WeakMap"),Ji=Un,wa=f("8M4i"),ei=f("dLWn"),yr="[object Map]",Yr="[object Object]",Qi="[object Promise]",le="[object Set]",ii="[object WeakMap]",la="[object DataView]",Gn=Object(ei.a)(Wr),Wa=Object(ei.a)(mn.a),ca=Object(ei.a)(ui),_a=Object(ei.a)(di),ua=Object(ei.a)(Ji),rr=wa.a;(Wr&&rr(new Wr(new ArrayBuffer(1)))!=la||mn.a&&rr(new mn.a)!=yr||ui&&rr(ui.resolve())!=Qi||di&&rr(new di)!=le||Ji&&rr(new Ji)!=ii)&&(rr=function(g){var z=Object(wa.a)(g),T=z==Yr?g.constructor:void 0,I=T?Object(ei.a)(T):"";if(I)switch(I){case Gn:return la;case Wa:return yr;case ca:return Qi;case _a:return le;case ua:return ii}return z});var Zi=rr,Lr=f("WOAq"),tn=f("oYcn"),Tr=1,fi="[object Arguments]",Ha="[object Array]",he="[object Object]",N=Object.prototype,q=N.hasOwnProperty;function ie(M,g,z,T,I,re){var ae=Object(Bn.a)(M),fe=Object(Bn.a)(g),be=ae?Ha:Zi(M),xe=fe?Ha:Zi(g);be=be==fi?he:be,xe=xe==fi?he:xe;var De=be==he,vt=xe==he,tt=be==xe;if(tt&&Object(Lr.a)(M)){if(!Object(Lr.a)(g))return!1;ae=!0,De=!1}if(tt&&!De)return re||(re=new Pr.a),ae||Object(tn.a)(M)?ji(M,g,z,T,I,re):lt(M,g,be,z,T,I,re);if(!(z&Tr)){var ft=De&&q.call(M,"__wrapped__"),Qt=vt&&q.call(g,"__wrapped__");if(ft||Qt){var Zt=ft?M.value():M,on=Qt?g.value():g;return re||(re=new Pr.a),I(Zt,on,z,T,re)}}return tt?(re||(re=new Pr.a),Dr(M,g,z,T,I,re)):!1}var ee=ie,Se=f("EUcb");function Je(M,g,z,T,I){return M===g?!0:M==null||g==null||!Object(Se.a)(M)&&!Object(Se.a)(g)?M!==M&&g!==g:ee(M,g,z,T,Je,I)}var Ue=Je,xt=1,bn=2;function On(M,g,z,T){var I=z.length,re=I,ae=!T;if(M==null)return!re;for(M=Object(M);I--;){var fe=z[I];if(ae&&fe[2]?fe[1]!==M[fe[0]]:!(fe[0]in M))return!1}for(;++I<re;){fe=z[I];var be=fe[0],xe=M[be],De=fe[1];if(ae&&fe[2]){if(xe===void 0&&!(be in M))return!1}else{var vt=new Pr.a;if(T)var tt=T(xe,De,be,M,g,vt);if(!(tt===void 0?Ue(De,xe,xt|bn,T,vt):tt))return!1}}return!0}var hi=On;function Cr(M){return M===M&&!Object(Kt.a)(M)}var ai=Cr;function vi(M){for(var g=Xt(M),z=g.length;z--;){var T=g[z],I=M[T];g[z]=[T,I,ai(I)]}return g}var da=vi;function Br(M,g){return function(z){return z==null?!1:z[M]===g&&(g!==void 0||M in Object(z))}}var Hr=Br;function Ka(M){var g=da(M);return g.length==1&&g[0][2]?Hr(g[0][0],g[0][1]):function(z){return z===M||hi(z,M,g)}}var xa=Ka,kr=f("G8aS"),oi=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,Xi=/^\w*$/;function vs(M,g){if(Object(Bn.a)(M))return!1;var z=typeof M;return z=="number"||z=="symbol"||z=="boolean"||M==null||Object(kr.a)(M)?!0:Xi.test(M)||!oi.test(M)||g!=null&&M in Object(g)}var Oo=vs,Po="Expected a function";function Ea(M,g){if(typeof M!="function"||g!=null&&typeof g!="function")throw new TypeError(Po);var z=function T(){var I=arguments,re=g?g.apply(this,I):I[0],ae=T.cache;if(ae.has(re))return ae.get(re);var fe=M.apply(this,I);return T.cache=ae.set(re,fe)||ae,fe};return z.cache=new(Ea.Cache||hn.a),z}Ea.Cache=hn.a;var ml=Ea,Ao=500;function gs(M){var g=ml(M,function(T){return z.size===Ao&&z.clear(),T}),z=g.cache;return g}var ps=gs,bl=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,yl=/\\(\\)?/g,kl=ps(function(M){var g=[];return M.charCodeAt(0)===46&&g.push(""),M.replace(bl,function(z,T,I,re){g.push(I?re.replace(yl,"$1"):T||z)}),g}),Ga=kl,To=f("efZk");function wl(M,g){return Object(Bn.a)(M)?M:Oo(M,g)?[M]:Ga(Object(To.a)(M))}var ms=wl,So=1/0;function _l(M){if(typeof M=="string"||Object(kr.a)(M))return M;var g=M+"";return g=="0"&&1/M==-So?"-0":g}var Ya=_l;function xl(M,g){g=ms(g,M);for(var z=0,T=g.length;M!=null&&z<T;)M=M[Ya(g[z++])];return z&&z==T?M:void 0}var Mo=xl;function El(M,g,z){var T=M==null?void 0:Mo(M,g);return T===void 0?z:T}var bs=El;function Cl(M,g){return M!=null&&g in Object(M)}var Ol=Cl,Pl=f("9f76"),Al=f("cSlR"),Tl=f("Js68");function Sl(M,g,z){g=ms(g,M);for(var T=-1,I=g.length,re=!1;++T<I;){var ae=Ya(g[T]);if(!(re=M!=null&&z(M,ae)))break;M=M[ae]}return re||++T!=I?re:(I=M==null?0:M.length,!!I&&Object(Tl.a)(I)&&Object(Al.a)(ae,I)&&(Object(Bn.a)(M)||Object(Pl.a)(M)))}var Ml=Sl;function ys(M,g){return M!=null&&Ml(M,g,Ol)}var ks=ys,Il=1,jl=2;function Rl(M,g){return Oo(M)&&ai(g)?Hr(Ya(M),g):function(z){var T=bs(z,M);return T===void 0&&T===g?ks(z,M):Ue(g,T,Il|jl)}}var Dl=Rl;function Io(M){return function(g){return g==null?void 0:g[M]}}var jo=Io;function Ci(M){return function(g){return Mo(g,M)}}var ws=Ci;function $a(M){return Oo(M)?jo(Ya(M)):ws(M)}var _s=$a;function fa(M){return typeof M=="function"?M:M==null?Ln.a:typeof M=="object"?Object(Bn.a)(M)?Dl(M[0],M[1]):xa(M):_s(M)}var Ja=fa;function Qa(M,g){var z=-1,T=Object(Ct.a)(M)?Array(M.length):[];return zn(M,function(I,re,ae){T[++z]=g(I,re,ae)}),T}var Za=Qa;function xs(M,g){var z=Object(Bn.a)(M)?ar.a:Za;return z(M,Ja(g,3))}var Jn=xs,Es=function(g){var z=g.colors,T=g.onClick,I=g.onSwatchHover,re=j()({default:{swatches:{marginRight:"-10px"},swatch:{width:"22px",height:"22px",float:"left",marginRight:"10px",marginBottom:"10px",borderRadius:"4px"},clear:{clear:"both"}}});return b.a.createElement("div",{style:re.swatches},Jn(z,function(ae){return b.a.createElement(Mt,{key:ae,color:ae,style:re.swatch,onClick:T,onHover:I,focusStyle:{boxShadow:"0 0 4px "+ae}})}),b.a.createElement("div",{style:re.clear}))},Nl=Es,Ro=function(g){var z=g.onChange,T=g.onSwatchHover,I=g.hex,re=g.colors,ae=g.width,fe=g.triangle,be=g.styles,xe=be===void 0?{}:be,De=g.className,vt=De===void 0?"":De,tt=I==="transparent",ft=function(on,ur){ze(on)&&z({hex:on,source:"hex"},ur)},Qt=j()(Object(yt.a)({default:{card:{width:ae,background:"#fff",boxShadow:"0 1px rgba(0,0,0,.1)",borderRadius:"6px",position:"relative"},head:{height:"110px",background:I,borderRadius:"6px 6px 0 0",display:"flex",alignItems:"center",justifyContent:"center",position:"relative"},body:{padding:"10px"},label:{fontSize:"18px",color:At(I),position:"relative"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 10px 10px 10px",borderColor:"transparent transparent "+I+" transparent",position:"absolute",top:"-10px",left:"50%",marginLeft:"-10px"},input:{width:"100%",fontSize:"12px",color:"#666",border:"0px",outline:"none",height:"22px",boxShadow:"inset 0 0 0 1px #ddd",borderRadius:"4px",padding:"0 7px",boxSizing:"border-box"}},"hide-triangle":{triangle:{display:"none"}}},xe),{"hide-triangle":fe==="hide"});return b.a.createElement("div",{style:Qt.card,className:"block-picker "+vt},b.a.createElement("div",{style:Qt.triangle}),b.a.createElement("div",{style:Qt.head},tt&&b.a.createElement(w,{borderRadius:"6px 6px 0 0"}),b.a.createElement("div",{style:Qt.label},I)),b.a.createElement("div",{style:Qt.body},b.a.createElement(Nl,{colors:re,onClick:ft,onSwatchHover:T}),b.a.createElement(Ge,{style:{input:Qt.input},value:I,onChange:ft})))};Ro.propTypes={width:ge.a.oneOfType([ge.a.string,ge.a.number]),colors:ge.a.arrayOf(ge.a.string),triangle:ge.a.oneOf(["top","hide"]),styles:ge.a.object},Ro.defaultProps={width:170,colors:["#D9E3F0","#F47373","#697689","#37D67A","#2CCCE4","#555555","#dce775","#ff8a65","#ba68c8"],triangle:"top",styles:{}};var Fl=ln(Ro),Ne=f("wME1"),Ca=function(g){var z=g.color,T=g.onClick,I=g.onSwatchHover,re=g.hover,ae=g.active,fe=g.circleSize,be=g.circleSpacing,xe=j()({default:{swatch:{width:fe,height:fe,marginRight:be,marginBottom:be,transform:"scale(1)",transition:"100ms transform ease"},Swatch:{borderRadius:"50%",background:"transparent",boxShadow:"inset 0 0 0 "+(fe/2+1)+"px "+z,transition:"100ms box-shadow ease"}},hover:{swatch:{transform:"scale(1.2)"}},active:{Swatch:{boxShadow:"inset 0 0 0 3px "+z}}},{hover:re,active:ae});return b.a.createElement("div",{style:xe.swatch},b.a.createElement(Mt,{style:xe.Swatch,color:z,onClick:T,onHover:I,focusStyle:{boxShadow:xe.Swatch.boxShadow+", 0 0 5px "+z}}))};Ca.defaultProps={circleSize:28,circleSpacing:14};var Cs=Object(x.handleHover)(Ca),Do=function(g){var z=g.width,T=g.onChange,I=g.onSwatchHover,re=g.colors,ae=g.hex,fe=g.circleSize,be=g.styles,xe=be===void 0?{}:be,De=g.circleSpacing,vt=g.className,tt=vt===void 0?"":vt,ft=j()(Object(yt.a)({default:{card:{width:z,display:"flex",flexWrap:"wrap",marginRight:-De,marginBottom:-De}}},xe)),Qt=function(on,ur){return T({hex:on,source:"hex"},ur)};return b.a.createElement("div",{style:ft.card,className:"circle-picker "+tt},Jn(re,function(Zt){return b.a.createElement(Cs,{key:Zt,color:Zt,onClick:Qt,onSwatchHover:I,active:ae===Zt.toLowerCase(),circleSize:fe,circleSpacing:De})}))};Do.propTypes={width:ge.a.oneOfType([ge.a.string,ge.a.number]),circleSize:ge.a.number,circleSpacing:ge.a.number,styles:ge.a.object},Do.defaultProps={width:252,circleSize:28,circleSpacing:14,colors:[Ne.p["500"],Ne.n["500"],Ne.o["500"],Ne.g["500"],Ne.i["500"],Ne.b["500"],Ne.j["500"],Ne.e["500"],Ne.q["500"],Ne.h["500"],Ne.k["500"],Ne.l["500"],Ne.r["500"],Ne.a["500"],Ne.m["500"],Ne.f["500"],Ne.d["500"],Ne.c["500"]],styles:{}};var ha=ln(Do),bt=f("3Hq1"),Cn=f("9F0J"),Xa=f.n(Cn),No=function(){function M(g,z){for(var T=0;T<z.length;T++){var I=z[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}return function(g,z,T){return z&&M(g.prototype,z),T&&M(g,T),g}}();function Oi(M,g){if(!(M instanceof g))throw new TypeError("Cannot call a class as a function")}function Fo(M,g){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:M}function qa(M,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);M.prototype=Object.create(g&&g.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(M,g):M.__proto__=g)}var qi=function(M){qa(g,M);function g(z){Oi(this,g);var T=Fo(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));return T.toggleViews=function(){T.state.view==="hex"?T.setState({view:"rgb"}):T.state.view==="rgb"?T.setState({view:"hsl"}):T.state.view==="hsl"&&(T.props.hsl.a===1?T.setState({view:"hex"}):T.setState({view:"rgb"}))},T.handleChange=function(I,re){I.hex?ze(I.hex)&&T.props.onChange({hex:I.hex,source:"hex"},re):I.r||I.g||I.b?T.props.onChange({r:I.r||T.props.rgb.r,g:I.g||T.props.rgb.g,b:I.b||T.props.rgb.b,source:"rgb"},re):I.a?(I.a<0?I.a=0:I.a>1&&(I.a=1),T.props.onChange({h:T.props.hsl.h,s:T.props.hsl.s,l:T.props.hsl.l,a:Math.round(I.a*100)/100,source:"rgb"},re)):(I.h||I.s||I.l)&&(typeof I.s=="string"&&I.s.includes("%")&&(I.s=I.s.replace("%","")),typeof I.l=="string"&&I.l.includes("%")&&(I.l=I.l.replace("%","")),I.s==1?I.s=.01:I.l==1&&(I.l=.01),T.props.onChange({h:I.h||T.props.hsl.h,s:Number(Object(bt.a)(I.s)?T.props.hsl.s:I.s),l:Number(Object(bt.a)(I.l)?T.props.hsl.l:I.l),source:"hsl"},re))},T.showHighlight=function(I){I.currentTarget.style.background="#eee"},T.hideHighlight=function(I){I.currentTarget.style.background="transparent"},z.hsl.a!==1&&z.view==="hex"?T.state={view:"rgb"}:T.state={view:z.view},T}return No(g,[{key:"render",value:function(){var T=this,I=j()({default:{wrap:{paddingTop:"16px",display:"flex"},fields:{flex:"1",display:"flex",marginLeft:"-6px"},field:{paddingLeft:"6px",width:"100%"},alpha:{paddingLeft:"6px",width:"100%"},toggle:{width:"32px",textAlign:"right",position:"relative"},icon:{marginRight:"-4px",marginTop:"12px",cursor:"pointer",position:"relative"},iconHighlight:{position:"absolute",width:"24px",height:"28px",background:"#eee",borderRadius:"4px",top:"10px",left:"12px",display:"none"},input:{fontSize:"11px",color:"#333",width:"100%",borderRadius:"2px",border:"none",boxShadow:"inset 0 0 0 1px #dadada",height:"21px",textAlign:"center"},label:{textTransform:"uppercase",fontSize:"11px",lineHeight:"11px",color:"#969696",textAlign:"center",display:"block",marginTop:"12px"},svg:{fill:"#333",width:"24px",height:"24px",border:"1px transparent solid",borderRadius:"5px"}},disableAlpha:{alpha:{display:"none"}}},this.props,this.state),re=void 0;return this.state.view==="hex"?re=b.a.createElement("div",{style:I.fields,className:"flexbox-fix"},b.a.createElement("div",{style:I.field},b.a.createElement(Ge,{style:{input:I.input,label:I.label},label:"hex",value:this.props.hex,onChange:this.handleChange}))):this.state.view==="rgb"?re=b.a.createElement("div",{style:I.fields,className:"flexbox-fix"},b.a.createElement("div",{style:I.field},b.a.createElement(Ge,{style:{input:I.input,label:I.label},label:"r",value:this.props.rgb.r,onChange:this.handleChange})),b.a.createElement("div",{style:I.field},b.a.createElement(Ge,{style:{input:I.input,label:I.label},label:"g",value:this.props.rgb.g,onChange:this.handleChange})),b.a.createElement("div",{style:I.field},b.a.createElement(Ge,{style:{input:I.input,label:I.label},label:"b",value:this.props.rgb.b,onChange:this.handleChange})),b.a.createElement("div",{style:I.alpha},b.a.createElement(Ge,{style:{input:I.input,label:I.label},label:"a",value:this.props.rgb.a,arrowOffset:.01,onChange:this.handleChange}))):this.state.view==="hsl"&&(re=b.a.createElement("div",{style:I.fields,className:"flexbox-fix"},b.a.createElement("div",{style:I.field},b.a.createElement(Ge,{style:{input:I.input,label:I.label},label:"h",value:Math.round(this.props.hsl.h),onChange:this.handleChange})),b.a.createElement("div",{style:I.field},b.a.createElement(Ge,{style:{input:I.input,label:I.label},label:"s",value:Math.round(this.props.hsl.s*100)+"%",onChange:this.handleChange})),b.a.createElement("div",{style:I.field},b.a.createElement(Ge,{style:{input:I.input,label:I.label},label:"l",value:Math.round(this.props.hsl.l*100)+"%",onChange:this.handleChange})),b.a.createElement("div",{style:I.alpha},b.a.createElement(Ge,{style:{input:I.input,label:I.label},label:"a",value:this.props.hsl.a,arrowOffset:.01,onChange:this.handleChange})))),b.a.createElement("div",{style:I.wrap,className:"flexbox-fix"},re,b.a.createElement("div",{style:I.toggle},b.a.createElement("div",{style:I.icon,onClick:this.toggleViews,ref:function(fe){return T.icon=fe}},b.a.createElement(Xa.a,{style:I.svg,onMouseOver:this.showHighlight,onMouseEnter:this.showHighlight,onMouseOut:this.hideHighlight}))))}}],[{key:"getDerivedStateFromProps",value:function(T,I){return T.hsl.a!==1&&I.view==="hex"?{view:"rgb"}:null}}]),g}(b.a.Component);qi.defaultProps={view:"hex"};var Ll=qi,Lo=function(){var g=j()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",transform:"translate(-6px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return b.a.createElement("div",{style:g.picker})},Bo=Lo,Bl=function(){var g=j()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}}});return b.a.createElement("div",{style:g.picker})},eo=Bl,ti=function(g){var z=g.width,T=g.onChange,I=g.disableAlpha,re=g.rgb,ae=g.hsl,fe=g.hsv,be=g.hex,xe=g.renderers,De=g.styles,vt=De===void 0?{}:De,tt=g.className,ft=tt===void 0?"":tt,Qt=g.defaultView,Zt=j()(Object(yt.a)({default:{picker:{width:z,background:"#fff",borderRadius:"2px",boxShadow:"0 0 2px rgba(0,0,0,.3), 0 4px 8px rgba(0,0,0,.3)",boxSizing:"initial",fontFamily:"Menlo"},saturation:{width:"100%",paddingBottom:"55%",position:"relative",borderRadius:"2px 2px 0 0",overflow:"hidden"},Saturation:{radius:"2px 2px 0 0"},body:{padding:"16px 16px 12px"},controls:{display:"flex"},color:{width:"32px"},swatch:{marginTop:"6px",width:"16px",height:"16px",borderRadius:"8px",position:"relative",overflow:"hidden"},active:{absolute:"0px 0px 0px 0px",borderRadius:"8px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.1)",background:"rgba("+re.r+", "+re.g+", "+re.b+", "+re.a+")",zIndex:"2"},toggles:{flex:"1"},hue:{height:"10px",position:"relative",marginBottom:"8px"},Hue:{radius:"2px"},alpha:{height:"10px",position:"relative"},Alpha:{radius:"2px"}},disableAlpha:{color:{width:"22px"},alpha:{display:"none"},hue:{marginBottom:"0px"},swatch:{width:"10px",height:"10px",marginTop:"0px"}}},vt),{disableAlpha:I});return b.a.createElement("div",{style:Zt.picker,className:"chrome-picker "+ft},b.a.createElement("div",{style:Zt.saturation},b.a.createElement(ve,{style:Zt.Saturation,hsl:ae,hsv:fe,pointer:eo,onChange:T})),b.a.createElement("div",{style:Zt.body},b.a.createElement("div",{style:Zt.controls,className:"flexbox-fix"},b.a.createElement("div",{style:Zt.color},b.a.createElement("div",{style:Zt.swatch},b.a.createElement("div",{style:Zt.active}),b.a.createElement(w,{renderers:xe}))),b.a.createElement("div",{style:Zt.toggles},b.a.createElement("div",{style:Zt.hue},b.a.createElement(Pt,{style:Zt.Hue,hsl:ae,pointer:Bo,onChange:T})),b.a.createElement("div",{style:Zt.alpha},b.a.createElement(L,{style:Zt.Alpha,rgb:re,hsl:ae,pointer:Bo,renderers:xe,onChange:T})))),b.a.createElement(Ll,{rgb:re,hsl:ae,hex:be,view:Qt,onChange:T,disableAlpha:I})))};ti.propTypes={width:ge.a.oneOfType([ge.a.string,ge.a.number]),disableAlpha:ge.a.bool,styles:ge.a.object,defaultView:ge.a.oneOf(["hex","rgb","hsl"])},ti.defaultProps={width:225,disableAlpha:!1,styles:{}};var lu=ln(ti),Vl=function(g){var z=g.color,T=g.onClick,I=T===void 0?function(){}:T,re=g.onSwatchHover,ae=g.active,fe=j()({default:{color:{background:z,width:"15px",height:"15px",float:"left",marginRight:"5px",marginBottom:"5px",position:"relative",cursor:"pointer"},dot:{absolute:"5px 5px 5px 5px",background:At(z),borderRadius:"50%",opacity:"0"}},active:{dot:{opacity:"1"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},dot:{background:"#000"}},transparent:{dot:{background:"#000"}}},{active:ae,"color-#FFFFFF":z==="#FFFFFF",transparent:z==="transparent"});return b.a.createElement(Mt,{style:fe.color,color:z,onClick:I,onHover:re,focusStyle:{boxShadow:"0 0 4px "+z}},b.a.createElement("div",{style:fe.dot}))},an=Vl,Pi=function(g){var z=g.hex,T=g.rgb,I=g.onChange,re=j()({default:{fields:{display:"flex",paddingBottom:"6px",paddingRight:"5px",position:"relative"},active:{position:"absolute",top:"6px",left:"5px",height:"9px",width:"9px",background:z},HEXwrap:{flex:"6",position:"relative"},HEXinput:{width:"80%",padding:"0px",paddingLeft:"20%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},HEXlabel:{display:"none"},RGBwrap:{flex:"3",position:"relative"},RGBinput:{width:"70%",padding:"0px",paddingLeft:"30%",border:"none",outline:"none",background:"none",fontSize:"12px",color:"#333",height:"16px"},RGBlabel:{position:"absolute",top:"3px",left:"0px",lineHeight:"16px",textTransform:"uppercase",fontSize:"12px",color:"#999"}}}),ae=function(be,xe){be.r||be.g||be.b?I({r:be.r||T.r,g:be.g||T.g,b:be.b||T.b,source:"rgb"},xe):I({hex:be.hex,source:"hex"},xe)};return b.a.createElement("div",{style:re.fields,className:"flexbox-fix"},b.a.createElement("div",{style:re.active}),b.a.createElement(Ge,{style:{wrap:re.HEXwrap,input:re.HEXinput,label:re.HEXlabel},label:"hex",value:z,onChange:ae}),b.a.createElement(Ge,{style:{wrap:re.RGBwrap,input:re.RGBinput,label:re.RGBlabel},label:"r",value:T.r,onChange:ae}),b.a.createElement(Ge,{style:{wrap:re.RGBwrap,input:re.RGBinput,label:re.RGBlabel},label:"g",value:T.g,onChange:ae}),b.a.createElement(Ge,{style:{wrap:re.RGBwrap,input:re.RGBinput,label:re.RGBlabel},label:"b",value:T.b,onChange:ae}))},Os=Pi,to=function(g){var z=g.onChange,T=g.onSwatchHover,I=g.colors,re=g.hex,ae=g.rgb,fe=g.styles,be=fe===void 0?{}:fe,xe=g.className,De=xe===void 0?"":xe,vt=j()(Object(yt.a)({default:{Compact:{background:"#f6f6f6",radius:"4px"},compact:{paddingTop:"5px",paddingLeft:"5px",boxSizing:"initial",width:"240px"},clear:{clear:"both"}}},be)),tt=function(Qt,Zt){Qt.hex?ze(Qt.hex)&&z({hex:Qt.hex,source:"hex"},Zt):z(Qt,Zt)};return b.a.createElement(dn,{style:vt.Compact,styles:be},b.a.createElement("div",{style:vt.compact,className:"compact-picker "+De},b.a.createElement("div",null,Jn(I,function(ft){return b.a.createElement(an,{key:ft,color:ft,active:ft.toLowerCase()===re,onClick:tt,onSwatchHover:T})}),b.a.createElement("div",{style:vt.clear})),b.a.createElement(Os,{hex:re,rgb:ae,onChange:tt})))};to.propTypes={colors:ge.a.arrayOf(ge.a.string),styles:ge.a.object},to.defaultProps={colors:["#4D4D4D","#999999","#FFFFFF","#F44E3B","#FE9200","#FCDC00","#DBDF00","#A4DD00","#68CCCA","#73D8FF","#AEA1FF","#FDA1FF","#333333","#808080","#cccccc","#D33115","#E27300","#FCC400","#B0BC00","#68BC00","#16A5A5","#009CE0","#7B64FF","#FA28FF","#000000","#666666","#B3B3B3","#9F0500","#C45100","#FB9E00","#808900","#194D33","#0C797D","#0062B1","#653294","#AB149E"],styles:{}};var zl=ln(to),Ps=function(g){var z=g.hover,T=g.color,I=g.onClick,re=g.onSwatchHover,ae={position:"relative",zIndex:"2",outline:"2px solid #fff",boxShadow:"0 0 5px 2px rgba(0,0,0,0.25)"},fe=j()({default:{swatch:{width:"25px",height:"25px",fontSize:"0"}},hover:{swatch:ae}},{hover:z});return b.a.createElement("div",{style:fe.swatch},b.a.createElement(Mt,{color:T,onClick:I,onHover:re,focusStyle:ae}))},Ul=Object(x.handleHover)(Ps),Vo=function(g){var z=g.width,T=g.colors,I=g.onChange,re=g.onSwatchHover,ae=g.triangle,fe=g.styles,be=fe===void 0?{}:fe,xe=g.className,De=xe===void 0?"":xe,vt=j()(Object(yt.a)({default:{card:{width:z,background:"#fff",border:"1px solid rgba(0,0,0,0.2)",boxShadow:"0 3px 12px rgba(0,0,0,0.15)",borderRadius:"4px",position:"relative",padding:"5px",display:"flex",flexWrap:"wrap"},triangle:{position:"absolute",border:"7px solid transparent",borderBottomColor:"#fff"},triangleShadow:{position:"absolute",border:"8px solid transparent",borderBottomColor:"rgba(0,0,0,0.15)"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-14px",left:"10px"},triangleShadow:{top:"-16px",left:"9px"}},"top-right-triangle":{triangle:{top:"-14px",right:"10px"},triangleShadow:{top:"-16px",right:"9px"}},"bottom-left-triangle":{triangle:{top:"35px",left:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",left:"9px",transform:"rotate(180deg)"}},"bottom-right-triangle":{triangle:{top:"35px",right:"10px",transform:"rotate(180deg)"},triangleShadow:{top:"37px",right:"9px",transform:"rotate(180deg)"}}},be),{"hide-triangle":ae==="hide","top-left-triangle":ae==="top-left","top-right-triangle":ae==="top-right","bottom-left-triangle":ae==="bottom-left","bottom-right-triangle":ae==="bottom-right"}),tt=function(Qt,Zt){return I({hex:Qt,source:"hex"},Zt)};return b.a.createElement("div",{style:vt.card,className:"github-picker "+De},b.a.createElement("div",{style:vt.triangleShadow}),b.a.createElement("div",{style:vt.triangle}),Jn(T,function(ft){return b.a.createElement(Ul,{color:ft,key:ft,onClick:tt,onSwatchHover:re})}))};Vo.propTypes={width:ge.a.oneOfType([ge.a.string,ge.a.number]),colors:ge.a.arrayOf(ge.a.string),triangle:ge.a.oneOf(["hide","top-left","top-right","bottom-left","bottom-right"]),styles:ge.a.object},Vo.defaultProps={width:200,colors:["#B80000","#DB3E00","#FCCB00","#008B02","#006B76","#1273DE","#004DCF","#5300EB","#EB9694","#FAD0C3","#FEF3BD","#C1E1C5","#BEDADC","#C4DEF6","#BED3F3","#D4C4FB"],triangle:"top-left",styles:{}};var Oa=ln(Vo),As=function(g){var z=g.direction,T=j()({default:{picker:{width:"18px",height:"18px",borderRadius:"50%",transform:"translate(-9px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}},vertical:{picker:{transform:"translate(-3px, -9px)"}}},{vertical:z==="vertical"});return b.a.createElement("div",{style:T.picker})},zo=As,Wl=Object.assign||function(M){for(var g=1;g<arguments.length;g++){var z=arguments[g];for(var T in z)Object.prototype.hasOwnProperty.call(z,T)&&(M[T]=z[T])}return M},no=function(g){var z=g.width,T=g.height,I=g.onChange,re=g.hsl,ae=g.direction,fe=g.pointer,be=g.styles,xe=be===void 0?{}:be,De=g.className,vt=De===void 0?"":De,tt=j()(Object(yt.a)({default:{picker:{position:"relative",width:z,height:T},hue:{radius:"2px"}}},xe)),ft=function(Zt){return I({a:1,h:Zt.h,l:.5,s:1})};return b.a.createElement("div",{style:tt.picker,className:"hue-picker "+vt},b.a.createElement(Pt,Wl({},tt.hue,{hsl:re,pointer:fe,onChange:ft,direction:ae})))};no.propTypes={styles:ge.a.object},no.defaultProps={width:"316px",height:"16px",direction:"horizontal",pointer:zo,styles:{}};var Hl=ln(no),Ts=function(g){var z=g.onChange,T=g.hex,I=g.rgb,re=g.styles,ae=re===void 0?{}:re,fe=g.className,be=fe===void 0?"":fe,xe=j()(Object(yt.a)({default:{material:{width:"98px",height:"98px",padding:"16px",fontFamily:"Roboto"},HEXwrap:{position:"relative"},HEXinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"2px solid "+T,outline:"none",height:"30px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},Hex:{style:{}},RGBwrap:{position:"relative"},RGBinput:{width:"100%",marginTop:"12px",fontSize:"15px",color:"#333",padding:"0px",border:"0px",borderBottom:"1px solid #eee",outline:"none",height:"30px"},RGBlabel:{position:"absolute",top:"0px",left:"0px",fontSize:"11px",color:"#999999",textTransform:"capitalize"},split:{display:"flex",marginRight:"-10px",paddingTop:"11px"},third:{flex:"1",paddingRight:"10px"}}},ae)),De=function(tt,ft){tt.hex?ze(tt.hex)&&z({hex:tt.hex,source:"hex"},ft):(tt.r||tt.g||tt.b)&&z({r:tt.r||I.r,g:tt.g||I.g,b:tt.b||I.b,source:"rgb"},ft)};return b.a.createElement(dn,{styles:ae},b.a.createElement("div",{style:xe.material,className:"material-picker "+be},b.a.createElement(Ge,{style:{wrap:xe.HEXwrap,input:xe.HEXinput,label:xe.HEXlabel},label:"hex",value:T,onChange:De}),b.a.createElement("div",{style:xe.split,className:"flexbox-fix"},b.a.createElement("div",{style:xe.third},b.a.createElement(Ge,{style:{wrap:xe.RGBwrap,input:xe.RGBinput,label:xe.RGBlabel},label:"r",value:I.r,onChange:De})),b.a.createElement("div",{style:xe.third},b.a.createElement(Ge,{style:{wrap:xe.RGBwrap,input:xe.RGBinput,label:xe.RGBlabel},label:"g",value:I.g,onChange:De})),b.a.createElement("div",{style:xe.third},b.a.createElement(Ge,{style:{wrap:xe.RGBwrap,input:xe.RGBinput,label:xe.RGBlabel},label:"b",value:I.b,onChange:De})))))},cu=ln(Ts),Uo=function(g){var z=g.onChange,T=g.rgb,I=g.hsv,re=g.hex,ae=j()({default:{fields:{paddingTop:"5px",paddingBottom:"9px",width:"80px",position:"relative"},divider:{height:"5px"},RGBwrap:{position:"relative"},RGBinput:{marginLeft:"40%",width:"40%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"5px",fontSize:"13px",paddingLeft:"3px",marginRight:"10px"},RGBlabel:{left:"0px",top:"0px",width:"34px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px",position:"absolute"},HEXwrap:{position:"relative"},HEXinput:{marginLeft:"20%",width:"80%",height:"18px",border:"1px solid #888888",boxShadow:"inset 0 1px 1px rgba(0,0,0,.1), 0 1px 0 0 #ECECEC",marginBottom:"6px",fontSize:"13px",paddingLeft:"3px"},HEXlabel:{position:"absolute",top:"0px",left:"0px",width:"14px",textTransform:"uppercase",fontSize:"13px",height:"18px",lineHeight:"22px"},fieldSymbols:{position:"absolute",top:"5px",right:"-7px",fontSize:"13px"},symbol:{height:"20px",lineHeight:"22px",paddingBottom:"7px"}}}),fe=function(xe,De){xe["#"]?ze(xe["#"])&&z({hex:xe["#"],source:"hex"},De):xe.r||xe.g||xe.b?z({r:xe.r||T.r,g:xe.g||T.g,b:xe.b||T.b,source:"rgb"},De):(xe.h||xe.s||xe.v)&&z({h:xe.h||I.h,s:xe.s||I.s,v:xe.v||I.v,source:"hsv"},De)};return b.a.createElement("div",{style:ae.fields},b.a.createElement(Ge,{style:{wrap:ae.RGBwrap,input:ae.RGBinput,label:ae.RGBlabel},label:"h",value:Math.round(I.h),onChange:fe}),b.a.createElement(Ge,{style:{wrap:ae.RGBwrap,input:ae.RGBinput,label:ae.RGBlabel},label:"s",value:Math.round(I.s*100),onChange:fe}),b.a.createElement(Ge,{style:{wrap:ae.RGBwrap,input:ae.RGBinput,label:ae.RGBlabel},label:"v",value:Math.round(I.v*100),onChange:fe}),b.a.createElement("div",{style:ae.divider}),b.a.createElement(Ge,{style:{wrap:ae.RGBwrap,input:ae.RGBinput,label:ae.RGBlabel},label:"r",value:T.r,onChange:fe}),b.a.createElement(Ge,{style:{wrap:ae.RGBwrap,input:ae.RGBinput,label:ae.RGBlabel},label:"g",value:T.g,onChange:fe}),b.a.createElement(Ge,{style:{wrap:ae.RGBwrap,input:ae.RGBinput,label:ae.RGBlabel},label:"b",value:T.b,onChange:fe}),b.a.createElement("div",{style:ae.divider}),b.a.createElement(Ge,{style:{wrap:ae.HEXwrap,input:ae.HEXinput,label:ae.HEXlabel},label:"#",value:re.replace("#",""),onChange:fe}),b.a.createElement("div",{style:ae.fieldSymbols},b.a.createElement("div",{style:ae.symbol},"\xB0"),b.a.createElement("div",{style:ae.symbol},"%"),b.a.createElement("div",{style:ae.symbol},"%")))},Pa=Uo,Ss=function(g){var z=g.hsl,T=j()({default:{picker:{width:"12px",height:"12px",borderRadius:"6px",boxShadow:"inset 0 0 0 1px #fff",transform:"translate(-6px, -6px)"}},"black-outline":{picker:{boxShadow:"inset 0 0 0 1px #000"}}},{"black-outline":z.l>.5});return b.a.createElement("div",{style:T.picker})},Sr=Ss,Kl=function(){var g=j()({default:{triangle:{width:0,height:0,borderStyle:"solid",borderWidth:"4px 0 4px 6px",borderColor:"transparent transparent transparent #fff",position:"absolute",top:"1px",left:"1px"},triangleBorder:{width:0,height:0,borderStyle:"solid",borderWidth:"5px 0 5px 8px",borderColor:"transparent transparent transparent #555"},left:{Extend:"triangleBorder",transform:"translate(-13px, -4px)"},leftInside:{Extend:"triangle",transform:"translate(-8px, -5px)"},right:{Extend:"triangleBorder",transform:"translate(20px, -14px) rotate(180deg)"},rightInside:{Extend:"triangle",transform:"translate(-8px, -5px)"}}});return b.a.createElement("div",{style:g.pointer},b.a.createElement("div",{style:g.left},b.a.createElement("div",{style:g.leftInside})),b.a.createElement("div",{style:g.right},b.a.createElement("div",{style:g.rightInside})))},Ms=Kl,ro=function(g){var z=g.onClick,T=g.label,I=g.children,re=g.active,ae=j()({default:{button:{backgroundImage:"linear-gradient(-180deg, #FFFFFF 0%, #E6E6E6 100%)",border:"1px solid #878787",borderRadius:"2px",height:"20px",boxShadow:"0 1px 0 0 #EAEAEA",fontSize:"14px",color:"#000",lineHeight:"20px",textAlign:"center",marginBottom:"10px",cursor:"pointer"}},active:{button:{boxShadow:"0 0 0 1px #878787"}}},{active:re});return b.a.createElement("div",{style:ae.button,onClick:z},T||I)},Kr=ro,io=function(g){var z=g.rgb,T=g.currentColor,I=j()({default:{swatches:{border:"1px solid #B3B3B3",borderBottom:"1px solid #F0F0F0",marginBottom:"2px",marginTop:"1px"},new:{height:"34px",background:"rgb("+z.r+","+z.g+", "+z.b+")",boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 1px 0 #000"},current:{height:"34px",background:T,boxShadow:"inset 1px 0 0 #000, inset -1px 0 0 #000, inset 0 -1px 0 #000"},label:{fontSize:"14px",color:"#000",textAlign:"center"}}});return b.a.createElement("div",null,b.a.createElement("div",{style:I.label},"new"),b.a.createElement("div",{style:I.swatches},b.a.createElement("div",{style:I.new}),b.a.createElement("div",{style:I.current})),b.a.createElement("div",{style:I.label},"current"))},Wo=io,Gl=function(){function M(g,z){for(var T=0;T<z.length;T++){var I=z[T];I.enumerable=I.enumerable||!1,I.configurable=!0,"value"in I&&(I.writable=!0),Object.defineProperty(g,I.key,I)}}return function(g,z,T){return z&&M(g.prototype,z),T&&M(g,T),g}}();function Is(M,g){if(!(M instanceof g))throw new TypeError("Cannot call a class as a function")}function js(M,g){if(!M)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return g&&(typeof g=="object"||typeof g=="function")?g:M}function Rs(M,g){if(typeof g!="function"&&g!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof g);M.prototype=Object.create(g&&g.prototype,{constructor:{value:M,enumerable:!1,writable:!0,configurable:!0}}),g&&(Object.setPrototypeOf?Object.setPrototypeOf(M,g):M.__proto__=g)}var gi=function(M){Rs(g,M);function g(z){Is(this,g);var T=js(this,(g.__proto__||Object.getPrototypeOf(g)).call(this));return T.state={currentColor:z.hex},T}return Gl(g,[{key:"render",value:function(){var T=this.props,I=T.styles,re=I===void 0?{}:I,ae=T.className,fe=ae===void 0?"":ae,be=j()(Object(yt.a)({default:{picker:{background:"#DCDCDC",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.25), 0 8px 16px rgba(0,0,0,.15)",boxSizing:"initial",width:"513px"},head:{backgroundImage:"linear-gradient(-180deg, #F0F0F0 0%, #D4D4D4 100%)",borderBottom:"1px solid #B1B1B1",boxShadow:"inset 0 1px 0 0 rgba(255,255,255,.2), inset 0 -1px 0 0 rgba(0,0,0,.02)",height:"23px",lineHeight:"24px",borderRadius:"4px 4px 0 0",fontSize:"13px",color:"#4D4D4D",textAlign:"center"},body:{padding:"15px 15px 0",display:"flex"},saturation:{width:"256px",height:"256px",position:"relative",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0",overflow:"hidden"},hue:{position:"relative",height:"256px",width:"19px",marginLeft:"10px",border:"2px solid #B3B3B3",borderBottom:"2px solid #F0F0F0"},controls:{width:"180px",marginLeft:"10px"},top:{display:"flex"},previews:{width:"60px"},actions:{flex:"1",marginLeft:"20px"}}},re));return b.a.createElement("div",{style:be.picker,className:"photoshop-picker "+fe},b.a.createElement("div",{style:be.head},this.props.header),b.a.createElement("div",{style:be.body,className:"flexbox-fix"},b.a.createElement("div",{style:be.saturation},b.a.createElement(ve,{hsl:this.props.hsl,hsv:this.props.hsv,pointer:Sr,onChange:this.props.onChange})),b.a.createElement("div",{style:be.hue},b.a.createElement(Pt,{direction:"vertical",hsl:this.props.hsl,pointer:Ms,onChange:this.props.onChange})),b.a.createElement("div",{style:be.controls},b.a.createElement("div",{style:be.top,className:"flexbox-fix"},b.a.createElement("div",{style:be.previews},b.a.createElement(Wo,{rgb:this.props.rgb,currentColor:this.state.currentColor})),b.a.createElement("div",{style:be.actions},b.a.createElement(Kr,{label:"OK",onClick:this.props.onAccept,active:!0}),b.a.createElement(Kr,{label:"Cancel",onClick:this.props.onCancel}),b.a.createElement(Pa,{onChange:this.props.onChange,rgb:this.props.rgb,hsv:this.props.hsv,hex:this.props.hex}))))))}}]),g}(b.a.Component);gi.propTypes={header:ge.a.string,styles:ge.a.object},gi.defaultProps={header:"Color Picker",styles:{}};var Yl=ln(gi),Ds=function(g){var z=g.onChange,T=g.rgb,I=g.hsl,re=g.hex,ae=g.disableAlpha,fe=j()({default:{fields:{display:"flex",paddingTop:"4px"},single:{flex:"1",paddingLeft:"6px"},alpha:{flex:"1",paddingLeft:"6px"},double:{flex:"2"},input:{width:"80%",padding:"4px 10% 3px",border:"none",boxShadow:"inset 0 0 0 1px #ccc",fontSize:"11px"},label:{display:"block",textAlign:"center",fontSize:"11px",color:"#222",paddingTop:"3px",paddingBottom:"4px",textTransform:"capitalize"}},disableAlpha:{alpha:{display:"none"}}},{disableAlpha:ae}),be=function(De,vt){De.hex?ze(De.hex)&&z({hex:De.hex,source:"hex"},vt):De.r||De.g||De.b?z({r:De.r||T.r,g:De.g||T.g,b:De.b||T.b,a:T.a,source:"rgb"},vt):De.a&&(De.a<0?De.a=0:De.a>100&&(De.a=100),De.a/=100,z({h:I.h,s:I.s,l:I.l,a:De.a,source:"rgb"},vt))};return b.a.createElement("div",{style:fe.fields,className:"flexbox-fix"},b.a.createElement("div",{style:fe.double},b.a.createElement(Ge,{style:{input:fe.input,label:fe.label},label:"hex",value:re.replace("#",""),onChange:be})),b.a.createElement("div",{style:fe.single},b.a.createElement(Ge,{style:{input:fe.input,label:fe.label},label:"r",value:T.r,onChange:be,dragLabel:"true",dragMax:"255"})),b.a.createElement("div",{style:fe.single},b.a.createElement(Ge,{style:{input:fe.input,label:fe.label},label:"g",value:T.g,onChange:be,dragLabel:"true",dragMax:"255"})),b.a.createElement("div",{style:fe.single},b.a.createElement(Ge,{style:{input:fe.input,label:fe.label},label:"b",value:T.b,onChange:be,dragLabel:"true",dragMax:"255"})),b.a.createElement("div",{style:fe.alpha},b.a.createElement(Ge,{style:{input:fe.input,label:fe.label},label:"a",value:Math.round(T.a*100),onChange:be,dragLabel:"true",dragMax:"100"})))},va=Ds,Ns=Object.assign||function(M){for(var g=1;g<arguments.length;g++){var z=arguments[g];for(var T in z)Object.prototype.hasOwnProperty.call(z,T)&&(M[T]=z[T])}return M},Ho=function(g){var z=g.colors,T=g.onClick,I=T===void 0?function(){}:T,re=g.onSwatchHover,ae=j()({default:{colors:{margin:"0 -10px",padding:"10px 0 0 10px",borderTop:"1px solid #eee",display:"flex",flexWrap:"wrap",position:"relative"},swatchWrap:{width:"16px",height:"16px",margin:"0 10px 10px 0"},swatch:{borderRadius:"3px",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15)"}},"no-presets":{colors:{display:"none"}}},{"no-presets":!z||!z.length}),fe=function(xe,De){I({hex:xe,source:"hex"},De)};return b.a.createElement("div",{style:ae.colors,className:"flexbox-fix"},z.map(function(be){var xe=typeof be=="string"?{color:be}:be,De=""+xe.color+(xe.title||"");return b.a.createElement("div",{key:De,style:ae.swatchWrap},b.a.createElement(Mt,Ns({},xe,{style:ae.swatch,onClick:fe,onHover:re,focusStyle:{boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), 0 0 4px "+xe.color}})))}))};Ho.propTypes={colors:ge.a.arrayOf(ge.a.oneOfType([ge.a.string,ge.a.shape({color:ge.a.string,title:ge.a.string})])).isRequired};var Fs=Ho,$l=Object.assign||function(M){for(var g=1;g<arguments.length;g++){var z=arguments[g];for(var T in z)Object.prototype.hasOwnProperty.call(z,T)&&(M[T]=z[T])}return M},cr=function(g){var z=g.width,T=g.rgb,I=g.hex,re=g.hsv,ae=g.hsl,fe=g.onChange,be=g.onSwatchHover,xe=g.disableAlpha,De=g.presetColors,vt=g.renderers,tt=g.styles,ft=tt===void 0?{}:tt,Qt=g.className,Zt=Qt===void 0?"":Qt,on=j()(Object(yt.a)({default:$l({picker:{width:z,padding:"10px 10px 0",boxSizing:"initial",background:"#fff",borderRadius:"4px",boxShadow:"0 0 0 1px rgba(0,0,0,.15), 0 8px 16px rgba(0,0,0,.15)"},saturation:{width:"100%",paddingBottom:"75%",position:"relative",overflow:"hidden"},Saturation:{radius:"3px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},controls:{display:"flex"},sliders:{padding:"4px 0",flex:"1"},color:{width:"24px",height:"24px",position:"relative",marginTop:"4px",marginLeft:"4px",borderRadius:"3px"},activeColor:{absolute:"0px 0px 0px 0px",borderRadius:"2px",background:"rgba("+T.r+","+T.g+","+T.b+","+T.a+")",boxShadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},hue:{position:"relative",height:"10px",overflow:"hidden"},Hue:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"},alpha:{position:"relative",height:"10px",marginTop:"4px",overflow:"hidden"},Alpha:{radius:"2px",shadow:"inset 0 0 0 1px rgba(0,0,0,.15), inset 0 0 4px rgba(0,0,0,.25)"}},ft),disableAlpha:{color:{height:"10px"},hue:{height:"10px"},alpha:{display:"none"}}},ft),{disableAlpha:xe});return b.a.createElement("div",{style:on.picker,className:"sketch-picker "+Zt},b.a.createElement("div",{style:on.saturation},b.a.createElement(ve,{style:on.Saturation,hsl:ae,hsv:re,onChange:fe})),b.a.createElement("div",{style:on.controls,className:"flexbox-fix"},b.a.createElement("div",{style:on.sliders},b.a.createElement("div",{style:on.hue},b.a.createElement(Pt,{style:on.Hue,hsl:ae,onChange:fe})),b.a.createElement("div",{style:on.alpha},b.a.createElement(L,{style:on.Alpha,rgb:T,hsl:ae,renderers:vt,onChange:fe}))),b.a.createElement("div",{style:on.color},b.a.createElement(w,null),b.a.createElement("div",{style:on.activeColor}))),b.a.createElement(va,{rgb:T,hsl:ae,hex:I,onChange:fe,disableAlpha:xe}),b.a.createElement(Fs,{colors:De,onClick:fe,onSwatchHover:be}))};cr.propTypes={disableAlpha:ge.a.bool,width:ge.a.oneOfType([ge.a.string,ge.a.number]),styles:ge.a.object},cr.defaultProps={disableAlpha:!1,width:200,styles:{},presetColors:["#D0021B","#F5A623","#F8E71C","#8B572A","#7ED321","#417505","#BD10E0","#9013FE","#4A90E2","#50E3C2","#B8E986","#000000","#4A4A4A","#9B9B9B","#FFFFFF"]};var Ko=ln(cr),Aa=function(g){var z=g.hsl,T=g.offset,I=g.onClick,re=I===void 0?function(){}:I,ae=g.active,fe=g.first,be=g.last,xe=j()({default:{swatch:{height:"12px",background:"hsl("+z.h+", 50%, "+T*100+"%)",cursor:"pointer"}},first:{swatch:{borderRadius:"2px 0 0 2px"}},last:{swatch:{borderRadius:"0 2px 2px 0"}},active:{swatch:{transform:"scaleY(1.8)",borderRadius:"3.6px/2px"}}},{active:ae,first:fe,last:be}),De=function(tt){return re({h:z.h,s:.5,l:T,source:"hsl"},tt)};return b.a.createElement("div",{style:xe.swatch,onClick:De})},Ta=Aa,ao=function(g){var z=g.onClick,T=g.hsl,I=j()({default:{swatches:{marginTop:"20px"},swatch:{boxSizing:"border-box",width:"20%",paddingRight:"1px",float:"left"},clear:{clear:"both"}}}),re=.1;return b.a.createElement("div",{style:I.swatches},b.a.createElement("div",{style:I.swatch},b.a.createElement(Ta,{hsl:T,offset:".80",active:Math.abs(T.l-.8)<re&&Math.abs(T.s-.5)<re,onClick:z,first:!0})),b.a.createElement("div",{style:I.swatch},b.a.createElement(Ta,{hsl:T,offset:".65",active:Math.abs(T.l-.65)<re&&Math.abs(T.s-.5)<re,onClick:z})),b.a.createElement("div",{style:I.swatch},b.a.createElement(Ta,{hsl:T,offset:".50",active:Math.abs(T.l-.5)<re&&Math.abs(T.s-.5)<re,onClick:z})),b.a.createElement("div",{style:I.swatch},b.a.createElement(Ta,{hsl:T,offset:".35",active:Math.abs(T.l-.35)<re&&Math.abs(T.s-.5)<re,onClick:z})),b.a.createElement("div",{style:I.swatch},b.a.createElement(Ta,{hsl:T,offset:".20",active:Math.abs(T.l-.2)<re&&Math.abs(T.s-.5)<re,onClick:z,last:!0})),b.a.createElement("div",{style:I.clear}))},Go=ao,Ls=function(){var g=j()({default:{picker:{width:"14px",height:"14px",borderRadius:"6px",transform:"translate(-7px, -1px)",backgroundColor:"rgb(248, 248, 248)",boxShadow:"0 1px 4px 0 rgba(0, 0, 0, 0.37)"}}});return b.a.createElement("div",{style:g.picker})},Bs=Ls,ga=function(g){var z=g.hsl,T=g.onChange,I=g.pointer,re=g.styles,ae=re===void 0?{}:re,fe=g.className,be=fe===void 0?"":fe,xe=j()(Object(yt.a)({default:{hue:{height:"12px",position:"relative"},Hue:{radius:"2px"}}},ae));return b.a.createElement("div",{style:xe.wrap||{},className:"slider-picker "+be},b.a.createElement("div",{style:xe.hue},b.a.createElement(Pt,{style:xe.Hue,hsl:z,pointer:I,onChange:T})),b.a.createElement("div",{style:xe.swatches},b.a.createElement(Go,{hsl:z,onClick:T})))};ga.propTypes={styles:ge.a.object},ga.defaultProps={pointer:Bs,styles:{}};var oo=ln(ga),Yo=f("ql/k"),Vs=f.n(Yo),Di=function(g){var z=g.color,T=g.onClick,I=T===void 0?function(){}:T,re=g.onSwatchHover,ae=g.first,fe=g.last,be=g.active,xe=j()({default:{color:{width:"40px",height:"24px",cursor:"pointer",background:z,marginBottom:"1px"},check:{color:At(z),marginLeft:"8px",display:"none"}},first:{color:{overflow:"hidden",borderRadius:"2px 2px 0 0"}},last:{color:{overflow:"hidden",borderRadius:"0 0 2px 2px"}},active:{check:{display:"block"}},"color-#FFFFFF":{color:{boxShadow:"inset 0 0 0 1px #ddd"},check:{color:"#333"}},transparent:{check:{color:"#333"}}},{first:ae,last:fe,active:be,"color-#FFFFFF":z==="#FFFFFF",transparent:z==="transparent"});return b.a.createElement(Mt,{color:z,style:xe.color,onClick:I,onHover:re,focusStyle:{boxShadow:"0 0 4px "+z}},b.a.createElement("div",{style:xe.check},b.a.createElement(Vs.a,null)))},Jl=Di,Ql=function(g){var z=g.onClick,T=g.onSwatchHover,I=g.group,re=g.active,ae=j()({default:{group:{paddingBottom:"10px",width:"40px",float:"left",marginRight:"10px"}}});return b.a.createElement("div",{style:ae.group},Jn(I,function(fe,be){return b.a.createElement(Jl,{key:fe,color:fe,active:fe.toLowerCase()===re,first:be===0,last:be===I.length-1,onClick:z,onSwatchHover:T})}))},so=Ql,$o=function(g){var z=g.width,T=g.height,I=g.onChange,re=g.onSwatchHover,ae=g.colors,fe=g.hex,be=g.styles,xe=be===void 0?{}:be,De=g.className,vt=De===void 0?"":De,tt=j()(Object(yt.a)({default:{picker:{width:z,height:T},overflow:{height:T,overflowY:"scroll"},body:{padding:"16px 0 6px 16px"},clear:{clear:"both"}}},xe)),ft=function(Zt,on){return I({hex:Zt,source:"hex"},on)};return b.a.createElement("div",{style:tt.picker,className:"swatches-picker "+vt},b.a.createElement(dn,null,b.a.createElement("div",{style:tt.overflow},b.a.createElement("div",{style:tt.body},Jn(ae,function(Qt){return b.a.createElement(so,{key:Qt.toString(),group:Qt,active:fe,onClick:ft,onSwatchHover:re})}),b.a.createElement("div",{style:tt.clear})))))};$o.propTypes={width:ge.a.oneOfType([ge.a.string,ge.a.number]),height:ge.a.oneOfType([ge.a.string,ge.a.number]),colors:ge.a.arrayOf(ge.a.arrayOf(ge.a.string)),styles:ge.a.object},$o.defaultProps={width:320,height:240,colors:[[Ne.p["900"],Ne.p["700"],Ne.p["500"],Ne.p["300"],Ne.p["100"]],[Ne.n["900"],Ne.n["700"],Ne.n["500"],Ne.n["300"],Ne.n["100"]],[Ne.o["900"],Ne.o["700"],Ne.o["500"],Ne.o["300"],Ne.o["100"]],[Ne.g["900"],Ne.g["700"],Ne.g["500"],Ne.g["300"],Ne.g["100"]],[Ne.i["900"],Ne.i["700"],Ne.i["500"],Ne.i["300"],Ne.i["100"]],[Ne.b["900"],Ne.b["700"],Ne.b["500"],Ne.b["300"],Ne.b["100"]],[Ne.j["900"],Ne.j["700"],Ne.j["500"],Ne.j["300"],Ne.j["100"]],[Ne.e["900"],Ne.e["700"],Ne.e["500"],Ne.e["300"],Ne.e["100"]],[Ne.q["900"],Ne.q["700"],Ne.q["500"],Ne.q["300"],Ne.q["100"]],["#194D33",Ne.h["700"],Ne.h["500"],Ne.h["300"],Ne.h["100"]],[Ne.k["900"],Ne.k["700"],Ne.k["500"],Ne.k["300"],Ne.k["100"]],[Ne.l["900"],Ne.l["700"],Ne.l["500"],Ne.l["300"],Ne.l["100"]],[Ne.r["900"],Ne.r["700"],Ne.r["500"],Ne.r["300"],Ne.r["100"]],[Ne.a["900"],Ne.a["700"],Ne.a["500"],Ne.a["300"],Ne.a["100"]],[Ne.m["900"],Ne.m["700"],Ne.m["500"],Ne.m["300"],Ne.m["100"]],[Ne.f["900"],Ne.f["700"],Ne.f["500"],Ne.f["300"],Ne.f["100"]],[Ne.d["900"],Ne.d["700"],Ne.d["500"],Ne.d["300"],Ne.d["100"]],[Ne.c["900"],Ne.c["700"],Ne.c["500"],Ne.c["300"],Ne.c["100"]],["#000000","#525252","#969696","#D9D9D9","#FFFFFF"]],styles:{}};var uu=ln($o),Jo=function(g){var z=g.onChange,T=g.onSwatchHover,I=g.hex,re=g.colors,ae=g.width,fe=g.triangle,be=g.styles,xe=be===void 0?{}:be,De=g.className,vt=De===void 0?"":De,tt=j()(Object(yt.a)({default:{card:{width:ae,background:"#fff",border:"0 solid rgba(0,0,0,0.25)",boxShadow:"0 1px 4px rgba(0,0,0,0.25)",borderRadius:"4px",position:"relative"},body:{padding:"15px 9px 9px 15px"},label:{fontSize:"18px",color:"#fff"},triangle:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent #fff transparent",position:"absolute"},triangleShadow:{width:"0px",height:"0px",borderStyle:"solid",borderWidth:"0 9px 10px 9px",borderColor:"transparent transparent rgba(0,0,0,.1) transparent",position:"absolute"},hash:{background:"#F0F0F0",height:"30px",width:"30px",borderRadius:"4px 0 0 4px",float:"left",color:"#98A1A4",display:"flex",alignItems:"center",justifyContent:"center"},input:{width:"100px",fontSize:"14px",color:"#666",border:"0px",outline:"none",height:"28px",boxShadow:"inset 0 0 0 1px #F0F0F0",boxSizing:"content-box",borderRadius:"0 4px 4px 0",float:"left",paddingLeft:"8px"},swatch:{width:"30px",height:"30px",float:"left",borderRadius:"4px",margin:"0 6px 6px 0"},clear:{clear:"both"}},"hide-triangle":{triangle:{display:"none"},triangleShadow:{display:"none"}},"top-left-triangle":{triangle:{top:"-10px",left:"12px"},triangleShadow:{top:"-11px",left:"12px"}},"top-right-triangle":{triangle:{top:"-10px",right:"12px"},triangleShadow:{top:"-11px",right:"12px"}}},xe),{"hide-triangle":fe==="hide","top-left-triangle":fe==="top-left","top-right-triangle":fe==="top-right"}),ft=function(Zt,on){ze(Zt)&&z({hex:Zt,source:"hex"},on)};return b.a.createElement("div",{style:tt.card,className:"twitter-picker "+vt},b.a.createElement("div",{style:tt.triangleShadow}),b.a.createElement("div",{style:tt.triangle}),b.a.createElement("div",{style:tt.body},Jn(re,function(Qt,Zt){return b.a.createElement(Mt,{key:Zt,color:Qt,hex:Qt,style:tt.swatch,onClick:ft,onHover:T,focusStyle:{boxShadow:"0 0 4px "+Qt}})}),b.a.createElement("div",{style:tt.hash},"#"),b.a.createElement(Ge,{label:null,style:{input:tt.input},value:I.replace("#",""),onChange:ft}),b.a.createElement("div",{style:tt.clear})))};Jo.propTypes={width:ge.a.oneOfType([ge.a.string,ge.a.number]),triangle:ge.a.oneOf(["hide","top-left","top-right"]),colors:ge.a.arrayOf(ge.a.string),styles:ge.a.object},Jo.defaultProps={width:276,colors:["#FF6900","#FCB900","#7BDCB5","#00D084","#8ED1FC","#0693E3","#ABB8C3","#EB144C","#F78DA7","#9900EF"],triangle:"top-left",styles:{}};var Zl=ln(Jo),Qo=function(g){var z=j()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",border:"2px #fff solid",transform:"translate(-12px, -13px)",background:"hsl("+Math.round(g.hsl.h)+", "+Math.round(g.hsl.s*100)+"%, "+Math.round(g.hsl.l*100)+"%)"}}});return b.a.createElement("div",{style:z.picker})};Qo.propTypes={hsl:ge.a.shape({h:ge.a.number,s:ge.a.number,l:ge.a.number,a:ge.a.number})},Qo.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Xl=Qo,lo=function(g){var z=j()({default:{picker:{width:"20px",height:"20px",borderRadius:"22px",transform:"translate(-10px, -7px)",background:"hsl("+Math.round(g.hsl.h)+", 100%, 50%)",border:"2px white solid"}}});return b.a.createElement("div",{style:z.picker})};lo.propTypes={hsl:ge.a.shape({h:ge.a.number,s:ge.a.number,l:ge.a.number,a:ge.a.number})},lo.defaultProps={hsl:{a:1,h:249.94,l:.2,s:.5}};var Zo=lo,ql=function(g){var z=g.onChange,T=g.rgb,I=g.hsl,re=g.hex,ae=g.hsv,fe=function(ft,Qt){if(ft.hex)ze(ft.hex)&&z({hex:ft.hex,source:"hex"},Qt);else if(ft.rgb){var Zt=ft.rgb.split(",");qt(ft.rgb,"rgb")&&z({r:Zt[0],g:Zt[1],b:Zt[2],a:1,source:"rgb"},Qt)}else if(ft.hsv){var on=ft.hsv.split(",");qt(ft.hsv,"hsv")&&(on[2]=on[2].replace("%",""),on[1]=on[1].replace("%",""),on[0]=on[0].replace("\xB0",""),on[1]==1?on[1]=.01:on[2]==1&&(on[2]=.01),z({h:Number(on[0]),s:Number(on[1]),v:Number(on[2]),source:"hsv"},Qt))}else if(ft.hsl){var ur=ft.hsl.split(",");qt(ft.hsl,"hsl")&&(ur[2]=ur[2].replace("%",""),ur[1]=ur[1].replace("%",""),ur[0]=ur[0].replace("\xB0",""),vt[1]==1?vt[1]=.01:vt[2]==1&&(vt[2]=.01),z({h:Number(ur[0]),s:Number(ur[1]),v:Number(ur[2]),source:"hsl"},Qt))}},be=j()({default:{wrap:{display:"flex",height:"100px",marginTop:"4px"},fields:{width:"100%"},column:{paddingTop:"10px",display:"flex",justifyContent:"space-between"},double:{padding:"0px 4.4px",boxSizing:"border-box"},input:{width:"100%",height:"38px",boxSizing:"border-box",padding:"4px 10% 3px",textAlign:"center",border:"1px solid #dadce0",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",fontFamily:"Roboto,Arial,sans-serif"},input2:{height:"38px",width:"100%",border:"1px solid #dadce0",boxSizing:"border-box",fontSize:"11px",textTransform:"lowercase",borderRadius:"5px",outline:"none",paddingLeft:"10px",fontFamily:"Roboto,Arial,sans-serif"},label:{textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"35px",top:"-6px",left:"0",right:"0",marginLeft:"auto",marginRight:"auto",fontFamily:"Roboto,Arial,sans-serif"},label2:{left:"10px",textAlign:"center",fontSize:"12px",background:"#fff",position:"absolute",textTransform:"uppercase",color:"#3c4043",width:"32px",top:"-6px",fontFamily:"Roboto,Arial,sans-serif"},single:{flexGrow:"1",margin:"0px 4.4px"}}}),xe=T.r+", "+T.g+", "+T.b,De=Math.round(I.h)+"\xB0, "+Math.round(I.s*100)+"%, "+Math.round(I.l*100)+"%",vt=Math.round(ae.h)+"\xB0, "+Math.round(ae.s*100)+"%, "+Math.round(ae.v*100)+"%";return b.a.createElement("div",{style:be.wrap,className:"flexbox-fix"},b.a.createElement("div",{style:be.fields},b.a.createElement("div",{style:be.double},b.a.createElement(Ge,{style:{input:be.input,label:be.label},label:"hex",value:re,onChange:fe})),b.a.createElement("div",{style:be.column},b.a.createElement("div",{style:be.single},b.a.createElement(Ge,{style:{input:be.input2,label:be.label2},label:"rgb",value:xe,onChange:fe})),b.a.createElement("div",{style:be.single},b.a.createElement(Ge,{style:{input:be.input2,label:be.label2},label:"hsv",value:vt,onChange:fe})),b.a.createElement("div",{style:be.single},b.a.createElement(Ge,{style:{input:be.input2,label:be.label2},label:"hsl",value:De,onChange:fe})))))},ec=ql,Xo=function(g){var z=g.width,T=g.onChange,I=g.rgb,re=g.hsl,ae=g.hsv,fe=g.hex,be=g.header,xe=g.styles,De=xe===void 0?{}:xe,vt=g.className,tt=vt===void 0?"":vt,ft=j()(Object(yt.a)({default:{picker:{width:z,background:"#fff",border:"1px solid #dfe1e5",boxSizing:"initial",display:"flex",flexWrap:"wrap",borderRadius:"8px 8px 0px 0px"},head:{height:"57px",width:"100%",paddingTop:"16px",paddingBottom:"16px",paddingLeft:"16px",fontSize:"20px",boxSizing:"border-box",fontFamily:"Roboto-Regular,HelveticaNeue,Arial,sans-serif"},saturation:{width:"70%",padding:"0px",position:"relative",overflow:"hidden"},swatch:{width:"30%",height:"228px",padding:"0px",background:"rgba("+I.r+", "+I.g+", "+I.b+", 1)",position:"relative",overflow:"hidden"},body:{margin:"auto",width:"95%"},controls:{display:"flex",boxSizing:"border-box",height:"52px",paddingTop:"22px"},color:{width:"32px"},hue:{height:"8px",position:"relative",margin:"0px 16px 0px 16px",width:"100%"},Hue:{radius:"2px"}}},De));return b.a.createElement("div",{style:ft.picker,className:"google-picker "+tt},b.a.createElement("div",{style:ft.head},be),b.a.createElement("div",{style:ft.swatch}),b.a.createElement("div",{style:ft.saturation},b.a.createElement(ve,{hsl:re,hsv:ae,pointer:Xl,onChange:T})),b.a.createElement("div",{style:ft.body},b.a.createElement("div",{style:ft.controls,className:"flexbox-fix"},b.a.createElement("div",{style:ft.hue},b.a.createElement(Pt,{style:ft.Hue,hsl:re,radius:"4px",pointer:Zo,onChange:T}))),b.a.createElement(ec,{rgb:I,hsl:re,hex:fe,hsv:ae,onChange:T})))};Xo.propTypes={width:ge.a.oneOfType([ge.a.string,ge.a.number]),styles:ge.a.object,header:ge.a.string},Xo.defaultProps={width:652,styles:{},header:"Color picker"};var tc=ln(Xo)},"2MUX":function($,W,f){var F=f("h875");function b(x,j){if(typeof j!="function"&&j!==null)throw new TypeError("Super expression must either be null or a function");x.prototype=Object.create(j&&j.prototype,{constructor:{value:x,writable:!0,configurable:!0}}),j&&F(x,j)}$.exports=b},"2Zs6":function($,W,f){"use strict";var F=f("rePB"),b=f("GNNt"),x=f("wEI+"),j=f("q1tI"),S=f.n(j),B=f("TSYQ"),R=f.n(B),C=f("75XV"),p=f.n(C),V=function(_,O){var D,se=_.border,A=se===void 0?!1:se,Y=_.children,L=Object(j.useContext)(x.b.ConfigContext),K=L.getPrefixCls,y=K("pro-field-index-column");return S.a.createElement("div",{ref:O,className:R()(y,(D={},Object(F.a)(D,"".concat(y,"-border"),A),Object(F.a)(D,"top-three",Y>3),D))},Y)};W.a=S.a.forwardRef(V)},"3/ER":function($,W,f){"use strict";(function(F){var b=f("Ju5/"),x=typeof exports=="object"&&exports&&!exports.nodeType&&exports,j=x&&typeof F=="object"&&F&&!F.nodeType&&F,S=j&&j.exports===x,B=S?b.a.Buffer:void 0,R=B?B.allocUnsafe:void 0;function C(p,V){if(V)return p.slice();var w=p.length,_=R?R(w):new p.constructor(w);return p.copy(_),_}W.a=C}).call(this,f("Vg/k")($))},"3Hq1":function($,W,f){"use strict";function F(b){return b===void 0}W.a=F},"3WF5":function($,W,f){var F=f("eUgh"),b=f("ut/Y"),x=f("l9OW"),j=f("Z0cm");function S(B,R){var C=j(B)?F:x;return C(B,b(R,3))}$.exports=S},"3cmB":function($,W,f){"use strict";var F=f("Y7yP"),b=f("Ju5/"),x=Object(F.a)(b.a,"Map");W.a=x},"4/ic":function($,W,f){var F=f("ZWtO");function b(x){return function(j){return F(j,x)}}$.exports=b},"44Ds":function($,W,f){var F=f("e4Nc"),b="Expected a function";function x(j,S){if(typeof j!="function"||S!=null&&typeof S!="function")throw new TypeError(b);var B=function(){var R=arguments,C=S?S.apply(this,R):R[0],p=B.cache;if(p.has(C))return p.get(C);var V=j.apply(this,R);return B.cache=p.set(C,V)||p,V};return B.cache=new(x.Cache||F),B}x.Cache=F,$.exports=x},"4qC0":function($,W,f){var F=f("NykK"),b=f("Z0cm"),x=f("ExA7"),j="[object String]";function S(B){return typeof B=="string"||!b(B)&&x(B)&&F(B)==j}$.exports=S},"4sDh":function($,W,f){var F=f("4uTw"),b=f("03A+"),x=f("Z0cm"),j=f("wJg7"),S=f("shjB"),B=f("9Nap");function R(C,p,V){p=F(p,C);for(var w=-1,_=p.length,O=!1;++w<_;){var D=B(p[w]);if(!(O=C!=null&&V(C,D)))break;C=C[D]}return O||++w!=_?O:(_=C==null?0:C.length,!!_&&S(_)&&j(D,_)&&(x(C)||b(C)))}$.exports=R},"4uTw":function($,W,f){var F=f("Z0cm"),b=f("9ggG"),x=f("GNiM"),j=f("dt0z");function S(B,R){return F(B)?B:b(B,R)?[B]:x(j(B))}$.exports=S},"5NDa":function($,W,f){"use strict";var F=f("EFp3"),b=f.n(F),x=f("OnYD"),j=f.n(x),S=f("+L6B")},"5Tg0":function($,W,f){(function(F){var b=f("Kz5y"),x=W&&!W.nodeType&&W,j=x&&typeof F=="object"&&F&&!F.nodeType&&F,S=j&&j.exports===x,B=S?b.Buffer:void 0,R=B?B.allocUnsafe:void 0;function C(p,V){if(V)return p.slice();var w=p.length,_=R?R(w):new p.constructor(w);return p.copy(_),_}F.exports=C}).call(this,f("hOG+")($))},"5WsY":function($,W,f){"use strict";var F=f("vJtL"),b=f("Js68");function x(j){return j!=null&&Object(b.a)(j.length)&&!Object(F.a)(j)}W.a=x},"5h2M":function($,W){function f(){if(typeof Reflect=="undefined"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Date.prototype.toString.call(Reflect.construct(Date,[],function(){})),!0}catch(F){return!1}}$.exports=f},"6LIB":function($,W,f){"use strict";var F=f("8M4i"),b=f("UudT"),x=f("EUcb"),j="[object Object]",S=Function.prototype,B=Object.prototype,R=S.toString,C=B.hasOwnProperty,p=R.call(Object);function V(w){if(!Object(x.a)(w)||Object(F.a)(w)!=j)return!1;var _=Object(b.a)(w);if(_===null)return!0;var O=C.call(_,"constructor")&&_.constructor;return typeof O=="function"&&O instanceof O&&R.call(O)==p}W.a=V},"75XV":function($,W,f){},"7Ix3":function($,W){function f(F){var b=[];if(F!=null)for(var x in Object(F))b.push(x);return b}$.exports=f},"7Kak":function($,W,f){"use strict";var F=f("EFp3"),b=f.n(F),x=f("KPFz"),j=f.n(x)},"7gMY":function($,W,f){"use strict";function F(_,O){for(var D=-1,se=Array(_);++D<_;)se[D]=O(D);return se}var b=F,x=f("9f76"),j=f("/1FC"),S=f("WOAq"),B=f("cSlR"),R=f("oYcn"),C=Object.prototype,p=C.hasOwnProperty;function V(_,O){var D=Object(j.a)(_),se=!D&&Object(x.a)(_),A=!D&&!se&&Object(S.a)(_),Y=!D&&!se&&!A&&Object(R.a)(_),L=D||se||A||Y,K=L?b(_.length,String):[],y=K.length;for(var ne in _)(O||p.call(_,ne))&&!(L&&(ne=="length"||A&&(ne=="offset"||ne=="parent")||Y&&(ne=="buffer"||ne=="byteLength"||ne=="byteOffset")||Object(B.a)(ne,y)))&&K.push(ne);return K}var w=W.a=V},"8M4i":function($,W,f){"use strict";var F=f("ylTp"),b=Object.prototype,x=b.hasOwnProperty,j=b.toString,S=F.a?F.a.toStringTag:void 0;function B(Y){var L=x.call(Y,S),K=Y[S];try{Y[S]=void 0;var y=!0}catch(Ae){}var ne=j.call(Y);return y&&(L?Y[S]=K:delete Y[S]),ne}var R=B,C=Object.prototype,p=C.toString;function V(Y){return p.call(Y)}var w=V,_="[object Null]",O="[object Undefined]",D=F.a?F.a.toStringTag:void 0;function se(Y){return Y==null?Y===void 0?O:_:D&&D in Object(Y)?R(Y):w(Y)}var A=W.a=se},"8v5O":function($,W,f){var F=f("GXtI");function b(x,j){for(;!Object.prototype.hasOwnProperty.call(x,j)&&(x=F(x),x!==null););return x}$.exports=b},"9F0J":function($,W,f){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var F=Object.assign||function(R){for(var C=1;C<arguments.length;C++){var p=arguments[C];for(var V in p)Object.prototype.hasOwnProperty.call(p,V)&&(R[V]=p[V])}return R},b=f("q1tI"),x=j(b);function j(R){return R&&R.__esModule?R:{default:R}}function S(R,C){var p={};for(var V in R)C.indexOf(V)>=0||!Object.prototype.hasOwnProperty.call(R,V)||(p[V]=R[V]);return p}var B=24;W.default=function(R){var C=R.fill,p=C===void 0?"currentColor":C,V=R.width,w=V===void 0?B:V,_=R.height,O=_===void 0?B:_,D=R.style,se=D===void 0?{}:D,A=S(R,["fill","width","height","style"]);return x.default.createElement("svg",F({viewBox:"0 0 "+B+" "+B,style:F({fill:p,width:w,height:O},se)},A),x.default.createElement("path",{d:"M12,18.17L8.83,15L7.42,16.41L12,21L16.59,16.41L15.17,15M12,5.83L15.17,9L16.58,7.59L12,3L7.41,7.59L8.83,9L12,5.83Z"}))}},"9Nap":function($,W,f){var F=f("/9aa"),b=1/0;function x(j){if(typeof j=="string"||F(j))return j;var S=j+"";return S=="0"&&1/j==-b?"-0":S}$.exports=x},"9f76":function($,W,f){"use strict";var F=f("8M4i"),b=f("EUcb"),x="[object Arguments]";function j(w){return Object(b.a)(w)&&Object(F.a)(w)==x}var S=j,B=Object.prototype,R=B.hasOwnProperty,C=B.propertyIsEnumerable,p=S(function(){return arguments}())?S:function(w){return Object(b.a)(w)&&R.call(w,"callee")&&!C.call(w,"callee")},V=W.a=p},"9ggG":function($,W,f){var F=f("Z0cm"),b=f("/9aa"),x=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,j=/^\w*$/;function S(B,R){if(F(B))return!1;var C=typeof B;return C=="number"||C=="symbol"||C=="boolean"||B==null||b(B)?!0:j.test(B)||!x.test(B)||R!=null&&B in Object(R)}$.exports=S},AEIT:function($,W,f){var F=f("cxFA"),b=f("x49D"),x=f("c29t"),j=f("GXtI"),S=f("2MUX"),B=f("CS2o"),R=f("xbqb"),C=f("Lw8S"),p=f("bfL6");/*!
 * @license Copyright (c) 2003-2021, CKSource - Frederico Knabben. All rights reserved.
 * For licensing, see LICENSE.md.
 */(function(V,w){$.exports=w(f("q1tI"))})(window,function(V){return function(w){var _={};function O(D){if(_[D])return _[D].exports;var se=_[D]={i:D,l:!1,exports:{}};return w[D].call(se.exports,se,se.exports,O),se.l=!0,se.exports}return O.m=w,O.c=_,O.d=function(D,se,A){O.o(D,se)||Object.defineProperty(D,se,{enumerable:!0,get:A})},O.r=function(D){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(D,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(D,"__esModule",{value:!0})},O.t=function(D,se){if(1&se&&(D=O(D)),8&se||4&se&&typeof D=="object"&&D&&D.__esModule)return D;var A=Object.create(null);if(O.r(A),Object.defineProperty(A,"default",{enumerable:!0,value:D}),2&se&&typeof D!="string")for(var Y in D)O.d(A,Y,function(L){return D[L]}.bind(null,Y));return A},O.n=function(D){var se=D&&D.__esModule?function(){return D.default}:function(){return D};return O.d(se,"a",se),se},O.o=function(D,se){return Object.prototype.hasOwnProperty.call(D,se)},O.p="",O(O.s=12)}([function(w,_,O){"use strict";var D=O(4),se=typeof self=="object"&&self&&self.Object===Object&&self,A=D.a||se||Function("return this")();_.a=A},function(w,_,O){w.exports=O(9)()},function(w,_,O){"use strict";(function(D){var se=O(4),A=W&&!W.nodeType&&W,Y=A&&typeof D=="object"&&D&&!D.nodeType&&D,L=Y&&Y.exports===A&&se.a.process,K=function(){try{var y=Y&&Y.require&&Y.require("util").types;return y||L&&L.binding&&L.binding("util")}catch(ne){}}();_.a=K}).call(this,O(6)(w))},function(w,_){w.exports=V},function(w,_,O){"use strict";(function(D){var se=typeof D=="object"&&D&&D.Object===Object&&D;_.a=se}).call(this,O(11))},function(w,_,O){"use strict";(function(D){var se=O(0),A=O(7),Y=W&&!W.nodeType&&W,L=Y&&typeof D=="object"&&D&&!D.nodeType&&D,K=L&&L.exports===Y?se.a.Buffer:void 0,y=(K?K.isBuffer:void 0)||A.a;_.a=y}).call(this,O(6)(w))},function(w,_){w.exports=function(O){if(!O.webpackPolyfill){var D=Object.create(O);D.children||(D.children=[]),Object.defineProperty(D,"loaded",{enumerable:!0,get:function(){return D.l}}),Object.defineProperty(D,"id",{enumerable:!0,get:function(){return D.i}}),Object.defineProperty(D,"exports",{enumerable:!0}),D.webpackPolyfill=1}return D}},function(w,_,O){"use strict";_.a=function(){return!1}},function(w,_,O){"use strict";(function(D){var se=O(0),A=W&&!W.nodeType&&W,Y=A&&typeof D=="object"&&D&&!D.nodeType&&D,L=Y&&Y.exports===A?se.a.Buffer:void 0,K=L?L.allocUnsafe:void 0;_.a=function(y,ne){if(ne)return y.slice();var Ae=y.length,me=K?K(Ae):new y.constructor(Ae);return y.copy(me),me}}).call(this,O(6)(w))},function(w,_,O){"use strict";var D=O(10);function se(){}function A(){}A.resetWarningCache=se,w.exports=function(){function Y(y,ne,Ae,me,de,Ye){if(Ye!==D){var rt=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw rt.name="Invariant Violation",rt}}function L(){return Y}Y.isRequired=Y;var K={array:Y,bool:Y,func:Y,number:Y,object:Y,string:Y,symbol:Y,any:Y,arrayOf:L,element:Y,elementType:Y,instanceOf:L,node:Y,objectOf:L,oneOf:L,oneOfType:L,shape:L,exact:L,checkPropTypes:A,resetWarningCache:se};return K.PropTypes=K,K}},function(w,_,O){"use strict";w.exports="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED"},function(w,_){var O;O=function(){return this}();try{O=O||new Function("return this")()}catch(D){typeof window=="object"&&(O=window)}w.exports=O},function(w,_,O){"use strict";O.r(_),O.d(_,"CKEditor",function(){return fi}),O.d(_,"CKEditorContext",function(){return Tr});var D=O(3),se=O.n(D),A=O(1),Y=O.n(A),L=function(N){var q=typeof N;return N!=null&&(q=="object"||q=="function")},K=O(0),y=function(){return K.a.Date.now()},ne=/\s/,Ae=function(N){for(var q=N.length;q--&&ne.test(N.charAt(q)););return q},me=/^\s+/,de=function(N){return N&&N.slice(0,Ae(N)+1).replace(me,"")},Ye=K.a.Symbol,rt=Object.prototype,Tt=rt.hasOwnProperty,$e=rt.toString,et=Ye?Ye.toStringTag:void 0,Rt=function(N){var q=Tt.call(N,et),ie=N[et];try{N[et]=void 0;var ee=!0}catch(Je){}var Se=$e.call(N);return ee&&(q?N[et]=ie:delete N[et]),Se},Vt=Object.prototype.toString,Ge=function(N){return Vt.call(N)},Me=Ye?Ye.toStringTag:void 0,Qe=function(N){return N==null?N===void 0?"[object Undefined]":"[object Null]":Me&&Me in Object(N)?Rt(N):Ge(N)},Ie=function(N){return N!=null&&typeof N=="object"},Ot=function(N){return typeof N=="symbol"||Ie(N)&&Qe(N)=="[object Symbol]"},ot=/^[-+]0x[0-9a-f]+$/i,ht=/^0b[01]+$/i,Pt=/^0o[0-7]+$/i,it=parseInt,ge=function(N){if(typeof N=="number")return N;if(Ot(N))return NaN;if(L(N)){var q=typeof N.valueOf=="function"?N.valueOf():N;N=L(q)?q+"":q}if(typeof N!="string")return N===0?N:+N;N=de(N);var ie=ht.test(N);return ie||Pt.test(N)?it(N.slice(2),ie?2:8):ot.test(N)?NaN:+N},yt=Math.max,It=Math.min,dn=function(N,q,ie){var ee,Se,Je,Ue,xt,bn,On=0,hi=!1,Cr=!1,ai=!0;if(typeof N!="function")throw new TypeError("Expected a function");function vi(kr){var oi=ee,Xi=Se;return ee=Se=void 0,On=kr,Ue=N.apply(Xi,oi)}function da(kr){return On=kr,xt=setTimeout(Hr,q),hi?vi(kr):Ue}function Br(kr){var oi=kr-bn;return bn===void 0||oi>=q||oi<0||Cr&&kr-On>=Je}function Hr(){var kr=y();if(Br(kr))return Ka(kr);xt=setTimeout(Hr,function(oi){var Xi=q-(oi-bn);return Cr?It(Xi,Je-(oi-On)):Xi}(kr))}function Ka(kr){return xt=void 0,ai&&ee?vi(kr):(ee=Se=void 0,Ue)}function xa(){var kr=y(),oi=Br(kr);if(ee=arguments,Se=this,bn=kr,oi){if(xt===void 0)return da(bn);if(Cr)return clearTimeout(xt),xt=setTimeout(Hr,q),vi(bn)}return xt===void 0&&(xt=setTimeout(Hr,q)),Ue}return q=ge(q)||0,L(ie)&&(hi=!!ie.leading,Je=(Cr="maxWait"in ie)?yt(ge(ie.maxWait)||0,q):Je,ai="trailing"in ie?!!ie.trailing:ai),xa.cancel=function(){xt!==void 0&&clearTimeout(xt),On=0,ee=bn=Se=xt=void 0},xa.flush=function(){return xt===void 0?Ue:Ka(y())},xa},wn=function(N,q,ie){var ee=!0,Se=!0;if(typeof N!="function")throw new TypeError("Expected a function");return L(ie)&&(ee="leading"in ie?!!ie.leading:ee,Se="trailing"in ie?!!ie.trailing:Se),dn(N,q,{leading:ee,maxWait:q,trailing:Se})},Kt=function(){this.__data__=[],this.size=0},qe=function(N,q){return N===q||N!=N&&q!=q},Et=function(N,q){for(var ie=N.length;ie--;)if(qe(N[ie][0],q))return ie;return-1},$t=Array.prototype.splice,J=function(N){var q=this.__data__,ie=Et(q,N);return!(ie<0)&&(ie==q.length-1?q.pop():$t.call(q,ie,1),--this.size,!0)},te=function(N){var q=this.__data__,ie=Et(q,N);return ie<0?void 0:q[ie][1]},Q=function(N){return Et(this.__data__,N)>-1},Oe=function(N,q){var ie=this.__data__,ee=Et(ie,N);return ee<0?(++this.size,ie.push([N,q])):ie[ee][1]=q,this};function we(he){var N=-1,q=he==null?0:he.length;for(this.clear();++N<q;){var ie=he[N];this.set(ie[0],ie[1])}}we.prototype.clear=Kt,we.prototype.delete=J,we.prototype.get=te,we.prototype.has=Q,we.prototype.set=Oe;var Fe=we,ve=function(){this.__data__=new Fe,this.size=0},oe=function(N){var q=this.__data__,ie=q.delete(N);return this.size=q.size,ie},Pe=function(N){return this.__data__.get(N)},Le=function(N){return this.__data__.has(N)},Ve,We=function(N){if(!L(N))return!1;var q=Qe(N);return q=="[object Function]"||q=="[object GeneratorFunction]"||q=="[object AsyncFunction]"||q=="[object Proxy]"},st=K.a["__core-js_shared__"],St=(Ve=/[^.]+$/.exec(st&&st.keys&&st.keys.IE_PROTO||""))?"Symbol(src)_1."+Ve:"",dt=function(N){return!!St&&St in N},kt=Function.prototype.toString,ct=function(N){if(N!=null){try{return kt.call(N)}catch(q){}try{return N+""}catch(q){}}return""},Dt=/^\[object .+?Constructor\]$/,Gt=Function.prototype,Ct=Object.prototype,zt=Gt.toString,Xt=Ct.hasOwnProperty,Jt=RegExp("^"+zt.call(Xt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Pn=function(N){return!(!L(N)||dt(N))&&(We(N)?Jt:Dt).test(ct(N))},fn=function(N,q){return N==null?void 0:N[q]},yn=function(N,q){var ie=fn(N,q);return Pn(ie)?ie:void 0},gn=yn(K.a,"Map"),zn=yn(Object,"create"),Ln=function(){this.__data__=zn?zn(null):{},this.size=0},Mn=function(N){var q=this.has(N)&&delete this.__data__[N];return this.size-=q?1:0,q},Hn=Object.prototype.hasOwnProperty,Bn=function(N){var q=this.__data__;if(zn){var ie=q[N];return ie==="__lodash_hash_undefined__"?void 0:ie}return Hn.call(q,N)?q[N]:void 0},Yn=Object.prototype.hasOwnProperty,nr=function(N){var q=this.__data__;return zn?q[N]!==void 0:Yn.call(q,N)},An=function(N,q){var ie=this.__data__;return this.size+=this.has(N)?0:1,ie[N]=zn&&q===void 0?"__lodash_hash_undefined__":q,this};function pn(he){var N=-1,q=he==null?0:he.length;for(this.clear();++N<q;){var ie=he[N];this.set(ie[0],ie[1])}}pn.prototype.clear=Ln,pn.prototype.delete=Mn,pn.prototype.get=Bn,pn.prototype.has=nr,pn.prototype.set=An;var Ce=pn,_e=function(){this.size=0,this.__data__={hash:new Ce,map:new(gn||Fe),string:new Ce}},ze=function(N){var q=typeof N;return q=="string"||q=="number"||q=="symbol"||q=="boolean"?N!=="__proto__":N===null},At=function(N,q){var ie=N.__data__;return ze(q)?ie[typeof q=="string"?"string":"hash"]:ie.map},Lt=function(N){var q=At(this,N).delete(N);return this.size-=q?1:0,q},qt=function(N){return At(this,N).get(N)},_t=function(N){return At(this,N).has(N)},sn=function(N,q){var ie=At(this,N),ee=ie.size;return ie.set(N,q),this.size+=ie.size==ee?0:1,this};function Nt(he){var N=-1,q=he==null?0:he.length;for(this.clear();++N<q;){var ie=he[N];this.set(ie[0],ie[1])}}Nt.prototype.clear=_e,Nt.prototype.delete=Lt,Nt.prototype.get=qt,Nt.prototype.has=_t,Nt.prototype.set=sn;var kn=Nt,Yt=function(N,q){var ie=this.__data__;if(ie instanceof Fe){var ee=ie.__data__;if(!gn||ee.length<199)return ee.push([N,q]),this.size=++ie.size,this;ie=this.__data__=new kn(ee)}return ie.set(N,q),this.size=ie.size,this};function _n(he){var N=this.__data__=new Fe(he);this.size=N.size}_n.prototype.clear=ve,_n.prototype.delete=oe,_n.prototype.get=Pe,_n.prototype.has=Le,_n.prototype.set=Yt;var ln=_n,Zn=function(N,q){for(var ie=-1,ee=N==null?0:N.length;++ie<ee&&q(N[ie],ie,N)!==!1;);return N},lr=function(){try{var he=yn(Object,"defineProperty");return he({},"",{}),he}catch(N){}}(),pr=function(N,q,ie){q=="__proto__"&&lr?lr(N,q,{configurable:!0,enumerable:!0,value:ie,writable:!0}):N[q]=ie},Ur=Object.prototype.hasOwnProperty,Xr=function(N,q,ie){var ee=N[q];Ur.call(N,q)&&qe(ee,ie)&&(ie!==void 0||q in N)||pr(N,q,ie)},xn=function(N,q,ie,ee){var Se=!ie;ie||(ie={});for(var Je=-1,Ue=q.length;++Je<Ue;){var xt=q[Je],bn=ee?ee(ie[xt],N[xt],xt,ie,N):void 0;bn===void 0&&(bn=N[xt]),Se?pr(ie,xt,bn):Xr(ie,xt,bn)}return ie},ri=function(N,q){for(var ie=-1,ee=Array(N);++ie<N;)ee[ie]=q(ie);return ee},qr=function(N){return Ie(N)&&Qe(N)=="[object Arguments]"},rn=Object.prototype,Mt=rn.hasOwnProperty,cn=rn.propertyIsEnumerable,er=qr(function(){return arguments}())?qr:function(he){return Ie(he)&&Mt.call(he,"callee")&&!cn.call(he,"callee")},$n=Array.isArray,wr=O(5),nn=/^(?:0|[1-9]\d*)$/,ar=function(N,q){var ie=typeof N;return!!(q=q==null?9007199254740991:q)&&(ie=="number"||ie!="symbol"&&nn.test(N))&&N>-1&&N%1==0&&N<q},Pr=function(N){return typeof N=="number"&&N>-1&&N%1==0&&N<=9007199254740991},hn={};hn["[object Float32Array]"]=hn["[object Float64Array]"]=hn["[object Int8Array]"]=hn["[object Int16Array]"]=hn["[object Int32Array]"]=hn["[object Uint8Array]"]=hn["[object Uint8ClampedArray]"]=hn["[object Uint16Array]"]=hn["[object Uint32Array]"]=!0,hn["[object Arguments]"]=hn["[object Array]"]=hn["[object ArrayBuffer]"]=hn["[object Boolean]"]=hn["[object DataView]"]=hn["[object Date]"]=hn["[object Error]"]=hn["[object Function]"]=hn["[object Map]"]=hn["[object Number]"]=hn["[object Object]"]=hn["[object RegExp]"]=hn["[object Set]"]=hn["[object String]"]=hn["[object WeakMap]"]=!1;var _r=function(N){return Ie(N)&&Pr(N.length)&&!!hn[Qe(N)]},tr=function(N){return function(q){return N(q)}},Vn=O(2),xr=Vn.a&&Vn.a.isTypedArray,jr=xr?tr(xr):_r,Er=Object.prototype.hasOwnProperty,Rr=function(N,q){var ie=$n(N),ee=!ie&&er(N),Se=!ie&&!ee&&Object(wr.a)(N),Je=!ie&&!ee&&!Se&&jr(N),Ue=ie||ee||Se||Je,xt=Ue?ri(N.length,String):[],bn=xt.length;for(var On in N)!q&&!Er.call(N,On)||Ue&&(On=="length"||Se&&(On=="offset"||On=="parent")||Je&&(On=="buffer"||On=="byteLength"||On=="byteOffset")||ar(On,bn))||xt.push(On);return xt},ci=Object.prototype,wi=function(N){var q=N&&N.constructor;return N===(typeof q=="function"&&q.prototype||ci)},_i=function(N,q){return function(ie){return N(q(ie))}},Ii=_i(Object.keys,Object),za=Object.prototype.hasOwnProperty,Ua=function(N){if(!wi(N))return Ii(N);var q=[];for(var ie in Object(N))za.call(N,ie)&&ie!="constructor"&&q.push(ie);return q},ya=function(N){return N!=null&&Pr(N.length)&&!We(N)},ji=function(N){return ya(N)?Rr(N):Ua(N)},xi=function(N,q){return N&&xn(q,ji(q),N)},na=function(N){var q=[];if(N!=null)for(var ie in Object(N))q.push(ie);return q},ra=Object.prototype.hasOwnProperty,ia=function(N){if(!L(N))return na(N);var q=wi(N),ie=[];for(var ee in N)(ee!="constructor"||!q&&ra.call(N,ee))&&ie.push(ee);return ie},Ui=function(N){return ya(N)?Rr(N,!0):ia(N)},aa=function(N,q){return N&&xn(q,Ui(q),N)},ka=O(8),Wi=function(N,q){var ie=-1,ee=N.length;for(q||(q=Array(ee));++ie<ee;)q[ie]=N[ie];return q},Hi=function(N,q){for(var ie=-1,ee=N==null?0:N.length,Se=0,Je=[];++ie<ee;){var Ue=N[ie];q(Ue,ie,N)&&(Je[Se++]=Ue)}return Je},oa=function(){return[]},Ki=Object.prototype.propertyIsEnumerable,Gi=Object.getOwnPropertySymbols,Ei=Gi?function(he){return he==null?[]:(he=Object(he),Hi(Gi(he),function(N){return Ki.call(he,N)}))}:oa,sa=function(N,q){return xn(N,Ei(N),q)},Ri=function(N,q){for(var ie=-1,ee=q.length,Se=N.length;++ie<ee;)N[Se+ie]=q[ie];return N},Yi=_i(Object.getPrototypeOf,Object),$i=Object.getOwnPropertySymbols?function(he){for(var N=[];he;)Ri(N,Ei(he)),he=Yi(he);return N}:oa,jt=function(N,q){return xn(N,$i(N),q)},X=function(N,q,ie){var ee=q(N);return $n(N)?ee:Ri(ee,ie(N))},pe=function(N){return X(N,ji,Ei)},ue=function(N){return X(N,Ui,$i)},Te=yn(K.a,"DataView"),Ke=yn(K.a,"Promise"),lt=yn(K.a,"Set"),Ee=yn(K.a,"WeakMap"),je=ct(Te),at=ct(gn),Be=ct(Ke),wt=ct(lt),mt=ct(Ee),Ft=Qe;(Te&&Ft(new Te(new ArrayBuffer(1)))!="[object DataView]"||gn&&Ft(new gn)!="[object Map]"||Ke&&Ft(Ke.resolve())!="[object Promise]"||lt&&Ft(new lt)!="[object Set]"||Ee&&Ft(new Ee)!="[object WeakMap]")&&(Ft=function(N){var q=Qe(N),ie=q=="[object Object]"?N.constructor:void 0,ee=ie?ct(ie):"";if(ee)switch(ee){case je:return"[object DataView]";case at:return"[object Map]";case Be:return"[object Promise]";case wt:return"[object Set]";case mt:return"[object WeakMap]"}return q});var en=Ft,Ut=Object.prototype.hasOwnProperty,un=function(N){var q=N.length,ie=new N.constructor(q);return q&&typeof N[0]=="string"&&Ut.call(N,"index")&&(ie.index=N.index,ie.input=N.input),ie},Rn=K.a.Uint8Array,Dn=function(N){var q=new N.constructor(N.byteLength);return new Rn(q).set(new Rn(N)),q},Sn=function(N,q){var ie=q?Dn(N.buffer):N.buffer;return new N.constructor(ie,N.byteOffset,N.byteLength)},Nn=/\w*$/,Kn=function(N){var q=new N.constructor(N.source,Nn.exec(N));return q.lastIndex=N.lastIndex,q},En=Ye?Ye.prototype:void 0,In=En?En.valueOf:void 0,Fr=function(N){return In?Object(In.call(N)):{}},gr=function(N,q){var ie=q?Dn(N.buffer):N.buffer;return new N.constructor(ie,N.byteOffset,N.length)},Dr=function(N,q,ie){var ee=N.constructor;switch(q){case"[object ArrayBuffer]":return Dn(N);case"[object Boolean]":case"[object Date]":return new ee(+N);case"[object DataView]":return Sn(N,ie);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return gr(N,ie);case"[object Map]":return new ee;case"[object Number]":case"[object String]":return new ee(N);case"[object RegExp]":return Kn(N);case"[object Set]":return new ee;case"[object Symbol]":return Fr(N)}},Xn=Object.create,or=function(){function he(){}return function(N){if(!L(N))return{};if(Xn)return Xn(N);he.prototype=N;var q=new he;return he.prototype=void 0,q}}(),Ar=function(N){return typeof N.constructor!="function"||wi(N)?{}:or(Yi(N))},Wr=function(N){return Ie(N)&&en(N)=="[object Map]"},mn=Vn.a&&Vn.a.isMap,mr=mn?tr(mn):Wr,ui=function(N){return Ie(N)&&en(N)=="[object Set]"},br=Vn.a&&Vn.a.isSet,di=br?tr(br):ui,Un={};Un["[object Arguments]"]=Un["[object Array]"]=Un["[object ArrayBuffer]"]=Un["[object DataView]"]=Un["[object Boolean]"]=Un["[object Date]"]=Un["[object Float32Array]"]=Un["[object Float64Array]"]=Un["[object Int8Array]"]=Un["[object Int16Array]"]=Un["[object Int32Array]"]=Un["[object Map]"]=Un["[object Number]"]=Un["[object Object]"]=Un["[object RegExp]"]=Un["[object Set]"]=Un["[object String]"]=Un["[object Symbol]"]=Un["[object Uint8Array]"]=Un["[object Uint8ClampedArray]"]=Un["[object Uint16Array]"]=Un["[object Uint32Array]"]=!0,Un["[object Error]"]=Un["[object Function]"]=Un["[object WeakMap]"]=!1;var Ji=function he(N,q,ie,ee,Se,Je){var Ue,xt=1&q,bn=2&q,On=4&q;if(ie&&(Ue=Se?ie(N,ee,Se,Je):ie(N)),Ue!==void 0)return Ue;if(!L(N))return N;var hi=$n(N);if(hi){if(Ue=un(N),!xt)return Wi(N,Ue)}else{var Cr=en(N),ai=Cr=="[object Function]"||Cr=="[object GeneratorFunction]";if(Object(wr.a)(N))return Object(ka.a)(N,xt);if(Cr=="[object Object]"||Cr=="[object Arguments]"||ai&&!Se){if(Ue=bn||ai?{}:Ar(N),!xt)return bn?jt(N,aa(Ue,N)):sa(N,xi(Ue,N))}else{if(!Un[Cr])return Se?N:{};Ue=Dr(N,Cr,xt)}}Je||(Je=new ln);var vi=Je.get(N);if(vi)return vi;Je.set(N,Ue),di(N)?N.forEach(function(Br){Ue.add(he(Br,q,ie,Br,N,Je))}):mr(N)&&N.forEach(function(Br,Hr){Ue.set(Hr,he(Br,q,ie,Hr,N,Je))});var da=hi?void 0:(On?bn?ue:pe:bn?Ui:ji)(N);return Zn(da||N,function(Br,Hr){da&&(Br=N[Hr=Br]),Xr(Ue,Hr,he(Br,q,ie,Hr,N,Je))}),Ue},wa=function(N,q){return Ji(N,5,q=typeof q=="function"?q:void 0)},ei=Function.prototype,yr=Object.prototype,Yr=ei.toString,Qi=yr.hasOwnProperty,le=Yr.call(Object),ii=function(N){if(!Ie(N)||Qe(N)!="[object Object]")return!1;var q=Yi(N);if(q===null)return!0;var ie=Qi.call(q,"constructor")&&q.constructor;return typeof ie=="function"&&ie instanceof ie&&Yr.call(ie)==le},la=function(N){return Ie(N)&&N.nodeType===1&&!ii(N)};function Gn(he){for(var N=arguments.length>1&&arguments[1]!==void 0?arguments[1]:new Set,q=[he],ie=new Set;q.length>0;){var ee=q.shift();if(!(ie.has(ee)||Wa(ee)||N.has(ee)))if(ie.add(ee),ee[Symbol.iterator])try{var Se=p(ee),Je;try{for(Se.s();!(Je=Se.n()).done;){var Ue=Je.value;q.push(Ue)}}catch(bn){Se.e(bn)}finally{Se.f()}}catch(bn){}else for(var xt in ee)xt!=="defaultValue"&&q.push(ee[xt])}return ie}function Wa(he){var N=Object.prototype.toString.call(he),q=typeof he;return q==="number"||q==="boolean"||q==="string"||q==="symbol"||q==="function"||N==="[object Date]"||N==="[object RegExp]"||N==="[object Module]"||he==null||he instanceof EventTarget||he instanceof Event}function ca(he,N){var q=arguments.length>2&&arguments[2]!==void 0?arguments[2]:new Set;if(he===N&&typeof(ie=he)=="object"&&ie!==null)return!0;var ie,ee=Gn(he,q),Se=Gn(N,q),Je=p(ee),Ue;try{for(Je.s();!(Ue=Je.n()).done;){var xt=Ue.value;if(Se.has(xt))return!0}}catch(bn){Je.e(bn)}finally{Je.f()}return!1}var _a=function(){function he(N){var q=this;if(R(this,he),this.crashes=[],this.state="initializing",this._crashNumberLimit=typeof N.crashNumberLimit=="number"?N.crashNumberLimit:3,this._now=Date.now,this._minimumNonErrorTimePeriod=typeof N.minimumNonErrorTimePeriod=="number"?N.minimumNonErrorTimePeriod:5e3,this._boundErrorHandler=function(ie){var ee=ie.error||ie.reason;ee instanceof Error&&q._handleError(ee,ie)},this._listeners={},!this._restart)throw new Error("The Watchdog class was split into the abstract `Watchdog` class and the `EditorWatchdog` class. Please, use `EditorWatchdog` if you have used the `Watchdog` class previously.")}return C(he,[{key:"setCreator",value:function(q){this._creator=q}},{key:"setDestructor",value:function(q){this._destructor=q}},{key:"destroy",value:function(){this._stopErrorHandling(),this._listeners={}}},{key:"on",value:function(q,ie){this._listeners[q]||(this._listeners[q]=[]),this._listeners[q].push(ie)}},{key:"off",value:function(q,ie){this._listeners[q]=this._listeners[q].filter(function(ee){return ee!==ie})}},{key:"_fire",value:function(q){for(var ie=this._listeners[q]||[],ee=arguments.length,Se=new Array(ee>1?ee-1:0),Je=1;Je<ee;Je++)Se[Je-1]=arguments[Je];var Ue=p(ie),xt;try{for(Ue.s();!(xt=Ue.n()).done;){var bn=xt.value;bn.apply(this,[null].concat(Se))}}catch(On){Ue.e(On)}finally{Ue.f()}}},{key:"_startErrorHandling",value:function(){window.addEventListener("error",this._boundErrorHandler),window.addEventListener("unhandledrejection",this._boundErrorHandler)}},{key:"_stopErrorHandling",value:function(){window.removeEventListener("error",this._boundErrorHandler),window.removeEventListener("unhandledrejection",this._boundErrorHandler)}},{key:"_handleError",value:function(q,ie){if(this._shouldReactToError(q)){this.crashes.push({message:q.message,stack:q.stack,filename:ie.filename,lineno:ie.lineno,colno:ie.colno,date:this._now()});var ee=this._shouldRestart();this.state="crashed",this._fire("stateChange"),this._fire("error",{error:q,causesRestart:ee}),ee?this._restart():(this.state="crashedPermanently",this._fire("stateChange"))}}},{key:"_shouldReactToError",value:function(q){return q.is&&q.is("CKEditorError")&&q.context!==void 0&&q.context!==null&&this.state==="ready"&&this._isErrorComingFromThisItem(q)}},{key:"_shouldRestart",value:function(){return this.crashes.length<=this._crashNumberLimit?!0:(this.crashes[this.crashes.length-1].date-this.crashes[this.crashes.length-1-this._crashNumberLimit].date)/this._crashNumberLimit>this._minimumNonErrorTimePeriod}}]),he}(),ua=function(he){S(q,he);var N=B(q);function q(ie){var ee,Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return R(this,q),ee=N.call(this,Se),ee._editor=null,ee._throttledSave=wn(ee._save.bind(b(ee)),typeof Se.saveInterval=="number"?Se.saveInterval:5e3),ee._creator=function(Je,Ue){return ie.create(Je,Ue)},ee._destructor=function(Je){return Je.destroy()},ee}return C(q,[{key:"editor",get:function(){return this._editor}},{key:"_item",get:function(){return this._editor}},{key:"_restart",value:function(){var ee=this;return Promise.resolve().then(function(){return ee.state="initializing",ee._fire("stateChange"),ee._destroy()}).catch(function(Se){console.error("An error happened during the editor destroying.",Se)}).then(function(){if(typeof ee._elementOrData=="string")return ee.create(ee._data,ee._config,ee._config.context);{var Se=Object.assign({},ee._config,{initialData:ee._data});return ee.create(ee._elementOrData,Se,Se.context)}}).then(function(){ee._fire("restart")})}},{key:"create",value:function(){var ee=this,Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this._elementOrData,Je=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._config,Ue=arguments.length>2?arguments[2]:void 0;return Promise.resolve().then(function(){return x(j(q.prototype),"_startErrorHandling",ee).call(ee),ee._elementOrData=Se,ee._config=ee._cloneEditorConfiguration(Je)||{},ee._config.context=Ue,ee._creator(Se,ee._config)}).then(function(xt){ee._editor=xt,xt.model.document.on("change:data",ee._throttledSave),ee._lastDocumentVersion=xt.model.document.version,ee._data=ee._getData(),ee.state="ready",ee._fire("stateChange")})}},{key:"destroy",value:function(){var ee=this;return Promise.resolve().then(function(){return ee.state="destroyed",ee._fire("stateChange"),x(j(q.prototype),"destroy",ee).call(ee),ee._destroy()})}},{key:"_destroy",value:function(){var ee=this;return Promise.resolve().then(function(){ee._stopErrorHandling(),ee._throttledSave.flush();var Se=ee._editor;return ee._editor=null,ee._destructor(Se)})}},{key:"_save",value:function(){var ee=this._editor.model.document.version;if(ee!==this._lastDocumentVersion)try{this._data=this._getData(),this._lastDocumentVersion=ee}catch(Se){console.error(Se,"An error happened during restoring editor data. Editor will be restored from the previously saved data.")}}},{key:"_setExcludedProperties",value:function(ee){this._excludedProps=ee}},{key:"_getData",value:function(){var ee={},Se=p(this._editor.model.document.getRootNames()),Je;try{for(Se.s();!(Je=Se.n()).done;){var Ue=Je.value;ee[Ue]=this._editor.data.get({rootName:Ue})}}catch(xt){Se.e(xt)}finally{Se.f()}return ee}},{key:"_isErrorComingFromThisItem",value:function(ee){return ca(this._editor,ee.context,this._excludedProps)}},{key:"_cloneEditorConfiguration",value:function(ee){return wa(ee,function(Se,Je){return la(Se)||Je==="context"?Se:void 0})}}]),q}(_a),rr=new Array(256).fill().map(function(he,N){return("0"+N.toString(16)).slice(-2)}),Zi=function(he){S(q,he);var N=B(q);function q(ie){var ee,Se=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return R(this,q),ee=N.call(this,Se),ee._watchdogs=new Map,ee._watchdogConfig=Se,ee._context=null,ee._contextProps=new Set,ee._actionQueue=new Lr,ee._creator=function(Je){return ie.create(Je)},ee._destructor=function(Je){return Je.destroy()},ee._actionQueue.onEmpty(function(){ee.state==="initializing"&&(ee.state="ready",ee._fire("stateChange"))}),ee}return C(q,[{key:"context",get:function(){return this._context}},{key:"create",value:function(){var ee=this,Se=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return this._actionQueue.enqueue(function(){return ee._contextConfig=Se,ee._create()})}},{key:"getItem",value:function(ee){return this._getWatchdog(ee)._item}},{key:"getItemState",value:function(ee){return this._getWatchdog(ee).state}},{key:"add",value:function(ee){var Se=this,Je=Array.isArray(ee)?ee:[ee];return this._actionQueue.enqueue(function(){if(Se.state==="destroyed")throw new Error("Cannot add items to destroyed watchdog.");if(!Se._context)throw new Error("Context was not created yet. You should call the `ContextWatchdog#create()` method first.");return Promise.all(Je.map(function(Ue){var xt;if(Se._watchdogs.has(Ue.id))throw new Error("Item with the given id is already added: '".concat(Ue.id,"'."));if(Ue.type==="editor")return xt=new ua(Se._watchdogConfig),xt.setCreator(Ue.creator),xt._setExcludedProperties(Se._contextProps),Ue.destructor&&xt.setDestructor(Ue.destructor),Se._watchdogs.set(Ue.id,xt),xt.on("error",function(bn,On){var hi=On.error,Cr=On.causesRestart;Se._fire("itemError",{itemId:Ue.id,error:hi}),Cr&&Se._actionQueue.enqueue(function(){return new Promise(function(ai){xt.on("restart",function vi(){xt.off("restart",vi),this._fire("itemRestart",{itemId:Ue.id}),ai()}.bind(Se))})})}),xt.create(Ue.sourceElementOrData,Ue.config,Se._context);throw new Error("Not supported item type: '".concat(Ue.type,"'."))}))})}},{key:"remove",value:function(ee){var Se=this,Je=Array.isArray(ee)?ee:[ee];return this._actionQueue.enqueue(function(){return Promise.all(Je.map(function(Ue){var xt=Se._getWatchdog(Ue);return Se._watchdogs.delete(Ue),xt.destroy()}))})}},{key:"destroy",value:function(){var ee=this;return this._actionQueue.enqueue(function(){return ee.state="destroyed",ee._fire("stateChange"),x(j(q.prototype),"destroy",ee).call(ee),ee._destroy()})}},{key:"_restart",value:function(){var ee=this;return this._actionQueue.enqueue(function(){return ee.state="initializing",ee._fire("stateChange"),ee._destroy().catch(function(Se){console.error("An error happened during destroying the context or items.",Se)}).then(function(){return ee._create()}).then(function(){return ee._fire("restart")})})}},{key:"_create",value:function(){var ee=this;return Promise.resolve().then(function(){return ee._startErrorHandling(),ee._creator(ee._contextConfig)}).then(function(Se){return ee._context=Se,ee._contextProps=Gn(ee._context),Promise.all(Array.from(ee._watchdogs.values()).map(function(Je){return Je._setExcludedProperties(ee._contextProps),Je.create(void 0,void 0,ee._context)}))})}},{key:"_destroy",value:function(){var ee=this;return Promise.resolve().then(function(){ee._stopErrorHandling();var Se=ee._context;return ee._context=null,ee._contextProps=new Set,Promise.all(Array.from(ee._watchdogs.values()).map(function(Je){return Je.destroy()})).then(function(){return ee._destructor(Se)})})}},{key:"_getWatchdog",value:function(ee){var Se=this._watchdogs.get(ee);if(!Se)throw new Error("Item with the given id was not registered: ".concat(ee,"."));return Se}},{key:"_isErrorComingFromThisItem",value:function(ee){var Se=p(this._watchdogs.values()),Je;try{for(Se.s();!(Je=Se.n()).done;){var Ue=Je.value;if(Ue._isErrorComingFromThisItem(ee))return!1}}catch(xt){Se.e(xt)}finally{Se.f()}return ca(this._context,ee.context)}}]),q}(_a),Lr=function(){function he(){R(this,he),this._promiseQueue=Promise.resolve(),this._onEmptyCallbacks=[]}return C(he,[{key:"onEmpty",value:function(q){this._onEmptyCallbacks.push(q)}},{key:"enqueue",value:function(q){var ie=this,ee,Se=this._promiseQueue.then(q).then(function(){ie._promiseQueue===ee&&ie._onEmptyCallbacks.forEach(function(Je){return Je()})});return ee=this._promiseQueue=Se.catch(function(){}),Se}}]),he}(),tn=se.a.createContext("contextWatchdog"),Tr=function(he){S(q,he);var N=B(q);function q(ie,ee){var Se;return R(this,q),Se=N.call(this,ie,ee),Se.contextWatchdog=null,Se.props.isLayoutReady&&Se._initializeContextWatchdog(Se.props.config),Se}return C(q,[{key:"shouldComponentUpdate",value:function(ee){return ee.id!==this.props.id&&(this.contextWatchdog&&this.contextWatchdog.destroy(),this._initializeContextWatchdog(ee.config)),ee.isLayoutReady&&!this.contextWatchdog?(this._initializeContextWatchdog(ee.config),!0):this.props.children!==ee.children}},{key:"render",value:function(){return se.a.createElement(tn.Provider,{value:this.contextWatchdog},this.props.children)}},{key:"componentWillUnmount",value:function(){this._destroyContext()}},{key:"_initializeContextWatchdog",value:function(ee){var Se=this;this.contextWatchdog=new Zi(this.props.context),this.contextWatchdog.create(ee).catch(function(Je){Se.props.onError(Je,{phase:"initialization",willContextRestart:!1})}),this.contextWatchdog.on("error",function(Je,Ue){Se.props.onError(Ue.error,{phase:"runtime",willContextRestart:Ue.causesRestart})}),this.contextWatchdog.on("stateChange",function(){Se.contextWatchdog.state==="ready"&&Se.props.onReady&&Se.props.onReady(Se.contextWatchdog.context)})}},{key:"_destroyContext",value:function(){this.contextWatchdog&&(this.contextWatchdog.destroy(),this.contextWatchdog=null)}}]),q}(se.a.Component);Tr.defaultProps={isLayoutReady:!0,onError:function(N,q){return console.error(N,q)}},Tr.propTypes={id:Y.a.string,isLayoutReady:Y.a.bool,context:Y.a.func,config:Y.a.object,onReady:Y.a.func,onError:Y.a.func};var fi=function(he){S(q,he);var N=B(q);function q(ie){var ee;return R(this,q),ee=N.call(this,ie),ee.domContainer=se.a.createRef(),ee.watchdog=null,ee}return C(q,[{key:"editor",get:function(){return this.watchdog?this.watchdog.editor:null}},{key:"shouldComponentUpdate",value:function(ee){return!!this.editor&&(ee.id!==this.props.id||(this._shouldUpdateEditor(ee)&&this.editor.setData(ee.data),"disabled"in ee&&(this.editor.isReadOnly=ee.disabled),!1))}},{key:"componentDidMount",value:function(){this._initializeEditor()}},{key:"componentDidUpdate",value:function(){this._destroyEditor(),this._initializeEditor()}},{key:"componentWillUnmount",value:function(){this._destroyEditor()}},{key:"render",value:function(){return se.a.createElement("div",{ref:this.domContainer})}},{key:"_initializeEditor",value:function(){var ee=this;this.context instanceof Zi?this.watchdog=new Ha(this.context):this.watchdog=new q._EditorWatchdog(this.props.editor),this.watchdog.setCreator(function(Se,Je){return ee._createEditor(Se,Je)}),this.watchdog.on("error",function(Se,Je){var Ue=Je.error,xt=Je.causesRestart;ee.props.onError(Ue,{phase:"runtime",willEditorRestart:xt})}),this.watchdog.create(this.domContainer.current,this._getConfig()).catch(function(Se){return ee.props.onError(Se,{phase:"initialization",willEditorRestart:!1})})}},{key:"_createEditor",value:function(ee,Se){var Je=this;return this.props.editor.create(ee,Se).then(function(Ue){"disabled"in Je.props&&(Ue.isReadOnly=Je.props.disabled);var xt=Ue.model.document,bn=Ue.editing.view.document;return xt.on("change:data",function(On){Je.props.onChange&&Je.props.onChange(On,Ue)}),bn.on("focus",function(On){Je.props.onFocus&&Je.props.onFocus(On,Ue)}),bn.on("blur",function(On){Je.props.onBlur&&Je.props.onBlur(On,Ue)}),setTimeout(function(){Je.props.onReady&&Je.props.onReady(Je.editor)}),Ue})}},{key:"_destroyEditor",value:function(){this.watchdog&&(this.watchdog.destroy(),this.watchdog=null)}},{key:"_shouldUpdateEditor",value:function(ee){return this.props.data!==ee.data&&this.editor.getData()!==ee.data}},{key:"_getConfig",value:function(){return this.props.data&&this.props.config.initialData&&console.warn("Editor data should be provided either using `config.initialData` or `data` properties. The config property is over the data value and the first one will be used when specified both."),F(F({},this.props.config),{},{initialData:this.props.config.initialData||this.props.data||""})}}]),q}(se.a.Component),Ha=function(){function he(N){R(this,he),this._contextWatchdog=N,this._id=function(){var q=4294967296*Math.random()>>>0,ie=4294967296*Math.random()>>>0,ee=4294967296*Math.random()>>>0,Se=4294967296*Math.random()>>>0;return"e"+rr[q>>0&255]+rr[q>>8&255]+rr[q>>16&255]+rr[q>>24&255]+rr[ie>>0&255]+rr[ie>>8&255]+rr[ie>>16&255]+rr[ie>>24&255]+rr[ee>>0&255]+rr[ee>>8&255]+rr[ee>>16&255]+rr[ee>>24&255]+rr[Se>>0&255]+rr[Se>>8&255]+rr[Se>>16&255]+rr[Se>>24&255]}()}return C(he,[{key:"setCreator",value:function(q){this._creator=q}},{key:"create",value:function(q,ie){return this._contextWatchdog.add({sourceElementOrData:q,config:ie,creator:this._creator,id:this._id,type:"editor"})}},{key:"on",value:function(q,ie){var ee=this;this._contextWatchdog.on("itemError",function(Se,Je){var Ue=Je.itemId,xt=Je.causesRestart,bn=Je.error;Ue===ee._id&&ie(null,{error:bn,causesRestart:xt})})}},{key:"destroy",value:function(){this._contextWatchdog.remove(this._id)}},{key:"editor",get:function(){return this._contextWatchdog.getItem(this._id)}}]),he}();fi.contextType=tn,fi.propTypes={editor:Y.a.func.isRequired,data:Y.a.string,config:Y.a.object,onChange:Y.a.func,onReady:Y.a.func,onFocus:Y.a.func,onBlur:Y.a.func,onError:Y.a.func,disabled:Y.a.bool,onInit:function(N,q){if(N[q])return new Error('The "onInit" property is not supported anymore by the CKEditor component. Use the "onReady" property instead.')}},fi.defaultProps={config:{},onError:function(N,q){return console.error(N,q)}},fi._EditorWatchdog=ua}])})},AMKO:function($,W,f){"use strict";f.d(W,"a",function(){return S});var F=f("q1tI"),b=f.n(F);function x(V){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?x=function(_){return typeof _}:x=function(_){return _&&typeof Symbol=="function"&&_.constructor===Symbol&&_!==Symbol.prototype?"symbol":typeof _},x(V)}var j=function(){var w=new WeakSet;return function(_,O){if(x(O)==="object"&&O!==null){if(w.has(O))return;w.add(O)}return O}},S=function(w){return JSON.stringify(w,j())},B=function(w,_){try{return S(w)===S(_)}catch(O){}return!1};function R(V){var w=Object(F.useRef)("");return B(V,w.current)||(w.current=JSON.stringify(V,j())),w.current}function C(V,w){Object(F.useEffect)(V,[R(w)])}var p=C},Ag8Z:function($,W,f){var F=f("JC6p"),b=f("EwQA");function x(j,S){return j&&F(j,b(S))}$.exports=x},"B+1O":function($,W,f){},B5Mt:function($,W,f){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var F=function(x,j){var S={},B=function(C){var p=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;S[C]=p};return x===0&&B("first-child"),x===j-1&&B("last-child"),(x===0||x%2==0)&&B("even"),Math.abs(x%2)===1&&B("odd"),B("nth-child",x),S};W.default=F},BOG6:function($,W,f){"use strict";f.r(W);var F=f("miYZ"),b=f("tsqr"),x=f("9og8"),j=f("fOrg"),S=f("+KLJ"),B=f("+L6B"),R=f("2/Rp"),C=f("tJVT"),p=f("jrin"),V=f("k1fw"),w=f("WmNS"),_=f.n(w),O=f("q1tI"),D=f.n(O),se=f("VMEa"),A=f("Qurx"),Y=f("yj/a"),L=f("nhC9"),K=f("rWUb"),y=f("tMyG"),ne=f("9kvl"),Ae=f("Ty5D"),me=f("pWZp"),de=f("nKUr"),Ye=f.n(de),rt=function(et){return et?Object.keys(et).reduce(function(Rt,Vt){return Object(V.a)(Object(V.a)({},Rt),{},Object(p.a)({},Vt,Vt))},{}):{}},Tt=function(et){var Rt=et.disabled,Vt=Rt===void 0?!1:Rt,Ge=et.id,Me=Object(O.useState)({state:"ready"}),Qe=Object(C.a)(Me,2),Ie=Qe[0],Ot=Qe[1],ot=Object(O.useCallback)(function(){Ot({state:"loading"}),Object(K.c)(Ge).then(function(ht){ht.success?ht.data.sent&&ht.data.to?Ot({state:"loaded",data:ht.data,message:"email sent to ".concat(ht.data.to)}):ht.data.url?Ot({state:"loaded",data:ht.data,message:Object(de.jsxs)(D.a.Fragment,{children:["Download"," ",Object(de.jsx)("a",{target:"_blank",href:ht.data.url,children:ht.data.filename})]})}):Ot({state:"loaded",data:ht.data,message:ht.message}):Ot({state:"error",error:ht.message})}).catch(function(){Ot({state:"error",error:"error"})})},[Ge]);return Object(de.jsxs)(D.a.Fragment,{children:[Object(de.jsx)(R.a,{type:"primary",loading:Ie.state==="loading",disabled:Vt,onClick:ot,children:Object(de.jsx)(ne.a,{id:"preview"})}),Ie.state==="loaded"&&Object(de.jsx)(S.a,{message:Ie.message,type:"success",closable:!0,onClose:function(){return Ot({state:"ready"})}}),Ie.state==="error"&&Object(de.jsx)(S.a,{message:Ie.error,type:"error",closable:!0,onClose:function(){return Ot({state:"ready"})}})]})};W.default=function(){var $e=Object(ne.i)(),et=Object(Ae.g)(),Rt=et.template,Vt=Rt==="new",Ge=Object(O.useState)(!1),Me=Object(C.a)(Ge,2),Qe=Me[0],Ie=Me[1],Ot=se.b.useForm(),ot=Object(C.a)(Ot,1),ht=ot[0],Pt=Object(O.useState)(),it=Object(C.a)(Pt,2),ge=it[0],yt=it[1];Object(O.useEffect)(function(){Object(K.g)().then(function(wn){yt(wn.success?wn.data:{})})},[]);var It=Object(O.useCallback)(Object(x.a)(_.a.mark(function wn(){var Kt;return _.a.wrap(function(Et){for(;;)switch(Et.prev=Et.next){case 0:return Et.next=2,Object(K.d)(Number(Rt));case 2:Kt=Et.sent,Kt.success&&(ht.setFieldsValue(Object(V.a)(Object(V.a)({},Kt.data),{},{content:Kt.data.content||""})),Ie(!0));case 4:case"end":return Et.stop()}},wn)})),[Rt,ge]);Object(O.useEffect)(function(){Rt!=="new"&&It()},[Rt,It]);var dn=Object(O.useCallback)(function(){var wn=Object(x.a)(_.a.mark(function Kt(qe){var Et,$t;return _.a.wrap(function(te){for(;;)switch(te.prev=te.next){case 0:if($t=Object(V.a)({},qe),Rt!=="new"){te.next=8;break}return te.next=4,Object(K.a)($t);case 4:Et=te.sent,Et.success&&ne.d.push("/templates/".concat(Et.data.id)),te.next=11;break;case 8:return te.next=10,Object(K.f)(Number(Rt),$t);case 10:Et=te.sent;case 11:Ie(!0),b.default.success(Et.message);case 13:case"end":return te.stop()}},Kt)}));return function(Kt){return wn.apply(this,arguments)}}(),[]);return Object(de.jsx)(y.a,{title:Vt?Object(de.jsx)(ne.a,{id:"new_template"}):Object(de.jsx)(ne.a,{id:"new_template"}),children:Object(de.jsx)(L.a,{children:Object(de.jsxs)(se.b,{initialValues:{},onFinish:dn,form:ht,onValuesChange:function(){Ie(!1)},children:[Object(de.jsxs)(se.b.Group,{children:[Object(de.jsx)(A.a,{width:"md",name:"name",label:Object(de.jsx)(ne.a,{id:"name"}),tooltip:Object(de.jsx)(ne.a,{id:"name_tooltip"}),placeholder:$e.formatMessage({id:"name"}),required:!0}),Object(de.jsx)(Y.a,{name:"type",label:Object(de.jsx)(ne.a,{id:"tpl_type"}),tooltip:Object(de.jsx)(ne.a,{id:"tpl_type_tooltip"}),valueEnum:ge?rt(ge):{},placeholder:$e.formatMessage({id:"tpl_type_placeholder"}),rules:[{required:!0,message:"Please select your country!"}]}),Object(de.jsx)(se.b.Item,{noStyle:!0,shouldUpdate:!0,children:function(Kt){return Object(de.jsx)(Y.a,{name:"vars_set",label:Object(de.jsx)(ne.a,{id:"tpl_vars_set"}),tooltip:Object(de.jsx)(ne.a,{id:"tpl_vars_set_tooltip"}),valueEnum:ge?rt(ge[Kt.getFieldValue("type")]):{},placeholder:$e.formatMessage({id:"tpl_vars_set_placeholder"}),rules:[{required:!0,message:"Please select your country!"}]})}}),!Vt&&Object(de.jsx)(se.b.Item,{label:Object(de.jsx)(ne.a,{id:"preview"}),children:Object(de.jsx)(Tt,{disabled:!Qe,id:Number(Rt)})})]}),Object(de.jsx)(se.b.Item,{noStyle:!0,shouldUpdate:!0,children:function(Kt){return Object(de.jsx)(se.b.Item,{name:"content",label:Object(de.jsx)(ne.a,{id:"content"}),tooltip:Object(de.jsx)(ne.a,{id:"content_tooltip"}),valuePropName:"value",required:!0,shouldUpdate:!0,children:Object(de.jsx)(me.a,{tokens:ge&&Kt.getFieldValue("type")&&Kt.getFieldValue("vars_set")?ge[Kt.getFieldValue("type")][Kt.getFieldValue("vars_set")]:[]})})}})]})})})}},BkRI:function($,W,f){var F=f("OBhP"),b=1,x=4;function j(S){return F(S,b|x)}$.exports=j},CMye:function($,W,f){var F=f("GoyQ");function b(x){return x===x&&!F(x)}$.exports=b},CS2o:function($,W,f){var F=f("GXtI"),b=f("5h2M"),x=f("baxp");function j(S){var B=b();return function(){var C=F(S),p;if(B){var V=F(this).constructor;p=Reflect.construct(C,arguments,V)}else p=C.apply(this,arguments);return x(this,p)}}$.exports=j},Ce4a:function($,W,f){"use strict";var F=f("Ju5/"),b=F.a.Uint8Array;W.a=b},CeSn:function($,W){var f=0/0,F="[object Symbol]",b=/^\s+|\s+$/g,x=/^[-+]0x[0-9a-f]+$/i,j=/^0b[01]+$/i,S=/^0o[0-7]+$/i,B=parseInt,R=Object.prototype,C=R.toString;function p(O){var D=typeof O;return!!O&&(D=="object"||D=="function")}function V(O){return!!O&&typeof O=="object"}function w(O){return typeof O=="symbol"||V(O)&&C.call(O)==F}function _(O){if(typeof O=="number")return O;if(w(O))return f;if(p(O)){var D=typeof O.valueOf=="function"?O.valueOf():O;O=p(D)?D+"":D}if(typeof O!="string")return O===0?O:+O;O=O.replace(b,"");var se=j.test(O);return se||S.test(O)?B(O.slice(2),se?2:8):x.test(O)?f:+O}$.exports=_},DlmY:function($,W,f){"use strict";var F=f("Y7yP"),b=Object(F.a)(Object,"create"),x=b;function j(){this.__data__=x?x(null):{},this.size=0}var S=j;function B(it){var ge=this.has(it)&&delete this.__data__[it];return this.size-=ge?1:0,ge}var R=B,C="__lodash_hash_undefined__",p=Object.prototype,V=p.hasOwnProperty;function w(it){var ge=this.__data__;if(x){var yt=ge[it];return yt===C?void 0:yt}return V.call(ge,it)?ge[it]:void 0}var _=w,O=Object.prototype,D=O.hasOwnProperty;function se(it){var ge=this.__data__;return x?ge[it]!==void 0:D.call(ge,it)}var A=se,Y="__lodash_hash_undefined__";function L(it,ge){var yt=this.__data__;return this.size+=this.has(it)?0:1,yt[it]=x&&ge===void 0?Y:ge,this}var K=L;function y(it){var ge=-1,yt=it==null?0:it.length;for(this.clear();++ge<yt;){var It=it[ge];this.set(It[0],It[1])}}y.prototype.clear=S,y.prototype.delete=R,y.prototype.get=_,y.prototype.has=A,y.prototype.set=K;var ne=y,Ae=f("nLtN"),me=f("3cmB");function de(){this.size=0,this.__data__={hash:new ne,map:new(me.a||Ae.a),string:new ne}}var Ye=de;function rt(it){var ge=typeof it;return ge=="string"||ge=="number"||ge=="symbol"||ge=="boolean"?it!=="__proto__":it===null}var Tt=rt;function $e(it,ge){var yt=it.__data__;return Tt(ge)?yt[typeof ge=="string"?"string":"hash"]:yt.map}var et=$e;function Rt(it){var ge=et(this,it).delete(it);return this.size-=ge?1:0,ge}var Vt=Rt;function Ge(it){return et(this,it).get(it)}var Me=Ge;function Qe(it){return et(this,it).has(it)}var Ie=Qe;function Ot(it,ge){var yt=et(this,it),It=yt.size;return yt.set(it,ge),this.size+=yt.size==It?0:1,this}var ot=Ot;function ht(it){var ge=-1,yt=it==null?0:it.length;for(this.clear();++ge<yt;){var It=it[ge];this.set(It[0],It[1])}}ht.prototype.clear=Ye,ht.prototype.delete=Vt,ht.prototype.get=Me,ht.prototype.has=Ie,ht.prototype.set=ot;var Pt=W.a=ht},"Dw+G":function($,W,f){var F=f("juv8"),b=f("mTTR");function x(j,S){return j&&F(S,b(S),j)}$.exports=x},EEGq:function($,W,f){var F=f("juv8"),b=f("oCl/");function x(j,S){return F(j,b(j),S)}$.exports=x},EUcb:function($,W,f){"use strict";function F(b){return b!=null&&typeof b=="object"}W.a=F},EwQA:function($,W,f){var F=f("zZ0H");function b(x){return typeof x=="function"?x:F}$.exports=b},G6z8:function($,W,f){var F=f("fR/l"),b=f("oCl/"),x=f("mTTR");function j(S){return F(S,x,b)}$.exports=j},G8aS:function($,W,f){"use strict";var F=f("8M4i"),b=f("EUcb"),x="[object Symbol]";function j(S){return typeof S=="symbol"||Object(b.a)(S)&&Object(F.a)(S)==x}W.a=j},GDhZ:function($,W,f){var F=f("wF/u"),b=f("mwIZ"),x=f("hgQt"),j=f("9ggG"),S=f("CMye"),B=f("IOzZ"),R=f("9Nap"),C=1,p=2;function V(w,_){return j(w)&&S(_)?B(R(w),_):function(O){var D=b(O,w);return D===void 0&&D===_?x(O,w):F(_,D,C|p)}}$.exports=V},GNiM:function($,W,f){var F=f("I01J"),b=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,x=/\\(\\)?/g,j=F(function(S){var B=[];return S.charCodeAt(0)===46&&B.push(""),S.replace(b,function(R,C,p,V){B.push(p?V.replace(x,"$1"):C||R)}),B});$.exports=j},GXtI:function($,W){function f(F){return $.exports=f=Object.setPrototypeOf?Object.getPrototypeOf:function(x){return x.__proto__||Object.getPrototypeOf(x)},f(F)}$.exports=f},Gi0A:function($,W,f){var F=f("QqLw"),b=f("ExA7"),x="[object Map]";function j(S){return b(S)&&F(S)==x}$.exports=j},HBdL:function($,W,f){"use strict";var F=f("KQm4"),b=f("o0o1"),x=f.n(b),j=f("HaE+"),S=f("q1tI"),B=f.n(S),R=function(V,w){var _=Object(S.useRef)(!1);Object(S.useEffect)(function(){if(!_.current)_.current=!0;else return V();return function(){}},w)};function C(p,V,w){var _=Array.isArray(V)?V:[],O=typeof V=="number"?V:w||0,D=Object(S.useRef)(),se=Object(S.useRef)(p);se.current=p;var A=Object(S.useCallback)(function(){D.current&&clearTimeout(D.current)},[]),Y=Object(S.useCallback)(Object(j.a)(x.a.mark(function L(){var K,y,ne,Ae=arguments;return x.a.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:for(K=Ae.length,y=new Array(K),ne=0;ne<K;ne++)y[ne]=Ae[ne];return de.abrupt("return",new Promise(function(Ye){A(),D.current=setTimeout(Object(j.a)(x.a.mark(function rt(){var Tt;return x.a.wrap(function(et){for(;;)switch(et.prev=et.next){case 0:return et.next=2,se.current.apply(se,y);case 2:Tt=et.sent,Ye(Tt);case 4:case"end":return et.stop()}},rt)})),O)}));case 2:case"end":return de.stop()}},L)})),[O,A]);return R(function(){return Y(),A},[].concat(Object(F.a)(_),[Y])),Object(S.useEffect)(function(){return A},[]),{run:Y,cancel:A}}W.a=C},I01J:function($,W,f){var F=f("44Ds"),b=500;function x(j){var S=F(j,function(R){return B.size===b&&B.clear(),R}),B=S.cache;return S}$.exports=x},IOzZ:function($,W){function f(F,b){return function(x){return x==null?!1:x[F]===b&&(b!==void 0||F in Object(x))}}$.exports=f},IzLi:function($,W,f){"use strict";function F(b){var x=typeof b;return b!=null&&(x=="object"||x=="function")}W.a=F},JC6p:function($,W,f){var F=f("cq/+"),b=f("7GkX");function x(j,S){return j&&F(j,S,b)}$.exports=x},Js68:function($,W,f){"use strict";var F=9007199254740991;function b(x){return typeof x=="number"&&x>-1&&x%1==0&&x<=F}W.a=b},"Ju5/":function($,W,f){"use strict";var F=f("XqMk"),b=typeof self=="object"&&self&&self.Object===Object&&self,x=F.a||b||Function("return this")();W.a=x},Juji:function($,W){function f(F,b){return F!=null&&b in Object(F)}$.exports=f},KCY9:function($,W,f){},KPFz:function($,W,f){},KfSR:function($,W,f){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.autoprefix=void 0;var F=f("Ag8Z"),b=j(F),x=Object.assign||function(R){for(var C=1;C<arguments.length;C++){var p=arguments[C];for(var V in p)Object.prototype.hasOwnProperty.call(p,V)&&(R[V]=p[V])}return R};function j(R){return R&&R.__esModule?R:{default:R}}var S={borderRadius:function(C){return{msBorderRadius:C,MozBorderRadius:C,OBorderRadius:C,WebkitBorderRadius:C,borderRadius:C}},boxShadow:function(C){return{msBoxShadow:C,MozBoxShadow:C,OBoxShadow:C,WebkitBoxShadow:C,boxShadow:C}},userSelect:function(C){return{WebkitTouchCallout:C,KhtmlUserSelect:C,MozUserSelect:C,msUserSelect:C,WebkitUserSelect:C,userSelect:C}},flex:function(C){return{WebkitBoxFlex:C,MozBoxFlex:C,WebkitFlex:C,msFlex:C,flex:C}},flexBasis:function(C){return{WebkitFlexBasis:C,flexBasis:C}},justifyContent:function(C){return{WebkitJustifyContent:C,justifyContent:C}},transition:function(C){return{msTransition:C,MozTransition:C,OTransition:C,WebkitTransition:C,transition:C}},transform:function(C){return{msTransform:C,MozTransform:C,OTransform:C,WebkitTransform:C,transform:C}},absolute:function(C){var p=C&&C.split(" ");return{position:"absolute",top:p&&p[0],right:p&&p[1],bottom:p&&p[2],left:p&&p[3]}},extend:function(C,p){var V=p[C];return V||{extend:C}}},B=W.autoprefix=function(C){var p={};return(0,b.default)(C,function(V,w){var _={};(0,b.default)(V,function(O,D){var se=S[D];se?_=x({},_,se(O)):_[D]=O}),p[w]=_}),p};W.default=B},Kvyg:function($,W,f){},L3Qv:function($,W,f){"use strict";function F(){return!1}W.a=F},LcsW:function($,W,f){var F=f("kekF"),b=F(Object.getPrototypeOf,Object);$.exports=b},Lw8S:function($,W){function f(b,x){for(var j=0;j<x.length;j++){var S=x[j];S.enumerable=S.enumerable||!1,S.configurable=!0,"value"in S&&(S.writable=!0),Object.defineProperty(b,S.key,S)}}function F(b,x,j){return x&&f(b.prototype,x),j&&f(b,j),b}$.exports=F},"M+yt":function($,W,f){},MXD1:function($,W,f){"use strict";var F=f("EFp3"),b=f.n(F),x=f("Kvyg"),j=f.n(x)},MrPd:function($,W,f){var F=f("hypo"),b=f("ljhN"),x=Object.prototype,j=x.hasOwnProperty;function S(B,R,C){var p=B[R];(!(j.call(B,R)&&b(p,C))||C===void 0&&!(R in B))&&F(B,R,C)}$.exports=S},NYcB:function($,W,f){"use strict";f.d(W,"a",function(){return C});var F=f("EFp3"),b=f("PQMj"),x=f("KrTs"),j=f("q1tI"),S=f.n(j),B=f("B+1O"),R={Success:function(w){var _=w.children;return S.a.createElement(x.a,{status:"success",text:_})},Error:function(w){var _=w.children;return S.a.createElement(x.a,{status:"error",text:_})},Default:function(w){var _=w.children;return S.a.createElement(x.a,{status:"default",text:_})},Processing:function(w){var _=w.children;return S.a.createElement(x.a,{status:"processing",text:_})},Warning:function(w){var _=w.children;return S.a.createElement(x.a,{status:"warning",text:_})},success:function(w){var _=w.children;return S.a.createElement(x.a,{status:"success",text:_})},error:function(w){var _=w.children;return S.a.createElement(x.a,{status:"error",text:_})},default:function(w){var _=w.children;return S.a.createElement(x.a,{status:"default",text:_})},processing:function(w){var _=w.children;return S.a.createElement(x.a,{status:"processing",text:_})},warning:function(w){var _=w.children;return S.a.createElement(x.a,{status:"warning",text:_})}},C=function(w){var _=w.color,O=w.children;return S.a.createElement(x.a,{color:_,text:O})},p=W.b=R},O0oS:function($,W,f){var F=f("Cwc5"),b=function(){try{var x=F(Object,"defineProperty");return x({},"",{}),x}catch(j){}}();$.exports=b},O7RO:function($,W,f){var F=f("CMye"),b=f("7GkX");function x(j){for(var S=b(j),B=S.length;B--;){var R=S[B],C=j[R];S[B]=[R,C,F(C)]}return S}$.exports=x},OBhP:function($,W,f){var F=f("fmRc"),b=f("gFfm"),x=f("MrPd"),j=f("WwFo"),S=f("Dw+G"),B=f("5Tg0"),R=f("Q1l4"),C=f("VOtZ"),p=f("EEGq"),V=f("qZTm"),w=f("G6z8"),_=f("QqLw"),O=f("yHx3"),D=f("wrZu"),se=f("+iFO"),A=f("Z0cm"),Y=f("DSRE"),L=f("zEVN"),K=f("GoyQ"),y=f("1+5i"),ne=f("7GkX"),Ae=f("mTTR"),me=1,de=2,Ye=4,rt="[object Arguments]",Tt="[object Array]",$e="[object Boolean]",et="[object Date]",Rt="[object Error]",Vt="[object Function]",Ge="[object GeneratorFunction]",Me="[object Map]",Qe="[object Number]",Ie="[object Object]",Ot="[object RegExp]",ot="[object Set]",ht="[object String]",Pt="[object Symbol]",it="[object WeakMap]",ge="[object ArrayBuffer]",yt="[object DataView]",It="[object Float32Array]",dn="[object Float64Array]",wn="[object Int8Array]",Kt="[object Int16Array]",qe="[object Int32Array]",Et="[object Uint8Array]",$t="[object Uint8ClampedArray]",J="[object Uint16Array]",te="[object Uint32Array]",Q={};Q[rt]=Q[Tt]=Q[ge]=Q[yt]=Q[$e]=Q[et]=Q[It]=Q[dn]=Q[wn]=Q[Kt]=Q[qe]=Q[Me]=Q[Qe]=Q[Ie]=Q[Ot]=Q[ot]=Q[ht]=Q[Pt]=Q[Et]=Q[$t]=Q[J]=Q[te]=!0,Q[Rt]=Q[Vt]=Q[it]=!1;function Oe(we,Fe,ve,oe,Pe,Le){var Ve,We=Fe&me,st=Fe&de,St=Fe&Ye;if(ve&&(Ve=Pe?ve(we,oe,Pe,Le):ve(we)),Ve!==void 0)return Ve;if(!K(we))return we;var dt=A(we);if(dt){if(Ve=O(we),!We)return R(we,Ve)}else{var kt=_(we),ct=kt==Vt||kt==Ge;if(Y(we))return B(we,We);if(kt==Ie||kt==rt||ct&&!Pe){if(Ve=st||ct?{}:se(we),!We)return st?p(we,S(Ve,we)):C(we,j(Ve,we))}else{if(!Q[kt])return Pe?we:{};Ve=D(we,kt,We)}}Le||(Le=new F);var Dt=Le.get(we);if(Dt)return Dt;Le.set(we,Ve),y(we)?we.forEach(function(zt){Ve.add(Oe(zt,Fe,ve,zt,we,Le))}):L(we)&&we.forEach(function(zt,Xt){Ve.set(Xt,Oe(zt,Fe,ve,Xt,we,Le))});var Gt=St?st?w:V:st?Ae:ne,Ct=dt?void 0:Gt(we);return b(Ct||we,function(zt,Xt){Ct&&(Xt=zt,zt=we[Xt]),x(Ve,Xt,Oe(zt,Fe,ve,Xt,we,Le))}),Ve}$.exports=Oe},OaEy:function($,W,f){"use strict";var F=f("EFp3"),b=f.n(F),x=f("bKJz"),j=f.n(x),S=f("R9oj")},OnYD:function($,W,f){},PQMj:function($,W,f){},PdkY:function($,W,f){},Q1l4:function($,W){function f(F,b){var x=-1,j=F.length;for(b||(b=Array(j));++x<j;)b[x]=F[x];return b}$.exports=f},QbM5:function($,W,f){},QcOe:function($,W,f){var F=f("GoyQ"),b=f("6sVZ"),x=f("7Ix3"),j=Object.prototype,S=j.hasOwnProperty;function B(R){if(!F(R))return x(R);var C=b(R),p=[];for(var V in R)V=="constructor"&&(C||!S.call(R,V))||p.push(V);return p}$.exports=B},QeVK:function($,W,f){},Qurx:function($,W,f){"use strict";var F=f("wx14"),b=f("Ff2n"),x=f("q1tI"),j=f.n(x),S=f("adzw"),B=["fieldProps","proFieldProps"],R=["fieldProps","proFieldProps"],C="text",p=function(O){var D=O.fieldProps,se=O.proFieldProps,A=Object(b.a)(O,B);return j.a.createElement(S.a,Object(F.a)({mode:"edit",valueType:C,fieldProps:D,filedConfig:{valueType:C},proFieldProps:se},A))},V=function(O){var D=O.fieldProps,se=O.proFieldProps,A=Object(b.a)(O,R);return j.a.createElement(S.a,Object(F.a)({mode:"edit",valueType:"password",fieldProps:D,proFieldProps:se,filedConfig:{valueType:C}},A))},w=p;w.Password=V,w.displayName="ProFormComponent",W.a=w},R9oj:function($,W,f){"use strict";var F=f("EFp3"),b=f.n(F),x=f("pwpV"),j=f.n(x)},S76h:function($,W,f){},SKAX:function($,W,f){var F=f("JC6p"),b=f("lQqw"),x=b(F);$.exports=x},SiRs:function($,W,f){"use strict";var F=/\s/;function b(A){for(var Y=A.length;Y--&&F.test(A.charAt(Y)););return Y}var x=b,j=/^\s+/;function S(A){return A&&A.slice(0,x(A)+1).replace(j,"")}var B=S,R=f("IzLi"),C=f("G8aS"),p=0/0,V=/^[-+]0x[0-9a-f]+$/i,w=/^0b[01]+$/i,_=/^0o[0-7]+$/i,O=parseInt;function D(A){if(typeof A=="number")return A;if(Object(C.a)(A))return p;if(Object(R.a)(A)){var Y=typeof A.valueOf=="function"?A.valueOf():A;A=Object(R.a)(Y)?Y+"":Y}if(typeof A!="string")return A===0?A:+A;A=B(A);var L=w.test(A);return L||_.test(A)?O(A.slice(2),L?2:8):V.test(A)?p:+A}var se=W.a=D},"SmY/":function($,W,f){},U6JX:function($,W,f){"use strict";function F(b,x){return function(j){return b(x(j))}}W.a=F},UudT:function($,W,f){"use strict";var F=f("U6JX"),b=Object(F.a)(Object.getPrototypeOf,Object);W.a=b},VMEa:function($,W,f){"use strict";f.d(W,"a",function(){return Tt});var F=f("y8nQ"),b=f("Vl3Y"),x=f("wx14"),j=f("q1tI"),S=f.n(j),B=f("DYRE"),R=f("zeV3"),C=f("rePB"),p=f("GNNt"),V=f("wEI+"),w=f("ODXe"),_=f("VTBJ"),O=f("UESt"),D=f("lS/g"),se=f("fWo+"),A=f("9mHw"),Y=f("YSkC"),L=f("TSYQ"),K=f.n(L),y=S.a.forwardRef(function(et,Rt){var Vt=S.a.useContext(D.a),Ge=Vt.groupProps,Me=Object(_.a)(Object(_.a)({},Ge),et),Qe=Me.children,Ie=Me.collapsible,Ot=Me.defaultCollapsed,ot=Me.style,ht=Me.labelLayout,Pt=Me.title,it=Pt===void 0?et.label:Pt,ge=Me.tooltip,yt=Me.align,It=yt===void 0?"start":yt,dn=Me.direction,wn=Me.size,Kt=wn===void 0?32:wn,qe=Me.titleStyle,Et=Me.titleRender,$t=Me.spaceProps,J=Me.extra,te=Me.autoFocus,Q=Object(A.a)(function(){return Ot||!1},{value:et.collapsed,onChange:et.onCollapse}),Oe=Object(w.a)(Q,2),we=Oe[0],Fe=Oe[1],ve=Object(j.useContext)(V.b.ConfigContext),oe=ve.getPrefixCls,Pe=oe("pro-form-group"),Le=Ie&&S.a.createElement(O.a,{style:{marginRight:8},rotate:we?void 0:90}),Ve=S.a.createElement(Y.a,{label:Le?S.a.createElement("div",null,Le,it):it,tooltip:ge}),We=Et?Et(Ve,et):Ve,st=[],St=S.a.Children.toArray(Qe).map(function(dt,kt){var ct;return S.a.isValidElement(dt)&&(dt==null||(ct=dt.props)===null||ct===void 0?void 0:ct.hidden)?(st.push(dt),null):kt===0&&S.a.isValidElement(dt)&&te?S.a.cloneElement(dt,Object(_.a)(Object(_.a)({},dt.props),{},{autoFocus:te})):dt});return S.a.createElement("div",{className:K()(Pe,Object(C.a)({},"".concat(Pe,"-twoLine"),ht==="twoLine")),style:ot,ref:Rt},st.length>0&&S.a.createElement("div",{style:{display:"none"}},st),(it||ge||J)&&S.a.createElement("div",{className:"".concat(Pe,"-title"),style:qe,onClick:function(){Fe(!we)}},J?S.a.createElement("div",{style:{display:"flex",width:"100%",alignItems:"center",justifyContent:"space-between"}},We,S.a.createElement("span",{onClick:function(kt){return kt.stopPropagation()}},J)):We),Ie&&we?null:S.a.createElement(R.b,Object(x.a)({},$t,{className:"".concat(Pe,"-container"),size:Kt,align:It,direction:dn,style:Object(_.a)({rowGap:0},$t==null?void 0:$t.style)}),St))});y.displayName="ProForm-Group";var ne=y,Ae=f("b1eo"),me=f("DVw6");function de(et){return S.a.createElement(Ae.a,Object(x.a)({layout:"vertical",submitter:{render:function(Vt,Ge){return Ge.reverse()}},contentRender:function(Vt,Ge){return S.a.createElement(S.a.Fragment,null,Vt,Ge)}},et))}de.Group=ne,de.useForm=b.a.useForm,de.Item=me.a;var Ye=de,rt=f("M+yt"),Tt=Ye.Group,$e=W.b=Ye},VOtZ:function($,W,f){var F=f("juv8"),b=f("MvSz");function x(j,S){return F(j,b(j),S)}$.exports=x},VYtm:function($,W,f){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.hover=void 0;var F=Object.assign||function(p){for(var V=1;V<arguments.length;V++){var w=arguments[V];for(var _ in w)Object.prototype.hasOwnProperty.call(w,_)&&(p[_]=w[_])}return p},b=f("q1tI"),x=j(b);function j(p){return p&&p.__esModule?p:{default:p}}function S(p,V){if(!(p instanceof V))throw new TypeError("Cannot call a class as a function")}function B(p,V){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:p}function R(p,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);p.prototype=Object.create(V&&V.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(p,V):p.__proto__=V)}var C=W.hover=function(V){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(_){R(O,_);function O(){var D,se,A,Y;S(this,O);for(var L=arguments.length,K=Array(L),y=0;y<L;y++)K[y]=arguments[y];return Y=(se=(A=B(this,(D=O.__proto__||Object.getPrototypeOf(O)).call.apply(D,[this].concat(K))),A),A.state={hover:!1},A.handleMouseOver=function(){return A.setState({hover:!0})},A.handleMouseOut=function(){return A.setState({hover:!1})},A.render=function(){return x.default.createElement(w,{onMouseOver:A.handleMouseOver,onMouseOut:A.handleMouseOut},x.default.createElement(V,F({},A.props,A.state)))},se),B(A,Y)}return O}(x.default.Component)};W.default=C},"Vg/k":function($,W){(function(f){$.exports=function(){var F={46:function(S){S.exports=function(B){if(!B.webpackPolyfill){var R=Object.create(B);R.children||(R.children=[]),Object.defineProperty(R,"loaded",{enumerable:!0,get:function(){return R.l}}),Object.defineProperty(R,"id",{enumerable:!0,get:function(){return R.i}}),Object.defineProperty(R,"exports",{enumerable:!0}),R.webpackPolyfill=1}return R}}},b={};function x(j){if(b[j])return b[j].exports;var S=b[j]={exports:{}},B=!0;try{F[j](S,S.exports,x),B=!1}finally{B&&delete b[j]}return S.exports}return x.ab=f+"/",x(46)}()}).call(this,"/")},VzZb:function($,W,f){},W3HW:function($,W,f){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.flattenNames=void 0;var F=f("4qC0"),b=p(F),x=f("Ag8Z"),j=p(x),S=f("YO3V"),B=p(S),R=f("3WF5"),C=p(R);function p(w){return w&&w.__esModule?w:{default:w}}var V=W.flattenNames=function w(){var _=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],O=[];return(0,C.default)(_,function(D){Array.isArray(D)?w(D).map(function(se){return O.push(se)}):(0,B.default)(D)?(0,j.default)(D,function(se,A){se===!0&&O.push(A),O.push(A+"-"+se)}):(0,b.default)(D)&&O.push(D)}),O};W.default=V},WFLz:function($,W,f){"use strict";var F=f("wx14"),b=f("rePB"),x=f("VTBJ"),j=f("Ff2n"),S=f("q1tI"),B=f.n(S),R=["colon","dependencies","extra","getValueFromEvent","getValueProps","hasFeedback","help","htmlFor","initialValue","noStyle","label","labelAlign","labelCol","name","preserve","normalize","required","rules","shouldUpdate","trigger","validateFirst","validateStatus","validateTrigger","valuePropName","wrapperCol","hidden","addonBefore","addonAfter"];function C(de){var Ye={};return R.forEach(function(rt){de[rt]!==void 0&&(Ye[rt]=de[rt])}),Ye}var p=f("PjWh"),V=f("ft2k"),w=f("ipCM"),_=f("TSYQ"),O=f.n(_),D=f("Kwbf"),se=f("AMKO"),A=f("lS/g"),Y=f("DVw6"),L=["valueType","customLightMode","lightFilterLabelFormatter","valuePropName","ignoreWidth","defaultProps"],K=["label","tooltip","placeholder","width","proFieldProps","bordered","messageVariables","ignoreFormItem","transform","readonly","allowClear","colSize","formItemProps","filedConfig"],y=Symbol("ProFormComponent"),ne={xs:104,s:216,sm:216,m:328,md:328,l:440,lg:440,xl:552};function Ae(de,Ye){de.displayName="ProFormComponent";var rt=function($e){var et,Rt,Vt,Ge,Me,Qe=Object(x.a)(Object(x.a)({},$e==null?void 0:$e.filedConfig),Ye)||{},Ie=Qe.valueType,Ot=Qe.customLightMode,ot=Qe.lightFilterLabelFormatter,ht=Qe.valuePropName,Pt=ht===void 0?"value":ht,it=Qe.ignoreWidth,ge=Qe.defaultProps,yt=Object(j.a)(Qe,L),It=Object(x.a)(Object(x.a)({},ge),$e),dn=It.label,wn=It.tooltip,Kt=It.placeholder,qe=It.width,Et=It.proFieldProps,$t=It.bordered,J=It.messageVariables,te=It.ignoreFormItem,Q=It.transform,Oe=It.readonly,we=It.allowClear,Fe=It.colSize,ve=It.formItemProps,oe=It.filedConfig,Pe=Object(j.a)(It,K),Le=B.a.useContext(A.a),Ve=Le.fieldProps,We=Le.formItemProps,st=C(Pe),St=Object(S.useMemo)(function(){return Object(p.a)({value:Pe.value})},[Pe.value]),dt=Object(S.useMemo)(function(){return te?Object(p.a)(St):{}},[St,te]),kt=Object(S.useMemo)(function(){var Pn;return Object(p.a)(Object(x.a)(Object(x.a)(Object(x.a)(Object(x.a)({},dt),{},{disabled:$e.disabled,placeholder:Kt},Ve||{}),Pe.fieldProps||{}),{},{style:Object(p.a)(Object(x.a)(Object(x.a)({},(Pn=Pe.fieldProps)===null||Pn===void 0?void 0:Pn.style),Ve==null?void 0:Ve.style))}))},[Ve,Kt,$e.disabled,dt,Pe.fieldProps]),ct=Object(x.a)(Object(x.a)(Object(x.a)(Object(x.a)({messageVariables:J},yt),We),st),ve);Object(D.b)(!Pe.defaultValue,"\u8BF7\u4E0D\u8981\u5728 Form \u4E2D\u4F7F\u7528 defaultXXX\u3002\u5982\u679C\u9700\u8981\u9ED8\u8BA4\u503C\u8BF7\u4F7F\u7528 initialValues \u548C initialValue\u3002");var Dt=Object(S.useMemo)(function(){return["switch","radioButton","radio","rate"]},[]),Gt=Object(S.useMemo)(function(){return(ct==null?void 0:ct.name)&&"form-field-".concat(ct.name)},[Object(se.a)(ct==null?void 0:ct.name)]),Ct=Object(S.useMemo)(function(){return Object(x.a)({},kt==null?void 0:kt.style)},[Object(se.a)(kt==null?void 0:kt.style)]);Ct.width!==void 0&&Pe.valueType==="switch"&&delete Ct.width;var zt=Object(S.useMemo)(function(){return Pe.valueType},[Pe.valueType]),Xt=Object(V.a)(Pe),Jt=Object(S.useMemo)(function(){return B.a.createElement(de,Object(F.a)({},Pe,{fieldProps:Object(p.a)(Object(x.a)(Object(x.a)({allowClear:we},kt),{},{style:Object(p.a)(Object(x.a)({width:qe&&!ne[qe]?qe:void 0},Ct)),className:O()(kt==null?void 0:kt.className,Object(b.a)({"pro-field":qe&&ne[qe]},"pro-field-".concat(qe),qe&&!Dt.includes(zt)&&!it&&ne[qe]))||void 0})),proFieldProps:Object(p.a)(Object(x.a)({mode:Oe?"read":Pe==null?void 0:Pe.mode,params:Pe.params,proFieldKey:Gt},Et))}))},[we,it,Dt,Gt,Object(se.a)(Et),zt,Oe,kt,Ct,Object(w.a)(Xt,Pe,["onChange","onBlur","onFocus","record"])?void 0:{},qe]);return B.a.createElement(Y.a,Object(F.a)({label:dn&&(Et==null?void 0:Et.light)!==!0?dn:void 0,tooltip:(Et==null?void 0:Et.light)!==!0&&wn,valuePropName:Pt,key:(et=ct.name)===null||et===void 0?void 0:et.toString()},ct,{ignoreFormItem:te,transform:Q,dataFormat:(Rt=Pe.fieldProps)===null||Rt===void 0?void 0:Rt.format,valueType:Ie||Pe.valueType,messageVariables:Object(x.a)({label:dn||""},ct==null?void 0:ct.messageVariables),lightProps:Object(p.a)(Object(x.a)(Object(x.a)(Object(x.a)({},kt),{},{valueType:Ie||Pe.valueType,bordered:$t,allowClear:(Vt=Jt==null||(Ge=Jt.props)===null||Ge===void 0?void 0:Ge.allowClear)!==null&&Vt!==void 0?Vt:we,light:Et==null?void 0:Et.light,label:dn,customLightMode:Ot,labelFormatter:ot,valuePropName:Pt,footerRender:Jt==null||(Me=Jt.props)===null||Me===void 0?void 0:Me.footerRender},Pe.lightProps),ct.lightProps))}),Jt)};return rt.displayName="ProFormComponent",rt}var me=W.a=Ae},WOAq:function($,W,f){"use strict";(function(F){var b=f("Ju5/"),x=f("L3Qv"),j=typeof exports=="object"&&exports&&!exports.nodeType&&exports,S=j&&typeof F=="object"&&F&&!F.nodeType&&F,B=S&&S.exports===j,R=B?b.a.Buffer:void 0,C=R?R.isBuffer:void 0,p=C||x.a;W.a=p}).call(this,f("Vg/k")($))},WuYN:function($,W,f){"use strict";var F=f("y8nQ"),b=f("Vl3Y"),x=f("wx14"),j=f("VTBJ"),S=f("Ff2n"),B=f("q1tI"),R=f.n(B),C=f("ub+h"),p=f("bG1m"),V=f("x1Ii"),w=f("wUu8"),_=f("/PRe"),O=["name","children","ignoreFormListField"],D=function(A){var Y=A.name,L=A.children,K=A.ignoreFormListField,y=Object(S.a)(A,O),ne=Object(B.useContext)(w.a),Ae=Object(B.useContext)(V.a),me=Object(B.useMemo)(function(){return Ae.name===void 0?Y:Y.map(function(de){return[Ae.listName,de].flat(1)})},[Ae.listName,Ae.name,Y]);return R.a.createElement(b.a.Item,Object(x.a)({},y,{noStyle:!0,shouldUpdate:function(Ye,rt){var Tt=me;return K&&Array.isArray(Ae.listName)&&Ae.listName.length>0&&(Tt=me.map(function($e){return Array.isArray($e)?$e.slice(Ae.listName.length):$e})),Tt.some(function($e){var et=Array.isArray($e)?$e:[$e];return Object(C.a)(Ye,et)!==Object(C.a)(rt,et)})}}),function(de){if(Ae.name===void 0){var Ye=me.reduce(function($e,et){var Rt,Vt=ne==null||(Rt=ne.getFieldsFormatValue)===null||Rt===void 0?void 0:Rt.call(ne,[et]),Ge=de.getFieldsValue([et]);return Object(_.a)({},$e,Ge,Vt)},{});return L==null?void 0:L(Object(j.a)({},Ye),de)}if(K){var rt=Y.reduce(function($e,et){var Rt=[et].flat(1),Vt=de.getFieldValue(Rt);return Object(p.a)($e,[et].flat(1),Vt,!1)},{});return L==null?void 0:L(Object(j.a)({},rt),de)}var Tt=Y.reduce(function($e,et){var Rt=[Ae.listName,et].flat(1),Vt=de.getFieldValue(Rt);return Object(p.a)($e,[et].flat(1),Vt,!1)},{});return L==null?void 0:L(Object(j.a)({},Tt),de)})};W.a=D},WwFo:function($,W,f){var F=f("juv8"),b=f("7GkX");function x(j,S){return j&&F(S,b(S),j)}$.exports=x},XCrF:function($,W,f){"use strict";var F=f("EFp3"),b=f.n(F),x=f("QeVK"),j=f.n(x)},XQvf:function($,W,f){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.active=void 0;var F=Object.assign||function(p){for(var V=1;V<arguments.length;V++){var w=arguments[V];for(var _ in w)Object.prototype.hasOwnProperty.call(w,_)&&(p[_]=w[_])}return p},b=f("q1tI"),x=j(b);function j(p){return p&&p.__esModule?p:{default:p}}function S(p,V){if(!(p instanceof V))throw new TypeError("Cannot call a class as a function")}function B(p,V){if(!p)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return V&&(typeof V=="object"||typeof V=="function")?V:p}function R(p,V){if(typeof V!="function"&&V!==null)throw new TypeError("Super expression must either be null or a function, not "+typeof V);p.prototype=Object.create(V&&V.prototype,{constructor:{value:p,enumerable:!1,writable:!0,configurable:!0}}),V&&(Object.setPrototypeOf?Object.setPrototypeOf(p,V):p.__proto__=V)}var C=W.active=function(V){var w=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"span";return function(_){R(O,_);function O(){var D,se,A,Y;S(this,O);for(var L=arguments.length,K=Array(L),y=0;y<L;y++)K[y]=arguments[y];return Y=(se=(A=B(this,(D=O.__proto__||Object.getPrototypeOf(O)).call.apply(D,[this].concat(K))),A),A.state={active:!1},A.handleMouseDown=function(){return A.setState({active:!0})},A.handleMouseUp=function(){return A.setState({active:!1})},A.render=function(){return x.default.createElement(w,{onMouseDown:A.handleMouseDown,onMouseUp:A.handleMouseUp},x.default.createElement(V,F({},A.props,A.state)))},se),B(A,Y)}return O}(x.default.Component)};W.default=C},XYm9:function($,W,f){var F=f("+K+b");function b(x,j){var S=j?F(x.buffer):x.buffer;return new x.constructor(S,x.byteOffset,x.byteLength)}$.exports=b},XqMk:function($,W,f){"use strict";(function(F){var b=typeof F=="object"&&F&&F.Object===Object&&F;W.a=b}).call(this,f("IyRk"))},Y7yP:function($,W,f){"use strict";var F=f("vJtL"),b=f("Ju5/"),x=b.a["__core-js_shared__"],j=x,S=function(){var me=/[^.]+$/.exec(j&&j.keys&&j.keys.IE_PROTO||"");return me?"Symbol(src)_1."+me:""}();function B(me){return!!S&&S in me}var R=B,C=f("IzLi"),p=f("dLWn"),V=/[\\^$.*+?()[\]{}|]/g,w=/^\[object .+?Constructor\]$/,_=Function.prototype,O=Object.prototype,D=_.toString,se=O.hasOwnProperty,A=RegExp("^"+D.call(se).replace(V,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Y(me){if(!Object(C.a)(me)||R(me))return!1;var de=Object(F.a)(me)?A:w;return de.test(Object(p.a)(me))}var L=Y;function K(me,de){return me==null?void 0:me[de]}var y=K;function ne(me,de){var Ye=y(me,de);return L(Ye)?Ye:void 0}var Ae=W.a=ne},YHEm:function($,W,f){"use strict";function F(b,x){return b===x||b!==b&&x!==x}W.a=F},YO3V:function($,W,f){var F=f("NykK"),b=f("LcsW"),x=f("ExA7"),j="[object Object]",S=Function.prototype,B=Object.prototype,R=S.toString,C=B.hasOwnProperty,p=R.call(Object);function V(w){if(!x(w)||F(w)!=j)return!1;var _=b(w);if(_===null)return!0;var O=C.call(_,"constructor")&&_.constructor;return typeof O=="function"&&O instanceof O&&R.call(O)==p}$.exports=V},YSkC:function($,W,f){"use strict";var F=f("5Dmo"),b=f("3S7+"),x=f("rePB"),j=f("GNNt"),S=f("wEI+"),B=f("q1tI"),R=f.n(B),C=f("+YFz"),p=f("slOs"),V=f.n(p),w=f("TSYQ"),_=f.n(w),O=function(se){var A=se.label,Y=se.tooltip,L=se.ellipsis,K=se.subTitle,y=Object(B.useContext)(S.b.ConfigContext),ne=y.getPrefixCls;if(!Y&&!K)return R.a.createElement(R.a.Fragment,null,A);var Ae=ne("pro-core-label-tip"),me=typeof Y=="string"||R.a.isValidElement(Y)?{title:Y}:Y,de=(me==null?void 0:me.icon)||R.a.createElement(C.a,null);return R.a.createElement("div",{className:Ae,onMouseDown:function(rt){return rt.stopPropagation()},onMouseLeave:function(rt){return rt.stopPropagation()},onMouseMove:function(rt){return rt.stopPropagation()}},R.a.createElement("div",{className:_()("".concat(Ae,"-title"),Object(x.a)({},"".concat(Ae,"-title-ellipsis"),L))},A),K&&R.a.createElement("div",{className:"".concat(Ae,"-subtitle")},K),Y&&R.a.createElement(b.a,me,R.a.createElement("span",{className:"".concat(Ae,"-icon")},de)))};W.a=R.a.memo(O)},YkAm:function($,W,f){},Z1je:function($,W,f){},ZCpW:function($,W,f){var F=f("lm/5"),b=f("O7RO"),x=f("IOzZ");function j(S){var B=b(S);return B.length==1&&B[0][2]?x(B[0][0],B[0][1]):function(R){return R===S||F(R,S,B)}}$.exports=j},ZJpN:function($,W,f){var F=f("h875"),b=f("5h2M");function x(j,S,B){return b()?$.exports=x=Reflect.construct:$.exports=x=function(C,p,V){var w=[null];w.push.apply(w,p);var _=Function.bind.apply(C,w),O=new _;return V&&F(O,V.prototype),O},x.apply(null,arguments)}$.exports=x},ZTW2:function($,W,f){},ZWtO:function($,W,f){var F=f("4uTw"),b=f("9Nap");function x(j,S){S=F(S,j);for(var B=0,R=S.length;j!=null&&B<R;)j=j[b(S[B++])];return B&&B==R?j:void 0}$.exports=x},Zss7:function($,W,f){var F;(function(b){var x=/^\s+/,j=/\s+$/,S=0,B=b.round,R=b.min,C=b.max,p=b.random;function V(J,te){if(J=J||"",te=te||{},J instanceof V)return J;if(!(this instanceof V))return new V(J,te);var Q=w(J);this._originalInput=J,this._r=Q.r,this._g=Q.g,this._b=Q.b,this._a=Q.a,this._roundA=B(100*this._a)/100,this._format=te.format||Q.format,this._gradientType=te.gradientType,this._r<1&&(this._r=B(this._r)),this._g<1&&(this._g=B(this._g)),this._b<1&&(this._b=B(this._b)),this._ok=Q.ok,this._tc_id=S++}V.prototype={isDark:function(){return this.getBrightness()<128},isLight:function(){return!this.isDark()},isValid:function(){return this._ok},getOriginalInput:function(){return this._originalInput},getFormat:function(){return this._format},getAlpha:function(){return this._a},getBrightness:function(){var te=this.toRgb();return(te.r*299+te.g*587+te.b*114)/1e3},getLuminance:function(){var te=this.toRgb(),Q,Oe,we,Fe,ve,oe;return Q=te.r/255,Oe=te.g/255,we=te.b/255,Q<=.03928?Fe=Q/12.92:Fe=b.pow((Q+.055)/1.055,2.4),Oe<=.03928?ve=Oe/12.92:ve=b.pow((Oe+.055)/1.055,2.4),we<=.03928?oe=we/12.92:oe=b.pow((we+.055)/1.055,2.4),.2126*Fe+.7152*ve+.0722*oe},setAlpha:function(te){return this._a=Ot(te),this._roundA=B(100*this._a)/100,this},toHsv:function(){var te=se(this._r,this._g,this._b);return{h:te.h*360,s:te.s,v:te.v,a:this._a}},toHsvString:function(){var te=se(this._r,this._g,this._b),Q=B(te.h*360),Oe=B(te.s*100),we=B(te.v*100);return this._a==1?"hsv("+Q+", "+Oe+"%, "+we+"%)":"hsva("+Q+", "+Oe+"%, "+we+"%, "+this._roundA+")"},toHsl:function(){var te=O(this._r,this._g,this._b);return{h:te.h*360,s:te.s,l:te.l,a:this._a}},toHslString:function(){var te=O(this._r,this._g,this._b),Q=B(te.h*360),Oe=B(te.s*100),we=B(te.l*100);return this._a==1?"hsl("+Q+", "+Oe+"%, "+we+"%)":"hsla("+Q+", "+Oe+"%, "+we+"%, "+this._roundA+")"},toHex:function(te){return Y(this._r,this._g,this._b,te)},toHexString:function(te){return"#"+this.toHex(te)},toHex8:function(te){return L(this._r,this._g,this._b,this._a,te)},toHex8String:function(te){return"#"+this.toHex8(te)},toRgb:function(){return{r:B(this._r),g:B(this._g),b:B(this._b),a:this._a}},toRgbString:function(){return this._a==1?"rgb("+B(this._r)+", "+B(this._g)+", "+B(this._b)+")":"rgba("+B(this._r)+", "+B(this._g)+", "+B(this._b)+", "+this._roundA+")"},toPercentageRgb:function(){return{r:B(ot(this._r,255)*100)+"%",g:B(ot(this._g,255)*100)+"%",b:B(ot(this._b,255)*100)+"%",a:this._a}},toPercentageRgbString:function(){return this._a==1?"rgb("+B(ot(this._r,255)*100)+"%, "+B(ot(this._g,255)*100)+"%, "+B(ot(this._b,255)*100)+"%)":"rgba("+B(ot(this._r,255)*100)+"%, "+B(ot(this._g,255)*100)+"%, "+B(ot(this._b,255)*100)+"%, "+this._roundA+")"},toName:function(){return this._a===0?"transparent":this._a<1?!1:Qe[Y(this._r,this._g,this._b,!0)]||!1},toFilter:function(te){var Q="#"+K(this._r,this._g,this._b,this._a),Oe=Q,we=this._gradientType?"GradientType = 1, ":"";if(te){var Fe=V(te);Oe="#"+K(Fe._r,Fe._g,Fe._b,Fe._a)}return"progid:DXImageTransform.Microsoft.gradient("+we+"startColorstr="+Q+",endColorstr="+Oe+")"},toString:function(te){var Q=!!te;te=te||this._format;var Oe=!1,we=this._a<1&&this._a>=0,Fe=!Q&&we&&(te==="hex"||te==="hex6"||te==="hex3"||te==="hex4"||te==="hex8"||te==="name");return Fe?te==="name"&&this._a===0?this.toName():this.toRgbString():(te==="rgb"&&(Oe=this.toRgbString()),te==="prgb"&&(Oe=this.toPercentageRgbString()),(te==="hex"||te==="hex6")&&(Oe=this.toHexString()),te==="hex3"&&(Oe=this.toHexString(!0)),te==="hex4"&&(Oe=this.toHex8String(!0)),te==="hex8"&&(Oe=this.toHex8String()),te==="name"&&(Oe=this.toName()),te==="hsl"&&(Oe=this.toHslString()),te==="hsv"&&(Oe=this.toHsvString()),Oe||this.toHexString())},clone:function(){return V(this.toString())},_applyModification:function(te,Q){var Oe=te.apply(null,[this].concat([].slice.call(Q)));return this._r=Oe._r,this._g=Oe._g,this._b=Oe._b,this.setAlpha(Oe._a),this},lighten:function(){return this._applyModification(me,arguments)},brighten:function(){return this._applyModification(de,arguments)},darken:function(){return this._applyModification(Ye,arguments)},desaturate:function(){return this._applyModification(y,arguments)},saturate:function(){return this._applyModification(ne,arguments)},greyscale:function(){return this._applyModification(Ae,arguments)},spin:function(){return this._applyModification(rt,arguments)},_applyCombination:function(te,Q){return te.apply(null,[this].concat([].slice.call(Q)))},analogous:function(){return this._applyCombination(Vt,arguments)},complement:function(){return this._applyCombination(Tt,arguments)},monochromatic:function(){return this._applyCombination(Ge,arguments)},splitcomplement:function(){return this._applyCombination(Rt,arguments)},triad:function(){return this._applyCombination($e,arguments)},tetrad:function(){return this._applyCombination(et,arguments)}},V.fromRatio=function(J,te){if(typeof J=="object"){var Q={};for(var Oe in J)J.hasOwnProperty(Oe)&&(Oe==="a"?Q[Oe]=J[Oe]:Q[Oe]=It(J[Oe]));J=Q}return V(J,te)};function w(J){var te={r:0,g:0,b:0},Q=1,Oe=null,we=null,Fe=null,ve=!1,oe=!1;return typeof J=="string"&&(J=Et(J)),typeof J=="object"&&(qe(J.r)&&qe(J.g)&&qe(J.b)?(te=_(J.r,J.g,J.b),ve=!0,oe=String(J.r).substr(-1)==="%"?"prgb":"rgb"):qe(J.h)&&qe(J.s)&&qe(J.v)?(Oe=It(J.s),we=It(J.v),te=A(J.h,Oe,we),ve=!0,oe="hsv"):qe(J.h)&&qe(J.s)&&qe(J.l)&&(Oe=It(J.s),Fe=It(J.l),te=D(J.h,Oe,Fe),ve=!0,oe="hsl"),J.hasOwnProperty("a")&&(Q=J.a)),Q=Ot(Q),{ok:ve,format:J.format||oe,r:R(255,C(te.r,0)),g:R(255,C(te.g,0)),b:R(255,C(te.b,0)),a:Q}}function _(J,te,Q){return{r:ot(J,255)*255,g:ot(te,255)*255,b:ot(Q,255)*255}}function O(J,te,Q){J=ot(J,255),te=ot(te,255),Q=ot(Q,255);var Oe=C(J,te,Q),we=R(J,te,Q),Fe,ve,oe=(Oe+we)/2;if(Oe==we)Fe=ve=0;else{var Pe=Oe-we;switch(ve=oe>.5?Pe/(2-Oe-we):Pe/(Oe+we),Oe){case J:Fe=(te-Q)/Pe+(te<Q?6:0);break;case te:Fe=(Q-J)/Pe+2;break;case Q:Fe=(J-te)/Pe+4;break}Fe/=6}return{h:Fe,s:ve,l:oe}}function D(J,te,Q){var Oe,we,Fe;J=ot(J,360),te=ot(te,100),Q=ot(Q,100);function ve(Le,Ve,We){return We<0&&(We+=1),We>1&&(We-=1),We<1/6?Le+(Ve-Le)*6*We:We<1/2?Ve:We<2/3?Le+(Ve-Le)*(2/3-We)*6:Le}if(te===0)Oe=we=Fe=Q;else{var oe=Q<.5?Q*(1+te):Q+te-Q*te,Pe=2*Q-oe;Oe=ve(Pe,oe,J+1/3),we=ve(Pe,oe,J),Fe=ve(Pe,oe,J-1/3)}return{r:Oe*255,g:we*255,b:Fe*255}}function se(J,te,Q){J=ot(J,255),te=ot(te,255),Q=ot(Q,255);var Oe=C(J,te,Q),we=R(J,te,Q),Fe,ve,oe=Oe,Pe=Oe-we;if(ve=Oe===0?0:Pe/Oe,Oe==we)Fe=0;else{switch(Oe){case J:Fe=(te-Q)/Pe+(te<Q?6:0);break;case te:Fe=(Q-J)/Pe+2;break;case Q:Fe=(J-te)/Pe+4;break}Fe/=6}return{h:Fe,s:ve,v:oe}}function A(J,te,Q){J=ot(J,360)*6,te=ot(te,100),Q=ot(Q,100);var Oe=b.floor(J),we=J-Oe,Fe=Q*(1-te),ve=Q*(1-we*te),oe=Q*(1-(1-we)*te),Pe=Oe%6,Le=[Q,ve,Fe,Fe,oe,Q][Pe],Ve=[oe,Q,Q,ve,Fe,Fe][Pe],We=[Fe,Fe,oe,Q,Q,ve][Pe];return{r:Le*255,g:Ve*255,b:We*255}}function Y(J,te,Q,Oe){var we=[yt(B(J).toString(16)),yt(B(te).toString(16)),yt(B(Q).toString(16))];return Oe&&we[0].charAt(0)==we[0].charAt(1)&&we[1].charAt(0)==we[1].charAt(1)&&we[2].charAt(0)==we[2].charAt(1)?we[0].charAt(0)+we[1].charAt(0)+we[2].charAt(0):we.join("")}function L(J,te,Q,Oe,we){var Fe=[yt(B(J).toString(16)),yt(B(te).toString(16)),yt(B(Q).toString(16)),yt(dn(Oe))];return we&&Fe[0].charAt(0)==Fe[0].charAt(1)&&Fe[1].charAt(0)==Fe[1].charAt(1)&&Fe[2].charAt(0)==Fe[2].charAt(1)&&Fe[3].charAt(0)==Fe[3].charAt(1)?Fe[0].charAt(0)+Fe[1].charAt(0)+Fe[2].charAt(0)+Fe[3].charAt(0):Fe.join("")}function K(J,te,Q,Oe){var we=[yt(dn(Oe)),yt(B(J).toString(16)),yt(B(te).toString(16)),yt(B(Q).toString(16))];return we.join("")}V.equals=function(J,te){return!J||!te?!1:V(J).toRgbString()==V(te).toRgbString()},V.random=function(){return V.fromRatio({r:p(),g:p(),b:p()})};function y(J,te){te=te===0?0:te||10;var Q=V(J).toHsl();return Q.s-=te/100,Q.s=ht(Q.s),V(Q)}function ne(J,te){te=te===0?0:te||10;var Q=V(J).toHsl();return Q.s+=te/100,Q.s=ht(Q.s),V(Q)}function Ae(J){return V(J).desaturate(100)}function me(J,te){te=te===0?0:te||10;var Q=V(J).toHsl();return Q.l+=te/100,Q.l=ht(Q.l),V(Q)}function de(J,te){te=te===0?0:te||10;var Q=V(J).toRgb();return Q.r=C(0,R(255,Q.r-B(255*-(te/100)))),Q.g=C(0,R(255,Q.g-B(255*-(te/100)))),Q.b=C(0,R(255,Q.b-B(255*-(te/100)))),V(Q)}function Ye(J,te){te=te===0?0:te||10;var Q=V(J).toHsl();return Q.l-=te/100,Q.l=ht(Q.l),V(Q)}function rt(J,te){var Q=V(J).toHsl(),Oe=(Q.h+te)%360;return Q.h=Oe<0?360+Oe:Oe,V(Q)}function Tt(J){var te=V(J).toHsl();return te.h=(te.h+180)%360,V(te)}function $e(J){var te=V(J).toHsl(),Q=te.h;return[V(J),V({h:(Q+120)%360,s:te.s,l:te.l}),V({h:(Q+240)%360,s:te.s,l:te.l})]}function et(J){var te=V(J).toHsl(),Q=te.h;return[V(J),V({h:(Q+90)%360,s:te.s,l:te.l}),V({h:(Q+180)%360,s:te.s,l:te.l}),V({h:(Q+270)%360,s:te.s,l:te.l})]}function Rt(J){var te=V(J).toHsl(),Q=te.h;return[V(J),V({h:(Q+72)%360,s:te.s,l:te.l}),V({h:(Q+216)%360,s:te.s,l:te.l})]}function Vt(J,te,Q){te=te||6,Q=Q||30;var Oe=V(J).toHsl(),we=360/Q,Fe=[V(J)];for(Oe.h=(Oe.h-(we*te>>1)+720)%360;--te;)Oe.h=(Oe.h+we)%360,Fe.push(V(Oe));return Fe}function Ge(J,te){te=te||6;for(var Q=V(J).toHsv(),Oe=Q.h,we=Q.s,Fe=Q.v,ve=[],oe=1/te;te--;)ve.push(V({h:Oe,s:we,v:Fe})),Fe=(Fe+oe)%1;return ve}V.mix=function(J,te,Q){Q=Q===0?0:Q||50;var Oe=V(J).toRgb(),we=V(te).toRgb(),Fe=Q/100,ve={r:(we.r-Oe.r)*Fe+Oe.r,g:(we.g-Oe.g)*Fe+Oe.g,b:(we.b-Oe.b)*Fe+Oe.b,a:(we.a-Oe.a)*Fe+Oe.a};return V(ve)},V.readability=function(J,te){var Q=V(J),Oe=V(te);return(b.max(Q.getLuminance(),Oe.getLuminance())+.05)/(b.min(Q.getLuminance(),Oe.getLuminance())+.05)},V.isReadable=function(J,te,Q){var Oe=V.readability(J,te),we,Fe;switch(Fe=!1,we=$t(Q),we.level+we.size){case"AAsmall":case"AAAlarge":Fe=Oe>=4.5;break;case"AAlarge":Fe=Oe>=3;break;case"AAAsmall":Fe=Oe>=7;break}return Fe},V.mostReadable=function(J,te,Q){var Oe=null,we=0,Fe,ve,oe,Pe;Q=Q||{},ve=Q.includeFallbackColors,oe=Q.level,Pe=Q.size;for(var Le=0;Le<te.length;Le++)Fe=V.readability(J,te[Le]),Fe>we&&(we=Fe,Oe=V(te[Le]));return V.isReadable(J,Oe,{level:oe,size:Pe})||!ve?Oe:(Q.includeFallbackColors=!1,V.mostReadable(J,["#fff","#000"],Q))};var Me=V.names={aliceblue:"f0f8ff",antiquewhite:"faebd7",aqua:"0ff",aquamarine:"7fffd4",azure:"f0ffff",beige:"f5f5dc",bisque:"ffe4c4",black:"000",blanchedalmond:"ffebcd",blue:"00f",blueviolet:"8a2be2",brown:"a52a2a",burlywood:"deb887",burntsienna:"ea7e5d",cadetblue:"5f9ea0",chartreuse:"7fff00",chocolate:"d2691e",coral:"ff7f50",cornflowerblue:"6495ed",cornsilk:"fff8dc",crimson:"dc143c",cyan:"0ff",darkblue:"00008b",darkcyan:"008b8b",darkgoldenrod:"b8860b",darkgray:"a9a9a9",darkgreen:"006400",darkgrey:"a9a9a9",darkkhaki:"bdb76b",darkmagenta:"8b008b",darkolivegreen:"556b2f",darkorange:"ff8c00",darkorchid:"9932cc",darkred:"8b0000",darksalmon:"e9967a",darkseagreen:"8fbc8f",darkslateblue:"483d8b",darkslategray:"2f4f4f",darkslategrey:"2f4f4f",darkturquoise:"00ced1",darkviolet:"9400d3",deeppink:"ff1493",deepskyblue:"00bfff",dimgray:"696969",dimgrey:"696969",dodgerblue:"1e90ff",firebrick:"b22222",floralwhite:"fffaf0",forestgreen:"228b22",fuchsia:"f0f",gainsboro:"dcdcdc",ghostwhite:"f8f8ff",gold:"ffd700",goldenrod:"daa520",gray:"808080",green:"008000",greenyellow:"adff2f",grey:"808080",honeydew:"f0fff0",hotpink:"ff69b4",indianred:"cd5c5c",indigo:"4b0082",ivory:"fffff0",khaki:"f0e68c",lavender:"e6e6fa",lavenderblush:"fff0f5",lawngreen:"7cfc00",lemonchiffon:"fffacd",lightblue:"add8e6",lightcoral:"f08080",lightcyan:"e0ffff",lightgoldenrodyellow:"fafad2",lightgray:"d3d3d3",lightgreen:"90ee90",lightgrey:"d3d3d3",lightpink:"ffb6c1",lightsalmon:"ffa07a",lightseagreen:"20b2aa",lightskyblue:"87cefa",lightslategray:"789",lightslategrey:"789",lightsteelblue:"b0c4de",lightyellow:"ffffe0",lime:"0f0",limegreen:"32cd32",linen:"faf0e6",magenta:"f0f",maroon:"800000",mediumaquamarine:"66cdaa",mediumblue:"0000cd",mediumorchid:"ba55d3",mediumpurple:"9370db",mediumseagreen:"3cb371",mediumslateblue:"7b68ee",mediumspringgreen:"00fa9a",mediumturquoise:"48d1cc",mediumvioletred:"c71585",midnightblue:"191970",mintcream:"f5fffa",mistyrose:"ffe4e1",moccasin:"ffe4b5",navajowhite:"ffdead",navy:"000080",oldlace:"fdf5e6",olive:"808000",olivedrab:"6b8e23",orange:"ffa500",orangered:"ff4500",orchid:"da70d6",palegoldenrod:"eee8aa",palegreen:"98fb98",paleturquoise:"afeeee",palevioletred:"db7093",papayawhip:"ffefd5",peachpuff:"ffdab9",peru:"cd853f",pink:"ffc0cb",plum:"dda0dd",powderblue:"b0e0e6",purple:"800080",rebeccapurple:"663399",red:"f00",rosybrown:"bc8f8f",royalblue:"4169e1",saddlebrown:"8b4513",salmon:"fa8072",sandybrown:"f4a460",seagreen:"2e8b57",seashell:"fff5ee",sienna:"a0522d",silver:"c0c0c0",skyblue:"87ceeb",slateblue:"6a5acd",slategray:"708090",slategrey:"708090",snow:"fffafa",springgreen:"00ff7f",steelblue:"4682b4",tan:"d2b48c",teal:"008080",thistle:"d8bfd8",tomato:"ff6347",turquoise:"40e0d0",violet:"ee82ee",wheat:"f5deb3",white:"fff",whitesmoke:"f5f5f5",yellow:"ff0",yellowgreen:"9acd32"},Qe=V.hexNames=Ie(Me);function Ie(J){var te={};for(var Q in J)J.hasOwnProperty(Q)&&(te[J[Q]]=Q);return te}function Ot(J){return J=parseFloat(J),(isNaN(J)||J<0||J>1)&&(J=1),J}function ot(J,te){it(J)&&(J="100%");var Q=ge(J);return J=R(te,C(0,parseFloat(J))),Q&&(J=parseInt(J*te,10)/100),b.abs(J-te)<1e-6?1:J%te/parseFloat(te)}function ht(J){return R(1,C(0,J))}function Pt(J){return parseInt(J,16)}function it(J){return typeof J=="string"&&J.indexOf(".")!=-1&&parseFloat(J)===1}function ge(J){return typeof J=="string"&&J.indexOf("%")!=-1}function yt(J){return J.length==1?"0"+J:""+J}function It(J){return J<=1&&(J=J*100+"%"),J}function dn(J){return b.round(parseFloat(J)*255).toString(16)}function wn(J){return Pt(J)/255}var Kt=function(){var J="[-\\+]?\\d+%?",te="[-\\+]?\\d*\\.\\d+%?",Q="(?:"+te+")|(?:"+J+")",Oe="[\\s|\\(]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")\\s*\\)?",we="[\\s|\\(]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")[,|\\s]+("+Q+")\\s*\\)?";return{CSS_UNIT:new RegExp(Q),rgb:new RegExp("rgb"+Oe),rgba:new RegExp("rgba"+we),hsl:new RegExp("hsl"+Oe),hsla:new RegExp("hsla"+we),hsv:new RegExp("hsv"+Oe),hsva:new RegExp("hsva"+we),hex3:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex6:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/,hex4:/^#?([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,hex8:/^#?([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})([0-9a-fA-F]{2})$/}}();function qe(J){return!!Kt.CSS_UNIT.exec(J)}function Et(J){J=J.replace(x,"").replace(j,"").toLowerCase();var te=!1;if(Me[J])J=Me[J],te=!0;else if(J=="transparent")return{r:0,g:0,b:0,a:0,format:"name"};var Q;return(Q=Kt.rgb.exec(J))?{r:Q[1],g:Q[2],b:Q[3]}:(Q=Kt.rgba.exec(J))?{r:Q[1],g:Q[2],b:Q[3],a:Q[4]}:(Q=Kt.hsl.exec(J))?{h:Q[1],s:Q[2],l:Q[3]}:(Q=Kt.hsla.exec(J))?{h:Q[1],s:Q[2],l:Q[3],a:Q[4]}:(Q=Kt.hsv.exec(J))?{h:Q[1],s:Q[2],v:Q[3]}:(Q=Kt.hsva.exec(J))?{h:Q[1],s:Q[2],v:Q[3],a:Q[4]}:(Q=Kt.hex8.exec(J))?{r:Pt(Q[1]),g:Pt(Q[2]),b:Pt(Q[3]),a:wn(Q[4]),format:te?"name":"hex8"}:(Q=Kt.hex6.exec(J))?{r:Pt(Q[1]),g:Pt(Q[2]),b:Pt(Q[3]),format:te?"name":"hex"}:(Q=Kt.hex4.exec(J))?{r:Pt(Q[1]+""+Q[1]),g:Pt(Q[2]+""+Q[2]),b:Pt(Q[3]+""+Q[3]),a:wn(Q[4]+""+Q[4]),format:te?"name":"hex8"}:(Q=Kt.hex3.exec(J))?{r:Pt(Q[1]+""+Q[1]),g:Pt(Q[2]+""+Q[2]),b:Pt(Q[3]+""+Q[3]),format:te?"name":"hex"}:!1}function $t(J){var te,Q;return J=J||{level:"AA",size:"small"},te=(J.level||"AA").toUpperCase(),Q=(J.size||"small").toLowerCase(),te!=="AA"&&te!=="AAA"&&(te="AA"),Q!=="small"&&Q!=="large"&&(Q="small"),{level:te,size:Q}}$.exports?$.exports=V:(F=function(){return V}.call(W,f,W,$),F!==void 0&&($.exports=F))})(Math)},"aK+R":function($,W,f){},aZkK:function($,W,f){"use strict";function F(S){return function(B,R,C){for(var p=-1,V=Object(B),w=C(B),_=w.length;_--;){var O=w[S?_:++p];if(R(V[O],O,V)===!1)break}return B}}var b=F,x=b(),j=W.a=x},adzw:function($,W,f){"use strict";var F=f("wx14"),b=f("VTBJ"),x=f("Ff2n"),j=f("1OyB"),S=f("vuIU"),B=f("Ji7U"),R=f("LK+K"),C=f("q1tI"),p=f.n(C),V=f("/s86"),w=f("uX+g"),_=f("ipCM"),O=f("WFLz"),D=f("WuYN"),se=["fieldProps","children","labelCol","label","autoFocus","isDefaultDom","render","proFieldProps","renderFormItem","valueType","initialValue","onChange","valueEnum","params","name","valuePropName"],A=["fieldProps","children","labelCol","label","autoFocus","isDefaultDom","render","proFieldProps","renderFormItem","valueType","initialValue","onChange","valueEnum","params","name"],Y=function(L){Object(B.a)(y,L);var K=Object(R.a)(y);function y(){var ne;Object(j.a)(this,y);for(var Ae=arguments.length,me=new Array(Ae),de=0;de<Ae;de++)me[de]=arguments[de];return ne=K.call.apply(K,[this].concat(me)),ne.filedRef=p.a.createRef(),ne}return Object(S.a)(y,[{key:"renderDom",value:function(Ae){var me=this.props,de=me.fieldProps,Ye=me.children,rt=me.labelCol,Tt=me.label,$e=me.autoFocus,et=me.isDefaultDom,Rt=me.render,Vt=me.proFieldProps,Ge=me.renderFormItem,Me=me.valueType,Qe=me.initialValue,Ie=me.onChange,Ot=me.valueEnum,ot=me.params,ht=me.name,Pt=me.valuePropName,it=Pt===void 0?"value":Pt,ge=Object(x.a)(me,se),yt=Ae?Object(b.a)(Object(b.a)({},ot),Ae||{}):ot;return p.a.createElement(V.a,Object(F.a)({valuePropName:it,text:de==null?void 0:de[it],render:Rt,renderFormItem:Ge,valueType:Me||"text",fieldProps:Object(b.a)(Object(b.a)({autoFocus:$e},de),{},{onChange:function(){for(var dn=arguments.length,wn=new Array(dn),Kt=0;Kt<dn;Kt++)wn[Kt]=arguments[Kt];if(de==null?void 0:de.onChange){var qe;de==null||(qe=de.onChange)===null||qe===void 0||qe.call.apply(qe,[de].concat(wn));return}Ie==null||Ie.apply(void 0,wn)}}),valueEnum:Object(w.a)(Ot)},Vt,ge,{mode:(Vt==null?void 0:Vt.mode)||"edit",params:yt,ref:this.filedRef}))}},{key:"shouldComponentUpdate",value:function(Ae){return!Object(_.a)(Ae,this.props,["onChange","onBlur"])}},{key:"render",value:function(){var Ae=this,me=this.props,de=me.fieldProps,Ye=me.children,rt=me.labelCol,Tt=me.label,$e=me.autoFocus,et=me.isDefaultDom,Rt=me.render,Vt=me.proFieldProps,Ge=me.renderFormItem,Me=me.valueType,Qe=me.initialValue,Ie=me.onChange,Ot=me.valueEnum,ot=me.params,ht=me.name,Pt=Object(x.a)(me,A);return Ye?p.a.isValidElement(Ye)?p.a.cloneElement(Ye,Object(b.a)(Object(b.a)({},Pt),{},{onChange:function(){for(var ge=arguments.length,yt=new Array(ge),It=0;It<ge;It++)yt[It]=arguments[It];if(de==null?void 0:de.onChange){var dn;de==null||(dn=de.onChange)===null||dn===void 0||dn.call.apply(dn,[de].concat(yt));return}Ie==null||Ie.apply(void 0,yt)}},Ye.props)):Ye:Pt.dependencies&&Pt.request?p.a.createElement(D.a,{name:Pt.dependencies},function(it){return Ae.renderDom(it)}):this.renderDom()}}]),y}(p.a.Component);W.a=Object(O.a)(Y)},b1eo:function($,W,f){"use strict";var F=f("T2oS"),b=f("W9HT"),x=f("GNNt"),j=f("wEI+"),S=f("wx14"),B=f("rePB"),R=f("VTBJ"),C=f("o0o1"),p=f.n(C),V=f("HaE+"),w=f("y8nQ"),_=f("Vl3Y"),O=f("ODXe"),D=f("Ff2n"),se=f("q1tI"),A=f.n(se),Y=f("LQCs"),L=f("uX+g"),K=f("U8pU"),y=f("ub+h"),ne=f("bG1m"),Ae=f("POPG"),me=f("/PRe"),de=function(oe,Pe){var Le=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,Ve=Object.keys(Pe).reduce(function(St,dt){var kt=Pe[dt];return Object(Ae.a)(kt)||(St[dt]=kt),St},{});if(Object.keys(Ve).length<1||typeof window=="undefined"||Object(K.a)(oe)!=="object"||Object(Ae.a)(oe)||oe instanceof Blob)return oe;var We={},st=function St(dt,kt){var ct={};return dt==null||dt===void 0?ct:(Object.keys(dt).forEach(function(Dt){var Gt=kt?[kt,Dt].flat(1):[Dt].flat(1),Ct=dt[Dt],zt=Object(y.a)(Ve,Gt),Xt=function(){var fn=typeof zt=="function"?zt==null?void 0:zt(Ct,Dt,dt):Dt;if(Array.isArray(fn)){ct=Object(ne.a)(ct,fn,Ct);return}Object(K.a)(fn)==="object"?We=Object(R.a)(Object(R.a)({},We),fn):fn&&(ct=Object(ne.a)(ct,[fn],Ct))};if(zt&&typeof zt=="function"&&Xt(),typeof window!="undefined"){if(Object(K.a)(Ct)==="object"&&!Array.isArray(Ct)&&!A.a.isValidElement(Ct)&&!(Ct instanceof Blob)){var Jt=St(Ct,Gt);if(Object.keys(Jt).length<1)return;ct=Object(ne.a)(ct,[Dt],Jt);return}Xt()}}),Le?ct:dt)};return We=Object(me.a)({},st(oe),We),We},Ye=de,rt=f("1O3P"),Tt=f("9mHw"),$e=f("ft2k"),et=f("ipCM"),Rt=f("wUu8"),Vt=f("Lpa7"),Ge=0;function Me(ve){var oe=Object(se.useState)(function(){return ve.proFieldKey?ve.proFieldKey.toString():(Ge+=1,Ge.toString())}),Pe=Object(O.a)(oe,1),Le=Pe[0],Ve=Object(se.useRef)(Le),We=function(){var kt=Object(V.a)(p.a.mark(function ct(){var Dt,Gt;return p.a.wrap(function(zt){for(;;)switch(zt.prev=zt.next){case 0:return zt.next=2,(Dt=ve.request)===null||Dt===void 0?void 0:Dt.call(ve,ve.params,ve);case 2:return Gt=zt.sent,zt.abrupt("return",Gt);case 4:case"end":return zt.stop()}},ct)}));return function(){return kt.apply(this,arguments)}}(),st=Object(Vt.b)([Ve.current,ve.params],We,{revalidateOnFocus:!1,shouldRetryOnError:!1,revalidateOnReconnect:!1}),St=st.data,dt=st.error;return[St||dt]}var Qe=Me,Ie=function(){return Ie=Object.assign||function(ve){for(var oe,Pe=1,Le=arguments.length;Pe<Le;Pe++){oe=arguments[Pe];for(var Ve in oe)Object.prototype.hasOwnProperty.call(oe,Ve)&&(ve[Ve]=oe[Ve])}return ve},Ie.apply(this,arguments)};function Ot(ve){var oe,Pe=(typeof window!="undefined"?window:{}).URL,Le=new Pe((oe=window==null?void 0:window.location)===null||oe===void 0?void 0:oe.href);return Object.keys(ve).forEach(function(Ve){var We=ve[Ve];We!=null?Array.isArray(We)?(Le.searchParams.delete(Ve),We.forEach(function(st){Le.searchParams.append(Ve,st)})):We instanceof Date?Number.isNaN(We.getTime())||Le.searchParams.set(Ve,We.toISOString()):typeof We=="object"?Le.searchParams.set(Ve,JSON.stringify(We)):Le.searchParams.set(Ve,We):Le.searchParams.delete(Ve)}),Le}function ot(ve,oe){var Pe;ve===void 0&&(ve={}),oe===void 0&&(oe={disabled:!1});var Le=Object(se.useState)(),Ve=Le[1],We=typeof window!="undefined"&&((Pe=window==null?void 0:window.location)===null||Pe===void 0?void 0:Pe.search),st=Object(se.useMemo)(function(){return oe.disabled?{}:new URLSearchParams(We||{})},[oe.disabled,We]),St=Object(se.useMemo)(function(){if(oe.disabled)return{};if(typeof window=="undefined"||!window.URL)return{};var ct=[];st.forEach(function(Gt,Ct){ct.push({key:Ct,value:Gt})}),ct=ct.reduce(function(Gt,Ct){return(Gt[Ct.key]=Gt[Ct.key]||[]).push(Ct),Gt},{}),ct=Object.keys(ct).map(function(Gt){var Ct=ct[Gt];return Ct.length===1?[Gt,Ct[0].value]:[Gt,Ct.map(function(zt){var Xt=zt.value;return Xt})]});var Dt=Ie({},ve);return ct.forEach(function(Gt){var Ct=Gt[0],zt=Gt[1];Dt[Ct]=Pt(Ct,zt,{},ve)}),Dt},[oe.disabled,ve,st]);function dt(ct){if(!(typeof window=="undefined"||!window.URL)){var Dt=Ot(ct);window.location.search!==Dt.search&&window.history.replaceState({},"",Dt.toString()),st.toString()!==Dt.searchParams.toString()&&Ve({})}}Object(se.useEffect)(function(){oe.disabled||typeof window=="undefined"||!window.URL||dt(Ie(Ie({},ve),St))},[oe.disabled,St]);var kt=function(Dt){dt(Dt)};return Object(se.useEffect)(function(){if(oe.disabled)return function(){};if(typeof window=="undefined"||!window.URL)return function(){};var ct=function(){Ve({})};return window.addEventListener("popstate",ct),function(){window.removeEventListener("popstate",ct)}},[oe.disabled]),[St,kt]}var ht={true:!0,false:!1};function Pt(ve,oe,Pe,Le){if(!Pe)return oe;var Ve=Pe[ve],We=oe===void 0?Le[ve]:oe;return Ve===Number?Number(We):Ve===Boolean||oe==="true"||oe==="false"?ht[We]:Array.isArray(Ve)?Ve.find(function(st){return st==We})||Le[ve]:We}var it=f("lS/g"),ge=f("DYRE"),yt=f("zeV3"),It=f("+L6B"),dn=f("2/Rp"),wn=f("BGR+"),Kt=function(oe){var Pe=Object(Y.d)();if(oe.render===!1)return null;var Le=oe.form,Ve=oe.onSubmit,We=oe.render,st=oe.onReset,St=oe.searchConfig,dt=St===void 0?{}:St,kt=oe.submitButtonProps,ct=oe.resetButtonProps,Dt=ct===void 0?{}:ct,Gt=function(){Le.submit(),Ve==null||Ve()},Ct=function(){Le.resetFields(),st==null||st()},zt=dt.submitText,Xt=zt===void 0?Pe.getMessage("tableForm.submit","\u63D0\u4EA4"):zt,Jt=dt.resetText,Pn=Jt===void 0?Pe.getMessage("tableForm.reset","\u91CD\u7F6E"):Jt,fn=[];Dt!==!1&&fn.push(A.a.createElement(dn.a,Object(S.a)({},Object(wn.a)(Dt,["preventDefault"]),{key:"rest",onClick:function(zn){var Ln;(Dt==null?void 0:Dt.preventDefault)||Ct(),Dt==null||(Ln=Dt.onClick)===null||Ln===void 0||Ln.call(Dt,zn)}}),Pn)),kt!==!1&&fn.push(A.a.createElement(dn.a,Object(S.a)({type:"primary"},Object(wn.a)(kt||{},["preventDefault"]),{key:"submit",onClick:function(zn){var Ln;(kt==null?void 0:kt.preventDefault)||Gt(),kt==null||(Ln=kt.onClick)===null||Ln===void 0||Ln.call(kt,zn)}}),Xt));var yn=We?We(Object(R.a)(Object(R.a)({},oe),{},{submit:Gt,reset:Ct}),fn):fn;return yn?Array.isArray(yn)?(yn==null?void 0:yn.length)<1?null:(yn==null?void 0:yn.length)===1?yn[0]:A.a.createElement(yt.b,null,yn):yn:null},qe=Kt,Et=f("Kwbf"),$t=["children","contentRender","submitter","fieldProps","formItemProps","groupProps","dateFormatter","formRef","onInit","form","formComponentType","extraUrlParams","syncToUrl","syncToInitialValues","onReset","omitNil","isKeyPressSubmit","autoFocusFirstInput"],J=["request","params","initialValues","formKey"],te=function(oe,Pe,Le){return oe===!0?Pe:Object(L.a)(oe,Pe,Le)};function Q(ve){var oe=ve.children,Pe=ve.contentRender,Le=ve.submitter,Ve=ve.fieldProps,We=ve.formItemProps,st=ve.groupProps,St=ve.dateFormatter,dt=St===void 0?"string":St,kt=ve.formRef,ct=ve.onInit,Dt=ve.form,Gt=ve.formComponentType,Ct=ve.extraUrlParams,zt=Ct===void 0?{}:Ct,Xt=ve.syncToUrl,Jt=ve.syncToInitialValues,Pn=Jt===void 0?!0:Jt,fn=ve.onReset,yn=ve.omitNil,gn=yn===void 0?!0:yn,zn=ve.isKeyPressSubmit,Ln=ve.autoFocusFirstInput,Mn=Object(D.a)(ve,$t),Hn=_.a.useForm(Dt),Bn=Object(O.a)(Hn,1),Yn=Bn[0],nr=ot({},{disabled:!Xt}),An=Object(O.a)(nr,2),pn=An[0],Ce=An[1],_e=Object(se.useRef)(Yn||{}),ze=Object(se.useRef)({}),At=Object(se.useRef)({}),Lt=Object(se.useCallback)(function(rn,Mt,cn){return Ye(Object(rt.b)(rn,dt,ze.current,Mt,cn),At.current,Mt)},[dt]),qt=Object(se.useMemo)(function(){return{getFieldsFormatValue:function(Mt){var cn;return Lt((cn=_e.current)===null||cn===void 0?void 0:cn.getFieldsValue(Mt),gn)},getFieldFormatValue:function(Mt){var cn;return Lt((cn=_e.current)===null||cn===void 0?void 0:cn.getFieldValue(Mt),gn,Mt)},validateFieldsReturnFormatValue:function(){var rn=Object(V.a)(p.a.mark(function cn(er){var $n,wr;return p.a.wrap(function(ar){for(;;)switch(ar.prev=ar.next){case 0:return ar.next=2,($n=_e.current)===null||$n===void 0?void 0:$n.validateFields(er);case 2:return wr=ar.sent,ar.abrupt("return",Lt(wr,gn));case 4:case"end":return ar.stop()}},cn)}));function Mt(cn){return rn.apply(this,arguments)}return Mt}()}},[gn,Lt]),_t=Object(se.useMemo)(function(){var rn=Object(R.a)({},_e.current);return Object.keys(_e.current||{}).forEach(function(Mt){Object.defineProperty(rn,Mt,{get:function(){return _e.current[Mt]}})}),Object.keys(qt).forEach(function(Mt){Object.defineProperty(rn,Mt,{get:function(){return qt[Mt]}})}),rn},[]),sn=Object(Tt.a)(!1),Nt=Object(O.a)(sn,2),kn=Nt[0],Yt=Nt[1],_n=A.a.Children.toArray(oe).map(function(rn,Mt){return Mt===0&&A.a.isValidElement(rn)&&Ln?A.a.cloneElement(rn,Object(R.a)(Object(R.a)({},rn.props),{},{autoFocus:Ln})):rn}),ln=Object(se.useMemo)(function(){return typeof Le=="boolean"||!Le?{}:Le},[Le]);Object(se.useImperativeHandle)(kt,function(){return _t});var Zn=Object(se.useMemo)(function(){if(Le!==!1)return A.a.createElement(qe,Object(S.a)({key:"submitter"},ln,{onReset:function(){var Mt,cn,er=Lt((Mt=_e.current)===null||Mt===void 0?void 0:Mt.getFieldsValue(),gn);if(ln==null||(cn=ln.onReset)===null||cn===void 0||cn.call(ln,er),fn==null||fn(er),Xt){var $n,wr=Object.keys(Lt(($n=_e.current)===null||$n===void 0?void 0:$n.getFieldsValue(),!1)).reduce(function(nn,ar){return Object(R.a)(Object(R.a)({},nn),{},Object(B.a)({},ar,er[ar]||void 0))},zt);Ce(te(Xt,wr,"set"))}},form:_t,submitButtonProps:Object(R.a)({loading:kn},ln.submitButtonProps)}))},[Le,ln,_t,kn,Lt,gn,fn,Xt,zt,Ce]),lr=Object(se.useMemo)(function(){return Pe?Pe(_n,Zn,_e.current):_n},[Pe,_n,Zn]),pr=Object(se.useMemo)(function(){if(typeof window!="undefined"&&Gt&&["DrawerForm"].includes(Gt))return function(rn){return rn.parentNode||document.body}},[Gt]);Object(se.useEffect)(function(){var rn,Mt=Lt((rn=_e.current)===null||rn===void 0?void 0:rn.getFieldsValue(!0),gn);ct==null||ct(Mt,_t)},[]);var Ur=Object(se.useState)(function(){return Xt?te(Xt,pn,"get"):{}}),Xr=Object(O.a)(Ur,2),xn=Xr[0],ri=Xr[1];Object(se.useEffect)(function(){Pn||ri({})},[Pn]);var qr=Object($e.a)(ve.initialValues);return Object(se.useEffect)(function(){if(!(Xt||!ve.initialValues||!qr||Mn.request)){var rn=Object(et.a)(ve.initialValues,qr);Object(Et.b)(rn,"initialValues \u53EA\u5728 form \u521D\u59CB\u5316\u65F6\u751F\u6548\uFF0C\u5982\u679C\u4F60\u9700\u8981\u5F02\u6B65\u52A0\u8F7D\u63A8\u8350\u4F7F\u7528 request\uFF0C\u6216\u8005 initialValues ? <Form/> : null "),Object(Et.b)(rn,"The initialValues only take effect when the form is initialized, if you need to load asynchronously recommended request, or the initialValues ? <Form/> : null ")}},[ve.initialValues]),Object(se.useEffect)(function(){!Xt||Ce(Object(R.a)(Object(R.a)({},pn),zt))},[zt,Xt]),A.a.createElement(it.a.Provider,{value:{formRef:_e,fieldProps:Ve,formItemProps:We,groupProps:st,formComponentType:Gt,getPopupContainer:pr,setFieldValueType:function(Mt,cn){var er=cn.valueType,$n=er===void 0?"text":er,wr=cn.dateFormat,nn=cn.transform;!Array.isArray(Mt)||(At.current=Object(ne.a)(At.current,Mt,nn),ze.current=Object(ne.a)(ze.current,Mt,{valueType:$n,dateFormat:wr}))}}},A.a.createElement(Rt.a.Provider,{value:qt},A.a.createElement(j.b.SizeContext.Provider,{value:Mn.size},A.a.createElement(_.a,Object(S.a)({onKeyPress:function(Mt){if(!!zn&&Mt.key==="Enter"){var cn;(cn=_e.current)===null||cn===void 0||cn.submit()}},form:Yn},Mn,{initialValues:Object(R.a)(Object(R.a)({},xn),Mn.initialValues),onValuesChange:function(Mt,cn){var er;Mn==null||(er=Mn.onValuesChange)===null||er===void 0||er.call(Mn,Lt(Mt,gn),Lt(cn,gn))},onFinish:Object(V.a)(p.a.mark(function rn(){var Mt,cn,er,$n;return p.a.wrap(function(nn){for(;;)switch(nn.prev=nn.next){case 0:if(Mn.onFinish){nn.next=2;break}return nn.abrupt("return");case 2:if(!kn){nn.next=4;break}return nn.abrupt("return");case 4:return Yt(!0),nn.prev=5,cn=Lt((Mt=_e.current)===null||Mt===void 0?void 0:Mt.getFieldsValue(),gn),nn.next=9,Mn.onFinish(cn);case 9:Xt&&($n=Object.keys(Lt((er=_e.current)===null||er===void 0?void 0:er.getFieldsValue(),!1)).reduce(function(ar,Pr){var hn;return Object(R.a)(Object(R.a)({},ar),{},Object(B.a)({},Pr,(hn=cn[Pr])!==null&&hn!==void 0?hn:void 0))},zt),Object.keys(pn).forEach(function(ar){($n[ar]!==!1||$n[ar]!==0||!$n[ar])&&($n[ar]=void 0)}),Ce(te(Xt,$n,"set"))),Yt(!1),nn.next=16;break;case 13:nn.prev=13,nn.t0=nn.catch(5),Yt(!1);case 16:case"end":return nn.stop()}},rn,null,[[5,13]])}))}),Mn.component!==!1&&A.a.createElement("input",{type:"text",style:{display:"none"}}),A.a.createElement(_.a.Item,{noStyle:!0,shouldUpdate:!0},function(rn){return kt&&(kt.current=Object(R.a)(Object(R.a)({},rn),qt)),_e.current=rn,null}),lr))))}var Oe=0;function we(ve){var oe=ve.request,Pe=ve.params,Le=ve.initialValues,Ve=ve.formKey,We=Ve===void 0?Oe:Ve,st=Object(D.a)(ve,J);Object(se.useEffect)(function(){Oe+=0},[]);var St=Qe({request:oe,params:Pe,proFieldKey:We}),dt=Object(O.a)(St,1),kt=dt[0];return!kt&&ve.request?A.a.createElement("div",{style:{paddingTop:50,paddingBottom:50,textAlign:"center"}},A.a.createElement(b.a,null)):A.a.createElement(Y.a,null,A.a.createElement(Q,Object(S.a)({autoComplete:"off"},st,{initialValues:Object(R.a)(Object(R.a)({},Le),kt)})))}var Fe=W.a=we},b2z7:function($,W){var f=/\w*$/;function F(b){var x=new b.constructor(b.source,f.exec(b));return x.lastIndex=b.lastIndex,x}$.exports=F},bE4E:function($,W,f){},bKJz:function($,W,f){},baxp:function($,W,f){var F=f("z01/"),b=f("x49D");function x(j,S){return S&&(F(S)==="object"||typeof S=="function")?S:b(j)}$.exports=x},c29t:function($,W,f){var F=f("8v5O");function b(x,j,S){return typeof Reflect!="undefined"&&Reflect.get?$.exports=b=Reflect.get:$.exports=b=function(R,C,p){var V=F(R,C);if(!!V){var w=Object.getOwnPropertyDescriptor(V,C);return w.get?w.get.call(p):w.value}},b(x,j,S||x)}$.exports=b},cSlR:function($,W,f){"use strict";var F=9007199254740991,b=/^(?:0|[1-9]\d*)$/;function x(j,S){var B=typeof j;return S=S==null?F:S,!!S&&(B=="number"||B!="symbol"&&b.test(j))&&j>-1&&j%1==0&&j<S}W.a=x},"cq/+":function($,W,f){var F=f("mc0g"),b=F();$.exports=b},cxFA:function($,W,f){var F=f("dmwd");function b(j,S){var B=Object.keys(j);if(Object.getOwnPropertySymbols){var R=Object.getOwnPropertySymbols(j);S&&(R=R.filter(function(C){return Object.getOwnPropertyDescriptor(j,C).enumerable})),B.push.apply(B,R)}return B}function x(j){for(var S=1;S<arguments.length;S++){var B=arguments[S]!=null?arguments[S]:{};S%2?b(Object(B),!0).forEach(function(R){F(j,R,B[R])}):Object.getOwnPropertyDescriptors?Object.defineProperties(j,Object.getOwnPropertyDescriptors(B)):b(Object(B)).forEach(function(R){Object.defineProperty(j,R,Object.getOwnPropertyDescriptor(B,R))})}return j}$.exports=x},czTT:function($,W,f){},dLWn:function($,W,f){"use strict";var F=Function.prototype,b=F.toString;function x(j){if(j!=null){try{return b.call(j)}catch(S){}try{return j+""}catch(S){}}return""}W.a=x},dTAl:function($,W,f){var F=f("GoyQ"),b=Object.create,x=function(){function j(){}return function(S){if(!F(S))return{};if(b)return b(S);j.prototype=S;var B=new j;return j.prototype=void 0,B}}();$.exports=x},df8c:function($,W,f){},dmwd:function($,W){function f(F,b,x){return b in F?Object.defineProperty(F,b,{value:x,enumerable:!0,configurable:!0,writable:!0}):F[b]=x,F}$.exports=f},efZk:function($,W,f){"use strict";var F=f("ylTp"),b=f("twO/"),x=f("/1FC"),j=f("G8aS"),S=1/0,B=F.a?F.a.prototype:void 0,R=B?B.toString:void 0;function C(_){if(typeof _=="string")return _;if(Object(x.a)(_))return Object(b.a)(_,C)+"";if(Object(j.a)(_))return R?R.call(_):"";var O=_+"";return O=="0"&&1/_==-S?"-0":O}var p=C;function V(_){return _==null?"":p(_)}var w=W.a=V},fOrg:function($,W,f){"use strict";var F=f("EFp3"),b=f.n(F),x=f("YkAm"),j=f.n(x)},"fWo+":function($,W,f){},g5r2:function($,W,f){"use strict";f.d(W,"b",function(){return w});var F=f("o0o1"),b=f.n(F),x=f("HaE+"),j=f("q1tI"),S=f.n(j),B=f("ipCM"),R=f("HBdL"),C=function(O,D,se){return Object(B.a)(O,D,se)};function p(_,O){var D=Object(j.useRef)();return C(_,D.current,O)||(D.current=_),D.current}function V(_,O,D){Object(j.useEffect)(_,p(O||[],D))}function w(_,O,D,se){var A=Object(R.a)(Object(x.a)(b.a.mark(function Y(){return b.a.wrap(function(K){for(;;)switch(K.prev=K.next){case 0:_();case 1:case"end":return K.stop()}},Y)})),[],se||16);Object(j.useEffect)(function(){A.run()},p(O||[],D))}W.a=V},gFfm:function($,W){function f(F,b){for(var x=-1,j=F==null?0:F.length;++x<j&&b(F[x],x,F)!==!1;);return F}$.exports=f},h875:function($,W){function f(F,b){return $.exports=f=Object.setPrototypeOf||function(j,S){return j.__proto__=S,j},f(F,b)}$.exports=f},hbEN:function($,W,f){"use strict";var F=f("IzLi"),b=f("Ju5/"),x=function(){return b.a.Date.now()},j=x,S=f("SiRs"),B="Expected a function",R=Math.max,C=Math.min;function p(w,_,O){var D,se,A,Y,L,K,y=0,ne=!1,Ae=!1,me=!0;if(typeof w!="function")throw new TypeError(B);_=Object(S.a)(_)||0,Object(F.a)(O)&&(ne=!!O.leading,Ae="maxWait"in O,A=Ae?R(Object(S.a)(O.maxWait)||0,_):A,me="trailing"in O?!!O.trailing:me);function de(Me){var Qe=D,Ie=se;return D=se=void 0,y=Me,Y=w.apply(Ie,Qe),Y}function Ye(Me){return y=Me,L=setTimeout($e,_),ne?de(Me):Y}function rt(Me){var Qe=Me-K,Ie=Me-y,Ot=_-Qe;return Ae?C(Ot,A-Ie):Ot}function Tt(Me){var Qe=Me-K,Ie=Me-y;return K===void 0||Qe>=_||Qe<0||Ae&&Ie>=A}function $e(){var Me=j();if(Tt(Me))return et(Me);L=setTimeout($e,rt(Me))}function et(Me){return L=void 0,me&&D?de(Me):(D=se=void 0,Y)}function Rt(){L!==void 0&&clearTimeout(L),y=0,D=K=se=L=void 0}function Vt(){return L===void 0?Y:et(j())}function Ge(){var Me=j(),Qe=Tt(Me);if(D=arguments,se=this,K=Me,Qe){if(L===void 0)return Ye(K);if(Ae)return clearTimeout(L),L=setTimeout($e,_),de(K)}return L===void 0&&(L=setTimeout($e,_)),Y}return Ge.cancel=Rt,Ge.flush=Vt,Ge}var V=W.a=p},hgQt:function($,W,f){var F=f("Juji"),b=f("4sDh");function x(j,S){return j!=null&&b(j,S,F)}$.exports=x},hypo:function($,W,f){var F=f("O0oS");function b(x,j,S){j=="__proto__"&&F?F(x,j,{configurable:!0,enumerable:!0,value:S,writable:!0}):x[j]=S}$.exports=b},jCWc:function($,W,f){"use strict";var F=f("EFp3"),b=f.n(F),x=f("1GLa")},jkmW:function($,W,f){},juv8:function($,W,f){var F=f("MrPd"),b=f("hypo");function x(j,S,B,R){var C=!B;B||(B={});for(var p=-1,V=S.length;++p<V;){var w=S[p],_=R?R(B[w],j[w],w,B,j):void 0;_===void 0&&(_=j[w]),C?b(B,w,_):F(B,w,_)}return B}$.exports=x},l9OW:function($,W,f){var F=f("SKAX"),b=f("MMmD");function x(j,S){var B=-1,R=b(j)?Array(j.length):[];return F(j,function(C,p,V){R[++B]=S(C,p,V)}),R}$.exports=x},lPKl:function($,W,f){var F=f("GXtI"),b=f("h875"),x=f("+O4Z"),j=f("ZJpN");function S(B){var R=typeof Map=="function"?new Map:void 0;return $.exports=S=function(p){if(p===null||!x(p))return p;if(typeof p!="function")throw new TypeError("Super expression must either be null or a function");if(typeof R!="undefined"){if(R.has(p))return R.get(p);R.set(p,V)}function V(){return j(p,arguments,F(this).constructor)}return V.prototype=Object.create(p.prototype,{constructor:{value:V,enumerable:!1,writable:!0,configurable:!0}}),b(V,p)},S(B)}$.exports=S},lQqw:function($,W,f){var F=f("MMmD");function b(x,j){return function(S,B){if(S==null)return S;if(!F(S))return x(S,B);for(var R=S.length,C=j?R:-1,p=Object(S);(j?C--:++C<R)&&B(p[C],C,p)!==!1;);return S}}$.exports=b},"lm/5":function($,W,f){var F=f("fmRc"),b=f("wF/u"),x=1,j=2;function S(B,R,C,p){var V=C.length,w=V,_=!p;if(B==null)return!w;for(B=Object(B);V--;){var O=C[V];if(_&&O[2]?O[1]!==B[O[0]]:!(O[0]in B))return!1}for(;++V<w;){O=C[V];var D=O[0],se=B[D],A=O[1];if(_&&O[2]){if(se===void 0&&!(D in B))return!1}else{var Y=new F;if(p)var L=p(se,A,D,B,R,Y);if(!(L===void 0?b(A,se,x|j,p,Y):L))return!1}}return!0}$.exports=S},lreK:function($,W,f){"use strict";Object.defineProperty(W,"__esModule",{value:!0}),W.mergeClasses=void 0;var F=f("Ag8Z"),b=B(F),x=f("BkRI"),j=B(x),S=Object.assign||function(C){for(var p=1;p<arguments.length;p++){var V=arguments[p];for(var w in V)Object.prototype.hasOwnProperty.call(V,w)&&(C[w]=V[w])}return C};function B(C){return C&&C.__esModule?C:{default:C}}var R=W.mergeClasses=function(p){var V=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],w=p.default&&(0,j.default)(p.default)||{};return V.map(function(_){var O=p[_];return O&&(0,b.default)(O,function(D,se){w[se]||(w[se]={}),w[se]=S({},w[se],O[se])}),_}),w};W.default=R},mF9B:function($,W,f){},mTTR:function($,W,f){var F=f("b80T"),b=f("QcOe"),x=f("MMmD");function j(S){return x(S)?F(S,!0):b(S)}$.exports=j},mc0g:function($,W){function f(F){return function(b,x,j){for(var S=-1,B=Object(b),R=j(b),C=R.length;C--;){var p=R[F?C:++S];if(x(B[p],p,B)===!1)break}return b}}$.exports=f},mwIZ:function($,W,f){var F=f("ZWtO");function b(x,j,S){var B=x==null?void 0:F(x,j);return B===void 0?S:B}$.exports=b},nLtN:function($,W,f){"use strict";function F(){this.__data__=[],this.size=0}var b=F,x=f("YHEm");function j(L,K){for(var y=L.length;y--;)if(Object(x.a)(L[y][0],K))return y;return-1}var S=j,B=Array.prototype,R=B.splice;function C(L){var K=this.__data__,y=S(K,L);if(y<0)return!1;var ne=K.length-1;return y==ne?K.pop():R.call(K,y,1),--this.size,!0}var p=C;function V(L){var K=this.__data__,y=S(K,L);return y<0?void 0:K[y][1]}var w=V;function _(L){return S(this.__data__,L)>-1}var O=_;function D(L,K){var y=this.__data__,ne=S(y,L);return ne<0?(++this.size,y.push([L,K])):y[ne][1]=K,this}var se=D;function A(L){var K=-1,y=L==null?0:L.length;for(this.clear();++K<y;){var ne=L[K];this.set(ne[0],ne[1])}}A.prototype.clear=b,A.prototype.delete=p,A.prototype.get=w,A.prototype.has=O,A.prototype.set=se;var Y=W.a=A},nSmt:function($,W,f){},nhC9:function($,W,f){"use strict";var F=f("wx14"),b=f("q1tI"),x=f.n(b),j=f("Znn+"),S=f("ZTPi"),B=f("VTBJ"),R=f("rePB"),C=f("U8pU"),p=f("ODXe"),V=f("GNNt"),w=f("wEI+"),_=f("Ff2n"),O=f("1GLa"),D=f("TLLU"),se=f("UESt"),A=f("6cGi"),Y=f("YSkC"),L=f("TSYQ"),K=f.n(L),y=f("BGR+"),ne=f("14J3"),Ae=f("BMrR"),me=f("jCWc"),de=f("kPKH"),Ye=f("aK+R"),rt=function(Et){var $t=Et.style,J=Et.prefix;return x.a.createElement("div",{className:"".concat(J,"-loading-content"),style:$t},x.a.createElement(Ae.a,{gutter:8},x.a.createElement(de.a,{span:22},x.a.createElement("div",{className:"".concat(J,"-loading-block")}))),x.a.createElement(Ae.a,{gutter:8},x.a.createElement(de.a,{span:8},x.a.createElement("div",{className:"".concat(J,"-loading-block")})),x.a.createElement(de.a,{span:15},x.a.createElement("div",{className:"".concat(J,"-loading-block")}))),x.a.createElement(Ae.a,{gutter:8},x.a.createElement(de.a,{span:6},x.a.createElement("div",{className:"".concat(J,"-loading-block")})),x.a.createElement(de.a,{span:18},x.a.createElement("div",{className:"".concat(J,"-loading-block")}))),x.a.createElement(Ae.a,{gutter:8},x.a.createElement(de.a,{span:13},x.a.createElement("div",{className:"".concat(J,"-loading-block")})),x.a.createElement(de.a,{span:9},x.a.createElement("div",{className:"".concat(J,"-loading-block")}))),x.a.createElement(Ae.a,{gutter:8},x.a.createElement(de.a,{span:4},x.a.createElement("div",{className:"".concat(J,"-loading-block")})),x.a.createElement(de.a,{span:3},x.a.createElement("div",{className:"".concat(J,"-loading-block")})),x.a.createElement(de.a,{span:16},x.a.createElement("div",{className:"".concat(J,"-loading-block")}))))},Tt=rt,$e=f("S76h"),et=function(Et){var $t=Et.actions,J=Et.prefixCls;return Array.isArray($t)&&($t==null?void 0:$t.length)?x.a.createElement("ul",{className:"".concat(J,"-actions")},$t.map(function(te,Q){return x.a.createElement("li",{style:{width:"".concat(100/$t.length,"%")},key:"action-".concat(Q)},x.a.createElement("span",null,te))})):$t?x.a.createElement("ul",{className:"".concat(J,"-actions")},$t):null},Rt=et,Vt=f("df8c"),Ge=["className","style","bodyStyle","headStyle","title","subTitle","extra","tip","wrap","layout","loading","gutter","tooltip","split","headerBordered","bordered","children","size","actions","ghost","hoverable","direction","collapsed","collapsible","defaultCollapsed","onCollapse","checked","onChecked","tabs","type"],Me=D.a.useBreakpoint,Qe=x.a.forwardRef(function(qe,Et){var $t,J,te,Q=qe.className,Oe=qe.style,we=qe.bodyStyle,Fe=we===void 0?{}:we,ve=qe.headStyle,oe=ve===void 0?{}:ve,Pe=qe.title,Le=qe.subTitle,Ve=qe.extra,We=qe.tip,st=qe.wrap,St=st===void 0?!1:st,dt=qe.layout,kt=qe.loading,ct=qe.gutter,Dt=ct===void 0?0:ct,Gt=qe.tooltip,Ct=qe.split,zt=qe.headerBordered,Xt=zt===void 0?!1:zt,Jt=qe.bordered,Pn=Jt===void 0?!1:Jt,fn=qe.children,yn=qe.size,gn=qe.actions,zn=qe.ghost,Ln=zn===void 0?!1:zn,Mn=qe.hoverable,Hn=Mn===void 0?!1:Mn,Bn=qe.direction,Yn=qe.collapsed,nr=qe.collapsible,An=nr===void 0?!1:nr,pn=qe.defaultCollapsed,Ce=pn===void 0?!1:pn,_e=qe.onCollapse,ze=qe.checked,At=qe.onChecked,Lt=qe.tabs,qt=qe.type,_t=Object(_.a)(qe,Ge),sn=Object(b.useContext)(w.b.ConfigContext),Nt=sn.getPrefixCls,kn=Me(),Yt=Object(A.a)(Ce,{value:Yn,onChange:_e}),_n=Object(p.a)(Yt,2),ln=_n[0],Zn=_n[1],lr=["xxl","xl","lg","md","sm","xs"],pr=function(tr){var Vn=[0,0],xr=Array.isArray(tr)?tr:[tr,0];return xr.forEach(function(jr,Er){if(Object(C.a)(jr)==="object")for(var Rr=0;Rr<lr.length;Rr+=1){var ci=lr[Rr];if(kn[ci]&&jr[ci]!==void 0){Vn[Er]=jr[ci];break}}else Vn[Er]=jr||0}),Vn},Ur=function(tr,Vn){return tr?Vn:{}},Xr=function(tr){var Vn=tr;if(Object(C.a)(tr)==="object")for(var xr=0;xr<lr.length;xr+=1){var jr=lr[xr];if(kn[jr]&&tr[jr]!==void 0){Vn=tr[jr];break}}var Er=Ur(typeof Vn=="string"&&/\d%|\dpx/i.test(Vn),{width:Vn,flexShrink:0});return{span:Vn,colSpanStyle:Er}},xn=Nt("pro-card"),ri=pr(Dt),qr=Object(p.a)(ri,2),rn=qr[0],Mt=qr[1],cn=!1,er=x.a.Children.toArray(fn),$n=er.map(function(_r,tr){var Vn;if(_r==null||(Vn=_r.type)===null||Vn===void 0?void 0:Vn.isProCard){var xr;cn=!0;var jr=_r.props.colSpan,Er=Xr(jr),Rr=Er.span,ci=Er.colSpanStyle,wi=K()(["".concat(xn,"-col")],(xr={},Object(R.a)(xr,"".concat(xn,"-split-vertical"),Ct==="vertical"&&tr!==er.length-1),Object(R.a)(xr,"".concat(xn,"-split-horizontal"),Ct==="horizontal"&&tr!==er.length-1),Object(R.a)(xr,"".concat(xn,"-col-").concat(Rr),typeof Rr=="number"&&Rr>=0&&Rr<=24),xr));return x.a.createElement("div",{style:Object(B.a)(Object(B.a)(Object(B.a)({},ci),Ur(rn>0,{paddingRight:rn/2,paddingLeft:rn/2})),Ur(Mt>0,{paddingTop:Mt/2,paddingBottom:Mt/2})),key:"pro-card-col-".concat(tr),className:wi},x.a.cloneElement(_r))}return _r}),wr=K()("".concat(xn),Q,($t={},Object(R.a)($t,"".concat(xn,"-border"),Pn),Object(R.a)($t,"".concat(xn,"-contain-card"),cn),Object(R.a)($t,"".concat(xn,"-loading"),kt),Object(R.a)($t,"".concat(xn,"-split"),Ct==="vertical"||Ct==="horizontal"),Object(R.a)($t,"".concat(xn,"-ghost"),Ln),Object(R.a)($t,"".concat(xn,"-hoverable"),Hn),Object(R.a)($t,"".concat(xn,"-size-").concat(yn),yn),Object(R.a)($t,"".concat(xn,"-type-").concat(qt),qt),Object(R.a)($t,"".concat(xn,"-collapse"),ln),Object(R.a)($t,"".concat(xn,"-checked"),ze),$t)),nn=K()("".concat(xn,"-body"),(J={},Object(R.a)(J,"".concat(xn,"-body-center"),dt==="center"),Object(R.a)(J,"".concat(xn,"-body-direction-column"),Ct==="horizontal"||Bn==="column"),Object(R.a)(J,"".concat(xn,"-body-wrap"),St&&cn),J)),ar=Object(B.a)(Object(B.a)(Object(B.a)({},Ur(rn>0,{marginRight:-rn/2,marginLeft:-rn/2})),Ur(Mt>0,{marginTop:-Mt/2,marginBottom:-Mt/2})),Fe),Pr=x.a.isValidElement(kt)?kt:x.a.createElement(Tt,{prefix:xn,style:Fe.padding===0||Fe.padding==="0px"?{padding:24}:void 0}),hn=An&&Yn===void 0&&x.a.createElement(se.a,{rotate:ln?void 0:90,className:"".concat(xn,"-collapsible-icon")});return x.a.createElement("div",Object(F.a)({className:wr,style:Oe,ref:Et,onClick:function(tr){var Vn;At==null||At(tr),_t==null||(Vn=_t.onClick)===null||Vn===void 0||Vn.call(_t,tr)}},Object(y.a)(_t,["prefixCls","colSpan"])),(Pe||Ve||hn)&&x.a.createElement("div",{className:K()("".concat(xn,"-header"),(te={},Object(R.a)(te,"".concat(xn,"-header-border"),Xt||qt==="inner"),Object(R.a)(te,"".concat(xn,"-header-collapsible"),hn),te)),style:oe,onClick:function(){hn&&Zn(!ln)}},x.a.createElement("div",{className:"".concat(xn,"-title")},hn,x.a.createElement(Y.a,{label:Pe,tooltip:Gt||We,subTitle:Le})),Ve&&x.a.createElement("div",{className:"".concat(xn,"-extra")},Ve)),Lt?x.a.createElement("div",{className:"".concat(xn,"-tabs")},x.a.createElement(S.a,Object(F.a)({onChange:Lt.onChange},Lt),kt?Pr:fn)):x.a.createElement("div",{className:nn,style:ar},kt?Pr:$n),x.a.createElement(Rt,{actions:gn,prefixCls:xn}))}),Ie=Qe,Ot=f("VzZb"),ot=["key","tab","tabKey","disabled","destroyInactiveTabPane","children","className","style","cardProps"],ht=function(Et){var $t=Et.key,J=Et.tab,te=Et.tabKey,Q=Et.disabled,Oe=Et.destroyInactiveTabPane,we=Et.children,Fe=Et.className,ve=Et.style,oe=Et.cardProps,Pe=Object(_.a)(Et,ot),Le=Object(b.useContext)(w.b.ConfigContext),Ve=Le.getPrefixCls,We=Ve("pro-card-tabpane"),st=K()(We,Fe);return x.a.createElement(S.a.TabPane,Object(F.a)({key:$t,tabKey:te,tab:J,className:st,style:ve,disabled:Q,destroyInactiveTabPane:Oe},Pe),x.a.createElement(Ie,oe,we))},Pt=ht,it=f("u1OI"),ge=function(Et){var $t=Object(b.useContext)(w.b.ConfigContext),J=$t.getPrefixCls,te=J("pro-card-divider"),Q=Et.className,Oe=Et.style,we=Oe===void 0?{}:Oe,Fe=Et.type,ve=K()(te,Q,Object(R.a)({},"".concat(te,"-").concat(Fe),Fe));return x.a.createElement("div",{className:ve,style:we})},yt=ge,It=function(Et){return x.a.createElement(Ie,Object(F.a)({bodyStyle:{padding:0}},Et))},dn=Ie;dn.isProCard=!0,dn.Divider=yt,dn.TabPane=Pt,dn.Group=It;var wn=dn,Kt=W.a=wn},"oCl/":function($,W,f){var F=f("CH3K"),b=f("LcsW"),x=f("MvSz"),j=f("0ycA"),S=Object.getOwnPropertySymbols,B=S?function(R){for(var C=[];R;)F(C,x(R)),R=b(R);return C}:j;$.exports=B},oSzE:function($,W,f){"use strict";var F=f("nLtN");function b(){this.__data__=new F.a,this.size=0}var x=b;function j(Y){var L=this.__data__,K=L.delete(Y);return this.size=L.size,K}var S=j;function B(Y){return this.__data__.get(Y)}var R=B;function C(Y){return this.__data__.has(Y)}var p=C,V=f("3cmB"),w=f("DlmY"),_=200;function O(Y,L){var K=this.__data__;if(K instanceof F.a){var y=K.__data__;if(!V.a||y.length<_-1)return y.push([Y,L]),this.size=++K.size,this;K=this.__data__=new w.a(y)}return K.set(Y,L),this.size=K.size,this}var D=O;function se(Y){var L=this.__data__=new F.a(Y);this.size=L.size}se.prototype.clear=x,se.prototype.delete=S,se.prototype.get=R,se.prototype.has=p,se.prototype.set=D;var A=W.a=se},oYcn:function($,W,f){"use strict";var F=f("8M4i"),b=f("Js68"),x=f("EUcb"),j="[object Arguments]",S="[object Array]",B="[object Boolean]",R="[object Date]",C="[object Error]",p="[object Function]",V="[object Map]",w="[object Number]",_="[object Object]",O="[object RegExp]",D="[object Set]",se="[object String]",A="[object WeakMap]",Y="[object ArrayBuffer]",L="[object DataView]",K="[object Float32Array]",y="[object Float64Array]",ne="[object Int8Array]",Ae="[object Int16Array]",me="[object Int32Array]",de="[object Uint8Array]",Ye="[object Uint8ClampedArray]",rt="[object Uint16Array]",Tt="[object Uint32Array]",$e={};$e[K]=$e[y]=$e[ne]=$e[Ae]=$e[me]=$e[de]=$e[Ye]=$e[rt]=$e[Tt]=!0,$e[j]=$e[S]=$e[Y]=$e[B]=$e[L]=$e[R]=$e[C]=$e[p]=$e[V]=$e[w]=$e[_]=$e[O]=$e[D]=$e[se]=$e[A]=!1;function et(ot){return Object(x.a)(ot)&&Object(b.a)(ot.length)&&!!$e[Object(F.a)(ot)]}var Rt=et;function Vt(ot){return function(ht){return ot(ht)}}var Ge=Vt,Me=f("xutz"),Qe=Me.a&&Me.a.isTypedArray,Ie=Qe?Ge(Qe):Rt,Ot=W.a=Ie},oaNE:function($,W,f){"use strict";var F=f("oSzE"),b=f("Y7yP"),x=function(){try{var Ce=Object(b.a)(Object,"defineProperty");return Ce({},"",{}),Ce}catch(_e){}}(),j=x;function S(Ce,_e,ze){_e=="__proto__"&&j?j(Ce,_e,{configurable:!0,enumerable:!0,value:ze,writable:!0}):Ce[_e]=ze}var B=S,R=f("YHEm");function C(Ce,_e,ze){(ze!==void 0&&!Object(R.a)(Ce[_e],ze)||ze===void 0&&!(_e in Ce))&&B(Ce,_e,ze)}var p=C,V=f("aZkK"),w=f("3/ER"),_=f("Ce4a");function O(Ce){var _e=new Ce.constructor(Ce.byteLength);return new _.a(_e).set(new _.a(Ce)),_e}var D=O;function se(Ce,_e){var ze=_e?D(Ce.buffer):Ce.buffer;return new Ce.constructor(ze,Ce.byteOffset,Ce.length)}var A=se;function Y(Ce,_e){var ze=-1,At=Ce.length;for(_e||(_e=Array(At));++ze<At;)_e[ze]=Ce[ze];return _e}var L=Y,K=f("IzLi"),y=Object.create,ne=function(){function Ce(){}return function(_e){if(!Object(K.a)(_e))return{};if(y)return y(_e);Ce.prototype=_e;var ze=new Ce;return Ce.prototype=void 0,ze}}(),Ae=ne,me=f("UudT"),de=f("pyRK");function Ye(Ce){return typeof Ce.constructor=="function"&&!Object(de.a)(Ce)?Ae(Object(me.a)(Ce)):{}}var rt=Ye,Tt=f("9f76"),$e=f("/1FC"),et=f("5WsY"),Rt=f("EUcb");function Vt(Ce){return Object(Rt.a)(Ce)&&Object(et.a)(Ce)}var Ge=Vt,Me=f("WOAq"),Qe=f("vJtL"),Ie=f("6LIB"),Ot=f("oYcn");function ot(Ce,_e){if(!(_e==="constructor"&&typeof Ce[_e]=="function")&&_e!="__proto__")return Ce[_e]}var ht=ot,Pt=Object.prototype,it=Pt.hasOwnProperty;function ge(Ce,_e,ze){var At=Ce[_e];(!(it.call(Ce,_e)&&Object(R.a)(At,ze))||ze===void 0&&!(_e in Ce))&&B(Ce,_e,ze)}var yt=ge;function It(Ce,_e,ze,At){var Lt=!ze;ze||(ze={});for(var qt=-1,_t=_e.length;++qt<_t;){var sn=_e[qt],Nt=At?At(ze[sn],Ce[sn],sn,ze,Ce):void 0;Nt===void 0&&(Nt=Ce[sn]),Lt?B(ze,sn,Nt):yt(ze,sn,Nt)}return ze}var dn=It,wn=f("7gMY");function Kt(Ce){var _e=[];if(Ce!=null)for(var ze in Object(Ce))_e.push(ze);return _e}var qe=Kt,Et=Object.prototype,$t=Et.hasOwnProperty;function J(Ce){if(!Object(K.a)(Ce))return qe(Ce);var _e=Object(de.a)(Ce),ze=[];for(var At in Ce)At=="constructor"&&(_e||!$t.call(Ce,At))||ze.push(At);return ze}var te=J;function Q(Ce){return Object(et.a)(Ce)?Object(wn.a)(Ce,!0):te(Ce)}var Oe=Q;function we(Ce){return dn(Ce,Oe(Ce))}var Fe=we;function ve(Ce,_e,ze,At,Lt,qt,_t){var sn=ht(Ce,ze),Nt=ht(_e,ze),kn=_t.get(Nt);if(kn){p(Ce,ze,kn);return}var Yt=qt?qt(sn,Nt,ze+"",Ce,_e,_t):void 0,_n=Yt===void 0;if(_n){var ln=Object($e.a)(Nt),Zn=!ln&&Object(Me.a)(Nt),lr=!ln&&!Zn&&Object(Ot.a)(Nt);Yt=Nt,ln||Zn||lr?Object($e.a)(sn)?Yt=sn:Ge(sn)?Yt=L(sn):Zn?(_n=!1,Yt=Object(w.a)(Nt,!0)):lr?(_n=!1,Yt=A(Nt,!0)):Yt=[]:Object(Ie.a)(Nt)||Object(Tt.a)(Nt)?(Yt=sn,Object(Tt.a)(sn)?Yt=Fe(sn):(!Object(K.a)(sn)||Object(Qe.a)(sn))&&(Yt=rt(Nt))):_n=!1}_n&&(_t.set(Nt,Yt),Lt(Yt,Nt,At,qt,_t),_t.delete(Nt)),p(Ce,ze,Yt)}var oe=ve;function Pe(Ce,_e,ze,At,Lt){Ce!==_e&&Object(V.a)(_e,function(qt,_t){if(Lt||(Lt=new F.a),Object(K.a)(qt))oe(Ce,_e,_t,ze,Pe,At,Lt);else{var sn=At?At(ht(Ce,_t),qt,_t+"",Ce,_e,Lt):void 0;sn===void 0&&(sn=qt),p(Ce,_t,sn)}},Oe)}var Le=Pe,Ve=f("+Xah");function We(Ce,_e,ze){switch(ze.length){case 0:return Ce.call(_e);case 1:return Ce.call(_e,ze[0]);case 2:return Ce.call(_e,ze[0],ze[1]);case 3:return Ce.call(_e,ze[0],ze[1],ze[2])}return Ce.apply(_e,ze)}var st=We,St=Math.max;function dt(Ce,_e,ze){return _e=St(_e===void 0?Ce.length-1:_e,0),function(){for(var At=arguments,Lt=-1,qt=St(At.length-_e,0),_t=Array(qt);++Lt<qt;)_t[Lt]=At[_e+Lt];Lt=-1;for(var sn=Array(_e+1);++Lt<_e;)sn[Lt]=At[Lt];return sn[_e]=ze(_t),st(Ce,this,sn)}}var kt=dt;function ct(Ce){return function(){return Ce}}var Dt=ct,Gt=j?function(Ce,_e){return j(Ce,"toString",{configurable:!0,enumerable:!1,value:Dt(_e),writable:!0})}:Ve.a,Ct=Gt,zt=800,Xt=16,Jt=Date.now;function Pn(Ce){var _e=0,ze=0;return function(){var At=Jt(),Lt=Xt-(At-ze);if(ze=At,Lt>0){if(++_e>=zt)return arguments[0]}else _e=0;return Ce.apply(void 0,arguments)}}var fn=Pn,yn=fn(Ct),gn=yn;function zn(Ce,_e){return gn(kt(Ce,_e,Ve.a),Ce+"")}var Ln=zn,Mn=f("cSlR");function Hn(Ce,_e,ze){if(!Object(K.a)(ze))return!1;var At=typeof _e;return(At=="number"?Object(et.a)(ze)&&Object(Mn.a)(_e,ze.length):At=="string"&&_e in ze)?Object(R.a)(ze[_e],Ce):!1}var Bn=Hn;function Yn(Ce){return Ln(function(_e,ze){var At=-1,Lt=ze.length,qt=Lt>1?ze[Lt-1]:void 0,_t=Lt>2?ze[2]:void 0;for(qt=Ce.length>3&&typeof qt=="function"?(Lt--,qt):void 0,_t&&Bn(ze[0],ze[1],_t)&&(qt=Lt<3?void 0:qt,Lt=1),_e=Object(_e);++At<Lt;){var sn=ze[At];sn&&Ce(_e,sn,At,qt)}return _e})}var nr=Yn,An=nr(function(Ce,_e,ze){Le(Ce,_e,ze)}),pn=W.a=An},"otv/":function($,W,f){var F=f("nmnc"),b=F?F.prototype:void 0,x=b?b.valueOf:void 0;function j(S){return x?Object(x.call(S)):{}}$.exports=j},pL63:function($,W,f){},pWZp:function($,W,f){"use strict";var F=f("DYRE"),b=f("zeV3"),x=f("tU7J"),j=f("wFql"),S=f("+BJd"),B=f("mr32"),R=f("/zsF"),C=f("PArb"),p=f("tJVT"),V=f("q1tI"),w=f.n(V),_=f("AEIT"),O=f.n(_),D=f("vnc/"),se=f.n(D),A=f("xEw5"),Y=f.n(A),L=f("24R3"),K=f("nKUr"),y=f.n(K),ne=function(me){var de=me.value,Ye=me.onChange,rt=me.tokens,Tt=rt===void 0?[]:rt,$e=Object(V.useRef)(),et=Object(V.useState)(Math.random().toString()),Rt=Object(p.a)(et,2),Vt=Rt[0],Ge=Rt[1];return Object(V.useEffect)(function(){Ge(Math.random().toString())},[Tt]),Object(K.jsxs)("div",{className:"template-editor",children:[Object(K.jsx)(C.a,{children:Object(K.jsx)(L.a,{id:"tokens",defaultMessage:"posibble tokens:"})}),Object(K.jsx)(b.b,{children:Object(K.jsx)(j.a,{children:Tt.map(function(Me){return Object(K.jsx)(B.a,{children:Me},Me)})})}),Object(K.jsx)(C.a,{}),Object(K.jsx)(_.CKEditor,{ref:$e,config:{width:"210mm",height:"297mm",mention:{feeds:[{marker:"@",minimumCharacters:1,feed:Tt}]}},editor:se.a,data:de||"",onChange:function(Qe,Ie){var Ot=Ie.getData();return Ye&&Ye(Ot)}},Vt)]})};W.a=ne},pwpV:function($,W,f){},pyRK:function($,W,f){"use strict";var F=Object.prototype;function b(x){var j=x&&x.constructor,S=typeof j=="function"&&j.prototype||F;return x===S}W.a=b},"ql/k":function($,W,f){"use strict";Object.defineProperty(W,"__esModule",{value:!0});var F=Object.assign||function(R){for(var C=1;C<arguments.length;C++){var p=arguments[C];for(var V in p)Object.prototype.hasOwnProperty.call(p,V)&&(R[V]=p[V])}return R},b=f("q1tI"),x=j(b);function j(R){return R&&R.__esModule?R:{default:R}}function S(R,C){var p={};for(var V in R)C.indexOf(V)>=0||!Object.prototype.hasOwnProperty.call(R,V)||(p[V]=R[V]);return p}var B=24;W.default=function(R){var C=R.fill,p=C===void 0?"currentColor":C,V=R.width,w=V===void 0?B:V,_=R.height,O=_===void 0?B:_,D=R.style,se=D===void 0?{}:D,A=S(R,["fill","width","height","style"]);return x.default.createElement("svg",F({viewBox:"0 0 "+B+" "+B,style:F({fill:p,width:w,height:O},se)},A),x.default.createElement("path",{d:"M21,7L9,19L3.5,13.5L4.91,12.09L9,16.17L19.59,5.59L21,7Z"}))}},rWUb:function($,W,f){"use strict";f.d(W,"e",function(){return B}),f.d(W,"d",function(){return C}),f.d(W,"a",function(){return V}),f.d(W,"f",function(){return _}),f.d(W,"b",function(){return D}),f.d(W,"g",function(){return A}),f.d(W,"c",function(){return L});var F=f("k1fw"),b=f("9og8"),x=f("WmNS"),j=f.n(x),S=f("9kvl");function B(y,ne){return R.apply(this,arguments)}function R(){return R=Object(b.a)(j.a.mark(function y(ne,Ae){return j.a.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.abrupt("return",Object(S.f)("/api/admin/templates",Object(F.a)({method:"GET",useCache:!0,params:Object(F.a)(Object(F.a)({},ne),{},{per_page:ne.pageSize,page:ne.current})},Ae||{})));case 1:case"end":return de.stop()}},y)})),R.apply(this,arguments)}function C(y,ne){return p.apply(this,arguments)}function p(){return p=Object(b.a)(j.a.mark(function y(ne,Ae){return j.a.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.abrupt("return",Object(S.f)("/api/admin/templates/".concat(ne),Object(F.a)({method:"GET"},Ae||{})));case 1:case"end":return de.stop()}},y)})),p.apply(this,arguments)}function V(y,ne){return w.apply(this,arguments)}function w(){return w=Object(b.a)(j.a.mark(function y(ne,Ae){return j.a.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.abrupt("return",Object(S.f)("/api/admin/templates",Object(F.a)({method:"POST",headers:{"Content-Type":"application/json"},data:ne},Ae||{})));case 1:case"end":return de.stop()}},y)})),w.apply(this,arguments)}function _(y,ne,Ae){return O.apply(this,arguments)}function O(){return O=Object(b.a)(j.a.mark(function y(ne,Ae,me){return j.a.wrap(function(Ye){for(;;)switch(Ye.prev=Ye.next){case 0:return Ye.abrupt("return",Object(S.f)("/api/admin/templates/".concat(ne),Object(F.a)({method:"PATCH",headers:{"Content-Type":"application/json"},data:Ae},me||{})));case 1:case"end":return Ye.stop()}},y)})),O.apply(this,arguments)}function D(y,ne){return se.apply(this,arguments)}function se(){return se=Object(b.a)(j.a.mark(function y(ne,Ae){return j.a.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.abrupt("return",Object(S.f)("/api/admin/templates/".concat(ne),Object(F.a)({method:"DELETE",headers:{"Content-Type":"application/json"}},Ae||{})));case 1:case"end":return de.stop()}},y)})),se.apply(this,arguments)}function A(y){return Y.apply(this,arguments)}function Y(){return Y=Object(b.a)(j.a.mark(function y(ne){return j.a.wrap(function(me){for(;;)switch(me.prev=me.next){case 0:return me.abrupt("return",Object(S.f)("/api/admin/templates/variables",Object(F.a)({method:"GET"},ne||{})));case 1:case"end":return me.stop()}},y)})),Y.apply(this,arguments)}function L(y,ne){return K.apply(this,arguments)}function K(){return K=Object(b.a)(j.a.mark(function y(ne,Ae){return j.a.wrap(function(de){for(;;)switch(de.prev=de.next){case 0:return de.abrupt("return",Object(S.f)("/api/admin/templates/".concat(ne,"/preview"),Object(F.a)({method:"GET"},Ae||{})));case 1:case"end":return de.stop()}},y)})),K.apply(this,arguments)}},sRBo:function($,W,f){"use strict";var F=f("EFp3"),b=f.n(F),x=f("KCY9"),j=f.n(x)},slOs:function($,W,f){},tU7J:function($,W,f){"use strict";var F=f("EFp3"),b=f.n(F),x=f("/qDX"),j=f.n(x),S=f("5Dmo"),B=f("5NDa")},"twO/":function($,W,f){"use strict";function F(b,x){for(var j=-1,S=b==null?0:b.length,B=Array(S);++j<S;)B[j]=x(b[j],j,b);return B}W.a=F},u1OI:function($,W,f){},"ut/Y":function($,W,f){var F=f("ZCpW"),b=f("GDhZ"),x=f("zZ0H"),j=f("Z0cm"),S=f("+c4W");function B(R){return typeof R=="function"?R:R==null?x:typeof R=="object"?j(R)?b(R[0],R[1]):F(R):S(R)}$.exports=B},v56E:function($,W,f){},vJtL:function($,W,f){"use strict";var F=f("8M4i"),b=f("IzLi"),x="[object AsyncFunction]",j="[object Function]",S="[object GeneratorFunction]",B="[object Proxy]";function R(C){if(!Object(b.a)(C))return!1;var p=Object(F.a)(C);return p==j||p==S||p==x||p==B}W.a=R},"vnc/":function($,W,f){var F=f("dmwd"),b=f("c29t"),x=f("GXtI"),j=f("x49D"),S=f("ZJpN"),B=f("baxp"),R=f("R5yR"),C=f("5wUe"),p=f("bfL6"),V=f("WmNS"),w=f("xbqb"),_=f("Lw8S"),O=f("2MUX"),D=f("CS2o"),se=f("lPKl");/*!
* @license Copyright (c) 2003-2020, CKSource - Frederico Knabben. All rights reserved.
* For licensing, see LICENSE.md.
*/(function(A){var Y=A.en=A.en||{};Y.dictionary=Object.assign(Y.dictionary||{},{"%0 of %1":"%0 of %1","Block quote":"Block quote",Bold:"Bold","Bulleted List":"Bulleted List",Cancel:"Cancel","Cannot upload file:":"Cannot upload file:","Centered image":"Centered image","Change image text alternative":"Change image text alternative","Choose heading":"Choose heading",Column:"Column","Could not insert image at the current position.":"Could not insert image at the current position.","Could not obtain resized image URL.":"Could not obtain resized image URL.","Decrease indent":"Decrease indent","Delete column":"Delete column","Delete row":"Delete row",Downloadable:"Downloadable","Dropdown toolbar":"Dropdown toolbar","Edit link":"Edit link","Editor toolbar":"Editor toolbar","Enter image caption":"Enter image caption","Full size image":"Full size image","Header column":"Header column","Header row":"Header row",Heading:"Heading","Heading 1":"Heading 1","Heading 2":"Heading 2","Heading 3":"Heading 3","Heading 4":"Heading 4","Heading 5":"Heading 5","Heading 6":"Heading 6","Image toolbar":"Image toolbar","image widget":"image widget","Increase indent":"Increase indent","Insert column left":"Insert column left","Insert column right":"Insert column right","Insert image":"Insert image","Insert image or file":"Insert image or file","Insert media":"Insert media","Insert paragraph after block":"Insert paragraph after block","Insert paragraph before block":"Insert paragraph before block","Insert row above":"Insert row above","Insert row below":"Insert row below","Insert table":"Insert table","Inserting image failed":"Inserting image failed",Italic:"Italic","Left aligned image":"Left aligned image",Link:"Link","Link URL":"Link URL","Media URL":"Media URL","media widget":"media widget","Merge cell down":"Merge cell down","Merge cell left":"Merge cell left","Merge cell right":"Merge cell right","Merge cell up":"Merge cell up","Merge cells":"Merge cells",Next:"Next","Numbered List":"Numbered List","Open in a new tab":"Open in a new tab","Open link in new tab":"Open link in new tab",Paragraph:"Paragraph","Paste the media URL in the input.":"Paste the media URL in the input.",Previous:"Previous",Redo:"Redo","Rich Text Editor":"Rich Text Editor","Rich Text Editor, %0":"Rich Text Editor, %0","Right aligned image":"Right aligned image",Row:"Row",Save:"Save","Select all":"Select all","Select column":"Select column","Select row":"Select row","Selecting resized image failed":"Selecting resized image failed","Show more items":"Show more items","Side image":"Side image","Split cell horizontally":"Split cell horizontally","Split cell vertically":"Split cell vertically","Table toolbar":"Table toolbar","Text alternative":"Text alternative","The URL must not be empty.":"The URL must not be empty.","This link has no URL":"This link has no URL","This media URL is not supported.":"This media URL is not supported.","Tip: Paste the URL into the content to embed faster.":"Tip: Paste the URL into the content to embed faster.",Undo:"Undo",Unlink:"Unlink","Upload failed":"Upload failed","Upload in progress":"Upload in progress","Widget toolbar":"Widget toolbar"})})(window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={})),function(A,Y){$.exports=Y()}(window,function(){return function(A){var Y={};function L(K){if(Y[K])return Y[K].exports;var y=Y[K]={i:K,l:!1,exports:{}};return A[K].call(y.exports,y,y.exports,L),y.l=!0,y.exports}return L.m=A,L.c=Y,L.d=function(K,y,ne){L.o(K,y)||Object.defineProperty(K,y,{enumerable:!0,get:ne})},L.r=function(K){typeof Symbol!="undefined"&&Symbol.toStringTag&&Object.defineProperty(K,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(K,"__esModule",{value:!0})},L.t=function(K,y){if(1&y&&(K=L(K)),8&y||4&y&&typeof K=="object"&&K&&K.__esModule)return K;var ne=Object.create(null);if(L.r(ne),Object.defineProperty(ne,"default",{enumerable:!0,value:K}),2&y&&typeof K!="string")for(var Ae in K)L.d(ne,Ae,function(me){return K[me]}.bind(null,Ae));return ne},L.n=function(K){var y=K&&K.__esModule?function(){return K.default}:function(){return K};return L.d(y,"a",y),y},L.o=function(K,y){return Object.prototype.hasOwnProperty.call(K,y)},L.p="",L(L.s=100)}([function(A,Y,L){"use strict";L.d(Y,"b",function(){return K}),L.d(Y,"a",function(){return y});var K=function(ne){O(me,ne);var Ae=D(me);function me(de,Ye,rt){var Tt;return w(this,me),de=y(de),rt&&(de+=" "+JSON.stringify(rt)),Tt=Ae.call(this,de),Tt.name="CKEditorError",Tt.context=Ye,Tt.data=rt,Tt}return _(me,[{key:"is",value:function(Ye){return Ye==="CKEditorError"}}],[{key:"rethrowUnexpectedError",value:function(Ye,rt){if(Ye.is&&Ye.is("CKEditorError"))throw Ye;var Tt=new me(Ye.message,rt);throw Tt.stack=Ye.stack,Tt}}]),me}(se(Error));function y(ne){var Ae=ne.match(/^([^:]+):/);return Ae?ne+" Read more: https://ckeditor.com/docs/ckeditor5/latest/framework/guides/support/error-codes.html#error-".concat(Ae[1],`
`):ne}},function(A,Y,L){"use strict";var K,y=function(){return K===void 0&&(K=Boolean(window&&document&&document.all&&!window.atob)),K},ne=function(){var Me={};return function(Qe){if(Me[Qe]===void 0){var Ie=document.querySelector(Qe);if(window.HTMLIFrameElement&&Ie instanceof window.HTMLIFrameElement)try{Ie=Ie.contentDocument.head}catch(Ot){Ie=null}Me[Qe]=Ie}return Me[Qe]}}(),Ae=[];function me(Me){for(var Qe=-1,Ie=0;Ie<Ae.length;Ie++)if(Ae[Ie].identifier===Me){Qe=Ie;break}return Qe}function de(Me,Qe){for(var Ie={},Ot=[],ot=0;ot<Me.length;ot++){var ht=Me[ot],Pt=Qe.base?ht[0]+Qe.base:ht[0],it=Ie[Pt]||0,ge="".concat(Pt," ").concat(it);Ie[Pt]=it+1;var yt=me(ge),It={css:ht[1],media:ht[2],sourceMap:ht[3]};yt!==-1?(Ae[yt].references++,Ae[yt].updater(It)):Ae.push({identifier:ge,updater:Ge(It,Qe),references:1}),Ot.push(ge)}return Ot}function Ye(Me){var Qe=document.createElement("style"),Ie=Me.attributes||{};if(Ie.nonce===void 0){var Ot=L.nc;Ot&&(Ie.nonce=Ot)}if(Object.keys(Ie).forEach(function(ht){Qe.setAttribute(ht,Ie[ht])}),typeof Me.insert=="function")Me.insert(Qe);else{var ot=ne(Me.insert||"head");if(!ot)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");ot.appendChild(Qe)}return Qe}var rt,Tt=(rt=[],function(Me,Qe){return rt[Me]=Qe,rt.filter(Boolean).join(`
`)});function $e(Me,Qe,Ie,Ot){var ot=Ie?"":Ot.media?"@media ".concat(Ot.media," {").concat(Ot.css,"}"):Ot.css;if(Me.styleSheet)Me.styleSheet.cssText=Tt(Qe,ot);else{var ht=document.createTextNode(ot),Pt=Me.childNodes;Pt[Qe]&&Me.removeChild(Pt[Qe]),Pt.length?Me.insertBefore(ht,Pt[Qe]):Me.appendChild(ht)}}function et(Me,Qe,Ie){var Ot=Ie.css,ot=Ie.media,ht=Ie.sourceMap;if(ot?Me.setAttribute("media",ot):Me.removeAttribute("media"),ht&&btoa&&(Ot+=`
/*# sourceMappingURL=data:application/json;base64,`.concat(btoa(unescape(encodeURIComponent(JSON.stringify(ht))))," */")),Me.styleSheet)Me.styleSheet.cssText=Ot;else{for(;Me.firstChild;)Me.removeChild(Me.firstChild);Me.appendChild(document.createTextNode(Ot))}}var Rt=null,Vt=0;function Ge(Me,Qe){var Ie,Ot,ot;if(Qe.singleton){var ht=Vt++;Ie=Rt||(Rt=Ye(Qe)),Ot=$e.bind(null,Ie,ht,!1),ot=$e.bind(null,Ie,ht,!0)}else Ie=Ye(Qe),Ot=et.bind(null,Ie,Qe),ot=function(){(function(it){if(it.parentNode===null)return!1;it.parentNode.removeChild(it)})(Ie)};return Ot(Me),function(Pt){if(Pt){if(Pt.css===Me.css&&Pt.media===Me.media&&Pt.sourceMap===Me.sourceMap)return;Ot(Me=Pt)}else ot()}}A.exports=function(Me,Qe){(Qe=Qe||{}).singleton||typeof Qe.singleton=="boolean"||(Qe.singleton=y());var Ie=de(Me=Me||[],Qe);return function(Ot){if(Ot=Ot||[],Object.prototype.toString.call(Ot)==="[object Array]"){for(var ot=0;ot<Ie.length;ot++){var ht=me(Ie[ot]);Ae[ht].references--}for(var Pt=de(Ot,Qe),it=0;it<Ie.length;it++){var ge=me(Ie[it]);Ae[ge].references===0&&(Ae[ge].updater(),Ae.splice(ge,1))}Ie=Pt}}}},,function(A,Y,L){"use strict";var K=L(7),y=typeof self=="object"&&self&&self.Object===Object&&self,ne=K.a||y||Function("return this")();Y.a=ne},function(A,Y,L){"use strict";(function(K){var y=L(3),ne=L(12),Ae=W&&!W.nodeType&&W,me=Ae&&typeof K=="object"&&K&&!K.nodeType&&K,de=me&&me.exports===Ae?y.a.Buffer:void 0,Ye=(de?de.isBuffer:void 0)||ne.a;Y.a=Ye}).call(this,L(9)(A))},function(A,Y,L){"use strict";(function(K){var y=L(7),ne=W&&!W.nodeType&&W,Ae=ne&&typeof K=="object"&&K&&!K.nodeType&&K,me=Ae&&Ae.exports===ne&&y.a.process,de=function(){try{var Ye=Ae&&Ae.require&&Ae.require("util").types;return Ye||me&&me.binding&&me.binding("util")}catch(rt){}}();Y.a=de}).call(this,L(9)(A))},function(A,Y,L){"use strict";(function(K){var y=L(0),ne=typeof window=="object"?window:K;if(ne.CKEDITOR_VERSION)throw new y.b("ckeditor-duplicated-modules: Some CKEditor 5 modules are duplicated.",null);ne.CKEDITOR_VERSION="19.1.1"}).call(this,L(10))},function(A,Y,L){"use strict";(function(K){var y=typeof K=="object"&&K&&K.Object===Object&&K;Y.a=y}).call(this,L(10))},function(A,Y,L){"use strict";(function(K){var y=L(3),ne=W&&!W.nodeType&&W,Ae=ne&&typeof K=="object"&&K&&!K.nodeType&&K,me=Ae&&Ae.exports===ne?y.a.Buffer:void 0,de=me?me.allocUnsafe:void 0;Y.a=function(Ye,rt){if(rt)return Ye.slice();var Tt=Ye.length,$e=de?de(Tt):new Ye.constructor(Tt);return Ye.copy($e),$e}}).call(this,L(9)(A))},function(A,Y){A.exports=function(L){if(!L.webpackPolyfill){var K=Object.create(L);K.children||(K.children=[]),Object.defineProperty(K,"loaded",{enumerable:!0,get:function(){return K.l}}),Object.defineProperty(K,"id",{enumerable:!0,get:function(){return K.i}}),Object.defineProperty(K,"exports",{enumerable:!0}),K.webpackPolyfill=1}return K}},function(A,Y){var L;L=function(){return this}();try{L=L||new Function("return this")()}catch(K){typeof window=="object"&&(L=window)}A.exports=L},function(A,Y,L){var K=L(1),y=L(71);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y,L){"use strict";Y.a=function(){return!1}},function(A,Y,L){var K=L(1),y=L(14);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-placeholder:before,.ck .ck-placeholder:before{content:attr(data-placeholder);pointer-events:none}.ck.ck-read-only .ck-placeholder:before{display:none}.ck.ck-placeholder:before,.ck .ck-placeholder:before{cursor:text;color:var(--ck-color-engine-placeholder-text)}"},function(A,Y,L){var K=L(1),y=L(16);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck-hidden{display:none!important}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{box-sizing:border-box;width:auto;height:auto;position:static}:root{--ck-z-default:1;--ck-z-modal:calc(var(--ck-z-default) + 999);--ck-color-base-foreground:#fafafa;--ck-color-base-background:#fff;--ck-color-base-border:#c4c4c4;--ck-color-base-action:#61b045;--ck-color-base-focus:#6cb5f9;--ck-color-base-text:#333;--ck-color-base-active:#198cf0;--ck-color-base-active-focus:#0e7fe1;--ck-color-base-error:#db3700;--ck-color-focus-border-coordinates:208,79%,51%;--ck-color-focus-border:hsl(var(--ck-color-focus-border-coordinates));--ck-color-focus-outer-shadow:#bcdefb;--ck-color-focus-disabled-shadow:rgba(119,186,248,0.3);--ck-color-focus-error-shadow:rgba(255,64,31,0.3);--ck-color-text:var(--ck-color-base-text);--ck-color-shadow-drop:rgba(0,0,0,0.15);--ck-color-shadow-drop-active:rgba(0,0,0,0.2);--ck-color-shadow-inner:rgba(0,0,0,0.1);--ck-color-button-default-background:transparent;--ck-color-button-default-hover-background:#e6e6e6;--ck-color-button-default-active-background:#d9d9d9;--ck-color-button-default-active-shadow:#bfbfbf;--ck-color-button-default-disabled-background:transparent;--ck-color-button-on-background:#dedede;--ck-color-button-on-hover-background:#c4c4c4;--ck-color-button-on-active-background:#bababa;--ck-color-button-on-active-shadow:#a1a1a1;--ck-color-button-on-disabled-background:#dedede;--ck-color-button-action-background:var(--ck-color-base-action);--ck-color-button-action-hover-background:#579e3d;--ck-color-button-action-active-background:#53973b;--ck-color-button-action-active-shadow:#498433;--ck-color-button-action-disabled-background:#7ec365;--ck-color-button-action-text:var(--ck-color-base-background);--ck-color-button-save:#008a00;--ck-color-button-cancel:#db3700;--ck-color-switch-button-off-background:#b0b0b0;--ck-color-switch-button-off-hover-background:#a3a3a3;--ck-color-switch-button-on-background:var(--ck-color-button-action-background);--ck-color-switch-button-on-hover-background:#579e3d;--ck-color-switch-button-inner-background:var(--ck-color-base-background);--ck-color-switch-button-inner-shadow:rgba(0,0,0,0.1);--ck-color-dropdown-panel-background:var(--ck-color-base-background);--ck-color-dropdown-panel-border:var(--ck-color-base-border);--ck-color-input-background:var(--ck-color-base-background);--ck-color-input-border:#c7c7c7;--ck-color-input-error-border:var(--ck-color-base-error);--ck-color-input-text:var(--ck-color-base-text);--ck-color-input-disabled-background:#f2f2f2;--ck-color-input-disabled-border:#c7c7c7;--ck-color-input-disabled-text:#5c5c5c;--ck-color-list-background:var(--ck-color-base-background);--ck-color-list-button-hover-background:var(--ck-color-button-default-hover-background);--ck-color-list-button-on-background:var(--ck-color-base-active);--ck-color-list-button-on-background-focus:var(--ck-color-base-active-focus);--ck-color-list-button-on-text:var(--ck-color-base-background);--ck-color-panel-background:var(--ck-color-base-background);--ck-color-panel-border:var(--ck-color-base-border);--ck-color-toolbar-background:var(--ck-color-base-foreground);--ck-color-toolbar-border:var(--ck-color-base-border);--ck-color-tooltip-background:var(--ck-color-base-text);--ck-color-tooltip-text:var(--ck-color-base-background);--ck-color-engine-placeholder-text:#707070;--ck-color-upload-bar-background:#6cb5f9;--ck-color-link-default:#0000f0;--ck-color-link-selected-background:rgba(31,177,255,0.1);--ck-disabled-opacity:.5;--ck-focus-outer-shadow-geometry:0 0 0 3px;--ck-focus-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-outer-shadow);--ck-focus-disabled-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-disabled-shadow);--ck-focus-error-outer-shadow:var(--ck-focus-outer-shadow-geometry) var(--ck-color-focus-error-shadow);--ck-focus-ring:1px solid var(--ck-color-focus-border);--ck-font-size-base:13px;--ck-line-height-base:1.84615;--ck-font-face:Helvetica,Arial,Tahoma,Verdana,Sans-Serif;--ck-font-size-tiny:0.7em;--ck-font-size-small:0.75em;--ck-font-size-normal:1em;--ck-font-size-big:1.4em;--ck-font-size-large:1.8em;--ck-ui-component-min-height:2.3em}.ck.ck-reset,.ck.ck-reset_all,.ck.ck-reset_all *{margin:0;padding:0;border:0;background:transparent;text-decoration:none;vertical-align:middle;transition:none;word-wrap:break-word}.ck.ck-reset_all,.ck.ck-reset_all *{border-collapse:collapse;font:normal normal normal var(--ck-font-size-base)/var(--ck-line-height-base) var(--ck-font-face);color:var(--ck-color-text);text-align:left;white-space:nowrap;cursor:auto;float:none}.ck.ck-reset_all .ck-rtl *{text-align:right}.ck.ck-reset_all iframe{vertical-align:inherit}.ck.ck-reset_all textarea{white-space:pre-wrap}.ck.ck-reset_all input[type=password],.ck.ck-reset_all input[type=text],.ck.ck-reset_all textarea{cursor:text}.ck.ck-reset_all input[type=password][disabled],.ck.ck-reset_all input[type=text][disabled],.ck.ck-reset_all textarea[disabled]{cursor:default}.ck.ck-reset_all fieldset{padding:10px;border:2px groove #dfdee3}.ck.ck-reset_all button::-moz-focus-inner{padding:0;border:0}.ck[dir=rtl],.ck[dir=rtl] .ck{text-align:right}:root{--ck-border-radius:2px;--ck-inner-shadow:2px 2px 3px var(--ck-color-shadow-inner) inset;--ck-drop-shadow:0 1px 2px 1px var(--ck-color-shadow-drop);--ck-drop-shadow-active:0 3px 6px 1px var(--ck-color-shadow-drop-active);--ck-spacing-unit:0.6em;--ck-spacing-large:calc(var(--ck-spacing-unit)*1.5);--ck-spacing-standard:var(--ck-spacing-unit);--ck-spacing-medium:calc(var(--ck-spacing-unit)*0.8);--ck-spacing-small:calc(var(--ck-spacing-unit)*0.5);--ck-spacing-tiny:calc(var(--ck-spacing-unit)*0.3);--ck-spacing-extra-tiny:calc(var(--ck-spacing-unit)*0.16)}"},function(A,Y,L){var K=L(1),y=L(18);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=":root{--ck-color-editable-blur-selection:#d9d9d9}.ck.ck-editor__editable:not(.ck-editor__nested-editable){border-radius:0}.ck-rounded-corners .ck.ck-editor__editable:not(.ck-editor__nested-editable),.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-editor__editable:not(.ck-editor__nested-editable).ck-focused{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0}.ck.ck-editor__editable_inline{overflow:auto;padding:0 var(--ck-spacing-standard);border:1px solid transparent}.ck.ck-editor__editable_inline[dir=ltr]{text-align:left}.ck.ck-editor__editable_inline[dir=rtl]{text-align:right}.ck.ck-editor__editable_inline>:first-child{margin-top:var(--ck-spacing-large)}.ck.ck-editor__editable_inline>:last-child{margin-bottom:var(--ck-spacing-large)}.ck.ck-editor__editable_inline.ck-blurred ::selection{background:var(--ck-color-editable-blur-selection)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_n]:after{border-bottom-color:var(--ck-color-base-foreground)}.ck.ck-balloon-panel.ck-toolbar-container[class*=arrow_s]:after{border-top-color:var(--ck-color-base-foreground)}"},function(A,Y,L){var K=L(1),y=L(20);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-label{display:block}.ck.ck-voice-label{display:none}.ck.ck-label{font-weight:700}"},function(A,Y,L){var K=L(1),y=L(22);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-sticky-panel .ck-sticky-panel__content_sticky{z-index:var(--ck-z-modal);position:fixed;top:0}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky_bottom-limit{top:auto;position:absolute}.ck.ck-sticky-panel .ck-sticky-panel__content_sticky{box-shadow:var(--ck-drop-shadow),0 0;border-width:0 1px 1px;border-top-left-radius:0;border-top-right-radius:0}"},function(A,Y,L){var K=L(1),y=L(24);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-dropdown{display:inline-block;position:relative}.ck.ck-dropdown .ck-dropdown__arrow{pointer-events:none;z-index:var(--ck-z-default)}.ck.ck-dropdown .ck-button.ck-dropdown__button{width:100%}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on .ck-tooltip{display:none}.ck.ck-dropdown .ck-dropdown__panel{-webkit-backface-visibility:hidden;display:none;z-index:var(--ck-z-modal);position:absolute}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel-visible{display:inline-block}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw{bottom:100%}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{top:100%;bottom:auto}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_ne,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_se{left:0}.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_nw,.ck.ck-dropdown .ck-dropdown__panel.ck-dropdown__panel_sw{right:0}:root{--ck-dropdown-arrow-size:calc(0.5*var(--ck-icon-size))}.ck.ck-dropdown{font-size:inherit}.ck.ck-dropdown .ck-dropdown__arrow{width:var(--ck-dropdown-arrow-size)}[dir=ltr] .ck.ck-dropdown .ck-dropdown__arrow{right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-standard)}[dir=rtl] .ck.ck-dropdown .ck-dropdown__arrow{left:var(--ck-spacing-standard);margin-right:var(--ck-spacing-small)}.ck.ck-dropdown.ck-disabled .ck-dropdown__arrow{opacity:var(--ck-disabled-opacity)}[dir=ltr] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-left:var(--ck-spacing-small)}[dir=rtl] .ck.ck-dropdown .ck-button.ck-dropdown__button:not(.ck-button_with-text){padding-right:var(--ck-spacing-small)}.ck.ck-dropdown .ck-button.ck-dropdown__button .ck-button__label{width:7em;overflow:hidden;text-overflow:ellipsis}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-on{border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-button.ck-dropdown__button.ck-dropdown__button_label-width_auto .ck-button__label{width:auto}.ck.ck-dropdown__panel{border-radius:0}.ck-rounded-corners .ck.ck-dropdown__panel,.ck.ck-dropdown__panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-dropdown__panel{box-shadow:var(--ck-drop-shadow),0 0;background:var(--ck-color-dropdown-panel-background);border:1px solid var(--ck-color-dropdown-panel-border);bottom:0;min-width:100%}.ck.ck-dropdown__panel.ck-dropdown__panel_se{border-top-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_sw{border-top-right-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_ne{border-bottom-left-radius:0}.ck.ck-dropdown__panel.ck-dropdown__panel_nw{border-bottom-right-radius:0}"},function(A,Y,L){var K=L(1),y=L(26);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-icon{vertical-align:middle}:root{--ck-icon-size:calc(var(--ck-line-height-base)*var(--ck-font-size-normal))}.ck.ck-icon{width:var(--ck-icon-size);height:var(--ck-icon-size);font-size:.8333350694em;will-change:transform}.ck.ck-icon,.ck.ck-icon *{color:inherit;cursor:inherit}.ck.ck-icon :not([fill]){fill:currentColor}"},function(A,Y,L){var K=L(1),y=L(28);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports='.ck.ck-tooltip,.ck.ck-tooltip .ck-tooltip__text:after{position:absolute;pointer-events:none;-webkit-backface-visibility:hidden}.ck.ck-tooltip{visibility:hidden;opacity:0;display:none;z-index:var(--ck-z-modal)}.ck.ck-tooltip .ck-tooltip__text{display:inline-block}.ck.ck-tooltip .ck-tooltip__text:after{content:"";width:0;height:0}:root{--ck-tooltip-arrow-size:5px}.ck.ck-tooltip{left:50%;top:0;transition:opacity .2s ease-in-out .2s}.ck.ck-tooltip .ck-tooltip__text{border-radius:0}.ck-rounded-corners .ck.ck-tooltip .ck-tooltip__text,.ck.ck-tooltip .ck-tooltip__text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-tooltip .ck-tooltip__text{font-size:.9em;line-height:1.5;color:var(--ck-color-tooltip-text);padding:var(--ck-spacing-small) var(--ck-spacing-medium);background:var(--ck-color-tooltip-background);position:relative;left:-50%}.ck.ck-tooltip .ck-tooltip__text:after{transition:opacity .2s ease-in-out .2s;border-style:solid;left:50%}.ck.ck-tooltip.ck-tooltip_s{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(100%)}.ck.ck-tooltip.ck-tooltip_s .ck-tooltip__text:after{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:var(--ck-color-tooltip-background);border-right-color:transparent;border-top-color:transparent;border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:var(--ck-tooltip-arrow-size);border-right-width:var(--ck-tooltip-arrow-size);border-top-width:0}.ck.ck-tooltip.ck-tooltip_n{top:calc(-1*var(--ck-tooltip-arrow-size));transform:translateY(-100%)}.ck.ck-tooltip.ck-tooltip_n .ck-tooltip__text:after{bottom:calc(-1*var(--ck-tooltip-arrow-size));transform:translateX(-50%);border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent;border-top-color:var(--ck-color-tooltip-background);border-left-width:var(--ck-tooltip-arrow-size);border-bottom-width:0;border-right-width:var(--ck-tooltip-arrow-size);border-top-width:var(--ck-tooltip-arrow-size)}'},function(A,Y,L){var K=L(1),y=L(30);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-button,a.ck.ck-button{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none}.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:block}@media (hover:none){.ck.ck-button .ck-tooltip,a.ck.ck-button .ck-tooltip{display:none}}.ck.ck-button,a.ck.ck-button{position:relative;display:inline-flex;align-items:center;justify-content:left}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{display:none}.ck.ck-button.ck-button_with-text .ck-button__label,a.ck.ck-button.ck-button_with-text .ck-button__label{display:inline-block}.ck.ck-button:not(.ck-button_with-text),a.ck.ck-button:not(.ck-button_with-text){justify-content:center}.ck.ck-button:hover .ck-tooltip,a.ck.ck-button:hover .ck-tooltip{visibility:visible;opacity:1}.ck.ck-button:focus:not(:hover) .ck-tooltip,a.ck.ck-button:focus:not(:hover) .ck-tooltip{display:none}.ck.ck-button,a.ck.ck-button{background:var(--ck-color-button-default-background)}.ck.ck-button:not(.ck-disabled):hover,a.ck.ck-button:not(.ck-disabled):hover{background:var(--ck-color-button-default-hover-background)}.ck.ck-button:not(.ck-disabled):active,a.ck.ck-button:not(.ck-disabled):active{background:var(--ck-color-button-default-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-default-active-shadow)}.ck.ck-button.ck-disabled,a.ck.ck-button.ck-disabled{background:var(--ck-color-button-default-disabled-background)}.ck.ck-button,a.ck.ck-button{border-radius:0}.ck-rounded-corners .ck.ck-button,.ck-rounded-corners a.ck.ck-button,.ck.ck-button.ck-rounded-corners,a.ck.ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-button,a.ck.ck-button{white-space:nowrap;cursor:default;vertical-align:middle;padding:var(--ck-spacing-tiny);text-align:center;min-width:var(--ck-ui-component-min-height);min-height:var(--ck-ui-component-min-height);line-height:1;font-size:inherit;border:1px solid transparent;transition:box-shadow .2s ease-in-out,border .2s ease-in-out;-webkit-appearance:none}.ck.ck-button:active,.ck.ck-button:focus,a.ck.ck-button:active,a.ck.ck-button:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),0 0}.ck.ck-button .ck-button__icon use,.ck.ck-button .ck-button__icon use *,a.ck.ck-button .ck-button__icon use,a.ck.ck-button .ck-button__icon use *{color:inherit}.ck.ck-button .ck-button__label,a.ck.ck-button .ck-button__label{font-size:inherit;font-weight:inherit;color:inherit;cursor:inherit;vertical-align:middle}[dir=ltr] .ck.ck-button .ck-button__label,[dir=ltr] a.ck.ck-button .ck-button__label{text-align:left}[dir=rtl] .ck.ck-button .ck-button__label,[dir=rtl] a.ck.ck-button .ck-button__label{text-align:right}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{color:inherit}[dir=ltr] .ck.ck-button .ck-button__keystroke,[dir=ltr] a.ck.ck-button .ck-button__keystroke{margin-left:var(--ck-spacing-large)}[dir=rtl] .ck.ck-button .ck-button__keystroke,[dir=rtl] a.ck.ck-button .ck-button__keystroke{margin-right:var(--ck-spacing-large)}.ck.ck-button .ck-button__keystroke,a.ck.ck-button .ck-button__keystroke{font-weight:700;opacity:.7}.ck.ck-button.ck-disabled:active,.ck.ck-button.ck-disabled:focus,a.ck.ck-button.ck-disabled:active,a.ck.ck-button.ck-disabled:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),0 0}.ck.ck-button.ck-disabled .ck-button__icon,a.ck.ck-button.ck-disabled .ck-button__icon{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__label,a.ck.ck-button.ck-disabled .ck-button__label{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-disabled .ck-button__keystroke,a.ck.ck-button.ck-disabled .ck-button__keystroke{opacity:.3}.ck.ck-button.ck-button_with-text,a.ck.ck-button.ck-button_with-text{padding:var(--ck-spacing-tiny) var(--ck-spacing-standard)}[dir=ltr] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=ltr] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-left:calc(-1*var(--ck-spacing-small));margin-right:var(--ck-spacing-small)}[dir=rtl] .ck.ck-button.ck-button_with-text .ck-button__icon,[dir=rtl] a.ck.ck-button.ck-button_with-text .ck-button__icon{margin-right:calc(-1*var(--ck-spacing-small));margin-left:var(--ck-spacing-small)}.ck.ck-button.ck-button_with-keystroke .ck-button__label,a.ck.ck-button.ck-button_with-keystroke .ck-button__label{flex-grow:1}.ck.ck-button.ck-on,a.ck.ck-button.ck-on{background:var(--ck-color-button-on-background)}.ck.ck-button.ck-on:not(.ck-disabled):hover,a.ck.ck-button.ck-on:not(.ck-disabled):hover{background:var(--ck-color-button-on-hover-background)}.ck.ck-button.ck-on:not(.ck-disabled):active,a.ck.ck-button.ck-on:not(.ck-disabled):active{background:var(--ck-color-button-on-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-on-active-shadow)}.ck.ck-button.ck-on.ck-disabled,a.ck.ck-button.ck-on.ck-disabled{background:var(--ck-color-button-on-disabled-background)}.ck.ck-button.ck-button-save,a.ck.ck-button.ck-button-save{color:var(--ck-color-button-save)}.ck.ck-button.ck-button-cancel,a.ck.ck-button.ck-button-cancel{color:var(--ck-color-button-cancel)}.ck.ck-button-action,a.ck.ck-button-action{background:var(--ck-color-button-action-background)}.ck.ck-button-action:not(.ck-disabled):hover,a.ck.ck-button-action:not(.ck-disabled):hover{background:var(--ck-color-button-action-hover-background)}.ck.ck-button-action:not(.ck-disabled):active,a.ck.ck-button-action:not(.ck-disabled):active{background:var(--ck-color-button-action-active-background);box-shadow:inset 0 2px 2px var(--ck-color-button-action-active-shadow)}.ck.ck-button-action.ck-disabled,a.ck.ck-button-action.ck-disabled{background:var(--ck-color-button-action-disabled-background)}.ck.ck-button-action,a.ck.ck-button-action{color:var(--ck-color-button-action-text)}.ck.ck-button-bold,a.ck.ck-button-bold{font-weight:700}"},function(A,Y,L){var K=L(1),y=L(32);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-list{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-direction:column}.ck.ck-list .ck-list__item,.ck.ck-list .ck-list__separator{display:block}.ck.ck-list .ck-list__item>:focus{position:relative;z-index:var(--ck-z-default)}.ck.ck-list{border-radius:0}.ck-rounded-corners .ck.ck-list,.ck.ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-list{list-style-type:none;background:var(--ck-color-list-background)}.ck.ck-list__item{cursor:default;min-width:12em}.ck.ck-list__item .ck-button{min-height:unset;width:100%;text-align:left;border-radius:0;padding:calc(0.2*var(--ck-line-height-base)*var(--ck-font-size-base)) calc(0.4*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button .ck-button__label{line-height:calc(1.2*var(--ck-line-height-base)*var(--ck-font-size-base))}.ck.ck-list__item .ck-button:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on{background:var(--ck-color-list-button-on-background);color:var(--ck-color-list-button-on-text)}.ck.ck-list__item .ck-button.ck-on:active{box-shadow:none}.ck.ck-list__item .ck-button.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-on-background-focus)}.ck.ck-list__item .ck-button.ck-on:focus:not(.ck-disabled){border-color:var(--ck-color-base-background)}.ck.ck-list__item .ck-button:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background)}.ck.ck-list__item .ck-switchbutton.ck-on{background:var(--ck-color-list-background);color:inherit}.ck.ck-list__item .ck-switchbutton.ck-on:hover:not(.ck-disabled){background:var(--ck-color-list-button-hover-background);color:inherit}.ck.ck-list__separator{height:1px;width:100%;background:var(--ck-color-base-border)}"},function(A,Y,L){var K=L(1),y=L(34);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{display:block}:root{--ck-switch-button-toggle-width:2.6153846154em;--ck-switch-button-toggle-inner-size:1.0769230769em;--ck-switch-button-toggle-spacing:1px;--ck-switch-button-translation:calc(var(--ck-switch-button-toggle-width) - var(--ck-switch-button-toggle-inner-size) - 2*var(--ck-switch-button-toggle-spacing))}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__label{margin-right:calc(2*var(--ck-spacing-large))}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__label{margin-left:calc(2*var(--ck-spacing-large))}.ck.ck-button.ck-switchbutton .ck-button__toggle{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle,.ck.ck-button.ck-switchbutton .ck-button__toggle.ck-rounded-corners{border-radius:var(--ck-border-radius)}[dir=ltr] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-left:auto}[dir=rtl] .ck.ck-button.ck-switchbutton .ck-button__toggle{margin-right:auto}.ck.ck-button.ck-switchbutton .ck-button__toggle{transition:background .4s ease;width:var(--ck-switch-button-toggle-width);background:var(--ck-color-switch-button-off-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{border-radius:0}.ck-rounded-corners .ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner,.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:calc(0.5*var(--ck-border-radius))}.ck.ck-button.ck-switchbutton .ck-button__toggle .ck-button__toggle__inner{margin:var(--ck-switch-button-toggle-spacing);width:var(--ck-switch-button-toggle-inner-size);height:var(--ck-switch-button-toggle-inner-size);background:var(--ck-color-switch-button-inner-background);transition:all .3s ease}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover{background:var(--ck-color-switch-button-off-hover-background)}.ck.ck-button.ck-switchbutton .ck-button__toggle:hover .ck-button__toggle__inner{box-shadow:0 0 0 5px var(--ck-color-switch-button-inner-shadow)}.ck.ck-button.ck-switchbutton.ck-disabled .ck-button__toggle{opacity:var(--ck-disabled-opacity)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle{background:var(--ck-color-switch-button-on-background)}.ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle:hover{background:var(--ck-color-switch-button-on-hover-background)}[dir=ltr] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(var(--ck-switch-button-translation))}[dir=rtl] .ck.ck-button.ck-switchbutton.ck-on .ck-button__toggle .ck-button__toggle__inner{transform:translateX(calc(-1*var(--ck-switch-button-translation)))}"},function(A,Y,L){var K=L(1),y=L(36);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-toolbar-dropdown .ck.ck-toolbar .ck.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar-dropdown .ck-dropdown__panel .ck-button:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-toolbar-dropdown .ck-toolbar{border:0}"},function(A,Y,L){var K=L(1),y=L(38);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-dropdown .ck-dropdown__panel .ck-list{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list,.ck.ck-dropdown .ck-dropdown__panel .ck-list.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:first-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button{border-radius:0}.ck-rounded-corners .ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button,.ck.ck-dropdown .ck-dropdown__panel .ck-list .ck-list__item:last-child .ck-button.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}"},function(A,Y,L){var K=L(1),y=L(40);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-toolbar{-moz-user-select:none;-webkit-user-select:none;-ms-user-select:none;user-select:none;display:flex;flex-flow:row nowrap;align-items:center}.ck.ck-toolbar>.ck-toolbar__items{display:flex;flex-flow:row wrap;align-items:center;flex-grow:1}.ck.ck-toolbar .ck.ck-toolbar__separator{display:inline-block}.ck.ck-toolbar .ck.ck-toolbar__separator:first-child,.ck.ck-toolbar .ck.ck-toolbar__separator:last-child{display:none}.ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items{flex-direction:column}.ck.ck-toolbar.ck-toolbar_floating>.ck-toolbar__items{flex-wrap:nowrap}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck-dropdown__button .ck-dropdown__arrow{display:none}.ck.ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-toolbar,.ck.ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-toolbar{background:var(--ck-color-toolbar-background);padding:0 var(--ck-spacing-small);border:1px solid var(--ck-color-toolbar-border)}.ck.ck-toolbar .ck.ck-toolbar__separator{align-self:stretch;width:1px;min-width:1px;margin-top:0;margin-bottom:0;background:var(--ck-color-toolbar-border)}.ck.ck-toolbar>.ck-toolbar__items>*{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small);margin-right:var(--ck-spacing-small)}.ck.ck-toolbar>.ck-toolbar__items:empty+.ck.ck-toolbar__separator{display:none}.ck.ck-toolbar>.ck-toolbar__items>*,.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown{margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck.ck-toolbar.ck-toolbar_vertical{padding:0}.ck.ck-toolbar.ck-toolbar_vertical>.ck-toolbar__items>.ck{width:100%;margin:0;border-radius:0;border:0}.ck.ck-toolbar.ck-toolbar_compact{padding:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>*{margin:0}.ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>:not(:first-child):not(:last-child){border-radius:0}.ck.ck-toolbar>.ck.ck-toolbar__grouped-dropdown>.ck.ck-button.ck-dropdown__button{padding-left:var(--ck-spacing-tiny)}.ck-toolbar-container .ck.ck-toolbar{border:0}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck{margin-right:0}.ck.ck-toolbar[dir=rtl]:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck,[dir=rtl] .ck.ck-toolbar:not(.ck-toolbar_compact)>.ck-toolbar__items>.ck{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl]>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-left:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=rtl].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=rtl] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=rtl]>.ck.ck-toolbar__separator,[dir=rtl] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=rtl].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=rtl] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-left:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr]>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar>.ck-toolbar__items>.ck:last-child{margin-right:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:first-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:first-child{border-top-right-radius:0;border-bottom-right-radius:0}.ck.ck-toolbar[dir=ltr].ck-toolbar_compact>.ck-toolbar__items>.ck:last-child,[dir=ltr] .ck.ck-toolbar.ck-toolbar_compact>.ck-toolbar__items>.ck:last-child{border-top-left-radius:0;border-bottom-left-radius:0}.ck.ck-toolbar[dir=ltr]>.ck.ck-toolbar__separator,[dir=ltr] .ck.ck-toolbar>.ck.ck-toolbar__separator{margin-right:var(--ck-spacing-small)}.ck.ck-toolbar[dir=ltr].ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child),[dir=ltr] .ck.ck-toolbar.ck-toolbar_grouping>.ck-toolbar__items:not(:empty):not(:only-child){margin-right:var(--ck-spacing-small)}"},function(A,Y,L){var K=L(1),y=L(42);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-editor{position:relative}.ck.ck-editor .ck-editor__top .ck-sticky-panel .ck-toolbar{z-index:var(--ck-z-modal)}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-bottom-left-radius:0;border-bottom-right-radius:0}.ck.ck-editor__top .ck-sticky-panel .ck-toolbar{border-bottom-width:0}.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar{border-bottom-width:1px;border-radius:0}.ck-rounded-corners .ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar,.ck.ck-editor__top .ck-sticky-panel .ck-sticky-panel__content_sticky .ck-toolbar.ck-rounded-corners{border-radius:var(--ck-border-radius);border-radius:0}.ck.ck-editor__main>.ck-editor__editable{background:var(--ck-color-base-background);border-radius:0}.ck-rounded-corners .ck.ck-editor__main>.ck-editor__editable,.ck.ck-editor__main>.ck-editor__editable.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:0;border-top-right-radius:0}.ck.ck-editor__main>.ck-editor__editable:not(.ck-focused){border-color:var(--ck-color-base-border)}"},function(A,Y,L){var K=L(1),y=L(44);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck-content blockquote{overflow:hidden;padding-right:1.5em;padding-left:1.5em;margin-left:0;margin-right:0;font-style:italic;border-left:5px solid #ccc}.ck-content[dir=rtl] blockquote{border-left:0;border-right:5px solid #ccc}"},function(A,Y,L){var K=L(1),y=L(46);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=':root{--ck-balloon-panel-arrow-z-index:calc(var(--ck-z-default) - 3)}.ck.ck-balloon-panel{display:none;position:absolute;z-index:var(--ck-z-modal)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{content:"";position:absolute}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_n]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_n]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel[class*=arrow_s]:before{z-index:var(--ck-balloon-panel-arrow-z-index)}.ck.ck-balloon-panel[class*=arrow_s]:after{z-index:calc(var(--ck-balloon-panel-arrow-z-index) + 1)}.ck.ck-balloon-panel.ck-balloon-panel_visible{display:block}:root{--ck-balloon-arrow-offset:2px;--ck-balloon-arrow-height:10px;--ck-balloon-arrow-half-width:8px}.ck.ck-balloon-panel{border-radius:0}.ck-rounded-corners .ck.ck-balloon-panel,.ck.ck-balloon-panel.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-balloon-panel{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border)}.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:after,.ck.ck-balloon-panel.ck-balloon-panel_with-arrow:before{width:0;height:0;border-style:solid}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:var(--ck-balloon-arrow-height);border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:0}.ck.ck-balloon-panel[class*=arrow_n]:before{border-bottom-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_n]:after,.ck.ck-balloon-panel[class*=arrow_n]:before{border-left-color:transparent;border-right-color:transparent;border-top-color:transparent}.ck.ck-balloon-panel[class*=arrow_n]:after{border-bottom-color:var(--ck-color-panel-background);margin-top:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-width:var(--ck-balloon-arrow-half-width);border-bottom-width:0;border-right-width:var(--ck-balloon-arrow-half-width);border-top-width:var(--ck-balloon-arrow-height)}.ck.ck-balloon-panel[class*=arrow_s]:before{border-top-color:var(--ck-color-panel-border)}.ck.ck-balloon-panel[class*=arrow_s]:after,.ck.ck-balloon-panel[class*=arrow_s]:before{border-left-color:transparent;border-bottom-color:transparent;border-right-color:transparent}.ck.ck-balloon-panel[class*=arrow_s]:after{border-top-color:var(--ck-color-panel-background);margin-bottom:var(--ck-balloon-arrow-offset)}.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_n:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nw:before{left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_ne:before{right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_s:before{left:50%;margin-left:calc(-1*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sw:before{left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_se:before{right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_sme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_smw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));bottom:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nme:before{right:25%;margin-right:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:after,.ck.ck-balloon-panel.ck-balloon-panel_arrow_nmw:before{left:25%;margin-left:calc(2*var(--ck-balloon-arrow-half-width));top:calc(-1*var(--ck-balloon-arrow-height))}'},function(A,Y,L){var K=L(1),y=L(48);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck .ck-link_selected{background:var(--ck-color-link-selected-background)}"},function(A,Y,L){var K=L(1),y=L(50);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports='.ck .ck-widget .ck-widget__type-around__button{display:block;position:absolute;overflow:hidden;z-index:var(--ck-z-default)}.ck .ck-widget .ck-widget__type-around__button svg{position:absolute;top:50%;left:50%;z-index:calc(var(--ck-z-default) + 2)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_before{top:calc(-0.5*var(--ck-widget-outline-thickness));left:min(10%,30px);transform:translateY(-50%)}.ck .ck-widget .ck-widget__type-around__button.ck-widget__type-around__button_after{bottom:calc(-0.5*var(--ck-widget-outline-thickness));right:min(10%,30px);transform:translateY(50%)}.ck .ck-widget:not(.ck-widget_can-type-around_after)>.ck-widget__type-around>.ck-widget__type-around__button_after,.ck .ck-widget:not(.ck-widget_can-type-around_before)>.ck-widget__type-around>.ck-widget__type-around__button_before{display:none}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{content:"";display:block;position:absolute;top:1px;left:1px;z-index:calc(var(--ck-z-default) + 1)}.ck.ck-editor__editable.ck-read-only .ck-widget__type-around,.ck.ck-editor__editable.ck-restricted-editing_mode_restricted .ck-widget__type-around{display:none}:root{--ck-widget-type-around-button-size:20px;--ck-color-widget-type-around-button-active:var(--ck-color-focus-border);--ck-color-widget-type-around-button-hover:var(--ck-color-widget-hover-border);--ck-color-widget-type-around-button-blurred-editable:var(--ck-color-widget-blurred-border);--ck-color-widget-type-around-button-radar-start-alpha:0;--ck-color-widget-type-around-button-radar-end-alpha:.3;--ck-color-widget-type-around-button-icon:var(--ck-color-base-background)}.ck .ck-widget .ck-widget__type-around__button{width:var(--ck-widget-type-around-button-size);height:var(--ck-widget-type-around-button-size);background:var(--ck-color-widget-type-around-button);border-radius:100px;pointer-events:none;opacity:0;transition:opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),background var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget .ck-widget__type-around__button svg{width:10px;height:8px;transform:translate(-50%,-50%);transition:transform .5s ease;margin-top:1px}.ck .ck-widget .ck-widget__type-around__button svg *{stroke-dasharray:10;stroke-dashoffset:0;fill:none;stroke:var(--ck-color-widget-type-around-button-icon);stroke-width:1.5px;stroke-linecap:round;stroke-linejoin:round}.ck .ck-widget .ck-widget__type-around__button svg line{stroke-dasharray:7}.ck .ck-widget .ck-widget__type-around__button:hover{animation:ck-widget-type-around-button-sonar 1s ease infinite}.ck .ck-widget .ck-widget__type-around__button:hover svg polyline{animation:ck-widget-type-around-arrow-dash 2s linear}.ck .ck-widget .ck-widget__type-around__button:hover svg line{animation:ck-widget-type-around-arrow-tip-dash 2s linear}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{pointer-events:auto;opacity:1}.ck .ck-widget:not(.ck-widget_selected)>.ck-widget__type-around>.ck-widget__type-around__button{background:var(--ck-color-widget-type-around-button-hover)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover{background:var(--ck-color-widget-type-around-button-active)}.ck .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:after,.ck .ck-widget>.ck-widget__type-around>.ck-widget__type-around__button:hover:after{width:calc(var(--ck-widget-type-around-button-size) - 2px);height:calc(var(--ck-widget-type-around-button-size) - 2px);border-radius:100px;background:linear-gradient(135deg,hsla(0,0%,100%,0),hsla(0,0%,100%,.3))}.ck .ck-widget.ck-widget_with-selection-handle>.ck-widget__type-around>.ck-widget__type-around__button_before{margin-left:20px}.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button,.ck-editor__nested-editable.ck-editor__editable_selected .ck-widget:hover>.ck-widget__type-around>.ck-widget__type-around__button{pointer-events:none;opacity:0}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover){background:var(--ck-color-widget-type-around-button-blurred-editable)}.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected>.ck-widget__type-around>.ck-widget__type-around__button:not(:hover) svg *{stroke:#999}@keyframes ck-widget-type-around-arrow-dash{0%{stroke-dashoffset:10}20%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-arrow-tip-dash{0%,20%{stroke-dashoffset:7}40%,to{stroke-dashoffset:0}}@keyframes ck-widget-type-around-button-sonar{0%{box-shadow:0 0 0 0 hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}50%{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-end-alpha))}to{box-shadow:0 0 0 5px hsla(var(--ck-color-focus-border-coordinates),var(--ck-color-widget-type-around-button-radar-start-alpha))}}'},function(A,Y,L){var K=L(1),y=L(52);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=":root{--ck-color-resizer:var(--ck-color-focus-border);--ck-resizer-size:10px;--ck-resizer-border-width:1px;--ck-resizer-border-radius:2px;--ck-resizer-offset:calc(var(--ck-resizer-size)/-2 - 2px);--ck-resizer-tooltip-offset:10px;--ck-color-resizer-tooltip-background:#262626;--ck-color-resizer-tooltip-text:#f2f2f2}.ck .ck-widget,.ck .ck-widget.ck-widget_with-selection-handle{position:relative}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{position:absolute}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{display:block}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{visibility:visible}.ck .ck-size-view{background:var(--ck-color-resizer-tooltip-background);color:var(--ck-color-resizer-tooltip-text);border:1px solid var(--ck-color-resizer-tooltip-text);border-radius:var(--ck-resizer-border-radius);font-size:var(--ck-font-size-tiny);display:block;padding:var(--ck-spacing-small)}.ck .ck-size-view.ck-orientation-bottom-left,.ck .ck-size-view.ck-orientation-bottom-right,.ck .ck-size-view.ck-orientation-top-left,.ck .ck-size-view.ck-orientation-top-right{position:absolute}.ck .ck-size-view.ck-orientation-top-left{top:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-top-right{top:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-right{bottom:var(--ck-resizer-tooltip-offset);right:var(--ck-resizer-tooltip-offset)}.ck .ck-size-view.ck-orientation-bottom-left{bottom:var(--ck-resizer-tooltip-offset);left:var(--ck-resizer-tooltip-offset)}:root{--ck-widget-outline-thickness:3px;--ck-widget-handler-icon-size:16px;--ck-widget-handler-animation-duration:200ms;--ck-widget-handler-animation-curve:ease;--ck-color-widget-blurred-border:#dedede;--ck-color-widget-hover-border:#ffc83d;--ck-color-widget-editable-focus-background:var(--ck-color-base-background);--ck-color-widget-drag-handler-icon-color:var(--ck-color-base-background)}.ck .ck-widget{outline-width:var(--ck-widget-outline-thickness);outline-style:solid;outline-color:transparent;transition:outline-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_selected,.ck .ck-widget.ck-widget_selected:hover{outline:var(--ck-widget-outline-thickness) solid var(--ck-color-focus-border)}.ck .ck-widget:hover{outline-color:var(--ck-color-widget-hover-border)}.ck .ck-editor__nested-editable{border:1px solid transparent}.ck .ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck .ck-editor__nested-editable:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-inner-shadow),0 0;background-color:var(--ck-color-widget-editable-focus-background)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{padding:4px;box-sizing:border-box;background-color:transparent;opacity:0;transition:background-color var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),visibility var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve),opacity var(--ck-widget-handler-animation-duration) var(--ck-widget-handler-animation-curve);border-radius:var(--ck-border-radius) var(--ck-border-radius) 0 0;transform:translateY(-100%);left:calc(0px - var(--ck-widget-outline-thickness))}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon{width:var(--ck-widget-handler-icon-size);height:var(--ck-widget-handler-icon-size);color:var(--ck-color-widget-drag-handler-icon-color)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:0;transition:opacity .3s var(--ck-widget-handler-animation-curve)}.ck .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover .ck-icon .ck-icon__selected-indicator{opacity:1}.ck .ck-widget.ck-widget_with-selection-handle:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-widget-hover-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle{opacity:1;background-color:var(--ck-color-focus-border)}.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator,.ck .ck-widget.ck-widget_with-selection-handle.ck-widget_selected:hover .ck-widget__selection-handle .ck-icon .ck-icon__selected-indicator{opacity:1}.ck[dir=rtl] .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle{left:auto;right:calc(0px - var(--ck-widget-outline-thickness))}.ck.ck-editor__editable.ck-read-only .ck-widget{transition:none}.ck.ck-editor__editable.ck-read-only .ck-widget:not(.ck-widget_selected){--ck-widget-outline-thickness:0px}.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-read-only .ck-widget.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover{outline-color:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected.ck-widget_with-selection-handle .ck-widget__selection-handle:hover,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle,.ck.ck-editor__editable.ck-blurred .ck-widget.ck-widget_selected:hover.ck-widget_with-selection-handle .ck-widget__selection-handle:hover{background:var(--ck-color-widget-blurred-border)}.ck.ck-editor__editable>.ck-widget.ck-widget_with-selection-handle:first-child,.ck.ck-editor__editable blockquote>.ck-widget.ck-widget_with-selection-handle:first-child{margin-top:calc(1em + var(--ck-widget-handler-icon-size))}"},function(A,Y,L){var K=L(1),y=L(54);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-labeled-field-view .ck-labeled-field-view__status{font-size:var(--ck-font-size-small);margin-top:var(--ck-spacing-small);white-space:normal}.ck.ck-labeled-field-view .ck-labeled-field-view__status_error{color:var(--ck-color-base-error)}.ck.ck-labeled-field-view>.ck.ck-label{width:100%;text-overflow:ellipsis;overflow:hidden}"},function(A,Y,L){var K=L(1),y=L(56);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=":root{--ck-input-text-width:18em}.ck.ck-input-text{border-radius:0}.ck-rounded-corners .ck.ck-input-text,.ck.ck-input-text.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck.ck-input-text{box-shadow:var(--ck-inner-shadow),0 0;background:var(--ck-color-input-background);border:1px solid var(--ck-color-input-border);padding:var(--ck-spacing-extra-tiny) var(--ck-spacing-medium);min-width:var(--ck-input-text-width);min-height:var(--ck-ui-component-min-height);transition:box-shadow .2s ease-in-out,border .2s ease-in-out}.ck.ck-input-text:focus{outline:none;border:var(--ck-focus-ring);box-shadow:var(--ck-focus-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text[readonly]{border:1px solid var(--ck-color-input-disabled-border);background:var(--ck-color-input-disabled-background);color:var(--ck-color-input-disabled-text)}.ck.ck-input-text[readonly]:focus{box-shadow:var(--ck-focus-disabled-outer-shadow),var(--ck-inner-shadow)}.ck.ck-input-text.ck-error{border-color:var(--ck-color-input-error-border);animation:ck-text-input-shake .3s ease both}.ck.ck-input-text.ck-error:focus{box-shadow:var(--ck-focus-error-outer-shadow),var(--ck-inner-shadow)}@keyframes ck-text-input-shake{20%{transform:translateX(-2px)}40%{transform:translateX(2px)}60%{transform:translateX(-1px)}80%{transform:translateX(1px)}}"},function(A,Y,L){var K=L(1),y=L(58);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-text-alternative-form{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-text-alternative-form .ck-labeled-field-view{display:inline-block}.ck.ck-text-alternative-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-text-alternative-form{flex-wrap:wrap}.ck.ck-text-alternative-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-text-alternative-form .ck-button{flex-basis:50%}}.ck.ck-text-alternative-form{padding:var(--ck-spacing-standard)}.ck.ck-text-alternative-form:focus{outline:none}[dir=ltr] .ck.ck-text-alternative-form>:not(:first-child),[dir=rtl] .ck.ck-text-alternative-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-text-alternative-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-text-alternative-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-text-alternative-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-text-alternative-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-text-alternative-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-text-alternative-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-text-alternative-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(A,Y,L){var K=L(1),y=L(60);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck .ck-balloon-rotator__navigation{display:flex;align-items:center;justify-content:center}.ck .ck-balloon-rotator__content .ck-toolbar{justify-content:center}.ck .ck-balloon-rotator__navigation{background:var(--ck-color-toolbar-background);border-bottom:1px solid var(--ck-color-toolbar-border);padding:0 var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation>*{margin-right:var(--ck-spacing-small);margin-top:var(--ck-spacing-small);margin-bottom:var(--ck-spacing-small)}.ck .ck-balloon-rotator__navigation .ck-balloon-rotator__counter{margin-right:var(--ck-spacing-standard);margin-left:var(--ck-spacing-small)}.ck .ck-balloon-rotator__content .ck.ck-annotation-wrapper{box-shadow:none}"},function(A,Y,L){var K=L(1),y=L(62);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck .ck-fake-panel{position:absolute;z-index:calc(var(--ck-z-modal) - 1)}.ck .ck-fake-panel div{position:absolute}.ck .ck-fake-panel div:first-child{z-index:2}.ck .ck-fake-panel div:nth-child(2){z-index:1}:root{--ck-balloon-fake-panel-offset-horizontal:6px;--ck-balloon-fake-panel-offset-vertical:6px}.ck .ck-fake-panel div{box-shadow:var(--ck-drop-shadow),0 0;min-height:15px;background:var(--ck-color-panel-background);border:1px solid var(--ck-color-panel-border);border-radius:var(--ck-border-radius);width:100%;height:100%}.ck .ck-fake-panel div:first-child{margin-left:var(--ck-balloon-fake-panel-offset-horizontal);margin-top:var(--ck-balloon-fake-panel-offset-vertical)}.ck .ck-fake-panel div:nth-child(2){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*2);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*2)}.ck .ck-fake-panel div:nth-child(3){margin-left:calc(var(--ck-balloon-fake-panel-offset-horizontal)*3);margin-top:calc(var(--ck-balloon-fake-panel-offset-vertical)*3)}.ck .ck-balloon-panel_arrow_s+.ck-fake-panel,.ck .ck-balloon-panel_arrow_se+.ck-fake-panel,.ck .ck-balloon-panel_arrow_sw+.ck-fake-panel{--ck-balloon-fake-panel-offset-vertical:-6px}"},function(A,Y,L){var K=L(1),y=L(64);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck-content .image{display:table;clear:both;text-align:center;margin:1em auto}.ck-content .image>img{display:block;margin:0 auto;max-width:100%;min-width:50px}"},function(A,Y,L){var K=L(1),y=L(66);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-editor__editable .image{position:relative}.ck.ck-editor__editable .image .ck-progress-bar{position:absolute;top:0;left:0}.ck.ck-editor__editable .image.ck-appear{animation:fadeIn .7s}.ck.ck-editor__editable .image .ck-progress-bar{height:2px;width:0;background:var(--ck-color-upload-bar-background);transition:width .1s}@keyframes fadeIn{0%{opacity:0}to{opacity:1}}"},function(A,Y,L){var K=L(1),y=L(68);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports='.ck-image-upload-complete-icon{display:block;position:absolute;top:10px;right:10px;border-radius:50%}.ck-image-upload-complete-icon:after{content:"";position:absolute}:root{--ck-color-image-upload-icon:#fff;--ck-color-image-upload-icon-background:#008a00;--ck-image-upload-icon-size:20px;--ck-image-upload-icon-width:2px}.ck-image-upload-complete-icon{width:var(--ck-image-upload-icon-size);height:var(--ck-image-upload-icon-size);opacity:0;background:var(--ck-color-image-upload-icon-background);animation-name:ck-upload-complete-icon-show,ck-upload-complete-icon-hide;animation-fill-mode:forwards,forwards;animation-duration:.5s,.5s;font-size:var(--ck-image-upload-icon-size);animation-delay:0ms,3s}.ck-image-upload-complete-icon:after{left:25%;top:50%;opacity:0;height:0;width:0;transform:scaleX(-1) rotate(135deg);transform-origin:left top;border-top:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);border-right:var(--ck-image-upload-icon-width) solid var(--ck-color-image-upload-icon);animation-name:ck-upload-complete-icon-check;animation-duration:.5s;animation-delay:.5s;animation-fill-mode:forwards;box-sizing:border-box}@keyframes ck-upload-complete-icon-show{0%{opacity:0}to{opacity:1}}@keyframes ck-upload-complete-icon-hide{0%{opacity:1}to{opacity:0}}@keyframes ck-upload-complete-icon-check{0%{opacity:1;width:0;height:0}33%{width:.3em;height:0}to{opacity:1;width:.3em;height:.45em}}'},function(A,Y,L){var K=L(1),y=L(70);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports='.ck .ck-upload-placeholder-loader{position:absolute;display:flex;align-items:center;justify-content:center;top:0;left:0}.ck .ck-upload-placeholder-loader:before{content:"";position:relative}:root{--ck-color-upload-placeholder-loader:#b3b3b3;--ck-upload-placeholder-loader-size:32px}.ck .ck-image-upload-placeholder{width:100%;margin:0}.ck .ck-upload-placeholder-loader{width:100%;height:100%}.ck .ck-upload-placeholder-loader:before{width:var(--ck-upload-placeholder-loader-size);height:var(--ck-upload-placeholder-loader-size);border-radius:50%;border-top:3px solid var(--ck-color-upload-placeholder-loader);border-right:2px solid transparent;animation:ck-upload-placeholder-loader 1s linear infinite}@keyframes ck-upload-placeholder-loader{to{transform:rotate(1turn)}}'},function(A,Y){A.exports=".ck.ck-heading_heading1{font-size:20px}.ck.ck-heading_heading2{font-size:17px}.ck.ck-heading_heading3{font-size:14px}.ck[class*=ck-heading_heading]{font-weight:700}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__button .ck-button__label{width:8em}.ck.ck-dropdown.ck-heading-dropdown .ck-dropdown__panel .ck-list__item{min-width:18em}"},function(A,Y,L){var K=L(1),y=L(73);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck-content .image>figcaption{display:table-caption;caption-side:bottom;word-break:break-word;color:#333;background-color:#f7f7f7;padding:.6em;font-size:.75em;outline-offset:-1px}"},function(A,Y,L){var K=L(1),y=L(75);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=":root{--ck-image-style-spacing:1.5em}.ck-content .image-style-align-center,.ck-content .image-style-align-left,.ck-content .image-style-align-right,.ck-content .image-style-side{max-width:50%}.ck-content .image-style-side{float:right;margin-left:var(--ck-image-style-spacing)}.ck-content .image-style-align-left{float:left;margin-right:var(--ck-image-style-spacing)}.ck-content .image-style-align-center{margin-left:auto;margin-right:auto}.ck-content .image-style-align-right{float:right;margin-left:var(--ck-image-style-spacing)}"},function(A,Y,L){var K=L(1),y=L(77);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-link-form{display:flex}.ck.ck-link-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-link-form{flex-wrap:wrap}.ck.ck-link-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-link-form .ck-button{flex-basis:50%}}.ck.ck-link-form_layout-vertical{display:block}.ck.ck-link-form{padding:var(--ck-spacing-standard)}.ck.ck-link-form:focus{outline:none}[dir=ltr] .ck.ck-link-form>:not(:first-child),[dir=rtl] .ck.ck-link-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}.ck.ck-link-form_layout-vertical{padding:0;min-width:var(--ck-input-text-width)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) var(--ck-spacing-small)}.ck.ck-link-form_layout-vertical .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-link-form_layout-vertical .ck-button{padding:var(--ck-spacing-standard);margin:0;border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border);width:50%}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=ltr] .ck.ck-link-form_layout-vertical .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button{margin-left:0}[dir=rtl] .ck.ck-link-form_layout-vertical .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}.ck.ck-link-form_layout-vertical .ck.ck-list{margin-left:0}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton{border:0;width:100%}.ck.ck-link-form_layout-vertical .ck.ck-list .ck-button.ck-switchbutton:hover{background:none}"},function(A,Y,L){var K=L(1),y=L(79);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-link-actions{display:flex;flex-direction:row;flex-wrap:nowrap}.ck.ck-link-actions .ck-link-actions__preview{display:inline-block}.ck.ck-link-actions .ck-link-actions__preview .ck-button__label{overflow:hidden}@media screen and (max-width:600px){.ck.ck-link-actions{flex-wrap:wrap}.ck.ck-link-actions .ck-link-actions__preview{flex-basis:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){flex-basis:50%}}.ck.ck-link-actions{padding:var(--ck-spacing-standard)}.ck.ck-link-actions .ck-button.ck-link-actions__preview{padding-left:0;padding-right:0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{padding:0 var(--ck-spacing-medium);color:var(--ck-color-link-default);text-overflow:ellipsis;cursor:pointer;max-width:var(--ck-input-text-width);min-width:3em;text-align:center}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label:hover{text-decoration:underline}.ck.ck-link-actions .ck-button.ck-link-actions__preview,.ck.ck-link-actions .ck-button.ck-link-actions__preview:active,.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus,.ck.ck-link-actions .ck-button.ck-link-actions__preview:hover{background:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:active{box-shadow:none}.ck.ck-link-actions .ck-button.ck-link-actions__preview:focus .ck-button__label{text-decoration:underline}.ck.ck-link-actions:focus{outline:none}[dir=ltr] .ck.ck-link-actions .ck-button:not(:first-child),[dir=rtl] .ck.ck-link-actions .ck-button:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-link-actions{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-link-actions .ck-button.ck-link-actions__preview{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-link-actions .ck-button.ck-link-actions__preview .ck-button__label{min-width:0;max-width:100%}.ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=ltr] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview){margin-left:0}[dir=rtl] .ck.ck-link-actions .ck-button:not(.ck-link-actions__preview):last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(A,Y,L){var K=L(1),y=L(81);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports='.ck-media__wrapper .ck-media__placeholder{display:flex;flex-direction:column;align-items:center}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:block}@media (hover:none){.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-tooltip{display:none}}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url{max-width:100%;position:relative}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url:hover .ck-tooltip{visibility:visible;opacity:1}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url .ck-media__placeholder__url__text{overflow:hidden;display:block}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder__icon *,.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck-media__placeholder__icon *{display:none}.ck-editor__editable:not(.ck-read-only) .ck-media__wrapper>:not(.ck-media__placeholder),.ck-editor__editable:not(.ck-read-only) .ck-widget:not(.ck-widget_selected) .ck-media__placeholder{pointer-events:none}:root{--ck-media-embed-placeholder-icon-size:3em;--ck-color-media-embed-placeholder-url-text:#757575;--ck-color-media-embed-placeholder-url-text-hover:var(--ck-color-base-text)}.ck-media__wrapper{margin:0 auto}.ck-media__wrapper .ck-media__placeholder{padding:calc(3*var(--ck-spacing-standard));background:var(--ck-color-base-foreground)}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon{min-width:var(--ck-media-embed-placeholder-icon-size);height:var(--ck-media-embed-placeholder-icon-size);margin-bottom:var(--ck-spacing-large);background-position:50%;background-size:cover}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__icon .ck-icon{width:100%;height:100%}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text{color:var(--ck-color-media-embed-placeholder-url-text);white-space:nowrap;text-align:center;font-style:italic;text-overflow:ellipsis}.ck-media__wrapper .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:var(--ck-color-media-embed-placeholder-url-text-hover);cursor:pointer;text-decoration:underline}.ck-media__wrapper[data-oembed-url*="open.spotify.com"]{max-width:300px;max-height:380px}.ck-media__wrapper[data-oembed-url*="google.com/maps"] .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIyNTAuMzc4IiBoZWlnaHQ9IjI1NC4xNjciIHZpZXdCb3g9IjAgMCA2Ni4yNDYgNjcuMjQ4Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTcyLjUzMSAtMjE4LjQ1NSkgc2NhbGUoLjk4MDEyKSI+PHJlY3Qgcnk9IjUuMjM4IiByeD0iNS4yMzgiIHk9IjIzMS4zOTkiIHg9IjE3Ni4wMzEiIGhlaWdodD0iNjAuMDk5IiB3aWR0aD0iNjAuMDk5IiBmaWxsPSIjMzRhNjY4IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0yMDYuNDc3IDI2MC45bC0yOC45ODcgMjguOTg3YTUuMjE4IDUuMjE4IDAgMDAzLjc4IDEuNjFoNDkuNjIxYzEuNjk0IDAgMy4xOS0uNzk4IDQuMTQ2LTIuMDM3eiIgZmlsbD0iIzVjODhjNSIvPjxwYXRoIGQ9Ik0yMjYuNzQyIDIyMi45ODhjLTkuMjY2IDAtMTYuNzc3IDcuMTctMTYuNzc3IDE2LjAxNC4wMDcgMi43NjIuNjYzIDUuNDc0IDIuMDkzIDcuODc1LjQzLjcwMy44MyAxLjQwOCAxLjE5IDIuMTA3LjMzMy41MDIuNjUgMS4wMDUuOTUgMS41MDguMzQzLjQ3Ny42NzMuOTU3Ljk4OCAxLjQ0IDEuMzEgMS43NjkgMi41IDMuNTAyIDMuNjM3IDUuMTY4Ljc5MyAxLjI3NSAxLjY4MyAyLjY0IDIuNDY2IDMuOTkgMi4zNjMgNC4wOTQgNC4wMDcgOC4wOTIgNC42IDEzLjkxNHYuMDEyYy4xODIuNDEyLjUxNi42NjYuODc5LjY2Ny40MDMtLjAwMS43NjgtLjMxNC45My0uNzk5LjYwMy01Ljc1NiAyLjIzOC05LjcyOSA0LjU4NS0xMy43OTQuNzgyLTEuMzUgMS42NzMtMi43MTUgMi40NjUtMy45OSAxLjEzNy0xLjY2NiAyLjMyOC0zLjQgMy42MzgtNS4xNjkuMzE1LS40ODIuNjQ1LS45NjIuOTg4LTEuNDM5LjMtLjUwMy42MTctMS4wMDYuOTUtMS41MDguMzU5LS43Ljc2LTEuNDA0IDEuMTktMi4xMDcgMS40MjYtMi40MDIgMi01LjExNCAyLjAwNC03Ljg3NSAwLTguODQ0LTcuNTExLTE2LjAxNC0xNi43NzYtMTYuMDE0eiIgZmlsbD0iI2RkNGIzZSIgcGFpbnQtb3JkZXI9Im1hcmtlcnMgc3Ryb2tlIGZpbGwiLz48ZWxsaXBzZSByeT0iNS41NjQiIHJ4PSI1LjgyOCIgY3k9IjIzOS4wMDIiIGN4PSIyMjYuNzQyIiBmaWxsPSIjODAyZDI3IiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjxwYXRoIGQ9Ik0xOTAuMzAxIDIzNy4yODNjLTQuNjcgMC04LjQ1NyAzLjg1My04LjQ1NyA4LjYwNnMzLjc4NiA4LjYwNyA4LjQ1NyA4LjYwN2MzLjA0MyAwIDQuODA2LS45NTggNi4zMzctMi41MTYgMS41My0xLjU1NyAyLjA4Ny0zLjkxMyAyLjA4Ny02LjI5IDAtLjM2Mi0uMDIzLS43MjItLjA2NC0xLjA3OWgtOC4yNTd2My4wNDNoNC44NWMtLjE5Ny43NTktLjUzMSAxLjQ1LTEuMDU4IDEuOTg2LS45NDIuOTU4LTIuMDI4IDEuNTQ4LTMuOTAxIDEuNTQ4LTIuODc2IDAtNS4yMDgtMi4zNzItNS4yMDgtNS4yOTkgMC0yLjkyNiAyLjMzMi01LjI5OSA1LjIwOC01LjI5OSAxLjM5OSAwIDIuNjE4LjQwNyAzLjU4NCAxLjI5M2wyLjM4MS0yLjM4YzAtLjAwMi0uMDAzLS4wMDQtLjAwNC0uMDA1LTEuNTg4LTEuNTI0LTMuNjItMi4yMTUtNS45NTUtMi4yMTV6bTQuNDMgNS42NmwuMDAzLjAwNnYtLjAwM3oiIGZpbGw9IiNmZmYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxNS4xODQgMjUxLjkyOWwtNy45OCA3Ljk3OSAyOC40NzcgMjguNDc1YTUuMjMzIDUuMjMzIDAgMDAuNDQ5LTIuMTIzdi0zMS4xNjVjLS40NjkuNjc1LS45MzQgMS4zNDktMS4zODIgMi4wMDUtLjc5MiAxLjI3NS0xLjY4MiAyLjY0LTIuNDY1IDMuOTktMi4zNDcgNC4wNjUtMy45ODIgOC4wMzgtNC41ODUgMTMuNzk0LS4xNjIuNDg1LS41MjcuNzk4LS45My43OTktLjM2My0uMDAxLS42OTctLjI1NS0uODc5LS42Njd2LS4wMTJjLS41OTMtNS44MjItMi4yMzctOS44Mi00LjYtMTMuOTE0LS43ODMtMS4zNS0xLjY3My0yLjcxNS0yLjQ2Ni0zLjk5LTEuMTM3LTEuNjY2LTIuMzI3LTMuNC0zLjYzNy01LjE2OWwtLjAwMi0uMDAzeiIgZmlsbD0iI2MzYzNjMyIvPjxwYXRoIGQ9Ik0yMTIuOTgzIDI0OC40OTVsLTM2Ljk1MiAzNi45NTN2LjgxMmE1LjIyNyA1LjIyNyAwIDAwNS4yMzggNS4yMzhoMS4wMTVsMzUuNjY2LTM1LjY2NmExMzYuMjc1IDEzNi4yNzUgMCAwMC0yLjc2NC0zLjkgMzcuNTc1IDM3LjU3NSAwIDAwLS45ODktMS40NCAzNS4xMjcgMzUuMTI3IDAgMDAtLjk1LTEuNTA4Yy0uMDgzLS4xNjItLjE3Ni0uMzI2LS4yNjQtLjQ4OXoiIGZpbGw9IiNmZGRjNGYiIHBhaW50LW9yZGVyPSJtYXJrZXJzIHN0cm9rZSBmaWxsIi8+PHBhdGggZD0iTTIxMS45OTggMjYxLjA4M2wtNi4xNTIgNi4xNTEgMjQuMjY0IDI0LjI2NGguNzgxYTUuMjI3IDUuMjI3IDAgMDA1LjIzOS01LjIzOHYtMS4wNDV6IiBmaWxsPSIjZmZmIiBwYWludC1vcmRlcj0ibWFya2VycyBzdHJva2UgZmlsbCIvPjwvZz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder{background:#4268b3}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iMTAyNCIgaGVpZ2h0PSIxMDI0IiB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciPjxwYXRoIGQ9Ik05NjcuNDg0IDBINTYuNTE3QzI1LjMwNCAwIDAgMjUuMzA0IDAgNTYuNTE3djkxMC45NjZDMCA5OTguNjk0IDI1LjI5NyAxMDI0IDU2LjUyMiAxMDI0SDU0N1Y2MjhINDE0VjQ3M2gxMzNWMzU5LjAyOWMwLTEzMi4yNjIgODAuNzczLTIwNC4yODIgMTk4Ljc1Ni0yMDQuMjgyIDU2LjUxMyAwIDEwNS4wODYgNC4yMDggMTE5LjI0NCA2LjA4OVYyOTlsLTgxLjYxNi4wMzdjLTYzLjk5MyAwLTc2LjM4NCAzMC40OTItNzYuMzg0IDc1LjIzNlY0NzNoMTUzLjQ4N2wtMTkuOTg2IDE1NUg3MDd2Mzk2aDI2MC40ODRjMzEuMjEzIDAgNTYuNTE2LTI1LjMwMyA1Ni41MTYtNTYuNTE2VjU2LjUxNUMxMDI0IDI1LjMwMyA5OTguNjk3IDAgOTY3LjQ4NCAwIiBmaWxsPSIjRkZGRkZFIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#cdf}.ck-media__wrapper[data-oembed-url*="facebook.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder{background:linear-gradient(-135deg,#1400c7,#b800b1,#f50000)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNTA0IiBoZWlnaHQ9IjUwNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczp4bGluaz0iaHR0cDovL3d3dy53My5vcmcvMTk5OS94bGluayI+PGRlZnM+PHBhdGggaWQ9ImEiIGQ9Ik0wIC4xNTloNTAzLjg0MVY1MDMuOTRIMHoiLz48L2RlZnM+PGcgZmlsbD0ibm9uZSIgZmlsbC1ydWxlPSJldmVub2RkIj48bWFzayBpZD0iYiIgZmlsbD0iI2ZmZiI+PHVzZSB4bGluazpocmVmPSIjYSIvPjwvbWFzaz48cGF0aCBkPSJNMjUxLjkyMS4xNTljLTY4LjQxOCAwLTc2Ljk5Ny4yOS0xMDMuODY3IDEuNTE2LTI2LjgxNCAxLjIyMy00NS4xMjcgNS40ODItNjEuMTUxIDExLjcxLTE2LjU2NiA2LjQzNy0zMC42MTUgMTUuMDUxLTQ0LjYyMSAyOS4wNTYtMTQuMDA1IDE0LjAwNi0yMi42MTkgMjguMDU1LTI5LjA1NiA0NC42MjEtNi4yMjggMTYuMDI0LTEwLjQ4NyAzNC4zMzctMTEuNzEgNjEuMTUxQy4yOSAxNzUuMDgzIDAgMTgzLjY2MiAwIDI1Mi4wOGMwIDY4LjQxNy4yOSA3Ni45OTYgMS41MTYgMTAzLjg2NiAxLjIyMyAyNi44MTQgNS40ODIgNDUuMTI3IDExLjcxIDYxLjE1MSA2LjQzNyAxNi41NjYgMTUuMDUxIDMwLjYxNSAyOS4wNTYgNDQuNjIxIDE0LjAwNiAxNC4wMDUgMjguMDU1IDIyLjYxOSA0NC42MjEgMjkuMDU3IDE2LjAyNCA2LjIyNyAzNC4zMzcgMTAuNDg2IDYxLjE1MSAxMS43MDkgMjYuODcgMS4yMjYgMzUuNDQ5IDEuNTE2IDEwMy44NjcgMS41MTYgNjguNDE3IDAgNzYuOTk2LS4yOSAxMDMuODY2LTEuNTE2IDI2LjgxNC0xLjIyMyA0NS4xMjctNS40ODIgNjEuMTUxLTExLjcwOSAxNi41NjYtNi40MzggMzAuNjE1LTE1LjA1MiA0NC42MjEtMjkuMDU3IDE0LjAwNS0xNC4wMDYgMjIuNjE5LTI4LjA1NSAyOS4wNTctNDQuNjIxIDYuMjI3LTE2LjAyNCAxMC40ODYtMzQuMzM3IDExLjcwOS02MS4xNTEgMS4yMjYtMjYuODcgMS41MTYtMzUuNDQ5IDEuNTE2LTEwMy44NjYgMC02OC40MTgtLjI5LTc2Ljk5Ny0xLjUxNi0xMDMuODY3LTEuMjIzLTI2LjgxNC01LjQ4Mi00NS4xMjctMTEuNzA5LTYxLjE1MS02LjQzOC0xNi41NjYtMTUuMDUyLTMwLjYxNS0yOS4wNTctNDQuNjIxLTE0LjAwNi0xNC4wMDUtMjguMDU1LTIyLjYxOS00NC42MjEtMjkuMDU2LTE2LjAyNC02LjIyOC0zNC4zMzctMTAuNDg3LTYxLjE1MS0xMS43MUMzMjguOTE3LjQ0OSAzMjAuMzM4LjE1OSAyNTEuOTIxLjE1OXptMCA0NS4zOTFjNjcuMjY1IDAgNzUuMjMzLjI1NyAxMDEuNzk3IDEuNDY5IDI0LjU2MiAxLjEyIDM3LjkwMSA1LjIyNCA0Ni43NzggOC42NzQgMTEuNzU5IDQuNTcgMjAuMTUxIDEwLjAyOSAyOC45NjYgMTguODQ1IDguODE2IDguODE1IDE0LjI3NSAxNy4yMDcgMTguODQ1IDI4Ljk2NiAzLjQ1IDguODc3IDcuNTU0IDIyLjIxNiA4LjY3NCA0Ni43NzggMS4yMTIgMjYuNTY0IDEuNDY5IDM0LjUzMiAxLjQ2OSAxMDEuNzk4IDAgNjcuMjY1LS4yNTcgNzUuMjMzLTEuNDY5IDEwMS43OTctMS4xMiAyNC41NjItNS4yMjQgMzcuOTAxLTguNjc0IDQ2Ljc3OC00LjU3IDExLjc1OS0xMC4wMjkgMjAuMTUxLTE4Ljg0NSAyOC45NjYtOC44MTUgOC44MTYtMTcuMjA3IDE0LjI3NS0yOC45NjYgMTguODQ1LTguODc3IDMuNDUtMjIuMjE2IDcuNTU0LTQ2Ljc3OCA4LjY3NC0yNi41NiAxLjIxMi0zNC41MjcgMS40NjktMTAxLjc5NyAxLjQ2OS02Ny4yNzEgMC03NS4yMzctLjI1Ny0xMDEuNzk4LTEuNDY5LTI0LjU2Mi0xLjEyLTM3LjkwMS01LjIyNC00Ni43NzgtOC42NzQtMTEuNzU5LTQuNTctMjAuMTUxLTEwLjAyOS0yOC45NjYtMTguODQ1LTguODE1LTguODE1LTE0LjI3NS0xNy4yMDctMTguODQ1LTI4Ljk2Ni0zLjQ1LTguODc3LTcuNTU0LTIyLjIxNi04LjY3NC00Ni43NzgtMS4yMTItMjYuNTY0LTEuNDY5LTM0LjUzMi0xLjQ2OS0xMDEuNzk3IDAtNjcuMjY2LjI1Ny03NS4yMzQgMS40NjktMTAxLjc5OCAxLjEyLTI0LjU2MiA1LjIyNC0zNy45MDEgOC42NzQtNDYuNzc4IDQuNTctMTEuNzU5IDEwLjAyOS0yMC4xNTEgMTguODQ1LTI4Ljk2NiA4LjgxNS04LjgxNiAxNy4yMDctMTQuMjc1IDI4Ljk2Ni0xOC44NDUgOC44NzctMy40NSAyMi4yMTYtNy41NTQgNDYuNzc4LTguNjc0IDI2LjU2NC0xLjIxMiAzNC41MzItMS40NjkgMTAxLjc5OC0xLjQ2OXoiIGZpbGw9IiNGRkYiIG1hc2s9InVybCgjYikiLz48cGF0aCBkPSJNMjUxLjkyMSAzMzYuMDUzYy00Ni4zNzggMC04My45NzQtMzcuNTk2LTgzLjk3NC04My45NzMgMC00Ni4zNzggMzcuNTk2LTgzLjk3NCA4My45NzQtODMuOTc0IDQ2LjM3NyAwIDgzLjk3MyAzNy41OTYgODMuOTczIDgzLjk3NCAwIDQ2LjM3Ny0zNy41OTYgODMuOTczLTgzLjk3MyA4My45NzN6bTAtMjEzLjMzOGMtNzEuNDQ3IDAtMTI5LjM2NSA1Ny45MTgtMTI5LjM2NSAxMjkuMzY1IDAgNzEuNDQ2IDU3LjkxOCAxMjkuMzY0IDEyOS4zNjUgMTI5LjM2NCA3MS40NDYgMCAxMjkuMzY0LTU3LjkxOCAxMjkuMzY0LTEyOS4zNjQgMC03MS40NDctNTcuOTE4LTEyOS4zNjUtMTI5LjM2NC0xMjkuMzY1ek00MTYuNjI3IDExNy42MDRjMCAxNi42OTYtMTMuNTM1IDMwLjIzLTMwLjIzMSAzMC4yMy0xNi42OTUgMC0zMC4yMy0xMy41MzQtMzAuMjMtMzAuMjMgMC0xNi42OTYgMTMuNTM1LTMwLjIzMSAzMC4yMy0zMC4yMzEgMTYuNjk2IDAgMzAuMjMxIDEzLjUzNSAzMC4yMzEgMzAuMjMxIiBmaWxsPSIjRkZGIi8+PC9nPjwvc3ZnPg==)}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text{color:#ffe0fe}.ck-media__wrapper[data-oembed-url*="instagram.com"] .ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder{background:linear-gradient(90deg,#71c6f4,#0d70a5)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__icon{background-image:url(data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHZpZXdCb3g9IjAgMCA0MDAgNDAwIj48cGF0aCBkPSJNNDAwIDIwMGMwIDExMC41LTg5LjUgMjAwLTIwMCAyMDBTMCAzMTAuNSAwIDIwMCA4OS41IDAgMjAwIDBzMjAwIDg5LjUgMjAwIDIwMHpNMTYzLjQgMzA1LjVjODguNyAwIDEzNy4yLTczLjUgMTM3LjItMTM3LjIgMC0yLjEgMC00LjItLjEtNi4yIDkuNC02LjggMTcuNi0xNS4zIDI0LjEtMjUtOC42IDMuOC0xNy45IDYuNC0yNy43IDcuNiAxMC02IDE3LjYtMTUuNCAyMS4yLTI2LjctOS4zIDUuNS0xOS42IDkuNS0zMC42IDExLjctOC44LTkuNC0yMS4zLTE1LjItMzUuMi0xNS4yLTI2LjYgMC00OC4yIDIxLjYtNDguMiA0OC4yIDAgMy44LjQgNy41IDEuMyAxMS00MC4xLTItNzUuNi0yMS4yLTk5LjQtNTAuNC00LjEgNy4xLTYuNSAxNS40LTYuNSAyNC4yIDAgMTYuNyA4LjUgMzEuNSAyMS41IDQwLjEtNy45LS4yLTE1LjMtMi40LTIxLjgtNnYuNmMwIDIzLjQgMTYuNiA0Mi44IDM4LjcgNDcuMy00IDEuMS04LjMgMS43LTEyLjcgMS43LTMuMSAwLTYuMS0uMy05LjEtLjkgNi4xIDE5LjIgMjMuOSAzMy4xIDQ1IDMzLjUtMTYuNSAxMi45LTM3LjMgMjAuNi01OS45IDIwLjYtMy45IDAtNy43LS4yLTExLjUtLjcgMjEuMSAxMy44IDQ2LjUgMjEuOCA3My43IDIxLjgiIGZpbGw9IiNmZmYiLz48L3N2Zz4=)}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text{color:#b8e6ff}.ck-media__wrapper[data-oembed-url*="twitter.com"] .ck.ck-media__placeholder .ck-media__placeholder__url__text:hover{color:#fff}'},function(A,Y,L){var K=L(1),y=L(83);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-media-form{display:flex;align-items:flex-start;flex-direction:row;flex-wrap:nowrap}.ck.ck-media-form .ck-labeled-field-view{display:inline-block}.ck.ck-media-form .ck-label{display:none}@media screen and (max-width:600px){.ck.ck-media-form{flex-wrap:wrap}.ck.ck-media-form .ck-labeled-field-view{flex-basis:100%}.ck.ck-media-form .ck-button{flex-basis:50%}}.ck.ck-media-form{padding:var(--ck-spacing-standard)}.ck.ck-media-form:focus{outline:none}[dir=ltr] .ck.ck-media-form>:not(:first-child),[dir=rtl] .ck.ck-media-form>:not(:last-child){margin-left:var(--ck-spacing-standard)}@media screen and (max-width:600px){.ck.ck-media-form{padding:0;width:calc(0.8*var(--ck-input-text-width))}.ck.ck-media-form .ck-labeled-field-view{margin:var(--ck-spacing-standard) var(--ck-spacing-standard) 0}.ck.ck-media-form .ck-labeled-field-view .ck-input-text{min-width:0;width:100%}.ck.ck-media-form .ck-labeled-field-view .ck-labeled-field-view__error{white-space:normal}.ck.ck-media-form .ck-button{padding:var(--ck-spacing-standard);margin-top:var(--ck-spacing-standard);border-radius:0;border:0;border-top:1px solid var(--ck-color-base-border)}[dir=ltr] .ck.ck-media-form .ck-button{margin-left:0}[dir=ltr] .ck.ck-media-form .ck-button:first-of-type{border-right:1px solid var(--ck-color-base-border)}[dir=rtl] .ck.ck-media-form .ck-button{margin-left:0}[dir=rtl] .ck.ck-media-form .ck-button:last-of-type{border-right:1px solid var(--ck-color-base-border)}}"},function(A,Y,L){var K=L(1),y=L(85);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck-content .media{clear:both;margin:1em 0;display:block;min-width:15em}"},function(A,Y,L){var K=L(1),y=L(87);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=":root{--ck-color-table-focused-cell-background:rgba(158,207,250,0.3)}.ck-widget.table td.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table td.ck-editor__nested-editable:focus,.ck-widget.table th.ck-editor__nested-editable.ck-editor__nested-editable_focused,.ck-widget.table th.ck-editor__nested-editable:focus{background:var(--ck-color-table-focused-cell-background);border-style:none;outline:1px solid var(--ck-color-focus-border);outline-offset:-1px}"},function(A,Y,L){var K=L(1),y=L(89);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck.ck-splitbutton{font-size:inherit}.ck.ck-splitbutton .ck-splitbutton__action:focus{z-index:calc(var(--ck-z-default) + 1)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button .ck-tooltip{display:none}:root{--ck-color-split-button-hover-background:#ebebeb;--ck-color-split-button-hover-border:#b3b3b3}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-right-radius:unset;border-bottom-right-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__action{border-top-left-radius:unset;border-bottom-left-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow{min-width:unset}[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-radius:0}.ck-rounded-corners [dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow,[dir=ltr] .ck.ck-splitbutton>.ck-splitbutton__arrow.ck-rounded-corners{border-radius:var(--ck-border-radius);border-top-left-radius:unset;border-bottom-left-radius:unset}[dir=rtl] .ck.ck-splitbutton>.ck-splitbutton__arrow{border-top-right-radius:unset;border-bottom-right-radius:unset}.ck.ck-splitbutton>.ck-splitbutton__arrow svg{width:var(--ck-dropdown-arrow-size)}.ck.ck-splitbutton.ck-splitbutton_open>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover),.ck.ck-splitbutton:hover>.ck-button:not(.ck-on):not(.ck-disabled):not(:hover){background:var(--ck-color-split-button-hover-background)}[dir=ltr] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=ltr] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-left-color:var(--ck-color-split-button-hover-border)}[dir=rtl] .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow:not(.ck-disabled),[dir=rtl] .ck.ck-splitbutton:hover>.ck-splitbutton__arrow:not(.ck-disabled){border-right-color:var(--ck-color-split-button-hover-border)}.ck.ck-splitbutton.ck-splitbutton_open{border-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners{border-radius:var(--ck-border-radius)}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__action,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__action{border-bottom-left-radius:0}.ck-rounded-corners .ck.ck-splitbutton.ck-splitbutton_open>.ck-splitbutton__arrow,.ck.ck-splitbutton.ck-splitbutton_open.ck-rounded-corners>.ck-splitbutton__arrow{border-bottom-right-radius:0}"},function(A,Y,L){var K=L(1),y=L(91);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck .ck-insert-table-dropdown__grid{display:flex;flex-direction:row;flex-wrap:wrap}:root{--ck-insert-table-dropdown-padding:10px;--ck-insert-table-dropdown-box-height:11px;--ck-insert-table-dropdown-box-width:12px;--ck-insert-table-dropdown-box-margin:1px}.ck .ck-insert-table-dropdown__grid{width:calc(var(--ck-insert-table-dropdown-box-width)*10 + var(--ck-insert-table-dropdown-box-margin)*20 + var(--ck-insert-table-dropdown-padding)*2);padding:var(--ck-insert-table-dropdown-padding) var(--ck-insert-table-dropdown-padding) 0}.ck .ck-insert-table-dropdown__label{text-align:center}.ck .ck-insert-table-dropdown-grid-box{width:var(--ck-insert-table-dropdown-box-width);height:var(--ck-insert-table-dropdown-box-height);margin:var(--ck-insert-table-dropdown-box-margin);border:1px solid var(--ck-color-base-border);border-radius:1px}.ck .ck-insert-table-dropdown-grid-box.ck-on{border-color:var(--ck-color-focus-border);background:var(--ck-color-focus-outer-shadow)}"},function(A,Y,L){var K=L(1),y=L(93);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=':root{--ck-table-selected-cell-background:rgba(158,207,250,0.3)}.ck.ck-editor__editable .table table td.ck-editor__editable_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected{position:relative;caret-color:transparent;outline:unset;box-shadow:unset}.ck.ck-editor__editable .table table td.ck-editor__editable_selected:after,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:after{content:"";pointer-events:none;background-color:var(--ck-table-selected-cell-background);position:absolute;top:0;left:0;right:0;bottom:0}.ck.ck-editor__editable .table table td.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table td.ck-editor__editable_selected:focus,.ck.ck-editor__editable .table table th.ck-editor__editable_selected ::selection,.ck.ck-editor__editable .table table th.ck-editor__editable_selected:focus{background-color:transparent}.ck.ck-editor__editable .table table td.ck-editor__editable_selected .ck-widget_selected,.ck.ck-editor__editable .table table th.ck-editor__editable_selected .ck-widget_selected{outline:unset}'},function(A,Y,L){var K=L(1),y=L(95);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=".ck-content .table{margin:1em auto;display:table}.ck-content .table table{border-collapse:collapse;border-spacing:0;width:100%;height:100%;border:1px double #b3b3b3}.ck-content .table table td,.ck-content .table table th{min-width:2em;padding:.4em;border:1px solid #bfbfbf}.ck-content .table table th{font-weight:700;background:hsla(0,0%,0%,5%)}.ck-content[dir=rtl] .table th{text-align:right}.ck-content[dir=ltr] .table th{text-align:left}"},function(A,Y,L){var K=L(1),y=L(97);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=":root{--ck-mention-list-max-height:300px}.ck.ck-mentions{max-height:var(--ck-mention-list-max-height);overflow-y:auto;overflow-x:hidden;overscroll-behavior:contain}.ck.ck-mentions>.ck-list__item{overflow:hidden;flex-shrink:0}"},function(A,Y,L){var K=L(1),y=L(99);typeof(y=y.__esModule?y.default:y)=="string"&&(y=[[A.i,y,""]]);var ne={injectType:"singletonStyleTag",attributes:{"data-cke":!0},insert:"head",singleton:!0};K(y,ne),A.exports=y.locals||{}},function(A,Y){A.exports=":root{--ck-color-mention-background:rgba(153,0,48,0.1);--ck-color-mention-text:#990030}.ck-content .mention{background:var(--ck-color-mention-background);color:var(--ck-color-mention-text)}"},function(A,Y,L){"use strict";var K=V.mark(Ys),y=V.mark(cc),ne=V.mark(xc);L.r(Y),L.d(Y,"default",function(){return au});var Ae=L(3),me=Ae.a.Symbol,de=Object.prototype,Ye=de.hasOwnProperty,rt=de.toString,Tt=me?me.toStringTag:void 0,$e=function(r){var e=Ye.call(r,Tt),n=r[Tt];try{r[Tt]=void 0;var t=!0}catch(o){}var i=rt.call(r);return t&&(e?r[Tt]=n:delete r[Tt]),i},et=Object.prototype.toString,Rt=function(r){return et.call(r)},Vt=me?me.toStringTag:void 0,Ge=function(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Vt&&Vt in Object(r)?$e(r):Rt(r)},Me=function(r,e){return function(n){return r(e(n))}},Qe=Me(Object.getPrototypeOf,Object),Ie=function(r){return r!=null&&typeof r=="object"},Ot=Function.prototype,ot=Object.prototype,ht=Ot.toString,Pt=ot.hasOwnProperty,it=ht.call(Object),ge=function(r){if(!Ie(r)||Ge(r)!="[object Object]")return!1;var e=Qe(r);if(e===null)return!0;var n=Pt.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&ht.call(n)==it},yt=function(){this.__data__=[],this.size=0},It=function(r,e){return r===e||r!=r&&e!=e},dn=function(r,e){for(var n=r.length;n--;)if(It(r[n][0],e))return n;return-1},wn=Array.prototype.splice,Kt=function(r){var e=this.__data__,n=dn(e,r);return!(n<0)&&(n==e.length-1?e.pop():wn.call(e,n,1),--this.size,!0)},qe=function(r){var e=this.__data__,n=dn(e,r);return n<0?void 0:e[n][1]},Et=function(r){return dn(this.__data__,r)>-1},$t=function(r,e){var n=this.__data__,t=dn(n,r);return t<0?(++this.size,n.push([r,e])):n[t][1]=e,this};function J(a){var r=-1,e=a==null?0:a.length;for(this.clear();++r<e;){var n=a[r];this.set(n[0],n[1])}}J.prototype.clear=yt,J.prototype.delete=Kt,J.prototype.get=qe,J.prototype.has=Et,J.prototype.set=$t;var te=J,Q=function(){this.__data__=new te,this.size=0},Oe=function(r){var e=this.__data__,n=e.delete(r);return this.size=e.size,n},we=function(r){return this.__data__.get(r)},Fe=function(r){return this.__data__.has(r)},ve=function(r){var e=typeof r;return r!=null&&(e=="object"||e=="function")},oe,Pe=function(r){if(!ve(r))return!1;var e=Ge(r);return e=="[object Function]"||e=="[object GeneratorFunction]"||e=="[object AsyncFunction]"||e=="[object Proxy]"},Le=Ae.a["__core-js_shared__"],Ve=(oe=/[^.]+$/.exec(Le&&Le.keys&&Le.keys.IE_PROTO||""))?"Symbol(src)_1."+oe:"",We=function(r){return!!Ve&&Ve in r},st=Function.prototype.toString,St=function(r){if(r!=null){try{return st.call(r)}catch(e){}try{return r+""}catch(e){}}return""},dt=/^\[object .+?Constructor\]$/,kt=Function.prototype,ct=Object.prototype,Dt=kt.toString,Gt=ct.hasOwnProperty,Ct=RegExp("^"+Dt.call(Gt).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),zt=function(r){return!(!ve(r)||We(r))&&(Pe(r)?Ct:dt).test(St(r))},Xt=function(r,e){return r==null?void 0:r[e]},Jt=function(r,e){var n=Xt(r,e);return zt(n)?n:void 0},Pn=Jt(Ae.a,"Map"),fn=Jt(Object,"create"),yn=function(){this.__data__=fn?fn(null):{},this.size=0},gn=function(r){var e=this.has(r)&&delete this.__data__[r];return this.size-=e?1:0,e},zn=Object.prototype.hasOwnProperty,Ln=function(r){var e=this.__data__;if(fn){var n=e[r];return n==="__lodash_hash_undefined__"?void 0:n}return zn.call(e,r)?e[r]:void 0},Mn=Object.prototype.hasOwnProperty,Hn=function(r){var e=this.__data__;return fn?e[r]!==void 0:Mn.call(e,r)},Bn=function(r,e){var n=this.__data__;return this.size+=this.has(r)?0:1,n[r]=fn&&e===void 0?"__lodash_hash_undefined__":e,this};function Yn(a){var r=-1,e=a==null?0:a.length;for(this.clear();++r<e;){var n=a[r];this.set(n[0],n[1])}}Yn.prototype.clear=yn,Yn.prototype.delete=gn,Yn.prototype.get=Ln,Yn.prototype.has=Hn,Yn.prototype.set=Bn;var nr=Yn,An=function(){this.size=0,this.__data__={hash:new nr,map:new(Pn||te),string:new nr}},pn=function(r){var e=typeof r;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?r!=="__proto__":r===null},Ce=function(r,e){var n=r.__data__;return pn(e)?n[typeof e=="string"?"string":"hash"]:n.map},_e=function(r){var e=Ce(this,r).delete(r);return this.size-=e?1:0,e},ze=function(r){return Ce(this,r).get(r)},At=function(r){return Ce(this,r).has(r)},Lt=function(r,e){var n=Ce(this,r),t=n.size;return n.set(r,e),this.size+=n.size==t?0:1,this};function qt(a){var r=-1,e=a==null?0:a.length;for(this.clear();++r<e;){var n=a[r];this.set(n[0],n[1])}}qt.prototype.clear=An,qt.prototype.delete=_e,qt.prototype.get=ze,qt.prototype.has=At,qt.prototype.set=Lt;var _t=qt,sn=function(r,e){var n=this.__data__;if(n instanceof te){var t=n.__data__;if(!Pn||t.length<199)return t.push([r,e]),this.size=++n.size,this;n=this.__data__=new _t(t)}return n.set(r,e),this.size=n.size,this};function Nt(a){var r=this.__data__=new te(a);this.size=r.size}Nt.prototype.clear=Q,Nt.prototype.delete=Oe,Nt.prototype.get=we,Nt.prototype.has=Fe,Nt.prototype.set=sn;var kn=Nt,Yt=function(r,e){for(var n=-1,t=r==null?0:r.length;++n<t&&e(r[n],n,r)!==!1;);return r},_n=function(){try{var a=Jt(Object,"defineProperty");return a({},"",{}),a}catch(r){}}(),ln=function(r,e,n){e=="__proto__"&&_n?_n(r,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):r[e]=n},Zn=Object.prototype.hasOwnProperty,lr=function(r,e,n){var t=r[e];Zn.call(r,e)&&It(t,n)&&(n!==void 0||e in r)||ln(r,e,n)},pr=function(r,e,n,t){var i=!n;n||(n={});for(var o=-1,s=e.length;++o<s;){var l=e[o],c=t?t(n[l],r[l],l,n,r):void 0;c===void 0&&(c=r[l]),i?ln(n,l,c):lr(n,l,c)}return n},Ur=function(r,e){for(var n=-1,t=Array(r);++n<r;)t[n]=e(n);return t},Xr=function(r){return Ie(r)&&Ge(r)=="[object Arguments]"},xn=Object.prototype,ri=xn.hasOwnProperty,qr=xn.propertyIsEnumerable,rn=Xr(function(){return arguments}())?Xr:function(a){return Ie(a)&&ri.call(a,"callee")&&!qr.call(a,"callee")},Mt=Array.isArray,cn=L(4),er=/^(?:0|[1-9]\d*)$/,$n=function(r,e){var n=typeof r;return!!(e=e==null?9007199254740991:e)&&(n=="number"||n!="symbol"&&er.test(r))&&r>-1&&r%1==0&&r<e},wr=function(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=9007199254740991},nn={};nn["[object Float32Array]"]=nn["[object Float64Array]"]=nn["[object Int8Array]"]=nn["[object Int16Array]"]=nn["[object Int32Array]"]=nn["[object Uint8Array]"]=nn["[object Uint8ClampedArray]"]=nn["[object Uint16Array]"]=nn["[object Uint32Array]"]=!0,nn["[object Arguments]"]=nn["[object Array]"]=nn["[object ArrayBuffer]"]=nn["[object Boolean]"]=nn["[object DataView]"]=nn["[object Date]"]=nn["[object Error]"]=nn["[object Function]"]=nn["[object Map]"]=nn["[object Number]"]=nn["[object Object]"]=nn["[object RegExp]"]=nn["[object Set]"]=nn["[object String]"]=nn["[object WeakMap]"]=!1;var ar=function(r){return Ie(r)&&wr(r.length)&&!!nn[Ge(r)]},Pr=function(r){return function(e){return r(e)}},hn=L(5),_r=hn.a&&hn.a.isTypedArray,tr=_r?Pr(_r):ar,Vn=Object.prototype.hasOwnProperty,xr=function(r,e){var n=Mt(r),t=!n&&rn(r),i=!n&&!t&&Object(cn.a)(r),o=!n&&!t&&!i&&tr(r),s=n||t||i||o,l=s?Ur(r.length,String):[],c=l.length;for(var u in r)!e&&!Vn.call(r,u)||s&&(u=="length"||i&&(u=="offset"||u=="parent")||o&&(u=="buffer"||u=="byteLength"||u=="byteOffset")||$n(u,c))||l.push(u);return l},jr=Object.prototype,Er=function(r){var e=r&&r.constructor;return r===(typeof e=="function"&&e.prototype||jr)},Rr=Me(Object.keys,Object),ci=Object.prototype.hasOwnProperty,wi=function(r){if(!Er(r))return Rr(r);var e=[];for(var n in Object(r))ci.call(r,n)&&n!="constructor"&&e.push(n);return e},_i=function(r){return r!=null&&wr(r.length)&&!Pe(r)},Ii=function(r){return _i(r)?xr(r):wi(r)},za=function(r,e){return r&&pr(e,Ii(e),r)},Ua=function(r){var e=[];if(r!=null)for(var n in Object(r))e.push(n);return e},ya=Object.prototype.hasOwnProperty,ji=function(r){if(!ve(r))return Ua(r);var e=Er(r),n=[];for(var t in r)(t!="constructor"||!e&&ya.call(r,t))&&n.push(t);return n},xi=function(r){return _i(r)?xr(r,!0):ji(r)},na=function(r,e){return r&&pr(e,xi(e),r)},ra=L(8),ia=function(r,e){var n=-1,t=r.length;for(e||(e=Array(t));++n<t;)e[n]=r[n];return e},Ui=function(r,e){for(var n=-1,t=r==null?0:r.length,i=0,o=[];++n<t;){var s=r[n];e(s,n,r)&&(o[i++]=s)}return o},aa=function(){return[]},ka=Object.prototype.propertyIsEnumerable,Wi=Object.getOwnPropertySymbols,Hi=Wi?function(a){return a==null?[]:(a=Object(a),Ui(Wi(a),function(r){return ka.call(a,r)}))}:aa,oa=function(r,e){return pr(r,Hi(r),e)},Ki=function(r,e){for(var n=-1,t=e.length,i=r.length;++n<t;)r[i+n]=e[n];return r},Gi=Object.getOwnPropertySymbols?function(a){for(var r=[];a;)Ki(r,Hi(a)),a=Qe(a);return r}:aa,Ei=function(r,e){return pr(r,Gi(r),e)},sa=function(r,e,n){var t=e(r);return Mt(r)?t:Ki(t,n(r))},Ri=function(r){return sa(r,Ii,Hi)},Yi=function(r){return sa(r,xi,Gi)},$i=Jt(Ae.a,"DataView"),jt=Jt(Ae.a,"Promise"),X=Jt(Ae.a,"Set"),pe=Jt(Ae.a,"WeakMap"),ue=St($i),Te=St(Pn),Ke=St(jt),lt=St(X),Ee=St(pe),je=Ge;($i&&je(new $i(new ArrayBuffer(1)))!="[object DataView]"||Pn&&je(new Pn)!="[object Map]"||jt&&je(jt.resolve())!="[object Promise]"||X&&je(new X)!="[object Set]"||pe&&je(new pe)!="[object WeakMap]")&&(je=function(r){var e=Ge(r),n=e=="[object Object]"?r.constructor:void 0,t=n?St(n):"";if(t)switch(t){case ue:return"[object DataView]";case Te:return"[object Map]";case Ke:return"[object Promise]";case lt:return"[object Set]";case Ee:return"[object WeakMap]"}return e});var at=je,Be=Object.prototype.hasOwnProperty,wt=function(r){var e=r.length,n=new r.constructor(e);return e&&typeof r[0]=="string"&&Be.call(r,"index")&&(n.index=r.index,n.input=r.input),n},mt=Ae.a.Uint8Array,Ft=function(r){var e=new r.constructor(r.byteLength);return new mt(e).set(new mt(r)),e},en=function(r,e){var n=e?Ft(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.byteLength)},Ut=/\w*$/,un=function(r){var e=new r.constructor(r.source,Ut.exec(r));return e.lastIndex=r.lastIndex,e},Rn=me?me.prototype:void 0,Dn=Rn?Rn.valueOf:void 0,Sn=function(r){return Dn?Object(Dn.call(r)):{}},Nn=function(r,e){var n=e?Ft(r.buffer):r.buffer;return new r.constructor(n,r.byteOffset,r.length)},Kn=function(r,e,n){var t=r.constructor;switch(e){case"[object ArrayBuffer]":return Ft(r);case"[object Boolean]":case"[object Date]":return new t(+r);case"[object DataView]":return en(r,n);case"[object Float32Array]":case"[object Float64Array]":case"[object Int8Array]":case"[object Int16Array]":case"[object Int32Array]":case"[object Uint8Array]":case"[object Uint8ClampedArray]":case"[object Uint16Array]":case"[object Uint32Array]":return Nn(r,n);case"[object Map]":return new t;case"[object Number]":case"[object String]":return new t(r);case"[object RegExp]":return un(r);case"[object Set]":return new t;case"[object Symbol]":return Sn(r)}},En=Object.create,In=function(){function a(){}return function(r){if(!ve(r))return{};if(En)return En(r);a.prototype=r;var e=new a;return a.prototype=void 0,e}}(),Fr=function(r){return typeof r.constructor!="function"||Er(r)?{}:In(Qe(r))},gr=function(r){return Ie(r)&&at(r)=="[object Map]"},Dr=hn.a&&hn.a.isMap,Xn=Dr?Pr(Dr):gr,or=function(r){return Ie(r)&&at(r)=="[object Set]"},Ar=hn.a&&hn.a.isSet,Wr=Ar?Pr(Ar):or,mn={};mn["[object Arguments]"]=mn["[object Array]"]=mn["[object ArrayBuffer]"]=mn["[object DataView]"]=mn["[object Boolean]"]=mn["[object Date]"]=mn["[object Float32Array]"]=mn["[object Float64Array]"]=mn["[object Int8Array]"]=mn["[object Int16Array]"]=mn["[object Int32Array]"]=mn["[object Map]"]=mn["[object Number]"]=mn["[object Object]"]=mn["[object RegExp]"]=mn["[object Set]"]=mn["[object String]"]=mn["[object Symbol]"]=mn["[object Uint8Array]"]=mn["[object Uint8ClampedArray]"]=mn["[object Uint16Array]"]=mn["[object Uint32Array]"]=!0,mn["[object Error]"]=mn["[object Function]"]=mn["[object WeakMap]"]=!1;var mr=function a(r,e,n,t,i,o){var s,l=1&e,c=2&e,u=4&e;if(n&&(s=i?n(r,t,i,o):n(r)),s!==void 0)return s;if(!ve(r))return r;var d=Mt(r);if(d){if(s=wt(r),!l)return ia(r,s)}else{var h=at(r),v=h=="[object Function]"||h=="[object GeneratorFunction]";if(Object(cn.a)(r))return Object(ra.a)(r,l);if(h=="[object Object]"||h=="[object Arguments]"||v&&!i){if(s=c||v?{}:Fr(r),!l)return c?Ei(r,na(s,r)):oa(r,za(s,r))}else{if(!mn[h])return i?r:{};s=Kn(r,h,l)}}o||(o=new kn);var m=o.get(r);if(m)return m;o.set(r,s),Wr(r)?r.forEach(function(P){s.add(a(P,e,n,P,r,o))}):Xn(r)&&r.forEach(function(P,U){s.set(U,a(P,e,n,U,r,o))});var k=u?c?Yi:Ri:c?keysIn:Ii,E=d?void 0:k(r);return Yt(E||r,function(P,U){E&&(P=r[U=P]),lr(s,U,a(P,e,n,U,r,o))}),s},ui=function(r,e){return mr(r,5,e=typeof e=="function"?e:void 0)},br=function(r){return Ie(r)&&r.nodeType===1&&!ge(r)},di=function(){function a(r,e){w(this,a),this._config={},e&&this.define(Un(e)),r&&this._setObjectToTarget(this._config,r)}return _(a,[{key:"set",value:function(e,n){this._setToTarget(this._config,e,n)}},{key:"define",value:function(e,n){this._setToTarget(this._config,e,n,!0)}},{key:"get",value:function(e){return this._getFromSource(this._config,e)}},{key:"names",value:V.mark(function r(){var e,n,t;return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=0,n=Object.keys(this._config);case 1:if(!(e<n.length)){o.next=8;break}return t=n[e],o.next=5,t;case 5:e++,o.next=1;break;case 8:case"end":return o.stop()}},r,this)})},{key:"_setToTarget",value:function(e,n,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(ge(n))return void this._setObjectToTarget(e,n,i);var o=n.split(".");n=o.pop();var s=p(o),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;ge(e[c])||(e[c]={}),e=e[c]}}catch(u){s.e(u)}finally{s.f()}if(ge(t))return ge(e[n])||(e[n]={}),e=e[n],void this._setObjectToTarget(e,t,i);i&&e[n]!==void 0||(e[n]=t)}},{key:"_getFromSource",value:function(e,n){var t=n.split(".");n=t.pop();var i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(!ge(e[s])){e=null;break}e=e[s]}}catch(l){i.e(l)}finally{i.f()}return e?Un(e[n]):void 0}},{key:"_setObjectToTarget",value:function(e,n,t){var i=this;Object.keys(n).forEach(function(o){i._setToTarget(e,o,n[o],t)})}}]),a}();function Un(a){return ui(a,Ji)}function Ji(a){return br(a)?a:void 0}var wa=function(){return function r(){r.called=!0}},ei=function a(r,e){w(this,a),this.source=r,this.name=e,this.path=[],this.stop=wa(),this.off=wa()},yr=new Array(256).fill().map(function(a,r){return("0"+r.toString(16)).slice(-2)});function Yr(){var a=4294967296*Math.random()>>>0,r=4294967296*Math.random()>>>0,e=4294967296*Math.random()>>>0,n=4294967296*Math.random()>>>0;return"e"+yr[a>>0&255]+yr[a>>8&255]+yr[a>>16&255]+yr[a>>24&255]+yr[r>>0&255]+yr[r>>8&255]+yr[r>>16&255]+yr[r>>24&255]+yr[e>>0&255]+yr[e>>8&255]+yr[e>>16&255]+yr[e>>24&255]+yr[n>>0&255]+yr[n>>8&255]+yr[n>>16&255]+yr[n>>24&255]}var Qi={get:function(r){return typeof r!="number"?this[r]||this.normal:r},highest:1e5,high:1e3,normal:0,low:-1e3,lowest:-1e5},le=(L(6),L(0)),ii=Symbol("listeningTo"),la=Symbol("emitterId"),Gn={on:function(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.listenTo(this,r,e,n)},once:function(r,e,n){var t=!1;this.listenTo(this,r,function(i){for(var o=arguments.length,s=new Array(o>1?o-1:0),l=1;l<o;l++)s[l-1]=arguments[l];t||(t=!0,i.off(),e.call.apply(e,[this,i].concat(s)))},n)},off:function(r,e){this.stopListening(this,r,e)},listenTo:function(r,e,n){var t=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},i,o;this[ii]||(this[ii]={});var s=this[ii];ca(r)||Wa(r);var l=ca(r);(i=s[l])||(i=s[l]={emitter:r,callbacks:{}}),(o=i.callbacks[e])||(o=i.callbacks[e]=[]),o.push(n),function(P,U){var H=_a(P);if(!H[U]){for(var G=U,Z=null,ce=[];G!==""&&!H[G];)H[G]={callbacks:[],childEvents:[]},ce.push(H[G]),Z&&H[G].childEvents.push(Z),Z=G,G=G.substr(0,G.lastIndexOf(":"));if(G!==""){var ye=p(ce),ke;try{for(ye.s();!(ke=ye.n()).done;){var Re=ke.value;Re.callbacks=H[G].callbacks.slice()}}catch(Xe){ye.e(Xe)}finally{ye.f()}H[G].childEvents.push(Z)}}}(r,e);var c=ua(r,e),u=Qi.get(t.priority),d={callback:n,priority:u},h=p(c),v;try{for(h.s();!(v=h.n()).done;){for(var m=v.value,k=!1,E=0;E<m.length;E++)if(m[E].priority<u){m.splice(E,0,d),k=!0;break}k||m.push(d)}}catch(P){h.e(P)}finally{h.f()}},stopListening:function(r,e,n){var t=this[ii],i=r&&ca(r),o=t&&i&&t[i],s=o&&e&&o.callbacks[e];if(!(!t||r&&!o||e&&!s))if(n)Zi(r,e,n);else if(s){for(;n=s.pop();)Zi(r,e,n);delete o.callbacks[e]}else if(o){for(e in o.callbacks)this.stopListening(r,e);delete t[i]}else{for(i in t)this.stopListening(t[i].emitter);delete this[ii]}},fire:function(r){try{for(var e=r instanceof ei?r:new ei(this,r),n=e.name,t=function h(v,m){var k;return!v._events||!(k=v._events[m])||!k.callbacks.length?m.indexOf(":")>-1?h(v,m.substr(0,m.lastIndexOf(":"))):null:k.callbacks}(this,n),i=arguments.length,o=new Array(i>1?i-1:0),s=1;s<i;s++)o[s-1]=arguments[s];if(e.path.push(this),t){var l=[e].concat(o);t=Array.from(t);for(var c=0;c<t.length&&(t[c].callback.apply(this,l),e.off.called&&(delete e.off.called,Zi(this,n,t[c].callback)),!e.stop.called);c++);}if(this._delegations){var u=this._delegations.get(n),d=this._delegations.get("*");u&&rr(u,e,o),d&&rr(d,e,o)}return e.return}catch(h){le.b.rethrowUnexpectedError(h,this)}},delegate:function(){for(var r=this,e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];return{to:function(o,s){r._delegations||(r._delegations=new Map),n.forEach(function(l){var c=r._delegations.get(l);c?c.set(o,s):r._delegations.set(l,new Map([[o,s]]))})}}},stopDelegating:function(r,e){if(this._delegations)if(r)if(e){var n=this._delegations.get(r);n&&n.delete(e)}else this._delegations.delete(r);else this._delegations.clear()}};function Wa(a,r){a[la]||(a[la]=r||Yr())}function ca(a){return a[la]}function _a(a){return a._events||Object.defineProperty(a,"_events",{value:{}}),a._events}function ua(a,r){var e=_a(a)[r];if(!e)return[];for(var n=[e.callbacks],t=0;t<e.childEvents.length;t++){var i=ua(a,e.childEvents[t]);n=n.concat(i)}return n}function rr(a,r,e){var n=p(a),t;try{for(n.s();!(t=n.n()).done;){var i=t.value,o=C(i,2),s=o[0],l=o[1];l?typeof l=="function"&&(l=l(r.name)):l=r.name;var c=new ei(r.source,l);c.path=R(r.path),s.fire.apply(s,[c].concat(R(e)))}}catch(u){n.e(u)}finally{n.f()}}function Zi(a,r,e){var n=ua(a,r),t=p(n),i;try{for(t.s();!(i=t.n()).done;)for(var o=i.value,s=0;s<o.length;s++)o[s].callback==e&&(o.splice(s,1),s--)}catch(l){t.e(l)}finally{t.f()}}function Lr(a){return!(!a||!a[Symbol.iterator])}function tn(a){for(var r=arguments.length,e=new Array(r>1?r-1:0),n=1;n<r;n++)e[n-1]=arguments[n];e.forEach(function(t){Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t)).forEach(function(i){if(!(i in a.prototype)){var o=Object.getOwnPropertyDescriptor(t,i);o.enumerable=!1,Object.defineProperty(a.prototype,i,o)}})})}var Tr=function(){function a(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};w(this,a);var n=Lr(r);if(n||(e=r),this._items=[],this._itemMap=new Map,this._idProperty=e.idProperty||"id",this._bindToExternalToInternalMap=new WeakMap,this._bindToInternalToExternalMap=new WeakMap,this._skippedIndexesFromExternal=[],n){var t=p(r),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._items.push(o),this._itemMap.set(this._getItemIdBeforeAdding(o),o)}}catch(s){t.e(s)}finally{t.f()}}}return _(a,[{key:"length",get:function(){return this._items.length}},{key:"first",get:function(){return this._items[0]||null}},{key:"last",get:function(){return this._items[this.length-1]||null}},{key:"add",value:function(e,n){var t=this._getItemIdBeforeAdding(e);if(n===void 0)n=this._items.length;else if(n>this._items.length||n<0)throw new le.b("collection-add-item-invalid-index",this);return this._items.splice(n,0,e),this._itemMap.set(t,e),this.fire("add",e,n),this}},{key:"get",value:function(e){var n;if(typeof e=="string")n=this._itemMap.get(e);else{if(typeof e!="number")throw new le.b("collection-get-invalid-arg: Index or id must be given.",this);n=this._items[e]}return n||null}},{key:"has",value:function(e){if(typeof e=="string")return this._itemMap.has(e);{var n=e[this._idProperty];return this._itemMap.has(n)}}},{key:"getIndex",value:function(e){var n;return n=typeof e=="string"?this._itemMap.get(e):e,this._items.indexOf(n)}},{key:"remove",value:function(e){var n,t,i,o=!1,s=this._idProperty;if(typeof e=="string"?(t=e,i=this._itemMap.get(t),o=!i,i&&(n=this._items.indexOf(i))):typeof e=="number"?(n=e,i=this._items[n],o=!i,i&&(t=i[s])):(i=e,t=i[s],n=this._items.indexOf(i),o=n==-1||!this._itemMap.get(t)),o)throw new le.b("collection-remove-404: Item not found.",this);this._items.splice(n,1),this._itemMap.delete(t);var l=this._bindToInternalToExternalMap.get(i);return this._bindToInternalToExternalMap.delete(i),this._bindToExternalToInternalMap.delete(l),this.fire("remove",i,n),i}},{key:"map",value:function(e,n){return this._items.map(e,n)}},{key:"find",value:function(e,n){return this._items.find(e,n)}},{key:"filter",value:function(e,n){return this._items.filter(e,n)}},{key:"clear",value:function(){for(this._bindToCollection&&(this.stopListening(this._bindToCollection),this._bindToCollection=null);this.length;)this.remove(0)}},{key:"bindTo",value:function(e){var n=this;if(this._bindToCollection)throw new le.b("collection-bind-to-rebind: The collection cannot be bound more than once.",this);return this._bindToCollection=e,{as:function(i){n._setUpBindToBinding(function(o){return new i(o)})},using:function(i){typeof i=="function"?n._setUpBindToBinding(function(o){return i(o)}):n._setUpBindToBinding(function(o){return o[i]})}}}},{key:"_setUpBindToBinding",value:function(e){var n=this,t=this._bindToCollection,i=function(u,d,h){var v=t._bindToCollection==n,m=t._bindToInternalToExternalMap.get(d);if(v&&m)n._bindToExternalToInternalMap.set(d,m),n._bindToInternalToExternalMap.set(m,d);else{var k=e(d);if(!k)return void n._skippedIndexesFromExternal.push(h);var E=h,P=p(n._skippedIndexesFromExternal),U;try{for(P.s();!(U=P.n()).done;){var H=U.value;h>H&&E--}}catch(ke){P.e(ke)}finally{P.f()}var G=p(t._skippedIndexesFromExternal),Z;try{for(G.s();!(Z=G.n()).done;){var ce=Z.value;E>=ce&&E++}}catch(ke){G.e(ke)}finally{G.f()}n._bindToExternalToInternalMap.set(d,k),n._bindToInternalToExternalMap.set(k,d),n.add(k,E);for(var ye=0;ye<t._skippedIndexesFromExternal.length;ye++)E<=t._skippedIndexesFromExternal[ye]&&t._skippedIndexesFromExternal[ye]++}},o=p(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;i(0,l,t.getIndex(l))}}catch(c){o.e(c)}finally{o.f()}this.listenTo(t,"add",i),this.listenTo(t,"remove",function(c,u,d){var h=n._bindToExternalToInternalMap.get(u);h&&n.remove(h),n._skippedIndexesFromExternal=n._skippedIndexesFromExternal.reduce(function(v,m){return d<m&&v.push(m-1),d>m&&v.push(m),v},[])})}},{key:"_getItemIdBeforeAdding",value:function(e){var n=this._idProperty,t;if(n in e){if(t=e[n],typeof t!="string")throw new le.b("collection-add-invalid-id",this);if(this.get(t))throw new le.b("collection-add-item-already-exists",this)}else e[n]=t=Yr();return t}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}}]),a}();tn(Tr,Gn);var fi=function(){function a(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:[];w(this,a),this._context=r,this._plugins=new Map,this._availablePlugins=new Map;var t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;o.pluginName&&this._availablePlugins.set(o.pluginName,o)}}catch(v){t.e(v)}finally{t.f()}this._contextPlugins=new Map;var s=p(n),l;try{for(s.s();!(l=s.n()).done;){var c=l.value,u=C(c,2),d=u[0],h=u[1];this._contextPlugins.set(d,h),this._contextPlugins.set(h,d),d.pluginName&&this._availablePlugins.set(d.pluginName,d)}}catch(v){s.e(v)}finally{s.f()}}return _(a,[{key:Symbol.iterator,value:V.mark(function r(){var e,n,t;return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=p(this._plugins),o.prev=1,e.s();case 3:if((n=e.n()).done){o.next=11;break}if(t=n.value,o.t0=typeof t[0]=="function",!o.t0){o.next=9;break}return o.next=9,t;case 9:o.next=3;break;case 11:o.next=16;break;case 13:o.prev=13,o.t1=o.catch(1),e.e(o.t1);case 16:return o.prev=16,e.f(),o.finish(16);case 19:case"end":return o.stop()}},r,this,[[1,13,16,19]])})},{key:"get",value:function(e){var n=this._plugins.get(e);if(!n){var t="plugincollection-plugin-not-loaded: The requested plugin is not loaded.",i=e;throw typeof e=="function"&&(i=e.pluginName||e.name),new le.b(t,this._context,{plugin:i})}return n}},{key:"has",value:function(e){return this._plugins.has(e)}},{key:"init",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],t=this,i=this._context,o=new Set,s=[],l=k(e),c=k(n),u=function(E){var P=[],U=p(E),H;try{for(U.s();!(H=U.n()).done;){var G=H.value;m(G)||P.push(G)}}catch(Z){U.e(Z)}finally{U.f()}return P.length?P:null}(e);if(u){var d="plugincollection-plugin-not-found: Some plugins are not available and could not be loaded.";return console.error(Object(le.a)(d),{plugins:u}),Promise.reject(new le.b(d,i,{plugins:u}))}return Promise.all(l.map(h)).then(function(){return v(s,"init")}).then(function(){return v(s,"afterInit")}).then(function(){return s});function h(E){if(!c.includes(E)&&!t._plugins.has(E)&&!o.has(E))return function(P){return new Promise(function(U){o.add(P),P.requires&&P.requires.forEach(function(G){var Z=m(G);if(P.isContextPlugin&&!Z.isContextPlugin)throw new le.b("plugincollection-context-required: Context plugin can not require plugin which is not a context plugin",null,{plugin:Z.name,requiredBy:P.name});if(n.includes(Z))throw new le.b("plugincollection-required: Cannot load a plugin because one of its dependencies is listed inthe `removePlugins` option.",i,{plugin:Z.name,requiredBy:P.name});h(Z)});var H=t._contextPlugins.get(P)||new P(i);t._add(P,H),s.push(H),U()})}(E).catch(function(P){throw console.error(Object(le.a)("plugincollection-load: It was not possible to load the plugin."),{plugin:E}),P})}function v(E,P){return E.reduce(function(U,H){return H[P]?t._contextPlugins.has(H)?U:U.then(H[P].bind(H)):U},Promise.resolve())}function m(E){return typeof E=="function"?E:t._availablePlugins.get(E)}function k(E){return E.map(function(P){return m(P)}).filter(function(P){return!!P})}}},{key:"destroy",value:function(){var e=[],n=p(this),t;try{for(n.s();!(t=n.n()).done;){var i=t.value,o=C(i,2),s=o[1];typeof s.destroy!="function"||this._contextPlugins.has(s)||e.push(s.destroy())}}catch(l){n.e(l)}finally{n.f()}return Promise.all(e)}},{key:"_add",value:function(e,n){this._plugins.set(e,n);var t=e.pluginName;if(t){if(this._plugins.has(t))throw new le.b("plugincollection-plugin-name-conflict: Two plugins with the same name were loaded.",null,{pluginName:t,plugin1:this._plugins.get(t).constructor,plugin2:e});this._plugins.set(t,n)}}}]),a}();function Ha(a,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1;if(typeof e!="number")throw new le.b("translation-service-quantity-not-a-number: Expecting `quantity` to be a number.",null,{quantity:e});var n=Object.keys(window.CKEDITOR_TRANSLATIONS).length;n===1&&(a=Object.keys(window.CKEDITOR_TRANSLATIONS)[0]);var t=r.id||r.string;if(n===0||!function(l,c){return!!window.CKEDITOR_TRANSLATIONS[l]&&!!window.CKEDITOR_TRANSLATIONS[l].dictionary[c]}(a,t))return e!==1?r.plural:r.string;var i=window.CKEDITOR_TRANSLATIONS[a].dictionary,o=window.CKEDITOR_TRANSLATIONS[a].getPluralForm||function(l){return l===1?0:1};if(typeof i[t]=="string")return i[t];var s=Number(o(e));return i[t][s]}tn(fi,Gn),window.CKEDITOR_TRANSLATIONS||(window.CKEDITOR_TRANSLATIONS={});var he=["ar","fa","he","ku","ug"],N=function(){function a(){var r=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};w(this,a),this.uiLanguage=e.uiLanguage||"en",this.contentLanguage=e.contentLanguage||this.uiLanguage,this.uiLanguageDirection=q(this.uiLanguage),this.contentLanguageDirection=q(this.contentLanguage),this.t=function(n,t){return r._t(n,t)}}return _(a,[{key:"language",get:function(){return console.warn("locale-deprecated-language-property: The Locale#language property has been deprecated and will be removed in the near future. Please use #uiLanguage and #contentLanguage properties instead."),this.uiLanguage}},{key:"_t",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];Array.isArray(n)||(n=[n]),typeof e=="string"&&(e={string:e});var t=e.plural?n[0]:1;return function(i,o){return i.replace(/%(\d+)/g,function(s,l){return l<o.length?o[l]:s})}(Ha(this.uiLanguage,e,t),n)}}]),a}();function q(a){return he.includes(a)?"rtl":"ltr"}var ie=function(){function a(r){w(this,a),this.config=new di(r,this.constructor.defaultConfig);var e=this.constructor.builtinPlugins;this.config.define("plugins",e),this.plugins=new fi(this,e);var n=this.config.get("language")||{};this.locale=new N({uiLanguage:typeof n=="string"?n:n.ui,contentLanguage:this.config.get("language.content")}),this.t=this.locale.t,this.editors=new Tr,this._contextOwner=null}return _(a,[{key:"initPlugins",value:function(){var e=this.config.get("plugins")||[],n=p(e),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;if(typeof i!="function")throw new le.b("context-initplugins-constructor-only: Only a constructor function is allowed as a context plugin.",null,{Plugin:i});if(i.isContextPlugin!==!0)throw new le.b("context-initplugins-invalid-plugin: Only a plugin marked as a context plugin is allowed to be used with a context.",null,{Plugin:i})}}catch(o){n.e(o)}finally{n.f()}return this.plugins.init(e)}},{key:"destroy",value:function(){var e=this;return Promise.all(Array.from(this.editors,function(n){return n.destroy()})).then(function(){return e.plugins.destroy()})}},{key:"_addEditor",value:function(e,n){if(this._contextOwner)throw new le.b("context-addEditor-private-context: Cannot add multiple editors to the context which is created by the editor.");this.editors.add(e),n&&(this._contextOwner=e)}},{key:"_removeEditor",value:function(e){return this.editors.has(e)&&this.editors.remove(e),this._contextOwner===e?this.destroy():Promise.resolve()}},{key:"_getEditorConfig",value:function(){var e={},n=p(this.config.names()),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;["plugins","removePlugins","extraPlugins"].includes(i)||(e[i]=this.config.get(i))}}catch(o){n.e(o)}finally{n.f()}return e}}],[{key:"create",value:function(e){var n=this;return new Promise(function(t){var i=new n(e);t(i.initPlugins().then(function(){return i}))})}}]),a}();function ee(a,r){for(var e=Math.min(a.length,r.length),n=0;n<e;n++)if(a[n]!=r[n])return n;return a.length==r.length?"same":a.length<r.length?"prefix":"extension"}var Se=function(r){return mr(r,4)},Je=function(){function a(r){w(this,a),this.document=r,this.parent=null}return _(a,[{key:"index",get:function(){var e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))==-1)throw new le.b("view-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}},{key:"nextSibling",get:function(){var e=this.index;return e!==null&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return e!==null&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],n=this;n.parent;)e.unshift(n.index),n=n.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{includeSelf:!1,parentFirst:!1},n=[],t=e.includeSelf?this:this.parent;t;)n[e.parentFirst?"push":"unshift"](t),t=t.parent;return n}},{key:"getCommonAncestor",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=this.getAncestors(n),i=e.getAncestors(n),o=0;t[o]==i[o]&&t[o];)o++;return o===0?null:t[o-1]}},{key:"isBefore",value:function(e){if(this==e||this.root!==e.root)return!1;var n=this.getPath(),t=e.getPath(),i=ee(n,t);switch(i){case"prefix":return!0;case"extension":return!1;default:return n[i]<t[i]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_fireChange",value:function(e,n){this.fire("change:"+e,n),this.parent&&this.parent._fireChange(e,n)}},{key:"toJSON",value:function(){var e=Se(this);return delete e.parent,e}},{key:"is",value:function(e){return e==="node"||e==="view:node"}}]),a}();tn(Je,Gn);var Ue=function(a){O(e,a);var r=D(e);function e(n,t){var i;return w(this,e),i=r.call(this,n),i._textData=t,i}return _(e,[{key:"is",value:function(t){return t==="text"||t==="view:text"||t==="node"||t==="view:node"}},{key:"data",get:function(){return this._textData}},{key:"_data",get:function(){return this.data},set:function(t){this._fireChange("text",this),this._textData=t}},{key:"isSimilar",value:function(t){return t instanceof e&&(this===t||this.data===t.data)}},{key:"_clone",value:function(){return new e(this.document,this.data)}}]),e}(Je),xt=function(){function a(r,e,n){if(w(this,a),this.textNode=r,e<0||e>r.data.length)throw new le.b("view-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(n<0||e+n>r.data.length)throw new le.b("view-textproxy-wrong-length: Given length value is incorrect.",this);this.data=r.data.substring(e,e+n),this.offsetInText=e}return _(a,[{key:"offsetSize",get:function(){return this.data.length}},{key:"isPartial",get:function(){return this.data.length!==this.textNode.data.length}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"document",get:function(){return this.textNode.document}},{key:"is",value:function(e){return e==="textProxy"||e==="view:textProxy"}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{includeSelf:!1,parentFirst:!1},n=[],t=e.includeSelf?this.textNode:this.parent;t!==null;)n[e.parentFirst?"push":"unshift"](t),t=t.parent;return n}}]),a}();function bn(a){return Lr(a)?new Map(a):function(r){var e=new Map;for(var n in r)e.set(n,r[n]);return e}(a)}var On=function(){function a(){w(this,a),this._patterns=[],this.add.apply(this,arguments)}return _(a,[{key:"add",value:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];for(var i=0,o=n;i<o.length;i++){var s=o[i];(typeof s=="string"||s instanceof RegExp)&&(s={name:s}),s.classes&&(typeof s.classes=="string"||s.classes instanceof RegExp)&&(s.classes=[s.classes]),this._patterns.push(s)}}},{key:"match",value:function(){for(var e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];for(var i=0,o=n;i<o.length;i++){var s=o[i],l=p(this._patterns),c;try{for(l.s();!(c=l.n()).done;){var u=c.value,d=hi(s,u);if(d)return{element:s,pattern:u,match:d}}}catch(h){l.e(h)}finally{l.f()}}return null}},{key:"matchAll",value:function(){for(var e=[],n=arguments.length,t=new Array(n),i=0;i<n;i++)t[i]=arguments[i];for(var o=0,s=t;o<s.length;o++){var l=s[o],c=p(this._patterns),u;try{for(c.s();!(u=c.n()).done;){var d=u.value,h=hi(l,d);h&&e.push({element:l,pattern:d,match:h})}}catch(v){c.e(v)}finally{c.f()}}return e.length>0?e:null}},{key:"getElementName",value:function(){if(this._patterns.length!==1)return null;var e=this._patterns[0],n=e.name;return typeof e=="function"||!n||n instanceof RegExp?null:n}}]),a}();function hi(a,r){if(typeof r=="function")return r(a);var e={};return r.name&&(e.name=function(n,t){return n instanceof RegExp?n.test(t):n===t}(r.name,a.name),!e.name)||r.attributes&&(e.attributes=function(n,t){var i=[];for(var o in n){var s=n[o];if(!t.hasAttribute(o))return null;{var l=t.getAttribute(o);if(s===!0)i.push(o);else if(s instanceof RegExp){if(!s.test(l))return null;i.push(o)}else{if(l!==s)return null;i.push(o)}}}return i}(r.attributes,a),!e.attributes)?null:!(r.classes&&(e.classes=function(n,t){var i=[],o=p(n),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(l instanceof RegExp){var c=t.getClassNames(),u=p(c),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;l.test(h)&&i.push(h)}}catch(v){u.e(v)}finally{u.f()}if(i.length===0)return null}else{if(!t.hasClass(l))return null;i.push(l)}}}catch(v){o.e(v)}finally{o.f()}return i}(r.classes,a),!e.classes))&&!(r.styles&&(e.styles=function(n,t){var i=[];for(var o in n){var s=n[o];if(!t.hasStyle(o))return null;{var l=t.getStyle(o);if(s instanceof RegExp){if(!s.test(l))return null;i.push(o)}else{if(l!==s)return null;i.push(o)}}}return i}(r.styles,a),!e.styles))&&e}var Cr=function(r){return typeof r=="symbol"||Ie(r)&&Ge(r)=="[object Symbol]"},ai=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,vi=/^\w*$/,da=function(r,e){if(Mt(r))return!1;var n=typeof r;return!(n!="number"&&n!="symbol"&&n!="boolean"&&r!=null&&!Cr(r))||vi.test(r)||!ai.test(r)||e!=null&&r in Object(e)};function Br(a,r){if(typeof a!="function"||r!=null&&typeof r!="function")throw new TypeError("Expected a function");var e=function n(){var t=arguments,i=r?r.apply(this,t):t[0],o=n.cache;if(o.has(i))return o.get(i);var s=a.apply(this,t);return n.cache=o.set(i,s)||o,s};return e.cache=new(Br.Cache||_t),e}Br.Cache=_t;var Hr=Br,Ka=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,xa=/\\(\\)?/g,kr=function(a){var r=Hr(a,function(n){return e.size===500&&e.clear(),n}),e=r.cache;return r}(function(a){var r=[];return a.charCodeAt(0)===46&&r.push(""),a.replace(Ka,function(e,n,t,i){r.push(t?i.replace(xa,"$1"):n||e)}),r}),oi=function(r,e){for(var n=-1,t=r==null?0:r.length,i=Array(t);++n<t;)i[n]=e(r[n],n,r);return i},Xi=me?me.prototype:void 0,vs=Xi?Xi.toString:void 0,Oo=function a(r){if(typeof r=="string")return r;if(Mt(r))return oi(r,a)+"";if(Cr(r))return vs?vs.call(r):"";var e=r+"";return e=="0"&&1/r==-1/0?"-0":e},Po=function(r){return r==null?"":Oo(r)},Ea=function(r,e){return Mt(r)?r:da(r,e)?[r]:kr(Po(r))},ml=function(r){var e=r==null?0:r.length;return e?r[e-1]:void 0},Ao=function(r){if(typeof r=="string"||Cr(r))return r;var e=r+"";return e=="0"&&1/r==-1/0?"-0":e},gs=function(r,e){for(var n=0,t=(e=Ea(e,r)).length;r!=null&&n<t;)r=r[Ao(e[n++])];return n&&n==t?r:void 0},ps=function(r,e,n){var t=-1,i=r.length;e<0&&(e=-e>i?0:i+e),(n=n>i?i:n)<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var o=Array(i);++t<i;)o[t]=r[t+e];return o},bl=function(r,e){return e.length<2?r:gs(r,ps(e,0,-1))},yl=function(r,e){return e=Ea(e,r),(r=bl(r,e))==null||delete r[Ao(ml(e))]},kl=function(r,e){return r==null||yl(r,e)},Ga=function(r,e,n){var t=r==null?void 0:gs(r,e);return t===void 0?n:t},To=function(r,e,n){(n!==void 0&&!It(r[e],n)||n===void 0&&!(e in r))&&ln(r,e,n)},wl=function(a){return function(r,e,n){for(var t=-1,i=Object(r),o=n(r),s=o.length;s--;){var l=o[a?s:++t];if(e(i[l],l,i)===!1)break}return r}}(),ms=function(r){return Ie(r)&&_i(r)},So=function(r,e){if((e!=="constructor"||typeof r[e]!="function")&&e!="__proto__")return r[e]},_l=function(r){return pr(r,xi(r))},Ya=function(r,e,n,t,i,o,s){var l=So(r,n),c=So(e,n),u=s.get(c);if(u)To(r,n,u);else{var d=o?o(l,c,n+"",r,e,s):void 0,h=d===void 0;if(h){var v=Mt(c),m=!v&&Object(cn.a)(c),k=!v&&!m&&tr(c);d=c,v||m||k?Mt(l)?d=l:ms(l)?d=ia(l):m?(h=!1,d=Object(ra.a)(c,!0)):k?(h=!1,d=Nn(c,!0)):d=[]:ge(c)||rn(c)?(d=l,rn(l)?d=_l(l):ve(l)&&!Pe(l)||(d=Fr(c))):h=!1}h&&(s.set(c,d),i(d,c,t,o,s),s.delete(c)),To(r,n,d)}},xl=function a(r,e,n,t,i){r!==e&&wl(e,function(o,s){if(i||(i=new kn),ve(o))Ya(r,e,s,n,a,t,i);else{var l=t?t(So(r,s),o,s+"",r,e,i):void 0;l===void 0&&(l=o),To(r,s,l)}},xi)},Mo=function(r){return r},El=function(r,e,n){switch(n.length){case 0:return r.call(e);case 1:return r.call(e,n[0]);case 2:return r.call(e,n[0],n[1]);case 3:return r.call(e,n[0],n[1],n[2])}return r.apply(e,n)},bs=Math.max,Cl=function(r,e,n){return e=bs(e===void 0?r.length-1:e,0),function(){for(var t=arguments,i=-1,o=bs(t.length-e,0),s=Array(o);++i<o;)s[i]=t[e+i];i=-1;for(var l=Array(e+1);++i<e;)l[i]=t[i];return l[e]=n(s),El(r,this,l)}},Ol=function(r){return function(){return r}},Pl=_n?function(a,r){return _n(a,"toString",{configurable:!0,enumerable:!1,value:Ol(r),writable:!0})}:Mo,Al=Date.now,Tl=function(a){var r=0,e=0;return function(){var n=Al(),t=16-(n-e);if(e=n,t>0){if(++r>=800)return arguments[0]}else r=0;return a.apply(void 0,arguments)}}(Pl),Sl=function(r,e){return Tl(Cl(r,e,Mo),r+"")},Ml=function(r,e,n){if(!ve(n))return!1;var t=typeof e;return!!(t=="number"?_i(n)&&$n(e,n.length):t=="string"&&e in n)&&It(n[e],r)},ys=function(r){return Sl(function(e,n){var t=-1,i=n.length,o=i>1?n[i-1]:void 0,s=i>2?n[2]:void 0;for(o=r.length>3&&typeof o=="function"?(i--,o):void 0,s&&Ml(n[0],n[1],s)&&(o=i<3?void 0:o,i=1),e=Object(e);++t<i;){var l=n[t];l&&r(e,l,t,o)}return e})},ks=ys(function(a,r,e){xl(a,r,e)}),Il=function(r,e,n,t){if(!ve(r))return r;for(var i=-1,o=(e=Ea(e,r)).length,s=o-1,l=r;l!=null&&++i<o;){var c=Ao(e[i]),u=n;if(i!=s){var d=l[c];(u=t?t(d,c,l):void 0)===void 0&&(u=ve(d)?d:$n(e[i+1])?[]:{})}lr(l,c,u),l=l[c]}return r},jl=function(r,e,n){return r==null?r:Il(r,e,n)},Rl=function(){function a(r){w(this,a),this._styles={},this._styleProcessor=r}return _(a,[{key:"isEmpty",get:function(){var e=Object.entries(this._styles);return!Array.from(e).length}},{key:"size",get:function(){return this.isEmpty?0:this.getStyleNames().length}},{key:"setTo",value:function(e){this.clear();for(var n=Array.from(function(u){var d=null,h=0,v=0,m=null,k=new Map;if(u==="")return k;u.charAt(u.length-1)!=";"&&(u+=";");for(var E=0;E<u.length;E++){var P=u.charAt(E);if(d===null)switch(P){case":":m||(m=u.substr(h,E-h),v=E+1);break;case'"':case"'":d=P;break;case";":{var U=u.substr(v,E-v);m&&k.set(m.trim(),U.trim()),m=null,h=E+1;break}}else P===d&&(d=null)}return k}(e).entries()),t=0,i=n;t<i.length;t++){var o=i[t],s=C(o,2),l=s[0],c=s[1];this._styleProcessor.toNormalizedForm(l,c,this._styles)}}},{key:"has",value:function(e){if(this.isEmpty)return!1;var n=this._styleProcessor.getReducedForm(e,this._styles).find(function(t){var i=C(t,1),o=i[0];return o===e});return Array.isArray(n)}},{key:"set",value:function(e,n){if(ve(e))for(var t=0,i=Object.entries(e);t<i.length;t++){var o=i[t],s=C(o,2),l=s[0],c=s[1];this._styleProcessor.toNormalizedForm(l,c,this._styles)}else this._styleProcessor.toNormalizedForm(e,n,this._styles)}},{key:"remove",value:function(e){var n=Io(e);kl(this._styles,n),delete this._styles[e],this._cleanEmptyObjectsOnPath(n)}},{key:"getNormalized",value:function(e){return this._styleProcessor.getNormalized(e,this._styles)}},{key:"toString",value:function(){return this.isEmpty?"":this._getStylesEntries().map(function(e){return e.join(":")}).sort().join(";")+";"}},{key:"getAsString",value:function(e){if(!this.isEmpty){if(this._styles[e]&&!ve(this._styles[e]))return this._styles[e];var n=this._styleProcessor.getReducedForm(e,this._styles).find(function(t){var i=C(t,1),o=i[0];return o===e});return Array.isArray(n)?n[1]:void 0}}},{key:"getStyleNames",value:function(){return this.isEmpty?[]:this._getStylesEntries().map(function(e){var n=C(e,1),t=n[0];return t})}},{key:"clear",value:function(){this._styles={}}},{key:"_getStylesEntries",value:function(){for(var e=[],n=Object.keys(this._styles),t=0,i=n;t<i.length;t++){var o=i[t];e.push.apply(e,R(this._styleProcessor.getReducedForm(o,this._styles)))}return e}},{key:"_cleanEmptyObjectsOnPath",value:function(e){var n=e.split(".");if(n.length>1){var t=n.splice(0,n.length-1).join("."),i=Ga(this._styles,t);!i||!Array.from(Object.keys(i)).length&&this.remove(t)}}}]),a}(),Dl=function(){function a(){w(this,a),this._normalizers=new Map,this._extractors=new Map,this._reducers=new Map,this._consumables=new Map}return _(a,[{key:"toNormalizedForm",value:function(e,n,t){if(ve(n))jo(t,Io(e),n);else if(this._normalizers.has(e)){var i=this._normalizers.get(e),o=i(n),s=o.path,l=o.value;jo(t,s,l)}else jo(t,e,n)}},{key:"getNormalized",value:function(e,n){if(!e)return ks({},n);if(n[e]!==void 0)return n[e];if(this._extractors.has(e)){var t=this._extractors.get(e);if(typeof t=="string")return Ga(n,t);var i=t(e,n);if(i)return i}return Ga(n,Io(e))}},{key:"getReducedForm",value:function(e,n){var t=this.getNormalized(e,n);return t===void 0?[]:this._reducers.has(e)?this._reducers.get(e)(t):[[e,t]]}},{key:"getRelatedStyles",value:function(e){return this._consumables.get(e)||[]}},{key:"setNormalizer",value:function(e,n){this._normalizers.set(e,n)}},{key:"setExtractor",value:function(e,n){this._extractors.set(e,n)}},{key:"setReducer",value:function(e,n){this._reducers.set(e,n)}},{key:"setStyleRelation",value:function(e,n){this._mapStyleNames(e,n);var t=p(n),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._mapStyleNames(o,[e])}}catch(s){t.e(s)}finally{t.f()}}},{key:"_mapStyleNames",value:function(e,n){var t;this._consumables.has(e)||this._consumables.set(e,[]),(t=this._consumables.get(e)).push.apply(t,R(n))}}]),a}();function Io(a){return a.replace("-",".")}function jo(a,r,e){var n=e;ve(e)&&(n=ks({},Ga(a,r),e)),jl(a,r,n)}var Ci=function(a){O(e,a);var r=D(e);function e(n,t,i,o){var s;if(w(this,e),s=r.call(this,n),s.name=t,s._attrs=function(c){c=bn(c);var u=p(c),d;try{for(u.s();!(d=u.n()).done;){var h=d.value,v=C(h,2),m=v[0],k=v[1];k===null?c.delete(m):typeof k!="string"&&c.set(m,String(k))}}catch(E){u.e(E)}finally{u.f()}return c}(i),s._children=[],o&&s._insertChild(0,o),s._classes=new Set,s._attrs.has("class")){var l=s._attrs.get("class");ws(s._classes,l),s._attrs.delete("class")}return s._styles=new Rl(s.document.stylesProcessor),s._attrs.has("style")&&(s._styles.setTo(s._attrs.get("style")),s._attrs.delete("style")),s._customProperties=new Map,B(s)}return _(e,[{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return this._children.length===0}},{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="element"||t==="view:element"):t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}},{key:"getChild",value:function(t){return this._children[t]}},{key:"getChildIndex",value:function(t){return this._children.indexOf(t)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getAttributeKeys",value:V.mark(function n(){return V.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(i.t0=this._classes.size>0,!i.t0){i.next=4;break}return i.next=4,"class";case 4:if(i.t1=this._styles.isEmpty,i.t1){i.next=8;break}return i.next=8,"style";case 8:return i.delegateYield(this._attrs.keys(),"t2",9);case 9:case"end":return i.stop()}},n,this)})},{key:"getAttributes",value:V.mark(function n(){return V.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.delegateYield(this._attrs.entries(),"t0",1);case 1:if(i.t1=this._classes.size>0,!i.t1){i.next=5;break}return i.next=5,["class",this.getAttribute("class")];case 5:if(i.t2=this._styles.isEmpty,i.t2){i.next=9;break}return i.next=9,["style",this.getAttribute("style")];case 9:case"end":return i.stop()}},n,this)})},{key:"getAttribute",value:function(t){if(t=="class")return this._classes.size>0?R(this._classes).join(" "):void 0;if(t=="style"){var i=this._styles.toString();return i==""?void 0:i}return this._attrs.get(t)}},{key:"hasAttribute",value:function(t){return t=="class"?this._classes.size>0:t=="style"?!this._styles.isEmpty:this._attrs.has(t)}},{key:"isSimilar",value:function(t){if(!(t instanceof e))return!1;if(this===t)return!0;if(this.name!=t.name||this._attrs.size!==t._attrs.size||this._classes.size!==t._classes.size||this._styles.size!==t._styles.size)return!1;var i=p(this._attrs),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=C(s,2),c=l[0],u=l[1];if(!t._attrs.has(c)||t._attrs.get(c)!==u)return!1}}catch(P){i.e(P)}finally{i.f()}var d=p(this._classes),h;try{for(d.s();!(h=d.n()).done;){var v=h.value;if(!t._classes.has(v))return!1}}catch(P){d.e(P)}finally{d.f()}var m=p(this._styles.getStyleNames()),k;try{for(m.s();!(k=m.n()).done;){var E=k.value;if(!t._styles.has(E)||t._styles.getAsString(E)!==this._styles.getAsString(E))return!1}}catch(P){m.e(P)}finally{m.f()}return!0}},{key:"hasClass",value:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];for(var s=0,l=i;s<l.length;s++){var c=l[s];if(!this._classes.has(c))return!1}return!0}},{key:"getClassNames",value:function(){return this._classes.keys()}},{key:"getStyle",value:function(t){return this._styles.getAsString(t)}},{key:"getNormalizedStyle",value:function(t){return this._styles.getNormalized(t)}},{key:"getStyleNames",value:function(){return this._styles.getStyleNames()}},{key:"hasStyle",value:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];for(var s=0,l=i;s<l.length;s++){var c=l[s];if(!this._styles.has(c))return!1}return!0}},{key:"findAncestor",value:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];for(var s=S(On,i),l=this.parent;l;){if(s.match(l))return l;l=l.parent}return null}},{key:"getCustomProperty",value:function(t){return this._customProperties.get(t)}},{key:"getCustomProperties",value:V.mark(function n(){return V.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:return i.delegateYield(this._customProperties.entries(),"t0",1);case 1:case"end":return i.stop()}},n,this)})},{key:"getIdentity",value:function(){var t=Array.from(this._classes).sort().join(","),i=this._styles.toString(),o=Array.from(this._attrs).map(function(s){return"".concat(s[0],'="').concat(s[1],'"')}).sort().join(" ");return this.name+(t==""?"":' class="'.concat(t,'"'))+(i?' style="'.concat(i,'"'):"")+(o==""?"":" "+o)}},{key:"_clone",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=[];if(t){var o=p(this.getChildren()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;i.push(l._clone(t))}}catch(u){o.e(u)}finally{o.f()}}var c=new this.constructor(this.document,this.name,this._attrs,i);return c._classes=new Set(this._classes),c._styles.set(this._styles.getNormalized()),c._customProperties=new Map(this._customProperties),c.getFillerOffset=this.getFillerOffset,c}},{key:"_appendChild",value:function(t){return this._insertChild(this.childCount,t)}},{key:"_insertChild",value:function(t,i){this._fireChange("children",this);var o=0,s=function(d,h){return typeof h=="string"?[new Ue(d,h)]:(Lr(h)||(h=[h]),Array.from(h).map(function(v){return typeof v=="string"?new Ue(d,v):v instanceof xt?new Ue(d,v.data):v}))}(this.document,i),l=p(s),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;u.parent!==null&&u._remove(),u.parent=this,u.document=this.document,this._children.splice(t,0,u),t++,o++}}catch(d){l.e(d)}finally{l.f()}return o}},{key:"_removeChildren",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this._fireChange("children",this);for(var o=t;o<t+i;o++)this._children[o].parent=null;return this._children.splice(t,i)}},{key:"_setAttribute",value:function(t,i){i=String(i),this._fireChange("attributes",this),t=="class"?ws(this._classes,i):t=="style"?this._styles.setTo(i):this._attrs.set(t,i)}},{key:"_removeAttribute",value:function(t){return this._fireChange("attributes",this),t=="class"?this._classes.size>0&&(this._classes.clear(),!0):t=="style"?!this._styles.isEmpty&&(this._styles.clear(),!0):this._attrs.delete(t)}},{key:"_addClass",value:function(t){var i=this;this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(function(o){return i._classes.add(o)})}},{key:"_removeClass",value:function(t){var i=this;this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(function(o){return i._classes.delete(o)})}},{key:"_setStyle",value:function(t,i){this._fireChange("attributes",this),this._styles.set(t,i)}},{key:"_removeStyle",value:function(t){var i=this;this._fireChange("attributes",this),(t=Array.isArray(t)?t:[t]).forEach(function(o){return i._styles.remove(o)})}},{key:"_setCustomProperty",value:function(t,i){this._customProperties.set(t,i)}},{key:"_removeCustomProperty",value:function(t){return this._customProperties.delete(t)}}]),e}(Je);function ws(a,r){var e=r.split(/\s+/);a.clear(),e.forEach(function(n){return a.add(n)})}var $a=function(a){O(e,a);var r=D(e);function e(n,t,i,o){var s;return w(this,e),s=r.call(this,n,t,i,o),s.getFillerOffset=_s,s}return _(e,[{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="containerElement"||t==="view:containerElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}}]),e}(Ci);function _s(){var a=R(this.getChildren()),r=a[this.childCount-1];if(r&&r.is("element","br"))return this.childCount;var e=p(a),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;if(!t.is("uiElement"))return null}}catch(i){e.e(i)}finally{e.f()}return this.childCount}var fa=ys(function(a,r){pr(r,xi(r),a)}),Ja=Symbol("observableProperties"),Qa=Symbol("boundObservables"),Za=Symbol("boundProperties"),xs={set:function(r,e){var n=this;if(ve(r))return void Object.keys(r).forEach(function(i){n.set(i,r[i])},this);Es(this);var t=this[Ja];if(r in this&&!t.has(r))throw new le.b("observable-set-cannot-override: Cannot override an existing property.",this);Object.defineProperty(this,r,{enumerable:!0,configurable:!0,get:function(){return t.get(r)},set:function(o){var s=t.get(r),l=this.fire("set:"+r,r,o,s);l===void 0&&(l=o),s===l&&t.has(r)||(t.set(r,l),this.fire("change:"+r,r,l,s))}}),this[r]=e},bind:function(){for(var r=this,e=arguments.length,n=new Array(e),t=0;t<e;t++)n[t]=arguments[t];if(!n.length||!Fl(n))throw new le.b("observable-bind-wrong-properties: All properties must be strings.",this);if(new Set(n).size!==n.length)throw new le.b("observable-bind-duplicate-properties: Properties must be unique.",this);Es(this);var i=this[Za];n.forEach(function(s){if(i.has(s))throw new le.b("observable-bind-rebind: Cannot bind the same property more than once.",r)});var o=new Map;return n.forEach(function(s){var l={property:s,to:[]};i.set(s,l),o.set(s,l)}),{to:Nl,toMany:Ro,_observable:this,_bindProperties:n,_to:[],_bindings:o}},unbind:function(){var r=this;if(!!this[Ja]){for(var e=this[Za],n=this[Qa],t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];if(i.length){if(!Fl(i))throw new le.b("observable-unbind-wrong-properties: Properties must be strings.",this);i.forEach(function(s){var l=e.get(s);if(!!l){var c,u,d,h;l.to.forEach(function(v){c=v[0],u=v[1],d=n.get(c),h=d[u],h.delete(l),h.size||delete d[u],Object.keys(d).length||(n.delete(c),r.stopListening(c,"change"))}),e.delete(s)}})}else n.forEach(function(s,l){r.stopListening(l,"change")}),n.clear(),e.clear()}},decorate:function(r){var e=this,n=this[r];if(!n)throw new le.b("observablemixin-cannot-decorate-undefined: Cannot decorate an undefined method.",this,{object:this,methodName:r});this.on(r,function(t,i){t.return=n.apply(e,i)}),this[r]=function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];return this.fire(r,i)}}};fa(xs,Gn);var Jn=xs;function Es(a){a[Ja]||(Object.defineProperty(a,Ja,{value:new Map}),Object.defineProperty(a,Qa,{value:new Map}),Object.defineProperty(a,Za,{value:new Map}))}function Nl(){var a=this,r=function(){for(var i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];if(!o.length)throw new le.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);var l={to:[]},c;return typeof o[o.length-1]=="function"&&(l.callback=o.pop()),o.forEach(function(u){if(typeof u=="string")c.properties.push(u);else{if(typeof u!="object")throw new le.b("observable-bind-to-parse-error: Invalid argument syntax in `to()`.",null);c={observable:u,properties:[]},l.to.push(c)}}),l}.apply(void 0,arguments),e=Array.from(this._bindings.keys()),n=e.length;if(!r.callback&&r.to.length>1)throw new le.b("observable-bind-to-no-callback: Binding multiple observables only possible with callback.",this);if(n>1&&r.callback)throw new le.b("observable-bind-to-extra-callback: Cannot bind multiple properties and use a callback in one binding.",this);var t;r.to.forEach(function(i){if(i.properties.length&&i.properties.length!==n)throw new le.b("observable-bind-to-properties-length: The number of properties must match.",a);i.properties.length||(i.properties=a._bindProperties)}),this._to=r.to,r.callback&&(this._bindings.get(e[0]).callback=r.callback),t=this._observable,this._to.forEach(function(i){var o=t[Qa],s;o.get(i.observable)||t.listenTo(i.observable,"change",function(l,c){s=o.get(i.observable)[c],s&&s.forEach(function(u){Ne(t,u.property)})})}),function(i){var o;i._bindings.forEach(function(s,l){i._to.forEach(function(c){o=c.properties[s.callback?0:i._bindProperties.indexOf(l)],s.to.push([c.observable,o]),function(u,d,h,v){var m=u[Qa],k=m.get(h),E=k||{};E[v]||(E[v]=new Set),E[v].add(d),k||m.set(h,E)}(i._observable,s,c.observable,o)})})}(this),this._bindProperties.forEach(function(i){Ne(a._observable,i)})}function Ro(a,r,e){if(this._bindings.size>1)throw new le.b("observable-bind-to-many-not-one-binding: Cannot bind multiple properties with toMany().",this);this.to.apply(this,R(function(n,t){var i=n.map(function(o){return[o,t]});return Array.prototype.concat.apply([],i)}(a,r)).concat([e]))}function Fl(a){return a.every(function(r){return typeof r=="string"})}function Ne(a,r){var e=a[Za].get(r),n;e.callback?n=e.callback.apply(a,e.to.map(function(t){return t[0][t[1]]})):(n=e.to[0],n=n[0][n[1]]),a.hasOwnProperty(r)?a[r]=n:a.set(r,n)}var Ca=function(a){O(e,a);var r=D(e);function e(n,t,i,o){var s;return w(this,e),s=r.call(this,n,t,i,o),s.set("isReadOnly",!1),s.set("isFocused",!1),s.bind("isReadOnly").to(n),s.bind("isFocused").to(n,"isFocused",function(l){return l&&n.selection.editableElement==j(s)}),s.listenTo(n.selection,"change",function(){s.isFocused=n.isFocused&&n.selection.editableElement==j(s)}),s}return _(e,[{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}},{key:"destroy",value:function(){this.stopListening()}}]),e}($a);tn(Ca,Jn);var Cs=Symbol("rootName"),Do=function(a){O(e,a);var r=D(e);function e(n,t){var i;return w(this,e),i=r.call(this,n,t),i.rootName="main",i}return _(e,[{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t==="element"||t==="view:element"):t==="rootElement"||t==="view:rootElement"||t==="editableElement"||t==="view:editableElement"||t==="containerElement"||t==="view:containerElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}},{key:"rootName",get:function(){return this.getCustomProperty(Cs)},set:function(t){this._setCustomProperty(Cs,t)}},{key:"_name",set:function(t){this.name=t}}]),e}(Ca),ha=function(){function a(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(w(this,a),!r.boundaries&&!r.startPosition)throw new le.b("view-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);if(r.direction&&r.direction!="forward"&&r.direction!="backward")throw new le.b("view-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",r.startPosition,{direction:r.direction});this.boundaries=r.boundaries||null,r.startPosition?this.position=bt._createAt(r.startPosition):this.position=bt._createAt(r.boundaries[r.direction=="backward"?"end":"start"]),this.direction=r.direction||"forward",this.singleCharacters=!!r.singleCharacters,this.shallow=!!r.shallow,this.ignoreElementEnd=!!r.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null}return _(a,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){var n,t,i;do{var o;i=this.position,o=this.next(),n=o.done,t=o.value}while(!n&&e(t));n||(this.position=i)}},{key:"next",value:function(){return this.direction=="forward"?this._next():this._previous()}},{key:"_next",value:function(){var e=this.position.clone(),n=this.position,t=e.parent;if(t.parent===null&&e.offset===t.childCount)return{done:!0};if(t===this._boundaryEndParent&&e.offset==this.boundaries.end.offset)return{done:!0};var i;if(t instanceof Ue){if(e.isAtEnd)return this.position=bt._createAfter(t),this._next();i=t.data[e.offset]}else i=t.getChild(e.offset);if(i instanceof Ci)return this.shallow?e.offset++:e=new bt(i,0),this.position=e,this._formatReturnValue("elementStart",i,n,e,1);if(i instanceof Ue){if(this.singleCharacters)return e=new bt(i,0),this.position=e,this._next();{var o,s=i.data.length;return i==this._boundaryEndParent?(s=this.boundaries.end.offset,o=new xt(i,0,s),e=bt._createAfter(o)):(o=new xt(i,0,i.data.length),e.offset++),this.position=e,this._formatReturnValue("text",o,n,e,s)}}if(typeof i=="string"){var l;this.singleCharacters?l=1:l=(t===this._boundaryEndParent?this.boundaries.end.offset:t.data.length)-e.offset;var c=new xt(t,e.offset,l);return e.offset+=l,this.position=e,this._formatReturnValue("text",c,n,e,l)}return e=bt._createAfter(t),this.position=e,this.ignoreElementEnd?this._next():this._formatReturnValue("elementEnd",t,n,e)}},{key:"_previous",value:function(){var e=this.position.clone(),n=this.position,t=e.parent;if(t.parent===null&&e.offset===0)return{done:!0};if(t==this._boundaryStartParent&&e.offset==this.boundaries.start.offset)return{done:!0};var i;if(t instanceof Ue){if(e.isAtStart)return this.position=bt._createBefore(t),this._previous();i=t.data[e.offset-1]}else i=t.getChild(e.offset-1);if(i instanceof Ci)return this.shallow?(e.offset--,this.position=e,this._formatReturnValue("elementStart",i,n,e,1)):(e=new bt(i,i.childCount),this.position=e,this.ignoreElementEnd?this._previous():this._formatReturnValue("elementEnd",i,n,e));if(i instanceof Ue){if(this.singleCharacters)return e=new bt(i,i.data.length),this.position=e,this._previous();{var o,s=i.data.length;if(i==this._boundaryStartParent){var l=this.boundaries.start.offset;o=new xt(i,l,i.data.length-l),s=o.data.length,e=bt._createBefore(o)}else o=new xt(i,0,i.data.length),e.offset--;return this.position=e,this._formatReturnValue("text",o,n,e,s)}}if(typeof i=="string"){var c;if(this.singleCharacters)c=1;else{var u=t===this._boundaryStartParent?this.boundaries.start.offset:0;c=e.offset-u}e.offset-=c;var d=new xt(t,e.offset,c);return this.position=e,this._formatReturnValue("text",d,n,e,c)}return e=bt._createBefore(t),this.position=e,this._formatReturnValue("elementStart",t,n,e,1)}},{key:"_formatReturnValue",value:function(e,n,t,i,o){return n instanceof xt&&(n.offsetInText+n.data.length==n.textNode.data.length&&(this.direction!="forward"||this.boundaries&&this.boundaries.end.isEqual(this.position)?t=bt._createAfter(n.textNode):(i=bt._createAfter(n.textNode),this.position=i)),n.offsetInText===0&&(this.direction!="backward"||this.boundaries&&this.boundaries.start.isEqual(this.position)?t=bt._createBefore(n.textNode):(i=bt._createBefore(n.textNode),this.position=i))),{done:!1,value:{type:e,item:n,previousPosition:t,nextPosition:i,length:o}}}}]),a}(),bt=function(){function a(r,e){w(this,a),this.parent=r,this.offset=e}return _(a,[{key:"nodeAfter",get:function(){return this.parent.is("text")?null:this.parent.getChild(this.offset)||null}},{key:"nodeBefore",get:function(){return this.parent.is("text")?null:this.parent.getChild(this.offset-1)||null}},{key:"isAtStart",get:function(){return this.offset===0}},{key:"isAtEnd",get:function(){var e=this.parent.is("text")?this.parent.data.length:this.parent.childCount;return this.offset===e}},{key:"root",get:function(){return this.parent.root}},{key:"editableElement",get:function(){for(var e=this.parent;!(e instanceof Ca);){if(!e.parent)return null;e=e.parent}return e}},{key:"getShiftedBy",value:function(e){var n=a._createAt(this),t=n.offset+e;return n.offset=t<0?0:t,n}},{key:"getLastMatchingPosition",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n.startPosition=this;var t=new ha(n);return t.skip(e),t.position}},{key:"getAncestors",value:function(){return this.parent.is("documentFragment")?[this.parent]:this.parent.getAncestors({includeSelf:!0})}},{key:"getCommonAncestor",value:function(e){for(var n=this.getAncestors(),t=e.getAncestors(),i=0;n[i]==t[i]&&n[i];)i++;return i===0?null:n[i-1]}},{key:"is",value:function(e){return e==="position"||e==="view:position"}},{key:"isEqual",value:function(e){return this.parent==e.parent&&this.offset==e.offset}},{key:"isBefore",value:function(e){return this.compareWith(e)=="before"}},{key:"isAfter",value:function(e){return this.compareWith(e)=="after"}},{key:"compareWith",value:function(e){if(this.root!==e.root)return"different";if(this.isEqual(e))return"same";var n=this.parent.is("node")?this.parent.getPath():[],t=e.parent.is("node")?e.parent.getPath():[];n.push(this.offset),t.push(e.offset);var i=ee(n,t);switch(i){case"prefix":return"before";case"extension":return"after";default:return n[i]<t[i]?"before":"after"}}},{key:"getWalker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.startPosition=this,new ha(e)}},{key:"clone",value:function(){return new a(this.parent,this.offset)}}],[{key:"_createAt",value:function(e,n){if(e instanceof a)return new this(e.parent,e.offset);{var t=e;if(n=="end")n=t.is("text")?t.data.length:t.childCount;else{if(n=="before")return this._createBefore(t);if(n=="after")return this._createAfter(t);if(n!==0&&!n)throw new le.b("view-createPositionAt-offset-required: View#createPositionAt() requires the offset when the first parameter is a view item.",t)}return new a(t,n)}}},{key:"_createAfter",value:function(e){if(e.is("textProxy"))return new a(e.textNode,e.offsetInText+e.data.length);if(!e.parent)throw new le.b("view-position-after-root: You can not make position after root.",e,{root:e});return new a(e.parent,e.index+1)}},{key:"_createBefore",value:function(e){if(e.is("textProxy"))return new a(e.textNode,e.offsetInText);if(!e.parent)throw new le.b("view-position-before-root: You can not make position before root.",e,{root:e});return new a(e.parent,e.index)}}]),a}(),Cn=function(){function a(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;w(this,a),this.start=r.clone(),this.end=e?e.clone():r.clone()}return _(a,[{key:Symbol.iterator,value:V.mark(function r(){return V.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(new ha({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return n.stop()}},r,this)})},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return this.start.parent===this.end.parent}},{key:"root",get:function(){return this.start.root}},{key:"getEnlarged",value:function(){var e=this.start.getLastMatchingPosition(Xa,{direction:"backward"}),n=this.end.getLastMatchingPosition(Xa);return e.parent.is("text")&&e.isAtStart&&(e=bt._createBefore(e.parent)),n.parent.is("text")&&n.isAtEnd&&(n=bt._createAfter(n.parent)),new a(e,n)}},{key:"getTrimmed",value:function(){var e=this.start.getLastMatchingPosition(Xa);if(e.isAfter(this.end)||e.isEqual(this.end))return new a(e,e);var n=this.end.getLastMatchingPosition(Xa,{direction:"backward"}),t=e.nodeAfter,i=n.nodeBefore;return t&&t.is("text")&&(e=new bt(t,0)),i&&i.is("text")&&(n=new bt(i,i.data.length)),new a(e,n)}},{key:"isEqual",value:function(e){return this==e||this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e.isCollapsed&&(n=!1);var t=this.containsPosition(e.start)||n&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||n&&this.end.isEqual(e.end);return t&&i}},{key:"getDifference",value:function(e){var n=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&n.push(new a(this.start,e.start)),this.containsPosition(e.end)&&n.push(new a(e.end,this.end))):n.push(this.clone()),n}},{key:"getIntersection",value:function(e){if(this.isIntersecting(e)){var n=this.start,t=this.end;return this.containsPosition(e.start)&&(n=e.start),this.containsPosition(e.end)&&(t=e.end),new a(n,t)}return null}},{key:"getWalker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.boundaries=this,new ha(e)}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,n=this.end.nodeBefore;return this.start.parent.is("text")&&this.start.isAtEnd&&this.start.parent.nextSibling&&(e=this.start.parent.nextSibling),this.end.parent.is("text")&&this.end.isAtStart&&this.end.parent.previousSibling&&(n=this.end.parent.previousSibling),e&&e.is("element")&&e===n?e:null}},{key:"clone",value:function(){return new a(this.start,this.end)}},{key:"getItems",value:V.mark(function r(){var e,n,t,i,o,s=arguments;return V.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:e=s.length>0&&s[0]!==void 0?s[0]:{},e.boundaries=this,e.ignoreElementEnd=!0,n=new ha(e),t=p(n),c.prev=4,t.s();case 6:if((i=t.n()).done){c.next=12;break}return o=i.value,c.next=10,o.item;case 10:c.next=6;break;case 12:c.next=17;break;case 14:c.prev=14,c.t0=c.catch(4),t.e(c.t0);case 17:return c.prev=17,t.f(),c.finish(17);case 20:case"end":return c.stop()}},r,this,[[4,14,17,20]])})},{key:"getPositions",value:V.mark(function r(){var e,n,t,i,o,s=arguments;return V.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return e=s.length>0&&s[0]!==void 0?s[0]:{},e.boundaries=this,n=new ha(e),c.next=5,n.position;case 5:t=p(n),c.prev=6,t.s();case 8:if((i=t.n()).done){c.next=14;break}return o=i.value,c.next=12,o.nextPosition;case 12:c.next=8;break;case 14:c.next=19;break;case 16:c.prev=16,c.t0=c.catch(6),t.e(c.t0);case 19:return c.prev=19,t.f(),c.finish(19);case 22:case"end":return c.stop()}},r,this,[[6,16,19,22]])})},{key:"is",value:function(e){return e==="range"||e==="view:range"}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}}],[{key:"_createFromParentsAndOffsets",value:function(e,n,t,i){return new this(new bt(e,n),new bt(t,i))}},{key:"_createFromPositionAndShift",value:function(e,n){var t=e,i=e.getShiftedBy(n);return n>0?new this(t,i):new this(i,t)}},{key:"_createIn",value:function(e){return this._createFromParentsAndOffsets(e,0,e,e.childCount)}},{key:"_createOn",value:function(e){var n=e.is("textProxy")?e.offsetSize:1;return this._createFromPositionAndShift(bt._createBefore(e),n)}}]),a}();function Xa(a){return!(!a.item.is("attributeElement")&&!a.item.is("uiElement"))}function No(a){var r=0,e=p(a),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;r++}}catch(i){e.e(i)}finally{e.f()}return r}var Oi=function(){function a(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;w(this,a),this._ranges=[],this._lastRangeBackward=!1,this._isFake=!1,this._fakeSelectionLabel="",this.setTo(r,e,n)}return _(a,[{key:"isFake",get:function(){return this._isFake}},{key:"fakeSelectionLabel",get:function(){return this._fakeSelectionLabel}},{key:"anchor",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.end:e.start).clone()}},{key:"focus",get:function(){if(!this._ranges.length)return null;var e=this._ranges[this._ranges.length-1];return(this._lastRangeBackward?e.start:e.end).clone()}},{key:"isCollapsed",get:function(){return this.rangeCount===1&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"editableElement",get:function(){return this.anchor?this.anchor.editableElement:null}},{key:"getRanges",value:V.mark(function r(){var e,n,t;return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=p(this._ranges),o.prev=1,e.s();case 3:if((n=e.n()).done){o.next=9;break}return t=n.value,o.next=7,t.clone();case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),e.e(o.t0);case 14:return o.prev=14,e.f(),o.finish(14);case 17:case"end":return o.stop()}},r,this,[[1,11,14,17]])})},{key:"getFirstRange",value:function(){var e=null,n=p(this._ranges),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;e&&!i.start.isBefore(e.start)||(e=i)}}catch(o){n.e(o)}finally{n.f()}return e?e.clone():null}},{key:"getLastRange",value:function(){var e=null,n=p(this._ranges),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;e&&!i.end.isAfter(e.end)||(e=i)}}catch(o){n.e(o)}finally{n.f()}return e?e.clone():null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"isEqual",value:function(e){if(this.isFake!=e.isFake||this.isFake&&this.fakeSelectionLabel!=e.fakeSelectionLabel||this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var n=p(this._ranges),t;try{for(n.s();!(t=n.n()).done;){var i=t.value,o=!1,s=p(e._ranges),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;if(i.isEqual(c)){o=!0;break}}}catch(u){s.e(u)}finally{s.f()}if(!o)return!1}}catch(u){n.e(u)}finally{n.f()}return!0}},{key:"isSimilar",value:function(e){if(this.isBackward!=e.isBackward)return!1;var n=No(this.getRanges());if(n!=No(e.getRanges()))return!1;if(n==0)return!0;var t=p(this.getRanges()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;o=o.getTrimmed();var s=!1,l=p(e.getRanges()),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;if(u=u.getTrimmed(),o.start.isEqual(u.start)&&o.end.isEqual(u.end)){s=!0;break}}}catch(d){l.e(d)}finally{l.f()}if(!s)return!1}}catch(d){t.e(d)}finally{t.f()}return!0}},{key:"getSelectedElement",value:function(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}},{key:"setTo",value:function(e,n,t){if(e===null)this._setRanges([]),this._setFakeOptions(n);else if(e instanceof a||e instanceof Fo)this._setRanges(e.getRanges(),e.isBackward),this._setFakeOptions({fake:e.isFake,label:e.fakeSelectionLabel});else if(e instanceof Cn)this._setRanges([e],n&&n.backward),this._setFakeOptions(n);else if(e instanceof bt)this._setRanges([new Cn(e)]),this._setFakeOptions(n);else if(e instanceof Je){var i=!!t&&!!t.backward,o;if(n===void 0)throw new le.b("view-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",this);o=n=="in"?Cn._createIn(e):n=="on"?Cn._createOn(e):new Cn(bt._createAt(e,n)),this._setRanges([o],i),this._setFakeOptions(t)}else{if(!Lr(e))throw new le.b("view-selection-setTo-not-selectable: Cannot set selection to given place.",this);this._setRanges(e,n&&n.backward),this._setFakeOptions(n)}this.fire("change")}},{key:"setFocus",value:function(e,n){if(this.anchor===null)throw new le.b("view-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",this);var t=bt._createAt(e,n);if(t.compareWith(this.focus)!="same"){var i=this.anchor;this._ranges.pop(),t.compareWith(i)=="before"?this._addRange(new Cn(t,i),!0):this._addRange(new Cn(i,t)),this.fire("change")}}},{key:"is",value:function(e){return e==="selection"||e==="view:selection"}},{key:"_setRanges",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=Array.from(e),this._ranges=[];var t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._addRange(o)}}catch(s){t.e(s)}finally{t.f()}this._lastRangeBackward=!!n}},{key:"_setFakeOptions",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this._isFake=!!e.fake,this._fakeSelectionLabel=e.fake&&e.label||""}},{key:"_addRange",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;if(!(e instanceof Cn))throw new le.b("view-selection-add-range-not-range: Selection range set to an object that is not an instance of view.Range",this);this._pushRange(e),this._lastRangeBackward=!!n}},{key:"_pushRange",value:function(e){var n=p(this._ranges),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;if(e.isIntersecting(i))throw new le.b("view-selection-range-intersects: Trying to add a range that intersects with another range from selection.",this,{addedRange:e,intersectingRange:i})}}catch(o){n.e(o)}finally{n.f()}this._ranges.push(new Cn(e.start,e.end))}}]),a}();tn(Oi,Gn);var Fo=function(){function a(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0,n=arguments.length>2?arguments[2]:void 0;w(this,a),this._selection=new Oi,this._selection.delegate("change").to(this),this._selection.setTo(r,e,n)}return _(a,[{key:"isFake",get:function(){return this._selection.isFake}},{key:"fakeSelectionLabel",get:function(){return this._selection.fakeSelectionLabel}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"editableElement",get:function(){return this._selection.editableElement}},{key:"_ranges",get:function(){return this._selection._ranges}},{key:"getRanges",value:V.mark(function r(){return V.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(this._selection.getRanges(),"t0",1);case 1:case"end":return n.stop()}},r,this)})},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"isEqual",value:function(e){return this._selection.isEqual(e)}},{key:"isSimilar",value:function(e){return this._selection.isSimilar(e)}},{key:"is",value:function(e){return e==="selection"||e=="documentSelection"||e=="view:selection"||e=="view:documentSelection"}},{key:"_setTo",value:function(e,n,t){this._selection.setTo(e,n,t)}},{key:"_setFocus",value:function(e,n){this._selection.setFocus(e,n)}}]),a}();tn(Fo,Gn);var qa=function(){function a(r){w(this,a),this.selection=new Fo,this.roots=new Tr({idProperty:"rootName"}),this.stylesProcessor=r,this.set("isReadOnly",!1),this.set("isFocused",!1),this.set("isComposing",!1),this._postFixers=new Set}return _(a,[{key:"getRoot",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"main";return this.roots.get(e)}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"destroy",value:function(){this.roots.map(function(e){return e.destroy()}),this.stopListening()}},{key:"_callPostFixers",value:function(e){var n=!1;do{var t=p(this._postFixers),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(n=o(e),n)break}}catch(s){t.e(s)}finally{t.f()}}while(n)}}]),a}();tn(qa,Jn);var qi=function(a){O(e,a);var r=D(e);function e(n,t,i,o){var s;return w(this,e),s=r.call(this,n,t,i,o),s.getFillerOffset=Ll,s._priority=10,s._id=null,s._clonesGroup=null,s}return _(e,[{key:"priority",get:function(){return this._priority}},{key:"id",get:function(){return this._id}},{key:"getElementsWithSameId",value:function(){if(this.id===null)throw new le.b("attribute-element-get-elements-with-same-id-no-id: Cannot get elements with the same id for an attribute element without id.",this);return new Set(this._clonesGroup)}},{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="attributeElement"||t==="view:attributeElement"||t==="element"||t==="view:element"):t==="attributeElement"||t==="view:attributeElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}},{key:"isSimilar",value:function(t){return this.id!==null||t.id!==null?this.id===t.id:b(x(e.prototype),"isSimilar",this).call(this,t)&&this.priority==t.priority}},{key:"_clone",value:function(t){var i=b(x(e.prototype),"_clone",this).call(this,t);return i._priority=this._priority,i._id=this._id,i}}]),e}(Ci);function Ll(){if(Lo(this))return null;for(var a=this.parent;a&&a.is("attributeElement");){if(Lo(a)>1)return null;a=a.parent}return!a||Lo(a)>1?null:this.childCount}function Lo(a){return Array.from(a.getChildren()).filter(function(r){return!r.is("uiElement")}).length}qi.DEFAULT_PRIORITY=10;var Bo=function(a){O(e,a);var r=D(e);function e(n,t,i,o){var s;return w(this,e),s=r.call(this,n,t,i,o),s.getFillerOffset=Bl,s}return _(e,[{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="emptyElement"||t==="view:emptyElement"||t==="element"||t==="view:element"):t==="emptyElement"||t==="view:emptyElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}},{key:"_insertChild",value:function(t,i){if(i&&(i instanceof Je||Array.from(i).length>0))throw new le.b("view-emptyelement-cannot-add: Cannot add child nodes to EmptyElement instance.",[this,i])}}]),e}(Ci);function Bl(){return null}var eo=navigator.userAgent.toLowerCase(),ti={isMac:function(a){return a.indexOf("macintosh")>-1}(eo),isGecko:function(a){return!!a.match(/gecko\/\d+/)}(eo),isSafari:function(a){return a.indexOf(" applewebkit/")>-1&&a.indexOf("chrome")===-1}(eo),isAndroid:function(a){return a.indexOf("android")>-1}(eo),features:{isRegExpUnicodePropertySupported:function(){var a=!1;try{a="\u0107".search(new RegExp("[\\p{L}]","u"))===0}catch(r){}return a}()}},lu={"\u2318":"ctrl","\u21E7":"shift","\u2325":"alt"},Vl={ctrl:"\u2318",shift:"\u21E7",alt:"\u2325"},an=function(){for(var a={arrowleft:37,arrowup:38,arrowright:39,arrowdown:40,backspace:8,delete:46,enter:13,space:32,esc:27,tab:9,ctrl:1114112,cmd:1114112,shift:2228224,alt:4456448},r=65;r<=90;r++){var e=String.fromCharCode(r);a[e.toLowerCase()]=r}for(var n=48;n<=57;n++)a[n-48]=n;for(var t=112;t<=123;t++)a["f"+(t-111)]=t;return a}();function Pi(a){var r;if(typeof a=="string"){if(r=an[a.toLowerCase()],!r)throw new le.b("keyboard-unknown-key: Unknown key name.",null,{key:a})}else r=a.keyCode+(a.altKey?an.alt:0)+(a.ctrlKey?an.ctrl:0)+(a.shiftKey?an.shift:0);return r}function Os(a){return typeof a=="string"&&(a=zl(a)),a.map(function(r){return typeof r=="string"?Pi(r):r}).reduce(function(r,e){return e+r},0)}function to(a){return ti.isMac?zl(a).map(function(r){return Vl[r.toLowerCase()]||r}).reduce(function(r,e){return r.slice(-1)in lu?r+e:r+"+"+e}):a}function zl(a){return a.split(/\s*\+\s*/)}var Ps=function(a){O(e,a);var r=D(e);function e(n,t,i,o){var s;return w(this,e),s=r.call(this,n,t,i,o),s.getFillerOffset=Vo,s}return _(e,[{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="uiElement"||t==="view:uiElement"||t==="element"||t==="view:element"):t==="uiElement"||t==="view:uiElement"||t===this.name||t==="view:"+this.name||t==="element"||t==="view:element"||t==="node"||t==="view:node"}},{key:"_insertChild",value:function(t,i){if(i&&(i instanceof Je||Array.from(i).length>0))throw new le.b("view-uielement-cannot-add: Cannot add child nodes to UIElement instance.",this)}},{key:"render",value:function(t){return this.toDomElement(t)}},{key:"toDomElement",value:function(t){var i=t.createElement(this.name),o=p(this.getAttributeKeys()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;i.setAttribute(l,this.getAttribute(l))}}catch(c){o.e(c)}finally{o.f()}return i}}]),e}(Ci);function Ul(a){a.document.on("keydown",function(r,e){return function(n,t,i){if(t.keyCode==an.arrowright){var o=t.domTarget.ownerDocument.defaultView.getSelection(),s=o.rangeCount==1&&o.getRangeAt(0).collapsed;if(s||t.shiftKey){var l=o.focusNode,c=o.focusOffset,u=i.domPositionToView(l,c);if(u===null)return;var d=!1,h=u.getLastMatchingPosition(function(m){return m.item.is("uiElement")&&(d=!0),!(!m.item.is("uiElement")&&!m.item.is("attributeElement"))});if(d){var v=i.viewPositionToDom(h);s?o.collapse(v.parent,v.offset):o.extend(v.parent,v.offset)}}}}(0,e,a.domConverter)})}function Vo(){return null}var Oa=function(){function a(r,e){w(this,a),this.document=r,this._children=[],e&&this._insertChild(0,e)}return _(a,[{key:Symbol.iterator,value:function(){return this._children[Symbol.iterator]()}},{key:"childCount",get:function(){return this._children.length}},{key:"isEmpty",get:function(){return this.childCount===0}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}},{key:"is",value:function(e){return e==="documentFragment"||e==="view:documentFragment"}},{key:"_appendChild",value:function(e){return this._insertChild(this.childCount,e)}},{key:"getChild",value:function(e){return this._children[e]}},{key:"getChildIndex",value:function(e){return this._children.indexOf(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"_insertChild",value:function(e,n){this._fireChange("children",this);var t=0,i=function(c,u){return typeof u=="string"?[new Ue(c,u)]:(Lr(u)||(u=[u]),Array.from(u).map(function(d){return typeof d=="string"?new Ue(c,d):d instanceof xt?new Ue(c,d.data):d}))}(this.document,n),o=p(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.parent!==null&&l._remove(),l.parent=this,this._children.splice(e,0,l),e++,t++}}catch(c){o.e(c)}finally{o.f()}return t}},{key:"_removeChildren",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;this._fireChange("children",this);for(var t=e;t<e+n;t++)this._children[t].parent=null;return this._children.splice(e,n)}},{key:"_fireChange",value:function(e,n){this.fire("change:"+e,n)}}]),a}();tn(Oa,Gn);var As=function(){function a(r){w(this,a),this.document=r,this._cloneGroups=new Map}return _(a,[{key:"setSelection",value:function(e,n,t){this.document.selection._setTo(e,n,t)}},{key:"setSelectionFocus",value:function(e,n){this.document.selection._setFocus(e,n)}},{key:"createText",value:function(e){return new Ue(this.document,e)}},{key:"createAttributeElement",value:function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=new qi(this.document,e,n);return t.priority&&(i._priority=t.priority),t.id&&(i._id=t.id),i}},{key:"createContainerElement",value:function(e,n){return new $a(this.document,e,n)}},{key:"createEditableElement",value:function(e,n){var t=new Ca(this.document,e,n);return t._document=this.document,t}},{key:"createEmptyElement",value:function(e,n){return new Bo(this.document,e,n)}},{key:"createUIElement",value:function(e,n,t){var i=new Ps(this.document,e,n);return t&&(i.render=t),i}},{key:"setAttribute",value:function(e,n,t){t._setAttribute(e,n)}},{key:"removeAttribute",value:function(e,n){n._removeAttribute(e)}},{key:"addClass",value:function(e,n){n._addClass(e)}},{key:"removeClass",value:function(e,n){n._removeClass(e)}},{key:"setStyle",value:function(e,n,t){ge(e)&&t===void 0&&(t=n),t._setStyle(e,n)}},{key:"removeStyle",value:function(e,n){n._removeStyle(e)}},{key:"setCustomProperty",value:function(e,n,t){t._setCustomProperty(e,n)}},{key:"removeCustomProperty",value:function(e,n){return n._removeCustomProperty(e)}},{key:"breakAttributes",value:function(e){return e instanceof bt?this._breakAttributes(e):this._breakAttributesRange(e)}},{key:"breakContainer",value:function(e){var n=e.parent;if(!n.is("containerElement"))throw new le.b("view-writer-break-non-container-element: Trying to break an element which is not a container element.",this.document);if(!n.parent)throw new le.b("view-writer-break-root: Trying to break root element.",this.document);if(e.isAtStart)return bt._createBefore(n);if(!e.isAtEnd){var t=n._clone(!1);this.insert(bt._createAfter(n),t);var i=new Cn(e,bt._createAt(n,"end")),o=new bt(t,0);this.move(i,o)}return bt._createAfter(n)}},{key:"mergeAttributes",value:function(e){var n=e.offset,t=e.parent;if(t.is("text"))return e;if(t.is("attributeElement")&&t.childCount===0){var i=t.parent,o=t.index;return t._remove(),this._removeFromClonedElementsGroup(t),this.mergeAttributes(new bt(i,o))}var s=t.getChild(n-1),l=t.getChild(n);if(!s||!l)return e;if(s.is("text")&&l.is("text"))return Ts(s,l);if(s.is("attributeElement")&&l.is("attributeElement")&&s.isSimilar(l)){var c=s.childCount;return s._appendChild(l.getChildren()),l._remove(),this._removeFromClonedElementsGroup(l),this.mergeAttributes(new bt(s,c))}return e}},{key:"mergeContainers",value:function(e){var n=e.nodeBefore,t=e.nodeAfter;if(!(n&&t&&n.is("containerElement")&&t.is("containerElement")))throw new le.b("view-writer-merge-containers-invalid-position: Element before and after given position cannot be merged.",this.document);var i=n.getChild(n.childCount-1),o=i instanceof Ue?bt._createAt(i,"end"):bt._createAt(n,"end");return this.move(Cn._createIn(t),bt._createAt(n,"end")),this.remove(Cn._createOn(t)),o}},{key:"insert",value:function(e,n){(function v(m,k){var E=p(m),P;try{var U=function(){var G=P.value;if(!cu.some(function(Z){return G instanceof Z}))throw new le.b("view-writer-insert-invalid-node",k);G.is("text")||v(G.getChildren(),k)};for(E.s();!(P=E.n()).done;)U()}catch(H){E.e(H)}finally{E.f()}})(n=Lr(n)?R(n):[n],this.document);var t=zo(e);if(!t)throw new le.b("view-writer-invalid-position-container",this.document);var i=this._breakAttributes(e,!0),o=t._insertChild(i.offset,n),s=p(n),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;this._addToClonedElementsGroup(c)}}catch(v){s.e(v)}finally{s.f()}var u=i.getShiftedBy(o),d=this.mergeAttributes(i);if(o===0)return new Cn(d,d);{d.isEqual(i)||u.offset--;var h=this.mergeAttributes(u);return new Cn(d,h)}}},{key:"remove",value:function(e){var n=e instanceof Cn?e:Cn._createOn(e);if(Pa(n,this.document),n.isCollapsed)return new Oa(this.document);var t=this._breakAttributesRange(n,!0),i=t.start,o=t.end,s=i.parent,l=o.offset-i.offset,c=s._removeChildren(i.offset,l),u=p(c),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;this._removeFromClonedElementsGroup(h)}}catch(m){u.e(m)}finally{u.f()}var v=this.mergeAttributes(i);return n.start=v,n.end=v.clone(),new Oa(this.document,c)}},{key:"clear",value:function(e,n){Pa(e,this.document);var t=e.getWalker({direction:"backward",ignoreElementEnd:!0}),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.item,c=void 0;if(l.is("element")&&n.isSimilar(l))c=Cn._createOn(l);else if(!s.nextPosition.isAfter(e.start)&&l.is("textProxy")){var u=l.getAncestors().find(function(d){return d.is("element")&&n.isSimilar(d)});u&&(c=Cn._createIn(u))}c&&(c.end.isAfter(e.end)&&(c.end=e.end),c.start.isBefore(e.start)&&(c.start=e.start),this.remove(c))}}catch(d){i.e(d)}finally{i.f()}}},{key:"move",value:function(e,n){var t;if(n.isAfter(e.end)){var i=(n=this._breakAttributes(n,!0)).parent,o=i.childCount;e=this._breakAttributesRange(e,!0),t=this.remove(e),n.offset+=i.childCount-o}else t=this.remove(e);return this.insert(n,t)}},{key:"wrap",value:function(e,n){if(!(n instanceof qi))throw new le.b("view-writer-wrap-invalid-attribute",this.document);if(Pa(e,this.document),e.isCollapsed){var t=e.start;t.parent.is("element")&&(o=t.parent,!Array.from(o.getChildren()).some(function(s){return!s.is("uiElement")}))&&(t=t.getLastMatchingPosition(function(s){return s.item.is("uiElement")})),t=this._wrapPosition(t,n);var i=this.document.selection;return i.isCollapsed&&i.getFirstPosition().isEqual(e.start)&&this.setSelection(t),new Cn(t)}return this._wrapRange(e,n);var o}},{key:"unwrap",value:function(e,n){if(!(n instanceof qi))throw new le.b("view-writer-unwrap-invalid-attribute",this.document);if(Pa(e,this.document),e.isCollapsed)return e;var t=this._breakAttributesRange(e,!0),i=t.start,o=t.end,s=i.parent,l=this._unwrapChildren(s,i.offset,o.offset,n),c=this.mergeAttributes(l.start);c.isEqual(l.start)||l.end.offset--;var u=this.mergeAttributes(l.end);return new Cn(c,u)}},{key:"rename",value:function(e,n){var t=new $a(this.document,e,n.getAttributes());return this.insert(bt._createAfter(n),t),this.move(Cn._createIn(n),bt._createAt(t,0)),this.remove(Cn._createOn(n)),t}},{key:"clearClonedElementsGroup",value:function(e){this._cloneGroups.delete(e)}},{key:"createPositionAt",value:function(e,n){return bt._createAt(e,n)}},{key:"createPositionAfter",value:function(e){return bt._createAfter(e)}},{key:"createPositionBefore",value:function(e){return bt._createBefore(e)}},{key:"createRange",value:function(e,n){return new Cn(e,n)}},{key:"createRangeOn",value:function(e){return Cn._createOn(e)}},{key:"createRangeIn",value:function(e){return Cn._createIn(e)}},{key:"createSelection",value:function(e,n,t){return new Oi(e,n,t)}},{key:"_wrapChildren",value:function(e,n,t,i){for(var o=n,s=[];o<t;){var l=e.getChild(o),c=l.is("text"),u=l.is("attributeElement"),d=l.is("emptyElement"),h=l.is("uiElement");if(u&&this._wrapAttributeElement(i,l))s.push(new bt(e,o));else if(c||d||h||u&&Wl(i,l)){var v=i._clone();l._remove(),v._appendChild(l),e._insertChild(o,v),this._addToClonedElementsGroup(v),s.push(new bt(e,o))}else u&&this._wrapChildren(l,0,l.childCount,i);o++}for(var m=0,k=0,E=s;k<E.length;k++){var P=E[k];P.offset-=m,P.offset!=n&&(this.mergeAttributes(P).isEqual(P)||(m++,t--))}return Cn._createFromParentsAndOffsets(e,n,e,t)}},{key:"_unwrapChildren",value:function(e,n,t,i){for(var o=n,s=[];o<t;){var l=e.getChild(o);if(l.is("attributeElement"))if(l.isSimilar(i)){var c=l.getChildren(),u=l.childCount;l._remove(),e._insertChild(o,c),this._removeFromClonedElementsGroup(l),s.push(new bt(e,o),new bt(e,o+u)),o+=u,t+=u-1}else this._unwrapAttributeElement(i,l)?(s.push(new bt(e,o),new bt(e,o+1)),o++):(this._unwrapChildren(l,0,l.childCount,i),o++);else o++}for(var d=0,h=0,v=s;h<v.length;h++){var m=v[h];m.offset-=d,!(m.offset==n||m.offset==t)&&(this.mergeAttributes(m).isEqual(m)||(d++,t--))}return Cn._createFromParentsAndOffsets(e,n,e,t)}},{key:"_wrapRange",value:function(e,n){var t=this._breakAttributesRange(e,!0),i=t.start,o=t.end,s=i.parent,l=this._wrapChildren(s,i.offset,o.offset,n),c=this.mergeAttributes(l.start);c.isEqual(l.start)||l.end.offset--;var u=this.mergeAttributes(l.end);return new Cn(c,u)}},{key:"_wrapPosition",value:function(e,n){if(n.isSimilar(e.parent))return no(e.clone());e.parent.is("text")&&(e=Hl(e));var t=this.createAttributeElement();t._priority=Number.POSITIVE_INFINITY,t.isSimilar=function(){return!1},e.parent._insertChild(e.offset,t);var i=new Cn(e,e.getShiftedBy(1));this.wrap(i,n);var o=new bt(t.parent,t.index);t._remove();var s=o.nodeBefore,l=o.nodeAfter;return s instanceof Ue&&l instanceof Ue?Ts(s,l):no(o)}},{key:"_wrapAttributeElement",value:function(e,n){if(!Ss(e,n)||e.name!==n.name||e.priority!==n.priority)return!1;var t=p(e.getAttributeKeys()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(o!=="class"&&o!=="style"&&n.hasAttribute(o)&&n.getAttribute(o)!==e.getAttribute(o))return!1}}catch(H){t.e(H)}finally{t.f()}var s=p(e.getStyleNames()),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;if(n.hasStyle(c)&&n.getStyle(c)!==e.getStyle(c))return!1}}catch(H){s.e(H)}finally{s.f()}var u=p(e.getAttributeKeys()),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;h!=="class"&&h!=="style"&&(n.hasAttribute(h)||this.setAttribute(h,e.getAttribute(h),n))}}catch(H){u.e(H)}finally{u.f()}var v=p(e.getStyleNames()),m;try{for(v.s();!(m=v.n()).done;){var k=m.value;n.hasStyle(k)||this.setStyle(k,e.getStyle(k),n)}}catch(H){v.e(H)}finally{v.f()}var E=p(e.getClassNames()),P;try{for(E.s();!(P=E.n()).done;){var U=P.value;n.hasClass(U)||this.addClass(U,n)}}catch(H){E.e(H)}finally{E.f()}return!0}},{key:"_unwrapAttributeElement",value:function(e,n){if(!Ss(e,n)||e.name!==n.name||e.priority!==n.priority)return!1;var t=p(e.getAttributeKeys()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(o!=="class"&&o!=="style"&&(!n.hasAttribute(o)||n.getAttribute(o)!==e.getAttribute(o)))return!1}}catch(v){t.e(v)}finally{t.f()}if(!n.hasClass.apply(n,R(e.getClassNames())))return!1;var s=p(e.getStyleNames()),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;if(!n.hasStyle(c)||n.getStyle(c)!==e.getStyle(c))return!1}}catch(v){s.e(v)}finally{s.f()}var u=p(e.getAttributeKeys()),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;h!=="class"&&h!=="style"&&this.removeAttribute(h,n)}}catch(v){u.e(v)}finally{u.f()}return this.removeClass(Array.from(e.getClassNames()),n),this.removeStyle(Array.from(e.getStyleNames()),n),!0}},{key:"_breakAttributesRange",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=e.start,i=e.end;if(Pa(e,this.document),e.isCollapsed){var o=this._breakAttributes(e.start,n);return new Cn(o,o)}var s=this._breakAttributes(i,n),l=s.parent.childCount,c=this._breakAttributes(t,n);return s.offset+=s.parent.childCount-l,new Cn(c,s)}},{key:"_breakAttributes",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=e.offset,i=e.parent;if(e.parent.is("emptyElement"))throw new le.b("view-writer-cannot-break-empty-element",this.document);if(e.parent.is("uiElement"))throw new le.b("view-writer-cannot-break-ui-element",this.document);if(!n&&i.is("text")&&Uo(i.parent)||Uo(i))return e.clone();if(i.is("text"))return this._breakAttributes(Hl(e),n);if(t==i.childCount){var o=new bt(i.parent,i.index+1);return this._breakAttributes(o,n)}if(t===0){var s=new bt(i.parent,i.index);return this._breakAttributes(s,n)}{var l=i.index+1,c=i._clone();i.parent._insertChild(l,c),this._addToClonedElementsGroup(c);var u=i.childCount-t,d=i._removeChildren(t,u);c._appendChild(d);var h=new bt(i.parent,l);return this._breakAttributes(h,n)}}},{key:"_addToClonedElementsGroup",value:function(e){if(!!e.root.is("rootElement")){if(e.is("element")){var n=p(e.getChildren()),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;this._addToClonedElementsGroup(i)}}catch(l){n.e(l)}finally{n.f()}}var o=e.id;if(!!o){var s=this._cloneGroups.get(o);s||(s=new Set,this._cloneGroups.set(o,s)),s.add(e),e._clonesGroup=s}}}},{key:"_removeFromClonedElementsGroup",value:function(e){if(e.is("element")){var n=p(e.getChildren()),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;this._removeFromClonedElementsGroup(i)}}catch(l){n.e(l)}finally{n.f()}}var o=e.id;if(!!o){var s=this._cloneGroups.get(o);s&&s.delete(e)}}}]),a}();function zo(a){for(var r=a.parent;!Uo(r);){if(!r)return;r=r.parent}return r}function Wl(a,r){return a.priority<r.priority||!(a.priority>r.priority)&&a.getIdentity()<r.getIdentity()}function no(a){var r=a.nodeBefore;if(r&&r.is("text"))return new bt(r,r.data.length);var e=a.nodeAfter;return e&&e.is("text")?new bt(e,0):a}function Hl(a){if(a.offset==a.parent.data.length)return new bt(a.parent.parent,a.parent.index+1);if(a.offset===0)return new bt(a.parent.parent,a.parent.index);var r=a.parent.data.slice(a.offset);return a.parent._data=a.parent.data.slice(0,a.offset),a.parent.parent._insertChild(a.parent.index+1,new Ue(a.root.document,r)),new bt(a.parent.parent,a.parent.index+1)}function Ts(a,r){var e=a.data.length;return a._data+=r.data,r._remove(),new bt(a,e)}var cu=[Ue,qi,$a,Bo,Ps];function Uo(a){return a&&(a.is("containerElement")||a.is("documentFragment"))}function Pa(a,r){var e=zo(a.start),n=zo(a.end);if(!e||!n||e!==n)throw new le.b("view-writer-invalid-range-container",r)}function Ss(a,r){return a.id===null&&r.id===null}function Sr(a){return Object.prototype.toString.call(a)=="[object Text]"}var Kl=function(r){return r.createTextNode("\xA0")},Ms=function(r){var e=r.createElement("br");return e.dataset.ckeFiller=!0,e},ro=function(){for(var a="",r=0;r<7;r++)a+="\u200B";return a}();function Kr(a){return Sr(a)&&a.data.substr(0,7)===ro}function io(a){return a.data.length==7&&Kr(a)}function Wo(a){return Kr(a)?a.data.slice(7):a.data}function Gl(a,r){if(r.keyCode==an.arrowleft){var e=r.domTarget.ownerDocument.defaultView.getSelection();if(e.rangeCount==1&&e.getRangeAt(0).collapsed){var n=e.getRangeAt(0).startContainer,t=e.getRangeAt(0).startOffset;Kr(n)&&t<=7&&e.collapse(n,0)}}}function Is(a,r,e){var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;e=e||function(i,o){return i===o},Array.isArray(a)||(a=Array.prototype.slice.call(a)),Array.isArray(r)||(r=Array.prototype.slice.call(r));var t=function(i,o,s){var l=js(i,o,s);if(l===-1)return{firstIndex:-1,lastIndexOld:-1,lastIndexNew:-1};var c=Rs(i,l),u=Rs(o,l),d=js(c,u,s),h=i.length-d,v=o.length-d;return{firstIndex:l,lastIndexOld:h,lastIndexNew:v}}(a,r,e);return n?function(i,o){var s=i.firstIndex,l=i.lastIndexOld,c=i.lastIndexNew;if(s===-1)return Array(o).fill("equal");var u=[];return s>0&&(u=u.concat(Array(s).fill("equal"))),c-s>0&&(u=u.concat(Array(c-s).fill("insert"))),l-s>0&&(u=u.concat(Array(l-s).fill("delete"))),c<o&&(u=u.concat(Array(o-c).fill("equal"))),u}(t,r.length):function(i,o){var s=[],l=o.firstIndex,c=o.lastIndexOld,u=o.lastIndexNew;return u-l>0&&s.push({index:l,type:"insert",values:i.slice(l,u)}),c-l>0&&s.push({index:l+(u-l),type:"delete",howMany:c-l}),s}(r,t)}function js(a,r,e){for(var n=0;n<Math.max(a.length,r.length);n++)if(a[n]===void 0||r[n]===void 0||!e(a[n],r[n]))return n;return-1}function Rs(a,r){return a.slice(r).reverse()}function gi(a,r,e){e=e||function(E,P){return E===P};var n=a.length,t=r.length;if(n>200||t>200||n+t>300)return gi.fastDiff(a,r,e,!0);var i,o;if(t<n){var s=a;a=r,r=s,i="delete",o="insert"}else i="insert",o="delete";var l=a.length,c=r.length,u=c-l,d={},h={};function v(E){var P=(h[E-1]!==void 0?h[E-1]:-1)+1,U=h[E+1]!==void 0?h[E+1]:-1,H=P>U?-1:1;d[E+H]&&(d[E]=d[E+H].slice(0)),d[E]||(d[E]=[]),d[E].push(P>U?i:o);for(var G=Math.max(P,U),Z=G-E;Z<l&&G<c&&e(a[Z],r[G]);)Z++,G++,d[E].push("equal");return G}var m,k=0;do{for(m=-k;m<u;m++)h[m]=v(m);for(m=u+k;m>u;m--)h[m]=v(m);h[u]=v(u),k++}while(h[u]!==c);return d[u].slice(1)}function Yl(a,r,e){a.insertBefore(e,a.childNodes[r]||null)}function Ds(a){var r=a.parentNode;r&&r.removeChild(a)}function va(a){if(a){if(a.defaultView)return a instanceof a.defaultView.Document;if(a.ownerDocument&&a.ownerDocument.defaultView)return a instanceof a.ownerDocument.defaultView.Node}return!1}gi.fastDiff=Is;var Ns=function(){function a(r,e){w(this,a),this.domDocuments=new Set,this.domConverter=r,this.markedAttributes=new Set,this.markedChildren=new Set,this.markedTexts=new Set,this.selection=e,this.isFocused=!1,this._inlineFiller=null,this._fakeSelectionContainer=null}return _(a,[{key:"markToSync",value:function(e,n){if(e==="text")this.domConverter.mapViewToDom(n.parent)&&this.markedTexts.add(n);else{if(!this.domConverter.mapViewToDom(n))return;if(e==="attributes")this.markedAttributes.add(n);else{if(e!=="children")throw new le.b("view-renderer-unknown-type: Unknown type passed to Renderer.markToSync.",this);this.markedChildren.add(n)}}}},{key:"render",value:function(){var e,n=p(this.markedChildren),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;this._updateChildrenMappings(i)}}catch(P){n.e(P)}finally{n.f()}this._inlineFiller&&!this._isSelectionInInlineFiller()&&this._removeInlineFiller(),this._inlineFiller?e=this._getInlineFillerPosition():this._needsInlineFillerAtSelection()&&(e=this.selection.getFirstPosition(),this.markedChildren.add(e.parent));var o=p(this.markedAttributes),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;this._updateAttrs(l)}}catch(P){o.e(P)}finally{o.f()}var c=p(this.markedChildren),u;try{for(c.s();!(u=c.n()).done;){var d=u.value;this._updateChildren(d,{inlineFillerPosition:e})}}catch(P){c.e(P)}finally{c.f()}var h=p(this.markedTexts),v;try{for(h.s();!(v=h.n()).done;){var m=v.value;!this.markedChildren.has(m.parent)&&this.domConverter.mapViewToDom(m.parent)&&this._updateText(m,{inlineFillerPosition:e})}}catch(P){h.e(P)}finally{h.f()}if(e){var k=this.domConverter.viewPositionToDom(e),E=k.parent.ownerDocument;Kr(k.parent)?this._inlineFiller=k.parent:this._inlineFiller=Ho(E,k.parent,k.offset)}else this._inlineFiller=null;this._updateSelection(),this._updateFocus(),this.markedTexts.clear(),this.markedAttributes.clear(),this.markedChildren.clear()}},{key:"_updateChildrenMappings",value:function(e){var n=this.domConverter.mapViewToDom(e);if(!!n){var t=this.domConverter.mapViewToDom(e).childNodes,i=Array.from(this.domConverter.viewChildrenToDom(e,n.ownerDocument,{withChildren:!1})),o=this._diffNodeLists(t,i),s=this._findReplaceActions(o,t,i);if(s.indexOf("replace")!==-1){var l={equal:0,insert:0,delete:0},c=p(s),u;try{for(c.s();!(u=c.n()).done;){var d=u.value;if(d==="replace"){var h=l.equal+l.insert,v=l.equal+l.delete,m=e.getChild(h);m&&!m.is("uiElement")&&this._updateElementMappings(m,t[v]),Ds(i[h]),l.equal++}else l[d]++}}catch(k){c.e(k)}finally{c.f()}}}}},{key:"_updateElementMappings",value:function(e,n){this.domConverter.unbindDomElement(n),this.domConverter.bindElements(n,e),this.markedChildren.add(e),this.markedAttributes.add(e)}},{key:"_getInlineFillerPosition",value:function(){var e=this.selection.getFirstPosition();return e.parent.is("text")?bt._createBefore(this.selection.getFirstPosition().parent):e}},{key:"_isSelectionInInlineFiller",value:function(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),n=this.domConverter.viewPositionToDom(e);return!!(n&&Sr(n.parent)&&Kr(n.parent))}},{key:"_removeInlineFiller",value:function(){var e=this._inlineFiller;if(!Kr(e))throw new le.b("view-renderer-filler-was-lost: The inline filler node was lost.",this);io(e)?e.parentNode.removeChild(e):e.data=e.data.substr(7),this._inlineFiller=null}},{key:"_needsInlineFillerAtSelection",value:function(){if(this.selection.rangeCount!=1||!this.selection.isCollapsed)return!1;var e=this.selection.getFirstPosition(),n=e.parent,t=e.offset;if(!this.domConverter.mapViewToDom(n.root)||!n.is("element")||!function(s){if(s.getAttribute("contenteditable")=="false")return!1;var l=s.findAncestor(function(c){return c.hasAttribute("contenteditable")});return!l||l.getAttribute("contenteditable")=="true"}(n)||t===n.getFillerOffset())return!1;var i=e.nodeBefore,o=e.nodeAfter;return!(i instanceof Ue||o instanceof Ue)}},{key:"_updateText",value:function(e,n){var t=this.domConverter.findCorrespondingDomText(e),i=this.domConverter.viewToDom(e,t.ownerDocument),o=t.data,s=i.data,l=n.inlineFillerPosition;if(l&&l.parent==e.parent&&l.offset==e.index&&(s=ro+s),o!=s){var c=Is(o,s),u=p(c),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;h.type==="insert"?t.insertData(h.index,h.values.join("")):t.deleteData(h.index,h.howMany)}}catch(v){u.e(v)}finally{u.f()}}}},{key:"_updateAttrs",value:function(e){var n=this.domConverter.mapViewToDom(e);if(!!n){var t=Array.from(n.attributes).map(function(h){return h.name}),i=e.getAttributeKeys(),o=p(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;n.setAttribute(l,e.getAttribute(l))}}catch(h){o.e(h)}finally{o.f()}var c=p(t),u;try{for(c.s();!(u=c.n()).done;){var d=u.value;e.hasAttribute(d)||n.removeAttribute(d)}}catch(h){c.e(h)}finally{c.f()}}}},{key:"_updateChildren",value:function(e,n){var t=this.domConverter.mapViewToDom(e);if(!!t){var i=n.inlineFillerPosition,o=this.domConverter.mapViewToDom(e).childNodes,s=Array.from(this.domConverter.viewChildrenToDom(e,t.ownerDocument,{bind:!0,inlineFillerPosition:i}));i&&i.parent===e&&Ho(t.ownerDocument,s,i.offset);var l=this._diffNodeLists(o,s),c=0,u=new Set,d=p(l),h;try{for(d.s();!(h=d.n()).done;){var v=h.value;v==="delete"?(u.add(o[c]),Ds(o[c])):v==="equal"&&c++}}catch(G){d.e(G)}finally{d.f()}c=0;var m=p(l),k;try{for(m.s();!(k=m.n()).done;){var E=k.value;E==="insert"?(Yl(t,c,s[c]),c++):E==="equal"&&(this._markDescendantTextToSync(this.domConverter.domToView(s[c])),c++)}}catch(G){m.e(G)}finally{m.f()}var P=p(u),U;try{for(P.s();!(U=P.n()).done;){var H=U.value;H.parentNode||this.domConverter.unbindDomElement(H)}}catch(G){P.e(G)}finally{P.f()}}}},{key:"_diffNodeLists",value:function(e,n){return gi(e=function(t,i){var o=Array.from(t);return o.length==0||!i||o[o.length-1]==i&&o.pop(),o}(e,this._fakeSelectionContainer),n,$l.bind(null,this.domConverter))}},{key:"_findReplaceActions",value:function(e,n,t){if(e.indexOf("insert")===-1||e.indexOf("delete")===-1)return e;var i=[],o=[],s=[],l={equal:0,insert:0,delete:0},c=p(e),u;try{for(c.s();!(u=c.n()).done;){var d=u.value;d==="insert"?s.push(t[l.equal+l.insert]):d==="delete"?o.push(n[l.equal+l.delete]):(i=i.concat(gi(o,s,Fs).map(function(h){return h==="equal"?"replace":h})),i.push("equal"),o=[],s=[]),l[d]++}}catch(h){c.e(h)}finally{c.f()}return i.concat(gi(o,s,Fs).map(function(h){return h==="equal"?"replace":h}))}},{key:"_markDescendantTextToSync",value:function(e){if(e){if(e.is("text"))this.markedTexts.add(e);else if(e.is("element")){var n=p(e.getChildren()),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;this._markDescendantTextToSync(i)}}catch(o){n.e(o)}finally{n.f()}}}}},{key:"_updateSelection",value:function(){if(this.selection.rangeCount===0)return this._removeDomSelection(),void this._removeFakeSelection();var e=this.domConverter.mapViewToDom(this.selection.editableElement);this.isFocused&&e&&(this.selection.isFake?this._updateFakeSelection(e):(this._removeFakeSelection(),this._updateDomSelection(e)))}},{key:"_updateFakeSelection",value:function(e){var n=e.ownerDocument;this._fakeSelectionContainer||(this._fakeSelectionContainer=function(s){var l=s.createElement("div");return Object.assign(l.style,{position:"fixed",top:0,left:"-9999px",width:"42px"}),l.textContent="\xA0",l}(n));var t=this._fakeSelectionContainer;if(this.domConverter.bindFakeSelection(t,this.selection),!!this._fakeSelectionNeedsUpdate(e)){t.parentElement&&t.parentElement==e||e.appendChild(t),t.textContent=this.selection.fakeSelectionLabel||"\xA0";var i=n.getSelection(),o=n.createRange();i.removeAllRanges(),o.selectNodeContents(t),i.addRange(o)}}},{key:"_updateDomSelection",value:function(e){var n=e.ownerDocument.defaultView.getSelection();if(!!this._domSelectionNeedsUpdate(n)){var t=this.domConverter.viewPositionToDom(this.selection.anchor),i=this.domConverter.viewPositionToDom(this.selection.focus);e.focus(),n.collapse(t.parent,t.offset),n.extend(i.parent,i.offset),ti.isGecko&&function(o,s){var l=o.parent;if(!(l.nodeType!=Node.ELEMENT_NODE||o.offset!=l.childNodes.length-1)){var c=l.childNodes[o.offset];c&&c.tagName=="BR"&&s.addRange(s.getRangeAt(0))}}(i,n)}}},{key:"_domSelectionNeedsUpdate",value:function(e){if(!this.domConverter.isDomSelectionCorrect(e))return!0;var n=e&&this.domConverter.domSelectionToView(e);return(!n||!this.selection.isEqual(n))&&!(!this.selection.isCollapsed&&this.selection.isSimilar(n))}},{key:"_fakeSelectionNeedsUpdate",value:function(e){var n=this._fakeSelectionContainer,t=e.ownerDocument.getSelection();return!n||n.parentElement!==e||t.anchorNode!==n&&!n.contains(t.anchorNode)||n.textContent!==this.selection.fakeSelectionLabel}},{key:"_removeDomSelection",value:function(){var e=p(this.domDocuments),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;if(t.getSelection().rangeCount){var i=t.activeElement,o=this.domConverter.mapDomToView(i);i&&o&&t.getSelection().removeAllRanges()}}}catch(s){e.e(s)}finally{e.f()}}},{key:"_removeFakeSelection",value:function(){var e=this._fakeSelectionContainer;e&&e.remove()}},{key:"_updateFocus",value:function(){if(this.isFocused){var e=this.selection.editableElement;e&&this.domConverter.focus(e)}}}]),a}();function Ho(a,r,e){var n=r instanceof Array?r:r.childNodes,t=n[e];if(Sr(t))return t.data=ro+t.data,t;{var i=a.createTextNode(ro);return Array.isArray(r)?n.splice(e,0,i):Yl(r,e,i),i}}function Fs(a,r){return va(a)&&va(r)&&!Sr(a)&&!Sr(r)&&a.tagName.toLowerCase()===r.tagName.toLowerCase()}function $l(a,r,e){return r===e||(Sr(r)&&Sr(e)?r.data===e.data:!(!a.isBlockFiller(r)||!a.isBlockFiller(e)))}tn(Ns,Jn);var cr={window,document};function Ko(a){for(var r=0;a.previousSibling;)a=a.previousSibling,r++;return r}function Aa(a){for(var r=[];a&&a.nodeType!=Node.DOCUMENT_NODE;)r.unshift(a),a=a.parentNode;return r}var Ta=Ms(document),ao=function(){function a(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};w(this,a),this.document=r,this.blockFillerMode=e.blockFillerMode||"br",this.preElements=["pre"],this.blockElements=["p","div","h1","h2","h3","h4","h5","h6","li","dd","dt","figcaption"],this._blockFiller=this.blockFillerMode=="br"?Ms:Kl,this._domToViewMapping=new WeakMap,this._viewToDomMapping=new WeakMap,this._fakeSelectionMapping=new WeakMap}return _(a,[{key:"bindFakeSelection",value:function(e,n){this._fakeSelectionMapping.set(e,new Oi(n))}},{key:"fakeSelectionToView",value:function(e){return this._fakeSelectionMapping.get(e)}},{key:"bindElements",value:function(e,n){this._domToViewMapping.set(e,n),this._viewToDomMapping.set(n,e)}},{key:"unbindDomElement",value:function(e){var n=this._domToViewMapping.get(e);if(n){this._domToViewMapping.delete(e),this._viewToDomMapping.delete(n);var t=p(e.childNodes),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this.unbindDomElement(o)}}catch(s){t.e(s)}finally{t.f()}}}},{key:"bindDocumentFragments",value:function(e,n){this._domToViewMapping.set(e,n),this._viewToDomMapping.set(n,e)}},{key:"viewToDom",value:function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(e.is("text")){var i=this._processDataFromViewText(e);return n.createTextNode(i)}{if(this.mapViewToDom(e))return this.mapViewToDom(e);var o;if(e.is("documentFragment"))o=n.createDocumentFragment(),t.bind&&this.bindDocumentFragments(o,e);else{if(e.is("uiElement"))return o=e.render(n),t.bind&&this.bindElements(o,e),o;o=e.hasAttribute("xmlns")?n.createElementNS(e.getAttribute("xmlns"),e.name):n.createElement(e.name),t.bind&&this.bindElements(o,e);var s=p(e.getAttributeKeys()),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;o.setAttribute(c,e.getAttribute(c))}}catch(v){s.e(v)}finally{s.f()}}if(t.withChildren||t.withChildren===void 0){var u=p(this.viewChildrenToDom(e,n,t)),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;o.appendChild(h)}}catch(v){u.e(v)}finally{u.f()}}return o}}},{key:"viewChildrenToDom",value:V.mark(function r(e,n){var t,i,o,s,l,c,u=arguments;return V.wrap(function(h){for(;;)switch(h.prev=h.next){case 0:t=u.length>2&&u[2]!==void 0?u[2]:{},i=e.getFillerOffset&&e.getFillerOffset(),o=0,s=p(e.getChildren()),h.prev=4,s.s();case 6:if((l=s.n()).done){h.next=17;break}if(c=l.value,h.t0=i===o,!h.t0){h.next=12;break}return h.next=12,this._blockFiller(n);case 12:return h.next=14,this.viewToDom(c,n,t);case 14:o++;case 15:h.next=6;break;case 17:h.next=22;break;case 19:h.prev=19,h.t1=h.catch(4),s.e(h.t1);case 22:return h.prev=22,s.f(),h.finish(22);case 25:if(h.t2=i===o,!h.t2){h.next=29;break}return h.next=29,this._blockFiller(n);case 29:case"end":return h.stop()}},r,this,[[4,19,22,25]])})},{key:"viewRangeToDom",value:function(e){var n=this.viewPositionToDom(e.start),t=this.viewPositionToDom(e.end),i=document.createRange();return i.setStart(n.parent,n.offset),i.setEnd(t.parent,t.offset),i}},{key:"viewPositionToDom",value:function(e){var n=e.parent;if(n.is("text")){var t=this.findCorrespondingDomText(n);if(!t)return null;var i=e.offset;return Kr(t)&&(i+=7),{parent:t,offset:i}}{var o,s,l;if(e.offset===0){if(o=this.mapViewToDom(n),!o)return null;l=o.childNodes[0]}else{var c=e.nodeBefore;if(s=c.is("text")?this.findCorrespondingDomText(c):this.mapViewToDom(e.nodeBefore),!s)return null;o=s.parentNode,l=s.nextSibling}return Sr(l)&&Kr(l)?{parent:l,offset:7}:{parent:o,offset:s?Ko(s)+1:0}}}},{key:"domToView",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.isBlockFiller(e,this.blockFillerMode))return null;var t=this.getParentUIElement(e,this._domToViewMapping);if(t)return t;if(Sr(e)){if(io(e))return null;{var i=this._processDataFromDomText(e);return i===""?null:new Ue(this.document,i)}}if(this.isComment(e))return null;{if(this.mapDomToView(e))return this.mapDomToView(e);var o;if(this.isDocumentFragment(e))o=new Oa(this.document),n.bind&&this.bindDocumentFragments(e,o);else{var s=n.keepOriginalCase?e.tagName:e.tagName.toLowerCase();o=new Ci(this.document,s),n.bind&&this.bindElements(e,o);for(var l=e.attributes,c=l.length-1;c>=0;c--)o._setAttribute(l[c].name,l[c].value)}if(n.withChildren||n.withChildren===void 0){var u=p(this.domChildrenToView(e,n)),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;o._appendChild(h)}}catch(v){u.e(v)}finally{u.f()}}return o}}},{key:"domChildrenToView",value:V.mark(function r(e){var n,t,i,o,s=arguments;return V.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:n=s.length>1&&s[1]!==void 0?s[1]:{},t=0;case 2:if(!(t<e.childNodes.length)){c.next=11;break}if(i=e.childNodes[t],o=this.domToView(i,n),c.t0=o!==null,!c.t0){c.next=8;break}return c.next=8,o;case 8:t++,c.next=2;break;case 11:case"end":return c.stop()}},r,this)})},{key:"domSelectionToView",value:function(e){if(e.rangeCount===1){var n=e.getRangeAt(0).startContainer;Sr(n)&&(n=n.parentNode);var t=this.fakeSelectionToView(n);if(t)return t}for(var i=this.isDomSelectionBackward(e),o=[],s=0;s<e.rangeCount;s++){var l=e.getRangeAt(s),c=this.domRangeToView(l);c&&o.push(c)}return new Oi(o,{backward:i})}},{key:"domRangeToView",value:function(e){var n=this.domPositionToView(e.startContainer,e.startOffset),t=this.domPositionToView(e.endContainer,e.endOffset);return n&&t?new Cn(n,t):null}},{key:"domPositionToView",value:function(e,n){if(this.isBlockFiller(e,this.blockFillerMode))return this.domPositionToView(e.parentNode,Ko(e));var t=this.mapDomToView(e);if(t&&t.is("uiElement"))return bt._createBefore(t);if(Sr(e)){if(io(e))return this.domPositionToView(e.parentNode,Ko(e));var i=this.findCorrespondingViewText(e),o=n;return i?(Kr(e)&&(o-=7,o=o<0?0:o),new bt(i,o)):null}if(n===0){var s=this.mapDomToView(e);if(s)return new bt(s,0)}else{var l=e.childNodes[n-1],c=Sr(l)?this.findCorrespondingViewText(l):this.mapDomToView(l);if(c&&c.parent)return new bt(c.parent,c.index+1)}return null}},{key:"mapDomToView",value:function(e){return this.getParentUIElement(e)||this._domToViewMapping.get(e)}},{key:"findCorrespondingViewText",value:function(e){if(io(e))return null;var n=this.getParentUIElement(e);if(n)return n;var t=e.previousSibling;if(t){if(!this.isElement(t))return null;var i=this.mapDomToView(t);if(i)return i.nextSibling instanceof Ue?i.nextSibling:null}else{var o=this.mapDomToView(e.parentNode);if(o){var s=o.getChild(0);return s instanceof Ue?s:null}}return null}},{key:"mapViewToDom",value:function(e){return this._viewToDomMapping.get(e)}},{key:"findCorrespondingDomText",value:function(e){var n=e.previousSibling;return n&&this.mapViewToDom(n)?this.mapViewToDom(n).nextSibling:!n&&e.parent&&this.mapViewToDom(e.parent)?this.mapViewToDom(e.parent).childNodes[0]:null}},{key:"focus",value:function(e){var n=this.mapViewToDom(e);if(n&&n.ownerDocument.activeElement!==n){var t=cr.window,i=t.scrollX,o=t.scrollY,s=[];Ls(n,function(l){var c=l.scrollLeft,u=l.scrollTop;s.push([c,u])}),n.focus(),Ls(n,function(l){var c=s.shift(),u=C(c,2),d=u[0],h=u[1];l.scrollLeft=d,l.scrollTop=h}),cr.window.scrollTo(i,o)}}},{key:"isElement",value:function(e){return e&&e.nodeType==Node.ELEMENT_NODE}},{key:"isDocumentFragment",value:function(e){return e&&e.nodeType==Node.DOCUMENT_FRAGMENT_NODE}},{key:"isComment",value:function(e){return e&&e.nodeType==Node.COMMENT_NODE}},{key:"isBlockFiller",value:function(e){return this.blockFillerMode=="br"?e.isEqualNode(Ta):!(e.tagName!=="BR"||!Bs(e,this.blockElements)||e.parentNode.childNodes.length!==1)||function(n,t){return Sr(n)&&n.data=="\xA0"&&Bs(n,t)&&n.parentNode.childNodes.length===1}(e,this.blockElements)}},{key:"isDomSelectionBackward",value:function(e){if(e.isCollapsed)return!1;var n=document.createRange();n.setStart(e.anchorNode,e.anchorOffset),n.setEnd(e.focusNode,e.focusOffset);var t=n.collapsed;return n.detach(),t}},{key:"getParentUIElement",value:function(e){var n=Aa(e);for(n.pop();n.length;){var t=n.pop(),i=this._domToViewMapping.get(t);if(i&&i.is("uiElement"))return i}return null}},{key:"isDomSelectionCorrect",value:function(e){return this._isDomSelectionPositionCorrect(e.anchorNode,e.anchorOffset)&&this._isDomSelectionPositionCorrect(e.focusNode,e.focusOffset)}},{key:"_isDomSelectionPositionCorrect",value:function(e,n){if(Sr(e)&&Kr(e)&&n<7||this.isElement(e)&&Kr(e.childNodes[n]))return!1;var t=this.mapDomToView(e);return!t||!t.is("uiElement")}},{key:"_processDataFromViewText",value:function(e){var n=this,t=e.data;if(e.getAncestors().some(function(s){return n.preElements.includes(s.name)}))return t;if(t.charAt(0)==" "){var i=this._getTouchingViewTextNode(e,!1);!(i&&this._nodeEndsWithSpace(i))&&i||(t="\xA0"+t.substr(1))}if(t.charAt(t.length-1)==" "){var o=this._getTouchingViewTextNode(e,!0);t.charAt(t.length-2)!=" "&&o&&o.data.charAt(0)!=" "||(t=t.substr(0,t.length-1)+"\xA0")}return t.replace(/ {2}/g," \xA0")}},{key:"_nodeEndsWithSpace",value:function(e){var n=this;if(e.getAncestors().some(function(i){return n.preElements.includes(i.name)}))return!1;var t=this._processDataFromViewText(e);return t.charAt(t.length-1)==" "}},{key:"_processDataFromDomText",value:function(e){var n=e.data;if(Go(e,this.preElements))return Wo(e);n=n.replace(/[ \n\t\r]{1,}/g," ");var t=this._getTouchingInlineDomNode(e,!1),i=this._getTouchingInlineDomNode(e,!0),o=this._checkShouldLeftTrimDomText(t),s=this._checkShouldRightTrimDomText(e,i);return o&&(n=n.replace(/^ /,"")),s&&(n=n.replace(/ $/,"")),n=Wo(new Text(n)),n=n.replace(/ \u00A0/g,"  "),(/( |\u00A0)\u00A0$/.test(n)||!i||i.data&&i.data.charAt(0)==" ")&&(n=n.replace(/\u00A0$/," ")),o&&(n=n.replace(/^\u00A0/," ")),n}},{key:"_checkShouldLeftTrimDomText",value:function(e){return!e||!!br(e)||/[^\S\u00A0]/.test(e.data.charAt(e.data.length-1))}},{key:"_checkShouldRightTrimDomText",value:function(e,n){return!n&&!Kr(e)}},{key:"_getTouchingViewTextNode",value:function(e,n){var t=new ha({startPosition:n?bt._createAfter(e):bt._createBefore(e),direction:n?"forward":"backward"}),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(s.item.is("containerElement")||s.item.is("br"))return null;if(s.item.is("textProxy"))return s.item}}catch(l){i.e(l)}finally{i.f()}return null}},{key:"_getTouchingInlineDomNode",value:function(e,n){if(!e.parentNode)return null;var t=n?"nextNode":"previousNode",i=e.ownerDocument,o=Aa(e)[0],s=i.createTreeWalker(o,NodeFilter.SHOW_TEXT|NodeFilter.SHOW_ELEMENT,{acceptNode:function(d){return Sr(d)||d.tagName=="BR"?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});s.currentNode=e;var l=s[t]();if(l!==null){var c=function(u,d){for(var h=Aa(u),v=Aa(d),m=0;h[m]==v[m]&&h[m];)m++;return m===0?null:h[m-1]}(e,l);if(c&&!Go(e,this.blockElements,c)&&!Go(l,this.blockElements,c))return l}return null}}]),a}();function Go(a,r,e){var n=Aa(a);return e&&(n=n.slice(n.indexOf(e)+1)),n.some(function(t){return t.tagName&&r.includes(t.tagName.toLowerCase())})}function Ls(a,r){for(;a&&a!=cr.document;)r(a),a=a.parentNode}function Bs(a,r){var e=a.parentNode;return e&&e.tagName&&r.includes(e.tagName.toLowerCase())}function ga(a){var r=Object.prototype.toString.apply(a);return r=="[object Window]"||r=="[object global]"}var oo=fa({},Gn,{listenTo:function(r){for(var e,n=arguments.length,t=new Array(n>1?n-1:0),i=1;i<n;i++)t[i-1]=arguments[i];if(va(r)||ga(r)){var o=this._getProxyEmitter(r)||new Yo(r);o.attach.apply(o,t),r=o}(e=Gn.listenTo).call.apply(e,[this,r].concat(t))},stopListening:function(r,e,n){if(va(r)||ga(r)){var t=this._getProxyEmitter(r);if(!t)return;r=t}Gn.stopListening.call(this,r,e,n),r instanceof Yo&&r.detach(e)},_getProxyEmitter:function(r){return e=this,n=Vs(r),e[ii]&&e[ii][n]?e[ii][n].emitter:null;var e,n}}),Yo=function a(r){w(this,a),Wa(this,Vs(r)),this._domNode=r};function Vs(a){return a["data-ck-expando"]||(a["data-ck-expando"]=Yr())}fa(Yo.prototype,Gn,{attach:function(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!(this._domListeners&&this._domListeners[r])){var t=this._createDomListener(r,!!n.useCapture);this._domNode.addEventListener(r,t,!!n.useCapture),this._domListeners||(this._domListeners={}),this._domListeners[r]=t}},detach:function(r){var e;!this._domListeners[r]||(e=this._events[r])&&e.callbacks.length||this._domListeners[r].removeListener()},_createDomListener:function(r,e){var n=this,t=function(o){n.fire(r,o)};return t.removeListener=function(){n._domNode.removeEventListener(r,t,e),delete n._domListeners[r]},t}});var Di=function(){function a(r){w(this,a),this.view=r,this.document=r.document,this.isEnabled=!1}return _(a,[{key:"enable",value:function(){this.isEnabled=!0}},{key:"disable",value:function(){this.isEnabled=!1}},{key:"destroy",value:function(){this.disable(),this.stopListening()}}]),a}();tn(Di,oo);var Jl=function(r){return this.__data__.set(r,"__lodash_hash_undefined__"),this},Ql=function(r){return this.__data__.has(r)};function so(a){var r=-1,e=a==null?0:a.length;for(this.__data__=new _t;++r<e;)this.add(a[r])}so.prototype.add=so.prototype.push=Jl,so.prototype.has=Ql;var $o=so,uu=function(r,e){for(var n=-1,t=r==null?0:r.length;++n<t;)if(e(r[n],n,r))return!0;return!1},Jo=function(r,e){return r.has(e)},Zl=function(r,e,n,t,i,o){var s=1&n,l=r.length,c=e.length;if(l!=c&&!(s&&c>l))return!1;var u=o.get(r);if(u&&o.get(e))return u==e;var d=-1,h=!0,v=2&n?new $o:void 0;for(o.set(r,e),o.set(e,r);++d<l;){var m=r[d],k=e[d];if(t)var E=s?t(k,m,d,e,r,o):t(m,k,d,r,e,o);if(E!==void 0){if(E)continue;h=!1;break}if(v){if(!uu(e,function(P,U){if(!Jo(v,U)&&(m===P||i(m,P,n,t,o)))return v.push(U)})){h=!1;break}}else if(m!==k&&!i(m,k,n,t,o)){h=!1;break}}return o.delete(r),o.delete(e),h},Qo=function(r){var e=-1,n=Array(r.size);return r.forEach(function(t,i){n[++e]=[i,t]}),n},Xl=function(r){var e=-1,n=Array(r.size);return r.forEach(function(t){n[++e]=t}),n},lo=me?me.prototype:void 0,Zo=lo?lo.valueOf:void 0,ql=function(r,e,n,t,i,o,s){switch(n){case"[object DataView]":if(r.byteLength!=e.byteLength||r.byteOffset!=e.byteOffset)return!1;r=r.buffer,e=e.buffer;case"[object ArrayBuffer]":return!(r.byteLength!=e.byteLength||!o(new mt(r),new mt(e)));case"[object Boolean]":case"[object Date]":case"[object Number]":return It(+r,+e);case"[object Error]":return r.name==e.name&&r.message==e.message;case"[object RegExp]":case"[object String]":return r==e+"";case"[object Map]":var l=Qo;case"[object Set]":var c=1&t;if(l||(l=Xl),r.size!=e.size&&!c)return!1;var u=s.get(r);if(u)return u==e;t|=2,s.set(r,e);var d=Zl(l(r),l(e),t,i,o,s);return s.delete(r),d;case"[object Symbol]":if(Zo)return Zo.call(r)==Zo.call(e)}return!1},ec=Object.prototype.hasOwnProperty,Xo=function(r,e,n,t,i,o){var s=1&n,l=Ri(r),c=l.length;if(c!=Ri(e).length&&!s)return!1;for(var u=c;u--;){var d=l[u];if(!(s?d in e:ec.call(e,d)))return!1}var h=o.get(r);if(h&&o.get(e))return h==e;var v=!0;o.set(r,e),o.set(e,r);for(var m=s;++u<c;){var k=r[d=l[u]],E=e[d];if(t)var P=s?t(E,k,d,e,r,o):t(k,E,d,r,e,o);if(!(P===void 0?k===E||i(k,E,n,t,o):P)){v=!1;break}m||(m=d=="constructor")}if(v&&!m){var U=r.constructor,H=e.constructor;U==H||!("constructor"in r)||!("constructor"in e)||typeof U=="function"&&U instanceof U&&typeof H=="function"&&H instanceof H||(v=!1)}return o.delete(r),o.delete(e),v},tc=Object.prototype.hasOwnProperty,M=function(r,e,n,t,i,o){var s=Mt(r),l=Mt(e),c=s?"[object Array]":at(r),u=l?"[object Array]":at(e),d=(c=c=="[object Arguments]"?"[object Object]":c)=="[object Object]",h=(u=u=="[object Arguments]"?"[object Object]":u)=="[object Object]",v=c==u;if(v&&Object(cn.a)(r)){if(!Object(cn.a)(e))return!1;s=!0,d=!1}if(v&&!d)return o||(o=new kn),s||tr(r)?Zl(r,e,n,t,i,o):ql(r,e,c,n,t,i,o);if(!(1&n)){var m=d&&tc.call(r,"__wrapped__"),k=h&&tc.call(e,"__wrapped__");if(m||k){var E=m?r.value():r,P=k?e.value():e;return o||(o=new kn),i(E,P,n,t,o)}}return!!v&&(o||(o=new kn),Xo(r,e,n,t,i,o))},g=function a(r,e,n,t,i){return r===e||(r==null||e==null||!Ie(r)&&!Ie(e)?r!=r&&e!=e:M(r,e,n,t,a,i))},z=function(r,e,n){var t=(n=typeof n=="function"?n:void 0)?n(r,e):void 0;return t===void 0?g(r,e,void 0,n):!!t},T=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t._config={childList:!0,characterData:!0,characterDataOldValue:!0,subtree:!0},t.domConverter=n.domConverter,t.renderer=n._renderer,t._domElements=[],t._mutationObserver=new window.MutationObserver(t._onMutations.bind(j(t))),t}return _(e,[{key:"flush",value:function(){this._onMutations(this._mutationObserver.takeRecords())}},{key:"observe",value:function(t){this._domElements.push(t),this.isEnabled&&this._mutationObserver.observe(t,this._config)}},{key:"enable",value:function(){b(x(e.prototype),"enable",this).call(this);var t=p(this._domElements),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._mutationObserver.observe(o,this._config)}}catch(s){t.e(s)}finally{t.f()}}},{key:"disable",value:function(){b(x(e.prototype),"disable",this).call(this),this._mutationObserver.disconnect()}},{key:"destroy",value:function(){b(x(e.prototype),"destroy",this).call(this),this._mutationObserver.disconnect()}},{key:"_onMutations",value:function(t){if(t.length===0)return;var i=this.domConverter,o=new Map,s=new Set,l=p(t),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;if(u.type==="childList"){var d=i.mapDomToView(u.target);if(d&&d.is("uiElement"))continue;d&&!this._isBogusBrMutation(u)&&s.add(d)}}}catch(Wt){l.e(Wt)}finally{l.f()}var h=p(t),v;try{for(h.s();!(v=h.n()).done;){var m=v.value,k=i.mapDomToView(m.target);if((!k||!k.is("uiElement"))&&m.type==="characterData"){var E=i.findCorrespondingViewText(m.target);E&&!s.has(E.parent)?o.set(E,{type:"text",oldText:E.data,newText:Wo(m.target),node:E}):!E&&Kr(m.target)&&s.add(i.mapDomToView(m.target.parentNode))}}}catch(Wt){h.e(Wt)}finally{h.f()}var P=[],U=p(o.values()),H;try{for(U.s();!(H=U.n()).done;){var G=H.value;this.renderer.markToSync("text",G.node),P.push(G)}}catch(Wt){U.e(Wt)}finally{U.f()}var Z=p(s),ce;try{for(Z.s();!(ce=Z.n()).done;){var ye=ce.value,ke=i.mapViewToDom(ye),Re=Array.from(ye.getChildren()),Xe=Array.from(i.domChildrenToView(ke,{withChildren:!1}));z(Re,Xe,Ht)||(this.renderer.markToSync("children",ye),P.push({type:"children",oldChildren:Re,newChildren:Xe,node:ye}))}}catch(Wt){Z.e(Wt)}finally{Z.f()}var gt=t[0].target.ownerDocument.getSelection(),Bt=null;if(gt&&gt.anchorNode){var pt=i.domPositionToView(gt.anchorNode,gt.anchorOffset),nt=i.domPositionToView(gt.focusNode,gt.focusOffset);pt&&nt&&(Bt=new Oi(pt),Bt.setFocus(nt))}function Ht(Wt,vn){if(!Array.isArray(Wt))return Wt===vn||!(!Wt.is("text")||!vn.is("text"))&&Wt.data===vn.data}P.length&&(this.document.fire("mutations",P,Bt),this.view.forceRender())}},{key:"_isBogusBrMutation",value:function(t){var i=null;return t.nextSibling===null&&t.removedNodes.length===0&&t.addedNodes.length==1&&(i=this.domConverter.domToView(t.addedNodes[0],{withChildren:!1})),i&&i.is("element","br")}}]),e}(Di),I=function(){function a(r,e,n){w(this,a),this.view=r,this.document=r.document,this.domEvent=e,this.domTarget=e.target,fa(this,n)}return _(a,[{key:"target",get:function(){return this.view.domConverter.mapDomToView(this.domTarget)}},{key:"preventDefault",value:function(){this.domEvent.preventDefault()}},{key:"stopPropagation",value:function(){this.domEvent.stopPropagation()}}]),a}(),re=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.useCapture=!1,t}return _(e,[{key:"observe",value:function(t){var i=this;(typeof this.domEventType=="string"?[this.domEventType]:this.domEventType).forEach(function(o){i.listenTo(t,o,function(s,l){i.isEnabled&&i.onDomEvent(l)},{useCapture:i.useCapture})})}},{key:"fire",value:function(t,i,o){this.isEnabled&&this.document.fire(t,new I(this.view,i,o))}}]),e}(Di),ae=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.domEventType=["keydown","keyup"],t}return _(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t,{keyCode:t.keyCode,altKey:t.altKey,ctrlKey:t.ctrlKey||t.metaKey,shiftKey:t.shiftKey,get keystroke(){return Pi(this)}})}}]),e}(re),fe=function(){return Ae.a.Date.now()},be=/^\s+|\s+$/g,xe=/^[-+]0x[0-9a-f]+$/i,De=/^0b[01]+$/i,vt=/^0o[0-7]+$/i,tt=parseInt,ft=function(r){if(typeof r=="number")return r;if(Cr(r))return NaN;if(ve(r)){var e=typeof r.valueOf=="function"?r.valueOf():r;r=ve(e)?e+"":e}if(typeof r!="string")return r===0?r:+r;r=r.replace(be,"");var n=De.test(r);return n||vt.test(r)?tt(r.slice(2),n?2:8):xe.test(r)?NaN:+r},Qt=Math.max,Zt=Math.min,on=function(r,e,n){var t,i,o,s,l,c,u=0,d=!1,h=!1,v=!0;if(typeof r!="function")throw new TypeError("Expected a function");function m(G){var Z=t,ce=i;return t=i=void 0,u=G,s=r.apply(ce,Z)}function k(G){return u=G,l=setTimeout(P,e),d?m(G):s}function E(G){var Z=G-c;return c===void 0||Z>=e||Z<0||h&&G-u>=o}function P(){var G=fe();if(E(G))return U(G);l=setTimeout(P,function(Z){var ce=e-(Z-c);return h?Zt(ce,o-(Z-u)):ce}(G))}function U(G){return l=void 0,v&&t?m(G):(t=i=void 0,s)}function H(){var G=fe(),Z=E(G);if(t=arguments,i=this,c=G,Z){if(l===void 0)return k(c);if(h)return clearTimeout(l),l=setTimeout(P,e),m(c)}return l===void 0&&(l=setTimeout(P,e)),s}return e=ft(e)||0,ve(n)&&(d=!!n.leading,o=(h="maxWait"in n)?Qt(ft(n.maxWait)||0,e):o,v="trailing"in n?!!n.trailing:v),H.cancel=function(){l!==void 0&&clearTimeout(l),u=0,t=c=i=l=void 0},H.flush=function(){return l===void 0?s:U(fe())},H},ur=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t._fireSelectionChangeDoneDebounced=on(function(i){return t.document.fire("selectionChangeDone",i)},200),t}return _(e,[{key:"observe",value:function(){var t=this,i=this.document;i.on("keydown",function(o,s){var l;i.selection.isFake&&((l=s.keyCode)==an.arrowright||l==an.arrowleft||l==an.arrowup||l==an.arrowdown)&&t.isEnabled&&(s.preventDefault(),t._handleSelectionMove(s.keyCode))},{priority:"lowest"})}},{key:"destroy",value:function(){b(x(e.prototype),"destroy",this).call(this),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionMove",value:function(t){var i=this.document.selection,o=new Oi(i.getRanges(),{backward:i.isBackward,fake:!1});t!=an.arrowleft&&t!=an.arrowup||o.setTo(o.getFirstPosition()),t!=an.arrowright&&t!=an.arrowdown||o.setTo(o.getLastPosition());var s={oldSelection:i,newSelection:o,domSelection:null};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}]),e}(Di),pi=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.mutationObserver=n.getObserver(T),t.selection=t.document.selection,t.domConverter=n.domConverter,t._documents=new WeakSet,t._fireSelectionChangeDoneDebounced=on(function(i){return t.document.fire("selectionChangeDone",i)},200),t._clearInfiniteLoopInterval=setInterval(function(){return t._clearInfiniteLoop()},1e3),t._loopbackCounter=0,t}return _(e,[{key:"observe",value:function(t){var i=this,o=t.ownerDocument;this._documents.has(o)||(this.listenTo(o,"selectionchange",function(){i._handleSelectionChange(o)}),this._documents.add(o))}},{key:"destroy",value:function(){b(x(e.prototype),"destroy",this).call(this),clearInterval(this._clearInfiniteLoopInterval),this._fireSelectionChangeDoneDebounced.cancel()}},{key:"_handleSelectionChange",value:function(t){if(!!this.isEnabled){this.mutationObserver.flush();var i=t.defaultView.getSelection(),o=this.domConverter.domSelectionToView(i);if(o.rangeCount!=0){if(this.view.hasDomSelection=!0,!(this.selection.isEqual(o)&&this.domConverter.isDomSelectionCorrect(i)||++this._loopbackCounter>60))if(this.selection.isSimilar(o))this.view.forceRender();else{var s={oldSelection:this.selection,newSelection:o,domSelection:i};this.document.fire("selectionChange",s),this._fireSelectionChangeDoneDebounced(s)}}else this.view.hasDomSelection=!1}}},{key:"_clearInfiniteLoop",value:function(){this._loopbackCounter=0}}]),e}(Di),Sa=function(a){O(e,a);var r=D(e);function e(n){var t;w(this,e),t=r.call(this,n),t.domEventType=["focus","blur"],t.useCapture=!0;var i=t.document;return i.on("focus",function(){i.isFocused=!0,t._renderTimeoutId=setTimeout(function(){return n.forceRender()},50)}),i.on("blur",function(o,s){var l=i.selection.editableElement;l!==null&&l!==s.target||(i.isFocused=!1,n.forceRender())}),t}return _(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}},{key:"destroy",value:function(){this._renderTimeoutId&&clearTimeout(this._renderTimeoutId),b(x(e.prototype),"destroy",this).call(this)}}]),e}(re),si=function(a){O(e,a);var r=D(e);function e(n){var t;w(this,e),t=r.call(this,n),t.domEventType=["compositionstart","compositionupdate","compositionend"];var i=t.document;return i.on("compositionstart",function(){i.isComposing=!0}),i.on("compositionend",function(){i.isComposing=!1}),t}return _(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),e}(re),co=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.domEventType=["beforeinput"],t}return _(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),e}(re);function zs(a){return Object.prototype.toString.apply(a)=="[object Range]"}function du(a){var r=a.ownerDocument.defaultView.getComputedStyle(a);return{top:parseInt(r.borderTopWidth,10),right:parseInt(r.borderRightWidth,10),bottom:parseInt(r.borderBottomWidth,10),left:parseInt(r.borderLeftWidth,10)}}var fu=["top","right","bottom","left","width","height"],Mr=function(){function a(r){w(this,a);var e=zs(r);if(Object.defineProperty(this,"_source",{value:r._source||r,writable:!0,enumerable:!1}),br(r)||e)nc(this,e?a.getDomRangeRects(r)[0]:r.getBoundingClientRect());else if(ga(r)){var n=r.innerWidth,t=r.innerHeight;nc(this,{top:0,right:n,bottom:t,left:0,width:n,height:t})}else nc(this,r)}return _(a,[{key:"clone",value:function(){return new a(this)}},{key:"moveTo",value:function(e,n){return this.top=n,this.right=e+this.width,this.bottom=n+this.height,this.left=e,this}},{key:"moveBy",value:function(e,n){return this.top+=n,this.right+=e,this.left+=e,this.bottom+=n,this}},{key:"getIntersection",value:function(e){var n={top:Math.max(this.top,e.top),right:Math.min(this.right,e.right),bottom:Math.min(this.bottom,e.bottom),left:Math.max(this.left,e.left)};return n.width=n.right-n.left,n.height=n.bottom-n.top,n.width<0||n.height<0?null:new a(n)}},{key:"getIntersectionArea",value:function(e){var n=this.getIntersection(e);return n?n.getArea():0}},{key:"getArea",value:function(){return this.width*this.height}},{key:"getVisible",value:function(){var e=this._source,n=this.clone();if(!hu(e))for(var t=e.parentNode||e.commonAncestorContainer;t&&!hu(t);){var i=new a(t),o=n.getIntersection(i);if(!o)return null;o.getArea()<n.getArea()&&(n=o),t=t.parentNode}return n}},{key:"isEqual",value:function(e){var n=p(fu),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;if(this[i]!==e[i])return!1}}catch(o){n.e(o)}finally{n.f()}return!0}},{key:"contains",value:function(e){var n=this.getIntersection(e);return!(!n||!n.isEqual(e))}},{key:"excludeScrollbarsAndBorders",value:function(){var e=this._source,n,t,i;if(ga(e))n=e.innerWidth-e.document.documentElement.clientWidth,t=e.innerHeight-e.document.documentElement.clientHeight,i=e.getComputedStyle(e.document.documentElement).direction;else{var o=du(this._source);n=e.offsetWidth-e.clientWidth-o.left-o.right,t=e.offsetHeight-e.clientHeight-o.top-o.bottom,i=e.ownerDocument.defaultView.getComputedStyle(e).direction,this.left+=o.left,this.top+=o.top,this.right-=o.right,this.bottom-=o.bottom,this.width=this.right-this.left,this.height=this.bottom-this.top}return this.width-=n,i==="ltr"?this.right-=n:this.left+=n,this.height-=t,this.bottom-=t,this}}],[{key:"getDomRangeRects",value:function(e){var n=[],t=Array.from(e.getClientRects());if(t.length){var i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;n.push(new a(s))}}catch(u){i.e(u)}finally{i.f()}}else{var l=e.startContainer;Sr(l)&&(l=l.parentNode);var c=new a(l.getBoundingClientRect());c.right=c.left,c.width=0,n.push(c)}return n}}]),a}();function nc(a,r){var e=p(fu),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;a[t]=r[t]}}catch(i){e.e(i)}finally{e.f()}}function hu(a){return!!br(a)&&a===a.ownerDocument.body}function vu(a){for(var r=a.target,e=a.viewportOffset,n=e===void 0?0:e,t=rc(r),i=t,o=null;i;){var s=void 0;s=ku(i==t?r:o),gu(s,function(){return wu(r,i)});var l=wu(r,i);if(kv(i,l,n),i.parent!=i){if(o=i.frameElement,i=i.parent,!o)return}else i=null}}function kv(a,r,e){var n=r.clone().moveBy(0,e),t=r.clone().moveBy(0,-e),i=new Mr(a).excludeScrollbarsAndBorders();if(![t,n].every(function(l){return i.contains(l)})){var o=a.scrollX,s=a.scrollY;mu(t,i)?s-=i.top-r.top+e:pu(n,i)&&(s+=r.bottom-i.bottom+e),bu(r,i)?o-=i.left-r.left+e:yu(r,i)&&(o+=r.right-i.right+e),a.scrollTo(o,s)}}function gu(a,r){for(var e=rc(a),n,t;a!=e.document.body;)t=r(),n=new Mr(a).excludeScrollbarsAndBorders(),n.contains(t)||(mu(t,n)?a.scrollTop-=n.top-t.top:pu(t,n)&&(a.scrollTop+=t.bottom-n.bottom),bu(t,n)?a.scrollLeft-=n.left-t.left:yu(t,n)&&(a.scrollLeft+=t.right-n.right)),a=a.parentNode}function pu(a,r){return a.bottom>r.bottom}function mu(a,r){return a.top<r.top}function bu(a,r){return a.left<r.left}function yu(a,r){return a.right>r.right}function rc(a){return zs(a)?a.startContainer.ownerDocument.defaultView:a.ownerDocument.defaultView}function ku(a){if(zs(a)){var r=a.commonAncestorContainer;return Sr(r)&&(r=r.parentNode),r}return a.parentNode}function wu(a,r){var e=rc(a),n=new Mr(a);if(e===r)return n;for(var t=e;t!=r;){var i=t.frameElement,o=new Mr(i).excludeScrollbarsAndBorders();n.moveBy(o.left,o.top),t=t.parent}return n}Object.assign({},{scrollViewportToShowTarget:vu,scrollAncestorsToShowTarget:function(r){gu(ku(r),function(){return new Mr(r)})}});var _u=function(){function a(r){var e=this;w(this,a),this.document=new qa(r),this.domConverter=new ao(this.document),this.domRoots=new Map,this.set("isRenderingInProgress",!1),this.set("hasDomSelection",!1),this._renderer=new Ns(this.domConverter,this.document.selection),this._renderer.bind("isFocused").to(this.document),this._initialDomRootAttributes=new WeakMap,this._observers=new Map,this._ongoingChange=!1,this._postFixersInProgress=!1,this._renderingDisabled=!1,this._hasChangedSinceTheLastRendering=!1,this._writer=new As(this.document),this.addObserver(T),this.addObserver(pi),this.addObserver(Sa),this.addObserver(ae),this.addObserver(ur),this.addObserver(si),ti.isAndroid&&this.addObserver(co),this.document.on("keydown",Gl),Ul(this),this.on("render",function(){e._render(),e.document.fire("layoutChanged"),e._hasChangedSinceTheLastRendering=!1}),this.listenTo(this.document.selection,"change",function(){e._hasChangedSinceTheLastRendering=!0})}return _(a,[{key:"attachDomRoot",value:function(e){var n=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"main",i=this.document.getRoot(t);i._name=e.tagName.toLowerCase();for(var o={},s=0,l=Array.from(e.attributes);s<l.length;s++){var c=l[s],u=c.name,d=c.value;o[u]=d,u==="class"?this._writer.addClass(d.split(" "),i):this._writer.setAttribute(u,d,i)}this._initialDomRootAttributes.set(e,o);var h=function(){n._writer.setAttribute("contenteditable",!i.isReadOnly,i),i.isReadOnly?n._writer.addClass("ck-read-only",i):n._writer.removeClass("ck-read-only",i)};h(),this.domRoots.set(t,e),this.domConverter.bindElements(e,i),this._renderer.markToSync("children",i),this._renderer.markToSync("attributes",i),this._renderer.domDocuments.add(e.ownerDocument),i.on("change:children",function(E,P){return n._renderer.markToSync("children",P)}),i.on("change:attributes",function(E,P){return n._renderer.markToSync("attributes",P)}),i.on("change:text",function(E,P){return n._renderer.markToSync("text",P)}),i.on("change:isReadOnly",function(){return n.change(h)}),i.on("change",function(){n._hasChangedSinceTheLastRendering=!0});var v=p(this._observers.values()),m;try{for(v.s();!(m=v.n()).done;){var k=m.value;k.observe(e,t)}}catch(E){v.e(E)}finally{v.f()}}},{key:"detachDomRoot",value:function(e){var n=this.domRoots.get(e);Array.from(n.attributes).forEach(function(o){var s=o.name;return n.removeAttribute(s)});var t=this._initialDomRootAttributes.get(n);for(var i in t)n.setAttribute(i,t[i]);this.domRoots.delete(e),this.domConverter.unbindDomElement(n)}},{key:"getDomRoot",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"main";return this.domRoots.get(e)}},{key:"addObserver",value:function(e){var n=this._observers.get(e);if(n)return n;n=new e(this),this._observers.set(e,n);var t=p(this.domRoots),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=C(o,2),l=s[0],c=s[1];n.observe(c,l)}}catch(u){t.e(u)}finally{t.f()}return n.enable(),n}},{key:"getObserver",value:function(e){return this._observers.get(e)}},{key:"disableObservers",value:function(){var e=p(this._observers.values()),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;t.disable()}}catch(i){e.e(i)}finally{e.f()}}},{key:"enableObservers",value:function(){var e=p(this._observers.values()),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;t.enable()}}catch(i){e.e(i)}finally{e.f()}}},{key:"scrollToTheSelection",value:function(){var e=this.document.selection.getFirstRange();e&&vu({target:this.domConverter.viewRangeToDom(e),viewportOffset:20})}},{key:"focus",value:function(){if(!this.document.isFocused){var e=this.document.selection.editableElement;e&&(this.domConverter.focus(e),this.forceRender())}}},{key:"change",value:function(e){if(this.isRenderingInProgress||this._postFixersInProgress)throw new le.b("cannot-change-view-tree: Attempting to make changes to the view when it is in an incorrect state: rendering or post-fixers are in progress. This may cause some unexpected behavior and inconsistency between the DOM and the view.",this);try{if(this._ongoingChange)return e(this._writer);this._ongoingChange=!0;var n=e(this._writer);return this._ongoingChange=!1,!this._renderingDisabled&&this._hasChangedSinceTheLastRendering&&(this._postFixersInProgress=!0,this.document._callPostFixers(this._writer),this._postFixersInProgress=!1,this.fire("render")),n}catch(t){le.b.rethrowUnexpectedError(t,this)}}},{key:"forceRender",value:function(){this._hasChangedSinceTheLastRendering=!0,this.change(function(){})}},{key:"destroy",value:function(){var e=p(this._observers.values()),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;t.destroy()}}catch(i){e.e(i)}finally{e.f()}this.document.destroy(),this.stopListening()}},{key:"createPositionAt",value:function(e,n){return bt._createAt(e,n)}},{key:"createPositionAfter",value:function(e){return bt._createAfter(e)}},{key:"createPositionBefore",value:function(e){return bt._createBefore(e)}},{key:"createRange",value:function(e,n){return new Cn(e,n)}},{key:"createRangeOn",value:function(e){return Cn._createOn(e)}},{key:"createRangeIn",value:function(e){return Cn._createIn(e)}},{key:"createSelection",value:function(e,n,t){return new Oi(e,n,t)}},{key:"_disableRendering",value:function(e){this._renderingDisabled=e,e==0&&this.change(function(){})}},{key:"_render",value:function(){this.isRenderingInProgress=!0,this.disableObservers(),this._renderer.render(),this.enableObservers(),this.isRenderingInProgress=!1}}]),a}();tn(_u,Jn);var qo=function(){function a(r){w(this,a),this.parent=null,this._attrs=bn(r)}return _(a,[{key:"index",get:function(){var e;if(!this.parent)return null;if((e=this.parent.getChildIndex(this))===null)throw new le.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}},{key:"startOffset",get:function(){var e;if(!this.parent)return null;if((e=this.parent.getChildStartOffset(this))===null)throw new le.b("model-node-not-found-in-parent: The node's parent does not contain this node.",this);return e}},{key:"offsetSize",get:function(){return 1}},{key:"endOffset",get:function(){return this.parent?this.startOffset+this.offsetSize:null}},{key:"nextSibling",get:function(){var e=this.index;return e!==null&&this.parent.getChild(e+1)||null}},{key:"previousSibling",get:function(){var e=this.index;return e!==null&&this.parent.getChild(e-1)||null}},{key:"root",get:function(){for(var e=this;e.parent;)e=e.parent;return e}},{key:"isAttached",value:function(){return this.root.is("rootElement")}},{key:"getPath",value:function(){for(var e=[],n=this;n.parent;)e.unshift(n.startOffset),n=n.parent;return e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{includeSelf:!1,parentFirst:!1},n=[],t=e.includeSelf?this:this.parent;t;)n[e.parentFirst?"push":"unshift"](t),t=t.parent;return n}},{key:"getCommonAncestor",value:function(e){for(var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=this.getAncestors(n),i=e.getAncestors(n),o=0;t[o]==i[o]&&t[o];)o++;return o===0?null:t[o-1]}},{key:"isBefore",value:function(e){if(this==e||this.root!==e.root)return!1;var n=this.getPath(),t=e.getPath(),i=ee(n,t);switch(i){case"prefix":return!0;case"extension":return!1;default:return n[i]<t[i]}}},{key:"isAfter",value:function(e){return this!=e&&this.root===e.root&&!this.isBefore(e)}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"toJSON",value:function(){var e={};return this._attrs.size&&(e.attributes=Array.from(this._attrs).reduce(function(n,t){return n[t[0]]=t[1],n},{})),e}},{key:"is",value:function(e){return e==="node"||e==="model:node"}},{key:"_clone",value:function(){return new a(this._attrs)}},{key:"_remove",value:function(){this.parent._removeChildren(this.index)}},{key:"_setAttribute",value:function(e,n){this._attrs.set(e,n)}},{key:"_setAttributesTo",value:function(e){this._attrs=bn(e)}},{key:"_removeAttribute",value:function(e){return this._attrs.delete(e)}},{key:"_clearAttributes",value:function(){this._attrs.clear()}}]),a}(),fr=function(a){O(e,a);var r=D(e);function e(n,t){var i;return w(this,e),i=r.call(this,t),i._data=n||"",i}return _(e,[{key:"offsetSize",get:function(){return this.data.length}},{key:"data",get:function(){return this._data}},{key:"is",value:function(t){return t==="text"||t==="model:text"||t==="node"||t==="model:node"}},{key:"toJSON",value:function(){var t=b(x(e.prototype),"toJSON",this).call(this);return t.data=this.data,t}},{key:"_clone",value:function(){return new e(this.data,this.getAttributes())}}],[{key:"fromJSON",value:function(t){return new e(t.data,t.attributes)}}]),e}(qo),Ni=function(){function a(r,e,n){if(w(this,a),this.textNode=r,e<0||e>r.offsetSize)throw new le.b("model-textproxy-wrong-offsetintext: Given offsetInText value is incorrect.",this);if(n<0||e+n>r.offsetSize)throw new le.b("model-textproxy-wrong-length: Given length value is incorrect.",this);this.data=r.data.substring(e,e+n),this.offsetInText=e}return _(a,[{key:"startOffset",get:function(){return this.textNode.startOffset!==null?this.textNode.startOffset+this.offsetInText:null}},{key:"offsetSize",get:function(){return this.data.length}},{key:"endOffset",get:function(){return this.startOffset!==null?this.startOffset+this.offsetSize:null}},{key:"isPartial",get:function(){return this.offsetSize!==this.textNode.offsetSize}},{key:"parent",get:function(){return this.textNode.parent}},{key:"root",get:function(){return this.textNode.root}},{key:"is",value:function(e){return e==="textProxy"||e==="model:textProxy"}},{key:"getPath",value:function(){var e=this.textNode.getPath();return e.length>0&&(e[e.length-1]+=this.offsetInText),e}},{key:"getAncestors",value:function(){for(var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{includeSelf:!1,parentFirst:!1},n=[],t=e.includeSelf?this:this.parent;t;)n[e.parentFirst?"push":"unshift"](t),t=t.parent;return n}},{key:"hasAttribute",value:function(e){return this.textNode.hasAttribute(e)}},{key:"getAttribute",value:function(e){return this.textNode.getAttribute(e)}},{key:"getAttributes",value:function(){return this.textNode.getAttributes()}},{key:"getAttributeKeys",value:function(){return this.textNode.getAttributeKeys()}}]),a}(),uo=function(){function a(r){w(this,a),this._nodes=[],r&&this._insertNodes(0,r)}return _(a,[{key:Symbol.iterator,value:function(){return this._nodes[Symbol.iterator]()}},{key:"length",get:function(){return this._nodes.length}},{key:"maxOffset",get:function(){return this._nodes.reduce(function(e,n){return e+n.offsetSize},0)}},{key:"getNode",value:function(e){return this._nodes[e]||null}},{key:"getNodeIndex",value:function(e){var n=this._nodes.indexOf(e);return n==-1?null:n}},{key:"getNodeStartOffset",value:function(e){var n=this.getNodeIndex(e);return n===null?null:this._nodes.slice(0,n).reduce(function(t,i){return t+i.offsetSize},0)}},{key:"indexToOffset",value:function(e){if(e==this._nodes.length)return this.maxOffset;var n=this._nodes[e];if(!n)throw new le.b("model-nodelist-index-out-of-bounds: Given index cannot be found in the node list.",this);return this.getNodeStartOffset(n)}},{key:"offsetToIndex",value:function(e){var n=0,t=p(this._nodes),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(e>=n&&e<n+o.offsetSize)return this.getNodeIndex(o);n+=o.offsetSize}}catch(s){t.e(s)}finally{t.f()}if(n!=e)throw new le.b("model-nodelist-offset-out-of-bounds: Given offset cannot be found in the node list.",this,{offset:e,nodeList:this});return this.length}},{key:"_insertNodes",value:function(e,n){var t,i=p(n),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(!(s instanceof qo))throw new le.b("model-nodelist-insertNodes-not-node: Trying to insert an object which is not a Node instance.",this)}}catch(l){i.e(l)}finally{i.f()}(t=this._nodes).splice.apply(t,[e,0].concat(R(n)))}},{key:"_removeNodes",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1;return this._nodes.splice(e,n)}},{key:"toJSON",value:function(){return this._nodes.map(function(e){return e.toJSON()})}}]),a}(),vr=function(a){O(e,a);var r=D(e);function e(n,t,i){var o;return w(this,e),o=r.call(this,t),o.name=n,o._children=new uo,i&&o._insertChild(0,i),o}return _(e,[{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return this.childCount===0}},{key:"is",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;return i?i===this.name&&(t==="element"||t==="model:element"):t==="element"||t==="model:element"||t===this.name||t==="model:"+this.name||t==="node"||t==="model:node"}},{key:"getChild",value:function(t){return this._children.getNode(t)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(t){return this._children.getNodeIndex(t)}},{key:"getChildStartOffset",value:function(t){return this._children.getNodeStartOffset(t)}},{key:"offsetToIndex",value:function(t){return this._children.offsetToIndex(t)}},{key:"getNodeByPath",value:function(t){var i=this,o=p(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;i=i.getChild(i.offsetToIndex(l))}}catch(c){o.e(c)}finally{o.f()}return i}},{key:"toJSON",value:function(){var t=b(x(e.prototype),"toJSON",this).call(this);if(t.name=this.name,this._children.length>0){t.children=[];var i=p(this._children),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;t.children.push(s.toJSON())}}catch(l){i.e(l)}finally{i.f()}}return t}},{key:"_clone",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,i=t?Array.from(this._children).map(function(o){return o._clone(!0)}):null;return new e(this.name,this.getAttributes(),i)}},{key:"_appendChild",value:function(t){this._insertChild(this.childCount,t)}},{key:"_insertChild",value:function(t,i){var o=function(u){return typeof u=="string"?[new fr(u)]:(Lr(u)||(u=[u]),Array.from(u).map(function(d){return typeof d=="string"?new fr(d):d instanceof Ni?new fr(d.data,d.getAttributes()):d}))}(i),s=p(o),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;c.parent!==null&&c._remove(),c.parent=this}}catch(u){s.e(u)}finally{s.f()}this._children._insertNodes(t,o)}},{key:"_removeChildren",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,o=this._children._removeNodes(t,i),s=p(o),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;c.parent=null}}catch(u){s.e(u)}finally{s.f()}return o}}],[{key:"fromJSON",value:function(t){var i=null;if(t.children){i=[];var o=p(t.children),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.name?i.push(e.fromJSON(l)):i.push(fr.fromJSON(l))}}catch(c){o.e(c)}finally{o.f()}}return new e(t.name,t.attributes,i)}}]),e}(qo),ea=function(){function a(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(w(this,a),!r.boundaries&&!r.startPosition)throw new le.b("model-tree-walker-no-start-position: Neither boundaries nor starting position have been defined.",null);var e=r.direction||"forward";if(e!="forward"&&e!="backward")throw new le.b("model-tree-walker-unknown-direction: Only `backward` and `forward` direction allowed.",r,{direction:e});this.direction=e,this.boundaries=r.boundaries||null,r.startPosition?this.position=r.startPosition.clone():this.position=Ze._createAt(this.boundaries[this.direction=="backward"?"end":"start"]),this.position.stickiness="toNone",this.singleCharacters=!!r.singleCharacters,this.shallow=!!r.shallow,this.ignoreElementEnd=!!r.ignoreElementEnd,this._boundaryStartParent=this.boundaries?this.boundaries.start.parent:null,this._boundaryEndParent=this.boundaries?this.boundaries.end.parent:null,this._visitedParent=this.position.parent}return _(a,[{key:Symbol.iterator,value:function(){return this}},{key:"skip",value:function(e){var n,t,i,o;do{var s;i=this.position,o=this._visitedParent,s=this.next(),n=s.done,t=s.value}while(!n&&e(t));n||(this.position=i,this._visitedParent=o)}},{key:"next",value:function(){return this.direction=="forward"?this._next():this._previous()}},{key:"_next",value:function(){var e=this.position,n=this.position.clone(),t=this._visitedParent;if(t.parent===null&&n.offset===t.maxOffset)return{done:!0};if(t===this._boundaryEndParent&&n.offset==this.boundaries.end.offset)return{done:!0};var i=n.parent,o=es(n,i),s=o||xu(n,i,o);if(s instanceof vr)return this.shallow?n.offset++:(n.path.push(0),this._visitedParent=s),this.position=n,Ma("elementStart",s,e,n,1);if(s instanceof fr){var l;if(this.singleCharacters)l=1;else{var c=s.endOffset;this._boundaryEndParent==t&&this.boundaries.end.offset<c&&(c=this.boundaries.end.offset),l=c-n.offset}var u=n.offset-s.startOffset,d=new Ni(s,u,l);return n.offset+=l,this.position=n,Ma("text",d,e,n,l)}return n.path.pop(),n.offset++,this.position=n,this._visitedParent=t.parent,this.ignoreElementEnd?this._next():Ma("elementEnd",t,e,n)}},{key:"_previous",value:function(){var e=this.position,n=this.position.clone(),t=this._visitedParent;if(t.parent===null&&n.offset===0)return{done:!0};if(t==this._boundaryStartParent&&n.offset==this.boundaries.start.offset)return{done:!0};var i=n.parent,o=es(n,i),s=o||Eu(n,i,o);if(s instanceof vr)return n.offset--,this.shallow?(this.position=n,Ma("elementStart",s,e,n,1)):(n.path.push(s.maxOffset),this.position=n,this._visitedParent=s,this.ignoreElementEnd?this._previous():Ma("elementEnd",s,e,n));if(s instanceof fr){var l;if(this.singleCharacters)l=1;else{var c=s.startOffset;this._boundaryStartParent==t&&this.boundaries.start.offset>c&&(c=this.boundaries.start.offset),l=n.offset-c}var u=n.offset-s.startOffset,d=new Ni(s,u-l,l);return n.offset-=l,this.position=n,Ma("text",d,e,n,l)}return n.path.pop(),this.position=n,this._visitedParent=t.parent,Ma("elementStart",t,e,n,1)}}]),a}();function Ma(a,r,e,n,t){return{done:!1,value:{type:a,item:r,previousPosition:e,nextPosition:n,length:t}}}var Ze=function(){function a(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"toNone";if(w(this,a),!r.is("element")&&!r.is("documentFragment"))throw new le.b("model-position-root-invalid: Position root invalid.",r);if(!(e instanceof Array)||e.length===0)throw new le.b("model-position-path-incorrect-format: Position path must be an array with at least one item.",r,{path:e});r.is("rootElement")?e=e.slice():(e=[].concat(R(r.getPath()),R(e)),r=r.root),this.root=r,this.path=e,this.stickiness=n}return _(a,[{key:"offset",get:function(){return this.path[this.path.length-1]},set:function(e){this.path[this.path.length-1]=e}},{key:"parent",get:function(){for(var e=this.root,n=0;n<this.path.length-1;n++)if(e=e.getChild(e.offsetToIndex(this.path[n])),!e)throw new le.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});if(e.is("text"))throw new le.b("model-position-path-incorrect: The position's path is incorrect.",this,{position:this});return e}},{key:"index",get:function(){return this.parent.offsetToIndex(this.offset)}},{key:"textNode",get:function(){return es(this,this.parent)}},{key:"nodeAfter",get:function(){var e=this.parent;return xu(this,e,es(this,e))}},{key:"nodeBefore",get:function(){var e=this.parent;return Eu(this,e,es(this,e))}},{key:"isAtStart",get:function(){return this.offset===0}},{key:"isAtEnd",get:function(){return this.offset==this.parent.maxOffset}},{key:"compareWith",value:function(e){if(this.root!=e.root)return"different";var n=ee(this.path,e.path);switch(n){case"same":return"same";case"prefix":return"before";case"extension":return"after";default:return this.path[n]<e.path[n]?"before":"after"}}},{key:"getLastMatchingPosition",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};n.startPosition=this;var t=new ea(n);return t.skip(e),t.position}},{key:"getParentPath",value:function(){return this.path.slice(0,-1)}},{key:"getAncestors",value:function(){var e=this.parent;return e.is("documentFragment")?[e]:e.getAncestors({includeSelf:!0})}},{key:"getCommonPath",value:function(e){if(this.root!=e.root)return[];var n=ee(this.path,e.path),t=typeof n=="string"?Math.min(this.path.length,e.path.length):n;return this.path.slice(0,t)}},{key:"getCommonAncestor",value:function(e){for(var n=this.getAncestors(),t=e.getAncestors(),i=0;n[i]==t[i]&&n[i];)i++;return i===0?null:n[i-1]}},{key:"getShiftedBy",value:function(e){var n=this.clone(),t=n.offset+e;return n.offset=t<0?0:t,n}},{key:"isAfter",value:function(e){return this.compareWith(e)=="after"}},{key:"isBefore",value:function(e){return this.compareWith(e)=="before"}},{key:"isEqual",value:function(e){return this.compareWith(e)=="same"}},{key:"isTouching",value:function(e){var n=null,t=null;switch(this.compareWith(e)){case"same":return!0;case"before":n=a._createAt(this),t=a._createAt(e);break;case"after":n=a._createAt(e),t=a._createAt(this);break;default:return!1}for(var i=n.parent;n.path.length+t.path.length;){if(n.isEqual(t))return!0;if(n.path.length>t.path.length){if(n.offset!==i.maxOffset)return!1;n.path=n.path.slice(0,-1),i=i.parent,n.offset++}else{if(t.offset!==0)return!1;t.path=t.path.slice(0,-1)}}}},{key:"is",value:function(e){return e==="position"||e==="model:position"}},{key:"hasSameParentAs",value:function(e){return this.root!==e.root?!1:ee(this.getParentPath(),e.getParentPath())=="same"}},{key:"getTransformedByOperation",value:function(e){var n;switch(e.type){case"insert":n=this._getTransformedByInsertOperation(e);break;case"move":case"remove":case"reinsert":n=this._getTransformedByMoveOperation(e);break;case"split":n=this._getTransformedBySplitOperation(e);break;case"merge":n=this._getTransformedByMergeOperation(e);break;default:n=a._createAt(this)}return n}},{key:"_getTransformedByInsertOperation",value:function(e){return this._getTransformedByInsertion(e.position,e.howMany)}},{key:"_getTransformedByMoveOperation",value:function(e){return this._getTransformedByMove(e.sourcePosition,e.targetPosition,e.howMany)}},{key:"_getTransformedBySplitOperation",value:function(e){var n=e.movedRange;return n.containsPosition(this)||n.start.isEqual(this)&&this.stickiness=="toNext"?this._getCombined(e.splitPosition,e.moveTargetPosition):e.graveyardPosition?this._getTransformedByMove(e.graveyardPosition,e.insertionPosition,1):this._getTransformedByInsertion(e.insertionPosition,1)}},{key:"_getTransformedByMergeOperation",value:function(e){var n=e.movedRange,t;return n.containsPosition(this)||n.start.isEqual(this)?(t=this._getCombined(e.sourcePosition,e.targetPosition),e.sourcePosition.isBefore(e.targetPosition)&&(t=t._getTransformedByDeletion(e.deletionPosition,1))):t=this.isEqual(e.deletionPosition)?a._createAt(e.deletionPosition):this._getTransformedByMove(e.deletionPosition,e.graveyardPosition,1),t}},{key:"_getTransformedByDeletion",value:function(e,n){var t=a._createAt(this);if(this.root!=e.root)return t;if(ee(e.getParentPath(),this.getParentPath())=="same"){if(e.offset<this.offset){if(e.offset+n>this.offset)return null;t.offset-=n}}else if(ee(e.getParentPath(),this.getParentPath())=="prefix"){var i=e.path.length-1;if(e.offset<=this.path[i]){if(e.offset+n>this.path[i])return null;t.path[i]-=n}}return t}},{key:"_getTransformedByInsertion",value:function(e,n){var t=a._createAt(this);if(this.root!=e.root)return t;if(ee(e.getParentPath(),this.getParentPath())=="same")(e.offset<this.offset||e.offset==this.offset&&this.stickiness!="toPrevious")&&(t.offset+=n);else if(ee(e.getParentPath(),this.getParentPath())=="prefix"){var i=e.path.length-1;e.offset<=this.path[i]&&(t.path[i]+=n)}return t}},{key:"_getTransformedByMove",value:function(e,n,t){if(n=n._getTransformedByDeletion(e,t),e.isEqual(n))return a._createAt(this);var i=this._getTransformedByDeletion(e,t);return i===null||e.isEqual(this)&&this.stickiness=="toNext"||e.getShiftedBy(t).isEqual(this)&&this.stickiness=="toPrevious"?this._getCombined(e,n):i._getTransformedByInsertion(n,t)}},{key:"_getCombined",value:function(e,n){var t=e.path.length-1,i=a._createAt(n);return i.stickiness=this.stickiness,i.offset=i.offset+this.path[t]-e.offset,i.path=[].concat(R(i.path),R(this.path.slice(t+1))),i}},{key:"toJSON",value:function(){return{root:this.root.toJSON(),path:Array.from(this.path),stickiness:this.stickiness}}},{key:"clone",value:function(){return new this.constructor(this.root,this.path,this.stickiness)}}],[{key:"_createAt",value:function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"toNone";if(e instanceof a)return new a(e.root,e.path,e.stickiness);{var i=e;if(n=="end")n=i.maxOffset;else{if(n=="before")return this._createBefore(i,t);if(n=="after")return this._createAfter(i,t);if(n!==0&&!n)throw new le.b("model-createPositionAt-offset-required: Model#createPositionAt() requires the offset when the first parameter is a model item.",[this,e])}if(!i.is("element")&&!i.is("documentFragment"))throw new le.b("model-position-parent-incorrect: Position parent have to be a element or document fragment.",[this,e]);var o=i.getPath();return o.push(n),new this(i.root,o,t)}}},{key:"_createAfter",value:function(e,n){if(!e.parent)throw new le.b("model-position-after-root: You cannot make a position after root.",[this,e],{root:e});return this._createAt(e.parent,e.endOffset,n)}},{key:"_createBefore",value:function(e,n){if(!e.parent)throw new le.b("model-position-before-root: You cannot make a position before root.",e,{root:e});return this._createAt(e.parent,e.startOffset,n)}},{key:"fromJSON",value:function(e,n){if(e.root==="$graveyard"){var t=new a(n.graveyard,e.path);return t.stickiness=e.stickiness,t}if(!n.getRoot(e.root))throw new le.b("model-position-fromjson-no-root: Cannot create position for document. Root with specified name does not exist.",n,{rootName:e.root});return new a(n.getRoot(e.root),e.path,e.stickiness)}}]),a}();function es(a,r){var e=r.getChild(r.offsetToIndex(a.offset));return e&&e.is("text")&&e.startOffset<a.offset?e:null}function xu(a,r,e){return e!==null?null:r.getChild(r.offsetToIndex(a.offset))}function Eu(a,r,e){return e!==null?null:r.getChild(r.offsetToIndex(a.offset)-1)}var He=function(){function a(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;w(this,a),this.start=Ze._createAt(r),this.end=e?Ze._createAt(e):Ze._createAt(r),this.start.stickiness=this.isCollapsed?"toNone":"toNext",this.end.stickiness=this.isCollapsed?"toNone":"toPrevious"}return _(a,[{key:Symbol.iterator,value:V.mark(function r(){return V.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(new ea({boundaries:this,ignoreElementEnd:!0}),"t0",1);case 1:case"end":return n.stop()}},r,this)})},{key:"isCollapsed",get:function(){return this.start.isEqual(this.end)}},{key:"isFlat",get:function(){return ee(this.start.getParentPath(),this.end.getParentPath())=="same"}},{key:"root",get:function(){return this.start.root}},{key:"containsPosition",value:function(e){return e.isAfter(this.start)&&e.isBefore(this.end)}},{key:"containsRange",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e.isCollapsed&&(n=!1);var t=this.containsPosition(e.start)||n&&this.start.isEqual(e.start),i=this.containsPosition(e.end)||n&&this.end.isEqual(e.end);return t&&i}},{key:"containsItem",value:function(e){var n=Ze._createBefore(e);return this.containsPosition(n)||this.start.isEqual(n)}},{key:"is",value:function(e){return e==="range"||e==="model:range"}},{key:"isEqual",value:function(e){return this.start.isEqual(e.start)&&this.end.isEqual(e.end)}},{key:"isIntersecting",value:function(e){return this.start.isBefore(e.end)&&this.end.isAfter(e.start)}},{key:"getDifference",value:function(e){var n=[];return this.isIntersecting(e)?(this.containsPosition(e.start)&&n.push(new a(this.start,e.start)),this.containsPosition(e.end)&&n.push(new a(e.end,this.end))):n.push(new a(this.start,this.end)),n}},{key:"getIntersection",value:function(e){if(this.isIntersecting(e)){var n=this.start,t=this.end;return this.containsPosition(e.start)&&(n=e.start),this.containsPosition(e.end)&&(t=e.end),new a(n,t)}return null}},{key:"getMinimalFlatRanges",value:function(){for(var e=[],n=this.start.getCommonPath(this.end).length,t=Ze._createAt(this.start),i=t.parent;t.path.length>n+1;){var o=i.maxOffset-t.offset;o!==0&&e.push(new a(t,t.getShiftedBy(o))),t.path=t.path.slice(0,-1),t.offset++,i=i.parent}for(;t.path.length<=this.end.path.length;){var s=this.end.path[t.path.length-1],l=s-t.offset;l!==0&&e.push(new a(t,t.getShiftedBy(l))),t.offset=s,t.path.push(0)}return e}},{key:"getWalker",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.boundaries=this,new ea(e)}},{key:"getItems",value:V.mark(function r(){var e,n,t,i,o,s=arguments;return V.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:e=s.length>0&&s[0]!==void 0?s[0]:{},e.boundaries=this,e.ignoreElementEnd=!0,n=new ea(e),t=p(n),c.prev=4,t.s();case 6:if((i=t.n()).done){c.next=12;break}return o=i.value,c.next=10,o.item;case 10:c.next=6;break;case 12:c.next=17;break;case 14:c.prev=14,c.t0=c.catch(4),t.e(c.t0);case 17:return c.prev=17,t.f(),c.finish(17);case 20:case"end":return c.stop()}},r,this,[[4,14,17,20]])})},{key:"getPositions",value:V.mark(function r(){var e,n,t,i,o,s=arguments;return V.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return e=s.length>0&&s[0]!==void 0?s[0]:{},e.boundaries=this,n=new ea(e),c.next=5,n.position;case 5:t=p(n),c.prev=6,t.s();case 8:if((i=t.n()).done){c.next=14;break}return o=i.value,c.next=12,o.nextPosition;case 12:c.next=8;break;case 14:c.next=19;break;case 16:c.prev=16,c.t0=c.catch(6),t.e(c.t0);case 19:return c.prev=19,t.f(),c.finish(19);case 22:case"end":return c.stop()}},r,this,[[6,16,19,22]])})},{key:"getTransformedByOperation",value:function(e){switch(e.type){case"insert":return this._getTransformedByInsertOperation(e);case"move":case"remove":case"reinsert":return this._getTransformedByMoveOperation(e);case"split":return[this._getTransformedBySplitOperation(e)];case"merge":return[this._getTransformedByMergeOperation(e)]}return[new a(this.start,this.end)]}},{key:"getTransformedByOperations",value:function(e){var n=[new a(this.start,this.end)],t=p(e),i;try{for(t.s();!(i=t.n()).done;)for(var o=i.value,s=0;s<n.length;s++){var l=n[s].getTransformedByOperation(o);n.splice.apply(n,[s,1].concat(R(l))),s+=l.length-1}}catch(v){t.e(v)}finally{t.f()}for(var c=0;c<n.length;c++)for(var u=n[c],d=c+1;d<n.length;d++){var h=n[d];(u.containsRange(h)||h.containsRange(u)||u.isEqual(h))&&n.splice(d,1)}return n}},{key:"getCommonAncestor",value:function(){return this.start.getCommonAncestor(this.end)}},{key:"getContainedElement",value:function(){if(this.isCollapsed)return null;var e=this.start.nodeAfter,n=this.end.nodeBefore;return e&&e.is("element")&&e===n?e:null}},{key:"toJSON",value:function(){return{start:this.start.toJSON(),end:this.end.toJSON()}}},{key:"clone",value:function(){return new this.constructor(this.start,this.end)}},{key:"_getTransformedByInsertOperation",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return this._getTransformedByInsertion(e.position,e.howMany,n)}},{key:"_getTransformedByMoveOperation",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,t=e.sourcePosition,i=e.howMany,o=e.targetPosition;return this._getTransformedByMove(t,o,i,n)}},{key:"_getTransformedBySplitOperation",value:function(e){var n=this.start._getTransformedBySplitOperation(e),t=this.end._getTransformedBySplitOperation(e);return this.end.isEqual(e.insertionPosition)&&(t=this.end.getShiftedBy(1)),n.root!=t.root&&(t=this.end.getShiftedBy(-1)),new a(n,t)}},{key:"_getTransformedByMergeOperation",value:function(e){if(this.start.isEqual(e.targetPosition)&&this.end.isEqual(e.deletionPosition))return new a(this.start);var n=this.start._getTransformedByMergeOperation(e),t=this.end._getTransformedByMergeOperation(e);return n.root!=t.root&&(t=this.end.getShiftedBy(-1)),n.isAfter(t)?(e.sourcePosition.isBefore(e.targetPosition)?(n=Ze._createAt(t),n.offset=0):(e.deletionPosition.isEqual(n)||(t=e.deletionPosition),n=e.targetPosition),new a(n,t)):new a(n,t)}},{key:"_getTransformedByInsertion",value:function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;if(t&&this.containsPosition(e))return[new a(this.start,e),new a(e.getShiftedBy(n),this.end._getTransformedByInsertion(e,n))];{var i=new a(this.start,this.end);return i.start=i.start._getTransformedByInsertion(e,n),i.end=i.end._getTransformedByInsertion(e,n),[i]}}},{key:"_getTransformedByMove",value:function(e,n,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(this.isCollapsed){var o=this.start._getTransformedByMove(e,n,t);return[new a(o)]}var s=a._createFromPositionAndShift(e,t),l=n._getTransformedByDeletion(e,t);if(this.containsPosition(n)&&!i&&(s.containsPosition(this.start)||s.containsPosition(this.end))){var c=this.start._getTransformedByMove(e,n,t),u=this.end._getTransformedByMove(e,n,t);return[new a(c,u)]}var d,h=this.getDifference(s),v=null,m=this.getIntersection(s);if(h.length==1?v=new a(h[0].start._getTransformedByDeletion(e,t),h[0].end._getTransformedByDeletion(e,t)):h.length==2&&(v=new a(this.start,this.end._getTransformedByDeletion(e,t))),d=v?v._getTransformedByInsertion(l,t,m!==null||i):[],m){var k=new a(m.start._getCombined(s.start,l),m.end._getCombined(s.start,l));d.length==2?d.splice(1,0,k):d.push(k)}return d}},{key:"_getTransformedByDeletion",value:function(e,n){var t=this.start._getTransformedByDeletion(e,n),i=this.end._getTransformedByDeletion(e,n);return t==null&&i==null?null:(t==null&&(t=e),i==null&&(i=e),new a(t,i))}}],[{key:"_createFromPositionAndShift",value:function(e,n){var t=e,i=e.getShiftedBy(n);return n>0?new this(t,i):new this(i,t)}},{key:"_createIn",value:function(e){return new this(Ze._createAt(e,0),Ze._createAt(e,e.maxOffset))}},{key:"_createOn",value:function(e){return this._createFromPositionAndShift(Ze._createBefore(e),e.offsetSize)}},{key:"_createFromRanges",value:function(e){if(e.length===0)throw new le.b("range-create-from-ranges-empty-array: At least one range has to be passed.",null);if(e.length==1)return e[0].clone();var n=e[0];e.sort(function(l,c){return l.start.isAfter(c.start)?1:-1});var t=e.indexOf(n),i=new this(n.start,n.end);if(t>0)for(var o=t-1;e[o].end.isEqual(i.start);o++)i.start=Ze._createAt(e[o].start);for(var s=t+1;s<e.length&&e[s].start.isEqual(i.end);s++)i.end=Ze._createAt(e[s].end);return i}},{key:"fromJSON",value:function(e,n){return new this(Ze.fromJSON(e.start,n),Ze.fromJSON(e.end,n))}}]),a}(),ic=function(){function a(){var r=this;w(this,a),this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._viewToModelLengthCallbacks=new Map,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set,this.on("modelToViewPosition",function(e,n){if(!n.viewPosition){var t=r._modelToViewMapping.get(n.modelPosition.parent);n.viewPosition=r._findPositionIn(t,n.modelPosition.offset)}},{priority:"low"}),this.on("viewToModelPosition",function(e,n){if(!n.modelPosition){var t=r.findMappedViewAncestor(n.viewPosition),i=r._viewToModelMapping.get(t),o=r._toModelOffset(n.viewPosition.parent,n.viewPosition.offset,t);n.modelPosition=Ze._createAt(i,o)}},{priority:"low"})}return _(a,[{key:"bindElements",value:function(e,n){this._modelToViewMapping.set(e,n),this._viewToModelMapping.set(n,e)}},{key:"unbindViewElement",value:function(e){var n=this.toModelElement(e);if(this._viewToModelMapping.delete(e),this._elementToMarkerNames.has(e)){var t=p(this._elementToMarkerNames.get(e)),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._unboundMarkerNames.add(o)}}catch(s){t.e(s)}finally{t.f()}}this._modelToViewMapping.get(n)==e&&this._modelToViewMapping.delete(n)}},{key:"unbindModelElement",value:function(e){var n=this.toViewElement(e);this._modelToViewMapping.delete(e),this._viewToModelMapping.get(n)==e&&this._viewToModelMapping.delete(n)}},{key:"bindElementToMarker",value:function(e,n){var t=this._markerNameToElements.get(n)||new Set;t.add(e);var i=this._elementToMarkerNames.get(e)||new Set;i.add(n),this._markerNameToElements.set(n,t),this._elementToMarkerNames.set(e,i)}},{key:"unbindElementFromMarkerName",value:function(e,n){var t=this._markerNameToElements.get(n);t&&(t.delete(e),t.size==0&&this._markerNameToElements.delete(n));var i=this._elementToMarkerNames.get(e);i&&(i.delete(n),i.size==0&&this._elementToMarkerNames.delete(e))}},{key:"flushUnboundMarkerNames",value:function(){var e=Array.from(this._unboundMarkerNames);return this._unboundMarkerNames.clear(),e}},{key:"clearBindings",value:function(){this._modelToViewMapping=new WeakMap,this._viewToModelMapping=new WeakMap,this._markerNameToElements=new Map,this._elementToMarkerNames=new Map,this._unboundMarkerNames=new Set}},{key:"toModelElement",value:function(e){return this._viewToModelMapping.get(e)}},{key:"toViewElement",value:function(e){return this._modelToViewMapping.get(e)}},{key:"toModelRange",value:function(e){return new He(this.toModelPosition(e.start),this.toModelPosition(e.end))}},{key:"toViewRange",value:function(e){return new Cn(this.toViewPosition(e.start),this.toViewPosition(e.end))}},{key:"toModelPosition",value:function(e){var n={viewPosition:e,mapper:this};return this.fire("viewToModelPosition",n),n.modelPosition}},{key:"toViewPosition",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{isPhantom:!1},t={modelPosition:e,mapper:this,isPhantom:n.isPhantom};return this.fire("modelToViewPosition",t),t.viewPosition}},{key:"markerNameToElements",value:function(e){var n=this._markerNameToElements.get(e);if(!n)return null;var t=new Set,i=p(n),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(s.is("attributeElement")){var l=p(s.getElementsWithSameId()),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;t.add(u)}}catch(d){l.e(d)}finally{l.f()}}else t.add(s)}}catch(d){i.e(d)}finally{i.f()}return t}},{key:"registerViewToModelLength",value:function(e,n){this._viewToModelLengthCallbacks.set(e,n)}},{key:"findMappedViewAncestor",value:function(e){for(var n=e.parent;!this._viewToModelMapping.has(n);)n=n.parent;return n}},{key:"_toModelOffset",value:function(e,n,t){if(t!=e)return this._toModelOffset(e.parent,e.index,t)+this._toModelOffset(e,n,e);if(e.is("text"))return n;for(var i=0,o=0;o<n;o++)i+=this.getModelLength(e.getChild(o));return i}},{key:"getModelLength",value:function(e){if(this._viewToModelLengthCallbacks.get(e.name))return this._viewToModelLengthCallbacks.get(e.name)(e);if(this._viewToModelMapping.has(e))return 1;if(e.is("text"))return e.data.length;if(e.is("uiElement"))return 0;{var n=0,t=p(e.getChildren()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;n+=this.getModelLength(o)}}catch(s){t.e(s)}finally{t.f()}return n}}},{key:"_findPositionIn",value:function(e,n){var t,i=0,o=0,s=0;if(e.is("text"))return new bt(e,n);for(;o<n;)t=e.getChild(s),i=this.getModelLength(t),o+=i,s++;return o==n?this._moveViewPositionToTextNode(new bt(e,s)):this._findPositionIn(t,n-(o-i))}},{key:"_moveViewPositionToTextNode",value:function(e){var n=e.nodeBefore,t=e.nodeAfter;return n instanceof Ue?new bt(n,n.data.length):t instanceof Ue?new bt(t,0):e}}]),a}();tn(ic,Gn);var Us=function(){function a(){w(this,a),this._consumable=new Map,this._textProxyRegistry=new Map}return _(a,[{key:"add",value:function(e,n){n=Ws(n),e instanceof Ni&&(e=this._getSymbolForTextProxy(e)),this._consumable.has(e)||this._consumable.set(e,new Map),this._consumable.get(e).set(n,!0)}},{key:"consume",value:function(e,n){return n=Ws(n),e instanceof Ni&&(e=this._getSymbolForTextProxy(e)),!!this.test(e,n)&&(this._consumable.get(e).set(n,!1),!0)}},{key:"test",value:function(e,n){n=Ws(n),e instanceof Ni&&(e=this._getSymbolForTextProxy(e));var t=this._consumable.get(e);if(t===void 0)return null;var i=t.get(n);return i===void 0?null:i}},{key:"revert",value:function(e,n){n=Ws(n),e instanceof Ni&&(e=this._getSymbolForTextProxy(e));var t=this.test(e,n);return t===!1?(this._consumable.get(e).set(n,!0),!0):t!==!0&&null}},{key:"_getSymbolForTextProxy",value:function(e){var n=null,t=this._textProxyRegistry.get(e.startOffset);if(t){var i=t.get(e.endOffset);i&&(n=i.get(e.parent))}return n||(n=this._addSymbolForTextProxy(e.startOffset,e.endOffset,e.parent)),n}},{key:"_addSymbolForTextProxy",value:function(e,n,t){var i=Symbol("textProxySymbol"),o,s;return o=this._textProxyRegistry.get(e),o||(o=new Map,this._textProxyRegistry.set(e,o)),s=o.get(n),s||(s=new Map,o.set(n,s)),s.set(t,i),i}}]),a}();function Ws(a){var r=a.split(":");return r.length>1?r[0]+":"+r[1]:r[0]}var ac=function(){function a(r){w(this,a),this.conversionApi=fa({dispatcher:this},r)}return _(a,[{key:"convertChanges",value:function(e,n,t){var i=p(e.getMarkersToRemove()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;this.convertMarkerRemove(s.name,s.range,t)}}catch(U){i.e(U)}finally{i.f()}var l=p(e.getChanges()),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;u.type=="insert"?this.convertInsert(He._createFromPositionAndShift(u.position,u.length),t):u.type=="remove"?this.convertRemove(u.position,u.length,u.name,t):this.convertAttribute(u.range,u.attributeKey,u.attributeOldValue,u.attributeNewValue,t)}}catch(U){l.e(U)}finally{l.f()}var d=p(this.conversionApi.mapper.flushUnboundMarkerNames()),h;try{for(d.s();!(h=d.n()).done;){var v=h.value,m=n.get(v).getRange();this.convertMarkerRemove(v,m,t),this.convertMarkerAdd(v,m,t)}}catch(U){d.e(U)}finally{d.f()}var k=p(e.getMarkersToAdd()),E;try{for(k.s();!(E=k.n()).done;){var P=E.value;this.convertMarkerAdd(P.name,P.range,t)}}catch(U){k.e(U)}finally{k.f()}}},{key:"convertInsert",value:function(e,n){this.conversionApi.writer=n,this.conversionApi.consumable=this._createInsertConsumable(e);var t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=o.item,l={item:s,range:He._createFromPositionAndShift(o.previousPosition,o.length)};this._testAndFire("insert",l);var c=p(s.getAttributeKeys()),u;try{for(c.s();!(u=c.n()).done;){var d=u.value;l.attributeKey=d,l.attributeOldValue=null,l.attributeNewValue=s.getAttribute(d),this._testAndFire("attribute:"+d,l)}}catch(h){c.e(h)}finally{c.f()}}}catch(h){t.e(h)}finally{t.f()}this._clearConversionApi()}},{key:"convertRemove",value:function(e,n,t,i){this.conversionApi.writer=i,this.fire("remove:"+t,{position:e,length:n},this.conversionApi),this._clearConversionApi()}},{key:"convertAttribute",value:function(e,n,t,i,o){this.conversionApi.writer=o,this.conversionApi.consumable=this._createConsumableForRange(e,"attribute:"+n);var s=p(e),l;try{for(s.s();!(l=s.n()).done;){var c=l.value,u={item:c.item,range:He._createFromPositionAndShift(c.previousPosition,c.length),attributeKey:n,attributeOldValue:t,attributeNewValue:i};this._testAndFire("attribute:"+n,u)}}catch(d){s.e(d)}finally{s.f()}this._clearConversionApi()}},{key:"convertSelection",value:function(e,n,t){var i=Array.from(n.getMarkersAtPosition(e.getFirstPosition()));if(this.conversionApi.writer=t,this.conversionApi.consumable=this._createSelectionConsumable(e,i),this.fire("selection",{selection:e},this.conversionApi),e.isCollapsed){var o=p(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,c=l.getRange();if(!!wv(e.getFirstPosition(),l,this.conversionApi.mapper)){var u={item:e,markerName:l.name,markerRange:c};this.conversionApi.consumable.test(e,"addMarker:"+l.name)&&this.fire("addMarker:"+l.name,u,this.conversionApi)}}}catch(k){o.e(k)}finally{o.f()}var d=p(e.getAttributeKeys()),h;try{for(d.s();!(h=d.n()).done;){var v=h.value,m={item:e,range:e.getFirstRange(),attributeKey:v,attributeOldValue:null,attributeNewValue:e.getAttribute(v)};this.conversionApi.consumable.test(e,"attribute:"+m.attributeKey)&&this.fire("attribute:"+m.attributeKey+":$text",m,this.conversionApi)}}catch(k){d.e(k)}finally{d.f()}this._clearConversionApi()}}},{key:"convertMarkerAdd",value:function(e,n,t){if(!(!n.root.document||n.root.rootName=="$graveyard")){this.conversionApi.writer=t;var i="addMarker:"+e,o=new Us;if(o.add(n,i),this.conversionApi.consumable=o,this.fire(i,{markerName:e,markerRange:n},this.conversionApi),o.test(n,i)){this.conversionApi.consumable=this._createConsumableForRange(n,i);var s=p(n.getItems()),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;if(!!this.conversionApi.consumable.test(c,i)){var u={item:c,range:He._createOn(c),markerName:e,markerRange:n};this.fire(i,u,this.conversionApi)}}}catch(d){s.e(d)}finally{s.f()}this._clearConversionApi()}}}},{key:"convertMarkerRemove",value:function(e,n,t){n.root.document&&n.root.rootName!="$graveyard"&&(this.conversionApi.writer=t,this.fire("removeMarker:"+e,{markerName:e,markerRange:n},this.conversionApi),this._clearConversionApi())}},{key:"_createInsertConsumable",value:function(e){var n=new Us,t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=o.item;n.add(s,"insert");var l=p(s.getAttributeKeys()),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;n.add(s,"attribute:"+u)}}catch(d){l.e(d)}finally{l.f()}}}catch(d){t.e(d)}finally{t.f()}return n}},{key:"_createConsumableForRange",value:function(e,n){var t=new Us,i=p(e.getItems()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;t.add(s,n)}}catch(l){i.e(l)}finally{i.f()}return t}},{key:"_createSelectionConsumable",value:function(e,n){var t=new Us;t.add(e,"selection");var i=p(n),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;t.add(e,"addMarker:"+s.name)}}catch(d){i.e(d)}finally{i.f()}var l=p(e.getAttributeKeys()),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;t.add(e,"attribute:"+u)}}catch(d){l.e(d)}finally{l.f()}return t}},{key:"_testAndFire",value:function(e,n){if(!!this.conversionApi.consumable.test(n.item,e)){var t=n.item.name||"$text";this.fire(e+":"+t,n,this.conversionApi)}}},{key:"_clearConversionApi",value:function(){delete this.conversionApi.writer,delete this.conversionApi.consumable}}]),a}();function wv(a,r,e){var n=r.getRange(),t=Array.from(a.getAncestors());return t.shift(),t.reverse(),!t.some(function(i){if(n.containsItem(i))return!!e.toViewElement(i).getCustomProperty("addHighlight")})}tn(ac,Gn);var pa=function(){function a(r,e,n){w(this,a),this._lastRangeBackward=!1,this._ranges=[],this._attrs=new Map,r&&this.setTo(r,e,n)}return _(a,[{key:"anchor",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.end:e.start}return null}},{key:"focus",get:function(){if(this._ranges.length>0){var e=this._ranges[this._ranges.length-1];return this._lastRangeBackward?e.start:e.end}return null}},{key:"isCollapsed",get:function(){return this._ranges.length===1&&this._ranges[0].isCollapsed}},{key:"rangeCount",get:function(){return this._ranges.length}},{key:"isBackward",get:function(){return!this.isCollapsed&&this._lastRangeBackward}},{key:"isEqual",value:function(e){if(this.rangeCount!=e.rangeCount)return!1;if(this.rangeCount===0)return!0;if(!this.anchor.isEqual(e.anchor)||!this.focus.isEqual(e.focus))return!1;var n=p(this._ranges),t;try{for(n.s();!(t=n.n()).done;){var i=t.value,o=!1,s=p(e._ranges),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;if(i.isEqual(c)){o=!0;break}}}catch(u){s.e(u)}finally{s.f()}if(!o)return!1}}catch(u){n.e(u)}finally{n.f()}return!0}},{key:"getRanges",value:V.mark(function r(){var e,n,t;return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=p(this._ranges),o.prev=1,e.s();case 3:if((n=e.n()).done){o.next=9;break}return t=n.value,o.next=7,new He(t.start,t.end);case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),e.e(o.t0);case 14:return o.prev=14,e.f(),o.finish(14);case 17:case"end":return o.stop()}},r,this,[[1,11,14,17]])})},{key:"getFirstRange",value:function(){var e=null,n=p(this._ranges),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;e&&!i.start.isBefore(e.start)||(e=i)}}catch(o){n.e(o)}finally{n.f()}return e?new He(e.start,e.end):null}},{key:"getLastRange",value:function(){var e=null,n=p(this._ranges),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;e&&!i.end.isAfter(e.end)||(e=i)}}catch(o){n.e(o)}finally{n.f()}return e?new He(e.start,e.end):null}},{key:"getFirstPosition",value:function(){var e=this.getFirstRange();return e?e.start.clone():null}},{key:"getLastPosition",value:function(){var e=this.getLastRange();return e?e.end.clone():null}},{key:"setTo",value:function(e,n,t){if(e===null)this._setRanges([]);else if(e instanceof a)this._setRanges(e.getRanges(),e.isBackward);else if(e&&typeof e.getRanges=="function")this._setRanges(e.getRanges(),e.isBackward);else if(e instanceof He)this._setRanges([e],!!n&&!!n.backward);else if(e instanceof Ze)this._setRanges([new He(e)]);else if(e instanceof qo){var i=!!t&&!!t.backward,o;if(n=="in")o=He._createIn(e);else if(n=="on")o=He._createOn(e);else{if(n===void 0)throw new le.b("model-selection-setTo-required-second-parameter: selection.setTo requires the second parameter when the first parameter is a node.",[this,e]);o=new He(Ze._createAt(e,n))}this._setRanges([o],i)}else{if(!Lr(e))throw new le.b("model-selection-setTo-not-selectable: Cannot set the selection to the given place.",[this,e]);this._setRanges(e,n&&!!n.backward)}}},{key:"_setRanges",value:function(e){var n=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,i=(e=Array.from(e)).some(function(c){if(!(c instanceof He))throw new le.b("model-selection-set-ranges-not-range: Selection range set to an object that is not an instance of model.Range.",[n,e]);return n._ranges.every(function(u){return!u.isEqual(c)})});if(e.length!==this._ranges.length||i){this._removeAllRanges();var o=p(e),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;this._pushRange(l)}}catch(c){o.e(c)}finally{o.f()}this._lastRangeBackward=!!t,this.fire("change:range",{directChange:!0})}}},{key:"setFocus",value:function(e,n){if(this.anchor===null)throw new le.b("model-selection-setFocus-no-ranges: Cannot set selection focus if there are no ranges in selection.",[this,e]);var t=Ze._createAt(e,n);if(t.compareWith(this.focus)!="same"){var i=this.anchor;this._ranges.length&&this._popRange(),t.compareWith(i)=="before"?(this._pushRange(new He(t,i)),this._lastRangeBackward=!0):(this._pushRange(new He(i,t)),this._lastRangeBackward=!1),this.fire("change:range",{directChange:!0})}}},{key:"getAttribute",value:function(e){return this._attrs.get(e)}},{key:"getAttributes",value:function(){return this._attrs.entries()}},{key:"getAttributeKeys",value:function(){return this._attrs.keys()}},{key:"hasAttribute",value:function(e){return this._attrs.has(e)}},{key:"removeAttribute",value:function(e){this.hasAttribute(e)&&(this._attrs.delete(e),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"setAttribute",value:function(e,n){this.getAttribute(e)!==n&&(this._attrs.set(e,n),this.fire("change:attribute",{attributeKeys:[e],directChange:!0}))}},{key:"getSelectedElement",value:function(){return this.rangeCount!==1?null:this.getFirstRange().getContainedElement()}},{key:"is",value:function(e){return e==="selection"||e==="model:selection"}},{key:"getSelectedBlocks",value:V.mark(function r(){var e,n,t,i,o,s,l,c,u,d;return V.wrap(function(v){for(;;)switch(v.prev=v.next){case 0:e=new WeakSet,n=p(this.getRanges()),v.prev=2,n.s();case 4:if((t=n.n()).done){v.next=38;break}if(i=t.value,o=Ou(i.start,e),v.t0=o&&oc(o,i),!v.t0){v.next=11;break}return v.next=11,o;case 11:s=p(i.getWalker()),v.prev=12,s.s();case 14:if((l=s.n()).done){v.next=23;break}if(c=l.value,u=c.item,v.t1=c.type=="elementEnd"&&_v(u,e,i),!v.t1){v.next=21;break}return v.next=21,u;case 21:v.next=14;break;case 23:v.next=28;break;case 25:v.prev=25,v.t2=v.catch(12),s.e(v.t2);case 28:return v.prev=28,s.f(),v.finish(28);case 31:if(d=Ou(i.end,e),v.t3=d&&!i.end.isTouching(Ze._createAt(d,0))&&oc(d,i),!v.t3){v.next=36;break}return v.next=36,d;case 36:v.next=4;break;case 38:v.next=43;break;case 40:v.prev=40,v.t4=v.catch(2),n.e(v.t4);case 43:return v.prev=43,n.f(),v.finish(43);case 46:case"end":return v.stop()}},r,this,[[2,40,43,46],[12,25,28,31]])})},{key:"containsEntireContent",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.anchor.root,n=Ze._createAt(e,0),t=Ze._createAt(e,"end");return n.isTouching(this.getFirstPosition())&&t.isTouching(this.getLastPosition())}},{key:"_pushRange",value:function(e){this._checkRange(e),this._ranges.push(new He(e.start,e.end))}},{key:"_checkRange",value:function(e){for(var n=0;n<this._ranges.length;n++)if(e.isIntersecting(this._ranges[n]))throw new le.b("model-selection-range-intersects: Trying to add a range that intersects with another range in the selection.",[this,e],{addedRange:e,intersectingRange:this._ranges[n]})}},{key:"_removeAllRanges",value:function(){for(;this._ranges.length>0;)this._popRange()}},{key:"_popRange",value:function(){this._ranges.pop()}}]),a}();function Cu(a,r){return!r.has(a)&&(r.add(a),a.root.document.model.schema.isBlock(a)&&a.parent)}function _v(a,r,e){return Cu(a,r)&&oc(a,e)}function Ou(a,r){var e=a.parent.root.document.model.schema,n=a.parent.getAncestors({parentFirst:!0,includeSelf:!0}),t=!1,i=n.find(function(o){return!t&&(t=e.isLimit(o),!t&&Cu(o,r))});return n.forEach(function(o){return r.add(o)}),i}function oc(a,r){var e=function(n){for(var t=n.root.document.model.schema,i=n.parent;i;){if(t.isBlock(i))return i;i=i.parent}}(a);return e?!r.containsRange(He._createOn(e),!0):!0}tn(pa,Gn);var fo=function(a){O(e,a);var r=D(e);function e(n,t){var i;return w(this,e),i=r.call(this,n,t),xv.call(j(i)),i}return _(e,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(t){return t==="liveRange"||t==="model:liveRange"||t=="range"||t==="model:range"}},{key:"toRange",value:function(){return new He(this.start,this.end)}}],[{key:"fromRange",value:function(t){return new e(t.start,t.end)}}]),e}(He);function xv(){var a=this;this.listenTo(this.root.document.model,"applyOperation",function(r,e){var n=e[0];n.isDocumentOperation&&Ev.call(a,n)},{priority:"low"})}function Ev(a){var r=this.getTransformedByOperation(a),e=He._createFromRanges(r),n=!e.isEqual(this),t=function(s,l){switch(l.type){case"insert":return s.containsPosition(l.position);case"move":case"remove":case"reinsert":case"merge":return s.containsPosition(l.sourcePosition)||s.start.isEqual(l.sourcePosition)||s.containsPosition(l.targetPosition);case"split":return s.containsPosition(l.splitPosition)||s.containsPosition(l.insertionPosition)}return!1}(this,a),i=null;if(n){e.root.rootName=="$graveyard"&&(i=a.type=="remove"?a.sourcePosition:a.deletionPosition);var o=this.toRange();this.start=e.start,this.end=e.end,this.fire("change:range",o,{deletionPosition:i})}else t&&this.fire("change:content",this.toRange(),{deletionPosition:i})}tn(fo,Gn);var Ai=function(){function a(r){w(this,a),this._selection=new Cv(r),this._selection.delegate("change:range").to(this),this._selection.delegate("change:attribute").to(this),this._selection.delegate("change:marker").to(this)}return _(a,[{key:"isCollapsed",get:function(){return this._selection.isCollapsed}},{key:"anchor",get:function(){return this._selection.anchor}},{key:"focus",get:function(){return this._selection.focus}},{key:"rangeCount",get:function(){return this._selection.rangeCount}},{key:"hasOwnRange",get:function(){return this._selection.hasOwnRange}},{key:"isBackward",get:function(){return this._selection.isBackward}},{key:"isGravityOverridden",get:function(){return this._selection.isGravityOverridden}},{key:"markers",get:function(){return this._selection.markers}},{key:"_ranges",get:function(){return this._selection._ranges}},{key:"getRanges",value:function(){return this._selection.getRanges()}},{key:"getFirstPosition",value:function(){return this._selection.getFirstPosition()}},{key:"getLastPosition",value:function(){return this._selection.getLastPosition()}},{key:"getFirstRange",value:function(){return this._selection.getFirstRange()}},{key:"getLastRange",value:function(){return this._selection.getLastRange()}},{key:"getSelectedBlocks",value:function(){return this._selection.getSelectedBlocks()}},{key:"getSelectedElement",value:function(){return this._selection.getSelectedElement()}},{key:"containsEntireContent",value:function(e){return this._selection.containsEntireContent(e)}},{key:"destroy",value:function(){this._selection.destroy()}},{key:"getAttributeKeys",value:function(){return this._selection.getAttributeKeys()}},{key:"getAttributes",value:function(){return this._selection.getAttributes()}},{key:"getAttribute",value:function(e){return this._selection.getAttribute(e)}},{key:"hasAttribute",value:function(e){return this._selection.hasAttribute(e)}},{key:"refresh",value:function(){this._selection._updateMarkers(),this._selection._updateAttributes(!1)}},{key:"is",value:function(e){return e==="selection"||e=="model:selection"||e=="documentSelection"||e=="model:documentSelection"}},{key:"_setFocus",value:function(e,n){this._selection.setFocus(e,n)}},{key:"_setTo",value:function(e,n,t){this._selection.setTo(e,n,t)}},{key:"_setAttribute",value:function(e,n){this._selection.setAttribute(e,n)}},{key:"_removeAttribute",value:function(e){this._selection.removeAttribute(e)}},{key:"_getStoredAttributes",value:function(){return this._selection._getStoredAttributes()}},{key:"_overrideGravity",value:function(){return this._selection.overrideGravity()}},{key:"_restoreGravity",value:function(e){this._selection.restoreGravity(e)}}],[{key:"_getStoreAttributeKey",value:function(e){return"selection:"+e}},{key:"_isStoreAttributeKey",value:function(e){return e.startsWith("selection:")}}]),a}();tn(Ai,Gn);var Cv=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this),t.markers=new Tr({idProperty:"name"}),t._model=n.model,t._document=n,t._attributePriority=new Map,t._fixGraveyardRangesData=[],t._hasChangedRange=!1,t._overriddenGravityRegister=new Set,t.listenTo(t._model,"applyOperation",function(i,o){var s=o[0];if(s.isDocumentOperation&&s.type!="marker"&&s.type!="rename"&&s.type!="noop"){for(;t._fixGraveyardRangesData.length;){var l=t._fixGraveyardRangesData.shift(),c=l.liveRange,u=l.sourcePosition;t._fixGraveyardSelection(c,u)}t._hasChangedRange&&(t._hasChangedRange=!1,t.fire("change:range",{directChange:!1}))}},{priority:"lowest"}),t.on("change:range",function(){var i=p(t.getRanges()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(!t._document._validateSelectionRange(s))throw new le.b("document-selection-wrong-position: Range from document selection starts or ends at incorrect position.",j(t),{range:s})}}catch(l){i.e(l)}finally{i.f()}}),t.listenTo(t._model.markers,"update",function(){return t._updateMarkers()}),t.listenTo(t._document,"change",function(i,o){(function(s,l){var c=s.document.differ,u=p(c.getChanges()),d;try{var h=function(){var k=d.value;if(k.type!="insert")return"continue";var E=k.position.parent;k.length===E.maxOffset&&s.enqueueChange(l,function(P){var U=Array.from(E.getAttributeKeys()).filter(function(ce){return ce.startsWith("selection:")}),H=p(U),G;try{for(H.s();!(G=H.n()).done;){var Z=G.value;P.removeAttribute(Z,E)}}catch(ce){H.e(ce)}finally{H.f()}})};for(u.s();!(d=u.n()).done;)var v=h()}catch(m){u.e(m)}finally{u.f()}})(t._model,o)}),t}return _(e,[{key:"isCollapsed",get:function(){return this._ranges.length===0?this._document._getDefaultRange().isCollapsed:b(x(e.prototype),"isCollapsed",this)}},{key:"anchor",get:function(){return b(x(e.prototype),"anchor",this)||this._document._getDefaultRange().start}},{key:"focus",get:function(){return b(x(e.prototype),"focus",this)||this._document._getDefaultRange().end}},{key:"rangeCount",get:function(){return this._ranges.length?this._ranges.length:1}},{key:"hasOwnRange",get:function(){return this._ranges.length>0}},{key:"isGravityOverridden",get:function(){return!!this._overriddenGravityRegister.size}},{key:"destroy",value:function(){for(var t=0;t<this._ranges.length;t++)this._ranges[t].detach();this.stopListening()}},{key:"getRanges",value:V.mark(function n(){return V.wrap(function(i){for(;;)switch(i.prev=i.next){case 0:if(!this._ranges.length){i.next=4;break}return i.delegateYield(b(x(e.prototype),"getRanges",this).call(this),"t0",2);case 2:i.next=6;break;case 4:return i.next=6,this._document._getDefaultRange();case 6:case"end":return i.stop()}},n,this)})},{key:"getFirstRange",value:function(){return b(x(e.prototype),"getFirstRange",this).call(this)||this._document._getDefaultRange()}},{key:"getLastRange",value:function(){return b(x(e.prototype),"getLastRange",this).call(this)||this._document._getDefaultRange()}},{key:"setTo",value:function(t,i,o){b(x(e.prototype),"setTo",this).call(this,t,i,o),this._updateAttributes(!0),this._updateMarkers()}},{key:"setFocus",value:function(t,i){b(x(e.prototype),"setFocus",this).call(this,t,i),this._updateAttributes(!0),this._updateMarkers()}},{key:"setAttribute",value:function(t,i){if(this._setAttribute(t,i)){var o=[t];this.fire("change:attribute",{attributeKeys:o,directChange:!0})}}},{key:"removeAttribute",value:function(t){if(this._removeAttribute(t)){var i=[t];this.fire("change:attribute",{attributeKeys:i,directChange:!0})}}},{key:"overrideGravity",value:function(){var t=Yr();return this._overriddenGravityRegister.add(t),this._overriddenGravityRegister.size===1&&this._updateAttributes(!0),t}},{key:"restoreGravity",value:function(t){if(!this._overriddenGravityRegister.has(t))throw new le.b("document-selection-gravity-wrong-restore: Attempting to restore the selection gravity for an unknown UID.",this,{uid:t});this._overriddenGravityRegister.delete(t),this.isGravityOverridden||this._updateAttributes(!0)}},{key:"_popRange",value:function(){this._ranges.pop().detach()}},{key:"_pushRange",value:function(t){var i=this._prepareRange(t);i&&this._ranges.push(i)}},{key:"_prepareRange",value:function(t){var i=this;if(this._checkRange(t),t.root!=this._document.graveyard){var o=fo.fromRange(t);return o.on("change:range",function(s,l,c){i._hasChangedRange=!0,o.root==i._document.graveyard&&i._fixGraveyardRangesData.push({liveRange:o,sourcePosition:c.deletionPosition})}),o}}},{key:"_updateMarkers",value:function(){var t=[],i=!1,o=p(this._model.markers),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,c=l.getRange(),u=p(this.getRanges()),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;c.containsRange(h,!h.isCollapsed)&&t.push(l)}}catch(G){u.e(G)}finally{u.f()}}}catch(G){o.e(G)}finally{o.f()}for(var v=Array.from(this.markers),m=0,k=t;m<k.length;m++){var E=k[m];this.markers.has(E)||(this.markers.add(E),i=!0)}for(var P=0,U=Array.from(this.markers);P<U.length;P++){var H=U[P];t.includes(H)||(this.markers.remove(H),i=!0)}i&&this.fire("change:marker",{oldMarkers:v,directChange:!1})}},{key:"_updateAttributes",value:function(t){var i=bn(this._getSurroundingAttributes()),o=bn(this.getAttributes());if(t)this._attributePriority=new Map,this._attrs=new Map;else{var s=p(this._attributePriority),l;try{for(s.s();!(l=s.n()).done;){var c=l.value,u=C(c,2),d=u[0],h=u[1];h=="low"&&(this._attrs.delete(d),this._attributePriority.delete(d))}}catch(Re){s.e(Re)}finally{s.f()}}this._setAttributesTo(i);var v=[],m=p(this.getAttributes()),k;try{for(m.s();!(k=m.n()).done;){var E=k.value,P=C(E,2),U=P[0],H=P[1];o.has(U)&&o.get(U)===H||v.push(U)}}catch(Re){m.e(Re)}finally{m.f()}var G=p(o),Z;try{for(G.s();!(Z=G.n()).done;){var ce=Z.value,ye=C(ce,1),ke=ye[0];this.hasAttribute(ke)||v.push(ke)}}catch(Re){G.e(Re)}finally{G.f()}v.length>0&&this.fire("change:attribute",{attributeKeys:v,directChange:!1})}},{key:"_setAttribute",value:function(t,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=o?"normal":"low";return s=="low"&&this._attributePriority.get(t)=="normal"?!1:b(x(e.prototype),"getAttribute",this).call(this,t)!==i&&(this._attrs.set(t,i),this._attributePriority.set(t,s),!0)}},{key:"_removeAttribute",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,o=i?"normal":"low";return(o!="low"||this._attributePriority.get(t)!="normal")&&(this._attributePriority.set(t,o),!!b(x(e.prototype),"hasAttribute",this).call(this,t)&&(this._attrs.delete(t),!0))}},{key:"_setAttributesTo",value:function(t){var i=new Set,o=p(this.getAttributes()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,c=C(l,2),u=c[0],d=c[1];t.get(u)!==d&&this._removeAttribute(u,!1)}}catch(U){o.e(U)}finally{o.f()}var h=p(t),v;try{for(h.s();!(v=h.n()).done;){var m=v.value,k=C(m,2),E=k[0],P=k[1];this._setAttribute(E,P,!1)&&i.add(E)}}catch(U){h.e(U)}finally{h.f()}return i}},{key:"_getStoredAttributes",value:V.mark(function n(){var t,i,o,s,l;return V.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(t=this.getFirstPosition().parent,!(this.isCollapsed&&t.isEmpty)){u.next=21;break}i=p(t.getAttributeKeys()),u.prev=3,i.s();case 5:if((o=i.n()).done){u.next=13;break}if(s=o.value,!s.startsWith("selection:")){u.next=11;break}return l=s.substr("selection:".length),u.next=11,[l,t.getAttribute(s)];case 11:u.next=5;break;case 13:u.next=18;break;case 15:u.prev=15,u.t0=u.catch(3),i.e(u.t0);case 18:return u.prev=18,i.f(),u.finish(18);case 21:case"end":return u.stop()}},n,this,[[3,15,18,21]])})},{key:"_getSurroundingAttributes",value:function(){var t=this.getFirstPosition(),i=this._model.schema,o=null;if(this.isCollapsed){var s=t.textNode?t.textNode:t.nodeBefore,l=t.textNode?t.textNode:t.nodeAfter;if(this.isGravityOverridden||(o=Hs(s)),o||(o=Hs(l)),!this.isGravityOverridden&&!o)for(var c=s;c&&!o;)c=c.previousSibling,o=Hs(c);if(!o)for(var u=l;u&&!o;)u=u.nextSibling,o=Hs(u);o||(o=this._getStoredAttributes())}else{var d=this.getFirstRange(),h=p(d),v;try{for(h.s();!(v=h.n()).done;){var m=v.value;if(m.item.is("element")&&i.isObject(m.item))break;if(m.type=="text"){o=m.item.getAttributes();break}}}catch(k){h.e(k)}finally{h.f()}}return o}},{key:"_fixGraveyardSelection",value:function(t,i){var o=i.clone(),s=this._model.schema.getNearestSelectionRange(o),l=this._ranges.indexOf(t);if(this._ranges.splice(l,1),t.detach(),s&&(u=s,this._ranges.every(function(d){return!u.isEqual(d)}))){var c=this._prepareRange(s);this._ranges.splice(l,0,c)}var u}}]),e}(pa);function Hs(a){return a instanceof Ni||a instanceof fr?a.getAttributes():null}var Pu=function(){function a(r){w(this,a),this._dispatchers=r}return _(a,[{key:"add",value:function(e){var n=p(this._dispatchers),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;e(i)}}catch(o){n.e(o)}finally{n.f()}return this}}]),a}(),ma=function(r){return mr(r,5)},Ov=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"elementToElement",value:function(t){return this.add(function(i){return(i=ma(i)).view=Ks(i.view,"container"),function(o){var s;o.on("insert:"+i.model,(s=i.view,function(l,c,u){var d=s(c.item,u.writer);if(!!d&&!!u.consumable.consume(c.item,"insert")){var h=u.mapper.toViewPosition(c.range.start);u.mapper.bindElements(c.item,d),u.writer.insert(h,d)}}),{priority:i.converterPriority||"normal"})}}(t))}},{key:"attributeToElement",value:function(t){return this.add(function(i){i=ma(i);var o="attribute:"+(i.model.key?i.model.key:i.model);if(i.model.name&&(o+=":"+i.model.name),i.model.values){var s=p(i.model.values),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;i.view[c]=Ks(i.view[c],"attribute")}}catch(d){s.e(d)}finally{s.f()}}else i.view=Ks(i.view,"attribute");var u=Tu(i);return function(d){d.on(o,function(h){return function(v,m,k){var E=h(m.attributeOldValue,k.writer),P=h(m.attributeNewValue,k.writer);if(!(!E&&!P)&&!!k.consumable.consume(m.item,v.name)){var U=k.writer,H=U.document.selection;if(m.item instanceof pa||m.item instanceof Ai)U.wrap(H.getFirstRange(),P);else{var G=k.mapper.toViewRange(m.range);m.attributeOldValue!==null&&E&&(G=U.unwrap(G,E)),m.attributeNewValue!==null&&P&&U.wrap(G,P)}}}}(u),{priority:i.converterPriority||"normal"})}}(t))}},{key:"attributeToAttribute",value:function(t){return this.add(function(i){i=ma(i);var o="attribute:"+(i.model.key?i.model.key:i.model);if(i.model.name&&(o+=":"+i.model.name),i.model.values){var s=p(i.model.values),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;i.view[c]=Su(i.view[c])}}catch(d){s.e(d)}finally{s.f()}}else i.view=Su(i.view);var u=Tu(i);return function(d){var h;d.on(o,(h=u,function(v,m,k){var E=h(m.attributeOldValue,m),P=h(m.attributeNewValue,m);if(!(!E&&!P)&&!!k.consumable.consume(m.item,v.name)){var U=k.mapper.toViewElement(m.item),H=k.writer;if(!U)throw new le.b("conversion-attribute-to-attribute-on-text: Trying to convert text node's attribute with attribute-to-attribute converter.",[m,k]);if(m.attributeOldValue!==null&&E)if(E.key=="class"){var G=Array.isArray(E.value)?E.value:[E.value],Z=p(G),ce;try{for(Z.s();!(ce=Z.n()).done;){var ye=ce.value;H.removeClass(ye,U)}}catch(ni){Z.e(ni)}finally{Z.f()}}else if(E.key=="style")for(var ke=Object.keys(E.value),Re=0,Xe=ke;Re<Xe.length;Re++){var gt=Xe[Re];H.removeStyle(gt,U)}else H.removeAttribute(E.key,U);if(m.attributeNewValue!==null&&P)if(P.key=="class"){var Bt=Array.isArray(P.value)?P.value:[P.value],pt=p(Bt),nt;try{for(pt.s();!(nt=pt.n()).done;){var Ht=nt.value;H.addClass(Ht,U)}}catch(ni){pt.e(ni)}finally{pt.f()}}else if(P.key=="style")for(var Wt=Object.keys(P.value),vn=0,ir=Wt;vn<ir.length;vn++){var Nr=ir[vn];H.setStyle(Nr,P.value[Nr],U)}else H.setAttribute(P.key,P.value,U)}}),{priority:i.converterPriority||"normal"})}}(t))}},{key:"markerToElement",value:function(t){return this.add(function(i){return(i=ma(i)).view=Ks(i.view,"ui"),function(o){var s;o.on("addMarker:"+i.model,(s=i.view,function(l,c,u){c.isOpening=!0;var d=s(c,u.writer);c.isOpening=!1;var h=s(c,u.writer);if(!(!d||!h)){var v=c.markerRange;if(!(v.isCollapsed&&!u.consumable.consume(v,l.name))){var m=p(v),k;try{for(m.s();!(k=m.n()).done;){var E=k.value;if(!u.consumable.consume(E.item,l.name))return}}catch(H){m.e(H)}finally{m.f()}var P=u.mapper,U=u.writer;U.insert(P.toViewPosition(v.start),d),u.mapper.bindElementToMarker(d,c.markerName),v.isCollapsed||(U.insert(P.toViewPosition(v.end),h),u.mapper.bindElementToMarker(h,c.markerName)),l.stop()}}}),{priority:i.converterPriority||"normal"}),o.on("removeMarker:"+i.model,(i.view,function(l,c,u){var d=u.mapper.markerNameToElements(c.markerName);if(d){var h=p(d),v;try{for(h.s();!(v=h.n()).done;){var m=v.value;u.mapper.unbindElementFromMarkerName(m,c.markerName),u.writer.clear(u.writer.createRangeOn(m),m)}}catch(k){h.e(k)}finally{h.f()}u.writer.clearClonedElementsGroup(c.markerName),l.stop()}}),{priority:i.converterPriority||"normal"})}}(t))}},{key:"markerToHighlight",value:function(t){return this.add(function(i){return function(o){var s;o.on("addMarker:"+i.model,(s=i.view,function(l,c,u){if(!!c.item&&!!(c.item instanceof pa||c.item instanceof Ai||c.item.is("textProxy"))){var d=sc(s,c,u);if(!!d&&!!u.consumable.consume(c.item,l.name)){var h=u.writer,v=Au(h,d),m=h.document.selection;if(c.item instanceof pa||c.item instanceof Ai)h.wrap(m.getFirstRange(),v,m);else{var k=u.mapper.toViewRange(c.range),E=h.wrap(k,v),P=p(E.getItems()),U;try{for(P.s();!(U=P.n()).done;){var H=U.value;if(H.is("attributeElement")&&H.isSimilar(v)){u.mapper.bindElementToMarker(H,c.markerName);break}}}catch(G){P.e(G)}finally{P.f()}}}}}),{priority:i.converterPriority||"normal"}),o.on("addMarker:"+i.model,function(l){return function(c,u,d){if(!!u.item&&u.item instanceof vr){var h=sc(l,u,d);if(!!h&&!!d.consumable.test(u.item,c.name)){var v=d.mapper.toViewElement(u.item);if(v&&v.getCustomProperty("addHighlight")){d.consumable.consume(u.item,c.name);var m=p(He._createIn(u.item)),k;try{for(m.s();!(k=m.n()).done;){var E=k.value;d.consumable.consume(E.item,c.name)}}catch(P){m.e(P)}finally{m.f()}v.getCustomProperty("addHighlight")(v,h,d.writer),d.mapper.bindElementToMarker(v,u.markerName)}}}}}(i.view),{priority:i.converterPriority||"normal"}),o.on("removeMarker:"+i.model,function(l){return function(c,u,d){if(!u.markerRange.isCollapsed){var h=sc(l,u,d);if(!!h){var v=Au(d.writer,h),m=d.mapper.markerNameToElements(u.markerName);if(m){var k=p(m),E;try{for(k.s();!(E=k.n()).done;){var P=E.value;d.mapper.unbindElementFromMarkerName(P,u.markerName),P.is("attributeElement")?d.writer.unwrap(d.writer.createRangeOn(P),v):P.getCustomProperty("removeHighlight")(P,h.id,d.writer)}}catch(U){k.e(U)}finally{k.f()}d.writer.clearClonedElementsGroup(u.markerName),c.stop()}}}}}(i.view),{priority:i.converterPriority||"normal"})}}(t))}}]),e}(Pu);function Au(a,r){var e=a.createAttributeElement("span",r.attributes);return r.classes&&e._addClass(r.classes),r.priority&&(e._priority=r.priority),e._id=r.id,e}function Ks(a,r){return typeof a=="function"?a:function(e,n){return function(t,i,o){typeof t=="string"&&(t={name:t});var s,l=Object.assign({},t.attributes);if(o=="container")s=i.createContainerElement(t.name,l);else if(o=="attribute"){var c={priority:t.priority||qi.DEFAULT_PRIORITY};s=i.createAttributeElement(t.name,l,c)}else s=i.createUIElement(t.name,l);if(t.styles)for(var u=Object.keys(t.styles),d=0,h=u;d<h.length;d++){var v=h[d];i.setStyle(v,t.styles[v],s)}if(t.classes){var m=t.classes;if(typeof m=="string")i.addClass(m,s);else{var k=p(m),E;try{for(k.s();!(E=k.n()).done;){var P=E.value;i.addClass(P,s)}}catch(U){k.e(U)}finally{k.f()}}}return s}(a,n,r)}}function Tu(a){return a.model.values?function(r,e){var n=a.view[r];return n?n(r,e):null}:a.view}function Su(a){return typeof a=="string"?function(r){return{key:a,value:r}}:typeof a=="object"?a.value?function(){return a}:function(r){return{key:a.key,value:r}}:a}function sc(a,r,e){var n=typeof a=="function"?a(r,e):a;return n?(n.priority||(n.priority=10),n.id||(n.id=r.markerName),n):null}var Pv=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"elementToElement",value:function(t){return this.add(Mu(t))}},{key:"elementToAttribute",value:function(t){return this.add(function(i){Iu(i=ma(i));var o=ju(i,!1),s=lc(i.view),l=s?"element:"+s:"element";return function(c){c.on(l,o,{priority:i.converterPriority||"low"})}}(t))}},{key:"attributeToAttribute",value:function(t){return this.add(function(i){i=ma(i);var o=null;(typeof i.view=="string"||i.view.key)&&(o=function(l){typeof l.view=="string"&&(l.view={key:l.view});var c=l.view.key,u;if(c=="class"||c=="style")u=F({},c=="class"?"classes":"styles",l.view.value);else{var d=l.view.value===void 0?/[\s\S]*/:l.view.value;u={attributes:F({},c,d)}}return l.view.name&&(u.name=l.view.name),l.view=u,c}(i)),Iu(i,o);var s=ju(i,!0);return function(l){l.on("element",s,{priority:i.converterPriority||"low"})}}(t))}},{key:"elementToMarker",value:function(t){return this.add(function(i){return function(o){var s=o.model;o.model=function(l,c){var u=typeof s=="string"?s:s(l);return c.createElement("$marker",{"data-name":u})}}(i=ma(i)),Mu(i)}(t))}}]),e}(Pu);function Mu(a){var r=function(t){var i=t.view?new On(t.view):null;return function(o,s,l){var c={};if(i){var u=i.match(s.viewItem);if(!u)return;c=u.match}c.name=!0;var d=(h=t.model,v=s.viewItem,m=l.writer,h instanceof Function?h(v,m):m.createElement(h)),h,v,m;if(!!d&&!!l.consumable.test(s.viewItem,c)){var k=l.splitToAllowedParent(d,s.modelCursor);if(!!k){l.writer.insert(d,k.position),l.convertChildren(s.viewItem,l.writer.createPositionAt(d,0)),l.consumable.consume(s.viewItem,c);var E=l.getSplitParts(d);s.modelRange=new He(l.writer.createPositionBefore(d),l.writer.createPositionAfter(E[E.length-1])),k.cursorParent?s.modelCursor=l.writer.createPositionAt(k.cursorParent,0):s.modelCursor=s.modelRange.end}}}}(a=ma(a)),e=lc(a.view),n=e?"element:"+e:"element";return function(t){t.on(n,r,{priority:a.converterPriority||"normal"})}}function lc(a){return typeof a=="string"?a:typeof a=="object"&&typeof a.name=="string"?a.name:null}function Iu(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,e=r===null||function(i){return i.getAttribute(r)},n=typeof a.model!="object"?a.model:a.model.key,t=typeof a.model!="object"||a.model.value===void 0?e:a.model.value;a.model={key:n,value:t}}function ju(a,r){var e=new On(a.view);return function(n,t,i){var o=e.match(t.viewItem);if(!!o){var s=a.model.key,l=typeof a.model.value=="function"?a.model.value(t.viewItem):a.model.value;l!==null&&(function(c,u){var d=typeof c=="function"?c(u):c;return typeof d=="object"&&!lc(d)?!1:!d.classes&&!d.attributes&&!d.styles}(a.view,t.viewItem)?o.match.name=!0:delete o.match.name,!!i.consumable.test(t.viewItem,o.match)&&(t.modelRange||(t=Object.assign(t,i.convertChildren(t.viewItem,t.modelCursor))),function(c,u,d,h){for(var v=!1,m=0,k=Array.from(c.getItems({shallow:d}));m<k.length;m++){var E=k[m];h.schema.checkAttribute(E,u.key)&&(h.writer.setAttribute(u.key,u.value,E),v=!0)}return v}(t.modelRange,{key:s,value:l},r,i)&&i.consumable.consume(t.viewItem,o.match)))}}}var Ru=function(){function a(r,e){var n=this;w(this,a),this.model=r,this.view=new _u(e),this.mapper=new ic,this.downcastDispatcher=new ac({mapper:this.mapper});var t=this.model.document,i=t.selection,o=this.model.markers;this.listenTo(this.model,"_beforeChanges",function(){n.view._disableRendering(!0)},{priority:"highest"}),this.listenTo(this.model,"_afterChanges",function(){n.view._disableRendering(!1)},{priority:"lowest"}),this.listenTo(t,"change",function(){n.view.change(function(s){n.downcastDispatcher.convertChanges(t.differ,o,s),n.downcastDispatcher.convertSelection(i,o,s)})},{priority:"low"}),this.listenTo(this.view.document,"selectionChange",function(s,l){return function(c,u){var d=u.newSelection,h=new pa,v=[],m=p(d.getRanges()),k;try{for(m.s();!(k=m.n()).done;){var E=k.value;v.push(l.toModelRange(E))}}catch(P){m.e(P)}finally{m.f()}h.setTo(v,{backward:d.isBackward}),h.isEqual(s.document.selection)||s.change(function(P){P.setSelection(h)})}}(this.model,this.mapper)),this.downcastDispatcher.on("insert:$text",function(s,l,c){if(!!c.consumable.consume(l.item,"insert")){var u=c.writer,d=c.mapper.toViewPosition(l.range.start),h=u.createText(l.item.data);u.insert(d,h)}},{priority:"lowest"}),this.downcastDispatcher.on("remove",function(s,l,c){var u=c.mapper.toViewPosition(l.position),d=l.position.getShiftedBy(l.length),h=c.mapper.toViewPosition(d,{isPhantom:!0}),v=c.writer.createRange(u,h),m=c.writer.remove(v.getTrimmed()),k=p(c.writer.createRangeIn(m).getItems()),E;try{for(k.s();!(E=k.n()).done;){var P=E.value;c.mapper.unbindViewElement(P)}}catch(U){k.e(U)}finally{k.f()}},{priority:"low"}),this.downcastDispatcher.on("selection",function(s,l,c){var u=c.writer,d=u.document.selection,h=p(d.getRanges()),v;try{for(h.s();!(v=h.n()).done;){var m=v.value;m.isCollapsed&&m.end.parent.isAttached()&&c.writer.mergeAttributes(m.start)}}catch(k){h.e(k)}finally{h.f()}u.setSelection(null)},{priority:"low"}),this.downcastDispatcher.on("selection",function(s,l,c){var u=l.selection;if(!u.isCollapsed&&!!c.consumable.consume(u,"selection")){var d=[],h=p(u.getRanges()),v;try{for(h.s();!(v=h.n()).done;){var m=v.value,k=c.mapper.toViewRange(m);d.push(k)}}catch(E){h.e(E)}finally{h.f()}c.writer.setSelection(d,{backward:u.isBackward})}},{priority:"low"}),this.downcastDispatcher.on("selection",function(s,l,c){var u=l.selection;if(!!u.isCollapsed&&!!c.consumable.consume(u,"selection")){var d=c.writer,h=u.getFirstPosition(),v=c.mapper.toViewPosition(h),m=d.breakAttributes(v);d.setSelection(m)}},{priority:"low"}),this.view.document.roots.bindTo(this.model.document.roots).using(function(s){if(s.rootName=="$graveyard")return null;var l=new Do(n.view.document,s.name);return l.rootName=s.rootName,n.mapper.bindElements(s,l),l})}return _(a,[{key:"destroy",value:function(){this.view.destroy(),this.stopListening()}}]),a}();tn(Ru,Jn);var Av=function(){function a(){w(this,a),this._commands=new Map}return _(a,[{key:"add",value:function(e,n){this._commands.set(e,n)}},{key:"get",value:function(e){return this._commands.get(e)}},{key:"execute",value:function(e){var n=this.get(e);if(!n)throw new le.b("commandcollection-command-not-found: Command does not exist.",this,{commandName:e});for(var t=arguments.length,i=new Array(t>1?t-1:0),o=1;o<t;o++)i[o-1]=arguments[o];n.execute.apply(n,i)}},{key:"names",value:V.mark(function r(){return V.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(this._commands.keys(),"t0",1);case 1:case"end":return n.stop()}},r,this)})},{key:"commands",value:V.mark(function r(){return V.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(this._commands.values(),"t0",1);case 1:case"end":return n.stop()}},r,this)})},{key:Symbol.iterator,value:function(){return this._commands[Symbol.iterator]()}},{key:"destroy",value:function(){var e=p(this.commands()),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;t.destroy()}}catch(i){e.e(i)}finally{e.f()}}}]),a}(),Tv=function(){function a(){w(this,a),this._consumables=new Map}return _(a,[{key:"add",value:function(e,n){var t;e.is("text")||e.is("documentFragment")?this._consumables.set(e,!0):(this._consumables.has(e)?t=this._consumables.get(e):(t=new Sv(e),this._consumables.set(e,t)),t.add(n))}},{key:"test",value:function(e,n){var t=this._consumables.get(e);return t===void 0?null:e.is("text")||e.is("documentFragment")?t:t.test(n)}},{key:"consume",value:function(e,n){return!!this.test(e,n)&&(e.is("text")||e.is("documentFragment")?this._consumables.set(e,!1):this._consumables.get(e).consume(n),!0)}},{key:"revert",value:function(e,n){var t=this._consumables.get(e);t!==void 0&&(e.is("text")||e.is("documentFragment")?this._consumables.set(e,!0):t.revert(n))}}],[{key:"consumablesFromElement",value:function(e){var n={element:e,name:!0,attributes:[],classes:[],styles:[]},t=e.getAttributeKeys(),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;s!="style"&&s!="class"&&n.attributes.push(s)}}catch(E){i.e(E)}finally{i.f()}var l=e.getClassNames(),c=p(l),u;try{for(c.s();!(u=c.n()).done;){var d=u.value;n.classes.push(d)}}catch(E){c.e(E)}finally{c.f()}var h=e.getStyleNames(),v=p(h),m;try{for(v.s();!(m=v.n()).done;){var k=m.value;n.styles.push(k)}}catch(E){v.e(E)}finally{v.f()}return n}},{key:"createFrom",value:function(e,n){if(n||(n=new a(e)),e.is("text"))return n.add(e),n;e.is("element")&&n.add(e,a.consumablesFromElement(e)),e.is("documentFragment")&&n.add(e);var t=p(e.getChildren()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;n=a.createFrom(o,n)}}catch(s){t.e(s)}finally{t.f()}return n}}]),a}(),Sv=function(){function a(r){w(this,a),this.element=r,this._canConsumeName=null,this._consumables={attributes:new Map,styles:new Map,classes:new Map}}return _(a,[{key:"add",value:function(e){e.name&&(this._canConsumeName=!0);for(var n in this._consumables)n in e&&this._add(n,e[n])}},{key:"test",value:function(e){if(e.name&&!this._canConsumeName)return this._canConsumeName;for(var n in this._consumables)if(n in e){var t=this._test(n,e[n]);if(t!==!0)return t}return!0}},{key:"consume",value:function(e){e.name&&(this._canConsumeName=!1);for(var n in this._consumables)n in e&&this._consume(n,e[n])}},{key:"revert",value:function(e){e.name&&(this._canConsumeName=!0);for(var n in this._consumables)n in e&&this._revert(n,e[n])}},{key:"_add",value:function(e,n){var t=Mt(n)?n:[n],i=this._consumables[e],o=p(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(e==="attributes"&&(l==="class"||l==="style"))throw new le.b("viewconsumable-invalid-attribute: Classes and styles should be handled separately.",this);if(i.set(l,!0),e==="styles"){var c=p(this.element.document.stylesProcessor.getRelatedStyles(l)),u;try{for(c.s();!(u=c.n()).done;){var d=u.value;i.set(d,!0)}}catch(h){c.e(h)}finally{c.f()}}}}catch(h){o.e(h)}finally{o.f()}}},{key:"_test",value:function(e,n){var t=Mt(n)?n:[n],i=this._consumables[e],o=p(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(e!=="attributes"||l!=="class"&&l!=="style"){var c=i.get(l);if(c===void 0)return null;if(!c)return!1}else{var u=l=="class"?"classes":"styles",d=this._test(u,R(this._consumables[u].keys()));if(d!==!0)return d}}}catch(h){o.e(h)}finally{o.f()}return!0}},{key:"_consume",value:function(e,n){var t=Mt(n)?n:[n],i=this._consumables[e],o=p(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(e!=="attributes"||l!=="class"&&l!=="style"){if(i.set(l,!1),e=="styles"){var c=p(this.element.document.stylesProcessor.getRelatedStyles(l)),u;try{for(c.s();!(u=c.n()).done;){var d=u.value;i.set(d,!1)}}catch(v){c.e(v)}finally{c.f()}}}else{var h=l=="class"?"classes":"styles";this._consume(h,R(this._consumables[h].keys()))}}}catch(v){o.e(v)}finally{o.f()}}},{key:"_revert",value:function(e,n){var t=Mt(n)?n:[n],i=this._consumables[e],o=p(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(e!=="attributes"||l!=="class"&&l!=="style")i.get(l)===!1&&i.set(l,!0);else{var c=l=="class"?"classes":"styles";this._revert(c,R(this._consumables[c].keys()))}}}catch(u){o.e(u)}finally{o.f()}}}]),a}(),Du=function(){function a(){var r=this;w(this,a),this._sourceDefinitions={},this._attributeProperties={},this.decorate("checkChild"),this.decorate("checkAttribute"),this.on("checkAttribute",function(e,n){n[0]=new Gs(n[0])},{priority:"highest"}),this.on("checkChild",function(e,n){n[0]=new Gs(n[0]),n[1]=r.getDefinition(n[1])},{priority:"highest"})}return _(a,[{key:"register",value:function(e,n){if(this._sourceDefinitions[e])throw new le.b("schema-cannot-register-item-twice: A single item cannot be registered twice in the schema.",this,{itemName:e});this._sourceDefinitions[e]=[Object.assign({},n)],this._clearCache()}},{key:"extend",value:function(e,n){if(!this._sourceDefinitions[e])throw new le.b("schema-cannot-extend-missing-item: Cannot extend an item which was not registered yet.",this,{itemName:e});this._sourceDefinitions[e].push(Object.assign({},n)),this._clearCache()}},{key:"getDefinitions",value:function(){return this._compiledDefinitions||this._compile(),this._compiledDefinitions}},{key:"getDefinition",value:function(e){var n;return n=typeof e=="string"?e:e.is&&(e.is("text")||e.is("textProxy"))?"$text":e.name,this.getDefinitions()[n]}},{key:"isRegistered",value:function(e){return!!this.getDefinition(e)}},{key:"isBlock",value:function(e){var n=this.getDefinition(e);return!(!n||!n.isBlock)}},{key:"isLimit",value:function(e){var n=this.getDefinition(e);return!!n&&!(!n.isLimit&&!n.isObject)}},{key:"isObject",value:function(e){var n=this.getDefinition(e);return!(!n||!n.isObject)}},{key:"isInline",value:function(e){var n=this.getDefinition(e);return!(!n||!n.isInline)}},{key:"checkChild",value:function(e,n){return!!n&&this._checkContextMatch(n,e)}},{key:"checkAttribute",value:function(e,n){var t=this.getDefinition(e.last);return!!t&&t.allowAttributes.includes(n)}},{key:"checkMerge",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;if(e instanceof Ze){var t=e.nodeBefore,i=e.nodeAfter;if(!(t instanceof vr))throw new le.b("schema-check-merge-no-element-before: The node before the merge position must be an element.",this);if(!(i instanceof vr))throw new le.b("schema-check-merge-no-element-after: The node after the merge position must be an element.",this);return this.checkMerge(t,i)}var o=p(n.getChildren()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(!this.checkChild(e,l))return!1}}catch(c){o.e(c)}finally{o.f()}return!0}},{key:"addChildCheck",value:function(e){this.on("checkChild",function(n,t){var i=C(t,2),o=i[0],s=i[1];if(!!s){var l=e(o,s);typeof l=="boolean"&&(n.stop(),n.return=l)}},{priority:"high"})}},{key:"addAttributeCheck",value:function(e){this.on("checkAttribute",function(n,t){var i=C(t,2),o=i[0],s=i[1],l=e(o,s);typeof l=="boolean"&&(n.stop(),n.return=l)},{priority:"high"})}},{key:"setAttributeProperties",value:function(e,n){this._attributeProperties[e]=Object.assign(this.getAttributeProperties(e),n)}},{key:"getAttributeProperties",value:function(e){return this._attributeProperties[e]||{}}},{key:"getLimitElement",value:function(e){var n;for(e instanceof Ze?n=e.parent:n=(e instanceof He?[e]:Array.from(e.getRanges())).reduce(function(t,i){var o=i.getCommonAncestor();return t?t.getCommonAncestor(o,{includeSelf:!0}):o},null);!this.isLimit(n)&&n.parent;)n=n.parent;return n}},{key:"checkAttributeInSelection",value:function(e,n){if(e.isCollapsed){var t=[].concat(R(e.getFirstPosition().getAncestors()),[new fr("",e.getAttributes())]);return this.checkAttribute(t,n)}{var i=e.getRanges(),o=p(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,c=p(l),u;try{for(c.s();!(u=c.n()).done;){var d=u.value;if(this.checkAttribute(d.item,n))return!0}}catch(h){c.e(h)}finally{c.f()}}}catch(h){o.e(h)}finally{o.f()}}return!1}},{key:"getValidRanges",value:V.mark(function r(e,n){var t,i,o;return V.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:e=V.mark(function c(u){var d,h,v;return V.wrap(function(k){for(;;)switch(k.prev=k.next){case 0:d=p(u),k.prev=1,d.s();case 3:if((h=d.n()).done){k.next=8;break}return v=h.value,k.delegateYield(v.getMinimalFlatRanges(),"t0",6);case 6:k.next=3;break;case 8:k.next=13;break;case 10:k.prev=10,k.t1=k.catch(1),d.e(k.t1);case 13:return k.prev=13,d.f(),k.finish(13);case 16:case"end":return k.stop()}},c,null,[[1,10,13,16]])})(e),t=p(e),l.prev=2,t.s();case 4:if((i=t.n()).done){l.next=9;break}return o=i.value,l.delegateYield(this._getValidRangesForRange(o,n),"t0",7);case 7:l.next=4;break;case 9:l.next=14;break;case 11:l.prev=11,l.t1=l.catch(2),t.e(l.t1);case 14:return l.prev=14,t.f(),l.finish(14);case 17:case"end":return l.stop()}},r,this,[[2,11,14,17]])})},{key:"getNearestSelectionRange",value:function(e){var n=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"both";if(this.checkChild(e,"$text"))return new He(e);var i,o,s=e.getAncestors().reverse().find(function(v){return n.isLimit(v)})||e.root;t!="both"&&t!="backward"||(i=new ea({boundaries:He._createIn(s),startPosition:e,direction:"backward"})),t!="both"&&t!="forward"||(o=new ea({boundaries:He._createIn(s),startPosition:e}));var l=p(V.mark(function v(m,k){var E,P,U;return V.wrap(function(G){for(;;)switch(G.prev=G.next){case 0:E=!1;case 1:if(E){G.next=18;break}if(E=!0,!m){G.next=9;break}if(P=m.next(),G.t0=P.done,G.t0){G.next=9;break}return E=!1,G.next=9,{walker:m,value:P.value};case 9:if(!k){G.next=16;break}if(U=k.next(),G.t1=U.done,G.t1){G.next=16;break}return E=!1,G.next=16,{walker:k,value:U.value};case 16:G.next=1;break;case 18:case"end":return G.stop()}},v)})(i,o)),c;try{for(l.s();!(c=l.n()).done;){var u=c.value,d=u.walker==i?"elementEnd":"elementStart",h=u.value;if(h.type==d&&this.isObject(h.item))return He._createOn(h.item);if(this.checkChild(h.nextPosition,"$text"))return new He(h.nextPosition)}}catch(v){l.e(v)}finally{l.f()}return null}},{key:"findAllowedParent",value:function(e,n){for(var t=e.parent;t;){if(this.checkChild(t,n))return t;if(this.isLimit(t))return null;t=t.parent}return null}},{key:"removeDisallowedAttributes",value:function(e,n){var t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(o.is("text"))Nu(this,o,n);else{var s=He._createIn(o).getPositions(),l=p(s),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;Nu(this,u.nodeBefore||u.parent,n)}}catch(d){l.e(d)}finally{l.f()}}}}catch(d){t.e(d)}finally{t.f()}}},{key:"createContext",value:function(e){return new Gs(e)}},{key:"_clearCache",value:function(){this._compiledDefinitions=null}},{key:"_compile",value:function(){for(var e={},n=this._sourceDefinitions,t=Object.keys(n),i=0,o=t;i<o.length;i++){var s=o[i];e[s]=Mv(n[s],s)}for(var l=0,c=t;l<c.length;l++){var u=c[l];Iv(e,u)}for(var d=0,h=t;d<h.length;d++){var v=h[d];jv(e,v)}for(var m=0,k=t;m<k.length;m++){var E=k[m];Rv(e,E),Dv(e,E)}for(var P=0,U=t;P<U.length;P++){var H=U[P];Nv(e,H),Fv(e,H)}this._compiledDefinitions=e}},{key:"_checkContextMatch",value:function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:n.length-1,i=n.getItem(t);if(e.allowIn.includes(i.name)){if(t==0)return!0;{var o=this.getDefinition(i);return this._checkContextMatch(o,n,t-1)}}return!1}},{key:"_getValidRangesForRange",value:V.mark(function r(e,n){var t,i,o,s,l;return V.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:t=e.start,i=e.start,o=p(e.getItems({shallow:!0})),u.prev=2,o.s();case 4:if((s=o.n()).done){u.next=19;break}if(l=s.value,u.t0=l.is("element"),!u.t0){u.next=9;break}return u.delegateYield(this._getValidRangesForRange(He._createIn(l),n),"t1",9);case 9:if(u.t2=this.checkAttribute(l,n),u.t2){u.next=16;break}if(u.t3=t.isEqual(i),u.t3){u.next=15;break}return u.next=15,new He(t,i);case 15:t=Ze._createAfter(l);case 16:i=Ze._createAfter(l);case 17:u.next=4;break;case 19:u.next=24;break;case 21:u.prev=21,u.t4=u.catch(2),o.e(u.t4);case 24:return u.prev=24,o.f(),u.finish(24);case 27:if(u.t5=t.isEqual(i),u.t5){u.next=31;break}return u.next=31,new He(t,i);case 31:case"end":return u.stop()}},r,this,[[2,21,24,27]])})}]),a}();tn(Du,Jn);var Gs=function(){function a(r){if(w(this,a),r instanceof a)return r;typeof r=="string"?r=[r]:Array.isArray(r)||(r=r.getAncestors({includeSelf:!0})),r[0]&&typeof r[0]!="string"&&r[0].is("documentFragment")&&r.shift(),this._items=r.map(Bv)}return _(a,[{key:"length",get:function(){return this._items.length}},{key:"last",get:function(){return this._items[this._items.length-1]}},{key:Symbol.iterator,value:function(){return this._items[Symbol.iterator]()}},{key:"push",value:function(e){var n=new a([e]);return n._items=[].concat(R(this._items),R(n._items)),n}},{key:"getItem",value:function(e){return this._items[e]}},{key:"getNames",value:V.mark(function r(){return V.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(this._items.map(function(t){return t.name}),"t0",1);case 1:case"end":return n.stop()}},r,this)})},{key:"endsWith",value:function(e){return Array.from(this.getNames()).join(" ").endsWith(e)}},{key:"startsWith",value:function(e){return Array.from(this.getNames()).join(" ").startsWith(e)}}]),a}();function Mv(a,r){var e={name:r,allowIn:[],allowContentOf:[],allowWhere:[],allowAttributes:[],allowAttributesOf:[],inheritTypesFrom:[]};return function(n,t){var i=p(n),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=Object.keys(s).filter(function(h){return h.startsWith("is")}),c=p(l),u;try{for(c.s();!(u=c.n()).done;){var d=u.value;t[d]=s[d]}}catch(h){c.e(h)}finally{c.f()}}}catch(h){i.e(h)}finally{i.f()}}(a,e),ho(a,e,"allowIn"),ho(a,e,"allowContentOf"),ho(a,e,"allowWhere"),ho(a,e,"allowAttributes"),ho(a,e,"allowAttributesOf"),ho(a,e,"inheritTypesFrom"),function(n,t){var i=p(n),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.inheritAllFrom;l&&(t.allowContentOf.push(l),t.allowWhere.push(l),t.allowAttributesOf.push(l),t.inheritTypesFrom.push(l))}}catch(c){i.e(c)}finally{i.f()}}(a,e),e}function Iv(a,r){var e=p(a[r].allowContentOf),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;a[t]&&Lv(a,t).forEach(function(i){i.allowIn.push(r)})}}catch(i){e.e(i)}finally{e.f()}delete a[r].allowContentOf}function jv(a,r){var e=p(a[r].allowWhere),n;try{for(e.s();!(n=e.n()).done;){var t=n.value,i=a[t];if(i){var o,s=i.allowIn;(o=a[r].allowIn).push.apply(o,R(s))}}}catch(l){e.e(l)}finally{e.f()}delete a[r].allowWhere}function Rv(a,r){var e=p(a[r].allowAttributesOf),n;try{for(e.s();!(n=e.n()).done;){var t=n.value,i=a[t];if(i){var o,s=i.allowAttributes;(o=a[r].allowAttributes).push.apply(o,R(s))}}}catch(l){e.e(l)}finally{e.f()}delete a[r].allowAttributesOf}function Dv(a,r){var e=a[r],n=p(e.inheritTypesFrom),t;try{for(n.s();!(t=n.n()).done;){var i=t.value,o=a[i];if(o){var s=Object.keys(o).filter(function(d){return d.startsWith("is")}),l=p(s),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;u in e||(e[u]=o[u])}}catch(d){l.e(d)}finally{l.f()}}}}catch(d){n.e(d)}finally{n.f()}delete e.inheritTypesFrom}function Nv(a,r){var e=a[r],n=e.allowIn.filter(function(t){return a[t]});e.allowIn=Array.from(new Set(n))}function Fv(a,r){var e=a[r];e.allowAttributes=Array.from(new Set(e.allowAttributes))}function ho(a,r,e){var n=p(a),t;try{for(n.s();!(t=n.n()).done;){var i,o=t.value;typeof o[e]=="string"?r[e].push(o[e]):Array.isArray(o[e])&&(i=r[e]).push.apply(i,R(o[e]))}}catch(s){n.e(s)}finally{n.f()}}function Lv(a,r){var e=a[r];return(n=a,Object.keys(n).map(function(t){return n[t]})).filter(function(t){return t.allowIn.includes(e.name)});var n}function Bv(a){return typeof a=="string"?{name:a,getAttributeKeys:V.mark(function r(){return V.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:case"end":return n.stop()}},r)}),getAttribute:function(){}}:{name:a.is("element")?a.name:"$text",getAttributeKeys:V.mark(function r(){return V.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(a.getAttributeKeys(),"t0",1);case 1:case"end":return n.stop()}},r)}),getAttribute:function(e){return a.getAttribute(e)}}}function Nu(a,r,e){var n=p(r.getAttributeKeys()),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;a.checkAttribute(r,i)||e.removeAttribute(i,r)}}catch(o){n.e(o)}finally{n.f()}}var Fu=function(){function a(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};w(this,a),this._splitParts=new Map,this._modelCursor=null,this.conversionApi=Object.assign({},r),this.conversionApi.convertItem=this._convertItem.bind(this),this.conversionApi.convertChildren=this._convertChildren.bind(this),this.conversionApi.splitToAllowedParent=this._splitToAllowedParent.bind(this),this.conversionApi.getSplitParts=this._getSplitParts.bind(this)}return _(a,[{key:"convert",value:function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:["$root"];this.fire("viewCleanup",e),this._modelCursor=function(d,h){var v,m=p(new Gs(d)),k;try{for(m.s();!(k=m.n()).done;){var E=k.value,P={},U=p(E.getAttributeKeys()),H;try{for(U.s();!(H=U.n()).done;){var G=H.value;P[G]=E.getAttribute(G)}}catch(ce){U.e(ce)}finally{U.f()}var Z=h.createElement(E.name,P);v&&h.append(Z,v),v=Ze._createAt(Z,0)}}catch(ce){m.e(ce)}finally{m.f()}return v}(t,n),this.conversionApi.writer=n,this.conversionApi.consumable=Tv.createFrom(e),this.conversionApi.store={};var i=this._convertItem(e,this._modelCursor),o=i.modelRange,s=n.createDocumentFragment();if(o){this._removeEmptyElements();for(var l=0,c=Array.from(this._modelCursor.parent.getChildren());l<c.length;l++){var u=c[l];n.append(u,s)}s.markers=function(d,h){var v=new Set,m=new Map,k=He._createIn(d).getItems(),E=p(k),P;try{for(E.s();!(P=E.n()).done;){var U=P.value;U.name=="$marker"&&v.add(U)}}catch(ke){E.e(ke)}finally{E.f()}var H=p(v),G;try{for(H.s();!(G=H.n()).done;){var Z=G.value,ce=Z.getAttribute("data-name"),ye=h.createPositionBefore(Z);m.has(ce)?m.get(ce).end=ye.clone():m.set(ce,new He(ye.clone())),h.remove(Z)}}catch(ke){H.e(ke)}finally{H.f()}return m}(s,n)}return this._modelCursor=null,this._splitParts.clear(),this.conversionApi.writer=null,this.conversionApi.store=null,s}},{key:"_convertItem",value:function(e,n){var t=Object.assign({viewItem:e,modelCursor:n,modelRange:null});if(e.is("element")?this.fire("element:"+e.name,t,this.conversionApi):e.is("text")?this.fire("text",t,this.conversionApi):this.fire("documentFragment",t,this.conversionApi),t.modelRange&&!(t.modelRange instanceof He))throw new le.b("view-conversion-dispatcher-incorrect-result: Incorrect conversion result was dropped.",this);return{modelRange:t.modelRange,modelCursor:t.modelCursor}}},{key:"_convertChildren",value:function(e,n){for(var t=new He(n),i=n,o=0,s=Array.from(e.getChildren());o<s.length;o++){var l=s[o],c=this._convertItem(l,i);c.modelRange instanceof He&&(t.end=c.modelRange.end,i=c.modelCursor)}return{modelRange:t,modelCursor:i}}},{key:"_splitToAllowedParent",value:function(e,n){var t=this.conversionApi.schema.findAllowedParent(n,e);if(!t)return null;if(t===n.parent)return{position:n};if(this._modelCursor.parent.getAncestors().includes(t))return null;var i=this.conversionApi.writer.split(n,t),o=[],s=p(i.range.getWalker()),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;if(c.type=="elementEnd")o.push(c.item);else{var u=o.pop(),d=c.item;this._registerSplitPair(u,d)}}}catch(h){s.e(h)}finally{s.f()}return{position:i.position,cursorParent:i.range.end.parent}}},{key:"_registerSplitPair",value:function(e,n){this._splitParts.has(e)||this._splitParts.set(e,[e]);var t=this._splitParts.get(e);this._splitParts.set(n,t),t.push(n)}},{key:"_getSplitParts",value:function(e){var n;return n=this._splitParts.has(e)?this._splitParts.get(e):[e],n}},{key:"_removeEmptyElements",value:function(){var e=!1,n=p(this._splitParts.keys()),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;i.isEmpty&&(this.conversionApi.writer.remove(i),this._splitParts.delete(i),e=!0)}}catch(o){n.e(o)}finally{n.f()}e&&this._removeEmptyElements()}}]),a}();tn(Fu,Gn);var Lu=function(){function a(r,e){var n=this;w(this,a),this.model=r,this.stylesProcessor=e,this.processor,this.mapper=new ic,this.downcastDispatcher=new ac({mapper:this.mapper}),this.downcastDispatcher.on("insert:$text",function(t,i,o){if(!!o.consumable.consume(i.item,"insert")){var s=o.writer,l=o.mapper.toViewPosition(i.range.start),c=s.createText(i.item.data);s.insert(l,c)}},{priority:"lowest"}),this.upcastDispatcher=new Fu({schema:r.schema}),this.viewDocument=new qa(e),this._viewWriter=new As(this.viewDocument),this.upcastDispatcher.on("text",function(t,i,o){if(o.schema.checkChild(i.modelCursor,"$text")&&o.consumable.consume(i.viewItem)){var s=o.writer.createText(i.viewItem.data);o.writer.insert(s,i.modelCursor),i.modelRange=He._createFromPositionAndShift(i.modelCursor,s.offsetSize),i.modelCursor=i.modelRange.end}},{priority:"lowest"}),this.upcastDispatcher.on("element",function(t,i,o){if(!i.modelRange&&o.consumable.consume(i.viewItem,{name:!0})){var s=o.convertChildren(i.viewItem,i.modelCursor),l=s.modelRange,c=s.modelCursor;i.modelRange=l,i.modelCursor=c}},{priority:"lowest"}),this.upcastDispatcher.on("documentFragment",function(t,i,o){if(!i.modelRange&&o.consumable.consume(i.viewItem,{name:!0})){var s=o.convertChildren(i.viewItem,i.modelCursor),l=s.modelRange,c=s.modelCursor;i.modelRange=l,i.modelCursor=c}},{priority:"lowest"}),this.decorate("init"),this.on("init",function(){n.fire("ready")},{priority:"lowest"})}return _(a,[{key:"get",value:function(e){var n=e||{},t=n.rootName,i=t===void 0?"main":t,o=n.trim,s=o===void 0?"empty":o;if(!this._checkIfRootsExists([i]))throw new le.b("datacontroller-get-non-existent-root: Attempting to get data from a non-existing root.",this);var l=this.model.document.getRoot(i);return s!=="empty"||this.model.hasContent(l,{ignoreWhitespaces:!0})?this.stringify(l):""}},{key:"stringify",value:function(e){var n=this.toView(e);return this.processor.toData(n)}},{key:"toView",value:function(e){var n=this.viewDocument,t=this._viewWriter;this.mapper.clearBindings();var i=He._createIn(e),o=new Oa(n);if(this.mapper.bindElements(e,o),this.downcastDispatcher.convertInsert(i,t),!e.is("documentFragment")){var s=function(m){var k=[],E=m.root.document;if(!E)return[];var P=He._createIn(m),U=p(E.model.markers),H;try{for(U.s();!(H=U.n()).done;){var G=H.value,Z=P.getIntersection(G.getRange());Z&&k.push([G.name,Z])}}catch(ce){U.e(ce)}finally{U.f()}return k}(e),l=p(s),c;try{for(l.s();!(c=l.n()).done;){var u=c.value,d=C(u,2),h=d[0],v=d[1];this.downcastDispatcher.convertMarkerAdd(h,v,t)}}catch(m){l.e(m)}finally{l.f()}}return o}},{key:"init",value:function(e){var n=this;if(this.model.document.version)throw new le.b("datacontroller-init-document-not-empty: Trying to set initial data to not empty document.",this);var t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new le.b("datacontroller-init-non-existent-root: Attempting to init data on a non-existing root.",this);return this.model.enqueueChange("transparent",function(i){for(var o=0,s=Object.keys(t);o<s.length;o++){var l=s[o],c=n.model.document.getRoot(l);i.insert(n.parse(t[l],c),c,0)}}),Promise.resolve()}},{key:"set",value:function(e){var n=this,t={};if(typeof e=="string"?t.main=e:t=e,!this._checkIfRootsExists(Object.keys(t)))throw new le.b("datacontroller-set-non-existent-root: Attempting to set data on a non-existing root.",this);this.model.enqueueChange("transparent",function(i){i.setSelection(null),i.removeSelectionAttribute(n.model.document.selection.getAttributeKeys());for(var o=0,s=Object.keys(t);o<s.length;o++){var l=s[o],c=n.model.document.getRoot(l);i.remove(i.createRangeIn(c)),i.insert(n.parse(t[l],c),c,0)}})}},{key:"parse",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$root",t=this.processor.toView(e);return this.toModel(t,n)}},{key:"toModel",value:function(e){var n=this,t=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"$root";return this.model.change(function(i){return n.upcastDispatcher.convert(e,i,t)})}},{key:"addStyleProcessorRules",value:function(e){e(this.stylesProcessor)}},{key:"destroy",value:function(){this.stopListening()}},{key:"_checkIfRootsExists",value:function(e){var n=p(e),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;if(!this.model.document.getRootNames().includes(i))return!1}}catch(o){n.e(o)}finally{n.f()}return!0}}]),a}();tn(Lu,Jn);var Vv=function(){function a(r,e){w(this,a),this._helpers=new Map,this._downcast=Array.isArray(r)?r:[r],this._createConversionHelpers({name:"downcast",dispatchers:this._downcast,isDowncast:!0}),this._upcast=Array.isArray(e)?e:[e],this._createConversionHelpers({name:"upcast",dispatchers:this._upcast,isDowncast:!1})}return _(a,[{key:"addAlias",value:function(e,n){var t=this._downcast.includes(n);if(!this._upcast.includes(n)&&!t)throw new le.b("conversion-add-alias-dispatcher-not-registered: Trying to register and alias for a dispatcher that nas not been registered.",this);this._createConversionHelpers({name:e,dispatchers:[n],isDowncast:t})}},{key:"for",value:function(e){if(!this._helpers.has(e))throw new le.b("conversion-for-unknown-group: Trying to add a converter to an unknown dispatchers group.",this);return this._helpers.get(e)}},{key:"elementToElement",value:function(e){this.for("downcast").elementToElement(e);var n=p(Ys(e)),t;try{for(n.s();!(t=n.n()).done;){var i=t.value,o=i.model,s=i.view;this.for("upcast").elementToElement({model:o,view:s,converterPriority:e.converterPriority})}}catch(l){n.e(l)}finally{n.f()}}},{key:"attributeToElement",value:function(e){this.for("downcast").attributeToElement(e);var n=p(Ys(e)),t;try{for(n.s();!(t=n.n()).done;){var i=t.value,o=i.model,s=i.view;this.for("upcast").elementToAttribute({view:s,model:o,converterPriority:e.converterPriority})}}catch(l){n.e(l)}finally{n.f()}}},{key:"attributeToAttribute",value:function(e){this.for("downcast").attributeToAttribute(e);var n=p(Ys(e)),t;try{for(n.s();!(t=n.n()).done;){var i=t.value,o=i.model,s=i.view;this.for("upcast").attributeToAttribute({view:s,model:o})}}catch(l){n.e(l)}finally{n.f()}}},{key:"_createConversionHelpers",value:function(e){var n=e.name,t=e.dispatchers,i=e.isDowncast;if(this._helpers.has(n))throw new le.b("conversion-group-exists: Trying to register a group name that has already been registered.",this);var o=i?new Ov(t):new Pv(t);this._helpers.set(n,o)}}]),a}();function Ys(a){var r,e,n,t,i,o;return V.wrap(function(l){for(;;)switch(l.prev=l.next){case 0:if(!a.model.values){l.next=20;break}r=p(a.model.values),l.prev=2,r.s();case 4:if((e=r.n()).done){l.next=10;break}return n=e.value,t={key:a.model.key,value:n},i=a.view[n],o=a.upcastAlso?a.upcastAlso[n]:void 0,l.delegateYield(cc(t,i,o),"t0",8);case 8:l.next=4;break;case 10:l.next=15;break;case 12:l.prev=12,l.t1=l.catch(2),r.e(l.t1);case 15:return l.prev=15,r.f(),l.finish(15);case 18:l.next=21;break;case 20:return l.delegateYield(cc(a.model,a.view,a.upcastAlso),"t2",21);case 21:case"end":return l.stop()}},K,null,[[2,12,15,18]])}function cc(a,r,e){var n,t,i;return V.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:return s.next=2,{model:a,view:r};case 2:if(!e){s.next=21;break}e=Array.isArray(e)?e:[e],n=p(e),s.prev=5,n.s();case 7:if((t=n.n()).done){s.next=13;break}return i=t.value,s.next=11,{model:a,view:i};case 11:s.next=7;break;case 13:s.next=18;break;case 15:s.prev=15,s.t0=s.catch(5),n.e(s.t0);case 18:return s.prev=18,n.f(),s.finish(18);case 21:case"end":return s.stop()}},y,null,[[5,15,18,21]])}var $s=function(){function a(){var r=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"default";w(this,a),this.operations=[],this.type=r}return _(a,[{key:"baseVersion",get:function(){var e=p(this.operations),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;if(t.baseVersion!==null)return t.baseVersion}}catch(i){e.e(i)}finally{e.f()}return null}},{key:"addOperation",value:function(e){return e.batch=this,this.operations.push(e),e}}]),a}(),mi=function(){function a(r){w(this,a),this.baseVersion=r,this.isDocumentOperation=this.baseVersion!==null,this.batch=null}return _(a,[{key:"_validate",value:function(){}},{key:"toJSON",value:function(){var e=Object.assign({},this);return e.__className=this.constructor.className,delete e.batch,delete e.isDocumentOperation,e}}],[{key:"className",get:function(){return"Operation"}},{key:"fromJSON",value:function(e){return new this(e.baseVersion)}}]),a}(),Ia=function(){function a(r){w(this,a),this.markers=new Map,this._children=new uo,r&&this._insertChild(0,r)}return _(a,[{key:Symbol.iterator,value:function(){return this.getChildren()}},{key:"childCount",get:function(){return this._children.length}},{key:"maxOffset",get:function(){return this._children.maxOffset}},{key:"isEmpty",get:function(){return this.childCount===0}},{key:"root",get:function(){return this}},{key:"parent",get:function(){return null}},{key:"is",value:function(e){return e==="documentFragment"||e==="model:documentFragment"}},{key:"getChild",value:function(e){return this._children.getNode(e)}},{key:"getChildren",value:function(){return this._children[Symbol.iterator]()}},{key:"getChildIndex",value:function(e){return this._children.getNodeIndex(e)}},{key:"getChildStartOffset",value:function(e){return this._children.getNodeStartOffset(e)}},{key:"getPath",value:function(){return[]}},{key:"getNodeByPath",value:function(e){var n=this,t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;n=n.getChild(n.offsetToIndex(o))}}catch(s){t.e(s)}finally{t.f()}return n}},{key:"offsetToIndex",value:function(e){return this._children.offsetToIndex(e)}},{key:"toJSON",value:function(){var e=[],n=p(this._children),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;e.push(i.toJSON())}}catch(o){n.e(o)}finally{n.f()}return e}},{key:"_appendChild",value:function(e){this._insertChild(this.childCount,e)}},{key:"_insertChild",value:function(e,n){var t=function(l){return typeof l=="string"?[new fr(l)]:(Lr(l)||(l=[l]),Array.from(l).map(function(c){return typeof c=="string"?new fr(c):c instanceof Ni?new fr(c.data,c.getAttributes()):c}))}(n),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;s.parent!==null&&s._remove(),s.parent=this}}catch(l){i.e(l)}finally{i.f()}this._children._insertNodes(e,t)}},{key:"_removeChildren",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1,t=this._children._removeNodes(e,n),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;s.parent=null}}catch(l){i.e(l)}finally{i.f()}return t}}],[{key:"fromJSON",value:function(e){var n=[],t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;o.name?n.push(vr.fromJSON(o)):n.push(fr.fromJSON(o))}}catch(s){t.e(s)}finally{t.f()}return new a(n)}}]),a}();function uc(a,r){var e=(r=Vu(r)).reduce(function(i,o){return i+o.offsetSize},0),n=a.parent;rs(a);var t=a.index;return n._insertChild(t,r),ns(n,t+r.length),ns(n,t),new He(a,a.getShiftedBy(e))}function Bu(a){if(!a.isFlat)throw new le.b("operation-utils-remove-range-not-flat: Trying to remove a range which starts and ends in different element.",this);var r=a.start.parent;rs(a.start),rs(a.end);var e=r._removeChildren(a.start.index,a.end.index-a.start.index);return ns(r,a.start.index),e}function ts(a,r){if(!a.isFlat)throw new le.b("operation-utils-move-range-not-flat: Trying to move a range which starts and ends in different element.",this);var e=Bu(a);return uc(r=r._getTransformedByDeletion(a.start,a.end.offset-a.start.offset),e)}function Vu(a){var r=[];a instanceof Array||(a=[a]);for(var e=0;e<a.length;e++)if(typeof a[e]=="string")r.push(new fr(a[e]));else if(a[e]instanceof Ni)r.push(new fr(a[e].data,a[e].getAttributes()));else if(a[e]instanceof Ia||a[e]instanceof uo){var n=p(a[e]),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;r.push(i)}}catch(c){n.e(c)}finally{n.f()}}else a[e]instanceof qo&&r.push(a[e]);for(var o=1;o<r.length;o++){var s=r[o],l=r[o-1];s instanceof fr&&l instanceof fr&&zu(s,l)&&(r.splice(o-1,2,new fr(l.data+s.data,l.getAttributes())),o--)}return r}function ns(a,r){var e=a.getChild(r-1),n=a.getChild(r);if(e&&n&&e.is("text")&&n.is("text")&&zu(e,n)){var t=new fr(e.data+n.data,e.getAttributes());a._removeChildren(r-1,2),a._insertChild(r-1,t)}}function rs(a){var r=a.textNode,e=a.parent;if(r){var n=a.offset-r.startOffset,t=r.index;e._removeChildren(t,1);var i=new fr(r.data.substr(0,n),r.getAttributes()),o=new fr(r.data.substr(n),r.getAttributes());e._insertChild(t,[i,o])}}function zu(a,r){var e=a.getAttributes(),n=r.getAttributes(),t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(o[1]!==r.getAttribute(o[0]))return!1;n.next()}}catch(s){t.e(s)}finally{t.f()}return n.next().done}var Uu=function(r,e){return g(r,e)},Vr=function(a){O(e,a);var r=D(e);function e(n,t,i,o,s){var l;return w(this,e),l=r.call(this,s),l.range=n.clone(),l.key=t,l.oldValue=i===void 0?null:i,l.newValue=o===void 0?null:o,l}return _(e,[{key:"type",get:function(){return this.oldValue===null?"addAttribute":this.newValue===null?"removeAttribute":"changeAttribute"}},{key:"clone",value:function(){return new e(this.range,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new e(this.range,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"toJSON",value:function(){var t=b(x(e.prototype),"toJSON",this).call(this);return t.range=this.range.toJSON(),t}},{key:"_validate",value:function(){if(!this.range.isFlat)throw new le.b("attribute-operation-range-not-flat: The range to change is not flat.",this);var t=p(this.range.getItems({shallow:!0})),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(this.oldValue!==null&&!Uu(o.getAttribute(this.key),this.oldValue))throw new le.b("attribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{item:o,key:this.key,value:this.oldValue});if(this.oldValue===null&&this.newValue!==null&&o.hasAttribute(this.key))throw new le.b("attribute-operation-attribute-exists: The attribute with given key already exists.",this,{node:o,key:this.key})}}catch(s){t.e(s)}finally{t.f()}}},{key:"_execute",value:function(){Uu(this.oldValue,this.newValue)||function(t,i,o){rs(t.start),rs(t.end);var s=p(t.getItems({shallow:!0})),l;try{for(s.s();!(l=s.n()).done;){var c=l.value,u=c.is("textProxy")?c.textNode:c;o!==null?u._setAttribute(i,o):u._removeAttribute(i),ns(u.parent,u.index)}}catch(d){s.e(d)}finally{s.f()}ns(t.end.parent,t.end.index)}(this.range,this.key,this.newValue)}}],[{key:"className",get:function(){return"AttributeOperation"}},{key:"fromJSON",value:function(t,i){return new e(He.fromJSON(t.range,i),t.key,t.oldValue,t.newValue,t.baseVersion)}}]),e}(mi),zv=function(a){O(e,a);var r=D(e);function e(n,t){var i;return w(this,e),i=r.call(this,null),i.sourcePosition=n.clone(),i.howMany=t,i}return _(e,[{key:"type",get:function(){return"detach"}},{key:"toJSON",value:function(){var t=b(x(e.prototype),"toJSON",this).call(this);return t.sourcePosition=this.sourcePosition.toJSON(),t}},{key:"_validate",value:function(){if(this.sourcePosition.root.document)throw new le.b("detach-operation-on-document-node: Cannot detach document node.",this)}},{key:"_execute",value:function(){Bu(He._createFromPositionAndShift(this.sourcePosition,this.howMany))}}],[{key:"className",get:function(){return"DetachOperation"}}]),e}(mi),qn=function(a){O(e,a);var r=D(e);function e(n,t,i,o){var s;return w(this,e),s=r.call(this,o),s.sourcePosition=n.clone(),s.sourcePosition.stickiness="toNext",s.howMany=t,s.targetPosition=i.clone(),s.targetPosition.stickiness="toNone",s}return _(e,[{key:"type",get:function(){return this.targetPosition.root.rootName=="$graveyard"?"remove":this.sourcePosition.root.rootName=="$graveyard"?"reinsert":"move"}},{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.baseVersion)}},{key:"getMovedRangeStart",value:function(){return this.targetPosition._getTransformedByDeletion(this.sourcePosition,this.howMany)}},{key:"getReversed",value:function(){var t=this.sourcePosition._getTransformedByInsertion(this.targetPosition,this.howMany);return new this.constructor(this.getMovedRangeStart(),this.howMany,t,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.sourcePosition.parent,i=this.targetPosition.parent,o=this.sourcePosition.offset,s=this.targetPosition.offset;if(o+this.howMany>t.maxOffset)throw new le.b("move-operation-nodes-do-not-exist: The nodes which should be moved do not exist.",this);if(t===i&&o<s&&s<o+this.howMany)throw new le.b("move-operation-range-into-itself: Trying to move a range of nodes to the inside of that range.",this);if(this.sourcePosition.root==this.targetPosition.root&&ee(this.sourcePosition.getParentPath(),this.targetPosition.getParentPath())=="prefix"){var l=this.sourcePosition.path.length-1;if(this.targetPosition.path[l]>=o&&this.targetPosition.path[l]<o+this.howMany)throw new le.b("move-operation-node-into-itself: Trying to move a range of nodes into one of nodes from that range.",this)}}},{key:"_execute",value:function(){ts(He._createFromPositionAndShift(this.sourcePosition,this.howMany),this.targetPosition)}},{key:"toJSON",value:function(){var t=b(x(e.prototype),"toJSON",this).call(this);return t.sourcePosition=this.sourcePosition.toJSON(),t.targetPosition=this.targetPosition.toJSON(),t}}],[{key:"className",get:function(){return"MoveOperation"}},{key:"fromJSON",value:function(t,i){var o=Ze.fromJSON(t.sourcePosition,i),s=Ze.fromJSON(t.targetPosition,i);return new this(o,t.howMany,s,t.baseVersion)}}]),e}(mi),$r=function(a){O(e,a);var r=D(e);function e(n,t,i){var o;return w(this,e),o=r.call(this,i),o.position=n.clone(),o.position.stickiness="toNone",o.nodes=new uo(Vu(t)),o.shouldReceiveAttributes=!1,o}return _(e,[{key:"type",get:function(){return"insert"}},{key:"howMany",get:function(){return this.nodes.maxOffset}},{key:"clone",value:function(){var t=new uo(R(this.nodes).map(function(o){return o._clone(!0)})),i=new e(this.position,t,this.baseVersion);return i.shouldReceiveAttributes=this.shouldReceiveAttributes,i}},{key:"getReversed",value:function(){var t=this.position.root.document.graveyard,i=new Ze(t,[0]);return new qn(this.position,this.nodes.maxOffset,i,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.position.parent;if(!t||t.maxOffset<this.position.offset)throw new le.b("insert-operation-position-invalid: Insertion position is invalid.",this)}},{key:"_execute",value:function(){var t=this.nodes;this.nodes=new uo(R(t).map(function(i){return i._clone(!0)})),uc(this.position,t)}},{key:"toJSON",value:function(){var t=b(x(e.prototype),"toJSON",this).call(this);return t.position=this.position.toJSON(),t.nodes=this.nodes.toJSON(),t}}],[{key:"className",get:function(){return"InsertOperation"}},{key:"fromJSON",value:function(t,i){var o=[],s=p(t.nodes),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;c.name?o.push(vr.fromJSON(c)):o.push(fr.fromJSON(c))}}catch(d){s.e(d)}finally{s.f()}var u=new e(Ze.fromJSON(t.position,i),o,t.baseVersion);return u.shouldReceiveAttributes=t.shouldReceiveAttributes,u}}]),e}(mi),Fi=function(a){O(e,a);var r=D(e);function e(n,t,i,o,s,l){var c;return w(this,e),c=r.call(this,l),c.name=n,c.oldRange=t?t.clone():null,c.newRange=i?i.clone():null,c.affectsData=s,c._markers=o,c}return _(e,[{key:"type",get:function(){return"marker"}},{key:"clone",value:function(){return new e(this.name,this.oldRange,this.newRange,this._markers,this.affectsData,this.baseVersion)}},{key:"getReversed",value:function(){return new e(this.name,this.newRange,this.oldRange,this._markers,this.affectsData,this.baseVersion+1)}},{key:"_execute",value:function(){var t=this.newRange?"_set":"_remove";this._markers[t](this.name,this.newRange,!0,this.affectsData)}},{key:"toJSON",value:function(){var t=b(x(e.prototype),"toJSON",this).call(this);return this.oldRange&&(t.oldRange=this.oldRange.toJSON()),this.newRange&&(t.newRange=this.newRange.toJSON()),delete t._markers,t}}],[{key:"className",get:function(){return"MarkerOperation"}},{key:"fromJSON",value:function(t,i){return new e(t.name,t.oldRange?He.fromJSON(t.oldRange,i):null,t.newRange?He.fromJSON(t.newRange,i):null,i.model.markers,t.affectsData,t.baseVersion)}}]),e}(mi),Li=function(a){O(e,a);var r=D(e);function e(n,t,i,o){var s;return w(this,e),s=r.call(this,o),s.position=n,s.position.stickiness="toNext",s.oldName=t,s.newName=i,s}return _(e,[{key:"type",get:function(){return"rename"}},{key:"clone",value:function(){return new e(this.position.clone(),this.oldName,this.newName,this.baseVersion)}},{key:"getReversed",value:function(){return new e(this.position.clone(),this.newName,this.oldName,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.position.nodeAfter;if(!(t instanceof vr))throw new le.b("rename-operation-wrong-position: Given position is invalid or node after it is not an instance of Element.",this);if(t.name!==this.oldName)throw new le.b("rename-operation-wrong-name: Element to change has different name than operation's old name.",this)}},{key:"_execute",value:function(){this.position.nodeAfter.name=this.newName}},{key:"toJSON",value:function(){var t=b(x(e.prototype),"toJSON",this).call(this);return t.position=this.position.toJSON(),t}}],[{key:"className",get:function(){return"RenameOperation"}},{key:"fromJSON",value:function(t,i){return new e(Ze.fromJSON(t.position,i),t.oldName,t.newName,t.baseVersion)}}]),e}(mi),is=function(a){O(e,a);var r=D(e);function e(n,t,i,o,s){var l;return w(this,e),l=r.call(this,s),l.root=n,l.key=t,l.oldValue=i,l.newValue=o,l}return _(e,[{key:"type",get:function(){return this.oldValue===null?"addRootAttribute":this.newValue===null?"removeRootAttribute":"changeRootAttribute"}},{key:"clone",value:function(){return new e(this.root,this.key,this.oldValue,this.newValue,this.baseVersion)}},{key:"getReversed",value:function(){return new e(this.root,this.key,this.newValue,this.oldValue,this.baseVersion+1)}},{key:"_validate",value:function(){if(this.root!=this.root.root||this.root.is("documentFragment"))throw new le.b("rootattribute-operation-not-a-root: The element to change is not a root element.",this,{root:this.root,key:this.key});if(this.oldValue!==null&&this.root.getAttribute(this.key)!==this.oldValue)throw new le.b("rootattribute-operation-wrong-old-value: Changed node has different attribute value than operation's old attribute value.",this,{root:this.root,key:this.key});if(this.oldValue===null&&this.newValue!==null&&this.root.hasAttribute(this.key))throw new le.b("rootattribute-operation-attribute-exists: The attribute with given key already exists.",this,{root:this.root,key:this.key})}},{key:"_execute",value:function(){this.newValue!==null?this.root._setAttribute(this.key,this.newValue):this.root._removeAttribute(this.key)}},{key:"toJSON",value:function(){var t=b(x(e.prototype),"toJSON",this).call(this);return t.root=this.root.toJSON(),t}}],[{key:"className",get:function(){return"RootAttributeOperation"}},{key:"fromJSON",value:function(t,i){if(!i.getRoot(t.root))throw new le.b("rootattribute-operation-fromjson-no-root: Cannot create RootAttributeOperation. Root with specified name does not exist.",this,{rootName:t.root});return new e(i.getRoot(t.root),t.key,t.oldValue,t.newValue,t.baseVersion)}}]),e}(mi),Or=function(a){O(e,a);var r=D(e);function e(n,t,i,o,s){var l;return w(this,e),l=r.call(this,s),l.sourcePosition=n.clone(),l.sourcePosition.stickiness="toPrevious",l.howMany=t,l.targetPosition=i.clone(),l.targetPosition.stickiness="toNext",l.graveyardPosition=o.clone(),l}return _(e,[{key:"type",get:function(){return"merge"}},{key:"deletionPosition",get:function(){return new Ze(this.sourcePosition.root,this.sourcePosition.path.slice(0,-1))}},{key:"movedRange",get:function(){var t=this.sourcePosition.getShiftedBy(Number.POSITIVE_INFINITY);return new He(this.sourcePosition,t)}},{key:"clone",value:function(){return new this.constructor(this.sourcePosition,this.howMany,this.targetPosition,this.graveyardPosition,this.baseVersion)}},{key:"getReversed",value:function(){var t=this.targetPosition._getTransformedByMergeOperation(this),i=this.sourcePosition.path.slice(0,-1),o=new Ze(this.sourcePosition.root,i)._getTransformedByMergeOperation(this),s=new sr(t,this.howMany,this.graveyardPosition,this.baseVersion+1);return s.insertionPosition=o,s}},{key:"_validate",value:function(){var t=this.sourcePosition.parent,i=this.targetPosition.parent;if(!t.parent)throw new le.b("merge-operation-source-position-invalid: Merge source position is invalid.",this);if(!i.parent)throw new le.b("merge-operation-target-position-invalid: Merge target position is invalid.",this);if(this.howMany!=t.maxOffset)throw new le.b("merge-operation-how-many-invalid: Merge operation specifies wrong number of nodes to move.",this)}},{key:"_execute",value:function(){var t=this.sourcePosition.parent;ts(He._createIn(t),this.targetPosition),ts(He._createOn(t),this.graveyardPosition)}},{key:"toJSON",value:function(){var t=b(x(e.prototype),"toJSON",this).call(this);return t.sourcePosition=t.sourcePosition.toJSON(),t.targetPosition=t.targetPosition.toJSON(),t.graveyardPosition=t.graveyardPosition.toJSON(),t}}],[{key:"className",get:function(){return"MergeOperation"}},{key:"fromJSON",value:function(t,i){var o=Ze.fromJSON(t.sourcePosition,i),s=Ze.fromJSON(t.targetPosition,i),l=Ze.fromJSON(t.graveyardPosition,i);return new this(o,t.howMany,s,l,t.baseVersion)}}]),e}(mi),sr=function(a){O(e,a);var r=D(e);function e(n,t,i,o){var s;return w(this,e),s=r.call(this,o),s.splitPosition=n.clone(),s.splitPosition.stickiness="toNext",s.howMany=t,s.insertionPosition=e.getInsertionPosition(n),s.insertionPosition.stickiness="toNone",s.graveyardPosition=i?i.clone():null,s.graveyardPosition&&(s.graveyardPosition.stickiness="toNext"),s}return _(e,[{key:"type",get:function(){return"split"}},{key:"moveTargetPosition",get:function(){var t=this.insertionPosition.path.slice();return t.push(0),new Ze(this.insertionPosition.root,t)}},{key:"movedRange",get:function(){var t=this.splitPosition.getShiftedBy(Number.POSITIVE_INFINITY);return new He(this.splitPosition,t)}},{key:"clone",value:function(){var t=new this.constructor(this.splitPosition,this.howMany,this.graveyardPosition,this.baseVersion);return t.insertionPosition=this.insertionPosition,t}},{key:"getReversed",value:function(){var t=this.splitPosition.root.document.graveyard,i=new Ze(t,[0]);return new Or(this.moveTargetPosition,this.howMany,this.splitPosition,i,this.baseVersion+1)}},{key:"_validate",value:function(){var t=this.splitPosition.parent,i=this.splitPosition.offset;if(!t||t.maxOffset<i)throw new le.b("split-operation-position-invalid: Split position is invalid.",this);if(!t.parent)throw new le.b("split-operation-split-in-root: Cannot split root element.",this);if(this.howMany!=t.maxOffset-this.splitPosition.offset)throw new le.b("split-operation-how-many-invalid: Split operation specifies wrong number of nodes to move.",this);if(this.graveyardPosition&&!this.graveyardPosition.nodeAfter)throw new le.b("split-operation-graveyard-position-invalid: Graveyard position invalid.",this)}},{key:"_execute",value:function(){var t=this.splitPosition.parent;if(this.graveyardPosition)ts(He._createFromPositionAndShift(this.graveyardPosition,1),this.insertionPosition);else{var i=t._clone();uc(this.insertionPosition,i)}ts(new He(Ze._createAt(t,this.splitPosition.offset),Ze._createAt(t,t.maxOffset)),this.moveTargetPosition)}},{key:"toJSON",value:function(){var t=b(x(e.prototype),"toJSON",this).call(this);return t.splitPosition=this.splitPosition.toJSON(),t.insertionPosition=this.insertionPosition.toJSON(),this.graveyardPosition&&(t.graveyardPosition=this.graveyardPosition.toJSON()),t}}],[{key:"className",get:function(){return"SplitOperation"}},{key:"getInsertionPosition",value:function(t){var i=t.path.slice(0,-1);return i[i.length-1]++,new Ze(t.root,i)}},{key:"fromJSON",value:function(t,i){var o=Ze.fromJSON(t.splitPosition,i),s=Ze.fromJSON(t.insertionPosition,i),l=t.graveyardPosition?Ze.fromJSON(t.graveyardPosition,i):null,c=new this(o,t.howMany,l,t.baseVersion);return c.insertionPosition=s,c}}]),e}(mi),dc=function(a){O(e,a);var r=D(e);function e(n,t){var i,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"main";return w(this,e),i=r.call(this,t),i._document=n,i.rootName=o,i}return _(e,[{key:"document",get:function(){return this._document}},{key:"is",value:function(t,i){return i?i===this.name&&(t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"):t==="rootElement"||t==="model:rootElement"||t==="element"||t==="model:element"||t===this.name||t==="model:"+this.name||t==="node"||t==="model:node"}},{key:"toJSON",value:function(){return this.rootName}}]),e}(vr),Uv=function(){function a(r,e){w(this,a),this.model=r,this.batch=e}return _(a,[{key:"createText",value:function(e,n){return new fr(e,n)}},{key:"createElement",value:function(e,n){return new vr(e,n)}},{key:"createDocumentFragment",value:function(){return new Ia}},{key:"insert",value:function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0;if(this._assertWriterUsedCorrectly(),!(e instanceof fr&&e.data=="")){var i=Ze._createAt(n,t);if(e.parent){if(Ku(e.root,i.root))return void this.move(He._createOn(e),i);if(e.root.document)throw new le.b("model-writer-insert-forbidden-move: Cannot move a node from a document to a different tree. It is forbidden to move a node that was already in a document outside of it.",this);this.remove(e)}var o=i.root.document?i.root.document.version:null,s=new $r(i,e,o);if(e instanceof fr&&(s.shouldReceiveAttributes=!0),this.batch.addOperation(s),this.model.applyOperation(s),e instanceof Ia){var l=p(e.markers),c;try{for(l.s();!(c=l.n()).done;){var u=c.value,d=C(u,2),h=d[0],v=d[1],m=Ze._createAt(v.root,0),k={range:new He(v.start._getCombined(m,i),v.end._getCombined(m,i)),usingOperation:!0,affectsData:!0};this.model.markers.has(h)?this.updateMarker(h,k):this.addMarker(h,k)}}catch(E){l.e(E)}finally{l.f()}}}}},{key:"insertText",value:function(e,n,t,i){n instanceof Ia||n instanceof vr||n instanceof Ze?this.insert(this.createText(e),n,t):this.insert(this.createText(e,n),t,i)}},{key:"insertElement",value:function(e,n,t,i){n instanceof Ia||n instanceof vr||n instanceof Ze?this.insert(this.createElement(e),n,t):this.insert(this.createElement(e,n),t,i)}},{key:"append",value:function(e,n){this.insert(e,n,"end")}},{key:"appendText",value:function(e,n,t){n instanceof Ia||n instanceof vr?this.insert(this.createText(e),n,"end"):this.insert(this.createText(e,n),t,"end")}},{key:"appendElement",value:function(e,n,t){n instanceof Ia||n instanceof vr?this.insert(this.createElement(e),n,"end"):this.insert(this.createElement(e,n),t,"end")}},{key:"setAttribute",value:function(e,n,t){if(this._assertWriterUsedCorrectly(),t instanceof He){var i=t.getMinimalFlatRanges(),o=p(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;Wu(this,e,n,l)}}catch(c){o.e(c)}finally{o.f()}}else Hu(this,e,n,t)}},{key:"setAttributes",value:function(e,n){var t=p(bn(e)),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=C(o,2),l=s[0],c=s[1];this.setAttribute(l,c,n)}}catch(u){t.e(u)}finally{t.f()}}},{key:"removeAttribute",value:function(e,n){if(this._assertWriterUsedCorrectly(),n instanceof He){var t=n.getMinimalFlatRanges(),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;Wu(this,e,null,s)}}catch(l){i.e(l)}finally{i.f()}}else Hu(this,e,null,n)}},{key:"clearAttributes",value:function(e){var n=this;this._assertWriterUsedCorrectly();var t=function(c){var u=p(c.getAttributeKeys()),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;n.removeAttribute(h,c)}}catch(v){u.e(v)}finally{u.f()}};if(e instanceof He){var i=p(e.getItems()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;t(s)}}catch(l){i.e(l)}finally{i.f()}}else t(e)}},{key:"move",value:function(e,n,t){if(this._assertWriterUsedCorrectly(),!(e instanceof He))throw new le.b("writer-move-invalid-range: Invalid range to move.",this);if(!e.isFlat)throw new le.b("writer-move-range-not-flat: Range to move is not flat.",this);var i=Ze._createAt(n,t);if(!i.isEqual(e.start)){if(this._addOperationForAffectedMarkers("move",e),!Ku(e.root,i.root))throw new le.b("writer-move-different-document: Range is going to be moved between different documents.",this);var o=e.root.document?e.root.document.version:null,s=new qn(e.start,e.end.offset-e.start.offset,i,o);this.batch.addOperation(s),this.model.applyOperation(s)}}},{key:"remove",value:function(e){this._assertWriterUsedCorrectly();var n=(e instanceof He?e:He._createOn(e)).getMinimalFlatRanges().reverse(),t=p(n),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._addOperationForAffectedMarkers("move",o),Wv(o.start,o.end.offset-o.start.offset,this.batch,this.model)}}catch(s){t.e(s)}finally{t.f()}}},{key:"merge",value:function(e){this._assertWriterUsedCorrectly();var n=e.nodeBefore,t=e.nodeAfter;if(this._addOperationForAffectedMarkers("merge",e),!(n instanceof vr))throw new le.b("writer-merge-no-element-before: Node before merge position must be an element.",this);if(!(t instanceof vr))throw new le.b("writer-merge-no-element-after: Node after merge position must be an element.",this);e.root.document?this._merge(e):this._mergeDetached(e)}},{key:"createPositionFromPath",value:function(e,n,t){return this.model.createPositionFromPath(e,n,t)}},{key:"createPositionAt",value:function(e,n){return this.model.createPositionAt(e,n)}},{key:"createPositionAfter",value:function(e){return this.model.createPositionAfter(e)}},{key:"createPositionBefore",value:function(e){return this.model.createPositionBefore(e)}},{key:"createRange",value:function(e,n){return this.model.createRange(e,n)}},{key:"createRangeIn",value:function(e){return this.model.createRangeIn(e)}},{key:"createRangeOn",value:function(e){return this.model.createRangeOn(e)}},{key:"createSelection",value:function(e,n,t){return this.model.createSelection(e,n,t)}},{key:"_mergeDetached",value:function(e){var n=e.nodeBefore,t=e.nodeAfter;this.move(He._createIn(t),Ze._createAt(n,"end")),this.remove(t)}},{key:"_merge",value:function(e){var n=Ze._createAt(e.nodeBefore,"end"),t=Ze._createAt(e.nodeAfter,0),i=e.root.document.graveyard,o=new Ze(i,[0]),s=e.root.document.version,l=new Or(t,e.nodeAfter.maxOffset,n,o,s);this.batch.addOperation(l),this.model.applyOperation(l)}},{key:"rename",value:function(e,n){if(this._assertWriterUsedCorrectly(),!(e instanceof vr))throw new le.b("writer-rename-not-element-instance: Trying to rename an object which is not an instance of Element.",this);var t=e.root.document?e.root.document.version:null,i=new Li(Ze._createBefore(e),e.name,n,t);this.batch.addOperation(i),this.model.applyOperation(i)}},{key:"split",value:function(e,n){this._assertWriterUsedCorrectly();var t,i,o=e.parent;if(!o.parent)throw new le.b("writer-split-element-no-parent: Element with no parent can not be split.",this);if(n||(n=o.parent),!e.parent.getAncestors({includeSelf:!0}).includes(n))throw new le.b("writer-split-invalid-limit-element: Limit element is not a position ancestor.",this);do{var s=o.root.document?o.root.document.version:null,l=o.maxOffset-e.offset,c=new sr(e,l,null,s);this.batch.addOperation(c),this.model.applyOperation(c),t||i||(t=o,i=e.parent.nextSibling),o=(e=this.createPositionAfter(e.parent)).parent}while(o!==n);return{position:e,range:new He(Ze._createAt(t,"end"),Ze._createAt(i,0))}}},{key:"wrap",value:function(e,n){if(this._assertWriterUsedCorrectly(),!e.isFlat)throw new le.b("writer-wrap-range-not-flat: Range to wrap is not flat.",this);var t=n instanceof vr?n:new vr(n);if(t.childCount>0)throw new le.b("writer-wrap-element-not-empty: Element to wrap with is not empty.",this);if(t.parent!==null)throw new le.b("writer-wrap-element-attached: Element to wrap with is already attached to tree model.",this);this.insert(t,e.start);var i=new He(e.start.getShiftedBy(1),e.end.getShiftedBy(1));this.move(i,Ze._createAt(t,0))}},{key:"unwrap",value:function(e){if(this._assertWriterUsedCorrectly(),e.parent===null)throw new le.b("writer-unwrap-element-no-parent: Trying to unwrap an element which has no parent.",this);this.move(He._createIn(e),this.createPositionAfter(e)),this.remove(e)}},{key:"addMarker",value:function(e,n){if(this._assertWriterUsedCorrectly(),!n||typeof n.usingOperation!="boolean")throw new le.b("writer-addMarker-no-usingOperation: The options.usingOperation parameter is required when adding a new marker.",this);var t=n.usingOperation,i=n.range,o=n.affectsData!==void 0&&n.affectsData;if(this.model.markers.has(e))throw new le.b("writer-addMarker-marker-exists: Marker with provided name already exists.",this);if(!i)throw new le.b("writer-addMarker-no-range: Range parameter is required when adding a new marker.",this);return t?(as(this,e,null,i,o),this.model.markers.get(e)):this.model.markers._set(e,i,t,o)}},{key:"updateMarker",value:function(e,n){this._assertWriterUsedCorrectly();var t=typeof e=="string"?e:e.name,i=this.model.markers.get(t);if(!i)throw new le.b("writer-updateMarker-marker-not-exists: Marker with provided name does not exists.",this);if(!n)return void this.model.markers._refresh(i);var o=typeof n.usingOperation=="boolean",s=typeof n.affectsData=="boolean",l=s?n.affectsData:i.affectsData;if(!o&&!n.range&&!s)throw new le.b("writer-updateMarker-wrong-options: One of the options is required - provide range, usingOperations or affectsData.",this);var c=i.getRange(),u=n.range?n.range:c;o&&n.usingOperation!==i.managedUsingOperations?n.usingOperation?as(this,t,null,u,l):(as(this,t,c,null,l),this.model.markers._set(t,u,void 0,l)):i.managedUsingOperations?as(this,t,c,u,l):this.model.markers._set(t,u,void 0,l)}},{key:"removeMarker",value:function(e){this._assertWriterUsedCorrectly();var n=typeof e=="string"?e:e.name;if(!this.model.markers.has(n))throw new le.b("writer-removeMarker-no-marker: Trying to remove marker which does not exist.",this);var t=this.model.markers.get(n);if(!t.managedUsingOperations)return void this.model.markers._remove(n);as(this,n,t.getRange(),null,t.affectsData)}},{key:"setSelection",value:function(e,n,t){this._assertWriterUsedCorrectly(),this.model.document.selection._setTo(e,n,t)}},{key:"setSelectionFocus",value:function(e,n){this._assertWriterUsedCorrectly(),this.model.document.selection._setFocus(e,n)}},{key:"setSelectionAttribute",value:function(e,n){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._setSelectionAttribute(e,n);else{var t=p(bn(e)),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=C(o,2),l=s[0],c=s[1];this._setSelectionAttribute(l,c)}}catch(u){t.e(u)}finally{t.f()}}}},{key:"removeSelectionAttribute",value:function(e){if(this._assertWriterUsedCorrectly(),typeof e=="string")this._removeSelectionAttribute(e);else{var n=p(e),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;this._removeSelectionAttribute(i)}}catch(o){n.e(o)}finally{n.f()}}}},{key:"overrideSelectionGravity",value:function(){return this.model.document.selection._overrideGravity()}},{key:"restoreSelectionGravity",value:function(e){this.model.document.selection._restoreGravity(e)}},{key:"_setSelectionAttribute",value:function(e,n){var t=this.model.document.selection;if(t.isCollapsed&&t.anchor.parent.isEmpty){var i=Ai._getStoreAttributeKey(e);this.setAttribute(i,n,t.anchor.parent)}t._setAttribute(e,n)}},{key:"_removeSelectionAttribute",value:function(e){var n=this.model.document.selection;if(n.isCollapsed&&n.anchor.parent.isEmpty){var t=Ai._getStoreAttributeKey(e);this.removeAttribute(t,n.anchor.parent)}n._removeAttribute(e)}},{key:"_assertWriterUsedCorrectly",value:function(){if(this.model._currentWriter!==this)throw new le.b("writer-incorrect-use: Trying to use a writer outside the change() block.",this)}},{key:"_addOperationForAffectedMarkers",value:function(e,n){var t=p(this.model.markers),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(!!o.managedUsingOperations){var s=o.getRange(),l=!1;if(e==="move")l=n.containsPosition(s.start)||n.start.isEqual(s.start)||n.containsPosition(s.end)||n.end.isEqual(s.end);else{var c=n.nodeBefore,u=n.nodeAfter,d=s.start.parent==c&&s.start.isAtEnd,h=s.end.parent==u&&s.end.offset==0,v=s.end.nodeAfter==u,m=s.start.nodeAfter==u;l=d||h||v||m}l&&this.updateMarker(o.name,{range:s})}}}catch(k){t.e(k)}finally{t.f()}}}]),a}();function Wu(a,r,e,n){var t=a.model,i=t.document,o,s,l,c=n.start,u=p(n.getWalker({shallow:!0})),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;l=h.item.getAttribute(r),o&&s!=l&&(s!=e&&v(),c=o),o=h.nextPosition,s=l}}catch(m){u.e(m)}finally{u.f()}function v(){var m=new He(c,o),k=m.root.document?i.version:null,E=new Vr(m,r,s,e,k);a.batch.addOperation(E),t.applyOperation(E)}o instanceof Ze&&o!=c&&s!=e&&v()}function Hu(a,r,e,n){var t=a.model,i=t.document,o=n.getAttribute(r),s,l;if(o!=e){if(n.root===n){var c=n.document?i.version:null;l=new is(n,r,o,e,c)}else{s=new He(Ze._createBefore(n),a.createPositionAfter(n));var u=s.root.document?i.version:null;l=new Vr(s,r,o,e,u)}a.batch.addOperation(l),t.applyOperation(l)}}function as(a,r,e,n,t){var i=a.model,o=i.document,s=new Fi(r,e,n,i.markers,t,o.version);a.batch.addOperation(s),i.applyOperation(s)}function Wv(a,r,e,n){var t;if(a.root.document){var i=n.document,o=new Ze(i.graveyard,[0]);t=new qn(a,r,o,i.version)}else t=new zv(a,r);e.addOperation(t),n.applyOperation(t)}function Ku(a,r){return a===r||a instanceof dc&&r instanceof dc}var Hv=function(){function a(r){w(this,a),this._markerCollection=r,this._changesInElement=new Map,this._elementSnapshots=new Map,this._changedMarkers=new Map,this._changeCount=0,this._cachedChanges=null,this._cachedChangesWithGraveyard=null}return _(a,[{key:"isEmpty",get:function(){return this._changesInElement.size==0&&this._changedMarkers.size==0}},{key:"refreshItem",value:function(e){if(!this._isInInsertedElement(e.parent)){this._markRemove(e.parent,e.startOffset,e.offsetSize),this._markInsert(e.parent,e.startOffset,e.offsetSize);var n=He._createOn(e),t=p(this._markerCollection.getMarkersIntersectingRange(n)),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=o.getRange();this.bufferMarkerChange(o.name,s,s,o.affectsData)}}catch(l){t.e(l)}finally{t.f()}this._cachedChanges=null}}},{key:"bufferOperation",value:function(e){switch(e.type){case"insert":if(this._isInInsertedElement(e.position.parent))return;this._markInsert(e.position.parent,e.position.offset,e.nodes.maxOffset);break;case"addAttribute":case"removeAttribute":case"changeAttribute":var n=p(e.range.getItems({shallow:!0})),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;this._isInInsertedElement(i.parent)||this._markAttribute(i)}}catch(P){n.e(P)}finally{n.f()}break;case"remove":case"move":case"reinsert":{if(e.sourcePosition.isEqual(e.targetPosition)||e.sourcePosition.getShiftedBy(e.howMany).isEqual(e.targetPosition))return;var o=this._isInInsertedElement(e.sourcePosition.parent),s=this._isInInsertedElement(e.targetPosition.parent);o||this._markRemove(e.sourcePosition.parent,e.sourcePosition.offset,e.howMany),s||this._markInsert(e.targetPosition.parent,e.getMovedRangeStart().offset,e.howMany);break}case"rename":{if(this._isInInsertedElement(e.position.parent))return;this._markRemove(e.position.parent,e.position.offset,1),this._markInsert(e.position.parent,e.position.offset,1);var l=He._createFromPositionAndShift(e.position,1),c=p(this._markerCollection.getMarkersIntersectingRange(l)),u;try{for(c.s();!(u=c.n()).done;){var d=u.value,h=d.getRange();this.bufferMarkerChange(d.name,h,h,d.affectsData)}}catch(P){c.e(P)}finally{c.f()}break}case"split":{var v=e.splitPosition.parent;this._isInInsertedElement(v)||this._markRemove(v,e.splitPosition.offset,e.howMany),this._isInInsertedElement(e.insertionPosition.parent)||this._markInsert(e.insertionPosition.parent,e.insertionPosition.offset,1),e.graveyardPosition&&this._markRemove(e.graveyardPosition.parent,e.graveyardPosition.offset,1);break}case"merge":{var m=e.sourcePosition.parent;this._isInInsertedElement(m.parent)||this._markRemove(m.parent,m.startOffset,1);var k=e.graveyardPosition.parent;this._markInsert(k,e.graveyardPosition.offset,1);var E=e.targetPosition.parent;this._isInInsertedElement(E)||this._markInsert(E,e.targetPosition.offset,m.maxOffset);break}}this._cachedChanges=null}},{key:"bufferMarkerChange",value:function(e,n,t,i){var o=this._changedMarkers.get(e);o?(o.newRange=t,o.affectsData=i,o.oldRange==null&&o.newRange==null&&this._changedMarkers.delete(e)):this._changedMarkers.set(e,{oldRange:n,newRange:t,affectsData:i})}},{key:"getMarkersToRemove",value:function(){var e=[],n=p(this._changedMarkers),t;try{for(n.s();!(t=n.n()).done;){var i=t.value,o=C(i,2),s=o[0],l=o[1];l.oldRange!=null&&e.push({name:s,range:l.oldRange})}}catch(c){n.e(c)}finally{n.f()}return e}},{key:"getMarkersToAdd",value:function(){var e=[],n=p(this._changedMarkers),t;try{for(n.s();!(t=n.n()).done;){var i=t.value,o=C(i,2),s=o[0],l=o[1];l.newRange!=null&&e.push({name:s,range:l.newRange})}}catch(c){n.e(c)}finally{n.f()}return e}},{key:"getChangedMarkers",value:function(){return Array.from(this._changedMarkers).map(function(e){return{name:e[0],data:{oldRange:e[1].oldRange,newRange:e[1].newRange}}})}},{key:"hasDataChanges",value:function(){var e=p(this._changedMarkers),n;try{for(e.s();!(n=e.n()).done;){var t=n.value,i=C(t,2),o=i[1];if(o.affectsData)return!0}}catch(s){e.e(s)}finally{e.f()}return this._changesInElement.size>0}},{key:"getChanges",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{includeChangesInGraveyard:!1};if(this._cachedChanges)return e.includeChangesInGraveyard?this._cachedChangesWithGraveyard.slice():this._cachedChanges.slice();var n=[],t=p(this._changesInElement.keys()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=this._changesInElement.get(o).sort(function(pt,nt){return pt.offset===nt.offset?pt.type!=nt.type?pt.type=="remove"?-1:1:0:pt.offset<nt.offset?-1:1}),l=this._elementSnapshots.get(o),c=Gu(o.getChildren()),u=Kv(l.length,s),d=0,h=0,v=p(u),m;try{for(v.s();!(m=v.n()).done;){var k=m.value;if(k==="i")n.push(this._getInsertDiff(o,d,c[d].name)),d++;else if(k==="r")n.push(this._getRemoveDiff(o,d,l[h].name)),h++;else if(k==="a"){var E=c[d].attributes,P=l[h].attributes,U=void 0;if(c[d].name=="$text")U=new He(Ze._createAt(o,d),Ze._createAt(o,d+1));else{var H=o.offsetToIndex(d);U=new He(Ze._createAt(o,d),Ze._createAt(o.getChild(H),0))}n.push.apply(n,R(this._getAttributesDiff(U,P,E))),d++,h++}else d++,h++}}catch(pt){v.e(pt)}finally{v.f()}}}catch(pt){t.e(pt)}finally{t.f()}n.sort(function(pt,nt){return pt.position.root!=nt.position.root?pt.position.root.rootName<nt.position.root.rootName?-1:1:pt.position.isEqual(nt.position)?pt.changeCount-nt.changeCount:pt.position.isBefore(nt.position)?-1:1});for(var G=1;G<n.length;G++){var Z=n[G-1],ce=n[G],ye=Z.type=="remove"&&ce.type=="remove"&&Z.name=="$text"&&ce.name=="$text"&&Z.position.isEqual(ce.position),ke=Z.type=="insert"&&ce.type=="insert"&&Z.name=="$text"&&ce.name=="$text"&&Z.position.parent==ce.position.parent&&Z.position.offset+Z.length==ce.position.offset,Re=Z.type=="attribute"&&ce.type=="attribute"&&Z.position.parent==ce.position.parent&&Z.range.isFlat&&ce.range.isFlat&&Z.position.offset+Z.length==ce.position.offset&&Z.attributeKey==ce.attributeKey&&Z.attributeOldValue==ce.attributeOldValue&&Z.attributeNewValue==ce.attributeNewValue;(ye||ke||Re)&&(n[G-1].length++,Re&&(n[G-1].range.end=n[G-1].range.end.getShiftedBy(1)),n.splice(G,1),G--)}for(var Xe=0,gt=n;Xe<gt.length;Xe++){var Bt=gt[Xe];delete Bt.changeCount,Bt.type=="attribute"&&(delete Bt.position,delete Bt.length)}return this._changeCount=0,this._cachedChangesWithGraveyard=n.slice(),this._cachedChanges=n.slice().filter(Gv),e.includeChangesInGraveyard?this._cachedChangesWithGraveyard:this._cachedChanges}},{key:"reset",value:function(){this._changesInElement.clear(),this._elementSnapshots.clear(),this._changedMarkers.clear(),this._cachedChanges=null}},{key:"_markInsert",value:function(e,n,t){var i={type:"insert",offset:n,howMany:t,count:this._changeCount++};this._markChange(e,i)}},{key:"_markRemove",value:function(e,n,t){var i={type:"remove",offset:n,howMany:t,count:this._changeCount++};this._markChange(e,i),this._removeAllNestedChanges(e,n,t)}},{key:"_markAttribute",value:function(e){var n={type:"attribute",offset:e.startOffset,howMany:e.offsetSize,count:this._changeCount++};this._markChange(e.parent,n)}},{key:"_markChange",value:function(e,n){this._makeSnapshot(e);var t=this._getChangesForElement(e);this._handleChange(n,t),t.push(n);for(var i=0;i<t.length;i++)t[i].howMany<1&&(t.splice(i,1),i--)}},{key:"_getChangesForElement",value:function(e){var n;return this._changesInElement.has(e)?n=this._changesInElement.get(e):(n=[],this._changesInElement.set(e,n)),n}},{key:"_makeSnapshot",value:function(e){this._elementSnapshots.has(e)||this._elementSnapshots.set(e,Gu(e.getChildren()))}},{key:"_handleChange",value:function(e,n){e.nodesToHandle=e.howMany;var t=p(n),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=e.offset+e.howMany,l=o.offset+o.howMany;if(e.type=="insert"&&(o.type=="insert"&&(e.offset<=o.offset?o.offset+=e.howMany:e.offset<l&&(o.howMany+=e.nodesToHandle,e.nodesToHandle=0)),o.type=="remove"&&e.offset<o.offset&&(o.offset+=e.howMany),o.type=="attribute")){if(e.offset<=o.offset)o.offset+=e.howMany;else if(e.offset<l){var c=o.howMany;o.howMany=e.offset-o.offset,n.unshift({type:"attribute",offset:s,howMany:c-o.howMany,count:this._changeCount++})}}if(e.type=="remove"){if(o.type=="insert"){if(s<=o.offset)o.offset-=e.howMany;else if(s<=l)if(e.offset<o.offset){var u=s-o.offset;o.offset=e.offset,o.howMany-=u,e.nodesToHandle-=u}else o.howMany-=e.nodesToHandle,e.nodesToHandle=0;else if(e.offset<=o.offset)e.nodesToHandle-=o.howMany,o.howMany=0;else if(e.offset<l){var d=l-e.offset;o.howMany-=d,e.nodesToHandle-=d}}if(o.type=="remove"&&(s<=o.offset?o.offset-=e.howMany:e.offset<o.offset&&(e.nodesToHandle+=o.howMany,o.howMany=0)),o.type=="attribute"){if(s<=o.offset)o.offset-=e.howMany;else if(e.offset<o.offset){var h=s-o.offset;o.offset=e.offset,o.howMany-=h}else if(e.offset<l)if(s<=l){var v=o.howMany;o.howMany=e.offset-o.offset;var m=v-o.howMany-e.nodesToHandle;n.unshift({type:"attribute",offset:e.offset,howMany:m,count:this._changeCount++})}else o.howMany-=l-e.offset}}if(e.type=="attribute"){if(o.type=="insert")if(e.offset<o.offset&&s>o.offset){if(s>l){var k={type:"attribute",offset:l,howMany:s-l,count:this._changeCount++};this._handleChange(k,n),n.push(k)}e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}else e.offset>=o.offset&&e.offset<l&&(s>l?(e.nodesToHandle=s-l,e.offset=l):e.nodesToHandle=0);if(o.type=="remove"&&e.offset<o.offset&&s>o.offset){var E={type:"attribute",offset:o.offset,howMany:s-o.offset,count:this._changeCount++};this._handleChange(E,n),n.push(E),e.nodesToHandle=o.offset-e.offset,e.howMany=e.nodesToHandle}o.type=="attribute"&&(e.offset>=o.offset&&s<=l?(e.nodesToHandle=0,e.howMany=0,e.offset=0):e.offset<=o.offset&&s>=l&&(o.howMany=0))}}}catch(P){t.e(P)}finally{t.f()}e.howMany=e.nodesToHandle,delete e.nodesToHandle}},{key:"_getInsertDiff",value:function(e,n,t){return{type:"insert",position:Ze._createAt(e,n),name:t,length:1,changeCount:this._changeCount++}}},{key:"_getRemoveDiff",value:function(e,n,t){return{type:"remove",position:Ze._createAt(e,n),name:t,length:1,changeCount:this._changeCount++}}},{key:"_getAttributesDiff",value:function(e,n,t){var i=[];t=new Map(t);var o=p(n),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,c=C(l,2),u=c[0],d=c[1],h=t.has(u)?t.get(u):null;h!==d&&i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:u,attributeOldValue:d,attributeNewValue:h,changeCount:this._changeCount++}),t.delete(u)}}catch(H){o.e(H)}finally{o.f()}var v=p(t),m;try{for(v.s();!(m=v.n()).done;){var k=m.value,E=C(k,2),P=E[0],U=E[1];i.push({type:"attribute",position:e.start,range:e.clone(),length:1,attributeKey:P,attributeOldValue:null,attributeNewValue:U,changeCount:this._changeCount++})}}catch(H){v.e(H)}finally{v.f()}return i}},{key:"_isInInsertedElement",value:function(e){var n=e.parent;if(!n)return!1;var t=this._changesInElement.get(n),i=e.startOffset;if(t){var o=p(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(l.type=="insert"&&i>=l.offset&&i<l.offset+l.howMany)return!0}}catch(c){o.e(c)}finally{o.f()}}return this._isInInsertedElement(n)}},{key:"_removeAllNestedChanges",value:function(e,n,t){var i=new He(Ze._createAt(e,n),Ze._createAt(e,n+t)),o=p(i.getItems({shallow:!0})),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.is("element")&&(this._elementSnapshots.delete(l),this._changesInElement.delete(l),this._removeAllNestedChanges(l,0,l.maxOffset))}}catch(c){o.e(c)}finally{o.f()}}}]),a}();function Gu(a){var r=[],e=p(a),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;if(t.is("text"))for(var i=0;i<t.data.length;i++)r.push({name:"$text",attributes:new Map(t.getAttributes())});else r.push({name:t.name,attributes:new Map(t.getAttributes())})}}catch(o){e.e(o)}finally{e.f()}return r}function Kv(a,r){var e=[],n=0,t=0,i=p(r),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(s.offset>n){for(var l=0;l<s.offset-n;l++)e.push("e");t+=s.offset-n}if(s.type=="insert"){for(var c=0;c<s.howMany;c++)e.push("i");n=s.offset+s.howMany}else if(s.type=="remove"){for(var u=0;u<s.howMany;u++)e.push("r");n=s.offset,t+=s.howMany}else e.push.apply(e,R("a".repeat(s.howMany).split(""))),n=s.offset+s.howMany,t+=s.howMany}}catch(h){i.e(h)}finally{i.f()}if(t<a)for(var d=0;d<a-t-n;d++)e.push("e");return e}function Gv(a){var r=a.position&&a.position.root.rootName=="$graveyard",e=a.range&&a.range.root.rootName=="$graveyard";return!r&&!e}var Yv=function(){function a(){w(this,a),this._operations=[],this._undoPairs=new Map,this._undoneOperations=new Set}return _(a,[{key:"addOperation",value:function(e){this._operations.includes(e)||this._operations.push(e)}},{key:"getOperations",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:0,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Number.POSITIVE_INFINITY;return e<0?[]:this._operations.slice(e,n)}},{key:"getOperation",value:function(e){return this._operations[e]}},{key:"setOperationAsUndone",value:function(e,n){this._undoPairs.set(n,e),this._undoneOperations.add(e)}},{key:"isUndoingOperation",value:function(e){return this._undoPairs.has(e)}},{key:"isUndoneOperation",value:function(e){return this._undoneOperations.has(e)}},{key:"getUndoneOperation",value:function(e){return this._undoPairs.get(e)}}]),a}();function Yu(a,r){return!!(e=a.charAt(r-1))&&e.length==1&&/[\ud800-\udbff]/.test(e)&&function(n){return!!n&&n.length==1&&/[\udc00-\udfff]/.test(n)}(a.charAt(r));var e}function $u(a,r){return!!(e=a.charAt(r))&&e.length==1&&/[\u0300-\u036f\u1ab0-\u1aff\u1dc0-\u1dff\u20d0-\u20ff\ufe20-\ufe2f]/.test(e);var e}var Ju=function(){function a(r){var e=this;w(this,a),this.model=r,this.version=0,this.history=new Yv(this),this.selection=new Ai(this),this.roots=new Tr({idProperty:"rootName"}),this.differ=new Hv(r.markers),this._postFixers=new Set,this._hasSelectionChangedFromTheLastChangeBlock=!1,this.createRoot("$root","$graveyard"),this.listenTo(r,"applyOperation",function(n,t){var i=t[0];if(i.isDocumentOperation&&i.baseVersion!==e.version)throw new le.b("model-document-applyOperation-wrong-version: Only operations with matching versions can be applied.",e,{operation:i})},{priority:"highest"}),this.listenTo(r,"applyOperation",function(n,t){var i=t[0];i.isDocumentOperation&&e.differ.bufferOperation(i)},{priority:"high"}),this.listenTo(r,"applyOperation",function(n,t){var i=t[0];i.isDocumentOperation&&(e.version++,e.history.addOperation(i))},{priority:"low"}),this.listenTo(this.selection,"change",function(){e._hasSelectionChangedFromTheLastChangeBlock=!0}),this.listenTo(r.markers,"update",function(n,t,i,o){e.differ.bufferMarkerChange(t.name,i,o,t.affectsData),i===null&&t.on("change",function(s,l){e.differ.bufferMarkerChange(t.name,l,t.getRange(),t.affectsData)})})}return _(a,[{key:"graveyard",get:function(){return this.getRoot("$graveyard")}},{key:"createRoot",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"$root",n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"main";if(this.roots.get(n))throw new le.b("model-document-createRoot-name-exists: Root with specified name already exists.",this,{name:n});var t=new dc(this,e,n);return this.roots.add(t),t}},{key:"destroy",value:function(){this.selection.destroy(),this.stopListening()}},{key:"getRoot",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"main";return this.roots.get(e)}},{key:"getRootNames",value:function(){return Array.from(this.roots,function(e){return e.rootName}).filter(function(e){return e!="$graveyard"})}},{key:"registerPostFixer",value:function(e){this._postFixers.add(e)}},{key:"toJSON",value:function(){var e=Se(this);return e.selection="[engine.model.DocumentSelection]",e.model="[engine.model.Model]",e}},{key:"_handleChangeBlock",value:function(e){this._hasDocumentChangedFromTheLastChangeBlock()&&(this._callPostFixers(e),this.selection.refresh(),this.differ.hasDataChanges()?this.fire("change:data",e.batch):this.fire("change",e.batch),this.selection.refresh(),this.differ.reset()),this._hasSelectionChangedFromTheLastChangeBlock=!1}},{key:"_hasDocumentChangedFromTheLastChangeBlock",value:function(){return!this.differ.isEmpty||this._hasSelectionChangedFromTheLastChangeBlock}},{key:"_getDefaultRoot",value:function(){var e=p(this.roots),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;if(t!==this.graveyard)return t}}catch(i){e.e(i)}finally{e.f()}return this.graveyard}},{key:"_getDefaultRange",value:function(){var e=this._getDefaultRoot(),n=this.model,t=n.schema,i=n.createPositionFromPath(e,[0]);return t.getNearestSelectionRange(i)||n.createRange(i)}},{key:"_validateSelectionRange",value:function(e){return Qu(e.start)&&Qu(e.end)}},{key:"_callPostFixers",value:function(e){var n=!1;do{var t=p(this._postFixers),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(this.selection.refresh(),n=o(e),n)break}}catch(s){t.e(s)}finally{t.f()}}while(n)}}]),a}();function Qu(a){var r=a.textNode;if(r){var e=r.data,n=a.offset-r.startOffset;return!Yu(e,n)&&!$u(e,n)}return!0}tn(Ju,Gn);var Zu=function(){function a(){w(this,a),this._markers=new Map}return _(a,[{key:Symbol.iterator,value:function(){return this._markers.values()}},{key:"has",value:function(e){return this._markers.has(e)}},{key:"get",value:function(e){return this._markers.get(e)||null}},{key:"_set",value:function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,o=e instanceof os?e.name:e,s=this._markers.get(o);if(s){var l=s.getRange(),c=!1;return l.isEqual(n)||(s._attachLiveRange(fo.fromRange(n)),c=!0),t!=s.managedUsingOperations&&(s._managedUsingOperations=t,c=!0),typeof i=="boolean"&&i!=s.affectsData&&(s._affectsData=i,c=!0),c&&this.fire("update:"+o,s,l,n),s}var u=fo.fromRange(n),d=new os(o,u,t,i);return this._markers.set(o,d),this.fire("update:"+o,d,null,n),d}},{key:"_remove",value:function(e){var n=e instanceof os?e.name:e,t=this._markers.get(n);return!!t&&(this._markers.delete(n),this.fire("update:"+n,t,t.getRange(),null),this._destroyMarker(t),!0)}},{key:"_refresh",value:function(e){var n=e instanceof os?e.name:e,t=this._markers.get(n);if(!t)throw new le.b("markercollection-refresh-marker-not-exists: Marker with provided name does not exists.",this);var i=t.getRange();this.fire("update:"+n,t,i,i,t.managedUsingOperations,t.affectsData)}},{key:"getMarkersAtPosition",value:V.mark(function r(e){var n,t,i;return V.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:n=p(this),s.prev=1,n.s();case 3:if((t=n.n()).done){s.next=11;break}if(i=t.value,s.t0=i.getRange().containsPosition(e),!s.t0){s.next=9;break}return s.next=9,i;case 9:s.next=3;break;case 11:s.next=16;break;case 13:s.prev=13,s.t1=s.catch(1),n.e(s.t1);case 16:return s.prev=16,n.f(),s.finish(16);case 19:case"end":return s.stop()}},r,this,[[1,13,16,19]])})},{key:"getMarkersIntersectingRange",value:V.mark(function r(e){var n,t,i;return V.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:n=p(this),s.prev=1,n.s();case 3:if((t=n.n()).done){s.next=11;break}if(i=t.value,s.t0=i.getRange().getIntersection(e)!==null,!s.t0){s.next=9;break}return s.next=9,i;case 9:s.next=3;break;case 11:s.next=16;break;case 13:s.prev=13,s.t1=s.catch(1),n.e(s.t1);case 16:return s.prev=16,n.f(),s.finish(16);case 19:case"end":return s.stop()}},r,this,[[1,13,16,19]])})},{key:"destroy",value:function(){var e=p(this._markers.values()),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;this._destroyMarker(t)}}catch(i){e.e(i)}finally{e.f()}this._markers=null,this.stopListening()}},{key:"getMarkersGroup",value:V.mark(function r(e){var n,t,i;return V.wrap(function(s){for(;;)switch(s.prev=s.next){case 0:n=p(this._markers.values()),s.prev=1,n.s();case 3:if((t=n.n()).done){s.next=11;break}if(i=t.value,s.t0=i.name.startsWith(e+":"),!s.t0){s.next=9;break}return s.next=9,i;case 9:s.next=3;break;case 11:s.next=16;break;case 13:s.prev=13,s.t1=s.catch(1),n.e(s.t1);case 16:return s.prev=16,n.f(),s.finish(16);case 19:case"end":return s.stop()}},r,this,[[1,13,16,19]])})},{key:"_destroyMarker",value:function(e){e.stopListening(),e._detachLiveRange()}}]),a}();tn(Zu,Gn);var os=function(){function a(r,e,n,t){w(this,a),this.name=r,this._liveRange=this._attachLiveRange(e),this._managedUsingOperations=n,this._affectsData=t}return _(a,[{key:"managedUsingOperations",get:function(){if(!this._liveRange)throw new le.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._managedUsingOperations}},{key:"affectsData",get:function(){if(!this._liveRange)throw new le.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._affectsData}},{key:"getStart",value:function(){if(!this._liveRange)throw new le.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.start.clone()}},{key:"getEnd",value:function(){if(!this._liveRange)throw new le.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.end.clone()}},{key:"getRange",value:function(){if(!this._liveRange)throw new le.b("marker-destroyed: Cannot use a destroyed marker instance.",this);return this._liveRange.toRange()}},{key:"is",value:function(e){return e==="marker"||e==="model:marker"}},{key:"_attachLiveRange",value:function(e){return this._liveRange&&this._detachLiveRange(),e.delegate("change:range").to(this),e.delegate("change:content").to(this),this._liveRange=e,e}},{key:"_detachLiveRange",value:function(){this._liveRange.stopDelegating("change:range",this),this._liveRange.stopDelegating("change:content",this),this._liveRange.detach(),this._liveRange=null}}]),a}();tn(os,Gn);var Jr=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"type",get:function(){return"noop"}},{key:"clone",value:function(){return new e(this.baseVersion)}},{key:"getReversed",value:function(){return new e(this.baseVersion+1)}},{key:"_execute",value:function(){}}],[{key:"className",get:function(){return"NoOperation"}}]),e}(mi),Ti={};Ti[Vr.className]=Vr,Ti[$r.className]=$r,Ti[Fi.className]=Fi,Ti[qn.className]=qn,Ti[Jr.className]=Jr,Ti[mi.className]=mi,Ti[Li.className]=Li,Ti[is.className]=is,Ti[sr.className]=sr,Ti[Or.className]=Or;var Gr=function(a){O(e,a);var r=D(e);function e(n,t){var i,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"toNone";if(w(this,e),i=r.call(this,n,t,o),!i.root.is("rootElement"))throw new le.b("model-liveposition-root-not-rootelement: LivePosition's root has to be an instance of RootElement.",n);return $v.call(j(i)),B(i)}return _(e,[{key:"detach",value:function(){this.stopListening()}},{key:"is",value:function(t){return t==="livePosition"||t==="model:livePosition"||t=="position"||t==="model:position"}},{key:"toPosition",value:function(){return new Ze(this.root,this.path.slice(),this.stickiness)}}],[{key:"fromPosition",value:function(t,i){return new this(t.root,t.path.slice(),i||t.stickiness)}}]),e}(Ze);function $v(){var a=this;this.listenTo(this.root.document.model,"applyOperation",function(r,e){var n=e[0];n.isDocumentOperation&&Jv.call(a,n)},{priority:"low"})}function Jv(a){var r=this.getTransformedByOperation(a);if(!this.isEqual(r)){var e=this.toPosition();this.path=r.path,this.root=r.root,this.fire("change",e)}}tn(Gr,Gn);var Qv=function(){function a(r,e,n){w(this,a),this.model=r,this.writer=e,this.position=n,this.canMergeWith=new Set([this.position.parent]),this.schema=r.schema,this._filterAttributesOf=[],this._affectedStart=null,this._affectedEnd=null}return _(a,[{key:"handleNodes",value:function(e,n){e=Array.from(e);for(var t=0;t<e.length;t++){var i=e[t];this._handleNode(i,{isFirst:t===0&&n.isFirst,isLast:t===e.length-1&&n.isLast})}this.schema.removeDisallowedAttributes(this._filterAttributesOf,this.writer),this._filterAttributesOf=[]}},{key:"getSelectionRange",value:function(){return this.nodeToSelect?He._createOn(this.nodeToSelect):this.model.schema.getNearestSelectionRange(this.position)}},{key:"getAffectedRange",value:function(){return this._affectedStart?new He(this._affectedStart,this._affectedEnd):null}},{key:"destroy",value:function(){this._affectedStart&&this._affectedStart.detach(),this._affectedEnd&&this._affectedEnd.detach()}},{key:"_handleNode",value:function(e,n){if(this.schema.isObject(e))return void this._handleObject(e,n);this._checkAndSplitToAllowedPosition(e,n)?(this._insert(e),this._mergeSiblingsOf(e,n)):this._handleDisallowedNode(e,n)}},{key:"_handleObject",value:function(e,n){this._checkAndSplitToAllowedPosition(e)?this._insert(e):this._tryAutoparagraphing(e,n)}},{key:"_handleDisallowedNode",value:function(e,n){e.is("element")?this.handleNodes(e.getChildren(),n):this._tryAutoparagraphing(e,n)}},{key:"_insert",value:function(e){if(!this.schema.checkChild(this.position,e))throw new le.b("insertcontent-wrong-position: Given node cannot be inserted on the given position.",this,{node:e,position:this.position});var n=Gr.fromPosition(this.position,"toNext");this._setAffectedBoundaries(this.position),this.writer.insert(e,this.position),this.position=n.toPosition(),n.detach(),this.schema.isObject(e)&&!this.schema.checkChild(this.position,"$text")?this.nodeToSelect=e:this.nodeToSelect=null,this._filterAttributesOf.push(e)}},{key:"_setAffectedBoundaries",value:function(e){this._affectedStart||(this._affectedStart=Gr.fromPosition(e,"toPrevious")),this._affectedEnd&&!this._affectedEnd.isBefore(e)||(this._affectedEnd&&this._affectedEnd.detach(),this._affectedEnd=Gr.fromPosition(e,"toNext"))}},{key:"_mergeSiblingsOf",value:function(e,n){if(e instanceof vr){var t=this._canMergeLeft(e,n),i=this._canMergeRight(e,n),o=Gr._createBefore(e);o.stickiness="toNext";var s=Gr._createAfter(e);if(s.stickiness="toNext",t){var l=Gr.fromPosition(this.position);l.stickiness="toNext",this._affectedStart.isEqual(o)&&(this._affectedStart.detach(),this._affectedStart=Gr._createAt(o.nodeBefore,"end","toPrevious")),this.writer.merge(o),o.isEqual(this._affectedEnd)&&n.isLast&&(this._affectedEnd.detach(),this._affectedEnd=Gr._createAt(o.nodeBefore,"end","toNext")),this.position=l.toPosition(),l.detach()}if(i){if(!this.position.isEqual(s))throw new le.b("insertcontent-invalid-insertion-position",this);this.position=Ze._createAt(s.nodeBefore,"end");var c=Gr.fromPosition(this.position,"toPrevious");this._affectedEnd.isEqual(s)&&(this._affectedEnd.detach(),this._affectedEnd=Gr._createAt(s.nodeBefore,"end","toNext")),this.writer.merge(s),s.getShiftedBy(-1).isEqual(this._affectedStart)&&n.isFirst&&(this._affectedStart.detach(),this._affectedStart=Gr._createAt(s.nodeBefore,0,"toPrevious")),this.position=c.toPosition(),c.detach()}(t||i)&&this._filterAttributesOf.push(this.position.parent),o.detach(),s.detach()}}},{key:"_canMergeLeft",value:function(e,n){var t=e.previousSibling;return n.isFirst&&t instanceof vr&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(t,e)}},{key:"_canMergeRight",value:function(e,n){var t=e.nextSibling;return n.isLast&&t instanceof vr&&this.canMergeWith.has(t)&&this.model.schema.checkMerge(e,t)}},{key:"_tryAutoparagraphing",value:function(e,n){var t=this.writer.createElement("paragraph");this._getAllowedIn(t,this.position.parent)&&this.schema.checkChild(t,e)&&(t._appendChild(e),this._handleNode(t,n))}},{key:"_checkAndSplitToAllowedPosition",value:function(e){var n=this._getAllowedIn(e,this.position.parent);if(!n)return!1;for(;n!=this.position.parent;){if(this.schema.isLimit(this.position.parent))return!1;if(this.position.isAtStart){var t=this.position.parent;this.position=this.writer.createPositionBefore(t),t.isEmpty&&t.parent===n&&this.writer.remove(t)}else if(this.position.isAtEnd)this.position=this.writer.createPositionAfter(this.position.parent);else{var i=this.writer.createPositionAfter(this.position.parent);this._setAffectedBoundaries(this.position),this.writer.split(this.position),this.position=i,this.canMergeWith.add(this.position.nodeAfter)}}return!0}},{key:"_getAllowedIn",value:function(e,n){return this.schema.checkChild(n,e)?n:n.parent?this._getAllowedIn(e,n.parent):null}}]),a}();function Zv(a,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(!r.isCollapsed){var n=r.getFirstRange();if(n.root.rootName!="$graveyard"){var t=a.schema;a.change(function(i){if(!e.doNotResetEntireContent&&function(l,c){var u=l.getLimitElement(c);if(!c.containsEntireContent(u))return!1;var d=c.getFirstRange();return d.start.parent==d.end.parent?!1:l.checkChild(u,"paragraph")}(t,r))return void function(l,c){var u=l.model.schema.getLimitElement(c);l.remove(l.createRangeIn(u)),Xu(l,l.createPositionAt(u,0),c)}(i,r);var o=n.start,s=Gr.fromPosition(n.end,"toNext");n.start.isTouching(n.end)||i.remove(n),e.leaveUnmerged||(function l(c,u,d){var h=u.parent,v=d.parent;if(h!=v&&!(c.model.schema.isLimit(h)||c.model.schema.isLimit(v))&&!!function(k,E,P){var U=new He(k,E),H=p(U.getWalker()),G;try{for(H.s();!(G=H.n()).done;){var Z=G.value;if(P.isLimit(Z.item))return!1}}catch(ce){H.e(ce)}finally{H.f()}return!0}(u,d,c.model.schema)){for(u=c.createPositionAfter(h),(d=c.createPositionBefore(v)).isEqual(u)||c.insert(v,u),c.merge(u);d.parent.isEmpty;){var m=d.parent;d=c.createPositionBefore(m),c.remove(m)}l(c,u,d)}}(i,o,s),t.removeDisallowedAttributes(o.parent.getChildren(),i)),qu(i,r,o),!e.doNotAutoparagraph&&function(l,c){var u=l.checkChild(c,"$text"),d=l.checkChild(c,"paragraph");return!u&&d}(t,o)&&Xu(i,o,r),s.detach()})}}}function Xu(a,r,e){var n=a.createElement("paragraph");a.insert(n,r),qu(a,e,a.createPositionAt(n,0))}function qu(a,r,e){r instanceof Ai?a.setSelection(e):r.setTo(e)}function Xv(a,r){if(r.type=="text")return a.unit==="word"?function(e,n){var t=e.position.textNode;if(t)for(var i=e.position.offset-t.startOffset;!eg(t.data,i,n)&&!tg(t,i,n);){e.next();var o=n?e.position.nodeAfter:e.position.nodeBefore;if(o&&o.is("text")){var s=o.data.charAt(n?0:o.data.length-1);' ,.?!:;"-()'.includes(s)||(e.next(),t=e.position.textNode)}i=e.position.offset-t.startOffset}return e.position}(a.walker,a.isForward):function(e,n){var t=e.position.textNode;if(t)for(var i=t.data,o=e.position.offset-t.startOffset;Yu(i,o)||n=="character"&&$u(i,o);)e.next(),o=e.position.offset-t.startOffset;return e.position}(a.walker,a.unit,a.isForward);if(r.type==(a.isForward?"elementStart":"elementEnd")){if(a.schema.isObject(r.item))return Ze._createAt(r.item,a.isForward?"after":"before");if(a.schema.checkChild(r.nextPosition,"$text"))return r.nextPosition}else{if(a.schema.isLimit(r.item))return void a.walker.skip(function(){return!0});if(a.schema.checkChild(r.nextPosition,"$text"))return r.nextPosition}}function qv(a,r){var e=a.root,n=Ze._createAt(e,r?"end":0);return r?new He(a,n):new He(n,a)}function eg(a,r,e){var n=r+(e?0:-1);return' ,.?!:;"-()'.includes(a.charAt(n))}function tg(a,r,e){return r===(e?a.endOffset:0)}function ed(a,r){var e=[];Array.from(a.getItems({direction:"backward"})).map(function(n){return r.createRangeOn(n)}).filter(function(n){return(n.start.isAfter(a.start)||n.start.isEqual(a.start))&&(n.end.isBefore(a.end)||n.end.isEqual(a.end))}).forEach(function(n){e.push(n.start.parent),r.remove(n)}),e.forEach(function(n){for(var t=n;t.parent&&t.isEmpty;){var i=r.createRangeOn(t);t=t.parent,r.remove(i)}})}function ng(a){a.document.registerPostFixer(function(r){return function(e,n){var t=n.document.selection,i=n.schema,o=[],s=!1,l=p(t.getRanges()),c;try{for(l.s();!(c=l.n()).done;){var u=c.value,d=rg(u,i);d?(o.push(d),s=!0):o.push(u)}}catch(h){l.e(h)}finally{l.f()}s&&e.setSelection(function(h){var v=[];v.push(h.shift());var m=p(h),k;try{for(m.s();!(k=m.n()).done;){var E=k.value,P=v.pop();if(E.isIntersecting(P)){var U=P.start.isAfter(E.start)?E.start:P.start,H=P.end.isAfter(E.end)?P.end:E.end,G=new He(U,H);v.push(G)}else v.push(P),v.push(E)}}catch(Z){m.e(Z)}finally{m.f()}return v}(o),{backward:t.isBackward})}(r,a)})}function rg(a,r){return a.isCollapsed?function(e,n){var t=e.start,i=n.getNearestSelectionRange(t);if(!i)return null;if(!i.isCollapsed)return i;var o=i.start;return t.isEqual(o)?null:new He(o)}(a,r):function(e,n){var t=e.start,i=e.end,o=n.checkChild(t,"$text"),s=n.checkChild(i,"$text"),l=n.getLimitElement(t),c=n.getLimitElement(i);if(l===c){if(o&&s)return null;if(function(Z,ce,ye){var ke=Z.nodeAfter&&!ye.isLimit(Z.nodeAfter)||ye.checkChild(Z,"$text"),Re=ce.nodeBefore&&!ye.isLimit(ce.nodeBefore)||ye.checkChild(ce,"$text");return ke||Re}(t,i,n)){var u=t.nodeAfter&&n.isObject(t.nodeAfter)?null:n.getNearestSelectionRange(t,"forward"),d=i.nodeBefore&&n.isObject(i.nodeBefore)?null:n.getNearestSelectionRange(i,"backward"),h=u?u.start:t,v=d?d.start:i;return new He(h,v)}}var m=l&&!l.is("rootElement"),k=c&&!c.is("rootElement");if(m||k){var E=t.nodeAfter&&i.nodeBefore&&t.nodeAfter.parent===i.nodeBefore.parent,P=m&&(!E||!nd(t.nodeAfter,n)),U=k&&(!E||!nd(i.nodeBefore,n)),H=t,G=i;return P&&(H=Ze._createBefore(td(l,n))),U&&(G=Ze._createAfter(td(c,n))),new He(H,G)}return null}(a,r)}function td(a,r){for(var e=a,n=e;r.isLimit(n)&&n.parent;)e=n,n=n.parent;return e}function nd(a,r){return a&&r.isObject(a)}var rd=function(){function a(){var r=this;w(this,a),this.markers=new Zu,this.document=new Ju(this),this.schema=new Du,this._pendingChanges=[],this._currentWriter=null,["insertContent","deleteContent","modifySelection","getSelectedContent","applyOperation"].forEach(function(e){return r.decorate(e)}),this.on("applyOperation",function(e,n){n[0]._validate()},{priority:"highest"}),this.schema.register("$root",{isLimit:!0}),this.schema.register("$block",{allowIn:"$root",isBlock:!0}),this.schema.register("$text",{allowIn:"$block",isInline:!0}),this.schema.register("$clipboardHolder",{allowContentOf:"$root",isLimit:!0}),this.schema.extend("$text",{allowIn:"$clipboardHolder"}),this.schema.register("$marker"),this.schema.addChildCheck(function(e,n){if(n.name==="$marker")return!0}),ng(this)}return _(a,[{key:"change",value:function(e){try{return this._pendingChanges.length===0?(this._pendingChanges.push({batch:new $s,callback:e}),this._runPendingChanges()[0]):e(this._currentWriter)}catch(n){le.b.rethrowUnexpectedError(n,this)}}},{key:"enqueueChange",value:function(e,n){try{typeof e=="string"?e=new $s(e):typeof e=="function"&&(n=e,e=new $s),this._pendingChanges.push({batch:e,callback:n}),this._pendingChanges.length==1&&this._runPendingChanges()}catch(t){le.b.rethrowUnexpectedError(t,this)}}},{key:"applyOperation",value:function(e){e._execute()}},{key:"insertContent",value:function(e,n,t){return function(i,o,s,l){return i.change(function(c){var u;u=s?s instanceof pa||s instanceof Ai?s:c.createSelection(s,l):i.document.selection,u.isCollapsed||i.deleteContent(u,{doNotAutoparagraph:!0});var d=new Qv(i,c,u.anchor),h;h=o.is("documentFragment")?o.getChildren():[o],d.handleNodes(h,{isFirst:!0,isLast:!0});var v=d.getSelectionRange();v&&(u instanceof Ai?c.setSelection(v):u.setTo(v));var m=d.getAffectedRange()||i.createRange(u.anchor);return d.destroy(),m})}(this,e,n,t)}},{key:"deleteContent",value:function(e,n){Zv(this,e,n)}},{key:"modifySelection",value:function(e,n){(function(t,i){for(var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},s=t.schema,l=o.direction!="backward",c=o.unit?o.unit:"character",u=i.focus,d=new ea({boundaries:qv(u,l),singleCharacters:!0,direction:l?"forward":"backward"}),h={walker:d,schema:s,isForward:l,unit:c},v,m=function(){if(v.done)return{v:void 0};var P=Xv(h,v.value);if(P)return{v:void(i instanceof Ai?t.change(function(U){U.setSelectionFocus(P)}):i.setFocus(P))}};v=d.next();){var k=m();if(typeof k=="object")return k.v}})(this,e,n)}},{key:"getSelectedContent",value:function(e){return function(n,t){return n.change(function(i){var o=i.createDocumentFragment(),s=t.getFirstRange();if(!s||s.isCollapsed)return o;var l=s.start.root,c=s.start.getCommonPath(s.end),u=l.getNodeByPath(c),d;d=s.start.parent==s.end.parent?s:i.createRange(i.createPositionAt(u,s.start.path[c.length]),i.createPositionAt(u,s.end.path[c.length]+1));var h=d.end.offset-d.start.offset,v=p(d.getItems({shallow:!0})),m;try{for(v.s();!(m=v.n()).done;){var k=m.value;k.is("textProxy")?i.appendText(k.data,k.getAttributes(),o):i.append(k._clone(!0),o)}}catch(U){v.e(U)}finally{v.f()}if(d!=s){var E=s._getTransformedByMove(d.start,i.createPositionAt(o,0),h)[0],P=i.createRange(i.createPositionAt(o,0),E.start);ed(i.createRange(E.end,i.createPositionAt(o,"end")),i),ed(P,i)}return o})}(this,e)}},{key:"hasContent",value:function(e,n){var t=e instanceof vr?He._createIn(e):e;if(t.isCollapsed)return!1;var i=p(this.markers.getMarkersIntersectingRange(t)),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;if(s.affectsData)return!0}}catch(m){i.e(m)}finally{i.f()}var l=n||{},c=l.ignoreWhitespaces,u=c===void 0?!1:c,d=p(t.getItems()),h;try{for(d.s();!(h=d.n()).done;){var v=h.value;if(v.is("textProxy")){if(!u||v.data.search(/\S/)!==-1)return!0}else if(this.schema.isObject(v))return!0}}catch(m){d.e(m)}finally{d.f()}return!1}},{key:"createPositionFromPath",value:function(e,n,t){return new Ze(e,n,t)}},{key:"createPositionAt",value:function(e,n){return Ze._createAt(e,n)}},{key:"createPositionAfter",value:function(e){return Ze._createAfter(e)}},{key:"createPositionBefore",value:function(e){return Ze._createBefore(e)}},{key:"createRange",value:function(e,n){return new He(e,n)}},{key:"createRangeIn",value:function(e){return He._createIn(e)}},{key:"createRangeOn",value:function(e){return He._createOn(e)}},{key:"createSelection",value:function(e,n,t){return new pa(e,n,t)}},{key:"createBatch",value:function(e){return new $s(e)}},{key:"createOperationFromJSON",value:function(e){return function(){function n(){w(this,n)}return _(n,null,[{key:"fromJSON",value:function(i,o){return Ti[i.__className].fromJSON(i,o)}}]),n}().fromJSON(e,this.document)}},{key:"destroy",value:function(){this.document.destroy(),this.stopListening()}},{key:"_runPendingChanges",value:function(){var e=[];for(this.fire("_beforeChanges");this._pendingChanges.length;){var n=this._pendingChanges[0].batch;this._currentWriter=new Uv(this,n);var t=this._pendingChanges[0].callback(this._currentWriter);e.push(t),this.document._handleChangeBlock(this._currentWriter),this._pendingChanges.shift(),this._currentWriter=null}return this.fire("_afterChanges"),e}}]),a}();tn(rd,Jn);var ta=function(){function a(){w(this,a),this._listener=Object.create(oo)}return _(a,[{key:"listenTo",value:function(e){var n=this;this._listener.listenTo(e,"keydown",function(t,i){n._listener.fire("_keydown:"+Pi(i),i)})}},{key:"set",value:function(e,n){var t=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=Os(e),o=t.priority;this._listener.listenTo(this._listener,"_keydown:"+i,function(s,l){n(l,function(){l.preventDefault(),l.stopPropagation(),s.stop()}),s.return=!0},{priority:o})}},{key:"press",value:function(e){return!!this._listener.fire("_keydown:"+Pi(e),e)}},{key:"destroy",value:function(){this._listener.stopListening()}}]),a}(),ig=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this),t.editor=n,t}return _(e,[{key:"set",value:function(t,i){var o=this,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};if(typeof i=="string"){var l=i;i=function(u,d){o.editor.execute(l),d()}}b(x(e.prototype),"set",this).call(this,t,i,s)}}]),e}(ta),id=function(){function a(){var r=this,e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};w(this,a),this._context=e.context||new ie({language:e.language}),this._context._addEditor(this,!e.context);var n=Array.from(this.constructor.builtinPlugins||[]);this.config=new di(e,this.constructor.defaultConfig),this.config.define("plugins",n),this.config.define(this._context._getEditorConfig()),this.plugins=new fi(this,n,this._context.plugins),this.locale=this._context.locale,this.t=this.locale.t,this.commands=new Av,this.set("state","initializing"),this.once("ready",function(){return r.state="ready"},{priority:"high"}),this.once("destroy",function(){return r.state="destroyed"},{priority:"high"}),this.set("isReadOnly",!1),this.model=new rd;var t=new Dl;this.data=new Lu(this.model,t),this.editing=new Ru(this.model,t),this.editing.view.document.bind("isReadOnly").to(this),this.conversion=new Vv([this.editing.downcastDispatcher,this.data.downcastDispatcher],this.data.upcastDispatcher),this.conversion.addAlias("dataDowncast",this.data.downcastDispatcher),this.conversion.addAlias("editingDowncast",this.editing.downcastDispatcher),this.keystrokes=new ig(this),this.keystrokes.listenTo(this.editing.view.document)}return _(a,[{key:"initPlugins",value:function(){var e=this.config,n=e.get("plugins"),t=e.get("removePlugins")||[],i=e.get("extraPlugins")||[];return this.plugins.init(n.concat(i),t)}},{key:"destroy",value:function(){var e=this,n=Promise.resolve();return this.state=="initializing"&&(n=new Promise(function(t){return e.once("ready",t)})),n.then(function(){e.fire("destroy"),e.stopListening(),e.commands.destroy()}).then(function(){return e.plugins.destroy()}).then(function(){e.model.destroy(),e.data.destroy(),e.editing.destroy(),e.keystrokes.destroy()}).then(function(){return e._context._removeEditor(e)})}},{key:"execute",value:function(){try{var e;(e=this.commands).execute.apply(e,arguments)}catch(n){le.b.rethrowUnexpectedError(n,this)}}}]),a}();tn(id,Jn);var ag={setData:function(r){this.data.set(r)},getData:function(r){return this.data.get(r)}},og={updateSourceElement:function(){if(!this.sourceElement)throw new le.b("editor-missing-sourceelement: Cannot update the source element of a detached editor.",this);var r,e;r=this.sourceElement,e=this.data.get(),r instanceof HTMLTextAreaElement&&(r.value=e),r.innerHTML=e}},sg=function(){function a(){w(this,a)}return _(a,[{key:"getHtml",value:function(e){var n=document.implementation.createHTMLDocument("").createElement("div");return n.appendChild(e),n.innerHTML}}]),a}(),ad=function(){function a(r){w(this,a),this._domParser=new DOMParser,this._domConverter=new ao(r,{blockFillerMode:"nbsp"}),this._htmlWriter=new sg}return _(a,[{key:"toData",value:function(e){var n=this._domConverter.viewToDom(e,document);return this._htmlWriter.getHtml(n)}},{key:"toView",value:function(e){var n=this._toDom(e);return this._domConverter.domToView(n)}},{key:"_toDom",value:function(e){for(var n=this._domParser.parseFromString(e,"text/html"),t=n.createDocumentFragment(),i=n.body.childNodes;i.length>0;)t.appendChild(i[0]);return t}}]),a}(),lg=function(){function a(r){w(this,a),this.editor=r,this._components=new Map}return _(a,[{key:"names",value:V.mark(function r(){var e,n,t;return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=p(this._components.values()),o.prev=1,e.s();case 3:if((n=e.n()).done){o.next=9;break}return t=n.value,o.next=7,t.originalName;case 7:o.next=3;break;case 9:o.next=14;break;case 11:o.prev=11,o.t0=o.catch(1),e.e(o.t0);case 14:return o.prev=14,e.f(),o.finish(14);case 17:case"end":return o.stop()}},r,this,[[1,11,14,17]])})},{key:"add",value:function(e,n){if(this.has(e))throw new le.b("componentfactory-item-exists: The item already exists in the component factory.",this,{name:e});this._components.set(fc(e),{callback:n,originalName:e})}},{key:"create",value:function(e){if(!this.has(e))throw new le.b("componentfactory-item-missing: The required component is not registered in the factory.",this,{name:e});return this._components.get(fc(e)).callback(this.editor.locale)}},{key:"has",value:function(e){return this._components.has(fc(e))}}]),a}();function fc(a){return String(a).toLowerCase()}var Si=function(){function a(){w(this,a),this.set("isFocused",!1),this.set("focusedElement",null),this._elements=new Set,this._nextEventLoopTimeout=null}return _(a,[{key:"add",value:function(e){var n=this;if(this._elements.has(e))throw new le.b("focusTracker-add-element-already-exist",this);this.listenTo(e,"focus",function(){return n._focus(e)},{useCapture:!0}),this.listenTo(e,"blur",function(){return n._blur()},{useCapture:!0}),this._elements.add(e)}},{key:"remove",value:function(e){e===this.focusedElement&&this._blur(e),this._elements.has(e)&&(this.stopListening(e),this._elements.delete(e))}},{key:"destroy",value:function(){this.stopListening()}},{key:"_focus",value:function(e){clearTimeout(this._nextEventLoopTimeout),this.focusedElement=e,this.isFocused=!0}},{key:"_blur",value:function(){var e=this;clearTimeout(this._nextEventLoopTimeout),this._nextEventLoopTimeout=setTimeout(function(){e.focusedElement=null,e.isFocused=!1},0)}}]),a}();tn(Si,oo),tn(Si,Jn);var od=function(){function a(r){var e=this;w(this,a),this.editor=r,this.componentFactory=new lg(r),this.focusTracker=new Si,this._editableElementsMap=new Map,this.listenTo(r.editing.view.document,"layoutChanged",function(){return e.update()})}return _(a,[{key:"element",get:function(){return null}},{key:"update",value:function(){this.fire("update")}},{key:"destroy",value:function(){this.stopListening(),this.focusTracker.destroy();var e=p(this._editableElementsMap.values()),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;t.ckeditorInstance=null}}catch(i){e.e(i)}finally{e.f()}this._editableElementsMap=new Map}},{key:"setEditableElement",value:function(e,n){this._editableElementsMap.set(e,n),n.ckeditorInstance||(n.ckeditorInstance=this.editor)}},{key:"getEditableElement",value:function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"main";return this._editableElementsMap.get(e)}},{key:"getEditableElementsNames",value:function(){return this._editableElementsMap.keys()}},{key:"_editableElements",get:function(){return console.warn("editor-ui-deprecated-editable-elements: The EditorUI#_editableElements property has been deprecated and will be removed in the near future.",{editorUI:this}),this._editableElementsMap}}]),a}();tn(od,Gn),L(13);var Js=new WeakMap;function sd(a){var r=a.view,e=a.element,n=a.text,t=a.isDirectHost,i=t===void 0?!0:t,o=r.document;Js.has(o)||(Js.set(o,new Map),o.registerPostFixer(function(s){return ld(o,s)})),Js.get(o).set(e,{text:n,isDirectHost:i}),r.change(function(s){return ld(o,s)})}function cg(a,r){return!!r.hasClass("ck-placeholder")&&(a.removeClass("ck-placeholder",r),!0)}function ld(a,r){var e=Js.get(a),n=!1,t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=C(o,2),l=s[0],c=s[1];ug(r,l,c)&&(n=!0)}}catch(u){t.e(u)}finally{t.f()}return n}function ug(a,r,e){var n=e.text,t=e.isDirectHost,i=t?r:function(s){if(s.childCount===1){var l=s.getChild(0);if(l.is("element")&&!l.is("uiElement"))return l}return null}(r),o=!1;return!!i&&(e.hostElement=i,i.getAttribute("data-placeholder")!==n&&(a.setAttribute("data-placeholder",n,i),o=!0),function(s){if(!s.isAttached())return!1;var l=!Array.from(s.getChildren()).some(function(d){return!d.is("uiElement")}),c=s.document;if(!c.isFocused&&l)return!0;var u=c.selection.anchor;return!(!l||!u||u.parent===s)}(i)?function(s,l){return!l.hasClass("ck-placeholder")&&(s.addClass("ck-placeholder",l),!0)}(a,i)&&(o=!0):cg(a,i)&&(o=!0),o)}var dg=function(){function a(){w(this,a),this._replacedElements=[]}return _(a,[{key:"replace",value:function(e,n){this._replacedElements.push({element:e,newElement:n}),e.style.display="none",n&&e.parentNode.insertBefore(n,e.nextSibling)}},{key:"restore",value:function(){this._replacedElements.forEach(function(e){var n=e.element,t=e.newElement;n.style.display="",t&&t.remove()}),this._replacedElements=[]}}]),a}(),fg=function(a){O(e,a);var r=D(e);function e(n,t){var i;w(this,e);var o;return i=r.call(this,n),i.view=t,i._toolbarConfig=(o=n.config.get("toolbar"),Array.isArray(o)?{items:o}:o?Object.assign({items:[]},o):{items:[]}),i._elementReplacer=new dg,i}return _(e,[{key:"element",get:function(){return this.view.element}},{key:"init",value:function(t){var i=this.editor,o=this.view,s=i.editing.view,l=o.editable,c=s.document.getRoot();l.name=c.rootName,o.render();var u=l.element;this.setEditableElement(l.name,u),this.focusTracker.add(u),o.editable.bind("isFocused").to(this.focusTracker),s.attachDomRoot(u),t&&this._elementReplacer.replace(t,this.element),this._initPlaceholder(),this._initToolbar(),this.fire("ready")}},{key:"destroy",value:function(){var t=this.view,i=this.editor.editing.view;this._elementReplacer.restore(),i.detachDomRoot(t.editable.name),t.destroy(),b(x(e.prototype),"destroy",this).call(this)}},{key:"_initToolbar",value:function(){var t=this.editor,i=this.view,o=t.editing.view;i.stickyPanel.bind("isActive").to(this.focusTracker,"isFocused"),i.stickyPanel.limiterElement=i.element,this._toolbarConfig.viewportTopOffset&&(i.stickyPanel.viewportTopOffset=this._toolbarConfig.viewportTopOffset),i.toolbar.fillFromConfig(this._toolbarConfig.items,this.componentFactory),function(s){var l=s.origin,c=s.originKeystrokeHandler,u=s.originFocusTracker,d=s.toolbar,h=s.beforeFocus,v=s.afterBlur;u.add(d.element),c.set("Alt+F10",function(m,k){u.isFocused&&!d.focusTracker.isFocused&&(h&&h(),d.focus(),k())}),d.keystrokes.set("Esc",function(m,k){d.focusTracker.isFocused&&(l.focus(),v&&v(),k())})}({origin:o,originFocusTracker:this.focusTracker,originKeystrokeHandler:t.keystrokes,toolbar:i.toolbar})}},{key:"_initPlaceholder",value:function(){var t=this.editor,i=t.editing.view,o=i.document.getRoot(),s=t.sourceElement,l=t.config.get("placeholder")||s&&s.tagName.toLowerCase()==="textarea"&&s.getAttribute("placeholder");l&&sd({view:i,element:o,text:l,isDirectHost:!1})}}]),e}(od),ja=function(a){O(e,a);var r=D(e);function e(){var n,t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return w(this,e),n=r.call(this,t,{idProperty:"viewUid"}),n.on("add",function(i,o,s){n._renderViewIntoCollectionParent(o,s)}),n.on("remove",function(i,o){o.element&&n._parentElement&&o.element.remove()}),n._parentElement=null,n}return _(e,[{key:"destroy",value:function(){this.map(function(t){return t.destroy()})}},{key:"setParent",value:function(t){this._parentElement=t;var i=p(this),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;this._renderViewIntoCollectionParent(s)}}catch(l){i.e(l)}finally{i.f()}}},{key:"delegate",value:function(){for(var t=this,i=arguments.length,o=new Array(i),s=0;s<i;s++)o[s]=arguments[s];if(!o.length||!o.every(function(l){return typeof l=="string"}))throw new le.b("ui-viewcollection-delegate-wrong-events: All event names must be strings.",this);return{to:function(c){var u=p(t),d;try{for(u.s();!(d=u.n()).done;){var h=d.value,v=p(o),m;try{for(v.s();!(m=v.n()).done;){var k=m.value;h.delegate(k).to(c)}}catch(E){v.e(E)}finally{v.f()}}}catch(E){u.e(E)}finally{u.f()}t.on("add",function(E,P){var U=p(o),H;try{for(U.s();!(H=U.n()).done;){var G=H.value;P.delegate(G).to(c)}}catch(Z){U.e(Z)}finally{U.f()}}),t.on("remove",function(E,P){var U=p(o),H;try{for(U.s();!(H=U.n()).done;){var G=H.value;P.stopDelegating(G,c)}}catch(Z){U.e(Z)}finally{U.f()}})}}}},{key:"_renderViewIntoCollectionParent",value:function(t,i){t.isRendered||t.render(),t.element&&this._parentElement&&this._parentElement.insertBefore(t.element,this._parentElement.children[i])}}]),e}(Tr),Mi=function(){function a(r){w(this,a),Object.assign(this,fd(dd(r))),this._isRendered=!1,this._revertData=null}return _(a,[{key:"render",value:function(){var e=this._renderNode({intoFragment:!0});return this._isRendered=!0,e}},{key:"apply",value:function(e){return this._revertData={children:[],bindings:[],attributes:{}},this._renderNode({node:e,isApplying:!0,revertData:this._revertData}),e}},{key:"revert",value:function(e){if(!this._revertData)throw new le.b("ui-template-revert-not-applied: Attempting to revert a template which has not been applied yet.",[this,e]);this._revertTemplateFromNode(e,this._revertData)}},{key:"getViews",value:V.mark(function r(){return V.wrap(function(n){for(;;)switch(n.prev=n.next){case 0:return n.delegateYield(V.mark(function t(i){var o,s,l;return V.wrap(function(u){for(;;)switch(u.prev=u.next){case 0:if(!i.children){u.next=24;break}o=p(i.children),u.prev=2,o.s();case 4:if((s=o.n()).done){u.next=16;break}if(l=s.value,!Zs(l)){u.next=11;break}return u.next=9,l;case 9:u.next=14;break;case 11:if(u.t0=hc(l),!u.t0){u.next=14;break}return u.delegateYield(t(l),"t1",14);case 14:u.next=4;break;case 16:u.next=21;break;case 18:u.prev=18,u.t2=u.catch(2),o.e(u.t2);case 21:return u.prev=21,o.f(),u.finish(21);case 24:case"end":return u.stop()}},t,null,[[2,18,21,24]])})(this),"t0",1);case 1:case"end":return n.stop()}},r,this)})},{key:"_renderNode",value:function(e){var n;if(n=e.node?this.tag&&this.text:this.tag?this.text:!this.text,n)throw new le.b('ui-template-wrong-syntax: Node definition must have either "tag" or "text" when rendering a new Node.',this);return this.text?this._renderText(e):this._renderElement(e)}},{key:"_renderElement",value:function(e){var n=e.node;return n||(n=e.node=document.createElementNS(this.ns||"http://www.w3.org/1999/xhtml",this.tag)),this._renderAttributes(e),this._renderElementChildren(e),this._setUpListeners(e),n}},{key:"_renderText",value:function(e){var n=e.node;return n?e.revertData.text=n.textContent:n=e.node=document.createTextNode(""),Qs(this.text)?this._bindToObservable({schema:this.text,updater:vg(n),data:e}):n.textContent=this.text.join(""),n}},{key:"_renderAttributes",value:function(e){var n,t,i,o;if(!!this.attributes){var s=e.node,l=e.revertData;for(n in this.attributes)if(i=s.getAttribute(n),t=this.attributes[n],l&&(l.attributes[n]=i),o=ve(t[0])&&t[0].ns?t[0].ns:null,Qs(t)){var c=o?t[0].value:t;l&&pd(n)&&c.unshift(i),this._bindToObservable({schema:c,updater:gg(s,n,o),data:e})}else n=="style"&&typeof t[0]!="string"?this._renderStyleAttribute(t[0],e):(l&&i&&pd(n)&&t.unshift(i),t=t.map(function(u){return u&&u.value||u}).reduce(function(u,d){return u.concat(d)},[]).reduce(vd,""),vo(t)||s.setAttributeNS(o,n,t))}}},{key:"_renderStyleAttribute",value:function(e,n){var t=n.node;for(var i in e){var o=e[i];Qs(o)?this._bindToObservable({schema:[o],updater:pg(t,i),data:n}):t.style[i]=o}}},{key:"_renderElementChildren",value:function(e){var n=e.node,t=e.intoFragment?document.createDocumentFragment():n,i=e.isApplying,o=0,s=p(this.children),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;if(vc(c)){if(!i){c.setParent(n);var u=p(c),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;t.appendChild(h.element)}}catch(m){u.e(m)}finally{u.f()}}}else if(Zs(c))i||(c.isRendered||c.render(),t.appendChild(c.element));else if(va(c))t.appendChild(c);else if(i){var v={children:[],bindings:[],attributes:{}};e.revertData.children.push(v),c._renderNode({node:t.childNodes[o++],isApplying:!0,revertData:v})}else t.appendChild(c.render())}}catch(m){s.e(m)}finally{s.f()}e.intoFragment&&n.appendChild(t)}},{key:"_setUpListeners",value:function(e){var n=this;if(this.eventListeners){var t=function(s){var l=n.eventListeners[s].map(function(c){var u=s.split("@"),d=C(u,2),h=d[0],v=d[1];return c.activateDomEventListener(h,v,e)});e.revertData&&e.revertData.bindings.push(l)};for(var i in this.eventListeners)t(i)}}},{key:"_bindToObservable",value:function(e){var n=e.schema,t=e.updater,i=e.data,o=i.revertData;ud(n,t,i);var s=n.filter(function(l){return!vo(l)}).filter(function(l){return l.observable}).map(function(l){return l.activateAttributeListener(n,t,i)});o&&o.bindings.push(s)}},{key:"_revertTemplateFromNode",value:function(e,n){var t=p(n.bindings),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=p(o),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;c()}}catch(v){s.e(v)}finally{s.f()}}}catch(v){t.e(v)}finally{t.f()}if(n.text)e.textContent=n.text;else{for(var u in n.attributes){var d=n.attributes[u];d===null?e.removeAttribute(u):e.setAttribute(u,d)}for(var h=0;h<n.children.length;++h)this._revertTemplateFromNode(e.childNodes[h],n.children[h])}}}],[{key:"bind",value:function(e,n){return{to:function(i,o){return new hg({eventNameOrFunction:i,attribute:i,observable:e,emitter:n,callback:o})},if:function(i,o,s){return new cd({observable:e,emitter:n,attribute:i,valueIfTrue:o,callback:s})}}}},{key:"extend",value:function(e,n){if(e._isRendered)throw new le.b("template-extend-render: Attempting to extend a template which has already been rendered.",[this,e]);(function t(i,o){var s;if(o.attributes&&(i.attributes||(i.attributes={}),gd(i.attributes,o.attributes)),o.eventListeners&&(i.eventListeners||(i.eventListeners={}),gd(i.eventListeners,o.eventListeners)),o.text&&(s=i.text).push.apply(s,R(o.text)),o.children&&o.children.length){if(i.children.length!=o.children.length)throw new le.b("ui-template-extend-children-mismatch: The number of children in extended definition does not match.",i);var l=0,c=p(o.children),u;try{for(c.s();!(u=c.n()).done;){var d=u.value;t(i.children[l++],d)}}catch(h){c.e(h)}finally{c.f()}}})(e,fd(dd(n)))}}]),a}();tn(Mi,Gn);var ss=function(){function a(r){w(this,a),Object.assign(this,r)}return _(a,[{key:"getValue",value:function(e){var n=this.observable[this.attribute];return this.callback?this.callback(n,e):n}},{key:"activateAttributeListener",value:function(e,n,t){var i=this,o=function(){return ud(e,n,t)};return this.emitter.listenTo(this.observable,"change:"+this.attribute,o),function(){i.emitter.stopListening(i.observable,"change:"+i.attribute,o)}}}]),a}(),hg=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"activateDomEventListener",value:function(t,i,o){var s=this,l=function(u,d){i&&!d.target.matches(i)||(typeof s.eventNameOrFunction=="function"?s.eventNameOrFunction(d):s.observable.fire(s.eventNameOrFunction,d))};return this.emitter.listenTo(o.node,t,l),function(){s.emitter.stopListening(o.node,t,l)}}}]),e}(ss),cd=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"getValue",value:function(t){return!vo(b(x(e.prototype),"getValue",this).call(this,t))&&(this.valueIfTrue||!0)}}]),e}(ss);function Qs(a){return!!a&&(a.value&&(a=a.value),Array.isArray(a)?a.some(Qs):a instanceof ss)}function ud(a,r,e){var n=e.node,t=function(i,o){return i.map(function(s){return s instanceof ss?s.getValue(o):s})}(a,n);t=a.length==1&&a[0]instanceof cd?t[0]:t.reduce(vd,""),vo(t)?r.remove():r.set(t)}function vg(a){return{set:function(e){a.textContent=e},remove:function(){a.textContent=""}}}function gg(a,r,e){return{set:function(t){a.setAttributeNS(e,r,t)},remove:function(){a.removeAttributeNS(e,r)}}}function pg(a,r){return{set:function(n){a.style[r]=n},remove:function(){a.style[r]=null}}}function dd(a){return ui(a,function(r){if(r&&(r instanceof ss||hc(r)||Zs(r)||vc(r)))return r})}function fd(a){if(typeof a=="string"?a=function(i){return{text:[i]}}(a):a.text&&function(i){Array.isArray(i.text)||(i.text=[i.text])}(a),a.on&&(a.eventListeners=function(i){for(var o in i)hd(i,o);return i}(a.on),delete a.on),!a.text){a.attributes&&function(i){for(var o in i)i[o].value&&(i[o].value=[].concat(i[o].value)),hd(i,o)}(a.attributes);var r=[];if(a.children)if(vc(a.children))r.push(a.children);else{var e=p(a.children),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;hc(t)||Zs(t)||va(t)?r.push(t):r.push(new Mi(t))}}catch(i){e.e(i)}finally{e.f()}}a.children=r}return a}function hd(a,r){Array.isArray(a[r])||(a[r]=[a[r]])}function vd(a,r){return vo(r)?a:vo(a)?r:"".concat(a," ").concat(r)}function gd(a,r){for(var e in r){var n;a[e]?(n=a[e]).push.apply(n,R(r[e])):a[e]=r[e]}}function vo(a){return!a&&a!==0}function Zs(a){return a instanceof Tn}function hc(a){return a instanceof Mi}function vc(a){return a instanceof ja}function pd(a){return a=="class"||a=="style"}L(15);var Tn=function(){function a(r){w(this,a),this.element=null,this.isRendered=!1,this.locale=r,this.t=r&&r.t,this._viewCollections=new Tr,this._unboundChildren=this.createCollection(),this._viewCollections.on("add",function(e,n){n.locale=r}),this.decorate("render")}return _(a,[{key:"bindTemplate",get:function(){return this._bindTemplate?this._bindTemplate:this._bindTemplate=Mi.bind(this,this)}},{key:"createCollection",value:function(e){var n=new ja(e);return this._viewCollections.add(n),n}},{key:"registerChild",value:function(e){Lr(e)||(e=[e]);var n=p(e),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;this._unboundChildren.add(i)}}catch(o){n.e(o)}finally{n.f()}}},{key:"deregisterChild",value:function(e){Lr(e)||(e=[e]);var n=p(e),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;this._unboundChildren.remove(i)}}catch(o){n.e(o)}finally{n.f()}}},{key:"setTemplate",value:function(e){this.template=new Mi(e)}},{key:"extendTemplate",value:function(e){Mi.extend(this.template,e)}},{key:"render",value:function(){if(this.isRendered)throw new le.b("ui-view-render-already-rendered: This View has already been rendered.",this);this.template&&(this.element=this.template.render(),this.registerChild(this.template.getViews())),this.isRendered=!0}},{key:"destroy",value:function(){this.stopListening(),this._viewCollections.map(function(e){return e.destroy()}),this.template&&this.template._revertData&&this.template.revert(this.element)}}]),a}();tn(Tn,oo),tn(Tn,Jn);var md=function(r){return typeof r=="string"||!Mt(r)&&Ie(r)&&Ge(r)=="[object String]"},mg=function(a){O(e,a);var r=D(e);function e(n){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[];return w(this,e),t=r.call(this,i),t.locale=n,t}return _(e,[{key:"attachToDom",value:function(){this._bodyCollectionContainer=new Mi({tag:"div",attributes:{class:["ck","ck-reset_all","ck-body","ck-rounded-corners"],dir:this.locale.uiLanguageDirection},children:this}).render();var t=document.querySelector(".ck-body-wrapper");t||(t=function(i,o){var s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},l=arguments.length>3&&arguments[3]!==void 0?arguments[3]:[],c=s&&s.xmlns,u=c?i.createElementNS(c,o):i.createElement(o);for(var d in s)u.setAttribute(d,s[d]);!md(l)&&Lr(l)||(l=[l]);var h=p(l),v;try{for(h.s();!(v=h.n()).done;){var m=v.value;md(m)&&(m=i.createTextNode(m)),u.appendChild(m)}}catch(k){h.e(k)}finally{h.f()}return u}(document,"div",{class:"ck-body-wrapper"}),document.body.appendChild(t)),t.appendChild(this._bodyCollectionContainer)}},{key:"detachFromDom",value:function(){b(x(e.prototype),"destroy",this).call(this),this._bodyCollectionContainer&&this._bodyCollectionContainer.remove();var t=document.querySelector(".ck-body-wrapper");t&&t.childElementCount==0&&t.remove()}}]),e}(ja);L(17);var bg=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.body=new mg(n),t}return _(e,[{key:"render",value:function(){b(x(e.prototype),"render",this).call(this),this.body.attachToDom()}},{key:"destroy",value:function(){return this.body.detachFromDom(),b(x(e.prototype),"destroy",this).call(this)}}]),e}(Tn);L(19);var bd=function(a){O(e,a);var r=D(e);function e(n){var t;w(this,e),t=r.call(this,n),t.set("text"),t.set("for"),t.id="ck-editor__label_"+Yr();var i=t.bindTemplate;return t.setTemplate({tag:"label",attributes:{class:["ck","ck-label"],id:t.id,for:i.to("for")},children:[{text:i.to("text")}]}),t}return e}(Tn),yg=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.top=t.createCollection(),t.main=t.createCollection(),t._voiceLabelView=t._createVoiceLabel(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-editor","ck-rounded-corners"],role:"application",dir:n.uiLanguageDirection,lang:n.uiLanguage,"aria-labelledby":t._voiceLabelView.id},children:[t._voiceLabelView,{tag:"div",attributes:{class:["ck","ck-editor__top","ck-reset_all"],role:"presentation"},children:t.top},{tag:"div",attributes:{class:["ck","ck-editor__main"],role:"presentation"},children:t.main}]}),t}return _(e,[{key:"_createVoiceLabel",value:function(){var t=this.t,i=new bd;return i.text=t("Rich Text Editor"),i.extendTemplate({attributes:{class:"ck-voice-label"}}),i}}]),e}(bg),kg=function(a){O(e,a);var r=D(e);function e(n,t,i){var o;return w(this,e),o=r.call(this,n),o.setTemplate({tag:"div",attributes:{class:["ck","ck-content","ck-editor__editable","ck-rounded-corners"],lang:n.contentLanguage,dir:n.contentLanguageDirection}}),o.name=null,o.set("isFocused",!1),o._editableElement=i,o._hasExternalElement=!!o._editableElement,o._editingView=t,o}return _(e,[{key:"render",value:function(){var t=this;b(x(e.prototype),"render",this).call(this),this._hasExternalElement?this.template.apply(this.element=this._editableElement):this._editableElement=this.element,this.on("change:isFocused",function(){return t._updateIsFocusedClasses()}),this._updateIsFocusedClasses()}},{key:"destroy",value:function(){this._hasExternalElement&&this.template.revert(this._editableElement),b(x(e.prototype),"destroy",this).call(this)}},{key:"_updateIsFocusedClasses",value:function(){var t=this._editingView;function i(o){t.change(function(s){var l=t.document.getRoot(o.name);s.addClass(o.isFocused?"ck-focused":"ck-blurred",l),s.removeClass(o.isFocused?"ck-blurred":"ck-focused",l)})}t.isRenderingInProgress?function o(s){t.once("change:isRenderingInProgress",function(l,c,u){u?o(s):i(s)})}(this):i(this)}}]),e}(Tn),wg=function(a){O(e,a);var r=D(e);function e(n,t,i){var o;return w(this,e),o=r.call(this,n,t,i),o.extendTemplate({attributes:{role:"textbox",class:"ck-editor__editable_inline"}}),o}return _(e,[{key:"render",value:function(){var t=this;b(x(e.prototype),"render",this).call(this);var i=this._editingView,o=this.t;i.change(function(s){var l=i.document.getRoot(t.name);s.setAttribute("aria-label",o("Rich Text Editor, %0",[t.name]),l)})}}]),e}(kg);function gc(a){return function(r){return r+a}}L(21);var ls=gc("px"),_g=function(a){O(e,a);var r=D(e);function e(n){var t;w(this,e),t=r.call(this,n);var i=t.bindTemplate;return t.set("isActive",!1),t.set("isSticky",!1),t.set("limiterElement",null),t.set("limiterBottomOffset",50),t.set("viewportTopOffset",0),t.set("_marginLeft",null),t.set("_isStickyToTheLimiter",!1),t.set("_hasViewportTopOffset",!1),t.content=t.createCollection(),t._contentPanelPlaceholder=new Mi({tag:"div",attributes:{class:["ck","ck-sticky-panel__placeholder"],style:{display:i.to("isSticky",function(o){return o?"block":"none"}),height:i.to("isSticky",function(o){return o?ls(t._panelRect.height):null})}}}).render(),t._contentPanel=new Mi({tag:"div",attributes:{class:["ck","ck-sticky-panel__content",i.if("isSticky","ck-sticky-panel__content_sticky"),i.if("_isStickyToTheLimiter","ck-sticky-panel__content_sticky_bottom-limit")],style:{width:i.to("isSticky",function(o){return o?ls(t._contentPanelPlaceholder.getBoundingClientRect().width):null}),top:i.to("_hasViewportTopOffset",function(o){return o?ls(t.viewportTopOffset):null}),bottom:i.to("_isStickyToTheLimiter",function(o){return o?ls(t.limiterBottomOffset):null}),marginLeft:i.to("_marginLeft")}},children:t.content}).render(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-sticky-panel"]},children:[t._contentPanelPlaceholder,t._contentPanel]}),t}return _(e,[{key:"render",value:function(){var t=this;b(x(e.prototype),"render",this).call(this),this._checkIfShouldBeSticky(),this.listenTo(cr.window,"scroll",function(){t._checkIfShouldBeSticky()}),this.listenTo(this,"change:isActive",function(){t._checkIfShouldBeSticky()})}},{key:"_checkIfShouldBeSticky",value:function(){var t=this._panelRect=this._contentPanel.getBoundingClientRect(),i;this.limiterElement?(i=this._limiterRect=this.limiterElement.getBoundingClientRect(),this.isSticky=this.isActive&&i.top<this.viewportTopOffset&&this._panelRect.height+this.limiterBottomOffset<i.height):this.isSticky=!1,this.isSticky?(this._isStickyToTheLimiter=i.bottom<t.height+this.limiterBottomOffset+this.viewportTopOffset,this._hasViewportTopOffset=!this._isStickyToTheLimiter&&!!this.viewportTopOffset,this._marginLeft=this._isStickyToTheLimiter?null:ls(-cr.window.scrollX)):(this._isStickyToTheLimiter=!1,this._hasViewportTopOffset=!1,this._marginLeft=null)}}]),e}(Tn),go=function(){function a(r){var e=this;if(w(this,a),Object.assign(this,r),r.actions&&r.keystrokeHandler){var n=function(o){var s=r.actions[o];typeof s=="string"&&(s=[s]);var l=p(s),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;r.keystrokeHandler.set(u,function(d,h){e[o](),h()})}}catch(d){l.e(d)}finally{l.f()}};for(var t in r.actions)n(t)}}return _(a,[{key:"first",get:function(){return this.focusables.find(pc)||null}},{key:"last",get:function(){return this.focusables.filter(pc).slice(-1)[0]||null}},{key:"next",get:function(){return this._getFocusableItem(1)}},{key:"previous",get:function(){return this._getFocusableItem(-1)}},{key:"current",get:function(){var e=this,n=null;return this.focusTracker.focusedElement===null?null:(this.focusables.find(function(t,i){var o=t.element===e.focusTracker.focusedElement;return o&&(n=i),o}),n)}},{key:"focusFirst",value:function(){this._focus(this.first)}},{key:"focusLast",value:function(){this._focus(this.last)}},{key:"focusNext",value:function(){this._focus(this.next)}},{key:"focusPrevious",value:function(){this._focus(this.previous)}},{key:"_focus",value:function(e){e&&e.focus()}},{key:"_getFocusableItem",value:function(e){var n=this.current,t=this.focusables.length;if(!t)return null;if(n===null)return this[e===1?"first":"last"];var i=(n+t+e)%t;do{var o=this.focusables.get(i);if(pc(o))return o;i=(i+t+e)%t}while(i!==n);return null}}]),a}();function pc(a){return!(!a.focus||cr.window.getComputedStyle(a.element).display=="none")}var yd=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.setTemplate({tag:"span",attributes:{class:["ck","ck-toolbar__separator"]}}),t}return e}(Tn),mc=function(){function a(r,e){w(this,a),a._observerInstance||a._createObserver(),this._element=r,this._callback=e,a._addElementCallback(r,e),a._observerInstance.observe(r)}return _(a,[{key:"destroy",value:function(){a._deleteElementCallback(this._element,this._callback)}}],[{key:"_addElementCallback",value:function(e,n){a._elementCallbacks||(a._elementCallbacks=new Map);var t=a._elementCallbacks.get(e);t||(t=new Set,a._elementCallbacks.set(e,t)),t.add(n)}},{key:"_deleteElementCallback",value:function(e,n){var t=a._getElementCallbacks(e);t&&(t.delete(n),t.size||(a._elementCallbacks.delete(e),a._observerInstance.unobserve(e))),a._elementCallbacks&&!a._elementCallbacks.size&&(a._observerInstance=null,a._elementCallbacks=null)}},{key:"_getElementCallbacks",value:function(e){return a._elementCallbacks?a._elementCallbacks.get(e):null}},{key:"_createObserver",value:function(){var e;e=typeof cr.window.ResizeObserver=="function"?cr.window.ResizeObserver:kd,a._observerInstance=new e(function(n){var t=p(n),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;if(!!o.target.offsetParent){var s=a._getElementCallbacks(o.target);if(s){var l=p(s),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;u(o)}}catch(d){l.e(d)}finally{l.f()}}}}}catch(d){t.e(d)}finally{t.f()}})}}]),a}();mc._observerInstance=null,mc._elementCallbacks=null;var kd=function(){function a(r){w(this,a),this._callback=r,this._elements=new Set,this._previousRects=new Map,this._periodicCheckTimeout=null}return _(a,[{key:"observe",value:function(e){this._elements.add(e),this._checkElementRectsAndExecuteCallback(),this._elements.size===1&&this._startPeriodicCheck()}},{key:"unobserve",value:function(e){this._elements.delete(e),this._previousRects.delete(e),this._elements.size||this._stopPeriodicCheck()}},{key:"_startPeriodicCheck",value:function(){var e=this,n=function t(){e._checkElementRectsAndExecuteCallback(),e._periodicCheckTimeout=setTimeout(t,100)};this.listenTo(cr.window,"resize",function(){e._checkElementRectsAndExecuteCallback()}),this._periodicCheckTimeout=setTimeout(n,100)}},{key:"_stopPeriodicCheck",value:function(){clearTimeout(this._periodicCheckTimeout),this.stopListening(),this._previousRects.clear()}},{key:"_checkElementRectsAndExecuteCallback",value:function(){var e=[],n=p(this._elements),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;this._hasRectChanged(i)&&e.push({target:i,contentRect:this._previousRects.get(i)})}}catch(o){n.e(o)}finally{n.f()}e.length&&this._callback(e)}},{key:"_hasRectChanged",value:function(e){if(!e.ownerDocument.body.contains(e))return!1;var n=new Mr(e),t=this._previousRects.get(e),i=!t||!t.isEqual(n);return this._previousRects.set(e,n),i}}]),a}();tn(kd,oo);var xg=function(a){O(e,a);var r=D(e);function e(n){var t;w(this,e),t=r.call(this,n);var i=t.bindTemplate;return t.set("isVisible",!1),t.set("position","se"),t.children=t.createCollection(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-reset","ck-dropdown__panel",i.to("position",function(o){return"ck-dropdown__panel_"+o}),i.if("isVisible","ck-dropdown__panel-visible")]},children:t.children,on:{selectstart:i.to(function(o){return o.preventDefault()})}}),t}return _(e,[{key:"focus",value:function(){this.children.length&&this.children.first.focus()}},{key:"focusLast",value:function(){if(this.children.length){var t=this.children.last;typeof t.focusLast=="function"?t.focusLast():t.focus()}}}]),e}(Tn);L(23);function wd(a){var r=a.element,e=a.target,n=a.positions,t=a.limiter,i=a.fitInViewport;Pe(e)&&(e=e()),Pe(t)&&(t=t());var o=function(P){return P&&P.parentNode?P.offsetParent===cr.document.body?null:P.offsetParent:null}(r),s=new Mr(r),l=new Mr(e),c,u;if(t||i){var d=function(P,U){var H=U.elementRect,G=U.viewportRect,Z=H.getArea(),ce=function(ke,Re){var Xe=Re.targetRect,gt=Re.elementRect,Bt=Re.limiterRect,pt=Re.viewportRect,nt=[],Ht=gt.getArea(),Wt=p(ke),vn;try{for(Wt.s();!(vn=Wt.n()).done;){var ir=vn.value,Nr=bc(ir,Xe,gt);if(!!Nr){var ni=C(Nr,2),La=ni[0],ki=ni[1],li=0,zi=0;if(Bt)if(pt){var Ba=Bt.getIntersection(pt);Ba&&(li=Ba.getIntersectionArea(ki))}else li=Bt.getIntersectionArea(ki);pt&&(zi=pt.getIntersectionArea(ki));var Va={positionName:La,positionRect:ki,limiterIntersectArea:li,viewportIntersectArea:zi};if(li===Ht)return[Va];nt.push(Va)}}}catch(fs){Wt.e(fs)}finally{Wt.f()}return nt}(P,U);if(G){var ye=_d(ce.filter(function(ke){var Re=ke.viewportIntersectArea;return Re===Z}),Z);if(ye)return ye}return _d(ce,Z)}(n,{targetRect:l,elementRect:s,limiterRect:t&&new Mr(t).getVisible(),viewportRect:i&&new Mr(cr.window)}),h=d||bc(n[0],l,s),v=C(h,2);u=v[0],c=v[1]}else{var m=bc(n[0],l,s),k=C(m,2);u=k[0],c=k[1]}var E=xd(c);return o&&(E=function(P,U){var H=P.left,G=P.top,Z=xd(new Mr(U)),ce=du(U);return H-=Z.left,G-=Z.top,H+=U.scrollLeft,G+=U.scrollTop,H-=ce.left,G-=ce.top,{left:H,top:G}}(E,o)),{left:E.left,top:E.top,name:u}}function bc(a,r,e){var n=a(r,e);if(!n)return null;var t=n.left,i=n.top,o=n.name;return[o,e.clone().moveTo(t,i)]}function _d(a,r){var e,n,t=0,i=p(a),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.positionName,c=s.positionRect,u=s.limiterIntersectArea,d=s.viewportIntersectArea;if(u===r)return[l,c];var h=Math.pow(d,2)+Math.pow(u,2);h>t&&(t=h,e=c,n=l)}}catch(v){i.e(v)}finally{i.f()}return e?[n,e]:null}function xd(a){var r=a.left,e=a.top,n=cr.window,t=n.scrollX,i=n.scrollY;return{left:r+t,top:e+i}}var yc=function(a){O(e,a);var r=D(e);function e(n,t,i){var o;w(this,e),o=r.call(this,n);var s=o.bindTemplate;return o.buttonView=t,o.panelView=i,o.set("isOpen",!1),o.set("isEnabled",!0),o.set("class"),o.set("id"),o.set("panelPosition","auto"),o.keystrokes=new ta,o.setTemplate({tag:"div",attributes:{class:["ck","ck-dropdown",s.to("class"),s.if("isEnabled","ck-disabled",function(l){return!l})],id:s.to("id"),"aria-describedby":s.to("ariaDescribedById")},children:[t,i]}),t.extendTemplate({attributes:{class:["ck-dropdown__button"]}}),o}return _(e,[{key:"render",value:function(){var t=this;b(x(e.prototype),"render",this).call(this),this.listenTo(this.buttonView,"open",function(){t.isOpen=!t.isOpen}),this.panelView.bind("isVisible").to(this,"isOpen"),this.on("change:isOpen",function(){t.isOpen&&(t.panelPosition==="auto"?t.panelView.position=e._getOptimalPosition({element:t.panelView.element,target:t.buttonView.element,fitInViewport:!0,positions:t._panelPositions}).name:t.panelView.position=t.panelPosition)}),this.keystrokes.listenTo(this.element);var i=function(s,l){t.isOpen&&(t.buttonView.focus(),t.isOpen=!1,l())};this.keystrokes.set("arrowdown",function(o,s){t.buttonView.isEnabled&&!t.isOpen&&(t.isOpen=!0,s())}),this.keystrokes.set("arrowright",function(o,s){t.isOpen&&s()}),this.keystrokes.set("arrowleft",i),this.keystrokes.set("esc",i)}},{key:"focus",value:function(){this.buttonView.focus()}},{key:"_panelPositions",get:function(){var t=e.defaultPanelPositions,i=t.southEast,o=t.southWest,s=t.northEast,l=t.northWest;return this.locale.uiLanguageDirection==="ltr"?[i,o,s,l]:[o,i,l,s]}}]),e}(Tn);yc.defaultPanelPositions={southEast:function(r){return{top:r.bottom,left:r.left,name:"se"}},southWest:function(r,e){return{top:r.bottom,left:r.left-e.width+r.width,name:"sw"}},northEast:function(r,e){return{top:r.top-e.height,left:r.left,name:"ne"}},northWest:function(r,e){return{top:r.bottom-e.height,left:r.left-e.width+r.width,name:"nw"}}},yc._getOptimalPosition=wd,L(25);var Xs=function(a){O(e,a);var r=D(e);function e(){var n;w(this,e),n=r.call(this);var t=n.bindTemplate;return n.set("content",""),n.set("viewBox","0 0 20 20"),n.set("fillColor",""),n.setTemplate({tag:"svg",ns:"http://www.w3.org/2000/svg",attributes:{class:["ck","ck-icon"],viewBox:t.to("viewBox")}}),n}return _(e,[{key:"render",value:function(){var t=this;b(x(e.prototype),"render",this).call(this),this._updateXMLContent(),this._colorFillPaths(),this.on("change:content",function(){t._updateXMLContent(),t._colorFillPaths()}),this.on("change:fillColor",function(){t._colorFillPaths()})}},{key:"_updateXMLContent",value:function(){if(this.content){var t=new DOMParser().parseFromString(this.content.trim(),"image/svg+xml").querySelector("svg"),i=t.getAttribute("viewBox");for(i&&(this.viewBox=i),this.element.innerHTML="";t.childNodes.length>0;)this.element.appendChild(t.childNodes[0])}}},{key:"_colorFillPaths",value:function(){var t=this;this.fillColor&&this.element.querySelectorAll(".ck-icon__fill").forEach(function(i){i.style.fill=t.fillColor})}}]),e}(Tn);L(27);var Ed=function(a){O(e,a);var r=D(e);function e(n){var t;w(this,e),t=r.call(this,n),t.set("text",""),t.set("position","s");var i=t.bindTemplate;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-tooltip",i.to("position",function(o){return"ck-tooltip_"+o}),i.if("text","ck-hidden",function(o){return!o.trim()})]},children:[{tag:"span",attributes:{class:["ck","ck-tooltip__text"]},children:[{text:i.to("text")}]}]}),t}return e}(Tn);L(29);var hr=function(a){O(e,a);var r=D(e);function e(n){var t;w(this,e),t=r.call(this,n);var i=t.bindTemplate,o=Yr();return t.set("class"),t.set("labelStyle"),t.set("icon"),t.set("isEnabled",!0),t.set("isOn",!1),t.set("isVisible",!0),t.set("isToggleable",!1),t.set("keystroke"),t.set("label"),t.set("tabindex",-1),t.set("tooltip"),t.set("tooltipPosition","s"),t.set("type","button"),t.set("withText",!1),t.set("withKeystroke",!1),t.children=t.createCollection(),t.tooltipView=t._createTooltipView(),t.labelView=t._createLabelView(o),t.iconView=new Xs,t.iconView.extendTemplate({attributes:{class:"ck-button__icon"}}),t.keystrokeView=t._createKeystrokeView(),t.bind("_tooltipString").to(j(t),"tooltip",j(t),"label",j(t),"keystroke",t._getTooltipString.bind(j(t))),t.setTemplate({tag:"button",attributes:{class:["ck","ck-button",i.to("class"),i.if("isEnabled","ck-disabled",function(s){return!s}),i.if("isVisible","ck-hidden",function(s){return!s}),i.to("isOn",function(s){return s?"ck-on":"ck-off"}),i.if("withText","ck-button_with-text"),i.if("withKeystroke","ck-button_with-keystroke")],type:i.to("type",function(s){return s||"button"}),tabindex:i.to("tabindex"),"aria-labelledby":"ck-editor__aria-label_"+o,"aria-disabled":i.if("isEnabled",!0,function(s){return!s}),"aria-pressed":i.to("isOn",function(s){return!!t.isToggleable&&String(s)})},children:t.children,on:{mousedown:i.to(function(s){s.preventDefault()}),click:i.to(function(s){t.isEnabled?t.fire("execute"):s.preventDefault()})}}),t}return _(e,[{key:"render",value:function(){b(x(e.prototype),"render",this).call(this),this.icon&&(this.iconView.bind("content").to(this,"icon"),this.children.add(this.iconView)),this.children.add(this.tooltipView),this.children.add(this.labelView),this.withKeystroke&&this.children.add(this.keystrokeView)}},{key:"focus",value:function(){this.element.focus()}},{key:"_createTooltipView",value:function(){var t=new Ed;return t.bind("text").to(this,"_tooltipString"),t.bind("position").to(this,"tooltipPosition"),t}},{key:"_createLabelView",value:function(t){var i=new Tn,o=this.bindTemplate;return i.setTemplate({tag:"span",attributes:{class:["ck","ck-button__label"],style:o.to("labelStyle"),id:"ck-editor__aria-label_"+t},children:[{text:this.bindTemplate.to("label")}]}),i}},{key:"_createKeystrokeView",value:function(){var t=new Tn;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__keystroke"]},children:[{text:this.bindTemplate.to("keystroke",function(i){return to(i)})}]}),t}},{key:"_getTooltipString",value:function(t,i,o){return t?typeof t=="string"?t:(o&&(o=to(o)),t instanceof Function?t(i,o):"".concat(i).concat(o?" (".concat(o,")"):"")):""}}]),e}(Tn),Cd='<svg viewBox="0 0 10 10" xmlns="http://www.w3.org/2000/svg"><path d="M.941 4.523a.75.75 0 1 1 1.06-1.06l3.006 3.005 3.005-3.005a.75.75 0 1 1 1.06 1.06l-3.549 3.55a.75.75 0 0 1-1.168-.136L.941 4.523z"/></svg>',Od=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.arrowView=t._createArrowView(),t.extendTemplate({attributes:{"aria-haspopup":!0}}),t.delegate("execute").to(j(t),"open"),t}return _(e,[{key:"render",value:function(){b(x(e.prototype),"render",this).call(this),this.children.add(this.arrowView)}},{key:"_createArrowView",value:function(){var t=new Xs;return t.content=Cd,t.extendTemplate({attributes:{class:"ck-dropdown__arrow"}}),t}}]),e}(hr);L(31);var Pd=function(a){O(e,a);var r=D(e);function e(){var n;return w(this,e),n=r.call(this),n.items=n.createCollection(),n.focusTracker=new Si,n.keystrokes=new ta,n._focusCycler=new go({focusables:n.items,focusTracker:n.focusTracker,keystrokeHandler:n.keystrokes,actions:{focusPrevious:"arrowup",focusNext:"arrowdown"}}),n.setTemplate({tag:"ul",attributes:{class:["ck","ck-reset","ck-list"]},children:n.items}),n}return _(e,[{key:"render",value:function(){var t=this;b(x(e.prototype),"render",this).call(this);var i=p(this.items),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;this.focusTracker.add(s.element)}}catch(l){i.e(l)}finally{i.f()}this.items.on("add",function(l,c){t.focusTracker.add(c.element)}),this.items.on("remove",function(l,c){t.focusTracker.remove(c.element)}),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}}]),e}(Tn),Ad=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.children=t.createCollection(),t.setTemplate({tag:"li",attributes:{class:["ck","ck-list__item"]},children:t.children}),t}return _(e,[{key:"focus",value:function(){this.children.first.focus()}}]),e}(Tn),Eg=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.setTemplate({tag:"li",attributes:{class:["ck","ck-list__separator"]}}),t}return e}(Tn);L(33);var kc=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.isToggleable=!0,t.toggleSwitchView=t._createToggleView(),t.extendTemplate({attributes:{class:"ck-switchbutton"}}),t}return _(e,[{key:"render",value:function(){b(x(e.prototype),"render",this).call(this),this.children.add(this.toggleSwitchView)}},{key:"_createToggleView",value:function(){var t=new Tn;return t.setTemplate({tag:"span",attributes:{class:["ck","ck-button__toggle"]},children:[{tag:"span",attributes:{class:["ck","ck-button__toggle__inner"]}}]}),t}}]),e}(hr);function qs(a){var r=a.emitter,e=a.activator,n=a.callback,t=a.contextElements;r.listenTo(document,"mousedown",function(i,o){var s=o.target;if(e()){var l=p(t),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;if(u.contains(s))return}}catch(d){l.e(d)}finally{l.f()}n()}})}L(35),L(37);function po(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Od,e=new r(a),n=new xg(a),t=new yc(a,e,n);return e.bind("isEnabled").to(t),e instanceof Od?e.bind("isOn").to(t,"isOpen"):e.arrowView.bind("isOn").to(t,"isOpen"),function(i){(function(o){o.on("render",function(){qs({emitter:o,activator:function(){return o.isOpen},callback:function(){o.isOpen=!1},contextElements:[o.element]})})})(i),function(o){o.on("execute",function(s){s.source instanceof kc||(o.isOpen=!1)})}(i),function(o){o.keystrokes.set("arrowdown",function(s,l){o.isOpen&&(o.panelView.focus(),l())}),o.keystrokes.set("arrowup",function(s,l){o.isOpen&&(o.panelView.focusLast(),l())})}(i)}(t),t}function Td(a,r){var e=a.locale,n=a.listView=new Pd(e);n.items.bindTo(r).using(function(t){var i=t.type,o=t.model;if(i==="separator")return new Eg(e);if(i==="button"||i==="switchbutton"){var s,l=new Ad(e),c;return c=i==="button"?new hr(e):new kc(e),(s=c).bind.apply(s,R(Object.keys(o))).to(o),c.delegate("execute").to(l),l.children.add(c),l}}),a.panelView.children.add(n),n.items.delegate("execute").to(a)}L(39);var wc=function(a){O(e,a);var r=D(e);function e(n,t){var i;w(this,e),i=r.call(this,n);var o=i.bindTemplate,s=i.t,l;return i.options=t||{},i.set("ariaLabel",s("Editor toolbar")),i.set("maxWidth","auto"),i.items=i.createCollection(),i.focusTracker=new Si,i.keystrokes=new ta,i.set("class"),i.set("isCompact",!1),i.itemsView=new Cg(n),i.children=i.createCollection(),i.children.add(i.itemsView),i.focusables=i.createCollection(),i._focusCycler=new go({focusables:i.focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:["arrowleft","arrowup"],focusNext:["arrowright","arrowdown"]}}),i.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar",o.to("class"),o.if("isCompact","ck-toolbar_compact")],role:"toolbar","aria-label":o.to("ariaLabel"),style:{maxWidth:o.to("maxWidth")}},children:i.children,on:{mousedown:(l=j(i),l.bindTemplate.to(function(c){c.target===l.element&&c.preventDefault()}))}}),i._behavior=i.options.shouldGroupWhenFull?new Pg(j(i)):new Og(j(i)),i}return _(e,[{key:"render",value:function(){var t=this;b(x(e.prototype),"render",this).call(this);var i=p(this.items),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;this.focusTracker.add(s.element)}}catch(l){i.e(l)}finally{i.f()}this.items.on("add",function(l,c){t.focusTracker.add(c.element)}),this.items.on("remove",function(l,c){t.focusTracker.remove(c.element)}),this.keystrokes.listenTo(this.element),this._behavior.render(this)}},{key:"destroy",value:function(){return this._behavior.destroy(),b(x(e.prototype),"destroy",this).call(this)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"focusLast",value:function(){this._focusCycler.focusLast()}},{key:"fillFromConfig",value:function(t,i){var o=this;t.map(function(s){s=="|"?o.items.add(new yd):i.has(s)?o.items.add(i.create(s)):console.warn(Object(le.a)("toolbarview-item-unavailable: The requested toolbar item is unavailable."),{name:s})})}}]),e}(Tn),Cg=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.children=t.createCollection(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-toolbar__items"]},children:t.children}),t}return e}(Tn),Og=function(){function a(r){w(this,a);var e=r.bindTemplate;r.set("isVertical",!1),r.itemsView.children.bindTo(r.items).using(function(n){return n}),r.focusables.bindTo(r.items).using(function(n){return n}),r.extendTemplate({attributes:{class:[e.if("isVertical","ck-toolbar_vertical")]}})}return _(a,[{key:"render",value:function(){}},{key:"destroy",value:function(){}}]),a}(),Pg=function(){function a(r){var e=this;w(this,a),this.viewChildren=r.children,this.viewFocusables=r.focusables,this.viewItemsView=r.itemsView,this.viewFocusTracker=r.focusTracker,this.viewLocale=r.locale,this.ungroupedItems=r.createCollection(),this.groupedItems=r.createCollection(),this.groupedItemsDropdown=this._createGroupedItemsDropdown(),this.resizeObserver=null,this.cachedPadding=null,this.shouldUpdateGroupingOnNextResize=!1,r.itemsView.children.bindTo(this.ungroupedItems).using(function(n){return n}),this.ungroupedItems.on("add",this._updateFocusCycleableItems.bind(this)),this.ungroupedItems.on("remove",this._updateFocusCycleableItems.bind(this)),r.children.on("add",this._updateFocusCycleableItems.bind(this)),r.children.on("remove",this._updateFocusCycleableItems.bind(this)),r.items.on("add",function(n,t,i){i>e.ungroupedItems.length?e.groupedItems.add(t,i-e.ungroupedItems.length):e.ungroupedItems.add(t,i),e._updateGrouping()}),r.items.on("remove",function(n,t,i){i>e.ungroupedItems.length?e.groupedItems.remove(t):e.ungroupedItems.remove(t),e._updateGrouping()}),r.extendTemplate({attributes:{class:["ck-toolbar_grouping"]}})}return _(a,[{key:"render",value:function(e){this.viewElement=e.element,this._enableGroupingOnResize(),this._enableGroupingOnMaxWidthChange(e)}},{key:"destroy",value:function(){this.groupedItemsDropdown.destroy(),this.resizeObserver.destroy()}},{key:"_updateGrouping",value:function(){if(!!this.viewElement.ownerDocument.body.contains(this.viewElement)){if(!this.viewElement.offsetParent)return void(this.shouldUpdateGroupingOnNextResize=!0);for(var e;this._areItemsOverflowing;)this._groupLastItem(),e=!0;if(!e&&this.groupedItems.length){for(;this.groupedItems.length&&!this._areItemsOverflowing;)this._ungroupFirstItem();this._areItemsOverflowing&&this._groupLastItem()}}}},{key:"_areItemsOverflowing",get:function(){if(!this.ungroupedItems.length)return!1;var e=this.viewElement,n=this.viewLocale.uiLanguageDirection,t=new Mr(e.lastChild),i=new Mr(e);if(!this.cachedPadding){var o=cr.window.getComputedStyle(e),s=n==="ltr"?"paddingRight":"paddingLeft";this.cachedPadding=Number.parseInt(o[s])}return n==="ltr"?t.right>i.right-this.cachedPadding:t.left<i.left+this.cachedPadding}},{key:"_enableGroupingOnResize",value:function(){var e=this,n;this.resizeObserver=new mc(this.viewElement,function(t){n&&n===t.contentRect.width&&!e.shouldUpdateGroupingOnNextResize||(e.shouldUpdateGroupingOnNextResize=!1,e._updateGrouping(),n=t.contentRect.width)}),this._updateGrouping()}},{key:"_enableGroupingOnMaxWidthChange",value:function(e){var n=this;e.on("change:maxWidth",function(){n._updateGrouping()})}},{key:"_groupLastItem",value:function(){this.groupedItems.length||(this.viewChildren.add(new yd),this.viewChildren.add(this.groupedItemsDropdown),this.viewFocusTracker.add(this.groupedItemsDropdown.element)),this.groupedItems.add(this.ungroupedItems.remove(this.ungroupedItems.last),0)}},{key:"_ungroupFirstItem",value:function(){this.ungroupedItems.add(this.groupedItems.remove(this.groupedItems.first)),this.groupedItems.length||(this.viewChildren.remove(this.groupedItemsDropdown),this.viewChildren.remove(this.viewChildren.last),this.viewFocusTracker.remove(this.groupedItemsDropdown.element))}},{key:"_createGroupedItemsDropdown",value:function(){var e=this.viewLocale,n=e.t,t=po(e);return t.class="ck-toolbar__grouped-dropdown",t.panelPosition=e.uiLanguageDirection==="ltr"?"sw":"se",function(i,o){var s=i.locale,l=s.t,c=i.toolbarView=new wc(s);c.set("ariaLabel",l("Dropdown toolbar")),i.extendTemplate({attributes:{class:["ck-toolbar-dropdown"]}}),o.map(function(u){return c.items.add(u)}),i.panelView.children.add(c),c.items.delegate("execute").to(i)}(t,[]),t.buttonView.set({label:n("Show more items"),tooltip:!0,icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><circle cx="9.5" cy="4.5" r="1.5"/><circle cx="9.5" cy="10.5" r="1.5"/><circle cx="9.5" cy="16.5" r="1.5"/></svg>'}),t.toolbarView.items.bindTo(this.groupedItems).using(function(i){return i}),t}},{key:"_updateFocusCycleableItems",value:function(){var e=this;this.viewFocusables.clear(),this.ungroupedItems.map(function(n){e.viewFocusables.add(n)}),this.groupedItems.length&&this.viewFocusables.add(this.groupedItemsDropdown)}}]),a}();L(41);var Ag=function(a){O(e,a);var r=D(e);function e(n,t){var i,o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return w(this,e),i=r.call(this,n),i.stickyPanel=new _g(n),i.toolbar=new wc(n,{shouldGroupWhenFull:o.shouldToolbarGroupWhenFull}),i.editable=new wg(n,t),i}return _(e,[{key:"render",value:function(){b(x(e.prototype),"render",this).call(this),this.stickyPanel.content.add(this.toolbar),this.top.add(this.stickyPanel),this.main.add(this.editable)}}]),e}(yg),_c=function(a){O(e,a);var r=D(e);function e(n,t){var i;w(this,e),i=r.call(this,t),br(n)&&(i.sourceElement=n),i.data.processor=new ad(i.data.viewDocument),i.model.document.createRoot();var o=!i.config.get("toolbar.shouldNotGroupWhenFull"),s=new Ag(i.locale,i.editing.view,{shouldToolbarGroupWhenFull:o});return i.ui=new fg(j(i),s),function(l){if(!Pe(l.updateSourceElement))throw new le.b("attachtoform-missing-elementapi-interface: Editor passed to attachToForm() must implement ElementApi.",l);var c=l.sourceElement;if(c&&c.tagName.toLowerCase()==="textarea"&&c.form){var u,d=c.form,h=function(){return l.updateSourceElement()};Pe(d.submit)&&(u=d.submit,d.submit=function(){h(),u.apply(d)}),d.addEventListener("submit",h),l.on("destroy",function(){d.removeEventListener("submit",h),u&&(d.submit=u)})}}(j(i)),i}return _(e,[{key:"destroy",value:function(){return this.sourceElement&&this.updateSourceElement(),this.ui.destroy(),b(x(e.prototype),"destroy",this).call(this)}}],[{key:"create",value:function(t){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(s){var l=new i(t,o);s(l.initPlugins().then(function(){return l.ui.init(br(t)?t:null)}).then(function(){if(!br(t)&&o.initialData)throw new le.b("editor-create-initial-data: The config.initialData option cannot be used together with initial data passed in Editor.create().",null);var c=o.initialData||function(u){return br(u)?(d=u,d instanceof HTMLTextAreaElement?d.value:d.innerHTML):u;var d}(t);return l.data.init(c)}).then(function(){return l.fire("ready")}).then(function(){return l}))})}}]),e}(id);tn(_c,ag),tn(_c,og);var ut=function(){function a(r){w(this,a),this.editor=r,this.set("isEnabled",!0),this._disableStack=new Set}return _(a,[{key:"forceDisabled",value:function(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Sd,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Sd),this.isEnabled=!0)}},{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!1}}]),a}();function Sd(a){a.return=!1,a.stop()}tn(ut,Jn);var Tg=function(){function a(r){w(this,a),this.files=function(e){var n=e.files?Array.from(e.files):[],t=e.items?Array.from(e.items):[];return n.length?n:t.filter(function(i){return i.kind==="file"}).map(function(i){return i.getAsFile()})}(r),this._native=r}return _(a,[{key:"types",get:function(){return this._native.types}},{key:"getData",value:function(e){return this._native.getData(e)}},{key:"setData",value:function(e,n){this._native.setData(e,n)}}]),a}(),Sg=function(a){O(e,a);var r=D(e);function e(n){var t;w(this,e),t=r.call(this,n);var i=t.document;function o(s,l){l.preventDefault();var c=l.dropRange?[l.dropRange]:Array.from(i.selection.getRanges()),u=new ei(i,"clipboardInput");i.fire(u,{dataTransfer:l.dataTransfer,targetRanges:c}),u.stop.called&&l.stopPropagation()}return t.domEventType=["paste","copy","cut","drop","dragover"],t.listenTo(i,"paste",o,{priority:"low"}),t.listenTo(i,"drop",o,{priority:"low"}),t}return _(e,[{key:"onDomEvent",value:function(t){var i={dataTransfer:new Tg(t.clipboardData?t.clipboardData:t.dataTransfer)};t.type=="drop"&&(i.dropRange=function(o,s){var l=s.target.ownerDocument,c=s.clientX,u=s.clientY,d;return l.caretRangeFromPoint&&l.caretRangeFromPoint(c,u)?d=l.caretRangeFromPoint(c,u):s.rangeParent&&(d=l.createRange(),d.setStart(s.rangeParent,s.rangeOffset),d.collapse(!0)),d?o.domConverter.domRangeToView(d):o.document.selection.getFirstRange()}(this.view,t)),this.fire(t.type,t,i)}}]),e}(re),Md=["figcaption","li"],mo=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.model.document,s=i.editing.view,l=s.document;function c(u,d){var h=d.dataTransfer;d.preventDefault();var v=i.data.toView(i.model.getSelectedContent(o.selection));l.fire("clipboardOutput",{dataTransfer:h,content:v,method:u.name})}this._htmlDataProcessor=new ad(l),s.addObserver(Sg),this.listenTo(l,"clipboardInput",function(u){i.isReadOnly&&u.stop()},{priority:"highest"}),this.listenTo(l,"clipboardInput",function(u,d){var h=d.dataTransfer,v="",m;h.getData("text/html")?v=function(E){return E.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(P,U){return U.length==1?" ":U})}(h.getData("text/html")):h.getData("text/plain")&&((m=(m=h.getData("text/plain")).replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/\n/g,"</p><p>").replace(/^\s/,"&nbsp;").replace(/\s$/,"&nbsp;").replace(/\s\s/g," &nbsp;")).indexOf("</p><p>")>-1&&(m="<p>".concat(m,"</p>")),v=m),v=t._htmlDataProcessor.toView(v);var k=new ei(t,"inputTransformation");t.fire(k,{content:v,dataTransfer:h}),k.stop.called&&u.stop(),s.scrollToTheSelection()},{priority:"low"}),this.listenTo(this,"inputTransformation",function(u,d){if(!d.content.isEmpty){var h=t.editor.data,v=t.editor.model,m=h.toModel(d.content,"$clipboardHolder");if(m.childCount==0)return;v.insertContent(m),u.stop()}},{priority:"low"}),this.listenTo(l,"copy",c,{priority:"low"}),this.listenTo(l,"cut",function(u,d){i.isReadOnly?d.preventDefault():c(u,d)},{priority:"low"}),this.listenTo(l,"clipboardOutput",function(u,d){d.content.isEmpty||(d.dataTransfer.setData("text/html",t._htmlDataProcessor.toData(d.content)),d.dataTransfer.setData("text/plain",function h(v){var m="";if(v.is("text")||v.is("textProxy"))m=v.data;else if(v.is("img")&&v.hasAttribute("alt"))m=v.getAttribute("alt");else{var k=null,E=p(v.getChildren()),P;try{for(E.s();!(P=E.n()).done;){var U=P.value,H=h(U);k&&(k.is("containerElement")||U.is("containerElement"))&&(Md.includes(k.name)||Md.includes(U.name)?m+=`
`:m+=`

`),m+=H,k=U}}catch(G){E.e(G)}finally{E.f()}}return m}(d.content))),d.method=="cut"&&i.model.deleteContent(o.selection)},{priority:"low"})}}],[{key:"pluginName",get:function(){return"Clipboard"}}]),e}(ut),jn=function(){function a(r){var e=this;w(this,a),this.editor=r,this.set("value",void 0),this.set("isEnabled",!1),this._disableStack=new Set,this.decorate("execute"),this.listenTo(this.editor.model.document,"change",function(){e.refresh()}),this.on("execute",function(n){e.isEnabled||n.stop()},{priority:"high"}),this.listenTo(r,"change:isReadOnly",function(n,t,i){i?e.forceDisabled("readOnlyMode"):e.clearForceDisabled("readOnlyMode")})}return _(a,[{key:"refresh",value:function(){this.isEnabled=!0}},{key:"forceDisabled",value:function(e){this._disableStack.add(e),this._disableStack.size==1&&(this.on("set:isEnabled",Id,{priority:"highest"}),this.isEnabled=!1)}},{key:"clearForceDisabled",value:function(e){this._disableStack.delete(e),this._disableStack.size==0&&(this.off("set:isEnabled",Id),this.refresh())}},{key:"execute",value:function(){}},{key:"destroy",value:function(){this.stopListening()}}]),a}();function Id(a){a.return=!1,a.stop()}function xc(a,r){var e,n,t;return V.wrap(function(o){for(;;)switch(o.prev=o.next){case 0:e=p(r),o.prev=1,e.s();case 3:if((n=e.n()).done){o.next=11;break}if(t=n.value,o.t0=t&&a.getAttributeProperties(t[0]).copyOnEnter,!o.t0){o.next=9;break}return o.next=9,t;case 9:o.next=3;break;case 11:o.next=16;break;case 13:o.prev=13,o.t1=o.catch(1),e.e(o.t1);case 16:return o.prev=16,e.f(),o.finish(16);case 19:case"end":return o.stop()}},ne,null,[[1,13,16,19]])}tn(jn,Jn);var Mg=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"execute",value:function(){var t=this,i=this.editor.model,o=i.document;i.change(function(s){(function(l,c,u,d){var h=u.isCollapsed,v=u.getFirstRange(),m=v.start.parent,k=v.end.parent;if(d.isLimit(m)||d.isLimit(k))return void(h||m!=k||l.deleteContent(u));if(h){var E=xc(c.model.schema,u.getAttributes());jd(c,v.start),c.setSelectionAttribute(E)}else{var P=!(v.start.isAtStart&&v.end.isAtEnd),U=m==k;l.deleteContent(u,{leaveUnmerged:P}),P&&(U?jd(c,u.focus):c.setSelection(k,0))}})(t.editor.model,s,o.selection,i.schema),t.fire("afterExecute",{writer:s})})}}]),e}(jn);function jd(a,r){a.split(r),a.setSelection(r.parent.nextSibling,0)}var Rd=function(a){O(e,a);var r=D(e);function e(n){var t;w(this,e),t=r.call(this,n);var i=t.document;return i.on("keydown",function(o,s){if(t.isEnabled&&s.keyCode==an.enter){var l;i.once("enter",function(c){return l=c},{priority:"highest"}),i.fire("enter",new I(i,s.domEvent,{isSoft:s.shiftKey})),l&&l.stop.called&&o.stop()}}),t}return _(e,[{key:"observe",value:function(){}}]),e}(Di),Ig=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor,i=t.editing.view,o=i.document;i.addObserver(Rd),t.commands.add("enter",new Mg(t)),this.listenTo(o,"enter",function(s,l){l.preventDefault(),l.isSoft||(t.execute("enter"),i.scrollToTheSelection())},{priority:"low"})}}],[{key:"pluginName",get:function(){return"Enter"}}]),e}(ut),jg=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"execute",value:function(){var t=this,i=this.editor.model,o=i.document;i.change(function(s){(function(l,c,u){var d=u.isCollapsed,h=u.getFirstRange(),v=h.start.parent,m=h.end.parent,k=v==m;if(d){var E=xc(l.schema,u.getAttributes());Dd(l,c,h.end),c.removeSelectionAttribute(u.getAttributeKeys()),c.setSelectionAttribute(E)}else{var P=!(h.start.isAtStart&&h.end.isAtEnd);l.deleteContent(u,{leaveUnmerged:P}),k?Dd(l,c,u.focus):P&&c.setSelection(m,0)}})(i,s,o.selection),t.fire("afterExecute",{writer:s})})}},{key:"refresh",value:function(){var t=this.editor.model,i=t.document;this.isEnabled=function(o,s){if(s.rangeCount>1)return!1;var l=s.anchor;if(!l||!o.checkChild(l,"softBreak"))return!1;var c=s.getFirstRange(),u=c.start.parent,d=c.end.parent;return!((Ec(u,o)||Ec(d,o))&&u!==d)}(t.schema,i.selection)}}]),e}(jn);function Dd(a,r,e){var n=r.createElement("softBreak");a.insertContent(n,e),r.setSelection(n,"after")}function Ec(a,r){return!a.is("rootElement")&&(r.isLimit(a)||Ec(a.parent,r))}var Rg=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor,i=t.model.schema,o=t.conversion,s=t.editing.view,l=s.document;i.register("softBreak",{allowWhere:"$text",isInline:!0}),o.for("upcast").elementToElement({model:"softBreak",view:"br"}),o.for("downcast").elementToElement({model:"softBreak",view:function(u,d){return d.createEmptyElement("br")}}),s.addObserver(Rd),t.commands.add("shiftEnter",new jg(t)),this.listenTo(l,"enter",function(c,u){u.preventDefault(),u.isSoft&&(t.execute("shiftEnter"),s.scrollToTheSelection())},{priority:"low"})}}],[{key:"pluginName",get:function(){return"ShiftEnter"}}]),e}(ut),Dg=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"execute",value:function(){var t=this.editor.model,i=t.schema.getLimitElement(t.document.selection);t.change(function(o){o.setSelection(i,"in")})}}]),e}(jn),Ng=Os("Ctrl+A"),Fg=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor,i=t.editing.view.document;t.commands.add("selectAll",new Dg(t)),this.listenTo(i,"keydown",function(o,s){Pi(s)===Ng&&(t.execute("selectAll"),s.preventDefault())})}}],[{key:"pluginName",get:function(){return"SelectAllEditing"}}]),e}(ut),Lg=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this,i=this.editor;i.ui.componentFactory.add("selectAll",function(o){var s=i.commands.get("selectAll"),l=new hr(o),c=o.t;return l.set({label:c("Select all"),icon:'<svg width="20" height="20" xmlns="http://www.w3.org/2000/svg"><path d="M.75 15.5a.75.75 0 0 1 .75.75V18l.008.09A.5.5 0 0 0 2 18.5h1.75a.75.75 0 1 1 0 1.5H1.5l-.144-.007a1.5 1.5 0 0 1-1.35-1.349L0 18.5v-2.25a.75.75 0 0 1 .75-.75zm18.5 0a.75.75 0 0 1 .75.75v2.25l-.007.144a1.5 1.5 0 0 1-1.349 1.35L18.5 20h-2.25a.75.75 0 1 1 0-1.5H18a.5.5 0 0 0 .492-.41L18.5 18v-1.75a.75.75 0 0 1 .75-.75zm-10.45 3c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2v-1.1c0-.11.09-.2.2-.2h1.6zm.45-5.5a.75.75 0 1 1 0 1.5h-8.5a.75.75 0 1 1 0-1.5h8.5zM1.3 11c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2v-1.6c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5H4.75a.75.75 0 1 1 0-1.5h10.5zM1.3 7c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2H.2a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm18.5 0c.11 0 .2.09.2.2v1.6a.2.2 0 0 1-.2.2h-1.1a.2.2 0 0 1-.2-.2V7.2c0-.11.09-.2.2-.2h1.1zm-4.55-2a.75.75 0 1 1 0 1.5h-2.5a.75.75 0 1 1 0-1.5h2.5zm-5 0a.75.75 0 1 1 0 1.5h-5.5a.75.75 0 0 1 0-1.5h5.5zm-6.5-5a.75.75 0 0 1 0 1.5H2a.5.5 0 0 0-.492.41L1.5 2v1.75a.75.75 0 0 1-1.5 0V1.5l.007-.144A1.5 1.5 0 0 1 1.356.006L1.5 0h2.25zM18.5 0l.144.007a1.5 1.5 0 0 1 1.35 1.349L20 1.5v2.25a.75.75 0 1 1-1.5 0V2l-.008-.09A.5.5 0 0 0 18 1.5h-1.75a.75.75 0 1 1 0-1.5h2.25zM8.8 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2H7.2a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6zm4 0c.11 0 .2.09.2.2v1.1a.2.2 0 0 1-.2.2h-1.6a.2.2 0 0 1-.2-.2V.2c0-.11.09-.2.2-.2h1.6z"/></svg>',keystroke:"Ctrl+A",tooltip:!0}),l.bind("isOn","isEnabled").to(s,"value","isEnabled"),t.listenTo(l,"execute",function(){i.execute("selectAll"),i.editing.view.focus()}),l})}}],[{key:"pluginName",get:function(){return"SelectAllUI"}}]),e}(ut),Bg=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"requires",get:function(){return[Fg,Lg]}},{key:"pluginName",get:function(){return"SelectAll"}}]),e}(ut),Nd=function(){function a(r){var e=this,n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:20;w(this,a),this.model=r,this.size=0,this.limit=n,this.isLocked=!1,this._changeCallback=function(t,i){i.type!="transparent"&&i!==e._batch&&e._reset(!0)},this._selectionChangeCallback=function(){e._reset()},this.model.document.on("change",this._changeCallback),this.model.document.selection.on("change:range",this._selectionChangeCallback),this.model.document.selection.on("change:attribute",this._selectionChangeCallback)}return _(a,[{key:"batch",get:function(){return this._batch||(this._batch=this.model.createBatch()),this._batch}},{key:"input",value:function(e){this.size+=e,this.size>=this.limit&&this._reset(!0)}},{key:"lock",value:function(){this.isLocked=!0}},{key:"unlock",value:function(){this.isLocked=!1}},{key:"destroy",value:function(){this.model.document.off("change",this._changeCallback),this.model.document.selection.off("change:range",this._selectionChangeCallback),this.model.document.selection.off("change:attribute",this._selectionChangeCallback)}},{key:"_reset",value:function(e){this.isLocked&&!e||(this._batch=null,this.size=0)}}]),a}(),Vg=function(a){O(e,a);var r=D(e);function e(n,t){var i;return w(this,e),i=r.call(this,n),i._buffer=new Nd(n.model,t),i._batches=new WeakSet,i}return _(e,[{key:"buffer",get:function(){return this._buffer}},{key:"destroy",value:function(){b(x(e.prototype),"destroy",this).call(this),this._buffer.destroy()}},{key:"execute",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.editor.model,s=o.document,l=i.text||"",c=l.length,u=i.range?o.createSelection(i.range):s.selection,d=i.resultRange;o.enqueueChange(this._buffer.batch,function(h){t._buffer.lock(),o.deleteContent(u),l&&o.insertContent(h.createText(l,s.selection.getAttributes()),u),d?h.setSelection(d):u.is("documentSelection")||h.setSelection(u),t._buffer.unlock(),t._buffer.input(c),t._batches.add(t._buffer.batch)})}}]),e}(jn);function zg(a){var r=null,e=a.model,n=a.editing.view,t=a.commands.get("input");function i(s){var l=e.document,c=n.document.isComposing,u=r&&r.isEqual(l.selection);r=null,t.isEnabled&&(function(d){return d.ctrlKey?!0:Fd.includes(d.keyCode)}(s)||l.selection.isCollapsed||c&&s.keyCode===229||!c&&s.keyCode===229&&u||o())}function o(){var s=t.buffer;s.lock(),e.enqueueChange(s.batch,function(){e.deleteContent(e.document.selection)}),s.unlock()}ti.isAndroid?n.document.on("beforeinput",function(s,l){return i(l)},{priority:"lowest"}):n.document.on("keydown",function(s,l){return i(l)},{priority:"lowest"}),n.document.on("compositionstart",function(){var s=e.document,l=s.selection.rangeCount!==1||s.selection.getFirstRange().isFlat;s.selection.isCollapsed||l||o()},{priority:"lowest"}),n.document.on("compositionend",function(){r=e.createSelection(e.document.selection)},{priority:"lowest"})}for(var Fd=[Pi("arrowUp"),Pi("arrowRight"),Pi("arrowDown"),Pi("arrowLeft"),9,16,17,18,19,20,27,33,34,35,36,45,91,93,144,145,173,174,175,176,177,178,179,255],Cc=112;Cc<=135;Cc++)Fd.push(Cc);function Ld(a){if(a.newChildren.length-a.oldChildren.length==1){var r=function(n,t){var i=[],o,s=0;return n.forEach(function(u){u=="equal"?(l(),s++):u=="insert"?(c("insert")?o.values.push(t[s]):(l(),o={type:"insert",index:s,values:[t[s]]}),s++):c("delete")?o.howMany++:(l(),o={type:"delete",index:s,howMany:1})}),l(),i;function l(){o&&(i.push(o),o=null)}function c(u){return o&&o.type==u}}(gi(a.oldChildren,a.newChildren,Ug),a.newChildren);if(!(r.length>1)){var e=r[0];return e.values[0]&&e.values[0].is("text")?e:void 0}}}function Ug(a,r){return a&&a.is("text")&&r&&r.is("text")?a.data===r.data:a===r}var Wg=function(){function a(r){w(this,a),this.editor=r,this.editing=this.editor.editing}return _(a,[{key:"handle",value:function(e,n){if(function(s){if(s.length==0)return!1;var l=p(s),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;if(u.type==="children"&&!Ld(u))return!0}}catch(d){l.e(d)}finally{l.f()}return!1}(e))this._handleContainerChildrenMutations(e,n);else{var t=p(e),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;this._handleTextMutation(o,n),this._handleTextNodeInsertion(o)}}catch(s){t.e(s)}finally{t.f()}}}},{key:"_handleContainerChildrenMutations",value:function(e,n){var t=function(ke){var Re=ke.map(function(Xe){return Xe.node}).reduce(function(Xe,gt){return Xe.getCommonAncestor(gt,{includeSelf:!0})});if(!!Re)return Re.getAncestors({includeSelf:!0,parentFirst:!0}).find(function(Xe){return Xe.is("containerElement")||Xe.is("rootElement")})}(e);if(!!t){var i=this.editor.editing.view.domConverter.mapViewToDom(t),o=new ao(this.editor.editing.view.document),s=this.editor.data.toModel(o.domToView(i)).getChild(0),l=this.editor.editing.mapper.toModelElement(t);if(!!l){var c=Array.from(s.getChildren()),u=Array.from(l.getChildren()),d=c[c.length-1],h=u[u.length-1];d&&d.is("softBreak")&&h&&!h.is("softBreak")&&c.pop();var v=this.editor.model.schema;if(!(!Bd(c,v)||!Bd(u,v))){var m=c.map(function(ke){return ke.is("text")?ke.data:"@"}).join("").replace(/\u00A0/g," "),k=u.map(function(ke){return ke.is("text")?ke.data:"@"}).join("").replace(/\u00A0/g," ");if(k!==m){var E=gi(k,m),P=Vd(E),U=P.firstChangeAt,H=P.insertions,G=P.deletions,Z=null;n&&(Z=this.editing.mapper.toModelRange(n.getFirstRange()));var ce=m.substr(U,H),ye=this.editor.model.createRange(this.editor.model.createPositionAt(l,U),this.editor.model.createPositionAt(l,U+G));this.editor.execute("input",{text:ce,range:ye,resultRange:Z})}}}}}},{key:"_handleTextMutation",value:function(e,n){if(e.type=="text"){var t=e.newText.replace(/\u00A0/g," "),i=e.oldText.replace(/\u00A0/g," ");if(i!==t){var o=gi(i,t),s=Vd(o),l=s.firstChangeAt,c=s.insertions,u=s.deletions,d=null;n&&(d=this.editing.mapper.toModelRange(n.getFirstRange()));var h=this.editing.view.createPositionAt(e.node,l),v=this.editing.mapper.toModelPosition(h),m=this.editor.model.createRange(v,v.getShiftedBy(u)),k=t.substr(l,c);this.editor.execute("input",{text:k,range:m,resultRange:d})}}}},{key:"_handleTextNodeInsertion",value:function(e){if(e.type=="children"){var n=Ld(e),t=this.editing.view.createPositionAt(e.node,n.index),i=this.editing.mapper.toModelPosition(t),o=n.values[0].data;this.editor.execute("input",{text:o.replace(/\u00A0/g," "),range:this.editor.model.createRange(i)})}}}]),a}();function Bd(a,r){return a.every(function(e){return r.isInline(e)})}function Vd(a){for(var r=null,e=null,n=0;n<a.length;n++)a[n]!="equal"&&(r=r===null?n:r,e=n);for(var t=0,i=0,o=r;o<=e;o++)a[o]!="insert"&&t++,a[o]!="delete"&&i++;return{insertions:i,deletions:t,firstChangeAt:r}}var Hg=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor,i=new Vg(t,t.config.get("typing.undoStep")||20);t.commands.add("input",i),zg(t),function(o){o.editing.view.document.on("mutations",function(s,l,c){new Wg(o).handle(l,c)})}(t)}},{key:"isInput",value:function(t){return this.editor.commands.get("input")._batches.has(t)}}],[{key:"pluginName",get:function(){return"Input"}}]),e}(ut),zd=function(a){O(e,a);var r=D(e);function e(n,t){var i;return w(this,e),i=r.call(this,n),i.direction=t,i._buffer=new Nd(n.model,n.config.get("typing.undoStep")),i}return _(e,[{key:"buffer",get:function(){return this._buffer}},{key:"execute",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.editor.model,s=o.document;o.enqueueChange(this._buffer.batch,function(l){t._buffer.lock();var c=l.createSelection(i.selection||s.selection),u=c.isCollapsed;if(c.isCollapsed&&o.modifySelection(c,{direction:t.direction,unit:i.unit}),t._shouldEntireContentBeReplacedWithParagraph(i.sequence||1))return void t._replaceEntireContentWithParagraph(l);if(!c.isCollapsed){var d=0;c.getFirstRange().getMinimalFlatRanges().forEach(function(h){d+=No(h.getWalker({singleCharacters:!0,ignoreElementEnd:!0,shallow:!0}))}),o.deleteContent(c,{doNotResetEntireContent:u,direction:t.direction}),t._buffer.input(d),l.setSelection(c),t._buffer.unlock()}})}},{key:"_shouldEntireContentBeReplacedWithParagraph",value:function(t){if(t>1)return!1;var i=this.editor.model,o=i.document.selection,s=i.schema.getLimitElement(o);if(!(o.isCollapsed&&o.containsEntireContent(s))||!i.schema.checkChild(s,"paragraph"))return!1;var l=s.getChild(0);return!l||l.name!=="paragraph"}},{key:"_replaceEntireContentWithParagraph",value:function(t){var i=this.editor.model,o=i.document.selection,s=i.schema.getLimitElement(o),l=t.createElement("paragraph");t.remove(t.createRangeIn(s)),t.insert(l,s),t.setSelection(l,0)}}]),e}(jn),Kg=function(a){O(e,a);var r=D(e);function e(n){var t;w(this,e),t=r.call(this,n);var i=n.document,o=0;function s(l,c,u){var d;i.once("delete",function(h){return d=h},{priority:Number.POSITIVE_INFINITY}),i.fire("delete",new I(i,c,u)),d&&d.stop.called&&l.stop()}return i.on("keyup",function(l,c){c.keyCode!=an.delete&&c.keyCode!=an.backspace||(o=0)}),i.on("keydown",function(l,c){var u={};if(c.keyCode==an.delete)u.direction="forward",u.unit="character";else{if(c.keyCode!=an.backspace)return;u.direction="backward",u.unit="codePoint"}var d=ti.isMac?c.altKey:c.ctrlKey;u.unit=d?"word":u.unit,u.sequence=++o,s(l,c.domEvent,u)}),ti.isAndroid&&i.on("beforeinput",function(l,c){if(c.domEvent.inputType=="deleteContentBackward"){var u={unit:"codepoint",direction:"backward",sequence:1},d=c.domTarget.ownerDocument.defaultView.getSelection();d.anchorNode==d.focusNode&&d.anchorOffset+1!=d.focusOffset&&(u.selectionToRemove=n.domConverter.domSelectionToView(d)),s(l,c.domEvent,u)}}),t}return _(e,[{key:"observe",value:function(){}}]),e}(Di),Gg=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor,i=t.editing.view,o=i.document;if(i.addObserver(Kg),t.commands.add("forwardDelete",new zd(t,"forward")),t.commands.add("delete",new zd(t,"backward")),this.listenTo(o,"delete",function(l,c){var u={unit:c.unit,sequence:c.sequence};if(c.selectionToRemove){var d=t.model.createSelection(),h=[],v=p(c.selectionToRemove.getRanges()),m;try{for(v.s();!(m=v.n()).done;){var k=m.value;h.push(t.editing.mapper.toModelRange(k))}}catch(E){v.e(E)}finally{v.f()}d.setTo(h),u.selection=d}t.execute(c.direction=="forward"?"forwardDelete":"delete",u),c.preventDefault(),i.scrollToTheSelection()}),ti.isAndroid){var s=null;this.listenTo(o,"delete",function(l,c){var u=c.domTarget.ownerDocument.defaultView.getSelection();s={anchorNode:u.anchorNode,anchorOffset:u.anchorOffset,focusNode:u.focusNode,focusOffset:u.focusOffset}},{priority:"lowest"}),this.listenTo(o,"keyup",function(l,c){if(s){var u=c.domTarget.ownerDocument.defaultView.getSelection();u.collapse(s.anchorNode,s.anchorOffset),u.extend(s.focusNode,s.focusOffset),s=null}})}}}],[{key:"pluginName",get:function(){return"Delete"}}]),e}(ut),Yg=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"requires",get:function(){return[Hg,Gg]}},{key:"pluginName",get:function(){return"Typing"}}]),e}(ut),Oc=new Map;function Wn(a,r,e){var n=Oc.get(a);n||(n=new Map,Oc.set(a,n)),n.set(r,e)}function $g(a){return[a]}function Ud(a,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=function(t,i){var o=Oc.get(t);return o&&o.has(i)?o.get(i):$g}(a.constructor,r.constructor);try{return n(a=a.clone(),r,e)}catch(t){throw t}}function Jg(a,r,e){a=a.slice(),r=r.slice();var n=new Qg(e.document,e.useRelations,e.forceWeakRemove);n.setOriginalOperations(a),n.setOriginalOperations(r);var t=n.originalOperations;if(a.length==0||r.length==0)return{operationsA:a,operationsB:r,originalOperations:t};var i=new WeakMap,o=p(a),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;i.set(l,0)}}catch(ye){o.e(ye)}finally{o.f()}for(var c={nextBaseVersionA:a[a.length-1].baseVersion+1,nextBaseVersionB:r[r.length-1].baseVersion+1,originalOperationsACount:a.length,originalOperationsBCount:r.length},u=0;u<a.length;){var d,h,v=a[u],m=i.get(v);if(m==r.length){u++;continue}var k=r[m],E=Ud(v,k,n.getContext(v,k,!0)),P=Ud(k,v,n.getContext(k,v,!1));n.updateRelation(v,k),n.setOriginalOperations(E,v),n.setOriginalOperations(P,k);var U=p(E),H;try{for(U.s();!(H=U.n()).done;){var G=H.value;i.set(G,m+P.length)}}catch(ye){U.e(ye)}finally{U.f()}(d=a).splice.apply(d,[u,1].concat(R(E))),(h=r).splice.apply(h,[m,1].concat(R(P)))}if(e.padWithNoOps){var Z=a.length-c.originalOperationsACount,ce=r.length-c.originalOperationsBCount;Hd(a,ce-Z),Hd(r,Z-ce)}return Wd(a,c.nextBaseVersionB),Wd(r,c.nextBaseVersionA),{operationsA:a,operationsB:r,originalOperations:t}}var Qg=function(){function a(r,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;w(this,a),this.originalOperations=new Map,this._history=r.history,this._useRelations=e,this._forceWeakRemove=!!n,this._relations=new Map}return _(a,[{key:"setOriginalOperations",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null,t=n?this.originalOperations.get(n):null,i=p(e),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;this.originalOperations.set(s,t||s)}}catch(l){i.e(l)}finally{i.f()}}},{key:"updateRelation",value:function(e,n){switch(e.constructor){case qn:switch(n.constructor){case Or:e.targetPosition.isEqual(n.sourcePosition)||n.movedRange.containsPosition(e.targetPosition)?this._setRelation(e,n,"insertAtSource"):e.targetPosition.isEqual(n.deletionPosition)?this._setRelation(e,n,"insertBetween"):e.targetPosition.isAfter(n.sourcePosition)&&this._setRelation(e,n,"moveTargetAfter");break;case qn:e.targetPosition.isEqual(n.sourcePosition)||e.targetPosition.isBefore(n.sourcePosition)?this._setRelation(e,n,"insertBefore"):this._setRelation(e,n,"insertAfter")}break;case sr:switch(n.constructor){case Or:e.splitPosition.isBefore(n.sourcePosition)&&this._setRelation(e,n,"splitBefore");break;case qn:(e.splitPosition.isEqual(n.sourcePosition)||e.splitPosition.isBefore(n.sourcePosition))&&this._setRelation(e,n,"splitBefore")}break;case Or:switch(n.constructor){case Or:e.targetPosition.isEqual(n.sourcePosition)||this._setRelation(e,n,"mergeTargetNotMoved"),e.sourcePosition.isEqual(n.targetPosition)&&this._setRelation(e,n,"mergeSourceNotMoved"),e.sourcePosition.isEqual(n.sourcePosition)&&this._setRelation(e,n,"mergeSameElement");break;case sr:e.sourcePosition.isEqual(n.splitPosition)&&this._setRelation(e,n,"splitAtSource")}break;case Fi:{var t=e.newRange;if(!t)return;switch(n.constructor){case qn:{var i=He._createFromPositionAndShift(n.sourcePosition,n.howMany),o=i.containsPosition(t.start)||i.start.isEqual(t.start),s=i.containsPosition(t.end)||i.end.isEqual(t.end);!o&&!s||i.containsRange(t)||this._setRelation(e,n,{side:o?"left":"right",path:o?t.start.path.slice():t.end.path.slice()});break}case Or:{var l=t.start.isEqual(n.targetPosition),c=t.start.isEqual(n.deletionPosition),u=t.end.isEqual(n.deletionPosition),d=t.end.isEqual(n.sourcePosition);(l||c||u||d)&&this._setRelation(e,n,{wasInLeftElement:l,wasStartBeforeMergedElement:c,wasEndBeforeMergedElement:u,wasInRightElement:d});break}}break}}}},{key:"getContext",value:function(e,n,t){return{aIsStrong:t,aWasUndone:this._wasUndone(e),bWasUndone:this._wasUndone(n),abRelation:this._useRelations?this._getRelation(e,n):null,baRelation:this._useRelations?this._getRelation(n,e):null,forceWeakRemove:this._forceWeakRemove}}},{key:"_wasUndone",value:function(e){var n=this.originalOperations.get(e);return n.wasUndone||this._history.isUndoneOperation(n)}},{key:"_getRelation",value:function(e,n){var t=this.originalOperations.get(n),i=this._history.getUndoneOperation(t);if(!i)return null;var o=this.originalOperations.get(e),s=this._relations.get(o);return s&&s.get(i)||null}},{key:"_setRelation",value:function(e,n,t){var i=this.originalOperations.get(e),o=this.originalOperations.get(n),s=this._relations.get(i);s||(s=new Map,this._relations.set(i,s)),s.set(o,t)}}]),a}();function Wd(a,r){var e=p(a),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;t.baseVersion=r++}}catch(i){e.e(i)}finally{e.f()}}function Hd(a,r){for(var e=0;e<r;e++)a.push(new Jr(0))}function Kd(a,r,e){var n=a.nodes.getNode(0).getAttribute(r);if(n==e)return null;var t=new He(a.position,a.position.getShiftedBy(a.howMany));return new Vr(t,r,n,e,0)}function Gd(a,r){return a.targetPosition._getTransformedByDeletion(r.sourcePosition,r.howMany)===null}function bo(a,r){for(var e=[],n=0;n<a.length;n++){var t=a[n],i=new qn(t.start,t.end.offset-t.start.offset,r,0);e.push(i);for(var o=n+1;o<a.length;o++)a[o]=a[o]._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)[0];r=r._getTransformedByMove(i.sourcePosition,i.targetPosition,i.howMany)}return e}Wn(Vr,Vr,function(a,r,e){if(a.key===r.key&&a.range.start.hasSameParentAs(r.range.start)){var n=a.range.getDifference(r.range).map(function(i){return new Vr(i,a.key,a.oldValue,a.newValue,0)}),t=a.range.getIntersection(r.range);return t&&e.aIsStrong&&n.push(new Vr(t,r.key,r.newValue,a.newValue,0)),n.length==0?[new Jr(0)]:n}return[a]}),Wn(Vr,$r,function(a,r){if(a.range.start.hasSameParentAs(r.position)&&a.range.containsPosition(r.position)){var e=a.range._getTransformedByInsertion(r.position,r.howMany,!r.shouldReceiveAttributes).map(function(t){return new Vr(t,a.key,a.oldValue,a.newValue,a.baseVersion)});if(r.shouldReceiveAttributes){var n=Kd(r,a.key,a.oldValue);n&&e.unshift(n)}return e}return a.range=a.range._getTransformedByInsertion(r.position,r.howMany,!1)[0],[a]}),Wn(Vr,Or,function(a,r){var e=[];a.range.start.hasSameParentAs(r.deletionPosition)&&(a.range.containsPosition(r.deletionPosition)||a.range.start.isEqual(r.deletionPosition))&&e.push(He._createFromPositionAndShift(r.graveyardPosition,1));var n=a.range._getTransformedByMergeOperation(r);return n.isCollapsed||e.push(n),e.map(function(t){return new Vr(t,a.key,a.oldValue,a.newValue,a.baseVersion)})}),Wn(Vr,qn,function(a,r){return function(e,n){var t=He._createFromPositionAndShift(n.sourcePosition,n.howMany),i=null,o=[];t.containsRange(e,!0)?i=e:e.start.hasSameParentAs(t.start)?(o=e.getDifference(t),i=e.getIntersection(t)):o=[e];var s=[],l=p(o),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;u=u._getTransformedByDeletion(n.sourcePosition,n.howMany);var d=n.getMovedRangeStart(),h=u.start.hasSameParentAs(d);u=u._getTransformedByInsertion(d,n.howMany,h),s.push.apply(s,R(u))}}catch(v){l.e(v)}finally{l.f()}return i&&s.push(i._getTransformedByMove(n.sourcePosition,n.targetPosition,n.howMany,!1)[0]),s}(a.range,r).map(function(e){return new Vr(e,a.key,a.oldValue,a.newValue,a.baseVersion)})}),Wn(Vr,sr,function(a,r){if(a.range.end.isEqual(r.insertionPosition))return r.graveyardPosition||a.range.end.offset++,[a];if(a.range.start.hasSameParentAs(r.splitPosition)&&a.range.containsPosition(r.splitPosition)){var e=a.clone();return e.range=new He(r.moveTargetPosition.clone(),a.range.end._getCombined(r.splitPosition,r.moveTargetPosition)),a.range.end=r.splitPosition.clone(),a.range.end.stickiness="toPrevious",[a,e]}return a.range=a.range._getTransformedBySplitOperation(r),[a]}),Wn($r,Vr,function(a,r){var e=[a];if(a.shouldReceiveAttributes&&a.position.hasSameParentAs(r.range.start)&&r.range.containsPosition(a.position)){var n=Kd(a,r.key,r.newValue);n&&e.push(n)}return e}),Wn($r,$r,function(a,r,e){return a.position.isEqual(r.position)&&e.aIsStrong||(a.position=a.position._getTransformedByInsertOperation(r)),[a]}),Wn($r,qn,function(a,r){return a.position=a.position._getTransformedByMoveOperation(r),[a]}),Wn($r,sr,function(a,r){return a.position=a.position._getTransformedBySplitOperation(r),[a]}),Wn($r,Or,function(a,r){return a.position=a.position._getTransformedByMergeOperation(r),[a]}),Wn(Fi,$r,function(a,r){return a.oldRange&&(a.oldRange=a.oldRange._getTransformedByInsertOperation(r)[0]),a.newRange&&(a.newRange=a.newRange._getTransformedByInsertOperation(r)[0]),[a]}),Wn(Fi,Fi,function(a,r,e){if(a.name==r.name){if(!e.aIsStrong)return[new Jr(0)];a.oldRange=r.newRange?r.newRange.clone():null}return[a]}),Wn(Fi,Or,function(a,r){return a.oldRange&&(a.oldRange=a.oldRange._getTransformedByMergeOperation(r)),a.newRange&&(a.newRange=a.newRange._getTransformedByMergeOperation(r)),[a]}),Wn(Fi,qn,function(a,r,e){if(a.oldRange&&(a.oldRange=He._createFromRanges(a.oldRange._getTransformedByMoveOperation(r))),a.newRange){if(e.abRelation){var n=He._createFromRanges(a.newRange._getTransformedByMoveOperation(r));if(e.abRelation.side=="left"&&r.targetPosition.isEqual(a.newRange.start))return a.newRange.start.path=e.abRelation.path,a.newRange.end=n.end,[a];if(e.abRelation.side=="right"&&r.targetPosition.isEqual(a.newRange.end))return a.newRange.start=n.start,a.newRange.end.path=e.abRelation.path,[a]}a.newRange=He._createFromRanges(a.newRange._getTransformedByMoveOperation(r))}return[a]}),Wn(Fi,sr,function(a,r,e){if(a.oldRange&&(a.oldRange=a.oldRange._getTransformedBySplitOperation(r)),a.newRange){if(e.abRelation){var n=a.newRange._getTransformedBySplitOperation(r);return a.newRange.start.isEqual(r.splitPosition)&&e.abRelation.wasStartBeforeMergedElement?a.newRange.start=Ze._createAt(r.insertionPosition):a.newRange.start.isEqual(r.splitPosition)&&!e.abRelation.wasInLeftElement&&(a.newRange.start=Ze._createAt(r.moveTargetPosition)),a.newRange.end.isEqual(r.splitPosition)&&e.abRelation.wasInRightElement?a.newRange.end=Ze._createAt(r.moveTargetPosition):a.newRange.end.isEqual(r.splitPosition)&&e.abRelation.wasEndBeforeMergedElement?a.newRange.end=Ze._createAt(r.insertionPosition):a.newRange.end=n.end,[a]}a.newRange=a.newRange._getTransformedBySplitOperation(r)}return[a]}),Wn(Or,$r,function(a,r){return a.sourcePosition.hasSameParentAs(r.position)&&(a.howMany+=r.howMany),a.sourcePosition=a.sourcePosition._getTransformedByInsertOperation(r),a.targetPosition=a.targetPosition._getTransformedByInsertOperation(r),[a]}),Wn(Or,Or,function(a,r,e){if(a.sourcePosition.isEqual(r.sourcePosition)&&a.targetPosition.isEqual(r.targetPosition)){if(e.bWasUndone){var n=r.graveyardPosition.path.slice();return n.push(0),a.sourcePosition=new Ze(r.graveyardPosition.root,n),a.howMany=0,[a]}return[new Jr(0)]}if(a.sourcePosition.isEqual(r.sourcePosition)&&!a.targetPosition.isEqual(r.targetPosition)&&!e.bWasUndone&&e.abRelation!="splitAtSource"){var t=a.targetPosition.root.rootName=="$graveyard",i=r.targetPosition.root.rootName=="$graveyard",o=t&&!i;if(i&&!t||!o&&e.aIsStrong){var s=r.targetPosition._getTransformedByMergeOperation(r),l=a.targetPosition._getTransformedByMergeOperation(r);return[new qn(s,a.howMany,l,0)]}return[new Jr(0)]}return a.sourcePosition.hasSameParentAs(r.targetPosition)&&(a.howMany+=r.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMergeOperation(r),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(r),a.graveyardPosition.isEqual(r.graveyardPosition)&&e.aIsStrong||(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(r)),[a]}),Wn(Or,qn,function(a,r,e){var n=He._createFromPositionAndShift(r.sourcePosition,r.howMany);return r.type=="remove"&&!e.bWasUndone&&!e.forceWeakRemove&&a.deletionPosition.hasSameParentAs(r.sourcePosition)&&n.containsPosition(a.sourcePosition)?[new Jr(0)]:(a.sourcePosition.hasSameParentAs(r.targetPosition)&&(a.howMany+=r.howMany),a.sourcePosition.hasSameParentAs(r.sourcePosition)&&(a.howMany-=r.howMany),a.sourcePosition=a.sourcePosition._getTransformedByMoveOperation(r),a.targetPosition=a.targetPosition._getTransformedByMoveOperation(r),a.graveyardPosition.isEqual(r.targetPosition)||(a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(r)),[a])}),Wn(Or,sr,function(a,r,e){if(r.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByDeletion(r.graveyardPosition,1),a.deletionPosition.isEqual(r.graveyardPosition)&&(a.howMany=r.howMany)),a.targetPosition.isEqual(r.splitPosition)){var n=r.howMany!=0,t=r.graveyardPosition&&a.deletionPosition.isEqual(r.graveyardPosition);if(n||t||e.abRelation=="mergeTargetNotMoved")return a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(r),[a]}if(a.sourcePosition.isEqual(r.splitPosition)){if(e.abRelation=="mergeSourceNotMoved")return a.howMany=0,a.targetPosition=a.targetPosition._getTransformedBySplitOperation(r),[a];if(e.abRelation=="mergeSameElement"||a.sourcePosition.offset>0)return a.sourcePosition=r.moveTargetPosition.clone(),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(r),[a]}return a.sourcePosition.hasSameParentAs(r.splitPosition)&&(a.howMany=r.splitPosition.offset),a.sourcePosition=a.sourcePosition._getTransformedBySplitOperation(r),a.targetPosition=a.targetPosition._getTransformedBySplitOperation(r),[a]}),Wn(qn,$r,function(a,r){var e=He._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByInsertOperation(r,!1)[0];return a.sourcePosition=e.start,a.howMany=e.end.offset-e.start.offset,a.targetPosition.isEqual(r.position)||(a.targetPosition=a.targetPosition._getTransformedByInsertOperation(r)),[a]}),Wn(qn,qn,function(a,r,e){var n=He._createFromPositionAndShift(a.sourcePosition,a.howMany),t=He._createFromPositionAndShift(r.sourcePosition,r.howMany),i,o=e.aIsStrong,s=!e.aIsStrong;if(e.abRelation=="insertBefore"||e.baRelation=="insertAfter"?s=!0:e.abRelation!="insertAfter"&&e.baRelation!="insertBefore"||(s=!1),i=a.targetPosition.isEqual(r.targetPosition)&&s?a.targetPosition._getTransformedByDeletion(r.sourcePosition,r.howMany):a.targetPosition._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany),Gd(a,r)&&Gd(r,a))return[r.getReversed()];if(n.containsPosition(r.targetPosition)&&n.containsRange(t,!0))return n.start=n.start._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany),n.end=n.end._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany),bo([n],i);if(t.containsPosition(a.targetPosition)&&t.containsRange(n,!0))return n.start=n.start._getCombined(r.sourcePosition,r.getMovedRangeStart()),n.end=n.end._getCombined(r.sourcePosition,r.getMovedRangeStart()),bo([n],i);var l=ee(a.sourcePosition.getParentPath(),r.sourcePosition.getParentPath());if(l=="prefix"||l=="extension")return n.start=n.start._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany),n.end=n.end._getTransformedByMove(r.sourcePosition,r.targetPosition,r.howMany),bo([n],i);a.type!="remove"||r.type=="remove"||e.aWasUndone||e.forceWeakRemove?a.type=="remove"||r.type!="remove"||e.bWasUndone||e.forceWeakRemove||(o=!1):o=!0;var c=[],u=n.getDifference(t),d=p(u),h;try{for(d.s();!(h=d.n()).done;){var v=h.value;v.start=v.start._getTransformedByDeletion(r.sourcePosition,r.howMany),v.end=v.end._getTransformedByDeletion(r.sourcePosition,r.howMany);var m=ee(v.start.getParentPath(),r.getMovedRangeStart().getParentPath())=="same",k=v._getTransformedByInsertion(r.getMovedRangeStart(),r.howMany,m);c.push.apply(c,R(k))}}catch(P){d.e(P)}finally{d.f()}var E=n.getIntersection(t);return E!==null&&o&&(E.start=E.start._getCombined(r.sourcePosition,r.getMovedRangeStart()),E.end=E.end._getCombined(r.sourcePosition,r.getMovedRangeStart()),c.length===0?c.push(E):c.length==1?t.start.isBefore(n.start)||t.start.isEqual(n.start)?c.unshift(E):c.push(E):c.splice(1,0,E)),c.length===0?[new Jr(a.baseVersion)]:bo(c,i)}),Wn(qn,sr,function(a,r,e){var n=a.targetPosition.clone();a.targetPosition.isEqual(r.insertionPosition)&&r.graveyardPosition&&e.abRelation!="moveTargetAfter"||(n=a.targetPosition._getTransformedBySplitOperation(r));var t=He._createFromPositionAndShift(a.sourcePosition,a.howMany);if(t.end.isEqual(r.insertionPosition))return r.graveyardPosition||a.howMany++,a.targetPosition=n,[a];if(t.start.hasSameParentAs(r.splitPosition)&&t.containsPosition(r.splitPosition)){var i=new He(r.splitPosition,t.end);return i=i._getTransformedBySplitOperation(r),bo([new He(t.start,r.splitPosition),i],n)}a.targetPosition.isEqual(r.splitPosition)&&e.abRelation=="insertAtSource"&&(n=r.moveTargetPosition),a.targetPosition.isEqual(r.insertionPosition)&&e.abRelation=="insertBetween"&&(n=a.targetPosition);var o=[t._getTransformedBySplitOperation(r)];if(r.graveyardPosition){var s=t.start.isEqual(r.graveyardPosition)||t.containsPosition(r.graveyardPosition);a.howMany>1&&s&&!e.aWasUndone&&o.push(He._createFromPositionAndShift(r.insertionPosition,1))}return bo(o,n)}),Wn(qn,Or,function(a,r,e){var n=He._createFromPositionAndShift(a.sourcePosition,a.howMany);if(r.deletionPosition.hasSameParentAs(a.sourcePosition)&&n.containsPosition(r.sourcePosition)){if(a.type!="remove"||e.forceWeakRemove){if(a.howMany==1)return e.bWasUndone?(a.sourcePosition=r.graveyardPosition.clone(),a.targetPosition=a.targetPosition._getTransformedByMergeOperation(r),[a]):[new Jr(0)]}else if(!e.aWasUndone){var t=[],i=r.graveyardPosition.clone(),o=r.targetPosition._getTransformedByMergeOperation(r);a.howMany>1&&(t.push(new qn(a.sourcePosition,a.howMany-1,a.targetPosition,0)),i=i._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1),o=o._getTransformedByMove(a.sourcePosition,a.targetPosition,a.howMany-1));var s=r.deletionPosition._getCombined(a.sourcePosition,a.targetPosition),l=new qn(i,1,s,0),c=l.getMovedRangeStart().path.slice();c.push(0);var u=new Ze(l.targetPosition.root,c);o=o._getTransformedByMove(i,s,1);var d=new qn(o,r.howMany,u,0);return t.push(l),t.push(d),t}}var h=He._createFromPositionAndShift(a.sourcePosition,a.howMany)._getTransformedByMergeOperation(r);return a.sourcePosition=h.start,a.howMany=h.end.offset-h.start.offset,a.targetPosition=a.targetPosition._getTransformedByMergeOperation(r),[a]}),Wn(Li,$r,function(a,r){return a.position=a.position._getTransformedByInsertOperation(r),[a]}),Wn(Li,Or,function(a,r){return a.position.isEqual(r.deletionPosition)?(a.position=r.graveyardPosition.clone(),a.position.stickiness="toNext",[a]):(a.position=a.position._getTransformedByMergeOperation(r),[a])}),Wn(Li,qn,function(a,r){return a.position=a.position._getTransformedByMoveOperation(r),[a]}),Wn(Li,Li,function(a,r,e){if(a.position.isEqual(r.position)){if(!e.aIsStrong)return[new Jr(0)];a.oldName=r.newName}return[a]}),Wn(Li,sr,function(a,r){if(ee(a.position.path,r.splitPosition.getParentPath())=="same"&&!r.graveyardPosition){var e=new Li(a.position.getShiftedBy(1),a.oldName,a.newName,0);return[a,e]}return a.position=a.position._getTransformedBySplitOperation(r),[a]}),Wn(is,is,function(a,r,e){if(a.root===r.root&&a.key===r.key){if(!e.aIsStrong||a.newValue===r.newValue)return[new Jr(0)];a.oldValue=r.newValue}return[a]}),Wn(sr,$r,function(a,r){return a.splitPosition.hasSameParentAs(r.position)&&a.splitPosition.offset<r.position.offset&&(a.howMany+=r.howMany),a.splitPosition=a.splitPosition._getTransformedByInsertOperation(r),a.insertionPosition=sr.getInsertionPosition(a.splitPosition),[a]}),Wn(sr,Or,function(a,r,e){if(!a.graveyardPosition&&!e.bWasUndone&&a.splitPosition.hasSameParentAs(r.sourcePosition)){var n=r.graveyardPosition.path.slice();n.push(0);var t=new Ze(r.graveyardPosition.root,n),i=sr.getInsertionPosition(new Ze(r.graveyardPosition.root,n)),o=new sr(t,0,null,0);return o.insertionPosition=i,a.splitPosition=a.splitPosition._getTransformedByMergeOperation(r),a.insertionPosition=sr.getInsertionPosition(a.splitPosition),a.graveyardPosition=o.insertionPosition.clone(),a.graveyardPosition.stickiness="toNext",[o,a]}return a.splitPosition.hasSameParentAs(r.deletionPosition)&&!a.splitPosition.isAfter(r.deletionPosition)&&a.howMany--,a.splitPosition.hasSameParentAs(r.targetPosition)&&(a.howMany+=r.howMany),a.splitPosition=a.splitPosition._getTransformedByMergeOperation(r),a.insertionPosition=sr.getInsertionPosition(a.splitPosition),a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedByMergeOperation(r)),[a]}),Wn(sr,qn,function(a,r,e){var n=He._createFromPositionAndShift(r.sourcePosition,r.howMany);if(a.graveyardPosition){var t=n.start.isEqual(a.graveyardPosition)||n.containsPosition(a.graveyardPosition);if(!e.bWasUndone&&t){var i=a.splitPosition._getTransformedByMoveOperation(r),o=a.graveyardPosition._getTransformedByMoveOperation(r),s=o.path.slice();s.push(0);var l=new Ze(o.root,s);return[new qn(i,a.howMany,l,0)]}a.graveyardPosition=a.graveyardPosition._getTransformedByMoveOperation(r)}if(a.splitPosition.hasSameParentAs(r.sourcePosition)&&n.containsPosition(a.splitPosition)){var c=r.howMany-(a.splitPosition.offset-r.sourcePosition.offset);return a.howMany-=c,a.splitPosition.hasSameParentAs(r.targetPosition)&&a.splitPosition.offset<r.targetPosition.offset&&(a.howMany+=r.howMany),a.splitPosition=r.sourcePosition.clone(),a.insertionPosition=sr.getInsertionPosition(a.splitPosition),[a]}return!a.splitPosition.isEqual(r.targetPosition)||e.baRelation!="insertAtSource"&&e.abRelation!="splitBefore"?(r.sourcePosition.isEqual(r.targetPosition)||(a.splitPosition.hasSameParentAs(r.sourcePosition)&&a.splitPosition.offset<=r.sourcePosition.offset&&(a.howMany-=r.howMany),a.splitPosition.hasSameParentAs(r.targetPosition)&&a.splitPosition.offset<r.targetPosition.offset&&(a.howMany+=r.howMany)),a.splitPosition.stickiness="toNone",a.splitPosition=a.splitPosition._getTransformedByMoveOperation(r),a.splitPosition.stickiness="toNext",a.graveyardPosition?a.insertionPosition=a.insertionPosition._getTransformedByMoveOperation(r):a.insertionPosition=sr.getInsertionPosition(a.splitPosition),[a]):(a.howMany+=r.howMany,a.splitPosition=a.splitPosition._getTransformedByDeletion(r.sourcePosition,r.howMany),a.insertionPosition=sr.getInsertionPosition(a.splitPosition),[a])}),Wn(sr,sr,function(a,r,e){if(a.splitPosition.isEqual(r.splitPosition)){if(!a.graveyardPosition&&!r.graveyardPosition)return[new Jr(0)];if(a.graveyardPosition&&r.graveyardPosition&&a.graveyardPosition.isEqual(r.graveyardPosition))return[new Jr(0)];if(e.abRelation=="splitBefore")return a.howMany=0,a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(r),[a]}if(a.graveyardPosition&&r.graveyardPosition&&a.graveyardPosition.isEqual(r.graveyardPosition)){var n=a.splitPosition.root.rootName=="$graveyard",t=r.splitPosition.root.rootName=="$graveyard",i=n&&!t;if(t&&!n||!i&&e.aIsStrong){var o=[];return r.howMany&&o.push(new qn(r.moveTargetPosition,r.howMany,r.splitPosition,0)),a.howMany&&o.push(new qn(a.splitPosition,a.howMany,a.moveTargetPosition,0)),o}return[new Jr(0)]}if(a.graveyardPosition&&(a.graveyardPosition=a.graveyardPosition._getTransformedBySplitOperation(r)),a.splitPosition.isEqual(r.insertionPosition)&&e.abRelation=="splitBefore")return a.howMany++,[a];if(r.splitPosition.isEqual(a.insertionPosition)&&e.baRelation=="splitBefore"){var s=r.insertionPosition.path.slice();s.push(0);var l=new Ze(r.insertionPosition.root,s);return[a,new qn(a.insertionPosition,1,l,0)]}return a.splitPosition.hasSameParentAs(r.splitPosition)&&a.splitPosition.offset<r.splitPosition.offset&&(a.howMany-=r.howMany),a.splitPosition=a.splitPosition._getTransformedBySplitOperation(r),a.insertionPosition=sr.getInsertionPosition(a.splitPosition),[a]});var Yd=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t._stack=[],t._createdBatches=new WeakSet,t.refresh(),t}return _(e,[{key:"refresh",value:function(){this.isEnabled=this._stack.length>0}},{key:"addBatch",value:function(t){var i=this.editor.model.document.selection,o={ranges:i.hasOwnRange?Array.from(i.getRanges()):[],isBackward:i.isBackward};this._stack.push({batch:t,selection:o}),this.refresh()}},{key:"clearStack",value:function(){this._stack=[],this.refresh()}},{key:"_restoreSelection",value:function(t,i,o){var s=this.editor.model,l=s.document,c=[],u=p(t),d;try{for(u.s();!(d=u.n()).done;){var h=d.value,v=Zg(h,o).find(function(m){return m.start.root!=l.graveyard});v&&c.push(v)}}catch(m){u.e(m)}finally{u.f()}c.length&&s.change(function(m){m.setSelection(c,{backward:i})})}},{key:"_undo",value:function(t,i){var o=this.editor.model,s=o.document;this._createdBatches.add(i);var l=t.operations.slice().filter(function(U){return U.isDocumentOperation});l.reverse();var c=p(l),u;try{for(c.s();!(u=c.n()).done;){var d=u.value,h=d.baseVersion+1,v=Array.from(s.history.getOperations(h)),m=Jg([d.getReversed()],v,{useRelations:!0,document:this.editor.model.document,padWithNoOps:!1,forceWeakRemove:!0}).operationsA,k=p(m),E;try{for(k.s();!(E=k.n()).done;){var P=E.value;i.addOperation(P),o.applyOperation(P),s.history.setOperationAsUndone(d,P)}}catch(U){k.e(U)}finally{k.f()}}}catch(U){c.e(U)}finally{c.f()}}}]),e}(jn);function Zg(a,r){var e=a.getTransformedByOperations(r);e.sort(function(o,s){return o.start.isBefore(s.start)?-1:1});for(var n=1;n<e.length;n++){var t=e[n-1],i=e[n];t.end.isTouching(i.start)&&(t.end=i.end,e.splice(n,1),n--)}return e}var Xg=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"execute",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:null,o=i?this._stack.findIndex(function(c){return c.batch==i}):this._stack.length-1,s=this._stack.splice(o,1)[0],l=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(l,function(){t._undo(s.batch,l);var c=t.editor.model.document.history.getOperations(s.batch.baseVersion);t._restoreSelection(s.selection.ranges,s.selection.isBackward,c),t.fire("revert",s.batch,l)}),this.refresh()}}]),e}(Yd),qg=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"execute",value:function(){var t=this,i=this._stack.pop(),o=this.editor.model.createBatch("transparent");this.editor.model.enqueueChange(o,function(){var s=i.batch.operations[i.batch.operations.length-1].baseVersion+1,l=t.editor.model.document.history.getOperations(s);t._restoreSelection(i.selection.ranges,i.selection.isBackward,l),t._undo(i.batch,o)}),this.refresh()}}]),e}(Yd),ep=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t._batchRegistry=new WeakSet,t}return _(e,[{key:"init",value:function(){var t=this,i=this.editor;this._undoCommand=new Xg(i),this._redoCommand=new qg(i),i.commands.add("undo",this._undoCommand),i.commands.add("redo",this._redoCommand),this.listenTo(i.model,"applyOperation",function(o,s){var l=s[0];if(!!l.isDocumentOperation){var c=l.batch,u=t._redoCommand._createdBatches.has(c),d=t._undoCommand._createdBatches.has(c);t._batchRegistry.has(c)||c.type=="transparent"&&!u&&!d||(u?t._undoCommand.addBatch(c):d||(t._undoCommand.addBatch(c),t._redoCommand.clearStack()),t._batchRegistry.add(c))}},{priority:"highest"}),this.listenTo(this._undoCommand,"revert",function(o,s,l){t._redoCommand.addBatch(l)}),i.keystrokes.set("CTRL+Z","undo"),i.keystrokes.set("CTRL+Y","redo"),i.keystrokes.set("CTRL+SHIFT+Z","redo")}}],[{key:"pluginName",get:function(){return"UndoEditing"}}]),e}(ut),$d='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.042 9.367l2.189 1.837a.75.75 0 0 1-.965 1.149l-3.788-3.18a.747.747 0 0 1-.21-.284.75.75 0 0 1 .17-.945L6.23 4.762a.75.75 0 1 1 .964 1.15L4.863 7.866h8.917A.75.75 0 0 1 14 7.9a4 4 0 1 1-1.477 7.718l.344-1.489a2.5 2.5 0 1 0 1.094-4.73l.008-.032H5.042z"/></svg>',Jd='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M14.958 9.367l-2.189 1.837a.75.75 0 0 0 .965 1.149l3.788-3.18a.747.747 0 0 0 .21-.284.75.75 0 0 0-.17-.945L13.77 4.762a.75.75 0 1 0-.964 1.15l2.331 1.955H6.22A.75.75 0 0 0 6 7.9a4 4 0 1 0 1.477 7.718l-.344-1.489A2.5 2.5 0 1 1 6.039 9.4l-.008-.032h8.927z"/></svg>',tp=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor,i=t.locale,o=t.t,s=i.uiLanguageDirection=="ltr"?$d:Jd,l=i.uiLanguageDirection=="ltr"?Jd:$d;this._addButton("undo",o("Undo"),"CTRL+Z",s),this._addButton("redo",o("Redo"),"CTRL+Y",l)}},{key:"_addButton",value:function(t,i,o,s){var l=this,c=this.editor;c.ui.componentFactory.add(t,function(u){var d=c.commands.get(t),h=new hr(u);return h.set({label:i,icon:s,keystroke:o,tooltip:!0}),h.bind("isEnabled").to(d,"isEnabled"),l.listenTo(h,"execute",function(){c.execute(t),c.editing.view.focus()}),h})}}]),e}(ut),Qd=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"requires",get:function(){return[ep,tp]}},{key:"pluginName",get:function(){return"Undo"}}]),e}(ut),el=function(){function a(r){w(this,a),this.context=r}return _(a,[{key:"destroy",value:function(){this.stopListening()}}],[{key:"isContextPlugin",get:function(){return!0}}]),a}();tn(el,Jn);var Zd=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){this.set("hasAny",!1),this._actions=new Tr({idProperty:"_id"}),this._actions.delegate("add","remove").to(this)}},{key:"add",value:function(t){if(typeof t!="string")throw new le.b("pendingactions-add-invalid-message: The message must be a string.",this);var i=Object.create(Jn);return i.set("message",t),this._actions.add(i),this.hasAny=!0,i}},{key:"remove",value:function(t){this._actions.remove(t),this.hasAny=!!this._actions.length}},{key:"first",get:function(){return this._actions.get(0)}},{key:Symbol.iterator,value:function(){return this._actions[Symbol.iterator]()}}],[{key:"pluginName",get:function(){return"PendingActions"}}]),e}(el),Xd=function(){function a(){var r=this;w(this,a);var e=new window.FileReader;this._reader=e,this._data=void 0,this.set("loaded",0),e.onprogress=function(n){r.loaded=n.loaded}}return _(a,[{key:"error",get:function(){return this._reader.error}},{key:"data",get:function(){return this._data}},{key:"read",value:function(e){var n=this,t=this._reader;return this.total=e.size,new Promise(function(i,o){t.onload=function(){var s=t.result;n._data=s,i(s)},t.onerror=function(){o("error")},t.onabort=function(){o("aborted")},n._reader.readAsDataURL(e)})}},{key:"abort",value:function(){this._reader.abort()}}]),a}();tn(Xd,Jn);var bi=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this;this.loaders=new Tr,this.loaders.on("add",function(){return t._updatePendingAction()}),this.loaders.on("remove",function(){return t._updatePendingAction()}),this._loadersMap=new Map,this._pendingAction=null,this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",function(i,o){return o?i/o*100:0})}},{key:"getLoader",value:function(t){return this._loadersMap.get(t)||null}},{key:"createLoader",value:function(t){var i=this;if(!this.createUploadAdapter)return console.warn(Object(le.a)("filerepository-no-upload-adapter: Upload adapter is not defined.")),null;var o=new Pc(Promise.resolve(t),this.createUploadAdapter);return this.loaders.add(o),this._loadersMap.set(t,o),t instanceof Promise&&o.file.then(function(s){i._loadersMap.set(s,o)}).catch(function(){}),o.on("change:uploaded",function(){var s=0,l=p(i.loaders),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;s+=u.uploaded}}catch(d){l.e(d)}finally{l.f()}i.uploaded=s}),o.on("change:uploadTotal",function(){var s=0,l=p(i.loaders),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;u.uploadTotal&&(s+=u.uploadTotal)}}catch(d){l.e(d)}finally{l.f()}i.uploadTotal=s}),o}},{key:"destroyLoader",value:function(t){var i=this,o=t instanceof Pc?t:this.getLoader(t);o._destroy(),this.loaders.remove(o),this._loadersMap.forEach(function(s,l){s===o&&i._loadersMap.delete(l)})}},{key:"_updatePendingAction",value:function(){var t=this.editor.plugins.get(Zd);if(this.loaders.length){if(!this._pendingAction){var i=this.editor.t,o=function(l){return"".concat(i("Upload in progress")," ").concat(parseInt(l),"%.")};this._pendingAction=t.add(o(this.uploadedPercent)),this._pendingAction.bind("message").to(this,"uploadedPercent",o)}}else t.remove(this._pendingAction),this._pendingAction=null}}],[{key:"pluginName",get:function(){return"FileRepository"}},{key:"requires",get:function(){return[Zd]}}]),e}(ut);tn(bi,Jn);var Pc=function(){function a(r,e){w(this,a),this.id=Yr(),this._filePromiseWrapper=this._createFilePromiseWrapper(r),this._adapter=e(this),this._reader=new Xd,this.set("status","idle"),this.set("uploaded",0),this.set("uploadTotal",null),this.bind("uploadedPercent").to(this,"uploaded",this,"uploadTotal",function(n,t){return t?n/t*100:0}),this.set("uploadResponse",null)}return _(a,[{key:"file",get:function(){var e=this;return this._filePromiseWrapper?this._filePromiseWrapper.promise.then(function(n){return e._filePromiseWrapper?n:null}):Promise.resolve(null)}},{key:"data",get:function(){return this._reader.data}},{key:"read",value:function(){var e=this;if(this.status!="idle")throw new le.b("filerepository-read-wrong-status: You cannot call read if the status is different than idle.",this);return this.status="reading",this.file.then(function(n){return e._reader.read(n)}).then(function(n){if(e.status!=="reading")throw e.status;return e.status="idle",n}).catch(function(n){throw n==="aborted"?(e.status="aborted","aborted"):(e.status="error",e._reader.error?e._reader.error:n)})}},{key:"upload",value:function(){var e=this;if(this.status!="idle")throw new le.b("filerepository-upload-wrong-status: You cannot call upload if the status is different than idle.",this);return this.status="uploading",this.file.then(function(){return e._adapter.upload()}).then(function(n){return e.uploadResponse=n,e.status="idle",n}).catch(function(n){throw e.status==="aborted"?"aborted":(e.status="error",n)})}},{key:"abort",value:function(){var e=this.status;this.status="aborted",this._filePromiseWrapper.isFulfilled?e=="reading"?this._reader.abort():e=="uploading"&&this._adapter.abort&&this._adapter.abort():(this._filePromiseWrapper.promise.catch(function(){}),this._filePromiseWrapper.rejecter("aborted")),this._destroy()}},{key:"_destroy",value:function(){this._filePromiseWrapper=void 0,this._reader=void 0,this._adapter=void 0,this.uploadResponse=void 0}},{key:"_createFilePromiseWrapper",value:function(e){var n={};return n.promise=new Promise(function(t,i){n.rejecter=i,n.isFulfilled=!1,e.then(function(o){n.isFulfilled=!0,t(o)}).catch(function(o){n.isFulfilled=!0,i(o)})}),n}}]),a}();tn(Pc,Jn);function np(){var a=function(n){n=n.toLowerCase();var t=document.cookie.split(";"),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.split("=");if(decodeURIComponent(l[0].trim().toLowerCase())===n)return decodeURIComponent(l[1])}}catch(c){i.e(c)}finally{i.f()}return null}("ckCsrfToken"),r,e;return a&&a.length==40||(a=function(n){var t="",i=new Uint8Array(n);window.crypto.getRandomValues(i);for(var o=0;o<i.length;o++){var s="abcdefghijklmnopqrstuvwxyz0123456789".charAt(i[o]%"abcdefghijklmnopqrstuvwxyz0123456789".length);t+=Math.random()>.5?s.toUpperCase():s}return t}(40),r="ckCsrfToken",e=a,document.cookie=encodeURIComponent(r)+"="+encodeURIComponent(e)+";path=/"),a}var qd=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this,i=this.editor.config.get("ckfinder.uploadUrl");i&&(this.editor.plugins.get(bi).createUploadAdapter=function(o){return new rp(o,i,t.editor.t)})}}],[{key:"requires",get:function(){return[bi]}},{key:"pluginName",get:function(){return"CKFinderUploadAdapter"}}]),e}(ut),rp=function(){function a(r,e,n){w(this,a),this.loader=r,this.url=e,this.t=n}return _(a,[{key:"upload",value:function(){var e=this;return this.loader.file.then(function(n){return new Promise(function(t,i){e._initRequest(),e._initListeners(t,i,n),e._sendRequest(n)})})}},{key:"abort",value:function(){this.xhr&&this.xhr.abort()}},{key:"_initRequest",value:function(){var e=this.xhr=new XMLHttpRequest;e.open("POST",this.url,!0),e.responseType="json"}},{key:"_initListeners",value:function(e,n,t){var i=this.xhr,o=this.loader,s=(0,this.t)("Cannot upload file:")+" ".concat(t.name,".");i.addEventListener("error",function(){return n(s)}),i.addEventListener("abort",function(){return n()}),i.addEventListener("load",function(){var l=i.response;if(!l||!l.uploaded)return n(l&&l.error&&l.error.message?l.error.message:s);e({default:l.url})}),i.upload&&i.upload.addEventListener("progress",function(l){l.lengthComputable&&(o.uploadTotal=l.total,o.uploaded=l.loaded)})}},{key:"_sendRequest",value:function(e){var n=new FormData;n.append("upload",e),n.append("ckCsrfToken",np()),this.xhr.send(n)}}]),a}(),cs=function(){function a(r,e,n){w(this,a);var t,i=null;typeof n=="function"?t=n:(i=r.commands.get(n),t=function(){r.execute(n)}),r.model.document.on("change",function(o,s){if(!(i&&!i.isEnabled)&&s.type!="transparent"){var l=Array.from(r.model.document.differ.getChanges()),c=l[0];if(!(l.length!=1||c.type!=="insert"||c.name!="$text"||c.length!=1)){var u=c.position.parent;if(!(!u.is("paragraph")||u.childCount!==1)){var d=e.exec(u.getChild(0).data);d&&r.model.enqueueChange(function(h){var v=h.createPositionAt(u,0),m=h.createPositionAt(u,d[0].length),k=new fo(v,m);t({match:d})!==!1&&h.remove(k),k.detach()})}}}})}return _(a,null,[{key:"pluginName",get:function(){return"BlockAutoformatEditing"}}]),a}();function ef(a,r){var e=a.start;return{text:Array.from(a.getItems()).reduce(function(n,t){return t.is("text")||t.is("textProxy")?n+t.data:(e=r.createPositionAfter(t),"")},""),range:r.createRange(e,a.end)}}var yo=function(){function a(r,e,n){w(this,a);var t,i,o,s;e instanceof RegExp?t=e:o=e,typeof n=="string"?i=n:s=n,o=o||function(l){for(var c,u=[],d=[];(c=t.exec(l))!==null&&!(c&&c.length<4);){var h=c,v=h.index,m=h[1],k=h[2],E=h[3],P=m+k+E;v+=c[0].length-P.length;var U=[v,v+m.length],H=[v+m.length+k.length,v+m.length+k.length+E.length];u.push(U),u.push(H),d.push([v+m.length,v+m.length+k.length])}return{remove:u,format:d}},s=s||function(l,c){var u=r.model.schema.getValidRanges(c,i),d=p(u),h;try{for(d.s();!(h=d.n()).done;){var v=h.value;l.setAttribute(i,!0,v)}}catch(m){d.e(m)}finally{d.f()}l.removeSelectionAttribute(i)},r.model.document.on("change",function(l,c){if(c.type!="transparent"){var u=r.model,d=u.document.selection;if(!!d.isCollapsed){var h=Array.from(u.document.differ.getChanges()),v=h[0];if(!(h.length!=1||v.type!=="insert"||v.name!="$text"||v.length!=1)){var m=d.focus,k=m.parent,E=ef(u.createRange(u.createPositionAt(k,0),m),u),P=E.text,U=E.range,H=o(P),G=tf(U.start,H.format,u),Z=tf(U.start,H.remove,u);G.length&&Z.length&&u.enqueueChange(function(ce){if(s(ce,G)!==!1){var ye=p(Z.reverse()),ke;try{for(ye.s();!(ke=ye.n()).done;){var Re=ke.value;ce.remove(Re)}}catch(Xe){ye.e(Xe)}finally{ye.f()}}})}}}})}return _(a,null,[{key:"pluginName",get:function(){return"InlineAutoformatEditing"}}]),a}();function tf(a,r,e){return r.filter(function(n){return n[0]!==void 0&&n[1]!==void 0}).map(function(n){return e.createRange(a.getShiftedBy(n[0]),a.getShiftedBy(n[1]))})}function tl(a,r){return function(e,n){if(!a.commands.get(r).isEnabled)return!1;var t=a.model.schema.getValidRanges(n,r),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;e.setAttribute(r,!0,s)}}catch(l){i.e(l)}finally{i.f()}e.removeSelectionAttribute(r)}}var nf=function(a){O(e,a);var r=D(e);function e(n,t){var i;return w(this,e),i=r.call(this,n),i.attributeKey=t,i}return _(e,[{key:"refresh",value:function(){var t=this.editor.model,i=t.document;this.value=this._getValueFromFirstAllowedNode(),this.isEnabled=t.schema.checkAttributeInSelection(i.selection,this.attributeKey)}},{key:"execute",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.editor.model,s=o.document.selection,l=i.forceValue===void 0?!this.value:i.forceValue;o.change(function(c){if(s.isCollapsed)l?c.setSelectionAttribute(t.attributeKey,!0):c.removeSelectionAttribute(t.attributeKey);else{var u=o.schema.getValidRanges(s.getRanges(),t.attributeKey),d=p(u),h;try{for(d.s();!(h=d.n()).done;){var v=h.value;l?c.setAttribute(t.attributeKey,l,v):c.removeAttribute(t.attributeKey,v)}}catch(m){d.e(m)}finally{d.f()}}})}},{key:"_getValueFromFirstAllowedNode",value:function(){var t=this.editor.model,i=t.schema,o=t.document.selection;if(o.isCollapsed)return o.hasAttribute(this.attributeKey);var s=p(o.getRanges()),l;try{for(s.s();!(l=s.n()).done;){var c=l.value,u=p(c.getItems()),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;if(i.checkAttribute(h,this.attributeKey))return h.hasAttribute(this.attributeKey)}}catch(v){u.e(v)}finally{u.f()}}}catch(v){s.e(v)}finally{s.f()}return!1}}]),e}(jn),ip=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:"bold"}),t.model.schema.setAttributeProperties("bold",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"bold",view:"strong",upcastAlso:["b",function(i){var o=i.getStyle("font-weight");return o?o=="bold"||Number(o)>=600?{name:!0,styles:["font-weight"]}:void 0:null}]}),t.commands.add("bold",new nf(t,"bold")),t.keystrokes.set("CTRL+B","bold")}}],[{key:"pluginName",get:function(){return"BoldEditing"}}]),e}(ut),ap=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.t;i.ui.componentFactory.add("bold",function(s){var l=i.commands.get("bold"),c=new hr(s);return c.set({label:o("Bold"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M10.187 17H5.773c-.637 0-1.092-.138-1.364-.415-.273-.277-.409-.718-.409-1.323V4.738c0-.617.14-1.062.419-1.332.279-.27.73-.406 1.354-.406h4.68c.69 0 1.288.041 1.793.124.506.083.96.242 1.36.478.341.197.644.447.906.75a3.262 3.262 0 0 1 .808 2.162c0 1.401-.722 2.426-2.167 3.075C15.05 10.175 16 11.315 16 13.01a3.756 3.756 0 0 1-2.296 3.504 6.1 6.1 0 0 1-1.517.377c-.571.073-1.238.11-2 .11zm-.217-6.217H7v4.087h3.069c1.977 0 2.965-.69 2.965-2.072 0-.707-.256-1.22-.768-1.537-.512-.319-1.277-.478-2.296-.478zM7 5.13v3.619h2.606c.729 0 1.292-.067 1.69-.2a1.6 1.6 0 0 0 .91-.765c.165-.267.247-.566.247-.897 0-.707-.26-1.176-.778-1.409-.519-.232-1.31-.348-2.375-.348H7z"/></svg>',keystroke:"CTRL+B",tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(l,"value","isEnabled"),t.listenTo(c,"execute",function(){i.execute("bold"),i.editing.view.focus()}),c})}}]),e}(ut),op=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor;t.model.schema.extend("$text",{allowAttributes:"italic"}),t.model.schema.setAttributeProperties("italic",{isFormatting:!0,copyOnEnter:!0}),t.conversion.attributeToElement({model:"italic",view:"i",upcastAlso:["em",{styles:{"font-style":"italic"}}]}),t.commands.add("italic",new nf(t,"italic")),t.keystrokes.set("CTRL+I","italic")}}],[{key:"pluginName",get:function(){return"ItalicEditing"}}]),e}(ut),sp=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.t;i.ui.componentFactory.add("italic",function(s){var l=i.commands.get("italic"),c=new hr(s);return c.set({label:o("Italic"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M9.586 14.633l.021.004c-.036.335.095.655.393.962.082.083.173.15.274.201h1.474a.6.6 0 1 1 0 1.2H5.304a.6.6 0 0 1 0-1.2h1.15c.474-.07.809-.182 1.005-.334.157-.122.291-.32.404-.597l2.416-9.55a1.053 1.053 0 0 0-.281-.823 1.12 1.12 0 0 0-.442-.296H8.15a.6.6 0 0 1 0-1.2h6.443a.6.6 0 1 1 0 1.2h-1.195c-.376.056-.65.155-.823.296-.215.175-.423.439-.623.79l-2.366 9.347z"/></svg>',keystroke:"CTRL+I",tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(l,"value","isEnabled"),t.listenTo(c,"execute",function(){i.execute("italic"),i.editing.view.focus()}),c})}}]),e}(ut);function Bi(a){var r=a.next();return r.done?null:r.value}var lp=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,i=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},o=this.editor.model,s=o.schema,l=o.document.selection,c=Array.from(l.getSelectedBlocks()),u=i.forceValue===void 0?!this.value:i.forceValue;o.change(function(d){if(u){var h=c.filter(function(v){return nl(v)||af(s,v)});t._applyQuote(d,h)}else t._removeQuote(d,c.filter(nl))})}},{key:"_getValue",value:function(){var t=Bi(this.editor.model.document.selection.getSelectedBlocks());return!(!t||!nl(t))}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var t=this.editor.model.document.selection,i=this.editor.model.schema,o=Bi(t.getSelectedBlocks());return!!o&&af(i,o)}},{key:"_removeQuote",value:function(t,i){rf(t,i).reverse().forEach(function(o){if(o.start.isAtStart&&o.end.isAtEnd)return void t.unwrap(o.start.parent);if(o.start.isAtStart){var s=t.createPositionBefore(o.start.parent);return void t.move(o,s)}o.end.isAtEnd||t.split(o.end);var l=t.createPositionAfter(o.end.parent);t.move(o,l)})}},{key:"_applyQuote",value:function(t,i){var o=[];rf(t,i).reverse().forEach(function(s){var l=nl(s.start);l||(l=t.createElement("blockQuote"),t.wrap(s,l)),o.push(l)}),o.reverse().reduce(function(s,l){return s.nextSibling==l?(t.merge(t.createPositionAfter(s)),s):l})}}]),e}(jn);function nl(a){return a.parent.name=="blockQuote"?a.parent:null}function rf(a,r){for(var e,n=0,t=[];n<r.length;){var i=r[n],o=r[n+1];e||(e=a.createPositionBefore(i)),o&&i.nextSibling==o||(t.push(a.createRange(e,a.createPositionAfter(i))),e=null),n++}return t}function af(a,r){var e=a.checkChild(r.parent,"blockQuote"),n=a.checkChild(["$root","blockQuote"],r);return e&&n}var cp=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor,i=t.model.schema;t.commands.add("blockQuote",new lp(t)),i.register("blockQuote",{allowWhere:"$block",allowContentOf:"$root"}),i.addChildCheck(function(o,s){if(o.endsWith("blockQuote")&&s.name=="blockQuote")return!1}),t.conversion.elementToElement({model:"blockQuote",view:"blockquote"}),t.model.document.registerPostFixer(function(o){var s=t.model.document.differ.getChanges(),l=p(s),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;if(u.type=="insert"){var d=u.position.nodeAfter;if(!d)continue;if(d.is("blockQuote")&&d.isEmpty)return o.remove(d),!0;if(d.is("blockQuote")&&!i.checkChild(u.position,d))return o.unwrap(d),!0;if(d.is("element")){var h=o.createRangeIn(d),v=p(h.getItems()),m;try{for(v.s();!(m=v.n()).done;){var k=m.value;if(k.is("blockQuote")&&!i.checkChild(o.createPositionBefore(k),k))return o.unwrap(k),!0}}catch(P){v.e(P)}finally{v.f()}}}else if(u.type=="remove"){var E=u.position.parent;if(E.is("blockQuote")&&E.isEmpty)return o.remove(E),!0}}}catch(P){l.e(P)}finally{l.f()}return!1})}},{key:"afterInit",value:function(){var t=this,i=this.editor.commands.get("blockQuote");this.listenTo(this.editor.editing.view.document,"enter",function(o,s){var l=t.editor.model.document,c=l.selection.getLastPosition().parent;l.selection.isCollapsed&&c.isEmpty&&i.value&&(t.editor.execute("blockQuote"),t.editor.editing.view.scrollToTheSelection(),s.preventDefault(),o.stop())})}}],[{key:"pluginName",get:function(){return"BlockQuoteEditing"}}]),e}(ut);L(43);var up=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.t;i.ui.componentFactory.add("blockQuote",function(s){var l=i.commands.get("blockQuote"),c=new hr(s);return c.set({label:o("Block quote"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 10.423a6.5 6.5 0 0 1 6.056-6.408l.038.67C6.448 5.423 5.354 7.663 5.22 10H9c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574zm8 0a6.5 6.5 0 0 1 6.056-6.408l.038.67c-2.646.739-3.74 2.979-3.873 5.315H17c.552 0 .5.432.5.986v4.511c0 .554-.448.503-1 .503h-5c-.552 0-.5-.449-.5-1.003v-4.574z"/></svg>',tooltip:!0,isToggleable:!0}),c.bind("isOn","isEnabled").to(l,"value","isEnabled"),t.listenTo(c,"execute",function(){i.execute("blockQuote"),i.editing.view.focus()}),c})}}]),e}(ut),dp=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor,i=t.ui.componentFactory,o=t.t;i.add("ckfinder",function(s){var l=t.commands.get("ckfinder"),c=new hr(s);return c.set({label:o("Insert image or file"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.627 16.5zm5.873-.196zm0-7.001V8h-13v8.5h4.341c.191.54.457 1.044.785 1.5H2a1.5 1.5 0 0 1-1.5-1.5v-13A1.5 1.5 0 0 1 2 2h4.5a1.5 1.5 0 0 1 1.06.44L9.122 4H16a1.5 1.5 0 0 1 1.5 1.5v1A1.5 1.5 0 0 1 19 8v2.531a6.027 6.027 0 0 0-1.5-1.228zM16 6.5v-1H8.5l-2-2H2v13h1V8a1.5 1.5 0 0 1 1.5-1.5H16z"/><path d="M14.5 19.5a5 5 0 1 1 0-10 5 5 0 0 1 0 10zM15 14v-2h-1v2h-2v1h2v2h1v-2h2v-1h-2z"/></svg>',tooltip:!0}),c.bind("isEnabled").to(l),c.on("execute",function(){t.execute("ckfinder"),t.editing.view.focus()}),c})}}],[{key:"pluginName",get:function(){return"CKFinderUI"}}]),e}(ut),fp=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"observe",value:function(t){var i=this;this.listenTo(t,"load",function(o,s){s.target.tagName=="IMG"&&i._fireEvents(s)},{useCapture:!0})}},{key:"_fireEvents",value:function(t){this.isEnabled&&(this.document.fire("layoutChanged"),this.document.fire("imageLoaded",t))}}]),e}(Di),of=function(){function a(){w(this,a),this._stack=[]}return _(a,[{key:"add",value:function(e,n){var t=this._stack,i=t[0];this._insertDescriptor(e);var o=t[0];i===o||Ac(i,o)||this.fire("change:top",{oldDescriptor:i,newDescriptor:o,writer:n})}},{key:"remove",value:function(e,n){var t=this._stack,i=t[0];this._removeDescriptor(e);var o=t[0];i===o||Ac(i,o)||this.fire("change:top",{oldDescriptor:i,newDescriptor:o,writer:n})}},{key:"_insertDescriptor",value:function(e){var n=this._stack,t=n.findIndex(function(o){return o.id===e.id});if(!Ac(e,n[t])){t>-1&&n.splice(t,1);for(var i=0;n[i]&&hp(n[i],e);)i++;n.splice(i,0,e)}}},{key:"_removeDescriptor",value:function(e){var n=this._stack,t=n.findIndex(function(i){return i.id===e});t>-1&&n.splice(t,1)}}]),a}();function Ac(a,r){return a&&r&&a.priority==r.priority&&rl(a.classes)==rl(r.classes)}function hp(a,r){return a.priority>r.priority||!(a.priority<r.priority)&&rl(a.classes)>rl(r.classes)}function rl(a){return Array.isArray(a)?a.sort().join(","):a}tn(of,Gn),L(45);var sf=gc("px"),lf=cr.document.body,Fn=function(a){O(e,a);var r=D(e);function e(n){var t;w(this,e),t=r.call(this,n);var i=t.bindTemplate;return t.set("top",0),t.set("left",0),t.set("position","arrow_nw"),t.set("isVisible",!1),t.set("withArrow",!0),t.set("class"),t.content=t.createCollection(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-panel",i.to("position",function(o){return"ck-balloon-panel_"+o}),i.if("isVisible","ck-balloon-panel_visible"),i.if("withArrow","ck-balloon-panel_with-arrow"),i.to("class")],style:{top:i.to("top",sf),left:i.to("left",sf)}},children:t.content}),t}return _(e,[{key:"show",value:function(){this.isVisible=!0}},{key:"hide",value:function(){this.isVisible=!1}},{key:"attachTo",value:function(t){this.show();var i=e.defaultPositions,o=Object.assign({},{element:this.element,positions:[i.southArrowNorth,i.southArrowNorthMiddleWest,i.southArrowNorthMiddleEast,i.southArrowNorthWest,i.southArrowNorthEast,i.northArrowSouth,i.northArrowSouthMiddleWest,i.northArrowSouthMiddleEast,i.northArrowSouthWest,i.northArrowSouthEast],limiter:lf,fitInViewport:!0},t),s=e._getOptimalPosition(o),l=parseInt(s.left),c=parseInt(s.top),u=s.name;Object.assign(this,{top:c,left:l,position:u})}},{key:"pin",value:function(t){var i=this;this.unpin(),this._pinWhenIsVisibleCallback=function(){i.isVisible?i._startPinning(t):i._stopPinning()},this._startPinning(t),this.listenTo(this,"change:isVisible",this._pinWhenIsVisibleCallback)}},{key:"unpin",value:function(){this._pinWhenIsVisibleCallback&&(this._stopPinning(),this.stopListening(this,"change:isVisible",this._pinWhenIsVisibleCallback),this._pinWhenIsVisibleCallback=null,this.hide())}},{key:"_startPinning",value:function(t){var i=this;this.attachTo(t);var o=Tc(t.target),s=t.limiter?Tc(t.limiter):lf;this.listenTo(cr.document,"scroll",function(l,c){var u=c.target,d=o&&u.contains(o),h=s&&u.contains(s);!d&&!h&&o&&s||i.attachTo(t)},{useCapture:!0}),this.listenTo(cr.window,"resize",function(){i.attachTo(t)})}},{key:"_stopPinning",value:function(){this.stopListening(cr.document,"scroll"),this.stopListening(cr.window,"resize")}}]),e}(Tn);function Tc(a){return br(a)?a:zs(a)?a.commonAncestorContainer:typeof a=="function"?Tc(a()):null}function Qr(a,r){return a.top-r.height-Fn.arrowVerticalOffset}function Zr(a){return a.bottom+Fn.arrowVerticalOffset}Fn.arrowHorizontalOffset=25,Fn.arrowVerticalOffset=10,Fn._getOptimalPosition=wd,Fn.defaultPositions={northWestArrowSouthWest:function(r,e){return{top:Qr(r,e),left:r.left-Fn.arrowHorizontalOffset,name:"arrow_sw"}},northWestArrowSouthMiddleWest:function(r,e){return{top:Qr(r,e),left:r.left-.25*e.width-Fn.arrowHorizontalOffset,name:"arrow_smw"}},northWestArrowSouth:function(r,e){return{top:Qr(r,e),left:r.left-e.width/2,name:"arrow_s"}},northWestArrowSouthMiddleEast:function(r,e){return{top:Qr(r,e),left:r.left-.75*e.width+Fn.arrowHorizontalOffset,name:"arrow_sme"}},northWestArrowSouthEast:function(r,e){return{top:Qr(r,e),left:r.left-e.width+Fn.arrowHorizontalOffset,name:"arrow_se"}},northArrowSouthWest:function(r,e){return{top:Qr(r,e),left:r.left+r.width/2-Fn.arrowHorizontalOffset,name:"arrow_sw"}},northArrowSouthMiddleWest:function(r,e){return{top:Qr(r,e),left:r.left+r.width/2-.25*e.width-Fn.arrowHorizontalOffset,name:"arrow_smw"}},northArrowSouth:function(r,e){return{top:Qr(r,e),left:r.left+r.width/2-e.width/2,name:"arrow_s"}},northArrowSouthMiddleEast:function(r,e){return{top:Qr(r,e),left:r.left+r.width/2-.75*e.width+Fn.arrowHorizontalOffset,name:"arrow_sme"}},northArrowSouthEast:function(r,e){return{top:Qr(r,e),left:r.left+r.width/2-e.width+Fn.arrowHorizontalOffset,name:"arrow_se"}},northEastArrowSouthWest:function(r,e){return{top:Qr(r,e),left:r.right-Fn.arrowHorizontalOffset,name:"arrow_sw"}},northEastArrowSouthMiddleWest:function(r,e){return{top:Qr(r,e),left:r.right-.25*e.width-Fn.arrowHorizontalOffset,name:"arrow_smw"}},northEastArrowSouth:function(r,e){return{top:Qr(r,e),left:r.right-e.width/2,name:"arrow_s"}},northEastArrowSouthMiddleEast:function(r,e){return{top:Qr(r,e),left:r.right-.75*e.width+Fn.arrowHorizontalOffset,name:"arrow_sme"}},northEastArrowSouthEast:function(r,e){return{top:Qr(r,e),left:r.right-e.width+Fn.arrowHorizontalOffset,name:"arrow_se"}},southWestArrowNorthWest:function(r,e){return{top:Zr(r),left:r.left-Fn.arrowHorizontalOffset,name:"arrow_nw"}},southWestArrowNorthMiddleWest:function(r,e){return{top:Zr(r),left:r.left-.25*e.width-Fn.arrowHorizontalOffset,name:"arrow_nmw"}},southWestArrowNorth:function(r,e){return{top:Zr(r),left:r.left-e.width/2,name:"arrow_n"}},southWestArrowNorthMiddleEast:function(r,e){return{top:Zr(r),left:r.left-.75*e.width+Fn.arrowHorizontalOffset,name:"arrow_nme"}},southWestArrowNorthEast:function(r,e){return{top:Zr(r),left:r.left-e.width+Fn.arrowHorizontalOffset,name:"arrow_ne"}},southArrowNorthWest:function(r,e){return{top:Zr(r),left:r.left+r.width/2-Fn.arrowHorizontalOffset,name:"arrow_nw"}},southArrowNorthMiddleWest:function(r,e){return{top:Zr(r),left:r.left+r.width/2-.25*e.width-Fn.arrowHorizontalOffset,name:"arrow_nmw"}},southArrowNorth:function(r,e){return{top:Zr(r),left:r.left+r.width/2-e.width/2,name:"arrow_n"}},southArrowNorthMiddleEast:function(r,e){return{top:Zr(r),left:r.left+r.width/2-.75*e.width+Fn.arrowHorizontalOffset,name:"arrow_nme"}},southArrowNorthEast:function(r,e){return{top:Zr(r),left:r.left+r.width/2-e.width+Fn.arrowHorizontalOffset,name:"arrow_ne"}},southEastArrowNorthWest:function(r,e){return{top:Zr(r),left:r.right-Fn.arrowHorizontalOffset,name:"arrow_nw"}},southEastArrowNorthMiddleWest:function(r,e){return{top:Zr(r),left:r.right-.25*e.width-Fn.arrowHorizontalOffset,name:"arrow_nmw"}},southEastArrowNorth:function(r,e){return{top:Zr(r),left:r.right-e.width/2,name:"arrow_n"}},southEastArrowNorthMiddleEast:function(r,e){return{top:Zr(r),left:r.right-.75*e.width+Fn.arrowHorizontalOffset,name:"arrow_nme"}},southEastArrowNorthEast:function(r,e){return{top:Zr(r),left:r.right-e.width+Fn.arrowHorizontalOffset,name:"arrow_ne"}}};function Vi(a){return!!a.is("element")&&!!a.getCustomProperty("widget")}function Sc(a,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return r.setAttribute("contenteditable","false",a),r.addClass("ck-widget",a),r.setCustomProperty("widget",!0,a),a.getFillerOffset=pp,e.label&&function(t,i,o){o.setCustomProperty("widgetLabel",i,t)}(a,e.label,r),e.hasSelectionHandle&&function(t,i){var o=i.createUIElement("div",{class:"ck ck-widget__selection-handle"},function(s){var l=this.toDomElement(s),c=new Xs;return c.set("content",'<svg viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M4 0v1H1v3H0V.5A.5.5 0 0 1 .5 0H4zm8 0h3.5a.5.5 0 0 1 .5.5V4h-1V1h-3V0zM4 16H.5a.5.5 0 0 1-.5-.5V12h1v3h3v1zm8 0v-1h3v-3h1v3.5a.5.5 0 0 1-.5.5H12z"/><path fill-opacity=".256" d="M1 1h14v14H1z"/><g class="ck-icon__selected-indicator"><path d="M7 0h2v1H7V0zM0 7h1v2H0V7zm15 0h1v2h-1V7zm-8 8h2v1H7v-1z"/><path fill-opacity=".254" d="M1 1h14v14H1z"/></g></svg>'),c.render(),l.appendChild(c.element),l});i.insert(i.createPositionAt(t,0),o),i.addClass(["ck-widget_with-selection-handle"],t)}(a,r),function(t,i,o,s){var l=new of;l.on("change:top",function(c,u){u.oldDescriptor&&s(t,u.oldDescriptor,u.writer),u.newDescriptor&&o(t,u.newDescriptor,u.writer)}),i.setCustomProperty("addHighlight",function(c,u,d){return l.add(u,d)},t),i.setCustomProperty("removeHighlight",function(c,u,d){return l.remove(u,d)},t)}(a,r,function(t,i,o){return o.addClass(n(i.classes),t)},function(t,i,o){return o.removeClass(n(i.classes),t)}),a;function n(t){return Array.isArray(t)?t:[t]}}function vp(a){var r=a.getCustomProperty("widgetLabel");return r?typeof r=="function"?r():r:""}function Mc(a,r){return r.addClass(["ck-editor__editable","ck-editor__nested-editable"],a),r.setAttribute("contenteditable",a.isReadOnly?"false":"true",a),a.on("change:isReadOnly",function(e,n,t){r.setAttribute("contenteditable",t?"false":"true",a)}),a.on("change:isFocused",function(e,n,t){t?r.addClass("ck-editor__nested-editable_focused",a):r.removeClass("ck-editor__nested-editable_focused",a)}),a}function il(a,r){var e=a.getSelectedElement();if(e&&r.schema.isBlock(e))return r.createPositionAfter(e);var n=a.getSelectedBlocks().next().value;if(n){if(n.isEmpty)return r.createPositionAt(n,0);var t=r.createPositionAfter(n);return a.focus.isTouching(t)?t:r.createPositionBefore(n)}return a.focus}function gp(a,r){var e=new Mr(cr.window),n=e.getIntersection(a),t=r.height+Fn.arrowVerticalOffset;if(a.top-t>e.top||a.bottom+t<e.bottom)return null;var i=n||a,o=i.left+i.width/2-r.width/2;return{top:Math.max(a.top,0)+Fn.arrowVerticalOffset,left:o,name:"arrow_n"}}function pp(){return null}function Ic(a){var r=a.getSelectedElement();return r&&function(e){return!!e.getCustomProperty("image")&&Vi(e)}(r)?r:null}function al(a){return!!a&&a.is("image")}function cf(a,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=a.createElement("image",e),t=il(r.document.selection,r);r.insertContent(n,t),n.parent&&a.setSelection(n,"on")}function uf(a){var r=a.schema,e=a.document.selection;return function(n,t,i){var o=function(s,l){var c=il(s,l).parent;return c.isEmpty&&!c.is("$root")?c.parent:c}(n,i);return t.checkChild(o,"image")}(e,r,a)&&!function(n,t){var i=n.getSelectedElement();return i&&t.isObject(i)}(e,r)&&function(n){return R(n.focus.getAncestors()).every(function(t){return!t.is("image")})}(e)}function Ra(a){return Array.from(a.getChildren()).find(function(r){return r.is("img")})}function df(a){return function(e){e.on("attribute:".concat(a,":image"),r)};function r(e,n,t){if(!!t.consumable.consume(n.item,e.name)){var i=t.writer,o=Ra(t.mapper.toViewElement(n.item));n.attributeNewValue!==null?i.setAttribute(n.attributeKey,n.attributeNewValue,o):i.removeAttribute(n.attributeKey,o)}}}var mp=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"refresh",value:function(){this.isEnabled=uf(this.editor.model)}},{key:"execute",value:function(t){var i=this.editor.model;i.change(function(o){var s=Array.isArray(t.source)?t.source:[t.source],l=p(s),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;cf(o,i,{src:u})}}catch(d){l.e(d)}finally{l.f()}})}}]),e}(jn),ff=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor,i=t.model.schema,o=t.t,s=t.conversion;t.editing.view.addObserver(fp),i.register("image",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["alt","src","srcset"]}),s.for("dataDowncast").elementToElement({model:"image",view:function(c,u){return hf(u)}}),s.for("editingDowncast").elementToElement({model:"image",view:function(c,u){return d=hf(u),h=u,v=o("image widget"),h.setCustomProperty("image",!0,d),Sc(d,h,{label:function(){var k=Ra(d).getAttribute("alt");return k?"".concat(k," ").concat(v):v}});var d,h,v}}),s.for("downcast").add(df("src")).add(df("alt")).add(function(){return function(c){c.on("attribute:srcset:image",l)};function l(c,u,d){if(!!d.consumable.consume(u.item,c.name)){var h=d.writer,v=Ra(d.mapper.toViewElement(u.item));if(u.attributeNewValue===null){var m=u.attributeOldValue;m.data&&(h.removeAttribute("srcset",v),h.removeAttribute("sizes",v),m.width&&h.removeAttribute("width",v))}else{var k=u.attributeNewValue;k.data&&(h.setAttribute("srcset",k.data,v),h.setAttribute("sizes","100vw",v),k.width&&h.setAttribute("width",k.width,v))}}}}()),s.for("upcast").elementToElement({view:{name:"img",attributes:{src:!0}},model:function(c,u){return u.createElement("image",{src:c.getAttribute("src")})}}).attributeToAttribute({view:{name:"img",key:"alt"},model:"alt"}).attributeToAttribute({view:{name:"img",key:"srcset"},model:{key:"srcset",value:function(c){var u={data:c.getAttribute("srcset")};return c.hasAttribute("width")&&(u.width=c.getAttribute("width")),u}}}).add(function(){return function(c){c.on("element:figure",l)};function l(c,u,d){if(!!d.consumable.test(u.viewItem,{name:!0,classes:"image"})){var h=Ra(u.viewItem);if(!(!h||!h.hasAttribute("src")||!d.consumable.test(h,{name:!0}))){var v=d.convertItem(h,u.modelCursor),m=Bi(v.modelRange.getItems());m&&(d.convertChildren(u.viewItem,d.writer.createPositionAt(m,0)),u.modelRange=v.modelRange,u.modelCursor=v.modelCursor)}}}}()),t.commands.add("imageInsert",new mp(t))}}],[{key:"pluginName",get:function(){return"ImageEditing"}}]),e}(ut);function hf(a){var r=a.createEmptyElement("img"),e=a.createContainerElement("figure",{class:"image"});return a.insert(a.createPositionAt(e,0),r),e}function jc(a,r,e){return e.createRange(vf(a,r,!0,e),vf(a,r,!1,e))}function vf(a,r,e,n){for(var t=a.textNode||(e?a.nodeBefore:a.nodeAfter),i=null;t&&t.getAttribute("linkHref")==r;)i=t,t=e?t.previousSibling:t.nextSibling;return i?n.createPositionAt(i,e?"before":"after"):a}var bp=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.manualDecorators=new Tr,t}return _(e,[{key:"restoreManualDecoratorStates",value:function(){var t=p(this.manualDecorators),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;o.value=this._getDecoratorStateFromModel(o.id)}}catch(s){t.e(s)}finally{t.f()}}},{key:"refresh",value:function(){var t=this.editor.model,i=t.document;this.value=i.selection.getAttribute("linkHref");var o=p(this.manualDecorators),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.value=this._getDecoratorStateFromModel(l.id)}}catch(c){o.e(c)}finally{o.f()}this.isEnabled=t.schema.checkAttributeInSelection(i.selection,"linkHref")}},{key:"execute",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.editor.model,s=o.document.selection,l=[],c=[];for(var u in i)i[u]?l.push(u):c.push(u);o.change(function(d){if(s.isCollapsed){var h=s.getFirstPosition();if(s.hasAttribute("linkHref")){var v=jc(h,s.getAttribute("linkHref"),o);d.setAttribute("linkHref",t,v),l.forEach(function(G){d.setAttribute(G,!0,v)}),c.forEach(function(G){d.removeAttribute(G,v)}),d.setSelection(v)}else if(t!==""){var m=bn(s.getAttributes());m.set("linkHref",t),l.forEach(function(G){m.set(G,!0)});var k=d.createText(t,m);o.insertContent(k,h),d.setSelection(d.createRangeOn(k))}}else{var E=o.schema.getValidRanges(s.getRanges(),"linkHref"),P=p(E),U;try{var H=function(){var Z=U.value;d.setAttribute("linkHref",t,Z),l.forEach(function(ce){d.setAttribute(ce,!0,Z)}),c.forEach(function(ce){d.removeAttribute(ce,Z)})};for(P.s();!(U=P.n()).done;)H()}catch(G){P.e(G)}finally{P.f()}}})}},{key:"_getDecoratorStateFromModel",value:function(t){return this.editor.model.document.selection.getAttribute(t)}}]),e}(jn),yp=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"refresh",value:function(){this.isEnabled=this.editor.model.document.selection.hasAttribute("linkHref")}},{key:"execute",value:function(){var t=this.editor,i=this.editor.model,o=i.document.selection,s=t.commands.get("link");i.change(function(l){var c=o.isCollapsed?[jc(o.getFirstPosition(),o.getAttribute("linkHref"),i)]:o.getRanges(),u=p(c),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;if(l.removeAttribute("linkHref",h),s){var v=p(s.manualDecorators),m;try{for(v.s();!(m=v.n()).done;){var k=m.value;l.removeAttribute(k.id,h)}}catch(E){v.e(E)}finally{v.f()}}}}catch(E){u.e(E)}finally{u.f()}})}}]),e}(jn),kp=function(r,e,n){var t=r.length;return n=n===void 0?t:n,!e&&n>=t?r:ps(r,e,n)},wp=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff\\ufe0e\\ufe0f]"),gf=function(r){return wp.test(r)},_p=function(r){return r.split("")},xp="[\\ud800-\\udfff]",Rc="[\\u0300-\\u036f\\ufe20-\\ufe2f\\u20d0-\\u20ff]",Dc="\\ud83c[\\udffb-\\udfff]",pf="[^\\ud800-\\udfff]",mf="(?:\\ud83c[\\udde6-\\uddff]){2}",bf="[\\ud800-\\udbff][\\udc00-\\udfff]",yf="(?:"+Rc+"|"+Dc+")?",Ep="[\\ufe0e\\ufe0f]?"+yf+("(?:\\u200d(?:"+[pf,mf,bf].join("|")+")[\\ufe0e\\ufe0f]?"+yf+")*"),Cp="(?:"+[pf+Rc+"?",Rc,mf,bf,xp].join("|")+")",Op=RegExp(Dc+"(?="+Dc+")|"+Cp+Ep,"g"),Pp=function(r){return r.match(Op)||[]},Ap=function(r){return gf(r)?Pp(r):_p(r)},Tp=function(a){return function(r){r=Po(r);var e=gf(r)?Ap(r):void 0,n=e?e[0]:r.charAt(0),t=e?kp(e,1).join(""):r.slice(1);return n[a]()+t}}("toUpperCase"),Sp=/[\u0000-\u0020\u00A0\u1680\u180E\u2000-\u2029\u205f\u3000]/g,Mp=/^(?:(?:https?|ftps?|mailto):|[^a-z]|[a-z+.-]+(?:[^a-z+.:-]|$))/i;function kf(a,r){var e=r.createAttributeElement("a",{href:a},{priority:5});return r.setCustomProperty("link",!0,e),e}function wf(a){return function(r){return r.replace(Sp,"").match(Mp)}(a=String(a))?a:"#"}var Ip=function(){function a(){w(this,a),this._definitions=new Set}return _(a,[{key:"length",get:function(){return this._definitions.size}},{key:"add",value:function(e){var n=this;Array.isArray(e)?e.forEach(function(t){return n._definitions.add(t)}):this._definitions.add(e)}},{key:"getDispatcher",value:function(){var e=this;return function(n){n.on("attribute:linkHref",function(t,i,o){if(!!o.consumable.test(i.item,"attribute:linkHref")){var s=o.writer,l=s.document.selection,c=p(e._definitions),u;try{for(c.s();!(u=c.n()).done;){var d=u.value,h=s.createAttributeElement("a",d.attributes,{priority:5});s.setCustomProperty("link",!0,h),d.callback(i.attributeNewValue)?i.item.is("selection")?s.wrap(l.getFirstRange(),h):s.wrap(o.mapper.toViewRange(i.range),h):s.unwrap(o.mapper.toViewRange(i.range),h)}}catch(v){c.e(v)}finally{c.f()}}},{priority:"high"})}}}]),a}(),_f=function a(r){var e=r.id,n=r.label,t=r.attributes,i=r.defaultValue;w(this,a),this.id=e,this.set("value"),this.defaultValue=i,this.label=n,this.attributes=t};tn(_f,Jn);var jp=function(){function a(r,e,n){var t=this;w(this,a),this.model=r,this.attribute=n,this._modelSelection=r.document.selection,this._overrideUid=null,this._isNextGravityRestorationSkipped=!1,e.listenTo(this._modelSelection,"change:range",function(i,o){t._isNextGravityRestorationSkipped?t._isNextGravityRestorationSkipped=!1:t._isGravityOverridden&&(!o.directChange&&xf(t._modelSelection.getFirstPosition(),n)||t._restoreGravity())})}return _(a,[{key:"handleForwardMovement",value:function(e,n){var t=this.attribute;if(!(this._isGravityOverridden||e.isAtStart&&this._hasSelectionAttribute))return Fc(e,t)&&this._hasSelectionAttribute?(this._preventCaretMovement(n),this._removeSelectionAttribute(),!0):Ef(e,t)||Nc(e,t)&&this._hasSelectionAttribute?(this._preventCaretMovement(n),this._overrideGravity(),!0):void 0}},{key:"handleBackwardMovement",value:function(e,n){var t=this.attribute;return this._isGravityOverridden?Fc(e,t)&&this._hasSelectionAttribute?(this._preventCaretMovement(n),this._restoreGravity(),this._removeSelectionAttribute(),!0):(this._preventCaretMovement(n),this._restoreGravity(),e.isAtStart&&this._removeSelectionAttribute(),!0):Fc(e,t)&&!this._hasSelectionAttribute?(this._preventCaretMovement(n),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtEnd&&Nc(e,t)?this._hasSelectionAttribute?void(Cf(e,t)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity())):(this._preventCaretMovement(n),this._setSelectionAttributeFromTheNodeBefore(e),!0):e.isAtStart?this._hasSelectionAttribute?(this._removeSelectionAttribute(),this._preventCaretMovement(n),!0):void 0:void(Cf(e,t)&&(this._skipNextAutomaticGravityRestoration(),this._overrideGravity()))}},{key:"_isGravityOverridden",get:function(){return!!this._overrideUid}},{key:"_hasSelectionAttribute",get:function(){return this._modelSelection.hasAttribute(this.attribute)}},{key:"_overrideGravity",value:function(){this._overrideUid=this.model.change(function(e){return e.overrideSelectionGravity()})}},{key:"_restoreGravity",value:function(){var e=this;this.model.change(function(n){n.restoreSelectionGravity(e._overrideUid),e._overrideUid=null})}},{key:"_preventCaretMovement",value:function(e){e.preventDefault()}},{key:"_removeSelectionAttribute",value:function(){var e=this;this.model.change(function(n){n.removeSelectionAttribute(e.attribute)})}},{key:"_setSelectionAttributeFromTheNodeBefore",value:function(e){var n=this,t=this.attribute;this.model.change(function(i){i.setSelectionAttribute(n.attribute,e.nodeBefore.getAttribute(t))})}},{key:"_skipNextAutomaticGravityRestoration",value:function(){this._isNextGravityRestorationSkipped=!0}}]),a}();function xf(a,r){return Ef(a,r)||Nc(a,r)}function Ef(a,r){var e=a.nodeBefore,n=a.nodeAfter,t=!!e&&e.hasAttribute(r);return!!n&&n.hasAttribute(r)&&(!t||e.getAttribute(r)!==n.getAttribute(r))}function Nc(a,r){var e=a.nodeBefore,n=a.nodeAfter,t=!!e&&e.hasAttribute(r),i=!!n&&n.hasAttribute(r);return t&&(!i||e.getAttribute(r)!==n.getAttribute(r))}function Fc(a,r){var e=a.nodeBefore,n=a.nodeAfter,t=!!e&&e.hasAttribute(r);if(!!n&&n.hasAttribute(r)&&t)return n.getAttribute(r)!==e.getAttribute(r)}function Cf(a,r){return xf(a.getShiftedBy(-1),r)}L(47);var Rp=/^(https?:)?\/\//,Of=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),n.config.define("link",{addTargetToExternalLinks:!1}),t}return _(e,[{key:"init",value:function(){var t=this.editor,i=t.locale;t.model.schema.extend("$text",{allowAttributes:"linkHref"}),t.conversion.for("dataDowncast").attributeToElement({model:"linkHref",view:kf}),t.conversion.for("editingDowncast").attributeToElement({model:"linkHref",view:function(l,c){return kf(wf(l),c)}}),t.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:{href:!0}},model:{key:"linkHref",value:function(l){return l.getAttribute("href")}}}),t.commands.add("link",new bp(t)),t.commands.add("unlink",new yp(t));var o=function(s,l){var c={"Open in a new tab":s("Open in a new tab"),Downloadable:s("Downloadable")};return l.forEach(function(u){return u.label&&c[u.label]&&(u.label=c[u.label]),u}),l}(t.t,function(s){var l=[];if(s)for(var c=0,u=Object.entries(s);c<u.length;c++){var d=u[c],h=C(d,2),v=h[0],m=h[1],k=Object.assign({},m,{id:"link"+Tp(v)});l.push(k)}return l}(t.config.get("link.decorators")));this._enableAutomaticDecorators(o.filter(function(s){return s.mode==="automatic"})),this._enableManualDecorators(o.filter(function(s){return s.mode==="manual"})),function(s){var l=s.view,c=s.model,u=s.emitter,d=s.attribute,h=s.locale,v=new jp(c,u,d),m=c.document.selection;u.listenTo(l.document,"keydown",function(k,E){if(!!m.isCollapsed&&!(E.shiftKey||E.altKey||E.ctrlKey)){var P=E.keyCode==an.arrowright,U=E.keyCode==an.arrowleft;if(!(!P&&!U)){var H=m.getFirstPosition(),G=h.contentLanguageDirection,Z;Z=G==="ltr"&&P||G==="rtl"&&U?v.handleForwardMovement(H,E):v.handleBackwardMovement(H,E),Z&&k.stop()}}},{priority:Qi.get("high")+1})}({view:t.editing.view,model:t.model,emitter:this,attribute:"linkHref",locale:i}),this._setupLinkHighlight(),this._enableInsertContentSelectionAttributesFixer()}},{key:"_enableAutomaticDecorators",value:function(t){var i=this.editor,o=new Ip;i.config.get("link.addTargetToExternalLinks")&&o.add({id:"linkIsExternal",mode:"automatic",callback:function(l){return Rp.test(l)},attributes:{target:"_blank",rel:"noopener noreferrer"}}),o.add(t),o.length&&i.conversion.for("downcast").add(o.getDispatcher())}},{key:"_enableManualDecorators",value:function(t){if(!!t.length){var i=this.editor,o=i.commands.get("link").manualDecorators;t.forEach(function(s){i.model.schema.extend("$text",{allowAttributes:s.id}),o.add(new _f(s)),i.conversion.for("downcast").attributeToElement({model:s.id,view:function(c,u){if(c){var d=o.get(s.id).attributes,h=u.createAttributeElement("a",d,{priority:5});return u.setCustomProperty("link",!0,h),h}}}),i.conversion.for("upcast").elementToAttribute({view:{name:"a",attributes:o.get(s.id).attributes},model:{key:s.id}})})}}},{key:"_setupLinkHighlight",value:function(){var t=this.editor,i=t.editing.view,o=new Set;i.document.registerPostFixer(function(s){var l=t.model.document.selection,c=!1;if(l.hasAttribute("linkHref")){var u=jc(l.getFirstPosition(),l.getAttribute("linkHref"),t.model),d=t.editing.mapper.toViewRange(u),h=p(d.getItems()),v;try{for(h.s();!(v=h.n()).done;){var m=v.value;m.is("a")&&!m.hasClass("ck-link_selected")&&(s.addClass("ck-link_selected",m),o.add(m),c=!0)}}catch(k){h.e(k)}finally{h.f()}}return c}),t.conversion.for("editingDowncast").add(function(s){function l(){i.change(function(c){var u=p(o.values()),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;c.removeClass("ck-link_selected",h),o.delete(h)}}catch(v){u.e(v)}finally{u.f()}})}s.on("insert",l,{priority:"highest"}),s.on("remove",l,{priority:"highest"}),s.on("attribute",l,{priority:"highest"}),s.on("selection",l,{priority:"highest"})})}},{key:"_enableInsertContentSelectionAttributesFixer",value:function(){var t=this.editor.model,i=t.document.selection;t.on("insertContent",function(){var o=i.anchor.nodeBefore,s=i.anchor.nodeAfter;i.hasAttribute("linkHref")&&o&&o.hasAttribute("linkHref")&&(s&&s.hasAttribute("linkHref")||t.change(function(l){R(t.document.selection.getAttributeKeys()).filter(function(c){return c.startsWith("link")}).forEach(function(c){return l.removeSelectionAttribute(c)})}))},{priority:"low"})}}],[{key:"pluginName",get:function(){return"LinkEditing"}}]),e}(ut),Lc=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){this.on("show:warning",function(t,i){window.alert(i.message)},{priority:"lowest"})}},{key:"showSuccess",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._showNotification({message:t,type:"success",namespace:i.namespace,title:i.title})}},{key:"showInfo",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._showNotification({message:t,type:"info",namespace:i.namespace,title:i.title})}},{key:"showWarning",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this._showNotification({message:t,type:"warning",namespace:i.namespace,title:i.title})}},{key:"_showNotification",value:function(t){var i="show:"+t.type+(t.namespace?":"+t.namespace:"");this.fire(i,{message:t.message,type:t.type,title:t.title||""})}}],[{key:"pluginName",get:function(){return"Notification"}}]),e}(el),Dp=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.stopListening(t.editor.model.document,"change"),t.listenTo(t.editor.model.document,"change",function(){return t.refresh()},{priority:"low"}),t}return _(e,[{key:"refresh",value:function(){var t=this.editor.commands.get("imageInsert"),i=this.editor.commands.get("link");this.isEnabled=t.isEnabled||i.isEnabled}},{key:"execute",value:function(){var t=this.editor,i=this.editor.config.get("ckfinder.openerMethod")||"modal";if(i!="popup"&&i!="modal")throw new le.b('ckfinder-unknown-openerMethod: The openerMethod config option must by "popup" or "modal".',t);var o=this.editor.config.get("ckfinder.options")||{};o.chooseFiles=!0;var s=o.onInit;o.language||(o.language=t.locale.uiLanguage),o.onInit=function(l){s&&s(l),l.on("files:choose",function(c){var u=c.data.files.toArray(),d=u.filter(function(Z){return!Z.isImage()}),h=u.filter(function(Z){return Z.isImage()}),v=p(d),m;try{for(v.s();!(m=v.n()).done;){var k=m.value;t.execute("link",k.getUrl())}}catch(Z){v.e(Z)}finally{v.f()}var E=[],P=p(h),U;try{for(P.s();!(U=P.n()).done;){var H=U.value,G=H.getUrl();E.push(G||l.request("file:getProxyUrl",{file:H}))}}catch(Z){P.e(Z)}finally{P.f()}E.length&&Pf(t,E)}),l.on("file:choose:resizedImage",function(c){var u=c.data.resizedUrl;if(u)Pf(t,[u]);else{var d=t.plugins.get("Notification"),h=t.locale.t;d.showWarning(h("Could not obtain resized image URL."),{title:h("Selecting resized image failed"),namespace:"ckfinder"})}})},window.CKFinder[i](o)}}]),e}(jn);function Pf(a,r){if(a.commands.get("imageInsert").isEnabled)a.execute("imageInsert",{source:r});else{var e=a.plugins.get("Notification"),n=a.locale.t;e.showWarning(n("Could not insert image at the current position."),{title:n("Inserting image failed"),namespace:"ckfinder"})}}var Np=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor;t.commands.add("ckfinder",new Dp(t))}}],[{key:"pluginName",get:function(){return"CKFinderEditing"}},{key:"requires",get:function(){return[Lc,ff,Of]}}]),e}(ut),Bc=/^data:(\S*?);base64,/,Af=function(){function a(r,e,n){if(w(this,a),!r)throw new le.b("fileuploader-missing-file: File must be provided as the first argument",null);if(!e)throw new le.b("fileuploader-missing-token: Token must be provided as the second argument.",null);if(!n)throw new le.b("fileuploader-missing-api-address: Api address must be provided as the third argument.",null);this.file=function(t){if(typeof t!="string")return!1;var i=t.match(Bc);return!(!i||!i.length)}(r)?function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:512;try{for(var o=t.match(Bc)[1],s=atob(t.replace(Bc,"")),l=[],c=0;c<s.length;c+=i){for(var u=s.slice(c,c+i),d=new Array(u.length),h=0;h<u.length;h++)d[h]=u.charCodeAt(h);l.push(new Uint8Array(d))}return new Blob(l,{type:o})}catch(v){throw new le.b("fileuploader-decoding-image-data-error: Problem with decoding Base64 image data.",null)}}(r):r,this._token=e,this._apiAddress=n}return _(a,[{key:"onProgress",value:function(e){return this.on("progress",function(n,t){return e(t)}),this}},{key:"onError",value:function(e){return this.once("error",function(n,t){return e(t)}),this}},{key:"abort",value:function(){this.xhr.abort()}},{key:"send",value:function(){return this._prepareRequest(),this._attachXHRListeners(),this._sendRequest()}},{key:"_prepareRequest",value:function(){var e=new XMLHttpRequest;e.open("POST",this._apiAddress),e.setRequestHeader("Authorization",this._token.value),e.responseType="json",this.xhr=e}},{key:"_attachXHRListeners",value:function(){var e=this,n=this,t=this.xhr;function i(o){return function(){return n.fire("error",o)}}t.addEventListener("error",i("Network Error")),t.addEventListener("abort",i("Abort")),t.upload&&t.upload.addEventListener("progress",function(o){o.lengthComputable&&e.fire("progress",{total:o.total,uploaded:o.loaded})}),t.addEventListener("load",function(){var o=t.status,s=t.response;if(o<200||o>299)return e.fire("error",s.message||s.error)})}},{key:"_sendRequest",value:function(){var e=this,n=new FormData,t=this.xhr;return n.append("file",this.file),new Promise(function(i,o){t.addEventListener("load",function(){var s=t.status,l=t.response;return s<200||s>299?l.message?o(new le.b("fileuploader-uploading-data-failed: Uploading file failed.",e,{message:l.message})):o(l.error):i(l)}),t.addEventListener("error",function(){return o(new Error("Network Error"))}),t.addEventListener("abort",function(){return o(new Error("Abort"))}),t.send(n)})}}]),a}();tn(Af,Gn);var Vc={refreshInterval:36e5,autoRefresh:!0},Tf=function(){function a(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vc;if(w(this,a),!r)throw new le.b("token-missing-token-url: A `tokenUrl` must be provided as the first constructor argument.",this);this.set("value",e.initValue),this._refresh=typeof r=="function"?r:function(){return n=r,new Promise(function(t,i){var o=new XMLHttpRequest;o.open("GET",n),o.addEventListener("load",function(){var s=o.status,l=o.response;return s<200||s>299?i(new le.b("token-cannot-download-new-token: Cannot download new token from the provided url.",null)):t(l)}),o.addEventListener("error",function(){return i(new Error("Network Error"))}),o.addEventListener("abort",function(){return i(new Error("Abort"))}),o.send()});var n},this._options=Object.assign({},Vc,e)}return _(a,[{key:"init",value:function(){var e=this;return new Promise(function(n,t){e._options.autoRefresh&&e._startRefreshing(),e.value?n(e):e.refreshToken().then(n).catch(t)})}},{key:"refreshToken",value:function(){var e=this;return this._refresh().then(function(n){return e.set("value",n)}).then(function(){return e})}},{key:"destroy",value:function(){this._stopRefreshing()}},{key:"_startRefreshing",value:function(){var e=this;this._refreshInterval=setInterval(function(){return e.refreshToken()},this._options.refreshInterval)}},{key:"_stopRefreshing",value:function(){clearInterval(this._refreshInterval)}}],[{key:"create",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:Vc;return new a(e,n).init()}}]),a}();tn(Tf,Jn);var Fp=Tf,zc=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.context.config.get("cloudServices")||{};for(var i in t)this[i]=t[i];if(this.tokenUrl)return this.token=new e.Token(this.tokenUrl),this.token.init();this.token=null}},{key:"destroy",value:function(){b(x(e.prototype),"destroy",this).call(this),this.token&&this.token.destroy()}}],[{key:"pluginName",get:function(){return"CloudServices"}}]),e}(el);zc.Token=Fp;var Sf=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.plugins.get(zc),s=o.token,l=o.uploadUrl;s&&(this._uploadGateway=new e._UploadGateway(s,l),i.plugins.get(bi).createUploadAdapter=function(c){return new Lp(t._uploadGateway,c)})}}],[{key:"requires",get:function(){return[bi,zc]}}]),e}(ut),Lp=function(){function a(r,e){w(this,a),this.uploadGateway=r,this.loader=e}return _(a,[{key:"upload",value:function(){var e=this;return this.loader.file.then(function(n){return e.fileUploader=e.uploadGateway.upload(n),e.fileUploader.on("progress",function(t,i){e.loader.uploadTotal=i.total,e.loader.uploaded=i.uploaded}),e.fileUploader.send()})}},{key:"abort",value:function(){this.fileUploader.abort()}}]),a}();Sf._UploadGateway=function(){function a(r,e){if(w(this,a),!r)throw new le.b("uploadgateway-missing-token: Token must be provided.",null);if(!e)throw new le.b("uploadgateway-missing-api-address: Api address must be provided.",null);this._token=r,this._apiAddress=e}return _(a,[{key:"upload",value:function(e){return new Af(e,this._token,this._apiAddress)}}]),a}();var Bp=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.domEventType="mousedown",t}return _(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),e}(re),Vp=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"refresh",value:function(){var t=this.editor.model,i=Bi(t.document.selection.getSelectedBlocks());this.value=!!i&&i.is("paragraph"),this.isEnabled=!!i&&Mf(i,t.schema)}},{key:"execute",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.editor.model,o=i.document;i.change(function(s){var l=(t.selection||o.selection).getSelectedBlocks(),c=p(l),u;try{for(c.s();!(u=c.n()).done;){var d=u.value;!d.is("paragraph")&&Mf(d,i.schema)&&s.rename(d,"paragraph")}}catch(h){c.e(h)}finally{c.f()}})}}]),e}(jn);function Mf(a,r){return r.checkChild(a.parent,"paragraph")&&!r.isObject(a)}var zp=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"execute",value:function(t){var i=this.editor.model;i.schema.checkChild(t.position,"paragraph")&&i.change(function(o){var s=o.createElement("paragraph");i.insertContent(s,t.position),o.setSelection(s,"in")})}}]),e}(jn),us=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.model,s=i.data;i.commands.add("paragraph",new Vp(i)),i.commands.add("insertParagraph",new zp(i)),o.schema.register("paragraph",{inheritAllFrom:"$block"}),i.conversion.elementToElement({model:"paragraph",view:"p"}),i.conversion.for("upcast").elementToElement({model:function(c,u){return e.paragraphLikeElements.has(c.name)?c.isEmpty?null:u.createElement("paragraph"):null},converterPriority:"low"}),s.upcastDispatcher.on("element",function(l,c,u){u.consumable.test(c.viewItem,{name:c.viewItem.name})&&jf(c.viewItem,c.modelCursor,u.schema)&&Object.assign(c,If(c.viewItem,c.modelCursor,u))},{priority:"low"}),s.upcastDispatcher.on("text",function(l,c,u){c.modelRange||jf(c.viewItem,c.modelCursor,u.schema)&&Object.assign(c,If(c.viewItem,c.modelCursor,u))},{priority:"lowest"}),o.document.registerPostFixer(function(l){return t._autoparagraphEmptyRoots(l)}),i.data.on("ready",function(){o.enqueueChange("transparent",function(l){return t._autoparagraphEmptyRoots(l)})},{priority:"lowest"})}},{key:"_autoparagraphEmptyRoots",value:function(t){var i=this.editor.model,o=p(i.document.getRootNames()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,c=i.document.getRoot(l);if(c.isEmpty&&c.rootName!="$graveyard"&&i.schema.checkChild(c,"paragraph"))return t.insertElement("paragraph",c),!0}}catch(u){o.e(u)}finally{o.f()}}}],[{key:"pluginName",get:function(){return"Paragraph"}}]),e}(ut);function If(a,r,e){var n=e.writer.createElement("paragraph");return e.writer.insert(n,r),e.convertItem(a,e.writer.createPositionAt(n,0))}function jf(a,r,e){var n=e.createContext(r);return!!e.checkChild(n,"paragraph")&&!!e.checkChild(n.push("paragraph"),a)}function Up(a){var r=[];return(!a.previousSibling||function(e){return e.previousSibling&&Vi(e.previousSibling)}(a))&&r.push("before"),(function(e){return!e.nextSibling}(a)||function(e){return e.nextSibling&&Vi(e.nextSibling)}(a))&&r.push("after"),r}us.paragraphLikeElements=new Set(["blockquote","dd","div","dt","h1","h2","h3","h4","h5","h6","li","p","td"]),L(49);var Rf=["before","after"],Wp=new DOMParser().parseFromString(`<svg viewBox="0 0 10 8" xmlns="http://www.w3.org/2000/svg"><polyline points="8.05541992 0.263427734 8.05541992 4.23461914 1.28417969 4.23461914" transform="translate(1,0)"></polyline><line x1="0" y1="4.21581031" x2="2" y2="2.17810059" transform="translate(1, 0)"></line><line x1="0" y1="6.21581031" x2="2" y2="4.17810059" transform="translate(2, 5.196955) scale(1, -1) translate(-1, -5.196955)"></line></svg>
`,"image/svg+xml").firstChild,Hp=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t._widgetsWithTypeAroundUI=new Set,t}return _(e,[{key:"destroy",value:function(){this._widgetsWithTypeAroundUI.clear()}},{key:"init",value:function(){this._enableTypeAroundUIInjection(),this._enableDetectionOfTypeAroundWidgets(),this._enableInsertingParagraphsOnButtonClick()}},{key:"_insertParagraph",value:function(t,i){var o=this.editor,s=o.editing.view,l=o.editing.mapper.toModelElement(t),c;c=i==="before"?o.model.createPositionBefore(l):o.model.createPositionAfter(l),o.execute("insertParagraph",{position:c}),s.focus(),s.scrollToTheSelection()}},{key:"_enableTypeAroundUIInjection",value:function(){var t=this,i=this.editor,o=i.model.schema,s=i.locale.t,l={before:s("Insert paragraph before block"),after:s("Insert paragraph after block")};i.editing.downcastDispatcher.on("insert",function(c,u,d){var h=d.mapper.toViewElement(u.item);(function(v,m,k){return v&&Vi(v)&&!k.isInline(m)})(h,u.item,o)&&(function(v,m,k){var E=v.createUIElement("div",{class:"ck ck-reset_all ck-widget__type-around"},function(P){var U=this.toDomElement(P);return function(H,G){var Z=p(Rf),ce;try{for(Z.s();!(ce=Z.n()).done;){var ye=ce.value,ke=new Mi({tag:"div",attributes:{class:["ck","ck-widget__type-around__button","ck-widget__type-around__button_"+ye],title:G[ye]},children:[H.ownerDocument.importNode(Wp,!0)]});H.appendChild(ke.render())}}catch(Re){Z.e(Re)}finally{Z.f()}}(U,m),U});v.insert(v.createPositionAt(k,"end"),E)}(d.writer,l,h),t._widgetsWithTypeAroundUI.add(h))},{priority:"low"})}},{key:"_enableDetectionOfTypeAroundWidgets",value:function(){var t=this;function i(o){return"ck-widget_can-type-around_"+o}this.editor.editing.view.document.registerPostFixer(function(o){var s=p(t._widgetsWithTypeAroundUI),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;if(c.isAttached()){var u=Up(c);o.removeClass(Rf.map(i),c),o.addClass(u.map(i),c)}else t._widgetsWithTypeAroundUI.delete(c)}}catch(d){s.e(d)}finally{s.f()}})}},{key:"_enableInsertingParagraphsOnButtonClick",value:function(){var t=this,i=this.editor.editing.view;i.document.on("mousedown",function(o,s){var l=s.domTarget.closest(".ck-widget__type-around__button");if(!!l){var c=function(d){return d.classList.contains("ck-widget__type-around__button_before")?"before":"after"}(l),u=function(d,h){var v=d.closest(".ck-widget");return h.mapDomToView(v)}(l,i.domConverter);t._insertParagraph(u,c),s.preventDefault(),o.stop()}})}}],[{key:"requires",get:function(){return[us]}},{key:"pluginName",get:function(){return"WidgetTypeAround"}}]),e}(ut);L(51);var Uc=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this,i=this.editor.editing.view,o=i.document;this._previouslySelected=new Set,this.editor.editing.downcastDispatcher.on("selection",function(s,l,c){t._clearPreviouslySelectedWidgets(c.writer);var u=c.writer,d=u.document.selection,h=d.getSelectedElement(),v=null,m=p(d.getRanges()),k;try{for(m.s();!(k=m.n()).done;){var E=k.value,P=p(E),U;try{for(P.s();!(U=P.n()).done;){var H=U.value,G=H.item;Vi(G)&&!Kp(G,v)&&(u.addClass("ck-widget_selected",G),t._previouslySelected.add(G),v=G,G==h&&u.setSelection(d.getRanges(),{fake:!0,label:vp(h)}))}}catch(Z){P.e(Z)}finally{P.f()}}}catch(Z){m.e(Z)}finally{m.f()}},{priority:"low"}),i.addObserver(Bp),this.listenTo(o,"mousedown",function(){return t._onMousedown.apply(t,arguments)}),this.listenTo(o,"keydown",function(){return t._onKeydown.apply(t,arguments)},{priority:"high"}),this.listenTo(o,"delete",function(s,l){t._handleDelete(l.direction=="forward")&&(l.preventDefault(),s.stop())},{priority:"high"})}},{key:"_onMousedown",value:function(t,i){var o=this.editor,s=o.editing.view,l=s.document,c=i.target;if(function(h){for(;h;){if(h.is("editableElement")&&!h.is("rootElement"))return!0;if(Vi(h))return!1;h=h.parent}return!1}(c)){if(ti.isSafari&&i.domEvent.detail>=3){var u=o.editing.mapper.toModelElement(c);this.editor.model.change(function(h){i.preventDefault(),h.setSelection(u,"in")})}return}if(!(!Vi(c)&&(c=c.findAncestor(Vi),!c))){i.preventDefault(),l.isFocused||s.focus();var d=o.editing.mapper.toModelElement(c);this._setSelectionOverElement(d)}}},{key:"_onKeydown",value:function(t,i){var o=i.keyCode,s=this.editor.locale.contentLanguageDirection==="ltr",l=o==an.arrowdown||o==an[s?"arrowright":"arrowleft"],c=!1;(function(u){return u==an.arrowright||u==an.arrowleft||u==an.arrowup||u==an.arrowdown})(o)?c=this._handleArrowKeys(l):o===an.enter&&(c=this._handleEnterKey(i.shiftKey)),c&&(i.preventDefault(),t.stop())}},{key:"_handleDelete",value:function(t){var i=this;if(!this.editor.isReadOnly){var o=this.editor.model.document.selection;if(!!o.isCollapsed){var s=this._getObjectElementNextToSelection(t);return s?(this.editor.model.change(function(l){for(var c=o.anchor.parent;c.isEmpty;){var u=c;c=u.parent,l.remove(u)}i._setSelectionOverElement(s)}),!0):void 0}}}},{key:"_handleArrowKeys",value:function(t){var i=this.editor.model,o=i.schema,s=i.document.selection,l=s.getSelectedElement();if(l&&o.isObject(l)){var c=t?s.getLastPosition():s.getFirstPosition(),u=o.getNearestSelectionRange(c,t?"forward":"backward");return u&&i.change(function(h){h.setSelection(u)}),!0}if(!!s.isCollapsed){var d=this._getObjectElementNextToSelection(t);return d&&o.isObject(d)?(this._setSelectionOverElement(d),!0):void 0}}},{key:"_handleEnterKey",value:function(t){var i=this.editor.model,o=i.document.selection.getSelectedElement();if(s=o,l=i.schema,s&&l.isObject(s)&&!l.isInline(s))return i.change(function(c){var u=c.createPositionAt(o,t?"before":"after"),d=c.createElement("paragraph");if(i.schema.isBlock(o.parent)){var h=i.schema.findAllowedParent(u,d);u=c.split(u,h).position}c.insert(d,u),c.setSelection(d,"in")}),!0;var s,l}},{key:"_setSelectionOverElement",value:function(t){this.editor.model.change(function(i){i.setSelection(i.createRangeOn(t))})}},{key:"_getObjectElementNextToSelection",value:function(t){var i=this.editor.model,o=i.schema,s=i.document.selection,l=i.createSelection(s);i.modifySelection(l,{direction:t?"forward":"backward"});var c=t?l.focus.nodeBefore:l.focus.nodeAfter;return c&&o.isObject(c)?c:null}},{key:"_clearPreviouslySelectedWidgets",value:function(t){var i=p(this._previouslySelected),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;t.removeClass("ck-widget_selected",s)}}catch(l){i.e(l)}finally{i.f()}this._previouslySelected.clear()}}],[{key:"pluginName",get:function(){return"Widget"}},{key:"requires",get:function(){return[Hp]}}]),e}(ut);function Kp(a,r){return!!r&&Array.from(a.getAncestors()).includes(r)}var Gp=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"refresh",value:function(){var t=this.editor.model.document.selection.getSelectedElement();this.isEnabled=al(t),al(t)&&t.hasAttribute("alt")?this.value=t.getAttribute("alt"):this.value=!1}},{key:"execute",value:function(t){var i=this.editor.model,o=i.document.selection.getSelectedElement();i.change(function(s){s.setAttribute("alt",t.newValue,o)})}}]),e}(jn),Yp=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){this.editor.commands.add("imageTextAlternative",new Gp(this.editor))}}],[{key:"pluginName",get:function(){return"ImageTextAlternativeEditing"}}]),e}(ut);L(53);var Wc=function(a){O(e,a);var r=D(e);function e(n,t){var i;w(this,e),i=r.call(this,n);var o="ck-labeled-field-view-"+Yr(),s="ck-labeled-field-view-status-"+Yr();i.fieldView=t(j(i),o,s),i.set("label"),i.set("isEnabled",!0),i.set("errorText",null),i.set("infoText",null),i.set("class"),i.labelView=i._createLabelView(o),i.statusView=i._createStatusView(s),i.bind("_statusText").to(j(i),"errorText",j(i),"infoText",function(c,u){return c||u});var l=i.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view",l.to("class"),l.if("isEnabled","ck-disabled",function(c){return!c})]},children:[i.labelView,i.fieldView,i.statusView]}),i}return _(e,[{key:"_createLabelView",value:function(t){var i=new bd(this.locale);return i.for=t,i.bind("text").to(this,"label"),i}},{key:"_createStatusView",value:function(t){var i=new Tn(this.locale),o=this.bindTemplate;return i.setTemplate({tag:"div",attributes:{class:["ck","ck-labeled-field-view__status",o.if("errorText","ck-labeled-field-view__status_error"),o.if("_statusText","ck-hidden",function(s){return!s})],id:t,role:o.if("errorText","alert")},children:[{text:o.to("_statusText")}]}),i}},{key:"focus",value:function(){this.fieldView.focus()}}]),e}(Tn);L(55);var $p=function(a){O(e,a);var r=D(e);function e(n){var t;w(this,e),t=r.call(this,n),t.set("value"),t.set("id"),t.set("placeholder"),t.set("isReadOnly",!1),t.set("hasError",!1),t.set("ariaDescribedById");var i=t.bindTemplate;return t.setTemplate({tag:"input",attributes:{type:"text",class:["ck","ck-input","ck-input-text",i.if("hasError","ck-error")],id:i.to("id"),placeholder:i.to("placeholder"),readonly:i.to("isReadOnly"),"aria-invalid":i.if("hasError",!0),"aria-describedby":i.to("ariaDescribedById")},on:{input:i.to("input")}}),t}return _(e,[{key:"render",value:function(){var t=this;b(x(e.prototype),"render",this).call(this);var i=function(s){t.element.value=s||s===0?s:""};i(this.value),this.on("change:value",function(o,s,l){i(l)})}},{key:"select",value:function(){this.element.select()}},{key:"focus",value:function(){this.element.focus()}}]),e}(Tn);function Hc(a,r,e){var n=new $p(a.locale);return n.set({id:r,ariaDescribedById:e}),n.bind("isReadOnly").to(a,"isEnabled",function(t){return!t}),n.bind("hasError").to(a,"errorText",function(t){return!!t}),n.on("input",function(){a.errorText=null}),n}function Kc(a){var r=a.view;r.listenTo(r.element,"submit",function(e,n){n.preventDefault(),r.fire("submit")},{useCapture:!0})}var Gc='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.972 16.615a.997.997 0 0 1-.744-.292l-4.596-4.596a1 1 0 1 1 1.414-1.414l3.926 3.926 9.937-9.937a1 1 0 0 1 1.414 1.415L7.717 16.323a.997.997 0 0 1-.745.292z"/></svg>',Yc='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.591 10.177l4.243 4.242a1 1 0 0 1-1.415 1.415l-4.242-4.243-4.243 4.243a1 1 0 0 1-1.414-1.415l4.243-4.242L4.52 5.934A1 1 0 0 1 5.934 4.52l4.243 4.243 4.242-4.243a1 1 0 1 1 1.415 1.414l-4.243 4.243z"/></svg>';L(57);var Jp=function(a){O(e,a);var r=D(e);function e(n){var t;w(this,e),t=r.call(this,n);var i=t.locale.t;return t.focusTracker=new Si,t.keystrokes=new ta,t.labeledInput=t._createLabeledInputView(),t.saveButtonView=t._createButton(i("Save"),Gc,"ck-button-save"),t.saveButtonView.type="submit",t.cancelButtonView=t._createButton(i("Cancel"),Yc,"ck-button-cancel","cancel"),t._focusables=new ja,t._focusCycler=new go({focusables:t._focusables,focusTracker:t.focusTracker,keystrokeHandler:t.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),t.setTemplate({tag:"form",attributes:{class:["ck","ck-text-alternative-form"],tabindex:"-1"},children:[t.labeledInput,t.saveButtonView,t.cancelButtonView]}),t}return _(e,[{key:"render",value:function(){var t=this;b(x(e.prototype),"render",this).call(this),this.keystrokes.listenTo(this.element),Kc({view:this}),[this.labeledInput,this.saveButtonView,this.cancelButtonView].forEach(function(i){t._focusables.add(i),t.focusTracker.add(i.element)})}},{key:"_createButton",value:function(t,i,o,s){var l=new hr(this.locale);return l.set({label:t,icon:i,tooltip:!0}),l.extendTemplate({attributes:{class:o}}),s&&l.delegate("execute").to(this,s),l}},{key:"_createLabeledInputView",value:function(){var t=this.locale.t,i=new Wc(this.locale,Hc);return i.label=t("Text alternative"),i.fieldView.placeholder=t("Text alternative"),i}}]),e}(Tn);L(59),L(61);var ol=gc("px"),ko=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.positionLimiter=function(){var i=t.editor.editing.view,o=i.document.selection.editableElement;return o?i.domConverter.mapViewToDom(o.root):null},t.set("visibleView",null),t.view=new Fn(n.locale),n.ui.view.body.add(t.view),n.ui.focusTracker.add(t.view.element),t._viewToStack=new Map,t._idToStack=new Map,t.set("_numberOfStacks",0),t.set("_singleViewMode",!1),t._rotatorView=t._createRotatorView(),t._fakePanelsView=t._createFakePanelsView(),t}return _(e,[{key:"hasView",value:function(t){return Array.from(this._viewToStack.keys()).includes(t)}},{key:"add",value:function(t){if(this.hasView(t.view))throw new le.b("contextualballoon-add-view-exist: Cannot add configuration of the same view twice.",[this,t]);var i=t.stackId||"main";if(!this._idToStack.has(i))return this._idToStack.set(i,new Map([[t.view,t]])),this._viewToStack.set(t.view,this._idToStack.get(i)),this._numberOfStacks=this._idToStack.size,void(this._visibleStack&&!t.singleViewMode||this.showStack(i));var o=this._idToStack.get(i);t.singleViewMode&&this.showStack(i),o.set(t.view,t),this._viewToStack.set(t.view,o),o===this._visibleStack&&this._showView(t)}},{key:"remove",value:function(t){if(!this.hasView(t))throw new le.b("contextualballoon-remove-view-not-exist: Cannot remove the configuration of a non-existent view.",[this,t]);var i=this._viewToStack.get(t);this._singleViewMode&&this.visibleView===t&&(this._singleViewMode=!1),this.visibleView===t&&(i.size===1?this._idToStack.size>1?this._showNextStack():(this.view.hide(),this.visibleView=null,this._rotatorView.hideView()):this._showView(Array.from(i.values())[i.size-2])),i.size===1?(this._idToStack.delete(this._getStackId(i)),this._numberOfStacks=this._idToStack.size):i.delete(t),this._viewToStack.delete(t)}},{key:"updatePosition",value:function(t){t&&(this._visibleStack.get(this.visibleView).position=t),this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition()}},{key:"showStack",value:function(t){this.visibleStack=t;var i=this._idToStack.get(t);if(!i)throw new le.b("contextualballoon-showstack-stack-not-exist: Cannot show a stack that does not exist.",this);this._visibleStack!==i&&this._showView(Array.from(i.values()).pop())}},{key:"_visibleStack",get:function(){return this._viewToStack.get(this.visibleView)}},{key:"_getStackId",value:function(t){return Array.from(this._idToStack.entries()).find(function(i){return i[1]===t})[0]}},{key:"_showNextStack",value:function(){var t=Array.from(this._idToStack.values()),i=t.indexOf(this._visibleStack)+1;t[i]||(i=0),this.showStack(this._getStackId(t[i]))}},{key:"_showPrevStack",value:function(){var t=Array.from(this._idToStack.values()),i=t.indexOf(this._visibleStack)-1;t[i]||(i=t.length-1),this.showStack(this._getStackId(t[i]))}},{key:"_createRotatorView",value:function(){var t=this,i=new Qp(this.editor.locale),o=this.editor.locale.t;return this.view.content.add(i),i.bind("isNavigationVisible").to(this,"_numberOfStacks",this,"_singleViewMode",function(s,l){return!l&&s>1}),i.on("change:isNavigationVisible",function(){return t.updatePosition()},{priority:"low"}),i.bind("counter").to(this,"visibleView",this,"_numberOfStacks",function(s,l){if(l<2)return"";var c=Array.from(t._idToStack.values()).indexOf(t._visibleStack)+1;return o("%0 of %1",[c,l])}),i.buttonNextView.on("execute",function(){i.focusTracker.isFocused&&t.editor.editing.view.focus(),t._showNextStack()}),i.buttonPrevView.on("execute",function(){i.focusTracker.isFocused&&t.editor.editing.view.focus(),t._showPrevStack()}),i}},{key:"_createFakePanelsView",value:function(){var t=new Zp(this.editor.locale,this.view);return t.bind("numberOfPanels").to(this,"_numberOfStacks",this,"_singleViewMode",function(i,o){return!o&&i>=2?Math.min(i-1,2):0}),t.listenTo(this.view,"change:top",function(){return t.updatePosition()}),t.listenTo(this.view,"change:left",function(){return t.updatePosition()}),this.editor.ui.view.body.add(t),t}},{key:"_showView",value:function(t){var i=t.view,o=t.balloonClassName,s=o===void 0?"":o,l=t.withArrow,c=l===void 0?!0:l,u=t.singleViewMode,d=u===void 0?!1:u;this.view.class=s,this.view.withArrow=c,this._rotatorView.showView(i),this.visibleView=i,this.view.pin(this._getBalloonPosition()),this._fakePanelsView.updatePosition(),d&&(this._singleViewMode=!0)}},{key:"_getBalloonPosition",value:function(){var t=Array.from(this._visibleStack.values()).pop().position;return t&&!t.limiter&&(t=Object.assign({},t,{limiter:this.positionLimiter})),t}}],[{key:"pluginName",get:function(){return"ContextualBalloon"}}]),e}(ut),Qp=function(a){O(e,a);var r=D(e);function e(n){var t;w(this,e),t=r.call(this,n);var i=n.t,o=t.bindTemplate;return t.set("isNavigationVisible",!0),t.focusTracker=new Si,t.buttonPrevView=t._createButtonView(i("Previous"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.463 5.187a.888.888 0 1 1 1.254 1.255L9.16 10l3.557 3.557a.888.888 0 1 1-1.254 1.255L7.26 10.61a.888.888 0 0 1 .16-1.382l4.043-4.042z"/></svg>'),t.buttonNextView=t._createButtonView(i("Next"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M8.537 14.813a.888.888 0 1 1-1.254-1.255L10.84 10 7.283 6.442a.888.888 0 1 1 1.254-1.255L12.74 9.39a.888.888 0 0 1-.16 1.382l-4.043 4.042z"/></svg>'),t.content=t.createCollection(),t.setTemplate({tag:"div",attributes:{class:["ck","ck-balloon-rotator"],"z-index":"-1"},children:[{tag:"div",attributes:{class:["ck-balloon-rotator__navigation",o.to("isNavigationVisible",function(s){return s?"":"ck-hidden"})]},children:[t.buttonPrevView,{tag:"span",attributes:{class:["ck-balloon-rotator__counter"]},children:[{text:o.to("counter")}]},t.buttonNextView]},{tag:"div",attributes:{class:"ck-balloon-rotator__content"},children:t.content}]}),t}return _(e,[{key:"render",value:function(){b(x(e.prototype),"render",this).call(this),this.focusTracker.add(this.element)}},{key:"showView",value:function(t){this.hideView(),this.content.add(t)}},{key:"hideView",value:function(){this.content.clear()}},{key:"_createButtonView",value:function(t,i){var o=new hr(this.locale);return o.set({label:t,icon:i,tooltip:!0}),o}}]),e}(Tn),Zp=function(a){O(e,a);var r=D(e);function e(n,t){var i;w(this,e),i=r.call(this,n);var o=i.bindTemplate;return i.set("top",0),i.set("left",0),i.set("height",0),i.set("width",0),i.set("numberOfPanels",0),i.content=i.createCollection(),i._balloonPanelView=t,i.setTemplate({tag:"div",attributes:{class:["ck-fake-panel",o.to("numberOfPanels",function(s){return s?"":"ck-hidden"})],style:{top:o.to("top",ol),left:o.to("left",ol),width:o.to("width",ol),height:o.to("height",ol)}},children:i.content}),i.on("change:numberOfPanels",function(s,l,c,u){c>u?i._addPanels(c-u):i._removePanels(u-c),i.updatePosition()}),i}return _(e,[{key:"_addPanels",value:function(t){for(;t--;){var i=new Tn;i.setTemplate({tag:"div"}),this.content.add(i),this.registerChild(i)}}},{key:"_removePanels",value:function(t){for(;t--;){var i=this.content.last;this.content.remove(i),this.deregisterChild(i),i.destroy()}}},{key:"updatePosition",value:function(){if(this.numberOfPanels){var t=this._balloonPanelView,i=t.top,o=t.left,s=new Mr(this._balloonPanelView.element),l=s.width,c=s.height;Object.assign(this,{top:i,left:o,width:l,height:c})}}}]),e}(Tn);function Df(a){var r=a.editing.view,e=Fn.defaultPositions;return{target:r.domConverter.viewToDom(r.document.selection.getSelectedElement()),positions:[e.northArrowSouth,e.northArrowSouthWest,e.northArrowSouthEast,e.southArrowNorth,e.southArrowNorthWest,e.southArrowNorthEast]}}var Xp=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){this._createButton(),this._createForm()}},{key:"destroy",value:function(){b(x(e.prototype),"destroy",this).call(this),this._form.destroy()}},{key:"_createButton",value:function(){var t=this,i=this.editor,o=i.t;i.ui.componentFactory.add("imageTextAlternative",function(s){var l=i.commands.get("imageTextAlternative"),c=new hr(s);return c.set({label:o("Change image text alternative"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M5.085 6.22L2.943 4.078a.75.75 0 1 1 1.06-1.06l2.592 2.59A11.094 11.094 0 0 1 10 5.068c4.738 0 8.578 3.101 8.578 5.083 0 1.197-1.401 2.803-3.555 3.887l1.714 1.713a.75.75 0 0 1-.09 1.138.488.488 0 0 1-.15.084.75.75 0 0 1-.821-.16L6.17 7.304c-.258.11-.51.233-.757.365l6.239 6.24-.006.005.78.78c-.388.094-.78.166-1.174.215l-1.11-1.11h.011L4.55 8.197a7.2 7.2 0 0 0-.665.514l-.112.098 4.897 4.897-.005.006 1.276 1.276a10.164 10.164 0 0 1-1.477-.117l-.479-.479-.009.009-4.863-4.863-.022.031a2.563 2.563 0 0 0-.124.2c-.043.077-.08.158-.108.241a.534.534 0 0 0-.028.133.29.29 0 0 0 .008.072.927.927 0 0 0 .082.226c.067.133.145.26.234.379l3.242 3.365.025.01.59.623c-3.265-.918-5.59-3.155-5.59-4.668 0-1.194 1.448-2.838 3.663-3.93zm7.07.531a4.632 4.632 0 0 1 1.108 5.992l.345.344.046-.018a9.313 9.313 0 0 0 2-1.112c.256-.187.5-.392.727-.613.137-.134.27-.277.392-.431.072-.091.141-.185.203-.286.057-.093.107-.19.148-.292a.72.72 0 0 0 .036-.12.29.29 0 0 0 .008-.072.492.492 0 0 0-.028-.133.999.999 0 0 0-.036-.096 2.165 2.165 0 0 0-.071-.145 2.917 2.917 0 0 0-.125-.2 3.592 3.592 0 0 0-.263-.335 5.444 5.444 0 0 0-.53-.523 7.955 7.955 0 0 0-1.054-.768 9.766 9.766 0 0 0-1.879-.891c-.337-.118-.68-.219-1.027-.301zm-2.85.21l-.069.002a.508.508 0 0 0-.254.097.496.496 0 0 0-.104.679.498.498 0 0 0 .326.199l.045.005c.091.003.181.003.272.012a2.45 2.45 0 0 1 2.017 1.513c.024.061.043.125.069.185a.494.494 0 0 0 .45.287h.008a.496.496 0 0 0 .35-.158.482.482 0 0 0 .13-.335.638.638 0 0 0-.048-.219 3.379 3.379 0 0 0-.36-.723 3.438 3.438 0 0 0-2.791-1.543l-.028-.001h-.013z"/></svg>',tooltip:!0}),c.bind("isEnabled").to(l,"isEnabled"),t.listenTo(c,"execute",function(){t._showForm()}),c})}},{key:"_createForm",value:function(){var t=this,i=this.editor,o=i.editing.view.document;this._balloon=this.editor.plugins.get("ContextualBalloon"),this._form=new Jp(i.locale),this._form.render(),this.listenTo(this._form,"submit",function(){i.execute("imageTextAlternative",{newValue:t._form.labeledInput.fieldView.element.value}),t._hideForm(!0)}),this.listenTo(this._form,"cancel",function(){t._hideForm(!0)}),this._form.keystrokes.set("Esc",function(s,l){t._hideForm(!0),l()}),this.listenTo(i.ui,"update",function(){Ic(o.selection)?t._isVisible&&function(s){var l=s.plugins.get("ContextualBalloon");if(Ic(s.editing.view.document.selection)){var c=Df(s);l.updatePosition(c)}}(i):t._hideForm(!0)}),qs({emitter:this._form,activator:function(){return t._isVisible},contextElements:[this._balloon.view.element],callback:function(){return t._hideForm()}})}},{key:"_showForm",value:function(){if(!this._isVisible){var t=this.editor,i=t.commands.get("imageTextAlternative"),o=this._form.labeledInput;this._isInBalloon||this._balloon.add({view:this._form,position:Df(t)}),o.fieldView.value=o.fieldView.element.value=i.value||"",this._form.labeledInput.fieldView.select()}}},{key:"_hideForm",value:function(t){this._isInBalloon&&(this._form.focusTracker.isFocused&&this._form.saveButtonView.focus(),this._balloon.remove(this._form),t&&this.editor.editing.view.focus())}},{key:"_isVisible",get:function(){return this._balloon.visibleView===this._form}},{key:"_isInBalloon",get:function(){return this._balloon.hasView(this._form)}}],[{key:"requires",get:function(){return[ko]}},{key:"pluginName",get:function(){return"ImageTextAlternativeUI"}}]),e}(ut),qp=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"requires",get:function(){return[Yp,Xp]}},{key:"pluginName",get:function(){return"ImageTextAlternative"}}]),e}(ut);L(63);var Nf=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"requires",get:function(){return[ff,Uc,qp]}},{key:"pluginName",get:function(){return"Image"}}]),e}(ut),em=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.buttonView=new hr(n),t._fileInputView=new tm(n),t._fileInputView.bind("acceptedType").to(j(t)),t._fileInputView.bind("allowMultipleFiles").to(j(t)),t._fileInputView.delegate("done").to(j(t)),t.setTemplate({tag:"span",attributes:{class:"ck-file-dialog-button"},children:[t.buttonView,t._fileInputView]}),t.buttonView.on("execute",function(){t._fileInputView.open()}),t}return _(e,[{key:"focus",value:function(){this.buttonView.focus()}}]),e}(Tn),tm=function(a){O(e,a);var r=D(e);function e(n){var t;w(this,e),t=r.call(this,n),t.set("acceptedType"),t.set("allowMultipleFiles",!1);var i=t.bindTemplate;return t.setTemplate({tag:"input",attributes:{class:["ck-hidden"],type:"file",tabindex:"-1",accept:i.to("acceptedType"),multiple:i.to("allowMultipleFiles")},on:{change:i.to(function(){t.element&&t.element.files&&t.element.files.length&&t.fire("done",t.element.files),t.element.value=""})}}),t}return _(e,[{key:"open",value:function(){this.element.click()}}]),e}(Tn);function Ff(a){var r=a.map(function(e){return e.replace("+","\\+")});return new RegExp("^image\\/(".concat(r.join("|"),")$"))}var nm=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor,i=t.t;t.ui.componentFactory.add("imageUpload",function(o){var s=new em(o),l=t.commands.get("imageUpload"),c=t.config.get("image.upload.types"),u=Ff(c);return s.set({acceptedType:c.map(function(d){return"image/"+d}).join(","),allowMultipleFiles:!0}),s.buttonView.set({label:i("Insert image"),icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M6.91 10.54c.26-.23.64-.21.88.03l3.36 3.14 2.23-2.06a.64.64 0 0 1 .87 0l2.52 2.97V4.5H3.2v10.12l3.71-4.08zm10.27-7.51c.6 0 1.09.47 1.09 1.05v11.84c0 .59-.49 1.06-1.09 1.06H2.79c-.6 0-1.09-.47-1.09-1.06V4.08c0-.58.49-1.05 1.1-1.05h14.38zm-5.22 5.56a1.96 1.96 0 1 1 3.4-1.96 1.96 1.96 0 0 1-3.4 1.96z"/></svg>',tooltip:!0}),s.buttonView.bind("isEnabled").to(l),s.on("done",function(d,h){var v=Array.from(h).filter(function(m){return u.test(m.type)});v.length&&t.execute("imageUpload",{file:v})}),s})}}]),e}(ut);L(65),L(67),L(69);var rm=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.placeholder="data:image/svg+xml;utf8,"+encodeURIComponent('<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 700 250"><rect rx="4"/></svg>'),t}return _(e,[{key:"init",value:function(){var t=this;this.editor.editing.downcastDispatcher.on("attribute:uploadStatus:image",function(){return t.uploadStatusChange.apply(t,arguments)})}},{key:"uploadStatusChange",value:function(t,i,o){var s=this.editor,l=i.item,c=l.getAttribute("uploadId");if(!!o.consumable.consume(i.item,t.name)){var u=s.plugins.get(bi),d=c?i.attributeNewValue:null,h=this.placeholder,v=s.editing.mapper.toViewElement(l),m=o.writer;if(d=="reading")return Lf(v,m),void Bf(h,v,m);if(d=="uploading"){var k=u.loaders.get(c);return Lf(v,m),void(k?(Vf(v,m),function(E,P,U,H){var G=function(Z){var ce=Z.createUIElement("div",{class:"ck-progress-bar"});return Z.setCustomProperty("progressBar",!0,ce),ce}(P);P.insert(P.createPositionAt(E,"end"),G),U.on("change:uploadedPercent",function(Z,ce,ye){H.change(function(ke){ke.setStyle("width",ye+"%",G)})})}(v,m,k,s.editing.view),function(E,P,U){if(U.data){var H=Ra(E);P.setAttribute("src",U.data,H)}}(v,m,k)):Bf(h,v,m))}d=="complete"&&u.loaders.get(c)&&function(E,P,U){var H=P.createUIElement("div",{class:"ck-image-upload-complete-icon"});P.insert(P.createPositionAt(E,"end"),H),setTimeout(function(){U.change(function(G){return G.remove(G.createRangeOn(H))})},3e3)}(v,m,s.editing.view),function(E,P){Uf(E,P,"progressBar")}(v,m),Vf(v,m),function(E,P){P.removeClass("ck-appear",E)}(v,m)}}}]),e}(ut);function Lf(a,r){a.hasClass("ck-appear")||r.addClass("ck-appear",a)}function Bf(a,r,e){r.hasClass("ck-image-upload-placeholder")||e.addClass("ck-image-upload-placeholder",r);var n=Ra(r);n.getAttribute("src")!==a&&e.setAttribute("src",a,n),zf(r,"placeholder")||e.insert(e.createPositionAfter(n),function(t){var i=t.createUIElement("div",{class:"ck-upload-placeholder-loader"});return t.setCustomProperty("placeholder",!0,i),i}(e))}function Vf(a,r){a.hasClass("ck-image-upload-placeholder")&&r.removeClass("ck-image-upload-placeholder",a),Uf(a,r,"placeholder")}function zf(a,r){var e=p(a.getChildren()),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;if(t.getCustomProperty(r))return t}}catch(i){e.e(i)}finally{e.f()}}function Uf(a,r,e){var n=zf(a,e);n&&r.remove(r.createRangeOn(n))}var sl=function(){function a(r){w(this,a),this.document=r}return _(a,[{key:"createDocumentFragment",value:function(e){return new Oa(this.document,e)}},{key:"createElement",value:function(e,n,t){return new Ci(this.document,e,n,t)}},{key:"createText",value:function(e){return new Ue(this.document,e)}},{key:"clone",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return e._clone(n)}},{key:"appendChild",value:function(e,n){return n._appendChild(e)}},{key:"insertChild",value:function(e,n,t){return t._insertChild(e,n)}},{key:"removeChildren",value:function(e,n,t){return t._removeChildren(e,n)}},{key:"remove",value:function(e){var n=e.parent;return n?this.removeChildren(n.getChildIndex(e),1,n):[]}},{key:"replace",value:function(e,n){var t=e.parent;if(t){var i=t.getChildIndex(e);return this.removeChildren(i,1,t),this.insertChild(i,n,t),!0}return!1}},{key:"unwrapElement",value:function(e){var n=e.parent;if(n){var t=n.getChildIndex(e);this.remove(e),this.insertChild(t,e.getChildren(),n)}}},{key:"rename",value:function(e,n){var t=new Ci(this.document,e,n.getAttributes(),n.getChildren());return this.replace(n,t)?t:null}},{key:"setAttribute",value:function(e,n,t){t._setAttribute(e,n)}},{key:"removeAttribute",value:function(e,n){n._removeAttribute(e)}},{key:"addClass",value:function(e,n){n._addClass(e)}},{key:"removeClass",value:function(e,n){n._removeClass(e)}},{key:"setStyle",value:function(e,n,t){ge(e)&&t===void 0&&(t=n),t._setStyle(e,n)}},{key:"removeStyle",value:function(e,n){n._removeStyle(e)}},{key:"setCustomProperty",value:function(e,n,t){t._setCustomProperty(e,n)}},{key:"removeCustomProperty",value:function(e,n){return n._removeCustomProperty(e)}},{key:"createPositionAt",value:function(e,n){return bt._createAt(e,n)}},{key:"createPositionAfter",value:function(e){return bt._createAfter(e)}},{key:"createPositionBefore",value:function(e){return bt._createBefore(e)}},{key:"createRange",value:function(e,n){return new Cn(e,n)}},{key:"createRangeOn",value:function(e){return Cn._createOn(e)}},{key:"createRangeIn",value:function(e){return Cn._createIn(e)}},{key:"createSelection",value:function(e,n,t){return new Oi(e,n,t)}}]),a}(),im=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"refresh",value:function(){this.isEnabled=uf(this.editor.model)}},{key:"execute",value:function(t){var i=this.editor,o=i.model,s=i.plugins.get(bi);o.change(function(l){var c=Array.isArray(t.file)?t.file:[t.file],u=p(c),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;am(l,o,s,h)}}catch(v){u.e(v)}finally{u.f()}})}}]),e}(jn);function am(a,r,e,n){var t=e.createLoader(n);t&&cf(a,r,{uploadId:t.id})}var om=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),n.config.define("image",{upload:{types:["jpeg","png","gif","bmp","webp","tiff"]}}),t}return _(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.model.document,s=i.model.schema,l=i.conversion,c=i.plugins.get(bi),u=Ff(i.config.get("image.upload.types"));s.extend("image",{allowAttributes:["uploadId","uploadStatus"]}),i.commands.add("imageUpload",new im(i)),l.for("upcast").attributeToAttribute({view:{name:"img",key:"uploadId"},model:"uploadId"}),this.listenTo(i.editing.view.document,"clipboardInput",function(d,h){if(v=h.dataTransfer,!(Array.from(v.types).includes("text/html")&&v.getData("text/html")!=="")){var v,m=Array.from(h.dataTransfer.files).filter(function(E){return!!E&&u.test(E.type)}),k=h.targetRanges.map(function(E){return i.editing.mapper.toModelRange(E)});i.model.change(function(E){E.setSelection(k),m.length&&(d.stop(),i.model.enqueueChange("default",function(){i.execute("imageUpload",{file:m})}))})}}),this.listenTo(i.plugins.get(mo),"inputTransformation",function(d,h){var v=Array.from(i.editing.view.createRangeIn(h.content)).filter(function(H){return!(!(G=H.item).is("element","img")||!G.getAttribute("src"))&&(G.getAttribute("src").match(/^data:image\/\w+;base64,/g)||G.getAttribute("src").match(/^blob:/g))&&!H.item.getAttribute("uploadProcessed");var G}).map(function(H){return{promise:(G=H.item,new Promise(function(Z,ce){var ye=G.getAttribute("src");fetch(ye).then(function(ke){return ke.blob()}).then(function(ke){var Re=function(Bt,pt){return Bt.type?Bt.type:pt.match(/data:(image\/\w+);base64/)?pt.match(/data:(image\/\w+);base64/)[1].toLowerCase():"image/jpeg"}(ke,ye),Xe=Re.replace("image/",""),gt=new File([ke],"image."+Xe,{type:Re});Z(gt)}).catch(ce)})),imageElement:H.item};var G});if(!!v.length){var m=new sl(i.editing.view.document),k=p(v),E;try{for(k.s();!(E=k.n()).done;){var P=E.value;m.setAttribute("uploadProcessed",!0,P.imageElement);var U=c.createLoader(P.promise);U&&(m.setAttribute("src","",P.imageElement),m.setAttribute("uploadId",U.id,P.imageElement))}}catch(H){k.e(H)}finally{k.f()}}}),i.editing.view.document.on("dragover",function(d,h){h.preventDefault()}),o.on("change",function(){var d=o.differ.getChanges({includeChangesInGraveyard:!0}),h=p(d),v;try{for(h.s();!(v=h.n()).done;){var m=v.value;if(m.type=="insert"&&m.name!="$text"){var k=m.position.nodeAfter,E=m.position.root.rootName=="$graveyard",P=p(sm(i,k)),U;try{for(P.s();!(U=P.n()).done;){var H=U.value,G=H.getAttribute("uploadId");if(!!G){var Z=c.loaders.get(G);Z&&(E?Z.abort():Z.status=="idle"&&t._readAndUpload(Z,H))}}}catch(ce){P.e(ce)}finally{P.f()}}}}catch(ce){h.e(ce)}finally{h.f()}})}},{key:"_readAndUpload",value:function(t,i){var o=this,s=this.editor,l=s.model,c=s.locale.t,u=s.plugins.get(bi),d=s.plugins.get(Lc);return l.enqueueChange("transparent",function(v){v.setAttribute("uploadStatus","reading",i)}),t.read().then(function(){var v=t.upload();if(ti.isSafari){var m=Ra(s.editing.mapper.toViewElement(i));s.editing.view.once("render",function(){if(!!m.parent){var k=s.editing.view.domConverter.mapViewToDom(m.parent);if(!!k){var E=k.style.display;k.style.display="none",k._ckHack=k.offsetHeight,k.style.display=E}}})}return l.enqueueChange("transparent",function(k){k.setAttribute("uploadStatus","uploading",i)}),v}).then(function(v){l.enqueueChange("transparent",function(m){m.setAttributes({uploadStatus:"complete",src:v.default},i),o._parseAndSetSrcsetAttributeOnImage(v,i,m)}),h()}).catch(function(v){if(t.status!=="error"&&t.status!=="aborted")throw v;t.status=="error"&&v&&d.showWarning(v,{title:c("Upload failed"),namespace:"upload"}),h(),l.enqueueChange("transparent",function(m){m.remove(i)})});function h(){l.enqueueChange("transparent",function(v){v.removeAttribute("uploadId",i),v.removeAttribute("uploadStatus",i)}),u.destroyLoader(t)}}},{key:"_parseAndSetSrcsetAttributeOnImage",value:function(t,i,o){var s=0,l=Object.keys(t).filter(function(c){var u=parseInt(c,10);if(!isNaN(u))return s=Math.max(s,u),!0}).map(function(c){return"".concat(t[c]," ").concat(c,"w")}).join(", ");l!=""&&o.setAttribute("srcset",{data:l,width:s},i)}}],[{key:"requires",get:function(){return[bi,Lc,mo]}},{key:"pluginName",get:function(){return"ImageUploadEditing"}}]),e}(ut);function sm(a,r){return Array.from(a.model.createRangeOn(r)).filter(function(e){return e.item.is("image")}).map(function(e){return e.item})}var Wf=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"pluginName",get:function(){return"ImageUpload"}},{key:"requires",get:function(){return[om,nm,rm]}}]),e}(ut),lm=function(a){O(e,a);var r=D(e);function e(n,t){var i;return w(this,e),i=r.call(this,n),i.modelElements=t,i}return _(e,[{key:"refresh",value:function(){var t=this,i=Bi(this.editor.model.document.selection.getSelectedBlocks());this.value=!!i&&this.modelElements.includes(i.name)&&i.name,this.isEnabled=!!i&&this.modelElements.some(function(o){return Hf(i,o,t.editor.model.schema)})}},{key:"execute",value:function(t){var i=this.editor.model,o=i.document,s=t.value;i.change(function(l){var c=Array.from(o.selection.getSelectedBlocks()).filter(function(v){return Hf(v,s,i.schema)}),u=p(c),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;h.is(s)||l.rename(h,s)}}catch(v){u.e(v)}finally{u.f()}})}}]),e}(jn);function Hf(a,r,e){return e.checkChild(a.parent,r)&&!e.isObject(a)}var cm=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),n.config.define("heading",{options:[{model:"paragraph",title:"Paragraph",class:"ck-heading_paragraph"},{model:"heading1",view:"h2",title:"Heading 1",class:"ck-heading_heading1"},{model:"heading2",view:"h3",title:"Heading 2",class:"ck-heading_heading2"},{model:"heading3",view:"h4",title:"Heading 3",class:"ck-heading_heading3"}]}),t}return _(e,[{key:"init",value:function(){var t=this.editor,i=t.config.get("heading.options"),o=[],s=p(i),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;c.model!=="paragraph"&&(t.model.schema.register(c.model,{inheritAllFrom:"$block"}),t.conversion.elementToElement(c),o.push(c.model))}}catch(u){s.e(u)}finally{s.f()}this._addDefaultH1Conversion(t),t.commands.add("heading",new lm(t,o))}},{key:"afterInit",value:function(){var t=this.editor,i=t.commands.get("enter"),o=t.config.get("heading.options");i&&this.listenTo(i,"afterExecute",function(s,l){var c=t.model.document.selection.getFirstPosition().parent;o.some(function(u){return c.is(u.model)})&&!c.is("paragraph")&&c.childCount===0&&l.writer.rename(c,"paragraph")})}},{key:"_addDefaultH1Conversion",value:function(t){t.conversion.for("upcast").elementToElement({model:"heading1",view:"h1",converterPriority:Qi.get("low")+1})}}],[{key:"pluginName",get:function(){return"HeadingEditing"}},{key:"requires",get:function(){return[us]}}]),e}(ut),$c=function a(r,e){w(this,a),e&&fa(this,e),r&&this.set(r)};tn($c,Jn),L(11);var um=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.t,s=function(u){var d=u.t,h={Paragraph:d("Paragraph"),"Heading 1":d("Heading 1"),"Heading 2":d("Heading 2"),"Heading 3":d("Heading 3"),"Heading 4":d("Heading 4"),"Heading 5":d("Heading 5"),"Heading 6":d("Heading 6")};return u.config.get("heading.options").map(function(v){var m=h[v.title];return m&&m!=v.title&&(v.title=m),v})}(i),l=o("Choose heading"),c=o("Heading");i.ui.componentFactory.add("heading",function(u){var d={},h=new Tr,v=i.commands.get("heading"),m=i.commands.get("paragraph"),k=[v],E=p(s),P;try{var U=function(){var Z=P.value,ce={type:"button",model:new $c({label:Z.title,class:Z.class,withText:!0})};Z.model==="paragraph"?(ce.model.bind("isOn").to(m,"value"),ce.model.set("commandName","paragraph"),k.push(m)):(ce.model.bind("isOn").to(v,"value",function(ye){return ye===Z.model}),ce.model.set({commandName:"heading",commandValue:Z.model})),h.add(ce),d[Z.model]=Z.title};for(E.s();!(P=E.n()).done;)U()}catch(G){E.e(G)}finally{E.f()}var H=po(u);return Td(H,h),H.buttonView.set({isOn:!1,withText:!0,tooltip:c}),H.extendTemplate({attributes:{class:["ck-heading-dropdown"]}}),H.bind("isEnabled").toMany(k,"isEnabled",function(){for(var G=arguments.length,Z=new Array(G),ce=0;ce<G;ce++)Z[ce]=arguments[ce];return Z.some(function(ye){return ye})}),H.buttonView.bind("label").to(v,"value",m,"value",function(G,Z){var ce=G||Z&&"paragraph";return d[ce]?d[ce]:l}),t.listenTo(H,"execute",function(G){i.execute(G.source.commandName,G.source.commandValue?{value:G.source.commandValue}:void 0),i.editing.view.focus()}),H})}}]),e}(ut);function Jc(a){var r=p(a.getChildren()),e;try{for(r.s();!(e=r.n()).done;){var n=e.value;if(n&&n.is("caption"))return n}}catch(t){r.e(t)}finally{r.f()}return null}function dm(a){var r=a.parent;return a.name=="figcaption"&&r&&r.name=="figure"&&r.hasClass("image")?{name:!0}:null}var fm=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.editing.view,s=i.model.schema,l=i.data,c=i.editing,u=i.t;s.register("caption",{allowIn:"image",allowContentOf:"$block",isLimit:!0}),i.model.document.registerPostFixer(function(h){return t._insertMissingModelCaptionElement(h)}),i.conversion.for("upcast").elementToElement({view:dm,model:"caption"}),l.downcastDispatcher.on("insert:caption",Kf(function(h){return h.createContainerElement("figcaption")},!1));var d=function(h,v){return function(m){var k=m.createEditableElement("figcaption");return m.setCustomProperty("imageCaption",!0,k),sd({view:h,element:k,text:v}),Mc(k,m)}}(o,u("Enter image caption"));c.downcastDispatcher.on("insert:caption",Kf(d)),c.downcastDispatcher.on("insert",this._fixCaptionVisibility(function(h){return h.item}),{priority:"high"}),c.downcastDispatcher.on("remove",this._fixCaptionVisibility(function(h){return h.position.parent}),{priority:"high"}),o.document.registerPostFixer(function(h){return t._updateCaptionVisibility(h)})}},{key:"_updateCaptionVisibility",value:function(t){var i=this.editor.editing.mapper,o=this._lastSelectedCaption,s,l=this.editor.model.document.selection,c=l.getSelectedElement();if(c&&c.is("image")){var u=Jc(c);s=i.toViewElement(u)}var d=Gf(l.getFirstPosition().parent);if(d&&(s=i.toViewElement(d)),s)return o?(o===s||(Yf(o,t),this._lastSelectedCaption=s),$f(s,t)):(this._lastSelectedCaption=s,$f(s,t));if(o){var h=Yf(o,t);return this._lastSelectedCaption=null,h}return!1}},{key:"_fixCaptionVisibility",value:function(t){var i=this;return function(o,s,l){var c=Gf(t(s)),u=i.editor.editing.mapper,d=l.writer;if(c){var h=u.toViewElement(c);h&&(c.childCount?d.removeClass("ck-hidden",h):d.addClass("ck-hidden",h))}}}},{key:"_insertMissingModelCaptionElement",value:function(t){var i=this.editor.model,o=i.document.differ.getChanges(),s=[],l=p(o),c;try{for(l.s();!(c=l.n()).done;){var u=c.value;if(u.type=="insert"&&u.name!="$text"){var d=u.position.nodeAfter;if(d.is("image")&&!Jc(d)&&s.push(d),!d.is("image")&&d.childCount){var h=p(i.createRangeIn(d).getItems()),v;try{for(h.s();!(v=h.n()).done;){var m=v.value;m.is("image")&&!Jc(m)&&s.push(m)}}catch(U){h.e(U)}finally{h.f()}}}}}catch(U){l.e(U)}finally{l.f()}for(var k=0,E=s;k<E.length;k++){var P=E[k];t.appendElement("caption",P)}return!!s.length}}],[{key:"pluginName",get:function(){return"ImageCaptionEditing"}}]),e}(ut);function Kf(a){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;return function(e,n,t){var i=n.item;if((i.childCount||r)&&al(i.parent)){if(!t.consumable.consume(n.item,"insert"))return;var o=t.mapper.toViewElement(n.range.start.parent),s=a(t.writer),l=t.writer;i.childCount||l.addClass("ck-hidden",s),function(c,u,d,h){var v=h.writer.createPositionAt(d,"end");h.writer.insert(v,c),h.mapper.bindElements(u,c)}(s,n.item,o,t)}}}function Gf(a){var r=a.getAncestors({includeSelf:!0}).find(function(e){return e.name=="caption"});return r&&r.parent&&r.parent.name=="image"?r:null}function Yf(a,r){return!a.childCount&&!a.hasClass("ck-hidden")&&(r.addClass("ck-hidden",a),!0)}function $f(a,r){return!!a.hasClass("ck-hidden")&&(r.removeClass("ck-hidden",a),!0)}L(72);var hm=function(a){O(e,a);var r=D(e);function e(n,t){var i;return w(this,e),i=r.call(this,n),i.defaultStyle=!1,i.styles=t.reduce(function(o,s){return o[s.name]=s,s.isDefault&&(i.defaultStyle=s.name),o},{}),i}return _(e,[{key:"refresh",value:function(){var t=this.editor.model.document.selection.getSelectedElement();if(this.isEnabled=al(t),t)if(t.hasAttribute("imageStyle")){var i=t.getAttribute("imageStyle");this.value=!!this.styles[i]&&i}else this.value=this.defaultStyle;else this.value=!1}},{key:"execute",value:function(t){var i=this,o=t.value,s=this.editor.model,l=s.document.selection.getSelectedElement();s.change(function(c){i.styles[o].isDefault?c.removeAttribute("imageStyle",l):c.setAttribute("imageStyle",o,l)})}}]),e}(jn);function Jf(a,r){var e=p(r),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;if(t.name===a)return t}}catch(i){e.e(i)}finally{e.f()}}var Qf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm2.5 3V12h11V7.5h-11zM4.061 6H15.94c.586 0 1.061.407 1.061.91v5.68c0 .503-.475.91-1.061.91H4.06c-.585 0-1.06-.407-1.06-.91V6.91C3 6.406 3.475 6 4.061 6zM2 16.5V15h16v1.5z"/></svg>',Zf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg" clip-rule="evenodd" stroke-linejoin="round" stroke-miterlimit="1.414"><path d="M18 4.5V3H2v1.5h16zm0 3V6h-5.674v1.5H18zm0 3V9h-5.674v1.5H18zm0 3V12h-5.674v1.5H18zm-8.5-6V12h-6V7.5h6zm.818-1.5H2.682C2.305 6 2 6.407 2 6.91v5.68c0 .503.305.91.682.91h7.636c.377 0 .682-.407.682-.91V6.91c0-.503-.305-.91-.682-.91zM18 16.5V15H2v1.5h16z"/></svg>',Xf='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm4.5 3V12h7V7.5h-7zM5.758 6h8.484c.419 0 .758.407.758.91v5.681c0 .502-.34.909-.758.909H5.758c-.419 0-.758-.407-.758-.91V6.91c0-.503.34-.91.758-.91zM2 16.5V15h16v1.5z"/></svg>',Qc='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 4.5V3h16v1.5zm0 3V6h5.674v1.5zm0 3V9h5.674v1.5zm0 3V12h5.674v1.5zm8.5-6V12h6V7.5h-6zM9.682 6h7.636c.377 0 .682.407.682.91v5.68c0 .503-.305.91-.682.91H9.682c-.377 0-.682-.407-.682-.91V6.91c0-.503.305-.91.682-.91zM2 16.5V15h16v1.5z"/></svg>',ll={full:{name:"full",title:"Full size image",icon:Qf,isDefault:!0},side:{name:"side",title:"Side image",icon:Qc,className:"image-style-side"},alignLeft:{name:"alignLeft",title:"Left aligned image",icon:Zf,className:"image-style-align-left"},alignCenter:{name:"alignCenter",title:"Centered image",icon:Xf,className:"image-style-align-center"},alignRight:{name:"alignRight",title:"Right aligned image",icon:Qc,className:"image-style-align-right"}},qf={full:Qf,left:Zf,right:Qc,center:Xf};function eh(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return a.map(vm)}function vm(a){if(typeof a=="string"){var r=a;ll[r]?a=Object.assign({},ll[r]):(console.warn(Object(le.a)("image-style-not-found: There is no such image style of given name."),{name:r}),a={name:r})}else if(ll[a.name]){var e=ll[a.name],n=Object.assign({},a);for(var t in e)a.hasOwnProperty(t)||(n[t]=e[t]);a=n}return typeof a.icon=="string"&&qf[a.icon]&&(a.icon=qf[a.icon]),a}var gm=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor,i=t.model.schema,o=t.data,s=t.editing;t.config.define("image.styles",["full","side"]);var l=eh(t.config.get("image.styles"));i.extend("image",{allowAttributes:"imageStyle"});var c=function(u){return function(d,h,v){if(!!v.consumable.consume(h.item,d.name)){var m=Jf(h.attributeNewValue,u),k=Jf(h.attributeOldValue,u),E=v.mapper.toViewElement(h.item),P=v.writer;k&&P.removeClass(k.className,E),m&&P.addClass(m.className,E)}}}(l);s.downcastDispatcher.on("attribute:imageStyle:image",c),o.downcastDispatcher.on("attribute:imageStyle:image",c),o.upcastDispatcher.on("element:figure",function(u){var d=u.filter(function(h){return!h.isDefault});return function(h,v,m){if(!!v.modelRange){var k=v.viewItem,E=Bi(v.modelRange.getItems());if(m.schema.checkAttribute(E,"imageStyle")){var P=p(d),U;try{for(P.s();!(U=P.n()).done;){var H=U.value;m.consumable.consume(k,{classes:H.className})&&m.writer.setAttribute("imageStyle",H.name,E)}}catch(G){P.e(G)}finally{P.f()}}}}}(l),{priority:"low"}),t.commands.add("imageStyle",new hm(t,l))}}],[{key:"pluginName",get:function(){return"ImageStyleEditing"}}]),e}(ut);L(74);var pm=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"localizedDefaultStylesTitles",get:function(){var t=this.editor.t;return{"Full size image":t("Full size image"),"Side image":t("Side image"),"Left aligned image":t("Left aligned image"),"Centered image":t("Centered image"),"Right aligned image":t("Right aligned image")}}},{key:"init",value:function(){var t=function(l,c){var u=p(l),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;c[h.title]&&(h.title=c[h.title])}}catch(v){u.e(v)}finally{u.f()}return l}(eh(this.editor.config.get("image.styles")),this.localizedDefaultStylesTitles),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;this._createButton(s)}}catch(l){i.e(l)}finally{i.f()}}},{key:"_createButton",value:function(t){var i=this,o=this.editor,s="imageStyle:"+t.name;o.ui.componentFactory.add(s,function(l){var c=o.commands.get("imageStyle"),u=new hr(l);return u.set({label:t.title,icon:t.icon,tooltip:!0,isToggleable:!0}),u.bind("isEnabled").to(c,"isEnabled"),u.bind("isOn").to(c,"value",function(d){return d===t.name}),i.listenTo(u,"execute",function(){o.execute("imageStyle",{value:t.name}),o.editing.view.focus()}),u})}}],[{key:"pluginName",get:function(){return"ImageStyleUI"}}]),e}(ut),cl=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this,i=this.editor;if(i.plugins.has("BalloonToolbar")){var o=i.plugins.get("BalloonToolbar");this.listenTo(o,"show",function(s){(function(l){var c=l.getSelectedElement();return!(!c||!Vi(c))})(i.editing.view.document.selection)&&s.stop()},{priority:"high"})}this._toolbarDefinitions=new Map,this._balloon=this.editor.plugins.get("ContextualBalloon"),this.on("change:isEnabled",function(){t._updateToolbarsVisibility()}),this.listenTo(i.ui,"update",function(){t._updateToolbarsVisibility()}),this.listenTo(i.ui.focusTracker,"change:isFocused",function(){t._updateToolbarsVisibility()},{priority:"low"})}},{key:"destroy",value:function(){b(x(e.prototype),"destroy",this).call(this);var t=p(this._toolbarDefinitions.values()),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;o.view.destroy()}}catch(s){t.e(s)}finally{t.f()}}},{key:"register",value:function(t,i){var o=i.ariaLabel,s=i.items,l=i.getRelatedElement,c=i.balloonClassName,u=c===void 0?"ck-toolbar-container":c,d=this.editor,h=d.t,v=new wc(d.locale);if(v.ariaLabel=o||h("Widget toolbar"),this._toolbarDefinitions.has(t))throw new le.b("widget-toolbar-duplicated: Toolbar with the given id was already added.",this,{toolbarId:t});v.fillFromConfig(s,d.ui.componentFactory),this._toolbarDefinitions.set(t,{view:v,getRelatedElement:l,balloonClassName:u})}},{key:"_updateToolbarsVisibility",value:function(){var t=0,i=null,o=null,s=p(this._toolbarDefinitions.values()),l;try{for(s.s();!(l=s.n()).done;){var c=l.value,u=c.getRelatedElement(this.editor.editing.view.document.selection);if(this.isEnabled&&u)if(this.editor.ui.focusTracker.isFocused){var d=u.getAncestors().length;d>t&&(t=d,i=u,o=c)}else this._isToolbarVisible(c)&&this._hideToolbar(c);else this._isToolbarInBalloon(c)&&this._hideToolbar(c)}}catch(h){s.e(h)}finally{s.f()}o&&this._showToolbar(o,i)}},{key:"_hideToolbar",value:function(t){this._balloon.remove(t.view),this.stopListening(this._balloon,"change:visibleView")}},{key:"_showToolbar",value:function(t,i){var o=this;this._isToolbarVisible(t)?th(this.editor,i):this._isToolbarInBalloon(t)||(this._balloon.add({view:t.view,position:nh(this.editor,i),balloonClassName:t.balloonClassName}),this.listenTo(this._balloon,"change:visibleView",function(){var s=p(o._toolbarDefinitions.values()),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;if(o._isToolbarVisible(c)){var u=c.getRelatedElement(o.editor.editing.view.document.selection);th(o.editor,u)}}}catch(d){s.e(d)}finally{s.f()}}))}},{key:"_isToolbarVisible",value:function(t){return this._balloon.visibleView===t.view}},{key:"_isToolbarInBalloon",value:function(t){return this._balloon.hasView(t.view)}}],[{key:"requires",get:function(){return[ko]}},{key:"pluginName",get:function(){return"WidgetToolbarRepository"}}]),e}(ut);function th(a,r){var e=a.plugins.get("ContextualBalloon"),n=nh(a,r);e.updatePosition(n)}function nh(a,r){var e=a.editing.view,n=Fn.defaultPositions;return{target:e.domConverter.mapViewToDom(r),positions:[n.northArrowSouth,n.northArrowSouthWest,n.northArrowSouthEast,n.southArrowNorth,n.southArrowNorthWest,n.southArrowNorthEast,gp]}}var rh=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t._childCommands=[],t}return _(e,[{key:"refresh",value:function(){}},{key:"execute",value:function(){for(var t=arguments.length,i=new Array(t),o=0;o<t;o++)i[o]=arguments[o];this._getFirstEnabledCommand().execute(i)}},{key:"registerChildCommand",value:function(t){var i=this;this._childCommands.push(t),t.on("change:isEnabled",function(){return i._checkEnabled()}),this._checkEnabled()}},{key:"_checkEnabled",value:function(){this.isEnabled=!!this._getFirstEnabledCommand()}},{key:"_getFirstEnabledCommand",value:function(){return this._childCommands.find(function(t){return t.isEnabled})}}]),e}(jn),mm=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor;t.commands.add("indent",new rh(t)),t.commands.add("outdent",new rh(t))}}],[{key:"pluginName",get:function(){return"IndentEditing"}}]),e}(ut),ih='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zM1.632 6.95L5.02 9.358a.4.4 0 0 1-.013.661l-3.39 2.207A.4.4 0 0 1 1 11.892V7.275a.4.4 0 0 1 .632-.326z"/></svg>',ah='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2 3.75c0 .414.336.75.75.75h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 0 0-.75.75zm5 6c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM2.75 16.5h14.5a.75.75 0 1 0 0-1.5H2.75a.75.75 0 1 0 0 1.5zm1.618-9.55L.98 9.358a.4.4 0 0 0 .013.661l3.39 2.207A.4.4 0 0 0 5 11.892V7.275a.4.4 0 0 0-.632-.326z"/></svg>',bm=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor,i=t.locale,o=t.t,s=i.uiLanguageDirection=="ltr"?ih:ah,l=i.uiLanguageDirection=="ltr"?ah:ih;this._defineButton("indent",o("Increase indent"),s),this._defineButton("outdent",o("Decrease indent"),l)}},{key:"_defineButton",value:function(t,i,o){var s=this,l=this.editor;l.ui.componentFactory.add(t,function(c){var u=l.commands.get(t),d=new hr(c);return d.set({label:i,icon:o,tooltip:!0}),d.bind("isOn","isEnabled").to(u,"value","isEnabled"),s.listenTo(d,"execute",function(){l.execute(t),l.editing.view.focus()}),d})}}],[{key:"pluginName",get:function(){return"IndentUI"}}]),e}(ut),ym=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.domEventType="click",t}return _(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),e}(re);L(76);var km=function(a){O(e,a);var r=D(e);function e(n,t){var i;w(this,e),i=r.call(this,n);var o=n.t;i.focusTracker=new Si,i.keystrokes=new ta,i.urlInputView=i._createUrlInput(),i.saveButtonView=i._createButton(o("Save"),Gc,"ck-button-save"),i.saveButtonView.type="submit",i.cancelButtonView=i._createButton(o("Cancel"),Yc,"ck-button-cancel","cancel"),i._manualDecoratorSwitches=i._createManualDecoratorSwitches(t),i.children=i._createFormChildren(t.manualDecorators),i._focusables=new ja,i._focusCycler=new go({focusables:i._focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}});var s=["ck","ck-link-form"];return t.manualDecorators.length&&s.push("ck-link-form_layout-vertical"),i.setTemplate({tag:"form",attributes:{class:s,tabindex:"-1"},children:i.children}),i}return _(e,[{key:"getDecoratorSwitchesState",value:function(){return Array.from(this._manualDecoratorSwitches).reduce(function(t,i){return t[i.name]=i.isOn,t},{})}},{key:"render",value:function(){var t=this;b(x(e.prototype),"render",this).call(this),Kc({view:this}),[this.urlInputView].concat(R(this._manualDecoratorSwitches),[this.saveButtonView,this.cancelButtonView]).forEach(function(i){t._focusables.add(i),t.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createUrlInput",value:function(){var t=this.locale.t,i=new Wc(this.locale,Hc);return i.label=t("Link URL"),i.fieldView.placeholder="https://example.com",i}},{key:"_createButton",value:function(t,i,o,s){var l=new hr(this.locale);return l.set({label:t,icon:i,tooltip:!0}),l.extendTemplate({attributes:{class:o}}),s&&l.delegate("execute").to(this,s),l}},{key:"_createManualDecoratorSwitches",value:function(t){var i=this,o=this.createCollection(),s=p(t.manualDecorators),l;try{var c=function(){var d=l.value,h=new kc(i.locale);h.set({name:d.id,label:d.label,withText:!0}),h.bind("isOn").toMany([d,t],"value",function(v,m){return m===void 0&&v===void 0?d.defaultValue:v}),h.on("execute",function(){d.set("value",!h.isOn)}),o.add(h)};for(s.s();!(l=s.n()).done;)c()}catch(u){s.e(u)}finally{s.f()}return o}},{key:"_createFormChildren",value:function(t){var i=this.createCollection();if(i.add(this.urlInputView),t.length){var o=new Tn;o.setTemplate({tag:"ul",children:this._manualDecoratorSwitches.map(function(s){return{tag:"li",children:[s],attributes:{class:["ck","ck-list__item"]}}}),attributes:{class:["ck","ck-reset","ck-list"]}}),i.add(o)}return i.add(this.saveButtonView),i.add(this.cancelButtonView),i}}]),e}(Tn);L(78);var wm=function(a){O(e,a);var r=D(e);function e(n){var t;w(this,e),t=r.call(this,n);var i=n.t;return t.focusTracker=new Si,t.keystrokes=new ta,t.previewButtonView=t._createPreviewButton(),t.unlinkButtonView=t._createButton(i("Unlink"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184zm4.919 10.562l-1.414 1.414a.75.75 0 1 1-1.06-1.06l1.414-1.415-1.415-1.414a.75.75 0 0 1 1.061-1.06l1.414 1.414 1.414-1.415a.75.75 0 0 1 1.061 1.061l-1.414 1.414 1.414 1.415a.75.75 0 0 1-1.06 1.06l-1.415-1.414z"/></svg>',"unlink"),t.editButtonView=t._createButton(i("Edit link"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7.3 17.37l-.061.088a1.518 1.518 0 0 1-.934.535l-4.178.663-.806-4.153a1.495 1.495 0 0 1 .187-1.058l.056-.086L8.77 2.639c.958-1.351 2.803-1.076 4.296-.03 1.497 1.047 2.387 2.693 1.433 4.055L7.3 17.37zM9.14 4.728l-5.545 8.346 3.277 2.294 5.544-8.346L9.14 4.728zM6.07 16.512l-3.276-2.295.53 2.73 2.746-.435zM9.994 3.506L13.271 5.8c.316-.452-.16-1.333-1.065-1.966-.905-.634-1.895-.78-2.212-.328zM8 18.5L9.375 17H19v1.5H8z"/></svg>',"edit"),t.set("href"),t._focusables=new ja,t._focusCycler=new go({focusables:t._focusables,focusTracker:t.focusTracker,keystrokeHandler:t.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),t.setTemplate({tag:"div",attributes:{class:["ck","ck-link-actions"],tabindex:"-1"},children:[t.previewButtonView,t.editButtonView,t.unlinkButtonView]}),t}return _(e,[{key:"render",value:function(){var t=this;b(x(e.prototype),"render",this).call(this),[this.previewButtonView,this.editButtonView,this.unlinkButtonView].forEach(function(i){t._focusables.add(i),t.focusTracker.add(i.element)}),this.keystrokes.listenTo(this.element)}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"_createButton",value:function(t,i,o){var s=new hr(this.locale);return s.set({label:t,icon:i,tooltip:!0}),s.delegate("execute").to(this,o),s}},{key:"_createPreviewButton",value:function(){var t=new hr(this.locale),i=this.bindTemplate,o=this.t;return t.set({withText:!0,tooltip:o("Open link in new tab")}),t.extendTemplate({attributes:{class:["ck","ck-link-actions__preview"],href:i.to("href",function(s){return s&&wf(s)}),target:"_blank",rel:"noopener noreferrer"}}),t.bind("label").to(this,"href",function(s){return s||o("This link has no URL")}),t.bind("isEnabled").to(this,"href",function(s){return!!s}),t.template.tag="a",t.template.eventListeners={},t}}]),e}(Tn),_m=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor;t.editing.view.addObserver(ym),this.actionsView=this._createActionsView(),this.formView=this._createFormView(),this._balloon=t.plugins.get(ko),this._createToolbarLinkButton(),this._enableUserBalloonInteractions()}},{key:"destroy",value:function(){b(x(e.prototype),"destroy",this).call(this),this.formView.destroy()}},{key:"_createActionsView",value:function(){var t=this,i=this.editor,o=new wm(i.locale),s=i.commands.get("link"),l=i.commands.get("unlink");return o.bind("href").to(s,"value"),o.editButtonView.bind("isEnabled").to(s),o.unlinkButtonView.bind("isEnabled").to(l),this.listenTo(o,"edit",function(){t._addFormView()}),this.listenTo(o,"unlink",function(){i.execute("unlink"),t._hideUI()}),o.keystrokes.set("Esc",function(c,u){t._hideUI(),u()}),o.keystrokes.set("Ctrl+K",function(c,u){t._addFormView(),u()}),o}},{key:"_createFormView",value:function(){var t=this,i=this.editor,o=i.commands.get("link"),s=new km(i.locale,o);return s.urlInputView.fieldView.bind("value").to(o,"value"),s.urlInputView.bind("isReadOnly").to(o,"isEnabled",function(l){return!l}),s.saveButtonView.bind("isEnabled").to(o),this.listenTo(s,"submit",function(){i.execute("link",s.urlInputView.fieldView.element.value,s.getDecoratorSwitchesState()),t._closeFormView()}),this.listenTo(s,"cancel",function(){t._closeFormView()}),s.keystrokes.set("Esc",function(l,c){t._closeFormView(),c()}),s}},{key:"_createToolbarLinkButton",value:function(){var t=this,i=this.editor,o=i.commands.get("link"),s=i.t;i.keystrokes.set("Ctrl+K",function(l,c){c(),t._showUI(!0)}),i.ui.componentFactory.add("link",function(l){var c=new hr(l);return c.isEnabled=!0,c.label=s("Link"),c.icon='<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M11.077 15l.991-1.416a.75.75 0 1 1 1.229.86l-1.148 1.64a.748.748 0 0 1-.217.206 5.251 5.251 0 0 1-8.503-5.955.741.741 0 0 1 .12-.274l1.147-1.639a.75.75 0 1 1 1.228.86L4.933 10.7l.006.003a3.75 3.75 0 0 0 6.132 4.294l.006.004zm5.494-5.335a.748.748 0 0 1-.12.274l-1.147 1.639a.75.75 0 1 1-1.228-.86l.86-1.23a3.75 3.75 0 0 0-6.144-4.301l-.86 1.229a.75.75 0 0 1-1.229-.86l1.148-1.64a.748.748 0 0 1 .217-.206 5.251 5.251 0 0 1 8.503 5.955zm-4.563-2.532a.75.75 0 0 1 .184 1.045l-3.155 4.505a.75.75 0 1 1-1.229-.86l3.155-4.506a.75.75 0 0 1 1.045-.184z"/></svg>',c.keystroke="Ctrl+K",c.tooltip=!0,c.isToggleable=!0,c.bind("isEnabled").to(o,"isEnabled"),c.bind("isOn").to(o,"value",function(u){return!!u}),t.listenTo(c,"execute",function(){return t._showUI(!0)}),c})}},{key:"_enableUserBalloonInteractions",value:function(){var t=this,i=this.editor.editing.view.document;this.listenTo(i,"click",function(){t._getSelectedLinkElement()&&t._showUI()}),this.editor.keystrokes.set("Tab",function(o,s){t._areActionsVisible&&!t.actionsView.focusTracker.isFocused&&(t.actionsView.focus(),s())},{priority:"high"}),this.editor.keystrokes.set("Esc",function(o,s){t._isUIVisible&&(t._hideUI(),s())}),qs({emitter:this.formView,activator:function(){return t._isUIInPanel},contextElements:[this._balloon.view.element],callback:function(){return t._hideUI()}})}},{key:"_addActionsView",value:function(){this._areActionsInPanel||this._balloon.add({view:this.actionsView,position:this._getBalloonPositionData()})}},{key:"_addFormView",value:function(){if(!this._isFormInPanel){var t=this.editor.commands.get("link");this._balloon.add({view:this.formView,position:this._getBalloonPositionData()}),this._balloon.visibleView===this.formView&&this.formView.urlInputView.fieldView.select(),this.formView.urlInputView.fieldView.element.value=t.value||""}}},{key:"_closeFormView",value:function(){var t=this.editor.commands.get("link");t.restoreManualDecoratorStates(),t.value!==void 0?this._removeFormView():this._hideUI()}},{key:"_removeFormView",value:function(){this._isFormInPanel&&(this.formView.saveButtonView.focus(),this._balloon.remove(this.formView),this.editor.editing.view.focus())}},{key:"_showUI",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this._getSelectedLinkElement()?(this._areActionsVisible?this._addFormView():this._addActionsView(),t&&this._balloon.showStack("main")):(this._addActionsView(),t&&this._balloon.showStack("main"),this._addFormView()),this._startUpdatingUI()}},{key:"_hideUI",value:function(){if(!!this._isUIInPanel){var t=this.editor;this.stopListening(t.ui,"update"),this.stopListening(this._balloon,"change:visibleView"),t.editing.view.focus(),this._removeFormView(),this._balloon.remove(this.actionsView)}}},{key:"_startUpdatingUI",value:function(){var t=this,i=this.editor,o=i.editing.view.document,s=this._getSelectedLinkElement(),l=u(),c=function(){var h=t._getSelectedLinkElement(),v=u();s&&!h||!s&&v!==l?t._hideUI():t._isUIVisible&&t._balloon.updatePosition(t._getBalloonPositionData()),s=h,l=v};function u(){return o.selection.focus.getAncestors().reverse().find(function(d){return d.is("element")})}this.listenTo(i.ui,"update",c),this.listenTo(this._balloon,"change:visibleView",c)}},{key:"_isFormInPanel",get:function(){return this._balloon.hasView(this.formView)}},{key:"_areActionsInPanel",get:function(){return this._balloon.hasView(this.actionsView)}},{key:"_areActionsVisible",get:function(){return this._balloon.visibleView===this.actionsView}},{key:"_isUIInPanel",get:function(){return this._isFormInPanel||this._areActionsInPanel}},{key:"_isUIVisible",get:function(){return this._balloon.visibleView==this.formView||this._areActionsVisible}},{key:"_getBalloonPositionData",value:function(){var t=this.editor.editing.view,i=t.document,o=this._getSelectedLinkElement();return{target:o?t.domConverter.mapViewToDom(o):t.domConverter.viewRangeToDom(i.selection.getFirstRange())}}},{key:"_getSelectedLinkElement",value:function(){var t=this.editor.editing.view,i=t.document.selection;if(i.isCollapsed)return Zc(i.getFirstPosition());{var o=i.getFirstRange().getTrimmed(),s=Zc(o.start),l=Zc(o.end);return s&&s==l&&t.createRangeIn(s).getTrimmed().isEqual(o)?s:null}}}],[{key:"requires",get:function(){return[ko]}},{key:"pluginName",get:function(){return"LinkUI"}}]),e}(ut);function Zc(a){return a.getAncestors().find(function(r){return(e=r).is("attributeElement")&&!!e.getCustomProperty("link");var e})}var oh=function(a){O(e,a);var r=D(e);function e(n,t){var i;return w(this,e),i=r.call(this,n),i.type=t,i}return _(e,[{key:"refresh",value:function(){this.value=this._getValue(),this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,i=this.editor.model,o=i.document,s=Array.from(o.selection.getSelectedBlocks()).filter(function(c){return lh(c,i.schema)}),l=this.value===!0;i.change(function(c){if(l){for(var u=s[s.length-1].nextSibling,d=Number.POSITIVE_INFINITY,h=[];u&&u.name=="listItem"&&u.getAttribute("listIndent")!==0;){var v=u.getAttribute("listIndent");v<d&&(d=v);var m=v-d;h.push({element:u,listIndent:m}),u=u.nextSibling}h=h.reverse();var k=p(h),E;try{for(k.s();!(E=k.n()).done;){var P=E.value;c.setAttribute("listIndent",P.listIndent,P.element)}}catch(Re){k.e(Re)}finally{k.f()}}if(!l){var U=Number.POSITIVE_INFINITY,H=p(s),G;try{for(H.s();!(G=H.n()).done;){var Z=G.value;Z.is("listItem")&&Z.getAttribute("listIndent")<U&&(U=Z.getAttribute("listIndent"))}}catch(Re){H.e(Re)}finally{H.f()}U=U===0?1:U,sh(s,!0,U),sh(s,!1,U)}var ce=p(s.reverse()),ye;try{for(ce.s();!(ye=ce.n()).done;){var ke=ye.value;l&&ke.name=="listItem"?c.rename(ke,"paragraph"):l||ke.name=="listItem"?l||ke.name!="listItem"||ke.getAttribute("listType")==t.type||c.setAttribute("listType",t.type,ke):(c.setAttributes({listType:t.type,listIndent:0},ke),c.rename(ke,"listItem"))}}catch(Re){ce.e(Re)}finally{ce.f()}})}},{key:"_getValue",value:function(){var t=Bi(this.editor.model.document.selection.getSelectedBlocks());return!!t&&t.is("listItem")&&t.getAttribute("listType")==this.type}},{key:"_checkEnabled",value:function(){if(this.value)return!0;var t=this.editor.model.document.selection,i=this.editor.model.schema,o=Bi(t.getSelectedBlocks());return!!o&&lh(o,i)}}]),e}(jn);function sh(a,r,e){var n=r?a[0]:a[a.length-1];if(n.is("listItem"))for(var t=n[r?"previousSibling":"nextSibling"],i=n.getAttribute("listIndent");t&&t.is("listItem")&&t.getAttribute("listIndent")>=e;)i>t.getAttribute("listIndent")&&(i=t.getAttribute("listIndent")),t.getAttribute("listIndent")==i&&a[r?"unshift":"push"](t),t=t[r?"previousSibling":"nextSibling"]}function lh(a,r){return r.checkChild(a.parent,"listItem")&&!r.isObject(a)}var ch=function(a){O(e,a);var r=D(e);function e(n,t){var i;return w(this,e),i=r.call(this,n),i._indentBy=t=="forward"?1:-1,i}return _(e,[{key:"refresh",value:function(){this.isEnabled=this._checkEnabled()}},{key:"execute",value:function(){var t=this,i=this.editor.model,o=i.document,s=Array.from(o.selection.getSelectedBlocks());i.change(function(l){for(var c=s[s.length-1],u=c.nextSibling;u&&u.name=="listItem"&&u.getAttribute("listIndent")>c.getAttribute("listIndent");)s.push(u),u=u.nextSibling;t._indentBy<0&&(s=s.reverse());var d=p(s),h;try{for(d.s();!(h=d.n()).done;){var v=h.value,m=v.getAttribute("listIndent")+t._indentBy;m<0?l.rename(v,"paragraph"):l.setAttribute("listIndent",m,v)}}catch(k){d.e(k)}finally{d.f()}})}},{key:"_checkEnabled",value:function(){var t=Bi(this.editor.model.document.selection.getSelectedBlocks());if(!t||!t.is("listItem"))return!1;if(this._indentBy>0){for(var i=t.getAttribute("listIndent"),o=t.getAttribute("listType"),s=t.previousSibling;s&&s.is("listItem")&&s.getAttribute("listIndent")>=i;){if(s.getAttribute("listIndent")==i)return s.getAttribute("listType")==o;s=s.previousSibling}return!1}return!0}}]),e}(jn);function xm(a,r){var e=r.mapper,n=r.writer,t=a.getAttribute("listType")=="numbered"?"ol":"ul",i=function(s){var l=s.createContainerElement("li");return l.getFillerOffset=Em,l}(n),o=n.createContainerElement(t,null);return n.insert(n.createPositionAt(o,0),i),e.bindElements(a,i),i}function uh(a,r,e,n){var t=r.parent,i=e.mapper,o=e.writer,s=i.toViewPosition(n.createPositionBefore(a)),l=fh(a.previousSibling,{sameIndent:!0,smallerIndent:!0,listIndent:a.getAttribute("listIndent")}),c=a.previousSibling;if(l&&l.getAttribute("listIndent")==a.getAttribute("listIndent")){var u=i.toViewElement(l);s=o.breakContainer(o.createPositionAfter(u))}else s=c&&c.name=="listItem"?i.toViewPosition(n.createPositionAt(c,"end")):i.toViewPosition(n.createPositionBefore(a));if(s=dh(s),o.insert(s,t),c&&c.name=="listItem"){var d=i.toViewElement(c),h=o.createRange(o.createPositionAt(d,0),s).getWalker({ignoreElementEnd:!0}),v=p(h),m;try{for(v.s();!(m=v.n()).done;){var k=m.value;if(k.item.is("li")){var E=o.breakContainer(o.createPositionBefore(k.item)),P=k.item.parent,U=o.createPositionAt(r,"end");yi(o,U.nodeBefore,U.nodeAfter),o.move(o.createRangeOn(P),U),h.position=E}}}catch(Re){v.e(Re)}finally{v.f()}}else{var H=t.nextSibling;if(H&&(H.is("ul")||H.is("ol"))){var G=null,Z=p(H.getChildren()),ce;try{for(Z.s();!(ce=Z.n()).done;){var ye=ce.value,ke=i.toModelElement(ye);if(!(ke&&ke.getAttribute("listIndent")>a.getAttribute("listIndent")))break;G=ye}}catch(Re){Z.e(Re)}finally{Z.f()}G&&(o.breakContainer(o.createPositionAfter(G)),o.move(o.createRangeOn(G.parent),o.createPositionAt(r,"end")))}}yi(o,t,t.nextSibling),yi(o,t.previousSibling,t)}function yi(a,r,e){return!r||!e||r.name!="ul"&&r.name!="ol"||r.name!=e.name||r.getAttribute("class")!==e.getAttribute("class")?null:a.mergeContainers(a.createPositionAfter(r))}function dh(a){return a.getLastMatchingPosition(function(r){return r.item.is("uiElement")})}function fh(a,r){for(var e=!!r.sameIndent,n=!!r.smallerIndent,t=r.listIndent,i=a;i&&i.name=="listItem";){var o=i.getAttribute("listIndent");if(e&&t==o||n&&t>o)return i;i=i.previousSibling}return null}function hh(a,r,e,n){a.ui.componentFactory.add(r,function(t){var i=a.commands.get(r),o=new hr(t);return o.set({label:e,icon:n,tooltip:!0,isToggleable:!0}),o.bind("isOn","isEnabled").to(i,"value","isEnabled"),o.on("execute",function(){a.execute(r),a.editing.view.focus()}),o})}function Em(){var a=!this.isEmpty&&(this.getChild(0).name=="ul"||this.getChild(0).name=="ol");return this.isEmpty||a?0:_s.call(this)}function vh(a){return function(r,e,n){var t=n.consumable;if(!(!t.test(e.item,"insert")||!t.test(e.item,"attribute:listType")||!t.test(e.item,"attribute:listIndent"))){t.consume(e.item,"insert"),t.consume(e.item,"attribute:listType"),t.consume(e.item,"attribute:listIndent");var i=e.item;uh(i,xm(i,n),n,a)}}}function Cm(a,r,e){if(!!e.consumable.consume(r.item,"attribute:listType")){var n=e.mapper.toViewElement(r.item),t=e.writer;t.breakContainer(t.createPositionBefore(n)),t.breakContainer(t.createPositionAfter(n));var i=n.parent,o=r.attributeNewValue=="numbered"?"ol":"ul";t.rename(o,i)}}function Om(a,r,e){var n=e.mapper.toViewElement(r.item).parent,t=e.writer;yi(t,n,n.nextSibling),yi(t,n.previousSibling,n);var i=p(r.item.getChildren()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;e.consumable.consume(s,"insert")}}catch(l){i.e(l)}finally{i.f()}}function gh(a,r,e){if(r.item.name!="listItem"){for(var n=e.mapper.toViewPosition(r.range.start),t=e.writer,i=[];(n.parent.name=="ul"||n.parent.name=="ol")&&(n=t.breakContainer(n),n.parent.name=="li");){var o=n,s=t.createPositionAt(n.parent,"end");if(!o.isEqual(s)){var l=t.remove(t.createRange(o,s));i.push(l)}n=t.createPositionAfter(n.parent)}if(i.length>0){for(var c=0;c<i.length;c++){var u=n.nodeBefore;if(n=t.insert(n,i[c]).end,c>0){var d=yi(t,u,u.nextSibling);d&&d.parent==u&&n.offset--}}yi(t,n.nodeBefore,n.nodeAfter)}}}function Pm(a,r,e){var n=e.mapper.toViewPosition(r.position),t=n.nodeBefore,i=n.nodeAfter;yi(e.writer,t,i)}function Am(a,r,e){if(e.consumable.consume(r.viewItem,{name:!0})){var n=e.writer,t=n.createElement("listItem"),i=function(c){for(var u=0,d=c.parent;d;){if(d.is("li"))u++;else{var h=d.previousSibling;h&&h.is("li")&&u++}d=d.parent}return u}(r.viewItem);n.setAttribute("listIndent",i,t);var o=r.viewItem.parent&&r.viewItem.parent.name=="ol"?"numbered":"bulleted";n.setAttribute("listType",o,t);var s=e.splitToAllowedParent(t,r.modelCursor);if(!s)return;n.insert(t,s.position);var l=function(c,u,d){var h=d.writer,v=d.schema,m=h.createPositionAfter(c),k=p(u),E;try{for(k.s();!(E=k.n()).done;){var P=E.value;if(P.name=="ul"||P.name=="ol")m=d.convertItem(P,m).modelCursor;else{var U=d.convertItem(P,h.createPositionAt(c,"end")),H=U.modelRange.start.nodeAfter;H&&H.is("element")&&!v.checkChild(c,H.name)&&(c=U.modelCursor.parent.is("listItem")?U.modelCursor.parent:Mm(U.modelCursor),m=h.createPositionAfter(c))}}}catch(G){k.e(G)}finally{k.f()}return m}(t,r.viewItem.getChildren(),e);r.modelRange=n.createRange(r.modelCursor,l),s.cursorParent?r.modelCursor=n.createPositionAt(s.cursorParent,0):r.modelCursor=r.modelRange.end}}function ph(a,r,e){if(e.consumable.test(r.viewItem,{name:!0}))for(var n=Array.from(r.viewItem.getChildren()),t=0,i=n;t<i.length;t++){var o=i[t];!(o.is("li")||Da(o))&&o._remove()}}function Tm(a,r,e){if(e.consumable.test(r.viewItem,{name:!0})){if(r.viewItem.childCount===0)return;var n=R(r.viewItem.getChildren()),t=!1,i=!0,o=p(n),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;t&&!Da(l)&&l._remove(),l.is("text")?(i&&(l._data=l.data.replace(/^\s+/,"")),l.nextSibling&&!Da(l.nextSibling)||(l._data=l.data.replace(/\s+$/,""))):Da(l)&&(t=!0),i=!1}}catch(c){o.e(c)}finally{o.f()}}}function mh(a){return function(r,e){if(!e.isPhantom){var n=e.modelPosition.nodeBefore;if(n&&n.is("listItem")){var t=e.mapper.toViewElement(n),i=t.getAncestors().find(Da),o=a.createPositionAt(t,0).getWalker(),s=p(o),l;try{for(s.s();!(l=s.n()).done;){var c=l.value;if(c.type=="elementStart"&&c.item.is("li")){e.viewPosition=c.previousPosition;break}if(c.type=="elementEnd"&&c.item==i){e.viewPosition=c.nextPosition;break}}}catch(u){s.e(u)}finally{s.f()}}}}}function Sm(a,r){var e=C(r,2),n=e[0],t=e[1],i,o=n.is("documentFragment")?n.getChild(0):n;if(i=t?this.createSelection(t):this.document.selection,o&&o.is("listItem")){var s=i.getFirstPosition(),l=null;if(s.parent.is("listItem")?l=s.parent:s.nodeBefore&&s.nodeBefore.is("listItem")&&(l=s.nodeBefore),l){var c=l.getAttribute("listIndent");if(c>0)for(;o&&o.is("listItem");)o._setAttribute("listIndent",o.getAttribute("listIndent")+c),o=o.nextSibling}}}function Mm(a){var r=new ea({startPosition:a}),e;do e=r.next();while(!e.value.item.is("listItem"));return e.value.item}function bh(a,r,e,n,t,i){var o=fh(r.nodeBefore,{sameIndent:!0,smallerIndent:!0,listIndent:a,foo:"b"}),s=t.mapper,l=t.writer,c=o?o.getAttribute("listIndent"):null,u;if(o)if(c==a){var d=s.toViewElement(o).parent;u=l.createPositionAfter(d)}else{var h=i.createPositionAt(o,"end");u=s.toViewPosition(h)}else u=e;u=dh(u);for(var v=0,m=R(n.getChildren());v<m.length;v++){var k=m[v];Da(k)&&(u=l.move(l.createRangeOn(k),u).end,yi(l,k,k.nextSibling),yi(l,k.previousSibling,k))}}function Da(a){return a.is("ol")||a.is("ul")}var Im=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this,i=this.editor;i.model.schema.register("listItem",{inheritAllFrom:"$block",allowAttributes:["listType","listIndent"]});var o=i.data,s=i.editing,l;i.model.document.registerPostFixer(function(d){return function(h,v){var m=h.document.differ.getChanges(),k=new Map,E=!1,P=p(m),U;try{for(P.s();!(U=P.n()).done;){var H=U.value;if(H.type=="insert"&&H.name=="listItem")gt(H.position);else if(H.type=="insert"&&H.name!="listItem"){if(H.name!="$text"){var G=H.position.nodeAfter;G.hasAttribute("listIndent")&&(v.removeAttribute("listIndent",G),E=!0),G.hasAttribute("listType")&&(v.removeAttribute("listType",G),E=!0);var Z=p(Array.from(h.createRangeIn(G)).filter(function(nt){return nt.item.is("listItem")})),ce;try{for(Z.s();!(ce=Z.n()).done;){var ye=ce.value;gt(ye.previousPosition)}}catch(nt){Z.e(nt)}finally{Z.f()}}gt(H.position.getShiftedBy(H.length))}else H.type=="remove"&&H.name=="listItem"?gt(H.position):(H.type=="attribute"&&H.attributeKey=="listIndent"||H.type=="attribute"&&H.attributeKey=="listType")&&gt(H.range.start)}}catch(nt){P.e(nt)}finally{P.f()}var ke=p(k.values()),Re;try{for(ke.s();!(Re=ke.n()).done;){var Xe=Re.value;Bt(Xe),pt(Xe)}}catch(nt){ke.e(nt)}finally{ke.f()}return E;function gt(nt){var Ht=nt.nodeBefore;if(Ht&&Ht.is("listItem")){var Wt=Ht;if(k.has(Wt))return;for(var vn=Wt.previousSibling;vn&&vn.is("listItem");vn=Wt.previousSibling)if(Wt=vn,k.has(Wt))return;k.set(Ht,Wt)}else{var ir=nt.nodeAfter;ir&&ir.is("listItem")&&k.set(ir,ir)}}function Bt(nt){for(var Ht=0,Wt=null;nt&&nt.is("listItem");){var vn=nt.getAttribute("listIndent");if(vn>Ht){var ir=void 0;Wt===null?(Wt=vn-Ht,ir=Ht):(Wt>vn&&(Wt=vn),ir=vn-Wt),v.setAttribute("listIndent",ir,nt),E=!0}else Wt=null,Ht=nt.getAttribute("listIndent")+1;nt=nt.nextSibling}}function pt(nt){for(var Ht=[],Wt=null;nt&&nt.is("listItem");){var vn=nt.getAttribute("listIndent");if(Wt&&Wt.getAttribute("listIndent")>vn&&(Ht=Ht.slice(0,vn+1)),vn!=0)if(Ht[vn]){var ir=Ht[vn];nt.getAttribute("listType")!=ir&&(v.setAttribute("listType",ir,nt),E=!0)}else Ht[vn]=nt.getAttribute("listType");Wt=nt,nt=nt.nextSibling}}}(i.model,d)}),s.mapper.registerViewToModelLength("li",Xc),o.mapper.registerViewToModelLength("li",Xc),s.mapper.on("modelToViewPosition",mh(s.view)),s.mapper.on("viewToModelPosition",(l=i.model,function(d,h){var v=h.viewPosition,m=v.parent,k=h.mapper;if(m.name=="ul"||m.name=="ol"){if(v.isAtEnd){var E=k.toModelElement(v.nodeBefore),P=k.getModelLength(v.nodeBefore);h.modelPosition=l.createPositionBefore(E).getShiftedBy(P)}else{var U=k.toModelElement(v.nodeAfter);h.modelPosition=l.createPositionBefore(U)}d.stop()}else if(m.name=="li"&&v.nodeBefore&&(v.nodeBefore.name=="ul"||v.nodeBefore.name=="ol")){for(var H=k.toModelElement(m),G=1,Z=v.nodeBefore;Z&&Da(Z);)G+=k.getModelLength(Z),Z=Z.previousSibling;h.modelPosition=l.createPositionBefore(H).getShiftedBy(G),d.stop()}})),o.mapper.on("modelToViewPosition",mh(s.view)),i.conversion.for("editingDowncast").add(function(d){d.on("insert",gh,{priority:"high"}),d.on("insert:listItem",vh(i.model)),d.on("attribute:listType:listItem",Cm,{priority:"high"}),d.on("attribute:listType:listItem",Om,{priority:"low"}),d.on("attribute:listIndent:listItem",function(h){return function(v,m,k){if(!!k.consumable.consume(m.item,"attribute:listIndent")){var E=k.mapper.toViewElement(m.item),P=k.writer;P.breakContainer(P.createPositionBefore(E)),P.breakContainer(P.createPositionAfter(E));var U=E.parent,H=U.previousSibling,G=P.createRangeOn(U);P.remove(G),H&&H.nextSibling&&yi(P,H,H.nextSibling),bh(m.attributeOldValue+1,m.range.start,G.start,E,k,h),uh(m.item,E,k,h);var Z=p(m.item.getChildren()),ce;try{for(Z.s();!(ce=Z.n()).done;){var ye=ce.value;k.consumable.consume(ye,"insert")}}catch(ke){Z.e(ke)}finally{Z.f()}}}}(i.model)),d.on("remove:listItem",function(h){return function(v,m,k){var E=k.mapper.toViewPosition(m.position).getLastMatchingPosition(function(Re){return!Re.item.is("li")}).nodeAfter,P=k.writer;P.breakContainer(P.createPositionBefore(E)),P.breakContainer(P.createPositionAfter(E));var U=E.parent,H=U.previousSibling,G=P.createRangeOn(U),Z=P.remove(G);H&&H.nextSibling&&yi(P,H,H.nextSibling),bh(k.mapper.toModelElement(E).getAttribute("listIndent")+1,m.position,G.start,E,k,h);var ce=p(P.createRangeIn(Z).getItems()),ye;try{for(ce.s();!(ye=ce.n()).done;){var ke=ye.value;k.mapper.unbindViewElement(ke)}}catch(Re){ce.e(Re)}finally{ce.f()}v.stop()}}(i.model)),d.on("remove",Pm,{priority:"low"})}),i.conversion.for("dataDowncast").add(function(d){d.on("insert",gh,{priority:"high"}),d.on("insert:listItem",vh(i.model))}),i.conversion.for("upcast").add(function(d){d.on("element:ul",ph,{priority:"high"}),d.on("element:ol",ph,{priority:"high"}),d.on("element:li",Tm,{priority:"high"}),d.on("element:li",Am)}),i.model.on("insertContent",Sm,{priority:"high"}),i.commands.add("numberedList",new oh(i,"numbered")),i.commands.add("bulletedList",new oh(i,"bulleted")),i.commands.add("indentList",new ch(i,"forward")),i.commands.add("outdentList",new ch(i,"backward"));var c=s.view.document;this.listenTo(c,"enter",function(d,h){var v=t.editor.model.document,m=v.selection.getLastPosition().parent;v.selection.isCollapsed&&m.name=="listItem"&&m.isEmpty&&(t.editor.execute("outdentList"),h.preventDefault(),d.stop())}),this.listenTo(c,"delete",function(d,h){if(h.direction==="backward"){var v=t.editor.model.document.selection;if(!!v.isCollapsed){var m=v.getFirstPosition();if(!!m.isAtStart){var k=m.parent;k.name==="listItem"&&(k.previousSibling&&k.previousSibling.name==="listItem"||(t.editor.execute("outdentList"),h.preventDefault(),d.stop()))}}}},{priority:"high"});var u=function(h){return function(v,m){t.editor.commands.get(h).isEnabled&&(t.editor.execute(h),m())}};i.keystrokes.set("Tab",u("indentList")),i.keystrokes.set("Shift+Tab",u("outdentList"))}},{key:"afterInit",value:function(){var t=this.editor.commands,i=t.get("indent"),o=t.get("outdent");i&&i.registerChildCommand(t.get("indentList")),o&&o.registerChildCommand(t.get("outdentList"))}}],[{key:"pluginName",get:function(){return"ListEditing"}},{key:"requires",get:function(){return[us]}}]),e}(ut);function Xc(a){var r=1,e=p(a.getChildren()),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;if(t.name=="ul"||t.name=="ol"){var i=p(t.getChildren()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value;r+=Xc(s)}}catch(l){i.e(l)}finally{i.f()}}}}catch(l){e.e(l)}finally{e.f()}return r}var jm=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor.t;hh(this.editor,"numberedList",t("Numbered List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zM3.5 3v5H2V3.7H1v-1h2.5V3zM.343 17.857l2.59-3.257H2.92a.6.6 0 1 0-1.04 0H.302a2 2 0 1 1 3.995 0h-.001c-.048.405-.16.734-.333.988-.175.254-.59.692-1.244 1.312H4.3v1h-4l.043-.043zM7 14.75a.75.75 0 0 1 .75-.75h9.5a.75.75 0 1 1 0 1.5h-9.5a.75.75 0 0 1-.75-.75z"/></svg>'),hh(this.editor,"bulletedList",t("Bulleted List"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M7 5.75c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0C1 4.784 1.777 4 2.75 4c.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75C1.784 7.5 1 6.723 1 5.75zm6 9c0 .414.336.75.75.75h9.5a.75.75 0 1 0 0-1.5h-9.5a.75.75 0 0 0-.75.75zm-6 0c0-.966.777-1.75 1.75-1.75.966 0 1.75.777 1.75 1.75 0 .966-.777 1.75-1.75 1.75-.966 0-1.75-.777-1.75-1.75z"/></svg>')}}]),e}(ut);function yh(a,r){return function(n){n.on("attribute:url:media",e)};function e(n,t,i){if(!!i.consumable.consume(t.item,n.name)){var o=t.attributeNewValue,s=i.writer,l=i.mapper.toViewElement(t.item),c=R(l.getChildren()).find(function(d){return d.getCustomProperty("media-content")});s.remove(c);var u=a.getMediaViewElement(s,o,r);s.insert(s.createPositionAt(l,0),u)}}}function kh(a,r,e,n){var t=a.createContainerElement("figure",{class:"media"});return t.getFillerOffset=Rm,a.insert(a.createPositionAt(t,0),r.getMediaViewElement(a,e,n)),t}function wh(a){var r=a.getSelectedElement();return r&&r.is("media")?r:null}function _h(a,r,e){a.change(function(n){var t=n.createElement("media",{url:r});a.insertContent(t,e),n.setSelection(t,"on")})}function Rm(){return null}var Dm=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"refresh",value:function(){var t=this.editor.model,i=t.document.selection,o=t.schema,s=i.getFirstPosition(),l=wh(i),c=s.parent;c!=c.root&&(c=c.parent),this.value=l?l.getAttribute("url"):null,this.isEnabled=o.checkChild(c,"media")}},{key:"execute",value:function(t){var i=this.editor.model,o=i.document.selection,s=wh(o);if(s)i.change(function(c){c.setAttribute("url",t,s)});else{var l=il(o,i);_h(i,t,l)}}}]),e}(jn),Nm=function(){function a(r,e){w(this,a);var n=e.providers,t=e.extraProviders||[],i=new Set(e.removeProviders),o=n.concat(t).filter(function(s){var l=s.name;return l?!i.has(l):(console.warn(Object(le.a)("media-embed-no-provider-name: The configured media provider has no name and cannot be used."),{provider:s}),!1)});this.locale=r,this.providerDefinitions=o}return _(a,[{key:"hasMedia",value:function(e){return!!this._getMedia(e)}},{key:"getMediaViewElement",value:function(e,n,t){return this._getMedia(n).getViewElement(e,t)}},{key:"_getMedia",value:function(e){if(!e)return new xh(this.locale);e=e.trim();var n=p(this.providerDefinitions),t;try{for(n.s();!(t=n.n()).done;){var i=t.value,o=i.html,s=i.url;Array.isArray(s)||(s=[s]);var l=p(s),c;try{for(l.s();!(c=l.n()).done;){var u=c.value,d=this._getUrlMatches(e,u);if(d)return new xh(this.locale,e,d,o)}}catch(h){l.e(h)}finally{l.f()}}}catch(h){n.e(h)}finally{n.f()}return null}},{key:"_getUrlMatches",value:function(e,n){var t=e.match(n);if(t)return t;var i=e.replace(/^https?:\/\//,"");return t=i.match(n),t||(i=i.replace(/^www\./,""),t=i.match(n),t||null)}}]),a}(),xh=function(){function a(r,e,n,t){w(this,a),this.url=this._getValidUrl(e),this._t=r.t,this._match=n,this._previewRenderer=t}return _(a,[{key:"getViewElement",value:function(e,n){var t={},i;if(n.renderForEditingView||n.renderMediaPreview&&this.url&&this._previewRenderer){this.url&&(t["data-oembed-url"]=this.url),n.renderForEditingView&&(t.class="ck-media__wrapper");var o=this._getPreviewHtml(n);i=e.createUIElement("div",t,function(s){var l=this.toDomElement(s);return l.innerHTML=o,l})}else this.url&&(t.url=this.url),i=e.createEmptyElement("oembed",t);return e.setCustomProperty("media-content",!0,i),i}},{key:"_getPreviewHtml",value:function(e){return this._previewRenderer?this._previewRenderer(this._match):this.url&&e.renderForEditingView?this._getPlaceholderHtml():""}},{key:"_getPlaceholderHtml",value:function(){var e=new Ed,n=new Xs;return e.text=this._t("Open media in new tab"),n.content='<svg viewBox="0 0 64 42" xmlns="http://www.w3.org/2000/svg"><path d="M47.426 17V3.713L63.102 0v19.389h-.001l.001.272c0 1.595-2.032 3.43-4.538 4.098-2.506.668-4.538-.083-4.538-1.678 0-1.594 2.032-3.43 4.538-4.098.914-.244 2.032-.565 2.888-.603V4.516L49.076 7.447v9.556A1.014 1.014 0 0 0 49 17h-1.574zM29.5 17h-8.343a7.073 7.073 0 1 0-4.657 4.06v3.781H3.3a2.803 2.803 0 0 1-2.8-2.804V8.63a2.803 2.803 0 0 1 2.8-2.805h4.082L8.58 2.768A1.994 1.994 0 0 1 10.435 1.5h8.985c.773 0 1.477.448 1.805 1.149l1.488 3.177H26.7c1.546 0 2.8 1.256 2.8 2.805V17zm-11.637 0H17.5a1 1 0 0 0-1 1v.05A4.244 4.244 0 1 1 17.863 17zm29.684 2c.97 0 .953-.048.953.889v20.743c0 .953.016.905-.953.905H19.453c-.97 0-.953.048-.953-.905V19.89c0-.937-.016-.889.97-.889h28.077zm-4.701 19.338V22.183H24.154v16.155h18.692zM20.6 21.375v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616v-1.616H20.6zm0 3.231v1.616h1.616V37.53H20.6zm24.233-16.155v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615v-1.616h-1.615zm0 3.231v1.616h1.615V37.53h-1.615zM29.485 25.283a.4.4 0 0 1 .593-.35l9.05 4.977a.4.4 0 0 1 0 .701l-9.05 4.978a.4.4 0 0 1-.593-.35v-9.956z"/></svg>',n.viewBox="0 0 64 42",new Mi({tag:"div",attributes:{class:"ck ck-reset_all ck-media__placeholder"},children:[{tag:"div",attributes:{class:"ck-media__placeholder__icon"},children:[n]},{tag:"a",attributes:{class:"ck-media__placeholder__url",target:"_blank",rel:"noopener noreferrer",href:this.url},children:[{tag:"span",attributes:{class:"ck-media__placeholder__url__text"},children:[this.url]},e]}]}).render().outerHTML}},{key:"_getValidUrl",value:function(e){return e?e.match(/^https?/)?e:"https://"+e:null}}]),a}();L(80);var ul=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),n.config.define("mediaEmbed",{providers:[{name:"dailymotion",url:/^dailymotion\.com\/video\/(\w+)/,html:function(o){return'<div style="position: relative; padding-bottom: 100%; height: 0; "><iframe src="https://www.dailymotion.com/embed/video/'.concat(o[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" width="480" height="270" allowfullscreen allow="autoplay"></iframe></div>')}},{name:"spotify",url:[/^open\.spotify\.com\/(artist\/\w+)/,/^open\.spotify\.com\/(album\/\w+)/,/^open\.spotify\.com\/(track\/\w+)/],html:function(o){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 126%;"><iframe src="https://open.spotify.com/embed/'.concat(o[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allowtransparency="true" allow="encrypted-media"></iframe></div>')}},{name:"youtube",url:[/^(?:m\.)?youtube\.com\/watch\?v=([\w-]+)/,/^(?:m\.)?youtube\.com\/v\/([\w-]+)/,/^youtube\.com\/embed\/([\w-]+)/,/^youtu\.be\/([\w-]+)/],html:function(o){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://www.youtube.com/embed/'.concat(o[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe></div>')}},{name:"vimeo",url:[/^vimeo\.com\/(\d+)/,/^vimeo\.com\/[^/]+\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/album\/[^/]+\/video\/(\d+)/,/^vimeo\.com\/channels\/[^/]+\/(\d+)/,/^vimeo\.com\/groups\/[^/]+\/videos\/(\d+)/,/^vimeo\.com\/ondemand\/[^/]+\/(\d+)/,/^player\.vimeo\.com\/video\/(\d+)/],html:function(o){return'<div style="position: relative; padding-bottom: 100%; height: 0; padding-bottom: 56.2493%;"><iframe src="https://player.vimeo.com/video/'.concat(o[1],'" style="position: absolute; width: 100%; height: 100%; top: 0; left: 0;" frameborder="0" webkitallowfullscreen mozallowfullscreen allowfullscreen></iframe></div>')}},{name:"instagram",url:/^instagram\.com\/p\/(\w+)/},{name:"twitter",url:/^twitter\.com/},{name:"googleMaps",url:/^google\.com\/maps/},{name:"flickr",url:/^flickr\.com/},{name:"facebook",url:/^facebook\.com/}]}),t.registry=new Nm(n.locale,n.config.get("mediaEmbed")),t}return _(e,[{key:"init",value:function(){var t=this.editor,i=t.model.schema,o=t.t,s=t.conversion,l=t.config.get("mediaEmbed.previewsInData"),c=this.registry;t.commands.add("mediaEmbed",new Dm(t)),i.register("media",{isObject:!0,isBlock:!0,allowWhere:"$block",allowAttributes:["url"]}),s.for("dataDowncast").elementToElement({model:"media",view:function(d,h){var v=d.getAttribute("url");return kh(h,c,v,{renderMediaPreview:v&&l})}}),s.for("dataDowncast").add(yh(c,{renderMediaPreview:l})),s.for("editingDowncast").elementToElement({model:"media",view:function(d,h){var v=d.getAttribute("url"),m=kh(h,c,v,{renderForEditingView:!0});return k=m,E=h,P=o("media widget"),E.setCustomProperty("media",!0,k),Sc(k,E,{label:P});var k,E,P}}),s.for("editingDowncast").add(yh(c,{renderForEditingView:!0})),s.for("upcast").elementToElement({view:{name:"oembed",attributes:{url:!0}},model:function(d,h){var v=d.getAttribute("url");if(c.hasMedia(v))return h.createElement("media",{url:v})}}).elementToElement({view:{name:"div",attributes:{"data-oembed-url":!0}},model:function(d,h){var v=d.getAttribute("data-oembed-url");if(c.hasMedia(v))return h.createElement("media",{url:v})}})}}],[{key:"pluginName",get:function(){return"MediaEmbedEditing"}}]),e}(ut),Fm=/^(?:http(s)?:\/\/)?[\w.-]+(?:\.[\w.-]+)+[\w\-._~:/?#[\]@!$&'()*+,;=]+$/,Lm=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t._timeoutId=null,t._positionToInsert=null,t}return _(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.model.document;this.listenTo(i.plugins.get(mo),"inputTransformation",function(){var s=o.selection.getFirstRange(),l=Gr.fromPosition(s.start);l.stickiness="toPrevious";var c=Gr.fromPosition(s.end);c.stickiness="toNext",o.once("change:data",function(){t._embedMediaBetweenPositions(l,c),l.detach(),c.detach()},{priority:"high"})}),i.commands.get("undo").on("execute",function(){t._timeoutId&&(cr.window.clearTimeout(t._timeoutId),t._positionToInsert.detach(),t._timeoutId=null,t._positionToInsert=null)},{priority:"high"})}},{key:"_embedMediaBetweenPositions",value:function(t,i){var o=this,s=this.editor,l=s.plugins.get(ul).registry,c=new fo(t,i),u=c.getWalker({ignoreElementEnd:!0}),d="",h=p(u),v;try{for(h.s();!(v=h.n()).done;){var m=v.value;m.item.is("textProxy")&&(d+=m.item.data)}}catch(k){h.e(k)}finally{h.f()}if(d=d.trim(),!d.match(Fm)||!l.hasMedia(d))return void c.detach();s.commands.get("mediaEmbed").isEnabled?(this._positionToInsert=Gr.fromPosition(t),this._timeoutId=cr.window.setTimeout(function(){s.model.change(function(k){var E;o._timeoutId=null,k.remove(c),c.detach(),o._positionToInsert.root.rootName!=="$graveyard"&&(E=o._positionToInsert),_h(s.model,d,E),o._positionToInsert.detach(),o._positionToInsert=null})},100)):c.detach()}}],[{key:"requires",get:function(){return[mo,Qd]}},{key:"pluginName",get:function(){return"AutoMediaEmbed"}}]),e}(ut);L(82);var Bm=function(a){O(e,a);var r=D(e);function e(n,t){var i;w(this,e),i=r.call(this,t);var o=t.t;return i.focusTracker=new Si,i.keystrokes=new ta,i.urlInputView=i._createUrlInput(),i.saveButtonView=i._createButton(o("Save"),Gc,"ck-button-save"),i.saveButtonView.type="submit",i.cancelButtonView=i._createButton(o("Cancel"),Yc,"ck-button-cancel","cancel"),i._focusables=new ja,i._focusCycler=new go({focusables:i._focusables,focusTracker:i.focusTracker,keystrokeHandler:i.keystrokes,actions:{focusPrevious:"shift + tab",focusNext:"tab"}}),i._validators=n,i.setTemplate({tag:"form",attributes:{class:["ck","ck-media-form"],tabindex:"-1"},children:[i.urlInputView,i.saveButtonView,i.cancelButtonView]}),i}return _(e,[{key:"render",value:function(){var t=this;b(x(e.prototype),"render",this).call(this),Kc({view:this}),[this.urlInputView,this.saveButtonView,this.cancelButtonView].forEach(function(o){t._focusables.add(o),t.focusTracker.add(o.element)}),this.keystrokes.listenTo(this.element);var i=function(s){return s.stopPropagation()};this.keystrokes.set("arrowright",i),this.keystrokes.set("arrowleft",i),this.keystrokes.set("arrowup",i),this.keystrokes.set("arrowdown",i),this.listenTo(this.urlInputView.element,"selectstart",function(o,s){s.stopPropagation()},{priority:"high"})}},{key:"focus",value:function(){this._focusCycler.focusFirst()}},{key:"url",get:function(){return this.urlInputView.fieldView.element.value.trim()},set:function(t){this.urlInputView.fieldView.element.value=t.trim()}},{key:"isValid",value:function(){this.resetFormStatus();var t=p(this._validators),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=o(this);if(s)return this.urlInputView.errorText=s,!1}}catch(l){t.e(l)}finally{t.f()}return!0}},{key:"resetFormStatus",value:function(){this.urlInputView.errorText=null,this.urlInputView.infoText=this._urlInputViewInfoDefault}},{key:"_createUrlInput",value:function(){var t=this,i=this.locale.t,o=new Wc(this.locale,Hc),s=o.fieldView;return this._urlInputViewInfoDefault=i("Paste the media URL in the input."),this._urlInputViewInfoTip=i("Tip: Paste the URL into the content to embed faster."),o.label=i("Media URL"),o.infoText=this._urlInputViewInfoDefault,s.placeholder="https://example.com",s.on("input",function(){o.infoText=s.element.value?t._urlInputViewInfoTip:t._urlInputViewInfoDefault}),o}},{key:"_createButton",value:function(t,i,o,s){var l=new hr(this.locale);return l.set({label:t,icon:i,tooltip:!0}),l.extendTemplate({attributes:{class:o}}),s&&l.delegate("execute").to(this,s),l}}]),e}(Tn),Vm=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.commands.get("mediaEmbed"),s=i.plugins.get(ul).registry;i.ui.componentFactory.add("mediaEmbed",function(l){var c=po(l),u=new Bm(function(d,h){return[function(v){if(!v.url.length)return d("The URL must not be empty.")},function(v){if(!h.hasMedia(v.url))return d("This media URL is not supported.")}]}(i.t,s),i.locale);return t._setUpDropdown(c,u,o,i),t._setUpForm(c,u,o),c})}},{key:"_setUpDropdown",value:function(t,i,o){var s=this.editor,l=s.t,c=t.buttonView;function u(){s.editing.view.focus(),t.isOpen=!1}t.bind("isEnabled").to(o),t.panelView.children.add(i),c.set({label:l("Insert media"),icon:`<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"><path d="M18.68 3.03c.6 0 .59-.03.59.55v12.84c0 .59.01.56-.59.56H1.29c-.6 0-.59.03-.59-.56V3.58c0-.58-.01-.55.6-.55h17.38zM15.77 15V5H4.2v10h11.57zM2 4v1h1V4H2zm0 2v1h1V6H2zm0 2v1h1V8H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zm0 2v1h1v-1H2zM17 4v1h1V4h-1zm0 2v1h1V6h-1zm0 2v1h1V8h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zm0 2v1h1v-1h-1zM7.5 7.177a.4.4 0 01.593-.351l5.133 2.824a.4.4 0 010 .7l-5.133 2.824a.4.4 0 01-.593-.35V7.176v.001z"/></svg>
`,tooltip:!0}),c.on("open",function(){i.url=o.value||"",i.urlInputView.fieldView.select(),i.focus()},{priority:"low"}),t.on("submit",function(){i.isValid()&&(s.execute("mediaEmbed",i.url),u())}),t.on("change:isOpen",function(){return i.resetFormStatus()}),t.on("cancel",function(){return u()})}},{key:"_setUpForm",value:function(t,i,o){i.delegate("submit","cancel").to(t),i.urlInputView.bind("value").to(o,"value"),i.urlInputView.bind("isReadOnly").to(o,"isEnabled",function(s){return!s}),i.saveButtonView.bind("isEnabled").to(o)}}],[{key:"requires",get:function(){return[ul]}},{key:"pluginName",get:function(){return"MediaEmbedUI"}}]),e}(ut);L(84);function zm(a,r){if(!!a.childCount){var e=new sl(a.document),n=function(o,s){var l=s.createRangeIn(o),c=new On({name:/^p|h\d+$/,styles:{"mso-list":/.*/}}),u=[],d=p(l),h;try{for(d.s();!(h=d.n()).done;){var v=h.value;if(v.type==="elementStart"&&c.match(v.item)){var m=Um(v.item);u.push({element:v.item,id:m.id,order:m.order,indent:m.indent})}}}catch(k){d.e(k)}finally{d.f()}return u}(a,e);if(!!n.length){var t=null,i=1;n.forEach(function(o,s){var l=function(U,H){if(!U||U.id!==H.id)return!0;var G=H.element.previousSibling;if(!G)return!0;return Z=G,!(Z.is("ol")||Z.is("ul"));var Z}(n[s-1],o),c=l?null:n[s-1],u=(h=o,(d=c)?h.indent-d.indent:h.indent-1),d,h;if(l&&(t=null,i=1),!t||u!==0){var v=function(U,H){var G=new RegExp("@list l".concat(U.id,":level").concat(U.indent,"\\s*({[^}]*)"),"gi"),Z=/mso-level-number-format:([^;]*);/gi,ce=G.exec(H),ye="decimal";if(ce&&ce[1]){var ke=Z.exec(ce[1]);ke&&ke[1]&&(ye=ke[1].trim())}return{type:ye!=="bullet"&&ye!=="image"?"ol":"ul",style:ye}}(o,r);if(t){if(o.indent>i){var m=t.getChild(t.childCount-1),k=m.getChild(m.childCount-1);t=Eh(v,k,e),i+=1}else if(o.indent<i){var E=i-o.indent;t=function(U,H){var G=U.getAncestors({parentFirst:!0}),Z=null,ce=0,ye=p(G),ke;try{for(ye.s();!(ke=ye.n()).done;){var Re=ke.value;if(Re.name!=="ul"&&Re.name!=="ol"||ce++,ce===H){Z=Re;break}}}catch(Xe){ye.e(Xe)}finally{ye.f()}return Z}(t,E),i=parseInt(o.indent)}}else t=Eh(v,o.element,e);o.indent<=i&&(t.is(v.type)||(t=e.rename(v.type,t)))}var P=function(U,H){return function(G,Z){var ce=new On({name:"span",styles:{"mso-list":"Ignore"}}),ye=Z.createRangeIn(G),ke=p(ye),Re;try{for(ke.s();!(Re=ke.n()).done;){var Xe=Re.value;Xe.type==="elementStart"&&ce.match(Xe.item)&&Z.remove(Xe.item)}}catch(gt){ke.e(gt)}finally{ke.f()}}(U,H),H.rename("li",U)}(o.element,e);e.appendChild(P,t)})}}}function Eh(a,r,e){var n=r.parent,t=e.createElement(a.type),i=n.getChildIndex(r)+1;return e.insertChild(i,t,n),t}function Um(a){var r={},e=a.getStyle("mso-list");if(e){var n=e.match(/(^|\s+)l(\d+)/i),t=e.match(/\s*lfo(\d+)/i),i=e.match(/\s*level(\d+)/i);n&&t&&i&&(r.id=n[2],r.order=t[1],r.indent=i[1])}return r}var Wm=/id=("|')docs-internal-guid-[-0-9a-f]+("|')/i,Hm=function(){function a(r){w(this,a),this.document=r}return _(a,[{key:"isActive",value:function(e){return Wm.test(e)}},{key:"execute",value:function(e){var n=new sl(this.document);(function(t,i){var o=p(t.getChildren()),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;if(l.is("b")&&l.getStyle("font-weight")==="normal"){var c=t.getChildIndex(l);i.remove(l),i.insertChild(c,l.getChildren(),t)}}}catch(u){o.e(u)}finally{o.f()}})(e.content,n),function(t,i){var o=p(i.createRangeIn(t)),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,c=l.item;if(c.is("li")){var u=c.getChild(0);u.is("p")&&i.unwrapElement(u)}}}catch(d){o.e(d)}finally{o.f()}}(e.content,n)}}]),a}();function Ch(a){return a.replace(/<span(?: class="Apple-converted-space"|)>(\s+)<\/span>/g,function(r,e){return e.length===1?" ":Array(e.length+1).join("\xA0 ").substr(0,e.length)})}function Km(a,r){var e=new DOMParser,n=function(l){return Ch(Ch(l)).replace(/(<span\s+style=['"]mso-spacerun:yes['"]>[\s]*?)[\r\n]+(\s*<\/span>)/g,"$1$2").replace(/<span\s+style=['"]mso-spacerun:yes['"]><\/span>/g,"").replace(/ <\//g,"\xA0</").replace(/ <o:p><\/o:p>/g,"\xA0<o:p></o:p>").replace(/<o:p>(&nbsp;|\u00A0)<\/o:p>/g,"").replace(/>(\s*[\r\n]\s*)</g,"><")}(function(l){var c=l.match(/<\/body>(.*?)(<\/html>|$)/);return c&&c[1]&&(l=l.slice(0,c.index)+l.slice(c.index).replace(c[1],"")),l}(a=a.replace(/<!--\[if gte vml 1]>/g,""))),t=e.parseFromString(n,"text/html");(function(l){l.querySelectorAll("span[style*=spacerun]").forEach(function(c){var u=c.innerText.length||0;c.innerHTML=Array(u+1).join("\xA0 ").substr(0,u)})})(t);var i=t.body.innerHTML,o=function(l,c){for(var u=new qa(c),d=new ao(u,{blockFillerMode:"nbsp"}),h=l.createDocumentFragment(),v=l.body.childNodes;v.length>0;)h.appendChild(v[0]);return d.domToView(h)}(t,r),s=function(l){for(var c=[],u=[],d=Array.from(l.getElementsByTagName("style")),h=0,v=d;h<v.length;h++){var m=v[h];m.sheet&&m.sheet.cssRules&&m.sheet.cssRules.length&&(c.push(m.sheet),u.push(m.innerHTML))}return{styles:c,stylesString:u.join(" ")}}(t);return{body:o,bodyString:i,styles:s.styles,stylesString:s.stylesString}}function Gm(a,r){if(!!a.childCount){var e=new sl;(function(t,i,o){var s=o.createRangeIn(i),l=new On({name:"img"}),c=[],u=p(s),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;if(l.match(h.item)){var v=h.item,m=v.getAttribute("v:shapes")?v.getAttribute("v:shapes").split(" "):[];m.length&&m.every(function(U){return t.indexOf(U)>-1})?c.push(v):v.getAttribute("src")||c.push(v)}}}catch(U){u.e(U)}finally{u.f()}for(var k=0,E=c;k<E.length;k++){var P=E[k];o.remove(P)}})(function(t,i){var o=i.createRangeIn(t),s=new On({name:/v:(.+)/}),l=[],c=p(o),u;try{for(c.s();!(u=c.n()).done;){var d=u.value,h=d.item,v=h.previousSibling&&h.previousSibling.name||null;s.match(h)&&h.getAttribute("o:gfxdata")&&v!=="v:shapetype"&&l.push(d.item.getAttribute("id"))}}catch(m){c.e(m)}finally{c.f()}return l}(a,e),a,e),function(t,i){var o=i.createRangeIn(t),s=new On({name:/v:(.+)/}),l=[],c=p(o),u;try{for(c.s();!(u=c.n()).done;){var d=u.value;s.match(d.item)&&l.push(d.item)}}catch(k){c.e(k)}finally{c.f()}for(var h=0,v=l;h<v.length;h++){var m=v[h];i.remove(m)}}(a,e);var n=function(t,i){var o=i.createRangeIn(t),s=new On({name:"img"}),l=[],c=p(o),u;try{for(c.s();!(u=c.n()).done;){var d=u.value;s.match(d.item)&&d.item.getAttribute("src").startsWith("file://")&&l.push(d.item)}}catch(h){c.e(h)}finally{c.f()}return l}(a,e);n.length&&function(t,i,o){if(t.length===i.length)for(var s=0;s<t.length;s++){var l="data:".concat(i[s].type,";base64,").concat((c=i[s].hex,btoa(c.match(/\w{2}/g).map(function(u){return String.fromCharCode(parseInt(u,16))}).join(""))));o.setAttribute("src",l,t[s])}var c}(n,function(t){if(!t)return[];var i=/{\\pict[\s\S]+?\\bliptag-?\d+(\\blipupi-?\d+)?({\\\*\\blipuid\s?[\da-fA-F]+)?[\s}]*?/,o=new RegExp("(?:("+i.source+"))([\\da-fA-F\\s]+)\\}","g"),s=t.match(o),l=[];if(s){var c=p(s),u;try{for(c.s();!(u=c.n()).done;){var d=u.value,h=!1;d.includes("\\pngblip")?h="image/png":d.includes("\\jpegblip")&&(h="image/jpeg"),h&&l.push({hex:d.replace(i,"").replace(/[^\da-fA-F]/g,""),type:h})}}catch(v){c.e(v)}finally{c.f()}}return l}(r),e)}}var Ym=/<meta\s*name="?generator"?\s*content="?microsoft\s*word\s*\d+"?\/?>/i,$m=/xmlns:o="urn:schemas-microsoft-com/i,Jm=function(){function a(r){w(this,a),this.document=r}return _(a,[{key:"isActive",value:function(e){return Ym.test(e)||$m.test(e)}},{key:"execute",value:function(e){var n=Km(e.dataTransfer.getData("text/html"),this.document.stylesProcessor),t=n.body,i=n.stylesString;zm(t,i),Gm(t,e.dataTransfer.getData("text/rtf")),e.content=t}}]),a}();function dr(a,r){for(var e=r.parent;e;){if(e.name===a)return e;e=e.parent}}function Ir(a,r,e,n){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;r>t?n.setAttribute(a,r,e):n.removeAttribute(a,e)}function Na(a,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},n=a.createElement("tableCell",e);a.insertElement("paragraph",n),a.insert(n,r)}function qc(a,r){var e=r.parent.parent,n=parseInt(e.getAttribute("headingColumns")||0),t=a.getCellLocation(r),i=t.column;return!!n&&i<n}function Qm(){return function(a){a.on("element:table",function(r,e,n){var t=e.viewItem;if(!!n.consumable.test(t,{name:!0})){var i=function(v){for(var m={headingRows:0,headingColumns:0},k=[],E=[],P,U=0,H=Array.from(v.getChildren());U<H.length;U++){var G=H[U];if(G.name==="tbody"||G.name==="thead"||G.name==="tfoot"){G.name!=="thead"||P||(P=G);var Z=Array.from(G.getChildren()).filter(function(Xe){return Xe.is("element","tr")}),ce=p(Z),ye;try{for(ce.s();!(ye=ce.n()).done;){var ke=ye.value;if(ke.parent.name==="thead"&&ke.parent===P)m.headingRows++,k.push(ke);else{E.push(ke);var Re=Zm(ke);Re>m.headingColumns&&(m.headingColumns=Re)}}}catch(Xe){ce.e(Xe)}finally{ce.f()}}}return m.rows=[].concat(k,E),m}(t),o=i.rows,s=i.headingRows,l=i.headingColumns,c={};l&&(c.headingColumns=l),s&&(c.headingRows=s);var u=n.writer.createElement("table",c),d=n.splitToAllowedParent(u,e.modelCursor);if(d){if(n.writer.insert(u,d.position),n.consumable.consume(t,{name:!0}),o.forEach(function(v){return n.convertItem(v,n.writer.createPositionAt(u,"end"))}),u.isEmpty){var h=n.writer.createElement("tableRow");n.writer.insert(h,n.writer.createPositionAt(u,"end")),Na(n.writer,n.writer.createPositionAt(h,"end"))}e.modelRange=n.writer.createRange(n.writer.createPositionBefore(u),n.writer.createPositionAfter(u)),d.cursorParent?e.modelCursor=n.writer.createPositionAt(d.cursorParent,0):e.modelCursor=e.modelRange.end}}})}}function Oh(a){return function(r){r.on("element:"+a,function(e,n,t){var i=n.viewItem;if(!!t.consumable.test(i,{name:!0})){var o=t.writer.createElement("tableCell"),s=t.splitToAllowedParent(o,n.modelCursor);if(!!s){t.writer.insert(o,s.position),t.consumable.consume(i,{name:!0});var l=t.writer.createPositionAt(o,0);t.convertChildren(i,l),o.childCount||t.writer.insertElement("paragraph",l),n.modelRange=t.writer.createRange(t.writer.createPositionBefore(o),t.writer.createPositionAfter(o)),n.modelCursor=n.modelRange.end}}})}}function Zm(a){for(var r=0,e=0,n=Array.from(a.getChildren()).filter(function(i){return i.name==="th"||i.name==="td"});e<n.length&&n[e].name==="th";){var t=n[e];r+=parseInt(t.getAttribute("colspan")||1),e++}return r}var Qn=function(){function a(r){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};w(this,a),this.table=r,this.startRow=e.startRow||0,this.endRow=typeof e.endRow=="number"?e.endRow:void 0,this.includeSpanned=!!e.includeSpanned,this.column=typeof e.column=="number"?e.column:void 0,this._skipRows=new Set,this._row=0,this._column=0,this._cellIndex=0,this._spannedCells=new Map,this._nextCellAtColumn=-1}return _(a,[{key:Symbol.iterator,value:function(){return this}},{key:"next",value:function(){var e=this.table.getChild(this._row);if(!e||this._isOverEndRow())return{done:!0};var n,t,i;if(this._isSpanned(this._row,this._column))n=this._getSpanned(this._row,this._column),t=!this.includeSpanned||this._shouldSkipRow()||this._shouldSkipColumn(),i=this._formatOutValue(n,this._column,!0);else{if(n=e.getChild(this._cellIndex),!n)return this._row++,this._column=0,this._cellIndex=0,this._nextCellAtColumn=-1,this.next();var o=parseInt(n.getAttribute("colspan")||1),s=parseInt(n.getAttribute("rowspan")||1);(o>1||s>1)&&this._recordSpans(this._row,this._column,s,o,n),this._nextCellAtColumn=this._column+o,t=this._shouldSkipRow()||this._shouldSkipColumn(),i=this._formatOutValue(n,this._column,!1,s,o)}return this._column++,this._column==this._nextCellAtColumn&&this._cellIndex++,t?this.next():i}},{key:"skipRow",value:function(e){this._skipRows.add(e)}},{key:"_isOverEndRow",value:function(){return this.endRow!==void 0&&this._row>this.endRow}},{key:"_formatOutValue",value:function(e,n,t){var i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,o=arguments.length>4&&arguments[4]!==void 0?arguments[4]:1;return{done:!1,value:{cell:e,row:this._row,column:n,isSpanned:t,rowspan:i,colspan:o,cellIndex:this._cellIndex}}}},{key:"_shouldSkipRow",value:function(){var e=this._row<this.startRow,n=this._skipRows.has(this._row);return e||n}},{key:"_shouldSkipColumn",value:function(){return this.column!==void 0&&this.column!=this._column}},{key:"_isSpanned",value:function(e,n){return this._spannedCells.has(e)?this._spannedCells.get(e).has(n):!1}},{key:"_getSpanned",value:function(e,n){return this._spannedCells.get(e).get(n)}},{key:"_recordSpans",value:function(e,n,t,i,o){for(var s=n+1;s<=n+i-1;s++)this._markSpannedCell(e,s,o);for(var l=e+1;l<e+t;l++)for(var c=n;c<=n+i-1;c++)this._markSpannedCell(l,c,o)}},{key:"_markSpannedCell",value:function(e,n,t){this._spannedCells.has(e)||this._spannedCells.set(e,new Map),this._spannedCells.get(e).set(n,t)}}]),a}();function Ph(a){return!!a.getCustomProperty("table")&&Vi(a)}function Xm(a){var r=a.getSelectedElement();return r&&Ph(r)?r:null}function qm(a){var r=dr("table",a.getFirstPosition());return r&&Ph(r.parent)?r.parent:null}function wo(a){var r=[],e=p((o=a.getRanges(),Array.from(o).sort(eb))),n;try{for(e.s();!(n=e.n()).done;){var t=n.value,i=t.getContainedElement();i&&i.is("tableCell")&&r.push(i)}}catch(s){e.e(s)}finally{e.f()}var o;return r}function ds(a){var r=[],e=p(a.getRanges()),n;try{for(e.s();!(n=e.n()).done;){var t=n.value,i=dr("tableCell",t.start);i&&r.push(i)}}catch(o){e.e(o)}finally{e.f()}return r}function zr(a){var r=wo(a);return r.length?r:ds(a)}function ba(a){return jh(a.map(function(r){return r.parent.index}))}function _o(a){var r=dr("table",a[0]);return jh(R(new Qn(r)).filter(function(e){return a.includes(e.cell)}).map(function(e){return e.column}))}function Ah(a,r){if(a.length<2||!function(v){var m=dr("table",v[0]),k=ba(v),E=parseInt(m.getAttribute("headingRows")||0);if(!Rh(k,E))return!1;var P=parseInt(m.getAttribute("headingColumns")||0);return Rh(_o(v),P)}(a))return!1;var e=new Set,n=new Set,t=0,i=p(a),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=r.getCellLocation(s),c=l.row,u=l.column,d=parseInt(s.getAttribute("rowspan")||1),h=parseInt(s.getAttribute("colspan")||1);e.add(c),n.add(u),d>1&&e.add(c+d-1),h>1&&n.add(u+h-1),t+=d*h}}catch(v){i.e(v)}finally{i.f()}return function(v,m){var k=Array.from(v.values()),E=Array.from(m.values()),P=Math.max.apply(Math,R(k)),U=Math.min.apply(Math,R(k)),H=Math.max.apply(Math,R(E)),G=Math.min.apply(Math,R(E));return(P-U+1)*(H-G+1)}(e,n)==t}function Th(a,r){var e=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,n=[],t=new Qn(a,{startRow:e,endRow:r-1}),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.row,c=s.rowspan,u=l+c-1;l<r&&r<=u&&n.push(s)}}catch(d){i.e(d)}finally{i.f()}return n}function Sh(a,r,e){var n=a.parent,t=n.parent,i=n.index,o=r-i,s={},l=parseInt(a.getAttribute("rowspan"))-o;l>1&&(s.rowspan=l);var c=parseInt(a.getAttribute("colspan")||1);c>1&&(s.colspan=c);var u=i+o,d=R(new Qn(t,{startRow:i,endRow:u,includeSpanned:!0})),h,v=p(d),m;try{for(v.s();!(m=v.n()).done;){var k=m.value,E=k.row,P=k.column,U=k.cell,H=k.cellIndex;if(U===a&&h===void 0&&(h=P),h!==void 0&&h===P&&E===u){var G=t.getChild(E),Z=e.createPositionAt(G,H);Na(e,Z,s)}}}catch(ce){v.e(ce)}finally{v.f()}Ir("rowspan",o,a,e)}function Mh(a,r){var e=[],n=new Qn(a),t=p(n),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=o.column,l=o.colspan,c=s+l-1;s<r&&r<=c&&e.push(o)}}catch(u){t.e(u)}finally{t.f()}return e}function Ih(a,r,e,n){var t=e-r,i={},o=parseInt(a.getAttribute("colspan"))-t;o>1&&(i.colspan=o);var s=parseInt(a.getAttribute("rowspan")||1);s>1&&(i.rowspan=s),Na(n,n.createPositionAfter(a),i),Ir("colspan",t,a,n)}function jh(a){var r=a.sort(function(e,n){return e-n});return{first:r[0],last:r[r.length-1]}}function eb(a,r){var e=a.start,n=r.start;return e.isBefore(n)?-1:1}function Rh(a,r){var e=a.first,n=a.last;return e<r==n<r}function Dh(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(r){return r.on("insert:table",function(e,n,t){var i=n.item;if(!!t.consumable.consume(i,"insert")){t.consumable.consume(i,"attribute:headingRows:table"),t.consumable.consume(i,"attribute:headingColumns:table");var o=a&&a.asWidget,s=t.writer.createContainerElement("figure",{class:"table"}),l=t.writer.createContainerElement("table"),c,u,d;t.writer.insert(t.writer.createPositionAt(s,0),l),o&&(u=s,(d=t.writer).setCustomProperty("table",!0,u),c=Sc(u,d,{hasSelectionHandle:!0}));var h=new Qn(i),v={headingRows:i.getAttribute("headingRows")||0,headingColumns:i.getAttribute("headingColumns")||0},m=new Map,k=p(h),E;try{for(k.s();!(E=k.n()).done;){var P=E.value,U=P.row,H=P.cell,G=dl(Hh(U,v),l,t),Z=i.getChild(U),ce=m.get(U)||Uh(Z,U,G,t);m.set(U,ce),t.consumable.consume(H,"insert"),eu(P,v,t.writer.createPositionAt(ce,"end"),t,a)}}catch(ke){k.e(ke)}finally{k.f()}var ye=t.mapper.toViewPosition(n.range.start);t.mapper.bindElements(i,o?c:s),t.writer.insert(ye,o?c:s)}})}}function Nh(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(r){return r.on("insert:tableRow",function(e,n,t){var i=n.item;if(!!t.consumable.consume(i,"insert")){var o=i.parent,s=Yh(t.mapper.toViewElement(o)),l=o.getChildIndex(i),c=new Qn(o,{startRow:l,endRow:l}),u={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},d=new Map,h=p(c),v;try{for(h.s();!(v=h.n()).done;){var m=v.value,k=dl(Hh(l,u),s,t),E=d.get(l)||Uh(i,l,k,t);d.set(l,E),t.consumable.consume(m.cell,"insert"),eu(m,u,t.writer.createPositionAt(E,"end"),t,a)}}catch(P){h.e(P)}finally{h.f()}}})}}function Fh(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return function(r){return r.on("insert:tableCell",function(e,n,t){var i=n.item;if(!!t.consumable.consume(i,"insert")){var o=i.parent,s=o.parent,l=s.getChildIndex(o),c=new Qn(s,{startRow:l,endRow:l}),u={headingRows:s.getAttribute("headingRows")||0,headingColumns:s.getAttribute("headingColumns")||0},d=p(c),h;try{for(d.s();!(h=d.n()).done;){var v=h.value;if(v.cell===i){var m=t.mapper.toViewElement(o);return void eu(v,u,t.writer.createPositionAt(m,o.getChildIndex(i)),t,a)}}}catch(k){d.e(k)}finally{d.f()}}})}}function Lh(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=!!a.asWidget;return function(e){return e.on("attribute:headingRows:table",function(n,t,i){var o=t.item;if(!i.consumable.consume(t.item,n.name))return;var s=Yh(i.mapper.toViewElement(o)),l=t.attributeOldValue,c=t.attributeNewValue;if(c>l){var u=Array.from(o.getChildren()).filter(function(ye){var ke=ye.index;return ce(ke,l-1,c)});Gh(u,dl("thead",s,i),i,"end");var d=p(u),h;try{for(d.s();!(h=d.n()).done;){var v=h.value,m=p(v.getChildren()),k;try{for(m.s();!(k=m.n()).done;){var E=k.value;Vh(E,"th",i,r)}}catch(ye){m.e(ye)}finally{m.f()}}}catch(ye){d.e(ye)}finally{d.f()}}else{Gh(Array.from(o.getChildren()).filter(function(ye){var ke=ye.index;return ce(ke,c-1,l)}).reverse(),dl("tbody",s,i),i,0);var P=new Qn(o,{startRow:c&&c-1,endRow:l-1}),U={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},H=p(P),G;try{for(H.s();!(G=H.n()).done;){var Z=G.value;zh(Z,U,i,r)}}catch(ye){H.e(ye)}finally{H.f()}}function ce(ye,ke,Re){return ye>ke&&ye<Re}fl("thead",s,i),fl("tbody",s,i)})}}function Bh(){var a=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=!!a.asWidget;return function(e){return e.on("attribute:headingColumns:table",function(n,t,i){var o=t.item;if(!!i.consumable.consume(t.item,n.name)){var s={headingRows:o.getAttribute("headingRows")||0,headingColumns:o.getAttribute("headingColumns")||0},l=t.attributeOldValue,c=t.attributeNewValue,u=(l>c?l:c)-1,d=p(new Qn(o)),h;try{for(d.s();!(h=d.n()).done;){var v=h.value;v.column>u||zh(v,s,i,r)}}catch(m){d.e(m)}finally{d.f()}}})}}function Vh(a,r,e,n){var t=e.writer,i=e.mapper.toViewElement(a);if(!!i){var o;n?(o=Mc(t.createEditableElement(r,i.getAttributes()),t),t.insert(t.createPositionAfter(i),o),t.move(t.createRangeIn(i),t.createPositionAt(o,0)),t.remove(t.createRangeOn(i))):o=t.rename(r,i),e.mapper.unbindViewElement(i),e.mapper.bindElements(a,o)}}function zh(a,r,e,n){var t=a.cell,i=Wh(a,r),o=e.mapper.toViewElement(t);o&&o.name!==i&&Vh(t,i,e,n)}function eu(a,r,e,n,t){var i=t&&t.asWidget,o=Wh(a,r),s=i?Mc(n.writer.createEditableElement(o),n.writer):n.writer.createContainerElement(o),l=a.cell,c=l.getChild(0),u=l.childCount===1&&c.name==="paragraph";if(n.writer.insert(e,s),u&&!R(c.getAttributeKeys()).length){var d=l.getChild(0),h=n.writer.createPositionAt(s,"end");if(n.consumable.consume(d,"insert"),t.asWidget){var v=n.writer.createContainerElement("span",{style:"display:inline-block"});n.mapper.bindElements(d,v),n.writer.insert(h,v),n.mapper.bindElements(l,s)}else n.mapper.bindElements(l,s),n.mapper.bindElements(d,s)}else n.mapper.bindElements(l,s)}function Uh(a,r,e,n){n.consumable.consume(a,"insert");var t=n.writer.createContainerElement("tr");n.mapper.bindElements(a,t);var i=a.parent.getAttribute("headingRows")||0,o=i>0&&r>=i?r-i:r,s=n.writer.createPositionAt(e,o);return n.writer.insert(s,t),t}function Wh(a,r){var e=a.row,n=a.column,t=r.headingColumns,i=r.headingRows;return i&&i>e||t&&t>n?"th":"td"}function Hh(a,r){return a<r.headingRows?"thead":"tbody"}function dl(a,r,e){var n=Kh(a,r);return n||function(t,i,o){var s=o.writer.createContainerElement(t),l=o.writer.createPositionAt(i,t=="tbody"?"end":0);return o.writer.insert(l,s),s}(a,r,e)}function Kh(a,r){var e=p(r.getChildren()),n;try{for(e.s();!(n=e.n()).done;){var t=n.value;if(t.name==a)return t}}catch(i){e.e(i)}finally{e.f()}}function fl(a,r,e){var n=Kh(a,r);n&&n.childCount===0&&e.writer.remove(e.writer.createRangeOn(n))}function Gh(a,r,e,n){var t=p(a),i;try{for(t.s();!(i=t.n()).done;){var o=i.value,s=e.mapper.toViewElement(o);s&&e.writer.move(e.writer.createRangeOn(s),e.writer.createPositionAt(r,n))}}catch(l){t.e(l)}finally{t.f()}}function Yh(a){var r=p(a.getChildren()),e;try{for(r.s();!(e=r.n()).done;){var n=e.value;if(n.name==="table")return n}}catch(t){r.e(t)}finally{r.f()}}var tb=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"refresh",value:function(){var t=this.editor.model,i=t.document.selection,o=t.schema,s=function(l){var c=l.parent;return c===c.root?c:c.parent}(i.getFirstPosition());this.isEnabled=o.checkChild(s,"table")}},{key:"execute",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},i=this.editor.model,o=i.document.selection,s=this.editor.plugins.get("TableUtils"),l=parseInt(t.rows)||2,c=parseInt(t.columns)||2,u=il(o,i);i.change(function(d){var h=s.createTable(d,l,c);i.insertContent(h,u),d.setSelection(d.createPositionAt(h.getNodeByPath([0,0,0]),0))})}}]),e}(jn),$h=function(a){O(e,a);var r=D(e);function e(n){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return w(this,e),t=r.call(this,n),t.order=i.order||"below",t}return _(e,[{key:"refresh",value:function(){var t=dr("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}},{key:"execute",value:function(){var t=this.editor,i=t.model.document.selection,o=t.plugins.get("TableUtils"),s=this.order==="above",l=zr(i),c=ba(l),u=s?c.first:c.last,d=dr("table",l[0]);o.insertRows(d,{at:s?u:u+1,copyStructureFromAbove:!s})}}]),e}(jn),Jh=function(a){O(e,a);var r=D(e);function e(n){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return w(this,e),t=r.call(this,n),t.order=i.order||"right",t}return _(e,[{key:"refresh",value:function(){var t=dr("table",this.editor.model.document.selection.getFirstPosition());this.isEnabled=!!t}},{key:"execute",value:function(){var t=this.editor,i=t.model.document.selection,o=t.plugins.get("TableUtils"),s=this.order==="left",l=zr(i),c=_o(l),u=s?c.first:c.last,d=dr("table",l[0]);o.insertColumns(d,{columns:1,at:s?u:u+1})}}]),e}(jn),Qh=function(a){O(e,a);var r=D(e);function e(n){var t,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};return w(this,e),t=r.call(this,n),t.direction=i.direction||"horizontally",t}return _(e,[{key:"refresh",value:function(){var t=zr(this.editor.model.document.selection);this.isEnabled=t.length===1}},{key:"execute",value:function(){var t=zr(this.editor.model.document.selection)[0],i=this.direction==="horizontally",o=this.editor.plugins.get("TableUtils");i?o.splitCellHorizontally(t,2):o.splitCellVertically(t,2)}}]),e}(jn),hl=function(a){O(e,a);var r=D(e);function e(n,t){var i;return w(this,e),i=r.call(this,n),i.direction=t.direction,i.isHorizontal=i.direction=="right"||i.direction=="left",i}return _(e,[{key:"refresh",value:function(){var t=this._getMergeableCell();this.value=t,this.isEnabled=!!t}},{key:"execute",value:function(){var t=this,i=this.editor.model,o=ds(i.document.selection)[0],s=this.value,l=this.direction;i.change(function(c){var u=l=="right"||l=="down",d=u?o:s,h=u?s:o,v=h.parent;(function(H,G,Z){Zh(H)||(Zh(G)&&Z.remove(Z.createRangeIn(G)),Z.move(Z.createRangeIn(H),Z.createPositionAt(G,"end"))),Z.remove(H)})(h,d,c);var m=t.isHorizontal?"colspan":"rowspan",k=parseInt(o.getAttribute(m)||1),E=parseInt(s.getAttribute(m)||1);if(c.setAttribute(m,k+E,d),c.setSelection(c.createRangeIn(d)),!v.childCount){var P=t.editor.plugins.get("TableUtils"),U=dr("table",v);P.removeRows(U,{at:v.index,batch:c.batch})}})}},{key:"_getMergeableCell",value:function(){var t=ds(this.editor.model.document.selection)[0];if(!!t){var i=this.editor.plugins.get("TableUtils"),o=this.isHorizontal?function(c,u,d){var h=c.parent.parent,v=u=="right"?c.nextSibling:c.previousSibling,m=(h.getAttribute("headingColumns")||0)>0;if(!!v){var k=u=="right"?c:v,E=u=="right"?v:c,P=d.getCellLocation(k),U=P.column,H=d.getCellLocation(E),G=H.column,Z=parseInt(k.getAttribute("colspan")||1),ce=qc(d,k),ye=qc(d,E);if(!(m&&ce!=ye))return U+Z===G?v:void 0}}(t,this.direction,i):function(c,u){var d=c.parent,h=d.parent,v=h.getChildIndex(d);if(!(u=="down"&&v===h.childCount-1||u=="up"&&v===0)){var m=parseInt(c.getAttribute("rowspan")||1),k=h.getAttribute("headingRows")||0,E=u=="down"&&v+m===k,P=u=="up"&&v===k;if(!(k&&(E||P))){var U=parseInt(c.getAttribute("rowspan")||1),H=u=="down"?v+U:v,G=R(new Qn(h,{endRow:H})),Z=G.find(function(ye){return ye.cell===c}).column,ce=G.find(function(ye){var ke=ye.row,Re=ye.rowspan,Xe=ye.column;return Xe===Z&&(u=="down"?ke===H:H===ke+Re)});return ce&&ce.cell}}}(t,this.direction);if(!!o){var s=this.isHorizontal?"rowspan":"colspan",l=parseInt(t.getAttribute(s)||1);return parseInt(o.getAttribute(s)||1)===l?o:void 0}}}}]),e}(jn);function Zh(a){return a.childCount==1&&a.getChild(0).is("paragraph")&&a.getChild(0).isEmpty}var nb=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"refresh",value:function(){var t=zr(this.editor.model.document.selection),i=t[0];if(i){var o=dr("table",i),s=this.editor.plugins.get("TableUtils").getRows(o)-1,l=ba(t),c=l.first===0&&l.last===s;this.isEnabled=!c}else this.isEnabled=!1}},{key:"execute",value:function(){var t=this,i=this.editor.model,o=zr(i.document.selection),s=ba(o),l=o[0],c=dr("table",l),u=this.editor.plugins.get("TableUtils").getCellLocation(l).column,d=i.createBatch();i.enqueueChange(d,function(h){h.setSelection(h.createSelection(c,"on"));var v=s.last-s.first+1;t.editor.plugins.get("TableUtils").removeRows(c,{at:s.first,rows:v,batch:d})}),i.enqueueChange(d,function(h){var v=function(m,k,E){var P=m.getChild(k)||m.getChild(m.childCount-1),U=P.getChild(0),H=0,G=p(P.getChildren()),Z;try{for(G.s();!(Z=G.n()).done;){var ce=Z.value;if(H>E)return U;U=ce,H+=parseInt(ce.getAttribute("colspan")||1)}}catch(ye){G.e(ye)}finally{G.f()}return U}(c,s.first,u);h.setSelection(h.createPositionAt(v,0))})}}]),e}(jn),rb=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"refresh",value:function(){var t=zr(this.editor.model.document.selection),i=t[0];if(i){var o=dr("table",i),s=this.editor.plugins.get("TableUtils").getColumns(o),l=_o(t),c=l.first,u=l.last;this.isEnabled=u-c<s-1}else this.isEnabled=!1}},{key:"execute",value:function(){var t=this,i=function(v){var m=zr(v),k=m[0],E=m.pop(),P=[k,E];return k.isBefore(E)?P:P.reverse()}(this.editor.model.document.selection),o=C(i,2),s=o[0],l=o[1],c=s.parent.parent,u=R(new Qn(c)),d={first:u.find(function(v){return v.cell===s}).column,last:u.find(function(v){return v.cell===l}).column},h=function(v,m,k,E){return parseInt(k.getAttribute("colspan")||1)>1?k:m.previousSibling||k.nextSibling?k.nextSibling||m.previousSibling:E.first?v.reverse().find(function(P){var U=P.column;return U<E.first}).cell:v.reverse().find(function(P){var U=P.column;return U>E.last}).cell}(u,s,l,d);this.editor.model.change(function(v){var m=d.last-d.first+1;t.editor.plugins.get("TableUtils").removeColumns(c,{at:d.first,columns:m}),v.setSelection(v.createPositionAt(h,0))})}}]),e}(jn),ib=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"refresh",value:function(){var t=this,i=zr(this.editor.model.document.selection),o=i.length>0;this.isEnabled=o,this.value=o&&i.every(function(s){return t._isInHeading(s,s.parent.parent)})}},{key:"execute",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(t.forceValue!==this.value){var i=this.editor.model,o=zr(i.document.selection),s=dr("table",o[0]),l=ba(o),c=l.first,u=l.last,d=this.value?c:u+1,h=s.getAttribute("headingRows")||0;i.change(function(v){if(d){var m=Th(s,d,d>h?h:0),k=p(m),E;try{for(k.s();!(E=k.n()).done;){var P=E.value,U=P.cell;Sh(U,d,v)}}catch(H){k.e(H)}finally{k.f()}}Ir("headingRows",d,s,v,0)})}}},{key:"_isInHeading",value:function(t,i){var o=parseInt(i.getAttribute("headingRows")||0);return!!o&&t.parent.index<o}}]),e}(jn),ab=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"refresh",value:function(){var t=zr(this.editor.model.document.selection),i=this.editor.plugins.get("TableUtils"),o=t.length>0;this.isEnabled=o,this.value=o&&t.every(function(s){return qc(i,s)})}},{key:"execute",value:function(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(t.forceValue!==this.value){var i=this.editor.model,o=zr(i.document.selection),s=dr("table",o[0]),l=_o(o),c=l.first,u=l.last,d=this.value?c:u+1;i.change(function(h){if(d){var v=Mh(s,d),m=p(v),k;try{for(m.s();!(k=m.n()).done;){var E=k.value,P=E.cell,U=E.column;Ih(P,U,d,h)}}catch(H){m.e(H)}finally{m.f()}}Ir("headingColumns",d,s,h,0)})}}}]),e}(jn),xo=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"getCellLocation",value:function(t){var i=t.parent,o=i.parent,s=o.getChildIndex(i),l=new Qn(o,{startRow:s,endRow:s}),c=p(l),u;try{for(c.s();!(u=c.n()).done;){var d=u.value,h=d.cell,v=d.row,m=d.column;if(h===t)return{row:v,column:m}}}catch(k){c.e(k)}finally{c.f()}}},{key:"createTable",value:function(t,i,o){var s=t.createElement("table");return tu(t,s,0,i,o),s}},{key:"insertRows",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=this.editor.model,s=i.at||0,l=i.rows||1,c=i.copyStructureFromAbove!==void 0,u=i.copyStructureFromAbove?s-1:s,d=this.getRows(t),h=this.getColumns(t);o.change(function(v){var m=t.getAttribute("headingRows")||0;if(m>s&&v.setAttribute("headingRows",m+l,t),!c&&(s===0||s===d))return void tu(v,t,s,l,h);var k=c?Math.max(s,u):s,E=new Qn(t,{endRow:k}),P=new Array(h).fill(1),U=p(E),H;try{for(U.s();!(H=U.n()).done;){var G=H.value,Z=G.row,ce=G.column,ye=G.rowspan,ke=G.colspan,Re=G.cell,Xe=Z+ye-1,gt=Z<=u&&u<=Xe;Z<s&&s<=Xe?(v.setAttribute("rowspan",ye+l,Re),P[ce]=-ke):c&&gt&&(P[ce]=ke)}}catch(vn){U.e(vn)}finally{U.f()}for(var Bt=0;Bt<l;Bt++){var pt=v.createElement("tableRow");v.insert(pt,t,s);for(var nt=0;nt<P.length;nt++){var Ht=P[nt],Wt=v.createPositionAt(pt,"end");Ht>0&&Na(v,Wt,Ht>1?{colspan:Ht}:null),nt+=Math.abs(Ht)-1}}})}},{key:"insertColumns",value:function(t){var i=this,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},s=this.editor.model,l=o.at||0,c=o.columns||1;s.change(function(u){var d=t.getAttribute("headingColumns");l<d&&u.setAttribute("headingColumns",d+c,t);var h=i.getColumns(t);if(l===0||h===l){var v=p(t.getChildren()),m;try{for(v.s();!(m=v.n()).done;){var k=m.value;Eo(c,u,u.createPositionAt(k,l?"end":0))}}catch(gt){v.e(gt)}finally{v.f()}return}var E=new Qn(t,{column:l,includeSpanned:!0}),P=p(E),U;try{for(P.s();!(U=P.n()).done;){var H=U.value,G=H.row,Z=H.cell,ce=H.cellIndex,ye=parseInt(Z.getAttribute("rowspan")||1),ke=parseInt(Z.getAttribute("colspan")||1);if(ce!==l&&ke>1){if(u.setAttribute("colspan",ke+c,Z),E.skipRow(G),ye>1)for(var Re=G+1;Re<G+ye;Re++)E.skipRow(Re)}else{var Xe=u.createPositionAt(t.getChild(G),ce);Eo(c,u,Xe)}}}catch(gt){P.e(gt)}finally{P.f()}})}},{key:"removeRows",value:function(t,i){var o=this.editor.model,s=i.rows||1,l=i.at,c=l+s-1,u=i.batch||"default";o.enqueueChange(u,function(d){var h=function(Z,ce,ye){var ke=new Map,Re=[],Xe=p(new Qn(Z,{endRow:ye})),gt;try{for(Xe.s();!(gt=Xe.n()).done;){var Bt=gt.value,pt=Bt.row,nt=Bt.column,Ht=Bt.rowspan,Wt=Bt.cell,vn=pt+Ht-1;if(pt>=ce&&pt<=ye&&vn>ye){var ir=Ht-(ye-pt+1);ke.set(nt,{cell:Wt,rowspan:ir})}if(pt<ce&&vn>=ce){var Nr=void 0;Nr=vn>=ye?ye-ce+1:vn-ce+1,Re.push({cell:Wt,rowspan:Ht-Nr})}}}catch(ni){Xe.e(ni)}finally{Xe.f()}return{cellsToMove:ke,cellsToTrim:Re}}(t,l,c),v=h.cellsToMove,m=h.cellsToTrim;v.size&&function(Z,ce,ye,ke){var Re=R(new Qn(Z,{includeSpanned:!0,startRow:ce,endRow:ce})),Xe=Z.getChild(ce),gt,Bt=p(Re),pt;try{for(Bt.s();!(pt=Bt.n()).done;){var nt=pt.value,Ht=nt.column,Wt=nt.cell,vn=nt.isSpanned;if(ye.has(Ht)){var ir=ye.get(Ht),Nr=ir.cell,ni=ir.rowspan,La=gt?ke.createPositionAfter(gt):ke.createPositionAt(Xe,0);ke.move(ke.createRangeOn(Nr),La),Ir("rowspan",ni,Nr,ke),gt=Nr}else vn||(gt=Wt)}}catch(ki){Bt.e(ki)}finally{Bt.f()}}(t,c+1,v,d);for(var k=c;k>=l;k--)d.remove(t.getChild(k));var E=p(m),P;try{for(E.s();!(P=E.n()).done;){var U=P.value,H=U.rowspan,G=U.cell;Ir("rowspan",H,G,d)}}catch(Z){E.e(Z)}finally{E.f()}(function(Z,ce,ye,ke,Re){ke.enqueueChange(Re,function(Xe){var gt=Z.getAttribute("headingRows")||0;ce<gt&&Ir("headingRows",ye<gt?gt-(ye-ce+1):ce,Z,Xe,0)})})(t,l,c,o,u)})}},{key:"removeColumns",value:function(t,i){var o=this,s=this.editor.model,l=i.at,c=i.columns||1,u=i.at+c-1;s.change(function(d){(function(Z,ce,ye){var ke=Z.getAttribute("headingColumns")||0;if(ke&&ce.first<ke){var Re=Math.min(ke-1,ce.last)-ce.first+1;ye.setAttribute("headingColumns",ke-Re,Z)}})(t,{first:l,last:u},d);for(var h=[],v=u;v>=l;v--)for(var m=0,k=R(new Qn(t));m<k.length;m++){var E=k[m],P=E.cell,U=E.column,H=E.colspan;if(U<=v&&H>1&&U+H>v)Ir("colspan",H-1,P,d);else if(U===v){var G=P.parent;d.remove(P),G.childCount||h.push(G.index)}}h.reverse().forEach(function(Z){return o.removeRows(t,{at:Z,batch:d.batch})})})}},{key:"splitCellVertically",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,o=this.editor.model,s=t.parent.parent,l=parseInt(t.getAttribute("rowspan")||1),c=parseInt(t.getAttribute("colspan")||1);o.change(function(u){if(c>1){var d=Xh(c,i),h=d.newCellsSpan,v=d.updatedSpan;Ir("colspan",v,t,u);var m={};h>1&&(m.colspan=h),l>1&&(m.rowspan=l),Eo(c>i?i-1:c-1,u,u.createPositionAfter(t),m)}if(c<i){var k=i-c,E=R(new Qn(s)),P=E.find(function(gt){var Bt=gt.cell;return Bt===t}),U=P.column,H=E.filter(function(gt){var Bt=gt.cell,pt=gt.colspan,nt=gt.column;return Bt!==t&&nt===U||nt<U&&nt+pt>U}),G=p(H),Z;try{for(G.s();!(Z=G.n()).done;){var ce=Z.value,ye=ce.cell,ke=ce.colspan;u.setAttribute("colspan",ke+k,ye)}}catch(gt){G.e(gt)}finally{G.f()}var Re={};l>1&&(Re.rowspan=l),Eo(k,u,u.createPositionAfter(t),Re);var Xe=s.getAttribute("headingColumns")||0;Xe>U&&Ir("headingColumns",Xe+k,s,u)}})}},{key:"splitCellHorizontally",value:function(t){var i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:2,o=this.editor.model,s=t.parent,l=s.parent,c=l.getChildIndex(s),u=parseInt(t.getAttribute("rowspan")||1),d=parseInt(t.getAttribute("colspan")||1);o.change(function(h){if(u>1){var v=R(new Qn(l,{startRow:c,endRow:c+u-1,includeSpanned:!0})),m=Xh(u,i),k=m.newCellsSpan,E=m.updatedSpan;Ir("rowspan",E,t,h);var P=v.find(function(zi){var Ba=zi.cell;return Ba===t}),U=P.column,H={};k>1&&(H.rowspan=k),d>1&&(H.colspan=d);for(var G=0,Z=v;G<Z.length;G++){var ce=Z[G],ye=ce.column,ke=ce.row,Re=ce.cellIndex,Xe=ye===U,gt=(ke+c+E)%k==0;if(ke>=c+E&&Xe&&gt){var Bt=h.createPositionAt(l.getChild(ke),Re);Eo(1,h,Bt,H)}}}if(u<i){var pt=i-u,nt=R(new Qn(l,{startRow:0,endRow:c})),Ht=p(nt),Wt;try{for(Ht.s();!(Wt=Ht.n()).done;){var vn=Wt.value,ir=vn.cell,Nr=vn.rowspan,ni=vn.row;if(ir!==t&&ni+Nr>c){var La=Nr+pt;h.setAttribute("rowspan",La,ir)}}}catch(zi){Ht.e(zi)}finally{Ht.f()}var ki={};d>1&&(ki.colspan=d),tu(h,l,c+1,pt,1,ki);var li=l.getAttribute("headingRows")||0;li>c&&Ir("headingRows",li+pt,l,h)}})}},{key:"getColumns",value:function(t){return R(t.getChild(0).getChildren()).reduce(function(i,o){return i+parseInt(o.getAttribute("colspan")||1)},0)}},{key:"getRows",value:function(t){return t.childCount}}],[{key:"pluginName",get:function(){return"TableUtils"}}]),e}(ut);function tu(a,r,e,n,t){for(var i=arguments.length>5&&arguments[5]!==void 0?arguments[5]:{},o=0;o<n;o++){var s=a.createElement("tableRow");a.insert(s,r,e),Eo(t,a,a.createPositionAt(s,"end"),i)}}function Eo(a,r,e){for(var n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},t=0;t<a;t++)Na(r,e,n)}function Xh(a,r){if(a<r)return{newCellsSpan:1,updatedSpan:1};var e=Math.floor(a/r);return{newCellsSpan:e,updatedSpan:a-e*r+e}}var ob=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"refresh",value:function(){var t=wo(this.editor.model.document.selection);this.isEnabled=Ah(t,this.editor.plugins.get(xo))}},{key:"execute",value:function(){var t=this.editor.model,i=this.editor.plugins.get(xo);t.change(function(o){var s=wo(t.document.selection),l=s.shift();o.setSelection(l,0);var c=function(U,H,G){var Z=0,ce=0,ye=p(H),ke;try{for(ye.s();!(ke=ye.n()).done;){var Re=ke.value,Xe=G.getCellLocation(Re),gt=Xe.row,Bt=Xe.column;Z=ev(Re,Bt,Z,"colspan"),ce=ev(Re,gt,ce,"rowspan")}}catch(Wt){ye.e(Wt)}finally{ye.f()}var pt=G.getCellLocation(U),nt=pt.row,Ht=pt.column;return{mergeWidth:Z-Ht,mergeHeight:ce-nt}}(l,s,i),u=c.mergeWidth,d=c.mergeHeight;Ir("colspan",u,l,o),Ir("rowspan",d,l,o);var h=[],v=p(s),m;try{for(v.s();!(m=v.n()).done;){var k=m.value,E=k.parent;sb(k,l,o),E.childCount||h.push(E.index)}}catch(U){v.e(U)}finally{v.f()}if(h.length){var P=dr("table",l);h.reverse().forEach(function(U){return i.removeRows(P,{at:U,batch:o.batch})})}o.setSelection(l,"in")})}}]),e}(jn);function sb(a,r,e){qh(a)||(qh(r)&&e.remove(e.createRangeIn(r)),e.move(e.createRangeIn(a),e.createPositionAt(r,"end"))),e.remove(a)}function qh(a){return a.childCount==1&&a.getChild(0).is("paragraph")&&a.getChild(0).isEmpty}function ev(a,r,e,n){var t=parseInt(a.getAttribute(n)||1);return Math.max(e,r+t)}var lb=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"refresh",value:function(){var t=zr(this.editor.model.document.selection);this.isEnabled=t.length>0}},{key:"execute",value:function(){for(var t=this.editor.model,i=zr(t.document.selection),o=ba(i),s=dr("table",i[0]),l=[],c=o.first;c<=o.last;c++){var u=p(s.getChild(c).getChildren()),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;l.push(t.createRangeOn(h))}}catch(v){u.e(v)}finally{u.f()}}t.change(function(v){v.setSelection(l)})}}]),e}(jn),cb=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"refresh",value:function(){var t=zr(this.editor.model.document.selection);this.isEnabled=t.length>0}},{key:"execute",value:function(){var t=this.editor.model,i=zr(t.document.selection),o=i[0],s=i.pop(),l=this.editor.plugins.get("TableUtils"),c=l.getCellLocation(o),u=l.getCellLocation(s),d=Math.min(c.column,u.column),h=Math.max(c.column,u.column),v=[],m=p(new Qn(dr("table",o))),k;try{for(m.s();!(k=m.n()).done;){var E=k.value;E.column>=d&&E.column<=h&&v.push(t.createRangeOn(E.cell))}}catch(P){m.e(P)}finally{m.f()}t.change(function(P){P.setSelection(v)})}}]),e}(jn);function ub(a){a.document.registerPostFixer(function(r){return function(e,n){var t=n.document.differ.getChanges(),i=!1,o=new Set,s=p(t),l;try{for(s.s();!(l=s.n()).done;){var c=l.value,u=void 0;c.name=="table"&&c.type=="insert"&&(u=c.position.nodeAfter),c.name!="tableRow"&&c.name!="tableCell"||(u=dr("table",c.position)),hb(c)&&(u=dr("table",c.range.start)),u&&!o.has(u)&&(i=db(u,e)||i,i=fb(u,e)||i,o.add(u))}}catch(d){s.e(d)}finally{s.f()}return i}(r,a)})}function db(a,r){var e=!1,n=function(s){var l=parseInt(s.getAttribute("headingRows")||0),c=s.childCount,u=[],d=p(new Qn(s)),h;try{for(d.s();!(h=d.n()).done;){var v=h.value,m=v.row,k=v.rowspan,E=v.cell;if(!(k<2)){var P=m<l?l:c;if(m+k>P){var U=P-m;u.push({cell:E,rowspan:U})}}}}catch(H){d.e(H)}finally{d.f()}return u}(a);if(n.length){e=!0;var t=p(n),i;try{for(t.s();!(i=t.n()).done;){var o=i.value;Ir("rowspan",o.rowspan,o.cell,r,1)}}catch(s){t.e(s)}finally{t.f()}}return e}function fb(a,r){var e=!1,n=function(ke){var Re=new Array(ke.childCount).fill(0),Xe=p(new Qn(ke,{includeSpanned:!0})),gt;try{for(Xe.s();!(gt=Xe.n()).done;){var Bt=gt.value,pt=Bt.row;Re[pt]++}}catch(nt){Xe.e(nt)}finally{Xe.f()}return Re}(a),t=[],i=p(n.entries()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=C(s,2),c=l[0],u=l[1];u||t.push(c)}}catch(ke){i.e(ke)}finally{i.f()}if(t.length){e=!0;var d=p(t.reverse()),h;try{for(d.s();!(h=d.n()).done;){var v=h.value;r.remove(a.getChild(v)),n.splice(v,1)}}catch(ke){d.e(ke)}finally{d.f()}}var m=n[0];if(!n.every(function(ke){return ke===m})){var k=n.reduce(function(ke,Re){return Re>ke?Re:ke},0),E=p(n.entries()),P;try{for(E.s();!(P=E.n()).done;){var U=P.value,H=C(U,2),G=H[0],Z=H[1],ce=k-Z;if(ce){for(var ye=0;ye<ce;ye++)Na(r,r.createPositionAt(a.getChild(G),"end"));e=!0}}}catch(ke){E.e(ke)}finally{E.f()}}return e}function hb(a){var r=a.type==="attribute",e=a.attributeKey;return r&&(e==="headingRows"||e==="colspan"||e==="rowspan")}function vb(a){a.document.registerPostFixer(function(r){return function(e,n){var t=n.document.differ.getChanges(),i=!1,o=p(t),s;try{for(o.s();!(s=o.n()).done;){var l=s.value;l.type=="insert"&&l.name=="table"&&(i=gb(l.position.nodeAfter,e)||i),l.type=="insert"&&l.name=="tableRow"&&(i=tv(l.position.nodeAfter,e)||i),l.type=="insert"&&l.name=="tableCell"&&(i=nu(l.position.nodeAfter,e)||i),pb(l)&&(i=nu(l.position.parent,e)||i)}}catch(c){o.e(c)}finally{o.f()}return i}(r,a)})}function gb(a,r){var e=!1,n=p(a.getChildren()),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;e=tv(i,r)||e}}catch(o){n.e(o)}finally{n.f()}return e}function tv(a,r){var e=!1,n=p(a.getChildren()),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;e=nu(i,r)||e}}catch(o){n.e(o)}finally{n.f()}return e}function nu(a,r){if(a.childCount==0)return r.insertElement("paragraph",a),!0;var e=Array.from(a.getChildren()).filter(function(o){return o.is("text")}),n=p(e),t;try{for(n.s();!(t=n.n()).done;){var i=t.value;r.wrap(r.createRangeOn(i),"paragraph")}}catch(o){n.e(o)}finally{n.f()}return!!e.length}function pb(a){return!(!a.position||!a.position.parent.is("tableCell"))&&(a.type=="insert"&&a.name=="$text"||a.type=="remove")}function mb(a){a.document.registerPostFixer(function(){return function(r){var e=r.document.differ,n=new Set,t=0,i=p(e.getChanges()),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.type=="insert"||s.type=="remove"?s.position.parent:s.range.start.parent;l.is("tableCell")&&(s.type=="insert"&&t++,bb(l,s.type,t)&&n.add(l))}}catch(h){i.e(h)}finally{i.f()}if(n.size){var c=p(n.values()),u;try{for(c.s();!(u=c.n()).done;){var d=u.value;e.refreshItem(d)}}catch(h){c.e(h)}finally{c.f()}return!0}return!1}(a)})}function bb(a,r,e){if(!Array.from(a.getChildren()).some(function(t){return t.is("paragraph")}))return!1;if(r=="attribute"){var n=Array.from(a.getChild(0).getAttributeKeys()).length;return a.childCount===1&&n<2}return a.childCount<=(r=="insert"?e+1:1)}L(86);var yb=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor,i=t.model,o=i.schema,s=t.conversion;o.register("table",{allowWhere:"$block",allowAttributes:["headingRows","headingColumns"],isLimit:!0,isObject:!0,isBlock:!0}),o.register("tableRow",{allowIn:"table",isLimit:!0}),o.register("tableCell",{allowIn:"tableRow",allowAttributes:["colspan","rowspan"],isObject:!0}),o.extend("$block",{allowIn:"tableCell"}),o.addChildCheck(function(l,c){if(c.name=="table"&&Array.from(l.getNames()).includes("table"))return!1}),s.for("upcast").add(Qm()),s.for("editingDowncast").add(Dh({asWidget:!0})),s.for("dataDowncast").add(Dh()),s.for("upcast").elementToElement({model:"tableRow",view:"tr"}),s.for("upcast").add(function(l){l.on("element:tr",function(c,u){u.viewItem.isEmpty&&c.stop()},{priority:"high"})}),s.for("editingDowncast").add(Nh({asWidget:!0})),s.for("dataDowncast").add(Nh()),s.for("downcast").add(function(l){return l.on("remove:tableRow",function(c,u,d){c.stop();var h=d.writer,v=d.mapper,m=v.toViewPosition(u.position).getLastMatchingPosition(function(Z){return!Z.item.is("tr")}).nodeAfter,k=m.parent.parent,E=h.createRangeOn(m),P=h.remove(E),U=p(h.createRangeIn(P).getItems()),H;try{for(U.s();!(H=U.n()).done;){var G=H.value;v.unbindViewElement(G)}}catch(Z){U.e(Z)}finally{U.f()}fl("thead",k,d),fl("tbody",k,d)},{priority:"higher"})}),s.for("upcast").add(Oh("td")),s.for("upcast").add(Oh("th")),s.for("editingDowncast").add(Fh({asWidget:!0})),s.for("dataDowncast").add(Fh()),s.attributeToAttribute({model:"colspan",view:"colspan"}),s.attributeToAttribute({model:"rowspan",view:"rowspan"}),s.for("editingDowncast").add(Bh({asWidget:!0})),s.for("dataDowncast").add(Bh()),s.for("editingDowncast").add(Lh({asWidget:!0})),s.for("dataDowncast").add(Lh()),t.commands.add("insertTable",new tb(t)),t.commands.add("insertTableRowAbove",new $h(t,{order:"above"})),t.commands.add("insertTableRowBelow",new $h(t,{order:"below"})),t.commands.add("insertTableColumnLeft",new Jh(t,{order:"left"})),t.commands.add("insertTableColumnRight",new Jh(t,{order:"right"})),t.commands.add("removeTableRow",new nb(t)),t.commands.add("removeTableColumn",new rb(t)),t.commands.add("splitTableCellVertically",new Qh(t,{direction:"vertically"})),t.commands.add("splitTableCellHorizontally",new Qh(t,{direction:"horizontally"})),t.commands.add("mergeTableCells",new ob(t)),t.commands.add("mergeTableCellRight",new hl(t,{direction:"right"})),t.commands.add("mergeTableCellLeft",new hl(t,{direction:"left"})),t.commands.add("mergeTableCellDown",new hl(t,{direction:"down"})),t.commands.add("mergeTableCellUp",new hl(t,{direction:"up"})),t.commands.add("setTableColumnHeader",new ab(t)),t.commands.add("setTableRowHeader",new ib(t)),t.commands.add("selectTableRow",new lb(t)),t.commands.add("selectTableColumn",new cb(t)),ub(i),mb(i),vb(i)}}],[{key:"pluginName",get:function(){return"TableEditing"}},{key:"requires",get:function(){return[xo]}}]),e}(ut);L(88);var kb=function(a){O(e,a);var r=D(e);function e(n){var t;w(this,e),t=r.call(this,n);var i=t.bindTemplate;return t.set("icon"),t.set("isEnabled",!0),t.set("isOn",!1),t.set("isToggleable",!1),t.set("isVisible",!0),t.set("keystroke"),t.set("label"),t.set("tabindex",-1),t.set("tooltip"),t.set("tooltipPosition","s"),t.set("type","button"),t.set("withText",!1),t.children=t.createCollection(),t.actionView=t._createActionView(),t.arrowView=t._createArrowView(),t.keystrokes=new ta,t.focusTracker=new Si,t.setTemplate({tag:"div",attributes:{class:["ck","ck-splitbutton",i.if("isVisible","ck-hidden",function(o){return!o}),t.arrowView.bindTemplate.if("isOn","ck-splitbutton_open")]},children:t.children}),t}return _(e,[{key:"render",value:function(){var t=this;b(x(e.prototype),"render",this).call(this),this.children.add(this.actionView),this.children.add(this.arrowView),this.focusTracker.add(this.actionView.element),this.focusTracker.add(this.arrowView.element),this.keystrokes.listenTo(this.element),this.keystrokes.set("arrowright",function(i,o){t.focusTracker.focusedElement===t.actionView.element&&(t.arrowView.focus(),o())}),this.keystrokes.set("arrowleft",function(i,o){t.focusTracker.focusedElement===t.arrowView.element&&(t.actionView.focus(),o())})}},{key:"focus",value:function(){this.actionView.focus()}},{key:"_createActionView",value:function(){var t=new hr;return t.bind("icon","isEnabled","isOn","isToggleable","keystroke","label","tabindex","tooltip","tooltipPosition","type","withText").to(this),t.extendTemplate({attributes:{class:"ck-splitbutton__action"}}),t.delegate("execute").to(this),t}},{key:"_createArrowView",value:function(){var t=new hr,i=t.bindTemplate;return t.icon=Cd,t.extendTemplate({attributes:{class:"ck-splitbutton__arrow","aria-haspopup":!0,"aria-expanded":i.to("isOn",function(o){return String(o)})}}),t.bind("isEnabled").to(this),t.delegate("execute").to(this,"open"),t}}]),e}(Tn);L(90);var wb=function(a){O(e,a);var r=D(e);function e(n){var t;w(this,e),t=r.call(this,n);var i=t.bindTemplate;return t.items=t._createGridCollection(),t.set("rows",0),t.set("columns",0),t.bind("label").to(j(t),"columns",j(t),"rows",function(o,s){return"".concat(s," \xD7 ").concat(o)}),t.setTemplate({tag:"div",attributes:{class:["ck"]},children:[{tag:"div",attributes:{class:["ck-insert-table-dropdown__grid"]},on:{"mouseover@.ck-insert-table-dropdown-grid-box":i.to("boxover")},children:t.items},{tag:"div",attributes:{class:["ck-insert-table-dropdown__label"]},children:[{text:i.to("label")}]}],on:{mousedown:i.to(function(o){o.preventDefault()}),click:i.to(function(){t.fire("execute")})}}),t.on("boxover",function(o,s){var l=s.target.dataset,c=l.row,u=l.column;t.set({rows:parseInt(c),columns:parseInt(u)})}),t.on("change:columns",function(){t._highlightGridBoxes()}),t.on("change:rows",function(){t._highlightGridBoxes()}),t}return _(e,[{key:"focus",value:function(){}},{key:"focusLast",value:function(){}},{key:"_highlightGridBoxes",value:function(){var t=this.rows,i=this.columns;this.items.map(function(o,s){var l=Math.floor(s/10)<t&&s%10<i;o.set("isOn",l)})}},{key:"_createGridCollection",value:function(){for(var t=[],i=0;i<100;i++){var o=Math.floor(i/10),s=i%10;t.push(new _b(this.locale,o+1,s+1))}return this.createCollection(t)}}]),e}(Tn),_b=function(a){O(e,a);var r=D(e);function e(n,t,i){var o;w(this,e),o=r.call(this,n);var s=o.bindTemplate;return o.set("isOn",!1),o.setTemplate({tag:"div",attributes:{class:["ck-insert-table-dropdown-grid-box",s.if("isOn","ck-on")],"data-row":t,"data-column":i}}),o}return e}(Tn),xb=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this,i=this.editor,o=this.editor.t,s=i.locale.contentLanguageDirection==="ltr";i.ui.componentFactory.add("insertTable",function(l){var c=i.commands.get("insertTable"),u=po(l),d;return u.bind("isEnabled").to(c),u.buttonView.set({icon:'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M3 6v3h4V6H3zm0 4v3h4v-3H3zm0 4v3h4v-3H3zm5 3h4v-3H8v3zm5 0h4v-3h-4v3zm4-4v-3h-4v3h4zm0-4V6h-4v3h4zm1.5 8a1.5 1.5 0 0 1-1.5 1.5H3A1.5 1.5 0 0 1 1.5 17V4c.222-.863 1.068-1.5 2-1.5h13c.932 0 1.778.637 2 1.5v13zM12 13v-3H8v3h4zm0-4V6H8v3h4z"/></svg>',label:o("Insert table"),tooltip:!0}),u.on("change:isOpen",function(){d||(d=new wb(l),u.panelView.children.add(d),d.delegate("execute").to(u),u.buttonView.on("open",function(){d.rows=0,d.columns=0}),u.on("execute",function(){i.execute("insertTable",{rows:d.rows,columns:d.columns}),i.editing.view.focus()}))}),u}),i.ui.componentFactory.add("tableColumn",function(l){var c=[{type:"switchbutton",model:{commandName:"setTableColumnHeader",label:o("Header column"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:s?"insertTableColumnLeft":"insertTableColumnRight",label:o("Insert column left")}},{type:"button",model:{commandName:s?"insertTableColumnRight":"insertTableColumnLeft",label:o("Insert column right")}},{type:"button",model:{commandName:"removeTableColumn",label:o("Delete column")}},{type:"button",model:{commandName:"selectTableColumn",label:o("Select column")}}];return t._prepareDropdown(o("Column"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M18 7v1H2V7h16zm0 5v1H2v-1h16z" opacity=".6"/><path d="M14 1v18a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V1a1 1 0 0 1 1-1h6a1 1 0 0 1 1 1zm-2 1H8v4h4V2zm0 6H8v4h4V8zm0 6H8v4h4v-4z"/></svg>',c,l)}),i.ui.componentFactory.add("tableRow",function(l){var c=[{type:"switchbutton",model:{commandName:"setTableRowHeader",label:o("Header row"),bindIsOn:!0}},{type:"separator"},{type:"button",model:{commandName:"insertTableRowAbove",label:o("Insert row above")}},{type:"button",model:{commandName:"insertTableRowBelow",label:o("Insert row below")}},{type:"button",model:{commandName:"removeTableRow",label:o("Delete row")}},{type:"button",model:{commandName:"selectTableRow",label:o("Select row")}}];return t._prepareDropdown(o("Row"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v16h-1V2z" opacity=".6"/><path d="M1 6h18a1 1 0 0 1 1 1v6a1 1 0 0 1-1 1H1a1 1 0 0 1-1-1V7a1 1 0 0 1 1-1zm1 2v4h4V8H2zm6 0v4h4V8H8zm6 0v4h4V8h-4z"/></svg>',c,l)}),i.ui.componentFactory.add("mergeTableCells",function(l){var c=[{type:"button",model:{commandName:"mergeTableCellUp",label:o("Merge cell up")}},{type:"button",model:{commandName:s?"mergeTableCellRight":"mergeTableCellLeft",label:o("Merge cell right")}},{type:"button",model:{commandName:"mergeTableCellDown",label:o("Merge cell down")}},{type:"button",model:{commandName:s?"mergeTableCellLeft":"mergeTableCellRight",label:o("Merge cell left")}},{type:"separator"},{type:"button",model:{commandName:"splitTableCellVertically",label:o("Split cell vertically")}},{type:"button",model:{commandName:"splitTableCellHorizontally",label:o("Split cell horizontally")}}];return t._prepareMergeSplitButtonDropdown(o("Merge cells"),'<svg viewBox="0 0 20 20" xmlns="http://www.w3.org/2000/svg"><path d="M2.5 1h15A1.5 1.5 0 0 1 19 2.5v15a1.5 1.5 0 0 1-1.5 1.5h-15A1.5 1.5 0 0 1 1 17.5v-15A1.5 1.5 0 0 1 2.5 1zM2 2v16h16V2H2z" opacity=".6"/><path d="M7 2h1v16H7V2zm5 0h1v7h-1V2zm6 5v1H2V7h16zM8 12v1H2v-1h6z" opacity=".6"/><path d="M7 7h12a1 1 0 0 1 1 1v11a1 1 0 0 1-1 1H7a1 1 0 0 1-1-1V8a1 1 0 0 1 1-1zm1 2v9h10V9H8z"/></svg>',c,l)})}},{key:"_prepareDropdown",value:function(t,i,o,s){var l=this.editor,c=po(s),u=this._fillDropdownWithListOptions(c,o);return c.buttonView.set({label:t,icon:i,tooltip:!0}),c.bind("isEnabled").toMany(u,"isEnabled",function(){for(var d=arguments.length,h=new Array(d),v=0;v<d;v++)h[v]=arguments[v];return h.some(function(m){return m})}),this.listenTo(c,"execute",function(d){l.execute(d.source.commandName),l.editing.view.focus()}),c}},{key:"_prepareMergeSplitButtonDropdown",value:function(t,i,o,s){var l=this.editor,c=po(s,kb);return this._fillDropdownWithListOptions(c,o),c.buttonView.set({label:t,icon:i,tooltip:!0,isEnabled:!0}),this.listenTo(c.buttonView,"execute",function(){l.execute("mergeTableCells"),l.editing.view.focus()}),this.listenTo(c,"execute",function(u){l.execute(u.source.commandName),l.editing.view.focus()}),c}},{key:"_fillDropdownWithListOptions",value:function(t,i){var o=this.editor,s=[],l=new Tr,c=p(i),u;try{for(c.s();!(u=c.n()).done;){var d=u.value;Eb(d,o,s,l)}}catch(h){c.e(h)}finally{c.f()}return Td(t,l,o.ui.componentFactory),s}}]),e}(ut);function Eb(a,r,e,n){var t=a.model=new $c(a.model),i=a.model,o=i.commandName,s=i.bindIsOn;if(a.type==="button"||a.type==="switchbutton"){var l=r.commands.get(o);e.push(l),t.set({commandName:o}),t.bind("isEnabled").to(l),s&&t.bind("isOn").to(l,"value")}t.set({withText:!0}),n.add(a)}var Cb=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.domEventType=["mousemove","mouseup","mouseleave"],t}return _(e,[{key:"onDomEvent",value:function(t){this.fire(t.type,t)}}]),e}(re);function nv(a,r,e,n){for(var t=r.startRow,i=r.startColumn,o=r.endRow,s=r.endColumn,l=e.createElement("table"),c=o-t+1,u=0;u<c;u++)e.insertElement("tableRow",l,"end");var d=R(new Qn(a,{startRow:t,endRow:o,includeSpanned:!0})),h=p(d),v;try{for(h.s();!(v=h.n()).done;){var m=v.value,k=m.row,E=m.column,P=m.cell,U=m.isSpanned;if(!(E<i||E>s)){var H=k-t,G=l.getChild(H);if(U){var Z=n.getCellLocation(P),ce=Z.row,ye=Z.column;(ce<t||ye<i)&&Na(e,e.createPositionAt(G,"end"))}else{var ke=P._clone(!0);e.append(ke,G),rv(ke,k,E,o,s,e)}}}}catch(Re){h.e(Re)}finally{h.f()}return function(Re,Xe,gt,Bt,pt){var nt=parseInt(Xe.getAttribute("headingRows")||0);nt>0&&Ir("headingRows",nt-gt,Re,pt,0);var Ht=parseInt(Xe.getAttribute("headingColumns")||0);Ht>0&&Ir("headingColumns",Ht-Bt,Re,pt,0)}(l,a,t,i,e),l}function rv(a,r,e,n,t,i){var o=parseInt(a.getAttribute("colspan")||1),s=parseInt(a.getAttribute("rowspan")||1);e+o-1>t&&Ir("colspan",t-e+1,a,i,1),r+s-1>n&&Ir("rowspan",n-r+1,a,i,1)}L(92);var vl=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.model;this.listenTo(o,"deleteContent",function(s,l){return t._handleDeleteContent(s,l)},{priority:"high"}),i.editing.view.addObserver(Cb),this._defineSelectionConverter(),this._enableShiftClickSelection(),this._enableMouseDragSelection(),this._enablePluginDisabling()}},{key:"getSelectedTableCells",value:function(){var t=wo(this.editor.model.document.selection);return t.length==0?null:t}},{key:"getSelectionAsFragment",value:function(){var t=this,i=this.getSelectedTableCells();return i?this.editor.model.change(function(o){var s=o.createDocumentFragment(),l=_o(i),c=l.first,u=l.last,d=ba(i),h=d.first,v=d.last,m=nv(dr("table",i[0]),{startRow:h,startColumn:c,endRow:v,endColumn:u},o,t.editor.plugins.get("TableUtils"));return o.insert(m,s,0),s}):null}},{key:"setCellSelection",value:function(t,i){var o=this._getCellsToSelect(t,i);this.editor.model.change(function(s){s.setSelection(o.cells.map(function(l){return s.createRangeOn(l)}),{backward:o.backward})})}},{key:"getFocusCell",value:function(){var t=R(this.editor.model.document.selection.getRanges()).pop().getContainedElement();return t&&t.is("tableCell")?t:null}},{key:"getAnchorCell",value:function(){var t=Bi(this.editor.model.document.selection.getRanges()).getContainedElement();return t&&t.is("tableCell")?t:null}},{key:"_defineSelectionConverter",value:function(){var t=this,i=this.editor,o=new Set;i.conversion.for("editingDowncast").add(function(s){return s.on("selection",function(l,c,u){var d=u.writer;(function(U){var H=p(o),G;try{for(H.s();!(G=H.n()).done;){var Z=G.value;U.removeClass("ck-editor__editable_selected",Z)}}catch(ce){H.e(ce)}finally{H.f()}o.clear()})(d);var h=t.getSelectedTableCells();if(!!h){var v=p(h),m;try{for(v.s();!(m=v.n()).done;){var k=m.value,E=u.mapper.toViewElement(k);d.addClass("ck-editor__editable_selected",E),o.add(E)}}catch(U){v.e(U)}finally{v.f()}var P=u.mapper.toViewElement(h[h.length-1]);d.setSelection(P,0)}},{priority:"lowest"})})}},{key:"_enableShiftClickSelection",value:function(){var t=this,i=this.editor,o=!1;this.listenTo(i.editing.view.document,"mousedown",function(s,l){if(!!t.isEnabled&&!!l.domEvent.shiftKey){var c=t.getAnchorCell()||ds(i.model.document.selection)[0];if(!!c){var u=t._getModelTableCellFromDomEvent(l);u&&iv(c,u)&&(o=!0,t.setCellSelection(c,u),l.preventDefault())}}}),this.listenTo(i.editing.view.document,"mouseup",function(){o=!1}),this.listenTo(i.editing.view.document,"selectionChange",function(s){o&&s.stop()},{priority:"highest"})}},{key:"_enableMouseDragSelection",value:function(){var t=this,i=this.editor,o,s,l=!1,c=!1;this.listenTo(i.editing.view.document,"mousedown",function(u,d){t.isEnabled&&(d.domEvent.shiftKey||d.domEvent.ctrlKey||d.domEvent.altKey||(o=t._getModelTableCellFromDomEvent(d)))}),this.listenTo(i.editing.view.document,"mousemove",function(u,d){if(!!d.domEvent.buttons&&!!o){var h=t._getModelTableCellFromDomEvent(d);h&&iv(o,h)&&(s=h,l||s==o||(l=!0)),l&&(c=!0,t.setCellSelection(o,s),d.preventDefault())}}),this.listenTo(i.editing.view.document,"mouseup",function(){l=!1,c=!1,o=null,s=null}),this.listenTo(i.editing.view.document,"selectionChange",function(u){c&&u.stop()},{priority:"highest"})}},{key:"_enablePluginDisabling",value:function(){var t=this,i=this.editor;this.on("change:isEnabled",function(){if(!t.isEnabled){var o=t.getSelectedTableCells();if(!o)return;i.model.change(function(s){var l=s.createPositionAt(o[0],0),c=i.model.schema.getNearestSelectionRange(l);s.setSelection(c)})}})}},{key:"_handleDeleteContent",value:function(t,i){var o=C(i,2),s=o[0],l=o[1],c=this.editor.model,u=!l||l.direction=="backward",d=wo(s);d.length&&(t.stop(),c.change(function(h){var v=d[u?d.length-1:0];c.change(function(k){var E=p(d),P;try{for(E.s();!(P=E.n()).done;){var U=P.value;c.deleteContent(k.createSelection(U,"in"))}}catch(H){E.e(H)}finally{E.f()}});var m=c.schema.getNearestSelectionRange(h.createPositionAt(v,0));s.is("documentSelection")?h.setSelection(m):s.setTo(m)}))}},{key:"_getModelTableCellFromDomEvent",value:function(t){var i=t.target,o=this.editor.editing.view.createPositionAt(i,0),s=this.editor.editing.mapper.toModelPosition(o).parent;return s.is("tableCell")?s:dr("tableCell",s)}},{key:"_getCellsToSelect",value:function(t,i){var o=this.editor.plugins.get("TableUtils"),s=o.getCellLocation(t),l=o.getCellLocation(i),c=Math.min(s.row,l.row),u=Math.max(s.row,l.row),d=Math.min(s.column,l.column),h=Math.max(s.column,l.column),v=new Array(u-c+1).fill(null).map(function(){return[]}),m=p(new Qn(dr("table",t),{startRow:c,endRow:u})),k;try{for(m.s();!(k=m.n()).done;){var E=k.value;E.column>=d&&E.column<=h&&v[E.row-c].push(E.cell)}}catch(H){m.e(H)}finally{m.f()}var P=l.row<s.row,U=l.column<s.column;return P&&v.reverse(),U&&v.forEach(function(H){return H.reverse()}),{cells:v.flat(),backward:P||U}}}],[{key:"pluginName",get:function(){return"TableSelection"}},{key:"requires",get:function(){return[xo]}}]),e}(ut);function iv(a,r){return a.parent.parent==r.parent.parent}var Ob=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this,i=this.editor,o=i.editing.view.document;this.listenTo(o,"copy",function(s,l){return t._onCopyCut(s,l)}),this.listenTo(o,"cut",function(s,l){return t._onCopyCut(s,l)}),this.listenTo(i.model,"insertContent",function(s,l){return t._onInsertContent.apply(t,[s].concat(R(l)))},{priority:"high"})}},{key:"_onCopyCut",value:function(t,i){var o=this.editor.plugins.get(vl);if(!!o.getSelectedTableCells()&&!(t.name=="cut"&&this.editor.isReadOnly)){i.preventDefault(),t.stop();var s=this.editor.data,l=this.editor.editing.view.document,c=s.toView(o.getSelectionAsFragment());l.fire("clipboardOutput",{dataTransfer:i.dataTransfer,content:c,method:t.name})}}},{key:"_onInsertContent",value:function(t,i,o){if(!(o&&!o.is("documentSelection"))){var s=this.editor.model,l=this.editor.plugins.get(xo),c=zr(s.document.selection);if(!!c.length){var u=function(d){return d.is("table")?d:d.childCount!=1||!d.getChild(0).is("table")?null:d.getChild(0)}(i);u&&(t.stop(),s.change(function(d){var h=_o(c),v=ba(c),m=h.first,k=h.last,E=v.first,P=v.last,U=l.getRows(u),H=l.getColumns(u),G=dr("table",c[0]),Z=c.length===1;Z&&(P+=U-1,k+=H-1,function(Re,Xe,gt,Bt,pt){var nt=pt.getColumns(Re),Ht=pt.getRows(Re);gt>nt&&pt.insertColumns(Re,{batch:Bt.batch,at:nt,columns:gt-nt}),Xe>Ht&&pt.insertRows(Re,{batch:Bt.batch,at:Ht,rows:Xe-Ht})}(G,P+1,k+1,d,l)),Z||!Ah(c,l)?function(Re,Xe,gt){var Bt=Xe.firstRow,pt=Xe.lastRow,nt=Xe.firstColumn,Ht=Xe.lastColumn,Wt={first:Bt,last:pt},vn={first:nt,last:Ht};ov(Re,nt,Wt,gt),ov(Re,Ht+1,Wt,gt),av(Re,Bt,vn,gt),av(Re,pt+1,vn,gt,Bt)}(G,{firstRow:E,lastRow:P,firstColumn:m,lastColumn:k},d):(P=function(Re,Xe,gt){var Bt=new Qn(Re,{startRow:Xe.last,endRow:Xe.last}),pt=Array.from(Bt).filter(function(Ht){var Wt=Ht.column;return gt.first<=Wt&&Wt<=gt.last});if(pt.every(function(Ht){var Wt=Ht.rowspan;return Wt===1}))return Xe.last;var nt=pt[0].rowspan-1;return Xe.last+nt}(G,v,h),k=function(Re,Xe,gt){var Bt=Array.from(new Qn(Re,{startRow:Xe.first,endRow:Xe.last,column:gt.last}));if(Bt.every(function(nt){var Ht=nt.colspan;return Ht===1}))return gt.last;var pt=Bt[0].colspan-1;return gt.last+pt}(G,v,h));var ce=P-E+1,ye=k-m+1,ke={startRow:0,startColumn:0,endRow:Math.min(ce-1,U-1),endColumn:Math.min(ye-1,H-1)};u=nv(u,ke,d,l),function(Re,Xe,gt,Bt,pt){for(var nt=Bt.firstColumnOfSelection,Ht=Bt.lastColumnOfSelection,Wt=Bt.firstRowOfSelection,vn=Bt.lastRowOfSelection,ir=Xe.width,Nr=Xe.height,ni=function(ou,Jb,Qb){var bv=new Array(Qb).fill(null).map(function(){return new Array(Jb).fill(null)}),pl=p(new Qn(ou)),yv;try{for(pl.s();!(yv=pl.n()).done;){var su=yv.value,Zb=su.column,Xb=su.row,qb=su.cell;bv[Xb][Zb]=qb}}catch(ey){pl.e(ey)}finally{pl.f()}return bv}(Re,ir,Nr),La=R(new Qn(gt,{startRow:Wt,endRow:vn,includeSpanned:!0})),ki=[],li,zi=0,Ba=La;zi<Ba.length;zi++){var Va=Ba[zi],fs=Va.row,hs=Va.column,vv=Va.cell,gv=Va.isSpanned;if(hs===0&&(li=null),hs<nt||hs>Ht){gv||(li=vv);continue}gv||pt.remove(vv);var $b=hs-nt,pv=ni[(fs-Wt)%Nr][$b%ir];if(!!pv){var gl=pv._clone(!0),mv=void 0;rv(gl,fs,hs,vn,Ht,pt),mv=li?pt.createPositionAfter(li):pt.createPositionAt(gt.getChild(fs),0),pt.insert(gl,mv),ki.push(gl),li=gl}}pt.setSelection(ki.map(function(ou){return pt.createRangeOn(ou)}))}(u,{width:H,height:U},G,{firstColumnOfSelection:m,firstRowOfSelection:E,lastColumnOfSelection:k,lastRowOfSelection:P},d)}))}}}}],[{key:"pluginName",get:function(){return"TableClipboard"}},{key:"requires",get:function(){return[vl,xo]}}]),e}(ut);function av(a,r,e,n){var t=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!(r<1)){var i=Th(a,r,t).filter(function(u){var d=u.column,h=u.colspan;return sv(d,h,e)}),o=p(i),s;try{for(o.s();!(s=o.n()).done;){var l=s.value,c=l.cell;Sh(c,r,n)}}catch(u){o.e(u)}finally{o.f()}}}function ov(a,r,e,n){if(!(r<1)){var t=Mh(a,r).filter(function(u){var d=u.row,h=u.rowspan;return sv(d,h,e)}),i=p(t),o;try{for(i.s();!(o=i.n()).done;){var s=o.value,l=s.cell,c=s.column;Ih(l,c,r,n)}}catch(u){i.e(u)}finally{i.f()}}}function sv(a,r,e){var n=a+r-1,t=e.first,i=e.last;return a>=t&&a<=i||a<t&&n>=t}var Pb=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this,i=this.editor.editing.view.document;this.editor.keystrokes.set("Tab",function(){return t._handleTabOnSelectedTable.apply(t,arguments)},{priority:"low"}),this.editor.keystrokes.set("Tab",this._getTabHandler(!0),{priority:"low"}),this.editor.keystrokes.set("Shift+Tab",this._getTabHandler(!1),{priority:"low"}),this.listenTo(i,"keydown",function(){return t._onKeydown.apply(t,arguments)},{priority:Qi.get("high")+1})}},{key:"_handleTabOnSelectedTable",value:function(t,i){var o=this.editor,s=o.model.document.selection;if(!s.isCollapsed&&s.rangeCount===1&&s.getFirstRange().isFlat){var l=s.getSelectedElement();if(!l||!l.is("table"))return;i(),o.model.change(function(c){c.setSelection(c.createRangeIn(l.getChild(0).getChild(0)))})}}},{key:"_getTabHandler",value:function(t){var i=this.editor;return function(o,s){var l=ds(i.model.document.selection)[0];if(!!l){s();var c=l.parent,u=c.parent,d=u.getChildIndex(c),h=c.getChildIndex(l),v=h===0;if(!(!t&&v&&d===0)){var m=h===c.childCount-1,k=d===u.childCount-1;if(!(t&&k&&m&&(i.execute("insertTableRowBelow"),d===u.childCount-1))){var E;if(t&&m){var P=u.getChild(d+1);E=P.getChild(0)}else if(!t&&v){var U=u.getChild(d-1);E=U.getChild(U.childCount-1)}else E=c.getChild(h+(t?1:-1));i.model.change(function(H){H.setSelection(H.createRangeIn(E))})}}}}}},{key:"_onKeydown",value:function(t,i){var o=i.keyCode;if(!!function(l){return l==an.arrowright||l==an.arrowleft||l==an.arrowup||l==an.arrowdown}(o)){var s=function(l,c){var u=c==="ltr";switch(l){case an.arrowleft:return u?"left":"right";case an.arrowright:return u?"right":"left";case an.arrowup:return"up";case an.arrowdown:return"down"}}(o,this.editor.locale.contentLanguageDirection);this._handleArrowKeys(s,i.shiftKey)&&(i.preventDefault(),i.stopPropagation(),t.stop())}}},{key:"_handleArrowKeys",value:function(t,i){var o=this.editor.model,s=o.document.selection,l=["right","down"].includes(t),c=wo(s);if(c.length){var u;return u=i?this.editor.plugins.get("TableSelection").getFocusCell():l?c[c.length-1]:c[0],this._navigateFromCellInDirection(u,t,i),!0}var d=dr("tableCell",s.focus);if(!d)return!1;var h=o.createRangeIn(d);if(this._isSelectionAtCellEdge(s,l))return this._navigateFromCellInDirection(d,t,i),!0;var v=s.getSelectedElement();if(v&&o.schema.isObject(v)||this._isObjectElementNextToSelection(s,l))return!1;var m=this._findTextRangeFromSelection(h,s,l);return m?!["left","right"].includes(t)&&(this._isSingleLineRange(m,l)?(o.change(function(k){var E=l?h.end:h.start;if(i){var P=o.createSelection(s.anchor);P.setFocus(E),k.setSelection(P)}else k.setSelection(E)}),!0):void 0):(this._navigateFromCellInDirection(d,t,i),!0)}},{key:"_isSelectionAtCellEdge",value:function(t,i){var o=this.editor.model,s=this.editor.model.schema,l=i?t.getLastPosition():t.getFirstPosition();if(!s.getLimitElement(l).is("tableCell"))return!1;var c=o.createSelection(l);return o.modifySelection(c,{direction:i?"forward":"backward"}),l.isEqual(c.focus)}},{key:"_isObjectElementNextToSelection",value:function(t,i){var o=this.editor.model,s=o.schema,l=o.createSelection(t);o.modifySelection(l,{direction:i?"forward":"backward"});var c=i?l.focus.nodeBefore:l.focus.nodeAfter;return c&&s.isObject(c)}},{key:"_findTextRangeFromSelection",value:function(t,i,o){var s=this.editor.model;if(o){var l=i.getLastPosition(),c=this._getNearestVisibleTextPosition(t,"backward");return c&&l.isBefore(c)?s.createRange(l,c):null}{var u=i.getFirstPosition(),d=this._getNearestVisibleTextPosition(t,"forward");return d&&u.isAfter(d)?s.createRange(d,u):null}}},{key:"_getNearestVisibleTextPosition",value:function(t,i){var o=this.editor.model.schema,s=this.editor.editing.mapper,l=p(t.getWalker({direction:i})),c;try{for(l.s();!(c=l.n()).done;){var u=c.value,d=u.nextPosition,h=u.item;if(o.checkChild(d,"$text")){var v=s.toViewElement(h);if(v&&!v.hasClass("ck-hidden"))return d}}}catch(m){l.e(m)}finally{l.f()}}},{key:"_isSingleLineRange",value:function(t,i){var o=this.editor.model,s=this.editor.editing,l=s.view.domConverter;if(i){var c=o.createSelection(t.start);o.modifySelection(c),c.focus.isAtEnd||t.start.isEqual(c.focus)||(t=o.createRange(c.focus,t.end))}var u=s.mapper.toViewRange(t),d=l.viewRangeToDom(u),h=Mr.getDomRangeRects(d),v,m=p(h),k;try{for(m.s();!(k=m.n()).done;){var E=k.value;if(v!==void 0){if(Math.round(E.top)>=v)return!1;v=Math.max(v,Math.round(E.bottom))}else v=Math.round(E.bottom)}}catch(P){m.e(P)}finally{m.f()}return!0}},{key:"_navigateFromCellInDirection",value:function(t,i){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,s=this.editor.model,l=dr("table",t),c=R(new Qn(l,{includeSpanned:!0})),u=c[c.length-1],d=u.row,h=u.column,v=c.find(function(Z){var ce=Z.cell;return ce==t}),m=v.row,k=v.column;switch(i){case"left":k--;break;case"up":m--;break;case"right":k+=v.colspan;break;case"down":m+=v.rowspan}if(m<0||m>d||k<0&&m<=0||k>h&&m>=d)return void s.change(function(Z){Z.setSelection(Z.createRangeOn(l))});k<0?(k=o?0:h,m--):k>h&&(k=o?h:0,m++);var E=c.find(function(Z){return Z.row==m&&Z.column==k}).cell,P=["right","down"].includes(i);if(o){var U=this.editor.plugins.get("TableSelection"),H=U.getAnchorCell()||t;U.setCellSelection(H,E)}else{var G=s.createPositionAt(E,P?0:"end");s.change(function(Z){Z.setSelection(G)})}}}],[{key:"pluginName",get:function(){return"TableNavigation"}},{key:"requires",get:function(){return[vl]}}]),e}(ut);L(94);var ru=function(){function a(r,e){var n=this;w(this,a),this.model=r,this.testCallback=e,this.hasMatch=!1,this.set("isEnabled",!0),this.on("change:isEnabled",function(){n.isEnabled?n._startListening():(n.stopListening(r.document.selection),n.stopListening(r.document))}),this._startListening()}return _(a,[{key:"_startListening",value:function(){var e=this,n=this.model.document;this.listenTo(n.selection,"change:range",function(t,i){var o=i.directChange;o&&(n.selection.isCollapsed?e._evaluateTextBeforeSelection("selection"):e.hasMatch&&(e.fire("unmatched"),e.hasMatch=!1))}),this.listenTo(n,"change:data",function(t,i){i.type!="transparent"&&e._evaluateTextBeforeSelection("data",{batch:i})})}},{key:"_evaluateTextBeforeSelection",value:function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},t=this.model,i=t.document.selection,o=t.createRange(t.createPositionAt(i.focus.parent,0),i.focus),s=ef(o,t),l=s.text,c=s.range,u=this.testCallback(l);if(!u&&this.hasMatch&&this.fire("unmatched"),this.hasMatch=!!u,u){var d=Object.assign(n,{text:l,range:c});typeof u=="object"&&Object.assign(d,u),this.fire("matched:"+e,d)}}}]),a}();tn(ru,Jn);var lv=/[\\^$.*+?()[\]{}|]/g,Ab=RegExp(lv.source),Tb=function(r){return(r=Po(r))&&Ab.test(r)?r.replace(lv,"\\$&"):r},Sb={copyright:{from:"(c)",to:"\xA9"},registeredTrademark:{from:"(r)",to:"\xAE"},trademark:{from:"(tm)",to:"\u2122"},oneHalf:{from:"1/2",to:"\xBD"},oneThird:{from:"1/3",to:"\u2153"},twoThirds:{from:"2/3",to:"\u2154"},oneForth:{from:"1/4",to:"\xBC"},threeQuarters:{from:"3/4",to:"\xBE"},lessThanOrEqual:{from:"<=",to:"\u2264"},greaterThanOrEqual:{from:">=",to:"\u2265"},notEqual:{from:"!=",to:"\u2260"},arrowLeft:{from:"<-",to:"\u2190"},arrowRight:{from:"->",to:"\u2192"},horizontalEllipsis:{from:"...",to:"\u2026"},enDash:{from:/(^| )(--)( )$/,to:[null,"\u2013",null]},emDash:{from:/(^| )(---)( )$/,to:[null,"\u2014",null]},quotesPrimary:{from:Co('"'),to:[null,"\u201C",null,"\u201D"]},quotesSecondary:{from:Co("'"),to:[null,"\u2018",null,"\u2019"]},quotesPrimaryEnGb:{from:Co("'"),to:[null,"\u2018",null,"\u2019"]},quotesSecondaryEnGb:{from:Co('"'),to:[null,"\u201C",null,"\u201D"]},quotesPrimaryPl:{from:Co('"'),to:[null,"\u201E",null,"\u201D"]},quotesSecondaryPl:{from:Co("'"),to:[null,"\u201A",null,"\u2019"]}},cv={symbols:["copyright","registeredTrademark","trademark"],mathematical:["oneHalf","oneThird","twoThirds","oneForth","threeQuarters","lessThanOrEqual","greaterThanOrEqual","notEqual","arrowLeft","arrowRight"],typography:["horizontalEllipsis","enDash","emDash"],quotes:["quotesPrimary","quotesSecondary"]},Mb=["symbols","mathematical","typography","quotes"];function Ib(a){return typeof a=="string"?new RegExp("(".concat(Tb(a),")$")):a}function jb(a){return typeof a=="string"?function(){return[a]}:a instanceof Array?function(){return a}:a}function Rb(a){return(a.textNode?a.textNode:a.nodeAfter).getAttributes()}function Co(a){return new RegExp("(^|\\s)(".concat(a,")([^").concat(a,"]*)(").concat(a,")$"))}var Db=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"refresh",value:function(){var t=this.editor.model,i=t.document;this.isEnabled=t.schema.checkAttributeInSelection(i.selection,"mention")}},{key:"execute",value:function(t){var i=this.editor.model,o=i.document.selection,s=typeof t.mention=="string"?{id:t.mention}:t.mention,l=s.id,c=t.range||o.getFirstRange(),u=t.text||l,d=uv({_text:u,id:l},s);if(t.marker.length!=1)throw new le.b("mentioncommand-incorrect-marker: The marker must be a single character.",this);if(l.charAt(0)!=t.marker)throw new le.b("mentioncommand-incorrect-id: The item id must start with the marker character.",this);i.change(function(h){var v=bn(o.getAttributes()),m=new Map(v.entries());m.set("mention",d),i.insertContent(h.createText(u,m),c),i.insertContent(h.createText(" ",v),c.start.getShiftedBy(u.length))})}}]),e}(jn),Nb=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor,i=t.model,o=i.document;i.schema.extend("$text",{allowAttributes:"mention"}),t.conversion.for("upcast").elementToAttribute({view:{name:"span",key:"data-mention",classes:"mention"},model:{key:"mention",value:dv}}),t.conversion.for("downcast").attributeToElement({model:"mention",view:Lb}),t.conversion.for("downcast").add(Fb),o.registerPostFixer(function(s){return function(l,c,u){var d=c.differ.getChanges(),h=!1,v=p(d),m;try{for(v.s();!(m=v.n()).done;){var k=m.value,E=k.position;if(k.name=="$text"){var P=E.textNode&&E.textNode.nextSibling;h=Fa(E.textNode,l)||h,h=Fa(P,l)||h,h=Fa(E.nodeBefore,l)||h,h=Fa(E.nodeAfter,l)||h}if(k.name!="$text"&&k.type=="insert"){var U=E.nodeAfter,H=p(l.createRangeIn(U).getItems()),G;try{for(H.s();!(G=H.n()).done;){var Z=G.value;h=Fa(Z,l)||h}}catch(ye){H.e(ye)}finally{H.f()}}if(k.type=="insert"&&u.isInline(k.name)){var ce=E.nodeAfter&&E.nodeAfter.nextSibling;h=Fa(E.nodeBefore,l)||h,h=Fa(ce,l)||h}}}catch(ye){v.e(ye)}finally{v.f()}return h}(s,o,i.schema)}),o.registerPostFixer(function(s){return function(l,c){var u=c.differ.getChanges(),d=!1,h=p(u),v;try{for(h.s();!(v=h.n()).done;){var m=v.value;if(m.type==="attribute"&&m.attributeKey!="mention")for(var k=m.range.start.nodeBefore,E=m.range.end.nodeAfter,P=0,U=[k,E];P<U.length;P++){var H=U[P];fv(H)&&H.getAttribute(m.attributeKey)!=m.attributeNewValue&&(l.setAttribute(m.attributeKey,m.attributeNewValue,H),d=!0)}}}catch(G){h.e(G)}finally{h.f()}return d}(s,o)}),o.registerPostFixer(function(s){return function(l,c){var u=c.selection,d=u.focus;if(u.isCollapsed&&u.hasAttribute("mention")&&function(h){var v=h.isAtStart;return h.nodeBefore&&h.nodeBefore.is("text")||v}(d))return l.removeSelectionAttribute("mention"),!0}(s,o)}),t.commands.add("mention",new Db(t))}}],[{key:"pluginName",get:function(){return"MentionEditing"}}]),e}(ut);function uv(a,r){return Object.assign({_uid:Yr()},a,r||{})}function dv(a,r){var e=a.getAttribute("data-mention"),n=a.getChild(0);if(!!n)return uv({id:e,_text:n.data},r)}function Fb(a){a.on("attribute:mention",function(r,e,n){var t=e.attributeNewValue;if(!(!e.item.is("textProxy")||!t)){var i=e.range.start;(i.textNode||i.nodeAfter).data!=t._text&&n.consumable.consume(e.item,r.name)}},{priority:"highest"})}function Lb(a,r){if(!!a){var e={class:"mention","data-mention":a.id},n={id:a._uid,priority:20};return r.createAttributeElement("span",e,n)}}function fv(a){return!a||!a.is("text")&&!a.is("textProxy")||!a.hasAttribute("mention")?!1:a.data!=a.getAttribute("mention")._text}function Fa(a,r){return!!fv(a)&&(r.removeAttribute("mention",a),!0)}L(96);var Bb=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t.extendTemplate({attributes:{class:["ck-mentions"],tabindex:"-1"}}),t}return _(e,[{key:"selectFirst",value:function(){this.select(0)}},{key:"selectNext",value:function(){var t=this.selected,i=this.items.getIndex(t);this.select(i+1)}},{key:"selectPrevious",value:function(){var t=this.selected,i=this.items.getIndex(t);this.select(i-1)}},{key:"select",value:function(t){var i=0;t>0&&t<this.items.length?i=t:t<0&&(i=this.items.length-1);var o=this.items.get(i);this.selected!==o&&(this.selected&&this.selected.removeHighlight(),o.highlight(),this.selected=o,this._isItemVisibleInScrolledArea(o)||(this.element.scrollTop=o.element.offsetTop))}},{key:"executeSelected",value:function(){this.selected.fire("execute")}},{key:"_isItemVisibleInScrolledArea",value:function(t){return new Mr(this.element).contains(new Mr(t.element))}}]),e}(Pd),Vb=function(a){O(e,a);var r=D(e);function e(n,t){var i;return w(this,e),i=r.call(this,n),i.template=!1,i.domElement=t,i.domElement.classList.add("ck-button"),i.set("isOn",!1),i.on("change:isOn",function(o,s,l){l?(i.domElement.classList.add("ck-on"),i.domElement.classList.remove("ck-off")):(i.domElement.classList.add("ck-off"),i.domElement.classList.remove("ck-on"))}),i.listenTo(i.domElement,"click",function(){i.fire("execute")}),i}return _(e,[{key:"render",value:function(){b(x(e.prototype),"render",this).call(this),this.element=this.domElement}}]),e}(Tn),zb=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"highlight",value:function(){this.children.first.isOn=!0}},{key:"removeHighlight",value:function(){this.children.first.isOn=!1}}]),e}(Ad),Ub=[an.arrowup,an.arrowdown,an.enter,an.tab,an.space,an.esc],Wb=function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),t._mentionsView=t._createMentionView(),t._mentionsConfigurations=new Map,t._requestFeedDebounced=on(t._requestFeed,100),n.config.define("mention",{feeds:[]}),t}return _(e,[{key:"init",value:function(){var t=this,i=this.editor;this._balloon=i.plugins.get(ko),i.editing.view.document.on("keydown",function(k,E){var P;P=E.keyCode,Ub.includes(P)&&t._isUIVisible&&(E.preventDefault(),k.stop(),E.keyCode==an.arrowdown&&t._mentionsView.selectNext(),E.keyCode==an.arrowup&&t._mentionsView.selectPrevious(),E.keyCode!=an.enter&&E.keyCode!=an.tab&&E.keyCode!=an.space||t._mentionsView.executeSelected(),E.keyCode==an.esc&&t._hideUIAndRemoveMarker())},{priority:"highest"}),qs({emitter:this._mentionsView,activator:function(){return t._isUIVisible},contextElements:[this._balloon.view.element],callback:function(){return t._hideUIAndRemoveMarker()}});var o=i.config.get("mention.feeds"),s=p(o),l;try{for(s.s();!(l=s.n()).done;){var c=l.value,u=c.feed,d=c.marker;if(!Gb(d))throw new le.b("mentionconfig-incorrect-marker: The marker must be provided and it must be a single character.",null);var h=c.minimumCharacters||0,v=typeof u=="function"?u.bind(this.editor):Kb(u),m={watcher:this._setupTextWatcherForFeed(d,h),marker:d,feedCallback:v,itemRenderer:c.itemRenderer};this._mentionsConfigurations.set(d,m)}}catch(k){s.e(k)}finally{s.f()}this.on("requestFeed:response",function(k,E){return t._handleFeedResponse(E)}),this.on("requestFeed:error",function(){return t._hideUIAndRemoveMarker()})}},{key:"destroy",value:function(){b(x(e.prototype),"destroy",this).call(this),this._mentionsView.destroy()}},{key:"_isUIVisible",get:function(){return this._balloon.visibleView===this._mentionsView}},{key:"_createMentionView",value:function(){var t=this,i=this.editor.locale,o=new Bb(i);return this._items=new Tr,o.items.bindTo(this._items).using(function(s){var l=s.item,c=s.marker,u=new zb(i),d=t._renderItem(l,c);return d.delegate("execute").to(u),u.children.add(d),u.item=l,u.marker=c,u.on("execute",function(){o.fire("execute",{item:l,marker:c})}),u}),o.on("execute",function(s,l){var c=t.editor,u=c.model,d=l.item,h=l.marker,v=c.model.markers.get("mention"),m=u.createPositionAt(u.document.selection.focus),k=u.createPositionAt(v.getStart()),E=u.createRange(k,m);t._hideUIAndRemoveMarker(),c.execute("mention",{mention:d,text:d.text,marker:h,range:E}),c.editing.view.focus()}),o}},{key:"_getItemRenderer",value:function(t){var i=this._mentionsConfigurations.get(t),o=i.itemRenderer;return o}},{key:"_requestFeed",value:function(t,i){var o=this;this._lastRequested=i;var s=this._mentionsConfigurations.get(t),l=s.feedCallback,c=l(i);c instanceof Promise?c.then(function(u){o._lastRequested==i?o.fire("requestFeed:response",{feed:u,marker:t,feedText:i}):o.fire("requestFeed:discarded",{feed:u,marker:t,feedText:i})}).catch(function(u){o.fire("requestFeed:error",{error:u}),console.warn(Object(le.a)("mention-feed-callback-error: Could not obtain mention autocomplete feed."))}):this.fire("requestFeed:response",{feed:c,marker:t,feedText:i})}},{key:"_setupTextWatcherForFeed",value:function(t,i){var o=this,s=this.editor,l=new ru(s.model,function(u,d){var h=hv(u,d);return function(v){return h.test(v)}}(t,i));l.on("matched",function(u,d){var h=s.model.document.selection.focus;if(function(H){var G=H.textNode&&H.textNode.hasAttribute("mention"),Z=H.nodeBefore;return G||Z&&Z.is("text")&&Z.hasAttribute("mention")}(h))return void o._hideUIAndRemoveMarker();var v=function(H,G){var Z=hv(H,0);return G.match(Z)[2]}(t,d.text),m=t.length+v.length,k=h.getShiftedBy(-m),E=h.getShiftedBy(-v.length),P=s.model.createRange(k,E);if(iu(s)){var U=s.model.markers.get("mention");s.model.change(function(H){H.updateMarker(U,{range:P})})}else s.model.change(function(H){H.addMarker("mention",{range:P,usingOperation:!1,affectsData:!1})});o._requestFeedDebounced(t,v)}),l.on("unmatched",function(){o._hideUIAndRemoveMarker()});var c=s.commands.get("mention");return l.bind("isEnabled").to(c),l}},{key:"_handleFeedResponse",value:function(t){var i=t.feed,o=t.marker;if(!!iu(this.editor)){this._items.clear();var s=p(i),l;try{for(s.s();!(l=s.n()).done;){var c=l.value,u=typeof c!="object"?{id:c,text:c}:c;this._items.add({item:u,marker:o})}}catch(h){s.e(h)}finally{s.f()}var d=this.editor.model.markers.get("mention");this._items.length?this._showOrUpdateUI(d):this._hideUIAndRemoveMarker()}}},{key:"_showOrUpdateUI",value:function(t){this._isUIVisible?this._balloon.updatePosition(this._getBalloonPanelPositionData(t,this._mentionsView.position)):this._balloon.add({view:this._mentionsView,position:this._getBalloonPanelPositionData(t,this._mentionsView.position),withArrow:!1,singleViewMode:!0}),this._mentionsView.position=this._balloon.view.position,this._mentionsView.selectFirst()}},{key:"_hideUIAndRemoveMarker",value:function(){this._balloon.hasView(this._mentionsView)&&this._balloon.remove(this._mentionsView),iu(this.editor)&&this.editor.model.change(function(t){return t.removeMarker("mention")}),this._mentionsView.position=void 0}},{key:"_renderItem",value:function(t,i){var o=this.editor,s,l=t.id,c=this._getItemRenderer(i);if(c){var u=c(t);typeof u!="string"?s=new Vb(o.locale,u):l=u}if(!s){var d=new hr(o.locale);d.label=l,d.withText=!0,s=d}return s}},{key:"_getBalloonPanelPositionData",value:function(t,i){var o=this,s=this.editor,l=s.editing,c=l.view.domConverter,u=l.mapper;return{target:function(){var h=t.getRange();h.start.root.rootName=="$graveyard"&&(h=s.model.document.selection.getFirstRange());var v=u.toViewRange(h);return Mr.getDomRangeRects(c.viewRangeToDom(v)).pop()},limiter:function(){var h=o.editor.editing.view,v=h.document.selection.editableElement;return v?h.domConverter.mapViewToDom(v.root):null},positions:Hb(i)}}}],[{key:"pluginName",get:function(){return"MentionUI"}},{key:"requires",get:function(){return[ko]}}]),e}(ut);function Hb(a){var r={caret_se:function(n){return{top:n.bottom+3,left:n.right,name:"caret_se"}},caret_ne:function(n,t){return{top:n.top-t.height-3,left:n.right,name:"caret_ne"}},caret_sw:function(n,t){return{top:n.bottom+3,left:n.right-t.width,name:"caret_sw"}},caret_nw:function(n,t){return{top:n.top-t.height-3,left:n.right-t.width,name:"caret_nw"}}};return r.hasOwnProperty(a)?[r[a]]:[r.caret_se,r.caret_sw,r.caret_ne,r.caret_nw]}function hv(a,r){var e=r==0?"*":"{".concat(r,",}"),n=ti.features.isRegExpUnicodePropertySupported?`\\p{Ps}\\p{Pi}"'`:`\\(\\[{"'`;return new RegExp("(?:^|[ ".concat(n,"])([").concat(a,"])([\\S]").concat(e,")$"),"u")}function Kb(a){return function(r){return a.filter(function(e){return(typeof e=="string"?e:String(e.id)).toLowerCase().includes(r.toLowerCase())}).slice(0,10)}}function Gb(a){return a&&a.length==1}function iu(a){return a.model.markers.has("mention")}L(98);var Yb=function(){function a(r){w(this,a),this.loader=r}return _(a,[{key:"upload",value:function(){var e=this;return new Promise(function(n,t){var i=e.reader=new window.FileReader;i.addEventListener("load",function(){n({default:i.result})}),i.addEventListener("error",function(o){t(o)}),i.addEventListener("abort",function(){t()}),e.loader.file.then(function(o){i.readAsDataURL(o)})})}},{key:"abort",value:function(){this.reader.abort()}}]),a}(),au=function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return e}(_c);au.builtinPlugins=[function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"requires",get:function(){return[mo,Ig,Bg,Rg,Yg,Qd]}},{key:"pluginName",get:function(){return"Essentials"}}]),e}(ut),qd,function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"afterInit",value:function(){this._addListAutoformats(),this._addBasicStylesAutoformats(),this._addHeadingAutoformats(),this._addBlockQuoteAutoformats(),this._addCodeBlockAutoformats()}},{key:"_addListAutoformats",value:function(){var t=this.editor.commands;t.get("bulletedList")&&new cs(this.editor,/^[*-]\s$/,"bulletedList"),t.get("numberedList")&&new cs(this.editor,/^1[.|)]\s$/,"numberedList")}},{key:"_addBasicStylesAutoformats",value:function(){var t=this.editor.commands;if(t.get("bold")){var i=tl(this.editor,"bold");new yo(this.editor,/(\*\*)([^*]+)(\*\*)$/g,i),new yo(this.editor,/(__)([^_]+)(__)$/g,i)}if(t.get("italic")){var o=tl(this.editor,"italic");new yo(this.editor,/(?:^|[^*])(\*)([^*_]+)(\*)$/g,o),new yo(this.editor,/(?:^|[^_])(_)([^_]+)(_)$/g,o)}if(t.get("code")){var s=tl(this.editor,"code");new yo(this.editor,/(`)([^`]+)(`)$/g,s)}if(t.get("strikethrough")){var l=tl(this.editor,"strikethrough");new yo(this.editor,/(~~)([^~]+)(~~)$/g,l)}}},{key:"_addHeadingAutoformats",value:function(){var t=this,i=this.editor.commands.get("heading");i&&i.modelElements.filter(function(o){return o.match(/^heading[1-6]$/)}).forEach(function(o){var s=o[7],l=new RegExp("^(#{".concat(s,"})\\s$"));new cs(t.editor,l,function(){if(!i.isEnabled)return!1;t.editor.execute("heading",{value:o})})})}},{key:"_addBlockQuoteAutoformats",value:function(){this.editor.commands.get("blockQuote")&&new cs(this.editor,/^>\s$/,"blockQuote")}},{key:"_addCodeBlockAutoformats",value:function(){this.editor.commands.get("codeBlock")&&new cs(this.editor,/^```$/,"codeBlock")}}],[{key:"pluginName",get:function(){return"Autoformat"}}]),e}(ut),function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"requires",get:function(){return[ip,ap]}},{key:"pluginName",get:function(){return"Bold"}}]),e}(ut),function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"requires",get:function(){return[op,sp]}},{key:"pluginName",get:function(){return"Italic"}}]),e}(ut),function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"requires",get:function(){return[cp,up]}},{key:"pluginName",get:function(){return"BlockQuote"}}]),e}(ut),function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"pluginName",get:function(){return"CKFinder"}},{key:"requires",get:function(){return[Np,dp,qd]}}]),e}(ut),function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"requires",get:function(){return[Sf,Nf,Wf]}},{key:"pluginName",get:function(){return"EasyImage"}}]),e}(ut),function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"requires",get:function(){return[cm,um]}},{key:"pluginName",get:function(){return"Heading"}}]),e}(ut),Nf,function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"requires",get:function(){return[fm]}},{key:"pluginName",get:function(){return"ImageCaption"}}]),e}(ut),function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"requires",get:function(){return[gm,pm]}},{key:"pluginName",get:function(){return"ImageStyle"}}]),e}(ut),function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"afterInit",value:function(){var t=this.editor,i=t.t;t.plugins.get(cl).register("image",{ariaLabel:i("Image toolbar"),items:t.config.get("image.toolbar")||[],getRelatedElement:Ic})}}],[{key:"requires",get:function(){return[cl]}},{key:"pluginName",get:function(){return"ImageToolbar"}}]),e}(ut),Wf,function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"pluginName",get:function(){return"Indent"}},{key:"requires",get:function(){return[mm,bm]}}]),e}(ut),function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"requires",get:function(){return[Of,_m]}},{key:"pluginName",get:function(){return"Link"}}]),e}(ut),function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"requires",get:function(){return[Im,jm]}},{key:"pluginName",get:function(){return"List"}}]),e}(ut),function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"requires",get:function(){return[ul,Vm,Lm,Uc]}},{key:"pluginName",get:function(){return"MediaEmbed"}}]),e}(ut),us,function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){var t=this.editor,i=t.editing.view.document,o=[];o.push(new Jm(i)),o.push(new Hm(i)),t.plugins.get("Clipboard").on("inputTransformation",function(s,l){if(!l.isTransformedWithPasteFromOffice){var c=l.dataTransfer.getData("text/html"),u=o.find(function(d){return d.isActive(c)});u&&(u.execute(l),l.isTransformedWithPasteFromOffice=!0)}},{priority:"high"})}}],[{key:"pluginName",get:function(){return"PasteFromOffice"}},{key:"requires",get:function(){return[mo]}}]),e}(ut),function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,null,[{key:"requires",get:function(){return[yb,xb,vl,Ob,Pb,Uc]}},{key:"pluginName",get:function(){return"Table"}}]),e}(ut),function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"afterInit",value:function(){var t=this.editor,i=t.t,o=t.plugins.get(cl),s=t.config.get("table.contentToolbar"),l=t.config.get("table.tableToolbar");s&&o.register("tableContent",{ariaLabel:i("Table toolbar"),items:s,getRelatedElement:qm}),l&&o.register("table",{ariaLabel:i("Table toolbar"),items:l,getRelatedElement:Xm})}}],[{key:"requires",get:function(){return[cl]}},{key:"pluginName",get:function(){return"TableToolbar"}}]),e}(ut),function(a){O(e,a);var r=D(e);function e(n){var t;return w(this,e),t=r.call(this,n),n.config.define("typing",{transformations:{include:Mb}}),t}return _(e,[{key:"init",value:function(){var t=this,i=this.editor.model.document.selection;i.on("change:range",function(){t.isEnabled=!i.anchor.parent.is("codeBlock")}),this._enableTransformationWatchers()}},{key:"_enableTransformationWatchers",value:function(){var t=this.editor,i=t.model,o=t.plugins.get("Input"),s=function(c){var u=c.extra||[],d=c.remove||[],h=function(m){return!d.includes(m)};return function(v){var m=new Set,k=p(v),E;try{for(k.s();!(E=k.n()).done;){var P=E.value;if(cv[P]){var U=p(cv[P]),H;try{for(U.s();!(H=U.n()).done;){var G=H.value;m.add(G)}}catch(Z){U.e(Z)}finally{U.f()}}else m.add(P)}}catch(Z){k.e(Z)}finally{k.f()}return Array.from(m)}(c.include.concat(u).filter(h)).filter(h).map(function(v){return Sb[v]||v}).map(function(v){return{from:Ib(v.from),to:jb(v.to)}})}(t.config.get("typing.transformations")),l=new ru(t.model,function(c){var u=p(s),d;try{for(u.s();!(d=u.n()).done;){var h=d.value;if(h.from.test(c))return{normalizedTransformation:h}}}catch(v){u.e(v)}finally{u.f()}});l.on("matched:data",function(c,u){if(!!o.isInput(u.batch)){var d=u.normalizedTransformation,h=d.from,v=d.to,m=h.exec(u.text),k=v(m.slice(1)),E=u.range,P=m.index;i.enqueueChange(function(U){for(var H=1;H<m.length;H++){var G=m[H],Z=k[H-1];if(Z==null){P+=G.length;continue}var ce=E.start.getShiftedBy(P),ye=i.createRange(ce,ce.getShiftedBy(G.length)),ke=Rb(ce);i.insertContent(U.createText(Z,ke),ye),P+=Z.length}})}}),l.bind("isEnabled").to(this)}}],[{key:"pluginName",get:function(){return"TextTransformation"}}]),e}(ut),function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"toMentionAttribute",value:function(t,i){return dv(t,i)}}],[{key:"pluginName",get:function(){return"Mention"}},{key:"requires",get:function(){return[Nb,Wb]}}]),e}(ut),function(a){a.conversion.for("upcast").elementToAttribute({view:{name:"span",key:"data-mention",classes:"mention",attributes:{href:!0,"data-user-id":!0}},model:{key:"mention",value:function(e){return a.plugins.get("Mention").toMentionAttribute(e,{link:e.getAttribute("href"),userId:e.getAttribute("data-user-id")})}},converterPriority:"high"}),a.conversion.for("downcast").attributeToElement({model:"mention",view:function(e,n){if(e)return n.createAttributeElement("span",{class:"mention","data-mention":e.name,"data-user-id":e.userId,href:e.link},{priority:20,id:e.uid})},converterPriority:"high"})},function(a){O(e,a);var r=D(e);function e(){return w(this,e),r.apply(this,arguments)}return _(e,[{key:"init",value:function(){this.editor.plugins.get(bi).createUploadAdapter=function(t){return new Yb(t)}}}],[{key:"requires",get:function(){return[bi]}},{key:"pluginName",get:function(){return"Base64UploadAdapter"}}]),e}(ut)],au.defaultConfig={toolbar:{items:["heading","|","bold","italic","link","bulletedList","numberedList","|","indent","outdent","|","imageUpload","blockQuote","insertTable","mediaEmbed","undo","redo"]},image:{toolbar:["imageStyle:full","imageStyle:side","|","imageTextAlternative"]},table:{contentToolbar:["tableColumn","tableRow","mergeTableCells"]},language:"en"}}]).default})},"w/wX":function($,W,f){var F=f("QqLw"),b=f("ExA7"),x="[object Set]";function j(S){return b(S)&&F(S)==x}$.exports=j},wME1:function($,W,f){"use strict";f.d(W,"p",function(){return F}),f.d(W,"n",function(){return b}),f.d(W,"o",function(){return x}),f.d(W,"g",function(){return j}),f.d(W,"i",function(){return S}),f.d(W,"b",function(){return B}),f.d(W,"j",function(){return R}),f.d(W,"e",function(){return C}),f.d(W,"q",function(){return p}),f.d(W,"h",function(){return V}),f.d(W,"k",function(){return w}),f.d(W,"l",function(){return _}),f.d(W,"r",function(){return O}),f.d(W,"a",function(){return D}),f.d(W,"m",function(){return se}),f.d(W,"f",function(){return A}),f.d(W,"d",function(){return Y}),f.d(W,"c",function(){return K});var F={"50":"#ffebee","100":"#ffcdd2","200":"#ef9a9a","300":"#e57373","400":"#ef5350","500":"#f44336","600":"#e53935","700":"#d32f2f","800":"#c62828","900":"#b71c1c",a100:"#ff8a80",a200:"#ff5252",a400:"#ff1744",a700:"#d50000"},b={"50":"#fce4ec","100":"#f8bbd0","200":"#f48fb1","300":"#f06292","400":"#ec407a","500":"#e91e63","600":"#d81b60","700":"#c2185b","800":"#ad1457","900":"#880e4f",a100:"#ff80ab",a200:"#ff4081",a400:"#f50057",a700:"#c51162"},x={"50":"#f3e5f5","100":"#e1bee7","200":"#ce93d8","300":"#ba68c8","400":"#ab47bc","500":"#9c27b0","600":"#8e24aa","700":"#7b1fa2","800":"#6a1b9a","900":"#4a148c",a100:"#ea80fc",a200:"#e040fb",a400:"#d500f9",a700:"#aa00ff"},j={"50":"#ede7f6","100":"#d1c4e9","200":"#b39ddb","300":"#9575cd","400":"#7e57c2","500":"#673ab7","600":"#5e35b1","700":"#512da8","800":"#4527a0","900":"#311b92",a100:"#b388ff",a200:"#7c4dff",a400:"#651fff",a700:"#6200ea"},S={"50":"#e8eaf6","100":"#c5cae9","200":"#9fa8da","300":"#7986cb","400":"#5c6bc0","500":"#3f51b5","600":"#3949ab","700":"#303f9f","800":"#283593","900":"#1a237e",a100:"#8c9eff",a200:"#536dfe",a400:"#3d5afe",a700:"#304ffe"},B={"50":"#e3f2fd","100":"#bbdefb","200":"#90caf9","300":"#64b5f6","400":"#42a5f5","500":"#2196f3","600":"#1e88e5","700":"#1976d2","800":"#1565c0","900":"#0d47a1",a100:"#82b1ff",a200:"#448aff",a400:"#2979ff",a700:"#2962ff"},R={"50":"#e1f5fe","100":"#b3e5fc","200":"#81d4fa","300":"#4fc3f7","400":"#29b6f6","500":"#03a9f4","600":"#039be5","700":"#0288d1","800":"#0277bd","900":"#01579b",a100:"#80d8ff",a200:"#40c4ff",a400:"#00b0ff",a700:"#0091ea"},C={"50":"#e0f7fa","100":"#b2ebf2","200":"#80deea","300":"#4dd0e1","400":"#26c6da","500":"#00bcd4","600":"#00acc1","700":"#0097a7","800":"#00838f","900":"#006064",a100:"#84ffff",a200:"#18ffff",a400:"#00e5ff",a700:"#00b8d4"},p={"50":"#e0f2f1","100":"#b2dfdb","200":"#80cbc4","300":"#4db6ac","400":"#26a69a","500":"#009688","600":"#00897b","700":"#00796b","800":"#00695c","900":"#004d40",a100:"#a7ffeb",a200:"#64ffda",a400:"#1de9b6",a700:"#00bfa5"},V={"50":"#e8f5e9","100":"#c8e6c9","200":"#a5d6a7","300":"#81c784","400":"#66bb6a","500":"#4caf50","600":"#43a047","700":"#388e3c","800":"#2e7d32","900":"#1b5e20",a100:"#b9f6ca",a200:"#69f0ae",a400:"#00e676",a700:"#00c853"},w={"50":"#f1f8e9","100":"#dcedc8","200":"#c5e1a5","300":"#aed581","400":"#9ccc65","500":"#8bc34a","600":"#7cb342","700":"#689f38","800":"#558b2f","900":"#33691e",a100:"#ccff90",a200:"#b2ff59",a400:"#76ff03",a700:"#64dd17"},_={"50":"#f9fbe7","100":"#f0f4c3","200":"#e6ee9c","300":"#dce775","400":"#d4e157","500":"#cddc39","600":"#c0ca33","700":"#afb42b","800":"#9e9d24","900":"#827717",a100:"#f4ff81",a200:"#eeff41",a400:"#c6ff00",a700:"#aeea00"},O={"50":"#fffde7","100":"#fff9c4","200":"#fff59d","300":"#fff176","400":"#ffee58","500":"#ffeb3b","600":"#fdd835","700":"#fbc02d","800":"#f9a825","900":"#f57f17",a100:"#ffff8d",a200:"#ffff00",a400:"#ffea00",a700:"#ffd600"},D={"50":"#fff8e1","100":"#ffecb3","200":"#ffe082","300":"#ffd54f","400":"#ffca28","500":"#ffc107","600":"#ffb300","700":"#ffa000","800":"#ff8f00","900":"#ff6f00",a100:"#ffe57f",a200:"#ffd740",a400:"#ffc400",a700:"#ffab00"},se={"50":"#fff3e0","100":"#ffe0b2","200":"#ffcc80","300":"#ffb74d","400":"#ffa726","500":"#ff9800","600":"#fb8c00","700":"#f57c00","800":"#ef6c00","900":"#e65100",a100:"#ffd180",a200:"#ffab40",a400:"#ff9100",a700:"#ff6d00"},A={"50":"#fbe9e7","100":"#ffccbc","200":"#ffab91","300":"#ff8a65","400":"#ff7043","500":"#ff5722","600":"#f4511e","700":"#e64a19","800":"#d84315","900":"#bf360c",a100:"#ff9e80",a200:"#ff6e40",a400:"#ff3d00",a700:"#dd2c00"},Y={"50":"#efebe9","100":"#d7ccc8","200":"#bcaaa4","300":"#a1887f","400":"#8d6e63","500":"#795548","600":"#6d4c41","700":"#5d4037","800":"#4e342e","900":"#3e2723"},L={"50":"#fafafa","100":"#f5f5f5","200":"#eeeeee","300":"#e0e0e0","400":"#bdbdbd","500":"#9e9e9e","600":"#757575","700":"#616161","800":"#424242","900":"#212121"},K={"50":"#eceff1","100":"#cfd8dc","200":"#b0bec5","300":"#90a4ae","400":"#78909c","500":"#607d8b","600":"#546e7a","700":"#455a64","800":"#37474f","900":"#263238"},y={primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.54)",disabled:"rgba(0, 0, 0, 0.38)",dividers:"rgba(0, 0, 0, 0.12)"},ne={primary:"rgba(255, 255, 255, 1)",secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",dividers:"rgba(255, 255, 255, 0.12)"},Ae={active:"rgba(0, 0, 0, 0.54)",inactive:"rgba(0, 0, 0, 0.38)"},me={active:"rgba(255, 255, 255, 1)",inactive:"rgba(255, 255, 255, 0.5)"},de="#ffffff",Ye="#000000",rt={red:F,pink:b,purple:x,deepPurple:j,indigo:S,blue:B,lightBlue:R,cyan:C,teal:p,green:V,lightGreen:w,lime:_,yellow:O,amber:D,orange:se,deepOrange:A,brown:Y,grey:L,blueGrey:K,darkText:y,lightText:ne,darkIcons:Ae,lightIcons:me,white:de,black:Ye}},wUu8:function($,W,f){"use strict";var F=f("q1tI"),b=f.n(F),x=b.a.createContext({});W.a=x},wrZu:function($,W,f){var F=f("+K+b"),b=f("XYm9"),x=f("b2z7"),j=f("otv/"),S=f("yP5f"),B="[object Boolean]",R="[object Date]",C="[object Map]",p="[object Number]",V="[object RegExp]",w="[object Set]",_="[object String]",O="[object Symbol]",D="[object ArrayBuffer]",se="[object DataView]",A="[object Float32Array]",Y="[object Float64Array]",L="[object Int8Array]",K="[object Int16Array]",y="[object Int32Array]",ne="[object Uint8Array]",Ae="[object Uint8ClampedArray]",me="[object Uint16Array]",de="[object Uint32Array]";function Ye(rt,Tt,$e){var et=rt.constructor;switch(Tt){case D:return F(rt);case B:case R:return new et(+rt);case se:return b(rt,$e);case A:case Y:case L:case K:case y:case ne:case Ae:case me:case de:return S(rt,$e);case C:return new et;case p:case _:return new et(rt);case V:return x(rt);case w:return new et;case O:return j(rt)}}$.exports=Ye},x49D:function($,W){function f(F){if(F===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return F}$.exports=f},xEw5:function($,W,f){},xbqb:function($,W){function f(F,b){if(!(F instanceof b))throw new TypeError("Cannot call a class as a function")}$.exports=f},xutz:function($,W,f){"use strict";(function(F){var b=f("XqMk"),x=typeof exports=="object"&&exports&&!exports.nodeType&&exports,j=x&&typeof F=="object"&&F&&!F.nodeType&&F,S=j&&j.exports===x,B=S&&b.a.process,R=function(){try{var C=j&&j.require&&j.require("util").types;return C||B&&B.binding&&B.binding("util")}catch(p){}}();W.a=R}).call(this,f("Vg/k")($))},xzDV:function($,W,f){},yHx3:function($,W){var f=Object.prototype,F=f.hasOwnProperty;function b(x){var j=x.length,S=new x.constructor(j);return j&&typeof x[0]=="string"&&F.call(x,"index")&&(S.index=x.index,S.input=x.input),S}$.exports=b},yP5f:function($,W,f){var F=f("+K+b");function b(x,j){var S=j?F(x.buffer):x.buffer;return new x.constructor(S,x.byteOffset,x.length)}$.exports=b},yeZT:function($,W,f){"use strict";f.d(W,"a",function(){return qe}),f.d(W,"c",function(){return Et}),f.d(W,"d",function(){return Q}),f.d(W,"e",function(){return Oe});var F=f("T2oS"),b=f("W9HT"),x=f("wx14"),j=f("rePB"),S=f("o0o1"),B=f.n(S),R=f("HaE+"),C=f("VTBJ"),p=f("Ff2n"),V=f("ODXe"),w=f("U8pU"),_=f("KQm4"),O=f("GNNt"),D=f("wEI+"),se=f("DYRE"),A=f("zeV3"),Y=f("q1tI"),L=f.n(Y),K=f("9mHw"),y=f("g5r2"),ne=f("HBdL"),Ae=f("Lpa7"),me=f("LQCs"),de=f("OaEy"),Ye=f("2fM7"),rt=f("5NDa"),Tt=f("5rEg"),$e=f("l+S1"),et=f("TSYQ"),Rt=f.n(et),Vt=f("iGn7"),Ge=f("jkmW"),Me=["label","prefixCls","onChange","value","mode","children","defaultValue","size","showSearch","disabled","style","className","bordered","options","onSearch","allowClear","labelInValue"],Qe=function(oe,Pe){return Object(w.a)(Pe)!=="object"?oe[Pe]||Pe:oe[Pe==null?void 0:Pe.value]||Pe.label},Ie=function(oe,Pe){var Le=oe.label,Ve=oe.prefixCls,We=oe.onChange,st=oe.value,St=oe.mode,dt=oe.children,kt=oe.defaultValue,ct=oe.size,Dt=oe.showSearch,Gt=oe.disabled,Ct=oe.style,zt=oe.className,Xt=oe.bordered,Jt=oe.options,Pn=oe.onSearch,fn=oe.allowClear,yn=oe.labelInValue,gn=Object(p.a)(oe,Me),zn=oe.placeholder,Ln=zn===void 0?Le:zn,Mn=Object(Y.useContext)(D.b.ConfigContext),Hn=Mn.getPrefixCls,Bn=Hn("pro-field-select-light-select"),Yn=Object(Y.useState)(!1),nr=Object(V.a)(Yn,2),An=nr[0],pn=nr[1],Ce=Object(Y.useState)(""),_e=Object(V.a)(Ce,2),ze=_e[0],At=_e[1],Lt=Object(Y.useMemo)(function(){var _t={};return Jt==null||Jt.forEach(function(sn){var Nt=sn.label,kn=sn.value;_t[kn]=Nt||kn}),_t},[Jt]),qt=Array.isArray(st)?st.map(function(_t){return Qe(Lt,_t)}):Qe(Lt,st);return L.a.createElement("div",{className:Rt()(Bn,Object(j.a)({},"".concat(Bn,"-searchable"),Dt),zt),style:Ct,onClick:function(){Gt||pn(!0)}},L.a.createElement(Ye.a,Object(x.a)({},gn,{allowClear:fn,value:st,mode:St,labelInValue:yn,size:ct,disabled:Gt,onChange:function(sn,Nt){We==null||We(sn,Nt),St!=="multiple"&&setTimeout(function(){pn(!1)},0)},bordered:Xt,showSearch:Dt,onSearch:Pn,style:Ct,dropdownRender:function(sn){return L.a.createElement("div",{ref:Pe},Dt&&L.a.createElement("div",{style:{margin:"4px 8px"}},L.a.createElement(Tt.a,{value:ze,allowClear:fn,onChange:function(kn){At(kn.target.value.toLowerCase()),Pn==null||Pn(kn.target.value)},onKeyDown:function(kn){kn.stopPropagation()},style:{width:"100%"},prefix:L.a.createElement($e.a,null)})),sn)},open:An,onDropdownVisibleChange:pn,prefixCls:Ve,options:ze?Jt==null?void 0:Jt.filter(function(_t){return String(_t.label).toLowerCase().includes(ze)||_t.value.toLowerCase().includes(ze)}):Jt})),L.a.createElement(Vt.a,{ellipsis:!0,size:ct,label:Le,placeholder:Ln,disabled:Gt,expanded:An,bordered:Xt,allowClear:fn,value:qt||(st==null?void 0:st.label)||st,onClear:function(){We==null||We(void 0,void 0)}}))},Ot=L.a.forwardRef(Ie),ot=["optionItemRender","mode","onSearch","onFocus","onChange","autoClearSearchValue","searchOnFocus","resetAfterSelect","optionFilterProp","optionLabelProp","className","disabled","options","fetchData","resetData","prefixCls","onClear","searchValue","showSearch"],ht=Ye.a.Option,Pt=Ye.a.OptGroup,it=function(oe,Pe){var Le=oe.optionItemRender,Ve=oe.mode,We=oe.onSearch,st=oe.onFocus,St=oe.onChange,dt=oe.autoClearSearchValue,kt=oe.searchOnFocus,ct=kt===void 0?!1:kt,Dt=oe.resetAfterSelect,Gt=Dt===void 0?!1:Dt,Ct=oe.optionFilterProp,zt=Ct===void 0?"label":Ct,Xt=oe.optionLabelProp,Jt=Xt===void 0?"label":Xt,Pn=oe.className,fn=oe.disabled,yn=oe.options,gn=oe.fetchData,zn=oe.resetData,Ln=oe.prefixCls,Mn=oe.onClear,Hn=oe.searchValue,Bn=oe.showSearch,Yn=Object(p.a)(oe,ot),nr=Object(Y.useState)(Hn),An=Object(V.a)(nr,2),pn=An[0],Ce=An[1],_e=Object(Y.useRef)();Object(Y.useImperativeHandle)(Pe,function(){return _e.current}),Object(Y.useEffect)(function(){if(Yn.autoFocus){var Nt;_e==null||(Nt=_e.current)===null||Nt===void 0||Nt.focus()}},[Yn.autoFocus]),Object(Y.useEffect)(function(){Ce(Hn)},[Hn]);var ze=Object(Y.useContext)(D.b.ConfigContext),At=ze.getPrefixCls,Lt=At("pro-filed-search-select",Ln),qt=Rt()(Lt,Pn,Object(j.a)({},"".concat(Lt,"-disabled"),fn)),_t=function(kn,Yt){return Array.isArray(kn)&&kn.length>0?kn.map(function(_n,ln){var Zn=Yt==null?void 0:Yt[ln],lr=(Zn==null?void 0:Zn["data-item"])||{};return Object(C.a)(Object(C.a)({},lr),_n)}):[]},sn=function Nt(kn){return kn.map(function(Yt){var _n=Yt.label,ln=Yt.value,Zn=Yt.disabled,lr=Yt.className,pr=Yt.optionType;return pr==="optGroup"?L.a.createElement(Pt,{key:Yt.key||Yt.value,label:Yt.label},Nt((Yt==null?void 0:Yt.options)||(Yt==null?void 0:Yt.children)||[])):L.a.createElement(ht,Object(x.a)({},Yt,{value:ln,key:ln||(_n==null?void 0:_n.toString()),disabled:Zn,"data-item":Yt,className:"".concat(Lt,"-option ").concat(lr||""),label:Yt.label}),(Le==null?void 0:Le(Yt))||_n)})};return L.a.createElement(Ye.a,Object(x.a)({ref:_e,className:qt,allowClear:!0,disabled:fn,mode:Ve,showSearch:Bn,searchValue:pn,optionFilterProp:zt,optionLabelProp:Jt,onClear:function(){Mn==null||Mn(),gn(""),Bn&&Ce("")}},Yn,{onSearch:Bn?function(Nt){gn(Nt),We==null||We(Nt),Ce(Nt)}:void 0,onChange:function(kn,Yt){Bn&&dt&&(gn(""),We==null||We(""),Ce(""));for(var _n=arguments.length,ln=new Array(_n>2?_n-2:0),Zn=2;Zn<_n;Zn++)ln[Zn-2]=arguments[Zn];if(!oe.labelInValue){St==null||St.apply(void 0,[kn,Yt].concat(ln));return}if(Ve!=="multiple"){var lr=Yt&&Yt["data-item"]||{};St==null||St.apply(void 0,[Object(C.a)(Object(C.a)({},kn),lr),Yt].concat(ln));return}var pr=_t(kn,Yt);St==null||St.apply(void 0,[pr,Yt].concat(ln)),Gt&&zn()},onFocus:function(kn){ct&&gn(""),st==null||st(kn)}}),sn(yn||[]))},ge=L.a.forwardRef(it),yt=f("NYcB"),It=f("SmY/"),dn=["value","text"],wn=["mode","valueEnum","render","renderFormItem","request","fieldProps","plain","children","light","proFieldKey","params","label","bordered","id"],Kt=0,qe=function(oe){return J(oe)==="map"?oe:new Map(Object.entries(oe||{}))},Et=function ve(oe,Pe){if(Array.isArray(oe))return L.a.createElement(A.b,null,oe.map(function(dt){return L.a.createElement(L.a.Fragment,{key:(dt==null?void 0:dt.value)||dt},ve(dt,Pe))}));var Le=qe(Pe);if(!Le.has(oe)&&!Le.has("".concat(oe)))return(oe==null?void 0:oe.label)||oe;var Ve=Le.get(oe)||Le.get("".concat(oe));if(!Ve)return(oe==null?void 0:oe.label)||oe;var We=Ve.status,st=Ve.color,St=yt.b[We||"Init"];return St?L.a.createElement(St,null,Ve.text):st?L.a.createElement(yt.a,{color:st},Ve.text):Ve.text||Ve},$t=function(oe){var Pe=oe.label,Le=oe.words,Ve=".^$*+-?()[]{}\\|",We=Object(Y.useContext)(D.b.ConfigContext),st=We.getPrefixCls,St=st("pro-select-item-option-content-light"),dt=st("pro-select-item-option-content"),kt=new RegExp(Le.map(function(Gt){return Gt.split("").map(function(Ct){return Ve.includes(Ct)?"\\".concat(Ct):Ct}).join("")}).join("|"),"gi"),ct=Pe.replace(kt,"#@$&#"),Dt=ct.split("#").map(function(Gt){return Gt[0]==="@"?L.a.createElement("span",{className:St},Gt.slice(1)):Gt});return L.a.createElement.apply(L.a,["div",{className:dt}].concat(Object(_.a)(Dt)))};function J(ve){var oe=Object.prototype.toString.call(ve).match(/^\[object (.*)\]$/)[1].toLowerCase();return oe==="string"&&Object(w.a)(ve)==="object"?"object":ve===null?"null":ve===void 0?"undefined":oe}function te(ve,oe){var Pe,Le;if(!oe||(ve==null||(Pe=ve.label)===null||Pe===void 0?void 0:Pe.toString().toLowerCase().includes(oe.toLowerCase()))||(ve==null||(Le=ve.value)===null||Le===void 0?void 0:Le.toString().toLowerCase().includes(oe.toLowerCase())))return!0;if(ve.optionType==="optGroup"&&(ve.children||ve.options)){var Ve=[].concat(Object(_.a)(ve.children||[]),[ve.options||[]]).find(function(We){return te(We,oe)});if(Ve)return!0}return!1}var Q=function(oe){var Pe=[],Le=qe(oe);return Le.forEach(function(Ve,We){var st=Le.get(We)||Le.get("".concat(We));if(!!st){if(Object(w.a)(st)==="object"&&(st==null?void 0:st.text)){Pe.push({text:st==null?void 0:st.text,value:We,disabled:st.disabled});return}Pe.push({text:st,value:We})}}),Pe},Oe=function(oe){var Pe,Le,Ve,We=Object(Y.useState)(void 0),st=Object(V.a)(We,2),St=st[0],dt=st[1],kt=Object(Y.useState)(function(){return oe.proFieldKey?oe.proFieldKey.toString():oe.request?(Kt+=1,Kt.toString()):"no-fetch"}),ct=Object(V.a)(kt,1),Dt=ct[0],Gt=Object(Y.useRef)(Dt),Ct=Object(Y.useCallback)(function(An){return Q(qe(An)).map(function(pn){var Ce=pn.value,_e=pn.text,ze=Object(p.a)(pn,dn);return Object(C.a)({label:_e,value:Ce,key:Ce},ze)})},[]),zt=Object(K.a)(function(){return oe.valueEnum?Ct(oe.valueEnum):[]},{value:(Pe=oe.fieldProps)===null||Pe===void 0?void 0:Pe.options}),Xt=Object(V.a)(zt,2),Jt=Xt[0],Pn=Xt[1];Object(y.a)(function(){var An;!oe.valueEnum||((An=oe.fieldProps)===null||An===void 0?void 0:An.options)||Pn(Ct(oe.valueEnum))},[oe.valueEnum]);var fn=Object(K.a)(!1),yn=Object(V.a)(fn,2),gn=yn[0],zn=yn[1],Ln=Object(ne.a)(function(){var An=Object(R.a)(B.a.mark(function pn(Ce){var _e;return B.a.wrap(function(At){for(;;)switch(At.prev=At.next){case 0:if(oe.request){At.next=2;break}return At.abrupt("return",[]);case 2:return zn(!0),At.next=5,oe.request(Ce,oe);case 5:return _e=At.sent,zn(!1),At.abrupt("return",_e);case 8:case"end":return At.stop()}},pn)}));return function(pn){return An.apply(this,arguments)}}(),[],(Le=oe.debounceTime)!==null&&Le!==void 0?Le:10),Mn=Ln.run,Hn=Object(Ae.b)(function(){return oe.request?[Gt.current,oe.params,St]:null},function(An,pn,Ce){return Mn(Object(C.a)(Object(C.a)({},pn),{},{keyWords:Ce}))},{revalidateOnFocus:!1,shouldRetryOnError:!1,revalidateOnReconnect:!1}),Bn=Hn.data,Yn=Hn.mutate,nr=Object(Y.useMemo)(function(){var An,pn,Ce=Jt==null?void 0:Jt.map(function(_e){if(typeof _e=="string")return{label:_e,value:_e};if((_e==null?void 0:_e.optionType)==="optGroup"&&(_e.children||_e.options)){var ze=[].concat(Object(_.a)(_e.children||[]),Object(_.a)(_e.options||[])).filter(function(At){return te(At,St)});return Object(C.a)(Object(C.a)({},_e),{},{children:ze,options:ze})}return _e});return((An=oe.fieldProps)===null||An===void 0?void 0:An.filterOption)===!0||((pn=oe.fieldProps)===null||pn===void 0?void 0:pn.filterOption)===void 0?Ce==null?void 0:Ce.filter(function(_e){return _e?St?te(_e,St):!0:!1}):Ce},[Jt,St,(Ve=oe.fieldProps)===null||Ve===void 0?void 0:Ve.filterOption]);return[gn,oe.request?Bn:nr,function(An){dt(An),Yn()},function(){dt(void 0),Yn([],!1)}]},we=function(oe,Pe){var Le=oe.mode,Ve=oe.valueEnum,We=oe.render,st=oe.renderFormItem,St=oe.request,dt=oe.fieldProps,kt=oe.plain,ct=oe.children,Dt=oe.light,Gt=oe.proFieldKey,Ct=oe.params,zt=oe.label,Xt=oe.bordered,Jt=oe.id,Pn=Object(p.a)(oe,wn),fn=Object(Y.useRef)(),yn=Object(me.d)(),gn=Object(Y.useRef)("");Object(Y.useEffect)(function(){Kt+=1},[]),Object(Y.useEffect)(function(){gn.current=dt==null?void 0:dt.searchValue},[dt==null?void 0:dt.searchValue]);var zn=Oe(oe),Ln=Object(V.a)(zn,4),Mn=Ln[0],Hn=Ln[1],Bn=Ln[2],Yn=Ln[3],nr=Object(Y.useContext)(D.b.SizeContext);if(Object(Y.useImperativeHandle)(Pe,function(){return Object(C.a)(Object(C.a)({},fn.current||{}),{},{fetchData:function(){return Bn()}})}),Le==="read"){var An,pn=(Hn==null?void 0:Hn.length)?Hn==null?void 0:Hn.reduce(function(Lt,qt){return Object(C.a)(Object(C.a)({},Lt),{},Object(j.a)({},qt.value,qt.label))},{}):void 0;if((An=Pn.text)===null||An===void 0?void 0:An.label){var Ce;return(Ce=Pn.text)===null||Ce===void 0?void 0:Ce.label}var _e=L.a.createElement(L.a.Fragment,null,Et(Pn.text,qe(Ve||pn)));return We?We(Pn.text,Object(C.a)({mode:Le},dt),_e)||null:_e}if(Le==="edit"||Le==="update"){var ze=function(){return Dt?L.a.createElement(Ot,Object(x.a)({bordered:Xt,id:Jt,loading:Mn,ref:fn,allowClear:!0,size:nr,options:Hn,label:zt,placeholder:yn.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9")},dt)):L.a.createElement(ge,Object(x.a)({key:"SearchSelect",style:{minWidth:100},bordered:Xt,id:Jt,loading:Mn,ref:fn,allowClear:!0,notFoundContent:Mn?L.a.createElement(b.a,{size:"small"}):dt==null?void 0:dt.notFoundContent,fetchData:function(_t){gn.current=_t,Bn(_t)},resetData:Yn,optionItemRender:function(_t){return typeof _t.label=="string"&&gn.current?L.a.createElement($t,{label:_t.label,words:[gn.current]}):_t.label},placeholder:yn.getMessage("tableForm.selectPlaceholder","\u8BF7\u9009\u62E9"),label:zt},dt,{options:Hn}))},At=ze();return st?st(Pn.text,Object(C.a)(Object(C.a)({mode:Le},dt),{},{options:Hn}),At)||null:At}return null},Fe=W.b=L.a.forwardRef(we)},"yj/a":function($,W,f){"use strict";var F=f("wx14"),b=f("VTBJ"),x=f("Ff2n"),j=f("q1tI"),S=f.n(j),B=f("adzw"),R=f("uX+g"),C=f("lS/g"),p=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","showSearch","options"],V=["fieldProps","children","params","proFieldProps","mode","valueEnum","request","options"],w=S.a.forwardRef(function(A,Y){var L=A.fieldProps,K=A.children,y=A.params,ne=A.proFieldProps,Ae=A.mode,me=A.valueEnum,de=A.request,Ye=A.showSearch,rt=A.options,Tt=Object(x.a)(A,p),$e=Object(j.useContext)(C.a);return S.a.createElement(B.a,Object(F.a)({mode:"edit",valueEnum:Object(R.a)(me),request:de,params:y,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(b.a)({options:rt,mode:Ae,showSearch:Ye,getPopupContainer:$e.getPopupContainer},L),ref:Y,proFieldProps:ne},Tt),K)}),_=S.a.forwardRef(function(A,Y){var L=A.fieldProps,K=A.children,y=A.params,ne=A.proFieldProps,Ae=A.mode,me=A.valueEnum,de=A.request,Ye=A.options,rt=Object(x.a)(A,V),Tt=Object(b.a)({options:Ye,mode:Ae||"multiple",labelInValue:!0,showSearch:!0,showArrow:!1,autoClearSearchValue:!0,optionLabelProp:"label"},L),$e=Object(j.useContext)(C.a);return S.a.createElement(B.a,Object(F.a)({mode:"edit",valueEnum:Object(R.a)(me),request:de,params:y,valueType:"select",filedConfig:{customLightMode:!0},fieldProps:Object(b.a)({getPopupContainer:$e.getPopupContainer},Tt),ref:Y,proFieldProps:ne},rt),K)}),O=w,D=_,se=O;se.SearchSelect=D,se.displayName="ProFormComponent",W.a=se},ylTp:function($,W,f){"use strict";var F=f("Ju5/"),b=F.a.Symbol;W.a=b},"z01/":function($,W){function f(F){return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?$.exports=f=function(x){return typeof x}:$.exports=f=function(x){return x&&typeof Symbol=="function"&&x.constructor===Symbol&&x!==Symbol.prototype?"symbol":typeof x},f(F)}$.exports=f},zEVN:function($,W,f){var F=f("Gi0A"),b=f("sEf8"),x=f("mdPL"),j=x&&x.isMap,S=j?b(j):F;$.exports=S},zZ0H:function($,W){function f(F){return F}$.exports=f}}]);
