(window.webpackJsonp=window.webpackJsonp||[]).push([[23],{"5tKr":function(U,m,e){"use strict";e.d(m,"b",function(){return _}),e.d(m,"a",function(){return l});var M=e("k1fw"),f=e("9og8"),C=e("WmNS"),i=e.n(C),g=e("9kvl");function _(d,r){return P.apply(this,arguments)}function P(){return P=Object(f.a)(i.a.mark(function d(r,n){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(g.f)("/api/admin/scorm",Object(M.a)({params:Object(M.a)(Object(M.a)({},r),{},{per_page:r.pageSize,page:r.current}),method:"GET",useCache:!1},n||{})));case 1:case"end":return a.stop()}},d)})),P.apply(this,arguments)}function l(d,r){return E.apply(this,arguments)}function E(){return E=Object(f.a)(i.a.mark(function d(r,n){return i.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.abrupt("return",Object(g.f)("/api/admin/scorm/".concat(r),Object(M.a)({method:"DELETE"},n||{})));case 1:case"end":return a.stop()}},d)})),E.apply(this,arguments)}},"DBJ/":function(U,m,e){"use strict";var M=e("y8nQ"),f=e("Vl3Y"),C=e("etVw"),i=e("q1tI"),g=e.n(i),_=e("9kvl"),P=function(r){var n=r.condition,u=r.children,a=r.wrap;return n?g.a.cloneElement(a(u)):u},l=e("nKUr"),E=function(n){var u=n.onChange,a=n.url,I=n.name,o=n.extra,x=n.accept,s=n.data,b=n.wrapInForm,A=b===void 0?!0:b,B=Object(_.i)();return s&&s[I]&&delete s[I],Object(l.jsx)(P,{condition:A,wrap:function(L){return Object(l.jsx)(f.a,{children:L})},children:Object(l.jsx)(C.a,{title:Object(l.jsx)(_.a,{id:"upload_click_here"}),placeholder:B.formatMessage({id:"upload_click_here"}),onChange:u,label:Object(l.jsx)(_.a,{id:"upload"}),max:2,fieldProps:{data:s,accept:x,name:I,headers:{Authorization:"Bearer ".concat(localStorage.getItem("TOKEN"))}},action:"".concat("https://api-stage.escolalms.com").concat(a),extra:o})})},d=m.a=E},JGo8:function(U,m,e){},"RY+t":function(U,m,e){"use strict";var M=e("DBJ/"),f=e("q1tI"),C=e.n(f),i=e("nKUr"),g=e.n(i),_=function(l){var E=l.onSuccess,d=l.onError;return Object(i.jsx)(M.a,{url:"/api/admin/scorm/upload",name:"zip",accept:"application/zip",onChange:function(n){if(n.file.response){var u=n.file.response.response;u.success?E(u.data.model):d(u)}}})};m.a=_},etVw:function(U,m,e){"use strict";var M=e("EFp3"),f=e("JGo8"),C=e("+L6B"),i=e("MXD1"),g=e("5Dmo"),_=e("8z0m"),P=e("2/Rp"),l=e("wx14"),E=e("q1tI"),d=e.n(E),r=e("z7Xi"),n=e("WFLz"),u=function(o,x){var s=o.fieldProps,b=o.name,A=o.action,B=o.accept,t=o.listType,L=o.title,K=L===void 0?"\u5355\u51FB\u4E0A\u4F20":L,W=o.max,R=o.icon,O=R===void 0?d.a.createElement(r.a,null):R,j=o.value,S=o.buttonProps,c=o.onChange,h=o.disabled,v=o.proFieldProps,p=o.fileList,D=(W===void 0||!j||(j==null?void 0:j.length)<W)&&(v==null?void 0:v.mode)!=="read",F=(t!=null?t:s==null?void 0:s.listType)==="picture-card";return d.a.createElement(_.a,Object(l.a)({action:A,accept:B,ref:x,name:b||"file",listType:t||"picture",fileList:p!=null?p:j},s,{onChange:function(z){var y;c==null||c(z),s==null||(y=s.onChange)===null||y===void 0||y.call(s,z)}}),D&&(F?d.a.createElement("span",null,O," ",K):d.a.createElement(P.a,Object(l.a)({disabled:h||(s==null?void 0:s.disabled)},S),O,K)))},a=m.a=Object(n.a)(d.a.forwardRef(u),{getValueFromEvent:function(o){return o.fileList}})},"w76+":function(U,m,e){"use strict";e.r(m);var M=e("P2fV"),f=e("NJEC"),C=e("5Dmo"),i=e("3S7+"),g=e("+L6B"),_=e("2/Rp"),P=e("miYZ"),l=e("tsqr"),E=e("9og8"),d=e("WmNS"),r=e.n(d),n=e("q1tI"),u=e.n(n),a=e("9kvl"),I=e("55Ip"),o=e("tMyG"),x=e("Qiat"),s=e("Dx9A"),b=e("/MfK"),A=e("5tKr"),B=e("RY+t"),t=e("nKUr"),L=e.n(t),K=function(){var R=Object(E.a)(r.a.mark(function O(j){return r.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,Object(A.a)(j);case 2:return c.abrupt("return",!0);case 3:case"end":return c.stop()}},O)}));return function(j){return R.apply(this,arguments)}}(),W=function(){var O=Object(n.useRef)(),j=Object(a.i)(),S=[{title:Object(t.jsx)(a.a,{id:"ID",defaultMessage:"ID"}),dataIndex:"id",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"version",defaultMessage:"version"}),dataIndex:"version",hideInSearch:!0},{title:Object(t.jsx)(a.a,{id:"newScorm",defaultMessage:"New Scorm"}),dataIndex:"upload",hideInSearch:!1,hideInTable:!0,renderFormItem:function(){return[Object(t.jsx)(B.a,{onSuccess:function(){O.current&&O.current.reload(),l.default.success(Object(t.jsx)(a.a,{id:"scorm_uploaded",defaultMessage:"scorm uploaded"}))},onError:function(v){return l.default.error(v)}})]}},{title:Object(t.jsx)(a.a,{id:"SCOS",defaultMessage:"Sharable Content Objects"}),dataIndex:"SCOS",hideInSearch:!0,render:function(h,v){return[v.scos.map(function(p){return Object(t.jsx)(I.a,{to:"/scorms/preview/".concat(p.uuid),children:Object(t.jsx)(i.a,{title:Object(t.jsx)(a.a,{id:"preview",defaultMessage:"preview"}),children:Object(t.jsx)(_.a,{size:"small",icon:Object(t.jsx)(s.a,{}),type:"primary",children:p.title})})},p.uuid)})]}},{hideInSearch:!0,title:Object(t.jsx)(a.a,{id:"pages.searchTable.titleOption",defaultMessage:"\u64CD\u4F5C"}),dataIndex:"option",valueType:"option",render:function(h,v){return[Object(t.jsx)(f.a,{title:Object(t.jsx)(a.a,{id:"deleteQuestion",defaultMessage:"Are you sure to delete this record?"}),onConfirm:Object(E.a)(r.a.mark(function p(){var D;return r.a.wrap(function(T){for(;;)switch(T.prev=T.next){case 0:return T.next=2,K(v.id);case 2:D=T.sent,D&&O.current&&O.current.reload();case 4:case"end":return T.stop()}},p)})),okText:Object(t.jsx)(a.a,{id:"yes",defaultMessage:"Yes"}),cancelText:Object(t.jsx)(a.a,{id:"no",defaultMessage:"No"}),children:Object(t.jsx)(i.a,{title:Object(t.jsx)(a.a,{id:"delete",defaultMessage:"delete"}),children:Object(t.jsx)(_.a,{type:"primary",icon:Object(t.jsx)(b.a,{}),danger:!0})})},"delete")]}}];return Object(t.jsx)(o.a,{children:Object(t.jsx)(x.a,{headerTitle:j.formatMessage({id:"scorms",defaultMessage:"scorms"}),actionRef:O,rowKey:"id",search:{labelWidth:120},request:function(h){var v=h.pageSize,p=h.current;return Object(A.b)({pageSize:v,current:p}).then(function(D){return D.success?{data:D.data.data,total:D.data.total,success:!0}:[]})},columns:S})})};m.default=W}}]);
